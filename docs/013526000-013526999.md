# StackOverflow 问答 13526000-13526999

# java - 如何制作一个使用 AutoCloseable 并支持 Java 6 的库

> ID：13526007
> 
> 赞同：6
> 
> 时间：2012-11-23T09:20:52.000
> 
> 标签：java

我正在为 Java 开发人员制作一个库。我想创建一个实现 AutoCloseable 接口的类，以防开发人员使用 Java 7。但我还需要为面向 Android（不支持 AutoCloseable）的开发人员提供一个没有 AutoCloseable 接口的类版本。

在这两种情况下，我的班级名称必须相同。

一种解决方案是预处理器，但我的目标是开发人员，不能指望他们采用任何非标准的预处理器。

那么，根据 Java 版本支持同一类的两个版本的最佳实践是什么？

谢谢！

-- 更新澄清：
两个版本的完整源代码的唯一区别是“实现 AutoCloseable”这两个词：
public class Transaction { ...
或
public class Transaction implements AutoCloseable {...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:27:28.987

1.  制作 AutoCloseable 的反向移植

2.  使用 backport 而不是真实的东西来制作你的库的第二个版本

3.  要么通过实际将其作为两个工件发布来让用户选择要使用的库，要么构建一个使用反射加载正确版本的公共外观。

对于反向移植：

AutoClosable 可以按原样重复使用。

对于每个实现，您都需要一个到该接口的适配器。

try with resources 语句可能看起来有点像

```
abstract public class Try {
    private List<AutoClosable> closables = new ArrayList<>();

    public void register(AutoClosable closable){
        closables.add(closable); 
    }

    abstract void execute();

    public void do(){
        try{
            execute()
        } finally {
            for (AutoClosable c : closables)
                c.close() // there are tons of exceptionhandling missing here, and the order might need to get reversed ....
        }
    }
} 
```

用法看起来有点像：

```
new Try(){
    File f = new File();
    {
        register(closable(f)) // closabe would return an Adapter from File to AutoClosable
    }

    void execute(){
        f.doSomeFunStuff()
    }
}.do(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:52:50.910

您需要两个版本的库，但如果您只想拥有一个源代码，请查看 AspectJ ，它会在编译后修改字节码。那样的话，您可以使用一个 sozrce 代码获得两个库，但是两个构建目标具有不同的 AspectJ 选项。

# html - Firefox 滑块问题

> ID：13526008
> 
> 赞同：0
> 
> 时间：2012-11-23T09:21:00.410
> 
> 标签：html, css, wordpress

我一直在制作一个小型假日网站，并且一直在修改现有的 wordpress 主题。但是，该网站在 Chrome 中看起来不错，但是当我在 Firefox 中查看它时，哎呀！我不知道发生了什么。

[http://rita.adsa.co.uk/](http://rita.adsa.co.uk/)

有人可以指出我正确的方向吗？这让我很困惑！

最好的祝愿！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:41:43.783

定义`clear both`你的`#header .smooth_slider`

**像这样**

```
#header .smooth_slider{
clear:both;
} 
```

**结果是**

![在此处输入图像描述](../Images/18b1800b6591e85cd9122757c88ecea4.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T09:29:21.347

添加`clear: both`到滑块元素:)

# google-chrome - Testacular 不启动 chrome 浏览器

> ID：13526013
> 
> 赞同：4
> 
> 时间：2012-11-23T09:21:21.007
> 
> 标签：google-chrome, launch, karma-runner

当我在“浏览器”设置为“Firefox”的情况下运行 testacular 时，会打开一个新的 Firefox 浏览器。我可以在那里打开控制台并查看我的“console.log”消息等...

当我在“浏览器”设置为“Chrome”或“ChromeCanary”的情况下运行 testacular 时，没有打开新的浏览器。测试运行正常，但我看不到控制台（因为我没有浏览器）。

我在 Windows 设置中设置了 CHROME_PATH（也设置了 CHROME_CANARY_PATH），我没有收到有关浏览器启动的错误消息，正如我所说，我的测试工作正常。

任何想法为什么我的浏览器无法打开？

**Vojta 回答**：Chrome 窗口存在一个错误：[http](http://code.google.com/p/chromium/issues/detail?id=151836) ://code.google.com/p/chromium/issues/detail?id=151836 Chrome 正在运行，但它不显示 UI。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-07T15:49:45.903

可能是 Vojta 指出的上述修复（将窗口设置为最大化）解决了您的问题，但 4 个月后它现在并没有为我解决。

我的第一个建议是找出启动器用于尝试启动 Chrome 的确切内容：

```
karma start <yourconfig> --log-level debug 
```

在我的系统上，我发现 Karma(Testacular) 版本 0.8.4 存在两个问题，其中任何一个都足以阻止 Chrome 在我的 Windows 7 64 和 Chrome 26 上打开：

## 1) 让命令行更短并指向 Chrome

首先，有一些关于启动器命令的东西，在它被调用的上下文中，它应该可以工作，但不能。如果我自己将它粘贴到控制台中，它会起作用，但在 Karma 运行它时不起作用。也许只是有点太长了。

要解决这个问题

1.  将 Chrome 放到您的 Windows PATH 环境变量中。
2.  将 CHROME_BIN Windows 环境变量设置为“chrome.exe”。

现在命令行将仅以 chrome.exe 开头，而不是它的完整路径。请注意，这也解决了另一个问题（由下面的 Joe 指出），即 Karama 使用的 Chrome 的默认路径指向您的用户目录中的某个位置，而不是在您的 Program Files 中。所以通过设置这个环境变量，你会导致 Karma 使用它。

## 2）修复用户数据目录

接下来，通过试错，我发现launcher命令在它的一个参数后使用了等号，这也导致Chrome无法正常启动。我无法解释为什么。但修复很简单：

1.  找到 chrome.js 文件并更改

`'--user-data-dir=' + this._tempDir,`

至

`'--user-data-dir ' + this._tempDir,`

如果这对其他人有帮助，请告诉我，我将提交拉取请求。但目前，我处于“没有其他人提到这一点，所以也许这只是我的系统有点奇怪”模式......

# javascript - 如何修复这个简单的 Javascript 'for 循环'？

> ID：13526014
> 
> 赞同：1
> 
> 时间：2012-11-23T09:21:22.173
> 
> 标签：javascript

我有许多 Javascript 对象。

我想要一个简单的“for 循环”（在 JS 中）打印出每个对象中的键：值对。

我在下面展示了我所做的（这里是[在 FIDDLE 中](http://jsfiddle.net/Ka5gV/)），但是变量 'thisvar' 不起作用。

我显然错过了一些非常简单的东西 - 你能指出它是什么吗？

谢谢

```
// declare objects
var variant1 = {};
var variant2 = {};

variant1['a'] = 'apple';
variant1['b'] = 'orange';
variant1['c'] = 'pear';

variant2['a'] = 'red';
variant2['b'] = 'green';
variant2['c'] = 'blue';

// run through each object
for (i=1; i<3; i++){
    var thisvar = variant+i;
    for(var newindex in thisvar) {
        var name = newindex;
        var contents = thisvar[newindex];
        alert(name+'='+contents);
    }
} 
```

​</p>

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:22:58.060

```
// declare objects
var container = {
    variant1: {}
    variant2: {}
}

container.variant1['a'] = 'apple';
container.variant1['b'] = 'orange';
container.variant1['c'] = 'pear';

container.variant2['a'] = 'red';
container.variant2['b'] = 'green';
container.variant2['c'] = 'blue';

// run through each object
for (var i = 1; i < 3; i++){
    for (prop in container["variant"+i]){
         if (variant.hasOwnProperty(prop)){
            alert(prop+'='+var[prop]);
         }
    }
} 
```

正如下面的评论所指出的，如果你想对属性进行数字迭代，你最好只使用一个数组：

```
// declare objects
var variants = [{},{}];

variants[0]['a'] = 'apple';
variants[0]['b'] = 'orange';
variants[0]['c'] = 'pear';

variants[1]['a'] = 'red';
variants[1]['b'] = 'green';
variants[1]['c'] = 'blue';

// run through each object
for (var i = 0; i < 2; i++){
    for (prop in variants[i]){
         if (variant.hasOwnProperty(prop)){
            alert(prop+'='+var[prop]);
         }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:23:14.647

试试这个：

```
var variant1 = new Object();
variant1['a'] = 'apple';
variant1['b'] = 'orange';
variant1['c'] = 'pear';
var variant2 = new Object();
variant2['a'] = 'red';
variant2['b'] = 'green';
variant2['c'] = 'blue';

for (i=1; i<3; i++){
var thisvar ;
eval( 'thisvar = variant'+i);
    for(var newindex in thisvar) {
        var name = newindex;
        var contents = thisvar[newindex];
        alert(name+'='+contents);
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T09:34:34.650

如果您只想检查对象属性，您可以简单地做

```
alert(JSON.stringify(container)) 
```

# c# - Outlook 加载项重新加载

> ID：13526015
> 
> 赞同：0
> 
> 时间：2012-11-23T09:21:24.793
> 
> 标签：c#, outlook-addin, outlook-2010

我正在尝试重新加载加载项以处理我自己的更新运行时（使用单击一次部署 API，但提供静默更新）

但我坚持重新加载加载项。我当前的任务只是简单的卸载和重新加载加载项。我发现与此类似：

```
private void Reload()
    {
        try
        {
            COMAddIns comAddIns = Globals.ThisAddIn.Application.COMAddIns;
            COMAddIn addIn =
                comAddIns.Cast<COMAddIn>().FirstOrDefault(addin => string.Equals(addin.Description, "OutlookAddIn1", StringComparison.OrdinalIgnoreCase));

            if (addIn != null)
            {
                addIn.Connect = false;
                addIn.Connect = true;
            }
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.ToString());
        }
    } 
```

但是这个简单的崩溃：

```
addIn.Connect = false; 
```

我试着把它放在额外的 try/catch 块中，但它不起作用。打电话时 `Connect = false`我有`ThreadAbortException`，我无法阻止发生。

我会简单地从代码中禁用和启用加载项，此时我无法实现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:26:32.970

AFAIK 这是不可能的，因为它`Connect = false`告诉托管运行时扔掉你的线程......你可以提供 2 个插件（真正的插件和一个只严格处理更新的插件，例如每个插件可以处理另一个插件的更新） ...

# android - Listview setEnabled() 导致空指针异常

> ID：13526018
> 
> 赞同：0
> 
> 时间：2012-11-23T09:21:28.027
> 
> 标签：android, android-listview

我在对话框片段中有一个列表视图。列表视图工作正常，正在设置中`onActivityCreated()`。例如

```
SimpleAdapter adapter = new SimpleAdapter(getActivity(), list,
        R.layout.dialog_list_row, from, to);

mListView.setAdapter(adapter); 
```

但是，我不明白为什么一旦我将`adapter`（如上所述）添加到我的`listview`中，为什么我不能访问孩子。例如

```
mListView.getChildAt(0).setEnabled(false); 
```

我正在对 中的列表项执行此更改`onResume()`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:27:58.677

ListView Items 需要一些时间才能显示。您的代码在到达 onResume 方法后就会立即执行。

当 setEnabled(false); 在特定项目上调用您的 android 不知道您的 listView 是否有任何子项，因为它们尚未呈现。

试试下面的片段。

```
listView.setOnScrollListener(new OnScrollListener() {

    @Override
    public void onScrollStateChanged(AbsListView view, int scrollState) {
        // TODO Auto-generated method stub

    }

    @Override
    public void onScroll(AbsListView view, int firstVisibleItem,
    int visibleItemCount, int totalItemCount) {
        listView.setSelection(0); //So your listview will bring first child in focus.
        listView.getChildAt(0).setEnabled(false);

    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:45:39.873

最简单的解决方案是快速扩展您的适配器以在 isEnabled 和 areAllItemsEnabled 中返回正确的值。

由于android中的视图回收，启用视图将无法正常工作。

# 编辑

一点代码：

```
public class DisableAdapter extends SimpleAdapter {

    public DisableAdapter(Context context, List<? extends Map<String, ?>> data, int resource, String[] from, int[] to) {
        super(context, data, resource, from, to);
    }

    @Override
    public boolean areAllItemsEnabled() {
        return false;
    }

    @Override
    public boolean isEnabled(int position) {
        return position != 0;
    }
} 
```

这只是禁用列表的第一项。AFAIK，这是正确的方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T09:28:23.683

因为子视图仅在 ListView 开始绘制后才存在，这发生在恢复之后。

也许您可以扩展 SimpleAdapter 以在返回视图之前对其进行更改。例如：

```
public static class MyAdapter extends SimpleAdapter{

public MyAdapter(Context context, List<? extends Map<String, ?>> data, int resource, String[] from, int[] to) {
    super(context, data, resource, from, to);
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    View v =super.getView(position, convertView, parent);
    v.setEnabled(false);
    return v;
}

} 
```

# php - ExtJs 树存储和数据拉取

> ID：13526025
> 
> 赞同：0
> 
> 时间：2012-11-23T09:21:52.273
> 
> 标签：php, html, mysql, extjs, tree

我在数据库中的数据

![在此处输入图像描述](../Images/6a5e97be3b9637eea8ed8adda0fca825.png)

目前我的 php 文件正在从数据库中读取数据，例如

```
 $data = array();

        $sql = "SELECT * FROM tree";

        $q = mysql_query($sql);

        while ($r = mysql_fetch_array($q)) {
            // check if have a child node                           
            $qq = mysql_query("SELECT `id`, `text` FROM `tree` WHERE parent_id = '". $r['id'] ."'");

            if (mysql_num_rows($qq) > 0) {
                // if have a child
                $r['leaf'] = false;
                $r['cls'] = 'folder';
            } else {
                // if have no child
                $r['leaf'] = true;
                $r['cls'] = 'file';
            }
            $data[] = $r;

        }               

        echo json_encode($data);
    ?>
    <div id="tree_el"></div> 
```

我的 JavaScript 是

```
 Ext.require([
        'Ext.tree.*',
        'Ext.data.*',
        'Ext.tip.*'
    ]);

    Ext.onReady(function() {
        Ext.QuickTips.init();

        var store = Ext.create('Ext.data.TreeStore', {
            proxy: {
                type: 'ajax',
                url: 'treegetdata.php'
            },
            root: {
                text: 'Eatables',
                id: 'root_node',
                expanded: true
            },
            folderSort: true,
            sorters: [{
                property: 'text',
                direction: 'ASC'
            }]
        });

        var tree = Ext.create('Ext.tree.Panel', {
            store: store,
            renderTo: 'tree_el',
            height: 300,
            width: 250,
            title: 'Eatables'
        });
    }); 
```

我目前的结果看起来像这样

![在此处输入图像描述](../Images/39cb03ef4550ce33519fc479cc3a7cd8.png)

我的预期结果应该是

![在此处输入图像描述](../Images/e5ee9a4fc79f336c33d099cf88bd156c.png)

我从数据库中提取数据时出现问题。请帮我修复它，以便达到预期的格式。我相信我的 php 文件中需要修复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:58:12.113

好的，我看到了您的问题，您返回的 JSON 格式错误。如果您希望孩子在父母中，您实际上需要将它们返回到父母的孩子集合中，如下所示：

```
{
   children: [{
       name: 'Eatables',
       children: [{
            name: 'Fruits',
            children: [...]
       }, {
            name: 'Vegetables' ,
            children: [...]
       }]
   }]
} 
```

这是你现在回馈的：

```
[{
    name: 'Apples',
    leaf: false,
    cls: 'folder'
},{
    name: 'Eatables',
    leaf: false,
    cls: 'folder'
},{
    name: 'Fruits',
    leaf: false,
    cls: 'folder'
},{
    name: 'Vegetables',
    leaf: false,
    cls: 'folder'
},{
    name: 'Gala apples',
    leaf: false,
    cls: 'file'
}, ....
] 
```

因此，ExtJS 将它们都视为 1 级节点是非常合乎逻辑的。而不是制作多个级别。

问题确实出在 PHP 文件中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T15:28:55.550

生成必须馈送到 extjs 的树时出现逻辑错误。我不懂 PHP，所以我会写 javascript：

```
function getTree()
{
    var tree, list = [], root, result = []; // fetch list from database
    tree = {text : root.name};
    result.push(createTreeStructur(tree, root, list));
    return result;
}
    //tree = holder of data, root = parent in each recursive call, list = complete list from database
    function createTreeStructure(tree, root, list) {
       var i=0, ln = children.length, result = [], child, childList = [], temptree = {};
       var children = getChildren(root, list); //Fetch children
       for(i=0, i<ln;i++)
       {
          child = children[i];
          tree = [];
          if(getChildren(child, list).length===0) //If no children of child exist
          {
             temptree = {name : child.name, leaf : true};
             childList.push(temptree);
             tree["children"] = childList; // Add child as child of the passed parent
          }
          else
          {
             temptree = {name : child.name, leaf : false}; 
             childList.push(temptree);
             tree["children"] = childList;
             createTreeStructure(temptree, child, list); // Recursively create tree structure for the child since children exist.
          }
       }
      result.push(tree);
      return result;
    }

    function getChildren(root, list)
    {
       var i=0, ln = list.length, result = [];
       for(i=0, i<ln;i++)
       {
          if(root.id===list[i].parent)
          {
             result.push(list[i]);
          }
       }
       return result;
    } 
```

# php - 如何在 magento 1.7.0.2 的前端显示 PayPal Payments Standard 选项？

> ID：13526026
> 
> 赞同：2
> 
> 时间：2012-11-23T09:21:55.010
> 
> 标签：php, web-applications, paypal, magento-1.7, web-deployment-project

我正在使用 magento 1.7.0.2，我想在结账时间显示 PayPal Payments Standard 选项。一切都很好，但我看不到贝宝标准选项结帐时间，所以请帮助我..我很想搜索我自己，但它没有找到所以请如果你发现我这个问题..我很高兴你..先感谢您...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T22:44:45.267

因此，请查看您的付款区域。很多时候它的问题是 PayPal 没有被添加到客户所在的支付区域。

# php - mysql, php 使用多个用户 ID 计算每月平均值

> ID：13526027
> 
> 赞同：1
> 
> 时间：2012-11-23T09:21:57.350
> 
> 标签：php, mysql

这让我发疯，我无法在没有大量代码的情况下管理它，这是我的 sql 表：

```
userid    date        orderValue
2       2012-01-01      2000
1       2012-01-01      3000
1       2012-01-01      5000
1       2012-01-02      5000
2       2012-01-02      8000
2       2012-01-02      8000 
```

对于每个月，我需要从第一个日期到当月获取每个用户的平均值。

我正在寻找的输出类似于 $orderArray[$month][$userid]['mean']

我不需要代码，只需要让我的头脑摆脱那个人坚持的当前想法。你将如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:50:27.740

类似于以下内容：

```
SELECT
  `userid`,
  DATE_FORMAT(`date`, '%Y%m') AS `month`,
  AVG(`orderValue`) AS `mean`
FROM
  `orderTable`
GROUP BY
  `userid`,
  `month` 
```

请注意，我使用`DATE_FORMAT`的是`MONTH`. 如果你不这样做，2012 年 1 月和 2013 年 1 月将有效地合并，我猜这不是你想要的。

您必须自己在 PHP 中创建所需的结果数组，方法是遍历 SQL 结果集并将每个平均值放在适当的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:26:10.317

试试这个 ：：

```
 Select
    userid,
    SUM(ordervalue)/count(*) as mean

    from table 
    group by 

   userid 
```

# c# - SVN认证失败

> ID：13526028
> 
> 赞同：0
> 
> 时间：2012-11-23T09:22:06.440
> 
> 标签：c#, asp.net, svn

恢复登录名和密码后，我想连接到 SVN 存储库（http://source:8080/svn/.../test.xml）并访问，目标是在我的代码。恢复登录和密码后如何进行配置以连接到 svn 存储库

任何帮助将不胜感激，谢谢

**回答 ：**

当我使用本地 URL 时，效果很好

```
public List<XElement> TableReqDAL(string fichier)
    {
      XDocument xml = XDocument.Load("D:\\..."+fichier+".xml");  (...)     
    } 
```

但是当我把 SVN 存储库 URL

```
 public List<XElement> TableReqDAL(string fichier)
    {
        XDocument xml = XDocument.Load("http://source:8080/svn/.../"+fichier+".xml");   
         (...)              
    } 
```

它不起作用，我知道有一个配置我必须这样做才能使用 svn 存储库中的所需文件，但我不知道如何继续

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:26:25.480

[SubversionSharp](http://www.softec.lu/site/ClrProjects/SubversionSharp)是解决您问题的好方法

# html - 调整和定位容器内的 div

> ID：13526030
> 
> 赞同：0
> 
> 时间：2012-11-23T09:22:18.437
> 
> 标签：html, css

我有以下标记：

```
<div class="container">
    <div class="left-rect"></div>
    <div class="text">Lorem ispum</div>
    <div class="right-rect"></div>
</div>

.left-rect,
.right-rect { 
    background-color: #EEE;
    width: 9px;
}
.container {
    background-color: #555;
    height: 20px;
} 
```

我希望它看起来像：![例子](../Images/6cdeedbe642d0ec04c61a15fdc0b859a.png)

而且，重要的是：.rect 的宽度必须取决于 .text 的宽度，它会自动调整到其内容的大小。
因此，如果我将较长的文本放入 .text 中，则 .rect 应该更宽，并且左右矩形应该仍在边缘。.rect div 可以放在任何地方（通过 js）。
而且我完全不知道该怎么做。
我希望你能明白我写的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:27:21.867

用于`display:inline-block`div

**CSS**

```
.left-rect,
.right-rect { 
    background-color: white;
    width: 9px; 
    display:inline-block
}
.container {
    background-color: #555;
    height: 20px;
    padding:4px;
     display:inline-block;
    color:white
}
.text{
    display:inline-block
}
​ 
```

**[演示](http://jsfiddle.net/u76A2/2/)**

您可以尝试添加长文本，它会根据文本长度进行扩展。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:32:41.797

您可以轻松做到这一点

**写这个 CSS**

```
.left-rect{
float:left;
  margin-left:16px;
}
.right-rect{
float:right;
  margin-right:16px;
}
.left-rect,
.right-rect { 
    background-color: #EEE;
    width: 9px;
  height:16px;
  margin-top:2px;
}
.container {
    background-color: red;
    height: 20px;
 } 
```

**写这个 html**

```
<div class="container">
    <div class="left-rect"></div>

    <div class="right-rect"></div>
   <div class="text">Lorem ispum</div>
</div> 
```

***[现场演示](http://tinkerbin.com/adDZtIgu)***

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T09:34:15.133

用于`display: inline-block`_`div`

**CSS**：

```
.rect { 
    background-color: #EEE;
    width: 9px;
    height: 13px;
}

.container {
    background-color: #555;
    width: 165px;
    padding: 2px 5px;
    height: 20px;
    line-height: 20px;
    display: block;
}

.rect, .text {
    display: inline-block;
}

.text {
    color: #EEE;
    margin: 0 30px;
}
```

**[现场演示](http://jsfiddle.net/vule/HE8h8/)**

# objective-c - 如何创建使用在 iPhone 和模拟器中运行的 Jquery mob/Sencha touch 开发的应用程序

> ID：13526036
> 
> 赞同：0
> 
> 时间：2012-11-23T09:22:56.090
> 
> 标签：objective-c, cordova, jquery-mobile, ios4, sencha-touch

我基本上是一名 Iphone 开发人员，我想研究 Jquery mobile 或 Sencha Touch 以构建一些应用程序。我已经下载了 Jquery mob 和 sencha touch sdks，但是我如何使用在 iPhone 和模拟器中运行的应用程序创建应用程序。我如何集成Jquery mob 或 Sencha 到我的 Xcode？你能告诉我在我的 Xcode 中安装 sencha touch 或 Jquery mobile 的基本部署步骤吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:48:29.297

使用PhoneGap

[http://phonegap.com/](http://phonegap.com/)

我自己用过JQuery Mobile，我用过PhoneGap，网站上有在线教程教你如何设置。

编辑：链接到设置页面

[http://docs.phonegap.com/en/2.2.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iOS](http://docs.phonegap.com/en/2.2.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iOS)

编辑2：

[http://jquerymobile.com/resources/](http://jquerymobile.com/resources/)

PhoneGap – 为原生应用程序部署包装 jQuery Mobile 代码的工具

# asp.net - asp.net 通过 jquery ajax 将参数传递给通用处理程序

> ID：13526042
> 
> 赞同：0
> 
> 时间：2012-11-23T09:23:11.600
> 
> 标签：asp.net

嗨，我一直在阅读这篇文章： [asp.net jquery ajax json：交换数据的简单示例](https://stackoverflow.com/questions/11269622/asp-net-jquery-ajax-json-simple-example-of-exchanging-data)

我也在使用相同的代码问题，即我能够将值传递给我的处理程序，当我使用断点在处理程序中看到值时，一切正常，但我没有得到处理程序返回的值我的 javascript 代码是：

```
 <script type="text/javascript">
     jQuery("#<%=btnsubmit.ClientID %>").click(function () {

         var myData = { "hicode": $('#textbox1 ').val() };

         $.ajax({
             url: "HandlerHinditoEnglish.ashx",
             data: myData,

             type: 'POST',

             success: function (data) {

                 $("#textbox2").val(data);
             },
             error: function (data, status, jqXHR) { alert("FAILED:" + status); }
         });
     }); 
```

处理程序代码是

```
 HttpResponse r = context.Response;
        r.ContentType = "text/plain";

        string Hinditext = string.Empty;
        string Englishtext = string.Empty;
        string myPar = context.Request.Form["hicode"]; 
        Hinditext = myPar;
        Englishtext = hcnvrt.ToEnglish(Hinditext).ToString();

        context.Response.Write(Englishtext); 
```

我想做的是，如果我在 中输入一些文本`textbox1`，`textbox2`应该填充相同的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-24T13:28:53.543

如果您将 Ajax 代码放入其中，`$(document).ready`您可以看到它工作正常，但是当您将其放入`.click`事件中时，它会导致错误。这是因为按钮的默认行为。

为了解决这个问题，您需要在单击时阻止按钮的默认行为，以便将`e`参数添加到`.click`函数并添加`e.preventDefault(e);`.

您的最终代码必须如下所示：

```
jQuery("#<%=btnsubmit.ClientID %>").click(function (e) {
    e.preventDefault(e);
    var myData = { "hicode": $('#<%=textbox1.ClientID %>').val() };
    $.ajax({
        url: "HandlerHinditoEnglish.ashx",
        data: myData,
        type: 'POST',
        success: function (data) {
            $("#<%=textbox2.ClientID %>").val(data);
        },
        error: function (data, status, jqXHR) { alert("FAILED:" + status); }
    });
}); 
```

# itext - 如何将字符串放入矩形内？

> ID：13526043
> 
> 赞同：4
> 
> 时间：2012-11-23T09:23:13.487
> 
> 标签：itext

我正在尝试将一些字符串、图像和表格添加到我的 pdf 文件中（必须有几页）但是当我尝试使用时`ColumnText`（我使用它是因为我想将字符串放置在绝对位置），我遇到了一个问题。当列高不足以添加字符串的内容时，内容不完整。如何避免内容丢失？

这是相关代码：

```
try {
    PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream("output.pdf"));
    document.open();
    PdfContentByte cb = writer.getDirectContent();
    String imageUrl = "/Users/nofear/workspace/deneme23/pics/a4-ust.png";
    String imageUrlAlt = "pics/a4-alt.png";
    Image imageust = null;
    Image imageAlt = null;
    try {
        imageust = Image.getInstance(imageUrl);
        imageAlt = Image.getInstance(imageUrlAlt);
    } catch (MalformedURLException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    System.out.println("HEIGHT"
        + (document.getPageSize().getHeight() - imageust.getHeight()));
    imageust.setAbsolutePosition(0f,
        document.getPageSize().getHeight() - imageust.getHeight()-10);
    imageAlt.setAbsolutePosition( 0f, 10f);
    document.add(imageust);
    document.add(imageAlt);
    // now draw a line below the headline
    cb.setLineWidth(1f); 
    cb.moveTo(0, 200);
    cb.lineTo(200, 200);
    cb.stroke();
    // first define a standard font for our text
    Font helvetica8BoldBlue = FontFactory.getFont(FontFactory.HELVETICA,16);
    // create a column object
    ColumnText ct = new ColumnText(cb);
    // define the text to print in the column
    Phrase myText = new Phrase("Very Very Long String!!!" , helvetica8BoldBlue);
    ct.setSimpleColumn(myText, 60, 750,
        /* width*/document.getPageSize().getWidth() - 40, 100,
        20, Element.ALIGN_LEFT);
    ct.go();
} catch (Exception e) {
} finally {
    document.close();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-24T09:20:05.653

有三个选项：

1.  要么你提供一个更大的矩形，让内容适合里面，
2.  或者你减少内容（例如更小的字体，更少的文字），......
3.  保持矩形的大小，保持字体大小等......但添加不适合下一页的内容。

你怎么知道内容不合适？

您可以先在模拟模式下添加内容，然后测试是否所有内容都被“消费”了：

```
int status = ct.go(true);
boolean fits = !ColumnText.hasMoreText(status); 
```

根据 的值`fits`，您可以决定更改矩形的大小或内容。有一个例子说明了如何做到这一点：http: [//itextpdf.com/examples/iia.php ?id=163](http://itextpdf.com/examples/iia.php?id=163)

如果你可以将内容分布在不同的页面上，你不需要模拟模式，你只需要插入一个`document.newPage();`

```
ColumnText ct = new ColumnText(cb);
ct.setSimpleColumn(rect);
int status = ct.go();
while (ColumnText.hasMoreText(status)) {
    document.newPage();
    ct.setSimpleColumn(rect);
    status = ct.go();
} 
```

在这个例子`rect`中包含了矩形的坐标。

# ios - 填充后无法描边路径

> ID：13526046
> 
> 赞同：21
> 
> 时间：2012-11-23T09:23:14.813
> 
> 标签：ios, core-graphics, drawrect

下面的代码很好地创建了一个由 CGRect (rectRect) 定义的圆角矩形。

它填充得很好，但我没有中风。任何想法为什么我看不到中风？

```
-(void)drawRect:(CGRect)rect {

    CGContextRef ctx = UIGraphicsGetCurrentContext();

    CGContextSetRGBFillColor(ctx, 0, 0, 0, 0.4);
    CGContextSetRGBStrokeColor(ctx, 1, 1, 1, 1);
    CGContextSetLineWidth(ctx, 4.0);

    float fw, fh;
    rect = rectRect;
    float ovalWidth = 12;
    float ovalHeight = 12;

    if (ovalWidth == 0 || ovalHeight == 0) {
        CGContextAddRect(ctx, rect);
        return;
    }

    CGContextTranslateCTM (ctx, CGRectGetMinX(rect), CGRectGetMinY(rect));
    CGContextScaleCTM (ctx, ovalWidth, ovalHeight);
    fw = CGRectGetWidth (rect) / ovalWidth;
    fh = CGRectGetHeight (rect) / ovalHeight;
    CGContextMoveToPoint(ctx, fw, fh/2);
    CGContextAddArcToPoint(ctx, fw, fh, fw/2, fh, 1);
    CGContextAddArcToPoint(ctx, 0, fh, 0, fh/2, 1);
    CGContextAddArcToPoint(ctx, 0, 0, fw/2, 0, 1);
    CGContextAddArcToPoint(ctx, fw, 0, fw, fh/2, 1);
    CGContextClosePath(ctx);

    CGContextFillPath(ctx);
    CGContextStrokePath(ctx);

} 
```

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-11-23T09:38:02.183

当您绘制路径时，无论是通过抚摸它还是通过填充它，图形上下文都会将其路径重置为空。因此，在您调用 之后`CGContextFillPath`，上下文没有笔触路径。

`CGContextDrawPath`您可以使用该函数在一次调用中完成这两项操作，而不是尝试填充路径然后对其进行描边：

```
CGContextDrawPath(ctx, kCGPathFillStroke); 
```

该`kCGPathFillStroke`常量告诉 Core Graphics 填充路径，然后对其进行描边。

另一方面，您可以使用`UIBezierPath`and`UIColor`来大幅减少代码量：

```
-(void)drawRect:(CGRect)rect {
    [[UIColor colorWithWhite:0 alpha:0.4] setFill];
    [[UIColor whiteColor] setStroke];

    UIBezierPath *path = [UIBezierPath bezierPathWithRoundedRect:rectRect cornerRadius:12];
    path.lineWidth = 4;
    [path fill];
    [path stroke];
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-03-10T14:51:14.027

**斯威夫特 5**版本。重要的部分：

```
override func draw(_ rect: CGRect) {
    guard let context = UIGraphicsGetCurrentContext() else { return }
    context.move(...) // Make path
    context.addLine(...)
    ...
    context.closePath()
    context.setLineWidth(lineWidth)
    context.setStrokeColor(strokeColor!.cgColor)
    context.setFillColor(fillColor!.cgColor)
    context.drawPath(using: .fillStroke) // Fill and stroke
} 
```

# c# - 实体框架 ObjectContent AddObject

> ID：13526049
> 
> 赞同：0
> 
> 时间：2012-11-23T09:23:30.610
> 
> 标签：c#, entity-framework-4.1

我向 ObjectContext 添加了一个新实体，但我没有保存它，

```
this.ObjectContext.SsoContactMd.AddObject(contact); 
```

但之后新实体不在 SspoContactMd 集合中。

我在哪里可以找到我添加到集合中的实体？

问候湖

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:15:15.007

`SspoContactMd`不是一个集合。它是`ObjectSet`= 数据库的访问点。您在其上运行的每个查询都会`SspoContactMd`转换为 SQL 并在数据库中执行。因为您没有保存对象，所以无法从数据库中取回它。

如果你想找到你的对象，你必须在`ObjectStateManager`

```
var entity = this.ObjectContext.ObjectStateManager
                               .GetObjectStateEntries(EntityState.Added)
                               .Where(e => !e.IsRelationship)
                               .Select(e => e.Entity)
                               .OfType<YourContactType>()
                               .SingleOrDefault(c => ...); 
```

# c# - 在运行时未创建视图

> ID：13526051
> 
> 赞同：0
> 
> 时间：2012-11-23T09:23:38.697
> 
> 标签：c#, asp.net, multiview

我使用多视图选项创建了两个视图。现在在运行时，我收到此错误：

`Microsoft JScript runtime error: 'null' is null or not an object`

对于此代码：

```
window.onload = function checkbox(check) {
var check = document.getElementById("<%=cbxAuth.ClientID %>"); //<- error from here
check.onchange = function checkbox(check) {
  if (this.checked == true)
   {
    document.getElementById("<%=txtUsName.ClientID %>").disabled = false;
    document.getElementById("<%=txtPassword.ClientID %>").disabled = false;
   }
  else
   {
    document.getElementById("<%=txtUsName.ClientID %>").disabled = true;
    document.getElementById("<%=txtPassword.ClientID %>").disabled = true;
   }
 }; // Till here
}; 
```

现在，当我在动态分析代码时，我意识到这是在我的第二个视图中，并且整个代码不存在于动态运行时。

这是我创建视图的前端代码：

```
 <td>
 <asp:Button Text="Generate License" BorderStyle="None" ID="Tab1" CssClass="Initial"
  runat="server" OnClick="Tab1_Click" ValidationGroup="generatelicence" />
 <asp:Button Text="Mail Configuration" BorderStyle="None" ID="Tab2" CssClass="Initial"
   runat="server" OnClick="Tab2_Click" ValidationGroup="sendemail" />
 <asp:MultiView ID="MainView" runat="server"> 
```

这是我创建第二个视图时的代码：

```
<asp:View ID="View2" runat="server">
             <table style="width: 100%; border-width: 1px; border-color: #666; border-style: solid">
                 <tr>
                     <td class="style15">
                         FROM
                     </td>
                     <td>
                         <asp:TextBox ID="txtFrom" runat="server" Width="414px" CssClass="Textbox1"></asp:TextBox>
                         <asp:LinkButton ID="lbEdit0" runat="server" onclick="lbEdit0_Click"> Edit </asp:LinkButton>
                         <asp:RegularExpressionValidator ID="regexSendFrom" runat="server" ControlToValidate="txtFrom"
                             ErrorMessage="Enter a Valid Name" ValidationExpression="\w+([\s-_]\w+)*" ValidationGroup="sendemail"></asp:RegularExpressionValidator>
                     </td>
                 </tr>
                 <tr>
                     <td class="style15">
                         SENDER MAIL</td>
                     <td>
                         <asp:TextBox ID="txtMailAdd" runat="server" Width="414px" CssClass="Textbox1"></asp:TextBox>
                         <asp:LinkButton ID="lbEdit1" runat="server" onclick="lbEdit1_Click"> Edit
                         </asp:LinkButton>
                         <asp:RegularExpressionValidator ID="regexSender" runat="server" 
                             ControlToValidate="txtMailAdd" ErrorMessage="Incorrect Mailing Address" 
                             ValidationExpression="\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*" 
                             ValidationGroup="sendemail"></asp:RegularExpressionValidator>
                     </td>
                 </tr>
                 <tr>
                     <td class="style15">
                         SMTP IP
                     </td>
                     <td>
                         <asp:TextBox ID="txtSMTP" runat="server" Width="414px" CssClass="Textbox1"></asp:TextBox>
                         <asp:LinkButton ID="lbEdit2" runat="server" onclick="lbEdit2_Click"> Edit
                         </asp:LinkButton>
                         <asp:RegularExpressionValidator ID="regexSMTP" runat="server" 
                             ControlToValidate="txtSMTP" ErrorMessage="IP Address is Incorrect" 
                             ValidationExpression="(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)" 
                             ValidationGroup="sendemail"></asp:RegularExpressionValidator>
                     </td>
                 </tr>
                 <tr>
                     <td class="style15">
                         SMTP AUTHENTICATION
                     </td>
                     <td>
                         <asp:CheckBox ID="cbxAuth" runat="server" />
                     </td>
                 </tr>
                 <tr>
                     <td class="style16">
                         &nbsp;
                     </td>
                     <td class="style11">
                         User Name&nbsp;
                         <asp:TextBox ID="txtUsName" runat="server" Enabled="false" Width="299px" CssClass="Textbox1"></asp:TextBox>
                         <asp:LinkButton ID="lbEdit3" runat="server" OnClick="lbEdit3_Click"> Edit
                         </asp:LinkButton>
                         <br />
                         Password&nbsp;&nbsp;&nbsp;
                         <asp:TextBox ID="txtPassword" runat="server" TextMode="Password" Width="300px" Enabled="false"
                             CssClass="Textbox1"></asp:TextBox>
                         <asp:LinkButton ID="lbEdit4" runat="server" OnClick="lbEdit4_Click"> Edit
                         </asp:LinkButton>
                         <asp:RequiredFieldValidator ID="reqPass" runat="server" ControlToValidate="txtPassword"
                             Display="Dynamic" ErrorMessage="Enter a Password" ValidationGroup="sendemail"></asp:RequiredFieldValidator>
                         &nbsp;<asp:RequiredFieldValidator ID="reqUserMail" runat="server" ControlToValidate="txtUsName"
                             Display="Dynamic" ErrorMessage="Enter a User Name" ValidationGroup="sendemail"></asp:RequiredFieldValidator>
                         &nbsp;
                     </td>
                 </tr>
                 <tr>
                 <td class="style15"> RECEIVER </td>
                 <td> <asp:TextBox ID="txtReceiver" runat="server" CssClass="Textbox1" Width="414px"></asp:TextBox>
                 <asp:LinkButton ID="lbEdit5" runat="server" OnClick="lbEdit5_Click"> Edit </asp:LinkButton>
                 </td>

                 </tr>
                 <tr>
                     <td class="style15">
                         TO MAIL
                     </td>
                     <td>
                         <asp:TextBox ID="txtTo" runat="server" CssClass="Textbox1" Width="414px"></asp:TextBox>
                         <asp:LinkButton ID="lbEdit6" runat="server" OnClick="lbEdit6_Click"> Edit
                         </asp:LinkButton>
                         <asp:RegularExpressionValidator ID="regexTo" runat="server" 
                             ControlToValidate="txtTo" Display="Dynamic" ErrorMessage="Enter an E-Mail Address" 
                             ValidationExpression="\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"></asp:RegularExpressionValidator>
                         <asp:RequiredFieldValidator ID="reqMailTo" runat="server" 
                             ControlToValidate="txtTo" ErrorMessage="Enter a Mailing Address"></asp:RequiredFieldValidator>
                     </td>
                 </tr>
                 <tr>
                     <td class="style15">
                         SUBJECT
                     </td>
                     <td class="style11">
                         <asp:TextBox ID="txtSub" runat="server" Width="414px" CssClass="Textbox1"></asp:TextBox>
                     </td>
                 </tr>
                 <tr>
                     <td class="style15">
                         CONTENT
                     </td>
                     <td>
                         <asp:TextBox ID="txtBody" runat="server" Width="414px" CssClass="Textbox1" Columns="10"
                             Rows="10" TextMode="MultiLine"></asp:TextBox>
                     </td>
                 </tr>
                 <tr>
                     <td class="style16">
                         ATTACHMENT
                     </td>
                     <td>
                         <asp:FileUpload ID="fupAttach" runat="server" CssClass="Textbox1" 
                             Width="414px" />
                     </td>
                 </tr>
                 <tr>
                     <td colspan="2">
                         &nbsp; &nbsp;
                     </td>
                 </tr>
                 <tr>
                     <td colspan="2">
                         &nbsp;&nbsp;
                     </td>
                 </tr>
                 <tr>
                     <td colspan="2">
                            <tr>
                                <td colspan="2" style="margin-left: 40px" align="center">
                                    <asp:Label ID="lblMailFail" runat="server" ForeColor="Red"></asp:Label>
                                </td>
                            </tr>
                     </td>
                 </tr>
                 <tr>
                     <td colspan="2" align="center" class="style12" style="margin-left: 500px">
                         <asp:Button ID="btnSMail" runat="server" CssClass="btn" Text="Send" 
                             onclick="btnSMail_Click" />
                         &nbsp;<asp:Button ID="btnCancelMail" runat="server" CssClass="btn" Text="Cancel" />
                     </td>
                 </tr>
                 <tr>
                     <td colspan="2">
                         &nbsp;
                     </td>
                 </tr>
             </table>
         </asp:View> 
```

发生这种情况的任何充分理由？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:28:17.070

一方面，您将作为事件函数中`check`的参数传递，并在此行再次定义：`checkbox(check)``onload``check`

```
var check = document.getElementById("cbxAuth"); //<- error from this line 
```

另外，为什么不为*事件*`onload`和`onchange`.

**ADDED**，在使用标记编辑问题后，这`cbxAuth`是一个服务器控件，因此您需要获取其 ClientID 以在 JavaScript 中获取其引用。这边走：

```
var chkbox = document.getElementById("<%= cbxAuth.ClientID %>"); 
```

对于另一部分，只需将函数名称更改为一些有意义的名称，如前所述。

```
window.onload = function OnWindowLoad(check) {
    var chkbox = document.getElementById("<%= cbxAuth.ClientID %>");
    if (chkbox)
    {
        chkbox.onchange = function OnCheckBoxChange(chkbox) {
            // ... rest of your code
        }; 
    }
}; 
```

# c++ - 日文和中文翻译在 MAC 上失败

> ID：13526053
> 
> 赞同：2
> 
> 时间：2012-11-23T09:23:42.767
> 
> 标签：c++, macos, internationalization, wxwidgets

我正在开发一个国际化以支持多种语言的应用程序。但是，我发现日语和中文存在问题。在它们之间嵌入变量的字符串显示为空白。此行为仅在 Mac 上可见。

```
wxString strMessage = wxString::Format(
    _("Do you want to delete \"%s\" ?"),
    GetStr());

wxMessageDialog dlg(this, strMessage, _("Title"),
    wxYES_NO | wxYES_DEFAULT | wxICON_EXCLAMATION); 
```

在上面的代码示例中，我试图显示一条警告消息。此警告消息在所有其他语言（如荷兰语、法语、西班牙语等）中都能正确显示。但是，在日语和中文中，会显示一个带有空白字符串的对话框。在 Windows 上，它适用于所有语言，此问题仅适用于 MAC。

我在这里想念什么？:-O

# php - jqgrid编辑功能显示html代码

> ID：13526054
> 
> 赞同：0
> 
> 时间：2012-11-23T09:23:47.870
> 
> 标签：php, jquery, jqgrid

我有这个代码来改变单元格值的颜色

```
function highlight(cellValue, options, rowObject) {
       var color = (parseInt(cellValue) < 10000) ? "red" : "green";
      var cellHtml = "<span style='color:" + color + "' originalValue='" + cellValue + "'>" + cellValue + "</span>";       

       return cellHtml;
    } 
```

但是当我尝试编辑数据时，html代码会显示在表单输入中

![在此处输入图像描述](../Images/f178842a164f99f85ca4085f29daed58.png)

我必须做什么，所以 html 代码不会显示在输入表单中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:43:36.227

简而言之：您必须更改该输入的样式，而您现在只是将代码添加到输入的值。

您可以在 css 中为输入定义 id 或类，并使用jquery 中的[addClass](http://api.jquery.com/addClass/) / [removeClass](http://api.jquery.com/removeClass/)或[toggleClass](http://api.jquery.com/toggleClass/)。

或者您可以直接从 jquery 更改输入的样式属性：

```
$('input.myClass').css('background-color', color); 
```

# android - 获取地理编码器地址的范围

> ID：13526056
> 
> 赞同：0
> 
> 时间：2012-11-23T09:23:49.350
> 
> 标签：android, geocoding

在 ios 和其他平台上，地理编码器会返回该地址的纬度、经度和“建议半径”。

FE 如果您搜索“罗马”，它会给出一个大约城市半径作为区域半径。如果您搜索一条街道，它会给出一条较小的街道。

有没有办法使用 android sdk 获得这个半径？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T16:22:29.150

我遇到了同样的问题，目前 Address 对象中没有 bounds 字段。[本教程应该对您有所帮助。](http://bricolsoftconsulting.com/2011/11/04/perfect-geocoding-zoom-part-1/)另请参阅[新的 Google 地理编码 API](https://developers.google.com/maps/documentation/geocoding/)

要使用 GeocoderPlus 库使用 Google Maps Android v2：

```
 public void updateMapToAddress (GeocoderPlusAddress foundAddress) {
       LatLng addressSouthWest = new LatLng(foundAddress.getViewPort().getSouthWest().getLatitude(), 
             foundAddress.getViewPort().getSouthWest().getLongitude());
       LatLng addressNorthEast = new LatLng(foundAddress.getViewPort().getNorthEast().getLatitude(), 
             foundAddress.getViewPort().getNorthEast().getLongitude());

       LatLngBounds addressBounds = new LatLngBounds(addressSouthWest, addressNorthEast);
       CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngBounds(addressBounds, 0);

       map.animateCamera(cameraUpdate);
    } 
```

# jquery - 对 REST Web 服务的 ajax 请求中的对象对象错误

> ID：13526057
> 
> 赞同：0
> 
> 时间：2012-11-23T09:23:51.663
> 
> 标签：jquery, ajax, rest, object, service

为什么我从 ajax 请求获取字符串数据到 REST Web 服务时总是收到错误 [object Object] 结果？

这是我的 javascript 代码：

```
function buttonClick()
{
    $.ajax({
        cache: false,
        type: "GET",
        async: false,
        dataType: "text",
        url: 'http://localhost:8080/learning.co.id/rest/hello',
        success: function (msg) {           
           alert('ok');
            $("#divRest").html("").append(msg);

        },
        error: function (msg) {
          alert(msg);                

       }
    });
  } 
```

这是我使用球衣的网络服务

```
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;    
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
  @Path("/hello")
  public class Hello {

@GET
@Produces(MediaType.TEXT_PLAIN)
public String sayPlainTextHello() {

    DateFormat dateFormat = new SimpleDateFormat("yyyy/MM/dd HH:mm:ss");
    Date date = new Date();
    System.out.println("Called !!!" + dateFormat.format(date) );
    return "Hello Jersey";
} 
```

# iphone - IOS接收数据超时CFsocket

> ID：13526058
> 
> 赞同：8
> 
> 时间：2012-11-23T09:23:59.557
> 
> 标签：iphone, ios, nstimer, ntp, cfsocket

我想与 pool.ntp.org 连接以进行时间同步。所以我正在创建一个套接字

```
 sock=CFSocketCreate(NULL, PF_INET, SOCK_DGRAM, IPPROTO_UDP, kCFSocketDataCallBack|kCFSocketWriteCallBack|kCFSocketConnectCallBack, sockCallback, &sock_ctx); 
```

然后我正在设置一个循环

```
 sockref=CFSocketCreateRunLoopSource(NULL, sock, 0);
CFRunLoopAddSource(CFRunLoopGetMain(), sockref, kCFRunLoopCommonModes); 
```

并连接到地址

```
 CFDataRef adrref=CFDataCreate(NULL, (const UInt8 *)&adr, sizeof(adr));
    CFSocketError err=CFSocketConnectToAddress(sock, adrref,-1); 
```

如果我有回调 kCFSocketWriteCallBack 我发送所需的数据

```
 CFDataRef bufref=CFDataCreate(NULL, buffer, scl->NTP_PACKET_SIZE);
    CFSocketError error = CFSocketSendData(scl->sock, NULL, bufref,3); 
```

直到这里的一切都很完美。我的实际问题是

```
else if(callbackType==kCFSocketDataCallBack) 
```

9/10 次工作正常。服务器发送响应，我的过程继续。问题是我正在等待数据来实际继续我的应用程序逻辑。如果没有数据来`kCFSocketDataCallBack`不被触发并且应用程序永远等待。有没有办法让我在等待接收数据时设置超时？（无需自己`NSTimer`重新连接到池）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-22T00:49:52.497

我认为这里要知道的重要一点是UDP本质上是不可靠的。

因此，数据包丢失并且您有时没有得到响应是绝对可能且正常的行为。您提到 10 次中有 9 次有效，这对于基于 UDP 的协议来说听起来相当不错。

所以我认为你真的需要让你的代码更聪明一点。我还认为没有办法使用计时器来确定您是否在一定时间内确实收到了回复。

`CFRunLoopTimer`幸运的是，在您的循环中安排一个非常容易。你需要做的是：

1.  当您`CFSocketSendData`第一次调用时，您还会添加一个`CFRunLoopTimer`.
2.  当您收到`kCFSocketDataCallBack`回调时，您会取消计时器
3.  如果您从未收到响应，或者响应来得太晚，您的计时器将触发。因此，您可以简单地从时间计时器回调中再次发送数据包并再次安排它`CFRunLoopTimerSetNextFireDate`

您可以保留一个计数器，每次发送数据包时都会增加该计数器。然后你可以在尝试一定次数后放弃。

这是一个多一点的代码，但它会让你的基于 UDP 的应用程序更加可靠。

# iphone - 适用于 iOS 的 Xcode 项目自动化

> ID：13526061
> 
> 赞同：4
> 
> 时间：2012-11-23T09:24:03.940
> 
> 标签：iphone, ios, xcode, cordova, automation

我为不同的行业类别做了 4 个 iphone 应用程序。现在我想为同一类别提出更多申请。所以我想知道如何使用任何其他脚本来制作 iPhone 项目.. 例如.. applescrippting、命令行工具等。我还想知道：

1.  如何使用脚本创建新项目？
2.  如何在新项目中复制其他项目的文件？
3.  如何使用脚本编译和制作 .ipa 文件。

请任何脚本专家和其他 iOS 开发人员帮助我了解这一点。

任何人都可以帮助我使用不同名称的脚本创建相同的项目吗

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-27T16:59:56.727

如果您想创建“相同的项目”但使用不同的名称，为什么不在 Xcode 中设置一个新的 Target。

*   单击您的项目标题
*   单击右侧窗格中的添加目标

这将允许您构建和归档不同的应用程序，但保留相同的代码库。这样您就不必担心有重复的代码集。注意：如果您希望每个应用程序执行不同的功能，那么这不是最好的方法，但从您的最后一行来看，这可能是建议的正确方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-26T13:22:57.947

查看此博客 - [http://tmblr.co/Z7_TitY4veew](http://tmblr.co/Z7_TitY4veew)**从 Xcode 自动将构建上传到 TestFlight** 部分 将让您了解如何准备构建并将其上传到任何地方，如 TestFlight。

Stackoverflow 上的这个线程应该让您了解如何复制文件 - [Applescript Copy file to a new folder](https://stackoverflow.com/questions/902342/applescript-for-a-newbie-copy-file-to-a-new-folder)

# javascript - 替换动态字符串

> ID：13526064
> 
> 赞同：0
> 
> 时间：2012-11-23T09:24:07.427
> 
> 标签：javascript, replace

我需要 JavaScript 代码来替换给定字符串的子字符串。

我有一个变量说：

```
var c="<name='abc'&id='123'/>"; 
```

我需要将 name='abc' 替换为 name='def'。'abc' 是一个动态值，因此替换函数必须进行匹配和替换。

需要的最终结果：

```
<name='def'&id='123'/> 
```

你能给我一个例子吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:27:47.743

像这样的东西：

```
c = c.replace(/name='[^']+'/, "name='def'"); 
```

很难从你的问题中确切地说出你在追求什么......

# javascript - 防止ckeditor在按键上显示字符

> ID：13526065
> 
> 赞同：1
> 
> 时间：2012-11-23T09:24:13.660
> 
> 标签：javascript, ckeditor, fckeditor

我有一个`CKEditor 3.0`实例“编辑器”，并在其“ `key`”事件上附加了一个侦听器，因此当该函数返回时，`false`它不应在编辑器上键入该键字符，也就是说，如果按下键“k”，它不应显示在如果函数返回 false，则编辑器

```
editor.on('key', function(e)
{
        alert(""+e.data.keyCode);
        return false;
}); 
```

我为此使用了上面的代码，但它不起作用，这意味着在编辑器上输入了字符

使用插件尝试相同的操作，在按键代码 65 的按键上，应显示其他语言字符而不是英文字符。

```
CKEDITOR.plugins.add( 'typing',
    {
        init: function( editor )
        {

            editor.addCommand( 'insertcharacter',
            {
                exec : function( editor )
                {    

                 alert(editor.id);
                    alert(editor.name);
                    editor.on('key', function(e)
                    {
                        alert("Hello"+e.data.keyCode);

                        if(e.data.keyCode == 65)
                        {
                                editor.insertText('Other Language Character');
                        }
                        return false;

                     });
                }
    }); 
```

你能建议我解决这个问题吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-31T08:28:32.643

最近找到了答案。这在最新版本（4.x）中对我有用。

```
editor.document.on('keypress', function(e) {
      e.data.preventDefault(); // this will prevent the default action for any event
      //your code goes here
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-07T11:54:09.767

在 v4 中，您可以使用`editor.on('key')`和`cancel()`按下相应键时的事件。

所以忽略k个按键，

```
editor.on('key', function(evt) {
    var keyCodeToIgnore = 'K'.charCodeAt();   // Upper case K. Only one k key.
    var pressedKeyCode = evt.data.keyCode;
    if ( pressedKeyCode === keyCodeToIgnore ) {
        evt.cancel();
    }
} 
```

（当然，这不会阻止通过其他方式添加“k”，例如粘贴。）

请参阅[http://docs.ckeditor.com/#!/api/CKEDITOR.editor-event-key](http://docs.ckeditor.com/#!/api/CKEDITOR.editor-event-key)

您还可以将编辑器配置为阻止指定的击键。使用它可以指定大小写。所以忽略 k 而不是 K：

```
config.blockedKeystrokes = [75];    // To ignore k and K: [75, 107] 
```

尽管您可能还想保留默认的blockedKeystrokes。

请参阅[http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-blockedKeystrokes](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-blockedKeystrokes)

第一种方法当然可以让你做其他事情。例如，如果之前的按键是“q”，则忽略“u”可能会让人们发疯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-03T12:42:14.380

在从函数返回之前使用以下代码取消/阻止字符/事件。

```
e.cancelBubble = true;
e.returnValue = false;
e.cancel();
e.stop();
return false; 
```

其中 e 在函数的参数中

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-12T17:02:30.963

我来寻找一种将某些东西绑定到回车键的方法。除了我使用`contenteditable`div 标签，也许这使得上述解决方案对我不起作用。

但是我来到了这个，这似乎工作得很好

```
$(function () {
    CKEDITOR.instances['<the DOM ID of your element>'].on('key', function (e) {
        if (e.data.keyCode === 13) {
            //yeet
            e.cancel();
        }
    });
}); 
```

# visual-studio-2010 - 哪些 MSBuild 任务会发起对 SGen 的调用？

> ID：13526075
> 
> 赞同：2
> 
> 时间：2012-11-23T09:24:43.427
> 
> 标签：visual-studio-2010, visual-studio, msbuild, msbuild-task, sgen

我继承了一个复杂的 MSBuild 脚本，它可以构建和部署多个解决方案。当我运行脚本时，我在日志中看到以下错误：

> SGEN：无法生成序列化程序集 C:\B\268\Agents\Agents.XmlSerializers.dll，因为它已经存在。使用 /force 强制覆盖现有程序集。

我同意`Agents.XmlSerializers.dll`存在。我无法确定是哪个任务导致它被创建，以及哪个任务启动了重新创建它的尝试。

我在构建层次结构中的文件中搜索了“SGen”，但一无所获。所以我假设 SGen 被构建中的两个（或更多）任务隐式调用。

谁能指出什么叫 SGen？

谢谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2014-03-14T23:03:30.607

在“构建输出”窗口中，查找...

任务“SGen”

正上方是实际的“sgen.exe”命令。

正如 Pawell 所说，您需要在构建输出中提供完整的详细信息。在 Studio 内部，它是工具 - 选项... - 项目和解决方案 - 构建和运行 - MSBuild 项目构建输出详细程度：诊断。

# core-animation - 在 Coreplot-iOS 中，饼图不旋转

> ID：13526079
> 
> 赞同：0
> 
> 时间：2012-11-23T09:25:08.033
> 
> 标签：core-animation, core-plot

请参考**触摸任何 sice 时旋转饼图的代码：**

```
-(void)pieChart:(CPTPieChart *)plot sliceWasSelectedAtRecordIndex:(NSUInteger)index{

[self rotatePieChart:plot]; 
```

}

```
-(void)rotatePieChart:(CPTPieChart *)plot {    

[CATransaction begin];
{
    CABasicAnimation *rotation = [CABasicAnimation animationWithKeyPath:@"transform"];
    CATransform3D transform = CATransform3DMakeRotation(-45, 0, 0, 1);
    rotation.toValue = [NSValue valueWithCATransform3D:transform];
    rotation.fillMode = kCAFillModeForwards;
    rotation.duration = 1.0f;
    rotation.cumulative=YES;
    rotation.removedOnCompletion = NO; 

    [plot addAnimation:rotation forKey:@"rotation"];

}
[CATransaction commit];

} 
```

***ON 首先点击饼图旋转，但在随后的点击中没有任何反应。***

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T18:31:24.400

而不是旋转整个绘图层，只为`startAngle`属性设置动画。我怀疑命中检测代码被旋转的坐标系弄糊涂了。

# javascript - 检查三元条件

> ID：13526082
> 
> 赞同：0
> 
> 时间：2012-11-23T09:25:20.607
> 
> 标签：javascript, jquery

在粘贴的代码中，三元代码检查是否存在复选框单击并相应地显示结果。缺点是如果用户取消选中其中一个框，那么它会隐藏选中的 div。如果没有勾选框，我只需要隐藏选中的 div。

是否可以调整我的代码以适应这一点，或者我是否需要使用 if 语句重写。谢谢

```
$(function() {
    $('input[id^=check]').on('click', function() {
        var checked = '';

        $('input:checkbox:checked').each(function (i) {
            checked += this.value + ',';     
        });

        $('.checked').show().html('Checkbox is checked: <strong>' + ($(this).is(':checked') ? checked : $(".checked").hide()) + '</strong>');
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:48:59.730

最简单的方法，在保持基本布局和逻辑的同时，我想说的是改变你的

```
$(this).is(':checked') 
```

到一个

```
checked.length > 0 
```

因此，如果您实际上已向检查字符串添加了值，则仅隐藏 div ..

# css - 我可以将 CSS 过滤器应用于背景图像吗？

> ID：13526083
> 
> 赞同：5
> 
> 时间：2012-11-23T09:25:22.257
> 
> 标签：css, filter

我想在背景中有这样的图片

```
body{

    background-color: transparent !important;
    background-image: url("img.jpg");
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    filter: blur(5px);
-webkit-filter: blur(5px);
-moz-filter: blur(5px);
-o-filter: blur(5px);
-ms-filter: blur(5px)

} 
```

但也有一个模糊过滤器。

然而，当我把它放在 body 上时，除了背景图像之外的所有东西都模糊了。

有没有办法只在背景图像上应用模糊？（除了在 Photoshop 或类似软件中进行模糊处理。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T09:43:05.927

模糊适用于除主体以外的任何容器的背景图像。

```
filter: blur(20px) 
```

演示在这里

[https://jsfiddle.net/scheinercc/Yr2zD/1128/](https://jsfiddle.net/scheinercc/Yr2zD/1128/)

# c# - MVVMCross Spinner - SelectedItem 不工作？

> ID：13526085
> 
> 赞同：1
> 
> 时间：2012-11-23T09:25:27.733
> 
> 标签：c#, android, xamarin.android, spinner, mvvmcross

我在我的 Android 应用程序中构建了一个 MvxBindableSpinner：

```
<TableRow>
    <TextView             
      android:text="Mandant:"
      android:width="0px"
      android:layout_weight=".22" />
      <cirrious.mvvmcross.binding.android.views.MvxBindableSpinner
        android:layout_weight=".78"
        local:MvxDropDownItemTemplate="@layout/mandantlistitem_dropdown"
        local:MvxItemTemplate="@layout/mandantlistitem"
        local:MvxBind="{'ItemsSource':{'Path':'Mandanten'},'SelectedItem':{'Path':'SelectedMandant','Mode':'TwoWay'}}"/>
</TableRow> 
```

MandantClass 很简单：

```
//Class
public class Mandant
{
    //Properties

    public string MandantBezeichnung { get; set; }
} 
```

我遇到的问题是，SelectedItem 不起作用.. 无论我选择什么，它总是“null”.. SelectedItem 的 ViewModel 上的属性如下所示：

```
 private string selectedMandant;
    public string SelectedMandant
    {
        get { return selectedMandant; }
        set { selectedMandant = value; FirePropertyChanged(() => SelectedMandant); }
    } 
```

我尝试了一切，但无法让它工作..它编译得很好并且没有错误消息..但它总是为空..也许有人可以帮助我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:01:37.783

关于如何调试/修复这个问题，我可以提出一些建议。

* * *

首先，您能否将绑定跟踪级别设置为诊断 - 在您的代码调用中的某处：

```
 MvxBindingTrace.TraceBindingLevel = MvxTraceLevel.Diagnostic; 
```

这是否揭示了有关失败的更多信息？

* * *

其次，如果您要链接到源代码，请尝试`_spinner_ItemSelected`在[MvxSpinnerSelectedItemBinding](https://github.com/slodge/MvvmCross/blob/vnext/Cirrious/Cirrious.MvvmCross.Binding.Droid/Target/MvxSpinnerSelectedItemBinding.cs)中设置断点和/或添加一些额外的跟踪- 此绑定事件是否被触发？它是否一直成功到`FireValueChanged`通话？

根据所揭示的内容，然后尝试其他调试步骤，例如在[MvxBindableSpinner.cs](https://github.com/slodge/MvvmCross/blob/vnext/Cirrious/Cirrious.MvvmCross.Binding.Droid/Views/MvxBindableSpinner.cs)中进行跟踪。

* * *

第三...您能否尝试与现有示例进行比较-我认为 Spinner 的想法最初来自[https://github.com/Zoldeper/Blooor/-](https://github.com/Zoldeper/Blooor/)所以也许可以看看[ProductEditView.axml](https://github.com/Zoldeper/Blooor/blob/master/Ahwa.Attila.Core.UI/Resources/Layout/ProductEditView.axml)

该代码有效吗？如果是这样，你能看出区别吗？

**警告**：在编写 Blooor 示例后，代码可能已更改

* * *

最后......这只是一种预感......你能在这里发布更多你的 ViewModel 吗？我想知道您是否存在类型不匹配...例如，您的 selectedItem 是一个字符串但应该是 Mandant 吗？

* * *

如果这是 MvvmCross 中的一个错误，那么“抱歉”并将其报告为问题 - 在[https://github.com/slodge/MvvmCross/issues](https://github.com/slodge/MvvmCross/issues)上- 最好使用可重现的样本。

# java - 处理 JPA 缓存

> ID：13526086
> 
> 赞同：1
> 
> 时间：2012-11-23T09:25:27.827
> 
> 标签：java, caching, jpa

我的persistence.xml 中有许多持久性单元，一个是postgreSQL 模式。

我在需要时通过动态创建 EntityManagerFactory 来实例化我的 EntityManager：

```
EntityManagerFactory emf = Persistence.createEntityManagerFactory(schemaToChoose);
EntityManager em = emf.createEntityManager(); 
```

它工作正常。但因此，我不使用容器注入。

现在，我想知道这种方式是否不会花费太多资源？

我可能不太了解 JPA 缓存，但我相信实体存储在 em 缓存和 emf 缓存中，有 2 个级别。因此，当我每次实例化 em 和 emf 时，我可能会丢失 JPA 缓存，因此，我也每次都重新创建它。

我有 2 个问题：每次 emf 和 em 影响性能时可以实例化吗？我应该注入尽可能多的 em 我有模式而不是保留缓存吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:39:28.407

EntityManagerFactory 是一个重量级的、长期创建的对象。它应该只创建一次，然后重复使用。实际上，每次创建它时，它都会解析 persistence.xml 文件，计算每个实体的映射元数据等。

如果您在 Java EE 容器中运行，那么您绝对应该让容器为您实例化它，并将实体管理器注入您的 EJB。

我发现一个应用程序使用多个数据库shemas 很奇怪。为什么会这样？

关于缓存：有一个与实体管理器关联的一级缓存（它是一个短暂的缓存，通常与事务具有相同的生命周期。也可能有一个二级缓存，与实体管理器工厂，但默认情况下处于关闭状态，如果启用，则只能用于某些实体并谨慎配置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T14:11:34.350

你基本上有一个多租户模式。EJB 注入不能很好地处理这个问题。

EntityManagerFactory 不是您想要多次创建的东西，并且确实包含共享缓存。（共享缓存默认值不是 JPA 指定的，它在 EclipseLink 中默认开启，但可以通过 JPA 缓存模式和 @Cacheable 和 @Cache 进行配置）。

我会为您的工厂推荐某种注册表。也许这甚至是一个应用程序对象，比如你的 Universe。

```
public class Universe {
    static Map<String, Universe> universes;
    EntityManagerFactory emf;

    public static Universe getUniverse(String schema) {
      ... hopefully you get the idea ...
    }
    public EntityManagerFactory getEntityManagerFactory() {
        return emf;
    }
} 
```

另外，我建议您查看 EclipseLink 的多租户支持，

[http://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_multitenant.htm#BABEGBIJ](http://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_multitenant.htm#BABEGBIJ)

# c# - 如何根据另一个属性初始化属性值

> ID：13526090
> 
> 赞同：0
> 
> 时间：2012-11-23T09:25:33.883
> 
> 标签：c#, .net, object-initializers

我有以下代码：

```
var workOrderList = new List<WorkOrder>(
               from index in Enumerable.Range(1, orders.Length)
               select new WorkOrder
               {
                   OrderID = orders[index - 1],
                   Status = status[random.Next(0,status.Length-1)],
                   TotalQuantity = random.Next(1, 5) * 8,
                   ScheduleCollection = new ObservableCollection<Schedule>
                   {
                     new Schedule
                       {
                           Color = colors[random.Next(0,colors.Length-1)],
                           Model = models[random.Next(0,models.Length-1)],
                           Status = status[random.Next(0,status.Length-1)],
                           TotalNumber = To be Updated bases on Total Quantity
                       }
} 
```

现在我想通过从 TotalQuantity 中除或减去值来更新 Total Number 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:28:24.997

在查询中使用`let`子句来提取常用表达式：

```
var workOrderList = new List<WorkOrder>(
    from index in Enumerable.Range(1, orders.Length)
    let totalQuantity = random.Next(1, 5) * 8
    select new WorkOrder
    {
        OrderID = orders[index - 1],
        Status = status[random.Next(0,status.Length-1)],
        TotalQuantity = totalQuantity,
        ScheduleCollection = new ObservableCollection<Schedule>
        {
          new Schedule
            {
                Color = colors[random.Next(0,colors.Length-1)],
                Model = models[random.Next(0,models.Length-1)],
                Status = status[random.Next(0,status.Length-1)],
                TotalNumber = // Do something with totalQuantity
            }
        }
    }); 
```

# apache - 如何使用 apache solr 从 pdf 内容中获取日期字符串

> ID：13526091
> 
> 赞同：1
> 
> 时间：2012-11-23T09:25:43.587
> 
> 标签：apache, solr, solr-cell

大家好，我是 apache solr 的新手。我有一个 pdf，其中包含日期信息，例如 - bla bla bla 2012-11-23 11:11:12 bla bla ...- 我想从内容中获取所有日期。

我阅读了一些文档（http://wiki.apache.org/solr/ExtractingRequestHandler）并将 date.formats 添加到 /update/extract

```
 <requestHandler name="/update/extract" 
              startup="lazy"
              class="solr.extraction.ExtractingRequestHandler" >
<lst name="defaults">
  <!-- All the main content goes into "text"... if you need to return
       the extracted text or do highlighting, use a stored field. -->
  <str name="fmap.content">text</str>
  <str name="lowernames">true</str>
  <str name="uprefix">ignored_</str>

  <!-- capture link hrefs but ignore div attributes -->
  <str name="captureAttr">true</str>
  <str name="fmap.a">links</str>
  <str name="fmap.div">ignored_</str>
</lst>
<lst name="date.formats">
  <str>yyyy-MM-dd</str>
  <str>yyyy-MM-dd'T'HH:mm:ss'Z'</str>
  <str>yyyy-MM-dd'T'HH:mm:ss</str>
  <str>yyyy-MM-dd</str>
  <str>yyyy-MM-dd hh:mm:ss</str>
  <str>yyyy-MM-dd HH:mm:ss</str>
</lst> 
```

我正在添加如下的pdf

curl "http://localhost:8983/solr/update/extract?literal.id=sql.txt&uprefix=attr_&fmap.content=attr_content&commit=true"&stream.file="/home/example/example.pdf"

并且有关于日期的注意事项？和内容？

谢谢

# javascript - 调整浏览器窗口大小时平均减少空间

> ID：13526096
> 
> 赞同：0
> 
> 时间：2012-11-23T09:26:07.967
> 
> 标签：javascript, jquery, html, css

调整浏览器窗口大小时，浏览器只会减少元素后的空间。我想像在 Facebook 中一样减少左侧和右侧的空间。

这是我的代码

CSS：

```
body{
     margin-left:10%;
     margin-right:10%;
} 
```

HTML：

```
<body>
Some content
.
.
.
.
</body> 
```

首先，我想到了给`min-width`身体。但是屏幕尺寸较小的计算机将是一个问题。也`min-width`不会是好的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:35:03.310

`80%`只需给你的宽度`body`和给定`margin-left`和`margin-right`给`auto`中心对齐

```
 body{
      margin:0 auto;
      width:80%;
    } 
```

**建议：**

为 body 提供样式不是一个好习惯，请为页面中的顶级父 div 提供样式

像这样，

```
<body>
<div class="container">
       all page elements.....
</div>
</body> 
```

CSS：

```
container{
          margin:0 auto;
          width:80%;
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:29:47.413

你考虑过媒体查询吗？ [https://developer.mozilla.org/en-US/docs/CSS/Media_queries](https://developer.mozilla.org/en-US/docs/CSS/Media_queries)

这是一个演示： http: [//playground.johanbrook.com/css/mediaquerydebug.html](http://playground.johanbrook.com/css/mediaquerydebug.html)

和另一篇好文章：[http ://css-tricks.com/css-media-queries/](http://css-tricks.com/css-media-queries/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T09:33:54.967

有什么问题

```
width: 50em;
max-width: 95%;
margin: 0 auto; 
```

正如网络上多次建议的那样，显示一个居中的包装器，它会随着浏览器窗口收缩和扩展，左右间距相等……</p>

# android - 如何将列表视图放置在滚动视图中

> ID：13526103
> 
> 赞同：0
> 
> 时间：2012-11-23T09:26:35.367
> 
> 标签：android

我有一个`RelativeLayout`，低于我有一个`ListView`。我必须把这些放在一个`ScrollView`. 任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:31:54.383

您不应该将 ListView 放在 ScrollView 中，因为 ListView 类实现了自己的滚动，并且它只是不接收手势，因为它们都由父 ScrollView 处理

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:32:46.240

`ScrollView`只能为单个设置`Layout`。因此，将`widgets`您要滚动的内容放在一个`layout`中，如下所示：

```
<ScrollView
    android:id="@+id/scrView"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
     >

    <RelativeLayout
        android:id="@+id/rltvLyt"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >

        <ListView
            android:id="@+id/lstView"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:textSize="20sp" />
    </RelativeLayout>
</ScrollView> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:33:25.047

不要这样做。你到底想达到什么目的？在这里（以及其他任何地方）都提到过，这不是一个好主意，因为滚动机制会因为它们都想要滚动而变得混乱。然而，忽略你有一个巨大的列表视图，那么你错过了使用列表视图的主要性能提升，并且可能会膨胀使用表格布局并添加行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:34:48.097

您不应该将 ListView 放在 ScrollView 中，因为 ListView 类实现了自己的滚动，并且它只是不接收手势，因为它们都由父 ScrollView 处理。我强烈建议您以某种方式简化布局。例如，您可以将希望滚动到 ListView 的视图添加为页眉或页脚。

```
private void setListViewScrollable(final ListView list) {
        list.setOnTouchListener(new OnTouchListener() {
            @Override
            public boolean onTouch(View v, MotionEvent event) {
                listViewTouchAction = event.getAction();
                if (listViewTouchAction == MotionEvent.ACTION_MOVE)
                {
                    list.scrollBy(0, 1);
                }
                return false;
            }
        });
        list.setOnScrollListener(new OnScrollListener() {
            @Override
            public void onScrollStateChanged(AbsListView view,
                    int scrollState) {
            }

            @Override
            public void onScroll(AbsListView view, int firstVisibleItem,
                    int visibleItemCount, int totalItemCount) {
                if (listViewTouchAction == MotionEvent.ACTION_MOVE)
                {
                    list.scrollBy(0, -1);
                }
            }
        });
    } 
```

listViewTouchAction 是一个全局整数值。如果可以换行

```
 list.scrollBy(0, 1); 
```

# c# - 输入字符串的格式不正确

> ID：13526106
> 
> 赞同：-1
> 
> 时间：2012-11-23T09:26:47.657
> 
> 标签：c#, asp.net, sql

我想将总和 tempDiscRs 的结果存储到 b1 中。存储它时会抛出输入字符串格式不正确的错误

```
decimal b1 = Convert.ToDecimal(lblDisRate.Text);
b1 = total * tempDiscRs; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:31:53.200

```
decimal myValue;
if(Decimal.TryParse(lblDisRate.Text, out myValue))
{
   //correct
}
else
{
   //wrong
} 
```

详细了解[Decimal.TryParse 方法](http://msdn.microsoft.com/en-us/library/system.decimal.tryparse.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:30:09.303

你应该了解你所处的文化。

示例：在美国，逗号分隔符是一个点 (.)，而在德国它是一个逗号 (,)。

尝试

```
lblDisRate.Text.ToString(System.Globalization.CultureInfo.InvariantCulture) 
```

为了使用不变文化，所以你总是使用点而不是逗号。

# javascript - 这4个按钮最简单的方法是什么？

> ID：13526108
> 
> 赞同：0
> 
> 时间：2012-11-23T09:26:51.310
> 
> 标签：javascript, jquery, html, css

我想制作 4 个按钮：当您单击它时，选择一个，其背景图像已更改，其他 3 个保持原始背景图像，除非用户将其悬停，而用户悬停按钮时，它会更改其背景图像。

如果我只使用：悬停，或：活动，点击后，背景图像将在我释放鼠标时恢复到原来的，或者只是移动鼠标，如果我使用点击功能，在它改变背景图像后它不能恢复或必须输入一段长代码来控制它。制作这4个按钮的最简单方法是什么？

我试过这个：有点笨拙，我在css中有：悬停，但它实际上缺少这段代码的悬停效果

```
$s_btn_1.on('click',function() {
        if (chosen!=1){
            chosen = 1; 
            console.log('chosen');
        $.get("services_1.php", function(data){
         // $service_box.html(data);

        }); 

        return_default();

        $folder1.css('background',"url('images/services/btn1_hover.png')");
        $folder1.css('background-size',"100% 100%");

    }

    });

  $s_btn_2.on('click',function() {
        if (chosen!=2){
            chosen = 2;
            console.log('chosen');

            $.get("services_2.php", function(data){
        //      $service_box.html(data);
            });
            return_default();

            $folder2.css('background',"url('images/services/btn2_hover.png')");
            $folder2.css('background-size',"100% 100%");
        }
    });

    $s_btn_3.on('click',function() {
        if (chosen!=3){
            chosen = 3;
            return_default();

            $folder3.css('background',"url('images/services/btn3_hover.png')");
            $folder3.css('background-size',"100% 100%");
        }
    });

    $s_btn_4.on('click',function() {
        if (chosen!=4){
            chosen = 4;
            return_default();

            $folder4.css('background',"url('images/services/btn4_hover.png')");
            $folder4.css('background-size',"100% 100%");
        }
    });
  //$("#service_btn").addClass(".folder1_hover");
    function return_default(){
        $folder1.css('background-image',"url('images/services/btn1.png')");
        $folder2.css('background-image',"url('images/services/btn2.png')");
        $folder3.css('background-image',"url('images/services/btn3.png')");
        $folder4.css('background-image',"url('images/services/btn4.png')");
        $folder1.css('background-size',"100% 100%");
        $folder2.css('background-size',"100% 100%");
        $folder3.css('background-size',"100% 100%");
        $folder4.css('background-size',"100% 100%");
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-24T05:58:40.530

我刚刚完成了我的目标所以我在这里发布我的代码，我认为这是最简单的方法，并且清楚

```
$(document).ready(function() {   
     var btns = {
         'bg_o' : ['images/services/btn1.png','images/services/btn2.png','images/services/btn3.png','images/services/btn4.png'],
         'bg_h' : ['images/services/btn1_hover.png','images/services/btn2_hover.png','images/services/btn3_hover.png','images/services/btn4_hover.png'],
         '$all_btn' : $('.all_btn'),
         '$folders':[$('#folder1'),$('#folder2'),$('#folder3'),$('#folder4')],
         'folders_status':new Array('inactive','inactive','inactive','inactive')
         ,jquery_func : function(){
            btns.$all_btn.each(function(){
                $(this).click(function(){
                    for(i=0;i<4;i++){
                        var imageurl_o = new Array();
                        imageurl_o[i] = {'background-image':'url('+btns.bg_o[i]+')'};       
                        btns.$folders[i].css(imageurl_o[i]);    
                        btns.folders_status[i]='inactive';
                    }
                    for(i=0;i<4;i++){           
                        var myparent = btns.$folders[i].parent();                       
                        if($(this).attr('class') == myparent.attr('class')){
                            var imageurl_h = {'background-image':'url('+btns.bg_h[i]+')'};
                            btns.$folders[i].css(imageurl_h);   
                            btns.folders_status[i]='active';
                        }   
                    }
                });
                $(this).mouseover(function(){
                    for(i=0;i<4;i++){
                        var imageurl_o = new Array();
                        imageurl_o[i] = {'background-image':'url('+btns.bg_o[i]+')'};
                        if(btns.folders_status[i]=='inactive')
                        btns.$folders[i].css(imageurl_o[i]);    
                    }
                    for(i=0;i<4;i++){           
                        var myparent = btns.$folders[i].parent();                       
                        if($(this).attr('class') == myparent.attr('class')){
                            var imageurl_h = {'background-image':'url('+btns.bg_h[i]+')'};
                            btns.$folders[i].css(imageurl_h);   
                        }   
                    }

                });
            }); 
         }
     }
     btns.jquery_func();
}); 
```

# svn - 日食颠覆：还原

> ID：13526109
> 
> 赞同：0
> 
> 时间：2012-11-23T09:26:57.240
> 
> 标签：svn

我使用日食颠覆。我在项目中做了一些本地更改，并提交我更新了项目。更新后，我注意到我无法再运行该项目了。现在我想退后一步，这意味着“删除来自更新的更改”。出于这个原因，我去 Team -> Revert。我的问题是，当我使用“还原”时，只有来自 UPDATE 的更改会被撤消，或者我的更改是我在更新之前创建的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:29:14.090

根据文档：

> revert：恢复原始工作副本文件（撤消大多数本地编辑）。用法：还原 PATH...

您的本地更改将被撤消。更新的文件仍然存在。

假设您使用的是修订版 X。然后您编辑了文件，因此您在 X 中进行了本地修改。然后你更新了。所以你现在在 X + 1 上进行了本地修改。还原后，您将在 X + 1 上，无需进行本地修改。

# c# - 正则表达式验证未验证

> ID：13526110
> 
> 赞同：1
> 
> 时间：2012-11-23T09:26:57.343
> 
> 标签：c#, asp.net-mvc-3, validation

在模型中，我具有以下属性：

```
 /// <summary>
    /// MT Currency
    /// </summary>
    [RegularExpression("^[a-zA-Z]{3}$", 
         ErrorMessage="Currency should be the 3 letter ISO 4217 currnecy")]
    public string Currency { get; set; } 
```

但似乎没有考虑到这一点。如果我输入“AUD+”之类的输入，则不会发生任何事情，并且表单已正确验证。

它似乎只发生在`RegularExpression`属性上，因为我的表单的其他属性得到了正确验证。

编辑：我得到了一个回应。显示的表单对象与控制器/视图不在同一个程序集中。出于某种原因，当将其放回同一个程序集中时，我可以在 html 中看到验证属性。所以问题仍然存在。当对象在另一个程序集中时是否可以显示验证？

谢谢

# java - 如何在 apache commons-cli 中使用命令行和选项

> ID：13526112
> 
> 赞同：3
> 
> 时间：2012-11-23T09:27:07.080
> 
> 标签：java, apache-commons-cli

这是我第一次使用 apache commons-cli。

要求：我想在 commons-cli 中使用 CommandLine 和 Options 将我的运行时参数传递给我的 java 类。

场景：主类 - com.test.mian.MyClass

我可以通过命令行运行我的课程

```
java -cp $classPath  com.test.mian.MyClass -one 1 -two 2 -three 3 
```

我如何通过使用命令行和 commons-cli 的选项传递这些参数，从另一个类的方法中做同样的事情。

以及是否有任何其他方式

```
System.setProperty("key","value"); 
```

请也建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-24T11:50:23.720

这是我使用的东西的一个*非常*精简的版本。它基本上设置了一个单例，该单例被初始化一次，然后可以在程序中的任何地方使用。我选择将信息存储在 HashMap 和 ArrayList 中，因为它们以后更容易处理。

```
//****************************************************************************
//***** File Name: MianCLIOptions.java
//****************************************************************************

package com.test.mian;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import org.apache.commons.cli.AlreadySelectedException;
import org.apache.commons.cli.CommandLine;
import org.apache.commons.cli.CommandLineParser;
import org.apache.commons.cli.GnuParser;
import org.apache.commons.cli.MissingArgumentException;
import org.apache.commons.cli.MissingOptionException;
import org.apache.commons.cli.Option;
import org.apache.commons.cli.Options;
import org.apache.commons.cli.ParseException;
import org.apache.commons.cli.UnrecognizedOptionException;
import org.apache.commons.lang.WordUtils;

//****************************************************************************
//****************************************************************************
//****************************************************************************
//****************************************************************************
public class MianCLIOptions
{
    //***** constants *****

    //***** public data members *****

    //***** private data members *****
    private static MianCLIOptions singletonObj = null;

    private HashMap<String,Object> options = new HashMap<String,Object>();
    private ArrayList<String> arguments = new ArrayList<String>();

    //****************************************************************************
    public static MianCLIOptions getopts()
    {
        if (singletonObj == null) {
            throw new IllegalStateException("[MianCLIOptions] Command line not yet initialized.");
        }

        return singletonObj;
    }

    //****************************************************************************
    public static synchronized void initialize(Options optsdef, String[] args)
        throws MianCLIOptionsException, UnrecognizedOptionException, MissingArgumentException,
               MissingOptionException, AlreadySelectedException, ParseException
    {
        if (singletonObj == null) {
            singletonObj = new MianCLIOptions(optsdef, args);
        }
        else {
            throw new IllegalStateException("[MianCLIOptions] Command line already initialized.");
        }
    }

    //****************************************************************************
    //----- prevent cloning -----
    public Object clone() throws CloneNotSupportedException
    {
        throw new CloneNotSupportedException();
    }

    //****************************************************************************
    public boolean isset(String opt)
    {
        return options.containsKey(opt);
    }

    //****************************************************************************
    public Object getopt(String opt)
    {
        Object rc = null;

        if (options.containsKey(opt)) {
            rc = options.get(opt);
        }

        return rc;
    }

    //****************************************************************************
    //***** finally parse the command line
    //****************************************************************************
    private MianCLIOptions(Options optsdef, String[] args)
        throws UnrecognizedOptionException, MissingArgumentException,
               MissingOptionException, AlreadySelectedException, ParseException
    {
        //***** (blindly) parse the command line *****
        CommandLineParser parser = new GnuParser();
        CommandLine cmdline = parser.parse(optsdef, args);

        //***** store options and arguments *****
        //----- options -----
        for (Option opt : cmdline.getOptions()) {
            String key = opt.getOpt();
            if (opt.hasArgs()) {
                options.put(key, opt.getValuesList());
            }
            else {
                options.put(key, opt.getValue());
            }
        }

        //----- arguments -----
        for (String str : cmdline.getArgs()) {
            //----- account for ant/build.xml/generic -----
            if (str.length() > 0) {
                arguments.add(str);
            }
        }
    }
}

//****************************************************************************
//***** EOF  ***** EOF  ***** EOF  ***** EOF  ***** EOF  ***** EOF  ********** 
```

在你的 main 中，你可以这样调用它：

```
 //***** build up options *****
    Options options = new Options();

    // ... .... ...

    //***** process command line *****
    try {
        MianCLIOptions.initialize(options, args);
    }
    catch (UnrecognizedOptionException ex) {
        // do something
    } 
```

最后，在其他类中，您可以这样称呼它：

```
 MianCLIOptions opts = MianCLIOptions.getopts();
    if (opts.isset("someopt")) {
        // do something exciting
    } 
```

希望有帮助！

# powershell - 获取子项 System.OutOfMemoryException

> ID：13526130
> 
> 赞同：1
> 
> 时间：2012-11-23T09:28:24.123
> 
> 标签：powershell, windows-server-2003

我在包含 250 万个文件的服务器上有一个目录。

我需要对这些文件做点什么。但是，当我尝试创建一个表示这些文件的对象时，我遇到了内存限制。（这是一台 32 位机器。）

```
PS D:\> $files=dir LotsOfFiles
Get-ChildItem : Exception of type 'System.OutOfMemoryException' was thrown. 
```

有没有办法解决这个问题，比如创建一个代表存储较少属性的文件的类（我只需要名称和 lastwritedate）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:44:06.643

你试过用`dir /b LotsOfFiles`吗？

# excel - Excel查找并选择使用vba继续行？

> ID：13526136
> 
> 赞同：0
> 
> 时间：2012-11-23T09:28:37.653
> 
> 标签：excel, vba, select, find

我的工作表如下面的详细信息，我想找到单词“CN-1”并使用该单词连续选择所有行。

```
22-005538       ERQXR01200  CN-1    2
22-005538       ERQXR01200  CN-1    2
22-005692       ERQXR01134  CN-1    2
22-005692       ERQXR01134  CN-1    2

77-055988   28  BAXR148314AC    PC-1    3
11-141773   28  BAXR148214AE    PC-1    4
45-167899   28  HAXR148214AE    PC-1    4
77-056293   28  BAXR14#218AE    PC-1    4
77-056293   28  BAXR14#238AE    PC-1    4
1076-76290415   25  HAWR14#112GQ    PC-1    2
11-141774   28  BAXR148238AE    PC-1    4
11-141779   28  BAXR148314AC    PC-1    3 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T13:44:26.847

试试这个代码，

```
Sub temp()
Dim startRa As Range
Dim endRa As Range

Range("A1").Select
Cells.Find(What:="CN-1", After:=ActiveCell, LookIn:=xlFormulas, LookAt _
        :=xlPart, SearchOrder:=xlByRows, SearchDirection:=xlNext, MatchCase:= _
        False, SearchFormat:=False).Activate
Set startRa = ActiveCell

Do
    Set endRa = ActiveCell
    Cells.Find(What:="CN-1", After:=ActiveCell, LookIn:=xlFormulas, LookAt _
            :=xlPart, SearchOrder:=xlByRows, SearchDirection:=xlNext, MatchCase:= _
            False, SearchFormat:=False).Activate
Loop While ActiveCell.Row = endRa.Row + 1

Rows(startRa.Row & ":" & endRa.Row).Select
End Sub 
```

# android - 浏览器的 SMS URI 架构

> ID：13526139
> 
> 赞同：0
> 
> 时间：2012-11-23T09:28:43.623
> 
> 标签：android, iphone, asp.net, blackberry

我正在开发一些移动 Web 应用程序（在 asp.net 3.5 中）。我想使用 sms uri (sms:) 打开 SMS 编辑器，但我的客户想使用带有正文的 sms uri 打开移动 SMS 编辑器text.I 用 BlackBerry、iPhone、Android 进行检查。

```
<a href="sms:+447787000000?body=hello">Send SMS</a> 
```

这在黑莓上运行良好，但不支持 iPhone 和 Android。有人可以帮帮我吗？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:00:08.727

iPhone 不接受任何消息文本，它只会接收电话号码。你可以在这里看到这个
[http://developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Articles/sms.html](http://developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Articles/sms.html)
来源：[https ://stackoverflow.com/a/6480533/1117760](https://stackoverflow.com/a/6480533/1117760)

# android - 地图应用程序上的Android异常

> ID：13526140
> 
> 赞同：0
> 
> 时间：2012-11-23T09:28:44.127
> 
> 标签：android, google-maps, exception

我基于地图的 android 应用程序，出现在 google play 中，用户体验崩溃。
它似乎在搜索 gps 本地化时出现一次。这里有 2 个用户发送给我的例外：

类：java.util.ConcurrentModificationException 方法：ArrayList$ArrayListIterator.next()

堆：

```
java.util.ConcurrentModificationException
    at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:576)
    at com.google.android.maps.OverlayBundle.draw(OverlayBundle.java:44)
    at com.google.android.maps.MapView.onDraw(MapView.java:530)
    at android.view.View.draw(View.java:6970)
    at android.view.ViewGroup.drawChild(ViewGroup.java:1732)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
    at android.view.ViewGroup.drawChild(ViewGroup.java:1730)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
    at android.view.View.draw(View.java:6973)
    at android.widget.FrameLayout.draw(FrameLayout.java:357)
    at android.view.ViewGroup.drawChild(ViewGroup.java:1732)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
    at android.view.ViewGroup.drawChild(ViewGroup.java:1730)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
    at android.view.ViewGroup.drawChild(ViewGroup.java:1730)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
    at android.view.ViewGroup.drawChild(ViewGroup.java:1730)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
    at android.view.ViewGroup.drawChild(ViewGroup.java:1730)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
    at android.view.View.draw(View.java:6973)
    at android.widget.FrameLayout.draw(FrameLayout.java:357)
    at android.view.ViewGroup.drawChild(ViewGroup.java:1732)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
    at android.view.View.draw(View.java:6973)
    at android.widget.FrameLayout.draw(FrameLayout.java:357)
    at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java:1971)
    at android.view.ViewRoot.draw(ViewRoot.java:1600)
    at android.view.ViewRoot.performTraversals(ViewRoot.java:1321)
    at android.view.ViewRoot.handleMessage(ViewRoot.java:1957)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:143)
    at android.app.ActivityThread.main(ActivityThread.java:4277)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
    at dalvik.system.NativeStart.main(Native Method) 
```

在模拟中它不会出现。有什么想法吗？

提前发送。

编辑 Luis 怀疑我的帖子有问题：

```
 public void onLocationChanged(Location location) {
    // TODO Auto-generated method stub
    Log.d(TAG, "onLocationChanged with location " + location.toString());
    // Displays lat, long, altitude and bearing
    String text = String.format("Lat:\t %f\nLong:\t %f\nAlt:\t %f\nBearing:\t %f", location.getLatitude(), location.getLongitude(), location.getAltitude(), location.getBearing());
    this.locationText.setText(text);

    try {
        // This gets a list of addresses 
        List<Address> addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 10);
        for (Address address : addresses) {
            this.locationText.append("\n" + address.getAddressLine(0));
        }

        // Convert latitude and longitude into int that the GeoPoint constructor can understand
        int latitude = (int)(location.getLatitude() * 1000000);
        int longitude = (int)(location.getLongitude() * 1000000);

        GeoPoint point = new GeoPoint(latitude,longitude);
        mapController.animateTo(point);

    } catch (IOException e) {
        Log.e("LocateMe", "Could not get Geocoder data", e);
    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T17:27:48.283

您在代码中使用线程吗？

看起来您的一个线程正在尝试在覆盖列表中添加一些内容，而`MapView`类正在迭代它以绘制它们。

您需要发布相关代码以获得更具体的答案。

问候。

# class - 卡在 Windows 8 应用程序开发中的类结构

> ID：13526141
> 
> 赞同：1
> 
> 时间：2012-11-23T09:28:46.203
> 
> 标签：class, windows-8, structure, datacontractserializer

必需：我想要一个像这样序列化的 XML 文件

```
<StudentGroupList>
   <Group key = 1>
      <StudentItem>
           <Name> John </Name>
           <GroupName>1</GroupName>
      <StudentItem>
      <StudentItem>
           <Name> David</Name>
           <GroupName>1</GroupName>
      <StudentItem>
   </Group>
   <Group key = 2>
      <StudentItem>
           <Name> Ron</Name>
           <GroupName>2</GroupName>
      <StudentItem>
   </Group>
 </StudentGroupList> 
```

这是我创建的用于序列化和反序列化的类结构

```
 public class StudentItem
    {
       public string Name {get; set;}
       public  int GroupName {get; set;}
    }

   public  class StudentGroupList
    {
       public List<StudentItem> lstStudnetItem = new List<StudentItem>();
       public int key {get;set;}
    }
    class StudentDataSource
    {
          public  List<StudentGroupList> lstStudnetGroup = new List<StudentGroupList>();   
          //Confusion in below line
           static StudentDataSource objDataSource = new  StudentDataSource();
    } 
```

我创建了一个实例，`StudentDataSource`以便我可以在我的应用程序的每个页面上全局使用它。我想使用单个实例，因为此实例将从上面的 XML 文件反序列化，并在进行任何更改后同时更新它。现在如您所见，我已将此实例设为静态，但无法访问`lstStudnetGroup`.

请为我提供类结构的解决方案，以便我可以轻松创建应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T16:26:01.027

我认为最直接的问题`lstStudnetGroup`是它默认具有私有访问权限。将“public”添加到声明中，您应该可以看到它。也就是说，您将无法在课堂`objDataSource`外访问任何一个。`StudentDataSource`

StudentDataSource 是否需要包含其自身的静态实例？这还不够吗：

> 类 StudentDataSource { public static List lstStudnetGroup = new List(); }

然后在代码中你可以参考

> StudentDataSource.lstStudnetGroup.XXXX

# html - 即使有margin: 0，Div 仍然有margin；

> ID：13526142
> 
> 赞同：3
> 
> 时间：2012-11-23T09:28:51.327
> 
> 标签：html, css, layout, margin

我正在尝试制作一个没有边距的 div（用于页面上的标题）。我试过这个：

```
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <style>
        .test {
            height: 100px;
            margin: 0;
            background-color: #000000;
        }
        </style>
    </head>
    <body>
        <div class="test">&nbsp;</div>
    </body>
</html> 
```

但 div 周围仍有边距。我究竟做错了什么？谢谢你的帮助！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-23T09:29:41.397

这是 . 附近的默认边距`body`。浏览器为某些元素上的某些 CSS 属性定义了某些默认值——这就是其中之一。不幸的是，有时默认值因浏览器而异。

您应该使用所谓的[重置 CSS](http://www.cssreset.com/)或删除默认边距：

```
body { margin: 0; } 
```

[jsFiddle 演示](http://jsfiddle.net/6WQHb/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:31:27.890

身体也有边缘。因此，除非您在正文上设置边距 0，否则它不会将该页面的边距完全设置为 0。

# c# - 向推特发送消息

> ID：13526145
> 
> 赞同：0
> 
> 时间：2012-11-23T09:29:11.953
> 
> 标签：c#, c#-4.0, twitter

我想在 中发布消息`twitter`。

这是我目前使用的代码：

```
public void PostTweets(string userName, string password, string updateMessage)
{
   using (WebClient wc = new WebClient())
   {
      wc.Credentials = new NetworkCredential(userName, password);
      ServicePointManager.Expect100Continue = false;

      byte[] updateMessageBytes = System.Text.Encoding.UTF8.GetBytes("status=" + updateMessage); //Use UTF8 to get it properly encoded if you use characters like ç ã etc...

      wc.UploadData("https://dev.twitter.com/docs/api/1/post/statuse/update",updateMessageBytes);
   }
} 
```

它给了我一个错误，例如：

```
The remote server returned an error: (401) Unauthorized. 
```

# java - Hibernate @ManyToOne getId() 导致 fetch

> ID：13526148
> 
> 赞同：1
> 
> 时间：2012-11-23T09:29:18.450
> 
> 标签：java, hibernate, jboss7.x

我有一个非常简单的选择（SELECT h FROM Hero h where h.owner = :player）会导致 n+1 问题的问题。该查询触发了对每个英雄实体的游戏选择。

首先，我添加了 fetch type lazy，它在选择期间删除了替代查询。在我的代码中，我只需要一次游戏来获取 id。这再次触发了对每个实体的选择。

所以我添加了一个有帮助的连接提取，但它导致了我不需要的连接！我如何告诉休眠代理对象在不获取整个实体的情况下给我 ID？

我在那里尝试了提示但没有成功：http: [//256stuff.com/gray/docs/misc/hibernate_lazy_field_access_annotations.shtml](http://256stuff.com/gray/docs/misc/hibernate_lazy_field_access_annotations.shtml)

来自 hibernate 的 @AccessType 和来自 javax 的 @Access 都没有区别。当我调用 getId() 时，将始终获取游戏。

任何想法我错过了什么？我经常需要这个，如果可以的话，我想避免加入。

问候，马库斯

PS：我使用 jpa2 + hibernate 4 和 jboss 7。

```
@Entity
@NamedQueries({ 
    @NamedQuery(name = "Hero.findByPlayer", query = "SELECT h FROM Hero h JOIN FETCH h.game where h.owner = :player") 
    })
public class Hero extends GameCharacter implements Serializable {   
    @ManyToOne
    private Player owner;

@Entity
public abstract class GameCharacter extends GameObject implements Serializable {
     ... nothing special in here
}

@Entity
@Inheritance(strategy=InheritanceType.SINGLE_TABLE)
public abstract class GameObject implements Serializable {
    @Id
    private String id = java.util.UUID.randomUUID().toString();

    @ManyToOne(fetch=FetchType.LAZY)
    protected Game game;

@Entity
public class Game implements Serializable {
    private static final long serialVersionUID = 4379242677193301727L;

    @Id
    private String id = java.util.UUID.randomUUID().toString(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:35:33.933

这只是休眠中延迟加载工作方式的副作用。本质上，对惰性对象的任何访问都会导致它被填充。它不会对 id 进行特殊处理。

我认为您实际上无法在不触发加载的情况下从游戏对象访问 ID。您可以做的是使用 getIdentifier 方法向 hibernate 询问对象的 id。我相信这不会触发 fetch，因为 hibernate 只是在查找对象的元数据。

或者，您可以在执行查询时与英雄一起加载游戏 ID。

例如

```
SELECT h, h.game.id FROM Hero h where h.owner = :player 
```

这将返回一个配对列表，而不是像当前查询那样为您找到英雄列表，每对都有英雄和游戏 ID。

ID 在 HQL 中被特殊处理，因此这不应触发您在尝试访问对象时获得的获取或加入。

# seo - 谷歌在域名中分配页面排名的优先级？

> ID：13526151
> 
> 赞同：0
> 
> 时间：2012-11-23T09:29:28.443
> 
> 标签：seo, pagerank

我听说谷歌有一些优先级`.us`或`.name`域名为他们分配页面排名。
例如，在 a`.at`和`.us`域名相同的情况下，`.us`域名的页面排名将高于`.at`.

我想知道这是否正确？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:38:22.927

我不这么认为。从逻辑上讲，Google 必须将 tld 视为相同。否则，`.us`与其他网站管理员不同，所有网站管理员都会购买 tld，即使他们在美国以外的网站上工作。此外，我认为 Google 不会`.us`比其他人为 tld 提供更多的 PageRank。一个网站是一个网站，尽管它的顶级域名。

在我看来，逻辑上没有优先级。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T10:09:38.343

不。Google Web Spam 团队负责人 Matt Cutts 在此视频中解释了很多有关 TLD 的内容：http: [//domainate.wordpress.com/2011/11/10/matt-cutts-discusses-new-top-level-域和谷歌/](http://domainate.wordpress.com/2011/11/10/matt-cutts-discusses-new-top-level-domains-and-google/)

对 TLD 没有偏见，或者正如文章引用的那样：

> 1.  Google 不会对新 TLD 产生偏见
> 
> Matt 多次明确表示，无论域的 TLD 是什么，Google 都会努力返回良好的相关结果。他甚至指出，谷歌对最近发布的 .XXX 没有偏见。

尽管作者确实添加了：

> 我的想法：Matt 在他们没有考虑 TLD 之前说过，但许多研究表明这不是真的。事实是，他们可能不会直接对 TLD 产生偏见，但他们的算法中会考虑域和站点年龄等因素。与其他扩展中已建立的站点/域相比，新 TLD 在这两个方面都有缺点。

有些人后来认为谷歌会人为地支持新的顶级域名来弥补这一点，但这里有更多关于这一点： [http ://domainate.wordpress.com/2012/03/15/matt-cutts-confirms-new-tlds-will -not-get-seo-preference/](http://domainate.wordpress.com/2012/03/15/matt-cutts-confirms-new-tlds-will-not-get-seo-preference/)

> 无论顶级域（TLD）如何，谷歌在返回相关网页方面都有丰富的经验。Google 将尝试对新 TLD 进行适当的排名，但我不认为新 TLD 会比 .com 获得任何形式的初始偏好，而且我也不会打赌这种情况会在长期内发生。

# perl - 哈希的 Perl 哈希

> ID：13526155
> 
> 赞同：-1
> 
> 时间：2012-11-23T09:29:38.353
> 
> 标签：perl, hash-of-hashes

我有一个包含行列表的文件，例如

在 12345 注入值 1 到 'signal_A'
在 12345 注入值 0 到 'signal_B'
在 12346 注入值 1 到 'signal_A'
在 12348 注入值 1 到 'signal_A'
在 12350 注入值 0 到 'signal_A'
在 12354 注入值 0到“信号_A”

从这个文件中，我想读到文件的末尾，我想建立一个散列的散列，比如

```
%tab = (
       12345 => {           
       signal => "signal_A",           
       value  => "1",        
     },

      12345 => {
       signal => "signal_B",
       value  => "1",
     },
); 
```

我也想迭代这个哈希表。

将非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T09:41:55.530

您有两个具有相同键的元素。该数据结构不可能存在。那么以下内容如何：

```
%tab = (
   12345 => [
      {
         signal => "signal_A",           
         value  => "1",        
      },

      {
         signal => "signal_B",
         value  => "1",
      },
   ],
   12346 => [
      {
         signal => "signal_A",           
         value  => "1",        
      },
   ],
   ...
); 
```

您将使用以下内容来创建它

```
push @{ $tab{$id} }, { signal => $signal, value => $value }; 
```

您可以使用迭代结构

```
for my $id (keys %tab) {
   for $event (@{ $tab{$id} }) {
      ...$event->{signal}...;
      ...$event->{value}...;
   }
} 
```

# jquery - jQuery变量属性不起作用

> ID：13526158
> 
> 赞同：1
> 
> 时间：2012-11-23T09:29:47.133
> 
> 标签：jquery, html

看看这些 html 和 jQuery 代码：

```
<button>div</button>
<button>span</button>
<div class="fill">fill</div>
<span class="fill">fill</span>
<div class="fill">fill</div>
<span class="fill">fill</span>
<div class="fill">fill</div>
<span class="fill">fill</span>

(function() {
    $('button').click(function() {
        var buttonVal = $(this).text();

        $.expr[':'].fillClass = function(element) 
            { return $(element).attr('class') === buttonVal);};

        $('div:fillClass').css('opacity', '.2');
    });
})(jQuery); 
```

当我单击按钮时，它将按钮的值保存在 中`buttonVal`，但是当我放入时`buttonVal`不起作用`return $(element).attr('class') === buttonVal`。我已经更改了函数的顺序，但我不知道为什么它不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:31:13.373

首先，我将假设您正在尝试返回元素的类是否等于的布尔值`buttonVal`。在这种情况下，您需要将整个语句括在括号中，如下所示：

```
return ($(element).attr('class') === buttonVal); 
```

但是，还有另一个问题。在您的代码中，您有`var buttonVal = $(this).text();`. 因此，`buttonVal`将具有值`div`或`span`取决于您单击了哪个按钮。您给出的所有元素都没有这个类`div`，`span`因此它对任何东西都不是真的。

# c# - 棱镜标签内容和功能区

> ID：13526161
> 
> 赞同：0
> 
> 时间：2012-11-23T09:29:59.047
> 
> 标签：c#, .net, wpf, prism, ribbon

我正在开发一个棱镜应用程序，顶部有一个功能区栏，左侧有一个外观栏和一个选项卡式内容区域（带有 regionadapter 的选项卡控件）。

我正在使用视图注入。

我现在的问题是：当从一个现有的 tabitem 切换到另一个 tabitem 时，如何将 tabitem 自己的 tabcontrol（例如 edituser 按钮）注入功能区。

我认为 INavigationAware 在这种情况下不起作用。（正确的？）

我能想象的唯一方法是连接到 tabheader 并在那里做一些事情。

我很高兴你能给我的每一个解决方案。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T12:21:04.937

我阅读了您对我的问题的回答，并认为 Prism`EventAggregator`可以帮助您。它旨在促进模块间通信以及其他功能。以下是如何使用它的示例：

获取 EventAggregator 的一个实例。我在这里使用依赖注入：

```
// Ctor injection
private IEventAggregator _eventAggregator;
public YourViewModel(IEventAggregator eventAggregator)
{
    _eventAggregator = eventAggregator;
} 
```

创建要发布的事件（参数用于有效负载）。在您的情况下，选项卡选择：

```
public class TabSelectedEvent:CompositePresentationEvent<object>{} 
```

选择选项卡时发布事件；

```
_eventAggregator.GetEvent<TabSelectedEvent>().Publish(null); 
```

最后，订阅事件并响应：

```
_eventAggregator.GetEvent<TabSelectedEvent>().Subscribe(OnTabSelectedEvent); 
```

现在，你应该可以走了。

# sql - 查看本月未支付的账单

> ID：13526169
> 
> 赞同：0
> 
> 时间：2012-11-23T09:30:36.413
> 
> 标签：sql, oracle

我的目标是查看 SEP/2012 月份尚未支付的账单

```
create view Viewe as
  select companyname,salutation,firstname,lastname, billingadd, billing.latestatus
  from CUSTOMER, CUST_NONRES, BILLING
  where cust_nonres.customerid = billing.custid
  and to_date(to_char(billingdate, 'MON-YYYY')) = to_date('092012', 'MON-YYYY')
  and PAID = 'NO'; 
```

当我从 viewe 中选择 * 时，这是我的错误

> ORA-01858：在预期数字 01858 的地方发现了非数字字符。 00000 - “在预期数字的地方发现了非数字字符” *原因：要使用日期格式模型转换的输入数据不正确. 输入数据不包含格式模型需要数字的数字。*操作：修复输入数据或日期格式模型，以确保元素在数量和类型上匹配。然后重试该操作。

谢谢你的帮助。

* * *

我已将其更改为：

```
create view Viewe as
select companyname,salutation,firstname,lastname, billingadd, billingdate, billing.latestatus, amount
from CUSTOMER, CUST_NONRES, BILLING
where cust_nonres.customerid = billing.custid
and customer.customerid = cust_nonres.customerid
and TRUNC(billingdate, 'MM') = to_date('092012', 'MMYYYY')
and PAID = 'NO'; 
```

- - - - - - - - - - - - - - 更新

嗨，伙计们，任何人都可以帮助我，我怎么可能总结它，我可以使用什么语法来总结生成的条目。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:33:33.900

试试这个

```
create view Viewe as
select companyname,salutation,firstname,lastname, billingadd, billing.latestatus
from CUSTOMER, CUST_NONRES, BILLING
where cust_nonres.customerid = billing.custid
and TRUNC(billingdate, 'MM') = to_date('092012', 'MMYYYY')
and PAID = 'NO'; 
```

这将解决日期错误消息的问题。

背后的逻辑是该`TRUNC`函数将日期（因此名称）截断为指定字段。它可能比转换为字符串然后返回日期要快得多。

**但是**你会得到不好的结果！！！您有**3 个**表，并且只有**1 个**表达式指定它们之间的连接！这会给你非常奇怪的结果（由未指定的链接引起的笛卡尔积导致的重复）。我还建议使用`JOIN ON`语法，因为它更具可读性（无论如何优化器都会处理它）：

```
create view Viewe as
select companyname,salutation,firstname,lastname, billingadd, billing.latestatus
from CUSTOMER
JOIN CUST_NONRES ON cust_nonres.customerid = customer.customerid --this is just a guess
JOIN BILLING ON cust_nonres.customerid = billing.custid
where 
and TRUNC(billing.billingdate, 'MM') = to_date('092012', 'MMYYYY')
and PAID = 'NO'; 
```

由于我以这种方式编写查询，因此我永远不会忘记添加用于连接表的正确表达式，而使用 WHERE 子句连接表时我偶尔会犯错误 - 有时确实需要时间才能找到错误。

另外，请记住，如果您执行大量这样的连接，则应考虑使用[基于 Oracle 函数的索引](http://www.akadia.com/services/ora_function_based_index_2.html)，例如：

```
CREATE INDEX IDX_BILLINGDATE_TRUNC_MM ON BILLING(TRUNC(BILLINGDATE,'MM')); 
```

因为这将*显着*提高连接性能。

此外，根据手头的数据量，您可能会阅读[partitioning](http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm)。

推荐阅读

*   [日期的 Oracle TRUNC 函数](http://www.techonthenet.com/oracle/functions/trunc_date.php)

# javascript - 定位一个类，无论它的名称中是否有数字

> ID：13526171
> 
> 赞同：2
> 
> 时间：2012-11-23T09:30:43.173
> 
> 标签：javascript, jquery

我对此有点挣扎：假设我在正文中有一个类，`<body class="video page">`在我的页面中我有一个分页，它`<body class="video-2 page">`在每一页添加一个这样的数字。我想以该类为目标，`video`无论它是否具有数字，以便在满足条件时应用一些 jquery。

我怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:35:34.587

您可以使用此属性选择器来选择具有以 开头的类属性的元素`video-`：

```
[class^="video-"] 
```

但要使其正常工作，您必须确保`video-`该类是元素`class`属性中的第一个类（请参阅[http://jsfiddle.net/Czyep/](http://jsfiddle.net/Czyep/)）。

`video`将类和分页类分开可能会更好，例如：

```
<body class="video page-2 page"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:35:17.537

我会像`class="video two page"`这样拆分课程，以便您仍然可以分别处理这两个课程。不过你可以做类似的事情

```
$('body[class*=video]') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:33:28.957

```
$("body").not(".video"); 
```

应该选择所有以数字结尾的实体。你也可以这样做：

```
if($("body").is("[class$='video-'")) {} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:33:43.570

你试过这样的事情吗？

```
$('.video,.video-'+pageNumber).dosomething() 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T09:36:48.533

您可以使用[以 selector 开头的属性](http://api.jquery.com/attribute-starts-with-selector/)：

```
$("body[class^='video']"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-23T09:59:10.697

假设我正确理解了您的问题，我建议您在选择器中使用串联。

我假设您知道您在 body 标签上指定了两个类，即 video 和 page 或 video-2 和 page。因此，我假设该页面在您的选择中很重要，应该包含在您的选择器中。

因此我会使用这种语法，虽然不像某些语法那样简洁，但很清楚发生了什么。显然，您需要将其合并到驱动您的页面选择的逻辑中。

```
var suffix = "";

$(".video" + suffix + ".page").dosomething();  // select <body class="video page">

suffix = "-2";

$(".video" + suffix + ".page").dosomething();  // select <body class="video-2 page"> 
```

请注意，选择器中的类之间不应有空格，因为它们已在 html 中的同一标记中声明。

您是否指定了类似的内容

```
<body class="video">    // body wrapper
    <div class="page">  // page wrapper
    </div>
</body> 
```

然后需要一个空格，因为您随后希望在正文中的 div 页面上与类视频或视频 2 进行匹配（视情况而定）。

```
suffix = "-2";

$(".video" + suffix + " .page").dosomething();  // select <body class="video-2"><div class="page"> 
```

# android - 从android中的浏览器启动服务

> ID：13526173
> 
> 赞同：0
> 
> 时间：2012-11-23T09:30:43.227
> 
> 标签：android, android-service

每当在浏览器中点击链接时，我想启动一项服务，我从下面的意图过滤器知道我们可以启动活动。

```
 <intent-filter> 
             <action android:name="android.intent.action.VIEW" />

             <category android:name="android.intent.category.DEFAULT" />
             <category android:name="android.intent.category.BROWSABLE" /> 

            <data android:scheme="acb" /> 

            android:host="*.abc.com"
             android:scheme="http" /> 
             <data
            android:host="*.abc.com"
            android:scheme="http" />
          </intent-filter> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T12:03:53.250

您需要让链接启动一个启动服务的活动。您不能直接从链接启动服务。

# html - bg-image 上的可点击链接

> ID：13526175
> 
> 赞同：0
> 
> 时间：2012-11-23T09:30:54.620
> 
> 标签：html, css

这个问题困扰了我很长时间，我试图找出解决方案，但我能得到它。

我有`background image`div 标签，在该图像上我有部分文本，我想选择它作为链接。

所以我尝试这种方式`#signUp`是位于 div 中的 aa 元素`#main_text`：

```
#signUp {
   display:block;
   width:137px;
   height:100px;
   position:absolute;
   left:31px;
   top:289px;
}

#main_text {
  width: 840px;
  height: 335px;
  background-color: white;
  margin: auto;
  position: relative;
} 
```

问题是这段代码在除 IE 之外的所有浏览器中都能正常工作，在 IE`signUP`上不可点击，任何解决方案，谢谢。

这是 html 部分：

```
<div id="main_text">
<?php if (function_exists("easing_slider")){ easing_slider(); }; ?><a href = "#" id="signUp" class="eModal eModal-1"></a>     
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:13:38.523

这应该适用于 IE6、IE7 和更新版本。[http://jsfiddle.net/uPeWh/](http://jsfiddle.net/uPeWh/) 我认为问题出在容器的 z-index 上。

```
#signUp {
    z-index: 20;
    display: block;
    width: 100px;
    height: 100px;
    position: absolute;
    left: 50px;
    top: 50px;
    background-color: red;
    font: 1em Arial;
    color: white;
}

#main_text {
    z-index: 10;
    width: 300px;
    height: 200px;
    margin: 0;
    padding: 0;
    position: relative;
    background-color: grey;
} ​

<div id="main_text">
    <a href = "#" id="signUp" class="eModal eModal-1">Click me</a>     
</div>​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:14:19.927

请参阅下面提到的代码，它也适用于 IE IE8+

**HTML**

```
<div id="main_text">
    <a href = "#" target="_blank" id="signUp" class="eModal eModal-1">Sign Up</a>
</div> 
```

**CSS**

```
#signUp {
   display:inline-block;
   width:137px;
   height:100px;
   position:absolute;
   left:31px;
   top:289px;
   background:red;
   color:black;
   text-align:center;

}

#main_text {
  width: 840px;
  height: 335px;
  background-color: green;
  margin: auto;
  position: relative;
} 
```

**[演示](http://tinkerbin.com/GwE0olI7)**

# javascript - onclick 不适用于 android 应用程序中的锚标记

> ID：13526176
> 
> 赞同：0
> 
> 时间：2012-11-23T09:31:00.507
> 
> 标签：javascript, android, jquery, html, cordova

我正在尝试使用锚标记以及在 javascript 中调用函数。我正在使用以下代码来执行此操作。

```
<a href="'+submitUrl+'" onclick="showLoaderBefore("Loading..."); return true;" data-ajax="false" data-role="button" data-transition="slide">'+rList.name+'</a> 
```

但这不起作用... onclick 事件未触发...我尝试将警报放入函数中，但它没有调用该函数...。

这个问题有什么解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:02:26.410

我相信由于没有转义的引号而没有调用该函数：

```
onclick="showLoadedBefore("Loading...")" 
```

这里有一个[jsFiddle](http://jsfiddle.net/krustev/bXmCa/)，它证明了这一点。

您可以尝试使用撇号或删除引号，如下所示：

```
onclick=showLoadedBefore("Loading...") 
```

# time - solr查询中区分大小写的布尔运算符有什么作用

> ID：13526179
> 
> 赞同：0
> 
> 时间：2012-11-23T09:31:02.103
> 
> 标签：time, solr

在 Solr 查询中，当我使用***OR***（大写字母）时，查询处理时间是***172*** ***毫秒***。但是当我使用***或***（小写字母）时，查询处理时间是***109 毫秒***。在中使用区分大小写的布尔运算符的效果是什么？ solr 搜索查询...？

以下是我的查询

//mydoamin:8983/solr/C62/select?q=content(every) 或 contentstem(every)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:52:48.910

根据[查询解析器语法](http://lucene.apache.org/core/old_versioned_docs/versions/2_9_1/queryparsersyntax.html#Boolean%20operators)的布尔运算符区分大小写。

```
Boolean operators must be ALL CAPS 
```

因此，当您使用 OR 时，它实际上是和 OR 查询。
但是，小写或将是一个普通的文本搜索，它会比布尔值更快。

请检查使用调试选项形成的查询。

# objective-c - 如何更新应用内容下载数据？

> ID：13526184
> 
> 赞同：0
> 
> 时间：2012-11-23T09:31:15.980
> 
> 标签：objective-c, xcode

我即将构建一个应用程序，其中有一个图像，提供有关每周需要更新的每周事件的信息。我不能每周在苹果商店更新应用程序并强迫用户经常更新应用程序，所以我想自动更新应用程序。我看到一个应用程序这样做：每次用户想要查看需要更新的内容以及他是否连接到互联网时，它都会更新内容。如果他在线，则显示的内容将是最后下载的内容。他们怎么能做到这一点？我在应用程序上唯一能看到的是，当它下载更新的内容时，它显示了典型的轮子（http://spie.org/images/global/SearchWheel_Frame1.gif）。

我正在使用 sqllite 数据库来存储数据。事实上，我必须更新数据库中的一些数据字符串......

# javascript - 计算具有绝对定位子项的容器的高度

> ID：13526185
> 
> 赞同：2
> 
> 时间：2012-11-23T09:31:18.470
> 
> 标签：javascript, jquery

如何计算具有绝对位置的孩子的容器的高度？我们可以假设只有直接子级是绝对定位的。孩子有相同的类（没有 ID）并被旋转，一些使用填充定位，如下所示：

```
<div class=my-view style="position: relative";>
<div class=my-child style="position: absolute; top: 5px; left: 10px; -webkit-transform: rotate(13deg);">
<div class=my-child style="position: absolute; padding-bottom: 5%; padding-left: 10%; -webkit-transform: rotate(-6deg);">
</div>
</div> 
```

（对于其他浏览器，转换标签当然看起来不同）

PS如果有必要，孩子可能有身份证

[更新]也许像这样的代码会起作用，但不会，因为在循环之后 oTot.tot 为零（“tot”就像“total”）：

```
 var oTot = { tot: 0 };  
  $(".my-view .my-child").each(function() {
    var h = $(this).outerHeight();
    var y = $(this).position().top + h;
    if (y > oTot.tot) {
      oTot.tot = y;
    }
  }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:05:10.137

试试它的解决方案。

```
var oTot = { tot: 0 };  
$(".my-child").each(function() {
    var h = $(this).outerHeight(),
        y = $(this).position().top + h;

    if (y > oTot.tot) {
      oTot.tot = y;
    }
});

console.log(oTot); 
```

# windows-phone-7 - 可本地化的推送通知

> ID：13526187
> 
> 赞同：3
> 
> 时间：2012-11-23T09:31:22.000
> 
> 标签：windows-phone-7, localization, push-notification, mpns

我想本地化 Toast 推送通知的磁贴和内容。当我收到新的推送通知时，我可以从应用程序中获取本地化字符串吗？（**不在服务器端**）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-17T14:10:45.003

不，不可能运行任何代码来响应手机收到的通知（就像在其他平台上一样）。

如果你想本地化通知的内容，它***必须***在服务器端完成。

# jquery - jQuery：将每个标签文本内容移动到它的关联选择选项与 selected=selected 属性

> ID：13526189
> 
> 赞同：0
> 
> 时间：2012-11-23T09:31:27.677
> 
> 标签：jquery, forms, select, label, option

我是 jQuery 初学者，这就是我想要做的：

我有一个包含两个`<select>`控件的表单。他们每个人都有不同的`<label>`. 我需要将每个文本内容移动到其关联`<label>`的第一个`<option>`( ) 。`<option value="" selected="selected">``<select>`

这是我的 jQuery ：

```
jQuery(document).ready(function(){
    var CONTACT_FILTER_LABEL = jQuery(".contact-filter option:selected").closest("label").text();

    jQuery(".contact-filter option:selected").each(function(){
        jQuery(this).html(CONTACT_FILTER_LABEL);
    });    
}); 
```

我想我还需要用`<option>`相同的内容填充控件的 value 属性。我尝试了很多东西，但仍然无法做到。

jsFiddle 链接（已更新！）：http: [//jsfiddle.net/y9JaE/27/](http://jsfiddle.net/y9JaE/27/)。

非常感谢您提供的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:44:30.940

试试这个：

```
$(function() {
    $("select").each(function() {
        var text = $(this).prev("label").text();
        $(this).children("option[selected='selected']").val(text).text(text);
    });
});​ 
```

[小提琴演示](http://jsfiddle.net/y9JaE/29/)

显然，您的 jQuery 选择器将根据您使用的结构/css 类而有所不同，您必须根据标签结构来决定最好的`.siblings()`,等等。`.closest()`

# git - GitHub 上拉取请求中的分支名称

> ID：13526194
> 
> 赞同：4
> 
> 时间：2012-11-23T09:31:43.263
> 
> 标签：git, github, pull-request

让我看看我是否做对了，我是 Git 新手。

1.  假设我在 GitHub 上创建了一个项目的分支并进行了一些更改。如果我要提交、推送和注册这些更改的拉取请求，它被认为是一种好的做法，即创建一个新的命名分支，其名称特定于我所做的任何事情。

2.  因为如果我只是使用 master 然后将其他（不相关的）更改推送到我的 fork 上的 master ，它们将自动附加到拉取请求中。至少这就是我从[使用拉取请求中](https://help.github.com/articles/using-pull-requests)理解以下内容的方式：

> 拉取请求可以从任何分支或提交发送，但建议使用主题分支，以便在必要时可以推送后续提交以更新拉取请求。

假设维护者接受了拉取请求。

1.  如果我的主题分支被合并，我需要做的就是`fetch`从维护者仓库中恢复同步。

2.  但是，如果主题分支被重新设置，历史已经被重写，并且`fetch`来自维护者的 repo 会给我一个主题分支的“副本”（至少这是它在 mercurial 中的工作方式）。

3.  无论我的分支是合并还是重新设置分支（或者更确切地说是名称）都会被删除。使维护者存储库包含一个主分支。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:06:45.390

如果您将`master`不存在的内容发布到您的分支`upstream/master`（`upstream`作为官方 repo 的远程句柄），我建议您回滚`master`几个提交，然后重新合并`upstream/master`：

```
>> git checkout master         # make sure we're on master
>> git branch oldmaster        # create a new branch, just to be safe
>> git reset --hard HEAD~100   # roll back 100 commits
>> git fetch upstream          # fetch newest changes from upstream
>> git merge upstream/master   # merge the main master branch into your local one 
```

你最终应该得到你凌乱的 master 分支`oldmaster`和`master`.

# php - 如何从php中的数组中获取单个元素？

> ID：13526198
> 
> 赞同：0
> 
> 时间：2012-11-23T09:31:43.930
> 
> 标签：php, arrays

我的 dateValues 如下，

```
[dateVals] = 031012,041012; 
```

它是逗号分隔值。我想将其作为数组并获取单个值。由于我是 PHP 新手，我需要一些人的帮助。

```
$val = array[dataVals];
for($i=0;$i<sizeof($val);$i++) {
  echo "val is".$val[$i]."\n";
} 
```

不管用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:36:04.930

使用此代码

```
$dateVals = '031012,041012';
$pieces = explode(",", $dateVals);
for($i=0;$i<sizeof($pieces);$i++) {
  echo "val is".$pieces[$i]."\n";
} 
```

它会给你正确的输出。

工作示例[http://codepad.viper-7.com/PQBiZ3](http://codepad.viper-7.com/PQBiZ3)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:34:28.680

```
$dateVals = '031012,041012';

$dateValsArr = explode(',', $dateVals);
   foreach( $dateValsArr as $date) {
} 
```

试试这个代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:39:34.077

**试试这个**

```
$dateVals = '031012,041012';

$date_arr[] = explode(',',$dateVals);

for($i = 0 ; $i < count($date_arr) ; $i++)
    {
        print $date_arr[$i].'<br />';
    } 
```

# c# - bmData.Scan0.ToInt32() 溢出；

> ID：13526205
> 
> 赞同：0
> 
> 时间：2012-11-23T09:31:58.110
> 
> 标签：c#, .net, copy, overflow, buffer

我是编程这类东西的新手，搜索并没有帮助我。我在网上找到了以下代码，需要对其进行修改，因为这给了我 toint32() 上的溢出异常。

任何帮助表示赞赏！谢谢

```
// lock bitmap data
BitmapData  bmData = img.LockBits(
new Rectangle(0, 0, width, height),
ImageLockMode.ReadWrite,
PixelFormat.Format24bppRgb);

// copy image data

int srcStride = bmData.Stride;
int dstStride = bmData.Stride;

      int dst = bmData.Scan0.ToInt32() + dstStride * (height - 1);
      int src = pBuffer.ToInt32();

                for (int y = 0; y < height; y++)
                {
                    Win32.memcpy(dst, src, srcStride);
                    dst -= dstStride;
                    src += srcStride;
                }

// unlock bitmap data
img.UnlockBits(bmData); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:39:54.527

Scan0 是一个指针，如果在 64 位模式下运行，使用 ToInt32() 会溢出。您必须使用 ToInt64() 并转换回 IntPtr。您的 memcpy() 声明也是错误的。一些方便的声明：

```
private static IntPtr AddToPointer(IntPtr ptr, int offset) {
    return new IntPtr(ptr.ToInt64() + offset);
}

[DllImport("msvcrt.dll", CallingConvention = CallingConvention.Cdecl)]
private static extern int memcpy(IntPtr dst, IntPtr src, int bytes); 
```

# php - 值更新时更改值

> ID：13526211
> 
> 赞同：2
> 
> 时间：2012-11-23T09:32:25.793
> 
> 标签：php, mysql

我知道有这个语句`ON UPDATE`，有没有办法用它在我的数据库中创建一个列，当这个值改变时，另一个预定义的值设置为 0 ？提前致谢。

示例：

```
id | value | type
1      2      5
2      4      6
3      7      8 
```

如果我更新第一行的值，我希望类型自动设置为 0。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:54:52.707

您需要创建一个触发器，该触发器在每次更改行时执行，例如：

```
CREATE TRIGGER auto_update_type BEFORE UPDATE
ON your_table_name
FOR EACH ROW BEGIN

    if NEW.value <> OLD.value THEN
        SET NEW.type = 0;
    END IF;
END; 
```

在此之后，每次您进行查询时：

```
UPDATE table_name SET value = '10' WHERE id = 1; 
```

如果值与旧值不同，触发器将被执行并将类型设置为`0`

以下是如何从 phpMyAdmin 设置触发器：

![在此处输入图像描述](../Images/dea3175fe9379da50a2cdf1ab0e0857c.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:47:18.583

一种解决方案，您可以在 php 代码的帮助下完成此操作。

首先，每当您的更新功能/操作被触发，然后也更新类型值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:51:01.273

`insert`从您的 PHP 脚本中删除对和SQL 语句的`update`所有访问权限。`delete`只需使用存储过程。这样，数据库可以照顾自己并保持自己的一致性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:51:58.897

需要对这一行使用[mysql 触发器](http://dev.mysql.com/doc/refman/5.0/en/triggers.html)

# android - 如何隐藏软键盘？

> ID：13526212
> 
> 赞同：0
> 
> 时间：2012-11-23T09:32:25.963
> 
> 标签：android

我有一个显示视图的活动。该视图由各种小部件组成，其中之一是多行 EditText。当视图膨胀时，软键盘出现我如何禁用它？

我尝试过的事情：

从 EditText 中的布局中删除以下内容。

```
<requestFocus /> 
```

.

创建以下方法，然后从 oncreate 方法调用它（分辨率为 EditText）。

```
private void hideSoftKeyboard() {

        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
        imm.hideSoftInputFromWindow(resolution.getWindowToken(), 0);

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:33:54.900

将此添加到您的清单文件中

```
 android:windowSoftInputMode="stateHidden" 
```

作为

```
<activity android:name=".youractivity"
              android:windowSoftInputMode="stateHidden"

    </activity> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:34:58.910

隐藏它：

```
editText.setInputType(InputType.TYPE_NULL); 
```

当您需要展示它时，请使用：

```
editText.setInputType(InputType.TYPE_CLASS_TEXT);
editText.requestFocus();
InputMethodManager mgr = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
mgr.showSoftInput(editText, InputMethodManager.SHOW_FORCED); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:37:09.813

```
android:descendantFocusability="beforeDescendants"
 android:focusableInTouchMode="true" 
```

在顶视图中添加这两行

前任：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:descendantFocusability="beforeDescendants" <-----
    android:focusableInTouchMode="true" > <-----
    ....
    EditText
    .....
    </RelativeLayout> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:58:10.897

当您继续使用您的应用程序 manifest.xml 时，然后编写此代码。

```
 <activity android:name="yourActName"
        android:configChanges="keyboardHidden" >
    </activity> 
```

# sql-server-2008-r2 - MSACCESS.EXE 中的错误 R6034，后跟运行时错误“-2147023782 (8007045a)”

> ID：13526222
> 
> 赞同：0
> 
> 时间：2012-11-23T09:32:47.083
> 
> 标签：sql-server-2008-r2, ms-access-2010, windows-7-x64, sqldmo

启动应用程序时出现这些错误消息`MS-Access`（有`VBA`代码）。

当我在第一个错误消息中单击“确定”并在第二个错误消息中单击“调试”时，调试器打开并指向显示“ `Set oServer = New SQLDMO.SQLServer`”的行

我意识到这是 SQL-DMO 的问题，但似乎无法注册 DLL。

我的环境：`Win7 Pro 64-bit`, `Office 2010 64-bit`, `MS SQL Server 2008 R2 SP2 64-bit`.

我从 Microsoft下载了**向后兼容包**`MSI`，运行了，但什么也没有。尝试手动安装，并收到错误消息：

1.  `R6034``C:\Windows\System32\regsvr32.exe`当我单击确定时-> 模块“ ”`SQLDMO.DLL`加载失败。`Make sure the binary is stored at the specified path or debug it`……呜呜呜
2.  当我尝试从它注册时`C:\Windows\SysWOW64`，我得到“`The module "SQLDMO.DLL" may not (be) compatible with the version of Windows that you're running. Check if the module is compatible with....`

我检查了它的版本，`SQLDMO.DLL`它肯定是 64 位的。我已经找到了 SQL-DMO 需要的所有其他 DLL，并将它们存储在`SysWOW64`和`System32`.

我已经运行`Office repair`, `Windows Update`, `SQL Server repair`（日志文件表明客户端工具向后兼容性的所有内容都通过了）。

任何帮助深表感谢。谢谢，三木。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T02:49:32.350

不知道我是如何做到的，但是（以某种方式）设法注册了 64 位 SQLDMO.DLL（在它没有真正注册之前），然后在我的 VBA 代码中 - >工具 - >参考.. . 我试图从 64 位文件夹加载 SQLDMO.DLL。起初，它不起作用，然后我将 DLL 的副本放在 SysWOW64（这是一个 32 位文件夹）中并从那里注册它（一旦注册，显然，系统不需要它在那里不再 - 我删除了它，它仍然有效）。然后我试图弄清楚它是如何工作的。我检查了 VBA 代码中的参考表，Microsoft SQLDMO 对象库仍然指向 C:\Program Files (x86)\Microsoft SQL Server\80\Tools\Binn，但是当我从那里删除 SQLDMO.DLL 时仍然有效......然后我查看了C：\Program Files\Microsoft SQL Server\80\Tools\Binn 并从那里删除 SQLDMO.DLL 然后它停止工作！我不知道发生了什么，或者为什么参考表说它指向一个文件夹但实际上指向另一个文件夹，或者在之前的相同尝试之后如何，现在才起作用。我希望能够复制这个（以防我需要再次经历这个过程），所以任何想法/建议将不胜感激。谢谢，三木。

# rtc - 如何添加变更集注释作为脚本的一部分

> ID：13526225
> 
> 赞同：1
> 
> 时间：2012-11-23T09:32:53.807
> 
> 标签：rtc

创建变更集时，我会收到一个 ID，然后我可以使用它来分配变更集注释：

```
scm create changeset
scm changeset comment <id_returned_by_create> my comment 
```

创建变更集时，我可以为变更集分配别名/ID吗？这样我就可以将注释作为脚本的一部分添加到变更集中。或者是否有另一种方法可以将变更集注释作为脚本的一部分添加？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:14:35.217

按照[这个线程](https://jazz.net/forum/questions/77403/autobuilds-scm-changeset-associate-command)，我认为您不能定义自己的别名：

> 当您运行 scm status 时，您应该会看到传出的更改集。旁边会有一个数字。
> 这是别名。它是在会话期间为更改集提供的临时 ID。

# php - PHP：动态对象名称

> ID：13526227
> 
> 赞同：7
> 
> 时间：2012-11-23T09:33:13.310
> 
> 标签：php, generics, object, dynamic, scalar

> **可能重复：**
> [通过字符串获取 PHP 类属性](https://stackoverflow.com/questions/804850/get-php-class-property-by-string)

这是我的原始代码：

```
function generateQuery($type, $language, $options)
{
    // Base type
    $query = $this->Queryparts->print['filter'];

    // Language modifiers
    // Additional options

    return $query;
} 
```

“打印”是定义为对象的数组/散列（使用“（对象）”转换）。我想做这样的事情：

```
 $query = $this->Queryparts->$type['filter']; 
```

使用 $type 变量作为对象名称。这可能吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-23T09:35:37.240

您可以使用中间变量：

```
$name = 'something';
$object->$name; 
```

或者你可以使用大括号：

```
$a = array('foo' => 'bar');
$object->{$a['foo']}; //equivalent to $object->bar 
```

（顺便说一句，如果您发现自己经常这样做，则可能存在设计问题。）

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-11-23T09:36:46.997

```
$query = $this->Queryparts->{$type}['filter']; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-23T09:39:22.710

当然可以，这是一个简单的例子：

```
$obj = new stdClass();
$obj->Test = new stdClass();
$obj->Test->testing['arr'] = 'test';

$type = 'testing';
print_r($obj);
print_r($obj->Test->{$type}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:38:57.613

您还可以通过键入以下内容来使用变量变量名称`$$`：

```
$a = array('car', 'plane');
$varname = 'a';
var_dump($$varname); 
```

# svn - Eclipse Subversion：团队项目的风险

> ID：13526229
> 
> 赞同：0
> 
> 时间：2012-11-23T09:33:18.850
> 
> 标签：svn

我和我的团队使用 svn 开发了一些项目。SVN 对我来说是新的，我已经检查了该项目并想尝试 SVN 的不同功能（例如，团队-> 提交、更新、恢复......等）

我的问题是：整个团队正在使用的项目是否有任何风险？我可以在项目上做错什么吗（例如更改/删除文件，这是无法撤消的）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:49:52.660

好吧，有很多要点可以考虑，但这是 SVN 的好处，您可以与您的团队同步并尽快了解更改。所以我的意思是SVN的目的是摆脱这些风险。到目前为止我可以说的几点：

*   *你应该有一个反射，你需要在每一个机会更新你的项目

*   *确保您与团队同步（保持联系）并且您知道谁在做什么，这样您就可以摆脱编辑冲突和更新相同的代码

*   *如果您遇到冲突，请不要更改其他人的代码，如果可能，请恢复到最新的更改并添加您的更改。

*   *做出非常明确的评论，如果您正在使用票务系统，请考虑票号

*   *您可以查看 SVN 的完整历史记录和指定文件的更改。即 x 人在此日期更改了此代码块等...因此它为您提供了清晰的概述

*   *您可以将任何修订/提交与另一个提交进行比较。这也提供了清晰的概述并加快了调试进度。

*   **当我首先删除一个文件时，我更新项目以查看文件是否在最后几分钟被其他人指出，如果没有，我正在运行应用程序，该应用程序再次确保测试用例具有有效结果并提交我的更改。

和颠覆：**一切都可以撤消**。这是您可以恢复到以前的修订版的最大好处之一。

***我不确定这个问题是否属于这里，但我已经添加了我的答案。*

# html - 当 HTML 文件被移动/上传到主机时，Div 往往会崩溃。

> ID：13526234
> 
> 赞同：1
> 
> 时间：2012-11-23T09:33:38.960
> 
> 标签：html, css, xhtml

我一直在为我的学位制作一个网站，一切都很顺利；直到我将索引页转移到我的闪存驱动器上。当我在 IE9 和 Chrome 中加载页面时，所有内容都开始自行折叠。我已经尝试了很多方法来解决这个问题，但我不知道该怎么做！？

我的网站可以在以下位置找到：**ubermich.co.nf**

CSS 位于：**ubermich.co.nf/style.css**

有人可以帮我吗，我只有 4 周的最后期限，需要尽快解决这个问题...

提前致谢，

约旦

# c++ - argc atoi argv，Opencv，C++

> ID：13526241
> 
> 赞同：-5
> 
> 时间：2012-11-23T09:34:13.637
> 
> 标签：c++, opencv

你能解释一下这是什么意思吗？

```
 argc >= 3 ? atoi(argv[2]) : 40; 
```

第二个问题：是否存在函数库 - 必要的参数，结构像这样

```
 CVAPI(void)  cvAddS( const CvArr* src, CvScalar value, CvArr* dst,
                 const CvArr* mask CV_DEFAULT(NULL)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:40:35.700

第一个片段使用[三元运算符](http://en.wikipedia.org/wiki/%3F%3a#C)检查是否至少有两个参数（第一个是程序名称，因此是`3`条件中的），如果是，则表达式将第二个参数的值作为整数返回（[`atoi`](http://en.cppreference.com/w/c/string/byte/atoi)转换一个字符串到一个整数），否则表达式返回值`40`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:38:04.363

```
argc >= 3 ? atoi(argv[2]) : 40; 
```

意思是“如果 argc 大于或等于三，则返回`argv[2]`转换为整数，否则返回`40`。”前面的语句中的“返回”有点误导。实际上，表达式会根据条件解析为一件事或另一件事。

```
condition ? true_expr : false_expr 
```

按照约定，`argc`传递给 main 的参数数量`argv`是一个包含这些参数的数组。`argv[0]`是可执行文件本身的名称，因此`argv[1]`是可执行文件名称之后的第一个命令行参数。

# c# - 构建 web 部署项目时 log4net 编译错误

> ID：13526247
> 
> 赞同：0
> 
> 时间：2012-11-23T09:34:35.370
> 
> 标签：c#, visual-studio-2010, log4net

我在 Windows 7 64 位上运行的 Visual Studio 2010 中有一个 C# 解决方案。

它构建并运行良好，并且不会将 log4net.dll 复制到 bin 中。

我现在想将它部署到生产服务器，所以我添加了一个 Web 部署项目。但是，一旦我构建了 Web 部署项目，我就会在构建阶段收到以下错误：

*无法加载文件或程序集“log4net”或其依赖项之一。试图加载格式不正确的程序。*

如果我在构建失败后查看 bin 文件夹，则会出现 log4net.dll。

我们之前在其他机器上安装64位版本的Crystal Reports时发现了这个问题，但是这台笔记本电脑根本没有安装Crystal，解决方案也没有提到它。

我已经尝试在我的应用程序 x86 而不是 Any CPU 中制作其他项目，但是无法从 Any CPU 更改 Web 部署项目并且错误仍然存​​在。

我没有故意使用 log4net，也许我们使用的 DLL 之一引用了它？

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T14:44:09.637

看起来 Crystal Reports 的 64 位运行时已安装在笔记本电脑上，而我没有意识到。已卸载，一切正常。

# visual-studio-2010 - Visual Studio 2010 无法使用全部功能

> ID：13526248
> 
> 赞同：1
> 
> 时间：2012-11-23T09:34:44.147
> 
> 标签：visual-studio-2010

我正在尝试从与我的工作站位于同一域的服务器中将项目作为网站（文件->打开->网站->文件系统）打开。我可以在解决方案资源管理器中看到完整的项目。我可以打开任何文件并更新它。但似乎 VS2010 没有看到任何 dll、命名空间等。有任何代码引用或代码提示。无法使用 .sln 文件，因为当我尝试打开它时出现很多错误（Ektron CMS）。感谢您的任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:32:32.813

Visual Studio 可能需要管理员权限才能完全访问源代码。您可以尝试以管理员身份打开 Visual Studio，或者授予远程 wwwroot 文件夹的完全访问权限。

# android - 冰淇淋三明治中的大图通知

> ID：13526249
> 
> 赞同：1
> 
> 时间：2012-11-23T09:34:45.603
> 
> 标签：android, notifications

它可以通过支持库 v11 更新显示`jelly bean` `notification`（大图）`ice cream sandwich`和`notificationcompat`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T12:03:02.660

不，对不起。

`NotificationCompat`允许在较旧的 Android 设备上`BigPictureStyle`运行*，但只能忽略它。*这意味着您的代码不需要针对旧设备进行更改，但您不会神奇地获得 Jelly Bean 功能。

# android - 单击按钮更改活动时未找到源错误

> ID：13526251
> 
> 赞同：1
> 
> 时间：2012-11-23T09:34:48.643
> 
> 标签：android, eclipse, button, android-intent

我只是试图通过单击按钮触发新活动，但每次单击所述按钮时，我都会收到一条错误消息，提示“未找到源”，下方带有“编辑源查找路径”。这似乎是一个非常常见的问题，通常似乎与 OnClickListener 方法或未指向正确文件的源路径相关。

这是原始活动的文件：

```
 public class MainActivity extends Activity {

        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            Button btn = (Button) findViewById(R.id.homebutton2);
            btn.setOnClickListener(new View.OnClickListener(){
                public void onClick(View v) {
                    Intent intent = new Intent(v.getContext(), DisplayExplanation.class);
                    startActivityForResult(intent,0);   
                }
            });
        }

    } 
```

我确信 OnClickListener 没有问题，因为如果我用 toast 替换意图，toast 看起来就好了。

我还重新启动了项目，以确保源路径是正确的；它指向正确的 .jar 文件和我的项目文件夹。API 也与清单中的内容相匹配。

为了完整起见，这是我试图打开的活动：

```
public class DisplayExplanation extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_display_explanation);
    }

} 
```

我真的很感谢你能在这方面给我的任何帮助——好像我已经把头撞在墙上好几个小时了！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:37:32.540

利用

```
 Intent intent = new Intent(Current_Activity.this, DisplayExplanation.class);
                    startActivityForResult(intent,0); 
```

代替

```
Intent intent = new Intent(v.getContext(), DisplayExplanation.class);
                    startActivityForResult(intent,0); 
```

在按钮单击上启动新活动始终传递当前活动上下文而不是当前视图上下文，就像您传递启动活动的上下文一样

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:25:27.633

尝试这个...

```
Intent intent= new Intent(getApplicationContext(),DisplayExplanation.class);

    startActivity(intent); 
```

代替...

```
Intent intent = new Intent(v.getContext(), DisplayExplanation.class);
                    startActivityForResult(intent,0); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:50:36.140

在下面找到正确的代码：

```
 public class MainActivity extends Activity {

            @Override
            public void onCreate(Bundle savedInstanceState) {
                super.onCreate(savedInstanceState);
                setContentView(R.layout.activity_main);

                Button btn = (Button) findViewById(R.id.homebutton2);
                btn.setOnClickListener(new View.OnClickListener(){
                    public void onClick(View v) {
                        Intent intent = new Intent(v.getContext(), DisplayExplanation.class);
                        **startActivity(intent);**  
                    }
                });
            }

        } 
```

你的错误是： `startActivityForResult(intent,0);`
但在这里你需要使用

开始活动（意图）；

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:37:09.813

代替

```
Intent intent = new Intent(v.getContext(), DisplayExplanation.class); 
```

和

```
Intent intent = new Intent(MainActivity.this, DisplayExplanation.class); 
```

# android - SENSOR_ACCELEROMETER 异常

> ID：13526256
> 
> 赞同：0
> 
> 时间：2012-11-23T09:34:59.473
> 
> 标签：android, android-service, android-sensors

我想`SENSOR_ACCELEROMETER`在服务中注册一个，但结果是一个空异常。以下是我的代码：

```
 asensor = new AccerSensor(context);//the sensoreventlistener
 Log.i("wogua", "creating"+asensor.toString());
 manager.registerListener(asensor,manager.getDefaultSensor(SensorManager.SENSOR_ACCELEROMETER), SensorManager.SENSOR_DELAY_FASTEST);

 Exception:

Caused by: java.lang.NullPointerException::

    at com.wogua.mobileprotected.service.LostProtectService.onCreate(LostProtectService.java:36) 
```

我不知道问题是什么，sensoreventlistener 的实例不是 null::::com.wogua.mobileprotected.sensor.AccerSensor@41bf3f20

这怎么可能是 null,:::manager = (SensorManager)context.getSystemService(Context.SENSOR_SERVICE);

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:37:46.457

这是对我有用的方式：

```
 mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);
    mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);

    if (mAccelerometer != null) {
        // Success! There's an accelerometer
        mSensorManager.registerListener(this, mAccelerometer,
                SensorManager.SENSOR_DELAY_FASTEST);
    } else {
        Toast.makeText(this, "This device doesnt support accelerometer",
                Toast.LENGTH_SHORT).show();
        stopSelf();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:30:40.873

`manager`未初始化，非常确定

# php - PHP 程序无法在 Glassfish 上使用 JAX WS

> ID：13526258
> 
> 赞同：1
> 
> 时间：2012-11-23T09:35:07.040
> 
> 标签：php, service, web, glassfish, jax-ws

尝试使用 glassfish 3.1 / windows server 2003 下基于 Java 1.6 的 Web 应用程序提供的 Web 服务。该 Web 服务将由 linux 下的 php 脚本使用，该脚本使用库 php2WSDl 检索 WSDL。

好吧，php 脚本尝试调用 Web 服务方法，但没有得到任何响应，例如 TCP 级别的确认。Web 服务基于 SOAP 1.1 部署在 Tomcat 6.0 上的相同 Web 应用程序对 PHP 脚本作出响应并执行其编程例程。可能是什么问题？

如果我使用 web 服务 META 数据，如 @WebMethod glassfish 执行该方法，但 @Webparam 参数始终为空，如 java.lang.String 和 java.util.Date 尽管参数由 php 填充。

*   这个问题的原因可能是什么？
*   你会建议这个问题的什么解决方案？

# sql - SQL Server 2008 中的 BIDS、标准版和企业版

> ID：13526266
> 
> 赞同：3
> 
> 时间：2012-11-23T09:35:44.587
> 
> 标签：sql, sql-server, sql-server-2008, bids

1.  SQL Server 2008 - 标准版（64 位）是否支持商业智能开发工作室 (BIDS)？如果是，请告诉我该怎么做。

2.  SQL Server 2008 标准版和企业版的主要区别是什么？标准版（64 位）与企业版相同吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:46:11.093

> *1\. SQL Server 2008 标准版（64 位）是否支持商业智能开发工作室（BIDS）？*

是的，BIDS 是一个共享组件，可用于所有“真实”SQL Server 版本（不是 Compact）。我不能 100% 确定它会包含在 Express 版中 - 但肯定会包含在 Standard 版中，它就在那里。

您需要在安装时选择它（“共享功能”下的第一项）：

![在此处输入图像描述](../Images/c704e044f9caea6d716552688feb3aec.png)

> *2\. SQL Server 2008 标准版和企业版的主要区别是什么？标准版（64 位）与企业版相同吗？*

**否**- 标准版与企业版不同 - 拥有两个相同的版本是没有意义的**......**

[Microsoft SQL Server 站点上](http://www.microsoft.com/sqlserver/en/us/editions.aspx)有一个广泛的列表- 太长，无法在此重复。

**更新：**要找出您的数据库引擎是什么版本，请使用

```
SELECT @@VERSION 
```

它返回类似：

```
Microsoft SQL Server 2008 R2 (SP2) - 10.50.4000.0 (X64) 
Jun 28 2012 08:36:30 
Copyright (c) Microsoft Corporation
Developer Edition (64-bit) on Windows NT 6.1 <X64> (Build 7601: Service Pack 1) 
```

# html - 为什么 gmail 在这里搞砸了我的设计？

> ID：13526268
> 
> 赞同：0
> 
> 时间：2012-11-23T09:35:50.923
> 
> 标签：html, email

这是我的 php 脚本输出的内容（没有实际链接）

```
<div style="font-size: 14px; color: #333333; margin: 0; padding: 0; font-family: Arial, Helvetica, sans-serif;">
<strong>Activitate</strong>: <a href="link">tip test2</a> <br>
<strong>Data inregistrarii</strong>: 23.11.2012 11:26:57<br>
<strong>Data scadenta</strong>: 23.11.2012<br>
<strong>Descriere</strong>: test
</div> 
```

[这](http://i.imgur.com/Hz4Fz.png)（ imgur链接）是 gmail 呈现它的方式。有什么办法可以防止它这样做吗？它分解了 div 并为文本添加了紫色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:42:50.257

GMail 将紫色添加到它检测到的文本中，作为对话中上一封电子邮件的引用。在更极端的情况下，它甚至会添加折叠/展开元素（如此处所述：http: [//support.google.com/mail/bin/answer.py](http://support.google.com/mail/bin/answer.py?hl=en&answer=1357852&ctx=cbo&cbid=27218276&cbrank=1#reading) ?hl=en&answer=1357852&ctx=cbo&cbid=27218276&cbrank=1#reading ） .

> 对话早期引用的文本现在折叠在“显示修剪过的文本”图标而不是文本链接中。单击它以显示或隐藏修剪的内容。签名也折叠在省略号下。

通常，您不应该担心它，我认为您也可以防止这种情况，除非每次都发送相同的文本。

# c# - 参数超出范围异常错误

> ID：13526269
> 
> 赞同：0
> 
> 时间：2012-11-23T09:35:54.273
> 
> 标签：c#, winforms, datagridview

直到昨天，下面的代码工作正常，但今天我收到一条错误消息 Argument out of exception & index out of range。

我在这里尝试做什么，从`index 3(4th col)`最后一行的开始，取那个单元格值并放入`col 3 (index 2) cell`. 当我在最后一个单元格（从下到上）中键入它时，我收到了上述错误消息。

请帮我。

```
private void datagridview_CellValidated(object sender, CellValidatedEventArgs e)
{

if (e.ColumnIndex != 3)
    return;
int nextRowIndex = e.RowIndex -1;
int lastRowIndex = datagridview.Rows.Count;
try
{

        if (nextRowIndex <= lastRowIndex)
        {
            var valuesForcell = datagridview.Rows[e.RowIndex].Cells[3].Value.ToString();
            datagridview.Rows[nextRowIndex].Cells[2].Value = valuesForcell;
            datagridview.Rows[nextRowIndex].Cells[2].ReadOnly = true;
            datagridview.Rows[nextRowIndex].Cells[2].Style.ForeColor = Color.MediumVioletRed;
            datagridview.ClearSelection();
            datagridview.SelectionMode = GridViewSelectionMode.CellSelect;
            datagridview.Rows[nextRowIndex].Cells[3].BeginEdit();

        }

}
catch (Exception exception) { }

} 
```

![在此处输入图像描述](../Images/7943f8a1f1f49aa75f085a99e552c03b.png) ![在此处输入图像描述](../Images/6ac0d26349421445c596317a863c0d34.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:38:25.473

如果我理解得很好，你应该有：

```
private void datagridview_CellValidated(object sender, CellValidatedEventArgs e)
{

if (e.ColumnIndex != 3)
    return;
int nextRowIndex = e.RowIndex -1;
try
{

        if (nextRowIndex >=0 )
        {
            var valuesForcell = datagridview.Rows[e.RowIndex].Cells[3].Value.ToString();
            datagridview.Rows[nextRowIndex].Cells[2].Value = valuesForcell;
            datagridview.Rows[nextRowIndex].Cells[2].ReadOnly = true;
            datagridview.Rows[nextRowIndex].Cells[2].Style.ForeColor = Color.MediumVioletRed;
            datagridview.ClearSelection();
            datagridview.SelectionMode = GridViewSelectionMode.CellSelect;
            datagridview.Rows[nextRowIndex].Cells[3].BeginEdit();

        }

}
catch (Exception exception) { }

} 
```

您正在自下而上地移动价值观，对吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:37:20.810

如果`e.RowIndex`返回您`0`的第一行，那么您`nextRowIndex`将被设置`-1`为错误的。

你也`lastRowIndex`应该比行数少一。

```
int lastRowIndex = datagridview.Rows.Count - 1; 
```

我看到您没有引用 上的行`lastRowIndex`，您可以将支票修改为：

```
if (nextRowIndex < lastRowIndex) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T09:38:51.060

看起来您正在验证第 0 行中的单元格，因此`nextRowIndex`计算结果为`-1`，这显然不是有效的数组索引。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-23T09:49:45.487

将您的`if`陈述更改为以下内容：

```
 if ((nextRowIndex < lastRowIndex) && (nextRowIndex >= -1)) 
```

`-1`如果您甚至想包含`Rowheader`.

如果您不想包含，请`RowHeader`替换`-1`为`0`.

希望这可以帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T09:40:52.520

当您的`e.RowIndex`is `0`, `nextRowIndex`is`-1`并且您正在尝试访问时

```
datagridview.Rows[-1].Cells[2].Value = valuesForcell; 
```

抛出异常

# php - 使用 ffmpeg 和 php 转换时视频时间减少

> ID：13526271
> 
> 赞同：1
> 
> 时间：2012-11-23T09:36:00.130
> 
> 标签：php, ffmpeg

我正在使用 ffmpeg 和 php 将视频文件转换为 .flv。这是我的代码

```
$cmd = $this->ffmpeg . ' -i ' . $filein . ' -sameq -ar 22050 -b 2048k -f ' . $parameters['convert'] . ' ' . $fileout; 
```

在哪里`$parameters['convert'] = flv`

它适用于许多文件，但是当我上传 and 时`~80MB and ~9minutes .mp4 file`，它已成功转换为 flv，但时间减少到 2 秒。可能是什么问题和可能的解决方案。

上传限制设置为 200MB

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T00:13:31.557

如果您试图保持“相同的质量”（-sameq 表示“相同的量化器”），请使用：

> ffmpeg -i 离开.mp4 -c 复制 -copyts 离开.flv

（-copyts“复制时间戳”有助于在转换格式时保持音频/视频同步）

转换格式时*永远不要*使用 -sameq。（您将从 mp4 转到 flv。）如果您将 mp2 下采样为 mp2 或类似的东西，您可能想要复制量化器并使用 -sameq。

至于更改时间，每当您转换采样率时，您都会冒着程序计算错误长度的风险。例如，ffmpeg 并不总是正确计算 48k mp3 的长度。尝试将 44.1k mp3 上采样到 48k，然后检查 ffmpeg 和 Windows Media Player 中每个文件的长度。对于同一个文件，您可能会得到 4 种不同的长度。

# linux - 字符“-”在 Linux 上启动符号链接是否无效？

> ID：13526273
> 
> 赞同：2
> 
> 时间：2012-11-23T09:36:10.180
> 
> 标签：linux, symlink, ln

我必须重命名一些文件夹。他们有所有这个结构 local-XXXX

本地--pdf-preisliste-本地--pdf-kundendienst local-navi_flash_home

我必须删除 local- 前缀。为了维护当前文件夹，我想创建指向它们的符号链接

所以 navi_flash_home -> ./local-navi_flash_home

但是我对以-开头的符号链接有疑问

对于 local--pdf-kundendienst 我必须有 -pdf-kundendienst

我试过了

```
10:19 webadmin@jomaora:~/media% ln -s local--pdf-kundendienst -pdf-kundendienst 
ln: invalid option -- p
Try `ln --help' for more information.
10:21 webadmin@jomaora:~/media% ln -s "local--pdf-kundendienst" "-pdf-kundendienst"
ln: invalid option -- p
Try `ln --help' for more information.
10:21 webadmin@jomaora:~/media% ln -s 'local--pdf-kundendienst' '-pdf-kundendienst'
ln: invalid option -- p
Try `ln --help' for more information.
10:21 webadmin@jomaora:~/media% ln -s ./local--pdf-kundendienst -pdf-kundendienst
ln: invalid option -- p
Try `ln --help' for more information.
10:22 webadmin@jomaora:~/media% ln -s ./local--pdf-kundendienst '-pdf-kundendienst'
ln: invalid option -- p
Try `ln --help' for more information.
10:22 webadmin@jomaora:~/media% ln -s ./local--pdf-kundendienst \-pdf-kundendienst 
ln: invalid option -- p
Try `ln --help' for more information.
10:22 webadmin@jomaora:~/media% ln -s ./local--pdf-kundendienst \-pdf\-kundendienst
ln: invalid option -- p
Try `ln --help' for more information.
10:22 webadmin@jomaora:~/media% ln -s ./local\-\-pdf\-kundendienst \-pdf\-kundendienst
ln: invalid option -- p
Try `ln --help' for more information.
10:22 webadmin@jomaora:~/media% ln -s ./local--pdf-kundendienst pdf-kundendienst 
```

但没有任何效果。有什么建议吗？？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T09:38:51.197

不，这不是非法的，但以 - 开头的参数通常被解释为命令行开关。

您可以使用 -- 命令行开关来告诉大多数此类程序不要将以下参数解释为命令行开关。

```
ln -s -- ./local--pdf-kundendienst -pdf-kundendienst 
```

# javascript - scrollLeft 使用 -webkit-overflow-scrolling 自动返回到旧位置：触摸

> ID：13526275
> 
> 赞同：0
> 
> 时间：2012-11-23T09:36:13.123
> 
> 标签：javascript, jquery, html, css, webkit

`-webkit-overflow-touch`在 iOS Safari 上使用时遇到了一个奇怪的问题。

我确实有一个`div#viewport`具有以下 CSS 的：

```
#viewport{
    width: 1024px;
    height: 768px;
    overflow: scroll;
    -webkit-overflow-scrolling: touch;
} 
```

在这个 div 中，我显示的内容 ( `div.page`) 是水平尺寸的两倍。当用户到达终点时，他可以向左滑动以进入下一页。这是我的处理程序：

```
if ($('.page:visible').offset().left <= -1024){ //only change page when the page is scrolled to its end
   $('.page:visible').next('.page').buildPage().end().destroyPage(); //custom functions that DO NOT CONTAIN ANY scroll manipulation
   $('#viewport').scrollLeft(0);
} 
```

第二行应该是“倒回”新显示的页面，以便用户可以看到新显示页面的左侧部分。这在桌面上按预期工作，但在 iOS Safari 上会发生以下情况：新页面被显示，被倒带并立即反弹回右侧（我通过动画`scrollLeft`而不是仅仅设置它来解决这个问题）。更奇怪的是`0`，我在调试时仍然得到正确的值 ( )，但显示的内容与这些不匹配。

难道我做错了什么？这是 iOS Safari 或 jQuery 中的错误`scrollLeft`吗？有没有另一种方法来解决这个问题？

**编辑**：所以我刚刚发现问题的根源似乎是当我触发我的滑动时“弹性”滚动没有完成，所以它会干扰我的`scrollLeft`. 当我将其包裹`$('#viewport').scrollLeft(0);`在超时中以确保反弹已完成时，它会按预期工作。我仍然没有关于如何解决这个问题的真正线索。动画结束时会触发事件吗？

**编辑#2**：所以我设法发现的是，在执行以下操作时：

```
$('#viewport').css('-webkit-overflow-scrolling','auto');
$('#viewport').scrollLeft(0);
$('#viewport').css('-webkit-overflow-scrolling','scroll'); 
```

我能够“欺骗”页面使其正确显示，但这会产生另一个非常奇怪的结果：当我与页面交互时，坐标会发生偏移，因此我将在可滚动页面的右侧触发事件。当我滚动时结束，坐标将是正确的。我无法手动触发滚动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T10:38:17.003

所以，我发现解决这个问题的唯一方法是将每个元素包装`.page`在一个单独`.viewport`的容器中，因为每个新包装器都有自己的“动量”，因此您可以在前一页仍然存在时以编程方式滚动下一页由溢出滚动的动量控制。

虽然这解决了我的问题中描述的问题，但我遇到了另一个导致这种方法无法使用的错误，因为 iOS 直到下一次滚动才会更新其坐标。有关这方面的信息，请参阅：[https](https://bugs.webkit.org/show_bug.cgi?id=90393) ://bugs.webkit.org/show_bug.cgi?id= 90393。

# mysql - sql INNER JOIN 更新查询

> ID：13526277
> 
> 赞同：1
> 
> 时间：2012-11-23T09:36:21.440
> 
> 标签：mysql, sql

嘿伙计们，我试图将我`INSERT`的查询转换为`Update`查询。但我这样做有问题。这是我的`Insert`查询：

```
INSERT INTO lm_Artikel (Status)
SELECT 'NOK' 
FROM lm_Artikel A 
INNER JOIN lm_Schwellwert S ON A.Typ = S.Typ  
WHERE A.Bestand < S.Schwellwert 
```

这是我尝试转换它：

```
Update A SET A.Status = 'NOK'
FROM lm_Artikel A
INNER JOIN  lm_Schwellwert S ON A.Typ = S.Typ  
WHERE A.Bestand < S.Schwellwert 
```

它不工作任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:37:47.377

在 MySQL 中，加入表时没有`FROM`关键字。您的连接语法是正确的，但这是为了`T-SQL`

```
Update  lm_Artikel A 
        INNER JOIN  lm_Schwellwert S 
            ON A.Typ = S.Typ  
SET     A.Status = 'NOK'
WHERE   A.Bestand < S.Schwellwert 
```

*   [使用 JOIN 更新](http://blog.ookamikun.com/2008/03/mysql-update-with-join.html)

# java - SAML 加密响应 - 如何获取私钥？

> ID：13526278
> 
> 赞同：2
> 
> 时间：2012-11-23T09:36:21.303
> 
> 标签：java

我正在尝试在 JBOSS 中实现一个 SP 启动的 Web 浏览器 SAML SSO 配置文件。

我的申请是SP。

我知道我需要为我的服务器创建一个证书并将其发送到元数据文件中的 IDP。

我已使用 Microsoft Active Directory 证书服务来安装证书。

现在，当我从 IDP 获得 SAML 响应时，它被加密：

```
<saml:EncryptedAssertion> ...
    <ds:X509Certificate> ... 
        <xenc:CipherData> ... 
            <xenc:CipherValue> .. SOME ENCRYPTED VALUE ... </xenc:CipherValue> 
```

现在，我知道为了获得解密的值，我需要类似的东西：

```
File keyStoreFile = new File(MY_KEY_STORE_FILE);
KeyStore keyStore = KeyStore.getInstance("JKS");
keyStore.load(new FileInputStream(keyStoreFile),MY_PASSWORD)); 
```

问题是：密钥存储文件是什么？我如何得到它，它应该有什么格式？
我找到了以下文件夹：

C:\Users\MyUser\AppData\Roaming\Microsoft\SystemCertificates\My\Keys
其中包含没有扩展名的系统文件。这是私钥吗？如何在代码中使用它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T13:19:33.970

这取决于您如何从 AD 导出证书。您在 systemCertificates 目录中找到的文件是您导出的吗？这是使用私钥[导出证书的方法。](http://technet.microsoft.com/en-us/library/cc754329.aspx)

这将创建一个 PKCS 12 或 PKCS 8 (DER) 证书，您应该能够使用`KeyStore.getInstance("PKCS12")`或加载到 Java 中`KeyStore.getInstance("RSA")`。一旦您加载了密钥库，对于 XML 加密，您将需要一个`KeyInfo`对象，创建如下：

```
PrivateKeyEntry entry = ((PrivateKeyEntry) keyStore.getEntry(certAlias, new KeyStore.PasswordProtection(password)));

KeyInfoFactory keyFactory = KeyInfoFactory.getInstance();

KeyInfo keyInfo = keyFactory.newKeyInfo(Collections.singletonList(keyFactory.newX509Data(Collections.singletonList(entry.getCertificate())))); 
```

# javascript - 从另一个函数访问函数的变量

> ID：13526280
> 
> 赞同：0
> 
> 时间：2012-11-23T09:36:23.947
> 
> 标签：javascript, function, variables, object

我的对象中有一个函数。

我想从另一个函数访问这个函数的变量。有人可以帮我吗？

这是我的示例代码。任何帮助将不胜感激。谢谢。

```
var drops=  {
    hoverClass: "hoverme",
    greedy: true,
    accept: "#mini",
    drop: function(event,ui){
        var droppedOn2 = $(this);
        var dropped2 = $(ui.draggable);
        alert(droppedOn2.attr('id')); alert(dropped2.attr('id'));
        $(dropped2).appendTo(droppedOn2).draggable();

    },
    over: function(event, ui){
        console.log("buraya geliyorum > " + this.id);
    } 
};

$('#hebelek').sortable({
    connectWith: '#hebelek',
    cursor: 'pointer'
    }).droppable({
        accept: '#gridIcon1-2, #gridIcon2-2, #widgetIcon',
        activeClass: 'highlight',
        drop: function(event, ui) {
            var ilk = drops.droppedOn2;
            var droppedOn = $(this);
            var dropped = $(ui.draggable).clone();
            var fileName = dropped.attr('id');
            alert(droppedOn.attr('id')); alert(fileName);
            if (fileName == "gridIcon1-2"){   
               $(grid1_2Div).appendTo(droppedOn).find('.gridcell').droppable(drops)
            };

            if (fileName == "gridIcon2-2") {
               $(grid2_2Div).appendTo(droppedOn).find('.gridcell').droppable(drops)
            };

            if ((fileName == "widgetIcon") && (droppedOn.attr('id') == "hebelek")) {
               $(widgetDiv).appendTo("I WANT TO USE DROOPEDON2 ON HERE")
    };
    }

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:40:56.820

为两个函数创建一个公共范围（函数包装器会这样做），并在同一范围内创建一个变量，如下所示：

```
(function () {
    var x = 5,
    f1 = function(){
        console.log(x);
    },
    f2 = function(){
        console.log(x);
    };

})(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:40:01.790

你不能。变量的范围仅限于声明它们的函数。如果您想从两个不同的函数访问一个变量，您可以在两个函数之外声明它并从它们内部访问它。例如：

```
var sharedVariable = 'something';
function a() {
     sharedVariable = 'a';
}
function b() {
     alert(sharedVariable); 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-17T13:45:56.660

要使函数 A 中计算的变量在函数 B 中可见，您有三个选择：

1.  使其成为全球性的，
2.  使其成为对象属性，或
3.  从 A 调用 B 时将其作为参数传递。

```
 function A()
    {
        var rand_num = calculate_random_number();
        B(rand_num);
    }

    function B(r)
    {
        use_rand_num(r);
    } 
```

# mercurial - Perforce - 查询 Mercurial 推送到 Perforce 存储库之间的链接

> ID：13526281
> 
> 赞同：4
> 
> 时间：2012-11-23T09:36:35.287
> 
> 标签：mercurial, perforce, perfarce

所以我知道 Mercurial 在 Perforce 更改列表描述中添加了一个注释，其中包含 HG 提交的哈希（类似于`{{mercurial f413e67c0df7ec53e58e43121c5ffc85f315765a}}`）。

我想知道的是，标签包含在描述中的哪个位置是否重要？

我正在推动的 Perforce 存储库也有非常严格的提交准则，并且描述必须以准确的方式形成（每个提交都有相同的代码审查员布局、提到的 JIRA 问题等）。

我可以按原样将标签放在那里，但还要添加我需要的所有额外信息吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-07T18:35:54.567

我碰巧现在正在研究这段代码并在谷歌上搜索相关的东西并遇到了你的问题。它只是搜索一个正则表达式，只要它与`{{mercurial <hash>}}`评论中的某处匹配就可以了。

具体来说，这里是正则表达式：

```
'{{mercurial (([0-9a-f]{40})(:([0-9a-f]{40}))?)}}' 
```

它只是调用搜索那个正则表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-04T10:37:14.267

通过反复试验，我相信我已经回答了自己的问题。

我已将标记从提交消息中的内联移动到描述的开头和结尾，结果是相同的 - Perfarce 仅使用标记正确地选择了更改列表，无论它出现在描述中的什么位置。

# wordpress - 如何在 Wordpress 中添加工作表单？

> ID：13526298
> 
> 赞同：0
> 
> 时间：2012-11-23T09:37:29.373
> 
> 标签：wordpress

我想在 wordpress 中集成一个表单有人会建议我一个插件吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-23T09:41:15.443

您可以在 LINK URL 中查看插件：- [http://wordpress.org/extend/plugins/](http://wordpress.org/extend/plugins/)

我更喜欢使用它，因为我在它用于表单集成的真棒插件之前使用它..

[http://wordpress.org/extend/plugins/contact-form-7/](http://wordpress.org/extend/plugins/contact-form-7/)

# python - 在 Python 中获取标头变量

> ID：13526301
> 
> 赞同：0
> 
> 时间：2012-11-23T09:37:37.580
> 
> 标签：python, nginx, flask, geoip

我正在尝试在 nginx 上使用 geoip 模块，我认为我已经正确设置了所有内容，但我的问题是我正在使用的教程是 PHP 并且我正在使用 Python Flask。

这是PHP：

```
<html>
<head>
  <title>What is my IP address - determine or retrieve my IP address</title>
 </head>
<body>
 <?php
     $country_code = getenv(GEOIP_COUNTRY_CODE);
    echo "<br/>Your country : $country_code";
?>
</body>
</html> 
```

特别是这一行：

```
$country_code = getenv(GEOIP_COUNTRY_CODE); 
```

做同样事情的等效 Python 代码是什么？如果有帮助，这是我正在使用的教程：[LINK](http://www.cyberciti.biz/faq/linux-unix-nginx-geoip-module-configuration/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:46:30.097

您需要有一个带有模板的视图，例如：

`request.environ`将从 WSGI 环境中获取值

您的看法：

```
@app.route('/show-country-code/')
def get_my_ip():
    return render_template('show-country-code.html', country_code=request.environ['the_name_of_the_var']) 
```

你的`show-country-code.html`：

```
<html>
<head>
  <title>What is my IP address - determine or retrieve my IP address</title>
 </head>
<body>
    <p>Your country code is: {{ country_code }}</p>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T18:16:49.993

等效的 python/flask 代码可以是：

```
from flask import request
country_code = request.environ.get('GEOIP_COUNTRY_CODE') 
```

# selenium - 浏览器按钮未在 selenium Web 驱动程序中单击

> ID：13526313
> 
> 赞同：2
> 
> 时间：2012-11-23T09:38:34.023
> 
> 标签：selenium, selenium-webdriver

我正在做硒网络驱动程序。我有一些问题。如果我点击浏览按钮，那么应该显示弹出窗口。所以我的应用程序没有点击也没有打开浏览器。

```
try{

    WebElement fileInput = driver.findElement(By.xpath("html/body/form[1]/p[2]/input"));

    fileInput.sendKeys("C:\\Documents and Settings\\mahesh\\Desktop\\button then display msg.png");

    System.out.println("valid");

    }

catch(NoSuchElementException ex) {

    System.err.println("invalid");

    } 
```

我有一个问题来了。

```
org.openqa.selenium.NoSuchElementException: Unable to locate element: {"method":"xpath","selector":"html/body/form[1]/p[2]/input"}
Command duration or timeout: 30.06 seconds 
```

这种类型的错误来了。

所以请任何人指导我解决这个问题。

谢谢 mahesh.k

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T20:06:33.890

是的，它没有找到元素。首先，您可以使用 selenium IDE 验证 selenium webdriver 可能会找到哪些元素。[在此处](http://seleniumhq.org/download/)下载用于 firefox 浏览器的 selenium IDE 插件。要查看的另一件事是您指定的 xpath。除非您以“//”或“xpath =”开头，否则 Selenium 无法识别 xpath，因此我会将您的元素搜索更改为

```
WebElement fileInput = driver.findElement(By.xpath("//html/body/form[1]/p[2]/input")); 
```

如果这不起作用，则在 Webdriver 中搜索之前使用 selenium IDE 验证元素的 xpath。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-08T10:21:52.383

html/body/form[1]/p[2]/input -- 绝对 XPath

这个 XPath 并不总是有效。使用输入标签中给出的“id”或“name”属性。

请让我知道我的基金会是否有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T12:18:24.247

根据上述错误，我认为它无法在您的网页上找到该元素...请交叉验证编写的 Xpath 表达式...。

此外，在发送密钥（文件路径）之前......请单击打开弹出窗口的按钮......然后发送密钥......

[这是http://www.freeimagehosting.net/upload.php](http://www.freeimagehosting.net/upload.php)上的工作 C# 代码

```
 IWebDriver driver = new InternetExplorerDriver();
        driver.Navigate().GoToUrl("http://www.freeimagehosting.net/upload.php");

        driver.Manage().Timeouts().ImplicitlyWait(TimeSpan.FromSeconds(10));
        IWebElement returnedValue = driver.FindElement(By.Name("attached"));
        returnedValue.Click();
        returnedValue.SendKeys("C:\\file.png"); 
```

上面的代码...在网页中寻找浏览按钮，然后执行“**单击**”操作弹出打开，然后发送“**图像文件**”的路径。

我希望这会有所帮助......一切顺利:)

# javascript - 将照片上传到 Facebook 图形 API - 发生未知错误

> ID：13526314
> 
> 赞同：0
> 
> 时间：2012-11-23T09:38:36.270
> 
> 标签：javascript, facebook, facebook-graph-api, windows-8

好的，所以我需要一些帮助。这就是我到目前为止所做的。

我已经使用 Web 身份验证代理示例来为 facebook 提取我的访问令牌（当然，我添加了 'publish_stream' 范围以确保我可以发布），并将其保存在 localsettings 中，如下所示：

```
function callbackFacebookWebAuth(result) {
    var url = result.responseData;

    var param1 = url.split("&");
    var param2 = param1[0].split("=");

    localSettings.values["Facebook.AccessToken"] = param2[1];

} 
```

这工作正常。成功。

然后，我试图上传这样的图片：

```
 var accessToken = localSettings.values["Facebook.AccessToken"];
        console.log(accessToken);

        var blob = canvas.toDataURL('multipart/form-data');
        console.log(blob);
        var filename = "photo.jpg";
        var data = new FormData();
        data.append("access_token", accessToken);
        data.append("message", "test");
        data.append("source\"; filename=\"" + filename + "\"", blob);

        WinJS.xhr({
            type: "POST",
            url: "https://graph.facebook.com/me/photos?access_token=" + accessToken,
            data: data,
        }).then(function (response) {
            console.log("success");
        }, function (errorResponse) {
            var result = JSON.parse(errorResponse.responseText);
            console.error(result.error.message);

        }); 
```

该代码似乎应该可以工作。我已经通过仅将文本发布到 /feed 来对此进行测试，并且它可以工作。但是，当发布到 /photos 时，我遇到了问题。

我已将 Canvas 内容转换为 dataUrl（为此 POST 命令建议的“multipart/form-data”）

我使用 Synergist 在此线程中建议的 hack：http: [//social.msdn.microsoft.com/Forums/en-US/winappswithhtml5/thread/0d23db45-afea-4886-b3ca-522a6919c9f7](http://social.msdn.microsoft.com/Forums/en-US/winappswithhtml5/thread/0d23db45-afea-4886-b3ca-522a6919c9f7)

但是我收到以下错误：

```
(#1) An unknown error occurred 
```

所以现在我被困住了。

我在谷歌上搜索了一整天都无济于事，所以我正在向社区寻求帮助。有人可以看看代码并告诉我我可能做错了什么吗？

将不胜感激！

顺便说一句，我正在使用 Visual Studio；这适用于 Windows 8 应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T08:38:59.080

好的，我修好了伙计们；这里是如何。

代替：

```
var blob = canvas.toDataURL('multipart/form-data'); 
```

我用了

```
var blob = canvas.msToBlob(); 
```

成功！！希望这对其他人有所帮助。

# c# - 如何使用 C# 和 XAML 在 Windows 8 App 中实现 CCAvenue 支付网关

> ID：13526316
> 
> 赞同：2
> 
> 时间：2012-11-23T09:38:49.823
> 
> 标签：c#, windows-8, windows-runtime, .net-4.5, ccavenue

我正在尝试使用 C# 在 Windows 8 App 中实现 CCAvenue 支付网关。我无法找到如何实现这一目标。有没有关于在 Windows 8 App 中集成支付网关的文章？

# node.js - ExtJS + NodeJS mvc 应用程序

> ID：13526318
> 
> 赞同：3
> 
> 时间：2012-11-23T09:38:52.790
> 
> 标签：node.js, model-view-controller, extjs

我想问一下在 NodeJS 环境中使用 ExtJS，我尝试了一些节点模块，但没有人允许我使用他们的 mvc 结构（我的意思是使用 Ext.application）创建 extjs 的应用程序有人对此有任何运气吗？

问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:03:59.520

ExtJs 的普通构建将不起作用。`ext-core-debug.js`使用**window**和另一个浏览器内置对象。为了让它工作，你需要做一些假货：**window**，**navigator**等。

# netbeans - Glassfish 服务器未启动：doSelect IOException 无法建立环回连接

> ID：13526319
> 
> 赞同：0
> 
> 时间：2012-11-23T09:38:52.800
> 
> 标签：netbeans, glassfish

我是 Java EE 和 glassfish 以及所有这些东西的新手，对于我的班级，我必须创建 3 个域并启动它们。我用 asadmin 创建了一个域，如下所示：

```
asadmin create-domain --portbase 5000--user admin --savemasterpassword=true middleware 
```

但是当我将它添加到 Netbeans 并启动它时，它会说：

```
doSelect IOException
java.io.IOException: Unable to establish loopback connection
at sun.nio.ch.PipeImpl$Initializer.run(PipeImpl.java:125) 
```

等等..

在谷歌上搜索了一下后，我发现了一些关于主机文件的东西，并尝试评论和取消评论 ::1 localhost 但没有成功。

PS：我是win7 64b

有任何想法吗 ？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:54:08.133

问题已解决：Proxifier 正在运行，并且由于 netbeans 查找 ipv6，因此它没有被过滤为 proxifier 中的 localhost 规则...

我希望它会有所帮助^^

# java - Webview 图像适合屏幕

> ID：13526320
> 
> 赞同：2
> 
> 时间：2012-11-23T09:38:54.913
> 
> 标签：java, android, image, webview, zooming

这看起来像重复，但我遇到了一个奇怪的问题。

我使用这段代码：

```
public void showPicture(){
        System.out.println("comicTeller = "+comicTeller);

        WebView mWebView = (WebView) findViewById(R.id.webView);
        mWebView.removeAllViews();  
        mWebView.getSettings().setAllowFileAccess(true);
        mWebView.getSettings().setJavaScriptEnabled(true);
        mWebView.getSettings().setBuiltInZoomControls(true);
        mWebView.getSettings().setUseWideViewPort(true);
        mWebView.getSettings().setLoadWithOverviewMode(true);

        String base = root.getAbsolutePath().toString();
        String imagePath = "file://"+ base + "/bigflow/dark/"+comicTeller+".jpg";
        String html = "<html><head></head><body><img src=\""+ imagePath + "\"></body></html>";
        mWebView.loadDataWithBaseURL("", html, "text/html","utf-8", "");  

} 
```

当我启动应用程序时，它运行良好。我还有一个“下一个漫画”按钮，所以它转到下一个漫画（它是一个漫画阅读器）。每次我触摸按钮时它都能很好地缩放。“下一个按钮”调用`showPicture();`并将`comicTeller`（comicTeller = 英语中的comicCounter）增加1，因此它显示下一张图片。

但是，当我放大漫画并转到下一个漫画时，它会保持放大状态。我不知道为什么会这样。我以为我的代码会再次重置它。

有人知道再次“重置”缩放的解决方案吗？并再次在屏幕上加载下一个漫画 Fit？我真的不知道我的代码有什么问题。

如果您需要更多信息，请告诉我。

# sql - 在 Varchar 列上使用 IsNumeric 的 SQL 语法错误

> ID：13526323
> 
> 赞同：3
> 
> 时间：2012-11-23T09:39:02.387
> 
> 标签：sql, sql-server

我正在尝试执行 SQL 语句

```
SELECT * 
FROM Menu
WHERE ISNumeric(Data) = 1
AND Data = 296 
```

其中`Data`字段可能包含数字或非数字内容。但我收到类似的语法错误

> 在数据类型 int 的列中转换 varchar 值“/home”时出现语法错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T09:41:42.330

由于`DATA`列是 varchar，因此您需要用单引号将值 ( *296 ) 括起来*

```
SELECT * 
FROM   Menu
WHERE  ISNumeric(Data) = 1 AND Data = '296' 
```

您仍然可以不使用`ISNUMERIC`此处直接查询，并提高性能，因为您不必检查每条记录的数值。

*我想*，在你的情况下，使用`IsNumeric`是没有意义的。

 *```
SELECT * 
FROM   Menu
WHERE  Data = '296' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:41:25.563

不幸的是，SQL 不[保证短路评估](https://stackoverflow.com/questions/789231/is-the-sql-where-clause-short-circuit-evaluated)，因此如果第一个条件为假，`IsNumeric(Data)`过滤器不会阻止评估第二个谓词, 。`Data = 296`

但是，您可以做的是将比较保留为 char 文字，例如

```
SELECT * 
FROM Menu
WHERE ISNumeric(Data) = 1
AND Data = '296'; 
```

`IsNumeric`出于兴趣，如果要与精确的数值进行比较，为什么需要进行检查？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:45:51.140

只是为了添加到@StuartLC 的答案，一种解决方法是使用子查询首先获取所有数值，例如：

```
SELECT *
FROM   (
    SELECT CAST(Data AS int) AS Data, 
           -- Other fields
    FROM   Menu
    WHERE  ISNumeric(Data) = 1
) subquery
WHERE subquery.Data = 296 
```

尽管请注意，您需要确保您不会有十进制数、科学记数法或类似的东西，因为 IsNumeric 将返回`1`这些。[这个问题](https://stackoverflow.com/questions/338075/cast-and-isnumeric)将帮助您解决与此相关的问题...*

# java - org.hibernate.HibernateException：命名查询中的错误：FileVersionStatusByMeterid

> ID：13526324
> 
> 赞同：1
> 
> 时间：2012-11-23T09:39:16.970
> 
> 标签：java

我得到了例外`java.lang.Exception: Named query not known: FileVersionStatusByMeterid; nested exception is org.hibernate.MappingException: Named query not known: FileVersionStatusByMeterid`

我的配置文件是：

```
 <bean id="sessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
    <property name="configLocation">
        <value>classpath:hibernate.cfg.xml</value>
    </property>
    <property name="configurationClass" value="org.hibernate.cfg.AnnotationConfiguration"/>
    <property name="dataSource" ref="poolDataSource"/>
    <property name="hibernateProperties">
        <props>
            <prop key="hibernate.dialect">org.hibernate.dialect.SQLServerDialect</prop>
            <prop key="hibernate.show_sql">true</prop>                
            <prop key="hibernate.cache.use_query_cache">false</prop>
            <prop key="hibernate.cache.use_second_level_cache">false</prop>
            <prop key="hibernate.generate_statistics">true</prop>
        </props>
    </property>
</bean> 
```

我的属性类对命名查询有定义

```
 public static final String FileVersionStatusByMeterid_Name = "FileVersionStatusByMeterid";
public static final String FileVersionStatusByMeterid_Query = "from ACSRateFileVersionStatus where MeterID =:meterID and FileType= :fileType"; 
```

我的豆类是

```
import com.duncansolutions.databus.external.constant.NamedQueryStatements;
import java.util.Date;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.Id;
import javax.persistence.Table;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.persistence.Transient;
import javax.persistence.NamedQueries;
import javax.persistence.NamedQuery;

@Entity
@Table(name = "ACS_Rate_File_Version_Status")
@NamedQueries({
@NamedQuery(name = NamedQueryStatements.FileVersionStatusByMeterid_Name,  query  =NamedQueryStatements.FileVersionStatusByMeterid_Query)})
public class ACSRateFileVersionStatus implements java.io.Serializable { 
```

谁能告诉我我在哪里出错以避免异常？

# python - 通过 GStreamer 和 Python 实现 RTMP

> ID：13526326
> 
> 赞同：2
> 
> 时间：2012-11-23T09:39:22.450
> 
> 标签：python, gstreamer, rtmp, wowza, python-gstreamer

我正在尝试将以下 GStreamer 命令移植到 python 程序中：

```
gst-launch-0.10 -v -m v4l2src ! queue ! ffmpegcolorspace ! queue ! x264enc pass=pass1 threads=0 bitrate=1536 tune=zerolatency ! queue ! flvmux name=mux  pulsesrc ! queue max-size-bytes=134217728 max-size-time=20000000000 max-size-buffers=1000 ! audioconvert ! lame ! audio/mpeg ! queue ! mux. mux. ! queue ! rtmpsink location='rtmp://x.x.x.x/live/myStream' 
```

使用此命令，可以在流式传输到 wowza 服务器时录制和观看实时流。但是我在将此命令移植到 python 时遇到了一些麻烦。特别是 RTMP 接收器似乎会引起麻烦（因为它正在使用文件接收器）：

```
 self.pipeline = gst.Pipeline("diepipeline")

    self.src = gst.parse_launch("v4l2src")
    self.pipeline.add(self.src)

    self.videoenc = make_bin("(name=videoenc queue ! ffmpegcolorspace ! queue ! x264enc pass=pass1 threads=0 bitrate=1536 tune=zerolatency ! queue )")
    self.pipeline.add(self.videoenc)

    self.audio2src = gst.parse_launch("pulsesrc")
    self.pipeline.add(self.audio2src)

    self.audio2 = make_bin("(name=audio2 queue max-size-bytes=134217728 max-size-time=20000000000 max-size-buffers=1000 ! audioconvert ! lame ! audio/mpeg ! queue)")
    self.pipeline.add(self.audio2)
    self.audio2src.link(self.audio2)

    self.flvmux = gst.parse_launch("flvmux name=flvmux")
    self.pipeline.add(self.flvmux)
    self.videoenc.link(self.flvmux)
    self.audio2.link(self.flvmux)

    self.queue1 = gst.parse_launch("queue")
    self.rtmpsink = gst.parse_launch("rtmpsink location='rtmp://192.168.1.11/live/myStream'")
    self.pipeline.add(self.queue1, self.rtmpsink)
    gst.element_link_many(self.flvmux, self.queue1, self.rtmpsink)

    self.pipeline.set_state(gst.STATE_PLAYING) 
```

这是输出：

```
 PAUSED: /GstPipeline:diepipeline/GstQueue:queue5 (__main__.GstQueue)
PAUSED: /GstPipeline:diepipeline/GstFlvMux:flvmux (__main__.GstFlvMux)
PAUSED: /GstPipeline:diepipeline/GstBin:audio2/GstQueue:queue4 (__main__.GstQueue)
PAUSED: /GstPipeline:diepipeline/GstBin:audio2/GstCapsFilter:capsfilter0 (__main__.GstCapsFilter)
PAUSED: /GstPipeline:diepipeline/GstBin:audio2/GstLame:lame0 (__main__.GstLame)
PAUSED: /GstPipeline:diepipeline/GstBin:audio2/GstAudioConvert:audioconvert0 (__main__.GstAudioConvert)
PAUSED: /GstPipeline:diepipeline/GstBin:audio2/GstQueue:queue3 (__main__.GstQueue)
PAUSED: /GstPipeline:diepipeline/GstBin:audio2 (gst.Bin)
PAUSED: /GstPipeline:diepipeline/GstBin:videoenc/GstQueue:queue2 (__main__.GstQueue)
PAUSED: /GstPipeline:diepipeline/GstBin:videoenc/GstX264Enc:x264enc0 (__main__.GstX264Enc)
PAUSED: /GstPipeline:diepipeline/GstBin:videoenc/GstQueue:queue1 (__main__.GstQueue)
PAUSED: /GstPipeline:diepipeline/GstBin:videoenc/GstFFMpegCsp:ffmpegcsp0 (__main__.GstFFMpegCsp)
PAUSED: /GstPipeline:diepipeline/GstBin:videoenc/GstQueue:queue0 (__main__.GstQueue)
PAUSED: /GstPipeline:diepipeline/GstBin:videoenc (gst.Bin)
PAUSED: /GstPipeline:diepipeline/GstPulseSrc:pulsesrc0 (__main__.GstPulseSrc)
PAUSED: /GstPipeline:diepipeline/GstDecklinkSrc:src (__main__.GstDecklinkSrc)
PAUSED: /GstPipeline:diepipeline (gst.Pipeline)
PAUSED: /GstPipeline:diepipeline/GstFileSink:filesink0 (__main__.GstFileSink) 
```

知道什么可能导致这个问题吗？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T15:26:29.753

好的，经过数小时尝试不同的事情后，我发现了我的代码中的缺陷。

必须删除我的 rtmp-url 中的单引号：

从

```
 self.rtmpsink = gst.parse_launch("rtmpsink location='rtmp://x.x.x.x/live/myStream'") 
```

到

```
 self.rtmpsink = gst.parse_launch("rtmpsink location=rtmp://x.x.x.x/live/myStream") 
```

有时最简单的事情是花费你最多时间的事情......

# c# - 如何查询与当前 Outlook 用户共享联系人/日历的用户/收件人？

> ID：13526329
> 
> 赞同：0
> 
> 时间：2012-11-23T09:39:31.497
> 
> 标签：c#, outlook, shared, mapi

[正如我在前](https://stackoverflow.com/questions/13193374/outlook-mapi-access-shared-contacts)一个问题中提到的，通过 MAPI 在 Outlook 中获取共享联系人是没有问题的。但这只有在您知道与当前 Outlook 用户共享联系人（或日历）的用户/收件人时才有可能。

现在回到我的问题：如何获得与我共享联系人的收件人列表？

使用该列表，我将创建一个收件人，然后访问共享文件夹。

```
// Get recipients    
IList<string> recipientsSharingContacts =  **???** ;

// Import/Read shared contacts 
foreach (string recip in recipientsSharingContacts){

    // Open Shared Folder
    MAPIFolder sharedContactsFolder = 
      Application.Session.GetSharedDefaultFolder(recip, OlDefaultFolders.olFolderContacts)

    // Import Contacts 
    ...

} 
```

希望有人可以帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T12:50:17.067

如果有人对解决方案感兴趣，我是这样做的：

```
ContactsModule module = (ContactsModule)outlookObj.ActiveExplorer().NavigationPane.Modules.GetNavigationModule(OlNavigationModuleType.olModuleContacts);
foreach (NavigationGroup navigationGroup in module.NavigationGroups) {
     foreach (NavigationFolder navigationFolder in navigationGroup.NavigationFolders) {
          foreach (var item in navigationFolder.Folder.Items) {
                     // Found Folders are: Contacts, Suggested Contacts and Shared Contact Folders

                     // Import/Read ContactItems
                     ...
                } 
```

# asp.net - 对于 grid.rows 中的每个 gridrow 作为 gridviewrow 不处理最后一行

> ID：13526331
> 
> 赞同：0
> 
> 时间：2012-11-23T09:39:34.297
> 
> 标签：asp.net, sql, gridview

我正在尝试使用 asp.net 使用包含下拉列表的列填充网格视图。

到目前为止，我能够使用 SQL 表中的所有选项填充下拉列表，并且我还能够从 SQL 表中保存和读取选定的值，除了最后一行，它似乎忽略了它。

这是我的代码：

```
Protected Sub gridGenerators_RowDataBound(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewRowEventArgs) Handles gridGenerators.RowDataBound

    With e.Row
        If e.Row.RowType = DataControlRowType.DataRow Then

            'Populate all dropdown lists with options from SQL'
            Dim ddl = TryCast(.Cells(0).FindControl("ddlOnCallGroup"), DropDownList)

            ddl.DataSource = db.getSMSgroups()
            ddl.DataTextField = "SMS_Group"
            ddl.DataValueField = "id"
            ddl.DataBind()

            'And add a default when value is NULL'
            Dim l1 As New ListItem

            l1.Text = "-select-"
            l1.Value = ""

            ddl.Items.Add(l1)

            'Get the current setting from SQL (that user has permissions for)'
            Dim generators As String = Membership.GetUser().Comment
            Dim genDT As DataTable = db.locations(generators.Split(",".ToCharArray))

            'Iterate through settings and select value for each dropdownlist'
            For Each grdrow As GridViewRow In gridGenerators.Rows

                Dim drdList = TryCast(gridGenerators.Rows(grdrow.RowIndex).Cells(0).FindControl("ddlOnCallGroup"), DropDownList)

                drdList.SelectedValue = genDT.Rows(grdrow.RowIndex).Item("ID_SMS_Group").ToString

            Next

        End If
    End With

End Sub 
```

提前致谢！！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T09:57:07.010

你为什么要循环所有被调用的`GridViewRows`东西？`RowDataBound``GridViewRow`

所以代替这个循环：

```
For Each grdrow As GridViewRow In gridGenerators.Rows

    Dim drdList = TryCast(gridGenerators.Rows(grdrow.RowIndex).Cells(0).FindControl("ddlOnCallGroup"), DropDownList)
    drdList.SelectedValue = genDT.Rows(grdrow.RowIndex).Item("ID_SMS_Group").ToString

Next 
```

只是这个：

```
Dim drdList = DirectCast(e.Row.FindControl("ddlOnCallGroup"), DropDownList)
drdList.SelectedValue = DirectCast(e.Row.DataItem, DataRowView).Item("ID_SMS_Group").ToString 
```

请注意，我还更改了其他一些内容（例如访问`DataItem`或使用`FindControl`on`e.Row)`

# php - 带有 HREF 的 PHP While 循环

> ID：13526332
> 
> 赞同：0
> 
> 时间：2012-11-23T09:39:38.250
> 
> 标签：php, mysql, loops, while-loop, href

我想知道如何使用while循环和href链接而不是使用提交按钮来解决这个问题。

当我单击该链接时，我会回显循环中的所有内容，但我只想回显我单击的 id。

这是我的小代码：

```
<?php 
while( $profile_images_not_approved_view = mysql_fetch_array($profile_images_not_approved)) {

        if (isset($_GET['approve']) == $profile_images_not_approved_view['id']) 
        {
            echo "hello id";
            echo $profile_images_not_approved_view['id'];   
        }
?>

<td class="center">
<a href="?p=testme&approve";?>" name="<?php echo $profile_images_not_approved_view['id'];?>" class="button small grey tooltip"></a>
</td>
<?php } ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:43:41.680

试试这个：

```
<?php 
    while( $profile_images_not_approved_view = mysql_fetch_array($profile_images_not_approved)) {

            if (isset($_GET['approve']) && $_GET['approve'] == $profile_images_not_approved_view['id']) 
            {
                echo "hello id";
                echo $profile_images_not_approved_view['id'];   
            }
    ?>

    <td class="center">
        <a href="?p=testme&approve=<?php echo $profile_images_not_approved_view['id']; ?>" name="<?php echo $profile_images_not_approved_view['id'];?>" class="button small grey tooltip"> </a>
    </td>
<?php } ?> 
```

# ios - 是否需要为应用程序的新更新版本更新应用内购买？

> ID：13526334
> 
> 赞同：0
> 
> 时间：2012-11-23T09:39:56.137
> 
> 标签：ios, app-store, in-app-purchase

我正在尝试为我的应用程序准备新的更新。但是无法在 iTunes Connect 上选择应用内项目以获取更新版本。为我的上一个版本准备的旧项目是否将在这个新的更新版本中可用？或者我需要重新提交项目以再次审核？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:48:18.487

IApp 与普通应用程序分开审查。一旦他们被批准，他们会在您提交的任何新版本的应用程序中保持批准，并且只有在您修改或添加项目时才会返回审核。

# python-2.7 - 在 Python 错误中将 unicode 数据从 MSSql 复制到 MySql

> ID：13526339
> 
> 赞同：2
> 
> 时间：2012-11-23T09:40:18.847
> 
> 标签：python-2.7, mysql-python, pymssql

我正在尝试将 unicode 数据从 MSSql 复制到 MySql。以下是我过去几天尝试的代码，但无法成功。

```
#!/usr/bin/python
# -*- coding: utf-8 -*-

import MySQLdb
import pymssql

################
#connection variables go here
#################

conms = pymssql.connect(host=MSdbAddress, user=MSsuser, password=MSpass, database=MSdbName,  charset='UTF-8')  
curms = conms.cursor()

conmy = MySQLdb.connect(host=MYdbAddress, user=MYsuser, passwd=MYpass, db=MYdbName, charset='utf8')
curmy = conmy.cursor()

curms.execute("select top 1 * from " + MSdbTableName )
ms_list = curms.fetchall()
ms_list_1
for row in ms_list:
    for x in row:
        if isinstance(x,int):
            ms_list_1.append(x)
        elif isinstance(x,unicode):
            ms_list_1.append(x.encode('utf8'))
        else:
            ms_list_1.append(str(x))

curmy.execute("""insert into `MSdbTableName`  values (%s, %s, %s)""",  (ms_list_1[0], ms_list_1[1], ms_list_1[2]) 
```

当我尝试在不使用 ms_list 的情况下插入 unicode 文本时，它可以使用文件，即

```
curmy.execute("""insert into `MSdbTableName` (Content) values (%s)""", ('शांति से क्रोध को जीतें। मृदुता से अभिमान को जीतें। सरलता से माया को जीतें। संतोष से लोभ को जीतें।')) 
```

此外，当我检查 ms_list 的内容时，它会正确解码 unicode。IE

> 打印 str(ms_list_1[0]) + str(ms_list_1[1]) + str(ms_list_1[2])

但我无法将其插入 MySql。我在网上尝试了一些解决方案，但仍然遇到 2 个错误

> UnicodeDecodeError：“ascii”编解码器无法解码位置 0 中的字节 0xe0：序数不在范围内（128）
> 
> TypeError：字符串格式化期间并非所有参数都转换了

我错过了什么？

# cocoa - Cocoa通过写代码创建NSButton，如何设置样式？

> ID：13526342
> 
> 赞同：1
> 
> 时间：2012-11-23T09:40:40.493
> 
> 标签：cocoa, nsbutton

我已经使用 IB 来做到这一点，一切都很好，但是当我编写代码来做到这一点时，我不知道如何使用 IB 获得相同的结果。

在IB中，我像截图一样设置，我设置的图像在按钮中具有相同的大小但是当我使用代码时，图像只显示一部分，
当我使用IB设置时，图像会自动拉伸但是使用代码来做到这一点，它不是伸展的。

谁能找到代码和IB截图之间的区别？

1）编写代码创建NSButton是这样的：

```
NSButton *tempBtn = [[NSButton alloc] initWithFrame: NSMakeRect(200, 200, 20, 20)];
[tempBtn setButtonType: NSMomentaryPushInButton];
[tempBtn setBezelStyle: NSRoundedDisclosureBezelStyle];
[tempBtn setBordered: NO];
[tempBtn setImage: [NSImage imageNamed: @"Basketball"]];
[tempBtn setImagePosition: NSImageOnly];
[tempBtn setTarget: self];
[tempBtn setAction: @selector(clickBtn:)];
[self.window.contentView addSubview: tempBtn];
[tempBtn release]; 
```

2）在IB中设置是这样的： ![设置在 IB](../Images/dd110b5820fdaa39073dee73aa6ba12e.png)

结果是这样的：

![结果截图](../Images/c9db69e42b7c66e9091b3462b846d625.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T21:07:35.683

您应该设置与按钮相关的单元格的 imageScaling：

```
[tempBtn.cell setImageScaling:NSImageScaleProportionallyDown]; 
```

# scala - 明确的子隐式

> ID：13526345
> 
> 赞同：5
> 
> 时间：2012-11-23T09:40:49.657
> 
> 标签：scala, implicit

考虑以下代码：

```
class A { def print = println("A") }
class B extends A { override def print = println("B") }

def foo(implicit a: A) = a.print

def bar(implicit a: A) = {
  implicit val b = new B
  foo
}

bar(new A) // B 
```

我想知道为什么打电话不会引发`foo`错误。当然`bar``ambiguous implicit values`

```
implicit val b: A = new B 
```

将引发该错误。为什么`foo`选择隐式`b`而不是隐式`a`？或者更笼统地说：选择什么的规则是什么？

**编辑：**
由于我与 Ivan 的评论对话，我想澄清一下：如果我以与隐式方法参数相同的方式命名本地隐式 val，我会知道我的问题的答案。

```
def bar(implicit a: A) = {
  implicit val a = new B
  foo
} 
```

然后只有本地`val a`在范围内覆盖方法参数，因为它们具有相同的名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:59:45.100

注意：我可能过于简单化了一些东西，但在测试中它似乎如下所示。

这是因为第二个在内部范围内，所以它具有优先级。它与发生的事情相同

```
object test {
 val a = 5
 def test(i: Int) = {
   val a  = 6
   i + a
 }
} 
```

在这种情况下，您希望`a`在函数内为 6。以下类似。

```
object test {
  implicit val i = 5; 
  { 
    implicit val b = 6; 
    test
  } 
  def test(implicit ii:Int) = println(ii)
} 
```

从评论更新。

```
scala> def test(a: Int) = {val a = 5; a }
test: (a: Int)Int

scala> test(6)
res1: Int = 5 
```

# php - 在php中使用正则表达式获取html标签中字符串的子字符串？

> ID：13526348
> 
> 赞同：0
> 
> 时间：2012-11-23T09:40:56.533
> 
> 标签：php, html, regex

> **可能重复：**
> [在 PHP 中获取标签内容的正则表达式帮助](https://stackoverflow.com/questions/6331265/regex-help-with-getting-tag-content-in-php)

首先，请不要评论使用正则表达式解析 html。我知道这是不可能的，但在这种情况下它应该完成它的工作。

我尝试获取`<country lan="x">...</country>`标签的内容。没有特殊情况`<country />`，PHP DOM Parser 由于包含许多特殊字符（MediaWiki 文本）的标签内容而失败。

所以我有一些文字

```
 <country lan="en">

    dsadasd

    {|,'''""" }}|]][][]//\\\\\2r2erfaf<>><<<#<div> --..,;;"!"§$%&/()=?`´´``***+~~~''

    0131ß

    ÄÜÖ#ax
    </country> 
```

我目前的解决方案是`$pattern = <country lan=\"en\">(.|\t|\r|\n|\s)*<\/country>`使用

```
preg_match_all($pattern, $content, $matches);
print_r($matches); 
```

但打印的结果只是一个空数组。如何仅提取`<country lan="x">...</country>`标签之间的字符串？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:50:02.850

用这个

```
preg_match_all('/<country.*?>(.*?)<\/country>/s', $contents,$hits);
print_r($hits); 
```

# php - 按名称字母顺序对结果进行排序，最后显示为空的列图像

> ID：13526349
> 
> 赞同：0
> 
> 时间：2012-11-23T09:41:12.067
> 
> 标签：php, sql, sql-server-2008

> **可能重复：**
> [MySQL 按数字排序，最后为 Null](https://stackoverflow.com/questions/2051602/mysql-orderby-a-number-nulls-last)

我需要使用 MS SQL 以下列方式对结果进行排序。它需要首先按名称按字母顺序排序结果，然后按不为空的图像名称排序。并且图像为空的所有行都需要显示在最后，并且图像不为空的所有行都应该按名称的字母顺序排列。

我正在从 PHP 调用 MS Sql 查询，它看起来与此类似

```
$sql = "SELECT * FROM products ORDER BY name AsC, image DESC"; 
```

这可能吗？如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:43:04.550

您可以使用`CASE`

```
SELECT * FROM products 
ORDER BY 
   name ASC, 
   CASE WHEN image IS NULL THEN 1 ELSE 0 END ASC,
   image ASC 
```

# objective-c - UIAlertView 内的 UITextField：如何选择文本？

> ID：13526354
> 
> 赞同：2
> 
> 时间：2012-11-23T09:41:29.853
> 
> 标签：objective-c, ios, cocoa-touch

我需要显示一个 UIAlertView 要求用户更改一些文本，但大多数时候用户会想要：a）保持文本不变或 b）替换整个文本。在极少数情况下，他只想通过附加或修改来更改文本。

因此，为此，我提出了以下代码：

```
UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Name for your item"
                                                    message:nil
                                                   delegate:self
                                          cancelButtonTitle:@"Cancel"
                                          otherButtonTitles:@"Accept", nil];
alertView.alertViewStyle = UIAlertViewStylePlainTextInput;
UITextField *textField = [alertView textFieldAtIndex:0];
textField.text = @"Some random text";
[alertView show];

UITextRange *textRange = [textField textRangeFromPosition:textField.beginningOfDocument
                                               toPosition:textField.endOfDocument];
[textField setSelectedTextRange:textRange]; 
```

这在 iPhone 上运行良好，在显示警报时选择了文本，它按我的预期工作，但在 iPad 上根本没有选择文本。

我做错了什么吗，这是 iOS 上的一个错误，还是这种行为记录在我没有找到的某个地方？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-16T08:20:40.147

```
UIAlertView *alertView=[[UIAlertView alloc] initWithTitle:@"name" message:@"" delegate:self
                                            cancelButtonTitle:@"Cancel" otherButtonTitles:@"OK", nil];

alertViewt.alertViewStyle = UIAlertViewStylePlainTextInput;
UITextField *textField = [Renamealert textFieldAtIndex:0];
textField.text=@"XYZZZ   ";
[alertView show];

UITextRange *textRange = [textField textRangeFromPosition:textField.beginningOfDocument
                                               toPosition:textField.endOfDocument];
[textField setSelectedTextRange:textRange]; 
```

# jquery - 用于 asp.net 树视图的 Jquery

> ID：13526355
> 
> 赞同：2
> 
> 时间：2012-11-23T09:41:30.823
> 
> 标签：jquery, asp.net, c#-4.0, treeview

我正在使用 asp.net 树视图控件。我想为 .net 树视图控件添加 jquery 样式。但我不能这样做。请帮我解决这个问题。我需要 jquery 来平滑展开和折叠...

这是我的设计代码。我可以在哪里引用 asp.net 控件中的 jquery

```
 <asp:TreeView ID="MyTree" PathSeparator="|" ExpandDepth="1" runat="server" NodeIndent="15"
                    ShowLines="true">
                    <RootNodeStyle ImageUrl="~/images/folder-video.png" />
                    <ParentNodeStyle ImageUrl="~/images/root.png" />
                    <NodeStyle ImageUrl="~/images/node.png" />
                    <LeafNodeStyle ImageUrl="~/images/leaf_video.png" />
                    <SelectedNodeStyle BackColor="#B5B5B5"></SelectedNodeStyle>
                    <NodeStyle VerticalPadding="2" Font-Names="Tahoma" Font-Size="10pt" HorizontalPadding="2"
                        ForeColor="#000000"></NodeStyle>
                    <HoverNodeStyle Font-Underline="True" ForeColor="#6666AA"></HoverNodeStyle>
                    <Nodes>
                        <asp:TreeNode Text="Sunbusiness Solution" PopulateOnDemand="True" Value="Demos" />
                    </Nodes>
                </asp:TreeView> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:58:51.947

我使用带有复选框的树视图。在复选框单击节点展开。

```
function InitTreeViewClick(){    $('#" + treevew.ClientID + @" :input').each(function(){  $(this).unbind(); var   a=this.nextSibling; if(a.nodeName=='A')  $(this).bind('click',   function(){a.click();});});}
}

Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(InitTreeViewClick); 
```

您可以修改 a.click() 例如： setTimeout(function(){a.click();},3000);

就我而言，这非常有效。

和cs文件代码：

```
protected void Page_PreRender(object sender, EventArgs e)
    {
if (!this.Page.ClientScript.IsStartupScriptRegistered("treeview"))
        {
            string script = @"Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(InitTreeViewClick);

                          function InitTreeViewClick(){    $('#" + treevew.ClientID + @" :input').each(function(){ $(this).unbind(); var a=this.nextSibling; if(a.nodeName=='A')  $(this).bind('click',  function(){a.click();});});} ";
            ScriptManager.RegisterStartupScript(this.Page, Page.GetType(), "treeview", script, true);
        }
} 
```

在您的情况下，您可以找到所有链接

```
$('#" + treevew.ClientID + @" ).find('a').each( function(){$(this).click(
// your logic 
);}); 
```

或者

```
 $('#" + treevew.ClientID + @" ).find('a').each(function(){$(this).click(function(){$(this).parentsUntil('table').parent('table').next().css('background','red').slideToggle("slow");});}); 
```

当您单击父节点时，此代码将慢慢折叠并展开带有子项的 div，此时子节点的背景将变为红色。

最终解决方案（我也在我的项目中应用了这个解决方案，因为它看起来不错）。ASCX 文件代码：

```
<asp:TreeView ID="treeview" runat="server" ForeColor="Black" CssClass="inputs" ExpandDepth="0" MaxDataBindDepth="2"
    EnableClientScript="true" ShowCheckBoxes="All" AutoGenerateDataBindings="false"  ShowLines="false" 
     ShowExpandCollapse="false">

</asp:TreeView> 
```

和cs文件代码：

```
 if (!this.Page.ClientScript.IsStartupScriptRegistered("treeview")) { string script = @"function InitTreeView(){$('#" + treeview.ClientID + @"' ).find('a').each(function(){$(this).unbind().removeAttr('onclick').removeAttr('href').click(function(){$(this).parentsUntil('table‌​‌​').parent('table').next().slideToggle('slow');});});} Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(InitTreeView);"; ScriptManager.RegisterStartupScript(this.Page, Page.GetType(), "treeview", script, true); } 
```

我从标记锚点中删除带有 __DoPostBack 的 href 属性，因为我只需要保存复选框值。非常感谢用户 1804985 的提问。:)

# java - 对合并的 XML 文件进行编码

> ID：13526360
> 
> 赞同：1
> 
> 时间：2012-11-23T09:41:45.110
> 
> 标签：java, xml

我正在使用以下链接中提到的答案来合并 XML 文件
[https://stackoverflow.com/a/10760236/1643087](https://stackoverflow.com/a/10760236/1643087)
但输出文件似乎缺少编码

```
 <?xml version="1.0"?>
<DataFile>
    <Contact id="1" time="13vsxv:01" KeyCd="cxcEfsd191cxzcate="2012-11-19"><Name><Title>01</Title><FirstName>Chrcxzcan</FirstName><LastName>methot</LastName></Name><Address><Street>9xcz</Street><City>Repentigny</City><State>QC</State><Zip>J5Y1c9</Zip></Address><ContactInfo><Email>ancxcec@ucxcet</Email><EvePhone>4fds277</EvePhone></ContactInfo><Language><Lang>0cxc</Lang></Language></Contact>
    <Contact id="2" time="13:02:01" KeyCd="0dasdEC201sda3dad000036" date="2012-11-19">....</Contact>
    .............
</DataFile> 
```

谁能告诉我如何设置 encoding="ISO-8859-1" 而不是
XMLInputFactory xmlInFactory = XMLInputFactory.newFactory();
我用过
XMLInputFactory xmlInFactory = XMLInputFactory.newInstance();

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-24T04:35:49.060

在编组器上，您设置编码的属性。

```
m.setEncoding("jaxb.encoding", "ISO-8859-1"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-24T04:38:27.983

创建文档时，您传入要使用的编码。

```
xmlEventFactory.createStartDocument("ISO-8859-1"); 
```

# asp.net-mvc - asp.net mvc错误的路由句柄

> ID：13526362
> 
> 赞同：0
> 
> 时间：2012-11-23T09:41:50.693
> 
> 标签：asp.net-mvc, error-handling, asp.net-mvc-routing

在 asp net mvc 中处理错误 url 路由的最佳实践是什么？

示例代码：

```
public ActionResult EditUser(int userId)
{
  ....
} 
```

1.  ActionResult EditUser(int userId = 0) // 默认参数并返回 404
2.  ActionResult EditUser(int?userId) // 可以为空的参数并返回 404
3.  ActionResult EditUser(int userId) // mvc 异常

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:51:21.687

我使用了与这个线程非常相似的东西，它似乎捕捉到了我扔给它的所有东西，正确显示了 URL 并返回了正确的响应代码。

通读这个答案，

[https://stackoverflow.com/a/2577095/1538039](https://stackoverflow.com/a/2577095/1538039)

# web-services - Kerberos 身份验证和反向代理的相互作用

> ID：13526365
> 
> 赞同：6
> 
> 时间：2012-11-23T09:41:59.557
> 
> 标签：web-services, kerberos, reverse-proxy

我需要对反向代理和 Kerberos 协议的相互作用有一些高层次的理解。

假设我有一个 Web 服务和一个客户端，它们已经实现并且可以工作。现在我们将 Web 服务放入反向代理后面的网络中。**反向代理背后**的网络内部身份验证基于 Kerberos。

现在我想知道这个新的基础设施是否会在 Web 服务端和客户端进行一些*编程更改？*这取决于

1.  反向代理是否会在这个 Intranet 中使用*自己的*票证*充当客户端*
**   或者外部客户端是否必须知道这个额外的身份验证层并且必须能够自己请求票证*

 *在这种情况下，最先进的技术是什么？

提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T14:09:04.117

I think I found the answer. **Constrained delegation** is the feature of the Kerberos protocol I expected to exist.

If we use SSL/TLS with mutual certificate based authentication, then the client will be authenticated by the proxy, who validates client's certificate by a local CA (within the hidden intranet). Afterwards, the proxy will generate Kerberos tickets on behalf of the already authenticated client.

At the server side, the ticket validation should happen at the runtime level (e.g., by IIS).

Hence, *if* the client is able to consume the service through SSL/TLS, then the Kerberos authentication remains fully transparent for client and the server.*

# c++ - 如何在 boost::dynamic_bitset<> 中查找第一次和最后一次出现

> ID：13526368
> 
> 赞同：2
> 
> 时间：2012-11-23T09:42:17.193
> 
> 标签：c++, boost

我需要**boost::dynamic_bitset<>**中 1 的第一次和最后一次出现的索引，首先很容易找到 **size_type find_first() const**。如何找到最后一个，我是否需要以相反的顺序迭代或创建新的，或者有一些技巧可以以更简单的方式找到？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:52:39.543

我们可以使用一些技巧，例如

```
#include <iostream>
#include <boost/dynamic_bitset.hpp>

int main()
{
   typedef boost::dynamic_bitset<>::size_type size_type;
   const size_type npos = boost::dynamic_bitset<>::npos;
   boost::dynamic_bitset<> bitset(10, 50);
   size_type first_idx = bitset.find_first();
   size_type current_idx = first_idx;
   if (first_idx != npos)
   {
      do {
         current_idx = bitset.find_next(current_idx);
      } while (bitset.find_next(current_idx) != boost::dynamic_bitset<>::npos);
      std::cout << bitset << " first: " << first_idx << " last: " << current_idx << std::endl;
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-09T05:32:35.627

`find_prev()`我已经使用方法和方法为 boost::dynamic_bitset 放置了票`find_last()`。您可以从 boost trac 获得此补丁：[Ticket #9352](https://svn.boost.org/trac/boost/ticket/9352)

# javascript - div 窗口应该在顶部

> ID：13526370
> 
> 赞同：0
> 
> 时间：2012-11-23T09:42:19.057
> 
> 标签：javascript, jquery, html, css

我需要在图标顶部显示工具提示窗口或 div ...我没有固定高度。如果文本超过四行，它会覆盖十字图标... [这里是演示](http://jsfiddle.net/Sbqtv/)

![在此处输入图像描述](../Images/2102b1781e4ab66a5d7a3c5d5fc3b279.png)

```
 /*--Tooltip Styles--*/
    .tip_trigger{display:block; padding:6px;}
    .tip {
        color: #333;
        background:#ffffff;
        border:1px solid #747474;
        display:none; /*--Hides by default--*/
        padding:10px;
        margin-left:-143px;
        margin-top:-50px;
        text-align:left; line-height:16px;
        position:absolute;  z-index:1000;
        cursor:auto;
        -moz-box-shadow: 2px 2px 5px #D3D3D3;-webkit-box-shadow: 2px 2px 5px #D3D3D3;box-shadow: 2px 2px 5px #D3D3D3;
    }   

 /*--jQuery --*/

     $(document).ready(function () {
            //Tooltips
            $(".tip_trigger").hover(function () {
                tip = $(this).find('.tip');
                tip.show(); //Show tooltip
            }, function () {
                tip.hide(); //Hide tooltip        
            })

        });

/*  HTML:- --------*/

    <td>
     <a class="tip_trigger">
      <img src="http://cdn-img.easyicon.cn/png/5249/524975.png" />
      <span class="tip" style="width: 250px;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet enim...</span>
    </a>
    </td> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:54:31.763

不确定它是否是您正在寻找的，但谁知道：

[http://jsfiddle.net/Sbqtv/8/](http://jsfiddle.net/Sbqtv/8/)

```
$(document).ready(function () {
                //Tooltips
                $(".tip_trigger").hover(function () {
                    tip = $(this).find('.tip');
                    tip.show().css('margin-top',-tip.height()); //Show tooltip
                }, function () {
                    tip.hide(); //Hide tooltip          
                })

            });​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:56:29.977

在这里你有你正在寻找的东西：http: [//jsfiddle.net/Sbqtv/7/](http://jsfiddle.net/Sbqtv/7/)

我`position:relative`在你添加了属性，`.tip_trigger`然后我在类中添加了`bottom`和`right`属性`.tip`。（考虑图像的高度和宽度）

您必须使用相对位置（顶部、底部、左侧、右侧），因为您不知道哪个是尖端的高度。不要使用边距：

```
.tip_trigger{
    display:block;
    padding:6px; 
    position:relative;
}
.tip {
    color: #333;
    background:#ffffff;
    border:1px solid #747474;
    display:none; /*--Hides by default--*/
    padding:10px;
    text-align:left;
    line-height:16px;
    bottom:50px;
    right:0;
    position:absolute;    z-index:1000;
    cursor:auto;
    -moz-box-shadow: 2px 2px 5px #D3D3D3;
    -webkit-box-shadow: 2px 2px 5px #D3D3D3;
    box-shadow: 2px 2px 5px #D3D3D3;
} 
```

​</p>

但是当底部图像之一的尖端隐藏顶部图像时，还有另一个问题。

# java - 在数组中拆分 .txt 文件

> ID：13526373
> 
> 赞同：1
> 
> 时间：2012-11-23T09:42:27.693
> 
> 标签：java, arrays, string, lines

我想实现一个读取文件（即`.txt`）并将文件保存在数组中的程序（我已经这样做了）。然后我想要一个二维数组，我只保存每一行的单词。

例如，如果文件包含两行，每行有两个单词，我希望在`array[0][0]`第一行的第一个单词中包含第一行`array[0][1]`的第二个单词，等等。

我有以下代码：

```
for (int i=0; i < aryLines.length; i++) {
    String[] channels = aryLines[i].split(" ");

    System.out.println("line " + (i+1) + ": ");

    for (int j=0; j < channels.length; j++){
        System.out.println("word " + (j+1) + ": ");
        System.out.println(channels[j]);
    }

    System.out.println();
} 
```

其中`aryLines`包含所有行，但我没有找到执行我描述的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:47:19.083

让你的`1-D`数组是： -

```
String[] lines = new String[10]; 
```

您首先需要声明一个数组数组： -

```
String[][] words = new String[lines.length][]; 
```

然后迭代它，对于每一行，将其拆分并将其分配给内部数组：-

```
for (int i = 0; i < words.length; i++) {
    words[i] = lines[i].split("\\s+");
} 
```

* * *

现在，**问题将是**，并非所有单词都由 just 分隔`space`。他们也有许多你需要考虑的标点符号。我会把它留给你在所有的标点符号上分开。

例如： -

```
"This line: - has word separated by, : and -" 
```

现在，您需要找到句子中使用的所有标点符号。

* * *

**您可以做的一件事**是使用 a`Regex`仅匹配单词的模式，如果您不确定`punctuation`行中使用的所有内容。并将每个匹配的单词添加到数组列表中。

```
"\\w+"  // this regex will match one or more characters forming words 
```

让我们看看它在上面的例子中工作： -

```
 String str = "This line: - has word separated by, : and -";
    List<String> words = new ArrayList<String>();

    Matcher matcher = Pattern.compile("\\w+").matcher(str);

    while (matcher.find()) {
        words.add(matcher.group());
    }

    System.out.println(words); 
```

**输出 ： -**

```
[This, line, has, word, separated, by, and] 
```

您可以在我发布的上述循环中使用这种方法。

# ldap - WSO2 身份服务器：编辑 identity.xml 后加载身份配置时出错

> ID：13526376
> 
> 赞同：1
> 
> 时间：2012-11-23T09:42:33.287
> 
> 标签：ldap, wso2, wso2is

我正在尝试设置 WSO2-Identity Server。我已经下载了版本 4.0.0 二进制文件。它正确启动，我能够将它与 LDAP 一起使用。

但是，如果我想将正确的 ServerURL 插入到 identity.xml 文件中，则会出现错误。

我将以下内容插入到 identity.xml 中：

```
<OpenIDServerUrl>https://server.vm.uni-freiburg.de:9443/openidserver</OpenIDServerUrl>
<OpenIDUserPattern>https://server.vm.uni-freiburg.de:9443/openid/</OpenIDUserPattern> 
```

并且在启动 wso2 IS 时会引发以下错误：

```
[2012-11-23 10:34:41,510] ERROR {org.wso2.carbon.identity.core.util.IdentityConfigParser} -  Error while loading Identity Configurations
org.apache.axiom.om.OMException: com.ctc.wstx.exc.WstxIOException: Stream Closed

    at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:296)
    at org.apache.axiom.om.impl.llom.OMElementImpl.getNextOMSibling(OMElementImpl.java:336)
    at org.apache.axiom.om.impl.traverse.OMChildElementIterator.next(OMChildElementIterator.java:104)
    at org.wso2.carbon.identity.core.util.IdentityConfigParser.readChildElements(IdentityConfigParser.java:154)
    at org.wso2.carbon.identity.core.util.IdentityConfigParser.<init>(IdentityConfigParser.java:60)
    at org.wso2.carbon.identity.core.util.IdentityConfigParser.getInstance(IdentityConfigParser.java:71)
    at org.wso2.carbon.identity.core.util.IdentityUtil.populateProperties(IdentityUtil.java:58)
    at org.wso2.carbon.identity.sso.saml.ui.internal.SAMLSSOUIBundleActivator.start(SAMLSSOUIBundleActivator.java:33)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:782)
    at java.security.AccessController.doPrivileged(Native Method)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:773)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:754)
    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:370)
    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1068)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:557)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:464)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:248)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:445)
    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:220)
    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:330)
Caused by: com.ctc.wstx.exc.WstxIOException: Stream Closed
    at com.ctc.wstx.sr.StreamScanner.throwFromIOE(StreamScanner.java:708)
    at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1086)
    at org.apache.axiom.util.stax.wrapper.XMLStreamReaderWrapper.next(XMLStreamReaderWrapper.java:225)
    at org.apache.axiom.om.impl.builder.StAXOMBuilder.parserNext(StAXOMBuilder.java:681)
    at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:214)
    ... 20 more
Caused by: java.io.IOException: Stream Closed
    at java.io.FileInputStream.readBytes(Native Method)
    at java.io.FileInputStream.read(FileInputStream.java:214)
    at com.ctc.wstx.io.ISOLatinReader.read(ISOLatinReader.java:79)
    at com.ctc.wstx.io.ReaderSource.readInto(ReaderSource.java:84)
    at com.ctc.wstx.io.BranchingReaderSource.readInto(BranchingReaderSource.java:57)
    at com.ctc.wstx.sr.StreamScanner.loadMoreFromCurrent(StreamScanner.java:1046)
    at com.ctc.wstx.sr.StreamScanner.loadMoreFromCurrent(StreamScanner.java:1053)
    at com.ctc.wstx.sr.StreamScanner.getNextCharFromCurrent(StreamScanner.java:811)
    at com.ctc.wstx.sr.BasicStreamReader.readEndElem(BasicStreamReader.java:3206)
    at com.ctc.wstx.sr.BasicStreamReader.nextFromTree(BasicStreamReader.java:2832)
    at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1019)
    ... 23 more 
```

但是，如果我保留默认值：

```
 <OpenIDServerUrl>https://localhost:9443/openidserver</OpenIDServerUrl>
    <OpenIDUserPattern>https://localhost:9443/openid/</OpenIDUserPattern> 
```

服务器正常启动。

我从[https://wso2.org/jira/browse/IDENTITY-407](https://wso2.org/jira/browse/IDENTITY-407)找到了一个错误报告，它可能与问题有关，但并不相同。

我究竟做错了什么？提前致谢！

# java - Java 安全性：如何确保类只能从特定包访问？

> ID：13526377
> 
> 赞同：2
> 
> 时间：2012-11-23T09:42:35.893
> 
> 标签：java

现在我知道我可以将一个方法标记为“无修饰符”，以便它只能由类和包访问。

在这种情况下，这不是我需要的。我需要的是这个：

类“Secure.java”上的方法只能从同一个 JAR 文件中的其他类访问。

和（这是额外的）

当调用安全方法时，调用堆栈不会返回到非安全类然后再次返回。例如：

这很好：

*   com.nonsecure.ClassA.doStuff() 调用
*   com.nonsecure.ClassB.doStuff() 调用
*   com.secure.Secure.doStuff() 调用
*   com.secure.SecureB.doStuff()

这是不好的：

*   com.nonsecure.ClassA.doStuff() 调用
*   com.nonsecure.ClassB.doStuff() 调用
*   com.secure.Secure.doStuff() 调用
*   com。**nonsecure** .ClassC.doStuff() 调用 [糟糕：我们超出了安全 JAR 中的类！]
*   com.secure.SecureB.doStuff()

* * *

现在我想我可以通过一些手动工作来做到这一点：

```
 private void checkSecurity()
  {
    StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();
    for (StackTraceElement stackTraceElement : stackTraceElements)
    {
      // TODO: Add a little magic to check that we've not stepped outside the secure packages.
      if (!stackTraceElement.getClassName().startsWith("com.secure"))
      {
         throw new SecurityException("Woop!");
      }
    }
  } 
```

问题：这感觉好像 Java 应该提供一些东西来帮助我？

我读过关于

```
AccessController.doPrivileged(new PrivilegedExceptionAction<String>() 
```

但似乎只是关于访问资源/网络连接等。而不是访问调用堆栈以确保某种包保护。

笔记：

*   我正在使用 Spring 3
*   包含安全代码的 JAR 文件使用证书进行签名。
*   只能从 JAR 内部访问安全类，不允许从 JAR 外部直接访问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:45:10.917

您的标题说“来自同一个包”，它提供了提示。将该类放入与可以访问它的类相同的包中；不要将其公开，因此仅该包中的类可以访问它；签署 JAR 文件；并密封包装。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T11:48:00.320

您基本上是在寻找基于类的容器（jar）的访问限制。Java 本身并不提供这种控制（至少不容易）。

OSGI 规范更接近您想要实现的访问控制。本质上，OSGI 确实支持和强制执行基于 jar 文件（它称为*bundles*）的访问限制和规则。

您说您正在使用 Spring：也许可以在[此处](http://www.javaworld.com/javaworld/jw-04-2008/jw-04-osgi2.html)和[此处](http://www.javaworld.com/javaworld/jw-03-2008/jw-03-osgi1.html)查看 JavaWorld 的这些文章，以检查 OSGI 可以在多大程度上帮助您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-28T10:32:54.360

最后我使用了上面的 checkSecurity() 方法。

我没有找到可以帮助我的 Java 1.6 功能。

# mysql - 在 MySQL 中，PROCEDURE 是否优于 FUNCTION？

> ID：13526381
> 
> 赞同：1
> 
> 时间：2012-11-23T09:42:48.890
> 
> 标签：mysql

如果我有一个具有单个返回值的逻辑任务，是否应该在 MySQL 中使用 FUNCTION 或 PROCEDURE 是否有任何规则或指南？是否存在 FUNCTION 优于 PROCEDURE 或反之亦然的特定用例？

我看到了一个相关的线程（[存储过程和函数](https://stackoverflow.com/questions/3117427/stored-procedures-and-functions)），但它专注于 SQL Server，我想这是一个特定于实现的问题；MySQL的答案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:44:50.170

函数/过程返回值，函数可以在另一个语句中调用，过程是语句，不能在另一个语句中调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T14:43:31.710

正如约翰所说，我的评论已经是答案。

刚刚阅读：[MySQL 存储过程与函数，我什么时候使用？](https://stackoverflow.com/questions/3744209/mysql-stored-procedure-vs-function-which-would-i-use-when)

# c++ - Qt webkit小部件错误

> ID：13526389
> 
> 赞同：2
> 
> 时间：2012-11-23T09:43:26.530
> 
> 标签：c++, qt, webkit, qtwebkit

我已经设法让 qmake`.pro`为 webkit 编译文件并尝试制作一个基本的浏览器窗口，它只是构建但弹出以下错误？

```
Auto configuration failed
8744:error:02001015:system library:fopen:Is a directory:.\crypto\bio\bss_file.c:126:fopen('g:/test/openssl098u/openssl.cnf','rb')
8744:error:2006D002:BIO routines:BIO_new_file:system lib:.\crypto\bio\bss_file.c:131:
8744:error:0E078002:configuration file routines:DEF_LOAD:system     lib:.\crypto\conf\conf_def.c:199:
QMutex: destroying locked mutex 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T10:25:14.563

[我通过安装此处](http://slproweb.com/products/Win32OpenSSL.html)找到的 openssl win32 二进制文件解决了这个问题

# c# - 框架 4 中的超时正则表达式

> ID：13526390
> 
> 赞同：2
> 
> 时间：2012-11-23T09:43:28.497
> 
> 标签：c#, regex

> **可能重复：**
> [在 .NET 4 中实现 RegEx 超时](https://stackoverflow.com/questions/9460661/implementing-regex-timeout-in-net-4)

```
Regex regexpr = new Regex(anchorPattern[item.Key], RegexOptions.Singleline, TimeSpan.FromMilliseconds(10)); 
```

“System.Text.RegulerExpression.Regex”不包含采用 3 个参数的构造函数。注意：错误在framework 4，如果你使用framework 4.5就不会遇到这个错误。但我一直在使用框架 4，我必须设置超时正则表达式。对此有何补救措施？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:49:37.933

没有像您在 .NET 4 中使用的那样的构造函数。查看[文档页面](http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex%28v=vs.100%29.aspx)；构造函数的唯一选项是：

> 正则表达式（）
> 
> 正则表达式（字符串）
> 
> 正则表达式（SerializationInfo，StreamingContext）
> 
> 正则表达式（字符串，正则表达式选项）

**编辑**

您可以使用[任务](http://msdn.microsoft.com/en-us/library/system.threading.tasks.task%28v=vs.100%29.aspx)来运行正则表达式和`Wait`方法来传递超时。这样的事情应该做的工作：

```
var regexpr = new Regex(anchorPattern[item.Key], RegexOptions.Singleline);
var task = Task.Factory.StartNew(()=>regexpr.Match(foo));
var completedWithinAllotedTime = task.Wait(TimeSpan.FromMilliseconds(10)); 
```

# javascript - 如何使用 javascript/jquery 更改字符串？

> ID：13526391
> 
> 赞同：2
> 
> 时间：2012-11-23T09:43:29.677
> 
> 标签：javascript, jquery, string

我有一个字符串`Feb 2012`。我怎样才能将其转换为`FEBRUARY 2012`. 实际上我有一个完整的数组`['Jan 2011', 'Feb 2011', 'Mar 2011', ... ]`我需要转换每个元素并得到`['JANUARY 2011', ...]`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-23T09:46:15.220

假设字符串始终格式化为 '{monthShortForm} {year}'，您可以执行以下操作：

```
var input = 'Jan 2011';
var parts = input.split(' ');
var output = longForm[parts[0].toLowerCase()] + ' ' + parts[1]; 
```

longForm 是这样的地图

```
longForm = { 'jan': 'JANUARY', 'feb': 'FEBRUARY', /* etc */ }; 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:51:19.630

```
var dt = new Date("Feb 2012"), // FEBRUARY 2012
    m_names = ["JANUARY", "FEBRUARY", "March", 
"April", "May", "June", "July", "August", "September", 
"October", "November", "December"];

var curr_month = dt.getMonth(),
    curr_year = dt.getFullYear();

console.log(m_names[curr_month] + " " + curr_year); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T11:51:17.587

**使用 jQuery 试试这个：**

```
var arr = ["Jan 2011", "Feb 2011", "Mar 2011"];
var name = ["JANUARY", "FEBRUARY", "MARCH"];
var list = new Array();

// Loop through the array arr
$.each(arr, function(i, value) {

    // Convert the month names
    var month = name[i];
    var year = value.split(" ")[1];

    // Display the result
    alert(month + ' ' + year);  

    // Add elements to a new array
    list.push(month + ' ' + year);
});​

console.log(list); 
```

**控制台结果：**

```
["JANUARY 2011", "FEBRUARY 2011", "MARCH 2011"] 
```

希望这可以帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:49:39.993

```
var myDate = new Date(Date.parse("Mar 2012"));
var monthNum = myDate.getMonth();
var year = myDate.getFullYear(); 
```

现在把monthNum变成一个字符串。我建议使用 12 个字符串的数组，并使用 array[monthNum] 来获得正确的字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T10:26:20.317

如果您要在您的应用程序中进行其他基于时间和日期的操作，我建议您使用 Moment.js (http://momentjs.com/)。这是一个非常强大的库——如果这就是你需要做的所有事情，可能有点太多了——但无论如何都值得研究。

要使用 Moment.js 回答您的问题，这是您需要的代码段：

```
moment('Feb 2011', 'MMM YYYY').format('MMMM YYYY').toUpperCase();
// FEBRUARY 2011 
```

# mysql - 两条记录之间的时间间隔

> ID：13526392
> 
> 赞同：1
> 
> 时间：2012-11-23T09:43:32.860
> 
> 标签：mysql

嗨，我有一个小问题，你能帮帮我吗？

```
SELECT  `name` ,  `mytimestamp` 
FROM  `profile` 
WHERE  `mytimestamp` between '2012-10-24 05:59:00' AND '2012-10-25 05:59:00' 
ORDER BY `name` , `mytimestamp` 
```

上面的查询从我的表中列出了大约 3000 条记录，在我的表中存在 100 个名称，对于这些名称有几个时间戳可用，现在我的问题是我必须找到一个有 3 小时间隔的名称？

我需要从 mysql 中的查询本身执行此操作......

谢谢大家！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:07:22.730

此查询将找到所有在 profile 表中具有多于一行的用户，并且这两者之间的间隔大于`interval`.

```
SELECT DISTINCT p1 name
FROM profile p1
INNER JOIN profile p2 on p1.name = p2.name
WHERE p2.mytimestamp - p1.mytimestamp > interval; 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-23T09:59:30.963

这可能会有所帮助

```
 SELECT *
      FROM table
     WHERE datetime BETWEEN TO_DATE ('10/30/2012 06:00:00',
                                              'MM/DD/YYYY HH24:MI:SS'
                                             )
                                 AND TO_DATE ('10/30/2012 16:12:00',
                                              'MM/DD/YYYY HH24:MI:SS'
                                             )
                AND  TO_DATE ('10/30/2012 16:12:00',
                                              'MM/DD/YYYY HH24:MI:SS'
                                             )-  TO_DATE ('10/30/2012 06:12:00',
                                              'MM/DD/YYYY HH24:MI:SS'
                                             )>2 
```

# size - video.js 视频大小

> ID：13526396
> 
> 赞同：0
> 
> 时间：2012-11-23T09:43:42.883
> 
> 标签：size, video.js

我无法使用 video.js 设置视频大小

我做了一个视频节点：

```
 videoNode = $('<video>');
        videoNode.attr('id', 'simulationVideo');
        $('#' + _config.videoTargetId).append(videoNode); 
```

我设置播放器：

```
 //create new player
    myPlayer = _V_("simulationVideo", {
        'id': _config.id,
        'preload': "auto",
        'controls': false,
        'autoplay': _config.autoplay

    }, function () {

        //set listeners for our controlbar
        //if (_config.controls) {
            controls = new Doczero.VideoPlayer.Controlbar();

            //$('#' + _config.controlbarTargetId).append(controls.html());

            //put listeners in place
            this.addEvent('timeupdate', controls.onTimeUpdate);
            this.addEvent('progress', controls.onBufferUpdate);
            this.addEvent('play', controls.onPlay);
            this.addEvent('pause', controls.onPause);

            //listen to controlls
            controls.CustomEvents.AddListener('onPressPlay', _self);

        //}
    }); 
```

我播放曲目：

```
 //set sources to play
    this.play = function (srcArray, newCallback) {
        //set source
        myPlayer.src(srcArray);
        myPlayer.play();

        //remove old callback
        if (callback != null) {
            myPlayer.removeEvent('ended', callback);
        }

        //add new ended callback
        myPlayer.removeEvent('ended', newCallback);
    } 
```

一切似乎都很好，直到视频弹出 3 倍大（它保持原来的大小）

# jsf-2 - 提交操作时的 JSF 消息

> ID：13526398
> 
> 赞同：0
> 
> 时间：2012-11-23T09:43:44.153
> 
> 标签：jsf-2

我从我的案例开始：

JSF 2.1

雄猫 7.0.27

Netbeans 作为 IDE

JSF 和 PRIMEFace（但可选）

级别 JSF 初学者

水平JAVA好不神

* * *

我做了一个简单的 JSF 站点来学习如何使用 JSF。我的问题是基于此步骤的登录示例，问题与显然不安全的登录无关。

一点代码：

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
import java.io.Serializable;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

/**
 *
 * @author 
 */
@ManagedBean
@SessionScoped
//@RequestScoped
public class User implements Serializable {
private static final long serialVersionUID = 1L;
private final String userName = "User";
private final String userPassword = "12345";
private String name;
private String password;
private boolean isLogged=false;

public String getName() {
    return name;
}

public void setName( String name ) {
    this.name = name;
}

public String getPassword() {
    return password;
}

public void setPassword( String password ) {
    this.password = password;
}

public String login() {
    if( !(userName==null || password==null)
        &&
        (userName.equals( name ) && userPassword.equals( password ))) {

        isLogged=false;
        return "main";
    } else {
        isLogged=true;
        return "index";
    }

}

public boolean getIsLogged(){
    return isLogged;
}
} 
```

页面索引

```
 <?xml version='1.0' encoding='UTF-8' ?>
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml"
          xmlns:h="http://java.sun.com/jsf/html">
        <h:head>
            <title>TSAM 7.5 Login</title>
        </h:head>
        <h:body>
            Login system
            <br />
            <!--<h:link outcome="welcomePrimefaces" value="Primefaces welcome page" />-->
            <h:form>
                User : <h:inputText value="#{user.name}" />
                Password : <h:inputSecret value="#{user.password}" />
                <h:commandButton action="#{user.login()}" value="Submit" />
                <h:commandButton value="reset" type="reset" />
                <h:commandButton value="otherpage" action="otherpage"></h:commandButton>

            </h:form>
        </h:body>
    </html> 
```

主页

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:event type="preRenderView" listener="#{user.isLogged}"/> 
    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>PrimeFaces</title>
            </f:facet>
        </h:head>

        <h:body>

            <p:layout fullPage="true">

                <p:layoutUnit position="north" size="100" resizable="true" closable="true" collapsible="true">
                    Header
                </p:layoutUnit>

                <p:layoutUnit position="south" size="100" closable="true" collapsible="true">
                    Footer
                </p:layoutUnit>

                <p:layoutUnit position="west" size="175" header="Left" collapsible="true">
                    <p:menu>
                        <p:submenu label="Resources">
                            <p:menuitem value="Demo" url="http://www.primefaces.org/showcase-labs/ui/home.jsf" />
                            <p:menuitem value="Documentation" url="http://www.primefaces.org/documentation.html" />
                            <p:menuitem value="Forum" url="http://forum.primefaces.org/" />
                            <p:menuitem value="Themes" url="http://www.primefaces.org/themes.html" />

                        </p:submenu>

                    </p:menu>
                </p:layoutUnit>

                <p:layoutUnit position="center">
                    Welcome to PrimeFaces
                </p:layoutUnit>

            </p:layout>

        </h:body>

    </f:view>
</html> 
```

第一的

我使用 action="#{user.login()}" 进行导航操作是正确的还是有更好的模式？

但真正的问题是：如果我重定向，如何显示消息？

我喜欢显示一条消息，我知道 PrimeFace [http://www.primefaces.org/showcase/ui/dialogLogin.jsf](http://www.primefaces.org/showcase/ui/dialogLogin.jsf)的示例。但它不会重定向或显示任何内容。但是如果我只使用没有 PrimeFace 的“普通”JSW，我喜欢放一个，因为它类似于 PrimeFaces，所以切换很简单。

我想采用一种“模式”，这样我就可以重复使用它，例如当我进行搜索时没有数据存在，或者当我调用“erease DB”并且应用程序说正在进行中然后说好的所有银行账户都是esreased（只是一个例子！！但很有趣，因为有 2 条消息）。

谢谢

* * *

我试试

```
public String login() {
        if (!(userName == null || password == null)
            && (userName.equals( name ) && userPassword.equals( password ))) {

            isLogged = true;
            return "main";
        } else {
            isLogged = false;
            FacesMessage facesMsg;
            facesMsg = new FacesMessage( FacesMessage.SEVERITY_ERROR, "No login", "No login because username or passsword are incorrect etc" );
            FacesContext fc = FacesContext.getCurrentInstance();
            fc.addMessage( "loginError", facesMsg );
            return "index";
        }

    } 
```

并编辑了页面

```
<h:body>
        Login system
        <br />
        <!--<h:link outcome="welcomePrimefaces" value="Primefaces welcome page" />-->
        <h:form>
            User : <h:inputText value="#{user.name}" />
            Password : <h:inputSecret value="#{user.password}" />
            <h:commandButton action="#{user.login()}" value="Submit" />
            <h:commandButton value="reset" type="reset" />
            <h:commandButton value="Cambio Password" action="changePassword"></h:commandButton>

        </h:form>

        <h:message for="" style="color:red;margin:8px;"/>
    </h:body> 
```

它可以工作，但是不行，因为在 bean 中放一个字符串是不行的。我需要这个字符串必须由 bean 生成的多语言......嗯，这不是我所缺少的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T12:35:29.670

这个问题有很多噪音。我了解您的问题最终归结为：

> *如何在 bean 操作方法中创建本地化的面孔消息？*

在这种情况下，只需自己从当前资源包中获取消息。

当您谈论本地化时，您肯定应该已经有了类似的东西

```
<resource-bundle>
    <base-name>com.example.i18n.text</base-name>
    <var>text</var>
</resource-bundle> 
```

在你的`faces-config.xml`. 您也可以在 bean 中获取它，[`ResourceBundle`](http://docs.oracle.com/javase/6/docs/api/java/util/ResourceBundle.html)而 JSF 本身实际上也在幕后使用

```
Locale locale = FacesContext.getCurrentInstance().getViewRoot().getLocale();
ResourceBundle text = ResourceBundle.getBundle("com.example.i18n.text", locale); 
```

这样你就可以把你的消息写成

```
String summary = text.getString("messages.no_login_summary");
String detail = text.getString("messages.no_login_detail");
new FacesMessage(FacesMessage.SEVERITY_ERROR, summary, detail); 
```

# mvvm - 如何将 Combobox 的选定项绑定到两个不同的属性？

> ID：13526401
> 
> 赞同：2
> 
> 时间：2012-11-23T09:43:52.810
> 
> 标签：mvvm, binding, combobox, silverlight-5.0

我正在使用 MVVM 模式开发项目。在项目中我有两个视图模型，即

1.  CountryViewModel 和 2\. EmpViewModel

在 countryviewmodel 中，我存储了有关国家、州、城市等的信息。

在 EmpViewModel 中，我有一个控件，该控件具有显示国家名称的组合框，并且所选值设置为 CountryViewModel 中的国家 ID。

这是代码：

```
<ComboBox Grid.Row="0" Grid.Column="1" Margin="3"
             ItemsSource="{Binding CountryViewModel.Countries}" SelectedValue="{Binding Title}"
             SelectedItem="{Binding CountryViewModel.SelectedCountry,Mode=TwoWay}"                               
             SelectedValuePath="Country_Id" DisplayMemberPath="Title">
    </ComboBox> 
```

这工作正常。

我在 EmpViewModel 中有本地属性国家/地区 ID，并希望将其绑定到 Combobox 的 SelectedValue 属性，如果我`CountryViewModel`从`CountryViewModel.SelectedCountry`.

但问题是我有另一个依赖于国家组合框的状态组合框。 **编辑**：即在 Country ViewModel 中，当 SelectedCountry 更改时，我调用了 GetAllState() 方法。

那么我可以将 Combobox 的 SelectedValue 属性绑定到 CountryViewModel 中的 CountryViewModel.SelectedCountry 和 EmpViewModel 中的 Country_Id 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-28T03:49:03.847

**我找到了解决方法**

我在接口中编写了以下方法：

```
 public interface IViewModel
{
    T GetValue<T>(string propertyName);
} 
```

在国家视图模型中，我将此方法实现为：

```
 public override T GetValue<T>(string propertyName)
    {
        T result = default(T);
        result = (T)Convert.ChangeType(this.SelectedCountry, typeof(T), null); } 
```

在 Emp View Model 中，我添加了以下行：

```
newEmp.Country_Id = this.CountryViewModel.GetValue<Country>("SelectedCountry").Country_Id; 
```

# regex - 正则表达式替换javascript中的文件名

> ID：13526402
> 
> 赞同：0
> 
> 时间：2012-11-23T09:44:00.947
> 
> 标签：regex

我在使用正则表达式时遇到问题，我有几张图片的文件名需要更改。我是手工完成的。它快速简单且无痛。但是，我想知道作为使用 JavaScript 的简单替换 reg ex 需要做什么。那是它不太成功的时候。该图像名为“muti bloom 02.png”，它将被重新调整大小并保存为名为“iOS_multi_BLOSSOM_2048.jpg”的 JPEG。其他的形式相同，但名词不同；冬天，叶子，马戏团等

文件名的结构如下：

*   开头的“mutli”（小写），
*   白色空间，
*   名词（小写），
*   空白，
*   一个数字（前面可能有 0，可能是一位或两位数字），
*   文件扩展名可能是 .png 或 .psd（小写）。

然后需要将其更改为：

*   iOS_multi（骆驼案例），
*   名词（大写），
*   2048（新的固定尺寸），
*   新文件扩展名 .jpg（小写）。

我知道 ([az]+\s) 匹配“multi”并且 (\s\d+.[az]+$) 将匹配数字和文件扩展名，但不知道如何成功匹配中间的位也是。并在名词上做大写。但我敢肯定还有其他人这样做。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T11:57:17.670

在 JavaScript 正则表达式中，您不能使用 a 来执行此操作，`replace`因为无法将替换文本大写。但是，该`match`方法将返回一个数组，然后您可以对其进行操作。

```
var oldImageName = "multi blossom 02.png";   
var matches = oldImageName.match(/multi (\w+) \d{1,2}\.(?:png|psd)/);   
var newImageName = "iOS_multi_" + matches[1].toUpperCase() + "_2048.jpg"; 
```

注意：这假设“名词”是一个没有空格的单词

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-08-15T13:41:05.147

我正在搜索“javascript Regex to replace characters that Windows doesn't accept in a filename”但什么也没找到，所以这里是 regex 从文件名中删除 windows 文件系统不允许的字符（/\:?<>|“）：

```
var originalFileName='some filename:with"forbidden/>\? chars.in';
var strippedFileName=originalFileName.replace(/[/\\:?<>|\"]+/g, "")
console.log(strippedFileName); 
```

# javascript - 使用外部页面创建对话框 JQuery Mobile

> ID：13526406
> 
> 赞同：0
> 
> 时间：2012-11-23T09:44:09.170
> 
> 标签：javascript, jquery-mobile

我想创建两个页面，第一个包含将显示第二个的按钮，第二个 g 以对话框的形式出现。

```
data-role= dialog 
```

对于第一页，我将此 codd 添加到添加按钮

```
$('#header-left-container').prepend(results.rows.item(i).LibelleTypeTravail +"" +
                "<br>" +
                "<a  href='../prestation_html/list_rubrique.html' data-transition='flip' data-rel='dialog'  > <img src='../js/images/add.png' > </a>" +
                "<textarea rows='6'  cols='60'  name='"+results.rows.item(i).LibelleTypeTravail+"'> </textarea><br><br>" ); 
```

对于第二页“list_rubrique.html”，我添加了这个：

```
<div data-role='page'>

<div data-role="data-role="dialog"  id="popupBasic" data-theme="a" >

<ul>
<li>a</li>
<li>b</li>
<li>c</li>
</ul>

</div>
</div> 
```

但不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T14:46:37.213

问题是您的*对话框*嵌套在*页面*内，对话框应该独立存在。

要[显示](http://jquerymobile.com/demos/1.2.0/docs/pages/dialog/index.html)对话框，您有两个选择，要么使用常规页面，要么在链接中使用`data-rel="dialog"`，或者`data-role="page"`在目标页面上不使用 ，而使用`data-role="dialog"`.

例如，在您的情况下，您应该能够将`list_rubrique.html`页面中的标记切换为

```
<div data-role="data-role="dialog"  id="popupBasic" data-theme="a" >   
  <ul>
      <li>a</li>
      <li>b</li>
      <li>c</li>
 </ul>   
</div> 
```

# opencv - OpenCV POSIT 算法 - 坐标系

> ID：13526409
> 
> 赞同：3
> 
> 时间：2012-11-23T09:44:23.730
> 
> 标签：opencv, coordinate-systems

我知道 Posit 会计算您的相机和 3d 对象之间的平移和旋转。我现在唯一的问题是，我不知道相机和物体的坐标系是如何定义的。因此，例如，如果我绕 z 轴旋转 90°，z 轴指向哪个方向，物体是围绕该轴旋转还是相机围绕它旋转？

编辑：经过一些测试和使用不同的坐标系，我认为这是正确的：相机坐标系的定义：z 轴指向相机正在寻找的方向。x 轴指向右侧，同时查看 z 方向。y 轴朝上，同时朝 z 方向看。

对象在同一个坐标系中定义，但每个点都是相对于起点定义的，而不是相对于坐标系原点的。

您获得的平移向量告诉您对象的点 [0] 如何远离相机坐标系的原点。旋转矩阵告诉您如何在相机坐标系中旋转对象，以获得对象的起始方向。所以旋转矩阵基本上不会告诉你对象现在是如何旋转的，但它会告诉你如何反转它的当前方向。

有人可以批准吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-10T21:28:04.387

Check out [this answer](https://stackoverflow.com/a/17428649/661211).

The Y axis is pointing downward. I don't know what do You mean by starting point. The camera lays in the origin of it's coordinate system, and object points are defined in this system.

You are right with the rotation matrix, well, half of. The rotation matrix tells You, how to rotate the coordinate system to make it oriented the same as the coordinate system used to define model of the object. So it does tell You how the object is oriented with respect to the camera coordinate system.

# asp.net - 当父 Div 有边距时，文本框高度 100%

> ID：13526411
> 
> 赞同：0
> 
> 时间：2012-11-23T09:44:25.067
> 
> 标签：asp.net, css, html

浏览了一些相关问题，但似乎没有一个能回答我的问题。

我有以下内容：

```
<div id="outerdiv" style="width: 50%; height: 100%">
    <div id="innerdiv" style="margin: 5px; height: 100%">
         <textbox>
    </div>
</div> 
```

我希望文本框占据有边距的内部 div 的全部空间。两个问题：

如果内部 div 的高度为 100%，它会溢出，因为它有边距。我不能在外部 div 上进行填充，因为外部 div 然后溢出它的父级等。整个布局是一个正方形，有四个相等的子正方形，每个子正方形就像上面的标记。

1.  那么我怎样才能让 innerdiv 占据整个高度但仍然有我想要的边距？

如果我将文本框设置为 100% 的宽度和高度，边距会再次导致问题并且文本框溢出。

1.  如何让文本框占据整个空间而不会溢出？

**编辑**：

小提琴：使用它作为基础并添加一个具有固定宽度和高度的外部 div 来查看我的问题：http: [//jsfiddle.net/7w8TA/](http://jsfiddle.net/7w8TA/)

这是我自己创建的小提琴，但我不确定它是否公开......：http: [//jsfiddle.net/LethalLava/mY6Dn/](http://jsfiddle.net/LethalLava/mY6Dn/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:49:45.313

希望这可以帮助你：http: [//jsfiddle.net/7w8TA/](http://jsfiddle.net/7w8TA/)

```
<div style="width:400px; height:300px">
<div id="outerdiv" style="width: 50%; height: 100%;border:1px solid black" >
    <div id="innerdiv" style="margin: 5px; height: 100%;border:1px solid red" >
        <input type="text" value="textbox" style="width:98%" />
    </div>
</div> 
```

[http://jsfiddle.net/mY6Dn/4/](http://jsfiddle.net/mY6Dn/4/)

# android - ICS 中的 Android 主菜单

> ID：13526412
> 
> 赞同：0
> 
> 时间：2012-11-23T09:44:30.283
> 
> 标签：android

我在我的应用程序中添加了主菜单，我需要将菜单文本居中对齐。它在姜饼中工作正常。但它在冰淇淋三明治中左对齐。我该如何解决这个问题？

这是我的菜单布局

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">
<item android:id="@+id/menu_home"
      android:title="@string/home"

      />
</menu> 
```

截屏：

[img http://img594.imageshack.us/img594/5756/device20121123152830.png](http://img594.imageshack.us/img594/5756/device20121123152830.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T11:21:08.937

```
 getLayoutInflater().setFactory( new Factory() {

        @Override
        public View onCreateView ( String name, Context context, AttributeSet attrs ) {

            if ( name.equalsIgnoreCase( "com.android.internal.view.menu.IconMenuItemView" ) ) {

                try { // Ask our inflater to create the view
                    LayoutInflater f = getLayoutInflater();
                    final View view = f.createView( name, null, attrs );
                    /* 
                     * The background gets refreshed each time a new item is added the options menu. 
                     * So each time Android applies the default background we need to set our own 
                     * background. This is done using a thread giving the background change as runnable
                     * object
                     */
                    new Handler().post( new Runnable() {
                        public void run () {
                            view.setBackgroundResource( R.drawable.bg_btn1);
                            view.setPadding(left, top, right, bottom);
                        }
                    } );
                    return view;
                }
                catch ( InflateException e ) {}
                catch ( ClassNotFoundException e ) {}
            }
            return null;
        }
    }); 
```

# android - 有没有办法可以在 Android 模拟器中模拟传出短信？

> ID：13526414
> 
> 赞同：2
> 
> 时间：2012-11-23T09:44:33.733
> 
> 标签：android

有谁知道在android模拟器中模拟传出短信的方法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T09:48:21.717

是的，可以通过同时打开两个模拟器来实现。

假设您的模拟器编号是 5554 和 5556。

```
btnSendSMS = (Button) findViewById(R.id.btnSendSMS);
btnSendSMS.setOnClickListener(new View.OnClickListener()
  {
     public void onClick(View v)
     {
         sendSMS("5556", "Hi You got a message!");                     
      }
  });

private void sendSMS(String phoneNumber, String message)
{
   SmsManager sms = SmsManager.getDefault();
   sms.sendTextMessage(phoneNumber, null, message, null, null);
} 
```

# java - 当我想用 elgamal 解密时，如何使用字符串而不是文件？

> ID：13526417
> 
> 赞同：0
> 
> 时间：2012-11-23T09:44:51.837
> 
> 标签：java, netbeans, elgamal

我想使用 ElGamal 加密。我可以用 a 做到这一点`File`，但我不知道如何用 a 做到这一点`String`。

像这样：

```
public static String decrypt(String encrypted_sql) {
  File f = new File(sPrFile);

  ElGamalPrivateKey elpr = null;
    try {
      elpr = new ElGamalPrivateKey(sPrFile);
    } catch (IOException ex) {
      JOptionPane.showMessageDialog(null,"ERROR : " +e x.getLocalizedMessage() +
        "\n kullanıcı : "+username+"\n password : "+password);
      Logger.getLogger(ppi_script_execute.class.getName()).log(Level.SEVERE, null, ex);
    }
    return ElGamalAlgorithm.decrypt2(encrypted_sql, elpr);
  } 
```

}

我不想使用`sPrFile`. 我想使用`String`变量。我的钥匙是这样的：

```
Key 600 d99f0d547sdfs6d8f49sd96f65sd1f3827af14a34654dbb285fcbc8019df1fd7c152d5e25
        7157f53e2‌​0d4613b270a7b656790c5a723a88asdasd58d6fe2dd0dd810365b8574c253be2
        26e7da90eb61578eb197e764761f7e6955009f7d6339245244044bd7301e40ee3f423fef6
        26cc35c86fc7‌6716db47d85ecff5a5dd3bd8655sdf8sd6f6sd6f86sd4f65686w9w9e46sd5
        f65s6d6s4d6f6ss6df 4546cfe42842c82cb9cda6b954632ae8201dcde3b6af0bbd7‌​61879
        zzf89yfdd28db4bca70ss48w16fc8ff7e38a40dfc05f48caaffcc61d1972ff0b3 
```

# c++ - 向量的 C++ 转换 > 到数组

> ID：13526421
> 
> 赞同：1
> 
> 时间：2012-11-23T09:45:08.643
> 
> 标签：c++, visual-c++

我的问题是，即使我使用 operator[] 来获取向量内容，向量总是调用 size 函数（根据我的分析工具和时间测量）。因此，由于我的 C++ 应用程序对时间非常关键（小于 0.1 毫秒），我想我最好将其转换为数组，但到目前为止我还想不通。实际的向量如下所示：

```
std::vector<std::pair<double*,std::pair<double*,int*>>> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T09:58:44.703

由于问题被标记为“visual-c++”，我假设正在使用这个编译器。

C++ 标准库的 Microsoft 实现包括各种检查，以检测产生未定义行为并产生运行时错误的情况。默认情况下启用这些检查（即使对于发布版本！），但您可以通过定义`_SECURE_SCL`为`0`. 请参阅[此处 (MSDN)](http://msdn.microsoft.com/en-us/library/aa985965%28v=vs.80%29.aspx)和[此处](https://blogs.warwick.ac.uk/ahazelden/entry/visual_studio_stl/)了解更多信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T09:49:42.190

您可以将其转换为指向数组第一个元素的指针，如下所示：

```
pair<double *, pair<double *, int *> > *ar = &v[0]; 
```

在 C++11 中使用`v.data()`而不是。`&v[0]`

无关紧要，我有点怀疑该`size()`功能占用了可测量的时间。它通常是一个内联函数，它要么返回一个字段，要么返回两个指针字段的差。

# hook - TYPO3：创建或编辑页面后的钩子

> ID：13526428
> 
> 赞同：15
> 
> 时间：2012-11-23T09:45:18.647
> 
> 标签：hook, typo3

我正在寻找一个在页面创建或更改页面后调用的钩子，如“ `hide page in nav`”、“ `deactivate page`”或“ `move/delete page`”

有人知道吗？

谢谢！

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-11-27T12:28:04.443

这些 Hooks 位于[t3lib/class.t3lib_tcemain.php](http://api.typo3.org/typo3cms/45/html/classt3lib___t_c_emain.html)

以下只是其中的一部分：

*   processDatamap_preProcessFieldArray
*   processDatamap_postProcessFieldArray
*   hook_processDatamap_afterDatabaseOperations
*   processDatamap_afterAllOperations

在您的情况下，我认为您可以使用“ **processDatamap_postProcessFieldArray** ”。

示例如何将其包含在**ext_localconf.php**中：

```
$GLOBALS['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_tcemain.php']['processDatamapClass'][] = 'EXT:your_extension/hooks/class.tx_yourextension_tcemain.php:tx_yourextension_tcemain'; 
```

示例类：

```
<?php
    class tx_yourextension_tcemain {
            function processDatamap_postProcessFieldArray($status, $table, $id, &$fieldArray, &$pObj) {
                if($table == 'pages' && $status =='new') {
                    // do some stuff
                }
            }
    }
?> 
```

使用**$table**，您可以检查修改了哪个表。**$status**允许您检索当前操作，例如“新建”、“更新”或“删除”。

TYPO3 > 6 的示例，命名空间位于另一个挂钩上：

```
$GLOBALS['TYPO3_CONF_VARS']['SC_OPTIONS']['cms/tslib/class.tslib_menu.php']['filterMenuPages']['YourExtension\\Hook\\FilterMenuPages'] = 'EXT:your_extension/Classes/Hook/FilterMenuPages.php:YourExtension\Hook\FilterMenuPages'; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-02-24T10:26:43.127

对于**TYPO3 7.6**版本（也适用于 10.4.X）

> **在ext_localconf.php**中写入以下内容

 **```
$GLOBALS ['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_tcemain.php']['processDatamapClass']['extkey'] = 'Vendor\\Extension\\Hook\\TCEmainHook';
$GLOBALS ['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_tcemain.php']['processCmdmapClass']['extkey'] = 'Vendor\\Extension\\Hook\\TCEmainHook'; 
```

> 创建钩子类**/Classes/Hook/TCEmainHook.php**，从下面的列表中选择适当的函数

```
<?php
namespace Vendor\Extension\Hook;

class TCEmainHook {
    public function processCmdmap_preProcess($command, $table, $id, $value, \TYPO3\CMS\Core\DataHandling\DataHandler &$pObj) {}
    public function processCmdmap_postProcess($command, $table, $id, $value, \TYPO3\CMS\Core\DataHandling\DataHandler &$pObj) {}
    public function processDatamap_preProcessFieldArray(array &$fieldArray, $table, $id, \TYPO3\CMS\Core\DataHandling\DataHandler &$pObj) {}
    public function processCmdmap_deleteAction($table, $id, $recordToDelete, $recordWasDeleted=NULL, \TYPO3\CMS\Core\DataHandling\DataHandler &$pObj) {}
    public function processDatamap_afterAllOperations(\TYPO3\CMS\Core\DataHandling\DataHandler &$pObj) {}
    public function processDatamap_postProcessFieldArray($status, $table, $id, array &$fieldArray, \TYPO3\CMS\Core\DataHandling\DataHandler &$pObj) {}
    public function processDatamap_afterDatabaseOperations($status, $table, $id, array $fieldArray, \TYPO3\CMS\Core\DataHandling\DataHandler &$pObj) {}
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-23T10:59:47.223

有一个扩展[dmc_hooklist](http://typo3.org/extensions/repository/view/dmc_hooklist/)列出了所有的钩子。（几年前用过）

或者看看 t3lib/class.t3lib_tcemain.php 有你需要的钩子。**

# c# - 从服务器下载文件时出现问题（保存工作正常，但打开不打开文件）

> ID：13526429
> 
> 赞同：0
> 
> 时间：2012-11-23T09:45:17.803
> 
> 标签：c#, asp.net, download

我正在尝试下载从服务器上某个位置上传的文件。这是我用来下载文件的代码

```
Response.ContentType = "image/jpg";
Response.AddHeader("Content-Disposition", "attachment;filename=\"" + filePath + "\"");
Response.TransmitFile(Server.MapPath(filePath));
Response.End(); 
```

在这里，我有各种扩展名的文件，即文件可以是我当前设置为**.jpg/pdf/doc/txt**的文件。`ContentType``image/jpg`

当我尝试下载一个文件时，它得到了正确的保存，并且可以从保存它的物理位置打开，但是打开不起作用并且文件没有下载，我得到了如图所示的错误。

![在此处输入图像描述](../Images/db460c93dbbce2bc277d760b8c8d8db9.png) ![在此处输入图像描述](../Images/2afefa77f842e964cc8427081d96d425.png)

即使我尝试打开一个类型的文件，这个问题也是如此，`jpg`所以我认为这与它无关`ContentType`

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:38:25.213

最常见的这个问题发生在禁用缓存的 Internet Explorer 上（文件被下载到临时文件夹，然后在单击打开之前被删除）。请参阅[IEInternals](http://blogs.msdn.com/b/ieinternals/archive/2009/10/03/internet-explorer-cannot-download-over-https-when-no-cache.aspx)。

如何确定：启动[Fiddler](http://fiddler2.com)并在文件下载响应中查找缓存标头。

如果响应包含`Cache-Control: no-cache`标题，您将不得不修改您的代码以覆盖它`Cache-Control: private`或更改禁用它的代码以排除生成文件的处理程序/页面/操作（有时 asp.net 有覆盖`Cache-Control`标题的问题，因此我通常使用第二种方法）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-24T06:33:44.567

我指定`Content-Type`为`octet-stream`并且它有效！

# asp.net - 如何使用 ViewData 模型进行编辑

> ID：13526431
> 
> 赞同：-2
> 
> 时间：2012-11-23T09:45:25.867
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3

我创建了一个基于三个表组合的视图模型。

我单击编辑操作，它正确显示三个表中的数据。

但是当我点击保存按钮时，我无法从 FormCollection 或 Request["Id"] 获取数据

请建议它可能的方式。

公共类 ConferenceResourceEditModel {

```
 public ConferenceRoom ConferenceRoom { get; set; }

    public Resources Resources { get; set; }

    public ResourceAllocation ResourceAllocation { get; set; }

} 
```

公共 ActionResult 编辑（int id）
{

//会议室会议室 = db.ConferenceRooms.Find(id);

```
 var query =

               from c in db.ConferenceRooms

               from r in db.Resourcess

               from ra in db.ResourceAllocation

               where c.ConferenceID == id

               where c.ConferenceID == ra.ConferenceID 

               where r.ResourceID ==ra.ResourceID 

               select new ConferenceResourceEditModel { ConferenceRoom = c, Resources = r,ResourceAllocation=ra };

        return View(query);       
    }

    //
    // POST: /ConferenceRoom/Edit/5

    [HttpPost]
    public ActionResult Edit(FormCollection form, int id, ConferenceResourceEditModel conferenceroom,ConferenceRoom crf)
    {

        if (ModelState.IsValid)
        {
            db.Entry(conferenceroom).State = EntityState.Modified;
            db.SaveChanges();
            return RedirectToAction("Index");
        }
        return View(conferenceroom);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:21:35.647

使用一些 ORM（比如[EntityFramework](http://msdn.microsoft.com/pl-pl/library/ff714342.aspx)，我个人推荐[DatabaseFirst](http://msdn.microsoft.com/en-us/data/gg685489.aspx)方法）。使用类似的东西：

变种查询 =

```
 from c in db.ConferenceRooms

           from r in db.Resourcess

           from ra in db.ResourceAllocation

           where c.ConferenceID == id

           where c.ConferenceID == ra.ConferenceID 

           where r.ResourceID ==ra.ResourceID 
```

更复杂和困难。希望它会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:56:02.750

[在http://www.asp.net/mvc](http://www.asp.net/mvc)站点上查找模型绑定，那里有关于这类事情的精彩教程。

简而言之，您的控制器操作将采用 YOURVIEWMODEL 类型的参数并自动绑定到它

# c# - 将 WPF TreeView 控件绑定到 KeyValuePair

> ID：13526433
> 
> 赞同：0
> 
> 时间：2012-11-23T09:45:36.570
> 
> 标签：c#, wpf, treeview

我想让我的树视图由 KeyValuePair 构建，并且只将键显示为标题。我用谷歌搜索了这个，找不到任何例子。

到目前为止，我有：

```
KeyValuePair<string, object> str = new KeyValuePair<string,object> (cores.Keys[i], cores.Values[i]);
TreeViewItem tvi = new TreeViewItem();
tvi.Header = str; 
```

然后在 xaml 中： `<TreeView Name="tvCores" Grid.Column="0" PreviewMouseRightButtonDown="OnPreviewMouseRightButtonDown" DisplayMemberPath="Key"/`>

如果您需要更多信息，请告诉我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:36:11.143

在你的代码后面，你只需要这样做：

```
KeyValuePair<string, object> str = new KeyValuePair<string, object>(cores.Keys[i], cores.Values[i]);
List<KeyValuePair<string, object>> list = new List<KeyValuePair<string, object>>();
list.Add(str);
tvCores.ItemsSource = list; 
```

现在，您的 ItemsSource 是 KeyValuePair 的列表，因此路径工作，在 ItemsSource 是 TreeViewItem 之前，路径无法工作。

# c# - 在 Silverlight 中将 ObservableCollectiron 绑定到 USER DataGrid

> ID：13526435
> 
> 赞同：0
> 
> 时间：2012-11-23T09:45:43.480
> 
> 标签：c#, .net, wpf

我有 Observable 集合，其中包含名称、地址、部门等标题名称。我想在可观察的集合上方显示不同的名称，如员工姓名、位置和组

有人可以帮我解决这个问题。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:20:51.307

您可以自己选择每列的标题：

```
<DataGrid ItemsSource="{Binding Path=YourObservableCollection}">
     <DataGrid.Columns>
         <DaraGridTextColumn Header="Employee Name" Binding="{Binding Path=Name}"/>
     <DataGrid.Columns>
</DataGrid> 
```

# odbc - DSN 驱动程序架构与应用程序不匹配

> ID：13526438
> 
> 赞同：2
> 
> 时间：2012-11-23T09:45:47.223
> 
> 标签：odbc, database-connection, axapta, dynamics-ax-2012

在 AX2012 中，我想建立与 SQL Server 2008R2 的 ODBC 数据库连接。为此，我构建了 32 位系统-DSN 'SQL Server Native Client 10.0' (C:\Windows\SysWOW64\odbcad32.exe)。

如果我将以下代码作为作业或直接在表单的按钮中启动，则与数据库的连接是正确的。

```
{
    LoginProperty                   loginProperty;
    OdbcConnection                  myConnection1;
    Statement                       myStatement;
    SqlStatementExecutePermission   perm;
    str                             _query;
    ResultSet                       result;
    str                             retVal;
    ;

    #macrolib.ocMegaBoard

    loginProperty = new LoginProperty();
    loginProperty.setDSN( #OCDSN );

    myConnection1 = new OdbcConnection( loginProperty );
    info('OK');
} 
```

如果我在不同的过程调用中启动相同的代码，则会出现以下错误消息：'[Microsoft][ODBC Driver Manager] The specified DSN contains a architecture mismatch between the Driver and Application'</p>

拜托，你能帮帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-26T08:23:05.837

[其他地方](http://www.artofcreation.be/2010/06/21/executing-direct-sql-statements/)也报告了类似的问题。

您的代码很可能在由客户端（32 位）执行时可以工作，但在服务器 AOS（64 位）上执行时会失败。请务必在您的 AOS 服务器上定义您的 DSN，此处为 64 位。

# sql - SQL 多重过滤器 - 最佳方式

> ID：13526442
> 
> 赞同：7
> 
> 时间：2012-11-23T09:45:56.050
> 
> 标签：sql, sql-server-2008, query-optimization

**您如何以尽可能低的成本 (SQL) 实现这个简单的场景？**

（*实现一个支持所有应用过滤器组合的存储过程。*）

```
Table

    name | dateOfbirth | phone | email
     N1  | 01-01-1992  | P1    | E1
     N2  | 12-08-1976  | P2    | E2
     N3  | 09-11-1989  | P3    | E3
     N4  | 04-06-1991  | P4    | E4

    Filter 
    [x] Name
    [x] dateOfbirth 
    [x] phone
    [x] email 
```

在看到多年来以多种方式实施的 SQL 查询和过滤器之后。

我认为现在是我刷新的时候了。

## 参考

1.  [http://bit.ly/RYHzaF](http://bit.ly/RYHzaF)

2.  [http://bit.ly/QyX103](http://bit.ly/QyX103)

> 如果发现重复，请标记/更正此问题

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-23T10:09:44.490

每当我执行可选过滤器时，我都会选择一些代表所有数据的数据，然后使用如下内容：

```
SELECT name, dateOfbirth, phone, email
  FROM Table
 WHERE (@a_name  = '' or name = @a_name)
   AND (@a_date  = '1900-01-01' or dateOfbirth = @a_date)
   AND (@a_phone = '' or phone = @a_phone)
   AND (@a_email = '' or email = @a_email) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-23T10:02:17.440

这会有帮助吗？`@f1,...,@f4 are filters and assuming null if filtering not needed`

```
SELECT name, dateOfBirth, phone, email
FROM YourTable
WHERE name = ISNULL(@f1,name) AND dateOfBirth = ISNULL(@f2,dateOfBirth) AND
      phone = ISNULL(@f3,phone) AND email = ISNULL(@f4,email) 
```

# git - 未找到 git-upload-pack 的 git clone 从 linux 到 windows。Msysgit 将“windows 路径”添加到 git-upload-pack

> ID：13526443
> 
> 赞同：1
> 
> 时间：2012-11-23T09:45:57.817
> 
> 标签：git, redhat, msysgit

一切都在标题中。

我正在从安装了 MSysGit 的 Windows XP 推送。我正在推动一个没有在 /usr 或 /usr/local 中安装 git 的 Linux（RHEL 5）（盒子上没有管理员权限）

当我做一个：

```
git clone user@redhatbox:~/repo/myrepo.git 
```

由于找不到 git-upload-pack 而失败。所以我用我的超级技能阅读了手册页并添加

```
git clone -u "/path/on/the/redhat/to/git-upload-pack" user@redhatbox:~/repo/myrepo.git 
```

我得到的是：

```
ksh: line 1: D:/users/myuser/softs/Git/path/on/the/redhat/to/git-upload-pack: not found
fatal: The remote end hung up unexpectedly 
```

这 %*$$~@ 为我的路径添加了一个 windows 路径，该路径应该是 redhat 上的路径。

哦，是的，我们使用 ksh :(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:45:57.817

似乎 MSysGit 在我的命令中识别了一个“unix 路径”并在其中添加了 windows 路径，即使它与它无关。避免这种行为的方法：

```
git clone -u "\/path/on/the/redhat/to/git-upload-pack" user@redhatbox:~/repo/myrepo.git 
```

是的，在路径中`\`的第一个之前放一个。`/`MSysGit 不会解释它，也不会在之前添加一些 windows 路径。你也需要把路径放进去`"`。

# amazon-web-services - 将临时存储添加到运行 Ubuntu 的 AWS EBS 实例时遇到问题

> ID：13526444
> 
> 赞同：0
> 
> 时间：2012-11-23T09:45:58.503
> 
> 标签：amazon-web-services, instance

我在将临时存储添加到现有 EBS 支持的实例中时遇到问题。我有一个在 8GB EBS 根设备上运行的小型实例，我想将临时存储添加到该实例中并将其作为中型实例运行。

我尝试过的程序对我不起作用：

1) 从实例 EBS 卷中获取快照。

2) 使用 ec2-api-tools 根据快照注册新的 AMI：
*ec2-register -a x86_64 -n "My AMI with ephemeral storage" --kernel <AKI-ID> --root-device-name "/dev/ sda1" -b "/dev/sda1=<SNAP-ID>:8:true:standard" -b "/dev/sdc=ephemeral1"*

3) 使用我刚刚创建的新 AMI 启动新的介质实例：
*ec2-run- instance <AMI-ID> -t m1.medium --kernel <AKI-ID> -k <MY_KEY_NAME> -g default -b "/dev/sdc=ephemeral1"*

4) SSH：在启动后进入我的新实例并且无处可找到临时存储（例如，使用*fdisk -l*检查）。根设备是好的和正确的，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T19:54:22.077

显然，API 中没有任何内容可以告诉您何时超出实例存储映射。中型实例只能有 1 个临时驱动器。事实上 /dev/sdc 可能只能映射到大型实例及以上： [http ://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/InstanceStorage.html#StorageOnInstanceTypes](http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/InstanceStorage.html#StorageOnInstanceTypes)

# mysql - SQL：具有 10 个字段的表，其中包含来自其他表或 0 的 id（内连接或左连接以“读取”表？）

> ID：13526446
> 
> 赞同：2
> 
> 时间：2012-11-23T09:46:06.117
> 
> 标签：mysql, sql

我有一个有 11 个表的数据库。

包含 15 个字段，其中`tables A`10 个包含来自另一个表的 id 或 0 值。这些表中的每一个都有两个字段，`id`并且`description`.

如果 id 为 0 ，我将查询 db 以在 id 或 null 的位置获取`table A`权限`description`。

我必须使用什么？加入、左加入还是内加入？如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:50:47.663

使用此语句选择描述并使用表的其余表的左连接：

```
IF(id = 0, NULL, description) 
```

例子：

```
SELECT A.* , IF(A.bid = 0, NULL, B.description) , IF(A.cid = 0, NULL, C.description) 
from tablea A 
LEFT JOIN tableb B on A.bid = B.id 
LEFT JOIN tablec C on A.cid = C.id 
```

等等....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:49:58.130

左连接

```
SELECT * FROM A 
    LEFT JOIN B ON (A.KEY=B.KEY) 
```

当无法加入时你会得到 Null

# list - 在引用相等的第二个列表上显示列表中的字段

> ID：13526448
> 
> 赞同：1
> 
> 时间：2012-11-23T09:46:12.233
> 
> 标签：list, join, hyperlink, linked-list

我有 2 种内容类型，并从第二个中查找，从第一个中获取参考号以关联它们。

我想在第二个列表中显示一个状态字段，显示第一个列表中记录的状态，但需要它与相应的记录相关。

我可以使用什么计算查询来显示这个？

例子

清单 1

```
CAPS ref - 12345
CAPS Status - in progress 
```

清单 2

```
CAPS Action ref - 12345 (lookup from list 1)
Complete Cap Status - in progress (calculated from list 1 where CAPS ref = CAPS action ref 
```

# asp.net-mvc - mvc代码先建模多重关系——简单例子

> ID：13526450
> 
> 赞同：0
> 
> 时间：2012-11-23T09:46:13.570
> 
> 标签：asp.net-mvc, entity-framework, ef-code-first, entity

我在 MVC 应用程序中有两个实体：

```
public class User
{
    public int ID {get; set;}
    public string Forename {get; set;}
    public string Surname {get;set;}
}

public class SubGroup
{
    public int ID {get;set;}
    public string Name {get;set;}
} 
```

我想使用 Code First 在它们之间建立关系。关系是每个用户可以是 0 个或多个子组的成员。

请有人建议最好的方法来做到这一点，因为我在 SO 上看到了一些例子，我很困惑。我已经看到有关在类中实现 ICollections 的内容，以及有关使用 fluent API 的其他内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:58:21.377

我猜用户和子组在数据库中具有相同的表，您需要在此表（字段 User_id，Group_id）模型之间为新实体（如 UserGroups）创建关系表

然后您可以在 User 类中创建组合

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:06:28.277

ICollections 方法：更新：

如果我理解正确你有多对多关系（组有很多用户，用户可以在很多组中），在这种情况下代码应该是这样的：

```
 public class RelationExampleContext : DbContext
{
    public DbSet<User> Users { get; set; }
    public DbSet<SubGroup> SubGroups { get; set; }

}

public class User
{
    [Key]
    public int ID { get; set; }
    public string Forename { get; set; }
    public string Surname { get; set; }

    public ICollection<SubGroup> SubGroups { get; set; } 
}

public class SubGroup
{
    [Key]
    public int ID { get; set; }
    public string Name { get; set; }

    public ICollection<User> Users { get; set; }
} 
```

将用户添加到组示例：

```
 var db = new RelationExampleContext();

var subGroups = new List<SubGroup>
                                {
                                    new SubGroup() {Name = "Subgroup1"},
                                    new SubGroup() {Name = "Subgroup2"}
                                };

            var users = new List<User>
                            {
                                new User()
                                    {
                                        Forename = "Forename1",
                                        Surname = "Surname1",
                                        SubGroups = new List<SubGroup>
                                                        {
                                                            subGroups.First(),
                                                            subGroups.Last()
                                                        }
                                    },
                                new User()
                                    {
                                        Forename = "Forename2",
                                        Surname = "Surname2",
                                        SubGroups = new List<SubGroup>
                                                        {
                                                            subGroups.First()
                                                        }
                                    }
                            };

            foreach (var subGroup in subGroups)
            {
                db.SubGroups.Add(subGroup);
            }

            foreach (var user in users)
            {
                db.Users.Add(user);
            }

            db.SaveChanges(); 
```

# php - 隐藏字段的搜索框，直到进行下拉选择

> ID：13526454
> 
> 赞同：4
> 
> 时间：2012-11-23T09:46:27.473
> 
> 标签：php, jquery, wordpress, onchange, html-select

我的 Wordpress 网站上有小部件，可以搜索我的自定义分类法。搜索表单还有 4 个其他选项：最小和最大价格以及最小和最大 kw。除非选择了某个选项或其子项，否则我想隐藏最小和最大 kw 输入字段。我的表单只需要实现 jquery

我不知道 jquery，但我找到[了这个解决方案](http://jsfiddle.net/QMYpM)，我只是不确定如何实现它。

我的表格：

```
<form role="search" method="get" id="equipfilter" action="<?php bloginfo('url'); ?>/">
        <fieldset>
            <?php
                $dropdown_args = array(
                    'taxonomy'          => 'exc_equipment_cat',
                    'name'              => 'exc_equipment_cat',
                    'show_count'        => 1,
                    'orderby'           => 'name',
                    'hierarchical'      => true,
                    'echo'              => 0,
                    'walker'            => new Walker_SlugValueCategoryDropdown
                    );
                /*
                wp_dropdown_categories( $dropdown_args );
                */?>
                <?php
                $select = wp_dropdown_categories($dropdown_args);
                $select = preg_replace("#<select([^>]*)>#", "<select$1 data-select='select1'>", $select);
                echo $select;
                ?>
        </fieldset>
        <fieldset class="hidden" data-select="NOT SURE WHAT TO PUT HERE">
            <legend>Kw Range:</legend>
            <input type="text" name="kw_min" placeholder="min" value><br />
            <input type="text" name="kw_max" placeholder="max" value>
        </fieldset>
        <fieldset>
            <legend>Price Range:</legend>
            <input type="text" name="pr_min" placeholder="from" value><br />
            <input type="text" name="pr_max" placeholder="to" value>
        </fieldset>
        <input type="submit" id="filtersubmit" value="Search" />
    </form> 
```

jquery（在使用测试类别进行测试时更新到它现在工作的位置，现在我只需要弄清楚这一点`<fieldset class="hidden" data-select="NOT SURE WHAT TO PUT HERE">`）：

```
jQuery(function ($){
    $(function(){
        $('.postform').change(function() {
            var selectData = $(this).attr("data-select");
            var selectValue = $(this).val();
             if($("fieldset[data-select='" + selectData + selectValue +"']").css("display") == "none"){
                 $("fieldset[data-select^='" + selectData + "']").hide();
                 $("fieldset[data-select='" + selectData + selectValue +"']").show();
             }
        });
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T11:31:43.013

如果选择了另一个类别，要隐藏该字段，请将代码更改为：

```
<script type="text/Javascript">
    jQuery(function ($){
        $(function(){
            $('.postform').change(function() {
                var selectData = $(this).attr("data-select");
                var selectValue = $(this).val();
                $('.hidden').hide();
                 if($("fieldset[data-select='" + selectData + selectValue +"']").css("display") == "none"){
                     $("fieldset[data-select^='" + selectData + "']").hide();
                     $("fieldset[data-select='" + selectData + selectValue +"']").show();
                 }
            });
        });
    });
    </script> 
```

添加`$('.hidden').hide();`到代码中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T07:27:06.700

仅使用 jQuery 隐藏字段使用（如果禁用 Javascript，则隐藏字段将显示，并且您不会像使用 css 隐藏它时那样松开该选项）：

```
<script type="text/Javascript">
        jQuery(function ($){
            $(document).ready(function () {
                    $(".kw").hide();
                });

            $(function(){
                $('.postform').change(function() {
                    var selectData = $(this).attr("data-select");
                    var selectValue = $(this).val();
                    $('.kw').hide();
                     if($("fieldset[data-select='" + selectData + selectValue +"']").css("display") == "none"){
                         $("fieldset[data-select^='" + selectData + "']").hide();
                         $("fieldset[data-select='" + selectData + selectValue +"']").show();
                     }
                });
            });
        });
        </script> 
```

# qt - Qt 对象的 Qt 内存管理

> ID：13526456
> 
> 赞同：5
> 
> 时间：2012-11-23T09:46:33.537
> 
> 标签：qt, memory-management, memory-leaks

我知道有很多关于 qt 内存管理的问题，但我找不到我的答案。

因此，对于 qt 小部件，如果您在创建对象时将 this（它是父小部件）作为参数传递，则父小部件将获得它的所有权并在父小部件死亡时将其删除。当您将小部件添加到布局并在小部件上设置该布局时，也会发生同样的事情。

但是如果我声明一个指向 QColor 对象的指针会发生什么？QColor 不能作为另一个小部件的子级添加，也不能添加到布局中。当小部件死亡或我需要在析构函数中手动删除它时，内存会被释放吗？

这是一个例子......当 Widget 被销毁时，m_pColor 会发生什么？它会被破坏还是会出现内存泄漏？对不起，代码中的任何错误，我没有编译它，我只是把它写在这里作为例子。

```
#ifndef WIDGET_H
#define WIDGET_H

#include <QWidget>

class QHBoxLayout;
class QPushButton;
class QColor;

class Widget : public QWidget
{
    Q_OBJECT

public:
    Widget( QWidget *parent = NULL );

public:
    QHBoxLayout *m_pLayout;
    QPushButton *m_pButton;
    QColor *m_pColor;
};

#endif // WIDGET_H 
```

* * *

```
#include "widget.h"

#include <QHBoxLayout>
#include <QPushButton>
#include <QColor>

Widget::Widget(QWidget *parent)
    : QWidget(parent)
{
    m_pLayout = new QHBoxLayout;
    m_pButton = new QPushButton( tr( "Button" ) );
    m_pLayout->addWidget( m_pButton );

    m_pColor = new QColor(0, 0, 0, 255);

    setLayout( m_pLayout );
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T09:51:04.360

您的建议仅对继承的类有效`QObject`（即`QObject`作为其超类之一）。这些属性不适用于其他类（甚至是内置的`Qt`）。由于`QColor`不是 的子类`QObject`， 所引用的对象`m_pColor`在被销毁时不会被`Widget`销毁。您将不得不手动进行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T09:57:41.160

父小部件没有参考来销毁 m_pColor。您可以使用 Valgrind 检查此可执行文件上的内存泄漏。

# java - 正则表达式模式优先级

> ID：13526461
> 
> 赞同：1
> 
> 时间：2012-11-23T09:46:57.647
> 
> 标签：java, regex

我已经设置了模式，问题是，例如，`Part\s[V|IV|III|II|I][:]?`当它遇到时，它会确认匹配并删除其他两个。有没有办法让模式中的 具有更高的优先级，因此它包含在找到的内容中？`Part III``Part I``II``III`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T09:50:07.187

您遇到的问题是字符类（[ 和 ]）仅匹配单个字符。所以它匹配其中的任何一个字符，在这种情况下，你只是简单地重述了 I 很多次。您需要的是或多个字符串而不是字符。IE

```
(Part\s(V|IV|III|II|I)[:]?) 
```

注意圆括号而不是方括号。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:50:18.170

您可以使用`(Part\s(V|IV|III|II|I)[:]?)`

# c# - 这是实现 MVVM 的正确方法吗？

> ID：13526464
> 
> 赞同：9
> 
> 时间：2012-11-23T09:47:05.267
> 
> 标签：c#, wpf, entity-framework, mvvm, datagrid

我正在创建一个应用程序，使用户能够插入、更新和删除已输入然后显示在数据网格中的数据（CRUD 操作）。

在我的视图模型中，它包含绑定到 xaml 的属性（`Firstname`例如）。它还包含一个导航属性以及验证属性。

```
 [Required(ErrorMessage = "First Name is a required field")]
      [RegularExpression(@"^[a-zA-Z''-'\s]{1,20}$", ErrorMessage = "First Name must       contain no more then 20 characters and contain no digits.")]
      public string FirstName
      {
        get { return _FirstName; }
        set
        {
            if (_FirstName == value)
                return;

            _FirstName = value;
            OnPropertyChanged("FirstName");
        }
    } 
```

此外，它包含`xaml`要执行的命令，创建 CRUD 操作的实例；

```
 private void UpdateFormExecute()
    {
        var org = new OrganisationTypeDetail();
        UpdateOrganisationTypeDetail(org);
    } 
```

最后，它还包含 CRUD 操作。如插入、更新和删除。

这引出了我的问题。如果我想实现正确的 MVVM 方式，所有这些代码对于视图模型来说是否包含太多？

我应该使用模型并在我的视图模型中创建一个集合并将其绑定到我的`xaml`？这是正确的做法吗？

我应该为 CRUD 操作使用存储库系统吗？如果是这样，我将如何将文本字段中的数据传递给模型以进行更新？

我是 WPF、MVVM 的新手，如果没有适当的指导，很难适应。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:52:12.203

我想说这是实现 MVVM**的**正确方法，但不是实现 MVVM**的**正确方法。

我的意思是没有*一种*正确的方法来实现这种模式。如果您创建了一个可以绑定到您的视图的 ViewModel，而您的视图中没有任何额外的逻辑（即代码隐藏），那么您已经掌握了 MVVM 的精髓。

是否在代码中添加更多模式和结构完全取决于您。如果这是一个简单的应用程序，我会保持模式简洁。继续，让您的 ViewModel 直接与存储库对话。在这方面，您当前的代码对我来说看起来不错。

如果这是一个大型应用程序，您可能需要添加更多层，例如服务层、数据访问层。您可能想考虑依赖注入。

**但是**不要仅仅因为你认为你应该采用一种模式，或者添加一个额外的层。依赖注入听起来很酷，但在许多情况下它比它的价值更麻烦！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:07:45.857

For me it’s not the correct way, I think defining the properties like FirstName in view model is not good idea. view should contain model only and your view model should be wrap the model which should be bounded to XAML(if required).

Also model object creation should be completely independent of view model. View model should know only about unit operations on models and validations should be inside the model e.g in your case FirstName validations are in ViewModel means you are only limiting GUI to validate the FirstName property, but what if someone set it from other place.

# javascript - 如何在 Ember-data 的一个 JSON 请求中加载两个模型？

> ID：13526470
> 
> 赞同：4
> 
> 时间：2012-11-23T09:47:31.637
> 
> 标签：javascript, ember.js, handlebars.js, ember-data

使用 Ember-data 和 Ember.js，我试图用一个 JSON 请求加载两个模型。这些模型具有类似于此的关系：

```
App.Person = DS.Model.extend({
    name:  DS.attr('string'),
    dogs:  DS.hasMany('App.Dog'),
});

App.Dog = DS.Model.extend({
    name:  DS.attr('string'),
    owner: DS.belongsTo('App.Person'),
}); 
```

我的服务器正在发送这样的 JSON：

```
{
    "dog": {
        "id": 1,
        "name": "Fido",
        "owner": {
            "id": 1,
            "name": "John Smith",
            "dogs": [1]
        }
    }
} 
```

…然而，Ember-data 仍然向我的服务器发送一个请求（使用 findQuery），试图获取所有者 JSON。

我有一个 jsFiddle 设置，[在这里](http://jsfiddle.net/6kQ8s/2/)演示它。要观察问题的发生，您需要转到此链接以激活路线/模板：

[http://fiddle.jshell.net/6kQ8s/2/show/#/dog/1](http://fiddle.jshell.net/6kQ8s/2/show/#/dog/1)

我没有故意在我的适配器中定义 findQuery() 因为我不应该需要它来获取我已经发送的数据……对吗？

有谁知道我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-25T14:19:49.063

我正在执行以下操作（使用 ember-data 修订版 8）

```
App.Dog = DS.Model.extend({
    name:  DS.attr('string'),
    owner: DS.belongsTo('App.Person', { embedded: true }),
}); 
```

此外，我必须告诉序列化程序加载此关系的映射。虽然不是必需的，但我使用的是我自己的 DS.Serializer 子类。在初始化时，序列化程序会加载 Person 类的映射，该映射指定应加载嵌入的关系。

```
 App.WOSerializer = DS.Serializer.extend({
    init: function(){
      this._super();
      this.map(App.Dog, {
        person: {
          embedded: 'load'
        }
      });
  }); 
```

*由提问者编辑：*

需要在适配器中初始化序列化程序。

```
App.adapter = DS.Adapter.create({
    // ...
    serializer: App.WOSerializer.create()
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-24T13:35:27.593

尝试使用`embedded`属性。

```
App.Dog = DS.Model.extend({
    name:  DS.attr('string'),
    owner: DS.belongsTo('App.Person', { embedded: true }),
}); 
```

# c# - TFS 可以在签入时预解析文件吗？

> ID：13526471
> 
> 赞同：1
> 
> 时间：2012-11-23T09:47:35.083
> 
> 标签：c#, tfs

我是 TFS 新手，我们刚刚开始使用 TFS 来管理我们的 T-SQL 代码。

我想知道是否可以创建一个预解析脚本以在签入脚本时自动运行，以便对文件进行其他更改？例如，将制表符交换为文件中的空格。

我还希望能够在我正在签入的脚本中插入变更集 ID 作为注释。那么在签入文件时是否可以知道新的变更集 ID？

这个脚本我更喜欢用 C# 开发

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T12:38:54.900

您所追求的功能称为“关键字扩展”，它目前未内置于 TFS。

[有关TFS 中缺少关键字扩展的](http://blogs.msdn.com/b/buckh/archive/2007/07/07/keyword-expansion-in-tfs.aspx)更多历史和讨论，请参阅 Buck Hodges 的这篇博文。

有两种方法可以实现您的目标：

1.  使用客户端 TFS 签入策略。这是在将更改提交到服务器之前在您的计算机上执行的代码。[这是一个例子](http://logsubstpol.codeplex.com/)。
2.  设置构建服务器和构建脚本并启用“门控签入”。然后作为构建脚本的一部分，在签入之前对文件进行额外的更改。

但是，这两种方法都有许多缺点：

*   在实际签入之前，您无法预测或知道变更集 ID。所以你要么不得不把它排除在外，然后用当前日期/时间之类的东西来解决。或者您将不得不变得时髦并使用以前的变更集编号再次签入。
*   使用客户端 TFS 签入策略，必须将它们部署到每个想要签入的用户。这通常是太多的管理负担，所以人们并没有真正使用它们。

# matlab - 输入正确的文件名

> ID：13526473
> 
> 赞同：0
> 
> 时间：2012-11-23T09:47:46.783
> 
> 标签：matlab, save

我在matlab中有一个函数。

```
function [MEAN STD]=result(data)
MEAN=mean(data);
STD=std(data);

savefilename=sprintf('%s',data)
save(savefilename,'MEAN','STD')
end 
```

我设置数据的文件名=ET1_A_l1(imported to workspace alrdy)(ET1_A_l1=[1;2;1;3;1;4] 找到所选数据(ET1_A_l1)的平均值和标准差，并将统计特征保存为.mat形式如下图所示：

```
>>[MEAN STD]=result(ET1_A_l1) 
```

结果，保存文件的名称是121314.mat，而不是'ET1_A_l1'，有没有使用MATLAB的高效代码正确更改文件名的好主意？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:14:12.127

如果我理解正确，您可以使用[`inputname`](http://www.mathworks.se/help/matlab/ref/inputname.html)，它为您提供调用者工作区中函数参数的名称：

```
function result(data)
    display(['file name should be ' inputname(1)]);  % name of the first parameter
end

...

>> result(ET1_A_l1);
file name should be ET1_A_l1 
```

# batch-file - 当文件名具有“=”时，DOS 中的复制命令无法识别

> ID：13526474
> 
> 赞同：0
> 
> 时间：2012-11-23T09:47:54.290
> 
> 标签：batch-file, command, dos, filenames

我编写了批处理脚本来复制文件并写入日志。但是`copy`，当文件名如下时不起作用：

```
8001#121122213500#1002#00#M=MRN100#C=Test_Large_File2.wav 
```

在进一步检查我发现这是因为 `=`在文件名中。

我也单独测试过。当我使用`copy *.wav d:\wav`文件时被复制，但是当我使用

```
copy 8001#121122213500#1002#00#M=MRN100#C=Test_Large_File2.wav d:\wav 
```

我收到一条消息，指出未找到该文件。

任何人都可以帮助我解决这个问题。我也尝试在这里搜索旧帖子，但找不到任何内容。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:58:23.577

您需要引用文件名

```
copy "8001#121122213500#1002#00#M=MRN100#C=Test_Large_File2.wav" d:\wav 
```

# joomla - 无法访问我的自定义 Joomla 模块

> ID：13526477
> 
> 赞同：2
> 
> 时间：2012-11-23T09:48:13.193
> 
> 标签：joomla, joomla2.5

我正在使用 Joomla 2.5，我从头开始创建了一个自定义模块。

基本上，这个模块的目的是嵌入文章中并执行ajax请求并显示一些更新的数据。

我没有设法让 Ajax 工作（但这是另一个主题）。

问题是，当我调用 url:`index.php?option=com_mymodule`我有一个 404 错误。该模块是公开的，并嵌入在公开文章中。

任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:40:24.837

您不能通过 url 访问模块，但是您可以通过 url 访问组件。更多信息可在[此处](https://stackoverflow.com/q/6755134/1271566)找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T12:56:53.997

index.php?option=com_mymodule

你做了一个组件还是一个模块？这有点令人困惑。

您说您希望将模块嵌入到文章中。在这种情况下，您通常会使用 {loadposition positionname} 之类的东西，其中 positionname 是模块分配到的位置的名称。

# android - n-1 异步回调实现

> ID：13526478
> 
> 赞同：6
> 
> 时间：2012-11-23T09:48:14.053
> 
> 标签：android, asynchronous

我正在用 android 编写一个 IOS 应用程序。这是我设定的尝试学习安卓的任务。在 android 中，我正在学习不同的异步消息传递选项。到目前为止我发现的是：

```
Callbacks
Broadcasts
Message Handlers 
```

我正在尝试决定哪种方法最适合我的目的。在我的 IOS 应用程序中，我有 10 个屏幕对象和 1 个协调器对象。这是我的n-1。

我的 ios 目前的工作方式是我的屏幕对象在我的协调器中调用一个工作方法，将自己作为委托传递。协调器执行一些异步工作并在工作完成时调用委托上的各种方法：完成/失败，原因等。

多个屏幕对象可以请求同时完成工作。

到目前为止，我觉得 android 中的回调/消息处理程序方法更像是 1-1 关系。

我倾向于使用本地广播管理器。这看起来更像 NSNotification 而不是委托方法，但似乎是为 n-1 关系制作的。

广播管理器是实现 n-1 异步工作的最佳方式吗？

我对回调和处理程序的 1-1 关系的假设是否正确？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T15:25:09.973

您确实可以使用像 NSNotification 这样的广播，但我通常会使用广播在我的应用程序的不同部分之间发送消息，例如在服务和活动之间进行通信，而不是在特定部分内进行通信。

我不明白为什么你也不能在 iOS 上做你在 Android 上做的事情。您将在 iOS 中有一个协议来定义要调用的函数，并且您可以在 Java/Android 中通过使用接口来执行相同的操作。

在 iOS 中，你会有类似的东西：

```
doStuffWithObject:(NSObject<SpecialStuff> *)object {} 
```

在 Java 中，您将拥有：

```
doStuffWithObject(SpecialStuff object) {} 
```

SpecialStuff 是您的协议或接口。因为你`performSelectorOnBackground`在 android 中没有更多的工作。要么使用定时器，也许是一个单独的线程与处理程序结合使用，或者使用[ASyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)，这取决于什么最适合你以及异步任务有多大。

ASyncTask 绝对值得研究。

* * *

你当然也可以使用[Observer](http://developer.android.com/reference/java/util/Observer.html)和[Observable](http://developer.android.com/reference/java/util/Observable.html)。

一个简单的示例，其中包含一个处理程序和一个每秒通知其侦听器新时间的计时器（请注意，在这种情况下，处理程序是在主线程上创建的，这样您就可以像`performSelectorOnMainThread`在 iOS 中使用一样发送回消息）：

```
 class SomeExample {

    private final ArrayList<TimeListener> timeListeners;

    private final Handler handler = new Handler();
    private final TimeUpdateRunnable timeUpdateRunnable = new TimeUpdateRunnable();

    public SomeExampleView {

        timeListeners = new ArrayList<TimeListener>();

        updateTimer = new Timer("General Update Timer");

        TimeUpdateTask timeUpdateTask = new TimeUpdateTask();
        updateTimer.scheduleAtFixedRate(timeUpdateTask, (60 * 1000) -   (System.currentTimeMillis() % (60 * 1000)), 60 * 1000);
    }

    public void addTimeListener(TimeListener timeListener) {
        timeListeners.add(timeListener);
    }

    public boolean removeTimeListener(TimeListener timeListener) {
        return timeListeners.remove(timeListener);
    }

    class TimeUpdateTask extends TimerTask {
        public void run() {
            handler.post(timeUpdateRunnable);
        }
    }

    private class TimeUpdateRunnable implements Runnable {
        public void run() {
            for (TimeListener timeListener : timeListeners) {
                timeListener.onTimeUpdate(System.currentTimeMillis());
            }
        }
    }
} 
```

我的侦听器界面类似于`Observer`

```
public interface TimeListener {
    void onTimeUpdate(long time);
} 
```

# asp.net-mvc - ASP.NET MVC - 模型可以有业务逻辑吗？

> ID：13526492
> 
> 赞同：7
> 
> 时间：2012-11-23T09:48:48.903
> 
> 标签：asp.net-mvc

我阅读了几篇文章，它们将域模型（如在 MVC 中）定义为包含业务逻辑的东西。我从来没有考虑过一个模型来保存模型属性以外的任何方法。

我想知道是否真的存在支持在域模型中具有功能和业务逻辑的想法。

提前致谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-23T10:11:58.577

当然，业务逻辑应该在领域模型中。但是，域模型不仅仅是实体框架实体。领域模型由许多反映业务领域的小类组成。

在我的典型 MVC 应用程序中，我通常将某种类型的业务逻辑拆分为以下（但不限于）：

*   **ViewModels**负责视图的模型。
*   **瘦且负责应用程序流的**控制器。****
***   **诸如必填字段之类的**简单业务逻辑可以作为实体框架模型或***ViewModels*中的属性存在。*****   **下单、订票等复杂的业务逻辑**被提升为自己的类，如 PlaceOrderOperation 或 PlaceOrderCommand。*   **简单的查询**逻辑可能在 Controller 中或要`DbSet<Entity>`键入的简短扩展方法中。*   **假设查询很复杂，**Complex Query也提升为它自己的类，例如 GetMostPorpularProductsQuery。*******   **基础设施**组件可能是实体框架或 MVC 组件的扩展，例如 ActionFilter、CustomRoute、CustomTemplate 或其自己的类，例如 EncyptionHelpers 等。******

 ***** * *

## 结论

构建域模型不仅仅是使用诸如 UserBusinessLogic 之类的 BusinessLogic 或诸如 UserServices 之类的服务来创建类前缀。它应该由许多负责一件事的小类组成。当然，您需要使用一些设计模式、选择框架、基础设施组件（例如错误处理、本地化、缓存等）。

欢迎来到权衡世界。:)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-23T10:05:41.937

MVC`Model`确实可以有业务逻辑。[在这里](https://stackoverflow.com/questions/11074283/model-meaning-in-mvc)更深入地讨论了 MVC 职责，这里是关于[贫血域模型](https://stackoverflow.com/questions/227856/how-to-avoid-anemic-domain-models-and-maintain-separation-of-concerns)的讨论——这可能有助于您理清思路吗？

来自[MSDN](http://msdn.microsoft.com/en-us/library/dd410120(v=vs.100).aspx)：

> 模型，为代表 MVC Web 应用程序的应用程序模型的类提供。此文件夹通常包含定义对象和定义与数据存储交互的逻辑的代码。通常，实际的模型对象将位于单独的类库中。但是，当您创建新应用程序时，您可能会将类放在这里，然后在开发周期的稍后阶段将它们移动到单独的类库中。

这个问题可能令人困惑的是，许多 ASP.Net MVC 实现使用`View Models`，它们是用于在 View 和 Controller 之间传输表示层数据的类。

在典型的大型项目设置中，我们通常会删除 Models 文件夹，而是将我们的 EF 数据层、实体和业务/服务逻辑完全移动到单独的程序集中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:11:35.417

根据我的经验，放置业务逻辑的最佳位置是控制器和模型之间的层。尝试一些流行的模式，例如[存储库](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application)或[任务/命令](http://ayende.com/blog/154113/limit-your-abstractions-commands-vs-tasks-did-you-forget-the-workflow)。****

# ios - 带有实时 appID 的 iPhone 应用的 Paypal 集成

> ID：13526494
> 
> 赞同：2
> 
> 时间：2012-11-23T09:48:56.607
> 
> 标签：ios, paypal

我已经在我的应用程序中集成了贝宝，它在沙盒中运行良好，但现在我想在实时应用程序 ID 上实时运行，所以我需要做什么？ ios app批准后的id？我们需要在我们的应用程序中使用应用程序 ID 和用户名吗？简而言之，在提交苹果之前，我需要知道在 live paypal 帐户上测试应用程序的过程。这个问题可能是重复的，但在前面的问题中没有明确的可理解的答案，所以如果你知道请帮忙。谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T09:51:34.583

去 www.x.com 然后按照步骤

1.  使用您的贝宝 ID 登录
2.  转至“我的账户
3.  在我的应用程序部分下选择新应用程序
4.  选择新应用
5.  用详细信息填写表格。
6.  单击提交应用程序，您将获得应用程序的实时应用程序 ID

就是这样..！！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T09:54:27.753

您的应用程序应该审查并分配来自贝宝人员的 LiveID。所以请执行@Jayraj Gohil 提到的步骤。

沙盒仅用于测试您的集成和检查。所以在您的应用商店二进制上传之前获取实时 ID

# sql - 通过 SQL Developer 延长 Oracle 中的连接时间限制？

> ID：13526498
> 
> 赞同：0
> 
> 时间：2012-11-23T09:49:13.393
> 
> 标签：sql, oracle

我正在尝试使用 SQL Developer 将整个数据从开发人员数据库服务器转储到我的本地计算机，但是每当我尝试导出时，在我完成转储/导出之前连接就会停止。

有没有办法调整数据库连接超时？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:49:19.457

SQL Developer 没有施加连接时间限制。如果您的连接丢失，这意味着网络中的某些东西（例如防火墙）限制了连接的长度，或者数据库中配置了某些东西（配置文件、资源管理器等）导致连接终止。由于您没有告诉我们您遇到了什么错误，因此无法猜测这些选项中的哪一个最有可能是您的问题的根源。

当然，对这类事情使用适当的工具（导出和导入实用程序的 DataPump 版本）可能会更有效。

# php - gmdate() 等效于 mysql

> ID：13526501
> 
> 赞同：0
> 
> 时间：2012-11-23T09:49:22.180
> 
> 标签：php, mysql, timezone, timestamp, sql-update

我正在尝试以这种方式更新一些大表：

```
<?php
   $tables = array("table1","table2","table3","table4","table5");
   foreach ($tables as $table) {
      $res = mysql_query("SELECT * FROM {$table}");
      while($row = mysql_fetch_array($res)){
        $data = $row['data'];
        $data = gmdate('Y-m-d H:i:s', strtotime($data));
        mysql_query("UPDATE {$table} SET data='$data' WHERE user_id='".$row['user_id']."'";);
      }     
   }
?> 
```

每个表大约有 80.000 行，处理过程将花费太多时间来完成。我如何使用`gmdate`mysql 中的等效函数来解决这个问题？谢谢！:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T09:57:01.673

您可以使用 mysql 的 STR_TO_DATE 函数进行更新，在更新查询中使用此函数。试试这个

```
SELECT STR_TO_DATE("Fri, 23 Nov 2012 10:00:27 +0000", "%a, %d %b %Y %H:%i:%s +0000"); 
```

使用输出 ot STR_TO_DATE 并将其放入您需要的格式。

您可以使用以下单个更新查询

```
mysql_query('UPDATE {$table} SET data= STR_TO_DATE(YOURDATACOLUMN, "%a, %d %b %Y %H:%i:%s +0000"); WHERE user_id="'.$row['user_id'].'"';); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:26:57.847

用于`select DATE_FORMAT(CURRENT_DATE(),'%Y-%m-%d')`以 Ymd 格式显示当前日期。

# java - 如何在 SWT 画布上绘制选择框？

> ID：13526503
> 
> 赞同：2
> 
> 时间：2012-11-23T09:49:22.600
> 
> 标签：java, user-interface, graphics, swt, draw

我有一个 SWT Canvas，上面有一些图像。我希望我的用户通过单击、按住鼠标左键并通过移动鼠标打开选择框来选择图像的一部分。作为视觉反馈，我想将选定的矩形显示为图像上的透明覆盖。

问题是我不知道如何最好地实现这一目标？有人可以给我一个提示吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T10:07:21.590

我的答案与我在这里给出的答案有些相似：

[SWTChart 鼠标事件处理](https://stackoverflow.com/a/12420458/1449199)

下面的代码应该让您知道从哪里开始。它基本上记住了`MouseDown`事件的位置。每次拖动鼠标时，都会从起始位置到当前位置绘制一个矩形。一旦`MouseUp`发生，一切都会停止。

```
public class DrawExample
{
    private static boolean drag = false;
    private static int startX;
    private static int startY;
    private static int endX;
    private static int endY;

    public static void main(String[] args)
    {
        Display display = new Display();
        Shell shell = new Shell(display);
        shell.setText("Drawing Example");

        final Canvas canvas = new Canvas(shell, SWT.NONE);
        canvas.setSize(150, 150);
        canvas.setLocation(20, 20);
        shell.open();
        shell.setSize(200, 220);

        canvas.addListener(SWT.MouseDown, new Listener() {

            @Override
            public void handleEvent(Event event) {
                startX = event.x;
                startY = event.y;

                drag = true;
            }
        });

        canvas.addListener(SWT.MouseUp, new Listener() {

            @Override
            public void handleEvent(Event event) {
                endX = event.x;
                endY = event.y;

                drag = false;

                canvas.redraw();
            }
        });

        canvas.addListener(SWT.MouseMove, new Listener() {

            @Override
            public void handleEvent(Event event) {
                if(drag)
                {
                    endX = event.x;
                    endY = event.y;

                    canvas.redraw();
                }
            }
        });

        canvas.addListener(SWT.Paint, new Listener() {

            @Override
            public void handleEvent(Event event) {
                if(drag)
                {
                    GC gc = event.gc;

                    gc.setBackground(Display.getDefault().getSystemColor(SWT.COLOR_BLACK));
                    gc.setAlpha(128);

                    int minX = Math.min(startX, endX);
                    int minY = Math.min(startY, endY);

                    int maxX = Math.max(startX, endX);
                    int maxY = Math.max(startY, endY);

                    int width = maxX - minX;
                    int height = maxY - minY;

                    gc.fillRectangle(minX, minY, width, height);
                }
            }
        });

        while (!shell.isDisposed())
        {
            if (!display.readAndDispatch())
                display.sleep();
        }
        display.dispose();
    }
} 
```

它看起来像这样：

![在此处输入图像描述](../Images/700107d27f101cf517e0f5794a296dd5.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T17:12:27.620

本机平台提供了另一种方法来执行此操作。使用 SWT`org.eclipse.swt.widgets.Tracker`

[如何通过拖动角来调整合成的大小](https://stackoverflow.com/questions/12500208/how-do-i-make-it-possible-to-resize-a-composite-by-dragging-the-corner/12500692#12500692)

# asp.net - ASP.NET SQL - 池 - 超时

> ID：13526504
> 
> 赞同：0
> 
> 时间：2012-11-23T09:49:24.610
> 
> 标签：asp.net, sql-server, timeout, connection, pool

我对 Asp.net 和 SQL 有疑问。我有很多来自连接池的超时错误。

所有连接都在`using`块内使用，因此它们被正确关闭。
在`connectionSting`我有：`Pooling=true;Max Pool Size=250`
系统是 Windows 2008 服务器，SQL Server 2008，Asp.net

在应用程序错误日志中：

```
Event Id 1309
source : ASP.NET 2.0.50727.0 
```

或者

```
Event Id 9
source : Active Server Pages 
```

你有什么建议我应该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T11:55:41.383

在 web.config 中使用连接字符串给出超时。这个对我有用。

# c++ - C++/CX - 我需要将 Platform::String 传递给采用 const char* 的方法？

> ID：13526512
> 
> 赞同：2
> 
> 时间：2012-11-23T09:49:44.797
> 
> 标签：c++, sqlite, windows-8, windows-runtime, c++-cx

我是 C++ 新手（我是 ac# 开发人员）。

我有一个 SQLite 包装器类，它要求您将数据库名称作为 a 传递`const char*`，但是我只将它作为 a `Platform::String`（在进行文件搜索之后）。

我似乎无法找到将其转换`Platform::String`为`const char*`.

我在 StackOverflow 上看到了另一个问题，解释了为什么它不是直截了当的，但没有示例代码或端到端解决方案。

谁能帮我 ？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:16:56.710

免责声明：我对 C++/CX 知之甚少，我的答案基于[此处](http://msdn.microsoft.com/en-gb/library/windows/apps/hh755812.aspx)的文档。

该类`String`包含 16 位 Unicode 字符，因此您无法直接获取指向 8 位`char`类型字符的指针；您需要转换内容。

如果已知字符串仅包含 ASCII 字符，则可以直接转换：

```
String s = whatever();
std::string narrow(s.Begin(), s.End());
function_requiring_cstring(narrow.c_str()); 
```

否则，字符串将需要翻译，这会变得相当麻烦。以下可能会做正确的事情，将宽字符转换为窄字符的多字节序列：

```
String s = whatever();
std::wstring wide(s.Begin(), s.End());
std::vector<char> buffer(s.Length()+1);  // We'll need at least that much
for (;;) {
    size_t length = std::wcstombs(buffer.data(), wide.c_str(), buffer.size());
    if (length == buffer.size()) {
        buffer.resize(buffer.size()*2);
    } else {
        buffer.resize(length+1);
        break;
    }
}
function_requiring_cstring(buffer.data()); 
```

或者，您可能会发现更容易忽略微软关于如何处理字符串的想法，`std::string`而是使用它。

# c# - AstBuilder 中的 ILSpy“无法解析程序集”

> ID：13526519
> 
> 赞同：3
> 
> 时间：2012-11-23T09:50:05.423
> 
> 标签：c#, reflection, decompiler, mono.cecil, ilspy

我想在我的程序集中反编译一个方法，它引用了例如“Microsoft.SharePoint.dll”，但我没有在机器上安装 SharePoint。如果我使用以下代码，我会得到 Mono.Cecil.AssemblyResolutionException '无法解析程序集 Microsoft.SharePoint ...'。

```
AssemblyDefinition assembly = AssemblyDefinition.ReadAssembly("PathToMyAssembly");
ICSharpCode.Decompiler.DecompilerContext context = new ICSharpCode.Decompiler.DecompilerContext(assembly.MainModule);
AstBuilder decompiler = new AstBuilder(context);
decompiler.AddMethod(method); <!-- here it crashes --> 
```

使用 ILSpy GUI，我可以毫无错误地加载我的程序集（在没有 SharePoint 的同一台机器上）。

我需要在我的代码中更改什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-24T11:48:06.407

我自己找到了解决方案。我创建了自己的 AssemblyResolver，它捕获 AssemblyResolutionException 并为缺少的引用程序集返回 null。

```
public class MyDefaultAssemblyResolver : DefaultAssemblyResolver
{
    public override AssemblyDefinition Resolve(AssemblyNameReference name)
    {
        try
        {
            return base.Resolve(name);
        }
        catch { }
        return null;            
    }

    public override AssemblyDefinition Resolve(AssemblyNameReference name, ReaderParameters parameters)
    {
        try
        {
            return base.Resolve(name, parameters);
        }
        catch { }
        return null;
    }

    public override AssemblyDefinition Resolve(string fullName)
    {   
        try
        {
            return base.Resolve(fullName);
        }
        catch { }
        return null;
    }

    public override AssemblyDefinition Resolve(string fullName, ReaderParameters parameters)
    {
        try
        {
            return base.Resolve(fullName, parameters);
        }
        catch { }
        return null;
    }
} 
```

然后我用它

```
var resolver = new MyDefaultAssemblyResolver();
resolver.AddSearchDirectory("FolderOfMyAssembly");
var parameters = new ReaderParameters
{
    AssemblyResolver = resolver,
};

AssemblyDefinition assembly = AssemblyDefinition.ReadAssembly("PathToMyAssembly", parameters); 
```

我通过调试 ILSpy GUI 找到了解决方案（幸运的是源代码可用）。

# visual-studio-2010 - 如何使用 Visual Studio 的服务器资源管理器获得像 SSMS 这样的过滤器选项？

> ID：13526522
> 
> 赞同：0
> 
> 时间：2012-11-23T09:50:10.680
> 
> 标签：visual-studio-2010, visual-studio, sql-server-2008, linq-to-sql, server-explorer

我正在使用 Linq to Sql，为此我使用 Visual Studio 的服务器资源管理器来拖放存储过程。

现在问题是我的数据库有大约 200-300 个存储过程，搜索我想要的存储过程本身就是一项任务。

我想知道是否有一种方法可以像我记得使用 Sql Server Management Studio 那样使用过滤器。

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T16:48:17.137

是的，安装 Productivity Power Tools 扩展。这将添加一个新的“解决方案导航器”选项卡式控件，您可以从中在您的解决方案中进行“全局”文本搜索。

它将显示与部分输入文本匹配的所有内容（xml 文件、cs 文件、类、方法等）。

这非常接近您的需要。

# c# - Visual Studio 2010 中的警告下划线？

> ID：13526526
> 
> 赞同：0
> 
> 时间：2012-11-23T09:50:20.230
> 
> 标签：c#, visual-studio-2010

是否可以在源代码中为所有警告加下划线，类似于错误加下划线的方式？

当我写`#warning This is a warning`它时，它会得到一个绿色的波浪下划线，但是对于代码分析警告、stylecop 警告和 stylecop+ 警告，没有下划线。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:56:28.240

您可以使用第三方工具`ReSharper`来查看这些警告。

[ReSharper 网站](http://www.jetbrains.com/resharper/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-10T12:11:29.860

我为它写了一个扩展，Underliner。

[http://visualstudiogallery.msdn.microsoft.com/5eb0ad7c-839d-4db4-9ab7-84b140f35c73](http://visualstudiogallery.msdn.microsoft.com/5eb0ad7c-839d-4db4-9ab7-84b140f35c73)

# android - 是否可以将现有的自定义布局放入另一个布局中。安卓

> ID：13526529
> 
> 赞同：0
> 
> 时间：2012-11-23T09:50:21.197
> 
> 标签：android, android-layout, user-interface

是否可以将现有的自定义布局放入 Android 中的另一个布局（在 xml 中）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:52:10.413

你可以用这个

```
<include  layout="@layout/customlayout" android:id="@+id/id" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:55:10.657

检查这个链接，

[http://developer.android.com/guide/topics/ui/custom-components.html](http://developer.android.com/guide/topics/ui/custom-components.html)

您将创建一个 RelativeLayout 的子类，在代码中添加我们所有的组件（TextView 等），并且在您的构造函数中，您可以读取从 XML 传入的属性。然后，您可以将该属性传递给您的标题 TextView。

# c++ - Qt c++如何输入值

> ID：13526532
> 
> 赞同：0
> 
> 时间：2012-11-23T09:50:33.487
> 
> 标签：c++, visual-studio-2010, qt, input

我正在使用 Visual Studio (c++)，并且正在使用 Qt 和 OpenCV。
我想要做的是创建一个窗口，我可以在其中输入稍后将在算法中使用的几个值。这些变量是 double 和 int 类型。
我查看了 Qt 文档和互联网，但没有找到合适的方法。我也不是在寻找一个弹出对话框并要求用户输入值，只是一个带有多个字段的窗口来输入我的值并更新它们。任何帮助将不胜感激，谢谢

编辑：我现在使用 QDoubleSpinBox 输入一个双精度值和一个按钮来更新和打印控制台中的值。我为我的按钮创建了一个类，以便能够在 main.h 中使用自定义 SLOTS：

```
class MyButton : public QWidget
{
    Q_OBJECT

public:
    MyButton();

public slots:
    void updateValue(QDoubleSpinBox* input);
}; 
```

这是main.cpp：

```
#include "main.h"

#include <QtGui>

#include <iostream>

using namespace std;

double value;

MyButton::MyButton() : QWidget()
{
    QPushButton *update = new QPushButton("update",this);
    connect(update, SIGNAL(clicked()), this, SLOT(updateValue(QDoubleSpinBox)));
}

void MyButton::updateValue(QDoubleSpinBox *input)
{
    input->update();
    value = input->value(); 
    cout<<value;
} 
```

现在我不确定在'main'函数中写什么来使用它来创建按钮。到目前为止，这是我的“主要”功能：

```
int main(int argc, char *argv[])
{
    QApplication app(argc, argv);

    QWidget window;

    QDoubleSpinBox *input = new QDoubleSpinBox();
    input->setValue(5.00);

    QVBoxLayout *vbox1 = new QVBoxLayout;
    vbox1->addWidget(input);

    window.setLayout(vbox1);
    window.resize(800,600);
    window.show();
    window.setWindowTitle(QApplication::translate("toplevel", "Top-level widget"));
    return app.exec();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:12:08.307

要解决您的任务，您应该了解以下主题：
1\. 哪些**小部件**可用于**从用户那里获取输入**（其中大部分已经说明）；
2\. Qt 中的**信号和插槽**（使用它们您可以将提供给小部件的值分配给您的变量）。

由于这些主题相当多，我建议您参考**Qt 文档**（例如使用**Qt 助手**），因为现在您知道要搜索哪些信息，您将更容易解决您的任务

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:07:46.053

I guess QLineEdit is what you are looking for. However, you will need to type check yourself, if that is what you are after.

And indeed, it is not easy to find. My last Qt implementation was a while ago, and it took me a little time to find it in the Qt docs.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T10:00:14.053

Qt 中有几个输入小部件。例如 QLineEdit、QSpinBox 和 QDoubleSpinBox。您可以创建其中的几个并将它们放在网格布局中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T09:54:23.283

好奇你找不到...试试[QInputDialog](http://doc-snapshot.qt-project.org/4.8/qinputdialog.html)看看它是否适合你，否则子类[QDialog](http://doc-snapshot.qt-project.org/4.8/qdialog.html)并根据你的喜好创建对话框。

# c# - 是否存在 Application.Exit() 不引发 FormClosing 事件的情况？

> ID：13526534
> 
> 赞同：6
> 
> 时间：2012-11-23T09:50:35.430
> 
> 标签：c#, .net, winforms

我有一个表单，我`FormClosing`根据`CloseReason`. 例如，当从 WCF 服务调用返回特定值并从通知图标上下文菜单事件调用以在其他一些条件下关闭应用程序时，`CloseReason.UserClosing`我正在以编程方式调用事件时最小化表单。`Application.Exit()``ItemClicked`

虽然到目前为止我的应用程序按预期工作，总是在被调用`FormClosing`时引发事件`Application.Exit()`，但在我进行一些更改后它的行为并不像那样。大多数情况下，应用程序在没有引发事件的情况下关闭，并且在少数情况下，事件的代码在不退出表单的情况下执行（数据库工作，通知图标处理）。

这怎么可能发生？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-23T10:35:10.860

是的，这是可能的。Application.Exit() 方法迭代 Application.OpenForms 集合中的表单以调用其 OnFormClosing() 方法。Winforms 中存在一个错误，导致该集合无法跟踪打开的表单。这段代码演示了它：

```
public partial class Form1 : Form {
    public Form1() {
        InitializeComponent();
    }
    protected override void OnHandleCreated(EventArgs e) {
        // Set breakpoint here:
        base.OnHandleCreated(e);
    }
    protected override void OnMouseDown(MouseEventArgs e) {
        this.ShowInTaskbar = !this.ShowInTaskbar;
        MessageBox.Show(string.Format("There are {0} open forms", Application.OpenForms.Count));
        Application.Exit();
    }
    protected override void OnFormClosing(FormClosingEventArgs e) {
        MessageBox.Show("you won't see this");
        base.OnFormClosing(e);
    }
} 
```

单击表单以触发错误。请注意它如何报告 0 个打开的表单，以及您如何从未看到 OnFormClosing 中显示的消息框。

它是对 ShowInTaskbar 属性的分配导致它。有几个这样的属性，我选择 ShowInTaskbar 是因为当你有一个 NotifyIcon 时你可能会使用它。RightToLeft 是另一个。这些属性是特殊的，因为它们只能在使用本机 CreateWindowEx() api 函数创建窗口时指定。更改它们需要 Winforms 做一些非常英勇的事情，它会破坏窗口并重新创建它。不幸的是，这也会触发错误，破坏窗口也会从 OpenForms 集合中删除表单，并且忘记将其添加回来。

将此代码段中的 OnHandleCreated() 方法复制/粘贴到您的表单中并在其上设置断点。它必须在第一次创建窗口时触发一次。当它再次触发并因此调用错误场景时，您可以查看调用堆栈以查看类中的哪些代码触发了它。您必须禁用该代码并找到另一种方法来执行此操作。在构造函数中设置 ShowInTaskbar 属性很好，只有在创建窗口后分配它时才会变坏，就像在 Load 事件处理程序中一样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:58:37.907

正如[这里所说](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.closing.aspx)

> 当调用 Application.Exit 方法退出应用程序时，不会引发 Form.Closed 和 Form.Closing 事件。如果您在其中任何一个事件中都有必须执行的验证代码，则应在调用 Exit 方法之前为每个打开的表单单独调用 Form.Close 方法。

**编辑**

由于您正在使用`FormClosing`，在这种情况下，您可能应该尝试使用其重载[`Exit`](http://msdn.microsoft.com/en-us/library/ms223873%28v=vs.90%29.aspx)可能有助于确定取消退出的表单并帮助您进一步检查问题。

# sonarqube - 声纳启动错误

> ID：13526537
> 
> 赞同：0
> 
> 时间：2012-11-23T09:50:53.207
> 
> 标签：sonarqube

我之前下载了声纳版本 2.13.1。我解压缩了相同的文件并进行了必要的配置。在启动声纳时，它会启动正常。

今天突然我开始在启动时遇到异常

java.lang.RuntimeException：java.lang.UnsatisfiedLinkError：连接到系统的设备无法运行

我正在使用 windows xp (x86-32)。JRE 版本是 1.7。

我不确定这是否足以找到问题的信息，因此附加了几行堆栈跟踪。

```
java.lang.RuntimeException: java.lang.UnsatisfiedLinkError: A device attached to the system is not functioning
     at com.kenai.jffi.Foreign$InValidInstanceHolder.getForeign(Foreign.java:90)
     at com.kenai.jffi.Foreign.getInstance(Foreign.java:95)
     at com.kenai.jffi.Library.openLibrary(Library.java:151)
     at com.kenai.jffi.Library.getCachedInstance(Library.java:125) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T22:19:21.287

Found this on [technet](http://technet.microsoft.com/en-us/library/cc978749.aspx):

> A device attached to the system is not functioning.
> 
> Explanation:
> 
> An attached device is not working for one of these reasons: (1) it is switched off, or connected improperly; (2) the floppy disk and drive types are incompatible; (3) the floppy disk is not properly inserted in the drive; (4) the drive door is open; or (5) the floppy disk is not properly formatted.
> 
> User Action:
> 
> Correct the problem and retry the command.

Is Sonar (or it's database) running on a removable filesystem?

# java - 如何使用eclipse JDT插件

> ID：13526538
> 
> 赞同：3
> 
> 时间：2012-11-23T09:50:55.860
> 
> 标签：java, eclipse, abstract-syntax-tree, eclipse-jdt

我安装了 JDT 插件（我正在运行 Eclipse 4.2.1），但 Eclipse 无法识别某些类型和类。例如，我得到“CompilationUnit 无法解析为一种类型”。我必须导入 Eclipse 不建议的东西吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-27T05:31:44.943

如果您尝试在 Eclipse 插件项目中使用 JDT 库，则必须将其添加`org.eclipse.jdt.core`到插件依赖项（在 plugin.xml 文件中）。

否则，如果您尝试将这些添加到 java 应用程序，那么您需要将它们添加到构建路径。

右键单击项目并选择*Properties > Build Path > Add External JARs*

这里只需添加 Eclipse 插件目录中的 jdt 库。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-23T09:54:57.333

您必须`import`使用您正在使用的软件包。在这种特定情况下：

```
import org.eclipse.jdt.core.dom.CompilationUnit; 
```

（如果这就是`CompilationUnit`你所说的，它是谷歌的第一个热门）。

Eclipse 可以`import`通过按 自动为您找到正确的`Ctrl-Shift-O`。（我在 Visual Studio 2010 中非常想念的东西）。

# vb.net - 无论如何，Visual Basic .NET 2008 是否可以“杀死”系统进程？

> ID：13526541
> 
> 赞同：1
> 
> 时间：2012-11-23T09:51:02.593
> 
> 标签：vb.net, visual-studio, visual-studio-2008, process, kill

我尝试了很多方法来停止系统控制的进程，尝试了谷歌甚至尝试了管理员权限，或者使用`C:\Windows\System32\taskkill.exe`.

这在任务管理器中很容易完成，但如果 VS.NET 中没有基本或 2008 中的方法，则无法通过编程找到方法来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:55:16.243

使用[`Process`](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.aspx)该类查找进程（使用其中一种`GetProcesses*`方法）并在其上调用该[`Kill`](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.kill.aspx)方法。

当然，运行您的应用程序的帐户需要有足够的权限才能执行此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T15:09:28.387

您是否尝试过类似的方法：

```
Dim process As System.Diagnostics.Process = Nothing
Dim psi As New ProcessStartInfo

psi.UseShellExecute = True
psi.FileName = “taskkill.exe”
psi.Arguments = “/F /IM notepad.exe”
process = System.Diagnostics.Process.Start(psi) 
```

# asp.net - 在 IIS 中发布 CSS 文件

> ID：13526549
> 
> 赞同：4
> 
> 时间：2012-11-23T09:51:19.050
> 
> 标签：asp.net, .net, css, iis

我是使用 IIS 的新手。我已将我的 ASP.NET 应用程序发布到 IIS 服务器中，该应用程序使用第三方 HTML 加载器，该加载器加载 HTML，但在我发布时不应用 .css 文件中的效果。我在 HTML 的 head 标记中添加以下内容

```
<link href="~/input/docgenix.css" rel="stylesheet" type="text/css" /> 
```

我已将 CSS 文件保存在已发布应用程序的输入文件夹中。

另一方面，如果从 Internet 上的某个预先存在的页面的源代码中添加 HTML 以及指向其 CSS 文件的链接，则可以看到 CSS 文件的效果。例如：

```
<link rel="stylesheet" type="text/css" href="http://cdn.sstatic.net/stackoverflow/all.css"> 
```

我的猜测是我的 CSS 没有与我的应用程序一起发布。请帮帮我。如何正确发布此 CSS 文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:17:03.090

文件路径的`~`一部分（这意味着“应用程序根”）在客户端无法识别。

您有两个选择 - 生成`<link>`元素服务器端 ( `runat="server"`) 并在那里填充`href`属性（在哪里`~`被识别，使用`Page.ResolveUrl()`），或者构造一个不包括波浪号的适当相对路径（这可能更有效）。

**相对路径**

`~`如果您的应用程序托管在域根级别，则可能只需要丢失波浪号 ( )：

```
<link href="/input/docgenix.css" rel="stylesheet" type="text/css" /> 
```

**服务器端解决方案：**

无论 Web 应用程序是托管在域根级别还是在文件夹 ( `mysite.com/myapp`vs `mysite.com`) 中，这都会起作用，但效率可能会低一些。

在标记中：

```
<link id="lnk" runat="server" rel="stylesheet" type="text/css" /> 
```

在代码隐藏中：

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        lnk.Attributes["href"] = Page.ResolveUrl("~/input/docgenix.css");
    }
} 
```

（注：这是未经测试的）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:16:44.447

你试过这个吗？：

```
<link href="<%= Page.ResolveUrl("~/input/docgenix.css") %>"  rel="stylesheet" type="text/css" /> 
```

# java - 使用 ActionListener 与 MouseListener 来捕获 JButton 上的点击的优缺点

> ID：13526555
> 
> 赞同：11
> 
> 时间：2012-11-23T09:51:55.913
> 
> 标签：java, swing, jbutton, actionlistener, mouselistener

我有一个 JButton，想捕捉鼠标点击它。在 JButton 上使用 ActionListener 与使用 MouseListener 在实际和哲学上有何区别？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-23T09:54:42.673

ActionListener 用于处理按钮的逻辑单击。点击发生

*   当鼠标被按下然后在按钮上释放时，
*   或者当使用该按钮的键盘快捷键时，
*   或者当按钮获得焦点并按下空格键时，
*   或者当按钮是默认按钮并按下 Enter 时，
*   或者当以编程方式调用按钮的 click() 方法时

MouseListener 只处理低级鼠标事件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-23T09:55:21.610

如果您只想知道按钮已被按下，请使用`ActionListener`. 如果您的检查涉及更深入的分析，例如鼠标状态（鼠标进入按钮，退出）等，请使用`MouseListener`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-23T09:55:44.763

从根本上说，MouseListener 是用于获取任意点击。ActionListener 用于拾取“正在操作按钮的人”。因此，如果您真的对激活的按钮感兴趣，请使用 ActionListener。这样，如果它是通过键盘或任何其他机制激活的，您将获得该事件。

另一方面，如果您对点击特别感兴趣，则应使用 MouseListener。例如，他们点击了按钮的哪个部分，他们是否点击了不可激活的东西等。

# java - 如何从 java 程序中调用 bat

> ID：13526557
> 
> 赞同：3
> 
> 时间：2012-11-23T09:52:00.300
> 
> 标签：java, swing, batch-file

我创建了一个 bat 文件来调用 java 类。现在我已经在 swing 中创建了一个 GUI。在那个摇摆中，我有一个按钮作为开始，为此我有动作监听器，我在其中创建了以下代码

```
public void actionPerformed(java.awt.event.ActionEvent evt)
{
    try 
    {

        File file = new File("F:/myprog/start.bat");

        Desktop.getDesktop().open(file);

    } catch (IOException e)

    {

        e.printStackTrace();

    }

    jButton1ActionPerformed(evt);

} 
```

当我运行单击按钮时，我得到“ `Error: Could not find or load main class`”

批处理文件：

```
javac *.java
java websphinx.workbench.Workbench
 pause 
```

当我单击 bat 文件时，应用程序正在运行。但是当我调用这个 bat 文件时，从 Java 程序中我得到了错误。什么地方出了错？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:01:22.833

intself 中的批处理文件不是可执行文件，通常在其解释器中运行，因此您需要使用 cmd.exe 启动它

尝试以下

```
ProcessBuilder pb = new ProcessBuilder("cmd.exe", "/c", "F:\\myprog\\start.bat");
Process p = pb.start(); 
```

对此的替代方法是：

```
Runtime.getRuntime().exec("cmd /c start F:/myprog/start.bat"); 
```

不过，Processbuilder 是首选的替代方案。它使您可以更好地控制外部进程，因为您可以指示您的程序等待批处理文件完成其执行或与其并发运行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T10:03:50.250

在 Java 中，通常在 Runtime.getRuntime().exec 时运行命令，您需要将 cmd.exe 作为要运行的文件传递，然后将批处理名称作为参数传递。

```
try {
     Process p = Runtime.getRuntime().exec(
                    new String[]{"cmd.exe", "/c", "F:/myprog/start.bat"});
     InputStream in = p.getInputStream();
     OutputStream out = p.outputStream();
} catch (IOException e){
     e.printStackTrace();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T09:55:54.623

试试这个

```
Runtime.getRuntime().exec("cmd /c start F:/myprog/start.bat"); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-23T09:56:22.160

我认为这不是批处理文件问题，

看着`Error: Could not find or load main class`

它看起来像一个类路径问题

您可能需要改进批处理文件

```
javac *.java
java -cp yourdrive:\path\to\class websphinx.workbench.Workbench
 pause 
```

见`-cp`变量。

当您按原样执行批处理文件以及从程序中给出异常时，可能是因为范围的变化。你的java类和你的批处理文件可能不在同一个位置。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T09:55:22.207

您使用以下[`Runtime#exec`](http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec%28java.lang.String%5B%5D%29)方法：

```
Runtime.getRuntime().exec(new String[] { "cmd.exe", "/c", "F:\\myprog\\start.bat" }); 
```

请注意，您真正运行的程序是`cmd.exe`，带有`/c`开关，后跟批处理文件名和 Windows 格式的路径。

# c# - c# - 文本框有字符限制吗？

> ID：13526561
> 
> 赞同：2
> 
> 时间：2012-11-23T09:52:14.183
> 
> 标签：c#, textbox

> **可能重复：**
> [TextBox C# 中的 Max Char？](https://stackoverflow.com/questions/1382983/max-char-in-textbox-c)

在 MaxLenght 设置为 0 的 c# winform 应用程序中的文本框中是否存在已知字符限制？

谢谢，汉斯

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-23T09:54:54.963

[Win32 文档](http://msdn.microsoft.com/en-us/library/windows/desktop/bb761647(v=vs.85).aspx)说：

> 在调用 EM_SETLIMITTEXT 之前，用户可以在编辑控件中输入的文本量的默认限制是 32,767 个字符。
> 
> 对于单行编辑控件，文本限制为 [...] 0x7FFFFFFE (2147483646) 字节

[TextBoxBase.MaxLength](http://msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.maxlength.aspx)文档证实了这一点：

> 可以输入到控件中的字符数。默认值为 32767。
> 
> 如果 MaxLength 属性设置为 0，则用户可以输入的最大字符数为 2147483646 [或在 Windows ME 上为 32,766] 或基于可用内存的数量，以较小者为准。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T09:55:57.620

适用于 Windows NT 4.0、Windows 2000、Windows 2000 Professional、Windows 2000 Server、Windows 2000 Advanced Server、Windows XP Home Edition、Windows XP Professional x64 Edition、Windows Server 2003 平台：-

> 如果 MaxLength 属性设置为 0，则用户可以输入的最大字符数是`2147483646`或`an amount based on available memory, whichever is smaller.`

对于 Windows Millennium 版平台：

> 如果 MaxLength 属性设置为 0，则用户可以输入的最大字符数是`32,766`或基于可用内存的数量，以较小者为准。

有关更多信息，请参阅此[链接](http://msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.maxlength.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:05:37.757

```
Textbox windows form control:
The number of characters that can be entered into the control. 
```

默认值为 32767。有关更多详细信息：http: [//msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.maxlength.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.maxlength.aspx)

# kendo-ui - 用于级联 DropDownList 的 MVVM 绑定

> ID：13526565
> 
> 赞同：5
> 
> 时间：2012-11-23T09:52:37.803
> 
> 标签：kendo-ui, cascadingdropdown

我有两个`kendoDropDownList`使用级联的网页。第一个是*州*，第二个是*城市*。当您选择一个*州*时，您可以从第二个*城市*`DropDownList`中进行选择。如果我使用鼠标选择它们，这将非常有效。

问题是当我尝试将一些数据绑定到这些 DropDownLists更新*State*而不是*City*时。

这是我页面的 HTML：

```
<div id="container">
    <input id="state" name="state" data-bind="value: state"/>
    <input id="city" name="city" data-bind="value: city"/>
</div> 
```

这是 JavaScript：

```
var state = $("#state").kendoDropDownList({
    dataTextField: "state",
    dataValueField:"state",
    dataSource:    {
        serverFiltering:true,
        data:           states
    },
    change:        function () {
        console.log("state changed");
    }
}).data("kendoDropDownList");

var city = $("#city").kendoDropDownList({
    autoBind:      false,
    dataTextField: "city",
    dataValueField:"city",
    cascadeFrom:   "state",
    dataSource:    {
        serverFiltering:true,
        transport:      {
            read:function (operation) {
                var ds = cities [state.value()];
                if (ds) {
                    return operation.success(ds);
                } else {
                    return operation.success(["N/A"]);
                }
            }
        }
    }
}).data("kendoDropDownList"); 
```

如果我使用以下代码绑定数据：

```
kendo.bind($("#container"), { state:"California", city: "Berkeley" }); 
```

除非*State* `DropDownList`已经包含`California`它不会设置`city`为的值`Berkeley`。

似乎 using`bind`不会触发*States*`change`中的事件，然后*City*不会重新加载新*State的**Cities*。 *`DropDownList` *`DropDownList`**

 ***[您可以在http://jsfiddle.net/OnaBai/QUhEX/3/](http://jsfiddle.net/OnaBai/QUhEX/3/)中找到此代码

我应该如何使用MVVM**绑定的****级联**？

 *** * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-24T16:28:26.090

我准备了一个演示，展示如何将级联下拉列表与 MVVM 一起使用：http: [//jsbin.com/ujorer/1/edit](http://jsbin.com/ujorer/1/edit)*****

# download - 错误的文件被服务器下载到客户端

> ID：13526570
> 
> 赞同：0
> 
> 时间：2012-11-23T09:52:48.593
> 
> 标签：download, webforms

尝试将文件从服务器下载到客户端时出现问题。单击时，保存文件提示显示为应有的样子，但它不指向我要下载的文件，而是指向我的 aspx 页面？换句话说，它不会下载我想下载的文件，而是下载下载链接所在的页面。真的很奇怪......似乎我指定下载的文件被完全忽略/没有效果......

```
if (File.Exists(Server.MapPath(driversLocation + name + ".zip")))
{
    FileInfo fileInfo = new FileInfo(Server.MapPath(driversLocation) + name + ".zip");

    Response.Clear();
    Response.AddHeader("Content-Disposition", "inline;attachment; filename=" + name + ".zip");
    Response.AddHeader("Content-Length", fileInfo.Length.ToString());
    Response.ContentType = "application/download";
    Response.Flush();
    Response.TransmitFile(Server.MapPath(driversLocation) + name + ".zip");
    Response.End();
 } 
```

任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T15:31:59.563

问题是“内联”。还有一些其他的事情需要调整以使代码更易于阅读：

相关文章：[Content-Disposition：“内联”和“附件”有什么区别？](https://stackoverflow.com/questions/1395151/content-dispositionwhat-are-the-differences-between-inline-and-attachment)

```
FileInfo fileInfo = new FileInfo(Server.MapPath(driversLocation + name + ".zip"));

if (fileInfo.Exists)
{
     Response.Clear();
     Response.AddHeader("Content-Disposition", "attachment; filename=" + fileInfo.Name);
     Response.AddHeader("Content-Length", fileInfo.Length.ToString());
     Response.ContentType = "application/x-zip-compressed";
     Response.TransmitFile(fileInfo.FullName);
     Response.End();
} 
```

# javascript - 从后面的代码关闭 SP.UI.ModalDialog PopUp

> ID：13526572
> 
> 赞同：2
> 
> 时间：2012-11-23T09:53:08.370
> 
> 标签：javascript, asp.net, sharepoint, modal-dialog, window.closed

我在 Aspx 页面上有一个项目列表，为了编辑每个项目，我启动了 SP.UI.ModalDialog 弹出窗口来执行此操作，在此弹出窗口中创建了一个提交按钮以保存更改，然后关闭弹出窗口：

```
protected void Submit_onclick(Object sender, EventArgs e)
{
    SPSecurity.RunWithElevatedPrivileges(delegate
    {
        try
        {
            using (SPSite mySite = new SPSite(PGContext.Site.ID))
            {
                using (SPWeb myweb = mySite.OpenWeb(PGContext.Web.ID))
                {
                    myweb.AllowUnsafeUpdates = true;
                    //changes
                    myweb.AllowUnsafeUpdates = false;

                    Page.ClientScript.RegisterStartupScript(this.GetType(), "closeWindow", "window.close()", true);}
                }
            }
            catch (Exception exp)
            {
                throw new Exception("ERROR: Unable to Save Changes : " + exp.Message.ToString(), exp);
            }
        });
} 
```

但是 Page.ClientScript.RegisterStartupScript() 似乎不起作用！我在 msdn 上看过它，它说我只能在 Page_Load() 函数上使用它，那么如何在事件中从代码中关闭我的弹出窗口？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T09:59:56.493

试试这个 ：

```
Response.Write("<script type='text/javascript'>window.frameElement.commitPopup();</script>");
Response.Flush();
Response.End(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:04:02.833

尝试

```
this.Context.Response.Write("<script type='text/javascript'>parent.location.reload();</script>"); 
```

这就是我在代码中用来关闭模态对话框并刷新主页以显示所做更新的内容

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-06-18T10:40:20.863

上面的代码工作正常。它运行良好。但是要刷新父页面，请使用以下代码来关闭弹出窗口并显示加载消息。

```
using (SPLongOperation operation = new SPLongOperation(this.Page)) {

   operation.Begin();

   //DO WORK HERE

   string redirectUrl = 'http://where-to-redirect-user-after';
     operation.End(redirectUrl, SPRedirectFlags.DoNotEncodeUrl, HttpContext.Current, null);
} 
```

# php - GD 从用户上传的图像创建的缩略图是否足够安全？

> ID：13526575
> 
> 赞同：0
> 
> 时间：2012-11-23T09:53:14.227
> 
> 标签：php, image, file-upload, gd

我有用户上传图片。我用 GD 创建了一个缩略图，并将其存储在我的上传文件夹中，并使用我存储在数据库中的随机名称。不存储原始图像，它只是生成的缩略图。

这是否消除了用户图像上传的安全问题？是否仍有可能将原始的某些可执行恶意脚本复制到缩略图中？我在上传时检查扩展名、类型和“getimagesize”，我知道这很容易绕过，当 GD 无法创建缩略图时，上传的文件被拒绝。

我仍然容易受到哪些问题的影响？

# ruby-on-rails - capybara poltergeist - 覆盖用户代理

> ID：13526577
> 
> 赞同：5
> 
> 时间：2012-11-23T09:53:33.650
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rubygems, gem

有人知道我如何将 capybara poltergeist 的用户代理覆盖到移动端进行测试吗？

我发现了一些关于为 selenium webdriver 配置的东西：http: [//blog.plataformatec.com.br/2011/03/configuring-user-agents-with-capybara-selenium-webdriver/](http://blog.plataformatec.com.br/2011/03/configuring-user-agents-with-capybara-selenium-webdriver/)

这在水豚的恶作剧中怎么可能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T10:02:16.123

在 poltergeist github 页面上查看该链接： [https ://github.com/teampoltergeist/poltergeist#manipulating-request-headers](https://github.com/teampoltergeist/poltergeist#manipulating-request-headers)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-11-06T23:49:26.840

如果您不想在每个规范上设置用户代理，请在您的 spec_helper.rb 中尝试

```
Capybara.register_driver :poltergeist_iphone_debug do |app|
  ghost_busters = Capybara::Poltergeist::Driver.new(app, inspector: true)
  ghost_busters.headers = { 'User-Agent' => 'Mozilla/5.0 (iPhone; U; CPU iPhone OS 5_0 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Mobile/9A334 Safari/7534.48.3' }
  ghost_busters
end

Capybara.default_driver = :rack_test
Capybara.javascript_driver = :poltergeist

RSpec.configure do |config|

  config.treat_symbols_as_metadata_keys_with_true_values = true
  config.before (:each) do |example_method|
    example = example_method.example ## RSpec2 | For RSpec3: example = example_method

    if example.metadata[:mobile]
      Capybara.current_driver = :poltergeist_iphone_debug
    end

  end
end 
```

然后在您的功能规范中，只需执行以下操作：

```
require 'spec_helper'

describe 'Home' do
  describe 'GET /' do

    # Default request desktop
    it 'does not have mobile menu' do
      visit root_path
      expect(page).to_not have_selector('.mobile-menu')
    end

    # Override request mobile
    it 'has mobile menu', :mobile do
      visit root_path
      expect(page).to have_selector('.mobile-menu')
    end
  end
end 
```

# java - 如何在java中动态扩展一个类？

> ID：13526580
> 
> 赞同：4
> 
> 时间：2012-11-23T09:53:42.063
> 
> 标签：java, oop, generics, wildcard

我正在尝试根据传递给其构造函数的参数的本机类型动态扩展对象。
我已经阅读了一些 java 泛型和通配符的东西，但我似乎找不到一个好的方法。

伪代码解释：

```
public class myClass extends <?> {
    // Constructor
    public myClass(<?> param) {
    }
} 
```

我必须使用某种构建器类吗？如果是这样，我将如何布置？

**编辑：**
我觉得我的方法很糟糕，因此我在这里问。进一步说明：

我有一个包含许多子接口的接口，其中一些也有子接口。出于我的目的，我不能编辑超级接口来添加方法，因为它是一个 API。我有一个事件传递给我一个子接口，我希望能够将其转换为我自己的具有更多方法和属性的对象，但我仍然希望访问子接口的方法。

例如，子接口称为实体。我可以做`myClass extendedEntity = new myClass(entity)`，其中有我想公开的新方法。如果我使传递的子接口成为对象的属性，我可以`extendedEntity.entity.originalMethod()`访问子接口中包含的方法。但我想拥有它`extendedEntity.originalMethod()`以及`extendedEntity.addedMethod()`.

这对任何人都有意义吗，有什么明显的我可以做的事情我错过了吗？（受过机械工程师教育，java是一种爱好，请见谅！）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:33:39.983

与其担心泛型，为什么不研究委托模式呢？您的扩展实体可以实现`Entity`，将传入的数据存储在私有字段中，并将所有方法调用`entity`委托给它。`Entity`它可以在自己的界面上拥有您想要的任何额外方法。

我也不确定你是否完全理解铸造的工作原理。它不会神奇地将一个对象变成另一个对象。`A a = (A) b`只有当`b`已经*是*类型`A`（或子类型）时，强制转换才有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T09:58:28.403

泛型不是为了扩展类。用于指定一个类处理给定的类（或一组类）。例如`List<String>`是 a `List`that stores `String`，而不是`Object`.

并且泛型仅在编译时使用。即使您要求的内容得到支持，在运行时它也会以

```
 public class myClass extends Object {
    public myClass(Object param) {
    }
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:58:04.223

在运行时编译代码似乎可以解决这个问题。另外从前听说过[BCEL](http://commons.apache.org/bcel/index.html)，你也可以看看。

# php - 仅当元素与 sql 相同时，php 才回显用户信息

> ID：13526581
> 
> 赞同：3
> 
> 时间：2012-11-23T09:53:47.167
> 
> 标签：php, sql, database

我试图使所有元素`classlist`仅在与我和人 b 相同时才显示。例如，如果我在位置 1、2、5 有课程，并且我在人 b 的个人资料中，他在 9、1、8、17、3 类中，它只会显示 1，因为他们都有 1`classlist`

[![](../Images/7e971fb5eb277be18262c4294c2fdd03.png)](https://i.stack.imgur.com/AMiHM.png)
[（来源：[goawaymom.com](http://goawaymom.com/list.png)）]

我已经尝试了一些事情，比如爆炸`classlist`并给所有东西自己的变量......似乎没有任何效果，我让我尝试的一切变得复杂。有谁知道任何简单的方法来做到这一点？

```
<?php
if ($_SESSION['classlist'] == $user_info['classlist']) {
echo ($user_info['classlist']);

} else {
    echo 'No Common Classes';
}
?> 
```

上面的代码只显示了`classlist`当`classlist`人 a 和 b 的顺序具有相同的类的相同顺序时。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T09:57:05.823

[array_intersect](http://php.net/array_intersect "array_intersect")

例如：

```
// fetch your results from the database
$myclasses = explode(',', $myrow['classlist']);
$theirclasses = explode(',', $theirrow['classlist']);

$common_classes = array_intersect($myclasses, $theirclasses); 
```

或者在您的情况下：（假设 $_SESSION['classlist'] 和 $user_info['classlist'] 都是包含逗号分隔数字的字符串：'1,2,3,4,5'）

```
$myclasses = explode(',', $_SESSION['classlist']);
$theirclasses = explode(',', $user_info['classlist']);
$common_classes = array_intersect($myclasses, $theirclasses);

if (count($common_classes) > 0)
{
    echo '<p>You have the following classes in common.</p>';
    echo '<ul>';
    foreach ($common_classes as $class)
    {
        echo '<li>' . $class . '</li>';
    }
    echo '</ul>';
}
else
{
    echo '<p>Billy no mates :(</p>';
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:10:42.130

If I am understanding you correct maybe this would work

```
// $_SESSION[ 'classlist' ] = 9,1,8,17,3,
// $user_info[ 'classlist' ] = 1,2,5

$a_session = explode( ",", $_SESSION[ 'classlist' ]);
$a_user_info = explode( ",", $user_info[ 'classlist' ]);
$common_classes = array();

foreach( $a_session as $key => $value )
{
    if( isset($value)===TRUE && $value != NULL && trim($value) != '' )
    {
        if( in_array( $value, $a_user_info ) === TRUE )
        {
            $k = array_search( $value, $a_user_info);
            $common_classes[] = $a_user_info[ $k ];
        }
    }
}

var_dump( $common_classes ); 
```

# angularjs - Angularjs：ngRepeat 和指令

> ID：13526584
> 
> 赞同：5
> 
> 时间：2012-11-23T09:53:55.997
> 
> 标签：angularjs, directive

我正在尝试制作一些可重复使用的倒计时小部件。适用于静态内容，但是当我尝试动态添加它们时，我的指令不理解 ngRepeat 中的变量。

标记：

```
<div ng-repeat="cdn in countdowns" class="countdown" countdown-end="{{cdn}}">
  <p ng-hide="over">{{days}} jours {{hours}} heures {{minutes}} min {{seconds}} sec</p>
  <p ng-show="over">Done</p>
</div> 
```

指示：

```
...
link: function(scope, elm, attrs) {
  scope.days = '1';
  ...
}
... 
```

[http://jsfiddle.net/hFGb7/14/](http://jsfiddle.net/hFGb7/14/)

感谢您的回复。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T11:38:07.217

问题是插值不是由调用链接函数运行的。所以 的值`{{cdn}}`不可用。有几种处理方法：

1.  您可以`cdn`直接在链接功能中使用，因为它在范围内可用。但这将使指令依赖于`cdn`范围内的存在。
2.  获取使用插值的属性值的推荐方法是使用 $observe。检查这个：http: [//jsfiddle.net/hFGb7/28/](http://jsfiddle.net/hFGb7/28/)

# iphone - 如何检测 iPhone 是否在振动？

> ID：13526585
> 
> 赞同：0
> 
> 时间：2012-11-23T09:53:58.120
> 
> 标签：iphone, ios, ios4, iphone-vibrate

我想编写一个在 iPhone 振动时执行某些操作的应用程序（接听电话，振动模式下的文本）。无论如何检测iPhone是否在振动（即处理“振动”事件）？谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:49:43.150

好吧，我不认为 Apple 会给予如此多的自由，但您仍然可以在此处查看有关此主题的良好讨论 [使用 AVAudioPlayer 检测 iPhone 的响铃/静音/静音开关不起作用？](https://stackoverflow.com/questions/6901363/detecting-the-iphones-ring-silent-mute-switch-using-avaudioplayer-not-worki)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T16:51:20.333

不，您无权访问任何执行此操作的 API。出于兴趣，你为什么要这样做？

# javascript - jQuery加载网页

> ID：13526587
> 
> 赞同：-3
> 
> 时间：2012-11-23T09:54:04.173
> 
> 标签：javascript, jquery

我可以在不使用 Jquery load() 的情况下将外部网站或网页加载到 DIV 标记中吗？函数，因为 load() 函数正在使用 AJAX。但除此之外还有其他简单的方法来加载网页

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T09:58:13.277

是的，jQuery 只是基本 javascript 函数的助手。

你可以使用这个：

```
var httpRequest = new XMLHttpRequest();
httpRequest.open('GET', url);
httpRequest.onreadystatechange = function() {
    if (httpRequest.status === 200) {
        document.getElementById('idOfTheDiv').innerHTML = httpRequest.responseText;
    }
}
httpRequest.send(); 
```

这假设你有一个 id 的 div `idOfTheDiv`：

```
<div id=idOfTheDiv></div> 
```

# sql - 在 SQL Select 语句中使用 If else

> ID：13526592
> 
> 赞同：49
> 
> 时间：2012-11-23T09:54:13.283
> 
> 标签：sql, sql-server

我有一个 select 语句，它将返回 2 列。

```
ID | IDParent 
```

然后在我的程序中我必须测试`if IDParent is < 1 then use ID ELSE use IDParent`

有没有办法在 SQL 中使用类似 If Else 的条件来仅返回单个值？

* * *

## 回答 #1

> 赞同：103
> 
> 时间：2012-11-23T09:55:27.367

您可以使用`CASE`

```
SELECT   ...,
         CASE WHEN IDParent < 1 THEN ID ELSE IDPArent END AS ColumnName,
         ...
FROM     tableName 
```

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-11-23T09:59:34.793

在这里，使用[`CASE Statement`](http://technet.microsoft.com/en-us/library/ms181765(v=sql.105).aspx)并查找结果：

```
select (case when condition1 then result1
             when condition2 then result2
             else result3
             end) as columnname from tablenmae: 
```

例如：

```
select (CASE WHEN IDParent< 1 then ID 
             else IDParent END) as columnname
from tablenmae 
```

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2012-11-23T09:55:31.317

```
SELECT CASE WHEN IDParent < 1 
            THEN ID 
            ELSE IDParent 
       END AS colname 
FROM yourtable 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-10-06T03:56:59.017

查询将如下所示

```
SELECT (CASE WHEN tuLieuSo is null or tuLieuSo=''
            THEN 'Chưa có đĩa' 
            ELSE 'Có đĩa' End) AS tuLieuSo,moTa
FROM [gPlan_datav3_SQHKTHN].[dbo].[gPlan_HoSo] 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-10-11T09:57:38.053

sql server 2012

```
 with
  student as 
(select sid,year from (
values (101,5),(102,5),(103,4),(104,3),(105,2),(106,1),(107,4)
) as student(sid,year)
)
select iif(year=5,sid,year) as myCol,* from student

 myCol  sid year
101 101 5
102 102 5
4   103 4
3   104 3
2   105 2
1   106 1
4   107 4 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2019-04-17T09:29:05.640

您可以在查询下使用简单`if`的语句，`select`如下所述

`if(some_condition,if_satisfied,not_satisfied)`

```
SELECT IF(IDParent < 1,ID,IDParent)  FROM yourTable ; 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-12-28T06:17:15.653

这是一些使用示例`CASE WHEN`

```
SELECT 
    CASE WHEN A > 1 THEN
            'Greater than 1'
    END  
FROM TRIANGLES 
```

.

```
SELECT 
    CASE WHEN A > 1 THEN
            A
    END  
FROM TRIANGLES 
```

.

```
SELECT 
    CASE WHEN A > 1 and B > 1 THEN
            'Greater than 1'
    END  
FROM TRIANGLES 
```

.

```
SELECT 
    CASE WHEN A > 1 THEN
            'greater than 1'
         ELSE
            'less than 1'
    END  
FROM TRIANGLES 
```

.

```
SELECT 
    CASE WHEN A > 1 THEN
            'greater than 1'
         ELSE CASE WHEN A >= 0 THEN
                      'greater than or equal 0'
                   ELSE
                      'less than 0'
              END        
    END  
FROM TRIANGLES; 
```

希望这可以帮助

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2020-02-17T10:11:18.780

## 这里有两种方式“IF”或“CASE”。

```
SELECT IF(COLUMN_NAME = "VALUE", "VALUE_1", "VALUE_2") AS COLUMN_NAME 
FROM TABLE_NAME; 
```

**或者**

```
SELECT (CASE WHEN COLUMN_NAME = "VALUE" THEN 'VALUE_1' ELSE 'VALUE_2' END) AS COLUMN_NAME 
FROM TABLE_NAME; 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-11-23T10:17:44.787

您还可以使用联合构造。我不确定 CASE 是否是一个常见的 SQL 构造......

```
SELECT ID FROM tabName WHERE IDParent<1 OR IDParent IS NULL
UNION 
SELECT IDParent FROM tabName WHERE IDParent>1 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-11-23T11:17:58.293

```
select 
CASE WHEN IDParent is < 1 then ID else IDParent END as colname 
from yourtable 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-04-08T05:37:44.420

我对此结果有疑问：

```
SELECT Top 3
 id,
 Paytype
 FROM dbo.OrderExpresses
 WHERE CreateDate > '2018-04-08' 
```

结果是：

```
22082   1
22083   2
22084   1 
```

我想在查询中将代码更改为字符串，所以我使用此代码：

```
SELECT TOP 3
 id,
 CASE WHEN Paytype = 1 THEN N'Credit' ELSE N'Cash' END AS PayTypeString
 FROM dbo.OrderExpresses
 WHERE CreateDate > '2018-04-08' 
```

结果是:)

```
22082   Credit
22083   Cash
22084   Credit 
```

# fancybox - 解除绑定/销毁 fancybox 2 事件

> ID：13526599
> 
> 赞同：7
> 
> 时间：2012-11-23T09:54:41.640
> 
> 标签：fancybox, destroy, fancybox-2, unbind

我有一个奇怪的问题，我有通过 ajax 提取内容然后将 Fancybox (2) 绑定到某些元素的代码。问题是当我“刷新”这个页面时，我调用了相同的函数来再次拉动和绑定 Fancybox。

在我更改为 Fancybox 2 之前，我一直在努力的正常方法是取消绑定元素并重新绑定它们。然而，这似乎不适用于 FB2。

我尝试了以下方法：

```
$('.tool_button').unbind('click.fb');
$('.tool_button').unbind('click');
$('.tool_button').unbind();
$('.tool_button').off('click.fb');
$('.tool_button').off('click');
$('.tool_button').off(); 
```

我确实注意到源文件中可能有用的以下内容（从第 652 行开始）：

```
// Unbind the keyboard / clicking actions
    unbindEvents: function () {
        if (F.wrap && isQuery(F.wrap)) {
            F.wrap.unbind('.fb');
        }

        D.unbind('.fb');
        W.unbind('.fb');
    } 
```

如果有人可以在这里提供帮助，将不胜感激。

提前致谢。缺口

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-17T02:15:38.250

如果您包含该属性`live:false`，那么您将能够使用从您的元素中删除处理程序`.off()`

在挖掘源代码后，我还发现特定事件是`click.fb-start`，如果您想专门针对它。

例如：

> ```
> $(".fancybox").attr('rel', 'gallery').fancybox({live: false});
> //remove click handler
> $('.fancybox').off("click.fb-start"); 
> ```

仅供参考在文档中它说以下关于`live`：

> **live：**如果设置为 true，fancyBox 使用“live”来设置点击事件。设置为“false”，如果您只需要应用于当前集合，例如，如果使用类似 - $( "#page" ).children().filter('a').eq(0).fancybox() ;

# jsFiddle

这是一个 jsFiddle 演示

[http://jsfiddle.net/DigitalBiscuits/DBvt7/211/](http://jsfiddle.net/DigitalBiscuits/DBvt7/211/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-12-06T14:55:34.303

我知道这是一个旧线程，但只是想确认 OAC Designs 绝对正确：取消绑定`.fancybox`链接仅在`live`参数设置为`false`.

但是，**您也可以在 dom 级别销毁 Fancybox**，无论`live`参数如何，通过执行以下操作：

`$(document).unbind("click.fb-start");`

或者

`$(document).off("click.fb-start");`

* * *

## JSFiddle

查看此[JSFiddle](http://jsfiddle.net/Marventus/gfdqen8f/)以供参考。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-24T17:26:59.903

您可以使用此代码来破坏链接上的 fancybox 功能：

```
jQuery('a').unbind('click.fb').removeData('fancybox'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T10:33:30.633

感谢您的回复，我没有测试过上述内容，我使用了不同的方法来解决问题。

我所做的不是使用默认的 Fancybox 功能，而是为我需要 Fancybox 的地方创建了函数，并在每种情况下手动调用了 Fancybox，因此没有绑定事件。

这不是最好的方法，上面可能会更好，但我会在新的一年里测试这个:)

再次感谢。

# bash - bash命令行处理流程

> ID：13526601
> 
> 赞同：1
> 
> 时间：2012-11-23T09:54:42.377
> 
> 标签：bash

我以这种方式使用 bash：

```
vara="'%a %b'"

function f
{
  echo -n $# : "$@"
} 
```

**1.**

```
f  $vara 
```

*输出：*

```
 2 : %a %b 
```

**2.**

```
f "$vara" 
```

*输出：*

```
1 : '%a %b' 
```

谁能解释为什么第一个产生该输出？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:33:56.640

这是分词的一个很好的例子，也是为什么我们被教导总是引用我们的变量。

有关更多详细信息，请参阅这篇[出色的文章](http://mywiki.wooledge.org/WordSplitting)

# python - 基于cvxopt的python半定嵌入

> ID：13526606
> 
> 赞同：2
> 
> 时间：2012-11-23T09:55:01.973
> 
> 标签：python, optimization, machine-learning, convex-optimization

我正在尝试基于**cvxopt包在 python 中实现****半定嵌入**算法（参见[此处](https://en.wikipedia.org/wiki/Semidefinite_embedding)），以解决半定编程。我在将半定程序的定义映射到 cvxopt 的接口时遇到了一些问题（请参阅[this](http://abel.ee.ucla.edu/cvxopt/userguide/coneprog.html#semidefinite-programming)）。

 **这是我目前的实现：

```
from numpy import array, eye
from numpy.linalg import norm
from numpy.random import multivariate_normal
from sklearn.neighbors import NearestNeighbors
from cvxopt import matrix, spmatrix, solvers

n = 10 # The number of data points

#### Generate data and determine nearest neighbor structure ####
# Sample data
X = multivariate_normal([0, 0], [[10, -10], [2, -1]] ,n)

# Determine 5-nearest neighbors graph
N = NearestNeighbors(n_neighbors=5).fit(X).kneighbors_graph(X).todense()
N = array(N)

# Generate set of index-pairs, where each pair corresponds to a eighbor pair
neighs = set(zip(*N.nonzero()))
neighs.union(set(zip(*(N.T.dot(N)).nonzero())))

# Plot data points and nearest neighbor graph
#import pylab
#for i, j in neighs:
    #pylab.plot([X[i, 0], X[j, 0]], [X[i, 1], X[j, 1]], 'k')
#pylab.plot(X[:, 0], X[:, 1], 'ro')
#pylab.show()

#### Create kernel using semidefinite programming ####
# We want to maximize the trace, i.e. minimize the negative of the trace
c = matrix(-1 * eye(n).reshape(n**2, 1))

## x must be positive semidefinite
# Note -Gs*x should be the n*n matrix representation of x (which is n**2, 1)
Gs = [spmatrix([-1.0]*n**2, range(n**2), range(n**2), (n**2, n**2))]
hs = [spmatrix([], [], [], (n, n))]  #  Zero matrix

## Equality constraints
# Kernel must be centered, i.e. sum of all kernel elements needs to be 0
A = [[1] * (n**2)]
b = [[0.0]]

# Add one row to A and b for each neighbor distance-preserving constraint
for i, j in neighs:
    if i > j and (j, i) in neighs: 
        continue # skip since this neighbor-relatonship is symmetric
    i = int(i)
    j = int(j)
    # TODO: Use sparse matrix for A_
    #spmatrix([1.0, -2.0, 1.0], [0, 0, 0], [i*(n + 1), i*n + j, j*(n + 1)], 
    #        (1, n**2))
    A_ = [0.0 for k in range(n**2)]
    A_[i*n + i] = +1 # K_ii
    A_[i*n + j] = -2 # K_ij
    A_[j*n + j] = +1 # K_jj
    b_ = [norm(X[i] - X[j])**2] # squared distance between points with index i and j
    A.append(A_)
    b.append(b_)

# Solve positive semidefinite program
A = matrix(array(A, dtype=float))
b = matrix(array(b, dtype=float))

sol = solvers.sdp(c=c, Gs=Gs, hs=hs, A=A, b=b) 
```

执行程序会抛出`ValueError`(Rank(A) < p 或 Rank([G; A]) < n)。任何提示这里出了什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T04:39:45.247

此错误来自求解器，它对`A`. `A`当太稀疏时，我在 cvxopt 的所有求解器中都遇到了这个问题。`A*x=y`在某些情况下，我通过采用等式约束并在其上附加相同等式的噪声版本成功地获得了结果，`Ap*x=y`其中 A 的零点充满了低级噪声。可以通过设置来做到这一点

```
A1 = matrix([A,Ap])
y1 = matrix([y,y]) 
```

并将它们传递给等式约束。您可能会发现此链接很有用： [使用 cvxopt 最小化核规范](https://zulfahmed.wordpress.com/2012/12/22/implementing-nuclear-norm-minimization-using-cvxopt/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-14T14:03:46.280

这是一个旧线程，但这可能会帮助人们在未来寻找 MVU 的 python 实现：

[https://github.com/buquicchiol/MaximumVarianceUnfolding](https://github.com/buquicchiol/MaximumVarianceUnfolding)**

# jquery - 使用jquery如何在给定时间间隔后连续触发事件

> ID：13526608
> 
> 赞同：0
> 
> 时间：2012-11-23T09:55:08.740
> 
> 标签：jquery

我需要在给定时间间隔后不断更新给定选择器。这是我使用 javascript 的代码。

```
function current_time(){
   var content = document.getElementById('time_div');
   content.innerHTML = '<p> Time is : '+Date()+'</p>';
}

var v = setInterval( 'current_time()', 1000); 
```

还行吧。但我的问题是使用 jquery 我们可以这样做吗？我试过这种方式。它只工作一次。我如何在给定的时间间隔后连续触发该事件（没有点击事件）。

```
$(document).ready(function(){
    $('#time_div').click(function(){
        $(this).html('<p>'+Date()+'</p>');
    });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:56:44.653

这应该可以解决问题...

```
$(document).ready(function() {
    var v = setInterval(function() {
        $("#time_div").html("<p>" + Date() + "</p>");
    }, 1000);
}); 
```

为了使您的原始代码更易于阅读...

```
var v = setInterval(function() {
   document.getElementById("time_div").innerHTML = "<p>" + Date() + "</p>";
}, 1000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:00:54.157

您需要做的就是：-

```
$(document).ready(function(){
    $('#time_div').click(function(){
        $(this).html('<p>'+Date()+'</p>');
    });
});

var v = setInterval( function(){$('#time_div').trigger('click')} , 1000); 
```

*setInterval*是一个标准的 JavaScript 函数，不是 jQuery 的一部分。您可以使用要执行的函数和以毫秒为单位的时间段来调用它。例如：-

```
setInterval(function() {
//Do something every 1 seconds
}, 1000); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:05:41.110

试试这个：

```
$(document).ready(function(){
    setInterval(function() {
                    $('#time_div').html('<p>'+Date()+'</p>');
                }, 1000);
}); 
```

# html - 在图像 ASP.Net MVC 视图下方放置一些行

> ID：13526618
> 
> 赞同：0
> 
> 时间：2012-11-23T09:55:33.887
> 
> 标签：html, asp.net-mvc, image

我制作了一个页面来填充图像并像这样写他们的名字（ASP.Net MVC）：

![在此处输入图像描述](../Images/0b45c86f29ba2e61c1944e16b424eb0c.png)

这是我的代码：

```
<span style=" display : block"> 
```

```
 <a href="<%= Url.Action("EditProduct", new { id = item.Id }) %>">
   <img src='<%= Url.Action( "getImg", "Product", new  { ShopId = item.Id }) %>'   alt="" /></a>

    <%: Html.DisplayFor(modelItem => item.Name)%>
<% }%>
</span> 
```

但我想将名称放在图像下方。我尝试了一些方法，比如 table，但我没有成功。任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:27:05.607

尝试这个：

```
<img src='<%= Url.Action( "getImg", "Product", new  { ShopId = item.Id }) %>' style="clear:both"  alt="" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:01:24.053

结束后添加`<br />`标签`</a>`

```
<span style=" display : block">
    <a href="<%= Url.Action("EditProduct", new { id = item.Id }) %>">
    <img src='<%= Url.Action( "getImg", "Product", new  { ShopId = item.Id }) %>'   alt="" /></a><br />
    <%: Html.DisplayFor(modelItem => item.Name)%> <%}%>
        </span> 
```

# sql - 是否可以在学说迁移中调用 .sql 文件？

> ID：13526622
> 
> 赞同：13
> 
> 时间：2012-11-23T09:55:44.200
> 
> 标签：sql, symfony1, doctrine, symfony-1.4

是否可以在迁移类中调用 .sql 文件？

我找不到关于该主题的任何内容。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-06-17T11:11:11.263

是的，只需放置该 .sql 文件并从您的迁移类中引用它。

```
$this->addSql(file_get_contents(__DIR__ . '/sql-dump.sql')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-02T23:13:40.150

我知道这是一个老问题，但当我搜索它时，它仍然是唯一真正的成功。上面的答案可以稍微改进一下。这是一个简单的事情，但你可能不会想到它。如果你有一个 sql 文件，其中包含多个用分号分隔的查询，则可以将分号上的内容展开。

```
<?php

foreach (explode(';', file_get_contents(__DIR__ . '/sql-dump.sql')) as $sql) {
    $this->addSql($sql);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-27T10:16:16.820

对于 MySQLi，我使用了：

```
$this->connection->getWrappedConnection()->getWrappedResourceHandle()->multi_query($sql); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-01-05T22:11:41.880

如果您正在使用 SQLite 并且想要执行一个包含多个用分号分隔的语句的 .sql 文件，我建议使用以下代码：

```
$this->connection->exec(file_get_contents(__DIR__ . '/sql-dump.sql')); 
```

这是因为如果使用 addSql() 方法，Doctrine 将调用 query() 方法，该方法不支持单个字符串中的多个语句，并且只会执行第一个。仅 exec() 方法支持多个语句。请参阅：php.net/manual/en/function.sqlite-query.php

# jsf-2 - 部分状态保存和 MyFaces CODI 出现重复 ID 错误

> ID：13526624
> 
> 赞同：0
> 
> 时间：2012-11-23T09:55:51.253
> 
> 标签：jsf-2, primefaces, myfaces, codi

我正在使用 PrimeFaces3.3、MyFaces+CODI、OpenWebBeans 和 Tomcat7 开发 JSF Web 应用程序。

显示特定页面（所有后续页面操作）后，我收到重复的 Id 错误。用调试分析 viewroot，我真的找不到任何重复的 id，但我发现 'WindowContextIdHolderComponent' 的 id (j_id6) 被作为重复抛出。

自从我将 PARTIAL_STATE_SAVING 设置为“true”后，我就开始遇到这个问题。

我有一个包含选项卡的主视图，每个选项卡中都有菜单，每个菜单操作使用选项卡加载页面

下面是我的应用程序的代码和结构。

主页

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/simple3section.xhtml">

<ui:define name="headerarea">
    Banner Comes Here
</ui:define>
<ui:define name="contents">
<p:tabView dynamic="false" cache="false" id="mainTab">
    <p:tab title="Home">
        <ui:include src="employeehome.xhtml" />
    </p:tab>
    <p:tab title="Academics">
        <ui:include src="academicmain.xhtml" /> 
    </p:tab>
    <p:tab title="Transport">
        <ui:include src="transportmain.xhtml" />
    </p:tab>
    <p:tab title="Administration">
        <ui:include src="adminmain.xhtml" />
    </p:tab>
    <p:tab title="Finance" disabled="true">
        <ui:include src="financemain.xhtml" />
    </p:tab>
    <p:tab title="Shop" >
        <ui:include src="shopmain.xhtml" />
    </p:tab>        
</p:tabView>
</ui:define>    
</ui:composition>
</html> 
```

Adminmain.xhtml 页面（标签页）

```
<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui"
xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>

</h:head>
<h:body>
<div>
    <h:form>
        <p:menubar style="margin-bottom:5px;">
            <p:menuitem value="Employees" icon="ui-icon-star" ajax="true"
                actionListener="#{homeNavigationBean.setAdminPage('employeeinfo')}"
                update=":mainTab:adminContent">
            </p:menuitem>
            <p:menuitem value="Employee Authorization" icon="ui-icon-star" ajax="true"
                actionListener="#{homeNavigationBean.setAdminPage('authorization')}"
                update=":mainTab:adminContent">
            </p:menuitem>
            <p:menuitem value="Notices" icon="ui-icon-star" ajax="true"
                action="#{homeNavigationBean.setAdminPage('notices')}"
                actionListener="#{noticesBean.loadNotices(false)}"
                update=":mainTab:adminContent">
            </p:menuitem>
            <p:menuitem id="updgallery" value="Gallery" icon="ui-icon-star" ajax="true"  
                actionListener="#{homeNavigationBean.setAdminPage('adminGallery')}" 
                update=":mainTab:adminContent">
            </p:menuitem>
            <p:menuitem value="Location" icon="ui-icon-star" ajax="true"
                action="#{homeNavigationBean.setAdminPage('location')}"
                actionListener="#{locationBean.loadLocation}"
                update=":mainTab:adminContent">
            </p:menuitem>
            <p:menuitem value="Department" icon="ui-icon-star" ajax="true"
                action="#{homeNavigationBean.setAdminPage('department')}"
                actionListener="#{departmentBean.loadDepartment}"
                update=":mainTab:adminContent">
            </p:menuitem>
        </p:menubar>
    </h:form>
</div>
<div>
    <p:outputPanel id="adminContent" layout="block" style="border-style: none; padding: 0;">
            <ui:include src="admin/#{homeNavigationBean.adminPage}.xhtml" />
    </p:outputPanel>
    </div>
   </h:body>
   </html> 
```

下面是导致重复ID错误的adminGallery页面（所有其他页面都没有这个问题）

```
<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui"
xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>

</h:head>
<h:body>
<p:panelGrid style="width:98%;">
    <f:facet name="header">
        <p:row>
            <p:column colspan="2">
        <h:outputText value="Image Gallary"></h:outputText>  
    </p:column>
        </p:row>
    </f:facet>
    <p:row>
        <p:column style="width:200px;vertical-align:top">
            <h:form id="nodeForm">
                <p:tree id="nodeTree" value="#{galleryBean.imageTree}" var="node"
                    selectionMode="single" selection="#{galleryBean.selectedNode}" 
                    style="width:160px;border-style:none;padding:0;margin:0;">
                    <p:ajax event="select" listener="#{galleryBean.loadImages}"
                        update=":mainTab:imageForm:galaPanel" />
                    <p:treeNode id="treeNode">
                        <h:outputText value="#{node}"></h:outputText>
                    </p:treeNode>
                </p:tree>
            </h:form>
        </p:column>
        <p:column>
            <h:form id="imageForm">
                <p:outputPanel id="galaPanel">
                    <p:galleria var="image" id="imgGala"
                        value="#{galleryBean.imageList}" panelWidth="470"
                        style="padding:0;margin:0;">
                        <p:graphicImage value="#{imageHelper.getFilePhotoStream()}"
                            width="450">
                            <f:param name="imageName" value="#{image}" />
                        </p:graphicImage>
                    </p:galleria>
                </p:outputPanel>
            </h:form>
        </p:column>
    </p:row>

    <p:row>
        <p:column>
            <h:form id="nodeAddForm">
                <p:messages id="treemsgs" style="padding:0;margin:0;" />
                <p:panelGrid columns="2" style="width:100%">
                    <h:outputText value="Name:*" />
                    <p:inputText id="nodename" value="#{galleryBean.name}"
                        label="Node Name" />

                    <h:outputText value="External Visible:" />
                    <p:selectBooleanCheckbox id="extcheck"
                        value="#{galleryBean.externalvisible}" />
                    <f:facet name="footer">
                        <p:commandButton type="Submit" value="Add New Node"
                            actionListener="#{galleryBean.addImageNode}" ajax="true"
                            process="nodename extcheck" update=":mainTab:nodeForm:nodeTree treemsgs" />
                    </f:facet>
                </p:panelGrid>
            </h:form>
        </p:column>
        <p:column>
            <h:form id="imageAddForm">
                <p:messages id="imgmsgs" />
                <p:fileUpload mode="advanced"
                    fileUploadListener="#{galleryBean.addPhotoFile}"
                    allowTypes="/(\.|\/)(gif|jpe?g)$/" sizeLimit="1000000"
                    invalidSizeMessage="Please limit photo size to 1000Kb"
                    update=":mainTab:imageForm:galaPanel imgmsgs" />
            </h:form>
        </p:column>
    </p:row>
</p:panelGrid>
<p:spacer height="20"/>
</h:body>
</html> 
```

此页面显示正确，但所有请求发布此页面显示都失败，并出现重复 ID 错误。

我的 Bean 是 CODI WindowScoped。

基于围绕 Duplicate Id 的各种建议答案，我只看到 ui:include 作为问题的潜在根源。但由于我对选项卡中或跨选项卡的其他页面没有任何问题，我怀疑这不是问题。

请提出这里可能存在的问题和潜在的解决方法。

# java - 使用 BeanComparator 和 Collat or 对集合进行排序

> ID：13526628
> 
> 赞同：0
> 
> 时间：2012-11-23T09:55:57.037
> 
> 标签：java

我正在尝试使用以下代码对节点列表进行排序：

```
private String sortPropertyName;
private void sortListUsingSortorder(List<MyNode> nodes, String sortOrder) {
        BeanComparator comparator = new BeanComparator(sortPropertyName, new Comparator() {
        public int compare(Object obj1, Object obj2) {
            if ("dsc".equals(sortOrder)) {
                return ((Comparable) obj2).compareTo(obj1);
            } else {
                return ((Comparable) obj1).compareTo(obj2);
            }
            }
        });

    Collections.sort(nodes, comparator);
    }
} 
```

我想使用 Collat​​or 来实现以下排序：

AaÄäBbCcUuÜü

像这样的东西

```
 Collator collator = Collator.getInstance(Locale.GERMAN);
    collator.setStrength(Collator.PRIMARY);
    Collections.sort(words, collator); 
```

如何在我的排序代码中使用这个 Collat​​or？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:36:51.447

委托给比较器中的整理者：

```
BeanComparator comparator = new BeanComparator(sortPropertyName, new Comparator() {
    public int compare(Object obj1, Object obj2) {
        if ("dsc".equals(sortOrder)) {
            return collator.compare(obj2, obj1);
        } 
        else {
            return collator.compare(obj1, obj2);
        }
    }
}); 
```

# salesforce - 如何根据销售人员中的条目自动获取字段？

> ID：13526630
> 
> 赞同：0
> 
> 时间：2012-11-23T09:56:02.470
> 
> 标签：salesforce

我有一个名为 A 的对象，它维护该对象的相关详细信息，它与另一个名为 B 的对象相关。与对象 A 相关的字段存在于对象 B 中。当输入对象 B 中的该字段时，我想要相应的对象 A 中的字段将自动提取到对象 B 中。这怎么可能？我该如何执行此操作。？你的想法请

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:13:29.047

如果您对它在后台发生的情况感到满意（一旦用户保存更改），那么您最好的选择就是对象 B 上的一个公式字段，其语法类似于`Object_A__r.Needed_field__c`.

如果它必须是自动的，但允许用户稍后覆盖这些值 - 请阅读在线帮助中的工作流程和字段更新。规则可以是“ `ISNEW() || ISCHANGED(Object_A__c)`”，操作是从新选择的 A 获取数据并将其填充到 B 的字段更新。

如果逻辑更复杂 - 可能需要在 B 上触发。

* * *

但是，如果您希望它真正实时可见（用户在查找中选择 A 记录，值在新/编辑页面上更改，他选择另一个 A，值再次更改）-您必须构建一些 Visualforce I '我害怕。[Salesforce Stack Exchange 上有类似问题](https://salesforce.stackexchange.com/q/4611/799)的答案，应该可以帮助您入门。

* * *

无论您决定继续做什么，请记住第一个选项的侵入性较小。当然，它对您的用户来说不会那么华丽和酷炫，但它可靠、易于维护（只需单击即可配置，无需代码）并且即使您以后必须执行大量数据加载/更新也可以使用例如外部工具。

用于创建/编辑的 Visualforce 页面看起来不错，但大量更新会绕过它，并且每次添加新字段时都需要维护此页面，因为很难重用标准页面布局。

# c - 将 u_int32 转换为 char

> ID：13526632
> 
> 赞同：-1
> 
> 时间：2012-11-23T09:56:11.740
> 
> 标签：c, pointers, casting

以下代码

```
u_int32 *data_out
data_out = malloc(4  * sizeof(uint32_t));
//connection_fd is a socket
n = write(connection_fd, data_out[0], strlen(data_out[0])); 
```

产生以下错误：

Array.c:261: 警告: 传递 'strlen' 的参数 1 使指针从没有强制转换的整数 /usr/include/string.h:399: 注意: 预期的 'const char *' 但参数的类型为 'uint32_t'

我也尝试了以下方法，但结果仍然是警告：

```
n = write(connection_fd, (char) data_out[0], strlen((char) data_out[0]));
n = write(connection_fd, (char*) data_out[0], strlen((char*) data_out[0])); 
```

感谢您的任何见解:)，帕特里克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:00:53.570

为什么你用strlen写int？
也许使用：

```
n = write(connection_fd, &(data_out[0]), sizeof(uint32_t)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:01:16.057

我正在关注您的警告信息

第一种情况：`strlen()`期待一个`const char *`

第二种情况：转换为`char`仅不起作用，即使您这样做，`char*`您也会收到警告，因为，`strlen()`适用于以`\0`空结尾的字符串以给出字符串的长度，但问题`data_out[i]`就是`int`如此

在这里，您`int`作为指针传递`char`，这就是警告的原因：

```
passing argument 1 of 'strlen' makes pointer from integer without a cast 
```

正如我所看到的，消息中的一切都很清楚，为什么你不明白。

```
 Array.c:261: warning: passing argument 1 of 'strlen' makes pointer     
from integer without a cast /usr/include/string.h:399: note: expected 
'const char *' but argument is of type 'uint32_t' 
```

因为`write()`也有问题。

`(char*)data_out`或者`(char*)&data_out[0]`在第二个参数中，而不是你所做的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:33:16.773

编译器似乎已经告诉您代码有什么问题。

> strlen' 从整数生成指针而不进行强制转换

意思是：你试图在没有强制转换的情况下将整数显示到指针变量中。

> 预期为“const char *”，但参数的类型为“uint32_t”

意思是：函数想要一个 const char*指针*，但你给了它一个 uint32_t*变量实例*。

# ruby-on-rails - Ruby on rails 将变量作为数组项

> ID：13526640
> 
> 赞同：1
> 
> 时间：2012-11-23T09:56:36.713
> 
> 标签：ruby-on-rails, ruby, form-helpers

我有一个带有文本输入和文本区域的简单表单，但是当我提交它时，变量似乎是数组项，而不仅仅是字符串值？

**表格**

```
<%= form_tag(home_kontak_path, :remote => true) do %>
<label>Jou epos adres</label>
<%= text_field(:epos, "", :placeholder => "Jou epos adres", :id => "epos", :class => "input-block-level") %>

<label>Boodskap hier</label>
<%= text_area(:boodskap, "", :rows => "5", :placeholder => "Boodskap hier...", :id => "boodskap", :class => "input-block-level") %>

<%= submit_tag "submit" %>
<% end %> 
```

**控制台输出**

```
Started POST "/home/kontak" for 127.0.0.1 at 2012-11-23 11:53:03 +0200
Processing by HomeController#kontak as JS
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"i+5UWaQeBu7LYGPFBNAbum+67VzyyC82JN2wMlLc/UU=", "epos"=>["text box value"], "boodskap"=>["text area value"], "commit"=>""} 
```

**我希望它是什么**
而不是

> "epos"=>["文本框值"]

我想让它回来

> "epos"=>"文本框值"

**更新** 我尝试了以下语法无济于事

```
<%= text_field "epos", "", :placeholder => "Jou epos adres", :id => "epos", :class => "input-block-level" %> 
```

和

```
<%= text_field :epos, "", :placeholder => "Jou epos adres", :id => "epos", :class => "input-block-level" %> 
```

我仍然得到

```
Started POST "/home/kontak" for 127.0.0.1 at 2012-11-23 13:34:57 +0200
Processing by HomeController#kontak as JS
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"i+5UWaQeBu7LYGPFBNAbum+67VzyyC82JN2wMlLc/UU=", "epos"=>["asd"], "boodskap"=>["asd"], "commit"=>""} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:58:05.763

使用此格式而不是上述格式。

```
<%= text_field_tag :epos, "", :placeholder => "Jou epos adres", :id => "epos", :class => "input-block-level" %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T11:44:46.147

好的，我发现了自己的问题 :)

我将**text_field**替换为**text_field_tag**并将**text_area**替换为**text_area_tag**
现在它将正确的输出显示为 sting 项而不是数组项

```
Parameters: {"epos"=>"epos adr here", "boodskap"=>"boodskap here"} 
```

# database-design - 如何在 Dynamics CRM 2011 中创建“客户”类型的字段？

> ID：13526645
> 
> 赞同：0
> 
> 时间：2012-11-23T09:56:59.397
> 
> 标签：database-design, dynamics-crm, dynamics-crm-2011

有一个自定义实体**E**。我想在**E上添加一个查找字段，这是对****联系人**或**客户**类型（即客户/方）记录的引用。

例如，**Case**实体上有这样一个字段，“ **customerid** ”（客户类型）。

另一种方法（这是我在“普通”SQL 数据库上所做的）是添加两个字段：ref_contact、ref_account。

先感谢您！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T10:16:52.693

您不能在 CRM 中为多个实体创建查找字段。默认情况下，CRM 有两个特定的多实体查找：Customer 和 PartyList。查看[这篇文章](http://crmentropy.blogspot.com/2010/07/default-entity-for-multi-entity-lookups.html)了解详情。

# powershell - powershell-搜索账号过期的用户有office信息

> ID：13526649
> 
> 赞同：0
> 
> 时间：2012-11-23T09:57:06.510
> 
> 标签：powershell, active-directory

谁能告诉我如何使用 powershell 检索有关帐户过期的用户的 AD 信息，这些信息来自 Office 字段。

喜欢这个名字，办公室，过期

以及如何从登录服务器的用户帐户发送它。

顺便说一句：QADuser 不是一个选项。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-25T23:24:25.503

尝试这个：

```
foreach ($user in (gwmi -namespace "root/directory/ldap" -class "ds_user"))
{
    write " `
        $user.DS_name, `
        $user.DS_physicalDeliveryOfficeName,
        (w32tm /ntte $user.DS_accountExpires) `
        " `
    | Out-File ".\userlist.txt" -Append -Encoding ASCII;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T13:58:51.610

```
Import-Module ActiveDirectory 
Search-ADAccount -AccountExpiring -TimeSpan "365" -UsersOnly | Get-ADUser -Prop  
   Description,samAccountName,AccountExpirationDate | Select-Object  
   Name,samAccountName,Description,AccountExpirationDate | Sort-Object AccountExpirationDate |
   Format-Table -property * -AutoSize | Out-file "FilePath\name.txt" -Width 500 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T13:34:37.123

您可以这样做，只需使用 ADSI（在 PowerShell 1 中工作，无需任何管理单元）

```
Clear-Host
$dn = New-Object System.DirectoryServices.DirectoryEntry ("LDAP://WM2008R2ENT:389/dc=dom,dc=fr","jpb@dom.fr","PWD")

$dsLookFor = new-object System.DirectoryServices.DirectorySearcher($dn)
$dsLookFor.Filter = "(sAMAccountName=jblanc)"; 
$dsLookFor.SearchScope = "subtree"; 
$n = $dsLookFor.PropertiesToLoad.Add("cn"); 
$n = $dsLookFor.PropertiesToLoad.Add("distinguishedame");
$n = $dsLookFor.PropertiesToLoad.Add("samaccountname");
$n = $dsLookFor.PropertiesToLoad.Add("name");
$n = $dsLookFor.PropertiesToLoad.Add("accountexpires");
$n = $dsLookFor.PropertiesToLoad.Add("department");

$lstUsr = $dsLookFor.findall()
foreach ($usrTmp in $lstUsr) 
{
  Write-Host $usrTmp.Properties["samaccountname"]
  Write-Host $usrTmp.Properties["name"]
  #Write-Host $usrTmp.Properties["accountexpires"].value
  Write-Host $([datetime]::FromFileTime($($usrTmp.Properties["accountexpires"])))
  Write-Host $usrTmp.Properties["department"]
} 
```

# java - TransferHandler、JTable 和 JScrollPane

> ID：13526652
> 
> 赞同：0
> 
> 时间：2012-11-23T09:57:20.163
> 
> 标签：java, swing, scroll

因此问题是：我在 JScrollPane 中有一个稍微修改过的 JTable 实现。然后 JTable 注册了一个 TransferHandler 以便项目可以重新排序，并相互插入。

问题在于，一旦我们从 Java 中免费获得的拖放功能启动，滚动就无法获得适当的 MouseEvents 以使自动滚动工作。

我在 JavaDoc (http://docs.oracle.com/javase/7/docs/technotes/guides/swing/1.4/dnd.html) 上看到了对此的模糊参考。

但是我找不到一个有区别的解决方案，或者其他任何人都引用了同样的问题......那么有没有人把一些有用的知识放在那里？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-07T06:08:48.513

此行为的原因是拖放行为以及 TransferHandler 未配置为支持自动滚动的事实。一旦启动拖放，TransferHandler 就会接管鼠标事件，这意味着 JTable 的自动滚动行为不会被执行。

文档中对此只有模糊和模糊的引用，下面提供了链接：

[http://docs.oracle.com/javase/7/docs/technotes/guides/swing/1.4/dnd.html](http://docs.oracle.com/javase/7/docs/technotes/guides/swing/1.4/dnd.html) （关键字：BasicDropTargetListener）

[http://www.mpi-inf.mpg.de/departments/d5/teaching/ss05/is05/javadoc/javax/swing/plaf/basic/BasicDropTargetListener.html](http://www.mpi-inf.mpg.de/departments/d5/teaching/ss05/is05/javadoc/javax/swing/plaf/basic/BasicDropTargetListener.html)

# javascript - 获取工具提示的宽度并计算位置（Twitter Bootstrap）

> ID：13526653
> 
> 赞同：3
> 
> 时间：2012-11-23T09:57:28.753
> 
> 标签：javascript, jquery, twitter-bootstrap, tooltip

[这是对我之前的问题](https://stackoverflow.com/questions/13515364/dynamically-position-bootstrap-tooltip-for-dynamically-generated-elements/13516190#comment18517698_13516190)的跟进。

我需要动态放置引导工具提示。为此，我需要知道触发工具提示的元素的位置（工作正常）以及应该显示的工具提示的宽度：

编辑澄清：我的工具提示是动态生成的，然后插入到内容中。例如，如果它们太靠近屏幕的左边缘，我需要将它们放置在“右”而不是“顶部”。现在我想让工具提示的宽度仅在它实际离开屏幕时才“正确”放置。

```
$('body').tooltip({
    delay: { show: 300, hide: 0 },
    selector: '[rel=tooltip]:not([disabled])',
    placement: function(tip, element) {
        var offsetLeft = $(element).offset().left;
        var offsetRight = ( $(window).width() - ( offsetLeft + $(element).outerWidth() ) );

        // need help here: how to get the width of the current tooltip?
        // currently returns "0" for all elements
        var tooltipWidth = $(tip).outerWidth();
        console.log(tooltipWidth);

        if (offsetLeft < 220) {
            return 'right';
        }
        if (offsetRight < 220) {
            return 'left';
        }
        else {
            return 'top';
        }
    }
}); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T14:06:57.730

从逻辑的角度来看这是不可能的 :) 想一想——工具提示调用放置函数来获取其位置，*然后*将提示插入页面并为其设置样式。

但是，您可以创建一个与即将推出的尖端具有相同功能的虚拟尖端，并由此获得宽度。像这样 ：

```
$('body').tooltip({
    delay: { show: 300, hide: 0 },
    placement: function(a, element) {

        //title is by tooltip moved to data-original-title
        var title=$(element).attr('data-original-title');

        //create dummy, a div with the same features as the tooltïp
        var dummy=$('<div class="tooltip">'+title+'</div>').appendTo('body');
        var width=$(dummy).width();
        dummy.remove();

        //now you have width 
        //..
        //..

        var position = $(element).position();
        if (position.left > 515) {
            return "left";
        }
        if (position.left < 515) {
            return "right";
        }
        if (position.top < 110){
            return "bottom";
        }
        return "top";
    },
    selector: '[rel=tooltip]:not([disabled])'
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-27T06:03:19.817

你可以使用：

```
 var dummy = $('<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner">' + title + '</div></div>').appendTo('body'); 
```

获得与工具提示 div 相同的高度和宽度的确切 div。

# python - 跟踪多色对象

> ID：13526654
> 
> 赞同：2
> 
> 时间：2012-11-23T09:57:29.803
> 
> 标签：python, opencv, tracking

我想跟踪一个多色对象（4 种颜色）。目前，我正在将图像解析为 HSV 并在相机馈送上应用多个滤色器范围，最后将过滤后的图像相加。然后我根据面积过滤轮廓。

这种方法在大多数情况下都相当稳定，但是当外部光线稍有变化时，由于色调值变得混乱而无法识别对象，并且难以跟踪对象。

此外，由于我根据区域过滤轮廓，因此我经常会出现误报，并且有时无法正确跟踪对象。

您对摆脱这些问题有什么建议吗？我可以使用其他方法来跟踪它，而不是单独过滤颜色，然后添加图像并搜索轮廓吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T14:04:23.360

对于完整的证明轨道，您需要结合多种方法...以下是一些提示...

1.  如果您对对象有先验知识，那么您可以使用模板匹配...但是模板匹配的过程很少...如果您使用的是 GPU，那么您可能会有一些好处

2.  从您的文章来看，我认为外部光线的变化程度较小……因此，在此基础上，您可以使用 opencv 的 goodfeaturestotrack 功能并使用光流仅跟踪 goodfeaturestotrack 在视频的下一帧中找到的那些点

3.  如果除了一些亮度变化之外背景是稳定的，并且物体的运动量比背景大，那么您可以从当前帧中减去前一帧以获得移动对象的位置......这是一种快速简便的变化检测技术...

4.  基于面积过滤轮廓是个好主意，但尝试在过滤条件中添加更多特征......即您可以尝试基于椭圆度、边界框的纵横比等进行过滤......

5.  最后...如果您对物体的运动路径有任何先验知识，您可以使用卡尔曼滤波器...

6.  如果背景几乎没有变化或在某种程度上变化，那么你可以尝试高斯混合模型来模拟背景......而变化的球是你的前景......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T18:43:36.220

您可以根据可用的光源尝试拥有多个或无限数量的对象模型，然后将您的对象分类为具有光源之一的对象或不具有该对象的对象。注意：这是解决问题的机器学习类型的方法。

使用卡尔曼滤波器、扩展卡尔曼滤波器或粒子滤波器（取决于您的应用程序）进行滤波将是一个好主意，这样您就可以“记忆”最近跟踪的特征，并对下一个跟踪的颜色/特征有预期近期（即，如果您刚刚看到该对象，那么它很有可能在下一帧中没有消失）。

总的来说，这是一个我在做机器人研究时遇到过几次的难题。唯一可靠的解决方案是学习模型，并根据您的系统实际看到的内容来确认或否认它们。任何数量的机器学习方法都应该有效，但最简单的可能是支持向量机。最强大的可能是高斯过程（如果你想做无限数量的模型）。祝你好运，不要太沮丧；这不是一个简单的问题！

# c# - Cookie 获取过期自己

> ID：13526655
> 
> 赞同：0
> 
> 时间：2012-11-23T09:57:32.737
> 
> 标签：c#, .net, cookies, session-cookies

我有一个电子商务网站。我使用饼干。但是一些客户向我报告了关于 cookie 的错误。用户将产品添加到购物车后，我创建了一个 cookie。单击立即购买按钮后，cookie 将在 mycart.aspx 页面中过期。你可以在所属图片中看到我的历史。

我将产品添加到购物车，一切正常 => ![在此处输入图像描述](../Images/9a35a0c9dde9bde3a68f5a92b1c9108a.png)

如您所见，过期日期也可以。

![在此处输入图像描述](../Images/f215a48412a5b6d0b6e14adb19f26453.png)

在我点击立即购买按钮后，重定向到 mycart.aspx 但它说，购物车是空的。

![在此处输入图像描述](../Images/351cbd9c6f6a62627801018274e54719.png)

当我检查 cookie 过期时间时，我看到了这个视图。Cookie 已过期。

![在此处输入图像描述](../Images/1d8595b50e0445f837153b196a99ed7a.png)

这是我的 cookie 集和获取代码：

```
public bool SetCookie(string cookieName, object cookieValue, DateTime expirationDate)
{
    try
    {

        //Eğer atanmak istenen cookie daha önce oluşturuldu ise, içini boşaltıyoruz.
        if (HttpContext.Current.Request.Cookies[cookieName] != null)
        {
            HttpContext.Current.Request.Cookies.Remove(cookieName);
        }

        BinaryFormatter bf = new BinaryFormatter();
        MemoryStream ms = new MemoryStream();
        bf.Serialize(ms, cookieValue);
        byte[] bArr = ms.ToArray();

        MemoryStream objStream = new MemoryStream();

        //stream nesnesini sıkıştır
        DeflateStream objZS = new DeflateStream(objStream, CompressionMode.Compress);
        objZS.Write(bArr, 0, bArr.Length);
        objZS.Flush();
        objZS.Close();

        byte[] bytes = objStream.ToArray();
        string sCookieVal = Convert.ToBase64String(bytes);

        HttpCookie cook = new HttpCookie(cookieName);
        cook.Value = sCookieVal;
        cook.Expires = expirationDate;
        HttpContext.Current.Response.Cookies.Add(cook);

        return true;
    }
    catch (Exception exc)
    {
        throw exc;
    }
}

public object GetCookie(string cookieName)
{
    if (cookieName == null) throw new ArgumentNullException("cookieName");
    try
    {
        if (HttpContext.Current.Request.Cookies[cookieName] != null)
        {
            if (HttpContext.Current.Request.Cookies[cookieName].Value != "")
            {
                byte[] bytCook =
                    Convert.FromBase64String(HttpContext.Current.Request.Cookies[cookieName].Value);
                MemoryStream inMs = new MemoryStream(bytCook);
                inMs.Seek(0, 0);

                DeflateStream zipStream = new DeflateStream(inMs, CompressionMode.Decompress, true);
                byte[] bArr = ReadFullStream(zipStream);
                zipStream.Flush();
                zipStream.Close();

                MemoryStream outMs = new MemoryStream(bArr);
                outMs.Seek(0, 0);

                BinaryFormatter bf = new BinaryFormatter();
                return bf.Deserialize(outMs, null);
            }
        } return null;
    }
    catch (Exception ex)
    {
        throw (ex);
    }
} 
```

你知道会发生什么吗？

# python - 如何优化python随机函数

> ID：13526657
> 
> 赞同：0
> 
> 时间：2012-11-23T09:57:39.870
> 
> 标签：python, random, python-3.x

我想在 python 中生成 0 到 380 万之间的随机数，但是生成这样的数字需要 1 秒，那么有什么好的方法可以更快地生成它吗？

```
from random import randint

randomIndex = randint(1, 3800000)
print randomIndex 
```

这是 1 秒，不是每次，但有时我想优化它，有什么解决方案吗？

还有一些好的算法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:59:21.157

如果你想加快你的代码，你可以尝试使用`numpy`包。

在我的系统上，随机给我：

```
$ python -mtimeit "from random import randint" "randint(1, 3800000)"
100000 loops, best of 3: 9.14 usec per loop 
```

和麻木：

```
$ python -mtimeit "from numpy import random" "random.randint(1, 3800000)"
100000 loops, best of 3: 3.6 usec per loop 
```

加速约 2.5 倍。

# javascript - 从 Javascript 对象中删除键的每个实例

> ID：13526658
> 
> 赞同：0
> 
> 时间：2012-11-23T09:57:50.380
> 
> 标签：javascript, jquery

有人可以解释一下我在这里做错了什么：

我有以下代码：

```
 console.log(table);
$.each(datatableFields, function (a, b) {
    if ($.inArray(b.substring(0, 3), neededFields) == -1) {
        console.log('deleting ' + b);
        delete table[b];
    }
});
console.log(table); 
```

我想要实现的目标应该很简单：

我有一个 Javascript 对象，我想“剥离”并删除任何不必要的字段。

'neededFields' 数组简单包含我希望保留的字段列表，不在该数组中的任何内容都将从主对象中删除。

运行上面的代码，我可以确认逻辑工作正常，并且确实 Firebug 向我显示了“删除###”完美地删除了主对象中的任何字段，而不是“neededFields”中的任何字段。

但...

我的 'delete table[b]' 命令似乎没有按预期工作，因为两个 'console.log(table)' 返回相同的结果！

有什么想法吗？

例如，如果我有以下对象：

> {ABC:123, CDE:456, FGH:789, IJK:012, LMN:345},
> 
> {ABC:123, CDE:456, FGH:789, IJK:012, LMN:345},
> 
> {ABC:123, CDE:456, FGH:789, IJK:012, LMN:345},
> 
> {ABC:123, CDE:456, FGH:789, IJK:012, LMN:345},
> 
> {ABC:123, CDE:456, FGH:789, IJK:012, LMN:345},
> 
> {ABC:123, CDE:456, FGH:789, IJK:012, LMN:345},
> 
> {ABC:123, CDE:456, FGH:789, IJK:012, LMN:345} (等等......)

并删除某些键（比如 IJK 和 ABC），我的最终结果将是：

> {CDE:456, FGH:789, LMN:345},
> 
> {CDE:456, FGH:789, LMN:345},
> 
> {CDE:456, FGH:789, LMN:345},
> 
> {CDE:456, FGH:789, LMN:345},
> 
> {CDE:456, FGH:789, LMN:345},
> 
> {CDE:456, FGH:789, LMN:345},
> 
> {CDE:456, FGH:789, LMN:345} (等等......)

*编辑*

“datatableFields”是一个包含主对象中所有键的数组，同样，“neededFields”是一个包含需要保留的键的数组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:04:45.587

替换您的以下行：

```
delete table[b]; 
```

对于这个：

```
delete table[a]; 
```

因为元素的索引在`$.each`回调的第一个参数上，所以它是`a`您示例中的参数，而`b`包含值，请参阅[jQuery.each()](http://api.jquery.com/jQuery.each/)了解详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-13T20:40:45.257

您是否考虑过为此使用 Array.map

```
function neededFields( a_field ) {

  delete a_field["IJK]
  return a_field; 
}

datatableFields.map( neededFields ); 
```

[http://jsfiddle.net/aartiparikh/XaXeA/](http://jsfiddle.net/aartiparikh/XaXeA/)

# google-app-engine - 重定向到 Google 应用引擎中的特定 URL

> ID：13526660
> 
> 赞同：4
> 
> 时间：2012-11-23T09:58:07.167
> 
> 标签：google-app-engine, redirect, gql

我在谷歌应用引擎中工作，我想将浏览器重定向到从数据存储区检索的特定 URL。

存储 URL 的模型是这样的，

```
class WebReference(db.Model):
    website = db.StringProperty()
    webreferecnce=db.StringProperty() 
```

我的代码是，

```
query = db.GqlQuery("SELECT * FROM WebReference where webreferecnce = '10'")
            results = query.fetch(1)
            for r in results:
                self.redirect(r.website) 
```

我想将 URL 重定向到 webreference 编号为 10 的网站。这是在 localhost 上运行的，但在上传后没有。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:00:53.117

您选择 where r.webreferecnce = '10' 然后重定向到字段 webreferecnce 的值，即 10。也许您的意思是

self.redirect(r.website)，如果那是你的 URL 存储的地方。基本上，想想你真正想做的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T06:40:08.283

试试这个，这对我有用，不要忘记将 url 转换为 str(YourURLgoesHere) 这样的字符串

```
result = WebReference.gql("WHERE webreferecnce= :1", parameter)
    for record in result.run(limit=1):
        self.redirect(str(record.website)) 
```

# html - 如何将网站的内容解析或获取为字符串并拥有和输出？

> ID：13526661
> 
> 赞同：1
> 
> 时间：2012-11-23T09:58:07.097
> 
> 标签：html, parsing

为我的问题寻找可能的答案已经一周了，我正在制作一个可以获取网站内容的程序......我很难处理它。这是我的代码..

`Dim xmlstring As String = "<TBODY><TR><TD>**20121123-034**</TD><TD><I class="ball">**3**</I>&nbsp;<I class="ball">**6**</I>&nbsp;<I class="ball">**6**</I>&nbsp;<I class="ball">**4**</I>&nbsp;<I class="ball">**7**</I></TD><TD>**2012-11-23 11:40**</TD></TR> </TBODY>"`

Dim sr 作为新 System.IO.StringReader(xmlstring)

将文档暗淡为新的 Xml.XmlDocument

```
 doc.LoadXml(xmlstring) 
```

昏暗阅读器作为新的 Xml.XmlNodeReader(doc)

```
 While reader.Read

    Select Case reader.NodeType

       Case Xml.XmlNodeType.Element

    If reader.Name = "I" Then

    MessageBox.Show(reader.GetAttribute("ball"))

    RichTextBox2.Text = doc.InnerText

    Else

     MessageBox.Show("-__-")

    End If

    End Select
    End While 
```

` 这是网站来源的一部分

```
<TBODY><TR><TD>**20121123-034**</TD><TD><I class="ball">**3**</I>&nbsp;<I class="ball">**6**</I>&nbsp;<I class="ball">**6**</I>&nbsp;<I class="ball">**4**</I>&nbsp;<I class="ball">**7**</I></TD><TD>**2012-11-23 11:40**</TD></TR> 
```

**粗体**数字是我想在文本框或富文本框中输出的数字。

上面的代码正在工作，但它只适用于“DIM XMLSTRING”声明中的文本......我希望它来自一个实时网站......

感谢你们！

# web-services - Catalyst：安全下载日志文件

> ID：13526663
> 
> 赞同：4
> 
> 时间：2012-11-23T09:58:11.150
> 
> 标签：web-services, perl, web-applications, logging, catalyst

我有以下问题：

我的 Catalyst Webservice 使用 Log4Perl 生成一个记录所有用户活动的日志文件。

我怎样才能将此文件提供为仅供管理员下载？根目录是没有选择的，因为每个人都可以下载它。我需要一个安全的方式。管理员在 Web 服务中有一个单独的区域来管理用户。

不幸的是，使用 ssh / sftp 也是没有选择的，日志必须通过 web 服务可用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T01:08:47.613

要按照@memowe 的建议构建日志文件发送操作，您需要一个控制器来执行以下操作：

1.  验证登录用户是管理员，如果不是则重定向。
2.  创建一个标量`$filehandle`来读取日志文件。
3.  使用`$c->res->content_type(something)`和`$c->res->header('Content-Disposition' => 'attachment')`强制将响应视为浏览器的下载，以显示“另存为...”对话框。
4.  设置`$c->res->body($filehandle)`为返回日志文件的内容并绕过您的视图渲染器（模板或其他）。

希望这能让你上路。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-04T11:08:39.613

对不起，这几天我真的很忙。
感谢您的帮助，这就是我构建的解决方案并且它有效:-)

```
sub log : Chained('base_admin') PathPart('log') Args(0) {
    my ( $self, $c ) = @_;
    my $logfile = $c->path_to('test.log');

    $c->response->header('Content-Type' => 'text/plain');
    $c->response->header('Content-Disposition' => 'attachment; filename=test.log');
    $c->serve_static_file($logfile);
} 
```

# java - Spring mvc 在 AWS 弹性 beantalk 中不起作用

> ID：13526668
> 
> 赞同：1
> 
> 时间：2012-11-23T09:58:18.670
> 
> 标签：java, spring, spring-mvc, amazon-web-services, amazon-elastic-beanstalk

我尝试在 Amazon Elastic Beanstalk 中使用 Spring MVC，但它失败了，但是当我在 localhost 上运行时，它工作得很好。

AWS 给我这个错误

```
org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 17 in XML document from ServletContext resource [/WEB-INF/spring/appServlet/servlet-context.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 17; columnNumber: 62; cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'resources'.
    org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:396)
    org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334) 
```

这是我的 servlet 上下文，我相信 aws 指出“web-resources/”mapping="/resources/**"“

行是问题所在，我已经检查，仔细检查并再次检查架构位置是否正确。

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
       xmlns:context="http://www.springframework.org/schema/context" 
       xmlns:mvc="http://www.springframework.org/schema/mvc" 
       xmlns:p="http://www.springframework.org/schema/p" 
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd     
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd     
       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd" >

    <!-- Turns on support for mapping requests to Spring MVC @Controller methods
         Also registers default Formatters and Validators for use across all @Controllers -->
    <mvc:annotation-driven />

    <!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources -->
    <mvc:resources location="/resources/, classpath:/META-INF/web-resources/" mapping="/resources/**"/>

    <!-- register "global" interceptor beans to apply to all registered HandlerMappings -->
    <mvc:interceptors>
        <bean class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor" p:paramName="lang"/>
    </mvc:interceptors>

    <!-- Resolves localized messages*.properties and application.properties files in the application to allow for internationalization. 
        The messages*.properties files translate messages, the application.properties
        resource bundle localizes all application specific messages such as entity names and menu items. -->
    <bean class="org.springframework.context.support.ReloadableResourceBundleMessageSource" id="messageSource" p:basenames="WEB-INF/i18n/messages,WEB-INF/i18n/application" p:fallbackToSystemLocale="false"/>

    <!-- store preferred language configuration in a cookie -->
    <bean class="org.springframework.web.servlet.i18n.CookieLocaleResolver" id="localeResolver" 
        p:cookieName="locale"/> 

    <!-- Resolves views selected for rendering by @Controllers to .jsp resources 
        in the /WEB-INF/views directory -->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix" value="/WEB-INF/views/" />
        <property name="suffix" value=".jsp" />
    </bean>

    <context:component-scan base-package="com.myweb.web.controller" />

</beans> 
```

请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T02:33:17.790

问题解决了，显然是因为elasticbeans无法加载我上传的最新版本，

我试图删除环境并再次上传.war，它可以工作

谢谢

# networking - 如何可视化具有周期性、螺旋形等边界条件的晶格？

> ID：13526677
> 
> 赞同：2
> 
> 时间：2012-11-23T09:58:32.173
> 
> 标签：networking, visualization

我正在尝试编写一个特殊的六边形晶格生成器，具有几种边界条件，例如螺旋BC，周期BC，我很难验证它是否正常工作。我尝试使用二维网络绘图（使用 networkx）来绘制它们，正如我所料，这完全是一团糟。现在我必须事先计算出邻接矩阵，并使用计算出的邻接矩阵验证生成的网络。常规格子没问题，但是如果我在格子上引入一些随机扰动，这种方法就很烦人了。如果我能看到正确绘制的网络会容易得多。

是否可以正确可视化具有各种边界条件的晶格？还是在其他软件工具中？有没有一种方便的方法来测试这种网络生成器？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-27T10:25:02.130

假设您拥有每个点的 3d 坐标，则一个相当简单（如果直截了当）的可视化工具是 gnuplot。Gnuplot 将为每个由换行符分隔的块绘制一条单独的线，所以这

```
0  1  0
0  1  1

0  1  0
0  2  0 
```

如果您发出命令，将绘制 2 条线，从 (0,1,0) 到两个点 (0,1,1) 和 (0,2,0)

```
splot 'somefile' with lines 
```

唯一的问题是，如果你在某条线上有 3 个点，并且你绘制一条线 AC 而不是 AB 和 BC，那就不清楚了。

但是，您将能够拖动以旋转 3d 绘图，这将有助于您的检查。

# uitableview - Storyboard IOS6 中的 Uisearchbar 和 Searchcontroller

> ID：13526679
> 
> 赞同：0
> 
> 时间：2012-11-23T09:58:38.383
> 
> 标签：uitableview, uiviewcontroller, uisearchbar, uisearchdisplaycontroller

我的以下搜索工作正常，但是我想将此代码添加到另一个使用情节提要的项目中。UIViewcontroller 工作正常，甚至通过 JSON 从数据库返回数据，但是我不断收到此错误

> ***由于未捕获的异常“NSInternalInconsistencyException”而终止应用程序，原因：“UITableView 数据源必须从 tableView 返回一个单元格：cellForRowAtIndexPath:”

我在情节提要上添加了导航控制器和 Uiviewcontroller，还添加了表格和自定义单元格

我还在 UIviewcontroller 中创建了 searchbar 和 searchbar-controllers 出口，并将它们拖放到情节提要上并将它们链接起来

我不知道为什么当我在uisearchbar上执行搜索时，立即抛出上面的错误

searchbarcontroller 从 uitableview 接收其数据源

这是部分代码

```
`#import <UIKit/UIKit.h>

@interface MyController : UIViewController < UITableViewDelegate, UITableViewDataSource> {
    UITableView *myTable;
    UINib *myCell;

    //Vars to hold json data
    NSMutableArray *ids;
    NSMutableArray *name;
    NSMutableArray *price;
    NSMutableArray *place;
    NSMutableArray *thumb;
    NSMutableArray *description;

    //Searchbar stuff
    IBOutlet UISearchBar *mySearchBar;
    IBOutlet UISearchDisplayController *searchController;

    // The saved state of the search UI if a memory warning removed the view.
    NSString    *savedSearchTerm;
    NSInteger   savedScopeButtonIndex;
    NSMutableArray *searchedID;
    NSMutableArray *searchedName;
    NSMutableArray *searchedPrice;
    NSMutableArray *searchedLocation;
    NSMutableArray *searchedThumbs;
    NSMutableArray *description;

}

   @property (nonatomic, retain) IBOutlet UITableView *myTable;
    @property (nonatomic, retain) IBOutlet UISearchDisplayController *searchController;
    @property (nonatomic, retain) IBOutlet UISearchBar *mySearchBar;

    @property (nonatomic, retain) NSMutableArray *ids;
    @property (nonatomic, retain) NSMutableArray *name;
    @property (nonatomic, retain) NSMutableArray *price;
    @property (nonatomic, retain) NSMutableArray *place;
    @property (nonatomic, retain) NSMutableArray *thumb;
    @property (nonatomic, retain) NSMutableArray *description;

    @property (nonatomic, copy) NSString *savedSearchTerm;
    @property (nonatomic) NSInteger savedScopeButtonIndex;
    @property (nonatomic) BOOL searchWasActive;

    @property (nonatomic, retain) NSMutableArray *searchedID;
    @property (nonatomic, retain) NSMutableArray *searchedName;
    @property (nonatomic, retain) NSMutableArray *searchedPrice;
    @property (nonatomic, retain) NSMutableArray *searchedLocation;
    @property (nonatomic, retain) NSMutableArray *searchedThumbs;
    @property (nonatomic, retain) NSMutableArray *searchedDescription;

    - (void)reloadTableViewDataSource;
    - (void)doneLoadingTableViewData;
    @end

MyController.m file

#import "MyController.h"

@implementation myController
@synthesize myTable;
@synthesize data, searcheddata
@synthesize savedSearchTerm, savedScopeButtonIndex, searchWasActive;

//Add the search bar

#pragma mark -
#pragma mark Table view data source

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {
    // Return the number of sections.
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    // Return the number of rows in the section.
    if (tableView == self.searchDisplayController.searchResultsTableView) {
        return [self.searchedIds count];
    } else {
        return [self.ids count];
    }
}

// Customize the appearance of table view cells.
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    MyCustomCell *cell = (MyCustomCell *)[tableView dequeueReusableCellWithIdentifier:@"MyCellID"];

    if (!cell)
    {
        NSArray *topLevelItems = [myCell instantiateWithOwner:self options:nil];
        cell = [topLevelItems objectAtIndex:0];
    }

    if (tableView == self.searchDisplayController.searchResultsTableView) {
        [[cell titles] setText:[searchedTitles objectAtIndex:indexPath.row]];
        [[cell prices] setText:[NSString stringWithFormat:@"%@", [searchedPrices objectAtIndex:indexPath.row]]];
        [[cell locations] setText:[NSString stringWithFormat:@"%@", [searchedLocation objectAtIndex:indexPath.row]]];
        //Set the image with async technology
        [[cell thumbs] setImageWithURL:[NSURL URLWithString:[searchedThumbs objectAtIndex:indexPath.row]] placeholderImage:[UIImage imageNamed:@"placeholder.png"]];

    } else {
        [[cell titles] setText:[title objectAtIndex:indexPath.row]];
        [[cell prices] setText:[NSString stringWithFormat:@"%@", [price objectAtIndex:indexPath.row]]];
        [[cell locations] setText:[NSString stringWithFormat:@"%@", [location objectAtIndex:indexPath.row]]];
        //Set the image with async technology
        [[cell thumbs] setImageWithURL:[NSURL URLWithString:[thumb objectAtIndex:indexPath.row]] placeholderImage:[UIImage imageNamed:@"placeholder.png"]];

    }
    return cell;
}
`

  [1]: http://i.stack.imgur.com/0ZNzq.png 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T14:59:01.930

尝试这种方法（将 self 添加到 tableView）：

```
MyCustomCell *cell = (MyCustomCell *)[self.tableView dequeueReusableCellWithIdentifier:@"MyCellID"]; 
```

# javascript - 内联验证不起作用

> ID：13526682
> 
> 赞同：0
> 
> 时间：2012-11-23T09:58:44.203
> 
> 标签：javascript, jsp

![在此处输入图像描述](../Images/3d052087139110683a4ee8226018717e.png)

在此网页中，我应用了在线验证，但它不起作用。

在 Jsp 代码中：

```
 <tr><td><label style="color: red;">*</label>Book No</td>
    <td><input type="text"                                                                                 size="20"                                            name="book_no"                                                 
    id="book_no"                          onchange="changeImg()"/></td>
    <td><img id="right" height="20px" src="right.jpg" style="display:none"/> 
    <img id="wrong" height="20px" src="wrong.jpg" style="display:none"/></td>
    </tr>

Inside Javascript page:
   function changeImg(){
if(document.getElementById('book_no').value!=""){
    document.getElementById('right').style.display="block";
    document.getElementById('wrong').style.display="none";

 }
else{
    document.getElementById('right').style.display="none";
    document.getElementById('wrong').style.display="block";

    } 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:17:07.457

```
 //javascript code
function ValidateForm()
        {   
           if(document .getElementById("<%=book_name.ClientID %>").value=="")
            {
                alert("Please Enter book Name");
                book_name.focus();
                return false;
            }

            return true;
        }
//aspcode
  <asp:Button ID="Submit" runat="server" Text="Submit" OnClientClick="return ValidateForm();" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:19:39.090

代替

```
onchange="changeImg()" 
```

和

```
onchange="this.changeImg()" 
```

之所以起作用，是因为**它**被设置为您的函数所在的**窗口对象。**

# android - Android ImageView 控件展示自己生成的图片

> ID：13526684
> 
> 赞同：0
> 
> 时间：2012-11-23T09:58:50.390
> 
> 标签：android

我想在 ImageView 控件中显示图像。此图将 EditText 信息编码为同一个 Activity 中的二维码。

那么我应该如何通过代码实现这一点呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:07:15.413

```
mageView iv = new ImageView(this);
iv.setImageResource(R.drawable.image);
RelativeLayout rl = (RelativeLayout) findViewById(R.id.RelativeLayout);
RelativeLayout.LayoutParams lp = new RelativeLayout.LayoutParams(
    RelativeLayout.LayoutParams.WRAP_CONTENT,
    RelativeLayout.LayoutParams.WRAP_CONTENT);
lp.addRule(RelativeLayout.BELOW, R.id.ButtonRecalculate);
lp.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);
rl.addView(iv, lp); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:12:05.200

您可以实现自己的`Drawable`类并将该类的实例设置为您`ImageView`的图像。

# ios - 从视图层次结构中的不同位置呈现两个视图控制器，因此只要发生中断，一个视图就可以位于顶部？

> ID：13526686
> 
> 赞同：0
> 
> 时间：2012-11-23T09:58:55.177
> 
> 标签：ios, view, interruption

我有一个应用程序，其中根视图控制器是一个具有多个选项卡控制器的 UITabBarController。当用户修改某些元素时，此选项卡控制器可以呈现其他视图控制器。当某个通知发生时，我想在所有其他可能视图的顶部呈现一个视图，即使其他一些控制器已经呈现出来。

没有中断时：

```
 (UITabController)
           |
           |
           |
      ---------------
     |       |       |
    Ctrl1  Ctrl2   Ctrl3
     |
     |
Presented ctrl (TopView) 
```

我试图这样做，但失败了：

中断时：

```
 (UITabController)----->(Presented Interruption View --> not visible)
           |
           |
           |
      ---------------
     |       |       |
    Ctrl1  Ctrl2   Ctrl3
     |
     |
Presented ctrl (TopView) 
```

管理可以在视图层次结构中随时随地呈现的视图的好方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-24T09:34:57.690

处理您的情况的一个好方法是模态显示视图控制器。然后它不会影响视图层次结构的其余部分。

在您的情况下， a`UINavigationController`将进行演示而不是`UITabBarController`.

制作一个单独的视图控制器并在中断期间以模态方式呈现它。

```
[ yourViewController presentViewController : viewControllerForInterruption animated : YES completion : ^{ // completion block 
 } ]; 
```

您可以使用相应的解除方法来恢复。

```
[ viewControllerForInterruption dismissViewControllerAnimated:YES completion:^{ // completion block
 } ]; 
```

注意：这些是适用于 iOS 6 的方法。

# java - 休眠加载/获取引用而不是新实例

> ID：13526689
> 
> 赞同：0
> 
> 时间：2012-11-23T09:59:01.067
> 
> 标签：java, hibernate, hibernate-mapping

当我 load() 一个对象休眠返回我一个代理对象，当我 get() 一个对象休眠返回我这个对象的一个​​新实例。

但是如果我有例如：一个练习有很多类别，一个类别有很多练习，并且有 4 个类别总是相同的：A、B、C、D

当我得到一个带有其类别的练习时，例如 A，然后也得到其他带有 A 的练习。

我有两个 A 的实例吗？因为 A 对于所有练习都是相同的。如何为所有练习共享相同的参考？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T11:30:36.850

Hibernate 的 Session*确保*没有重复的对象被加载。您将有多个对相同对象的引用。

如果您在 2 个会话中加载了相同的对象两次，然后您尝试将这两个对象保存在一个会话中，您将收到一个异常，指出有 2 个相同的对象与该会话关联。

# android - 为什么 setCanceledOnTouchOutside(false) 在警报生成器中不起作用？

> ID：13526690
> 
> 赞同：7
> 
> 时间：2012-11-23T09:59:05.687
> 
> 标签：android, dialog, android-alertdialog

我的活动中有一个警报对话框，不希望用户可以通过单击对话框外部来关闭它。根据我的研究（[像这样](https://stackoverflow.com/a/8384124/513413)），我找到了`setCanceledOnTouchOutside(false);`方法。但是，我无法在我的应用程序中使用它，并且可以在使用此方法时关闭对话框。

这是我的代码：

```
private AlertDialog alertDialog;
alertDialog = new AlertDialog.Builder(this).create();
alertDialog.setCanceledOnTouchOutside(false);
alertDialog.setTitle("");
alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, "OK", new DialogInterface.OnClickListener() {
public void onClick(DialogInterface dialog, int which) {
        switch (intAlertAction) {
            case 1:
            case 2:
            case 3:
            default:
        }
}
}); 
```

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-11-23T10:03:54.620

`setCanceledOnTouchOutside`仅通过单击对话框外部来防止关闭。但是您仍然可以使用后退按钮将其关闭。

如果您不希望您的对话框完全可以取消，请使用`dialog.setCancelable(false)`

我刚刚测试了您的（固定）代码，它按预期工作：用户在单击它时无法关闭对话框。试试看：

```
 AlertDialog alertDialog;
    alertDialog = new AlertDialog.Builder(this).create();
    alertDialog.setCanceledOnTouchOutside(false);
    alertDialog.setTitle("");
    alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, "OK",
            new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int which) {
                }
            });
    alertDialog.show(); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-26T14:59:17.093

这是一个有趣的问题，我想我知道你的答案。

我一直在不同平台上测试应用程序，我注意到它们之间存在细微差别。在 android 4.0 以上，当您触摸 Toast 消息时，它就会消失。我想对话框（和 AlertDialogs）也是如此。触摸时它只是“消失”（但它没有被解雇！ - 只是看不到）。

希望它有所帮助！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-05T07:50:43.833

只需添加`dialog.setCancelable(false)`以禁用后退按钮。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-23T11:27:39.307

添加`setCancelable(false)`您的`AlertDialog`示例：

```
AlertDialog alertDialog;
alertDialog = new AlertDialog.Builder(this).create();
alertDialog.setCanceledOnTouchOutside(false);
alertDialog.setCancelable(false);
alertDialog.setTitle("");
alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, "OK",
        new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {
            }
        });
alertDialog.show(); 
```

# android - Android SDK工具21：使用选项卡编译的帮助

> ID：13526693
> 
> 赞同：5
> 
> 时间：2012-11-23T09:59:10.667
> 
> 标签：android, android-sdk-tools, android-4.2-jelly-bean

![在此处输入图像描述](../Images/7c52fec8e9c136b7dda967255b49efca.png)

最近我更新了 SDK，出现了这个新的“编译方式”选项。这是什么意思？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T10:06:51.137

这意味着尽管有 targetSdk，但仍将使用“使用 SDK 编译”版本。这有助于针对更高版本的 SDK 并避免意外使用更新的 API。或者，换句话说，您希望以 API17 为目标，但不费吹灰之力就与 API8 保持兼容。因此，您将目标设置为 API17，但使用 API8 进行编译。现在，如果您出于任何原因使用 API9 或更高版本中引入的任何内容进行编码，它将无法编译。以前的应用程序是使用设置为目标 sdk 的 API 版本构建的

**编辑**

仔细看后，我认为这是坏的。它基本上既不保存在 project.properties 也不保存在其他地方，因此它并没有真正用于描述的目的，在“新项目向导”之外，它将生成代码/布局存根以匹配“编译”API 版本。

填写错误报告：[http ://code.google.com/p/android/issues/detail?id=40286](http://code.google.com/p/android/issues/detail?id=40286)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-16T10:43:56.373

Compile With 是编译应用程序的平台版本。默认情况下，这设置为您的 SDK 中可用的最新版本的 Android。（它应该是 Android 4.1 或更高版本；如果您没有这样的版本，您必须使用 SDK 管理器安装一个）。您仍然可以构建您的应用程序以支持旧版本，但将构建目标设置为最新版本允许您启用新功能并优化您的应用程序，以便在最新设备上获得出色的用户体验。 [资源](http://developer.android.com/training/basics/firstapp/creating-project.html)

# asp.net - 如何将月份名称显示为矩阵 RDLC 控件中的标题，因为它在结果集中？

> ID：13526695
> 
> 赞同：3
> 
> 时间：2012-11-23T09:59:23.227
> 
> 标签：asp.net, reportviewer

我的存储过程返回这样的结果集。

![在此处输入图像描述](../Images/31a3bec53b41e1a41a018ec74b084b57.png)

我在 RDLC 报告中使用矩阵控件。所以报告看起来像这样。

![在此处输入图像描述](../Images/2d4a578788417f707f262c0211cc91d1.png)

您可以在报告中看到月份不是从 Jan 开始的。我想按 JAN、FEB、MAR ......等的顺序显示列。任何人都可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:50:04.360

Set Sorting in the Grouping and Sorting Properties to sort by this expression:

```
=iif(Fields!DataSetField.Value = "ColumnName", "zzz", Fields!DataSetField.Value) 
```

Where "zzz" could be a number or whatever you need it to be to help the sort and then select Direction as either Ascending or Descending base on this expression.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-02T10:07:07.587

1.  您可以将存储过程修改为也生成月份为 1 - 12
2.  或者可能添加一个计算列，结果为 1 iif months == "jan" 等等......

然后您可以在列分组时指定排序依据（新的整数类型列）。

另一种方式是直接设置排序依据，使用多个iif：

```
=iif(Fields!Months.Value="JAN",1,(iif(Fields!Months.Value="FEB",2,([and so on..]))) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-16T08:35:15.890

右键单击 Tablix 标题并选择**Tablix 属性...** 单击**排序** 单击添加并输入以下公式：

```
=Month(Fields!Month.Value & " 01 2014") 
```

# android - 安装 JDK 后 Javah 丢失（Linux）

> ID：13526701
> 
> 赞同：2
> 
> 时间：2012-11-23T09:59:40.620
> 
> 标签：android, linux, javah

我正在尝试在 Fedora17 上使用 Eclipse (Indigo) 设置 Android 开发。几乎所有东西似乎都可以工作，只是缺少 javah 来构建 C 头文件，用于本机（NDK / JNI）模块。

在我的工具链的 Windows 安装中，它位于 javac 所在的同一文件夹中，但在 Linux 机器上并非如此。

我之前安装了Oracle的JDK1.7，发现它对于我想做的其他事情来说是新的（但也有，没有javah），卸载它，现在安装了JDK1.6。

可能有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T11:49:18.280

在 linux 机器中，JavaH 通常位于`/usr/bin/javah`.

如果您尝试使用 查找此文件`locate`，通常最好在之前运行`updatedb`，因为除非此命令由用户或 cron 作业运行，否则数据库不会更新。您可以尝试使用`find / |grep javah`

PS很抱歉将其发布为asnwer。我想正确的方法是发表评论，但仍然没有足够的声誉发表评论

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-04-08T14:36:12.407

此工具已从 JDK 中删除

[https://openjdk.java.net/jeps/313](https://openjdk.java.net/jeps/313)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-15T00:14:13.707

事实证明，`javah`在 JDK 安装期间没有创建链接。您必须手动创建它：

检查安装位置`java`：

```
$ ls -l `which java`
lrwxrwxrwx root root 26 15 juil. 02:05 /usr/bin/java -> /usr/java/default/bin/java 
```

在同一目录中创建符号链接：

```
$ su
# cd /usr/bin
# ln -s /usr/java/default/bin/javah 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-19T23:33:44.467

尝试`gjavah`而不是`javah`？

# java - 填充 ListView 时，LinearLayout 被“推送”

> ID：13526703
> 
> 赞同：0
> 
> 时间：2012-11-23T09:59:44.980
> 
> 标签：java, android, listview, android-linearlayout

```
<LinearLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >
    <LinearLayout 
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/buttonLayout" 
        android:layout_height="wrap_content"
        android:layout_width="fill_parent"
        android:layout_weight="1">
        <Button
        android:id="@+id/vehicleButton"
        android:layout_height="wrap_content"
        android:layout_width="fill_parent"
        android:layout_weight="1"
        android:text="Refresh"
        android:onClick="getVehicles" />
        <Button
        android:id="@+id/logoutButton"
        android:layout_height="wrap_content"
        android:layout_width="fill_parent"
        android:layout_weight="1"
        android:text="Logout"
        android:onClick="logout" />
    </LinearLayout>

    <ListView
        android:id="@+id/android:list"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >
    </ListView>

</LinearLayout> 
```

大家好，当上面的 ListView 只填充了几个项目时，我仍然可以看到按钮，但是，当 ListView 填充的内容超过屏幕可以显示的内容时，按钮似乎被“推”到 UI 上方并且是不再可见，现在只有可滚动的 ListView 可见。

关于如何使按钮再次出现在更长的列表中，有什么想法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:06:32.130

尝试将 ListView 包装在 LinearLayout 中。您正在为按钮添加权重以确保它们出现，但是当 ListView 呈现时，它似乎导致了这种情况。让我知道这是否有帮助。

```
<LinearLayout
    android:layout_height="0"
    android:layout_width="fill_parent"
    android:layout_weight="0"
    android:orientation="vertical">
    <ListView
        android:id="@+id/android:list"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >
    </ListView>
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-28T13:48:36.097

作为参考，我使用以下方法解决了这个问题：

```
<RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical">
        <LinearLayout 
            android:id="@+id/buttonLayout" 
            android:layout_height="40dp"
            android:layout_width="match_parent"
            android:orientation="horizontal">
            <Button
            android:id="@+id/vehicleButton"
            android:layout_height="wrap_content"
            android:layout_width="fill_parent"
            android:layout_weight="1"
            android:text="Refresh"
            android:onClick="getVehicles" />
            <Button
            android:id="@+id/mapButton"
            android:layout_height="wrap_content"
            android:layout_width="fill_parent"
            android:layout_weight="1"
            android:text="Map" />
            <Button
            android:id="@+id/logoutButton"
            android:layout_height="wrap_content"
            android:layout_width="fill_parent"
            android:layout_weight="1"
            android:text="Logout"
            android:onClick="logout" />
        </LinearLayout>
        <ListView
            android:id="@+id/android:list"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:layout_below="@id/buttonLayout">
        </ListView>
</RelativeLayout> 
```

所以我使用了相对布局，并将 android:layout_below="@id/buttonLayout 添加到 listview 以强制它显示在 buttonLayout 下面

# javascript - javaScript 幻灯片无法正常工作

> ID：13526709
> 
> 赞同：1
> 
> 时间：2012-11-23T10:00:17.663
> 
> 标签：javascript, jquery, slideshow

我是一个相对初学者，我了解 CSS 和 HTML，但 JS 或 jQuery 主要通过复制和粘贴发生，所以请保持公平。

[www.iamreckoner.com/neuzwei](http://www.iamreckoner.com/neuzwei)

在这里，我实现了幻灯片（works.js）。

它适用于 Mozilla 和 Opera，在 Safari 上它只显示前 2 个图像然后变为空白，有时这也发生在 Mozilla 上。我已经尝试过实现预加载器，但这没有帮助。有人有想法吗？我从另一个页面复制了脚本，它每次都能在所有浏览器上正常运行，并且还调整了我的 CSS。在 Dreamweaver 的预览模式下，它可以正常工作（Safari 除外）

这是我请求后的代码，首先是标题，然后是第一个幻灯片和works.js（我从另一个页面未经修改地复制了它）

```
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="kiosk.css">
<link rel="stylesheet" type="text/css" href="jquery-ui-1.8.16.custom.css">
<script type="text/javascript" src="scripts/jquery-1.6.1.min.js"></script>
<script type="text/javascript" src="scripts/jquery-ui-1.8.16.custom.min.js"></script>
<script type="text/javascript" src="scripts/works.js"></script>
<script type="text/javascript" src="scripts/jquery.scrollTo.js"></script>
<script type="text/javascript" src="scripts/jquery.localScroll.js"></script>
<script type="text/javascript" src="scripts/waypoints.min.js"></script>
<script type="text/javascript" src="http://jqueryrotate.googlecode.com/svn/trunk/jQueryRotate.js"></script>       

<div class="work" style="margin-left:10%; margin-top:100px;" data-date="2012" data-category="1">
    <div class="images" style="width:900px;height:600px;">
        <div>
            <img src="pic/f_i.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_cover.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_01.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_02.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_03.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_04.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_05.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_06.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_07.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_08.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_09.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_10.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_11.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_12.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_13.jpg" style="width=:900px;height:600px"/>
            <img src="pic/f_14.jpg" style="width=:900px;height:600px"/>
        </div>
    </div>

    <div class="text" style="width:700px;left:254px; position:absolute;">
        <p>Burkhardt Senger Fotografien — 78 pages, 170x250mm, 2012 </p>
    </div>
</div> 
```

这是`works.js`

```
$(function() {
    var width = 0;
    $('.images img').each(function() {
        width += $(this).width();
    });

    $('.images div').css('width', width);

    $('.images div').each(function() {
        var images = $(this).children('img');
        if (images.length < 2) images.css('cursor', 'auto');
    });

    $('.images img').mousemove(function(e) {
        if (e.offsetX < $(this).width() / 2) {
            $(this).addClass('cursorLeft');     
        } else {
            $(this).removeClass('cursorLeft');
        }
    }).click(function(e) {
        e.preventDefault();  

        var currentImage = $(this).parent().parent().attr('data-current');

        if (currentImage == undefined) {
            currentImage = 0;
        }

        var images = $(this).parent().children('.images img');

        if (images.length < 2) return;

        if (e.offsetX < $(this).width() / 2) {
            if (currentImage == 0) {
                var pos = 0;
                for (var i = 0; i < images.length-1; i++) {
                    pos += $(images[i]).width();
                }

                $(this).parent().animate({
                    left: -pos
                }, 250);
                currentImage = images.length - 1;
            } else {
                $(this).parent().animate({
                    left: '+='+$(images[currentImage]).width()
                }, 250);
                currentImage--; }       
            } else {
                if (currentImage == images.length - 1) {
                    $(this).parent().animate({
                        left: 0
                    }, 250);
                    currentImage = 0;
                } else {
                    $(this).parent().animate({
                        left: '-='+$(images[currentImage]).width()
                    }, 250);
                    currentImage++;
                }       
            }
            $(this).parent().parent().attr('data-current', currentImage);
        });

    function cleanMenu() {
        $('.menus .highlighted').removeClass('highlighted');
    }

    $('.work .images, .work .text').mouseover(function() {
        var date       = $(this).parent().attr('data-date');
        var categories = $(this).parent().attr('data-category').split(',');

        cleanMenu();

        if (date < 2009) {
            $('#date_before').addClass('highlighted');      
        } else {
            $('#date_'+date).addClass('highlighted'); 
        }

        for (var i = 0; i < categories.length; i++) {
            $('#category_'+categories[i]).addClass('highlighted');  
        }
    }).mouseleave(function() {
        cleanMenu();
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:24:50.520

问题在于您的 html

```
<img src="pic/f_07.jpg" style="width=:900px;height:600px"/> 
```

将其更改为

```
<img src="pic/f_07.jpg" style="width:900px;height:600px;"/> 
```

然后再次检查并确保图像、js 和 css 的路径正确。

# java - 在 JTable 中随机选择多行

> ID：13526711
> 
> 赞同：2
> 
> 时间：2012-11-23T10:00:22.800
> 
> 标签：java, swing, jtable, row

我可以在 JTable 中随机选择多行吗？

我试过了

```
table.setRowSelectionInterval(index 0, index 2); 
```

它将选择三行 0,1 和 2，但我需要跳过索引 1 的选择。

我怎样才能做到这一点？

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T10:22:40.093

没有办法通过单个方法调用设置不连续的选择，您至少需要两个：

```
table.setRowSelectionInterval(0, 0);
table.addRowSelectionInterval(2, 2); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-23T12:34:23.167

设置Jtable属性- selectionModel- 多区间选择

应该使用 setRowSelectionInterval(i,j) 完成第一行选择 随后的行选择（在同一个 JTable 中）应该使用 addRowSelectionInterval(i,j) 完成

利用

```
ListSelectionModel selectionModel = 
  jTable1.getSelectionModel();
selectionModel.setSelectionInterval(1, 1);//for first row selection
selectionModel.addSelectionInterval(3, 3);
selectionModel.addSelectionInterval(5, 5); 
```

这个

和链接： [http ://www.jguru.com/faq/view.jsp?EID=11760](http://www.jguru.com/faq/view.jsp?EID=11760)

# html - 使用 CSS 使 Div 可拖动

> ID：13526712
> 
> 赞同：45
> 
> 时间：2012-11-23T10:00:24.520
> 
> 标签：html, css

我想让 ID 为“drag_me”的 div 标签可以从左侧拖动到 300px 的长度，从顶部拖动到 460px 的长度，仅使用 CSS。

我也想让它调整大小。再次与上面相同的条件，即没有 Javascript 或 jquery。

任何人都可以提出解决方案...

在此先感谢大家

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-05-16T05:10:43.600

这是没有 JavaScript 可以做到的最好的事情：

```
[draggable=true] {
  cursor: move;
}

.resizable {
  overflow: scroll;
  resize: both;
  max-width: 300px;
  max-height: 460px;
  border: 1px solid black;
  min-width: 50px;
  min-height: 50px;
  background-color: skyblue;
}
```

```
<div draggable="true" class="resizable"></div>
```

**[演示](http://jsbin.com/exeheb/1/edit)**

*   [`draggable`HTML5 Rocks 上的属性](http://www.html5rocks.com/en/tutorials/dnd/basics/)
*   [`resize`MDN 上的CSS属性](https://developer.mozilla.org/en-US/docs/Web/CSS/resize)

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-11-23T10:06:06.727

你可以看看 HTML 5，但我不认为你可以限制你可以拖动它的区域，只是目的地：

[http://www.w3schools.com/html/html5_draganddrop.asp](http://www.w3schools.com/html/html5_draganddrop.asp)

如果你不介意使用一些很棒的库，我会鼓励你尝试[Dragula](https://github.com/bevacqua/dragula)。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2012-11-23T10:03:43.420

仅使用 css 技术这对我来说似乎是不可能的。但是你可以使用 jqueryui [draggable](http://jqueryui.com/draggable/)：

```
$('#drag_me').draggable(); 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2012-11-23T10:20:37.313

CSS 旨在描述文档的呈现方式。它有一些功能可以根据用户交互来更改演示文稿（主要是`:hover`为了表明您现在正在指向交互的东西）。

制作可拖动的东西并不是简单的展示问题。它完全属于由 JavaScript 处理的交互逻辑领域。

你想要的东西是无法实现的。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2013-08-19T15:04:38.557

您现在可以使用 CSS 属性来执行此操作`-webkit-user-drag`：

```
#drag_me {
  -webkit-user-drag: element;
}
```

```
<div draggable="true" id="drag_me">
  Your draggable content here
</div>
```

此属性仅受 webkit 浏览器支持，例如 Safari 或 Chrome，但它是仅使用 CSS 使其工作的好方法。

HTML5`draggable`属性仅设置为确保拖动适用于其他浏览器。

您可以在这里找到更多信息：http: [//help.dottoro.com/lcbixvwm.php](http://help.dottoro.com/lcbixvwm.php)

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2020-04-15T21:03:46.623

我[从 W3Schools 发现这个](https://www.w3schools.com/howto/howto_js_draggable.asp)真的很有帮助：

```
// Make the DIV element draggable:
dragElement(document.getElementById("mydiv"));

function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "header")) {
    // if present, the header is where you move the DIV from:
    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
  } else {
    // otherwise, move the DIV from anywhere inside the DIV:
    elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    // get the mouse cursor position at startup:
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    // stop moving when mouse button is released:
    document.onmouseup = null;
    document.onmousemove = null;
  }
}
```

```
#mydiv {
  position: absolute;
  z-index: 9;
  background-color: #f1f1f1;
  border: 1px solid #d3d3d3;
  text-align: center;
}

#mydivheader {
  padding: 10px;
  cursor: move;
  z-index: 10;
  background-color: #2196F3;
  color: #fff;
}
```

```
 <!-- Draggable DIV -->
<div id="mydiv">
  <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
  <div id="mydivheader">Click here to move</div>
  <p>Move</p>
  <p>this</p>
  <p>DIV</p>
</div> 
```

我希望你能用它来！

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-11-23T10:23:02.247

Draggable div `not possible only with CSS`，如果你想要draggable div 你必须使用javascript。

[http://jqueryui.com/draggable/](http://jqueryui.com/draggable/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-09-07T18:28:25.757

在尝试通过从 Stack Overflow 复制粘贴各种代码片段自己尝试做到这一点之后，我强烈建议只使用[InteractJS 库](https://interactjs.io)，它允许您轻松创建可拖动和可调整大小的 div（有点）。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2018-05-03T20:59:09.250

```
$('#dialog').draggable({ handle: "#tblOverlay" , scroll: false });

    // Pop up Window 
          <div id="dialog">
                        <table  id="tblOverlay">
                            <tr><td></td></tr>
                         <table>
           </div> 
```

选项：

1.  handle ：避免粘性滚动条问题。有时您的鼠标指针在拖动时会粘在弹出窗口上。
2.  scroll ：防止弹出窗口超出父页面或超出当前屏幕。

# html - 使用 CSS3 构建良好响应式设计的“正确”逻辑方式是什么？

> ID：13526719
> 
> 赞同：7
> 
> 时间：2012-11-23T10:00:46.673
> 
> 标签：html, css, responsive-design

因此，我深入研究了“响应式设计”，并对它的工作原理有了一个公平的理解。但是，我需要特别注意两件事。

我的“逻辑”思维方式是这样的：如果屏幕尺寸小于 320px，则做 A，如果屏幕尺寸小于 480px，则做 B。

```
@media only screen and (max-width: 320px) { Do one thing here}
@media only screen and (max-width: 480px) { Do another thing here} 
```

这样做的问题是，`max-width: 480px`如果屏幕宽度小于 320，css in 也会受到影响。

当我查看示例时，我看到他们使用的是类似的东西：

```
@media only screen and (min-width: 290px) {}
@media only screen and (min-width: 544px) {}
@media only screen and (min-width: 960px) {} 
```

这基本上是说屏幕大于 290 像素，执行此操作，如果屏幕大于 544 像素，执行此操作。但我会在这里遇到同样的问题。代码 in`min-width: 290px`也将用于任何大于 290 像素的屏幕尺寸。

所以我能想到的唯一解决方案只适用于特定的屏幕范围，就是使用这个：

```
@media only screen and (max-width: 320px) {}
@media only screen and (min-width: 321px),
only screen and (max-width: 480px){}
@media only screen and (min-width: 640px),
only screen and (max-width: 481px){} 
```

有人可以给我建议吗？

查看示例，我看到大量“冗余”代码。重复许多相同的代码，只是具有不同的值：

```
@media only screen and (max-width : 930px),
only screen and (max-device-width : 930px){
    nav li a {
        width: 25%;
        border-bottom: 1px solid #fff;
        font: 400 11px/1.4 'Cutive', Helvetica, Verdana, Arial, sans-serif;
    }

    nav li:last-child a, nav li:nth-child(4) a { border-right: none; }
    nav li:nth-child(5) a { border-bottom: none; }
}

@media only screen and (max-width : 580px),
only screen and (max-device-width : 580px){
    nav li a {
        width: 50%;
        font: 400 12px/1.4 'Cutive', Helvetica, Verdana, Arial, sans-serif;
        padding-top: 12px;
        padding-bottom: 12px;
    }

    nav li:nth-child(even) a { border-right: none; }
    nav li:nth-child(5) a { border-bottom: 1px solid #fff; }
} 
```

对于大型网站，我可以想象这将创建大量代码和大型 CSS 文件。

这是否会成为我们必须使用响应式设计的新标准？

是否可以选择执行以下操作？：

```
@media only screen and (min-width: 640px) { @import url("css/640.css");} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T10:21:26.623

首先，您编写/引用的代码比必要的要多。

例如：

```
@media only screen and (min-width: 321px),
only screen and (max-width: 480px) { 
```

也可以写成：

```
@media only screen and (min-width: 321px) and (max-width: 480px) { 
```

您永远不应该在媒体查询中重复 CSS，为任何屏幕尺寸设置的任何内容，例如背景颜色或字体系列都应该在任何媒体查询之外设置。这意味着它只写一次并适用于所有这些。在每个媒体查询中应该只包含只影响该特定大小的代码。（例如宽度、字体大小等）

我不建议导入 css 文件之类的文件，只需将它们合二为一，顶部为全局样式，然后在其下方的媒体查询中使用特定于屏幕大小的样式。不要被大的 css 文件吓到，下载一个 10kb 的文件比下载十个 1kb 的文件更容易/更快。

[我在这里](http://pastebin.com/XfdwU4Ce)制作了一个示例 .css 文件来向您展示。请注意，这将创建一个可怕的网站，它只是为了向您展示如何布局代码以及去哪里。

上面的示例假设浏览器支持媒体查询。没有它，该网站将一败涂地。如果您不能 100% 确定媒体查询支持（并且没有使用[Respond.JS](https://github.com/scottjehl/Respond)），我建议您将桌面站点置于全局样式中，然后覆盖为不必要的以确保不支持的浏览器的回退

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T10:12:37.627

你写的几乎是一种方法。但就像 BoltClock 所说，你有很多方法可以制作一个响应式网站。

另外，为了避免“双重”css，您还可以制作一个主 css 文件。那些不需要在整个网站中改变的东西——不管屏幕大小——进入这个文件。（例如你的字体）。除此之外，您的 css 文件确实会“巨大”，具体取决于您想要响应的程度。

要回答您的问题，这是否会成为新标准……这仍然取决于网站所有者，他是否想要支持移动友好型网站。

我希望这会有所帮助 :) 祝你好运！

# css - 在 1 行上获取标签和单选按钮：

> ID：13526720
> 
> 赞同：0
> 
> 时间：2012-11-23T10:00:47.000
> 
> 标签：css, radio-button, alignment, label

> **可能重复：**
> [单选按钮和标签显示在同一行](https://stackoverflow.com/questions/2306117/radio-buttons-and-label-to-display-in-same-line)

我有 3 个标签和单选按钮，我想放在 1 行：

我现在得到的是：

```
Spoortoegang
Uit
radiobutton
Aan
radiobutton 
```

我想要的是：

```
Spoortoegang Uit radiobutton Aan radiobutton 
```

我的代码是：

```
<div ><p>Spoortoegang</p><label for="no">Uit;<input dojoType="dijit.form.RadioButton"   id="valSR" name="group1" checked="checked" onchange='POI(this);' value="Show" type="radio"/>    </label>
<label for="yes">Aan;<input dojoType="dijit.form.RadioButton" id="valSlope" name="group1"   value="Hide" onchange='POI(this)' type="radio"/></label></div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:02:49.017

在 CSS 中为所有元素添加“float:left”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:03:37.047

使用 CSS 定位 DOM 元素。因为您希望所有元素都内联：

```
p, label, input { display: inline; } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:04:42.437

而不是把它放在一个段落中，将它包含在一个跨度中

```
<div ><span>Spoortoegang</span><div > 
```

# android - Html.fromHtml 以这种方式显示文本是否安全？渗透测试和使用任何脚本调用内容

> ID：13526731
> 
> 赞同：0
> 
> 时间：2012-11-23T10:01:22.917
> 
> 标签：android, html, textview, penetration-testing

我有项目`textview`，这个对象有一些粗体和常规文本。我在堆栈上发现制作类似的东西很好用`Html.fromHtml()`。但是，如果有人拿到了我的应用程序并尝试调用显示在 中的内容`Html.fromHtml`，那可能会非常危险..

我写信给你一个问题：使用安全`Html.fromHtml()`吗？我应该用什么代替？我的项目只有一个文本视图，我不能再添加任何对象。我有布局，我必须只使用这一种布局。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T12:01:25.237

> 但是，如果有人拿到我的应用程序并尝试调用 Html.fromHtml 中显示的内容，这可能会非常危险

为什么？你对斜体字过敏吗？:-)

> 使用 Html.fromHtml() 是否安全？

它与 Android 中任何其他类中的任何其他方法一样安全。如果您愿意，欢迎您检查它的源代码，编写您自己的替代品等。

> 渗透测试

您认为“渗透测试”与在 中显示简单的 HTML 有什么关系`TextView`？

> 并使用任何脚本调用内容

`TextView`(and `Html.fromHtml()`) 不处理 JavaScript、CSS、或`<iframe>`或大多数 HTML 标记。它处理一些基本标签，仅此而已。

# knockout.js - ko.validation.group 无法识别

> ID：13526734
> 
> 赞同：0
> 
> 时间：2012-11-23T10:01:28.593
> 
> 标签：knockout.js, knockout-validation

这是我面临的问题：

```
viewModel.errors = ko.validation.group(viewModel); 
```

它显示错误：

> 未捕获的类型错误：无法读取未定义的属性“组”

任何一个`ko.validation.*`都不被识别

我正在使用`jquery-1.7.1.js`, `knockout2.1.0`,`knockout-validator.js`并希望对某些字段进行验证。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T12:50:57.300

你真的使用了正确的文件吗？它的名字是

> 淘汰赛.validation.js

[https://github.com/ericmbarnard/Knockout-Validation](https://github.com/ericmbarnard/Knockout-Validation)

# wordpress - Windows Azure 上的 Wordpress MultiSite - 带有 www 的域

> ID：13526736
> 
> 赞同：2
> 
> 时间：2012-11-23T10:01:31.370
> 
> 标签：wordpress, azure, dns

对不起，但我很困惑，所以我想在这里问我的问题。

我有一个 Windows Azure 保留网站实例，并通过托管域添加了一个域。要添加域，我必须在我的 DNS 中添加它：

> awverify CNAME awverify..azurewebsites.net。

我在我的 Wordpress MultiSite 设置中添加了域，如下所示：域名：[http](http://domainname.com) ://domainname.com使用子目录。

至此，一切正常，我可以在没有**www**前缀的情况下访问**domain.com上的域。**

 **通过输入这个问题，我还发现了这个主题[Wordpress multisite, domain mapping www issue](https://stackoverflow.com/questions/3411088/wordpress-multisite-domain-mapping-www-issue)

我安装了 MU，并遵循了一切。映射有效，**domain.com**映射到**www.domain.com**但我再次收到 Azure 服务器错误：

> 404 - 找不到文件或目录。您要查找的资源可能已被删除、名称已更改或暂时不可用。

是我的 DNS 设置错误，还是这个 Wordpress 或 Azure 特定？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T12:16:04.187

您是否为“www.yourdomain.com”添加了 cname 记录？我没有使用 Azure，或者我会提供更完整的答案，但听起来您刚刚为 yourdomain.com 定义了 DNS 条目。您还需要为“www.yourdomain.com”创建一个 CNAME

编辑：另外，如果您在命令提示符中键入“ping yourdomain.com”，它是否显示与“ping www.yourdomain.com”相同的IP？如果您提供实际域，则故障排除也会更容易。**

# objective-c - 如何从 ColorPickerImageView 释放视图

> ID：13526739
> 
> 赞同：0
> 
> 时间：2012-11-23T10:01:40.010
> 
> 标签：objective-c, ios, cocos2d-iphone

只是我以编程方式从“ColorPickerImageView.h”创建了视图，我想发布这个视图。每次我想使用 [view removeFromSuperView] 发布这个视图时，它都会给我错误的访问权限并且应用程序崩溃所以，如何发布由基础框架创建的自定义 uview

课程链接：http: [//www.markj.net/iphone-uiimage-pixel-color/](http://www.markj.net/iphone-uiimage-pixel-color/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:27:57.390

如果您通过**alloc**关键字创建了 ColorPickerImageView，则添加为**subview后只需调用****release**即可。

 ****removeFromSuperView**在 self.view 实际上被**deallocate**时会自动为您完成，因此您不需要自己做。

如果您为已删除的对象调用**removeFromSuperView**或为对象调用两次，应用程序将崩溃。**

# c++ - QDeclarativeContext::setContextProperty() 后崩溃

> ID：13526740
> 
> 赞同：1
> 
> 时间：2012-11-23T10:01:42.563
> 
> 标签：c++, qt, qml

请帮我解决我的问题。我正在编写混合 Qt/c++ 和 qml 应用程序，但遇到了一个奇怪的问题。它在初始化时崩溃，同时注册属性。

```
EventBridge::EventBridge(QObject *parent) : QObject(parent)
{
    MainWindowInst->setContextProperty("EventBridge",this);
}

void MainWindow::setContextProperty(const QString &property, QObject *data)
{
    viewer->rootContext()->setContextProperty(property,data); // viewer is QDeclarativeView
} 
```

# c++ - 草图圆柱

> ID：13526749
> 
> 赞同：-2
> 
> 时间：2012-11-23T10:02:16.250
> 
> 标签：c++, c, opengl, graph

> **可能重复：**
> [在彼此附近绘制对象](https://stackoverflow.com/questions/13518651/sketching-object-near-to-each-other)

我想在屏幕下方绘制草图；

```
 |----|   sphere
             |----|
             / /
            / /
           / /         cylinder
          / /
         / / angle = 45
         | |
         | |
         | |           cylinder (i)
         | |
         | |
         | |
 -----------           cylinder
 ----------- 
```

为了画出标有 (i) 的圆柱体，我使用了下面的代码，你能帮我看看我的错误是什么，因为我无法画出 (i) 吗？

```
glTranslatef(0.0f, 10.0f, 400.0f ) ;
glColor3f ( 0.0f, 1.0f, 1.0f ) ;
glRotatef (90.0f, 1.0f, 1.0f, 0.0f );
gluCylinder(quadric,0.0f,200.0f,100.0f,32,32);
glTranslatef(0.0f, 10.0f, -400.0f ) ; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:25:34.547

我不想在这里成为坏人，所以让我解释一下，为什么那段代码没有上下文就一文不值，为什么你需要理解。

让我们逐行浏览这个片段。一切从

```
glTranslatef(0.0f, 10.0f, 400.0f ) ; 
```

第一个问题是：这是在什么矩阵上运行。可能是模型视图，但我们不知道。在调用 glTranslatef 之前的矩阵是什么？OpenGL 矩阵运算有点像 x86 汇编，因为它们用运算结果替换堆栈上的矩阵。

```
glColor3f ( 0.0f, 1.0f, 1.0f ) ; 
```

这设置了颜色状态。当然。通常将此调用与要绘制的几何图形组合在一起，而不是将其放在代码中间的某个位置。

```
glRotatef (90.0f, 1.0f, 1.0f, 0.0f ); 
```

绕轴 (1, 1, 0) 旋转，即像将轴穿过对象，通过局部原点并朝向点 (1, 1, 0)，然后绕该轴旋转 90° .

```
gluCylinder(quadric,0.0f,200.0f,100.0f,32,32); 
```

现在绘制了一个圆柱体，它将首先旋转，然后平移，然后……只有您知道，因为您省略了在开始渲染帧时重置模型视图矩阵的部分。

```
glTranslatef(0.0f, 10.0f, -400.0f ) ; 
```

最终的 glTranslatef 对绘制圆柱体没有任何影响。

* * *

你现在看到问题了吗？你在问一个非常具体的问题，这显然是家庭作业，在那里放一些随机代码，只是问“如何绘制它”而不知道你实际上在做什么。

如果您不先掌握基础知识，我们将无法帮助您。我们很乐意帮助您到达那里。从画一些简单的东西开始，比如以窗口为中心的三角形。

# c# - 如何在动态网格视图中创建分页

> ID：13526755
> 
> 赞同：0
> 
> 时间：2012-11-23T10:02:33.140
> 
> 标签：c#, gridview

我正在使用 C#，在这里我附上了动态网格视图的部分代码，它工作正常。我需要在动态网格视图上设置分页如何调用 OnPageIndexChanging

```
 GridView gv = new GridView();
        gv.AllowPaging = false;
        gv.AlternatingRowStyle.BackColor = System.Drawing.Color.WhiteSmoke;
        gv.GridLines = GridLines.Horizontal;
        gv.CellPadding = 2;
        gv.CellSpacing = 5;
        gv.HeaderStyle.BackColor=System.Drawing.Color.Black;
        gv.HeaderStyle.ForeColor = System.Drawing.Color.White;

        gv.AutoGenerateColumns = false;
        BoundField nameColumn = new BoundField();
        nameColumn.DataField = "fld_id";
        nameColumn.HeaderText = "First Name";
        gv.Columns.Add(nameColumn);
        nameColumn = new BoundField();
        nameColumn.DataField = "fld_name";
        nameColumn.HeaderText = "Last Name";
        gv.Columns.Add(nameColumn);
        nameColumn = new BoundField();
        nameColumn.DataField = "fld_state";
        nameColumn.HeaderText = "Age";
        gv.Columns.Add(nameColumn);

        gv.DataSource = ds;

        gv.DataBind();
        plangrid.Controls.Add(gv); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-26T17:02:24.197

```
gv.AllowPaging = true;
gv.PageSize =10;
gv.PageIndexChanged+= new EventHandler(grid1_PageIndexChanged);

protected void grid1_PageIndexChanged(object sender, GridViewPageEventArgs e)
{
gv.PageIndex = e.NewPageIndex;
gv.Databind();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T10:30:03.247

试试这个

```
gv.AllowPaging = true;
gv.PageSize =10;
gv.PageIndexChanged+= new EventHandler(grid1_PageIndexChanging);

protected void grid1_PageIndexChanged(object sender, GridViewPageEventArgs e)
{
gv.PageIndex = e.NewPageIndex;
gv.Databind();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T10:19:06.863

尝试设置 gw.AllowPaging = true; 然后设置 gw.PageSize = when 是您想要进入页面的元素数量。

# mongodb - mongoDB - 通过一个命令手动离线复制

> ID：13526756
> 
> 赞同：1
> 
> 时间：2012-11-23T10:02:37.700
> 
> 标签：mongodb, replication, offline

我想要 2 个数据库：生产数据库和离线数据库。我的系统将与生产系统一起使用。但有时我想将更改从生产数据库复制到离线数据库。

在 CouchDB 中，您可以使用以下内容：

```
POST /_replicate HTTP/1.1
{"source":"example-database","target":"http://example.org/example-database"} 
```

除了：

*   mongodump/mongorestore
*   db.cloneDatabase("db0.example.net")

...在 MongoDB 中？我将这些操作理解为复制数据库的全部内容。那是对的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T20:13:36.347

听起来您在这里有几个选项，具体取决于您的数据库系统所具有的约束。除了上述选项，您还可以：

*   将您的脱机数据库设置为作为副本集的一部分的辅助数据库。然后，此副本可用于您的离线工作，并与主副本保持同步。这样做的额外好处是，如果您遇到主数据问题，您将始终拥有数据的额外副本。您可能希望将“离线”副本标记为隐藏，以便它永远不会接管为主。有关更多信息，请参阅以下链接：[MongoDB](http://docs.mongodb.org/manual/core/replication/)中的复制，[复制内部](http://docs.mongodb.org/manual/core/replication-internals/)

*   如果您真的只想要时间点快照，那么另一种选择是备份您的数据库文件并将它们还原到您的离线集群。执行此操作的方法因您的数据库设置和环境而异。以下是学习备份的良好开端：[MongoDB 备份](http://www.mongodb.org/display/DOCS/Backups)

# opencart - 丰富网页摘要的 Google 网站管理员工具“带有 schema.org 的不完整微数据”错误

> ID：13526758
> 
> 赞同：0
> 
> 时间：2012-11-23T10:02:48.300
> 
> 标签：opencart, microdata, schema.org, rich-snippets

当我尝试测试链接时，谷歌网站管理员工具中的丰富网页摘要有问题 - > [http://www.google.com/webmasters/tools/richsnippets?url=http%3A%2F%2Fjimfish.de%2Fabu-garcia -revo-stx-l-lh-multirolle&html=](http://www.google.com/webmasters/tools/richsnippets?url=http%3A%2F%2Fjimfish.de%2Fabu-garcia-revo-stx-l-lh-multirolle&html=) “
我收到错误：schema.org 的微数据不完整”但不明白我忘记了什么，也看不到像这样[http://www 的评级星和价格。 google.com/webmasters/tools/richsnippets?url=https%3A%2F%2Fwww.brandmall.com%2Fasus-a45vm-3rd-gen-intel-core-i7-3610qm-gt630m-15-quot-a-series-笔记本&html=](http://www.google.com/webmasters/tools/richsnippets?url=https%3A%2F%2Fwww.brandedmall.com%2Fasus-a45vm-3rd-gen-intel-core-i7-3610qm-gt630m-15-quot-a-series-notebook&html=) .
我将 cms opencart 与 vQmod 一起使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-24T11:13:59.873

制造商预期的类型是人员或组织，而不是文本。

# java - JPA 和枚举类型

> ID：13526760
> 
> 赞同：3
> 
> 时间：2012-11-23T10:03:00.720
> 
> 标签：java, caching, jpa

我将枚举类型的一个字段用于 JPA 实体：

```
@Enumerated(value=EnumType.STRING)
private Temperament temperament = Temperament.MINEUR_PUR; 
```

我的枚举在我的实体中声明：

```
@Entity
public class Joueur implements Serializable {

.....

    public enum Temperament{
        MINEUR_PUR(30),
        MINEUR(10),
        NEUTRE(0),
        RAIDEUR(-10),
        RAIDEUR_PUR(-30);

        private int temperament_prod_mines;

        private Temperament(int temperament_prod_mines){
            this.temperament_prod_mines = temperament_prod_mines;       
        }

        public int getTemperament_prod_mines() {
            return temperament_prod_mines;
        }

        public void setTemperament_prod_mines(int temperament_prod_mines) {
            this.temperament_prod_mines = temperament_prod_mines;
        }
    }   
} 
```

它可以工作，但是当我在它自己的文件中“外部化”我的枚举时，它不再工作了：

> 引起：异常 [EclipseLink-7151] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.ValidationException 异常描述：类型 [class com.sim.basics.enums.Temperament] 为实体类 [class com.sim.entities.Joueur] 上的属性 [temperament] 不是枚举映射的有效类型。该属性必须定义为 Java 枚举。

但这只是复制/粘贴...

为什么会有这种行为？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-23T11:39:25.700

这个问题的一个原因是在 enum.jar 中定义的枚举在运行时没有被实体在类路径中找到。

至少有两种方法可以解决这个问题。

1.  在 entity.jar 的 META-INF/MANIFEST.MH 中

    类路径：枚举.jar

2.  或者，如果您使用 maven，则将 enum.jar 指定为 EAR 的一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:50:16.733

这个**[EclipseLink 异常错误参考 (ELUG)](http://wiki.eclipse.org/EclipseLink_Exception_Error_Reference_%28ELUG%29)**可以帮助你

## **ECLIPSELINK-07151：实体类 [{2}] 上属性 [{0}] 的类型 [{1}] 不是枚举映射的有效类型。该属性必须定义为 Java 枚举。**

**原因：**在访问器方法 methodName 上的实体类 ClassName 中指定了无效的 EJB 3.0 注释注释。不支持。

**行动：**在此访问器方法上指定一个有效的注释。

# java - 使用 Apache ANT 编译 java

> ID：13526761
> 
> 赞同：1
> 
> 时间：2012-11-23T10:02:59.917
> 
> 标签：java, ant, build

如何使用带有 JRE 系统库和我拥有的其他库的 Apache ANT 编译 java 项目。
我正在使用的代码是

```
<path id="master-classpath">
    <fileset dir="junit">
        <include name="*.jar"/>
    </fileset>
    <pathelement path="${build.dir}"/>
</path> 

<target name="build" description="Compile source tree java files">

    <mkdir dir="${build.dir}"/>
    <javac destdir="${build.dir}" source="1.5" target="1.5" includeantruntime="false">
        <src path="${src.dir}"/>
    <classpath refid="master-classpath"/>
    </javac>
</target> 
```

它只获取junit文件夹中的jar文件。
我不知道如何使用 JRE 系统库进行编译。

# iphone - 文字消失在iphone上改变方向

> ID：13526765
> 
> 赞同：0
> 
> 时间：2012-11-23T10:03:10.913
> 
> 标签：iphone, css, testing, mobile, mobile-safari

我越来越疯狂地试图理解为什么 I-phone (4/4s/5) 有这种行为：

[http://www.mkvdesign.com/](http://www.mkvdesign.com/)

在纵向模式下一切都很好，但如果您更改横向，徽标文本和菜单项就会消失。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:55:36.270

适用于 iPhone 和 iPad。在这里看不到问题。

# php - PHP 中的 Javascript (Node.js)

> ID：13526766
> 
> 赞同：0
> 
> 时间：2012-11-23T10:03:14.233
> 
> 标签：php, javascript, class, function, class-library

有没有像[PHP.js](http://phpjs.org/)这样的项目，但在提供 JS 类和函数的 PHP 实现的副方向？特别是 Date、RegEx、String 类？

我找到[了这门课](https://github.com/alecgorge/PHP-String-Class)，但我正在寻找更完整的集合。

我关心的不是使用或不使用这样的东西，我只需要这样的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-29T07:07:18.483

今天我找到[了 jsphp](http://jsphp.org/)。看起来很有希望。

> JavaScript for PHP (jsphp) 是 PHP 5.3+ 的 ECMA 262 标准 (JavaScript 8.5.1) 的伪实现。它允许您使用标准 API 和语言中可用的动态属性（例如原型继承和链接、一等函数和其他面向对象的特性）在 PHP 中编写代码，就像它是 JavaScript 一样。它包括 JSBoolean、JSNumber、JSString、JSObject、JSArray、JSFunction、JSRegExp、JSDate、JSError 和 JSMath，以及全局辅助函数，例如 parseInt 或 isNaN。jsphp 中的语法与本机实现非常相似，但适应了 PHP 的语法。例如，变量以“$”开头，对象访问操作符为“->”，字符串使用“.”连接。

```
 $myString = new JSString( 'Hello World' );

  $myString = $myString->split( '' )->reverse()->join( '' );

  print( 'Reversed: ' . $myString ); // dlroW olleH 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-23T10:15:23.490

没有 - 也不可能有 - 像你要求的东西。

Javascript 对正则表达式有一种特殊的语法，这是 PHP 不能接受的。

类似于如何调用 javascript 中的“对象”方法。并且变量的范围不同。所以这行不通。

而是使用 PHP 函数。如果它们对您来说不够完整或不可用，请将它们包装到对象中，以便您可以创建自己喜欢的界面。或者使用许多可用的库之一。

# javascript - 使用 jQuery 插件

> ID：13526770
> 
> 赞同：1
> 
> 时间：2012-11-23T10:03:32.533
> 
> 标签：javascript, jquery, jquery-ui, requirejs, require

我正在尝试在我的项目中使用一些 jQuery 插件（我正在使用 RequireJS）。但是我不明白该怎么做。我试图遵循这个：[http](http://requirejs.org/docs/api.html#config-shim) ://requirejs.org/docs/api.html#config-shim在我理解之后，它设置了数组内部的依赖关系。我想我可以在一个模块中做到这一点：

```
define(['ui'], function($) {

} 
```

但是它不起作用。我错过了什么？这来自我的 require.config：

```
shim: {
        'ui': {
            'deps': ['jquery']
        },
        'tools': {
            'deps': ['jquery', 'ui']
        }
} 
```

和路径；

```
'paths': {
    'jquery': 'lib/jquery/jquery',
    'ui': 'jquery/jquery-ui.min',
    'tools': 'jquery/jquery.tools.min',            
}, 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:20:25.673

```
requirejs.config({
'paths': {
    'jquery': 'lib/jquery/jquery',
    'ui': 'jquery/jquery-ui.min',
    'tools': 'jquery/jquery.tools.min',            
},
    shim:{
        'ui': {
            'deps': ['jquery'],
            // exports :'ui'   As they are jquery plugins they will not require exports
        },
        'tools': {
            'deps': ['jquery', 'ui'],
             //exports : 'tools'
        }
} 
});

define(['jquery'], function($) {

} 
```

# c# - 从当前文化生成字母

> ID：13526781
> 
> 赞同：1
> 
> 时间：2012-11-23T10:04:01.063
> 
> 标签：c#, cultureinfo, currentculture

> **可能重复：**
> [在 C# 中枚举字母表的最快方法 如何在 C# 中](https://stackoverflow.com/questions/2208688/quickest-way-to-enumerate-the-alphabet-in-c-sharp)
> [枚举 LOCALIZED 字母表？](https://stackoverflow.com/questions/5676692/howto-enumerate-the-localized-alphabet-in-c)

.net 中有什么方法可以为当前文化生成字母表吗？例如英语 - ABCDE.... 如果文化是俄语，生成这样的。我正在使用 .net 4.5 框架。

* * *

## 回答 #1

> 赞同：-4
> 
> 时间：2012-11-23T12:33:57.093

我不这么认为，但你可以为它创建一个函数

# c++ - 关于学习 C++ 编码以实现高效/高性能数学例程的一些（推荐）资源/书籍是什么？

> ID：13526784
> 
> 赞同：0
> 
> 时间：2012-11-23T10:04:19.253
> 
> 标签：c++, performance, math, simulation, numerical

我想开始学习和理解在用于*实时*模拟（尤其是游戏）的代码中优化*什么*以及*何时优化。*那里有各种代码片段，大多数将标准 trig 或 sqrt 函数与其优化版本进行比较。有些需要组装，有些则依赖于架构特定的策略，有些则使用纯数学技巧（例如查找表或近似函数）。每个版本都声称速度更快，但精度成本较低。

 *据我所知，没有汇编材料（例如一本书）解释可以做什么，包括基础知识（没有人知道汇编、SSE、SIMD、MMX、FPU 等）。然而，有大量的书籍旨在如何实现一些数值方法（这些书籍很好，但它们并没有强调快速花絮的重要性，因为这些书籍中的绝大多数甚至不包含特定于架构的代码或从开发人员的角度进行浮点讨论）。

那么，任何人都可以分享最适合这些场景的书籍或其他资源的简短列表吗？

PS：我的印象是“C++ 中的数字食谱..”或“科学家和工程师的 C++..”或“科学计算的 C++..”没有包含很多（如果有的话）关于这个问题的信息。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:31:14.877

“模拟器”通常是一个复杂的程序，对预设的初始数据进行结构化分析，其性能更多地取决于算法的选择和问题参数化，而不是速度`sqrt`。数值方法或科学计算书籍的读者对收敛速度比平方根更快更感兴趣。牺牲精度通常代表着一场危险的赌博。

游戏通常需要将一组表示动态游戏状态的数据从一帧投影到下一帧。没有收敛的概念，根据需要应用“封闭形式”方程来推进状态。

使用游戏编程书籍，而不是科学计算书籍作为指南。两者都将引用“数字食谱”，但游戏通常会使用较少。

在已经存在性能问题之前不要进行优化。在您发现存在性能问题*后*，总是可以使小函数变得更快、更不精确。分析器可以轻松识别性能问题，但不会自动发现准确性问题！一旦识别出热点，使用库不应阻止您应用微优化。

我一直在使用 C++ Eigen 代数库，发现它对几何非常友好和快速。我在做科学，但它也非常适合游戏。一切都是一个平面数组，当内置运算符不满意时，您可以使用 C 或 C++（或程序集，但真正的程序员只是让编译器输出他们想要的程序集）来操作它。*

# c# - 找不到 AutoCompleteStringCollection

> ID：13526785
> 
> 赞同：0
> 
> 时间：2012-11-23T10:04:25.603
> 
> 标签：c#, asp.net, visual-studio-2010

我正在使用翻译成 C# 的[本教程](http://www.codeproject.com/Articles/243368/AutoComplete-Textbox)，所以我有以下代码部分：

```
List<string> lst = new List<string>();

        //AutoComplete collection that will help to filter keep the records.
        AutoCompleteStringCollection MySource = new AutoCompleteStringCollection(); 
```

我收到 AutoCompleteStringCollection 的错误消息：

> 错误 1 ​​找不到类型或命名空间名称“AutoCompleteStringCollection”（您是否缺少 using 指令或程序集引用？）

我已经包括在内

```
Using System.Windows.Forms; 
```

我还添加了对集成 dll 文件的引用。

这是这个类通常应该在的地方。

有任何想法吗？

# ios - 每次获取时新创建的 NSManagedObject 属性的值？

> ID：13526786
> 
> 赞同：0
> 
> 时间：2012-11-23T10:04:25.417
> 
> 标签：ios, core-data, nsmanagedobject

考虑以下代码

```
NSManagedObject *o = ... ;

o.myProperty = [NSDate date];

NSDate *a = o.myProperty;
NSDate *b = o.myProperty;

BOOL identical = (a==b);
BOOL equal = [a isEqual:b]; 
```

在装有 iOS 5 的 iPhone 上运行它，`identical = NO`并且`equal = YES`

这是预期的行为吗？我会认为读取属性总是返回相同的对象，并且不会在每次调用 getter 时创建一个新对象。

或者这是iOS中的错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T20:36:26.697

好吧，如果您要比较对象，那么请始终使用 equalObjects: 而不仅仅是使用 == 比较运算符。顺便说一句，在这种情况下，您应该使用 compare: 方法来比较相同的日期。在您的上下文中，您应该像这样使用它，

```
[a compare:b] == NSOrderedSame // both the date are same, whatever the object br 
```

# matlab - 是否有任何 Matlab 函数用于处理具有连续观察变量的隐马尔可夫模型？

> ID：13526790
> 
> 赞同：11
> 
> 时间：2012-11-23T10:04:32.257
> 
> 标签：matlab, hidden-markov-models

在 Matlab 统计工具箱中，有几个函数用于处理隐马尔可夫模型 (HMM)，但它们都适用于离散观察符号。有谁知道是否有可以处理连续观察变量的工具箱或函数（可能来自第三方）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-05T15:57:11.863

我们在评论中找到了一个可以接受的解决方案，所以我会在这里发布以供将来参考：

[WEKA](http://www.cs.waikato.ac.nz/ml/weka/)具有处理 HMM 的适当函数，并且由于它具有 Java API，因此它是与 MATLAB 一起使用的理想选择。MATLAB 本身是一个 Java 解释器，因此您可以直接调用 WEKA api，传递和检索数据。

[这](http://www.mathworks.com/matlabcentral/fileexchange/19260-using-weka-in-matlab)是一个 matlab 文件交换示例，演示了通过 MATLAB 使用 WEKA。

[这](http://weka.wikispaces.com/Use+WEKA+in+your+Java+code)是一个 Java 示例，展示了如何使用通用 WEKA 分类器，它应该适用于第三方 HMM

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-09T15:08:08.440

Zoubin Ghahramani 教授为 EM 算法编写了代码：

[http://mlg.eng.cam.ac.uk/zoubin/software.html](http://mlg.eng.cam.ac.uk/zoubin/software.html)

# c# - 在代码隐藏中控制 ScrollViewer 的缩放功能

> ID：13526791
> 
> 赞同：3
> 
> 时间：2012-11-23T10:04:32.280
> 
> 标签：c#, xaml, microsoft-metro, windows-runtime

在 WinRT 中，ScrollViewer 是一个方便的控件，默认支持其内容的缩放/平移功能。但是我在代码隐藏（c-sharp 文件）中控制了 ScrollViewer 内容的缩放/平移功能。如果我知道 ScrollViewer 是如何工作的，那么问题应该可以按预期解决。

注意：我尝试编写事件处理方法来监听 ScrollViewer 的`ManipulationXXX`事件，但没有遇到。只有我可以收听 ScrollViewer 的 ViewChanged 事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T04:21:55.337

我可以获得 ScrollViewer 对象的`ZoomFactor`属性，它告诉您当前的缩放值。如果要更改内容的缩放值，只需使用`ZoomToFactor(float factor)`.

# python - 在 django admin 中验证依赖内联

> ID：13526792
> 
> 赞同：21
> 
> 时间：2012-11-23T10:04:33.013
> 
> 标签：python, django, django-admin

我正在使用 Django 1.4，我想设置比较不同内联值的验证规则。

我有三个简单的类

在模型.py 中：

```
class Shopping(models.Model):
    shop_name = models.CharField(max_length=200)

class Item(models.Model):
    item_name = models.CharField(max_length=200)
    cost = models.IntegerField()
    item_shop = models.ForeignKey(Shopping)

class Buyer(models.Model):
    buyer_name = models.CharField(max_length=200)
    amount = models.IntegerField()
    buyer_shop = models.ForeignKey(Shopping) 
```

在 admin.py 中：

```
class ItemInline(admin.TabularInline):
    model = Item

class BuyerInline(admin.TabularInline):
    model = Buyer

class ShoppingAdmin(admin.ModelAdmin):
    inlines = (ItemInline, BuyerInline) 
```

例如，可以以 10 美元的价格购买一瓶朗姆酒，以 8 美元的价格购买一瓶伏特加。迈克支付 15 美元，汤姆支付 3 美元。

目标是防止用户保存总和不匹配的实例：已支付的金额必须与项目成本的总和相同（即 10+8 = 15+3）。

我试过：

*   在 Shopping.clean 方法中引发 ValidationError。但是内联还没有更新干净所以总和不正确
*   在 ShoppingAdmin.save_related 方法中引发 ValidationError。但是在这里提高 ValidationError 会给出一个对用户非常不友好的错误页面，而不是重定向到带有漂亮错误消息的更改页面。

这个问题有什么解决办法吗？客户端（javascript/ajax）验证是最简单的吗？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-12-25T13:40:20.143

您可以覆盖您的内联表单集以实现您想要的。在表单集的 clean 方法中，您可以通过“实例”成员访问您的购物实例。因此，您可以使用 Shopping 模型临时存储计算的总数并让您的表单集进行通信。在模型.py 中：

```
class Shopping(models.Model):
   shop_name = models.CharField(max_length=200)

   def __init__(self, *args, **kwargs)
       super(Shopping, self).__init__(*args, **kwargs)
       self.__total__ = None 
```

在 admin.py 中：

```
from django.forms.models import BaseInlineFormSet
class ItemInlineFormSet(BaseInlineFormSet):
   def clean(self):
      super(ItemInlineFormSet, self).clean()
      total = 0
      for form in self.forms:
         if not form.is_valid():
            return #other errors exist, so don't bother
         if form.cleaned_data and not form.cleaned_data.get('DELETE'):
            total += form.cleaned_data['cost']
      self.instance.__total__ = total

class BuyerInlineFormSet(BaseInlineFormSet):
   def clean(self):
      super(BuyerInlineFormSet, self).clean()
      total = 0
      for form in self.forms:
         if not form.is_valid():
            return #other errors exist, so don't bother
         if form.cleaned_data and not form.cleaned_data.get('DELETE'):
            total += form.cleaned_data['cost']

      #compare only if Item inline forms were clean as well
      if self.instance.__total__ is not None and self.instance.__total__ != total:
         raise ValidationError('Oops!')

class ItemInline(admin.TabularInline):
   model = Item
   formset = ItemInlineFormSet

class BuyerInline(admin.TabularInline):
   model = Buyer
   formset = BuyerInlineFormSet 
```

这是您可以做到的唯一干净的方法（据我所知），并且所有东西都放置在应有的位置。

**编辑：**添加了 *if form.cleaned_data* 检查，因为表单也包含空内联。请让我知道这对您有用！

**EDIT2：**添加了对即将删除的表格的检查，正如评论中正确指出的那样。这些表格不应参与计算。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-12-22T14:40:51.353

好吧，我有一个解决方案。它涉及编辑 django admin 的代码。

在 django/contrib/admin/options.py 中，在 add_view（第 924 行）和 change_view（第 1012 行）方法中，找出这部分：

```
 [...]
        if all_valid(formsets) and form_validated:
            self.save_model(request, new_object, form, True)
        [...] 
```

并将其替换为

```
 if not hasattr(self, 'clean_formsets') or self.clean_formsets(form, formsets):
            if all_valid(formsets) and form_validated:
                self.save_model(request, new_object, form, True) 
```

现在在你的 ModelAdmin 中，你可以做这样的事情

```
class ShoppingAdmin(admin.ModelAdmin):
    inlines = (ItemInline, BuyerInline)
    def clean_formsets(self, form, formsets):
        items_total = 0
        buyers_total = 0
        for formset in formsets:
            if formset.is_valid():
                if issubclass(formset.model, Item):
                    items_total += formset.cleaned_data[0]['cost']
                if issubclass(formset.model, Buyer):
                    buyers_total += formset.cleaned_data[0]['amount']

        if items_total != buyers_total:
            # This is the most ugly part :(
            if not form._errors.has_key(forms.forms.NON_FIELD_ERRORS):
                form._errors[forms.forms.NON_FIELD_ERRORS] = []
            form._errors[forms.forms.NON_FIELD_ERRORS].append('The totals don\'t match!')
            return False
        return True 
```

不过，这更像是一种技巧，而不是一个适当的解决方案。有什么改进建议吗？有人认为这应该是 django 上的功能请求吗？

# wpf - 带有动画的 WPF 矩形移动

> ID：13526794
> 
> 赞同：3
> 
> 时间：2012-11-23T10:04:37.910
> 
> 标签：wpf

我需要动态移动动态创建的矩形。

我几乎完成了我的实现，如果我为每个矩形动态编写下面的代码，我就能达到预期的结果。

下面的代码在 X 轴上将所需的矩形移动 50 个像素。

```
TranslateTransform translateTransform1 = new TranslateTransform(50, 0); aRectangle.RenderTransform = translateTransform1; 
```

问题是我希望它是动画的。下面的代码是为了让同一个矩形随动画一起移动，但一起给出完全不同的结果。任何帮助都感激不尽。我希望它通过代码进行管理，因为我的矩形将是动态的。

```
TranslateTransform translateTransform1 = new TranslateTransform(50, 0);
Duration duration = new Duration(new TimeSpan(0, 0, 0, 1, 0));
DoubleAnimation anim = new DoubleAnimation(30, duration);
translateTransform1.BeginAnimation(TranslateTransform.XProperty, anim);
aRectangle.RenderTransform = translateTransform1; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:15:44.250

尝试

```
Duration duration = new Duration(new TimeSpan(0, 0, 0, 1, 0));
DoubleAnimation anim = new DoubleAnimation(30, duration);
aRectangle.RenderTransform = new TranslateTransform();
aRectangle.BeginAnimation(TranslateTransform.XProperty, anim); 
```

# objective-c - NSNetServiceBrowser 没有找到已发布的服务

> ID：13526800
> 
> 赞同：6
> 
> 时间：2012-11-23T10:04:47.117
> 
> 标签：objective-c

在 iPhone（服务器）上，我尝试发布服务，但我的代码遇到了`NSNetService`对象的委托方法：

```
-(void)netServiceDidPublish:(NSNetService *)sender 
```

所以我相信我的服务`@"_chatty._tcp."`已经成功发布了。然后在另一部 iPhone（客户端）上，我`NSNetServiceBrowser`用来查找我的服务，但它没有遇到委托方法：

```
-(void)netServiceBrowser:(NSNetServiceBrowser *)netServiceBrowser didFindService:(NSNetService *)netService moreComing:(BOOL)moreServicesComing 
```

我在这个网站上发现了一些与我的案例相关的问题，大部分答案都提醒检查委托对象是否超出范围。我确信我的委托工作良好，因为它遇到了另一个委托方法，例如：

```
-(void)netServiceBrowserWillSearch:(NSNetServiceBrowser *)aNetServiceBrowser 
```

有人可以帮我找出原因吗？

以下是我的代码的一些部分：

我这样初始化服务：

```
#define MY_PROTOCOL @"_chatty._tcp."

self.myService = [[NSNetService alloc]
                   initWithDomain:@"" type:MY_PROTOCOL
                   name:@"thaith" port:self.port]; 
```

端口在 Browser 类中使用给定的 listenerSocket 进行初始化：

```
NSNetServiceBrowser* finder = [[NSNetServiceBrowser alloc] init];

//I also retain the finder.
finder.delegate = self;

[finder searchForServicesOfType:MY_PROTOCOL inDomain:@""]; 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-14T17:56:51.137

在遇到同样的问题并放弃一个月后。我刚刚回到它并解决了它：

即使[文档中的示例代码](https://developer.apple.com/library/mac/#documentation/networking/Conceptual/NSNetServiceProgGuide/Articles/ResolvingServices.html#//apple_ref/doc/uid/20001078-CJBDDCAB)似乎暗示其他方式，**也不要**为 NSNetServiceBrowser 使用局部变量。一旦超出范围，它就会被垃圾收集。制作`finder`一个实例变量或属性，使其保持不变。当代表接到电话时，我没有立即发现这一点，`netServiceBrowserWillSearch:`所以我认为一切都很好......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-30T13:32:47.783

我建议不要下载 bonjour 浏览器，而是使用终端命令：

```
dns-sd -B _chatty._tcp local. 
```

对我来说，它表明服务器端工作正常。目前，当我的应用程序启动时，我可以找到该服务，我唯一的问题是，一旦我停止服务器，我得到“已删除”事件但再次运行它，我再也找不到它了。我知道问题出在我的客户端，感谢 dns-sd - B

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T10:40:13.080

**可能的解决方案**

> 1.  检查两个 WiFi 标识符是否相同
> 2.  检查两者是否在同一个 WiFi 网络中
> 3.  检查分配为同一类的 NSNetServiceBrowser 委托

最后下载示例[**Apple.Developer Witap 应用程序**](http://developer.apple.com/library/ios/#samplecode/WiTap/Introduction/Intro.html)，安装在两台设备上，测试并确认它工作正常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T10:23:54.057

我会缩小范围并尝试找到问题所在。首先，查明服务是否发布正确。在您发布服务的同一本地网络中的计算机上使用 Bonjour 浏览器应用程序（您可以在 Internet 上找到它）。我希望您在同一个本地网络中发布和浏览。如果 Bonjour 浏览器可以看到您的服务，那么您就知道它已正确发布。然后在浏览器端工作以连接到它。

# javascript - 表单提交和recaptcha

> ID：13526803
> 
> 赞同：0
> 
> 时间：2012-11-23T10:05:02.373
> 
> 标签：javascript, jquery, html, validation, recaptcha

这段代码有什么问题？

```
 $(function() {
            $('#my_form').submit(function(e) {
                e.preventDefault();
                recaptcha_response_field = $('input#recaptcha_response_field').val();
                recaptcha_challenge_field = $('input#recaptcha_challenge_field').val();

                $.post('controller.php', {recaptcha_response_field : recaptcha_response_field, recaptcha_challenge_field : recaptcha_challenge_field}, function(data) {
                if(data == 0) {
                    alert('no');
                } else {
                    alert('submit')
                    $('#my_form').submit();
                }
            }); 
            })
        }); 
```

我在我的表格中使用 recaptcha。当用户正确输入验证码时，这些代码行将被执行

```
alert('submit')
$('#my_form').submit(); 
```

这么胖那么好。问题是表单无法提交。我认为这行代码再次执行

```
$('#my_form').submit(function(e) { 
```

有什么建议么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T13:09:25.570

您可以在使用所有验证后取消绑定它

```
$('#my_form').unbind('submit'); 
```

然后定期使用

```
$('#my_form').submit(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:08:37.833

I haven't tested this out yet, but try this. You're right that the `.submit` function is being triggered again.

```
$(function() {
    $('#my_form').submit(function(e) {
        'use strict';

        var recaptcha_response_field = $('input#recaptcha_response_field').val(),
            recaptcha_challenge_field = $('input#recaptcha_challenge_field').val(),
            submitForm = true;

        $.post('controller.php', {
                recaptcha_response_field : recaptcha_response_field,
                recaptcha_challenge_field : recaptcha_challenge_field
            }, function(data) {
                if(data == 0) {
                    submitForm = false;
                }
        }); 

        if(!submitForm) {
            e.preventDefault();
        }
    })
}); 
```

# c# - .NET MVC 4 - 同一个控制器上的多个“动作”，如何？

> ID：13526808
> 
> 赞同：2
> 
> 时间：2012-11-23T10:05:11.657
> 
> 标签：c#, .net, asp.net-mvc

在我开始捏造我自己的方法之前，我正在把头发拉出来，我正在寻找指导。

这是我所拥有的：

**查看片段**

```
<td>@Html.ActionLink("More Details", "Index", new { id = product.ProductId })</td>
<td>@Html.ActionLink("Compare", "Compare", new { id = product.ProductId, compare = true })</td> 
```

**控制器片段**

```
public ActionResult Index(FormCollection values)
{
    // Does stuff, works
}

public ActionResult Index(int productId)
{
    // Does stuff, works
} 
```

现在，这就是我的问题。现在，从 POST 到表单，以及单击“更多详细信息”ActionLink 都采用了索引功能。这工作正常。

现在我希望“比较”具有功能性，我希望在同一页面上并保存比较产品的列表，这很好。但是我如何**在同一个视图/页面上**获得比较功能？！

我试过了：

```
public ActionResult Compare(int productId)
{

} 
```

但显然这不起作用，因为它需要一个 Compare.cshtml，我不想发生这种情况。我希望它修改我的 ViewModel 并用新比较的产品返回它，所以我可以从我的原始视图中做到这一点：

```
@foreach(var products in Model.ComparedProducts) 
```

我能看到我这样做的唯一方法是“捏造”：

```
public ActionResult Index(int productId = 0, bool compare)
{

} 
```

如果同一页面上有很多功能，这可能会变得不守规矩。

当然，我在这里缺少一些明显的东西吗？

哦，AjaxLink 选项不适合我，因为这是必须通过回发（Progress Enhancement 和所有爵士乐）工作的网站的一部分。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-23T10:11:26.373

我认为您通过调用返回 ActionResult `return View(model)`，对吗？*如果没有明确*命名视图，MVC 解析机制会查找与操作同名的视图，在您的情况下为“Compare.cshtml”。

如果您更改对您的调用，`return View("Index", model)`无论操作名称如何，您都将使用 Index.cshtml 视图。

那是你要找的吗？

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-23T10:11:11.090

MVC 中的操作不需要对应的 View。它可以通过向`View()`函数提供名称参数来返回任何视图 - 请参阅[http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.view%28v=vs.98%29.aspx](http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.view%28v=vs.98%29.aspx)详情。

您可以在比较函数中执行所有需要的逻辑并重定向回索引操作或根据需要使用显示页面的任何其他操作`RedirectToAction()`。

# database - 数据库设计，连接不同实体的公共数据

> ID：13526819
> 
> 赞同：1
> 
> 时间：2012-11-23T10:06:01.950
> 
> 标签：database, database-design, relational-database, class-table-inheritance, shared-primary-key

我们有客户、经纪人、公司等实体。它们具有不同的属性，并且必须位于不同的表上。但是他们可以有共同的东西，在我们的例子中是联系信息（实体->联系是一对多的关系）。最好的方法是什么。如果没有完美的设计，如果最重要的是编写尽可能少的代码，那最好。

案例1：所有实体都有一个'common' auto-inc entityId（它们共享主键，所以你不能有一个id=1的客户和一个id=1的公司） ![在此处输入图像描述](../Images/474ff41134015e83c11bd0434ac54771.png)

案例 2：'contact' 存储有关它所指实体的信息。（客户、公司、经纪人不共享主键）

![在此处输入图像描述](../Images/0ac3b8e13144f36b4cb98e1043fe4e95.png)

案例 3：3 个联系表，每个实体一个。

有更多的方法可以连接这些表，这是一个经常发生的问题，我不是特别喜欢任何解决方案，所以帮助我决定。

# linux - 一个输出文件的更多命令？

> ID：13526821
> 
> 赞同：1
> 
> 时间：2012-11-23T10:06:06.663
> 
> 标签：linux, shell, command-line-interface

我做了一些命令来解析来自 free -m 的值，现在需要在一个文件中输出所有内容。它看起来像这样：

```
free -m | grep 'Mem' | awk '{print $3'} && free -m | grep 'Mem' | awk '{print $6'} && free -m | grep 'Mem' | awk '{print $7'} && free -m | grep 'cache:' | awk '{print $3'} 
```

如果我最后添加 > /some/file，它只写最后一个值，如何将所有这些命令的输出写入一个文件？谢谢你的帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T10:09:45.523

添加括号以打开子外壳：

```
( free -m | grep 'Mem' | awk '{print $3'} && free -m | grep 'Mem' | awk '{print $6'} && free -m | grep 'Mem' | awk '{print $7'} && free -m | grep 'cache:' | awk '{print $3'} ) > result.txt 
```

# email - Silverstripe Email sent via Contact Form does not arrive

> ID：13526826
> 
> 赞同：0
> 
> 时间：2012-11-23T10:06:20.673
> 
> 标签：email, content-management-system, silverstripe

in a recent project I integrated a custom Contact Form which uses the silverstripe Email Class. Unfortunately the sent E-Mails do not arrive at the client. It seems to depend on the host/domain of the target E-Mail Address. E.g. gmx does work (but spam), but receiving the mails on the E-Mail Address of the client does not work at all (hosted at united domains). Thanks, Florian

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T14:43:02.477

The `Email` class in SilverStripe is admittedly not the greatest ;) But apart from potential lowlevel encoding errors, email delivery mainly depends on factors outside of SilverStripe. You can start debugging mailservers, DNS records, spam headers, bounce emails, etc - but in the end its probably far easier to leave email delivery to a SaaS-provider like [SendGrid](http://sendgrid.com/) or [MailChimp](http://mailchimp.com). Both have offerings where you can just point your PHP configuration to their SMTP servers. SendGrid has a nice [best practice collection](http://sendgrid.com/resources/best-practice-guides.html) on what to watch out for when sending emails in general.

# php - 使用 php google-api-php-client-0.6.0 获取 gmail 联系人

> ID：13526832
> 
> 赞同：0
> 
> 时间：2012-11-23T10:06:42.480
> 
> 标签：php, google-api

我正在使用 google-api-php-client-0.6.0 实现 gmail 联系人获取

```
if ($client->getAccessToken()) {
  $req = new Google_HttpRequest("https://www.google.com/m8/feeds/contacts/default/full?max-results=9999&alt=json");
  $val = $client->getIo()->authenticatedRequest($req);
  // The contacts api only returns XML responses.
  //$response = json_encode(simplexml_load_string($val->getResponseBody()));
   print_r(json_decode($val->getResponseBody())) ;

  // The access token may have been updated lazily.
  $_SESSION['token'] = $client->getAccessToken();
} 
```

有了这个 HTTprequest，我得到了如下的用户详细信息结果

```
[0] => stdClass Object
                    (
                        [id] => stdClass Object
                            (
                                [$t] => http://www.google.com/m8/feeds/contacts/sivagopaltech%40gmail.com/base/1301bd0ce878b5
                            )

                        [updated] => stdClass Object
                            (
                                [$t] => 2011-10-10T04:40:56.311Z
                            )

                        [category] => Array
                            (
                                [0] => stdClass Object
                                    (
                                        [scheme] => http://schemas.google.com/g/2005#kind
                                        [term] => http://schemas.google.com/contact/2008#contact
                                    )

                            )

                        [title] => stdClass Object
                            (
                                [type] => text
                                [$t] => 
                            )

                        [link] => Array
                            (
                                [0] => stdClass Object
                                    (
                                        [rel] => http://schemas.google.com/contacts/2008/rel#edit-photo
                                        [type] => image/*
                                        [href] => https://www.google.com/m8/feeds/photos/media/sivagopaltech%40gmail.com/1301bd0ce878b5/1B2M2Y8AsgTpgAmY7PhCfg
                                    )

                                [1] => stdClass Object
                                    (
                                        [rel] => self
                                        [type] => application/atom+xml
                                        [href] => https://www.google.com/m8/feeds/contacts/sivagopaltech%40gmail.com/full/1301bd0ce878b5
                                    )

                                [2] => stdClass Object
                                    (
                                        [rel] => edit
                                        [type] => application/atom+xml
                                        [href] => https://www.google.com/m8/feeds/contacts/sivagopaltech%40gmail.com/full/1301bd0ce878b5/1318221656311001
                                    )

                            )

                        [gd$email] => Array
                            (
                                [0] => stdClass Object
                                    (
                                        [rel] => http://schemas.google.com/g/2005#other
                                        [address] => jagadeesh.miriyala@gmail.com
                                        [primary] => true
                                    )

                            )

                    ) 
```

在我看来 $t 和其他人是出乎意料的，在这种情况下，我正在获取用户电子邮件 ID

当我如下更改代码和 httpRequest 时，我只获取用户名而不是 emailid

```
if ($client->getAccessToken()) {
  $req = new Google_HttpRequest("https://www.google.com/m8/feeds/contacts/default/full?max-results=9999");
  $val = $client->getIo()->authenticatedRequest($req);
  // The contacts api only returns XML responses.
  $response = json_encode(simplexml_load_string($val->getResponseBody()));
   print_r(json_decode($response)) ;

  // The access token may have been updated lazily.
  $_SESSION['token'] = $client->getAccessToken();
} 
```

用户详细信息格式是这样的

```
[title] => 96 76 36 78 07 chakri        // username
                    [link] => Array
                        (
                            [0] => stdClass Object
                                (
                                    [@attributes] => stdClass Object
                                        (
                                            [rel] => http://schemas.google.com/contacts/2008/rel#edit-photo
                                            [type] => image/*
                                            [href] => https://www.google.com/m8/feeds/photos/media/sivagopaltech%40gmail.com/826b6c0fa89181/a9haUsi43SXQrgy78Gjg4Q
                                        )

                                )

                            [1] => stdClass Object
                                (
                                    [@attributes] => stdClass Object
                                        (
                                            [rel] => http://schemas.google.com/contacts/2008/rel#photo
                                            [type] => image/*
                                            [href] => https://www.google.com/m8/feeds/photos/media/sivagopaltech%40gmail.com/826b6c0fa89181
                                        )

                                )

                            [2] => stdClass Object
                                (
                                    [@attributes] => stdClass Object
                                        (
                                            [rel] => self
                                            [type] => application/atom+xml
                                            [href] => https://www.google.com/m8/feeds/contacts/sivagopaltech%40gmail.com/full/826b6c0fa89181
                                        )

                                )

                            [3] => stdClass Object
                                (
                                    [@attributes] => stdClass Object
                                        (
                                            [rel] => edit
                                            [type] => application/atom+xml
                                            [href] => https://www.google.com/m8/feeds/contacts/sivagopaltech%40gmail.com/full/826b6c0fa89181/1349307874947993
                                        )

                                )

                        )

                ) 
```

任何人都可以建议我如何避免那些 $t 变量或如何使用第二个 httprequest 获取 emailid

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-05T08:12:34.013

问题是 simplexml 如何格式化响应。它删除了电子邮件字段。将 "?alt=json" 添加到 api 调用的末尾，它将返回一个 json。json_decode 响应，您将拥有一个带有电子邮件的漂亮 php 对象

# java - java arraylist 覆盖现有元素

> ID：13526838
> 
> 赞同：-3
> 
> 时间：2012-11-23T10:07:07.813
> 
> 标签：java, arraylist, overwrite

我似乎遇到了一个令人沮丧的问题——我的数组列表的一个元素被覆盖了。我在很多论坛上看了很多帖子，但我没有设法解决它。:chomp:

在我的程序（实际上是用 Java 实现的 FBDK 功能块算法）中，我想将输入变量（PART）的数据存储到输出变量数组（PART_array）的元素中。这个过程将发生多次（随着事件的发生），因此必须将变量存储在几个数组元素中。

问题是 PART_array 的元素被最后一个条目覆盖。例如，对于第一个事件发生，PART_array[] = ["1"," "," "," "," "," "]。然后，第二次出现，而不是 PART_array[] = ["1","2"," "," "," "," "]，我发现 PART_array[] = ["2","2", " "," "," "," "] - 从而显示覆盖。我已经意识到存储到 PART_ARRAY ArrayList 时已经发生了覆盖。我认为通过重新初始化 (p = new Part()) 问题将得到解决......显然不是。

任何解决此问题的帮助将不胜感激！代码如下：

```
public class STORE_TO_ARRAY extends fb.rt.FBInstance {

    public ArrayList<Part> PART_ARRAY = new ArrayList<Part>();
    Part p = new Part();

    /** The default constructor. */
    public STORE_TO_ARRAY() {
       super();
    }

    /** ALGORITHM REQ IN Java*/ -- a method called in the program
    public void alg_REQ() {
        int ct = 0;
        ct = current_task;
        if (ct <= NumOfTasks) {
            //write received input data to output variable array elements
            //this is where the problem occurs!!!!
            p.setPart(PART); //set value of Part
            PART_ARRAY.add(ct-1,p); //adding to arraylist
            Part p = new Part(); //trying to reinitialise the object    
        }
    }
} 
```

Part的类文件如下：

```
public class Part {
    WSTRING part;
    void setPart(WSTRING part) {
        this.part = part;
    }
    WSTRING getPart() {
        return part;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T12:16:36.087

下面的代码创建一个局部变量（在下一行中，它超出范围并在使用之前消失），而不是为类变量分配一个新值（我假设这是你想要的做）。

```
Part p = new Part(); //trying to reinitialise the object 
```

尝试将其替换为

```
p = new Part(); //trying to reinitialise the object 
```

附带说明一下，一个像样的 IDE（如 NetBeans）应该会警告您创建隐藏类变量的局部变量。

# delphi - 在delphi中调整父控件的大小时如何调整子控件的大小？

> ID：13526844
> 
> 赞同：3
> 
> 时间：2012-11-23T10:07:38.730
> 
> 标签：delphi, delphi-xe2, autoresize

我有一个带有特定宽度和高度的特定和 2 个面板`ClientHeight`的delphi 表单。`ClientWidth`当我调整表单大小时，我希望面板在运行时自动调整大小。我怎样才能做到这一点？在调整父控件的大小或我必须对其进行编程时，delphi 中是否存在任何内置功能来调整子控件的大小？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T23:39:13.923

使用面板的[`Align`](http://docwiki.embarcadero.com/Libraries/XE3/en/Vcl.Controls.TControl.Align)和/或[`Anchors`](http://docwiki.embarcadero.com/Libraries/XE3/en/Vcl.Controls.TControl.Anchors)属性。它们正是为此目的而设计的。

# ruby-on-rails - Ruby puts string and integer on same line

> ID：13526847
> 
> 赞同：4
> 
> 时间：2012-11-23T10:07:45.570
> 
> 标签：ruby-on-rails, ruby, puts

I just started learning Ruby and uncertain what is causing the error. I'm using ruby 1.9.3

```
puts 'What is your favorite number?'
fav = gets 
puts 'interesting though what about' + ( fav.to_i + 1 )

in `+': can't convert Fixnum into String (TypeError) 
```

In my last puts statement, I thought it is a simple combination of a string and calculation. I still do, but just not understanding why this won't work

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-23T10:50:56.163

在 Ruby 中，您通常可以使用“字符串插值”而不是将（“连接”）字符串添加到一起

```
puts "interesting though what about #{fav.to_i + 1}?"
# => interesting though what about 43? 
```

基本上，内部的任何内容`#{}`都会被评估，转换为字符串，然后插入到包含的字符串中。请注意，这仅适用于双引号字符串。在单引号字符串中，您将得到您输入的内容：

```
puts 'interesting though what about #{fav.to_i + 1}?'
# => interesting though what about #{fav.to_i + 1}? 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T10:10:57.377

`( fav.to_i + 1 )` returns an Integer, and ruby does not do implicit type conversion. You have to convert it yourself by doing `( fav.to_i + 1 ).to_s` to be able to add it to the string.

# sql-server-2008 - How to make an Update subquery inside a CASE-WHEN logic in SQL SERVER?

> ID：13526849
> 
> 赞同：0
> 
> 时间：2012-11-23T10:07:54.620
> 
> 标签：sql-server-2008, case, case-when

I want to do an update on my table using the following CASE-WHEN logic:

```
UPDATE    table1
SET   Volume_eur =              
        CASE    

            WHEN TradeCode = 'A' THEN PaymentAmount_field1
            WHEN TradeCode = 'B' THEN PaymentAmount_field2
            WHEN TradeCode = 'C' THEN PaymentAmount_field3

             END                      

                  * CurrencyRate/100

FROM table1 
```

But I want to document which logic was used and stamp that on the Statusfield. So basically I want to do an update-statement inside my CASE-WHEN sentence like this: (marked with **bold**)

```
UPDATE    table1
SET              Volume_eur = 

            CASE    

            WHEN TradeCode = 'A' THEN PaymentAmount_field1 
```

**UPDATE table1 SET StatusField = 'Logic1'**

```
 WHEN TradeCode = 'B' THEN PaymentAmount_field2 
```

**UPDATE table1 SET StatusField = 'Logic2'**

```
 WHEN TradeCode = 'C' THEN PaymentAmount_field3 
```

**UPDATE table1 SET StatusField = 'Logic3'**

```
 END                      

                  * CurrencyRate/100

  FROM table1 
```

Is that possible, or how should I do it? I would like to avoid copying the whole CASE-WHEN logic since it will become harder to maintain it.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:13:16.893

如果您不想使用**case 语句**，则使用不同的内容进行 3 个单独的查询，如下所示：

```
UPDATE    table1 set Volume_eur=PaymentAmount * CurrencyRate/100_field1 
where TradeCode = 'A';    

UPDATE    table1 set Volume_eur=PaymentAmount * CurrencyRate/100_field2 
where TradeCode = 'B';

UPDATE    table1 set Volume_eur=PaymentAmount * CurrencyRate/100_field3 
where TradeCode = 'C'; 
```

希望这对您有所帮助！

# php - 邮件发送不带附件

> ID：13526850
> 
> 赞同：0
> 
> 时间：2012-11-23T10:07:59.377
> 
> 标签：php, email, attachment

我有此代码，可以使用，但发送的邮件没有附件。/files 目录中的附件。

[http://www.hawkee.com/snippet/1273/](http://www.hawkee.com/snippet/1273/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:11:57.660

我认为你错过了剧本的重点。是的，它会发送一封电子邮件，但并不意味着将文件附加到电子邮件中。它只应该将给定的文件上传到它所在的服务器上的目录。

> 创建一个文件contact.php并将代码从---contact.php---然后创建一个文件contact_send.php并从---contact_send.php---粘贴代码。只需`r server and just www.site.com/contact.php. the banners will be saved in the file FILES. please put in the contact_send.php on: $destinatar = "MAIL HERE"; you`像这样将您的邮件锁定： $destinatar = "mail@mailserver.com"; . 享受 :D

他在这里（以一种或另一种方式）提到该文件将被保存到

```
[SCRIPT LOCATION]/files/[FILE] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:12:14.793

脚本没有附加文件。正确的方法在这里：[http ://www.php.net/manual/en/function.mail.php#105661](http://www.php.net/manual/en/function.mail.php#105661)

只需在您的脚本中实现此功能，它应该可以工作。

# android - how to play videos one by one sequentually?

> ID：13526851
> 
> 赞同：0
> 
> 时间：2012-11-23T10:08:11.317
> 
> 标签：android, video

how to play videos one by one simultaneously?

Now i have a problem, I have more than 3 videos,Now i have to play first videos, can't move next videos. How to do that...

```
vidview.setVideoPath(vidname[i].toString()+".3gp||.mp4");
System.out.println("\n\n\n File name is: "+vidname[i].toString());
vidview.requestFocus();
vidview.start();
vidview.setOnCompletionListener(new OnCompletionListener() {

    public void onCompletion(MediaPlayer mp) {
        // TODO Auto-generated method stub
        mp.stop();
        run(); 
    }
}); 
```

# c# - 如何保证 postsharp 代码已被注入？

> ID：13526853
> 
> 赞同：4
> 
> 时间：2012-11-23T10:08:19.093
> 
> 标签：c#, aop, postsharp

这是一个关于 PostSharp 使用的假设问题。

我假设如果由于任何原因错过了构建的 PostSharp 部分，这些属性将被忽略并且构建的程序集仍然可以运行。如果我用方面实现安全性，这将是一个大问题。

如何在运行时确认构建的 PostSharp 阶段发生并且我的方面在程序集中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T10:36:59.053

`PostSharp.Post.IsTransformed`您可以在运行时进行评估。如果程序集已转换，则对该属性的**调用**将更改为仅常量`true`。由于属性本身总是返回`false`，因此您可以知道调用的程序集是否`PostSharp.Post.IsTransformed`已被转换。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:16:51.220

一方面，您将在构建期间或之后在输出窗口中看到它（类似`: message : PostSharp complete -- 0 errors, 0 warnings, served in 1073 ms`），另一方面，您可以使用 .net 反射器或类似工具（JetBrains dotPeek 是免费的）检查您的程序集，因此 postsharp 正在编织您的方面构建过程中的 IL 代码。

可能还有更多选项，例如检查 .pdb 文件。这足以满足您的需求吗？

# ruby-on-rails - 如何使用 Haml 呈现布尔数据属性？

> ID：13526856
> 
> 赞同：2
> 
> 时间：2012-11-23T10:08:44.763
> 
> 标签：ruby-on-rails, html, haml

**更新：**确实，Haml 已经自动执行此操作！但是，我在助手内部有一个哈希`link_to`，而不是一个 Haml 标签，甚至没有注意到它。傻我！所以这个问题几乎是无效的。

Haml 使渲染布尔 HTML 属性变得非常容易：

```
%input{checked: @boolean} 
```

呈现一个简单的`<input>`if`@boolean`是假的，`<input checked>`否则。

Haml 还可以轻松呈现数据属性：

```
%a{data: { is_special: false } } 
```

呈现：`<a data-is-special="false">`。

有没有办法让 Haml 将此自定义`data-is-special`属性解释为布尔值？如果分配了虚假值，我希望它**不**存在，如果分配了任何真实值，我希望它存在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:38:48.193

括号中的代码是普通的 ruby​​ 代码，所以只要你能在 ruby​​ 中执行这个任务，你就有自己的解决方案。我想出了类似的东西：

```
def remove_false(hsh)
  Hash[hsh.each_pair.select {|key, value| value}]
end

{data: remove_false(is_special: false)} #=> {:data => {}} 
```

如果您在单个哈希中组合了要特别处理且通常处理的键，则此解决方案效果不佳。

# database - Loading large data from database with Symfony2 and Doctrine 2

> ID：13526857
> 
> 赞同：3
> 
> 时间：2012-11-23T10:08:45.393
> 
> 标签：database, symfony, doctrine-orm

I'm beginner on *Symfony2*.

I have a Regions-Countries-States-Cities database with more of 2,000,000 results. I have 8 entities:

```
Region (recursive with itself) - RegionTranslation

Country - CountryTranslation

State (recursive with itself) - StateTranslation

City - CityTranslation

```

The thing is that when I want to load a countries list (only 250 registers in a pulldown, for example) Symfony+Doctrine load all entities structure (all states of all countries, and all cities of all states, with their respective translations).

I think that it spends a lot of memory.

What's the correct method to do it? Can I load only Country (and translations) with this structure? Any idea?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-24T03:55:48.277

对于不相关的反对，我遇到了同样的问题。最好的办法是使用 select2 的 ajax 加载 ( [http://ivaynberg.github.com/select2/](http://ivaynberg.github.com/select2/) )，这将在搜索框中提供有限数量的项目，并通过在框中键入的内容缩小搜索范围。

有几件事需要编码：

一个javascript文件：

```
 $(document).ready(function(){
        $('.select2thing').select2({
          minimumInputLength:1
        ,width: "100%"
        ,ajax: {
          url: <<path>> + "entity/json"
         ,dataType: 'jsonp'
         ,quitMillis: 100
         ,data: function (term, page) {
         return {
            q: term, // search term
            limit: 20,
            page: page
         };
        }
    ,results: function (data, page) {
      var more = (page * 20) < data.total;
      return { results: data.objects, more: more };
    }
    }
    });

    } 
```

控制器中的 jsonAction：

```
 /**
    * Lists all Thing entities return in json format
    *
    */
    public function jsonAction(Request $request)
    {
      $em = $this->getDoctrine()->getManager();
      $rep = $em->getRepository('yourBundle:Thing');
      $qb = $rep->createQueryBuilder('e');

      $limit = $request->query->get('limit');
      $current = $request->query->get('current');
      $page=$request->query->get('page');
      $queries=$request->query->get('q');
      $qarray=explode(",", $queries);

      $entities=$rep->getJSON($qarray, $page, $limit);
      $total=$rep->getJSONCount($qarray);
      $callback=$request->query->get('callback');

      return $this->render('yourBundle:Thing:json.html.twig'
         , array(
             'entities'  => $entities
            ,'callback'  => $callback
            ,'total'     => $total
         )
      );
    } 
```

树枝模板（json.html.twig，可能定制为显示更多）

```
 {{callback}}(
    { "objects" :
    [
    {% for entity in entities %}
    { "id": "{{entity.id}}", "text": "{{entity}}""}
    {% if not loop.last %},{% endif %}
    {% endfor %}
    ],
     "total": {{total}}
    }
    ) 
```

变压器：

```
 use Symfony\Component\Form\DataTransformerInterface;
    use Symfony\Component\Form\Exception\TransformationFailedException;
    use Doctrine\Common\Persistence\ObjectManager;
    use yourBundle\Entity\Thing;

    class ThingTransformer implements DataTransformerInterface
    {
        /**
         * @var ObjectManager
         */
        private $em;

        /**
         * @param ObjectManager $em
         */
        public function __construct(ObjectManager $em)
        {
            $this->em = $em;
        }

        /**
         * Transforms an object (thing) to a string (id).
         *
         * @param  Issue|null $thing
         * @return string
         */
        public function transform($thing)
        {
            if (null === $thing) {return "";}
            if (is_object($thing) && "Doctrine\ORM\PersistentCollection"==get_class($thing)){
              $entity->map(function ($ob){return $ob->getId();});
              return implode(",",$thing->toArray());
            }
            return $thing;
        }

        /**
         * Transforms a string (id) to an object (thing).
         *
         * @param  string $id
         * @return Issue|null
         * @throws TransformationFailedException if object (thing) is not found.
         */
        public function reverseTransform($id)
        {
            if (!$id) {
                return null;
            }

            //if (is_array($id)){
              $qb=$this->em
                ->getRepository('yourBundle:Thing')
                ->createQueryBuilder('t');
              $thing=$qb->andWhere($qb->expr()->in('t.id', $id))->getQuery()->getResult();

              if (null === $entity) {
                throw new TransformationFailedException(sprintf(
                    'A thing with id "%s" does not exist!',
                    $id
                ));
            }

            return $thing;
        }
    } 
```

使用 select2 控件的控制器必须将“em”传递给表单生成器：

```
 $editForm = $this->createForm(new ThingType()
     ,$entity
     ,array(
        'attr' => array(
            'securitycontext' => $sc
           ,'em'              => $this->getDoctrine()
                                      ->getEntityManager()
        )
     )
  ); 
```

并在您的表单类型中：

```
 if (isset($options['attr']['em'])){ $em = $options['attr']['em'];} else {$em=null;}

  $transformer = new ThingTransformer($em);
  $builder->add(
      $builder->create('thing'
         ,'hidden'
         ,array(
             'by_reference' => false
            ,'required' => false
            ,'attr' => array(
                'class' => 'select2thing'
            )
         )
      )
      ->prependNormTransformer($transformer)
  ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-28T17:23:33.113

您可以尝试更改[水合模式](https://doctrine-orm.readthedocs.org/en/latest/reference/dql-doctrine-query-language.html?highlight=hydrate#hydration-modes)，使用数组比创建对象消耗更少的内存。

实现此目的的其他方法是使用[迭代](http://docs.doctrine-project.org/en/2.1/reference/batch-processing.html#iterating-large-results-for-data-processing)来避免内存问题：

最后我认为如果不花费大量时间和内存就无法全部加载，那么，为什么不进行多次查询来加载整个数据呢？

# php - 在 symfony 1.4 任务中生成 URL

> ID：13526858
> 
> 赞同：1
> 
> 时间：2012-11-23T10:08:50.933
> 
> 标签：php, symfony1, symfony-1.4

我必须在任务中生成一个 URL，但我得到的 URL 类型不正确：

```
./symfony/user/edit/id 
```

当我需要的时候

```
/user/edit/id 
```

我的第一次尝试是：

```
protected function execute($arguments = array(), $options = array())
{
    $configuration = ProjectConfiguration::getApplicationConfiguration('frontend', $options['env'], true);
    $this->context = sfContext::createInstance($configuration);
    $baseurl = $this->context->getController()->genUrl(array('module' => 'user','action' => 'edit', 'id' => $id));
    // ...
} 
```

我的第二次尝试，按照[这个答案](https://stackoverflow.com/questions/3285953/using-routes-to-generate-urls-in-a-symfony-task)给出了相同的错误网址：

```
protected function execute($arguments = array(), $options = array())
{

    $configuration = ProjectConfiguration::getApplicationConfiguration('frontend', $options['env'], true);
    $this->context = sfContext::createInstance($configuration);
    $routing = $this->context->getRouting();
    $baseurl = $routing->generate('user_edit', array('id' => $id));
    // ...
} 
```

我怎样才能得到正确的网址？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:54:34.213

您是否尝试过[片段](http://snippets.symfony-project.org/snippet/378)中的解决方案？我在许多项目中使用这个。

我也使用了您描述的几乎相同的第二种解决方案，但有点不同：

```
// you get the context the same way
$context = sfContext::createInstance($configuration);
$this->controller = $context->getController();

$baseurl = $this->controller->genUrl('user_edit?id='.$id); 
```

检查参数[`genUrl`](http://www.symfony-project.org/api/1_4/sfWebController#method_genurl)，您可以将 true/false 作为绝对 url 的第二个参数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T11:49:13.160

我解决了添加 --application 选项！

```
protected function configure()
{
    $this->addOptions(array(
        new sfCommandOption('env', null, sfCommandOption::PARAMETER_REQUIRED, 'The environment', 'dev'),
        new sfCommandOption('application', null, sfCommandOption::PARAMETER_REQUIRED, 'The application name', 'frontend'),
    ));

    //...
} 
```

即使我直接在 getApplicationConfiguration 参数中写入它的名称，我也不知道它是必需的。

```
$configuration = ProjectConfiguration::getApplicationConfiguration('frontend', $options['env'], true); 
```

# c - 如何将值传递给结构变量然后将结构写入文件？

> ID：13526867
> 
> 赞同：2
> 
> 时间：2012-11-23T10:09:48.177
> 
> 标签：c, file, struct, segmentation-fault, fwrite

如何将值传递给结构变量我试图从用户那里获取员工信息然后将它们写入文件中，但是`segmentation fault`在输入员工姓名后我得到了一个。这是我的代码。

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

struct record_em{
    int id;
    char name[20];
    int salary;
    int age;
};

int main( void )
{
    struct record_em employee;
    FILE *fp;
    int id, salary, age;
    char name[20];
    int n=1;

    fp = fopen("empRecord.dat","a");
    while(n==1){
        printf("\nEnter Employee ID\n");
        scanf("%d",&id);
        employee.id=id;
        printf("\nEnter Employee Name\n");
        scanf("%s",name);
        employee.name=name;
        printf("\nEnter Employee Salary\n");
        scanf("%d",&salary);
        employee.salary=salary;
        printf("\nEnter Employee Age\n");
        scanf("%d",&age);
        employee.age=age;
        fwrite(&employee,sizeof(employee),1,fp);
        printf("Enter 1 to add new record \n");
        scanf("%d",&n);
    }

    fclose(fp);

    return 0;
    } 
```

输出（取自评论）：

```
Fatmahs-MacBook-Air:~ fatmah$ gcc -o em em.c
Fatmahs-MacBook-Air:~ fatmah$ ./em
输入员工编号
88
输入员工姓名
你
分段错误：11

```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T10:11:52.117

改变

```
scanf("%s",name);
employee.name=name; 
```

到

```
scanf("%s",name);
strcpy(employee.name, name); 
```

更好的是，正如 Dukeling & hmjd 所建议的那样

```
scanf("%19s", employee.name); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T10:11:32.920

这是一个主要问题：

```
scanf("%s",name);
employee.name=name; 
```

该成员`name`是一个*数组*，您不能分配给它。而是使用*复制*[`strcpy`](http://en.cppreference.com/w/c/string/byte/strcpy)到它。

 ** * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:38:32.653

1.  **创建**一个 typedef 结构`record_t`以使内容更短且更易于理解。

    ```
    typedef struct {
        int id;
        char name[20];
        int salary;
        int age;
    } record_t; 
    ```

2.  **首先创建**文件并格式化。

    ```
    void file2Creator( FILE *fp )
    {
        int i; // Counter to create the file.
        record_t data = { 0, "", 0, 0 }; // A blank example to format the file.

        /* You will create 100 consecutive records*/
        for( i = 1; i <= 100; i++ ){
            fwrite( &data, sizeof( record_t ), 1, fp );
        }

        fclose( fp ); // You can close the file here or later however you need.  
    } 
    ```

3.  编写函数来**填充**文件。

    ```
    void fillFile( FILE *fp )
    {
        int position;
        record_t data = { 0, "", 0, 0 };

        printf( "Enter the position to fill (1-100) 0 to finish:\n?" );
        scanf( "%d", &position );

        while( position != 0 ){
            printf( "Enter the id, name, and the two other values (integers):\n?" );
            fscanf( stdin, "%d%s%d%d", &data.id, data.name, data.salary, data.age );

            /* You have to seek the pointer. */
            fseek( fp, ( position - 1 ) * sizeof( record_t ), SEEK_SET );
            fwrite( &data, sizeof( record_t ), 1, fp );
            printf( "Enter a new position (1-100) 0 to finish:\n?" );
            scanf( "%d", &position );
        }

        fclose( fPtr ); //You can close the file or not, depends in what you need.
    } 
    ```

您可以将其用作参考[比较和检查两个文件中的列](https://stackoverflow.com/questions/13438941/comparing-and-checking-columns-in-two-files/13440245#13440245)*

# xml - XSLT：如何复制父节点不变并转换子节点

> ID：13526868
> 
> 赞同：5
> 
> 时间：2012-11-23T10:09:51.973
> 
> 标签：xml, xslt

我是 XSLT 的新手，所以这可能是非常基本的，但我真的很感激一些输入。我需要在我的 xml 中转换子节点，但同时保持父节点不变。我的 xml 看起来像这样：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<XMLTest xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance" xmlns:jfxpf="http://www.xfa.com/schema/xml-package" xmlns:xfa="http://www.xfa.com/schema/xfa-data">
    <result form="10"   version="4" resultid="23146" respondent="ycisxmir" authid="" date="2012-09-12 06:39:44" times="462">
        <Q0061 answerid="1">1</Q0061>
        <Q0060 answerid="2">2</Q0060>
        <QTXT1>1</QTXT1>
    </result>
</XMLTest> 
```

我需要保持两个顶级节点 XMLTest 和结果不变，而子节点需要转换为更通用的格式，如下所示：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<XMLTest xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance" xmlns:jfxpf="http://www.xfa.com/schema/xml-package" xmlns:xfa="http://www.xfa.com/schema/xfa-data">
    <result form="10"   version="4" resultid="23146" respondent="ycisxmir" authid="" date="2012-09-12 06:39:44" times="462">
        <answer>Q0061</answer>
        <id>1</id>
        <value>1</value>
        <answer>Q0060</answer>
        <id>2</id>
        <value>2</value>
        <answer>QTXT1</answer>
        <value>1</value>
    </result>
</XMLTest> 
```

到目前为止，我的 xslt 看起来像这样：

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output indent="yes"/>

    <xsl:template match="result/*">
        <answer><xsl:value-of select="local-name()"/></answer> 
        <id><xsl:value-of select="@answerid"/></id> 
        <value><xsl:value-of select="@*"/></value> 
    </xsl:template>  
</xsl:stylesheet> 
```

我已经尝试在顶部节点上使用 xsl:copy ，但是如果不丢失子节点或子节点的转换就无法使其工作。如何保持顶部节点并同时强制通过我转换的子节点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T10:17:15.080

从...开始

```
<xsl:template match="@* | node()">
  <xsl:copy>
    <xsl:apply-templates select="@* | node()"/>
  </xsl:copy>
</xsl:template> 
```

现在为您需要的转换添加模板，即

```
<xsl:template match="result/*[@answerid]">
        <answer><xsl:value-of select="local-name()"/></answer> 
        <id><xsl:value-of select="@answerid"/></id> 
        <value><xsl:value-of select="."/></value>   
</xsl:template>

<xsl:template match="result/*[not(@answerid)]">
         <answer><xsl:value-of select="local-name()"/></answer> 
        <value><xsl:value-of select="."/></value>  
</xsl:template> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:16:27.747

您缺少身份模板：

```
<xsl:template match="@* | node()">
    <xsl:copy>
        <xsl:apply-templates select="@* | node()"/>
    </xsl:copy>
</xsl:template> 
```

我已经纠正了你的答案..：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>

    <xsl:template match="@* | node()">
        <xsl:copy>
            <xsl:apply-templates select="@* | node()"/>
        </xsl:copy>
    </xsl:template>
  <xsl:template match="/XMLTest/result/*">
    <answer>
      <xsl:value-of select="local-name()"/>
    </answer>
    <id>
      <xsl:value-of select="@answerid"/>
    </id>
    <value>
      <xsl:value-of select="@*"/>
    </value>
  </xsl:template>

</xsl:stylesheet> 
```

**Edit1：** 如果属性为空，则更新模板以丢弃：if 条件在将属性转换为元素之前检查属性是否为空。

```
 <xsl:template match="/XMLTest/result/*">
    <answer>
      <xsl:value-of select="local-name()"/>
    </answer>
    <xsl:if test="@answerid/.!=''">
      <id>
        <xsl:value-of select="@answerid"/>
     </id>
    </xsl:if>
    <xsl:if test="@*/.!=''">
    <value>
      <xsl:value-of select="@*"/>
    </value>
    </xsl:if>
  </xsl:template> 
```

**Edit2：**在您的早期尝试中，您试图复制@* 的值，`@*`表示任何名称的属性，所以它正在复制@answerid 的值（因为这是唯一可用的属性）.. 你必须做的是.. `valu-of="."`。 .请尝试下面的代码..

```
 <xsl:template match="/XMLTest/result/*">
    <answer>
      <xsl:value-of select="local-name()"/>
    </answer>
    <xsl:if test="@answerid/.!=''">
      <id>
        <xsl:value-of select="@answerid"/>
     </id>
    </xsl:if>
    <xsl:if test=".!=''">
    <value>
      <xsl:value-of select="."/>
    </value>
    </xsl:if>
  </xsl:template> 
```

# java - View Selected Address from autocomplete textview on Mapview

> ID：13526869
> 
> 赞同：1
> 
> 时间：2012-11-23T10:09:54.103
> 
> 标签：java, android, json, google-places-api

Please, can anyone help me?, I'm really desperate

I'm developing a android application to view a certain address from an autocomplete list on a mapview using the Google Places API,and when the user clicks on the item, it should send to where the address is on the mapview, So here is the code

```
public class PlacesAutoCompleteAdapter extends ArrayAdapter<String> implements     Filterable {
private static final String LOG_TAG = "SEACRHPLACES";
private static final String PLACES_API_BASE = "https://maps.googleapis.com/maps/api/place";
private static final String TYPE_AUTOCOMPLETE = "/autocomplete";
private static final String OUT_JSON = "/json";
private static final String API_KEY = "AIzaSyDTOyqTAWYJfTB3aJ0yh2V1Jmx2OvKG3pA";
private ArrayList<String> autocomplete(String input) {
ArrayList<String> resultList = null;
HttpURLConnection conn = null;
StringBuilder jsonResults = new StringBuilder();
try {
StringBuilder sb = new StringBuilder(PLACES_API_BASE + TYPE_AUTOCOMPLETE + OUT_JSON);
sb.append("?sensor=false&key=" + API_KEY);
sb.append("&components=country:eg");
sb.append("&input=" + URLEncoder.encode(input, "utf8"));
URL url = new URL(sb.toString());
conn = (HttpURLConnection) url.openConnection();
InputStreamReader in = new InputStreamReader(conn.getInputStream());   
// Load the results into a StringBuilder
int read;
char[] buff = new char[1024];
while ((read = in.read(buff)) != -1) {
jsonResults.append(buff, 0, read);
}
} catch (MalformedURLException e) {
Log.e(LOG_TAG, "Error processing Places API URL", e);
return resultList;
} catch (IOException e) {
Log.e(LOG_TAG, "Error connecting to Places API", e);
return resultList;
} finally {
if (conn != null) {
conn.disconnect();
}
}
try {
// Create a JSON object hierarchy from the results
JSONObject jsonObj = new JSONObject(jsonResults.toString());
JSONArray predsJsonArray = jsonObj.getJSONArray("predictions");
// Extract the Place descriptions from the results
resultList = new ArrayList<String>(predsJsonArray.length());
for (int i = 0; i < predsJsonArray.length(); i++) {
resultList.add(predsJsonArray.getJSONObject(i).getString("description"));
}
} catch (JSONException e) {
Log.e(LOG_TAG, "Cannot process JSON results", e);
}
return resultList;
}
private ArrayList<String> resultList;
public PlacesAutoCompleteAdapter(Context context, int textViewResourceId) {
super(context, textViewResourceId);
}
@Override
public int getCount() {
return resultList.size();
}
@Override
public String getItem(int index) {
return resultList.get(index);
}
@Override
public Filter getFilter() {
Filter filter = new Filter() {
@Override
protected FilterResults performFiltering(CharSequence constraint) {
FilterResults filterResults = new FilterResults();
if (constraint != null) {
// Retrieve the autocomplete results.
resultList = autocomplete(constraint.toString());     
// Assign the data to the FilterResults
filterResults.values = resultList;
filterResults.count = resultList.size();
}
return filterResults;
}
@Override
protected void publishResults(CharSequence constraint, FilterResults results) {
if (results != null && results.count > 0) {
notifyDataSetChanged();
}
else {
notifyDataSetInvalidated();
}
}};
return filter;
}
} 
```

and here's is the mapview activity

```
public class MapViewActivity extends MapActivity {
MapView mapView;
List<Overlay> mapOverlays;
AddItemizedOverlay itemizedOverlay;

GeoPoint geoPoint;
MapController mc;
double latitude;
double longitude;
OverlayItem overlayitem;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.map_view);
    //getLocation from user address input
    mapView = (MapView) findViewById(R.id.mapview);
    mapView.setBuiltInZoomControls(true);
    mapOverlays = mapView.getOverlays();
    Drawable drawable_user = this.getResources()
            .getDrawable(R.drawable.mark_red);
    itemizedOverlay = new AddItemizedOverlay(drawable_user, this);
    overlayitem = new OverlayItem(geoPoint, "Your Location",
            "That is you!");
    itemizedOverlay.addOverlay(overlayitem);
            mapOverlays.add(itemizedOverlay);
    itemizedOverlay.populateNow();
    Drawable drawable = this.getResources()
            .getDrawable(R.drawable.mark_blue);
    itemizedOverlay = new AddItemizedOverlay(drawable, this);
    mc = mapView.getController();
    int minLat = Integer.MAX_VALUE;
    int minLong = Integer.MAX_VALUE;
    int maxLat = Integer.MIN_VALUE;
    int maxLong = Integer.MIN_VALUE;        
    mapView.getController().zoomToSpan(Math.abs( minLat - maxLat ), Math.abs( minLong - maxLong ));
    mc.animateTo(new GeoPoint((maxLat + minLat)/2, (maxLong + minLong)/2 ));
    mapView.postInvalidate();
}
@Override
protected boolean isRouteDisplayed() {
    return false;
}
     } 
```

so how do i retrieve the location of the address input to view on mapview?

# android - Android custom special textview background

> ID：13526871
> 
> 赞同：1
> 
> 时间：2012-11-23T10:10:00.170
> 
> 标签：android, layout, background, custom-controls

I am creating a chat client demo and I want to design an layout for chat item. I want to apply 2 different backgrounds for TextView (contains chat message) when chatting. So how can I design this background for making textView looks good when chat message is short/long? I don't think 9path can do it well for me.

Sorry, this is image link for what I said. [enter link description here](http://ns6.upanh.com/b6.s34.d4/899d96a76247decf78d78ae6a323d8d3_51138676.yahoochat.png)

# bash - how to run a local script in remote server using expect and bash script

> ID：13526874
> 
> 赞同：0
> 
> 时间：2012-11-23T10:10:21.810
> 
> 标签：bash, unix, ssh, expect

I want to automate my support work. I want to make a script that will connect to a server and do some CRUD operation on the server and again return to local machine. I don't want to upload the script.Till now I have made a script that will help to connect to the server but i am not able to do any any other operations through. Is it possible to run a local script on the remote server?

My script:

```
!/usr/bin/expect 
  set ip neviss
  set user user 
  set password 1234 
  spawn ssh "$user\@$ip" 
  expect "Password:" 
  send "$password\r"; 
  interact ( after this line any command is not getting executed) 
  ls -lrt 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T11:19:51.370

你可以这样做：

```
ssh user@remote-ssh-server "commands of script" 
```

如果将脚本保存到文件中，则可以这样做：

```
ssh user@remote-ssh-server << End
paste the script here
End 
```

这里有一些细节。

1.  登录`"ssh your_user@ssh_server ls /"`

此命令将登录，列出根目录，并关闭连接。

1.  第一遍成功后，尝试用您的脚本替换“ls /”。

2.  第二步成功后，启动 ssh 代理。

在完成第一步之前不要进入第 2 步。

使用像这样的 ssh 教程——这将对你有所帮助

[http://support.suso.com/supki/SSH_Tutorial_for_Linux](http://support.suso.com/supki/SSH_Tutorial_for_Linux)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T11:26:15.483

```
ssh user@server bash < /path/to/local/script.sh 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:18:17.453

你的脚本结构应该是：

1.  通过 SSH 连接。
2.  CRUD 操作
3.  退出 SSH。

具有 CRUD 操作的脚本必须在远程计算机上，因为您无法运行不在您要运行它的机器上的任何脚本。

# ruby-on-rails - Rails before_update 回调能够访问原始数据吗？

> ID：13526882
> 
> 赞同：0
> 
> 时间：2012-11-23T10:10:56.857
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord, orm, ruby-on-rails-3.2

`before_update`仅当特定字段发生更改时，我的方法才需要更新另一个对象。我们可以访问原始数据还是需要从数据库中加载它？例如：

```
class Log < ActiveRecord::Base
  attr_accessible :points, :student_id
  belongs_to :student

  before_update :update_points

  private
  def update_points
    if points != original_log.points
      student.points += points - original_log.points
      student.save
    end
  end
end 
```

我需要那个`original_log`或原来的`points`。如果我无权访问数据库，我认为在`def update_points`?下添加它是安全的。

```
original_log = Log.find(id) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:22:59.870

我自己从未使用过它，但看起来 ActiveModel 会为您跟踪并提供一种`points_was`方法。所以以下应该工作：

```
def update_points
  if points != points_was
    student.points += points - points_was
    student.save
  end
end 
```

# html - 在 CSS 中使用自动边距，但需要最小边距

> ID：13526883
> 
> 赞同：43
> 
> 时间：2012-11-23T10:11:01.220
> 
> 标签：html, css

我检查过[在 CSS 中使用百分比边距但想要以像素为单位的最小边距？](https://stackoverflow.com/questions/6350645/using-a-percentage-margin-in-css-but-want-a-minimum-margin-in-pixels). 它有如何在使用百分比时实现最小边距。但我正在使用

```
width:80%;
margin:5px auto; 
```

如何在左侧设置最小边距。[我在调整浏览器窗口大小时](https://stackoverflow.com/questions/13526096/reducing-the-space-equally-when-resizing-browser-window)使用了自动边距

谢谢

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2014-06-30T11:07:59.787

完成此任务可能需要另一个 div。我将您所说的 div 称为#content div。我知道你的会有更多的CSS。这只是我所讨论的边距的示例。接下来，我们将#content div 放入我们将称为#container 的div 中。我们还将在此 div 中将边距设置为自动。添加的方面是我们将向#container div 添加填充（左右）。

```
#content {
    margin: auto;
}

#container {
    padding-right: 5px;
    padding-left: 5px;
} 
```

我认为这将实现您正在寻找的东西。请记住 #content div 的最小宽度，它可以很好地工作。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2016-08-04T18:26:02.113

我有点晚了，但这里有一个答案。不要忘记您可以设置 HTML 元素的样式！

```
html {
  padding: 20pt;
}

body {
  margin: auto;
} 
```

就是这样！

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2018-11-27T15:10:46.940

达到它的唯一方法是使用 margin: 0 auto 和 max-width 的组合。如果您使用像素而不是百分比，则可以添加媒体查询，以便最大宽度始终小于窗口/包装器。

```
margin: 0 30px;

@media (min-width: 1280px) {
  margin: 0 auto;
  max-width: 1220px;
} 
```

这将有 30 像素的边距，直到屏幕尺寸为 1280 像素，然后最大宽度将保持不超过 1220 像素。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T10:18:18.050

你可以使用`margin-left:#px`或

```
margin:5px auto #px #px; 
```

最后一个#px 是左；它像边距：TOPpx Rightpx Bottompx Leftpx

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T11:29:08.843

这些是我的发现——这并不是一个答案，当然也不全面——这些是我追查类似问题的笔记。（N:B 可能没有用严格正确的技术术语表达，但希望你能明白主要意思）

我的辅助备忘录 - 用于解决意外的定位问题。

浮动或绝对定位或定位固定元素，宽度自动缩小到内容尺寸。

**始终**为浮动元素指定宽度和高度——这样可以避免混淆。

如果没有指定高度，则无论定位元素的高度 = 内容高度。

尝试使用自动垂直边距时，请注意折叠边距。除非明确控制触摸垂直边距将相互折叠。

当使用边距自动水平确保如果不是块元素设置 css display: block; 并且无论如何始终确保宽度 < 100% 的容器。

当心 IE8 和更早的不符合标准的框模型（即在宽度中包含填充和边框而不是附加）- 分辨率始终使用 html 5 doctype ...`<!DOCTYPE html>`

根据您对问题的描述-我猜您遇到的问题归结为元素与其容器之间的关系-这是我遇到的问题。jsfiddle.net 是玩这类东西的好地方。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-05T11:15:39.553

您通常可以使用透明边框和 background-clip 属性来模拟最小边距。这是一个例子： [https ://codepen.io/waterplea/pen/MWKYPxW](https://codepen.io/waterplea/pen/MWKYPxW)

```
.margin {
  width: 400px;
  padding: 40px;
  box-sizing: border-box;
  background: white;
  background-clip: padding-box; // necessary for border to be transparent
  margin: auto;
  border-radius: 48px; // 48 - 40 = 8px border radius
  border: 40px solid transparent; // 40px minimum margin
  box-shadow: inset 0 0 0 1px gainsboro; // imittating 1px solid border;
} 
```

注意：如果你使用溢出：隐藏在你的容器上，没有办法像那样投下阴影。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2022-02-20T01:32:00.443

您可以设置最大宽度，而不是使用边距，因此在小屏幕上您将获得至少 5px 的空间：

```
margin: 5px auto;
max-width: calc(100% - 5px) 
```

也许 9 年前不支持，但现在所有的浏览器都支持`calc`属性。

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2012-11-23T10:16:53.677

如果我看到您的代码和问题，您可以这样写：

```
div{
 margin:5px 10% 5px 5%;
} 
```

检查更多[http://jsfiddle.net/spVNu/1/](http://jsfiddle.net/spVNu/1/)

# c++ - Inconsistency between boost::regex and std::regex

> ID：13526884
> 
> 赞同：5
> 
> 时间：2012-11-23T10:11:04.617
> 
> 标签：c++, regex, boost, c++11

> **Possible Duplicate:**
> [No matches with c++11 regex](https://stackoverflow.com/questions/11269766/no-matches-with-c11-regex)

I was using `boost::regex` for some stuff before and for some new stuff I wanted to use `std::regex` until I noticed the following inconsistency - so question is which one is correct?

```
#include <iostream>
#include <regex>
#include <string>

#include <boost/regex.hpp>

void test(std::string prefix, std::string str)
{
  std::string pat = prefix + "\\.\\*.*?";

  std::cout << "Input   : [" << str << "]" << std::endl;
  std::cout << "Pattern : [" << pat << "]" << std::endl;

  {
    std::regex r(pat);
    if (std::regex_match(str, r))
      std::cout << "std::regex_match: true" << std::endl;
    else
      std::cout << "std::regex_match: false" << std::endl;

    if (std::regex_search(str, r))
      std::cout << "std::regex_search: true" << std::endl;
    else
      std::cout << "std::regex_search: false" << std::endl;
  }

  {
    boost::regex r(pat);
    if (boost::regex_match(str, r))
      std::cout << "boost::regex_match: true" << std::endl;
    else
      std::cout << "boost::regex_match: false" << std::endl;

    if (boost::regex_search(str, r))
      std::cout << "boost::regex_search: true" << std::endl;
    else
      std::cout << "boost::regex_search: false" << std::endl;
  }
}

int main(void)
{
  test("FOO", "FOO.*");
  test("FOO", "FOO.*.*.*.*");
} 
```

For me (gcc 4.7.2, -std=c++11, boost: 1.51), I see the following:

```
Input   : [FOO.*]
Pattern : [FOO\.\*.*?]
std::regex_match: false
std::regex_search: false
boost::regex_match: true
boost::regex_search: true
Input   : [FOO.*.*.*.*]
Pattern : [FOO\.\*.*?]
std::regex_match: false
std::regex_search: false
boost::regex_match: true
boost::regex_search: true 
```

If I change the pattern to a greedy pattern (`.*`), then I see:

```
Input   : [FOO.*]
Pattern : [FOO\.\*.*]
std::regex_match: true
std::regex_search: false
boost::regex_match: true
boost::regex_search: true
Input   : [FOO.*.*.*.*]
Pattern : [FOO\.\*.*]
std::regex_match: true
std::regex_search: false
boost::regex_match: true
boost::regex_search: true 
```

Which one to believe? I would guess that `boost` is correct here?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-26T00:33:25.970

gcc 当然不支持 tr1/c++11 正则表达式，但要给出更一般的答案，根据其文档， boost.regex 的默认值为**perl 5 ，而 C++ 默认值为****ECMAScript**，由几个与语言环境相关的元素扩展POSIX BRE。

具体来说， boost.regex 支持[此处列出的 perl 扩展。](http://www.boost.org/doc/libs/1_52_0/libs/regex/doc/html/boost_regex/syntax/perl_syntax.html#boost_regex.syntax.perl_syntax.perl_extended_patterns)，但您没有使用其中任何一个。

现在，我很好奇并通过另外两个编译器运行了您的测试：

铿锵的输出：

```
~ $ clang++ -o test test.cc -std=c++11 -I/usr/include/c++/v1 -lc++ -lboost_regex
~ $ ./test
Input   : [FOO.*]
Pattern : [FOO\.\*.*?]
std::regex_match: true
std::regex_search: true
boost::regex_match: true
boost::regex_search: true
Input   : [FOO.*.*.*.*]
Pattern : [FOO\.\*.*?]
std::regex_match: false
std::regex_search: true
boost::regex_match: true
boost::regex_search: true 
```

Visual Studio 2012 的输出（无增强）

```
Input   : [FOO.*]
Pattern : [FOO\.\*.*?]
std::regex_match: true
std::regex_search: true
Input   : [FOO.*.*.*.*]
Pattern : [FOO\.\*.*?]
std::regex_match: true
std::regex_search: true 
```

仔细观察 clang 的差异，在第二个测试中，它与模式匹配`[FOO\.\*.*?]`并且`[FOO.*]`不`[.*.*.*]`匹配，这很快归结为与`[S*?]`boost/visual studio 不同的匹配。我认为这也是一个错误。

# c# - 如何使用从 HtmlHelper 生成的序列化对象和 html 向 ajax 调用发送 json 响应

> ID：13526885
> 
> 赞同：0
> 
> 时间：2012-11-23T10:11:09.277
> 
> 标签：c#, html, ajax, json, html-helper

使用 C# 和 MVC，为了响应使用 Jquery 进行的 ajax 调用，我尝试发送一个包含 a`List<int>`和一些 html 代码的对象作为响应，该对象由`HtmlHelperExtension`我编写的 a 生成。

以前，我只发回 html，所以我`HtmlHelper`在局部视图中渲染并返回它。但现在我想，例如，创建一个具有 2 个属性、列表和表示 html 的字符串的对象，在 Json 中序列化该对象并将其发送回以响应 ajax 调用。

但似乎除了使用hack之外，是不可能的，也不建议`HtmlHelper`在Controller中使用a。

我还想忘记 htmlHelper 的事情，而只是在一个类中呈现我的 html 代码，这将是我当前`HtmlHelper`.

您是否认为有一种方法可以将 a 放在`List<int>`Controller 中，从 a 返回的 html`HtmlHelper`放在一个对象中并将其序列化以将其发送回 javascript 中的 ajax 调用？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:20:57.217

MVC 本身并不支持对字符串的视图，它只是简单地返回它。但是，您可以使用允许这样做的方法创建自定义控制器。我在某个地方的互联网上找到了这段代码——不记得在哪里——它做得很好。

```
public class ExtendedController : Controller
{
    public string RenderPartialView(string viewName, object model)
    {
        if (string.IsNullOrEmpty(viewName))
            viewName = this.ControllerContext.RouteData.GetRequiredString("action");

        this.ViewData.Model = model;
        using (var sw = new StringWriter())
        {
            ViewEngineResult viewResult = ViewEngines.Engines.FindPartialView(this.ControllerContext, viewName);
            var viewContext = new ViewContext(this.ControllerContext, viewResult.View, this.ViewData, this.TempData, sw);
            viewResult.View.Render(viewContext, sw);

            return sw.GetStringBuilder().ToString();
        }
    }
} 
```

然后将控制器创建为

```
public class MyController : ExtendedController
{
    public ActionResult MyAjaxOp()
    {
        List<int> MyList = new List<int>(); // Populate the list as required
        object MyHelperModel = new object(); // View Model as required
        object rtn = new { html = RenderPartialView("MyHelperView", MyHelperModel), list = MyList}
        return Json(rtn, JsonRequestBehavior.AllowGet);
    }
} 
```

这将允许您将呈现的视图放入字符串并将其传递给客户端。

以上是未经测试的示例代码，请根据您的要求进行修改。

# java - Java/Android 中的事件处理

> ID：13526890
> 
> 赞同：-1
> 
> 时间：2012-11-23T10:11:29.637
> 
> 标签：java, android, multithreading, events, event-handling

我正在构建一个 android 应用程序，我有一个主视图，它响应导致 GUI 自身重绘的触摸事件。当某些网络事件发生时，我还必须重新绘制 GUI。我有一个单独的线程在套接字上侦听。目前我有网络线程重绘 GUI，而不是 GUI 线程来做。这似乎没问题，因为重绘 GUI 是可以预测的。

但是，在某些情况下，我会从网络收到一条消息，该消息需要重绘，但在重绘完成之前需要用户输入。我现在犹豫是否让网络线程执行此操作，就好像用户没有快速输入一样，网络线程将等待该输入而不是侦听进一步的通信。

解决方案似乎是让网络事件在这种情况发生时触发一个事件，然后 GUI 线程可以像监听 onTouch 事件一样监听它。

1）我如何实现这个？

其他几件事

2) 有可能诱使 android 认为 onTouch 事件已经发生，而实际上它并没有发生

3) 当 GUI 上的按钮触发事件时，线程执行 onAction 方法。is 是 GUI 线程还是按钮是否存在于它自己的线程中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:15:39.323

**-**你可以使用`java.util.concurrent.CountDownLatch`.

**-**您可以等待场景发生，当它完成时让 GUI 线程可以开始工作。

# ruby - 有没有办法改变错误消息的显示方式？

> ID：13526891
> 
> 赞同：1
> 
> 时间：2012-11-23T10:11:30.390
> 
> 标签：ruby, error-handling

我想改变错误消息及其回溯的显示方式，而不需要`rescue`-ing 错误并调用自定义方法。有没有办法做到这一点？显示错误消息时是否有可以覆盖的方法？如果它是 Ruby 的内置部分，有人可以指点我格式化错误消息和回溯的相关 C 代码吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T11:50:51.317

matugm 对 samuil 链接的问题的回答为我指明了方向。我可以做这个：

```
at_exit do
  print_the_altered_error_message($!) if $! and !$!.kind_of?(SystemExit)
  $stderr.reopen(IO::NULL)
end 
```

这对语法错误无效，但对于大多数其他情况，它会起作用。

# sql - 当要连接的表是列中的变量时如何连接表

> ID：13526893
> 
> 赞同：0
> 
> 时间：2012-11-23T10:11:32.340
> 
> 标签：sql

我有一张桌子叫`Table1`.

该表包含如下列：

*   （`sourceID`连接`ID`的）
*   （`sourceTable`要连接的表，这个是可变的）

我的查询：

```
SELECT T.Category, J.Tariff
FROM Table1 as T
INNER JOIN T.SourceTable J ---- This needs to be changed
ON T.sourceID = J.id 
```

这可能吗？

基本上，每一行的源表都可以不同

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:27:15.003

原则上可以使用左连接，但前提是您有一组固定的查找表（否则，您需要动态构建 SQL 语句）：

```
SELECT T.Category, coalesce(source1.tariff, source2.tariff) as tariff
FROM Table1 as T
LEFT OUTER JOIN T.source1 
  ON T.sourceID = source1.id and t.sourcetable = 'source1'
LEFT OUTER JOIN T.source2 
  ON T.sourceID = source2.id and t.sourcetable = 'source2' 
```

但正如其他答案中提到的，这通常表明您的数据库设计存在缺陷。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:18:01.467

SQL 查询中的表名不能是动态的。你必须找到一种不同的方法来做到这一点。
使用 a`Stored Procedure`和/或 EXEC()。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:18:27.973

我会说这通常是一个坏主意。即使可能，它基本上也会阻止优化器做很多事情（这会导致查询速度大大降低）。

我建议更改您的数据库设计以使您尝试做的事情更容易（考虑拥有一个您想要加入的表具有一对一映射的基表），而不是试图让它工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T10:23:53.730

您可以使用联合，并使用表指针按列过滤。像这样的东西：

```
SELECT T.Category, J.Tariff
FROM Table1 as T
INNER JOIN T.SourceTable1 J ON T.sourceID = J.id
where T.sourceTable = '1'
union
SELECT T.Category, J.Tariff
FROM Table1 as T
INNER JOIN T.SourceTable2 J ON T.sourceID = J.id
where T.sourceTable = '2' 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T10:36:05.907

尝试这样的事情：

`VIEW`1）使用所有源表创建一个：

```
CREATE VIEW source_tables AS
(SELECT 'table_1' as table_name,
        id,
        value
 FROM table_1
 UNION ALL
 SELECT 'table_2' as table_name,
        id,
        value
 FROM table_2
 UNION ALL
 ..........
 SELECT 'table_n' as table_name,
        id,
        value
 FROM table_n); 
```

2）使用`VIEW`从源表中获取值：

```
SELECT T.category, S.value
FROM base_table as T
JOIN source_tables S ON T.sourceID = S.id AND T.SourceTable = S.table_name 
```

# string - 批量文本洗牌系统

> ID：13526896
> 
> 赞同：0
> 
> 时间：2012-11-23T10:11:37.590
> 
> 标签：string, batch-file

我有一个用户可定义长度的文本字符串作为示例，用户输入了 1234567890

我想要的是取出每个第一个字符，然后是每个第三个字符

所以我们得到以下

```
1st  | 1234567890 = 1
3rd  | 234567890  = 14
1st  | 23567890   = 142
3rd  | 3567890    = 1426
1st  | 357890     = 14263
3rd  | 57890      = 142638
1st  | 5790       = 1426385
3rd  | 790        = 14263850
1st  | 79         = 142638507
3rd  | 9          = 1426385079 
```

我还需要考虑一个事实，即最后两个数字将少于三位数。

关于如何批量实现这一目标的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T13:13:17.537

这是[批处理字符串操作](http://ss64.com/nt/syntax-substring.html)真正有用的地方：

```
@echo off
set str="1234567890"

for %%a in (%str%) do set str=%%~a
set newstr=
:Loop
set "first=%str:~0,1%"
set "fourth=%str:~3,1%"
set "str=%str:~1,2%%str:~4%"
set "newstr=%newstr%%first%%fourth%"
if not "%fourth%"=="" goto Loop
set "newstr=%newstr%%str:~1%%str:~0,1%

echo.%newstr% 
```

对于`1234567890`您问题的示例输入，输出确实是：

```
1426385079 
```

### 解释

此代码使用循环（在某种程度上相当于`while`C 中的循环）。

在循环的每次迭代中，第一个和第四个字符都从 中提取`str`并附加到 中`newstr`，最终将保存最终输出。
接下来，`str`然后通过附加以下两个子字符串来更新：

*   `%str:~1,2%`从第二个字符开始提取两个字符（索引从 0 开始，因此第二个索引为 1）。
*   `%str:~4%`提取从第五个开始的所有字符

的新值`str`基本上是旧值，没有第一个和第四个字符。

当`str`包含三个或更少的字符时，循环停止（即当`fourth`是一个空字符串！）。在循环之后，最后（三个或更少）字符被处理并以`newstr`正确的顺序附加——这是您要考虑的特殊情况。

希望有帮助！

# iphone - iOS<6中访问通讯录出错

> ID：13526897
> 
> 赞同：0
> 
> 时间：2012-11-23T10:11:38.673
> 
> 标签：iphone, objective-c, xcode, abaddressbook, addressbookui

我已经实现了获取联系人的方法。

对于 iOS 6，我使用下面的代码来获得用户的许可：

```
CFErrorRef myError = NULL;
ABAddressBookRef myAddressBook = ABAddressBookCreateWithOptions(NULL, &myError);
ABAddressBookRequestAccessWithCompletion(myAddressBook,^(bool granted, CFErrorRef error)
{
   if(granted)
    {
        [self GetContactInformation];
    }
   else
    {
        UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"Contacts" message:@"You didn't permit us to access your contact details." delegate:nil cancelButtonTitle:@"OK" otherButtonTitles: nil];
        [alert show];
        [alert release];
    }
});
CFRelease(myAddressBook); 
```

上面的代码在 iOS 6 中工作正常，但在 iOS 6 下我得到以下错误：

![在此处输入图像描述](../Images/fc90a98228f6d2fae04631adc38a90e8.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T11:59:32.477

您可以使用 MACROS 进行过滤：

```
#if __IPHONE_OS_VERSION_MAX_ALLOWED >= 60000
CFErrorRef myError = NULL;
ABAddressBookRef myAddressBook = ABAddressBookCreateWithOptions(NULL, &myError);
ABAddressBookRequestAccessWithCompletion(myAddressBook,^(bool granted, CFErrorRef error)
{
   if(granted)
    {
        [self GetContactInformation];
    }
   else
    {
        UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"Contacts" message:@"You didn't permit us to access your contact details." delegate:nil cancelButtonTitle:@"OK" otherButtonTitles: nil];
        [alert show];
        [alert release];
    }
});
CFRelease(myAddressBook); 
#else
    [self GetContactInformation];
#endif 
```

让我们知道它是否有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:17:33.207

好吧，看来你已经知道答案了。这两个函数都***仅限***于 iOS 6+ ，并且在之前的 SDK 中不存在，这意味着它们的符号是未定义的。你必须编码到最小的公分母，或者将你的目标提高到 iOS 6。

# google-bigquery - 错误：未找到：项目

> ID：13526898
> 
> 赞同：2
> 
> 时间：2012-11-23T10:11:40.907
> 
> 标签：google-bigquery

出于好奇，我最近注册了 Google BigQuery，发现它允许人们在不启用计费的情况下使用示例数据集。我按照安装步骤操作，首先创建了一个名为“Test Cloud Project”的项目，然后在 GoogleAPI 的服务选项卡中启用了 BigQuery。

我尝试运行以下命令：

```
 SELECT repository.url FROM [publicdata:samples.github_nested] LIMIT 1000 
```

并收到错误`Error: Not Found: Project p-testcloud-bren`

我是否错过了某处的设置步骤，或者您是否必须启用计费才能实际查询示例数据集？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-23T23:14:32.963

您无需启用计费即可对 publicdata:sample 表运行查询（每月处理的前 100GB 数据是免费的）。

如果您要进行自己的 API 调用，请仔细检查您的“项目 ID”是否正确。对于 BigQuery API 的请求，您应该能够使用项目编号（唯一的整数值）或项目 ID（您可以选择的字母数字值）。

# javascript - 传递参数时JavaScript不调用函数

> ID：13526899
> 
> 赞同：2
> 
> 时间：2012-11-23T10:11:48.680
> 
> 标签：javascript, dom-events, parameter-passing

传递参数时，JavaScript 不会调用函数。

我正在动态创建 HTML。

```
checkbox2 = document.createElement("<input type=\"checkbox\"  name=\"wdrs_contact\" checked=\"Yes\" onclick =\"setPartnersInfo('\"+id+\"');\" />");

function setPartnersInfo(ch)
{
    alert(ch)
} 
```

但是当我在函数调用中没有参数时，它正在工作。

详情如下：

```
function createPartnerTable() {

    var partnerInfo = document.getElementById("partnersInfo");
    var data = partnerInfo.value;

    // everything was successful so now come back and update, first clear the old attributes table
    var partnersBody = document.getElementById("partnersBody");
    var rowCount = partnersBody.rows.length;
    for( var i = 0; i < rowCount; i++ )
    {
        partnersBody.deleteRow(0);
    }

    if (data ==null || data.length==0)
        return;

    // now parse and insert each partner row
    //alert("data : "+data);
    var index = 0;
    var lastIndex = 0;
    while( index < data.length && index != -1 )
    {
        lastIndex = data.indexOf("|", index);
        if( lastIndex == -1 ){
            break;
        }

        var id = data.substring(index, lastIndex);

        index = lastIndex + 1;
        lastIndex = data.indexOf("|", index);
        var name = data.substring(index, lastIndex);

        index = lastIndex + 1;
        lastIndex = data.indexOf("|", index);
        var partnerType = data.substring(index, lastIndex);

        index = lastIndex + 1;
        lastIndex = data.indexOf("|", index);
        var status = data.substring(index, lastIndex);

        index = lastIndex + 1;
        lastIndex = data.indexOf(";", index);
        var jdeCode = data.substring(index, lastIndex);

        //ganessin
        index = lastIndex + 1;
        lastIndex = data.indexOf("#", index);
        var wdrsContact = data.substring(index, lastIndex);

        row = partnersBody.insertRow(partnersBody.rows.length);

        //check box with id for removal
        var checkboxCell = row.insertCell(0);
        checkboxCell.align="center";
        var checkbox = document.createElement('<input type="checkbox"  name="selectedPartnerIds" />');
        //var checkbox = document.createElement("input");
        //checkbox.type = 'checkbox';
        //checkbox.checked=false;
        //checkbox.name = 'selectedPartnerIds';
        checkbox.value=id;
        //checkbox.style.align = "center";
        //checkbox.style.width = '40%';
        checkboxCell.appendChild(checkbox);

        var check = document.getElementsByName('selectedPartnerIds');

        //Name
        var nameCell = row.insertCell(1);
        nameCell.appendChild(document.createTextNode(name));

        //Partner Type
        var partnerTypeCell = row.insertCell(2);
        partnerTypeCell.align="center";
        partnerTypeCell.appendChild(document.createTextNode(partnerType));

        //Status
        var statusCell = row.insertCell(3);
        statusCell.align="center";
        statusCell.appendChild(document.createTextNode(status));

        //JDE Code
        var jdeCodeCell = row.insertCell(4);
        jdeCodeCell.align="center";
        jdeCodeCell.appendChild(document.createTextNode(jdeCode));

        //ganessin
        var checkboxCell2 = row.insertCell(5);
        checkboxCell2.align="center";
        var checkbox2 = "";
        //alert("wdrsContact "+wdrsContact);
        var x = "setPartnersInfo("+id+")";
            alert("x = "+x);
        if(wdrsContact == "true")
        {
            alert("true");

            //checkbox2 = document.createElement('<input type="checkbox"  name="wdrs_contact" checked="Yes" onclick="+x+" onchange="+x+" />');
            checkbox2 = document.createElement("<input type=\"checkbox\"  name=\"wdrs_contact\" checked=\"Yes\" onclick =\"setPartnersInfo(\"+id+\");\" />");
            //String(document.createElement('<input type="checkbox"  name="wdrs_contact" checked="Yes" onchange="setPartnersInfo("+id+");"/>'))
        }
        else
        {
            alert("false");
            //checkbox2 = document.createElement('<input type="checkbox"  name="wdrs_contact" onclick="+x+" onchange="+x+" />');
            checkbox2 = document.createElement("<input type=\"checkbox\"  name=\"wdrs_contact\" onclick=\"setPartnersInfo(\"+id+\");\" />");
        }
        //alert("id "+id);
        //checkbox2.value=id;
       // alert("checkbox2 "+checkbox2);
        checkboxCell2.appendChild(checkbox2);

        // increment the index to process next
        index = lastIndex + 1;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:25:06.840

以下将产生语法错误：

```
"onclick =\"setPartnersInfo('\"+id+\"');\"" 
```

你应该使用：

```
"onclick =\"setPartnersInfo(\'"+id+"\');\"" 
```

或者，如果您的 id 是数字（您不需要引号）：

```
"onclick =\"setPartnersInfo("+id+");\"" 
```

如果您希望在 html 属性中使用双引号，则必须将它们转换为`&quot;`

因此，以下内容也应该起作用：

```
"onclick =\"setPartnersInfo(&quot;"+id+"&quot;);\"" 
```

虽然*应该*不是真正正确的词，因为像这样使用事件侦听器生成 html 并不是最好的方法。

所以总的来说你的字符串应该是：

```
("<input type=\"checkbox\"  name=\"wdrs_contact\" checked=\"Yes\" onclick =\"setPartnersInfo('"+id+"');\" />"); 
```

尽管要始终避开转义，但为什么不使用：

```
('<input type="checkbox"  name="wdrs_contact" checked="Yes" onclick ="setPartnersInfo(\''+id+'\');" />'); 
```

### 为了改进

实现您正在做的事情的更好方法是将您的代码从您的标记中分离出来，让浏览器生成您的标记，这更容易阅读并且往往更快 - 另外这意味着您不必担心太多关于转义引号；）

```
checkbox2 = document.createElement('input');
checkbox2.type = 'checkbox';
checkbox2.name = 'wdrs_contact';
checkbox2.checked = 'checked';
checkbox2.onclick = function(){
  setPartnersInfo(id);
} 
```

上面要注意的一个主要区别是，在您将`id`var 放入 html 字符串之前 - 它的当前值记录在该字符串中。上面提到了对 id 变量的引用，*但不是 value*。如果`id`在此之后的任何时候更改 的值，它仍然会在引用的任何位置更改。要解决此问题，您可以使用`closure`.

这是通过将值传递给`id`一个函数来实现的，该函数基本上改变了用于存储你的值的变量`id`，`stored_id`然后这个函数返回一个用作你的事件处理程序的函数。此事件处理函数可以访问`stored_id`var，并且无论您更改多少`id`，都`stored_id`不会更改。这有点复杂，如果您不了解闭包，那么这是一个很好的阅读主题。

```
checkbox2.onclick = (function(stored_id){
  return function(){setPartnersInfo(stored_id);};
})(id); 
```

为了进一步改进上述内容，您应该避免使用内联事件处理程序，因此：

```
checkbox2 = document.createElement('input');
checkbox2.type = 'checkbox';
checkbox2.name = 'wdrs_contact';
checkbox2.checked = 'checked';
/// for modern browsers
if ( checkbox.addEventListener ) {
  checkbox.addEventListener('click', function(){
    setPartnersInfo('your id here');
  });
}
/// for old ie
else {
  checkbox.attachEvent('onclick', function(){
    setPartnersInfo('your id here');
  });
} 
```

# tomcat - tomcat 的域名

> ID：13526903
> 
> 赞同：5
> 
> 时间：2012-11-23T10:11:58.097
> 
> 标签：tomcat, dns

我想为 Tomcat 6.0 设置一个 DNS 名称。我通过在 Tomcat 6.0 中编辑 server.xml 文件进行了尝试。我的要求是有效的域名，而不是 localhost。通常，`http://localhost:8080`用于访问 tomcat 管理器页面。我试图改变它，但我不能。请帮我设置一个域名。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-23T10:16:48.037

如果tomcat的host没有公网域名，需要编辑host文件。如果您的操作系统是 unix 系列（即 Linux、MacOSX 等），您可以在`/etc/hosts`. 您可以添加以下行：

```
127.0.0.1 your.host.name 
```

如果您的操作系统是 windows，您可以在

```
C:\Windows\System32\drivers\etc\hosts 
```

修改hosts文件后，重启tomcat。`http://your.host.name:8080`然后，您可以通过在浏览器的地址字段中输入来访问您的 tomcat 。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-11-12T18:48:25.087

```
step1>open notepad as administrator
step2>in notepad open C:\Windows\System32\drivers\etc and select hosts file.
step3>replace # 127.0.0.1 localhost to 127.0.0.1 www.yourdomain.com and save the file.
note: not click on save as. don't forget to remove #
step4>add your application to webapp folder
step5>open tomcat and search server.xml and open it. and then change http port no to 80
<Connector port="80" protocol="HTTP/1.1" connectionTimeout="20000" redirectPort="8443" />

step6>under <Engine> tag add the following
<Host name="www.yourdomain.com"  appBase="webapps"
        unpackWARs="true" autoDeploy="true">
        <Context path="" docBase="your project name"/>
        </Host>
adn save the file.
note: Make Sure that you have welcome file config.. in web.xml

step7>now restart tomcat server
step8>open browser and type www.yourdomain.com
........................................................... 
```

# python - python错误中的瑞典语字符

> ID：13526909
> 
> 赞同：2
> 
> 时间：2012-11-23T10:12:14.967
> 
> 标签：python, unicode

我正在制作一个程序，它使用带有瑞典语字符的单词并将它们存储在一个列表中。我可以在放入列表之前打印瑞典字符，但是放入之后，它们就不会正常显示，只是一堆乱七八糟的字符。

这是我的代码：

```
# coding=UTF-8 

def get_word(lines, eng=0):
    if eng == 1: #function to get word in english
        word_start = lines[1]

def do_format(word, lang):
    if lang == "sv":
        first_word = word
        second_word = translate(word, lang)
        element = first_word + " - " + second_word
    elif lang == "en":
        first_word = translate(word, lang)
        second_word = word
        element = first_word + " - " + second_word
    return element

def translate(word, lang):
    if lang == "sv":
        return "ENGLISH"
    if lang == "en":
        return "SWEDISH"

translated = []
path = "C:\Users\LK\Desktop\Dropbox\Dokumentai\School\Swedish\V47.txt"

doc = open(path, 'r')           #opens the documen
doc_list = []                   #the variable that will contain list of words
for lines in doc.readlines():   #repeat as many times as there are lines
    if len(lines) > 1:          #ignore empty spaces
        lines = lines.rstrip()  #don't add "\n" at the end
        doc_list.append(lines)  #add to the list
for i in doc_list:
    print i

for i in doc_list:
    if "-" in i:
        if i[0] == "-":
            element = do_format(i[2:], "en")
            translated.append(element)
        else:
            translated.append(i)
    else:
        element = do_format(i, "sv")
        translated.append(element)

print translated
raw_input() 
```

我可以将问题简化为一个简单的代码：

```
# -*- coding: utf-8 -*-

test_string = "ö"
test_list = ["å"]

print test_string, test_list 
```

如果我运行它，我会得到这个

> > Ã¶ ['\xc3\xa5']

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:25:37.317

有很多事情需要注意：

1.  破碎的性格。这似乎是因为您的 python 似乎输出 UTF-8，但您的终端似乎配置为某种 ISO-8859-X 模式（因此有两个字符）。我会尝试在 Python 2 中使用正确的 unicode 字符串！（总是`u"ö"`代替`"ö"`）。并检查您的语言环境设置（`locale`在 linux 上时的命令）
2.  列表中奇怪的字符串。在 Python`print e`中会打印出`str(e)`. 对于列表（例如`["å"]`），其实现`__str__`与`__repr__`. 由于`repr(some_list)`将调用`repr`列表中包含的任何元素，因此您最终会得到您看到的字符串。

示例`repr(string)`：

```
>>> print u"ö"
ö
>>> print repr(u"ö")
u'\xf6'
>>> print repr("ö")
'\xc3\xb6' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:26:37.010

如果您打印列表，则可以将其打印为某种结构。例如，您应该使用`join()`字符串方法将其转换为字符串。使用您的测试代码，它可能看起来像：

```
print test_string, test_list
print('%s, %s, %s' % (test_string, test_list[0], ','.join(test_list))) 
```

并输出：

```
ö ['\xc3\xa5']
ö, å, å 
```

我认为在您的主程序中，您可以：

```
print('%s' % (', '.join(translated))) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:22:49.953

您可以使用[`codecs`](http://docs.python.org/2/library/codecs.html)模块来指定读取字节的编码。

```
import codecs

doc = codecs.open(path, 'r', encoding='utf-8')           #opens the document 
```

[`codecs.open`](http://docs.python.org/2/library/codecs.html#codecs.open)使用指定编码解码原始字节后，打开的文件将为您提供 unicode 字符串。

在您的代码中，在您的字符串文字前加上`u`, 以使其成为 unicode 字符串。

```
# -*- coding: utf-8 -*-

test_string = u"ö"
test_list = [u"å"]

print test_string, test_list[0] 
```

# asp.net-mvc-3 - IE 8.0 相同版本 2 pcs，Javascript 错误仅发生在 1 上？是.js还是不是？

> ID：13526910
> 
> 赞同：2
> 
> 时间：2012-11-23T10:12:22.310
> 
> 标签：asp.net-mvc-3, internet-explorer-8, knockout.js

2台机器，都XP，都在IE 8.0.6001.187上，但只有1台得到这个错误？

我在这段代码中收到一个 js 错误“长度未定义”：

```
return ko.utils.arrayFirst(this.clinicianList, function (t) {
    t.Id == code;
}); 
```

我追踪到视图模型

```
var locationViewModel = {
clinicianList: clinicians
...etc
}; 
```

它传入原始数组以从控制器中剔除绑定，从该行返回一个空对象：

```
var clinicians = @Html.Raw(Json.Encode(ViewBag.ReportTo)); 
```

但正如我所说。仅在具有特定 IE 版本（？？？）的特定 XP 上。我已经以多种方式重写了 .js，直到我发现它是上面从控制器获取空对象的那一行。发生这种情况时，“var临床医生”为空。

那么它是那台 XP 机器本地的东西吗？那会是什么？我不知道的缓存？

有人有想法吗？

（我在 IE 7（工作）和 FF（工作）问题的机器上对其进行了测试！）

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T18:41:33.327

您能否检查两个系统上浏览器中兼容性视图设置的差异？

# toggle - 如何同时为 2 个不同的 div 进行多个切换？

> ID：13526912
> 
> 赞同：0
> 
> 时间：2012-11-23T10:12:26.770
> 
> 标签：toggle, jquery

我需要使用 jquery 为 2 个不同的 div 处理多个滑动切换。

示例：当我单击一个按钮时，它应该向左滑动第一个 div，同时它应该扩展第二个 div，覆盖第一个 div 的整个区域。

提前致谢。

这是我使用的一段代码：

```
$(document).ready(function() {
    $('#foo').click(function() {
        $('#accordian').toggle("slide", 300);
        if ($(this).val() == "Hide Menu"){
            $(this).val("Show Menu");
            $('#area').css({"max-width":"960px"});
        }else{
            $(this).val("<< Hide Menu");
            $('#area').css({"max-width":"730px"});
        }
    }); 
```

# android - Android ActionBar (ActionBarCompat) Spinner 下拉列表？

> ID：13526913
> 
> 赞同：6
> 
> 时间：2012-11-23T10:12:27.623
> 
> 标签：android, android-actionbar, android-actionbar-compat

我目前正在工作面向 ActionBar (ActionBarCompat) 的项目，我需要一些关于 actionbar 的说明。

我正在使用这样的微调器布局，

```
<Spinner 
        android:id="@+id/SpinnerList"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" /> 
```

我的代码，

```
public class MainActivity extends ActionBarActivity implements  OnItemSelectedListener{
    private boolean mAlternateTitle = false;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        ActionBar bar = getActionBar();
        bar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);

        Spinner spinner = (Spinner) findViewById(R.id.SpinnerList);
        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this, R.array.locations, android.R.layout.simple_spinner_item);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner.setAdapter(adapter);
        spinner.setOnItemSelectedListener(this);
}
} 
```

它在我的 android Galaxy ace 中显示正常的微调器。我需要如下所示的输出，那个位置是 android 2.3。请给建议。

![在此处输入图像描述](../Images/65734a873c9ae343a790dd874700f6ff.png)

谢谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-21T11:32:15.177

试试这个代码。 **在菜单/main.xml 中：**

```
<item
    android:id="@+id/menu_spinner1"
    android:showAsAction="always"
    android:orderInCategory="1"
    android:actionViewClass="android.widget.Spinner" > 
```

**在活动中：**

```
private MenuItem mSpinnerItem1 = null;

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.

    MenuInflater mi=getMenuInflater();
    mi.inflate(R.menu.main, menu);
    mSpinnerItem1 = menu.findItem( R.id.menu_spinner1);
    View view1 = mSpinnerItem1.getActionView();
    if (view1 instanceof Spinner)
    {
        final Spinner spinner = (Spinner) view1;
        spinner.setAdapter(ad1);

        spinner.setOnItemSelectedListener(new OnItemSelectedListener() {

            @Override
            public void onItemSelected(AdapterView<?> arg0, View arg1,
                    int arg2, long arg3) {
                // TODO Auto-generated method stub

            }

            @Override
            public void onNothingSelected(AdapterView<?> arg0) {
                // TODO Auto-generated method stub

            }
        });

    }

    return true;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-10-15T11:00:01.447

I feel it's time to start migrating from ABS to ABC easily by ActionBarCompat library!

Solution for spinner (Dropdown list) using **ActionBarCompat** library

```
private void setupSpinner(MenuItem item) {
    //  item.setVisible(getSupportActionBar().getNavigationMode() == ActionBar.NAVIGATION_MODE_LIST);
        item.setVisible(ab.getNavigationMode() == ActionBar.NAVIGATION_MODE_LIST);

        View view = item.getActionView();
        Context context = ab.getThemedContext(); //to get the declared theme
        if (view instanceof Spinner) {
            Spinner spinner = (Spinner) view;

            ArrayAdapter<CharSequence> listAdapter =ArrayAdapter.createFromResource(context,
                    R.array.spinner_data,
                    R.layout.support_simple_spinner_dropdown_item);
            listAdapter.setDropDownViewResource(R.layout.support_simple_spinner_dropdown_item);
            spinner.setAdapter(listAdapter);

        } 
```

make sure you have added following in style.xml:

```
<style name="AppBaseTheme" parent="@style/Theme.AppCompat.Light"></style>

<style name="AppTheme.MyActionBar" parent="@style/Widget.AppCompat.ActionBar"> 
```

More importantly: menu/main.xml should be:

```
<menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:yourapp="http://schemas.android.com/apk/res-auto" >

    <item
        android:id="@+id/menu_spinner"
        yourapp:actionViewClass="android.widget.Spinner"
        android:visible="true"
        yourapp:showAsAction="always"/>

    <item
        android:id="@+id/action_contact"
        android:icon="@drawable/ic_action_user"

        yourapp:showAsAction="ifRoom"
        android:title="@string/action_contact"/>
       <item
        android:id="@+id/action_contact2"
        android:icon="@drawable/ic_action_user"

        yourapp:showAsAction="never"
        android:title="@string/aboutus"/>

</menu> 
```

FYI ActionBarSherlock way we used before:

```
private void setupSpinner(MenuItem item) {
        item.setVisible(getActionBar().getNavigationMode() == ActionBar.NAVIGATION_MODE_LIST);
        View view = item.getActionView();
        if (view instanceof Spinner) {
            Spinner spinner = (Spinner) view;
            spinner.setAdapter(ArrayAdapter.createFromResource(this,
                    R.array.spinner_data,
                    android.R.layout.simple_spinner_dropdown_item));
        } 
```

comparing to ABS ABC you need to set listadapter as `R.layout.support_simple_spinner_dropdown_item`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-24T09:46:46.547

尝试改变

```
android.R.layout.simple_spinner_item 
```

至

```
android.R.layout.simple_list_item_1 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-23T10:36:23.203

我认为您正在使用 ActionBarCompat，这只是一个示例项目，远远不够可用。

尝试使用开源项目[ActionBarSherlock](http://actionbarsherlock.com/)。我已经在几个项目中使用过它，它功能强大且易于使用。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-07-18T03:43:36.117

如果您将像这样通过菜单的 xml 将微调器添加到您的操作栏

`android:actionViewClass="android.widget.Spinner"`

它会像其他菜单操作一样出现在右侧。

如果你想让它出现在左边，你可以做另一种方式。

[![截屏](../Images/0cb2bb2391227af82214e0f2f0d79c5e.png)](https://i.stack.imgur.com/4UTEy.png)

我在一个片段中做它（但你可以用活动来做），并使用`Toolbar`，所以我的代码是：

`activity_main.xml`（`theme`并且`popupTheme`对于箭头颜色很重要）：

```
...
<android.support.v7.widget.Toolbar
        android:id="@+id/toolbar"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="?attr/colorPrimary"
        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"
        app:popupTheme="@style/ThemeOverlay.AppCompat.Light"
        app:subtitleTextColor="@android:color/white"
        app:titleTextColor="@android:color/white" />
... 
```

`action_bar_spinner_title.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@android:id/text1"
    style="?attr/spinnerDropDownItemStyle"
    android:layout_width="match_parent"
    android:layout_height="?attr/actionBarSize"
    android:ellipsize="marquee"
    android:singleLine="true"
    android:textColor="@android:color/white" /> 
```

`action_bar_spinner_list.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<CheckedTextView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@android:id/text1"
    style="?android:attr/spinnerDropDownItemStyle"
    android:layout_width="match_parent"
    android:layout_height="?attr/actionBarSize"
    android:background="@color/colorPrimary"
    android:ellipsize="marquee"
    android:singleLine="true"
    android:textColor="@android:color/white" /> 
```

内部片段：

```
private static final String[] arItems = {"Item 1", "Item 2", "Item 3", };

private Toolbar toolbar;
private Spinner actionBarSpinner;

public ActionBarSpinnerFragment() {
}

@Nullable @Override
public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,
                         @Nullable Bundle savedInstanceState) {

    return inflater.inflate(R.layout.fragment_action_bar_spinner, container, false);
}

@Override
public void onStart() {
    super.onStart();

    final Activity activity = getActivity();
    if(activity != null) {
        ActionBar actionBar = ((AppCompatActivity) activity).getSupportActionBar();
        if (actionBar != null) {
            actionBar.setDisplayShowTitleEnabled(false);

            toolbar = activity.findViewById(R.id.toolbar);
            actionBarSpinner = new Spinner(actionBar.getThemedContext());
            ArrayAdapter<String> spinnerAdapter = new ArrayAdapter<>(activity,
                    R.layout.action_bar_spinner_title, android.R.id.text1, arItems);
            spinnerAdapter.setDropDownViewResource(R.layout.action_bar_spinner_list);
            actionBarSpinner.setAdapter(spinnerAdapter);
            actionBarSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
                @Override
                public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
                    FragmentManager fragMngr = getFragmentManager();
                    if(fragMngr != null) {
                        FragmentTransaction fragTransact = fragMngr.beginTransaction();
                        fragTransact.replace(R.id.frag_frame,
                                TextViewFragment.newInstance(arItems[position]));
                        fragTransact.commit();

                    } else {
                        Log.w(LOG_TAG, "ActionBarSpinnerFragment: FragmentManager == null");
                    }
                }

                @Override
                public void onNothingSelected(AdapterView<?> parent) {
                }
            });
            toolbar.addView(actionBarSpinner);
        } else {
            Log.w(LOG_TAG, "ActionBarSpinnerFragment.onStart: actionBar == null");
        }
    } else {
        Log.w(LOG_TAG,  "ActionBarSpinnerFragment.onStart: activity == null");
    }
}

@Override
public void onStop() {
    super.onStop();
    if(toolbar != null && actionBarSpinner != null) {
        toolbar.removeView(actionBarSpinner);
    } else {
        Log.w(LOG_TAG, "ActionBarSpinnerFragment: toolbar == " + toolbar
                + "; actionBarSpinner == " + actionBarSpinner);
    }
} 
```

# c# - 创建“system.net/defaultProxy”配置部分中指定的 Web 代理时出错

> ID：13526917
> 
> 赞同：0
> 
> 时间：2012-11-23T10:12:52.250
> 
> 标签：c#, asp.net, .net, wcf

尝试连接到 WCF 服务时出现错误：

> “创建在 'system.net/defaultProxy' 配置部分中指定的 Web 代理时出错。”

我正在使用框架 2.0 和 Visual Studio 2005。我的 web.config 内容是：

```
<system.net>
    <defaultProxy>
        <proxy usesystemdefault="true"/>
    </defaultProxy>
</system.net> 
```

我的电脑已经安装：

*   Microsoft .NET Framework 2.0 服务包 2
*   Microsoft .NET Framework 2.0 SDK-ENU
*   （框架 1.1、3,5 和 4.0）

我测试过：

*   我当前的工作文件夹位于本地驱动程序中，并且此文件夹未共享。*   我将此文件夹的所有权限设置为我当前的用户。*   修复框架2.0（Windows添加和删除程序）*   开发团队中的其他人在连接到 WCF 时没有问题。*   如果我创建空白项目并尝试连接，我会得到同样的错误。*   此外，如果我尝试创建新的空白 WCF 服务并尝试连接，我会得到同样的错误。*   当我在浏览器中输入服务 url 时，我可以显示服务（没有连接问题）*   我本地计算机中的防火墙和防病毒软件已禁用。*   如果我尝试通过 svcutil.exe "http://server:8080/Service.svc?wsdl" 连接到服务，我会收到同样的错误。（无法创建网络/代理...）

我怀疑错误描述并不代表真正的问题。这个错误的主要原因是什么？

有可能缺少一些额外的软件吗？

提前感谢大家！我对这个错误感到疯狂！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:33:15.507

不确定这是否有帮助。我遇到了类似的问题，问题是由于以下位置 C:\Windows\Microsoft.NET\Framework64\v2.0.50727\CONFIG/machine.config 的默认代理配置无效

这将取决于您正在使用的框架。

希望这可以帮助

# doctrine - 教义自动删除“（）”

> ID：13526919
> 
> 赞同：0
> 
> 时间：2012-11-23T10:13:00.413
> 
> 标签：doctrine

当我建立一个查询时，学说自动删除了“（）”。

这是我的查询：

```
$query = MstFontTable::getInstance()->createQuery('msf');
$query->where('(full_font_name LIKE ? OR
                full_font_name LIKE ? OR
                full_font_name LIKE ? OR
                full_font_name = ? OR
                font_name = ?)', array(trim($fontName) . ',%',
                                       '%,' . trim($fontName),
                                       '%,' . trim($fontName) . ',%',
                                       trim($fontName),
                                       trim($fontName)
                                      )
             );
$query->andWhere('((tenant_id = 0 OR tenant_id = ?))', array(intval($tenantId))); 
```

这是我使用 $query->getDql() 时的结果：

```
FROM MstFont msf WHERE (full_font_name LIKE ? OR
                full_font_name LIKE ? OR
                full_font_name LIKE ? OR
                full_font_name = ? OR
                font_name = ?) AND ((tenant_id = 0 OR tenant_id = ?)) 
```

这是我使用 $query->getSqlQuery() 时的结果：

```
SELECT m.font_id AS m__font_id, m.tenant_id AS m__tenant_id, m.font_name AS m__font_name, m.font_file AS m__font_file, m.font_category AS m__font_category, m.vendor AS m__vendor, m.full_font_name AS m__full_font_name, m.font_name_ap AS m__font_name_ap FROM mst_font m WHERE (m.full_font_name LIKE ? OR
                full_font_name LIKE ? OR
                full_font_name LIKE ? OR
                full_font_name = ? OR
                font_name = ? AND (m.tenant_id = 0 OR m.tenant_id = ?)) 
```

有没有人帮我解释这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T18:30:57.227

尝试删除多余的括号，例如：

```
$query->andWhere('((tenant_id = 0 OR tenant_id = ?))', array(intval($tenantId))); 
```

至

```
$query->andWhere('tenant_id = 0 OR tenant_id = ?', array(intval($tenantId))); 
```

对第一个也做同样的事情，比如：

```
$query->where('(full_font_name LIKE ? OR ... 
```

至

```
$query->where('full_font_name LIKE ? OR ... 
```

看看会发生什么。你不需要它们，Doctrine 会为这些和/或条件加上括号。

# c++ - 使用 Eclipse CDT 在派生类中自动声明基类纯虚函数

> ID：13526921
> 
> 赞同：2
> 
> 时间：2012-11-23T10:13:06.877
> 
> 标签：c++, autocomplete, eclipse-cdt

Eclipse CDT 中是否有任何方法可以在派生类中自动声明基类的所有（纯）虚函数。我认为我的问题类似于 Eclipse 社区论坛上的这篇文章：http: [//www.eclipse.org/forums/index.php/mv/tree/352408/](http://www.eclipse.org/forums/index.php/mv/tree/352408/)

我认为这是对快速发展的明显需求，但不幸的是无法真正找到答案。

期待您的回答，谢谢！

# symfony - Symfony 2 - 将多个 URL 指向一个控制器？

> ID：13526923
> 
> 赞同：1
> 
> 时间：2012-11-23T10:13:13.860
> 
> 标签：symfony, routing

如何将多个 URL 指向一个控制器？我试过这个：

```
pattern: /
defaults: { _controller: myTestController:Intro:index }
pattern: /intro
defaults: { _controller: myTestController:Intro:index } 
```

但是第一条规则似乎被忽略了，只有第二条规则被阅读。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T10:28:18.643

每条路线都必须单独定义。并且不要使用相同的标识符，否则您将覆盖第一个路由定义。

```
myFirstRoute:
    pattern: /
    defaults: { _controller: airpaprFramesWebsiteBundle:Intro:index }
myDuplicateRoute:
    pattern: /intro
    defaults: { _controller: airpaprFramesWebsiteBundle:Intro:index } 
```

这也可能有帮助 > [symfony2 使用正则表达式对单个控制器操作使用多个 url 模式](https://stackoverflow.com/questions/10438698/symfony2-use-multiple-url-pattern-for-a-single-controller-action-using-regular-e)

下次，尝试使用`app/console router:debug`命令行检查您的路由定义并找出问题所在。

# grails - Grails：如何使用 /** 映射 404

> ID：13526927
> 
> 赞同：3
> 
> 时间：2012-11-23T10:13:23.157
> 
> 标签：grails, action, http-status-code-404, url-mapping, wildcard-mapping

我尝试为未找到的 URL 创建自定义 404 url​​ 映射：

```
"/test" {
    controller="test"
}
"404" {
    controller="application"
    action="send404"
}
"500" {
    controller="application"
    action="send500"
} 
```

但是由于某种原因，控制器和动作永远不会被调用。我得到默认的容器 404 页面。所以，我尝试了：

```
"/test" {
    controller="test"
}
"/**" {
    controller="application"
    action="send404"
}
"500" {
    controller="application"
    action="send500"
} 
```

这似乎工作正常，除了它似乎也对**每个 request**调用 send404 操作。例如，如果我点击 /test，我会看到测试页面，但我也会得到我在 send404() 操作中所做的日志语句。

想法赞赏...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:18:41.493

[如本答案](https://stackoverflow.com/questions/4181122/problems-with-grails-404-urlmapping)所述，您是否尝试过在声明中删除空格？

```
"404"(controller:'application', action:'send404') 
```

还有一个关于此主题的未解决问题[GRAILS-4232 。](http://jira.grails.org/browse/GRAILS-4232)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T20:42:05.917

在 grails 中，有一个 ErrorController，它在 500 上呈现堆栈跟踪，等等。

```
class UrlMappings {
  static mappings {
    "403" (controller: "error", action: "forbidden")
    "404" (controller: "error", action: "notFound")
    "500" (controller: "error", action: "internalError")
  }
} 
```

然后，您可以`render(controller:"error", action"notFound")`在另一个控制器中保持 RESTful。或者它会自动渲染错误控制器的 notFound 动作。

更多细节在这里： http: [//groovy.dzone.com/articles/grails-exception-handling-http](http://groovy.dzone.com/articles/grails-exception-handling-http)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-20T17:44:57.323

可能是浏览器在每次请求时请求的 favicon.ico 导致这种情况发生。

```
// Route 404 to this action to see!
def send404() {

    log.error("404 Page Not Found! " + request.forwardURI)
    response.status = 404;
    render(view:"/application/not-found.gsp")        
} 
```

# java - 如果每个条目只有一个线程在访问它，是否需要同步映射？

> ID：13526931
> 
> 赞同：0
> 
> 时间：2012-11-23T10:13:41.237
> 
> 标签：java, multithreading, concurrency

我有一张地图。让我们说：

```
Map<String, Object> map = new HashMap<String, Object>(); 
```

多个线程正在访问此映射，但是每个线程仅访问映射中自己的条目。这意味着如果线程 T1 将对象 A 插入映射中，则可以保证没有其他线程将访问对象 A。最后线程 T1 也会删除对象 A。

还保证没有线程会遍历映射。

这个地图需要同步吗？如果是，您将如何同步它？（ConcurrentHashMap、Collections.synchronizedMap() 或同步块）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T10:18:25.237

是的，您需要同步或并发映射。想想映射的大小：两个线程可以并行添加一个元素，并且都增加大小。如果您不同步地图，您可能会遇到争用情况，这会导致大小不正确。还有许多其他可能出错的事情。

但是您也可以为每个线程使用不同的映射，不是吗？

ConcurrentHashMap 通常比同步的 HashMap 更快。但选择取决于您的要求。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-23T10:22:09.870

如果您确定每个线程只有一个条目，并且没有线程迭代/搜索地图，那么为什么需要地图？

您可以使用`ThreadLocal`object 代替，它将包含特定于线程的数据。如果您需要保留字符串-对象对，您可以为该对创建一个特殊类，并将其保留在`ThreadLocal`字段中。

```
class Foo {
   String key;
   Object value;
   ....
}

//below was your Map declaration
//Map<String, Object> map = ...
//Use here ThreadLocal instead
final ThreadLocal<Foo> threadLocalFoo = new ThreadLocal<Foo>();
...
threadLocalFoo.set(new Foo(...));
threadLocalFoo.get() //returns your object
threadLocalFoo.remove() //clears threadLocal container 
```

有关 ThreadLocals 的更多信息，您可以在[ThreadLocal javadocs](http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html)中找到。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:28:37.183

对于这种情况，我认为 ConcurrentHashMap 是最好的 Map，因为 Collections.synchronizedMap() 或同步块（基本相同）都有更多的开销。

如果你想插入条目而不只是在不同的线程中读取它们，你必须同步它们，因为 HashMap 的工作方式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T10:18:58.453

**-**首先，编写 a 始终是一种习惯`Thread-safe code`，特别是在上述情况下，而不是在所有情况下。

**-**好吧，最好使用`HashTable`which is a `synchronized` `Map`， or `java.util.concurrent.ConcurrentHashMap<K,V>`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-23T10:19:45.503

您必须在地图中同步写入操作。如果在初始化映射后，没有线程将插入新条目或删除映射中的条目，则不需要同步它。

但是，在您的情况下（每个线程都有自己的条目），我建议使用[ThreadLocal](http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html)，它允许您拥有一个“本地”对象，每个线程都有不同的值。

希望能帮助到你

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-23T10:24:34.850

我会说是的。获取数据不是问题，添加数据才是问题。

有`HashMap`一系列桶（列表）；当您将数据放入 时`HashMap`，hashCode 用于决定该项目在哪个存储桶中，并将该项目添加到列表中。

因此，可能会同时将两个项目添加到同一个存储桶中，并且由于某些运行条件，只有其中一个被有效存储。

# ios - iOS 拖放

> ID：13526932
> 
> 赞同：1
> 
> 时间：2012-11-23T10:13:44.303
> 
> 标签：ios, drag-and-drop

我想做一个简单的应用程序 - 带有字母的游戏。

我正在寻找一个示例，如何将图像拖放到仅属于该图像的位置。

例如，背景上有一张苹果的图片和 5 个带有字母 A、P、P、L、E 的 UIImageView。你拿一个字母 A 并将它带到右边的 UIImageView（它只属于字母 A - 在另一个你不能）。比字母 L 等...直到有写苹果。

我可以将每个字母拖放到屏幕上的任何位置（有很多教程:)）。

**但我不知道，如何将例如字母 A - 放到仅为字母 A 制作的右侧 UIImageView 上。**

你知道一些教程或源代码或示例吗？

非常感谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T23:26:22.317

有一个简单的 iOS 开源框架，称为“iOS-DragAndDrop”，可以满足您的需求。您可以将任何 UIView 定义为可拖动视图，并且可以定义可拖放视图的特定视图（包括不可见视图）。

看看：[Github 上的 iOS-DragAndDrop](http://github.com/brynbellomy/iOS-DragAndDrop "Github 上的 iOS-DragAndDrop")

该链接上也有文档。

# php - 正则表达式匹配单词中的空格

> ID：13526937
> 
> 赞同：1
> 
> 时间：2012-11-23T10:14:01.580
> 
> 标签：php, regex

我正在寻找一个正则表达式，用于在整个输入字符串（包括开头和结尾）中分别替换“word”、“overflow”为“word”和“overflow”之类的单词。

我正在使用 PHP 和 preg_replace。并且需要在按空格分割字符串并进一步过滤之前检测这些单词。当时的任何组合都不会产生应有的结果。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:23:42.697

这个很难，因为：什么是词？什么是词的一部分？

`in cr e di ble`和有什么不同`it is a dog`？

要使用正则表达式，您需要设置规则，例如：

*   单词之间和单词部分之间可以有多少个空格？
*   一个词可以分成多长的部分？
*   字符串中的所有单词都分为几部分？

如果您不能确定这些规则中的任何一条，那么您就无法编写能够解决问题的正则表达式。将单词与字典进行比较以了解它们是否有效应该更有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T10:36:53.007

```
$ string = "w o r d", "o v e r f low"
$ echo 'word w o r d' | sed '/\([^ ][^ ]\)[ ]/s::\1\n:g ' | sed '/[ ]\([^ ][^ ]\)/s::\n\1:g' | sed ':r /\([^ ]\)[ ]/s::\1: ; tr' | sed 'H; ${x;/\n/s:: :g;sc[ ]cc;p};d' 
```

# c# - 我不明白参数声明

> ID：13526938
> 
> 赞同：0
> 
> 时间：2012-11-23T10:14:04.100
> 
> 标签：c#

我得到了这个任务来声明这样的方法......

```
public List<Contact> GetLastContacts([int count = 20])  
{  
    return this._entities.ContactsSet.ToList();  
} 
```

我不明白也找不到有关的信息是`[int count = 20]`作为参数...

有人对他们的意思有解释吗？

/此致！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T10:15:43.223

`int count = 20`在参数中将其声明为参数的默认值。它使参数对于调用者是可选的（或者更确切地说对于调用者来说是可选的）。

因此，在调用它的方法中，您可以执行以下操作：

```
var contacts = GetLastContacts(); // Will compile to GetLastContacts(20) 
```

或者，使用一个值来覆盖默认值：

```
var contacts = GetLastContacts(35); 
```

请参阅MSDN 上的[命名和可选参数](http://msdn.microsoft.com/en-us/library/dd264739.aspx)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T10:16:57.843

`public List<Contact> GetLastContacts(int count = 20)`(no `[]`) 表示该方法有一个`int`名为 的参数`count`，但该参数是可选的，如果调用者将其省略，只调用is`GetLastContacts()`的默认值。`count``20`

方括号在 C#*代码*中不正确，但它们可以出现在文档、工具提示等中，作为参数是可选的指示。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:19:23.447

我想这可能是两种编写“可选参数”的方法的组合。在 C# 中，如果您使用“赋值”指定默认参数值，则可以定义带有可选参数的方法，例如

```
public List<Contact> GetLastContacts(int count = 20) 
```

然后你可以打电话

```
GetLastContacts(count) 
```

指定计数，或

```
GetLastContacts() 
```

它使用默认值 20。

在您的代码中使用`[ ]`可能是编写可选参数的 POSIX 标准化方式，因为它不受 C# 语言或其文档标准的支持，所以根本没有理由存在。

# powershell - Powershell - 拆分字符串并将所有文本输出到右侧

> ID：13526943
> 
> 赞同：1
> 
> 时间：2012-11-23T10:14:29.267
> 
> 标签：powershell

我有几个文本文件，其中包含大量不需要的信息。我基本上想读取文件的每一行并将每行上某个短语之后的所有内容输出到文本文件，例如：

一些不需要的垃圾等等等等 SPLITPHRASE 一些有用的信息

所以基本上我想遍历每一行并在每一行的 SPLITPHRASE 之后提取所有内容。NB 文本文件只包含空格作为分隔符

到目前为止，我已经尝试过 .substring、.linesplit、转换为 CSV 和许多其他东西。我觉得这可能是一个非常简单的解决方案，但由于某种原因，我似乎只是碰壁了！！非常感谢任何帮助

编辑：SPLITPHRASE 前后的字符串长度也不固定

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:30:30.300

像这样？

```
$a = "Some rubbish not needed blah blah SPLITPHRASE Some useful info","Some rubbish not needed  SPLITPHRASE usefull" # can be $a = get-content .\myfile.txt

$a | select-string -patter '(?<=SPLITPHRASE)(.*)'  | 
select -expa matches | select -expa value |  % { $_.trim() } 
```

结果：

```
Some useful info
usefull 
```

# vb.net - 轮询目录以查找具有特定扩展名的文件

> ID：13526945
> 
> 赞同：0
> 
> 时间：2012-11-23T10:14:41.147
> 
> 标签：vb.net

我正在编写一个脚本来查看目录，读取文件名并使用文件名的一部分运行 SQL 查询来修改数据库，然后将文件复制到新位置并删除原始文件。

完成此操作后，它会向预定义的电子邮件地址发送电子邮件确认。

我拥有多数，但无法轮询目录并处理可能存在的所有文件。我对这个 VB.net 的东西很陌生，为了让其他东西正常工作，我刚开始就给它命名。

任何帮助将不胜感激。

```
 Dim fileName As String = "C:\temp\Input\VBTEST1.success"
    Dim pathname As String = "C:\temp\Input\"
    Dim result As String
    Dim sourceDir As String = "C:\temp\Input\"
    Dim processedDir As String = "C:\temp\Input\Processed\"
    Dim fList As String() = Directory.GetFiles(sourceDir, "*.success")
    Dim sqlCommand As SqlCommand

    Public Sub Main()
      result = Path.GetFileName(fileName)

      Console.WriteLine("GetFileName('{0}') returns '{1}'", fileName, result)

      Dim betacell As String = result
      betacell = (result.Remove(7, 8))

      Dim connection As New SqlConnection(My.Settings.connectionString)
      connection.Open()

      Dim updateTransaction As SqlTransaction = connection.BeginTransaction()
      Dim sqlQ As String = "UPDATE " & My.Settings.JobTb & " SET Status = '10'  WHERE  JobNumber ='" & betacell & "'"

      sqlCommand = New SqlCommand(sqlQ, connection, updateTransaction)

      sqlCommand.ExecuteNonQuery()
      updateTransaction.Commit()
      connection.Close()
      SendEmail(My.Settings.emailUsers, "EMAIL TEXT")
      Call MoveFiles()

    End Sub 
```

我现在很高兴，因为 iv 还设法让它查找所有带有 .success 扩展名的文件。现在它处理所有文件，而不是代码中命名的文件。

```
Module Module1    
Dim sourceDir As String = My.Settings.watchPath
Dim processedDir As String = My.Settings.processedPath

  Private loggerName As String = "EmailReleases"

Public Sub log(ex As Exception)
Console.WriteLine("Error: " & ex.ToString)
End Sub

Public Sub log(ByVal s As String)
Console.WriteLine(DateTime.Now.ToString & " [" & loggerName & "] " & s)
End Sub

Public Sub Main()    
Dim inputFiles As String() = Directory.GetFiles(sourceDir, "*.success")
log("Starting processing of .success files in '" & sourceDir & "' ... ")
If (inputFiles.Length > 0) Then
  Dim connection As New SqlConnection(My.Settings.connectionString)
  connection.Open()
  For Each fileName As String In inputFiles
    Dim sqlCommand As SqlCommand
    Dim fFile As New FileInfo(fileName)
    log(" Processing  " & fFile.Name)
    Dim betacell As String = fFile.Name.Substring(0, fFile.Name.Length - 8)

    'Update Status on Database with the use of the Betacell
    Dim updateTransaction As SqlTransaction = connection.BeginTransaction()
            Dim sqlQ As String = "UPDATE " & My.Settings.JobTb & " SET Status = '10'  WHERE JobNumber ='" & betacell & "'"
    sqlCommand = New SqlCommand(sqlQ, connection, updateTransaction)
    Dim result = sqlCommand.ExecuteNonQuery()

    'Email COnfirmation
    SendEmail(My.Settings.emailUsers, "EMAIL TEXT")
    If (result > 0) Then
      'Move the file
      fFile.MoveTo(processedDir & fFile.Name)
      updateTransaction.Commit() ' make sure to commit only in case moving the file is OK
    Else
      log("ERROR - Betacell '" & betacell & "' not found in database!")
      updateTransaction.Rollback()
    End If 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T10:17:45.270

与轮询文件夹（即每隔`n`几秒钟检查它是否有新文件）相比，让操作系统通知您该文件夹中的更改要高效得多。您可以通过创建[FileSystemWatcher](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher.aspx)来做到这一点。MSDN 上有[一个例子](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher.aspx?cs-save-lang=1&cs-lang=vb#code-snippet-2)。

但是，如果您**确实**想轮询一个文件夹，它实际上很简单 - 只需将以下代码包装在[Timer](http://msdn.microsoft.com/en-us/library/system.threading.timer.aspx)中。请注意，我通常用 C# 编写代码，所以如果语法不是 100%，我们深表歉意......

```
Imports System.IO

....

For Each file as String in Directory.GetFiles("C:\SomeFolder")
    DoSomethingWithFile (file)
Next 
```

# php - 在 PHP 中激活操作 onClick

> ID：13526948
> 
> 赞同：-1
> 
> 时间：2012-11-23T10:14:50.627
> 
> 标签：php, javascript

我有以下代码块：

```
while ($row = mysql_fetch_array($result)) {
    echo "<li/>".$row['trendName']."<input type='submit' name='Dispay' value='Display All Items'  onclick='action='http://blah.co.uk/DisplayData.php';'/>";
    echo"<br />";
} 
```

所以，我要做的就是为列表中的每个元素创建一个按钮。当我点击这个按钮时，我想点击一个 URL。

假设我们在列表中只有一个元素 ( `Movies`)。通过单击电影旁边的按钮，我想移动到另一个 URL：`http://blah.co.uk/DisplayData.php` 并且还向另一个 URL 传递元素的名称（即`Movies`）

这可能吗？如果可以，怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:27:40.980

我还建议`<button></button>`在 html 5 中使用来创建一个按钮。

```
echo "<button type='submit' name='Display' onclick='javascript:location=\"http://blah.co.uk/DisplayData.php?value=$row['trendName']\"'>Display</button>"; 
```

如上所述，链接是这样做的正确方法。

```
<?php echo "<a href='http://blah.co.uk/DisplayData.php?value=".$row['trendName']."'>Display</a>"; ?> 
```

您可以使用`$_GET['value'];`“trendName”来检索您的数据

但是`<form></form>`标签中使用了“动作”

```
<form action='http://blah.co.uk/DisplayData.php'>
<input type='hidden' name='value' value='<?php echo $row['trendName']; ?>' />
<button type='submit'>Display</button>
</form> 
```

在这里你可以`$_POST['value'];`用来检索你的数据“trendName”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:17:59.527

```
onclick="this.location.href='http://blah.co.uk/DisplayData.php?value=' + $row['trendName']" 
```

如果你告诉“someValue”应该从哪里来，我稍后会编辑这段代码。

但是，我建议改用链接。

# android - 如何用android中图像下方的内容填充空白空间

> ID：13526949
> 
> 赞同：18
> 
> 时间：2012-11-23T10:14:54.470
> 
> 标签：android, android-layout, xml-layout

我的 xml 布局中有一个 ImageView 和一个 TextView。我想在ImageView右侧显示我通过webservice获得的文本。我可以使用那个 TextView 显示该文本吗？

![在此处输入图像描述](../Images/6e3194775fcf2f0c155aaefdb2a16df7.png)

我试图在 xml 布局中给出 android:singleLine="false" 但没有用。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-11-23T10:27:50.743

[https://github.com/deano2390/flowtextview](https://github.com/deano2390/flowtextview)

![截屏](../Images/e85628d2a88f73c81fbca66140d4c7a7.png)

示例用法：

```
 <com.pagesuite.flowtext.FlowTextView
     android:id="@+id/tv"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content" >

     <ImageView
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_alignParentLeft="true"
         android:layout_alignParentTop="true"
         android:padding="10dip"
         android:src="@drawable/android" />

     <ImageView
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_alignParentRight="true"
         android:layout_marginTop="400dip"
         android:padding="10dip"
         android:src="@drawable/android2" />

</com.pagesuite.flowtext.FlowTextView> 
```

你的代码：

对于文本：

```
tv = (FlowTextView) findViewById(R.id.tv);                  
tv.setText("my string"); // using plain text    
tv.invalidate(); // call this to render the text 
```

对于 HTML：

```
tv = (FlowTextView) findViewById(R.id.tv);              
Spanned spannable = Html.fromHtml("<html ... </html>");
tv.setText(spannable);  // using html
tv.invalidate(); // call this to render the text 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:27:24.067

这已经在这里讨论过： [Textview wrap around View](https://stackoverflow.com/questions/3626750/textview-wrap-around-view) 和 here [wrap text view around img view](https://stackoverflow.com/questions/11875339/wrap-text-view-around-img-view)

显然，一个解决方案是使用 Spannable 和 ImageSpan 描述是这个答案[Textview wrap around View](https://stackoverflow.com/questions/3626750/textview-wrap-around-view#5541588)

另一种解决方案是使用 webview 并让您在 html 中进行布局。

# html - 使浮动社交图标垂直

> ID：13526953
> 
> 赞同：0
> 
> 时间：2012-11-23T10:15:07.793
> 
> 标签：html, css

我正在这个网站上工作：[http](http://www.bedriftsdesign.no) ://www.bedriftsdesign.no并且有两件事我正在努力：

首先，标题左侧的浮动社交图标不会垂直对齐。我正在使用 display:block 并且有点不确定我做错了什么？

其次（可选）我希望它们位于包装器之外的背景元素上，但不确定如何使其工作？

任何有关如何解决此问题的建议都将受到欢迎。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:17:32.850

您正在浮动列表元素`li`并尝试通过设置`display: block`包含锚点来撤消它`a`。

你不应该设置`li`在`float: left;`第一位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T10:18:47.487

找到这条规则

```
#social li { float: left; list-style-type: none; display:block; } 
```

并删除`float:left;`这将垂直对齐图标。

为了使它们沿标题图像对齐，我会使用negative `margin`。找到这条规则：

```
#social{ background: transparent; margin: 0; } 
```

并将边距更改为`margin: -35px;`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T10:23:24.750

**问题 1 的答案**`float:left;`只是根据您的要求从这里删除`#social li`它的工作：- 见附图

![在此处输入图像描述](../Images/6d2e8c23fbc5cbc97124ddc166399f56.png)

**CSS**

```
#social li {
    display: block;
    list-style-type: none;
} 
```

**问题 2 的答案**

我想你在看这个：-

![在此处输入图像描述](../Images/063a18add8485ef809faa7781459b2b5.png)

**CSS**

```
#social {
    background: none repeat scroll 0 0 transparent;
    left: 177px;
    margin: 0;
    padding: 0;
    position: fixed;
    width: 100%;
    z-index: 12;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-23T10:25:35.827

不知道你说的垂直对齐是什么意思。您希望他们对齐什么？

如果您希望它们从上到下更改：

`#social li { float: none; }`

# cmake - CMake 2.8.10.1 将调试/优化视为相对目录

> ID：13526956
> 
> 赞同：1
> 
> 时间：2012-11-23T10:15:24.360
> 
> 标签：cmake

在我的 CMakeLists.txt 中，我有第 33 行：

```
link_directories (${QT_LIBRARIES}) 
```

其中`${QT_LIBRARIES}`扩展为：

```
optimized;C:/QtSDK/Desktop/Qt/4.8.1/msvc2010/lib/QtOpenGL4.lib;debug;C:/QtSDK/Desktop/Qt/4.8.1/msvc2010/lib/QtOpenGLd4.lib 
```

更新到 CMake 2.8.10.1 后，我收到以下警告：

```
CMake Warning (dev) at CMakeLists.txt:33 (link_directories):
  This command specifies the relative path

    optimized

  as a link directory.

  Policy CMP0015 is not set: link_directories() treats paths relative to the
  source dir.  Run "cmake --help-policy CMP0015" for policy details.  Use the
  cmake_policy command to set the policy and suppress this warning.
This warning is for project developers.  Use -Wno-dev to suppress it. 
```

但是，如您所见，`${QT_LIBRARIES}` **不**包含相对路径。在我看来，CMP0015 政策与此无关。

是我的错误还是CMake中的错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T11:29:30.130

`${QT_LIBRARIES}`是*库列表，*而不是*库路径。*它被设计用于`target_link_libraries()`. 将第 33 行替换为：

```
targe_link_libraries(yourTargetName ${QT_LIBRARIES}) 
```

请注意，无论如何`link_directories()`都不鼓励使用 of 以支持完整路径。`target_link_libraries()`

# jquery - jQuery 实时验证

> ID：13526961
> 
> 赞同：0
> 
> 时间：2012-11-23T10:16:25.503
> 
> 标签：jquery, livevalidation

我正在使用一个名为 livevalidation ( [http://livevalidation.com/](http://livevalidation.com/) ) 的脚本，这是我对这个特定 ID 的编码：

```
var First_Name = new LiveValidation( 'First_Name');
First_Name.add(Validate.Presence ); --this means it must have a value
First_Name.add(Validate.Format, { pattern: /^[a-z]+$/i} ); --this means it must be letters only 
```

如果它没有无效的值，那么现在就不会提交我希望重复的字符变得无效，就像说如果有人在名称中单击相同的字母次数，那么它将变得无效

```
Format: function(value, paramsObj){
  var value = String(value);
  var paramsObj = paramsObj || {};
  var message = paramsObj.failureMessage || "Not valid!";
  var pattern = paramsObj.pattern || /./;
  var negate = paramsObj.negate || false;
  if(!negate && !pattern.test(value)) Validate.fail(message); // normal
  if(negate && pattern.test(value)) Validate.fail(message); // negated
  return true;
}, 
```

您的编码有效，但是我如何以这种格式输入编码我希望它在无效时输出一条消息

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T10:41:43.377

您可以使用自定义验证：

```
//Define function to check input values
var noRepeatativeChars = function(val) {
   val = val || ""; //Handle null and undefined.
   var chars = val.split(""),  //Convert string to char array
       len = chars.length - 1, i = 0;

   for(; i < len; i++) {
      if(chars[i] === chars[i+1]) { //If current char === next char.
         return false;
      }
   }
   return true;
};

//Add custom validator.
First_Name.add(Validate.Custom, {against: noRepeatativeChars, failureMessage: "Go read the manual!"}); 
```

# php - 前端用户配置文件上的自定义下拉字段未保存

> ID：13526963
> 
> 赞同：1
> 
> 时间：2012-11-23T10:16:37.890
> 
> 标签：php, wordpress

我在前端用户个人资料上创建了一个下拉选择，其中包括所有自定义帖子类型的帖子。

选择它实际上并没有保存选择，它只是恢复到第一个选项。

我哪里错了？

这是我的 functions.php 文件中的代码：

```
add_action( 'personal_options_update', 'save_custom_profile_fields' );
add_action( 'edit_user_profile_update', 'save_custom_profile_fields' );
function save_custom_profile_fields( $user_id ) {
    update_user_meta( $user_id, 'teampage', $_POST['teampage'], get_user_meta( $user_id, 'teampage', true ) );
}

add_action( 'personal_options', 'add_profile_options');
function add_profile_options( $profileuser ) {
    $greeting = get_user_meta($profileuser->ID, 'teampage', true);
    ?><tr>
    <th scope="row">Member of which Health Board?</th>
    <td>
        <select name="teampage" id="teampage" >
            <?php $portfolioloop = new WP_Query( array( 
                'post_type' => 'board', 
                'post_status' => 'publish'
            )); ?>
            <?php while ( $portfolioloop->have_posts() ) : $portfolioloop->the_post(); ?>  
                <option id="Yes" <?php selected( $profileuser->teampage, 'Yes' ); ?>><?php echo the_title(); ?></option> 
            <?php endwhile; wp_reset_query(); wp_reset_postdata(); ?>
        </select>
    </td>
    </tr><?php
} 
```

我正在使用[本教程](http://codesleepshred.com/how-to-add-options-to-user-profiles-using-personal_options/)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T15:55:53.973

我发现你的问题是什么。这是你犯的几个小错误。这是工作代码：

```
add_action( 'personal_options_update', 'save_custom_profile_fields' );
add_action( 'edit_user_profile_update', 'save_custom_profile_fields' );
function save_custom_profile_fields( $user_id ) {
    update_user_meta( $user_id, 'teampage', $_POST['teampage'], get_user_meta( $user_id, 'teampage', true ) );
}

add_action( 'personal_options', 'add_profile_options');
function add_profile_options( $profileuser ) {
    $greeting = get_user_meta($profileuser->ID, 'teampage', true);
    ?><tr>
    <th scope="row">Member of which Health Board?</th>
    <td>
        <select name="teampage" id="teampage" >
            <?php $portfolioloop = new WP_Query( array( 
                'post_type' => 'board', 
                'post_status' => 'publish'
            ));
            global $post; ?>
            <?php while ( $portfolioloop->have_posts() ) : $portfolioloop->the_post(); ?>  
                <option <?php selected( $profileuser->teampage, $post->ID ); ?> value="<?php echo $post->ID; ?>"><?php echo the_title(); ?></option> 
            <?php endwhile; wp_reset_query(); wp_reset_postdata(); ?>
        </select>
    </td>
    </tr><?php
} 
```

您忘记将`value`属性添加到每个`option`.

此外，您不应该检查所有选项的相同值（您使用`selected( $profileuser->teampage, 'Yes' );`，它本质上检查值是否`$profileuser->teampage`为`Yes`）。相反，我们将帖子 ID 分配给每个选项并进行检查。

# ffmpeg - 在 ffmpeg 中转储 libx264 编码参数

> ID：13526964
> 
> 赞同：0
> 
> 时间：2012-11-23T10:16:41.937
> 
> 标签：ffmpeg, video-encoding, x264, libx264

编码流时是否可以获取 libx264 中使用的参数值列表？我正在使用 ffmpeg 二进制文件进行编码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:26:04.530

我将回答我自己的问题：只需在编码期间检查控制台输出即可。`ffmpeg`将 libx264 参数显示为字符串。

对于完成的视频，使用`strings`命令：

```
$ strings output.mkv | grep x264 
```

# c++ - 整数转换问题

> ID：13526966
> 
> 赞同：0
> 
> 时间：2012-11-23T10:16:47.033
> 
> 标签：c++, integer, type-conversion, uac

```
int left = std::numeric_limits<int>::min();
int right = -1;
//the code below instead of give one more than int_max gives: 18446744071562067968
unsigned long long result = left * right; 
```

我尝试查找 UAC，但即使根据 UAC 规则，这也应该产生正确的输出。任何想法为什么结果不正确？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-23T10:22:17.787

两个操作数都是`int`，所以算术是在`int`类型内执行的；运算结果超出 的范围`int`，因此结果未定义。

要获得您期望的结果，请将一个操作数转换为`long long`第一个：

```
 unsigned long long result = left * (long long) right; 
```

这仍然是潜在的未定义行为；尽早转换为无符号算术更安全（因为无符号算术包装并且不会溢出）：

```
unsigned long long result = left * (unsigned long long) right; 
```

请注意，您得出的结果是`0xffffffff80000000`；这表明操作的实际结果`std::numeric_limits<int>::min()`在`int`类型中，然后对其进行符号扩展并强制转换为`unsigned long long`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-23T10:23:37.757

将有符号 2 的补码的最小值乘以`int`-1 是未定义的行为，因为结果超出了类型的范围。

在这种情况下，您的输出与 -2147483648 的结果一致，即溢出似乎已经环绕。您不能依赖有符号类型的环绕，只能依赖无符号类型。

将计算结果分配给`unsigned long long`不会改变执行计算的类型。只要你做乘法，你就输了。因此，在乘法`unsigned long long` *之前将其中一个操作数转换为。*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T10:30:58.787

原因是乘法是根据 提交的`int`。

两个参数都是`int`，所以乘法给出了一个`int`agein，你是对的，它给出了`int_max`+ 1 ，相当于`int_min`=-2147483648。所以它实际上是 -2147483648，但是对于 unsigned long long 它相当于 18446744071562067968，请参见十六进制代码：

```
 int_min =         80000000 
(unsigned long long) (int min) = ffffffff80000000 
```

# javascript - Html5 画布限制

> ID：13526977
> 
> 赞同：9
> 
> 时间：2012-11-23T10:17:07.653
> 
> 标签：javascript, html, canvas

我一直试图找到详细说明 Html5 画布元素限制的文档，例如它可以加载的最大图像文件大小等，但没有成功。我问的原因是我一直在尝试将图像大小从 50kb 调整到 2.0 mb through `ctx.scale()`，但它一直非常不一致，因为同一图像有时`ctx.drawImage()`会成功，有时会不成功（不成功，因为画布中没有出现重新缩放的图像）。

我还放置`console.log(base64)`了监视结果`var base64 = canvas.toDataURL()`并注意到，当成功调整大小时，调整大小的 base64 将是一个很长的字符串，如预期的那样，当调整大小不成功时，字符串仍然会出现但相对较短并输出空白图像。

这是否与内存限制和环绕自身的不成功字符串有关？如果是这样，对画布元素施加的内存限制是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-23T18:15:05.413

**首先：**
硬限制取决于浏览器，而不是画布 API。
即便如此，浏览器总是试图*提高*性能，所以这个数字总是在变化。
但是随着 WebGL 和 Canvas 被用于制作游戏，纹理图集/精灵图集是巨大的 .jpg/.png 文件。
您的图像较小的机会非常非常好，我经常在画布中使用 4MB/5MB/16MB 图像进行演示。
如果它足够大，一个巨大的图像（或几十个）可能会使选项卡崩溃，但在那之前，画布并没有真正向我抱怨。

**第二：**
存在安全限制。
编辑照片`canvas`取决于您使用的浏览器，以及文件是否与您的网站位于同一域中。

**第三：**
当您说*“大文件不起作用，但有时会……”时*
……这使我相信您的***图像加载方法***有问题。

如果你做这样的事情：

```
var canvas = document.createElement("canvas"),
    context = canvas.getContext("2d"),
    img = new Image();

img.src = "//mydomain.com/myimg.png";
context.drawImage(img, 0, 0, img.width, img.height); 
```

...或任何其他既不是基于事件也不是基于回调的东西，
那么您的问题与回调无关，`canvas`并且与回调有关，并且您正试图将图像绘制到画布之前图像完成加载。

如果您的浏览器已经缓存了大图像的副本，或者如果小图像只需要几分之一秒的时间来下载，那么就没有问题。

如果您尝试下载 18MB 的图像，并在设置图像的 url 后立即将其绘制到画布上，那么您将得到一个空白屏幕，因为它还没有完成加载。

相反，您需要等待图像完成加载，***然后***在准备好后将其绘制到画布上。

```
var canvas = document.createElement("canvas"),
    context = canvas.getContext("2d"),
    image = new Image();

image.onload = function () {
    var img = this,
        width = img.width,
        height = img.height;

    canvas.width = width;
    canvas.height = height;
    context.drawImage(img, 0, 0, width, height);

    document.body.appendChild(canvas);
};

image.src = "//mydomain.com/path-to-really-huge-image.png"; 
```

现在它可能是 16MP 图像。在文件加载完成之前什么都不会发生。
然后，`onload`事件触发，并完成其余的设置。

你可以让它更抽象，把它变成一个漂亮的程序，但感觉这是你可能缺少的关键部分。

# javascript - Canvas 跨域图像数据策略不适用于我的 CMS（货物）。我需要一个新主机吗？

> ID：13526980
> 
> 赞同：3
> 
> 时间：2012-11-23T10:17:14.770
> 
> 标签：javascript, security, canvas, content-management-system, cross-domain

我在 Cargo Collective 上有一个投资组合。我一直在尝试实现一个使用画布的 JS 驱动的动态标题。 [这里的例子](http://bit.ly/flakesix-logo)

我正在画布上绘制 PNG 图像并使用 getImageData() 捕获像素信息。当我在本地测试它时一切正常，但是一旦在 Cargo 上我得到可怕的 tainted canvas 错误：

```
Unable to get image data from canvas because the canvas has been tainted by cross-origin data. 
Uncaught Error: SECURITY_ERR: DOM Exception 18 
```

这源于这样一个事实，即 Cargo CMS 图像托管在他们自己的服务器上，地址如下：media.cargocollective.com/1/7/245266/headerimg/FlakeSixBlack.png

我看到的唯一明显的解决方案是**购买一些网络空间来托管**我以编程方式使用的单个图像。这听起来有点愚蠢，并且部分违背了依赖第三方 CMS 的目的。

**有没有其他方法可以解决这个问题？**

**如果没有，我将如何管理两个不同主机的 DNS A 记录？**

我的主页地址[http://flakesix.com](http://flakesix.com)必须指向 Cargo Collective 服务器，而图像必须从另一台服务器（例如 GoDaddy，这是我获得域名的地方）检索。

我有点失落。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T13:43:46.507

如果您已经知道您的图像是什么，为什么不尝试在您的脚本中嵌入它的 base 64 转换呢？

以下是数据网址的一些文档/工具：http: [//dataurl.net/#about](http://dataurl.net/#about)

# opencl - 许多 OpenCL SDK。我应该选择哪一个？

> ID：13526984
> 
> 赞同：2
> 
> 时间：2012-11-23T10:17:33.943
> 
> 标签：opencl, gpu, intel, nvidia, amd-processor

在我的装有 Windows 7 操作系统的计算机中，我有来自该供应商的三个版本的 OpenCL SDKS：

*   英特尔
*   英伟达
*   AMD。

我用他们每个人构建我的应用程序。作为输出，我有三个不同的二进制文件。例如：**my_app_intel_x86、my_app_amd_x86、my_app_nvidia_x86**

此二进制文件对此有所不同：

1.  他们在 likange 过程中使用不同的 SDK
2.  他们试图在运行时找到不同的 OpenCL 平台名称

我可以只使用一个 SDK 并检查平台的运行时间吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T10:38:18.710

SDK 提供调试工具、平台和可能的扩展，OpenCL API 无论如何都保持不变。您可以链接到所需的任何 SDK，它会生成与您可以找到的任何 OpenCL 运行时兼容的可执行文件。请记住，这些是面向开发人员的 SDK——最终用户可能只有他的图形驱动程序（支持 OpenCL），它并不关心您用于构建软件的 SDK。

理想情况下，您应该为您的程序使用默认平台，但让用户覆盖它（您可以在运行时选择各种平台！）。您还可以使用启发式方法来确定哪个设备最快，例如：

*   迭代每个可用平台
*   对于每个平台，迭代每个设备
*   以某种相关的方式对该设备进行基准测试
*   选择最快的

此外，如果您使用特定的扩展程序，请确保只接受支持它们的设备...

> 我可以只使用一个 SDK 并检查平台的运行时间吗？

是的，你绝对可以而且应该这样做，但我担心你所说的“检查平台”是什么意思——正如我上面所说的，SDK 对你可以运行构建程序的平台绝对没有影响。我可以使用 AMD SDK 构建我的代码，并在带有 nVidia 显卡或 Intel 处理器的系统上运行可执行文件（唯一的区别是我可能无法访问由我提供的 AMD 特定的扩展） SDK，但扩展将被 AMD 驱动程序识别，因此您甚至不需要安装 SDK 即可运行代码 - 但您将构建它）。

# forms - Cakephp 表单标签编码 Utf8

> ID：13526990
> 
> 赞同：0
> 
> 时间：2012-11-23T10:17:55.913
> 
> 标签：forms, cakephp, utf-8, character-encoding

在我的 php 应用程序中，我从一开始就使用 utf8 设置所有内容以避免将来出现问题。我设置了我的数据库：

```
class DATABASE_CONFIG {

public $default = array(
    'datasource' => 'Database/Mysql',
    'persistent' => false,
    'host' => 'localhost',
    'login' => 'root',
    'password' => '',
    'database' => 'aquitex',
    'prefix' => '',
    'encoding' => 'utf8',
);

public $test = array(
    'datasource' => 'Database/Mysql',
    'persistent' => false,
    'host' => 'localhost',
    'login' => 'root',
    'password' => '',
    'database' => 'aquitex',
    'prefix' => '',
    'encoding' => 'utf8',
); 
```

}

文件 core.php：

```
Configure::write('App.encoding', 'UTF-8'); 
```

以及视图的默认布局：

```
<?php echo $this->Html->charset(); ?> 
```

但是，我在表单标签等某些元素中仍然存在问题。

在我的 index.ctp 文件中，这一行：

```
echo $this->Html->link("Segurança", array('controller' => 'Posts','action'=> 'add'), array( 'class' => 'button')); 
```

完美运行，“ç”字符没有问题。

但在形式上，像这样：

```
echo $this->Form->create('Post');
echo $this->Form->input('Nome Produto');
echo $this->Form->input(utf8_encode("Código Produto"));
echo $this->Form->input("Versão");
echo $this->Form->input('Data');
//echo $this->Form->input('body', array('rows' => '3'));
echo $this->Form->end('Criar Ficha'); 
```

我无法正确显示表单标签上的“ó”或“ç”字符。如您所见，我什至在其中一个中尝试了utf8encode（）。

有什么提示吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T10:26:49.037

没有必要`utf8_encode()`在你的意见中使用。您只是忘记正确保存视图文件。将其保存为“utf8 without bom”，你会没事的。

不包含任何特殊 utf8 字符的文件仍然可以保留为 ansi（因为它们之间没有区别）。但是每个确实包含这样一个字符的文件都需要保存为 utf8（如果您计划在那里使用 utf8 字符来获取错误消息等，甚至是控制器和模型）。

PS：一般来说，使用英语并通过 PO 文件将其翻译成您的语言更为明智。通过这种方式，您可以保持文件原样，并且更加灵活（您可以通过创建新的 PO 文件即时添加新语言）。

**编辑** 一起弄清楚您的输入（）使用utf8字符后，我需要更新：

为您的数据库字段（以及您的输入字段）使用“underscore_field_names”是明智的 - 并且使用英语：

```
echo $this->Form->input("version")); 
```

您可以在之后通过 PO 文件轻松翻译它们或指定标签：

```
echo $this->Form->input("version", array('label' => 'Versão')); 
```

但建议第一种方法保持干燥。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-25T07:47:36.027

App.encoding 只是告诉 Cake 以 UTF8 格式发送数据。如果您使用的是 MySQL，请确保将数据库本身设置为 utf8_general_ci 排序规则。

# c++ - 在 C++ 中绑定 C 函数（未定义引用）

> ID：13526994
> 
> 赞同：1
> 
> 时间：2012-11-23T10:18:10.310
> 
> 标签：c++, c, extern

我有一个像 PardisoSolver.h 这样的常规 C++ 类：

```
#ifndef PARDISOSOLVER_H_
#define PARDISOSOLVER_H_

class PardisoSolver {
public:
    /* Initializes a new Solver with the given matrix in CSR */
    PardisoSolver(
            int* ia,
            int* ja,
            double* a,
            int n,
            int nja);
    virtual ~PardisoSolver();
    void setMatrixType(int mtype);
    void pardisoSymFactorize();

private:
    static int get_nproc(void);
    void handle_error(int ierror, int line);

    int* ia;        // row indices
    int* ja;        // column pointer
    double* a;      // non zero values
    int n_eq;       // size of matrix
    int nja;        // number of non zero elements

    bool factorized;

    /* PARDISO SETTINGS */
    void *pt[64];
    int maxfct;
    int mnum;
    int mtype;
    int perm;
    int nrhs;
    int iparm[64];
    int msglvl;
    int error;
    double   dparm[64];

    double dzero;
    int izero;

};

#endif /* PARDISOSOLVER_H_ */ 
```

另一方面，我在 PardisoSolver.cpp 中有实现。在这里，我有一个 C 函数的附加声明以及类的实现：

```
extern "C" void pardiso     (void   *, int    *,   int *, int *,    int *, int *,
              double *, int    *,    int *, int *,   int *, int *,
                 int *, double *, double *, int *, double *); 
```

现在，当我尝试调用该函数时

```
pardiso (pt, &maxfct, &mnum, &mtype, &phase,
       &n_eq, a, ia, ja, &izero, &nrhs,
       iparm, &msglvl, &dzero, &dzero, &error,  dparm); 
```

我得到编译错误

```
PardisoSolver.cpp:94: undefined reference to `pardiso' 
```

调用在第 94 行的位置。我是否在错误的位置声明了 C 函数？据我所知，它不能是一个类的成员，所以这应该是调用它的方式。谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T10:28:26.857

所有这些都表明您的程序设计需要改进。首先，您的“模块”（类+其他东西）应该只有一个接口。你不应该有“一个类，然后是一些”，这没有任何意义。所有与类功能相关的功能都应包含在该类中。所有不相关的，都应该移到程序的另一部分。

一旦理顺了这一点，就需要澄清编程语言。这是 C 还是 C++？是带有 C 调用者的 C++ 吗？似乎是后者。如果是这样，您需要以某种方式将两种语言分开。举个例子：在 Windows 中，您可以将 C++ 类放在一个 DLL 中，并带有一个可以从 C 调用的接口。

最后，您应该考虑让函数以 17 个指针作为参数是否有意义。这些参数根本不相关吗？它们可以分组在结构/类中吗？或者这可能只是一个不必要的复杂怪物功能，可以分成几个不同的功能。