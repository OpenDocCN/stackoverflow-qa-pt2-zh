# StackOverflow 问答 14109000-14109999

# ember.js - 在控制台中访问新的 ember 路由器

> ID：14109000
> 
> 赞同：7
> 
> 时间：2013-01-01T08:26:46.467
> 
> 标签：ember.js

是否有等效的功能可以使用 ember 中的新路由器在控制台中获取 currentPath？

以前，我能够做到这一点：

```
App.router.get("currentPath") 
```

但是，对于新路由器，您似乎无法以相同的方式访问路由器。实际上 App.router 只是简单地返回 undefined。

在这里的任何帮助将不胜感激。

编辑：

在相关说明中，由于我无法再访问`App.router`及其属性，我无法弄清楚如何手动触发状态更改。例如，

```
App.router.transitionTo("some.state") 
```

不再可行。现在每个人都在做什么而不是这个？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-02T01:40:06.483

我在 github 问题中找到了答案。在这里重新发布以供后代使用。

```
App.container.lookup('router:main').router 
```

..返回路由器。您可以访问 transitionTo 和 handleURL 以手动触发状态更改。不完全确定如何像以前一样获取当前状态，但似乎您可以访问路由器上的 currentHandlerInfos 属性以获取当前处理程序的数组（duh）。

希望这可以防止其他人扯掉他们的头发。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-12T04:19:09.960

在最新版本中，您可以找到路由器并更改状态，如下所示：

```
App.Router.router.transitionTo('posts.comments'); 
```

或者

```
App.Router.router.handleURL('/posts/comments'); 
```

我不知道这是否是推荐的方式（此时路由器是一个非常移动的目标），但它现在有效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-04-08T19:45:29.180

从 Ember 3.9 开始，这里是新的路由器服务 API 文档。

[https://api.emberjs.com/ember/3.9/classes/RouterService](https://api.emberjs.com/ember/3.9/classes/RouterService)

```
import Component from '@ember/component';
import { inject } from '@ember/service';

export default Component.extend({
  router: inject(),

  actions: {
    next() {
      this.router.transitionTo('other.route');
    }
  }
}); 
```

另外这里是我发布的关于如何获得`currentPath`路由器服务的答案。

[https://stackoverflow.com/a/55580684/4044548](https://stackoverflow.com/a/55580684/4044548)

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-01-01T11:54:54.540

我认为这应该做

```
function getCurrentPath(){
  str = "currentState.parentState"
  arr = []
  arr.push(App.router.get("currentState.name"))
  while(true){
    name = App.router.get(str+".name");
    arr.push(name)
    str += ".parentState";
    if(name == "root"){
      break;
    }
  }
  return arr.reverse().join(".")
}

currentPath = getCurrentPath(); 
```

# objective-c - 如何在 UITextField 中查找特定文本？

> ID：14109007
> 
> 赞同：1
> 
> 时间：2013-01-01T08:29:11.133
> 
> 标签：objective-c, ios, nsstring, uitextfield

在我的 iPhone 应用程序中，我有一个`UITextField`ans 文本字段值被带入一个`NSString`，我想查找是否**`"`**在其中输入了特定字符

我怎样才能做到这一点？

```
UITextField *textField;
NSString *String=textField.text;

-(IBAction)FindCharecter:(id)sender
{
    // if String Contain ",then i wish to print @"Found symbol"
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T08:32:37.897

```
 UITextField *textField;
 NSString *string=textField.text;
 if ([string rangeOfString:@"\""].location == NSNotFound) {
   NSLog(@"string does not \"");
  } else {
   NSLog(@"string contains \"");
 } 
```

检查这个

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T08:34:11.200

尝试这个：

```
-(IBAction)FindCharecter:(id)sender
  {

    // if String Contain ",then i wish to print @"Found symbol"
     if ([String rangeOfString:@"\""].location != NSNotFound) {

          NSLog(@"Found");
     }
     else{

          NSLog(@"Not Found");
      }

  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T08:35:48.860

您需要确认并实施`UITextFieldDelegate` [协议](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextFieldDelegate_Protocol/UITextFieldDelegate/UITextFieldDelegate.html)。

1）如果你想在旅途中检查模式（当用户自己输入时），你需要实现

```
- (BOOL)textField:(UITextField *)textField 
    shouldChangeCharactersInRange:(NSRange)range 
     replacementString:(NSString *)string 
```

2）如果您想检查用户何时完成输入，您可能需要实现

```
- (void)textFieldDidEndEditing:(UITextField *)textField 
```

现在来做实际的比较过程

```
if([textFieldString rangeOfString:@"YOUR_COMPARISON_STRING"].location == NSNotFound){
     //your pattern is not typed yet
}else{
    //There it is..
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T08:32:52.793

实现以下委托`UITextField`

```
-(NSString *)ValidateSearchString:(NSString *) aString{   

    NSCharacterSet * set = [[NSCharacterSet characterSetWithCharactersInString:@"YourString"] invertedSet];

    if ([aString rangeOfCharacterFromSet:set].location != NSNotFound) { 
        return @"Not Found";
    }

    return @"Found";;
}

- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{

    NSLog("particular character  %@",[self ValidateSearchString:string]);

     // string will contain the particular character typed;

    return YES;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-01T08:34:02.667

您可以`shouldChangeCharactersInRange`为此使用委托方法。

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
   if([string isEqualToString:@"\""])
   {
     NSLog(@"Entered \" ");
   }
} 
```

或者你可以使用：`rangeOfString`of `NSString`class。

```
if ([textField.text rangeOfString:@"\""].location == NSNotFound)
 {
    NSLog(@"Entered \" ");
 } 
```

* * *

# **以供参考：**

> `textField:shouldChangeCharactersInRange:replacementString:`
> 
> 询问委托人是否应该更改指定的文本。
> 
> ```
> - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string 
> ```
> 
> **参数**
> 
> **文本域**
> 
> ```
> The text field containing the text. 
> ```
> 
> **范围**
> 
> ```
> The range of characters to be replaced 
> ```
> 
> **细绳**
> 
> ```
> The replacement string. 
> ```
> 
> **返回值**
> 
> 如果应替换指定的文本范围，则为 YES；否则，不保留旧文本。讨论
> 
> 每当用户在文本字段中键入新字符或删除现有字符时，文本字段都会调用此方法。可用性
> 
> ```
> Available in iOS 2.0 and later. 
> ```

[UITextFieldDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextFieldDelegate_Protocol/UITextFieldDelegate/UITextFieldDelegate.html)

> **范围字符串**：
> 
> 查找并返回给定字符串在接收器中第一次出现的范围。 `- (NSRange)rangeOfString:(NSString *)aString`
> 
> **参数**
> 
> **字符串**
> 
> ```
> The string to search for. This value must not be nil.
> 
> Important: Raises an NSInvalidArgumentException if aString is nil. 
> ```
> 
> **返回值**
> 
> 一个 NSRange 结构，给出第一次出现的 aString 在接收器中的位置和长度。如果 aString 未找到或为空 (@"")，则返回 {NSNotFound, 0}。
> 
> **讨论**
> 
> 没有选项的调用`rangeOfString:options:`。
> 
> 此方法检测所有无效范围（包括具有负长度的范围）。对于链接到 OS X v10.6 及更高版本的应用程序，此错误会导致异常；对于链接到早期版本的应用程序，此错误会导致警告，每次应用程序执行时仅显示一次。可用性
> 
> 在 NSString.h 中声明 在 UITextField.h 中声明

[NSString 类](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html)

# recursion - 通过递归查找链表中的偶数和奇数？

> ID：14109012
> 
> 赞同：0
> 
> 时间：2013-01-01T08:30:32.330
> 
> 标签：recursion, linked-list

祝大家新年快乐！:)

我可以在今年的第一天做更好的事情，但我正在尝试一起实现链接列表和递归。

我只是想如何编写一个函数，用递归计算链表中的偶数。

```
void List:: findingEvens(Node* n, Node*& newHead){
    if(n  == NULL)
        return;
    else
        if(n-> data % 2 != 0)
            findingEvens(n-> next);
    else{
        if(!newHead){
            newHead = n;
        }
        else{
             Node* temp =head;
             for(;temp->next;temp=temp->next){
                temp = temp -> next;
              }
             temp-> next = n;
             findingEvents(n-> next);
        }
    }  
} 
```

问题是在我的 h 类中，我应该添加以下内容

```
void findingEvens(Node* n); 
```

但是，这让我出错，说错误：'Node' has not been declared 实际上，在 h 类中定义此函数之后，我有一个 Node 结构。

递归函数的实现有错吗？任何帮助将不胜感激，再次新年快乐:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T14:08:16.687

```
void List:: findingEvens(Node* n, Node*& newHead){
    if(n  == NULL)
        return;
    else
        if(n-> data % 2 != 0)
            findingEvens(n-> next, newHead);
    else{
        // Push even node onto newHead list
        newNode = new Node;
        newNode->data = n->data;
        newNode->next = newHead;
        newHead = newNode;
        findingEvens(n-> next, newHead);
    }
} 
```

您需要传入`newHead`递归调用。

您不能直接分配`n`给`newHead`，因为这样`newHead`列表将包含原始列表中的所有链接。您需要创建新节点并复制数据。

上面的代码以与原始列表相反的顺序构建结果列表，例如，如果您以 开头`1, 2, 3, 5, 6, 8, 9`，则结果将为`8, 6, 2`。完成后，您可以反转列表。

# jquery - 使用 jquery 提交表单未按预期工作

> ID：14109014
> 
> 赞同：0
> 
> 时间：2013-01-01T08:30:52.033
> 
> 标签：jquery

我正在尝试在修改其 action 属性后使用 jquery 提交表单。动作属性更新正常，但我希望浏览器位置与动作相同。但事实并非如此。你明白为什么吗？

这是表格：

```
<form method="GET" class="modForm" action="">
<input type="text" placeholder="Search" class="modSearchValue">
<input type="radio" name="text" value="text" class="text" title="Search">
</form> 
```

这是jQuery：

```
$('.modForm').submit(function(event) {

        var $this = $(this),

        var query = $this.find('.modSearchValue').val(); // Use val() instead of attr('value').
        var locale = window.location;
         if($('.text').is(':checked')){query = '&text='+query;}else{query = '&handle='+query;}
        route = locale+query;
        console.log(route);

        if (query.length >= 1) {
        // Use URI encoding
        var newAction = (route);
        console.log(newAction); // DEBUG
        // Change action attribute
        $this.attr('action', newAction);
        //event.preventDefault();
        } else {
        console.log('Invalid search terms'); // DEBUG
        // Do not submit the form
        event.preventDefault();
        }
    }); 
```

这里，如果当前位置是`http://localhost/search`，搜索词是14，那么action会变成`http://localhost/search/?handle=14`然后提交。但由于某种原因，它不会。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T08:32:57.957

你必须使用它的`<form method="POST" class="modForm" action="">`方法`POST`.......

删除逗号`var $this = $(this),`并使用`var $this = $(this);`

# java - 是什么导致多线程程序在切换线程时挂起？

> ID：14109016
> 
> 赞同：3
> 
> 时间：2013-01-01T08:31:18.110
> 
> 标签：java, multithreading

我有一个可以自定义线程号的多线程程序。该程序负责生成 HTTP 请求，将请求发送到 Web 服务，接收响应并解析响应以获取一些结果值。

由于每个请求需要将近 1 秒才能得到响应，为了让程序得到尽可能多的响应，因此启动了多个线程。

以下代码用于启动多线程：

```
 ...
    for (int i = 0; i < threadNum; i++) {
        threadArray[i] = new Thread(requestGeneratorArray[i]);
        threadArray[i].start();
    }

    for (int i = 0; i < threadNum; i++) {
        try {
            threadArray[i].join();
        } catch (InterruptedException e) {
            logger.error(e);
        }
    } 
```

...

当线程数为50，总共产生并发送10K个请求时，程序运行良好。当线程数仍为 50，总请求数为 100K 时。当发送 95K+ 请求时，程序挂起。也不例外，程序就挂在那里。

然后我添加了一些这样的 JVM 参数： java -Xmx1024M -Xms512M -XX:MaxPermSize=256m ... 使用这些参数，50 个线程/100K 请求有效。但是，50 个线程/1M 请求再次挂起。我将线程号设置为 20 并将请求号设置为 1M，它再次工作。

我想将线程数设置为 50，因为在使用更少的请求数（10K）进行测试时，50 个线程的效率最高。请求数可能比 10M、100M、事件 1B 大得多。在这种情况下，增加 -Xmx -Xms 或 MaxPermSize 的大小不是一个好主意。我应该怎么办？程序挂起的根本原因是什么？

==================================================== =========

我直接使用 Executor Service 而不是线程。但问题也出现了。我重新检查了代码，发现有一个错误：我为每个请求实例化了一个 HttpClient 对象。我将代码更改为为每个线程实例化一个 HttpClient 实例，并且程序不再挂起。

我认为程序挂起的根本原因是它与 Web 服务建立了太多的 HTTP 连接，并用完了 Web 服务的所有线程。这使得 Web 服务无法响应任何新到达的请求。这是对的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T08:46:54.963

仅从这些信息很难判断，但从堆设置影响结果这一事实来看，我敢打赌，内容生成和内容解析（存储）之间的调度会很差。

此类应用程序中的一个常见情况是生成内容的线程比获取该内容并将其存储起来的线程生成速度更快。这将逐渐增加用于在内存中保存内容的堆内存量，并且在某些时候吞吐量将开始直线下降。

首先要做的是通过附加一个像 VisualVM 这样的堆查看器来确认这个假设。如果您的堆使用量逐渐增加并开始固定在高水平并且您的吞吐量下降，这可能是罪魁祸首（您还*可以*确认内存中的内容确实是生成的内容）。

通常，瓶颈是用于存储内容的持久层的 IO。根据您的代码在做什么，您*可能*在解析代码（或其他地方）中遇到 CPU 瓶颈，但这通常很少见。

这种情况最常见的补救措施是使用有界队列让生成进程等待解析（存储）进程赶上来。看看这个 SO 答案：[How to make ThreadPoolExecutor's submit() method block if it is饱和？](https://stackoverflow.com/a/5656329/234901). 您将不得不了解线程池，但它确实是对原始线程的巨大改进，并且它是处理此类问题的最干净的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-03T13:56:22.830

由于我们不知道线程挂在哪里：您是否考虑过某种线程监控，使用分析器或使用 ThreadMXBeans 获取线程的定期堆栈跟踪？正如其他一些海报所提到的，如果有任何可扩展性问题，您也应该关注 gc.log。并观察你的记忆足迹。但这可能不是这里的问题，因为即使是完整的 gc 也应该最终完成，而您的程序却没有。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T10:18:39.167

+1 对使用[Executor Service](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html)的所有建议。

您还提到您正在使用 Http 客户端。很少有配置参数可以[使 http 客户端更快地并发使用](http://hc.apache.org/httpclient-3.x/threading.html)。

关于程序挂起。它可能是大型垃圾收集器运行的死锁。我相信像[jconsole](http://docs.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html)和[Visual VM](http://visualvm.java.net/)这样的工具可以帮助你调试这两个场景。

# php - 如何从 PHP 函数返回 2 个查询的组合结果？

> ID：14109018
> 
> 赞同：2
> 
> 时间：2013-01-01T08:31:27.133
> 
> 标签：php, mysql, phpmyadmin

我有一个 PHP 函数`view_activated_profile();`。我希望它返回两个不同查询的结果。我不知道这是否可能，但必须有某种方法可以在另一个页面上获得完整的结果。

我有两个页面，functions.php 和 profile.php。在functions.php中，我定义了函数：

```
$activated = check_activated();
while($row = mysql_fetch_array($activated))
{
    $userid = $row['admin_id'];
}

$query = "SELECT * from cv_user_profile WHERE admin_id=$userid";
$result = mysql_query($query);
$array1 = mysql_fetch_array($result);

$query2 = "SELECT * from cv_adminlogin WHERE admin_id=$userid";
$result2 = mysql_query($query2);
$array2 = mysql_fetch_array($result2);

$overall = $array1.$array2;

return $overall; 
```

然后我像这样调用 profile.php 中的函数：

```
$user_profile = view_activated_profile();

while($row = mysql_fetch_array($user_profile))
{
    $showfullname = $row['full_name'];
    $showjob_title = $row['job_title'];
    $showemail = $row['email_address'];
    $showdob = $row['dob'];
    $showmobile = $row['mobile'];
    $showphone = $row['phone'];
    $shownationality = $row['nationality'];
    $showprofilepic = $row['profile_image'];
    $showaddress = $row['address'];
    $showaboutme = $row['about_me'];
    $showlastupdated = $row['last_updated'];

} 
```

我在 profile.php 页面上收到此错误：

> 警告：mysql_fetch_array() 期望参数 1 是资源，字符串在第 30 行的 C:\xampp\htdocs\aptanaProjects\pakistanihaider\admin\profile.php 中给出

以下是我在查询中使用的数据库表： ![cv_adminlogin](../Images/8dc5cad9a126c8442712b1cd6e8b90f7.png) ![cv_user_profile](../Images/b9c281078ba3a0098855bbec65664ae1.png)

我做错了什么？如何在 profile.php 上成功获取两个查询的结果？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T08:33:34.527

您可以在一个查询中执行此操作，方法是`JOIN`像这样输入两个表：

```
SELECT 
  u.*,
  a.*
from cv_user_profile u
INNER JOIN cv_adminlogin a ON a.admin_id = u.admin_id 
WHERE u.admin_id = '$userid' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T08:33:14.390

使用[array_merge](http://php.net/manual/en/function.array-merge.php)，合并两个或两个以上的数组数组，

更换你的线路

```
$overall = $array1.$array2; 
```

和

```
$overall = array_merge($array1,$array2); 
```

# php - 将多个复选框中的值插入数据库 PHP

> ID：14109022
> 
> 赞同：-1
> 
> 时间：2013-01-01T08:32:55.603
> 
> 标签：php, html, mysql

> **可能的重复：**
> [处理选中的复选框 PHP](https://stackoverflow.com/questions/5489770/handling-checked-checkboxes-php)

我有这个问题。我有一个显示汽车注册号的网页，这是违规的。我们可以将违规状态从 1=未处理更改为 2=处理。我想使用多个复选框来选择我想要更改的汽车注册状态这是我的网页截图

[![](../Images/cc54aaecc7b0cc8e3454f4465e03f541.png "由 imgur.com 主办")](https://imgur.com/6Gr2x))

我如何更改两个汽车注册号的状态？这是我的网页代码

```
 <div id="content">
    <div class="content_item">
    <?php
       $con = mysql_connect("localhost","fpjarmul","fpjarmul");
        if (!$con)
          {
          die('Could not connect: ' . mysql_error());
          }

        mysql_select_db("fpjarmul", $con);

        $query = "SELECT * FROM laporan WHERE status = '1'";
        $result = mysql_query($query);

        while($row = mysql_fetch_array($result, MYSQL_ASSOC))
        {?>
            <form action="ubahdata.php" method="post">
                <input type="checkbox" name="idlaporan" value="<?php echo $row['idlaporan'] ?>" /><?php echo "ID : {$row['idlaporan']}" ?><br />
                <?php echo  "Nomor Polisi : {$row['platkendaraan']} <br>" .
                            "Status : {$row['status']} <br>" . 
                            "Tanggal Laporan : {$row['tanggallapor']} <br><br>"; ?>

        <?php   
        } 
        ?>  
                <input type="submit">
            </form> 
```

这是我的脚本

```
 <?php include 'header.php'; ?>
 <?php
$con = mysql_connect("localhost","fpjarmul","fpjarmul");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

 mysql_select_db("fpjarmul", $con);

 $sql=("UPDATE laporan set status='2' where idlaporan='$_POST[idlaporan]'");

 if (!mysql_query($sql,$con))
  {
  die('Error: ' . mysql_error());
  }
echo "1 record added";
?> 
 <?php include 'footer.php'; ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:01:09.567

请尝试以下方法：

1.  将复选框“名称”更改为“idlaporan[]”（<input type="checkbox" name="idlaporan[]"）
2.  提交表单后，选中的复选框值将出现在服务器端数组 $_POST['idlaporan']
3.  使用 foreach 循环更新数据库中的值。

    ```
    foreach ($_POST['idlaporan'] as $idlaporan) {

        $sql=("UPDATE laporan set status='2' where idlaporan='$idlaporan'");    
        if (!mysql_query($sql,$con)) {
           die('Error: ' . mysql_error());
        }
        echo "1 record added<br/>";    
    } 
    ```

# windows - 默认情况下如何在 cmd.exe 中制作 Unicode 字符集？

> ID：14109024
> 
> 赞同：67
> 
> 时间：2013-01-01T08:33:07.757
> 
> 标签：windows, unicode, character-encoding, cmd, console

与光荣的 Unicode 相比，Windows 的 cmd.exe 中默认安装的 866 字符集很差且不方便。

我是否可以默认安装 Unicode 或将 cmd.exe 替换到另一个控制台并使其成为默认设置，以便程序使用它而不是 cmd.exe？

我了解**chcp 65001**仅在正在运行的控制台中更改编码。我想在系统级别更改字符集。

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-08-26T08:31:20.963

在我尝试了 algirdas 的解决方案后，我的 Windows 崩溃了（Win 7 Pro 64bit），所以我决定尝试不同的解决方案：

1.  开始`Run`(Win+R)
2.  类型`cmd /K chcp 65001`

你会得到大部分你想要的。要从任务栏或其他任何地方启动它，请创建一个快捷方式（您可以为其命名`cmd.unicode.exe`或任何您喜欢的名称）并将其更改`Target`为`C:\Windows\System32\cmd.exe /K chcp 65001`.

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2016-08-01T08:55:54.077

打开提升的命令提示符（以管理员身份运行 cmd）。通过以下方式查询您的注册表以获取控制台可用的 TT 字体：

```
 REG query "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Console\TrueTypeFont" 
```

您将看到如下输出：

```
 0    REG_SZ    Lucida Console
    00    REG_SZ    Consolas
    936    REG_SZ    *新宋体
    932    REG_SZ    *ＭＳ ゴシック 
```

现在我们需要添加一个支持您需要的字符的 TT 字体，例如 Courier New，我们通过在字符串名称中添加零来做到这一点，所以在这种情况下，下一个将是 "000" ：

```
 REG ADD "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Console\TrueTypeFont" /v 000 /t REG_SZ /d "Courier New" 
```

现在我们实现 UTF-8 支持：

```
 REG ADD HKCU\Console /v CodePage /t REG_DWORD /d 65001 /f 
```

将默认字体设置为“Courier New”：

```
 REG ADD HKCU\Console /v FaceName /t REG_SZ /d "Courier New" /f 
```

将字体大小设置为 20 ：

```
 REG ADD HKCU\Console /v FontSize /t REG_DWORD /d 20 /f 
```

如果您愿意，可以启用快速编辑：

```
 REG ADD HKCU\Console /v QuickEdit /t REG_DWORD /d 1 /f 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2014-07-12T10:08:54.173

将以下内容保存到带有“.reg”后缀的文件中：

```
Windows Registry Editor Version 5.00

[HKEY_CURRENT_USER\Console\%SystemRoot%_system32_cmd.exe]
"CodePage"=dword:0000fde9 
```

双击此文件，regedit 将其导入。

它基本上将密钥设置`HKEY_CURRENT_USER\Console\%SystemRoot%_system32_cmd.exe\CodePage`为 0xfde9（十进制系统中的 65001）。

# vba - 在运行时创建命令按钮时出错

> ID：14109025
> 
> 赞同：1
> 
> 时间：2013-01-01T08:33:12.780
> 
> 标签：vba, excel

我有一个在运行时创建命令按钮的模块。它将以指定的用户表单创建命令按钮。当我执行模块时，程序运行良好。

但是，当我使用用户表单来调用模块时，出现错误说明

`Run-time error '91': Object variable or With block variable not set`

**代码**

```
 Sub AddButtonAndShow()

    Dim Butn As CommandButton
    Dim Line As Long
    Dim objForm As Object
    Dim i As Integer
    Dim x As Integer

    Set objForm = ThisWorkbook.VBProject.VBComponents("Current_Stock")

For i = 1 To 3
    Set Butn = objForm.Designer.Controls.Add("Forms.CommandButton.1")
    With Butn
        .Name = "CommandButton" & i
        .Caption = i
        .Width = 100
        .Left = 300
        .Top = 10 * i * 2
    End With
Next

    For x = 1 To 3
        With objForm.CodeModule
            Line = .CountOfLines
            .InsertLines Line + 1, "Sub CommandButton" & x & "_Click()"
            .InsertLines Line + 2, "MsgBox ""Hello!"""
            .InsertLines Line + 3, "End Sub"
      End With
    '
     Next x

End Sub 
```

好心提醒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:31:27.253

## 编辑后的帖子：基于 VBProject 表单组件

较早的帖子适用于 Excel 工作表按钮。我注意到您可以`caption`通过直接引用`button`自身来设置表单按钮。我试过你的代码。似乎没有发现任何错误。我做的唯一额外的事情是添加引用库 ( `MS VB Extensibility 5.3`)、`Private`代码范围并将代码组合到一个`with`语句中。

根据此**[Mr.Excel 文章](http://www.mrexcel.com/forum/excel-questions/42454-codemodule-insertline-only-working-if-vbe-open.html)**，您需要添加**`do Events`**以在 VB 编辑器关闭时运行代码。您的错误似乎与文章中提到的非常相似。

修改后的代码：

```
Sub AddButtonAndShow()

    Dim Butn As CommandButton
    Dim Line As Long
    Dim objForm As Object
    Dim i As Integer
    Dim x As Integer
    Dim code As String

        Application.DisplayAlerts = False
        DoEvents
        On Error Resume Next
        Set objForm = ActiveWorkbook.VBProject.VBComponents.Add(vbext_ct_MSForm)
        objForm.Name = "thisform1"

        For i = 1 To 3
            Set Butn = objForm.Designer.Controls.Add("Forms.CommandButton.1")
            With Butn
                    .Name = "CommandButton" & i
                    .Caption = i
                    .Width = 100
                    .Left = 100
                    .Top = (i * 24) + 10

                    Line = objForm.CodeModule.CountOfLines + 1
                    code = "Private Sub " & Butn.Name & "_Click()" & vbCr
                    code = code & "MsgBox ""Hello!""" & vbCr
                    code = code & "End Sub"
                    objForm.CodeModule.InsertLines Line, code
              End With
        Next
        Application.DisplayAlerts = False
   VBA.UserForms.Add(objForm.Name).Show
End Sub 
```

Excel命令按钮代码：

```
Private Sub CommandButton3_Click()
Call AddButtonAndShow
End Sub 
```

输出：使用 Excel 工作表按钮打开新创建的带有按钮的表单。

![在此处输入图像描述](../Images/adc3156bf59dc40a9dbbabc3129b318a.png)

* * *

初始帖子：

请查看这篇文章以供参考：[Excel VBA 在单元格旁边创建一个按钮](https://stackoverflow.com/questions/13994014/excel-vba-create-a-button-beside-cell/13996162#13996162)。

*   由于*( `object doesn't support property or method`)*导致的可能错误在`Caption`属性内。因为它必须设置**`theBttn.Object.Caption`**

请试试这个：

```
With Butn
  .Name = "CommandButton" & i
  .Object.Caption = i
  .Width = 100
  .Left = 300
  .Top = 10 * i * 2
End With 
```

# mysql - 与来自相同源字段和表的某些字段左连接，但在 MySQL 中的条件不同

> ID：14109031
> 
> 赞同：1
> 
> 时间：2013-01-01T08:33:50.203
> 
> 标签：mysql

我有看起来像这样的表：

```
ProductList
+------+----------------+--------------+----------+--------+-------+
|  id  | product_number | product_type | location | status | price |
+------+----------------+--------------+----------+--------+-------+
|  1   | A-01           | A001         | Nevada   | READY  | 5000  |
|  2   | B-02           | A002         | Texas    | STORED | 6000  |
|  3   | A-01           | A002         | Utah     | READY  | 6000  |
|  4   | A-02           | B003         | Utah     | READY  | 8000  |
|  5   | B-01           | A001         | Nevada   | STORED | 5000  |
+------+----------------+--------------+----------+--------+-------+ 
```

`id`是主键。

```
Supervisor
+------+-------+--------------+----------+-----------+--------+
|  id  | month | product_type | location | unit_sold | income |
+------+-------+--------------+----------+-----------+--------+
|  1   | 1     | A001         | Nevada   | 5         | 25000  |
|  2   | 3     | A002         | Texas    | 6         | 36000  |
|  3   | 1     | A002         | Utah     | NULL      | NULL   |
|  4   | 4     | B003         | Utah     | 4         | 32000  |
|  5   | 2     | A001         | Nevada   | 6         | 30000  |
+------+-------+--------------+----------+-----------+--------+ 
```

我被问到结果应该像这张表（这实际上是我的估计）：

```
SalesTarget table

Location : Nevada

+------+----------------+--------+--------+---------------+---------------+
|      |     STATUS     |      TOTAL      |   1st MONTH   |   2nd MONTH   |
| TYPE | READY | STORED |  UNIT  | PRICE  | UNIT | INCOME | UNIT | INCOME |
+------+-------+--------+--------+--------+------+--------+------+--------+
| A001 |   6   |    8   |  14    |  70000 |  5   | 25000  |  6   | 30000  |
| A002 |   7   |    4   |  11    |  66000 |  3   | 39000  |  0   |   0    |
| B001 |   3   |    6   |  19    |  95000 |  0   |   0    |  0   |   0    |
| B002 |   5   |    5   |  10    | 100000 |  4   | 40000  |  6   | 60000  |
+------+-------+--------+--------+--------+------+--------+------+--------+ 
```

该表仅显示来自特定的数据`location`。`STATUS READY` 是具有相同类型和位置且具有**READY**状态的单元的累积，等等`STATUS STORED`。`TOTAL`是同一类型的总单价/价格`Location`。

表中的单位和收入`SalesTarget`可以为NULL，由用户输入，但它们是分类的`Supervisor.month`（也是第12个月的）。我通过 . 加入两个表（ProductList 和主管）`product_type`。

我尝试使用这样的准备好的语句查询命令，但它没有给出我想要的确切结果。

```
SELECT

pl.product_type AS TYPE,
SUM(IF(pl.status = ? , 1, 0)) AS READY,
SUM(IF(pl.status = ? , 1, 0)) AS STORED,
SUM((IF((pl.status = ? OR pl.status = ? ), 1, 0))) AS UNIT_TOTAL,
SUM((IF((pl.status = ? OR pl.status = ? ), pl.price, 0))) AS PRICE_TOTAL,
IF(sv.month=1, sv.unit_sold, 0) AS UNIT1,
IF(sv.month=1, sv.income, 0) AS INCOME1,
IF(sv.month=2, sv.unit_sold, 0) AS UNIT2,
IF(sv.month=2, sv.income, 0) AS INCOME2

FROM ProductList pl
LEFT OUTER JOIN Supervisor sv ON pl.product_type = sv.product_type
WHERE pl.location = ?
GROUP BY pl.product_type
ORDER BY TYPE DESC 
```

我怎样才能做到这一点？

# jquery - 在引导模式中动态加载视频

> ID：14109035
> 
> 赞同：1
> 
> 时间：2013-01-01T08:34:46.650
> 
> 标签：jquery, twitter-bootstrap, html5-video

我正在使用引导程序的模态框来使用 videojs 加载视频。我需要从数据库中获取视频文件名。

当有人点击链接时，`playVideo()`会调用一个函数。我所做的是用 id videoPlayer 填充一个 div 并用视频代码填充它。这是我的 playVideo 功能：

```
 function playVideo(id)
  {
   $('video').attr('id','CurrentVideo'+id);
    var videoData=new Array();
   $.getJSON('<?PHP echo base_url();?>admin/content/getVideoDetail/'+id,function(data){
       $.each(data,function(k,v){
           videoData.push(v);
           });
       }).done(function(){

     $("#videoPlayer").html('<video id="CurrentVideo'+id+'" class="video-js vjs-default-skin" controls width="530" height="264" preload="none"> <source type="video/mp4" src="<?PHP echo base_url()?>content/videos/'+videoData[3]+'"></video>');

    myPlayer=_V_('CurrentVideo'+id);

    $("#videoBox").modal();

    $("#videoBox").on('hide',function(){
     $("#videoPlayer").html('');
    });
       });
   } 
```

这有时有效，但并非在所有浏览器中都非常一致。我采取了错误的方法吗？此外，videojs有什么缺陷吗？我应该使用其他替代方法，例如 flowplayer 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-05T09:41:55.380

显然你只指定了 mp4。所以它可以在 Chrome 上播放（也许在 iDevices 上），但不能在 Firefox 等上播放。

您能否提供更多关于它在哪个浏览器上运行以及在哪个浏览器上不运行的信息？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T03:41:19.720

我在使用 VideoJS 时经历的一些事情：

*   自动播放是个坏主意。如果您希望模态框出现并且视频立即开始播放，它只会在某些浏览器中正常工作。大多数其他浏览器都有问题（即音频流的两个实例将开始播放）

*   $("#videoPlayer").html('') 你基本上是在吹掉 HTML。如果您担心性能，请避免这种情况。尝试重新占用现有的代码/标签。大多数开发人员认为通过删除 HTML 可以节省内存——不一定是这样。

这不是 VideoJS 的问题。我见过许多不同的视频 JS 库，它们不能很好地处理 HTML5 视频。

# c++ - 如何用字符串做随机数组？

> ID：14109046
> 
> 赞同：2
> 
> 时间：2013-01-01T08:37:09.667
> 
> 标签：c++, arrays

我希望这是一个非常简单的问题，但是如何在数组中随机一个字符串

例如，对于 vaules 不适这样做

`

```
#include <cstdlib> 
#include <iostream>
using namespace std;
int main() 
{
srand ( time(NULL) ); //initialize the random seed

const char arrayNum[4] = {'1', '3', '7', '9'};

int RandIndex = rand() % 4;
int RandIndex_2 = rand() % 4;
int RandIndex_3 = rand() % 4;
int RandIndex_4 = rand() % 4; //generates a random number between 0 and 3

cout << arrayNum[RandIndex] << endl;;
system("PAUSE");
return 0;
}    ` 
```

如果arraynum中有字符串，我该如何应用它

我在我的搜索中遇到过这样的事情来寻求答案

```
std::string textArray[4] = {"Cake", "Toast", "Butter", "Jelly"}; 
```

但我遇到的只是一个不会自行改变的十六进制答案。因此，因此我将假设它甚至可能不是随机的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T08:42:22.873

你可以使用`std::random_shuffle`

```
#include <string>
#include <iostream>
#include <cstdlib>
#include <ctime>
#include <algorithm>

int main() {
    std::srand(std::time(0));
    std::string str = "123456212";
    std::random_shuffle(str.begin(),str.end());
    std::cout << str;
} 
```

可能的输出：`412536212`

如果您使用的是 C++11，则可以对 C 样式数组执行相同操作，如下所示：

```
int main() {
    std::srand(std::time(0));
    std::string str[4] = {"Cake", "Toast", "Butter", "Jelly"};
    std::random_shuffle(std::begin(str),std::end(str));
    for(auto& i : str)
        std::cout << i << '\n';
} 
```

或者，如果您缺少 C++11 编译器，您可以选择：

```
int main() {
    std::srand(std::time(0));
    std::string str[4] = {"Cake", "Toast", "Butter", "Jelly"};
    std::random_shuffle(str, str + sizeof(str)/sizeof(str[0]));
    for(size_t i = 0; i < 4; ++i) 
        std::cout << str[i] << '\n';
} 
```

# iphone - 添加了自定义字体在 Xcode 中不起作用

> ID：14109047
> 
> 赞同：2
> 
> 时间：2013-01-01T08:37:18.083
> 
> 标签：iphone, xcode

我正在尝试在我的应用程序中添加特定字体。我做了所有的工作，比如将字体添加到资源、plist 和复制捆绑资源。我什至还添加了字体类，也搜索了很多。但一切都是徒劳的，对我没有任何帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-01T08:42:23.683

自定义字体支持想要使用自定义字体的应用程序现在可以将这些字体包含在其应用程序包中，并通过在其 Info.plist 文件中包含 UIAppFonts 键向系统注册这些字体。该键的值是一个字符串数组，用于标识应用程序包中的字体文件。当系统看到密钥时，它会加载指定的字体并使它们对应用程序可用。

在 Info.plist 中设置字体后，您可以将自定义字体用作 IB 中的任何其他字体或以编程方式使用。

Apple 开发者论坛上有一个正在进行的主题： [https](https://devforums.apple.com/thread/37824) ://devforums.apple.com/thread/37824 （需要登录）

这是一个关于如何实现这一目标的优秀[教程。](http://kgriff.posterous.com/45359635)

以下是转录的步骤：

使用 XCode 作为资源将自定义字体文件添加到项目中

在名为 UIAppFonts 的 info.plist 文件中添加一个键。

将此键设为数组

对于您拥有的每种字体，输入字体文件的全名（包括扩展名）作为 UIAppFonts 数组的项目

保存 info.plist

现在在您的应用程序中，您可以简单地调用 [UIFont fontWithName:@"CustomFontName" size:12] 来获取自定义字体以用于您的 UILabel 和 UITextViews 等...</p>

另外：确保字体在您的 Copy Bundle Resources 中。

复制自：[我可以在 iPhone 应用程序中嵌入自定义字体吗？](https://stackoverflow.com/questions/360751/can-i-embed-a-custom-font-in-an-iphone-application)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T08:43:01.690

也祝你新年快乐。我有这个问题。我的问题是 p.list 中的字体名称是用大写字母写的。当我在 .plist 中写入与文件名相同的名称时，它已修复。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T08:52:18.593

检查[字体标签](https://github.com/zynga/FontLabel)，这将对您有所帮助，附上[字体标签](https://github.com/zynga/FontLabel)的屏幕截图

![在此处输入图像描述](../Images/07ac2135e53906691d33fa4df2867de2.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T08:54:09.000

检查您添加到 plist 中的字体名称是否与字体文件的名称相同。然后编写如下代码 nslog(@"%@", [uifont familynames]); 检查您从 nslog 列表中添加的字体的名称并应用它，希望它对您有用。检查我的拼写错误和类名或方法名的大小写。

# android - Android 在文件夹中保存位图 -Duplicates-

> ID：14109048
> 
> 赞同：1
> 
> 时间：2013-01-01T08:37:25.167
> 
> 标签：android, file, bitmap, save

我的问题是每当我保存位图时。我将一个保存在我想要的文件夹（MyFolder）中，一个保存在 DCIM/Camera 中。我没有看到任何使其保存在 DCIM 目录中的代码？

这是我的代码...

```
 case R.id.menu_save:
        try {

            String path = Environment.getExternalStorageDirectory()
                    .toString();
            File myNewFolder = new File(path + "/MyFolder");
            myNewFolder.mkdirs();
            OutputStream fOut = null;
            File file = new File(path, "/MyFolder/HK" + filename + ".jpg");
            fOut = new FileOutputStream(file);

            newBitmap.compress(Bitmap.CompressFormat.JPEG, 85, fOut);
            fOut.flush();
            fOut.close();

            MediaStore.Images.Media.insertImage(getContentResolver(),
                    file.getAbsolutePath(), file.getName(), file.getName());

            Toast.makeText(getApplicationContext(),
                    filename + "Has been saved!", Toast.LENGTH_LONG)
                    .show();

        } catch (Exception e) {

            Toast.makeText(
                    getApplicationContext(),
                    "Problem to Save the File", Toast.LENGTH_LONG).show();
        }

        break; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T08:51:13.970

与@Dixit 链接的线程一样，您可以指定文件路径URI

```
File fileDir = new File(Environment.getExternalStorageDirectory() +
    "/saved_images");
fileDir.mkdirs();

File file = new File(fileDir, "image.jpg");

Uri outputFileUri = Uri.fromFile(file);
intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri); 
```

这样相机会将图像保存到指定路径而不是 DCIM 文件夹。

**编辑：**您必须事先在 sdcard 上创建文件夹，也许这就是问题所在。否则，这应该有效。

# php - 我的正则表达式出了什么问题？

> ID：14109056
> 
> 赞同：3
> 
> 时间：2013-01-01T08:38:09.647
> 
> 标签：php, regex, preg-match

```
preg_match('/[^0-9A-Za-z/._\-\s]/',$user) 
```

我正进入（状态

> 警告：preg_match() [function.preg-match]：未知修饰符 '.' 在第 4 行的 F:\wamp\www\distinctive\include\validate.inc.php

为什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-01T08:41:12.920

您需要`/`在正则表达式中转义：

```
preg_match('/[^0-9A-Za-z\/._\-\s]/',$user) 
```

或使用不同的分隔符：

```
preg_match('#[^0-9A-Za-z/._\-\s]#',$user) 
```

否则，`/`匹配开头的分隔符，之后的所有内容都被视为修饰符。

# android - 用另一个布局填充一个布局

> ID：14109062
> 
> 赞同：0
> 
> 时间：2013-01-01T08:39:55.280
> 
> 标签：android, android-layout

嗨，我有一个定制的`listView`. 该列表基本上包含一个布局（比如 L）。此布局 L 分为两个布局 L1 和 L2，垂直放置。现在 L1 有 a`textfield`而 L2 是空的。现在，当单击列表项时，对应的布局 L2`list item`应该填充第三个布局 L3。我已经阅读了论坛本身提供的建议，但没有一个涵盖`list view`项目类型的布局膨胀，请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:23:53.177

您可以设置 L3 的可见性在 L1 中消失，在 L2 的 onsetClickListener 或 onsetItemClickListener 内部，您可以将 L3 的可见性设置为可见。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T08:51:16.293

您可以处理此问题的一种方法：在开始时已经定义完整的 L3 并将其设置`visibility`为`GONE`. 当您想要显示它时，将其设置`visibility`为`VISIBLE`.

# javascript - 扩展 IXMLDOMElement 的“文本”属性以在 Chrome 中工作

> ID：14109071
> 
> 赞同：1
> 
> 时间：2013-01-01T08:42:09.097
> 
> 标签：javascript, html, cross-browser

我正在使用的 Web 应用程序是大约 10 年前构建的。它只在 IE 中工作。我希望它也能在 Crome 中工作。

我遇到了下一个问题：如何扩展 IXMLDOMElement 的“text”属性以使用“text”属性（使用 IE 时）或“textContent”属性（使用 Crome 时）。下面有一个代码示例。

Crome 的下一行有问题：

```
var resultContent = result_xml.selectSingleNode("WSResult/Result").text;  (*) 
```

而不是“文本”属性，有“文本内容”属性。我正在搜索如何在不更改 (*) 行的情况下扩展它将在 Crome 中工作的“文本”属性。

我找到了下一个代码，但它对我不起作用

```
Element.prototype.text = function () {
return (this.textContent === undefined ? this.text : this.textContent);
} 
```

代码示例：

```
function XMLDocWorkspace
{
    this.LoadXML = function(xmlStr) {
        if (xmlStr == null || $.trim(xmlStr) == "") return null;       
        if (window.DOMParser) {
            parser = new DOMParser();
            _xmlDoc = parser.parseFromString(xmlStr, "text/xml");
        }
        else // Internet Explorer
        {
            _xmlDoc = new ActiveXObject(Msxml2.DOMDocument.6.0);
            _xmlDoc.async = false;
            _xmlDoc.loadXML(xmlStr);
        }
        var errorMsg = null;
        if (_xmlDoc.parseError && _xmlDoc.parseError.errorCode != 0) {
            errorMsg = "XML Parsing Error: " + _xmlDoc.parseError.reason
                          + " at line " + _xmlDoc.parseError.line
                          + " at position " + _xmlDoc.parseError.linepos;
        }
        else {
            if (_xmlDoc.documentElement) {
                if (_xmlDoc.documentElement.nodeName == "parsererror") {
                    errorMsg = _xmlDoc.documentElement.childNodes[0].nodeValue;
                }
            }
            else {
                errorMsg = "XML Parsing Error!";
            }
        }

        if (errorMsg) {
            return false;
        }        
    }

    this.SelectSingleNode = function(xPath) {
        if (_xmlDoc == null) return null;
        var nodes = this.selectNodes(xPath);
        if (nodes.length > 0) {
            return nodes[0];
        }
        return null;
    }

    this.SelectNodes = function (xPath)
    {
        if (_xmlDoc == null) return null;
        var condition = xPath;
        condition = condition.substring(0, 1) == "/" ? condition.substring(1, condition.length) : condition;
        condition = condition.replace(new RegExp("/", "g"), ">").replace(new RegExp("@", "g"), "");
        return $(_xmlDoc).find(condition);
    }
}

//*************************************************
 var result_xml = new XMLDocWorkspace()
 result_xml.loadXML(xmlString);
var resultContent = result_xml.selectSingleNode("WSResult/Result").text;
//************* 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T15:45:00.413

看看[这里](http://www.bbqiguana.com/javascript-xml-extensions/)。

您必须定义吸气剂：

元素.原型。**defineGetter** ('text', function () { return this.textContent; });

;)

# mysql - if查询中包含的mysql中的别名排序

> ID：14109076
> 
> 赞同：1
> 
> 时间：2013-01-01T08:42:56.543
> 
> 标签：mysql, alias

我正在使用查询从没有美元的价格列中选择价格，然后在 if 语句之后按该别名排序。但是按该别名的顺序不起作用。

我正在使用的查询是

```
SELECT 
  *, 
  IF( SUBSTRING( price , '1', '1' ) = '$', 
      round( replace( price , '$', '' ) ) ,
      price ) AS coupon 
FROM ccs_product 
WHERE (product_name LIKE '%JoyLot.com%' 
       OR website_name LIKE '%JoyLot.com%' 
       OR description LIKE '%JoyLot.com%')
ORDER BY coupon ASC 
LIMIT 0 , 10; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T08:48:21.973

使用别名进行排序没有问题。检查这个[sql fiddle](http://sqlfiddle.com/#!2/bfdc2/10)作为证明

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T08:54:18.087

使用这个查询它的作品使用 round(price)

```
 SELECT 
       *, 
         IF( SUBSTRING( price , '1', '1' ) = '$', 
              round( replace( price , '$', '' ) ) ,
              round(price) ) AS coupon 
          FROM ccs_product 
         WHERE (product_name LIKE '%JoyLot.com%' 
     OR website_name LIKE '%JoyLot.com%' 
     OR description LIKE '%JoyLot.com%')
        ORDER BY coupon ASC 
   LIMIT 0 , 10; 
```

# windows - VM 初始化期间发生错误 (java/lang/NoClassDefFoundError: java/lang/Object)

> ID：14109079
> 
> 赞同：27
> 
> 时间：2013-01-01T08:43:25.683
> 
> 标签：windows, eclipse, java, java-7

我正在尝试安装 Java 以使用 Eclipse（我按照安装 Java 和 Eclipse 的所有说明进行操作），但我猜我的 Eclipse 由于一些错误的配置而没有启动。我不知道为什么它对我不起作用。

**日食安装：**

1.  提取的 Eclipse 在`C:\eclipse`
2.  为我的桌面创建了一个快捷方式，有目标`C:\eclipse\eclipse.exe`

当我尝试使用此快捷方式运行 Eclipse 时，我看到下面的 Eclipse 闪屏一秒钟，然后它就消失了。Eclipse 根本不启动。

![Eclipse 闪屏](../Images/039c230ddcecb3fdcd08bcd06f3b537b.png)

**JAVA安装：**

1.  安装JDK在`C:\Program Files\Java\jdk1.7.0_10`
2.  安装 JRE 于`C:\Program Files\Java\jre7`

**环境变量配置：**

```
JAVA_HOME = C:\Program Files\Java\jdk1.7.0_10
PATH = C:\Program Files\Java\jdk1.7.0_10\bin; 
```

我使用控制台测试了我的 Java 安装并发现了这个问题，但我不知道如何修复它，我猜这导致 Eclipse 无法启动。

**问题：**

![在此处输入图像描述](../Images/93679afb8aba1e1a5f96ac0a79d2b247.png)

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-07-17T08:57:32.373

转到 Eclipse 文件夹，找到 eclipse.ini 文件，添加以下条目（`-vmargs`如果存在，则添加之前）：

```
-vm
C:\Program Files\Java\jdk1.7.0_10\bin\javaw.exe 
```

保存文件并执行eclipse.exe。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-01T08:55:34.790

请尝试`java`从

> C:\Program Files\Java\jdk1.7.0_10\bin

即从安装java的位置。

如果成功，则意味着错误位于类路径中的某个位置。

另外，这个人好像和你有同样的问题，[看看](http://geekycoder.wordpress.com/2009/07/08/java-tips-adventure-in-resolving-the-java-error-error-occurred-during-initialization-of-vm/)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-01T08:49:02.163

检查下载的 eclipse/JDK/JRE 是否与您的处理器/操作系统架构兼容，即它们是 32 位还是 64 位？

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-09-23T12:16:44.653

无法运行 Appium`{“message”:”A new session could not be created. (Original error: ‘java -version’ failed`

我使用`Jdk 1.8 and JRE 1.8`，`Classpath`也设置正确，但我观察到 Java 命令给 VM 的初始化错误（`java/lang/NoClassDefFoundError: java/lang/Object)`

```
Solution:
Uninstalled JRE and JDK completely 
Installed JRE 1.8 then
Installed JDK 1.8 
Set Classpath
check Java command works or not and its working 
also able to execute the Appium program thru Eclipse Kepler Service Release 2 with JDK1.8 support 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-05-13T04:37:56.483

尝试在 PATH 中不需要的 java 目录之前将所需的 java 目录放在 PATH 中。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-11-03T00:09:14.177

在我的情况下，我遇到了同样的错误，当我需要将 jdk 7 更新到 jdk 8 时，我的坏处是我安装了 jdk8 而我从未安装过 jre8，只有这样，当我安装 jre8 时，错误立即得到解决。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-11-03T21:48:25.083

我在 Windows 7 上遇到了同样的问题，我必须同时安装 JDK 和 JRE，它是成功的。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-05-06T04:16:19.830

我遇到了同样的问题，Eclipse 闪屏一秒钟然后它消失了。然后我注意到由于 java 的自动更新，我的系统中安装了两个 java 版本。当我卸载一个日食开始工作。

谢谢..

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-06-21T17:11:50.640

我只花了大约 1 个小时来找出相同错误的可能解决方案。

所以我在 MS WIndows 7 下所做的事情如下

1.  卸载所有版本的所有 Java 包。

2.  下载适用于 32 或 64 Windows 的最新软件包 Java SE 或 JRE 并安装。

3.  首先安装 JRE，其次是 Java SE。

[![在此处输入图像描述](../Images/ed0f80fdbb08a7a5bd986c10b670150f.png)](https://i.stack.imgur.com/VVnFn.png)

4.  打开文本编辑器并粘贴此代码。

    公共课你好{

    ```
     public static void main(String[] args) {

         System.out.println("test");

      }

    } 
    ```

5.  像 Hello.java 一样保存它

6.  转到控制台并像这样编译它

javac 你好.java

7.  像这样执行代码

你好

[![在此处输入图像描述](../Images/32d109618c61d2cea363382fdaffbf60.png)](https://i.stack.imgur.com/iiNZG.png)

应该没有错误。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-03-28T12:16:51.397

有时你错过了一些文件，就像我错过了我的一个文件`rt.java` ，所以最好检查你的......

```
C:\Program Files\Java\jdk1.8.0_112\jre\lib 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-05-14T04:31:38.847

我已经使用 STS 和 Eclipse 观察到这一点，并在 Windows 7/8/10 上也从 CMD 运行 java，以下是我的简单解决方案：

实际上，当我安装 JDK 8 和 STS/Eclipse 时，它​​创建了一个目录，即`C:\ProgramData\Oracle\Java\javapath`包含以下文件：

*   C:\ProgramData\Oracle\Java\javapath\java.exe
*   C:\ProgramData\Oracle\Java\javapath\javaw.exe
*   C:\ProgramData\Oracle\Java\javapath\javaws.exe

除此之外，它在此位置附加了**System的 Path** **Environment 变量****`C:\ProgramData\Oracle\Java\javapath`**

 **我刚刚从**System的 Path** **Environment 变量**中删除了上面的条目，并添加了实际 JDK 的位置，即**`C:\Program Files\Java\jdk1.8.0_131\bin`**

 **> 现在也不需要在 eclipse.ini 或 SpringToolSuite4.ini 中添加该 -vm 选项。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-05-27T12:48:25.350

1.  0

    我只花了大约 1 个小时来找出相同错误的可能解决方案。

    所以我在 MS WIndows 7 下所做的事情如下

    卸载所有版本的所有 Java 包。

    下载适用于 32 或 64 Windows 的最新软件包 Java SE 或 JRE 并安装。

    首先安装 JRE，其次是 Java SE。

    1.  项目清单

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-09-28T03:19:18.470

当您的机器上有多个版本的 jdk 时，会引发以下错误：

VM java/lang/NoClassDefFoundError: java/lang/Object 初始化时出错

所以为此只需在下面使用：

在 cmd 中设置 PATH="JDK bin 路径"****

# logging - 可以修改其他包中定义的类型的方法集吗？

> ID：14109080
> 
> 赞同：-1
> 
> 时间：2013-01-01T08:43:46.743
> 
> 标签：logging, go

内置`log`且不`log.Logger`提供`Error`或`Warning`类似`Python`.

`Logger`所以我想用下面的代码为内置类型写一个：

```
func (l *Logger) Error(v interface{}) {
    info := fmt.Sprintf("ERROR: %v", v)
    l.Println(info)
} 
```

我将上面的代码`morelog.go`放在`GOPATH/src/log`.

在`main.go`我写道：

```
logger := log.New(os.Stdout, "Test", 1)
logger.Error("Error in main.") 
```

当我运行时`go build`，我得到：

```
./main.go:124: logger.Error undefined (type *log.Logger has no field or method Error) 
```

我知道我可以通过定义一个新类型并在该类型上定义方法来实现类似的目标。但我认为如果我可以将方法直接添加到内置类型中会更好。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T19:24:28.590

这两个答案都是正确的，所以我将提供更多替代方案。您不能在未定义的类型上定义方法。函数确实是您可以做到这一点的一种方式，但您也可以通过重新定义类型或包装类型来做到这一点。

例如，如果您不关心拆分输出文件而只想修改日志行，那么您可以执行其中之一。

重新定义类型：

```
type MyLogger log.Logger

func (l MyLogger) Info(msg string, args ...interface{}) {
    log.Logger(l).Printf(msg, args...)
}

func (l MyLogger) Error(msg string, args ...interface{} {
    log.Logger(l).Printf("ERROR: " + msg, args...)
} 
```

或包装类型：

```
type MyLogger struct {
  log.Logger
}

func (l MyLogger) Info(msg string, args ...interface{}) {
  l.Printf(msg, args...)
}

func (l MyLogger) Error(msg string, args ...interface{}) {
  l.Printf("ERROR: " + msg, args...)
} 
```

重新定义类型会将您可以调用的方法集限制为您定义的方法集。如果不先进行转换，您将无法重用 *Printf 方法。通过嵌入来包装类型将允许您调用 *Printf 方法并用您自己的方法包装这些方法。您可以在每种情况下的 Info 和 Error 方法的实现中看到这方面的示例。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-01T13:24:51.433

Rputikar 对您的基本问题的回答是正确的。您不能在不是您创建的类型上定义新方法。

那么，一种解决方案是不要挂在方法上，只需编写一个简单的函数。这是您想要编写为函数的方法。

Edit2：正如 Spirit Zhang 正确指出的那样，我的第一个版本的代码在 Lshortfile 或 Llongfile 标志的情况下丢失了行号。这是一个改进：

```
func LogError(l *log.Logger, v interface{}) {
    l.Output(2, fmt.Sprint("ERROR: ", v))
} 
```

操场上的完整工作示例： [http ://play.golang.org/p/MJaKQLt24L](http://play.golang.org/p/MJaKQLt24L)

如果你把这段代码放在 morelog.go 中，你可以把 morelog.go 放在你的主程序所在的目录下。或者不要为几个小功能使用单独的文件；只需将 LogError 和 LogWarning 代码与主程序放在同一个文件中即可。

编辑：默认记录器的示例：Edit2：**此示例不适用于 Lshortfile 或 Llongfile。** 我会把它留在这里，以便人们可以看到问题所在。我不知道编写这些函数以使用默认记录器的简单方法。

我的示例显示了适用于任何记录器的 LogError 函数。如果您只需要为默认记录器记录错误，那就更简单了：

```
func LogError(v interface{}) {
    log.Printf("ERROR: %v", v)
} 
```

甚至，

```
func LogError(v interface{}) {
    log.Print("ERROR:", v)
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-01T10:00:42.260

您不能覆盖您未创建的类型的方法。同样，您不能在未创建的类型上定义新方法。

根据您的需要，您可以简单地拥有两个 log.Logger 实例，一个用于警告，一个用于错误。

[http://play.golang.org/p/DQjIvk-wfI](http://play.golang.org/p/DQjIvk-wfI)

```
package main

import (
    "log"
    "os"
)

func main() {

    errorLogger := log.New(os.Stderr, "ERROR: ", log.LstdFlags)
    warnLogger := log.New(os.Stdout, "WARNING: ", log.LstdFlags)

    errorLogger.Println("Hello, playground")
    warnLogger.Println("Hello, playground")
} 
```

# android - Android Webview 视频播放

> ID：14109083
> 
> 赞同：-1
> 
> 时间：2013-01-01T08:44:28.633
> 
> 标签：android

我正在开发一个使用 webview 显示网页的应用程序，如果 url 是视频链接（youtube）或视频包含作为网页的一部分，我想播放视频。我尝试将 url 直接添加到 webview 但它甚至不播放 youtube 链接，我已经在 webview 中启用了插件和 javascript ..... 谁能帮我解决这个问题，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:11:00.187

试试这种方式：

```
public class FlashContentPlayer extends Activity {  
private WebView m_wvMain;  
private Button m_btnPlayVideo;  
private ProgressDialog m_progressLoading;  
private String m_videoUrl;  
private Context m_context;  
@Override
protected void onCreate(Bundle p_savedInstanceState) {
    super.onCreate(p_savedInstanceState);
    setContentView(R.layout.flashcontentplayer);
    m_context = FlashContentPlayer.this;
    m_wvMain = (WebView) findViewById(R.id.fcpwvMain);
    m_btnPlayVideo = (Button) findViewById(R.id.fcpbtnPlayVideo);
    m_wvMain.getSettings().setJavaScriptEnabled(true);
    m_wvMain.getSettings().setAllowFileAccess(true);
    m_wvMain.getSettings().setPluginsEnabled(true);
    m_wvMain.getSettings().setPluginState(WebSettings.PluginState.ON);
    if (getIntent().hasExtra("video_url")) {
        m_videoUrl = getIntent().getExtras().getString(
                AppConstants.VIDEO_URL);
    }
    m_wvMain.setWebViewClient(new VideoWebViewClient());
    m_progressLoading = new ProgressDialog(m_context);
    m_progressLoading.setTitle(getString(R.string.app_name));
    m_progressLoading.setMessage("Loading ...");
    m_btnPlayVideo.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View p_v) {
            if (m_videoUrl == null) {
                m_wvMain.loadUrl("http://www.hackerdude.com/channels-test/20051210-w50s.flv");
            } else {
                if (m_videoUrl.contains("www.youtube.com/")
                        || m_videoUrl.contains("youtu.be/")) {
                    System.out.println("video id==>"
                            + getYoutubeVideoId(m_videoUrl));
                    if (isYouTubeInstalled(FlashContentPlayer.this)) {
                        Intent m_intent = new Intent(Intent.ACTION_VIEW,
                                Uri.parse("vnd.youtube:"
                                        + getYoutubeVideoId(m_videoUrl)));
                        startActivity(m_intent);
                    } else {
                        Intent m_yVideoIntent = new Intent(null, Uri
                                .parse("ytv://"
                                        + getYoutubeVideoId(m_videoUrl)),
                                m_context, OpenYouTubePlayerActivity.class);
                        startActivity(m_yVideoIntent);
                    }
                } else {
                    m_wvMain.loadUrl(m_videoUrl);
                }
            }
        }
    });
}
/**
 * Method to get the Video id from the Youtube Url
 * 
 * @param p_url
 *            The url of the YouTube video
 * @return The id of the YouTube video
 */
public String getYoutubeVideoId(String p_url) {
    String m_videoID = null;
    try {
        Pattern m_compiledPattern = Pattern
                .compile(AppConstants.YOUTUBE_URL_PATTERN);
        Matcher m_matcher = m_compiledPattern.matcher(p_url);
        if (m_matcher.find()) {
            int m_start = m_matcher.end();
            m_videoID = p_url.substring(m_start, m_start + 11);
        }
    } catch (Throwable p_e) {
        CustomLogHandler.printErrorlog(p_e);
    }
    return m_videoID;
}
public class VideoWebViewClient extends WebViewClient {
    @Override
    public void onPageStarted(WebView p_view, String p_url, Bitmap p_favicon) {
        m_progressLoading.show();
        super.onPageStarted(p_view, p_url, p_favicon);
    }
    @Override
    public boolean shouldOverrideUrlLoading(WebView p_view, String p_url) {
        return super.shouldOverrideUrlLoading(p_view, p_url);
    }
    @Override
    public void onPageFinished(WebView p_view, String p_url) {
        if (m_progressLoading.isShowing()) {
            m_progressLoading.cancel();
        }
        super.onPageFinished(p_view, p_url);
    }
}
/**
 * Method to check if YouTube application is installed or not in the device
 * 
 * @param p_ctx
 *            The context of the activity
 * @return true if YouTube application is installed on the device false
 *         otherwise
 */
public static boolean isYouTubeInstalled(Context p_ctx) {
    PackageManager m_packageManager = p_ctx.getPackageManager();
    boolean m_isInstalled = false;
    List m_appList;
    try {
        // act_list =
        // pm.getInstalledPackages(PackageManager.GET_ACTIVITIES);
        m_appList = m_packageManager
                .getInstalledApplications(PackageManager.GET_ACTIVITIES);
        for (int m_i = 0; m_i < m_appList.size(); m_i++) {
            if (m_appList.get(m_i).toString()
                    .contains("com.google.android.youtube")) {
                // System.out.println("In if of com.google.android.youtube");
                m_isInstalled = true;
                break;
            }
        }
        m_packageManager.getPackageInfo("com.google.android.youtube",
                PackageManager.GET_ACTIVITIES);
    } catch (Exception p_e) {
        m_isInstalled = false;
    }
    return m_isInstalled;
}} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-15T05:13:26.887

```
if (webView == null) {
            webView = (WebView) findViewById(R.id.web_view);
            webView.getSettings().setJavaScriptEnabled(true);
            webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(false);
            webView.getSettings().setPluginsEnabled(true);
            webView.getSettings().setSupportMultipleWindows(false);
            webView.getSettings().setSupportZoom(false);
            webView.setVerticalScrollBarEnabled(false);
            webView.setHorizontalScrollBarEnabled(false);
            webView.setWebChromeClient(new WebChromeClient());

        }

webView.setWebViewClient(new WebViewClient() {
            @Override
            public boolean shouldOverrideUrlLoading(WebView view, String url) {
                if (url.startsWith("vnd.youtube")) {

                    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));

                    return true;
                } else {
                    return false;
                }
            }

             public void onPageFinished(WebView view, String url) {
                // hide progress indicator
                hideProgressDialog();
            }
        }); 
```

# php - 时区的 PHP 变量

> ID：14109088
> 
> 赞同：1
> 
> 时间：2013-01-01T08:45:43.393
> 
> 标签：php, timezone

我在询问时区名称的 PHP 内容

**例如 ：**

```
$rc = date_default_timezone_set("US/Mountain"); 
```

`"US/Mountain"`成为常数而不是把它写成文本

它是从 PHP 类中存在还是我需要自己做

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T08:50:10.297

没有预定义常量之类的东西，因为根本不需要它。`date_default_timezone_set`使用字符串。如果你想要一个常量，那么你可以自己定义一个：

```
define('MY_CONSTANT', "US/Mountain"); 
```

并显然将其用作：

```
date_default_timezone_set(MY_CONSTANT); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T08:59:04.243

您可以使用此页面上的信息：

[http://php.net/manual/en/timezones.php](http://php.net/manual/en/timezones.php)

构建“有效常量”列表或做任何你想做的事情。有趣的是，在这个页面上：

[http://php.net/manual/en/timezones.others.php](http://php.net/manual/en/timezones.others.php)

它说你也可以这样做：

```
date_default_timezone_set ( "Etc/GMT-8" ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T08:53:05.013

您必须自己提及时区。没有任何内置类或其他东西..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T09:01:41.223

没有 PHP 常量来表示特定的时区。您可以使用设置您的时区

```
<?php
$timezone = "urtimezone";
if(function_exists('date_default_timezone_set')) date_default_timezone_set($timezone);
echo date('d-m-Y H:i:s');
?> 
```

可以在[此处找到支持的时区列表](http://php.net/manual/en/timezones.php)

# django - 基于分类的 ViewList（找不到页面）

> ID：14109090
> 
> 赞同：0
> 
> 时间：2013-01-01T08:46:38.027
> 
> 标签：django

`Page not found (404)`当我访问时，我得到了`job/list/`。我正在获取详细信息`job/my-slug`。它有效但无效`JobInfoList`。我错过了什么吗？谢谢

网址

```
url(r'^job/(?P<slug>[\w-]+)/$', login_required(JobInfoDetail.as_view()), name='jobinfo_detail'),
url(r'^job/list/$', login_required(JobInfoList.as_view()), name='job_list'), 
```

意见

```
class JobInfoDetail(DetailView):
    context_object_name = "jobinfo"
    model = JobInfo

class JobInfoList(ListView):
    context_object_name = "job_list"
    model = JobInfo

    def get_queryset(self):
        return JobInfo.objects.filter(company__userprofile__user=self.request.user) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:06:00.687

切换正则表达式的顺序，因为您`jobinfo_detail`正在捕获`job/list/`：

```
url(r'^job/list/$', login_required(JobInfoList.as_view()), name='job_list'),
url(r'^job/(?P<slug>[\w-]+)/$', login_required(JobInfoDetail.as_view()), name='jobinfo_detail'), 
```

# html - 如何在xslt中创建多个具有相同名称的复选框

> ID：14109096
> 
> 赞同：0
> 
> 时间：2013-01-01T08:48:20.690
> 
> 标签：html, xslt, checkbox

我必须为表格中的每一行创建一个复选框，如下面的 xslt 中的。

以下代码创建一个复选框：

```
<xsl:for-each select="Sequence/Script">
<Input Type="CheckBox" RUNAT="Server">
<xsl:attribute name="id">chkItem<xsl:value-of select="Name"/>
</xsl:attribute>
</Input>
<xsl:value-of select="Name"/>
</xsl:for-each> 
```

我用[这个](http://jsfiddle.net/Offroadcode/cUFaR/)来测试上面的代码：

但我想创建多个具有相同名称的复选框，例如

```
name
name1
name2
name3
.
.
.
.
.
.
nameN

I need to have names and id like the above to make operations on this check box using java script  easier. 
```

更新 ：

XML：

```
<Root>
  <AppConfig CategoryDepth="3" SelectedPage="CIMtrek_SelectedPage" ParentID="CIMtrek_ParentID" LstParm="CIMtrek_LstParm" SearchParm="CIMtrek_SearchParm" isSearch="CIMtrek_Search_No" ViewName="CIMtrek_Compliance_Daily_Shipments_Case_Pack_Update" />
  <ColumnHeader Header="Seq Num" />
  <ColumnHeader Header="Schedule Name" />
  <ColumnHeader Header="PO #" />
  <ColumnHeader Header="Ready Date" />
  <ColumnHeader Header="Cancel Date" />
  <ColumnHeader Header="Scheduled Pick Up Date" />
  <ColumnHeader Header="Scheduled Pick Up Time" />
  <ColumnHeader Header="Pallets" />
  <ColumnHeader Header="Cases" />
  <ColumnHeader Header="Pieces" />
  <ColumnHeader Header="Actual P/U Date" />
  <ColumnHeader Header="Actual P/U Time" />
  <ColumnHeader Header="Labels Printed?" />
  <ColumnHeader Header="Plant Contact" />
  <ColumnHeader Header="Missed P/U Comments" />
  <ColumnHeader Header="MY MENU" />
  <Params Param="MY PARM" />
  <Search Search="Status|[T1].[CIMtrek_daily_status] " />
  <Search Search="Load #|[T1].[CIMtrek_daily_LoadNum] " />
  <Search Search="Seq Num|[T1].[CIMtrek_SeqNum] " />
  <Search Search="Schedule Name|[T1].[CIMtrek_daily_schedule_name] " />
  <Search Search="PO #|[T1].[CIMtrek_daily_PONumbers] " />
  <Search Search="Ready Date|[T1].[CIMtrek_daily_RDate] " />
  <Search Search="Cancel Date|[T1].[CIMtrek_daily_CDate] " />
  <Search Search="Scheduled Pick Up Date|[T1].[CIMtrek_daily_SPUD] " />
  <Search Search="Scheduled Pick Up Time|[T1].[CIMtrek_daily_SPUT] " />
  <Search Search="Pallets|[T1].[CIMtrek_daily_pallet_totals] " />
  <Search Search="Cases|[T1].[CIMtrek_daily_cases] " />
  <Search Search="Pieces|[T1].[CIMtrek_daily_pieces] " />
  <Search Search="Actual P/U Date|[T1].[CIMtrek_daily_ADate] " />
  <Search Search="Actual P/U Time|[T1].[CIMtrek_daily_ATime] " />
  <Search Search="Labels Printed?|[T1].[CIMtrek_daily_labels] " />
  <Search Search="Plant Contact|[T1].[CIMtrek_daily_contact] " />
  <Search Search="Missed P/U Comments|[T1].[CIMtrek_daily_MPcomments] " />
  <Search Search="MY SEARCH|Search" />
  <Data CIMtrek_COUNT="0" CIMtrek_COUNT_Level="3">
    <Data Row="1" UnqCimID="6105E973-3E07-4A6B-95C3-8A73FCD5BBF9" CIMtrek_SeqNum="12" CIMtrek_CIMtrekUniqueID="3432" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c605445k" CIMtrek_daily_PONumbers="5908013035" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="" CIMtrek_daily_pieces="" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="2" UnqCimID="13256F61-ABA8-404F-95E1-35948072D827" CIMtrek_SeqNum="13" CIMtrek_CIMtrekUniqueID="3456" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c703845a" CIMtrek_daily_PONumbers="1403182831" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="0" CIMtrek_daily_pieces="142" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="3" UnqCimID="7EED00B5-78D7-4725-A4B5-C5367928F381" CIMtrek_SeqNum="14" CIMtrek_CIMtrekUniqueID="3441" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c703845k" CIMtrek_daily_PONumbers="0953341466" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="" CIMtrek_daily_pieces="" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="4" UnqCimID="F762B1C4-6DF7-4DC5-9EA5-6B3375033266" CIMtrek_SeqNum="15" CIMtrek_CIMtrekUniqueID="3442" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c703845b" CIMtrek_daily_PONumbers="1702274479" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="" CIMtrek_daily_pieces="" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="5" UnqCimID="7DF9C660-D530-4823-AB7B-F9F3A587FD78" CIMtrek_SeqNum="16" CIMtrek_CIMtrekUniqueID="3449" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c602345a" CIMtrek_daily_PONumbers="8703182710 " CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="4" CIMtrek_daily_pieces="103" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="6" UnqCimID="1B80BF88-9873-415D-9053-2929227B96B9" CIMtrek_SeqNum="17" CIMtrek_CIMtrekUniqueID="3419" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c602345k" CIMtrek_daily_PONumbers="6253222783" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="" CIMtrek_daily_pieces="" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="7" UnqCimID="63C0E5B5-2454-4C54-A707-A25F2DB73C31" CIMtrek_SeqNum="18" CIMtrek_CIMtrekUniqueID="3418" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c602345b" CIMtrek_daily_PONumbers="3251819273" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="" CIMtrek_daily_pieces="" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="8" UnqCimID="F4D78B25-02AD-40E9-A337-552785FD9ECC" CIMtrek_SeqNum="19" CIMtrek_CIMtrekUniqueID="3455" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c703445a" CIMtrek_daily_PONumbers="8553014885" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="1" CIMtrek_daily_pieces="172" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="9" UnqCimID="040BF0F1-CF3E-46F8-9C20-6075E3DBA049" CIMtrek_SeqNum="2" CIMtrek_CIMtrekUniqueID="3415" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c601045k" CIMtrek_daily_PONumbers="3403154247" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="" CIMtrek_daily_pieces="" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
    <Data Row="10" UnqCimID="02BCB2ED-CCB9-4F65-B841-DE03DCB897EB" CIMtrek_SeqNum="20" CIMtrek_CIMtrekUniqueID="3440" CIMtrek_Cim_FormName="Compliance_Daily_Shipments" CIMtrek_daily_schedule_name="c703445b" CIMtrek_daily_PONumbers="6652205349" CIMtrek_daily_RDate="11/09/2012" CIMtrek_daily_CDate="11/15/2012" CIMtrek_daily_SPUD="09-Nov-12 12:00:00 AM" CIMtrek_daily_SPUT="" CIMtrek_daily_pallet_totals="1" CIMtrek_daily_cases="" CIMtrek_daily_pieces="" CIMtrek_daily_ADate="" CIMtrek_daily_ATime="" CIMtrek_daily_labels="" CIMtrek_daily_contact="" CIMtrek_daily_MPcomments="" />
  </Data>
</Root>

not able to update with xslt as it is too big 
```

如何在 xslt 中执行此操作。请帮我完成这件事。

最好的祝福。

![多个复选框](../Images/0e4a366810e230c4650d88b86dabb031.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:18:03.547

检查这个，你可以理解你错过了什么

```
<xsl:for-each select="Sequence/Script"> 
    <xsl:element name="input">
      <xsl:attribute name="type">checkbox</xsl:attribute>
      <xsl:attribute name="value"><xsl:value-of select="Name"/></xsl:attribute>
    </xsl:element>
    <xsl:value-of select="Name"/>
<br />  
</xsl:for-each> 
```

这是**[从 XSL 样式表输出 HTML的链接](http://www.ibm.com/developerworks/xml/library/x-tiphtml/index.html)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T17:13:04.560

**这是一个更短更紧凑的解决方案：**

```
<xsl:template match="Sequence/Script"> 
  <input type="checkbox" value="{Name}"/>
  <xsl:value-of select="Name"/><br />
</xsl:template> 
```

# php - 验证码不显示任何图像

> ID：14109098
> 
> 赞同：1
> 
> 时间：2013-01-01T08:48:29.643
> 
> 标签：php, yii, captcha

在我的应用程序中使用多个布局后，Cpatcha 不显示任何图像:(

这是我的代码

控制器 ：

```
public function actions()
        {
                return array(
                        // captcha action renders the CAPTCHA image displayed on the contact page
                        'captcha'=>array(
                                'class'=>'CCaptchaAction',
                                'backColor'=>0xFFFFFF,
                        ),
                        // page action renders "static" pages stored under 'protected/views/site/pages'
                        // They can be accessed via: index.php?r=site/page&view=FileName
                        'page'=>array(
                                'class'=>'CViewAction',
                        ),
                );
        } 
```

模型 ：

```
public function rules()
{
        return array(
                array('email, password', 'required','message'=>'-- {attribute}  '),

                array('password', 'authenticate'),

                // verifyCode needs to be entered correctly
        array('verifyCode', 'captcha', 'allowEmpty'=>!CCaptcha::checkRequirements(),'message'=>' {attribute}  Error '),

);

} 
```

查看通话小部件

```
...
        <div>
                <?php $this->widget('CCaptcha'); ?>
                <?php echo $form->textField($model,'verifyCode'); ?>
                </div>
... 
```

我在请求记录器上对其进行了测试，它发送和接收请求。 ![验证码](../Images/656ef2b3a95986030c74f5bd22b29b49.png)

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T10:50:44.410

我通过添加 Remove Bom 功能修复了它

```
ob_start('My_OB');
function My_OB($str, $flags)
{
    //remove UTF-8 BOM
    $str = preg_replace("/\xef\xbb\xbf/","",$str);

    return $str;
} 
```

我猜问题出在页面编码中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T12:16:01.463

如果您使用访问控制，很可能您没有设置验证`accessRules`码操作。您需要添加操作，例如：

```
public function accessRules() {
    return array(
        array('allow', // all users
            'actions' => ("captcha"),
            'users' => array('*'),
        ),
        array('allow', // authenticated users
            'actions' => ("captcha"),
            'users' => array('@'),
        ),
        array('deny', // deny all users
            'users' => array('*'),
        ),
    );
} 
```

# java - 什么是获取经过时间并重置它的正确方法

> ID：14109100
> 
> 赞同：0
> 
> 时间：2013-01-01T08:49:26.417
> 
> 标签：java, android

在我的 android 程序中，我使用两个 Calendar 实例来获取程序中的经过时间，首先我设置了一个级别的开始时间，如下所示：

```
level_Start_TimeCal = Calendar.getInstance(); 
```

在我的线程中，我正在计算经过的时间，如下所示：

```
level_current_TimeCal = Calendar.getInstance();
gameTime = level_current_TimeCal.getTimeInMillis()- level_Start_TimeCal.getTimeInMillis();                      
dsecs = (gameTime / 1000)%60;
dminutes = (gameTime / (60 * 1000))%60;
dhours = (gameTime / (60 * 60 * 1000))%60; 
```

最近，我来阅读以下内容：

> Calendar 的 getInstance 方法返回一个 Calendar 对象，其日历字段已用当前日期和时间初始化

我想知道我是否走在正确的道路上？
每次线程运行时我都会创建一个对象吗？
如果是，是否有任何替代方法可以避免创建不需要的对象并计算经过的时间？最后一个问题：在某些时候，我想在我的重启方法中重置时间，我只需在我的重置方法中调用 getInstance 来重置它，如下所示：

```
public void restart() {
 level_Start_TimeCal = Calendar.getInstance();
} 
```

这是重置日历的正确方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T08:51:44.597

计算经过时间的最佳方法是使用[`System.nanotime()`](http://developer.android.com/reference/java/lang/System.html#nanoTime%28%29).

```
long start = System.nanoTime();
//do something
long end = System.nanoTime();

//to get the elapsed time, you can use the TimeUnit utility methods:
long elapsedInNanos = end - start;
long elapsedInSeconds = TimeUnit.SECONDS.convert(elapsedInNanos, TimeUnit.NANOSECONDS); 
```

请注意，这不是访问绝对时间的有用方法。

# mysql - mysql中两个表之间按日期分组计数结果

> ID：14109101
> 
> 赞同：2
> 
> 时间：2013-01-01T08:49:33.577
> 
> 标签：mysql, select, group-by, union

我有 2 个不同的表格、用户和投票。我想查询按日期计算总用户数和总票数（不是总和）。 **用户**

```
id | created_at 
```

**选票**

```
id | created_at 
```

我希望结果如下所示：

```
date       | total users | total votes
2012-06-01 | 50          | 90
2012-06-01 | 23          | 0*
2012-06-01 | 80          | 12 
```

*应该考虑到有些日子没有投票

我知道如何进行 2 个单独的查询

```
SELECT DATE(created_at), count(id)
FROM vote
GROUP by DATE(created_at)
ORDER by DATE(created_at) DESC 
```

但我不知道如何加入他们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T08:53:25.277

尝试这个：

```
SELECT
  DATE(created_at),
  SUM(CASE WHEN `Type` = 'Votes' THEN 1 ELSE 0 END) AS 'TotalVotes',
  SUM(CASE WHEN `Type` = 'Users' THEN 1 ELSE 0 END) AS 'TotalUsers'
FROM
(
    SELECT created_at, 'Votes' `Type` FROM vote
    UNION ALL
    SELECT created_at, 'Users'        FROM Users
) t
GROUP by DATE(created_at)
ORDER by DATE(created_at) DESC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T08:58:35.643

```
SELECT DATE(created_at),SUM(usercolumnname) as totalusers,
SUM(//votescolumnname) as totalvotes from users u,votes v
where u.date=v.date
GROUP BY u.DATE(created_at)
ORDER BY u.DATE(created_at) DESC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T09:01:35.267

尝试这个：

```
SELECT created_at, SUM(votes) AS 'TotalVotes', SUM(users) AS 'TotalUsers'
FROM(SELECT DATE(created_at) created_at, COUNT(ID) votes, 0 users 
      FROM votes GROUP BY DATE(created_at)
     UNION 
     SELECT DATE(created_at) created_at, 0 votes, COUNT(ID) users 
     FROM Users GROUP BY DATE(created_at)) t
GROUP BY created_at
ORDER BY created_at DESC 
```

# excel - 如何在所有现有 Excel 工作表之后添加工作表？

> ID：14109102
> 
> 赞同：2
> 
> 时间：2013-01-01T08:49:40.133
> 
> 标签：excel, vbscript

我需要在当前工作表编号 3 的末尾添加一个 Excel 工作表。但是，当我运行下面的程序时，我在第一个位置得到一个工作表。我该如何解决这个问题？

该程序基本上将数据从一个 Excel 工作簿复制到另一个工作簿，由多个工作表组成。

代码：

```
Dim objXL,objWrkBk,objWrkSht,a,n
Set objfso=CreateObject("Scripting.FileSystemObject")
Set objXL=CreateObject("Excel.Application")
Set objWrkBk=objXL.Workbooks.Open("C:\learning\demo.xlsx")
m=objWrkBk.Worksheets.count
msgbox m
For n=1 to m
Set objWrkBk=objXL.Workbooks.Open("C:\learning\demo.xlsx")
Set objWrkSht=objWrkBk.Worksheets("Sheet"&n)
columncount = objWrkSht.usedrange.columns.count
rowcount = objWrkSht.usedrange.rows.count
For i=1 to rowcount
For j=1 to columncount
If   objWrkSht.cells(i,j).value <> "" Then
    a= objWrkSht.cells(i,j).value& "   "
End If
'Next
'Next
check=objfso.FileExists("C:\learning\demo1.xlsx")
If not check Then
    objXL.Workbooks.Add
    objXL.ActiveWorkbook.SaveAs("C:\learning\demo1.xlsx")
End If
Set objWrkBk1=objXL.Workbooks.Open("C:\learning\demo1.xlsx")
If n<=3 Then
    Set objWrkSht1=objWrkBk1.Worksheets("Sheet"&n)
End If
If n>3 Then
    objXL.Worksheets.add
    Set objWrkSht1=objWrkBk1.Worksheets("Sheet"&n)
End If

If   objWrkSht.cells(i,j).value <> "" Then
objWrkSht1.cells(i,j).value=a
objWrkBk1.Save
End If
Next
Next
Set objWrkSht=Nothing
Set objWrkBk=Nothing
Set objWrkSht1=Nothing
Set objWrkBk1=Nothing

Next
objXL.Quit
Set objXL=Nothing 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-01T09:09:03.493

您可以在该`After`位置添加工作表，即此代码在最后一个工作表之后添加工作表（由`objWrkBk.Sheets(objWrkBk.Sheets.Count))`where `objWrkBk.Sheets.Count)`是添加之前的工作表数。

```
Set objXL = CreateObject("Excel.Application")
Set objWrkBk = objXL.Workbooks.Add
Set objWrkSht = objWrkBk.Sheets.Add(, objWrkBk.Sheets(objWrkBk.Sheets.Count)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-26T17:23:17.697

似乎 Worksheets 属性是只读的

> 返回一个 Sheets 集合，该集合表示指定工作簿中的所有工作表。只读表格对象。

[https://msdn.microsoft.com/en-us/library/office/ff835542(v=office.15).aspx](https://msdn.microsoft.com/en-us/library/office/ff835542(v=office.15).aspx)

而表格是真实的，您还可以动态添加表格

> 指定或活动工作簿中所有工作表的集合。

[https://msdn.microsoft.com/en-us/library/office/ff193217(v=office.15).aspx](https://msdn.microsoft.com/en-us/library/office/ff193217(v=office.15).aspx)

# java - Webdriver 无法关闭浏览器

> ID：14109103
> 
> 赞同：1
> 
> 时间：2013-01-01T08:49:44.707
> 
> 标签：java, internet-explorer, selenium, webdriver, selenium-webdriver

我正在使用 IE。当我使用命令 driver.quit() 或 driver.close() 关闭浏览器时，会弹出一个警告框说“你想离开网页吗？” 那么当我退出 WebDriver 时如何接受警告框。

尝试接受警报时，我得到会话不存在异常。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T10:48:58.537

在调用 driver.quit() 或 driver.close() 之前使用 java 脚本将窗口**onbeforeunload处理程序设置为 null**

```
window.onbeforeunload = null; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-03T22:23:17.810

尝试切换到警报，然后接受。这就是它在 ruby​​ 代码中的样子。

```
driver.switch_to.alert.accept 
```

爪哇：

```
Alert alert = driver.switchTo().alert();
alert.accept(); 
```

# c# - C# 泛型类和重写方法

> ID：14109114
> 
> 赞同：0
> 
> 时间：2013-01-01T08:51:54.610
> 
> 标签：c#, class, generics, overriding

我有一个要覆盖的方法：

```
public override bool CanConvert(Type objectType) 
```

（注意：我不能修改超类。）无论如何，在这个被覆盖的方法中，我想做：

```
return typeof(MyClass<T, I>).IsAssignableFrom(objectType); 
```

MyClass 是抽象的。我自己写的。

Intellisense 强调了通用部分。所以我必须使方法通用。但是随后方法签名与覆盖不兼容。

我应该怎么办？

编辑：

我的课：

```
MyClass<T,I> where T : MyClass<T,I> 
```

编辑2：

包含方法的类：

```
public class ReferencesJsonConverter : JsonConverter 
```

我需要添加吗

```
<T,I> 
```

到 ReferencesJsonConverter？这是不幸的，因为这个类是这样使用的：

```
[JsonConverter(typeof(ReferencesJsonConverter))]
public virtual WhateverClass whateverclass {get;set;} 
```

T 是任何类...

我也有这个方法需要重写

```
public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer) 
```

我想要做：

```
var e = value as MyClass<T, I>; 
```

在那里。所以我想我真的需要添加

```
<T,I> 
```

到班级本身？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:12:42.293

以下代码正在编译良好：

```
public abstract class MyBaseClass
{
    public virtual bool CanConvert(Type objectType)
    {
        return false;
    }
}

public abstract class MyClass<T,I> : MyBaseClass
    where T : MyClass<T,I>
{
    public override bool CanConvert(Type objectType)
    {
        return typeof(MyClass<T, I>).IsAssignableFrom(objectType);
    }
} 
```

如您所见，无需将方法`CanConvert`设为通用。

我认为错误的实际原因是您在问题中没有提到的其他原因。

# jsp - JSP编辑文本框值

> ID：14109115
> 
> 赞同：0
> 
> 时间：2013-01-01T08:51:55.293
> 
> 标签：jsp, request, edit

我在编辑功能中遇到问题。

我写了这样的代码

```
<input type="text" name="wendtime" id="wendtime"  value="<%=ExamB.getExam_end_time()%>"></input> 
```

我没有得到如何在同一个 Jsp 中编辑，它不应该去下一个 Jsp

对于编辑按钮，我使用了更新

如果我单击然后 wendtime 值将变为 null

String strEndtime=request.getParameter("wendtime");

所有代码都在 EditExamEndtime.jsp

我该如何进行编辑？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:26:13.233

当您使用 jsp 时...一旦他们编译并分派了值在下一次编译之前不会改变..根据您的要求完成

下面是选项

1）您需要重新编译页面（即刷新或再次请求页面）

2）如果您想在不刷新页面的情况下获取值，请使用 Ajax 请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:32:53.017

您必须`window.onload()`在代码中使用来设置文本框值

```
<script>

function window.onload()
{
  //set textbox value from request.getParameter("wendtime");
   //check document.getElementById("wendtime").value is null or not if null then set textbox value
   document.getElementById("wendtime").value = request.getParameter("wendtime"); 

}

</script> 
```

# ruby - rvm 重置默认值

> ID：14109123
> 
> 赞同：2
> 
> 时间：2013-01-01T08:53:17.783
> 
> 标签：ruby, rvm

这些是我用 RVM 安装的红宝石

```
rvm rubies

   ruby-1.8.7-head [ x86_64 ]
   ruby-1.9.2-p290 [ x86_64 ]
   ruby-1.9.3-rc1 [ x86_64 ] 
```

我有很多 1.9.2 的 gemsets

```
gemsets for ruby-1.9.2-p290 (found in /Users/mm/.rvm/gems/ruby-1.9.2-p290)
   19332
   309
   clone
   devise
   devise311
   enki
   global
   rails3
   rails301
   rails303
   rails304
   rails310
   rails313
   rails32
   rails323
   rails3tutorial
   railsValim 
```

但是，当我尝试使用其中一个时，它说它不存在

```
rvm use 1.9.2@rails304
ERROR: Gemset 'rails304' does not exist, rvm gemset create 'rails304' first.
WARN: Gemset doesn't exist, proceeding with default gemset
WARN: ruby ruby-1.9.2-use1.9.2 is not installed.
To install do: 'rvm install ruby-1.9.2-use1.9.2' 
```

请注意最后一行对 Ruby 版本的引用

```
To install do: 'rvm install ruby-1.9.2-use1.9.2' 
```

这与上面列出的红宝石不同

```
ruby-1.9.2-p290 [ x86_64 ] 
```

我不知道最后带有'use1.9.2'的Ruby来自哪里。也许我通过尝试做类似的事情搞砸了，`rvm use 1.9.2`所以“使用”这个词与 1.9.2 粘在一起，所以我尝试将另一个 rvm ruby​​ (p290) 设置为默认值

```
rvm use ruby-1.9.2-p290 --default
Using /Users/me/.rvm/gems/ruby-1.9.2-p290 
```

但是当我这样做并尝试使用其中一个宝石时，它说它不存在

```
rvm use 1.9.2@rails304
ERROR: Gemset 'rails304' does not exist, rvm gemset create 'rails304' first.
WARN: Gemset doesn't exist, proceeding with default gemset
WARN: ruby ruby-1.9.2-use1.9.2 is not installed.
To install do: 'rvm install ruby-1.9.2-use1.9.2' 
```

再一次，它引用了另一个 ruby​​ 版本 'ruby-1.9.2-use.1.9.2'，最后带有那个有趣的 'use.1.9.2'。

我不知道这是我的人为错误，还是由于我最近安装的 Mountain Lion 导致了我计算机上的其他一些系统更改。

当我执行命令时，我将如何从系统中获取“ruby-1.9.2-use.1.9.2”并使用列出的 ruby​​ 1.9.2`rvm rubies`

```
 ruby-1.8.7-head [ x86_64 ]
       ruby-1.9.2-p290 [ x86_64 ]
       ruby-1.9.3-rc1 [ x86_64 ] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T11:15:53.797

我不知道为什么同义词“rvm use 1.9.2”停止工作并显示出如此奇怪的行为，但假设使用 rubie 工作的确切名称，您可以尝试像这样指定 gemset

```
rvm use ruby-1.9.2-p290@rails304 
```

或设置为默认值

```
rvm use ruby-1.9.2-p290@rails304 --default 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T15:33:47.900

这里有一些信息用于理解的行为`rvm use`

当您运行`rvm list known`时，它将以下列格式列出红宝石：

```
[ruby-]1.9.2[-p320]
[ruby-]1.9.3-p125
[ruby-]1.9.3-p194
[ruby-]1.9.3-p286
[ruby-]1.9.3-p327
[ruby-]1.9.3[-p362] 
```

[] 中包含的部分是可选的。因此，doing`rvm use 1.9.3`将尝试使用 1.9.3-p362，因为它被认为是最好的 1.9.3 版本。如果您没有安装它，它会要求您先安装它。这意味着，当您安装 ruby​​-1.9.2 时，它可能安装了 p290，因为它是最新版本，并且在将 RVM 升级到更新版本后不再是这种情况。因此，要将您的 gemsets 用于您已安装的版本，您需要执行`rvm use ruby-1.9.2-p290@GEMSET`.

# ssrs-2008 - SSRS - 邮寄执行报告

> ID：14109130
> 
> 赞同：0
> 
> 时间：2013-01-01T08:53:59.317
> 
> 标签：ssrs-2008

SSRS 中有什么方法可以让我在报告执行后将其作为邮件附件获取。我不是在问订阅。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T03:05:47.043

这里有很多选择 - 这取决于您的情况。这可能是最好的起点：

[http://msdn.microsoft.com/en-us/library/bb522713.aspx](http://msdn.microsoft.com/en-us/library/bb522713.aspx)

# ruby-on-rails - 有人能解释一下 Rails 批量分配和验证的这种奇怪行为吗

> ID：14109132
> 
> 赞同：0
> 
> 时间：2013-01-01T08:54:11.407
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, mass-assignment

注意：在回答问题之前，请了解这与**attr_accessible**或**attr_protected 无关**，有问题的 RAILS 是**3.1.3**和 Ruby **1.9.2p290**

没有进一步到期这里我尝试将我的参数大量分配给 DriverLicense 模型

```
 {"utf8"=>"✓",
 "authenticity_token"=>"cKhruPzVvBK63bqCQPFY8xPZb12V5lhLPOpXgjIToJk=",
 "driver_license"=>
  {"license_number"=>"LICENCE-001",
   "license_class"=>"A-CLASS",
   "validity_start_date"=>"02/01/2011",
   "validity_end_date"=>"08/24/2011",
   "issuing_authority"=>"RTO",
   "remarks"=>"Remarks .."},
 "save_button"=>"Save",
 "action"=>"create",
 "controller"=>"driver_licenses",
 "driver_id"=>"2"} 
```

这里是控制器代码

```
@driver_license = @driver.driver_licenses.new(params[:driver_license]) 
```

这里模型的定义看起来像

```
class DriverLicense < ActiveRecord::Base
    acts_as_tenant(:tenant)
    validates :driver_id,:license_number,:validity_start_date,:validity_end_date,:presence => true  
    validate :date_validity ,:if => :is_date_present?

    validate :overlapping_validity,:if => :validity_start_date_present? 

    belongs_to :driver

    scope :active_licenses , where('validity_start_date <= ? and validity_end_date >= ?',Date.today,Date.today) 

    .... ....
    .... ....

    private
    def is_date_present?
        validity_start_date.present? and validity_end_date.present?
    end 

    def date_validity
      errors.add(:validity_start_date,"must be earlier then validity end date") if validity_start_date > validity_end_date
    end

    def validity_start_date_present?
        validity_start_date.present?
    end 

    def overlapping_validity
        arel =  self.class.where('validity_end_date >= ?',validity_start_date).where('driver_id = ?',driver_id)     
        arel = arel.where('id != ?',id) if id.present?      
        unless arel.count.zero?
            errors.add(:validity_start_date,"overLapping date with other licenses")
        end 
    end 

end 
```

mass-attributes 适用于除validity_end_date 之外的所有属性

```
#<DriverLicense id: nil, driver_id: 2, license_number: "LICENCE-001", license_class: "A-CLASS", issuing_authority: "RTO", validity_start_date: "2011-01-02", validity_end_date: nil, remarks: "Remarks ..", tenant_id: 2, created_at: nil, updated_at: nil> 
```

**一旦可以在屏幕截图上进一步检查，质量分配适用于除**validity_end_date之外的所有属性

![在此处输入图像描述](../Images/85b00855af04dd6b71563e1732f46c3c.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:14:51.623

发现双方的日期格式不一样，
因此将其设置为 nil

# java - 哪个 QT C++ 或 Java 适合学习？

> ID：14109135
> 
> 赞同：-3
> 
> 时间：2013-01-01T08:54:24.450
> 
> 标签：java, c++, qt

QT C++编程最适合学习还是java SE最好？哪一个？请帮我

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T09:04:31.627

这取决于您的`needs`. 什么最适合你。两者都很棒而且学习起来很有趣。我自己先学了 C++，然后又去了 Java。我真的很喜欢在两者中工作，但我更喜欢在 Java 中进行 GUI 工作。

再次涉及您的技能和需求。如果您擅长 C++ 并计划在未来坚持使用它，那么肯定会选择 Qt C++，否则每种语言都可以作为`every thing has its Pro's and Con's`..

# web-services - 如何使用可选和强制参数信息定义 Web 服务方法

> ID：14109139
> 
> 赞同：0
> 
> 时间：2013-01-01T08:56:17.983
> 
> 标签：web-services, jakarta-ee, jax-ws

我想用可选和强制参数信息定义 web 服务方法（操作）。这样我就可以生成 xsd 文件，其中包含特定操作的参数是可选的还是必需的信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T09:34:48.777

您可以为所有参数定义一个自己的对象。这些参数有些是强制性的，有些不是。通过将这个自己的对象定义为 JAXB 类，您就完成了。SOAP 发送的 XML 将仅包含非强制性数据（如果存在）。

# sql - 插入、更新触发器

> ID：14109142
> 
> 赞同：1
> 
> 时间：2013-01-01T08:57:21.110
> 
> 标签：sql, sql-server, triggers, sql-server-2012

我有一个名为的表`Couple`，其中包含以下字段`CoupleId, HusbandId , WifeId , StartDate , EndDate`

上一个表包含有关情侣的信息，这`CoupleId`是一个主键

`HusbandId`并且`WifeId`是外键形成另一个名为的表`Person`

`StartDate`并表示男性与女性`EndDate`之间发生的婚姻的开始/结束日期`HusbandId``WifeId`

在我的问题中，我有一个条件是 w 女性不能同时与两个或更多男性结婚“同步婚姻”

我有以下查询

```
SELECT
   DISTINCT A.WifeID
FROM
   Couple A
   INNER JOIN Couple B
      ON A.WifeID = B.WifeID
      AND A.HusbandID <> B.HusbandID
      AND A.StartDate < B.EndDate
      AND A.EndDate > B.StartDate; 
```

这将返回任何具有同步婚姻的女性“同时与两个或更多男性结婚”

我想编写当有人想要插入或更新`couple` 表时触发的触发器，并且我希望这个触发器只有在它没有提供错误信息时才允许修改（例如，如果有人在一对表上插入一行并且这一行使#4 的妻子同时与两个或更多人结婚，此插入不能完成，因为它会在表格中显示错误信息）

此时有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:18:49.070

您可以在没有触发器的情况下解决此问题。在表中创建这三个键的复合主键，如下`Couples`所示：

```
PRIMARY KEY(CoupleId, HusbandId, WifeId) 
```

这将确保 和 的 `HusbandId`唯一`WifeId`性`coupleId`。

这是这两个表的架构设计演示：

[**SQL 小提琴演示。**](http://www.sqlfiddle.com/#!6/1a90f)

* * *

如果您想使用 TRIGGER 执行此操作，请尝试以下操作：

```
CREATE TRIGGER WhenInsertOrUpdate
ON Couples
INSTEAD OF INSERT, UPDATE
AS 
     IF (NOT EXISTS( SELECT c.CoupleId
                     FROM Couples c
                     INNER JOIN Inserted i  ON c.HusbandId = i.HusbandId
                                           AND c.WifeId = i.WifeId
                                           AND c.EndDate IS NULL))
    BEGIN
       INSERT INTO Couples
       SELECT  CoupleId, HusbandId, WifeId, StartDate, Enddate
       FROM Inserted
    END
    ELSE BEGIN
       --- You can put here an update..
    END

GO; 
```

[使用触发器更新了 SQL Fiddle 演示](http://www.sqlfiddle.com/#!6/1b59d)。

这只是一个示例，`ELSE`如果需要，您必须在块中提供更新语句。

# java - 客户转换器 ClassNotFoundException JSF2.0

> ID：14109143
> 
> 赞同：1
> 
> 时间：2013-01-01T08:57:33.187
> 
> 标签：java, jsf, converter

我写了一个自定义转换器，代码如下：

```
package tn.talan.testFramework.converter;

import java.util.ArrayList;
import javax.faces.component.UIComponent;
import javax.faces.context.FacesContext;
import javax.faces.convert.Converter;
import javax.faces.convert.FacesConverter;

import org.objectweb.salome_tmf.data.User;
import org.objectweb.salome_tmf.ihm.admin.AdministrationFinalOld;

@FacesConverter (value="userConverter")
public class UserConverter implements Converter {

@Override
 public Object getAsObject(FacesContext context, UIComponent component, String value) {

    User selectedUserfield = null;
    ArrayList<User>  usersList;
    String userLogin;
    System.out.println("converter getAsObject ");
    AdministrationFinalOld  administration=new AdministrationFinalOld();
    administration.onInit();
    usersList = administration.getAllUsers();
    if (usersList!=null){
    for(int i=0 ;i<usersList.size();i++)
    {   selectedUserfield=usersList.get(i);
        userLogin=selectedUserfield.getLoginFromModel();

    if  (userLogin.equals(value))
        return usersList.get(i);
    }
    }
    return null;
}

 @Override
 public String getAsString(FacesContext context, UIComponent component, Object value) {
        System.out.println("converter getAsString "+value);
     if (value==null) return ""; 
     return ((User) value).getName();

 } 
```

这是我的面孔配置：

```
<?xml version="1.0"?>
<faces-config
version="2.0"
xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee
/web-facesconfig_2_0.xsd">

<converter>
  <converter-id>userConverter</converter-id>
  <converter-class>tn.talan.testFramework.converter.UserConverter</converter-class>
</converter>

<converter>
  <converter-id>projectConverter</converter-id>
  <converter-class>tn.talan.testFramework.converter.ProjectConverter</converter-class>
</converter>

<converter>
 <converter-id>URLCustomValidator</converter-id>
 <converter-class>tn.talan.testFramework.converter.URLCustomValidator</converter-class>
</converter> 
```

但是当我运行时出现此错误：

```
java.lang.ClassNotFoundException: tn.talan.testFramework.converter.UserConverter
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1711)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1556)
at com.sun.faces.util.Util.loadClass(Util.java:287)
at com.sun.faces.application.ApplicationImpl.newThing(ApplicationImpl.java:1659)
at com.sun.faces.application.ApplicationImpl.createConverter(ApplicationImpl.java:1275)
at com.sun.faces.facelets.tag.jsf.ValueHolderRule$LiteralConverterMetadata.applyMetadata(ValueHolderRule.java:81)
at com.sun.faces.facelets.tag.MetadataImpl.applyMetadata(MetadataImpl.java:77)
at javax.faces.view.facelets.MetaTagHandler.setAttributes(MetaTagHandler.java:125)
at javax.faces.view.facelets.DelegatingMetaTagHandler.setAttributes(DelegatingMetaTagHandler.java:98)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.doNewComponentActions(ComponentTagHandlerDelegateImpl.java:398)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:155)
at javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:116)
at javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:94)
at javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:133)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:180)
at javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:116)
at javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:94)
at javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:133)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:180)
at javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:116)
at javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:94)
at javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:133)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:180)
at javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:116)
at javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:133)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:180)
at javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:116)
at javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:94)
at javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:133)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:180)
at javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:116)
at javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:94)
at javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:133)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:180)
at javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:116)
at com.sun.faces.facelets.tag.ui.DefineHandler.applyDefinition(DefineHandler.java:99)
at com.sun.faces.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:174)
at com.sun.faces.facelets.impl.DefaultFaceletContext$TemplateManager.apply(DefaultFaceletContext.java:392)
at com.sun.faces.facelets.impl.DefaultFaceletContext.includeDefinition(DefaultFaceletContext.java:363)
at com.sun.faces.facelets.tag.ui.InsertHandler.apply(InsertHandler.java:104)
at javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:94)
at javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:133)
at com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:180)
at javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:116)
at com.sun.faces.facelets.tag.jsf.core.ViewHandler.apply(ViewHandler.java:163)
at javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:94)
at com.sun.faces.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:89)
at javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:94)
at com.sun.faces.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:79)
at com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:304)
at com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:363)
at com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:342)
at com.sun.faces.facelets.impl.DefaultFaceletContext.includeFacelet(DefaultFaceletContext.java:196)
at com.sun.faces.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:151)
at com.sun.faces.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:89)
at com.sun.faces.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:79)
at com.sun.faces.facelets.impl.DefaultFacelet.apply(DefaultFacelet.java:148)
at com.sun.faces.application.view.FaceletViewHandlingStrategy.buildView(FaceletViewHandlingStrategy.java:734)
at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:96)
at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:97)
at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:135)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:335)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:79)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1001)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source) 
```

# .htaccess - 带有 2 个 GET 参数的 Apache .htaccess 重写规则

> ID：14109149
> 
> 赞同：1
> 
> 时间：2013-01-01T08:59:00.360
> 
> 标签：.htaccess, apache2

我正在开发一个 CMS，它需要将`id`a 和 a`title`发送到页面`content.php`，以便可以从数据库中获取数据。我曾尝试使用：

```
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f

RewriteRule ^([0-9]+)/(.*) content.php?id=$1&title=$2 
```

但是当我导航到 /id 时，它不起作用，如果我这样做也不起作用`/id/title`。我在这里搞砸了什么？有什么要记住的以备将来使用`.htaccess`？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:37:42.383

你可以试试这个：

```
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} /([^/]+)/([^/]+)
RewriteRule .* http://example.com/content.php?key1=%1&key2=%2  [L] 
```

它将静默映射：

`http://example.com/id/title`

对此：

`http://example.com/content.php?key1=id&key2=title`

在`/id`传入的 URL 中是`id`key 的值，对于`/title`

# batch-file - 为什么我在调用蜡烛时收到“应用程序无法正确初始化”？

> ID：14109153
> 
> 赞同：0
> 
> 时间：2013-01-01T08:59:29.710
> 
> 标签：batch-file, wix

我正在编写一个批处理脚本，我需要在其中运行一个蜡烛命令：

```
candle.exe - present in wix installation 'bin' directory 
```

我已将批处理文件加载期间的路径设置为 wix 安装目录，并检查了写入

```
 candle.exe abc.wxs -dplatform=x86 -ext WixUtilExtension 
```

但在 Windows XP 上，它给了我一个错误：

> 应用程序无法正确初始化（0xc00001235）”。单击“确定”终止

在 Windows 7 上，candle.exe 工作正常。

我该如何解决这个问题？

我想这是因为我没有指定如何处理不同的操作系统

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-14T05:00:40.710

这实际上似乎是没有安装 .Net 框架的结果。尝试为 Windows XP 安装 .net 3.5，或为 Windows 7 + 安装更高版本。

# ios - 在 iOS 上加载照片时 UI 性能不佳

> ID：14109154
> 
> 赞同：0
> 
> 时间：2013-01-01T08:59:32.917
> 
> 标签：ios, ipad, ios6, uiimageview

我正在尝试制作一个类似于 iOS 的照片应用程序的照片滑块。我见过[PhotoScroller](http://developer.apple.com/library/ios/#samplecode/PhotoScroller/Introduction/Intro.html)，我正在使用`initWithContentsOfFile`.

CATiledLayer 似乎是个好主意，但我无法预先生成图块。瓷砖也占用了很多空间。图像是与 iCloud 同步的文档包的一部分。照片通常是 JPEG。从几个小时的阅读来看，动态生成图块似乎比加载整个图像要慢。

无论如何，似乎大部分时间都花在解压缩图像上。并将其移动到后台队列并显示较小的图像应该可以正常工作。所以这就是我想要做的。它可以工作到一定程度，但是如果我在不等待图像加载的情况下滑动，仍然会有些卡顿，这有时会导致滚动视图暂时挂起（分页时）。

这是设置图像的函数：

```
- (void)setImage:(UIImage *)image placeholder:(UIImage *)placeholder
{
    _image = image;
    self.zoomScale = 1.0;
    imageView.image = nil;
    imageSize = image.size;
    imageView.frame = CGRectMake(0, 0, image.size.width, image.size.height);
    MachTimer *timer = [MachTimer new];
    [timer start];
    imageView.image = placeholder;
    NSLog(@"placeholder: %f", [timer elapsedSeconds]);
    //imageView.layer.contents = (id)placeholder.CGImage;

    self.contentSize = image.size;
    [self setMaxMinZoomScalesForCurrentBounds];
    self.zoomScale = self.minimumZoomScale;

    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        MachTimer *timer = [MachTimer new];
        [timer start];
        UIGraphicsBeginImageContext(CGSizeMake(1, 1));
        [image drawAtPoint:CGPointZero];
        UIGraphicsEndImageContext();

        NSLog(@"decode: %f", [timer elapsedSeconds]);

        dispatch_sync(dispatch_get_main_queue(), ^{
            if(_image == image) {
                MachTimer *timer = [MachTimer new];
                [timer start];
                imageView.image = image;
                NSLog(@"display: %f", [timer elapsedSeconds]);
                //imageView.layer.contents = (id)image.CGImage;
            }
        });
    });
} 
```

我的“占位符”时间约为 0.00005 - 0.00006 秒（解压缩和显示），它们的高度为 480 像素。我的“解码”时间（完整图像）约为 0.8 到 1.2 秒。“显示”大约是 0.0001 秒（大约是 0.1 毫秒）。

所以在那个时候，用户界面应该像黄油一样光滑，但事实并非如此。

我什至尝试将`contents`常规设置`UIView`为`CGImage`. 我已经尝试过 iOS 6.0 `drawsAsynchronously`，但这似乎让它变得更糟了。

我究竟做错了什么？

## 编辑：

我已将示例项目推送到 GitHub：

[https://github.com/lukescott/PhotoScroller](https://github.com/lukescott/PhotoScroller)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:32:04.153

我会为艰苦的工作（照片加载或解码）创建一个后台线程，并在完成后使用工具之一（队列、消息等）将 UI 工作（绘图或其他）委托给主线程。

# java - 如何解决此“非法开始表达”错误？

> ID：14109155
> 
> 赞同：-2
> 
> 时间：2013-01-01T08:59:43.753
> 
> 标签：java

```
public void cariData(){
     if(!= dataPasienview.getTextCari().getText().trim().isEmpty()){
         dataPasienimpl.getCariData(dataPasienview.getTextCari().getText());
         isiTableCariData();
     } else{
         JOptionPane.showMessageDialog(dataPasienview, "silahkan pilih data");
     } 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:00:45.607

删除`=`后面的`!`：

```
if(!dataPasienview.getTextCari().getText().trim().isEmpty()){ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:11:10.953

正如其他人所说，将 != 更改为 just ！

您还应该反转测试。像这样的陈述

```
if (!x) { 
    doSomething(); 
} else { 
    doErrorThing();
} 
```

会使静态代码分析工具令人困惑。它更容易阅读为

```
if (x) { 
    doErrorThing(); 
} else { 
    doSomething(); 
} 
```

# wpf - 如何将 ViewModel 传递给 ContentPresenter 中显示的 UserControl 的构造函数？

> ID：14109156
> 
> 赞同：2
> 
> 时间：2013-01-01T09:00:18.220
> 
> 标签：wpf, user-controls, constructor, viewmodel, contentpresenter

我有几个应该显示相同数据的用户控件。每个 UserControl 都有不同的要呈现的数据布局。ContentPresenter 可以通过在我的资源中使用 DataTemplate 并将内容绑定到 StyleViewModel 来绑定到任何一个 UserControl。每个 UserControl 都与 DataTemplate 的 DataType 中定义的 ViewModel 相关联。与任何给定 UserControl 关联的 ViewModel 都继承自 StyleViewModel。UserControls 应该从 SettingsViewModel 获取他们的数据。UserControls 出现在主窗口中。

问题是我不知道如何使 UserControls 可以访问 SettingsViewModel 中的数据。

是否可以将对 SettingsViewModel 的引用传递给使用 ContentPresenter 显示的这些 UserControl 之一的构造函数？

是否有另一种方法可以在不使用 ContentPresenter 的情况下轻松地在不同的数据视图（即我的 UserControls）之间切换？如果是这样，我将如何使用户控件可以访问数据？

以下是我的 SingleLineViewModel.cs 中的代码：

```
public class SingleLineViewModel : StyleViewModel
{
    public SingleLineViewModel() { }
} 
```

其他 ViewModel 类似。它们本质上是从 StyleViewModel 继承的空类，因此我可以在我的 SettingsViewModel 中绑定到 StyleViewModel 类型的 Style 属性。StyleViewModel 也是一个从 ViewModelBase 继承的本质上的空类。

以下是我的 Resources.xaml 中的代码：

```
<ResourceDictionary <!--other code here-->
                    xmlns:vm="clr-namespace:MyProject.ViewModel"
                    <!--other code here-->
    <DataTemplate DataType="{x:Type vm:SingleLineViewModel}">
        <vw:ucSingleLine/>
    </DataTemplate>
    <DataTemplate DataType="{x:Type vm:SeparateLinesViewModel}">
        <vw:ucSeparateLines/>
    </DataTemplate>
    <!--other code here-->
</ResourceDictionary> 
```

以下是来自 SettingsViewModel.cs 的代码：

```
public class SettingsViewModel : ViewModelBase
{
    // other code here        
    private StyleViewModel _style;
    public StyleViewModel Style
    {
        get { return _style; }
        set
        {
            if (value != _style && value != null)
            {
                _style = value;
                OnPropertyChanged("Style");
            }
        }
    }
    // other code here
    public SettingsViewModel()
    {
        _style = new SingleLineViewModel();
    }
    // other code here
} 
```

以下是我的 MainView.xaml 中的代码：

```
<ContentPresenter Name="MainContent" Content="{Binding SettingsVM.Style}"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T13:25:55.500

你可能会发现你正在尝试一次做很多事情。考虑如何测试这个场景？或者您将如何在调试器中遍历数据以检查其状态？良好做法建议您的数据与 UI 元素分开。像您尝试使用的 MVVM 模式通常会提供视图模型，以帮助将数据从简单数据转换为 UI 可以使用的表单。考虑到这一点，我建议您尝试开发一个 ViewModel 层，该层在没有 UI 将其保存在一起的情况下呈现所有数据，也就是说，与其尝试将额外的 SettingsViewModel 注入到您的控件中，不如让您的 viewmodel 包含它们需要的所有内容。

看起来你有一个好的开始，你的 SettingsViewModel 让你掌握了一个样式，但你的样式似乎没有任何数据。那么为什么不在构造函数中传递它。

```
public SettingsViewModel()
{
    _style = new SingleLineViewModel(WhatINeedForStyle);
} 
```

# opengl-es - OpenGL - 对基于先前转换的转换感到困惑

> ID：14109162
> 
> 赞同：0
> 
> 时间：2013-01-01T09:01:15.623
> 
> 标签：opengl-es, transformation

我已经用 openGL ES 1.1 在 android 上编写了一个简单的程序，它可以绘制 3D 对象并能够在空间中导航。

我想像 3D 游戏中的第一人称相机模式一样向左、向右、向内、向外和向左、向右、向上、向下旋转。（这意味着我想旋转相机/眼睛本身）这是我的绘图部分`onDrawFrame(GL10 gl)`：

```
 gl.glLoadIdentity();
    gl.glRotatef(lfRt, 0.0f, 1.0f, 0.0f);
    gl.glRotatef(upDn, 1.0f, 0.0f, 0.0f);
    gl.glTranslatef(X, 0.0f, 0.0f);
    gl.glTranslatef(0.0f, Y, 0.0f);
    gl.glTranslatef(0.0f, 0.0f, Z); 
```

lfRt 和其他变量决定了我们必须在那里的点。（更详细地说，每个 moveIn() 调用都会在 z 中加上一些常数。其他的逻辑相同）。

现在这是我的困惑。如果我将翻译放在首位，则移动方法可以正常工作（向内、向左等），但旋转是错误的。（整个世界围绕原点旋转）另一方面，如果我先旋转，相机旋转很好，但移动方法不正确。例如 moveIn() 总是在同一行/轴上移动。但我想通过不在 z 轴上移动

我应该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T13:34:39.723

在这种情况下，您必须先应用旋转，然后再进行平移。请记住，矩阵运算是不可交换的。[这](http://www.swiftless.com/tutorials/opengl/camera2.html)是 FPS 相机的简单示例。[这个](https://stackoverflow.com/questions/4389687/opengl-moving-the-camera-fps-style)线程也很有帮助。

# windows - 如何获取处理器和硬盘制造序列号和 ID？

> ID：14109168
> 
> 赞同：5
> 
> 时间：2013-01-01T09:02:05.827
> 
> 标签：windows, matlab, hardware

如何使用 Matlab 获得以下硬件属性？

*   主板制造序列号
*   处理器 ID
*   处理器制造序列号
*   硬盘编号
*   硬盘制造序列号

是否有任何函数或类负责检测其他机器硬件组件属性的属性？

我知道可以使用系统或控制台命令来完成，但我不知道如何。但是，我更喜欢了解这两种方式，一种使用 Windows 控制台命令，另一种不使用它。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-01T11:34:33.230

这是一种使用 matlab 中的控制台命令获取硬盘序列号的方法：

```
%// Get hard disk serial using windows console command
cmd         = 'wmic diskdrive get SerialNumber';
[~, result] = system(cmd);
%// Extract first hard disk serial number
fields      = textscan( result, '%s', 'Delimiter', '\n' );
fields      = strtrim(fields{1});
serialNo    = fields{2}; 
```

处理器 ID 相同：

```
%// Get processor id using windows console command
cmd           = 'wmic cpu get ProcessorId';
[~, result]   = system(cmd);    
%// Extract first processor id
fields        = textscan( result, '%s', 'Delimiter', '\n' ); 
fields        = strtrim(fields{1});
processorId   = fields{2}; 
```

这完全是关于使用控制台命令++ `wmic`， 如果您想知道某些设备可用的全部属性，您可以在命令中使用而无需命名任何属性，例如：`[hardware name]``get``[attributename]``get`

```
command = 'wmic csproduct get' 
```

这将获得您机器的所有可用属性作为产品及其值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-06-23T03:42:10.487

我可以在这里添加更多命令：

```
cmd='wmic baseboard get serialnumber';
[~, result]   = system(cmd);    
%// Extract first processor id
fields        = textscan( result, '%s', 'Delimiter', '\n' ); 
fields        = strtrim(fields{1});
baseboardSN   = fields{2}; 
```

您还可以尝试以下方法：

wmic csproduct 获取名称 wmic bios 获取序列号 wmic csproduct 获取 UUID

# javascript - 滑块在最后一张幻灯片上无法正常工作

> ID：14109169
> 
> 赞同：4
> 
> 时间：2013-01-01T09:02:06.803
> 
> 标签：javascript, jquery, html, css

我目前正在学习 Jquery，我是一个新手。目前我正在尝试使这个自定义滑块工作。![图片](../Images/fe3d5605a95fa066d884b06a5a46cde7.png)我想要实现的是，当有人单击`prev`或`next`按钮时，滑块没有任何反应，但上面写的文本会发生变化，即转到下一个`<li>`元素。我写了一些代码，它工作正常，但是当滑块在最后一个孩子上时问题就来了。当我单击下一个按钮时，文本消失了，现在我什至无法返回。我正在粘贴我在这里编写的所有代码，任何帮助将不胜感激，并将帮助我学习。多谢！

### HTML

```
<ul class="testimonial-text">
  <li class="test-current">
    <p>“Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

    <h4>Michel Buble &amp; Tinta turner</h4>
  </li>
  <li>
    <p>“Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

    <h4>Rick Armstrong &amp; Ashley Tist</h4>
  </li>
  <li>
    <p>“Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

    <h4>Mike Tran &amp; Kimse Tricks</h4>
  </li>
  <li>
    <p>“Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

    <h4>Michel Buble &amp; Tinta turner</h4>
  </li>
  <li>
    <p>“Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

    <h4>Michel Buble &amp; Tinta turner</h4>
  </li>
</ul> 
```

按钮

```
<a class="testimonials-prev" ></a>
<a class="testimonials-next" ></a> 
```

### CSS

```
ul.testimonial-text{
  list-style: none;
  padding-top: 20px;
}
ul.testimonial-text li{
display: none;
}
ul.testimonial-text li.test-current{
  display: block;
}
ul.testimonial-text li p{
  text-align: center;
  font-size: 18px;
  color: #7c7c7c;
  margin-bottom: 0px;
}
ul.testimonial-text li h4{
  text-align: center;
  text-transform: uppercase;
  font-size: 16px;
}
ul.testimonial-images{
  list-style: none;
}
ul.testimonial-images li{
  display: inline-block;
  margin-left: 16px;
  opacity: 0.6;
}
ul.testimonial-images li:first-child{
  display: inline-block;
  margin-left: 0px;
}
a.testimonials-prev{
  background: url('../images/icons/test-icons.png') no-repeat;
  height: 80px;
  width: 40px;
  display: block;
  margin-left: 10px;
  cursor: pointer;
}
a.testimonials-next{
  background: url('../images/icons/test-icons.png') no-repeat top right;
  height: 80px;
  width: 40px;
  display: block;
  cursor: pointer;
} 
```

### JQUERY / JAVASCRIPT

```
 <script type="text/javascript">

$(document).ready(function() {

$("a.testimonials-next").click(function() {
  $("ul.testimonial-text li.test-current").fadeOut('slow', function() {
    $("ul.testimonial-text li.test-current").next().fadeIn('slow');
    $("ul.testimonial-text li.test-current").next().addClass('test-current');
    $("ul.testimonial-text li.test-current:first").removeClass('test-current');
});

  });
$("a.testimonials-prev").click(function() {
  $("ul.testimonial-text li.test-current").fadeOut('slow', function() {
    $("ul.testimonial-text li.test-current").prev().fadeIn('slow');
    $("ul.testimonial-text li.test-current").prev().addClass('test-current');
    $("ul.testimonial-text li.test-current:last").removeClass('test-current');
});

});

});

</script> 
```

如果代码马虎，我很抱歉。非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:15:01.497

也许你可以在淡入淡出之前添加一个 if 语句来检查 li 是否是第一个？（您也可以对下一个按钮执行类似操作）。

这是一个 JSFiddle 工作：http: [//jsfiddle.net/JUveT/](http://jsfiddle.net/JUveT/)

例子：

```
$("a.testimonials-prev").click(function() {
     if($("ul.testimonial-text li.test-current").prev().length){
         $("ul.testimonial-text li.test-current").fadeOut('slow', function() {
         $("ul.testimonial-text li.test-current").prev().fadeIn('slow');
         $("ul.testimonial-text li.test-current").prev().addClass('test-current');
         $("ul.testimonial-text li.test-current:last").removeClass('test-current');
         });
     } 
```

我从这里得到了条件的代码：

[如何检查元素是否不是第一个孩子？](https://stackoverflow.com/questions/3676454/how-to-check-if-the-element-is-not-the-first-child)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:37:06.870

@Ragzor 你为什么不在这里使用 Carousel [，](http://angular-ui.github.io/bootstrap/)它简单、可靠并且工作得很好。我已经用过很多次了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T09:27:07.040

@Ragzor 使用此代码解决您的问题

```
 <html>
    <head>
    <title>Testing</title>
      <script src="http://code.jquery.com/jquery-latest.js"></script>
      <style type="text/css">
            ul.testimonial-text{
    list-style: none;
    padding-top: 20px;
    }
    ul.testimonial-text li{
    display: none;
    }
    ul.testimonial-text li.test-current{
    display: block;
    }
    ul.testimonial-text li p{
    text-align: center;
    font-size: 18px;
    color: #7c7c7c;
    margin-bottom: 0px;
    }
    ul.testimonial-text li h4{
    text-align: center;
    text-transform: uppercase;
    font-size: 16px;
    }

    ul.testimonial-images{
    list-style: none;
    }
    ul.testimonial-images li{
    display: inline-block;
    margin-left: 16px;
    opacity: 0.6;
    }
    ul.testimonial-images li:first-child{
    display: inline-block;
    margin-left: 0px;
    }

    a.testimonials-prev{
    background: url('../images/icons/test-icons.png') no-repeat;
    height: 80px;
    width: 40px;
    display: block;
    margin-left: 10px;
    cursor: pointer;
    }
    a.testimonials-next{
    background: url('../images/icons/test-icons.png') no-repeat top right;
    height: 80px;
    width: 40px;
    display: block;
    cursor: pointer;
    }
      </style>
    </head>
    <body>
        <a class="testimonials-prev" >Prev</a>
       <ul class="testimonial-text">
                    <li class="test-current">
                      <p>1 “Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

                      <h4>Michel Buble &amp; Tinta turner</h4>
                    </li>
                    <li>
                      <p>2 “Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

                      <h4>Rick Armstrong &amp; Ashley Tist</h4>
                    </li>
                    <li>
                      <p>3 “Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

                      <h4>Mike Tran &amp; Kimse Tricks</h4>
                    </li>
                    <li>
                      <p>4 “Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

                      <h4>Michel Buble &amp; Tinta turner</h4>
                    </li>
                    <li>
                      <p>5 “Sagittis risus nec venenatis. Ut laoreet iaculis massa et feugiat. Cras elementum quamvitae magna as elementum quamvitae magna porttitor in fermentum setlat ul.”&lt;/p>

                      <h4>Michel Buble &amp; Tinta turner</h4>
                    </li>
                  </ul>

    <a class="testimonials-next" >Next</a>
    <script type="text/javascript">

    $(document).ready(function() {
    $("a.testimonials-next").click(function() {
          $("ul.testimonial-text li.test-current").fadeOut('slow', function() {
            var index = $("ul.testimonial-text li").index($(this));
            if(index == $("ul.testimonial-text li").length - 1){
                var $next = $("ul.testimonial-text li:first");
            }
            else    {
                var $next = $(this).next();
            }    
            $(this).removeClass('test-current');
            $next.addClass('test-current').fadeIn('slow');
        });

          });

        $("a.testimonials-prev").click(function() {
          $("ul.testimonial-text li.test-current").fadeOut('slow', function() {
             var index = $("ul.testimonial-text li").index($(this));
             if(index == 0){
                var $prev = $("ul.testimonial-text li:last");
            }
            else    {
                var $prev = $(this).prev();
            }  

            $(this).removeClass('test-current');
            $prev.addClass('test-current').fadeIn('slow');
        });

        })
    });

    </script>
    </body>
    </html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T09:22:50.973

`li.current-test`无论是否存在下一个/上一个元素，该脚本都会隐藏活动。当您到达最后一个元素时，下一个元素自然不存在，但脚本仍然隐藏当前活动元素。您需要首先检查下一个元素是否确实存在：

```
$("a.testimonials-next").click(function() {
     // Switch to the next element, if it exists
    if ($("ul.testimonial-text li.test-current").next().length) {
        $("ul.testimonial-text li.test-current").fadeOut('slow', function() {
        $("ul.testimonial-text li.test-current").next().fadeIn('slow');
        $("ul.testimonial-text li.test-current").next().addClass('test-current');
        $("ul.testimonial-text li.test-current:first").removeClass('test-current');
    }
}); 
```

现在，话虽如此，您的代码可以从将 jQuery 对象分配给变量和方法链中受益匪浅，这将使您的代码更具可读性和更快。考虑一下关于上面的这个片段：

```
$("a.testimonials-next").click(function() {
    var current_element = $("ul.testimonial-text li.test-current"),
        next_element    = current_element.next();
     // Switch to the next element, if it exists
    if (next_element.length) {
        current_element.removeClass('test-current').fadeOut('slow', function() {
        next_element.addClass('test-current').fadeIn('slow');
    });
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-01T09:20:52.957

尝试这个 ：-

```
$("a.testimonials-next").click(function() {
      $("ul.testimonial-text li.test-current").fadeOut('slow', function() {
        var index = $("ul.testimonial-text li).index($(this));
        if(index == $("ul.testimonial-text li).length - 1){
            var $next = $("ul.testimonial-text li:first");
        }
        else    {
            var $next = $(this).next();
        }    
        $(this).removeClass('test-current');
        $next.addClass('test-current').fadeIn('slow');
    });

      });

    $("a.testimonials-prev").click(function() {
      $("ul.testimonial-text li.test-current").fadeOut('slow', function() {
         var index = $("ul.testimonial-text li).index($(this));
         if(index == 0){
            var $prev = $("ul.testimonial-text li:last");
        }
        else    {
            var $prev = $(this).prev();
        }  

        $(this).removeClass('test-current');
        $prev.addClass('test-current').fadeIn('slow');
    });

    }) 
```

;

# java - 有没有办法保证接口扩展 Java 中的类？

> ID：14109173
> 
> 赞同：32
> 
> 时间：2013-01-01T09:02:27.617
> 
> 标签：java, inheritance, interface

假设我有以下情况：

```
public abstract class Vehicle {
  public void turnOn() { ... }
}

public interface Flier {
  public void fly();
} 
```

有没有办法可以保证任何实现的类也`Flier`必须扩展`Vehicle`？我不想创建`Flier`一个抽象类，因为我希望能够以类似的方式混合其他一些接口。

例如：

```
// I also want to guarantee any class that implements Car must also implement Vehicle
public interface Car {
  public void honk();
}

// I want the compiler to either give me an error saying
// MySpecialMachine must extend Vehicle, or implicitly make
// it a subclass of Vehicle. Either way, I want it to be
// impossible to implement Car or Flier without also being
// a subclass of Vehicle.
public class MySpecialMachine implements Car, Flier {
  public void honk() { ... }
  public void fly() { ... }
} 
```

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-01-01T09:05:20.797

Java 接口不能扩展类，这是有道理的，因为类包含无法在接口中指定的实现细节。

处理这个问题的正确方法是把接口和实现完全分开，`Vehicle`也变成接口。`Car`etc可以扩展接口，`Vehicle`强制程序员实现相应的方法。如果您想在所有`Vehicle`实例之间共享代码，那么您可以使用（可能是抽象的）类作为任何需要实现该接口的类的父类。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-01T09:09:52.340

你可以像这样重新排列你的类和接口：

```
public interface IVehicle {
  public void turnOn();
}

public abstract class Vehicle implements IVehicle {
  public void turnOn() { ... }
}

public interface Flier extends IVehicle {
  public void fly();
} 
```

这样，所有的实现`Flier`都可以保证实现车辆的*协议*，即`IVehicle`.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-03-08T16:52:46.973

如果您可以控制`Vehicle`类，只需提取`Vehicle`为接口，然后提供基本实现。

如果您无法控制`Vehicle`类，例如因为它是您正在使用的框架或第三方库的一部分，那么在 Java 中是不可能的。

您可以做的最接近的事情是使用泛型多通配符表示法。

```
<T extends Vehicle & Car> 
```

但是除非您执行以下操作，否则您不能真正将其直接应用于 Car：

```
public interface Car<T extends Vehicle & Car>() {
    T self();
} 
```

这很奇怪，并且不强制 self 方法实际返回 self，这只是一个强烈的提示/建议。

你会实现`Car`这样的：

```
public class CitroenC3 extends Vehicle implements Car<CitroenC3> {
    @Override
    public CitroenC3 self() {
        return this;
    }
} 
```

可以使用`Car<?>`这样的：

```
Car<?> car = obtainCarInSomeWay();
Vehicle v = car.self();
Car c = car.self(); 
```

它们都应该是有效的语法。

编译器在这里强制执行的是您在`Car<WHICH>`WHICH 中指定的内容必须同时扩展`Vehicle`和实现`Car`。并且通过添加`self()`您对程序员说`T`对象应该是对象本身，因此如果他想符合规范，则强制通配符实例与类匹配。

in Java 8 you can even define a default implementation for the self method.

I also wish there was a better way to handle something like this.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-01T10:52:30.227

这是一个奇怪的要求，但您可以使用泛型完成类似的事情：

```
<T extends MyInterface & MyAbstractClass> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-01T09:12:16.297

这个问题说明你还没有掌握`interface`and的本质`class`。现在忘记具体的 Java 语法，您首先需要了解的是：接口是一组协议，它应该与实现无关。让接口扩展一个类（这是面向实现的）是没有意义的。

回到您的具体问题，如果您想保证 a`Flier`始终是一种 `Vehicle`，只需将后者更改为 an`interface`并让前者扩展它（从另一个协议扩展一个协议确实有意义）。之后，您可以创建任何实现`Vehicle`或的类（抽象或具体） `Flier`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-02T14:07:47.073

1.  定义一个新包
2.  使用方法“implementMe(HiddenOne)”创建一个范围为“default”的新接口（即 HiddenOne）
3.  将车辆和传单移动到新包裹。
4.  从 HiddenOne 继承载具和飞行器
5.  在 Vehicle 中实现方法 implementMe。

**现在：**每当您想从“Flier”实现时，您必须从 Vehicle 扩展**！** （因为只有 Vehicle 可以实现**implementMe**）。

这很棘手，但效果很好。

# c++ - 以相反的顺序打印输入的字符串单词

> ID：14109176
> 
> 赞同：0
> 
> 时间：2013-01-01T09:02:52.187
> 
> 标签：c++, string, reverse

使用`if` ***and*** `while` / `do`- `while`，我的工作是以相反的顺序打印用户的输入（字符串值）。

例如：

输入字符串值：“你是美国人”以相反的顺序输出：“美国人是你”

有没有办法做到这一点？

我努力了

```
string a;
cout << "enter a string: ";
getline(cin, a);
a = string ( a.rbegin(), a.rend() );
cout << a << endl;
return 0; 
```

...但这会颠倒单词**和**拼写的顺序，而拼写不是我想要的。

我也应该添加`if`和`while`声明，但不知道如何。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T09:27:17.713

算法是：

1.  反转整个字符串
2.  反转单个单词

```
#include<iostream>
#include<algorithm>
using namespace std;

string reverseWords(string a)
{ 
    reverse(a.begin(), a.end());
    int s = 0;
    int i = 0;
    while(i < a.length())
    {
        if(a[i] == ' ')
        {
             reverse(a.begin() + s, a.begin() + i);
             s = i + 1;
        }
        i++;
    }
    if(a[a.length() - 1] != ' ')  
    {
        reverse(a.begin() + s, a.end());           
    }
    return a; 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T09:50:07.977

这是一种基于 C 的方法，它将使用 C++ 编译器进行编译，该编译器使用堆栈来最小化`char *`字符串的创建。通过最少的工作，这可以适应使用 C++ 类，以及用 a或块轻松替换各种`for`循环。`do-while``while`

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define MAX_LINE_LENGTH 1000
#define MAX_WORD_LENGTH 80

void rev(char *str) 
{
    size_t str_length = strlen(str);
    int str_idx;
    char word_buffer[MAX_WORD_LENGTH] = {0};
    int word_buffer_idx = 0;

    for (str_idx = str_length - 1; str_idx >= 0; str_idx--)
        word_buffer[word_buffer_idx++] = str[str_idx];

    memcpy(str, word_buffer, word_buffer_idx);
    str[word_buffer_idx] = '\0';
}

int main(int argc, char **argv) 
{
    char *line = NULL;
    size_t line_length;
    int line_idx;
    char word_buffer[MAX_WORD_LENGTH] = {0};
    int word_buffer_idx;

    /* set up line buffer - we cast the result of malloc() because we're using C++ */

    line = (char *) malloc (MAX_LINE_LENGTH + 1);
    if (!line) {
        fprintf(stderr, "ERROR: Could not allocate space for line buffer!\n");
        return EXIT_FAILURE;
    }

    /* read in a line of characters from standard input */

    getline(&line, &line_length, stdin);

    /* replace newline with NUL character to correctly terminate 'line' */

    for (line_idx = 0; line_idx < (int) line_length; line_idx++) {
        if (line[line_idx] == '\n') {
            line[line_idx] = '\0';
            line_length = line_idx; 
            break;
        }
    }

    /* put the reverse of a word into a buffer, else print the reverse of the word buffer if we encounter a space */

    for (line_idx = line_length - 1, word_buffer_idx = 0; line_idx >= -1; line_idx--) {
        if (line_idx == -1) 
            word_buffer[word_buffer_idx] = '\0', rev(word_buffer), fprintf(stdout, "%s\n", word_buffer);
        else if (line[line_idx] == ' ')
            word_buffer[word_buffer_idx] = '\0', rev(word_buffer), fprintf(stdout, "%s ", word_buffer), word_buffer_idx = 0;
        else
            word_buffer[word_buffer_idx++] = line[line_idx];
    }

    /* cleanup memory, to avoid leaks */

    free(line);

    return EXIT_SUCCESS;
} 
```

要使用 C++ 编译器进行编译，然后使用：

```
$ g++ -Wall test.c -o test
$ ./test
foo bar baz
baz bar foo 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-21T06:04:27.233

此示例一次将输入字符串解包一个单词，并通过以相反的顺序连接来构建输出字符串。`

```
#include <iostream>
#include <sstream>

using namespace std;

int main()
{
  string inp_str("I am British");
  string out_str("");
  string word_str;
  istringstream iss( inp_str );

  while (iss >> word_str) {
    out_str = word_str + " " + out_str;
  } // while (my_iss >> my_word) 

  cout << out_str << endl;

  return 0;
} // main 
```

`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T09:30:40.453

您可以尝试使用[此解决方案](https://stackoverflow.com/a/236803/865883)来获取`vector`使用`string`' '（单个空格）字符作为分隔符的 '。

下一步将是向后迭代该向量以生成反向字符串。

下面是它的样子（`split`是该帖子中的字符串拆分函数）：

**编辑 2**：如果您出于某种原因不喜欢`vector`s，则可以使用数组（请注意，指针可以充当数组）。这个例子在堆上分配了一个固定大小的数组，你可能想把它改成当当前字数达到某个值时，大小加倍。

使用 a`array`而不是 a 的解决方案`vector`：

```
#include <iostream>
#include <string>
using namespace std;

int getWords(string input, string ** output)
{
    *output = new string[256];  // Assumes there will be a max of 256 words (can make this more dynamic if you want)
    string currentWord;
    int currentWordIndex = 0;
    for(int i = 0; i <= input.length(); i++)
    {
        if(i == input.length() || input[i] == ' ')  // We've found a space, so we've reached a new word
        {
            if(currentWord.length() > 0)
            {
                (*output)[currentWordIndex] = currentWord;
                currentWordIndex++;
            }
            currentWord.clear();
        }
        else
        {
            currentWord.push_back(input[i]);    // Add this character to the current word
        }
    }
    return currentWordIndex;    // returns the number of words
}

int main ()
{
    std::string original, reverse;
    std::getline(std::cin, original);  // Get the input string
    string * arrWords;
    int size = getWords(original, &arrWords);  // pass in the address of the arrWords array
    int index = size - 1;
    while(index >= 0)
    {
       reverse.append(arrWords[index]);
       reverse.append(" ");
       index--;
    }
    std::cout << reverse << std::endl;
    return 0;
} 
```

**编辑**：添加包含、`main`功能、`while`循环格式

```
#include <vector>
#include <string>
#include <iostream>
#include <sstream>

// From the post
std::vector<std::string> &split(const std::string &s, char delim, std::vector<std::string> &elems)
{
   std::stringstream ss(s);
   std::string item;
   while(std::getline(ss, item, delim)) {
       elems.push_back(item);
   }
   return elems;
}

std::vector<std::string> split(const std::string &s, char delim) {
    std::vector<std::string> elems;
    return split(s, delim, elems);
}

int main ()
{
    std::string original, reverse;
    std::cout << "Input a string: " << std::endl;
    std::getline(std::cin, original);  // Get the input string

    std::vector<std::string> words = split(original, ' ');

    std::vector<std::string>::reverse_iterator rit = words.rbegin();

    while(rit != words.rend())
    {
       reverse.append(*rit);
       reverse.append(" "); // add a space
       rit++;
    }
    std::cout << reverse << std::endl;
    return 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-01T15:41:24.570

这仅使用 和 中的`if`一个`while`。

```
#include <string>
#include <iostream>
#include <sstream>

void backwards(std::istream& in, std::ostream& out)
{
   std::string word;
   if (in >> word)   // Read the frontmost word
   {
      backwards(in, out);  // Output the rest of the input backwards...
      out << word << " ";  // ... and output the frontmost word at the back
   }
}

int main()
{
   std::string line;
   while (getline(std::cin, line))
   {
      std::istringstream input(line);
      backwards(input, std::cout);
      std::cout << std::endl;
   }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-06-08T09:02:13.157

这里的代码使用字符串库来检测输入流中的空白并相应地重写输出语句

算法是 1\. 使用 getline 函数获取输入流以捕获 spacecs。将 pos1 初始化为零。2.在输入流中查找第一个空格 3.如果没有找到空格，则输入流是输出 4.否则，获取pos1之后第一个空格的位置，即pos2。5\. 保存输出句首pos1和pos2之间的子串；新句。6\. Pos1 现在位于空白后的第一个字符处。7\. 重复 4、5 和 6，直到没有空格。8\. 将最后一个子字符串添加到 newSentence 的开头。–

```
#include <iostream> 
#include <string> 

  using namespace std; 

int main ()
{ 
    string sentence; 
    string newSentence;
    string::size_type pos1; 
    string::size_type pos2; 

    string::size_type len; 

    cout << "This sentence rewrites a sentence backward word by word\n"
            "Hello world => world Hello"<<endl;

    getline(cin, sentence); 
    pos1 = 0; 
    len = sentence.length();
    pos2 = sentence.find(' ',pos1); 
    while (pos2 != string::npos)
        {
            newSentence = sentence.substr(pos1, pos2-pos1+1) + newSentence; 
            pos1 = pos2 + 1;
            pos2 = sentence.find(' ',pos1);       
        }
    newSentence = sentence.substr(pos1, len-pos1+1) + " "  + newSentence;
    cout << endl << newSentence  <<endl; 

    return 0;

} 
```

# .net - 使用 Cudafy .Net 将枚举传递给内核

> ID：14109180
> 
> 赞同：1
> 
> 时间：2013-01-01T09:04:16.010
> 
> 标签：.net, memory-management, cuda, cuda.net

我使用 CUDA C 进行评估，现在开始使用 cudafy .net。

让我们假设我有以下枚举

```
 [Cudafy]
    public enum MyEnum
    {
       mon = 0,tue=1,wed=2,thu=3,fri=4,sat=5
    } 
```

我想将它传递给内核

```
 [Cudafy]
    public static void Enum_Kernel(GThread thread, MyEnum[] en)
    {
        MyEnum day = en[thread.threadIdx.x];
    } 
```

我正在分配内存

```
 MyEnum [] enum1 = new MyEnum[10];
        for (int i = 0; i < 10; i++)
        {
            enum1[i] = MyEnum.mon; 
        }
        MyEnum [] d_enum1 = gpu.CopyToDevice<MyEnum>(enum1); 
```

在运行期间，程序在 aboce 行崩溃并显示消息

![错误信息](../Images/5e19b9e7692551474e1bf0ce2c2a9f87.png)

我需要解决什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-05T09:18:30.797

尝试`enum`用简单的`int`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-08T08:20:12.523

您不需要自己分配内存。只需告诉 cudafy 模块您要使用什么结构类型。

来自 cudafy 的示例：

```
// in your main execution method
CudafyModule km = CudafyTranslator.Cudafy(typeof(ComplexFloat));
GPGPU gpu = CudafyHost.GetDevice(eGPUType.Cuda);
gpu.LoadModule(km);

 // the struct 
 [Cudafy]
 public struct ComplexFloat
 {
    public ComplexFloat(float r, float i)
    {
        Real = r;
        Imag = i;
    }
    public float Real;
    public float Imag;
    public ComplexFloat Add(ComplexFloat c)
    {
        return new ComplexFloat(Real + c.Real, Imag + c.Imag);
    }
 } 
```

# android - 使用圆角drawable

> ID：14109187
> 
> 赞同：13
> 
> 时间：2013-01-01T09:05:50.530
> 
> 标签：android, rounded-corners, android-drawable

流行的 Google 开发人员[Romain Guy](http://www.curious-creature.org/)发表了一篇[不错的文章](http://www.curious-creature.org/2012/12/11/android-recipe-1-image-with-rounded-corners/)，展示了如何在视图上有效地使用圆角可绘制对象（在[他的代码](https://docs.google.com/a/android.co.il/file/d/0B3dxhm5xm1sia2NfM3VKTXNjUnc/edit)中称为“StreamDrawable” ）。

该示例在我的 Galaxy S3 纵向模式下运行良好，但我有一些问题：

1.  如果屏幕很小（例如在 qvga 屏幕上），显示的图像会被裁剪。

2.  如果我的输入位图比我希望的显示方式太小，则输出图像的边缘会被涂抹。即使在 Galaxy S3 上，当您运行示例代码并且它在横向上时，它看起来也很糟糕：

    ![在此处输入图像描述](../Images/47fd434152cfb267a73325042c617e58.png)

3.  我仍然不确定（因为我使用缩放图像的解决方法来使用示例代码），但它认为即使是这个解决方案在 listView 中使用时也会有点慢。也许有一个渲染脚本解决方案？

我使用 setImageDrawable 还是 setBackgroundDrawable 都没有关系。它必须是可绘制对象本身的东西。

我尝试使用变量和位图着色器，但没有任何效果。遗憾的是， [**TileMode**](http://developer.android.com/reference/android/graphics/Shader.TileMode.html)并没有仅仅拉伸图像的价值，只能以某种方式平铺它。

作为一种解决方法，我可以创建一个新的缩放位图，但这只是一种解决方法。当然有一种更好的方法，它也不会使用比它应该使用的更多的内存。

我如何解决这些问题并使用这个很棒的代码？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-09-14T20:48:28.500

我认为[**本网站**](https://github.com/vinc3m1/RoundedImageView)上提供的解决方案效果很好。

与其他解决方案不同，它不会导致内存泄漏，即使它基于 Romain Guy 的解决方案。

编辑：现在在支持库上，您还可以使用[**RoundedBitmapDrawable**](https://developer.android.com/reference/android/support/v4/graphics/drawable/RoundedBitmapDrawable.html)（使用[**RoundedBitmapDrawableFactory**](https://developer.android.com/reference/android/support/v4/graphics/drawable/RoundedBitmapDrawableFactory.html)）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-07T16:23:52.443

我对这段代码有一些大小问题，我解决了。

也许这也会对您有所帮助：

1) 在构造函数中将位图存储在局部变量中（例如私有位图 bmp；）

2）覆盖另外两个方法：

```
@Override
    public int getIntrinsicWidth() {
    return bmp.getWidth();
}

@Override
    public int getIntrinsicHeight() {
    return bmp.getHeight();
} 
```

最好的问候，达罗拉

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-19T10:19:21.693

潜在的问题是 BitmapShader`TileMode`没有缩放选项。您会在源代码中注意到它已设置为`Shader.TileMode.CLAMP`，并且文档将其描述为：

> 如果着色器在其原始边界之外绘制，则复制边缘颜色

要解决此问题，有以下三种解决方案：

1.  将使用可绘制对象的视图的大小限制为位图的大小。
2.  约束绘图区域；例如，更改：

    ```
    int width = bounds.width() - mMargin;
    int height = bounds.height() - mMargin;
    mRect.set(mMargin, mMargin, width, height); 
    ```

    到：

    ```
    int width = Math.min(mBitmap.getWidth(), bounds.width()) - mMargin;
    int height = Math.min(mBitmap.getHeight(), bounds.height()) - mMargin;
    mRect.set(mMargin, mMargin, width, height); 
    ```

3.  将位图缩放到可绘制对象的大小。我已将创建着色器移至 onBoundsChange() 并选择从此处创建新位图：

    ```
    bitmap = Bitmap.createScaledBitmap(mBitmap, width, height, true);
    mBitmapShader = new BitmapShader(bitmap,
            Shader.TileMode.CLAMP, Shader.TileMode.CLAMP); 
    ```

    请注意，这是一个可能很慢的操作，将在主线程上运行。在选择最后一个解决方案之前，您可能需要仔细考虑如何实现它。

# c# - 用于客户端执行的 WPF 应用程序

> ID：14109189
> 
> 赞同：1
> 
> 时间：2013-01-01T09:06:10.200
> 
> 标签：c#, wpf, debugging, release, exe

我在 WPF 中创建了一个简单的库存应用程序。**我现在应该如何把它交给客户？**

**我所做的一种方式：**我已将我的**AppPresentation**解决方案设置为启动项目，我可以看到来自其他解决方案的所有 DLL 都添加到了该解决方案的 Debug 和 Release 目录中。

当我将 Release 文件夹复制到其他驱动器（从 D: 到 C:）并运行**AppPresentation.exe**时，会出现一些关于缺少某些 DLL 的错误，但我仍然可以在该文件夹中看到这些 DLL。

但是，当我将调试文件夹复制到另一个驱动器并运行应用程序时，即**AppPresentation.exe**现在我可以成功运行应用程序并完成工作。

我可以将整个 Debug 文件夹提供给客户并期望它在他的机器上完美运行吗？我将确保在该机器上安装 .NET 4.0 Framework（当然不是 Visual Studio）。这行得通吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:38:46.157

只要您在客户端上安装了所需版本的 .NET Framework 并且已包含所有必要的 dll，它就可以工作，

理想情况下，您应该考虑创建一个[Visual Studio 安装项目](http://msdn.microsoft.com/en-us/library/k3bb4tfd%28v=vs.80%29.aspx)：

使用设置项目具有以下优点：

1.  应用程序运行所需的所有 dll 和其他文件将合并到一个设置文件中
2.  您可以指定诸如 .NET Framework 之类的先决条件，这将阻止安装，直到首先安装了所有必需的组件。
3.  用户可以准确指定应用程序应安装在磁盘上的哪个位置，而无需手动复制 dll（在您的场景中就是这种情况）。

这只是使用安装项目的一些优点，但希望您会被说服尝试一下，因为它是安装 Windows 应用程序的首选方式

PS 如果您的设置项目变得更复杂，请考虑查看[Wix](http://wix.sourceforge.net/)

# objective-c - Facebook SessionState 始终不是 FBSessionStateCreatedTokenLoaded

> ID：14109190
> 
> 赞同：3
> 
> 时间：2013-01-01T09:06:25.580
> 
> 标签：objective-c, facebook

我使用最新的 Facebook SDK (3.1.1)。

我在其中编写了一个函数，`AppDelegate`用于检查当前会话并根据状态创建或打开会话。

第二个条件总是返回`NO`并转到显示登录屏幕。

我不明白的方式。

AppDelegate 方法：

```
if (facebook.isOpen == NO)
{
   facebook = [[FBSession alloc] initWithPermissions:permission];

    if (facebook.state == FBSessionStateCreatedTokenLoaded)
    {
        [facebook openWithCompletionHandler:^(FBSession *session,FBSessionState status,NSError *error)
        {
            // load user details
        }];
    }
    else
    {
        // show login screen
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:36:07.087

FbSession 类中有一个属性访问令牌。

使用该字符串来检查登录状态。

如果您在该字符串中获得 null，则表示您的会话已过期，但如果您获得一些值，则表示您仍在应用程序中登录，您可以做任何您想做的事情。

问候

阿布舍克·戈亚尔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-04T16:09:13.260

如果会话状态等于 FBSessionStateCreatedTokenLoaded，则意味着存在缓存的 accessToken，对 open* 的调用将导致会话打开，无需 UX 或应用程序切换

```
-(BOOL)validFBSessionExists{
        if (FBSession.activeSession.isOpen){
            NSLog(@"Facebook accessToken:%@",FBSession.activeSession.accessTokenData.accessToken);
            return YES;
        }
        else if (FBSession.activeSession.state == FBSessionStateCreatedTokenLoaded)
        {
            // Cached token exist, Session needs to be re-opened
            [FBSession.activeSession openWithBehavior:FBSessionLoginBehaviorUseSystemAccountIfPresent completionHandler:nil];
            return YES;
        }
        return NO;
} 
```

# javascript - 如何创建 JSON 列表？

> ID：14109191
> 
> 赞同：5
> 
> 时间：2013-01-01T09:07:08.547
> 
> 标签：javascript, jquery, json, asp.net-mvc-3

我必须形成一个 JSON 对象，如

```
var SelectedRows=   {
        "item1":{"id":"1","name":"jhon","phone":"6699"},
        "item2":{"id":"2","name":"Aron","phone":"7799"},
        "item2":{"id":"3","name":"Iyan","phone":"8899"},
        } 
```

在复选框单击事件上，我需要将网格行值添加到 JSON 列表中。我正在尝试使用此代码：

```
var SelectedRows={};

$(this).delegate(":checkbox", "click", function() {        
    var j=0;
    var item=[];
    SelectedRows[item]={};        *//I guess this line creating problem*     
    $(this).closest("tr").find("td:visible").each(function(){            
        var key=headerRow[j]["i"];            
        if(j == 0)
        {              
        }
        else
        {   
            SelectedRows[item][key]=$(this).text(); 
        }
        j=++j; 
     }); 
```

发生多个复选框单击事件后，`SelectedRows`仅包含最后一次单击事件数据。

如何获取所有复选框单击事件数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T09:38:07.987

您可以像这样创建一个json数组

```
var SelectedRows=   [
    item1:{id:"1",name:"jhon",phone:"6699"},
    item2:{id:"2",name:"Aron",phone:"7799"},
    item2:{id:"3",name:"Iyan",phone:"8899"}
] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T09:15:28.317

替换`var item[];`为`var item = 'item'+(j+1);`结果应该喜欢..

```
var SelectedRows=   {
    "item1":{"id":"1","name":"jhon","phone":"6699"},
    "item2":{"id":"2","name":"Aron","phone":"7799"},
    "item2":{"id":"3","name":"Iyan","phone":"8899"},
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T10:18:45.640

我是这样做的。它显示的正是上述格式。

```
var SelectedRows=[];
var rowCount=1; 
```

从 item1、item2、item3 等使用额外的计数变量。

```
 $(this).delegate(":checkbox", "click", function() {
        var j=0;
        var item={};    
            $(this).closest("tr").find("td:visible").each(function(){
               var key=headerRow[j]["i"];
                   if(j == 0){ }
                   else {
                          item[key]=$(this).text();
                        }
               j=++j; 
            });
            SelectedRows["item"+rowCount]=item;
            rowCount=++rowCount;
  }); 
```

# c# - 将文件添加到列表视图，但仅显示我列表中的名称

> ID：14109192
> 
> 赞同：0
> 
> 时间：2013-01-01T09:07:11.947
> 
> 标签：c#, winforms

在我的应用程序中，我将文件添加到我的列表框中（我的列表框包含 3 列）：

```
lvFiles.Items.Add(new ListViewItem(new string[]
{ 
    (new FileInfo(filePath)).FullName, duration, "Waiting"
})); 
```

`lvFiles.Items[i].Text`只显示文件名，我需要整个路径

我希望该选项仅在我的 Listview 中显示文件名：`new FileInfo(filePath)).Name` 但是当我打电话给需要完整路径的班级时：`myClass = new myClass(lvFiles.Items[i].Text);`在这种情况下，我想发送整个文件路径：`new FileInfo(filePath)).FullName`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:14:07.850

您可以利用[`Tag`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.tag.aspx)控件的属性。将 Text设置为`FileInfo.Name`并将 for 设置`Tag`为`ListViewItem`完整路径。像：

```
ListViewItem item = new ListViewItem(new[] {FileInfo(filePath)).Name, duration, "Waiting"});
item.Tag= FileInfo(filePath)).FullName;
lvFiles.Items.Add(item); 
```

然后稍后

```
myClass = new myClass(lvFiles.Items[i].Tag.ToString()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:10:12.193

为此，您需要为 Only File name 添加一列。并从该列中检索数据。如果不需要，可以隐藏完整文件路径列。

# ruby-on-rails - 将聊天功能添加到基本的 Rails 应用程序中

> ID：14109193
> 
> 赞同：-1
> 
> 时间：2013-01-01T09:07:36.943
> 
> 标签：ruby-on-rails, ruby-on-rails-3, web-applications, chat

我有一个基本的 Rails 应用程序，用户可以在其中登录并添加朋友。我想为登录用户添加与他们的朋友聊天的功能。该应用程序不适用于生产，因此我正在寻找简单且易于实现的东西。我尝试将一个已经从 github 制作的[推送聊天应用程序](https://github.com/tarnfeld/PusherChat-Rails)集成到我的应用程序中，但似乎无法让它工作。有没有简单的出路？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:56:40.913

尝试这个 -

宝石'[私人酒吧](http://railscasts.com/episodes/260-messaging-with-faye)'

观看此视频并应用该步骤

[http://railscasts.com/episodes/316-private-pub](http://railscasts.com/episodes/316-private-pub)

**更新**- 另一种解决方案

请参阅使用 Faye- [Railscast 260](http://railscasts.com/episodes/260-messaging-with-faye)进行消息传递的视频。

# javascript - Backbone.js 子视图模板未渲染，尽管渲染功能运行

> ID：14109205
> 
> 赞同：0
> 
> 时间：2013-01-01T09:10:00.540
> 
> 标签：javascript, backbone.js

不幸的是，我为我的项目写了一个子视图。虽然它之前渲染得非常好并且完全符合我的要求，但我了解到我的应用程序结构不正确。我正在重组，其他一切都像一个魅力，但我的新设置似乎没有在它的`el`. `el`渲染非常好，但没有插入任何内容。我`console.log()`在打印的`template`那个应该渲染的地方放了一个，它是完美的。但是，该`that.$.el.html()`行根本不呈现模板。我不确定发生了什么。该文件如下。我的野心正在杀死我！

**contactlist.js（查看）：**

```
define([
  'jquery',
  'underscore',
  'backbone',
  'text!templates/contactlist.html',
  'collections/contacts'
], function($, _, Backbone, contactListTemplate, Contacts){

  var ContactListView = Backbone.View.extend({
    initialize: function () {
        var that = this;
        this.options = {
            idclicked: null,
            query: null,
            scrolled: 0
        };
        this.options.get = function (property) {
            return that.options[property];
        };
        this.options.set = function (properties) {
            for (property in properties) {
                that.options[property] = properties[property];
            }
        };
    },
    el: '.contact-list',
    render: function() {
        var that = this;
        var contacts = new Contacts();
        contacts.fetch({
            success: function(contacts) {
                var results = contacts.models;
                if (that.options.query || that.options.query === '') {
                    var query = that.options.query.toUpperCase();
                    var results = contacts.toArray();
                        results = contacts.filter(function(contact){
                            return _.any(['firstname', 'lastname', 'email', 'phonenumber'], function(attr){
                                return contact.get(attr).toString().toUpperCase().indexOf(query) !== -1;
                            });
                        });
                        that.options.set({idclicked: null});
                }
                if (!that.options.idclicked && results[0]) {
                    that.options.idclicked = results[0].get('id');
                    Backbone.history.navigate('/contacts/' + results[0].get('id'), {trigger: true});
                }
                var template = _.template(contactListTemplate, {contacts: results, idclicked: that.options.idclicked});
                that.$el.html(template);
                $(document).ready(function() {
                    $('.contact-list').scrollTop(that.options.scrolled);
                });
            }
        });
    },
    events: {
        'click .contact': 'clickContact'
    },
    clickContact: function (ev) {
        $('.contact-clicked').removeClass('contact-clicked').addClass('contact');
        $(ev.currentTarget).addClass('contact-clicked').removeClass('contact');
        window.location.replace($(ev.currentTarget).children('a').attr('href'));
    }
  });

  return ContactListView;

}); 
```

**更新：**

尝试了一件有效的事情，但不确定这是否是一种好习惯。下面的代码是父视图：

**allcontacts.js（查看）：**

```
define([
  'jquery',
  'underscore',
  'backbone',
  'text!templates/allcontacts.html',
  'views/contactlist',
  'collections/contacts'
], function($, _, Backbone, allContactsTemplate, ContactListView, Contacts) {
  var AllContactsView = Backbone.View.extend({
    initialize: function () {
        var that = this;
        this.options = {
            idclicked: null,
            pageloaded: false,
            renderlist: true,
            scrolled: null
        };
        this.options.get = function (property) {
            return that.options[property];
        };
        this.options.set = function (properties) {
            for (property in properties) {
                that.options[property] = properties[property];
            }
        };

        that.contactListView = new ContactListView();
    },
        el: '.allcontacts',
        render: function() {
            var that = this;
            if (!that.options.pageloaded) {
                var template = _.template(allContactsTemplate, {});
                that.$el.html(template)
        }
        if (that.options.renderlist) {
                this.contactListView.options.set({idclicked: that.options.idclicked, scrolled: that.options.scrolled});
                this.contactListView.setElement('.contact-list').render();
            }
        },
        events: {
        'keyup .search': 'search',
        'submit .search-contacts-form': 'cancelSubmit'
        },
        search: function (ev) {
            this.contactListView.options.set({idclicked: this.options.idclicked, query: $(ev.currentTarget).val(), scrolled: this.options.scrolled});
            this.contactListView.setElement('.contact-list').render();
        },
        cancelSubmit: function (ev) {
            return false;
        }
    });

  return AllContactsView;

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T13:41:46.257

绑定时检查您的**el**元素是否可用。好像还没有渲染。

# cocoa - Cocoa: ABPeoplePickerView - 如何在单击一个人时触发一个方法？

> ID：14109207
> 
> 赞同：1
> 
> 时间：2013-01-01T09:10:15.023
> 
> 标签：cocoa, interface, action, abpeoplepickerview, outlet

我到处寻找，希望也许有人能指出我正确的方向。

每次用户选择不同的记录时，我只想运行一个方法。

更大的图景（如果有替代方式）是，当用户选择记录（单击）时，个人电话号码将被放入分段控件中。

我试过了：

1.  要将动作连接到按钮，我通常打开助手编辑器，然后右键单击拖动到 .h 文件。但是当我使用这个 abpeoplepickerview 时，我只得到一个 Outlet 连接类型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-30T17:37:21.997

ABPeoplePickerView 会为您提供确切所需的通知。查看类参考的末尾附近。

```
@implementation someController
@synthesize picker;  //your ABPeoplePickerView

- (void)applicationDidFinishLaunching:(NSNotification *)aNotification
// or some other method that gets called early on
{
  [[NSNotificationCenter defaultCenter] addObserver:self
              selector:@selector(notificate:)
              name:ABPeoplePickerNameSelectionDidChangeNotification
              object:picker];
}

 - (void) notificate: (NSNotification*) notification {
  ABPerson *person = picker.selectedRecords.firstObject;
  NSLog(@"NOTIFIED %@"), person.name); 
  // name is a property of ABPerson I added in a category
  // do what you will
} 
```

如果您关闭窗口，请不要忘记删除观察者。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T13:50:47.707

人员选择器是一个 . “复合视图”实际上由一个表格视图、2 个按钮和一个搜索字段 (IIRC) 组成

答案：
你运气不好，这个组件不适合你，**但是你当然做了一些黑客攻击：**

```
- (void)viewDidLoad {
    //you get the internal tableview
    id views = [self findSubviewsOfKind:NSClassFromString(@"ABPeoplePickerTableView") withTag:NSNotFound inView:sef.peoplePickerView];
    id view = [views count] ? [views objectAtIndex:0] : nil;

    //subscribe to the notification
    if([view respondsToSelector:@selector(selectedRow)]) {
        [[NSNotificationCenter defaultCenter] addObserverForName:NSTableViewSelectionDidChangeNotification object:view queue:[NSOperationQueue mainQueue] usingBlock:^(NSNotification *note) {
            [self peoplePickerSelectedRecordChanged:self.peoplePickerView];
        }];
    }
}

- (NSArray *)findSubviewsOfKind:(Class)kind withTag:(NSInteger)tag inView:(NSView*)v {
NSMutableArray *array = [NSMutableArray array];
    if(kind==nil || [v isKindOfClass:kind]) {
        if(tag==NSNotFound || v.tag==tag) {
            [array addObject:v];
        }
    }

    for (id subview in v.subviews) {
        NSArray *vChild = [self findSubviewsOfKind:kind withTag:tag inView:subview];
        [array addObjectsFromArray:vChild];
    }

    return array;
}

- (IBAction)peoplePickerSelectedRecordChanged:(id)sender {
    NSLog(@"%@", [sender selectedRecords]);
} 
```

# c# - 为什么我填充网格的多线程代码有时会失败？

> ID：14109209
> 
> 赞同：0
> 
> 时间：2013-01-01T09:10:34.120
> 
> 标签：c#

我阅读了有关线程池的文档，并编写了测试代码以将来自不同线程的数据加载到两个网格中。但有时，只有一个网格填充，而另一个保持为空。有时一切都很好。为什么？当我使用 waitall 时出现此异常：不支持 STA 线程上的多个句柄的 WaitAll。

```
 private void button1_Click(object sender, EventArgs e)
       {
          ManualResetEvent[] mre = new ManualResetEvent[2];
            mre[0] = new ManualResetEvent(false);
            multhread ml = new multhread(mre[0]);
            ThreadPool.QueueUserWorkItem(ml.setdatabase,1);           
            mre[1] = new ManualResetEvent(false);
          //  multhread ml2 = new multhread(mre[1]);
            ThreadPool.QueueUserWorkItem(ml.setdatabase2, 2);

            WaitHandle.WaitAll(mre);
            dataGridView1.DataSource = ml.propdt;
            dataGridView2.DataSource = ml.propdt2;
    }
    public DataTable propdt2 { get; set; }
    public void s()
    {
        string constring = "DATA SOURCE=.; database=test;integrated security= true; USER ID=sa;password=123456789";
        SqlCommand com = new SqlCommand();
        SqlConnection con = new SqlConnection(constring);
        com.Connection = con;
        com.CommandText = " select * from imgtable";
        SqlDataAdapter adapt = new SqlDataAdapter(com);
        DataTable dt2 = new DataTable();
        adapt.Fill(dt2);
        propdt2 = dt2;
    }

}
public class multhread
{
    private ManualResetEvent _doneEvent;
    public multhread(ManualResetEvent doevent)
    {
       _doneEvent = doevent;

    }
    public static DataTable dt;
    public static  DataTable dt2;
    public DataTable propdt { get; set; }
    public DataTable propdt2 { get; set; }
    public void setdatabase(Object threadContext)
    {

        string constring = "DATA SOURCE=.; database=test;integrated security= true; USER ID=sa;password=123456789";
        SqlCommand com = new SqlCommand();
        SqlConnection con = new SqlConnection(constring);
        com.Connection = con;
        com.CommandText = " select * from imgtable";
        SqlDataAdapter adapt = new SqlDataAdapter(com);
         dt2 = new DataTable();
        adapt.Fill(dt2);
        propdt2 = dt2;
        _doneEvent.Set();

       // return dt2;

    }
    public void setdatabase2(Object threadContext)
    {

        string constring = "DATA SOURCE=.; database=test;integrated security= true; USER ID=sa;password=123456789";
        SqlCommand com = new SqlCommand();
        SqlConnection con = new SqlConnection(constring);
        com.Connection = con;
        com.CommandText = " select * from imgtable order by id desc ";
        SqlDataAdapter adapt = new SqlDataAdapter(com);
        dt = new DataTable();
        adapt.Fill(dt);
        propdt = dt;
        _doneEvent.Set();

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:37:52.953

`WaitAll``[STAThread]`在标记为WinForms 应用程序中的主线程的线程中不允许出现这种情况。我建议不要使用，`WaitHandle`而是可以通过调用通知主线程。像这样声明一个函数：

```
void dataready
{
    dataGridView1.DataSource = ...
} 
```

并在工作线程结束时设置事件调用此函数：

```
Invoke(new Action(dataready)); 
```

这应该可以解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:33:49.413

UI 控件是在具有单线程单元 (STAThread) 的线程上创建的。

原因是 Windows 应用程序使用 [STAThread] 属性进行归因。

在这里阅读更多

[http://blogs.msdn.com/b/johnlee/archive/2007/07/10/waithandle-waitall-for-multiple-handles-on-a-sta-thread-is-not-supported.aspx](http://blogs.msdn.com/b/johnlee/archive/2007/07/10/waithandle-waitall-for-multiple-handles-on-a-sta-thread-is-not-supported.aspx)

你可以尝试的是

```
foreach(var a in mre)
{
    a.WaitOne();
} 
```

我没有测试过，但我认为它应该可以工作。

**为什么您的代码失败：**

您已经从正在执行按钮单击事件的线程中启动了两个线程池线程。但是，每当您需要将从这些线程接收到的数据更新到 UI 时，您应该使用 Invoke 来更新 UI 中的数据。如果不使用 Invoke 更新 UI 上的数据，则会出现 Invalid cross thread access 错误。

要从另一个线程更新 UI，请在此处阅读答案

[https://stackoverflow.com/a/661706/448407](https://stackoverflow.com/a/661706/448407)

# ios - 通过命令行导出仪器跟踪数据以防泄漏

> ID：14109217
> 
> 赞同：2
> 
> 时间：2013-01-01T09:12:08.517
> 
> 标签：ios, testing, instruments, memory-leaks

我正在使用以下脚本从命令行运行泄漏工具。

```
instruments -t /Applications/Xcode.app/Contents/Applications/Instruments.app/Contents/Resources/templates/Leaks.tracetemplate <app path> 
```

执行命令后，我得到instrumentscli0.trace 文件。我如何从该文件中获取有关泄漏的可读数据。

有没有办法通过任何命令将结果导出到文本文件。在自动化模板中，我们可以使用 switch 指定输出文件夹`-e UIARESULTSPATH`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T08:26:51.147

您可以单击菜单中的“仪器 > 导出数据”将最近的结果导出到 .csv 文件。但我不知道如何使用命令行

# c# - 用数据库中的值替换字符串中的代码

> ID：14109230
> 
> 赞同：0
> 
> 时间：2013-01-01T09:14:18.023
> 
> 标签：c#, asp.net

我正在努力替换字符串中的一些代码。我有一个函数，它从 emailtemplates 表中获取电子邮件模板，其中包含一些代码，例如`##NewUserFirstName##`该`##password##` 表的正文列。还有另一个表已经定义了哪个表中的值将替换这些代码，所以`##NewUserFirstName##`我已经定义`UserProfile.FirstName`了，并且`##password##` `UserProfile.password`在第二个表中。我有这样的所有合并代码：

```
 using (IMailMergeCodeManager mailMergeCodeManager = new ManagerFactory().GetMailMergeCodeManager())
    {
        mailMergeCodes = mailMergeCodeManager.GetAll().ToList();
    } 
```

现在我用这些代码替换模板中的代码，如下所示：

```
 using (ICampaignManager campaignManager = new ManagerFactory().GetCampaignManager())
 {
     using (IUserProfileManager UserProfileManager1 = new ManagerFactory().GetUserProfileManager())
     {
         using (IAccountManager AccountManager = new ManagerFactory().GetAccountManager())
         {
             using (ICallTypeManager CallTypeManager = new ManagerFactory().GetCallTypeManager())
             {
                 using (ICallOutcomeManager CallOutComeManager = new ManagerFactory().GetCallOutcomeManager())
                 {
                     using (ICallRecordingManager CallRecordingManager = new ManagerFactory().GetCallRecordingManager())
                     {
                         UserProfile UserProfile = UserProfileManager1.GetByfkAccountId(Convert.ToInt32(AccountId)).FirstOrDefault();
                         Account acc = AccountManager.GetById(Convert.ToInt32(AccountId));                                      
                         UserProfile CurrentLoggedInUser = UserProfileManager1.GetByfkAccountId(Convert.ToInt32(CurrentAccount.Id)).FirstOrDefault();
                         CallRecording callRecording = CallRecordingManager.GetById(callRecordingId);

                         if (subject.Contains("##password##") || body.Contains("##password##"))
                             password = GetPassword(UserProfile.UserAuthentication.EmailAddress);

                         foreach (MailMergeCode mergeCode in mailMergeCodes)
                         {
                             if (body.Contains(mergeCode.MailMerge)) 
                                 body = Regex.Replace(body, mergeCode.MailMerge, mergeCode.FieldName, RegexOptions.IgnoreCase);

                             if (subject.Contains(mergeCode.MailMerge) && !subject.Contains("##password##"))
                                 subject = Regex.Replace(subject, mergeCode.MailMerge, mergeCode.FieldName, RegexOptions.IgnoreCase);

                         }

                     }
                 }
             }
         }
     }

 } 
```

}

但是下面的行`##NewUserFirstName##`是`UserProfile.FirstName`

`body = Regex.Replace(body, mergeCode.MailMerge, mergeCode.FieldName, RegexOptions.IgnoreCase);`

而不是从中获得价值`UserProfile.FirstName`是“乔·史密斯”

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:01:41.720

使用此代码，如果您有任何问题，请告诉我

```
if (Body.Contains(""##password##""))
 {
 Body = Body.Replace(""##password##"", yourpassword_string);
 } 
```

# javascript - 在这种情况下使用 jquery 获取原始 url

> ID：14109234
> 
> 赞同：3
> 
> 时间：2013-01-01T09:14:51.233
> 
> 标签：javascript, jquery, html, forms

在下面的表单中，我更改了 action 属性并提交了表单。这很好用。发生的事情是：如果当前位置是`http://localhost/search/?mod=all`并且搜索词是 14，则操作将更改为，`http://localhost/search/?mod=all&handle=14`浏览器中的 url 也会更改。

但是下次我尝试搜索时，由于现在的 url 是`http://localhost/search/?mod=all&handle=14`，我得到`http://localhost/search/?mod=all&handle=14&handle=15`. 它会随着每个搜索词继续下去。

知道如何`http://localhost/search/?mod=all`通过这一切保留原始网址。

这是表格：

```
<form method="GET" class="modForm" action="">
<input type="text" placeholder="Search" class="modSearchValue">
<input type="radio" name="text" value="text" class="text" title="Search">
</form> 
```

这是jQuery：

```
$('.modForm').submit(function(event) {
  var $this = $(this);
  var query = $this.find('.modSearchValue').val(); // Use val() instead of attr('value').
  var locale = window.location;
  if ($('.text').is(':checked')) {
    query = '&text=' + query;
  } else {
    query = '&handle=' + query;
  }
  route = locale + query;
  console.log(route);
  if (query.length >= 1) {
    // Use URI encoding
    var newAction = (route);
    console.log(newAction); // DEBUG
    // Change action attribute
    $this.attr('action', newAction);
    //event.preventDefault();
  } else {
    console.log('Invalid search terms'); // DEBUG
    // Do not submit the form
    event.preventDefault();
  }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:30:41.187

有几种方法可以做到这一点。我宁愿不要弄乱 window.location 并做一些更简单的事情：

```
<form method="GET" class="modForm" action="">
    <input type="hidden" name="mod" value="all"> <!-- mod is a hidden variable -->
    <input type="text" id="modSearchValue">      <!-- name not defined yet -->
    <input type="checkbox" id="textOrHandle">    <!-- name not required -->
</form> 
```

```
$(".modForm").submit(function() {
    $("#modSearchValue").attr("name", $("#textOrHandle").is(":checked") ? "text" : "handle");
    // let the form submit!
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:21:44.703

你有多种方法可以做到这一点。为什么不能将原始 URL 存储在全局变量中（保留在表单提交等函数之外）

如果您不希望这样，您可以使用 window.location.hash 它将返回您发送的所有 GET 参数。使用 split 您将能够获得所需的确切参数。如果您仍然需要帮助，我将发布代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T09:25:11.140

最快的解决方案：如果，对于这段代码，`window.location`应该总是`http://localhost/search/?mod=all`，那么你甚至不需要说`var locale = window.location`. 只是说`var locale = "http://localhost/search/?mod=all"`，你避免了这个问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T09:29:41.460

```
​var s = window.location.hostname; // gets the hostname
var d = window.location.protocol; // gets the protocol
var g = window.location.search; // gets all the params
var x = g.split("&"); // split each parameter
var url = d+"//"+s+x[0]; // makes url you want
alert(url);​​​​ // just for chill 
```

# c# - Ranorex 测试自动化问题：无法可靠地单击 silverlight 网络应用程序上的按钮

> ID：14109237
> 
> 赞同：3
> 
> 时间：2013-01-01T09:15:16.490
> 
> 标签：c#, silverlight, ranorex

`Ranorex automation framework`我们使用`Silverlight`Web 应用程序自动化了一些测试用例。这些测试用例涉及单击按钮以调用屏幕上的某些消息。为了抓取屏幕上的按钮，我们首先创建一个 Ranorex 按钮对象，然后使用 .将其指向适当的元素`Ranorexpath`。然后，我们使用`RanorexButton.Click()`事件来点击按钮。然而，这个事件是不可靠的。它有时有效，有时按钮未单击。当没有单击按钮时，我们必须从头开始再次运行测试用例。我们做错了什么？如果这是 ranorex 的已知问题，请提出解决方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-21T17:54:27.210

我遇到了同样的问题，但我可以通过在单击之前引入 Validate.Exists(infoObject) 来解决问题。请确保您传递按钮的 infoObject 或 Validate.Exists API 中的任何元素。

例子：

```
Validate.Exists(repo.MyApp.LoginBtnInfo);
var button = repo.MyApp.LoginBtn;
button.Click(); 
```

关于，Avinash Nigam

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T13:49:14.257

我还没有听说 Ranorex 有这样的问题，也许这只是时间问题。您可以在单击之前添加一个`Validate.Exists(yourButton)`右侧，这可以确保在成功加载按钮后执行单击。如果它是 WebElement，您也可以使用该`PerformClick()`方法而不是普通的 Click() 方法。还有不同的方法可以确保按钮位于可见区域并具有焦点，例如`EnsureVisible()`或`Focus()`方法。您将在 Ranorex 的在线 API 中找到所用适配器的可用方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-11T15:18:33.930

如果按钮不在您无需滚动即可看到的区域内，您可以使用

```
var button = repo.Buttons.button1;
button.EnsureVisible();
button.Click(); 
```

以这种方式，按钮被强制观看。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-11-02T08:12:07.053

这也可能是 xpath 和元素 Id-s 的问题。

如果您在页面被导航离开和移回时更改了元素 ID（例如，我们在 SAP 相关组件中遇到了这个问题），您可能需要使用正则表达式创建一个更健壮的 xPath 路径变量。

尝试查找不会更改的对象和路径部分（例如“iFrame id="MainContent"" 或 "btn id="ID_XXXX_Search_Button""） - 当然，这只有在问题在此范围内时才会有所帮助。

Ranorex 正则表达式信息可以在这里找到：[http ://www.ranorex.com/support/user-guide-20/ranorexpath.html#c3294](http://www.ranorex.com/support/user-guide-20/ranorexpath.html#c3294)

我正在谈论的一个简单示例：

假设我们有一个输入字段，其名称中有一个不断变化的 ID：

```
US_EL.ID_F2B49DB60EE1B68131BD662A21B3432B:V_MAIN._046A-r 
```

而且我知道 Id 中不变的部分是：

```
:V_MAIN._046A-r 
```

我可以通过不使用正则表达式更改的元素 id 的结尾来创建此搜索元素的路径：

```
/dom[@domain='test.example.com']//iframe[#'identifier']//iframe[#'identifier2']//input[@id**~'^**:V_MAIN._046A-r'] 
```

粗体部分将指定搜索 ID 以“:V_MAIN._046A-r”结尾的输入元素。

可能由此引发的一个问题是，如果您的元素使用部分相同的名称，您可能会为同一路径返回多个元素。因此，当出现此问题时，明智的做法是在路径中添加更多特定点（例如“iframe[#'identifier2']”）。

# php - 如何计算唯一访问者并在特定时间后重新计算？

> ID：14109239
> 
> 赞同：1
> 
> 时间：2013-01-01T09:16:24.397
> 
> 标签：php, counter

我有一个非常值得思考的问题，需要帮助，这是我应该遵循的最佳方式

**笔记**

我说的是 10K 点击/天

**任务**

1.  不使用过多的托管服务器资源
2.  没有让我的网站加载缓慢

**问题**

我有一个网站，可以在每个独特的访问者到来时给出一个点。

*   如果该访客自上次访问后不到 12 小时内再次来访，则他将不计算在内。
*   如果该访客在 12 小时后再次来访，他将被计为新访客，并将获得更多积分。

现在，

有很多方法可以做到这一点，但看起来它们对于流量巨大的网站来说还不够好。

如果我在每次访问的数据库中记录 IP 和时间，并且如果该访问者再次出现，那么我将按 ip 和时间进行比较。要知道是新ip的新访问者还是12小时内或12小时后访问的旧访问者。

这可能需要时间并减慢整个网站的速度。

那么任何想法或策略如何做到这一点？

我一直在考虑[跟踪](https://stackoverflow.com/questions/4001973/tracking-unique-visitors-only/4001978#comment19516731_4001978)[Glenn Nelson](https://stackoverflow.com/users/372743/glenn-nelson)最佳答案的唯一身份访问者，但在我的情况下，我需要每 12 小时重新计算一次唯一身份访问者。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:20:18.643

您是否考虑过使用 cookie？您可能会使用：

```
set cookie expire time for 12 hrs.
    if cookie_expired
        give more points
    else
        renew cookie 
```

只是一个简单的想法，我不完全确定它是否更快，但假设您有用户，无论如何您都需要一个 cookie。

# android - 在活动中禁用 SlidingMenu

> ID：14109240
> 
> 赞同：7
> 
> 时间：2013-01-01T09:16:36.253
> 
> 标签：android, android-ui, sliding

我有一个使用 SlidingMenu 的父类。并且子类扩展父类在主页图标单击时显示滑动菜单。

如何禁用子类中的滑动菜单？

**代码父类：**

```
 public class BCFragmentActivity extends SlidingFragmentActivity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
        setSlidingActionBarEnabled(true);

        setBehindContentView(R.layout.slide_menu);

        getSlidingMenu().setShadowWidthRes(R.dimen.shadow_width);
        getSlidingMenu().setShadowDrawable(R.drawable.shadow);
        getSlidingMenu().setBehindOffsetRes(R.dimen.actionbar_home_width);
        getSlidingMenu().setBehindScrollScale(0.25f);
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case android.R.id.home:
            toggle();
            return true;
        }
        return super.onOptionsItemSelected(item);
    }

} 
```

**子类代码：**

```
 public class SettingsPagerActivity extends BCFragmentActivity {

    private ActionBar actionBar;
    private ViewPager settingsPager;
    private Tab profilesTab;
    private Tab accountsTab;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_settings_pager);

        actionBar = getSupportActionBar();
        actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

        settingsPager = (ViewPager) findViewById(R.id.settingsPage);
        settingsPager.setOnPageChangeListener(pageChangeListener);

        FragmentManager fm = getSupportFragmentManager();

        profilesTab = actionBar.newTab()
                .setText("Profile")
                .setTabListener(tabListener);
        accountsTab = actionBar.newTab()
                .setText("Account")
                .setTabListener(tabListener);

        actionBar.addTab(profilesTab);
        actionBar.addTab(accountsTab);

    }

    ActionBar.TabListener tabListener = new ActionBar.TabListener() {

        @Override
        public void onTabSelected(Tab tab, FragmentTransaction ft) {
            settingsPager.setCurrentItem(tab.getPosition());
        }

        @Override
        public void onTabUnselected(Tab tab, FragmentTransaction ft) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onTabReselected(Tab tab, FragmentTransaction ft) {
            // TODO Auto-generated method stub

        }

    };

    ViewPager.SimpleOnPageChangeListener pageChangeListener = new ViewPager.SimpleOnPageChangeListener() {

        @Override
        public void onPageSelected(int position) {
            super.onPageSelected(position);
            actionBar.setSelectedNavigationItem(position);
        }

    };      

} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-05-10T06:29:31.250

我想不出一种“禁用”它的方法，但是您可以通过调用子类来删除所有功能

```
getSlidingMenu().setTouchModeAbove(SlidingMenu.TOUCHMODE_NONE); 
```

这将禁用滑动菜单的任何手势检测。如果您有一个操作栏，请在 onCreate 中执行常规操作：

```
actionBar.setDisplayHomeAsUpEnabled(true); 
```

并像没有 SlidingMenu 一样处理它：

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case android.R.id.home:
            finish();
            return true;
        default:
            return super.onOptionsItemSelected(item);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:37:13.600

尝试在您的子活动中覆盖 onBackPressed()。

```
@Override
public void onBackPressed() {
this.finish();
overridePendingTransition(0, 0);
} 
```

# javascript - JSLint 和未定义的函数

> ID：14109242
> 
> 赞同：0
> 
> 时间：2013-01-01T09:17:02.557
> 
> 标签：javascript, jquery, jslint

我很想生活在一个无棉绒的世界里。JSLint 就是这样。但是我遇到了一些我不确定是否应该忽略或修复的问题。具体来说，我得到了一些：

```
[functionName] not defined 
```

错误。我确实认识到您应该始终在使用它之前定义该函数，并且我认为这是消息真正警告的内容，但这里有两种情况，我认为有一个有效的例外：

```
jQuery(document).ready(function($) {
   // code goes here
} 
```

在一个以 jQuery 的典型无冲突包装器开头的简单文件中，我收到一条警告说“jQuery(document).ready(function($) {”没有定义。显然 jQuery 是在一个单独的文件中定义的，需要保持独立。 那有意义吗？

第二个例子非常相似，尽管可以说它更容易避免。在这种情况下，我的项目中有两个 JS 文件。一个看起来就像上面的那个（又名，它是一组 DOM 触发的事件，包装在 jQuery 的“就绪”事件中）。另一个有许多帮助函数，如下所示：

```
function doSomethingImportant() { };
function doSomethingImpressive() { }; 
```

然后在第一个 JS 文件中调用这些函数。JSLint 不喜欢这样，每次第一个 JS 文件调用第二个 JS 文件中定义的函数时都会抱怨： doSomethingImportant() { 未定义。然而实际上，由于函数是在加载时定义的，并且对这些函数的调用总是在之后基于 DOM 事件发生，因此似乎从来没有真正的问题。

无论如何，对想法持开放态度。这是过滤 JSLint 的建议还是我应该在代码中修复的情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:01:56.043

您收到这些错误是因为 JSLint 假设在将来的某个时候您可能会这样做：

```
var doSomethingImpressive = function() { } 
```

在这种情况下你会得到一个错误，因为定义函数的文件包含在函数调用之后（如此[处](https://stackoverflow.com/questions/336859/javascript-var-functionname-function-vs-function-functionname)所述）

jQuery 调用也是如此。您可以更改脚本的顺序，也可以安全地忽略错误。

# c - MapSym 在 Visual Studio 2012 中不可用

> ID：14109245
> 
> 赞同：1
> 
> 时间：2013-01-01T09:18:04.203
> 
> 标签：c, visual-studio-2010, compiler-construction

Visual Studio 2005 具有`MapSym.exe`可用于从地图文件生成符号文件的工具。我无法在我的 Visual Studio 2012 安装中找到此工具。`MapSym`不再支持/需要？

# zend-framework2 - 如何以最简单的形式使用 zf2 ACL 和 auth 存储

> ID：14109246
> 
> 赞同：1
> 
> 时间：2013-01-01T09:18:45.567
> 
> 标签：zend-framework2, acl

嗨，我需要在用户只能通过 facebook google 等第三方服务登录的情况下使用 ACL，并且他们只有两个角色来宾和用户。现在我正在使用 \Zend\Authentication\Storage\Session() 在身份验证后将用户对象存储在会话中，但我不想对我的每个操作进行检查以了解用户的状态。我想通过使用简单的访问控制列表来保持简单。我检查了许多模块，如 zfcUser 等，但它们比我实际需要的要复杂得多。我尝试构建自己的 ACL 插件，但文档不够好，zf2 ACL 的教程侧重于不同的情况。

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:26:58.237

也许这个模块可以帮助： [BjyAuthorize](https://github.com/bjyoungblood/BjyAuthorize)

这个模块旨在为 Zend\Permissions\Acl 提供一个外观，这将简化它与模块和应用程序的使用。默认情况下，它通过配置文件或使用 Zend\Db 或 Doctrine ORM 提供简单的设置。该模块还提供了对 ZfcUser 的开箱即用支持和集成。

# html - 是否可以使子元素的宽度大于其父元素？

> ID：14109249
> 
> 赞同：0
> 
> 时间：2013-01-01T09:18:59.300
> 
> 标签：html, css

我只是好奇 HTML 控件（例如：表格）是否有可能比其父控件（例如 div）具有更大的宽度并且内部控件是完全可见的？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T09:25:23.493

这是绝对可能的。您可以将元素的`overflow`css 属性设置为如下所示。`parent``visible`

```
.parent {
    # Other Properties
    overflow : visible;
} 
```

现在在这种情况下，如果子元素的宽度大于其父元素的宽度，它将是可见的。`overflow`适用于高度和宽度。要仅使高度或宽度可见，您可以使用`overflow-x`and`overflow-y`属性（名称基于 x 轴和 y 轴）。

### [试试这个工作的 JSFiddle](http://jsfiddle.net/rF98k/)

## 更新：

注意：正如[@cimmanon](https://stackoverflow.com/users/1652962/cimmanon)所说，该`overflow`属性的默认值设置为，`visible`因此您可能不需要像上面那样显式设置它。不过，我个人的偏好是明确设置它，以防我想确定它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T12:37:02.187

`width`当子元素设置为百分比或自动并`position`设置为静态或相对时，子元素的尺寸会适应其父元素。因此，如果您希望它更大，可以执行以下操作：

1.  使子元素大于父元素（通过宽度或边距）
2.  使用绝对定位
3.  不要让子元素的后代包裹（表格适合这里）

只要您不将祖先元素更改为具有隐藏事物（隐藏）的溢出，后代就会显示出来。

# iphone - Facebook iOS 在单击“确定”后返回应用程序时似乎丢失会话您已经授权应用程序

> ID：14109250
> 
> 赞同：6
> 
> 时间：2013-01-01T09:19:00.450
> 
> 标签：iphone, ios, facebook, facebook-ios-sdk

我已将我的应用程序从 Facebook SDK 2 升级到 3.1。

我在 RecordsScreen 上有一个发布按钮。如果用户没有登录 Facebook，则会出现登录页面，如果用户已经登录，则会加载另一个 nib 以提示用户输入消息以发布到他/她自己的墙上。

我已经登录了。之后，每次我点击发布按钮时，关于该应用程序的页面已经被授权，并通过点击确定询问您是否继续。单击确定后，应用程序终止并重新从头开始启动。每次单击“发布”按钮时，都会再次出现相同的页面。看起来它找不到有效的会话或令牌丢失。

我已经在模拟器和设备上对此进行了测试。发生同样的事情。部署目标是iOS5.1。

我唯一没有输入的参数是 iPhone App Store ID。这会影响上述行为吗？

我已经尝试了很多次，但找不到解决方案。

任何帮助表示赞赏。

谢谢！

aobs

* * *

1月4日编辑：

我发现每次调用 openSessionWithAllowLoginUI 时。返回状态 FBSessionStateClosedLoginFailed。登录有问题。但是自从出现“已经授权”页面以来，用户已经登录。

原因是 applicationWillTerminate 在 openSessonWithAllowLoginUI 之后立即执行。任何人都可以阐明这一点吗？

* * *

在 appDelegate.h 中，我导入了 FacebookSDK/FacebookSDK.h，在 appDelegate.m 中，实现了以下内容：

```
-(BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation {
return [FBSession.activeSession handleOpenURL:url);
}

-(void)applicationDidBecomeActive:(UIApplication *)application {
[FBSession.activeSession handleDidBecomeActive];
}

-(void)applicationWillTerminate:(UIApplication *)application {
[FBSession.activeSession close];
} 
```

mainViewController 是一个多视图控制器，它将切换 nib。

我已经实现了一个类 FBHandler 来处理 Facebook 登录/注销。FBHandler.h 包含 #import "Facebook.h" 并且 FBHandler 是一个包含

```
-(void)sessionStateChanged:(FBSession *)session state:(FBSessionState)state error:(NSError *)error {
  switch(state) {
    case FBSessionStateOpen:
        break;
    case FBSessionStateClosed:
    case FBSessionStateClosedLoginFailed:
        [FBSession.activeSession closeAndClearTokenInformation];
    default:
        break;
  }

  [[NSNotificationCenter defaultCenter]postNotificationName:FBSessionStateChangedNotification object:session];

  // If there is an error, display the alert view.  I have skipped this code.
}

-(BOOL)openSessionWithAllowLoginUI:(BOOL)allowLoginUI {
    return [FBSession openActiveSessionWithReadPermissions:nil allowLoginUI:allowLoginUI completionHandler:^(FBSession *session, FBSessionState state, NSError *error) {
        [self sessionStateChanged:session state:state error:error];
    }];
} 
```

其中一个笔尖 - RecordsScreen.xib 包含 Facebook 登录/注销按钮。在 RecordsScreen.m（用户可以看到他/她的分数以及从 Facebook 登录或注销的地方）中，将以下内容添加到 viewDidLoad：

```
fbHandler = [[FBHandler alloc] init];
[fbHandler openSessionWithAllowLoginUI:NO];

// Also, we will listen to FBSessionStateChangedNotification in viewDidLoad.  Code is skipped here.

// The implementation of sessionStateChanged in RecordsScreen:
-(void)sessionStateChanged:(NSNotification *)notification {
    if (FBSession.activeSession.isOpen) {
        if (self.facebook == nil) {
            self.facebook = [[Facebook alloc]initWithAppId:FBSession.activeSession.appID andDelegate:nil];
            self.facebook.accessToken = FBSession.activeSession.accessToken;
            self.facebook.expirationDate = FBSession.activeSession.expirationDate;
        }
    } else {
        self.facebook = nil;
    }
} 
```

在 RecordsScreen.m 中，如果用户单击登录按钮，

```
if (!FBSession.activeSession.isOpen) {
    // Login to Facebook.
    [fbHandler openSessionWithAllowLoginUI:YES];
} else {
    // If user is login, post to wall.
    [self postScoreToWall];
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-06T14:09:45.823

我发现了问题。在 plist 中，“应用程序不在后台运行”设置为 YES。设置为 NO 解决了这个问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T12:33:49.373

在您展示的代码中，您仅获得会话的基本读取权限集。至少需要调用以[`reauthorizeWithPublishPermissions:`](http://developers.facebook.com/docs/reference/ios/3.1/class/FBSession#reauthorizeWithPublishPermissions%3adefaultAudience%3acompletionHandler%3a)传递适当的权限。

我刚刚遇到了类似的问题，我通过更改两件事来解决它，在登录时我没有使用 Facebook 建议的两步权限升级方法，但我尝试使用`openActiveSessionWithPublishPermissions`.

`handleDidBecomeActive:`在尝试再次调用 sdk 之前，您还需要确保在 Facebook 登录过程结束时调用它。如果您有一系列块执行此过程的各个步骤，则可能不会发生这种情况。

我没有使用这个 sdk 的旧版本，但它看起来更直观。

# haxe - Haxe 和 NME 崩溃：“创建 pch 时出错”

> ID：14109253
> 
> 赞同：0
> 
> 时间：2013-01-01T09:19:39.970
> 
> 标签：haxe, nme

当我尝试使用 Haxe 和 NME 在 OSX Lion 上编译为 cpp 时，我得到以下回溯：

```
[...many lines above this one omitted...]
Called from ? line 1
Called from BuildTool.hx line 1265
Called from BuildTool.hx line 554
Called from a C function
Called from BuildTool.hx line 591
Called from BuildTool.hx line 710
Called from BuildTool.hx line 739
Called from BuildTool.hx line 153
Uncaught exception - Error creating pch: 256 - build cancelled 
```

我该如何解决这个错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:19:39.970

运行以下命令为我解决了这个问题：

```
sudo cp /usr/lib/haxe/lib/nme/3,4,3/ndll/Mac/tls.ndll /usr/lib/neko/tls.ndll 
```

似乎是 Haxe 的错误，但在解决之前，这应该可以解决问题。

# c - 窗口过程中的静态变量

> ID：14109257
> 
> 赞同：1
> 
> 时间：2013-01-01T09:19:49.637
> 
> 标签：c, winapi, static

我在对话框的窗口过程中创建了一个静态变量。当这个对话框关闭时（但应用程序仍在运行），静态变量`hwndChildDialog`是否被删除并且它的内存地址是空闲的？如果没有，我应该以及如何做到这一点？

```
INT_PTR CALLBACK Dialog_Preference_Proc(HWND hDlg, UINT msg, WPARAM wParam, LPARAM lParam)

{
    static HWND hwndChildDialog = CreateDialog(...);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:25:51.673

C中的`static`关键字在“静态内存”的某个位置创建变量，这意味着：变量的地址在程序的生命周期内永远不会改变，它在内存中的位置是“静态的”（因此是关键字）。因此，无论您何时何地访问该变量：它始终是它的同一个实例。

它的内存地址不会被释放。

在这种情况下，您无需执行任何操作来释放“CreateDialog”，您只需 ShowWindow 和 DestroyWindow。

# c# - 非 Linq 检查列表项的方法相同

> ID：14109258
> 
> 赞同：2
> 
> 时间：2013-01-01T09:20:01.103
> 
> 标签：c#, .net, linq, list, linqbridge

这是检查列表中所有项目是否相同的 Linq 方法。

```
if (list.Distinct().Skip(1).Any()) 
```

但不适用于早于 .NET 3.5 开发的应用程序以非 Linq 方式执行此操作的最佳最佳方法是什么。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-01T09:25:19.293

那么你可以这样做：

```
public bool AllEqual<T>(IEnumerable<T> items)
{
    // This could be a parameter if you want
    var comparer = EqualityComparer<T>.Default;
    using (var iterator = items.GetEnumerator())
    {
        if (!iterator.MoveNext())
        {
            return true; // Empty sequence
        }
        var first = iterator.Current;
        while (iterator.MoveNext())
        {
            if (!comparer.Equals(first, iterator.Current))
            {
                return false;
            }
        }
    }
    return true;
} 
```

这适用于所有序列类型，而不仅仅是列表。对于列表，它实际上稍微简单一些：

```
public bool AllEqual<T>(IList<T> items)
{
    // This could be a parameter if you want
    var comparer = EqualityComparer<T>.Default;
    for (int i = 1; i < items.Count; i++)
    {
        if (!comparer.Equals(items[0], items[i]))
        {
            return false;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-01T09:25:33.437

使用简单的 For 循环。

```
var allSame = true;
for(int i=1 ; i < list.Count ; i++)
{
   if ( list[0] != list[i] )
   { 
     allSame = false;
     break;
   }
} 
```

如果你想在 .NET 2.0 中使用 Linq，你可以使用[LinqBridge](http://www.albahari.com/nutshell/linqbridge.aspx)。

但是您的 LINQ 查询本身并不是最优的。最好是 For 循环。更好的 LINQ 查询是

```
list.Skip(1).Any( item => item != list[0]); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-01T09:46:55.103

有点短的东西：

```
public static bool AllSame<T>(List<T> list)
{
    return list.Count == 0 || list.FindAll(delegate(T x)
        { return !EqualityComparer<T>.Default.Equals(x, list[0]); }).Count == 0;
} 
```

使用新的 Framework 2.0 项目在 VS2012 上进行测试。

# c# - 在 C# 中以编程方式生成、存储和使用 X.509 证书

> ID：14109259
> 
> 赞同：0
> 
> 时间：2013-01-01T09:20:03.573
> 
> 标签：c#, sql-server, bouncycastle, x509, x509certificate2

我正在开发一个用 C# 编写的应用程序，我基本上需要充当我自己的证书颁发机构。数据流是这样的：

*   最终用户生成一个公钥/私钥对，并向我发送他们的身份证明和带有公钥的某种证书请求
*   该应用程序验证他们的 ID
*   验证完成后，应用程序会根据本地自签名根生成 X.509 证书，并将其发送给用户
*   用户使用证书签署文件，并将文件发送到应用程序
*   该应用程序根据签名验证文件，并将结果存储在 SQL Server 中。

我的问题：

*   您是否知道描述如何在不依赖外部 CA 且不调用命令行实用程序或使用 COM 对象的情况下创建和使用 X.509 证书的教程或代码示例？我看过这`X509Certificate2`门课，但 MSDN 中的示例并没有显示我所追求的。
*   是否可以使用 SQL Server 2008+ 进行一些证书处理？也许使用`CREATE CERTIFICATE FROM FILE`and `BACKUP CERTIFICATE`？
*   如果不能用标准的 Windows 库来完成，那么可以用 C# Bouncy Castle 库来完成吗？如果是这样，是否有一些好的代码示例？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T12:01:20.087

certgen 与 Bouncy Castle 的简明示例

[http://netpl.blogspot.com/2012/12/how-to-create-x509certificate2.html](http://netpl.blogspot.com/2012/12/how-to-create-x509certificate2.html)

我还写过关于签署和验证 xml 文档的博客

[http://netpl.blogspot.com/2012/12/interoperable-xml-digital-signatures-c_4247.html](http://netpl.blogspot.com/2012/12/interoperable-xml-digital-signatures-c_4247.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-02T15:09:23.837

我认为您会改变对使用命令行实用程序的想法，但假设您不这样做，我没有答案，因为我还没有这样做，但这里有一些提示。

我相信这可以通过 bouncycastle C# 库来完成。该库基本上是无证的。我要做的是先下载一个*较早的*bouncycastle Java 库的版本，例如 1.45 版。下载早期版本的原因是因为它更接近于当前的 C# 库。从 1.47 版本开始，Java API 经历了一些根本性的变化。完全下载 Java 库的原因是因为两者的大部分功能和类都是相同的，并且 Java API 至少包含可以通过 Web 浏览器阅读的 Javadocs。在使用 C# 库进行编码时，我总是手头有库的 Javadocs、Java 源代码和 C# 源代码。我知道这听起来很可怕，但也没那么糟糕。C# 源代码（以及 Java）非常易读且编写良好，因此可以取得进展。

用户的证书请求应该是 PKCS10 证书请求。有一个`Org.BouncyCastle.Pkcs.Pkcs10CertificationRequest`你应该使用的类。使用`Pkcs10CertificationRequest(byte [])`构造函数创建此类的实例。这个类的超类`Org.BouncyCastle.Asn1.Pkcs.CertificationRequest`，有一个`GetCertificationRequestInfo`返回`CertificationRequestInfo`实例的方法。这可用于提取证书请求的片段，然后您可以使用 Wiktor 的答案创建 X509 证书。

# speech-recognition - 谷歌语音识别 API 和语言模型

> ID：14109260
> 
> 赞同：1
> 
> 时间：2013-01-01T09:20:14.823
> 
> 标签：speech-recognition, speech, recognizer-intent

我从 Google 看到了未记录的语音识别 API (https://www.google.com/speech-api/v1/recognize?)

我的假设是 Android RecognizerIntent 使用相同的 API。

由于Android有能力指定语言模型（目前只有两种可用），我想知道是否可以在Google API中指定语言模型？

我想同时录制和发送语音进行识别，现在官方 API 中没有

# android - 如何在android中解析JSON文件？JSON 文件位于 WAMP 服务器中。无法执行

> ID：14109270
> 
> 赞同：1
> 
> 时间：2013-01-01T09:23:04.280
> 
> 标签：android, json, localhost, wampserver

我在 android 应用程序中进行 JSON 解析。我想解析位于 WAMP 服务器中的 JSON 文件。我正在传递 JSON 文件的 url。我在 android 代码中没有任何错误，但我不知道.. 每当我运行 android 应用程序时，它都会强制关闭。

这个 My JSONParse 类通过传递 url 来解析 JSON

```
package com.example.notificationjson;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

public class JSONParser {
    static InputStream is = null;
    static JSONObject jObj = null;
    static String json = "";

    // constructor
    public JSONParser() {

    }

    public JSONObject getJSONFromUrl(String url) {

        // Making HTTP request
        try {
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost(url);

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();           

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            json = sb.toString();
        } catch (Exception e) {
            Log.e("Buffer Error", "Error converting result " + e.toString());
        }

        // try parse the string to a JSON object
        try {
            jObj = new JSONObject(json);
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        }

        // return JSON String
        return jObj;

    }

} 
```

这是我的 JSON 文件 url：`localhost:8080/BestVoyage_PHP/webservices/notification.json` 这是我的 JSON 文件输出：`{"posts":[{"notification":"Opening shortly in Surat and Jamnagar"},{"notification":"Our New destinations are brazil, argentina, beijing, shanghai, and Scandianvian Countries"}]}`

这是我在列表视图中显示 JSON 数据的活动类

```
package com.example.notificationjson;

import java.util.ArrayList;
import java.util.HashMap;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.os.Bundle;

import android.app.ListActivity;
import android.content.Intent;

import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.SimpleAdapter;
import android.widget.TextView;
import android.widget.AdapterView.OnItemClickListener;

public class MainActivity extends ListActivity {

private static String url = "http://10.0.2.2:8080/BestVoyage_PHP/webservices/notification.json";

    // JSON Node names

    private static final String TAG_POSTS = "posts";
    private static final String TAG_NOTIFICATION = "notification";

    // contacts JSONArray
    JSONArray posts = null;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.d(url, "urlurl");
        // Hashmap for ListView
        ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

        // Creating JSON Parser instance
        JSONParser jParser = new JSONParser();

        // getting JSON string from URL
        JSONObject json = jParser.getJSONFromUrl(url);

        try {
            // Getting Array of Contacts
            posts = json.getJSONArray(TAG_POSTS);

            // looping through All Contacts
            for(int i = 0; i < posts.length(); i++){
                JSONObject c = posts.getJSONObject(i);

                // Storing each json item in variable

                String notification = c.getString(TAG_NOTIFICATION);

                // creating new HashMap
                HashMap<String, String> map = new HashMap<String, String>();

                // adding each child node to HashMap key => value

                map.put(TAG_NOTIFICATION, notification);

                // adding HashList to ArrayList
                contactList.add(map);

            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

        /**
         * Updating parsed JSON data into ListView
         * */
        ListAdapter adapter = new SimpleAdapter(this, contactList,
                R.layout.list_item,
                new String[] {TAG_NOTIFICATION}, new int[] {R.id.notification});

        setListAdapter(adapter);

        // selecting single ListView item

        ListView lv = getListView();

        // Launching new screen on Selecting Single ListItem
        lv.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {
                // getting values from selected ListItem

                String noti = ((TextView) view.findViewById(R.id.notification)).getText().toString();

                // Starting new intent
                Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);

                in.putExtra(TAG_NOTIFICATION, noti);

                startActivity(in);

            }
        });

    }

} 
```

这是日志猫：

```
01-01 23:10:37.105: D/AndroidRuntime(730): Shutting down VM
01-01 23:10:37.105: W/dalvikvm(730): threadid=1: thread exiting with uncaught exception (group=0x40015560)
01-01 23:10:37.125: E/AndroidRuntime(730): FATAL EXCEPTION: main
01-01 23:10:37.125: E/AndroidRuntime(730): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.notificationjson/com.example.notificationjson.MainActivity}: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.os.Handler.dispatchMessage(Handler.java:99)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.os.Looper.loop(Looper.java:123)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.ActivityThread.main(ActivityThread.java:3683)
01-01 23:10:37.125: E/AndroidRuntime(730):  at java.lang.reflect.Method.invokeNative(Native Method)
01-01 23:10:37.125: E/AndroidRuntime(730):  at java.lang.reflect.Method.invoke(Method.java:507)
01-01 23:10:37.125: E/AndroidRuntime(730):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
01-01 23:10:37.125: E/AndroidRuntime(730):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
01-01 23:10:37.125: E/AndroidRuntime(730):  at dalvik.system.NativeStart.main(Native Method)
01-01 23:10:37.125: E/AndroidRuntime(730): Caused by: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.ListActivity.onContentChanged(ListActivity.java:243)
01-01 23:10:37.125: E/AndroidRuntime(730):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:210)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.Activity.setContentView(Activity.java:1657)
01-01 23:10:37.125: E/AndroidRuntime(730):  at com.example.notificationjson.MainActivity.onCreate(MainActivity.java:40)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
01-01 23:10:37.125: E/AndroidRuntime(730):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
01-01 23:10:37.125: E/AndroidRuntime(730):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T18:11:47.377

它来自您的界面 XML，如果您要扩展 ListActivity，您的 ListView 必须称为 list。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T18:14:11.180

当您的活动开始时，问题已经发生（还没有涉及 JSON 解析）。你已经扩展了`ListActivity`课程。此类要求您`android.R.id.list`在布局中定义一个带有 id 的 ListView。

您可以从 logcat 中的这一行看到这一点：

```
Caused by: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list' 
```

# php - Joomla 限制

> ID：14109272
> 
> 赞同：1
> 
> 时间：2013-01-01T09:23:39.937
> 
> 标签：php, joomla

这是我第一次使用Joomla，我需要创建一个具有基本功能的网站，例如关于我们，产品，登录，带有验证码和购物车的联系方式（但它不会链接到支付网关，它只会发送邮件到一个客户感兴趣的项目），这些东西在 Joomla 中是可行的，还是直接编写 PHP 代码更好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-22T11:18:33.710

Joomla 非常适合您概述的要求，但有几点值得注意：

1.  Joomla 已经是一个强大而完整的 CMS 解决方案。您不一定需要自定义代码来实现您想要的。

2.  Virtuemart 是一个复杂且可以说是繁琐的电子商务插件（Joomla 术语中的“组件”）。有一些更简单的附加组件可能更适合您的目的，并且学习曲线更轻松。“J2商店”浮现在脑海中。这是一个很好的起点：[http ://extensions.joomla.org/category/e-commerce](http://extensions.joomla.org/category/e-commerce)

3.  如果您已经有一个设计并希望将其转换为在 Joomla 中使用，您需要考虑一些因素，例如您的网站是否具有响应性，以及不同的部分是否需要独特的样式或布局。如果您对您的项目有预算，您甚至可以付费将您的设计转换为 Joomla 模板，让您只需点击几下即可安装它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:18:45.780

是的，您可以使用 Joomla 完成所有要求。我已经做 Joomla 很长时间了。

据我所知，可以为您完成工作的最佳插件是[**VirtueMart**](http://virtuemart.net/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T12:49:02.577

使用 VirtueMart（我最喜欢的）和 K2 Store，您可以满足您的所有要求。

你不能导入 html 和 css，因为 joomla 模板有不同的结构。

为了定制你的模板，我建议使用默认的 Joomla 模板（现在 2.5 的扩展比 3.0 更多）。如果您不知道从哪里开始，请查看模板位置，并尝试根据您的设计/布局更改 css。joomla 模板必须具有：

```
 mynewtemplate/ 
          css/
              template.css 
          images/
          index.php
          templateDetails.xml 
```

# java - 以编程方式刷新 spring mvc 资源包

> ID：14109274
> 
> 赞同：3
> 
> 时间：2013-01-01T09:24:03.110
> 
> 标签：java, spring, spring-mvc, resourcebundle

ResourceBundleMessageSource 消息在 Spring 的配置文件中配置为

```
<bean id="messageSource"
  class="org.springframework.context.support.ResourceBundleMessageSource"
  p:basenames="WEB-INF/strings/appstrings" /> 
```

每当我更改该属性文件中的任何消息时，我都必须重新启动服务器。

我想在我的应用程序中以编程方式阅读这些更新的消息，而无需重新启动服务器。

如何`@Controller`在运行时的应用程序之一中以编程方式阅读这些消息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T10:04:54.363

春天有一个 ReloadableResourceBundleMessageSource （[http://static.springsource.org/spring/docs/3.2.x/javadoc-api/org/springframework/context/support/ReloadableResourceBundleMessageSource.html](http://static.springsource.org/spring/docs/3.2.x/javadoc-api/org/springframework/context/support/ReloadableResourceBundleMessageSource.html)）应该做你想做的事。

您可以在 stackoverflow 上找到更多信息：

*   [如何注入 Spring ReloadableResourceBundleMessageSource](https://stackoverflow.com/questions/728455/how-to-inject-spring-reloadableresourcebundlemessagesource)
*   [如何注入 Spring ReloadableResourceBundleMessageSource](https://stackoverflow.com/questions/728455/how-to-inject-spring-reloadableresourcebundlemessagesource)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:33:57.510

在 applicationContext.xml 文件中定义您的 ResourceBundle 属性，例如：

```
<!-- Message Source for appstrings -->
<bean id="messageSource"
    class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
    <property name="basename" value="WEB-INF/strings/appstrings" />

</bean> 
```

在您的 Java 类/控制器中，将其自动连接为：

私有 ReloadableResourceBundleMessageSource 消息源；

```
 @Autowired
  public void setMessageSource(MessageSource messageSource) {
    this.messageSource = (ReloadableResourceBundleMessageSource) ((DelegatingMessageSource) messageSource).getParentMessageSource();
  } 
```

然后在该类/控制器的任何函数中调用 clearCache()。

```
messageSource.clearCache(); 
```

我在控制器中遇到了这个异常

```
ReloadableResourceBundleMessageSource incompatible with org.springframework.context.support.DelegatingMessageSource 
```

当您尝试通过控制器中的 messageSource 运行它时，您什么都没有，空字符串。如果你仔细观察，你会发现你的 messageSource 属性中有一个 DelegatingMessageSource，它的父源为空，这意味着它是 EMPTY，即总是返回空白。

这是这个小挑战的解决方案：将你的 messageSource 定义从 spring-servlet.xml 移动到 applicationContext.xml！

[阅读更多..](http://www.imrantariq.com/blog/?p=950)

# git - 如果我们是有效用户，我们可以克隆存储库吗？

> ID：14109275
> 
> 赞同：3
> 
> 时间：2013-01-01T09:24:29.383
> 
> 标签：git

我是 Git 新手，如果这是一个愚蠢的问题，请原谅。

在我们的组织中，我们使用 Git 作为我们的存储库，我可以在我的办公室机器上做`git checkin`, `checkout`, `pull`, ... 。

我们的 Git 存储库 URL 是这样的（但由于限制，我不能粘贴原始 URL）：`git@github.com:test/hkin.git`

我的问题是：我可以`clone`//把上面的存储库放到我的个人机器上吗？（我有 git 用户名和密码）`checkout``fetch`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T13:18:06.900

请记住，Git 本身不进行任何身份验证（通过[本地或 git 守护程序协议](http://git-scm.com/book/ch4-1.html)）。
您需要一个侦听服务（https 或 ssh）进行身份验证，*然后*将您的 git 请求传递给 git 本身（连同您的 id），或传递给[像 gitolite 这样的授权层](http://sitaramc.github.com/gitolite/auth.html)（反过来，调用或不调用 git ，授权或拒绝您的请求）。

因此，与其说是 git 问题，不如说是[WAN（广域网）](http://en.wikipedia.org/wiki/Wide_area_network)访问问题。

通常，公司网络对外界是封闭的，只允许通过[VPN（虚拟专用网络）](http://en.wikipedia.org/wiki/VPN)进行外部连接，首先使用[SecurID 令牌](http://www.bbc.co.uk/news/technology-13681566)访问。

![SecurId 令牌](../Images/9dea18fdc1678a7dad4996bce34d2cc4.png)

然后输入您常用的登录名/密码，以便在（例如）[Citrix 场上](http://www.smali.net/administrators/install-citrix-secure-gateway.html)打开连接。

![在此处输入图像描述](../Images/da0378658082b25e6937d4f4c7302c0b.png)

然后，如果授权，您可以将[mstsc](http://technet.microsoft.com/en-us/library/cc753907%28v=ws.10%29.aspx)（[远程桌面连接](http://en.wikipedia.org/wiki/Remote_Desktop_Protocol)）连接到您自己的工作站。
从那里开始，您就有了执行 git 操作的适当环境。

这只是外部访问管理的一个示例，但我经常在大公司中看到这种设置。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T09:27:23.337

取决于您的个人计算机是否能够连接到托管 Git 存储库的计算机。（如果您的办公室机器通过内部网络与 Git 存储库的机器通信，您的个人家用计算机可能无法访问它。）

# java - 如何使用支柱 和 一起？

> ID：14109276
> 
> 赞同：2
> 
> 时间：2013-01-01T09:24:37.807
> 
> 标签：java, jsp, struts2, ognl

我有名为`allAlbums`和的对象列表`allPhotos`。现在我想显示每个相册中的所有照片，所以我使用了以下方法。我的代码是

```
<s:iterator value="allAlbums">
  <s:iterator value="allPhotos">
    <s:if test="%{#allAlbums.albumid == #allPhotos.albumid}">
      <s:property value="photourl"/>
    </s:if>
  </s:iterator>                             
</s:iterator> 
```

但它不起作用。任何建议我做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T15:37:58.050

确保您的两个对象都有适当的 getter/setter，然后您可以使用 OGNL 提供的称为投影的功能。

```
<s:iterator value="allAlbums" var="album">
  <s:iterator value="allPhotos.{? #this.albumid == #album.albumid}">
      <s:property value="photourl"/>
  </s:iterator>                             
</s:iterator> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T10:21:59.587

您引用了错误的对象。`var`为您要引用的记录定义一个属性，并改为引用它。

```
<s:iterator var="album" value="allAlbums">
  <s:iterator var="photo" value="allPhotos">
    <s:if test="#album.id == #photo.albumId">
      <s:property value="photoUrl"/>
    </s:if>
  </s:iterator>                             
</s:iterator> 
```

# php - 表单字段上输入的文本出现在图像上

> ID：14109278
> 
> 赞同：-1
> 
> 时间：2013-01-01T09:25:00.650
> 
> 标签：php, javascript, jquery, image, forms

尝试以多种不同方式搜索此问题，但我无法找到解决方案。很抱歉没有任何代码可以提前使用。

这就是我所设想的......

**第 1 步：**用户在文本字段中输入“Andrew”

**第 2 步：**文本出现在图像上的某个位置。

例如，图像是“我的名字是***_* _** ”字样的图片。“安德鲁”字样将出现在空白处。

**第 3 步：**用户可以将图像下载为 .png

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:01:23.143

```
 <!DOCTYPE html>
    <html>
    <head><title></title></head>
    <script type="text/javascript">
    function move(params)
    {

   var txt = document.getElementById(params.id).value;
   alert(txt);
   var ele = document.getElementById("myimage");
   document.getElementById("myimage").innerHTML += txt;

   //set your corresponding position
   ele.style.position = 'absolute';
   ele.style.left     = 100+'px';
   ele.style.top      = 100+'px';
     }
     </script>
  <body>
  <input type="text" id="itext"/>
  <input type="button" id="ibutton" text="move" value="move"   onclick="move({id:'itext'});"/>
   <div id="myimage">sss</div>
  </body>
    </html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:33:29.297

我总是在服务器端使用 imagemagick 进行图像处理

[http://www.imagemagick.org/Usage/text/](http://www.imagemagick.org/Usage/text/)

如果您在服务器上没有 root 权限，您也可以使用 php 的图像功能

[http://php.net/manual/en/function.imagestring.php](http://php.net/manual/en/function.imagestring.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T09:34:28.603

您可以通过使用 canvas html5 元素来实现这一点。有了它，您可以将现有图像加载到画布中

```
canvas.drawImage(image, dx, dy) 
```

然后您可以在某个位置以相同的字体绘制文本。在这里，您可以找到有关[画布](http://www.w3schools.com/html/html5_canvas.asp)的更多信息以及有关使用它的[教程。](http://diveintohtml5.info/canvas.html#text)

# jquery - 在 2 个链接之间单击时出现错误警报框

> ID：14109284
> 
> 赞同：0
> 
> 时间：2013-01-01T09:25:29.173
> 
> 标签：jquery

当我在两个链接之间单击时，我似乎收到了随机警报，并且返回的只是一个警报，内容为`error`. 控制台中没有记录 javascript 错误。每次我在链接之间移动时执行的代码是

```
jQuery.validator.setDefaults({
    errorElement: "p",
    errorClass: "s_error_msg",
    errorPlacement: function(error, element) {
        error.insertAfter(element);
    },
    highlight: function(element, errorClass, validClass) {
        $(element).addClass("error_element").removeClass(validClass);
        $(element).parent("div").addClass("s_error_row");
    },
    unhighlight: function(element, errorClass, validClass) {
        $(element).removeClass("error_element").addClass(validClass);
        $(element).parent("div").removeClass("s_error_row");
    }
});
$("#login").validate();​ 
```

什么可能导致出现此类警报，我需要修复什么？

**编辑**

我在遍历互联网时遇到了类似的错误，但我一生都无法弄清楚。如果您多次在登录和注册之间来回切换，则会引发错误 - [https://shoppica2.com/index.php?route=account/login](https://shoppica2.com/index.php?route=account/login)

**编辑**

我附上了错误的图片。我没有打电话给 Facebook，但仍然遇到同样的错误。

![在此处输入图像描述](../Images/9dbadbb875a65f437718ffc71d4aff2c.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T21:18:20.520

使用 Safari，我终于看到了只包含单词的警告框，`"error"`。我可以 100% 肯定地说，该`.validate()`插件与此完全无关。jQuery Validate 插件不会触发`alert`框。

你有没有注意到这个词在[这个 Facebook 代码](http://connect.facebook.net/en_US/all.js)`"error"`中出现了五次？此外，您会在直接从此 Facebook 代码触发的控制台中收到 JavaScript 错误。只需删除 Facebook 代码的所有痕迹即可查看问题是否解决。`FB.getLoginStatus() called before calling FB.init().`

# asp.net - ModalPopupExtender 不显示并显示空白页

> ID：14109287
> 
> 赞同：0
> 
> 时间：2013-01-01T09:25:45.653
> 
> 标签：asp.net, asp.net-ajax, modalpopupextender

> 嗨，我在模型弹出扩展器上遇到了问题，因为我使用它很好，我的代码做得很好。但是当我测试它时它没有显示只出现空白页。

```
<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="cc1" %> 
```

.ModalPopupBG { 背景颜色：#666699; 过滤器：阿尔法（不透明度= 50）；不透明度：0.7；宽度：500px；高度：300px；}

```
 .btnadd
    {
        background-image: url('Content/Images/add.png');
        height: 27px;
        width: 78px;
        border: none;
        background-repeat: no-repeat;
        cursor: pointer;
    }
    .calhover
    {
        cursor: pointer;
        vertical-align: baseline;
    }
    .z
    {
        clear: both;
        height: 1px;
    }
    .tile
    {
        background-image: url('Content/Images/tile.png');
        background-repeat: repeat-y;
        width: 437px;
        background-position: right;
        color: White;
        font-weight: bold;
    }
    .activetab
    {
        background-color: Green;
        font-size: 50px;
    }
    .accordion
    {
        width: 770px;
    }

    .accordionHeader
    {
        border: 1px solid #2F4F4F;
        color: white;
        background-color: #2E4d7B;
        font-family: Arial, Sans-Serif;
        font-size: 12px;
        font-weight: bold;
        padding: 5px;
        margin-top: 5px;
        cursor: pointer;
    }

    .accordionHeaderSelected
    {
        border: 1px solid #2F4F4F;
        color: white;
        background-color: #5078B3;
        font-family: Arial, Sans-Serif;
        font-size: 12px;
        font-weight: bold;
        padding: 5px;
        margin-top: 5px;
        cursor: pointer;
    }

    .accordionContent
    {
        background-color: #D3DEEF;
        border: 1px dashed #2F4F4F;
        border-top: none;
        padding: 5px;
        padding-top: 10px;
    }
</style>
<script type="text/javascript">
    function ValidateCheckBox1(sender, args) {
        if (document.getElementById("<%=CheckBox1.ClientID %>").checked == true) {
            args.IsValid = true;
        } else {
            args.IsValid = false;
        }
    }
</script>
<script type="text/javascript">
    function ValidateCheckBox2(sender, args) {
        if (document.getElementById("<%=CheckBox2.ClientID %>").checked == true) {
            args.IsValid = true;
        } else {
            args.IsValid = false;
        }
    }
</script>
<script type="text/javascript">
    function ValidateCheckBox3(sender, args) {
        if (document.getElementById("<%=CheckBox3.ClientID %>").checked == true) {
            args.IsValid = true;
        } else {
            args.IsValid = false;
        }
    }
</script> 
```

```
 <ContentTemplate>
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td class="body_con ">
                        <div class="bf_body_d">
                            <table width="98%" border="0" align="center" cellpadding="0" cellspacing="0">
                                <tr valign="top">
                                    <td>
                                        &nbsp;
                                    </td>

                                    <td class="body_content" valign="top">
                                        <table width="100%" border="0" align="center" cellpadding="2" cellspacing="3">
                                            <tr>
                                                <td style="border: #3399FF">
                                                    <table width="100%" border="0" cellspacing="3" cellpadding="2">
                                                        <tr>
                                                            <td width="100%" class="style1" align="left">
                                                                <h3 style="color: Gray; font-size: large;">
                                                                    Questions</h3>
                                                                <h2>
                                                                    Please be aware that your answer on both questions might be used by HR to screen
                                                                    your application.</h2>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="style1" align="left">
                                                                <asp:DataList ID="Dl_Question" runat="server" OnItemDataBound="Dl_Question_ItemDataBound"
                                                                    OnItemCommand="Dl_Question_ItemCommand">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lbl_QID" runat="server" Text='<%# Eval("ID") %>' Visible="false"></asp:Label><br />
                                                                        <asp:Label ID="Lbl_Question" runat="server" Text='<%# Eval("Question") %>'></asp:Label><br />
                                                                        <textarea id="Txt_Answer" cols="75" rows="3" runat="server"></textarea>
                                                                        <asp:RequiredFieldValidator ID="RequiredFieldValidator22" runat="server" ControlToValidate="Txt_Answer"
                                                                            ErrorMessage="*" Display="Dynamic" SetFocusOnError="True" ForeColor="Red" ValidationGroup="question">*</asp:RequiredFieldValidator>
                                                                    </ItemTemplate>
                                                                </asp:DataList>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td width="100%" class="style1" align="left" valign="top">
                                                                <h3 style="color: Gray; font-size: medium;">
                                                                    Upload Your CV
                                                                </h3>
                                                                <asp:FileUpload ID="FU_CV" runat="server" />
                                                                <asp:CustomValidator ID="CustomValidator" runat="server" ControlToValidate="FU_CV"
                                                                    ErrorMessage="File size should not be greater than 4 MB." OnServerValidate="CustomValidator1_ServerValidate"></asp:CustomValidator>
                                                                <asp:RequiredFieldValidator ID="RequiredFieldValidator22" runat="server" ControlToValidate="FU_CV"
                                                                    ErrorMessage="*" Display="Dynamic" SetFocusOnError="True" ForeColor="Red" ValidationGroup="question">*</asp:RequiredFieldValidator>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td valign="top">
                                                                <div>
                                                                    <asp:Panel ID="Panel2" runat="server">
                                                                        <h2 style="color: Blue; font-size: medium;">
                                                                            Please certify the information supplied before submitting your CV by checking the
                                                                            checkbox below .</h2>
                                                                        <h2 class="dark_gray">
                                                                            <asp:CheckBox ID="CheckBox1" runat="server" />
                                                                            <span>I certify that all answers given herein are true and complete.
                                                                                <asp:CustomValidator ID="CustomValidator1" runat="server" ForeColor="Red" ErrorMessage="*"
                                                                                    ClientValidationFunction="ValidateCheckBox1" ValidationGroup="question"></asp:CustomValidator>
                                                                            </span>
                                                                            <br />
                                                                            <asp:CheckBox ID="CheckBox2" runat="server" />
                                                                            <span>I authorize investigation of all statements contained in this application for
                                                                                employment as may be necessary in arriving at an employment decision.
                                                                                <asp:CustomValidator ID="CustomValidator2" runat="server" ForeColor="Red" ErrorMessage="*"
                                                                                    ClientValidationFunction="ValidateCheckBox2" ValidationGroup="question"></asp:CustomValidator></span>
                                                                            <br />
                                                                            <asp:CheckBox ID="CheckBox3" runat="server" />
                                                                            <span>I hereby certify that all the above data is true and correct. If proven otherwise,
                                                                                I will be dismissed without any notice or commitment from the employer.
                                                                                <asp:CustomValidator ID="CustomValidator3" runat="server" ForeColor="Red" ErrorMessage="*"
                                                                                    ClientValidationFunction="ValidateCheckBox3" ValidationGroup="question"></asp:CustomValidator>
                                                                            </span>
                                                                        </h2>
                                                                    </asp:Panel>
                                                                    <div align="center" style="padding-top: 10px;">
                                                                        <asp:ImageButton ID="preup" runat="server" ImageUrl="~/Content/Images/down.png" OnClick="preup_Click" />
                                                                        <asp:ImageButton ID="BT_submit" runat="server" ImageUrl="~/Content/Images/finish.png"
                                                                            OnClick="BT_submit_Click" ValidationGroup="question" /></div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                </td>
                                                <td>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <!--  Kareem end here plz -->
                                </tr>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
        </ContentTemplate>
    </cc1:TabPanel>
</cc1:TabContainer>
<cc1:ModalPopupExtender ID="modalpopup" runat="server" OkControlID="btnOkay" TargetControlID="hfield"
    PopupControlID="display" PopupDragHandleControlID="PopupHeader" Drag="true" BackgroundCssClass="ModalPopupBG">
</cc1:ModalPopupExtender>
<asp:HiddenField ID="hfield" runat="server" />
<asp:Panel ID="display" Style="display: none" runat="server">
    <div>
        <img src="Content/Images/warning.png" />
    </div>
    <div align="center">
        <input id="btnOkay" type="button" value="OK" />
    </div>
</asp:Panel> 
```

```
 protected void BT_submit_Click(object sender, ImageClickEventArgs e)
{

    string File = "~/CvFiles/" + FU_CV.FileName;
    if (FU_CV.FileBytes.Length > 4194304)
    {
        modalpopup.Show();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:52:18.083

我在添加时已经解决了这个问题`TargetControlID`，`hidden field's ID`但是当我用提交按钮的 ID 替换它时，`"BT_submit"`它运行良好。

# amazon-web-services - TTL=0 的 Amazon S3 和 Cloudfront 测试程序

> ID：14109288
> 
> 赞同：2
> 
> 时间：2013-01-01T09:25:50.593
> 
> 标签：amazon-web-services, amazon-s3, amazon-cloudfront

我想测试一下，看看我的 TTL=0 确实有效。
我所拥有的：
挂载到我的 redhat 目录中的 S3 存储桶。因此，当我从 shell 编辑一个简单的 txt 文件时，我可以在 aws 控制台存储桶管理器中打开它并查看该文件。我还创建了云端分发，因此我可以从云端链接打开 txt 文件。
测试：
我使用 telnet 编辑 txt 文件，然后从 S3 存储桶部分的 aws 控制台打开它，我看到文件已更改，但是当我在云端链接上打开文件时，它没有更改。这意味着 TTL=0 不起作用。

我如何验证 TTL=0 是否有效？它设置正确吗？创建分发后，我找不到再次编辑 TTL 的位置。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T09:39:42.447

引用[AWS](http://aws.amazon.com/about-aws/whats-new/2012/03/19/amazon-cloudfront-lowers-minimum-expiration-period/)：

> 请注意，我们的默认行为没有改变；如果未设置缓存控制标头，则每个边缘位置将继续使用 24 小时的到期期限，然后再检查源以查找对该文件的更改。您还可以继续使用 Amazon CloudFront 的失效功能使文件早于该文件上设置的 TTL 到期。

您可能没有正确设置缓存控制。确认这一点的一种方法是[启用 S3 存储桶日志记录](http://www.newvem.com/how-to-enable-and-use-s3-bucket-access-logging/)- 每当您的 S3 存储桶中有新的 HTTP GET 时，新文件就会出现，即使它们来自 CloudFront。

您还可以使用 curl （或[s3curl](http://aws.amazon.com/code/128)）直接测试 S3，以便正确跟踪其标题。

我的建议是，每当您上传新内容时，都要强制 CloudFront 无效。如果您使用 s3fs 之类的工具，那么 inotify/icron 可能会对您有所帮助

（免责声明：我完全讨厌将文件系统映射到 S3 的整个想法。它们是完全不同的工具，你可能会得到“泄漏的抽象”）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-01T10:43:34.593

您很可能没有从 S3 发送任何 TTL 标头。CloudFront 将在源文件中查找 TTL 标头，如果未找到任何内容，则默认为 24​​ 小时。

您可以设置存储桶策略或使用 S3 浏览器等工具自动设置标头。[http://s3browser.com/automatically-apply-http-headers.php](http://s3browser.com/automatically-apply-http-headers.php)

如果您只是想测试，那么我将按照以下步骤操作。

*   在您的存储桶中创建一个新的文本文件
*   通过 AWS 控制台，找到文件并检查和/或添加缓存标头
*   从 CloudFront 检索文件
*   更改存储桶中的文件
*   在 AWS 控制台中检查新文件的标头（您的 S3 映射实用程序可能会删除以前的文件标头）
*   从 CloudFront 检索新更改的文件

如果您每月进行大量编辑，则针对每个请求向 CloudFront 发送无效调用可能需要付费。加上失效需要几分钟（有时 20 分钟或更长时间）才能传播，这意味着您永远无法立即更改您的内容。

# php - 如何像在 Twitter 上一样在后台显示存储在数据库中的重复图像？

> ID：14109295
> 
> 赞同：-1
> 
> 时间：2013-01-01T09:26:52.193
> 
> 标签：php, html, css, image, temporary-files

我想以与 Twitter 相同的方式在背景上显示图像（通过使用 CSS 重复），但问题是我从 MySQL 数据库中检索它，而 CSS 无法处理`src`背景上的标签。

如何从 MySQL 数据库中检索图像（我知道如何通过从数据库中检索来显示图像，但在这里我想以不同的方式显示它），即将图像显示为主体上的背景，并且图像应该像使用 CSS`repeat`语句一样重复. 就像在 twitter.com 上一样。

我的代码在 PHP 和 MySQL 中。我需要获取此图像的 URL，因为该图像是从数据库中检索的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:41:52.630

您可以分两步执行此操作。

创建一个 PHP 脚本，该脚本接受参数以通过唯一 ID 进行标识，该 ID 具有要显示的图像。该脚本将从数据库中提取图像并发送具有适当 mime 类型的代码，以便浏览器理解。这样，将一个类应用到容器（或 body 标签）并显示背景，如下所示：

```
.backgroundTile { background-image: url('/path/to/php-image-render-script.php?image_id=1212') !important; background-repeat: repeat; } 
```

示例 PHP 脚本（[*来源*](http://cookbooks.adobe.com/post_Display_an_image_stored_in_a_database__PHP_-16637.html)[- http://cookbooks.adobe.com/post_Display_an_image_stored_in_a_database_PHP -16637.html](http://cookbooks.adobe.com/post_Display_an_image_stored_in_a_database__PHP_-16637.html) *）：*

 *```
<?php require_once('Connections/testConn.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
  if (PHP_VERSION < 6) {
    $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
  }

  $theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

  switch ($theType) {
    case "text":
      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
      break;    
    case "long":
    case "int":
      $theValue = ($theValue != "") ? intval($theValue) : "NULL";
      break;
    case "double":
      $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
      break;
    case "date":
      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
      break;
    case "defined":
      $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
      break;
  }
  return $theValue;
}
}

$colname_getImage = "-1";
if (isset($_GET['image_id'])) {
  $colname_getImage = $_GET['image_id'];
}
mysql_select_db($database_testConn, $testConn);
$query_getImage = sprintf("SELECT mimetype, image FROM images WHERE image_id = %s", GetSQLValueString($colname_getImage, "int"));
$getImage = mysql_query($query_getImage, $testConn) or die(mysql_error());
$row_getImage = mysql_fetch_assoc($getImage);
$totalRows_getImage = mysql_num_rows($getImage);
header('Content-type: ' . $row_getImage['mimetype']);
echo $row_getImage['image'];
mysql_free_result($getImage);
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T09:36:27.877

您不能重复`<img src="#" />`，因为您需要在 PHP 文档中使用 CSS，您可以这样做

```
<style>
body {
   background-image: url('<?php echo $whatever; ?>') !important;
   background-repeat: repeat;
}
</style> 
```

你可以做的是

制作带有`.php`扩展名的样式表。

比`<link rel='stylesheet' type='text/css' href='css/stylesheet.php' />`

在页面顶部提到这一点

```
<?php
    header("Content-type: text/css; charset: UTF-8");
?> 
```

现在您可以相应地设置变量

```
<?php
    header("Content-type: text/css; charset: UTF-8");
    $background = "$imgsrc"; /* Retrieve your image here */

    /*Now simply use the $background variable for setting the body background */
?> 
```*

# php - 如何检查我的 php 版本是否会理解 DIRECTORY_SEPARATOR 如果它的版本依赖

> ID：14109301
> 
> 赞同：0
> 
> 时间：2013-01-01T09:27:36.223
> 
> 标签：php, directory

我不确定我的代码托管在哪个平台上，所以我在我的代码中使用了目录分隔符。

我跟着这个链接 - [how-to-get-a-platform-independent-directory-separator-in-php](https://stackoverflow.com/questions/6654157/how-to-get-a-platform-independent-directory-separator-in-php)

但接受的答案不是我想要的（字符串替换）。虽然我一直在寻找另一个带有“DIRECTORY_SEPARATOR”的解决方案，但我担心的是当我在 -> [dir.constants检查文档时](http://php.net/manual/en/dir.constants.php)

他们说 -`The constants below are defined by this extension, and will only be available when the extension has either been compiled into PHP or dynamically loaded at runtime.`

因此，从哪里可以检查此扩展程序是否可用，我从`phpinfo()`方法检查但无法在其下找到，如何找到它是否已安装？. 如果它全部可用，我是否可以继续使用这个虚拟代码 -

```
$headurl = $_SERVER['SERVER_NAME'].'/'.'backgroundimage.jpg'; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T09:38:04.450

这些常量依赖于扩展，但它现在是 PHP 的一部分。请参阅[dir.installation](http://php.net/manual/en/dir.installation.php)。

> 无需安装即可使用这些功能；**它们是 PHP 核心的一部分**。

即使在[要求](http://php.net/manual/en/dir.requirements.php)中也说明了

> 构建此扩展不需要外部库。

所以你不必担心它。每个平台都会支持这个常量

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-01T09:45:10.507

**DIRECTORY_SEPARATOR**是预定义的常量，从一开始就在所有 PHP 版本中可用，以确保跨操作系统文件系统的兼容性。你可以使用它。

注意：这也在您的参考[http://php.net/manual/en/dir.constants.php](http://php.net/manual/en/dir.constants.php)中指出（通过缺少*“自 PHP xxx 起可用”*。例如 PATH_SEPARATOR 是*“自 PHP 4.3.0 起可用。”*） .

# assembly - PE 文件将空字节添加到 .text 部分

> ID：14109305
> 
> 赞同：0
> 
> 时间：2013-01-01T09:28:12.173
> 
> 标签：assembly, patch, portable-executable

我有一个 exe，我需要增加其 .text 部分的大小。使用 LORDPE 更改虚拟地址和原始地址，但很难在哪里附加空字节？我需要重新分配以下每个部分吗？

有类似任务的工具吗？按照这些链接

[图2](http://www.hellboundhackers.org/articles/842-Evading-Anti-Virus-Detection.html)

[tut1](http://www.woodmann.com/forum/archive/index.php/t-14938.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T11:41:56.973

您必须做什么取决于要添加到该部分的字节数和该部分的状态。如果您只添加几个字节并且该部分的间隙大到足以包含要添加的字节，那么您只能更改该部分的大小，而不是它的地址。如果节中没有间隙或间隙不足以容纳新字节，则必须添加新节。

# asp.net-mvc - 无法使用 ajax post 发布文件

> ID：14109307
> 
> 赞同：0
> 
> 时间：2013-01-01T09:28:14.550
> 
> 标签：asp.net-mvc, jquery

我们使用 ASP.Net Mvc 4.0。

我的目标是保存一个包含普通输入字段和文件输入字段的表单。我应该能够在发布时添加额外的数据。我应该能够对“Ajax Post 的成功”执行一些操作。

我们使用 ajax post 来发布表单数据，就像我们可以完成上述 2 一样，但是在序列化和将文件发布到服务器时失败。

每当我们使用 ajax post 发布时，总是 Request.Files.Count == 0，当我签入我的控制器的 Post Action 时。

我使用的ajax帖子是：

```
        函数 PostData(formId, eventSource, eventName, eventArgs, controlId) {
   var $dialogForm = $("#" + formId + "Form");

   fdata = $dialogForm.serialize();
   fdata = fdata + '&eventSource=' + eventSource + "&eventName=" + eventName + '&eventArgs=' + eventArgs;

    $.ajax({
        网址：$dialogForm.attr("action"),
        类型：$dialogForm.attr("method"),
        缓存：假，
        数据：fdata，
        成功：函数（结果）{
            过程事件（结果）；
        }
    });
}

```

请为此提供我一个解决方案！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:37:50.517

好吧，当您使用 ajax 的概念时，您无法上传文件。但是有一些调整用于使用 ajax 上传文件和表单数据。每当在表单中遇到文件类型时，可以将表单数据连同文件一起复制到 iframe 并且可以提交 iframe，这让您感觉文件已与使用 ajax 的其他表单数据一起上传。

jquery 中有各种可用的插件可以为您简化这项任务。我最喜欢的一种是ajax形式

```
http://malsup.com/jquery/form/#file-upload 
```

你可以用这个..

# ruby-on-rails - rails 和 pdfkit 无法从控制器生成 pdf

> ID：14109309
> 
> 赞同：1
> 
> 时间：2013-01-01T09:28:59.000
> 
> 标签：ruby-on-rails, pdfkit

我在使用 pdf_kit gem 生成 PDF 文件时遇到问题。如果我在我的应用程序控制台中运行这些命令（RAILS_ENV=production rails c）：

```
kit = PDFKit.new(html, :page_size => 'Letter')
file = kit.to_file('./demo.pdf') 
```

我可以看到正确生成的 pdf 文件，但是如果我在动作控制器上尝试同样的事情，这样：

```
kit = PDFKit.new("ciao")
kit.to_file('/root/app/bidimal/demo1.pdf') 
```

我在 production.log 中收到此错误

```
RuntimeError (command failed: "/root/.rbenv/shims/wkhtmltopdf" "--encoding" "UTF-8" "--page-size" "A4" "--margin-top" "0.25in" "--margin-right" "0.25in" "--margin-bottom" "0.25in" "--margin-left" "0.25in" "--quiet" "-" "/root/app/bidimal/demo1.pdf"):
  app/controllers/winners_controller.rb:69:in `invoice' 
```

我已经使用以下方法检查了 wkhtmltopdf 的路径：

```
which wkhtmltopdf
/root/.rbenv/shims/wkhtmltopdf 
```

所以我想这是正确的。顺便说一句，我在 config/initializers/pdfkit.rb

```
PDFKit.configure do |config|
  config.wkhtmltopdf = '/root/.rbenv/shims/wkhtmltopdf'
  config.default_options[:ignore_load_errors] = true
  config.default_options = {
    :encoding=>"UTF-8",
    :page_size=>"A4",
    :margin_top=>"0.25in",
    :margin_right=>"0.25in",
    :margin_bottom=>"0.25in",
    :margin_left=>"0.25in",
    :disable_smart_shrinking=>false
    }
end 
```

我在 nginx+passenger 下，问题可能与任何 nginx 设置（如可用进程等）有关吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-11-23T22:57:16.793

最近我开始遇到 wkhtmltopdf-binary gem 的问题......我仍然不确定发生了什么。

为了解决这个问题，我做了以下事情：

1.  我从我的 gemfile 中删除了 wkhtmltopdf-binary gem
2.  我还在我的 rbenv 环境中安装了这个 gem。我登录服务器并通过执行 gem uninstall wkhtmltopdf-binary 将其删除
3.  我直接在我的系统上安装了 wkhtmltopdf 可执行文件。（我在 ubuntu 上，所以我的命令是 sudo apt-get install wkhtmltopdf）
4.  我在我的 Rails 应用程序“config/initializers/pdfkit.rb”中创建了一个初始化程序，其中包含以下内容

`PDFKit.configure do |config| config.wkhtmltopdf = '/usr/local/bin/wkhtmltopdf' end`

一切又开始工作了。

# android - 如何在另一个活动视图中运行活动？

> ID：14109313
> 
> 赞同：3
> 
> 时间：2013-01-01T09:29:54.287
> 
> 标签：android, android-activity, activitygroup

我需要在视图中开始活动，就像片段一样。不幸的是，我不能使用片段。

从哪儿开始？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-01T09:42:28.843

基本上有三种选择可以实现这一点：

*   [使用片段](http://developer.android.com/guide/components/fragments.html)
*   [使用 TabActivity](http://developer.android.com/reference/android/app/TabActivity.html)
*   [使用另一个活动作为对话框主题](https://stackoverflow.com/questions/2961833/how-to-set-a-dialog-themed-activity-width-to-screen-width)

希望这会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:57:18.410

尝试使用对话活动（选择活动主题作为对话）

# eclipse - eclipse中任务列表从右到左预览

> ID：14109314
> 
> 赞同：1
> 
> 时间：2013-01-01T09:30:09.437
> 
> 标签：eclipse

我想在 eclipse 中从右到左的方向查看任务列表。也就是说，每个任务的文本必须以从右到左的方向预览。

有任何想法吗？

# javascript - js如何在多个ID上滚动页面

> ID：14109315
> 
> 赞同：2
> 
> 时间：2013-01-01T09:30:10.700
> 
> 标签：javascript, jquery, scrolltop

请检查我做了什么[http://jsfiddle.net/dUVmh/1/](http://jsfiddle.net/dUVmh/1/)。

**关于我想要实现的动画是：**

当您第一次向下滚动页面时，窗口滚动到 **#green** DIV。之后，如果您再次向下滚动窗口滚动到 **#yellow** DIV 并且在向上滚动时相同（从#yellow 到#green）。

**关于问题：** 您可以看到它卡在**#green** DIV 上的动画。

```
$(window).scroll(function(){
    if($(this).scrollTop() > 0) {
        $("html, body").animate({ scrollTop: $('#green').offset().top }, 1000);
    }
    else if($(this).scrollTop() > 1000) {
        $("html, body").animate({ scrollTop: $('#yellow').offset().top }, 1000);
    }
    else{
         $("html, body").animate({ scrollTop: $('#red').offset().top }, 1000);
    }

}); 
```

我在JS方面没有太多经验。

谢谢我提前:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T12:46:30.020

这是一个有趣的问题。

此解决方案将 div 放入数组中，并记住上次滚动到的元素的数组索引。一旦触发了滚动事件，它就会检查新的 scrollTop 是否高于或低于当前 div 的顶部偏移量，并相应地移动到数组中的下一个或上一个 div。

此解决方案允许您拥有许多 div。我试图消除滚动到快速时出现的闪烁，但我认为唯一的方法是在动画期间禁用滚动条。

[http://jsfiddle.net/dUVmh/35/](http://jsfiddle.net/dUVmh/35/)

```
$(function() {
    var divs = [],
        body = $('body, html'),
        currentDiv = 0,
        timeout;

    $('div').each(function() {
        divs.push($(this));
    });

    // we only need to capture the first scroll event triggered and then
    // add another listener once we have done our animation
    var scrollListen = function() {
        $(window).one('scroll', function() {
            doScroll($(this).scrollTop());
        });
    };

    // Without the timeout, the scroll event would be triggered again too soon
    var scrollEnd = function() {
        clearTimeout(timeout);
        timeout = setTimeout(function() {
            scrollListen();
        }, 10);
    };

    // checks if the scroll direction was up and down and animates
    // the body scrollTop to the next or previous div
    var doScroll = function(scrollTop) {
        var direction = scrollTop - divs[currentDiv].offset().top;

        if (direction > 0 && currentDiv + 1 < divs.length) {
            nextDiv = currentDiv + 1;
        } else if (currentDiv - 1 > -1) {
            nextDiv = currentDiv - 1;
        }

        if (currentDiv === nextDiv) {
            scrollEnd();
        }

        body.animate({
            scrollTop: divs[nextDiv].offset().top
        }, 1000, function() {
            currentDiv = nextDiv;
            scrollEnd();
        });
    };

    scrollListen();
}); 
```

**编辑**：Firefox scrollTop 需要在 html 而不是 body 上进行更改。还修复了 firefox 一次多次调用 scrollListen 的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T10:11:42.897

问题是在使用 jQuery`$(window).scroll(function())`滚动动画时会一遍又一遍地调用。`ScrollTop`

这是一个可能的解决方案，它检查它当前是否正在滚动并且只执行`ScrollTop`一次动画。

[http://jsfiddle.net/dUVmh/29/](http://jsfiddle.net/dUVmh/29/)

旁注：检查用户滚动的方向（向上或向下）并根据滚动到顶部或向下的下一个 div 可能是一个好主意。
您可以检查是否保存了最后一个 scrollTop 位置并将其与当前位置进行比较。

**更新：**这是一个考虑到滚动方向的解决方案：http: [//jsfiddle.net/dUVmh/36/](http://jsfiddle.net/dUVmh/36/)

# android - AVD 模拟器浏览器不会使用主机文件

> ID：14109319
> 
> 赞同：1
> 
> 时间：2013-01-01T09:30:40.560
> 
> 标签：android, android-emulator, avd

我对这个很沮丧。我有一个为我的 Android 应用程序运行服务源的开发 Web 服务器。我可以从任意数量的机器上浏览到它。

在 AVD 上（我已经尝试过不同的版本）我重新挂载 rw 并拉取、编辑然后将主机文件推回系统/etc/hosts。在 DDMS 中，我看到更新的日期，如果我把它拉回来，更改就在那里。

此外，如果我转到命令提示符，然后运行 ​​adb shell 并 ping 测试主机名，我会从正确的 ip 得到回复。所以为什么？？？？？？avd浏览器不会加载页面。哦，是的页面。显示“是”我正在工作的纯 HTML。

最后，如果我不浏览到 html 页面，那很好，但由于我需要我的应用程序来查询我的服务（托管在同一站点）以进行开发和测试，我认为这将是一个很好的连接测试，然后再尝试拥有我的应用程序向服务发出请求。

难住了。......

* * *

**解决了！！！**

我的 Windows 背景让我编辑一个带有 IP 的主机文件，然后是选项卡，然后是主机名。好吧，我遵循了一些让我从 adb shell 编辑主机的说明。成功了……嗯？？？所以我拉出文件并在 Edit+ 中打开，却发现我正在射击自己的脚。ip 和主机名之间只有***ONE空格。**它现在工作得很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T16:50:05.007

我的 Windows 背景让我编辑一个带有 IP 的主机文件，然后是选项卡，然后是主机名。好吧，我遵循了一些让我从 adb shell 编辑主机的说明。成功了……嗯？？？所以我拉出文件并在 Edit+ 中打开，却发现我正在射击自己的脚。ip 和主机名之间只有 *ONE 空格。它现在工作得很好。如果有疑问，我强烈建议您在不将文件拉到桌面的情况下更新您的主机文件。这是来自 shell 的命令。

```
./adb -s [DeviceID] shell
echo '###.###.###.###   [HostName/URl]' >> /etc/hosts
exit 
```

* * *

**注意**上述命令并非每个步骤都需要从 shell 实际编辑文件的命令。你仍然需要有写权限等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-14T09:43:46.320

在 Windows 主机文件中，它允许在 IP 地址和主机名之间有多个空格（制表符），但在 android 主机文件中，它需要在 IP 和主机名之间有一个空格。我尝试使用带有单个条目的主机文件，其中 IP 和主机名使用 notepad++ 由单个空格字符分隔。但是问题仍然存在，即我无法在模拟器中打开该站点。

您可以找到将本地机器的主机文件推送到 android 模拟器的步骤 -> [http://borkweb.com/story/setting-etchosts-on-an-android-emulator-using-a-mac](http://borkweb.com/story/setting-etchosts-on-an-android-emulator-using-a-mac)

但是模拟器仍然无法使用这个被解析为的主机文件->我试过这个（工作）：1.在模拟器中推送了一个空的主机文件 2.使用 adb shell echo 命令编辑了同一个主机文件

```
#adb shell    
#echo '172.30.1.227 fat.choice.plus' >> system/etc/hosts    
#echo '\n172.30.1.227 static-fat.loyrewards.com' >> system/etc/hosts 
```

*   在上述命令中使用您的 IP 地址和主机名
*   要退出 adb shell，请使用快捷键 Ctrl + D 您可以使用 \n 字符作为换行符通过 echo 添加多个条目。模拟器现在可以使用这个修改后的主机文件，并且站点已成功加载。:-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-03-18T18:58:01.470

在我的特殊情况下，本地主机子域在 android 模拟器浏览器上给出了这个问题（即使我可以 ping 域），我在我的 macOS 10.14 上使用了下一个映射：

```
10.0.2.2    something.localhost 
```

摆脱 localhost 为我解决了这个问题。我不知道为什么在我的 Mac 上会发生这种情况，我无法在 Ubuntu 18.04 上重现这种行为

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-04-22T10:32:12.417

最简单的方法和简单的答案是：

它是主机文件中每一行的行尾（EOL）字符。EOL 应该是 linux(LF) 的 EOL。空格或制表符的数量无关紧要。

要转换 EOL 字符，您可以在 notepad++ 中按照以下步骤操作：编辑-> EOL 转换-> Linux(LF)。

验证：查看 -> 显示符号 -> 显示行尾。

在您的主机文件中验证上述内容后，只需将其推送到模拟器即可。

使用以下命令确保您的主机文件在模拟器上被替换：

adb 推送 ./hosts /etc/hosts

adb push ./hosts /system/etc/hosts

adb push ./hosts /etc/system/hosts

**注意：**您需要让您的模拟器在写入模式下运行。

# javascript - 来自 Meteor.flush 的异常：TypeError：无法读取 null 的属性“parentNode”

> ID：14109320
> 
> 赞同：3
> 
> 时间：2013-01-01T09:30:43.413
> 
> 标签：javascript, meteor

我在使用[Telescope](http://telesc.pe)时遇到了一个奇怪的错误。目前，在帖子编辑页面上单击提交会多次触发此错误：

```
Exception from Meteor.flush: TypeError: Cannot read property 'parentNode' of null 
```

我已将其缩小到[post_edit.html](https://github.com/SachaG/Telescope/blob/05fcbaf1bd9e0e7b45ff3511aa3159c781f6abdf/client/views/posts/post_edit.html#L17-L26)：

```
<div class="control-group post-form-category">
  <label class="control-label">Category</label>
  <div class="controls">
    {{#each categories}}
      <label class="radio inline">
        <input id="category_{{_id}}" type="radio" value="{{name}}" name="category" {{#if isChecked }} checked {{/if}}/> {{name}}
      </label>
    {{/each}}
  </div>
</div> 
```

这是`categories`帮手：

```
categories: function(){
  return Categories.find();
} 
```

如果您删除两个 {{#each}} 循环（一个在 .post-form.category 中，另一个在 .post-form-user 中），错误就会消失。知道发生了什么吗？我对那些 {{#each}} 做错了吗？

**更新**

看起来问题确实来自“已检查”属性。但即使做类似的事情

```
<input type="radio" value="{{name}}" name="category" {{isChecked}} /> 
```

仍然触发错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-03T00:30:08.690

问题是我们不支持`{{#if isChecked }} checked {{/if}}`。您不能`#if`在 HTML 标记内使用块助手（包括 ）；您必须编写一个返回适当字符串的帮助程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T02:01:58.793

事实证明，这与 Meteor 中的一个错误有关。在修复错误之前，有一个简单的解决方案：

> 通过进入 post_edit.js 并将 Meteor.users.find() 替换为 Meteor.users.find().fetch()，使 SELECT 中的 #each 不响应。

感谢@dgreensp

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-14T13:01:06.837

我没有将响应式模板放在块帮助器中，而是创建了一个自定义车把帮助器来确定检查哪个类别并插入一个字符串。

```
Handlebars.registerHelper('categoriesChecked', function (context, options) {
var ret="";
var i,k, len;
var docs = context.collection.docs;
var lineItem = {};
for (i in docs) {
 lineItem.name = docs[i].name;
 lineItem._id = i;
 lineItem.isChecked = "";
 for (k = 0, len = this.categories.length; k < len; k++) {
  if (this.categories[k] == docs[i].name) {
   lineItem.isChecked = "checked";
  }
 }
ret+= options.fn(lineItem);

}
return ret;
}); 
```

.html

```
{{#categoriesChecked categories}}
        <label class="radio inline">
        <input id="category_{{_id}}" type="radio" value="{{name}}" name="category"   {{isChecked}} /> {{name}}
        </label>
{{/categoriesChecked}} 
```

# java - 难以接收来自 HTTP 客户端的响应

> ID：14109325
> 
> 赞同：-2
> 
> 时间：2013-01-01T09:32:09.657
> 
> 标签：java, xml, http, servlets

我正在编写一个应用程序，它将通过 HTTP 将 XML 发送到服务器，并接收 XML 作为响应。我能够将 XML 发送到服务器，但无法接收响应。

这是我的客户代码：

```
public void sendXMLToServer(){
    System.out.println("sendXMLToServer");
    String strURL = "http://localhost:9080/MockServerMachine/sendXMLPost";
    // Get file to be posted
    String strXMLFilename = "output.xml";
    File input = new File(strXMLFilename);
    // Prepare HTTP post
    System.out.println("junaud url "+ strURL);
    PostMethod post = new PostMethod(strURL);

 // Request content will be retrieved directly
    // from the input stream
    // Per default, the request content needs to be buffered
    // in order to determine its length.
    // Request body buffering can be avoided when
    // content length is explicitly specified
    try {
        post.setRequestHeader("Content-type","application/xml");
        post.setRequestHeader("Accept","application/xml");

        post.setRequestEntity(new InputStreamRequestEntity(
                new FileInputStream(input), input.length()));
        HttpClient httpclient = new HttpClient();
        int result = httpclient.executeMethod(post);
        String xmlResponse = post.getResponseBodyAsString();
        // Display status code
        System.out.println("Response status code jun: " + result);

        // Display response
        System.out.println("Response body: ");
        System.out.println(post.getResponseBodyAsString());
        post.releaseConnection();
    } catch (FileNotFoundException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (HttpException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

这是服务器端：

```
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    //InputStream in = request.getInputStream();
        //URL xmlUrl = new URL(request.getRequestURL().toString());
    //InputStream in = xmlUrl.openStream();

    response.setContentLength(100);
//      PostMethod po = new PostMethod(request.getRequestURL().toString());
//      System.out.println("kikmk = "+po.getRequestEntity());

    try {
        // read this file into InputStream
        //InputStream inputStream = new FileInputStream("c:\\file.xml");
        InputStream inputStream = request.getInputStream();
        // write the inputStream to a FileOutputStream
        OutputStream out = new FileOutputStream(new File("c:\\junaidAhmedJameel.xml"));

        int read = 0;
        byte[] bytes = new byte[1024];

        while ((read = inputStream.read(bytes)) != -1) {
            System.out.println(new String (bytes));
            System.out.println(read);
            out.write(bytes, 0, read);
        }

        inputStream.close();
        out.flush();
        out.close();

        System.out.println("New file created!");
        } catch (IOException e) {
        System.out.println(e.getMessage());
        }

      } 
```

有谁可以帮我离开这里吗？任何通过 HTTP 发送 XML 的示例客户端/服务器示例都很棒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:43:22.810

啊，发现了。看这里：

```
OutputStream out = new FileOutputStream(new File("c:\\junaidAhmedJameel.xml")); 
```

那只是要写入本地磁盘。您没有将任何内容写入响应流。目前尚不清楚您*要向*响应流写入什么，但明显没有调用`response.getWriter()`or `response.getOutputStream()`。

您将内容长度设置为 100，但实际上并未发送任何内容。请注意，无论如何硬编码内容长度几乎肯定是错误的事情......但是当您不发送任何内容时，这*绝对是错误的事情......*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:43:14.523

您永远不会在服务器代码中生成任何响应内容。您只需将长度设置为 100。

# eclipse - 执行某些命令时 Eclim 中的“路径必须包含项目和资源名称”

> ID：14109334
> 
> 赞同：1
> 
> 时间：2013-01-01T09:33:58.617
> 
> 标签：eclipse, macvim, eclim

我正在使用 Eclim 开发 Java 应用程序，每当我在 MacVim 中运行命令 :Validate 以验证 Java 源时，它都会引发异常消息：

```
`java.lang.IllegalArgumentException: Path must include project and resource name: <Project>
while executing command (port: 9091): -editor vim -command java_src_update -p "<Project>" -f "src/mobile/railsvideos/LoginActivity.java" -v` 
```

任何帮助表示赞赏？

# java - 如何增加 Eclipse 编辑器的宽度？

> ID：14109336
> 
> 赞同：4
> 
> 时间：2013-01-01T09:34:15.480
> 
> 标签：java, eclipse

我在eclipse中编码。我使用 格式化我的代码`Ctrl``Shift``F`，但编辑器的宽度不够大。我怎样才能增加宽度？

![在此处输入图像描述](../Images/9ad9f152f5b34394790f998d36e6f606.png)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-01T09:37:00.550

假设这意味着您想要增加最大线宽，您想要进入 Preferences (Window -> Preferences)，然后找到 Java -> Code Style -> Formatter 菜单。（只需在搜索框中输入“格式化程序”，您就会很快找到它。）

![首选项对话框](../Images/a6323524bffb65407a45668e1e637e46.png)

单击活动配置文件的“编辑”，然后转到“换行”选项卡。第一项应该是“最大线宽”。将该值设置为某个适当的限制（例如 120）并重新格式化。

![换行首选项](../Images/eb450056b033844e07ed3a446016416c.png)

# ipython - 更改 IPython 魔术函数前缀（从 '%' 到 ':'），无论如何？

> ID：14109342
> 
> 赞同：1
> 
> 时间：2013-01-01T09:35:49.550
> 
> 标签：ipython

有没有办法从默认的 '%' 更改 IPython 魔术函数前缀？我在 ipython_config.py 中找不到任何选项

由于我使用的是 vim 和 ghci，我（不知何故）训练自己考虑将 ':' 作为命令前缀。

当我想调用魔术函数并为每个 IPython 魔术函数调用自动添加前缀 ':' 时，这非常烦人，例如 :cd、:ed 和 :load

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T21:49:27.830

魔术转义在很多地方都是硬编码的，但如果你想做的只是尽量减少 vim 造成的肌肉记忆的损失，你可以告诉输入分割器将你的冒号视为百分比：

```
import re
from IPython.core import splitinput
from IPython.core.inputsplitter import transform_escaped

# this is a one-character change, adding colon to the second group,
# so the line splitter will interpret ':' as an escape char
splitinput.line_split = line_split = re.compile("""
             ^(\s*)               # any leading space
             ([,;/%:]|!!?|\?\??)?  # escape character or characters
             \s*(%{0,2}[\w\.\*]*)     # function/method, possibly with leading %
                                  # to correctly treat things like '?%magic'
             (.*?$|$)             # rest of line
             """, re.VERBOSE)

# treat colon the same as percent:
transform_escaped.tr[':'] = transform_escaped._tr_magic 
```

现在，您应该能够执行以下操作：

```
:cd foo

for t in range(3):
    :time time.sleep(t) 
```

如果您希望它始终触发，您可以将此代码放入 IPython 启动文件 (~/.ipython/profile_default/startup/whatever.py)。

These are not exactly public APIs, so I wouldn't trust them to not mess anything up, but it seems to work in current master.

# excel - 通过 vbscript 创建 Excel 数据透视表

> ID：14109351
> 
> 赞同：0
> 
> 时间：2013-01-01T09:37:11.080
> 
> 标签：excel, vbscript, pivot-table, vba

我有一个要求，我设置了三个从同一张表 #3 创建的数据透视表。现在，表#3 也被填充了表#1 和#2 中的数据。每个新的工作表人口首先清除数据，然后用新的新数据填充它。并且为此我的`pivot`表刷新代码不起作用并给出错误，`table columns are not found`即使数据和列在那里。我很确定这是由于数据清除而发生的。所以我想知道有什么方法可以`pivot tables`在运行时通过脚本创建这样的。可能吗？

***更新***

我有以下格式的数据 Excel 表：

```
Name   Fruits    Condition of Fruits
=====  ======    ====================

Ram    Apple       Good

Jadu   Apple       Bad

Tina   Orange      Good

Ram    Orange      Good

Tina   Apple       Bad

Ram    Apple       Bad 
```

Pivot 程序在同一个 excel 的另一张表中的输出，比如在 sheet(2) 中应该是这样的：

```
Name  Fruits   Condition of Fruits
====  ======   ===================
               Good       Bad    Total
               ====      =====  ======
Ram   Apple     1           1     2
Ram   Orange    1           0     1
Tina  Apple     0           1     1
Tina  Orange    1           0     1
jadu  Apple     0           1     1
===================================
Grand Total     3           3     6
=================================== 
```

上述格式需要存在于工作表 (2) 的 Excel 中，只要工作表 (1) 中包含源数据，如第一个表所示。

我希望使用 Excel 数据透视表概念创建宏程序。

您能否为上述 Pivot 创建建议任何代码设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:44:50.010

与其直接从 VBA 创建数据透视表，不如试试这个。

如果您正在使用 vba 功能清除所有数据，然后感觉它与新数据停止擦除数据。而不是擦除数据，只需逐个单元格地用新数据替换旧数据。

让我知道这是否有帮助。

如果你能提供excel文件，我可以看看问题。

# c++ - 在 C++ 中正确使用 exit()？

> ID：14109358
> 
> 赞同：22
> 
> 时间：2013-01-01T09:38:14.063
> 
> 标签：c++, function, exit

我编写了一个简单的应用程序，它读取数据文件，解析文本，然后对该数据进行一些处理。数据文件在我的 main() 函数中打开。如果确定文件未正确打开，使用 exit() 函数是一种好的编程习惯吗？例如：

```
if (!file.is_open() ){
     exit(1);
} 
```

此外，我的程序有一个单独的函数来解析文件中的数据。此函数由 main() 调用。如果函数在数据中发现错误，我希望程序在打印错误消息后停止。在这种情况下，可以在我的解析函数中使用 exit() 函数吗？我问这个问题是因为，对我来说，允许函数自行退出程序而不将控制权返回给 main() 函数似乎不是很整洁。（如果这个问题看起来很明显，我深表歉意。我是 C++ 和一般编程的新手）。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-01T09:48:16.230

从函数调用`exit`并不是“坏的”，因为它具有明确定义的行为——这样做从根本上没有错。

但是，例如，如果您正在编写一个可能最终出现在库中的函数，那么`exit`从那里调用通常是不好的做法：向调用代码发出错误信号要好得多（例如通过特定的返回值或异常） ) 并让调用代码决定要做什么。（虽然在某些情况下它是完全有效的。例如，如果您正在编写一个名为 的函数`quit_if_file_not_found`，那么您的用户期望终止。）

在您的情况下，您的解析函数可能不应该调用`exit`：例如，您可能希望在将来的某个时候，如果解析第一个文件失败，您的主代码会要求用户提供不同的文件名。如果您的解析例程终止程序，您必须同时修改主代码和该函数。如果它已发出错误信号，您只需修改`main`.

（并且不要`exit`像上面那样打印错误消息或记录一些事情，这会让那些不知道如何解决代码遇到的任何问题的用户感到沮丧。）

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-01T10:01:14.000

有两个方面。一是利益决定程序停在你要使用的地方`exit`，二是使用exit。[马特的回答](https://stackoverflow.com/a/14109421/136208)涵盖了第一个。

第二，`exit`在 C++ 中通常是一个糟糕的选择。原因是它做了一些清理（注册的函数`atexit`，有时包括一些静态存储持续时间对象的析构函数），但不是全部（堆栈上对象的析构函数），根据我的经验，你要么想要全部，要么没有任何。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-01T09:42:33.030

`exit(0)`表示程序成功终止并且它是完全可移植的，而

`exit(1)`（通常）表示终止不成功。但是，它的用法是不可移植的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-01T09:46:19.027

从or`main`没有区别。您使用返回/退出值表示成功，使用*非*表示失败。`exit(1)``return 1``0` *`0`*

 *如果您的子例程是在其他地方使用的库例程，它应该将控制权返回给 main，并带有一些返回代码或异常。否则，这是你的选择，如果你`exit`或返回。

在任何一种情况下，记录函数的作用是一种很好的做法，无论是它`exit`、`return`代码还是`exception`.

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-01T09:48:09.227

这取决于它`exit(1)`来自哪里。您不应该`exit(1)`从库中调用它，而只能从您自己的应用程序中调用它。

如果您需要设置错误代码，您可以设置一个`errno`（STD C 变量，是的）。

如果你想尝试更多的 C++ 方式，你可以抛出异常，并附上详细的错误代码。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-22T00:55:56.827

退出是可以接受的，尽管我认为重要的是要注意使用 exit 与 return 语句在该退出中的内存差异不会破坏内存中的变量。如果有一些错误，那么退出是合理的。否则，我会坚持返回声明。*

# ide - 无法在 clojure 中使用 org.joda 时间

> ID：14109359
> 
> 赞同：3
> 
> 时间：2013-01-01T09:38:39.870
> 
> 标签：ide, clojure

在Java中我有这一行

```
public static final DateTimeFormatter fmt = DateTimeFormat.forPattern("yyyy-M-dd HH:mm:ss"); 
```

在clojure中我试图转换成clojure代码并且我已经导入了文件本身但是这条线似乎不起作用

```
(def fmt (.forPattern DateTimeFormat ("yyyy-M-dd HH:mm:ss"))) 
```

给出 CompilerException java.lang.RuntimeException: Unable to resolve symbol: DateTimeFormat in this context, compile:(ShipDataRecord.clj:65) 的异常

还是我做错了有人可以解释

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T10:50:24.480

首先，clojure 中的静态方法是这样调用的：

```
(DateTimeFormat/forPattern args...) 
```

其次，您不应该用括号括起方法/函数参数，即这是不正确的（忽略现在调用静态方法的无效语法）：

```
(.forPattern DateTimeFormat ("yyyy-M-dd HH:mm:ss")) 
```

周围的括号`"yyyy-M-dd HH:mm:ss"`应省略。

所以，做你想做的事的有效方法是：

```
(def fmt (DateTimeFormat/forPattern "yyyy-M-dd HH:mm:ss")) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-01T11:49:45.287

或者，您可以使用[clj-time](https://github.com/seancorfield/clj-time)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-07T09:36:22.937

由于您已经熟悉 Joda-Time，您可以使用[Clojure.Joda-Time](https://github.com/dm3/clojure.joda-time)。

# c++ - 获取着色器字节码以传递到 CreateVertexShader()

> ID：14109362
> 
> 赞同：2
> 
> 时间：2013-01-01T09:38:57.600
> 
> 标签：c++, directx, directx-11

我正在尝试通过 ID3D11Device::CreateVertexShader() 创建一个顶点着色器对象。参数要求一个指向着色器字节码的指针，以及字节码的长度。因此，我有以下结构：

```
struct shaderData
{
    char *shaderCode;
    UINT size;
}; 
```

以下函数返回此结构以尝试获取着色器字节码（我使用 Visual Studio 2012 和 fxc.exe 将我的着色器编译为已编译的着色器对象 (.cso) 文件。

```
struct shaderData *CubeApp::GetShaderByteCode(char *compiledShader)
{
    FILE *pFile = 0;
    char *shaderCode = 0;
    UINT fSize = 0;
    UINT numRead = 0;
    struct shaderData *sData = (struct shaderData *)malloc(sizeof(struct shaderData));

    pFile = fopen(compiledShader, "rb");

    fseek(pFile, 0, SEEK_END);
    fSize = ftell(pFile);
    fseek(pFile, 0, SEEK_SET);

    shaderCode = (char *)malloc(fSize);

    while (numRead != fSize)
        numRead = fread(&shaderCode[numRead], 1, fSize, pFile);

    fclose(pFile);

    sData->shaderCode = shaderCode;
    sData->size = fSize;

    return sData;
} 
```

我这样调用函数：

```
struct shaderData *sData = GetShaderByteCode("VShader.cso"); 
```

但是，当我调用 ID3D11Device::CreateVertexShader()，将 sData->shaderCode 和 sData->size 作为参数传递时，我的顶点着色器对象 (ID3D11VertexShader) 返回为 NULL，并且该函数返回 E_INVALIDARG。

也许我对着色器字节码是什么有一个错误的理解，但是这个函数不应该给我正确的参数来传递给 CreateVertexShader 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-27T15:41:21.777

尝试这个：

```
struct shaderData
{
    BYTE *shaderCode;
    UINT size;
}; 
```

着色器字节码需要是 unsigned char（这就是 BYTE 类型）。我不确定这是否是您的代码的唯一问题，但就我而言，它适用于这种类型。

# c# - 如何将带有 group by 子句的 SQL select Count 转换为 LINQ？

> ID：14109363
> 
> 赞同：2
> 
> 时间：2013-01-01T09:39:01.543
> 
> 标签：c#, .net, sql, linq, linq-to-sql

如何将以下 SQL 查询转换为 LINQ？

```
SELECT [EmpUserName],[LeaveTypeName],Count([NoOfDays]) as 'Count'
FROM [NSL.LeaveSystem02].[dbo].[ProcessedCPLeaves]
GROUP BY [LeaveTypeName],[EmpUserName],[ProcessingDate] 
```

请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:41:46.363

试试这个，

```
from a in ProcessedCPLeaves
group a by new 
    {
        LeaveTypeName = a.LeaveTypeName,
        EmpUserName = a.EmpUserName,
        ProcessingDate = a.ProcessingDate
    } into g
select new
    {
        EmpUserName = g.Key.EmpUserName
        LeaveTypeName = g.Key.LeaveTypeName
        TotalCount = g.Count()
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T09:48:10.710

以下是方法语法

```
 ProcessedCPLeaves
.GroupBy(item => new { 
                 LeaveTypeName = item.LeaveTypeName,
                 EmpUserName = item.EmpUserName,
                 ProcessingDate = item.ProcessingDate
}).Select (grouping => new {
                 EmpUserName =grouping.Key.EmpUserName,
                 LeaveTypeName = grouping.Key.LeaveTypeName,
                 TotalCount= grouping.Count()
}); 
```

# java - Java 编码标准 - 所有变量名都小写

> ID：14109368
> 
> 赞同：0
> 
> 时间：2013-01-01T09:40:10.707
> 
> 标签：java, jpa, coding-style, standards, pojo

我们正在使用 Netbeans 实用程序从数据库表中生成实体类，现在我们可以做到这一点。就像从表到实体 POJO 和反向一样，所以当我们对实体 POJO 进行任何更改时 - 我们将获得更新的 SQL。

Eclipse 也有可用于 JPA 的类似实用程序，但它不执行反向操作，现在问题是在从表生成实体 POJO 时，我们没有选择命名约定。我们得到所有小写的字段名称，对于没有骆驼大小写的类，只有大写的第一个字母，而其他所有内容都是小写。

现在这似乎给我们定义的编码标准带来了问题，因为它要求我们对变量和方法名称使用驼峰式大小写。

所以我们与团队进行了讨论，一个想法是在整个项目中将所有变量保持为小写，我个人不同意，因为它使代码非常不可读，因为我们不打算使用下划线来分隔单词。您可以对此标准投票。

你认为最好的出路是什么？是否有任何可用的实体 POJO 生成器可以转换两种方式，并且当它发现下划线时仍然能够从 db 表名转换为驼峰式大小写？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:47:47.027

最好的解决方案是立即停止并转向标准的 java 命名约定：

1.  变量和方法名以小写开头
2.  类和接口名称以大写开头
3.  使用骆驼约定。除常量外没有下划线（见后文）
4.  public final 静态字段名称都是带有下划线的大写字母（就像`#define`在 C 中一样）。字段也同样推荐`enum`（但这个推荐不是那么严格）

如果我忘记了什么，我很抱歉。但是遵循大多数开发人员适用的命名和编码约定非常重要。首先，这些约定是基于非常丰富的经验。不要认为你可以改进它们。你不能。我也不能。:) 其次遵循编码约定使您的代码对其他人易于理解并避免愚蠢的错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T09:55:13.560

我用[dali](http://www.eclipse.org/webtools/dali/)和 eclipse 来生成实体，如果你不能设置[你需要的命名](http://www.eclipse.org/webtools/dali/docs/3.2/user_guide/tasks006.htm#BABBAGFI)会很惊讶。

另外，我想 intellij 允许您也可以根据需要执行此操作。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-01T09:55:23.310

> 你认为最好的出路是什么？

遵循 Java 样式约定。时期。

> 是否有任何可用的实体 POJO 生成器可以转换两种方式，并且当它发现下划线时仍然能够从 db 表名转换为驼峰式大小写？

我不知道。

但是，如果您找不到，请使用现有的*开源*生成器并对其进行*修改*以执行您想要的操作。然后将您的补丁贡献回项目，以便其他人可以从您的工作中受益。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-01T09:59:47.383

> [...] 一种想法是在整个项目中将所有变量保持为小写 [...]

忘掉这个。你在爪哇的土地上。这意味着所有其他框架都不会遵守该标准，因此您永远不会只有一种干净的编码风格。Java 的优点之一是*The One Style*使阅读外国代码变得更加容易。

因此，您应该尝试将其控制在尽可能小的空间中，而不是传播这种疾病——在您的情况下，是工具生成的东西。下一步是改进或删除该工具。

# visual-c++ - MFC 文件夹浏览器 IFileOpenDialog

> ID：14109369
> 
> 赞同：5
> 
> 时间：2013-01-01T09:40:26.600
> 
> 标签：visual-c++, mfc

我正在尝试创建一个简单的 MFC 文件夹浏览器并在 MSDN 和这里寻找答案：这是我的代码到目前为止：

```
void CAddFilterDlg::OnBnClickedAddDll()
{
    CFileDialog dlg(TRUE/*bOpenFileDialog*/, NULL, NULL, OFN_HIDEREADONLY | OFN_OVERWRITEPROMPT , NULL, NULL, 0, TRUE/*bVistaStyle*/);
    CString folderPath = dlg.GetFolderPath();
    IFileOpenDialog * openDlg = dlg.GetIFileOpenDialog();
    if ( openDlg != NULL )
    {
       openDlg->SetOptions(FOS_PICKFOLDERS);
       openDlg->Release();
    }

dlg.DoModal();
} 
```

我得到的错误是：

> 1.  不允许指向不完整类类型的指针（这是用于 openDlg）
>     
> 2.  标识符“FOS_PICKFOLDERS”未定义

我正在开发视觉工作室 2010，win7

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-07-27T13:57:11.553

我知道这是一个有点过时的问题，但我最近遇到了同样的问题，也很难找到一个简单易用的解决方案。

我发现这个类似 CFileBrowser 的类是解决这个问题的一个非常有效和简单的解决方案：

```
CFolderPickerDialog FolderSelectDialog(theApp.xAM->GetExportPath().c_str(),NULL,this);

if (FolderSelectDialog.DoModal() == IDOK)
{
    CString cBuff = FolderSelectDialog.GetPathName();

    std::wstring wsPath = std::wstring(cBuff);

    theApp.xAM->SetExportPath(wsPath);

    CEditExportFolderPath.SetWindowTextW(cBuff);
} 
```

# objective-c - 字符串不等于它的假定值

> ID：14109371
> 
> 赞同：-1
> 
> 时间：2013-01-01T09:40:59.993
> 
> 标签：objective-c, string, afnetworking

> **可能重复：**
> [了解 Objective-C 中的 NSString 比较](https://stackoverflow.com/questions/3703554/understanding-nsstring-comparison-in-objective-c)

## 代码

```
NSString *nodeType = [subNodeDict objectForKey:@"nodeType"];
NSLog (@"nodeType = %@", nodeType);
NSLog (@"(nodeType == @\"Collection\") = %d", nodeType == @"Collection");
NSLog (@"[nodeType class] = %@ and [@\"Collection\" class] = %@", [nodeType class], [@"Collection" class]); 
```

## 日志

```
2013-01-01 04:06:37.895 GoogleClient[4752:c07] <strong>nodeType = Collection
2013-01-01 04:06:37.896 GoogleClient[4752:c07] <strong>(nodeType == @"Collection") = 0
2013-01-01 04:06:37.896 GoogleClient[4752:c07] 

<strong>[nodeType class] = __NSCFString and [@"Collection" class] = __NSCFConstantString 
```

`subNodeDict`是通过 AFNetworking 从服务器返回的 JSON 响应对象。

我不知道如何准确地将从服务器返回的字符串与常量字符串进行比较。subNodeDict 中的所有非字符串对象都可以正常工作。我需要使用某种类型的 UTF-8 编码吗？我怎样才能得到真正的价值节点类型？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T09:45:03.150

`==`是比较两个指针，而不是字符串的内容。比较 NSString 的使用`isEqualToString:`方法。

```
[nodeType isEqualToString:@"Collection"] 
```

考虑一下：

```
NSString *foo = @"abc";
NSString *bar = @"abc";

foo == bar; // false
[foo isEqualToString:bar]; // true 
```

`foo == bar`是假的，因为它们是不同的指针，即使它们的内容相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:46:05.983

您不应该使用`==`字符串，因为这是一个指针比较，而是执行以下操作：

```
[nodeType compare:@"Collection"] 
```

`compare`方法在哪里`NSString`

# ajax - 如何从ajax响应中获取特定数据

> ID：14109374
> 
> 赞同：0
> 
> 时间：2013-01-01T09:41:12.260
> 
> 标签：ajax, jquery

我有一个链接，它向带有一些数据的特定 url 发送 ajax 请求。ajax url 的目的地做一些操作并返回数据。现在我有一个问题，ajax 响应也包含所有的 html。一些我无法禁用布局或 html 之类的东西。现在你能告诉我如何完成这项任务吗？是否有一种火箭科学的方法可以从 ajax 响应中获取特定数据。

我从[这里](https://stackoverflow.com/questions/400197/extracting-ajax-return-data-in-jquery)得到了一个想法，我将在一些 html 元素中发送我的响应，然后我会得到那个 html 元素。但它看起来非常糟糕的方法。到目前为止，我尝试过的是这个

```
$.ajax({
        url : "<?php echo $this->url(array('controller'=>'index','action'=>'ajaxcall','name'=>'shahrukh','id'=>377),'default');?>",
        type: "post",
        data: {car: 'Honda' },

        success: function(data){

           var $response=$(data);

           var oneval = $response.filter('#one').html();
           alert(oneval);
      }}); 
```

在服务器端我只是做

```
 echo "<div id='one'>Ajax response</div>"; 
```

有没有其他方法可以做到这一点......顺便说一句，它还返回 undefined :-(

此致

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T09:43:57.783

使用 ajax json 响应

```
$.ajax({

url:"sdsdds.jsp",
dataType:'json',
success:function(jsonDataFrmServer){
alert(jsonDataFrmServer.myCUstomData);
alert(jsonDataFrmServer.whateverContentForHtml);

}
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:53:48.710

在服务器端，您始终可以检查标头`HTTP_X_REQUESTED_WITH`以检测 ajax 请求。然后根据该条件，您可以切换响应的内容。

此外，如果您希望从 javascript ajax 成功函数的响应中删除一些 html 内容，那么我建议您将所需的响应包装在 html 注释周围。例如：`<!--AjaxResponseStart-->...<!--AjaxResponseEnd-->`。然后它只是使用一些检查（对于未定义）和正则表达式来仅获取所需内容的问题：

以下是如何从响应中获取 html 内容的示例：

```
pattern = /[\s\S]*?<\!--AjaxResponseStart-->([\s\S]*)<\!--AjaxResponseEnd-->[\s\S]*/i;
if(str.match(pattern)){
  return reponse.replace(pattern, '$1');    
} 
```

希望你明白我想说的话。

# objective-c - 对目标 c 的验证

> ID：14109375
> 
> 赞同：0
> 
> 时间：2013-01-01T09:41:27.183
> 
> 标签：objective-c, ios

我是 iPhone 应用程序开发的初学者。我正在创建一个 iPhone 应用程序，它有一个用户界面和 3 个文本框，用于接受用户输入（文本框 1、文本框 2 和文本框 3），比如用户名、邮件地址和电话号码，以及一个带有修饰的按钮（确定）动作事件的内部事件。

用户必须通过单击确定按钮强制填写所有文本框才能继续。当所有文本框都填满时，必须生成警告消息说谢谢。

如果不这样做，则应生成警报视图。

但我想做的是：

*   如果所有文本框都是空的，则应显示警报消息，并指出未输入用户名、邮件地址和电话号码。
*   如果只有用户名未由用户填写，则应显示警报，并显示未输入用户名的警报消息。
*   如果用户没有填写 MailAddress，则应显示警报，并显示未输入 MailAddress 的警报消息。
*   如果用户未填写电话号码，则应显示警报，并显示未输入电话号码的警报消息。
*   如果用户名和邮件地址均未由用户填写，则应显示警报，并显示未输入用户名和邮件地址的警报消息。
*   如果用户名和电话号码均未由用户填写，则应显示警报，并显示未输入用户名和电话号码的警报消息。
*   如果用户未填写 MailAddress 和 TelephoneNumber，则应显示警报，并显示未输入 MailAddress 和 TelephoneNumber 的警报消息。

我如何在目标 c 中做到这一点？有什么简单的方法？？？我必须通过使用函数来做到这一点，以便它可以调用所需的函数来相应地显示所需的警报消息，当用户点击确定按钮而不填写所有必需的数据时用户输入。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T09:46:07.577

找到[代码](http://www.keepandshare.com/doc/5386727/umtvalidation-zip-38k?da=y)...

```
NSInteger user, mail, telephone;
user=mail=telephone=0;

if (![self.userName.text isEqualToString:@""]) {
    user=1;
}
if (![self.mail.text isEqualToString:@""]) {
    mail=2;
}
if (![self.telephone.text isEqualToString:@""]) {
    telephone=4;
}

NSString *warningString=[NSString new];
switch (user+mail+telephone) {
    case 0:
        warningString=@"Please enter user, mail and telephone.";
        break;
    case 1:
        warningString=@"Please enter mail and telephone.";
        break;
    case 2:
        warningString=@"Please enter user and telephone.";
        break;
    case 3:
        warningString=@"Please enter telephone.";
        break;
    case 4:
        warningString=@"Please enter user and mail.";
        break;
    case 5:
        warningString=@"Please enter  mail.";
        break;
    case 6:
        warningString=@"Please enter user.";
        break;

    default:
        break;
}
NSLog(@"-->%@",warningString);
if (user+mail+telephone < 7) {

    UIAlertView *alertView=[[UIAlertView alloc]initWithTitle:@"Alert" message:warningString delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil, nil];
    [alertView show];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T09:46:02.600

除非所有项目都正确填写，否则禁用按钮会不会更容易？

这意味着更少地摆弄代码来查看已输入和未输入的内容。这是提供反馈的一种更快的方式 - 因为您不必通过按键来确定您的数据是否已被接受，然后按下按钮关闭警报视图以返回编辑输入。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T09:47:09.523

您可以检查 textField 是否有数据

```
if (userNameField.text.length == 0)
{
NSLog (@"Username is not being entered");
}
else
{
NSLog (@"Username Field has some data ");
} 
```

同样，您可以根据您的要求制定适当的条件。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-01T09:53:33.950

Objective C 中的验证与简单 C++ 或任何其他语言中的验证相同。

您必须设置条件，例如

```
if(textbox1.text.lenght == 0)
{
     UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Please Enter User      Name" message: nil delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil, nil];
     [alertView show];
}
else if(textbox2.text.lenght == 0)
{
  //alert Message
} 
```

问候

阿布舍克·戈亚尔

# c# - c#中这段代码的等价物是什么

> ID：14109381
> 
> 赞同：0
> 
> 时间：2013-01-01T09:42:59.703
> 
> 标签：c#, php, c#-4.0

我不知道 PHP 并且我被困在一个位置上，任何人都可以帮助我。

我有一个 PHP 代码。

```
 $binarySignature = hash_hmac('sha1', $stringToSign, $secretKey, true);

    // We need to base64-encode it and then url-encode that.
    $urlSafeSignature = urlencode(base64_encode($binarySignature)); 
```

谁能告诉我上面代码的 C# 代码是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-13T09:03:51.370

打电话时

```
using (HMACSHA1 hmac = new HMACSHA1(secretKey,**true**))
   { 
       hashBytes = hmac.ComputeHash(msgBytes); 
   } 
```

我们需要将 true 作为参数传递。对我来说它工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:52:34.923

主要取自[这篇文章](https://stackoverflow.com/questions/8063004/what-is-the-net-equivalent-of-the-php-function-hash-hmac)：

```
private string Hash(string message, byte[] secretKey)
{
   byte[] msgBytes = System.Text.Encoding.UTF8.GetBytes(message);
   byte[] hashBytes;
   using (HMACSHA1 hmac = new HMACSHA1(secretKey))
   { 
       hashBytes = hmac.ComputeHash(msgBytes); 
   }
   var sb = new StringBuilder();
   for (int i = 0; i < hashBytes.Length; i++) 
         sb.Append(hashBytes[i].ToString("x2"));
   string hexString = sb.ToString();
   byte[] toEncodeAsBytes = System.Text.ASCIIEncoding.ASCII.GetBytes(hexString);
   return HttpUtility.UrlEncode(System.Convert.ToBase64String(toEncodeAsBytes));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T09:52:45.530

看来你需要这样的东西：

```
public string Encode(string input, byte [] key)
{
        HMACSHA1 myhmacsha1 = new HMACSHA1(key);
        byte[] byteArray = Encoding.ASCII.GetBytes( input );
        MemoryStream stream = new MemoryStream( byteArray ); 
        byte[] hashValue = myhmacsha1.ComputeHash(stream);
        return hashValue.ToString();
} 
```

另外，检查这些线程：

[如何在 C# 中生成 HMAC-SHA1？](https://stackoverflow.com/questions/6067751/how-to-generate-hmac-sha1-in-c)

[HMAC SHA1 对密钥和消息使用相同的值](https://stackoverflow.com/questions/8934389/hmac-sha1-using-the-same-value-for-key-and-message)

# android - 在模拟器上强制关闭简单导航

> ID：14109382
> 
> 赞同：0
> 
> 时间：2013-01-01T09:43:05.540
> 
> 标签：android, debugging

我是 Android 开发的新手。最近试图让我自己的 Facebook 像滑出菜单一样，但无法让它工作，**它在 eclipse 检查和构建中不包含任何错误，但是当我在模拟器上运行它时，模拟器给了我一个强制关闭错误只是没有原因**。已经做了很多这是我遵循[Johnkil Sidenavigation的教程](https://github.com/johnkil/SideNavigation)

已经对调试技术进行了一些研究，但不知道我应该从哪里开始， **但我认为这只是我的布局问题，我错过了什么？** 这是我的代码的一部分，请让我知道我需要提供什么样的信息

MainActivity.java

```
 package com.nazartt.johntest;

import com.actionbarsherlock.app.SherlockActivity;
import com.actionbarsherlock.view.MenuItem;

import android.os.Bundle;

public class MainActivity extends SherlockActivity {
    SideNavigationView sideNavigationView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        SideNavigationView sideNavigationView = (SideNavigationView)findViewById(R.id.side_navigation_view);
        sideNavigationView.setMenuItems(R.menu.side_navigation_menu);

    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
            case android.R.id.home:
                sideNavigationView.toggleMenu();
                return true;

            default:
                return super.onOptionsItemSelected(item);
        }
    } 

} 
```

这是我相关的 xml 代码的一部分

activity_main.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:text="@string/hello_world" />
    <com.devspark.sidenavigation.SideNavigationView
        android:id="@+id/side_navigation_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

</RelativeLayout> 
```

这是插入菜单文件夹... side_navigation_menu.xml

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world" />
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world" />
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world" />
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world" />

</menu> 
```

这是logcat，

```
 12-28 05:29:33.643: E/Trace(11550): error opening trace file: No such file or directory (2)
12-28 05:29:33.656: E/AndroidRuntime(11550): FATAL EXCEPTION: main
12-28 05:29:33.656: E/AndroidRuntime(11550): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.nazartt.johntest/com.nazartt.johntest.MainActivity}: java.lang.ClassNotFoundException: com.nazartt.johntest.MainActivity
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1983)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.app.ActivityThread.access$600(ActivityThread.java:130)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.os.Handler.dispatchMessage(Handler.java:99)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.os.Looper.loop(Looper.java:137)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.app.ActivityThread.main(ActivityThread.java:4745)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at java.lang.reflect.Method.invokeNative(Native Method)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at java.lang.reflect.Method.invoke(Method.java:511)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at dalvik.system.NativeStart.main(Native Method)
12-28 05:29:33.656: E/AndroidRuntime(11550): Caused by: java.lang.ClassNotFoundException: com.nazartt.johntest.MainActivity
12-28 05:29:33.656: E/AndroidRuntime(11550):    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.app.Instrumentation.newActivity(Instrumentation.java:1053)
12-28 05:29:33.656: E/AndroidRuntime(11550):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1974)
12-28 05:29:33.656: E/AndroidRuntime(11550):    ... 11 more 
```

这是我的清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.nazartt.johntest"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/Theme.Sherlock.Light" >
        <activity
            android:name="com.nazartt.johntest.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name="com.actionbarsherlock.ActionBarSherlock"
            android:label="@string/app_name" >
        </activity>
        <activity
            android:name="com.nazartt.johntest.ISideNavigationCallback"
            android:label="@string/app_name" >
        </activity>
        <activity
            android:name="com.nazartt.johntest.SideNavigationItem"
            android:label="@string/app_name" >
        </activity>
        <activity
            android:name="com.nazartt.johntest.SideNavigationView"
            android:label="@string/app_name" >
        </activity>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-06T13:21:48.417

我最终重新研究了 android 项目设置并从 github 下载了一些 android 示例并了解它们如何设置和导入库。对于可能遇到同样问题的新手，请确保您了解 android 应用程序是如何构建的，尤其是在您将其他库导入项目时。当您要导入库时要查看的重要路径

```
Project->properties->android
Project->properties->java build path 
```

# ios - Segues 并从内存中清除历史 ViewController

> ID：14109388
> 
> 赞同：5
> 
> 时间：2013-01-01T09:43:54.877
> 
> 标签：ios, memory-management, uiviewcontroller, segue

我有一个 iPad 应用程序，它有很多屏幕和很多 segue 选项。目前，我只是使用 performSegueWithIdentifier 来启动这些 segue，我担心随着用户执行越来越多的 segue，我会占用大量内存。我看到人们推荐使用函数 popToRootViewControllerAnimated: if using a UINavigationController，但问题是我没有使用。我怎样才能阻止VC的数量激增？该应用程序的工作方式是，用户确实会不断返回到根 VC - 实际上是一个搜索屏幕。因此，如果我可以在需要这样的 segue 时清除 VC 堆栈，我认为这将解决我的问题，但我不知道如何解决这个问题。感谢您的任何建议。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-01T10:36:53.350

当您使用 segues 时，流程会前后移动。当用户向后移动（即按下“返回”）时，它不会推送到新的 VC，但会弹出到已经存在的 VC。当你弹出时，当前的 VC 将从堆栈和内存中删除。

如果您在流程中向后移动，那么这是错误的。你只需要继续前进。

**为 SEGUE 做好充分准备**

在为 segue 做准备时，您永远不应该创建自己的视图控制器并推送给它们。故事板可以为您完成所有这些工作。

一个适当的 prepareForSegue 方法应该看起来像这样......

```
- (void)prepareForSegue:(UIStoryBoardSegue*)segue
{
    if([segue.identifier isEqualToString:"SomeSegue"])
    {
        MyNewViewController *controller = segue.destinationViewController;

        controller.someProperty = "some value to pass in";
    }
} 
```

这就是你所需要的。请注意，仅当您打算将一些信息传递给新的视图控制器时才需要它。如果你没有向前传递任何东西，那么你根本不需要这个方法。

当方法结束时，新的 VC 将被情节提要文件推送到屏幕上。

**放松赛格**

如果您有一个随机流程（如您的评论），那么您可以使用 unwind segues 来实现这一点。

在您的“A”视图控制器中，具有类似...的功能

```
- (IBAction)someUnwindAction:(UIStoryboardSegue*)sender
{
    //some action to run when unwinding.
} 
```

它需要接收一个 UIStoryboardSegue 对象。如果设置为 IBAction，您也可以从 Interface Builder 访问它。

现在，当您想去 A > B > C > B > A 时，只需使用标准的推送和弹出（从 segue 和后退按钮）。

当你想去 A > B > C > A 时，你可以使用控制器 C 的 unwind segue。

如果你在控制器 C 中有一个取消按钮或其他东西，它在 Interface Builder 中，这应该带你回到控制器 A。然后在控制器 C 下方的 Interface Builder 中，你将有一个带有门和箭头指向的绿色小方块出它。只需将取消按钮的动作指向该符号并选择“someUnwindAction”。（注意，unwindAction 在 A 中，按钮在 C 中。）然后 XCode 使用它把你一直弹出到 A 并处理删除任何内存和东西。如果您愿意，您也可以将其他信息发送回 A。

如果您想以编程方式从 C 访问此展开转场，那么您可以运行...

```
[self performSegueWithIdentifier:"someUnwindAction" sender:nil]; 
```

这也将弹回 A。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T11:26:09.957

恕我直言，我没有看到使用 segues 的任何问题，它比其他任何事情都简单得多。如果您担心内存消耗，那么只需分析您的应用程序并查看它消耗了多少以及您的“内存压力处理程序”被调用的频率。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T01:48:31.027

好的，我相信我已经弄清楚了。它似乎工作。

由于我不断返回到一个普通的 VC，我将代码放置在我想重新回到这个“根”VC 以清除 VC 堆栈的地方。

我仍然在我的正常代码中执行实际的 segue

```
[self performSegueWithIdentifier:@"editBackToSearch" sender:self]; 
```

但是在“prepareForSegue:”方法中，我不再创建新的 VC 对象，而是执行我未完成的任何工作（保存我的数据），然后使用以下代码清除 VC 堆栈。

```
UIViewController *vc = self;
while ([vc presentingViewController] != NULL)
{
    vc = [vc presentingViewController];
}   
[vc dismissViewControllerAnimated:NO completion:nil]; 
```

它似乎运行平稳，并具有释放这些 VC 吸收的内存的预期影响（通过分析器确认）。

最后一条评论 - 由于某种原因，我无法为解雇命令设置动画，这似乎触发了无限循环并导致 EXC_BAD_ACCESS。将动画设置为 NO，但效果很好。

谢谢你的帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-05-07T02:51:25.073

**Swift 3**：这是为了防止 Swift 3 和 4 中的内存泄漏

```
@IBAction func entryViewSelected(_ sender: UIButton) {

    self.dismiss(animated: true, completion: nil)
} 
```

# solr - Solr - 更高的产品价格获得更高的分数

> ID：14109392
> 
> 赞同：0
> 
> 时间：2013-01-01T09:44:03.887
> 
> 标签：solr

我正在使用 Solr 在我的目录中搜索产品。我想知道如何给价格较高的产品打高分？

这是我发送的请求：

```
http://localhost:8080/solr/collection1/query?q=iphone&rows=4&fq=price:[*+TO+500] 
```

我有很多 iPhone 手机壳，所以我想以更高的价格显示结果（为了获得 iPhone 蜂窝机器），或者如果有可能显示价格范围 0 - 50 的 1 个结果，另一个 50 - 100 的结果等。这样我就可以展示几个类别的几个产品。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T04:10:38.897

要为每个价格范围显示 1 个结果，请使用[Solr Grouping](http://wiki.apache.org/solr/FieldCollapsing)。

您可以使用类似的查询，

```
http://localhost:8080/solr/collection1/query?q=iphone&rows=4&group=true&group.query=price:[0 TO 50]&group.query=price:[51 TO 100] 
```

如果您愿意，您还可以将**group.main=true**设置为参数以获得正常格式的响应。

您可以使用**'group.limit'**参数来限制每组中的结果数。

您还可以使用**“group.sort”**参数在组内进行排序，以防您需要每个组中的多个结果按排序顺序排列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T14:34:57.287

使用 sort 参数按价格对结果进行排序。因此，请求变为：-

```
http://localhost:8080/solr/collection1/query?q=iphone&rows=4&fq=price:[*+TO+500]&sort=price desc 
```

我不确定是否会针对不同的价格范围显示 1 个结果，但也许，您可以使用 faceting 来做到这一点。

[http://searchhub.org/2009/09/02/faceted-search-with-solr/](http://searchhub.org/2009/09/02/faceted-search-with-solr/)

# java - 使用 xsom 处理 XSD 时出现空指针异常

> ID：14109393
> 
> 赞同：2
> 
> 时间：2013-01-01T09:44:10.357
> 
> 标签：java, xsd, nullpointerexception, xsom

我有一个这样的 XSD

```
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="www.aaa.com/aa" xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <xs:include schemaLocation="class.xsd"/>
    <xs:element name="record">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="Stud" minOccurs="0">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="fname" type="xs:string"/>
                            <xs:element name="lname" type="xs:string"/> 
                            ........                                
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>
</xs:schema> 
```

当我使用 XSOM 解析这个 XSD 时，它给出了`Null Pointer Exception`. 当我删除`<xs:include schemaLocation="class.xsd"/>`元素时它工作正常

```
 XSOMParser parser = new XSOMParser();
       parser.parse(inputStream);// -> this statement gives null pointer. 
```

**堆栈跟踪**

```
Exception in thread "main" java.lang.NullPointerException
    at com.sun.xml.xsom.impl.parser.NGCCRuntimeEx.parseEntity(NGCCRuntimeEx.java:327)
    at com.sun.xml.xsom.impl.parser.NGCCRuntimeEx.includeSchema(NGCCRuntimeEx.java:234)
    at com.sun.xml.xsom.impl.parser.state.includeDecl.action0(includeDecl.java:42)
    at com.sun.xml.xsom.impl.parser.state.includeDecl.leaveElement(includeDecl.java:109)
    at com.sun.xml.xsom.impl.parser.state.NGCCRuntime.endElement(NGCCRuntime.java:275)
    at org.xml.sax.helpers.XMLFilterImpl.endElement(XMLFilterImpl.java:546)
    at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)
    at org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)
    at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
    at org.xml.sax.helpers.XMLFilterImpl.parse(XMLFilterImpl.java:333)
    at com.sun.xml.xsom.parser.JAXPParser.parse(JAXPParser.java:115)
    at com.sun.xml.xsom.impl.parser.NGCCRuntimeEx.parseEntity(NGCCRuntimeEx.java:337)
    at com.sun.xml.xsom.impl.parser.ParserContext.parse(ParserContext.java:124)
    at com.sun.xml.xsom.parser.XSOMParser.parse(XSOMParser.java:183)
    at com.sun.xml.xsom.parser.XSOMParser.parse(XSOMParser.java:138) 
```

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T07:13:59.343

**为什么会发生 NullPointerException** 问题是没有错误处理程序来处理解析时抛出的异常，因此解析中的异常会导致返回 null。

将实现的实例设置`org.xml.sax.ErrorHandler`为 errorHandler 解决了这个问题。

```
parser.setErrorHandler(new DOMErrorHandler()); 
```

`DOMErrorHandler`是org.xml.sax.ErrorHandler 的实现。

**为什么 xs:include 不起作用**

The parser parses the `InputStream` of the specified `XSD`. So it won't get the `systemId()` of given schema, using which a baseURI has to be created for accessing included files. Thus it won't be able to access the file to be included.

So when i call `parser.parse()` with `InputSource` of the schema, it works fine.

# c++ - 为什么字符串参数与参数共享相同的地址

> ID：14109399
> 
> 赞同：1
> 
> 时间：2013-01-01T09:44:56.330
> 
> 标签：c++, string, parameters, copy, arguments

我使用字符串对象作为参数编写了一个函数：

```
void func(string str) 
```

当我在Linux中使用GDB调试它时，我发现它`str`的值`_M_p`与对应的参数passed( `test_string`)的值相同。

这是否意味着`str`并`test_string`共享相同的字符串数据？
这是什么原因？
它与复制构造函数的位复制过程有关吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T09:55:15.597

GCC 的 C++ 字符串实现使用写时复制策略来解决性能问题。见[http://en.wikipedia.org/wiki/Copy-on-write](http://en.wikipedia.org/wiki/Copy-on-write)

```
std::string x("Hello");
std::string y = x;  // x and y use the same buffer
y += ", World!";    // now y uses a different buffer
                    // x still uses the same old buffer 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T09:54:40.673

GCC 有——我不确定它是否仍然如此，但向后兼容性会要求它——一个 std::string 的写时复制 (COW) 实现。这意味着仅在必要时才会复制动态分配的资源。

它与复制构造函数的默认实现无关，std::string 的 COW 实现需要一个复制构造函数来执行某些操作（请注意，表示是共享的，因此如果发生修改则需要复制）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T09:55:01.003

库编写者可以`std::string`使用某种形式的[写](http://en.wikipedia.org/wiki/Copy-on-write)时复制优化来实现：当您复制一个字符串（如您的示例中发生的那样）时，两个副本共享字符串数据。只有当两个字符串之一被实际修改时，才会发生数据的实际副本（可能很昂贵）。

这通常比每次制作副本时复制整个数据更有效。（但必须特别注意线程安全。）

你会发现这篇文章很有趣：[C++ String Performance](http://www.drdobbs.com/cpp/c-string-performance/184405453)，它提到了这种类型的实现。

# zend-framework - 在基于 Zend Framework 1 的应用程序中设置模块的正确方法是什么

> ID：14109403
> 
> 赞同：0
> 
> 时间：2013-01-01T09:45:44.643
> 
> 标签：zend-framework, zend-framework-modules

嗨，伙计们，我对如何在基于 Zend Framework 的应用程序中使用模块感到有些困惑——从我读过的关于模块在您的应用程序中作为子应用程序工作的内容来看，但是模块中的内容和模块中的内容之间的界限在哪里模糊可以在控制器内处理。例如，在家庭预订应用程序中，您具有以下功能：

房屋管理 房价管理 网上订房+订房管理

考虑到我们有三种类型的用户：管理员用户、进行预订的客户和拥有用于预订的房屋的房东如何设置我们的模块，即我们是否会有类似的内容：

```
admin
->controllers
  ->houseController
  ->rateController
  ->bookingController
  ->customersController
landlord
->controllers
  ->houseController
  ->rateController
  ->bookingController
customer
->controllers
  ->bookingController 
```

还是会是这样的：

```
modules
->Booking
->Rate
->Customers 
```

后一种格式似乎有点像将控制器变成模块 - 这里的正确方法是什么？

在原始列表中 - 每个模块中有重复的控制器。差别非常小，例如：管理模块中的houseController - 管理员可以查看所有房东的所有房屋，而房东只能查看他们自己的房屋。从技术上讲，我在这里重复了 90% 的代码，这似乎不是正确的做法，因为我认为您不能使用 ACL 来限制可以查看的列表。这种逻辑的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T10:10:32.103

在我看来，这些功能中的大部分似乎更适合模型。您也许可以只使用带有属性控制器的默认模块，该控制器为客户和所有者提供不同的视图，并且可能为管理员提供一个单独的模块，因为管理员通常具有管理所需的更多功能。

```
//bare minimum, you may need to add controllers andd models for user/owner objects and rate managment
/application
    /controllers
        /IndexController // default entry to application, login, authentication
        /ErrorController
        /PropertyController // actions to view, book and reserve a property object, may provide some extra functions for owners.
    /modules
        /admin
            /IndexController // provides actions for administration activities such as managing user and owners and setting ACL and Authentication. 
```

这只是我的观点，请记住 ZF1 中的模块与 ZF2 中的模块完全不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T10:16:09.553

好的。让我们试着回答它...

这是一个经典的优化挑战（关于应用程序架构）。根据您的目标，您将有不同的优化方法。我更喜欢针对产生的技术功能优化应用程序架构。如果您想要的模块的功能

*   行政
*   房东
*   顾客

具有不同的功能范围，将它们分开（这也将简化 ACL 定义）。

根据您在问题中发布的内容，有一些控制器“重叠”：

*   房屋控制器
*   速率控制器
*   预订控制器

它们被多次使用。在功能方面，它们应该只在一个模块中使用。如果您不能将它们分开，则无需单独的模块...

希望这能让您大致了解如何使用模块。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T05:20:07.947

While the question is old I feel it still hasn't been answered. I myself have been setting up an e-commerce CMS project for the last few days and learning the basics of Zend Framework coming from a silver light Prism background. One thing that I can suggest is to understand that a module doesn't need to be small. The very definition of a module is "An independent self-contained unit" so in your case you'll have a "BookingModule" that when finished should be able to be chucked into any application and then with the proper tie ins can communicate with other modules. The issue with your layout is your relying on the modules to separate your different levels of access (which in a reply you basically ask "how should I do this"), what you want todo is use some sort of Authentication method to see if the current user can run a specific action. Off what you've given us I'd suggest a role based authentication method with maybe multiple actions (still deciding this part for myself).

Zend Framework

*   Hosts an "Application" which contain modules that utilize MVC

Module

*   An independent self-contained unit that can be plugged into any application
*   Can have hooks/tie-ins to communicate to other modules within an application

MVC

*   Models: Insure Data integrity through Validation verification
*   Views: Displays the Model's Data to the user
*   Controllers: Process user input through Actions that edit Data
    *   Action: Security logic should go here, to ensure the user can use this action.

Role

*   An Enum for use in Authentication

**TL;DR** For your project you should have 1 module, 4 controllers, 3 roles and an authorization Service tied to your controller's actions to verify the current user can run said action. This'll prevent repeating code and also allow it to be expandable without any code rewrites.

Read this to understand Authorization on Actions: [Activity based checks](http://lostechies.com/derickbailey/2011/05/24/dont-do-role-based-authorization-checks-do-activity-based-checks/)

Edit: Should probably note that there is nothing wrong with making each one a module as it is workable, its just more work to tie in and more coding with the only gain being you could pull say the Bookings Module into a completely different Application without the need for the other 2\. But from my understanding you just want 1 module

# android - 如何以编程方式使用 IntentFilter？

> ID：14109404
> 
> 赞同：1
> 
> 时间：2013-01-01T09:45:50.273
> 
> 标签：android, android-intent, intentfilter

当我在 Manifest 文件上尝试 Intent 过滤器时，它运行良好但是，当我在 Java 上尝试它让我创建一个 IntentFilter 对象时，它不起作用

```
public class MainActivity extends Activity {

Intent dialIntent;
IntentFilter filter;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    Button btnDial = (Button)findViewById(R.id.btnDial);
    final EditText txtNumber = (EditText)findViewById(R.id.txtNumber);
    btnDial.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            dialIntent = new Intent(Intent.ACTION_DIAL, Uri.parse("tel:"+(txtNumber.getText().toString())));
            Uri data = dialIntent.getData();

            filter = new IntentFilter();
            filter.addAction(dialIntent.getAction());
            filter.addCategory(Intent.CATEGORY_DEFAULT);
            filter.addDataScheme(data.getScheme());

            startActivity(dialIntent);
        }
    });
}
} 
```

它仅在 BroadcastReceiver 上有效吗？我已经尝试过了，但没有任何反应。如何以编程方式注册 IntentFilter？我仍然是 Android 编程的初学者。请给我一些解释

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-01T09:56:13.150

我认为您正在尝试拨打任何号码，要拨打特定号码，您可以使用以下代码：

```
Intent intent = new Intent(Intent.ACTION_CALL);
intent.setData(Uri.parse("tel:" + YOUR_NUMBER));
startActivity(intent); 
```

无需使用意图过滤器。

尽管您可以查看此链接...可能会对您有所帮助。

[无法在 android 中将“addAction”添加到 IntentFilter](https://stackoverflow.com/questions/6098901/cant-addaction-to-intentfilter-in-android)

# php - 如何通过键入“标记”来停止出错

> ID：14109412
> 
> 赞同：0
> 
> 时间：2013-01-01T09:46:36.467
> 
> 标签：php

我有一个字典页面。当我搜索链接显示为的内容时，`index.php?word=(search word here)`但是当我向此链接添加 ' 标记时`index.php?word=**name'**`

然后显示此错误警告：

```
mysql_fetch_array(): supplied argument is not a valid MySQL result resource in... 
```

如何阻止这一点。并绕过 ' 标记

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T09:49:10.800

在你的情况下，你会想要使用`mysql_real_escape_string($_GET['name'])`.

[http://php.net/manual/en/function.mysql-real-escape-string.php](http://php.net/manual/en/function.mysql-real-escape-string.php)

但是，我不建议使用`mysql_*`函数。我会在 PDO 或 mysqli 中使用准备好的语句。[您可以在此处 (PDO)](http://php.net/manual/en/book.pdo.php)或[此处 (mysqli)](http://php.net/manual/en/book.mysqli.php)找到更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:49:13.827

快速解决方法是[`mysql_real_escape_string`](http://php.net/manual/en/function.mysql-real-escape-string.php)针对您的查询使用。

但是，由于 mysql_* 已被弃用，未来证明的最佳选择是使用 PDO 或 mysqli_*

# c# - 手动创建 DataTable 类？

> ID：14109414
> 
> 赞同：1
> 
> 时间：2013-01-01T09:47:05.390
> 
> 标签：c#, .net, wcf-ria-services, silverlight-5.0

描述一下我的情况：

我想创建简单**的 Data-Modifier**，它只在页面上，并且该网格可以绑定到通过应用程序 Connection-String 指定`DataGrid`的任何表（按用户选择） 。`DataBase`最后，用户可以使用 . 保存此网格（作为表单）`Table binding`。

我**在 Wpf**中为负责创建表单的用户创建了这个数据修改器，并决定使用**Silverlight 作为预览**并由用户执行这些表单。

> 为了创建这些项目，我测试**了 Data-table**，发现它非常适合我的使用。它可以通过简单的 Select-Command（大声和清晰）**加载任何结构。**数据表也可以告诉我哪一行发生了变化（插入、更新和删除）。甚至将每一行都设为 DataRow（这太棒了）。

但是这里有一个大问题：**SilverLight 不支持 system.data**。我真的很困惑。

> 问：如何使用 Blow Condition 手动创建 DataTable-Class

1.  该类必须具有返回数据的二维数组之类的属性。
2.  该类（或内部属性）可以填充数据网格属性。
3.  Data-Grid-Row 可以删除、插入或更新，因此该类必须具有使用网格的能力。
4.  该类可以获取已更改行的状态列表。

# ejb - XA 事务和在其上下文之外工作

> ID：14109422
> 
> 赞同：1
> 
> 时间：2013-01-01T09:48:59.693
> 
> 标签：ejb, ejb-3.0, xa

我正在通过 MQ 向我的 EJB 应用程序发送一条消息，它是一个 XA 事务。收到消息后，我需要发送一些 http 请求并发回响应（这将是一个 RMI 调用）。
我担心的是，由于这些请求，队列侦听器可能会关闭（需要很长时间才能通过 http 请求进行回复）。
我发现的解决方案是在服务器管理的线程中完成工作，或者在另一个 EJB 中完成工作，因为它将在当前工作的 XA 事务的上下文中工作（不确定这一点）。
请让我知道什么是最好的解决方案。

# mysql - 按组计数字段数据库

> ID：14109427
> 
> 赞同：0
> 
> 时间：2013-01-01T09:50:43.047
> 
> 标签：mysql, database, codeigniter, count

餐桌顺序

```
id_order | date    | id_product | id_size | id_gender | name |
   1     |2012-1-1 |     1      |    1    |    1      | john |
   2     |2012-1-1 |     1      |    2    |    1      | mayer|
   3     |2012-1-1 |     2      |    1    |    1      | chris| 
```

表产品

```
id_shirt |  name   |
   1     |  jeans  |
   2     |  shirt  |
   3     |  jacket | 
```

表格尺寸

```
id_size  |  size  |
   1     |   S    |
   2     |   M    |
   3     |   L    |
   4     |   XL   | 
```

我会在性别男性的情况下制作这样的作品。

```
name  |  S  |  M  |  L  |  XL  |
jeans |  2  |     |     |      |
shirt |     |  1  |     |      | 
```

请在codeigniter代码中查询。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T09:53:49.573

```
SELECT  b.name,
        SUM(CASE WHEN c.size = 'S' THEN 1 ELSE 0 END) S,
        SUM(CASE WHEN c.size = 'M' THEN 1 ELSE 0 END) M,
        SUM(CASE WHEN c.size = 'L' THEN 1 ELSE 0 END) L,
        SUM(CASE WHEN c.size = 'XL' THEN 1 ELSE 0 END) XL
FROM    orderTB a
        INNER JOIN productTB b
            ON a.id_product = b.id_shirt
        INNER JOIN sizeTB c
            ON a.id_size = c.id_size
GROUP BY b.name 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/df10d/2)

或者，如果您有未知的大小值，则更喜欢*动态 SQL ，例如*

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'SUM(CASE WHEN c.size = ''',
      size,
      ''' THEN 1 ELSE 0 END) AS ',
      size
    )
  ) INTO @sql
FROM sizeTB;

SET @sql = CONCAT('SELECT  b.name, ', @sql, ' 
                  FROM    orderTB a
                          INNER JOIN productTB b
                              ON a.id_product = b.id_shirt
                          INNER JOIN sizeTB c
                              ON a.id_size = c.id_size
                  GROUP BY b.name');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/df10d/6)

# eclipse - 在eclipse中没有得到输出

> ID：14109429
> 
> 赞同：1
> 
> 时间：2013-01-01T09:51:11.370
> 
> 标签：eclipse, opencv

我在 ubuntu 上使用 opencv 将 Eclipse 用于我的异议检测代码。我构建了下面的代码，它没有给我任何错误，即使是二进制文件也是 formrd 但是当我运行代码时，它没有给出任何结果，也没有捕获我的相机。

```
#include "opencv2/objdetect/objdetect.hpp"
#include "opencv2/highgui/highgui.hpp"
#include "opencv2/imgproc/imgproc.hpp"

#include <iostream>
#include <stdio.h>

using namespace std;
using namespace cv;

/** Function Headers */
void detectAndDisplay( Mat frame );

 String face_cascade_name = "haarcascade_frontalface_alt.xml";
  String eyes_cascade_name = "haarcascade_eye_tree_eyeglasses.xml";
  CascadeClassifier face_cascade;
   CascadeClassifier eyes_cascade;
   string window_name = "Capture - Face detection";
   RNG rng(12345);

   int main( void )
   {
  CvCapture* capture;
  Mat frame;

    //-- 1\. Load the cascades
      if( !face_cascade.load( face_cascade_name ) ){ printf("--(!)Error loading\n"); return -1; };
    if( !eyes_cascade.load( eyes_cascade_name ) ){ printf("--(!)Error loading\n"); return -1; };

    //-- 2\. Read the video stream
     capture = cvCaptureFromCAM( -1 );
   if( capture )
    {
         for(;;)
    {
        frame = cvQueryFrame( capture );

        //-- 3\. Apply the classifier to the frame
         if( !frame.empty() )
           { detectAndDisplay( frame ); }
          else
           { printf(" --(!) No captured frame -- Break!"); break; }

       int c = waitKey(10);
       if( (char)c == 'c' ) { break; }

      }
      }
     return 0;
    }

   void detectAndDisplay( Mat frame )
   {
    std::vector<Rect> faces;
     Mat frame_gray;

     cvtColor( frame, frame_gray, CV_BGR2GRAY );
    equalizeHist( frame_gray, frame_gray );
     //-- Detect faces
         face_cascade.detectMultiScale( frame_gray, faces, 1.1, 2, 0|CV_HAAR_SCALE_IMAGE, Size(30, 30) );

      for( size_t i = 0; i < faces.size(); i++ )
       {
  Point center( faces[i].x + faces[i].width/2, faces[i].y + faces[i].height/2 );
  ellipse( frame, center, Size( faces[i].width/2, faces[i].height/2), 0, 0, 360, Scalar( 255, 0, 255 ), 2, 8, 0 );

        Mat faceROI = frame_gray( faces[i] );
       std::vector<Rect> eyes;

        //-- In each face, detect eyes
        eyes_cascade.detectMultiScale( faceROI, eyes, 1.1, 2, 0 |CV_HAAR_SCALE_IMAGE, Size(30, 30) );

        for( size_t j = 0; j < eyes.size(); j++ )
         {
          Point eye_center( faces[i].x + eyes[j].x + eyes[j].width/2, faces[i].y + eyes[j].y + eyes[j].height/2 );
          int radius = cvRound( (eyes[j].width + eyes[j].height)*0.25 );
           circle( frame, eye_center, radius, Scalar( 255, 0, 0 ), 3, 8, 0 );
             }
          }
            //-- Show what you got
               imshow( window_name, frame );
               } 
```

# c++ - omp_get_thread_num() 返回错误的数字？

> ID：14109432
> 
> 赞同：3
> 
> 时间：2013-01-01T09:51:56.853
> 
> 标签：c++, c, openmp, intel

代码有数千行，所以我无法粘贴它们，但函数流程看起来像：

```
void Func_1(double * x, int nx, NUM_THREADS)
{
  omp_set_num_threads(NUM_THREADS);
 //...
};

void Func_2(double *y, int ny, NUM_THREADS)
{ 

 omp_set_num_threads(NUM_THREADS);
   //...
  #pragma omp parallel for 
    for (int i=0; i<N; ++i)
    {
      int threadID=omp_get_thread_num();
       //...
     };

 };

int main (void)    
{

//...
  Func_1(x, nx, NUM_THREADS);
  Func_2(y, ny, NUM_THREADS);

//...

}; 
```

所以基本上我得到了两个函数，每个函数都调用 omp_set_num_threads ，问题是，现在如果我构建程序，那么`threadID`运行时返回的完全是胡说八道，`threadID`变成一些非常大的 int 数，比如 16113312 ......远远超过`NUM_THREADS`.

有没有人在使用 Open MP（Intel ICC 13.0）时遇到过类似的问题？

顺便说一句，一个可能的提示是，但是我在单独的 DLL 库中构建`Func_1`并要求从 DLL 调用这些函数，而不是与 DLL 一起构建它们，然后一切正常。`Func_2``main()``main()`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T23:01:16.307

当我尝试设置与导出所需线程数不同的线程数时，我遇到了这个错误。即在开始您的应用程序之前，您必须

```
export OMP_NUM_THREADS  4 
```

检查此位置的线程数是否与您在 omp_set_num_threads() 中使用的不同；

希望这可以帮助。

# jquery - 关闭怪癖模式会影响网页

> ID：14109440
> 
> 赞同：2
> 
> 时间：2013-01-01T09:53:13.577
> 
> 标签：jquery, html, css, doctype

目前我正在使用 ie9 来呈现我的网页。在使用 'margin: 0 auto' css 属性来满足我的一项要求时，它不起作用。所以我浏览了很多并找到了[原因](https://stackoverflow.com/questions/3988034/centering-div-with-ie)，我没有指定 doctype 以关闭 quirks 模式。所以我添加了链接中指定的文档类型。结果，我的网页似乎没有按原样加载。它省略了一些与之绑定的 css 和脚本 [jquery]。

当我尝试通过删除文档类型来加载网页时，它会正常显示所有内容，但 margin: 0 auto 似乎不起作用..

顺便说一句，这个[链接](https://stackoverflow.com/questions/13231768/does-the-jquery-window-load-event-not-fire-on-pages-without-a-doctype-d)指出 jquery 将对关闭和打开的怪癖模式做出不同的反应。所以我也尝试更改我的脚本。但同样的结果发生了。

在这个阶段我很困惑。任何线索。？

**编辑：**

HTML：

```
<html>
<head>
<title>Rajaprabhu</title>
<link rel="stylesheet" type="text/css" href="css/PrabhuCss.css">
</head>

<body>

 <div id="DivMenu">
   <div id="DivLogo">R</div>
 </div>

 <div id="DivMain">
   <div id="DivHeader">
   </div>
   <div id="DivContent">
     <div id="DivSlider">
       <div id="DivHome">        
       </div>
       <div id="DivSkills">
       </div>
     </div>
   </div>
   <div id="DivFooter">
   </div>
 </div>

</body>

</html> 
```

CSS：[PrabhuCss.css]

```
#DivMain
{
position: relative;
width:100%;
height:100%;
z-index:1;
}

#DivFooter
{
position:absolute;
width:100%;
height:5%;
bottom:0%;
left:0%;
background-image: url('../Images/ImgHeaderFooter.jpg');
z-index:5;
border-top: 2px solid #2F2E2E;   
}

#DivHeader
{
position:absolute;
width:100%;
height:10%;
top:0%;
left:0%;
background-image: url('../Images/ImgHeaderFooter.jpg');
z-index:6;
border-bottom: 2px solid #2F2E2E;
}

#DivMenu
{
position:absolute;
border-radius: 999px;
background: #ccc;
border: 2px solid #2F2E2E;
cursor: pointer;
z-index:7;
text-align:center;
width: 4%;
height: 8%;
left: 48%;
top: 6%;
}

#DivLogo
{
font-family: 'Wendy One', sans-serif;
font-size:35px;
position:relative;
top:50%;
margin-top: -18px;
}

#DivContent
{
position:relative;
width:100%;
height:85.02%;
top:10%;
left:0%;
z-index:2;
overflow: hidden;
}

#DivSlider
{
position:absolute;
width:100%;
height:100%;
z-index:3;
}

#DivHome
{
width:100%;
height:50%;
z-index:4;
background-image: url('../Images/ImgBackground.jpg')
}

#DivSkills
{
width:100%;
height:50%;
z-index:4;
background-image: url('../Images/ImgBackground.jpg')
}

body
{
margin:0;
padding:0;
border: 0;
overflow:hidden;
} 
```

如果我`<!doctype html>`在我的 Html 顶部使用，页面显示不正确。
但是没有它，渲染就不会有任何问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:18:29.153

**您可能包含了错误的文档类型。**

现代标准的文档类型很简单，`<!doctype html>`可以在页面的开头使用。

例如：

```
<!doctype html>
<html>
    <head></head>
    <body></body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:19:18.700

我在您的 CSS 中看不到任何具有该规则 ( `margin: 0 auto;`) 的内容，但通常`auto`仅当元素具有定义的宽度时才适用于边距。

此外，您确实应该指定一个字符集。建议在大多数情况下使用 UTF-8：

```
<!doctype html>
<head>
    <meta charset="utf-8" />
    <!-- everything else... --> 
```

这应该是元素内的第一个`<head>`元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-03T17:39:32.697

找到解决方案，

在我们为其父元素分配任何固定高度之前，相对于其父元素的子元素不会获得任何高度。因此，在我的情况下，DivMenu 是相对于 body 和 html 标签，但我没有为它指定任何高度。在 Quirks 模式下，渲染引擎只是离开上述规则并渲染页面，但在其他`<!DOCTYPE html>`指定 doctypes (Ex: ) 的模式下，它会考虑该规则。那就是问题所在。这就是我的页面崩溃的原因。

现场版：[之前](http://jsfiddle.net/laraprabhu/g5uMp/6/)-[之后](http://jsfiddle.net/laraprabhu/g5uMp/5/)

CSS：

```
html,body          //Html tag added
{
height:100%;       //Added this
width:100%;        //Added this
margin:0;
padding:0;
border: 0;
overflow:hidden;
} 
```

# html - 视口元标记未按预期执行

> ID：14109449
> 
> 赞同：0
> 
> 时间：2013-01-01T09:54:25.620
> 
> 标签：html, css, mobile, meta

使用此元标记，据我了解应该使网站布局适合移动屏幕宽度并仅允许垂直滚动，

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
```

由于某种原因，它在我的网站上没有按预期运行，`http://www.nikib.co.il/` 并且我的行为很奇怪

也尝试使用

```
 <meta name="viewport" content="width=device-width" /> 
```

但我仍然没有得到预期的结果......谁能想到我在这里做错了什么的原因？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T11:35:24.907

您的视口似乎是正确的。你的 CSS 不是。要获得预期的行为，您需要将站点宽度调整为最大 100%，而不是固定的像素宽度。

这将导致完整的代码审查并部分重建您的网站 css（和 html）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:16:47.093

将此代码添加到您的脑海中：

```
<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale = 1.0, width=device-width, user-scalable=no"> 
```

# ruby - 捆绑安装在 Nokogiri 停止

> ID：14109450
> 
> 赞同：4
> 
> 时间：2013-01-01T09:54:27.360
> 
> 标签：ruby

我试图在我的 Rails 应用程序上进行捆绑安装，但它卡在“安装 nokogiri”。错误消息底部的说明说

```
Make sure that `gem install nokogiri -v '1.5.5'` succeeds before bundling. 
```

看到后我就试了

```
gem install nokogiri -v '1.5.5' 
```

它告诉我安装 Nokogiri 时出错。我在 Mac 上的 Rails 3.0.4 应用程序中使用 Ruby 1.9.2。

任何人都可以建议修复吗？

```
Installing nokogiri (1.5.5) with native extensions 
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

        /Users/mm/.rvm/rubies/ruby-1.9.2-p290/bin/ruby extconf.rb 
checking for libxml/parser.h... *** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
    --with-opt-dir
    --without-opt-dir
    --with-opt-include
    --without-opt-include=${opt-dir}/include
    --with-opt-lib
    --without-opt-lib=${opt-dir}/lib
    --with-make-prog
    --without-make-prog
    --srcdir=.
    --curdir
    --ruby=/Users/mm/.rvm/rubies/ruby-1.9.2-p290/bin/ruby
    --with-zlib-dir
    --without-zlib-dir
    --with-zlib-include
    --without-zlib-include=${zlib-dir}/include
    --with-zlib-lib
    --without-zlib-lib=${zlib-dir}/lib
    --with-iconv-dir
    --without-iconv-dir
    --with-iconv-include
    --without-iconv-include=${iconv-dir}/include
    --with-iconv-lib
    --without-iconv-lib=${iconv-dir}/lib
    --with-xml2-dir
    --without-xml2-dir
    --with-xml2-include
    --without-xml2-include=${xml2-dir}/include
    --with-xml2-lib
    --without-xml2-lib=${xml2-dir}/lib
    --with-xslt-dir
    --without-xslt-dir
    --with-xslt-include
    --without-xslt-include=${xslt-dir}/include
    --with-xslt-lib
    --without-xslt-lib=${xslt-dir}/lib
    --with-libxslt-config
    --without-libxslt-config
    --with-pkg-config
    --without-pkg-config
    --with-libxml-2.0-config
    --without-libxml-2.0-config
    --with-pkg-config
    --without-pkg-config
    --with-libiconv-config
    --without-libiconv-config
    --with-pkg-config
    --without-pkg-config
/Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:368:in `try_do': The complier failed to generate an executable file. (RuntimeError)
You have to install development tools first.
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:452:in `try_cpp'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:853:in `block in find_header'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:693:in `block in checking_for'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:280:in `block (2 levels) in postpone'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:254:in `open'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:280:in `block in postpone'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:254:in `open'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:276:in `postpone'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:692:in `checking_for'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:852:in `find_header'
    from extconf.rb:114:in `<main>'

Gem files will remain installed in /Users/mm/.rvm/gems/ruby-1.9.2-p290@rails304/gems/nokogiri-1.5.5 for inspection.
Results logged to /Users/mm/.rvm/gems/ruby-1.9.2-p290@rails304/gems/nokogiri-1.5.5/ext/nokogiri/gem_make.out
An error occurred while installing nokogiri (1.5.5), and Bundler cannot continue.
Make sure that `gem install nokogiri -v '1.5.5'` succeeds before bundling. 
```

* * *

`brew doctor`说没有问题。 `brew update`说一切都已经更新了。当我这样做时，`brew install libxslt libxml2 libiconv`我收到此错误：

```
Error: No available formula for libiconv
Apple distributes libiconv with OS X, you can find it in /usr/lib.
Some build scripts fail to detect it correctly, please check existing
formulae for solutions. 
```

当我尝试这样做时`gem install nokogiri`，出现此错误：

```
Building native extensions.  This could take a while...
ERROR:  Error installing nokogiri:
    ERROR: Failed to build gem native extension.

        /Users/mm/.rvm/rubies/ruby-1.9.2-p290/bin/ruby extconf.rb
checking for libxml/parser.h... *** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
    --with-opt-dir
    --without-opt-dir
    --with-opt-include
    --without-opt-include=${opt-dir}/include
    --with-opt-lib
    --without-opt-lib=${opt-dir}/lib
    --with-make-prog
    --without-make-prog
    --srcdir=.
    --curdir
    --ruby=/Users/mm/.rvm/rubies/ruby-1.9.2-p290/bin/ruby
    --with-zlib-dir
    --without-zlib-dir
    --with-zlib-include
    --without-zlib-include=${zlib-dir}/include
    --with-zlib-lib
    --without-zlib-lib=${zlib-dir}/lib
    --with-iconv-dir
    --without-iconv-dir
    --with-iconv-include
    --without-iconv-include=${iconv-dir}/include
    --with-iconv-lib
    --without-iconv-lib=${iconv-dir}/lib
    --with-xml2-dir
    --without-xml2-dir
    --with-xml2-include
    --without-xml2-include=${xml2-dir}/include
    --with-xml2-lib
    --without-xml2-lib=${xml2-dir}/lib
    --with-xslt-dir
    --without-xslt-dir
    --with-xslt-include
    --without-xslt-include=${xslt-dir}/include
    --with-xslt-lib
    --without-xslt-lib=${xslt-dir}/lib
    --with-libxslt-config
    --without-libxslt-config
    --with-pkg-config
    --without-pkg-config
    --with-libxml-2.0-config
    --without-libxml-2.0-config
    --with-libiconv-config
    --without-libiconv-config
/Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:368:in `try_do': The complier failed to generate an executable file. (RuntimeError)
You have to install development tools first.
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:452:in `try_cpp'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:853:in `block in find_header'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:693:in `block in checking_for'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:280:in `block (2 levels) in postpone'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:254:in `open'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:280:in `block in postpone'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:254:in `open'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:276:in `postpone'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:692:in `checking_for'
    from /Users/mm/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/mkmf.rb:852:in `find_header'
    from extconf.rb:115:in `<main>' 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T10:57:47.963

假设您尚未安装 Homebrew：

```
ruby -e "$(curl -fsSkL raw.github.com/mxcl/homebrew/go)"

brew doctor 
```

确保一切正常

```
brew update 
```

为了能够安装 libiconv

```
brew tap homebrew/dupes

brew install libxslt libxml2 libiconv
brew link libxslt libxml2 libiconv

gem install nokogiri 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T09:58:27.260

如果您使用的是 Ubuntu，请尝试：

```
sudo apt-get install libxslt-dev libxml2-dev
gem install nokogiri 
```

如果您使用的是 Mac OS，可以尝试“[为什么在 Mac OS 上安装 Nokogiri 失败，并且缺少 libiconv？](https://stackoverflow.com/questions/5528839/installing-nokogiri-fails-libiconv-missing) ”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-23T17:16:08.793

对我来说，问题是通过这些解决的：

```
bundle lock --add-platform x86-mingw32 x86-mswin32 x64-mingw32 java

gem install nokogiri 
```

[在“捆绑更新”上显示此消息](https://i.stack.imgur.com/QO4hZ.png)

# android - 创建活动而不是恢复它

> ID：14109451
> 
> 赞同：0
> 
> 时间：2013-01-01T09:54:38.607
> 
> 标签：android

我正在写一个提醒。我使用警报管理器在预定时间调用提醒活动。我想要一个新的 Activity 实例而不是恢复旧实例，因为我使用 setTheme 和其他一些必须在 UI 初始化之前调用的东西。

我从 Android Alarm an Clock 复制了这段代码：

```
Intent i = new Intent(context, ActivityReminder.class)
    .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_NO_USER_ACTION);
PendingIntent pi = PendingIntent.getActivity(context, 0, i, PendingIntent.FLAG_CANCEL_CURRENT);
am.set(AlarmManager.RTC_WAKEUP, scheduled_time, pi); 
```

我几乎尝试了所有标志都没有运气。

我还尝试完成 onPause 活动，因为它只是一个没有状态的提醒，但是那里出现了另一个问题：

```
java.lang.runtimeexception wakelock under-locked 
```

我认为这是因为唤醒锁被隐式释放并且释放命令引发异常，但显示永远不会以这种方式关闭。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-10T12:13:18.203

FLAG_ACTIVITY_MULTIPLE_TASK 有效。

# javascript - 使用 IE Tester 定位 Javascript 错误

> ID：14109453
> 
> 赞同：0
> 
> 时间：2013-01-01T09:54:45.253
> 
> 标签：javascript, debugging, internet-explorer-7

我正在使用 IE Tester 在本地测试我的 Web 应用程序，以测试它如何与不同版本的 Internet Explorer 一起工作。它在 IE8 和 IE9 上运行良好，但在 IE7 中它返回一个脚本错误：

```
Line: 85
Char: 9
Error: Expected identifier, string or number
Code: 0
URL: http://localhost:9662/test.aspx 
```

我已经在不同的地方阅读了这个问题的原因，在参数函数的末尾有一个逗号。

我的问题不是了解问题的原因，而是定位导致问题的线路。我的 test.aspx 的行数少于 85。我假设 IE7 将我页面中的脚本展平，并在使用所有脚本渲染页面后返回错误行。

如何在这方面使用 IE 测试器/调试器或任何其他工具找到确切的行。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:50:48.660

IE7 没有扁平化脚本；ASP 是一种动态语言，您的页面 ( *test.aspx* ) 包含计算结果为声明式 (HTML) 的命令式表达式 - 此声明式页面将包含折叠到动态页面中的任何逻辑，并且在大多数情况下，将导致较长的内容。

IE Tester 没有调试步进器，但您应该能够简单地查看（评估的）页面源并跟踪 JavaScript 代码中的确切行/列。

*   在您选择的 IE 实例（可能是 IE7）中运行该页面以重现错误消息：

    ![ie-tester 错误信息](../Images/6c33e0f0fce8339104a531366ff4bc5f.png)

*   然后单击**开发工具下的****查看源代码**按钮并跟踪消息中所述的位置（行/字符）：

     **![ie-tester 查看源码](../Images/b07bd1cb47a3977bf2aac72d5d61c2e6.png)**

# ruby-on-rails - Rails 字符串数组和 PostgreSQL

> ID：14109454
> 
> 赞同：2
> 
> 时间：2013-01-01T09:54:46.913
> 
> 标签：ruby-on-rails, ruby, rails-postgresql, postgres-ext

我有一个名为的 Rails 模型`Container`，其中有一列名为`products`. 它是 Postgres 和 'postgres_ext' gem 支持的字符串数组。

GEMFILE 的相关部分是：

```
gem 'rails', '3.2.9'
gem 'pg'
gem 'postgres_ext'
gem 'activerecord-postgres-hstore', git: 'git://github.com/engageis/activerecord-postgres-hstore.git' 
```

迁移的相关部分是：

```
 t.string :products, array: true 
```

我正在我的`Container`模型中编写一个公共方法，它将产品添加到这个数组中。该方法如下所示：

```
 attr_accessible :products

 def add_to_products(product)

  if products.blank? || products.size == 0 ## product array is either uninstantiated or blank
    products = [product.id]
  else  

    unless products.include? product.id
      products << product.id
    end
  end
end 
```

这些是 irb/console 中的结果：

```
pry(main)> c = Container.first
=> #<Container id: "2765cc19-98f8-4e42-a1be-538788424ec7", name:....
pry(main)> p = Product.first
=> #<Product id: "319a25ae-87fe-4769-a9de-1a8e0db9e84f", name: ....
pry(main)> c.add_to_products(product)
pry(main)> c.products
=> nil
pry(main)> c.products= [] << "319a25ae-87fe-4769-a9de-1a8e0db9e84f"
pry(main)> c.products
=> ["319a25ae-87fe-4769-a9de-1a8e0db9e84f"] 
```

我正在挠头，想弄清楚该`add_to_products`方法出了什么问题。有人可以对这种奇怪的情况有所了解吗？为什么通过此方法传递值时未设置值？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T15:23:30.143

这个问题实际上是由于使用`<<`. Rails 不会就地跟踪属性的修改（[请参阅此问题](https://github.com/rails/rails/issues/6954)）。[我在使用说明](https://github.com/dockyard/postgres_ext#usage-notes)中概述了在使用数组时要避免使用`<<`运算符，因为 rails 不会看到这种变化，它实际上会导致默认值出现问题。

通过检查`products_changed?`状态也可以看出这一点。使用时会为假`<<`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T12:28:41.827

这与在 Ruby 赋值中创建局部变量这一事实有关，除非您明确声明接收者，`self`在这种情况下就是这样。所以：

```
products = [product.id] 
```

...将创建一个名为`products`. 然而：

```
self.products = [product.id] 
```

...是您真正想要的。

# java - 当我在 Android 上解压 RAR 文件时出现 OutOfMemoryError

> ID：14109455
> 
> 赞同：1
> 
> 时间：2013-01-01T09:54:53.420
> 
> 标签：java, android, rar

我尝试这样做：[Decompress Rar file in Android](https://stackoverflow.com/questions/9450500/decompress-rar-file-in-android)

但是我的一个 rar 文件无法解压缩。

日志：

```
01-01 17:41:32.121: E/AndroidRuntime(12799): FATAL EXCEPTION: Thread-771
01-01 17:41:32.121: E/AndroidRuntime(12799): java.lang.OutOfMemoryError
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.unpack.ppm.SubAllocator.startSubAllocator(SubAllocator.java:146)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.unpack.ppm.ModelPPM.decodeInit(ModelPPM.java:216)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.unpack.Unpack.readTables(Unpack.java:656)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.unpack.Unpack.unpack29(Unpack.java:165)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.unpack.Unpack.doUnpack(Unpack.java:120)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.Archive.doExtractFile(Archive.java:500)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.Archive.extractFile(Archive.java:442)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.testutil.ExtractArchive.extractArchive(ExtractArchive.java:73)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.github.junrar.testutil.ExtractArchive.extractArchive(ExtractArchive.java:29)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.letusread.util.DeCompressUtil.deCompress(DeCompressUtil.java:140)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at com.letusread.activity.FileListActivity$7.run(FileListActivity.java:338)
01-01 17:41:32.121: E/AndroidRuntime(12799):    at java.lang.Thread.run(Thread.java:856)
01-01 17:41:32.324: E/MobclickAgent(12799): onEndSession called before onStartSession 
```

我的文件已解压缩，但我的应用程序已崩溃！其他文件可以正常解压；你能帮我解决这个错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-20T15:00:12.870

实际上，这似乎是实现的一个错误。这是我用来避免问题的解决方法：

在*com.github.junrar.unpack.ppm.ModelPPM.java*中，第 196 行：`MaxMB = unpackRead.getChar();`

该方法`getChar`，在一些奇怪的情况下，返回一个非常大的数字。这应该是由于 junrar 不支持的标头损坏或标头选项。

我的解决方法是检查 MaxMB 是否大于 1 并设置为 1。我已经使用此修复程序很长时间没有问题。

```
int MaxMB = 0;
if (reset) {
    MaxMB = unpackRead.getChar();
    if (MaxMB > 1) { //Workaround
        MaxMB = 1;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:40:30.777

似乎问题在于为提取文件分配堆内存。[您可以在文件SubAllocator.java](https://github.com/edmund-wagner/junrar/blob/master/unrar/src/main/java/com/github/junrar/unpack/ppm/SubAllocator.java)的第 146 行看到 OutOfMemoryError 。在这一行是字节数组初始化：

```
heap = new byte[realAllocSize]; 
```

显然变量*realAllocSize*大于堆上的可用可用内存（以字节为单位）。在 Android 设备上，每个 VM 的堆大小通常为 32 或 64 MB（每个活动都有自己的 VM）。似乎问题出在 junrar 库中，该库未针对在 Android 设备上使用进行优化并消耗大量内存。

# python - 黄鼠狼程序，不懂 Python 随机库？

> ID：14109460
> 
> 赞同：1
> 
> 时间：2013-01-01T09:55:15.677
> 
> 标签：python, random, for-loop

我正在尝试 Richard Dawkin 的[Weasel 程序](http://en.wikipedia.org/wiki/Weasel_program)的 Python 版本，它演示了随机选择与累积选择之间的区别，并且我的变异算法存在一些问题。我在想也许我不明白如何使用 Python 随机库。这是有问题的代码：

```
#Cumulative selection guesser
while counter <  2:
    for i in range(gen):
        for j in range(len(child)):
            mutation = random.randint(0,99)
            if mutation in range(5):
                 child[j] = random.choice(chars)
        offspring.append(child)
    counter += 1 
```

“Counter”用于测试，代码完成后将更改为与目标短语是否相等的测试，“child”是28个随机字母的列表，“gen”是代数，只是一个常数像 100 或 50 这样的数字，“chars”是大写字母和空格字符的字符串，“offspring”是一个空列表，我想将所有生成的“孩子”放入其中。如果这没有意义，我可以包括其余的代码，但我遇到的主要问题是每一代中的每个孩子都是完全相同的。

应该发生的是代码遍历“child”中的每个元素，如果发生突变，则将子元素中的特定元素更改为新的随机字符。然后“孩子”被添加到后代列表中。所以后代应该是这样的：

DDSMMHYODHFZTZRKWQUQYGMLUDB

DDSMMHYODHFZTZRKW **M** UQYGMLUDB

DDSM **I** HYODHFZTZRKWQUQYGMLUDB

D **P** SMMHYODHFZTZRKWQUQYGML **Q** DB

（变体加粗）

乘以变量“gen”指定的数量。相反，我让每个孩子都完全一样，没有变化，就像这样：

DDSMMHYODHFZTZRKWQUQYGMLUDB

DDSMMHYODHFZTZRKWQUQYGMLUDB

DDSMMHYODHFZTZRKWQUQYGMLUDB

DDSMMHYODHFZTZRKWQUQYGMLUDB

等我花了很长时间试图找出问题所在，并尝试分别测试代码的每一部分，它似乎按我预期的方式运行。我唯一能想到的是“突变”的值没有改变，因为当“random.randint()”被调用时，它只生成一个随机整数一次。这是随机函数的工作原理吗？我希望 for 循环的每次迭代都会生成一个新的随机整数。

如果有人有任何想法或建议，我将不胜感激。我在这里用头撞墙。另外，如果有帮助，我可以发布整个代码。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:03:48.357

`child`在将其附加到之前制作一个副本`offspring`：

```
offspring.append(child[:]) 
```

`child[:]`返回一个与 具有相同内容的新列表`child`。由于是新列表，未来的突变`child`不会影响`child[:]`.

如果您不这样做，`offspring`将包含对*完全相同列表*的多个引用。因此， 的每个突变`child`都会影响`offspring`. 中的每个项目`offspring`最终都等于 的最后一个值`child`。

# php - 尝试将 json 数据从 Python 发布到 PHP

> ID：14109461
> 
> 赞同：0
> 
> 时间：2013-01-01T09:55:18.157
> 
> 标签：php, python, json

我已经修改了[http://fivefilters.org/term-extraction/](http://fivefilters.org/term-extraction/)这个项目，以便：

给定文本输入 (https://gist.github.com/4426264)，python 脚本 term-extraction.py 以 json 格式输出关键字，并通过 POST 将 json 发送到 php 文件 term-extraction.py -> echo.php

链接到 term-extraction.py [https://gist.github.com/4426181](https://gist.github.com/4426181) 链接到 echo.php [https://gist.github.com/4426193](https://gist.github.com/4426193)

这是 php 脚本给出的 json 输出：[https](https://gist.github.com/4426197) ://gist.github.com/4426197 这里是 term-extraction.py 的输出：http: [//jsfiddle.net/Bw7UX/](http://jsfiddle.net/Bw7UX/)

这是我想传递给 php 的所需数组输出：[https ://gist.github.com/4426208](https://gist.github.com/4426208)

所以，我的问题本质上是：

```
Array
(
    [json] => None
) 
```

我希望 php 数组具有来自 python 脚本的所有关键字的值，例如这个链接：[https ://gist.github.com/4426208](https://gist.github.com/4426208)

```
array(42) {
  [0]=>
  string(10) "rajaratnam"
  [1]=>
  string(5) "court"
  [2]=>
  string(14) "district court"
...
[41]=>
string(6) "appeal"
} 
```

我认为我的问题可能出在 term-extraction.py 的第 69 到 78 行，特别是这一行：

```
mydata=[('json',  self.response.out.write(json.dumps(list, indent=0)))] #trying to create an 
```

提前感谢您的回复，我对 python 很陌生，所以我很感谢您的耐心。

编辑：这是脚本运行时的输出。我不明白为什么 json 是从他们的 python 脚本输出的，但它不在 PHP 数组中。` 开始回声.php

空值

echoing post json: POST ITEMS: NO POST ITEMS Array () END echo.php

状态：200 OK 缓存控制：无缓存 内容类型：文本/纯文本 过期时间：1990 年 1 月 1 日星期五 00:00:00 GMT 内容长度：533 {“json”：[“rajaratnam”，“法院”， “地区法院”、“sec”、“法院文件”、“证券欺诈”、“法院记录”、“galleon 集团”、“交易所委员会”、“sakthi prasad”、“我们”、“案件”、“判决” 、“集团”、“证券”、“gupta”、“区”、“sakthi”、“权利”、“co”、“创始人”、“处罚”、“raj”、“咨询”、“天”、“经理”、“阴谋”、“年”、“年”、“普拉萨德”、“公司”、“网络”、“诉讼”、“编辑”、“vs”、“sachs”、“galleon”、“commission”、“reuters”、“papers”、“tips”、“appeal”] } `

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:36:14.500

似乎 self.response.out.write 函数返回 None。我认为在第 69 行你应该有：

```
mydata = json.dumps({'json': list}, indent=0) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:23:14.223

我不熟悉python，但试图提供帮助。

您确定在将“json 数据”发送到 php 之前已将其转换为“字符串”吗？尝试传递硬编码字符串 ({'name':'Alex'}) 并查看 php 端发生了什么。

# security - 沙盒能否减轻缓冲区溢出的影响。

> ID：14109463
> 
> 赞同：0
> 
> 时间：2013-01-01T09:55:23.430
> 
> 标签：security, linux-kernel, selinux, seccomp

我必须对沙盒过程进行一些研究。但我无法理解沙盒如何减轻缓冲区溢出。假设我有我的服务器应用程序（一个 FTP 服务器），它受到可以远程利用的缓冲区溢出的影响。

沙盒作为 Vx32，Janus ostia 如何阻止注入代码访问文件系统？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T14:57:24.137

他们根本不授予沙箱中的任何代码访问文件系统的权限。如果发生缓冲区溢出，则该溢出发生在沙盒程序内部，因此相关程序仍然是沙盒程序。

# android - Android BackupManager 设备重启后无法恢复

> ID：14109464
> 
> 赞同：0
> 
> 时间：2013-01-01T09:55:47.440
> 
> 标签：android, backup

我遵循了这个 Android 文档的指导方针并实施了备份管理器。我可以使用这个框架备份和恢复 sharedpref，但是当我卸载应用程序然后当我关闭然后打开我的手机时，sharedpref 没有恢复。在android文档中，我收到了警告：

```
Warning! When backup is disabled, the current backup transport will explicitly wipe the entire active data set from its backend storage. 
```

这样当用户说他们不想备份他们的数据时，备份管理器就会尊重他们的意愿。除非重新启用备份管理器（通过设置或通过上述 bmgr 命令），否则不会从设备保存更多数据，也无法进行恢复操作。

那么，当我卸载并关闭手机时，为什么我的共享首选项会被删除？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T12:26:30.483

> 我可以使用这个框架备份和恢复 sharedpref，但是当我卸载应用程序然后当我关闭然后打开我的手机时，sharedpref 没有恢复。

当然不是。您卸载了该应用程序。当您卸载应用程序时，您在内部存储上的所有文件都会被删除。

> 那么，当我卸载并关闭手机时，为什么我的共享首选项会被删除？

因为你卸载了应用程序。

[在您在评论中链接到的页面](http://developer.android.com/guide/topics/data/backup.html)的第一段中，您会发现：

> 如果用户执行恢复出厂设置或转换为新的 Android 设备，系统会在重新安装应用程序时自动恢复您的备份数据。

你自己承认，这不是你所做的。您没有“执行出厂重置或转换为新的 Android 设备”，并且您的应用当时未安装在（原始）设备上。

# c++ - 如何将函子存储在非模板类中？

> ID：14109466
> 
> 赞同：3
> 
> 时间：2013-01-01T09:56:05.850
> 
> 标签：c++, c++11, storage, functor

我注意到，当我使用`std::shared_ptr`（或任何其他智能指针）时，自定义分配器/删除器是通过 ctor 分配的，它恰好是一个模板。我的问题是：分配器/删除器是如何存储和使用的？

这些函子是存储为函数指针`void*`，还是什么？是间接调用还是直接调用？

为了更清楚地了解我要问的内容，请考虑以下代码：

```
struct SomethingAwesomeDeleter
{
public:
    void operator()(SomethingAwesome* ptr) const
    {
        // do something awesome
        delete ptr;
    }
};
typedef std::shared_ptr<SomethingAwesome> SomethingAwesomePtr;

SomethingAwesomePtr ptr{new SomethingAwesome, SomethingAwesomeDeleter{}}; 
```

如何`SomethingAwesomeDeleter{}`存储和使用？

**注意：** 我确实意识到`std::shared_ptr`是一个模板类，但是`std::shared_ptr`在类模板参数中没有删除器/分配器的模板参数，即没有像`std::shared_ptr<T, Allocator, Deleter>`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T10:27:37.743

您可以将任何函数对象存储在`std::function`. 这负责直接存储函数指针（如果它是普通函数）或将其包装在某个对象中。`shared_ptr`这是在函数类型不属于模板类型的情况下实现删除器的一种可能方式。

示例（未经测试，仅供参考）

```
// This is the struct which actually holds the shared pointer
// A shared_ptr would reference count this
template <typename T>
class shared_ptr_shared
{
    std::function<void (T*)> del_;
    T* p_;
    // other members

    template <typename Deleter>
    shared_ptr_shared (T* obj, Deleter deleter)
    : p_ (p)
    , del_ (deleter)
    {
    }

    ~shared_ptr_shared ()
    {
        if (del_) {
            del_ (p_);
        } else {
            delete p_;
        }
    }
}; 
```

您可以在此处找到有关 std::function 的更多信息：[boost::function 和 boost::bind 的工作原理](https://stackoverflow.com/questions/527413/how-boostfunction-and-boostbind-work)

# sql - 按两个“has_many”子表的总和排序查询？

> ID：14109470
> 
> 赞同：1
> 
> 时间：2013-01-01T09:56:44.993
> 
> 标签：sql, ruby-on-rails, postgresql, activerecord, join

在我的应用程序中，`Invoice has_many item_numbers`并且`Invoice has_many payments`. 每张发票都有一个余额，它是 ItemNumber 金额属性的总和，减去 Payment amount 属性的总和。

余额在发票模型中很容易计算，但我正在尝试编写一个按余额对发票进行排序的查询，而这在 ActiveRecord/SQL 中更难做到。

我已成功通过以下查询订购了 item_numbers 总数的发票（感谢 Daniel Rikowski）：

```
Invoice.where(user_id: 1, deleted: false, status: 'Sent')
       .joins(:item_numbers)
       .select('invoices.*, sum(item_numbers.amount)')
       .group('invoices.id')
       .order('sum(item_numbers.amount) asc')
       .limit(20) 
```

我试图通过以下余额将其扩展到订单；

```
Invoice.where(user_id: 1, deleted: false, status: 'Sent')
       .joins(:item_numbers)
       .joins("FULL OUTER JOIN payments ON payments.invoice_id = invoices.id")
       .select("invoices.*, sum(item_numbers.amount_with_gst) - COALESCE(sum(payments.amount), 0)")
       .group("invoices.id")
       .order("sum(item_numbers.amount_with_gst) - COALESCE(sum(payments.amount), 0) #{dir}")/ 
```

这个查询有两个问题。首先，它非常丑陋，其次，它不起作用。我在付款表上使用了完整的外部联接，因为并非所有发票都有付款，如果我只使用 joins(:payments) 任何没有付款的发票，都会从结果中排除。COALESCE 被放置在那里以处理空金额。

查询接近，但假设有 3 个 item_numbers 和 1 个付款（非常典型的场景），付款金额将被减去 3 次，导致余额远低于实际金额（通常为负余额）。

我可能很清楚我的深度。我在这个查询中付出了很多努力（大约 4 小时的阅读和失败的尝试）并且不能完全确定它。我的数据库是 PostgreSQL。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T11:26:14.243

不确定 AR 语法，但正确的查询是：

```
SELECT i.*, COALESCE(n.total, 0) - COALESCE(p.total, 0) AS balance
FROM   invoices i
LEFT   JOIN (
    SELECT invoice_id, sum(amount) AS total
    FROM   payments
    GROUP  BY invoice_id 
    ) p ON p.invoice_id = i.id
LEFT   JOIN (
    SELECT invoice_id, sum(amount_with_gst) AS total
    FROM   item_numbers
    GROUP  BY invoice_id 
    ) n ON n.invoice_id = i.id
WHERE  i.user_id = 1
AND    i.deleted = false
AND    i.status = 'Sent'
ORDER  BY balance; 
```

如果将两个`has_many`表连接到基表，这些行会相互相乘，从而导致完全任意的结果。*您可以通过在加入基表之前*汇总总数来解决这个问题。

另外，我没有`item_numbers`在您的查询中看到连接条件。这将导致*交叉连接*——除了非常错误之外，还非常昂贵。（或者 AR 是否足够聪明，可以自动从外键关系导出连接条件？如果是这样，为什么要在第二个表上使用连接条件？）*假设*它`item_numbers`有一个`invoice_id`类似的列`payments`，我对其进行了修改。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T12:08:59.500

您的问题是由列相乘引起的。想象一下，有一个 Payment 和三个 Item_numbers 属于 Invoice。常规连接的结果是这样的：

```
| 发票.id | item_number.amount | 付款金额 |
| 1 | 4 | 5 |
| 1 | 7 | 5 |
| 1 | 2 | 5 |

```

因此，sum(payment.amount) 将返回 15 而不是 5。要获得正确的总和，您必须直接获取总和：

```
Invoice.select('invoices.id, (SELECT SUM(item_numbers.amount) from item_numbers WHERE item_numbers.invoice_id = invoices.id) - (SELECT COALESCE(SUM(payments.amount),0) from payments WHERE payments.invoice_id = invoices.id) AS balance').group('invoices.id') 
```

# command-line - 字符串搜索：使用 find / grep，同时忽略 .git 和其他目录

> ID：14109471
> 
> 赞同：6
> 
> 时间：2013-01-01T09:57:16.707
> 
> 标签：command-line, grep, find

我经常需要从具有 git directory 的目录中搜索特定字符串`.git/`。这是我使用的命令：

```
find . -name .git -prune -o -print | xargs grep <string-to-search> 
```

选项`-name .git -prune -o -print`是忽略. `.git/`但是，它会输出很多*“是目录”*消息，这些消息会使整个结果变得混乱。例如，

```
...
grep: ./reports: Is a directory
grep: ./scripts: Is a directory
grep: ./scripts/js: Is a directory
grep: ./scripts/js/adapter: Is a directory
... 
```

如何修改命令行以便我可以忽略`.git/`目录*和*所有其他目录（即只搜索可搜索的文件）。

显然，该`-type f`选项在以下情况下效果不佳：

```
find -type f . -name .git -prune -o -print 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-01T10:00:23.933

您不需要 find 命令。您可以使用 grep 在目录中搜索。您可以使用 exclude-dir 语法忽略目录。

```
grep -r --exclude-dir=".git;.svn" "string to search" <directory> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-27T18:46:24.687

在这里回答我自己的问题（不给予任何投票等）：

由于我本质上是专门在`git`-tracked 目录中进行搜索，`git grep`因此显然是更简单、更适合这项工作的工具。感谢最初提出这个问题的@Johnsyweb！

我选择了 Vivek 的答案，因为它提供了`grep`原始问题中提出的通用解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-11T23:53:16.680

-type f 放错了位置。它在 -prune 之前过滤掉目录，它需要一个目录名称。命令应该是`find . -name .git -prune -o -type f -print`. 如果你只是想让 grep 关闭目录，你可以设置环境变量`GREP_OPTIONS='--directories=skip'`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-07-14T14:24:13.280

推荐你试试`ripgrep` [https://github.com/BurntSushi/ripgrep](https://github.com/BurntSushi/ripgrep)

> ripgrep 是一种面向行的搜索工具，它递归地在当前目录中搜索正则表达式模式。默认情况下，ripgrep 将遵守 gitignore 规则并自动跳过隐藏文件/目录和二进制文件。

它比其他工具（我遇到过的）更快，对开发人员更友好，包括`grep`和`find`

# silverlight - 没有 x:Name="" 到 silverlight 控制给程序集未知的命名空间

> ID：14109472
> 
> 赞同：0
> 
> 时间：2013-01-01T09:57:17.340
> 
> 标签：silverlight, xaml, namespaces, xamlparseexception

我有一个自定义控件`ColorPicker`，但没有给`x:Name=""`这个控件提供程序集未知命名空间错误：

> 找不到类型“ColorPicker”，因为“clr-namespace:SilverlightControls;assembly=SilverlightControls”是一个未知的命名空间。

而如果我给它一个名字，它工作得很好。实际上我必须在 LisBox 中使用这个控件。我以这种方式使用：

```
xmlns:slColor="clr-namespace:SilverlightControls;assembly=SilverlightControls"

<slColor:ColorPicker  Height="23" Width="20" 
                      Color="{Binding PalleteColor, Mode=TwoWay}">
</slColor:ColorPicker> 
```

有人可以指导我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-07T15:57:11.760

我也在使用颜色选择器 - 并且遇到了同样的问题。解决 x:Name 问题的一种方法是将其粘贴在另一个**新**用户控件 ( **newControl** ) 中。在控件的 XAML 中，您可以实例化颜色选择器，给它一个`x:Name="myControl"`. 然后在您的重复列表框中，您可以拥有多个**newControl**实例。看起来很傻，但是将它嵌套一层似乎可以解决问题

# android - 在调用 REST Web 服务时处理服务器停机

> ID：14109473
> 
> 赞同：0
> 
> 时间：2013-01-01T09:57:55.207
> 
> 标签：android, rest

我正在从 android 调用 rest 网络服务。web服务代码如下

```
@Path("test")
public class Test
{

    @GET
    @Path("name/{name}")
    @Produces(MediaType.TEXT_PLAIN)
    public Response say(@PathParam("name") String name)
    {
        //return "Hello ......"+name;
        ResponseBuilder response = Response.ok((Object)"Hello ......"+name);
        return response.build();
    }
} 
```

Android客户端代码如下

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.URLEncoder;
import java.security.KeyStore;
import java.util.ArrayList;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.HttpVersion;
import org.apache.http.NameValuePair;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.client.methods.HttpUriRequest;
import org.apache.http.conn.ClientConnectionManager;
import org.apache.http.conn.scheme.PlainSocketFactory;
import org.apache.http.conn.scheme.Scheme;
import org.apache.http.conn.scheme.SchemeRegistry;
import org.apache.http.conn.ssl.SSLSocketFactory;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.params.BasicHttpParams;
import org.apache.http.params.HttpParams;
import org.apache.http.params.HttpProtocolParams;
import org.apache.http.protocol.HTTP;

import android.util.Log;

public class RestClient {

    private static final int GET = 1;
    private static final int POST = 2;
    private ArrayList <NameValuePair> params;
    private ArrayList <NameValuePair> headers;

    private String url;

    private int responseCode;
    private String message;

    private String response;

    public String getResponse() {
        return response;
    }

    public String getErrorMessage() {
        return message;
    }

    public int getResponseCode() {
        return responseCode;
    }

    public RestClient(String url)
    {
        this.url = url;
        params = new ArrayList<NameValuePair>();
        headers = new ArrayList<NameValuePair>();
    }

    public void AddParam(String name, String value)
    {
        params.add(new BasicNameValuePair(name, value));
    }

    public void AddHeader(String name, String value)
    {
        headers.add(new BasicNameValuePair(name, value));
    }

    public void Execute(int selection) throws Exception
    {
        switch(selection) {
            case GET:
            {
                //add parameters
                String combinedParams = "";
                if(!params.isEmpty()){
                    combinedParams += "?";
                    for(NameValuePair p : params)
                    {
                        String paramString = p.getName() + "=" + URLEncoder.encode(p.getValue(),"UTF-8");
                        if(combinedParams.length() > 1)
                        {
                            combinedParams  +=  "&" + paramString;
                        }
                        else
                        {
                            combinedParams += paramString;
                        }
                    }
                }

                HttpGet request = new HttpGet(url + combinedParams);

                //add headers
                for(NameValuePair h : headers)
                {
                    request.addHeader(h.getName(), h.getValue());
                }
                Log.d("prabhu","url......"+url + combinedParams);
                Log.d("prabhu","request......"+request);
                executeRequest(request, url);
                break;
            }
            case POST:
            {
                HttpPost request = new HttpPost(url);

                //add headers
                for(NameValuePair h : headers)
                {
                    request.addHeader(h.getName(), h.getValue());
                }

                if(!params.isEmpty()){
                    request.setEntity(new UrlEncodedFormEntity(params, HTTP.UTF_8));
                }

                executeRequest(request, url);

                Log.d("prabhu","url......"+url);
                break;
            }
        }
    }

    private void executeRequest(HttpUriRequest request, String url)
    {

         HttpClient client = null;

         try
         {

           KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());
             trustStore.load(null, null);

             SSLSocketFactory sf = new MySSLSocketFactory(trustStore);
             sf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);

             HttpParams params = new BasicHttpParams();
             HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);
             HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);

             SchemeRegistry registry = new SchemeRegistry();
             registry.register(new Scheme("http", PlainSocketFactory.getSocketFactory(), 80));
             registry.register(new Scheme("https", sf, 443));

             ClientConnectionManager ccm = new ThreadSafeClientConnManager(params, registry);
             client = new DefaultHttpClient(ccm, params);
         }catch(Exception e)
         {

         }

        HttpResponse httpResponse;

        try {
            httpResponse = client.execute(request);
            responseCode = httpResponse.getStatusLine().getStatusCode();
            message = httpResponse.getStatusLine().getReasonPhrase();

            HttpEntity entity = httpResponse.getEntity();

            if (entity != null) {

                InputStream instream = entity.getContent();
                response = convertStreamToString(instream);

                // Closing the input stream will trigger connection release
                instream.close();
            }

        } catch (ClientProtocolException e)  {
            client.getConnectionManager().shutdown();
            e.printStackTrace();
        } catch (IOException e) {
            client.getConnectionManager().shutdown();
            e.printStackTrace();
        }

    }

    private static String convertStreamToString(InputStream is) {

        BufferedReader reader = new BufferedReader(new InputStreamReader(is));
        StringBuilder sb = new StringBuilder();

        String line = null;
        try {
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
                is.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        return sb.toString();
    }
} 
```

使用上面的类，我正在调用 URL（Web 服务），如下所示

```
 RestClient client = new RestClient("http://localhost:8080/TestProject/test/name/madhu");

                try {
                    client.Execute(GET)
                } catch (Exception e) {
                    e.printStackTrace();
                }

                String response = client.getResponse(); 
```

如果服务器正在运行，则一切正常。但是如果服务器宕机了，如何处理这种情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:03:05.127

我认为添加**连接**和**套接字**超时来`Http Request`解决问题，

```
HttpParams httpParameters = new BasicHttpParams();
// Set the timeout in milliseconds until a connection is established.
int timeoutConnection = 3000;
HttpConnectionParams.setConnectionTimeout(httpParameters,timeoutConnection);
// Set the default socket timeout (SO_TIMEOUT)
// in milliseconds which is the timeout for waiting for data.
int timeoutSocket = 3000;
HttpConnectionParams.setSoTimeout(httpParameters, timeoutSocket); 
```

# json - Mongodb Mongoimport too large: 失败解析错误

> ID：14109474
> 
> 赞同：29
> 
> 时间：2013-01-01T09:58:09.100
> 
> 标签：json, mongodb, import

我正在尝试导入有效的 MongoDB 70 mb json 文件。但是，我在一个循环中一遍又一遍地收到这个错误：

```
 01 11:42:20 exception:BSON representation of supplied JSON is too large: Failure parsing JSON string near: "name": "L
 01 11:42:20
 01 11:42:20 Assertion: 10340:Failure parsing JSON string near: "link": "h
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 kernel32.dll       BaseThreadInitThunk+0x12
 01 11:42:20 ntdll.dll          RtlInitializeExceptionChain+0xef
 01 11:42:20 exception:BSON representation of supplied JSON is too large: Failure parsing JSON string near: "link": "h
 01 11:42:20
 01 11:42:20 Assertion: 10340:Failure parsing JSON string near: }
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 kernel32.dll       BaseThreadInitThunk+0x12
 01 11:42:20 ntdll.dll          RtlInitializeExceptionChain+0xef
 01 11:42:20 exception:BSON representation of supplied JSON is too large: Failure parsing JSON string near: }
 01 11:42:20
 01 11:42:20 Assertion: 10340:Failure parsing JSON string near: ],
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 mongoimport.exe    ???
 01 11:42:20 kernel32.dll       BaseThreadInitThunk+0x12
 01 11:42:20 ntdll.dll          RtlInitializeExceptionChain+0xef
 01 11:42:20 exception:BSON representation of supplied JSON is too large: Failure parsing JSON string near: ], 
```

我的 JSON（只是其中的一个小例子）包含许多类似这样的结构：

```
[ 
{
   "data": [
         "id": "xxxxxxxxxxxxxxxxxx",
         "from": {
            "name": "yyyyyyyyyyy",
            "id": "1111111111111"
         },
         "to": {
            "data": [
               {
                  "version": 1,
                  "name": "1111111111111",
                  "id": "1111111111111"
               }
            ]
         },
         "picture": "fffffffffffffffffffffff.jpg",
         "link": "http://www.youtube.com/watch?v=qqqqqqqqqqqqq",
         "source": "http://www.youtube.com/v/qqqqqqqqqqqqq?version=3&autohide=1&autoplay=1",
         "name": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
         "description": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx...",
         "icon": "http://static.ak.fbcdn.net/rsrc.php/v2/xxx/r/dddd",
         "actions": [
            {
               "name": "Comment",
               "link": "http://www.example.com/1111111111111/posts/1111111111111"
            },
            {
               "name": "Like",
               "link": "http://www.example.com/1111111111111/posts/1111111111111"
            }
         ],
         "privacy": {
            "value": ""
         },
         "type": "video",
         "created_time": 1356953890,
         "updated_time": 1356953890,
         "likes": {
            "data": [
               {
                  "name": "jjj ",
                  "id": "59xxx67"
               },
               {
                  "name": "xxxxx",
                  "id": "79xxx27"
               }
            ],
            "count": 2
         },
         "comments": {
            "count": 0
         }
      },

....
....
....
}
] 
```

这是 json 的一般模式“：

```
[
{
   "data": [
      {

      }
    ],
    "paging": {
      "previous": "link",
      "next": "link"
   }
},
   "data": [
      {
      }
    ],
    "paging": {
      "previous": "link",
      "next": "link"
   }
},
"data": [
      {
      }
    ],
    "paging": {
      "previous": "link",
      "next": "link"
   }
}
] 
```

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2013-02-20T07:04:52.420

而不是使用：

```
mongoimport -d DATABASE_NAME -c COLLECTION_NAME --file YOUR_JSON_FILE 
```

使用以下命令：

```
mongoimport -d DATABASE_NAME -c COLLECTION_NAME --file YOUR_JSON_FILE --jsonArray 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-05-08T16:03:32.667

就我而言，我的文件实际上并不太大，因此错误消息具有误导性。我必须将每个文档放在一行中或使用`--jsonArray`.

所以要么改变文件，如：

```
{ "_id" : "xxxxxxxx", "foo" : "yyy", "bar" : "zzz" } 
```

或将导入命令更改为

```
mongoimport -d [db_name] -c [col_name] --file [file_with_multi_lined_docs] --jsonArray 
```

如果我的文件保持在每文档多行格式

```
{
    "_id" : "xxxxxxxx", 
    "foo" : "yyy", 
    "bar" : "zzz" 
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-01T11:48:16.533

您的 json 文件是否仅包含`data`字段中的记录列表？在这种情况下，您需要将 json 文件重新格式化为记录列表，如下所示：

```
 {
     "id": "xxxxxxxxxxxxxxxxxx",
     "from": {
        "name": "yyyyyyyyyyy",
        "id": "1111111111111"
     },
     "to": {
        "data": [
           {
              "version": 1,
              "name": "1111111111111",
              "id": "1111111111111"
           }
        ]
     },
     ......
     }
     {
     "id": "xxxxxxxxxxxxxxxxxx",
     "from": {
        "name": "yyyyyyyyyyy",
        "id": "1111111111111"
     },
     "to": {
        "data": [
           {
              "version": 1,
              "name": "1111111111111",
              "id": "1111111111111"
           }
        ]
     },
     ......
     } 
```

如果您的 json 文件格式正确，只需编辑几行前导/结束行就足够了。

**编辑**：您可能需要`--jsonArray`从有效的 json 文件中导入的选项。尝试

```
mongoimport --db DATABASE_NAME --collection COLLECTION_NAME --file YOUR_JSON_FILE --jsonArray 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-16T13:20:44.353

In my case, when faced with this error, I found that the problem was from copying and pasting the data from my local machine (in vim) to my remote server (also vim). When I `scp`'d it across instead it miraculously worked, so no idea what was being changed when copying it across, especially as it was copying from Mac to Centos, so no line ending issues.

In conclusion: **use the file that `mongoexport` creates, not its contents!**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-21T09:10:00.237

检查 mongo 的版本，我遇到了从 mongo 2.6.1 导出 json 并尝试在 mongo ~2.4 上导入的问题，在安装了更高版本后它对我有用......

# c - 对话框的 DS_CONTROL 样式

> ID：14109475
> 
> 赞同：0
> 
> 时间：2013-01-01T09:58:13.907
> 
> 标签：c, winapi, dialog, handle

我创建了一个嵌入了子对话框窗口的主对话框窗口。子对话框是使用样式创建的

```
DS_SETFONT | DS_FIXEDSYS | DS_CONTROL | WS_CHILD | WS_VISIBLE | WS_TABSTOP 
```

一切都很好，但 GetDlgItem(hDlgMain, IDD_DLG_CHILD) 不起作用。

我发现 GetDlgItem 不适用于对话框模板 ID，它应该使用控件 ID。

在这种情况下，获取子对话框句柄的最佳方法是什么？（不要使用全局或静态变量来存储子窗口的句柄）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T12:04:19.367

创建子对话框时，只需保存从`CreateDialogParam`函数返回的句柄。

# c# - 通过 C# 更改 MS WORD

> ID：14109476
> 
> 赞同：0
> 
> 时间：2013-01-01T09:58:26.323
> 
> 标签：c#, asp.net-mvc

我正在尝试保存通过 C# 打开的文档，我还保留了文档界面的 TrackRevision 属性。现在我想获取修改文档的人的姓名。在 MS word 中，我可以从“审阅”窗格中找到更改文档的用户的姓名。我如何通过 C# 获取它，之后，一旦用户点击 MS Word 中的保存按钮，我还需要以相同的名称保存相同的文档。以下是我正在执行的代码。

```
public ActionResult abc()
        {
             ActionResult sc = def();

            Word.Application app = new Word.Application();
            app.Documents.Save(sc.GetType());
            return sc;

        }

public ActionResult def()
        {
            Word.Application app = new Word.Application();
            Word.Document dd = app.Documents.Open("C:\\hi12.docx");
            dd.TrackRevisions = true;
            int count = dd.Words.Count;
            dd.Save();
            dd.Close(ref Nothing, ref format, ref Nothing);
            return File(("C:\\hi12.docx"), ("application/vnd.openxmlformats-officedocument.wordprocessingml.document"), ("ank"));
        } 
```

我收到错误

```
app.Documents.Save(sc.GetType()); 
```

abc() 中的行。错误是

```
Type mismatch. (Exception from HRESULT: 0x80020005 (DISP_E_TYPEMISMATCH)) 
```

# windows - 初始化字符串的格式不符合从索引 0 开始的规范

> ID：14109478
> 
> 赞同：0
> 
> 时间：2013-01-01T09:58:28.943
> 
> 标签：windows, mobile

任何人都可以解决我的问题我正在开发 Windows Mobile 6.1 应用程序，当我执行应用程序时抛出以下异常

初始化字符串的格式不符合从索引 0 开始的规范。

我该如何解决这个问题在这里我附上了我的代码如下：

公共子 New() Me._strConnection = Path.GetDirectoryName(Assembly.GetExecutingAssembly().GetName.CodeBase()) + "\MRMClient.sdf" End Sub

# 区域“打开数据库连接”

```
 Public Function Connect(ByVal _connection As String)
        _SQLConnection = New SqlCeConnection(_strConnection)
        If Not Connected Then
            _SQLConnection.Open()
            If _SQLConnection.State = ConnectionState.Open Then
                Connected = True
            Else
                Connected = False
            End If
        End If
        Return 0
    End Function 
```

谢谢并恭祝安康

布里特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T20:50:08.260

看起来您正在尝试将 SQL Server CE 版连接到 SDF 文件并访问它。为此，您需要提供适当的连接字符串。您只是提供了一个文件名，并没有完成工作。[您可以在连接字符串网站](http://www.connectionstrings.com/sql-server-ce)上找到一些示例连接字符串，包括用于连接到 SDF 文件的连接字符串。由于您的文件路径字符串甚至不接近所需的连接字符串格式，因此您会收到引用的错误消息。

# sql - SQL 语法：按文本过滤，末尾有空格

> ID：14109482
> 
> 赞同：0
> 
> 时间：2013-01-01T09:59:31.957
> 
> 标签：sql, debugging, aggregate-functions, query-by-example

尝试构建一个 SQL 语句，在其中我可以通过包含单词 bike 的叙述字段过滤报告。需要包括那些包含自行车和自行车道的报告，但忽略那些只包含自行车道的报告。

似乎我需要按自行车过滤，然后是一个空格，但是如何让它将该空间识别为一个字符？新的；我自己还不够熟悉！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-16T01:41:27.687

> 需要包括那些包含自行车和自行车道的报告，但忽略那些只包含自行车道的报告。

使用一个词作为精确匹配，另一个使用`LIKE`子句，如下例所示：

```
SELECT P.Id AS [Post Link]
FROM Posts P, PostTags Pt, Tags T
WHERE P.Id = Pt.PostId
AND T.Id = Pt.TagId
AND T.TagName = '##tag1##'
AND P.Tags like '<%##tag2##%>'
AND P.PostTypeId = 1
GROUP BY P.Id
HAVING (SELECT Count(Pt.TagId) FROM PostTags Pt WHERE Pt.PostId = P.Id) = 2 
```

**参考**

*   [按两个标签名称过滤问题](https://data.stackexchange.com/stackoverflow/query/158468/filter-questions-by-two-tag-names)

# objective-c - UIWebView 没有正确处理 html

> ID：14109488
> 
> 赞同：4
> 
> 时间：2013-01-01T10:00:29.347
> 
> 标签：objective-c, uiwebview

我将以下字符串发送到`UIWebView`：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US">
<img src="mysrc"></img>
</html> 
```

但是，当我阅读它时：

```
[templateWebView stringByEvaluatingJavaScriptFromString:@"document.documentElement.outerHTML"] 
```

结果是：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US">
<img src="mysrc">
</html> 
```

没有结束标签`</img>`

我怎样才能`UIWebView`不更改 HTML 标签？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T16:30:01.183

**IMG**是一个自闭合标签，所以它应该是：

```
<img src="mysrc" /> 
```

为了绝对符合标准，它还应该定义 ALT 属性：

```
<img src="mysrc" alt="something" /> 
```

这可能是解析错误的原因。

# c++ - 调用 SetTextJustification 函数 - win32 程序

> ID：14109490
> 
> 赞同：0
> 
> 时间：2013-01-01T10:00:33.013
> 
> 标签：c++, winapi

有人可以向我解释为什么这段代码不起作用吗？

```
PAINTSTRUCT ps;
HDC hdc;
TCHAR str[] = _T("An example of SetTextJustification function"); 
```

消息循环中的代码：

```
case WM_PAINT: 
    hdc = BeginPaint(hWnd, &ps);

    if(!SetTextJustification(hdc, 40, 4));
    {
        MessageBox(NULL, _T("Call to SetTextJustification failed!"), _T("Error"), NULL);
    }

    TextOut(hdc, 20, 20, str, _tcslen(str));

    EndPaint(hWnd, &ps); 
```

# asp.net-mvc - 带有编辑删除选项的 jQGrid 子网格

> ID：14109494
> 
> 赞同：0
> 
> 时间：2013-01-01T10:01:25.263
> 
> 标签：asp.net-mvc, jqgrid, jqgrid-asp.net

如何在 jQgrid subGrid 中启用添加、编辑按钮。我尝试启用编辑选项

子网格。请看我下面的图片。

![在此处输入图像描述](../Images/be01d494768645e56fa19da9298368ea.png)

有可能，请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:27:46.650

@Ragesh 尝试将网格作为子网格，然后您可以拥有所有网格选项。

访问 jqgrid 演示页面 [http://www.trirand.com/blog/jqgrid/jqgrid.html](http://www.trirand.com/blog/jqgrid/jqgrid.html)

展开高级那里你可以看到网格作为子网格演示

# objective-c - iOS / Objective-C：UICollectionView 协议定义和 iOS 5

> ID：14109495
> 
> 赞同：1
> 
> 时间：2013-01-01T10:01:26.147
> 
> 标签：objective-c, ios5, ios6, uicollectionview

我还没有制作在 iOS 5 上运行的 Auto-Layoutless Storyboard，所以我的代码目前甚至无法在 iOS 5 上运行。但是，我确实计划支持它。同时，我也想在我的应用程序中加入集合视图。[我将通过使用github 上](https://github.com/steipete/PSTCollectionView)公开的 PSTCollectionView 在 iOS 5 上支持它。我想，将集合视图定义`IBOutlet`为一个`id`，然后其他一切都很简单。期待一件事...

定义集合视图的委托和数据源是必须的。

所以我的问题是，在我的视图控制器中定义`UICollectionViewDelegate`and`UICollectionViewDataSource`

一个。我的项目甚至可以为 iOS5 设备编译吗？

湾。如果没有，我如何添加一个宏来有条件地定义 iOS5 和 iOS6 上的尊重协议？

# php - 更新表单提交上的数据库字段 - PHP

> ID：14109496
> 
> 赞同：1
> 
> 时间：2013-01-01T10:01:29.570
> 
> 标签：php, mysql, sql, database

它的作用是从“批准”字段的值为“0”的数据库中获取数据。显示表单。现在我们要做的是在单击“批准”按钮时将“批准”字段的值更新为“1”。我认为 IF 条件或某事存在一些问题，不确定。连接数据库没有问题。或者我是否需要关闭数据库连接或提交或进行更新，不确定。谢谢您的帮助。

```
require("dbconn.php");
// get the form data and store it in the database
// show database data
$query="SELECT * FROM page where approve=0";
$result=mysql_query($query);

if ($result)
{
    print "<b>Approval pending for below listings.</b><br><br>";
    while($row = mysql_fetch_array($result))
    {
        echo '<form name="submit_form" action="" method="post">';

        $page_url = $row['page_url'];
        $contact_number = $row['contact_number'];
        $description = $row['description'];
        $category = $row['category'];
        $address = $row['address'];
        $business_name = $row['business_name'];

        echo "<input type=\"text\" name=\"business_link\" value=\"$page_url\" readonly><br/>";
        echo "<input type=\"text\" name=\"contact_number\" value=\"$contact_number\" readonly><br/>";
        echo "<input type=\"text\" name=\"description\" value=\"$description\" readonly><br/>";
        echo "enter code here`<input type=\"text\" name=\"category\" value=\"$category\" readonly><br/>";
        echo "<input type=\"text\" name=\"address\" value=\"$address\" readonly><br/>";
        echo "<input type=\"text\" name=\"business_name\" value=\"$business_name\" readonly><br/>";
        echo "<input type=\"Submit\" Value=\"Approve\" name=\"submit\"/>";
        echo "</form>";
        echo "<hr><br>";
        if($_POST['submit_form'] == "submit")
        {
                mysql_query("UPDATE page SET approve='1' WHERE business_name='$business_name' AND contact_number='$contact_number' AND page_url='$page_url' AND description='$description' AND address='$address' AND category='$category'");
                echo "Thank you!";
        }
    }
}
else
{
    print mysql_error();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:08:33.360

您正在检查“submit_form”，但您应该从“提交”按钮检查“提交”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T10:18:37.810

改变：-

```
if($_POST['submit_form'] == "submit") 
```

跟随：-

```
if(isset($_POST['submit']) && $_POST['submit'] == "Approve") 
```

此外，您应该将上面的代码放在“require（”dbconn.php“）;”之后，如下所示： -

```
require("dbconn.php");
if(isset($_POST['submit']) && $_POST['submit'] == "Approve"){
   // update query here
   // show notification
   // you can show form too
}else{
   // display the form
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T10:14:44.093

利用

```
if(isset($_POST['submit_button_name'])) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T10:15:59.803

尝试使用 php 代码`isset($_POST['submit'])`并检查按钮是否正在提交。还删除`<input type="Submit"......>`to `<input type="submit"......>`.Echo SQL 查询并检查查询中是否所有值。

# macos - 带有沙盒和权利的 mac 应用程序主捆绑资源权限

> ID：14109500
> 
> 赞同：1
> 
> 时间：2013-01-01T10:02:31.747
> 
> 标签：macos, sandbox

> **可能重复：**
> [Mac OS X：我应该在哪里存储作为捆绑交付的游戏的保存游戏？](https://stackoverflow.com/questions/511019/mac-os-x-where-should-i-store-save-games-for-a-game-delivered-as-a-bundle)

我正在将我的 iOS 游戏迁移到 mac。我用来存储高分的文件保存在 xxx.app/Contents/Resources 下。但是，当我启用沙盒和权利时，目录变得不可写。我也尝试了 xxx.app 和 xxx.app/Contents ，但没有运气。那么我应该使用哪个目录或应该添加哪个权利？

编辑我已经尝试过 ~/Library/Application Support/Your Game Name/ 它没有显示权限错误但无法保存游戏数据。user/my_name 下没有库，但 unser/shared 下有一个。我需要添加任何权利吗？

编辑2：请不要关闭这个问题。先前问题的答案对我不起作用。相反，这个问题的标记答案是正确的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T11:41:11.770

在应用程序沙箱下，您的应用程序有一个容器文件夹，它几乎可以在其中写入任何内容，但是我建议只写入 Data/Documents 文件夹，可以使用以下代码获取该文件夹：

```
NSString *documentDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0]; 
```

这将为您提供位于 的文件夹`~/Library/Containers/com.yourdomain.yourapp/Data/Documents`。请注意，该`~/Library`文件夹隐藏在 Lion/Mountain Lion 下，因此需要在命令行上使用它来取消隐藏：

```
$ chflags nohidden ~/Library 
```

（只有您，开发人员，需要取消隐藏该文件夹，以便您可以从 Finder 中查看您的应用程序编写的内容；您的用户无需取消隐藏它即可使用您的应用程序）。

# iphone - 将核心数据与 JSON API 同步的最有效方法是什么

> ID：14109501
> 
> 赞同：17
> 
> 时间：2013-01-01T10:02:44.533
> 
> 标签：iphone, ios, json, core-data

将我的核心数据模式与服务 JSON 的远程 API 同步的最佳方式是什么？目前，我正在遍历 JSON 响应中的每个字典，检查 Core Data 以查看 API ID 是否存在。

这很好用，但现在剩下要做的就是删除任何不在服务器上的本地对象。这是我的 JSON 数据的示例：

```
[
   {
      "id":1234,
      "name":"My first object",
      "description":"This is a long string with lots of information"
   },
   {
      "id":1235,
      "name":"My second object",
      "description":"This is a long string with lots of information"
   }
] 
```

目前我能想到的唯一方法是如下所示：

```
NSArray *jsonData = // Convert json data to array using NSJSONSerialization
NSInteger fetchedCount = _fetchedResultsController.fetchedObjects.count;

if (fetchedCount != jsonData.count) {

    for (int i = 0; i < fetchedCount; i++) {

        NSManagedObject *object = [_fetchedResultsController objectAtIndexPath: [NSIndexPath indexPathForItem:i
                                                                                                    inSection:0]];
        NSNumber *idNumber = object.apiID;

        BOOL shouldDelete = YES;

        for (NSDictionary *jsonDict in jsonData) {
            if ([jsonDict  objectForKey:@"id"] == idNumber) {
                shouldDelete = NO;
            }
        }

        if (shouldDelete) {

            // Delete object.
        }            
    }
} 
```

我认为如果 JSON 数组包含很多对象，那将是非常低效的。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-01-01T14:10:37.950

这可能没问题，但我认为您应该应用Apple 文档中建议的*Find-or-Create模式。*[请参阅此处以获得有效导入数据](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdImporting.html)的深入解释（特别是请参阅有效地**实现查找或创建**）。

总体思路很简单。有两个对象数组（一个是从 Core Data 中检索的，一个是从服务中检索的），它们是有序的（按顺序排列`apiID`）`id`。

显然如果有很多数据，我真的建议在后台执行操作。请记住，每个线程都需要依赖其`NSManagedObjectContext`. 否则利用 iOS 5 API 提供的新队列机制。

为了完整起见，我还建议阅读 RayWenderlich 教程[How To Synchronize Core Data with a Web Service](http://www.raywenderlich.com/15916/how-to-synchronize-core-data-with-a-web-service-part-1) Part 1 和 2。它非常有趣。

希望有帮助。

# c++ - 我怎样才能克服cuda中的内存分配

> ID：14109502
> 
> 赞同：0
> 
> 时间：2013-01-01T10:02:44.657
> 
> 标签：c++, c, memory-management, cuda

我有个问题。我正在使用 4.0 cuda。我有以下代码：

在我的 cudaHeader.h 中：

```
#include <stdlib.h>

extern "C" void wrapperfunction(int* array); 
```

在我的 cudaCpp.cpp 中：

```
#include <stdio.h>
......
int main()
{
  int array[50] = {0, 1, 2, ..........,49};
  ...........

  while(true)
  {
   ........

   wrapperfunction(array);

   ........

   }
  return 0;

} 
```

在我的 cuda.CU 中：

```
__global__ void kernel(int *new_arrayG, int *arrayG,int *const_arrayG)
{
  int x = threadIdx.x;

  new_arrayG[x] = arrayG[x] + const_arrayG[x];
  __syncthreads();
}

extern "C" int wrapperfunction(int* array)
{

  static int const_array[50] = {0, 1, 2, ........., 49};  //any constant data
  int *arrayG, *new_arrayG, *const_arrayG;
  int size = 50 * sizeof(int);

  cudaMalloc((void**)&arrayG, size);
  cudaMalloc((void**)&new_arrayG, size);
  cudaMalloc((void**)&const_arrayG, size);

  cudaMemcpy(const_arrayG, const_array, size, cudaMemcpyHostToDevice);
  cudaMemcpy(arrayG, array, size, cudaMemcpyHostToDevice);

  Kernel<<<1, 50>>>(new_arrayG, arrayG, const_arrayG);

  cudaMemcpy(array, new_arrayG, size, cudaMemcpyDeviceToHost);

  cudaFree(arrayG);cudaFree(new_arrayG);cudaFree(const_arrayG);
} 
```

这是我的代码中的一个示例，我想说每次我从我的 .cpp 代码中调用包装函数时，程序都会分配静态数组并在最后释放它，这需要很多时间，实际上我处理的是非常大的静态数组每次调用这个函数我都会花很多时间。所以我想找到一种在程序开始时分配我的静态数组并在我的程序（应用程序）结束时释放它们的方法。请。任何帮助。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:08:57.847

只需在 main() 中为所有数组分配一次，将其移动到某个 .cu 文件。而他们，将他们的地址传递给包装函数。

此外，您应该检查此类调用的返回。

此外，如果您有等效的 C++ 标头，请尽量不要在您的 C++ 程序中使用任何 C 标头。使用`#include <cstdio>`而不是`#include <cstdlib>`.

最后，由于您只处理 cpp 代码，因此您应该放弃 extern "C"。

或者，如果您确实想使用 CUDA 代码之外的 C 代码，请使用 .cpp 文件扩展名退出。

# ide - clooj 是逐行还是整行评估

> ID：14109506
> 
> 赞同：1
> 
> 时间：2013-01-01T10:03:10.980
> 
> 标签：ide, clojure

当我评估整个文件时，它似乎没有问题。

```
(ns ShipDataRecord
  (:import [java.util.Date]
   [org.joda.time.DateTime]
   [org.joda.time.Seconds]
   [org.joda.time.format.*]
   [semsav.RecordSplitter]))
(require '[clojure.data.csv :as csv]
         '[clojure.java.io :as io])

(defrecord Record [W1 W2 W3])

(defn read-csv [fname count]
  (with-open [file (reader fname)]
    (doall (take count (map (comp first csv/read-csv)
                            (line-seq file))))))

(map #(apply ->Record %) (read-csv "test.csv" 1)) 
```

但是，当我逐行评估时，它似乎给了我一个问题。

因此，在评估文件之后，我在 REPL 中运行了这一行

```
(:W3 (first Record)) 
```

但它给了我一个编译器异常 IllegalArgumentException 不知道如何从：java.lang.Class clojure.lang.RT.seqFrom (RT.java:494) 创建 ISeq。

我已经用谷歌搜索了，但我似乎找不到问题所在。我在另一个问题中问过这个问题，但是由于单词太长，我必须创建一个新问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:26:32.700

中`(:W3 (first Record))`的符号`Record`代表类`Record`。我猜从您之前的帖子中，您只想`:W3`从`(map #...)`. `map`因此，您只需从表达式或可以存储表达式结果的变量中获取此值：

```
(:W3 (first (map #(apply ->Record %) (read-csv "1.csv" 1)))) 
```

或者

```
(def records (map #(apply ->Record %) (read-csv "1.csv" 1)))

(:W3 (first records)) 
```

# windows-phone-7 - Windows phone 8 绘图框架

> ID：14109510
> 
> 赞同：-1
> 
> 时间：2013-01-01T10:04:01.383
> 
> 标签：windows-phone-7, windows-phone-8

我在 iOS 中使用了开源 core-plot，想知道是否有适用于 windows phone 的此类 2d 图形绘图框架。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T00:14:44.633

有许多可用于 WP7/WP8 的图表和数据可视化框架。许多是商业可用的，例如[Telerik](http://www.telerik.com/products/windows-phone/overview/all-controls/chart.aspx)、[Infragistics](http://www.infragistics.com/products/windows-phone/features/data-chart/)、[ComponentArt](http://www.componentart.com/products/dv/wp7.aspx#charting)、[VisiFire](http://www.visifire.com/documentation/Visifire_Documentation/Charts/Quick_Start/WP7/Your_First_Windows_Phone_Chart.htm)等。还有免费的 OSS 图表框架，例如[amCharts QuickCharts](https://github.com/ailon/amCharts-Quick-Charts)、[Silverlight Toolkit for Desktop Charts](http://vortexwolf.wordpress.com/2012/09/17/silverlight-toolkit-charts-for-windows-phone-7/)、[devMobile.net](http://devmobile.codeplex.com/)等。

一年前，我下载了市场上的所有应用程序，并找出了最常用的框架。你可以在[这里阅读完整的研究](http://justinangel.net/WindowsPhone7MarketplaceStatistics)。在商业选项中[Telerik](http://www.telerik.com/products/windows-phone.aspx)是最常用的，它可能与它有关，仅花费 99 美元。在免费选项中， [amCharts](http://nuget.org/packages/amChartsQuickCharts)和[Silverlight Toolkit for Desktop](http://nuget.org/packages/SilverlightToolkit-DataViz)是最常用的框架。按照这些链接中的任何一个，您都可以非常快速地进行设置。

我已将此帖子设为 wiki，以便其他控件供应商可以恭敬而有洞察力地编辑此信息。

# java - 将 jPCT 与 Vuforia / QCAR SDK 集成

> ID：14109514
> 
> 赞同：4
> 
> 时间：2013-01-01T10:04:47.983
> 
> 标签：java, android, opengl-es, qcar-sdk, jpct

我在使用带有 jPCT 的 Vuforia 时遇到问题。

我已经成功通过了`modelViewMatrix`from Vuforia 本机代码

```
QCAR::Matrix44F modelViewMatrix =  QCAR::Tool::convertPose2GLMatrix(imageResult->getPose()) 
```

到爪哇。

然后我尝试设置jPCT的相机矩阵。

```
public void setCameraMatrix(float[] modelViewMatrixFromVuforia) {

        float x = modelViewMatrixFromVuforia[12];
        float y = modelViewMatrixFromVuforia[13];
        float z = modelViewMatrixFromVuforia[14];

        modelViewMatrixFromVuforia[12] = 0;
        modelViewMatrixFromVuforia[13] = 0;
        modelViewMatrixFromVuforia[14] = 0;

        Matrix cameraMatrix = new Matrix();
        cameraMatrix.setDump(modelViewMatrixFromVuforia);

        cameraMatrix = cameraMatrix.invert();
        camera.setBack(cameraMatrix);
        camera.setPosition(x, y, z);
    } 
```

但是没有正确跟踪 3D 对象。我错过了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T19:07:38.033

我正在使用它，它工作得很好：

```
private Matrix mMatrix = new Matrix();
...

mMatrix.setDump(modelViewMatrixFromVuforia); // float[16] sent from native code
mCamera.setBack(mMatrix); 
```

**但是在将矩阵发送到 Java之前**，您必须将矩阵绕 X 轴旋转 180 度，以匹配从 Vuforia 到 jPCT 的坐标系。

按如下方式在本机代码中进行轮换：

```
SampleUtils::rotatePoseMatrix(180.0f, 1.0f, 0, 0, &modelViewMatrix.data[0]); 
```

# oracle - 触发插入和更新oracle错误

> ID：14109516
> 
> 赞同：0
> 
> 时间：2013-01-01T10:04:55.253
> 
> 标签：oracle, plsql, triggers

朋友，我对级联触发有疑问。我有 2 个表，具有 3 个属性（id_data、sum 和 id_tool）的表数据和具有 3 个属性（id_tool、name、sum_total）的表工具。表数据和工具使用 id_tool 连接。

我想为更新信息 sum_total 创建触发器。所以，如果我插入表格数据，表格工具上的 sum_total 其中 tool.id_tool = data.id_tool 也会更新。

我创建了这个触发器，但是错误 ora-04090。

```
create or replace trigger aft_ins_tool
after insert on data
for each row
declare
v_stok number;
v_jum number;
begin
    select sum into v_jum
    from data
    where id_data= :new.id_data;

    select sum_total into v_stok
    from tool
    where id_tool= 
    (select id_tool
        from data
        where id_data= :new.id_data);

    if inserting then
    v_stok := v_stok + v_jum;
    update tool
    set sum_total=v_stok
    where id_tool=
    (select id_tool
        from data
        where id_data= :new.id_data);
    end if;
end; 
```

/

请给我意见。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:17:48.727

`ora-04090`表示您在该表上已经有一个 AFTER INSERT ... FOR EACH ROW 触发器。Oracle 不喜欢这样，因为触发器触发的顺序是不可预测的，这可能会导致不可预测的结果，而 Oracle*真的*不喜欢这些。

因此，您的第一步是将两组代码合并到一个触发器中。然后真正的乐趣开始了。

大概只有一行`data`匹配的当前值`id_data`（如果不是你的数据模型被弄乱了，你的情况就没有希望了）。无论如何，这意味着当前行已经让您可以访问 和 的`:new.sum`值 `:new.id_tool`。因此，您不需要对`data`表进行这些查询：删除这些选择将消除“变异表”错误的可能性。

作为一般观察，维护这样的聚合或汇总表通常是一个坏主意。通常最好只在需要时查询信息。如果你真的有大量的数据，那么你应该使用物化视图来维护摘要，而不是手动滚动一些东西。

# javascript - 为什么我不能将 javascript submit() 与变量绑定在一起？

> ID：14109517
> 
> 赞同：0
> 
> 时间：2013-01-01T10:04:57.047
> 
> 标签：javascript, jquery

我创建了一个变量`targetForm`并尝试将其与`submit()`. 但是，当我调用函数并触发变量来提交表单时，绑定函数不会捕获提交事件。

```
var targetForm;

function Add_Notice_Message(evt){

    alert('set up form');

    targetForm = document.notification_form;
    targetForm.classname= 'TTWForm';
    targetForm.method = "post";
    targetForm.action = '';
    targetForm.novalidate = '';

    alert('beforesubmmit'); 
    targetForm.submit();
}

$( targetForm ).bind(
    "submit",
    function( event ){
        alert('submit');

        var $form = $(this), type;
        type = $form.find('#type').val();

        var options = {
            category:'projects',
            message: 'Sample Notification'
        };

        notifications.createNotification(options);
        return false;
    }
); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:14:25.217

您在变量获取值之前绑定了它。

您应该设置一次变量（可能在 Add_Notice... 函数之外），然后绑定它。

# astyanax - 将 cql3 与 Astyanax 一起使用时出错

> ID：14109519
> 
> 赞同：0
> 
> 时间：2013-01-01T10:05:02.477
> 
> 标签：astyanax, cql3

我试图用 Astyanax 运行一个简单的 Cql3 查询，但我不断收到错误。

目的是通过 Astyanax 使用 cql3 创建一个简单的表。

```
public class SomeTest {

private AstyanaxContext<Keyspace> astyanaxContext;
private Keyspace keyspace;

private static String CREATE_TABLE_QUERY = "CREATE TABLE top_items (\n" +
        "  categoryName varchar,\n" +
        "  type varchar,\n" +
        "  baseItemId int,\n" +
        "  margin float,\n" +
        "  ds timestamp,\n" +
        "  PRIMARY KEY (categoryName, ds)\n" +
        ");";

@Before
public void setUp() {
    try {
        this.astyanaxContext = new AstyanaxContext.Builder()
                .forCluster("ClusterName")
                .forKeyspace("new_examples")
                .withAstyanaxConfiguration(new AstyanaxConfigurationImpl().setDiscoveryType(NodeDiscoveryType.NONE).setCqlVersion("3.0.0"))
                .withConnectionPoolConfiguration(
                        new ConnectionPoolConfigurationImpl("MyConnectionPool").setMaxConnsPerHost(1).setPort(9160)
                                .setSeeds("localhost:9160")).withConnectionPoolMonitor(new CountingConnectionPoolMonitor())
                .buildKeyspace(ThriftFamilyFactory.getInstance());

        this.astyanaxContext.start();
        this.keyspace = this.astyanaxContext.getEntity();
        // Using simple strategy
        keyspace.createKeyspace(ImmutableMap.<String, Object>builder()
                .put("strategy_options", ImmutableMap.<String, Object>builder()
                        .put("replication_factor", "1")
                        .build())
                .put("strategy_class",     "SimpleStrategy")
                .build()
        );

        // test the connection
        this.keyspace.describeKeyspace();
    } catch (Throwable e) {
        throw new RuntimeException("Failed to prepare CassandraBolt", e);
    }
}

@Test
public void testWrite() throws ConnectionException {
    ColumnFamily<String, String> CQL3_CF = ColumnFamily.newColumnFamily(
            "Cql3CF",
            StringSerializer.get(),
            StringSerializer.get());

    OperationResult<CqlResult<String, String>> result;
    result = keyspace
            .prepareQuery(CQL3_CF)
            .withCql(CREATE_TABLE_QUERY)
            .execute();
}
} 
```

当我运行测试时，我得到了这个堆栈跟踪

```
java.lang.NoSuchMethodError: org.apache.thrift.meta_data.FieldValueMetaData.<init>(BZ)V
at org.apache.cassandra.thrift.Cassandra$execute_cql_query_args.<clinit>(Cassandra.java:32588)
at org.apache.cassandra.thrift.Cassandra$Client.send_execute_cql_query(Cassandra.java:1393)
at org.apache.cassandra.thrift.Cassandra$Client.execute_cql_query(Cassandra.java:1387)
at com.netflix.astyanax.thrift.ThriftColumnFamilyQueryImpl$6$1.internalExecute(ThriftColumnFamilyQueryImpl.java:699)
at com.netflix.astyanax.thrift.ThriftColumnFamilyQueryImpl$6$1.internalExecute(ThriftColumnFamilyQueryImpl.java:696)
at com.netflix.astyanax.thrift.AbstractOperationImpl.execute(AbstractOperationImpl.java:55)
at com.netflix.astyanax.thrift.AbstractOperationImpl.execute(AbstractOperationImpl.java:27)
at com.netflix.astyanax.thrift.ThriftSyncConnectionFactoryImpl$1.execute(ThriftSyncConnectionFactoryImpl.java:136)
at com.netflix.astyanax.connectionpool.impl.AbstractExecuteWithFailoverImpl.tryOperation(AbstractExecuteWithFailoverImpl.java:69)
at com.netflix.astyanax.connectionpool.impl.AbstractHostPartitionConnectionPool.executeWithFailover(AbstractHostPartitionConnectionPool.java:248)
at com.netflix.astyanax.thrift.ThriftColumnFamilyQueryImpl$6.execute(ThriftColumnFamilyQueryImpl.java:694)
at storage.cassandra.daos.SomeTest.testWrite(SomeTest.java:76)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
at org.junit.runner.JUnitCore.run(JUnitCore.java:157)
at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:76)
at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:195)
at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120) 
```

我正在使用 "com.netflix.astyanax" % "astyanax" % "1.56.18" 。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T19:04:34.853

看起来 Astyanax 没有正确支持 Cassandra 1.2 或 1.2.1（甚至 1.56.24，7 天前发布......）。你可以试试 java-driver 。它尚未发布，但据我测试，它工作正常。 [https://github.com/datastax/java-driver](https://github.com/datastax/java-driver)

# matlab - Matlab Mex：“共享矩阵”，包括 BOOST 编译错误

> ID：14109524
> 
> 赞同：1
> 
> 时间：2013-01-01T10:05:49.170
> 
> 标签：matlab, boost, mex

我经常使用 matlab，但不会使用太多 C（我稍后会介绍）。我正在尝试安装一个名为[SharedMatrix](http://www.mathworks.com/matlabcentral/fileexchange/28572-sharedmatrix)的 mex 文件。安装需要 Boost 的进程间库。

要在 Matlab 上安装 SharedMatrix，我输入：

```
mex -v -O -win32 -I'C:\Program Files\boost\boost_1_51' SharedMemory.cpp 
```

我得到的确切输出是：

```
*************************************************************************** 
  Warning: Neither -compatibleArrayDims nor -largeArrayDims is selected.  
           Using -compatibleArrayDims. In the future, MATLAB will require 
           the use of -largeArrayDims and remove the -compatibleArrayDims  
           option. For more information, see: 
           http://www.mathworks.com/help/techdoc/matlab_external/bsflnue-1.html 
**************************************************************************** 

-> Default options filename found in C:\Users\Skyhr\AppData\Roaming\MathWorks\MATLAB\R2012b 
---------------------------------------------------------------- 
->    Options file           = C:\Users\Skyhr\AppData\Roaming\MathWorks\MATLAB\R2012b\mexopts.bat 
      MATLAB                 = C:\Program Files\MATLAB\R2012b 
->    COMPILER               = lcc 
->    Compiler flags: 
         COMPFLAGS           = -c -I"C:\Program Files\MATLAB\R2012b\sys\lcc\include" -DMATLAB_MEX_FILE -noregistrylookup 
         OPTIMFLAGS          = -DNDEBUG 
         DEBUGFLAGS          = -g4 
         arguments           =  -I"C:\Program Files\boost\boost_1_51" 
         Name switch         = -Fo 
->    Pre-linking commands   =  
->    LINKER                 = lcclnk 
->    Link directives: 
         LINKFLAGS           =  -tmpdir "." -dll "C:\Program Files\MATLAB\R2012b\extern\lib\win32\lcc\mexFunction.def" -L"C:\Program Files\MATLAB\R2012b\sys\lcc\lib" -libpath "C:\Program Files\MATLAB\R2012b\extern\lib\win32\lcc" "C:\Users\Skyhr\AppData\Local\Temp\mex_5NkIuB\templib2.obj" 
         LINKDEBUGFLAGS      =  
         LINKFLAGSPOST       = libmx.lib libmex.lib libmat.lib 
         Name directive      = -o "SharedMemory.mexw32" 
         File link directive =  
         Lib. link directive =  
         Rsp file indicator  = @ 
->    Resource Compiler      = lrc -I"C:\Program Files\MATLAB\R2012b\sys\lcc\include" -noregistrylookup -fo"mexversion.res" 
->    Resource Linker        =  
---------------------------------------------------------------- 

--> lcc  -I"C:\Program Files\boost\boost_1_51" -c -I"C:\Program Files\MATLAB\R2012b\sys\lcc\include" -DMATLAB_MEX_FILE -noregistrylookup -FoC:\Users\Skyhr\AppData\Local\Temp\mex_5NkIuB\SharedMemory.obj -I"C:\Program Files\MATLAB\R2012b\extern\include" -I"C:\Program Files\MATLAB\R2012b\simulink\include" -DNDEBUG -DMX_COMPAT_32 SharedMemory.cpp 

lcc preprocessor error: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp:21 C:\Program Files\boost\boost_1_51\boost\interprocess\mapped_region.hpp:17 .\SharedMemStack.hpp:9 .\SharedMemory.hpp:92 SharedMemory.cpp:62 Could not find include file <cstddef> 
lcc preprocessor error: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp:38 C:\Program Files\boost\boost_1_51\boost\interprocess\mapped_region.hpp:17 .\SharedMemStack.hpp:9 .\SharedMemory.hpp:92 SharedMemory.cpp:62 Could not find include file <utility> 
lcc preprocessor error: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp:39 C:\Program Files\boost\boost_1_51\boost\interprocess\mapped_region.hpp:17 .\SharedMemStack.hpp:9 .\SharedMemory.hpp:92 SharedMemory.cpp:62 Could not find include file <memory> 
lcc preprocessor error: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp:40 C:\Program Files\boost\boost_1_51\boost\interprocess\mapped_region.hpp:17 .\SharedMemStack.hpp:9 .\SharedMemory.hpp:92 SharedMemory.cpp:62 Could not find include file <functional> 
lcc preprocessor error: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp:41 C:\Program Files\boost\boost_1_51\boost\interprocess\mapped_region.hpp:17 .\SharedMemStack.hpp:9 .\SharedMemory.hpp:92 SharedMemory.cpp:62 Could not find include file <iosfwd> 
lcc preprocessor error: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp:42 C:\Program Files\boost\boost_1_51\boost\interprocess\mapped_region.hpp:17 .\SharedMemStack.hpp:9 .\SharedMemory.hpp:92 SharedMemory.cpp:62 Could not find include file <string> 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 28  syntax error; found `boost' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 28  syntax error; found `{' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 28  skipping `{' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 29  syntax error; found `intrusive' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 29  syntax error; found `{' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 29  skipping `{' `}' `}' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 32  syntax error; found `boost' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 32  syntax error; found `{' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 32  skipping `{' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 33  syntax error; found `interprocess' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 33  syntax error; found `{' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 33  skipping `{' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 34  syntax error; found `bi' expecting `;' 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 34  initializer must be constant 
Error SharedMemory.cpp: C:\Program Files\boost\boost_1_51\boost\interprocess\interprocess_fwd.hpp: 34  too many errors 

  C:\PROGRA~1\MATLAB\R2012B\BIN\MEX.PL: Error: Compile of 'SharedMemory.cpp' failed. 
```

你能 1\. 解释错误 2\. 我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:46:33.410

在您的系统`mex`上配置为使用*lcc*编译器，它是一个 C 编译器。Boost 是一个 C++ 库；因此您无法使用*lcc*编译使用 Boost 的程序。

运行`mex -setup`并选择 C++ 编译器。

如果您没有安装任何其他编译器，则必须先安装一个。在 Windows 上，R2012B 支持免费的[Visual Studio 2010 Express Edition](https://www.microsoft.com/visualstudio/eng/downloads#d-2010-express) C++ 编译器。下载并安装它，然后尝试`mex`再次运行该命令（运行后`mex -setup`）。

# java - Solr 管理员给出 404 错误

> ID：14109527
> 
> 赞同：3
> 
> 时间：2013-01-01T10:06:12.113
> 
> 标签：java, tomcat, xpath, solr, centos

我正在尝试在我的 centos 生产服务器上的 tomcat 上启动 solr。我已经在本地工作了。但是，当我尝试访问管理员时，我收到 404 错误（路径中缺少核心名称）。我只是想先用单核设置示例 solr 应用程序，我还没有从我的本地工作中部署一行代码（这只是为了确保基本设置正确完成）。我开始看日志（catalina.out 和 catalina.log），发现那里记录了以下错误：

```
SEVERE: Error processing TLD files for context path /manager
java.lang.IllegalArgumentException: URI "file:./" is not hierarchical

SEVERE: Error processing TLD files for context path /solr
java.lang.IllegalArgumentException: URI "file:./" is not hierarchical

SEVERE: Error in xpath:javax.xml.xpath.XPathExpressionException: multiple nodes in  node-set

SEVERE: org.apache.solr.common.SolrException: Error in xpath:/config/indexConfig/text() for solrconfig.xml

Caused by: javax.xml.xpath.XPathExpressionException: multiple nodes in node-set 
```

以该顺序 。我已经完全按照这个 solr wiki 并在必要时添加了相关路径。我也可以发布配置文件，但是由于它们只是示例（开箱即用），因此不会有任何不同。

我根本不精通java，无法弄清楚错误是关于什么的。

这是服务器的配置：

```
<Context allowlinking="true" crosscontext="true" debug="0" docbase="/var/lib/tomcat6/my/solr.war" priviledged="true">
<Environment name="solr/home" override="true" type="java.lang.String" value="       </var/lib/tomcat6/solr/>">
 </Context> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T19:22:51.493

因此，在对 catlina.out 进行了数小时的研究后，该错误与 java 版本有关。我在服务器上有 java 1.5，在本地有 1.6。在生产服务器上切换到 1.6 就可以了。

# linux - curl 在 url 中使用通配符

> ID：14109528
> 
> 赞同：0
> 
> 时间：2013-01-01T10:06:42.050
> 
> 标签：linux, curl

我的文件以`-comps.xml`以下形式结尾：

```
http://some/url/<sha256sum>-<2 chars>-x86_64-comps.xml 
```

sha256sum 是长度为 65 的字母数字字符串。

例如：

```
 http://some/url/0dae8d32824acd9dbdf7ed72f628152dd00b85e4bd802e6b46e4d7b78c1042a3-c6-x86_64-comps.xml 
```

如何使用 下载此文件`curl`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T11:31:38.030

我找到了使用 wget 的解决方案：

```
 wget --recursive --level=1 --no-parent --no-directories  --accept '*-comps.xml' --directory-prefix=. http://some/url 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:17:04.770

假设您已经知道文件名，要下载文件的内容，那么只需使用

```
curl -O http://some/url/0dae8d32824acd9dbdf7ed72f628152dd00b85e4bd802e6b46e4d7b78c1042a3-c6-x86_64-comps.xml 
```

如果您希望根据文件内容的 SHA256 以某种方式预先确定文件名，那么您将需要已经可以访问这些内容才能确定 URL 的 SHA256 部分，或者可以访问替代此信息的来源。

# jquery - 文档类型在此处不允许元素“span”

> ID：14109529
> 
> 赞同：0
> 
> 时间：2013-01-01T10:07:06.020
> 
> 标签：jquery, html

在 jquery 代码的一部分中，我在下面有这行代码：

```
 var newHtml="<span style='color: green'>"+result.msg+"</span>" 
```

现在 jquery 代码显示在该`<body>`部分中，但问题是我在验证中遇到错误：

> 文档类型在此处不允许元素“span”

我的问题是有没有办法在保留跨度标签的同时修复它，或者我需要使用替代方法吗？

查看源代码的完整代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <title>Edit Assessment Date/Start Time</title>
        <link rel="stylesheet" type="text/css" href="edit_sessionadminStyles.css"/>
        <link rel="stylesheet" type="text/css" href="jquery/ui-lightness/jquery-ui-1.8.16.custom.css"/>
        <script type="text/javascript" src="jquery/jquery-1.7.min.js"></script>
        <script type="text/javascript" src="jquery/jquery-ui-1.8.16.custom.min.js"></script>

        <link rel="stylesheet" type="text/css" href="jquery/ui-lightness/jquery.ui.timepicker.css"/>
        <link rel="stylesheet" type="text/css" href="jquery/ui-lightness/jquery-ui-1.8.14.custom.css"/>
        <link rel="stylesheet" type="text/css" href="jquery/ui-lightness/jquery-ui-timepicker-addon.css"/>
        <script type="text/javascript" src="jquery/jquery.ui.timepicker.js"></script>
        <script type="text/javascript" src="jquery/jquery-ui-timepicker-addon.js"></script>

        </head>
        <body>

    <script type="text/javascript">

     function submitform() {    

        $.ajax({
            type: "POST",
            url: "updatedatetime.php",
            data: $('#updateForm').serialize(),
            dataType:'json',  //get response as json
            success: function(result){
                        if(result.errorflag){

           //do your stuff on getting error message
          var newHtml="<span class='red'>"+result.msg+"</span>"; 
          $("#targetdiv").html(newHtml);  //i am displaying the error msg here

        }else{
           //you got success message

           var newHtml="<span class='green'>"+result.msg+"</span>"; 
                $("#targetdiv").html(newHtml);
                //Get and store the new date and time.
                    var newDate = jQuery("#newDate").val();
                    var newTime = jQuery("#newTime").val();

                    //Set your current date and time to your new date and time.
                    jQuery("#currentDate").val(newDate);
                    jQuery("#currentTime").val(newTime);

                    //Find the currently selected session and update it.
                    var selectedOption = jQuery("#sessionsDrop option:selected");
                    var label = selectedOption.text().split(" - ");
                    selectedOption.text(label[0] + " - " + newDate + " - " + newTime);

                    //Clear the new date and time fields.
                    jQuery("#newDate").val("");
                    jQuery("#newTime").val("");

                    $('#targetdiv').show();
            }
        }
      });        
    }

    $('body').on('click', '#updateSubmit', showConfirm);       

    </script>   

   <noscript style='color: red'><img src="Images/warning-2.fw.png" alt="Javascript Warning" id="warningImage" name="warningSymbol"/> In order to use this application without any problems, you must have javascript enabled</noscript>
Please Login to Access this Page | <a href='./adminlogin.php'>Login</a>        
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T10:12:36.727

**场景 1：当 span 在`<Head>`标签中时**

你必须`CDATA`像下面这样使用。

```
<script type="text/javascript">
//<![CDATA[
...code...
//]]>
</script> 
```

检查更多信息[**脚本标记中何时需要 CDATA 部分？**](https://stackoverflow.com/questions/66837/when-is-a-cdata-section-necessary-within-a-script-tag)

**场景 2：当 span 在`<Body>`标签中时**

```
<body>
   <div></div>

<script>
   $("div").html("<span class='red'>Hello <b>Again</b></span>");
</script>

</body> 
```

**编辑**

`errorflag`你的问题可能是这样的：你必须把`msg`

**您的代码（错误）**

```
if(result.errorflag){

           //do your stuff on getting error message
          var newHtml="<span class='red'>"+result.msg+"</span>"; 
          $("#targetdiv").html(newHtml);  //i am displaying the error msg here 
```

**更正一个：**

```
 if(result.errorflag){

               //do your stuff on getting error message
              var newHtml="<span class='red'>"+result.errorflag+"</span>"; 
              $("#targetdiv").html(newHtml);  //i am displaying the error msg here 
```

我希望这能帮到您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:12:46.040

不，没有。没有显示，`<head>`所以像 a 这样的视觉元素在`<span>`那里没有意义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T10:12:55.073

嘿使用这个代码它会帮助你

```
var newHtml="<span class='red'>"+result.msg+"<//span>"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T11:11:03.950

`span`是一个内联元素，需要一个周围的块元素。只是尝试使用 a`div`而不是你的跨度。这应该可以解决验证错误。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-01T11:32:26.603

根据 XHTML 规则，`script`元素内容被解析为 HTML 标记，并且`script`元素不能包含任何标记。有多种解决方法，包括切换到 HTML 4.01（或 HTML5）。如果您继续使用 XHTML 1.0，那么规范中的[建议](http://www.w3.org/TR/xhtml1/#C_4)是：“如果您的脚本使用 <，请使用外部脚本”。也就是说，将`script`包含脚本代码替换为`link`引用外部 .js 文件中编写的代码的元素。

# ruby-on-rails - Rails 中的 Twitter 模型关联

> ID：14109530
> 
> 赞同：2
> 
> 时间：2013-01-01T10:07:10.023
> 
> 标签：ruby-on-rails, database-design, twitter, model

我正在尝试在 Rails 中构建类似 Twitter 的数据模型。这就是我想出的。

```
class User < ActiveRecord::Base
  has_many :microposts, :dependent => :destroy
end

class Micropost < ActiveRecord::Base
  belongs_to :user
  has_many :mentions
  has_many :hashtags
end

class Mention< ActiveRecord::Base
  belongs_to :micropost
end

class Hashtag < ActiveRecord::Base
  belongs_to :micropost
end 
```

我应该在某处通过关联使用 has_many 还是准确？

编辑：最终的 twitter MVC 模型。

```
class User < ActiveRecord::Base
  has_many :microposts, :dependent => :destroy

  userID
end

class Micropost < ActiveRecord::Base
  belongs_to :user

  has_many :link2mentions, :dependent => :destroy
  has_many :mentions, through: :link2mentions

  has_many :link2hashtags, :dependent => :destroy
  has_many :hashtags, through: :link2hashtags

  UserID
  micropostID
  content
end

class Link2mention < ActiveRecord::Base
    belongs_to :micropost
    belongs_to :mention

    linkID
    micropostID
    mentionID
end

class Mention < ActiveRecord::Base
  has_many :link2mentions, :dependent => :destroy
  has_many :microposts, through: :link2mentions

  mentionID
  userID
end 
```

编辑2：简洁准确的解释

[http://railscasts.com/episodes/382-tagging?view=asciicast](http://railscasts.com/episodes/382-tagging?view=asciicast)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:49:25.253

如果两个微博使用相同的主题标签，您可能不想为该主题标签创建两条数据库记录。在这种情况下，您将使用`has_many through`：

```
class Hashtagging < ActiveRecord::Base
  belongs_to :micropost
  belongs_to :hashtag
end

class Hashtag < ActiveRecord::Base
  has_many :hashtaggings
  has_many :microposts, through: :hashtaggings
end

class Micropost < ActiveRecord::Base
  ...
  has_many :hashtaggings
  has_many :hashtags, through: :hashtaggings
end 
```

创建`Hashtagging`迁移时，请确保它具有`micropost_id`和`hashtag_id`列。

# javascript - 如何“本地”加载 .js 文件？

> ID：14109534
> 
> 赞同：2
> 
> 时间：2013-01-01T10:08:33.823
> 
> 标签：javascript, error-handling, conflict

首先：“本地”既不是“本地主机”，也不是“本地文件夹”。它表示代码区域或代码空间或代码区域。

我的网站有两个 JS ( `*.js`) 文件。一个是显示新闻代码，另一个是在悬停时加载一些东西。它们是相互冲突的，我不能删除它们中的任何一个，因为我需要它们。

于是我想到了一个问题：既然我可以在本地做很多东西，为什么不本地加载一个js文件呢？认为：

```
<?php 
if('condition') {
DO IT ONCE;
}
?>

<?php 
if('other_condition') {
DO STH ELSE ONCE;
}
?> 
```

在这种情况下，第一个条件不会影响第二个条件。即使第一个做得很好，第二个也做得很好。没有冲突，什么都没有。

如果我可以出于特定目的在本地加载 JS，然后进一步中断 JS 加载，那么如果我加载其他 JS，她之前不会找到任何 JS，因为那只是针对特定区域的特定目的。

我想我很清楚我的想法。我在这里有一个 WordPress 网站，专门为主页使用`is_home()`函数加载代码。我想要这样一种方式来加载一个区域的 JS 文件，然后打破它以让其他 JS 正常运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:10:22.530

将每个加载到单独的 iframe 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T10:16:45.700

如果你的 Javascript 设计得很好，你可以有两个不干扰的脚本。如果没有看到实际的脚本，很难推荐改进。您可以为每个脚本引入新的作用域：

### script1.js

```
(function() {
    var script_variable = document.getElementById("my_form");
    script_variable.onchange = function() { /* ... */ };
})(); 
```

### script2.js

```
(function() {
    // Same name!
    var script_variable = document.getElementById("other_element");
    script_variable.onclick = function() { /* ... */ };
}); 
```

# c# - Lucene IndexSearcher 导致 OutOfMemoryException

> ID：14109537
> 
> 赞同：0
> 
> 时间：2013-01-01T10:09:10.143
> 
> 标签：c#, lucene.net

这是我搜索 Lucene 索引的代码，

```
String DocPath=@"c:\Test1.txt";
if (File.Exists(DocPath))
{
    StreamReader Reader = new StreamReader(DocPath);

    StringBuilder Content = new StringBuilder();
    Content.Append(Reader.ReadToEnd());

    if (Content.ToString().Trim() != "")
    {
        FSDirectory Direc = FSDirectory.Open(new DirectoryInfo(IndexDir));
        IndexReader Reader = IndexReader.Open(Direc, true);
        IndexSearcher searcher = new IndexSearcher(Reader);
        QueryParser parser = new QueryParser(Lucene.Net.Util.Version.LUCENE_30, "Content", new StandardAnalyzer(Lucene.Net.Util.Version.LUCENE_29, new FileInfo(Application.StartupPath + Path.DirectorySeparatorChar + "noise.dat")));
        BooleanQuery.MaxClauseCount = Convert.ToInt32(Content.ToString().Length);
        Query query = parser.Parse(QueryParser.Escape(Content.ToString().ToLower()));
        TopDocs docs = searcher.Search(query, Reader.maxDoc);
    }
} 
```

在这段代码中，我打开一个 15MB 的文本文件并将其提供给索引搜索器。搜索需要很长时间，并且显然会抛出`OutOfMemoryException`. 解析查询甚至需要时间。索引大小约为 16K 文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-03T14:45:21.303

我建议你改变你的方法。在文档中，存储一个包含文件哈希的附加字段，例如 MD5 哈希。

使用您的输入来计算它的哈希并针对该哈希发出查询，并将匹配的文档与您的输入进行比较以确保相等。

它将更加健壮，并且可能也会更加高效。

# google-apps-script - 尝试使用 Google Script API 读取电子表格中的单元格 1,1

> ID：14109538
> 
> 赞同：29
> 
> 时间：2013-01-01T10:09:26.570
> 
> 标签：google-apps-script

我是一个经验丰富的程序员......我对 OOP 概念有很好的理解，我最近一直在`PHP`使用`MySQL`。我已经开始涉足 Google API 脚本。我正在尝试编写一个非常简单的程序来读取谷歌电子表格中的单元格 1,1。API 没有嵌入到谷歌电子表格中，我需要它在 SS 之外运行。

这是有问题的代码：

```
function email() {

// Opens SS by its ID

var ss = SpreadsheetApp.openById("0AgJjDgtUl5KddE5rR01NSFcxYTRnUHBCQ0stTXNMenc");

// Get the name of this SS

var name = ss.getName(); 
```

读取单元格 1,1 *** 下面的行不起作用 ***

```
var data = Range.getCell(0, 0); 
```

我知道这`getCell()`是 Range 类中的一种方法。从我在资源中看到的，看起来 Range 是顶级/父/超类。看看上面的粗体代码，我相信我已经创建了一个 Range 对象并试图从该对象调用一个方法。我在这里做错了什么？

感谢您的关注！

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2013-01-01T10:44:44.123

您必须首先获取 Range 对象。此外，getCell() 不会返回单元格的值，而是返回单元格的 Range 对象。所以，使用一些东西

```
function email() {

// Opens SS by its ID

var ss = SpreadsheetApp.openById("0AgJjDgtUl5KddE5rR01NSFcxYTRnUHBCQ0stTXNMenc");

// Get the name of this SS

var name = ss.getName();  // Not necessary 

// Read cell 1,1 * Line below does't work *

// var data = Range.getCell(0, 0);
var sheet = ss.getSheetByName('Sheet1'); // or whatever is the name of the sheet 
var range = sheet.getRange(1,1); 
var data = range.getValue();

} 
```

层次结构是电子表格 --> 工作表 --> 范围 --> 单元格。

# c++ - std::tr1::shared_ptr 是否会抛出 bad_alloc 和进入 try/catch 块的好主意？

> ID：14109542
> 
> 赞同：4
> 
> 时间：2013-01-01T10:10:05.897
> 
> 标签：c++, boost

我实际上正在制作一个简单的 C++ SFML 游戏，我想了解更多关于 C++ 编程的知识。

现在我使用 shared_ptr 来管理资源。在创建新资源时，我对 shared_ptrs 有一些疑问，例如：

```
 shared_ptr< Resource > resource( new Resource( World::LEVEL ) ); 
```

根据 boost shared_ptr< class Y>( Y * p ) throws bad_alloc。我不知道 std::tr1 是否也这样做。而且我不知道我是否应该担心将 shared_ptr 放在 try/catch 块中以检查是否抛出了 bad_alloc。这是一个好的编程习惯吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-01T10:15:55.513

根据 C++ 2011 标准，§20.7.2.2.1 ¶6：

`template<class Y> explicit shared_ptr(Y* p);`

> 抛出: `bad_alloc`，或者当无法获取内存以外的资源时发生实现定义的异常。

当您知道如何处理异常时，您就会捕获异常。如果您要处理内存不足异常并且有代码来执行此操作，那么请务必将其放入 try-catch 中。如果您不编写任务关键型代码并且不希望在系统内存限制的边缘运行，则可能没有必要。请注意，一旦系统内存不足，您编写的几乎每一行代码都可能引发异常。

重要的是要注意，在现代硬件/操作系统上，“内存不足”并不意味着您已经超出了物理内存限制 - 您只能拥有 128MiB 的内存并且即使使用 10 次也不会出错，并且您可以拥有 8GiB 的物理内存，并且当您只使用了一半时就会出现该错误。这是指您的应用程序可用的内存空间，操作系统将在必要时将其分页到磁盘（并假设可用磁盘空间）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-01T10:15:19.193

`shared_ptr`需要分配计数器，所以它可以抛出 `bad_alloc`. （IIRC，当它这样做时，它会在传递给它的指针上调用 delete 。）

你是否需要抓住它是另一个问题；您几乎可以肯定不需要在创建`shared_ptr`. 这只是另一个失败的分配，无论您处理失败的分配，都应该捕获（或不捕获）。

# ruby-on-rails - Rails 3：在 Rails 3 中转换为浮点数

> ID：14109544
> 
> 赞同：1
> 
> 时间：2013-01-01T10:10:23.817
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我的 Rails 应用程序我有一个注册模型，其中包含每个用户的出勤状态。我想显示当天没有用户在场（百分比）。我从注册表中找到了今天在场的用户总数和来自另一个的预期用户桌子。

```
@totalnoofuserspresent = Register.where(:date => date).sum(:one)
@expectedusers = Workoutplanperday.where(:day => date , :workoutplantype => 1).count 

attendance = @totalnoofuserspresent / @expectedusers  (ie: 5/10 ) 
```

目前我正在`attendance:0`

我想以百分比显示，即：50% 或浮点数，即：0.50

提前致谢....

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-01T10:22:27.333

问题是，两个变量（@totalnoofuserpresent 和 @expectedusers）都是整数。如果您只使用整数进行操作，Ruby 假设您想要一个整数。因此，在进行除法之前，您必须将其中一个变量转换为浮点数。

```
attendance = Float(@totalnoofuserspresent) / @expectedusers 
```

或更简单

```
attendance = @totalnoofuserspresent.to_f / @expectedusers 
```

# vb.net - 什么是反编译的 VB 中的 __PostIncrement（通过 ILSpy）

> ID：14109545
> 
> 赞同：3
> 
> 时间：2013-01-01T10:11:02.017
> 
> 标签：vb.net, cil, decompiling, ilspy

我只是在仔细`System.Collections.Generic.List(Of T).Add(item As T)`阅读使用 ILSpy 的反编译代码，然后找到了对`__PostIncrement`. 我在VB中从未听说过这样的事情，所以我做了一些挖掘并发现：

1.  在 VB 中，代码为`Me._items(__PostIncrement(Me._size)) = item`.
2.  在 C# 中，代码`this._items[this._size++] = item;`使用该语言中的实际后增量运算符
3.  在 MSIL 中，*没有*函数调用。它似乎像 C# 后增量一样工作（评论是我的，但我不是 MSIL 的专家，所以我可能是错的）。

代码是：

```
IL_001e: ldarg.0
IL_001f: ldfld !0[] class System.Collections.Generic.List`1<!T>::_items
IL_0024: ldarg.0
IL_0025: dup
IL_0026: ldfld int32 class System.Collections.Generic.List`1<!T>::_size
IL_002b: dup
IL_002c: stloc.0           // store the size pre incrementing
IL_002d: ldc.i4.1
IL_002e: add               // do the increment
IL_002f: stfld int32 class System.Collections.Generic.List`1<!T>::_size
IL_0034: ldloc.0           // reload the stored size to use as index in stelem
IL_0035: ldarg.1
IL_0036: stelem.any !T 
```

这到底是什么`__PostIncrement`？在VB中符号化后增量IL代码是SharpDevelop的发明吗？或者它实际上是我可以在我自己的 VB 代码中使用的某种定义？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:16:29.010

__PostIncrement 相当于 C# [`operator++`](http://msdn.microsoft.com/en-US/library/36x43w8w%28v=vs.110%29.aspx)。这是一种增加（加一）数字的快速方法。不幸的是，根据[Visual Basic 中的运算符列表，](http://msdn.microsoft.com/en-us/library/b6ex274z%28v=vs.110%29.aspx)没有等效的运算符。

# magento - 在 local.xml 中添加新的购物车块 - magento

> ID：14109546
> 
> 赞同：1
> 
> 时间：2013-01-01T10:11:23.037
> 
> 标签：magento, layout

尝试在 local.xml 的标题中添加一个新的购物车块，这就是我所拥有的

```
 <default>
        <reference name="header">
            <block type="checkout/cart_sidebar" name="cart_topbar" as="topCart" template="checkout/cart/top-cart.phtml"/>
        </reference>
    </default> 
```

然后在标题中我用它来调用它，`<?php echo $this->getChildHtml('topCart')?>`但是它什么也没显示。

如果我尝试将类型更改为`type="core/template"`然后模板将显示内容。所以这让我觉得我错过了特定`checkout/cart_sidebar`类型的东西？

`top-cart.phtml`简单文件包含一个文本行以消除其中的任何内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T18:02:20.650

那是你的local.xml？

语法正确。

您是否修改了 Mage/Checkout/Block/Cart/Sidebar.php 中的任何其他内容？

# mysql - 使用 mysql 选择 avg vote 但忽略前 5% 和后 5% 的投票

> ID：14109547
> 
> 赞同：2
> 
> 时间：2013-01-01T10:11:28.877
> 
> 标签：mysql, select, average

我有一张带选票的桌子。投票只有数字（没有文字，没有是/否等）。

**原始数据示例**

```
id   | question_id | vote
1    | 63          | 80
2    | 63          | 13
3    | 63          | 992
...
100  | 63          | 900000
101  | 63          | 5 
```

我想获得特定问题的平均值，但忽略最高和最低 X% 的选票（例如：忽略 5% - 所以每 100 票我将平均只有 90 票） - 不是按 id 而是按最大值和投票数的最小值。

在上表中，平均值中不会考虑 900000 和 5（假设它们是该问题的最高和最低票数）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-01T10:36:37.790

该查询应该可以完成这项工作（[参见 SQL Fiddle 上的示例）](http://sqlfiddle.com/#!2/68383/16)：

```
SELECT AVG(vote) FROM
(
  SELECT vote, @r:=@r+1 AS rownum
  FROM votes, (SELECT @r:=0) x
  WHERE question_id = 63
  ORDER BY vote
) x
WHERE rownum > @r * .05
  AND rownum <= @r * .95
; 
```

子查询使用一个变量为每条记录分配一个行号，外部查询删除最低和最高的数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:36:49.990

这是您可能使用的基本思想：

```
SELECT AVG(vote) AS average
FROM tbl o 
WHERE question_id=?
AND (
   SELECT count(*)
   FROM tbl i
   WHERE o.question_id = i.question_id
   AND o.vote < i.vote 
)/(
   SELECT count(*)
   FROM tbl inner
   WHERE o.question_id = i.question_id
) IS BETWEEN 0.05 AND 0.95
GROUP BY question_id 
```

直观上看，复杂度是投票数的二次方（除非查询执行器可以优化第一个子查询；第二个更容易优化）

其他一些数据库引擎有一个行号作为您可以在查询中使用的值。这可能会帮助您实现线性复杂性。

您也可以通过多个查询来实现线性复杂性：

1.  查询带有问题 ID 的总行数。
2.  按排序顺序计算 5% 和 95% 边界的位置。
3.  用 查询与边界对应的投票`LIMIT`。您可以并行运行两个查询，这要归功于`UNION`.
4.  查询知道票数最高和最低票的平均票数。

如果有重复投票，您可能需要用向量替换`vote`列以`vote, ID`找到边界（这适用于两个查询）。基本思想是一样的。

# javascript - 滚动条需要时间才能出现

> ID：14109550
> 
> 赞同：1
> 
> 时间：2013-01-01T10:11:51.000
> 
> 标签：javascript, html, jquery-mobile, scrollbar, iscroll4

我发现JS已经准备好在Mobile这个站点使用滚动条了：http: [//cubiq.org/iscroll-4](http://cubiq.org/iscroll-4)

我的列表充满了输入中的自动完成..

需要几分钟才能出现滚动条。（有时几分钟后显示，有时根本不显示）

直到当我尝试向下拖动它出现时，列表才会向上跳

有人知道为什么会这样吗？

我的 JS：

```
 myScroll = new iScroll('wrapper');// **in Document.ready** 
```

我的 HTML：

```
<div id="wrapper">
            <ul class="Result" data-role="listview" data-inset="true" dir="rtl">
            </ul>
        </div> 
```

我的CSS：

```
#wrapper
{
    z-index: 5000;
    width: 30%;
    position: absolute;
    margin-left: 37%;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T12:17:58.597

试试这个也许：

```
myScroll = new iScroll('wrapper', {fadeScrollbar: false}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T13:17:52.050

最后我以这种方式解决了这个问题：

每次列表大小变化时都需要刷新滚动

因为自动完成需要时间来填充，所以我只在一段时间后刷新滚动。

输入中的按键功能：

```
function RefreshScroll() {
    setTimeout(function () {
        MyScroll.scrollToElement('li:nth-child(1)', 100)
        setTimeout(function () {
            MyScroll.refresh();
        }, 0);
    }, 200);
} 
```

# date - 逐年给出条件时，ms access 2010未获取数据

> ID：14109555
> 
> 赞同：1
> 
> 时间：2013-01-01T10:12:41.837
> 
> 标签：date, ms-access-2010

我对 MS ACCESS 2010 有一个奇怪的问题。
我有一个带有列的表 RawData `TaskDate`（格式为备忘录）。当我使用以下查询时，我得到了所需的数据，

```
`select * from RawData where TaskDate between '01/01/2012' and '12/31/2012'` 
```

但是当我使用以下查询时，我没有得到任何数据：

```
select * from RawData where TaskDate between '01/01/2012' and '01/01/2013' 
```

我不明白这个问题，因为这个“年”值没有发生数据比较。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:50:10.107

哦，伙计。你知道那有多糟糕吗？可悲的是，“不知道如何使用数据库”风格。是时候阅读有关数据类型的文档了。

好的，我们开始：

> 任务日期（格式为备忘录）

是的，但是那应该被公开鞭打。首先，这是一个 TEXT 字段，其次是用于日期从不存在的 LONG 文本。在两个层面上失败。

如果格式是备忘录它是文本，所以“之间”比较文本。

> “2012 年 1 月 1 日”和“2012 年 12 月 31 日”`

那是从左到右。

即第一个字母 0 或 1，第二个字母 1 或 2，第 4 个字母介于 0 和 3 之间，第 5 个字母介于 1 和 1 之间。继续……

> '01/01/2012' 和 '01/01/2013'

这基本上意味着仅 2012 年和 2013 年 01/01 的所有内容。假设这是一个假期，没有任务——嗯，没有数据。为什么？因为任何其他日期都失败了。第一个字符必须匹配 '01/01/201'。

如果您想正确地做到这一点，您可以：

*   更改日期的格式以使其作为文本有意义。这是 ISO 标准：2012-01-01 到 2012-12-31。这意味着他们从左到右顺序正确。

*   更好：抛弃使用备忘录进行约会的愚蠢想法

读

[http://www.dummies.com/how-to/content/tips-for-choosing-field-types-in-access-2010.html](http://www.dummies.com/how-to/content/tips-for-choosing-field-types-in-access-2010.html)

然后使用日期/时间作为字段类型，并且神奇地 Access 不会尝试比较文本（这不知道它们在内部意味着什么，因此它不能将日期的语义应用于它们）并比较真实日期。

现在你确定没有“日期”比较。这是纯粹的愚蠢的小字符串，从左到右，一个字符一个字符，没有额外的逻辑。

# javascript - 悬停图像显示说明

> ID：14109558
> 
> 赞同：2
> 
> 时间：2013-01-01T10:12:59.760
> 
> 标签：javascript, jquery, css

我正在尝试在悬停图像上显示描述，但是当悬停在图像上时，所有图像都会显示描述。我有以下代码....

```
 <?php if ($product['thumb']) { ?>
    <div class="image"><a href="<?php echo $product['href']; ?>"><img src="<?php echo $product['thumb']; ?>" alt="<?php echo $product['name']; ?>" /></a></div>
    <?php } ?>

    <div style="display:none;" class="de"> Nunc ornare adipiscing orci eu consectetur. Ut justo libero, porttitor ac elementum luctus, bland..

    <img alt="Based on 2 reviews." src="catalog/view/theme/kid/stars1-4.png"/>
    </div>

    <script type="text/javascript">
    $this('.image').hover(function() {
    // mouseOver function
        $('.de').show();
    }, function() {
    // mouseOut function
    $('.de').hide();
    });
    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:19:09.260

```
<img src="/some/dir" title="Your description" alt="alternate text"/> 
```

是添加描述的正确方法。请注意，我不太确定这是否是您要问的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:18:57.200

首先，您的 div 不显示，并且您的图像在其中。所以不会显示。

```
<div style="display:none;" class="de"> Nunc ornare adipiscing orci eu consectetur. Ut justo libero, porttitor ac elementum luctus, bland..
</div>
<img alt="Based on 2 reviews." src="catalog/view/theme/kid/stars1-4.png"/> 
```

当有更多图像时，您是否有一个示例说明您的 html 的外观？这是我想出的javascript，带有您当前的html：

```
<script type="text/javascript">
    $('img').hover(function() {
    // mouseOver function
        $(this).prev('.de').show();
    }, function() {
    // mouseOut function
        $(this).prev('.de').hide();
    });
</script>​ 
```

我使用了选择器“img”。但是您可能想要使用一个类，并且可能使用一个委托（http://api.jquery.com/on/）

这是小提琴：http: [//jsfiddle.net/BvLPY/6/](http://jsfiddle.net/BvLPY/6/)

快乐编码！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T10:20:28.063

**更新**

`.next()`在此脚本中使用：

只需找到悬停 div 的下一个`.image`div

```
<script>
$(function(){
    $('.image').hover(function() {
    // mouseOver function
        $(this).next('.de').show();
    }, function() {
    // mouseOut function
        $(this).next('.de').hide();
    });​
});
</script> 
```

在小提琴中找到这个：http: **[//jsfiddle.net/SufeL/](http://jsfiddle.net/SufeL/)**

# xml - 将 XML 解析为记录

> ID：14109562
> 
> 赞同：2
> 
> 时间：2013-01-01T10:13:59.977
> 
> 标签：xml, haskell

我想编写一个 Haskell 库来使用 Web 服务 API。我从服务器收到 XML 或 JSON 响应，说它看起来像这样：

```
<foo>
    <bar>1</bar>
    <baz>moo</baz>
</foo> 
```

我想把它变成一个记录：

```
data Foo = Foo {
    bar :: Integer,
    baz :: String
} 
```

我如何将其抽象化，这样我就不必手动解析 XML 并手动选择各个组件？我希望有一个 API 可以让我描述从 XML 元素和属性到记录部分的映射，并为我完成剩下的工作。

# php - 无法在下拉菜单中设置默认值

> ID：14109563
> 
> 赞同：0
> 
> 时间：2013-01-01T10:14:17.407
> 
> 标签：php, drop-down-menu

```
$sql = "select custName from customer where active = 1 order by custName";
sult=mysql_query($sql);
echo"<select name='custNameColo'>";
while($row = mysql_fetch_array($result)) {
    if($row['custName']==$_GET['defaultCust']) {
        echo "<option value=".$row['custName']."selected = 'selected'>".$row['custName']."</option>";
    }
    else {
        echo "<option value=".$row['custName'].">".$row['custName']."</option>";
    }
}
echo "</select>"; 
```

我想在下拉菜单中设置一个默认值，但它不起作用，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:37:12.603

```
<?php 
$sql = "select custName from customer where active = 1 order by custName";
$result=mysql_query($sql);
while($row = mysql_fetch_array($result)){
?>
<option value="<?php echo $row['custname'] ?>" <?php if($row['custname']==$_GET['defaultCust']) { echo "selected";}?>>
<?php echo $row['custname']; ?></option>
<?php
}
 ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T12:06:48.570

```
<?  echo "TRY this it will work";
$sql = "select custName from customer where active = 1 order by custName";
$result=mysql_query($sql);
?>
<select name="custNameColo">
<? 
while($row = mysql_fetch_array($result)){?>
<option value="<?=$row['custname'];?>" <? if($row['custname']==$_GET['defaultCust']){?> selected="selected" <? }?>><?=$row['custname'];?></option>
<? } ?>
</select> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-01T10:17:13.640

您没有在选项标签的值之前和之后添加单引号。我为你做了。未选择默认值，因为 value 属性未正确关闭。

```
$sql = "select custName from customer where active = 1 order by custName";
$result=mysql_query($sql);
echo "<select name='custNameColo'>";
while($row = mysql_fetch_array($result)){
    if($row['custName']==$_GET['defaultCust']){
        echo "<option value='".$row['custName']."' selected = 'selected'>".$row['custName']."</option>";
    }
    else {
        echo "<option value='".$row['custName']."'>".$row['custName']."</option>";
    }
}
echo "</select>"; 
```

# vb.net - 无法读取 excel 到 sql 数据库

> ID：14109565
> 
> 赞同：0
> 
> 时间：2013-01-01T10:14:27.883
> 
> 标签：vb.net, sql-server-2008, excel

我想上传一个 Excel 文件并将数据写入 sql server 2008。

Excel 文件有 7 张纸，它写在 7 个表格中。
示例 : (sheetn -> temp_sheetn)

代码运行良好，但最后一张表没有写在最后一张表中。

代码是这样的：

```
Partial Class app_UploadData
    Inherits System.Web.UI.Page
    Dim apps As New MyApps
    Dim GlobReg As Integer = 0
    Dim GlobOTC As Integer = 0

    Private dt As DataTable = Nothing

    Public Function xlsInsert(ByVal pth As String) As System.Data.DataTable
        Dim strcon As String = String.Empty
        If Path.GetExtension(pth).ToLower().Equals(".xls") OrElse Path.GetExtension(pth).ToLower().Equals(".xlsx") Then
            strcon = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" & pth & ";Extended Properties=""Excel 8.0;HDR=YES;"""
        Else
            strcon = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" & pth & ";Extended Properties=""Excel 12.0;HDR=YES;"""
        End If
        Dim strselect As String = "Select * from [Sheet1$]"
        Dim exDT As New DataTable()
        Using excelCon As New OleDbConnection(strcon)
            Try
                excelCon.Open()
                Using exDA As New OleDbDataAdapter(strselect, excelCon)
                    exDA.Fill(exDT)
                End Using
            Catch oledb As OleDbException
                Throw New Exception(oledb.Message.ToString())
            Finally
                excelCon.Close()
            End Try
            For i As Integer = 0 To exDT.Rows.Count - 1
                ' Check if first column is empty
                ' If empty then delete such record
                If exDT.Rows(i)("CardNo").ToString() = String.Empty Then
                    exDT.Rows(i).Delete()
                End If
            Next
            exDT.AcceptChanges()
            ' refresh rows changes
            If exDT.Rows.Count = 0 Then
                Throw New Exception("File uploaded has no record found.")
            End If
            Return exDT
        End Using
    End Function

    Protected Sub btnUpload_Click(ByVal sender As Object, ByVal e As EventArgs)
        Dim ds As New DataSet()
        Dim XlsConnString As String = String.Empty

        Dim DirPath As String = Server.MapPath("~/Temp_Upload/")
        Dim fName As String

        If (Directory.Exists(DirPath)) Then
            For Each fName In Directory.GetFiles(DirPath)
                If File.Exists(fName) Then                    
                    File.Delete(fName)
                End If
            Next
        End If

        If xlsUpload.HasFile Then
            Dim fileName As String = Path.GetFileName(xlsUpload.PostedFile.FileName)
            Dim fileExtension As String = Path.GetExtension(xlsUpload.PostedFile.FileName)
            Dim fileLocation As String = Server.MapPath("~/Temp_Upload/" & fileName)
            xlsUpload.SaveAs(fileLocation)

            'Check whether file extension is xls or xslx
            If fileExtension = ".xls" Then
                XlsConnString = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" & fileLocation & ";Extended Properties=""Excel 8.0;HDR=Yes;IMEX=2"""
            ElseIf fileExtension = ".xlsx" Then
                XlsConnString = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" & fileLocation & ";Extended Properties=""Excel 12.0;HDR=Yes;IMEX=2"""
            ElseIf fileExtension <> ".xls" Or fileExtension <> ".xlsx" Then
                lblMessage.Text = "Upload file must be excel !"
                Exit Sub
            End If

            Dim cmd As New SqlCommand : Dim SheetName As String 'Dim dr As SqlDataReader
            'Dim tran As SqlTransaction

            apps.OpenConnection()
            cmd.Connection = apps.oConn

            Dim cn As New OleDbConnection(XlsConnString)
            Try
                cn.Open()
            Catch ex As OleDbException
                Console.WriteLine(ex.Message)
            Catch ex As Exception
                Console.WriteLine(ex.Message)
            End Try

            ' It Represents Excel data table Schema.
            Dim dt As New System.Data.DataTable()
            dt = cn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, Nothing)
            If dt IsNot Nothing OrElse dt.Rows.Count > 0 Then
                For sheet_count As Integer = 1 To dt.Rows.Count - 1
                    Try
                        ' Create Query to get Data from sheet.
                        SheetName = dt.Rows(sheet_count)("table_name").ToString()
                        'Dim da As New OleDbDataAdapter("SELECT * FROM [" & sheetname & "]", cn)
                        'da.Fill(ds, sheetname)

                        'Execute a query to erase any previous data from our destination table                        
                        cmd.CommandText = "Truncate Table Temp_" & SheetName
                        cmd.ExecuteNonQuery()

                        'Series of commands to bulk copy data from the excel file into our SQL table
                        Dim OleDbConn As OleDbConnection = New OleDbConnection(XlsConnString)
                        Dim OleDbCmd As OleDbCommand = New OleDbCommand(("SELECT * FROM [" & SheetName & "]"), OleDbConn)
                        'Dim OleDbCmd As OleDbCommand = New OleDbCommand(("SELECT * FROM [Customer$]"), OleDbConn)
                        OleDbConn.Open()
                        Dim OleDbRead As OleDbDataReader = OleDbCmd.ExecuteReader()

                        Dim bulkCopy As SqlBulkCopy = New SqlBulkCopy(apps.oConn)
                        bulkCopy.DestinationTableName = "Temp_" & SheetName
                        bulkCopy.WriteToServer(OleDbRead)

                        OleDbConn.Close()
                        OleDbConn = Nothing

                    Catch ex As DataException
                        Console.WriteLine(ex.Message)
                    Catch ex As Exception
                        Console.WriteLine(ex.Message)
                    End Try
                Next
            End If

            cn.Close()
            cn = Nothing

            apps.CloseConnection()

        End If

    End Sub

End Class 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T13:37:54.453

读取的行

```
For sheet_count As Integer = 1 To dt.Rows.Count - 1 
```

应该是

```
For sheet_count As Integer = 0 To dt.Rows.Count - 1 
```

或者

```
For sheet_count As Integer = 1 To dt.Rows.Count 
```

我怀疑第一个，但我不记得这是否是一个从零开始的列表，因为我没有在这里安装 VB.Net。

顺便说一句，无需检查文件扩展名是否为 .xls，然后使用 Jet 提供程序，Microsoft.ACE.OLEDB.12.0 就可以在 .xls 文件上正常工作。

# javascript - 在 span 元素内查找锚点

> ID：14109573
> 
> 赞同：1
> 
> 时间：2013-01-01T10:16:26.717
> 
> 标签：javascript, jquery, html

我的 html 中有这段代码

```
<span id="u_0_10">You can also <a rel="my_Feed" href="#" ajaxify="send_notify?Qid=10&amp;part=99">feed</a>Send me this feed</span> 
```

我想知道我可以用 jQuery 找到那个锚并在 jQuery 中触发它的 onclick 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:17:26.247

你可以这样做，

**[现场演示](http://jsfiddle.net/rajaadil/sVtbh/3/)**

```
$('#u_0_10 a').click(function(){
   alert($(this).text()); 
});

$('#u_0_10 a').click(); 
```

您可以在此处了解有关 jQuery[**选择器**](http://api.jquery.com/category/selectors/)和[**单击**](http://api.jquery.com/click/)事件的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:18:34.220

这个css应该可以工作。

“跨度#u_0_10 a”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T10:23:32.523

$('#u_0_10 > a').each(function() { // 做你的事情 });

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T11:16:04.610

由于没有人点击链接，我会这样做

`$('#u_0_10 > a').trigger("click")`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-01T11:58:10.967

试试这个代码

**对于 ID 为 myId 的特定跨度**

```
 $('#myId a').click(function() {
   / process click event here
 }); 
```

**对于 css myKlass 的所有跨度**

```
 $('.myKlass a').click(function() {
   / process click event here
 }); 
```

**对于所有跨度**

```
 $('span a').click(function() {
   / process click event here
 }); 
```

# .net - Read contents of .edb file

> ID：14109581
> 
> 赞同：2
> 
> 时间：2013-01-01T10:17:40.333
> 
> 标签：.net, exchange-server

I was just curious to know if there is any way to read the content of a .edb file. I mean to say that I was thinking on the terms where in I can code to move the content of a .edb file to either .pst or .ost format. I am not looking for a tool. infact I want to make something of my own. I need to work on .net. Please suggest where to start. any links any API any script would be much appreciated.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:41:31.203

Microsoft has not provided any API's for reading offline EDB files. Here are links to help you get started [API Spec by Joachim Metz](http://code.google.com/p/libesedb/downloads/detail?name=Extensible%20Storage%20Engine%20%28ESE%29%20Database%20File%20%28EDB%29%20format.pdf)

[EDB File Structure](http://www.edbsearch.com/edb.html)

Good Luck!

# c# - .Net 的 POS 无法检测到打印机

> ID：14109583
> 
> 赞同：1
> 
> 时间：2013-01-01T10:17:47.573
> 
> 标签：c#, asp.net, winforms, pos-for-.net

我正在为我的一个项目使用 .Net 框架版本 1.12 的 POS。

Microsoft POS for .NET 是一个类库，它是 Microsoft Windows Embedded for Point of Service 的一部分。 [http://msdn.microsoft.com/en-us/library/ms828083%28v=winembedded.10%29.aspx](http://msdn.microsoft.com/en-us/library/ms828083%28v=winembedded.10%29.aspx)

```
 private PosPrinter GetReceiptPrinter()
    {
        PosExplorer posExplorer = new PosExplorer(this);
        DeviceInfo receiptPrinterDevice = posExplorer.GetDevice(DeviceType.PosPrinter);
        return (PosPrinter)posExplorer.CreateInstance(receiptPrinterDevice);
    } 
```

以上是查找打印机的示例代码。现在我的问题是 POS 无法检测到打印机，而只能在我运行应用程序时打开带有数据的模拟器。

谁能帮帮我吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-13T01:39:14.543

你的代码行

```
DeviceInfo receiptPrinterDevice = posExplorer.GetDevice(DeviceType.PosPrinter); 
```

将返回**默认**的或找到的**第一个**PosPrinter，在您的情况下，它看起来像是模拟器。

您需要**(1)**遍历打印机集合并*以某种方式*选择您想要的打印机。IE

```
foreach (DeviceInfo deviceInfo in explorer.GetDevices(DeviceType.PosPrinter))
{
    if (isThisThePrinterIWant(deviceInfo))   // user defined function (maybe lookup saved preference file)
    {
        return (PosPrinter)posExplorer.CreateInstance(deviceInfo );
    }
} // Note: GetDevices() not GetDevice() 
```

或**(2)**为您的打印机设置一个逻辑名称（使用您的打印机附带的软件，或 Pos for .Net SDK 附带的 POSDM 实用程序）并将上述行更改为

```
DeviceInfo receiptPrinterDevice = posExplorer.GetDevice(DeviceType.PosPrinter, "madeUpLogicalName"); 
```

或**(3)**只需将所需的打印机设置为默认打印机，然后保持您的代码不变。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T11:02:38.323

我为运行 Windows CE 作为操作系统的 POS 开发了一个应用程序，但对于该 POS，制造商提供了一个自定义 dll 来调用我在 C# 代码中使用的打印机操作。请咨询 POS 制造商，看看他们是否提供了相同的自定义 dll。

# jquery - 为每个从 jquery 中排除一个类

> ID：14109585
> 
> 赞同：2
> 
> 时间：2013-01-01T10:17:55.157
> 
> 标签：jquery

我的代码是这样的

```
$("a[href]").each(function () {
    if ($(this).attr("href").toLowerCase().indexOf("javascript:") != 0 &&     $(this).attr("class") != "to-top")
   {
      $(this).attr("href", new URI($(this).attr("href")).removeQuery("at").addQuery("at", $.cookies.get('ACCT_TYPE') != null ? $.cookies.get('ACCT_TYPE') : "erhverv"));
  }
}); 
```

现在我想避免这种情况下的特定链接。“a”链接属于“税收转换”类。有没有捷径可以实现这一目标？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T10:27:32.033

正如@vivek 所说，使用以下`not`功能：

```
$('a[href]').not('.tax-switch').each( 
```

这将选择所有没有“tax-switch”类的锚。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-01T11:52:10.460

试试这个代码，工作[小提琴](http://jsfiddle.net/ZuCSC/)

```
$("a[href]:not(.tax-switch)").each(function () {
   $("#myDIV").append('<p>'+ $(this).html()+'</p>');
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T10:20:37.087

您可以使用 jquery 而不是选择器。 [http://api.jquery.com/not-selector/](http://api.jquery.com/not-selector/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T10:25:55.877

使用`filter()`：

```
$('a[href]').filter(function(){
    return !$(this).hasClass('tax-switch');
}).each(function(){
    // do your stuff
}); 
```

参考：

*   `filter()`.

# sql - SQL 解释计划解释 - Oracle DB

> ID：14109588
> 
> 赞同：0
> 
> 时间：2013-01-01T10:18:29.773
> 
> 标签：sql, oracle, plsql, sql-execution-plan

*设想：*

对于同一张表上的两个不同查询（未编入索引/无 PK / 无 FK），我得到了相同的解释计划（选项卡访问完整和成本、字节和基数的相同数字）。

*查询1：*

```
select * from tab1 where col1 = 'A' 
```

*查询2：*

```
select * 
from tab1 
where col1 = 'A' 
and months_between(decode(col2,NULL,col3,col4),col5)<13; 
```

*问题：*

*Query2*中添加的条件不会需要更多时间来处理吗？
还是
这样，即使*Query1也像**Query2*一样花费时间，这是表上几乎所有此类查询 **所需的最长时间（Tab Access Full）？**

请注意，该表（数据量始终小于 0.5 万）目前没有显示任何性能问题，这只是为了解释 oracle COB 提供的解释计划，以便对未来的改进有所帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T10:39:28.773

你说你的桌子上没有索引。因此，优化器别无选择，只能进行全扫描。此外，您正在选择所有列 ( `select *`)。查询 2 的成本（主要是全扫描的 IO）将非常相似，也许是额外条件的一个微小的额外 CPU。基数是优化器估计的查询计划的每个步骤将检索的行数。同样，字节数是预期的字节数。如果您的 query1 和 query2 返回相同数量的行，即额外的谓词不会影响结果，那么 query1 和 query2 的基数和字节数将相同。如果您认为它们应该不同，那么您应该检查您的表格统计信息是否是最新的。

# lotus - Lotus Quick Places 发行人

> ID：14109608
> 
> 赞同：0
> 
> 时间：2013-01-01T10:21:01.677
> 
> 标签：lotus

在 quickr 中使用用户名、中间名和姓氏登录后，将显示 quickr 主页。然后我将单击这些地方，但它们没有显示，而是出现此错误。如何解决这个问题？

```
'performance' is null or not an object
'window.q_BaseLoader.performance' is null or not an object
'dojo' is undefined
'window.q_BaseLoader.performance' is null or not an object
'window.q_BaseLoader.sametime' is null or not an object
'dojo' is undefined
'q_BaseLoader' is undefined 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T11:39:50.730

您似乎在同一台服务器上安装了 Sametime 和 Quickr（或 Quick Place？）。这不是受支持的配置。现在你知道为什么...

# mysql - 在 MySQL 中选择缺失的条目

> ID：14109609
> 
> 赞同：0
> 
> 时间：2013-01-01T10:21:11.823
> 
> 标签：mysql

我有一个数据库，其中包含每 30 分钟（+/- 3 秒）保存的数据。大约有 20 000 条记录。现在我想获取没有保存记录的所有日期时间：例如，我不想得到 2012-11-22 16:30 作为结果，因为它存在于数据库中。但是我想将 2012-11-22 16:00 作为一个，因为数据库不包含具有该日期的条目。

请记住，秒部分可能会有所不同。通常它恰好是在这一分钟，但有时它可能是 2012-05-10 10:00:03 左右。

我该如何做这样的查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T15:37:05.217

我创建了一张表来显示我的存储过程。下面给出表创建查询

```
CREATE TABLE `testtable1` (
    `id` INT(11) NULL DEFAULT NULL,
    `timecol` DATETIME NULL DEFAULT NULL
) 
```

表包含如下给出的数据

![在此处输入图像描述](../Images/ffaface8a3f42d242db6c18877bd89c1.png)

为了满足您的要求，我创建了以下存储过程

```
DELIMITER $$  
CREATE PROCEDURE proc1(fromtime DATETIME,totime DATETIME)

   BEGIN
      DECLARE a INT Default 1;
      DECLARE temptime DATETIME;
      DECLARE ini,diff,nos int;      
  DECLARE temp1,temp6 datetime;
  drop table if exists mytemptable;
  CREATE TEMPORARY TABLE IF NOT EXISTS mytemptable ( `missing_dates` DATETIME NULL DEFAULT NULL);    

  if(minute(fromtime)>30) then
   set diff=60-(minute(fromtime));       
  else
   set diff=30-(minute(fromtime));       
  end if;
  set temptime=ADDTIME(fromtime,concat('00:',diff,':00'));

  while((unix_timestamp(totime)-unix_timestamp(temptime))>0) DO
  set temp1=SUBTIME(temptime,'00:00:03');     
  set temp6=ADDTIME(temptime,'00:00:03');      

   select count(*) into nos from testtable1 where timecol>=temp1 and timecol<=temp6;
   if(nos=0) then
     insert into mytemptable (missing_dates) values (temptime);
   end if;
  set temptime=ADDTIME(temptime,'00:30:00');
  END WHILE;
 select * from mytemptable;

END $$ 
```

要获得所需的结果，只需使用“从时间”和“到时间”调用上述存储过程。例如

```
call proc1('2013-01-01 14:00:00','2013-01-01 17:00:00') 
```

结果如下

![在此处输入图像描述](../Images/623478cce6fa2b010a26b8f066ceab66.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:29:04.627

如果您能够使用存储过程，那么您可以使用[此存储过程](https://stackoverflow.com/a/510239/114359)来生成系统中最高日期和最低日期之间的日期时间范围。

如果您不能确定时间戳的每分钟粒度，那么您可能需要使用秒作为间隔而不是分钟。

针对该表的左连接应该显示数据尚未保存的日期和时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T12:34:27.877

如果您正在寻找间隙，更简单的查询是查找下一个稍后时间不在 30 分 6 秒内的所有时间。

可以在特定总时间长度的单个查询中执行此操作。以下将使用 65536 的临时表检查给定范围内的丢失时间，甚至从 2010 年起 30 分钟（大约 3.7 年的时间）：

```
select t
    from (select date_add('2010-01-01', interval (a+4*b+16*c+64*d+256*e+1024*f+4096*g+16384*h)*30 minute) t from (select 0 a union select 1 union select 2 union select 3) a, (select 0 b union select 1 union select 2 union select 3) b, (select 0 c union select 1 union select 2 union select 3) c, (select 0 d union select 1 union select 2 union select 3) d, (select 0 e union select 1 union select 2 union select 3) e, (select 0 f union select 1 union select 2 union select 3) f, (select 0 g union select 1 union select 2 union select 3) g, (select 0 h union select 1 union select 2 union select 3) h order by t) ad_hoc_times
left join ( your_table, (select -3 t_adj union select -2 union select -1 union select 0 union select 1 union select 2 union select 3) t_adj )
    on your_timestamp=date_add(t, interval t_adj second)
where t between '2010-07-01' and '2012-07-01'
    and your_table.your_timestamp is null; 
```

（您的时间戳字段必须被索引。）

# asp.net-mvc - 从 actionlistner 对象获取字符串

> ID：14109611
> 
> 赞同：0
> 
> 时间：2013-01-01T10:21:24.010
> 
> 标签：asp.net-mvc

> **可能重复：**
> [通过 C# 更改 MS WORD](https://stackoverflow.com/questions/14109476/changes-to-ms-word-through-c-sharp)

我正在执行以下代码。def() 返回一个文件名。我将返回的文件名存储在 actionresult 中。如何从操作结果中获取此文件名

```
public ActionResult abc()
        {
             ActionResult sc = def();

            Word.Application app = new Word.Application();
            app.Documents.Save(sc.GetType());
            return sc;

        }

public ActionResult def()
        {
            Word.Application app = new Word.Application();
            Word.Document dd = app.Documents.Open("C:\\hi12.docx");
            dd.TrackRevisions = true;
            int count = dd.Words.Count;
            dd.Save();
            dd.Close(ref Nothing, ref format, ref Nothing);
            return File(("C:\\hi12.docx"), ("application/vnd.openxmlformats-officedocument.wordprocessingml.document"), ("ank"));
        } 
```

# eclipse - javax.servlet.ServletException: PWC1391: Servlet.init() 用于 servlet .webservice.ApplicationConfig 抛出异常

> ID：14109614
> 
> 赞同：2
> 
> 时间：2013-01-01T10:22:20.967
> 
> 标签：eclipse, jakarta-ee, glassfish-3

使用 Eclipse 从嵌入式容器运行我的 Java EE 6 应用程序时出现此错误的原因可能是什么？

```
HTTP Status 500 -

type Exception report

message

description: The server encountered an internal error () that prevented it from fulfilling this request.

exception

javax.servlet.ServletException: PWC1391: Servlet.init() for servlet <project>.webservice.ApplicationConfig threw exception

root cause

com.sun.jersey.spi.inject.Errors$ErrorMessagesException

note The full stack traces of the exception and its root causes are available in the GlassFish Server Open Source Edition 3.1.2.2 logs. 
```

编辑：基本上自从我成功运行它以来，我升级了 eclipse 并对项目（重构/重命名变量）和 svn 存储库设置进行了一些更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T14:23:19.687

您是否尝试过 Google 在搜索时提供的建议`PWC1391`？即解决与 Jersey 库的潜在版本冲突（即从项目中删除它）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T07:24:43.733

最后发现缺少一些库......包括 Glassfish 3.1.2 是“Web”的“Java Build Path > Libraries”中的主要库。

# c# - 授权在 Windows 窗体中选择日期时间

> ID：14109616
> 
> 赞同：-2
> 
> 时间：2013-01-01T10:22:32.417
> 
> 标签：c#

我在表单上有 datetimepicker，还有 1 个 txtbox，我们有用户名。

现在我想允许超级用户“sa”访问完整的日历，但我希望普通用户使用系统中的当前日期进行输入。我使用了以下代码，但不适用于我。如何解决这个问题？提前谢谢请帮忙

```
enter code here

        if (txtSupervisor.Text != "sa")
            {

                dateTimePicker1.MinDate = dateTimePicker1.MaxDate = DateTime.Now; 

            }
enter code here 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:29:14.643

当用户不是**“sa”**时，您可以隐藏日期时间选择器控件并将当前日期设置为文本框并使该文本框只读。如果用户是 SA，则使 datetime Picketr 控件可见。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:33:39.773

请注意，仅通过检查文本框中的用户名，您不会在此处提供任何安全性。但是您可以通过以下代码完成您的要求

```
 if (txtSupervisor.Text == "sa")
            {
                SettingManger.Instance.IsAdmin = Enumerator.AdminType.SUPERADMIN;    
            }
            else // no need for else if statement
            {
                dateTimePicker1.Value = DateTime.Now;
            } 
```

# asp.net - 服务器返回编译错误

> ID：14109617
> 
> 赞同：1
> 
> 时间：2013-01-01T10:22:48.183
> 
> 标签：asp.net

我正在使用 somee.com 上的免费赠品计划。大约一个月前，我第一次上传我的 asp.net 网站，它运行没有任何错误。现在我已经用 VS2010 对网站进行了很多更改，并决定上传一个新版本。但是服务器一直显示“编译错误”并显示消息：

> 编译器错误消息：CS1061：“pwblog.BusinessObject.ArticleBo”不包含“FormatDate”的定义，并且找不到接受“pwblog.BusinessObject.ArticleBo”类型的第一个参数的扩展方法“FormatDate”（您是否缺少使用指令还是程序集引用？）
> 
> 源错误：
> 第 61 行：pagedDataSource.DataSource = articleBo.FormatDate(Articles);

这是我的 FormatDate 函数：

```
internal Article[] FormatDate(Article[] source)
{
    if (source != null && source.Length > 0)
    {
        foreach (Article art in source)
        {
            art.DatePost = DateTime.Parse(art.DatePost).ToShortDateString();
        }
    }
    return source;
} 
```

其实功能没有问题。当我使用 VS2010 进行调试时，它运行良好。我意识到旧版本和新上传的版本之间的唯一区别是我将我的 MSSQL 从 2008 SP2 更改为 2008 R2 SP2，因为我已将我的操作系统从 windows 7 更改为 windows 8。

另外，这是我的 web.config 文件：

```
<?xml version="1.0"?>
<configuration>
    <connectionStrings>
  <add name="AssignmentsFinalConnectionString" connectionString="workstation id=pwblog01.mssql.somee.com;packet size=4096;user id=pwblog;pwd=Duc123456;data source=pwblog01.mssql.somee.com;persist security info=False;initial catalog=pwblog01"
   providerName="System.Data.SqlClient" />
  <add name="AssignmentsFinalConnectionString1" connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\AssignmentsFinal.mdf;Integrated Security=True;User Instance=True"
   providerName="System.Data.SqlClient" />
 </connectionStrings>

    <system.web>
        <authentication mode="Forms">
            <forms name="MYWEBAPP.ASPXAUTH" loginUrl="Web\Login.aspx" protection="All" path="/" defaultUrl="Web\"/>
        </authentication>
        <authorization>
            <allow users="*"/>
        </authorization>
        <compilation debug="true"/>
    <globalization uiCulture="vi" culture="vi-VN"/>

<customErrors mode="Off" >
</customErrors>
  </system.web>

        <system.webServer>
            <defaultDocument>
                <files>
                    <add value="index.aspx" />
                </files>
            </defaultDocument>
        </system.webServer> 
</configuration> 
```

（[粘贴箱](http://pastebin.com/S8sY9zMJ)）

好吧，我不相信 MSSQL 会导致问题，但我没有任何其他线索。关于错误，附了很长的详细信息，所以我不把它放在这里。因此，任何建议都值得赞赏。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:32:37.767

您似乎以错误的方式使用该功能。

您正在调用它，就好像它是 Articlebo 类方法一样；或者使用 Articlebo 实例参数而不是 Article 数组（我猜 Articlebo 继承自 Article）

无论如何，您应该发布错误的行

# jquery - Rails - 在不使用表单的情况下获取 jQuery datepicker 值？

> ID：14109621
> 
> 赞同：0
> 
> 时间：2013-01-01T10:23:54.720
> 
> 标签：jquery, ruby-on-rails, jquery-ui-datepicker

在我的项目中，我有一个链接，单击该链接会运行报告。该报告从 2 个 jQuery 日期选择器接收 date_min 和 date_max。目前 javascript 用于获取 date_min 和 date_max 的值，然后在 URL 中使用，因此在控制器中我可以访问 params 中的值。

看法：

```
<li><a href="javascript:" onclick="get_report_values()">Report</a></li> 
```

咖啡脚本：

```
@get_report_values = ->
window.open("/reports/test_report?date_min=" + $('#datepicker_min').val() + "&date_max=" +     $('#datepicker_max').val(), "_blank") 
```

使用 javascript 设置要获取的控制器的值似乎是一个额外的步骤。是否有 Rails 最佳实践可以让我跳过这一步？我没有表单中的日期选择器，所以我不能使用 POST。我觉得数据不需要在请求之间保留，所以我觉得会话不合适。

任何意见，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:26:25.747

最干净的解决方案可能是将日期选择器放在表单中（GET 而不是 POST），或者使用提交按钮而不是链接，或者`theForm.submit()`在 JS 中创建文本链接。

我不认为您可以完全避免使用带有按钮（或图像提交）的普通表单，但您可以通过这种方式最小化 JS。

# sql - 使用 SSIS 将数据导出到 Excel 文件

> ID：14109622
> 
> 赞同：10
> 
> 时间：2013-01-01T10:24:22.647
> 
> 标签：sql, sql-server

我有将数据从表导出到 Excel 文件的 SSIS 包

控制流 ：-

![控制流](../Images/a07dcb45218978284777e5a8ebef7f91.png)

数据流 ：-

![在此处输入图像描述](../Images/567fad63313c09c7d2499ab3ea32eedc.png)

这是我的步骤：-

1.  删除 Excel 表格
2.  创建格式为我的选择查询的 Excel 表，我用来从数据库中检索数据
3.  将数据库中的数据插入 Excel 文件

我使用查询喜欢`Select * From Table Where --Some Condition`

**我从 10000 行中检索 3000 行，并将这 3000 行放在我的 Excel 工作表中。但是当打开我的 excel 表时，我看到滚动条一直到第 10000 行并结束，因此我的 excel 表大小也增加了。如何减小我的 excel 工作表大小？我的 excel 表只包含 3000 行那么为什么空白单元格一直到第 10000 行？**

SQL Server 2008 和 Visual Studio 2008 与 BIDS

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-01-04T15:31:09.510

我相信您的问题与您用于创建文件的方法有关。您有两种选择，都应该解决您的问题：

**解决方案#1：**

您可以使用这些预定义的列创建一个 Excel 文件，本质上是您的空输出文件 - 这将充当您的“模板文件”。您的流程将是这样的：

1.  文件系统任务 - 将模板文件复制到输出或工作目录（必要时重命名）
2.  OLEDB 源任务 - 查询数据源 (3000)
3.  数据转换任务
4.  Excel 目标任务 - 将数据放入新的 Excel 文件

注意：您已经完成了第 2 步到第 3 步，您只需要确保连接到新的 Excel 文件。此外，为了澄清，步骤 1 不在控制流任务范围内。

这种方式很有帮助，因为您始终有一个空白且格式一致的 Excel 文件可供复制和使用。

**解决方案#2：**

另一种选择是使用脚本任务并创建 Excel 文件 - 您也可以在此任务中将数据加载到文件中。这需要对 VB.NET 或 C# 有一些基本的了解。基本上你需要一个 XLS 库（比如[NPOI](http://npoi.codeplex.com/)）。这更复杂，但为您提供了最好的功能。

**我建议您尝试解决方案＃1，看看它如何为您工作。**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T08:43:31.610

`Drop table SheetName`不会删除工作表，而只是`deletes the row`. 如果您第一次加载 10K 行，然后通过将行数限制为 3K 再次执行包，则 excel 文件仍将包含那些 10K 空行，因为它保留了工作表以及 `empty spaces`.

您可以使用脚本任务使用 COM obects 删除工作表。但为此，您需要放置 Excel PIA（主要互操作组件）以使其对 VSA 可见，或者在每次包运行时创建一个新的 excel 文件

其他如 Nicarus 建议的`File System Task`用于删除现有文件并在每次执行时创建一个新的 Excel 文件。

图表 ：

![在此处输入图像描述](../Images/a4ab8ff2a1fceed5154d048dfe074227.png)

文件系统任务：

![在此处输入图像描述](../Images/e0cc90ae75e5a48fb51bc8840ddcbced.png)

使用相同的组件和查询用于`Create Table`使用`Execute SQL task`和您的`DFT`

# regex - Scala Map[Regex, String] collectFirst 错误

> ID：14109623
> 
> 赞同：0
> 
> 时间：2013-01-01T10:24:39.153
> 
> 标签：regex, scala

我正在尝试根据正则表达式匹配自动将字符串转换为日期。到目前为止，我的代码如下：

```
package be.folks.date

import java.util.Date
import scala.util.matching.Regex
import org.joda.time.format.DateTimeFormat

class StringToDate(underlying:String) {

  val regmap : Map[Regex, String] = Map(
    ("""\d\d-\d\d-\d\d\d\d""".r, "dd-MM-yyyy"),
    ("""\d\d-\w\w\w-\d\d\d\d""".r, "dd-MMM-yyyy")
  )

  def toDate() : Date = { 
    DateTimeFormat.forPattern((regmap collectFirst { case (_(underlying) , v) => v  } get)).parseDateTime(underlying).toDate()
  }

}

object StringToDate {
  implicit def +(s:String) = new StringToDate(s)
} 
```

但是，我收到一个错误“_” - ）预期但发现（。

我该如何纠正？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T12:06:45.680

我不确定我是否理解您应用正则表达式的语法。也许，在`toDate`，你想要：

```
regmap collectFirst {
    case (pattern , v)  if((pattern findFirstIn underlying).nonEmpty) => v} 
```

我也不会使用`get`从选项中提取字符串，因为如果找不到匹配的正则表达式，它会引发异常。我不知道你想如何在你的代码中管理这种情况，所以我不能给你建议。

# sencha-touch-2 - Sencha Touch 2 制作

> ID：14109624
> 
> 赞同：1
> 
> 时间：2013-01-01T10:25:23.317
> 
> 标签：sencha-touch-2

我想知道为什么`sencha`生产构建无法在实时服务器中运行。我已经在本地测试了生产版本，然后将其上传到我的网络服务器中。它向我显示了 2 个警报框。

1.  **请求：** `http://www.simplicity-gaming.net/mobile/resources/css/app.css`带有校验和：`ac90c164209648c5e1b9e7c1569874b93174de3f`
    但**收到：** `dy,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,hinstead`。尝试刷新应用程序？

2.  **请求：** `http://www.simplicity-gaming.net/mobile/app.js`带有校验和：`a159722373bb74a92d7f865503ea9b07faa9277c`但**收到：** `unction(){var global=this,objectPrototinstead`。尝试刷新应用程序？

这是我的网址

[http://www.simplicity-gaming.net/mobile](http://www.simplicity-gaming.net/mobile)

# 问题解决了。

我的虚拟主机有 Cloudflare，它启用了 html 和 js 缩小器。禁用它解决了我的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T09:54:55.083

校验和是否完整？尝试查看源代码并验证服务器是否没有删除评论

# java - javax.crypto.BadPaddingException：未知块类型

> ID：14109626
> 
> 赞同：1
> 
> 时间：2013-01-01T10:25:27.750
> 
> 标签：java, encryption, file-io, rsa, java-io

我正在尝试模拟非对称密钥系统。我使用以下代码生成密钥对、加密、解密密码。我有一个分布式环境，目前我保存在文件系统中生成的密钥。我知道这并不安全，但仅用于测试目的。

```
 private static SecureRandom random = new SecureRandom();

    static {
        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());
    }

    protected synchronized void generateKeys() throws InvalidKeyException, IllegalBlockSizeException, 
            BadPaddingException, NoSuchAlgorithmException, NoSuchProviderException, 
                NoSuchPaddingException {

        KeyPairGenerator generator = KeyPairGenerator.getInstance("RSA", "BC");

        generator.initialize(256, random);

        KeyPair pair = generator.generateKeyPair();
        Key pubKey = pair.getPublic();
        Key privKey = pair.getPrivate();

        //store public key
        try {
            storeKey(pubKey, Constants.KEY_PATH.concat(Constants.SERVER_PREFIX.concat("-publickey")));
        } catch (Exception e) {
            e.printStackTrace();
            DBLogger.logMessage(e.toString(), Status.KEY_GENERATION_ERROR);
        } 

        //store private key
        try {
            storeKey(privKey, Constants.KEY_PATH.concat(Constants.SERVER_PREFIX.concat("-privatekey")));
        } catch (Exception e) {
            e.printStackTrace();
            DBLogger.logMessage(e.toString(), Status.KEY_GENERATION_ERROR);
        } 
    }

    protected synchronized String encryptUsingPublicKey(String plainText) throws IllegalBlockSizeException, BadPaddingException, 
        NoSuchAlgorithmException, NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, 
            FileNotFoundException, IOException, ClassNotFoundException {

        Cipher cipher = Cipher.getInstance("RSA/ECB/PKCS1Padding", "BC");
        cipher.init(Cipher.ENCRYPT_MODE, readKey(Constants.KEY_PATH.concat(Constants.SERVER_PREFIX.concat("-publickey"))), random);
        byte[] cipherText = cipher.doFinal(plainText.getBytes());
        System.out.println("cipher: " + new String(cipherText));    

        return new String(cipherText);
    }

    protected synchronized String decryptUsingPrivatekey(String cipherText) throws NoSuchAlgorithmException, 
        NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, FileNotFoundException, 
            IOException, ClassNotFoundException, IllegalBlockSizeException, BadPaddingException {

        Cipher cipher = Cipher.getInstance("RSA/ECB/PKCS1Padding", "BC");
        cipher.init(Cipher.DECRYPT_MODE, readKey(Constants.KEY_PATH.concat(Constants.SERVER_PREFIX.concat("-privatekey"))));
        byte[] plainText = cipher.doFinal(cipherText.getBytes());
        System.out.println("plain : " + new String(plainText));

        return new String(plainText);
    }
    public static void main(String[] args) {
        KeyGenerator keyGenerator = new KeyGenerator();
        try {
            keyGenerator.deleteAllKeys(Constants.KEY_PATH);
            keyGenerator.generateKeys();

            String cipherText = keyGenerator.encryptUsingPrivateKey("dilshan");
            keyGenerator.decryptUsingPublickey(cipherText);

//          String cipherText = keyGenerator.encryptUsingPublicKey("dilshan1");
//          keyGenerator.decryptUsingPrivatekey(cipherText);
        } catch (Exception e) {
            e.printStackTrace();
            DBLogger.logMessage(e.toString(), Status.KEY_GENERATION_ERROR);
        }
    } 
```

这在大多数情况下都非常有效。但有时它会产生以下错误。这种情况偶尔会发生。大多数情况下这是可行的，所以我对代码没有任何问题。我相信这与文件系统的序列化/序列化过程有关。帮助表示赞赏。

注意：我正在使用 bouncycastle。

错误如下，

```
javax.crypto.BadPaddingException: unknown block type
    at org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineDoFinal(Unknown Source)
    at javax.crypto.Cipher.doFinal(DashoA13*..)
    at com.dilshan.ttp.web.KeyGenerator.decryptUsingPublickey(KeyGenerator.java:105)
    at com.dilshan.ttp.web.KeyGenerator.main(KeyGenerator.java:150) 
```

发生在，

```
byte[] plainText = cipher.doFinal(cipherText.getBytes()); 
```

在 decryptUsingPrivatekey 方法中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T10:37:29.260

密文是二进制数据。如果`String`使用默认编码将其转换为 a ，则很可能会遇到无法用字符表示的字节序列。因此，在解密期间，当您将其转换`String`回字节数组时，您最终不会得到相同的字节并且解密失败。

为了解决这个问题，不要将密文转换为字符串，而是携带 byte[] 。

# ruby-on-rails - 达利会议商店

> ID：14109631
> 
> 赞同：0
> 
> 时间：2013-01-01T10:26:29.913
> 
> 标签：ruby-on-rails, session, dalli, session-store

我已经在谷歌上搜索了很长时间，但还没有找到解决方案。我正在使用 Rails 3.2 和带有 memcached 1.4.14 的 Dalli gem。

我想使用 Dalli/Memcached 作为会话存储，但我不知道该怎么做。现在，Dalli 缓存像经典缓存一样工作，但不是会话缓存。我创建了一个新的 rails 应用程序，将 Dalli 添加到 Gemfile ：

```
gem 'dalli' 
```

在开发和生产环境中，我将 Dalli 设置为缓存存储：

```
config.cache_store = :dalli_store 
```

这是的内容`initializers/session_store.rb`：

```
require 'action_dispatch/middleware/session/dalli_store'
Rails.application.config.session_store :dalli_store, :memcache_server => ['127.0.0.1'], :namespace => 'sessions', :key => '_session', :expire_after => 30.minutes 
```

我创建了一个`Myooo`模型，在该模型中添加了列出和创建实例的方法：

```
def self.index_c
a = Rails.cache.read(:myooo_index)
if a.nil?
    puts '--->>> load again'
    a = Rails.cache.write(:myooo_index, Myooo.all, expires_in: 5.seconds)
else
    puts '--->>> using cache'
end
return Rails.cache.read(:myooo_index)
end

def self.create_c(myooo_object)
a = Rails.cache.read(:myooo_create)
if a.nil?
    a = Rails.cache.write(:myooo_create, myooo_object, expires_in: 10.minutes)          
end
return Rails.cache.read(:myooo_create)
end 
```

在控制器中，我只是尝试访问缓存。在索引操作中：

```
@myooos = Myooo.index_c 
```

在创建动作中：

```
@myooo = Myooo.new(params[:myooo])
Myooo.create_c(@myooo) 
```

我知道这是一个奇怪的脚本，但我需要了解我应该如何处理会话缓存并在实际项目中使用它。我在服务器大纲控制台上花了很多时间，做了很多尝试来了解发生了什么。缓存似乎就像经典缓存，而不是会话缓存。

我很高兴得到帮助（ps：新年快乐）:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T17:40:04.787

（我写了更长的文本 cca 500 字符）是的，你是对的，我正在谈论[这个](http://guides.rubyonrails.org/security.html#sessions)。我正在构建大型应用程序，大约 30 个 db 表，所有表都集中在用户表中（对我来说它很大，我从未在最大的项目中工作过）。当用户登录时，我想缓存用户声称的数据。有很多对数据库的查询，所以我想缓存它们。还有其他方法可以解决我的问题并且不使用会话中存储的缓存数据吗？

create 的例子只是关于测试......（不是真正的测试，而是为我测试，如果它工作正常）在歌剧中我填写表格并调用 create 方法。我希望数据只会存储给使用 opera 的用户。鉴于，我做了这样的事情：

```
 <% a = Rails.cache.read(:myooo_create) %>
 <% if !a.nil? %>
 <%= a.myi %><br/>
 <%= a.mys %>
 <% end %> 
```

但是当我移动到 Firefox 时，数据就在那里......所以我想，这些数据没有保存在会话缓存中，而是保存在“常规缓存”中。（当然，这个视图代码太糟糕了！但是对于 dalli 学习来说，它是好的；））

# javascript - 如何确保这个javascript的顺序？

> ID：14109632
> 
> 赞同：0
> 
> 时间：2013-01-01T10:26:29.370
> 
> 标签：javascript, asynchronous

要开始我的页面，我会检查 facebook 以获取用户的登录状态。然后我在 window 对象中创建一个命名空间以用于其他 javascript 文件。在我加载任何其他 javascript 之前，我需要创建这个命名空间，否则当我尝试访问它时它将是未定义的。有时它会先完成，有时则不会。我怎样才能确保它每次都正确发生？

```
.
.
.
        FB.getLoginStatus(function(response) {
          // store data on the user inside of a namespace 
          // inside of the window object so it can be accessed
          // from anywhere. Use this like '$_SESSION'
          console.log('doing it');
          window.easyUserData = {
            fbRespose: response,
            site: <?php echo '"'.$site.'"'; ?>
          };
        })
      };

      (function(d) {
        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        ref.parentNode.insertBefore(js, ref);
      }(document))
    </script>
    <!-- Load the script "js/main.js" as our entry point for require -->
    <script data-main="js/main" src="lib/Require/require.js"></script> 
```

具体来说，我需要：

```
<script data-main="js/main" src="lib/Require/require.js"></script> 
```

在 facebook 功能完成之前不会发生

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:28:23.007

将依赖于命名空间的代码移动*到*Facebook 回调中。如果是`<script data-main="js/main" src="lib/Require/require.js"></script>`，则动态创建`script`元素：

```
 // ...

  FB.getLoginStatus(function(response) {
    // store data on the user inside of a namespace 
    // inside of the window object so it can be accessed
    // from anywhere. Use this like '$_SESSION'
    console.log('doing it');
    window.easyUserData = {
      fbRespose: response,
      site: <?php echo '"'.$site.'"'; ?>
    };

    // Create the script element when ready
    var script = document.createElement('script');
    script.setAttribute("data-main", "js/main");
    script.src = "lib/Require/require.js";
    document.getElementsByTagName('script')[0].parentNode.appendChild(script);
    // Or instead of `document.getElementsByTagName('script')[0].parentNode`
    // you can use `document.documentElement` or `document.getElementsByTagName('head')[0]
    // or a few others
  })
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:40:02.387

您*可以*按照 TJ 的建议将其全部移动到一个地方。*或者*您可以在尝试运行自己的代码之前检查是否创建了变量：

```
// First this:
FB.getLoginStatus(function(response) {
    window.easyUserData = {
        fbRespose: response,
        site: <?php echo '"'.$site.'"'; ?>
    };
});

// Later in the code:
(function () {
    var isFBLoaded = function () {
        // If FB has loaded - run our code
        if (window.easyUserData) {
            myOtherFBStuff();
        }
        // If not - check again in 500 ms
        else {
            setTimeout(isFBLoaded, 500);
        }
    };

    var myOtherFBStuff = function () {
        // do stuff here
    };

    isFBLoaded();
})(); 
```

# frameworks - 带有 CoffeeScript、Compass 和好东西的客户端 Web 堆栈

> ID：14109635
> 
> 赞同：0
> 
> 时间：2013-01-01T10:26:56.223
> 
> 标签：frameworks, twitter-bootstrap, coffeescript, sass, continuous-deployment

是否存在诸如（后端）语言无关的 Web 堆栈之类的东西：

*   监视和编译你的 CoffeeScript 文件
*   监视和编译您的 Compass / Sass 文件
*   支持 Jasmine 等客户端测试
*   捆绑了常用工具，如 Twitter Bootstrap、Font Awesome、...
*   让您可以添加自己的脚本，例如部署
*   允许您添加持续集成功能，例如部署前测试

例如，Rails 允许您将工具放在一起，但我正在寻找能够照顾客户端并让您选择所需的任何后端语言的东西。

**有为此的框架/网络堆栈吗？**

**你如何在你的项目中解决这个问题？**

（如果您使用/推荐与回答者相同的方法，请对答案投票）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T18:48:38.120

以下工具最接近您想要的功能：

*   [咕噜声](http://gruntjs.com/)
*   [约曼](http://yeoman.io/)
*   [早午餐](http://brunch.io/)

Yeoman 使用 Grunt，它具有很强的适应性/可扩展性。所以如果我是你，我会选择**Yeoman**或**Grunt 。**他们支持你想要的功能，如果不是开箱即用的，他们有插件可以做。

# php - 为 PHP cms 创建计划

> ID：14109637
> 
> 赞同：-1
> 
> 时间：2013-01-01T10:27:04.067
> 
> 标签：php, forms, content-management-system

我开始用 PHP 制作一个 cms，但在安全性和整体设计方面我有点迷茫。这是非常基本的 - 它将能够添加和删除帖子/文章。

我想让它保持紧凑，并且尽可能少的文件。现在我正在研究这样的插入函数简单形式：

```
<form action="" method="POST">
  Title: <input type="text" name="title"></input>
  <br>
  Body:
  <br>
  <textarea cols="50" rows="5" name="body"></textarea>
  <br>
  <input type="submit" name="insert" value="Insert data into db" />
</form> 
```

我故意将操作留空，因为我知道如何使用插入脚本来执行此操作，但正如我所说，我想将其全部保存在 1 个文件中。我的插入功能有效，但要将其链接到表单，我必须将其放在我不想这样做的单独文件中。

我正在考虑以某种方式链接到我的 cms 文件中的函数并使表单执行插入的函数，但这似乎不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T12:10:40.610

请访问此站点[http://www.ksoft.is-great.org/blog/view/create-blog-with-php](http://www.ksoft.is-great.org/blog/view/create-blog-with-php)它将帮助您自己创建高级和安全的博客和 cms。她是我发现的一些例子

```
<?php
    require('db.php');
    function html_form($title='',$html='',$id='')
    {
        echo '
        <pre>
            <form method="post" id="form">
                <input value="'.$id.'" name="id" type="hidden">
                TITLE : <input value="'.$title.'" name="title" type="text">
                HTML : <textarea style="width:350px;" name="html" placeholder="Put your html     here..">'.$html.'
                </textarea>
                <input value="submit" type="submit">
            </form>
        </pre>';
    }

    function create_blog($title,$html)
    {
        $date = date('d.m.Y');
        $html = mysql_real_escape_string($html);
        $sql = "INSERT INTO blog (title, html, date) VALUES ('$title','$html','$date');";
        $q = mysql_query($sql);
        if($q) return true;
        else return false;
        echo mysql_error();
        mysql_close();
    }

    function get_title_id($title)
    {
        $sql = "select * from blog where title='$title'";
        $q = mysql_query($sql);
        while($ks = mysql_fetch_array($q))
        {
            return $ks['id'];
        }
        echo mysql_error();
    }

    function edit_blog($title,$html,$id)
    {
        $date = date('d.m.Y');
        $html = mysql_real_escape_string($html);
        $sql = "UPDATE blog SET title = '$title', html = '$html', date = '$date' WHERE id = '$id'";
        $q = mysql_query($sql);
        if($q) return true;
        else return false;
        mysql_close();
    }

    function delete_blog($id)
    {
        $sql= "delete from blog where id='$id'";
        $q = mysql_query($sql);
        if($q) return true;
        else return false;
        mysql_close();
    }

    function menu()
    {
        $sql = "SELECT * FROM blog ORDER BY id DESC LIMIT 0 , 8 ";
        $q = mysql_query($sql);
        while($data = mysql_fetch_array($q))
        {
            echo '<a id="left_menu" href="?id=%27.$data[%27id%27].%27"> '.$data['title'].'</a><br>';
        }
        mysql_close();
    }

    function blog_list()
    {
        $sql = "select * from blog";
        $q = mysql_query($sql);
        echo '<form method="post"><select name="id">';
        while($data = mysql_fetch_array($q)){
            echo '<option value=".$data[" id'].'"=""> '.$data['title'].'</option>';
        }
        echo '</select><br><input value="submit" type="submit"></form>';
    }

    function get_title($id)
    {
        $sql = "select * from blog where id='$id'";
        $q = mysql_query($sql);
        while($data = mysql_fetch_array($q)){
            return $data['title'];
        }
    }

    function get_html($id)
    {
        $sql = "select * from blog where id='$id'";
        $q = mysql_query($sql);
        while($data = mysql_fetch_array($q)){
            return $data['html'];
        }
    }

    function check_id($id)
    {
        $sql = "select * from blog where id='$id'";
        $q = mysql_query($sql);
        if(mysql_num_rows($q)>0) return true;
        else return false;
    }
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T12:44:41.287

仅在提交表单时才需要调用插入函数，否则执行其余操作。所以这应该是您问题的答案：

```
<?php 

if($_POST){
   // This part is executed only when form is submitted. 
  // insert code will come here.
}

?>

<form action="" method="POST">
  Title: <input type="text" name="title"></input>
  <br>
  Body:
  <br>
  <textarea cols="50" rows="5" name="body"></textarea>
  <br>
  <input type="submit" name="insert" value="Insert data into db" />
</form> 
```

`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-01T11:36:04.680

对于表单操作，`$_SERVER['PHP_SELF'];`这将使用当前 url 填充表单操作字段，因此您不必定位另一个文件...它与将其留空具有相同的效果，但更安全。

讨厌的东西也可以作为 SQL 注入之类的值放入表单字段中……有一个非常好的函数**`mysql_real_escape_string`**可以使任何注入的 SQL 查询不可用。

此外，您应该尝试尽可能多地验证所有字段。

我为此创造了一些东西：

```
checkForm($formData = array()) {

 foreach ($formData as $key=>$element) {

  $elementType = explode('-',$key);

  siwtch ($elementType[0]) {

    case 'textarea':
      //validate text area
    break;

    case 'textfield':
      //validate text field
    break;

    case 'numbers':
      //validate numbers
    break;

    case 'submit':
     //skip
    break;

    default:
      //validate everything
    break;
  }

 }

} 
```

对于退货选项，这取决于您。在我的例子中，这个函数返回一个经过验证和清理的值的数组。

其形式应如下所示：

```
<form action="<?php $_SERVER['PHP_SELF']; ?>" method="post">
   <input type="text" name="textfield-title" placeholder="title" /><br />
   <textarea name="textarea-body" placeholder="body"></textarea>
   <input type="submit" name="submit-blogEntry" value="Submit" />
</form> 
```

为了触发整个事情，我可以推荐这样的事情：

```
form.php   

if (isset($_POST['submit-blogEntry'])) {

  checkForm();

} else {

  //display form

} 
```

# javascript - 如何让 Alt + C（或任何其他键）在适用于 Mac 和 windows 的 Chrome 上的 JavaScript 中工作

> ID：14109639
> 
> 赞同：2
> 
> 时间：2013-01-01T10:27:36.353
> 
> 标签：javascript, google-chrome-extension

我试过以下代码，

```
window.onkeypress =  function(event){

   if(event.altKey && (event.keyCode == 99 || event.keyCode == 67)){

      alert("alt + C pressed")
   }
} 
```

无论如何它不起作用！

我尝试了每次按键的 alert(event.keyCode) ，似乎当我在 Mac 上按 opt/alt 键时，我得到了一个不同于 99 或 67 的组合键码。

实现这一目标的正确方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T10:40:55.733

尝试使用`keydown`or`keyup`处理程序。在这种情况下'c' = `keyCode`67：

```
window.onkeydown = function(e) {
    e = e || event;
    if (e.altKey && e.keyCode === 67) {
        console.log("alt+c pressed!");
    }
}​ 
```

[**jsfiddle**](http://jsfiddle.net/KooiInc/c7NNy/)

# php - 是否 file_get_contents 下载文件并将其保存到磁盘[硬盘]

> ID：14109641
> 
> 赞同：0
> 
> 时间：2013-01-01T10:27:44.793
> 
> 标签：php, file-get-contents

每当我们使用[`file_get_contents`PHP 的函数时](http://php.net/file_get_contents)，该函数是否将下载的页面保存到硬盘？如果是，它会保存到哪里？

另外，页面关闭后会自动删除吗？

我正在使用 Linux。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:42:20.517

`file_get_contents`将整个文件读入一个字符串，该字符串将存储在内存 (RAM) 中，在脚本执行结束或变量未设置时将自动释放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:29:16.073

不，PHP 不保存该文件。实际上它是相反的，它加载它。

所以之后没有什么可以清理的。

但我想知道你为什么要问，因为我永远不会认为它会保存到磁盘，所以你可能有一些理由在这里另外分享。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T10:46:35.937

不，它没有。它将其加载到 RAM 中。您可以使用[file_put_contents](http://php.net/manual/en/function.file-put-contents.php)保存它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T12:35:26.183

如果您想访问页面的来源，即页面的html，那么您可以通过以下方式访问它：

`$pageContent = file_get_contents('http://www.anysite.com/anypage.html');`

然后在变量 $pageContent 中，您将拥有 anypage.html 的 html

# php - MySQL 显示多行

> ID：14109648
> 
> 赞同：0
> 
> 时间：2013-01-01T10:29:03.300
> 
> 标签：php, mysql

我有一些问题，使用以下代码：

```
$getTS = mysql_query("SELECT * FROM book WHERE chapter='$url' && verse='$verse'"); 
```

当我使用

```
mysql_num_rows($getTS) 
```

它返回 2、3 等（这是完美的），但是，当我打印出来时，我只有一个使用以下代码获取行：

```
$rowTS = mysql_fetch_array($getTS);
$summary = $rowTS['text'];
echo $summary; 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T10:31:25.197

您必须循环执行此操作

```
while($rowTS = mysql_fetch_array($getTS)) { 
   $summary = $rowTS['text']; 
   echo $summary; 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T10:34:19.870

[使用mysql_fetch_array()](http://php.net/manual/en/function.mysql-fetch-array.php)时需要迭代循环

从文档

> 返回与获取的行对应的数组，并将内部数据指针向前移动。

```
$getTS = mysql_query("SELECT * FROM book WHERE chapter='$url' && verse='$verse'");      

while ($row = mysql_fetch_array($getTS , MYSQL_NUM)) {
       $summary = $row['text']; 
       echo $summary;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-01T10:40:54.307

您可以通过使用所谓的迭代器来做到这一点。旧`mysql_*`函数不提供它，但它可以很容易地编写（或重复使用，请参阅这个较早的答案：[PHP file cannot enter some part of code](https://stackoverflow.com/a/11580420/367456)）：

```
$getTS = mysql_query("SELECT * FROM book WHERE chapter='$url' && verse='$verse'");
$rows  = new MySqlResult($getTS);
foreach ($rows as $row)
{
    $summary = $row['text'];
    echo $summary;
} 
```

您可以通过直接使用数据库对象来进一步改进它，例如查询：

```
$db    = new MySql();
...
$rows  = $db->query("SELECT * FROM book WHERE chapter='$url' && verse='$verse'");
foreach ($rows as $row)
{
    $summary = $row['text'];
    echo $summary;
} 
```

下一步可能是您使用 PDO，因为`mysql_*`它已被弃用，并且 PDO 具有开箱即用的此类功能。

# c++ - 在特定地址获取 ASM 中寄存器的值

> ID：14109653
> 
> 赞同：-1
> 
> 时间：2013-01-01T10:29:21.533
> 
> 标签：c++, assembly, x86

我仍在尝试学习如何将 ASM 与 C++ 一起使用，但遇到了一个问题。我要做的就是在程序中读取整数的指针。

写入该整数的程序代码如下：

```
00A3EB6C - mov [edi+0C],eax 
```

现在，我想做的就是获取该`[edi+0C]`地址的指针。我想这样做的原因是因为我无法以任何其他方式找到可靠的内存指针。

任何帮助将不胜感激！

很抱歉，如果措辞不好，很难解释。

编辑：我的最终目标是在我的 Windows 窗体标签`[edi+0C]`中的地址处的指针处显示整数的值。`00A3EB6C`

我正在使用附加到外部应用程序的 DLL，只是为了澄清。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:03:14.317

所以大概，你有一些这样的功能：

```
void func(...)
{
    asm {
      ... 

      mov [edi+0xc], eax
      ... 
    }
} 
```

现在，要从函数中获取 eax 的值，您需要传入一个指针

```
void func(..., int *ptr)
{
    asm {
       ... 

       mov [edi+oxc], eax
       mov [ptr], eax
       ... 
    }
 } 
```

或者您可以将其用作返回值：

```
int func(...)
{
   int ret;

   asm {
       ... 

       mov [edi+oxc], eax
       mov [ret], eax
       ... 
    }

   return ret;
} 
```

可能还有其他选择，但这些是最简单的。

如果你真的想得到一个指向 edi 的指针，你会使用指向指针的指针作为参数 [或作为返回值的指针 - 所以我只会向你展示指向指针的指针，因为返回值完全遵循与上述相同的模式]

```
void func(..., int **ptr)
{
    asm {
       ... 

     // Assumes eax isn't used elsewhere below! 
     // Otherwise, find another free register. 
       mov [edi+oxc], eax
       lea [edi+0xc], eax      // LEA = load effective address. 
       mov [ptr], eax
       ... 
    }
 } 
```

# html - 检查用户是否在 IE8 上用于 HTML5 客户端

> ID：14109654
> 
> 赞同：1
> 
> 时间：2013-01-01T10:29:31.290
> 
> 标签：html, internet-explorer-8

我有以下功能来检测支持 HTML5 的浏览器是否可以播放 Mp4 文件类型。

```
function checkCompat()
{
var vidTag = document.createElement('video');
var support = vidTag.canPlayType('video/mp4');

if (support == '')
{
    showCompatPopup();
}
} 
```

它按预期工作。问题是 IE8 不支持 canPlayType 方法。[见 W3Schools](http://www.w3schools.com/tags/av_met_canplaytype.asp)。

我希望能够在 IE8 和其他可能不支持它并且也不支持 canPlayType 方法的浏览器中检测浏览器的 HTML5 视频标签 Mp4 文件支持。

我同意那里的少数人的观点，即 useragent.indexOf() 之类的东西不够可靠，而且肯定不全面。

我需要将此修复程序作为客户端脚本，因为从光盘运行文件时我也需要这样做。

稍后添加：

此功能似乎在 IE8 中可以正常工作而不会出现错误。[谢谢菲利普](https://stackoverflow.com/a/14109756/1934286)。

```
var vidTag = document.createElement('video');
if (typeof vidTag.canPlayType == 'undefined') {
alert ("your browser doesn't support HTML5 video - download a better one");
}
else
{
var support = vidTag.canPlayType('video/mp4');
if (support == '')
alert ("HTML5 works on this");
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T10:45:39.567

与其试图找出用户正在使用哪个浏览器，然后将其用作猜测它支持和不支持的基础（每次浏览器更新都会过时的猜测），您应该直接检查是否浏览器知道您需要的功能。

```
var vidTag = document.createElement('video');
if (typeof vidTag.canPlayType == 'undefined') {
    alert ("your browser doesn't support HTML5 video - download a better one");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T10:35:08.590

```
<input type="button" value="Show your browser's name" onclick="javascript:alert(window.navigator.appName);" />
<input type="button" value="Show the version of the browser" onclick="javascript:alert(window.navigator.appVersion);" />
<input type="button" value="Show main info" onclick="javascript:alert(window.navigator.userAgent);" /> 
```

[来源](http://web-design-lessons.com/articles/article/1/JavaScript%20Browser%20Detection)

# java - 如何阅读此消息或使用什么类型的编码来创建此消息？

> ID：14109656
> 
> 赞同：0
> 
> 时间：2013-01-01T10:29:47.040
> 
> 标签：java, xml, utf-8

我收到来自服务器的消息，它看起来像这样：

```
<?xml version="1.0" encoding="UTF-8"?>
<response>
<meta>
    <code>0</code>
    <message>ÐÑÐ¸Ð±ÐºÐ° Ð¾Ð±ÑÐ°Ð±Ð¾ÑÐºÐ¸ Ð·Ð°Ð¿ÑÐ¾ÑÐ°</message>
</meta> 
```

这不是UTF，对吧？我如何在java中阅读这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:46:09.557

[根据 Google](https://www.google.com.br/webhp?sourceid=chrome-instant&ion=1&ie=UTF-8#q=%C3%90%C3%91%C3%90%C2%B8%C3%90%C2%B1%C3%90%C2%BA%C3%90%C2%B0%20%C3%90%C2%BE%C3%90%C2%B1%C3%91%C3%90%C2%B0%C3%90%C2%B1%C3%90%C2%BE%C3%91%C3%90%C2%BA%C3%90%C2%B8%20%C3%90%C2%B7%C3%90%C2%B0%C3%90%C2%BF%C3%91%C3%90&hl=en&tbo=d&ei=7b3iUMTuIIHq8gTpiYG4Cw&start=20&sa=N&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&bvm=bv.1355534169,d.eWU&fp=a256d4f28226d313&bpcl=40096503&ion=1&biw=1366&bih=667)的说法，它实际上看起来是有效的。

开玩笑。:)

此外，2cyr.com (http://2cyr.com/decode/) 的网站提供了一些线索，看起来可能是一些中欧编码（尤其是 ISO8859-2）

你最好的选择是依赖像 Mozillas 的 Chardet 这样的工具，特别是使用这个字符串——用纯 Java 伪代码：

```
new String(oldString.getBytes("ISO8859-2"), "UTF-8") 
```

但它毕竟看起来像垃圾邮件。或者也许是 Stack Overflow 中的替代现实游戏 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T19:10:25.103

`<Message>`标签不包含有效的 UTF-8 。其内容由以下字节序列组成：

**D0 D1** D0 B8 D0 B1 D0 BA D0 B0 20 D0 BE D0 B1 **D1** D0 B0 D0 B1 D0 BE **D1** D0 BA D0 B8 20 D0 B7 D0 B0 D0 BF **D1** D0 BE **D1** D0 B0

突出显示的字节不是有效的 UTF-8。

# kendo-ui - kendo ui 使用下拉列表更新网格

> ID：14109659
> 
> 赞同：1
> 
> 时间：2013-01-01T10:30:39.510
> 
> 标签：kendo-ui

我在更新剑道 ui 网格时遇到问题。
我创建了这样的网格： [http](http://demos.kendoui.com/web/grid/editing-custom.html) ://demos.kendoui.c​​om/web/grid/editing-custom.html ，但我也添加了更新功能。

我的问题在下一个。

更新网格后，更新请求正常（POST url 200 OK），但之后我在浏览器控制台中收到错误：

```
TypeError: Distribution is undefined. 
```

分布是下拉列表中的数据类型。

这是我的代码：

```
dataSource:
...
update: {    
    url: "/Modeling/EditCurrentStates",
    type: "POST"
}
...
schema: {
    model: {
        id: "StateNumber",
        fields: {
            ...
            Distribution: { defaultValue: { Id: 1, Name: "Exponential"}
            ...

columns: [
    ...
    { 
        field: "Distribution", 
        title: "Distribution", 
        editor: distributionDropDownEditor, 
        template: "#=Distribution.Name#" 
    },

    function distributionDropDownEditor(container, options) {
        $('<input data-text-field="Name" data-value-field="Id" data-bind="value:' + options.field + '"/>')
            .appendTo(container)
            .kendoDropDownList({
                autoBind: false,
                dataSource: {
                    type: "json",
                    transport: {
                        read: "/Modeling/GetDistributions"
                    }
                }
            });
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-20T19:34:28.963

你没有定义你的数据从哪里到剑道。你需要exe

数据：“数据”

```
dataSource:
...
update: {    
    url: "/Modeling/EditCurrentStates",
    type: "POST"
}

...
schema: {
    data: "data",
    model: {
        id: "StateNumber",
        fields: {
            ...
            Distribution: { defaultValue: { Id: 1, Name: "Exponential"}
            ...

columns: [
    ...
    { 
        field: "Distribution", 
        title: "Розподіл", 
        editor: distributionDropDownEditor, 
        template: "#=Distribution.Name#" 
    },

function distributionDropDownEditor(container, options) {
    $('<input data-text-field="Name" data-value-field="Id" data-bind="value:' + options.field + '"/>')
        .appendTo(container)
        .kendoDropDownList({
            autoBind: false,
            dataSource: {
                type: "json",
                transport: {
                    read: "/Modeling/GetDistributions"
                }
            }
        });
} 
```

# css - 如何选择div中的所有内容？

> ID：14109666
> 
> 赞同：0
> 
> 时间：2013-01-01T10:32:12.700
> 
> 标签：css

HTML

```
<div id="div01">
<div id="div02"></div>
<div id="div03"></div>
<div id="div04"></div>
</div> 
```

div 02 03 和 04 有不同的位置、大小等属性，但都应该有相同的边框；

```
#div01 *{
    border:thin solid red;
} 
```

不工作。有办法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T10:41:21.677

这段代码可以很好地工作。

**你的问题一定是：**

*   一个错字
*   没有满足条件的元素 (#div01 *) 即 #div01 内没有元素

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T10:43:47.673

正如 jsbookmarklets.com 上面所说。我应该工作。请参阅此图像中的实际规则。 [http://i.imgur.com/vollI.png](http://i.imgur.com/vollI.png)

可能会提供实际的 html 标记，社区可以帮助您。:)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-01T10:34:19.173

```
#div01 {
  border: 1px solid red;
} 
```

或者

```
#div01 {
  border-top: 1px solid red;
  border-right: 1px solid red; 
  border-left: 1px solid red;
  border-bottom: 1px solid red;
} 
```

顺便说一句，我还建议您对颜色使用十六进制值（#000000 表示黑色，#ffffff 表示白色等）。

# html - 如何在html页面中显示csv文件数据？

> ID：14109667
> 
> 赞同：0
> 
> 时间：2013-01-01T10:32:12.453
> 
> 标签：html, csv, import-from-csv

我有一个这样的 csv 文件：

```
number:Int,english,french,german
1,one,un,eins
2,two,deux,zwei
3,three,trois,drei
4,four,quattre,four
5,five,cinque,fuenf
6,six,six,sechs
7,seven,sept,sieben
8,eight,huit,acht
9,nine,neuf,neun
10,ten,dix,zehn 
```

和一个像这样的html文件：

```
<html>
<head><title>Reading values into a table</title></head>
<body>

<table datasrc='#data'>

  <thead>
 <tr><th>Number</th><th>English</th><th>French</th><th>German</th></tr>
 </thead>

  <tbody> <tr>
 <td><span datafld='number'> </span></td>
 <td><span datafld='english'></span></td>
 <td><span datafld='french'> </span></td>
 <td><span datafld='german'> </span></td>
  </tbody>

</table>

<object ID=data classid="clsid:333C7BC4-460F-11D0-BC04-0080C7055A83">
  <param nAme="http://insforia.com/try/Data.CSV" value="Data.csv">
  <param nAme="UseHeader" value="true">
 </object>

</body>
</html> 
```

问题是我没有在我的 html 页面中获取 csv 文件的数据。我有这个要求，我必须在 html 中显示数据，所以有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:25:34.057

您应该知道表格数据控件 (TDC) 仅适用于 Internet Explorer，因此不要费心尝试使用其他浏览器。您的问题是第一个参数给对象的数据 id，您必须将其名称属性更改为 DataURL，如下所示：

```
<object ID=data classid="clsid:333C7BC4-460F-11D0-BC04-0080C7055A83">
  <param nAme="DataURL" value="data.csv">
  <param nAme="UseHeader" value="true">
 </object> 
```

有关表格数据控制的更多信息：http: [//msdn.microsoft.com/en-us/library/ms531356 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ms531356(v=vs.85).aspx)

# ios - iOS：核心图像和多线程应用程序

> ID：14109671
> 
> 赞同：7
> 
> 时间：2013-01-01T10:32:45.787
> 
> 标签：ios, multithreading, grand-central-dispatch, core-image

我正在尝试以最有效的方式运行一些核心图像过滤器。试图避免我在渲染大图像时遇到的内存警告和崩溃。我正在查看 Apple 的核心图像编程指南。关于多线程，它说：**“每个线程必须创建自己的 CIFilter 对象。否则，您的应用程序可能会出现意外行为。”**

这是什么意思？

我实际上是在尝试在后台线程上运行我的过滤器，所以我可以在主线程上运行 HUD（见下文）。这在 coreImage 的上下文中有意义吗？我收集到核心图像本身就使用 GCD。

```
//start HUD code here, on main thread

// Get a concurrent queue form the system
dispatch_queue_t concurrentQueue =
dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
dispatch_async(concurrentQueue, ^{

    //Effect image using Core Image filter chain on a background thread

    dispatch_async(dispatch_get_main_queue(), ^{

        //dismiss HUD and add fitered image to imageView in main thread

    });

}); 
```

更多来自 Apple 文档：

> 维护线程安全
> 
> CIContext 和 CIImage 对象是不可变的，这意味着每个对象都可以在线程之间安全地共享。多个线程可以使用相同的 GPU 或 CPU CIContext 对象来渲染 CIImage 对象。但是，对于可变的 CIFilter 对象，情况并非如此。CIFilter 对象不能在线程之间安全地共享。如果您的应用程序是多线程的，则每个线程都必须创建自己的 CIFilter 对象。否则，您的应用程序可能会出现意外行为。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-08T14:23:18.720

我不知道该怎么说：每个后台线程都需要在过滤器链中创建自己的 CIFilter 对象版本。实现此目的的一种方法是为您的每个后台操作制作一个过滤器链的副本`dispatch_async(...)`。在您发布的代码中，可能看起来像这样：

```
//start HUD code here, on main thread
// Assuming you already have a CIFilter* variable, created on the main thread, called `myFilter`
CIFilter* filterForThread = [myFilter copy];
// Get a concurrent queue form the system
dispatch_queue_t concurrentQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
dispatch_async(concurrentQueue, ^{
    CIFilter filter = filterForThread;

    // Effect image using Core Image filter chain on a background thread

    dispatch_async(dispatch_get_main_queue(), ^{

        //dismiss HUD and add fitered image to imageView in main thread

    });

});
[filterForThread release]; 
```

这里发生的`filterForThread`是`myFilter`. `filterForThread`在您传递给的块中引用`dispatch_async`将导致该块保留`filterForThread`，然后调用范围释放`filterForThread`，这有效地完成了对块的概念所有权的转移`filterForThread`（因为块是唯一留下对它的引用的东西）。`filterForThread`可以被认为是执行块的线程私有的。

这应该足以满足这里的线程安全要求。

# c# - 在 Windows Phone 中使用 C# 检测按钮向下/向上事件

> ID：14109678
> 
> 赞同：0
> 
> 时间：2013-01-01T10:34:33.770
> 
> 标签：c#, silverlight, windows-phone-7, xaml

我正在学习使用 C# 和 XAML 编写 Windows Phone 应用程序。但是我在检测按钮向下/向上事件时遇到问题。

我的 XAML 代码

```
<phone:PhoneApplicationPage
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d" 
    x:Class="Tally2.MainPage"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeHuge}"
    Foreground="{StaticResource PhoneForegroundBrush}"
    SupportedOrientations="Portrait"
    shell:SystemTray.IsVisible="True">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Row 0: The Header -->
        <StackPanel Grid.Row="0" Margin="24,24,0,12">
            <TextBlock Text="tap to count" Margin="-3,-8,0,0" Style="{StaticResource PhoneTextTitle1Style}"/>
        </StackPanel>

        <!-- Row 1: The text block containing the count -->
        <TextBlock x:Name="CountTextBlock" Grid.Row="1" TextAlignment="Center" Text="0" Height="259" VerticalAlignment="Top"/>

        <!-- Row 2: The reset button -->
        <Button x:Name="buttonMain" MouseLeftButtonDown="buttonMain_MouseLeftButtonDown" MouseLeftButtonUp="buttonMain_MouseLeftButtonUp" Grid.Row="1" Margin="74,240,84,117">
            <Button.Content>
                <Image x:Name="theImage" Stretch="Uniform" Source="/Images/green.png"/>
        </Button.Content>
            </Button>
    </Grid>
</phone:PhoneApplicationPage> 
```

和 C# 代码

```
 private void buttonMain_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)
    {
        Uri uri = new Uri("/Images/red.png", UriKind.Relative);
        BitmapImage imgSource = new BitmapImage(uri);
        theImage.Source = imgSource;
        theImage.Stretch = Stretch.Uniform;
    }

    private void buttonMain_MouseLeftButtonUp(object sender, MouseButtonEventArgs e)
    {
        Uri uri = new Uri("/Images/green.png", UriKind.Relative);
        BitmapImage imgSource = new BitmapImage(uri);
        theImage.Source = imgSource;
        theImage.Stretch = Stretch.Uniform;
    } 
```

发生的情况是图像 green.png 在启动时未加载。当应用程序运行时，我单击按钮 red.png 已加载，但它被拉伸到按钮边框之外。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:36:35.717

尝试使用 Click 事件而不是鼠标按下。手机上没有鼠标。

```
<Button x:Name="buttonMain" Click="buttonMain_MouseLeftButtonDown" Grid.Row="1" Margin="74,240,84,117">
    <Button.Content>
        <Image x:Name="theImage" Stretch="Uniform" Source="/Images/green.png"/>
    </Button.Content>
</Button> 
```

# django - Django 查询等效于 MySQL GREATEST 函数？

> ID：14109682
> 
> 赞同：3
> 
> 时间：2013-01-01T10:35:02.677
> 
> 标签：django

如何使用 Django 查询为模型获取两个不同的十进制字段中的较大者？

例如，如果我有一个模型 Month，其中包含名为 income_actual 和income_projected 的字段，我如何返回更大的值？

我以前使用过 MySQL GREATEST() 函数来执行此操作，但我无法弄清楚如何在 Django 中执行此操作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T19:14:46.010

Have you looked into using the [extra](https://docs.djangoproject.com/en/dev/ref/models/querysets/#extra) method?

```
Month.objects.extra(select={'max_income': 'greatest(income_actual, income_projected)'}) 
```

**EDIT:**

You're not going to be able to use that through the ORM without writing [raw SQL](https://docs.djangoproject.com/en/dev/topics/db/sql/). Although you could use some python magic:

```
sum(month['max_income'] for month in Month.objects.extra(select={'max_income': 'greatest(income_actual, income_projected)'}).values('max_income')) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-07-20T08:54:54.410

您可以使用[Django 的 Database Function **Greatest**](https://docs.djangoproject.com/en/1.11/ref/models/database-functions/#greatest)。

例如，您可以使用这样的查询：

```
>>> from django.db.models.functions import Greatest

>>> months = Month.objects.annotate(greatest_income=Greatest('income_actual', 'income_projected').all()

# now you can access the greatest value using something like this:
>>> months[0].greatest_income 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T02:43:35.417

当您想严格使用 SQL 时，@drewman 已经为您提供了版本。我会做一些不同的事情，并向模型添加一个动态计算正确版本的属性。

```
class model(models.Model):
    ....

    @property
    def income(self):
        return max(self.income_actual, self.income_real) 
```

# windows - 批处理脚本 - 自动设置 exe 属性

> ID：14109683
> 
> 赞同：0
> 
> 时间：2013-01-01T10:35:03.730
> 
> 标签：windows, batch-file, batch-processing, cmd

我有一个 exe，我想从批处理脚本中设置它与使用批处理脚本的 windows XP sp3 的兼容性

因此，例如，如果我右键单击我会得到一个对话框

```
 'candle' properties 
```

在这个我选择

```
 'compatibility' option 
```

有一个复选框，写的文字是

```
 'Run this program in compatibiltiy mode for ' 
```

然后有一个可用操作系统列表我想在我的批处理文件中复制相同的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:41:49.597

从这个[帖子](https://superuser.com/questions/379375/how-can-i-set-the-compatibility-mode-for-an-executable-from-the-command-line)

```
reg.exe Add "HKLM\Software\Microsoft\Windows NT\CurrentVersion\AppCompatFlags\Layers" /v "C:\Program Files\MyApp\Test.exe" /d "WINXPSP3" 
```

可用的兼容模式：

```
Value         Description
WIN95         Windows 95
WIN98         Windows 98
WIN4SP5       Windows NT 4.0 SP5
WIN2000       Windows 2000
WINXPSP2      Windows XP SP2
WINXPSP3      Windows XP SP3
VISTARTM      Vista
VISTASP1      Vista SP1
VISTASP2      Vista SP2
WIN7RTM       Windows 7 
WINSRV03SP1   Windows Server 2003 SP1
WINSRV08SP1   Windows Server 2008 SP1 
```

# iphone - 如何在单个横幅中集成flurry + Admob？

> ID：14109687
> 
> 赞同：2
> 
> 时间：2013-01-01T10:35:44.703
> 
> 标签：iphone, ios6, admob, flurry

我们希望将 Admob 横幅集成到 Flurry 广告横幅中以进行广告冥想。我们已经配置了项目中的所有代码，并按照这个 URL [http://support.flurry.com/index.php?title=Publisher/Code/Mediation](http://support.flurry.com/index.php?title=Publisher/Code/Mediation)。

但我们没有得到横幅。请在 iOS SDK 的单个横幅中向我提供 Flurry+Admob 的任何示例代码。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-03T06:28:45.440

要实施广告网络，您必须执行以下步骤：

1.  将 Ad Network iOS SDK 包含在您的应用中并将其添加到项目中。按照广告网络中有关如何完成此步骤的说明进行操作。
2.  在 FlurryAdDelegate 中实现适当的委托方法

SDK 文件夹内的 FlurryAppSpot-iOS-README 文件中提供了在 AppSpot 中实施 AdMob SDK 的示例。请注意，在客户端配置后，您需要在 Flurry 网站上创建网络中介活动。此处提供有关服务器端设置的更多详细信息：http: [//support.flurry.com/index.php ?title=Publisher/GettingStarted#campaigns](http://support.flurry.com/index.php?title=Publisher/GettingStarted#campaigns)

（全面披露：我在 Flurry 工作）

# c++ - Eclipse C++ 不创建项目文件夹层次结构

> ID：14109696
> 
> 赞同：0
> 
> 时间：2013-01-01T10:36:47.890
> 
> 标签：c++, windows, eclipse, project

前言：情况很糟糕。我喜欢 Eclipse IDE，不想改变它。请不要建议使用 Microsoft Visual Studio 而不是 Eclipse。它不适合我。我需要具有所有插件功能的跨平台 IDE，所以我需要 Eclipse 与 C++ 一起工作。

我是 C++ 新手。但有使用 Java Eclipse 的经验。所以我希望你能告诉我我做错了什么。

问：当我尝试创建一个新的 C++ 项目（在 MacOS 和 Windows 7 64 位上都试过）时，我命名它并选择一个工具链。单击“完成”后，我看到项目中除了包含主类的“src”之外没有任何文件夹。“问题”选项卡显示了一堆问题。这似乎是工具链路径的问题。您可以在我的屏幕截图中看到项目层次结构。[http://i.imgur.com/WHT6B.png](http://i.imgur.com/WHT6B.png)

我尝试了“Hello World C++ Project”和“Empty Project”，但没有任何意义。还尝试选择不同的工具链。没办法...尝试了很多教程，正如您在这些教程中看到的那样，创建一个新项目似乎很容易。“included”文件夹和“bin”文件夹就位，一切正常！为什么！？需要你们的帮助，伙计们！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T20:56:47.050

该问题在 Mac OS 上已解决。[从这里https://github.com/kennethreitz/osx-gcc-installer](https://github.com/kennethreitz/osx-gcc-installer)为 Mac OS 安装了 GCC 包。这是一个奇迹（因为出现问题时已经安装了 XCode）但现在一切正常！是时候为 Windows 7 关闭它了。我想我应该按照该教程并直接在操作系统中设置 PATH 属性[http://www.banym.de/eclipse/install-eclipse-cdt-on-windows-7](http://www.banym.de/eclipse/install-eclipse-cdt-on-windows-7)

# oracle - 如何在 Oracle 中使用 v$session、v$sqlarea 和 v$process 对阻塞的会话进行故障排除？

> ID：14109698
> 
> 赞同：1
> 
> 时间：2013-01-01T10:36:49.977
> 
> 标签：oracle

v$session、v$sqlarea 和 v$process 提供了很多信息。我可以使用这些视图中的哪些信息来解决阻塞的 sqlplus 会话？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T12:16:12.847

使用 v$session 你可以

*   列出所有会话
*   使用 STATUS='ACTIVE' 识别活动会话以及它运行 LAST_CALL_ET 的时间
*   请参阅使用 SQL_ID 或 SQL_ADDR 运行 sql
*   如果会话正在等待，请检查*WAIT*列以获取当前等待详细信息。

V$PROCCES主要是用SESS_ADDR来查找Oracle后台进程的进程ID和应用进程ID。
V$SQLAREA 和 V$SQL 为仍在缓存中的每个 SQL 提供 SQL 文本和更多详细信息。
从这里开始，并从 Oracle 官方文档中探索更多细节......

# regex - 正则表达式中的正斜杠是什么意思

> ID：14109702
> 
> 赞同：2
> 
> 时间：2013-01-01T10:37:31.753
> 
> 标签：regex

我有以下正则表达式，我从最近几天开始分析。

```
/8c/4!n1!x4!n 
```

谁能说出这个正则表达式中的正斜杠是什么意思。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-01T11:17:29.973

没有任何上下文（例如特定编程语言的约定），正则表达式中的正斜杠没有特殊含义；它只是匹配文字正斜杠。

在某些语言中，例如`sed`Awk、Perl 和 PHP，在某些上下文中，正则表达式周围会使用斜杠。

```
/foo/n 
```

`sed`例如，`n`如果当前模式空间包含与正则表达式匹配的文本，此脚本将选择（下一行）操作`foo`。如您所见，斜杠用于将正则表达式括起来。

顺便说一句，在`sed`Perl（和 PHP？）中，斜杠字符只是默认字符，如果您愿意，可以切换到不同的非字母分隔符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-11T09:36:26.803

这不是正则表达式，尽管它很相似；它是一个 SWIFT 金融报文字段格式定义。

例如参见[https://www2.swift.com/uhbonline/books/public/en_uk/stdsdkug_20090925/stds_dev_kit_user_guide.pdf的第 8 页](https://www2.swift.com/uhbonline/books/public/en_uk/stdsdkug_20090925/stds_dev_kit_user_guide.pdf)

粗略的翻译可能是文字字符“/”，后跟最多 8 个字母字符，然后是“/”，然后正好是 4 个数字、正好 1 个字母数字和正好 4 个数字字符。这 ”！” 表示“完全正确”。

# extjs4.1 - 网格分组如何手动设置选中的“按组显示”

> ID：14109708
> 
> 赞同：2
> 
> 时间：2013-01-01T10:39:18.777
> 
> 标签：extjs4.1

我正在使用 ExtJs 4.1

我启用了分组网格。所以我可以在网格标题上看到“在组中显示”菜单。

现在，我的查询是，如果我删除了 Grouping，即取消选中“显示在组中”的复选框。所以分组被删除。正确的 ？现在，如果我设置了分组，即如何将复选框设置为选中？手动，即通过编码。现在通过单击复选框。

默认情况下，我们在 Gorups 中显示“已**选中**” ![在此处输入图像描述](../Images/78a3d148e20e5ed9c90721752c4b3898.png)

现在我已经删除了**选中** ![在此处输入图像描述](../Images/29dc1ff964b8564f7fa64be9ae7bbee9.png)

现在我想检查这个 CheckBox ，并使用 javascript 编码显示 Grouping

请建议这怎么可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T12:18:35.043

要启用/禁用分组使用`Ext.grid.feature.Grouping`：

```
var feature = Ext.Array.filter(grid.features, function(f) {
    return Ext.Array.contains(f.alias, 'feature.grouping');
})[0];
feature.enable();
feature.disable(); 
```

`group`要更改商店的分组字段使用方法：

```
store.group('FieldDataIndex'); 
```

示例代码：http: [//jsfiddle.net/czddU/](http://jsfiddle.net/czddU/)

# iphone - 编辑“iOS 默认”（和“Mac OS X”）的构建设置模板

> ID：14109712
> 
> 赞同：3
> 
> 时间：2013-01-01T10:39:33.737
> 
> 标签：iphone, ios, xcode, ipad, settings

在 Xcode 中，所有目标的构建设置都继承自项目的构建设置。项目的构建设置继承自“iOS Default”。下面显示了此继承，其中选择了*Levels*而不是*Combined*。

对于那些不知道的人，项目设置下的粗体条目表示覆盖。通过突出显示设置然后按 COMMAND-BACKSPACE 可以“清除”覆盖。

![在此处输入图像描述](../Images/be63392dbd12531d834b154b2ec13364.png)

对于我创建的每个重要项目，不断改变这些价值观变得*非常老旧。*特别是像*其他 C 标志*这样的项目，我必须在其中添加`-Wall -Wextra -Wconversion -wstrict-overflow`。*预处理器宏*是另一个必须始终修复以包含 Posix 的`NDEBUG=1`. 我绝对认为缺少`NDEBUG=1`发布版本是一个错误，因为 Posix 需要`NDEBUG`删除`abort()`由`assert()`; 并且 Apple 的 UI 标准不允许`abort()`. （`DEBUG=1`对于 Debug 构建来说是类似的，因为尽管 Posix 只是标准化的，但仍有*很多人*`NDEBUG`使用它）。

从下面的@Petesh，我知道我可以为每个项目使用一个配置（也许创建一次，然后重新使用它）。但这意味着我正在应用“正确”或“正确”设置来掩盖“IOS 默认”模板中的缺陷设置。我的目的是一劳永逸地解决问题的根源。

如何编辑默认设置模板？文件系统上是否有代表“iOS Default”的物理文件？如果是这样，可以编辑它（是 XML）吗？

**更新：**基于@Peresh 的回答（没有磁盘文件可以永久修复该问题）：RADAR 12941954。它可能会在 Apple 的错误报告系统中未经确认、未答复和未修复多年，就像其他人喜欢的错误一样我和其他人花时间报告。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T12:28:30.780

构建配置文件是为预处理/编译选择一组选项的理想方式 - 您使用`.xcconfig`具有您想要作为基础的设置的文件，然后为目标选择此基础配置。

该文件需要在项目的基础上创建，名称为`TargetType.xcconfig`. 对于您的基本编译器标志要求，您可以使用包含以下内容的文件：

```
OTHER_CFLAGS = -Wall -Wextra -Wconversion -wstrict-overflow 
```

一旦您将目标基于`.xcconfig`文件，它将获得这些选项作为所有指定目标的默认项。

您可以为每个调试和发布添加一个，允许指定`NDEBUG=1`和`DEBUG=1`选项，例如

```
GCC_PREPROCESSOR_DEFINITIONS = NDEBUG=1 
```

将此设置应用于配置。

查看[基于配置文件的构建配置](http://developer.apple.com/library/ios/recipes/xcode_help-project_editor/Articles/BasingBuildConfigurationsonConfigurationFiles.html)的 Xcode 帮助。还有[一个在线教程](http://b2cloud.com.au/how-to-guides/using-a-xcconfig-file)可以完成该过程。

我已经使用`gcc`/ `g++`spec 文件来操作`gcc`. 如果您使用`gcc`LLVM 的驱动程序，这仍然有效。默认编译器选项是那些来自未修改的规范文件的选项 - 即它内置在编译器中，并且不驻留在磁盘上。过程是：

```
gcc -dumpspecs > specs
specdir=$(gcc -print-search-dirs | sed -n 's/install: //p')
sed 's/^\(.*mdynamic-no-pic:-fPIC\)/<default options here> \1/' specs > newspecs
sudo cp newspecs $specdir/specs 
```

您可以通过执行以下操作来验证是否正在使用规范文件：

```
gcc -v <file> 
```

它应该显示如下内容：

```
Reading specs from /Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2/lib/gcc/i686-apple-darwin11/4.2.1/specs 
```

而不是

```
Using built-in specs. 
```

这可能会引发混乱，因为这些标志会影响*所有* `gcc`/`g++`编译 - 即使对于[macports](http://www.macports.org/)包，这意味着它们可能无法正确编译。

`clang`/ `clang++`，不幸的是没有规范文件的概念，因此在编译时将忽略此文件 - 它使用的所有选项都是在 clang 构建时定义的。在这种情况下，无法操作默认编译器选项，因为它不会尝试读取磁盘上的文件来确定默认编译器选项。

# c# - asp.net文件下载问题

> ID：14109714
> 
> 赞同：0
> 
> 时间：2013-01-01T10:39:44.907
> 
> 标签：c#, asp.net, file-upload, io

我正在使用以下代码将文件从服务器下载到客户端计算机，但是当文件保存时，它会以完整路径名后跟扩展名（例如：Images/24/12/green.png）保存，但我只想存储文件名（绿色.png）。 png）在客户端机器中。如何完成

```
string imagePath = String.Format("~/Images/{0}/{1}", item.Value,item.Text);
                try
                {

                    System.Net.WebClient req = new System.Net.WebClient();
                    HttpResponse response = HttpContext.Current.Response;
                    response.Clear();
                    response.ClearContent();
                    response.ClearHeaders();
                    response.Buffer = true;
                    response.AddHeader("Content-Disposition","attachment;filename=\""+ imagePath + "\"");
                    //byte[] data = req.DownloadData(imagePath);
                    //response.BinaryWrite(data);
                    response.TransmitFile(imagePath);
                    response.End();
                }
                catch(Exception ex)
                {

                } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T10:43:27.183

`Content-Disposition`仅使用图像名称而不是标题中的整个路径：

```
string fileName = Path.GetFileName(imagePath);
response.AddHeader("Content-Disposition",
                   "attachment;filename=\""+ fileName + "\""); 
```

您已将文件名作为文件和服务器端路径提供给它。

# twitter-bootstrap - 在移动设备上查看我的 twitter bootstrap 网站时，两侧会添加 20px 的装订线。我该如何阻止这个？

> ID：14109717
> 
> 赞同：3
> 
> 时间：2013-01-01T10:40:04.580
> 
> 标签：twitter-bootstrap

在手机上查看我的 twitter bootstrap 网站时，每边都有 20px 的排水沟。这会阻止任何触及桌面边缘的内容在移动设备上这样做。在移动设备上查看时，twitter 引导主页本身没有这些排水沟。[http://twitter.github.com/bootstrap/](http://twitter.github.com/bootstrap/)

其他网站说放置一个 body {padding-left:0;padding-right:0} 会有所帮助，但这会造成另一个问题，即弄乱导航栏。

有什么线索吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T03:29:33.730

尝试在 Bootstrap CSS*之后的某处添加此 CSS：*

```
@media (max-width: 767px) {
  body {
    padding-right: 0;
    padding-left: 0;
  }
  .navbar-fixed-top,
  .navbar-fixed-bottom,
  .navbar-static-top {
    margin-right: 0;
    margin-left: 0;
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-06T22:25:56.650

上面的答案并没有为我解决同样的问题......但确实让我找到了自己的解决方案

```
@media (max-width: 767px) {
    body {
        position: absolute;
    }
} 
```

没有位置：绝对；在正文标签上，我最终在 iPhone 等小屏幕上的文档右侧出现了一个巨大的排水沟。但是当我添加 position:absolute; 到 body 标签，我在大型桌面屏幕上得到相同的排水沟。把它放在上面的媒体查询中为我解决了这个问题。

我欢迎解释为什么会发生这种情况。

我正在使用 bootstrap 3.0 final

# c - 查找头文件包含路径

> ID：14109719
> 
> 赞同：2
> 
> 时间：2013-01-01T10:40:43.070
> 
> 标签：c, visual-studio, visual-studio-2008, include

我的程序中包含一个头文件，我想知道它是如何被包含的（它是标准包含文件之一）。它可能包含在包含的文件中包含的文件中... - 你明白了。它甚至可能是 6 或 7 包括深度（或更多）。我怎样才能看到它是从哪里包含的？有没有办法获取文件的整个`#include`树`.c`？

我正在使用VS2008。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T10:52:33.330

将[`/showIncludes`](http://msdn.microsoft.com/en-us/library/hdkef6tk%28v=vs.90%29.aspx)开关添加到编译器命令行。这将打印出包含在输出窗口中的每个文件。输出缩进以指示哪个文件导致包含特定标头。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T11:25:11.473

您可以将[doxygen](http://www.doxygen.nl/)与[Graphviz](http://www.graphviz.org/)一起使用。在你的源代码/库上安装并运行 doxygen，你会得到一个包含图，显示一个美妙的包含树。

注意：一旦你运行 doxygen，你会进入一个向导，你可以告诉 doxygen 获取包含树，并且你可以将 doxygen 指向你的源代码位置。Doxygen 使用 Graphiz 绘制包含图。

示例包括图表：

简单的一个： ![简单的一个](../Images/7be4e942851a7a53a45cd95486e9aa89.png)

相当复杂的一个： ![相当复杂的](../Images/220a97c4433fb20ce20311c36a7ed0bf.png)

# php - 删除 Wordpress 网站上的 Blurb-Sidebar

> ID：14109723
> 
> 赞同：-3
> 
> 时间：2013-01-01T10:41:05.663
> 
> 标签：php, wordpress, sidebar

我的 wordpress 网站不断地展示这个有趣的东西：

“使用管理设计选项卡中的小部件侧边栏在此处更改这个小简介。将文本小部件添加到简介侧边栏！”

如何删除/隐藏此区域？

我去了 website/wp-admin/widgets.php 但我不确定如何隐藏“blurb”区域。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:51:02.627

您可能知道 WordPress 使用主题来提供不同的用例和（a）美学。有问题的侧边栏无疑是您选择使用的主题的一个功能。每个主题都有一系列模板来提供某些功能。主题生活在...

```
/wp-content/themes/[your_theme]/ 
```

每种页面类型都有一个 PHP 文件。你想做的事情可以通过两种不同的方式来完成。

1.  编辑 PHP 文件，并删除`DIV`呈现您希望删除的侧边栏的文件。

2.  编辑 CSS 文件并将有`DIV`问题的设置为`display:none`.

这两种方法都可能会产生连锁反应，即简单地删除违规区域而不调整页面内容的其余部分。您可能需要将任何相邻`DIV`的 s 设置为`width:100%`或类似。

# makefile - Makefile - 缺少分隔符

> ID：14109724
> 
> 赞同：92
> 
> 时间：2013-01-01T10:41:09.230
> 
> 标签：makefile, gnu-make

> **可能重复：**
> [出错：缺少分隔符](https://stackoverflow.com/questions/920413/make-error-missing-separator)

在makefile中有这个代码：

```
PROG = semsearch
all: $(PROG)
%: %.c
gcc -o $@ $< -lpthread

clean:
rm $(PROG) 
```

和错误

```
missing separator. stop. 
```

有人能帮我吗？

* * *

## 回答 #1

> 赞同：236
> 
> 时间：2013-01-01T10:51:26.543

您需要在以硬制表符开头的行之前`gcc`。`rm`make 规则中的命令必须以制表符开头（除非它们在同一行上跟在分号后面）。结果应如下所示：

```
PROG = semsearch
all: $(PROG)
%: %.c
        gcc -o $@ $< -lpthread

clean:
        rm $(PROG) 
```

请注意，某些编辑器可能被配置为插入一系列空格而不是硬制表符。如果这些行的开头有空格，您还会看到“缺少分隔符”错误。如果您在插入硬制表符时遇到问题，请使用分号方式：

```
PROG = semsearch
all: $(PROG)
%: %.c ; gcc -o $@ $< -lpthread

clean: ; rm $(PROG) 
```

# laravel - 验证规则上的匿名函数

> ID：14109725
> 
> 赞同：0
> 
> 时间：2013-01-01T10:41:10.890
> 
> 标签：laravel, laravel-4

是否可以将匿名函数传递给 Laravel 4 中的验证器？

我尝试了以下代码的一些变体 - 但我不断收到异常错误；

```
$validator = Validator::make(Input::all(), function() {
                      $array = array(
                                 'dose' => 'Required|AlphaDash',
                                 'volume' => 'Required|AlphaDash',
                                 'repeat' => 'Required|AlphaDash',
                                 'max' => 'Required|AlphaDash');
                       return $array;
                 }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T12:32:56.250

我已经确认这是不可能的，除非我使用类似的东西：

`call_user_func(function() { return true }); :)`

# javascript - 超链接标签“ ”在 html 页面中不起作用

> ID：14109730
> 
> 赞同：0
> 
> 时间：2013-01-01T10:41:40.027
> 
> 标签：javascript, jquery, html

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:44:56.250

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T10:45:12.917

```
$(document).on('click',function(e) {
  e.preventDefault(); 
```

它将阻止任何点击默认行为。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T10:47:05.960

这应该是问题：

```
$(document).on('click',function(e) {
  e.preventDefault(); 
```

您阻止对文档的所有点击，因此链接无法正常运行。将第一行更改为

```
$('#planning').on('click', function(e){
  e.preventDefault(); 
```

顺便说一句：我真的不明白你的功能是做什么的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-01T10:52:59.947

```
$(document).on('click',function(e) { 
```

这应该是这样的，

```
$(document).on('click', '#planning', function (e) { 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-01T10:44:12.687

```
<script> 
$(document).ready(function() {
 $(document).on('click',function(e) {
e.preventDefault();
var $panel = $("#planning_panel");
if (e.target.id == 'planning') {
 $panel.slideToggle('slow');
} else {
 $panel.slideUp('slow');
}

    });
  }); 
```

使用这个伙伴

# java - 在Tomcat中部署WAR文件，部署后问题

> ID：14109735
> 
> 赞同：1
> 
> 时间：2013-01-01T10:42:46.493
> 
> 标签：java, eclipse, jsp, tomcat, servlets

我正在开发一个使用`JSP & Servlet.(IDE: Eclipse, Container: Tomcat7.0)`

为了学习部署，我制作`war`了项目文件以部署在 Tomcat7.0 上。我能够将它部署在 Tomcat 服务器上。后来我也可以从我的电脑和局域网中的其他计算机访问它。

然后我开始使用 Eclipse 对该应用程序进行更改。在 Eclipse 中工作时，当我尝试从其他计算机访问已部署的应用程序时，它向我显示了相同的应用程序，但它给了我修改后的输出，因为我在 eclipse 中对同一个项目进行了更改。我在 Eclipse 中使用相同的服务器。

我的问题是为什么当 Eclipse 中的 Tomcat 服务器打开时它显示当前输出，而不显示已部署应用程序的输出。

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:03:19.183

如果您处于开发阶段并且想要在应用程序已经部署在服务器上时修改应用程序代码，那么您需要更新对部署应用程序的服务器的更改。如果是类，如果 JSP 只是更新资源，则必须重新加载类。据我所知，Eclipse 的免费版本只允许重新部署应用程序，而不允许任何后续更改。

同样，在 Eclipse 的免费版本中，Tomcat 服务器只能配置为远程服务器，只要您在 Eclipse 内部或外部本地或远程运行它。如果您部署到 ROOT，它会修改 Tomcat 服务器配置以运行您的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:25:45.787

因为eclipse服务器和部署的服务器都只指向本地主机..

# java - 如何使用apache POI在excel中绘制圆形

> ID：14109737
> 
> 赞同：0
> 
> 时间：2013-01-01T10:42:54.797
> 
> 标签：java, excel, apache-poi

我喜欢使用 apache POI 在 excel 中绘制圆形。我有以下代码。运行此代码时没有错误。但是当我打开输出的 excel 文件时，它说“文件错误：数据可能已丢失”并且输出的 excel 文件中没有圆形。

```
 // Get template file path.
        FileInputStream in = new FileInputStream("C:\template.xls");

        // Create work book.
        Workbook wb = WorkbookFactory.create(in);

        sheet = wb.getSheetAt(0);

        // Draw the circle shape.
        HSSFPatriarch patriarch = (HSSFPatriarch) sheet.createDrawingPatriarch();
        HSSFClientAnchor a = new HSSFClientAnchor(1023, 255, 1023, 255, (short)  7,  10, (short) 7, 10);
        HSSFSimpleShape shape1 = patriarch.createSimpleShape(a);
        shape1.setShapeType(HSSFSimpleShape.OBJECT_TYPE_OVAL);
        shape1.setNoFill(true);

        FileOutputStream out = new FileOutputStream("C:\output.xls");
        wb.write(out);
        out.close(); 
```

PS：excel模板文件（“C:\template.xls”）已经有其他图形（形状）。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T12:31:02.843

这是 3.9 早期版本的 POI 库的错误。

代码没有错误。这个问题可以通过升级 POI 版本到 3.9 来解决

[http://poi.apache.org/changes.html](http://poi.apache.org/changes.html)

# python - Boost Python 快速入门示例给出错误

> ID：14109746
> 
> 赞同：1
> 
> 时间：2013-01-01T10:44:10.177
> 
> 标签：python, boost, python-3.x, boost-python

当我尝试在 C:\boost_1_50_0\libs\python\example\quickstart 下运行示例时，出现以下错误，并且我的 python 文件被删除（这很烦人）。我在 Windows 7 OS 上使用 Python 3.3 和 Boost 1.50。

C:\boost_1_50_0\libs\python\example\quickstart>bjam 工具集=msvc --verbose-test test > error_log

错误日志：

```
...patience...
...patience...
...found 1662 targets...
...updating 11 targets...
copy test_extending.py
The syntax of the command is incorrect.

    copy /b  + this-file-does-not-exist-A698EE7806899E69 "test_extending.py" "bin\test_ext.test\msvc-10.0\debug\threading-multi\test_extending.py"

...failed copy test_extending.py bin\test_ext.test\msvc-10.0\debug\threading-multi\test_extending.py...
...removing test_extending.py
compile-c-c++ bin\msvc-10.0\debug\threading-multi\extending.obj
extending.cpp
msvc.link.dll bin\msvc-10.0\debug\threading-multi\extending.pyd
   Creating library bin\msvc-10.0\debug\threading-multi\extending.lib and object bin\msvc-10.0\debug\threading-multi\extending.exp
msvc.manifest.dll bin\msvc-10.0\debug\threading-multi\extending.pyd
...skipped <pbin\test_ext.test\msvc-10.0\debug\threading-multi>test_ext for lack of <pbin\test_ext.test\msvc-10.0\debug\threading-multi>test_extending.py...
msvc.link bin\test_embed.test\msvc-10.0\debug\threading-multi\test_embed.exe
LINK : warning LNK4001: no object files specified; libraries used
LINK : error LNK2001: unresolved external symbol _mainCRTStartup
bin\test_embed.test\msvc-10.0\debug\threading-multi\test_embed.exe : fatal error LNK1120: 1 unresolved externals

        call "C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\vcvarsall.bat" x86 >nul
link /NOLOGO /INCREMENTAL:NO /DEBUG /MACHINE:X86 /subsystem:console /out:"bin\test_embed.test\msvc-10.0\debug\threading-multi\test_embed.exe" /LIBPATH:"C:\Python33\libs"  @"bin\test_embed.test\msvc-10.0\debug\threading-multi\test_embed.exe.rsp"
        if %ERRORLEVEL% NEQ 0 EXIT %ERRORLEVEL%

...failed msvc.link bin\test_embed.test\msvc-10.0\debug\threading-multi\test_embed.exe 
```

所以这里有2个错误需要修复：

a) 复制 test_extending.py 命令的语法不正确。

b）链接：错误LNK2001：未解析的外部符号_mainCRTStartup

任何想法我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-10T17:41:47.567

我不确定a）有什么问题。问题 b) 似乎是 boost 示例中的一个错误，jam 文件试图从可执行文件而不是静态 lib 或 cpp 文件生成测试可执行文件。

我[记录了我必须做什么](https://gist.github.com/teeks99/bb4921dffc8a74423c26#file-boost-python-quickstart-md)才能让嵌入示例运行。

# android - 创建 sqlite 表

> ID：14109748
> 
> 赞同：0
> 
> 时间：2013-01-01T10:44:25.053
> 
> 标签：android

这可能是一个愚蠢的问题，但我在寻找错误时遇到了麻烦。我在“ `TEXT`”附近有一个语法错误，但我不知道在哪里。我很确定我输入正确。

```
public void onCreate(SQLiteDatabase db){
    db.execSQL("CREATE TABLE " + DATABASE_TABLE + " (" +
                KEY_ROWID + " INTEGER PRIMARY KEY AUTOINCREMENT, " +
                KEY_UNIQUE + " TEXT NOT NULL, " +
                KEY_USERNAME + " TEXT NOT NULL, " +
                KEY_PASSWORD + " TEXT NOT NULL, " +
                KEY_IMAGE  + " TEXT NOT NULL, " +
                KEY_FULLNAME + " TEXT NOT NULL, " +
                KEY_BDAY + " TEXT NOT NULL, " +
                KEY_AGE + " TEXT NOT NULL, " +
                KEY_SEX + " TEXT NOT NULL, " +
                KEY_EMAIL + " TEXT NOT NULL, " +
                KEY_WORK + " TEXT NOT NULL, " +
                KEY_PROF + " TEXT NOT NULL, " +
                KEY_FBUSERNAME + " TEXT NOT NULL, " +
                KEY_FBPASSWORD + " TEXT NOT NULL, " +
                KEY_YMUSERNAME + " TEXT NOT NULL, " +
                KEY_YMPASSWORD + " TEXT NOT NULL, " +
                KEY_GMUSERNAME + " TEXT NOT NULL, " +
                KEY_GMPASSWORD + " TEXT NOT NULL, " +
                KEY_SKUSERNAME + " TEXT NOT NULL, " +
                KEY_SKPASSWORD + " TEXT NOT NULL);"
                );  
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T11:23:00.450

我试过你的代码，它工作正常，你可以试试下面的代码（更改数据库、表和列的名称，因为我使用了测试名称）

```
public class dbHandler extends SQLiteOpenHelper{

 // Database Version
private static final int DATABASE_VERSION = 1;

// Database Name
private static final String DATABASE_NAME = "temp_database";

private static final String DATABASE_TABLE ="a";
private static final String KEY_ROWID ="b";
private static final String KEY_UNIQUE = "c";
private static final String KEY_USERNAME = "d";
private static final String KEY_PASSWORD = "e";
private static final String KEY_IMAGE = "f";
private static final String KEY_FULLNAME = "g";
private static final String KEY_BDAY = "h";
private static final String KEY_AGE = "i";
private static final String KEY_SEX = "j";
private static final String KEY_EMAIL = "k";
private static final String KEY_WORK = "l";
private static final String KEY_PROF = "m";
private static final String KEY_FBUSERNAME = "n";
private static final String KEY_FBPASSWORD = "o";
private static final String KEY_YMPASSWORD = "p";
private static final String KEY_YMUSERNAME = "q";
private static final String KEY_GMUSERNAME = "r";
private static final String KEY_GMPASSWORD = "s";
private static final String KEY_SKUSERNAME = "t";
private static final String KEY_SKPASSWORD = "u";

public dbHandler(Context context) {
     super(context, DATABASE_NAME, null, DATABASE_VERSION);
    Log.w("jndfjfs","this constructor is called");
}

@Override
public void onCreate(SQLiteDatabase db) {

     db.execSQL("CREATE TABLE " + DATABASE_TABLE + " (" +
                KEY_ROWID + " INTEGER PRIMARY KEY AUTOINCREMENT, " +
                KEY_UNIQUE + " TEXT NOT NULL, " +
                KEY_USERNAME + " TEXT NOT NULL, " +
                KEY_PASSWORD + " TEXT NOT NULL, " +
                KEY_IMAGE  + " TEXT NOT NULL, " +
                KEY_FULLNAME + " TEXT NOT NULL, " +
                KEY_BDAY + " TEXT NOT NULL, " +
                KEY_AGE + " TEXT NOT NULL, " +
                KEY_SEX + " TEXT NOT NULL, " +
                KEY_EMAIL + " TEXT NOT NULL, " +
                KEY_WORK + " TEXT NOT NULL, " +
                KEY_PROF + " TEXT NOT NULL, " +
                KEY_FBUSERNAME + " TEXT NOT NULL, " +
                KEY_FBPASSWORD + " TEXT NOT NULL, " +
                KEY_YMUSERNAME + " TEXT NOT NULL, " +
                KEY_YMPASSWORD + " TEXT NOT NULL, " +
                KEY_GMUSERNAME + " TEXT NOT NULL, " +
                KEY_GMPASSWORD + " TEXT NOT NULL, " +
                KEY_SKUSERNAME + " TEXT NOT NULL, " +
                KEY_SKPASSWORD + " TEXT NOT NULL);"
                );  
}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    // TODO Auto-generated method stub

}

} 
```

您可以从其他活动中访问您的数据库，例如，

```
dbHandler mydb=new dbHandler(this);
    mydb.getWritableDatabase(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:48:05.187

由于您尚未发布 Logcat，因此我们无法发现问题。

但是，一个方便的建议：如果您是数据库 CRUD 操作的专家，那么编写查询并使用[rawQuery()](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#rawQuery%28java.lang.String,%20java.lang.String%5B%5D,%20android.os.CancellationSignal%29)方法执行它。

```
db.rawQuery("CREATE TABLE IF NOT EXISTS myTable (username TEXT, password TEXT)", null); 
```

# gcc - 用于 Ralink RT3350 cpu 型号的 gcc 工具链：MIPS 24Kc V4.12

> ID：14109749
> 
> 赞同：0
> 
> 时间：2013-01-01T10:44:36.013
> 
> 标签：gcc, mips, linux-toolchain

我正在为**Ralink RT3350 cpu 型号搜索 gcc 工具链：MIPS 24Kc V4.12**过去 3-4 天。我需要为这个相同的 cpu 模型编写程序。所以如果有人知道分享 gcc 工具链链接和使用这个工具链的方式。就我的电脑环境而言，我**使用的是 Ubuntu 11.10**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T17:05:24.027

你检查过代码源吗？

查看他们的 MIPS 架构的精简版。（适用于 MIPS GNU/Linux 的 Sourcery G++ Lite 4.2-85）

[https://sourcery.mentor.com/GNUToolchain/subscription3130?lite=MIPS](https://sourcery.mentor.com/GNUToolchain/subscription3130?lite=MIPS)

祝你好运 ！！

# svg - 如何创建 SVG 动画并同步音频

> ID：14109762
> 
> 赞同：2
> 
> 时间：2013-01-01T10:46:10.197
> 
> 标签：svg, smil, ssml

我想创建一个 SVG 动画并使用 SSML 包含旁白，理想情况下我希望能够在浏览器中播放动画。

我做了一些研究，SMIL（同步多媒体集成语言）听起来像我想要的，但据我所知，SMIL 没有得到广泛支持（http://www.w3.org/AudioVideo/ 声明“SYMM WG 是自 2012 年 4 月 1 日起关闭。”我不确定这是否意味着规范完全失效）。

谁能告诉我是否有支持 SVG、SSML 和 SMIL 的开发工具或播放器。（Ambulent(http://www.ambulantplayer.org/) 播放器支持 SMIL，但不支持 SSML）？

对于如何使用其他技术实现相同结果的任何建议，我也将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T08:04:33.997

看起来[Windows Phone 8](http://www.developer.nokia.com/community/wiki/Using_SSML_for_advanced_text-to-speech_on_Windows_Phone_8)是唯一支持所有这三个的设备。在类似问题中讨论了基于浏览器的替代方案：

*   [如何在 HTML5 中实现 SMIL](https://stackoverflow.com/questions/11137920/)
*   [SMIL（同步多媒体集成语言）的未来？](https://stackoverflow.com/questions/6300639/)

[Silverlight](https://stackoverflow.com/questions/2350333/)、[eSpeak](http://espeak.sourceforge.net/)和[Text-to-Speech Web](http://www2.research.att.com/~ttsweb/tts/demo.php)也可​​以与 SVG 动画集成。

# javascript - 为什么 mousewheel 事件的 target 属性与其他（click、mousedown、touchstart）事件的属性不同？

> ID：14109763
> 
> 赞同：6
> 
> 时间：2013-01-01T10:46:10.473
> 
> 标签：javascript, html, dom, javascript-events

mousewheel 事件的`target`属性提供了当鼠标滚轮（或支持手势的触摸板）被操作时鼠标当前悬停的 DOM 元素。

当我这样做时（至少在 Safari 6 中，我稍后会测试其他浏览器）我会将文本节点本身作为`target`.

即使我直接在文本上执行操作，其他总是产生非文本节点的事件也不会发生这种情况。

不用说，它使代码比其他方式更复杂。

是否有一个原因？我想避免检查父节点，但幸运的是这种情况的好处是我只需要检查`target`节点的父节点。

我无法确定这是功能还是错误。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-02T10:35:00.950

这是[一个 jQuery 代码片段](https://github.com/jquery/jquery/blob/97fa97f0c1cd6a14a0d7f5e2599b30c502bd3e8c/src/event.js#L491)，他们在其中规范了这种行为，因为这是一个错误：

```
// Target should not be a text node (#504, Safari)
if ( event.target.nodeType === 3 ) {
    event.target = event.target.parentNode;
} 
```

# uitableview - 旋转的表格视图在 iOS 6.0 中不可见

> ID：14109765
> 
> 赞同：1
> 
> 时间：2013-01-01T10:46:25.607
> 
> 标签：uitableview, ios6, cgaffinetransform

在我的应用程序中，我使用旋转了表格视图

```
CGAffineTransform rotateTable = CGAffineTransformMakeRotation(-M_PI_2);
tableView.transform = rotateTable;
[tableView setFrame:CGRectMake(40, 333, self.view.frame.size.width + 600 , 37)]; 
```

这在 iOS 5.1 设备之前运行良好，我可以看到旋转的表格视图（旋转 90 度）。当我尝试在 iOS 6.0 设备上运行它时，我看不到表格视图，该视图为空，我不知道为什么表格视图在 iOS 6.0 设备中的行为如此。请告诉我解决这个问题的方法。

表格视图已旋转，但单元格不可见，表格视图不滚动，顺便说一下我使用自定义单元格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-07T12:55:23.970

我不确定你是否也在旋转你的单元格，如果没有，那么你需要为在方法 UITableViewCellForRowAtIndexPath 中创建的每个单元格旋转相同的 M_PI_2 单元格，这可能会有所帮助。

```
 -(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
         UITableViewCell* cell1;
         cell1  = [self.yourTableName dequeueReusableCellWithIdentifier:@"yourTable"];

                [[NSBundle mainBundle] loadNibNamed:@"customCell" owner:self options:nil];

                cell1 =tableCell;
                tableCell=nil;

           cell1.transform = CGAffineTransformMakeRotation(M_PI_2);

          // values for cell content here 

           return cell1;
} 
```

# sql - SQL 语句 ON v WHERE

> ID：14109766
> 
> 赞同：4
> 
> 时间：2013-01-01T10:46:27.073
> 
> 标签：sql, sql-server, database

请查看下表：

客户表：

```
ID
Name 
```

订单表：

```
ID
CustomerID 
```

一个客户可以下 0,1 个或多个订单。请看下面的 SQL 查询：

```
SELECT Customer.* 
FROM Customer LEFT JOIN Order ON Customer.ID=Order.CustomerID 
WHERE CustomerID IS NULL 
```

和

```
SELECT Customer.* 
FROM Customer LEFT JOIN Order ON Customer.ID=Order.CustomerID AND
      CustomerID IS NULL 
```

这两个查询有什么区别吗？开发人员何时会使用一种技术而不是另一种？

我以为网上会有其他类似的问题，但我没有找到答案，因此没有找到问题的原因。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:49:58.480

在结果集和查询计划方面，两者可能会产生相同的结果。

在这方面，它们是相同的。

如果谈论可读性，我会使用`WHERE`版本，因为连接条件是明确的，并且`WHERE`子句对于要包含/排除的结果是明确的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T12:08:36.877

我将尝试以我自己的方式解释：

考虑下表

**tbl问题**：

```
QuestionId                   1                    2
QuestionTitle                Your Name?           Your Age? 
```

**tbl人**：

```
PersonId                     1                    2
PersonName                   Person1              Person2 
```

**tbl答案**：

```
AnswerId                     1
PersonId                     1
QuestionId                   1
Answer                       My Name is Person1 
```

**现在用WHERE**试试这个查询，它只会**返回一个**结果。

```
SELECT  q.QuestionId, q.QuestionName, a.Answer
FROM    tblQuestions q
        LEFT OUTER JOIN tblAnswers a ON q.QuestionId = a.QuestionId
WHERE   a.PersonId = 2 OR a.PersonId IS null 
```

**现在用ON**试试这个查询，它会**返回两个**结果。

```
SELECT  q.QuestionId, q.QuestionName, a.Answer 
FROM    tblQuestions q 
        LEFT OUTER JOIN tblAnswers a ON q.QuestionId = a.QuestionId AND
    (a.PersonId = 2 OR a.PersonId IS null) 
```

结果的差异是因为文件管理器`PersonId = 1 OR PersonId Is NULL`，当通过结果应用此过滤器时，`WHERE`结果是一条记录，当它在“ON”中应用时，结果是两条记录。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T10:52:34.307

如果您考虑结果，两者都将返回相同的结果。它们是有区别的。第一次查询，

```
SELECT Customer.* 
FROM Customer LEFT JOIN Order ON Customer.ID=Order.ID 
WHERE CustomerID IS NULL 
```

首先将应用连接获取记录，并在它之上应用过滤器（Where）条件。

第二个查询，

```
SELECT Customer.* 
FROM Customer LEFT JOIN Order ON Customer.ID=Order.ID AND
      CustomerID IS NULL 
```

在加入过程中，您将获得所需的结果。性能明智，这将是好的。

希望这有点道理！！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T10:57:29.097

第一种情况将返回满足 where 条件的结果

和

第二种情况将返回结果，这将在两个条件下加入

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-03T22:02:39.297

选择的答案不正确。

第一个查询给出了所有没有订单的客户。第二个查询提供所有客户。

在第一个查询中，有订单的客户加入他们的订单。没有订单的客户因为左连接而存在。然后应用 Where - 有订单的客户被过滤掉，因为 CustomerID 不为空；没有订单的客户仍然存在。

在第二个查询中，无论你输入什么数据，都不可能有连接的记录，所以所有没有订单的客户都在场。没有连接条件可以同时为真（挑剔者的角落：除非您有一个带有空 ID 的客户记录和带有空 ID 的订单记录，并且您使用“SET ANSI_NULLS OFF”声明）：“Customer.ID=Order .ID 和 CustomerID 为空”。

# css - 将 div 与居中的表格左侧的 2 个图像对齐

> ID：14109770
> 
> 赞同：0
> 
> 时间：2013-01-01T10:46:36.087
> 
> 标签：css

我有 4 个居中的表格（页眉、导航、内容、页脚）：

```
<table id="header" width="760" align="center">...</table>
<table id="navigation" width="760" align="center">...</table>

<table width="760" height="28" border="0" align="center" id="content">
    ...
</table>

<table id="footer" width="760" align="center">...</table> 
```

我已经从上面的示例中删除了一些代码（边框、单元格填充等）。这使得表格位于屏幕的中心并且宽度 = 760。在这种情况下，屏幕的左右边距包含一些空白。我需要在这些空白处放置 4 个图像（表格左侧的两个图像；图像将垂直放置；右侧的两个图像 - 也位于另一个图像的顶部）。

所以，可能我需要创建两个 div（左 div 和右 div）。我需要这些 Div 与所有表格的左侧和所有表格的右侧对齐。

左 DIV|所有表格| 右分区

图像具有最大允许宽度，但它们没有任何预定义的高度。

我不知道该怎么做...我通常做后端，所以我不需要太多 CSS。但不是在这个项目中......通常我不使用表格而是使用 Divs 进行布局，然后我会使用 position="relative" 作为左右 Divs，但它似乎不适用于表格。

请给我一些线索好吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T11:16:58.637

您必须将表格包装在 div 中。看看这个[jsfiddle](http://jsfiddle.net/Jt46m/5/)。您可以根据自己的喜好调整css，但这就是您做自己想做的事情的方式。

**编辑** 添加了 clearfix 而不是`overflow: hidden;`，并在每一侧添加了两个图像。
**EDIT2**这里是如何使布局居中。[jsfiddle](http://jsfiddle.net/Jt46m/6/)

```
<div id="wrapper clearfix">
  <div class="side-div">
    <img src="http://dummyimage.com/60x60/000/fff.png" alt="left" />
    <img src="http://dummyimage.com/60x60/000/fff.png" alt="left" />
  </div>

  <div class="main-content">
    tables
  </div>

  <div class="side-div">
    <img src="http://dummyimage.com/60x60/000/fff.png" alt="right" />
    <img src="http://dummyimage.com/60x60/000/fff.png" alt="right" />
  </div>
</div>​

.side-div {
    float: left;
    width: 60px;
    min-height: 100px;
    background-color: #ccc;
    padding: 0 10px;
}

.main-content {
    float: left;
    min-height: 100px;
    background-color: #ccddff;
    padding: 0 10px;
}

/*clearfix instead of overflow: hidden;*/

.clearfix:after {
    clear: both;
    content: ".";
    display: block;
    height: 0;
    visibility: hidden;
}

.clearfix {
    display: inline-block;
}

.clearfix {
    display: block;
} 
```

​</p>

# c++ - “不应忽略的无效值”-Qt/C++

> ID：14109774
> 
> 赞同：0
> 
> 时间：2013-01-01T10:47:15.150
> 
> 标签：c++, qt, casting, void

对于我想要开发的一些插件，我有这个简单的“接口”，它看起来像：

```
class TestPluginBase : public QObject
{
  Q_OBJECT
public:
    TestPluginBase();
    qint64 returnType(){return PluginType;}

protected:
    qint64 PluginType;
}; 
```

以及其他一些实现“接口”的类，例如：

```
class TestPluginONE : public TestPluginBase
{
public:
    TestPluginONE() {this->PluginType =1;}
    qint64 returnType() {return this->PluginType;}
}; 
```

然后我有另一个函数假设加载不同的插件：

```
qint64 TestPluginManager::loadPlugin(QObject *_plugin)
{

  TestPluginBase *Plugin = qobject_cast<TestPluginBase *>(_plugin);

  if ( !Plugin )
        return 0;

    emit sigPluginLoaded(Plugin);
    return Plugin->returnType();

} 
```

但是在构建它时，我得到`void value not ignored as it ought to be`并且 Qt 创建者说从我正在做我的演员的行中实例化......无法弄清楚我做错了什么......感谢任何帮助/提示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:04:50.963

将我的“接口”中的构造函数修改为`TestPluginBase() {this->PluginType =0;}`并且代码正在编译没有错误..解决了我的问题，但不知道为什么。

# ios - 如何在 iOS 中从 UITableView 播放选定的媒体项？

> ID：14109779
> 
> 赞同：1
> 
> 时间：2013-01-01T10:49:10.457
> 
> 标签：ios, cocoa-touch, mpmediaitem

我正在尝试播放`Media Item`从`UITableView`iOS 中选择的内容。

我正在使用`MediaQuery`并且我从 iPod 库中加载了歌曲列表`UITableView`。

但我不知道如何播放从 中选择的歌曲`UITableView`。

我知道带有以下代码的非常基本的简单 AudioPlayer。

```
NSString *soundFilePath = [[NSBundle mainBundle] pathForResource: @"sample" 
                                                              ofType: @"mp3"];
    NSURL *fileURL = [[[NSURL alloc] initFileURLWithPath: soundFilePath] autorelease];
    self.player = [[[AVAudioPlayer alloc] initWithContentsOfURL:fileURL error: nil] 
                   autorelease]; 
```

这用于`ContentOfURL`已经位于资源中的歌曲。无需从 iPod 库中检索歌曲。

这是我的 CellForRowAtIndexPath 方法代码

```
MPMediaItemCollection *songs = [self.arrayOfSongs objectAtIndex:indexPath.row];

    cell.textLabel.text = [songs.items[0] valueForProperty:MPMediaItemPropertyTitle]; 
```

现在我正在尝试使用 MediaQuery 播放从 iPod 库中检索到的歌曲，以及从中选择的歌曲`UITableView`

那么如何检索 URL 并从 iPod 库中选择的歌曲播放`UITableView`？感谢您的阅读。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T11:25:09.563

您需要实现`didSelectRowAtIndexPath`如下代码：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
   MPMediaItemCollection *songs = [self.arrayOfSongs objectAtIndex:indexPath.row];
   MPMediaItem *item = [songs representativeItem];
   self.player = [[[AVAudioPlayer alloc] initWithContentsOfURL:[item valueForProperty:MPMediaItemPropertyAssetURL] error: nil] 
                   autorelease];

} 
```

# iphone - 如何在拖动角边缘时根据比例调整 UIView 的大小？

> ID：14109781
> 
> 赞同：3
> 
> 时间：2013-01-01T10:49:27.033
> 
> 标签：iphone, ios, ipad, uiview

我有一些大小的 UIView。我正在调整单击按钮的视图大小。但是 UIView 的调整大小取决于 3:2 、 4:3 、 16: 9 之类的比例。并且UIView的拖动必须按照比例来完成。

kResizeThumbSize 30

```
- (void) touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event 
  {
    UITouch *touch = [[event allTouches] anyObject];

  if ([((UIView *)(touch.view)) isEqual:canvas])
    {
        touchStart = [[touches anyObject] locationInView:canvas];
        isResizingLR = (canvas.bounds.size.width - touchStart.x < kResizeThumbSize && canvas.bounds.size.height - touchStart.y < kResizeThumbSize);
        isResizingUL = (touchStart.x <kResizeThumbSize && touchStart.y <kResizeThumbSize);
        isResizingUR = (canvas.bounds.size.width-touchStart.x < kResizeThumbSize && touchStart.y<kResizeThumbSize);
        isResizingLL = (touchStart.x <kResizeThumbSize && canvas.bounds.size.height -touchStart.y <kResizeThumbSize);
    }

    if(isResizingLR || isResizingUL|| isResizingLL || isResizingUR){
        [canvas removeGestureRecognizer:panRecognizer];
    }
}

- (void) touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {

    CGPoint touchPoint = [[touches anyObject] locationInView:canvas];
    CGPoint previous=[[touches anyObject]previousLocationInView:canvas];

    float  deltaWidth = touchPoint.x-previous.x;
    float  deltaHeight = touchPoint.y-previous.y;

    if (isResizingLR) {
        canvas.frame = CGRectMake(canvas.frame.origin.x, canvas.frame.origin.y,touchPoint.x + deltaWidth, touchPoint.y + deltaWidth);
    }
    if (isResizingUL) {
        canvas.frame = CGRectMake(canvas.frame.origin.x + deltaWidth, canvas.frame.origin.y + deltaHeight, canvas.frame.size.width - deltaWidth, canvas.frame.size.height - deltaHeight);
    }
    if (isResizingUR) {
        canvas.frame = CGRectMake(canvas.frame.origin.x ,canvas.frame.origin.y + deltaHeight,  canvas.frame.size.width + deltaWidth, canvas.frame.size.height - deltaHeight);
    }
    if (isResizingLL) {
        canvas.frame = CGRectMake(canvas.frame.origin.x + deltaWidth ,canvas.frame.origin.y ,  canvas.frame.size.width - deltaWidth, canvas.frame.size.height + deltaHeight);
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:58:09.957

你可以试试这个：

检查哪个`deltaWidth`和`deltaHeight`的绝对值更大。它成为前导大小并按原样应用于框架。另一个是根据比率从前导大小增量计算出来的，然后应用于帧，而实际（较小）增量被忽略。

您可能还需要在初始再次应用比率检查`deltaWidth`，`deltaHeight`以更好地确定哪个变化更大。

# php - cakephp 的模型保存方法不起作用

> ID：14109788
> 
> 赞同：1
> 
> 时间：2013-01-01T10:50:31.803
> 
> 标签：php, cakephp

嗨，当我想通过`edit()`控制器方法保存对模型的更改时，会发生以下错误：

```
Error: Call to a member function save() on a non-object
File: K:\xampp\xampp\htdocs\app\Controller\UsersController.php
Line: 39 
```

这是方法：

```
 public function edit($id = null){
        $this->User->id = $id;
        if(!$this->User->exists()){
            throw new NotFoundException(__('Invalid user'));
        }
        if($this->request->is('post')){
            ###### line number 39 - Where error happens >>>> 
            if($this->Uesr->save($this->request->data)){
                $this->Session->setFlash(__('The user has been saved'));
                $this->redirect(array('action' => 'index'));
            }else{
                $this->Session->setFlash(__('The user could not be saved. Please, try again'));
            }
        }else{
            $this->request->data = $this->User->read(null, $id);
            unset($this->request->data['User']['password']);
        }
    } 
```

但是当我在方法中调用这个对象时`add()`没有错误，这是`add()`方法的代码：

```
 public function add(){
        if($this->request->is('post')){
            $this->User->create();
            if($this->User->save($this->request->data)){
                $this->Session->setFlash(__('The user has been saved.'));
                $this->redirect(array('action' => 'index'));
            }else{
                $this->Session->setFlash(__('The user could not be saved. Please, try again'));
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T13:05:08.903

您在编辑操作中的控制器名称有拼写错误。

利用：

```
$this->User->save($this->request->data) 
```

代替：

```
$this->Uesr->save($this->request->data) 
```

# iphone - 如何使用地址栏和底部工具栏按钮（如 Safari）显示 webView

> ID：14109793
> 
> 赞同：1
> 
> 时间：2013-01-01T10:51:13.360
> 
> 标签：iphone, ios, webview, safari

我想用顶部的地址栏和底部栏按钮（如 safari）制作我的 web 视图，我使用 safari 代替 web 视图，但我无法自定义 safari 的大小，实际上我想在底部显示标签栏，我这样做了在另一个视图上添加 safari 浏览器，然后作为子视图添加到我的主视图中，但我的标签栏总是隐藏在浏览器后面，所以我想像这样在我的 web 视图上显示它![在此处输入图像描述](../Images/fbce42e2a15d894a40bdb20850da1e42.png)

谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:55:41.007

您需要构建一个复合视图并编写代码以将所有内容（webview、按钮、地址栏、搜索栏）粘合在一起。

编辑：添加最小示例：

FullWebView.h：

```
#import <UIKit/UIKit.h>

@interface FullWebView : UIView

@end 
```

FullWebView.m：

```
#import "FullWebView.h"

@interface FullWebView ()
@property (nonatomic, retain) UIWebView* webView;
@end

@implementation FullWebView

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        [self setup];
    }
    return self;
}

- (id)initWithCoder:(NSCoder *)aDecoder
{
    self = [super initWithCoder:aDecoder];
    if (self) {
        [self setup];
    }
    return self;
}

- (void) setup
{
    UIButton* backButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    backButton.frame = CGRectMake(0, 0, 140, 40);
    [self addSubview:backButton];
    self.webView = [[UIWebView alloc] initWithFrame:CGRectMake(0, 40, self.bounds.size.width, self.bounds.size.height - 40)];
    [self addSubview:self.webView];

    //Glue code for back button
    [backButton addTarget:self action:@selector(backTapped:) forControlEvents:UIControlEventTouchUpInside];
}

- (void) backTapped:(id)sender
{
    [self.webView goBack];
}

@end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T11:02:35.563

试试这个代码

```
[webview goFarward];
[webview goBack]; 
```

# android - 如何通过单击Android中的后退按钮来终止进程？

> ID：14109794
> 
> 赞同：2
> 
> 时间：2013-01-01T10:51:19.913
> 
> 标签：android, android-intent, back, kill-process

我在android中做了一个应用程序。这是一个与计时器相关的应用程序。现在我已经尝试了很多方法来控制android设备的后退按钮，当它被按下时，进程应该被杀死并直接显示主菜单......请帮助我...提前谢谢你..！![在此处输入图像描述](../Images/8e4980a770bfa78bb48fb589e9b85b33.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T10:55:49.667

在您的活动中覆盖`onBackPressed()`并在那里添加您的必要代码

[onBackPressed](http://developer.android.com/reference/android/app/Activity.html#onBackPressed%28%29)

> 当活动检测到用户按下返回键时调用。默认实现只是完成当前活动，但您可以覆盖它来做任何您想做的事情。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T11:00:13.400

试试这个代码

```
@Override
public void onBackPressed() {
   yourActivity.this.finish;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T11:34:32.233

你可以这样做**onclick 后退按钮。**

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK) {
         finish();// call finish() on click of back button
    }
    return super.onKeyDown(keyCode, event);
} 
```

**例如：**当您使用 startActivity(new intent(...))**从 A 活动移动到 B 活动时；****不要完成或杀死一个活动，它会在堆栈中**。`So when you click on back button in B activity you can go back to A activity, which is already in stack.`

**当您想要返回主菜单时，在您移动到下一个活动时对每个活动调用完成（）**。

**例如：**当您使用 startActivity(new intent(...))**从 A 活动移动到 B 活动时；**调用`finish()`杀死一个活动。`So when you click on back button in B activity you can go back to Main Menu coz every activity ll be killed.`

片段在这里：

```
startActivity(new intent(A.this, B.class));
finish(); // when you click back button on B activity, directly you can go to main menu 
```

**更新：** 在按下后退按钮时使用以下代码杀死应用程序的其他方法。**但不推荐**

```
 @Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK) {
         android.os.Process.killProcess(android.os.Process.myPid());// Kill the app on click of back button.
    }
    return super.onKeyDown(keyCode, event);
} 
```

希望这可以帮助您理解这个概念。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-03T06:18:36.050

只需清除活动历史记录，以便您的应用程序关闭。然后`finsh();`调用`startActivity();`

```
 <activity
        android:name="com.example.abcd.Your_Acitivty"
        android:noHistory="true">
  </activity> 
```

快乐编码！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-04T11:45:54.420

好吧，吉米，您可以使用此代码转到设备的主屏幕-

```
 finish();
    moveTaskToBack(true);
     System.exit(0); 
```

**finish()**方法仅关闭当前活动。

**moveTasktoBack将隐藏您的应用程序，您还可以根据需要通过****android.os.Process.killProcess(android.os.Process.myPid())**快速终止应用程序。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-20T06:19:42.697

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK) {
        moveTaskToBack(true);
        return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-25T19:10:47.983

在清单中，您可以尝试添加此

```
<activity
    android:name=".MainActivity"
    android:finishOnCloseSystemDialogs="true"
</activity> 
```

我遇到了类似的问题，这为我解决了。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-02-11T13:07:53.287

我通过覆盖 onBackPress() 和 onStop() 解决了这个问题

```
@Override
protected void onStop() {
    super.onStop();
    System.exit(0); //kill the app

}

@Override
public void onBackPressed() { //here I capture the event onBackPress 
    super.onBackPressed(); 
    onStop(); //call onStop
} 
```

# ios - 本地化故事板：如何添加新内容？

> ID：14109802
> 
> 赞同：2
> 
> 时间：2013-01-01T10:52:36.483
> 
> 标签：ios, localization, xcode4.5, uistoryboard

我刚开始在我的应用程序中使用本地化。我现在看到每种语言都有多个“MainStoryboard.storyboard”文件。我可以轻松更改文本。

但是当我想用新视图扩展故事板时会发生什么？我希望它会被复制到所有情节提要文件中，但似乎并非如此？有什么建议么？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-22T16:20:14.017

您应该使用 Base Internationalization（请参阅[docs](https://developer.apple.com/library/ios/documentation/MacOSX/Conceptual/BPInternational/InternationalizingYourUserInterface/InternationalizingYourUserInterface.html#//apple_ref/doc/uid/10000171i-CH3-SW2)）。这个想法是在你的故事板中构建一个灵活的 UI，然后依靠 Xcode / iOS 来替换适当的文本。您将拥有一个基本故事板和一组语言字符串文件，而不是每种语言都有一个故事板。

# computer-science - 这个 FindAllPath 算法在有向图中是否正确？

> ID：14109803
> 
> 赞同：0
> 
> 时间：2013-01-01T10:52:39.027
> 
> 标签：computer-science, graph-algorithm

我正在寻找一种算法来打印有向图中两个节点之间的所有可能路径。

我看到了这个 ：

```
 procedure FindAllPaths(u, dest)
{
   push u to stack;
   if(u == dest)
   {
      print stack;
   }
   else
   {
      foreach v that is adjacent with u and not in stack now
      {
         FindAllPaths(v, dest);
      }
   }
   pop from stack;
} 
```

但是当我运行它时，它会打印出正确的路径并进入无限循环并打印出该路径！有什么问题 ？

特别感谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:49:24.340

这是您的算法的 JavaScript 实现，带有示例图。它在这里工作。如果您发现您的实施有所不同，请发布更多信息：

```
var edges = [
    {from:0, to:0},
    {from:0, to:1},
    {from:0, to:2},
    {from:1, to:3},
    {from:2, to:3},
    {from:2, to:0}
];

var stack = [];

function FindAllPaths(u, dest) {
    stack.push(u);
    if(u === dest)
    {
        console.log(stack.join('->'));
    }
    else
    {
        for(i in edges) {
            var edge = edges[i];
            if (edge.from == u && stack.indexOf(edge.to) < 0) {
                FindAllPaths(edge.to, dest);
            }
        }
    }
    stack.pop();
}

FindAllPaths(0, 3); 
```

# php - Zend 框架查询和输入验证

> ID：14109808
> 
> 赞同：1
> 
> 时间：2013-01-01T10:52:58.377
> 
> 标签：php, zend-framework, zend-db, zend-db-table

我是 zend 框架（1.12）的新手，在我的模型中，在我的 zend-db-table 中，我想验证输入（以避免 sql 注入）并且我想做这个查询：

```
`SELECT id FROM friendships WHERE (user1= $user1 AND user2= $user2 ) OR (user1= $user2 AND user2= $user1 );` 
```

在示例中，我看到他们使用类似`$db->quoteInto('string');`但在模型中我必须做什么？我不会写`$this->quoteInto('string')`...

第二个问题是如何在 quoteInto 函数中输入多个值？您如何验证模型中的输入？（不是表格）

最后一个问题，您遵循哪些步骤来创建应用程序 usign zend 框架？我的意思是，首先你计划你的项目，然后你编写模型，然后你编写控制器，最后是视图（假设你一个人工作）。

ps：对不起，我的英语很抱歉，但我希望你能理解，非常感谢，新年快乐！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T12:49:15.777

非常感谢您的回答，抱歉耽搁了……我这样解决了

```
$db=  Zend_Registry::get('db');

    $select=$db->select()
            ->from($this->_name)
            ->where("utente1= ".$db->quote($user1, 'INTEGER')." AND utente2= ".$db->quote($user2, 'INTEGER'))
            ->orWhere("utente1= ".$db->quote($user2, 'INTEGER')." AND utente2= ".$db->quote($user1, 'INTEGER'));

    $stmt=$select->query();
    $result=$stmt->fetchAll();` 
```

我将数据库保存在我的注册表中，我可以随时获取它...这样做有任何安全性或其他类型的问题吗？

关于计划，我在问是否有与 zend 合作的固定程序，你的回答让我松了一口气...... :)

无论如何，我开始创建数据库，现在我正在研究模型，当我完成时，我将一起制作视图和控制器。

我有一个关于联接的问题，我可以从两个表中选择列吗？是这样的：

```
$select = $db->select()
             ->from(array('p' => 'products'),
                    array('p.product_id', 'p.product_name', 'l.description'))
             ->join(array('l' => 'line_items'),
                    'p.product_id = l.product_id'); 
```

我怎样才能做到这一点？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T09:55:14.033

`Zend_Db_Table`大多数时候都会提供引号，即使您没有明确使用`select()`Zend_Db 通常也会：

```
//query is broken into multiple line for more clarity and is just an example
$select = $this->getAdapter()->select();
$select->from('friendships');
$select->where('user1 = ?', $user1);
$select->where('user2 = ?', $user2);//successive where() will tie together with AND
$select->orWhere('user1 = ?', $user2); 
```

只要您的查询使用`select()`它们将被引用的对象。

当您需要在选择对象不可用的情况下进行插入或更新时，请使用 quoteInto()：

```
//in your DbTable models
$where = $this->getAdapter()->quoteInto('user1 = ?', $user1);
$result = $this->getAdapter()->update($data, $where); 
```

> 第二个问题是如何在 quoteInto 函数中输入多个值？

api是：

```
/* @param string  $text  The text with a placeholder.
 * @param mixed   $value The value to quote.
 * @param string  $type  OPTIONAL SQL datatype
 * @param integer $count OPTIONAL count of placeholders to replace
 * @return string An SQL-safe quoted value placed into the original text.
 */
public function quoteInto($text, $value, $type = null, $count = null) 
```

因此，实际上并不支持多个值`quoteInto()`，但是还有其他[可用的引用函数。](http://framework.zend.com/manual/1.12/en/zend.db.adapter.html#zend.db.adapter.quoting)

> 您如何验证模型中的输入？（不是表格）

使用验证表单时使用的相同类，使用[Zend_Validate](http://framework.zend.com/manual/1.12/en/zend.validate.set.html)和[Zend_Filter](http://framework.zend.com/manual/1.12/en/zend.filter.set.html)。最简单的方法是使用[Zend_Filter_Input()](http://framework.zend.com/manual/1.12/en/zend.filter.input.html)：

```
//multiple methods demonstrated
$filters = array('*'=>'StringTrim','zip'=> new Zend_Filter_Digits());
$validators = array('name'=>'Alnum');

$input = new Zend_Filter_Input($filters, $validators, $data);
if ($input->isValid()){//do some stuff} 
```

> 最后一个问题，您遵循哪些步骤来创建应用程序 usign zend 框架？我的意思是，首先你计划你的项目，然后你编写模型，然后你编写控制器，最后是视图（假设你一个人工作）。

这是您的应用程序，按照您的意愿去做。不是要讽刺，但应用程序会让你知道它需要什么。通常你会得到一些要显示的东西和一些要操作的数据。然后去制定计划。

# android - 使用数据库时android中的空异常

> ID：14109810
> 
> 赞同：0
> 
> 时间：2013-01-01T10:53:04.037
> 
> 标签：android, sqlite, nullpointerexception

我正在尝试在 android 中进行更可靠的编码，因此我为不同的目的制作了不同的类，例如用于与 db 连接的单独类、创建表以及用于插入更新和删除的类。现在我遇到了 SQLiteDatabase [mDb] 的问题：我有一个类，其中有表列的 getter 和 setter，即接收者.class。现在我必须将数据插入数据库，所以我这样做是为了插入：

```
public long insert(Recipient recipient, String[] images){
        ContentValues initialValues = new ContentValues();
        initialValues.put(FLD_RECIPIENT_ID, Recipient.getFldRecipientId());
        initialValues.put(FLD_INFO, Recipient.getFldInfo());
        initialValues.put(FLD_LATITUDE, Recipient.getFldLatitude());
        initialValues.put(FLD_LONGITUDE, Recipient.getFldLongitude());
        for(int i=0;i<images.length;i++){
            if(images[i]!=null){
                initialValues.put("FLD_IMAGE_URL"+(i+1), images[i]);
            }
        }
        return mDb.insert(DATABASE_TABLE, null, initialValues);
    } 
```

当我调试所有设置 initialValues 的值并且执行 mDb.insert 时，它退出显示 nullPointException 和 mDb null 的值。我不明白为什么会这样。所以如果有人可以帮助我？？？我还将 mDb 初始化为：

```
private SQLiteDatabase mDb; 
```

日志猫：

```
01-01 11:11:27.963: E/AndroidRuntime(992): FATAL EXCEPTION: main
01-01 11:11:27.963: E/AndroidRuntime(992): java.lang.NullPointerException
01-01 11:11:27.963: E/AndroidRuntime(992):  at com.example.android.photobyintent.DbReceipient.insert(DbReceipient.java:43)
01-01 11:11:27.963: E/AndroidRuntime(992):  at com.example.android.photobyintent.AddRecipient.insertIntoDb(AddRecipient.java:451)
01-01 11:11:27.963: E/AndroidRuntime(992):  at com.example.android.photobyintent.AddRecipient$4.onClick(AddRecipient.java:409)
01-01 11:11:27.963: E/AndroidRuntime(992):  at android.view.View.performClick(View.java:4202)
01-01 11:11:27.963: E/AndroidRuntime(992):  at android.view.View$PerformClick.run(View.java:17340)
01-01 11:11:27.963: E/AndroidRuntime(992):  at android.os.Handler.handleCallback(Handler.java:725)
01-01 11:11:27.963: E/AndroidRuntime(992):  at android.os.Handler.dispatchMessage(Handler.java:92)
01-01 11:11:27.963: E/AndroidRuntime(992):  at android.os.Looper.loop(Looper.java:137)
01-01 11:11:27.963: E/AndroidRuntime(992):  at android.app.ActivityThread.main(ActivityThread.java:5039)
01-01 11:11:27.963: E/AndroidRuntime(992):  at java.lang.reflect.Method.invokeNative(Native Method)
01-01 11:11:27.963: E/AndroidRuntime(992):  at java.lang.reflect.Method.invoke(Method.java:511)
01-01 11:11:27.963: E/AndroidRuntime(992):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
01-01 11:11:27.963: E/AndroidRuntime(992):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
01-01 11:11:27.963: E/AndroidRuntime(992):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T10:57:31.267

在 mDB 上执行此操作。

```
private SQLiteDatabase mDb = this.getWritableDatabase(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T10:59:03.343

`mDb`在插入数据库之前初始化为：

```
public long insert(Recipient recipient, String[] images){
         mDb = Your_sqLiteHelper.getWritableDatabase();

         // your code here

        return mDb.insert(DATABASE_TABLE, null, initialValues);
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T11:00:22.437

我认为 mDb 在您访问它之前未初始化或其为空。尝试：

在函数 mDb = this.getWritableDatabase() 之前；

```
public long insert(Recipient recipient, String[] images){
    ContentValues initialValues = new ContentValues();
    initialValues.put(FLD_RECIPIENT_ID, Recipient.getFldRecipientId());
    initialValues.put(FLD_INFO, Recipient.getFldInfo());
    initialValues.put(FLD_LATITUDE, Recipient.getFldLatitude());
    initialValues.put(FLD_LONGITUDE, Recipient.getFldLongitude());
    for(int i=0;i<images.length;i++){
        if(images[i]!=null){
            initialValues.put("FLD_IMAGE_URL"+(i+1), images[i]);
        }
    }
     if(mdb!=null){
         return mDb.insert(DATABASE_TABLE, null, initialValues);
     }else {
         return null;
     }
} 
```

如果返回值为 null 则相应地工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T11:00:53.140

最好以原子方式使用数据库对象，在需要时打开它，在不再需要时立即关闭它

试试这样：

```
SQLiteDatabase db = opener.getWritableDatabase();

    try {
        ContentValues values = new ContentValues();
        /* set values */

        return db.insertOrThrow(tableName, null, values);
    } finally {
        db.close();
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-01T11:01:25.483

看起来您的成员变量在您调用该方法时`mDb`尚未初始化（即它仍然是）。`null``insert`

这个变量在你的班级哪里分配？也许您创建了另一个方法，命名为`connect`，您之前忘记调用了`insert`？

在我提供任何进一步帮助之前，您需要显示更多类的代码。

# iphone - ASP.NET webservice 的序列化问题？

> ID：14109811
> 
> 赞同：0
> 
> 时间：2013-01-01T10:53:23.360
> 
> 标签：iphone, asp.net, objective-c, web-services

我需要针对使用 asp.net 开发的 Web 服务/API 运行我的 iPhone 应用程序。

出于某种原因，我从 API 调用返回的响应在 JSON 的开头添加了额外的字符和“d”，如下所示。

```
{"d":"{\"count\":\"0\",\"status\":\"500\",\"recipes\":[]}"} 
```

从我的基本阅读来看，这似乎是服务上的序列化问题。

1.  我错了吗 ？？
2.  无论如何，我可以在 iPhone 客户端上将其反序列化为正确的 JSON 吗？

帮助或指导将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T13:32:29.567

整个想法是一个 json，它包含一个对象“D”和一个字符串，它也是 json，所以它是 json 中的一个 json。

所以你有一个'外部json'：{“d”：“”}
+一个内部json：{“count”：“0”，“status”：“500”，“recipes”：[]}

如果我们只是在没有 \ 的情况下插入内部 json，我们可能会得到无效的 json .. 在实践中（在这种情况下）我们不会，但我认为 lib 只是试图在安全方面，所以它转义内部 json 并将其编码为一串！

获取字符串并解析它工作正常，如下所示，一切都有效

```
id innerJSON = @"{\\\"count\\\":\\\"0\\\",\\\"status\\\":\\\"500\\\",\\\"recipes\\\":[]}";
id response = [NSString stringWithFormat:@"{\"d\":\"%@\"}", innerJSON];
id data = [response dataUsingEncoding:NSUTF8StringEncoding];
id outerJson = [NSJSONSerialization JSONObjectWithData:data options:0 error:nil];
NSLog(@"%@", outerJson[@"d"]);

data = [outerJson[@"d"] dataUsingEncoding:NSUTF8StringEncoding];
id innerJson = [NSJSONSerialization JSONObjectWithData:data options:0 error:nil];
NSLog(@"%@ %@", innerJson[@"count"],innerJson[@"status"]); 
```

# php - 如何检查 $_GET 的多个值

> ID：14109812
> 
> 赞同：1
> 
> 时间：2013-01-01T10:53:43.493
> 
> 标签：php, mysql

我有大约 15 个不同名称的类别，我正在使用 if 条件来检查哪个值即将到来。例如，一节包含汽车、电机、零件等；另一个包含工作，想要的工作，工作机会等。

以下是可能的 URL 示例：

*   [http://domain.com/subcatename=car](http://domain.com/subcatename=car)
*   [http://domain.com/subcatename=motors](http://domain.com/subcatename=motors)

而不是为每种可能性写一个条件：

```
<?php if($_GET['subcatename'] == 'Cars')
// Show Car Form
//...
<?php if($_GET['subcatename'] == 'Motors')
// Show Motor Form
//... 
```

我想使用这样的代码：

```
<?php if($_GET['subcatename'] == 'Cars,Motors') //Will this work ?
{
?>
// Show Motor Form If any of above value in url is appears, cars, motors or etc
<?php
}
?> 
```

或这个：

```
if($_GET['catename'] = 'cars, motors, parts') 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T10:57:33.657

如果您的复选框有以下 html：

```
<input type="checkbox" name="catename[]" value="cars"> cars
<input type="checkbox" name="catename[]" value="motors"> motors
// etc 
```

您可以将其作为数组访问（注意它可能是 POST，而不是 GET）：

```
var_dump($_POST['catename']);
// array('cars', 'motors') 
```

然后，您可以使用`in_array`来检查值：

```
if(in_array('cars', $_POST['catename'])) { ... } 
```

# android - 嵌套片段中的自定义适配器

> ID：14109813
> 
> 赞同：2
> 
> 时间：2013-01-01T10:54:05.077
> 
> 标签：android, android-fragments

我有一个`ViewPager`包含多个基本片段，每个基本片段还有四个嵌套片段，每个嵌套片段是 5`imageViews`和`textView`. （这是我打算做的）

我已经创建了一个示例应用程序，但我无法正确实现它。我在嵌套片段或基本片段中看不到任何视图。

这是示例应用程序的代码

**主要的.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:orientation="vertical"
          android:layout_width="fill_parent"
          android:layout_height="fill_parent"
    >

<fragment android:name="com.example.nestedfragments.BaseFragment"
          android:id="@+id/left_fragment"
          android:layout_weight="1"
          android:layout_width="0dp"
          android:layout_height="match_parent"/>
</LinearLayout> 
```

**MainActivity.java**

```
package com.example.nestedfragments;

import android.os.Bundle;
import android.support.v4.app.FragmentActivity;

public class MainActivity extends FragmentActivity {
/**
 * Called when the activity is first created.
 */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
}
} 
```

**base_fragment.xml**

```
<?xml version="1.0" encoding="utf-8"?>

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:gravity="center">

<Button
        android:id="@+id/button1"
        android:text="Launch Nested Fragment"
        android:gravity="center"
        android:layout_alignParentBottom="true"
        android:layout_height="wrap_content"
        android:layout_width="wrap_content"
        android:paddingBottom="10dp"/>

</RelativeLayout> 
```

**BaseFragment.java**

```
public class BaseFragment extends Fragment {

Button doNestingButton;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
                         Bundle savedInstanceState) {
    // set the view
    View root = inflater.inflate(R.layout.base_fragment, container, false);

    doNestingButton = (Button) root.findViewById(R.id.button1);

    doNestingButton.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            Fragment videoFragment = new NestedFragment();
            // we get the 'childFragmentManager' for our transaction
            FragmentTransaction transaction =  getChildFragmentManager().beginTransaction();
            // make the back button return to the main screen
            // and supply the tag 'left' to the backstack
            transaction.addToBackStack("left");
            // add our new nested fragment
            transaction.add(getId(), videoFragment, "left");
            // commit the transaction
            transaction.commit();
        }
    });
    return root;

}

} 
```

**嵌套片段.xml**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:orientation="vertical"
          android:layout_width="match_parent"
          android:layout_height="match_parent">

<ImageView
        android:layout_width="154dp"
        android:layout_height="154dp"
        android:id="@+id/imageView" android:layout_gravity="left|center_vertical"
        android:src="@drawable/ic_splash"/>
</LinearLayout> 
```

**嵌套片段.java**

```
public class NestedFragment extends Fragment {

public NestedFragment() {

}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
                         Bundle savedInstanceState) {
    View root = inflater.inflate(R.layout.nested_fragment, container, false);
    ImageView doNestingButton = (ImageView) root.findViewById(R.id.imageView);

    return root;
} 
```

这又是一个示例应用程序，请指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T13:24:39.013

从您上面的代码中，您还没有使用`base_fragment.xml .So add the frame layout for nested fragment in`base_fragment.xml中的 FrameLayout 等片段容器布局

# jquery - ASP.net MVC 代码片段问题中的 Jqgrid 实现

> ID：14109814
> 
> 赞同：0
> 
> 时间：2013-01-01T10:54:22.300
> 
> 标签：jquery, asp.net-mvc, jquery-plugins, asp.net-mvc-2, jqgrid

我在实现 Jqgrid 时传递参数和调用 get 方法时遇到问题。

我的应用程序是如何工作的，它有一组 .htm 文件，一个相应的 java 脚本文件。现在我想在一个选项卡中实现 jqgrid。我已经添加了所有必要的功能，但我的控制器方法本身没有被调用，请帮助。

这是我的 .htm 文件

```
<div id="report-tab">
<h2>My Grid Data</h2>
<table id="list" class="scroll" cellpadding="0" cellspacing="0"></table>
<div id="pager" class="scroll" style="text-align:center;"></div>
</div> 
```

这是我的 report.js 文件，直到 init 函数才得到控制，但它不会触发我的 c# 函数。即json方法。

```
var ReportTab = function () {

    return {
        Init: function () {

           //Control comes till here, but it wont go inside, 
             jQuery(document).ready(function() { 
            jQuery("#list").jqGrid({
                Url: '/Home/GridData',
                datatype: 'json',
                mtype: 'GET',
                colNames: ['Id', 'Votes', 'Title'],
                colModel: [
          { name: 'Id', index: 'Id', width: 40, align: 'left' },
          { name: 'Votes', index: 'Votes', width: 40, align: 'left' },
          { name: 'Title', index: 'Title', width: 200, align: 'left'}],
                pager: jQuery('#pager'),
                rowNum: 10,
                rowList: [5, 10, 20, 50],
                sortname: 'Id',
                sortorder: "desc",
                viewrecords: true,
                imgpath: '/scripts/themes/coffee/images',
                caption: 'My first grid'
            });
        }); 
        }
    }
} (); 
```

这是我在 c# 中的控制器功能

```
public ActionResult GridData(string sidx, string sord, int page, int rows)
        {
            _logger.LogMethodAndType();

            var jsonData = new
            {
                total = 1, // we'll implement later 
                page = page,
                records = 3, // implement later 
                rows = new[]{
                new {id = 1, cell = new[] {"1", "-7", "Is this a good question?"}},
                new {id = 2, cell = new[] {"2", "15", "Is this a blatant ripoff?"}},
                new {id = 3, cell = new[] {"3", "23", "Why is the sky blue?"}}
            }
            };
            return Json(jsonData, JsonRequestBehavior.AllowGet);
        } 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:14:24.510

尝试这么多在屏幕上渲染网格

```
jQuery(document).ready(function() { 
            jQuery("#list").jqGrid({
                Url: '/Home/GridData',
                datatype: 'json',
                mtype: 'GET',
                colNames: ['Id', 'Votes', 'Title'],
                colModel: [
          { name: 'Id', index: 'Id', width: 40, align: 'left' },
          { name: 'Votes', index: 'Votes', width: 40, align: 'left' },
          { name: 'Title', index: 'Title', width: 200, align: 'left'}],
                pager: jQuery('#pager'),
                rowNum: 10,
                rowList: [5, 10, 20, 50],
                sortname: 'Id',
                sortorder: "desc",
                viewrecords: true,
                imgpath: '/scripts/themes/coffee/images',
                caption: 'My first grid'
            });
        }); 
```

如果正确导入了 jquery 和 jqgrid 库，网格将正确呈现。Table Id:list 也应该存在于 dom/HTML 上。如果它没有呈现，那么你会在 firebug 控制台上收到任何错误，或者 Table 容器 div 被隐藏

# c# - 使用分页（Selenium webdriver C#）

> ID：14109815
> 
> 赞同：0
> 
> 时间：2013-01-01T10:54:27.453
> 
> 标签：c#, selenium, selenium-webdriver

我在自动化分页测试时遇到问题。我的代码能够遍历第一页上的表格，如果“未找到搜索元素”，还可以单击下一页。但是，问题在于第二页没有保存/获取表的数据。尽管使用的表类对于所有页面都是静态的。请帮我解决这个问题。这是我的代码块：

```
IWebElement pagingInfo = webDriver.FindElement(By.ClassName("Dj")); //Getting text from Page info in the form of  "1-emailsPerPage of totalNumberOfEmails"
string[] stringArray = pagingInfo.Text.Split(' ');
int totalNumberOfEmails = Convert.ToInt32(stringArray[2]);
int emailsPerPage = Convert.ToInt32(stringArray[0].Substring(2));
int clickCount = totalNumberOfEmails / emailsPerPage;

for (int i = 0; i <= clickCount; i++)
{
    IWebElement tableInbox = webDriver.FindElement(By.ClassName("Cp")).FindElement(By.ClassName("F"));
    IList<IWebElement> rowsCollection = tableInbox.FindElements(By.TagName("tr"));

    foreach (IWebElement row in rowsCollection)
    {
        IList<IWebElement> columnCollection = row.FindElements(By.TagName("td"));
        if (columnCollection[5].Text.Contains("Fwd: Security"))
        {
            Console.WriteLine("Record found");
            recordFound = true;
            break;
        }
    }
    if (recordFound == true)
        break;
    webDriver.FindElement(By.ClassName("ar5")).FindElement(By.ClassName("amJ")).Click();
    Thread.Sleep(5000);
}

if (recordFound == true)
    Console.WriteLine("Record Found");
else
    Console.WriteLine("Record Not Found"); 
```

请帮忙！！提前致谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T07:57:08.033

实际上，该页面使用的是 Ajax，所以我必须使用 iFrame 来浏览每个页面的同一个表。使用 iFrame 解决了我的目的。经过大量的研究，这个问题终于解决了。:)

# wcf - 尽管服务正在返回一些数据，但 HttpWebResponse 返回为 null

> ID：14109817
> 
> 赞同：0
> 
> 时间：2013-01-01T10:54:44.490
> 
> 标签：wcf, rest

我的 WCF REST 服务正在返回数据合同列表。当我尝试阅读响应时，我得到了 null 并且我注意到粗体代码中突出显示的以下错误。“Length = 'requestStream.Length' 引发了 'System.NotSupportedException' 类型的异常”

```
 HttpWebResponse resp;
        try
        {
            if (httpMethod.ToUpper() == Constants.WEBHTTPGET)
            {
                if (request != null && request.ToString().Length > 0)
                    url += string.Format("/{0}", request.ToString());
            }

            // Create HttpWebRequest object 
            HttpWebRequest WebRequest = (HttpWebRequest)HttpWebRequest.Create(url);
            WebRequest.Method = httpMethod;
            WebRequest.ContentType = @"application/xml; charset=utf-8";

            if (IsTimeoutIncrementRequired(url))
                WebRequest.Timeout = (ConfigurationManager.AppSettings["WebRequestTimeout"] != null) ? (Convert.ToInt32(ConfigurationManager.AppSettings["WebRequestTimeout"], CultureInfo.InvariantCulture)) : Constants.WebRequestTimeout; 

            // Add HTTP headers 
            WebRequest.Headers.Add("x-ms-date", DateTime.UtcNow.ToString("R"));
            WebRequest.Headers.Add("x-ms-version", "2009-09-19");

            ServicePointManager.ServerCertificateValidationCallback += new RemoteCertificateValidationCallback(ValidateRemoteCertificate);
            if (HttpContext.Current.Session["CurrentUser"] != null)
            {
                DataContract.User userObj = (DataContract.User)HttpContext.Current.Session["CurrentUser"];
                //Set Header content type and Authetincation
                WebRequest.Headers.Add("Authorization", GetAuthHeader(userObj.UserName, userObj.Password));
                CultureInfo culture = ResolveCulture();
                if (culture != null && culture.Name != null)
                {
                    WebRequest.Headers.Add("ClientBrowserCulture", culture.Name);
                }
                else
                {
                    WebRequest.Headers.Add("ClientBrowserCulture", System.Configuration.ConfigurationManager.AppSettings["DISCurrentCulture"]);
                }

            }
            if (httpMethod.ToUpper() == Constants.WEBHTTPPOST)
            {
                string xmlString = ObjectToXml(request);
                WebRequest.ContentLength = Encoding.UTF8.GetByteCount(xmlString);
                **using (Stream stream = WebRequest.GetRequestStream())
                {
                    stream.Write(Encoding.UTF8.GetBytes(xmlString), 0, Encoding.UTF8.GetByteCount(xmlString));
                }**
            }
            else
            {
                WebRequest.ContentLength = 0;
            }

            resp = WebRequest.GetResponse() as HttpWebResponse;

        } 
```

# wpf - 如何在 WPF OpenFileDialog 中禁用文件使用检查？

> ID：14109827
> 
> 赞同：4
> 
> 时间：2013-01-01T10:56:40.970
> 
> 标签：wpf, openfiledialog

我的 WPF 应用程序正在使用 Microsoft.Win32.OpenFileDialog 来选择要打开的 SQL Server 2008 数据库。

它工作正常，但有一个问题：当对话框中选择的数据库之前在上次启动后的某个时间打开时，该文件似乎在后台由 SQL 服务器保持打开状态（即使它没有被我的应用程序和我的应用程序打开）应用程序已重新启动）。当在 OpenFileDialog 中单击确定时，这会导致“文件被另一个应用程序使用”警告，并且在计算机重新启动之前我无法使用该对话框打开该特定数据库。似乎 OpenFileDialog 试图打开选定的文件并发现它已被另一个应用程序（SQL Server）打开。如何禁用 OpenFileDialog 尝试打开所选文件并仅返回所选文件的文件名而不进行任何检查？

我的代码如下所示：

```
public void OpenDatabase() {
    // Let user select database to open from file browser dialog
    // Configure open file dialog box
    var dlg = new Microsoft.Win32.OpenFileDialog();
    dlg.FileName = ""; // Default file name
    dlg.DefaultExt = ".mdf"; // Default file extension
    dlg.Filter = "Databases (.mdf)|*.mdf|All Files|*.*"; // Filter files by extension 
    dlg.CheckFileExists = false;
    dlg.CheckPathExists = false;

    // Show open file dialog box
    bool? result = dlg.ShowDialog();    // Gives file in use warning second time!

    // Process open file dialog box results 
    if (result == true) {
        // Open document 
        string filename = dlg.FileName;
        TryOpenDatabase(filename);
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T13:05:37.820

底层选项是 OFN_NOVALIDATE 用于早期 Windows 版本，FOS_NOVALIDATE 用于您在更高版本的 Windows 和 .NET 上获得的 Vista 对话框。来自 MSDN 的描述：

> 不要检查会阻止应用程序打开所选文件的情况，例如共享冲突或访问被拒绝错误。

这就是您现在看到的情况，对话框看到数据库文件存在共享冲突。这个选项实际上暴露在 OpenFileDialog 包装类上，添加这行代码来解决你的问题：

```
 dlg.ValidateNames = false; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-01T11:03:05.190

MSDN 论坛[有一篇关于这个的帖子](http://social.msdn.microsoft.com/forums/en-US/netfxbcl/thread/56fbbf9b-31d5-4e89-be85-83d9cb1d538c/)

它在 OpenFileDialog API 中，您可以使用

```
ValidateNames = false 
```

上`Dialog`。

# mysql - 论坛的一两张桌子？

> ID：14109838
> 
> 赞同：0
> 
> 时间：2013-01-01T10:58:36.950
> 
> 标签：mysql, database, forum

我正在建立一个论坛，我想知道我是否应该有一个表来存储所有主要帖子，然后在另一个表中存储所有答案。

我总是将所有内容都存储在一张表中，以便计算并让用户评论每篇文章（在另一张表中发表评论）。

我该怎么办？优点和缺点？试图谷歌但没有找到任何东西。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:11:46.477

这是非常主观的，因为它取决于您的需求和意图。让我解释...

诸如此类的论坛通常采用两种形式之一。它们有时以主要帖子的形式出现，并带有后续评论。因此，从逻辑上讲，主要帖子将位于一张表中，而评论则位于另一张表中。Facebook 和 Stack Exchange 网站就是这样的例子。

在其他情况下，内容可能采用评论列表的形式。更多的传统论坛采取这种形式。在需要层次结构而不是纯日期排序的情况下，单表方法更有意义。

在这两种情况下，层次结构都可以通过创建`parent`和`child`列来处理。

我个人的偏好是使用一个表，除非主帖子包含评论不需要的附加数据的顺序。这只是一个提高效率的事情，但您绝对不希望数千或数百万行`NULL`占用空间的 s 无济于事。要将帖子与评论区分开来，您可以使用任意数量的逻辑方案，例如不同的 ID 或标志列。

最终，这样的架构情况取决于所讨论的项目。这两种方法都有优点和缺点。在以后增加复杂性的情况下，使用多个表可以为您的项目提供更多的“面向未来”的方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:16:46.687

我通常遵守规则`every type of dataset gets a own table`。这样您就可以清晰地定义关系

你有像这样的类型

*   用户类型（例如 guest、user、mod、admin）
*   用户（有一个 userType_id）
*   帖子（有一个 user_id）
*   答案（有一个 post_id）
*   评论（有一个 post_id，有一个 answer_id）

由于可以为帖子和答案添加评论，因此您可以添加两个桥接表来定义这种关系。

*   comment_to_answer（有一个comment_id，有一个answer_id）
*   comment_to_question（有一个comment_id，有一个question_id）

如果您将帖子和答案都保存到一个表中，则帖子表需要引用自己来定义帖子 - 答案是一对多的关系，这会使查询更加复杂。

如果您希望能够级联，post 可以有答案，answer 可以有答案等等，您可能会更好地使用一个 posts 表和一个指向帖子 id 的 parent_id

希望这可以帮助。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-01T11:00:36.560

好吧 - 因为一个帖子可以有多个答案，所以我会选择一个单独的表格。

临：

*   更少的冗余信息
*   答案可以独立于帖子更新/删除
*   更容易计算问题/答案

骗局

*   非（好吧，也许您需要为某些查询加入表，但是这不算数）

与您在另一个表中已有评论的原因相同...

# java - Izpack 安装程序 - 更改窗口标题和页脚

> ID：14109842
> 
> 赞同：4
> 
> 时间：2013-01-01T10:59:11.303
> 
> 标签：java, izpack

我使用 Izpack 创建了一个安装程序，我希望更改以下内容：

1.  安装程序窗口标题是 Izpack - 我的应用程序名称，我希望从窗口标题中删除 Izpack。
2.  在安装程序的页脚中有“Made by Izpack - [http://izpack.org](http://izpack.org) ”我也想删除它，我会在应用程序的 licenses 文件夹中记下 Izpack。
3.  每个面板都有一个预定义的名称，例如“目标路径”或“选择安装包”，我希望将此文本更改为我认为更友好的内容（我不想仅更改文本的语言）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-13T09:39:48.003

最好的方法似乎是定义一个自定义语言包并覆盖您想要更改的任何条目，但是 izpack（5.0-Beta 甚至 rc1）中存在一个错误，它阻止自定义语言包覆盖安装程序预定义语言包中的条目如果您必须修改生成的安装程序 jar 中包含的语言包（只需解压缩它找到语言包，更改文件并将其压缩回来），或者您可以下载 izpack 源代码并在那里更改语言包，以便每当安装程序创建它将包含修改后的语言包。

语言包位于：izpack/izpack-core/src/main/resources/com/izforge/izpack/bin/langpacks/installer

# magento - 如何在 magento 中进行压力/负载测试

> ID：14109844
> 
> 赞同：5
> 
> 时间：2013-01-01T10:59:32.597
> 
> 标签：magento, magento-1.7, stress-testing

我正在用 magento 创建一个电子商务网站。我想在我的网站上使用压力测试来查看我的网站有多健壮以及它可以承受多少负载。我为此经历了很多事情，但我找不到令人满意的东西。请建议我一些工具来做这件事，我可以在本地主机上做吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-01T11:13:06.510

您可以使用[**jmeter**](http://jakarta.apache.org/jmeter/)、[**apache bench**](http://httpd.apache.org/docs/2.0/programs/ab.html)、[**siege**](http://www.joedog.org/siege-home/)对您的网站进行负载测试。

尝试使用这些工具增加服务器上的负载。并找到您的应用程序可以处理的最大客户端数。然后增加更多的负载，看看它在断裂之前还能承受多少。

最近我用flazr在流媒体服务器上做了一些负载测试。服务器工作正常，直到`400`并发连接。在`400`它开始变慢并且`450`它破裂之后。所以 400 是它支持的最大连接数。但如果它接近 450，我会尝试减少负载以节省我的服务器或增加 RAM、CPU、NIC 等硬件容量

一些链接可能有用

1.  [使用 apachebench 对站点性能进行基准测试](https://techcommons.stanford.edu/topics/web-development/benchmarking-site-performance-apachebench)
2.  [简单是困难](http://talks.php.net/show/froscon08)的，Rasmus Lerdorf 在谈话中使用了围攻
3.  SQA.SE 回答[我在哪里可以找到好的 jmeter 教程](https://sqa.stackexchange.com/questions/2546/where-can-i-find-good-jmeter-tutorials)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-02T07:11:58.873

我使用 Jmeter 来测试 Magento 网站的负载和性能。Jmeter 是很好的验证工具，可以生成高效的分析报告。Jmeter 对于中小型企业测试网站负载和性能非常有用，并且它没有任何许可证。

# sql - 识别 PLSQL 中的日期格式

> ID：14109845
> 
> 赞同：1
> 
> 时间：2013-01-01T10:59:46.397
> 
> 标签：sql, plsql

我正在尝试编写一个 plsql 存储过程，它可以识别任何日期格式并将其转换为单个日期时间格式`'mm/dd/yyyy hh:mi:ss'`。我该怎么做。我尝试使用 case 语句，但日期组合太多，无法为所有日期组合编写 case 语句。例如：`27-Oct-1967`, `October 27 1967 11:15:45`,`1967-OCT-27`等。如何将所有这些转换为单一格式。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:02:21.687

简单`to_char()`会做，

```
select to_char(yourDateField,'mm/dd/yyyy hh:mi:ss') from dual; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:20:48.250

最理想的方法是将日期格式化为您需要的格式。然后做任何你需要的计算。

否则，您将不得不编写大量可笑的`select case`s 来定义格式。并不是说这没有意义，因为日期可以有多种不同的格式……`Mat`如前所述。此外，还有`Date`一个组件可能会受到您的`system`.

您可以尝试以下方法：

使用给定的日期输入转换为所需的格式`To_Date()`，您甚至可能不知道此输入是作为字符串还是真实日期。因此，您可能需要进行一些验证以确保它是正确的日期。

```
SELECT TO_DATE(mydate,'mm/dd/yyyy hh:mi:ss') FROM Dual; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T15:27:48.877

也许这可以帮助你：

```
CREATE TABLE temp_date
AS
SELECT '1967-OCT-27' some_date 
FROM dual
UNION
SELECT '27-Oct-1967' FROM dual
UNION
SELECT 'October 27 1967 11:15:45' FROM dual
/

Declare
  CURSOR i_cur IS
  Select some_date 
   From temp_date;
  --
  v_date1 Varchar2(30);
  v_date2 Varchar2(30);
  v_date3 Varchar2(30);
  v_char  Varchar2(30);
  v_cnt   Number:= 0;
Begin
  For i_rec IN i_cur
  Loop
    v_cnt:= v_cnt + 1;
    Begin
      v_date1:= to_char(to_date(i_rec.some_date), 'MM/DD/YYYY hh24:mi:ss');
      dbms_output.put_line(v_cnt||'.'||chr(9)||v_date1);
      EXCEPTION
        When Others Then
          Begin
            v_date2:= to_char(to_date(i_rec.some_date, 'MM/DD/YYYY hh24:mi:ss'), 'MM/DD/YYYY hh24:mi:ss');
            dbms_output.put_line(v_cnt||'.'||chr(9)||v_date2);
            EXCEPTION
              When Others Then 
                Begin
                 v_date3:= to_char(to_date(i_rec.some_date, 'YYYY-MON-DD'), 'MM/DD/YYYY hh24:mi:ss');
                 dbms_output.put_line(v_cnt||'.'||chr(9)||v_date3);
                 EXCEPTION
                   When Others Then 
                   -- Insert into Exceptions table (or any temp table) then convert... --
                    v_char:= i_rec.some_date;
                    dbms_output.put_line(v_cnt||'. '||chr(9)||i_rec.some_date||' : '||v_char);
                End;
          End;
    End;
  End Loop;
End;
/

1\.  10/27/1967 00:00:00
2\.  10/27/1967 00:00:00
3\.  10/27/1967 11:15:45 
```

# ruby - Ruby中的“要求如果”

> ID：14109849
> 
> 赞同：4
> 
> 时间：2013-01-01T11:00:18.377
> 
> 标签：ruby, gem, sinatra, rack

这是我的机架应用程序中的内容

```
#rb file
require 'pry'
class .....

#GemFile
group :development do
    gem "pry"
    gem "pry-nav"
end 
```

当然，在生产中它会导致错误。如何制作一种“require if”？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-01T11:03:40.023

```
require 'pry' if ENV['RACK_ENV'] == 'development' 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-01T11:14:08.833

也许您可以将其嵌入到 if 块中

根据文档 Sinatra 提供了一个环境变量 [http://www.sinatrarb.com/intro#Environments](http://www.sinatrarb.com/intro#Environments)

```
if development?
 require 'pry'
end 
```

无论您需要在哪里使用它。

这可能不是您可能正在寻找的确切解决方案，只是一个疯狂的猜测

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-01T18:13:06.090

我建议在您的应用程序的 Object 或 Kernel 中编写这样的方法：

```
def require_pry
  require 'pry' if ENV['RACK_ENV'] == 'development'
end 
```

之后，如果您在代码中需要它，您可以调用 require_pry。但我怀疑为什么 Bundler 不能处理它，Bundle.require 将需要环境所需的所有 gem。

# php - 在 Parallels Plesk Panel 中设置计划任务 (Windows Hosting)

> ID：14109855
> 
> 赞同：1
> 
> 时间：2013-01-01T11:01:14.440
> 
> 标签：php, scheduled-tasks

我需要设置一个调度任务（Windows 主机）。我配置如下

```
Path to executable file = C:\Program Files (x86)\Parallels\Plesk\Additional\PleskPHP5\php.exe

Arguments = C:\Inetpub\vhosts\example.com\httpdocs\accompalive\Scheduler.php 
```

Accompalive 是根文件夹名称，aspiresoftwareconsultancy 是域名。我也尝试使用 example.com 作为域名，但 schedular 没有运行。我将每小时、每天、每周、每月、每年每 2 分钟设置为计时。我还设置了一个通知电子邮件地址。但是我收到带有错误文件的电子邮件，其中包含 message `"Could not open input file: C:\Inetpub\vhosts\aspiresoftwareconsultancy.tld\httpdocs\accompalive\Scheduler.php"`。我是否正确设置或需要一些更改？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-08T12:59:21.753

现在已经快一年了。

但是由于这个问题没有答案，这是我发现的：

如果脚本可以使用解释器（例如 PHP 或 Perl）执行并且不需要在 HTTP 请求中定义的参数，则创建一个新的计划任务来调用脚本解释器，并将脚本的路径作为选项

你可以这样做：

```
C:\Program Files (x86)\Parallels\Plesk\php\bin\php.exe <path to your php script> <input file>output file 2>&1 
```

有关更多信息，请参阅：http: [//kb.sp.parallels.com/en/115292](http://kb.sp.parallels.com/en/115292)

希望能帮助到你 ：）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-07T08:52:26.477

我使用了你的代码，它对我有用。

```
Path to executable file = C:\Program Files (x86)\Parallels\Plesk\Additional\PleskPHP4\php.exe
Arguments = C:\Inetpub\vhosts\example.com\httpdocs\accompalive\Scheduler.php 
```

如果您有验证`scheduler.php`或错误的代码，那么它就无法工作。

当我使用 get 方法（如`Arguments = C:\Inetpub\vhosts\example.com\httpdocs\accompalive\Scheduler.php?id=12`）发送一些数据时，我还在他们所说的电子邮件中收到了文本文件（实用程序输出）`"Could not open input file"`。

# html - 自动、0 和无 z-index 之间的区别？

> ID：14109862
> 
> 赞同：38
> 
> 时间：2013-01-01T11:02:21.243
> 
> 标签：html, css, z-index

有什么区别：

1.  `z-index: auto`
2.  `z-index: 0`
3.  `z-index`完全没有

以上所有场景都是针对`div`包含两个`div`s 的 a ，`div1`每个s`div2`分别具有 a `z-index`which is`9`和a `10`。

封闭`div`在 HTML 的堆叠上下文中。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-01-01T11:04:32.133

不指定`z-index`与`z-index: auto`; 那是它的初始值。

`auto``0`如果您的元素没有创建自己的堆叠上下文，则意味着同样的事情；例如，它不是相对的、绝对的或固定的。

如果您的封闭`div`没有定位，那么您将其设置`z-index`为什么都无关紧要；它和它的所有内容都将参与到 的堆叠上下文中`html`，它的后代总是位于它的前面。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2019-09-11T15:08:25.953

@BoltClock 说的是对的。

> 不指定`z-index`与`z-index: auto;`初始值相同。

关于`z-index: 0`重要的是要注意以下几点：

`z-index: 0`创建堆叠上下文而不创建`z-index: auto`。您可以查看[MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context)以获取有关此的更多信息。

在大多数情况下，这不会影响渲染的元素。

下面的小提琴是一个重要的例子：[https ://jsfiddle.net/ramcdvns/3/](https://jsfiddle.net/ramcdvns/3/)

代码和解释如下：

```
<style>
  .box {
    position: relative;
    width: 64px;
    height: 64px;
    top: 32px;
    left: 32px;
  }

  .red {
    background: red;
  }

  .green {
    background: green;
  }

  .blue {
    background: blue;
  }

  #example-0 {
    margin-top: 32px;
  }
</style>

<div id="example-auto">
  <div class="box red">
    <div class="box green" style="z-index: 1"></div>
  </div>
  <div class="box blue"></div>
</div>

<div id="example-0">
  <div class="box red" style="z-index: 0">
    <div class="box green" style="z-index: 1"></div>
  </div>
  <div class="box blue"></div>
</div> 
```

在这两个例子中，red 和 blue 是带有 a 的兄弟姐妹， green 是带有and`position: relative`的 red 的子代：`position: relative``z-index: 1`

*   根
    *   红色的：`position: relative`
        *   绿：`position: relative; z-index: 1`
    *   蓝色的：`position: relative`

在第一个示例中，绿色将位于红色和蓝色之上。这是因为它有一个`z-index: 1`, 所以一个堆叠上下文被创建并放在根上下文之上。

在第二个示例中，绿色将位于红色之上，但位于蓝色之下。这是因为 red 有`z-index: 0`，所以它创建了与 blue 相同级别的 stacking context。所以绿色将高于红色（因为绿色也创建了一个堆叠上下文），但低于蓝色，因为它被困在红色的上下文中。

希望小提琴足够清楚，因为很难用语言来解释这一点。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-07-05T11:03:01.713

`z-index:0`始终是“默认层”（没有显式`z-index`驻留的所有元素所在的层），并且`z-index:auto`意味着：“*将堆栈顺序设置为其父级*”。由于默认情况下父级的所有子级都从“z-layer 0”开始 -**相对于它们的父**级，因此，影响，`z-index:auto`并且`z-index:0`意味着相同的事情：它们都将在同一个“层”中，并且它们的堆叠订单将根据默认堆叠规则，您可以[在此处查看](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Stacking_and_float)。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-01T11:05:31.293

# z-index：自动

设置堆栈顺序等于其父级。这是默认设置。

# z-索引：0

什么也没做

# z 索引：不是

将堆栈顺序设置为与其父级相同，与 auto 相同。

# z-index：继承

指定 z-index 应该从父元素继承

进一步阅读和测试的参考：

[关联](http://www.w3schools.com/cssref/pr_pos_z-index.asp)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-01T11:05:36.113

n CSS，您可以定位 2 个或更多对象以相互重叠。它们的 z 索引决定了哪些对象在它们重叠的其他对象“前面”或“后面”。对象的 z-index 越高，它将显示的对象的“堆栈中越高”

# java - Izpack 安装程序 - 我想修改目标路径

> ID：14109866
> 
> 赞同：-2
> 
> 时间：2013-01-01T11:02:43.380
> 
> 标签：java, izpack

我使用[Izpack](http://izpack.org/)创建了一个安装程序。用户将选择的目标路径将用于替换 windows`.bat`文件中的占位符，在用户选择带有空格的路径之前，它可以正常工作`c:\Program Files\plapla`，我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T12:49:30.000

`.bat`在文件中包含占位符的路径周围加上双引号

```
"${THEPATH}\example.txt" 
```

这应该适用于所有情况，无论路径包含空格还是不包含空格。

# c# - 创建视觉工作室解决方案并包括应用程序的设置

> ID：14109867
> 
> 赞同：1
> 
> 时间：2013-01-01T11:02:48.743
> 
> 标签：c#, settings, installation-package

我正在构建一个 C# 应用程序。它保存了一些名为“settings.ini”的文件的参数。

当然，我管理我的应用程序来读取设置，提供编辑它们的界面，最后将它们保存回 ini 文件。

请告诉我如何将此设置文件包含到安装包中（VS2008）谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T11:04:53.267

而不是使用`ini`文件，您应该使用`.config`文件 - 这是 .NET 应用程序的正常配置选项，具有相当多的内置支持。

您应该能够`app.config`从 Visual Studio 中的新项目屏幕将文件添加到您的项目。

查看MSDN上的[配置文件](http://msdn.microsoft.com/en-us/library/1xtk877y.aspx)[`AppSettings`](http://msdn.microsoft.com/en-us/library/system.configuration.configurationmanager.appsettings.aspx)以获取更多详细信息和类（此页面包含一些示例）。

# sql-server - HTTP 状态 500 - 此驱动程序不支持 Java 运行时环境 (JRE) 版本 1.7

> ID：14109868
> 
> 赞同：11
> 
> 时间：2013-01-01T11:02:59.713
> 
> 标签：sql-server, servlets, jdbc

我正在尝试从 servlet 文件访问 MS SQL Server 2005。我正在使用 JDBC 4.0 驱动程序。我已经将 JAR 文件`sqljdbc.jar`和`sqljdbc4.jar`文件添加到我的 Tomcat`/lib`文件夹中。

但是在运行代码时出现错误

> HTTP 状态 500 - 此驱动程序不支持 Java 运行时环境 (JRE) 版本 1.7。使用为 JDBC 4.0 提供支持的 sqljdbc4.jar 类库。

这是如何引起的，我该如何解决？

我的代码是：

```
Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
Connection conn = conn =   DriverManager.getConnection("jdbc:sqlserver://localhost;databaseName=school;user=sa;password=123");
PrintWriter pwOut = res.getWriter();
pwOut.println("Connected");
Statement st = conn.createStatement();
String searchCriteria = req.getParameter("txtSearch");
ResultSet rs = st.executeQuery("select * from student");
res.setContentType("text/html"); 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-01-01T11:52:17.723

错误信息非常清楚。Tomcat 使用了错误的驱动程序。

您声明您已复制`sqljdbc.jar` **并** `sqljdbc4.jar`进入 Tomcat lib 文件夹。这很可能是您的问题的原因。

你**只**需要`sqljdbc4.jar`否则 Tomcat 会选择错误的。

尝试`sqljdbc.jar`从Tomcat lib文件夹中删除

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-09T10:36:13.670

这是我将 java 连接到 Microsoft sql Server 2012 的代码

您只需要可在 Microsoft 官方网站上使用的 sqljdbc4.jar。链接在这里：

[http://download.microsoft.com/download/0/2/A/02AAE597-3865-456C-AE7F-613F99F850A8/sqljdbc_4.0.2206.100_enu.exe](http://download.microsoft.com/download/0/2/A/02AAE597-3865-456C-AE7F-613F99F850A8/sqljdbc_4.0.2206.100_enu.exe)

它包含 2 个 jar 文件，我正在尝试使用**sqljdbc4.jar**。这是我用来连接的代码：

```
package com.Sql.ConnectDB;

import java.sql.*;
public class DbClass {

    public static void main(String[] args) {
        // TODO Auto-generated method stub
        try{
            **String url="jdbc:sqlserver://localhost;databaseName=Student";**//important
            String user="username";
            String pass="password";
            **Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");**//important
            Connection con=DriverManager.getConnection(url,user,pass);
            System.out.println("Conneccted Successfully");
        }catch(Exception e){
            e.printStackTrace();
        }
    }

} 
```

# android - 用其他值替换字符串

> ID：14109871
> 
> 赞同：0
> 
> 时间：2013-01-01T11:03:05.273
> 
> 标签：android, xml, json, string

我从这样的网址获取字符串

```
<string xmlns="http://tempuri.org/">
{"jewellery":{"Madurai":[{"id":"1","category":"Jewellery","type":"Silver","name":"Kallyan","banner":"","logo":"","about":"Kallyan Jewellery","contact":"Kallyan Jewellery","map":{"lat_long_1":{"latitude":"1.4875","longitude":"2.1547"}}},{"id":"2","category":"Jewellery","type":"Silver","name":"Kallayan Test","banner":"","logo":"","about":"Kallayan Test","contact":"Kallayan Test","map":{"lat_long_1":{"latitude":"24242","longitude":"2424"}}} ],"total":2} }
</string> 
```

我需要 从字符串中删除`<string xmlns="http://tempuri.org/">`和 单独。`</string>`我怎样才能做到这一点？

我尝试使用`string.replace("","")`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:09:57.790

试试下面的代码。

```
yourstring = yourstring.replace(oldStringValue,newStringValue); 
```

IE

```
yourstring = yourstring.replace("<string xmlns=\"http://tempuri.org/\">",""); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:17:15.690

```
 String url =your string i.e. //<string xmlns="http://tempuri.org/">{"jewellery":{"Madurai":[{"id":"1","category":"Jewellery","type":"Silver","name":"Kallyan","banner":"","logo":"","about":"Kallyan Jewellery","contact":"Kallyan Jewellery","map":{"lat_long_1":{"latitude":"1.4875","longitude":"2.1547"}}},{"id":"2","category":"Jewellery","type":"Silver","name":"Kallayan Test","banner":"","logo":"","about":"Kallayan Test","contact":"Kallayan Test","map":{"lat_long_1":{"latitude":"24242","longitude":"2424"}}} ],"total":2} } 
```

```
String suburl = url.substring(startpoint, endpoint); 
```

在你的情况下

```
String suburl = url.substring(37, 493); 
```

# java - IOException 关闭流错误

> ID：14109875
> 
> 赞同：0
> 
> 时间：2013-01-01T11:03:25.203
> 
> 标签：java, php, android, mysql, json

我收到**错误转换结果`java.io.IOException Attempted read on closed stream`**的错误这是什么问题？

我的 JSONParsing 类如下：

```
public class JSONParser {

  static InputStream is = null;
  static JSONObject jObj = null;
  static String json = "";

// constructor
public JSONParser() {

}

// function get json from url
// by making HTTP POST or GET method
public static JSONObject makeHttpRequest(String url, String method,
        List<NameValuePair> params) {

    // Making HTTP request
    try {

        // check for request method
        if(method.equals("POST")){
            // request method is POST
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient();
            String url1 = "http://192.168.0.29/evisiting_records/read_mytask.php?cid=1";
            HttpPost httpPost = new HttpPost(url1);
            httpPost.setEntity(new UrlEncodedFormEntity(params));

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();

        }else if(method.equals("GET")){
            // request method is GET
            DefaultHttpClient httpClient = new DefaultHttpClient();
            String paramString = URLEncodedUtils.format(params, "utf-8");
            url += "?" + paramString;
            HttpGet httpGet = new HttpGet(url);

            HttpResponse httpResponse = httpClient.execute(httpGet);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();
        }          

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        json = sb.toString();
        Log.v("json from server ::",json);
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

    // try parse the string to a JSON object
    try {
        jObj = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("JSON Parser", "Error parsing data " + e.toString());
    }

    // return JSON String
    return jObj;

 }
} 
```

请指导。如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:11:06.397

该错误告诉您 responseStream 已经调用了 .close() 。您之前是否在代码中使用过 responseStream 或将其与任何其他调用过 .close() 的流一起包装？

# database - 使用多数据库设置时仅创建一个数据库

> ID：14109882
> 
> 赞同：0
> 
> 时间：2013-01-01T11:05:04.973
> 
> 标签：database, django, router, django-celery

我正在尝试在我的一个 django 项目中设置 celery。我希望 celery 使用单独的数据库。目前，由于项目处于开发阶段，我们正在使用 sqlite3。为了设置多个数据库，我做了以下操作。

### 在 settings.py 文件中定义的数据库。

```
DATABASES = {'default':
                {'ENGINE': 'django.db.backends.sqlite3',
                 'NAME':'devel',
                 'USER':'',
                 'PASSWORD':'',
                 'HOST':'',
                 'PORT':'',
                 },  
             'celery':
                {'ENGINE': 'django.db.backends.sqlite3',
                 'NAME':'celery',
                 'USER':'',
                 'PASSWORD':'',
                 'HOST':'',
                 'PORT':'',
                },  
} 
```

### 在 db_routers.py 文件中创建了一个路由器对象

```
class CeleryRouter(object):
    """
    This class will route all celery related models to a»
    separate database.
    """

    # Define the applications to be used in the celery database
    APPS = (
        'django',
        'djcelery'
    )

    # Define Database Alias
    DB = 'celery'

    def db_for_read(self, model, **hints):
        """
        Point read operations to celery database.
        """
        if model._meta.app_label in self.APPS:
            return self.DB
        return None

    def db_for_write(self, model, **hints):
        """
        Point write operations to celery database.
        """
        if model._meta.app_label in self.APPS:
            return self.DB
        return None

    def allow_relation(self, obj1, obj2, **hints):
        """
        Allow any relation between two objects in the db pool
        """
        if (obj1._meta.app_label is self.APPS) and \
           (obj2._meta.app_label in self.APPS):
            return True
        return None

    def allow_syncdb(self, db, model):
        """
        Make sure the celery tables appear only in celery
        database.
        """
        if db == self.DB:
            return model._meta.app_label in self.APPS
        elif model._meta.app_label in self.APPS:
            return False
        return None 
```

### 更新了`DATABASE_ROUTER`settings.py 文件中的变量

```
DATABASE_ROUTERS = [
    'appname.db_routers.CeleryRouter',
] 
```

现在，当我`python manage.py syncdb`看到这些表是为 celery 创建的，但只创建了一个数据库，即`devel`。为什么在`devel`数据库中而不是在`celery`数据库中创建表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T11:12:03.390

引用[Django 文档](https://docs.djangoproject.com/en/dev/topics/db/multi-db/)：

> syncdb 管理命令一次对一个数据库进行操作。默认情况下，它在默认数据库上运行，但通过提供 --database 参数，您可以告诉 syncdb 同步不同的数据库。

尝试运行：

```
./manage.py syncdb --database=celery 
```

# javascript - 在 JavaScript 中的 SOAP 请求中添加可选参数

> ID：14109883
> 
> 赞同：0
> 
> 时间：2013-01-01T11:05:14.187
> 
> 标签：javascript, soap

我正在使用 JavaScript 创建一个 SOAP 请求。我有 3 个输入字段，其中只有一个是强制性的。如何使其他两个可选？我不想为两个可选输入分配默认值

# java - 检查！（x == null）是不好的做法

> ID：14109890
> 
> 赞同：0
> 
> 时间：2013-01-01T11:07:52.127
> 
> 标签：java

这是不好的做法还是任何性能损失，这是为了检查 x 不等于 null

```
 if( !(x == null) ){
    System.out.println("x is not a null value");
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-01T11:10:37.067

执行此操作的正常方法是：

```
if(x != null){
    System.out.println("x is not a null value");
} 
```

检查值是否不为空没有任何问题！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-01T11:11:43.017

在没有明确理由的情况下这样做是不好的做法。在您的示例中不清楚您为什么要进行检查。一个常见的例子可能是

```
if (s == null || s.isEmpty()) // if s empty or not set. 
```

或者

```
if (s != null && s.length() > 0) 
```

通常，您在需要时执行此操作，在这种情况下性能并不重要。

通常你会写

```
if(x != null) 
```

或更好

```
if (x == null) {
   // handle null, assuming this is not empty.
} else {
   // handle not null
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T11:12:52.797

```
if(x != null) is recommended and easy to read "X is not equal to null" 
```

if(!(x == null)) 不能读作“X 不等于 null”

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-01T11:11:10.313

就性能而言，它不太可能是相关的，因为您可以相信编译器会对其进行优化。

这只是风格问题。风格总是主观的，但我会说`if (x != null)`更简洁，更具可读性。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-01T12:15:45.147

只是在这里添加最佳实践是做

if(null != x) {
System.out.println("x is not null");
}

而不是
if(x != null) {
System.out.println("x is not null");
}

我知道在 java 中无论如何都可以工作，但这会节省你在其他语言中，比如 c++，你可能会不小心将 null 分配给 x，例如，

if(x = null) {
printf("x 不为空");
}

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-01T11:10:55.383

```
if( !(x == null) ){
System.out.println("x is not a null value");
} 
```

好吧，如果条件返回 false 的布尔值 true。所以，写在上面不会有任何影响。根据上面的代码，你写的条件是“如果不是真的”那么做点什么！并且正如其他人所建议的那样编写代码`if(x != null)`是更好的方式和更少的混乱;）

# .net - WPF 图像内存泄漏

> ID：14109892
> 
> 赞同：2
> 
> 时间：2013-01-01T11:07:54.327
> 
> 标签：.net, wpf, image, memory-leaks, controls

我正在处理一个处理大量图像文件的应用程序。我创建了一个窗口，其中包含一个包含我的图像的包装面板。该窗口获取图像列表（文件的路径）并创建一个新的图像控件，然后将其添加到包装面板中。当我打开窗口时，我看到内存使用量上升，但是当我关闭窗口时，内存使用量并没有下降。这是我尝试将文件加载到我的图像控件中的内容：

使用文件流：

```
BitmapImage test = new BitmapImage();
using (FileStream stream = new FileStream(strThumbPath, FileMode.Open, FileAccess.Read))
{
    test.BeginInit();
    test.StreamSource = stream;
    test.CacheOption = BitmapCacheOption.OnLoad;
    test.EndInit();
}
test.Freeze();
Image.Source = test; 
```

使用 UriSource 加载

```
var bitmap = new BitmapImage();
bitmap.BeginInit();
bitmap.UriSource = new Uri(strThumbPath);
bitmap.CacheOption = BitmapCacheOption.OnLoad;
bitmap.EndInit();
bitmap.Freeze();
Image.Source = bitmap; 
```

使用内存流：

```
BitmapImage src = new BitmapImage();
MemoryStream ms = new MemoryStream();
using (FileStream stream = new FileStream(strThumbPath, FileMode.Open, FileAccess.Read))
{
    ms.SetLength(stream.Length);
    stream.Read(ms.GetBuffer(), 0, (int)stream.Length);
    ms.Flush();
    stream.Close();
    src.BeginInit();
    src.StreamSource = ms;
    src.EndInit();
    src.Freeze();
    ms.Close();
}
Image.Source = src; 
```

我显然在做一些非常愚蠢的事情，有人能告诉我它是什么吗？

# c# - 如何将从 datepicker 检索到的日期保存到 windows phone 7 的数据库中？

> ID：14109893
> 
> 赞同：0
> 
> 时间：2013-01-01T11:07:59.063
> 
> 标签：c#, silverlight, windows-phone-7, datepicker, windows-phone-7.1

如何将从 datepicker 检索到的日期保存到数据库中？我已经添加了工具包 window.phone.control.toolkit 并在我的 xaml 页面中添加了这一行。

```
 <toolkit:DatePicker ValueChanged="DatePicker_ValueChanged" Margin="296,0,0,552" /> 
```

这是我获取所选日期的事件处理程序，但是如何将日期值传递到我的数据库中，以将其保存在我的日期列中？

```
private void DatePicker_ValueChanged(object sender, DateTimeValueChangedEventArgs e)
    {
        var date = e.NewDateTime;
    } 
```

我使用此代码将项目添加到我的数据库中，其中我有 2 列 Studentname(type string) 和 date(DateTime)

```
using (StudentDataContext Expdb = new StudentDataContext(strConnectionString))
        {
            Student StudentInfo = new Student
            {

               StudentName = textBox.Text.ToString(),

               StudentDate = ????

            };

            db.StudentInfo.InsertOnSubmit(newStudent);
            db.SubmitChanges(); 
```

为了保存用户选择的要存储在表中的日期，我要编写什么代码？我是 Windows Phone 编程和 Silverlight 的新手，请帮忙？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T12:33:42.477

您可以尝试以下代码来获取日期时间

```
Student StudentInfo = new Student
{
     StudentName = textBox.Text.ToString(),
     StudentDate = (DateTime)datePicker1.Value;
};
db.StudentInfo.InsertOnSubmit(newStudent);
db.SubmitChanges(); 
```

这`datePicker1`是 DatePicker 控件的名称

# sql-server - 水晶报表中的数据库登录错误

> ID：14109897
> 
> 赞同：-1
> 
> 时间：2013-01-01T11:08:42.213
> 
> 标签：sql-server, crystal-reports

我在服务器上的水晶报告中有这个错误。此报告适用于开发人员机器。

```
"Logon failed. Details: ADO Error Code: 0x Source: Microsoft OLE DB Provider for SQL Server 
 Description: [DBNETLIB][ConnectionOpen (Invalid Instance()).]Invalid connection.
 SQL State: 08001 Native Error: Error in File 
 C:\Windows\TEMP\temp_4c950a7a-9da0-4462-a806-74b3fddae638 {27458190-6D19-45D8-A8C9-     
 8386BE22C3F3}.rpt: Unable to connect: incorrect log on parameters." 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-13T13:58:06.727

使用 datasource=servername 或 ip address\instance name 如果可用，端口号

例子

```
DataSource=myservername\myinstancename,1433
DataSource=myservername,1433
DataSource=113.132.223.33,1433
DataSource=113.132.223.33\myInstancename,1433 
```

默认端口号为 1433 或 1434

我的问题就这样解决了，发帖供别人使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T20:12:11.817

有两种基本方法可以向 SQL Server 进行身份验证，一种使用 SQL 用户名/密码，另一种使用“集成安全性”或 Windows 帐户。您可以在本地连接但不能在服务器上连接这一事实让我相信您正在使用集成安全性。

如果您使用集成安全性，则运行网站的用户需要登录权限（默认情况下，它类似于“网络服务”）。您可以为此使用模拟将其设置为您需要的任何用户（Google ASP.NET 模拟）。

# javascript - 为 JavaScript 测试包含依赖项的标准方法是什么？

> ID：14109898
> 
> 赞同：4
> 
> 时间：2013-01-01T11:08:55.973
> 
> 标签：javascript, testing, jasmine

我对 JavaScript 很陌生，想知道在为 JavaScript 库编写测试时包含依赖项（例如 Jasmine、jQuery）的标准/推荐方式是什么？我使用 Jasmine 作为测试框架 FWIW。例如，是否建议在源代码树中包含依赖的库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T18:27:28.103

我建议您首先通过`<script>`标签将依赖项包含在 HTML 运行程序文件中。这不是唯一的方法，但它会让您比任何其他方法更快地开始。

此外，由于您刚刚开始，您可能还想考虑尝试摩卡。这是一个示例 mocha runner：

[http://visionmedia.github.com/mocha/example/tests.html](http://visionmedia.github.com/mocha/example/tests.html)

# jquery - 使用 jQuery 保留切换状态

> ID：14109903
> 
> 赞同：3
> 
> 时间：2013-01-01T11:10:05.453
> 
> 标签：jquery, toggle

> **可能重复：**
> [jQuery Toggle with Cookie](https://stackoverflow.com/questions/2523189/jquery-toggle-with-cookie)

我有一个简单的切换，但切换总是在页面刷新时重置，所以我想通过设置一个 cookie 来保留它的状态，但我不知道我应该怎么做......

知道如何保持切换状态吗？

[http://jsfiddle.net/Qyufx/](http://jsfiddle.net/Qyufx/)

```
<div class="question_trigger">
   <p>Hi</p>
</div>
<div class="toggle_container">
   <div class="block">Hello</div>
</div>

jQuery(document).ready(function(){
        jQuery(".toggle_container").hide();
        jQuery("div.question_trigger").click(function(){
        jQuery(this).toggleClass("active").next().toggle("slow");
    });
});​ 
```

​</p>

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T12:43:06.520

使用cookie的解决方案：

```
jQuery(document).ready(function() {
    jQuery(".toggle_container").toggle($.cookie('showTop') != 'collapsed');
    jQuery("div.question_trigger").click(function() {
        jQuery(this).toggleClass("active").next().toggle();
        var new_value = $(".toggle_container").is(":visible") ? 'expanded' : 'collapsed';
        $.cookie('showTop', new_value);
    });
});​ 
```

[小提琴](http://jsfiddle.net/barmar/Qyufx/14/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T11:53:25.227

使用 PHP 会话变量存储切换状态的基本解决方案

第 1 步：通过检查 PHP 会话变量值来设置容器在页面加载期间是否可见：

```
jQuery(document).ready(function(){
    if(<?php echo (isset($_SESSION['userId']['toggleState'] && $_SESSION['userId']['toggleState'] === FALSE) ? 'true' : 'false'; ?>)
        $('.toggle_container').hide();
}); 
```

第 2 步：添加脚本以更新 PHP 会话变量

```
jQuery(document).ready(function(){
        jQuery(".toggle_container").hide();

        jQuery("div.question_trigger").click(function(){
            jQuery(this).toggleClass("active").next().toggle("slow");

            var data = ($(this).is(":visible")) ? 'true' : 'false';
            $.ajax({
              url: 'ajax/update.php',
              method : 'post',
              data : {data : data},
              success: function(data) {
                  console.log('data updated');
              },
              error: function (request, status, error) {
                  alert(request.responseText);
              }
            });
        });
});​ 
```

第 3 步：实现 ajax/update.php 代码（使用真实的 userId 数据库值）

```
<?php
    $_SESSION['userId']['toggleState'] = (isset($_POST['data']) && $_POST['data'] === 'true') ? true : false;
?> 
```

# java - AspectJ 中的方面实例化与 pertypewithin

> ID：14109905
> 
> 赞同：0
> 
> 时间：2013-01-01T11:10:33.203
> 
> 标签：java, aspectj

我正在尝试使用 AspectJ 和子句**pertypewithin**做一个单例模式。

这是出于教育目的以充分理解该条款，我已经使用其他技术做到了这一点，但我无法让它按我的意愿工作。

```
package resourceManager;

//For every Type that extends resource
public aspect ResourcePool pertypewithin(resource+) {
    //The resource      
    public Object cached;

Object around(Object instance): execution( *.new(..))&&!within(resource)&&this(instance){
    if(cached==null)
        {
        proceed(instance);
        cached=instance;
        }

    System.out.println(instance+" "+ cached);

    return cached;
}       

} 
```

我的问题是最后我返回缓存但我的主函数中的新对象将保存实例的值。在方面内部，它的行为应如此：第一次实例化资源时，缓存和实例将保持相同的值，第二次，它们将不同。

```
instance: resourceManager.RB@4ffac352 cached: resourceManager.RB@4ffac352
instance: resourceManager.RB@582d6583 cached: resourceManager.RB@4ffac352 
```

但是当我打印 2 个新对象时，会发生这种情况：

```
resourceManager.RB@4ffac352
resourceManager.RB@582d6583 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-07-23T13:10:50.573

我在最近编辑后今天才发现这个老问题。

你想要的是一个基于`pertypewithin`. 虽然这个想法很好，但存在一个技术问题：您不能从`around() : execution(*.new(..))`通知中返回对象，因为所讨论的对象尚未完全实例化，并且周围通知隐式返回`void`。自己尝试并将建议返回类型更改为`void`并且不返回任何内容。它有效 - 惊喜，惊喜！;-)

那么你能做什么呢？改为使用`around() : call(*.new(..))`以操作构造函数调用的结果。您甚至可以通过不`proceed()`从那里调用来完全跳过对象创建。

有几种方法可以利用它来使您的资源对象缓存为单例。但是因为您特别要求一个`pertypewithin`用例，所以我将选择一个涉及这种方面实例化的解决方案。这里的缺点是您需要结合两个方面才能达到预期的结果。

**示例资源类：**

```
package de.scrum_master.resource;

public class Foo {} 
```

```
package de.scrum_master.resource;

public class Bar {} 
```

**驱动程序应用程序创建每种资源类型的多个实例：**

```
package de.scrum_master.app;

import de.scrum_master.resource.Bar;
import de.scrum_master.resource.Foo;

public class Application {
    public static void main(String[] args) {
        System.out.println(new Foo());
        System.out.println(new Foo());
        System.out.println(new Bar());
        System.out.println(new Bar());
    }
} 
```

**资源池方面的修改版本：**

```
package de.scrum_master.resourceManager;

public aspect ResourcePool pertypewithin(de.scrum_master.resource..*) {
    private Object cached;

    after(Object instance) : execution(*.new(..)) && this(instance) {
        // Not necessary because SingletonAspect only proceeds for 'cache == null' 
        //if (cached != null) return;
        cached = instance;
        System.out.println("Cached instance = " + cached);
    }

    public Object getCachedInstance() {
        return cached;
    }
} 
```

**方面跳过对象创建对象并返回缓存对象：**

```
package de.scrum_master.resourceManager;

public aspect SingletonAspect {
    Object around() : call(de.scrum_master.resource..*.new(..)) {
        Object cached = ResourcePool
            .aspectOf(thisJoinPointStaticPart.getSignature().getDeclaringType())
            .getCachedInstance();
        return cached == null ? proceed() : cached;
    }
} 
```

**控制台日志：**

```
Cached instance = de.scrum_master.resource.Foo@5caf905d
de.scrum_master.resource.Foo@5caf905d
de.scrum_master.resource.Foo@5caf905d
Cached instance = de.scrum_master.resource.Bar@8efb846
de.scrum_master.resource.Bar@8efb846
de.scrum_master.resource.Bar@8efb846 
```

# php - 尝试为 Rocket U2 构建 PHP PDO 扩展

> ID：14109906
> 
> 赞同：22
> 
> 时间：2013-01-01T11:10:35.523
> 
> 标签：php, pdo, u2, universe, unidata

我想知道是否有人可以帮助我解决一个让我把剩下的头发拔掉的问题......

我目前正在从事一个需要我与 Unidata 数据库对话的项目。PHP 没有本地驱动程序来访问这种类型的数据库，但是，经过一番谷歌搜索后，我发现了以下内容：

[https://u2devzone.rocketsoftware.com/accelerate/articles/u2-pdo-driver/u2-pdo-driver](https://u2devzone.rocketsoftware.com/accelerate/articles/u2-pdo-driver/u2-pdo-driver)。

我有 U2 Intercall 标头和库，我认为我正确地包含了它们。但是，扩展程序编译但没有通过测试，因为它出错了

```
pdo_u2.so: undefined symbol: ic_universe_session in Unknown on line 0 
```

这向我表明它没有与图书馆链接。当我编辑生成文件并手动指定应包含该库时，它会出错

```
relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC
/home/kaigoh/Downloads/intcall/lib/libuvic.a: could not read symbols: Bad value
collect2: error: ld returned 1 exit status
make: *** [pdo_u2.la] Error 1 
```

我尝试在 makefile 中强制使用 -fPIC 开关，但我得到了同样的错误。

我对编译自定义 PHP 扩展来帮助自己的知识还不够了解，我希望这里有一位大师可以为我指明正确的方向！

更新：使用 32 位安装的 Linux 可以完美编译，所以不知道为什么安装 64 位会失败...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-12-15T14:16:23.277

我知道我很久以前就问过这个问题，但我想出的最终解决方案是用 Rocket 的 .Net 库以及一些可以读取和处理 UniData 数据的 PHP 类用 C# 编写一个中间件。

如果有人对我如何从 PHP 访问 UniData 感兴趣，请随时给我留言。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T19:53:41.343

lib/libuvic.a 需要用 -fPIC 重新编译，而不仅仅是试图链接到它的代码。我无法从您的输出示例中判断您是否也使用 -fPIC 重新编译了库。

# android - 如何使用 ActionBarSherlock、ViewPagerIndicator 和 SlidingMenu

> ID：14109910
> 
> 赞同：3
> 
> 时间：2013-01-01T11:11:00.627
> 
> 标签：android, intellij-idea, dependencies, actionbarsherlock, viewpagerindicator

如何设置项目依赖项以使用[ActionBarSherlock](https://github.com/JakeWharton/ActionBarSherlock)、[ViewPagerIndicator](https://github.com/JakeWharton/Android-ViewPagerIndicator)和[SlidingMenu](https://github.com/jfeinstein10/SlidingMenu) (in inteliij)？

这是我的设置：

*   我已将 ActionBarSherlock 添加为 ViewPagerIndicator 的依赖项。
*   将 ViewPagerIndicator 添加为我的项目的依赖项。

一切都很好。我想添加 SlidingMenu（**注意**：ActionBarSherlock 是 SlidingMenu 的依赖项）作为我项目的依赖项。我怎样才能做到这一点？[我认为我的问题是我不知道在这种情况下如何设置所有依赖项]

**编辑**：我想要这个结果的 ViewPagerIndicator ：

![好的](../Images/e4089aa0b109cebb25724d15661c7f00.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-03T12:30:01.400

我可以使用（需要添加Android兼容库）：

```
public class MainActivity extends SlidingFragmentActivity  {
        private ViewPager viewPager;
        private RelativeLayout root;            
        @Override
        public void onCreate(Bundle savedState) {
                super.onCreate(savedState);
                root = (RelativeLayout) getLayoutInflater().inflate(R.layout.activity_main, null);
                setBehindContentView(root);

                (...)

                viewPager = (ViewPager) getLayoutInflater().inflate(R.layout.viewPager, null);
                setContentView(vPager);

                viewPager.setOnPageChangeListener(new OnPageChangeListener() {
                    @Override
                    public void onPageSelected(int id) {                                
                        switch (id) {
                        case 0:             
                            getSlidingMenu().setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN); //on first page, you can get slidingmenu by swipping the entire screen
                            break;               
                        default:
                            getSlidingMenu().setTouchModeAbove(SlidingMenu.TOUCHMODE_MARGIN); //on others page, you can get slidingmenu by swipping the half screen
                            break;
                        }                

                    }
                    @Override
                    public void onPageScrolled(int arg0, float arg1, int arg2) {

                    }
                    @Override
                    public void onPageScrollStateChanged(int arg0) {

                    }
                });
        }

} 
```

在您的 FragmentPageAdapter 上，覆盖

```
 @Override
    public CharSequence getPageTitle(int position) {
        return "your page title for position"
    } 
```

-> activity_main.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/layoutFull"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#66ffffff"
    android:baselineAligned="true"
    android:orientation="vertical" >    

</RelativeLayout> 
```

-> viewPager.xml

```
<?xml version="1.0" encoding="utf-8"?>
<android.support.v4.view.ViewPager xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/viewPagert"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <android.support.v4.view.PagerTabStrip
        android:id="@+id/pager_title_strip"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="top"
        android:background="#fff"
        android:paddingBottom="2dp"
        android:paddingTop="2dp"
        android:textColor="#000" />

</android.support.v4.view.ViewPager> 
```

# python - Go 相当于 Python 的 crypt.crypt 是什么？

> ID：14109915
> 
> 赞同：5
> 
> 时间：2013-01-01T11:11:31.530
> 
> 标签：python, go, des, crypt

我目前正在玩 Violent Python 一书中的一个例子。[你可以在这里](https://github.com/igniteflow/violent-python/blob/master/pwd-crackers/unix-pwd-crack.py)看到我的实现

我现在正在尝试在 Go 中实现相同的脚本来比较性能，请注意我对 Go 完全陌生。打开文件并遍历行很好，但是我无法弄清楚如何使用“crypto”库以与 Python 的 crypt.crypt(str_to_hash, salt) 相同的方式对字符串进行哈希处理。我想可能是这样的

```
import "crypto/des"
des.NewCipher([]byte("abcdefgh")) 
```

但是，没有雪茄。任何帮助将不胜感激，因为将 Go 的并行性能与 Python 的多线程进行比较会非常有趣。

编辑： [crypt.crypt 的 Python 文档](http://docs.python.org/2/library/crypt.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T18:41:00.723

`crypt` is very easy to wrap with cgo, eg

```
package main

import (
    "fmt"
    "unsafe"
)

// #cgo LDFLAGS: -lcrypt
// #define _GNU_SOURCE
// #include <crypt.h>
// #include <stdlib.h>
import "C"

// crypt wraps C library crypt_r
func crypt(key, salt string) string {
    data := C.struct_crypt_data{}
    ckey := C.CString(key)
    csalt := C.CString(salt)
    out := C.GoString(C.crypt_r(ckey, csalt, &data))
    C.free(unsafe.Pointer(ckey))
    C.free(unsafe.Pointer(csalt))
    return out
}

func main() {
    fmt.Println(crypt("abcdefg", "aa"))
} 
```

Which produces this when run

```
aaTcvO819w3js 
```

Which is identical to python `crypt.crypt`

```
>>> from crypt import crypt
>>> crypt("abcdefg","aa")
'aaTcvO819w3js'
>>> 
```

(Updated to free the CStrings - thanks @james-henstridge)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-01T17:59:20.323

我相信目前没有任何公开可用的 Go 包可以实现老式的 Unix“salted”基于 DES 的`crypt()`功能。这与`"crypto/des"`包中实现的正常对称 DES 加密/解密不同（正如您所发现的）。

你必须自己实现它。有很多不同语言（主要是 C）的现有实现，例如在[FreeBSD 源代码](http://svnweb.freebsd.org/base/head/secure/lib/libcrypt/crypt-des.c?view=markup)或[glibc](https://www.gnu.org/software/libc/)中。如果你在 Go 中实现它，请发布它。:)

对于新项目，最好使用一些更强的密码哈希算法，例如[bcrypt](https://en.wikipedia.org/wiki/Bcrypt)。[go.crypto](https://code.google.com/p/go.crypto/)存储库中提供了一个很好的实现。文档可[在此处](http://godoc.org/code.google.com/p/go.crypto/bcrypt)获得。不幸的是，如果您需要使用预先存在的旧密码哈希，这将无济于事。

*编辑添加*：我查看了 Python 的`crypt.crypt()`实现，发现它只是 libc 实现的包装器。为 Go 实现相同的包装器会很简单。但是，您将 Python 实现与 Go 实现进行比较的想法已经破灭：您必须自己实现**它们**才能进行有意义的比较。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-01T11:28:52.117

例如

```
package main

import (
        "crypto/des"
        "fmt"
        "log"
)

func main() {
        b, err := des.NewCipher([]byte("abcdefgh"))
        if err != nil {
                log.Fatal(err)
        }

        msg := []byte("Hello!?!")
        fmt.Printf("% 02x: %q\n", msg, msg)
        b.Encrypt(msg, msg)
        fmt.Printf("% 02x: %q\n", msg, msg)
        b.Decrypt(msg, msg)
        fmt.Printf("% 02x: %q\n", msg, msg)
} 
```

（另外：[http](http://play.golang.org/p/czYDRjtWNR) ://play.golang.org/p/czYDRjtWNR ）

* * *

输出：

```
48 65 6c 6c 6f 21 3f 21: "Hello!?!"
3e 41 67 99 2d 9a 72 b9: ">Ag\x99-\x9ar\xb9"
48 65 6c 6c 6f 21 3f 21: "Hello!?!" 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-03-25T21:53:01.980

好消息！实际上有一个你正在寻找的开源实现。[Osutil](https://github.com/kless/osutil "奥苏蒂尔")`crypt`有一个在纯 Go中重新实现的 crypt 包。

[https://github.com/kless/osutil/tree/master/user/crypt](https://github.com/kless/osutil/tree/master/user/crypt)

# c# - PerformanceCounter 在 WindowsAzure 云上不起作用

> ID：14109918
> 
> 赞同：2
> 
> 时间：2013-01-01T11:11:38.633
> 
> 标签：c#, azure, performancecounter, azure-web-roles

我正在使用带有 Windows Azure 工具的 Visual Studio 2012（2012 年 10 月）。我有 WebService，它对 Windows Azure Cloud 上的实例做了几件事。这工作正常。

现在我想添加一个性能计数器，它以某个时间间隔（2 秒）存储表存储中的总处理器使用量。因此，我在我的 WebRole onStart() 方法中添加了我的性能计数器方法，如下所示：

```
counter = new MyPerformanceCounter();
Thread thread = new Thread(new ThreadStart(counter.run));
thread.Start();
Trace.WriteLine("Thread Started");

return base.OnStart(); 
```

我的性能计数器如下所示：

```
public class MyPerformanceCounter
{
    TableStorageHelper tableHelper;
    PerformanceCounter myCounter;

    public MyPerformanceCounter()
    {
        this.tableHelper = new TableStorageHelper();
    }
    public void run()
    {
        if (!PerformanceCounterCategory.Exists("Processor"))
        {
            Trace.WriteLine("Object Processor does not exist!");
            return;
        }

        if (!PerformanceCounterCategory.CounterExists(@"% Processor Time", "Processor"))
        {
            Trace.WriteLine(@"Counter % Processor Time does not exist!");
            return;
        }

        this.myCounter = new PerformanceCounter("Processor", @"% Processor Time", @"_Total");

        while (true)
        {

            try
            {
                float value = this.myCounter.NextValue();
                Trace.WriteLine(@"Current value of Processor, %Processor Time, _Total= " + value.ToString());
                tableHelper.persist(value);
            }

            catch
            {
                Trace.WriteLine(@"_Total instance does not exist!");
                continue;
            }
            // grep all 2 seconds new data (if exists)
            Thread.Sleep(2000);
        }
    } 
```

当我在本地运行 WebService 时，它​​工作正常。但是当我将它部署到我的云中时，我收到以下错误消息“服务器在检索指标时遇到错误 (InternalError)。重试操作。” 部署过程没有返回任何错误。只有在 Azure admin WebGui 中或当我想使用我的 WebService 时才会显示此错误。

编辑：我添加到我角色的 csdef 文件中：

```
<Runtime executionContext="elevated"></Runtime> 
```

现在 Web 服务启动、运行并发送响应。性能计数器在表存储中创建一个表（因此执行 webrole onstart 中的线程）。但是没有性能数据写入表存储。

EDIT2：这是表存储的代码：

```
using Microsoft.WindowsAzure;
using Microsoft.WindowsAzure.Storage;
using Microsoft.WindowsAzure.Storage.Table;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace WCFServiceWebRole1
{
public class TableStorageHelper
{
    CloudTable table;
    public TableStorageHelper() { init(); }

    private void init()
    {
        CloudStorageAccount storageAccount = CloudStorageAccount.Parse(
            CloudConfigurationManager.GetSetting("mytable"));
        // Create the table client.
        CloudTableClient tableClient = storageAccount.CreateCloudTableClient();

        // Create the table if it doesn't exist.
        this.table = tableClient.GetTableReference("mytable");
        this.table.CreateIfNotExists();
    }

    public void persist(float ProcessorValue)
    {
        PerformanceEntity entity = new PerformanceEntity();
        entity.ProcessorValue = ProcessorValue.ToString();

        TableOperation insertOperation = TableOperation.Insert(entity);

        // Execute the insert operation.
        this.table.Execute(insertOperation);

    }

} 
```

}

和持久性实体：

```
using Microsoft.WindowsAzure.ServiceRuntime;
using Microsoft.WindowsAzure.Storage.Table;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace WCFServiceWebRole1
{
    public class PerformanceEntity : TableEntity
    {
        public PerformanceEntity()
        {
            this.PartitionKey = RoleEnvironment.CurrentRoleInstance.Id;
            this.RowKey = DateTime.Now.ToString();
        }

        public string ProcessorValue { get; set; }

    }
} 
```

有谁知道，为什么我不能在 Azure Cloud 上运行它？

# tabs - Titanium 获取当前标签组

> ID：14109920
> 
> 赞同：0
> 
> 时间：2013-01-01T11:11:45.353
> 
> 标签：tabs, titanium, titanium-mobile, appcelerator-mobile

有没有类似`Ti.UI.CurrentWindow`返回当前标签组的方法`Ti.UI.CurrentTabGroup`？

我想在其中一个应用程序选项卡中向当前选项卡组添加一个选项卡？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T19:55:01.120

不，没有......只需将您的标签组存储为全局变量，您应该没问题

# jsp - 如何在 JSP 文件中编写文件下载以响应

> ID：14109922
> 
> 赞同：2
> 
> 时间：2013-01-01T11:11:48.677
> 
> 标签：jsp, download

当我尝试从响应对象中获取 ServletOutputStream 对象时，我得到了 java.lang.IllegalStateException。下面是我的代码：

```
<%@ page import="java.util.*,java.io.*"%>             

<%
try {
    System.out.print("request came");
    File f = new File ("E:/dd.txt");

    String name = f.getName().substring(f.getName().lastIndexOf("/") + 1,f.getName().length());
    InputStream in = new FileInputStream(f);

    ServletOutputStream outs = response.getOutputStream();

    response.setContentType ("application/txt");
    response.setHeader ("Content-Disposition", "attachment; filename="+f.getName()+"");
    int bit = 256;
    int i = 0;
    try {
        while ((bit) >= 0) {
            bit = in.read();
            outs.write(bit);
        }
    } catch (IOException ioe) {
        ioe.printStackTrace(System.out);
    }
    outs.flush();
    outs.close();
    in.close();         
} catch (Exception ioe) {
    ioe.printStackTrace(System.out);
}
%> 
```

以下是堆栈跟踪：

```
java.lang.IllegalStateException
   at org.apache.jasper.runtime.ServletResponseWrapperInclude.getOutputStream(ServletResponseWrapperInclude.java:63)
   at org.apache.jsp.html.portlet.vitage.custom.QUADWAVE.Procfiledownloadess1_005f36901_005f48.filedownload.downloadscreen_jsp._jspService(downloadscreen_jsp.java:5
   at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)
   at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
   at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)
   at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)
   at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)
   at javax.servlet.http.HttpServlet.service(HttpServlet.java:803) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T12:56:41.813

您正试图通过 JSP 文件中的某些代码下载文件。JSP 作为一种视图技术实际上是不适合这项工作的工具。外部的所有`<% %>`内容（通常是基于文本的内容，如 HTML、XML、JSON 等）也会写入 HTTP 响应，**包括空格**。这只会破坏由 Java 代码编写的下载内容的完整性，如果您正在提供诸如文档/音频/视频文件之类的二进制文件，则更是如此。

您的具体问题是由于 JSP 内部使用`response.getWriter()`打印所有模板内容（外部的所有内容`<% %>`）然后您尝试使用`getOutputStream()`. 这是一个非法的状态。您不能在一个响应中同时使用它们。除了使用`getWriter()`，您可以通过删除外部的**任何**空格来解决它`<% %>`，包括换行符。

所以，更换

```
<%@ page import="java.util.*,java.io.*"%>             

<%
    // Your Java code.
%> 
```

经过

```
<%@ page import="java.util.*,java.io.*"%><%
    // Your Java code.
%> 
```

*（并确保在最后一个之后也没有尾随空格/换行符`%>`）*

但是，您实际上不应该使用 JSP 来完成这项工作。正如所说的工作的错误工具。您应该使用普通的[HTTP servlet 类](https://stackoverflow.com/tags/servlets/info)来完成这项工作。只需创建一个扩展类`HttpServlet`并将您在 JSP 中的所有 Java 代码移动到该`doGet()`方法中即可。最后将该 servlet 映射到 URL 并调用该 URL。

```
@WebServlet("/download")
public class DownloadServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        // Your Java code.
    }

} 
```

[您可以在本文](http://balusc.blogspot.com/2007/07/fileservlet.html)中找到更具体的示例。

### 也可以看看：

*   [如何避免 JSP 文件中的 Java 代码？](https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files/)
*   [在 Java Web 应用程序中从应用程序服务器外部提供静态数据的最简单方法](https://stackoverflow.com/questions/1812244/simplest-way-to-serve-static-data-from-outside-the-application-server-in-a-java/)
*   [如何使用 Servlet 流式传输 MP3、MP4、AVI 等音频/视频文件](https://stackoverflow.com/questions/13588149/how-to-stream-audio-video-files-such-as-mp3-mp4-avi-etc-using-a-servlet)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T12:18:08.723

您收到错误是因为`response.getWriter();`之前已经调用过`response.getOutputStream();`。在服务呼叫中呼叫`getWriter()`和呼叫都是非法的。`getOutputStream()`和 JSP 的，默认使用`getWriter()`.

尝试更换

```
ServletOutputStream outs = response.getOutputStream(); 
```

和

```
PrintWriter outs = response.getWriter(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T12:23:21.943

1.  您是否尝试过使用 jsp 上隐含的“out”？

2.  您的程序是否有权从磁盘读取文件？

谢谢，
普拉泰克

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-27T07:23:38.587

我建议在 servlet 中编写文件下载代码。像这样的东西：

```
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {

        ServletContext sc = request.getServletContext();
        String logFilename = (String) sc.getAttribute("scriptFilename");
        String logFilepath = DOWNLOAD_DIR + File.separator + logFilename + LOGFILE_EXTN;
               log.debug("file name received: "+logFilename);
               log.debug("log file path: "+logFilepath);

        File logFile = new File(logFilepath);
        OutputStream outStream = null;
        FileInputStream inputStream = null;

        if(logFile.exists() && logFile.length()!=0) {

            log.debug(logFile.getName()+": file exits in the directory.");
            String MIME_TYPE = "application/octet-stream";
            response.setContentType(MIME_TYPE);

            String headerKey = "Content-Disposition";
            String headerValue = String.format("attachment; filename=\"%s\"", logFile.getName());
            response.setHeader(headerKey, headerValue);

            try {

                outStream = response.getOutputStream();
                inputStream = new FileInputStream(logFile);
                byte[] buffer = new byte[BUFFER_SIZE];
                int bytesRead = -1;

                while ((bytesRead = inputStream.read(buffer)) != -1) {
                    outStream.write(buffer, 0, bytesRead);
                }

            }catch(IOException io) {

                log.debug("exception occured.."+io.getMessage());

            } finally {

                if(inputStream != null) {

                    inputStream.close();
                }

                outStream.flush();
                if(outStream != null) {

                    outStream.close();
                }
            }

        }else {

            log.debug(logFile.getName()+" :file not found in the directory.");
            response.sendError(HttpServletResponse.SC_NOT_FOUND, "Jmeter Log file not found");
        }
    } 
```

你可以在你的jsp中有一个按钮说“下载”，在onclick的地方，应该调用上面的servlet。通过这种方式，您可以在 JSP 中打印日志。

# c++ - 将双精度转换为 C(++) 中遗传算法的位数组

> ID：14109923
> 
> 赞同：0
> 
> 时间：2013-01-01T11:11:51.187
> 
> 标签：c++, binary, genetic-algorithm

> **可能重复：**
> [浮点到二进制值（C++）](https://stackoverflow.com/questions/474007/floating-point-to-binary-valuec)

目前我正在为我的论文研究一种遗传算法，并且我正在尝试优化一个问题，该问题需要三个双精度才能成为特定解决方案的基因组。对于这些双打的繁殖，我想使用这些双打的二进制表示，为此我必须将双打转换为它们的二进制表示。我已经搜索过这个，但不幸的是找不到明确的解决方案。

这个怎么做？是否有一个库函数来执行此操作，就像在 Java 中一样？任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T11:21:53.167

关于什么：

```
double d = 1234;
unsigned char *b = (unsigned char *)&d; 
```

假设双精度由 8 个字节组成，您可以使用 b[0] ... b[7]。

另一种可能是：

```
long long x = *(long long *)&d; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T12:17:58.510

*   既然你标记了问题 C++ 我会使用[reinterpret_cast](https://stackoverflow.com/questions/573294/when-to-use-reinterpret-cast)
*   对于遗传算法，您可能真正想要的是独立处理双打的尾数、指数和符号。请参阅“[如何提取双精度数的尾数](https://stackoverflow.com/questions/5672960/how-can-i-extract-the-mantissa-of-a-double)”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T19:59:50.437

为什么要使用二进制表示？仅仅因为某些东西更受欢迎，并不意味着它是您特定问题的解决方案。

有一种称为**real**的已知基因组表示，您可以使用它来解决您的问题，而无需提交二进制表示的几个问题，例如汉明悬崖和不同的突变值。

请注意，我不是在谈论尖端的实验性东西。[这篇 1991 年的论文](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.25.5297)已经描述了我正在谈论的问题。如果您说西班牙语或葡萄牙语，我可以向您推荐我关于 GA 的个人书籍，但有一些英文参考资料很好，例如[Melanie Mitchell](https://rads.stackoverflow.com/amzn/click/com/0262631857)或[Eiben](https://rads.stackoverflow.com/amzn/click/com/3642072852)的书籍可以更深入地描述这个问题。

要记住的重要一点是，您需要根据您的问题定制遗传算法，而不是修改您的需求以便能够使用特定类型的 GA。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-01T11:23:11.093

我不会将其转换为数组。我想如果你做遗传的东西，它应该是高性能的。如果我是你，我会使用整数类型（如无关紧要的建议），然后使用 int 操作进行突变和交叉。

如果你不这样做，你总是在来回转换它。对于交叉，您必须遍历 64 个元素。

这是一个交叉的例子：

```
__int64 crossover(__int64 a, __int64 b, int x) {
  __int64 mask1 = ...; // left most x bits
  __int64 mask2 = ...; // right most 64-x bits

  return (a & mask1) + (b & mask2);
} 
```

对于选择，您可以将其转换回双倍。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-01T21:49:57.650

您可以使用一个`int`（或其变体）。

`float`诀窍是将 a of编码`12.34`为`int`of `1234`。

因此，您只需要在适应度函数期间转换为浮点数并除以 100，然后对整数进行所有突变和交叉。

陷阱：

*   如果您确实需要第 n 位，请注意精度损失。
*   当心符号位。
*   请注意浮点数和整数之间的范围差异。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-01T12:12:06.123

你可以这样做：

```
// Assuming a DOUBLE is 64bits

double  d = 42.0; // just a random double
char*   bits = (char*)&d; // access my double byte-by-byte
int     array[64]; // result

for (int i = 0, k = 63; i < 8; ++i) // for each byte of my double
    for (char j = 0; j < 8; ++j, --k) // for each bit of each byte of my double
        array[k] = (bits[i] >> j) & 1; // is the Jth bit of the current byte 1? 
```

祝你好运

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-01T13:13:09.243

从基因组的二进制表示开始，然后使用一点或两点交叉运算符，或者，如果您想为您的 GA 使用真实编码，请使用模拟二进制交叉（SBX）运算符进行交叉。大多数现代 GA 实现使用真实编码表示和相应的交叉和变异算子。

# java - 在 Java 中读取和处理文件的迭代器

> ID：14109926
> 
> 赞同：6
> 
> 时间：2013-01-01T11:12:10.880
> 
> 标签：java, file-io, iterator, iterable

假设我有一个类`Point`和一个函数来处理`Point`实例

```
类点 { 私有最终 int x, y; ... }
...
void handlePoints(Iterable<Point> points) { for (Point p: points) {...} }

```

现在我想`points`从文件中读取。文件的每一行都包含两个数字，所以我有一个函数（“工厂方法”）来`point`从一行创建一个。

```
点 m​​akePoint(String line) { ... }

```

我现在该怎么办？我可以编写一个函数来将文件读取到列表中`points`并调用该`handlePoints`函数。

```
List<Point> readPoints(BufferedReader reader) {...} // 在这里使用 makePoint

无效句柄点（BufferedReader 阅读器）{
   List<Point> points = readPoints(reader);
   处理点（点）；
}

```

不幸的是，这个函数看起来并不是特别优雅，因为它在内存中创建了一个不必要的点列表。

*使用迭代器*不是更好吗？

```
void handlePoints(Iterator<Point> points) {...}

Iterator<Point> readPoints(BufferedReader reader) {...} // 这里使用 makePoint

无效句柄点（BufferedReader 阅读器）{
   迭代器<Point> 点 = readPoints(reader);
   处理点（点）；
}

```

是否有意义？这段代码在 Java 中不会太“嘈杂”吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-01T11:24:27.147

如果您不需要将所有点都保存在内存中，请考虑以下更多内容：

```
while (reader.ready())
{
  String line = reader.readLine();
  Point point = makePoint(line);
  handlePoint(point);
} 
```

如何使用迭代器和 handlePoints 执行此操作：（要添加的异常处理代码）

```
class PointIterator implements Iterator<Point>
{
  BufferedReader reader;
  PointIterator(BufferedReader myReader) { reader = myReader; };
  @Override
  public boolean hasNext() { return myReader.ready(); };
  @Override
  public Point next() { return makePoint(myReader.readLine()); };
  @Override
  public void remove()
  { throw new UnsupportedOperationException("Remove not supported!"); };
} 
```

因为`handlePoints`需要一个`Iterable`：

```
class PointIterable implements Iterable<Point>
{
  BufferedReader reader;
  public PointIterable(BufferedReader myReader) { reader = myReader; };
  @Override
  public Iterator<Point> iterator() { return new PointIterator(reader); }
} 
```

要使用：

```
handlePoints(new PointIterable(reader)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T11:18:50.023

从内存的角度来看，您不会通过使用迭代器真正节省任何内存 - 我猜您会将所有点读入内存，因此它们都必须以某种方式存储。

迭代器不是不同的集合类型：它只是迭代集合的不同方式。例如，您可以`list.iterator()`获取一个迭代器来遍历您的列表（或任何集合）。

选择使用什么集合来保存内存中的所有点是会影响内存的（例如`ArrayList`vs. `LinkedList`）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T11:30:33.893

只需从文件中读取一次并将其保存在内存中，而不是每次都从文件中读取

```
List<Points> points ;

public List<Point> readPoints(BufferedReader reader) {
     if(points == null) {
        points = new ArrayList();
        // read from file and populate 
        points.add(point) ;
     }
 return points;
} 
```

# angularjs - Angular JS 在 POST 请求中验证 CSRF 令牌

> ID：14109927
> 
> 赞同：30
> 
> 时间：2013-01-01T11:12:14.823
> 
> 标签：angularjs, javascript-framework

我正在使用带有 Rails 的 AngularJS。我有以下请求批量更新用户。

```
 $http{
    method: 'POST',
    url: $scope.update_url,
    params: {selected_ids: userIds}
 } 
```

由于 URL 长度的限制，这不能是“GET”请求 (http://support.microsoft.com/kb/208427)

但是对于“POST”请求，我们需要在标头中有一个 CSRF 真实性令牌。

我们如何将 CSRF Token 设置为 post 请求标头？

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2013-01-01T11:39:44.683

您可以按照[$http](http://docs.angularjs.org/api/ng.%24http)服务中的说明设置 http 标头。

您可以全局设置它：

```
$httpProvider.defaults.headers.post['My-Header']='value'   (or)
$http.defaults.headers.post['My-Header']='value'; 
```

或单个请求：

```
$http({
   headers: {
      'My-Header': 'value'
   }  
}); 
```

[这是来自Angular](http://docs.angularjs.org/api/ng.%24http)的重要引用：

> 跨站点请求伪造 (XSRF) 保护 XSRF 是一种技术，未经授权的站点可以通过该技术获取用户的私人数据。Angular 提供了以下机制来对抗 XSRF。在执行 XHR 请求时，$http 服务从名为 XSRF-TOKEN 的 cookie 中读取一个令牌，并将其设置为 HTTP 标头 X-XSRF-TOKEN。由于只有在您的域上运行的 JavaScript 才能读取 cookie，因此您的服务器可以确信 XHR 来自在您的域上运行的 JavaScript。
> 
> 为了利用这一点，您的服务器需要在第一个 HTTP GET 请求时在名为 XSRF-TOKEN 的 JavaScript 可读会话 cookie 中设置一个令牌。在随后的非 GET 请求中，服务器可以验证 cookie 是否与 X-XSRF-TOKEN HTTP 标头匹配，因此确保只有在您的域上运行的 JavaScript 才能读取该令牌。每个用户的令牌必须是唯一的，并且必须可由服务器验证（以防止 JavaScript 组成自己的令牌）。我们建议该令牌是您网站的身份验证 cookie 的摘要，并带有盐以增加安全性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-10T13:59:54.347

如果您想知道如何在 Rails 中实际设置 XSRF-TOKEN cookie 值，这个答案有一个实现[Rails CSRF Protection + Angular.js:protect_from_forgery 让我在 POST 上注销](https://stackoverflow.com/questions/14734243/rails-csrf-protection-angular-js-protect-from-forgery-makes-me-to-log-out-on)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-17T10:56:21.547

I recently faced the same issue and adding the gem [angular_rails_js](https://github.com/jsanders/angular_rails_csrf) solved it. To my understanding it creates for every rails controller a cookie with the rails CSRF-TOKEN that will be catch (default $http behaviour) by angular $http.

# android - 更改片段中的语言正在破坏视图

> ID：14109928
> 
> 赞同：0
> 
> 时间：2013-01-01T11:12:43.187
> 
> 标签：android, android-fragments

我有一个在`MainActivity`其中插入片段的地方。

在片段中有`EditText`, `Button`, `TextView`, `ImageView`。当我在其中输入一些文本时，`EditText`它在`TextView`. 当我单击个人资料图像默认图标（图像视图）时，它会要求我们从 sd 卡上传图像并将其设置为个人资料图像。

如果我转到设置并更改语言以说日语，则在单击提交按钮之前，然后返回我的应用程序后不会使用日语文本刷新相同的内容。甚至上传但未保存的图像也会消失。我有`values-ja`日语脚本。

我`onConfigChanges`在`Activity`. 我也试过了，但那个方法也没有被调用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-12T08:57:44.907

我认为你应该阅读那些文章，然后你可以解决你的问题

[如何在应用程序内更改语言（区域设置）后刷新活动](https://stackoverflow.com/questions/8049207/how-to-refresh-activity-after-changing-language-locale-inside-application)

[在应用程序本身内更改区域设置](https://stackoverflow.com/questions/2264874/changing-locale-within-the-app-itself)

# javascript - fbgetloginstatus: FB 未定义

> ID：14109929
> 
> 赞同：3
> 
> 时间：2013-01-01T11:12:51.520
> 
> 标签：javascript, facebook, login

我收到常见的 JS 错误“未捕获的引用错误：未定义 FB”

关于同一个问题有很多问题，我已经尝试了 stackoverflow 上可用的每个解决方案，但无济于事。显然，人们有时似乎会遇到这个问题，我一直都在遇到这个问题。谁能发现错误？我暂时没有使用 chnnel url 文件

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>
<body>
<div id="fb-root"></div>
<script type="text/javascript">
  window.fbAsyncInit = function() 
 {
    // init the FB JS SDK
    FB.init=({
      appId      : 'xxxxxxxxxxx', // App ID from the App Dashboard
      //channelUrl : 'www.something.in/channel.html', // Channel File for x-domain communication
      status     : false, // check the login status upon init?
      cookie     : true, // set sessions cookies to allow your server to access the session?
      xfbml      : true  // parse XFBML tags on this page?
      }) ;

    // Additional initialization code such as adding Event Listeners goes here
 } ;

</script>

<script type="text/javascript">
  // Load the SDK's source Asynchronously
  // Note that the debug version is being actively developed and might 
  // contain some type checks that are overly strict. 
  // Please report such bugs using the bugs tool.
   (function(d, debug){ 
   var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
     ref.parentNode.insertBefore(js, ref);
   }(document, /*debug*/ false));

FB.getLoginStatus(function(response) {
  if (response.status === 'connected') {
    // the user is logged in and has authenticated your
    // app, and response.authResponse supplies
    // the user's ID, a valid access token, a signed
    // request, and the time the access token 
    // and signed request each expire
    var uid = response.authResponse.userID;
    var accessToken = response.authResponse.accessToken;
    alert(uid) ;
  } else if (response.status === 'not_authorized') {
    // the user is logged in to Facebook, 
    // but has not authenticated your app
    alert("not authorised");
  } else {
    // the user isn't logged in to Facebook.
    alert("NOTHING") ;
  }
 });

</script>

</body>

</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-02T21:43:42.790

你能让基本的例子工作吗？ [https://developers.facebook.com/docs/facebook-login/getting-started-web/](https://developers.facebook.com/docs/facebook-login/getting-started-web/) （第3节下的全文）

当我包含我自己的代码库 FB 从未定义时，我可以获得加载的基本简单示例。事实证明，我已经将“Object”原型化为有一个名为“copyProperties”的方法。我将该方法更改为“copyProps”，现在一切正常。因此，如果 Facebook 出于自己的目的对 Object 进行原型设计，那么我猜还有其他一些潜在的冲突。

当然，这一定是每个人都说不要原型 Object 的原因之一，但它很方便！明明是不可数的，所以不要对我大吼大叫。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-21T18:58:58.837

我有同样的问题，我尝试了一切。我只是通过 jQuery 请求 Facebook 脚本然后对其进行初始化来解决它：

```
$(document).ready(function()
{
    $.getScript("http://connect.facebook.net/en_US/all.js#xfbml=1", function () {
        FB.init({ appId: 'xxxxxxxx', status: false, cookie: true, xfbml: true });
    });
});

FB.getLoginStatus(function(response) {
    if (response.status === 'connected') {
        // the user is logged in and has authenticated your
        // app, and response.authResponse supplies
        // the user's ID, a valid access token, a signed
        // request, and the time the access token 
        // and signed request each expire
        var uid = response.authResponse.userID;
        var accessToken = response.authResponse.accessToken;
        alert(uid) ;
    } else if (response.status === 'not_authorized') {
        // the user is logged in to Facebook, 
        // but has not authenticated your app
        alert("not authorised");
    } else {
        // the user isn't logged in to Facebook.
        alert("NOTHING") ;
    }
}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-02T05:15:18.927

您的代码在 `FB.init=({`.

您必须在 FB.init 之后删除等号，您的代码如下所示：

```
FB.init({
  appId      : 'xxxxxxxxxxx', // App ID from the App Dashboard
  //channelUrl : 'www.something.in/channel.html', // Channel File for x-domain communication
  status     : false, // check the login status upon init?
  cookie     : true, // set sessions cookies to allow your server to access the session?
  xfbml      : true  // parse XFBML tags on this page?
  }) ; 
```

你又犯了一个错误。你的 div id 是 fb-root 但在初始化时你声明了 facebook-jssdk id

只要确保两者应该相同

# javascript - 在 javascript 中调用位于外部的 csv 数据

> ID：14109933
> 
> 赞同：0
> 
> 时间：2013-01-01T11:13:14.483
> 
> 标签：javascript, html, d3.js

我正在尝试将位于外部的 csv 数据加载到脚本中，但我认为由于浏览器[同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)而失败。我发现了一些有关使用[跨文档消息传递](http://www.whatwg.org/specs/web-apps/current-work/multipage/web-messaging.html#web-messaging)解决此问题的相关讨论，但老实说，我不知道如何实现这一点。感谢有关此或其他解决方法的建议。下面的脚本应该将每个数据行打印到浏览器控制台[，但失败](http://d3.geotheory.co.uk/csv2.html)了。

```
<html>
<head>
    <meta charset='utf-8'>
    <script type="text/javascript" src="scripts/d3.v2.js"></script>
    <title>CSV reader</title>
</head>
<body>
    <script type="text/javascript"> 
        d3.csv("http://www.quake.utah.edu/EQCENTER/LISTINGS/OTHER/Yell_Q32012TT.csv", 
        function(parseCoords) {
          parseCoords.forEach(function(d) {
            console.log(d);
          });
        });
    </script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-02-08T12:07:15.387

如果您正在个人计算机上的代码编辑器中编写 HTML 和 Javascript，并在浏览器中测试输出，您可能会收到有关跨域请求的错误消息。您的浏览器将在您的浏览器中呈现 HTML 并运行 Javascript、jQuery、angularJs，而无需设置服务器。但是许多 Web 浏览器被编程为监视跨站点攻击，并会阻止请求。您不希望任何人都能从您的网络浏览器读取您的硬盘。您可以使用运行 Javascript 的 Notepad++ 以及 jQuery 和 angularJs 等框架创建功能齐全的网页；只需使用 Notepad++ 菜单项 RUN、LAUNCH IN FIREFOX 即可测试所有内容。这是开始创建网页的一种很好、简单的方法，但是当你开始创建除了布局之外的任何东西时，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T17:49:32.420

我已经看到链接到下拉框公用文件夹区域中的文件的类似问题。（特别是[https://dl.dropbox.com/u/101577503/D3-Tips-and-Tricks-Latest.pdf](https://dl.dropbox.com/u/101577503/D3-Tips-and-Tricks-Latest.pdf)）。第一次点击网页上的链接时，pdf下载失败，然后刷新就可以了。我不知道为什么会这样，但是当我在 Chrome 中测试您的“http://dl.dropbox.com/u/46043231/data/xy.csv”时，我得到了相同的结果。是否也有可能即使它第一次起作用，您也会受到跨域限制的阻碍？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T16:23:22.533

问题被放弃，因为它似乎无法回答。如果我以后找到解决方案，将更新。

# php - php 博客风格画廊

> ID：14109934
> 
> 赞同：-1
> 
> 时间：2013-01-01T11:13:23.313
> 
> 标签：php

在谷歌上长时间搜索后，我在图片库的 php 代码下面找到了，但它在缩略图上点击后会产生 jquery 效果，而不是 jquery，我想转到显示完整相应图像的其他页面，就像 wordpress 博客一样！

```
<?php
    # SETTINGS
    $max_width = 200;
    $max_height = 200;
    $per_page = 9;
    //$imagedir = 'gallery/';
    $page = $_GET['page'];

    $has_previous = false;
    $has_next = false;

    function getPictures() {
        global $page, $per_page, $has_previous, $has_next;
        if ( $handle = opendir(".") ) {
            $lightbox = rand();
            echo '<ul id="pictures">';

            $count = 0;
            $skip = $page * $per_page;

            if ( $skip != 0 )
                $has_previous = true;

            while ( $count < $skip && ($file = readdir($handle)) !== false ) {
                if ( !is_dir($file) && ($type = getPictureType($file)) != '' )
                    $count++;
                    }

            $count = 0;
            while ( $count < $per_page && ($file = readdir($handle)) !== false ) {
                if ( !is_dir($file) && ($type = getPictureType($file)) != '' ) {
                    if ( ! is_dir('thumbs') ) {
                        mkdir('thumbs');
                    }
                    if ( ! file_exists('thumbs/'.$file) ) {
                        makeThumb( $file, $type );
                    }
                    echo '<li><a href="'.$file.'" rel="lightbox['.$lightbox.']">';

                    echo '<img src="thumbs/'.$file.'" alt="" />';

                    echo '<div class="fb">view</div></a></li>';

                    $count++;

                }

            }

            echo '</ul>';

            while ( ($file = readdir($handle)) !== false ) {
                if ( !is_dir($file) && ($type = getPictureType($file)) != '' ) {
                    $has_next = true;
                    break;
                }
            }
        }
    }

    function getPictureType($file) {
        $split = explode('.', $file); 
        $ext = $split[count($split) - 1];
        if ( preg_match('/jpg|jpeg/i', $ext) ) {
            return 'jpg';
        } else if ( preg_match('/png/i', $ext) ) {
            return 'png';
        } else if ( preg_match('/gif/i', $ext) ) {
            return 'gif';
        } else {
            return '';
        }
    }

    function makeThumb( $file, $type ) {
        global $max_width, $max_height;
        if ( $type == 'jpg' ) {
            $src = imagecreatefromjpeg($file);
        } else if ( $type == 'png' ) {
            $src = imagecreatefrompng($file);
        } else if ( $type == 'gif' ) {
            $src = imagecreatefromgif($file);
        }
        if ( ($oldW = imagesx($src)) < ($oldH = imagesy($src)) ) {
            $newW = 220;
            $newH = $max_height;
        } else {
            $newW = $max_width;
            $newH = 200;
        }
        $new = imagecreatetruecolor($newW, $newH);
        imagecopyresampled($new, $src, 0, 0, 0, 0, $newW, $newH, $oldW, $oldH);
        if ( $type == 'jpg' ) {
            imagejpeg($new, 'thumbs/'.$file);
        } else if ( $type == 'png' ) {
            imagepng($new, 'thumbs/'.$file);
        } else if ( $type == 'gif' ) {
            imagegif($new, 'thumbs/'.$file);
        }
        imagedestroy($new);
        imagedestroy($src);
    }
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:20:48.703

从输出图像的循环`rel`中的锚元素中删除属性。`while`这将阻止灯箱脚本将事件绑定到此链接，因此当用户单击它时，他们将被简单地重定向到`href`属性中指定的图像。

换句话说，而不是

```
echo '<li><a href="'.$file.'" rel="lightbox['.$lightbox.']">'; 
```

采用

```
echo '<li><a href="'.$file.'">'; 
```

# php - Android 中的动态数据

> ID：14109935
> 
> 赞同：-3
> 
> 时间：2013-01-01T11:13:59.133
> 
> 标签：php, android, database

我正在显示我的数据库字段中的值。当我从数据库更改值时，我需要重新启动活动以查看新值。

现在，我正在寻找一个可以不断检查新值的代码块。

谢谢。

> Blockquote 这是我的第一篇文章。很抱歉我使用的标题或语言。块引用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:26:10.487

好吧，没有人会为您编写代码块。但是是的，建议您可以使用线程和/或 AsyncTask 来执行此操作。据我所知，AsyncTask 是最好的选择。这里有一些教程可以帮助你..

1.[这是 AsyncTask 的最佳教程](http://www.vogella.com/articles/AndroidPerformance/article.html)

2.[官方安卓开发。关联](http://developer.android.com/reference/android/os/AsyncTask.html)

3.[这个也不错](http://www.xoriant.com/blog/mobile-application-development/android-async-task.html)

好运

# android - Android - 为 android Tab 设置启动活动

> ID：14109938
> 
> 赞同：0
> 
> 时间：2013-01-01T11:14:09.973
> 
> 标签：android, android-layout, tabs

我有四个活动的简单 Tablayout。这是它的xml

```
 <?xml version="1.0" encoding="utf-8"?>
 <TabHost xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/tabhost"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"

    >
    <LinearLayout
        android:orientation="vertical"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent">

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:layout_weight="1"
            android:background="@drawable/bg1"
            />
        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" 
            android:layout_weight="0"
            android:layout_marginBottom="-4dp"
            />
    </LinearLayout>
</TabHost> 
```

当它启动时，连接到 tab0 的活动默认启动

我需要的是在任何活动开始如下所示之前创建开始布局！[] [http://i49.tinypic.com/2ugf3op.png](http://i49.tinypic.com/2ugf3op.png)

我不知道应该把活动的布局放在哪里

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:26:46.310

默认情况下，在 android 中，总是默认选择第一个选项卡。你可以做的是让用户混淆没有选择任何内容是你更改选项卡的可绘制对象。默认情况下取消选择所有选项卡，并在框架布局中将内容设置为图像。然后，一旦用户单击选项卡，然后更改该选项卡的颜色，然后开始活动。默认情况下，连接到 tab0 的活动将始终启动。但是你可以在那里做一个检查条件，如果用户没有点击任何东西，那么显示一些带有背景的空白屏幕或以其他方式启动活动。

**更新**
默认情况下，根据您的意愿打开一些带有一些视图的空活动。这将在用户使用选项卡打开活动时立即显示。然后你可以`OnTabChangeListener`实现该活动并覆盖`onTabChanged()`

```
 public void onTabChanged(String tabId) {
            if (tabId.equals("TAB 0")) {
                  // Show your actual activity here
            } 
        } 
```

# jquery - jquery click 事件中 ASP 中继器中的透明链接按钮

> ID：14109941
> 
> 赞同：1
> 
> 时间：2013-01-01T11:15:33.437
> 
> 标签：jquery, asp.net, repeater, transparent, asplinkbutton

**简介**：

我有一个带有链接按钮的中继器，当我单击某个按钮时，我希望它并且只有它变得透明，并且其余按钮不会改变。

**D尾：**

我有一个 LinkBut​​tons 中继器：

```
<div style="position: relative">
<asp:Repeater runat="server" ID="repStatuses" 
        onitemdatabound="repStatuses_ItemDataBound"
        onitemcommand="repStatuses_ItemCommand">
  <ItemTemplate>
        <div id="divLinkBtn" style="display:inline"><asp:LinkButton ID="linkBtnStatuses" runat="server" CommandName="ShowText" 
            CommandArgument='<%# Eval("Priority") + ";" + Eval("LevelID") + ";" + Eval("ID") %>'
            OnClientClick='<%# "MyFunc(" + Eval("Priority") + ");" %>'>
            <div runat="server" id="divSts" class="fontAriel" ></div>
        </asp:LinkButton></div>
  </ItemTemplate>
    </asp:Repeater>
</div> 
```

LinkBut​​tons 使用以下 Jquery 函数在 Page_Load 上淡入。这是 Page_Load 和 jquery 代码：

**页面加载：**

```
protected void Page_Load(object sender, EventArgs e)
{
    SetPageTitle();

    if (!Page.IsPostBack)
    {
        LoadStatusesAndButtons();

        ScriptManager.RegisterStartupScript(this.Page, this.GetType(), "tmp", "<script type='text/javascript'>LoadBarWithFadeIN();</script>", false);
    }

    else
        ScriptManager.RegisterStartupScript(this.Page, this.GetType(), "tmp", "<script type='text/javascript'>LoadBar();</script>", false);

} 
```

**jQuery**

```
function LoadBarWithFadeIN() {
$(document).ready(function () {

    $('a[id*="repStatuses"]').each(function () {
        $(this).show(2500);
        $(this).delay(1000);
    });
}); 
```

}

```
function LoadBar() {
$(document).ready(function () {

    $('a[id*="repStatuses"]').each(function () {
        $(this).show(0);

    });
}); 
```

}

当我单击某个 LinkBut​​ton 时，它会变成透明的。我发现这只`code`会使第一个 linkBut​​tons 透明：

```
 $(document).ready(function () {
  $('#divLinkBtn').click(function () {
      alert('divlinkbutton presed');
      $(this).css({ 'opacity': 0.4 });
  });
}); 
```

**问题是**按钮变得透明一秒钟，然后页面加载`LoadBar()`功能并且透明度消失。 **另一件事**是这个函数不处理其余的按钮。

**现在我需要的是**这个链接按钮应该保持透明，直到我点击其他链接按钮。

我正在考虑一种方法来按原样加载所有未点击的按钮，并以某种方式加载具有透明度的特定点击按钮，但由于缺乏编码经验，我找不到这样做的方法。

对不起“短”的帖子:)

任何帮助将不胜感激！！！！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T08:10:29.463

睡个好觉后，这里有一个简单的（虽然不是最优雅的）解决方案：

```
 protected void repStatuses_ItemCommand(object source, RepeaterCommandEventArgs e)
{
   SetAsOriginal();

    //Get the linkbutton that was clicked
    LinkButton lnkBtnClicked = e.CommandSource as LinkButton;       //e- is the object of the repeater. CommandSource- is the clicked
    if (lnkBtnClicked != null)
    {
        SetOpacity(lnkBtnClicked, "0.4");
    }

private void SetAsOriginal()
{
    foreach (RepeaterItem item in repStatuses.Items)
    {
        LinkButton btn = item.FindControl("linkBtnStatuses") as LinkButton;
        SetOpacity(btn, "1.0");
    }
}

private void SetOpacity(LinkButton linkButton, string opacityValue)         //SET THE OPACITY TO THE SPECIFIC linkbutton 
{
    linkButton.Style.Add("opacity", opacityValue);
} 
```

问题是，上面的答案非常好并且有效，但没有满足我的要求。**我只需将单击的按钮设置为透明**，其余按钮将设置回原始按钮。

所以我决定为那些可能遇到类似问题的人指定解决方案。

谢谢大家。

Ps：特别感谢@Lukasz M

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T12:56:25.757

该按钮在第二个页面加载后重新出现的可能原因是您在 jQuery 中所做的更改未保存在 ViewState 中，因此不会在回发中保留。如果您在单击时获得回发`LinkButton`，您可以保存它在服务器端被单击的信息（即在处理单击事件的 c# 代码中添加*单击的类）。*然后，您可以更改客户端脚本以`LinkButton`使用此类为所有控件设置透明度（以及对最近单击的按钮的一些特殊处理）。您也可以只定义一个类，为元素提供适当的透明度设置。让我知道您是否需要有关此代码的任何帮助。

关于第二个问题，请注意您通过 ID 获取元素，并且它应该在 html 页面的范围内是唯一的。这可能就是为什么它只适用于第一个。要使其适用于所有元素，请改用类。您可以像这样在您的 aspx 中分配一个类：

```
<div id="divLinkBtn" class="divLnkBtnClass" style="display:inline">... </div> 
```

并像这样分配点击处理程序：

```
$(document).ready(function () {
$('.divLnkBtnClass').click(function () {
  alert('divlinkbutton presed');
  $(this).css({ 'opacity': 0.4 });
});
}); 
```

这应该使脚本适用于所有`div`s。

我还没有测试过这个代码，所以如果你有任何问题，请告诉我，我可以修复它并帮助你让它正常工作。

**更新**

很少有方法可以保持回发的透明度。您在每次单击项目时都会获得回发，因此我认为保存它并在服务器端恢复它将是实现所需效果的最简单方法之一。

*   首先，在代码隐藏中向您的页面添加一个私有字段：

    ```
    private List<String> itemsClicked = null; 
    ```

    和`HiddenField`你的 aspx 中的一个控件（在控件**之外**`Repeater`）：

    ```
    <asp:HiddenField runat="server" ID="hfButtonsClicked" Value="" /> 
    ```

    我们将使用它`HiddenField`来保存已单击`ClientID`的控件。`LinkButton`

*   然后，在`Page_Load`方法中，使用隐藏字段中的值初始化字段：

    ```
    protected void Page_Load(object sender, EventArgs e)
    {
        SetPageTitle();

        //initialize itemsClicked before binding data to the repeater
        itemsClicked = hfButtonsClicked.Value.Split(new char[] { ';' }, StringSplitOptions.RemoveEmptyEntries).ToList();

        if (!Page.IsPostBack)
        {
            LoadStatusesAndButtons();

            ScriptManager.RegisterStartupScript(this.Page, this.GetType(), "tmp", "<script type='text/javascript'>LoadBarWithFadeIN();</script>", false);
        }
        else
        {
            ScriptManager.RegisterStartupScript(this.Page, this.GetType(), "tmp", "<script type='text/javascript'>LoadBar();</script>", false);
        }
    } 
    ```

*   接下来，在页面中添加一个新方法，将在下一步中使用：

    ```
    private void SetOpacity(LinkButton linkButton, string opacityValue)
    {
        linkButton.Style.Remove("opacity");
        linkButton.Style.Add("opacity", opacityValue);
    } 
    ```

*   最后一件事是在单击项目时添加保存 id 的代码，您可以使用单击事件或仅使用现有的`OnItemCommand`事件处理程序：

    ```
    protected void repStatuses_ItemCommand(object source, RepeaterCommandEventArgs e)
    {
        //get LinkButton that was clicked
        LinkButton lnkBtnClicked = (e.CommandSource as LinkButton);
        if (lnkBtnClicked != null)
        {
            //if item was not clicked before, so the opacity is not set
            if (lnkBtnClicked.Style["opacity"] == null)
            {
                //save control ClientID in the HiddenField
                hfButtonsClicked.Value += String.Format(";{0}", lnkBtnClicked.ClientID);

                SetOpacity(lnkBtnClicked, "0.4");
            }
        }

        //the rest of the original code should be here
        //...
    } 
    ```

以及当项目绑定数据时在回发后恢复不透明度的方法：

```
 protected void repStatuses_ItemDataBound(object sender, RepeaterItemEventArgs e)
    {
        LinkButton lnkBtn = (e.Item.FindControl("linkBtnStatuses") as LinkButton);

        if (lnkBtn != null)
        {
            //if item was clicked before, so the opacity should be restored
            if (itemsClicked.Contains(lnkBtn.ClientID))
            {
                SetOpacity(lnkBtn, "0.4");
            }
        }

        //the rest of the original code should be here
        //...
    } 
```

我在示例应用程序中实现了这一点，它似乎按预期工作。如果您在使用此代码时遇到任何困难，请告诉我。

**补充说明**

您也可以使用[`ViewState`](http://msdn.microsoft.com/en-us/library/bb386448%28v=vs.100%29.aspx)对象而不是附加`HiddenField`控件，但如果您想更改解决方案以最终在 jQuery 中保存/恢复不透明度，使用 a`HiddenField`应该更容易。

还应该对代码进行一些改进（即将字符串分隔符移动到只读变量或不对 opacity 属性的值进行硬编码），但我这样写是为了使答案更短，更容易理解读。

# python - 如何清理深度嵌套的字典访问？

> ID：14109947
> 
> 赞同：-1
> 
> 时间：2013-01-01T11:16:57.437
> 
> 标签：python, refactoring, nested

这是网络抓取项目中使用的 python 类内部的一个片段。我想遍历一个新抓取的数据字典，将其与每个级别的先前抓取的索引进行比较，并将需要更新的值添加到另一个深度嵌套的字典以供以后处理。我可以使用什么策略来清理它并仍然获得相同的结果？

```
self.new_stats[tour] = {}
parsed_stats = parse_stat_year(CURRENT_STAT_YEAR, self.scraped_stats_index[tour])

for pname, stats_by_year in parsed_stats.items():
  if pname in self.raw_players_with_stats[tour]:
    player = self.raw_players_with_stats[tour][pname]

    if 'stats' in player:
      for y, stats_by_cat in stats_by_year.items():
        if str(y) in player['stats']:
          for cat, stat in stats_by_cat.items():
            if cat in player['stats'][str(y)]:
              for prop, val in stat.items():
                if (not prop in player['stats'][str(y)][cat]) or (player['stats'][str(y)][cat][prop] != val):
                  self.new_stats[tour].setdefault(pname,{}).setdefault(y,{}).setdefault(cat,{})[prop] = val
            else:
              self.new_stats[tour].setdefault(pname,{}).setdefault(y,{})[cat] = stat
        else:
          self.new_stats[tour].setdefault(pname,{})[y] = stats_by_cat
    else:
      self.new_stats[tour][pname] = stats_by_year

  elif pname in self.new_player_urls[tour]:
    self.new_stats[tour][pname] = stats_by_year 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T16:14:22.370

我将从[单元测试](http://docs.python.org/2/library/unittest.html)开始，以确保在每次重构迭代之后我的代码仍然有效。

我会使用有意义的数据结构和方法，因此代码更具[自我描述性](http://en.wikipedia.org/wiki/Self-documenting)。如果您不想推出单独的数据持有者类，有时您会发现[namedtuple对此非常有用。](http://docs.python.org/2/library/collections.html#collections.namedtuple)

最后，我会将这个又大又丑`if...for...else`的块分解成有意义的更小的块，如下所示：

```
# instead of this original code...

for pname, stats_by_year in parsed_stats.items():
  if pname in self.raw_players_with_stats[tour]:
    #...
  elif pname in self.new_player_urls[tour]:
    self.new_stats[tour][pname] = stats_by_year

# you get something like this

for player_name, stats_by_year in parser_stats.iteritems():
  if self.has_raw_player(player_name):
    self.process_new_raw_player(player_name, stats_by_year)
  elif self.is_player_new(player_name):
     self.insert_new_stat_for_player( player_name, stats_by_year ) 
```

更容易阅读、测试和理解

而且，如果你有空闲时间，我会花时间阅读[Robert Martin 的 Clean Code](https://rads.stackoverflow.com/amzn/click/com/0132350882)。它一定会得到回报的！

**编辑**

像这样清理冗长且难以阅读的单行

```
#...
self.new_stats[tour].setdefault(pname,{}).setdefault(y,{}).setdefault(cat,{})[prop] = val
#... 
```

例如，它看起来像这样：

```
def insert_new_stat(self, tour, pname, y, cat, prop, val):
  player_stat = self.new_stats[tour].setdefault(pname, {})
  y_param = player_stat.setdefault(y, {}) # what is y??
  category_stats = ...
  prop_stats = ...
  ... = val 
```

您的代码肯定会更加冗长和冗长，尽管[显式优于隐式](http://www.python.org/dev/peps/pep-0020/)

# python - scipy hypergeom 函数为某些特定值花费的无限时间

> ID：14109952
> 
> 赞同：2
> 
> 时间：2013-01-01T11:17:25.970
> 
> 标签：python, statistics, scipy

我正在`hypergeom`使用`scipy.stats`. 尽管它适用于大多数参数，但它对某些特定参数没有任何作用。例如。以下作品，

```
from scipy import stats

stats.hypergeom.interval(.94, 187601, 43192, 757)
(153.0, 196.0)

stats.hypergeom.interval(.93, 187601, 43192, 757)
(154.0, 195.0)

stats.hypergeom.interval(.96, 187601, 43192, 757)
(151.0, 198.0) 
```

但是，将参数更改为 .95 不会产生任何答案。

```
stats.hypergeom.interval(.95, 187601, 43192, 757) 
```

我错过了什么还是它是一个错误`scipy`？

# c# - 使用受限用户帐户更改网络设置

> ID：14109954
> 
> 赞同：0
> 
> 时间：2013-01-01T11:17:37.127
> 
> 标签：c#, winforms, windows-services, wmi, ip-address

> **可能重复：**
> [如何使用 C# 中的代码更改网络设置（IP 地址、DNS、WINS、主机名）](https://stackoverflow.com/questions/209779/how-can-you-change-network-settings-ip-address-dns-wins-host-name-with-code)

**开发一个程序（C#/ winForm），可以使用受限用户帐户更改 ip 和 dns 设置。**

最初，我的程序是基于以下代码项目示例开发的：[SwitchNetConfig - 笔记本电脑用户，快速切换不同地方的网络和代理配置](http://www.codeproject.com/Articles/6975/SwitchNetConfig-Laptop-users-quickly-switch-networ)

但是，我发现由于权限问题，该程序无法在受限用户帐户下运行

经过一些研究，我知道我可以通过

1.  构建和安装服务 [在 LocalSystem 帐户下运行]
2.  创建一个可以在受限用户模式下运行的小型客户端，该客户端将命令服务更改 IP 和 dns 设置。

【思路来自：[账号受限更改IP地址](https://stackoverflow.com/questions/192544/ip-address-change-with-limited-account)】

但是，我仍然不知道如何与服务通信并命令服务根据用户的输入来更改 IP 和 dns 设置[在 winForm 程序中]。

如果您能与我分享一些想法或示例，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:24:37.180

简单的。一旦你意识到你真的很不擅长提问并跳过你写的所有不相关的废话，你就会得到一个简单的问题：

如何在 C# 中更改网络设置？

WInforms - 无关紧要。有限的用户帐户 - 无关紧要。解释你如何沟通 - 无关紧要。你的午餐——也无关紧要，谢天谢地，你没有把它包括在内。

然后，剩下的是[如何使用 C# 中的代码更改网络设置（IP 地址、DNS、WINS、主机名）的副本](https://stackoverflow.com/questions/209779/how-can-you-change-network-settings-ip-address-dns-wins-host-name-with-code)

就这么简单。

因为根据您的问题，除了更改之外的所有内容都已到位 - 一个 Windows 服务，与命令它的客户端交谈。对于您提出的问题，这确实是完全无用的信息。

# c - 如何在cuda中输入字符串数组进行快速排序

> ID：14109957
> 
> 赞同：0
> 
> 时间：2013-01-01T11:17:54.053
> 
> 标签：c, cuda, quicksort

我正在尝试运行此代码以快速排序而无需递归，它在我输入一个 char 数组时运行，但是当我尝试输入字符串时，它在输出中返回符号而不是字符串。

因此，如果有人知道我在这段代码中犯了什么错误，我将不胜感激。因为我的计划是读取文件txt并将信息表单文件存储在一个数组中，然后在快速排序中输入这个数组。

此代码在 CUDA 中实现。

```
void quick_p(char c[][30], int count)
{
   int partitions[1024];
   int newpartitions[1024];

   partitions[0]=0;
   partitions[1]=count-1;
   int threads=1;

   char *dev_c;
   cudaMalloc((void**)&dev_c, count * sizeof( char));

   int *dev_p;
   int *dev_pn;
   cudaMalloc((void**)&dev_p , 1024 * sizeof(int));
   cudaMalloc((void**)&dev_pn, 1024 * sizeof(int));

   cudaMemcpy(dev_c, c, count * sizeof( char), cudaMemcpyHostToDevice);

   while(true)
   {
        cudaMemcpy(dev_p, partitions , sizeof(partitions), cudaMemcpyHostToDevice);
        cudaMemcpy(dev_pn, newpartitions , sizeof(newpartitions), cudaMemcpyHostToDevice);

        Split<<<1,threads>>>(&dev_c,dev_p,dev_pn,threads);

        // get result back and loop again
        cudaMemcpy(newpartitions,dev_pn, sizeof(partitions), cudaMemcpyDeviceToHost);

        int tmp=0;
        for(int i=0;i<threads*2;i++)
        {
            int idx=i*2;
            if (newpartitions[idx]<newpartitions[idx+1] && newpartitions[idx+1]-newpartitions[idx]>=1)
            {
                partitions[tmp]=newpartitions[idx];
                partitions[tmp+1]=newpartitions[idx+1];
                tmp+=2;
            }
        }
        threads=tmp/2;

        if (threads==0)
            break;
    } // end main loop

    cudaMemcpy(c,dev_c, count* sizeof(unsigned char), cudaMemcpyDeviceToHost);

    cudaFree(dev_c);
    cudaFree(dev_p);
    cudaFree(dev_pn);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T02:33:10.960

好吧，我尝试了下面的定义风格，而不是“int partitions[1024];”。//test 有 10 个元素。（您需要将 10 更改为 1024）然后将所有值设置为 0。

```
unsigned int *test;
test=(unsigned int*) malloc(10*sizeof(unsigned int));
test=new unsigned int[10];
for(int w=0;w<10;w++)
    test[w]=0; 
```

# php - 为通过 PHPExcel 生成的 excel 创建用户定义的函数

> ID：14109959
> 
> 赞同：2
> 
> 时间：2013-01-01T11:18:14.313
> 
> 标签：php, phpexcel

我是 PHPExcel 的新手，我想知道 PHPExcel 是否可以为 PHPExcel 生成的 excel 创建用户定义的函数？（输出格式 .xlsx）

我用谷歌搜索了一个日志，但找不到任何有用的信息。

如果有任何其他满足此要求的 php API，请提出建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:29:13.883

简单回答：用 PHPExcel 创建 Excel 用户定义函数是不可能的

如果您想从 PHP 脚本在 Excel 中创建 UDF，那么您唯一的选择是使用[COM](http://www.php.net/manual/en/book.com.php)。没有其他 PHP 库支持此功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:48:51.243

可能它对你有帮助。转到此站点并单击下载按钮。 [http://phpexcel.codeplex.com/](http://phpexcel.codeplex.com/) 它包含一些可以帮助您解决问题的脚本。

# jquery - 在 jQuery 中为 css 的前后选择器设置动画

> ID：14109964
> 
> 赞同：2
> 
> 时间：2013-01-01T11:18:32.647
> 
> 标签：jquery, css, pseudo-element

是否可以在 jQuery 的 .animate() 函数中为 CSS 的选择器 :before 和 :after 设置动画？如果不是，那么最好的选择是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T11:53:59.800

简而言之，不 - jQuery 不支持伪元素动画甚至我相信的选择器。

但是，您可以使用 css3 转换为伪元素设置动画，但请注意，目前*只有*Firefox 4.0+ 支持它，因此您的游戏空间非常有限。

如果这很重要，只需在要为其设置动画的元素中创建新的子元素。

# 更新

自 2013 年 1 月 1 日起[，Chrome 现已支持](http://trac.webkit.org/changeset/138632)伪元素动画/过渡。

[您可以在此处](https://css-tricks.com/transitions-and-animations-on-css-generated-content/)找到浏览器支持表。

# java - 在java中的静态块之前或之后声明静态变量的区别

> ID：14109965
> 
> 赞同：3
> 
> 时间：2013-01-01T11:18:48.180
> 
> 标签：java

**代码1：**

```
 public class StaticBlockExample1
      {
        static {  value = 20;  }

        static int value = 10;
        public static void main(String[] args) {

              System.out.println(" Value = " + value);
        }
    } 
```

StaticBlockExample1 的输出为 10

**代码2：**

```
 public class StaticBlockExample2 
      {
        static int value = 10;
        static {    value = 20;     }   

        public static void main(String[] args)
           {
            System.out.println(" Value = " + value);
           }
      } 
```

StaticBlockExample2 的输出为 20。

我对上述示例的输出感到困惑。在静态块之前或之后声明静态变量有什么意义吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-01T11:22:48.040

是的，静态块和静态字段初始化按照它们在输入文件中的顺序执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T11:25:54.507

最重要的是您的初始化顺序。- 第一种情况 - 10 被定义为第二种

静态整数值 = 10；

在第二种情况下，块是第二个

```
 static {
            value = 20;
        } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T11:29:24.537

初始化顺序不同

首先：在变量声明之前定义静态块

第二：在变量声明之后定义静态块

# ruby-on-rails - 使用 private_pub gem

> ID：14109967
> 
> 赞同：0
> 
> 时间：2013-01-01T11:19:10.253
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rubygems, private-pub

我想使用 private_pub gem 来跟随这个截屏视频：[http ://railscasts.com/episodes/316-private-pub](http://railscasts.com/episodes/316-private-pub)

但是，当我运行时`rails g private_pub:install`，我收到此错误`Could not find hiredis-0.3.2 in any of the sources`。

但是，运行 bundle install install 大多数依赖 项会`fatal error: sys/socket.h: No such file or directory`在尝试安装hiredis时给出。

那么，如何在 Windows 7 中使用 private_pub？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:59:00.703

```
Could not find hiredis-0.3.2 is any of the sources 
```

*   Windows 7的

Windows 上不支持hiredis（截至此答案）。[您可以在hiredis](https://github.com/redis/hiredis)的github 存储库中查看Windows 的拉取请求

*   [https://github.com/redis/hiredis/pull/52](https://github.com/redis/hiredis/pull/52)
*   [https://github.com/redis/hiredis/pull/139](https://github.com/redis/hiredis/pull/139)
*   [https://github.com/redis/hiredis/pull/48](https://github.com/redis/hiredis/pull/48)

关于您的 private_pub gem-railscast 视频上的评论显示该[问题在 Windows 上已经出现了](http://railscasts.com/episodes/316-private-pub?view=comments#comment_155628)一段时间

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T09:33:21.887

我可以`private_pub`在windows上使用。我很久以前就这样做了，但我运行`private_pub`的是：

```
bundle exec private_pub.ru -s thin -E production 
```

它仅适用于 ruby​​ 1.9.2。我在 1.9.3 上没有成功。

# android - 在 Android 中替代 DatatypeConverter.printHexBinary(byte[] array) 和 DatatypeConverter.parseHexBinary(String str)

> ID：14109970
> 
> 赞同：14
> 
> 时间：2013-01-01T11:19:31.193
> 
> 标签：android, string, bytearray, type-conversion

什么是`DatatypeConverter.printHexBinary(byte[] array)`和 `DatatypeConverter.parseHexBinary(String str)`在 Android 中的替代品。Android 没有 classDef `java.xml.bind.DatatypeConverter`...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-13T14:58:32.737

您最好使用 Apache [commons codec library](http://commons.apache.org/codec/)中的十六进制编码/解码。请确保您使用的是正确版本的库，有关更多信息，请查看[此处](https://stackoverflow.com/questions/2047706/apache-commons-codec-with-android-could-not-find-method)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-11-04T06:57:55.063

对于 android (gradle) 依赖项，只需使用

```
implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.2.12-b140109.1041'
implementation group: 'xerces', name: 'xercesImpl', version: '2.12.0' 
```

# c++ - 我可以在派生类中继承私有成员吗？

> ID：14109972
> 
> 赞同：1
> 
> 时间：2013-01-01T11:20:12.960
> 
> 标签：c++, inheritance

我有一个基本数据成员类：

```
class DataClass {
} 
```

和一个子类：

```
class DerivedDataClass : public DataClass {
} 
```

我使用 DataClass 作为类的私有成员，DataClassList

```
class DataClassList {
  public:
    // some useful functions here
  private:
    DataClass private_data;
} 
```

我想继承 DataClassList 来创建一个可以对 DerivedDataClass 进行操作的类

```
class DerivedDataClassList : public DataClassList {
  // how do i get this class to use DerivedDataClass as the private member?
} 
```

这可以在 C++ 中以某种形式完成吗？

编辑：添加一些关于我正在尝试做的更多注释：

`DataClass`有一些我不想重新定义的有用功能，`DerivedDataClass`并且`DerivedDataClass`有自己的功能。所以，继承是有道理的。到目前为止一切都很好。

下一个层次是问题。`DataClassList`具有依赖于功能的有用`DataClass`功能。*除了*基类提供的有用功能外，`DerivedDataClassList`还需要访问数据/运行功能。`DerivedDataClass`

 *由于无法将私有`DataClass`成员更改为 in `DataClassList`，`DerivedDataClass`我无法从`DerivedDataClass`in调用函数`DerivedDataClassList`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-01T11:28:06.097

基本上，你没有。私有意味着私有——它只属于那个类。正确的方法是有一个访问函数。

如果这个类对访问该成员有特殊要求，那么它应该受到保护[然而，这是一个相当愚蠢的概念，因为它根本没有提供任何保护——任何想要进入该领域的人只需要从班级，瞧，他们可以免费访问]。

感谢 jogojapan 指出我错过了一点。使用模板的答案是一种解决方案。另一种是在基类中使用一个指针，然后有一个访问器函数将其设置`private_data`为提供的类成员。哪个是“正确的”取决于你想做什么。例如，如果它是某种元素的列表（例如图形对象（窗口、菜单等）或游戏对象），并且您实际上希望它们是一个列表 [或几个类似的列表]，那么使用指针是正确的解决方案。如果您有几种不同类型的对象从未以通用方式使用过，那么模板类可能是正确的选择。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-01T11:31:05.733

一旦为此使用继承，您将从`private_data`基类中获取成员作为派生类的成员，尽管它是不可访问的成员。您不能更改派生类中基类成员的数据类型。

我相信在您的情况下使用类模板会更好：

```
template <typename Data>
class DataClassList
{
public:
  /*...*/
private:
  Data private_data;
}; 
```

您只需将上面的定义编写一次，但您可以按如下方式创建实例：

```
DataClassList<DataClass>         standard_list;
DataClassList<DerivedDataClass>  derived_list; 
```

前者是一个包含一个`DataClass`成员的对象，后者是一个包含一个`DerivedDataClass`成员（并且没有其他成员）的对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T11:27:37.913

我假设你`DataClass`想`private_data`在`DerivedDataClassList`. 如果你想使用`DerivedDataClass`，那么你需要声明`DerivedDataClass`某个地方的对象（我没有看到`DerivedDataClass`任何地方的对象）。或者你需要继承`DerivedDataClass`——我在你的代码中也没有看到。

```
class DataClassList 
{
    protected:
        DataClass private_data;
};

class DerivedDataClassList : private DataClassList 
{
    // DataClass object private_data is like a private member here
}; 
```

如果您`private_data`作为 of 的`protected`成员`DataClassList`而不是 of`private`并且您将`DataClassList`a `private base class`of设为`DerivedDataClassList`，则`private_data`其行为类似于 的`private`成员`DerivedDataClassList`。

如果您的原始问题没有输入错误，并且您实际上希望 DerivedDataClass 对象作为私有成员，那么您可以使用指针。

```
class DataClassList 
{
    public:
        DataClassList(DataClass * p) : private_data(p) {}
    protected:
        DataClass * private_data;
};

class DerivedDataClassList : private DataClassList 
{
    public:
    DerivedDataClassList():DataClassList(new DerivedDataClass) { }

    // private_data which a pointer to a DerivedDataClass object is like a private member here. 
}; 
```*

# github - 将提交的文件推送到 GitHub

> ID：14109977
> 
> 赞同：1
> 
> 时间：2013-01-01T11:20:52.853
> 
> 标签：github, push, commit

我在 GitHub 中有存储库。我在我的 PC 中编辑了文件，提交了它们，现在我想将这些文件推送到 GitHub。我该怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-01T11:28:01.283

如果文件已经从 github 存储库克隆`git push`，则可以这样做。

```
cd /path/to/repo
git push 
```

如果此本地 repo 不属于任何 github repo，请在 github 中创建一个存储库。这会给你一个 git repo url，比如`git://github.com/username/project.git`. 现在您需要将此 url 作为远程添加到您现有的本地存储库

```
cd /path/to/repo
git remote add origin git://github.com/username/project.git 
```

然后你可以提交你的更改并推送它

```
git push 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:22:28.347

转到 github 并在您的帐户下创建一个存储库（如果您还没有）。如果您已经这样做了，请按照说明从现有存储库中推送代码。

# c# - 统一类型系统是否有助于进行垃圾收集

> ID：14109983
> 
> 赞同：2
> 
> 时间：2013-01-01T11:22:02.917
> 
> 标签：c#, java, garbage-collection

`C#`有一个统一的类型系统，其中所有类型，包括原始类型都从类型继承 `object`。

* * *

`Java`它的所有类也都继承自`object`type.

引用自`Thinking in java`

> 单根层次结构使垃圾收集器的实现变得更加容易

* * *

是否`unified type system`或`single rooted hierarchy`帮助进行垃圾收集，如果是这样，**如何**？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:31:00.270

我认为主要原因是它有助于确保所有对象都有一个[`Finalize`](http://msdn.microsoft.com/en-us/library/system.object.finalize.aspx)方法，从而实现与 GC 的自动兼容。

> 此方法在对象变得不可访问后自动调用，除非该对象已通过调用 GC.SuppressFinalize 免除终结。在应用程序域关闭期间，会自动对未免于完成的对象调用 Finalize，即使是那些仍可访问的对象。Finalize 只在给定实例上自动调用一次，除非使用诸如 GC.ReRegisterForFinalize 和 GC.SuppressFinalize 之类的机制重新注册对象并且随后没有调用 GC.SuppressFinalize。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T11:32:19.183

好吧，你有一个问题 - 你认为它有帮助，因为它使垃圾收集器更好。

IT 有帮助，因为它可以避免（！）垃圾收集。

STRUCTS 在 C# 中 - 都是原始类型，如 int 等，但也是您自己创建的所有类型 - 除非它们被装箱（分配给一个对象，然后它们得到一个包装器），否则它们不会被垃圾收集。

这意味着我可以使像 Point 这样的元素（将 x 和 y 作为整数）在垃圾收集器中具有零开销，因为它不是垃圾收集的。

基本上，在 Java 中原语是“编译器黑客”，在 C# 中原语是“对象层次结构的另一面”，它是结构，而不是类。

因此，统一类型 System 并不能通过统一来帮助垃圾收集器，它通过不创建首先被垃圾收集的对象来帮助垃圾收集器。

这也导致 - 通过通用支持 - 高效的集合，不必将每个项目都装箱。这就是在 Java 中事情变得令人讨厌的地方，因为运行时在字节码级别没有泛型的概念，所以所有东西都是“对象”，而在 C# 中，列表是字节码中的一种单独类型的列表并经过优化。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-01T11:35:01.487

垃圾收集器唯一需要的是能够识别对象的大小以及对象中的引用在哪里（例如从类型）

有一种方法来确定这一点，可以使它更简单。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-01-22T17:52:19.713

.NET 中统一的是*定义*结构类型和类类型的方法。结构定义

```
struct IntPair
{
  public Int32 V1,V2;
} 
```

定义了两件事。`IntPair`它定义了一个派生自的堆对象类型`IntPair`，而后者又派生自`Object`，并且将表现得像一个对象，因为它是一个对象。它还定义了一个存储位置类型`IntPair`，它的行为就像一对用胶带粘在一起的整数，因为它是一对用胶带粘在一起的整数。虽然堆对象类型派生自`Object`，但存储位置类型不是对象，也没有对象。它拥有两个整数——仅此而已；一点也不差。

统一类型系统的好处是它使垃圾收集器更容易处理包含引用类型字段的值类型。GC 必须能够 100% 确定地识别存在于整个 Universe 中的所有可访问引用，包括作为值类型的字段的引用。如果类类型和值类型定义使用相同的数据结构，则确定类对象大小和每个字段的偏移量的过程也可以用于确定结构的大小及其每个嵌套字段的偏移量. 不碰巧包含嵌套引用的值类型使用相同的数据结构不会特别有利于 GC，但也不会损害任何东西。

# liferay-6 - 如何将liferay数据库更改为mysql数据库

> ID：14109984
> 
> 赞同：1
> 
> 时间：2013-01-01T11:22:03.883
> 
> 标签：liferay-6

我已经下载了带有 tomcat 的 liferay6 包。我需要将 liferay 数据库更改为 mysql 数据库。我在谷歌中搜索过，根据信息，我用下面的代码行创建了 portal-ext.properties。

```
jdbc.default.driverClassName=com.mysql.jdbc.Driver
jdbc.default.url=jdbc:mysql://localhost/lportal?useUnicode=true&characterEncoding=UTF-8&useFastDateParsing=false
jdbc.default.username=root
jdbc.default.password=root123
jdbc.default.jndi.name=jdbc/LiferayPool
schema.run.enabled=true
schema.run.minimal=true 
```

我修改了 ROOT.xml。现在该文件中的代码是：

```
<Context path="" crossContext="true">

<Resource
    name="jdbc/LiferayPool"
    auth="Container"
    type="javax.sql.DataSource"
    driverClassName="com.mysql.jdbc.Driver"
    url="jdbc:mysql://localhost/lportal?useUnicode=true&amp;characterEncoding=UTF-8"
    username="root"
    password="root123"
    maxActive="20"
/> 
</Context> 
```

我已经在 mysql 中创建了 lportal 数据库。我还需要修改什么吗。如果我这样做，我什至看不到 liferay 的默认登录页面。谁能指出我做错的地方。谢谢。

如果我这样做，我会收到以下异常。

```
java.net.ConnectException: Connection refused
    at java.net.PlainSocketImpl.socketConnect(Native Method)
    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)
    at java.net.Socket.connect(Socket.java:579)
    at java.net.Socket.connect(Socket.java:528)
    at java.net.Socket.<init>(Socket.java:425)
    at java.net.Socket.<init>(Socket.java:241)
    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)
    at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:271)
    at com.mysql.jdbc.Connection.createNewIO(Connection.java:2744)
    at com.mysql.jdbc.Connection.<init>(Connection.java:1553)
    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)
    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:134)
    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)
    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:148)
    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)
    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)
    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)
    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.liferay.portal.spring.aop.ServiceBeanAutoProxyCreator#0' defined in class path resource [META-INF/base-spring.xml]: Cannot resolve reference to bean 'serviceAdvice' while setting bean property 'methodInterceptor'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serviceAdvice' defined in class path resource [META-INF/base-spring.xml]: Cannot resolve reference to bean 'asyncAdvice' while setting bean property 'nextMethodInterceptor'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'asyncAdvice' defined in class path resource [META-INF/base-spring.xml]: Cannot resolve reference to bean 'threadLocalCacheAdvice' while setting bean property 'nextMethodInterceptor'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'threadLocalCacheAdvice' defined in class path resource [META-INF/base-spring.xml]: Cannot resolve reference to bean 'bufferedIncrementAdvice' while setting bean property 'nextMethodInterceptor'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bufferedIncrementAdvice' defined in class path resource [META-INF/base-spring.xml]: Cannot resolve reference to bean 'indexableAdvice' while setting bean property 'nextMethodInterceptor'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'indexableAdvice' defined in class path resource [META-INF/base-spring.xml]: Cannot resolve reference to bean 'transactionAdvice' while setting bean property 'nextMethodInterceptor'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionAdvice' defined in class path resource [META-INF/base-spring.xml]: Cannot resolve reference to bean 'liferayTransactionManager' while setting bean property 'platformTransactionManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liferayTransactionManager' defined in class path resource [META-INF/hibernate-spring.xml]: Cannot resolve reference to bean 'liferayHibernateSessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liferayHibernateSessionFactory' defined in class path resource [META-INF/hibernate-spring.xml]: Invocation of init method failed; nested exception is java.lang.NullPointerException
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1327)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1085)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:516)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:455)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)
    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:282)
    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:204)
    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
    at com.liferay.portal.spring.context.PortalContextLoaderListener.contextInitialized(PortalContextLoaderListener.java:172)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4779)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5273)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)
    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
    at java.util.concurrent.FutureTask.run(FutureTask.java:166)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-08T06:00:33.270

**1-更新java连接器驱动**

确保 liferay 门户没有启动！如果是，则关闭。

下载并安装 MySQL 和 HeidiSQL，您可以通过 HeidiSql 简单地创建 mysql 数据库。

[从dev.mysql.com](http://dev.mysql.com/downloads/connector/j/5.0.html)下载 mysql.jar (Connector/J) 您可能无法登录，只需进入页面下方并单击链接：**不，谢谢，开始我的下载。**

删除 **liferay-portal-6.1.1-ce-ga2\tomcat-7.0.27\lib\ext 中**的**mysql.jar**

 ****在\Program Files(x86)\MySQL\Connector J**文件夹中复制 mysql-connector-java- *some version* -bin.jar 和

 **将其粘贴到 liferay-portal-6.1.1-ce-ga2\tomcat-7.0.27\lib\ext 中。（不要忘记将其重命名为 mysql.jar）

**2-使用liferay的控制面板** 现在你可以启动liferay门户

在浏览器 localhost:8080/ 中打开 -> 控制面板 -> 服务器管理 -> 数据迁移

**JDBC驱动类名：** com.mysql.jdbc.Driver

**JDBC URL：** jdbc:mysql://localhost:3306/ ***DB-NAME*** ?useUnicode=true&characterEncoding=UTF-8&useFastDateParsing=false

***DB-NAME*** - 您之前创建的数据库的名称。

写入 MySQL 用户名和密码，然后单击下面的按钮。

现在在下一页您可以在***red 边框**中看到一些文字*like :***系统目前正在维护中。请稍后再试。***

**没关系。**只是等待..可能是半小时或更多或更少，**只是等待**，耐心等待））

在进行过程中，您可以执行下一步：

**3- 更改门户属性**在liferay-portal-6.1.1-ce- ga2 \tomcat- **7.0.27** **\webapps\ROOT\WEB-INF\classes** 和将以下文本粘贴到此文件：

jdbc.default.driverClassName=com.mysql.jdbc.Driver

jdbc.default.url=jdbc:mysql://localhost:**这里必须是DB端口，默认是*3306*** /* **DB_NAME*** ?useUnicode=true&characterEncoding=UTF-8&useFastDateParsing=false

jdbc.default.username= ***MySQL 用户的用户名***

jdbc.default.password= ***MySQL 用户密码***

***而已***

重启Tomcat服务器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:37:50.793

在您的`portal-ext.properties`文件中，如果您指定要查找的 JNDI 名称就足够了。

`jdbc.default.jndi.name=MyDataSource`

在你的 Tomcat 的 xml 文件中，

```
<Resource
    name="MyDataSource"
    auth="Container"
    type="javax.sql.DataSource"
    driverClassName="com.mysql.jdbc.Driver"
    url="jdbc:mysql://localhost/lportal?useUnicode=true&amp;characterEncoding=UTF-8"
    username="root"
    password="root123"
    maxActive="20"
/> 
```

确保您在上面使用的用户（root）具有创建表的权限。

另外，不要忘记重新启动 Tomcat 容器。

即使在此之上，如果它不起作用，请在您的 (bin) 日志中共享异常。****

# html - 在 iframe 中加载页面时避免外部调用

> ID：14109988
> 
> 赞同：2
> 
> 时间：2013-01-01T11:22:48.220
> 
> 标签：html, iframe

我有一个动态加载一些页面的 iframe。这些页面只是 html 页面，但它们可以引用外部资源，例如 java 脚本文件或图像。因此，当我在 iframe 中加载页面时，它会尝试从 Internet 下载这些图像，并且在大多数情况下，我得到的是 HTTP 404 代码。有没有一种方法可以让我只加载 HTML 内容并避免发出任何 HTTP 请求来下载外部内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T11:32:03.177

我认为您的问题没有好的解决方案。如果 iframe 中的 html 页面与父页面在同一个域中，则可以使用一些 javascript 代码来阻止外部资源。否则，将不允许父页面控制 iframe。

# r - 如何在 R 中创建向量或表列表

> ID：14109993
> 
> 赞同：4
> 
> 时间：2013-01-01T11:23:22.093
> 
> 标签：r, web-scraping

我正在尝试从网站上抓取一堆表格。我希望能够将它们全部存储在一个或多个变量中——基本上是为了方便访问。下面的代码是我到目前为止所拥有的，我正在使用我发现的 XML 包，它在一张桌子上效果很好，但不能让它在一张桌子上工作。

```
i <- 1
N <- 3
DSFL1<- 'http://website/results/2012_aussies_thu/results/'
DSFL2 <- '.html'
SportHTML <- vector(length=N)
vectorOfTables <- vector(length=N)

for ( i in i:N) {
  DSVL <- i
  SportHTML[i] <- paste(DSFL1,DSVL,DSFL2, sep="")
  Sport.table <- readHTMLTable(SportHTML[i], header=T, which=3,stringsAsFactors=F) 
  vectorOfTables[1] <- Sport.table
  i <- i + 1
  } 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-01T11:36:17.197

您的表格是长度> 1（并且可能长度不同）的对象，它们必须进入列表。所以你应该这样做：

```
vectorOfTables <- vector(mode = "list", length = N) 
```

当您在循环内分配时，请执行以下操作：

```
vectorOfTables[[i]] <- Sport.table 
```

但是，您可以避免`for`循环并使用以下命令创建列表`lapply`：

```
SportHTML    <- paste0(DSFL1, 1:N, DSFL2)
ListOfTables <- lapply(SportHTML, readHTMLTable, header = TRUE,
                       which = 3, stringsAsFactors = FALSE) 
```

如您所见，它也更加简洁。

# cakephp - 使用插件会大大降低 CakePHP 2.0 应用程序的性能吗？

> ID：14109994
> 
> 赞同：-1
> 
> 时间：2013-01-01T11:23:37.087
> 
> 标签：cakephp, cakephp-2.0

使用 Webtechnick 的 Facebook connect 插件会大大降低性能吗？如果不是，对应用程序速度的损害程度如何？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T13:05:08.507

就像 Oldskool 说的那样——这取决于你所包含的插件。

我可以从经验告诉你，webtechnicks Facebook 插件不会给应用程序造成过多的负担。

但是，您可能包含的其他插件可能会。取决于它们如何连接到您的应用程序，以及正在执行的处理/查询类型，所有这些都会加起来。

我建议安装[CakePHP DebugKit](https://github.com/cakephp/debug_kit "CakePHP 调试工具包")以在相对较高的水平上分析您的应用程序的性能。它为您提供了很多信息，因此请检查一下。

希望这可以帮助。

# java - 将字符串写入文本文件的底行

> ID：14109996
> 
> 赞同：0
> 
> 时间：2013-01-01T11:23:50.000
> 
> 标签：java

我想将字符串写入文本文件，每次都写入文件底部。然后，如果我在文本文件中搜索某个字符串并找到它，我想用另一行替换该行。

我在想这个：计算文本文件中的行并添加+1，然后将我要写入的字符串写入该索引。但是甚至可以写入文本文件中的某个行号吗？

以及如何将某一行更新为另一个字符串？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-01T11:42:13.927

你不想这样做：这是灾难的根源。如果在原始文件修改过程中，您没有写入它，原始文件将被损坏。

使用双重写入协议，将修改后的文件写入另一个文件，并且*仅当写入成功*时，将该文件重命名为原始文件。

如果您的文件不是太大，对于“大”的一些定义，我建议`List<String>`为目标文件创建一个：逐行读取原始文件，添加到该列表；一旦列表处理完成（您的问题不清楚到底应该发生什么），将每个文件写入`String`另一个文件，刷新并关闭，如果成功，则重命名为原始文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T11:29:45.620

1.  如果要附加字符串，FileOutputStream[确实有一个替代构造函数](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileOutputStream.html#FileOutputStream%28java.io.File,%20boolean%29)，您可以将其设置为 true，以便您可以打开以进行附加。

2.  例如，如果您想将字符串替换为*文件而不复制它*，那么最好的办法是改用[RandomAccessFile 。](http://docs.oracle.com/javase/1.5.0/docs/api/java/io/RandomAccessFile.html)但是，如果线路长度变化，这是不可靠的。对于固定长度的记录，这应该这样工作：

    *   移动到偏移量
    *   写

您也可以“截断”（通过 setLength），因此如果您需要删除一个尾随块，您可以这样丢弃。

第三种解决方案是依赖 mmap。这需要整个文件的[内存映射字节缓冲区。](http://docs.oracle.com/javase/7/docs/api/java/nio/MappedByteBuffer.html)我没有考虑解决方案的全部可行性（它在纯 C 中工作），但如果你同时考虑 Java 平台 + 操作系统，那实际上“看起来”更正确

# actionscript-3 - 都与鼠标交互的堆叠对象

> ID：14109997
> 
> 赞同：1
> 
> 时间：2013-01-01T11:23:54.170
> 
> 标签：actionscript-3, mouseevent, layer

我有一个加载到**Loader**对象中的**外部 SWF 。**

 **我将此 Loader 对象作为子对象添加到 MovieClip 并将此 MovieClip 添加到我的舞台。

我现在想在 Loader 对象**的顶部绘制一个透明的矩形 Sprite**，这只是捕获鼠标事件所需要的。

（我需要知道鼠标何时滚动并滚出透明层）。

.

*如果你问自己——为什么我需要这个透明层而不是仅仅捕捉加载器本身的事件？好吧，这有很多原因，其中大多数与客户端请求有关，而且 - 因为某些外部加载的 SWF 由于某种原因不响应鼠标事件 - 所以我需要“欺骗”它并在上面添加我自己的透明层。*

我的问题是 - 如果我将透明层作为包含加载器的 MovieClip 的子层，那么我会得到这个层次结构： ![在此处输入图像描述](../Images/3ea5aa168c9dd229c08e12a4c4a4bb26.png)

问题是 - 鼠标事件被最顶层（透明层）捕获并传递到 MovieClip 和舞台。事件不会在 Loader 对象中触发，因此 - SWF 变为非交互式。

.

另一个解决方案是 -

以某种方式将透明层添加为 Loader 对象的子对象，如下所示： ![在此处输入图像描述](../Images/7cb9d16abacffde8f5a92d459db13f94.png)

然后事件将被冒泡到加载器和 SWF。问题是 - Loader 类不允许您向其添加子元素（加载的 SWF 除外）。

那么任何人都可以提供建议我如何在 SWF 之上添加一个透明层并且仍然与透明层和 SWF 层进行鼠标交互吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T14:58:31.687

**透明层**正在阻止加载的 swf 文件的事件。您需要为此图层使用`mouseEnabled`属性。`false`

我不知道这是否适合您，但我认为这可能有用。在主 swf 中添加以下代码。

```
import flash.display.Loader;
import flash.events.Event;
import flash.events.MouseEvent;
import fl.transitions.Tween;
import fl.motion.easing.Linear;

// Disables the mouse interations
transparentLayer.mouseEnabled = false;
// Initialize with alpha 0
transparentLayer.alpha = 0;

// Cretes the loader
var loader:Loader = new Loader();
// Listen the complete event
loader.contentLoaderInfo.addEventListener(Event.COMPLETE, loadComplete);
// Loads the external swf files
loader.load(new URLRequest("swf.swf"));
// Add in the background
addChildAt(loader, 0);

// Listen the complete event
function loadComplete (event:Event) {
    // Add the mouse events to the loaded content
    loader.contentLoaderInfo.content.addEventListener(MouseEvent.ROLL_OVER, mouseHandler);
    loader.contentLoaderInfo.content.addEventListener(MouseEvent.ROLL_OUT, mouseHandler);
}

// Handles de mouse events of the loaded swf
function mouseHandler (event:MouseEvent)
{
    switch (event.type) 
    {
        case MouseEvent.ROLL_OVER :
            // Shows the transparentLayer from the current alpha value to 1 in 1 second
            new Tween(transparentLayer, "alpha", Linear.easeNone, transparentLayer.alpha, 1, 1, true);
        break;
        case MouseEvent.ROLL_OUT :
            // Shows the transparentLayer from the current alpha value to 0 in 1 second
            new Tween(transparentLayer, "alpha", Linear.easeNone, transparentLayer.alpha, 0, 1, true);
        break;
    }
} 
```

透明层失去了所有的互动，所以你需要在外部应用运动效果。在这里你可以下载运行[http://cl.ly/LtfA的项目](http://cl.ly/LtfA)**