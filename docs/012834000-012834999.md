# StackOverflow 问答 12834000-12834999

# android - 如何在 VideoView 中播放多个 Youtube 视频？

> ID：12834011
> 
> 赞同：1
> 
> 时间：2012-10-11T07:05:18.303
> 
> 标签：android, android-videoview, rtsp, youtube-channels

我通过此[链接](http://gdata.youtube.com/feeds/api/users/mashable/uploads?&v=2&alt=jsonc)从 Json 获得多个 Youtube URL ！
第一件事是当我播放一个 url VideoView 时。我越来越`## Sorry ! this video cannot played##`。我已经搜索了 RTSP url 支持 VideoView 的地方。

现在我将如何获得 RTSP 网址。以及如何播放多个视频？我的 VideoView 代码是：-

```
VideoView videoView = (VideoView) findViewById(R.id.VideoView);
Button youtube=(Button)findViewById(R.id.button1);
MediaController mediaController = new MediaController(this);
mediaController.setAnchorView(videoView);

Uri video = Uri.parse("http://m.youtube.com/details?v=LKLHoNy5xpE");
videoView.setMediaController(mediaController);
videoView.setVideoURI(video);
videoView.start(); 
```

# c - 理解 fs/binfmt_elf.c

> ID：12834013
> 
> 赞同：2
> 
> 时间：2012-10-11T07:05:26.973
> 
> 标签：c, linux

我正在尝试了解 linux 源文件**/home/akash/Downloads/linux-3.4.3/fs/binfmt_elf.c** 的一部分代码如下我卡住的地方。

```
static struct linux_binfmt elf_format = {
        .module         = THIS_MODULE,
        .load_binary    = load_elf_binary,
        .load_shlib     = load_elf_library,
        .core_dump      = elf_core_dump,
        .min_coredump   = ELF_EXEC_PAGESIZE,
}; 
```

它指的是文件**include/linux/binfmt.h**

```
struct linux_binfmt {
        struct list_head lh;
        struct module *module;
        int (*load_binary)(struct linux_binprm *, struct  pt_regs * regs);
        int (*load_shlib)(struct file *);
        int (*core_dump)(struct coredump_params *cprm);
        unsigned long min_coredump;     /* minimal dump size */
}; 
```

请对此进行一些解释..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T07:08:35.590

It is the initialisation of a structure of type `struct linux_binfmt` named `elf_format` (with `static` storage duration, meaning it exists for the lifetime of the program and is initialised exactly once), using syntax introduced in C99 that allows the specific structure member being initialised to be specified. Prior to C99 the initializer of a `struct` required the values to be listed in the order the members are declared in the `struct`.

For example:

```
struct struct_a { int a; char c; }; 
```

In C89 it was not possible to explicitly initialise `c` only:

```
struct struct_a s = { 0, 'f' }; /* Have to provide an initial value for
                                   'a', the 0, in order to provide an
                                   initial value for 'c', the f. */ 
```

but in C99 the new syntax made it possible:

```
struct struct_a s = { .c = 'f' }; 
```

The types of `struct` members:

*   `lh` is of type `struct list_head`, which is not explicitly initialised. `lh` will be default initialised (any members of `lh` that are pointers are initialized to a null pointer and any arithmetic types will be initialized to zero).
*   `module` is of type `struct module*` and is initialised to `THIS_MODULE`.
*   `load_binary` is a pointer to a function that returns an `int` and takes arguments of type `struct linux_binptrm*` and `struct pt_regs`, and is initialised to a function called `load_elf_binary`.
*   `load_shlib` is a pointer to a function that returns an `int` and takes an argument of type `struct file*` and is initialised to a function called `load_elf_library`.
*   `core_dump` is a pointer to a function that returns an `int` and takes an argument of `struct coredump_params*` and is initialised to a function called `elf_core_dump`.
*   `min_coredump` is of type `unsigned long` and is initialised to `ELF_EXEC_PAGESIZE`.

Refer to section *6.7.8 Initialization* of the C99 standard for a full description on initialization syntax and rules.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:07:56.213

`elf_format` is a variable of type `linux_binfmt` declared as static.

Values assigned for the members of `elf_format`

```
 .module         = THIS_MODULE,
    .load_binary    = load_elf_binary,    /* Function pointer assigned with functions */
    .load_shlib     = load_elf_library,   // do --
    .core_dump      = elf_core_dump,      // do --
    .min_coredump   = ELF_EXEC_PAGESIZE, 
```

# html - 比较表格单元格中的值

> ID：12834016
> 
> 赞同：0
> 
> 时间：2012-10-11T07:05:33.130
> 
> 标签：html

```
Col:1 Espresso Truffle, Green Tea, Black Tea, Green Tea, White Chocolate Mocha, Black Tea   
Col:2 Caffe Espresso Cappuccino, Caffe Espresso, White Chocolate Mocha, Green Tea, Black Tea 
Col:3 Black Tea, Doubleshot Espresso, Caffe Espresso, Caffe Latte, Caffe Latte, Black Tea   
Col:4 White Chocolate Mocha, Green Tea, White Chocolate Mocha, Green Tea, Black Tea 
```

我有这种 HTML 表格，我想根据单元格值对表格单元格进行着色。例如-如果所有 4 列上都出现了 perticuler 单元格值，我想用蓝色将它们全部着色

1.  “红茶”和“绿茶”出现在所有 4 列中，因此所有“红茶”和“绿茶”单元格都是蓝色的
2.  “白巧克力摩卡”仅出现在 3 列中，因此“白巧克力摩卡”单元格将为红色
3.  值仅出现 2 列 黄色
4.  “Espresso Truffle”仅出现在一列中，因此没有着色。

执行此操作的最佳方法/算法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:31:47.003

这只是一个想法。假设使用 PHP 作为脚本语言。您可以使用每个条目的位置填充关联数组。

```
$arr['Espresso Truffle']=array(array('row'->0, 'col'->0));
$arr['Green Tea']=array(array('row'->0, 'col'->1),array('row'->0, 'col'->3)); 
```

或更短

```
$arr['Espresso Truffle']=array(array(0,0));
$arr['Green Tea']=array(array(0, 1),array(0,3)); 
```

在一侧，您只存储相同的名称 1 次。使用 count() 命令，您可以轻松查看每个条目的数量。

# css - 向左重复水平分割的精灵

> ID：12834017
> 
> 赞同：0
> 
> 时间：2012-10-11T07:05:39.670
> 
> 标签：css

![精灵表](../Images/a4e9a965bdedd7d2b5c79514cd256510.png)

我有这个精灵表，对于不同的背景，我必须向左水平重复每一列。我怎样才能做到这一点？我使用背景位置、背景重复和背景大小进行了调整，但我无法实现所需的行为。任何人都知道如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:19:08.780

我最好你可以创建精灵**垂直**而不是**水平**。

**像这样 ：**

![在此处输入图像描述](../Images/5c06b7f746f62226a99ef1c6e2f4040a.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:12:28.407

为什么不单独保存每种颜色并根据需要动态构建背景？

因此，只需重复您想要重复的颜色，然后根据需要将其他颜色附加到侧面。

另外：请更具体地说明您想要达到的效果。

# javascript - 如果定义了变量，如何在javascript中执行语句

> ID：12834022
> 
> 赞同：3
> 
> 时间：2012-10-11T07:06:02.277
> 
> 标签：javascript, jquery

> **可能重复：**
> [如何检查 javascript 中未定义的变量](https://stackoverflow.com/questions/858181/how-to-check-a-not-defined-variable-in-javascript)
> [确定 javascript 对象是否具有给定属性](https://stackoverflow.com/questions/1894792/determining-if-a-javascript-object-has-a-given-property)

在我的 beforeSend 函数中，我有这个

`$.myloader.show();`

但是有些脚本没有那个元素，所以我的这一行给了我错误

`$.myloader.show();`给我错误 $.myloader 不存在

我该怎么做

```
if($.myloader exists)
$.myloader.show(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T07:06:55.320

最通用和最可靠的解决方案是：

```
if (typeof $.myloader != 'undefined') { 
```

如果您确定您的变量不能包含除函数或未定义的任何其他内容，则可以使用

```
if ($.myloader) { 
```

但只有在您确定可能的值时才这样做，因为此测试也匹配`false`, `0`和`''`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:09:06.287

您可以按照以下方式进行...

```
if(typeof $.myloader != 'undefined')
{    // your code here.  }; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:16:13.030

未定义的值是“假的”，并在 if 语句中评估为假，因此您只需要：

```
if( $.myloader )
    $.myloader.show(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T07:19:24.977

鉴于 jQuery ( `$`) 是一个对象：

```
if ($.hasOwnProperty('myloader'))
{
    //should work
    //try: $.hasOwnProperty('fn'), it'll return true, too
} 
```

如果`myloader`对象没有直接绑定到 jQuery 对象，而是通过其原型之一：

```
if ('myloader' in $)
{
    //works, like:
    if ('hasOwnProperty' in $)
    {//is true, but it's not a property/method of the object itself:
        console.log($.hasOwnProperty('hasOwnProperty'));//logs false
    }
} 
```

您可以以相同的方式检查要使用的方法：

```
if ('myloader' in $ && 'show' in $.myloader)
{
    $.myloader.show();
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T07:21:20.543

您可以更短地执行此操作：

```
$.myloader.show() ? console.log('yep') : console.log('nope'); 
```

或者：

```
$.myloader.show() || console.log('fail'); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-11T08:00:29.947

如果你想要它简短，你也可以这样做：

```
$.myloader && $.myloader.show(); 
```

第一个操作数（在 && 之前）称为*警卫*。但是有些人认为这不够可读和安全，因此您可能想要使用该`if (typeof ...)`解决方案。

# database - 适用于在线/离线应用程序的数据库，用于通过 Web 同步数据

> ID：12834027
> 
> 赞同：0
> 
> 时间：2012-10-11T07:06:45.817
> 
> 标签：database

我们正在为位于多个地点的客户（医院）建立一个在线预约系统。所有位置都相互连接，并且正在访问本地安装的应用程序，该应用程序通过 MPLS 连接到总部的数据库服务器。有时，总公司和分支机构之间的 MPLS 链路会出现故障。系统应将约会记录到分公司的本地数据库中，一旦连接恢复，来自分公司的数据应与总公司同步。

此外，各地的医生使用各种带有 Android、IOS 和 Windows 操作系统的移动设备和平板电脑。

医生还可以查看自己的预约，为他们的患者下次就诊预约或通过预约使用预约引擎将患者转诊给另一位医生。

我们需要构建一个应用程序，该应用程序可以在分支机构以及医生移动设备和平板电脑的离线和在线模式下工作，并可以选择在应用程序级别管理和解决冲突。

请向我们建议最好的数据库，它可以成为上述场景的一个很好的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:25:55.630

单一类型的数据库无法支持这样的分布式系统。这将取决于数据量、索引和其他功能。

例如：对于 MPLS，您应该使用 Oracle 或 Microsoft SQl 服务器，因为它将拥有大量数据和快速索引。

对于相应的数据，您可以使用 Mysql 等免费软件，而在移动平台上，您可以使用 SQLite 等轻量级数据库。

就分支级别的 DB 和 MPLS 之间的数据同步而言，您可以使用可用的 JAVA 复制框架，例如 Daffodil Replicator (E) 和 SymmetricDS。这些支持各种功能，如异构复制、安全冲突检测和解决。参考这里[离线/在线数据同步策略](https://stackoverflow.com/questions/271610/strategy-for-offline-online-data-synchronization?rq=1)

对于移动数据库和 MPLS 之间的数据同步，恐怕您必须构建自定义中间件来进行复制和同步。

# c - GMT time to Seconds

> ID：12834028
> 
> 赞同：0
> 
> 时间：2012-10-11T07:06:52.473
> 
> 标签：c

I am implementing a cache in a proxy server. I am storing Expires: field from the response of request and next time if same request comes then i will compare the Expires time with current time. Now I am stuck here. how should I convert Expire time format to seconds and then take a difference? Is that any other way to get time difference ?

Format for Expire time is : `Sat, 10 Nov 2012 07:05:26 GMT`

Suppose I have two time, how can I compare two times in `GMT?`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:41:48.340

这是一个工作示例：

```
#include <stdio.h>
#include <time.h>

int main(int argc, char **argv) {
    struct tm t;
    time_t seconds;
    const char *expire = "Sat, 10 Nov 2012 07:05:25 GMT";
    strptime(expire, "%a, %d %B %Y %H:%M:%S", &t);
    seconds = mktime(&t);
    printf("%lu\n", seconds);
} 
```

请注意，您的时间必须是 GMT 时间，因为 strptime() 忽略时区（至少在 Linux 上）。您可能还需要将您的语言环境设置为与您的输入时间相同的语言环境。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:17:38.400

如果您的实现有它，您可以使用该[`strptime`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/strptime.html)函数将该字符串转换为 a `struct tm`，然后将*其*[`mktime`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/mktime.html)转换为 a以便于比较。*`time_t`*

# javascript - 页面刷新后地理自动完成功能不起作用

> ID：12834031
> 
> 赞同：3
> 
> 时间：2012-10-11T07:06:58.393
> 
> 标签：javascript, asp.net, google-maps, google-maps-api-3, asp-classic

我在可能的 asp.net 应用程序中使用地理自动完成。我的问题是，当我第一次在我使用地理自动完成的文本框中写一些东西时，它会显示结果。但是我的页面上有一个自动回发文本框事件，当他们触发谷歌地理自动完成不起作用时，我用于谷歌自动完成的 html 是这样的：

```
 <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript" src="http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="../lib/jquery.autocomplete_geomod.js"></script>

<script type="text/javascript" src="../js/geo_autocomplete.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/jquery.autocomplete.css" />

<script type="text/javascript">
    $().ready(function() {

        var latlng = new google.maps.LatLng(-34.397, 150.644);
        var myOptions = {
            zoom: 8,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById('<%=map_canvas.ClientID %>'), myOptions);

        // use all the autocomplete options as documented at http://docs.jquery.com/Plugins/Autocomplete
        /* additional geo_autocomplete options:
        mapkey : 'ABQ...' (required for Static Maps thumbnails, obtain a key for your site from http://code.google.com/apis/maps/signup.html)
        mapwidth : 100
        mapheight : 100
        maptype : 'terrain' (see http://code.google.com/apis/maps/documentation/staticmaps/#MapTypes)
        mapsensor : true or false
        */
        $('#<%=txtPickupCity.ClientID %>').geo_autocomplete(new google.maps.Geocoder, {
            mapkey: 'ABQIAAAAbnvDoAoYOSW2iqoXiGTpYBTIx7cuHpcaq3fYV4NM0BaZl8OxDxS9pQpgJkMv0RxjVl6cDGhDNERjaQ',
            selectFirst: false,
            minChars: 3,
            cacheLength: 50,
            width: 300,
            scroll: true,
            scrollHeight: 330
        }).result(function(_event, _data) {
            if (_data) map.fitBounds(_data.geometry.viewport);
        });

    });
</script>
<style>
.ac_results li img {
    float: left;
    margin-right: 5px;
}
</style> 
```

这是我使用地理代码的文本框

```
<asp:TextBox ID="txtPickupCity" runat="server" MaxLength="50" 
                                                            Width="140px"></asp:TextBox> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T13:24:52.513

谢谢大家，我在谷歌上花了 4 个小时终于找到了这个问题的答案，这很简单

在您的 Page_load () 上，您使用此代码可以帮助您

```
 ScriptManager.RegisterStartupScript(Page, this.GetType(), "delCty", "delCity();", true); 
```

这里“delCty”是键“delCity()”是函数名。是的意思是我给函数的函数名称

```
 <script type="text/javascript">
    function delCity() 
{
} 
```

享受编码。我想这会对你有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:04:36.050

我不确定这是否与我曾经经历过的情况相同，但您可以试试这个：如果纬度和/或纬度未设置（这意味着如果它没有任何值），我的 JavaScript 根本没有工作。所以我添加了一个条件（代码不是任何特定的编程语言），我的问题就消失了：

```
If Latitude = "" then Latitude = 0
If Langitude = "" then Langitude = 0 
```

# iphone - sorting the array in table view in iOS 6

> ID：12834033
> 
> 赞同：0
> 
> 时间：2012-10-11T07:07:11.790
> 
> 标签：iphone, objective-c, ios, xcode, arrays

Hello I have created one of my application in which i have implemented sorting functionality in a table view The sorting method is working fine on iOS 4 and 5 but when I try to test the application on iOS 6, it shows an error in the sorting method on iOS 6 Please help ![enter image description here](../Images/3b0031aa2bdf31b2464b1e1cf4bef5db.png)

Method :-

```
-(void)setupIndexData{
    self.arrayOfCharacters =[[NSMutableArray alloc]init];
    self.objectForCharacter=[[NSMutableDictionary alloc]init];

    NSNumberFormatter *formatter =[[NSNumberFormatter alloc]init];
    NSMutableArray *arrayOfNames =[[NSMutableArray alloc]init];
    NSString *numbericSection    = @"#";
    NSString *firstLetter;
    for (NSDictionary *item in self.mCompanyarray) {

        firstLetter = [[[item valueForKey:@"Company"]description] substringToIndex:1];

        // Check if it's NOT a number
        if ([formatter numberFromString:firstLetter] == nil) {

            /**
             * If the letter doesn't exist in the dictionary go ahead and add it the 
             * dictionary.
             *
             * ::IMPORTANT::
             * You HAVE to removeAllObjects from the arrayOfNames or you will have an N + 1
             * problem.  Let's say that start with the A's, well once you hit the 
             * B's then in your table you will the A's and B's for the B's section.  Once 
             * you hit the C's you will all the A's, B's, and C's, etc.
             */
            if (![objectForCharacter objectForKey:firstLetter]) {

                [arrayOfNames removeAllObjects];

                [arrayOfCharacters addObject:firstLetter];
            } 

            [arrayOfNames addObject:item];

            /**
             * Need to autorelease the copy to preven potential leak.  Even though the 
             * arrayOfNames is released below it still has a retain count of +1
             */
            [objectForCharacter setObject:[[arrayOfNames copy] autorelease] forKey:firstLetter];

        } else {

            if (![objectForCharacter objectForKey:numbericSection]) {

                [arrayOfNames removeAllObjects];

                [arrayOfCharacters addObject:numbericSection];
            }

            [arrayOfNames addObject:item];

            [objectForCharacter setObject:[[arrayOfNames copy] autorelease] forKey:numbericSection];
        }
    }

    [formatter release];
    [arrayOfNames release];  

    [self.mCompaniesTableView reloadData];
} 
```

Thanks

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:56:36.183

我会使用 UILocalizedIndexedCollat​​ion 对您的数据进行排序和索引。这样，您的应用程序可以支持多种语言等。

注意：我没有测试过下面的代码，但理论是存在的。

首先，创建一个@property 来存储索引数据：

```
@property (nonatomic, strong) NSDictionary *indexedSections; 
```

像这样设置你的表：

```
- (NSArray *)sectionIndexTitlesForTableView:(UITableView *)tableView
{
    return [[UILocalizedIndexedCollation currentCollation] sectionIndexTitles];
}

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    //we use sectionTitles and not sections
    return [[[UILocalizedIndexedCollation currentCollation] sectionTitles] count];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [[self.indexedSections objectForKey:[NSNumber numberWithInteger:section]] count];
}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section
{
    BOOL showSection = [[self.indexedSections objectForKey:[NSNumber numberWithInteger:section] count] != 0;

    //only show the section title if there are rows in the section
    return (showSection) ? [[[UILocalizedIndexedCollation currentCollation] sectionTitles] objectAtIndex:section] : nil;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    id object = [[self.indexedSections objectForKey:[NSNumber numberWithInteger:indexPath.section]] objectAtIndex:indexPath.row];

    // configure the cell
}

- (NSInteger)tableView:(UITableView *)tableView sectionForSectionIndexTitle:(NSString *)title atIndex:(NSInteger)index
{
    //sectionForSectionIndexTitleAtIndex: is a bit buggy, but is still useable
    return [[UILocalizedIndexedCollation currentCollation] sectionForSectionIndexTitleAtIndex:index];
} 
```

最后索引如下：

```
- (void) setupIndexData
{
    // asynchronously sort
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^
    {
        // create a dictionary to store an array of objects for each section
        NSMutableDictionary *tempSections = [NSMutableDictionary dictionary];

        // iterate through each dictionaey in the list, and put them into the correct section
        for (NSDictionary *item in self.mCompanyarray)
        {
            // get the index of the section (Assuming the table index is showing A-#)
            NSInteger indexName = [[UILocalizedIndexedCollation currentCollation] sectionForObject:[item valueForKey:@"Company"] collationStringSelector:@selector(description)];

            NSNumber *keyName = [NSNumber numberWithInteger:indexName];

            // if an array doesnt exist for the key, create one
            NSMutableArray *arrayName = [tempSections objectForKey:keyName];
            if (arrayName == nil)
            {
                arrayName = [NSMutableArray array];
            }

            // add the dictionary to the array (add the actual value as we need this object to sort the array later)
            [arrayName addObject:[item valueForKey:@"Company"]];

            // put the array with new object in, back into the dictionary for the correct key
            [tempSections setObject:arrayName forKey:keyName];
        }

        /* now to do the sorting of each index */

        NSMutableDictionary *sortedSections = [NSMutableDictionary dictionary];

        // sort each index array (A..Z)
        [tempSections enumerateKeysAndObjectsUsingBlock:^(id key, id array, BOOL *stop)
         {
             // sort the array - again, we need to tell it which selctor to sort each object by
             NSArray *sortedArray = [[UILocalizedIndexedCollation currentCollation] sortedArrayFromArray:array collationStringSelector:@selector(description)];
             [sortedSections setObject:[NSMutableArray arrayWithArray:sortedArray] forKey:key];
         }];

        // set the global sectioned dictionary
        self.indexedSections = sortedSections;

        dispatch_async(dispatch_get_main_queue() ,^{
          // reload the table view (on the main thread)
          [self.mCompaniesTableView reloadData];
        });
    });
} 
```

# sorting - 如何使用 Blackberry API 对包含对象的 Vector 进行排序

> ID：12834041
> 
> 赞同：1
> 
> 时间：2012-10-11T07:07:52.673
> 
> 标签：sorting, blackberry, java-me, vector

我想对包含以下字段的对象的向量进行排序

```
public class CategoryListing   {

     String company_id;
     String company_name;
     double distance;

     //setters and getters here 
} 
```

我从 webservice 填充了向量，现在我想按距离对该向量进行排序，这意味着我想显示最近的向量。如何对包含对象的向量进行排序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T07:50:36.230

其他答案都不适用于黑莓，因为它不支持泛型。黑莓使用旧版本的 Java。试试下面的代码。它使用[SimpleSortingVector](http://www.blackberry.com/developers/docs/4.5.0api/net/rim/device/api/util/SimpleSortingVector.html)

```
 SimpleSortingVector sortVector = new SimpleSortingVector();
    sortVector.setSortComparator(new Comparator() {

        public int compare(Object o1, Object o2) {

            CategoryListing o1C = (CategoryListing)o1;
            CategoryListing o2C = (CategoryListing)o2;
            return Double.toString((o1C.distance)).compareTo(Double.toString(o2C.distance));
        }
    });
            //when you add elements to this vector, it is automatically sorted by distance
    sortVector.addElement(new CategoryListing()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:12:04.493

您可以使用[比较](http://www.blackberry.com/developers/docs/7.1.0api/com/google/zxing/common/Comparator.html)器。

定义一个比较器，它将按距离排序，如下所示

```
public class DistanceComparator implements Comparator {
    public int compare(Object o1, Object o2) {
        return Double.valueOf(((CategoryListing) o1).distance)
                .compareTo(((CategoryListing) o2).distance);// use getters
    }
} 
```

使用 对向量进行排序`below sort method`。注意因为[数组](http://www.blackberry.com/developers/docs/4.5.0api/net/rim/device/api/util/Arrays.html#sort%28java.lang.Object%5b%5d,%20net.rim.device.api.util.Comparator%29)是从 1.2 开始存在的，它也存在于黑莓中。

公共静态无效排序（向量向量，比较器比较器）{

```
 Object[] array = new Object[vector.size()];   
    vector.copyInto(array);   

    Arrays.sort(array,comparator);

    int i = 0;
    Enumeration enumumeration = vector.elements();
    while (enumumeration.hasMoreElements()) {
        enumumeration.nextElement();
        vector.insertElementAt(array[i++], i);
    }
} 
```

# java - Android - WebView findall not functioning correctly on 4.0.3 and 4.0

> ID：12834046
> 
> 赞同：3
> 
> 时间：2012-10-11T07:08:07.083
> 
> 标签：java, android, search, webview

This little bit of code is so frustrating. I know that it is depreciated in 4.1 but it does function, and for 2.3.3 it works just fine.

```
wv.findAll(findBox.getText().toString());

    try {
      Method m = WebView.class.getMethod("setFindIsUp", Boolean.TYPE);
      m.invoke(wv, true);
    } catch (Exception ignored) {

    } 
```

I really hope that someone knows of a workaround for this to highlight searched text in my webview for Android 4.0.3 and 4.0.I also know that it does still function correctly as a search which is good, but it just does not highlight in 4.0.3 and 4.0\.

# ios - 在 iOS 中使用 finch 时声音淡出

> ID：12834048
> 
> 赞同：0
> 
> 时间：2012-10-11T07:08:17.313
> 
> 标签：ios, openal, finch

我`Finch`在 iOS 中使用 openAL 包装器，并且想淡出我`FISound`的 .

假设我有一个 30 秒的声音，例如，我希望能够在 15 秒后淡出 5 秒以上的声音。

如果可能的话，我想避免使用 openAL。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:20:35.897

设置一个`NSTimer`反复降低声音增益直到为零的值。或者你可以这样做：

```
static const float FadeStep = 0.1;
static const NSTimeInterval FadeDelay = 0.1;

@implementation FISound

- (void) fadeOut
{
    self.gain = MAX(0, self.gain - FadeStep);
    if (self.gain > 0) {
        [self performSelector:_cmd afterDelay:FadeDelay withObject:nil];
    }
}

@end 
```

这是一个快速而肮脏的解决方案，但它应该适用于很多情况。

# java - JTextPane 在 keyReleased 方法结束之前得到下一个值

> ID：12834049
> 
> 赞同：1
> 
> 时间：2012-10-11T07:08:25.617
> 
> 标签：java, swing, keylistener, jtextpane, documentfilter

我有一个与 KeyReleased 事件绑定的 JTextPane。我的目标是，无论用户在该 TextPane 中键入什么，它都会打印一些字符。

```
{'I', 'N', 'V', 'A', 'L', 'I', 'D'}; 
```

上面的字符打印每个 keyReleased 事件。如果用户按下，`any character`则 JTextPane`'I'`在下一个事件后显示同样明智地显示“N”。

如果我一一按下它就可以正常工作。但我的问题是，如果我快速输入，我就会得到输入的字符。

我怎样才能隐藏这些字符？

**按键事件代码：**

`fooString`是具有 13 个字符的字符数组。

```
count++; //count of event
if(evt.getKeyCode() == KeyEvent.VK_ESCAPE)
{
  int option = JOptionPane.showConfirmDialog(this, "Do you want to exit");
  if(option == JOptionPane.YES_OPTION)
  {
    System.exit(0);
  }
}
else if(evt.getKeyCode() == KeyEvent.VK_BACK_SPACE)
{
  if(this.txtPane.getText().length() != 0)
  count--;
}
else
{
  /*Get the value and show fooString value */
  try {
    String val = this.txtPane.getText();
    int rem = count % fooString.length;
    //System.out.println(val.substring(0, val.length()-1));
    txtPane.setText(val.substring(count-1, val.length()-1));
    if(rem == 0)
    rem = foolString.length;
    if(count % 26 == 0)
    {
      txtPane.setText(val.substring(0, val.length()-1) 
          + fooString[rem-1] +"\n");
      lineCount++;
      count = 0;
    }
    else
    txtPane.setText(val.substring(0, val.length()-1) + fooString[rem-1]);
  } catch (Exception ex) {
    Logger.getLogger(A.class.getName()).log(Level.SEVERE, null, ex);
  }
} 
```

干杯..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:12:11.223

*   不要对[JTextComponents使用](http://docs.oracle.com/javase/tutorial/uiswing/components/text.html)[KeyListener](http://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html)

*   使用[DocumentListener](http://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html)

> 我的目标是，无论用户在该 TextPane 中键入什么，它都会打印一些字符。

*   使用[DocumentFilter](https://stackoverflow.com/a/9430683/714968)和/或 (for `{'I', 'N', 'V', 'A', 'L', 'I', 'D;}`) with`Pattern`

# c# - How to save Data In Database to the controller

> ID：12834051
> 
> 赞同：0
> 
> 时间：2012-10-11T07:08:32.953
> 
> 标签：c#, jquery, asp.net-mvc

How to save Data In Database to the controller.i am using jquery to get data from the textbox. please help me.

Contactcontroller.cs

```
public ActionResult Create(string Name, string Company, string
 Regarding, string Email, string Phone, string Message)         {
           string body = "Name: " + Name + "<br>" + "\nCompany: " + Company + "<br>" + "Regarding: " + Regarding + "<br>" + "Email: " +
      Email + "<br>" + "Phone: " + Phone + "<br>" + "Message: " + Message;
                  try
     { 
   // code 
    } 
     catch
     {
} 
```

jquery.js

```
$("#btnSubmit").click(function (event) {
 var data = { Name: $("#txtbxName").val(), Company: $("#txtbxCompany").val(), Regarding:
            $("#ddlRegarding").val(), Email: $("#txtbxEmail").val(), Phone: $("#txtbxPhone").val(), Message:
            $("#txtarMessage").val()
        }
        $.ajax({
            type: "POST",
            url: "/Contact/Create",  // the method we are calling
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(data),

            dataType: "html",
            success: function (result) {

                $("#txtarMessage").val("");
                alert(result);
                // Or if you are returning something
                alert('I returned... ' + result.WhateverIsReturning);
            },
            error: function (result) {

                alert('Thanks for sending info');
                location.reload();

                return false;

            }
        });
    }); 
```

i am getting data to the textbox using jquery. now i want to save the whole data in the database through Controller.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:21:35.310

jQuery

```
$.post('/Controller/Create', { Name: $('#Name').val(), Company: "Company", Regarding: "", Email: "",Phone: "",Message: ""}, function (data) {

}); 
```

控制器动作

```
public JsonResult Create(string Name, string Company, string Regarding, string Email, string Phone, string Message)
{
string body = "Name: " + Name + "<br>" + "\nCompany: " + Company + "<br>" + "Regarding: " + Regarding + "<br>" + "Email: " +
  Email + "<br>" + "Phone: " + Phone + "<br>" + "Message: " + Message;

return Json(body, JsonRequestBehavior.AllowGet);
} 
```

# git - git rebase develop branch

> ID：12834056
> 
> 赞同：4
> 
> 时间：2012-10-11T07:08:40.467
> 
> 标签：git

Sorry, just another "rebase" question but I'm confused about that.
Form time to time I push my commits on the develop branch to remote (origin). Now one thing always mentioned with rebase is: "never rebase if you have pushed your changes".
This means, I could never ever rebase my develop branch, only merge it?

Working on a feature-branch is clear, if I haven't pushed that, I could rebase instead of merge. My question only points to the develop branch.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:46:30.813

阅读[“Pro Git”一书中的“Rebase 的危险”](http://git-scm.com/book/en/Git-Branching-Rebasing#The-Perils-of-Rebasing) ——它提供了很好的图片解释。[`git-rebase`手册页](http://www.kernel.org/pub/software/scm/git/docs/git-rebase.html)还包含“从上游变基中恢复”部分），这使您站在可能受您的变基影响的每个人的立场上。;-) 还包括漂亮的 ASCII 艺术。

不，“永远不要对推送到公共存储库的内容进行变基”不应该被视为教条：有时，*如果这种变基清楚地传达给公共存储库的其他用户，这是一种有效的方法。*例如，看看[当前的 Git 维护者对他的“pu”分支](http://lwn.net/Articles/145124/)是怎么说的（这个备忘录有些过时了，这个文本的新版本没有直接提到变基，所以我决定链接到这个旧版本）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T07:17:29.990

如果没有人使用您的远程仓库克隆/更新他/她自己的本地仓库，您可以重新设置基准（并强制下一次推送）。
如果其他人从您的远程仓库中拉出，并且您强制推送您的 rebase 分支，您会发布新的历史记录，迫使他们执行更复杂的重置操作（他们必须将自己的本地分支重置为新的远程分支历史记录，并且然后重新应用他们自己的提交）。
对于公共远程仓库，[强制推送可能会导致问题；）](https://stackoverflow.com/questions/253055/how-do-i-push-amended-commit-to-the-remote-git-repo#432518)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:10:42.050

你有什么“种类”的分支并不重要（毕竟它只是一个概念，对于 git，一个分支就是一个分支）。一旦你推送了任何更改，不要做 rebase，否则提交的哈希值会改变。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T08:23:37.683

您不应该对推送的提交进行变基。但是，`-i`对未推送的提交进行变基 ( ) 是完全可以的。

# opengl - texturing using texelFetch()

> ID：12834058
> 
> 赞同：7
> 
> 时间：2012-10-11T07:08:41.490
> 
> 标签：opengl, glsl, shader, textures

When I pass non max values into texture buffer, while rendering it draws geometry with colors at max values. I found this issue while using glTexBuffer() API.

E.g. Let’s assume my texture data is GLubyte, when I pass any value less than 255, then the color is same as that of drawn with 255, instead of mixture of black and that color.
I tried on AMD and nvidia card, but the results are same. Can you tell me where could be going wrong?

I am copying my code here:

Vert shader:

```
in vec2 a_position;
uniform float offset_x;
void main()
{ 
   gl_Position = vec4(a_position.x + offset_x, a_position.y, 1.0, 1.0);
} 
```

Frag shader:

```
out vec4 Color;
uniform isamplerBuffer sampler;
uniform int index;
void main() 
{
   Color=texelFetch(sampler,index);

} 
```

Code:

```
GLubyte arr[]={128,5,250};
glGenBuffers(1,&bufferid);

glBindBuffer(GL_TEXTURE_BUFFER,bufferid);

glBufferData(GL_TEXTURE_BUFFER,sizeof(arr),arr,GL_STATIC_DRAW);
glBindBuffer(GL_TEXTURE_BUFFER,0);

glGenTextures(1, &buffer_texture);   

glBindTexture(GL_TEXTURE_BUFFER, buffer_texture);
glTexBuffer(GL_TEXTURE_BUFFER, GL_R8, bufferid);

glUniform1f(glGetUniformLocation(shader_data.psId,"offset_x"),0.0f);
glUniform1i(glGetUniformLocation(shader_data.psId,"sampler"),0);
glUniform1i(glGetUniformLocation(shader_data.psId,"index"),0);

glGenBuffers(1,&bufferid1);

glBindBuffer(GL_ARRAY_BUFFER,bufferid1);
glBufferData(GL_ARRAY_BUFFER,sizeof(vertices4),vertices4,GL_STATIC_DRAW);

attr_vertex = glGetAttribLocation(shader_data.psId, "a_position");

glVertexAttribPointer(attr_vertex, 2 , GL_FLOAT, GL_FALSE ,0, 0);

glEnableVertexAttribArray(attr_vertex);

glDrawArrays(GL_TRIANGLE_FAN,0,4);

glUniform1i(glGetUniformLocation(shader_data.psId,"index"),1);

glVertexAttribPointer(attr_vertex, 2 , GL_FLOAT, GL_FALSE ,0,(void *)(32) );

glDrawArrays(GL_TRIANGLE_FAN,0,4);

glUniform1i(glGetUniformLocation(shader_data.psId,"index"),2);

glVertexAttribPointer(attr_vertex, 2 , GL_FLOAT, GL_FALSE ,0,(void *)(64) );

glDrawArrays(GL_TRIANGLE_FAN,0,4); 
```

In this case it draws all the 3 squares with dark red color.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:04:51.187

```
uniform isamplerBuffer sampler;
glTexBuffer(GL_TEXTURE_BUFFER, GL_R8, bufferid); 
```

你的问题是：它们不匹配。

您将纹理的存储创建为无符号 8 位整数，读取时将其标准化为*浮点数。*但是你告诉着色器你给了它有*符号*的 8 位整数，这些整数将被读取为*整数*，而不是浮点数。

您因不一致而混淆了 OpenGL。采样器类型与纹理格式不匹配会产生未定义的行为。

那应该是一个`samplerBuffer`，而不是一个`isamplerBuffer`。

# c# - How to convert DataTable to object type List in C#

> ID：12834059
> 
> 赞同：4
> 
> 时间：2012-10-11T07:08:46.953
> 
> 标签：c#, datatable, generic-list

I want to convert `DataTable` to `List<object>` in C#. Here is my code. But it is not working. Please help me

```
public List<object> ShowMessage()
{
    List<object> obj = new List<object>();

    DataTable dt = new DataTable();
    dt.Columns.Add("ID");
    dt.Columns.Add("Name");

    dt.Rows.Add("1","AAA");
    dt.Rows.Add("2", "BBB");
    dt.Rows.Add("3", "CCC");

    foreach (DataRow dr in dt.Rows)
    {
        obj.Add(dr);
    }

    return obj;
} 
```

**This is the Error--**

![enter image description here](../Images/2fbab5e408faec18fb407a7471774379.png)

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-10-11T07:32:33.320

如果您有任何类型的列表对象的 DataType 类似这样

```
public class MyObj
{
    public string Name { get; set; }
    public int ID { get; set; }
} 
```

那么你可以这样做

```
private List<MyObj> test(DataTable dt)
{

    var convertedList = (from rw in dt.AsEnumerable()
        select new MyObj() 
        {
            ID = Convert.ToInt32(rw["ID"]),
            Name = Convert.ToString(rw["Name"])
        }).ToList();

    return convertedList;
} 
```

或者如果你仍然想要`List<object>`，那么就这样做

```
private List<object> GetListByDataTable(DataTable dt)
{

    var reult = (from rw in dt.AsEnumerable()
        select new
        {
            Name = Convert.ToString(rw["Name"]),
            ID = Convert.ToInt32(rw["ID"])
        }).ToList();

    return reult.ConvertAll<object>(o => (object)o);
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-11T08:34:23.320

我希望您要做的是将数据表中的对象（可能是从查询中返回的）插入到列表中。

```
public List<object> ShowMessage2(DataTable dtInput)
    {
        List<object> objectList = new List<object>();

        foreach(DataRow dr in dtInput.Rows)
        {
            MyObj newObj = new MyObj();
            newObj.ID = Convert.ToInt32(dr["ID"]);  // Beware of the possible conversion errors due to type mismatches
            newObj.Name = dr["Name"].ToString();

            objectList.Add(newObj);
        }
        return objectList;
    }

public class MyObj
{
    public int ID { get; set; }
    public string Name { get; set; }        
} 
```

* * *

刚刚看到你对问题的补充！如果您的意图只是在网格视图中显示数据，我不明白为什么要尝试生成列表，您可以在一行中完成！！！

```
List<object> obj = new List<object>();
DataTable dt = new DataTable();
dt.Columns.Add("ID");
dt.Columns.Add("Name");

dt.Rows.Add("1", "AAA");
dt.Rows.Add("2", "BBB");
dt.Rows.Add("3", "CCC");

dataGridView1.DataSource = dt; // THIS IS ALL U NEED! Just bind the DataTable to the grid as data source! 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T07:13:32.593

需要先创建 DataRow，然后再将其添加到 DataRow 集合中。

例如，

```
DataTable dt = new DataTable();
        dt.Columns.Add("ID");
        dt.Columns.Add("Name");
        var dr = dt.NewRow();
        dr[0] = "1";
        dr[1] = "AAA";
        dt.Rows.Add(dr);
        ... likewise

        foreach (DataRow dr in dt.Rows)
        {
            obj.Add(dr);
        } 
```

现在列表应该包含行。让我知道它是否有效。

# javascript - 通过javascript隐藏一行

> ID：12834070
> 
> 赞同：2
> 
> 时间：2012-10-11T07:09:45.830
> 
> 标签：javascript, asp.net

我有一行我想通过 javascript 隐藏。问题是它给了我 Microsoft JScript 运行时错误：需要对象。在 aspx 上的行：

```
<tr id="RowCliamMessage">
    <td>
        <asp:Label ID="Label11" runat="server" ForeColor="Red" Visible="false"
            Text="While .....">
        </asp:Label>
    </td>
</tr> 
```

JavaScript：

```
function CompareDateRange(sender,args)
{
    if ((CheckDate >= RangeDate1))
    {
        args.IsValid = true;

        if (CheckDate <= RangeDate3)
        {
            document.getElementById('ContentPlaceHolder1_RowCliamMessage').style.display="none";
        }
    }
    else
    {
        args.IsValid = false;
    }
} 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:21:26.020

**你喜欢这个不要使用 contentplaceholder ID**

**您可以通过以下代码隐藏您的 TR。**

```
document.getElementById('RowCliamMessage').style.visibility = 'hidden'; 
```

**您可以通过以下代码查看您的 TR。**

```
document.getElementById('RowCliamMessage').style.visibility = "visible" 
```

**显示之间的区别：无和可见性：隐藏**

> 可见性：隐藏隐藏元素，但它仍然占用布局中的空间。
> 
> display: none 从文档中完全删除元素。它不占用任何空间，即使它的 HTML 仍在源代码中。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:33:34.263

```
alert(document.getElementById('RowCliamMessage'));
document.getElementById('RowCliamMessage').style.display = 'none';​ 
```

jdFiddle 上的[工作演示](http://jsfiddle.net/bXn6n/)

# ruby-on-rails - 任何人都可以建议学习 Ruby 的好材料（从一开始）？

> ID：12834074
> 
> 赞同：-1
> 
> 时间：2012-10-11T07:09:55.420
> 
> 标签：ruby-on-rails, ruby

我是初学者**Ruby**程序员，想找到一种更有效的学习方法，是看书好还是看教程好？

任何人都可以提出任何书籍或任何有效的教程吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T07:13:58.413

[Tryruby](http://tryruby.org/) - 有趣又简单

[Ruby 入门 - Codecademy](http://www.codecademy.com/tracks/ruby?utm_medium=email&utm_campaign=ruby-alpha&utm_source=Sailthru&utm_term=ruby-alpha-tester)的 Ruby 课程

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:14:16.133

我和 Kevin Skoglund 从 Lynda.com 学习

[lynda.com 上的 Ruby 课程](http://www.lynda.com/Ruby-tutorials/essential-training/47905-2.html)

这是一门很棒的课程，会给你一个很好的起点。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T08:54:46.357

我认为一本好书是一种可靠的开始方式，只需从头到尾阅读并重新阅读这本书并完成所有挑战（我强烈推荐一本有这些挑战的书），然后你就可以开始扩展了。下面是我是如何开始的。

[Chris Pine](http://pine.fm/LearnToProgram/)的《学习编程》非常适合初学者，并且有很多问题可以让您正确思考。

然后继续[学习 Michael Hartl 的 Ruby on Rails 教程 3](http://ruby.railstutorial.org/ruby-on-rails-tutorial-book)，这非常棒，因为您制作了一个非常简单的 twitter 版本并被介绍到 rails 框架。

[Codeschool](http://www.codeschool.com/)很棒，它不仅仅是 Rails 学校，而且他们有大约 7 或 8 门很棒的 Rails 相关课程，涵盖测试、Rails 基础、Rails 最佳实践，甚至还有尝试 ruby​​ 课程，现在还有更高级的 ruby​​ bits 课程。

最后，我总是会推荐[Railscasts.com](http://www.railscasts.com) Ryan Bates 已经涵盖了太多它的宝贵资源。

享受红宝石！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-11T08:05:53.360

[扎实的 Rubyist](http://www.manning.com/black2/)

[红宝石要领](http://www.techotopia.com/index.php/Ruby_Essentials)

[Programming Ruby](http://www.ruby-doc.org/docs/ProgrammingRuby/)（过时的东西，但仍然值得一读，因为基础知识永远不会过时）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-11T07:23:00.637

如果您对 Ruby On Rails 感兴趣，那么 Michael Hartl 的教程（真的更像一本书）很棒：[http ://ruby.railstutorial.org/ruby-on-rails-tutorial-book](http://ruby.railstutorial.org/ruby-on-rails-tutorial-book)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-11T08:32:56.397

我建议您参加在线课程，您可以在其中与其他人互动。

我参加过的一门很好的课程是[http://rubylearning.org/classes/](http://rubylearning.org/classes/)

它不是免费的，它要花费近 20 美元

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-10-11T07:32:57.400

通过书籍或示例学习是否“更好”是相当主观的（这是问题）。有些人通过书本学得更好，有些人通过修改示例来学习。两者都做，你会很快发现你喜欢哪种方式。

但比学习一门新语言更重要的是学习如何学习一门新语言。大多数技能都是如此。

在问这样的问题之前，我会先在 google、wikipedia 和 stackoverflow 上搜索已经存在的内容。

如：[https ://stackoverflow.com/search?q=best+ruby+tutorial&submit=search](https://stackoverflow.com/search?q=best+ruby+tutorial&submit=search)

很快就会出现这些相关的问题

[https://stackoverflow.com/questions/6806/what-is-the-best-way-to-learn-ruby](https://stackoverflow.com/questions/6806/what-is-the-best-way-to-learn-ruby)

[https://stackoverflow.com/questions/549394/whats-a-good-book-for-learning-ruby](https://stackoverflow.com/questions/549394/whats-a-good-book-for-learning-ruby)

[https://stackoverflow.com/questions/124371/what-is-the-best-ruby-tutorial-online](https://stackoverflow.com/questions/124371/what-is-the-best-ruby-tutorial-online)

您会注意到其中 2/3 被关闭为“不具建设性”。

# c# - mvc3 中的 formmethod.post 与 formmethod.get？

> ID：12834075
> 
> 赞同：0
> 
> 时间：2012-10-11T07:09:57.423
> 
> 标签：c#, asp.net-mvc-3

我正在 mvc3 中处理级联下拉列表，当我使用 formmethod.post 时，我能够在 dropdownlsi1 中选择一个值，并且基于该选择我能够在 dropdownlist2 中获取值，并且在选择 dropdownlist2 中的项目后，我得到了一个按钮点击它会给用户一条消息，你已经选择了 X 和 Y .....这很好，我没有问题

但是当我使用formmethod.get时，我能够获得第一个下拉列表，并且基于第一个下拉列表中的选择，我能够获得第二个下拉列表中的第二个下拉列表和项目，在第二个下拉列表中选择之后，我得到了一个按钮，但是在单击按钮后，当我加载页面时再次看到相同的页面，即只有 1t 下拉列表..

在什么场景下我们应该使用formmethod.post和formmethod.get？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:21:59.483

你有两个动作：

*   [HttpGet]
*   [HttpPost]

在您加载页面的第一个动作中，如果您使用`Post`方法，那么您将`Post`数据发送到第二个动作。如果您使用`Get`刚刚 reload 的方法`form action`，它也会发送数据，但它们包含在 url 中，就像这样`site.com?param=1&test=2`。

[GET 还是 POST 方法？他们之间有什么区别？](http://www.diffen.com/difference/Get_vs_Post)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:31:44.123

您`formmethod.get`在发出 http get 请求和`formmethod.post`发出 http post 请求时使用它是参数方法。在我看来，您的解决方案是将下拉列表的先前选定值传递到视图中，并使用选定值初始化助手以正确呈现它们。

可以使用**两种**请求类型**来完成。**

# html - 在黑莓 phonegap 应用程序中滚动页面时页眉和页脚隐藏

> ID：12834079
> 
> 赞同：0
> 
> 时间：2012-10-11T07:10:21.273
> 
> 标签：html, cordova, blackberry

我为 Blackberry 平台开发了一个 Phonegap 应用程序。我遇到的一个问题是，在滚动页面时，页眉和页脚隐藏在 Blackberry Phonegap 应用程序中。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:29:55.477

将放置页眉和页脚的父垂直管理器设为

```
NO_VERTICAL_SCROLL|NO_VERTICAL_SCROLLBAR 
```

而所有其余的数据都应该放在一个单独的垂直管理器（v1）中，它是

```
VerticalFieldManager vr1 = new VerticalFieldManager(VERTICAL_SCROLL|VERTICAL_SCROLLBAR); 
```

而这又被放置在父垂直管理器中；

```
verticalManager.add(vr1); 
```

如果您发布代码，则可以更好地解释答案。

# php - Tank auth在不同系统（Mac和Linux）创建不同的密码哈希码

> ID：12834083
> 
> 赞同：1
> 
> 时间：2012-10-11T07:10:35.997
> 
> 标签：php, codeigniter, md5, tankauth

我使用 mac 作为 web 服务器，并以 codeigniter 作为框架。对于身份验证，我应用了 tank auth。出现一个问题：

之前：我用mac做web服务器，登录很好。

现在：我使用 linux 作为 Web 服务器。我导入了相同的数据库，网站运行良好。但是，我无法登录。

所以我在mac和linux中测试了使用相同的密码注册，发现它创建了不同的密码哈希码。

Linux：

```
$P$Bh3B8uGDw0yGO1e/ytCUw2jXcswkso1 
```

苹果电脑：

```
$2a$08$jBCiR79fHN6xzOw5sB09beFifwU08nQdO0Au8P3hxSvIUnoepKfwW 
```

我的问题是：这个问题是关于系统的吗？还是php版本？

还是关于 php 的 md5() 函数？

我在 tank auth 中提供了一些密码哈希代码：

```
function PasswordHash($iteration_count_log2, $portable_hashes)
{
    $this->itoa64 = './0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';

    if ($iteration_count_log2 < 4 || $iteration_count_log2 > 31)
        $iteration_count_log2 = 8;
    $this->iteration_count_log2 = $iteration_count_log2;

    $this->portable_hashes = $portable_hashes;

    $this->random_state = microtime();
    if (function_exists('getmypid'))
        $this->random_state .= getmypid();
}

function get_random_bytes($count)
{
    $output = '';
    if (is_readable('/dev/urandom') &&
        ($fh = @fopen('/dev/urandom', 'rb'))) {
        $output = fread($fh, $count);
        fclose($fh);
    }

    if (strlen($output) < $count) {
        $output = '';
        for ($i = 0; $i < $count; $i += 16) {
            $this->random_state =
                md5(microtime() . $this->random_state);
            $output .=
                pack('H*', md5($this->random_state));
        }
        $output = substr($output, 0, $count);
    }

    return $output;
}

function encode64($input, $count)
{
    $output = '';
    $i = 0;
    do {
        $value = ord($input[$i++]);
        $output .= $this->itoa64[$value & 0x3f];
        if ($i < $count)
            $value |= ord($input[$i]) << 8;
        $output .= $this->itoa64[($value >> 6) & 0x3f];
        if ($i++ >= $count)
            break;
        if ($i < $count)
            $value |= ord($input[$i]) << 16;
        $output .= $this->itoa64[($value >> 12) & 0x3f];
        if ($i++ >= $count)
            break;
        $output .= $this->itoa64[($value >> 18) & 0x3f];
    } while ($i < $count);

    return $output;
}
    function HashPassword($password)
{
    $random = '';

    if (CRYPT_BLOWFISH == 1 && !$this->portable_hashes) {
        $random = $this->get_random_bytes(16);
        $hash =
            crypt($password, $this->gensalt_blowfish($random));
        if (strlen($hash) == 60)
            return $hash;
    }

    if (CRYPT_EXT_DES == 1 && !$this->portable_hashes) {
        if (strlen($random) < 3)
            $random = $this->get_random_bytes(3);
        $hash =
            crypt($password, $this->gensalt_extended($random));
        if (strlen($hash) == 20)
            return $hash;
    }

    if (strlen($random) < 6)
        $random = $this->get_random_bytes(6);
    $hash =
        $this->crypt_private($password,
        $this->gensalt_private($random));
    if (strlen($hash) == 34)
        return $hash;

    # Returning '*' on error is safe here, but would _not_ be safe
    # in a crypt(3)-like function used _both_ for generating new
    # hashes and for validating passwords against existing hashes.
    return '*';
} 
```

任何的想法？我在谷歌搜索了这个问题，但得到的信息很少，你能帮帮我吗？谢谢你..

哦，也许是关于 CRYPT_BLOWFISH。Linux 没有 CRYPT_BLOWFISH。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:52:22.050

我自己得到了解决方案。

问题是关于php版本的。

php 5.2 不支持 CRYPT_BLOWFISH，但 php 5.3 可以。

谢谢大家。

# asp.net-mvc - 如何根据 kendo ui mvc 网格中的条件格式化行

> ID：12834086
> 
> 赞同：11
> 
> 时间：2012-10-11T07:10:37.373
> 
> 标签：asp.net-mvc, asp.net-mvc-3, kendo-ui

我正在研究 asp.net mvc。我正在尝试在 Kendo mvc ui 网格中显示消息列表。我写了这样的代码，

```
Html.Kendo().Grid((List<messages>)ViewBag.Messages))
                .Name("grdIndox")
                .Sortable(m => m.Enabled(true).SortMode(GridSortMode.MultipleColumn))
                .HtmlAttributes(new { style = "" })
                .Columns(
                col =>
                {
                    col.Bound(o => o.RecNo).HtmlAttributes(new { style = "display:none" }).Title("").HeaderHtmlAttributes(new { style = "display:none" });
                    col.Bound(o => o.NoteDate).Title("Date").Format("{0:MMM d, yyyy}");
                    col.Bound(o => o.PatName).Title("Patient");
                    col.Bound(o => o.NoteType).Title("Type");
                    col.Bound(o => o.Subject);

                }

                )
                .Pageable()
                .Selectable(sel => sel.Mode(GridSelectionMode.Single).Type(GridSelectionType.Row))
                .DataSource(

                           ds => ds.Ajax().ServerOperation(false).Model(m => m.Id(modelid => modelid.RecNo))
                         .PageSize(10)
                            //.Read(read => read.Action("Messages_Read", "Msg"))
                )

                .Events(ev => ev.Change("onSelectingGirdRow"))
                ) 
```

我在表中有字段，例如 IsRead-boolean 类型。所以如果消息是未读消息，那么我需要用粗体字体格式化该记录。我使用了 clientTemplates，但我只能格式化我想要格式化整行的特定单元格。请指导我。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-11T19:10:18.140

**正如 Sanja 建议的那样，您可以使用 dataBound 事件，但循环遍历tr**元素（行）会更好。此外，我假设您将需要相关的[dataItem](http://docs.kendoui.com/api/web/grid#dataitem)来检查指示是否已读取消息的属性。

例如

```
dataBound: function ()
{
   var grid = this;
   grid.tbody.find('>tr').each(function(){
     var dataItem = grid.dataItem(this);
     if(!dataItem.IsMessageRead)
      {
         $(this).addClass('someBoldClass');
      }
   })
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-11T07:22:18.413

您可以使用 dataBound 事件来更改您的行。

```
dataBound: function ()
{
   $('td').each(function(){
     if(some condition...)
      {
         $(this).addClass('someBoldClass')}
      }
   })
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-22T08:44:38.923

还有另一种方法可以做到这一点。它称为[RowAction](https://docs.telerik.com/aspnet-mvc/api/Kendo.Mvc.UI.Fluent/GridBuilder#methods-RowAction(System.Action%3CKendo.Mvc.UI.GridRow%3CT%3E%3E))。

```
.RowAction(row => 
{
   if (condition)
   {
      row.HtmlAttributes["class"] = "someBoldClass";
   }
}) 
```

请注意，**RowAction**仅适用于在**服务器端**呈现的行。因此，在您的情况下，您可以使用**RowAction**作为**DataBound**的替代品。

# html - 推送通知通道何时更改？

> ID：12834087
> 
> 赞同：0
> 
> 时间：2012-10-11T07:10:38.090
> 
> 标签：html, microsoft-metro, winjs

我有一个地铁应用程序，正在实现推送通知概念。在这里我想在我的应用程序安装时将频道 URI 发送到我的服务器，所以在哪种情况下我需要获取频道 URI，在哪种情况下我需要将此 URI 发送到服务器。实际上，在这里我观察到频道 URI 仅在我们卸载应用程序并重新安装时才会变化。否则它将保持不变。谁能建议我需要使用哪些事件，这里使用的是 HTML5 和 WinJS？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T14:19:36.783

A new push notification channel URI isn't always created when the channel API is called. The `CreatePushNotificationChannelForApplicationAsync` method will return a cached local copy of the channel URI for a period of time (currently 24 hours).

The [how-to article on MSDN](http://msdn.microsoft.com/en-us/library/windows/apps/hh465412.aspx) provides guidance about channel management summarized here:

*   Whenever the app is run, request a new channel.
*   If the new channel URI is different from the old channel URI:
    *   Replace the channel URI on the service with the new channel URI.
    *   Once your service has the channel, store the new channel URI for future comparisons.

# api - 获取待售房屋信息：房地产 API

> ID：12834090
> 
> 赞同：7
> 
> 时间：2012-10-11T07:10:53.453
> 
> 标签：api

任何人都可以建议我：

我是一名网络开发人员/计算机科学家，正在尝试为购房建立新的决策支持系统。

是否有任何公司/API 可以为我提供执行以下操作的 API 数据 (XML)：

1.  对于给定的邮政编码：返回 HomeID 或待售房屋。
2.  对于每个家庭，请给我家庭规格。

Zillow 做到了，但现在他们停止了 GetRegionPostings API，该 API 会返回给定邮政编码中待售房屋的 HomeID。

请让我知道世界各地是否存在。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T17:44:05.117

如果您想使用 Zillow，GetDeepSearchResults API 会返回给定地址的 id。 [http://www.zillow.com/howto/api/GetDeepSearchResults.htm](http://www.zillow.com/howto/api/GetDeepSearchResults.htm)

# cocoa - 动画 NSStatusItem

> ID：12834092
> 
> 赞同：1
> 
> 时间：2012-10-11T07:11:09.387
> 
> 标签：cocoa, animation, core-animation, nsview, nsstatusitem

我在 NSStatusItem 对象中有一个自定义视图。此视图显示图标。它也可以显示进度，但你必须调用`[self.statusitemview setProgressValue:theValue];` 我有一组图标，它会使用这个值选择正确的一个。

这看起来很生涩，因为执行的进程不会一直发送更新。所以我想动画这个。

我想像使用其他可可控件一样调用动画：[[self.statusItemView animator] setProgressValue:value];

如果那是可能的

这样做的正确方法是什么？我不想使用 NSTimer。

**编辑**

使用 drawRect: 方法绘制图像

这是代码：

```
- (void)drawRect:(NSRect)dirtyRect
{
    if (self.isHighlighted) {
        [self.statusItem drawStatusBarBackgroundInRect:self.bounds withHighlight:YES];
    }

    [self drawIcon];
}

- (void)drawIcon {
    if (!self.showsProgress) {
        [self drawIconWithName:@"statusItem"];
    } else {
        [self drawProgressIcon];
    }
}

- (void)drawProgressIcon {
    NSString *pushed = (self.isHighlighted)?@"-pushed":@"";
    int iconValue = ((self.progressValue / (float)kStatusItemViewMaxValue) * kStatusItemViewProgressStates);
    [self drawIconWithName:[NSString stringWithFormat:@"statusItem%@-%d", pushed, iconValue]];
}

- (void)drawIconWithName:(NSString *)iconName {
    if (self.isHighlighted && !self.showsProgress) iconName = [iconName stringByAppendingString:@"-pushed"];
    NSImage *icon = [NSImage imageNamed:iconName];
    NSRect drawingRect = NSCenterRect(self.bounds, icon);

    [icon drawInRect:drawingRect fromRect:NSZeroRect operation:NSCompositeSourceOver fraction:1.0 respectFlipped:YES hints:nil];
}

- (void)setProgressValue:(int)progressValue {
    if (progressValue > kStatusItemViewMaxValue || progressValue < 0) {
        @throw [NSException exceptionWithName:@"Invalid Progress Value"
                                       reason:[NSString stringWithFormat:@"The value %d id invalid. Range {0 - %d}", progressValue, kStatusItemViewMaxValue]
                                     userInfo:nil];
    }

    _progressValue = progressValue;
    [self setNeedsDisplay:YES];
}

- (void)setShowsProgress:(BOOL)showsProgress {
    if (!showsProgress) self.progressValue = 0;
    _showsProgress = showsProgress;

    [self setNeedsDisplay:YES];
} 
```

它必须以某种方式成为可能。由于来自 Apple 的标准控件是使用 drawRect: 绘制的，但具有流畅的动画...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-16T01:55:07.137

要为自定义属性设置动画，您需要使您的视图符合[`NSAnimatablePropertyContainer`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSAnimatablePropertyContainer_protocol/Introduction/Introduction.html)协议。

然后，您可以将多个自定义属性设置为动画（除了已经支持的属性`NSView`），然后您可以简单地使用视图的`animator`代理来为属性设置动画：

```
yourObject.animator.propertyName = finalPropertyValue; 
```

除了使动画非常简单之外，它还允许您使用以下方法同时为多个对象设置动画`NSAnimationContext`：

```
[NSAnimationContext beginGrouping];
firstObject.animator.propertyName = finalPropertyValue1;
secondObject.animator.propertyName = finalPropertyValue2;
[NSAnimationContext endGrouping]; 
```

您还可以设置持续时间并提供完成处理程序块：

```
[NSAnimationContext beginGrouping];
[[NSAnimationContext currentContext] setDuration:0.5];
[[NSAnimationContext currentContext] setCompletionHandler:^{
    NSLog(@"animation finished");
}];
firstObject.animator.propertyName = finalPropertyValue1;
secondObject.animator.propertyName = finalPropertyValue2;
[NSAnimationContext endGrouping]; 
```

对于标准`NSView`对象，如果你想为视图中的属性添加动画支持，你只需要覆盖`+defaultAnimationForKey:`视图中的方法并返回该属性的动画：

```
//declare the default animations for any keys we want to animate
+ (id)defaultAnimationForKey:(NSString *)key
{
    //in this case, we want to add animation for our x and y keys
    if ([key isEqualToString:@"x"] || [key isEqualToString:@"y"]) {
        return [CABasicAnimation animation];
    } else {
        // Defer to super's implementation for any keys we don't specifically handle.
        return [super defaultAnimationForKey:key];
    }
} 
```

我创建了一个简单的[示例项目](https://github.com/rkeniger/Animating-View)，展示了如何使用该`NSAnimatablePropertyContainer`协议同时为视图的多个属性设置动画。

成功更新视图所需要做的就是确保`setNeedsDisplay:YES`在修改任何可动画属性时调用它。然后，您可以在`drawRect:`方法中获取这些属性的值，并根据这些值更新动画。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-14T03:49:22.510

我[在这里回答了类似的问题](https://stackoverflow.com/questions/11385499/nsprogressindicator-in-nsstatusitem/12572267#12572267)

您不能使用 animator 为自定义属性设置动画，但如果需要，您可以编写自定义动画，但这不是最好的主意。

更新（自定义动画）：

```
- (void) scrollTick:(NSDictionary*) params
{
  static NSTimeInterval timeStart = 0;
  if(!timeStart)
    timeStart = [NSDate timeIntervalSinceReferenceDate];

  NSTimeInterval stTime = timeStart;
  NSTimeInterval currentTime = [NSDate timeIntervalSinceReferenceDate];
  NSTimeInterval totalTime = [[params valueForKey:@"duration"] doubleValue];

  if(currentTime > timeStart + totalTime)
  {
      currentTime = timeStart + totalTime;
      timeStart = 0;
  }

  double progress = (currentTime - stTime)/totalTime;
  progress = (sin(progress*3.14-3.14/2.0)+1.0)/2.0;

  NSClipView* clip = [params valueForKey:@"target"];
  float startValue = [[params valueForKey:@"from"] floatValue];
  float endValue = [[params valueForKey:@"to"] floatValue];

  float newValue = startValue + (endValue - startValue)*progress;
  [self setProperty:newValue];

  if(timeStart)
    [self performSelectorOnMainThread:@selector(scrollTick:) withObject:params waitUntilDone:NO];
}

- (void) setAnimatedProperty:(float)newValue
{
  NSDictionary* params = [NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithFloat:self.property], @"from",
   [NSNumber numberWithFloat:newValue],@"to",
   [NSNumber numberWithFloat:1.0],@"duration",
            nil];

  [self performSelectorOnMainThread:@selector(scrollTick:) withObject:params waitUntilDone:NO];
} 
```

# android - 在列表视图中获取联系人时遇到困难

> ID：12834094
> 
> 赞同：0
> 
> 时间：2012-10-11T07:11:14.280
> 
> 标签：android, android-emulator, contacts, contactscontract

我正在尝试获取手机的所有联系人，`listview`以便`checkboxes`一次选择多个联系人。我编写了一些代码，这些代码创建的行数与我的`emulator`. 但问题是联系人的姓名和号码没有出现，正如您在所附图片中看到的那样。此外，当我单击显示联系人按钮以显示所选联系人时`Toast`，也没有发生。

![在此处输入图像描述](../Images/834664afac96e71acaee232a76975682.png)

**custcontactview.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/linearLayout1"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:paddingBottom="5.0px"
android:paddingLeft="5.0px"
android:paddingTop="5.0px" >

<CheckBox
    android:id="@+id/checkBox1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:clickable="true"
    android:focusable="true"
    android:focusableInTouchMode="false" />

<TextView
    android:id="@+id/cConName"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignBottom="@+id/checkBox1"
    android:layout_marginLeft="15.0dip"
    android:layout_toRightOf="@+id/checkBox1"
    android:text="Small Text"
    android:textAppearance="?android:textAppearanceSmall" />

<TextView
    android:id="@+id/cConNum"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_above="@+id/cConName"
    android:layout_marginLeft="15.0dip"
    android:layout_toRightOf="@id/checkBox1"
    android:text="Medium Text"
    android:textAppearance="?android:textAppearanceMedium" />

</RelativeLayout> 
```

**activity_contacts_picker.xml**

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<Button
    android:id="@+id/btnShow"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Show Selected" />

<ListView
    android:id="@android:id/list"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_below="@+id/btnShow" >
</ListView>

</RelativeLayout> 
```

**ContactsPicker.java**

```
public class ContactsPicker extends ListActivity {

protected Object mActionMode;
public int selectedItem = -1;
private Button btnShowContacts;
private ListView myListView;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_contacts_picker);
            myListView = getListView();
    btnShowContacts = (Button) findViewById(R.id.btnShow);
    btnShowContacts.setOnClickListener(new View.OnClickListener() {
        public void onClick (View v){
            Toast.makeText(getApplicationContext(), "Button Clicked", Toast.LENGTH_SHORT).show();
            String name = null;
            String number = null;
            long [] ids = myListView.getCheckedItemIds();
            for(long id : ids) {
                Cursor contact = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, 
                        ContactsContract.CommonDataKinds.Phone.CONTACT_ID + " = ?", new String[] { id + "" }, null);
                while(contact.moveToNext()){
                    name = contact.getString(contact.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
                    number = contact.getString(contact.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
                }
                Toast.makeText(getApplicationContext(), "Name: " +name + "\n" + "Number: " + number , Toast.LENGTH_LONG).show();
            }
        }
    });
    ArrayList<Map<String, String>> list = buildData();
    String[] from = { "name", "purpose" };
    int[] to = { R.id.cConName, R.id.cConNum };
    SimpleAdapter adapter = new SimpleAdapter(this, list,R.layout.custcontactview, from, to);
    setListAdapter(adapter);
}

private ArrayList<Map<String, String>> buildData() {
    ArrayList<Map<String, String>> list = new ArrayList<Map<String, String>>();
    list.clear();
    Cursor people = getContentResolver().query(ContactsContract.Contacts.CONTENT_URI, null, null, null,null);
    while (people.moveToNext()) {
        String contactName = people.getString(people.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
        String contactId = people.getString(people.getColumnIndex(ContactsContract.Contacts._ID));
        String hasPhone = people.getString(people.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));
        if ((Integer.parseInt(hasPhone) > 0)) {
            Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,ContactsContract.CommonDataKinds.Phone.CONTACT_ID + " = " + contactId, null, null);
            while (phones.moveToNext()) {
                String phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
                Map<String, String> NamePhoneType = new HashMap<String, String>();
                NamePhoneType.put("Name", contactName);
                NamePhoneType.put("Phone", phoneNumber);
                list.add(NamePhoneType);
            }
            phones.close();
        }
    }
    people.close();
    startManagingCursor(people);        
    return list;
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:21:38.050

> 但问题是联系人的姓名和号码没有出现，如您在所附图片中看到的那样

首先，我猜您检查并看到您`ArrayList` `list`在`buildData`方法中具有实际值。其次，您使用键名`"Name"`，`"Phone"`当您将值添加到 时`HashMap`，但在您使用的`from`字符串数组中，您`SimpleAdapter`使用值`"name"`和`"purpose"`。在`from`String 数组中，您**需要**具有与`HashMap`.

> 此外，当我单击“显示联系人”按钮以在 Toast 中显示选定的联系人时，这也没有发生。

首先，当您有自定义行视图时，您不能使用 ListView 的默认机制检查项目。如果您想获取选中的项目，您需要自己管理`CheckBox`行中的状态。该`getCheckedItemIds()`方法不会返回有效的东西，并且查询将无法返回任何有效的结果。相反，您应该实现自己的自定义适配器并`HashMap`使用方法返回行（将包含名称和电话）`SimpleAdapter.getItem`。这样您就无需再次查询联系人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:47:17.893

呼叫`notifyDataSetChanged();`您需要刷新列表..

# php - 从特定日期的 sql 中检索数据并显示消息

> ID：12834095
> 
> 赞同：-4
> 
> 时间：2012-10-11T07:11:19.623
> 
> 标签：php, sql

我想从特定日期的 sql 中检索日期，如果特定日期的数据不可用，我想显示消息。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T07:18:41.353

```
$result = mysql_query("SELECT * FROM yourTable WHERE date = 'dateYouWantToCheck'");
$num_rows = mysql_num_rows($result); //count number of rows returned

if($num_rows > 0)
{
   //Show details here
}
else
{
   echo "No match found";
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:14:27.137

伪代码

```
SELECT CASE WHEN LENGTH(X.DATA) > 0 THEN X.DATA ELSE 'No Data Found' END

FROM 

(SELECT DATA FROM <TABLE NAME> WHERE DATE = <SOME DATE> )X 
```

# java - 如何使用soap web服务解析xml

> ID：12834096
> 
> 赞同：1
> 
> 时间：2012-10-11T07:11:23.770
> 
> 标签：java, xml, soap

我有一个定期将 xml 文件发送到特定网络服务的设备。我也有一个网络服务。我的网络服务读取了这个 xml。

我的 Web 服务定义是：

```
@Name("myWebService")
@SOAPBinding(style = Style.RPC)
@WebService(targetNamespace = "http://www.abc.com.tr/")

public class MyWebService {
    @Resource
    WebServiceContext wsContext;
    @WebMethod()
    public String DeviceStatus(@WebParam(name = "SP") SP SP) {..} 
```

我的类结构是 SP.java、MODULES.java、MODULE.java、SENSORS.java、SENSOR.java

之前没有问题，但是当传入的 xml 的命名空间定义发生变化时，我的 web 服务开始给出错误，例如：找不到子元素 SP

在传入的 xml 之前是：

```
<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:abc="http://www.abc.com.tr/">
<soap:Body>
<abc:DeviceStatus>
<SP>
<VERSION>1.2</VERSION>
<MODULES>
<MODULE><NAME>name</NAME><TYPE>1</TYPE>
<SENSORS>
<SENSOR><ID>0</ID><NAME>Input</NAME></SENSOR>
</SENSORS>
</MODULE>
</MODULES>
</SP>
</abc:DeviceStatus></soap:Body></soap:Envelope> 
```

现在传入的xml是：

```
<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<soap:Body>
<DeviceStatus xmlns="http://www.abc.com.tr/">
<SP>....... 
```

我期待着您的回复。谢谢...

# android - Android - 在应用程序 FrameLayout 中查看 PDF

> ID：12834100
> 
> 赞同：0
> 
> 时间：2012-10-11T07:11:59.943
> 
> 标签：android, pdf, android-framelayout

所以，我需要一个在我自己的应用程序中查看 PDF 的选项（是的，所以基本上我**不需要**像我将在下面发布的代码之类的东西......因为它只会**在新窗口中**打开 PDF使用设备上安装的外部应用程序）

```
final Intent pdfIntent = new Intent(Intent.ACTION_VIEW);
pdfIntent.setDataAndType(path, "application/pdf");
this.startActivity(pdfIntent); 
```

我想要做的是在我的应用程序内打开（并查看）PDF，例如在我的应用程序的任何布局文件中的 FrameLayout 内。我知道，可以选择上传 PDF 并使用 WebView 和 GoogleDocs 来显示 PDF - 但是由于您不能在没有互联网连接的情况下调用 GoogleDocs ......好吧，我需要别的东西。我搜索了图书馆，它们能够阅读/查看和显示 PDF（并且您可以免费使用），但我发现的大多数与 android 兼容的结果只是其他独立应用程序......就像我之前提到的，我想在我的应用程序中查看 PDF，在 FrameLayout 中（不打开新窗口）或其他什么都没有。

有人知道是否可以选择这样做吗？

# c - 试图在 Winforms 中编写泄漏代码

> ID：12834106
> 
> 赞同：0
> 
> 时间：2012-10-11T07:12:12.543
> 
> 标签：c, winforms, visual-studio-2010

要了解内存和 GDI 泄漏是如何发生的，以及如何消除此类泄漏，我正在尝试在 Winforms 中编写示例代码（使用 C）。我编写了在 GUI 上显示一些字符的简单应用程序。

如何使其在内存和 GDI 资源方面泄漏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:43:24.763

如果你想泄漏 GDI 资源，那么创建字体或画笔之类的东西而不是处理它们应该可以解决问题，这些基本上真的是你调用[`DeleteObject`](http://msdn.microsoft.com/en-us/library/windows/desktop/dd183539%28v=vs.85%29.aspx)释放相关资源（当然，当你退出进程时这些会被清理） .

您可以通过检查列为`DeleteObject`需要删除的对象的创建来跟踪泄漏，您还可以更高级并检查 PEB 和 TEB 中未完成的 GDI 句柄。[`EnumObjects`](http://msdn.microsoft.com/en-us/library/windows/desktop/dd162685%28v=vs.85%29.aspx)在这方面也应该有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:18:30.500

我对 GDI 不太熟悉，但是让程序泄漏到其他地方真的很容易。你只需要忘记释放你之前 malloc 的任何内存。

例子：

```
int someFunc() {
    char* buf = (char*)malloc(50);

    // Do stuff

    // Should free here like this:
    // free(buf);
    return 4;
} 
```

如果您不释放它，那么该内存就会泄漏，因为它无法访问，但仍分配给您的程序。

# javascript - JSP 页面中没有检测到 javascript

> ID：12834121
> 
> 赞同：0
> 
> 时间：2012-10-11T07:13:10.327
> 
> 标签：javascript, jsp, detect, noscript

> **可能重复：**
> [如何检测 JavaScript 是否被禁用？](https://stackoverflow.com/questions/121203/how-to-detect-if-javascript-is-disabled)

我的问题是如何在服务器端 Web 应用程序中检测到没有启用 javascript？我知道标签，但我想用 servlet 或纯 java 来做。我不想使用 noscript 标记，因为如果没有启用 javascript，我必须重定向页面。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:24:20.600

好的，我找到了一种方法。制作两个 div 标签。第一个将包含 noscript 文本，第二个将包含页面的主要内容。使用 javascript，您只需隐藏一个 div 并显示另一个。如果没有 javascript，带有文本的 div 将不会消失，而另一个不会显示。

# php - 如何在 MySQL 运行时创建表并将其保存到数据库中

> ID：12834131
> 
> 赞同：1
> 
> 时间：2012-10-11T07:13:52.533
> 
> 标签：php, html, mysql

我创建了一个表格，该表格在表格上输入了行数和列数。我想将该输入字段表创建到数据库中并将其值保存到数据库表中。指导我应该使用什么。

我的代码：

```
 <?php
    global $Host;
    global $Username;
    global $password;
    global $database;
    function getConnection()
    {
        $Host = "localhost";
        $Username = "root";
        $password = "";
        $database = "labdata";

        $oMysqli = new mysqli($Host,$Username,$password,$database);
        return($oMysqli);
    }
    ?>
    <html>
    <head>
    <title>aa</title>
    </head>
    <body>
        <form name="report Creation" method="post">
                            <label for='Table'>Define Table</label>

                            <label for='column'>Row</label>
                            <input type="text" name="column"></input>

                            <label for='rows'>Column</label>
                            <input type="text" name="rows"></input>

            <input type="submit" name="submit" value="submit">
    </form>
    </body>
    </html>     
    <?php
      function displayData($column,$rows)             
        {       
          echo "<table border='1' align='center'>";           
          for($i = 0;$i<$_POST['column'];$i++)       
            { 
                echo "<tr>".$i."</tr>";                              
                for($j = 0; $j <$_POST['rows'];$j++)         
                {
                 echo "<td>" ."<input type=\"text\" name='column_$i[$j]'>"."</td>"; 
                }
            }
            echo "</table>";
        echo "<form>";
        echo "<input type=\"submit\" name=\"ok\" value=\"ok\">";
        echo "</form>";
         //function displaydata($column = NULL) {if($id == NULL) Event::run('system.52');}
      }

    if(isset($_POST['submit']))displaydata();// Show data INSIDE form
    {
    $query = "CREATE TABLE Cars('$columns[$j]')";
    $oMysqli = getConnection();
    $oMysqli->query($query);
    $Insert = "INSERT INTO Cars(Id,column[$j]) VALUES($Id,$column)";
    $oMysqli = getConnection();
    $oMysqli->query($Insert);

    if(isset($_POST['ok']))
     {
      $plength = count($_POST['column']);
      for($j=0;$j<$plength;$j++)
      {

        $b = $_POST['column'][$j];
        $pa = array('column' => $b['column']);
        foreach($pa as $l => $m)
        {
            $pa[$l] = mysql_real_escape_string($m);
        }
                            $columns = $pa['column'];
                            $columns = $_POST['column'][$j];                        

                        for($n=0;$n<$columns;$n++)
                        {
                                $x= $_POST['column'][$j];
                                $ab = array('column' => $c['column']);
                                foreach($t as $u => $n)
                                {
                                 $ab[$u] = mysql_real_escape_string($n);                             
                                }
                                $columns = $ab['column'];
                                $columns = $_POST['column'][$j];
                        }

        }
    }
        if($result = $mysqli->query($Insert))
            {
             $k=0;
             $column = explode(",",$_POST['columns']);
                        foreach($column as $c)
                    {
                      echo "<td><b>$c</b></td>\r\n";
                    }
                echo "</tr>";
            }
        }
    ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:16:35.303

回答您的问题：创建表是对服务器执行 SQL 语句。

您应该重新考虑您的策略，根据用户输入创建表格是糟糕的设计。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:16:56.947

在查询中使用“CREATE TABLE”语法。

关于它的所有信息：http: [//dev.mysql.com/doc/refman/5.1/en/create-table.html](http://dev.mysql.com/doc/refman/5.1/en/create-table.html)

# django - 本地主机与 video1.hackedexistence.com

> ID：12834133
> 
> 赞同：0
> 
> 时间：2012-10-11T07:14:05.530
> 
> 标签：django, apache, python-2.7

我正在关注 youtube 上 HackedExistence 的 Django 教程。
由于该视频已有大约一年的历史，因此我认为版本差异可能会导致此问题。我目前正在播放第二个视频，但这个问题从第一个视频开始就出现了。

在我的浏览器上，

```
http://video1.hackedexistence.com/ 
```

这个链接打开了 Apache 2 测试页面，而 localhost 链接很好地打开了 Django 管理员页面。

但他进行了设置，以便被[黑的存在链接](http://video1.hackedexistence.com/)加载 Django 管理页面。

他是如何做到这一点的？以及使用我正在使用的版本进行设置需要哪些步骤。

```
Python 2.7.3, Django 1.4.1, Apache 2.2.22 (Unix) 
```

在 OS X 10.6.8 上运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:28:23.197

video1.hackedexistence.com（大概）是一个受 HackedExistence 控制的域，它显示的是 Apache 2 测试页面，因为它指向的服务器未配置为显示其他任何内容。您无法控制此域或其指向的服务器，因此您无法直接影响它。

它与不同版本的 python、django、apache 或其他任何东西没有任何关系；HackedExistence 很可能选择转移到其他地方，不再维护他的网站（或至少其子域上的内容），因此他的教程现在不再有效。

最接近的方法是在`/private/etc/hosts`文件中添加一个条目（在 OSX 上），以便 video1.hackedexistence.com 解析为 127.0.0.1（即 localhost，您自己的计算机），但这几乎肯定不是您想要的。例如，如果您这样做，其他人仍然会看到您现在看到的测试页面，因为 /etc/hosts 文件只是告诉您的计算机将 video1.hackedexistence.com 域视为指向您的计算机.

对于学习 Web 开发，您可以放心地完全忽略这一点，并可以继续在本地计算机上进行测试。

在部署网站供其他人查看和使用时，您需要购买一个域（例如在[http://namecheap.com/](http://namecheap.com/)），获得一些托管（对于 python/django 托管，我可以推荐[WebFaction](http://webfaction.com/)，或者您可以使用[Heroku](http://www.heroku.com/)的免费计划），并按照[官方文档](https://docs.djangoproject.com/en/dev/howto/deployment/)（或您选择的托管服务提供商提供的文档）中的 Django 部署说明进行操作。我的建议是专注于学习 Web 开发并在花钱购买任何主机之前先做一些工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:29:33.507

我不知道这些视频，但我假设这本书的作者拥有（或当时拥有）hackedexistence.com 域名，并让它指向他的服务器，以便它能够解释Django App 并将其提供给公共请求......现在看起来该配置不再存在了。

如果你问我想问什么，“我怎样才能让 Django 应用程序在公共网络上可见”，那么有很多方法可以做到这一点。如果您的服务器是 Apache，那么[https://docs.djangoproject.com/en/dev/howto/deployment/wsgi/modwsgi/](https://docs.djangoproject.com/en/dev/howto/deployment/wsgi/modwsgi/)是要走的路。Google 可以帮助您找到其他服务器的类似文档。还有很多关于堆栈溢出的答案。

相反，如果您问的是一个不同的问题，即“我怎样才能让我的本地计算机上的这个应用程序可以通过 localhost 以外的其他方法查看”（并且您没有服务器），那么答案就是您必须获得一个指向您本地计算机的域——这是一个在其他地方有很多答案的问题。需要注意的一件事是，在 Mac OS X 上通过 Apache 进行 Django 并不是非常简单，因为它需要手动安装 mod_wsgi，但也不是很困难。这是谷歌的顶部链接（有点旧但仍然相关）：http: [//jessenoller.com/2009/07/24/django-mod_wsgi-apache-and-os-x-do-it/](http://jessenoller.com/2009/07/24/django-mod_wsgi-apache-and-os-x-do-it/)

最后，如果您要问如何让您的应用程序出现在被黑的情况下，那么……购买该域名并查看上述段落。:)

# ruby-on-rails - 如何确保 Facebook 用户提供他们的电子邮件？

> ID：12834134
> 
> 赞同：1
> 
> 时间：2012-10-11T07:14:04.700
> 
> 标签：ruby-on-rails, facebook, devise, omniauth, facebook-oauth

## 问题

我正在开发的网站是一个 Rails 应用程序，它允许用户使用他们的 Facebook 帐户登录。

在 Facebook Auth Dialog 页面上，他们被要求提供基本信息和电子邮件。然后将电子邮件保存到数据库中。

但是，最近我注意到有很多用户的电子邮件是`nil`or `""`。我使用 Open Graph API ( ) 检查了他们的权限`https://graph.facebook.com/#{id}/permissions`。他们中的一些人授予了`email`许可，而有些人没有。

我不知道这怎么会发生。

## 我的实验

### 1

虽然[文档](http://developers.facebook.com/docs/authentication/permissions/)说：

> 如果您使用的是增强型身份验证对话框，则以下权限在身份验证流程中是用户不可撤销的。如果您在首次身份验证过程中向用户请求这些权限，**则用户必须授予这些权限才能继续并授权您的应用程序**。

在 Auth Dialog 页面 ( `https://www.facebook.com/dialog/permissions.request?app_id=...&display=page&next=...&response_type=code&perms=email&fbconnect=1`) 上，我可以删除`perms=email`参数，然后不会请求电子邮件。

如果我使用此对话框登录，应用程序不会收到电子邮件地址。

### 2

在应用程序 > 设置 > 权限中，我尝试设置一些我不需要的权限。（在我实验之前，设置是空的）。

但这些设置对身份验证过程没有影响。

## 问题

鉴于我的设置（Rails + Devise + Omniauth），是否可以确保用户在登录前授予电子邮件权限？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:10:20.107

$permissions = $facebook->api("/me/permissions"); if( array_key_exists('email', $permissions['data'][0]) ) { // 权限被授予！} else { // 我们没有权限 }

# http - If-Modified-Since 覆盖浏览器中的 If-None-Match

> ID：12834138
> 
> 赞同：5
> 
> 时间：2012-10-11T07:14:17.870
> 
> 标签：http, http-headers, browser-cache, http-caching

我有一个为特定 URL 提供 ETag 的 Web 服务器。当浏览器对该 url 执行请求时，它会向 http-header “If-None-Match” 提供包含在服务器对该 url 的先前响应中的 ETag 值。现在，如果我以编程方式添加请求标头“If-Modified-Since”并将其设置为未来或过去的日期（没关系），浏览器将停止发送“If-None-Match”标头。我在 FireFox 和 Chrome 中都看到了这一点（未经任何其他浏览器测试）。我无法从 HTTP/1.1 规范中得出结论应该是这种情况。为什么会这样？

这是一个简单的代码示例，它将重现该场景。该代码假定服务器使用 Etag 标头进行响应。

```
var request = new XMLHttpRequest();
request.open("GET", someUrl, true);
request.onreadystatechange = function(){};

// This statement makes the browser stop sending the "If-None-Match" header
request.setRequestHeader("If-Modified-Since", "Sat, 29 Oct 1994 19:43:31 GMT"); 

request.send(null); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-11T11:47:39.670

> 现在，如果我以编程方式添加请求标头“If-Modified-Since”并将其设置为未来或过去的日期（没关系），浏览器将停止发送“If-None-Match”标头。

如果服务器在给定资源的 Etag 和 Last-Modified 标头中提供，则它们不应该：

> HTTP/1.1 客户端 [...] 如果原始服务器已提供实体标签和 Last-Modified 值，则应在缓存条件请求中使用这两个验证器。这允许 HTTP/1.0 和 HTTP/1.1 缓存做出适当的响应。

编辑：调用时`XmlHttpRequest.open()`，实现使用 准备请求，如果可以找到本地缓存项`nsIHttpChannel`，则使用`If-Modified-Since`和标头。`If-None-Match`

现在，当您`SetRequestHeader()`使用`If-(Un)Modified-Since`or调用时`If-None-Match`，它将清除请求中的两个标头并设置您的值。

# ios - 在 1 到 100 的范围内将 UISlider 增加 1

> ID：12834140
> 
> 赞同：10
> 
> 时间：2012-10-11T07:14:28.610
> 
> 标签：ios, objective-c, cocoa-touch, uislider

我是 iPhone 新手，

如何让我的 UISlider 以 1 为增量从 1 变为 100 `1`？

```
 slider = [[UISlider alloc] init];
    [slider addTarget:self action:@selector(sliderChange:) forControlEvents:UIControlEventValueChanged];
    [slider setBackgroundColor:[UIColor clearColor]];
    slider.minimumValue = 1;
    slider.maximumValue = 100;
    slider.continuous = YES;
    slider.value = 0.0;

- (IBAction)sliderChange:(id)sender{
    NSLog(@"slider.value=%f",slider.value);
} 
```

当我滑动我的日志显示...

```
slider.value = 1.000000
slider.value = 1.123440
slider.value = 1.234550
slider.value = 1.345670
slider.value = 1.567890
.
.
. 
```

我希望滑块值为 1.0 、 2.0 、 3.0 等等...

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-11T07:26:42.500

```
//Only generate update events on release
slider.continuous = NO;

//Round the value and set the slider
- (IBAction)sliderChange:(id)sender
{
    int rounded = sender.value;  //Casting to an int will truncate, round down
    [sender setValue:rounded animated:NO];

    NSLog(@"%f", sender.value);
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-11T07:22:38.970

你可以试试这个：

```
float RoundValue(UISlider * slider) {
  return roundf(slider.value * 2.0) * 1;
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-10-11T07:21:28.827

```
yourSlider.minimumValue = 1;
yourSlider.maximumValue = 100;
[yourSlider addTarget:self action:@selector(roundValue) forControlEvents:UIControlEventValueChanged];

- (void)roundValue{
    yourSlider.value = round(yourSlider.value);
} 
```

另请参阅下面的答案对您有帮助的玩具，请给出一些想法...

[UISlider 增量](https://stackoverflow.com/questions/2458345/uislider-increments)

还有另一个可能会给你一些想法..

[增量为 5 的 UISlider](https://stackoverflow.com/questions/2519460/uislider-with-increments-of-5)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-06-24T08:28:46.540

我知道我参加聚会迟到了，但我最近也不得不这样做。这是我使用 XCode 8.3.2 快速完成的方法：

```
 @IBAction func sliderValueChanged(_ slider: UISlider) {
    label.text = Int(slider.value)
} 
```

简单！我知道我可以使用“Any”而不是“UISlider”，但我认为这让我的意图更加清晰；）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-11T07:19:15.647

改变

```
` NSLog(@"slider.value=%f",slider.value);` 
```

到

```
 NSLog(@"slider.value=%.f",slider.value); 
```

如果你想要一位数字，那么：

```
 NSLog(@"slider.value=%.0f",slider.value); 
```

但这会给你的结果像 1.0,1.1,....

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-11T07:26:30.767

这是一个简单的例子`UISlider`

**头文件.h**

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController<UIScrollViewDelegate,UITextFieldDelegate>
{
    IBOutlet UISlider *slider;
    IBOutlet UILabel *lbl;
    IBOutlet UITextField *txtField;
    IBOutlet UIButton *btn;
    IBOutlet UISwitch *swich;
    IBOutlet UIScrollView *scView;

}

@property(nonatomic,retain)UISlider *slider;
@property(nonatomic,retain)UILabel *lbl;
@property(nonatomic,retain)UITextField *txtField;
@property(nonatomic,retain)UIButton *btn;
@property(nonatomic,retain)UIScrollView *scView;
@property(nonatomic,retain)UISwitch *swich;

-(IBAction)sliderChanged:(UISlider *)slider;
-(IBAction)ButtonPressed:(id)sender;
-(IBAction)showTextField:(id)sender;

@end 
```

**实现文件.m**

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

@synthesize  slider,lbl,txtField,btn,scView,swich;

- (void)viewDidLoad
{
    self.view.backgroundColor=[UIColor groupTableViewBackgroundColor];

    self.scView=[[UIScrollView alloc] initWithFrame:CGRectMake(0, 0,320,460)];
    self.scView.delegate=self;
    self.scView.contentSize=CGSizeMake(320,465);
     [self.view addSubview:self.scView];

    self.slider=[[UISlider alloc] initWithFrame:CGRectMake(50,270,220,30)];
    self.slider.minimumValue=0.00;
    self.slider.maximumValue=100.00;
    self.slider.thumbTintColor=[UIColor redColor];
    [self.slider addTarget:self action:@selector(sliderChanged:) forControlEvents:UIControlEventValueChanged];
    [self.scView addSubview:self.slider];

    self.lbl=[[UILabel alloc] initWithFrame:CGRectMake(135, 290,200,30)];
    self.lbl.backgroundColor=[UIColor clearColor];
    NSString *str=[NSString stringWithFormat:@"%.f",[self.slider value]];
    self.lbl.text=str;
    [self.scView addSubview:self.lbl];

    self.txtField=[[UITextField alloc] initWithFrame:CGRectMake(50, 220,150,30)];
    self.txtField.borderStyle=UITextBorderStyleRoundedRect;
    self.txtField.delegate=self;
    self.txtField.returnKeyType=UIReturnKeyDone;
    self.txtField.placeholder=@"Enter 1 to 100";
    [self.scView addSubview:self.txtField];

      self.btn=[UIButton buttonWithType:UIButtonTypeRoundedRect];
      self.btn.frame=CGRectMake(205, 215,64, 37);
     [self.btn setTitle:@"Change" forState:UIControlStateNormal];
    [self.btn addTarget:self action:@selector(ButtonPressed:) forControlEvents:UIControlEventTouchUpInside];
     [self.scView addSubview:self.btn];

    self.swich=[[UISwitch alloc] initWithFrame:CGRectMake(124,140, 75,40)];
    [self.swich addTarget:self action:@selector(showTextField:) forControlEvents:UIControlEventValueChanged];
    self.swich.on=YES;
    /*
    ((UILabel *)[[[[[[self.swich subviews] lastObject] subviews] objectAtIndex:2] subviews] objectAtIndex:0]).text = @"Foo";
    ((UILabel *)[[[[[[self.swich subviews] lastObject] subviews] objectAtIndex:2] subviews] objectAtIndex:1]).text = @"Bar";
    */
    [self.scView addSubview:self.swich];
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

-(IBAction)showTextField:(id)sender
{
    if (self.swich.on)
    {
        [self.swich setOn:YES animated:YES];
        self.txtField.hidden=NO;
        self.btn.hidden=NO;
    }
    else 
    {
        [self.swich setOn:NO animated:YES];
        self.txtField.hidden=YES;
        self.btn.hidden=YES;
    }
}

- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField
{
    self.scView.frame=CGRectMake(0, 0,320,230);
    return  YES;
}

- (BOOL)textFieldShouldEndEditing:(UITextField *)textField
{
    [self.txtField resignFirstResponder];

    self.scView.frame=CGRectMake(0, 0,320,460);
    return YES;
}

-(IBAction)sliderChanged:(UISlider *)slider;
{

    NSString *str=[NSString stringWithFormat:@"%.f",[self.slider value]];
    self.lbl.text=str;
}

-(IBAction)ButtonPressed:(id)sender
{
    NSString *values=[self.txtField text];
    float Values=[values floatValue];

    if (Values<=100)
    {
        self.slider.value=Values;
        self.lbl.text=values;
    }
    else 
    {
        UIAlertView *connectFailMessage = [[UIAlertView alloc] initWithTitle:@"NSURLConnection " message:@"Plz...Entre Proper Value !!!"  delegate: self cancelButtonTitle:@"Ok" otherButtonTitles: nil];
        [connectFailMessage show];
    }

}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation != UIInterfaceOrientationPortraitUpsideDown);
}

@end 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-09-05T13:47:26.157

当我希望增量为 0.5 时，我使用这段代码。它适用于 1 或任何其他数字

```
- (void) getSliderValue:(UISlider *)paramSender{
    float increment = 0.5;
    if ([paramSender isEqual:self.slider]){ //remove if you only have one slider
        float newValue = paramSender.value /increment;
        paramSender.value = floor(newValue) * increment;
    }
    NSLog(@"Current value of slider is %f", paramSender.value);
} 
```

# pinvoke - 在 Mono for Mac 上为 DllImport 设置本机库的路径

> ID：12834141
> 
> 赞同：7
> 
> 时间：2012-10-11T07:14:29.013
> 
> 标签：pinvoke, environment-variables, monomac

我移植到 Mono for Mac 的代码调用了一个非托管 C++ 库。在 Mac 上，我将我们的非托管库移植到了框架中（不幸的是，我们的构建过程只允许将其编译为框架而不是 dylib）。在 Mono 中，我在项目中设置了一个后期构建步骤，将框架文件复制到构建的应用程序旁边。

但是当 P/Invoke 进入这个 dll 时，我得到一个 DllNotFound 异常。我通读了[Mono Interop Wiki](http://www.mono-project.com/Interop_with_Native_Libraries)，似乎 Mono 上的 P/Invoke 只会查看 DYLD_* 环境变量指向的位置，并且当前目录不在搜索路径中。当我将框架复制到 /Library/Frameworks 时，我的 P/Invoke 调用工作正常，但我希望我的框架文件出现在应用程序旁边而不是 /Library/Frameworks 中。

在执行任何 P/Invoke 调用之前，我尝试将当前工作目录添加到代码中的 DYLD_FRAMEWORK_PATH 环境变量中，但 System.Environment 命名空间在 Mono for Mac 上的功能有限，并且不支持获取或设置环境变量。

无论如何我可以将我的框架文件放在应用程序旁边并且仍然可以使用 P/Invoke？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T13:40:39.553

让我们将其拆分为两个问题：如何设置环境变量以及如何在 MonoMac 应用程序中捆绑原生框架。

**设置环境变量**

`LSEnvironment`您可以在应用程序的部分中设置环境变量`Info.plist`，如下所示：

```
 <?xml version="1.0" encoding="UTF-8"?>
    <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
    <plist version="1.0">
            <dict>
            <key>CFBundleIdentifier</key>
            <string>com.yourcompany.TableViewTest</string>
            <key>CFBundleName</key>
            <string>TableViewTest2</string>
            <key>CFBundleVersion</key>
            <string>1</string>
            <key>LSMinimumSystemVersion</key>
            <string>10.6</string>
            <key>NSMainNibFile</key>
            <string>MainMenu</string>
            <key>NSPrincipalClass</key>
            <string>NSApplication</string>
            <key>LSEnvironment</key>
            <dict>
                    <key>Foo</key>
                    <string>Bar</string>
            </dict>
    </dict>
    </plist> 
```

似乎必须手动编辑该文件一次并添加至少一个环境变量。

该文件是由 MonoDevelop 自动创建的，因此您所要做的就是添加该`LSEnvironment`部分。

之后，您可以在 MonoDevelop 中编辑它们：转到项目选项、“Mac OS X 应用程序”、“高级”。

**在 MonoMac 应用程序中捆绑原生框架**

您无需设置任何环境变量即可在 MonoMac 应用程序中捆绑本机框架，有一种更简单、更简洁的方法可以做到这一点，这也类似于 Objective C 中的工作方式。

我创建了一个小型[测试应用程序](https://github.com/baulig/Provcon-Faust/tree/cf7d136230eccbfb02179f79917c8598ee1a6b05/TestFramework)，它在原生 Objective C 应用程序和 MonoMac 应用程序中捆绑了一个框架。

您需要做的第一件事是将您的框架与应用程序捆绑在一起。目前无法在 MonoDevelop 中自动执行此操作，因此您需要手动复制文件或使用一些构建后脚本（参见`copy-framework.sh`我的示例）。

我建议将框架放入`YourApp.app/Contents/Frameworks/YourFramework.framework`其中，因为这就是 XCode 处理它的方式；另请参阅[Apple 的文档](https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPFrameworks/Tasks/CreatingFrameworks.html)。

要在应用程序包中引用库，可以使用 `@executable_path'（参见[dyld 手册页](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/dyld.1.html)）。

我建议使用 创建一个 app.config 文件`<dllmap>`，因此您无需将任何路径名放入代码中，从而更容易更改框架版本。例如：

```
 <configuration>
       <dllmap dll="TestFramework" target="@executable_path/../Frameworks/TestFramework.framework/TestFramework" />
     </configuration> 
```

如果框架中的实际库以/开头`lib`或结尾，那么您必须指定该名称（例如，上面的 dllmap 不会 file ）。这是 Mono 中的一个错误，我刚刚修复了它。`.so``.dylib``TestFramework.framework/libTestFramework.dylib`

# php - Joomla 2.5 - 几秒钟后隐藏后端错误消息

> ID：12834143
> 
> 赞同：0
> 
> 时间：2012-10-11T07:14:47.087
> 
> 标签：php, jquery, joomla, joomla2.5

我正在使用 Joomla 2.5，并使用以下代码在后端向用户输出错误消息。

```
JFactory::getApplication()->enqueueMessage(JText::_('Error Message goes here')); 
```

我想要做的是几秒钟后隐藏错误消息。我该怎么做？我必须使用 jQuery 或 Mootools 吗？它是否已经包含在 Joomla 中？

我是 Joomla 的新手，希望有人能帮助我。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:21:18.873

我还没有遇到过 joomla 为此提供的任何内置方法。但是你可以试试这个——

```
<script>!window.jQuery && document.write('<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.0/jquery.min.js"><\/script>');</script>  
<script>jQuery("#system-message").fadeOut(4000);    </script> 
```

根据评论，你可以试试这个 -

```
setTimeout(function() {
    jQuery('#system-message').fadeOut('fast');
}, 5000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:45:41.543

在 Irfan 回答的帮助下，我能够弄清楚。他所做的就是立即淡出错误消息。我正在做的是在隐藏之前等待 5 秒，以便用户可以看到错误。

```
jQuery('#system-message-container').delay(5000).fadeOut(1000); 
```

# sql-server-2008 - 如何从 SQL Server 2008 中的 DMV 获取过程调用？

> ID：12834145
> 
> 赞同：1
> 
> 时间：2012-10-11T07:14:49.960
> 
> 标签：sql-server-2008, sql-server-2008-r2

我正在使用 SQL Server 2008，我们需要使用 DMV 捕获 s 过程调用并将其存储在表中以进行跟踪。是否可以获取存储过程调用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:39:37.773

你在找`sys.dm_exec_procedure_stats`吗？（[MSDN 链接](http://msdn.microsoft.com/en-us/library/cc280701%28v=sql.100%29.aspx)）

> 返回缓存存储过程的聚合性能统计信息。该视图为每个缓存的存储过程计划返回一行，并且该行的生命周期与存储过程保持缓存状态一样长。当从缓存中删除存储过程时，相应的行将从该视图中删除。那时，会引发类似于 sys.dm_exec_query_stats 的性能统计 SQL 跟踪事件。

您应该能够从中选择您需要的任何存储过程执行统计信息到您的审计表中。如果您希望扩展审计以包括不一定是存储过程的临时查询，请考虑改为查看[sys.dm_exec_query_stats 。](http://msdn.microsoft.com/en-us/library/ms189741%28v=sql.100%29.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T17:47:58.950

也许不完全是您正在寻找的东西，但它可能已经开始了。如果您正在寻找已经运行的查询，无论是否有存储过程，您可能想看看这个

```
select  case
          when r.statement_end_offset = -1 then 
            substring(s.text, (r.statement_start_offset / 2), len(s.text))
          else 
            substring(s.text, (r.statement_start_offset / 2), (r.statement_end_offset /     2) - (r.statement_start_offset / 2))
        end as statement_text
      , q.query_plan
      , r.cpu_time
      , r.reads as request_reads
      , r.writes as request_writes
      , r.logical_reads as request_logical_reads
from    sys.dm_exec_requests r
        cross apply sys.dm_exec_sql_text(r.sql_handle) s
        cross apply sys.dm_exec_query_plan(r.plan_handle) q 
```

它为您提供所有已运行的查询。

# linux - 如何使用自定义更改构建 RPM 包

> ID：12834146
> 
> 赞同：1
> 
> 时间：2012-10-11T07:14:51.793
> 
> 标签：linux, rpmbuild

我在 Linux 上工作。我已经在我的系统上安装了一个 ruby​​ rpm，执行以下命令，

```
rpm –ivh zenith_ruby_1.8.6-1.0-2.el5.src.rpm 
```

现在我在这个 rpm 的源文件中添加了一些调试语句，我想用我对源文件的更改来重建这个 rpm。

我尝试使用以下命令

```
rpmbuild -ba rpmbuild/SPECS/zenith_ruby-1.8.6-p369.spec 
```

但是执行此命令会导致覆盖源文件，从而导致源文件中的更改被删除。有什么方法可以通过我们对源文件的更改来重新构建？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:13:32.943

您应该使您的更改成为在构建过程中应用的补丁。有关说明，请参阅本[教程](http://bradthemad.org/tech/notes/patching_rpms.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T10:56:21.480

I found the solution for above problem.

We need to execute following command to build already installed RPM :

```
rpmbuild -bc --short-circuit rpmbuild/SPECS/zenith_ruby-1.8.6-p369.spec 
```

# wpf - 绑定 ObservableCollection 带转换器

> ID：12834147
> 
> 赞同：0
> 
> 时间：2012-10-11T07:15:01.780
> 
> 标签：wpf, xaml, mvvm, windows-8

我有一个 GridView，它的 ItemSource 属性绑定到字符串的 ObservableCollection。

我有一个用于项目的 DataTemplate，它有一个这样定义的 TextBox：

```
<TextBlock x:Name="DataItem" Text="{Binding}" /> 
```

它工作正常。但现在我想使用一个转换器，所以我这样写：

```
<TextBlock x:Name="DataItem" Foreground="{Binding, Converter={StaticResource MyConverter}}" Text="{Binding}" /> 
```

这是行不通的。看起来绑定需要一条路径。

如果我想使用转换器，如何绑定到字符串的 ObservableCollection 的元素？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:48:47.400

试试不带逗号：

```
<TextBlock x:Name="DataItem" Text="{Binding Converter={StaticResource MyConverter}}" /> 
```

# abstract-syntax-tree - Rewrite 方法错误 rewrite change to ICompilationUnit 第二次重写更新

> ID：12834151
> 
> 赞同：0
> 
> 时间：2012-10-11T07:15:12.977
> 
> 标签：abstract-syntax-tree, eclipse-jdt

我有这个方法UpdateProperty：

```
public void run(ObjectNavigatorModel model, String propertyKey,
        String propertyValue) {
    // get reference to CompilationUnit
    ICompilationUnit cu = model.getICompilationUnit();
    try {
        cu.becomeWorkingCopy(null);
    } catch (JavaModelException e1) {
        e1.printStackTrace();
    }
    // unit instance of CompilationUnit
    CompilationUnit unit = model.getCompilationUnit();
    AST ast               = unit.getAST();
    ASTRewrite rewrite = ASTRewrite.create(ast);

    // get methods map
    MethodVisitor visitor = new MethodVisitor();
    unit.accept(visitor);
    Map<String, MethodDeclaration> methodMap = new Hashtable<String, MethodDeclaration>();
    for (MethodDeclaration methodDeclaration : visitor.getMethods()) {
        methodMap.put(methodDeclaration.getName().toString(),
                methodDeclaration);
    }

    // find the reference to the MethodDeclaration
    MethodDeclaration methodDecl = null;
    @SuppressWarnings("rawtypes")
    Hashtable nameIndex = (Hashtable) StatementVisitor.queryTable.get(model.getClass().getSimpleName());
    String methodName = (String) ((nameIndex!=null) ? nameIndex.get("modelName") : model.getClass().getSimpleName());
    System.out.println("methodName: " + methodName);
    if (methodMap.containsKey("get" + methodName + model.getOriginalName())) {
        methodDecl = methodMap.get("get" + methodName + model.getOriginalName());
    }

    if (methodDecl == null)
        // failed to find correct method
        return;

    // finding the existing statement
    Block block = methodDecl.getBody();
    List<?> statements = block.statements();
    Iterator<?> iter = statements.iterator();
    System.out.println("property key:"+propertyKey);
    System.out.println("property value:"+propertyValue);

    while (iter.hasNext()) {
        // get each statement
        Statement stmt = (Statement) iter.next();

        stmt.accept(new UpdatePropertyStatementVisitor(propertyKey,
                propertyValue, rewrite));

    }

    TextEdit edits;
    try {
        Document document = new Document(cu.getSource());
        // computation of the text edits
        edits = rewrite.rewriteAST(document, cu.getJavaProject()
                .getOptions(true));

        // computation of the new source code
        edits.apply(document);

        String newSource = document.get();

        // update of the compilation unit
        cu.getBuffer().setContents(newSource);
        File file = cu.getResource().getLocation().toFile();
        write(newSource, file);
        cu.getResource().refreshLocal(0, null);
        cu.close();
    } 
    catch (CoreException e) {
        e.printStackTrace();
    }

}
    public static void write(String content, File file)
        throws IOException {
    // create file if it necessary
    if (!file.exists()) {
        file.createNewFile();
    }
    // write to file
    // Use printwriter with buffered writer is faster than FileWriter
    PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(file)));
    out.write(content);

    out.close();
} 
```

和 propertyStatementVisitor 用更新的值替换 ASTNode： public class UpdatePropertyStatementVisitor extends ASTVisitor{ private String propertyKey; 私有字符串属性值；私有 ASTRewrite 重写；

```
public UpdatePropertyStatementVisitor(String propertyKey,
        String propertyValue, ASTRewrite rewrite) {
    this.propertyKey = propertyKey;
    this.propertyValue = propertyValue;
    this.rewrite = rewrite;
}

/* Auto called by eclipse JDT, see visitor pattern
 * (non-Javadoc)
 * @see org.eclipse.jdt.core.dom.ASTVisitor#visit(org.eclipse.jdt.core.dom.ExpressionStatement)
 */
public boolean visit(ExpressionStatement stmt) 
{
    // first, go down to MethodInvocation level
    Expression expression = stmt.getExpression();
    if (expression instanceof MethodInvocation) 
    {
        MethodInvocation mi = (MethodInvocation) expression;
        // check method name, e.g. setHeight(5);
        String miName = mi.getName().toString();
        miName = miName.replaceAll("((?<=[a-z])[A-Z]|[A-Z](?=[a-z]))"," $1");
        String[] array = miName.split(" ");
        if (array[0].equals("set")) 
        {
            // merge remaining parts of the split method name
            StringBuilder key = new StringBuilder();
            for (int i = 1; i < array.length; i++) {
                key.append(array[i]);
            }
            if (key.toString().equalsIgnoreCase(propertyKey)) {
                System.out.println("found set property");
                // do the replace, if the key matches
                StringLiteral newValue = mi.getAST().newStringLiteral();
                newValue.setEscapedValue("\""+propertyValue+"\"");
                // the argument to change update index, so far 1st argument for all cases, i.e. 0
                System.out.println("Inside Visit Statement: \npropertyValue:"+propertyValue+ " \n arguments[0]"+(ASTNode) mi.arguments().get(0) + "/n NewValue:"+ newValue );
                rewrite.replace((ASTNode) mi.arguments().get(0), newValue, null);
                return true;
            }
        }
    }
    return false;
} 
```

}

目标是在一个文件的方法中设置 Name 属性 String 值：

```
 // Setting alert properties GOT PROBLEM HERE!!!!
     alert.setName("Delete_Alert");
     alert.setMessage("Are you sure you want to remove this customer? (Note: changes do not become final until you Save them.)"); 
```

我的问题是，我第一次更新语句的值时，它可以工作，但是第二次回写不准确，它只是吃掉了应该写的下一行代码。像这样：

```
//1st Attempt: 
    Alert.setName("Delete_Alert_firstAttempt")      //(Success) 
```

alert.setMessage("您确定要删除此客户吗？（注意：更改不会成为最终的，直到您保存它们。）");

```
//2nd Attempt: 
    Alert.setName("Delete_Alert_secondAttempt"Are you sure you want to remove this customer? (Note: changes do not become final until you Save them.)");  //(fail) 
```

任何 JDT 专家都可以指出错误是什么？

# blackberry - 黑莓将 Base64 数据转换为显示 IOException 的字节数组

> ID：12834152
> 
> 赞同：0
> 
> 时间：2012-10-11T07:15:28.553
> 
> 标签：blackberry

我已经开发了以下代码来将 base64 字符串数据转换为字节数组，但它正在显示`IOException`

```
public static EncodedImage getProfileByteArray(String profilePic){
    byte[] data=profilePic.getBytes();
    byte[] base64Data;
    Bitmap bitmap=null;
    EncodedImage fullImage=null;
    try {
        base64Data = Base64InputStream.decode(data, 0, data.length);
        fullImage = EncodedImage.createEncodedImage(base64Data, 0, base64Data.length);
        bitmap = fullImage.getBitmap();
        System.out.println(data);
    } catch (IOException e) {
        e.printStackTrace();
        System.out.println(e+"lkllllllllllllllll");
    }
    catch(Exception e){
        System.out.println(e+"lkllllllllllllllll");
    }
    return fullImage;
} 
```

方法是我正在调用一个 web 服务，通过它我获取 base64 图像字符串并尝试将此 base64 字符串转换为字节数组以显示`EncodedImage`格式的图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:39:00.747

您是否尝试显示从 web 服务获取的 url 中的图像？url 是从 web 服务返回的图像吗？如果是这样，请尝试以下代码并告诉我：

```
public Bitmap connectServerForImage(String url) {

          HttpConnection httpConnection = null;
          DataOutputStream httpDataOutput = null;
          InputStream httpInput = null;
          int rc;

          Bitmap bitmp = null;
          try {
           httpConnection = (HttpConnection) Connector.open(url+ ";deviceside=true;ConnectionUID=S TCP");
            rc = httpConnection.getResponseCode();
           if (rc != HttpConnection.HTTP_OK) {
            throw new IOException("HTTP response code: " + rc);
           }
           httpInput = httpConnection.openInputStream();
           InputStream inp = httpInput;
           byte[] b = IOUtilities.streamToBytes(inp);
           EncodedImage hai = EncodedImage.createEncodedImage(b, 0, b.length);
           return hai.getBitmap();

          } catch (Exception ex) {
           System.out.println("URL Bitmap Error........" + ex.getMessage());
          } finally {
           try {
            if (httpInput != null)
             httpInput.close();
            if (httpDataOutput != null)
             httpDataOutput.close();
            if (httpConnection != null)
             httpConnection.close();
           } catch (Exception e) {
            e.printStackTrace();

           }
          }
          return bitmp;
         } 
```

# asp.net - 通过组合框在数据库中添加新项目

> ID：12834158
> 
> 赞同：0
> 
> 时间：2012-10-11T07:16:05.213
> 
> 标签：asp.net, entity-framework, combobox

我有一个数据库，我通过实体框架使用它，我需要通过编辑文本框和网格中的其他项目来更新数据，这工作正常，下面是代码：在 aspx.cs

```
protected void SaveBtn_Click(object sender, EventArgs e)
    {
        obj.Address = AppAddress.Text;
        obj.City = AppCity.Text;
        obj.Email = AppEmail.Text;
        obj.Notes = AppComments.Text;
        obj.Postal = AppPostal.Text;
        obj.AppraiserAppraiserCompanyId = ApprCompCmbx.SelectedIndex;
        obj.ProvinceState = Province.SelectedIndex;
        apprblobj.GetUpdate(obj);
        Response.Write("<script>alert('You have successfully updated the Data');</script>");
} 
```

在 BL 中调用：

```
 public void GetUpdate(Appraiser appObj)
    {
        obj.UpdateData(appObj);

    } 
```

在 DAL 中

```
 public void UpdateData(Appraiser apprObj)
    {

        try
        {
            var Appsave = context.Appraisers.FirstOrDefault(App => App.AppraiserId == apprObj.AppraiserId);
            if (Appsave != null)
            {
                Appsave.AppraiserName = apprObj.AppraiserName;
                Appsave.AppraiserAppraiserCompanyId = apprObj.AppraiserAppraiserCompanyId;
                Appsave.Address = apprObj.Address;
                Appsave.City = apprObj.City;
                Appsave.ProvinceState = apprObj.ProvinceState;
                Appsave.Email = apprObj.Email;
                Appsave.Postal = apprObj.Postal;
                Appsave.Notes = apprObj.Notes;

                context.SaveChanges();
            }
        }
        catch (Exception ex)
        {

             log.Debug("Appraiser : UpdateData: " + ex.Message + " Trace : " + ex.StackTrace);
        }
    } 
```

现在我想通过同一个组合框和按钮单击功能添加一个新项目，因为它正在执行所有工作，例如添加、更新和删除。请给我提示：我知道 addobject( *_* _) 将用于代替 savechanges 等。

# cordova - PhoneGap window.height 小于屏幕高度

> ID：12834160
> 
> 赞同：1
> 
> 时间：2012-10-11T07:16:12.137
> 
> 标签：cordova

我最近在用 phonegap 编码。我想获得设备的屏幕高度。我的设备的屏幕高度应该是 854。但是当我在 JavaScript 中使用 window.innderHeight 时，我得到的值是 816。我也试过 $.mobile.getScreenHeight() 但值是一样的。谁能告诉我为什么值是 816 而不是 854？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-03T11:53:53.820

您可以使用此方法获取高度

```
function getHeight() {
    var lHeight = screen.availHeight;

    if (document.body && document.body.offsetWidth) {
        lHeight = document.body.offsetHeight;
    }
    if (document.compatMode == 'CSS1Compat' && document.documentElement
            && document.documentElement.offsetWidth) {
        lHeight = document.documentElement.offsetHeight;
    }

    if (window.innerWidth && window.innerHeight) {
        lHeight = window.innerHeight;
    }
    return lHeight;
} 
```

# java - Android IntentService：无法启动

> ID：12834163
> 
> 赞同：1
> 
> 时间：2012-10-11T07:16:20.657
> 
> 标签：java, android, web-services, rest, android-intent

我的意图服务没有启动。它给出了一个错误。我是安卓新手。我正在使用restful web api。我在 android 设备上使用服务。我创建了一个同步模块，如果没有覆盖区域，应用程序会将数据存储在数据库中，并每 60 秒检查一次网络。

当它上线时，它将在服务器上上传数据。我希望这个过程在后台运行。为此，我使用了 Intent Service，它在后台运行并在执行后通知用户。但是服务没有开始我在网上查看了许多教程，它们都是相同的方法。但我的不工作。

```
<p><b>Below is my error code</b><p>
    <code> 
    10-11 11:45:30.734: W/dalvikvm(396): threadid=1: thread exiting with uncaught exception (group=0x40015560)
    10-11 11:45:30.774: E/AndroidRuntime(396): FATAL EXCEPTION: main
    10-11 11:45:30.774: E/AndroidRuntime(396): java.lang.RuntimeException: Unable to instantiate service com.remote.synchronizer.haris.OfflineDataService: java.lang.NullPointerException
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.app.ActivityThread.handleCreateService(ActivityThread.java:1929)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.app.ActivityThread.access$2500(ActivityThread.java:117)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:985)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.os.Handler.dispatchMessage(Handler.java:99)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.os.Looper.loop(Looper.java:123)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.app.ActivityThread.main(ActivityThread.java:3683)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at java.lang.reflect.Method.invokeNative(Native Method)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at java.lang.reflect.Method.invoke(Method.java:507)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at dalvik.system.NativeStart.main(Native Method)
    10-11 11:45:30.774: E/AndroidRuntime(396): Caused by: java.lang.NullPointerException
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.content.ContextWrapper.getSystemService(ContextWrapper.java:363)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at com.android.internal.app.AlertController$AlertParams.<init>(AlertController.java:742)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.app.AlertDialog$Builder.<init>(AlertDialog.java:273)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at com.remote.synchronizer.haris.OfflineDataService.<init>(OfflineDataService.java:23)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at java.lang.Class.newInstanceImpl(Native Method)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at java.lang.Class.newInstance(Class.java:1409)
    10-11 11:45:30.774: E/AndroidRuntime(396):  at android.app.ActivityThread.handleCreateService(ActivityThread.java:1926)
    10-11 11:45:30.774: E/AndroidRuntime(396):  ... 10 more

    </code>
    <p><b>Intent Service</b></p>

    <code><pre>
    package com.remote.synchronizer.haris;

import java.util.ArrayList;
import java.util.List;
import java.util.Timer;
import java.util.TimerTask;
import org.apache.http.NameValuePair;

import android.app.AlertDialog;
import android.app.IntentService;
import android.content.Intent;
import android.database.sqlite.SQLiteDatabase;
import android.os.Bundle;
import android.util.Log;
import android.widget.Toast;

public class OfflineDataService extends IntentService {

    boolean wifi,edge;
    private Timer timer= new Timer();
    SQLiteDatabase db;
    String un,shop,city,date,order,InsertQuery;
    AlertDialog.Builder dlgAlert  = new AlertDialog.Builder(this);

    public OfflineDataService() {
        super("OfflineDataService");
    }

    /*@Override   
    public void onCreate() {

        super.onCreate();
         Log.e("Service Example", "Service Started.. ");

        db= openOrCreateDatabase("Product", MODE_PRIVATE, null);
        db.execSQL("CREATE TABLE IF NOT EXISTS Order (UserName VARCHAR(10), Shop VARCHAR(15), City VARCHAR(15), Date VARCHAR(10), Order VARCHAR(50));");

    }   */

    @Override
    protected void onHandleIntent(Intent intent) {

        Bundle bundle=intent.getExtras();
        un=bundle.getString("un");
        shop=bundle.getString("shop");
        city=bundle.getString("city");
        date=bundle.getString("date");
        order=bundle.getString("order");

        /*InsertQuery="INSERT INTO Order VALUES ('"+ un + "','"+ shop + "','" + city + "','" + date + "','" + order + "');";
        db.execSQL(InsertQuery);*/

        /*timer.scheduleAtFixedRate(new TimerTask(){

            @Override
            public void run() {

                //Checking network connectivity
                   wifi=NetworkInfo.Wifi(OfflineDataService.this);
                   edge=NetworkInfo.EDGE(OfflineDataService.this);

                       if(wifi==true||edge==true)
                       {
                           DataSender();
                       }
                       else
                       {

                           dlgAlert.setMessage("Testing");
                           dlgAlert.show();
                           //  Toast toast=Toast.makeText(getApplicationContext(), "Testing", toast.LENGTH_LONG).show();
                       }
            }

        }, 1000, 5000);*/

    }

    /*@Override
    public void onDestroy() {

        super.onDestroy();
        Log.e("Service Example", "Service Destroyed.. ");

        //notifications
    }

    private void DataSender()
    {
        timer.cancel();

    }*/

}

</code></pre>

<p><b>Calling Method</b></p>

<code><pre>

 Intent serviceIntent= new Intent(this, OfflineDataService.class);
               Bundle bundle= new Bundle();
               bundle.putString("un", msg);
               bundle.putString("shop", shop.getText().toString());
               bundle.putString("city", city.getText().toString());
               bundle.putString("date", reportDate);
               bundle.putString("order", order.getText().toString());

               serviceIntent.putExtras(bundle);
               startService(serviceIntent);
</code></pre>

<p><b>AndroidManifest Declaration</b></p>

<code><pre>
android:enabled="true" 
android:name=".OfflineDataService"   
</code></pre>

<p>what is wrong in my code?</p>
<h3><b>Thanks in advance</b></h3> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:23:26.477

1/您不能使用服务中的警报对话框。

2/ even in an Activity, you cannot use it for a Context before onCreate() (that is, you cannot use it in the instanciation process - not in the contstructor, and not in the member declaration)

# jfreechart - 我想在 XYSplineRenderer 图表上启用显示 xy 坐标

> ID：12834164
> 
> 赞同：1
> 
> 时间：2012-10-11T07:16:28.670
> 
> 标签：jfreechart

![想要在图像上的红色圆圈处显示 XY 坐标](../Images/7dcbce7c2614a8a771ea6e67ba332dcc.png)

我想在 XYSplineRenderer 图表上启用显示 xy 坐标。

```
 NumberAxis numberaxis = new NumberAxis("X");
        numberaxis.setAutoRangeIncludesZero(false);
        NumberAxis numberaxis1 = new NumberAxis("Y");
        numberaxis1.setAutoRangeIncludesZero(false);
        XYSplineRenderer xysplinerenderer = new XYSplineRenderer();

        XYPlot xyplot = new XYPlot(data1, numberaxis, numberaxis1,
                xysplinerenderer);
        xyplot.setBackgroundPaint(Color.lightGray);
        xyplot.setDomainGridlinePaint(Color.white);
        xyplot.setRangeGridlinePaint(Color.white);

        xyplot.setAxisOffset(new RectangleInsets(4D, 4D, 4D, 4D));
        JFreeChart jfreechart = new JFreeChart("XYSplineRenderer",
                JFreeChart.DEFAULT_TITLE_FONT, xyplot, true);
        addChart(jfreechart); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T15:55:24.897

您可以使用工具提示生成器，如此处所示[，或使用标签生成器，如此](https://stackoverflow.com/a/6770477/230513)[处](https://stackoverflow.com/a/3158958/230513)所示。一个或两个都可以添加到您的渲染器中。

附录：如评论中所述，以下代码解决了该问题：

```
StandardXYToolTipGenerator ttG =
    new StandardXYToolTipGenerator("{1},{2}", format, format);
xysplinerenderer.setBaseToolTipGenerator(ttG); 
```

# sql - 需要sql select查询指导

> ID：12834165
> 
> 赞同：1
> 
> 时间：2012-10-11T07:16:31.967
> 
> 标签：sql

我有一个名为“ticket”的表，如下所示：

```
number   branchid
3001     1
3002     1
5001     2
7001     2
3001     3 
```

我想做的就是创建一个新表：

```
branchid    High-Value      Non-HighValue 
```

我希望当出现 3000 系列中的一个数字时，出现的总计数列在高价值列中，与它的 branchid 相对，并且当出现 5000 或 7000 系列数字时，出现的总计数列在非高价值列中，与其分支编号。例如：

```
Branchid    HighValue    non-highvalue
1           2            NULL
2           NULL         2
3           1            NULL 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:20:36.573

```
select  branchid
,       sum(case when number between 3000 and 3999 then 1 end) as HighValue
,       sum(case when number between 5000 and 5999 then 1 
                 when number between 7000 and 7999 then 1 end) as NonHighValue
from    ticket
group by
        branchid 
```

[SQL Fiddle 上的实时示例。](http://sqlfiddle.com/#!2/eabca/3/0)

# hibernate - 在休眠一对多双向进程中，无法通过父表将数据存储到子表中

> ID：12834172
> 
> 赞同：0
> 
> 时间：2012-10-11T07:16:54.837
> 
> 标签：hibernate

我正在尝试通过 DEPARTMENT(parent) 表将数据存储到 EMPLOYEE(child) 表中，并使用休眠的一对多双向进程显示它。

交易完成后，我可以调整员工中的数据，包括我想要输入的数据，但我无法在数据库（POSTGRES）中看到该数据。请帮助我们并提前致谢。

我必须有两个表部门（父）和雇员（部门中的子引用 dep_id）。

```
CREATE TABLE department
(
department_id character varying(10) NOT NULL,
department_name character varying(20),
CONSTRAINT "pk_departmentId" PRIMARY KEY (department_id)
) 

CREATE TABLE employee
(
emp_id character varying(10) NOT NULL,
emp_name character varying(20),
department_id character varying(10),
CONSTRAINT "pk_empId" PRIMARY KEY (emp_id),
CONSTRAINT "fk_empDept" FOREIGN KEY (department_id) REFERENCES department (department_id) MATCH SIMPLE ON UPDATE NO ACTION ON DELETE NO ACTION
) 
```

相应的 hbm 文件是：

****部门****

```
<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Oct 9, 2012 3:01:23 PM by Hibernate Tools 3.2.1.GA -->
<hibernate-mapping>
    <class name="tablebeans.Department" table="department" schema="public">
        <id name="departmentId" type="string">
            <column name="department_id" length="10" />
            <generator class="assigned" />
        </id>
        <property name="departmentName" type="string">
            <column name="department_name" length="20" />
        </property>
        <set name="employees" table="employee" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="department_id" length="10" />
            </key>
            <one-to-many class="tablebeans.Employee" />
        </set>
    </class>
</hibernate-mapping> 
```

****员工****

```
<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Oct 9, 2012 3:01:23 PM by Hibernate Tools 3.2.1.GA -->
<hibernate-mapping>
    <class name="tablebeans.Employee" table="employee" schema="public">
        <id name="empId" type="string">
            <column name="emp_id" length="10" />
            <generator class="assigned" />
        </id>
        <many-to-one name="department" class="tablebeans.Department" fetch="select">
            <column name="department_id" length="10" />
        </many-to-one>
        <property name="empName" type="string">
            <column name="emp_name" length="20" />
        </property>
    </class>
</hibernate-mapping> 
```

POJO 类是：

```
package tablebeans;
// Generated Oct 9, 2012 3:01:23 PM by Hibernate Tools 3.2.1.GA

import java.util.HashSet;
import java.util.Set;

/**
 * Department generated by hbm2java
 */
public class Department  implements java.io.Serializable {

     private String departmentId;
     private String departmentName;
     private Set employees = new HashSet(0);

    public Department() {
    }

    public Department(String departmentId) {
        this.departmentId = departmentId;
    }
    public Department(String departmentId, String departmentName, Set employees) {
       this.departmentId = departmentId;
       this.departmentName = departmentName;
       this.employees = employees;
    }

    public String getDepartmentId() {
        return this.departmentId;
    }

    public void setDepartmentId(String departmentId) {
        this.departmentId = departmentId;
    }
    public String getDepartmentName() {
        return this.departmentName;
    }

    public void setDepartmentName(String departmentName) {
        this.departmentName = departmentName;
    }
    public Set getEmployees() {
        return this.employees;
    }

    public void setEmployees(Set employees) {
        this.employees = employees;
    }
}

package tablebeans;
// Generated Oct 9, 2012 3:01:23 PM by Hibernate Tools 3.2.1.GA

/**
 * Employee generated by hbm2java
 */
public class Employee  implements java.io.Serializable {

     private String empId;
     private Department department;
     private String empName;

    public Employee() {
    }

    public Employee(String empId) {
        this.empId = empId;
    }
    public Employee(String empId, Department department, String empName) {
       this.empId = empId;
       this.department = department;
       this.empName = empName;
    }

    public String getEmpId() {
        return this.empId;
    }

    public void setEmpId(String empId) {
        this.empId = empId;
    }
    public Department getDepartment() {
        return this.department;
    }

    public void setDepartment(Department department) {
        this.department = department;
    }
    public String getEmpName() {
        return this.empName;
    }

    public void setEmpName(String empName) {
        this.empName = empName;
    }
} 
```

以及我试图通过 DEPARTMENT 表将数据存储到 EMPLOYEE 表中并显示它的代码。

```
 tx = session.beginTransaction();

            Department department=new Department();
            department.setDepartmentId("5");
            department.setDepartmentName("Nielson");

            Employee employee = new Employee();
            employee.setEmpId("4");
            employee.setEmpName("phani");
            employee.setDepartment(department);

            Set empset = new HashSet();
            empset.add(employee);
            department.setEmployees(empset);

            session.save(department);
            tx.commit();

            //Query query = session.createQuery("insert into Department(departmentId,departmentName)"+"select departmentId,departmentName from Employee where departmentId = 5");
            //int update = query.executeUpdate();

            Query query1=session.createQuery("from Department");
            List list1=query1.list();
            for(int i=0;i<list1.size();i++)
               {
                System.out.println("In for");
                Department department1 =(Department) list1.get(i);
                System.out.println("the ID is "+department1.getDepartmentId());
                System.out.println("the dept name is "+department1.getDepartmentName());
                Set st = (Set) department1.getEmployees();
                Iterator ite = st.iterator();
                while(ite.hasNext())
                {
                    employee = (Employee) ite.next();
                    System.out.println("the emp name is "+employee.getEmpName());
                }

              } 
```

在这里，我可以将新输入的记录显示到员工表中，但该数据与数据库表中的数据不同。我正在使用 Postgres。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:53:08.393

仅在映射文件中添加**cascade="save-update" 。**对于部门，

```
<class name="tablebeans.Department" table="department" schema="public">
        <id name="departmentId" type="string">
            <column name="department_id" length="10" />
            <generator class="assigned" />
        </id>
        <property name="departmentName" type="string">
            <column name="department_name" length="20" />
        </property>
        <set name="employees" table="employee" inverse="true" lazy="true" fetch="select" cascade="save-update">
            <key>
                <column name="department_id" length="10" />
            </key>
            <one-to-many class="tablebeans.Employee" />
        </set>
    </class> 
```

你可以看到这个

[级联示例](http://www.mkyong.com/hibernate/hibernate-cascade-example-save-update-delete-and-delete-orphan/)

# javascript - 在外部单击并链接到打开的面板时滑动面板关闭

> ID：12834175
> 
> 赞同：0
> 
> 时间：2012-10-11T07:16:56.303
> 
> 标签：javascript, jquery, html

我打算使用滑动面板作为这个[网站](http://www.hoveralls.design-way.ro)的页面。即使很难，我也是一个 JS 菜鸟，我设法找到并编辑脚本，直到我得到了几乎完美的[脚本](http://jsfiddle.net/L78zh/)

问题是在外部单击时滑动面板正在关闭。然后我想在另一个面板打开时关闭，而不是当有人在面板外点击时关闭。

这也将是一个单页设计，除了投资组合。我打开了投资组合面板的 index.html 链接。我可以这样做吗？为了更好地理解我的意思，请查看这张[图片](http://design-way.ro/images/hoveralls/portfolio_single.jpg)。

编辑：好的，我会解释得更好。

这将是单页设计，因为我将使用滑动面板进行页面。然而，每个画廊项目都会有它自己的 html 页面，因为我不希望网站变慢。

所以我需要将portfolioitem1.html 链接到index.html 并打开投资组合面板，就像我发布的图片一样

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:16:48.460

这是一个解决第一部分问题的 jsFiddle：

[http://jsfiddle.net/aUHwA/1​​/](http://jsfiddle.net/aUHwA/1/)

导致面板崩溃的是`document.click()`您正在使用的功能。我将所有内容都移到了一个`$(document).ready()`函数中，为滑块和按钮添加了一些通用包装器，并使用了一个在所有三个按钮之间共享的通用点击函数。

click 函数使用`data-rel`被点击按钮的属性来决定它应该切换哪个面板。它还隐藏了`#content`div 中已经可见的所有面板。

要默认打开投资组合面板，您可以在 on('click') 函数之后立即添加：

```
$('#portfolio_button').click(); 
```

这将触发投资组合动画（参见[http://jsfiddle.net/aUHwA/3/](http://jsfiddle.net/aUHwA/3/)）。或者：

```
$('#portfolio').slideToggle(0); 
```

将立即打开投资组合面板，没有滑动动画（参见[http://jsfiddle.net/aUHwA/2/](http://jsfiddle.net/aUHwA/2/)）。

# matlab - MATLAB-如何使用迭代方式从文本文件中读取某些列

> ID：12834177
> 
> 赞同：1
> 
> 时间：2012-10-11T07:17:17.260
> 
> 标签：matlab

我想读取具有不规则矩阵的 csv 文件。我需要以迭代的方式阅读 A 列（日期）和 B 列（测量）。下面是一个示例格式。

```
 A, B, C,        A, B, C,        A, B, C   ...  ...                               
4/1/1970, 2, 5, 3/1/1971, 6, 5, 2/1/1972, 7, 5   ...  ...
7/1/1970, 3, 5, 7/1/1971, 2, 5, 4/1/1972, 3, 5   ...  ... 
        ,  ,  , 4/1/1971, 8, 5, 5/1/1972, 6, 5   ...  ... continued with this format
        ,  ,  ,         ,  ,  , 7/1/1972, 8, 5
        ,  ,  ,         ,  ,  , 8/1/1972, 11,5 
```

最终，我想得到

```
 A, B
 4/1/1970, 2
 7/1/1970, 3
 3/1/1971, 6       
 7/1/1971, 2
     .
     . 
```

有没有高手可以帮帮我？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:42:03.763

你可以[`textscan`](http://www.mathworks.se/help/matlab/ref/textscan.html)用于那个目的

```
fid = fopen('data.txt');
A = textscan(fid, '%s%f%f%s%f%f%s%f%f', 'Delimiter', ',', 'Headerlines', 1);
fclose(fid); 
```

`A`是一个细胞。日期读取为字符串 ( `%s`)，而数字读取为双精度 ( `%f`)。如果缺少数字或日期，您将分别得到 a`NaN`或`''`in `A`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:30:37.003

您可以使用 CSVIMPORT。它将 csv 文件读入一个元胞数组或矩阵。

见： http: [//www.mathworks.com/matlabcentral/fileexchange/23573-csvimport](http://www.mathworks.com/matlabcentral/fileexchange/23573-csvimport)

如果将其读入矩阵 M，则可以使用两个 for 循环轻松遍历数据。警告，我这里写的是伪代码，所以没有测试。祝你好运。

```
for row = 1:size(M,1)
    for col = 1:size(M,2)
        if M(row,col) != ""
            % do some work 
```

# xml - 将xml转换为idml

> ID：12834184
> 
> 赞同：1
> 
> 时间：2012-10-11T07:17:43.837
> 
> 标签：xml, perl, idml

我想从 xml 转换为 idml

XML 文件：

```
<XLSE>
<table>
<tgroup>
<thead>
<tr>
<td>Sampe</td>
<td>Sampe</td>
</tr>
</thead>
<tbody>
<tr>
<td>Sampe</td>
<td>Sampe</td>
</tr>
</tbody>
<tfoot>
<tr>
<td>Sampe</td>
<td>Sampe</td>
</tr>
</tfoot>
</tgroup>
</table>
</XLSE> 
```

我在indesign中导入这个文件，我在idml中得到了xml结构，

1.  如何在不改变 xml 结构的情况下获取故事文件中的表格格式
2.  在indesign中导出xml文件时如何获得相同的输入标签

请提供样品

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-23T08:42:25.843

假设你想要一个 IDML 文件中的 2x2 表，层次结构看起来像 = Story -> ParagraphStyleRange -> Table

一个最小的 Table 元素看起来像这样 -

```
<Table Self="u126i190" ColumnCount="2" BodyRowCount="2" FooterRowCount="0" HeaderRowCount="0">     
    <Row Self="u126i190Row0"  Name="0"/> 
    <Row Self="u126i190Row1"  Name="1"/> 
    <Column Self="u126i190Column0" Name="0" SingleColumnWidth="47.760000000000005"/> 
    <Column Self="u126i190Column1" Name="1" SingleColumnWidth="47.760000000000005"/>
    <Cell Self="u126i190i5" Name="0:0" ColumnSpan="1" RowSpan="1"> 
        <ParagraphStyleRange AppliedParagraphStyle="ParagraphStyle/$ID/NormalParagraphStyle">             
            <CharacterStyleRange AppliedCharacterStyle="CharacterStyle/$ID/[No character style]"/> 
                <Content>Row 1 Column 1</Content>
           </CharacterStyleRange>
        </ParagraphStyleRange>
    </Cell>
    <Cell Name="1:0"> .... </Cell>
    <Cell Name="0:1"> .... </Cell>
    <Cell Name="1:1"> .... </Cell>
</Table> 
```

单元格的 Name 属性值为 = ColumnName:RowName。

# wordpress - wordpress 将我重定向到子目录文件夹

> ID：12834187
> 
> 赞同：1
> 
> 时间：2012-10-11T07:18:10.843
> 
> 标签：wordpress

我在名为“thumbs”的子目录文件夹中安装了 wordpress。我也按照[这里](http://codex.wordpress.org/Giving_WordPress_Its_Own_Directory)的步骤。

一切正常，但如果我转到`www.mysite.com/wp-admin`它会将我重定向到`www.mysite.com/thumbs/wp-admin`，我不希望这种情况发生，因为我希望子目录文件夹是秘密的。

所以我想要的是如果我访问或有人访问 www.mysite.com/wp-admin 我希望显示 wordpress 404 错误页面。在此先感谢您的帮助。

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:08:01.530

您应该修改您的根`.htaccess`（不是`thumbs/.htaccess`）文件以添加规则`wp-admin`，例如：

```
RewriteEngine On
RewriteBase /
RewriteRule ^wp-admin - [L]
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:27:32.067

使用此代码更改您的 HTACCESS

```
# Switch rewrite engine off in case this was installed under HostPay.
RewriteEngine Off

SetEnv DEFAULT_PHP_VERSION 53

DirectoryIndex index.cgi index.php

# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
 RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
 RewriteRule . /index.php [L]
 </IfModule>

 # END WordPress 
```

# c# - 为什么在asp.net中无法获得正确的下拉列表值

> ID：12834190
> 
> 赞同：4
> 
> 时间：2012-10-11T07:18:19.037
> 
> 标签：c#, asp.net, html

我在 asp.net 中有以下代码：

```
<asp:dropdownlist id="ddlApp" runat="server" />
<asp:button id="btnSmt" runat="server" Text="Submit" /> 
```

和后面的代码：

```
 private void btnSmt_Click(object sender, System.EventArgs e)
    {
            lbl.Text = ddlApp.SelectedItem.Value;           
    } 
```

逻辑很简单。获取下拉列表的选定值并将其传递给 lbl.text。

但问题是无论我如何尝试，文本都会在下拉列表中显示列表的第一个值而不是选定的值。

而且我注意到每次单击按钮时页面都会刷新。

请帮忙。

顺便说一句，我有以下事件绑定：

```
private void InitializeComponent()
        {    
            this.btnSmt.Click += new System.EventHandler(this.btnSmt_Click);
            this.Load += new System.EventHandler(this.Page_Load);
            this.ddlApp.SelectedIndexChanged +=new System.EventHandler(this.ddlApp_Change);

        } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T07:23:41.297

您必须对下拉列表进行绑定

```
if (!Page.IsPostBack) 
```

否则，它将在每次回发时为下拉列表重新构建项目，因此仅返回新集合中当前选定的项目 - 这是第一个。

看起来你也错过了`btnSmt_Click`按钮上的 - 但你可能已经将它设置在其他地方......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:23:28.370

首先，您是否调试过这个？？？因为 C# 代码看起来是正确的。

尝试改变这个：

```
<asp:button id="btnSmt" runat="server" Text="Submit" /> 
```

到

```
<asp:button id="btnSmt" runat="server" Text="Submit" OnClick="btnSmt_Click" /> 
```

如果这确实是您的代码，您的点击事件将永远不会被捕获，因此如果您在 C# 代码中放置一个断点，您会看到该操作没有被触发。

无论如何，希望它有所帮助

# html - 如何基于正则表达式将 css 应用于 div 内容

> ID：12834195
> 
> 赞同：3
> 
> 时间：2012-10-11T07:18:33.137
> 
> 标签：html, css, regex

如果 div 的 innerHtml 与正则表达式匹配，我想将 css 应用于我的 div 标签。我不知何故无法找到正确的搜索词来谷歌它。如果已经在 SO 上询问过，请向我指出。

```
//CSS:

#main div[/* regex here which matches Foo. It will make the div red */] {
    color: red;   
} 
```

​</p>

```
//HTML:
<div id="main">
    <div>This text contains Foo. It contains other stuff too</div>
    <div>Red color will not be applied to this div because regex doesn't match</div>
</div> 
```

我已经看到使用正则表达式匹配属性的示例。例如[这个](http://jsfiddle.net/7wpnL/)。我只是无法为正则表达式找到正确的“术语”来匹配 div 的内容。我不想使用 Javascript 并解析文本。

PS：我不必在 IE、Safari、Opera 上拥有这个东西，所以任何特定于 Chrome/Mozilla 的东西也会有帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:06:34.953

在 CSS 中无法找到 innerHTML 中的内容。但是可以在字符串中搜索 HTML 标记属性值。

例如：

```
a[href*='google.com'] {
  color: red;
} 
```

您可以在带有 jQ​​uery 的 javascript 中简单地做到这一点。示例：[http ://www.jquery4u.com/syntax/jquery-basic-regex-selector-examples](http://www.jquery4u.com/syntax/jquery-basic-regex-selector-examples)

# python - 为命令行选项指定无限数量的参数

> ID：12834196
> 
> 赞同：1
> 
> 时间：2012-10-11T07:18:37.227
> 
> 标签：python, command-line

在 Python 中，有没有办法为命令行选项指定无限数量的参数？例如类似的东西`python myscript.py --use-files a b c d e`。请注意，我严格想要使用命令行选项，例如我不只是想要`python myscript.py a b c d e`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T07:23:55.940

[stdlib argparse](http://docs.python.org/dev/library/argparse.html)模块的命令行选项很简单。Using`nargs="*"`允许为选项提供任意多个参数：

```
import argparse
parser = argparse.ArgumentParser()
parser.add_argument('--use-files', nargs='*', default=['a', 'b'])
args = parser.parse_args()
print(args) 
```

输出：

```
$ python /tmp/spam.py 
Namespace(use_files=['a', 'b'])
$ python /tmp/spam.py --use-files hello world
Namespace(use_files=['hello', 'world'])
$ python /tmp/spam.py --use-files aleph-null bottles of beer on the wall, aleph-null bottles of beer, take one down pass it around, aleph-null bottles of beer on the wall
Namespace(use_files=['aleph-null', 'bottles', 'of', 'beer', 'on', 'the', 'wall,', 'aleph-null', 'bottles', 'of', 'beer,', 'take', 'one', 'down', 'pass', 'it', 'around,', 'aleph-null', 'bottles', 'of', 'beer', 'on', 'the', 'wall']) 
```

# sql - 如何在excel表上运行sql查询

> ID：12834198
> 
> 赞同：1
> 
> 时间：2012-10-11T07:18:51.933
> 
> 标签：sql, excel, jet

我想在 excel 表上运行 sql 查询：

```
select * from Range[A1:Z50] 
```

我设法做到了。遗憾的是，我发现我找到的解决方案是基于 Jet：

```
ConnectionString ="Provider=Microsoft.Jet.OLEDB.4.0; 
```

我的客户有 windows 7 和 office 专业版加上 64 位和喷气机不存在我想我需要安装 MDAC - 但我不能安装任何东西。

你知道其他解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:34:18.517

您需要使用 Ace Provider 而不是 Jet，其余代码将相同

```
"Provider=Microsoft.ACE.OLEDB.12.0" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T12:42:42.230

安装[Microsoft.ACE.OLEDB.12.0](http://www.microsoft.com/en-us/download/details.aspx?id=13255)

```
EXEC sp_MSset_oledb_prop N'Microsoft.ACE.OLEDB.12.0', N'AllowInProcess', 1
GO
EXEC sp_MSset_oledb_prop N'Microsoft.ACE.OLEDB.12.0', N'DynamicParameters' , 1
GO

SELECT * FROM OPENROWSET( 'Microsoft.ACE.OLEDB.12.0', 'Excel 8.0;Database=D:\testing.xls;', 'SELECT you_columns FROM [Sheet1$]') 
```

# sql - 使用范围分区选择列的最大值

> ID：12834199
> 
> 赞同：0
> 
> 时间：2012-10-11T07:18:57.727
> 
> 标签：sql, plsql, database-partitioning

我有一个按数字（参数实例ID）值划分范围的表。我想选择同一列的 max+1 值。我在 parameterinstanceid 上有全局非分区索引。

```
select /*+ parallel(a,32,8) */ max(parameterinstanceid) +1 from parameterinstance a; 
```

在检查解释计划时，我看到它正在桌子上进行 INDEX FULL SCAN (MIN/MAX)。我想通过首先检查最大分区来做到这一点，如果它不包含任何数据，然后是下一个分区，按 desc 顺序。我可以编写一个过程来做到这一点，但我想知道是否有一个简单的查询。 [http://www.oramoss.com/blog/2009/06/no-pruning-for-minmax-of-partition-key.html](http://www.oramoss.com/blog/2009/06/no-pruning-for-minmax-of-partition-key.html) ..这似乎是一个未解决的问题。

编辑 ：

分区名称为 PI_P01,PI_P02,...PI_P10,PI_PMAXVALUE

解释计划是：

```
PLAN_TABLE_OUTPUT
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Plan hash value: 2808487136

-----------------------------------------------------------------------------------------------------
| Id  | Operation                   | Name  | Rows  | Bytes | Cost (%CPU)| Time     | Pstart| Pstop |
-----------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT            |       |     1 |     8 |    34   (0)| 00:00:01 |       |       |
|   1 |  SORT AGGREGATE             |       |     1 |     8 |            |          |       |       |
|   2 |   PARTITION RANGE ALL       |       |     1 |     8 |    34   (0)| 00:00:01 |     1 |    11 |
|   3 |    INDEX FULL SCAN (MIN/MAX)| PI_PK |     1 |     8 |    34   (0)| 00:00:01 |     1 |    11 |
----------------------------------------------------------------------------------------------------- 
```

和表结构：

```
 Name                           Null?    Type
 ------------------------------ -------- -----------------
 PARAMETERINSTANCEID            NOT NULL NUMBER
 PARAMINSTANCE2PARAMSETVERSION  NOT NULL NUMBER
 PARAMINSTANCE2PARAMDEFINITION  NOT NULL NUMBER
 PARAMINSTANCE2PARENTPARAM               NUMBER
 SEQUENCE                                NUMBER
 X_CTCV_CONV_ID                          VARCHAR2(50 CHAR)
 X_CONV_RUN_NO                           NUMBER 
```

和表上的索引：

```
 INDEX_NAME                     POSITION COLUMN_NAME 
------------------------------ -------- -----------------------------
PI_UK                                 1 PARAMINSTANCE2PARAMSETVERSION
PI_UK                                 2 PARAMINSTANCE2PARAMDEFINITION
PI_PK                                 1 PARAMETERINSTANCEID            
PI_PAD_FK_I                           1 PARAMINSTANCE2PARAMDEFINITION
PI_PI_FK_I                            1 PARAMINSTANCE2PARENTPARAM 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:43:57.250

如果你在分区键上有一个全局索引，你应该得到一个这样的计划：

```
----------------------------------------------------------------------------
| Id  | Operation                  | Rows  | Bytes | Cost (%CPU)| Time     |
----------------------------------------------------------------------------
|   0 | SELECT STATEMENT           |     1 |     9 |     2   (0)| 00:00:01 |
|   1 |  SORT AGGREGATE            |     1 |     9 |            |          |
|   2 |   INDEX FULL SCAN (MIN/MAX)|     1 |     9 |     2   (0)| 00:00:01 |
---------------------------------------------------------------------------- 
```

这里`MIN/MAX`非常重要，意味着Oracle会[在第一个条目处停止](https://stackoverflow.com/questions/12565790/select-min-max-from-table-is-slower-than-expected)，绕过分区表。

您提供的链接不同，因为分区键没有被索引（因此它产生 a`FULL TABLE SCAN`而不是`INDEX FULL SCAN`.

如果您在分区键上没有索引，似乎 Jonathan Lewis 建议的 TOP-N 查询可能完全符合您的要求。这是我使用表格获得的计划，`test`如链接中的示例所示：

```
explain plan for 
select * from (select col_date_part_key 
                 from test 
                order by col_date_part_key desc) 
 where rownum = 1

-------------------------------------------------------------------------
| Id  | Operation                | Name | Rows  | Bytes | Pstart| Pstop |
-------------------------------------------------------------------------
|   0 | SELECT STATEMENT         |      |     1 |     9 |       |       |
|*  1 |  COUNT STOPKEY           |      |       |       |       |       |
|   2 |   PARTITION RANGE ALL    |      |     1 |     9 |    12 |     1 |
|   3 |    VIEW                  |      |     1 |     9 |       |       |
|*  4 |     SORT ORDER BY STOPKEY|      |     1 |     9 |       |       |
|   5 |      TABLE ACCESS FULL   | TEST |     1 |     9 |    12 |     1 |
------------------------------------------------------------------------- 
```

如您所见，Oracle 将从最后一个分区 ( `Pstart=12`) 开始，然后一直走到第一个分区 ( `Pstart=1`) 直到它获得一行 ( `Rows=1`)。

* * *

### 更新

我已经用我希望与您的设置相似的设置运行了另一个测试，并且我找到了一个不同的、更合乎逻辑的计划。设置：

```
create table parameterinstance  (
   PARAMETERINSTANCEID           NUMBER             NOT NULL,
   PARAMINSTANCE2PARAMSETVERSION NUMBER             NOT NULL,
   PARAMINSTANCE2PARAMDEFINITION NUMBER             NOT NULL,
   PARAMINSTANCE2PARENTPARAM     NUMBER                     ,
   SEQUENCE                      NUMBER                     ,
   X_CTCV_CONV_ID                VARCHAR2(50 CHAR)          ,
   X_CONV_RUN_NO                 NUMBER                     
) partition by range (PARAMETERINSTANCEID)
(  partition p1 values less than (1000) storage (initial 64k),
   partition p2 values less than (2000) storage (initial 64k),
   partition p3 values less than (3000) storage (initial 64k),
   partition p4 values less than (4000) storage (initial 64k),
   partition p5 values less than (5000) storage (initial 64k),
   partition p6 values less than (6000) storage (initial 64k),
   partition p7 values less than (7000) storage (initial 64k),
   partition p8 values less than (8000) storage (initial 64k),
   partition p9 values less than (9000) storage (initial 64k),
   partition p10 values less than (maxvalue) storage (initial 64k)
);

CREATE UNIQUE INDEX PI_PK ON parameterinstance(PARAMETERINSTANCEID) local;

insert into parameterinstance  
  (SELECT rownum, rownum, rownum, '', '', rpad('x', 50, 'x'), '' 
     from dual connect by level <= 1e4); 
```

在**11gR2**上，我得到以下计划：

```
-----------------------------------------------------------------------------
| Id  | Operation                   | Name  | Rows  | Bytes | Pstart| Pstop |
-----------------------------------------------------------------------------
|   0 | SELECT STATEMENT            |       |     1 |    13 |       |       |
|   1 |  PARTITION RANGE ALL        |       |     1 |    13 |    10 |     1 |
|   2 |   SORT AGGREGATE            |       |     1 |    13 |       |       |
|   3 |    INDEX FULL SCAN (MIN/MAX)| PI_PK |     1 |    13 |    10 |     1 |
----------------------------------------------------------------------------- 
```

请注意，分区以适当的顺序列出（从 10 向下到 1）。该计划在**9iR2**中有所不同：

```
-----------------------------------------------------------------------------
| Id  | Operation                   | Name  | Rows  | Bytes | Pstart| Pstop |
-----------------------------------------------------------------------------
|   0 | SELECT STATEMENT            |       |     1 |     4 |       |       |
|   1 |  SORT AGGREGATE             |       |     1 |     4 |       |       |
|   2 |   PARTITION RANGE ALL       |       |       |       |     1 |    10 |
|   3 |    INDEX FULL SCAN (MIN/MAX)| PI_PK | 10000 | 40000 |     1 |    10 |
----------------------------------------------------------------------------- 
```

所以似乎在 9i 和 11g 之间发生了一些优化。是时候升级了？

# mysql - 使用列名进行表数据转储

> ID：12834218
> 
> 赞同：12
> 
> 时间：2012-10-11T07:20:25.877
> 
> 标签：mysql

我想从一个数据库中转储特定表的数据。我正在使用命令 mysqldump -t -uroot -p TEST Person Address Department > /home/Dumps/Desktop/dumb.sql 我的问题是我要导入的数据库这个转储具有相同的表但不同的列数. 例如，与 Test Db 的 Person Table 相比，New DB 中的 Person 表包含多一列。因此，我无法导入我的转储。它显示错误“列计数与第 1 行的值计数不匹配”我发现了问题所在。在 dump.sql 中，插入查询就像

```
INSERT INTO `Person` VALUES 
    (1,'1',NULL,'2012-05-22 08:05:34',NULL,'shobana',NULL),
    (2,'2',NULL,'2012-07-16 09:56:33',NULL,'prabu',NULL); 
```

但如果是这样的话：

```
INSERT INTO `Person` 
   (column1,column2,column3,column4,column5,column6,column7) 
   VALUES 
   (1,'1',NULL,'2012-05-22 08:05:34',NULL,'shobana',NULL),
   (2,'2',NULL,'2012-07-16 09:56:33',NULL,'prabu',NULL); 
```

我不会有任何问题。

是否有任何命令可以使用列名映射进行数据转储。

有人可以帮我吗？提前致谢..

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-11T15:28:23.180

采用：

```
mysqldump --complete-insert .... 
```

这将添加列名，您将能够导入它。

# c# - 温莎城堡 WCF 设施 HTTPS

> ID：12834223
> 
> 赞同：0
> 
> 时间：2012-10-11T07:20:40.567
> 
> 标签：c#, wcf, https, castle-windsor

我成功地将 Caste WCF 设施与我的服务集成在一起。现在我尝试配置基于 BasicHttpBinding 的 HTTPS 通信。

根据以下博客文章，这应该没什么大不了的：http: [//blog.adnanmasood.com/2008/07/16/https-with-basichttpbinding-note-to-self/](http://blog.adnanmasood.com/2008/07/16/https-with-basichttpbinding-note-to-self/)

这是我的设置。在客户端，我使用以下代码配置 Windsor 容器：

```
 BasicHttpBinding clientBinding = new BasicHttpBinding();

    // These two lines are the only thing I changed here to allow HTTPS
    clientBinding.Security.Mode = BasicHttpSecurityMode.Transport;
    clientBinding.Security.Transport.ClientCredentialType = HttpClientCredentialType.None;
    // Everything else worked well with HTTP

    clientBinding.MaxReceivedMessageSize = 163840;
    clientBinding.MaxBufferSize = (int)clientBinding.MaxReceivedMessageSize;

    container = new WindsorContainer();
    container.AddFacility<WcfFacility>();
    container.Register(
        Component.For<IClientService>()
        .AsWcfClient(new DefaultClientModel {
              Endpoint = WcfEndpoint.BoundTo(clientBinding)
              .At(configuration.Get(CFGKEY_SERVICE_CLIENT))
        })
     ); 
```

除此之外，我在客户端没有任何配置。这在使用 HTTP 通信时效果很好。

服务器端在 Web.config 中得到以下配置：

```
<system.serviceModel>
  <behaviors>
    <serviceBehaviors>
      <behavior name="">
        <serviceMetadata httpsGetEnabled="true" />
        <serviceDebug includeExceptionDetailInFaults="true" />
      </behavior>
    </serviceBehaviors>
  </behaviors>
  <serviceHostingEnvironment aspNetCompatibilityEnabled="true"
    multipleSiteBindingsEnabled="true" /> 
```

当我尝试通过 https:// 连接时，出现以下异常：

System.ServiceModel.EndpointNotFoundException：在[https://myuri.com/Services/Client.svc](https://myuri.com/Services/Client.svc)上没有可以接受消息的端点侦听。

任何想法缺少什么？先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T09:50:21.463

Fixed it by myself, the above code is correct, the problem has been located inside my Windsor service installer on server-side. The following snippet for each service point will do the job.

As you can see, I've put the absolute service URI as well as transport mode (either http or https) into the app settings section of the Web.config file. Of course it would be nice to use the default WCF configuration model but this did not work.

```
 .Register(
            Component
            .For<MyNamespace.ContractInterface>()
            .ImplementedBy<MyNamespace.ImplementationClass>()
            .Named("ServiceName").LifestylePerWcfOperation()
            .AsWcfService(
                new DefaultServiceModel().Hosted().AddEndpoints(
                    WcfEndpoint.BoundTo(new BasicHttpBinding { 
                        Security = new BasicHttpSecurity { 
                            Mode = (WebConfigurationManager.AppSettings["Service.WCFFacility.TransportMode"] == "http") ? BasicHttpSecurityMode.None : BasicHttpSecurityMode.Transport, 
                            Transport = new HttpTransportSecurity { 
                                ClientCredentialType = HttpClientCredentialType.None 
                            } 
                        }
                    }).At(WebConfigurationManager.AppSettings["Service.WCFFacility.Endpoint"])
                )
            )
        ); 
```

The server configuration remains as shown above, except the app setting keys.

Hope this might help someone experiencing similar problems.

# xml - 插入时的 SQL Server 2008 XML 更改

> ID：12834236
> 
> 赞同：1
> 
> 时间：2012-10-11T07:21:41.470
> 
> 标签：xml, sql-server-2008

我在使用 SQL Server 2008 将 XML 插入表中的 XML 列时遇到问题。

我插入

```
<test></test> 
```

SQL Server 列将其存储为：

```
<test /> 
```

现在，我知道最新的表单实际上是正确的，而第一个表单并不是真正正确的 XML 语法，但我必须保留 XML，因为它是通过从客户导入传入的。在它的原始形式。

我们多年来一直在使用 DB2，并且 DB2 不会改变您插入的 XML。

所以我的问题是......是否可以在 SQL Server 2008 中禁用 XML 列的 XML 优化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:24:34.617

SQL Server 将以优化的形式存储您的 XML 的**语义**正确表示；存储的**不是**您输入的实际字符串（它被解析为 XML“片段”，并且以优化的方式存储）。

但是您不能强制从`XML`列中再次呈现相同的表示形式 - SQL Server 将呈现出它认为 XML 内容的最佳字符串表示形式。

如果您**确实**需要 100% 相同的表示，那么您需要将 XML 存储为字符串列（`(n)varchar(x)`或者`(n)varchar(max)`如果您需要超过 8000 字节的存储空间）

# c# - 我在 C# 中以正确的方式进行多线程吗？

> ID：12834242
> 
> 赞同：0
> 
> 时间：2012-10-11T07:22:12.620
> 
> 标签：c#, multithreading

我有一个程序运行多个线程来将 pdf 文件转换为文件夹及其子目录中的图像。它遍历该文件夹，将所有 pdf 文件名放在一个列表中，然后使用该列表在我创建的 4 个线程之间划分工作。现在一切都很完美。多个线程正在运行并将 pdf 文件同时转换到我指定的不同位置。

我只想知道我是否以正确的方式做这件事。几乎我访问的每个网站都以不同的方式执行多线程，我不知道哪个是最有效的，最终是正确的。

做一些有效的事情是没有好处的，如果它做错了我猜......只是将来会得到我。

如果你能看看这里的代码，我会很高兴，看看是否有什么大错特错我需要改变关于多个线程运行

```
static object LockInteger = new object();
static object LockIfCheck = new object();
static object LockInteger = new object();
static object LockIfCheck = new object();

private void button1_Click(object sender, EventArgs e)
{
    IterateThrough(txtboxdirectory.Text);
}

public void IterateThrough(string sourceDir)
{
    MulThread = new Thread(delegate()
    {
        Stopwatch stopWatch = new Stopwatch();
        stopWatch.Start();
        int lowerbound = 0;
        int upperbound = (fileList.Count / 4);
        for (int i = lowerbound; i < upperbound; i++)
        {
            forFunction(exceptionFileList, fileList[i], compltetedFileList,sourceDir, dir1);
            stopWatch.Stop();
            lblFileExecutionTime.BeginInvoke(((Action)(() => lblFileExecutionTime.Text = "Execution Per File " + stopWatch.Elapsed.ToString())));
            stopWatch.Reset();
            stopWatch.Start();
        }
    });
    MulThread.Start();

    MulThread1 = new Thread(delegate()
    {
        Stopwatch stopWatch = new Stopwatch();
        stopWatch.Start();
        int lowerbound = fileList.Count / 4;
        int upperbound = (fileList.Count / 4) * 2;
        for (int i = lowerbound; i < upperbound; i++)
        {
            forFunction(exceptionFileList, fileList[i], compltetedFileList, sourceDir, dir2);
            stopWatch.Stop();
            lblFileExecutionTime.BeginInvoke(((Action)(() => lblFileExecutionTime.Text = "Execution Per File " + stopWatch.Elapsed.ToString())));
            stopWatch.Reset();
            stopWatch.Start();
        }
    });
    MulThread1.Start();

    MulThread2 = new Thread(delegate()
    {
        Stopwatch stopWatch = new Stopwatch();
        stopWatch.Start();
        int lowerbound = (fileList.Count / 4) * 2;
        int upperbound = (fileList.Count / 4) * 3;
        for (int i = lowerbound; i < upperbound; i++)
        {
            forFunction(exceptionFileList, fileList[i], compltetedFileList, sourceDir, dir3);
            stopWatch.Stop();
            lblFileExecutionTime.BeginInvoke(((Action)(() => lblFileExecutionTime.Text = "Execution Per File " + stopWatch.Elapsed.ToString())));
            stopWatch.Reset();
            stopWatch.Start();
        }
    });
    MulThread2.Start();

    MulThread3 = new Thread(delegate()
    {
        Stopwatch stopWatch = new Stopwatch();
        stopWatch.Start();
        int lowerbound = (fileList.Count / 4) * 3;
        int upperbound;

        if (fileList.Count % 4 != 0)
        {
            upperbound = ((fileList.Count / 4) * 4) + (fileList.Count % 4) + 1;
        }
        else
        {
            upperbound = ((fileList.Count / 4) * 4) + (fileList.Count % 4);
        }

        for (int i = lowerbound; i < upperbound; i++)
        {
            forFunction(exceptionFileList, fileList[i], compltetedFileList, sourceDir, dir4);
            stopWatch.Stop();
            lblFileExecutionTime.BeginInvoke(((Action)(() => lblFileExecutionTime.Text = "Execution Per File " + stopWatch.Elapsed.ToString())));

            stopWatch.Reset();
            stopWatch.Start();
        }
    });
    MulThread3.Start();
} 
```

然后我将一些方法锁定在“forFunction”中。

```
private int forFunction(String exceptionFileList, FileInfo z, String compltetedFileList, String sourceDir, String imagedirectory)
{
    //heres where it locked up because of this global variable
    lock (LockInteger)
    {
        atPDFNumber++;
    }

    int blankImage = 1;
    int pagesMissing = 0;

    //delete the images currently in the folder
    deleteCreatedImages(imagedirectory);

    //Get the amount of pages in the pdf
    int numberPDFPage = numberOfPagesPDF(z.FullName);

    //Convert the pdf to images on the users pc
    convertToImage(z.FullName, imagedirectory);

    //Check the images for blank pages
    blankImage = testPixels(imagedirectory, z.FullName);

    //Check if the conversion couldnt convert a page because of an error
    pagesMissing = numberPDFPage - numberOfFiles;

    //int pagesMissing = 0;

    //Cancel button is pressed
    if (toContinue == 0)
    {
        return 0;
    }

    lock (LockIfCheck)
    {
        //If there is a blank page, or if there is a missing page
        if (blankImage == 0 || pagesMissing > 0)
        {
            myholder = 1;
            exceptionFileList += "File Name: " + z.Name + "\r\n"
           + "File Path: " + z.FullName + "\r\n \r\n";

            String currentValue = exceptionFileList;
            txtboxProblemFiles.BeginInvoke(((Action)(() => txtboxProblemFiles.Text += currentValue.ToString())));

            String currentValue3 = z.FullName;
            txtboxProblemFiles.BeginInvoke(((Action)(() => listboxProblemFiles.Items.Add(currentValue3))));
        }
        else
        {
            compltetedFileList += "Scanning Completed of file: " + "\r\n"
            + "File Name: " + z.Name + "\r\n"
           + "File Path: " + sourceDir + "\r\n \r\n";
        }

        String currentValue1 = "File Name: " + z.Name + "\r\n";
        txtboxCheckedFiles.BeginInvoke(((Action)(() => txtboxCheckedFiles.Text += currentValue1)));
    }

    myWorkerClass();        

    return 1;
} 
```

我会接受任何来自此代码的建筑批评。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:40:33.177

multitrheading 的建议方法是使用[ThreadPool](http://msdn.microsoft.com/en-us/library/system.threading.threadpool.aspx)。

ThreadPool 的好处是它可以管理线程创建、作业分配……并为您提供更好的性能以及更少的资源使用。

来自 MSDN 的 ThreadPool 示例：

```
using System;
using System.Threading;
public class Example {
    public static void Main() {

        // Queue the task.
        ThreadPool.QueueUserWorkItem(new WaitCallback(ThreadProc));

        Thread.Sleep(1000);

        Console.WriteLine("Main thread exits.");
    }

    // This thread procedure performs the task. 
    static void ThreadProc(Object stateInfo) {

        // No state object was passed to QueueUserWorkItem, so  
        // stateInfo is null.
        Console.WriteLine("Hello from the thread pool.");
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:42:59.657

我想答案是这取决于。你开始线程了吗，是的。看起来您正在保护共享数据吗？看起来您到处都有复制粘贴的代码。这可以抽象为一个函数，并将上限和下限作为参数。我认为您可以减少这种情况并使用 Parallel.For 或 Parallel.ForEach。最后，我不太记得与 GUI 相关的多线程问题。我看到你在这里使用了一些 GUI。但是您需要确保对标签的更改是由 GUI 线程而不是其他线程进行的。

# c# - 如何让我的 Windows 服务在 c# .net 3.5 框架中运行特定时间

> ID：12834245
> 
> 赞同：0
> 
> 时间：2012-10-11T07:22:15.053
> 
> 标签：c#

> **可能重复：**
> [Windows 服务 - 如何使任务在多个特定时间运行？](https://stackoverflow.com/questions/10380505/windows-service-how-to-make-task-run-at-several-specific-times)

我需要建议我的 Windows 服务应该在上午 9.30、上午 11.30、下午 2 点、下午 3.45 和下午 5.45 时专门运行，我如何在仅使用 Windows 服务时实现这一点，我正在使用 . net framework 3.5，我得到了一个示例，但它对 .NET framework 4 很有用

[Windows 服务 - 如何使任务在多个特定时间运行？](https://stackoverflow.com/questions/10380505/windows-service-how-to-make-task-run-at-several-specific-times)

但我需要 .NET 框架 3.5 的示例，请指教

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:24:57.580

不要为此使用服务。使用 Windows 任务计划程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:27:27.260

首先，如果您的要求是仅在特定时间运行，为什么要使用 Windows 服务。当您需要程序在后台连续运行时，通常使用 Windows 服务。可能是监视队列或等待事件触发等。

如上一个答案所述，创建一个控制台应用程序并使用 Windows 调度程序对其进行调度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:28:38.237

使用 System.Timers.Timer 和 System.Threading.Timer 。下面的链接会有所帮助：

[在 Windows 服务中使用的最佳计时器](https://stackoverflow.com/questions/246697/windows-service-and-timer)

# c# - 从 WPF 执行存储过程

> ID：12834249
> 
> 赞同：5
> 
> 时间：2012-10-11T07:22:21.610
> 
> 标签：c#, sql, wpf, stored-procedures

我正在做一个简单的wpf应用程序的注册过程。用户提供的注册信息必须存储在服务器中。我想为此使用存储过程。我正在使用 SQL Server 2008。我在服务器中创建了表和存储过程，用于存储来自用户的输入。我无法在我的 wpf 应用程序中使用它。以下是 C# 代码。

注册.xaml.cs：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using System.Data.SqlClient;
using System.Text.RegularExpressions;
using System.Data; 

namespace storedprocedure
{
/// <summary>
/// Interaction logic for MainWindow.xaml
/// </summary>
public partial class Registration : Window
{
    public Registration()
    {
        InitializeComponent();
    }
private void Login_Click(object sender, RoutedEventArgs e)
    {

        Login login = new Login();

        login.Show();

        Close();

    }

    private void button2_Click(object sender, RoutedEventArgs e)
    {

        Reset();

    }

    public void Reset()
    {

        textBoxFirstName.Text = "";

        textBoxLastName.Text = "";

        textBoxEmail.Text = "";

        textBoxAddress.Text = "";

        passwordBox1.Password = "";

        passwordBoxConfirm.Password = "";

    }

    private void button3_Click(object sender, RoutedEventArgs e)
    {

        Close();

    }

    private void Submit_Click(object sender, RoutedEventArgs e)
    {

        if (textBoxEmail.Text.Length == 0)
        {

            errormessage.Text = "Enter an email.";

            textBoxEmail.Focus();

        }

        else if (!Regex.IsMatch(textBoxEmail.Text, @"^[a-zA-Z][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$"))
        {

            errormessage.Text = "Enter a valid email.";

            textBoxEmail.Select(0, textBoxEmail.Text.Length);

            textBoxEmail.Focus();

        }

        else
        {

            string firstname = textBoxFirstName.Text;

            string lastname = textBoxLastName.Text;

            string email = textBoxEmail.Text;

            string password = passwordBox1.Password;

            if (passwordBox1.Password.Length == 0)
            {

                errormessage.Text = "Enter password.";

                passwordBox1.Focus();

            }

            else if (passwordBoxConfirm.Password.Length == 0)
            {

                errormessage.Text = "Enter Confirm password.";

                passwordBoxConfirm.Focus();

            }

            else if (passwordBox1.Password != passwordBoxConfirm.Password)
            {

                errormessage.Text = "Confirm password must be same as password.";

                passwordBoxConfirm.Focus();

            }

            else
            {

                errormessage.Text = "";

                string address = textBoxAddress.Text;

                SqlConnection con = new SqlConnection("Data Source=DBSERVER\\DUBAIAIRPORT;Initial Catalog=LoginWPF;User ID=sa;Password=sa");

    con.Open(); 

    using (SqlCommand cmd = new SqlCommand("storedprocedure", con))
    {
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.ExecuteNonQuery(); 
    }

    con.Close();
}

            }
        }
    }

} 
```

下面是在我的 sql server 数据库中创建的存储过程

```
CREATE PROCEDURE submitdata
(
 @Firstname varchar(50),
 @Lastname varchar(50),
 @Email varchar(50),
 @Password varchar(50),
 @Address varchar(50)
 )
 AS
 insertinto                                                                              registrationdata(Firstname,Lastname,Email,Password,Address)values(@firstname,@lastname,               @email,@password,@address) 
```

数据库的名称是存储过程。我正在使用 .net4.0 的 VS 2010。

请帮助我必须在 Registration.xaml.cs 中插入的 c# 代码。谢谢你。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T07:32:55.257

```
con.Open(); 

using (SqlCommand cmd = new SqlCommand("submitdata", con))
{
    cmd.CommandType = CommandType.StoredProcedure;

    SqlParameter param1 = new SqlParameter("@Firstname", SqlDbType.VarChar);
    param1.Value = "my first name";

     // ... the rest params

    cmd.Parameters.Add(param1);

    // cmd.Parameters.Add(param2);....

    cmd.ExecuteNonQuery(); 
}

con.Close(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:30:37.073

**前几个问题**
您尝试做什么？你有数据库连接吗？你使用什么样的技术来访问你的数据层（LINQ to something？实体？根本没有抽象？）

您也应该发布您的实际代码。

**代码示例**
不管怎样，这里有一个小代码示例来解释如何使用普通`System.Data.SqlClient`类执行存储过程。

```
private static void SubmitData(string firstName, string lastName)
{
    using (var connection = new SqlConnection("your connection string"))
    {
        connection.Open();

        using (var command = connection.CreateCommand())
        {
            command.CommandType = CommandType.StoredProcedure;
            command.CommandText = "submitdata";

            command.Parameters.AddWithValue("@FirstName", firstName);
            command.Parameters.AddWithValue("@LastName", lastName);

            command.ExecuteNonQuery();
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:26:26.853

如果您在 Visual Studio 服务器资源管理器中连接到数据库，并创建一个 LINQ to SQL 类，您将永远不必接触`SqlCommand`. 您的存储过程将生成为您可以调用的方法。

[http://msdn.microsoft.com/en-us/library/bb386976.aspx](http://msdn.microsoft.com/en-us/library/bb386976.aspx)

# javascript - 用于下拉菜单的 Jquery val() 与 this.value

> ID：12834252
> 
> 赞同：5
> 
> 时间：2012-10-11T07:22:30.467
> 
> 标签：javascript, jquery, loops, each

下面的代码使用 this.value 来获取表单下拉列表的值。我通常只看到 .val() 使用过。以下方式是否可以接受跨浏览器（尤其是旧版本的 IE）？谢谢！

```
 $(':input', '#all').each(function() {
       alert(this.value);                 
    }); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T07:30:17.537

是的，它是可以接受的，更具可读性，并且比调用更便宜（更快）`$(this).val()`。

简单来说，`$(this)`指的是一个 jQuery 对象，而`this`指的是一个 DOM 元素。

[此处](https://stackoverflow.com/tags/jquery/info)的常见问题解答简要介绍了它（在“了解您的 DOM 属性和功能”下）

> 当原生 DOM API 足够时，你应该使用普通的“this”，当你需要 jQuery 的帮助时，你应该使用 $(this)。

我还建议阅读以下内容：

[$(this) 与 jQuery 中的 this](https://stackoverflow.com/questions/3400020/this-vs-this-in-jquery)

[jQuery：'$(this)' 和 'this' 有什么区别？](https://stackoverflow.com/questions/1051782/jquery-this-vs-this)

[何时使用 Vanilla JavaScript 与 jQuery？](https://stackoverflow.com/questions/4651923/when-to-use-vanilla-javascript-vs-jquery/4652402#4652402)

[利用 jquery 的强大功能来访问元素的属性](http://whattheheadsaid.com/2010/10/utilizing-the-awesome-power-of-jquery-to-access-properties-of-an-element)

[这揭开了神秘面纱](http://remysharp.com/2007/04/12/jquerys-this-demystified/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-11T07:26:14.417

这应该工作

对于 JQuery `val`，您需要`$(this).val()`

# java - 基于Ç的字符串拆分

> ID：12834253
> 
> 赞同：1
> 
> 时间：2012-10-11T07:22:32.337
> 
> 标签：java, string-split

到目前为止，我想根据 Ç （带有 cedilla 的拉丁大写字母 C）拆分字符串，我已经尝试过 string.split、Splitter.on(pattern).split(line)

Ç有unicode 00C7

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:25:06.970

如果您的 java 源文件应该是 UTF-8 格式，那么这非常有效：

```
String[] token = s.split("Ç"); 
```

如果没有，请使用

```
String[] token = s.split("\u00C7"); // Ç 
```

但这可读性要差得多

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T07:26:08.360

尝试

```
String s = "I want to split a string based on Ç (Latin Capital letter C with cedilla) so far i have tried string.split, Splitter.on(pattern).split(line)\n" +
        "\n" +
        "Ç has unicode 00C7";
for(String part: s.split("Ç"))
    System.out.println("["+part+"]"); 
```

印刷

```
[I want to split a string based on ]
[ (Latin Capital letter C with cedilla) so far i have tried string.split, Splitter.on(pattern).split(line)

]
[ has unicode 00C7] 
```

# python - 遵循嵌套目录结构直到结束

> ID：12834256
> 
> 赞同：1
> 
> 时间：2012-10-11T07:23:05.540
> 
> 标签：python, directory

我有一些目录，其中包含一些其他目录，这些目录在最低级别包含一堆 csv 文件，例如（文件夹）a -> b -> c ->（csv 文件）。每个级别通常只有一个文件夹。当我处理一个目录时，我如何才能遵循这个结构直到最后得到 csv 文件？我在想也许是一个递归解决方案，但我认为可能有更好的方法来做到这一点。我正在使用python。希望我很清楚。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:27:23.547

该[`os`](http://docs.python.org/library/os.html)软件包具有一个[`walk`](http://docs.python.org/library/os.html#os.walk)功能，可以*完全*满足您的需求：

```
for current_path, directory, files in walk("/some/path"):
    # current_path is the full path of the directory we are currently in
    # directory is the name of the directory
    # files is a list of file names in this directory 
```

您可以使用[`os.path`'s](http://docs.python.org/library/os.path.html)导出每个文件的完整路径（如果需要）。

或者，您可能会发现该[`glob`](http://docs.python.org/library/glob.html)模块对您更有用：

```
for csv_file in glob(/some/path/*/*.csv"):
    # csv_file is the full path to the csv file. 
```

# objective-c - 如何仅从单面绘制带有色调颜色和圆角的 UIButton

> ID：12834261
> 
> 赞同：0
> 
> 时间：2012-10-11T07:23:18.317
> 
> 标签：objective-c, ios, uibutton

我想绘制一个 UIButton 填充**红色**或 rgb 呈现的其他颜色，并且**只有上边缘是圆形的**。
有些人回答我是为了得到一个图像来做到这一点，但每次我想改变它时，我都必须带来新的图像并替换它，我想问我可以从代码中做到这一点而不获取图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:39:15.333

没有直接的方法。实现这一点的唯一方法是创建一个段控件并在其中只保留一个段。

详细实现见[这篇文章](http://charles.lescampeurs.org/2011/02/10/tint-color-uibutton-and-uibarbuttonitem)，

**更新：**

如果您只想圆两个角[，请检查 UIView 中的圆两个角](https://stackoverflow.com/questions/4847163/round-two-corners-in-uiview)或[仅两个圆角？](https://stackoverflow.com/questions/4845211/just-two-rounded-corners)正如 rdurand 的评论中提到的那样。由于段控制是 的子视图`UIView`，因此应该可以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:53:41.250

`bezierPathWithRoundedRect:xRadius:yRadius:`您可以使用 NSBezierPath 的方法绘制圆角。然后用另一条贝塞尔路径绘制它。或者您可以使用 moveToPoint: lineToPoint: 和 curveToPoint:controlPoint1:controlPoint2 定义自定义贝塞尔路径：

看看这个： [https ://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSBezierPath_Class/Reference/Reference.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSBezierPath_Class/Reference/Reference.html)

# c# - 注册嵌套区域 - Prism

> ID：12834264
> 
> 赞同：1
> 
> 时间：2012-10-11T07:23:39.557
> 
> 标签：c#, prism

这是我的策略，

我的模块内部有一个`ContentView`用作**嵌套区域**的容器。当它只是一个区域时，下面的代码对我有用，但我决定将它分开。我使用**接口**来注册类型，不管用真实的内容改变它们，这里没关系。

我知道我提供的代码有一些错误，请帮助我，因为我认为使用这些嵌套区域可以更多地清理代码并且结构更好。我正在使用统一。

在 ContentView 内**

// 在网格内

```
 <DockPanel Grid.Column="0" prism:RegionManager.RegionName="Left" />
            <DockPanel Grid.Column="0" prism:RegionManager.RegionName="Right" /> 
```

添加 LeftView 将导致错误。

**运行代码将给出此错误：** {“创建名为“Left”的区域时发生异常。异常是：System.Collections.Generic.KeyNotFoundException：System.Windows.Controls.DockPanel 类型的 IRegionAdapter 未注册在区域适配器映射中。您可以通过重写引导程序中的 ConfigureRegionAdapterMappings 方法为此控件注册 IRegionAdapter。\r\n

* * *

我应该如何更改代码来完成这项工作？

我应该像我的容器区域一样威胁嵌套区域吗？

代码是否正确排序？（他们的优先级）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T21:22:45.680

在停靠面板中放置一个 ContentControl，并在其上设置区域名称。不支持将停靠面板作为开箱即用的区​​域。

# hibernate - Hibernate 标准：原始类

> ID：12834268
> 
> 赞同：0
> 
> 时间：2012-10-11T07:23:41.953
> 
> 标签：hibernate, criteria

我想知道是否有办法获取用于创建标准的类的名称。

例子 ：

```
Criteria c = session.createCriteria(MyClasse.class) 
```

所以我想知道，当我有标准 c 时，使用 MyClasse 来制作它

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:06:27.737

您可以通过以下方式获取标准的实体或类名，

```
 Criteria c = sessionFactory.getCurrentSession().createCriteria(Customer.class);
((CriteriaImpl) c).getEntityOrClassName() - would give you Customer 
```

*   麦迪

# c# - 在 C# 中保存和识别鼠标手势

> ID：12834269
> 
> 赞同：1
> 
> 时间：2012-10-11T07:23:42.577
> 
> 标签：c#, mouse, gesture

我有 ac#-programm。现在我想添加鼠标手势功能。用户可以做出手势并保存。当他再次这样做时，应该发生一些指定的动作。

c# 中是否有一个免费的代码片段可以做到这一点？如果没有识别和拯救它们的好方法呢？

应该有两个功能：

1.  保存绘制的手势
2.  在保存的手势中识别绘制的手势

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:54:03.860

[CodePlex 的 Mouse Gestures](http://mousegestures.codeplex.com/)似乎正是您想要的。我自己没有尝试过，但是如果您需要扩展功能，可以使用源代码。

只需确保在发布或类似内容之前阅读[许可证即可。](http://mousegestures.codeplex.com/license)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:46:17.780

有一个鼠标功能相关的类：[System.Windows.Input.Mouse](http://msdn.microsoft.com/en-us/library/system.windows.input.mouse.aspx) 可以使用。

# javascript - 需要 JavaScript 计数器功能帮助

> ID：12834271
> 
> 赞同：0
> 
> 时间：2012-10-11T07:24:02.903
> 
> 标签：javascript, jquery, timer

我目前在一个类似于 www.romneymakes.com 的网站上工作。我想创建一个模拟网站右侧红色横幅的函数。我想编写一个每秒递增的计数器。

我试图在一个空白网页中进行编程，但代码不起作用。我想知道是否有人可以帮助我。我正在使用的代码粘贴在下面。

```
function counter() {
    var per_sec = c.per_second, num_of_sec = 0, total;
    per_sec += 0.74;
    num_of_sec++;

    var seconds = Math.floor(num_of_sec / 10);
    total = per_sec * seconds;

    window.alert( total );
  }

  setInterval('counter', 1000); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:26:55.773

如果您将字符串传递给 setInterval，它将被评估。在这种情况下，您必须通过`'counter()'`才能调用该函数。但是最好传递一个函数，而不是传递一个字符串，所以在你的场景中你可以简单地写：

```
setInterval(counter, 1000); 
```

您还在函数*内*`num_of_sec`定义和，这意味着它们只会在该函数调用期间存在。每次调用计数器时将设置为 0。将这些定义为全局变量。`total` *`num_of_sec`*

 *你也在设置`seconds = Math.floor(num_of_sec / 10)` 这意味着`seconds`（因此你乘以它的任何东西）将在前 10 秒内为 0。这是故意的吗？如果您希望您的计数器每 10 秒只增加一次，而不是每秒增加一次，那么您最好通过`10000`而不是`1000`间隔延迟。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:27:25.820

改成：

```
setInterval(counter, 1000); 
```

此外，`c`未定义（您可能打算将其作为参数传递给函数？）：

```
c.per_second 
```*

# ruby-on-rails - Rails 资产管道：未预编译

> ID：12834275
> 
> 赞同：1
> 
> 时间：2012-10-11T07:24:13.250
> 
> 标签：ruby-on-rails, asset-pipeline

> **可能重复：**
> [ActionView::Template::Error（960.css 未预编译）](https://stackoverflow.com/questions/7577236/actionviewtemplateerror-960-css-isnt-precompiled)

在生产中运行应用程序时出现此错误：

```
ActionView::Template::Error (custom.css isn't precompiled): 
```

我已经运行了 rake assets:precompile，但这并没有帮助。在控制台中，我可以看到 custom.css 已编译：

```
me@server:/webapps/myapp/current# rake assets:precompile
/usr/local/rvm/rubies/ruby-1.9.2-p180/bin/ruby /usr/local/rvm/gems/ruby-1.9.2-p180@rails/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets
...
Compiled custom.css  (629ms)  (pid 17716)
Compiled responsive.css  (0ms)  (pid 17716)
Compiled iphone_checkbox_style.css  (30ms)  (pid 17716)
... 
```

我在带有 Nginx 和Passenger 的Ubuntu 服务器上运行Rails 3.2.2 应用程序。

config/enrivonments/production.rb 配置为具有以下内容：

```
config.assets.compile = false 
```

我有点想不出什么可能会出错。任何建议表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:46:00.510

您可以将其添加到预编译列表中，如下所示：

```
config.assets.precompile += ['custom.css'] 
```

或重命名它，如下所示：

```
custom.css.scss 
```

# javascript - HTML 5 表单验证条件

> ID：12834276
> 
> 赞同：1
> 
> 时间：2012-10-11T07:24:17.007
> 
> 标签：javascript, html, validation

HTML5表单验证条件有哪些，比如

1.  未输入必填项 - `valueMissing`,
2.  元素值与类型/格式不匹配 - `typeMismatch`,
3.  元素值与模式不匹配 -`patternMismatch`
4.  值低于提供的最小值 -`rangeUnderflow`
5.  值高于最大值 - `rangeOverflow`。

还有这些吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:05:14.280

我找到了这些网站并将其用作我的参考：

*   [http://stephenwalther.com/archive/2012/03/13/html5-form-validation.aspx](http://stephenwalther.com/archive/2012/03/13/html5-form-validation.aspx)
*   [http://www.matiasmancini.com.ar/jquery-plugin-ajax-form-validation-html5.html](http://www.matiasmancini.com.ar/jquery-plugin-ajax-form-validation-html5.html)
*   [http://ericleads.com/h5validate/](http://ericleads.com/h5validate/)

感谢作者。

# android - Android KeyCode 大写字母？

> ID：12834277
> 
> 赞同：4
> 
> 时间：2012-10-11T07:24:19.910
> 
> 标签：android, xml, keyboard, key, keycode

我正在使用`XML Keyboard`这样的软键盘：

```
<Keyboard xmlns:android="http://schemas.android.com/apk/res/android"
    android:keyWidth="11.11%p" android:horizontalGap="0px"
    android:verticalGap="0px" android:keyHeight="54dip">

        <Row>
        <Key android:codes="38" android:keyIcon="@drawable/icon_ja"
            android:iconPreview="@drawable/iconprev_ja"
            android:keyEdgeFlags="left" />
        <Key android:codes="42" android:keyIcon="@drawable/icon_nya"
            android:iconPreview="@drawable/iconprev_nya"/>
        <Key android:codes="53" android:keyIcon="@drawable/icon_ya"
            android:iconPreview="@drawable/iconprev_ya"/>
        <Key android:codes="46" android:keyIcon="@drawable/icon_ra"
            android:iconPreview="@drawable/iconprev_ra"/>
        <Key android:codes="40" android:keyIcon="@drawable/icon_la"
            android:iconPreview="@drawable/iconprev_la"/>
        <Key android:codes="51" android:keyIcon="@drawable/icon_wa"
            android:iconPreview="@drawable/iconprev_wa"/>
        <Key android:codes="47" android:keyIcon="@drawable/icon_sa"
            android:iconPreview="@drawable/iconprev_sa"/>
        <Key android:codes="29" android:keyIcon="@drawable/icon_a"
            android:iconPreview="@drawable/iconprev_a"/>
        <Key android:codes="36" android:keyIcon="@drawable/icon_ha"
            android:iconPreview="@drawable/iconprev_ha" />

    </Row>
</Keyboard> 
```

`android:codes`产生小写字母（不是大写字母）。并且[http://developer.android.com/reference/android/view/KeyEvent.html](http://developer.android.com/reference/android/view/KeyEvent.html)不提供大写字母列表。我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:55:26.390

您可能必须使用修饰键之一：`KEYCODE_SHIFT_LEFT`、、`KEYCODE_SHIFT_RIGHT`或`KEYCODE_CAPS_LOCK`。

编辑：您可以使用`android:keyOutputText`而不是`android:codes`. 在那里你可以定义任何你想输出的字符串（甚至不必是一个字符）。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2017-08-29T00:25:46.953

Android 对大小写字母使用标准 Ascii 键码。你可以在这里找到它们：[http ://www.theasciicode.com.ar/](http://www.theasciicode.com.ar/)

# lotus-domino - 通过代理在 RichText 项中创建内联图像

> ID：12834279
> 
> 赞同：0
> 
> 时间：2012-10-11T07:24:29.303
> 
> 标签：lotus-domino, lotusscript

我正在尝试编写一个通过 xmlhttprequest 运行并接受 UNID 和 Base64 编码图像作为参数的代理。

我要做的是代理解码 base64 字符串并将其作为内联图像写入 RichText 字段

我尝试将 base64 编码字符串写入 Stream，然后使用子实体创建 MimeEntity 并设置流中的内容，然后获取 MimeEntity Item 并将其附加到 RichTextItem

```
.
.
.
Call stream.Writetext(data)
.
Set body = doc.CreateMIMEEntity("RT")   

Set header = body.CreateHeader("Content-Type") 
Call header.SetHeaderVal("multipart/mixed")
.
Set child = body.CreateChildEntity() 
Call child.Setcontentfrombytes(stream, "image/jpeg", 1727) 
Call child.Decodecontent()
.
Call RT.AppendRTItem(MimeEntityItem) 
```

但我最终得到了一个 6400 字节的图像/jpeg 文件现在我没有得到任何进一步

有没有人知道如何让这样的东西工作？提前致谢 =)

编辑：

好的，我认为它只是使用有效的 base64 字符串创建了一个文件，但它没有被解码

* * *

好的，现在我至少做到了这一点：

```
 Option Public
  Option Declare

  Sub Initialize

      Dim session As NotesSession
      Dim doc As NotesDocument
      Dim query_string As String
      Dim params As Variant
      Dim i As Integer
      Dim db As NotesDatabase
      Set session = New NotesSession
      Set doc = session.DocumentContext
      query_string = doc.QUERY_STRING(0)

  On Error GoTo errorrt
      params = Split (query_string,"&")

      Print("<html><head></head><body>")

      Print params(1);
      Print("<br>")
      Print ({<img src="data:image/png;base64,} & params(2) & {"></img>})
      Set db = session.Currentdatabase
      Set doc = db.Getdocumentbyunid(params(1))
      If doc Is Nothing Then
          Print ("Ne")
      End If
      Print (doc.Getitemvalue("tatkun")(0))
      Print ("</body></html>")

      Call AttachSignature(doc,params(2),"signature")

      Exit Sub
  errorrt:
      Print (Error & " " & erl)
      Exit Sub
  End Sub

  Function AttachSignature(doc As NotesDocument, data As Variant, filename As String) As Boolean

  AttachSignature = False

  Dim session As New NotesSession
  Dim db As NotesDatabase
  Dim body As NotesMIMEEntity
  Dim header As NotesMIMEHeader
  Dim child As NotesMIMEEntity
  Dim stream As NotesStream
  Dim fileType As String
  Dim rt1 As NotesRichTextItem
  Dim rt2 As NotesRichTextItem

  On Error GoTo ErrorRoutine

  Set db = doc.Parentdatabase
  Set stream = session.CreateStream

  Call stream.Writetext(data) 'Write the Data to the Stream

  If doc.Getitemvalue("SignatureAttached")(0) = "1" Then
      Exit Function
  End If

  Set body = doc.CreateMIMEEntity("TempRT")     

  Set header = body.CreateHeader("Content-Type") 
  Call header.SetHeaderVal("multipart/mixed")

  Call body.CreateHeader("Content-Disposition"). _
  SetheaderValAndParams({attachment; filename="} &filename & {"})

  Set child = body.CreateChildEntity()

  fileType = "image/jpeg"

      Call child.SetcontentfromText(stream, fileType, 1727) 
      Call stream.Close() 
      Call body.Decodecontent()

  Call doc.save(False, False)

  Set rt1 = doc.GetFirstItem("signature")
  Set rt2 = doc.GetFirstItem("TempRT")

  Call rt1.AppendRTItem( rt2 )
  Call rt2.Remove()

  doc.SignatureAttached = "1"

  Call doc.save(False, False)

  AttachSignature = True

  Exit Function

  ErrorRoutine:
   If Not rt2 Is Nothing Then
      Call rt2.Remove()
   End If 
   Print (Error & " " & Erl)
   Exit Function
  End Function 
```

它将有效图像添加到 RichText 项 =)

但我不明白如何使它成为内联图像。而且文件名也不正确。

再次感谢任何帮助 =)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T18:52:51.837

我相信您希望使用 multipart/related 而不是 multipart/mixed，并将 Content-ID: 标头分配给存储 iamge 的 MIMEEntity，然后用于引用图像中的内容 ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-02T03:15:10.947

希望这可以解决。

```
Dim session As New NotesSession
    Dim db As NotesDatabase
    Dim doc As NotesDocument
    'Dim acl As NotesACL
    'Dim entry As NotesACLEntry
    Dim richStyle As NotesRichTextStyle
    Dim rtitem As NotesRichTextItem
    Set db = session.CurrentDatabase
    Set doc = db.CreateDocument
    Dim s As New NotesSession
    Dim stream As NotesStream   
    Dim body As NotesMIMEEntity
    Dim child As NotesMimeEntity
    Dim header As NotesMIMEHeader
    Set body =  doc.CreateMIMEEntity("RT")

    topString = Split(BASE64, ",")

    Dim tmp_array() As String
    i = 0

    For i = 0 To Ubound(topString)
        Redim Preserve tmp_array(i)
        tmp_array(i) = topString(i)

        Set child = body.CreateChildEntity()
        Set header = child.CreateHeader("Content-Type")
        Call header.SetHeaderVal("multipart/mixed") 
        Set header =child.createHeader("Content-Disposition")
        Call header.setHeaderVal({attachment; filename=test} &Cstr(i)& {.jpg}) 'file name and type should be config

        Set header =child.CreateHeader("Content-ID")
        Call header.SetHeaderVal("test" &Cstr(i)& ".jpg")

        Set stream = s.CreateStream()
        Call stream.WriteText(topString(i))
        Call child.SetContentFromText(stream, "", ENC_BASE64)

    Next

    doc.form="Attachment"
    'doc.Attachment = tmp_array 
    Call doc.save(True,False)
    Call stream.Close() 
    s.ConvertMIME = True ' Restore conversion 
```

# c++ - 与 std::future 关联的存储是如何分配的？

> ID：12834281
> 
> 赞同：14
> 
> 时间：2012-10-11T07:24:34.877
> 
> 标签：c++, asynchronous, c++11, future, c++-standard-library

获得 a 的一种方法`std::future`是通过`std::async`：

```
int foo()
{
  return 42;
}

...

std::future<int> x = std::async(foo); 
```

在此示例中，如何`x`分配 的异步状态的存储，以及哪个线程（如果涉及多个线程）负责执行分配？此外，客户`std::async`是否可以控制分配？

对于上下文，我看到[的构造函数](http://en.cppreference.com/w/cpp/thread/promise/promise)之一`std::promise`可能会接收分配器，但我不清楚是否可以`std::future`在`std::async`.

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T08:01:53.343

内存是由调用的线程分配的`std::async`，你无法控制它是如何完成的。通常它会由 的一些变体完成`new __internal_state_type`，但不能保证；它可以使用`malloc`, 或专门为此目的选择的分配器。

从 30.6.8p3 [futures.async] 开始：

> “效果：第一个函数的行为与调用第二个函数的行为相同，策略参数为`launch::async | launch::deferred`和 的参数相同。第二个函数创建`F`与`Args`返回的未来对象相关联的共享状态。......”

“第一个功能”是没有启动策略的过载，而第二个是带有启动策略的过载。

在 的情况下`std::launch::deferred`，没有其他线程，所以一切都必须发生在调用线程上。在 的情况下`std::launch::async`，30.6.8p3 继续说：

> — 如果`policy & launch::async`非零 — 调用`INVOKE (DECAY_COPY (std::forward<F>(f)), DECAY_COPY (std::forward<Args>(args))...)`(20.8.2, 30.3.1.2) 就好像在一个由线程对象表示的新执行**线程中，****调用. `DECAY_COPY ()``async`**...

我已经添加了重点。由于函数和参数的复制必须发生在调用线程中，这本质上要求共享状态由调用线程分配。

当然，您可以编写一个启动新线程的实现，等待它分配状态，然后返回一个`future`引用该状态的实现，但您为什么要这样做呢？

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-11T08:04:06.753

仅从论点来看[`std::async`](http://en.cppreference.com/w/cpp/thread/async)，似乎没有办法控制内部的分配，`std::promise`因此它可以使用任何东西，尽管可能是`std::allocator`. 虽然我猜理论上它是未指定的，但共享状态很可能是在调用线程内分配的。我没有在标准中找到任何关于这个问题的明确信息。最后`std::async`是一个非常专业的工具，可以轻松进行异步调用，因此您不必考虑是否真的**有**任何`std::promise`地方。

为了更直接地控制异步调用的行为，还有[`std::packaged_task`](http://en.cppreference.com/w/cpp/thread/packaged_task)，它确实有一个分配器参数。但是从纯粹的标准引用来看，这个分配器是否只是用于为函数分配存储空间（因为`std::packaged_task`它是一种特殊的`std::function`）或者它是否也用于分配 internal 的共享状态`std::promise`，虽然看起来很可能：

30.6.9.1 [futures.task.members]：

> *效果：*构造一个`packaged_task`具有共享状态的新对象，并用 初始化该对象的存储任务`std::forward<F>(f)`。接受`Allocator`参数的构造函数使用它来分配存储内部数据结构所需的内存。

好吧，它甚至没有说下面有**a**（`std::promise`同样 for `std::async`），它可能只是一个可连接到 a 的未定义类型`std::future`。

因此，如果确实没有指定如何`std::packaged_task`分配其内部共享状态，那么最好的选择可能是实现自己的异步函数调用设施。考虑到，简单地说，a`std::packaged_task`只是与 a`std::function`捆绑在一起，`std::promise`并且`std::async`只是在一个新线程中启动 a `std::packaged_task`（好吧，除非它没有），这应该不是太大的问题。

但实际上这可能是规范中的疏忽。虽然分配控制并不真正适合`std::async`，但分配器的解释`std::packaged_task`及其使用可能会更清楚一些。但这也可能是有意的，因此`std::packaged_task`可以随意使用它想要的任何东西，甚至不需要`std::promise`内部。

**编辑：**再读一遍，我认为上面的标准引用确实说，`std::packaged_task`的共享状态**是**使用提供的分配器分配的，因为它是*“内部数据结构”*的一部分，无论是什么（不需要是一个实际的`std::promise`，虽然）。所以我认为`std::packaged_task`应该足以显式控制异步任务的共享状态`std::future`。

# python - Tkinter（动态）框架不显示

> ID：12834286
> 
> 赞同：2
> 
> 时间：2012-10-11T07:25:01.377
> 
> 标签：python, layout, tkinter, frame

我想用 Tkinter 创建一个 GUI 程序。我的想法是一个带有 menuBar 和 MainFrame 的 mainWindow，它显示动态内容。
我想通过以下方式添加 MainFrame：

```
MainFrame = Frame(self, bd = '2')
MainFrame.pack(anchor = CENTER) 
```

但什么也没发生。有什么想法吗？谢谢你的帮助。

程序代码：

```
class View(Tk):
    def __init__(self):
        Tk.__init__(self)
        self.title('Device Configurator')
        self.geometry('500x400')
        self.resizable(0,0)

        self.countFrame = Frame(self, bd = 2, relief = RIDGE)
        self.countFrame.pack(pady = 10, padx = 5)    

        MainFrame = Frame(self, bd = '2')
        MainFrame.pack(anchor = CENTER)

        menubar = Menu(self)
        filemenu = Menu(menubar, tearoff=0)
        filemenu.add_command(label='Configure Devices', command= None)
        filemenu.add_command(label='Exit', command=self.quit)
        menubar.add_cascade(label='File', menu=filemenu)

        infomenu = Menu(menubar, tearoff = 0)
        infomenu.add_command(label='About', command = None)
        menubar.add_cascade(label='Info', menu = infomenu)

        self.config(menu = menubar)

class Controller(object):
    def __init__(self):
        self.view = View()
        self.view.mainloop()

c = Controller() 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:47:37.650

实际上，您的框架已成功添加，但大小为零（而且不可见！）。

您可以添加一些内容，或者要求布局管理器为其提供所有可用空间`MainFrame.pack(expand=True, fill="both")`。

为了使其可见，`borderwith`(alias `bd`) 是不够的。它必须与救济相结合（例如`relief=SUNKEN`）。“查看”框架的另一种方法是设置一个`background`.

# entity-framework - 带有 ODAC 的实体框架

> ID：12834290
> 
> 赞同：0
> 
> 时间：2012-10-11T07:25:11.500
> 
> 标签：entity-framework, odac

我将 EF 与 ODAC 一起使用，它的 Oracle.DataAccess 和 Oracle.Web.dll 版本号是 2.112.3.0，但在服务器上版本号是 2.112.1.0。我的 Web 应用程序总是给出此错误消息：无法找到请求的 .Net Framework 数据提供程序。它可能没有安装。我认为这是由于版本号的不同。我试图将这两个 dll 复制到服务器上，但没有解决问题。我怎样才能解决这个问题？我必须重新安装一些客户端来解决这个问题吗？谢谢你。

# javascript - jQuery Datatables，删除行，添加行和编辑行问题

> ID：12834292
> 
> 赞同：7
> 
> 时间：2012-10-11T07:25:23.670
> 
> 标签：javascript, jquery, html, jquery-datatables

我有一个表，我想添加、删除和编辑行。添加效果很好，但编辑和删除无法正常工作。当我删除某些行时，有时我无法保存我在第一行或最后一行中编辑的内容和/或该行的输入字段不会显示。

我使用：数据表和快捷方式。

HTML部分：

```
<td><img id ="addButton" src="../images/add_up.png" onmouseover="this.src='../images/add_over.png'" onmouseout="this.src='../images/add_up.png'" onclick="this.src='../images/add_down.png'" /></td>
<table class="display" id="example" onclick=editRow(this.id, nRow);>
    <thead>
        <tr>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody></tbody>
</table> 
```

js部分：

```
function restoreRow(oTable, nRow) {
    var aData = oTable.fnGetData(nRow);
    var jqTds = $('>td', nRow);
    for (var i = 0, iLen = jqTds.length; i < iLen; i++) {
        oTable.fnUpdate(aData[i], nRow, i, false);
    }
    oTable.fnDraw();
}

function editRow(oTable, nRow) {
    var aData = oTable.fnGetData(nRow);
    var nummer = tabellenInhaltsDaten.length;

    var acctualRowIndex = nRow.rowIndex - 1;
    aData[0] = "1";
    aData[1] = "2";
    aData[2] = "3";
    aData[3] = "4";
    var jqTds = $('>td', nRow);
    jqTds[0].innerHTML = '<input type="text" maxlength="2"  size="3" value="' + (aData[0]) + '">';
    jqTds[1].innerHTML = '<input type="text" maxlength="2"  size="3" value="' + (aData[1]) + '">  ';
    jqTds[2].innerHTML = '<input type="text" maxlength="2"  size="3" value="' + (aData[2]) + '">';
    jqTds[3].innerHTML = '<input type="text" maxlength="2"  size="3"  value="' + (aData[3]) + '">';
}

function saveRow(oTable, nRow) {
    var jqInputs = $('input', nRow);
    oTable.fnUpdate((jqInputs[0].value), nRow, 0, false);
    oTable.fnUpdate((jqInputs[1].value), nRow, 1, false);
    oTable.fnUpdate((jqInputs[2].value), nRow, 2, false);
    oTable.fnUpdate((jqInputs[3].value), nRow, 3, false);
    oTable.fnUpdate('<a class="delete"><img id= "deleteButton" src="../images/delete_up.png" /></a>', nRow, (5), false);
    var acctualRowIndex = nRow.rowIndex - 1;
    isRowEdit = false;
    isEnterPressed = false;
}

$(document).ready(function() {
    oTable = $('#example').dataTable({
        "bPaginate" : false,
        "bFilter" : false,
        "bInfo" : false,
        "bSortable" : true,
        "bSort" : true
    });

    var nEditing = null;
    $('#addButton').click(function(e) {

        e.preventDefault();
        var aiNew = oTable.fnAddData(['', '', '', '', '', countAddedRows]);
        var nRow = oTable.fnGetNodes(aiNew[0]);
        editRow(oTable, nRow);
        nEditing = nRow;
        saveRow(oTable, nRow);
    });

    $('#example a.delete').live('click', function(e) {
        e.preventDefault();
        var nRow = $(this).parents('tr')[0];
        oTable.fnDeleteRow(nRow);
    });

    $('#example td ').live('click', function(e) {
        shortcut.add("enter", function() {
            saveRow(oTable, nRow);
            nEditing = null;
        });
        e.preventDefault();
        var nRow = $(this).parents('tr')[0];
        if (nEditing !== null && nEditing != nRow) {
                    /*Currently editing - but not this row - restore the old before continuing to edit mode */
                    restoreRow(oTable, nEditing);
                    editRow(oTable, nRow);
                    nEditing = nRow;
                } else if (nEditing == nRow && this.innerHTML == "Save") {
                    /* Editing this row and want to save it */
                    saveRow(oTable, nEditing);
                    nEditing = null;
                } else {
                    /* No edit in progress - let's start one */
                    editRow(oTable, nRow);
                    nEditing = nRow;
                }
    });
}); 
```

# c# - 通过 DataAnnotation 强制使用外键列名不起作用

> ID：12834293
> 
> 赞同：2
> 
> 时间：2012-10-11T07:25:30.800
> 
> 标签：c#, ef-code-first, data-annotations, entity-framework-5

好的，我有两个课程：“计划”和“材料”。一个计划有 0..1 个材料，一个材料可以包含在多个计划中。创建我的数据库时，自动生成的列被命名`Material_MaterialId`，我希望它被命名`MaterialId`

我的“计划”课程：

```
[Column("MaterialId")]
public virtual Material Material { get; set; } 
```

我的“材料”课程：

```
public int MaterialId { get; set; } 
```

但它似乎没有做任何事情。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:34:43.850

你应该使用这个：

计划班

```
public virtual Material Material { get; set; }

public int? MaterialId { get; set; } /* it prompt clr create foreign key MatherialId which referenced to MatherialId class of Matherial */ 
```

数学课

```
public int MaterialId { get; set; } 
```

**更新**

**完整的解决方案**

实体：

```
namespace MvcApplicationTest.Models
{
    public class Material
    {
        public int MaterialId { get; set; }
        public int Name { get; set; }
    }

    public class Plan
    {
        public int PlanId { get; set; }
        public int Name { get; set; }

        //full navigation property
        public virtual Material Material { get; set; }
        public int? MaterialId { get; set; } 
        //

    }

    public class TestContext : DbContext
    {
        public DbSet<Material> Materials { get; set; }
        public DbSet<Plan> Plans { get; set; }
    }
} 
```

global.asax 中的一些初始化：

```
var context = new TestContext();
context.Database.CreateIfNotExists(); 
```

结果应该是这样的：

![在此处输入图像描述](../Images/3bd08b8803566749123da9d4f489eea8.png)

对于你的名字：

```
 [ForeignKey("MaterialFK")]
 public virtual Material MyMaterial { get; set; } //your name
 public int? MaterialFK { get; set; } //your name 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:35:45.310

也许这样的事情可以解决问题：

```
[Column(Name="MaterialId")]
public virtual Material Material { get; set; } 
```

否则，您可以通过`OnModelCreating`使用类似于以下内容的方法覆盖 DbContext 的方法来做到这一点：

```
public class YourContext: DbContext
{
  public DbSet<Plan> Plans { get; set; }
  public DbSet<Material> Materials { get; set; }

  public YourContext()
    : base("YourDb")
  {
  }

  protected override void OnModelCreating(DbModelBuilder modelBuilder)
  {
    modelBuilder.Entity<Plan>().
      HasMany(c => c.Material).
      Map(
       m =>
       {
         m.MapLeftKey("MaterialId");
         m.MapRightKey("PlanId");
         m.ToTable("Plans");
       });
  }
} 
```

# spring - 将 Spring Security 与 Spring Batch 一起使用

> ID：12834295
> 
> 赞同：3
> 
> 时间：2012-10-11T07:25:39.423
> 
> 标签：spring, spring-security, spring-batch

`@PreAuthorize`我有一个使用注释保护的 Spring Service 层。到目前为止，这已通过 Web 应用程序使用。现在我需要启用我们的 SpringBatch 作业以使用这些服务。

在调用这些服务方法之前，让作业授权它们的最直接的方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T17:15:21.253

我有同样的问题，这是我为解决它所做的：

在我的 tasklet 中，我调用了这个方法：

```
securityUtility.authenticateAs("login", "password"); 
```

这是在我的小任务中注入的 SecurityUtility 类中编写的 authenticateAs 方法的定义，实现了 ApplicationContextAware ：

```
/**
 * Authenticate a user
 * @param username
 * @param password
 * @return
 */
public Authentication authenticateAs(String username, String password) {
    ProviderManager providerManager = (ProviderManager)applicationContext.getBean("authenticationManager");
    Authentication authentication = providerManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));
    setAuthentication(authentication);
    return authentication;
} 
```

效果很好，如果您需要更多详细信息，请告诉我；）

# javascript - 如何知道网页中的对象 x 和 y 位置

> ID：12834298
> 
> 赞同：0
> 
> 时间：2012-10-11T07:25:42.280
> 
> 标签：javascript, jquery

> **可能重复：**
> [如何获取元素的顶部位置？](https://stackoverflow.com/questions/1101292/how-to-get-the-top-position-of-an-element)

我只是想知道如何知道网页中对象的正确位置。我试图自己解决这个疑问。但我无法解决。在像 AS3 这样的其他语言中，有 x 和 y 属性可以知道位置。但使用 java 脚本或 j 查询，我不知道该怎么做。

这是开始的一点代码：我想知道容器对象的 x 和 y 位置。

```
$(function(){
  var myObject = $('#container');
  var objectXpos;
  var objectYpos;
}); 
```

谢谢，纳雷什库马尔。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:28:14.913

您可以采用两种方法，使用`offset()`或`position()`：

```
$(function(){
  var myObject = $('#container'),
      posX = myObject.offset().left,
      posY = myObject.offset().top;
}); 
```

或者：

```
$(function(){
  var myObject = $('#container'),
      posX = myObject.position().left,
      posY = myObject.position().top;
}); 
```

区别只是`offset()`返回元素的左上角相对于*page*的坐标，而`position()`返回相对于其偏移父元素的坐标。

参考：

*   [`offset()`](http://api.jquery.com/offset/).
*   [`position()`](http://api.jquery.com/position/).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:27:50.220

由于您使用的是 jQuery，因此您可以使用：

```
$(function(){
  var myObject = $('#container'),
      offset = myObject.offset(); //then you can access offset.top and offset.left
}); 
```

# opengl - 在 DirectX 中使用 GLUTesselator 可以吗？

> ID：12834301
> 
> 赞同：3
> 
> 时间：2012-10-11T07:25:49.490
> 
> 标签：opengl, directx, triangulation, glu, tesselation

*[相关](https://stackoverflow.com/questions/3411328/apis-similar-to-glutesselator)问题：[1、2](https://stackoverflow.com/questions/3231128/alternative-to-glutesselator)*

在我的 OpenGL 项目中，我使用 GLUTesselator 将凹多边形（来自外部源）拆分为三角形，然后通过 VBO 将其馈送到 OpenGL。现在我正在估计添加 DirectX 后端。

我可以使用 3-rd 方三角仪，但要找到合适的三角仪并不容易。有[Poly2Tri](http://code.google.com/p/poly2tri/)，但它只适用于*简单的*多边形，没有重复，没有接触等等。否则它只会挂起。由于我的多边形来自外部来源，因此不太容易符合。GLUTesselator 在这里完美运行；来自 GLU 文档：*输入轮廓可以是相交的、自相交的或退化的。此外，还支持具有多个重合顶点的多边形。*

我认为可以使用模板缓冲区（参见[4](http://glprogramming.com/red/chapter14.html#name13)）绘制没有孔的多边形，但这没有提供缓存的可能性。

如我所见，建议将 GLUTesselator 与 DirectX 一起使用（参见 5、11[年前](http://graphicsbb.itgo.com/solutions/extrude.html)）。GLUTesselator 真的是纯软件库吗？可以将它与 DirectX 一起使用，还是有更好的可能性？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:57:57.640

GLU Tesselator 是一个仅限几何/数学的库。您可以在不初始化 OpenGL 的情况下使用它，因此它可以与 DirectX 一起正常工作。

# android - 如何在 30 秒内未从 Web 服务获取响应时打开警报？

> ID：12834305
> 
> 赞同：0
> 
> 时间：2012-10-11T07:26:00.080
> 
> 标签：android, web-services

```
public class NewsScreenActivity extends Activity{

    ListView list;
    //AdView adView;
    ProgressDialog progressDialog;
    ImageView refresh_btn;
    WebView newwebview;
    public static NewsScreenActivity activity;
    public static String  ac;
    NewsScreenAdapter adapter;
    String tag = "NewsScreenActivity"; 
    int seconds=10;
    public static NewsScreenActivity na;
    AlertDialog connection1;
    int t;

    public class MainData {
      public String catId, nextCatId, prevCatId, catDisplay;
      public ArrayList<StoryData> storyArr = new ArrayList<StoryData>();
    }

  public class StoryData {
       public String storyid, date, title, description,advertising,contenthtml;
       public  ArrayList<ImagesData> imageArr = new ArrayList<ImagesData>();
       public AdvertiseData adData;
    }

  public class ImagesData {

        public String caption, bigurl, smallurl, mimetype;
        public int height, width;
    }

  public class AdvertiseData{
      public String title,desc,targeturl,imageurl;
  }

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.newsscreen);

        list = (ListView)findViewById(R.id.first_listview);        
        refresh_btn=(ImageView)findViewById(R.id.refresh_btn);
        activity = this;
        na=this;
        final String url = "http://maritimeglobalnews.com/json";

        new AllDataAsyn().execute(url);

        refresh_btn.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub

                    new AllDataAsyn().execute(url);  
                     //adapter.IL.clearCache();
                    // adapter.notifyDataSetChanged();
            }
        }) ;

         list.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int position,long arg3) {
                // TODO Auto-generated method stub
                int storyLenght = ((NewsScreenActivity.MainData)NewsScreenActivity.TotalDataArray.get(position)).storyArr.size();

                ac=((NewsScreenActivity.MainData)NewsScreenActivity.TotalDataArray.get(position)).storyArr.get(position).storyid;
            }            
        });       
    }

    public class AllDataAsyn extends AsyncTask<String, Void, Void> {

        @Override
        protected Void doInBackground(String... params) {
            // TODO Auto-generated method stub

            if (!isNetworkConnected()) {

                runOnUiThread(new Runnable() {
                    public void run() {
                        // Your Alert Code

                        AlertDialog connection = new AlertDialog.Builder(
                                NewsScreenActivity.this)
                                .setTitle("No Network Found")
                                .setMessage(
                                        "Internet Connection Reqired To Use this Application")
                                .setPositiveButton("Ok",
                                        new DialogInterface.OnClickListener() {

                                            public void onClick(
                                                    DialogInterface dialog,
                                                    int whichButton) {

                                                progressDialog.dismiss();
                                            }
                                        }).create();
                        connection.show();
                    }
                });

            } else {

                Log.e("arraylist", "" + arrayList_advertising);
                arrayList_advertising.clear();
                getData(params[0].toString());

            }
            return null;
        }

        @Override
        protected void onPostExecute(Void result){
            // TODO Auto-generated method stub
            super.onPostExecute(result);               

              if(arrayList_title.size()>0)
             {

                  if (isNetworkConnected() == true) {

                progressDialog.dismiss();               
                adapter = new NewsScreenAdapter(NewsScreenActivity.this);
                list.setAdapter(adapter);                  
                }                  
              } else{

                  runDialog(30);
              }
        }  
        @Override
        protected void onPreExecute() {
            // TODO Auto-generated method stub
            super.onPreExecute();

                progressDialog = new ProgressDialog(NewsScreenActivity.this);
                progressDialog.setMessage("Loading ...");
                progressDialog.setCancelable(false);
                progressDialog.show();  
        }
        public boolean isNetworkConnected(){

            ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
            NetworkInfo ni = cm.getActiveNetworkInfo();

            if(ni == null){              
                return false;
            } else              
                return true;
            }
        }

    public void getData(String url){

        try
        {
                   //String url = params[0].toString();
                    HttpParams httpParameters = new BasicHttpParams();
                // Set the timeout in milliseconds until a connection is established.
                // The default value is zero, that means the timeout is not used.
                    int timeoutConnection = 10000;
                    HttpConnectionParams.setConnectionTimeout(httpParameters, timeoutConnection);
                    //HttpPost request = new HttpPost("http://maritimeglobalnews.com/json");
                    HttpPost request = new HttpPost(url);

                    // Send request to WCF service
                    DefaultHttpClient httpClient = new DefaultHttpClient();

                    HttpResponse res = httpClient.execute(request);
                 //   Log.i("Request", request.toString());
                    TotalDataArray.clear();
                    String JsonResponseData = EntityUtils.toString(res.getEntity());

                    JSONArray mainDataArr = new JSONArray(JsonResponseData);

                    for (int k = 0; k < mainDataArr.length(); k++) {

                        MainData mainData = new MainData();
                        // Limit
                        HttpConnectionParams.setConnectionTimeout(httpParameters, timeoutConnection);

                        try {
                            JSONObject mainJsonObj = mainDataArr.getJSONObject(k);

                        //    Log.i("CategoryEID", mainJsonObj.getString("CategoryEID"));
                            mainData.catId = mainJsonObj.getString("CategoryEID");
                            category_id=mainJsonObj.getString("CategoryEID");
                            arrayList_category_id.add(category_id);

                      //      Log.i(tag,"NextCategoryEID "+ mainJsonObj.getString("NextCategoryEID") + " ");                  
                            mainData.nextCatId = mainJsonObj.getString("NextCategoryEID");

                      //      Log.i(tag, "PrevCategoryEID"+mainJsonObj.getString("PrevCategoryEID") + " ");
                            mainData.prevCatId = mainJsonObj.getString("PrevCategoryEID");

                     //       Log.i("CategoryDisplay", mainJsonObj.getString("CategoryDisplay"));
                            mainData.catDisplay = mainJsonObj.getString("CategoryDisplay");

                            header=mainJsonObj.getString("CategoryDisplay");
                   //         Log.e("temp",""+header);

                            arrayList_header.add(header);

                            JSONArray storyJsonArr = mainJsonObj.getJSONArray("storiesShort");
                            ArrayList<StoryData> tempStoryArr = new ArrayList<StoryData>();
               //             Log.i("storiesShort Array Lenght", storyJsonArr.length()+ "");

                            for (int i = 0; i < storyJsonArr.length(); i++) {

                                StoryData tmpObjStr = new StoryData();
                                JSONObject storyJsonObj = storyJsonArr.getJSONObject(i);

                 //               Log.i("", "Story Number : " + i);
                 //               Log.i("StoryEID", storyJsonObj.getString("StoryEID"));                      
                                tmpObjStr.storyid = storyJsonObj.getString("StoryEID");
                                story_id=storyJsonObj.getString("StoryEID");
                                arrayList_story_id.add(story_id);

                  //              Log.i("Date", storyJsonObj.getString("Date"));
                                tmpObjStr.date = storyJsonObj.getString("Date");
                                date_time=storyJsonObj.getString("Date");
                                arrayList_date_time.add(date_time);

                                Date parsed = new Date(Long.parseLong(date_time.substring(6,date_time.length() - 2)));

                   //             Log.e("date parsed", ""+parsed);                               
                                arrayList_convert_date.add(parsed.toString());

                  //              Log.i("Title", storyJsonObj.getString("Title"));
                                tmpObjStr.title = storyJsonObj.getString("Title");
                                title=storyJsonObj.getString("Title");
                                arrayList_title.add(title);

                   //             Log.i("Description", storyJsonObj.getString("Description"));
                                tmpObjStr.description = storyJsonObj.getString("Description");
                                des=storyJsonObj.getString("Description");
                                arrayList_des.add(des);

               //                 Log.i("advertising", storyJsonObj.getString("advertising"));
                                tmpObjStr.advertising = storyJsonObj.getString("advertising");
                                try{
                                advertising=storyJsonObj.getString("advertising");
                                if(advertising.equalsIgnoreCase("null"))
                                        arrayList_advertising.add(advertising);
                                else
                                {
                                    JSONObject tmpAd = storyJsonObj.optJSONObject("advertising");
                                    AdvertiseData adData = new AdvertiseData();
                                    adData.title = tmpAd.getString("Title");
                                    adData.desc = tmpAd.getString("Description");
                                    adData.targeturl = tmpAd.getString("TargetUrl");
                                    adData.imageurl = tmpAd.getString("ImageUrl");                                      
                                    tmpObjStr.adData = adData;                                  
                                }                                
                           }catch(Exception e){
                            // TODO: handle exception
                        }
                                JSONArray imagesURLJsonArr = storyJsonObj.getJSONArray("images");                            

                                ArrayList<ImagesData> tempimagarr = new ArrayList<ImagesData>();

                                for (int j = 0; j < imagesURLJsonArr.length(); j++) {

                                    ImagesData tmpimgdata = new ImagesData();
                                    JSONObject imageObject = imagesURLJsonArr.getJSONObject(j);

                 //                   Log.i("Caption", imageObject.getString("Caption"));
                                    tmpimgdata.caption = imageObject.getString("Caption");

                 //                   Log.i("iPhoneSmallImageURL", imageObject .getString("iPhoneSmallImageURL"));
                                    tmpimgdata.smallurl = imageObject.getString("iPhoneSmallImageURL");
                                    image=imageObject.getString("iPhoneSmallImageURL");
                                    arrayList_image.add(image);

                   //                 Log.i("iPhoneBigImageURL", imageObject .getString("iPhoneBigImageURL"));
                                    tmpimgdata.bigurl = imageObject.getString("iPhoneBigImageURL");
                                    big_image=imageObject.getString("iPhoneBigImageURL");
                                    arrayList_big_image.add(big_image);

                //                    Log.i("Height", imageObject.getInt("Height") + "");
                                    tmpimgdata.height = imageObject.getInt("Height");

              //                      Log.i("Width", imageObject.getInt("Width") + "");
                                    tmpimgdata.width = imageObject.getInt("Width");

               //                     Log.i("MimeType", imageObject.getString("MimeType"));
                                    tmpimgdata.mimetype = imageObject.getString("MimeType");
                                    tempimagarr.add(tmpimgdata);
                                }
                                tmpObjStr.imageArr = tempimagarr;
                                tempStoryArr.add(tmpObjStr);
                            }

                            Log.i("CategoryDisplay", mainJsonObj.getString("CategoryDisplay"));
                            mainData.catDisplay = mainJsonObj.getString("CategoryDisplay");
                            mainData.storyArr = tempStoryArr;
                            TotalDataArray.add(mainData);

                } catch (Exception e) {
                    e.printStackTrace();
                    Log.i("=================== Connection TimeOut11111111", "======");

                }
            }
        }
        catch (ConnectTimeoutException e)
        {
            e.printStackTrace();
            runOnUiThread(new Runnable()
            {
              public void run()
              {
                        // Your Alert Code
                     progressDialog.dismiss();
                        AlertDialog connection = new AlertDialog.Builder(
                                NewsScreenActivity.this)
                                .setTitle("No Network Found")
                                .setMessage(
                                        "Internet Connection Reqired To Use this Application,please try again latter")
                                .setPositiveButton("Ok",
                                        new DialogInterface.OnClickListener() {

                                            public void onClick(DialogInterface dialog,
                                                    int whichButton) {

                                            }
                                        }).create();

                        connection.show();

              }
            });
            Log.i("=================== Connection TimeOut222222", "======");
         }
        catch (SocketTimeoutException e){
               e.printStackTrace();
               runOnUiThread(new Runnable()
               {
                 public void run()
                 {
                           // Your Alert Code
                        progressDialog.dismiss();
                           AlertDialog connection = new AlertDialog.Builder(
                                   NewsScreenActivity.this)
                                   .setTitle("No Network Found")
                                   .setMessage(
                                           "Internet Connection Reqired To Use this Application,please try again latter")
                                   .setPositiveButton("Ok",
                                           new DialogInterface.OnClickListener() {

                                               public void onClick(DialogInterface dialog,
                                                       int whichButton) {

                                           //        progressDialog.dismiss();
                                               }
                                           }).create();

                           connection.show();

                 }
               });
               Log.i("=================== Connection TimeOut33333333333", "======");
           }
         catch (UnknownHostException e) {
               e.printStackTrace();
               runOnUiThread(new Runnable()
                   {
                     public void run()
                     {
                               // Your Alert Code
                            progressDialog.dismiss();
                               AlertDialog connection = new AlertDialog.Builder(
                                       NewsScreenActivity.this)
                                       .setTitle("No Network Found")
                                       .setMessage(
                                               "Internet Connection Reqired To Use this Application,please try again latter")
                                       .setPositiveButton("Ok",
                                               new DialogInterface.OnClickListener() {

                                                   public void onClick(DialogInterface dialog,
                                                           int whichButton) {

                                               //        progressDialog.dismiss();
                                                   }
                                               }).create();

                               connection.show();

                     }
                   });

               Log.i("=================== UnknownHostException", "======");

         }catch (Exception e){                

            e.printStackTrace();          
            runOnUiThread(new Runnable()
                   {
                     public void run()
                     {
                    // Your Alert Code
                    progressDialog.dismiss();
                    AlertDialog connection = new AlertDialog.Builder(
                            NewsScreenActivity.this)
                            .setTitle("No Network Found")
                            .setMessage(
                                    "Internet Connection Reqired To Use this Application,please try again latter")
                            .setPositiveButton("Ok",
                                    new DialogInterface.OnClickListener() {

                                        public void onClick(
                                                DialogInterface dialog,
                                                int whichButton) {

                                        }
                                    }).create();

                    connection.show();

                }
            });

            Log.i("=================== Connection TimeOut4444444444", "======");
        }
    }

    private void runDialog(final int seconds){

            new Thread(new Runnable(){
                public void run(){
                    try {
                            Thread.sleep(seconds * 1000);
                            progressDialog.dismiss();
                           connection1 = new AlertDialog.Builder(
                                    NewsScreenActivity.this)
                                    .setTitle("neel alert")
                                    .setMessage(
                                            "Internet Connection Reqired To Use this Application,please try again latter")
                                    .setPositiveButton("Ok",
                                            new DialogInterface.OnClickListener() {

                                                public void onClick(DialogInterface dialog,
                                                        int whichButton) {

                                                }
                                            }).create();

                        //    connection1.show();               
                         }catch (InterruptedException e) {

                        e.printStackTrace();
                    }
                }
            }).start();
    } 
```

如果没有从 Web 服务获得响应，我想打开警报。我已经完成了这个功能，但它对我不起作用。当我启动应用程序时，显示的进度对话框，当时我断开了互联网。该对话框不会在 30 秒内关闭。如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T10:34:38.127

如果您设置了 Timeout，那么如果 web 服务调用未在您预定义的时间间隔（例如，30 秒）内执行，它肯定会引发 TimeoutException。

所以尝试在`catch`块内显示对话框。

# java - 如何从 JUnit 内部使用 Voldemort 服务器？

> ID：12834306
> 
> 赞同：4
> 
> 时间：2012-10-11T07:26:04.870
> 
> 标签：java, maven, junit, voldemort

我正在尝试在 Maven 项目中从 JUnit 内部使用 Voldemort。当以下代码编译时，它没有成功执行：

```
@Before
public void setUp() throws Exception
{
    // Start Voldemort
    VoldemortConfig config = VoldemortConfig.loadFromEnvironmentVariable();
    VoldemortServer server = new VoldemortServer(config);
    server.start();
} 
```

相反，会引发此异常：

```
java.lang.UnsatisfiedLinkError: voldemort.utils.JNAUtils.mlockall(I)I
    at voldemort.utils.JNAUtils.mlockall(Native Method)
    at voldemort.utils.JNAUtils.tryMlockall(JNAUtils.java:51)
    at voldemort.server.VoldemortServer.startInner(VoldemortServer.java:251)
    at voldemort.server.AbstractService.start(AbstractService.java:62)
    at a.b.c.FunctionalTest.setUp(FunctionalTest.java:34)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)
    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
    at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:35)
    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:115)
    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:97)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.maven.surefire.booter.ProviderFactory$ClassLoaderProxy.invoke(ProviderFactory.java:103)
    at $Proxy0.invoke(Unknown Source)
    at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:150)
    at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcess(SurefireStarter.java:91)
    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:69) 
```

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:58:14.723

请注意堆栈跟踪中的这一行

> 在 voldemort.utils.JNAUtils.mlockall（本机方法）

这表明无论调用什么代码，都通过`JNI`. `UnsatisfiedLinkedError`在加载请求加载此的类时，JVM 无法加载本机库时遇到。

为确保您的代码可以加载 ddl / so 文件，请使用以下 java 系统属性，

> -Djava.library.path=/path/to/directory/包含/native/libraries

或者，您可以将相同的目录添加到`PATH`Windows 上的环境变量或`LD_LIBRARY_PATH`Linux 上的变量中。

查看[http://maven.apache.org/plugins/maven-surefire-plugin/examples/system-properties.html](http://maven.apache.org/plugins/maven-surefire-plugin/examples/system-properties.html)此页面描述了如何将系统属性传递给`maven-surefire-plugin`负责在 Maven 中运行测试的系统属性。

# php - 我的命令行代码不使用 cURL 运行

> ID：12834311
> 
> 赞同：2
> 
> 时间：2012-10-11T07:26:21.143
> 
> 标签：php, codeigniter, command-line, cmd, shell-exec

我的问题是我无法在命令行中在 PHP 中运行 cURL。我的代码是这样的：

```
public function updateSolrProfilData($arrData)
{
  $solrClientOptionsCommit = $this->solrClientOptionsYazProfilCommit;

  $urlCommit = "http://" . $solrClientOptionsCommit['hostname'] . ":" . $solrClientOptionsCommit['port'] . "/" . $solrClientOptionsCommit['path'] . "/update?stream.body=%3Ccommit/%3E -H \"Content-Type: text/xml\" --data-binary '<add><doc>";

  foreach ($arrData as $firmaField => $firmaValue)
  {
    if ( ! is_array($firmaValue))
    {
      $urlCommit = $urlCommit . '<field name="' . $firmaField . '">' . $firmaValue . '</field>';
    }
    else
    {
      foreach ($firmaValue as $firmaField2 => $firmaValue2)
      {
        if ('' != $firmaValue2)
        {
          $urlCommit = $urlCommit . '<field name="' . $firmaField . '">' . $firmaValue2 . "</field>";
        }
      }
    }
  }

  $urlCommit .= "</doc></add>'";

  $urlCommit = htmlspecialchars($urlCommit);

  $ch = curl_init();
  curl_setopt($ch, CURLOPT_POST, false);
  curl_setopt($ch, CURLOPT_HEADER, false);
  curl_setopt($ch, CURLOPT_URL, $urlCommit);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_TIMEOUT, 20);
  $data = curl_exec($ch);
  curl_close($ch);
} 
```

当我在命令行上运行它时，它可以工作，但是在使用 cURL 或 PHP shell_exec 函数时它不起作用。那有什么问题？

# android - android中的DatabaseObjectNotClosedException？

> ID：12834319
> 
> 赞同：1
> 
> 时间：2012-10-11T07:26:50.750
> 
> 标签：android

当我执行我的应用程序时，我在我的应用程序中使用数据库我显示以下错误

> android.database.sqlite.DatabaseObjectNotClosedException：应用程序没有关闭此处打开的游标或数据库对象

请帮助我如何解决这个错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:02:36.657

您可以通过将数据库设置为单例来完全避免打开/关闭数据库，这是 Android 中推荐的方法。

当您想跨多个线程访问数据库时，问题只会变得更糟。

查看此问题以获取有关如何保持单个打开数据库[Android SQLite DB 何时关闭的示例](https://stackoverflow.com/questions/4557154/android-sqlite-db-when-to-close)

虽然这解决了问题，但您仍然需要确保在完成后关闭游标，除非您使用 Loader API 为您处理此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:31:19.380

使用后您没有关闭数据库。因此，您必须使用以下语句关闭数据库。

```
db.close(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:31:51.277

进行事务处理后，您应该始终关闭游标和 Db ..
并记住在出现异常时也要关闭它..

您必须在扩展 SQLite Helper 类的类中实现这样的功能：

```
@Override
    public synchronized void close() {
        if(db != null){
            db.close();
        super.close();
        }   
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T07:36:28.843

在你的主类中调用这个方法

```
db.close(); 
```

将此方法添加到您的助手类

```
@Override
    public synchronized void close() {
        if(db != null){
            db.close();
        super.close();
        }   
    } 
```

有关[Andorid Sqlite 数据库的更多信息](http://www.vogella.com/articles/AndroidSQLite/article.html)

# css - 为什么在 Firefox 中首次加载时我的图像高度设置错误？

> ID：12834325
> 
> 赞同：0
> 
> 时间：2012-10-11T07:27:16.167
> 
> 标签：css, image

我正在使用

来自萤火虫

```
element {
position: absolute;
top: 0px;
left: 0px;
display: block;
z-index: 5;
opacity: 1;
width: 300px;
height: 18px;
 } 
```

从谷歌控制台：

```
 element.style {
 position: absolute;
 top: 0px;
 left: 0px;
 display: none;
 z-index: 4;
 opacity: 0;
 width: 300px;
 height: 260px;
 } 
```

这是问题的屏幕截图：

![](../Images/8ee6c07ec383409b3ad1d395f7b89ed8.png)

这是我由 Rails 助手生成的代码：

```
 <img alt="Home_page_4" height="260" src="http://127.0.0.1:3000/assets/home_page_4.jpeg" width="300" style="position: absolute; top: 0px; left: 0px; display: none; z-index: 4; opacity: 0; width: 300px; height: 260px; "> 
```

有人可以告诉我我做错了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:59:49.283

请始终指定尺寸，而`"260"`不是`"300"`使用`"260px"`and `"300px"`。并且`0`必须在没有`px`维度的情况下指定值。另外，请`<img/>`像这样关闭标签：

```
<img alt="Home_page_4" height="260px" src="http://127.0.0.1:3000/assets/home_page_4.jpeg" width="300px" style="position: absolute; top: 0; left: 0; display: none; z-index: 4; opacity: 0; width: 300px; height: 260px; " /> 
```

实际上，您不必使用`width`和`height`属性，它们已被弃用。所以这个标记应该可以正常工作：

```
<img alt="Home_page_4" src="http://127.0.0.1:3000/assets/home_page_4.jpeg" style="position: absolute; top: 0; left: 0; display: none; z-index: 4; opacity: 0; width: 300px; height: 260px; " /> 
```

# c# - 发布窗体应用程序后无法访问文本文件

> ID：12834327
> 
> 赞同：1
> 
> 时间：2012-10-11T07:27:23.210
> 
> 标签：c#, visual-studio-2010

我用 C# 制作了一个应用程序，它读取位于我的硬盘上的文本文件，但是我如何发布应用程序并将这些文本文件包含在最终的 exe 中，所以当应用程序安装在另一台计算机上时，它可以工作并且不会失败，因为它找不到文本文件？我正在使用 Visual Studio2010

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:44:23.440

将您想要的文件添加到您的解决方案中，然后将它们的 Build Action 属性设置为 Embedded Resource。这会将文件嵌入到您的 exe 中。(msdn)

**或者**

右键单击项目文件，选择属性。

在打开的窗口中，转到“资源”选项卡，如果选项卡页面中间只有一个蓝色链接，请单击它以创建新资源。

然后从标签页上方的工具栏中，选择添加一个新的文本文件，给它一个名字，它将被添加到你的项目中并打开。

如果您做到了这一点，那么您可以在代码中输入 Resources.TheNameYouGaveTheTextFileHere 并访问其内容。请注意，第一次在类中使用 Resources 类时，需要添加 using 指令（在键入 Resources 后按 Ctrl+. 以获取菜单以让 VS 为您执行此操作）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-11T07:39:51.697

检查[分步](http://balanagaraj.wordpress.com/2007/05/29/create-exe-or-setup-file-in-net-windows-application/)过程是否相同。

在询问堆栈上的任何问题之前请谷歌

# java - HTMLDocument 迭代器跳过标签

> ID：12834331
> 
> 赞同：1
> 
> 时间：2012-10-11T07:27:31.300
> 
> 标签：java, iterator, dom

我正在使用 HTMLDocument 迭代器来尝试迭代 HTMLDocument 中的所有 a 标签。但是，迭代器似乎跳过了嵌套在 p 标签内的标签。例如：

```
<html>
  <body>
    <a href = "somesite"> some site </a>
        <p>
            <a href = "someothersite"> some other site </a>
        </p>
  </body>
</html> 
```

迭代器将获得第一个 a 标签（somesite），但它不会转到 p 标签内的 a 标签（someothersite）。

这是代码：

```
private void getLinks() throws MalformedURLException {
    HTMLDocument.Iterator it = content.getIterator(HTML.Tag.A);           
    it.next();
        while(it.isValid()) {
            // Do something
            it.next();
        }
} 
```

有人可以建议为什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:52:13.630

也许`isValid()`检查会打破你的循环。尝试迭代器是否在没有该检查的情况下命中第二个锚标记。

# android - android谷歌地图api密钥获取？

> ID：12834333
> 
> 赞同：1
> 
> 时间：2012-10-11T07:27:32.827
> 
> 标签：android

我有一个项目的 google map apikey 现在我想要另一个项目的 apikey 并且这个项目的密钥库在不同的地方。我的第一个命令：

```
"C:\Program Files\Java\jdk1.7.0_04\bin\keytool.exe" -v -list -alias androiddebugkey -keystore "C:\Users\salih\.android\debug.keystore" -storepass android -keypass android 
```

它正在工作，但是对于我的新项目，我使用了这个命令并且我出错了。

```
"C:\Program Files\Java\jdk1.7.0_04\bin\keytool.exe" -v -list -alias androiddebugkey -keystore "C:\Users\salih\workspace\kimlimkey.keystore" -storepass android -keypass android 
```

错误;

```
keytool error: java.io.IOException: Keystore was tampered with, or password was
incorrect
java.io.IOException: Keystore was tampered with, or password was incorrect
        at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:772)
        at sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:5
5)
        at java.security.KeyStore.load(KeyStore.java:1214)
        at sun.security.tools.KeyTool.doCommands(KeyTool.java:789)
        at sun.security.tools.KeyTool.run(KeyTool.java:340)
        at sun.security.tools.KeyTool.main(KeyTool.java:333)
Caused by: java.security.UnrecoverableKeyException: Password verification failed

        at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:770)
        ... 5 more 
```

我做违法的事？还是我错了？有没有其他方法可以获得另一个md5指纹？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:39:59.117

可能您更改了密码..默认密码将是**android**。

**如何更改密码**，所以我可以在下面分享

使用密钥工具：

```
keytool -storepasswd -keystore /path/to/keystore
Enter keystore password:  changeit
New keystore password:  new-password // put new-password -- android
Re-enter new keystore password:  new-password // put new-password -- android 
```

然后试试这个..

```
C:\Program Files\Java\jdk1.7.0_04\bin>keytool.exe -V -list -alias androiddebugkey -keystore "C:\Documents and Settings\IBM\.android\debug.keystore" -storepass android -keypass android 
```

考虑第一个路径中的 jdk-bin 路径和第二个路径中的主用户目录。对于 Windows 7，它就像“C:\Users\username.android\debug.keystore”

使用上述命令，您将获得所有密钥。

确定这会工作..

# php - PHP一次流式传输多个视频

> ID：12834335
> 
> 赞同：1
> 
> 时间：2012-10-11T07:27:38.020
> 
> 标签：php

我想建立一个小的流媒体服务，与 YouTube 完全不同（用户无法自行上传视频），我计算一次并发流不超过 100-200 个。这些视频很短，大约 3-10 分钟的高清质量，不应该超过 200mb。我的问题是，如果这可以通过 PHP 实现，并且需要什么样的硬件，我想硬盘的读写速度可能太慢，无法同时流式传输 200 个不同的视频……有什么建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:35:10.170

我认为 PHP 不是网络视频流的最佳选择。

如果您只需要没有任何自定义额外功能的视频流服务，为什么不直接使用任何现有的解决方案？例如，您可以使用[erlyvideo](http://erlyvideo.org/) - 它是在 Erlang 上编写的，但它易于安装和维护，并且在硬件上进行了非常优化（因此，您不需要像怪物一样的视频服务器）。

我相信，2-4 Gb RAM 就足够了。如果您只需要流式传输（无需编码），您也不需要非常强大的 CPU。

# android - Phonegap - Android FileSystem 请求错误：LocalFileSystem 未定义

> ID：12834336
> 
> 赞同：2
> 
> 时间：2012-10-11T07:27:39.567
> 
> 标签：android, cordova

我将 phonegap 用于我想从文件中获取信息的项目。它在 iOS 设备上运行良好，但无法在 Android 上运行，我不知道原因。这是我的代码：

```
 $(document).ready(function () { 

    try {             
        alert('start');
        window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, fail);
      } catch (e) {
        alert(e);
      }
}); 
```

这总是失败，并且 catch 打印以下错误：

> ReferenceError: LocalFileSystem 未定义

我正在使用phonegap 2.0.0。我在 config.xml 和 AndroidManifest.xml 中也有必填字段

编辑

```
MainActivity.java:
package com.example.scoreboard;

import android.os.Bundle;
import android.view.Menu;
import org.apache.cordova.*;
import android.view.WindowManager;
import android.view.KeyEvent; 

public class MainActivity extends DroidGap {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // setContentView(R.layout.activity_main);
        super.init();
        super.setIntegerProperty("loadUrlTimeoutValue",60000);
    /*    super.appView.setVerticalScrollBarEnabled(false);
        super.appView.setHorizontalScrollBarEnabled(false); */
        super.loadUrl("file:///android_asset/www/index.html");
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

AndroidManifest.xml：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.scoreboard"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="15" />

    <supports-screens 
        android:largeScreens="true" 
        android:normalScreens="true" 
        android:smallScreens="true" 
        android:resizeable="true" 
        android:anyDensity="true" />

    <uses-permission android:name="android.permission.VIBRATE" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.RECEIVE_SMS" />
    <uses-permission android:name="android.permission.RECORD_AUDIO" />
    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
    <uses-permission android:name="android.permission.READ_CONTACTS" />
    <uses-permission android:name="android.permission.WRITE_CONTACTS" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.BROADCAST_STICKY" />
    <uses-permission android:name="android.permission." />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main" 
            android:configChanges="orientation|keyboardHidden|keyboard|screenSize|locale" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

# .net - 使用 ASP.NET Web API 进行 OAuth Facebook 身份验证

> ID：12834340
> 
> 赞同：8
> 
> 时间：2012-10-11T07:27:56.633
> 
> 标签：.net, asp.net-web-api, oauth-2.0, facebook-authentication

所以我想这个问题有两个方面

1.  当授予 Facebook OAuth 权限到我的用户域实体（Facebook 用户 ID？或令牌？或两者或其他）时，我应该存储什么

2.  我通常可以使用 DelegatingHandler 来保护 ASP.NET Web API 以读取访问令牌吗？

目前我的核心架构如下：

*   MyApp.Domain : 我在类库项目中的域模型
*   MyApp.DataAccess：我的存储库和实体框架上下文
*   MyApp.WebAPI : 用于 RESTful 服务的 ASP.NET Web API 项目

我的客户是

*   MyApp.Website：ASP.NET MVC 4 网站
*   MyApp.iPhoneApp - 适用于 iPhone 的原生 iOS 应用程序
*   MyApp.AndroidApp - 原生 Android 应用

# c++ - 是否可以在 INPUT 数据包到达 libnetfilter_queue 中的应用程序之前对其进行更改

> ID：12834342
> 
> 赞同：1
> 
> 时间：2012-10-11T07:28:01.283
> 
> 标签：c++, linux, network-programming, linux-kernel, netfilter

我想对包含特定字符串的数据包进行一些更改。我使用 iptables 匹配字符串对数据包进行排队。我试过了，但是数据包一直在循环并且没有到达应用程序，它只在旧字符串和新字符串完全相同时才有效：

```
static int callBack(struct nfq_q_handle *qh, struct nfgenmsg *nfmsg,struct nfq_data *nfa, void *data)
{
int len=0,id=0;
char *pktData;
string pktString;
struct nfqnl_msg_packet_hdr *pktHeader;
pktHeader = nfq_get_msg_packet_hdr(nfa);
if (pktHeader) 
{
    id = ntohl(pktHeader->packet_id);
}
len = nfq_get_payload(nfa, &pktData);
if(len) 
{
    int pos;
    pktString.assign(pktData,len);
    pos=pktString.find("oldstring",0);
    if(pos>0)
    {
        pktString.replace(pos,9,"newstring");
        unsigned char* newPktData=(unsigned char*)pktString.c_str();
        len=pktString.size();
        return nfq_set_verdict(qh, id, NF_ACCEPT,len,newPktData);
    }
}   
return nfq_set_verdict(qh, id, NF_ACCEPT, 0, NULL);
} 
```

使用的 iptable 规则是：

```
 iptables -A INPUT -p tcp -j QUEUE ! -f -m string --to 350 --string "testing" --algo bm 
```

# java - 显示文件和目录并在 Java 中移动它们

> ID：12834348
> 
> 赞同：0
> 
> 时间：2012-10-11T07:28:36.053
> 
> 标签：java, file, user-interface, filesystems, directory

我想创建一个应用程序，将本地文件系统目录中的选定文件移动到另一个“预选位置”并返回到它来自的目录。我希望它是可视的，例如我有一个 JFrame。在这个 JFrame 里面有 2 个“windows”，一个是来自 /home 或任何地方的当前本地文件系统，它有文件夹，当你点击它们时会显示它们的子文件夹和可以点击的文件等（就像你打开时一样Windows 中的资源管理器或 Mac 中的 finder）。右侧的另一个窗口是一个已预先选择的空目录，其中没有显示任何文件。

在这些窗口之间是两个按钮。一个有一个'->'箭头。其他“<-”这些按钮将从窗口 1 中获取“选定”目录或文件并将其移动到窗口 2（在可视化过程之后，实际文件和/或目录（包括所有子目录）被移动到该位置）。<- 按钮将它们放回原处。

一个足够简单的 gui，但我不确定如何开始编码，或者在显示所有文件并选择它们方面最好的方法。

有任何想法吗？

欧登

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:43:30.647

对于文件移动，请考虑在类中使用`renameTo`方法。`File`你的代码应该是这样的，

```
File file = new File(presentLocation);
 String newLocation = " NEW_LOCATION "; // your new location
 boolean isFileMoved = file.renameTo(new File(newLocation+file.getName())); //tells you whether file is moved or not.

if (isFileMoved) {
  System.out.println("File is successfully moved to "+newLocation);
} else {
   System.out.println("File is not moved to "+newLocation);
} 
```

将其用于将文件旧位置移动到新位置的文件，反之亦然。使用 UI 在您的后端实现这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:39:09.353

这是我用于递归删除的深度遍历目录的代码。您可以使用它来“显示”和导航。

```
public static boolean deleteDir(File dir) {
    if (dir.isDirectory()) {
        String[] children = dir.list();
        for (int i=0; i<children.length; i++) {
            boolean success = deleteDir(new File(dir, children[i]));
            if (!success) {
                return false;
            }
        }
    }
    return dir.delete();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T10:41:08.140

我会看看

*   [J树](http://docs.oracle.com/javase/tutorial/uiswing/components/tree.html)
*   [表](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)
*   [列表](http://docs.oracle.com/javase/tutorial/uiswing/components/list.html)
*   [Swing 中的并发性](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)
*   [基本 I/O](http://docs.oracle.com/javase/tutorial/essential/io/)（虽然它侧重于 Java 7 API 中的新特性，但它仍然是一个很好的参考）

# java - 从反序列化文件中读取字节

> ID：12834351
> 
> 赞同：0
> 
> 时间：2012-10-11T07:28:44.977
> 
> 标签：java, serialization, deserialization

我正在按照[本教程](http://www.tutorialspoint.com/java/java_serialization.htm)学习 Java 序列化。我已经使用以下代码从序列化文件中成功读取并使用了我的对象（省略了导入）：

```
public class SimpleSerializationTest {
static class Person implements Serializable{
    String name;
    int age;
    boolean isMale;

    static final long serialVersionUID = 314L;
}

public static void main(String[] args) throws Exception{
    Person p = new Person();
    p.name = "Mark";
    p.age = 20;
    p.isMale = true;

    ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream("mark.ser"));

    try{
        oos.writeObject(p);
    } catch(IOException ioe){
        ioe.printStackTrace();
    } finally{
        oos.close();
    }

    ObjectInputStream ois = new ObjectInputStream(new FileInputStream("mark.ser"));

    try{
        // NOTE: Will change this later!
        Person mark = (Person) ois.readObject();
        System.out.println(mark.name);
    } catch(IOException ioe){
        ioe.printStackTrace();
    } finally{
        ois.close();
    }
}
} 
```

但是，我序列化对象的主要目的是为了将其推送到 Redis 存储。所以，为此，我不需要它们以对象形式，而是以字节形式。所以我将最后一个 try-block 的内容更改为...

```
while(true){
   try{
        System.out.println(ois.readByte());
    } catch(EOFException eofe){
        eofe.printStackTrace();
        break;
    }
} 
```

但这会立即引发 EOFException。有什么我做错了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:34:43.897

对象流被标记。这意味着，如果您阅读的信息类型与其预期的信息不同，它可能会感到困惑，从而导致 EOFException 而不是像 IllegalStateException 这样具有适当错误消息的更有意义的信息。

如果您想要由 ObjectOutputStream 写入的字节，最简单的方法就是仅使用内存。

```
ByteArrayOutputStream baos = new ByteArrayOutputStream();
ObjectOutputStream ois = new ObjectOutputStream(baos);
ois.writeObject(object);
ois.close();
byte[] bytes = baos.toByteArray(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:59:10.480

如果要将实例推送到 redis 中，可以使用[JRedis](https://github.com/alphazero/jredis)。

[来自文档](http://code.google.com/p/jredis/wiki/JRedisQuickStart)的示例代码。

```
// instance it
SimpleBean obj = new SimpleBean ("bean #" + i);

// get the next available object id from our Redis counter using INCR command
int id = redis.incr("SimpleBean::next_id")

// we can bind it a unique key using map (Redis "String") semantics now
String key = "objects::SimpleBean::" + id;

// voila: java object db
redis.set(key, obj);

// and lets add it to this set too since this is so much fun
redis.sadd("object_set", obj); 
```

# java - 需要正则表达式来匹配字符串

> ID：12834355
> 
> 赞同：2
> 
> 时间：2012-10-11T07:29:03.437
> 
> 标签：java, regex

我是 Java 新手。我需要一个正则表达式来匹配具有这种模式的字符串：

```
[0-9].[0-9].[0-9] 
```

例如，正则表达式应该严格匹配`5.5.0`or`4.6.5`或`5.2.2`。

上面的模式匹配字符串`135.9.0`，输出为`5.9.0`

但我不想匹配这种模式。

我应该能够**准确匹配由句点（。）符号分隔的三个数字。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:33:46.713

作为`.`正则表达式中的元字符，将其转义为`\.`. 因此表达，

```
[0-9]\.[0-9]\.[0-9] 
```

这可以简化为

```
\d\.\d\.\d 
```

甚至到

```
(\d\.){2}\d 
```

这将匹配以 . 分隔的任何 3 位数字`.`。

另请注意，如果您想从中提取`5.9.0`，请`"string 5.9.0"`使用上面的正则表达式。但是如果你想`5.9.0`完全匹配`"5.9.0"`（整个字符串，用于某种验证），你应该`^`在开始和`$`结束时使用它们。所以它会像

`^(\d\.){2}\d$`

最后（因为您的问题很不清楚您是要匹配单个数字还是数字序列），匹配数字序列使用`[0-9]+`而不是`[0-9]`或`\d+`代替`\d`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:37:11.743

下面的正则表达式会做你想做的事： -

```
\b\d+\.\d+\.\d+\b 
```

*   `\d`匹配任何数字。

如果您只想**匹配`single`**由您分隔的**数字**`.`，您可以使用：-

```
\b\d\.\d\.\d\b 
```

*   `\b`用于边界检查..

**试试这个代码： -**

```
String str = "5.0.0 abc 5.6.7 abc 12.45.65 From: 133.5.0<pos1.002otak.com>";

Pattern pattern = Pattern.compile("\\b\\d\\.\\d\\.\\d\\b"); 
Matcher match = pattern.matcher(str);

while (match.find()) {
    System.out.println(match.group(0));
} 
```

**输出**

```
5.0.0
5.6.7
// 12.45.65 is not printed 
```

**更新**： -

要匹配`1.4.5`内部`abc1.4.5def`而不是`121.4.546`使用以下模式： -

```
[^\\d](\\d\\.\\d\\.\\d)[^\\d] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:37:42.523

您可以使用：

```
^\d\.\d.\d$ 
```

或者

```
\b\d\.\d.\d\b 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T07:34:08.867

你应该用反斜杠转义你的点，因为点匹配正则表达式中的每个字符。
您应该在正则表达式的开头添加一个插入符号 (^) 并在末尾添加一个美元符号，以将匹配限制为整个字符串而不是它的一部分（如果字符串包含您不想要的内容，则可能匹配）。

```
^[0-9]\.[0-9]\.[0-9]$ 
```

或者通过使用匹配一个预定义的前缀/后缀，或者一个非数字的开头（这只有当你的字符串可能在开头有数字以外的东西，否则使用上面的）：

```
[^0-9] 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-11T07:36:24.127

这个正则表达式会做

```
\b\d\.\d\.\d\b 
```

`\d`匹配一个数字，即`0-9`

`.`需要转义，`\`否则它将匹配任何字符

# php - 设置在重复输入尝试唯一字段时导致 php 错误？

> ID：12834356
> 
> 赞同：0
> 
> 时间：2012-10-11T07:29:04.523
> 
> 标签：php, mysql, unique-constraint, error-reporting, duplicates

在我们的 PHP 应用程序中，当前 mysql 查询错误（语法错误、唯一键的重复输入错误）不会引发 PHP 错误，并且脚本正在继续执行，这很好。

我只是想知道什么设置（如果可以通过设置来控制）可以在上述情况下停止脚本执行，以便我们清楚地知道并且不会在不知不觉中错误地这样做。

我刚刚阅读了这个问题[MySQL - ignore insert error: duplicate entry](https://stackoverflow.com/questions/812437/mysql-ignore-insert-error-duplicate-entry)，这是关于避免在唯一字段上重复输入尝试时出错。@zombat 的答案提到`insert ... ignore`当有重复的数据输入尝试时使用导致警告而不是错误。因此，似乎重复输入尝试（使用`insert`和不使用`insert ... ignore`）会导致 PHP 错误并且脚本执行停止。这是默认行为吗？

首先，我没有收到 PHP 错误。那么，我该如何获得它们呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:34:51.253

您应该显示一些代码。

但有几种可能：

在可能有问题的命令之前，您使用带有 @ 的错误抑制。

您有让脚本继续执行的自定义错误处理程序。

您使用异常而不是错误，并捕获它们。

在这里阅读：http: [//php.net/manual/en/function.set-error-handler.php](http://php.net/manual/en/function.set-error-handler.php)

我们真的需要一些代码和一些设置。您可以扫描您的项目中的字符串：set_error_handler

# asp.net-mvc-3 - 使用 bootstrap 、 Asp.net Mvc 3 和骨干进行 jquery 不显眼的验证

> ID：12834358
> 
> 赞同：5
> 
> 时间：2012-10-11T07:29:11.020
> 
> 标签：asp.net-mvc-3, backbone.js, twitter-bootstrap, jquery-validate, unobtrusive-validation

我试图在网上找到一些可用的信息，但无法将它们连接在一起。我有一个使用登录页面的应用程序。现在我没有将视图绑定到任何模型。但是我有两个输入（用户名和密码）。我想触发 Asp.net Mvc 附带的 jquery 不显眼的验证功能。以下是示例：

带有 Twitter 引导程序的主干模板，它是登录模板（下划线模板引擎）。

```
@using (@Html.BeginForm("Login", "Home", FormMethod.Post, new { @class = "form-horizontal" }))
               {
               <div class="modal-body">
                   <div class="control-group">
                        <label class="control-label" for="inputEmail">Email</label>
                        <div class="controls">
                            @*<input type="text" id="inputEmail" placeholder="Email">*@
                            @Html.TextBox("Email", "", new { @placeholder = "Email" })
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="inputPassword">Password</label>
                        <div class="controls">
                            <input type="password" id="inputPassword" placeholder="Password">
                        </div>
                    </div>
                    <div class="control-group">
                    @*<div class="controls">
                        <label class="checkbox">
                            <input type="checkbox"> Remember me
                        </label>
                        <button type="submit" class="btn">Sign in</button>
                    </div>*@
                </div>
             </div>
               <div class="modal-footer">
                    @*<a class="btn" href="#" id="closeBtn">Close</a>*@ <button type="submit" class="btn btn-primary" >Login</button>
               </div>
               } 
```

登录视图的 Coffeescript

```
require ['backbone','bootstrap','jqValUnobtrusive'],(Backbone) ->   
class LoginView extends Backbone.View

    el:$("#content")        

    initialize: ->                      
        @render()
        @validationOptions = @options.validationOptions

    validationOptions:
        rules:
            'Email':
                required:true
            'user[password]':
                required:true
    close:->
        console.log "hello"
    render : ->     
        $(@el).find("#login").html _.template $("#loginTemplate").html() 

App = new LoginView 
```

我的控制器在浏览器中没有 javascript 的情况下将服务器端逻辑添加到验证规则

```
[HttpPost]
    [ValidateInput(true)]
    public ActionResult Login(FormCollection Form)
    {
        ViewBag.Message = "Method posted";
        if (Form["Email"] == string.Empty)
        {
            ModelState.AddModelError("Email", "Please Provide a Username");
            ModelState.SetModelValue("Email", ValueProvider.GetValue("Email"));

        }
        return View();
    } 
```

有人能对这个问题有所了解吗？如何将 twitter 引导验证消息与此 jquery 不显眼的代码一起显示错误？或者扩展 jquery 不显眼的验证插件以与 twitter bootstrap / 主干一起执行验证？

我的标准是用户名和密码不应为 NULL 或空白。一个用于验证没有模型绑定的表单的简单案例（我不想将登录页面绑定到任何模型）。而是将 jquery 不显眼的插件与扩展主干和 twitter 引导样式连接起来！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-11T10:43:01.193

这是我在使用 mvc 非侵入式验证时用引导样式替换 jquery 错误消息的方法：

```
 /*
 * Form Validation
 * This script will set Bootstrap error classes when form.submit is called.
 * The errors are produced by the MVC unobtrusive validation.
 */
 $(function () {
     $('form').submit(function () {
         $(this).find('div.control-group').each(function () {
             if ($(this).find('span.field-validation-error').length == 0) {
                 $(this).removeClass('error');
             }
         });

         if (!$(this).valid()) {
             $(this).find('div.control-group').each(function () {
                 if ($(this).find('span.field-validation-error').length > 0) {
                     $(this).addClass('error');
                 }
             });
         }
     });
     $('form').each(function () {
         $(this).find('div.control-group').each(function () {
             if ($(this).find('span.field-validation-error').length > 0) {
                 $(this).addClass('error');
             }
         });
     });
 });
 var page = function () {
     //Update that validator
     $.validator.setDefaults({
         highlight: function (element) {
             $(element).closest(".control-group").addClass("error");
         },
         unhighlight: function (element) {
             $(element).closest(".control-group").removeClass("error");
         }
     });
 } ();
 /* End Form Validation */ 
```

该问题的评论中有一些讨论，但该脚本背后的技术是用数据注释装饰的 Asp.Net MVC ViewModel 对象（在我的登录案例中为[必需]），它被传递给视图并显示以下内容（除非需要更多，否则只包括相关位）。

```
@using (Html.BeginForm())
{
    ...
    <div id="errors"></div>
    @Html.ValidationSummary(true, "Sign in was unsuccessful", new { @class = "alert alert-block alert-error" })
    <div id="laatikko" class="well">
        <div class="control-group">
        <label for="kayttajaTunnus" class="control-label">@Kaannokset.Yhteiset.Sähköposti</label>
        <div class="controls">
            @Html.TextBoxFor(m => m.kayttajaTunnus)
            @Html.ValidationMessageFor(m => m.kayttajaTunnus, null, new { @class = "help-inline" })
        </div>
    </div>
    <div class="control-group">
        <label for="salasana" class="control-label">@Kaannokset.Yhteiset.Salasana</label>
        <div class="controls">
            @Html.PasswordFor(m => m.salasana)
            @Html.ValidationMessageFor(m => m.salasana, null, new { @class = "help-inline error" })
        </div>
    </div>
    <input id="signIn" class="btn btn-primary" data-loading-text="Searching for user..." type="submit" value="Sign In" />
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-12T22:01:09.503

Miika 的回答很到位。我要添加的唯一内容是让它在用户实际更正页面上的错误时工作。为此，您需要覆盖 MVC 的验证摘要代码，以同时从 .control-group 中删除 .error 类。这是 Miika 的代码，其中添加了它：

```
$(function() {
    var validator = $('form').data('validator');
    var aspErrorPlacement = validator.settings.errorPlacement;
    validator.settings.errorPlacement = function (error, element) {
        aspErrorPlacement(error, element);
        if (error.length > 0 && error[0].innerHTML === "") {
            error.closest('div.control-group').removeClass('error');
        }
    };
    $('span.field-validation-valid, span.field-validation-error').each(function () {
        $(this).addClass('help-inline');
    });

    $('form').submit(function () {
        if ($(this).valid()) {
            $(this).find('div.control-group').each(function () {
                if ($(this).find('span.field-validation-error').length == 0) {
                    $(this).removeClass('error');
                }
            });
        } else {
            $(this).find('div.control-group').each(function () {
                var control = $(this).find('span.field-validation-error')
                if (control.length > 0) {
                    $(this).addClass('error');
                }
            });
        }
    });
}); 
```

这应该为你做。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-11T13:24:17.060

ASP.NET MVC 中的这个地方真是怎么说呢……坏掉了？

我查看了建议的解决方案，但没有找到我喜欢的解决方案，所以我写了自己的。

有两个问题：
1）您需要覆盖如何执行突出显示/取消突出显示
2）好的，第二个问题是因为第一个问题，并且它仅在您使用`jquery.validation.unobtrusive.js`. 问题是，由于工作方式的原因，您不能使用`setDefaults`方法覆盖突出显示/取消突出显示。`jquery.validate``jquery.validation.unobtrusive.js`

所以解决方案是这样的：

```
(function ($) {
  $.fn.bootstrapifyValidation = function () {
    var caller = this;
    function boostrapHighlight(element) {
        $(element).closest(".control-group").addClass("error");
        $(element).trigger('highlated');
    };

    function boostrapUnhighlight(element) {
        $(element).closest(".control-group").removeClass("error");
        $(element).trigger('unhighlated');
    };

    caller.each(function (i, o) {
        var settings = $(o).data('validator').settings;
        settings.highlight = boostrapHighlight;
        settings.unhighlight = boostrapUnhighlight;
    });

    caller.find("div.validation-summary-errors").addClass("alert alert-block alert-error");
 }
})(jQuery)

$(function () {
   $('form').bootstrapifyValidation();
}) 
```

# c# - 执行非查询不起作用

> ID：12834364
> 
> 赞同：-1
> 
> 时间：2012-10-11T07:29:45.927
> 
> 标签：c#, asp.net

我正在尝试向数据库添加新值，但 executenonquery 不起作用。我已经测试并意识到在执行非查询后，系统停止工作。简而言之，它不会着火。没有返回错误。这是代码：

```
else
{
    double amounts = Convert.ToDouble(InstallmentPaidBox.Text);
    string date = period.Text;
    SqlCommand a = new SqlCommand("Select top 1* from Minimum_Amount order by Period desc", con);
    con.Open();
    SqlDataReader sq = a.ExecuteReader();

    while (sq.Read())
    {
        string date2 = sq["Period"].ToString();
        double amount = Convert.ToDouble(sq["Amount"]);
        double areas = amount - (Convert.ToDouble(InstallmentPaidBox.Text) + Convert.ToDouble(BalanceBroughtTextBox.Text));
        double forwarded = Convert.ToDouble(BalanceBroughtTextBox.Text) + Convert.ToDouble(InstallmentPaidBox.Text);
        double balance = areas;
         SqlCommand cmd = new SqlCommand("insert into Cash_Position(Member_No,Welfare_Amount, BFWD,Amount,Installment_Paid,Loan_Repayment,Principal_Paid,Loan_Balance,Interest_Paid,Interest_Due,Penalty_Paid,Penalty_Due,Installment_Arrears,CFWD,Balance_Due,Period,Date_Prepared,Prepared_By) values(@a,@b,@c,@d,@e,@f,@g,@h,@i,@j,@k,@l,@m,@n,@o,@x,@p,@q)", con);
        cmd.Parameters.Add("@a", SqlDbType.NChar).Value = MemberNumberTextBox.Text;
        cmd.Parameters.Add("@b", SqlDbType.Money).Value = WelfareAmount.Text;
        cmd.Parameters.Add("@c", SqlDbType.Money).Value = BalanceBroughtTextBox.Text;
        cmd.Parameters.Add("@d", SqlDbType.Money).Value = amounts;
        cmd.Parameters.Add("@e", SqlDbType.Money).Value = InstallmentPaidBox.Text;
        cmd.Parameters.Add("@f", SqlDbType.Money).Value = 0;
        cmd.Parameters.Add("@g", SqlDbType.Money).Value = PrincipalPaid.Text;
        cmd.Parameters.Add("@h", SqlDbType.Money).Value = 0;
        cmd.Parameters.Add("@i", SqlDbType.Money).Value = InterestPaid.Text;
        cmd.Parameters.Add("@j", SqlDbType.Money).Value = 0;
        cmd.Parameters.Add("@k", SqlDbType.Money).Value = PenaltyPaid.Text;
        cmd.Parameters.Add("@l", SqlDbType.Money).Value = 0;
        cmd.Parameters.Add("@m", SqlDbType.Money).Value = areas;
        cmd.Parameters.Add("@n", SqlDbType.Money).Value = forwarded;
        cmd.Parameters.Add("@o", SqlDbType.Money).Value = balance;
        cmd.Parameters.Add("@x", SqlDbType.NChar).Value = period.Text;
        cmd.Parameters.Add("@p", SqlDbType.Date).Value = dateOf.Text;
        cmd.Parameters.Add("@q", SqlDbType.VarChar).Value = prepared.Text;

        int rows = cmd.ExecuteNonQuery();

        if (rows > 0)
        {
            string script = "<script>alert('Data Successfully Added')</script>";
            Page.ClientScript.RegisterClientScriptBlock(this.GetType(), "Added", script);
        }
        else
        {
            string script = "<script>alert('Error Adding Data')</script>";
            Page.ClientScript.RegisterClientScriptBlock(this.GetType(), "Error", script);
        }
    }
    con.Close();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:50:28.103

您不能在与开放数据读取器关联的连接上执行任何命令。您必须关闭阅读器或使用其他连接。因为您的阅读器仅由开放阅读器使用。

* * *

顺便说一句，你应该抓住一个`System.InvalidOperationException`细节，

> 已经有一个与此命令关联的打开的 DataReader，必须先关闭它。

[这是](http://blogs.msdn.com/b/spike/archive/2009/08/20/there-is-already-an-open-datareader-associated-with-this-command-which-must-be-closed-first-explained.aspx)你可以做的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:41:46.450

尝试在 while 语句附近放置一个断点并对其进行调试。或者您可以在函数内部进行单步执行。如果 Minimum_Amount 表中没有行，则执行可能无法到达 while 循环内的代码片段。

# android - 如何在eclipse中调试html文件？

> ID：12834366
> 
> 赞同：0
> 
> 时间：2012-10-11T07:29:58.680
> 
> 标签：android, debugging

我有一个 android 应用程序，我在其中使用 javascript。谁能告诉我如何调试我的 html 文件？它没有显示任何插入断点的选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:38:36.337

我不认为 Eclipse 本身就提供这样的功能。但是，您可以尝试在 Mozilla Firefox 或[Google Chrome](https://stackoverflow.com/questions/5156388/how-to-set-breakpoint-in-inline-javascript-in-google-chrome-browser-for-linux)浏览器（其内置的开发工具）中使用[FireBug](https://getfirebug.com/javascript)插件来完成此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:36:45.947

看看下面关于在 Eclipse 中调试 JavaScript 的内容。

[在 Eclipse 中调试 JavaScript](https://stackoverflow.com/questions/609316/debug-javascript-in-eclipse)

我更喜欢自己使用 Firefox 插件调试 JS：

[http://getfirebug.com/javascript](http://getfirebug.com/javascript)

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:41:09.077

正如其他两个答案所述；要么在 Firefox 中使用 Firebug 插件——你可以在那里插入断点，或者使用 Chrome 的调试器。它看起来很像萤火虫，只是它默认与浏览器集成。

# java - 带有文本 OVER 图像的 Java SWT 按钮

> ID：12834367
> 
> 赞同：2
> 
> 时间：2012-10-11T07:29:59.617
> 
> 标签：java, image, button, text, swt

SWT 不支持 Button 中的“Text over Image”。设置图像时，隐藏文本。实现这一目标的最佳方法是什么？

我能想到的最好的解决方法是将文本与图像“合并”……有人知道一个好的 Java 库可以做到这一点吗？

注意：我发现这个自定义实现只是在图像上绘制文本：[https](https://github.com/jrobichaux/SquareButton/wiki) ://github.com/jrobichaux/SquareButton/wiki 。为什么这没有在 SWT 中实现？（无论如何，我无法让这门课正常工作......我真的不想要这种方法，因为我想要 NATIVE Button 外观）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T09:43:09.367

> 为什么这没有在 SWT 中实现？

SWT 旨在寻找本地人。为此，SWT 将操作系统资源用于小部件。因此，SWT`Button`看起来像 OS 按钮。在图像上方或下方带有文本的按钮并不常见。

我设法实现了某种可行的方法，但它很hacky。也许您可以将其用作起点：

```
public static void main(String[] args) {
    final Display display = new Display();
    final Shell shell = new Shell(display);
    shell.setLayout(new GridLayout(1, false));

    final Image image = display.getSystemImage(SWT.ICON_ERROR);
    final String text = "Button";

    final Button button = new Button(shell, SWT.PUSH);

    GridData data = new GridData();
    float fontHeight = shell.getFont().getFontData()[0].height;
    data.heightHint = image.getImageData().height + (int)fontHeight + 20;
    data.widthHint = 100;

    button.setLayoutData(data);

    button.addListener(SWT.Paint, new Listener() {

        @Override
        public void handleEvent(Event event) {
            GC gc = event.gc;

            int width = ((GridData)button.getLayoutData()).widthHint;
            int height = ((GridData)button.getLayoutData()).heightHint;
            Point textSize = gc.textExtent(text);

            gc.drawText(text, width / 2 - textSize.x / 2, image.getImageData().height - image.getImageData().height / 2 - textSize.y, true);
            gc.drawImage(image, width / 2 - image.getImageData().width / 2, height / 2 - image.getImageData().height / 2 + textSize.y / 2);
        }
    });

    shell.pack();
    shell.open();
    while (!shell.isDisposed()) {
        if (!display.readAndDispatch()) {
            display.sleep();
        }
    }
    image.dispose();
    display.dispose();
} 
```

正如你所看到的，我曾经`GridData`实现按钮的大小和一个用图像和文本填充按钮的`Listener`for 。`SWT.Paint`

结果如下所示：

![在此处输入图像描述](../Images/a62427f40ddb6a2ffdd1188562243a1b.png)

# javascript - 添加内容时 Div 位置发生变化

> ID：12834369
> 
> 赞同：5
> 
> 时间：2012-10-11T07:30:15.713
> 
> 标签：javascript, positioning, css, text-justify

继昨天的问题（[通过 JS 插入时，带有 inline-blocks 和 text justify 的 DOM Equidistant div 将不起作用](https://stackoverflow.com/q/12822068/1735214)）@Snuffleupagus 很友好地帮助我理解，我偶然发现了另一个奇怪的浏览器行为。

在这里更新小提琴：http: [//jsfiddle.net/xmajox/NUJnZ/](http://jsfiddle.net/xmajox/NUJnZ/)

当任何类型的内容（块或内联）添加到 div 时，它们会向下移动。当所有 div 都有内容时，它们会神奇地移回正确的位置。

我尝试用一​​些虚拟内容 div 开始它们，然后只是更改该儿童的文本，但它的反应方式相同。

有任何想法吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-11T07:38:01.923

添加`vertical-align: top`到这些 div 中：

```
.rowSample > div {
    background: none repeat scroll 0 0 black;
    border: 1px solid yellow;
    color: white;
    display: inline-block;
    height: 50px;
    vertical-align: top;
    width: 50px;
} 
```

因为这些是元素，`display:inline-block`它们作为内联元素对齐，但具有明确的尺寸。例如，`<img>`默认情况下标签具有`inline-block`显示模式，因此要将它们与文本对齐，您必须指定所需的`vertical-align`属性。

请看一下示例小提琴：http: [//jsfiddle.net/a6Hu2/](http://jsfiddle.net/a6Hu2/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T07:50:04.767

我同意@Keukraine，您需要添加一个

```
vertical-align:top; 
```

但是，您还需要一些特定的代码才能使其在 Internet Explorer 7（2012 年仍然是主要浏览器）上运行。

```
/* For IE 7 */
zoom: 1;
*display: inline; 
```

有关详细信息，请参阅本文：[http ://robertnyman.com/2010/02/24/css-display-inline-block-why-it-rocks-and-why-it-sucks/](http://robertnyman.com/2010/02/24/css-display-inline-block-why-it-rocks-and-why-it-sucks/)

# bash - 如何从 shell 命令行运行 vim 命令？

> ID：12834370
> 
> 赞同：70
> 
> 时间：2012-10-11T07:30:15.807
> 
> 标签：bash, shell, vim, zsh

有很多关于从内部运行 shell 程序的 stackoverflow 问题`vim`。是否有可能做相反的事情，即

```
$ vim :BundleInstall 
```

允许我将[BundleInstall](https://github.com/gmarik/vundle)作为 shell 脚本的一部分运行，而不必`vim`手动打开和运行它？

* * *

## 回答 #1

> 赞同：102
> 
> 时间：2012-10-11T07:34:13.607

请注意，现在语法已更改，该行应为（根据[@sheharyar](https://stackoverflow.com/users/1533054/sheharyar)）：

```
vim +PluginInstall +qall 
```

对于后代，以前，正确的行是：

```
vim +BundleInstall +qall 
```

难道除了我以外的任何人都在看！注意：这是在[Github README](https://github.com/gmarik/vundle) for vundle 中。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-10-11T11:54:57.050

根据[vim 手册页](http://linuxcommand.org/lc3_man_pages/vim1.html)( `man vim`)：

> ```
> -c {command}
>     {command}  will  be  executed after the first file has been
>     read.  {command} is interpreted as an Ex command.   If  the
>     {command}  contains  spaces  it  must be enclosed in double
>     quotes (this depends on the shell that is used).   Example:
>     Vim "+set si" main.c
>     Note: You can use up to 10 "+" or "-c" commands. 
> ```

或者：

> ```
> --cmd {command}
>     Like using "-c", but the command is  executed  just  before
>     processing  any  vimrc file.  You can use up to 10 of these
>     commands, independently from "-c" commands. 
> ```

这真的取决于你想做什么。此外，如[vundle](https://github.com/gmarik/vundle)自述文件中所述，如果您像这样启动 vim：

> ```
>  vim +BundleInstall +qall 
> ```

这将在不打开 vim 的情况下安装所有捆绑选项。只是为了澄清，来自[vim 文档](http://vimdoc.sourceforge.net/htmldoc/usr_08.html)：

> ```
> :qall
> 
>     This stands for "quit all".  If any of the windows contain changes, Vim will
>     not exit.  The cursor will automatically be positioned in a window with
>     changes.  You can then either use ":write" to save the changes, or ":quit!" to
>     throw them away. 
> ```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-04-12T15:16:58.573

更复杂的东西怎么样？

```
vim "+set ff=unix" "+wq" node_modules/less-monitor/bin/less-monitor 
```

不确定这是否完全正确，但它对我有用。谢谢@jvc26

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-11T11:55:31.590

我将为正在寻找更通用解决方案的人们添加另一个答案。

`vim +command`可以运行一个 Vim 命令，但可以从 shell 运行多个 Vim 命令。相反，在 Ex 模式下启动 Vim 并使用 Here 文档提供命令。这是我编写的脚本中的一个示例。它在文件中搜索一个模式并在它之前插入一些文本。

```
 ex --noplugin +1 "$v_file" <<-END 
            set maxmempattern=8000
            /^\s*\<endmodule\>/i

            FIXME   \`ifdef XXX_INCLUDE_API
              \`include "${api_file}"
            \`endif

            .
            w
            q
    END 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T07:32:31.783

做

```
vim --cmd BundleInstall 
```

做你想做的事？

# javascript - Javascript命令检查集合中的值？

> ID：12834373
> 
> 赞同：3
> 
> 时间：2012-10-11T07:30:27.993
> 
> 标签：javascript

我试图找到一种创造性的方式/补丁来最小化这条线：

```
 if(myParam == '1' || myParam == 'a' || myParam == '*' || myParam == '@' || myParam == undefined || myParam == null || myParam == ' ')
    {...
    } 
```

一种解决方案是使用 indexOf - 但它不是跨浏览器 *（我可以编写自己的函数来表现得像 indexOf - 但我不想这样做）。*

所以我尝试了 `in` [运营商](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/in)

但是 in 运算符只处理*对象属性名称*和*索引*

所以我尝试了这个（对象属性）：

```
 if(window.lala in {
    '*': 0,
    'a': 0,
    '@': 0,
    ' ': 0,
    undefined: 0,
    null: 0
}) alert('1') 
```

我认为它正在工作。

2个问题：

`question #1`

属性名称为 [ `undefined`] 或 [ `' '`] 或 [ `null`] 是否安全？它会一直工作吗？

`question #2` 有没有其他解决方案可以做到这一点？

*（案例/切换也可以，我知道...）*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:37:45.733

您所拥有的将不适用于未定义的。您可以拥有一个名为 的属性`"undefined"`，但这是一个字符串名称，而不是实际`undefined`值。`"undefined"`您可能会通过类型转换获得匹配，但如果您有一个名为的字符串也不是您想要的，它也会匹配。

我建议使用更明确的测试`===`来避免任何类型转换。有几种方法可以做到这一点，它们比你所拥有的稍微简单一些：

```
if (myParam === null || myParam === undefined || 
    (myParam && myParam.length == 1 && "1a*@ ".indexOf(myParam) !== -1) {
   // code here
} 
```

或者您可以创建一个数组和您自己的跨浏览器函数（或使用 polyfill`Array.indexOf()`搜索可以保存所有值的数组：

```
function inArray(val, array) {
    for (var i = 0; i < array.length; i++) {
        if (array[i] === val) {
            return(true);
        }
    }
    return(false);
}

var testValues = [null, undefined, "1", "a", "*", "@", " "];
if (inArray(window.lala, array)) {
    // your code here
} 
```

`null`您可以使用您正在试验的对象形式，并且只对and使用显式测试`undefined`，但我认为`string.indexOf()`我的第一个建议中的建议更简单。无论如何，这是使用对象的安全形式

```
if (myParam === null || myParam === undefined || 
    (myParam && (myParam in {"*":0, "1":0, "a":0, "@":0, " ":0})) {
   // code here
} 
```

我的建议是第一个选项，因为我认为它是最干净的，而且只需在测试字符串中添加更多字符就可以很容易地扩展它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:39:36.370

> 属性名称是`[undefined]`or `[' '`] or是否安全`[null]`？它会一直有效吗？

所有属性名称都转换为字符串，这意味着您无法区分数字`0`和字符串`'0'`，也无法区分值`null`( `undefined`) 和字符串`'null'`( `'undefined'`)。

在您的情况下，将数字视为数字字符串可能很好，对于`undefined`and `null`，我只想添加一个额外的测试：

```
if(value == null || value in exclude) {
    // ...
} 
```

`value == null`是`true`如果`value`是`null`或`undefined`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:49:30.227

1：最好使用 'undefined' 和 'null' 作为对象的名称，因为当您使用 for in 循环遍历它时，它会检查属性的字符串表示形式（如果您执行以下操作，则可以检查它：

```
 for(prop in obj) typeof(prop) //this will be a string 
```

2：您还可以将值存储在数组中并进行递归：

```
 var vals = ['*', 'a', '@', ' ', undefined, null], param = '@', i = 0;

function checkVals(param, vals, i) {
    if (vals[i] && param === vals[i]) {
        console.log(1);
        return;
    } 

    checkVals(param, vals, i + 1);
}

checkVals(param, vals, i); 
```

# class - 扩展 Android 应用程序类

> ID：12834379
> 
> 赞同：12
> 
> 时间：2012-10-11T07:30:39.890
> 
> 标签：class, constants, extends, android

当我在寻找从远程设备获取错误报告的解决方案时，就像 iOS 中的试飞应用程序一样，我在这里找到了[适用](http://code.google.com/p/acra/wiki/BasicSetup)`acra`于 Android 设备的

在基本设置中，他们说我们需要在`extends Application class`.

到目前为止，在我的项目中我还没有创建这样一个类，当我在 SO 中搜索这个时，我遇到了一些关于`extends Application class`.

我知道他们说的是一个包含全局变量的常量类，我是否理解正确。

在我的项目中，我使用创建了一个名为 as 的类`Constants`，其中包含一些`global variables`诸如`Strings, int, ArrayList`和 I 之类的我用来做我的`api hits`和的类`json parsings`。这个类是否可以用作`extends Application`.

如果是相同的，在上面提到的链接中，他们已经说过

```
override the onCreate() method to add the ACRA init statement 
```

但到目前为止，我还没有`onCreate`在我的 Constant 类中创建方法。我在做正确的事吗？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-10-11T07:38:58.323

我不会费心尝试将您的`Constants`课程与该课程合并。这不值得努力。只需创建一个执行 ACRA 所需的新类。像这样：

```
public class MyApplication extends Application {
    @Override
    public void onCreate() {
        super.onCreate();
        // do the ACRA init here
    }
} 
```

现在你需要确保你的`MyApplication`类被使用了。所以你需要像这样添加`android:name`到`<application>`清单中的标签条目

```
<application
    android:name="fully.qualified.package.name.MyApplication" 
```

完毕。

# flash - KRecorder 的预览功能在 red5 localhost 中不起作用

> ID：12834381
> 
> 赞同：1
> 
> 时间：2012-10-11T07:30:46.003
> 
> 标签：flash, red5, recorder, kaltura

我在 localhost 中安装 red5 服务器，然后使用记录器小部件 - [KRecorder](http://www.kaltura.org/project/video_record_flash_widget)，它运行良好，但是当我将 rtmphost 从“rtmp://www.kaltura.com”更改为“rtmp://localhost”时，预览功能没有不工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:42:16.697

预览是指播放器中显示的视频缩略图？Red5 不会自动生成任何录音缩略图。您需要在 red5 中编写一些代码，以便从录音中生成拇指。例如 FFMPEG 任务。

塞巴斯蒂安

# replace - 替换lua中键的表值

> ID：12834382
> 
> 赞同：2
> 
> 时间：2012-10-11T07:30:50.800
> 
> 标签：replace, lua, indexing, lua-table

我需要替换 lua 中键的值，例如考虑一个表

```
t = {"book", "ball", "bank"} 
```

在这里，我需要更改“box”而不是“ball”的值。怎么做 ？

以前我尝试找到一个键的值并进行更改，但它没有用！！！

```
for key, value in pairs(t) do
  if key == 2 then
    value = "box"
  end
end 
```

但它没有用..如果有人知道替代方法，请给我建议？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-11T07:40:30.973

这是合乎逻辑的。

在循环中，循环变量`key`和`value`是本地变量。所以重新分配它们，它只是改变了局部变量引用的值。循环运行 1 次后，局部变量超出范围并被丢弃。

将表引用中的值更改为表本身，例如

```
 t[key]="box" 
```

在这个简单的例子中，`t[2]="box"`显然也可以服务；）（而不是为了替换一个值而必须遍历整个表） 可以在[手册](http://www.lua.org/manual/5.2/manual.html#3.3.5)中找到更深入的信息。

# macos - 插件开发-Mac版MS-Office

> ID：12834384
> 
> 赞同：1
> 
> 时间：2012-10-11T07:30:58.173
> 
> 标签：macos

我想在 mac 中为 MS Office 创建一个插件。

我不知道，如何开始。我用谷歌搜索，没有找到任何东西。我只需要知道，插件开发是如何开始的？需要哪些东西？我需要什么来创建插件？

所有这一切都适用于 Mac 版的 MS-Office

这是最后一个地方，我正在寻找一些帮助。

谢谢

# c - 将路径分成两段

> ID：12834385
> 
> 赞同：-3
> 
> 时间：2012-10-11T07:30:59.443
> 
> 标签：c

> **可能重复：**
> [将文件路径拆分为路径和文件的功能](https://stackoverflow.com/questions/1575278/function-to-split-a-filepath-into-path-and-file)

我想将像“a/b/c/directory/filename”这样的路径名拆分为“a/b/c/directory”和“filename”。在C中做到这一点的好方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:33:51.887

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

int main ()
{
  char path[] ="/aaa/bbb/ccc/file";
  char *part1 = (char *)malloc (strlen(path));
  strcpy (part1, path);
  char *pos = strrchr (part1, '/');
  *pos = '\0';
  char *part2 = strdup (pos + 1);
  printf ("%s \n%s", part1, part2 );

} 
```

# mysql - 我的 sql 错误子查询返回超过 1 行

> ID：12834388
> 
> 赞同：2
> 
> 时间：2012-10-11T07:31:16.003
> 
> 标签：mysql, sql

```
SELECT * ,
  (SELECT ZoneName 
   FROM zone_message_master 
   WHERE ZoneID = zoneid) 'ZoneName' 
FROM zone_master 
WHERE ZoneID=zoneid; 
```

这是在存储过程中运行的查询，我收到错误

> 子查询返回超过 1 行

谁能告诉我我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:32:20.427

> 我在这里做错了什么？

你得到的错误很清楚。子查询必须只返回一行，您可以使用`ORDER BY ... LIMIT 1`.

> 我该如何解决？

你不需要一个子查询，`JOIN`这两个表直接像这样：

```
SELECT z.ZoneId, zm.ZoneName
FROM zone_message_master zm
INNER JOIN zone_master z ON zm.ZoneId = z.ZoneId 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:35:52.727

这意味着您 `zone_message_master`的`zoneid`. 这个查询会更正确：

```
SELECT zm.* , zmm.ZoneName 
FROM zone_master zm
JOIN zone_message_master zmm ON zm.ZoneID=zmm.ZoneID
WHERE zm.ZoneID=zoneid; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:38:47.443

问题可能与您收到的错误消息一样清楚。您可以欺骗子查询只返回一行，但事实并非如此。如我所见，您的意图是该表`zone_message_master`应具有唯一`ZoneID`值。为了正确，您应该在`zone_message_master.ZoneID`列上创建一个唯一索引。这当然需要对该表进行一些清洁，但最终会让您确保它正常工作。

# c# - WPF infragistics XamComboEditor 显示 string.Length 以显示绑定的字符串列表

> ID：12834402
> 
> 赞同：0
> 
> 时间：2012-10-11T07:31:48.580
> 
> 标签：c#, wpf, infragistics

XamComboEditor itemssource 设置为 List，它不显示实际字符串，而是显示其长度。我如何让它显示列表中的实际字符串。

```
<Infragistics:XamComboEditor x:Name="cboSearchMemberMultiSelect" CheckBoxVisibility="Visible"  Grid.Column="1"  HorizontalAlignment="Left" Height="24" Margin="2" Width="150" Visibility="Collapsed" AllowMultipleSelection="True" SelectionChanged="cboSearchMemberMultiSelect_SelectionChanged"  /> 
```

在 XAml.cs 中

```
 private List<string> StudentTypeItems()
    {
        List<string> list = new List<string>();
        list.Add("Student");
        list.Add("Ambassador");
        list.Add("Crew");
        return list;
    } 
```

cboSearchMemberMultiSelect.ItemsSource=StudentTypeItems();

这是仅显示值的问题。但否则，如果我调试，我可以像往常一样看到这些项目。这很奇怪。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:18:25.557

我对这种行为的想法是。WPF 绑定系统将只绑定属性而不是类，并且字符串列表基本上是字符串类列表，这意味着项目绑定可以使用字符串类的属性完成。并且 String 类只有 Length 属性。这就是为什么它默认与长度属性绑定的原因。

如果您创建新课程。说员工并添加名称属性。现在创建一个员工列表，然后列表框的子元素可以与 Employee 类的 name 属性绑定。

希望这可以解决您的问题。

# php - 提交时的PHP重定向不起作用

> ID：12834407
> 
> 赞同：0
> 
> 时间：2012-10-11T07:32:09.827
> 
> 标签：php, html, forms, redirect

非常感谢您甚至尝试提出解决方案。我在使用简单的 html 联系表格时遇到了问题。表单的方法设置为`post`，它的动作被发送到一个`php`文件。在表单发送到的 PHP 文件的末尾，有一个基本位置：重定向。

前任）`header("Location: ../index.htm");`

我将我的`php.ini`文件（Apache）配置为显示 php 错误。这就是我所看到的：

```
"Cannot modify header information - headers already sent by (output started at /home2/jwarddes/public_html/newTest/php/contact.php:2) in /home2/jwarddes/public_html/newTest/php/contact.php on line 20" 
```

我的代码的第 20 行是我的`header("location:...`重定向。这似乎很好，但有些东西不断抛出错误。不用说，我被难住了。

有人可以试试他们的解决方案还是请我朝正确的方向轻推？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:38:04.543

我以前遇到过很多次这个问题，我在这里和那里看到过没有奏效的解决方案。在我的情况下，我把它归结为我（php*包含*）我的页面到一个索引中，该索引已经有一个标题属性。

我解决这个问题的方法是使用元方法，`echo '<meta http-equiv="refresh" content="0;url=<URL>" />';`

为了使您的页面看起来更好一点，您可以添加一到两秒的延迟并执行类似...

`if ($ = $) { echo '(H1)Redirecting you to...(/H1)'; echo '<meta http-equiv="refresh" content="1;url=<URL>" />'; }`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:39:26.610

在此行之前不应有任何输出（回显）发送到浏览器：

header("位置：../index.htm");

发布您的代码，以便我找出确切的问题

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:42:00.897

来自手册： [PHP header()](http://php.net/manual/en/function.header.php)

> 请记住，必须在发送任何实际输出之前调用 header()，无论是通过普通 HTML 标记、文件中的空白行还是从 PHP 发送。使用 include 或 require 函数或其他文件访问函数读取代码并在调用 header() 之前输出空格或空行是一个非常常见的错误。使用单个 PHP/HTML 文件时也存在同样的问题。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T07:43:02.817

这是一个普遍的问题。

确保您没有任何输出（即使是页面顶部的简单空格），因为这将在重定向之前发送标头。

可能的解决方案如下。

```
ob_start(); 
```

在您的页面顶部和

```
ob_end_flush(); 
```

在底部可能会解决您的问题。

另外，我在下面有这个特殊的功能，它可以做一个非常智能的重定向，试试看，让我知道 :)

```
/**
 * redirect()
 * 
 * Attempts to redirect the user to another page.
 * It tries to PHP header redirect, then JavaScript redirect, then try http redirect.
 * The following redirection method is only attempted if the previous redirection method attempt has failed  
 *  
 * @param mixed $url To be redirected to
 * @return nothing
 */
function redirect($url)
{
        if (!headers_sent())
        { //If headers not sent yet... then do php redirect
                header('Location: ' . $url);
                exit;
        } else
        { //If headers are sent... do java redirect... if java disabled, do html redirect.
                echo '<script type="text/javascript">';
                echo 'window.location.href="' . $url . '";';
                echo '</script>';
                echo '<noscript>';
                echo '<meta http-equiv="refresh" content="0;url=' . $url . '" />';
                echo '</noscript>';
                exit;
        }
} //==== End -- Redirect 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T07:37:01.567

在使用重定向之前，您无法将任何内容打印到浏览器。

无论如何，如果你真的想这样做，你可以做这样的伎俩：

```
echo "<script>location.href='...';</script>" 
```

但是不建议这样做，因为用户看不到重定向之前打印的任何内容，那么为什么还要麻烦让它出来呢？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-11T07:39:31.260

很可能是因为检查的开始或结束标签上有一个空格，我在处理时遇到了非常相似的问题......

# javascript - 在创建 Rails 3 的视图中显示模型基础错误

> ID：12834410
> 
> 赞同：0
> 
> 时间：2012-10-11T07:32:22.757
> 
> 标签：javascript, ruby-on-rails, ruby-on-rails-3.1

我有用户可以订阅最新优惠券的表格。当我在多个选项卡中打开同一个商店链接并订阅时，我会为单个商店获得多个订阅，导致数据重复并多次发送相同的邮件。所以在模型上添加了验证。所以问题是我如何让错误显示在视图中。当用户已经订阅了商店时。由于创建正在发出 ajax 请求。我已经粘贴了下面的代码。任何帮助将不胜感激谢谢

_index.html.haml（视图）

```
=form_for([@merchant,@coupon_subscription],:remote => true,:html => { :class => "store_subscribe" } ) do |f|
    %h3 subscribe for #{@merchant.merchant_name} coupons 
-if !logged_in?
  =f.text_field :user ,:class => "input_text email"
=f.submit "Subscribe",:disable_with => "Subscribing...",:class => "store_subscribe subscribe_button" 
```

订阅控制器

```
def create                                                            #creates subscription 
return if !logged_in?
return if current_user.subscription_limit?
@merchant=Merchant.find_by_permalink(params[:merchant_id])
@coupon_subcription=CouponSubscription.new(:merchant_id => @merchant.id,:user => current_user)
@coupon_subcription.coupon_subscribe
respond_to do |format|
  if @coupon_subcription.save!
    format.html { redirect_to(:back, :notice => 'Success.') }  
    format.js
  else
    format.html { redirect_to(:back, :notice => @coupon_subcription.errors.full_messages || "Oops something went wrong")}  
    format.js 

  end
end
UserMailer.delay.coupon_subscription(current_user,@coupon_subcription) 
```

结尾

模型

```
validate :validate_subscription ,:on => :create

private 
def validate_subscription
@coupon_subscribed=CouponSubscription.find_by_user_id_and_merchant_id_and_active(self.user_id,self.merchant_id,true)
if @coupon_subscribed
   self.errors.add(:base , 'You have already subscribed.')
end 
```

结尾

创建.js

```
<% if !logged_in? %>
$(".store_subscribe").remove()
$(".subscription_feedback").show().append("Login!")
<% else %>
$(".store_subscribe").remove()
$(".store_subscribe").show().append("<h3>Thanks for subscription .We have send you a   mail </h3>")
<% end %> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T17:37:13.960

在您的 create.js.erb 文件中，

```
<% if @coupon_subscription.errors.present? %>
  $("#id").html(@coupon_subscription.errors.full_messages);
<% end %> 
```

# jquery - Jquery Grid 复选框值

> ID：12834418
> 
> 赞同：0
> 
> 时间：2012-10-11T07:32:42.930
> 
> 标签：jquery, asp.net

大家好，我有一个带有复选框列的网格并被禁用。和一个带有图像按钮的列，当我单击图像按钮时，应该获取该行中复选框的相应检查值。

这是我的网格，

```
 <asp:TemplateField HeaderText="Status" ItemStyle-Width="10%">
                    <ItemTemplate>
                        <asp:CheckBox ID="chkStatus" runat="server" Checked='<%# Eval("Deleted") %>'  Text="InActive" />
                    </ItemTemplate>
                </asp:TemplateField>
                <asp:TemplateField HeaderText="Options" ItemStyle-Width="10%">
                    <ItemTemplate>
                        <asp:ImageButton ID="ImageButton1" CommandName="Edit" ImageUrl="images/Edit.gif"
                            OnClick='<%# Eval("ID", "ShowEditBox({0});return false;") %>' runat="server"
                            ToolTip="Edit" />
                        <asp:ImageButton ID="imgDelete" CommandName="Delete" ImageUrl="images/Delete.gif"
                            OnClientClick='<%# Eval("ID", "DeleteRecord({0});return false;") %>' runat="server"
                            ToolTip="Active/InActive" />
                    </ItemTemplate>
                </asp:TemplateField> 
```

下面是Jquery方法，

```
function ShowEditBox(id) 
{
    $("#divEditBox").slideDown("medium");
    var pid = 'PName' + id;
    var colIndex = 0;

    var $tr = $("#" + pid).parent().parent();
    $tr.find('td').each(function() {
        if (colIndex == 1) {
            $("#txtGroupName").val($(this).text());
        }
        if (colIndex == 2) {

            if (this.checked) { alert("true"); } else { alert("false"); } 

//            
//            alert($('#' + '<%= chkStatus.ClientID %>').is(':checked'));
//            alert($(this).text());
        }
        colIndex++;
    })
    $("#editId").val(id);
    $("#lblPopTitle").text("Modify Group");
} 
```

当我单击编辑按钮时，showit() jquery 方法总是将复选框值返回为 false。

任何人都请帮助我......谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:39:56.423

您的`this`关键字 in`this.checked`在`td`您的`.each`函数中。您首先必须找到复选框。做类似的事情：

```
var checked = $(this).find(input:checkbox).is(':checked'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:52:59.880

您好，您的 TD 循环应该是这样的，我没有检查过，但应该是这样的

```
$tr.find('td').each(function () {
        if ($(this).index == 1) {
            $("#txtGroupName").val($(this).text());
        }
        if ($(this).index == 2) {
            if($(this).find("input:checkbox").is(':checked'))
            {
                alert("true")
            }
        }
    }) 
```

# javascript - Mustache.js 中的 HTML 文本

> ID：12834419
> 
> 赞同：45
> 
> 时间：2012-10-11T07:32:44.973
> 
> 标签：javascript, mustache

我在 JavaScript 中有一个这样的数组：

```
[name: "myname", text: "<p>my html text</p>"] 
```

现在，当我在我的 Mustache 模板中使用它时，它会将文本显示为：

```
<p>my html text</p> 
```

我只是想把它作为html，比如：

```
my html text 
```

--

我使用的模板是这样的：

```
<div>
    {{name}}
    {{html}}
</div> 
```

* * *

## 回答 #1

> 赞同：121
> 
> 时间：2012-10-11T07:36:58.230

如果要输出 html，请使用三重花括号。`{{{html}}}`

来自文档：

> 默认情况下，所有变量都是 HTML 转义的。如果要呈现未转义的 HTML，请使用三重胡须：{{{name}}}。您还可以使用 & 取消转义变量。

[https://github.com/janl/mustache.js/](https://github.com/janl/mustache.js/)

# python - 具有多个域扩展的 Django 社会注册

> ID：12834421
> 
> 赞同：0
> 
> 时间：2012-10-11T07:32:46.713
> 
> 标签：python, django, facebook, callback, social

我想向您寻求帮助，因为我正在努力解决我无法解决的特定问题。

我正在使用 django 应用程序“socialregistration”，它可以很好地连接不同的社交平台。

问题是，当您在这些平台上注册应用程序时，您只能拥有单个回调和 redirect_uri。

以脸书为例。我需要做什么来管理具有相同 FB APP_ID 的所有网站：我不想为 5 个不同的域扩展创建 5 个应用程序。

当用户登录“.com”时，他必须被重定向到“.com”，“.fr”必须被重定向到“.fr”等等......

先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:43:47.877

而不是在社交注册应用程序或您正在连接的社交网络中处理它，您应该直接在您的 django 应用程序中处理它。他们的方式你可以遵循：

*   保存域扩展名，甚至是用户访问您网站的完整主机。这可以通过[Django 会话](https://docs.djangoproject.com/en/dev/topics/http/sessions/)来完成。
*   当从社交网络重定向到您的网站时，只需检查保存的域/主机值。如果它与当前 URL 的值不匹配，您将通过 Django 的 HttpResponseRedirect 再次重定向到您的最终域/主机。

# php - php mysql disconnect真的断开了吗？

> ID：12834431
> 
> 赞同：0
> 
> 时间：2012-10-11T07:33:18.140
> 
> 标签：php, mysql

我的 24/7 PHP shell 脚本中有 MySQL 超时问题。

我的印象是 Pear DB DB::connect() 会创建新句柄，但情况似乎并非如此。DB::connect() 实际上即使在循环中使用五次时也会返回“服务器已消失”错误。

我现在在 DB::connect() 之前将 db->disconnect() 和 unset($db) 添加到脚本中。这会导致底层 mysql 模块在连接 (localhost) 之前释放资源吗？如果没有，那么除了使用专有的 new_link 之外，我看不到其他选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:40:21.687

从[手册](http://php.net/manual/en/pdo.connections.php)：

> 许多 Web 应用程序将受益于与数据库服务器建立持久连接。持久连接不会在脚本结束时关闭，但会在另一个脚本使用相同凭据请求连接时被缓存并重新使用。持久连接缓存允许您避免每次脚本需要与数据库通信时建立新连接的开销，从而提高 Web 应用程序的速度。

这被称为连接池。使用连接池建立连接。即使您创建了一个新连接，它也会从池中取出并提供给您。

不要关闭连接，因为它会降低性能，并且根本**不会**给您带来任何好处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:47:59.247

唔。没有定论。

我制作了示例 php 脚本，以相同的设置连接两次，运行 mysql_close()，然后运行第三次连接。我还在另一个窗口中运行了 tcpdump。

在最初的几次运行中，在随后的连接中存在一些到服务器的流量。然后这个流量就消失了。

现在的结果是，如果没有 mysql_close()，mysql_connect() 确实使用了先前的连接，并且后续 mysql_connect() 上的流量为零。

运行 mysql_close() 时，转储将指示 TCP 连接已关闭。

在第三次连接时，连接再次从头建立。

```
13:37:57.842598 IP 192.168.1.1.58772 > 192.168.2.2.mysql: S 3281731243:3281731243(0) win 5840 <mss 1460,sackOK,timestamp 503312235 0,nop,wscale 7>
13:37:57.887534 IP 192.168.2.2.mysql > 192.168.1.1.58772: S 1293434507:1293434507(0) ack 3281731244 win 5792 <mss 1460,sackOK,timestamp 3402066848 503312235,nop,wscale 7>
13:37:57.887639 IP 192.168.1.1.58772 > 192.168.2.2.mysql: . ack 1 win 46 <nop,nop,timestamp 503312245 3402066848>
13:37:57.932750 IP 192.168.2.2.mysql > 192.168.1.1.58772: P 1:61(60) ack 1 win 46 <nop,nop,timestamp 3402066859 503312245>
13:37:57.932843 IP 192.168.1.1.58772 > 192.168.2.2.mysql: . ack 61 win 46 <nop,nop,timestamp 503312256 3402066859>
13:37:57.935983 IP 192.168.1.1.58772 > 192.168.2.2.mysql: P 1:62(61) ack 61 win 46 <nop,nop,timestamp 503312258 3402066859>
13:37:57.981130 IP 192.168.2.2.mysql > 192.168.1.1.58772: . ack 62 win 46 <nop,nop,timestamp 3402066871 503312258>
13:37:57.981181 IP 192.168.2.2.mysql > 192.168.1.1.58772: P 61:72(11) ack 62 win 46 <nop,nop,timestamp 3402066871 503312258>
13:37:58.017172 IP 192.168.1.1.58772 > 192.168.2.2.mysql: . ack 72 win 46 <nop,nop,timestamp 503312279 3402066871>

at 13:38:01 there was the second mysql connection

at 13:38:04 now the mysql_close():    
13:38:03.989796 IP 192.168.1.1.58772 > 192.168.2.2.mysql: P 62:67(5) ack 72 win 46 <nop,nop,timestamp 503313772 3402066871>
13:38:03.989844 IP 192.168.1.1.58772 > 192.168.2.2.mysql: F 67:67(0) ack 72 win 46 <nop,nop,timestamp 503313772 3402066871>
13:38:04.034818 IP 192.168.2.2.mysql > 192.168.1.1.58772: F 72:72(0) ack 68 win 46 <nop,nop,timestamp 3402068385 503313772>
13:38:04.034920 IP 192.168.1.1.58772 > 192.168.2.2.mysql: . ack 73 win 46 <nop,nop,timestamp 503313783 3402068385>

at 13:38:07 the third connection after mysql_close(). Afterwards script exits and mysql connection is closed.
13:38:06.995120 IP 192.168.1.1.58773 > 192.168.2.2.mysql: S 3287179963:3287179963(0) win 5840 <mss 1460,sackOK,timestamp 503314523 0,nop,wscale 7>
13:38:07.035065 IP 192.168.2.2.mysql > 192.168.1.1.58773: S 1439831970:1439831970(0) ack 3287179964 win 5792 <mss 1460,sackOK,timestamp 3402069136 503314523,nop,wscale 7>
13:38:07.035166 IP 192.168.1.1.58773 > 192.168.2.2.mysql: . ack 1 win 46 <nop,nop,timestamp 503314533 3402069136>
13:38:07.075107 IP 192.168.2.2.mysql > 192.168.1.1.58773: P 1:61(60) ack 1 win 46 <nop,nop,timestamp 3402069146 503314533>
13:38:07.075188 IP 192.168.1.1.58773 > 192.168.2.2.mysql: . ack 61 win 46 <nop,nop,timestamp 503314543 3402069146>
13:38:07.075437 IP 192.168.1.1.58773 > 192.168.2.2.mysql: P 1:62(61) ack 61 win 46 <nop,nop,timestamp 503314543 3402069146>
13:38:07.115123 IP 192.168.2.2.mysql > 192.168.1.1.58773: . ack 62 win 46 <nop,nop,timestamp 3402069156 503314543>
13:38:07.115178 IP 192.168.2.2.mysql > 192.168.1.1.58773: P 61:72(11) ack 62 win 46 <nop,nop,timestamp 3402069156 503314543>
13:38:07.115821 IP 192.168.1.1.58773 > 192.168.2.2.mysql: P 62:67(5) ack 72 win 46 <nop,nop,timestamp 503314553 3402069156>
13:38:07.115844 IP 192.168.1.1.58773 > 192.168.2.2.mysql: F 67:67(0) ack 72 win 46 <nop,nop,timestamp 503314553 3402069156>
13:38:07.155524 IP 192.168.2.2.mysql > 192.168.1.1.58773: F 72:72(0) ack 68 win 46 <nop,nop,timestamp 3402069166 503314553>
13:38:07.155606 IP 192.168.1.1.58773 > 192.168.2.2.mysql: . ack 73 win 46 <nop,nop,timestamp 503314563 3402069166> 
```

和脚本：

```
<?php

output( "starting");
$start = microtime(true);
$res = mysql_connect('192.168.2.2','user','pass');
if( $res === FALSE )
        die(output("SQL error on connect\n"));
output(sprintf("Connect took: %.3f", (microtime(true)-$start)));

output("sleep 3");
sleep(3);

$start = microtime(true);
$res = mysql_connect('192.168.2.2','user','pass');
if( $res === FALSE )
        die(output("SQL error on connect\n"));
output(sprintf("Connect took: %.3f", (microtime(true)-$start)));

output("sleep 3");
sleep(3);

output("closing");
mysql_close( $res );

output("sleep 3");
sleep(3);

$start = microtime(true);
$res = mysql_connect('192.168.2.2','user','pass');
if( $res === FALSE )
        die(output("SQL error on connect\n"));
output(sprintf("Connect took: %.3f", (microtime(true)-$start)));

output("all done");
exit;

function output($str)
{
        echo date('Y-m-d H:i:s')." ".$str."\n";
} 
```

# git - 如何创建 git 可执行文件以转到特定目录

> ID：12834432
> 
> 赞同：0
> 
> 时间：2012-10-11T07:33:25.950
> 
> 标签：git, shell

当我打开 git Shell 窗口时，我必须每天都做同样的事情。我从位置开始：`~/Desktop/Github` 然后我必须一直重复这些步骤。有没有办法创建一个可执行文件来运行这些命令？

```
cd y:
cd Websites
cd Projects
etc.. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:56:24.150

是的，做你需要的通常的方法是[编写你的 shell 脚本](http://en.wikipedia.org/wiki/Shell_script)。请注意，可以使用更高级的编程语言来代替 shell。例如，如果您安装了 Git，那么您已经可以使用 Perl 和 Tcl 进行更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T16:23:29.047

我的一位同事给出了答案，但很简单，你只需要运行 GitHub（而不是 shell），然后运行工具 -> 选项，然后在默认存储目录中转到默认工作路径。:)

# c++ - 如何在使用遗传算法在C中找到数字的平方根时实现选择和交叉

> ID：12834434
> 
> 赞同：7
> 
> 时间：2012-10-11T07:33:28.133
> 
> 标签：c++, c, algorithm, genetic-algorithm

我正在尝试使用遗传算法找出浮点数的平方根。
我已经初始化了随机数种群和适应度函数。如何实现从人口和统一交叉中选择父母？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:11:52.950

**选择**
gilad（您正在使用的那个）提供的功能似乎很好。为什么不遵循标准程序？[你可以在维基百科](http://en.wikipedia.org/wiki/Selection_%28genetic_algorithm%29)上找到一些想法

**交叉**
如果您正在考虑将候选者作为 32 位向量（实际上是 31 位），那么进行统一交叉包括以一半的概率选择任一父级的位。

这个想法是：

*   抛硬币
*   如果首当其冲，
*   如果尾巴对父母二

以编程方式从 2 个父母创建孩子的有效方法是生成一个随机的 32 位数字`r`，并给定父母`a`并`b`执行以下操作：

```
 child = (r & a) | (~r & b); 
```

# c++ - 继承的加法赋值操作，如何返回正确的类型？

> ID：12834436
> 
> 赞同：1
> 
> 时间：2012-10-11T07:33:42.650
> 
> 标签：c++, inheritance, copy-assignment

我有这个类来分解 N 维向量空间上的常见操作：

```
template <unsigned int N>
struct BaseVector
{
    float m_data[N];
    // Common operations like dot product, magnitude, test for unity, etc.
}; 
```

注意：我真的想分解尽可能多的代码，以尽量减少文档和测试的数量。

现在，我派生了两个类：

```
// 3D geometric vectors
struct Vector3 : public BaseVector<3>
{
    Vector3 Cross(const Vector3& other);
    // ...
};

// Quaternions are a particular kind of vector space
struct Quaternion : public BaseVector<4>
{
    void Interpolate(const Quaternion& start, const Quaternion& end, ...);
    // ...
}; 
```

这些类对于加法和标量乘法（按分量操作）的行为相似；所以，我想在基本向量类中分解`operator+=()`和。`operator*=()`

**我的问题是：如何返回正确类型的引用？**

```
template <unsigned int N>
struct BaseVector
{
    ??? & operator+=(const BaseVector& other)
    {
        transform(m_data, m_data+N, other.m_data, m_data, plus<float>());
        return ???
    }
}; 
```

到目前为止，我所有的想法（如下所列）都不令人满意，我会很感激一些建议，谢谢！

* * *

想法 #1：使用 C++ 协变返回类型机制。但是，我必须在派生类中重载这些运算符——对吗？（这对我来说意味着重复测试。）

想法#2：去找模板？

```
template <unsigned int N>
struct BaseVector
{
    template <typename T2>
    T2 & operator+=(const T2& other)
    {
        transform(...);
        return *this; // THIS IS WRONG! I'm trying to "upcast"
    }
}; 
```

想法#3：将代码分解为基向量中的私有成员，但随后我必须在派生类中添加更多函数（以及更多要测试的东西）

```
template <unsigned int N>
struct BaseVector
{
private:
    void DoOperatorPlus(const BaseVector& other) { transform(...); }
};

struct Vector4 : public BaseVector<4>
{
    Vector4& operator+=(const Vector4& other)
    {
        DoOperatorPlus(other);
        return *this;
    }
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:54:20.080

您实际上可以尝试使用[CRTP](http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern)

这个想法是你给你的派生类的基类一个模板参数：

```
 template <unsigned int N, typename Derived>
    struct BaseVector
    {
        Derived & operator+=(const Derived& other)
        {
            transform(m_data, m_data+N, other.m_data, m_data, plus<float>());
            return static_cast<Derived&>(*this);
        }
    }; 
```

我不是 100% 确定 return 声明，但这应该给你一个想法。

# jax-rs - WADL 位置：如何在 JAX-RS 应用程序中找到 WADL 位置？

> ID：12834443
> 
> 赞同：3
> 
> 时间：2012-10-11T07:33:52.197
> 
> 标签：jax-rs

我开发了 JAX-RS REST 应用程序，还生成了 WADL。如何找到 WADL 位置？

例如，在 Jax-ws 中，可以使用 [http://192.168.1.39:8083/application/ApplicationService?wsdl] 之类的 URL 找到 wsdl

就像如何在 JAX-RS 中找到位置 WADL 一样。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T17:06:10.723

如果您使用 Jersey，您会在[http://your.application/resource.path/application.wadl](http://your.application/resource.path/application.wadl)找到它，其中 resource.path 是您的 web.xml 中定义的路径。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-05-04T11:46:58.547

如果您使用 jaxrs，您将在 [http://your.application/resource.path/application?_wadl](http://your.application/resource.path/application?_wadl)获得 wadl ，这里也提到了[http://cxf.apache.org/docs/jaxrs-services-description.html](http://cxf.apache.org/docs/jaxrs-services-description.html)

# visual-studio - 如何使用键盘快捷键浏览智能感知建议？

> ID：12834445
> 
> 赞同：8
> 
> 时间：2012-10-11T07:34:01.277
> 
> 标签：visual-studio, resharper

当我写类似的东西时，`Console.`我会得到类似`Console.Write`和的建议`Console.WriteLine`。我不想使用箭头键，它们太远了，如何为此创建快捷方式？我更喜欢像`shift+o`向上移动和`shift+k`向下移动这样的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T23:56:21.663

试试 TouchCursor，它可以让你使用 home 键作为光标键

[触摸光标](http://touchcursor.sourceforge.net/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-15T18:06:01.900

您始终可以重新映射键盘快捷键以执行您想要的操作。在这里查看我的答案：[https ://stackoverflow.com/a/18744507/958809](https://stackoverflow.com/a/18744507/958809)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:46:14.250

如果有替代方法可以逐个导航，我不会，但您可以使用每个单词的第一个字母来快速找到您要查找的内容。

打字`Console.wl`很快就会出现`Console.WriteLine`。我认为它可以通过 ReSharper 获得。

您甚至不必按顺序输入第一个字母。打字`avl`可以调出`SomeMethodWithAVeryLongName`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T10:20:42.023

我不知道 Visual Studio 和 ReSharper 中的解决方案。
但也许重新映射键盘键会有所帮助，即将*Caps Look*键重新映射到*Arrow Down*键。有关说明，请参见[http://www.askdrtech.com/solutions/post/How-to-change-keyboard-mapping.aspx](http://www.askdrtech.com/solutions/post/How-to-change-keyboard-mapping.aspx)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-09-25T10:27:58.943

我认为你的问题是这样的： Ctrl + Alt + Space

# bash - Unix中的测试命令不打印输出

> ID：12834446
> 
> 赞同：1
> 
> 时间：2012-10-11T07:34:03.677
> 
> 标签：bash, command

`test 3 -lt 6`为什么unix 终端中的命令没有输出？不应该测试输出 0 或 1 吗？

我做了一个男人测试，它说

> 以 EXPRESSION 确定的状态退出

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T07:37:13.923

退出状态不打印，只是返回。您可以在`if`或中对其进行测试`while`，例如

```
if test 3 -lt 6 ; then
    echo ok
else
    echo not ok
fi 
```

此外，最后一个表达式的退出代码保存在`$?`：

```
test 3 -lt 6; echo $? 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:37:40.877

`test`返回退出状态，该状态指示测试是否成功。`$?`您可以在执行后立即读取它，`test`也可以直接在控制结构中使用它，例如：

```
if test 3 -lt 6 
  do echo "everything is aaaaalright"
  else echo "whaaat?"
fi 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:55:20.703

*shell 中的每个*命令都有一个返回值，而不仅仅是`test`. 返回值被快速打印出来，我们直接测试它们，例如使用`if`or`while`语句，或者可以在快捷方式中使用`&&`or `||`。有时我们可能会存储返回值，它也存在于变量中`?`。

该`test`命令相当古老。既然您已标记`bash`，那么您可能希望考虑使用

```
if (( 3 < 6 )); then 
```

算术测试，或

```
if [[ $name == "Fred Bloggs" ]] ; then 
```

用于文本或模式测试。

这些通常更直观且不易出错。Like `test`, `(( ))`and`[[ ]]`本身就是命令，可以在没有`if`or的情况下使用`while`。它们在 true 时返回 0（成功），在 false 时返回 1（失败）。

顺便说一句，当您执行 a 时，`man test`您实际上是在查看该`test`程序的文档。您可能会更好地使用`man bash`or `help test`。

# asp.net-mvc - 如何检测正在使用的视图？

> ID：12834451
> 
> 赞同：0
> 
> 时间：2012-10-11T07:34:17.063
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我已经开始像这样写我的地图路线：

```
routes.MapRoute("Image/{fileID}/{width}/{height}/{fileName}",
  (ContentController c) => c.Thumbnail(SITE_ID, FILE_ID, WIDTH, HEIGHT, null)); 
```

（有我自己的扩展类来定义我自己的 MapRoute 函数）

我也严格地指的是这样的行为：

```
var foo = "@Url.Action((FileManagerController c)=> c.Select(0, 0, null, null))" 
```

...再次包括我自己的一些魔法。

现在我可以轻松查看正在使用的控制器和操作。我可以使用 F12 导航等。

但是......我怎么知道我使用了哪些视图？

他们是有一些奇怪的名字的类吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T13:25:12.460

查看[T4MVC](http://mvccontrib.codeplex.com/wikipage?title=T4MVC)。

它通过 T4 模板对您的所有视图进行强类型化。它将允许您像其他任何课程一样找出有关您的视图的信息。

# html - 里面的伪类 :not

> ID：12834452
> 
> 赞同：1
> 
> 时间：2012-10-11T07:34:18.983
> 
> 标签：html, css, css-selectors

是否可以在 :not 标签中使用伪类？

例子：

```
li:not(.inner:hover):hover { // Code }

<li>
   <div class="inner"></div>
</li> 
```

当我悬停内部项目时，我试图取消父悬停的效果，而不使用 javascript。

上述代码的预期结果是当您悬停 li 而不是内部 div 时，li 获得悬停效果。但前提是你不悬停.inner。

**更新**

[http://jsfiddle.net/eTV86/](http://jsfiddle.net/eTV86/) 我想要的是，当 .inner 变黑时， li 变回红色。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:53:47.803

是的，但是您同时使用了一个类和一个伪类，这是无效的：

```
li:not(.inner:hover):hover 
```

即使您将其更改为有效的内容（根据[此答案](https://stackoverflow.com/questions/10711730/whats-the-difference-in-the-not-selector-between-jquery-and-css/10711731#10711731)）：

```
li:not(.inner):hover, li:not(:hover):hover 
```

第一个选择器将始终与您`li`的悬停匹配，而第二个选择器将永远不会匹配任何内容。它永远不会匹配您的`div.inner`，因为您`:not()`将`li`.

最后，如果您想更改悬停的`li`时间，当前的 CSS 选择器无法做到这一点。`.inner`您将需要 JavaScript。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:41:05.613

您可以使用简单的 css 代替伪类

HTML

```
<ul>
<li class="active"><a href = "#">Link 1</a></li>
    <li><a href = "#">Link 2</a></li>
    <li><a href = "#">Link 3</a></li>
</ul> 
```

​​​​​​​​​​​​​​​​​​​​​​​​​​

```
ul li a{ color:black}
ul li a:hover { color:red }
ul li.active a:hover { color:black /*re use the same properties which is there in default style viz ul li a{} */} 
```

演示[http://jsfiddle.net/mKQas/2/](http://jsfiddle.net/mKQas/2/)

# c - 监听两个特定端口的 Socket 服务器

> ID：12834456
> 
> 赞同：0
> 
> 时间：2012-10-11T07:34:39.147
> 
> 标签：c, sockets

我需要一个监听两个特定端口的套接字。当客户端请求到来时，我怎么知道它来自哪个端口

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:40:44.740

您不能将单个套接字绑定到多个端口。套接字仅与“端口地址”对绑定一次。您需要创建几个侦听套接字并将它们中的每一个绑定到本地地址（它们可以相同）和端口（它们不同）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:40:56.873

你的问题毫无意义。没有“侦听两个特定端口的套接字”之类的东西。你需要两个插座。然后套接字本身会告诉您数据来自哪个端口。

# xslt - 计算没有 sum 函数的数组元素的总和

> ID：12834461
> 
> 赞同：4
> 
> 时间：2012-10-11T07:34:51.393
> 
> 标签：xslt

我是 xslt 的新手。我有一个像

```
<EmpCollection>
<Emp>
<Name>Sai</Name>
<Sal>7000</Sal>
</Emp>
<Emp>
<Name>Nari</Name>
<Sal>7400</Sal>
</Emp>
<Emp>
<Name>Hari</Name>
<Sal>9000</Sal>
</Emp>
<Emp>
<Name>Suri</Name>
<Sal>8900</Sal>
</Emp>
</EmpCollection> 
```

现在我想在不使用 sum() 函数的情况下添加工资总和。我想以清晰的方式学习 xslt :-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:00:52.163

**I. 可能是最简单的解决方案之一**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="Sal">
  <xsl:param name="pSum" select="0"/>
     <xsl:apply-templates select="following::Sal[1]">
       <xsl:with-param name="pSum" select="$pSum + ."/>
     </xsl:apply-templates>
 </xsl:template>

 <xsl:template match="Sal[not(following::Sal)]">
  <xsl:param name="pSum" select="0"/>
  <xsl:value-of select="$pSum + ."/>
 </xsl:template>

 <xsl:template match="/">
  <xsl:apply-templates select="descendant::Sal[1]"/>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于提供的 XML 文档时**：

```
<EmpCollection>
    <Emp>
        <Name>Sai</Name>
        <Sal>7000</Sal>
    </Emp>
    <Emp>
        <Name>Nari</Name>
        <Sal>7400</Sal>
    </Emp>
    <Emp>
        <Name>Hari</Name>
        <Sal>9000</Sal>
    </Emp>
    <Emp>
        <Name>Suri</Name>
        <Sal>8900</Sal>
    </Emp>
</EmpCollection> 
```

**产生了想要的正确结果：**

```
32300 
```

* * *

**二、更通用的解决方案是使用[FXSL](http://fxsl.sf.net) 2.x[`f:foldl()`](http://fxsl.cvs.sourceforge.net/viewvc/fxsl/fxsl-xslt2/f/func-foldl.xsl?revision=1.3&view=markup)函数，如下所示：**

```
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
xmlns:f="http://fxsl.sf.net/" exclude-result-prefixes="f">
   <xsl:import href="../f/func-foldl.xsl"/>
   <xsl:import href="../f/func-Operators.xsl"/>

   <xsl:output  encoding="UTF-8" omit-xml-declaration="yes"/>

    <xsl:template match="/">
      <xsl:value-of select="f:foldl(f:add(), 0, /*/*/Sal)"/>
    </xsl:template>
</xsl:stylesheet> 
```

**当这个 XSLT 2.0 转换应用于同一个 XML 文档（上图）时，会产生相同的正确和想要的结果**：

```
32300 
```

**您可以将任何两个参数的函数作为参数传递给`f:foldl()`并产生不同问题的解决方案**。

例如，传递`f:mult()`而不是`f:add()`（并将“零”参数更改为`1`）产生薪水的乘积：

```
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
xmlns:f="http://fxsl.sf.net/" exclude-result-prefixes="f">
   <xsl:import href="../f/func-foldl.xsl"/>
   <xsl:import href="../f/func-Operators.xsl"/>

   <xsl:output  encoding="UTF-8" omit-xml-declaration="yes"/>

    <xsl:template match="/">
      <xsl:value-of select="f:foldl(f:mult(), 1, /*/*/Sal)"/>
    </xsl:template>
</xsl:stylesheet> 
```

**将此转换应用于同一个 XML 文档的结果现在是所有`Sal`元素**的乘积：

```
4.14918E15 
```

* * *

**三、在 XSLT 3.0 (XPath 3.0) 中，可以以与前一个解决方案完全相同的方式使用标准[`fold-left()`](http://www.w3.org/TR/xpath-functions-30/#func-fold-left)或 [`fold-right()`](http://www.w3.org/TR/xpath-functions-30/#func-fold-right)**函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:20:16.900

可能有更优雅的方式（我猜`sum()`：），但以下工作，通过[“折叠”兄弟姐妹加法](https://stackoverflow.com/questions/8657749/recursively-apply-templates-to-result-tree-in-xslt-constant-folding)。终止条件是最后一个兄弟节点（即没有后续节点）

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                version="1.0">
    <xsl:output method="xml" omit-xml-declaration="yes"/>

    <xsl:template match="/EmpCollection">
        <result>Result Is : <xsl:apply-templates select="Emp[1]"/>
        </result>
    </xsl:template>

    <xsl:template match="Emp[following-sibling::Emp]">
        <xsl:variable name="salThis">
            <xsl:value-of select="Sal"/>
        </xsl:variable>
        <xsl:variable name="salOthers">
            <xsl:apply-templates select="following-sibling::Emp[position()=1]"/>
        </xsl:variable>
        <xsl:value-of select="$salThis + $salOthers"/>
    </xsl:template>

    <!--Termination - the last employee just returns its salary value-->
    <xsl:template match="Emp[not(following-sibling::Emp)]">
        <xsl:value-of select="Sal"/>
    </xsl:template>
</xsl:stylesheet> 
```

给出结果：

```
<result>Result Is : 32300</result> 
```

**编辑**

再次阅读您的问题后，我想这不是代码高尔夫问题？下面是使用硬编码元素名称执行此操作的更简单方法，它指示处理器将指定员工的工资加在一起：

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                version="1.0">
    <xsl:output method="xml" omit-xml-declaration="yes"/>

    <xsl:template match="/EmpCollection">
        <result>
            Result Is : <xsl:value-of select="Emp[Name='Sai']/Sal + Emp[Name='Nari']/Sal + Emp[Name='Hari']/Sal + Emp[Name='Suri']/Sal"/>
        </result>
    </xsl:template>

</xsl:stylesheet> 
```

然后应该很容易理解`sum()`正在做什么：

```
<xsl:template match="/EmpCollection">
    <result>
        Result Is : <xsl:value-of select="sum(Emp/Sal)"/>
    </result>
</xsl:template> 
```

**编辑**

计数很简单：

```
<xsl:template match="/EmpCollection">
    <result>
        <xsl:text>Count Is : </xsl:text>
        <xsl:value-of select="count(Emp)"/>
    </result>
</xsl:template> 
```

做到这`count()`一点并不那么简单。请注意，`xsl:variable`s 一旦分配就不能更改（不可变）。所以以下根本不起作用。

```
<xsl:template match="/EmpCollection">
    <xsl:variable name="count" select="0" />
    <xsl:for-each select="Emp">
        <!--NB : You can't do this. Variables are immutable - XSLT is functional -->
        <xsl:variable name="count" select="$count + 1"></xsl:variable>
    </xsl:for-each>
    <result>
        Result Is : <xsl:value-of select="$count"/>
    </result>
</xsl:template> 
```

因此，您可以“循环”所有节点，然后用于`position()`确定这是否是序列中的最后一个节点。（请注意，我们已经使用过`for-each`，但实际上最好使用 use `apply-template`）

```
<xsl:template match="/EmpCollection">
    <result>
        <xsl:text>Count Is : </xsl:text>
        <xsl:for-each select="Emp">
            <xsl:if test="position() = last()">
                <xsl:number value="position()" format="1" />
            </xsl:if>
        </xsl:for-each>
    </result>
</xsl:template> 
```

[:(](https://meta.stackexchange.com/questions/19665/the-help-vampire-problem)

# java - RCP p2 更新：一次只能安装以下其中一项

> ID：12834465
> 
> 赞同：5
> 
> 时间：2012-10-11T07:34:56.097
> 
> 标签：java, eclipse, eclipse-rcp, p2

我创建了一个启用 p2 的 RCP 应用程序。添加了 ui，也可以添加更新站点。

但是添加新软件（已经安装），会发生这种情况：

```
Your original request has been modified.
  "Help" is already installed, so an update will be performed instead.
Cannot complete the install because of a conflicting dependency.
  Software being installed: Help 1.0.0.201210110844 (smartapps.smartsignature.features.help.feature.group 1.0.0.201210110844)
  Software currently installed: SmartSignature 1.0.0.201210110831 (smartapps.smartsignature.application.product 1.0.0.201210110831)
  Only one of the following can be installed at once: 
    Help 1.0.0.201210110844 (smartapps.smartsignature.features.help.feature.jar 1.0.0.201210110844)
    Help 1.0.0.201210110831 (smartapps.smartsignature.features.help.feature.jar 1.0.0.201210110831)
  Cannot satisfy dependency:
    From: SmartSignature 1.0.0.201210110831 (smartapps.smartsignature.application.product 1.0.0.201210110831)
    To: smartapps.smartsignature.features.help.feature.group [1.0.0.201210110831]
  Cannot satisfy dependency:
    From: Help 1.0.0.201210110831 (smartapps.smartsignature.features.help.feature.group 1.0.0.201210110831)
    To: smartapps.smartsignature.features.help.feature.jar [1.0.0.201210110831]
  Cannot satisfy dependency:
    From: Help 1.0.0.201210110844 (smartapps.smartsignature.features.help.feature.group 1.0.0.201210110844)
    To: smartapps.smartsignature.features.help.feature.jar [1.0.0.201210110844] 
```

嗯，这就是 p2 的全部意义......我认为有一件事可能会导致错误，但我不知道如何实际修复它。

存储库中的功能是否可能与基础 RCP 应用程序中安装的功能不同？在安装 p2 时检测到它是相同的功能，但仍然认为它是不同的，因为它有不同的来源？这有道理吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:15:55.600

问题可能是您的匹配器值是完美/等效/兼容的。那么旧版本将不接受您的更新，因为依赖项不兼容。

查看您的功能并检查是否有类似的东西：

```
<import plugin="smartapps.smartsignature.features.help.feature.group" version="1.0.0.201210110831" match="..."/> 
```

match 的可能值为：

```
 (perfect | equivalent | compatible | greaterOrEqual) 
```

确保它是`greaterOrEquals`. 那应该可以解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-12T06:42:05.883

“一次只能安装以下之一”意味着您尝试安装的工件不能共存于一个安装配置文件中。

这很可能是由“Bundle-SymbolicName”OSGi 清单标头的“singleton:=true”指令引起的，该指令不允许在一个环境中多次安装使用（或声明）Eclipse 扩展点的包。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-12T07:33:28.563

好吧，我想通了...这只是一个依赖问题。

我的应用产品是基于这些特性的一个版本。所以安装另一个版本失败了。

我刚刚将我的应用程序功能添加为产品的依赖项，并将我的所有（可更新）功能包含在此应用程序功能中。包含它们时，您可以将功能设置为可选。

将此功能设置为**可选**仍会将其包含在您的产品构建中，但它允许您一次仅执行一项功能的独立更新！

# iphone - 没有添加系统配置框架的选项？

> ID：12834468
> 
> 赞同：0
> 
> 时间：2012-10-11T07:35:10.333
> 
> 标签：iphone, ios, xcode, ipad

我在 Xcode 4.5 中。我有一个应用程序，我需要在其中添加 sysconfiguration 框架。但是当我尝试添加 sysconfiguration 框架时，它没有出现，在选项中。它不可用。但是当我在 xcode 4.3 中尝试时在那里。我想我不小心从 xcode 4.5 中删除了它。我现在需要做什么才能把它找回来？

# java - 将两个数据源连接到同一个数据库

> ID：12834469
> 
> 赞同：1
> 
> 时间：2012-10-11T07:35:24.763
> 
> 标签：java, mysql, spring, hibernate, multi-tenant

我正在开发一个应用程序，我们决定使用[Spring 提供的解决方案](http://blog.springsource.com/2007/01/23/dynamic-datasource-routing/)进行多租户架构，因此我们根据参数的值将数据路由到每个数据源。假设这个参数是一个从 1 到 10 的数字，取决于我们的客户 ID。

但是，这需要在每次添加新数据源时更改应用程序上下文，因此我们首先考虑了以下解决方案：

*   从 10 个（或更多）指向不同 IP 和相同架构的数据源开始，但最终都路由到相同的物理数据库。无论我们使用哪种数据源，在第一个场景中，数据都将被发送到相同的模式。
*   数据将在同一个模式中，因此同一个表将在数据源之间共享，但每一行仅对每个数据源可见（在每个 CRUD 操作中使用固定的 where 子句）
*   当我们遇到性能问题时，我们将创建另一个数据库，将一些客户端迁移到新架构，并将其中一个数据源的 IP 重新路由到新数据库，这样这个新数据库就会得到旧数据库的部分负载

这种方法有什么缺点吗？我担心：

*   酸属性丢失
*   hibernate sessionFactory 和二级缓存的问题
*   表锁定问题

我们正在使用 Spring 3.1、Hibernate 4.1 和 MySQL 5.5

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T20:02:16.367

我认为您的 spring-link 有点过时了，hibernate 4 可以自己很好地处理多租户。我建议使用多模式方法，因为设置和初始化新模式在编程上相对容易（例如在注册时），如果你有这么多负载（并且你的数据库供应商不提供解决方案为了使这对您的应用程序透明）您需要多数据库方法，您应该尝试将租户 ID 合并到数据库 URL 或在这种情况下[http://docs.jboss.org/hibernate/orm/4.1/ devguide/en-US/html/ch16.html](http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html)

# scope - Textmate 2范围：增加乳胶文档中部分的字体大小

> ID：12834470
> 
> 赞同：3
> 
> 时间：2012-10-11T07:35:28.250
> 
> 标签：scope, textmate, textmatebundles

**问：在 Textmate 2 中编辑 .tex 文件时：如何以更大的字体大小打印乳胶部分？**

我在 Latex 包中添加了以下语法：

```
{   patterns = (
    {   begin = 'section\{';
        end = '\}';
        name = 'markup.heading.1.latex';
    },
);
} 
```

此外，我添加了以下适用于新定义`markup.heading.1.latex`范围的设置：

```
{   fontName = 'Baskerville';
fontSize = '2.25em';
} 
```

问题：它只匹配没有前导的部分：

![在此处输入图像描述](../Images/700f9910d9e8fedf476a0144421efdb7.png)

...并且当我将范围定义更改为以下内容时（在“部分”前面添加 \\）：

```
{   patterns = (
    {   begin = '\\section\{';
        end = '\}';
        name = 'markup.heading.1.latex';
    },
);
} 
```

..范围不适用。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T23:16:01.820

您的问题的答案是编辑主题包。

在 Texmate 2 中更改截面外观的过程如下：

在捆绑编辑器菜单中，选择编辑捆绑...。

然后选择捆绑包主题。

从菜单文件中，选择新建，并在出现提示时选择设置

为设置命名。

在 Scope Selector 字段中使用 meta.function.section.latex

然后您可以编辑设置，例如：

```
{   
    fontName = 'Courier';
    fontSize = 36;
} 
```

然后保存（以通常的方式，例如，command-s）。

您可以重复其他切片命令（要识别范围，将光标移动到适当的位置，然后使用以下组合键 control-shift-P）

[取自这里的答案](https://tex.stackexchange.com/questions/98574/textmate-2-how-can-increase-font-size-of-sections-in-the-markup-code)请给原作者信用。

# connection-timeout - 检查媒体流是否可用时出现连接超时错误

> ID：12834473
> 
> 赞同：0
> 
> 时间：2012-10-11T07:35:40.963
> 
> 标签：connection-timeout

在我的控制台应用程序中。我正在通过openstream检查我的数据库中可用的媒体链接。但是在不同的不同点中一次又一次地出现一个错误。即“超时已过期。在操作完成之前超时时间已过或服务器没有响应。该语句已终止”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T22:48:44.940

这两个类似的问题/解决方案可能会给您一些想法。一个是碎片表，另一个是另一个数据库操作的锁。

[http://forums.asp.net/t/1513085.aspx/1/10](http://forums.asp.net/t/1513085.aspx/1/10)

[SQL Server 简单插入语句超时](https://stackoverflow.com/questions/447201/sql-server-simple-insert-statement-times-out)

# java - Ejb Finder(ejb-ql) 事务超时

> ID：12834475
> 
> 赞同：1
> 
> 时间：2012-10-11T07:35:50.913
> 
> 标签：java, oracle10g, ejb, weblogic9.x, ejbql

我们一直面临一个问题，一个简单的 ejb-ql 查询用完事务时间，如果从 SQL 命令提示符运行相同（WL 生成的 ejb-ql 的 SQL 版本），它所花费的时间比配置的 JTA 时间要少得多（执行少于 5% 的 JTA 时间）。

错误：抛出的错误很少是：

> javax.ejb.FinderException：使用结果集时出现“finderMethodName”异常：“weblogic.jdbc.wrapper.ResultSet_oracle_jdbc_driver_OracleResultSetImpl@9c18f”java.sql.SQLException：登记 XAConnection 时出现意外异常 java.sql.SQLException：事务回滚：**事务计时301 秒后退出**

注意 - JTA 配置为 300 秒

大多数时候抛出的错误是：

> javax.ejb.FinderException：使用结果集时出现“finderMethodName”异常：“weblogic.jdbc.wrapper.ResultSet_oracle_jdbc_driver_OracleResultSetImpl@a5af”java.sql.SQLException：**结果集已关闭**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:28:40.303

您应该增加容器中的超时时间。

服务配置 -> 其他服务

单击 JTA 配置（在其他服务下）

然后您将在页面顶部看到超时秒数。

# perl - Perl 以很好的方式格式化输出

> ID：12834479
> 
> 赞同：0
> 
> 时间：2012-10-11T07:36:06.980
> 
> 标签：perl, formatting

我编写了一个 perl 代码来处理以下内容的文件“Output.txt”。

```
 new.example.com 28
  new.example.com 28
  example.com 28
  example.com 29
  example.com 29
  example.com 29
  example.com 29
  orginal.com 28
  orginal.com 29
  orginal.com 30
  orginal.com 31
  expand.com  31 
```

并且文件“domain.txt”具有我需要与文件“Output.txt”匹配的域名列表

```
new.example.com
example.com
orginal.com
test.com
new.com 
```

我可以设法编写这样的PERL代码

```
#!/usr/bin/perl
use strict;
open(LOGFILE,"Output.txt") or die("Could not open log file.");
my $domain_name = 'domain.txt' ;
open(DOM, $domain_name);
my @r_contents = <LOGFILE>;
close(LOGFILE);    
while(<DOM>) {
    chomp;
    my $line = $_;
    my @lowercase = map { lc } @r_contents;
    my @grepNames = grep  /^$line/, @lowercase;
    foreach (@grepNames) {
        if ( grep  /^$line/, @lowercase ) {
            $domains{lc($_)}++ ;            }
    }
}

close(DOM) ;    
foreach my $domain (sort keys %domains) {
    my %seen ;
    ($Dname, $WeekNum) = split(/\s+/, $domain);
    my @array1 = grep { ! $seen{ $_ }++ } $WeekNum;
    push @array2, @array1;
    my @array4 = "$domains{$domain} $domain" ;
    push @matrix,@array4 ;
}
   printf "%-10s %-25s %-25s\n", 'DoaminName', "Week $array2[0]" ,"Week $array2[1]","Week $array2[2]";
   print " @matrix \n"; 
```

当前输出看起来像这样。

```
 DoaminName         Week 28        week29   week30  week 31
 2 new.example.com 35
 1 example.com 28
 4 example.com 29
 1 orginal.com 28
 1 orginal.com 29
 1 orginal.com 30
 1 orginal.com 31 
```

但是我尝试重新编写 perl 代码来打印这样的输出。请帮助我更正代码。

```
Domain/WeekNumber   Week28       Week29        Week30        Week31
new.example.com     2            No            No            No
example.com         1            4             NO            NO
orginal.com         1            1              1             1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T15:28:07.813

这会产生所需的输出，只有我也对输出进行了排序。

如果您的网站名称很长，请根据需要在代码中添加选项卡。

```
#!/usr/bin/perl
use warnings;
use strict;
open my $fh, "<", "Output.txt" or die "could not open Output.txt\n";

my %data;
my %weeks;
while(<$fh>){
    chomp;
    $_=~ m/(.*?)\s++(\d++)/;
    my $site=$1;
    my $week=$2;
    $weeks{$week}++;
    $data{$site}{$week}++;
}

print "Domain/WeekNumber";

for my $week (sort {$a <=> $b} keys %weeks){
    print"\tWeek$week";
}
print"\n";

for my $site(sort keys %data){
    print"$site\t\t";
    for my $week (sort {$a <=> $b} keys %weeks){
            unless(defined $data{$site}{$week} ){
                    print"NO\t";
            }else{
                    print $data{$site}{$week} ."\t";
            }
    }
    print"\n";
}
close $fh; 
```

# java - SWT - ScrolledComposite 内多行文本字段的计算大小

> ID：12834482
> 
> 赞同：4
> 
> 时间：2012-10-11T07:36:16.290
> 
> 标签：java, eclipse, swt, scrolledcomposite

我在 ScrolledComposite(sc) 中有一个复合材料(innerComposite)。在运行时，可以添加额外的 UI 组件。因此，我使用下面的代码来设置 sc 的最小大小以启用滚动，以防其他 UI 组件“溢出”sc。

```
sc.setMinSize(
    innerComposite.computeSize(
        innerComposite.getSize().x, SWT.DEFAULT
    )
); 
```

一个问题是这个 sc/innerComposite 中的 SWT 多行文本字段。

```
textBox = new org.eclipse.swt.widgets.Text(parent, SWT.MULTI | SWT.BORDER | SWT.V_SCROLL); 
```

当我在这个多行文本字段中输入长文本时，会出现垂直滚动条（这就是我想要的！）。但是，当我调用上面的代码重新计算大小并设置 sc.setMinSize() 时...多行文本字段的高度将扩展以适应输入文本的长度。这不是我想要的。我希望这个高度保持在滚动条上，而不是调整大小以适应输入的文本。

我知道`computeSize`会将其子项转换为*首选大小*。我不希望这种情况发生在多行文本字段上，因为它具有滚动垂直条的能力。

我怎样才能防止这种情况发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T15:09:09.427

解决方法是`GridLayout`在内容中使用`Composite`。这允许您在包含一个+的文本上设置 a `GridData`as （在复合材料上执行时使用），但仍然激活它将为该复合材料分配任何额外的空间。`layoutData``wHint``hHint``computeSize()``verticalGrab`

换句话说：`GridLayout`ed的首选大小`Composite`使用其子级的`hHint`/`wHint`中的 / `GridData`。这允许您设置您的首选大小，同时在有额外空间可用`Text`的情况下仍使用扩展文本。`GridData.verticalGrab`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T03:17:15.210

解决您的问题的另一种方法是编写您自己的自定义布局并将其设置为您的内部合成。通过这种方式，您可以准确控制控件的显示方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T06:55:41.733

我通过设置宽度/高度解决了这个问题！

# tsql - SQL Server 在 GROUP BY 期间丢弃 SPACE

> ID：12834488
> 
> 赞同：9
> 
> 时间：2012-10-11T07:36:36.887
> 
> 标签：tsql, group-by, sql-server-2008-r2

看起来 SQL Server（在 2008 R2 上尝试过）正在执行`RTRIM`on columns in`GROUP BY`子句。有没有人注意到这一点？我在这里错过了什么吗？

这两个选择在下面的查询中返回相同的结果集，我认为这不应该是这种情况。

```
declare @t table(Name varchar(100), Age int)
insert into @t values ('A', 20)
insert into @t values ('B', 30)
insert into @t values ('C', 40)
insert into @t values ('D', 25)
insert into @t values (' A', 21)
insert into @t values ('A ', 32)
insert into @t values (' A ', 28)

select
    Name,
    count(*) Count
from @t
group by Name

select
    rtrim(Name) RtrimmedName,
    count(*) Count
from @t
group by rtrim(Name) 
```

请让我知道你的想法...

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-11T07:44:26.833

它实际上是在做相反的事情，但可观察到的效果是一样的。

在比较两个长度不等的字符串时，SQL（标准，不仅仅是 SQL Server）的规则之一是较短的字符串用空格填充，直到长度相同，然后进行比较。

如果您想避免感到惊讶，您需要在每个字符串的末尾添加一个非空格字符。

* * *

事实上，检查[标准文本](http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt)，似乎有两个选项：

> 4.6 数据类型的类型转换和混合
> 
> ...
> 
> 当比较长度不等的值时，如果用于比较的排序序列具有`NO PAD`属性，并且较短的值等于较长值的前缀，则认为较短的值小于较长的值。如果用于比较的排序序列具有`PAD SPACE`属性，则为了比较的目的，较短的值通过右侧 <space> 的连接有效地扩展到较长的长度。

但我知道的所有 SQL Server 排序规则都是`PAD SPACE`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T08:02:28.757

这更容易看到：

```
declare @t table (Name varchar(100), Age int)
  insert @t values('A', 20),('B', 30),('C', 40),('D  ', 25)
                 ,(' A', 21),('A ', 32),(' A ', 28),('D    ',10);

  select Name, Replace(Name,' ','-'),
         count(*) Count
    from @t
group by Name

--
NAME  COLUMN_1  COUNT
A     -A        2
A     A-        2
B     B         1
C     C         1
D     D--       2 
```

注意 A 和点之间的空格。它选择了 1 空间版本而不是 0 空间版本。
另请注意，D 组选择带有 2 个尾随空格的那个而不是 4 个。

所以，**不**，它没有执行 RTRIM。然而，这有点像一个*软*错误，因为它***任意***选择两列之一（它首先遇到的那一列）作为 GROUP BY 的结果，如果空格很重要，这可能会让你失望。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-01-15T17:32:39.993

我知道这是一个旧线程，但这可能对其他人有所帮助。我已将以下内容用于 group by 以正确识别尾随空格的差异：

```
declare @t table(Name varchar(100), Age int)
insert into @t values ('A', 20)
insert into @t values ('B', 30)
insert into @t values ('C', 40)
insert into @t values ('D', 25)
insert into @t values (' A', 21)
insert into @t values ('A ', 32)
insert into @t values (' A ', 28)

select
    Name,
    count(*) Count
from @t
group by Name, DATALENGTH(Name) 
```

通过在组上添加额外的 DATALENGTH，它还将识别项目长度的差异。

# sql - ORA-00905: 选择语句中缺少关键字错误

> ID：12834491
> 
> 赞同：-2
> 
> 时间：2012-10-11T07:36:57.617
> 
> 标签：sql, oracle

我在以下选择查询中收到错误。这是我收到的错误：

> ORA-00905: 缺少关键字

任何人都可以帮忙吗？

```
SELECT ni.node_installation_id,ni.customer_node_id,ni.customer_id,c.brand_name_1,substr(nitr.name,1,instr(nitr.name, ' ')-1) as node_inst_type
    from node_installation ni , customer c , node_inst_type_release nitr
    where ( Case 
            WHEN ni.arne_timestamp is null  THEN ( case  
                                                   when ni.arne_flag ='I' then ni.arne_flag ='I'
                                                   END )
     else (trunc(sysdate) - trunc(ni.arne_timestamp) >= 60)
      end)     
and ni.customer_id = c.customer_id 
and ni.node_inst_type_release_id = nitr.node_inst_type_release_id
and ni.no_of_collection_node_missed >= 4
and c.customer_id =90; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:47:08.683

可能问题出在`case`：

```
( 
  case  
    when ni.arne_flag ='I' 
      then ni.arne_flag ='I'
  END 
) 
```

我认为条件是完全错误的。尝试将其更改为：

```
((ni.arne_timestamp is null and  ni.arne_flag ='I')
or
(trunc(sysdate) - trunc(ni.arne_timestamp) >= 60)) 
```

如下：

```
 SELECT ni.node_installation_id,
           ni.customer_node_id,
           ni.customer_id,
           c.brand_name_1,
           substr(nitr.name,1,instr(nitr.name, ' ')-1) as node_inst_type
     from node_installation ni , 
          customer c , 
          node_inst_type_release nitr
   where ((ni.arne_timestamp is null and  ni.arne_flag ='I')
          or
          (trunc(sysdate) - trunc(ni.arne_timestamp) >= 60))     
    and ni.customer_id = c.customer_id 
    and ni.node_inst_type_release_id = nitr.node_inst_type_release_id
    and ni.no_of_collection_node_missed >= 4
    and c.customer_id =90; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:48:04.297

您的内部 CASE 语句在我看来是错误的，尽管我不是 100% 为什么它应该在语法上不正确：

```
CASE 
       WHEN ni.arne_flag = 'I' THEN **ni.arne_flag = 'I'**  END 
```

我认为“THEN”之后的表达式应该是一个值，但无论如何它都是多余的。

# javascript - HTML5 / JS Audio：实时音频混合可能吗？

> ID：12834495
> 
> 赞同：8
> 
> 时间：2012-10-11T07:37:08.760
> 
> 标签：javascript, html, audio

有人对今天（2012 年 10 月）的浏览器音频 API 情况有一个概述吗？

今天是否可以创建多个（2 到 6 个）MP3 音频文件的同步实时混音？

如果没有，是否有任何工作（alpha，beta）可以使这成为可能？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T07:52:42.663

这是 Web Audio API 的一个很好的[概述](http://www.html5rocks.com/en/tutorials/webaudio/intro/)，它允许混音。但是[支撑图](http://caniuse.com/#feat=audio-api)看起来不太好。

# windows - UDP 数据包，被 Wireshark 看到，被丢弃（甚至没有到达）WSARecvFrom

> ID：12834501
> 
> 赞同：14
> 
> 时间：2012-10-11T07:37:22.447
> 
> 标签：windows, winapi, sockets, operating-system

我有一个相当令人困惑的问题。
我正在使用一个大型 C++ 库在 Windows XP/7 上通过 UDP 处理一些专有协议。它在程序运行的整个过程中侦听一个端口，并等待来自远距离对等点的连接。

大多数时候，这很好用。但是，由于我遇到的一些问题，我决定在调用之后直接添加一个简单的调试打印`WSARecvFrom`（库中使用的 win32 函数，用于从我感兴趣的套接字接收数据报，并告诉它们的 IP 和端口来自）。
奇怪的是，在某些情况下，我发现数据包在**操作系统级别**被丢弃（即我在 Wireshark 中看到它们，它们具有正确的 dst 端口，所有校验和都是正确的 - 但它们从未出现在我的调试打印中植入代码中）。

现在，我完全相信“UDP 不能保证交付”这一事实（人们往往会经常提及）——但这不相关，因为数据包**是**由机器接收的——我在 Wireshark 中看到了它们。
此外，我熟悉操作系统缓冲区和填满的可能性，但奇怪的部分来了……

我做了一些研究，试图找出哪些数据包被丢弃了。我发现，所有丢弃的数据包都有两个共同点（虽然*一些*，但绝对不是*大多数*，*没有*丢弃的数据包也共享这些）：

1.  他们很小。协议中的许多数据包都很大，接近 MTU - 但所有丢弃的数据包都小于 100 字节（总）。
2.  它们总是两个之一：一个 SYN 等效（即对等方发送给我们以启动通信的第一个数据包）或 FIN 等效性（即当对等方不再有兴趣与我们交谈时发送的数据包） .

这两种品质中的任何一种都会影响操作系统缓冲区，并导致数据包被随机（或更有趣 - 有选择地）丢弃吗？
任何关于这个奇怪问题的线索将不胜感激。

非常感谢。

* * *

**编辑（24/10/12）：**

我想我可能错过了一个重要的细节。似乎在到达之前丢弃的数据包有其他共同点：它们（我开始相信，*只有*它们）是由“新”对等方发送到服务器的，即它**之前没有尝试联系的**对等方。

例如，如果一个同步等效数据包从我们以前从未见过的对等点*到达，则它不会被`WSARecvFrom`. **但是，如果我们自己**向该对等方发送了一个 syn-equivalent 数据包（即使它当时没有回复），现在它向**我们**发送了一个 syn-equivalent，我们将看到它。

(*) 我不确定这是一个我们没见过的*对等*点（即 ip:port）还是只是一个我们以前没见过的*端口。*

这有帮助吗？
这是我从未听说过的某种 WinSock 选项吗？（如上所述，代码不是我的，所以它可能使用了我不知道的套接字选项）

再次感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T08:11:27.760

操作系统有一个固定大小的缓冲区，用于存储已到达您的套接字但您尚未读取的数据。当这个缓冲区用完时，它将开始丢弃数据。调试日志可能会通过延迟从套接字中提取数据的速率来加剧这种情况，从而增加溢出的机会。

如果这是问题所在，您至少可以通过请求更大的 recv 缓冲区来减少它的实例。

您可以使用检查套接字接收缓冲区的大小

```
int recvBufSize;
int err = getsockopt(socket, SOL_SOCKET, SO_RCVBUF,
                     (char*)&recvBufSize, sizeof(recvBufSize)); 
```

您可以使用将其设置为更大的尺寸

```
int recvBufSize = /* usage specific size */;
int err = setsockopt(socket, SOL_SOCKET, SO_RCVBUF,
                     (const char*)&recvBufSize, sizeof(recvBufSize)); 
```

如果您仍然看到操作系统正在接收数据但未传递到您的套接字客户端，您可以考虑使用不同的日志记录方法。例如

*   登录到 RAM 缓冲区并仅偶尔打印（以您配置文件最有效的任何大小）
*   从低优先级线程记录，要么接受对此的内存需求将是不可预测的，要么添加代码以在日志缓冲区已满时丢弃数据

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-10-25T20:26:44.850

我有一个非常相似的问题，在确认接收缓冲区没有导致下降后，我了解到这是因为我将接收超时设置得太低，为 1 毫秒。将套接字设置为非阻塞并且不设置接收超时为我解决了这个问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-17T05:53:41.080

关闭 Windows 防火墙。

这能解决吗？如果是这样，您可能会重新启用防火墙并为您的程序添加规则。

根据您在更新中所说的话，这是我最合乎逻辑的猜测：

> 似乎在到达之前丢弃的数据包有其他共同点：它们（我开始相信，只有它们）是由“新”对等方发送到服务器的，即它之前没有尝试联系的对等方。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-02T08:58:03.853

在redhat-linux上也遇到了同样的问题。这原来是一个路由问题。

RCA如下：

1.  确实，UDP 能够到达目标机器（在 Wireshark 上看到）。
2.  现在找不到到源的路由，因此在 Wireshark 上看不到回复。
3.  在某些操作系统上，您可以在 Wireshark 上看到请求数据包，但操作系统实际上并未传递数据包套接字（您可以在 netstat-nap 中看到此套接字）。
4.  在这种情况下，请始终检查 ping ( `ping <dest ip> -I<source ip>`)

# android - INSTALL_FAILED_MISSING_SHARED_LIBRARY Android 谷歌地图

> ID：12834503
> 
> 赞同：0
> 
> 时间：2012-10-11T07:37:33.500
> 
> 标签：android, google-maps, google-maps-api-3

[我在http://www.androidcompetencycenter.com/?s=GPS](http://www.androidcompetencycenter.com/?s=GPS)尝试非常基本的 google api 示例。我已经完成了编码部分并尝试在 AVD 上安装。我收到错误消息。[安装错误：INSTALL_FAILED_MISSING_SHARED_LIBRARY]。

我为 API 级别 7 和 8 安装了 Google api。我在应用程序标签之间添加了。我没有得到什么是错误。我也做了很多搜索。请有人可以帮忙。

这是我的清单。

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.position"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="7"
    android:targetSdkVersion="15" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >

     <uses-library android:name="”com.google.android.maps”" />

    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application>

<uses-permission android:name="android.permission.INTERNET" >
</uses-permission>
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" >
</uses-permission>
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" >
</uses-permission> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:39:50.057

```
change like this

<uses-library android:name="com.google.android.maps" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:45:59.980

你注册了[google API maps](https://developers.google.com/maps/signup)吗？

我的 Manifest.XML 就像：

```
<uses-sdk android:minSdkVersion="7" android:targetSdkVersion="7"/>

<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
<uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
<uses-permission android:name="android.permission.INTERNET" /> 
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />

<application
    android:icon="@raw/logo"
    android:label="@string/app_name" >
    <activity
        android:name=".VentanaIP"
        android:screenOrientation="portrait"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <activity android:name=".VentanaMapa"
         android:screenOrientation="portrait"></activity>
    <uses-library android:name="com.google.android.maps" />     
</application>

<com.google.android.maps.MapView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:apiKey="xxXXXXXxxXXXxxXXXXXxxXXXXX"
             /> 
```

# objective-c - @[] 和 [NSArray arrayWithObjects:] 的区别

> ID：12834504
> 
> 赞同：8
> 
> 时间：2012-10-11T07:37:34.063
> 
> 标签：objective-c, nsarray, objective-c-literals

> **可能重复：**
> [我应该更喜欢使用文字语法还是构造函数来创建字典和数组？](https://stackoverflow.com/questions/12535855/should-i-prefer-to-use-literal-syntax-or-constructors-for-creating-dictionaries)

有什么区别：

```
NSArray *array = @[@"foo", @"bar"]; 
```

和

```
NSArray *array = [NSArray arrayWithObjects:@"foo", @"bar", nil]; 
```

其中之一是更稳定，更快还是其他？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-11T07:47:19.760

该[文档](http://clang.llvm.org/docs/ObjectiveCLiterals.html)没有直接提及任何有关效率的内容，但确实提到了

```
NSArray *array = @[@"foo", @"bar"]; 
```

相当于

```
NSString *strings[3];
strings[0] = @"foo";
strings[1] = @"bar";
NSArray *array = [NSArray arrayWithObjects:strings count:2]; 
```

我不得不假设在装配级别上，两者是相同的。

因此，唯一的区别是偏好。我更喜欢前者，打字更快，理解更直接。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-11T07:47:50.650

第一个只是第二个的语法糖。它稍微好一点，因为它更短并且不需要哨兵`nil`标记列表的末尾。（当您使用第二个变体并忘记 时`nil`，您会得到一些非常不可预测的行为。）

如果它们都不生产相同的组件，那么性能差异将非常小，任何人都不会担心。这是程序集使用文字速记查找第一种情况的方式：

```
// NSArray *bar = @[@"bar"];
movl    %edi, -40(%ebp)
movl    L_OBJC_CLASSLIST_REFERENCES_$_-L0$pb(%esi), %eax
movl    L_OBJC_SELECTOR_REFERENCES_4-L0$pb(%esi), %edi
movl    %eax, (%esp)
movl    %edi, 4(%esp)
movl    %edx, 8(%esp)
movl    $1, 12(%esp)
movl    %ecx, -76(%ebp)         ## 4-byte Spill
calll   L_objc_msgSend$stub
movl    %eax, (%esp)
calll   L_objc_retainAutoreleasedReturnValue$stub
movl    %eax, -36(%ebp) 
```

情况就是这样`arrayWithObjects`：

```
// NSArray *foo = [NSArray arrayWithObjects:@"foo", nil];
movl    L_OBJC_CLASSLIST_REFERENCES_$_-L0$pb(%ecx), %eax
movl    L_OBJC_SELECTOR_REFERENCES_-L0$pb(%ecx), %edi
movl    %eax, (%esp)
movl    %edi, 4(%esp)
movl    %edx, 8(%esp)
movl    $0, 12(%esp)
movl    %esi, -72(%ebp)         ## 4-byte Spill
calll   L_objc_msgSend$stub
movl    %eax, (%esp)
calll   L_objc_retainAutoreleasedReturnValue$stub
movl    $1, %ecx
leal    -40(%ebp), %edx
movl    -64(%ebp), %esi         ## 4-byte Reload
leal    L__unnamed_cfstring_2-L0$pb(%esi), %edi
movl    %eax, -32(%ebp) 
```

我不知道足够的组装来得出结论，但它们看起来确实具有可比性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:49:57.357

这是 Objective C 3.0 中新发明的功能

编译器基本上用`[NSArray arrayWithObjects:...]`语句替换了快捷方式。

字符串也会发生同样的情况`@"String"`

编辑：好的，假设发生了类似的事情:) 实际上没有其他基本字符串的构造函数。

# ios - 视图在获取窗口之前拦截触摸

> ID：12834505
> 
> 赞同：1
> 
> 时间：2012-10-11T07:37:35.363
> 
> 标签：ios, animation, touch

你好在我的应用程序中我模拟幻灯片视图并使用此代码

```
 [UIView beginAnimations: nil context:nil];
    [UIView setAnimationDuration: 0.5];
    [UIView commitAnimations]; 
```

不幸的是，新视图在获取窗口之前拦截了触摸：如果我双击，第二次单击工作新视图我检查此视图的框架它等于窗口的框架

如果我关闭动画它工作正常。但我需要动画效果

请帮我找到正确的决定）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:53:29.417

尝试使用`UIView`动画块。最初禁用新视图上的触摸。然后动画并在完成块中，启用触摸。

```
//disable touch on the slide view
[UIView animateWithDuration:0.5
                         animations:^{
                            //.. animate here
                         }
                         completion:^(BOOL finished){ 
                            //enable touch on the new view
                         }] 
```

# javascript - 在javascript中处理浏览器的窗口/标签关闭事件

> ID：12834515
> 
> 赞同：2
> 
> 时间：2012-10-11T07:38:24.080
> 
> 标签：javascript, google-chrome

> **可能重复：**
> [window.onbeforeunload 在 chrome 中不起作用](https://stackoverflow.com/questions/4802007/window-onbeforeunload-not-working-in-chrome)

在javascript中处理浏览器的窗口/标签关闭事件时遇到问题。在关闭浏览器的窗口/选项卡之前，我尝试并搜索了许多案例来触发我的功能。

在我的函数中，我应该显示一个简单的警报消息，如下所示：

```
 function doBeforeClose(){
 // do work needed
 alert("you have successfully logged out");
 } 
```

我试图通过

```
<body onbeforeunload="doBeforeClose()"> 
```

或者

```
window.onbeforeunload = function(evt){ .... } 
```

我可以在 IE 和 Mozilla 中调用此函数，但不能在 Chrome 中调用。我知道[chrome](http://code.google.com/p/chromium/issues/detail?id=30885)中有一个用于捕获此事件的错误（可能是错误或安全问题的功能）。

即使这样也不能满足我的要求，因为这个事件应该只在关闭事件时触发，而不是页面卸载。

即，它在页面的刷新/重定向时被调用。

为了避免在刷新时出现这种情况，我捕获了 F5 和 Ctrl_R 的事件，但无法捕获刷新按钮事件。

我试图通过获取鼠标坐标来捕获刷新按钮事件，但这根本不是推荐的选项，因为所有浏览器的按钮对齐方式都不相同。

请做有需要的。

# assembly - nasm x86-64 程序集 - 两个变量读为一个变量

> ID：12834528
> 
> 赞同：0
> 
> 时间：2012-10-11T07:39:21.957
> 
> 标签：assembly, nasm

我正在制作一个简单的程序来打印“你好，世界！” 以十六进制 ASCII 字符表示。这是我的代码：

```
SECTION .DATA
msg db 'Printing Hello world in ASCII values: ', 0
msglen EQU $-msg
char1 db 064h  ; 'd' character
char2 db 06Ch  ; 'l' character
char3 db 072h  ; 'r' 
char4 db 06Fh  ; 'o'
char5 db 077h  ; 'w'
char6 db 020h  ; (space)
char7 db 06Fh  ; 'o'
char8 db 06Ch  ; 'l'      
char9 db 06Ch  ; 'l'
char10 db 065h ; 'e'
char11 db 048h ; 'H'

SECTION .bss

SECTION .text

GLOBAL _start:
_start:
nop
mov esi, 0

mov eax, 4
mov ebx, 1
mov ecx, msg
mov edx, msglen
int 80h
; printing 'H'
mov eax, 4
mov ebx, 1  
mov ecx, char11 
mov edx, 1
int 80h

; printing 'e'
mov eax, 4
mov ebx, 1  
mov ecx, char10
mov edx, 1
int 80h

; printing 'l'
mov eax, 4
mov ebx, 1  
mov ecx, char9
mov edx, 1
int 80h     

; printing 'l'
mov eax, 4
mov ebx, 1  
mov ecx, char8 
mov edx, 1
int 80h 

; printing 'o'
mov eax, 4
mov ebx, 1  
mov ecx, char7 
mov edx, 1
int 80h 

; printing space
mov eax, 4
mov ebx, 1  
mov ecx, char6 
mov edx, 1
int 80h 

; printing 'w'
mov eax, 4
mov ebx, 1  
mov ecx, char5 
mov edx, 1
int 80h

; printing 'o'
mov eax, 4
mov ebx, 1  
mov ecx, char4 
mov edx, 1
int 80h

; printing 'r'
mov eax, 4
mov ebx, 1  
mov ecx, char3 
mov edx, 1
int 80h

; printing 'l'
mov eax, 4
mov ebx, 1  
mov ecx, char2 
mov edx, 1
int 80h

; printing 'd'
mov eax, 4
mov ebx, 1  
mov ecx, char1 
mov edx, 1
int 80h

    ; end
mov eax, 1
mov ebx, 0
int 80h 
```

我的问题：

我该怎么做这样的事情：

```
loop:
    mov eax, 4
    mov ebx, 1
    mov ecx, char[incremented variable]
    mov edx, 1
    int 80h
    inc (incremented variable)
    jmp loop 
```

我的意思是如何将一个变量和一个递增计数器作为一个变量读取？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:51:08.127

您需要为您的字符串创建一个数组，以相同的方式`msg`声明，加载指向该字符串的指针，取消引用以获取该字符，检查其是否为 0，如果是则中断，否则打印并增加指针。

例如：（MASM 语法，抱歉）

```
msg2 BYTE "Hello World!",0

MOV ESI, OFFSET msg2

LOOP1:

MOVZX ECX, BYTE PTR[ESI]
TEST ECX,ECX
JE NEXT
MOV EAX, 4
MOV EBX, 1
MOV EDX, 1
INT 80h
INC ESI
JMP LOOP1

NEXT:
... 
```

刚刚注意到您的标题声明 x86-64，但您的代码（和我的代码）是普通的 x86，如果您真的想要 x64 代码，系统调用的 ABI 会发生一些变化，但其余部分几乎相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T12:46:01.393

将角色放入 ecx 是行不通的！(segfault) ecx 想成为地址（偏移量）。

 `````
mov ecx, mystring ; address! (Masm uses "offset")
looptop:
cmp byte [ecx], 0 ; "[contents]"
jz done
mov edx, 1 ; length
mov ebx, 1 ; stdout
mov eax, 4 ; __NR_write
int 80h
inc ecx ; next address
jmp  looptop
done:
... 
````  `......类似的东西......如果你真的想要64位代码，系统调用号码是不同的 - 1用于写入和...... 3Ch（？）用于退出。使用`syscall`而不是“int 80h”（当然还有 64 位 regs）。如果你想用 64 位 ld 做 32 位代码，告诉 ld “-m elf_i386”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T16:25:48.700

等一下。您是否要打印字符的十六进制值（以文本形式）而不是字符？像这样的东西？（高度未优化）

 `````
global _start

section .data
    msg db "Hello World", 0
    hexbuf db "0xXX, "
    hexbuflen equ $ - hexbuf

section .text
_start:
mov esi, msg
looptop:
    mov al, [esi]
    test al, al
    jz done
    inc esi
    mov ah, al
    and al, 0Fh
    cmp al, 9
    jna skip
    add al, 7
skip:
    add al, '0'
    mov [hexbuf + 3], al
    mov al, ah
    shr al, 4
    and al, 0Fh
    cmp al, 9
    jna skip2
    add al, 7
skip2:
    add al, '0'
    mov [hexbuf + 2], al
    mov edx, hexbuflen
    mov ecx, hexbuf
    mov ebx, 1
    mov eax, 4
    int 80h
    jmp looptop
done:
    push 10
    mov ecx, esp
    mov edx, 1
    mov ebx, 1
    mov eax, 4
    int 80h
    add esp, 4

    mov eax, 1
    xor ebx, ebx
    int 80h
;----------------- 
```````

# c++ - 创建一个必须由它使用 C++ 的类访问的列表

> ID：12834532
> 
> 赞同：2
> 
> 时间：2012-10-11T07:39:28.873
> 
> 标签：c++, allegro5

我需要创建一个全局列表，我已初始化的一组类可以访问和使用该列表，但需要包含这些类才能创建列表。有任何想法吗？

例子：

```
class Game_object
{
  public:
  ~Game_object()
  void Update();
  void Render();
  //Other stuff
};

class Explosion
{
    Stuff
};

class Player
{
      Stuff
}; 
```

所有这些类都需要访问下面的列表，即在另一个头文件中，以及我的 int main

```
std::list <Game_object *> Objects;
std::list <Explosion *> Explosions; 
```

等等。

我的想法是我可以在 Game_object 的析构函数中创建一个爆炸实例，并将其放在列表中。这样我就可以让它在 main 内部渲染和更新

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:45:08.343

你的意思是`Game_object`应该持有一个`std::list<Explosion *>`并且`Explosion`应该持有一个`std::list<Game_object *>`？这听起来像是[前向声明](http://en.wikipedia.org/wiki/Forward_declaration)的工作：

```
#include <list>

class Game_object;
class Explosion;

class Game_object
{
    std::list<Explosion *> l;
};

class Explosion
{
    std::list<Game_object *> l;
}; 
```

这是有效的，因为您的列表包含*指针*，而不是实际对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:28:35.140

也许访问这些列表不是一个好主意，但是如果您需要这种访问权限，您可以通过多种方式来实现，最简单的是全局变量：

```
// forward declare Game_object:
class Game_object;

// Declare lists:
typedef std::list <Game_object *> ListObjects;
typedef std::list <Explosion *> ListExplosions;
ListObjects Objects;
ListExplosions Explosions;

class Game_object
{
    public:
    void Update()
    {
        // Update Objects...
        for (ListObjects::const_iterator O = Objects.begin(); O != Objects.end(); ++O)
        { ... };
        // Update Explosions...
        for (ListExplosions::const_iterator E = Explosions.begin(); E != Explosions.end(); ++E)
        { ... };
    };
    void Render()
    {
        // Render Objects...
        for (ListObjects::const_iterator O = Objects.begin(); O != Objects.end(); ++O)
        { ... };
        // Render Explosions...
        for (ListExplosions::const_iterator E = Explosions.begin(); E != Explosions.end(); ++E)
        { ... };
    };
    //Other stuff
}; 
```

这不是一个好主意，全局变量可能很麻烦，更糟糕的是全局列表可以被其他一些类访问并更改其内容，而另一个类试图同时更改内容；但如果你不使用线程，它就不会那么麻烦。

其他方法可能是创建一个经理。经理必须是列表的所有者，并且需要方法`Setters`、方法`Getters`和`Deleters`方法。要更新列表的内容，您可以将管理器的引用传递给渲染器/更新器，并从管理器获取对列表的引用：

```
class ObjectManager
{
public:
    typedef std::list <Game_object *> ListObjects;

    void AddObject(const ObjectStuff &os)
    { ... };

    const ListObjects &GetObjects()
    { return Objects; };

private:
    ListObjects Objects;
}

class ExplosionManager
{
public:
    typedef std::list <Explosion *> ListExplosions;

    void AddExplosion(const ExplosionStuff &es);
    { ... };

    const ListExplosions &GetExplosions()
    { return Explosions; };

private:
    ListExplosions Explosions;
}

void Render(const ObjectManager &om)
{
    // Ask ObjectManager for the object list
}

void Render(const ExplosionManager &em)
{
    // Ask ExplosionManager the explosion list
} 
```

上面的代码是一个幼稚且非常简单的近似值，但仅用于示例目的。上述方法的优点是列表仅由所有者对象修改，如果需要从管理器中取出列表，则以只读方式提供，并且如果您使用线程，添加锁和在管理器方法中解锁，以避免在使用列表时进行修改。

* * *

这没有被问到，但我认为值得一说：避免将对象指针存储到容器中并通过对象实例更改存储类型可能是个好主意：

```
std::list <Game_object *> VS std::list <Game_object> 
```

当您使用指针时，您必须注意对象的分配和解除分配，如果列表是全局的，您将需要一个公共`Close`方法来解除分配由存储在列表中的指针管理的所有内存，如果列表是拥有的通过某些对象，您需要对对象析构函数执行相同的过程。

但是，如果您要存储对象实例，则列表析构函数会在其生命周期结束时释放所有存储的对象，代码更清晰且更易于维护。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:55:20.593

在头文件（例如 mylists.h）中声明您的列表，如下所示：

```
#include <list>
#include <myGameClasses.h>

class Game_object;
class Explosion;

extern std::list<Game_object*> Objects;
extern std::list<Explosion*> Explosions;
// And so for other lists 
```

使用 extern 将为您的列表创建一个*引用声明*。然后，您应该在源文件（例如 mylists.cpp）中创建*定义声明：*

```
#include "mylists.h"

std::list<Game_object*> Objects;
std::list<Explosion*> Explosions;
// And so for other lists 
```

你为什么要这样做？这是为了防止在包含您的标头 (mylists.h) 时出现多个声明。然后只需要一个声明，在这种情况下，在源文件 (mylists.cpp) 中。

为了能够使用列表，只需包含头文件。

此外，在 mylists.h 中，还需要对类进行*前向声明*：

```
class Game_object;
class Explosion; 
```

这是为了避免未声明的标识符错误。

# winforms - C# 下载管理器（线程、线程池、BeginInvoke、BackgroundWorker）

> ID：12834545
> 
> 赞同：0
> 
> 时间：2012-10-11T07:40:02.147
> 
> 标签：winforms, multithreading, backgroundworker, threadpool, begininvoke

所以就在这里。我想做一些测试下载管理器（winforms），并想使用4种不同的方式（管理器）：
1\. BackGroundWorker manager 2\. Thread manager 3\. ThreadPool manager 4\. Delegate.BeginInvoke manager
从ftp下载。当然让它异步进行多下载，当我想添加新的下载时，以前的下载可能仍然有效。所以，我的问题是架构。我想这就像：
1）创建接口IDownloadManager。这里 - 枚举状态（空闲、下载、下载、取消、错误下载）、一些事件（DownloadStarted、DownloadComleted、DownloadCancelled、DownloadStopped）、Percent 方法、Start 方法。
2) ManagerFactory 类，创建选定的 Manager。
3) IManagerFactory 接口，用于处理创建 Manager
4) ManagerHost 类，存放当前管理者的所有信息。

谁能告诉我，我的架构错误在哪里？给我一些建议，建议等。感谢您的阅读和帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T09:55:28.093

看起来不错。希望您设计的架构能够运行良好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-13T12:27:33.533

请记住，对所有这些“4 种不同方式”的取消或进展的支持最终会随着 BackgroundWorker 的实施而结束。backgroundworker 结合了线程池和同步上下文的使用来实现 UI 目的。

# silverlight - WP7 应用程序中的字体大小和 MediaPlayer 音量

> ID：12834546
> 
> 赞同：0
> 
> 时间：2012-10-11T07:40:03.617
> 
> 标签：silverlight, windows-phone-7, media-player, font-size

我有几个关于为`WP7`. 这些都是有效的，因为我想大多数 Windows Phone 开发人员都没有实际设备。所以，问题是，

1.  文本的最小字体大小应该是多少，以便在设备上可读？
2.  我正在使用`XNA`'s 播放背景音乐`MediaPlayer`。应该设置什么级别的音量，我正在寻找一个拇指规则，以便它足够听得见但不会隐藏游戏声音。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:44:17.433

您可以使用模拟器找出这些东西。使用缩放来更改其大小。确实建议在发布之前在设备上试用该应用程序。

# asp.net - 如何在 ASP.NET 4.0 中分块发送视频？

> ID：12834548
> 
> 赞同：1
> 
> 时间：2012-10-11T07:40:03.533
> 
> 标签：asp.net, html, c#-4.0

我在我的 ASP.NET 4.0 应用程序中使用 Html 5 视频。但问题是，当我使用大视频文件时，直到下载完成，视频才会播放。如何在 ASP.NET 中分块发送此视频。任何例子将不胜感激？

# javascript - 恢复音频电话间隙

> ID：12834549
> 
> 赞同：0
> 
> 时间：2012-10-11T07:40:11.860
> 
> 标签：javascript, cordova

嘿伙计们，我正在使用媒体 phonegap api 来播放、暂停和停止音频。到目前为止，我设法播放，停止和暂停，但我不知道如何恢复请帮助我

下面是我写到现在的代码

```
 var my_media = null;
    var mediaTimer = null;
     var pausePos = 0;
    var counter=0;
    var playing=false;

   function playAudio(src) {
// Create Media object from src
my_media = new Media(src, onSuccess, onError);

// Play audio

 my_media.play();

  // get audio duration
var duration =  my_media.getDuration();

// set slider data
if( duration > 0 ){
    $('#slider').attr( 'max', Math.round(duration) );
    $('#slider').slider('refresh');
}

// Update my_media position every second
if (mediaTimer == null) {
    mediaTimer = setInterval(function() {
        // get my_media position
        my_media.getCurrentPosition(
            // success callback
            function(position) {
                if (position > -1) {
                    setAudioPosition(position);
                }
            },
            // error callback
            function(e) {
                console.log("Error getting pos=" + e);
                setAudioPosition("Error: " + e);
            }
        );
    }, 1000);
} 
```

}

```
 /* pause audio */
   function pauseAudio() {
     if (my_media) {
    my_media.pause();
     }
    }

function resumeAudio()
   {

 }

 /* stop audio */
    function stopAudio() {
if (my_media) {
    my_media.stop();
    playing = false;
    my_media.release();
     }
clearInterval(mediaTimer);
mediaTimer = null;
pausePos = 0;
 }

    // onSuccess Callback

   function onSuccess() {
console.log("playAudio():Audio Success");
  }

  // onError Callback

   function onError(error) {
       alert('code: '    + error.code    + '\n' +
    'message: ' + error.message + '\n');
 }

    // Set audio position

   function setAudioPosition(position) {
          pausePos = position;
          position = Math.round(position);
          $('#slider').val(position);
         $('#slider').slider('refresh');
     }

   function player(id)
     {
         //alert(id);
         playAudio("/sdcard/MuseumCache/"+id+"/"+id+".mp3");
          //alert("end");
    } 
```

请帮我写简历功能。他们说 media.play() 播放并继续播放音频文件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-07T22:37:44.650

好的，我喜欢解决方案：Phonegap 的文档很糟糕......解释得不好，所以他们的例子很草率

关键是：每次播放时都不能重新初始化媒体，否则它会从头开始

```
var my_media == null;
function playAudio(url) {
          if (my_media === null){
                // so only is your media handler is empty you initialiaze it otherwise you just play
                            my_media = new Media(url, function() {
                                console.log("Audio Success");
                            }, function(err) {
                                console.log("Audio Error");
                            });
          }
          my_media.play();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-15T17:38:32.583

Francesco 您的解决方案仅在您要播放一个声音时才有效，如果您在同一页面上有多个声音，则每个播放器都将获得第一个媒体的属性...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:06:57.413

根据 PhoneGap **media.play**的文档启动或**恢复**音频文件。

```
media.play: Start or resume playing audio file. 
```

[你可以在这里](http://docs.phonegap.com/en/1.0.0/phonegap_media_media.md.html)找到链接

# web-applications - 设置远程管理员访问 web2py 进程的最简单方法

> ID：12834550
> 
> 赞同：5
> 
> 时间：2012-10-11T07:40:14.453
> 
> 标签：web-applications, web2py

好的[，我的问题](https://stackoverflow.com/questions/12830808/accessing-the-web2py-admin-interface-via-wsgi)应该更重要。底线是：我有一个远程 linux 机器，我在它上面启动了 web2py - 它提示我访问 localhost 上的端口 8000。

但是，当我尝试远程访问该端口时，我无法通过 http 或 https 建立连接。

那么问题就变成了，提供对 web2py 的远程管理员访问的最快最简单的方法是什么？我不想设置 Apache 和 mod_proxy（尽管我确实设法设置了它），我不想配置 Apache 以使用这个 wsgi 包装器。如果这些是我唯一的两个选择，那么就这样吧，我会努力完成它。

但我宁愿用某种允许安全远程访问的选项启动 web2py 并完成它。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-12T19:42:45.460

由于安全原因，除非您使用安全通道，否则 web2py 会禁用对管理应用程序的远程访问，即。HTTPS。你需要做的就是设置它。

做你想做的*最短的方法是，*

1.  如果您还没有证书文件，请先生成证书文件

    `openssl genrsa -out server.key 2048`

    `openssl req -new -key server.key -out server.csr`

    `openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt`

2.  将 server.key 和 server.crt 文件复制到 web2py 根文件夹。

3.  然后使用证书文件启动 web2py 应用程序

    `python web2py.py -a 'AdminPwd' -c server.crt -k server.key -i 0.0.0.0 -p 8000`

4.  然后去浏览器打开，请注意**https**很重要

    `https://IpAddr:8000/admin/default/site`

这应该会打开远程机器上的管理应用程序。

做你想做的*最好的方法是，*

使用[这个漂亮的脚本 (setup-web2py-nginx-uwsgi-ubuntu.sh)](https://raw.githubusercontent.com/web2py/web2py/master/scripts/setup-web2py-nginx-uwsgi-ubuntu.sh)在 ubuntu 上使用 uWSGI 设置带有 web2py 的 nginx。该脚本将为您设置所需的 https 和 http 通道。

***上述方法旨在用于开发环境而不是生产环境***

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-24T18:44:33.853

最简单的方法是使用 SSH 端口转发。这使您可以像本地主机一样访问它，并且它是通过加密连接进行的。

格式：

```
$ ssh -L localhostport:localhost:remoteport remoteip 
```

示例：这会将远程端口 8000（web2py 默认）转发到 localhost:80

```
$ ssh -L 80:localhost:8000 remoteip 
```

# android - android : 如何知道布局设置完成调用 getLocalVisibleRect

> ID：12834551
> 
> 赞同：0
> 
> 时间：2012-10-11T07:40:14.303
> 
> 标签：android, android-layout

我正在调用 getLocalVisibleRect() 并且它返回全 0，我从其他问题中了解了原因：

“在使用getLocalVisibleRect之前需要等到android完成布局设置，如果你在OnCreate中调用它就不起作用”。

我的问题是我怎么知道布局已经完成。我有一个线性布局，我正在尝试在其上绘制一些对象。我不想定义任何 onclick 监听器。我希望在布局设置完成后立即绘制项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T21:36:51.900

> 我的问题是我怎么知道布局已经完成

查看[ViewTreeObserver](http://developer.android.com/reference/android/view/ViewTreeObserver.html)。

每个视图都有一个，并且它有一堆回调接口，当绘制完成或布局完成时将被调用（参见[ViewTreeObserver.OnGlobalLayoutListener](http://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener.html)）

像这样的东西：

```
ViewTreeObserver vto = myView.getViewTreeObserver();
vto.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {
     void onGlobalLayout() {
       //your callback code
     }
}); 
```

# entity-framework - Entity Framework 5 代码迁移

> ID：12834558
> 
> 赞同：0
> 
> 时间：2012-10-11T07:40:45.393
> 
> 标签：entity-framework

1.  有关当前数据库状态的存储信息（应用了哪些迁移）？我想它可以是“dbo.__MigrationHistory”表或者这个表只是为了记录目的？

2.  如果我启用迁移，添加迁移并更新我的数据库。之后，我将代码签入到 SVN，另一位开发人员将其签出。另一个开发人员必须做什么来创建/更新他自己的数据库？

我看到这样的选择：

1) 立即调用 Update-Database 命令。

2) 从头开始​​做所有事情（启用-迁移、添加-迁移、更新-数据库）。

3) 除了跳过 Add-Migration 步骤之外的所有操作（它已经存在，并且为每个新开发人员再次添加它似乎很奇怪）。

我的哪个假设是正确的，或者如果没有人是正确的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:52:55.420

1.  要检索哪些迁移已应用于数据库，您可以使用`Get-Migrations`命令 ( [reference](http://coding.abel.nu/2012/03/ef-migrations-command-reference/#Get-Migrations) )。

2.  一切都取决于数据库的创建方式以及您使用的初始化程序。 [如果你不熟悉这些，这篇文章值得一读。](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm)

    *   使用`DropCreateDatabaseAlways`初始化程序时，您实际上不需要关心更新数据库，因为您的数据库将在每次应用程序启动时被删除并重新创建。

    *   使用`DropCreateDatabaseWhenModelChanges`初始化程序时，如果 EF 在应用程序启动时检测到模型已更改，您的数据库将被删除然后重新创建。

    *   使用`CreateDatabaseIfNotExists`初始化程序或未定义初始化程序时，如果数据库不存在，则将创建它。如果数据库已经存在并且您添加了迁移，则您（以及每个检索您的代码的开发人员）需要使用该`Update-Database`命令来更新数据库。

    *   Code-First Migrations: 引入了一个新的初始化程序`MigrateDatabaseToLatestVersion`，该初始化程序自动将数据库更新为定义的最新迁移。请参阅此页面的最后一部分：http: [//msdn.microsoft.com/en-us/data/jj591621](http://msdn.microsoft.com/en-us/data/jj591621)。

# three.js - three.js - 未捕获的类型错误：无法调用未定义的方法“makeRotationAxis”

> ID：12834561
> 
> 赞同：0
> 
> 时间：2012-10-11T07:40:58.207
> 
> 标签：three.js

```
 var rotationMatrix = new THREE.Matrix4(); 
                var position = new THREE.Vector3( 1000, 1000, 0 );
                var angle = Math.PI / 4;
                var axis = new THREE.Vector3( 1, 0.5, 0 ).normalize();

            function render() {

                /** Adds a rotation of rad to the obj's rotation about world's axis */                      
                rotationMatrix.makeRotationAxis( axis, angle ).multiplyVector3( position );
                    tubeMesh.matrix = rotationMatrix;                   
                    tubeMesh.rotation.getRotationFromMatrix(rotationMatrix, tubeMesh.scale);
                        renderer.render( scene, camera );
                    } 
```

我使用了这些 URL 中的代码：

*   [GitHub上的问题](https://github.com/mrdoob/three.js/issues/2185)
*   [关于stackoverflow的问题](https://stackoverflow.com/questions/10941828/how-fast-is-the-jscript-garbage-collector-three-js-matrix-rotations)

我收到错误**“Uncaught TypeError: Cannot call method 'makeRotationAxis' of undefined”**。这里`rotationMatrix`定义为`THREE.Matrix4()`，与上面链接中给出的代码相同。我正在使用three.js 库的r51。

# list - 要列出的方案编号

> ID：12834562
> 
> 赞同：2
> 
> 时间：2012-10-11T07:41:00.423
> 
> 标签：list, scheme, r5rs

我需要一个用 scheme 编写的程序的子例程，它接受一个整数，比如 34109，并将其放入一个包含元素 3、4、1、0、9 的列表中。整数可以是任意长度。有人对此有诀窍吗？我考虑过在每个地方都使用模数，但我认为它不应该那么复杂。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T14:30:21.900

我能想到的最简单的方法是使用算术运算和一个[命名`let`](http://people.csail.mit.edu/jaffer/r5rs_6.html)来实现尾递归：

```
(define (number->list num)
  (let loop ((num num)
             (acc '()))
    (if (< num 10)
        (cons num acc)
        (loop (quotient num 10)
              (cons (remainder num 10) acc))))) 
```

或者，您可以使用字符串操作来解决此问题：

```
(define char-zero (char->integer #\0))

(define (char->digit c)
  (- (char->integer c) char-zero))

(define (number->list num)
  (map char->digit
       (string->list (number->string num)))) 
```

这可以压缩成一个函数，但我相信如果我们将问题分成上面的子部分会更容易理解。

```
(define (number->list num)
  (map (lambda (c) (- (char->integer c) (char->integer #\0)))
       (string->list
        (number->string num)))) 
```

无论如何，结果如预期：

```
(number->list 34109)
> '(3 4 1 0 9) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T10:43:51.060

像这样的东西：

```
(define (num2list-helper num lst)
  (cond ((< num 10) (cons num lst))
        (else (num2list-helper (floor (/ num 10)) (cons (modulo num 10) lst)))))

(define (num2list num)
  (num2list-helper num '()))

(num2list 1432) 
```

正如 itsbruce 评论的那样，您可以在主函数中隐藏辅助函数：

```
(define (num2list num)
  (define (num2list-helper num lst)
    (cond ((< num 10) (cons num lst))
          (else (num2list-helper (floor (/ num 10)) (cons (modulo num 10) lst)))))

    (num2list-helper num '()))

(num2list 1432) 
```

待续...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T20:55:09.473

我不喜欢手动循环，所以这里有一个基于展开的解决方案（首先加载[SRFI 1](http://srfi.schemers.org/srfi-1/srfi-1.html)和[SRFI 26](http://srfi.schemers.org/srfi-26/srfi-26.html)）：

```
(define (digits n)
  (unfold-right zero? (cut modulo <> 10) (cut quotient <> 10) n)) 
```

不过，这会返回一个 0 的空列表。如果您希望它返回`(0)`，我们添加一个特殊情况：

```
(define (digits n)
  (case n
   ((0) '(0))
   (else (unfold-right zero? (cut modulo <> 10) (cut quotient <> 10) n)))) 
```

当然，您可以将其推广到其他基础。在这里，我使用可选参数来实现它，所以如果你不指定基数，它默认为 10：

```
(define (digits n (base 10))
  (case n
   ((0) '(0))
   (else (unfold-right zero? (cut modulo <> base) (cut quotient <> base) n)))) 
```

不同的 Scheme 实现对可选参数使用不同的语法；以上使用 Racket 样式（和/或[SRFI 89](http://srfi.schemers.org/srfi-89/srfi-89.html)样式）语法。

# android - 在启动器中没有图标的市场中提供“打开”

> ID：12834567
> 
> 赞同：1
> 
> 时间：2012-10-11T07:41:36.980
> 
> 标签：android, android-intent, icons, google-play, launcher

我的应用程序是一个小部件，如果没有主启动器活动，人们在安装应用程序后无法从市场启动它；“打开”按钮只是没有出现。我怎样才能让人们从市场打开应用程序，以便我可以告诉他们该应用程序是一个小部件，但我不希望我的应用程序出现在启动器中？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:30:46.273

[这](https://stackoverflow.com/questions/6990916/android-launching-widget-manager-from-market)似乎是一个重复的问题，在线程 Nikolay Elenkov 中说你可以创建一个如下所示的主要活动，然后它不会显示在启动器中，但当用户选择“打开”按钮时它仍然可以启动。在活动中，您可以告诉用户如何安装您的小部件。

```
 <activity android:name="MainActivity">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
        <!-- don't show the app icon in the launcher
            <category android:name="android.intent.category.LAUNCHER" />
        -->
        </intent-filter>
    </activity> 
```

# python - 如何将 Pandas DatetimeIndex 相应地转换为字符串

> ID：12834568
> 
> 赞同：10
> 
> 时间：2012-10-11T07:41:36.647
> 
> 标签：python, pandas

我定义了一个 DatetimeIndex 如下。

```
>>> date_rng = pandas.date_range('20060101','20121231',freq='D')

>>> type(date_rng)
<class 'pandas.tseries.index.DatetimeIndex'>
>>> date_rng[0]
<Timestamp: 2006-01-01 00:00:00> 
```

'date_rng' 中的每个元素都是'Timestamp'，如何将其转换为如下所示的字符串系列？

```
>>> pandas.Series(['2006-01-01','2006-01-02','2006-01-03'])
0    2006-01-01
1    2006-01-02
2    2006-01-03 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-11T07:51:56.107

```
>>> date_rng = pd.date_range('20060101','20060105',freq='D')
>>> pd.Series(date_rng.format())

0    2006-01-01
1    2006-01-02
2    2006-01-03
3    2006-01-04
4    2006-01-05 
```

# sharepoint - SharePoint TaxonomyFieldControl 无法呈现分类选择器？

> ID：12834573
> 
> 赞同：1
> 
> 时间：2012-10-11T07:41:59.773
> 
> 标签：sharepoint

我在`TaxonomyFieldControl`页面布局中添加了一个。但是控件不能呈现分类选择器，而只是呈现与控件相关的字段名称。

有趣的是：如果我在编辑表单中编辑属性，效果很好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:02:47.993

您可能需要添加对分类选择器控件所在的程序集的引用到页面布局，例如：

```
<%@ Register Tagprefix="Taxonomy" Namespace="Microsoft.SharePoint.Taxonomy" Assembly="Microsoft.SharePoint.Taxonomy, Version=14.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c" %> 
```

[检查此链接以获取更多详细信息。](http://blog.degree.no/2011/01/sharepoint-2010-adding-taxonomyfieldcontrol-to-custom-page-layout/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-24T22:10:49.840

此 OOB 用户控件有缺陷且无用。

将 TaxonomyPicker.ascx 重命名为 TaxonomyPicker.ascx.buggy。该文件的位置是：

%CommonProgramFiles%\Microsoft Shared\Web 服务器扩展\14\TEMPLATE\CONTROLTEMPLATES\TaxonomyPicker.ascx

您可以手动执行此操作，也可以使用 PowerShell。

```
$taxonomyPicker = "C:\Program Files\Common Files\microsoft shared\Web Server Extensions\14\TEMPLATE\CONTROLTEMPLATES\TaxonomyPicker.ascx"
If (Test-Path $taxonomyPicker)
{
   Move-Item -Path $taxonomyPicker -Destination $taxonomyPicker".buggy" -Force
} 
```

# javascript - 鼠标悬停插件上的mootools图像放大

> ID：12834577
> 
> 赞同：1
> 
> 时间：2012-10-11T07:42:15.297
> 
> 标签：javascript, animation, mootools

我正在寻找一个 mootools 插件，它会在鼠标悬停在当前图像上时放大图像。因此，当用户将鼠标悬停在图像上时，用户会感觉图像被放大了。[http://highslide.com/](http://highslide.com/)非常接近我的要求。这是我找到的示例[http://jsfiddle.net/Jmeks/2/](http://jsfiddle.net/Jmeks/2/)。我需要完全像这样使用具有一些 mootools 效果的 mootools。非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T09:24:58.193

[这个](http://jsfiddle.net/Jmeks/29/)小提琴对你有用吗？编辑：我已经更改了链接，以便它根据需要使用转换 css 属性。

**JavaScript：**

```
window.myFx = new Fx({
        duration: 300,
        transition: Fx.Transitions.Sine.easeOut
});
myFx.set = function(value) {
        var style = "scale(" + (value) + ")";
        $('content-block').setStyles({
            "-webkit-transform": style,
            "-moz-transform": style,
            "-o-transform": style,
            "-ms-transform": style,
            transform: style
        });
    }
$('content-block').addEvent('mouseover', function() {
    myFx.start(1,1.4);
});
$('content-block').addEvent('mouseout', function() {
    myFx.start(1.4,1);
}); 
```

# java - 远程保存上传的图像 - Java 和 Tomcat

> ID：12834579
> 
> 赞同：0
> 
> 时间：2012-10-11T07:42:25.813
> 
> 标签：java, tomcat, image-uploading

这些天我一直在努力解决这个问题，也许你肯定比我知道的更多，你可以帮助我....然后我尝试更好地解释。

我有一个 javascript 文件，它通过库 d3.js 构建 html 代码页并用其他代码替换它，每个部分都有不同的功能......该页面不会收费（Ajax）。在某些时候，我需要允许用户将图像上传到他们的个人资料图片，所以我确保 html 代码诱饵

```
<input type="file" id="file"> 
```

和一个

```
<input type = "button" onclick = "javaScript: performAjaxSubmit ()"> 
```

PerformAjaxSubmit 函数 () 通过 xmlHttpRequest 级别 2 将数据发送到 Java Servlet，据我了解，它不仅可以发送字符串，还可以发送更复杂的内容，例如文件。

功能如下：

```
function performAjaxSubmit() {
    var sampleFile = document.getElementById("file").files[0];
    var formdata = new FormData();
    formdata.append("sampleFile", sampleFile);
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "http://127.0.0.1:8080/Prova/Upload", true);
    xhr.send(formdata);
    xhr.onload = function(e) {
        if (this.status == 200) {
            alert(this.responseText);
        }
    };
} 
```

Servlet 中的代码是这样的：

```
protected void doPost(HttpServletRequest request,
        HttpServletResponse response) throws ServletException, IOException {
    // Check that we have a file upload request
    System.out.println(request.getAttribute("username"));
      isMultipart = ServletFileUpload.isMultipartContent(request);
      response.setContentType("text/html");
      java.io.PrintWriter out = response.getWriter( );

      DiskFileItemFactory factory = new DiskFileItemFactory();
      // maximum size that will be stored in memory
      factory.setSizeThreshold(maxMemSize);
      // Location to save data that is larger than maxMemSize.
      factory.setRepository(new File("C:/Users/Marty/workspaceJEE/Prova/WebContent/imm/utenti"));
      filePath="C:/Users/Marty/workspaceJEE/Prova/WebContent/imm/utenti";
      // Create a new file upload handler
      ServletFileUpload upload = new ServletFileUpload(factory);
      // maximum file size to be uploaded.
      upload.setSizeMax( maxFileSize );

      try{ 
      // Parse the request to get file items.
      List fileItems = upload.parseRequest(request);

      // Process the uploaded file items
      Iterator i = fileItems.iterator();

      while ( i.hasNext () ) 
      {
         FileItem fi = (FileItem)i.next();
         if ( !fi.isFormField () )  
         {
            // Get the uploaded file parameters
            String fieldName = fi.getFieldName();
            String fileName = fi.getName();
            String contentType = fi.getContentType();
            boolean isInMemory = fi.isInMemory();
            long sizeInBytes = fi.getSize();
            // Write the file
            if( fileName.lastIndexOf("\\") >= 0 ){
               file = new File( filePath +"/"+ 
               fileName.substring( fileName.lastIndexOf("\\"))) ;
            }else{
                System.out.println(filePath + 
               fileName.substring(fileName.lastIndexOf("\\")+1));
               file = new File( filePath +"/"+  
               fileName.substring(fileName.lastIndexOf("\\")+1)) ;
            }
            fi.write( file ) ;
         }
      }

   }catch(Exception ex) {
       System.out.println(ex);
   }
} 
```

现在（对不起，如果问题有点长）它可以工作，但问题是图像保存在我为我提供命令的路径中：

```
factory.setRepository(new File("C:/Users/Marty/workspaceJEE/Prova/WebContent/imm/utenti")); 
```

那么如何远程保存呢？也就是说，一旦我加载了这样的 Altrevista 的站点，我如何确保它们不是 pià 保存到 C 中，而是保存在项目的文件夹中？

我希望我解释了。我正在使用 Apache Tomcat v7.0。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:56:09.603

您可以使用[ServletContext.getRealPath](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html#getRealPath%28java.lang.String%29)

此代码返回`<context root>/upload`（取决于您的部署配置）

```
request.getSession().getServletContext().getRealPath("/upload") 
```

# android - 后按后在列表视图中重复值

> ID：12834580
> 
> 赞同：3
> 
> 时间：2012-10-11T07:42:26.547
> 
> 标签：android, android-listview, listactivity, listadapter

我有一个应用程序，它有两个活动。当在主活动中按下一个按钮时，它会显示自定义的列表视图，然后我按下硬后退按钮并转到我的应用程序的主页。

然后我再次按下相同的按钮并转到列表视图，它显示列表视图中的重复值。

请问大家有什么意见吗？？？

```
 CookList = new ArrayList<HashMap<String, String>>();
    try {
        url = new URI(cookUri);
        List<DataModels> list1 = new ArrayList<DataModels>();
        CookListServer cookServer = new CookListServer();
        StringBuilder responseString =  cookServer.CookConnect(url, "hi");
        System.out.println("responseString---------"+responseString);

        for(int i=0; i< itemId.size(); i++){
            HashMap<String, String> Cook = new HashMap<String, String>();

            Cook.put("ItemId", itemId.get(i));
            System.out.println("itemId--------"+itemId.get(i));
            Cook.put("ItemName", itemName.get(i));
            Cook.put("ItemQty", itemQty.get(i));
            CookList.add(Cook);
            list1.add(get(i));
        }
        adapter = new MySimpleArrayAdapter(context, CookList, R.layout.cooklist_item, list1);
        setListAdapter(adapter);

    } catch (URISyntaxException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
 }

private DataModels get(int s) {
    return new DataModels(s);
}

@Override
public void onResume() {
    super.onResume();
    adapter.notifyDataSetChanged();
}

@Override
protected void onDestroy() {
    super.onDestroy();
}

// Adapter to list the Albums
public class MySimpleArrayAdapter extends ArrayAdapter<HashMap<String, String>> implements SectionIndexer {
    private final Context context;
    private final ArrayList<HashMap<String, String>> values;
    List<DataModels> modellist;

    public MySimpleArrayAdapter(Context context, ArrayList<HashMap<String, String>> values, int layout, List<DataModels> modellist) {
        super(context, R.layout.cooklist_item, values);
        this.context = context;
        this.values = values;
        this.modellist = modellist;
    }

    private final class ViewHolder {
        public TextView Nametext;
        public TextView Qntytext;
        public Button prepareButton;
    }

    private LayoutInflater mLayoutInflater = null;
    @Override
    public View getView(final int position, View convertView, ViewGroup parent) {
        final ViewHolder viewHolder;
        if (convertView == null) {
            if (mLayoutInflater == null) {
                mLayoutInflater = LayoutInflater.from(context);
            }

            convertView = mLayoutInflater.inflate(R.layout.cooklist_item, null);

            viewHolder = new ViewHolder();
            viewHolder.Nametext = (TextView) convertView.findViewById(R.id.label);
            viewHolder.Qntytext = (TextView) convertView.findViewById(R.id.textView1);
            viewHolder.prepareButton = (Button) convertView.findViewById(R.id.prepareButton1);

            convertView.setTag(viewHolder);
        } else {
            viewHolder = (ViewHolder) convertView.getTag();
            ((ViewHolder) convertView.getTag()).prepareButton.setTag(modellist.get(position));
        }

        final HashMap<String, String> cooklist = values.get(position);
        final ViewHolder holder = (ViewHolder) convertView.getTag();

        final String ItemId = cooklist.get("ItemId");
        final String ItemName = cooklist.get("ItemName");
        final String ItemQty = cooklist.get("ItemQty");

        System.out.println("ItemId---------"+ItemId);
        System.out.println("ItemName---------"+ItemName);
        System.out.println("ItemQty---------"+ItemQty);

        holder.Nametext.setText(ItemName);

        holder.Qntytext.setText(ItemQty);

        registerForContextMenu(convertView);

        holder.prepareButton.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                DataModels element = (DataModels) viewHolder.prepareButton.getTag();
                holder.prepareButton.setEnabled(false);
            }
        });
        return convertView;
    }

    @Override
    public int getPositionForSection(int arg0) {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public int getSectionForPosition(int position) {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public Object[] getSections() {
        // TODO Auto-generated method stub
        return null;
    }

} 
```

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T04:33:01.930

我有一个解决方案

```
@Override
protected void onDestroy() {
    itemId.clear();
    itemName.clear();
    itemQty.clear();
    super.onDestroy();
} 
```

谢谢....

# php - 在哪里可以找到 PHP 的错误日志文件？

> ID：12834583
> 
> 赞同：33
> 
> 时间：2012-10-11T07:42:30.803
> 
> 标签：php, logging, centos, suphp

在哪里可以找到错误日志文件？

我需要检查它们以解决安装[suPHP](https://wiki.archlinux.org/title/SuPHP)后显示的内部服务器错误。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2015-03-31T14:26:02.523

您可以使用[lsof](https://en.wikipedia.org/wiki/Lsof)在系统上查找打开的日志文件。lsof 只是为您提供所有打开文件的列表。

对“log”使用[grep](https://en.wikipedia.org/wiki/Grep) ...再次对“php”使用grep（**如果文件名包含字符串“log”和“php”，如“php_error_log”，并且您是root用户，您将在不知道配置的情况下找到文件**）。

```
lsof | grep log

... snip
gmain     12148 12274       user   13r      REG              252,1    32768     661814 /home/user/.local/share/gvfs-metadata/home-11ab0393.log
gmain     12148 12274       user   21r      REG              252,1    32768     662622 /home/user/.local/share/gvfs-metadata/root-56222fe2.log
gvfs-udis 12246             user  mem       REG              252,1    55384     790567 /lib/x86_64-linux-gnu/libsystemd-login.so.0.7.1
==> apache 12333             user  mem       REG              252,1    55384     790367 /var/log/http/php_error_log**
        ... snip 
```

```
lsof | grep log | grep php

**apache 12333             user  mem       REG              252,1    55384     790367 /var/log/http/php_error_log**
... snip 
```

另请参阅这篇关于查找打开的日志文件的文章：*[在 Linux 系统上查找打开的日志文件](http://slash4.de/blog/howto/find-log-file-location-of-linux-process-with-lsof.html)*

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-10-11T08:26:45.560

这个对我有用。我们如何将所有 PHP 错误记录到日志文件中？

只需将以下行添加到文件*/etc/php.ini*以将错误记录到指定文件 - 文件*/var/log/php-scripts.log*

```
vi /etc/php.ini 
```

修改*error_log*指令：

```
error_log = /var/log/php-scripts.log 
```

确保*display_errors*设置为 Off（对最终用户没有错误）：

```
display_errors = Off 
```

保存并关闭文件。重启网络服务器：

```
/etc/init.d/httpd restart 
```

如何将错误记录到 syslog 或 Windows Server 事件日志？

修改*error_log*如下：

```
error_log = syslog 
```

我们如何查看日志？

使用 ssh 登录或使用 SFTP 下载日志文件 /var/log/php-scripts.log：

```
sudo tail -f /var/log/php-scripts.log 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-05-12T04:47:07.337

在安装了[cPanel的](https://en.wikipedia.org/wiki/CPanel)[CentOS](https://en.wikipedia.org/wiki/CentOS)上，我的日志位于：

```
/usr/local/apache/logs/error_log 
```

观看：`tail -f /usr/local/apache/logs/error_log`

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-10-11T07:44:28.140

这取决于您使用的操作系统和网络服务器。

在 Linux 和 Apache 上，您可以在文件夹*/var/log/apache2/*中找到 Apache *error_log*。

 ** * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-03-10T02:32:35.570

我正在使用带有**Apache的****CentOS 6.6**，对我来说，错误日志文件位于：

 **```
/usr/local/apache/log 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-05-11T11:38:38.440

这绝对会帮助你，

*[启用 PHP 错误记录](https://davidwinter.me/enable-php-error-logging/)*

**或者**

在*php.ini* (`vim /etc/php.ini` *或* `sudo vim /usr/local/etc/php/7.1/php.ini`)

```
display_errors = Off

log_errors = On

error_log = /var/log/php-errors.log 
```

制作日志文件，并可由用户*www-data 写入*：

```
sudo touch /var/log/php-errors.log

/var/log/php-errors.log

sudo chown <owner>:www 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-10-18T03:25:17.183

**对于 Unix CLI 用户**：

很可能没有设置*error_log* ini 文件条目。验证：

```
php -i | grep error_log
// error_log => no value => no value 
```

您可以在*php.ini* CLI 文件中设置它，或者只是简单地将所有**[标准错误](https://en.wikipedia.org/wiki/Standard_streams#Standard_error_(stderr))**自己快速传递到文件中：

```
./myprog 2> myerror.log 
```

然后很快：

```
tail -f myerror.log 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-10-27T01:14:20.390

在大多数用例中，这是一个更可取的答案，因为它允许您将软件的执行与服务器平台的直接知识分离，从而使您的代码更具可移植性。如果您正在执行大量*cron*或*[CGI](https://en.wikipedia.org/wiki/Common_Gateway_Interface)*，这可能没有直接帮助，但可以在 Web 运行时将其设置为 cron 和 CGI​​ 脚本从中提取的配置，以在这种情况下保持日志位置一致。

* * *

您可以在运行时在任何平台上获取本地分配给 PHP 的当前日志文件，方法是使用：

```
ini_get('error_log'); 
```

这将返回由 Web 服务器直接分发到 PHP 二进制文件的值，这在 90% 的用例中都是您想要的（明显的例外是 CGI）。CGI 通常会登录到与 HTTP Web 服务器客户端相同的位置，但并非总是如此。

您还需要在提交任何内容之前检查它是否可写以避免错误。定义其位置的配置文件（通常是全局文件*apache.conf或基于每个域的**vhosts.conf*），但配置不确保文件权限允许在运行时进行写访问。***

# facebook-graph-api - 无法使用 php sdk 为某些用户获取类似列表的页面

> ID：12834586
> 
> 赞同：0
> 
> 时间：2012-10-11T07:42:37.093
> 
> 标签：facebook-graph-api, facebook-php-sdk

我在获取某个用户喜欢的用户的页面列表时遇到了问题。我发现了这个问题。即当我们直接使用链接[https://graph.facebook.com/me/likes?access_token=AAAAAAITEghMBAPyx23APxfNtEtmhzqlGVu4pe0ZBsPStne2vo7ZC0jVbKscpLabWzhhO0zCl55Q7djG7WOk1jTXLLUQtnmdYa1HbDgr9](https://graph.facebook.com/me/likes?access_token=AAAAAAITEghMBAPyx23APxfNtEtmhzqlGVu4pe0ZBsPStne2vo7ZC0jVbKscpLabWzhhO0zCl55Q7djG7WOk1jTXLLUQtnmd9a4Exr42SbJgZAgYH1D9) we22S2SZAg9正在获取列表，因为 facebook 提供的访问令牌与我们通过 api 获得的 frm 不同。

这是有问题的应用程序网址。 [http://www.facebook.com/reasearchanddevelopment/app_147970198679455](http://www.facebook.com/reasearchanddevelopment/app_147970198679455)

有没有解决这个问题的方法。

谢谢，

拉杰什。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T14:47:51.773

在获取登录用户到 facebook 的 url 时，将“user_likes”权限添加到范围参数。

来源：[https ://stackoverflow.com/a/7601553/1285871](https://stackoverflow.com/a/7601553/1285871)

# r - 使用颜色空间包进行错误的颜色转换

> ID：12834593
> 
> 赞同：2
> 
> 时间：2012-10-11T07:43:05.550
> 
> 标签：r, colors

看下面的例子：

```
> library(colorspace)
> # convert color with coordinates (0.2,0.3,0.4) in the RGB space into a character string:
> ( x <- hex(RGB(0.2,0.3,0.4)) )
[1] "#7C95AA"
> # reverse conversion:
> hex2RGB(x)  ## not the original coordinates !
             R         G         B
[1,] 0.4862745 0.5843137 0.6666667
> # now do the first conversion with the rgb() function from grDevices package:
> library(grDevices)
> ( y <- rgb(0.2,0.3,0.4) )
[1] "#334C66"
> # reverse conversion:
> hex2RGB(y)  ## close to the original coordinates
       R         G   B
[1,] 0.2 0.2980392 0.4 
```

colorspace 包中的 hex() 函数似乎将 RGB 颜色空间中的三个坐标转换为字符串是错误的。这是一个错误，还是我错误地使用了这个包？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-10-13T11:20:18.520

转换的差异是由于使用了线性化`RGB`颜色模型而不是伽马校正`sRGB`颜色模型。后者被 base R 和大多数其他为图形生成颜色的软件所采用。前者作为转换为其他模型（如 CIE XYZ）的中间步骤相关，`colorspace`包中也提供了如下图所示。

[![色彩空间](../Images/a7e73a4eaa582ece203f66e91b53f48c.png)](https://i.stack.imgur.com/Fo18M.png)

如果您正在使用该`sRGB`功能，您的示例将按预期工作：

```
library("colorspace")
( x <- hex(sRGB(0.2, 0.3, 0.4)) )
## [1] "#334D66"
hex2RGB(x)
##        R         G   B
## [1,] 0.2 0.3019608 0.4 
```

G坐标不同的原因是它`0.3 * 255`不是整数。（十六进制颜色编码整数 0 到 255。）

# android - Intent PACKAGE_ADDED 未注册

> ID：12834594
> 
> 赞同：4
> 
> 时间：2012-10-11T07:43:07.527
> 
> 标签：android, android-intent, broadcastreceiver, package

您好，我正在尝试检测已安装的应用程序，以便我可以对应用程序进行一些分析，并且我正在使用我在 stackoverflow 上找到的这个示例来监听当前应用程序中的软件包安装，但我的 logcat 中没有发生任何事情。

```
void registerReceiver() {
    IntentFilter filter = new IntentFilter(Intent.ACTION_PACKAGE_ADDED);
    filter.addAction(Intent.ACTION_PACKAGE_REMOVED);
    filter.addAction(Intent.ACTION_PACKAGE_CHANGED);
    filter.addDataScheme("package");

}

public void onReceive(Context context, Intent intent) {
    String actionStr = intent.getAction();
    if (Intent.ACTION_PACKAGE_ADDED.equals(actionStr)) {
        Uri data = intent.getData();
        String pkgName = data.getEncodedSchemeSpecificPart();
        //handle package adding...
        Log.i("Logging Service", pkgName);

    }

}

<receiver android:name="RealTimeActivity">
    <intent-filter>
   <category android:name="android.intent.category.DEFAULT" />
    <action android:name="android.intent.action.PACKAGE_ADDED"  />
    <action android:name="android.intent.action.PACKAGE_CHANGED" />
    <action android:name="android.intent.action.PACKAGE_INSTALL" />
    <action android:name="android.intent.action.PACKAGE_REMOVED" />
    <action android:name="android.intent.action.PACKAGE_REPLACED" />
    </intent-filter>
 </receiver>

<uses-permission android:name="android.permission.BROADCAST_PACKAGE_ADDED" />
<uses-permission android:name="android.permission.BROADCAST_PACKAGE_CHANGED" />
<uses-permission android:name="android.permission.BROADCAST_PACKAGE_REMOVED" />
<uses-permission android:name="android.permission.BROADCAST_PACKAGE_INSTALL" />
<uses-permission android:name="android.permission.BROADCAST_PACKAGE_REPLACED" /> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:03:38.787

由于自 Android 3.1 以来广播行为发生了变化，您的应用必须先启动，然后才能接收应用安装/删除意图。请参阅 kabuko[在此线程中](https://stackoverflow.com/questions/8515310/broadcast-receiver-for-package-added-not-working-from-android-3-1-onwards)的回答。

以下接收器在 Android 4.0 设备上为我工作（我在应用程序中有一个活动，首先启动活动，即应用程序也启动，然后接收器可以接收广播）。

```
<receiver android:name=".MyReceiver">
    <intent-filter>
        <action android:name="android.intent.action.PACKAGE_ADDED" />
        <action android:name="android.intent.action.PACKAGE_CHANGED" />
        <action android:name="android.intent.action.PACKAGE_REMOVED" />
        <data android:scheme="package" />
    </intent-filter>
</receiver> 
```

（一些应用程序运行一个虚拟的粘性服务来保持应用程序进程处于活动状态，以便它们可以接收某些广播）

# php - 新闻源上的图像错误 - 元标记正确？

> ID：12834596
> 
> 赞同：1
> 
> 时间：2012-10-11T07:43:18.443
> 
> 标签：php, facebook-opengraph

当我使用 http 帖子发布到我的 Facebook 页面的链接时：

`https://graph.facebook.com/MYID/feed`

我在时间线上得到了错误的图像。标题和描述是正确的。当我在对象调试器中检查 URL 时，一切似乎都很好。

例如，以下网址给了我这个问题： [http ://www.weekmenu.nl/hollands/knapperige_slastamppot_met_gebakken_feta/](http://www.weekmenu.nl/hollands/knapperige_slastamppot_met_gebakken_feta/)

正如您在此屏幕截图中看到的那样，时间轴中显示了错误的图像： `http://www.weekmenu.nl/wrong.png`

（对不起，我不允许发布图片或超过 2 个链接.. 愚蠢的 stackoverflow）

应该是： [http ://www.weekmenu.nl/wp-content/uploads/2012/10/e10a13fa3a3d7f660abf9aabe9651078.jpg](http://www.weekmenu.nl/wp-content/uploads/2012/10/e10a13fa3a3d7f660abf9aabe9651078.jpg)

我的页面上的元标记是否正确？

这是我用来将食谱发布到我的 Facebook 页面的 PHP 代码：

```
$params = array('access_token'=>get_option('weekmenu_social_fb_access_token'), 'message'=>$message_facebook, 'link'=>$link);
$url = "https://graph.facebook.com/".get_option('weekmenu_social_fb_page_id')."/feed";
$ch = curl_init();
curl_setopt_array($ch, array(
   CURLOPT_URL => $url,
   CURLOPT_POSTFIELDS => $params,
   CURLOPT_RETURNTRANSFER => true,  
   CURLOPT_SSL_VERIFYPEER => false,
   CURLOPT_VERBOSE => true
));
$result = json_decode(curl_exec($ch)); 
```

问题出在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:52:06.027

Facebook 在第一次抓取页面时缓存其结果 - 要强制刷新，您需要使用他们的[URL Linter](https://developers.facebook.com/tools/debug)。

如果您将页面地址输入该工具，则在下次将链接发布到 Facebook 时，将显示正确的信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-12T10:03:13.873

检查您的`og:image`元标记。如果你还没有放一张正确的图片网址。

# asp-classic - 经典 ASP 中的 MSDataShape {类未注册错误}

> ID：12834600
> 
> 赞同：0
> 
> 时间：2012-10-11T07:43:34.923
> 
> 标签：asp-classic, database-connection

我正在尝试在经典 ASP 中构建数据网格。我在这里和那里阅读了几篇文章，并试图使用 MSDataShape 来实现这一点。

我从未使用过 MSDataShape，所以完全不知道。

* * *

```
'Create the ADO Connection object. 
set oCon = Server.CreateObject("ADODB.Connection") 

'--- Generate the connection string 
sCon = "Data Provider=Microsoft.Jet.OLEDB.3.51;Persist Security Info=False;" 
sCon = sCon & "Data Source=" & Server.MapPath("Northwind.mdb") 
oCon.ConnectionString = sCon 

'--- Specify that we will use the Data Shaping provider. 
oCon.Provider = "MSDataShape" 

'--- Open the connection 
oCon.Open 
```

我收到以下错误：

> Microsoft OLE DB 服务组件错误 '80040154' 类未注册 /DG/test.asp，第 39 行 -</p>

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T07:11:03.303

错误消息表明找不到您指定的数据提供者。在这种情况下，3.51 是一个非常旧的 Jet 版本。尝试使用以下内容：

```
sCon = "Data Provider=Microsoft.Jet.OLEDB.4.0;Persist Security Info=False;" 
```

此外，如果您使用的是 64 位操作系统，请确保将应用程序池配置为在[32 位模式下运行](https://stackoverflow.com/q/637326/249624)。

# spring - 使用 Spring 3 MVC 的 HttpSession

> ID：12834601
> 
> 赞同：2
> 
> 时间：2012-10-11T07:43:35.623
> 
> 标签：spring, spring-mvc, spring-3

我想在 Spring 3 MVC 中使用 HttpSession。我已经搜索了所有网络并在[http://forum.springsource.org/showthread.php?98850-Adding-to-stuff-to-the-session-while-using-ResponseBody获得了这个解决方案](http://forum.springsource.org/showthread.php?98850-Adding-to-stuff-to-the-session-while-using-ResponseBody)

基本上，我的应用程序通过获取*winId*自动验证用户并通过 LDAP（它是一个 Intranet 站点）进行授权。

这是应用程序的流程：

1.  用户输入应用程序 URL ( `http://localhost:8082/eIA_Mock_5`) 它有一个欢迎页面 (index.jsp)
2.  index.jsp 通过 jQuery 获取*winId*并点击 login.html（通过 AJAX）并传递 windowsId
3.  login.html（控制器）通过 LDAP 进行身份验证并返回“有效”字符串作为响应
4.  JavaScript，在获得正确的响应后，重定向/加载欢迎页面，即转到`localhost:8082/eIA_Mock_5/welcome.html`

现在，我有与之关联的过滤器，它检查会话是否对每个传入请求都有效。现在的问题是，即使我将数据设置到 HttpSession，但过滤器或任何其他控制器都无法通过会话获取数据，因此它没有进一步进行。

这是代码。你能建议实际上有什么问题吗？

**Home_Controller.java**：

```
@Controller
public class Home_Controller {

    public static Log logger = LogFactory.getLog(Home_Controller.class);

    @RequestMapping(value = {"/welcome"})
    public ModelAndView loadWelcomePage(HttpServletRequest request, HttpServletResponse response)
    {
        ModelAndView mdv = new ModelAndView();
        try {
            /*HttpSession session = request.getSession();
            UserMasterBean userBean = (UserMasterBean)session.getAttribute("userBean");
            String userName = userBean.getWindowsId();
            if(userName == null || userName.equalsIgnoreCase(""))
            {   
                mdv.setViewName("homePage");

                System.out.println("Unable to authenticate user ");
                logger.debug("Unable to authenticate user ");
            }
            else
            {
                System.out.println("Welcome User "+userName);
                logger.debug("Welcome User "+userName);
                */
                mdv.setViewName("homePage");
            /*}*/

        }
        catch (Exception e){
            logger.debug("inside authenticateUser ",e);
            e.printStackTrace();
        }
        return mdv;
    }

    @RequestMapping(value = "/login", method = RequestMethod.GET)
    public @ResponseBody String authenticateUser(@RequestParam String userName, HttpSession session)
    {
        logger.debug("inside authenticateUser");

        String returnResponse = new String();
        try {
            logger.debug("userName for Authentication " + userName);
            System.out.println("userName for Authentication " + userName);

            //HttpSession session  =  request.getSession();

            if (userName == null || userName.trim().equalsIgnoreCase(""))
                returnResponse = "Invalid";
            else
            {
                System.out.println("uname " + userName);

                String ldapResponse = LDAPConnectUtil.isValidActiveDirectoryUser(userName, "");

                if (ldapResponse.equalsIgnoreCase("true"))
                {   
                    returnResponse="Valid";

                    System.out.println(userName + " Authenticated");
                    logger.debug(userName + " Authenticated");

                    UserMasterBean userBean = new UserMasterBean();
                    userBean.setWindowsId(userName);

                    //if(session.getAttribute("userBean")==null)
                    session.setAttribute("userBean", userBean);
                }
                else
                {   
                    returnResponse = "Invalid";

                    //session.setAttribute("userBean", null);

                    System.out.println("Unable to Authenticate the user through Ldap");
                    logger.debug("Unable to Authenticate the user through Ldap");
                }

                System.out.println("ldapResponse " + ldapResponse);
                logger.debug("ldapResponse " + ldapResponse);

                System.out.println("returnResponse " + returnResponse);
            }

            UserMasterBean u = (UserMasterBean)session.getAttribute("userBean");
            System.out.println("winId " + u.getWindowsId());
        }
        catch(Exception e){
            e.printStackTrace();
            logger.debug("Exception in authenticateUser ", e);
        }
        return returnResponse;
    }
} 
```

**过滤器**：

```
public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
{
    System.out.println("in PageFilter");
    boolean flag = false;
    HttpServletRequest objHttpServletRequest = (HttpServletRequest)request;
    HttpServletResponse objHttpServletResponse = (HttpServletResponse)response;
    HttpSession session = objHttpServletRequest.getSession();
    String contextPath = objHttpServletRequest.getContextPath();

    String servletPath = objHttpServletRequest.getSession().getServletContext().getRealPath(objHttpServletRequest.getServletPath());

    logger.debug("contextPath :" + contextPath);
    logger.debug("servletPath :" + servletPath);
    System.out.println("in PageFilter, contextPath :" + contextPath);
    System.out.println("in PageFilter, servletPath :" + servletPath);

    if (servletPath.endsWith("\\") || servletPath.endsWith("/") || 
        servletPath.indexOf("css") > 0 || servletPath.indexOf("jsp") > 0 || 
        servletPath.indexOf("images") > 0 || servletPath.indexOf("js") > 0 || 
        servletPath.endsWith("index.jsp") || servletPath.indexOf("xls") > 0 || 
        servletPath.indexOf("ini") > 0 || servletPath.indexOf("login.html") > 0 || 
        /*servletPath.endsWith("welcome.html") ||*/ servletPath.endsWith("logout.do") )
    {
        System.out.println("User is trying to access allowed pages like Login.jsp, errorPage.jsp, js, images, css");
        logger.debug("User is trying to access allowed pages like Login.jsp, errorPage.jsp, js, images, css");
        flag = true;
    }

    if (flag == false)
    {
        System.out.println("flag = false");

        if (session.getAttribute("userBean") == null)
            System.out.println("yes session.userbean is null");

        if ((session != null) && (session.getAttribute("userBean") != null))
        {
            System.out.println("session!=null && session.getAttribute(userId)!=null");

            logger.debug("IF Part");

            UserMasterBean userBean = (UserMasterBean)session.getAttribute("userBean");
            String windowsId = userBean.getWindowsId();

            logger.debug("User Id " + windowsId + " allowed access");
            System.out.println("User Id " + windowsId + " allowed access");
            flag = true;
        }
        else
        {
            System.out.println("else .....session!=null && session.getAttribute(userId)!=null");
            logger.debug("Else Part");
            flag = false;
        }
    }

    if (flag == true) {
        try {
            System.out.println("before chain.doFilter(request, response)");
            chain.doFilter(request, response);
        } catch (Exception e) {
            e.printStackTrace();
            try {
                objHttpServletResponse.sendRedirect(contextPath + "/logout.do");
            } catch (Exception ex) {
                ex.printStackTrace();
            }
        }
    }
    else
    {
        try {
            System.out.println("before sendRedirect");
            objHttpServletResponse.sendRedirect(contextPath + "/jsp/errorPage.jsp");
        } catch (Exception ex) {
            ex.printStackTrace();
        }

    }

    System.out.println("end of PageFilter");
} 
```

**索引.jsp**：

```
<script type="text/javascript">
    //alert("inside s13");
    var WinNetwork = new ActiveXObject("WScript.Network");
    var userName = WinNetwork.UserName;
    alert(userName);

    $.ajax({  
        url: "login.html",  
        data: "userName="+userName,
        success: function(result) {
            alert("result == " + result);
            if (result == "Valid")
                window.location = "http://10.160.118.200:8082/eIA_Mock_5/welcome.html";
        }
    });
</script> 
```

*`*`
当我使用 Spring 3 MVC 时， *web.xml*有一个带有 URL 模式的过滤器条目。*

 ** * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T14:36:38.420

我认为 ajax 调用和之后设置 windows.location 的问题。

确保启用 cookie。如果你不这样做，你的 ajax 请求每次都会导致新的会话。

当您这样做`window.location = url`并且此 url 与您当前的 url 不同时，它也会导致新会话，因为 cookie 与域相关，并且您更改了域，例如从`localhost`to `10.160.118.200`。

对于每个请求输出 sessionid 并将其与之前的请求进行比较。它有助于查找重新创建会话的时间。

[这个答案](https://stackoverflow.com/a/4794179/1516873)也可以提供帮助。*

# c# - 重载的方法，无效的参数 C#

> ID：12834603
> 
> 赞同：-1
> 
> 时间：2012-10-11T07:43:53.793
> 
> 标签：c#, asp.net

好的，我正在尝试从 VB 迁移到 C#，但效果好坏参半。

我收到以下错误：

1.  '_DataInteraction.stdReturnDataTable(string, ref System.Collections.Generic.List, string)' 的最佳重载方法匹配有一些无效参数

2.  参数 2 必须使用 'ref' 关键字传递

两者都引用：myParamList 中带有******的注释

我在 C# 中有这段代码

```
{

    List<SqlParameter> myParamList = new List<SqlParameter>();
    SqlParameter myParam = default(SqlParameter);

    myParam = new SqlParameter("@sAMAccountName", SqlDbType.VarChar);
    myParam.Value = ID;
    myParamList.Add(myParam);

    **dt = _DI.stdReturnDataTable("cit_ResolveUser", myParamList, "x");**

    return dt;
} 
```

现在是 stdReturnDataTable 的代码（只是接受参数的顶部）

```
public static DataSet stdReturnDataset(string procedureName, ref List<SqlParameter> myParameters, string db)
    {
       //code
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T07:45:07.827

正如错误消息所说，您应该使用`ref`关键字传递参数：

```
dt = DataInteraction.stdReturnDataTable("cit_ResolveUser", ref myParamList, "ParabisIntranet"); 
```

另外，根据您的评论，它是一个静态方法，您不能通过实例变量调用它。相反，您需要使用类型名来限定它。

但我怀疑这里实际上不需要 ref 关键字，您可能只需将其从方法签名中删除即可。

```
public static DataSet stdReturnDataset(string procedureName, 
                                       List<SqlParameter> myParameters, 
                                       string db) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:45:12.233

您需要`ref`在方法调用中指定关键字。

```
dt = _DI.stdReturnDataTable("cit_ResolveUser", ref myParamList, "ParabisIntranet"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:45:58.213

您需要 ref 关键字：

dt = _DI.stdReturnDataTable("cit_ResolveUser", **ref** myParamList, "ParabisIntranet");

# spring - 对 spring applicationContext.xml 中使用的数据源使用编码密码

> ID：12834604
> 
> 赞同：23
> 
> 时间：2012-10-11T07:43:55.597
> 
> 标签：spring, hibernate, datasource, apache-commons-dbcp, password-encryption

我想在下面提到的 springApplicationContext.xml 中保留编码密码

有什么办法可以做到这一点？

目前我已经使用属性占位符配置了所有属性，如下所示，但原始密码仍然在我的 database.properties 中打开

## springApplicationContext.xml

```
<beans:bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <beans:property name="driverClassName"><beans:value>${db.driverClassName}</beans:value></beans:property>
        <beans:property name="url"><beans:value>${db.url}</beans:value></beans:property>
        <beans:property name="username"><beans:value>${db.username}</beans:value></beans:property>
        <beans:property name="password"><beans:value>${db.password}</beans:value></beans:property>
</beans:bean> 
```

但实际值存在于我的`database.properties`

```
db.driverClassName=com.mysql.jdbc.Driver
db.url=jdbc:mysql://localhost/myDB
db.username=root
db.password=root 
```

我想要下面的东西：

## springApplicationContext.xml（同上）

```
<beans:bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <beans:property name="driverClassName"><beans:value>${db.driverClassName}</beans:value></beans:property>
        <beans:property name="url"><beans:value>${db.url}</beans:value></beans:property>
        <beans:property name="username"><beans:value>${db.username}</beans:value></beans:property>
        <beans:property name="password"><beans:value>${db.password}</beans:value></beans:property>
</beans:bean> 
```

但是密码属性值应该是我的加密格式`database.properties`

```
db.driverClassName=com.mysql.jdbc.Driver
db.url=jdbc:mysql://localhost/myDB
db.username=root
db.password=3g6n72ef8x (using any encription method). 
```

在建立新的数据库连接之前，我的数据源会在内部解密密码。

非常感谢您对此的任何帮助/建议。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-11T12:22:48.543

我回答自己的问题可能很有趣。但我仍然只想告诉我的解决方案，其他可能面临同样问题的人..

为简单起见，我使用了 BASE64Encoder 和 BASE64Decoder。稍后我将修改我的代码以使用安全/更好的加密/解密算法。

我已经使用以下代码对我的数据库密码（例如：我的案例的 root）进行了编码：

```
private String encode(String str) {
        BASE64Encoder encoder = new BASE64Encoder();
        str = new String(encoder.encodeBuffer(str.getBytes()));
        return str;
    } 
```

并将编码的密码放在我的 database.properties 文件中，如下所示：

前

```
db.driverClassName=com.mysql.jdbc.Driver
db.url=jdbc:mysql://localhost/myDB
db.username=root
db.password=root 
```

后

```
db.driverClassName=com.mysql.jdbc.Driver
db.url=jdbc:mysql://localhost/myDB
db.username=root
db.password=cm9vdA==  (Note: encoded 'root' by using BASE64Encoder) 
```

现在我为 org.apache.commons.dbcp.BasicDataSource 编写了一个包装类并重写了 setPassword() 方法：

```
import java.io.IOException;
import org.apache.commons.dbcp.BasicDataSource;
import sun.misc.BASE64Decoder;

public class MyCustomBasicDataSource extends BasicDataSource{

    public CustomBasicDataSource() {
        super();
    }

    public synchronized void setPassword(String encodedPassword){
        this.password = decode(encodedPassword);
    }

    private String decode(String password) {
        BASE64Decoder decoder = new BASE64Decoder();
        String decodedPassword = null;
        try {
            decodedPassword = new String(decoder.decodeBuffer(password));
        } catch (IOException e) {
            e.printStackTrace();
        }       
        return decodedPassword;
    }
} 
```

这样我正在解码（BASE64Decoder）database.properties中提供的编码密码

并且还修改了 springApplicationContext.xml 文件中提到的我的 dataSource bean 的类属性。

```
<beans:bean id="dataSource" class="edu.config.db.datasource.custom.MyCustomBasicDataSource" destroy-method="close">
    <beans:property name="driverClassName"><beans:value>${db.driverClassName}</beans:value></beans:property>
    <beans:property name="url"><beans:value>${db.url}</beans:value></beans:property>
    <beans:property name="username"><beans:value>${db.username}</beans:value></beans:property>
    <beans:property name="password"><beans:value>${db.password}</beans:value></beans:property> 
```

谢谢。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-11T12:27:09.883

创建自定义的 PropertyPlaceHolderConfigurer 扩展 Spring **PropertyPlaceHolderConfigurer**

```
public class PropertyPlaceholderConfigurer extends
        org.springframework.beans.factory.config.PropertyPlaceholderConfigurer {

    @Override
    protected String convertPropertyValue(final String originalValue) {
        if (originalValue.startwith("SomeText:")) {
            //Apply the decryption logic
            ...
        }
    }
} 
```

您可以加密属性并附加**SomeText:**。使用此自定义 PropertyPlaceHolderConfigurer 加载属性

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-11T19:01:05.507

我想在这里看大图：为什么要加密属性文件中的值？未经授权的人可以访问您的属性文件的情况是什么？

处理存储生产凭证这一更大问题的常用技术是使凭证成为您环境的一部分，而不是源代码的一部分。这里有一些方法可以做到这一点：

*   将属性文件（带有明文密码）放在生产环境中 Web 服务器的类路径中，这样对密码的访问由对生产机器的访问控制。
*   将属性存储在 web.xml（带有参数名称的上下文参数）中，此文件也是您运行代码的环境的一部分，而不是随代码一起分发 - 对该文件的访问由对机器的访问控制。
*   使用 JNDI 并在应用程序服务器中配置该资源。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-11T07:50:04.093

创建一个实现接口的包装类，该`Datasource`接口将其方法调用委托给底层数据源，但在此之前解密密码。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-08-14T06:33:20.400

如果您使用 tomcat 连接池作为数据源，这里是一个实现

[http://www.jdev.it/encrypting-passwords-in-tomcat/](http://www.jdev.it/encrypting-passwords-in-tomcat/)

创建一个扩展 org.apache.tomcat.jdbc.pool.DataSourceFactory 的类并在 server.xml 中配置它

更新：

较新的方法是使用 Jasypt：[http ://www.jasypt.org/encrypting-texts.html](http://www.jasypt.org/encrypting-texts.html)

# android - 点击按钮错误

> ID：12834609
> 
> 赞同：1
> 
> 时间：2012-10-11T07:44:26.107
> 
> 标签：android

我将从数据库（MySQL）中检索学生信息（id -number-name）作为列表视图，每个学生有 2 个按钮（删除 - 警报）和单选按钮

[屏幕截图 http://im21.gulfup.com/1pWi1.png](http://im21.gulfup.com/1pWi1.png)

一切都很好，但是我怎样才能制作一个 onClickListener，例如删除按钮，因为我尝试了很多示例，我听说我可以使用（自定义列表或获取视图或直接 onClickListener，就像在我的代码中一样（但它不是工作）或简单光标适配器）我不知道该使用什么，我四处寻找可以帮助我的示例，但就我而言，但我没有找到任何示例，所以我希望这可以作为任何有相同问题的人的参考。这是我的代码，我直接使用 onClick 和简单适配器

```
public class ManageSection extends ListActivity {

//ProgresogressDialog pDialog;

    private ProgressDialog pDialog;

    // Creating JSON Parser object

// Creating JSON Parser object
JSONParser jParser = new JSONParser(); //class
boolean x =true; 
Button delete;

ArrayList<HashMap<String, String>> studentList;

//url to get all products list
private static String url_all_student = "http://10.0.2.2/SmsPhp/view_student_info.php";
String cl;
// JSON Node names
private static final String TAG_SUCCESS = "success";
private static final String TAG_student = "student";
private static final String TAG_StudentID = "StudentID";
private static final String TAG_StudentNo = "StudentNo";
private static final String TAG_FullName = "FullName";
private static final String  TAG_Avatar="Avatar";
HashMap<String, String> selected_student;
// course JSONArray
JSONArray student = null;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.manage_section);

        studentList = new ArrayList<HashMap<String, String>>();

        ListView list1 = getListView();
        list1.setAdapter(getListAdapter());  
        list1.setOnItemClickListener(new OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> adapterView, View view, int pos, long l) {

                 selected_student =(HashMap<String, String>) studentList.get(pos); //member of your activity.
                 delete =(Button)view.findViewById(R.id.DeleteStudent);
                 cl=selected_student.get(TAG_StudentID);
                 Toast.makeText(getBaseContext(),cl,Toast.LENGTH_LONG).show();
                 delete.setOnClickListener(new View.OnClickListener()

                    {

                        public void onClick(View v) {

                            Log.d("id: ",cl);
                            Toast.makeText(getBaseContext(),cl,Toast.LENGTH_LONG).show();
                        }
                 });
            }

        });

        new LoadAllstudent().execute();

    }

    /**
     * Background Async Task to Load all student by making HTTP Request
     * */
    class LoadAllstudent extends AsyncTask<String, String, String>
    {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(ManageSection.this);
            pDialog.setMessage("Loading student. Please wait...");
            pDialog.setIndeterminate(false);
        /**
         * getting All student from u r l
         * */
        @Override
        protected String doInBackground(String... args) {
            // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            // getting JSON string from URL
            JSONObject json = jParser.makeHttpRequest(url_all_student, "GET", params);

            // Check your log cat for JSON response
            Log.d("All student : ", json.toString());

            try {
                // Checking for SUCCESS TAG
                int success = json.getInt(TAG_SUCCESS);

                if (success == 1)
                {
                    // student found
                    // Getting Array of course
                    student = json.getJSONArray(TAG_student);

                    // looping through All courses
                    for (int i = 0; i < student.length(); i++)//course JSONArray
                    {
                        JSONObject c = student.getJSONObject(i); // read first

                        // Storing each json item in variable
                        String StudentID = c.getString(TAG_StudentID);
                        String StudentNo = c.getString(TAG_StudentNo);
                        String FullName = c.getString(TAG_FullName);
                     //   String Avatar = c.getString(TAG_Avatar);
                        // creating new HashMap
                        HashMap<String, String> map = new HashMap<String, String>();

                        // adding each child node to HashMap key => value
                        map.put(TAG_StudentID, StudentID);
                        map.put(TAG_StudentNo, StudentNo);
                        map.put(TAG_FullName, FullName);

                        // adding HashList to ArrayList
                        studentList.add(map);
                    }
                } else {
                    x=false;

                }

            } catch (JSONException e) {
                e.printStackTrace();
            }

            return null;
        }   

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) { 
              // dismiss the dialog after getting all products 
              pDialog.dismiss(); 
              if (x==false)
                Toast.makeText(getBaseContext(),"no student" ,Toast.LENGTH_LONG).show();

              ListAdapter adapter = new SimpleAdapter( 
                      ManageSection.this,  studentList, 
                        R.layout.list_student, new String[] { TAG_StudentID, 
                              TAG_StudentNo,TAG_FullName}, 
                        new int[] { R.id.StudentID, R.id.StudentNo,R.id.FullName}); 
               setListAdapter(adapter); 

             // Updating parsed JSON data into ListView 

        } 
    }
} 
```

那么你怎么看，为什么删除按钮不起作用？我的日志猫没有错误。什么是替代方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:08:31.810

在 ListView 的 onclicklistener 之外添加按钮的 onclicklistener -

```
list1.setAdapter(new (youradaptername)(getApplicationContext()));
list1.setOnItemClickListener(detaillistener);

private OnItemClickListener detaillistener = new OnItemClickListener()
     {
     // to your Onclick action coding here
     }
     }; 
```

对其他按钮做同样的事情。有关更多信息，请转到[此处的此链接](http://tseng-blog.nge-web.net/blog/2009/02/14/implementing-listeners-in-your-android-java-application/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:54:40.177

只需在您`ListView`的 onclicklistener 之外定义按钮的 onclick 侦听器 -

```
delete =(Button)view.findViewById(R.id.DeleteStudent); // initialize this here

list1.setOnItemClickListener(new OnItemClickListener() {
    @Override
    public void onItemClick(AdapterView<?> adapterView, View view, int pos, long l) 
    {
        selected_student =(HashMap<String, String>) studentList.get(pos); //member of your activity.
        cl=selected_student.get(TAG_StudentID);
        Toast.makeText(getBaseContext(),cl,Toast.LENGTH_LONG).show();
    }
});

delete.setOnClickListener(new View.OnClickListener()
{
    public void onClick(View v) {
        Log.d("id: ",cl);
        Toast.makeText(getBaseContext(),cl,Toast.LENGTH_LONG).show();
    }
}); 
```

从您的代码中，`ListView`一旦单击您的项目，它将起作用，然后只有您的按钮起作用。所以试试上面的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-12T11:20:24.197

@sara，您的代码非常正确，但是由于您没有`context`正确通过..！

现在使用这个代码它肯定会工作：

```
 ListView list1 = getListView();
    list1.setAdapter(getListAdapter());  
    list1.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> adapterView, View view, int pos, long l) {

             selected_student =(HashMap<String, String>) studentList.get(pos); //member of your activity.
             delete =(Button)view.findViewById(R.id.DeleteStudent);
             cl=selected_student.get(TAG_StudentID);
             Toast.makeText(getBaseContext(),cl,Toast.LENGTH_LONG).show();
             delete.setOnClickListener(new View.OnClickListener()

                {

                    public void onClick(View v) {

                        Log.d("id: ",cl);
                        Toast.makeText(ManageSection.this,cl,Toast.LENGTH_LONG).show();
                    }
             });
        }

    }); 
```

我刚刚将这一行添加到您的代码中：

```
 Toast.makeText(ManageSection.this,cl,Toast.LENGTH_LONG).show(); 
```

现在试着告诉我它是否有效..

# html - 支持 Internet Explorer 6 的 HTML5 视频 >?

> ID：12834624
> 
> 赞同：0
> 
> 时间：2012-10-11T07:45:27.073
> 
> 标签：html, css, web, html5-video

我想在我们的网站上使用 html5 视频，但想知道是否有任何方法可以添加对 IE6 的支持，因为我们的一些客户使用旧浏览器。我不确定我是否继承了 js“modernizr.js”这是否会解决我的问题。请提供建议，或者您可以建议除闪光灯之外的替代方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:49:36.007

直接回答？您根本无法在旧 IE 中使用 HTML5 视频。

你最好使用 jQuery 解决方案。有一个很棒的插件可以为您处理所有这些繁琐的工作，称为 jPlayer：

[http://www.jplayer.org/](http://www.jplayer.org/)

一探究竟。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:08:02.453

正如上面评论中已经建议的那样，对于不支持 HTML5 视频的浏览器，您应该使用某种对 Flash 和/或 Silverlight 的回退。

例如，看看[mediaelementjs](http://mediaelementjs.com/)，它运行良好并且支持 IE 6。他们的网站上还有一个图表，表明在哪个浏览器中使用了哪种技术。

# java - Android Seekbar 运行时的进度颜色

> ID：12834630
> 
> 赞同：4
> 
> 时间：2012-10-11T07:45:43.737
> 
> 标签：java, android, background, seekbar

我想在运行时使用代码而不是 xml 更改搜索栏进度颜色和背景颜色。我知道如何使用 xml`(Layerlist-Shapedrawable-Clipdrawable)` 我无法更改其中的颜色，`colors.xml`因此我必须通过代码设置可绘制的进度。我已经尝试过使用 LayerDrawable 等不同的东西......但没有任何工作。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:04:29.957

```
public void setProgressBarColor(ProgressBar progressBar, int newColor){ 
    LayerDrawable ld = (LayerDrawable) progressBar.getProgressDrawable();
    ClipDrawable d1 = (ClipDrawable) ld.findDrawableByLayerId(R.id.progressshape);
    d1.setColorFilter(newColor, PorterDuff.Mode.SRC_IN);

} 
```

当您更新进度时，您将看到结果。

可以吗？

# android-spinner - 在方向更改时处理微调器 - android

> ID：12834633
> 
> 赞同：1
> 
> 时间：2012-10-11T07:45:59.010
> 
> 标签：android-spinner, orientation-changes

我的活动中有微调器。单击微调器时，将显示下拉菜单。现在，改变方向。不维护该下拉列表。有没有办法在方向更改时再次显示下拉菜单？

提前致谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-11T15:02:13.960

你的问题对我来说有点不清楚。

请尝试将此添加到您`<activity>`的 android 清单中：

```
android:configChanges="orientation|screenSize|keyboardHidden" 
```

[有关详细信息，请参阅此](http://developer.android.com/guide/topics/manifest/activity-element.html)

（有人可能会说这不是*正确的方法*，但您可以使用它，直到找到更好的解决方案）

# weka - 在 Visual Studio 2010 C# 环境中使用 IKVM 的树可视化器

> ID：12834639
> 
> 赞同：1
> 
> 时间：2012-10-11T07:46:18.463
> 
> 标签：weka, ikvm

我正在使用 IKVM 0.46.0.2 将 java 应用程序包装到 Visual Studio 2010 C# 环境中的 dll 中。

而weka版本是3.7

我使用 -sharedloader 选项制作了一个 weka.dll

```
ikvmc -classloader:ikvm.runtime.ClassPathAssemblyClassLoader -target:library weka.jar LibSVM.jar 
```

最后，我在 C# 控制台中成功运行。

控制台消息是

```
Refreshing GOE props...
[KnowledgeFlow] Loading properties and plugins...
[KnowledgeFlow] Initializing KF... 
```

好像没问题。

但是，J48 树没有出现。

没有错误，JFrame 窗口也做得很好。

你知道我必须做什么吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T21:53:17.033

在大多数情况下，这是一个类加载问题。您在一个 dll 中编译了 2 个 jar 文件。如果两个 jar 文件中有相同的文件（主要在 META_INF 中），则会产生问题。在这种情况下，在单个 dll 中编译每个 jar 文件。

如果这没有帮助，那么您可以设置一个上下文类加载器。详细信息在[wiki](https://sourceforge.net/apps/mediawiki/ikvm/index.php?title=ClassLoader)中。

# .htaccess - 为什么我的 htaccess 规则不起作用，除非它被定向到 PHP 文件

> ID：12834640
> 
> 赞同：0
> 
> 时间：2012-10-11T07:46:18.660
> 
> 标签：.htaccess, apache

我的 htaccess 文件位于“myappname”文件夹下。

我正在尝试重定向此路径；

```
myappname/CONTROLLER_NAME/ANYFILE.(css|js|gif|jpg|png) 
```

去那条路

```
myappname/views/default/tpl/CONTROLLER_NAME/ANYFILE.(css|js|gif|jpg|png) 
```

这是我的 HTACCESS 规则

```
RewriteEngine on
RewriteRule ^(.*)/(.*)\.(css|js|gif|jpg|png)$ views/default/tpl/$1/$2.$3 [L,NC] 
```

但它给了我 HTTP 500，除非我将它重定向到一个 PHP 文件，比如

```
RewriteEngine on
RewriteRule ^(.*)/(.*)\.(css|js|gif|jpg|png)$ views/default/tpl/$1/index.php?a=$2.$3 [L,NC] 
```

我的规则有什么问题？我对 htaccess 很陌生，我很有可能会错过一些小东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T19:37:08.433

这是因为您的目标与正则表达式匹配：

```
views/default/tpl/foo/bar.png 
```

匹配正则表达式：

```
^(.*)/(.*)\.(css|js|gif|jpg|png)$ 
```

所以规则只是不断循环。您需要添加一个条件：

```
RewriteCond %{REQUEST_URI} !^/views/default/tpl 
```

就在您的`RewriteRule`.

# php - PHP HTML 到 PDF 的按比例转换

> ID：12834641
> 
> 赞同：-1
> 
> 时间：2012-10-11T07:46:22.560
> 
> 标签：php, html, pdf, pdf-generation

我正在使用 PHP、MySQL 和 jQuery 构建 Web2Print 网站。该网站的主要概念是最终用户可以通过动态添加文本、图像、拖动、调整大小等来创建 HTML 模板，并将其转换为高分辨率 A4 大小的 PDF 和然后转到打印。

例如，请参阅链接[http://optisolbusiness.com/funeral_site/sample/index/id/255](http://optisolbusiness.com/funeral_site/sample/index/id/255)。这是要转换为 PDF 的示例 HTML。网页 HTML 的宽度和高度为 356x405px，问题是当我将其转换为大小为 8.5X11.69 英寸的 A4 PDF 时，HTML 在 PDF 中显示的非常小。

所以我必须增加 HTML 的宽度和高度以适应 PDF 大小，同时将 HTML 大小增加到 8.5X11.69in。HTML 内的内容也应按比例增加（即文本字体大小、背景图像、图像宽度和高度），左上角也应按比例增加。PDF 应该与 HTML 完全一样。我正在使用在线 API [htmlpdf.com](http://www.htmlpdf.com/)转换为 PDF。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:07:38.273

这个怎么做？有几种方法，但您必须愿意进行自己的研究。您可以通过多种方式绘制 PDF：

*   使用 PHP 库中的图形基元，例如 FPDF 和 TCPDF
*   使用带有文档模板的报告软件，例如 JasperReports（需要服务器根访问权限）
*   通过从 HTML 转换，比如通过`wkhtmltopdf`（免费）或 Prince（昂贵）
*   通过操作 SVG 并将其呈现为 PDF，例如在 Inkscape 中（我还没有看到其他人采用这种方法，但我有一个工作演示 -[请参见此处](https://stackoverflow.com/a/10300498/472495)。仅在您熟悉以编程方式操作 XML 时推荐）

请记住，要在纸上获得高分辨率输出 (300-600pdi)，您需要使用正确的字体或矢量图形。这些以所需的分辨率呈现，如果您正确使用它们，它们不会像素化。如果做不到这一点，请使用正确分辨率的位图，因此如果您有一个 1200 像素的正方形图像，并且您希望以 600pdi 打印，那么图像的任一侧都不能大于 2 英寸。

一般来说，最好不要依赖第三方转换服务，除非您与他们签订了合同——因为他们可以随时关闭他们的网站或拒绝访问，而您的工作将被浪费。

# facebook - 从 facebook 上的墙上相册中抓取图像

> ID：12834643
> 
> 赞同：0
> 
> 时间：2012-10-11T07:46:25.993
> 
> 标签：facebook, scrape

是否可以抓取 Facebook 群组相册的图片和标题？有什么想法或知道一个很好的教程来解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T15:30:24.503

使用 API 似乎无法做到这一点。

您应该能够在[Graph API 资源](https://developers.facebook.com/tools/explorer)`/GROUP_ID/albums`管理器中调用以获取album_id，然后调用以获取照片。`/ALBUM_ID`

这两个对我管理的组的调用都会导致 OAuth 错误：“(#3) 应用程序必须在白名单中”

似乎只有 Facebook 员工才能将应用程序列入白名单。

您可以尝试手动抓取相册 URL，就像您是浏览器一样，但这不受支持，可能会导致您和您的群组被禁止。

# java - 什么是使类不可序列化的好方法？

> ID：12834645
> 
> 赞同：19
> 
> 时间：2012-10-11T07:46:32.597
> 
> 标签：java, serialization, coding-style

Java 包含许多实现[可怕且容易出错的](http://www.ibm.com/developerworks/java/library/j-5things1/index.html) [接口`Serializable`](http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html)的类（如 Swing 中的类） 。

例如，如果您`TableModel`通过扩展实现 new `AbstractTableModel`，则新模型必须是可序列化的，但如果它包含不可序列化的内部数据类型，并且由于您不打算使用此功能而不必序列化，该怎么办？

在这种情况下，[Sonar](http://www.sonarsource.org/)之类的工具会发疯。要么抱怨“类`Foo`定义了非瞬态不可序列化的实例字段`bar`”。

所以我制作那个字段`transient`只是为了得到“该字段`Foo.bar`是瞬态的，但不是由反序列化设置的”

是否可以说“不，这个类不可序列化，我不希望它是”，这样您就不会在像 Sonar 这样的工具中出现任何错误？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-10-11T07:49:46.073

引用这篇[JavaRevisited 文章](http://javarevisited.blogspot.com/2011/04/top-10-java-serialization-interview.html)（参见 #8）：

> 为避免 java 序列化，您需要在类中实现 writeObject() 和 readObject() 方法，并且需要从这些方法中抛出 NotSerializableException。

因此，您只需将其粘贴到您的课程中：

```
private void writeObject(java.io.ObjectOutputStream stream) throws java.io.IOException {
    throw new java.io.NotSerializableException( getClass().getName() );
}

private void readObject(java.io.ObjectInputStream stream) throws java.io.IOException, ClassNotFoundException {
    throw new java.io.NotSerializableException( getClass().getName() );
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-11T07:50:45.450

实现`writeObject()`和`readObject()`抛出的方法`NotSerializableException`

或者

[http://docs.oracle.com/javase/6/docs/platform/serialization/spec/security.html#4214](http://docs.oracle.com/javase/6/docs/platform/serialization/spec/security.html#4214)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-18T21:52:43.210

你可以使用类似的东西吗？

```
@SuppressFBWarnings(justification = "This field need to be transient")
private transient SomeObject myTransientField; 
```

您将抑制 Findbug 警告。您还可以指定要取消的验证类型，例如：

```
@SuppressFBWarnings("SE_TRANSIENT_FIELD_NOT_RESTORED") 
```

完整列表在那里： http: [//findbugs.sourceforge.net/bugDescriptions.html](http://findbugs.sourceforge.net/bugDescriptions.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T08:23:54.933

我在这里看到的答案实际上只是回答是否可以防止某些标记为可序列化的类的序列化或反序列化。不过，问题是另一个问题：

“是否可以说“不，这个类不可序列化，我不希望它是”，这样您就不会在像 Sonar 这样的工具中出现任何错误？

（所以我想知道那些答案有那么多赞成票......）

谷歌搜索的答案似乎是否定的，Sonar 可以被告知这样的类是“误报”，但这需要对 Sonar 进行修补。开发由其他人的 Sonar 检查的代码的开发人员无法从这种可能性中受益。

而且由于这个问题实际上也要求为“像 Sonar”之类的其他工具提供解决方案，所以一般的答案不能是“是”——当然，一些这样的工具会坚持“实现 Serializable + 具有不可序列化的非瞬态字段"的意思是麻烦。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T07:53:19.800

我可以考虑实现方法`private void writeObject()`如下：

```
private void writeObject(ObjectOutputStream oos) throws IOException {
    throw new UnsupportedOperationException("Not serializable!!!");
} 
```

或者，您可以实现`Externalizable`并编写类似的实现`writeExternal()`

两者都不是“好”的方法，而只是解决方法。

# c# - c# 中的睡眠直到

> ID：12834659
> 
> 赞同：6
> 
> 时间：2012-10-11T07:48:16.277
> 
> 标签：c#, thread-sleep

我想每隔 1 秒定期运行一个函数，所以 10 秒后它会执行 10 次。最简单的方法是使用这样的循环：

```
while(true)
{
Thread.Sleep(1000);
function();
} 
```

但是这种方法的主要问题是它不会提供任何定期保证。我的意思是，如果运行 function() 需要 0.1 秒，那么函数的执行时间将是这样的： 0, 1.1 , 2.2, 3.3, 4.4 , ...

我记得，在实时语言 ADA 中，我们有一个函数 sleep-until(#time)。现在我正在寻找 C# 中的替代方案。

任何示例代码都将被应用。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T07:53:02.013

```
System.Threading.Timer timer = new System.Threading.Timer(ThreadFunc, null, 0, 1000);

private static void ThreadFunc(object state)
{
    //Do work in here.
} 
```

有关详细信息，请参阅[MSDN](http://msdn.microsoft.com/en-us/library/system.threading.timer.aspx)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T07:56:33.343

你可以用它[`Stopwatch`](http://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch.aspx)来测量时间。我也会用 a`For-Loop`代替。

```
var sw = new System.Diagnostics.Stopwatch();
var timeForOne = TimeSpan.FromSeconds(1);
var count = 10;
for(int i = 0; i < count; i++)
{
    sw.Restart();
    function();
    sw.Stop();
    int rest = (timeForOne - sw.Elapsed).Milliseconds;
    if (rest > 0)
        System.Threading.Thread.Sleep(rest);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:51:56.507

要在特定时间间隔后调用某些内容，您应该使用 Timer 类。这是[教程](http://www.dotnetperls.com/timer)

# html - 如何从 xml 文件中检索值并在 html 网页中显示？

> ID：12834660
> 
> 赞同：0
> 
> 时间：2012-10-11T07:48:19.413
> 
> 标签：html, xml

以下是 XML 文件的代码：

```
<?xml version="1.0"?>
<catalog>
   <book id="bk101">
      <author>Gambardella, Matthew</author>
      <title>XML Developer's Guide</title>
      <genre>Computer</genre>
      <price>44.95</price>
      <publish_date>2000-10-01</publish_date>
      <description>An in-depth look at creating applications 
      with XML.</description>
   </book>
</catalog> 
```

需要在 HTML5 中以表格格式显示字段。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:59:08.693

资料来源：[http ://www.w3schools.com/xml/xml_to_html.asp](http://www.w3schools.com/xml/xml_to_html.asp)

工作示例： http: [//kasperkoman.com/xmltohtml/](http://kasperkoman.com/xmltohtml/)

```
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.open("GET","books.xml",false);
xmlhttp.send();
xmlDoc=xmlhttp.responseXML; 

document.write("<table border='1'>");
var x=xmlDoc.getElementsByTagName("book");
for (i=0;i<x.length;i++)
  { 
  document.write("<tr><td>");
  document.write(x[i].getElementsByTagName("author")[0].childNodes[0].nodeValue);
  document.write("</td><td>");
  document.write(x[i].getElementsByTagName("title")[0].childNodes[0].nodeValue);
  document.write("</td><td>");
  document.write(x[i].getElementsByTagName("genre")[0].childNodes[0].nodeValue);
  document.write("</td><td>");
  document.write(x[i].getElementsByTagName("price")[0].childNodes[0].nodeValue);
  document.write("</td><td>");
  document.write(x[i].getElementsByTagName("publish_date")[0].childNodes[0].nodeValue);
  document.write("</td><td>");
  document.write(x[i].getElementsByTagName("description")[0].childNodes[0].nodeValue);
  document.write("</td></tr>");
  }
document.write("</table>"); 
```

# jquery - 为什么 $.isEmptyObject($('#id-does-not-exist-on-page')) 返回 false？

> ID：12834661
> 
> 赞同：2
> 
> 时间：2012-10-11T07:48:28.510
> 
> 标签：jquery

我有点困惑`jQuery.isEmptyObject method`。

`$.isEmptyObject([])`-> 返回真

但

`$('#id-does-not-exist-on-page')`=> []

`$.isEmptyObject($('#id-does-not-exist-on-page'))`返回假

为什么 ？谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T08:13:24.807

从[isEmptyObject](http://api.jquery.com/jQuery.isEmptyObject/)，

> 检查对象是否为空（不包含属性）

但，

`$('#id-does-not-exist-on-page')`还是有属性的。

`$('#id-does-not-exist-on-page').addClass('abra_ka_dabra')` // 有效的

`[].addClass('abra_ka_dabra');` // TypeError: Object has no method 'addClass'

所以，

试试这个

`$.isEmptyObject($('#id-does-not-exist-on-page')[0])`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:52:02.330

根据 jQuery 文档（[isEmptyObject](http://api.jquery.com/jQuery.isEmptyObject/)）：

> 参数应始终是纯 JavaScript 对象，因为其他类型的对象（DOM 元素、原始字符串/数字、宿主对象）可能无法在浏览器之间给出一致的结果

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:59:41.850

因为`$('#id-does-not-exist-on-page')`返回一个不匹配任何内容的选择器，而不是一个空对象`{}`

# drupal - drupal 6 和 7 的一个插件

> ID：12834664
> 
> 赞同：1
> 
> 时间：2012-10-11T07:48:42.847
> 
> 标签：drupal, drupal-6, drupal-7, drupal-modules

我写了drupal插件，兼容drupal6和drupal7。有没有办法将它作为一个插件共享？

在 *.info 文件中有**core = 7.x**或**core = 6.x**。可能我可以设置像**core = 6.x, 7.x**这样的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:58:56.757

不幸的是，你不能这样做。

您必须使用不同的文件复制模块`.info`文件。

# php - php布尔函数中设置返回类型的约定

> ID：12834666
> 
> 赞同：1
> 
> 时间：2012-10-11T07:48:54.003
> 
> 标签：php, performance, boolean, boolean-logic

在布尔函数中显式“返回 FALSE”还是“返回 TRUE”好

示例 A：

```
 function check($link){
  if(isset($link)){
  return TRUE;
  }else{
  return FALSE;
  } 
```

**或** 示例 B：

```
 function check($link){
  if(isset($link)){
  return TRUE;
  } 
```

默认情况下 php 函数返回 FALSE，所以如果我提到返回 FALSE 或忽略它作为示例 B 是否很好

所以如果我检查它的真假

```
 if(check('eqweqw')){
  echo 'its set';
 }else{
 echo 'its not';
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:51:47.757

示例 A 是更好的做法，因为它明确说明了代码的意图。如果阅读您的代码的人不知道默认返回 FALSE，他们可能会认为您的代码有错误。

记住：编写代码，以便其他人可以轻松阅读和理解。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-06T21:09:29.740

您可以将其简化为：

```
function check($link){
  return isset($link);
} 
```

但这听起来很像它在功能上等同于 isset，所以也许你应该改用它。至于最佳实践问题，如果 PHP 在 isset 上返回 bool true/false，那么您也可以这样做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:52:21.857

从[手册](http://php.net/manual/en/function.return.php)：

> 注意：如果未提供参数，则必须省略括号并返回 NULL。

如果您希望函数返回`false`，则必须显式返回 false。由于 null 不等于 false 构造 B 在某些情况下会失败：

```
if(check('eqweqw') === false){
 echo 'its not';
 }else{
  echo 'its set';
 } 
```

将`its set`在构造 B 中返回

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T07:55:52.730

在您的示例中，最好在所有情况下都返回布尔值，而不是只返回一个`true`或什么都不返回。

这是我的做法：

```
function check($link){

  $result = false;

  if(isset($link)){
     $result = true;
  }

  return $result;
} 
```

尽量避免在你的代码中有很多点`return`，并尽可能有一个退出点。

# windows - 如何使用任务计划程序定期打开网页

> ID：12834667
> 
> 赞同：4
> 
> 时间：2012-10-11T07:48:53.117
> 
> 标签：windows, scheduled-tasks, webpage

我需要使用任务计划程序定期打开一个网页。

在 Linux 上，我可以运行 crontab 作业来执行此操作，但这次我必须在 Windows XP 上执行此操作。

你能帮我实现它吗？

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-17T00:13:05.617

If you want to call a URL using Windows Task Scheduler, you can check [this answer](https://stackoverflow.com/a/12081686/172163). However, there are other options like scheduling tool [ATrigger](http://atrigger.com).

**Disclaimer**: I was among builders of ATrigger. freeware, not commercial.

# ruby - Ruby 修改 project.pbxproj

> ID：12834668
> 
> 赞同：5
> 
> 时间：2012-10-11T07:48:55.937
> 
> 标签：ruby, json, parsing, pbxproj

我正在制作一个使用 ruby​​ 自动修改 iOS 项目的脚本。添加一些文件后，我需要修改 project.pbxproj 文件以保存项目中的更改。

我找到了一种将 pbxproj 文件解析为 json 的方法：

```
json = JSON.parse(`plutil -convert json -o - "#{filename}"`) 
```

但是在修改了 json 之后，我想恢复过程以将更改保存为 pbxproj 格式。有人知道这样做的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-19T20:14:13.463

似乎没有办法直接将 JSON 转换回 pbxproj 文件格式，但 Xcode 会将`xml1`格式化数据读取为有效的项目文件。

受到[图书馆接受的答案的启发，以读取/写入 pbxproj/xcodeproj 文件？](https://stackoverflow.com/questions/1452707/library-to-read-write-pbxproj-xcodeproj-files)，我决定尝试使用项目转换后的 JSON 运行 Xcode。Xcode 给了我一个错误，说该项目无效。当我使用 将 JSON 转换为 XML`plutil`时，Xcode 可以很好地读取它。当我观察文件内容时，我发现当 Xcode 加载它时它停留在 XML 中，但是当我在 Xcode 中更改任何值时，它使用 pbxproj 格式重写了文件。它似乎重新排列了框架和库的顺序，但这可能是因为我处理的原始 pbxproj 是由 Unity3D 生成的。

以下是如何自动转换、操作和随后使用 pbxproj 文件的粗略配方：

```
#!/bin/sh
plutil -convert json -r -o project.json -- project.pbxproj
ruby my_script.rb < project.json > project-modified.json
plutil -convert xml1 -o project-modified.xml -- project-modified.json
cp project-modified.xml project.pbxproj 
```

我不知道是否有一种易于自动化的方法让 Xcode 将修改后的文件恢复到其原始格式，但调用`xcodebuild`或`xcrun`当文件为 XML 格式时应该没问题。

# mybatis - MyBatis 中 OGNL 中的别名

> ID：12834674
> 
> 赞同：3
> 
> 时间：2012-10-11T07:48:59.370
> 
> 标签：mybatis, ognl

我正在用 MyBatis 编程，我有这个代码

```
<if test="@mypackage.verylongname.utilities.MyBatisUtilities@isNotEmpty(recipient)">
    and DOCUMENTS.recipient = #{recipient}
</if> 
```

我想有办法避免使用我的类 MyBatisUtilities 的完整路径名。它在那里吗？

在 mybatis-config 文件中添加别名不起作用

```
<typeAlias alias="MyBatisUtilities" type="mypackage.verylongname.utilities.MyBatisUtilities"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T12:32:18.467

不要以为没有办法不，除非mybatis为OGNL提供了一些特殊的扩展功能。

这并不意味着它~不能~在 OGNL 内以某种方式通过更改核心库来完成，只是现在不要相信它。（我的记忆力可能不好，但可以肯定的是，@fullclassname@methodname 是 OGNL 知道的解决静态方法调用的唯一方法）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T09:07:39.523

"bind" 允许您从 OGNL 表达式中创建一个变量。有关更多信息，请参阅： http: [//mybatis.github.io/mybatis-3/dynamic-sql.html](http://mybatis.github.io/mybatis-3/dynamic-sql.html)

```
<select id="selectBlogsLike" parameterType="Blog" resultType="Blog">
    <bind name="pattern" value="'%' + _parameter.getTitle() + '%'" />
    SELECT * FROM BLOG
    WHERE title LIKE #{pattern}
 </select> 
```

# c# - 使用变量加载数据输入文件

> ID：12834675
> 
> 赞同：5
> 
> 时间：2012-10-11T07:49:03.147
> 
> 标签：c#, mysql, load-data-infile

我试图将 LOAD DATA INFILE 用作 sotred 程序，但似乎无法完成。然后我尝试了将代码嵌入到应用程序本身的常用方法，就像这样，

```
conn = new MySqlConnection(connStr);
conn.Open();
MySqlCommand cmd = new MySqlCommand();
cmd = conn.CreateCommand();
string tableName = getTableName(serverName);
string query = "LOAD DATA INFILE '" + fileName + "'INTO TABLE "+ tableName +" FIELDS TERMINATED BY '"+colSep+"' ENCLOSED BY '"+colEncap+"' ESCAPED BY '"+colEncap+"'LINES TERMINATED BY '"+colNewLine+"' ("+colUpFormat+");";
cmd.CommandText = query;
cmd.ExecuteNonQuery();
conn.Close(); 
```

保存在字符串变量查询中的生成查询是，

```
 LOAD DATA INFILE 'data_file.csv'INTO TABLE tbl_shadowserver_bot_geo FIELDS TERMINATED BY ',' ENCLOSED BY '"' ESCAPED BY '"'LINES TERMINATED BY '\n' (timestamp,ip,port,asn,@dummy,@dummy,@dummy,@dummy,@dummy,@dummy,url,agent,@dummy,@dummy,@dummy,@dummy,@dummy,@dummy,@dummy,@dummy,@dummy,@dummy,@dummy); 
```

但是现在当我运行程序时，它给出了一个错误消息，

```
 MySQLException(0x80004005) Parameter @dummy must be defined first. 
```

我不知道如何解决这个问题，但是当我直接在 mysql 本身上使用相同的查询时，它工作正常。请帮助我..非常感谢你:)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T09:09:12.437

我自己找到了解决办法，就是设置这个条件，

```
 Allow User Variables=true; 
```

在允许在查询中使用@parameter 值的连接字符串中:)

感谢您的回复 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:54:31.603

我也遇到了这个问题，然后我创建了批量插入脚本并使用 C#.net 代码运行它

# iphone - 应用内的评分和评论将用户带到应用商店，从而离开我们的应用 - 完全不受欢迎

> ID：12834676
> 
> 赞同：0
> 
> 时间：2012-10-11T07:49:06.167
> 
> 标签：iphone, ios, app-store, review, rate

参考问题

*   [用于将用户发送到设备应用商店的应用评论页面的 URL](https://stackoverflow.com/questions/3374050/url-for-sending-a-user-to-the-app-review-page-on-devices-app-store)
*   [来自 IOS 应用程序的评分和评论](https://stackoverflow.com/questions/4784248/rating-and-reviews-from-within-an-ios-app?lq=1)
*   [在我的应用程序中直接“在 iTunes 中评分”链接？](https://stackoverflow.com/questions/3654144/direct-rate-in-itunes-link-in-my-app)

这些问题的所有解决方案都将用户带到应用商店并离开我们的应用。是否可以像 web 视图一样从应用程序内对应用程序进行评分和审查。这样用户就不必离开应用程序。

请建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-22T18:02:01.820

目前，它已经改变。您可以使用*SKStoreProductViewController*从应用程序中显示 App Store，如我[在此处](https://stackoverflow.com/a/25452996/540639)的回答中所述。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T08:10:10.947

没有替代。用户只能通过 App Store 应用进行评分和评论。

# jenkins - Jenkins：为该组分组作业并限制构建处理器

> ID：12834677
> 
> 赞同：6
> 
> 时间：2012-10-11T07:49:07.000
> 
> 标签：jenkins

我们运行 Jenkins 有很多工作。目前，这些工作是通过使用“主工作”进行分组的。这些只会启动一组的所有工作。但是，如果其中一个主作业运行，它会同时启动大约 10 个其他作业。根据这些作业的持续时间和构建处理器的数量（目前为 6 个），Jenkins 被阻塞的时间更长（最多一个小时）。另一件事是，这些工作并不真正适合如此大规模的并行化。

为了解决这个问题，我正在寻找一种方法（插件），它允许对一些作业进行分组并并行启动它们，但将用于该组作业的构建处理器限制为固定数量（例如 2）。因此，可以运行一组编译 java 项目的作业并并行另一组安装测试数据库的作业。

我尝试了[Build flow plugin](https://wiki.jenkins-ci.org/display/JENKINS/Build+Flow+Plugin)，但它不是真正正确的：您必须手动将作业分离到并行运行的子组中，如果一个子组中的作业失败，则该组的以下作业不会启动。

那么，也许有人知道更适合的 Je​​nkins 插件？提前非常感谢！

坦率

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T10:06:02.380

[限制并发构建插件](https://wiki.jenkins-ci.org/display/JENKINS/Throttle+Concurrent+Builds+Plugin)

1.  创建一些类别*my-group*。
2.  将所有作业添加到该组中。
3.  设置最大并发构建总数和每个节点的最大并发构建。

# Not Found

The requested URL /info was not found on this server.

* * *

Apache/2.2.22 (Ubuntu) Server at api.mwt.needforspeed.info Port 80<<< Error (JSON 404): <title>404 Not Found</title>

# Not Found

The requested URL /info was not found on this server.

* * *

Apache/2.2.22 (Ubuntu) Server at api.mwt.needforspeed.info Port 80Android：RealViewSwitcher 不垂直滚动 我使用 RealViewSwitcher 滑动视图，没关系，我的问题与此类似。我将尝试通过这张照片解释一下我的情况 listview <------> 详细视图 ------> 滑动视图（水平）。详细视图仅显示部分，如果尝试滚动则没有任何反应。 详细布局（无垂直滚动） <linearlayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical"><textview android:id="@+id/textView1" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_gravity="center" android:textcolorhint="#FF0000" android:textsize="12dp" android:textstyle="bold" android:typeface="sans"><imageview android:id="@+id/imageView1" android:layout_width="150dip" android:layout_height="120dip" android:scaletype="centerCrop" android:src="@drawable/stub"></imageview></textview></linearlayout>使用 RealViewSwitcher 进行布局 <linearlayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_height="fill_parent" android:layout_width="fill_parent" android:orientation="vertical"><it.application.ppn.lib.realviewswitcher android:id="@+id/horizontal_pager" android:layout_width="fill_parent" android:layout_height="0px" android:layout_weight="1"></it.application.ppn.lib.realviewswitcher></linearlayout>vmc 4 1 回答 1 This answer is useful 0 看起来您在端口 80 上运行了 apache 网络服务器。 如果您将 cloudfoundry 安装到普通的 Ubuntu，它将安装 nginx 作为网络服务器。所以首先停止你的apache，通常是： sudo /etc/init.d/apache2 stop 然后检查您的 nginx（cloudfoundry 术语中的路由器）是否正在运行： source ~/.cloudfoundry_deployment_local ~/cloudfoundry/vcap/dev_setup/bin/vcap_dev -n rest status router 请注意，您需要额外的-n rest参数，因为您似乎没有使用默认开发名称：dev_box 于 2012-11-16T22:19:07.393 回答 Related 1 javascript - 来自多个视图实例的代码导致冲突 2 c# - 列出函数 2 iphone - 标签之间的自动间距 1 html - CSS：防止一个div包裹在另一个div下面 2 django - 给锚标记一个 id 不会在 django 中执行视图 1 sql - 如何将主值 (PK) 插入相关表 (FK) 1 ios - 限制向设备发送推送通知 3 python - Scrapy - 抓取和抓取网站 4 python - python 几何序列 1 php - MySQL While 循环不每次都执行插入子句 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641 <link href="../Styles/Style.css" type="text/css" rel="stylesheet">

# vmc - 错误（JSON 404）： 当我运行“vmc info”时，我收到一个错误：错误（JSON 404）： cloud@rest:~/cloudfoundry/.deployments/rest/log$ vmc info -t >>> REQUEST: get http://api.mwt.needforspeed.info/info RESPONSE_HEADERS: conten 问问题 问问题 2012-10-11T07:49:15.890 4614 次 This question shows research effort; it is useful and clear 1 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 当我运行“vmc info”时，我收到一个错误：错误（JSON 404）： cloud@rest:~/cloudfoundry/.deployments/rest/log$ vmc info -t >>> REQUEST: get http://api.mwt.needforspeed.info/info RESPONSE_HEADERS: content_length : 239 date : Thu, 11 Oct 2012 07:32:17 GMT content_type : text/html; charset=iso-8859-1 content_encoding : gzip server : Apache/2.2.22 (Ubuntu) vary : Accept-Encoding RESPONSE: [404] <title>404 Not Found</title>

# Not Found

The requested URL /info was not found on this server.

* * *

Apache/2.2.22 (Ubuntu) Server at api.mwt.needforspeed.info Port 80<<< Error (JSON 404): <title>404 Not Found</title>

# Not Found

The requested URL /info was not found on this server.

* * *

Apache/2.2.22 (Ubuntu) Server at api.mwt.needforspeed.info Port 80Android：RealViewSwitcher 不垂直滚动 我使用 RealViewSwitcher 滑动视图，没关系，我的问题与此类似。我将尝试通过这张照片解释一下我的情况 listview <------> 详细视图 ------> 滑动视图（水平）。详细视图仅显示部分，如果尝试滚动则没有任何反应。 详细布局（无垂直滚动） <linearlayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical"><textview android:id="@+id/textView1" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_gravity="center" android:textcolorhint="#FF0000" android:textsize="12dp" android:textstyle="bold" android:typeface="sans"><imageview android:id="@+id/imageView1" android:layout_width="150dip" android:layout_height="120dip" android:scaletype="centerCrop" android:src="@drawable/stub"></imageview></textview></linearlayout>使用 RealViewSwitcher 进行布局 <linearlayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_height="fill_parent" android:layout_width="fill_parent" android:orientation="vertical"><it.application.ppn.lib.realviewswitcher android:id="@+id/horizontal_pager" android:layout_width="fill_parent" android:layout_height="0px" android:layout_weight="1"></it.application.ppn.lib.realviewswitcher></linearlayout>vmc 4 1 回答 1 This answer is useful 0 看起来您在端口 80 上运行了 apache 网络服务器。 如果您将 cloudfoundry 安装到普通的 Ubuntu，它将安装 nginx 作为网络服务器。所以首先停止你的apache，通常是： sudo /etc/init.d/apache2 stop 然后检查您的 nginx（cloudfoundry 术语中的路由器）是否正在运行： source ~/.cloudfoundry_deployment_local ~/cloudfoundry/vcap/dev_setup/bin/vcap_dev -n rest status router 请注意，您需要额外的-n rest参数，因为您似乎没有使用默认开发名称：dev_box 于 2012-11-16T22:19:07.393 回答 Related 1 javascript - 来自多个视图实例的代码导致冲突 2 c# - 列出函数 2 iphone - 标签之间的自动间距 1 html - CSS：防止一个div包裹在另一个div下面 2 django - 给锚标记一个 id 不会在 django 中执行视图 1 sql - 如何将主值 (PK) 插入相关表 (FK) 1 ios - 限制向设备发送推送通知 3 python - Scrapy - 抓取和抓取网站 4 python - python 几何序列 1 php - MySQL While 循环不每次都执行插入子句 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：12834679
> 
> 赞同：1
> 
> 时间：
> 
> 标签：vmc

* * *

当我运行“vmc info”时，我收到一个错误：错误（JSON 404）：

cloud@rest:~/cloudfoundry/.deployments/rest/log$ vmc info -t

```
>>>
REQUEST: get http://api.mwt.needforspeed.info/info
RESPONSE_HEADERS:
    content_length : 239
    date : Thu, 11 Oct 2012 07:32:17 GMT
    content_type : text/html; charset=iso-8859-1
    content_encoding : gzip
    server : Apache/2.2.22 (Ubuntu)
    vary : Accept-Encoding
RESPONSE: [404]
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>404 Not Found</title>
</head><body>
<h1>Not Found</h1>
<p>The requested URL /info was not found on this server.</p>
<hr>
<address>Apache/2.2.22 (Ubuntu) Server at api.mwt.needforspeed.info Port 80</address>
</body></html>
<<<
Error (JSON 404): <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>404 Not Found</title>
</head><body>
<h1>Not Found</h1>
<p>The requested URL /info was not found on this server.</p>
<hr>
<address>Apache/2.2.22 (Ubuntu) Server at api.mwt.needforspeed.info Port 80</address>
</body></html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T22:19:07.393

看起来您在端口 80 上运行了 apache 网络服务器。

如果您将 cloudfoundry 安装到普通的 Ubuntu，它将安装 nginx 作为网络服务器。所以首先停止你的apache，通常是：

```
sudo /etc/init.d/apache2 stop 
```

然后检查您的 nginx（cloudfoundry 术语中的路由器）是否正在运行：

```
source ~/.cloudfoundry_deployment_local
~/cloudfoundry/vcap/dev_setup/bin/vcap_dev -n rest status router 
```

请注意，您需要额外的**-n rest**参数，因为您似乎没有使用默认开发名称：**dev_box**

# android - Android：RealViewSwitcher 不垂直滚动

> ID：12834681
> 
> 赞同：4
> 
> 时间：2012-10-11T07:49:32.983
> 
> 标签：android, view, scroll

我使用 RealViewSwitcher 滑动视图，没关系，我的问题与[此](https://stackoverflow.com/questions/12315388/android-realviewswitcher-shows-view-partially)类似。我将尝试通过这张照片解释一下我的情况![设想](../Images/88b8e4244687ab515a832ff6311ce68e.png)

listview <------> 详细视图 ------> 滑动视图（水平）。详细视图仅显示部分，如果尝试滚动则没有任何反应。

详细布局（无垂直滚动）

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

     <TextView
        android:id="@+id/textView1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:textColorHint="#FF0000"
        android:textSize="12dp"
        android:textStyle="bold"
        android:typeface="sans" />

         <ImageView
            android:id="@+id/imageView1"
            android:layout_width="150dip"
            android:layout_height="120dip"
            android:scaleType="centerCrop"
            android:src="@drawable/stub"/>   
   <TextView
        android:id="@+id/textView2"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:padding="20dip"
        android:textColor="#999999"
        android:textColorLink="#ff0000"
        android:textSize="20dip"
        android:textStyle="normal"
        android:typeface="sans" />
</LinearLayout> 
```

使用 RealViewSwitcher 进行布局

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_height="fill_parent"
    android:layout_width="fill_parent"
    android:orientation="vertical">

    <it.application.ppn.lib.RealViewSwitcher
        android:id="@+id/horizontal_pager"
        android:layout_width="fill_parent"
        android:layout_height="0px"
        android:layout_weight="1">

    </it.application.ppn.lib.RealViewSwitcher>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-08T12:21:27.170

我遇到了同样的问题，并通过在 RealViewSwitcher 中拦截触摸事件找到了解决方案。

**编辑：**以前发布的变体不适用于较新的 API。代码有第三次修订。

将这些行添加到 RealViewSwitcher 实现中：

```
@Override
public boolean onInterceptTouchEvent(MotionEvent event) {

    // prevent vertical scrolling when view switching in progress 
    if (!mScroller.isFinished())
        return true;

    switch (event.getAction()) {
    case MotionEvent.ACTION_DOWN:
        mScrollLocked = false;
        mLastX = event.getX();
        mLastY = event.getY();
        mDeltaX = 0;
        mDeltaY = 0;
        onTouchEvent(event);
        break;

    case MotionEvent.ACTION_MOVE:
        final float x = event.getX();
        final float y = event.getY();
        mDeltaX += Math.abs(x - mLastX);
        mDeltaY += Math.abs(y - mLastY);
        mLastX = x;
        mLastY = y;
        if (mDeltaX > mDeltaY) {
            mScrollLocked = true;
            onTouchEvent(event);
        } else {
            snapToDestination();
        }
        break;
    }

    if (mScrollLocked)
        return true; // prevent furhter processing

    return super.onInterceptTouchEvent(event);
} 
```

**EDIT2：**还需要编辑`onTouchEvent`方法和替换`case MotionEvent.ACTION_DOWN:`正文如下：

```
 case MotionEvent.ACTION_DOWN:

        /*
         * If being flinged and user touches, stop the fling. isFinished will be false if being flinged.
         */
        mTouchState = mScroller.isFinished() ? TOUCH_STATE_REST : TOUCH_STATE_SCROLLING;

        if (mTouchState == TOUCH_STATE_SCROLLING) {
            mScroller.abortAnimation();
        }

        // Remember where the motion event started
        mLastMotionX = x;

        break; 
```

# model - 如何在 Sencha 中为来自服务器的 Json 响应编写模型和存储

> ID：12834683
> 
> 赞同：0
> 
> 时间：2012-10-11T07:49:39.347
> 
> 标签：model, sencha-touch, extjs, sencha-touch-2, store

这是我来自服务器的 json 响应，

```
 {"class":"co.myapp.json.WsResponse","code":0,"message":"SUCCESS",
        "packet":
        {"class":"co.myapp.json.MyWantPacket","fullname":"Viswa","imageURI":"images/1.png","userid":1,"username":"viswa11","wantSuggestion":"learn guitar",
        "wants":[{
            "class" : "co.myapp.json.MyWant",
            "id" : 2,
            "replyCount" : 0,
            "text" : "Message 2",
            "time" : "Oct 3, 2012 - 14:59:02"
        }, {
            "class" : "co.myapp.json.MyWant",
            "id" : 1,
            "replyCount" : 2,
            "text" : "Message 1",
            "time" : "Oct 3, 2012 - 14:59:02"
        }]
    }} 
```

我需要来自 jsone 上方的全名、imageuri、replayCount 和文本，

*** 这是我的模型**

```
Ext.define('myApp.model.Wants', {
    extend : 'Ext.data.Model',
    config : {

        fields : [
            { name : 'id', type : 'int'},
            { name : 'replyCount', type : 'int'},
            { name : 'text',type : 'string'},
                    { name : 'wants',type : 'string'},
                    { name : 'fullname',type : 'string'},
                    { name : 'imageURI',type : 'string'}
            { name : 'time', type : 'string',dateFormat : 'D'}
        ]
    }
}); 
```

*** 这是我的商店**

```
Ext.define('myApp.store.WantsStore', {
    extend : 'Ext.data.Store',
    config : {
        model : 'myApp.model.Wants',
        proxy : {
            type : 'ajax',
             url : http://127.0.0.1:8080/myapp/message/mwants?token=2143cede2ab147e6bc1cd5c7caa14792
            reader : {
                type : 'json',
                rootProperty : 'packet'
            }
        },
        sorters : [{
            property : 'time',
            direction : 'DESC'
        }]
    }
}); 
```

***这是我的 DataViewList（视图）**

```
Ext.define('myApp.view.WantsList', {
    extend : 'Ext.List',
    xtype : 'wantslist',
    config : {
        itemCls : 'my-dataview-item',
        loadingText : 'Loading items...',
        emptyText : '<div class="notes-list-empty-text">No Wants found.</div>',
        itemTpl : '<div><img src="{imageURI}"/><span class="list-item-title">{fullname}</span><span id="count" class="list-item-title">{replyCount}</span><p class="list-item-title">{text} <span id="time" class="list-item-title">{time}' 
        + '</span></p>'
    }
}); 
```

****如何更改模型、存储和查看****，以便我可以在 DataViewList 中显示全名、imageuri、replayCount 和文本。**

 **## 我也想显示列表

图像全名 replayCount 文本时间（这是列表中的 1 项）

图像全名 replayCount 文本时间（这是列表中的 2 项）

图像全名 replayCount 文本时间（这是列表中的 3 项）

图像全名 replayCount 文本时间（这是列表中的 4 项）

...........

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T19:00:50.400

我认为你已经正确配置了你的类，但是你在 JSon 中的数据包属性必须是一个数组，如果不是，你的 Store 中只能有一个记录。我是说：

```
{"class": "co.myapp.json.WsResponse",
  "code":0,
  "message":"SUCCESS",
  "packet": [{
      "class":"co.myapp.json.MyWantPacket",
      "fullname":"Viswa",
      "imageURI":"images/1.png",
... 
```

请参阅数据包对象开头的 [。**

# lotus-notes - notesdocumentcollection.ftsearch 和带有特殊字符的搜索查询

> ID：12834687
> 
> 赞同：0
> 
> 时间：2012-10-11T07:49:48.773
> 
> 标签：lotus-notes, xpages, xpages-ssjs

我尝试在 ssjs 中创建一个看起来像这样的搜索功能。

```
notesdocumentcollection.ftsearch('"*' + searchword + '*"'); 
```

我有一个此字段值为“Dr. Max Muster”的文档。如果我搜索“博士”，我会得到一个结果。如果我搜索“dr. max”，我没有得到结果。如果我删除通配符并输入“dr. max”，我会得到一个结果。

我也试过这样

```
notesdocumentcollection.ftsearch('*' + searchword + '*'); 
```

有没有办法在搜索查询中获得带有通配符和特殊字符的结果？

PS如果我在视图中的notesclient中尝试这个，它将起作用。

编辑：对于这个查询“马博士”，我从服务器得到了这个调试结果

```
IN FTGSearch option = 0x400089 
[12CC:000A-1A30] Query: dr. ma 
[12CC:000A-1A30] Engine Query: ("drma") 
[12CC:000A-1A30] OUT FTGSearch error = F22 
[12CC:000A-1A30] FTGSearch: found=0, returne 
[12CC:000A-1A30] IN FTGSearch option = 0x40008C 
[12CC:000A-1A30] Query: *"dr**ma"* 
[12CC:000A-1A30] Engine Query: ("*dr**ma*") 
[12CC:000A-1A30] OUT FTGSearch error = F22 
[12CC:000A-1A30] FTGSearch: found=0, returned=0, start=0, count=0, limit=0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:58:38.390

好的，首先搜索引擎使用[三元](http://en.wikipedia.org/wiki/N-gram)组系统。因此搜索 2 个字符将无法按预期工作。外卡可能会有所帮助，但不能保证它会得到一切。

因此，据我了解，如果您在笔记客户端的全文搜索栏中手动输入以下内容并且它可以工作？（包括报价）

```
"*dr. max*" 
```

在 Notes 客户端中需要注意的一件事是，您可以激活两种不同的搜索模式（切换基本首选项）。Web 查询和 Notes 查询。

默认情况下，网络查询处于启用状态 (IIRC)，因此您可以像使用标准互联网搜索引擎一样进行搜索。

如果您已将其切换到 Notes 查询，或者搜索以全大写单词开头，则它使用 Notes 之前使用的语法。

因此，您可能会因此看到客户端与 XPage 的差异。

要对此进行测试，您可以按如下方式进行调试。在 Domino 服务器控制台上键入以下内容。

```
set config DEBUG_THREADID=1
set config CONSOLE_LOG_ENABLED=1
set config Debug_FTV_Search=1 
```

现在在notes 客户端和XPage 中进行搜索。它将在 Domino 控制台上生成如下内容（注意：我在开头添加了重要行的数字）。

```
IN FTGSearch
[07FC:0048-0A94] option = 0x400219
1\. [07FC:0048-0A94] Query: ("*test*")
2\. [07FC:0048-0A94] Engine Query: ("*test*"%STEM)
3\. [07FC:0048-0A94] GTR query performed in 6 ms. 5 documents found
4\. [07FC:0048-0A94] 0 documents disualified by deletion
5\. [07FC:0048-0A94] 0 documents disqualified by ACL
6\. [07FC:0048-0A94] 0 documents disqualified by IDTable
7\. [07FC:0048-0A94] 0 documents disqualified by NIF
8\. [07FC:0048-0A94] Results marshalled in 3 ms. 5 documents left
9\. [07FC:0048-0A94]  OUT FTGSearch error = 0
[07FC:0048-0A94] FTGSearch: found=5, returned=5, start=0, count=0, limit=0
[07FC:0048-0A94] Total search time 10 ms. 
```

每个位的解释。

1.  您发送到搜索引擎的字符串。在这种情况下，它是“测试”（带引号）
2.  编译后的搜索字符串。
3.  花了多长时间和找到的文件总数。
4.  被丢弃的总数，因为它被标记为已删除。
5.  由于您无权查看它们而被丢弃的总数。
6.  由于 IDTable 结果而丢弃的总数。
7.  全部丢弃，因为它们不会出现在您正在搜索的视图中。
8.  花费的时间和剩余的文件。
9.  如果发生任何错误。

因此，如果不清楚为什么提到它不起作用，请生成这两个搜索结果并发布它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:32:56.413

FTSearch 的文档说用引号将单词和短语括起来。所以试试这个（你把 searchword 变量括在引号中 - 而不是通配符星号）：

```
notesdocumentcollection.ftsearch('*"' + searchword + '"*'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:47:07.410

Notes全文查询语法比迪士尼时间共享公寓更保密（如果你曾经在迪士尼，你就会明白）。

官方语法指南在这里：[http ://www-10.lotus.com/ldd/dominowiki.nsf/dx/full-text-syntax](http://www-10.lotus.com/ldd/dominowiki.nsf/dx/full-text-syntax)

对我帮助很大的是把 searchsite.ntf 拆开。在 FTSearch 的所有概念中，都以一种有效的方式实现了（任何时候都能运行的代码胜过文档）。

希望有帮助

# c# - 如何在 DataGridView 中仅调整特定列的大小？

> ID：12834695
> 
> 赞同：2
> 
> 时间：2012-10-11T07:50:27.383
> 
> 标签：c#, .net

我有一个 DataGridView，我只希望在调整窗口大小时调整特定列的大小。

目前，我正在调整需要在 form_Load() 和 form_Resize() 上固定的列的大小

```
dataGrid1.Columns[0].Width = 100;
dataGrid1.Columns[1].Width = 100;
dataGrid1.Columns[3].Width = 100; 
```

有一个更好的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:55:00.790

类上有一个[`AutoSizeMode`](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewcolumn.autosizemode.aspx)属性`DataGridViewColumn`。

我想您想将其设置为[`DataGridViewAutoSizeColumnMode.AllCells`](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewautosizecolumnmode.aspx)第 0、1 和 3 列以及第 2`.Fill`列。（看起来`.None`意味着它甚至不会适应单元格内容，我认为这不是您想要的.)

# apache-flex - 如何将数据从视图“输入”到模型？

> ID：12834699
> 
> 赞同：1
> 
> 时间：2012-10-11T07:50:40.910
> 
> 标签：apache-flex, model-view-controller

我知道我可能不应该这样做，但我认为没有办法解决这个问题。

我有一堆选项卡（TabNavigator），每个选项卡都包含一个基于相同视图但内容不同的数据网格。

在模型中，我有一个 Id 指定我所在的选项卡（基于此，我随后将在我的控制器内填充网格）。

我的问题是，如何喂 Id。

到目前为止，我试图做的是，在我看来：

```
<fx:Script>
    <![CDATA[
        import com.to.my.controller.MyController;
        import com.to.my.models.MyModel;

        import mx.events.ListEvent;

        [Inject][Bindable] public var controller:MyController;
        [Inject][Bindable] public var model:MyModel;

        this.model.tabTypeId = this.parentDocument.myTabNavigator.selectedChild.id;

    ]]>
</fx:Script> 
```

但显然这在编译时是错误的：

```
The this keyword can not be used in static methods. It can only be used in instance methods, function closures, and global code. 
```

Total flex 新手...对不起...

谢谢

# ios - 如果 Twitter 或 Facebook 帐户未在 iOS 6 上配置怎么办？

> ID：12834702
> 
> 赞同：6
> 
> 时间：2012-10-11T07:50:56.017
> 
> 标签：ios, facebook, twitter, ios6, social-framework

如果他们尚未登录，是否有人知道让用户输入他们的 Facebook 或 Twitter 帐户登录信息的聪明方法？例如，用户尝试使用 Facebook 登录我的应用程序，而没有在 iOS 设置中配置 Facebook 帐户。例如，我可以要求他通过警报来执行此操作，但我如何才能将他带到设置的确切部分？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T19:54:34.860

@rckoenes 是正确的。一般情况下没有办法手动将用户发送到偏好设置。在 iOS 5 中引入了一种方法，但 Apple 在 iOS 5.0.1 或 5.1 中迅速贬低了它，我不记得具体是哪一个。

现在，谈谈目前的情况。如果您使用`SLComposeViewController`in `Social Framework`，您甚至不必担心自己添加此功能。它是由 iOS 自动完成的。下面是我的 6.0 模拟器尝试在没有任何帐户登录的情况下发布到 Facebook 的屏幕截图。Twitter 和新浪微博也是如此。

![在此处输入图像描述](../Images/823b3d0f62fadec6c663ba89b6a04407.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:18:48.053

你不能，没有办法让用户进入设置应用程序，让他们单独找到正确的部分。

# c# - HRESULT 异常：0x80040013：将 R 与 C# 集成时：

> ID：12834704
> 
> 赞同：0
> 
> 时间：2012-10-11T07:51:01.413
> 
> 标签：c#, visual-studio-2010, r

我正在尝试将 R 与 C# Web 应用程序接口。我尝试了许多提供的解决方案，但无法通过。我得到的错误是：HRESULT 异常：0x80040013

# 我遵循的步骤是：

1.  为 windows xp（32 位）安装 R 2.15.1
2.  安装 R_Scilab_DCOM3.0-1B5
3.  在 R/R.15.1/library 中加载了 rscproxy_1.3-1 包
4.  将系统变量路径设置为 C:/Program Files/R/R.15.1/bin
5.  添加了3个COM引用-STATCONNECTORCLNTLib,StatConnectorCommonLib,STATCONNECTORSRVLib 代码：

私有 StatConnectorClass _statconnector = new STATCONNECTORSRVLib.StatConnectorClass(); _statconnector.Init("R");--> 行显示**来自 HRESULT 的异常：0x80040013**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T09:43:01.173

几年前我曾使用 COM 方法与 c# 接口，但我放弃了，因为在每次版本更改时都会出现与您提到的类似的问题。另外，R(D)COM 的授权方案对我来说有点晦涩难懂，.NET/COM/R 之旅的弯角太多。

我目前的选择是[Rserve](http://www.rforge.net/Rserve/)，它维护得很好，从来没有让我失望过。我已经为 c# 编写[了自己的测试平台](http://www.menne-biomed.de/uni/rserve.zip)，但我认为它已经过时，因为[RserveCLI](http://rservecli.codeplex.com/)更完整。

[R.NET](http://rdotnet.codeplex.com/)理论上是一个更好的概念，但出于奇怪的原因，作者认为它是“稳定的”，这是非常委婉的，因为主要是在内存管理方面存在许多错误。可惜它从来没有起飞。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-17T13:39:42.927

我相信 R.NET 是从 C# 访问 R 功能的更好方法。它全部在进程内运行，因此不需要运行外部 R 进程。

如果您安装[NuGet 包](https://nuget.org/packages/R.NET)，您将获得 1.5 版。这包含了我所做的一些内存管理修复，这些修复解决了人们报告的大多数崩溃问题。正如 Dieter 指出的那样，我们通过[F# RProvider](https://github.com/BlueMountainCapital/FSharpRProvider)广泛使用 R.NET ，并且它在最新版本中非常稳定。RProvider 还带有一个包装器生成器，它为可以从 C# 使用的 R 函数生成包装器函数。因此，例如，您可以将 C# 中的绘图函数称为 R.plot(...params...)。你会得到智能感知。

# c# - ASP.NET -Oracle - 在一定数量的现有连接之后不再可能连接

> ID：12834705
> 
> 赞同：0
> 
> 时间：2012-10-11T07:51:04.060
> 
> 标签：c#, asp.net, oracle

我们有一个使用 Oracle 数据库的 ASP.NET 应用程序。要连接到数据库，我们使用了以下基本方法：

```
OracleConnection con= new OracleConnection(....;
OracleCommand cmd=new OracleCommand();
cmd.Connection=con;
cmd.CommandText=....; 
```

我不知道为什么，但是在 14-15 个用户登录到应用程序之后，没有其他用户可以登录并且应用程序拒绝登录。除了连接字符串之外，我不知道从哪里开始调查. 连接字符串如下所示：

```
 "User ID=SSPF_WEB_EDITION;Data Source=SSPF;Persist Security Info=False;Password=123;Validate Connection=true; Connection TimeOut=15;Pooling=False; 
```

我想也许这个问题与“Pooling=False”选项有关？

编辑：我们使用 Oracle 的 ODP.NET。这是我们在日志中的内容：“TNS：listener 找不到具有匹配协议栈的可用处理程序”

# visual-studio - 配置 Visual Studio 2012 和团队基础

> ID：12834706
> 
> 赞同：1
> 
> 时间：2012-10-11T07:51:06.990
> 
> 标签：visual-studio, tfs

我刚开始`Visual Studio 2012`在一个项目组工作。我们`team foundation server`用来分享我们的代码。我在这里有几个问题，我希望有人可以帮助我解决它们。

1.  我已成功连接到我们的 TFS 服务器并签出了项目，但由于某种原因，当我检查我的解决方案资源管理器时，它显示“0 个解决方案”。我不知道这是否是一个问题，但我觉得这与我的其他问题有关。

2.  由于某种原因，我无法按下`play`按钮开始调试，同样在菜单中调试选项是灰色的，5 obv 也不起作用。在“项目”选项卡中，我没有选项将我的项目设置为启动项目，这样我就可以调试它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:57:10.493

检查您的源代码管理资源管理器。您可以在那里浏览 TFS 中的代码。确保有文件签入到此位置。如果没有，您首先必须将您的项目添加到 TFS。

如果 TFS 中有文件，请将文件映射到硬盘驱动器上的某个位置。然后通过在解决方案资源管理器中双击解决方案文件来打开它。

MSDN 有一个很好的演练：[为版本控制设置 Team Foundation Server](http://msdn.microsoft.com/en-us/library/hh301771.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:53:18.957

事实证明，本地路径必须位于 visual studidio\projects 文件夹中......重新映射它并按预期工作。不需要再回答这个问题了，不过还是谢谢你的建议:)

# maxima - 在最大值列表中创建一个 %union

> ID：12834709
> 
> 赞同：0
> 
> 时间：2012-10-11T07:51:20.213
> 
> 标签：maxima

`to_poly_solve`最大值中的函数返回 a`%union`但我想使用列表。

既然不起作用，如何将`%union`s 变成列表？`listify`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:51:20.213

这个功能对我有用：

```
LISTIFY(Union) := block(
                        [res : []],
                        (for si in Union do res : append(res, [si])),
                        return (res)
                       ); 
```

用法：

```
abc : %union([a = 2], [b = 3]);
LISTIFY(abc); 
```

输出：

```
%union([a=2],[b=3])
[[a=2],[b=3]] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T09:37:24.810

```
abc : %union([a = 2], [b = 3]);
args(abc); 
```

# android - 在广告首先加载之前，活动不会加载。如何在 admob 广告之前先加载活动

> ID：12834712
> 
> 赞同：0
> 
> 时间：2012-10-11T07:51:42.643
> 
> 标签：android, admob

如果没有 Internet 连接，则活动将保持黑色，就好像它正在加载一样。如何确保活动首先加载？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:08:26.037

使用线程： http: [//developer.android.com/reference/java/lang/Thread.html](http://developer.android.com/reference/java/lang/Thread.html)，将其声明为全局变量：`Handler mHandler = new Handler();` 然后在您需要的地方：

```
new Thread(new Runnable() {
    @Override
    public void run() {
        // TODO Auto-generated method stub
        while (true) {
            try {
                //waits 10 sec. to load the admob, enough time 
                //to load the activity
                Thread.sleep(10000); 
                mHandler.post(new Runnable() {

                    @Override
                    public void run() {
                        // TODO Auto-generated method stub
                        // Write your code here to the admob
                    }
                });
            } catch (Exception e) {
                // TODO: handle exception
            }
        }
    }
}).start(); 
```

# java - 计时器简历？

> ID：12834720
> 
> 赞同：2
> 
> 时间：2012-10-11T07:52:04.857
> 
> 标签：java, android, chronometer

当我点击开始时，'秒表'开始计数..我按下暂停，只有 textview 暂停，它没有恢复，因为它仍在后台运行..我需要它在我停止的地方恢复..

这是我的点 java 代码：

```
package com.example.chronometer2;

import com.example.chronometer.R;

import android.app.Activity;
import android.os.Bundle;
import android.os.SystemClock;
import android.view.View;
import android.widget.Button;
import android.widget.Chronometer;

public class ChronometerApp extends Activity {
   /** Called when the activity is first created. */
   @Override
   public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_chronometer);

       final Chronometer myChronometer = (Chronometer)findViewById(R.id.my_chronometer);
       Button buttonStart = (Button)findViewById(R.id.buttonstart);
       Button buttonStop = (Button)findViewById(R.id.buttonstop);
       Button buttonReset = (Button)findViewById(R.id.buttonreset);

       buttonStart.setOnClickListener(new Button.OnClickListener(){

   @Override
   public void onClick(View v) {
    // TODO Auto-generated method stub
    myChronometer.start();
   }});

       buttonStop.setOnClickListener(new Button.OnClickListener(){

   @Override
   public void onClick(View v) {
    // TODO Auto-generated method stub
    myChronometer.stop();

   }});

       buttonReset.setOnClickListener(new Button.OnClickListener(){

   @Override
   public void onClick(View v) {
    // TODO Auto-generated method stub
    myChronometer.setBase(SystemClock.elapsedRealtime());

   }});

   }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T08:06:31.297

您需要定义一个变量，其中包含计时器停止时经过的时间

```
timeWhenStopped = chronometer.getBase() - SystemClock.elapsedRealtime(); 
```

然后当你再次开始时设置计时器加上 timeWhenStopped

```
chronometer.setBase(SystemClock.elapsedRealtime() + timeWhenStopped); 
```

重置计时器只需使用

```
chronometer.setBase(SystemClock.elapsedRealtime());
chronometer.stop();
timeWhenStopped = 0; 
```

也许您需要添加一个额外的变量来定义计时器是否正在运行

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-22T13:19:44.977

你只需要记住时间，它是可变的，例如 timeWhenStopped。然后，每次启动计时器时，您的值不是 0，而是几秒钟？您可以通过方法 setBase 设置。这里有 3 个按钮，包括开始、暂停和重新启动。祝你好运！

```
public class MainActivity extends Activity {
/** Called when the activity is first created. */
long timeWhenStopped = 0;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    final Button butStart = (Button) findViewById(R.id.button1);
    final Button butStop = (Button) findViewById(R.id.button2);
    final Button butReset = (Button) findViewById(R.id.button3);

    final Chronometer Mchronometer = (Chronometer) findViewById(R.id.chronometer1);

    butStart.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View arg0) {                  Mchronometer.setBase(SystemClock.elapsedRealtime()
                            +timeWhenStopped);
            Mchronometer.start();
        }
    });

    butStop.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View arg0) {
            timeWhenStopped = Mchronometer.getBase() - SystemClock.elapsedRealtime();
            Mchronometer.stop();
        }
    });

    butReset.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View arg0) {
            Mchronometer.setBase(SystemClock.elapsedRealtime());
            Mchronometer.stop();
            timeWhenStopped = 0;
        }
    });
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:59:32.970

> 您将需要一个变量来跟踪自 Chronometer 启动以来经过的时间

查看更多：[Android_Chronometer 暂停](https://stackoverflow.com/questions/5594877/android-chronometer-pause?rq=1)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-04-07T00:51:08.963

@fabzy 的代码有效，但算术逻辑无效，这可能会导致问题。

`mTimeWhenStopped`应该是一个正数（计时器上经过的时间量），但在 fabzy 的设置中，它总是负数。如果您将`mTimeWhenStopped`数字用于运行计时器以外的任何事情，例如比较、显示等，这会有所不同。

以下是减法运算反转的相同代码。我还为计时器是否正在运行添加了一个可选的布尔值：

```
private void resumeTimer() {
    mTimer.setBase(SystemClock.elapsedRealtime() - mTimeWhenStopped);
    mTimer.start();
    mTimerIsRunning = true;

}

private void stopTimer() {
    mTimer.stop();
    mTimeWhenStopped = SystemClock.elapsedRealtime() - mTimer.getBase();
    mTimerIsRunning = false;
}

private void resetTimer() {
    mTimer.stop();
    mTimer.setBase(SystemClock.elapsedRealtime());
    mTimeWhenStopped = 0;
    mTimerIsRunning = false;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-20T15:22:56.557

我为此做了一`PauseableChronometer`堂课。

```
import android.content.Context;
import android.os.SystemClock;
import android.util.AttributeSet;
import android.widget.Chronometer;

public class PausableChronometer extends Chronometer {

    private long timeWhenStopped = 0;

    public PausableChronometer(Context context) {
        super(context);
    }

    public PausableChronometer(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    public PausableChronometer(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    @Override
    public void start() {
        setBase(SystemClock.elapsedRealtime()+timeWhenStopped);
        super.start();
    }

    @Override
    public void stop() {
        super.stop();
        timeWhenStopped = getBase() - SystemClock.elapsedRealtime();
    }

    public void reset() {
        stop();
        setBase(SystemClock.elapsedRealtime());
        timeWhenStopped = 0;
    }

    public long getCurrentTime() {
        return timeWhenStopped;
    }

    public void setCurrentTime(long time) {
        timeWhenStopped = time;
        setBase(SystemClock.elapsedRealtime()+timeWhenStopped);
    }
} 
```

# unit-testing - Grails 2“顺序”标准在单元测试中不起作用

> ID：12834724
> 
> 赞同：0
> 
> 时间：2012-10-11T07:52:10.067
> 
> 标签：unit-testing, grails, grails-2.0, hibernate-criteria

我正在使用 grails 2.1.0 和 groovy 1.8。我在服务中有以下代码：

```
def listServerPartners() {
    ServerModel.withCriteria {
        partner {
            order('name', 'asc')
        }
        projections {
            distinct('partner')
        }
    }
} 
```

这适用于正在运行的应用程序和集成测试。但是，当我尝试使用单元测试时，我得到一个空白列表。

我注意到，如果我将上面的代码更改为下面的代码并在对象伙伴中实现**可比较**的接口，则单元测试可以工作，但应用程序和集成测试却不能。

```
def listServerPartners() {
    ServerModel.withCriteria {
        projections {
            distinct('partner')
        }
        order('partner', 'asc')
    }
} 
```

查看运行应用程序时的 SQL，我注意到对于第一个代码，我得到一个

```
“按 partner_al1_.PartnerName asc 订购”
```

对于第二个，我得到一个

```
“按 partner_al1_.Partner_Id asc 订购”
```

，显然是我不想要的。

关于如何模拟我在为单元测试运行应用程序和集成测试时的正确行为有什么建议吗？

**更新：单元测试的输出：**

```
assert Partner.list() == results
               |      |  |
               |      |  []
               |      false
               [Partner 4, Partner 3, Partner 2, Partner 1] 
```

- 谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T04:27:12.933

我更新了 PlasticCriteria 插件。现在它适用于：

```
def a = new Artist(name: 'Andreas Achenbach').save()
def c = new Artist(name: 'Constance Gordon-Cumming').save()
def b = new Artist(name: 'Botero').save()
new Portrait(artist: a, name: "Clearing Up—Coast of Sicily").save()
new Portrait(artist: c, name: "Indian Life at Mirror Lake").save()
new Portrait(artist: c, name: "Temporary Chimneys and Fire Fountains").save()
new Portrait(artist: b, name: "Botero's Cat").save()
def artistList = Portrait.withCriteria{
    artist{
        order('name', 'asc')
    }
    projections{
        artist{
            distinct('name')
        }
    }
}
assert ['Andreas Achenbach', 'Botero', 'Constance Gordon-Cumming'] == artistList 
```

可以帮助你 [https://github.com/fabiooshiro/plastic-criteria](https://github.com/fabiooshiro/plastic-criteria)

如果我将预测更改为：

```
projections{ distinct('artist') } 
```

我收到此集成错误：在这种情况下，“ARTIST_ALI1_.NAME”必须在结果列表中

但适用于单元测试。

# android - ANDROID_LOOP = true -- 如何避免 MediaPlayer 使用此元数据标签循环播放音频

> ID：12834727
> 
> 赞同：7
> 
> 时间：2012-10-11T07:52:13.357
> 
> 标签：android, android-mediaplayer

我想用 MediaPlayer 播放设备铃声，但元数据标签似乎

```
ANDROID_LOOP = true 
```

已设置 MediaPlayer 忽略了*setLooping方法的调用*

```
mMediaPlayer.setLooping(false); 
```

并在任何情况下循环播放音频。也不会调用 onCompletionListener 方法。

我注意到，即使是像 ES Media Player 这样的音频应用程序也会循环使用这个标签设置为 true 的音频，无论是否启用循环。

所以我的问题是我能不能

*   让 MediaPlayer 忽略这个标签
*   临时修改标签，使 MediaPlayer 不会循环播放音频

这个问题出现在铃声周围，但它当然不是特定于铃声的。有趣的是，我找到的关于如何播放铃声的教程都设置了 mMediaPlayer.setLooping(true); 这样他们就不必处​​理这个问题了……

谢谢

![在此处输入图像描述](../Images/08203df812146a110c885909c6028769.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-16T07:41:10.050

可能不是一个令人满意的答案，但工程师似乎不倾向于更改 ogg 文件的行为`MediaPlayer`和元数据标记`ANDROID_LOOP=true`。见问题：[http ://code.google.com/p/android/issues/detail?id=1314](http://code.google.com/p/android/issues/detail?id=1314)

至于临时修改标签，我不知道你该怎么做。

我还没有测试过，但我相信其他声音格式不会表现出这种行为（例如 mp3 或 wav）。也许您可以将 ogg 文件转换为不同的格式并将它们保存为临时数据（可能对此有所帮助：[Java - 将 ogg 转换为 mp3](https://stackoverflow.com/questions/11883659/java-convert-ogg-to-mp3)）这当然似乎是播放某些文件的很多开销，但至少它们'通常是小文件。

# eclipse - 将现有 Java EE 项目的编码形式 ISO-8859-1 转换为 UTF-8

> ID：12834728
> 
> 赞同：2
> 
> 时间：2012-10-11T07:52:20.580
> 
> 标签：eclipse, jakarta-ee, encoding, utf-8, iso-8859-1

我正在一个 Java EE (JSF) 项目中工作，该项目源自一个较旧的项目。这样的旧项目是使用 ISO-8859-1 开发的，用于对所有内容进行编码。我想在新项目中使用 UTF-8，但问题是，如果我只是将 eclipse 设置为使用 UTF-8 而不是 Cp1252，那么旧的源文件就会“mojibaked”。你知道我该如何解决这个问题并在任何地方使用 UTF-8 吗？

非常感谢！再见

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:56:39.480

用于`iconv`转换所有文件、提交然后更改 Eclipse 项目设置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-30T11:56:26.183

我 为此目的使用[iconv](http://man7.org/linux/man-pages/man1/iconv.1.html)

```
// Convert *.java files from ISO-8859-1 to UTF-8 file encoding in a folder and all subfolders
for x in `find . -name '*.java'` ; do iconv -f ISO-8859-2 -t UTF-8 $x > "$x.utf8"; rm $x; mv "$x.utf8" $x; done 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-07-23T15:26:31.147

仅转换非 UTF-8 文件的示例：

for f in $(find . -name " *.* ") do filename="${f%.*}" echo -n "$f" #file -i $f if file -i $f | grep -wq "iso-8859-1" 然后 mkdir -p 转换 cp $f ./converted iconv -f ISO-8859-1 -t UTF-8 $f > "${filename}_utf8" mv "${filename} _utf8" $f echo ": 转换为 UTF-8。" 否则回显“：UTF-8 已经。” 完成

# android - 如何将触摸事件传输到相对布局中的下方视图？

> ID：12834737
> 
> 赞同：3
> 
> 时间：2012-10-11T07:52:56.147
> 
> 标签：android, events, touch, android-scrollview

我有一个`ScrollView`在另一个视图之上（带有`Buttons`）。它`ScrollView`占据了整个屏幕并遮住了它下面的视图。

在我的应用程序的某个时刻，我需要`ScrollView`禁用 （但仍然可见）并将所有触摸事件转移`Buttons`到`ScrollView`. 我怎样才能做到这一点？某些视图（例如`Buttons`）在禁用时会自动执行此操作，但 a`ScrollView`没有执行此操作。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-11T10:48:11.737

尝试实现你自己的`ScrollView`，它有一个标志来指示状态（禁用/启用）并且还覆盖`onTouchEvent`and`dispatchTouchEvent`让触摸事件通过`ScrollView`. 这是一个例子：

```
public class DisabledScrollView extends ScrollView {

    private boolean mIsDisable = false;

    // if status is true, disable the ScrollView
    public void setDisableStatus(boolean status) {
        mIsDisable = status;
    }

    @Override
    public boolean onTouchEvent(MotionEvent ev) {
        // no more tocuh events for this ScrollView
        if (mIsDisable) {
            return false;
        }       
        return super.onTouchEvent(ev);
    }

    public boolean dispatchTouchEvent(MotionEvent ev) {
        // although the ScrollView doesn't get touch events , its children will get them so intercept them.
        if (mIsDisable) {
            return false;
        }
        return super.dispatchTouchEvent(ev);
    }

} 
```

然后你所要做的就是改变那个标志的值。看看它是否有效。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-13T07:05:07.037

在我的例子中，我只需要在视图 A 中处理与视图 B 重叠的触摸事件，然后将事件发送到视图 B。两个视图都是同一个 RelativeLayout 的子视图，但视图 A 之间没有父子关系和 B. 这对我有用：

```
viewA.setOnTouchListener( new OnTouchListener(){

        @Override
        public boolean onTouch(View v, MotionEvent event) {
          // do my stuff here

          viewB.dispatchTouchEvent( event );
        }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-28T02:10:29.400

在这种情况下，我在滚动视图下有一个回收器视图。scrollview 顶部为垂直滚动，recyclerview 为水平滚动。滚动视图具有顶部填充，使回收视图通过滚动视图填充中的透明度可见。我必须这样做，因为当滚动视图滚动时，recyclerview 将垂直滚动以产生视差效果（此效果在另一个代码中）。下面的代码适用于我的情况，可能会有所帮助

```
scrollView.setOnTouchListener(new View.OnTouchListener() {

        float mDownX,mDownY;
        boolean mIsSwiping,isDown;

        @Override
        public boolean onTouch(View v, MotionEvent event) {
            if(mIsSwiping){
                recyclerView.dispatchTouchEvent(event);
            }
            switch (event.getActionMasked()) {
                case MotionEvent.ACTION_DOWN:
                    mIsSwiping = false;
                    isDown = true;
                    mDownX = event.getX();
                    mDownY = event.getY();
                    break;
                case MotionEvent.ACTION_MOVE:
                    if(isDown){
                        float deltaX = Math.abs(event.getX() - mDownX);
                        float deltaY = Math.abs(event.getY() - mDownY);
                        mDownX = event.getX();
                        mDownY = event.getY();
                        if(deltaX!=deltaY){
                            isDown = false;
                            if(deltaX>deltaY){
                                mIsSwiping = true;
                            }
                        }
                    }
            }

            return mIsSwiping;
        }
    }); 
```

这是布局

```
<FrameLayout
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:app="http://schemas.android.com/apk/res-auto"
android:orientation="vertical" android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@color/gray0"
android:clipToPadding="false"
android:clipChildren="false"
android:paddingBottom="70dp">
<android.support.v7.widget.RecyclerView
    android:id="@+id/recyclerview"
    android:layout_width="match_parent"
    android:layout_height="320dp"
    android:orientation="horizontal"
    app:layoutManager="android.support.v7.widget.LinearLayoutManager"/>
<ScrollView
    android:id="@+id/scrollview"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingTop="301.75dp"
    android:paddingBottom="23.5dp"
    android:clipChildren="false"
    android:clipToPadding="false"> 
```

. . .

# c# - WPF WebBrowser HTMLDocument

> ID：12834742
> 
> 赞同：8
> 
> 时间：2012-10-11T07:53:19.870
> 
> 标签：c#, wpf

我正在尝试注入一些 javascript 代码以防止 javascript 错误弹出，但我在 WPF 中找不到`HTMLDocument`和：`IHTMLScriptElement`

```
var doc = browser.Document as HTMLDocument;

if (doc != null)
{
    //Create the sctipt element 
    var scriptErrorSuppressed = (IHTMLScriptElement)doc.createElement("SCRIPT");
    scriptErrorSuppressed.type = "text/javascript";
    scriptErrorSuppressed.text = m_disableScriptError;
    //Inject it to the head of the page 
    IHTMLElementCollection nodes = doc.getElementsByTagName("head");
    foreach (IHTMLElement elem in nodes)
    {
        var head = (HTMLHeadElement)elem;
        head.appendChild((IHTMLDOMNode)scriptErrorSuppressed);
    }
} 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-12-06T17:43:37.053

澄清一下，`Microsoft.mshtml`不是“使用”，而是参考。

完整解决方案：

1.  添加项目引用`Microsoft.mshtml`

2.  添加`using mshtml;`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-11T08:15:57.543

我已经通过使用解决了这个问题：

```
Microsoft.mshtml; 
```

# java - 捕获具有多个特殊字符的正则表达式组

> ID：12834743
> 
> 赞同：-4
> 
> 时间：2012-10-11T07:53:20.917
> 
> 标签：java, regex

我无法从字符串中捕获值。我有一个输入，但它没有任何格式，只是我们知道它用`;`特殊字符分隔。

```
test?test; 1231@test;name=vonnegut 
```

我想用给定的特殊字符分割这个输入，然后找到包含另一个特殊字符的结果，如`=`.

结果：`name=vonnegut`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:59:04.467

看一下字符串的 split() 方法，它应该完全符合您的要求。

在“;”上拆分 首先是结果字符串上的“=”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:21:10.897

你可以试试这个

```
[^;]+=[^;]+ 
```

[在 Regexr 上](http://regexr.com?32e3o)查看

`[^;]+`是一个否定字符类，它将匹配一系列`+`不是分号的字符（意味着至少一个）（它也将匹配换行符，所以如果你的字符串包含这些字符，那么你需要将它们添加到类中`[^;\r\n]`）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:05:02.240

```
String input = "test?test; 1231@test;name=vonnegut";
String[] splittedInput = input.split(",");
for (String str:splittedInput) {
  System.out.println(str);
} 
```

给你

> 测试？测试
> 1231@测试
> 名称=冯内古特

现在您可以为下一个字符测试每个单独的字符串，例如：

```
for (String str:splittedInput) {
  if (str.contains("=") {
    System.out.println(str);
  }
} 
```

您也可以直接进行正则表达式搜索。我将不得不查看那个（不要经常使用正则表达式），但你会很容易弄清楚这一点。可能已经有一个包含正确正则表达式的答案... ;)

# css - div垂直对齐问题

> ID：12834748
> 
> 赞同：2
> 
> 时间：2012-10-11T07:53:34.403
> 
> 标签：css, html, position, margin, vertical-alignment

如何设置主 div 的中心？我会尝试很多方法，但我做不到。左右好像还行。如何更改垂直位置属性？我试过这些：

```
margin-left:auto;
margin-right:auto;
margin-top:auto;
margin-bottom:auto;

vertical-align:middle; 
```

这些不起作用。

```
#main 
 {
    width:1024px;
    height:600px;
    position:relative;
    z-index:1;
    margin:auto auto;
    text-align: center;

 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T08:09:12.767

工作示例（使用下面教程的方法 2）：http: [//jsfiddle.net/heAXR/1/](http://jsfiddle.net/heAXR/1/)

这是一个很好的教程，它展示了几种垂直居中内容的方法：http: [//blog.themeforest.net/tutorials/vertical-centering-with-css/](http://blog.themeforest.net/tutorials/vertical-centering-with-css/)

我是文章中描述的方法3的粉丝，这里有一个演示： [http ://douglasheriot.com/tutorials/css_vertical_centre/demo5.html](http://douglasheriot.com/tutorials/css_vertical_centre/demo5.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:55:16.797

可能这个教程会帮助你

[http://phrogz.net/css/vertical-align/index.html](http://phrogz.net/css/vertical-align/index.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:12:06.547

有一种`margin: 0px auto;`解决方案可以将 div 水平对齐。您可以使用 jquery 进行垂直对齐。

```
$(document).ready(function(){
   var height = $(window).height();
   var width = $(window).width();
   var mainHeight = $('#main').height();
   var mainWidth = $('#main').width();
   $('#main').css({"top" : height/2 - mainHeight/2 }).css({ "left" : width/2 - mainWidth/2});
}); 
```

# android - 如何集成mupdf库？

> ID：12834752
> 
> 赞同：2
> 
> 时间：2012-10-11T07:53:46.900
> 
> 标签：android, android-ndk, mupdf

我尝试使用以下顺序构建库 mupdf [https://stackoverflow.com/a/12279638/680267](https://stackoverflow.com/a/12279638/680267)

我无法运行命令：

```
javah -jni -classpath bin/classes/ -d jni/ com.artifex.mupdf.MuPDFActivity

Error: cannot access android.app.Activity class file for
android.app.Activity not found 
```

我尝试使用 android-sdk 指定文件夹的路径：

```
'/cygdrive/c/Program Files/Java/JDK7/bin/javah.exe' -jni -classpath /cygdrive/c/Android/platforms/android-8/android.jar;/cygdrive/c/Users/Alexey/Documents/GitHub/mupdf/android/bin/classes -d jni/ com.artifex.mupdf.MuPDFActivit

Error: no classes specified
-bash: /cygdrive/c/Users/Alexey/Documents/GitHub/mupdf/android/bin/classes: a directory 
```

如何运行这个命令？

# asp.net - 在网站的 URL 中显示下拉选择的项目

> ID：12834757
> 
> 赞同：3
> 
> 时间：2012-10-11T07:54:04.987
> 
> 标签：asp.net, url, selectedindexchanged, dropdownbox

我正在处理带有 4 个下拉菜单的单页 asp.net 应用程序（webform）。

请以这个例子[http://ifsccode.in](http://ifsccode.in)

我的网站需要相同的功能。编码部分已完成。一切正常，但我想在与上述示例相同的 URL 中显示下拉选定项。

我想告诉你，我只创建了一个页面应用程序。

所以请告诉我如何在 URL 中实现 Dropdown selected item。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:14:39.447

此页面使用[URL 重写](http://coding.smashingmagazine.com/2011/11/02/introduction-to-url-rewriting/)。实际上，结果 URL 不是由用户选择和选项生成的，但 url 已经存在。看看[这个链接](http://ifsccode.in/development_credit_bank_limited/daman_diu)。

“/development_credit_bank_limited/daman_diu”正在响应获取请求并根据该请求和参数显示页面。

所以你要做的是首先在你的应用程序中实现 URL 重写，然后设计你的页面来使用这个约定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:14:10.800

尝试以下代码

```
 protected void Page_Load(object sender, EventArgs e)
{
    if (!string.IsNullOrEmpty(Request.QueryString["u"]))
    {
        // bind second dropdown with first's selected value
    }
    if (!string.IsNullOrEmpty(Request.QueryString["u"]) && !string.IsNullOrEmpty(Request.QueryString["m"]))
    {
        // bind third dropdown with first's selected value and second's selected value
    }
    if (!string.IsNullOrEmpty(Request.QueryString["u"]) && !string.IsNullOrEmpty(Request.QueryString["m"]) && !string.IsNullOrEmpty(Request.QueryString["n"]))
    {
        // bind Details
    }
}

protected void DropDownList1_SelectedIndexChanged(object sender, EventArgs e)
{
    Response.Redirect("Default.aspx?id=" + DropDownList1.SelectedItem.Value + "");
}

protected void DropDownList2_SelectedIndexChanged(object sender, EventArgs e)
{
    String url = Request.RawUrl;
    Response.Redirect(url + "&m=" + DropDownList2.SelectedItem.Value + "");
}
protected void DropDownList3_SelectedIndexChanged(object sender, EventArgs e)
{
    String url = Request.RawUrl;
    Response.Redirect(url + "&n=" + DropDownList3.SelectedItem.Value + "");
} 
```

并为这个概念做 url 重写......我希望这对你有用......................

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:01:34.030

`QueryString`如果我从页面中选择 Emad，则使用like `ddlEmployees`，`/Employee.aspx`然后 url 将像这样`/Employee.aspx?Employee=Emad`并重定向到新的 url。

# c# - 表格工具提示 css

> ID：12834758
> 
> 赞同：-1
> 
> 时间：2012-10-11T07:54:06.840
> 
> 标签：c#, asp.net

我已经从页面后面的 asp.net 代码生成了一个**动态表并添加了***Table.ToolTip*值。如何添加 table.tooltip 样式？

```
tbl = new Table(); tbl.ID = "tblstatus";
tbl.Style.Add("border-collapse", "collapse"); 
tbl.ToolTip = "tool tip message"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:13:46.110

该`ToolTip`属性呈现为[HTML`title`属性](http://www.w3.org/TR/html401/struct/global.html#h-7.4.3)。浏览器通常将其显示为不支持样式的工具提示。

如果您想要丰富的悬停弹出内容，请查看类似[qTip](http://craigsworks.com/projects/qtip/)的内容。

# c# - 如何停止从子应用程序继承 web.config

> ID：12834763
> 
> 赞同：1
> 
> 时间：2012-10-11T07:54:32.903
> 
> 标签：c#, web-config

我知道我们可以停止从根 web.config 文件继承 web.config 文件，如下所示：

下面在根 web.config 文件中使用的此属性将阻止应用程序将其配置作为默认配置传递给子应用程序。

```
<!-- Root web.config file -->
<?xml version="1.0"?>
<configuration>
  <location path="." inheritInChildApplications="false"> 
    <system.web>
      <compilation debug="false" />
      <!-- other configuration attributes -->
    </system.web> 
  </location>
</configuration> 
```

但我只是想知道我的子应用程序的 web.config 是否有任何属性或东西可以做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:10:11.273

除非您在 IIS7 上，否则您无能为力，在这种情况下，您可以使用[www.iis.net 上所述的配置锁定](http://www.iis.net/learn/get-started/planning-for-security/how-to-use-locking-in-iis-configuration)

# javascript - 如果多个文本框为空验证，则通过错误

> ID：12834770
> 
> 赞同：-1
> 
> 时间：2012-10-11T07:55:08.000
> 
> 标签：javascript, html

我正在使用以下代码来限制文本框只输入数字，但是当我尝试验证文本框不应该为空时，它不起作用

```
 function AllowNumbersOnly(input, kbEvent) {       
            var keyCode, keyChar;
            keyCode = kbEvent.keyCode;
            if (window.event)
                keyCode = kbEvent.keyCode; 
            else
                keyCode = kbEvent.which;              
            if (keyCode == null) return true;            
            keyChar = String.fromCharCode(keyCode);
            var charSet = "0123456789";           
            if (charSet.indexOf(keyChar) != -1) return true;           
            if (keyCode == null || keyCode == 0 || keyCode == 8 || keyCode == 9 || keyCode == 13 || keyCode == 27) return true;
            return false;
            if (String.IsNullOrEmpty(txtTextBox.Text))
            {
                MessageBox.Show("Enter Value Please.", "Error", MessageBoxButtons.OK, MessageBoxIcon.Warning);           
            }
            else
            {
                alert("Fill the fields")
            }
        }
   </SCRIPT> 
```

我的 HTML 代码是

```
 <form name="requirement" method="post" id="requirement" action="" enctype="multipart/form-data" class="niceform">
<input id="b_size1" name="b_size1" onkeypress="return AllowNumbersOnly(this,event)" type="text"  size="4" />
    <input id="b_size2" name="b_size2" onkeypress="return AllowNumbersOnly(this,event)" type="text"  size="4" />
    <input id="b_size3" name="b_size3" onkeypress="return AllowNumbersOnly(this,event)" type="text"  size="4" />
    <input id="b_size4" name="b_size4" onkeypress="return AllowNumbersOnly(this,event)" type="text"  size="4" /> 
    <input id="b_size5" name="b_size5" onkeypress="return AllowNumbersOnly(this,event)" type="text"  size="4" />
    <input id="b_sizeL" name="b_sizeL" onkeypress="return AllowNumbersOnly(this,event)" type="text"  size="4" />
    <input id="b_size6" name="b_size6" onkeypress="return AllowNumbersOnly(this,event)" type="text"  size="4" />
    <input type="submit" class="btn btn-green" value="Submit"> 
```

请指导我对此有什么解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:58:44.847

您的代码没有到达您检查它是否为空的部分。`return false;`你总是用上面的方法退出你的函数。

# string - 从书名生成假 ISBN？（或者：如何将字符串散列成 6 位数字 ID）

> ID：12834771
> 
> 赞同：5
> 
> 时间：2012-10-11T07:55:11.983
> 
> 标签：string, hash, barcode, isbn

简短版：**如何将任意字符串转换为 6 位数字且冲突最少？**

长版：

我正在与一个小型图书馆合作，该图书馆有一堆没有 ISBN 的书籍。这些通常是来自从未获得 ISBN 的小型出版商的较旧的绝版书籍，我想为他们生成假 ISBN 以帮助进行条形码扫描和贷款。

从技术上讲，真正的 ISBN 由商业实体控​​制，但可以使用该格式分配不属于真正出版商的编号（因此不应引起任何冲突）。

格式是这样的：

```
978-0-01-######-? 
```

为您提供 6 位数字，从 000000 到 999999，使用 ? 最后是校验和。

**在这种方案中，是否有可能将任意书名转换为 6 位数字，并且碰撞的可能性最小？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:16:08.257

在使用代码片段[制作固定长度的哈希](https://stackoverflow.com/a/549352/1737313)并计算[ISBN-13 校验和](http://www.codeproject.com/Articles/10162/Creating-EAN-13-Barcodes-with-C)之后，我设法创建了看起来很丑的 C# 代码。它将采用任意字符串并将其转换为有效（但假的）ISBN-13：

```
 public int GetStableHash(string s)
       {
           uint hash = 0;
           // if you care this can be done much faster with unsafe 
           // using fixed char* reinterpreted as a byte*
           foreach (byte b in System.Text.Encoding.Unicode.GetBytes(s))
           {   
               hash += b;
               hash += (hash << 10);
               hash ^= (hash >> 6);    
           }
           // final avalanche
           hash += (hash << 3);
           hash ^= (hash >> 11);
           hash += (hash << 15);
           // helpfully we only want positive integer < MUST_BE_LESS_THAN
           // so simple truncate cast is ok if not perfect
           return (int)(hash % MUST_BE_LESS_THAN);
       }

       public int CalculateChecksumDigit(ulong n)
       {
           string sTemp = n.ToString();
           int iSum = 0;
           int iDigit = 0;

           // Calculate the checksum digit here.
           for (int i = sTemp.Length; i >= 1; i--)
           {
               iDigit = Convert.ToInt32(sTemp.Substring(i - 1, 1));
               // This appears to be backwards but the 
               // EAN-13 checksum must be calculated
               // this way to be compatible with UPC-A.
               if (i % 2 == 0)
               { // odd  
                   iSum += iDigit * 3;
               }
               else
               { // even
                   iSum += iDigit * 1;
               }
           }
           return (10 - (iSum % 10)) % 10;
       }

       private void generateISBN()
       {
           string titlehash = GetStableHash(BookTitle.Text).ToString("D6");
           string fakeisbn = "978001" + titlehash;
           string check = CalculateChecksumDigit(Convert.ToUInt64(fakeisbn)).ToString();

            SixDigitID.Text = fakeisbn + check;
       } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:08:10.957

这 6 位数字允许大约 10M 的可能值，这对于大多数内部使用来说应该足够了。在这种情况下，我会使用序列，因为 6 位校验和发生冲突的可能性相对较高。

因此，您可以将所有字符串插入散列，并在排序后或不使用索引号作为 ISBN。
这应该使冲突几乎不可能发生，但它需要保留一些“已分配”的 ISBN 以避免将来发生冲突，并保留已经存储的标题列表，但无论如何您很可能希望保留这些信息。

另一种选择是打破 ISBN 标准并使用十六进制/uuencoded 条形码，这可能会将可能的范围增加到**可以**与截断以适合的加密哈希一起使用的程度。

我建议，由于您正在处理旧书名，可能有几个版本的大写和标点符号不同，我会在比较之前去除标点符号、重复的空格并将所有内容转换为小写，以尽量减少技术重复的机会，即使字符串是不同（除非您希望不同的版本具有不同的 ISBN，在这种情况下，您可以忽略这一段）。

# c - 不同链表结构的函数addnode

> ID：12834779
> 
> 赞同：0
> 
> 时间：2012-10-11T07:55:36.727
> 
> 标签：c

有没有办法为不同的结构编写单个函数（ addnode ）？我有这种情况：

```
typedef struct linkedlist_a *ptr_a;
typedef struct linkedlist_a
{
    /* content */
    ptr_a next;
} listA;

typedef struct linkedlist_b *ptr_b;
typedef struct linkedlist_b
{
    /* content */
    ptr_b next;
} listB;

listA *listA_addnode( listA *head, listA *node )
{
    listA *temp = head;
    if( temp == NULL )
    {
        temp = node;
    }
    else if( temp -> next == NULL )
    {
        temp -> next = node;
    }
    else
    {
        while( temp -> next ) temp = temp -> next;
        temp -> next = node;        
    }

    return head;
}

listB *listB_addnode( listB *head, listB *node )
{
    listB *temp = head;
    if( temp == NULL )
    {
        temp = node;
    }
    else if( temp -> next == NULL )
    {
        temp -> next = node;
    }
    else
    {
        while( temp -> next ) temp = temp -> next;
        temp -> next = node;        
    }

    return head;
} 
```

如果有两个结构对我来说可以写两个函数，但如果我有超过 2 个，我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:16:17.243

一个可能的解决方案是使用具有数据成员的`struct`单个链表，而不是使用不同的 s 来表示链表。这将允许具有稍微不同签名的单个函数。`struct``void*``add_node()`

例如：

```
struct linked_node
{
    void* data;
    struct linked_node* next;
};

void add_node(struct linked_node** a_head, void* a_data)
{
    struct linked_node* new_node = malloc(sizeof(*new_node));
    new_node->data = a_data;
    new_node->next = 0;
    if (!*a_head)
    {
        *a_head = new_node;
    }
    else
    {
        /* ... */
    }
} 
```

这种方法存在一个危险，即正确解释该`data`成员。但是，小心这种方法会满足您的要求。

使用示例（省略错误检查）：

```
struct data_x { int i; char c; };
struct data_y { char* s; };

struct linked_node* list_x = 0;
struct data_x* dx = malloc(sizeof(*dx));
dx->i = 4;
dx->c = 'a';

add_node(&list_x, dx);

if (list_x)
{
    struct data_x* x = list_x->data;
    printf("x.i=%d x.c=%c\n", x->i, x->c);
}

struct linked_node* list_y = 0;
struct data_y* dy = malloc(sizeof(*dy));
dy->s = "hello";

add_node(&list_y, dy);

if (list_y)
{
    struct data_y* y = list_y->data;
    printf("y.s=%s\n", y->s);
} 
```

请参阅在线演示[http://ideone.com/iZO8h](http://ideone.com/iZO8h)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:22:50.703

这样做的唯一方法是使用宏假设您的链接元素被称为相同（`next`存在于您希望传递的所有类型中）。

GNU 风格代码提前：`-std=gnu98`或以上

```
#define addnode( head, node ) ({\
    typeof(head) _head = (head);\
    typeof(node) _node = (node);\
    if( _head == NULL )\
    {\
        _head = _node;\
    }\
    else\
    {\
        while( _head -> next ) _head = _head -> next;\
        _head -> next = _node;        \
    }\
    \
    _head;\
}) 
```

虽然这是一种非常糟糕的编程风格

# android - 从 ViewFlipper 中恢复一个 id

> ID：12834782
> 
> 赞同：0
> 
> 时间：2012-10-11T07:55:51.110
> 
> 标签：android, viewflipper

我想恢复我的 ViewFlipper 显示元素的 id，比如在 Integer list[] 中的“R.id.xxx”，我尝试了在 stackoverflow 上找到的东西：

```
int Id=randImage();
ViewFlipper.setImageResource(Id); 
```

但 randImage() 不存在，我需要恢复“xxx”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:09:59.640

假设 R.id.your_view_flipper 是您`ViewFlipper`在当前的 XML 布局文件中定义的`Activity`：

```
ViewFlipper viewFlipper = (ViewFlipper) findViewById(R.id.your_view_flipper);
View currentView = viewFlipper.getCurrentView();
int id = currentView.getId(); 
```

`id`就是你要找的。

# java - 从 MS Exchange 2007 获取全球联系人列表

> ID：12834784
> 
> 赞同：0
> 
> 时间：2012-10-11T07:55:58.137
> 
> 标签：java, exchange-server

我正在运行 MS Exchange Server 2007。我可以访问 Outlook Web Access。我需要编写一个 servlet，它将：

*   获取全球联系人列表
*   获取每个联系人的个人日历

我应该从什么开始？我还需要什么？

谁能建议一些教程/指南我该怎么做？我是 MS Exchange Server 的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:23:29.810

我认为它不适用于 Outlook Web Access。它是一个连接到 Exchange 服务器的客户端，它不提供 API。您应该直接连接到交换服务器。

有关可以使用的可能技术的更多信息，请参阅以下内容： [http ://weblogs.asp.net/whaggard/archive/2007/01/30/how-do-i-access-my-outlook-contacts-from -my-web-application.aspx](http://weblogs.asp.net/whaggard/archive/2007/01/30/how-do-i-access-my-outlook-contacts-from-my-web-application.aspx)

第一部分有一个简短的解释和很好的信息。该示例在 .NET 中

由于您将使用 Java，因此以下文章可能有助于为您提供 Java 工具，这些工具可以解决连接到 Exchange Server 并从中获取数据的问题。

[用于阅读 Outlook 电子邮件、日历等的开源 Java 库](https://stackoverflow.com/questions/4324856/open-source-java-library-to-read-outlook-emails-calendar-etc)

以及来自同一公司的另外两个商业产品： [http ://www.moyosoft.com/jbex/](http://www.moyosoft.com/jbex/) [http://www.moyosoft.com/joc/](http://www.moyosoft.com/joc/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-29T12:18:23.990

根据 Exchange Server 配置，您可能想要尝试此[Exchange Web Service (EWS)](http://msdn.microsoft.com/en-us/library/office/jj190904(v=exchg.150).aspx)。

还可以找到一些示例@SO：[如何通过 java Web 服务客户端连接 Exchange Web 服务？](https://stackoverflow.com/questions/7425990/how-to-connect-exchange-web-services-via-java-web-service-client)

请注意，即使是[1.2 版](http://blogs.msdn.com/b/exchangedev/archive/2013/01/03/ews-java-api-1-2-get-started.aspx)也没有提供 Outlook 本身具有的所有功能，并且在日历项目方面存在一些错误 - 但对于邮件，它通常工作得很好。

# python - 在 argparse 中有一个带有破折号的选项

> ID：12834785
> 
> 赞同：206
> 
> 时间：2012-10-11T07:56:07.290
> 
> 标签：python, argparse

我想在 argparse 模块中有一些选项，例如`--pm-export`当我尝试使用它时，就像`args.pm-export`我得到没有属性的错误一样`pm`。我该如何解决这个问题？是否有可能`-`在命令行选项？

* * *

## 回答 #1

> 赞同：300
> 
> 时间：2012-10-11T08:09:06.330

如[文档](http://docs.python.org/dev/library/argparse.html#dest)[中所示`argparse`](http://docs.python.org/dev/library/argparse.html#dest)：

> 对于可选参数操作，dest 的值通常是从选项字符串中推断出来的。ArgumentParser 通过获取第一个长选项字符串并**剥离初始`--`字符串**来生成 dest 的值。**任何内部`-`字符都将转换为`_`字符**以确保字符串是有效的属性名称

所以你应该使用`args.pm_export`.

* * *

## 回答 #2

> 赞同：129
> 
> 时间：2013-11-27T18:38:57.960

不幸的是，破折号到下划线的替换不适用于位置参数（不以 为前缀`--`），例如

```
parser = argparse.ArgumentParser(description='Process some integers.')
parser.add_argument('logs-dir',
                    help='Directory with .log and .log.gz files')
parser.add_argument('results-csv', type=argparse.FileType('w'),
                    default=sys.stdout,
                    help='Output .csv filename')
args = parser.parse_args()
print args

# gives
# Namespace(logs-dir='./', results-csv=<open file 'lool.csv', mode 'w' at 0x9020650>) 
```

因此，您应该使用第一个参数`add_argument()`作为属性名称和`metavar`kwarg 来设置它在帮助中的外观：

```
parser = argparse.ArgumentParser(description='Process some integers.')
parser.add_argument('logs_dir', metavar='logs-dir',
                    nargs=1,
                    help='Directory with .log and .log.gz files')
parser.add_argument('results_csv', metavar='results-csv',
                    nargs=1,
                    type=argparse.FileType('w'),
                    default=sys.stdout,
                    help='Output .csv filename')
args = parser.parse_args()
print args

# gives
# Namespace(logs_dir=['./'], results_csv=[<open file 'lool.csv', mode 'w' at 0xb71385f8>]) 
```

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2012-10-11T08:08:53.393

破折号转换为下划线：

```
import argparse
pa = argparse.ArgumentParser()
pa.add_argument('--foo-bar')
args = pa.parse_args(['--foo-bar', '24'])
print args # Namespace(foo_bar='24') 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-10-07T08:30:24.090

**`getattr(args, 'positional-arg')`**

这是位置参数的另一个好的解决方法：

```
#!/usr/bin/env python3

import argparse

parser = argparse.ArgumentParser()
parser.add_argument('a-b')
args = parser.parse_args(['123'])
assert getattr(args, 'a-b') == '123' 
```

在 Python 3.8.2 上测试。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-11-13T16:06:05.483

简洁明了但可能并不总是可以接受的方法是使用`vars()`：

```
#!/usr/bin/env python3

import argparse

parser = argparse.ArgumentParser()
parser.add_argument('a-b')
args = vars(parser.parse_args())

print(args['a-b']) 
```

# objective-c - 如何从自定义 tableviewCell 中的按钮开始

> ID：12834792
> 
> 赞同：0
> 
> 时间：2012-10-11T07:56:20.890
> 
> 标签：objective-c, ios, uitableview, core-data, nsfetchedresultscontroller

我正在为当地的足球俱乐部构建一个应用程序。在屏幕上，我想以一种网格的形式显示所有玩家。当您单击网格内的球员照片时，您将获得有关该球员的更多信息。我正在使用 customTableViewCell。此 tableView 单元格包含 6 个按钮。在每个按钮后面，您可以找到一些玩家信息。我正在像这样在网格中设置玩家图像。首先，我的 custumTableViewCell 中有一个方法。

```
-(void)setImage:(UIImage *)image forPosition:(NSUInteger)position{
    if(position == 1){
        [_btnPlayer1 setImage:image forState:UIControlStateNormal];
    }else if(position == 2){
        [_btnPlayer2 setImage:image forState:UIControlStateNormal];
    }else if(position == 3){
        [_btnPlayer3 setImage:image forState:UIControlStateNormal];
    }else if(position == 4){
        [_btnPlayer4 setImage:image forState:UIControlStateNormal];
    }else if(position == 5){
        [_btnPlayer5 setImage:image forState:UIControlStateNormal];
    }else if(position == 6){
        [_btnPlayer6 setImage:image forState:UIControlStateNormal];
    }

} 
```

在我的 CellForRowAtIndexPath 中，我正在执行以下操作。

```
 NSInteger frcRow = indexPath.row * IMAGES_PER_ROW; // row in fetched results controller

    for (int col = 1; col <= IMAGES_PER_ROW; col++) {
        NSIndexPath *path = [NSIndexPath indexPathForRow:frcRow inSection:0];
        Team *team = [self.fetchedResultsController objectAtIndexPath:path];
        NSData *imgData = [[NSData alloc] initWithContentsOfURL:[NSURL URLWithString:team.image]];
        UIImage *image;
        if (imgData == nil) {
            // default image
            image = [UIImage imageWithContentsOfFile:@"keeperNil.jpg"];
        } else {
            image = [UIImage imageWithData:imgData];
        }
        [cell setImage:image forPosition:col];
        frcRow ++;
    }
    return cell; 
```

但现在我想确定按下了哪个按钮，然后转到显示正确信息的 detailViewController。有人知道我该怎么做吗？

亲切的问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:16:45.967

这是实现您想要做的事情的错误方法。找到一个照片查看器，例如 Three20（以 Three20 为例，它很旧，没有 ARC，Git 上有更好的替代品）并根据每张玩家照片的选择切换到新视图。

如果您真的想要（尽管 IMO 的设计似乎很糟糕），您可以连接 6 个按钮并标记它们，然后根据所选按钮标记选择一个播放器，但这似乎并不是 UITableView 的最佳用途

# php - 组合值以创建 100 组

> ID：12834794
> 
> 赞同：3
> 
> 时间：2012-10-11T07:56:24.840
> 
> 标签：php, algorithm, optimization, evolutionary-algorithm, knapsack-problem

假设我有一个具有以下值的数组：

```
array(20,40,30,15,60,50,10) 
```

现在我想要的是我需要创建 100 个或接近 100 个。并为每组 100 个（或接近 100 个）创建单独的回合。

说

```
Case 1:
Round 1: array(60,30,10) // 100 or near to 100
Round 2: array(40,50)    // 100 or near to 100
Round 3: array(15,20)    // 100 or near to 100 or remaining

Case 2:
Round 1: array(60,40)    // 100 or near to 100
Round 2: array(50,20,30) // 100 or near to 100
Round 3: array(15,10)    // 100 or near to 100 or remaining 
```

那么我该如何实现呢？

有什么算法可以研究吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:37:44.823

您正在描述[装箱问题](http://en.wikipedia.org/wiki/Bin_packing_problem)，即[NP-Complete](http://en.wikipedia.org/wiki/NP-complete)，因此没有已知的多项式解决方案可以解决它。

如果您需要精确，您可以尝试指数方法（检查所有可能性）。如果您想要“足够接近”，您可以在文献中搜索一些近似算法，或者使用 AI 领域的一些启发式搜索解决方案，例如[遗传算法](http://en.wikipedia.org/wiki/Genetic_algorithm)或[爬山](http://en.wikipedia.org/wiki/Hill_climbing)。

# ruby-on-rails - 具有应该唯一性测试错误的rspec工厂女孩

> ID：12834795
> 
> 赞同：0
> 
> 时间：2012-10-11T07:56:26.990
> 
> 标签：ruby-on-rails, rspec, factory-bot, shoulda

美好的一天，目前我正在努力解决这个错误。

**失败/错误：FactoryGirl.create(:subscription) NoMethodError：“AdvtCategories”的未定义方法“attribute_list”：字符串**

我找不到此错误的正确解决方案。我发现的建议是某些列与该类同名。没有帮助我的测试

```
 describe Subscription do
  context "validations" do
    #it { should validate_presence_of :category_id }
    it do
      FactoryGirl.create(:category)
      FactoryGirl.create(:subscription)
      should validate_uniqueness_of( :category_id).scoped_to(:user_id) 
    end
   # TODO validator :category_should_exist
  end  
  #it { should belong_to(:user) }
  #it { should belong_to(:category) }
  #specify { Subscription.per_page.should eq(20) }
end 
```

工厂：

```
factory :subscription do
    association :category, factory: :category, :class => 'AdvtCategory'
    user
  end

factory :category do
    name "MyString"
    alias_name "MyString"
    number_of_items 1
    type ""
  end 
```

**更新 1** 这是一个 factory_girl 错误。解决它

**更新 2**

这是创建时的 factory_girl 错误（当然是构建通过，所以 db 错误）更新了代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T19:02:50.843

从一个班换到另一个班。

```
require 'spec_helper'
describe Subscription do
  before do
    FactoryGirl.create(:subscription)
  end

  context "validations" do
    it { should validate_presence_of :category_id }
    it do

      should validate_uniqueness_of( :category_id).scoped_to(:user_id).with_message(/уже создана/) 
    end
  end  
  it { should belong_to(:user) }
  it { should belong_to(:category) }
  specify { Subscription.per_page.should eq(20) }
end

  factory :subscription do
    association :category, factory: :advt_category 
    user
  end
  factory :advt_category do
    name 'Category'
    alias_name '1'
  end 
```

# ruby-on-rails - 不要在不存在的情况下显示其他验证消息

> ID：12834801
> 
> 赞同：2
> 
> 时间：2012-10-11T07:56:38.860
> 
> 标签：ruby-on-rails, ruby-on-rails-3, validation

现在，我有一个`User`模型，其中一个`username`字段正在通过以下方式验证：

```
validates :username, 
    :presence => true,
    :length => { :in => 3..60 }, 
    :format => { :with => /^[a-zA-Z0-9\-_ ]+$/ } 
```

如果不满足，我该如何隐藏`:length`和`:format`验证错误？`:presence`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T10:27:47.873

在第二次和第三次验证中尝试 :allow_blank => true 。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T08:12:12.740

我认为你可以这样做：

```
validates :username, 
  :presence => true,
  :length => { :in => 3..60, :allow_nil => true }, 
  :format => { :with => /^[a-zA-Z0-9\-_ ]+$/, :allow_nil => true } 
```

当未设置用户名时，它不会关心长度和格式验证，但它会在输入至少一个字符时正常工作。

# r - geom_raster 中值范围内的非线性颜色分布

> ID：12834802
> 
> 赞同：17
> 
> 时间：2012-10-11T07:56:42.413
> 
> 标签：r, ggplot2, geospatial

我面临以下问题：一些极端值主导着我的`geom_raster`情节的色阶。一个例子可能更清楚（注意这个例子只适用于最近的 ggplot2 版本，我使用 0.9.2.1）：

```
library(ggplot2)
library(reshape)
theme_set(theme_bw())

m_small_sd = melt(matrix(rnorm(10000), 100, 100))
m_big_sd = melt(matrix(rnorm(100, sd = 10), 10, 10))
new_xy = m_small_sd[sample(nrow(m_small_sd), nrow(m_big_sd)), c("X1","X2")]
m_big_sd[c("X1","X2")] = new_xy
m = data.frame(rbind(m_small_sd, m_big_sd))
names(m) = c("x", "y", "fill")

ggplot(m, aes_auto(m)) + geom_raster() + scale_fill_gradient2() 
```

![在此处输入图像描述](../Images/1a651dfdb5d6d3ab78950da04f70ed9b.png)

现在我通过将某个分位数上的值设置为等于该分位数来解决这个问题：

```
qn = quantile(m$fill, c(0.01, 0.99), na.rm = TRUE)
m = within(m, { fill = ifelse(fill < qn[1], qn[1], fill)
                fill = ifelse(fill > qn[2], qn[2], fill)}) 
```

![在此处输入图像描述](../Images/e394b6f07a618a35219b6873411a4ddb.png)

这并不是真正的最佳解决方案。我想要做的是将颜色非线性映射到值的范围，即在该区域中存在更多颜色并进行更多观察。在`spplot`我可以`classIntervals`从`classInt`包中使用来计算适当的类边界：

```
library(sp)
library(classInt)
gridded(m) = ~x+y
col = c("#EDF8B1", "#C7E9B4", "#7FCDBB", "#41B6C4", 
        "#1D91C0", "#225EA8", "#0C2C84", "#5A005A")
at = classIntervals(m$fill, n = length(col) + 1)$brks
spplot(m, at = at, col.regions = col) 
```

![在此处输入图像描述](../Images/d9fec3122a1eed997957f985d2345a03.png)

据我所知，不可能像在`spplot`. 我可以转换`fill`轴，但由于变量中有负值`fill`不起作用。

所以我的问题是：有没有使用 ggplot2 解决这个问题的方法？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-11T11:18:30.217

似乎 ggplot (0.9.2.1) 和 scales (0.2.2) 带来了你所需要的一切（对于你原来的`m`）：

```
library(scales)

qn = quantile(m$fill, c(0.01, 0.99), na.rm = TRUE)
qn01 <- rescale(c(qn, range(m$fill))) 

ggplot(m, aes(x = x, y = y, fill = fill)) + 
   geom_raster() + 
   scale_fill_gradientn (
      colours = colorRampPalette(c("darkblue", "white", "darkred"))(20),
      values = c(0, seq(qn01[1], qn01[2], length.out = 18), 1)) +
   theme(legend.key.height = unit (4.5, "lines")) 
```

![结果图](../Images/376db6e19f20c5e0a3643c2bdb2d589d.png)

# windows - WM_GESTURE - Windows 8 上的惯性值

> ID：12834804
> 
> 赞同：3
> 
> 时间：2012-10-11T07:56:54.303
> 
> 标签：windows, touch

有人知道 Windows 7 和 Windows 8 之间惯性值的差异吗？

我在两个操作系统上使用同一台机器，但在 Windows 8 上得到完全不同的值，这会影响我的应用程序的行为。

只是为了记录，这是一个常规的win32应用程序，c ++。

# java - Struts Java：如何从我的 java 代码中读取 struts-config.xml？

> ID：12834805
> 
> 赞同：0
> 
> 时间：2012-10-11T07:56:58.317
> 
> 标签：java, xml, struts

我有一个使用 struts 的 java web 应用程序。我想在运行时访问 struts-config.xml 文件中的数据。

我试图像访问一个简单的文件一样访问它，但是应用程序无法访问它，因为它位于应用程序的根目录之外。

struts 本身是如何读取文件的？以及如何在运行时模仿它？我只需要像一个简单的 xml 文件一样阅读它。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:11:19.510

Struts 只需使用[`ServletContext`](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html).

因为 Struts `ActionServlet`extends `HttpServlet`，它们只是做：

```
URL resource = getServletContext().getResource("/WEB-INF/struts-config.xml"); 
```

从那里，您可以获取`InputStream`并从中读取数据`resource`。

如果`resource`为空，另一种选择是：

```
ClassLoader loader = Thread.currentThread().getContextClassLoader();

if (loader == null) {
    loader = this.getClass().getClassLoader();
}

Enumeration e = loader.getResources(path);
if (e != null && e.hasMoreElements()) {
    resource = (URL)e.nextElement();
} 
```

*上面的代码只是简化了*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:47:33.893

在 Stuts2 中，类 org.apache.struts2.dispatcher.Dispatcher 中的方法 init_TraditionalXmlConfigurations 负责初始化 xml 配置。它将搜索 3 个文件，struts-default.xml、struts-plugin.xml、struts.xml（它们在常量变量 DEFAULT_CONFIGURATION_PATHS 中定义）。

```
private void init_TraditionalXmlConfigurations() {
    String configPaths = initParams.get("config");
    if (configPaths == null) {
        configPaths = DEFAULT_CONFIGURATION_PATHS;
    }
    String[] files = configPaths.split("\\s*[,]\\s*");
    for (String file : files) {
        if (file.endsWith(".xml")) {
            if ("xwork.xml".equals(file)) {
                configurationManager.addContainerProvider(createXmlConfigurationProvider(file, false));
            } else {
                configurationManager.addContainerProvider(createStrutsXmlConfigurationProvider(file, false, servletContext));
            }
        } else {
            throw new IllegalArgumentException("Invalid configuration file name");
        }
    }
} 
```

然后，在方法 loadConfigurationFiles 中，它将获取所有配置文件的 url：

```
try {
    urls = getConfigurationUrls(fileName);
} catch (IOException ex) {
    ioException = ex;
} 
```

下面的实现是如何获取配置文件的 url：

```
protected Iterator<URL> getConfigurationUrls(String fileName) throws IOException {
    return ClassLoaderUtil.getResources(fileName, XmlConfigurationProvider.class, false);
}
public static Iterator<URL> getResources(String resourceName, Class callingClass, boolean aggregate) throws IOException {

     AggregateIterator<URL> iterator = new AggregateIterator<URL>();

     iterator.addEnumeration(Thread.currentThread().getContextClassLoader().getResources(resourceName));

     if (!iterator.hasNext() || aggregate) {
         iterator.addEnumeration(ClassLoaderUtil.class.getClassLoader().getResources(resourceName));
     }

     if (!iterator.hasNext() || aggregate) {
         ClassLoader cl = callingClass.getClassLoader();

         if (cl != null) {
             iterator.addEnumeration(cl.getResources(resourceName));
         }
     }

     if (!iterator.hasNext() && (resourceName != null) && ((resourceName.length() == 0) || (resourceName.charAt(0) != '/'))) { 
         return getResources('/' + resourceName, callingClass, aggregate);
     }

     return iterator;
 } 
```

上面的代码是struts 加载配置的方式。

对你来说，如果你想手动加载 struts-config.xml，你可以使用下面的代码：

```
String filePath = "your struts-config.xml file path";
URL resource = Thread.currentThread().getContextClassLoader().getResource(filePath); 
```

然后，您可以像读取一个简单的 xml 文件一样读取该文件。

# django - Django mod_wsgi 托管服务器要求

> ID：12834806
> 
> 赞同：0
> 
> 时间：2012-10-11T07:57:06.617
> 
> 标签：django, apache, webserver, mod-wsgi, web-hosting

我有用 Django 开发的普通内容管理网站。我的客户有一个服务器`256 MB RAM`。他想在 wsgi 模式下部署这个站点。256 MB RAM 是否足够？我对服务器 RAM 要求和所有知识一无所知。任何帮助将不胜感激

我已经浏览了这个[wsgi](http://code.google.com/p/modwsgi/)文档， 但它没有任何关于系统规范的信息。

在 wsgi 模式下运行 Django 应用程序所需的最小 RAM 是多少？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:54:49.057

您需要多少内存取决于您打算同时运行多少个 Web 应用程序实例。您需要多少取决于您的代码库是否是线程安全的，以及您是否可以在多线程配置中运行它，或者您是否必须使用单线程进程运行多进程配置。

那么，您是否知道一个实例（进程）在运行您的应用程序时使用了多少内存？

底层 Web 服务器与使用的内存几乎没有关系，因为您的应用程序将使 Web 服务器使用的内存量完全相形见绌。

一些快速提示。

*   不要使用 mod_wsgi 的嵌入模式，使用守护模式。
*   去看我的 PyCon US 2012 演讲。[http://lanyrd.com/2012/pycon/spcdg/](http://lanyrd.com/2012/pycon/spcdg/)
*   对您的 Web 应用程序进行一些监控以确定它使用了多少内存。
*   了解您需要处理的流量。

只有掌握了有关应用程序内存需求、需要处理多少负载以及应用程序响应时间的真实数据后，您才能计算出配置和需要多少内存。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:23:24.897

*   什么是操作系统？
*   需要多少个连接？
*   它需要处理的流量是多少？

对于 CMS 类型的工作负载，256MB 一开始似乎并不现实，除非流量非常少并且操作系统被精简到所需的最低限度。

这是一些数据： http: [//nichol.as/benchmark-of-python-web-servers](http://nichol.as/benchmark-of-python-web-servers)

# macos - 如何在 Mac OS-X 上部署 Qt3D 应用程序

> ID：12834808
> 
> 赞同：1
> 
> 时间：2012-10-11T07:57:12.200
> 
> 标签：macos, qt, deployment

如果我在 OS-X 上部署 demo-app sphere.app

macdeployqt sphere.app

并尝试从它开始

sphere.app/Contents/MacOS/sphere

我收到错误消息

file:///Users/dev/src/qt3d-1.0-src/bin/sphere.app/Contents/Resources/qml/sphere.qml:42:1：未安装模块“Qt3D”导入Qt3D 1.0

otool –L sphere.app/Contents/MacOS/sphere 显示，框架已正确部署：

sphere.app/Contents/MacOS/sphere：@executable_path/../Frameworks/Qt3D.framework/Versions/1/Qt3D（兼容版本1.0.0，当前版本1.0.0）@executable_path/../Frameworks/Qt3DQuick。 framework/Versions/1/Qt3DQuick（兼容版本 1.0.0，当前版本 1.0.0）@executable_path/../Frameworks/QtDeclarative.framework/Versions/4/QtDeclarative（兼容版本 4.8.0，当前版本 4.8.3） @executable_path/../Frameworks/QtScript.framework/Versions/4/QtScript（兼容版本4.8.0，当前版本4.8.3）@executable_path/../Frameworks/QtCore.framework/Versions/4/QtCore（兼容版本4.8.0，当前版本 4.8.3）@executable_path/../Frameworks/QtSvg.framework/Versions/4/QtSvg（兼容版本 4.8.0，当前版本 4.8.3）@executable_path/../Frameworks/QtGui。framework/Versions/4/QtGui（兼容版本 4.8.0，当前版本 4.8.3）@executable_path/../Frameworks/QtSql.framework/Versions/4/QtSql（兼容版本 4.8.0，当前版本 4.8.3） @executable_path/../Frameworks/QtXmlPatterns.framework/Versions/4/QtXmlPatterns（兼容版本4.8.0，当前版本4.8.3）@executable_path/../Frameworks/QtNetwork.framework/Versions/4/QtNetwork（兼容版本4.8.0，当前版本 4.8.3）@executable_path/../Frameworks/QtOpenGL.framework/Versions/4/QtOpenGL（兼容版本 4.8.0，当前版本 4.8.3）/System/Library/Frameworks/OpenGL.framework /Versions/A/OpenGL（兼容版本 1.0.0，当前版本 1.0.0） /System/Library/Frameworks/AGL.framework/Versions/A/AGL（兼容版本 1.0.0，当前版本 1.0.0） /usr /lib/libstdc++.6.dylib（兼容版本 7.0.0，当前版本 7.9.0） /usr/lib/libgcc_s.1.dylib（兼容版本 1.0.0，当前版本 830.0.0） /usr/lib/libSystem.B.dylib（兼容版本1.0.0，当前版本 125.2.11)

有人知道如何解决这个问题吗？这是 Qt 错误还是我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:31:19.647

似乎该应用程序无法找到任何 Qt 框架，并且只报告了第一个恰好是 Qt3D 的框架。你能确认 Qt3D 框架存在吗

`@executable_path/../Frameworks/Qt3D.framework/Versions/1/Qt3D`

这里@executable_path 是你的二进制文件的路径，很可能是sphere.app/Contents/MacOS/sphere。所以 Qt3D 应该存在于

```
sphere.app/Contents/Frameworks/Qt3D.framework/Versions/1/Qt3D 
```

如果没有，您可以从库框架路径复制以创建上述路径

# clearcase - 自动交付合并

> ID：12834809
> 
> 赞同：1
> 
> 时间：2012-10-11T07:57:20.993
> 
> 标签：clearcase, clearcase-automation

我的要求是关于明文交付：我想自动化交付（无人工干预/无交付失败）过程：交付时 - 如果有任何合并问题 1.如果 CC 能够合并文件，它的好处 - 让它合并，2 .如果CC无法合并-我不希望它失败，而是不要合并该特定文件（恢复该文件的合并），继续处理下一个文件。3.列出被跳过的文件，以便我以后可以手动合并。

我怀疑我们是否可以一步完成，但请告诉我这是否可行，并进行处理。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T13:20:03.397

最初我尝试使用以下命令来获取要合并的文件列表（文件名、活动被重命名以避免混淆）：

cleartool findmerge 活动：a@\a_pvob 活动：b@\a_pvob -fcsets -ftag Accept_deliver_stream -type d -merge -log c:\temp\am.log

cleartool findmerge 活动：a@\a_pvob 活动：b@\a_pvob -fcsets -ftag Accept_deliver_stream -type f -print -log c:\temp\af.log

因此它将命令列表返回到 af.log 文件，当我尝试执行这些命令时，即使在一小时后它也会挂起，一个命令是：

cleartool findmerge M:\WM2011_DEV_INTG_WMOSBUILD_01\WM08\CPP\base\foundation\general\invupdates\InvUpdate.cpp -fver \main\Mainline_Int\WM08_Integration\WM09_Integration\WM2010_DEV_INTG\MAIN_WM_Int\WM2012_IND\9 -log NUL -merge -cq

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:02:44.663

您可以在合并期间单击“全部跳过”，但您必须以一种或另一种方式解决它们。
最简单的方法是确保首先不考虑合并这些文件（见下文）。

但是没有本地方法可以自动化您描述的过程：

> 交付时，如果有任何合并问题
> 
> 1.  如果 CC 能够合并文件，让它合并，
> 2.  如果 CC 无法合并 - 我不希望它失败，而是不要合并该特定文件（恢复该文件的合并），继续处理下一个文件。
> 3.  列出被跳过的文件，以便我以后可以手动合并。

您需要编写一个脚本来管理这些情况，即使在这种情况下，它也不适用于 UCM 合并（交付/变基），在*所有*文件合并之前不会完成（因此我的“红色箭头”建议如下）

该脚本基本上会采用[cleartool findmerge -print](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m0/index.jsp?topic=/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_findmerge.htm)的输出（以获取要合并的所有目录/文件），然后首先合并目录，然后一个接一个地合并文件，应用您的策略。

* * *

确保始终忽略某个文件

*   对于**当前合并**：
    可以通过显示版本树来模拟合并，右键点击源版本：“合并到”，选择“不合并，绘制合并箭头”（[红色箭头](https://stackoverflow.com/questions/11192525/how-to-distinguish-if-merge-was-manually-or-automatically/11192762#11192762)，代表[合并箭头](https://stackoverflow.com/questions/2397575/merge-arrow-in-clear-case/2397867#2397867)，如如图[所示](https://stackoverflow.com/questions/7462886/find-all-unmerged-files-elements-in-clearcase/7464236#7464236)）。
    这个想法是诱使当前交付者相信该文件已被合并，即使您在合并期间没有进行任何修改（您只是在源版本和目标版本之间绘制了红色或合并箭头）。

*   用于**未来的合并**：
    您可以更改与一种文件类型关联的合并管理器，以便从不合并它。
    请参阅“[在 IBM Rational ClearCase 中处理二进制文件](http://www.ibm.com/developerworks/rational/library/07/0424_hu/index.html)”，其中解释了如何创建*新*的特殊类型管理器：

![类型管理器](../Images/d97f9e76b862c131a5315256b7a7f955.png)

然后，您可以将该合并管理器应用于具有[`cleartool chtype`](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m0/index.jsp?topic=/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_mkeltype.htm).

# java - oracle 在处理 Java 应用程序时由对等方重置连接

> ID：12834810
> 
> 赞同：2
> 
> 时间：2012-10-11T07:57:21.557
> 
> 标签：java, sql, oracle10g

我试图通过java应用程序将数千万数据插入oracle数据库，但插入850k数据后出现错误：

> java.sql.exception: IO Exception : Connection reset by peer socket write error。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T20:54:45.137

我的申请中有类似的问题。

在我的情况下，几分钟后连接没有使用，oracle服务器重置连接，当我不得不再次使用它时，抛出了这个异常。

我发现问题在于 oracle 在 sqlora.net 文件中将连接超时设置为 10 分钟。

也许您可以尝试增加此时间间隔或检查连接是否仍然有效，而不是检查它是否已关闭（即使未关闭连接也可能无效）。

最后一个选项对我来说很好。

我希望这有帮助。

# liferay - 读取图像 xxx 时出错

> ID：12834811
> 
> 赞同：1
> 
> 时间：2012-10-11T07:57:27.737
> 
> 标签：liferay, upgrade

从 Liferay 6.0.6 升级到 6.1 并通过 jackrabbit 将所有文档库文件传输到数据库后，我再也看不到网站上的图像了。我收到这些类型的错误：

```
ERROR [ImageImpl:66] Error reading image 13399    
    com.liferay.portlet.documentlibrary.NoSuchFileException: {fileName=13399.jpg, versionLabel=}
    at com.liferay.portlet.documentlibrary.store.JCRStore.getFileContentNode(JCRStore.java:886)
    at com.liferay.portlet.documentlibrary.store.JCRStore.getFileAsStream(JCRStore.java:441)
    at com.liferay.portlet.documentlibrary.store.BaseStore.getFileAsStream(BaseStore.java:354) 
```

我在某处读到它可能是与权限相关的错误，但我检查了与权限相关的配置，它们与以前的版本相同。知道这是怎么回事吗？提前致谢。

# php - php 5.3 ereg_replace 到 preg_replace

> ID：12834812
> 
> 赞同：1
> 
> 时间：2012-10-11T07:57:31.933
> 
> 标签：php, preg-replace, ereg-replace

```
$this->Settings = array( "host" => $host , "user" => $user , "pass" => $pass );
    $this->db = $db;
    $this->Settings["name"] = ereg_replace  ("_", "", $this->db);
    $this->init(); 
```

我有一个应用程序在从 php 5.2 迁移到 php 5.3 后无法运行。

即使我将上面的 ereg_replace 行更改为

`$this->aSettings["name"] = preg_replace("/_/", "", $this->db);`

它仍然没有从数据库中获取设置。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:59:15.230

没有特别的原因为什么你`preg_replace()`不能工作，但你可以简单地使用`str_replace()`。

```
$this->Settings['Name'] = str_replace('_', '', $this->db); 
```

不过，这句话让我很感兴趣：

```
$this->db = $db; 
```

在哪里`$db`设置？沿着这条路走，直到你找到真正的问题所在，

# java - 我们如何知道哪个方法（java.class）调用了当前方法

> ID：12834813
> 
> 赞同：4
> 
> 时间：2012-10-11T07:57:33.527
> 
> 标签：java, stack-trace

示例：如果我有两个班级：**A**和**B**。两个类都可以调用**C**中的方法（例如：`init()`方法）

从**C**，我们如何知道呼叫来自哪里（来自**A**类或**B**类）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T08:01:31.757

要做到这一点，您应该向 C 的方法提供该信息，例如通过枚举或类参数：

```
public void init(Object otherArg, Class<?> caller) {
    ...
} 
```

或者

```
public void init(Object otherArg, CallerEnum caller) {
    ...
} 
```

但是，如果您不在乎，还有另一种使用堆栈跟踪的方法。查看[Get current stack trace in Java](https://stackoverflow.com/q/1069066/1374678)并使用堆栈顶部的第二个[StackTraceElement](http://docs.oracle.com/javase/6/docs/api/java/lang/StackTraceElement.html)来获取调用当前堆栈的方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T08:13:47.917

这可能有用：

```
StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace(); 
```

*   您可以使用它来获取数组中当前线程的堆栈跟踪，其中`StackTraceElement`数组的第一个元素是堆栈上最近的方法调用序列

*   如果返回的数组长度不为零。 `StackTraceElement`具有 , 等方法`getClassName`，`getMethodName`可用于查找调用者类名或方法名。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:59:59.060

取自网络某处...

```
private static final int CLIENT_CODE_STACK_INDEX;

static {
    // Finds out the index of "this code" in the returned stack trace - funny but it differs in JDK 1.5 and 1.6
    int i = 0;
    for (StackTraceElement ste : Thread.currentThread().getStackTrace()) {
        i++;
        if (ste.getClassName().equals(MyClass.class.getName())) {
            break;
        }
    }
    CLIENT_CODE_STACK_INDEX = i;
}

public static String getCurrentMethodName() {
    return Thread.currentThread().getStackTrace()[CLIENT_CODE_STACK_INDEX].getMethodName();
}
public static String getCallerMethodName() {
    return Thread.currentThread().getStackTrace()[CLIENT_CODE_STACK_INDEX+1].getMethodName();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-05T12:47:15.757

我找到了一个更简单的解决方案（对我来说：D）

```
public <T> void init(Class<T> clazz) {
     if (!clazz.getSimpleName().equals("MyClassName")) {
          // do something
     }else{
          // do something
     }
} 
```

# youtube-api - 如何使用 YouTube API 检索累积观看次数？

> ID：12834815
> 
> 赞同：2
> 
> 时间：2012-10-11T07:57:40.290
> 
> 标签：youtube-api

我在网络或 API 文档上找不到任何关于如何检索当您在视频页面上查看 YouTube 视频的统计信息时显示的非常简单的图表的信息；也就是说，当您单击视频观看次数右侧的“视频统计”按钮时。

我只想要一个从第一次上传视频时的 0 次观看到现在的观看次数的图表；它应该随着时间累积增加。有谁知道如何得到这个？

注意——我不希望每天分解数据（我知道新的 Analytics API）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T14:53:26.030

新公开的 YouTube 分析 API 应该允许您获取此类数据（一段时间内按天细分的观看次数）。

[https://developers.google.com/youtube/analytics/](https://developers.google.com/youtube/analytics/)

# node.js - 使用节点在redis中显示设置值

> ID：12834818
> 
> 赞同：0
> 
> 时间：2012-10-11T07:57:48.483
> 
> 标签：node.js, redis

我坚持使用一个简单的基本 redis 节点程序。代码是

```
var redis = require("redis"), client = redis.createClient();`
client.on("error", function (err) {
console.log("Error " + err);
});
client.sadd("string key1", "Hello1", redis.print);
client.sadd("string key1", "Hello2", redis.print);
client.sadd("string key2", "Hi1", redis.print);
client.sadd("string key2", "Hi2", redis.print);
client.smembers("string key1");
} 
```

如何在控制台中显示添加的集合。我需要像这样的输出

`"string key1" Hello1, Hello2`

`"string key2" hi1, hi2`

请帮我写代码。请

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:50:05.527

```
client.multi()
    .smembers("string key1")
    .smembers("string key2")
    .exec(function (err, replies) {
    console.log("MULTI got " + replies.length + " replies");
    replies.forEach(function (reply, index) {
        console.log("Reply " + index + ": " + reply.toString());
    });
    }); 
```

更多示例在这里[https://github.com/mranney/node_redis/tree/master/examples](https://github.com/mranney/node_redis/tree/master/examples)

# android - Android：获取 TextView 的 X 和 Y 坐标？

> ID：12834821
> 
> 赞同：0
> 
> 时间：2012-10-11T07:57:56.900
> 
> 标签：android, drag-and-drop, coordinates, textview

我现在正在做一个项目。我在一个圆圈中有 2 个可拖动的 textView。当圆圈拖到另一个圆圈上时，我想在圆圈内添加这些值。我的第一个选择是获取圆的 X 和 Y，但我明白了。谁能修复我的代码？

这是代码：

主要活动

```
public class MainActivity extends Activity {
int windowwidth;
int windowheight;
TextView bola;
TextView bola2;
private float x;
private float y;

private android.widget.RelativeLayout.LayoutParams layoutParams;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    windowwidth = getWindowManager().getDefaultDisplay().getWidth();
    windowheight = getWindowManager().getDefaultDisplay().getHeight();

    bola = (TextView) findViewById(R.id.ball);
    bola2 = (TextView) findViewById(R.id.ball2);

    bola2.setOnTouchListener(new View.OnTouchListener() {

        @Override
        public boolean onTouch(View v, MotionEvent event) {
            // TODO Auto-generated method stub
            layoutParams = (RelativeLayout.LayoutParams) bola2
                    .getLayoutParams();
            switch (event.getActionMasked()) {
            case MotionEvent.ACTION_DOWN:
                break;

            case MotionEvent.ACTION_MOVE:
                int x_cord = (int) event.getRawX();
                int y_cord = (int) event.getRawY();

                if (x_cord > windowwidth) {
                    x_cord = windowwidth;
                }
                if (y_cord > windowheight) {
                    y_cord = windowheight;
                }
                layoutParams.leftMargin = x_cord - 25;
                layoutParams.topMargin = y_cord - 75;
                bola2.setLayoutParams(layoutParams);
                break;

            default:
                break;
            }
            return true;
        }
    });

    bola.setOnTouchListener(new View.OnTouchListener() {

        @Override
        public boolean onTouch(View v, MotionEvent event) {
            layoutParams = (RelativeLayout.LayoutParams) bola
                    .getLayoutParams();
            switch (event.getActionMasked()) {
            case MotionEvent.ACTION_DOWN:

                break;

            case MotionEvent.ACTION_MOVE:
                int x_cord = (int) event.getRawX();
                int y_cord = (int) event.getRawY();

                if (x_cord > windowwidth) {
                    x_cord = windowwidth;
                }
                if (y_cord > windowheight) {
                    y_cord = windowheight;
                }
                layoutParams.leftMargin = x_cord - 25;
                layoutParams.topMargin = y_cord - 75;
                bola.setLayoutParams(layoutParams);
                break;

            default:
                break;
            }
            // TODO Auto-generated method stub
            return true;
        }
    });

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}} 
```

Activity_main.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<TextView
    android:id= "@+id/ball"
    android:background="@drawable/bgshape"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="1"
    tools:context=".MainActivity" />
 <TextView
    android:id= "@+id/ball2"
    android:background="@drawable/bgshape"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="2"
    tools:context=".MainActivity"
    android:layout_x="60dp"
    android:layout_y="20dp"
    /> 
```

bgshape.xml（用于圆圈）

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" >

<padding
    android:bottom="20dp"
    android:left="25dp"
    android:right="25dp"
    android:top="20dp" />

<stroke
    android:width="2dp"
    android:color="#000000" />

<solid android:color="#ffffff" />

<corners
    android:bottomLeftRadius="30dp"
    android:bottomRightRadius="30dp"
    android:topLeftRadius="30dp"
    android:topRightRadius="30dp" /> 
```

这段代码运行良好。任何人都可以解决这个问题，以便我可以在他们互相碰撞时在圆圈内添加值吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:34:33.607

尝试这个 ：

getLeft() 和 getTop() 将返回起始 x,y 坐标。

# php - PHP - 需要用数组解释 end()

> ID：12834825
> 
> 赞同：-3
> 
> 时间：2012-10-11T07:58:33.570
> 
> 标签：php, arrays

这是什么，它有什么作用？你能评论一下吗？

`echo end($array)->id;`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:00:08.520

end 函数给出数组的最后一个元素。

在这种情况下，数组是一个**对象数组**，并且从数组中的最后一个对象开始`id`返回属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T08:00:51.017

你读过[http://php.net/manual/en/function.end.php](http://php.net/manual/en/function.end.php)吗？我认为这在内容或评论中有详细说明。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:59:56.793

`end()`将数组的内部指针前进到最后一个元素，并返回其值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T08:03:24.290

`end($array)`将返回数组的最后一个元素值。例如：

如果`end(end($array))`是那么`whatever->id`

但我认为你的情况`end(end($array))`是`$whatever`

所以`$whatever->id` 会给出一些输出。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T07:59:58.087

End 将数组的内部指针设置为其最后一个元素。所以

```
echo end($array)->id; 
```

回显数组中最后一个元素的 id 参数。

# sql - 使用第一个存储过程中的变量在另一个存储过程中调用一个存储过程

> ID：12834838
> 
> 赞同：7
> 
> 时间：2012-10-11T07:59:27.900
> 
> 标签：sql, sql-server, sql-server-2005, stored-procedures

我有一个存储过程说它`@Create_Dummy1`正在传递一个变量。这`@Dummy_Variable1`在此存储过程中被声明。

接下来我需要 `@Create_Dummy2`从`@Create_Dummy1`. 我需要通过`@Dummy_Variable1`声明`exec`。

但是，如果我尝试这样做，`@Dummy_Variable1`则只会传递字符串，而不是传递它所持有的值。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T08:30:18.020

我正在像这样的其他程序中执行程序：

```
DECLARE @childResult int, @loaErrorCode int, @loaErrorMessage varchar(255) 
EXEC @childResult = [dbo].[proc_sub_getSomething] @schemes_id = @foo_schemes_i, @errorCode = @loaErrorCode OUTPUT , @errorMessage = @loaErrorMessage OUTPUT 
```

如果它仍然不起作用，您应该编辑您的问题以显示您的确切代码。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T08:16:47.200

这应该有效：

```
create procedure Create_Dummy1
(
    @Dummy_Variable1  int
)
as 

exec Create_Dummy2 @Dummy_Variable1

Go 
```

和

```
create procedure Create_Dummy2
(
    @Dummy_Variable1  int
)
as 

Select * From yourTable WHERE tableColumn = @Dummy_Variable1 
```

这就是你所说的：

```
exec Create_Dummy1 1 
```

希望这可以帮助。

# c# - 使用 C# 为 POSTEK G-2108 打印机创建 POS 软件

> ID：12834840
> 
> 赞同：0
> 
> 时间：2012-10-11T07:59:40.907
> 
> 标签：c#, .net, printing, barcode

我的客户希望我的程序（数据库阅读器程序）打印所有数据（在程序中）作为纸卷中的标签。

他们希望程序可以使用他们的打印机（条形码打印机 POSTEK g-2108）进行打印打印前

我应该做的第一件事是什么？我正在使用带有 .NET v4 框架的 Visual Studio 2010

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:17:19.863

我过去通过使用 Microsoft POS for .net 层来完成此操作

[http://www.microsoft.com/en-gb/download/details.aspx?id=5355](http://www.microsoft.com/en-gb/download/details.aspx?id=5355)

只要您的打印机具有兼容的驱动程序，它就是一种更简单的接口方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:08:31.577

你的问题没有明确的答案。您需要与 POS 设备交互。您通常使用他们的 API (.dll) 来执行此操作。然后，该 API 与设备驱动程序交互并执行您告诉它执行的操作。如果他们的 .dll 是用 C/C++ 编写的，`DllImport`那么您可以使用它来调用它从 C# 公开的函数。

真的不能告诉你其他什么，学习制造商提供的API然后使用它。

祝你好运

# objective-c - 如何在 myApp 中实现 inAppSetting？

> ID：12834843
> 
> 赞同：-2
> 
> 时间：2012-10-11T07:59:46.627
> 
> 标签：objective-c, ios, xcode

我`InAppSettingsKit`在我的项目中添加了但文件没有被编译，有人可以解释一下逐步集成inAppSetting的过程吗？

```
#import"IASKAppSettingViewController.h" 
```

此行显示错误：`file not found.`

我尝试使用编译源添加它，但未打开 InAppSetting 文件夹。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:14:42.613

确保在复制文件时将文件添加到目标。您必须在放置时设置一个复选框。

现在，您可以转到 Build Phases > Compile Sources > 删除未编译的文件

# php - 客户端断开连接后 CSimpleSocket 失败

> ID：12834845
> 
> 赞同：0
> 
> 时间：2012-10-11T07:59:54.077
> 
> 标签：php, c++, sockets

我在 c++（服务器）和 php（客户端）中的套接字有一些问题。下面是代码。问题是，每当客户端断开连接（由于失败或其他原因）时，pClient->send() 函数应该返回 -1 或 0。但是，它没有。因此我无法打破循环，并且程序在此功能上失败。我究竟做错了什么？我希望你能帮帮我！

```
int sentSucces=0;
char szData[MAX_PACKET];
memset(szData, 0, MAX_PACKET);

CPassiveSocket socket;
CActiveSocket *pClient = NULL;
sendInterval = 10;
socket.Initialize();
socket.Listen((const uint8 *) "127.0.0.1", 9876);
socket.SetNonblocking(); //if no connection in queue, don't wait (accept())

while (1) {
    //check queue for connections.
    if ((pClient = socket.Accept()) != NULL) {
        pClient->SetNonblocking();
        cout << "++ connected\n";
        while (1) {
            // Receive request from the client.
            cout << "- receiving....\n";
            if (pClient->Receive(MAX_PACKET) > 0) {
                cout << "-- received\n";
                strncpy(szData, (const char *) pClient->GetData(), pClient->GetBytesReceived());
                cout << "-- +: " << szData << "\n";
                //clear memory of szData
                memset(szData, 0, MAX_PACKET);

            } else {
                cout << "-- NOT received\n";
            }

            string bericht = "hallo";
            cout << "sending....\n";
            sentSucces = pClient->Send((const uint8 *) bericht.c_str(), strlen(bericht.c_str()));
            cout << "++ send:" << sentSucces << "\n";
            if (sentSucces < 1) break;
            sleep(4);
        }
        cout << "++ disconnecting...\n";
        pClient->Close();
        cout << "++ disconnected\n";
    } else {
        //  cout << "++ no connections\n";
    }
    usleep(10000);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:04:37.993

您的代码在`Receive`. 如果您不想这样做，请不要这样做。该`Send`函数不会返回错误的原因是因为您永远无法到达它，永远在`Receive`.

无论您正在实施什么协议，它的规范是否说连接的这一端应该永远等待尝试接收数据？如果是这样，它就坏了。如果没有，那么您的代码已损坏。如果您没有协议规范，则需要编写一个。否则，您的所有代码只能靠运气一起工作。

TCP 协议确实保证发送方最终会检测到断开连接。但是对于永远等待接收数据的一方来说，这并不能保证。如果对方根本没有发送任何东西并离开了，你仍然会永远等待。当您设计一个通过 TCP 工作的协议时，您必须在协议设计中考虑到这一点。甚至在编写一行代码之前就应该解决这个问题。

# java - 如何使用struts在首页显示所有产品？

> ID：12834851
> 
> 赞同：0
> 
> 时间：2012-10-11T08:00:01.320
> 
> 标签：java, jsp, struts

我想知道如何在第一个 jsp 页面上显示所有产品数据。我从数据库中检索产品数据并返回**List 数组。**然后，我不知道如何在 jsp 中显示这个数组。

我想调用*http://localhost:8080/StrutsPrj/jsp/showAllProduct.jsp*该页面将显示在所有产品上。但我不知道如何在 struts-config.xml 中配置第一页以及如何调用该页面的相关操作。

请检查以下代码：

**ShowAllProductAction ::::::::**

```
Database db = new Database();
public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest req, HttpServletResponse res){
    ProductForm myForm = (ProductForm)form;
    List<ProductForm> prodList = db.getProduct();
    myForm.setProdList(prodList);
    return mapping.findForward("success");
} 
```

**struts-config.xml :::::::**

```
<form-beans>
     <form-bean name="ProdForm" type="action.ProductForm"/>
</form-beans>

<action-mappings>
  <action name="ProdForm" path="/showProduct" type="action.ShowAllProduct" scope="request" >
    <forward name="success" path="/jsp/showProduct.jsp"/>
  </action>
</action-mappings> 
```

path="/showProduct" 在任何 jsp 中都没有，但我添加了这个路径，因为标签必须有路径。:D

**showAllProduct.jsp ::::::**

```
<logic:notEmpty name="userBean" property="searchControl">
   <c:forEach var="i" begin="${userBean.begin}" end="${userBean.end}" step="1">
    ${userBean.prodList[i-1].productName}<br/>
    ${userBean.prodList[i-1].modelNo}<br/>
    ${userBean.prodList[i-1].brief}<br/>
    ${userBean.prodList[i-1].price}<br/><hr/>
   </c:forEach>
</logic:notEmpty> 
```

我有一个错误：**java.lang.IllegalArgumentException：ForwardConfig 的路径不能为空**

这段代码有什么问题？如果你不介意，请给我解释一下。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:57:59.623

它应该是

```
Database db = new Database(); 
public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest req, HttpServletResponse res) {     
     List<ProductForm> prodList = db.getProduct();     
     request.setAttribute("prodList", prodList);
     return mapping.findForward("success"); 
} 
```

在jsp中

```
<logic:iterate name="prodList" id="product">
<p>
  <bean:write name="product" property="productName"/>
  <bean:write name="product" property ="modelNo"/>
  etc ...
</p>
</logic:iterate> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T13:06:21.330

你应该打电话`http://localhost:8080/StrutsPrj/showProduct.do`但不`http://localhost:8080/StrutsPrj/jsp/showAllProduct.jsp`

# javascript - Phonegap 导航栏不适用于多个 html 页面

> ID：12834853
> 
> 赞同：3
> 
> 时间：2012-10-11T08:00:17.010
> 
> 标签：javascript, html, ios, cordova

我正在开发多个 HTML 页面 phoneGap 应用程序，我想实现一个导航栏。

我正在使用以下代码实现 phoneGap[导航栏](https://github.com/phonegap/phonegap-plugins/tree/master/iOS/NavigationBar)：

在`index.html`中，我定义了这样的导航栏：

```
function onDeviceReady() {
  plugins.navigationBar.init();

  // or .create("BlackOpaque") to apply a certain style
  plugins.navigationBar.create("BlackOpaque"); 

  plugins.navigationBar.setTitle("Home");
  plugins.navigationBar.hideLeftButton();
  plugins.navigationBar.hideRightButton();
  plugins.navigationBar.show();
} 
```

当我运行应用程序时，它会在索引页面顶部创建一个导航栏，标题标记为`HOME`，没有左或右`navBarButton`，因为我在主页中不需要它。

`xyz.html`但是当我通过单击一个按钮转到下一个 HTML 页面时，`navBar`显示相同的行为：**即**相同的标题没有左和写按钮。

但我希望它更改当前加载页面的标题，并将`leftNavBarButton`标签插入到后面，以便我也可以返回上一页。

但它没有发生。我还尝试在`xyz.html`页面中编写一个脚本，该脚本应该更改其标题并`leftNavBarButton`放回原处但不起作用。

它在整个应用程序中都是静态的，标题相同，我无法返回上一页。我希望它的行为是全局的，它随着每一页的变化而变化，并保持前一页的状态！我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:17:35.127

如果您使用单页模板（= 每个 HTML 文件 1 个 jQuery Mobile 页面），您必须在每个 HTML 文件中包含您的 JS 代码。

您可以做的是将所有自定义 JS 代码放在一个 JS 文件中，并将其导入您拥有的每个 HTML 页面中。此外，导入您将在每个页面中使用的任何其他 JS 库。

**前任：**

```
<script src="./js/navigationbar.js"</script>
<script src="./js/myjs.js"></script>
...
... 
```

另一种解决方案是在导航到页面时强制刷新页面。

在这种情况下，您不必在每个页面中导入所有 JS 代码，并且对于每个 HTML 文件，您可以导入该给定文件所需的 JS 文件。

# verilog - Verilog：bufif1 何时发出写驱动器低电平？

> ID：12834855
> 
> 赞同：0
> 
> 时间：2012-10-11T08:00:30.640
> 
> 标签：verilog

我想首先了解三态缓冲区的工作原理。其次，我编写了一个程序来建立 I2C 协议，当一个 READ 条件时，从机产生一个写驱动低信号。我被困在这里，无法解决问题。请帮忙。

作为 EEPROM 的从机中有一个三态缓冲器 (bufif1)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T12:55:38.827

> 我想首先了解三态缓冲区的工作原理。

1.  [http://en.wikipedia.org/wiki/Three-state_logic](http://en.wikipedia.org/wiki/Three-state_logic)
2.  [http://www.cs.umd.edu/class/sum2003/cmsc311/Notes/CompOrg/tristate.html](http://www.cs.umd.edu/class/sum2003/cmsc311/Notes/CompOrg/tristate.html)

除此之外，完全不清楚到目前为止您做了什么，似乎有什么问题以及如何帮助您。考虑提供一个最小的工作示例来演示您的问题。

# r - 在R中的函数之外访问本地数据框

> ID：12834861
> 
> 赞同：0
> 
> 时间：2012-10-11T08:00:51.977
> 
> 标签：r, dataframe

我创建了一个将填充数据框的函数，但我忘了`return df1`在函数末尾写。并且脚本需要很长时间才能完成。所以重新运行它是不可行的。

该函数执行以下操作：

> df <- 函数（df1）{
> 
> .... df1 上的一些操作
> 
> 返回df1
> 
> }

有什么方法可以让我从函数内部访问这个数据框，然后作为全局测试正常对其应用更多测试？

也许是这样的：`myfunc.df1`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T08:06:31.827

我认为不可能像那样“闯入”正在运行的 R 进程。如果您的脚本已经完成，对象不会`returned`被丢弃，因此不再可访问。如果您的脚本需要数周才能完成，请始终在小型数据集上测试您的脚本...

# build - 詹金斯 - 如果其他项目之一被 SCM 拉动，则触发工作

> ID：12834862
> 
> 赞同：2
> 
> 时间：2012-10-11T08:00:58.600
> 
> 标签：build, jenkins, jobs

只有当其他几个工作中的一个是由 SCM 触发器构建时，是否有可能触发某些工作？

例如： 1\. 项目 A、B、C 由 SCM 触发器构建。2\. 只有在构建了 A 或 B 或 C 时，才会构建项目 D。即使所有上游项目都已构建（A、B 和 C），它也应该只构建一次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T12:59:33.017

对于工作“D”，在高级项目选项下，添加静默期（多长时间，试验什么效果好）。还要使构建参数化，并为 SCM 版本添加参数。当从其他构建触发构建时，使用参数化触发器插件并将 SCM 版本作为参数。

这里的想法是，当队列中有两个相同的构建时，Jenkins 会将它们组合起来，并且只构建一次 D。

这假设 Jenkins 的版本控制支持实际上设置了指示版本的环境变量（在 A、B 和 C 作业中），我对此不是 100% 确定的。

如果你让它以其他方式工作，但你得到了多个构建，请在构建 D 中尝试“允许并发构建”复选框，我认为它对此有一些影响，无论是哪种方式。

# dojo - Dojo 模拟量表不工作

> ID：12834863
> 
> 赞同：1
> 
> 时间：2012-10-11T08:01:10.510
> 
> 标签：dojo

我正在尝试来自[http://dojotoolkit.org/reference-guide/1.8/dojox/widget/AnalogGauge.html#speedometer-style-gauge-with-arc-indicator-and-needle-indicator](http://dojotoolkit.org/reference-guide/1.8/dojox/widget/AnalogGauge.html#speedometer-style-gauge-with-arc-indicator-and-needle-indicator)的一个简单示例 最初不是工作，因为它找不到 dijit。我正在尝试的代码如下（ <head > 之后的代码段）

```
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.7.3/dijit/themes/claro/claro.css" media="screen">
    <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.8.0/dojo/dojo.js"></script>
<meta charset="utf-8">
    <script>
        dojoConfig = {
            parseOnLoad : true
        }
    </script>
    <script>
        dojo.require("dojox.widget.AnalogGauge");
        dojo.require("dijit.Dialog");
        dojo.require("dojox.widget.gauge.AnalogArcIndicator");
        dojo.require("dojox.widget.gauge.AnalogNeedleIndicator");

        dojo.ready(function() {
            var gauge = dijit.byId('speedo');
            // Used for a gradient arc indicator below:
            var fill = {
                'type' : 'linear',
                'x1' : 50,
                'y1' : 50,
                'x2' : 350,
                'y2' : 350,
                'colors' : [{
                    offset : 0,
                    color : 'black'
                }, {
                    offset : 0.5,
                    color : 'black'
                }, {
                    offset : 0.75,
                    color : 'yellow'
                }, {
                    offset : 1,
                    color : 'red'
                }]
            };
            gauge.addIndicator(new dojox.widget.gauge.AnalogArcIndicator({
                'value' : 200,
                'width' : 20,
                'offset' : 150,
                'color' : fill,
                'noChange' : true,
                'hideValues' : true
            }));
            gauge.addIndicator(new dojox.widget.gauge.AnalogArcIndicator({
                'value' : 80,
                'width' : 10,
                'offset' : 150,
                'color' : 'blue',
                'title' : 'Arc',
                'hover' : 'Arc: 80'
            }));
            gauge.addIndicator(new dojox.widget.gauge.AnalogNeedleIndicator({
                'value' : 100,
                'width' : 8,
                'length' : 150,
                'color' : 'red',
                'title' : 'Needle',
                'hover' : 'Needle: 100'
            }));
        });
    </script>
</head>
<body class="claro">
    <div data-dojo-type="dojox.widget.AnalogGauge"
    id='speedo'
    width="450"
    height="300"
    cx="225"
    cy="175"
    radius="150"
    startAngle="-135"
    endAngle="135"
    useRangeStyles="0"
    hideValues="true"
    color: "white"
    majorTicks="{length: 10, offset: 105, interval: 10, color: 'gray'}"
    minorTicks="{length: 5, offset: 105, interval: 5, color: 'gray'}">
        <div data-dojo-type="dojox.widget.gauge.Range"
        low="0"
        high="100"
        color="{'color': 'black'}"></div>
        <div data-dojo-type="dojox.widget.gauge.Range"
        low="100"
        high="200"
        color="{'color': 'black'}"></div>
    </div>
</body> 
```

从浏览器控制台窗口中，我可以找到以下错误“Uncaught TypeError: Cannot read property "'_Gauge"' of undefined dojo”。但是我无法找到出错的地方。请为此提供一些帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T20:38:16.827

好像你需要放置

```
<script>
    dojoConfig = {
        parseOnLoad : true
    }
</script> 
```

在包含 dojo.js 脚本之前。您还需要 require`dojo.parser`并删除 require for `dijit.Dialog`。我不确定它在`dijit.Dialog`做什么，但它似乎正在影响`dojox.widget.AnalogGauge`. 进行这些更改后，我似乎能够加载并看到您的示例正常工作。以下是您示例的完整编辑版本。

```
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.7.3/dijit/themes/claro/claro.css" media="screen">
<script>
    dojoConfig = {
        parseOnLoad : true
    }
</script>
<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.8.0/dojo/dojo.js"></script>
<meta charset="utf-8"> 
<script>
    dojo.require("dojo.parser");
    dojo.require("dojox.widget.AnalogGauge");
    dojo.require("dojox.widget.gauge.AnalogArcIndicator");
    dojo.require("dojox.widget.gauge.AnalogNeedleIndicator");

    dojo.ready(function() {
        var gauge = dijit.byId('speedo');
        // Used for a gradient arc indicator below:
        var fill = {
            'type' : 'linear',
            'x1' : 50,
            'y1' : 50,
            'x2' : 350,
            'y2' : 350,
            'colors' : [{
                offset : 0,
                color : 'black'
            }, {
                offset : 0.5,
                color : 'black'
            }, {
                offset : 0.75,
                color : 'yellow'
            }, {
                offset : 1,
                color : 'red'
            }]
        };
        gauge.addIndicator(new dojox.widget.gauge.AnalogArcIndicator({
            'value' : 200,
            'width' : 20,
            'offset' : 150,
            'color' : fill,
            'noChange' : true,
            'hideValues' : true
        }));
        gauge.addIndicator(new dojox.widget.gauge.AnalogArcIndicator({
            'value' : 80,
            'width' : 10,
            'offset' : 150,
            'color' : 'blue',
            'title' : 'Arc',
            'hover' : 'Arc: 80'
        }));
        gauge.addIndicator(new dojox.widget.gauge.AnalogNeedleIndicator({
            'value' : 100,
            'width' : 8,
            'length' : 150,
            'color' : 'red',
            'title' : 'Needle',
            'hover' : 'Needle: 100'
        }));
    });
</script>
</head>
<body class="claro">
    <div data-dojo-type="dojox.widget.AnalogGauge"
         id='speedo'
         width="450"
         height="300"
         cx="225"
         cy="175"
         radius="150"
         startAngle="-135"
         endAngle="135"
         useRangeStyles="0"
         hideValues="true"
         color: "white"
         majorTicks="{length: 10, offset: 105, interval: 10, color: 'gray'}"
         minorTicks="{length: 5, offset: 105, interval: 5, color: 'gray'}">
    <div data-dojo-type="dojox.widget.gauge.Range"
                 low="0"
                 high="100"
                 color="{'color': 'black'}"></div>
            <div data-dojo-type="dojox.widget.gauge.Range"
                 low="100"
                 high="200"
                 color="{'color': 'black'}"></div>
     </div>
</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-11T16:44:20.377

我看到 dojox/widget/AnalogGauge.js 的 Javascript 文件只是到 dojox/gauges/AnalogGauge 的映射。

如果我将 dojox/widget/AnalogGauge 更改为 dojox/gauges/AnalogGauge，它会突然起作用。

我不完全确定发生了什么，但我的猜测是它在 dojox/gauges/AnalogGauge.js 文件中的“./_Gauge”的相对路径上出现问题。

我知道这个问题有点老了，但是在dojo 1.9中这个问题仍然很突出，而且由于这个页面在我搜索解决方案时排名第一，所以我想我会在这里记录我找到的内容。

# java - 避免大量 != 对 bean 属性的空检查

> ID：12834864
> 
> 赞同：2
> 
> 时间：2012-10-11T08:01:22.117
> 
> 标签：java, nullable

考虑我有以下豆类：

```
@Entity
public class Currency {

    private String currency;

    public String getCurrency() {
        return currency;
    }

    public void setCurrency(String currency) {
        this.currency = currency;
    }
}

@Entity
public class SomeEntity  {
    private Currency currency;

    public Currency getCurrency() {
        return currency;
    }

    public void setCurrency(Currency currency) {
        this.currency = currency;
    }
} 
```

我有 SomeEntity 的实例：

```
SomeEntity entity; 
```

在代码中的某个地方，我想使用一些实体的属性，但实体可能是`null`，一些实体的属性可能是`null`，所以我当前的代码实现远非易读：

`new ConstantExpression(entity == null ? null : entity.getCurrency() != null ? entity.getCurrency().getId() : null)`

有什么方法可以提高这种情况下的代码可读性吗？

**更新：**我的代码库足够大，所以[Null 对象模式](http://en.wikipedia.org/wiki/Null_object_pattern)实现需要大量修改。此外，我的 bean 使用 JPA 持久化到 db，因此我必须进行额外的编码，例如 Cascade 注释等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T15:07:55.777

由于语言的设计方式，我们永远不会完全摆脱空检查。但是当他们在这里变得太烦人时，这是我喜欢做的一件事。

创建一个“utils”类来为你做空检查。一旦我在 commons-lang 中找到了[StringUtils](http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/StringUtils.html)，那真是一个“啊哈”的时刻。想象一下，您有两个字符串需要比较是否相等。

```
String a;
String b;
// code goes here. a and/or b may or may not be initialized

if (a.equals(b))
{
    // do something
} 
```

正如您痛苦地意识到的那样，上面的代码有出现 NullPointerException 的风险。所以我们必须写：

```
if (a != null && a.equals(b))
{
    // do something
} 
```

输入 StringUtils。相反，我们写

```
if (StringUtils.equals(a,b))
{
    // do something
} 
```

如果这太冗长或者我在这段代码中做了很多等价操作，我们可以使用静态导入：

```
import static org.apache.commons.lang.StringUtils.*;
//...

if (equals(a,b))
{
    // do something
} 
```

瞧 - 即时简洁的代码。这个魔法是如何实现的？没有魔法，只需将空检查放在静态方法中即可。下面是 StringUtils 的实现：

```
public static boolean equals(CharSequence cs1, CharSequence cs2) {
    if (cs1 == cs2) {
        return true;
    }
    if (cs1 == null || cs2 == null) {
        return false;
    }
    if (cs1 instanceof String && cs2 instanceof String) {
        return cs1.equals(cs2);
    }
    return CharSequenceUtils.regionMatches(cs1, false, 0, cs2, 0, Math.max(cs1.length(), cs2.length()));
} 
```

在您的情况下，请考虑编写一个这样的 utils 类：

```
public class MyUtils
{
   public static String getCurrencyId(Currency currency)
   {
      if (currency == null)
         return null;
      return currency.getId();
   }

   public static String getCurrencyId(SomeEntity entity)
   {
      if (entity == null)
         return null;
      return getCurrencyId(entity.getCurrency())
   }
} 
```

现在在调用代码中

```
import static mypackage.MyUtils.*;

new ConstantExpression(getCurrencyId(entity)); 
```

是的 - 使用这样的课程是一种妥协。首先必须创建类很烦人，只有你才能决定是否值得付出努力。但是，如果调用代码非常复杂并且空值检查确实难以遵循逻辑，那么从长远来看，拥有一个单独的 utils 类来隐藏空值检查可能会减少工作量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:11:11.710

您可以使用[Null Object Pattern](http://en.wikipedia.org/wiki/Null_object_pattern)。

*   创建`getId()`始终返回的 Currency 子类`null`
*   有一个此类的单个实例，用于初始化所有`currency`字段。
*   现在`getCurrency().getId()` 是安全的。
*   如果您愿意，请重复相同的操作`SomeEntity`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:04:31.370

你可以简单地实现一个装饰器，它接受一个实体并简单地提供方便的访问方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T08:06:48.107

虽然我不喜欢使用它们，但有些人使用充满“Null”值和对象的“Null”对象而不是使用`null`.

# python - 如何遍历python中的浮点数列表

> ID：12834865
> 
> 赞同：-1
> 
> 时间：2012-10-11T08:01:23.567
> 
> 标签：python, list, floating-point, iterator

我试图通过一个浮点数列表来总结列表，但我得到了流动错误：TypeError：'float' object is not iterable

这是我的代码：

```
sum = 0.0
for x in range(avgListed):
    sum += x 
```

我似乎无法弄清楚，有没有办法让浮点数可迭代？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T08:02:33.650

这个更好：

```
s = sum(avgListed) 
```

一个例子

```
>>> avgListed = [1.2, 3.3,4.6]
>>> sum(avgListed)
9.1
>>> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-28T23:54:20.487

```
sum = 0.0
for x in avgListed:
    sum+=x 
```

你也可以这样使用，或者

```
sum = 0.0
for x in range(len(avgListed)):
    sum += avgListed[x] 
```

同样的工作

# facebook - iOS 6 Facebook sdk 不回叫我的应用程序

> ID：12834868
> 
> 赞同：0
> 
> 时间：2012-10-11T08:01:38.420
> 
> 标签：facebook, ios6

我是 iOS 新手，正在尝试将 FB 集成到我的 iOS 应用程序中。我正在按照[此链接](http://developers.facebook.com/docs/tutorials/ios-sdk-tutorial/authenticate/)的说明进行操作。

现在的问题是，当我单击登录按钮时，我的应用程序在登录后没有被回调；相反，它会显示一个对话框：

> Safari 无法打开页面，因为地址无效。

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T20:12:48.740

我在同一个问题上苦苦挣扎了很长一段时间，直到我发现我在应用程序 plist 中输入了错误的键（它是“URL 方案”而不是“URL 方案”），请参阅此处的最佳答案和评论：[Facebook iOS Safari“无法打开使用单点登录对用户进行身份验证时出现页面错误](https://stackoverflow.com/questions/5131178/facebook-ios-safari-cannot-open-page-error-when-authenticating-user-with-singl)。

# objective-c - 我是否必须在目标 c 的 .h 文件中声明回调方法？

> ID：12834869
> 
> 赞同：0
> 
> 时间：2012-10-11T08:01:46.643
> 
> 标签：objective-c, ios, callback, selector

我有两个类 A 和 B。A 类给 B 类一个目标/动作对，B 类稍后会回调。目标是 self (= class A)，action 是一个回调方法。回调稍后通过以下方式完成：

```
[target performSelector:action withObject:anObject]; 
```

方法操作仅由此回调调用。如果我不在 A 类的 .h 文件中声明该方法，它工作正常。但我的问题是，不在 .h 文件中声明它是一个糟糕的设计吗？由于该方法仅在回调中调用，我认为没有必要声明它，不是吗？我的意思是，回调“performSelector”甚至无法检查该方法在运行时是否存在。那么你的建议是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T08:06:37.850

> 我觉得没必要申报吧？

不，它不是，真的。我经常看到这种模式，事实上，我没有声明这些仅限回调/委托的方法。

> 我的意思是，回调“performSelector”甚至无法检查该方法在运行时是否存在。

但是**可以**，多亏了反思；写这样的东西：

```
if ([delegate respondsToSelector:@selector(someCallback:)]) {
    [delegate someCallback:self];
} 
```

但是，如果您真的担心这一点，最好使用块来进行简单的回调而不是委托。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:06:13.247

为了清楚起见，我会声明它`.h`（尽管没有必要），因为它是从`B`.

# php - 在每个请求上添加 addlashes 和 htmlentities

> ID：12834870
> 
> 赞同：-3
> 
> 时间：2012-10-11T08:01:52.360
> 
> 标签：php, xss, sql-injection

如何在每个 _POST 上添加 addlashes(htmlentities(...))？

```
if ( isset ( $_POST ) ):
     foreach ( $_POST as $name => $val ) :
           $_POST[$name] = addslashes(htmlentities($val));
     endforeach;
endif; 
```

这行得通吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:09:31.760

> 这行得通吗？

它仅在没有像 in 那样传递数组时才有效`?name[]=tony&name[]=anthony`。

你为什么要这样做？如果您这样做是为了保护，您应该仅在需要时使用这些功能。

使用[`mysql_real_escape_string()`](http://fr2.php.net/mysql_real_escape_string)（甚至更好的[PDO](http://fr2.php.net/PDO)）而不是`addslashes()`确保没有 SQL 注入是可能的。例子：

```
// using mysql_real_escape_string
$sql = "SELECT * FROM user WHERE name = '" . mysql_real_escape_string($name) .  "'";

// using PDO (recommended)
$statement = $pdo->prepare("SELECT * FROM user WHERE name = ?");
$statement->execute(array($name)); 
```

使用`htmlspecialchars()`代替`htmlentities()`来防止 XSS。例子：

```
<input type="text" name="<?php echo htmlspecialchars($name) ?>" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:08:44.040

你是在不尝试就问这个吗？据我所知，它应该可以工作。

# c++ - 带元编程的自动 + 静态类内常量初始化

> ID：12834874
> 
> 赞同：6
> 
> 时间：2012-10-11T08:02:17.690
> 
> 标签：c++, c++11, metaprogramming, static-members, auto

考虑以下简化的模板元编程代码，该代码实现了一个`Angle`在内部存储模 360 度缩减值的类。

```
#include <iostream>
#include <typeinfo>

template<int N, int D>
struct Modulus
{
        static auto const value = N % D;
};

template<int N>
struct Angle
{
        static auto const value = Modulus<N, 360>::value; // ERROR
        //static int const value = Modulus<N, 360>::value;  // OK
        //static auto const value = N % 360;                // OK

        typedef Angle<value> type;
};

int main()
{
        std::cout << typeid(Angle<30>::type).name() << "\n";
        std::cout << typeid(Angle<390>::type).name() << "\n";

        return 0;
} 
```

在[Ideone上输出](http://ideone.com/4v7pg)

使用 Visual C++ 2010 Express，我可以做到`static auto const = Modulus<N, 360>::value`，但使用 MinGW gcc 4.7.2（ Nuwen[发行版](http://nuwen.net/mingw.html)）或 Ideone（gcc 4.5.1）我必须明确将类型表示为，`static int const value = Modulus<N, 360>::value`或者我必须使用`auto`完整的模块化表达式 as `static auto const value = N % 360;`。

**问题：根据新的 C++11 标准，哪个编译器是正确的？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T18:25:48.480

代码有效。Visual C++ 接受它是正确的，而 gcc 拒绝它是错误的（为了完整性，Clang 3.1 也接受该代码）。该规范指出 (C++11 7.1.6.4[dcl.spec.auto]/4)：

> `auto` *类型说明符*也可用于...用出现在类定义的*成员规范中的**大括号或等号初始化器声明静态数据成员。*

 *你`value`是一个静态数据成员。它有一个*大括号或等号初始化器*（即`= Modulus<N, 360>::value`声明的一部分），并且初始化器出现在类定义的*成员规范*中（即，凡人可能称之为“内联初始化器”）。*

# asp.net-mvc - Dynamo IoC 和 Mvc

> ID：12834883
> 
> 赞同：0
> 
> 时间：2012-10-11T08:02:39.237
> 
> 标签：asp.net-mvc, dependency-injection, inversion-of-control

我正在尝试使用 Mvc 的 Web 扩展的 Dynamo IoC，我看到他们在创建自定义 HttpApplication 以从中派生您的 Global.asax 方面做得很好。但是，我似乎遗漏了一些东西。

我想在我的控制器中完成 DI，但我遇到了通常的“控制器必须有一个无参数构造函数”的问题。

这就是我在 global.asax 中所做的（源自`DynamoMvcAndWebApiApplication`）：

```
protected override void RegisterDependencies(Dynamo.Ioc.IIocContainer container)
{
    container.Register<ILogger, FakeLogger>();
} 
```

然后我的控制器：

```
public class HomeController : Controller
{
    private readonly ILogger logger;

    public HomeController(ILogger logger)
    {
        this.logger = logger;
    }

    public ActionResult Index()
    {
        logger.Log("test");
        return View();
    }
} 
```

这让我得到“无参数构造函数错误”。我认为 Dynamo 的 Web 扩展已经处理了使 DI 工作所需的一切。

如果我添加一个无参数构造函数，它会被调用，但是我的 ILogger 将为空，并且我将在我的操作方法中获得 NullReferenceException。

我考虑过必须实现一个 ControllerFactory，但我也认为如果它是强制性的，他们会为 MVC 提供它以及所有其他东西，所以我认为我在滥用所提供的东西。

我想知道是否有人知道如何使 DI 在这种情况下工作。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T13:30:01.397

我最好的猜测是，这是因为您在注册依赖项时没有注册 HomeController。根据你的例子，你没有。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T20:41:48.877

我同意 MartinF 的观点。如果您希望解决 HomeController 的依赖项，则需要通过从 Dynamo 容器中解析它来实例化它。当然，我没有看到您的解析代码，但我只是猜测这就是发生的事情。我不认为这是“Dynamo 没有与 MVC 完全集成”的问题。根据容器的工作方式，您甚至可能不需要在尝试解析之前向容器显式注册 HomeController，但您确实需要让容器为您解析它，以便它可以满足依赖关系。只是我根据其他容器的使用情况的猜测。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-07T12:29:07.283

经过长时间的挖掘和试验，Dynamo 似乎没有与 MVC 完全集成。我尝试了 Ninject 与 MVC 的集成，它工作正常，开箱即用。

我的猜测是 Dynamo 只是“还没有”，我会在未来继续检查它的更新。

# java - 如何获取方法的行号？

> ID：12834887
> 
> 赞同：19
> 
> 时间：2012-10-11T08:02:56.290
> 
> 标签：java, reflection

是否可以使用反射或其他魔法获取方法的行号？
如果该方法在当前 Stacktrace 中，则有可能。使用`Thread.currentThread().getStackTrace()`，可以得到一个[`StackTraceElement`](http://docs.oracle.com/javase/7/docs/api/java/lang/StackTraceElement.html). 但是，如果我只得到了[`java.lang.reflect.Method`](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html)对象，我该怎么办？

我发现了这个，对于类->[如何从 java.lang.Class 对象获取源文件名/行号，](https://stackoverflow.com/questions/7483421/how-to-get-source-file-name-line-number-from-a-java-lang-class-object)但它对方法没有用。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-20T06:38:24.970

在对 javassist 进行了一些研究之后，我想做同样的事情。您将需要添加 javassist（我使用的是 3.15.0-GA 版本）。

给定以下类确定“x”方法的位置。方法名称“x”是硬编码的，但是如果你和我在同一条船上，反射并不难，所以我相信你可以得到一个方法名称列表，那么下面会让你得到行号的方法：

```
public class Widget {
    void x(){System.out.println("I'm x\n");}
    //comment added to create space
    void y(){System.out.println("I'm y\n");} 
} 
```

* * *

```
import javassist.ClassPool;
import javassist.CtClass;
import javassist.CtMethod;
import javassist.NotFoundException;

public class App {
    public static void main(String[] args) throws NotFoundException {
        System.out.println("Get method line number with javassist\n");
        ClassPool pool = ClassPool.getDefault();
        CtClass cc = pool.get("com.quaternion.demo.Widget");
        CtMethod methodX = cc.getDeclaredMethod("x");
        int xlineNumber = methodX.getMethodInfo().getLineNumber(0);
        System.out.println("method x is on line " + xlineNumber + "\n");
    }
} 
```

**输出**：`method x is on line 12`在我的情况下是准确的，我删掉了一些评论......

**注意**：正如 Pete83 在评论中提到的，此方法实际上返回方法中的第一行代码，而不是声明方法的行。这通常不会成为问题，因为大多数人可能希望建立相对位置（声明它们的顺序）并将此信息用于您自己的约定。每当您觉得需要在注释中包含一个序数值时，就会出现这种情况，这可以很容易地由代码本身中的位置确定。

* * *

快速参考 javassist 的 Maven 坐标：

```
<dependency>
   <groupId>org.javassist</groupId> <!-- if a version prior to 3.13.0-GA is needed use "javassist" and not "org.javassist" -->
   <artifactId>javassist</artifactId>
   <version>3.15.0-GA</version>
</dependency> 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-05-02T11:17:57.220

对我来说，指向 Javassist 的 Quaternion 的答案是这个问题的完美解决方案。它对我有用，当你只获得 java.lang.reflect.Method 对象时也可以使用它。

我是这样做的：

```
Method m; // the method object
ClassPool pool = ClassPool.getDefault();
CtClass cc = pool.get(m.getDeclaringClass().getCanonicalName());
CtMethod javassistMethod = cc.getDeclaredMethod(m.getName());
int linenumber = javassistMethod.getMethodInfo().getLineNumber(0); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:05:13.037

您无法从 Method 中获取行号，因为您不知道这适用于哪种方法。方法可以调用您选择的方法的任何子类。

# android - 如何开始我的 HTML5 应用程序？

> ID：12834888
> 
> 赞同：0
> 
> 时间：2012-10-11T08:03:04.270
> 
> 标签：android, html

我想用 HTML5 开始我的新项目，但实际上我不知道要开始，我也不知道是否必须使用 Dreamweaver 或 Eclipse？我要设计的程序必须做三件事：

*   注册表格的人到 MySQL 数据库
*   注册后自动登录
*   显示 MySQL 数据库的信息

数据库已经在我的服务器上运行，但现在我需要创建 HTML5 文件。

谁能帮我推背？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:09:36.173

HTML 5 是否有效将取决于您的站点运行的浏览器。您可以使用任何文本编辑器或 IDE 来编写 HTML 5 代码。您应该提供机制来检测浏览器是否支持 HTML 5，如果不支持，则呈现相应的 HTML 4 文件。

支持 HTML 5 的浏览器的比较测试[here](http://deepbluesky.com/blog/-/browser-support-for-css3-and-html5_72/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:10:45.193

[使用 Eclipse IDE](https://stackoverflow.com/questions/9636125/developing-html5-application-with-eclipse-ide)或 [html5 for Eclipse开发 HTML5 应用程序](http://marketplace.eclipse.org/category/free-tagging/html5)

# java - Java DynamicReports 格式日期与语言环境有关

> ID：12834891
> 
> 赞同：3
> 
> 时间：2012-10-11T08:03:25.293
> 
> 标签：java, jasper-reports, date-formatting

我正在使用*DynamicReports API*来构建报告。

我正在设置报告的*语言环境*并格式化报告的日期列，但无论*语言环境*是什么，日期的格式总是像*10/12/2009 10:54:44* AM 。

 *代码如下所示：

```
rep.setTemplate(Templates.reportTemplate.setLocale(res.getLocale()));
...
if (rs.getString(i).contains("00:00:00"))
   rep.addColumn(col.column(title,  name,  type.dateType()));
else
   rep.addColumn(col.column(title,  name,  type.dateYearToSecondType())); 
```

有没有办法根据报告的*区域设置*自动格式化日期，还是让我使用自定义***ValueFormatter***？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-14T08:40:12.603

我也尝试了参数映射但没有成功

```
JasperReportBuilder rep = report()
   .setDataSource(query, conn.getConnection())
   .setParameter(JRParameter.REPORT_LOCALE, res.getLocale());
   .setTemplate(Templates.reportTemplate.setLocale(res.getLocale())); 
```

无法自动格式化日期。唯一的方法是使用与区域设置相关的日期列模式。

```
TextColumnBuilder<Date> column = col.column(title,  name,  type.dateType());
if (res.getLocale().equals("EN") {
  column.setPattern("dd.MM.yyyy");
}
else if (res.getLocale().equals("US") {
  column.setPattern("MM/dd/yyyy");
}
else {
   ...
}
rep.addColumn(column); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-17T07:07:57.707

我设法以这种方式在动态碧玉中格式化日期字段。

```
ColumnBuilder time = ColumnBuilder.getNew();
time.setTitle("Login Time");
time.setWidth(200);
time.setColumnProperty("emp.logintime", Date.class.getName()).setPattern("dd/MM/yyyy hh:mm:ss a");
drb.addColumn(time.build()); 
```*

# php - MySQL WHERE IN 没有错误的结果

> ID：12834897
> 
> 赞同：1
> 
> 时间：2012-10-11T08:03:54.937
> 
> 标签：php, mysql

我正在编写这个小导入/导出类，每当我运行它时，查询都会失败，并说明：

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 ')' 附近使用正确的语法

这是我写的查询：

```
SELECT 
    b.voorletters,
    b.voornaam,
    b.achternaam,
    b.tussenvoegsel,
    b.email
FROM
    `fietsvoordeelshop_twc`.`fvs_bestellingen` as b
INNER JOIN
    `fietsvoordeelshop_twc`.`fvs_bestellingen_producten` as bp ON bp.bestelling_id = b.id
INNER JOIN
    `fietsvoordeelshop_twc`.`fvs_producten` as p ON bp.product_id = p.id
WHERE
    p.merk_id IN (3,6)
AND
    p.cat_id IN (1)
GROUP BY b.email 
```

该`WHERE IN`子句是使用 PHP 生成的。

每当有结果要找到时，这都可以正常工作，但是如果没有找到结果，则会发生错误，而不是返回，嗯，什么都没有。该查询使用 Workbench 和 HeidiSQL 可以正常工作。

我正在使用[PHP 附带的旧的默认 MySQL 库](http://php.net/manual/en/book.mysql.php)。

对此的任何帮助都会很棒。我试过了，试过了！

# php - 如何像在浏览器中一样定向到以前查看过的页面？

> ID：12834898
> 
> 赞同：0
> 
> 时间：2012-10-11T08:03:59.643
> 
> 标签：php, javascript

我的网站上有一个后退按钮。如果我点击后退按钮，它应该会显示以前查看过的页面。

示例：我先检查了第二个项目，然后检查了第十个项目，如果我单击后退按钮，它应该重定向到第二个项目页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:06:18.247

在Javascript中你可以这样做

单步

```
window.history.go(-1); 
```

和两个

```
window.history.go(-2); 
```

等等....

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:15:14.697

由于您已经用 PHP 标记了它，因此除了 javascript window.history.go(-1); 之外还有另一个选项；

在 PHP 中，您可以在 $_SERVER 数组 $_SERVER['HTTP_REFERER'] 中使用“HTTP_REFERER”

然而，var 由用户代理发送到 PHP，并不是所有的用户代理都这样做，请查看[http://php.net/manual/en/reserved.variables.server.php](http://php.net/manual/en/reserved.variables.server.php)了解更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:07:48.700

使用 javascript history.back

```
window.history.back();  // this takes u one page backward 
```

看一下这个

[http://www.w3schools.com/jsref/met_his_back.asp](http://www.w3schools.com/jsref/met_his_back.asp)

# android - Android ICS Webview 上显示的双文本框

> ID：12834914
> 
> 赞同：2
> 
> 时间：2012-10-11T08:05:12.973
> 
> 标签：android, webview

我有一个带有表单的 webview，当我点击一个文本框输入时，这就是发生的事情：

![双文本框](../Images/af9f51ee45839bb34ff6fe34179fafed.png)

我的 html 表单上有这个：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN"
    "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no" /> 
```

我正在使用三星 Galaxy Tab 2，安卓冰淇淋三明治。我对蜂窝有同样的经历。

我尝试添加：

```
-webkit-transform: translate3d(0,0,0); 
```

在容器和/或输入元素本身上，但没有任何效果。

感谢您提供有关如何解决此问题的任何想法！

编辑：

我的html：

```
 <td class='valign_top' style='width:30%; -webkit-transform: translate3d(0,0,0);'>
            <div class='cell_lbl'>P.O. Number:</div>
            <input type='text' name='po_number' id='po_number' style='width:100%;' />
        </td> 
```

当我在内置浏览器中尝试它时，它很好。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T09:01:49.590

你应该尝试应用这个：

```
-webkit-user-modify: read-write-plaintext-only;
-webkit-tap-highlight-color: rgba(255,255,255,0); 
```

或这个：

```
-webkit-user-modify: read-write-plaintext-only;
-webkit-tap-highlight-color:#3072af; 
```

到您的输入框元素。

# php - 如何将从while循环中提取的行保存到新数组中？

> ID：12834917
> 
> 赞同：0
> 
> 时间：2012-10-11T08:05:24.183
> 
> 标签：php, podscms

假设我的 header.php 中有这个循环：

```
<div id="top-20">
    <h2 class="top-20-title">TOP 20 TEAMS</h2>

    <div class="top-20-content">

        <?php
            $params = array(
               'limit'   => -1 // get everything
            );

            $matches = pods( 'matches', $params );

            if ( 0 < $matches->total() ) {
                while ( $matches->fetch() ) {
            ?>

                 <?php echo $matches->field( 'winner_team' ); ?>
                 <br>

            <?php
                    } // end of while loop
                } // end of if any exists
            ?>

    </div><!-- /top-20-content -->  
</div><!-- /top-20 --> 
```

这就是我的简化表的样子：

```
id | team_1 | team_2 | winner_team
--------------------------------
1  | 3      | 15     | 3
--------------------------------
2  | 20     | 8      | 8
--------------------------------
3  | 18     | 11     | 18
--------------------------------
4  | 8      | 7      | 8
--------------------------------
... 
```

但我想要而不是在while循环中回显

```
<?php echo $matches->field( 'winner_team' ); ?> 
```

创建一个新数组，即**$matches_array**，它将包含 2 列，如**id_new**和**Winner_team_new并将****winner_team**的值保存在Winner_team_new 中，**而**不是直接在 while 循环中回显它。

 ****然后我想将这个新创建的数组 $matches_array 循环到另一个 while 循环中，在 groupby 出现winner_team_new 和 orderby 他们 DESC 之后。**

所以，我会得到这样的东西：

```
8
3
18 
```

而不是我目前在 while 循环中使用 echo 时得到的：

```
3
8
18
8 
```

为什么我不能只在sql里面做呢？由于这个错误，我需要使用另一个不使用 $params 或 sql 数组中的条件的数组来完成：[https](https://github.com/pods-framework/pods/issues/595) ://github.com/pods-framework/pods/issues/595以及 pods 框架对我来说太复杂的事实将我自己的代码调整到核心中，所以我想通过使用将从 while 循环创建的数组来绕过它。

**所以，我需要的是创建一个数组，并根据winner_team 的出现次数从多到少重新排列结果。**

我试过使用

```
$matches_array = array_count_values(array_map($matches,array_keys($new_row))); 
```

然后在while循环中循环它，但它根本不起作用。

我需要按部分计算数组/组的帮助。

我对此几乎一无所知。

我只是猜想我需要在基于相同的**winner_team**字段进行分组后创建一个新字段，例如**wins**，其中将存储每个团队（基于winner_team）值的出现次数。然后订购该新数组 DESC。

**顺便提一句。表中的所有列都是 INTEGERS**

**编辑 2：** 我已经弄清楚如何将 while 循环中的值存储在一个名为 $matches_array 的新数组中，代码如下所示：

```
<div id="top-20">
    <h2 class="top-20-title">TOP 20 TEAMS</h2>

    <div class="top-20-content">

        <?php
            $params = array(
               'limit'   => -1 // get everything
            );

            $matches = pods( 'matches', $params );

            if ( 0 < $matches->total() ) {
                while ( $matches->fetch() ) {
            ?>

                 <?php // echo $matches->field( 'winner_team' ); ?>
                      <?php $row_array = $matches->field( 'winner_team' ); ?>
                      <?php $matches_array[]; ?>

                 <br>

            <?php
                    } // end of while loop
                } // end of if any exists
            ?>

    </div><!-- /top-20-content -->  
</div><!-- /top-20 --> 
```

现在，我可能需要在 groupby 之后执行一个 foreach 循环（基于 winner_team 字段中数字的出现）并在输出 DESC 之前对结果进行排序。

任何建议如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T05:15:06.357

最初使您无法按别名列排序的问题应该得到解决。我已经使用初始场景对其进行了测试，并且它正在做它应该做的事情。我认为您可以愉快地放弃这种尝试的解决方法。**

# automated-tests - Selenium-RC 加载空框架

> ID：12834921
> 
> 赞同：0
> 
> 时间：2012-10-11T08:05:38.370
> 
> 标签：automated-tests, selenium-rc, selenium-iedriver

如上所述，我正在网站上进行自动化测试。

我正在使用 selenium RC 来做到这一点，但我只是不确定为什么我无法打开网站（实际上我确实打开了它），但它的内容没有显示。

只有几个空框框。

这本来有太多的代码，所以我要添加更多。

有谁知道为什么？谢谢你。

这是我的代码（删除了不相关的代码）：

```
private ISelenium selenium;
private StringBuilder verificationErrors;
private Process worKer = new Process();
private string
serverHost = "localhost",
browserString = @"*iexploreproxy",
startUpURL = "";
private int
portNumber = 4444;

private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
{
    if (comboBox1.SelectedItem.ToString() == "CNY")
    {
        startUpURL = "http://malaysia.yahoo.com/";
    }
}

private void btnStartServer_Click(object sender, EventArgs e)
{
    worKer.StartInfo.FileName = @"C:\LjT\SeleniumServer.bat";
    worKer.Start();
}

private void WakeUpSElenium()
{
    selenium = new DefaultSelenium(serverHost, portNumber, browserString, startUpURL);
    selenium.Start();
    verificationErrors = new StringBuilder();
}

private void ToDoList()
{
    selenium.Open("/");
    //selenium.SelectFrame("iframe_content");
    selenium.Type("id=txtFirstName", "1");
    selenium.Click("id=rbtnGender_0");
}

private void btnTest_Click(object sender, EventArgs e)
{
    try
    {
        WakeUpSElenium();
        ToDoList();
    }
    catch
    {}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:30:58.830

您没有在任何地方导航，即这里的代码根本不会导航到任何页面：

```
selenium.Open("/"); 
```

我假设您打算这样做：

```
selenium.Open(startUpURL); // this is the value from the combobox. 
```

# jsp - 如何在 Struts 2 JSP 中打印函数调用的结果？

> ID：12834922
> 
> 赞同：0
> 
> 时间：2012-10-11T08:05:43.967
> 
> 标签：jsp, struts2

如何在 JSP 页面中打印由特定类的方法返回的值？

我的动作类中有特定类的对象：

```
private PageTools pagetools = new PageTools(); 
```

我需要打印返回的值`pageTools.getLoggedUserName()`。

`getLoggedUserName`方法返回在 java 类中打印时可用的会话变量的值...但是如何在 JSP 页面中打印它（由该对象调用）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:48:39.560

在您的 struts2 Action 中定义一个字段为

```
private String loggedInUserName;
//getter and setter 
```

然后在行动方法

```
loggedInUserName= pageTools.getLoggedUserName(); 
```

现在在你的jsp中进行显示，只需写

```
<s:property value="loggedInUserName" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:55:34.773

如果你`pagetools`在 jsp 中有 getter 和 setter，就这么简单
`<s:property value="pagetools.loggedUserName"/>`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-11T04:58:39.237

使用以下

```
<s:property value="pagetools.getLoggedUserName()"/> 
```

# asp.net-mvc - 从我的控制器而不是从我的 asp.net mvc Web 应用程序中的视图调用 JSON API

> ID：12834930
> 
> 赞同：3
> 
> 时间：2012-10-11T08:06:24.587
> 
> 标签：asp.net-mvc, asp.net-mvc-3, api, asp.net-mvc-4

我需要从我的 asp.ner mvc Web 应用程序中为 BPM 引擎调用 JSON API。对 BPM 的 API 调用构造如下：-

```
http://localhost:8080/jw/web/json/workflow/process/list?j_username=kermit&hash=9449B5ABCFA9AFDA36B801351ED3DF66&loginAs=' + username 
```

其中 j_user 和 hash 参数都表示在 BPM 引擎端设置的主登录用户名和密码。目前，我正在从我的 asp.net mvc 的视图级别使用 java/script 调用 API：-

```
$(document).ready(function () {
    var fullurl = 'http://localhost:8080/jw/web/json/workflow/package/list?j_username=kermit&hash=9449B5ABCFA9AFDA36B801351ED3DF66&loginAs=' + username ;
    $.ajax({
        type: "GET",
        url: fullurl, 

        dataType: "JSONP",
        // contentType: "application/json; charset=utf-8",
        success: function (result) {

            $.each(result.data, function (key, val) {

                // Format the text to display.
             //   var str = val.packageName + ' | ' + val.packageId;
                var str = val.packageName ;
                // Add a list item for the product.
                $('<li/>', { text: str })
                .appendTo($('#products'));

            });
        }
    });

}); 
```

但有人告诉我，在 asp.net mvc 上公开主登录用户名和密码以及代表登录用户用户名的 LoginAS 用户名是不安全的，我应该在服务器端执行 API 调用从 JAVASCRIPT 进行 API 调用。

但我的问题是如何转换上面的代码以从 mvc 控制器端接收 JSON，然后将 JSON 传递给视图？最好的祝福

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T08:55:44.350

您可以使用[WebClient](http://msdn.microsoft.com/en-us/library/system.net.webclient.aspx)来触发对指定 url 的 HTTP 请求：

```
public class PackagesController: Controller
{
    public ActionResult List()
    {
        using (var client = new WebClient())
        {
            var query = HttpUtility.ParseQueryString(string.Empty);
            query["j_username"] = "kermit";
            query["hash"] = "9449B5ABCFA9AFDA36B801351ED3DF66";
            query["loginAs"] = "some_username";
            var url = new UriBuilder("http://localhost:8080/jw/web/json/workflow/package/list");
            url.Query = query.ToString();
            string json = client.DownloadString(url.ToString());
            return Content(json, "application/json");
        }
    }
} 
```

或者您可以使用.NET 4.5 中引入的新[HttpClient ：](http://msdn.microsoft.com/en-us/library/system.net.http.httpclient.aspx)

```
public class PackagesController : AsyncController
{
    public async Task<ActionResult> ListPackages()
    {
        using (var client = new HttpClient())
        {
            var query = HttpUtility.ParseQueryString(string.Empty);
            query["j_username"] = "kermit";
            query["hash"] = "9449B5ABCFA9AFDA36B801351ED3DF66";
            query["loginAs"] = "some_username";
            var url = new UriBuilder("http://localhost:8080/jw/web/json/workflow/package/list");
            url.Query = query.ToString();
            var response = await client.GetAsync(url.ToString());
            var result = await response.Content.ReadAsStringAsync();
            return Content(result, "application/json");
        }
    }
} 
```

并从您的 javascript 向上述操作发送 AJAX 请求：

```
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            url: '@Url.Action("List", "Packages")', 
            type: 'GET',
            cache: false,
            success: function (result) {
                $.each(result.data, function (key, val) {
                    var str = val.packageName;
                    $('<li/>', { text: str })
                        .appendTo($('#products'));
                });
            }
        });
    });
</script> 
```

# javascript - 如何根据组合框选择更改文本标签？

> ID：12834935
> 
> 赞同：1
> 
> 时间：2012-10-11T08:06:32.353
> 
> 标签：javascript, html, combobox, label

我有一个组合框，其中有 10 个条目，当您单击一个时，我希望选择条目根据用户在组合框中选择的条目进行更改。我已经尝试过类似的东西，但它似乎不起作用。

```
 if (document.getElementById('label').selectedIndex = '0')
        {document.getElementById('labelname').innerHTML='choice1';}

            else if(document.getElementById('label').selectedIndex = '1')
                {document.getElementById('labelname').innerHTML='choice2';}

                    else(document.getElementById('label').selectedIndex = '2')
                        {document.getElementById('labelname').innerHTML='choice3';} 
```

问题是，无论我点击哪一个凸轮总是恢复到最后一个给我'choice3'作为我所有10个条目的标签。有什么帮助吗？我还没有完成代码，因为这些代码甚至还没有工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:31:03.217

您的代码有两个主要问题。

1.  对于相等比较，您必须使用 '==' 而不是 '=' 。'=' 将改变值
2.  最后一个“else”必须有一个“if”关键字

正确的如下：

```
<html>
<head>
<script type="text/javascript">
function select() {

   if (document.getElementById('label').selectedIndex == '0')
        {document.getElementById('labelname').value ='choice1';}

            else if(document.getElementById('label').selectedIndex == '1')
                {document.getElementById('labelname').value ='choice2';}

                    else if(document.getElementById('label').selectedIndex == '2')
                        {document.getElementById('labelname').value ='choice3';} 

}
</script>       
</head>     

<body>

<select id="label">
<option>1</option>
<option>2</option>
<option>3</option>
</select>

<button onclick="select()">Select</button>

<input type="text" id="labelname" />

</body>

</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:09:03.280

我找到了答案：

改变

```
{document.getElementById('labelname').innerHTML=='choice1';} 
```

到

```
{document.getElementById('labelname').innerHTML='choice1';} 
```

`==`当您想将某物分配给某物时不要使用

你能提供我们可以模拟这个的细节吗？包括您的 html 片段和 javascript。这里[http://jsbin.com/](http://jsbin.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:10:42.640

```
 if (document.getElementById('label').selectedIndex == '0')
        {document.getElementById('labelname').innerHTML='choice1';}

            else if(document.getElementById('label').selectedIndex == '1')
                {document.getElementById('labelname').innerHTML='choice2';}

                    else(document.getElementById('label').selectedIndex == '2')
                        {document.getElementById('labelname').innerHTML='choice3';} 
```

试试这个。用于`==`检查值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T08:20:44.620

```
var selValue = document.getElementById('label').value;
document.getElementById('labelname').innerHTML = selValue; 
```

为此，“标签”必须如下所示：

```
<select id="label">
    <option>Name one</option>
    <option>Name two</option>
    <option>Name three</option>
</select> 
```

`.value`会给你内在的文字`<option selected>text in here is .value</option>`

UPD。JS：

```
 var index = document.getElementById('label').selectedIndex;
  var labelName = document.getElementById('labelName');

  switch(index) {
    case 0:
      labelName.innerHTML = "cam1";
      break;

    case 1:
      labelName.innerHTML = "cam2";
      break;
  } 
```

如果您需要更多案例，只需添加示例，`case 2: ... case 3: ...`依此类推

ps`switch() {}`比hierarchy漂亮多了`if ... else`

# css - CSS：输入占位符在Mozilla中不起作用后

> ID：12834939
> 
> 赞同：1
> 
> 时间：2012-10-11T08:06:44.143
> 
> 标签：css, placeholder

我想在**占位符文本结束的文本输入占位符中放置一个小图标**

```
<input type="text" placeholder="Search  "> 
```

使用 CSS 我想添加一个放大镜图标。这在 Chrome 中完美运行，但我想让它也适用于 Firefox。

对于我使用的 Chrome`::-webkit-input-placeholder:after{content:url('magnifier.jpg');}` 和我尝试过的 Firefox

```
input:-moz-placeholder:after{content:url('magnifier.jpg');} 
```

和

```
input:-moz-placeholder::after{content:url('magnifier.jpg');} 
```

但由于某种原因它不起作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T08:12:22.370

.....................

输入元素是替换元素。

`Pseudo-elements`，例如`:after` 或`:before`将不起作用

```
 <button>, <textarea>, <input>,  <select>, <img>, <object> 
```

**[这些](http://reference.sitepoint.com/css/replacedelements)**元素。

***[更多信息](http://reference.sitepoint.com/css/replacedelements)***

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T08:10:43.853

不要尝试将图像添加为内容。采用

```
input:-moz-placeholder { background: url('magnifier.jpg') right center no-repeat } 
```

并根据口味调整背景属性。

# android-activity - 发起不同的活动？

> ID：12834942
> 
> 赞同：0
> 
> 时间：2012-10-11T08:06:51.310
> 
> 标签：android-activity

我们可以通过在某个 Activity 中单击按钮来启动 Angry Birds 游戏吗？我可以通过在我的活动中单击按钮来启动阅读器活动。而且我知道我们可以将活动从一个包启动到另一个包。愤怒的小鸟和阅读器的代码如下我可以启动阅读器但我不知道为什么我不能启动愤怒的小鸟？

愤怒的小鸟代码如下..

```
Intent intent = new Intent();
            intent.setAction(Intent.ACTION_VIEW);
            intent.setAction(Intent.ACTION_MAIN);
            intent.addCategory(Intent.CATEGORY_LAUNCHER);
            ComponentName cn = new ComponentName("com.rovio.angrybirds","com.rovio.ka3d.app");
            intent.setComponent(cn);
                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            startActivity(intent); 
```

Book redear 的代码如下..

```
Intent intent = new Intent();
            intent.setAction(Intent.ACTION_VIEW);
            intent.setAction(Intent.ACTION_MAIN);
            intent.addCategory(Intent.CATEGORY_LAUNCHER);
            ComponentName cn = new ComponentName("com.bluefirereader","com.bluefirereader.BookActivity");
            intent.setComponent(cn);
                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            startActivity(intent); 
```

请帮助我..提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:51:30.863

我得到了解决方案。实际上我之前使用的代码是正确的。问题是我给 Intent 的组件信息是错误的。代码如下......

```
Intent intent = new Intent();
        intent.setAction(Intent.ACTION_VIEW);
        intent.setAction(Intent.ACTION_MAIN);
        intent.addCategory(Intent.CATEGORY_LAUNCHER);
        ComponentName cn = new ComponentName("com.rovio.angrybirds","com.rovio.ka3d.App");//Here erlier I put com.rovio.ka3d.app instead of com.rovio.ka3d.App
        intent.setComponent(cn);
                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(intent); 
```

# login - 是否可以编写一个 box.com api 脚本来显示我自己文件夹的内容？

> ID：12834944
> 
> 赞同：0
> 
> 时间：2012-10-11T08:06:54.267
> 
> 标签：login, directory, document, shared, box-api

通过快速查看他们的文档，box.com api 似乎是为了编写应用程序以允许用户登录并与他们自己的 box 帐户进行交互。

我希望我网站的用户能够查看我放置在我自己的 Box 帐户的共享文件夹中的文档。我知道，这听起来像是 box.com 小部件可以做的事情，但我希望能够更灵活地做到这一点。我希望能够改变它的外观并添加用户搜索或排序等功能。

有没有办法用 box api 做到这一点？实际上，我唯一需要做的就是检索文档名称/详细信息列表以及这些文档的链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T13:09:35.630

贝尼诺，我认为这是可能的。查看任何用户的 Box 内容需要两件事：API 密钥和授权令牌。[您可以通过创建 Box app](https://www.box.com/developers/services)来获取 API 密钥。然后，您通过 Box 的[身份验证工作流程](http://developers.box.com/get-started/#authenticating)获得授权令牌。保持这些价值观的秘密和安全。

一旦有了这两个值，您就应该能够[调用 API](http://developers.box.com/docs/#folders-retrieve-a-folders-items)并获取特定文件夹的项目。您需要知道文件夹的 ID，这可以通过在 Web 浏览器中浏览到该文件夹​​并查看 URL 来确定。ID 是一个数字字符串。

所有这一切都假设您的意图是根据问题的最后一句话自己完成所有 UI/样式/搜索/排序部分。

# svn - 文件名前的 IntelliJ 红色阻塞标记

> ID：12834946
> 
> 赞同：0
> 
> 时间：2012-10-11T08:07:01.017
> 
> 标签：svn, maven, intellij-idea

我从 IntelliJ 中的 SVN 签出，并有一个文件夹，其中包括三个文件名前有红色标记的文件。我不知道为什么会这样，我无法在该文件夹中创建新类。我尝试了 mvn clean install ，构建成功后，在 10 秒内，标记消失了，然后又回来了。帮助！

太感谢了！已经在这上面浪费了一天。

# c - 用于迭代字符串块以在 C 中构建新字符串的模式？

> ID：12834947
> 
> 赞同：2
> 
> 时间：2012-10-11T08:07:09.423
> 
> 标签：c

我的问题标题不清楚，抱歉。我试过 ;）

*   我有一个包含 nul 字节的**二进制字符串。**
*   我知道字符串的长度。
*   我有一个函数（来自库）将字符串编码为另一种格式。
*   我需要使用库函数对二进制字符串进行编码。
*   库函数**不接受长度**& 假定字符串为 nul 终止。
*   我知道如何手动编码 nul 字节（将它们表示为`"\\000"`）

取伪代码：

```
/* I have a string, and the length in bytes of that string */
char * data   = value->bytes;
long   length = value->length;

/* I need to use a function, but it doesn't handle embedded nuls */
char * encoded = lib_func_encode(data);
lib_free(encoded); // library function requires a free() routine be called 
```

那**是行不通**的，因为库函数只对第`data`一个 nul 字节的第一个块进行编码。我可以编写一个相当可怕的循环，不断调用 strlen()`data`并计数，直到`length`字节被编码，`"\\0000"`每次我需要编码更多字节时附加一个字符串，重新分配一些缓冲区以容纳每个额外的编码数据块。感觉这将是很多代码来解决一个相当简单的问题。来自具有`split()`（在 nul 字节上）`map()`（对每个块进行编码）和`join()`（使用`"\\000"`）等概念的语言，我本能地考虑以这种方式最干净的解决方案......但标准 C 中没有真正存在做这样的事情。

在虚构的函数式语言中，它可能看起来像：

```
join("\\000",
     map(lambda(chunk){encode(chunk)}, split('\0', data))) 
```

一个经验丰富的 C 程序员如何编写我需要编写的例程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:17:02.410

您可以分多个步骤执行此操作：

1.  查找所有嵌入的 nul 字节
2.  从这个和长度你可以计算一个新字符串的长度
3.  分配计算长度的新字符串
4.  遍历复制所有非空字符的二进制字符串，当到达空字符时插入特殊字符序列
5.  终止新字符串
6.  使用新字符串调用库函数
7.  释放新字符串

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:35:36.023

您可以做的最简单的事情就是`replace`将`null byte`s 增加到不包括最后一个 null（字符串终止符）的长度。一旦你替换了`nulls`，你就可以用替换的字符串做你想做的事。

# java - Eclipse 内容辅助验证密钥

> ID：12834950
> 
> 赞同：7
> 
> 时间：2012-10-11T08:07:15.930
> 
> 标签：java, eclipse, shortcut, content-assist

我找不到任何有关更改验证内容辅助选择的快捷方式的文档。

我的意思是，对于我的确切情况，当打开内容辅助时，我想通过按 Enter 来验证它的提议（这有效），但从不使用任何其他键，例如 . [ 或 (。我想选择验证提案的密钥。

即使我需要手动编辑配置文件，如果有人有这个答案，那将是完美的！

我查看了 org.eclipse.jdt.ui.prefs 和 org.eclipse.wst.jsdt.ui.prefs 但没有成功。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-14T16:44:34.400

看来你运气不好。Eclipse Mars 文档讨论了内容辅助，指出：

```
Completion can be triggered by user request or can be automatically
 triggered when the "(" or "." character is typed:

public char[] getCompletionProposalAutoActivationCharacters() {
    return new char[] { '.', '(' };
} 
```

由于这些字符看起来是硬编码的，因此您需要实现自己的内容辅助。也许仅覆盖这种方法的现有方法的简单派生就足够了？

# c++ - TODO 是否适用于 C++ 的 NetBeans？

> ID：12834951
> 
> 赞同：4
> 
> 时间：2012-10-11T08:07:19.860
> 
> 标签：c++, netbeans, todo

我希望这不是一个乏味的问题，因为它在这里有很多变化，但是现有的问题似乎都不太适合我的情况。谷歌也没有救过我。

我正在使用 netbeans 开发一个 C++ 项目。Action Items 窗口应该显示我在评论中放置 TODO 或 @todo 的位置列表，但它是空白的。我已经确定我正在使用一个包含 TODO 的过滤器，并且我已经仔细检查了 Options->Misc->ActionItems 中的 ToDo Patterns 列表，以确保我输入了正确的语法。

更新：现在我觉得很傻。在发布我的问题后，我找到了答案。我会把它发布给其他有同样问题的人：

在这个错误票证的某个地方，[https](https://netbeans.org/bugzilla/show_bug.cgi?id=184292) ://netbeans.org/bugzilla/show_bug.cgi?id= 184292，有人说，“顺便说一句，您可以将任务支持转换为：- Tools->Options->C/C++->Project选项和检查 -- '支持非 C/C++/Fortran 文件的索引（减慢解析速度）'"

这大多是准确的。我在 Tools->Options->C/C++-> **Other**下找到了该选项 检查它需要重新启动和几秒钟后，我的 TODO 项目就出现了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T23:19:37.617

1.) 转到工具->选项->C/C++->其他

2.) 检查“支持非 C/C++/Fortran 文件的索引（减慢解析速度）”

3.) 重新启动 NetBeans

请注意，使用此解决方案确实会减慢其他自动功能，或者至少对我来说是这样。

# java - 如果 jnlp 中的 href 属性包含查询字符串，则无法使用 Java Web Start 7 运行应用程序

> ID：12834958
> 
> 赞同：4
> 
> 时间：2012-10-11T08:07:53.740
> 
> 标签：java, java-web-start

> **可能重复：**
> [jnlp href 属性中的 url 参数](https://stackoverflow.com/questions/12235872/url-parameters-in-jnlp-href-attribute)

如果 jnlp 文件的 href 属性中有查询字符串，Java Web Start 7 将无法运行应用程序。
例如：

```
<jnlp spec="1.0+" codebase="http://localhost:8080/" href="Test.jnlp?query_string">
...
</jnlp> 
```

没有任何错误。Web Start 只是不运行应用程序。

但是这个 jnlp 可以由 Java Web Start 6 处理而没有任何问题。

这是 Java Web Start 7 中的错误吗？
或者由于某种原因在 href 属性中使用查询字符串不正确？

**更新：**
jdk1.7.0_04 中没有这样的问题。
但是这个问题在jdk1.7.0_07中存在。

**更新：**
在 jdk1.7.0_06 中引入了错误。

# jquery - 在选项上选择显示 div

> ID：12834960
> 
> 赞同：0
> 
> 时间：2012-10-11T08:07:57.707
> 
> 标签：jquery

好的，所以当谈到 jQuery 时，我是一个完全的菜鸟，但如果我能找到时间的话，这是我想在明年左右改变的东西！

我有以下下拉选项

```
<select id="shipping_method_id" name="shipping_method_id">
    <option value="6">North Island - New Zealand</option>
    <option value="7">South Island - New Zealand</option>
    <option value="8">Australia</option>
</select> 
```

我想要的是当有人从列表中选择澳大利亚时，我希望它显示一个 div。

当有人从列表中选择一个选项时，页面会重新加载并更新运费。

这可能真的很简单，但我无法让它工作，我试过这个[http://jsfiddle.net/JSyLV/910/](http://jsfiddle.net/JSyLV/910/)但它不会工作:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:10:29.410

您需要添加一个事件侦听器来调用此代码：

```
$("#shipping_method_id").change(function(){
   if($(this).val() == '8'){
       $("#hide_my_ass").slideDown();
   }    
}); 
```

[http://jsfiddle.net/JSyLV/913/](http://jsfiddle.net/JSyLV/913/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:10:05.530

您需要使用 jQuery .change 事件。

```
jQuery('#shipping_method_id').change(function(){           
    if(jQuery(this).val() === '8'  ){
        jQuery("#hide_my_ass").slideDown();
    }
}); 
```

[http://jsfiddle.net/JSyLV/920/](http://jsfiddle.net/JSyLV/920/)

**编辑**

```
jQuery('#shipping_method_id').change(function(){           
    window.location = window.location + '?postPrice=' + jQuery(this).val();
});​ 
```

然后在 PHP 中，您可以访问获取变量 $_GET['postPrice'] ，然后您可以将其作为价格输出。 [http://jsfiddle.net/JSyLV/931/](http://jsfiddle.net/JSyLV/931/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:14:02.843

试试这个

```
$('#shipping_method_id').change(function(){  //call the change function 
if($(this).val()==8){   //check if selected val is 8 (australia)
   $('#hide_my_ass').show();   //if yes show
}else{
   $('#hide_my_ass').hide();  //else hide
}
});​ 
```

[http://jsfiddle.net/JSyLV/928/](http://jsfiddle.net/JSyLV/928/)

# database - 为什么Long数据类型在Oracle中被LOB取代了？

> ID：12834964
> 
> 赞同：2
> 
> 时间：2012-10-11T08:08:02.870
> 
> 标签：database, oracle, sqldatatypes

LOB 具有 Long 数据类型的特点，也有自己的特点。由于它具有 Long 的特性，因此可以将附加的特殊特性赋予 Long 数据类型本身。因此，无需再拥有一种数据类型 LOB 并且 Long 本身可以一直使用。那为什么Long被LOB取代了呢？

即使 LOB 是 LONG 的替代品，Long 仍然可以用于最新版本的 Oracle 以实现向后兼容性。这是额外的开销吧？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T08:30:50.590

LOB 实际上是四种不同的数据类型：CLOB 代表 LONG，BLOB 代表 LONG RAW，再加上 BFILE 和 XMLType。甲骨文早在 1990 年代就引入了这些类型，因为 LONG（和 LONG RAW）很烂！并且非常难以合作。如果数据库版本为 8.0 或更高版本，则没有理由使用 LOB 的 LONG intsead。

那么为什么我们仍然有 LONG 呢？

LONG 和 CLOB 是原始数据类型。因此，尽管理论上 Oracle 可以修改 LONG 以在实践中具有 CLOB 的“附加特殊功能”，这对将数据库升级到 8.0（引入 LOB 的版本）产生灾难性影响是正确的。

说灾难性可能是双曲线的，但事实是将 CLOB 风格的特征改造为 LONG 意味着*改变数据类型*。因此，升级必须包括自动数据转换。此外，可能还有各种低级例程，它们的行为需要改变。这只是数据损坏的巨大载体。引入新数据类型并让各个站点处理迁移要简单得多（因此更安全）。

Oracle 自 8.0 以来已弃用 LONG，并提供了将 LONG 转换为 CLOB 的机制，因此在理想情况下，每个人都会继续前进，Oracle 可以从数据库中删除 LONG 数据类型。然而，在现实生活中，许多商店仍在使用 LONG，太多会损坏。

所以甲骨文不得不留住他们。问题的规模可以从 Oracle 在数据字典（如 USER_/ALL_/DBA_VIEWS）中仍然使用 LONG 本身这一事实得出。

# javascript - JSRender如何访问块外的变量

> ID：12834970
> 
> 赞同：1
> 
> 时间：2012-10-11T08:08:26.950
> 
> 标签：javascript, jquery, json, jsrender

我正在使用 jsrender 来显示我的 json 对象的详细信息。我想知道如何访问列表中的外部变量。谢谢你。

```
 <script id="itemTemplate" type="text/x-jQuery-tmpl">

            {{=outsideVariable}} //STRING
            <div id="receipt_list_container">
                {{#each receiptSummary.receipts}}  //LIST
                    {{=formattedMonth}}
                                //HOW CAN I ACCESS THE OUTSIDE THE VARIABLE
                {{/each}}
            </div>

    </script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:31:28.973

据我了解，这是您的示例：[示例场景：访问父数据。](http://borismoore.github.com/jsrender/demos/step-by-step/11_accessing-parent-data.html)

```
var model = {
    specialMessage: function(...) { ... },
    theater: "Rialto",
    movies: [ ... ]
}

{{for movies}}
    <tr>
        <td>'{{>title}}': showing at the '{{>#parent.parent.data.theater}}'</td> 
```

# java - java - 将数据从表转换为xml文件

> ID：12834975
> 
> 赞同：1
> 
> 时间：2012-10-11T08:08:33.027
> 
> 标签：java, xml

我正在查询数据库。并尝试对特定表中的数据进行排序并将其显示为 xml。我尝试了以下代码，但 xml 仍然为空。我还在检查是什么问题。与此同时，我在这里发帖。任何人都可以检查并告诉问题是什么？

```
response.setContentType("text/xml"); 

private void writeToXML(PrintWriter pw, ResultSet rs, Map<String, String> m)
      throws Exception {
    pw.print("<data>\n");
    rs.beforeFirst();
    while (rs.next()) {
      pw.print("\t<row>\n");
      ResultSetMetaData metaData = rs.getMetaData();
      int cols = rs.getMetaData().getColumnCount();

      for (int i = 1; i <= cols; i++) {
        String name = metaData.getColumnName(i);
        String mappedValue = m.get(rs.getString(i));
        String value = mappedValue != null ? mappedValue : rs
            .getString(i);
        pw.print("\t\t<name>" + name + "</name><value>" + value
            + "</value>\n");
      }
      pw.print("\t</row>\n");

    }
    pw.print("</data>");

  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:15:13.093

你可能会遇到一些异常。**PrintWriter**吞下异常。

使用**System.out**并查看程序是否正在执行，如果没有，那么您会遇到什么异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:10:04.487

您是否刷新（然后关闭） printWriter ？

```
pw.flush(); 
```

# c++ - 如何编写自定义断言？

> ID：12834981
> 
> 赞同：1
> 
> 时间：2012-10-11T08:08:52.493
> 
> 标签：c++, c++11, visual-c++, mfc, assert

我们需要一个应用程序，在发布版本中我们需要断言，我们想开发类似 XXX_ASSERT 的东西，但问题是在 MFC 中，ASSERT 可以将任何 booleanExpression 作为参数并对其进行评估，但是如果我们编写自定义断言，例如 MY_ASSERT，而不是如何实现该自定义断言将评估任何 booleanExpression。

```
#include<afxwin.h>
#include <stdlib.h>
void abort()
{
    AfxMessageBox(_T("Test"));
}
#define MY_ASSERT(BoolCondition) do { if (!(BoolCondition)) { abort(); } } while (0)
class CAge:public CObject
{
public:
    int m_nAge;
    CAge(int age)
    {
        m_nAge = age;
    }
};
class MyFrame:public CFrameWnd
{
public:
    MyFrame()
    {
        Create(0,_T("Hello"));
    }
    void OnPaint()
    {
        CPaintDC d(this);
        CBrush r;
        r.CreateSolidBrush(RGB(25,200,152));

        d.SelectObject(&r);
        d.Rectangle(100,100,250,250);
        r.DeleteObject();
        CAge *pAge;// = new CAge(21);
        MY_ASSERT(pAge);
    }
    DECLARE_MESSAGE_MAP()
};
BEGIN_MESSAGE_MAP(MyFrame, CFrameWnd)
    ON_WM_PAINT()
END_MESSAGE_MAP()
class MyApp:public CWinApp
{
    int InitInstance()
    {
        MyFrame *p = new MyFrame();
        p->ShowWindow(3);
        m_pMainWnd = p;
        return 1;
    }
};
MyApp a; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T08:31:06.163

直截了当的方法应该适用于任何布尔表达式：

```
#include <stdlib.h>
#define MY_ASSERT(BoolCondition) do { if (!(BoolCondition)) { abort(); } } while (0) 
```

# json - 数据未反序列化为 List

> ID：12834982
> 
> 赞同：1
> 
> 时间：2012-10-11T08:08:55.043
> 
> 标签：json, list, windows-phone-7, deserialization, restsharp

我正在使用 RestSharp 从[剑桥词典 API](http://dictionary-api.cambridge.org)中检索一些数据，用于一个简单的 Windows Phone 7 应用程序。当我执行搜索查询时，我会以 JSON 格式获得结果，因为我检查了**response.Content**并且实际上返回了结果，但是当我尝试反序列化结果并将其绑定到列表框元素时，它将不起作用。这是代码：

**请求处理程序类**

```
namespace RestAPI
{
/// <summary>
/// This class is responsible for communicating with a RESTful web service.
/// </summary>
public class RequestHandler
{
    //this property stores the API key
    readonly string Accesskey = "";

    //this property stores the base URL
    readonly string BaseUrl =  "https://dictionary.cambridge.org/api/v1/dictionaries/british/search";
    //readonly string BaseUrl = "https://dictionary.cambridge.org/api/v1/dictionaries";

    //Instance of the RestClient
    private RestClient client;

    //Constructor that will set the apikey 
    public RequestHandler(string Access="Doh52CF9dR8oGOlJaTaJFqa05PysEKIbEvd9VNQ7CqB81MyTUCggGNQO7PDyrsyY")
    {
        this.Accesskey = Access.Trim();
        client = new RestClient(this.BaseUrl);
    }

    //Execute function

    public List<SearchResult> Execute(string word)
    {
        List<SearchResult> data = new List<SearchResult>();
        RestRequest request = new RestRequest();
        request.RequestFormat = DataFormat.Json;
        request.AddHeader("accessKey",Accesskey);
        request.AddParameter("pageIndex","1");
        request.AddParameter("pageSize","5");
        request.AddParameter("q",word.Trim());

        client.ExecuteAsync<List<SearchResult>>(request,(response)=>{

            try
            {
            var resource = response.Data;

            if(response.ResponseStatus == ResponseStatus.Completed)
                MessageBox.Show(resource.Count.ToString());

            //MessageBox.Show(resource.ToString());

            foreach(SearchResult s in resource)
            {
                data.Add(s);
               }
            }
        catch(Exception e)
        {
            MessageBox.Show(e.Message);
        }

    });

        return data;    
      }
}
} 
```

**主页文件后面的代码。**

```
namespace RestAPI
{
public partial class MainPage : PhoneApplicationPage
{
    public RequestHandler handler = new RequestHandler();
    public List<SearchResult> info = new List<SearchResult>();

    // Constructor
    public MainPage()
    {
        InitializeComponent();
    }

    private void search_Click(object sender, RoutedEventArgs e)
    {
        info = handler.Execute(searchBox.Text);
        listBox1.Items.Add("Testing");
        foreach (SearchResult s in info)
        {
            listBox1.Items.Add(s.entryLabel);

        }
    }
}
 } 
```

**数据被反序列化到的模型类。**

```
namespace RestAPI
{
public class SearchResult
{

    public string entryLabel{get;set;}
    public string entryUrl{get;set;}
    public string entryId { get; set; }

}

} 
```

**返回的示例 JSON 数据。**

```
{
"resultNumber": 49,
"results": [
    {
        "entryLabel": "dog noun  ANIMAL ",
        "entryUrl": "http://dictionary.cambridge.org/dictionary/british/dog_1",
        "entryId": "dog_1"
    },
    {
        "entryLabel": "dog noun  PERSON ",
        "entryUrl": "http://dictionary.cambridge.org/dictionary/british/dog_2",
        "entryId": "dog_2"
    },
    {
        "entryLabel": "dog verb  FOLLOW ",
        "entryUrl": "http://dictionary.cambridge.org/dictionary/british/dog_3",
        "entryId": "dog_3"
    }
],
"dictionaryCode": "british",
"currentPageIndex": 1,
"pageNumber": 17
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:56:22.623

这样的事情应该可以解决问题：

```
public class SearchResultResponse
{
    public int ResultsNumber { get; set; }
    public IEnumerable<SearchResult> Results { get; set; }
}

public class SearchResult
{

    public string entryLabel { get; set; }
    public string entryUrl { get; set; }
    public string entryId { get; set; }
}

SearchResultResponse obj = JsonConvert.DeserializeObject<SearchResultResponse>(json); 
```

在您的情况下，您可能必须这样称呼`client.ExecuteAsync`：

```
client.ExecuteAsync<SearchResultResponse> 
```

# wcf - 管理/修改反序列化错误/拦截响应

> ID：12834983
> 
> 赞同：1
> 
> 时间：2012-10-11T08:08:56.407
> 
> 标签：wcf, soap, intercept, soapfault, wcf-faults

假设我有以下请求对象：

```
[DataContract]
public class MyContract {
    [DataMember]
    public Guid Token { get; set; }
} 
```

和一个 WCF 服务定义如下：

```
[ServiceContract]
public interface IMyService {
    [OperationContract]
    bool Validate(MyContract request);
} 
```

如果我将以下内容发送到操作，我会得到所需的响应：

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:esi="http://mynamespace.com/" xmlns:con="http://mynamespace.com">
   <soapenv:Header>
   </soapenv:Header>
   <soapenv:Body>
      <esi:Validate>
         <esi:Token>9192ef6a-819f-4a8a-8fde-4125999e33dc</esi:Token>
      </esi:Validate>
   </soapenv:Body>
</soapenv:Envelope> 
```

如果我发送无效的 Guid（任何类型都会发生这种情况），我会收到以下响应：

```
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
   <s:Body>
      <s:Fault>
         <faultcode xmlns:a="http://schemas.microsoft.com/net/2005/12/windowscommunicationfoundation/dispatcher">a:InternalServiceFault</faultcode>
         <faultstring xml:lang="en-GB">The server was unable to process the request due to an internal error.  For more information about the error, either turn on IncludeExceptionDetailInFaults (either from ServiceBehaviorAttribute or from the &lt;serviceDebug> configuration behavior) on the server in order to send the exception information back to the client, or turn on tracing as per the Microsoft .NET Framework SDK documentation and inspect the server trace logs.</faultstring>
      </s:Fault>
   </s:Body>
</s:Envelope> 
```

考虑到我的服务确切地知道数据出了什么问题，这一切都很好，但对我的消费者来说信息还不够。

我可以使用 web 配置设置公开完整的异常`<serviceDebug includeExceptionDetailInFaults="true"/>`，但这对我的消费者来说信息太多了！我宁愿在代码级别自定义错误，但我不确定如何附加到反序列化器？我知道如何处理自定义 SOAP 错误和 FaultContract，但这似乎处于较低级别 - 我需要在传入消息到达 CLR 方法之前拦截它，不知何故？有没有办法做到这一点，我不知道？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T20:18:13.917

反序列化器位于**IDispatchMessageFormatter**

```
public class MyFormatter : IDispatchMessageFormatter
{
    readonly IDispatchMessageFormatter _originalFormatter;

    public MyFormatter(IDispatchMessageFormatter originalFormatter)
    {
      _originalFormatter = originalFormatter;
    }

    public void DeserializeRequest(Message message, object[] parameters)
    {
        try
        {
            _originalFormatter.DeserializeRequest(message, parameters);
        }
        catch(Exception ex)
        {
            //throw custom fault here
        }
    }

    public Message SerializeReply(MessageVersion messageVersion, object[] parameters, object result)
    {
        return _originalFormatter.SerializeReply(messageVersion, parameters, result);
    } 
```

您可以通过 OperationBehavior 将其连接起来：

```
public class MyOperationBehavior : IOperationBehavior
{
    public void Validate(OperationDescription operationDescription) { }
    public void ApplyDispatchBehavior(OperationDescription operationDescription, DispatchOperation dispatchOperation)
    {
        dispatchOperation.Formatter = new MyFormatter(dispatchOperation.Formatter);
    }
    public void ApplyClientBehavior(OperationDescription operationDescription, ClientOperation clientOperation) { }
    public void AddBindingParameters(OperationDescription operationDescription, BindingParameterCollection bindingParameters) { }

} 
```

通过属性将 OperationBehavior 连接到您的服务操作。

如果您需要使用配置，请通过 ServiceBehavior 或 EndpointBehavior 附加它们

* * *

**您可以通过实现IErrorHandler**来捕获错误并处理它们。

尝试将此附加到服务行为：

```
public class ServiceExceptionBehaviour : BehaviorExtensionElement, IServiceBehavior, IErrorHandler
{
   //...
   //implement all required methods
   //...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:48:43.490

我假设您希望将反序列化程序（反序列化无效 Guid 时）抛出的异常转换为具有正确详细级别的正确 SOAP 错误。我知道有两个可扩展点可能对您有所帮助 - IErrorHandler ( [http://msdn.microsoft.com/en-us/library/system.servicemodel.dispatcher.ierrorhandler.aspx](http://msdn.microsoft.com/en-us/library/system.servicemodel.dispatcher.ierrorhandler.aspx) ) 和 FaultConverter ( [http:// /msdn.microsoft.com/en-us/library/system.servicemodel.channels.faultconverter.aspx](http://msdn.microsoft.com/en-us/library/system.servicemodel.channels.faultconverter.aspx)）。我无法告诉你他们是否真的能够做你想做的事，但我希望这将是一个很好的起点。那里的想法是您将有机会检查出现的所有异常并将它们自己转换为故障，而不是依赖于默认故障。

# python - 使用 python 的 csv 模块更新列表中的变量

> ID：12834984
> 
> 赞同：2
> 
> 时间：2012-10-11T08:08:56.507
> 
> 标签：python, csv, python-2.7

这是我所拥有的：

```
import csv

a=8   
print a    
mylist = [a,'2','3']    
myfile = open("myfile.csv", "wb") # csv files should always be opened in binary mode 
wr = csv.writer(myfile, quoting=csv.QUOTE_ALL)    
wr.writerow(mylist)    
a = a + 1    
print a    
wr.writerow(mylist) 
```

正如我所期望的那样，打印的结果是`8`and 。`9`当我打开我创建的文件时，我得到了结果：

```
"8","2","3"     
"8","2","3" 
```

第一行是我所期望的，但第二行以`"8"`而不是开头`"9"`。我知道我可以通过在重新定义变量后再次插入来解决这个问题`mylist = [a,'2','3']`，但是有人介意向我解释为什么我必须重新插入列表行或者为什么变量没有在列表中自动更新？是否可以使用另一种方法来避免每次要更新变量时都必须重新插入列表行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:10:27.790

这是行：

```
a = a + 1 
```

您在其中重新分配`a`了一个新整数，该整数未连接到其先前的值。

无论如何，整数是不可变的变量，除了重新分配之外，你不能做任何其他事情。

正如@thg435 评论，列表操作`some_list = some_list + [5]`将具有相同的效果。但是，列表是可变对象，您可以使用`some_list.append(5)`来修改列表并将其更改反映到 csv 文件中。

如果你使用可变对象（list、dict），你可以修改它们的值：

```
import csv
a=8   
mylist = [a,'2','3']    
with open("myfile.csv", "wb") as myfile:
    wr = csv.writer(myfile, quoting=csv.QUOTE_ALL)    
    wr.writerow(mylist)    
    mylist[0] = mylist[0] + 1  ####  here you modify a list
    wr.writerow(mylist) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:24:20.553

考虑

```
a = 1
mylist = [a,2,3]
print mylist # [1,2,3] 
```

`mylist`是一个具有三个元素的结构，第一个元素指向`a`具有值的变量`1`

```
----------       -------------
| mylist | --->  |   |  2|  3|
----------       -------------
                   |
                   v   
                 -----      -----
                 | a | ---> | 1 |
                 -----      ----- 
```

现在让我们改变`a`：

```
 a = a + 1
   print mylist # still [1,2,3] 
```

我们创建了一个**新**变量并将其命名为`a`，因此从第一个变量中撤消了该名称。列表的第一个元素仍然指向第一个（现在未命名的）变量。这两个变量没有任何关系。

```
----------       -------------
| mylist | --->  |   |  2|  3|
----------       -------------
                   |
                   v   
                 -----      -----
                 | ? | ---> | 1 |
                 -----      -----

-----      -----
| a | ---> | 2 |
-----      ----- 
```

# php - php pdo 使用变量显示 mysql 查询的输出

> ID：12834987
> 
> 赞同：0
> 
> 时间：2012-10-11T08:09:09.650
> 
> 标签：php, mysql, pdo

我是 pdo 的新手，并且有点战斗。

我想用 mysql 查询的结果填充一个表。查询将根据变量返回单个结果

具有以下功能：

```
 function get_editusers($db){     
    try { 
         $result = $db->query("SELECT firstname, middlename,surname,fullname,gender, birthdate,homelanguage,department,employeetype,employeestatus,idnumber FROM Persons where employeeid= :empid");  
         return $result;  
    } catch(PDOException $ex) { 
         return $ex; 
    } 
} 

$useredit= get_editusers($db); 
```

然后我使用以下内容输出值：

```
while($row = $useredit->fetch(PDO::FETCH_ASSOC)) 
{
echo $row['firstname'];
echo $row['middelname'];
echo $row['surname'];
} 
```

然而，这会产生一个没有错误的空白结果。

我该如何纠正这个语法？我还需要更改语法以将变量绑定到可变的 $employeeid。

这是获取和输出输出单个记录的mysql查询结果的正确和最佳方法吗？如果不是，请您提供一个可行的示例。

提前致谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:26:28.910

在执行查询之前，您必须绑定参数 :empid。

```
$sth = $dbh->prepare("SELECT firstname, middlename FROM Persons where employeeid= :empid");
$sth->bindParam(':empid', $emp_id, PDO::PARAM_INT);
$sth->execute();
$row = $sth->fetch();
echo $row['firstname']; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T08:21:36.903

您在查询中使用了一个参数`:empid`，并且您必须为该参数传递一个值。没有值意味着一个空的结果集。

使用绑定参数时，您必须准备查询、绑定参数然后执行查询。

```
function get_editusers($db, $id){     
  try { 
    $result = $db->prepare("
     SELECT firstname, middlename,surname,fullname,gender,
     birthdate,homelanguage,department,employeetype,employeestatus,idnumber 
     FROM Persons where employeeid= :empid");

    $result->bindParam(':empid', $id, PDO::PARAM_INT);
    $result->execute();         
    return $result;  
} 
  catch(PDOException $ex) { 
    return $ex; 
  } 
} 
```

# php - 用于计算登录尝试的会话变量

> ID：12834991
> 
> 赞同：1
> 
> 时间：2012-10-11T08:09:28.460
> 
> 标签：php, login, yii, session-variables

我正在尝试实现一个登录方案，在该方案中我计算用户尝试的尝试次数，这是出于安全原因。我的代码是：

```
{
    ob_start();
    $_SESSION['attempts'] = 0;
    $_SESSION['sleep'] = 0;
    $_SESSION['ip']=$this->get_ip_address() ;
    $login = new User('login');  
    // renders the view file 'protected/views/site/index.php'
    // using the default layout 'protected/views/layouts/main.php'

    if(isset($_POST['yt0']))
    {   
            $login->Username = ($_POST['User']['Username']);
            $salt = $login->getSaltByUsername($login->Username) ;
            $login->SecretCode = $this->hasher($login->Username,($_POST['User']['SecretCode']),$salt);
            var_dump($_SESSION)  ;  /*First Dump , gives all session variables correctly*/
            echo $_SESSION['attempts'] ;
            Yii::app()->user->setState('attempts', $_SESSION['attempts']++); 

            var_dump($_SESSION)  ; 
```

我收到 PHP 通知：“未定义的索引：尝试”

然而，在第一次转储以及回声中，我得到了正确的尝试次数。我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:25:09.457

我认为你应该使用`CHttpSession`而不是`$_SESSION`

```
$session=new CHttpSession;
$session->open();

$session['attempts'] = 0;
$session['sleep'] = 0;
$session['ip']=$this->get_ip_address(); 
```

我从来没有`$_SESSION`在我的任何 Yii 项目中使用过。

# objective-c - 调用 touchesEnded after touchesMoved 并抬起手指

> ID：12834994
> 
> 赞同：0
> 
> 时间：2012-10-11T08:09:33.383
> 
> 标签：objective-c, uibutton, touch

我正在尝试根据用户按下的按钮播放不同的动画和声音。按钮的形状各不相同，我需要在用户按住按钮时播放声音，并在他抬起手指时停止它们。我认为使用 touchesBegan 和 touchesMoved 会很容易。

但是，如果用户在触摸按钮时移动手指（即使移动了 1 个像素），则会调用 touchesMoved 方法。所以，我尝试了一些选项，一旦手指移动（通过自己调用 touchesEnded），我就可以停止声音，但这不是完美的解决方案，因为即使用户在没有注意到的情况下移动手指（比如 1 个像素左右） ) 然后在他触摸按钮时很难连续播放声音。

所以我想我可以创建两个整数，我将在 touchesBegan 中将值设置为一个，然后在 touchesMoved 中设置另一个并最后比较它们，检查移动是否在同一个视图（按钮）中 - 如果不是那么它调用 touchesEnded。然而它有一个问题，那就是如果用户将他的手指放在按钮上，然后移动它（仍然在同一个按钮上）然后他抬起，不调用 touchesEnded，因为他在同一个视图中开始和移动.

用户在移动手指后抬起手指后，我应该怎么做才能调用 touchesEnded 方法？

这是我的代码（忽略那些 alpha 设置、播放声音等）：

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    if ([touch view] == leftArmBtn) {

        leftArmBtn.alpha = 0;
        leftLegBtn.alpha = 0;
        mainImageView.image = [UIImage imageNamed:@"leftArmPush.jpg"];
        [[SoundManagerOAL sharedSoundManagerOAL] playSoundWithKey:@"LEFTARM"];
        touchParent = 1;
    } else if ([touch view] == mouthBtn) {

        mouthBtn.alpha = 0;
        mainImageView.image = [UIImage imageNamed:@"mouthPush.jpg"];
        [[SoundManagerOAL sharedSoundManagerOAL] playSoundWithKey:@"MOUTH"];
        touchParent = 2;
    } else if ([touch view] == rightArmBtn) {

        rightArmBtn.alpha = 0;
        righLegBtn.alpha = 0;
        mainImageView.image = [UIImage imageNamed:@"rightArmPush.jpg"];
        [[SoundManagerOAL sharedSoundManagerOAL] playSoundWithKey:@"RIGHTARM"];
        touchParent = 3;
    } else if ([touch view] == leftLegBtn) {

        leftLegBtn.alpha = 0;
        mainImageView.image = [UIImage imageNamed:@"leftLegPush.jpg"];
        [[SoundManagerOAL sharedSoundManagerOAL] playSoundWithKey:@"LEFTLEG"];
        touchParent = 4;
    } else if ([touch view] == righLegBtn) {

        righLegBtn.alpha = 0;
        mainImageView.image = [UIImage imageNamed:@"rightLegPush.jpg"];
        [[SoundManagerOAL sharedSoundManagerOAL] playSoundWithKey:@"RIGHTLEG"];
        touchParent = 5;
    } else if ([touch view] == vakBtn) {

        vakBtn.alpha = 0;
        mainImageView.image = [UIImage imageNamed:@"vakPush.jpg"];
        [[SoundManagerOAL sharedSoundManagerOAL] playSoundWithKey:@"VAK"];
        touchParent = 6;
    } else {
        touchParent = 0;
    }
}

- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];

    if ([touch view] == leftArmBtn) {
        leftLegBtn.alpha = 1;
        leftArmBtn.alpha = 1;
        mainImageView.image = defaultImage;
        [[SoundManagerOAL sharedSoundManagerOAL] stopSoundWithKey:@"LEFTARM"];

    } else if ([touch view] == mouthBtn) {

        mouthBtn.alpha = 1;
        mainImageView.image = defaultImage;

    } else if ([touch view] == rightArmBtn) {

        rightArmBtn.alpha = 1;
        righLegBtn.alpha = 1;
        mainImageView.image = defaultImage;

        [[SoundManagerOAL sharedSoundManagerOAL] stopSoundWithKey:@"RIGHTARM"];
    } else if ([touch view] == leftLegBtn) {

        leftLegBtn.alpha = 1;
        mainImageView.image = defaultImage;

        [[SoundManagerOAL sharedSoundManagerOAL] stopSoundWithKey:@"LEFTLEG"];
    } else if ([touch view] == righLegBtn) {

        righLegBtn.alpha = 1;
        mainImageView.image = defaultImage;

        [[SoundManagerOAL sharedSoundManagerOAL] stopSoundWithKey:@"RIGHTLEG"];
    } else if ([touch view] == vakBtn) {

        vakBtn.alpha = 1;
        mainImageView.image = defaultImage;

    } else {

    }
}

- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {

    UITouch *touch = [touches anyObject];

    if ([touch view] == leftArmBtn) {
        movingTouch = 1;

    } else if ([touch view] == mouthBtn) {
        movingTouch = 2;

    } else if ([touch view] == rightArmBtn) {
        movingTouch = 3;

    } else if ([touch view] == leftLegBtn) {
        movingTouch = 4;

    } else if ([touch view] == righLegBtn) {
        movingTouch = 5;

    } else if ([touch view] == vakBtn) {
        movingTouch = 6;

    } else {
        movingTouch = 10;
    }

    if (touchParent != movingTouch) {
        [self touchesEnded:touches withEvent:event];
    }

}

- (void)touchesCancelled:(NSSet *)touches withEvent:(UIEvent *)event {
    [self touchesEnded:touches withEvent:event];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:59:23.807

好的，所以发现将 touchesBegan、touchesMoved 和 touchesEnded 添加到 UIButton 子类不能按预期工作，因此我已切换到为每个 UIControl 操作添加目标。

我使用了这里的代码[触发 UIButton 时如何获取 touchesBegan 坐标？](https://stackoverflow.com/questions/4506584/how-do-you-get-the-touchesbegan-coordinates-when-a-uibutton-is-triggered)

将它用于每个按钮并对其进行一些修改 - 如下所示：

```
UIButton *aButton = [UIButton ......
[aButton addTarget:self action:@selector(aButtonTouch) forControlEvents:UIControlEventTouchDown];
[aButton addTarget:self action:@selector(aButtonTouchEnd) forControleEvents:UIControlEventTouchUpInside | UIControlEventTouchUpOutside]; 
```

接着

```
-(void)aButtonTouch{
//do something
}
-(void)aButtonTouchEnd {
//do something
} 
```

# asp.net - 在 asp.net 表单身份验证期间散列用户名/密码值

> ID：12834997
> 
> 赞同：0
> 
> 时间：2012-10-11T08:09:39.997
> 
> 标签：asp.net, authentication, hash

我正在一个 asp.net 网站上工作，我正在使用 .NET 身份验证框架创建需要用户名/密码才能登录的安全页面。据我所知，.NET 表单身份验证发送用户名/的编码值/密码的散列值存储在 ms sql server 数据库中的服务器的密码（假设在 web.config 文件中将 paswordFormat 设置为散列）。

所以，我现在要做的是使用客户端中的任何哈希算法从登录页面获取用户名/密码值，将它们发送到服务器并在服务器中进行验证过程。是否有人遇到过这种情况，或者是否有相关的资源或解决方法。请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T20:48:02.350

您可以从服务器使用它作为

```
 Private Function isValidUser(ByVal username As String, ByVal password As String) As [Boolean]

    Dim UserHash As String =FormsAuthentication.HashPasswordForStoringInConfigFile(username, "MD5") 
```

如果您想在客户端上做某事，那么您必须使用 javascript；这是一篇有用的文章 [http://www.mojavelinux.com/articles/javascript_hashes.html](http://www.mojavelinux.com/articles/javascript_hashes.html)

# c# - 如何对通用列表进行排序？

> ID：12834998
> 
> 赞同：1
> 
> 时间：2012-10-11T08:09:41.730
> 
> 标签：c#, .net, list

我需要制作升序的通用列表。这是我的通用类型：

```
public class ContainerData
{
   private Point pnt;
   private Size size;
   private Double Area;
   private Contour<Point> contour;

   public ContainerData()
   { }

   public ContainerData(ContainerData containerData)
   { 
     this.pnt=containerData.pnt;
     this.size=containerData.size;
     this.Area=containerData.Area;
     this.contour = containerData.contour;
   }

   public Point pointProperty
   {
       get
       {return pnt;}
       set
       {pnt = value;}
   }

   public Size sizeProperty
   {
       get
       {return size;}
       set
       {size = value;}
   }

   public Double AreaProperty
   {
       get
       {return Area;}
       set
       {Area = value;}
   }
   public Contour<Point> ContourProperty
   {
       get
       {return contour;}
       set
       { contour = value; }
   }
} 
```

升序排序必须在第 th Point 类型的 X 坐标值下进行。

这是应该排序的类成员：

```
 private List<ContainerData> dataOfPreviusImage; 
```

知道如何实施吗？

先感谢您。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-11T08:12:23.020

使用[`Enumerable.OrderBy`](http://msdn.microsoft.com/en-us/library/bb534966.aspx)：

```
List<ContainerData> dataOfPreviusImage = GetSomeData();
var sorted = dataOfPreviusImage.OrderBy(cd => cd.pointProperty.X); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T08:13:23.873

做一个比较功能：

```
private int SortFunction(ContainerData obj1, ContainerData obj2)
{
    return obj1.pointProperty.X.CompareTo(obj2.pointProperty.X);
} 
```

并这样称呼它：

```
dataOfPreviusImage.Sort(new Comparison<ContainerData>(SortFunction)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T08:15:50.070

为了帮助您一路走好，您的 ContainerData 类也应该实现 IComparable 和理想情况下的 IEquateable。

# android - Google 在 Kindle 和 Nook 设备上的应用内结算

> ID：12834999
> 
> 赞同：1
> 
> 时间：2012-10-11T08:09:50.233
> 
> 标签：android, in-app-billing, kindle, nook

有人可以确认 Google 的应用内计费是否适用于 Kindle Fire 和 Nook 设备，还是我们需要专门使用亚马逊的应用内计费？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T16:38:01.720

Google 应用内购买无法在 Kindle 设备上运行，因为 Google IAP 要求设备上存在 Google Play 应用。对于亚马逊，您必须使用他们自己的应用内框架。查看[亚马逊应用内](https://developer.amazon.com/sdk/in-app-purchasing.html)

对于 Nook，我不确定，您必须查看 Nook 开发人员指南

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:12:53.157

撇开法律问题不谈，它取决于 Google Play Store (Android Market) 应用程序和相关基础设施，因此*Google* IAB 无法在任何缺少这些组件的设备上运行。这很可能包括 Kindle Fire 和 Nook。