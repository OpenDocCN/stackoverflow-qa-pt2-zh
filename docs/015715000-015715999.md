# StackOverflow 问答 15715000-15715999

# scala - 是否可以捆绑播放！应用程序转换为单个可执行文件？

> ID：15715000
> 
> 赞同：1
> 
> 时间：2013-03-30T04:33:36.417
> 
> 标签：scala, web-applications, playframework

我正在使用 Scala + [Play 构建应用程序！](http://www.playframework.com/). 这不是一个普通的 Web 应用程序。相反，它只是一个可以在 localhost 上执行某些操作的软件。换句话说，它将被分发到多个客户端的机器上。因此，我希望它真正便携且重量轻。我不希望客户端在运行程序之前必须手动安装 Scala、Play 和 JVM。

所以我的问题是，有没有办法捆绑 Play！应用程序转换为单个可执行文件？它实际上不必只是一个文件，即对于技术知识很少的客户来说，它必须非常容易轻松运行此应用程序。

希望我说清楚...

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T05:05:42.367

您可以使用[sbt-native-packager](https://github.com/sbt/sbt-native-packager)和[sbt-assembly 之](https://github.com/sbt/sbt-assembly)类的东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:49:41.393

或者，也许您只是在寻找一种轻松`dist`应用程序的方法？:) 看看这里：[http ://www.playframework.com/documentation/2.1.0/ProductionDist](http://www.playframework.com/documentation/2.1.0/ProductionDist)

这将在项目的全新`dist`子目录中生成一个独立的 .zip 文件。该档案中唯一缺少的是JVM

# list - 将列表元素应用于函数

> ID：15715002
> 
> 赞同：1
> 
> 时间：2013-03-30T04:34:26.103
> 
> 标签：list, recursion, f#

有人请解释为什么下面的代码，

```
 let list = ["A"; "B"; "C"]
    let rec processList2 aList str = 
        match aList with
        | h::t  ->  let z =  str + ", " + h
                    printfn "%s" z
                    processList2 t z
        | []    ->  aList    |> ignore 
```

返回以下内容，

```
val list : string list = ["A"; "B"; "C"]

> processList2 list "X";;
X, A
X, A, B
X, A, B, C
val it : unit = ()
> 
```

而不是这个？

```
val list : string list = ["A"; "B"; "C"]

> processList2 list "X";;
X, A
X, A, X, B
X, A, X, B, X, C
val it : unit = ()
> 
```

该函数是递归的，并且每次传递都将“z”传递给“str”，所以它看起来应该可以工作......

我非常感谢专家在这里的帮助。我正在尝试学习 F# 并在列表中苦苦挣扎。

另外，如何声明“字符串列表”？我遇到了一个问题，列表期望返回一个单位而不是字符串。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:55:01.010

如果我们按照每个步骤进行操作，它应该可以帮助我们理解为什么您会得到您得到的结果：

```
processList2 list "X";; 
```

第一次迭代采用`h::t`or `"A"::["B"; "C"]`。然后设置`z`为`"X" + ", " + "A"`。

下一次迭代需要`"B"::["C"]`. 然后设置`z`为`"X, A" + ", " + "B"`。

如您所见`"X"`，不会在每次迭代中插入。而是 z 被附加到并设置在最后一个迭代的每个迭代中。要在每次迭代中追加`"X"`，它需要类似于：

```
let list = ["A"; "B"; "C"]
// Append "X, " to each item
let mapList item = "X, " + item
// reduce to single comma seperated list
let redList l r = l + ", " + r    
// apply map and reduce functions to given list
let result = list |> List.map(mapList) |> List.reduce(redList)
printfn "%s" result 
```

如果您愿意，您甚至可以使用 String.Join 来减少列表，但这需要更多的箍来跳过：

```
let list = ["A"; "B"; "C"]
let mapList item = "X, " + item
let joinList (lst:list<string>) = System.String.Join(", ", lst)  
let result = list |> List.map(mapList) |> joinList   
printfn "%s" result 
```

至于你最后一个问题：`how does one declare a 'list of strings?`，答案取决于你的意思是声明。您是要声明该类型的变量还是接受它的参数？

如果通常这样做，则将变量声明为某种类型：`let lst:string list = ["A"; "B"; "C"]`在声明期间在之后给出类型`:`。如果它在参数中，则必须更明确一点，因为您必须告诉编译器您正在设置参数类型而不是返回类型：

```
// Set the lst parameter type to be a list<string> (same as string list)
let joinList (lst:list<string>) = System.String.Join(", ", lst)

// fails as we are telling the compiler to expect a return of string list yet we are only returning string
let joinList lst:list<string> = System.String.Join(", ", lst)

// Explicitly set both return and parameters
let joinList (lst:string list):string = System.String.Join(", ", lst) 
```

Typically this wont be required as the type inference system in F# is very good and figuring out what type you want/need in these situations.

# javascript - 分配给对象后变量仍然为空

> ID：15715004
> 
> 赞同：1
> 
> 时间：2013-03-30T04:34:37.220
> 
> 标签：javascript, jquery, google-maps-api-3, geocoding

我目前正在为 Google Map API GeoCoding 构建一个简单的示例应用程序，并偶然发现了 javascript 的问题。

geocodeRequest 方法应将其结果值分配给变量 this.tempResult。但是，当我尝试在 Listener 中打印它时，该变量为空。

控制台的输出是：

*   听众：空
*   geoCodeRequest：对象

打印输出的顺序似乎意味着 Listener 中的代码在 geoCodeRequest 方法设法分配 this.tempResult 变量之前提前运行。

有解决方案吗？

```
$JSKK.Class.create
(
    {
        $namespace      :'application',
        $name           :'GeoCoder'
    }
)
(
    {
    },
    {
        service :null,
        main    :null,
        geoCodeInput: null,
        geoCodeButton: null,
        reverseGeoCodeButton: null,
        reverseGeoCodeActive: null,
        callback :null,
        reverseCallback:null,
        tempResult: null,

        init: function(main, callback, reverseCallback)
        {
            this.main = main;
            this.callback = callback;
            this.reverseCallback = reverseCallback;

            this.service = new google.maps.Geocoder();

            this.geoCodeInput = $('#toolPannel div[data-resource=locator] input[data-action=input]');
            this.geoCodeButton = $('#toolPannel div[data-resource=locator] input[data-action=geocode]');

            this.reverseGeoCodeButton = $('#toolPannel div[data-resource=locator] input[data-action=reversegeocode]');
            this.reverseGeoCodeActive = false;

            this.createListener();
        },

        geoCodeRequest: function(request)
        {
            this.service.geocode
            (
                request,
                function (result,status)
                {
                    //console.debug(arguments);
                    if (status== google.maps.GeocoderStatus.OK)
                    {
                        this.tempResult = result[0];
                        console.debug(this.tempResult);
                    }
                    else
                    {
                        alert ('GeoCoder request failed!');
                    }
                }.bind(this)
            );
        },

        createListener: function()
        {
            this.geoCodeButton.click(function()
                {
                    this.geoCodeRequest
                    (
                        {
                            address: this.geoCodeInput.val()
                        }
                    );
                    this.callback(this.tempResult);
                }.bind(this)    //Bind here
            );

            this.reverseGeoCodeButton.click(function()
                {
                    if (!this.reverseGeoCodeActive)
                    {
                        this.main.map.setOptions({draggableCursor:'crosshair'});
                        this.reverseGeoCodeActive=true;
                    }
                    else if(this.reverseGeoCodeActive)
                    {
                        this.main.map.setOptions({draggableCursor:'hand'});
                        this.reverseGeoCodeActive=false;
                    }
                }.bind(this)
            );

            google.maps.event.addListener
            (
                this.main.map,
                'click',
                function (event)
                {
                    if (this.reverseGeoCodeActive)
                    {
                        this.geoCodeRequest
                        (
                            {
                                location: event.latLng
                            }
                        );
                        console.debug(this.tempResult);
                        this.reverseCallback(this.tempResult);
                    }
                }.bind(this)
            );
        }
    }
); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:51:45.503

问题是这段代码：

```
geoCodeRequest: function( request ) {
    this.service.geocode( request, function( result, status ) {
        if (status == google.maps.GeocoderStatus.OK) {
            this.tempResult = result[0];
            console.debug( this.tempResult );
        } else {
            alert( 'GeoCoder request failed!' );
        }
    }.bind(this) );
},

this.geoCodeButton.click( function() {
    this.geoCodeRequest({
        address: this.geoCodeInput.val()
    });
    this.callback( this.tempResult );
}.bind(this) ); 
```

（抱歉，我冒昧地重新格式化，以便更好地遵循逻辑。请随意转换回您自己的风格。）

您正试图`this.callback()`在地理编码结果从服务器返回之前调用。那是行不通的。您需要在地理编码器使用的回调中处理地理编码结果。

您已经在方法中为地理编码器提供了一个回调`geoCodeRequest()`，因此您可以做的是向您的点击处理程序添加一个回调，并从`geoCodeRequest()`. 你可以这样做：

```
geoCodeRequest: function( request ) {
    this.service.geocode( request, function( result, status ) {
        if (status == google.maps.GeocoderStatus.OK) {
            request.success( result[0] );
        } else {
            request.failure( status );
        }
    }.bind(this) );
},

this.geoCodeButton.click( function() {
    this.geoCodeRequest({
        address: this.geoCodeInput.val(),
        success: function( result ) {
            console.debug( result );
            this.callback( result );
        },
        failure: function( status ) {
            alert( 'GeoCoder request failed!' );
        }
    });
}.bind(this) ); 
```

请注意，我还添加了一个失败回调来处理错误情况。

处理程序有相同的`reverseGeoCodeButton.click()`问题，可以用相同的解决方案修复。

This is close to your original approach, but I have to wonder if the code could be simplified. Do you need these multiple levels of code? In any case, wherever you're dealing with an asynchronous result like what the geocoder gives you, you do have to handle that inside the appropriate callback instead of after the geocoder (or any asynchronous function) returns.

# prolog - 使用随机数运行 prolog 脚本，如何更改随机种子？

> ID：15715007
> 
> 赞同：0
> 
> 时间：2013-03-30T04:34:58.610
> 
> 标签：prolog, swi-prolog

问题在于在我的序言脚本上使用随机数，我在序言文件 script.pl 上有下一个代码：

```
main:-
    get_time(TS),
    set_random(TS),
    random(-1000.0, 1000.0, X),
    write('Random number: '),
    write(X),
    nl. 
```

我在控制台上执行下一个命令行：

```
swipl -s script.pl -g 'main' -t 'halt(1)' 
```

输出是：

```
% library(swi_hooks) compiled into pce_swi_hooks 0.00 sec, 2,224 bytes
% /home/script.pl compiled 0.01 sec, 704 bytes
Random number: -533.6139326519667 
```

我可以多次运行相同的命令，并且每次都有相同的输出。我尝试在不更改随机种子的情况下工作，但问题仍然存在。

我正在使用 Ubuntu 12.04 32 位。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-27T02:40:10.447

它是 set_random(seed(888)) 而不是 set_random(TS)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:38:29.703

我在运行您的代码时出错：

```
ERROR: set_random/1: Type error: `random_option' expected, found `1364628886.7626996' 
```

即 set_random/1 参数不正确。

我试图简化，它奏效了：

```
main:-
    random(-1000.0, 1000.0, X),
    write('Random number: '),
    write(X),
    nl. 
```

在不同的通话中产生不同的号码

# php - SQL 命令的类型转换警告

> ID：15715011
> 
> 赞同：3
> 
> 时间：2013-03-30T04:35:28.020
> 
> 标签：php, html, sql, postgresql, types

我已经坚持了一段时间，我知道非常初学者，但找不到任何类似的问题。

我正在尝试显示我上一个主题的详细信息，但我收到了警告。

```
*Warning: pg_exec() [<a href='function.pg-exec'>function.pg-exec</a>]:
Query failed: 
ERROR: operator does not exist: character varying = integer LINE 4: WHERE
t_cat = 3 ^
HINT: No operator matches the given name and argument type(s). You
might need to add explicit type casts.* 
```

任何帮助表示赞赏

```
$topicsearh = pg_exec($db, 
     "SELECT t_id, t_subject, t_date, t_cat
      WHERE t_cat = " . $row['s_id'] . "
      ORDER BY t_date DESC LIMIT 1"
);      
if(!$topicsearh){
          echo 'Last topic could not be displayed.';
}
else{
      while($trow = pg_fetch_assoc($topicsearh))
      echo '<a href="topicview.php?id=' . $trow['t_id'] . '">' . $trow['t_subject'] .   
          '</a> at ' . date('d-m-Y', strtotime($trow['t_date']));
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T04:36:53.103

您需要定义`FROM`表。

**例子**

```
SELECT t_id, t_subject, t_date, t_cat FROM TABLE_NAME WHERE...
                            ----------^^^^^^^^^^^^^^^----- 
```

以及如下所示的 con-cat。

```
WHERE t_cat = '". $row['s_id'] ."' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:52:32.373

虽然[@Dipesh 关于缺少的`FROM`子句](https://stackoverflow.com/a/15715020/939860)是正确的，但手头的错误指向您查询中的另一个问题。`t_cat`显然是类型`character varying`。因此，您必须将其与匹配的**字符串常量**进行比较。但是您正在提交一个没有单引号的**数字常量。**

PHP（或 MySQL）传统上倾向于默默地吞下这些错误并做他们认为“最好的”（这不是他们能做的最好的）。幸运的是，PostgreSQL 没有。它迫使你毫不含糊。

应该：

```
WHERE t_cat = **'**" . $row['s_id'] . "**'** ORDER BY t_date DESC LIMIT 1"
```

代替：

```
WHERE t_cat = " . $row['s_id'] . " ORDER BY t_date DESC LIMIT 1" 
```

阅读手册中的[**常量**](http://www.postgresql.org/docs/current/interactive/sql-syntax-lexical.html#SQL-SYNTAX-CONSTANTS)一章，特别是[**字符串常量**](http://www.postgresql.org/docs/current/interactive/sql-syntax-lexical.html#SQL-SYNTAX-STRINGS)和[**数值常量**](http://www.postgresql.org/docs/current/interactive/sql-syntax-lexical.html#SQL-SYNTAX-CONSTANTS-NUMERIC)。

# ios - 当我的应用程序完全处于纵向模式时，使用 Childbrowser 插件横向播放视频

> ID：15715023
> 
> 赞同：0
> 
> 时间：2013-03-30T04:37:01.817
> 
> 标签：ios, cordova, phonegap-plugins

当我的应用程序仅处于纵向模式时，如何通过 childbrowser 插件更改方向以横向模式播放视频？请建议我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-23T06:10:04.840

我的解决方案可能会为您提供问题的答案。

添加这些插件并检查它。

[http://github.com/bubblefoundry/CDVVideo](http://github.com/bubblefoundry/CDVVideo)

[http://moduscreate.com/opening-all-urls-with-phonegaps-childbrowser-plugin/](http://moduscreate.com/opening-all-urls-with-phonegaps-childbrowser-plugin/)

# php - php显示更新的mysql没有被更新？

> ID：15715025
> 
> 赞同：-1
> 
> 时间：2013-03-30T04:37:24.537
> 
> 标签：php, sql-update, set, webpage

抱歉，这是一个相当大的页面，所以如果你可以查看这个并告诉我为什么它不更新我的数据库，但这里的 php 页面是我获取大学 ID 和我想要更新的值的第一页，并且只要点击投票它做了一个简单的数学方程来更新总数，然后除以得到百分比。

```
Sorry if you cant understand me been stressed over this project. 
```

代码不会进入代码框，所以这里有链接。 [在此处输入链接描述](http://pastebin.com/cPqTVYc0)

顺便说一句，它在第 30 行，它没有更新到 db，但仅在 php 页面上！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T04:41:46.733

Try removing the $con from the mysql_query() function calls. I've never had to reiterate a connection call, and it doesn't look like the documentation tells you place a second value in the function call.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T04:45:29.030

You should wrap `$math2` in line 30 in quotes, like this:

```
$sql3 = "UPDATE users_colleges SET percentage = '$math2' WHERE college_id = $Vcollege_id"; 
```

Integers don't need to be contained in quotes, but strings do -- and you added a '%' to `$math2` in line 29, so it's no longer an integer.

Though, not sure if you need to store all the values with the '%' in the database... but if that's what you're doing, it needs to be in quotes.

# c++ - 返回一个函数指针，具有可变数量的参数

> ID：15715027
> 
> 赞同：0
> 
> 时间：2013-03-30T04:37:39.510
> 
> 标签：c++, functional-programming, function-pointers

我想做的伪代码是：

```
function<bool(int)> getFunc(type) // get a function depending on what type is passed 
```

问题是返回的函数必须声明为静态的吗？结果，我无法访问对象属性。所以我需要将它们传递给函数？因此，要返回的原始函数可能如下所示：

```
bool func1(int)
bool func2(int) 
```

现在需要注入它需要运行的其他对象/参数...

```
bool func1(int, Class1)
bool func2(int, Class2) 
```

那么如何定义返回类型`getFunc`呢？或者也许有更好的方法？

**更新**

在上面，`func*`函数实际上是：`has*()`. 例如。

```
hasStmtsUsing(variable)
hasVariablesUsed(stmt) 
```

为了确定条件是否为真，它使用一个对象，例如。`uses`. 然后还有其他类似的`has*()`功能`hasStmtsModifying(variable)`，例如使用 object `modifies`。`uses`and`modifies`是不同类型的对象，本来就是对象成员，所以不需要传入。现在既然是函数`static`，就需要传入。

在写这篇文章时，我在想我需要的是某种依赖注入器？也许我传入`DI`并调用`DI.getX()`函数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:56:29.363

也许我误解了一些东西，但是在 bind() 第一个参数的地方，你不需要使用一个成员函数吗？

```
class X {
    bool f1(int);
    bool f2(int);
};

X x;
function<bool(int)> f = bind(&X::f1, &x); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:03:54.080

下面是如何在 C++11 中使用 lambda 实现的示例：

```
#include <cassert>
#include <functional>
#include <iostream>

struct Class1 {
};

struct Class2 {
};

bool func1(int,Class1)
{
  return true;
}

bool func2(int,Class2)
{
  return false;
}

inline std::function<bool(int)> getFunc(Class1 obj1)
{
  return [=](int x){ return func1(x,obj1); };
}

inline std::function<bool(int)> getFunc(Class2 obj2)
{
  return [=](int x){ return func2(x,obj2); };
}

int main(int,char**)
{
  Class1 obj1;
  std::function<bool(int)> f1 = getFunc(obj1);
  Class2 obj2;
  std::function<bool(int)> f2 = getFunc(obj2);
  assert(f1(0)==true);
  assert(f2(0)==false);
  return 0;
} 
```

# c# - 将数组存储在 ac# 数据结构中，使其表现得像一个值

> ID：15715029
> 
> 赞同：0
> 
> 时间：2013-03-30T04:38:09.313
> 
> 标签：c#, arrays

设计以下代码是为了如果我更改分配给一个节点的数组，它不会影响另一个节点。

我的问题是：有没有更“惯用”的方式来实现这一点？

```
void Main()
{
    var arr = new [] { 1, 2, 3 };

    var node1 = new Node();
    node1.Children = arr;

    var node2 = new Node();
    node2.Children = arr;

    node1.Children[0] = 9; // node2 SHOULD NOT be affected by this

    node1.Dump();
    node2.Dump();
}

class Node
{
    private int[] children;

    public int[] Children 
    { 
        get { return children; } 
        set 
        { 
            children = new int[value.Length];
            value.CopyTo(children, 0);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T05:13:51.180

这个**[编辑]**怎么样：

```
class Node
{
    private int[] _children;

    public Node(int[] children)
    {
       this._children = (int[])children.Clone();//HERE IS THE IDEA YOU ARE LOOKING FOR
    }

    public int this[int index]
    {
        get { return this._children[index]; }
        set { this._children[index] = value; }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:21:16.030

我认为您最好更改数组对象复制语义，而不是向 Node 类添加功能来支持这一点。幸运的是，已经有一个具有您正在寻找的语义的类：List。

这简化了 Node 类：

```
class Node
{
    public List<int> Children { get; set; }
} 
```

结果：

```
static void Main(string[] args)
{
    var arr = new[] { 1, 2, 3 };

    var node1 = new Node
    {
        Children = new List<int>(arr)
    };

    var node2 = new Node
    {
        Children = new List<int>(node1.Children)
    };

    node1.Children[0] = 9; // node2 SHOULD NOT be affected by this

    Console.WriteLine("First element node1:{0}, first element node2:{1}",
        node1.Children[0], node2.Children[0]);            
} 
```

# c - 简单偏移加密中的分段错误

> ID：15715032
> 
> 赞同：0
> 
> 时间：2013-03-30T04:38:34.487
> 
> 标签：c, string, segmentation-fault

好的，伙计们，这是我在这里的第一篇文章。我的 compsci 课程中最近的作业让我们编写了几个函数来基于简单的偏移量对字符串进行编码和解码。到目前为止，在我的加密函数中，我正在尝试将字符串中的大写字母转换为它们的 ASCII 等价物（一个 int），添加偏移量（并在 ASCII 值超过“Z”时进行调整），将该 int 转换回一个字符（新的加密字符）并将其放入新字符串中。我在这里编译得很好，但是当我运行它并输入简单的大写字符串时，它会给出一个分段错误（核心转储）错误。我在哪里错了？（注意：在尝试解决在 main 中产生一些奇怪错误的情况时，有一些注释掉的位）

```
#include <stdio.h>
#include <string.h>
#include <ctype.h>
//#include <stdlib.h>

char *encrypt(char *str, int offset){
   int counter; 
   char medianstr[strlen(str)];
   char *returnstr;// = malloc(sizeof(char) * strlen(str));
   for(counter = 0; counter < strlen(str); counter++){
      if(isalpha(str[counter]) && isupper(str[counter])){//If the character at current index is an alpha and uppercase
         int charASCII = (int)str[counter];//Get ASCII value of character
         int newASCII;       
         if(charASCII+offset <= 90 ){//If the offset won't put it outside of the uppercase range
            newASCII = charASCII + offset;//Just add the offset for the new value
            medianstr[counter] = (char)newASCII;
         }else{
            newASCII = 64 + ((charASCII + offset) - 90);//If the offset will put it outside the uppercase range, add the remaining starting at 64(right before A)
            medianstr[counter] = (char)newASCII;
         }
      } 
   }
   strcpy(returnstr, medianstr);
   return returnstr;
}
/*
char *decrypt(char *str, int offset){

}
*/

int main(){
   char *inputstr;
   printf("Please enter the string to be encrypted:");
   scanf("%s", inputstr);
   char *encryptedstr;
   encryptedstr = encrypt(inputstr, 5);
   printf("%s", encryptedstr);
   //free(encryptedstr);
   return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T04:49:11.100

您使用一堆指针，但从不为它们分配任何内存。这将导致段错误。

实际上奇怪的是，你似乎知道你需要这样做，因为你已经有了代码，但是你把它注释掉了：

```
char *returnstr;// = malloc(sizeof(char) * strlen(str)); 
```

当您使用指针时，您需要将其“指向”分配的内存，它可以指向您通过请求的动态内存`malloc()`或静态内存（例如您声明的数组）；当您完成动态内存时，您需要`free()`它，但是当您注释掉对 free 的调用时，您似乎再次知道这一点。

只需一个`malloc()`to`inputstr`和一个 for`returnstr`就足以让这个工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T04:56:10.403

不用多说，分段错误来自您对 scanf() 的使用。

scanf() 发生分段错误，因为它试图写入 *inputstr（输入str 指向的位置块）；此时尚未分配。要调用 scanf()，您需要输入一个指针，它指向的内存地址首先被分配。

自然，要修复您想要的分段错误，请将内存分配给您的 char *inputstr。

动态分配 128 字节的内存（即指针将指向堆）：

```
char *inputstr = (char *) malloc(128); 
```

或者静态分配 128 字节的内存（即指针将指向堆栈）：

```
char inputstr[128]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T05:03:12.280

该功能有很多复杂性`encrypt()`，实际上并不是必需的。请注意，在循环的每次迭代中计算字符串的长度通常是一个代价高昂的过程。我在评论中指出：

> What's with the 90 and 64? Why not use 'A' and 'Z'? And you've commented out the memory allocation for returnstr, so you're copying via an uninitialized pointer and then returning that? Not a recipe for happiness!

The other answers have also pointed out (accurately) that you've not initialized your pointer in `main()`, so you don't get a chance to dump core in `encrypt()` because you've already dumped core in `main()`.

```
#include <ctype.h>
#include <stdlib.h>
#include <string.h>

char *encrypt(char *str, int offset)
{
    int len = strlen(str) + 1;
    char *returnstr = malloc(len);
    if (returnstr == 0)
        return 0;
    for (int i = 0; i < len; i++)
    {
        char c = str[i];
        if (isupper((unsigned char)c))
        {
            c += offset;
            if (c > 'Z')
                c = 'A' + (c - 'Z') - 1;
        }
        returnstr[i] = c;
    }
    return returnstr;
} 
```

Long variable names are not always helpful; they make the code harder to read. Note that any character for which `isupper()` is true also satisfies `isalpha()`. The cast on the argument to `isupper()` prevents problems when the `char` type is signed and you have data where the unsigned char value is in the range 0x80..0xFF (the high bit is set). With the cast, the code will work correctly; without, you can get into trouble.

# sharepoint - 信息路径访问问题

> ID：15715035
> 
> 赞同：-1
> 
> 时间：2013-03-30T04:39:45.420
> 
> 标签：sharepoint, infopath

我正在尝试打开我的信息路径表单（xsn），该表单位于我的个人计算机（在我的公司网络之外）的公司共享点网站中。当我尝试在 infopath 中打开时，出现此错误。

InfoPath 无法验证您的用户名，因为表单的安全设置不允许。调用属性或方法“get-UserName”期间发生错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:11:25.120

您无法在服务器上打开 XSN 表单模板（还要注意 Infopath XSN 模板用于生成 Infopath 数据表单或 Infopath webpart），因为它是许多文件的打包存档，您只能将其下载到本地计算机并在Infopath Designer 中的设计模式（通过右键单击 .XSN 文件 > 选择设计选项或打开 Infopath Designer，然后打开 xsn 模板）。此外，您应该在本地安装 Infpath，作为 MS Office 套件的一部分。

此外，如果您将 XSN 模板下载到本地计算机，双击它确实会尝试生成 Infopath .XML 数据表单并在 Infopath Filler 中打开它。这显然会失败，如果有（远程，例如，在共享点服务器上）本地用户没有权限的数据连接/源（当您的 Infopath 模板启用 Web = 启用以在浏览器中运行时也是如此通过 Sharepoint 服务器 Infopath Form Services）。您应该数字签名并将模板的**安全和信任**（< 表单选项 < 信息 < Infopath Designer 功能区上的文件）更改为**完全信任**为了在 Filler 中预览它（即在 юЧЫТ 模板的基础上生成一个 Infopath 数据表单 - 这是一个 Infopath .XML 数据表单，如果是共享点库，并在 Infopath Filler 中打开它，本地）。

这适用于发布到共享点（文档格式）库的模板。从概念上讲，在 Sharepoint List Form 的情况下，考虑到其 .XSN 模板直接连接到底层 sharepoint 列表并且没有（单独的）Infopath XML 数据表单，这都是一样的。

# c++ - How to separate GUI from logic in MFC?

> ID：15715036
> 
> 赞同：2
> 
> 时间：2013-03-30T04:39:51.493
> 
> 标签：c++, design-patterns, user-interface, mfc, logic

I want to develop a MFC application in VS2010\. I hope to separate GUI from the logic, so that modifying GUI can become much easier. But I don't know how to design the classes to implement this function. Which design pattern should I use? Does MFC have any special way to deal with the problem?

Moreover, I am not familiar with design patterns. So I hope someone can give me samples or detailed articles explaining this. (Also I prefer a less complicated pattern! ^^)

Thank you very much!

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T05:52:50.927

The MFC already provide such a separation in their SDI/MDI based templates. For example, you have a CWinApp instance and a CMainFrame for the program itself. For each file in MDI apps you have a CDocument and a CView class.

Note:

*   The MFC don't use the classic MVC separation, they combine the view and controller into a single UI part.
*   The MFC are not strict about this, you can also put a button handler into the application/document, not only into the frame/view.
*   You don't fully separate the model from the MFC, it is still built on that. If you want to achieve this separation, you have to do additional work, but then you have a module that you can test completely separately. This allows you to use test-driven development, which is more difficult when embedded into a GUI.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:00:10.247

May be it will be helpful [http://martinfowler.com/eaaDev/uiArchs.html](http://martinfowler.com/eaaDev/uiArchs.html) . Also try to find MVC (model/view/controller) pattern.

# python - 大数组上的函数应用和归约

> ID：15715045
> 
> 赞同：2
> 
> 时间：2013-03-30T04:41:03.077
> 
> 标签：python, numpy, reduce, large-data

我有两个 numpy 数组，`X`它们`Y`的形状是`X.shape == (m,d)`and `Y.shape == (n,d)`， where `m`，`n`和`d`是非平凡的大小。我需要制作第三个`Z`形状为`Z.shape == (m,n)`.

对于某些***非线性***，元素`Z[i,j]`是对`f(X[i,k],Y[j,k]) for k in range(d)`所有 进行求和然后求和的结果。`k` *`f`*

 *显而易见的方法是这样做：

```
Z = numpy.zeros((m,n), dtype = numpy.float64)
for i in range(m):
    for j in range(n):
        Z[i,j] += (f(X[i,:],Y[j,:])).sum() # I can compose f from ufuncs 
```

但我真正要问的是，是否有某种聪明的广播技巧可以用来计算`Z`：

1.  如果可能的话，利用 numpy 的优化
2.  执行此操作而不将形状数组`(n,m,d)`放入内存（`n*m`双打将适合内存，但`n*m*d`双打不会）

有谁知道这样做的方法？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:57:49.983

这是您不想要的解决方案，我已将其包括在内，因为我相信这是您问题的“规范”解决方案。

```
# A simple function of x, y
def f(x, y):
    return 2*x + 3*y**2

x = x.reshape((m, 1, d))
y = y.reshape((1, n, d))
temp = f(x, y)
Z = temp.sum(2) 
```

如果您想避免创建`temp`非常大的临时数组，您可以尝试遍历`d`维度。在某些情况下，以下循环的开销将非常小，您将获得几乎相同的性能，而内存使用量要少得多。

```
Z = np.zeros((m, n))
for i in range(d):
    Z += f(x[:, :, i], y[:, :, i]) 
```

让我知道这是否有帮助。*

# assembly - 如果当前 PC = 0xFFFFFF00，如何向前跳转？

> ID：15715053
> 
> 赞同：1
> 
> 时间：2013-03-30T04:42:39.767
> 
> 标签：assembly, mips

如果当前 PC = 0xFFFFFF00，如何向前跳转？我在这里谈论 j 指令。

我不知道如何超越 0xFFFFFF00，那是内存地址中的最后一个插槽，对吗？

# jquery-ui - 不能在 Razor 视图中使用 jquery datepicker

> ID：15715054
> 
> 赞同：0
> 
> 时间：2013-03-30T04:42:55.897
> 
> 标签：jquery-ui, razor, asp.net-mvc-4

我正在开发一个 ASP.NET MVC 4 应用程序。在我的一种形式（使用 Razor 视图引擎）中，我想使用带有日期字段的 jquery datepicker。**但是我的日期选择器代码不起作用。**

视图/共享/_Layout.cshtml

```
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title - My ASP.NET MVC Application</title>
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
     <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
    <meta name="viewport" content="width=device-width" />
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head> 
```

视图/MyController/Create.cshtml

```
@model wppf_test_1.Models.allocation_percentage

@{
    ViewBag.Title = "Create";
}

<script type="text/javascript">

$(document).ready(function () {

    alert("h");
    $("#date").datepicker();

});

</script>

<h2>Create</h2>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)

<fieldset>
    <div class="editor-label">
        @Html.LabelFor(model => model.date)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.date)
        @Html.ValidationMessageFor(model => model.date)
    </div> 
```

我没有发布视图的整个代码，因为它非常大。**jquery 代码中的警报消息有效。**但是日期选择器代码没有。我使用了firebug并验证了日期字段的id确实是“日期”。然而我不知道是什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:54:57.513

我建议使用这样的输入元素：

```
<div class="editor-field">
    <input type="text" name="date" id="date" /> 
    @Html.ValidationMessageFor(model => model.date)
</div> 
```

作为你约会的编辑。将名称设置为日期会将值正确链接到表单提交时的日期字段。我以前遇到过这个问题，这就是我解决它的方法，尽管我不能确定它为什么起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-16T09:41:15.377

我的情况与 Shuaib 相同，我尝试了上面的建议，我可以在我的项目（create.cshtml）中选择日期。

```
<input type="text" name="CreatedDate" id="date" /> 
```

但是，我的项目（create.cshtml）中又多了很多输入元素。我尝试使用相同的 id (id="date")，如下所示。

```
<input type="text" name="UpdatedDate" id="date" /> 
```

我运行应用程序，我的第二个输入元素 (name="UpdatedDate) 上的日期选择器无法工作。我收到警告消息是*此页面上的另一个对象已使用 ID ' **date** '*。

这是什么方法（调用 id datepicker）只能在页面上使用一个输入元素（不能更多）？

谢谢建议，加油

# c++ - 类继承和构造函数

> ID：15715059
> 
> 赞同：-1
> 
> 时间：2013-03-30T04:43:57.740
> 
> 标签：c++

为这样的事情做构造函数的正确方法是什么？我只在矩形中设置高度和宽度吗？

```
class Rectangle {
public:
   Rectangle(int height, int width);
   int height, int width;
};

class Square : Rectangle {
   Square(int height, int width);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T04:47:18.637

您只需在派生类的成员初始化列表中调用基类构造函数：

```
class Square : Rectangle {
   Square(int height, int width): Rectangle(height, width)
   {
        //other stuff for Square
   } 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T04:47:19.283

你可能想这样做：

```
Square(int sidelength) : Rectangle(sidelength, sidelength) { } 
```

这样，您可以使用单个参数构造 Squares，它将调用 Rectangle 构造函数，将该参数作为宽度和高度。

# ruby-on-rails - 如何在引导模式中获取保存按钮以提交表单

> ID：15715060
> 
> 赞同：0
> 
> 时间：2013-03-30T04:44:03.247
> 
> 标签：ruby-on-rails, forms, twitter-bootstrap

我有一个像这样的表格：

```
.row-fluid
  = form_for(@client) do |f|
    - if @client.errors.any?
      #error_explanation
        %h2
          = pluralize(@client.errors.count, "error")
          prohibited this client from being saved:
        %ul
          - @client.errors.full_messages.each do |msg|
            %li= msg
    .fieldset
      %legend
        = @header
      .control-group
        %label.control-label
          Name
        .controls
          = f.text_field :name, :class => "input-xlarge"
      .control-group
        %label.control-label
          Street Address
        .controls
          = f.text_field :street, :class => "input-xlarge"
      .control-group
        %label.control-label
          Unit
        .controls
          = f.text_field :unit, :class => "input-small", :placeholder => "optional"
      .control-group
        %label.control-label
          City
        .controls
          = f.text_field :city, :class => "input-xlarge"
      .control-group
        %label.control-label
          State
        .controls
          = f.text_field :state, :class => "input-small"
      .control-group
        %label.control-label
          Zip
        .controls
          = f.text_field :zip, :class => "input-small"
    .form-actions
      = f.submit "Save", :class => "btn btn-primary"
      .btn
        = link_to "Cancel", :root, :style => "color: #333; text-decoration: none;" 
```

我有一个模式，我正在加载里面的表单，如下所示：

```
 .span2.offset2
    %a.btn{"data-toggle" => "modal", :href => "#myModal", :role => "button"} New Client
    / Modal
    #myModal.modal.hide.fade{"aria-hidden" => "true", "aria-labelledby" => "myModalLabel", :role => "dialog", :tabindex => "-1"}
      .modal-header
        %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", :type => "button"} ×
        %h3#myModalLabel Modal header
      .modal-body
        %p
          = render "form"
      .modal-footer
        %button.btn{"aria-hidden" => "true", "data-dismiss" => "modal"} Close
        %button.btn.btn-primary Save changes 
```

我想知道如何让 Save Changes 按钮提交表单。我需要添加 javascript 才能让它工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T04:51:07.950

您需要确保输入和按钮属于一个`form`元素。使用您当前的标记可能很难实现这一点。

或者，您可以使用 JavaScript 提交表单，但第一种方法要好得多，因为您可以*免费*获得很多功能。

# html - HTML p-element 和 fieldset-element 的跨浏览器问题，错误或有意，如何处理？

> ID：15715061
> 
> 赞同：3
> 
> 时间：2013-03-30T04:44:20.227
> 
> 标签：html, css, cross-browser

我的问题是：这是一个错误还是预期的行为，我应该在浏览器的错误跟踪器上报告这个，还是只是找到一个 css 修复？

这是重现此行为所需的最少代码量的小提琴：http: [//jsfiddle.net/tjVvp/8/](http://jsfiddle.net/tjVvp/8/)

我已经在 Firefox 和 Chromium 中对此进行了测试。该问题取决于`<p>`元素和`fieldset`css 代码的组合：

```
fieldset {
    padding: 0;
    margin: 0;
    border: 0;
} 
```

如果`<p>`删除，则问题不会出现。在这种情况下，页面在 Firefox 和 Chromium 中呈现相同。

如果该`<p>`元素存在，但没有该`fieldset`元素的 CSS 代码，Firefox 和 Chromium 都会以相同的方式呈现页面。

他们需要同时存在，否则问题不会发生。

如果元素的 css 代码`fieldset`存在，那就是当页面呈现不同时，如小提琴所示。

它变得更加复杂：仅当所有 3（边距、填充和边框）都设置为一个值时才会出现此问题。如果您删除其中一个声明，浏览器将呈现相同的页面。剩下哪个组合都没有关系，只有在声明了所有 3 个属性时才会出现差异。然后仅当`<p>`元素存在时。

所以，从本文顶部重复我的问题：这是一个错误还是预期的行为，我应该在浏览器的错误跟踪器上报告这个，还是只是找到一个 css 修复？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:19:18.937

我认为您所指的可能是`<p>`. 如果您检查`<p>`标签，您可以看到两边的边距：

![在此处输入图像描述](../Images/a0d58bbea2e6edc3cca2cbc203d22957.png)

另请注意，顶部的边距不会应用于`<p>`其祖先之一，这称为[边距折叠](http://www.w3.org/TR/CSS21/box.html#collapsing-margins)。

## 参考

*   [CSS 2.1 规范 - 折叠边距](http://www.w3.org/TR/CSS21/box.html#collapsing-margins)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:08:24.790

试试这个，我在小提琴上试了一下，效果很好。

```
fieldset, p, label {
    padding: 0;
    margin: 0;
    border: 0;
}

header {
    display: block;
    width: 100%;
    height: 40px;
    background-color: red;
}

legend {
    margin: 2px 0px;
    padding:0px 10px 0 0;
    float: left;
} 
```

# ios - iOS：EXC_BAD_ACCESS 错误 NSString 长度和 setHTTPBody

> ID：15715068
> 
> 赞同：3
> 
> 时间：2013-03-30T04:46:02.410
> 
> 标签：ios, objective-c

当我启动模拟器并且应用程序启动时，我点击我得到的用户界面`EXC_BAD_ACCESS`for`NSString *strLength = [NSString stringWithFormat:@"%d", [postStr length]];`和 for `[req setHTTPBody:[_postStr dataUsingEncoding:NSUTF8StringEncoding`。我不知道为什么会这样。如果我卸载应用程序但保持模拟器打开并再次运行它，我不会收到任何错误。任何帮助都会很棒。代码如下。

```
#import "LocavoreRetroAPIAdapter.h"
//Class extention declares a method that is private to the class
@interface LocavoreRetroAPIAdapter ()
-(NSMutableURLRequest *)initRequest:(NSURL *)url method:(NSString *)method;
@end

@implementation LocavoreRetroAPIAdapter

//Called when this class is first initialized
-(id) initWithName:(NSString *)postStr webService:(NSString *)webService spinner:        (UIActivityIndicatorView *)spinner{
    if(self = [super init]){
        _postStr = postStr;
        _baseURL = @"http://base/api/";
        _webService = webService;
        _spinner = spinner;
        _result = nil;
    }
    return self;
}

//Request to Locavore API restful web services
-(void) conn:(NSString *)method{

    dispatch_queue_t concurrentQueue =     dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
    dispatch_async(concurrentQueue, ^{
        __block NSDictionary *resultBlock = nil;
        dispatch_sync(concurrentQueue, ^{
            /* Download the json here */

            //Create webservice address
            NSString *webService = [_baseURL stringByAppendingString:_webService];

            //Create the url
            NSURL *url = [NSURL URLWithString:webService];

            //Create error object
            NSError *downloadError = nil;

            //Create the request
            NSMutableURLRequest *req = [self initRequest:url method:method];

            if(req != nil){
                //Request the json data from the server
                NSData *jsonData = [NSURLConnection
                                        sendSynchronousRequest:req
                                        returningResponse:nil
                                        error:&downloadError];
                NSError *error = nil;
                id jsonObject = nil;

                if(jsonData !=nil){

                    /* Now try to deserialize the JSON object into a dictionary */
                    jsonObject = [NSJSONSerialization
                                     JSONObjectWithData:jsonData
                                     options:NSJSONReadingAllowFragments
                                     error:&error];
                }

            //Handel the deserialized object data
            if (jsonObject != nil && error == nil){
                NSLog(@"Successfully deserialized...");
                if ([jsonObject isKindOfClass:[NSDictionary class]]){
                    resultBlock = (NSDictionary *)jsonObject;
                    //NSLog(@"Deserialized JSON Dictionary = %@", resultBlock);
                }
                else if ([jsonObject isKindOfClass:[NSArray class]]){
                    NSArray *deserializedArray = (NSArray *)jsonObject;
                    NSLog(@"Deserialized JSON Array = %@", deserializedArray);
                } else {
                    /* Some other object was returned. We don't know how to deal
                     with this situation, as the deserializer returns only dictionaries
                     or arrays */
                }
            }
            else if (error != nil){
                NSLog(@"An error happened while deserializing the JSON data.");
            }else{
                NSLog(@"No data could get downloaded from the URL.");
                [self conn:method];
            }
        }
    });
    dispatch_sync(dispatch_get_main_queue(), ^{

        /* Check if the resultBlock is not nil*/
        if(resultBlock != nil){
            /*Set the value of result. This will notify the observer*/
            [self setResult:resultBlock];
            [_spinner stopAnimating];
            }
        });
    });
}

//Configure the request for a post/get method
- (NSMutableURLRequest *)initRequest:(NSURL *)url method:(NSString *)method{

    //Create the request
    NSMutableURLRequest *req = [NSMutableURLRequest requestWithURL:url];

    //Get the string length
    NSString *strLength = [NSString stringWithFormat:@"%d", [_postStr length]];

    //Specific to requests that use method post/get
    //Configure the request
    if([method isEqualToString:@"POST"]){
       [req addValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-    Type"];
        [req addValue:strLength forHTTPHeaderField:@"Content-Length"];
        [req setHTTPMethod:@"POST"];
    }else if([method isEqualToString:@"GET"]){
        [req addValue:@"text/xml; charset=utf-8" forHTTPHeaderField:@"Content-Type"];
        [req addValue:strLength forHTTPHeaderField:@"Content-Length"];
        [req setHTTPMethod:@"GET"];
    }else{
        return nil;
    }

    //Set the HTTP Body
    [req setHTTPBody:[_postStr dataUsingEncoding:NSUTF8StringEncoding]];

    //Return the request
    return req;
}

//Called when this object is destroyed
- (void)dealloc {
    NSLog(@"DEALLOC LocavoreRetroAPIAdapter");
    [super dealloc];
    [_baseURL release];
    [_result release];
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:12:23.003

熟悉[内存管理和对象生存期规则](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html)。您的代码正在崩溃，因为您没有保留（或复制）`init...`方法中的参数，并且它们正在被释放。将您的 init... 方法更改为：

```
-(id) initWithName:(NSString *)postStr webService:(NSString *)webService spinner:        (UIActivityIndicatorView *)spinner{
    if(self = [super init]){
        _postStr = [postStr copy];
        _baseURL = @"http://base/api/";
        _webService = [webService copy];
        _spinner = [spinner retain];
    }
    return self;
} 
```

Be sure to release the three instance variables you are now copying or retaining in your dealloc method. Also call `[super dealloc]` as the last step in that method but that's not the source of your problem right now.

```
//Called when this object is destroyed
- (void)dealloc {
    NSLog(@"DEALLOC LocavoreRetroAPIAdapter");
    [_postStr release];
    [_webService release];
    [_spinner release];
    [_result release];
    [super dealloc];
} 
```

Notice I removed the call to `[_baseURL release]` from your dealloc as you did not retain it so you do not own the object. If you didn't create an object with `alloc` or `new`, and didn't call `retain` or `copy` on it, then you don't own the object, so you must not release it.

# java - java.lang.RuntimeException：无法实例化接收器：java.lang.ClassNotFoundException

> ID：15715072
> 
> 赞同：0
> 
> 时间：2013-03-30T04:46:49.173
> 
> 标签：java, android

*   我尝试使用电话管理器和 BroadCastReceiver 在我的项目中实现自动应答。
*   它工作正常但不幸的是，当我再次打开手机电源时，应用程序崩溃了。特此附上我的代码和清单文件。任何人都可以帮助我们寻求解决方案

* * *

**代码 ：**

**自动应答接收器.java**

```
public class AutoAnswerReceiver extends BroadcastReceiver {

    SharedPreferences mPrefs;
    static String PREFS_NAMES = "AutoAnswer";
    @Override
    public void onReceive(Context context, Intent intent) {

        mPrefs = context.getSharedPreferences(PREFS_NAMES, 0);

        String AutoResult = mPrefs.getString("AutoAnswer", "FALSE");

        // Check phone state
        String phone_state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);
        String number = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER);

        if (phone_state.equals(TelephonyManager.EXTRA_STATE_RINGING) && AutoResult.equals("TRUE"))
        {
                context.startService(new Intent(context, AutoAnswerIntentService.class));

        }
        }

    **AutoAnswerIntentService**

public class AutoAnswerIntentService extends IntentService {

    public AutoAnswerIntentService() {
        super("AutoAnswerIntentService");
    }

    @Override
    protected void onHandleIntent(Intent intent) {
        Context context = getBaseContext();

        // Let the phone ring for a set delay
        try {
            Thread.sleep(Integer.parseInt("5") * 1000);
        } catch (InterruptedException e) {
            // We don't really care
        }

        // Make sure the phone is still ringing
        TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);
        if (tm.getCallState() != TelephonyManager.CALL_STATE_RINGING) {
            return;
        }

        // Answer the phone
        try {
            answerPhoneAidl(context);
        }
        catch (Exception e) {
            e.printStackTrace();
            Log.d("AutoAnswer","Error trying to answer using telephony service.  Falling back to headset.");
            answerPhoneHeadsethook(context);
        }

        // Enable the speakerphone

            enableSpeakerPhone(context);

        return;
    }

    private void enableSpeakerPhone(Context context) {
        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);
        audioManager.setSpeakerphoneOn(true);
    }

    private void answerPhoneHeadsethook(Context context) {
        // Simulate a press of the headset button to pick up the call
        Intent buttonDown = new Intent(Intent.ACTION_MEDIA_BUTTON);     
        buttonDown.putExtra(Intent.EXTRA_KEY_EVENT, new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_HEADSETHOOK));
        context.sendOrderedBroadcast(buttonDown, "android.permission.CALL_PRIVILEGED");

        // froyo and beyond trigger on buttonUp instead of buttonDown
        Intent buttonUp = new Intent(Intent.ACTION_MEDIA_BUTTON);       
        buttonUp.putExtra(Intent.EXTRA_KEY_EVENT, new KeyEvent(KeyEvent.ACTION_UP, KeyEvent.KEYCODE_HEADSETHOOK));
        context.sendOrderedBroadcast(buttonUp, "android.permission.CALL_PRIVILEGED");
    }

    @SuppressWarnings("unchecked")
    private void answerPhoneAidl(Context context) throws Exception {
        // Set up communication with the telephony service (thanks to Tedd's Droid Tools!)
        TelephonyManager tm = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);
        Class c = Class.forName(tm.getClass().getName());
        Method m = c.getDeclaredMethod("getITelephony");
        m.setAccessible(true);
        ITelephony telephonyService;
        telephonyService = (ITelephony)m.invoke(tm);

        // Silence the ringer and answer the call!
        telephonyService.silenceRinger();
        telephonyService.answerRingingCall();
    }
} 
```

**清单文件**

```
<receiver android:name=".AutoAnswerReceiver" android:enabled="true">
    <intent-filter>
        <action android:name="android.intent.action.PHONE_STATE" />
    </intent-filter>
</receiver>
<receiver android:name=".AutoAnswerBootReceiver" android:enabled="true">
    <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED" />
    </intent-filter>
</receiver>
<service android:name="AutoAnswerIntentService" /> 
```

应用程序运行时它工作正常。但在舞台上电的情况下，它会显示如下错误

**错误**

```
03-30 09:54:22.013: E/AndroidRuntime(200): Uncaught handler: thread main exiting due to uncaught exception
03-30 09:54:22.023: E/AndroidRuntime(200): java.lang.RuntimeException: Unable to instantiate receiver com.slet.routemytrips.beta.AutoAnswerBootReceiver: java.lang.ClassNotFoundException: com.slet.routemytrips.beta.AutoAnswerBootReceiver in loader dalvik.system.PathClassLoader@43b7dfd8
03-30 09:54:22.023: E/AndroidRuntime(200):  at android.app.ActivityThread.handleReceiver(ActivityThread.java:2616)
03-30 09:54:22.023: E/AndroidRuntime(200):  at android.app.ActivityThread.access$3100(ActivityThread.java:119)
03-30 09:54:22.023: E/AndroidRuntime(200):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1913)
03-30 09:54:22.023: E/AndroidRuntime(200):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-30 09:54:22.023: E/AndroidRuntime(200):  at android.os.Looper.loop(Looper.java:123)
03-30 09:54:22.023: E/AndroidRuntime(200):  at android.app.ActivityThread.main(ActivityThread.java:4363)
03-30 09:54:22.023: E/AndroidRuntime(200):  at java.lang.reflect.Method.invokeNative(Native Method)
03-30 09:54:22.023: E/AndroidRuntime(200):  at java.lang.reflect.Method.invoke(Method.java:521)
03-30 09:54:22.023: E/AndroidRuntime(200):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
03-30 09:54:22.023: E/AndroidRuntime(200):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
03-30 09:54:22.023: E/AndroidRuntime(200):  at dalvik.system.NativeStart.main(Native Method)
03-30 09:54:22.023: E/AndroidRuntime(200): Caused by: java.lang.ClassNotFoundException: com.slet.routemytrips.beta.AutoAnswerBootReceiver in loader dalvik.system.PathClassLoader@43b7dfd8
03-30 09:54:22.023: E/AndroidRuntime(200):  at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)
03-30 09:54:22.023: E/AndroidRuntime(200):  at java.lang.ClassLoader.loadClass(ClassLoader.java:573)
03-30 09:54:22.023: E/AndroidRuntime(200):  at java.lang.ClassLoader.loadClass(ClassLoader.java:532)
03-30 09:54:22.023: E/AndroidRuntime(200):  at android.app.ActivityThread.handleReceiver(ActivityThread.java:2609)
03-30 09:54:22.023: E/AndroidRuntime(200):  ... 10 more
03-30 09:54:22.083: I/Process(51): Sending signal. PID: 200 SIG: 3
03-30 09:54:22.102: I/dalvikvm(200): threadid=7: reacting to signal 3
03-30 09:54:22.102: E/dalvikvm(200): Unable to open stack trace file '/data/anr/traces.txt': Permission denied 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:25:18.933

这是[缺少](https://code.google.com/p/auto-answer/source/browse/trunk/#trunk/src/com/everysoft/autoanswer)的类文件：

创建一个名为`AutoAnswerBootReceiver.java`

```
package com.example.autoanswer;  // Just change the package name to yours

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;

public class AutoAnswerBootReceiver extends BroadcastReceiver {

        @Override
        public void onReceive(Context context, Intent intent) {
                AutoAnswerNotifier notifier = new AutoAnswerNotifier(context);
                notifier.updateNotification();
        }

} 
```

# java - 是否可以在 cdi 拦截器中，在验证后将用户重定向到另一个页面/方法/操作（jsf2）并发送消息？

> ID：15715076
> 
> 赞同：0
> 
> 时间：2013-03-30T04:47:54.717
> 
> 标签：java, jsf-2, java-ee-6, cdi, interceptor

这个想法是这样的：

@PSEUDO_CODE

@AroundInvoke

```
public Object manage(InvocationContext ic) throws Exception {

    Object object = getTarget();
            ...
            if( businessValidation(object).equals("fail") ){
        return <ERROR MESSAGE + REDIRECT>
    }
    return ic.proceed();
} 
```

任何帮助，如果将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T11:21:55.800

抛出特定/自定义异常并`<error-page>`为此设置特定异常。

例如

```
if (businessValidationFailed) {
    throw new BusinessValidationException(message);
} 
```

内`web.xml`

```
<error-page>
    <exception-type>com.example.BusinessValidationException</exception-type>
    <location>/WEB-INF/errorpages/businessvalidationfailed.xhtml</location>
</error-page> 
```

请注意，当您还想在 ajax 请求上处理此问题时，您需要一个自定义异常处理程序，并且您需要一个自定义 servlet 过滤器来解开可能由 JSF 或 EL 自动包装的 Faces 或 EL 异常。JSF 实用程序库[OmniFaces](http://omnifaces.org)为两者提供了解决方案。

* * *

**与具体问题无关**，JSF 中的业务验证通常使用 JSF`Validator`而不是 Java EE执行`Interceptor`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-31T00:22:01.933

这个替代方案也有效，这正是我想要的

```
@AroundInvoke
public Object intercept(InvocationContext ic) throws Exception {

    BaseBean<? extends BaseEntity> bean = (BaseBean<?>)ic.getTarget();
    RealmEnum realm = bean.getRealm();
    ActionEnum action = ic.getMethod().getAnnotation(AccessControl.class).action();
    if(!checkAuth(realm, action)){
        return bean.getClass().getMethod("cancel").invoke(bean);
    }
    return ic.proceed();
} 
```

在这里你可以打破方法链并调用你想要的。

> return bean.getClass().getMethod("cancel").invoke(bean);

在 Eclipse 中调试时，尝试检查这个“ic.proceed()”返回的内容，然后执行我的 bean 中的方法。有趣的是，他返回了一个“方法执行”。让我试试这个...... =）

我也有注入登录用户的问题。“正常方式”不起作用，如果你有同样的问题，尝试注入你需要的东西，试试这个：

> @Inject @LoggedUser 实例记录用户；

对不起，这是谷歌翻译成英文的，希望你明白=）

# appfog - What is the --path option for in appfogs update command

> ID：15715078
> 
> 赞同：1
> 
> 时间：2013-03-30T04:48:16.697
> 
> 标签：appfog

Using appfog, I'm trying to update only a single directory of my site.

```
af update myApp --path some/directory 
```

Now, according to this post - [How do I push an app in chunks to Appfog?](https://stackoverflow.com/questions/14985239/how-do-i-push-an-app-in-chunks-to-appfog)

This is not a possible task. So, my question is, what does the --path option do?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T16:16:06.030

The `--path` switch overrides the local root path of your application. It will upload the entire app from that location. This might be useful for scripts that update apps from a different current working directory.

# java - GWT 设计器编辑器无法打开

> ID：15715079
> 
> 赞同：1
> 
> 时间：2013-03-30T04:48:21.263
> 
> 标签：java, gwt, gwt-designer

![错误信息图片][1] 我又有我的问题了。

我安装了 gwt 设计器

*   ubuntu 12.10 /32bit 但我的笔记本电脑是 64 位 /
*   日食靛蓝/32位/
*   重量级 2.5.1
*   应用引擎 1.7.5

我正在创建新的 Web 应用程序项目。名称：gwtTest，包：com 并转到我的项目 gwtTest -> src -> com.client gwtTest.java 文件右键单击打开方式 -> GWT Designer 或 WindowBuilder 编辑器，但出现以下错误无法打开设计器编辑器。

无法打开编辑器：无法实例化编辑器类。这通常表示缺少无参数构造函数或编辑器的类名在 plugin.xml 中输入错误。

错误列表：

```
java.lang.ClassNotFoundException: org.eclipse.wb.internal.core.editor.multi.DesignerEditor
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:513)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:429)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:417)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:345)
    at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:229)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1207)
    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:174)
    at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:905)
    at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)
    at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:55)
    at org.eclipse.ui.internal.WorkbenchPlugin.createExtension(WorkbenchPlugin.java:260)
    at org.eclipse.ui.internal.registry.EditorDescriptor.createEditor(EditorDescriptor.java:235)
    at org.eclipse.ui.internal.EditorManager.createPart(EditorManager.java:875)
    at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:609)
    at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:465)
    at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:595)
    at org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:289)
    at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2945)
    at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2850)
    at org.eclipse.ui.internal.WorkbenchPage.access$11(WorkbenchPage.java:2842)
    at org.eclipse.ui.internal.WorkbenchPage$10.run(WorkbenchPage.java:2793)
    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)
    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2789)
    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2773)
    at org.eclipse.ui.actions.OpenWithMenu.openEditor(OpenWithMenu.java:331)
    at org.eclipse.ui.actions.OpenWithMenu$2.handleEvent(OpenWithMenu.java:179)
    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1258)
    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3588)
    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3209)
    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)
    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)
    at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
    at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123)
    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1410) 
```

# winforms - 在后台工作人员中运行带有不断更新的图片框的表单对鼠标事件没有响应

> ID：15715081
> 
> 赞同：0
> 
> 时间：2013-03-30T04:48:43.323
> 
> 标签：winforms, c#-4.0, backgroundworker

首先，感谢大家多年来的帮助。我在这个网站上找到了很多解决方案，但这个似乎是独一无二的。

我所拥有的是在后台工作人员中创建的带有图片框的表单（因为如果后台工作人员在显示期间我需要 UI 做出响应）。该图片框正在使用后台工作程序中运行的 while 循环进行更新。

后台工作人员被称为：

```
private void Play_Click(object sender, EventArgs e)
{
    OpenFileDialog openFile = new OpenFileDialog();
    openFile.ShowDialog();

    FileName = openFile.FileName;

    this.backgroundWorker1.RunWorkerAsync();
}

private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
{
        VisualPlayer.Player player = new VisualPlayer.Player(FileName);
} 
```

这是在 backgroundWorker 中调用的函数的示例

```
public void VideoPlayer(string fileName)
{

    PlayerScreen.VideoWindow videoWindow = new PlayerScreen.VideoWindow();
    videoWindow.Show();
    videoWindow.TopMost = true;
    PictureBox pictureBox = (PictureBox)videoWindow.Controls[0];

    var startTime = DateTime.Now;
    var millisecondsRemaining = GetFileLength(fileName);
    var endTime = startTime.AddMilliseconds(millisecondsRemaining);

    while (millisecondsRemaining > 0)
    {
        millisecondsRemaining = Convert.ToInt32(endTime.Subtract(DateTime.Now).TotalMilliseconds);
        ... do the pictureBox updates here ...
    }

} 
```

所以一切正常，一切都很好，但一方面，我无法选择 videoWindow。我需要能够选择它、移动它、双击它来调整它的大小等，但是当我将鼠标移到它上面时，我所拥有的只是沙漏。

现在我的解决方案是在 While 循环中添加可怕的 Application.DoEvents() 来捕获鼠标事件，但这里的每个人都建议我不要使用它。

所以我想知道，是否有另一种方法来处理其他无响应的后台工作窗体上的鼠标事件？

# java - codeEt.setText(extras.getString("code")); 导致 NullPointerException

> ID：15715085
> 
> 赞同：0
> 
> 时间：2013-03-30T04:49:44.037
> 
> 标签：java, android, nullpointerexception, oncreate, forceclose

如何在以下来源的第 48 行解决 NullPointerException：

```
 codeEt.setText(extras.getString("code")); 
```

我已经上下查看了这部分代码，但似乎无法解决问题。该变量似乎在它出现的任何地方都有效。非常感谢任何输入/高级知识。

查看国家/地区 Java：

```
import android.app.Activity;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.content.Intent;
import android.database.Cursor;
import android.os.AsyncTask;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.widget.TextView;
import android.widget.TimePicker;

public class ViewCountry extends Activity {

       private long rowID;
       private TextView nameTv;
       private TextView capTv;
       private TextView codeTv; 
       private TextView timeTv; 

       @Override
       public void onCreate(Bundle savedInstanceState) 
       {
          super.onCreate(savedInstanceState);
          setContentView(R.layout.view_country);

          setUpViews();
          Bundle extras = getIntent().getExtras();
          rowID = extras.getLong(CountryList.ROW_ID); 
       }

       private void setUpViews() {
           nameTv = (TextView) findViewById(R.id.nameText);
           capTv = (TextView) findViewById(R.id.capText);
           timeTv = (TextView) findViewById(R.id.timeEdit);
           codeTv = (TextView) findViewById(R.id.codeText);
       }

       @Override
       protected void onResume()
       {
          super.onResume();
          new LoadContacts().execute(rowID);
       } 

       private class LoadContacts extends AsyncTask<Long, Object, Cursor> 
       {
          DatabaseConnector dbConnector = new DatabaseConnector(ViewCountry.this);

          @Override
          protected Cursor doInBackground(Long... params)
          {
             dbConnector.open();
             return dbConnector.getOneContact(params[0]);
          } 

          @Override
          protected void onPostExecute(Cursor result)
          {
             super.onPostExecute(result);

             result.moveToFirst();
             // get the column index for each data item
             int nameIndex = result.getColumnIndex("name");
             int capIndex = result.getColumnIndex("cap");
             int codeIndex = result.getColumnIndex("code");
             int timeIndex = result.getColumnIndex("time");

             nameTv.setText(result.getString(nameIndex));
             capTv.setText(result.getString(capIndex));
//           timeTv.setText(result.getInt(timeIndex)); // <--- HERE WAS AN ERROR
             timeTv.setText(result.getString(timeIndex)); // time was stored as Sting all the time
             codeTv.setText(result.getString(codeIndex));

             result.close();
             dbConnector.close();
          }
       } 

       @Override
       public boolean onCreateOptionsMenu(Menu menu) 
       {
          super.onCreateOptionsMenu(menu);
          MenuInflater inflater = getMenuInflater();
          inflater.inflate(R.menu.view_country_menu, menu);
          return true;
       }

       @Override
       public boolean onOptionsItemSelected(MenuItem item) 
       {
          switch (item.getItemId())
          {
             case R.id.editItem:
                Intent addEditContact =
                   new Intent(this, AddEditDevice.class);

                addEditContact.putExtra(CountryList.ROW_ID, rowID);
                addEditContact.putExtra("name", nameTv.getText());
                addEditContact.putExtra("cap", capTv.getText());
                addEditContact.putExtra("code", codeTv.getText());
                startActivity(addEditContact); 
                return true;

             case R.id.deleteItem:
                deleteContact();
                return true;

             default:
                return super.onOptionsItemSelected(item);
          } 
       }

       private void deleteContact()
       {

          AlertDialog.Builder alert = new AlertDialog.Builder(ViewCountry.this);

          alert.setTitle(R.string.confirmTitle); 
          alert.setMessage(R.string.confirmMessage); 

          alert.setPositiveButton(R.string.delete_btn,
             new DialogInterface.OnClickListener()
             {
                public void onClick(DialogInterface dialog, int button)
                {
                   final DatabaseConnector dbConnector = 
                      new DatabaseConnector(ViewCountry.this);

                   AsyncTask<Long, Object, Object> deleteTask =
                      new AsyncTask<Long, Object, Object>()
                      {
                         @Override
                         protected Object doInBackground(Long... params)
                         {
                            dbConnector.deleteContact(params[0]); 
                            return null;
                         } 

                         @Override
                         protected void onPostExecute(Object result)
                         {
                            finish(); 
                         }
                      };

                   deleteTask.execute(new Long[] { rowID });               
                }
             }
          );

          alert.setNegativeButton(R.string.cancel_btn, null).show();
       }
    } 
```

查看国家/地区 XML：

```
<?xml version="1.0" encoding="utf-8"?>

<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent" 
android:layout_height="wrap_content"
android:stretchColumns="1" 
android:layout_margin="5dp">
<TableRow>         
  <TextView 
    style="@style/StyleLabel"
    android:text="@string/name_lbl"/>
 <TextView 
    android:id="@+id/nameText" 
    style="@style/StyleText"/>         
 </TableRow>

 <TableRow>         
 <TextView 
    style="@style/StyleLabel"
    android:text="@string/cap_lbl"/>         
 <TextView 
    android:id="@+id/capText"
    style="@style/StyleText"/>         
 </TableRow>

  <TableRow>       
  <TextView 
    style="@style/StyleLabel"
    android:text="Time Limit"/>                    
 <TextView 
    android:id="@+id/timeText"
    style="@style/StyleText"/>         
 </TableRow>
 <TableRow>         
 <TextView 
    style="@style/StyleLabel"
    android:text="Linked Users"/>         
 <TextView 
android:id="@+id/codeText"
    style="@style/StyleText"/>         
 </TableRow>
 <TableRow>         
 <TextView 
    style="@style/StyleLabel"
    android:text="@string/_lbl"/>         
 <TextView 
    android:id="@+id/timeEdit"
    style="@style/StyleText"/>  

</TableRow>
<TableRow>         
 <TextView 
    style="@style/StyleLabel"
    android:text="@string/code_lbl"/>         
 <TextView 
    android:id="@+id/codeEdit"
    style="@style/StyleText"/>  

</TableRow>

</TableLayout> 
```

添加编辑设备JAVA：

```
import android.app.Activity;
import android.app.AlertDialog;
import android.os.AsyncTask;
import android.os.Bundle;
import android.view.ViewGroup;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.FrameLayout;
import android.widget.TimePicker;
import java.text.DecimalFormat;

public class AddEditDevice extends Activity {

     private long rowID; 
     private EditText nameEt;
     private EditText capEt;
     private EditText codeEt;
     private TimePicker timeEt;
    // DecimalFormat df =   new DecimalFormat  ("00");
    // public String minutes = df.format(min);

      // @Override
       public void onCreate(Bundle savedInstanceState) 
       {
          super.onCreate(savedInstanceState); 
          setContentView(R.layout.add_country);

          nameEt = (EditText) findViewById(R.id.nameEdit);
          capEt = (EditText) findViewById(R.id.capEdit);
          codeEt = (EditText) findViewById(R.id.codeEdit);
          timeEt = (TimePicker) findViewById(R.id.timeEdit);

          Bundle extras = getIntent().getExtras(); 

          if (extras != null)
          {
             rowID = extras.getLong("row_id");
             nameEt.setText(extras.getString("name"));  
             capEt.setText(extras.getString("cap"));  
             codeEt.setText(extras.getString("code"));    
             String time = extras.getString("time");
             String[] parts = time.split(":");
             timeEt.setCurrentHour(Integer.valueOf(parts[0]));
             timeEt.setCurrentMinute(Integer.valueOf(parts[1]));
             timeEt.setIs24HourView(false);

          }

          Button saveButton =(Button) findViewById(R.id.saveBtn);
          saveButton.setOnClickListener(new OnClickListener() {

              public void onClick(View v) 
              {
                 if (nameEt.getText().length() != 0)
                 {
                    AsyncTask<Object, Object, Object> saveContactTask = 
                       new AsyncTask<Object, Object, Object>() 
                       {
                          @Override
                          protected Object doInBackground(Object... params) 
                          {
                             saveContact();
                             return null;
                          }

                          @Override
                          protected void onPostExecute(Object result) 
                          {
                             finish();
                          }
                       }; 

                    saveContactTask.execute((Object[]) null); 
                 }

                 else
                 {
                    AlertDialog.Builder alert = new AlertDialog.Builder(AddEditDevice.this);
                    alert.setTitle(R.string.errorTitle); 
                    alert.setMessage(R.string.errorMessage);
                    alert.setPositiveButton(R.string.errorButton, null); 
                    alert.show();
                 }
              } 
         });
       }

           private void saveContact() 
           {
              DatabaseConnector dbConnector = new DatabaseConnector(this);

              if (getIntent().getExtras() == null)
              {
                  dbConnector.insertContact(nameEt.getText().toString(),
                          capEt.getText().toString(),
                          timeEt.getCurrentHour().toString() + ":"
                              + timeEt.getCurrentMinute().toString(),
                          codeEt.getText().toString());

              }
              else
              {
                 dbConnector.updateContact(rowID,
                         nameEt.getText().toString(),
                            capEt.getText().toString(),
                              timeEt.getCurrentHour().toString() + ":"
                                  + timeEt.getCurrentMinute().toString(),
                              codeEt.getText().toString());
              }
           }
} 
```

添加编辑设备 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="fill_parent" 
   android:layout_height="wrap_content" android:layout_weight="1">

   <LinearLayout android:id="@+id/linearLayout"
      android:layout_width="fill_parent"
      android:layout_height="wrap_content"
      android:orientation="vertical" 
      android:padding="5dp">

      <EditText android:id="@+id/nameEdit"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content" 
         android:imeOptions="actionNext" 
         android:hint="@string/name_hint"
         android:inputType="textPersonName|textCapWords"/>

      <EditText android:id="@+id/capEdit"
         android:layout_width="fill_parent" 
         android:layout_height="wrap_content" 
         android:imeOptions="actionNext" 
         android:hint="@string/cap_hint"
         android:inputType="textPersonName|textCapWords"/>

    <TextView
        android:id="@+id/textView3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Data Limit"
        android:textColor="#ffffff"
        android:textAppearance="?android:textAppearanceMedium" />

    <SeekBar
        android:id="@+id/seekBar1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1.0"
            android:gravity="left"
            android:textColor="#ffffff"
            android:text="10MB" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1.0"
            android:gravity="right"
            android:textColor="#ffffff"
            android:text="Unlimited Data" />
    </LinearLayout>

    <TextView
        android:id="@+id/textView3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Bandwidth Limit"
        android:textColor="#ffffff"
        android:textAppearance="?android:textAppearanceMedium" />

    <SeekBar
        android:id="@+id/seekBar1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1.0"
            android:gravity="left"
            android:textColor="#ffffff"
            android:text="10kbs" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1.0"
            android:textColor="#ffffff"
            android:gravity="right"
            android:text="Unlimited Bandwidth" />
    </LinearLayout>

    <TextView
        android:id="@+id/TextView02"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textAppearance="?android:textAppearanceSmall" />

    <TextView
        android:id="@+id/TextView02"
        android:layout_width="wrap_content"
        android:layout_gravity="center"
        android:layout_weight="1.0"
        android:layout_height="wrap_content"
        android:text="WiFi Time Limit"
        android:layout_marginBottom="8dp"
        android:textColor="#ffffff"
        android:textAppearance="?android:textAppearanceMedium" />

    <TimePicker
        android:id="@+id/timeEdit"
        android:layout_width="286dp"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:layout_weight="1.0"

        android:gravity="center" />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Parental Controls"
          android:layout_gravity="center"
        android:gravity="center"
        android:textAppearance="?android:attr/textAppearanceMedium" />

 <LinearLayout
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:orientation="horizontal" 
         android:layout_gravity="center"
        android:gravity="center">

     <ToggleButton
         android:id="@+id/ToggleButton01"
         android:layout_width="199dp"
         android:layout_height="wrap_content"
         android:gravity="center"
         android:text="ToggleButton" />

     <ToggleButton
         android:id="@+id/toggleButton1"
         android:layout_width="199dp"
         android:layout_height="wrap_content"
         android:gravity="center"
         android:text="ToggleButton" />

</LinearLayout>

<LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1.0"
            android:gravity="left"
            android:textColor="#ffffff"
            android:text="IPv4 SPI Firewall Protection" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1.0"
            android:textColor="#ffffff"
            android:gravity="right"
            android:text="IPv6 SPI Firewall Protection" />
    </LinearLayout>

<LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="horizontal" >

    <ToggleButton
        android:id="@+id/ToggleButton03"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1.0"
        android:gravity="center"
        android:text="ToggleButton" />

    <ToggleButton
        android:id="@+id/ToggleButton02"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1.0"
        android:gravity="center"
        android:text="ToggleButton" />

    </LinearLayout>

         <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="left"
        android:orientation="horizontal" >
         />

</LinearLayout>
    <EditText
        android:id="@+id/codeEdit"
        android:inputType="textUri"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:ems="10"
        android:lines="1"
        android:hint="@string/code_hint"
        android:imeOptions="actionNext" />

      <Button
          android:id="@+id/saveBtn"
          android:layout_width="199dp"
          android:layout_height="wrap_content"
          android:layout_gravity="center_horizontal"
          android:layout_marginTop="15dp"
          android:text="@string/save_btn" />

   </LinearLayout>
</ScrollView> 
```

日志猫：

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:20:35.867

好吧，我认为您的布局文件中没有带有 id 的 Edittext，`codeEdit`这可能是错误的原因。

# javascript - missing ) after argument list "+" on response.write in JS

> ID：15715087
> 
> 赞同：-1
> 
> 时间：2013-03-30T04:50:25.480
> 
> 标签：javascript, string, concat

```
response.write('Your case has been submitted successfully and you should receive an email notification soon.<br><br>The Case# is"+caseId+"<br><h2>title</h2>'); 
```

Works flawlessly if I move the concatenated value to the end of the string, but not if I want it in the middle of Text. This is to get rendered in an iframe on a webpage

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T04:52:11.883

should be:

```
response.write('Your case has been submitted successfully and you should receive an email notification soon.<br><br>The Case# is'+caseId+'<br><h2>title</h2>'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T04:52:19.690

You are mismatching your quotes. You start with a single quote `'` and then use a double quote `"` in the middle.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T04:52:47.000

> '+caseId+' use single quotes here..

```
 'Your case has been submitted successfully and you should receive an email notification soon.<br><br>The Case# is'+caseId+'<br><h2>title</h2>' 
```

# ruby-on-rails - Rails production environment with rbenv and ruby-build

> ID：15715090
> 
> 赞同：1
> 
> 时间：2013-03-30T04:50:48.770
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.2, rbenv

I wanted to know if anyone is using rbenv with ruby-build in production, and if people can shed some light on any gotchas or insights on their experience.

Many thanks.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T06:46:02.490

There does appear to be people using rbenv in production. The [rbenv documentations](https://github.com/sstephenson/rbenv/) says:

> **Rock-solid in production.** Your application's executables are its interface with ops. With rbenv and Bundler binstubs you'll never again need to cd in a cron job or Chef recipe to ensure you've selected the right runtime. The Ruby version dependency lives in one place—your app—so upgrades and rollbacks are atomic, even when you switch versions

However, rbenv really excels in development by making it easy to use many versions of Ruby.

For production I often skip rbenv and use ruby-build directly.

This script will get you a good Ruby on Ubuntu using ruby-build without rbenv:

```
# The version of Ruby to be installed
ruby_ver="1.9.3-p392"

# The base path to the Ruby
ruby_home="/usr/local"

# Packages needed to build Ruby
apt-get -y install build-essential zlib1g-dev libssl-dev libreadline-dev

# Use ruby-build to install Ruby
clone_dir=/tmp/ruby-build-$$
git clone https://github.com/sstephenson/ruby-build.git $clone_dir
$clone_dir/bin/ruby-build "$ruby_ver" "$ruby_home"
rm -rf $clone_dir
unset clone_dir 
```

# jquery - jquery.form 终止；jquery插件中的选择器错误发现零个元素

> ID：15715095
> 
> 赞同：0
> 
> 时间：2013-03-30T04:51:21.317
> 
> 标签：jquery, image-uploading

你好我正在使用这个[jquery 插件](http://www.9lessons.info/2011/08/ajax-image-upload-without-refreshing.html)来上传带有 ajax 的图片

这是我的html代码

```
 <form name="image_form" id="imageform" method="post" enctype="multipart/form-data" action='ajaximage.php'>

   <input type="file" name="image" id="image" tabindex="2" value="<?=$_POST['image']?>" />
</form>
  <div id='preview'>
  </div> 
```

这是jquery代码

```
$(document).ready(function() 
{ 
$('#image').live('change', function()   
{ 
$("#preview").html('');
//$("#preview").html('<img src="loader.gif" alt="Uploading...."/>');
$("#imageform").ajaxForm(
{
target: '#preview'
}).submit();
});
}); 
```

这是**ajaximage.php**代码

```
<?php
//include('db.php');

echo "AAAA";
session_start();
$session_id='1'; // User session id
$path = "images/";

$valid_formats = array("jpg", "png", "gif", "bmp","jpeg");
if(isset($_POST) and $_SERVER['REQUEST_METHOD'] == "POST")
{
$name = $_FILES['image']['name'];
$size = $_FILES['image']['size'];
echo "bb".$name;
if(strlen($name))
{
list($txt, $ext) = explode(".", $name);
if(in_array($ext,$valid_formats))
{
if($size<(1024*1024)) // Image size max 1 MB
{
$actual_image_name = time().$session_id.".".$ext;
$tmp = $_FILES['image']['tmp_name'];
if(move_uploaded_file($tmp, $path.$actual_image_name))
{
    echo "ccc";
//mysql_query("UPDATE users SET profile_image='$actual_image_name' WHERE uid='$session_id'");
echo "<img src='images/".$actual_image_name."' class='preview'>";
}
else
echo "failed";
}
else
echo "Image file size max 1 MB"; 
}
else
echo "Invalid file format.."; 
}
else
echo "Please select image..!";
exit;
}
?> 
```

我知道它发生的原因，但我不知道如何解决它？原因是我有两种形式

```
<form name="main_form" id="form" action="<?=$action?>" name="pkgfrm" method="post" enctype="multipart/form-data"> 
```

在此之下，我有很多字段，例如名字，年龄等，**另一种形式**也在此形式下

```
<form name="image_form" id="imageform" method="post" enctype="multipart/form-data" action='ajaximage.php'> 
```

由于插件不起作用的两个表单标签。但我需要两种形式，我该怎么做。请帮帮我

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-05-22T20:39:17.073

除非您使用嵌套形式，否则这应该不是问题。

# python - python 2.7中的文件到十六进制到文件

> ID：15715098
> 
> 赞同：1
> 
> 时间：2013-03-30T04:51:35.780
> 
> 标签：python, hex, ascii

我正在尝试获取文件并将其内容转换为十六进制，将其保存到文件中，然后将十六进制字符串转换回 ascii 并将其保存到文件中。下面的方法有效，但在十六进制的每一行之后添加一个额外的空行到 ascii 文件，这应该与初始文件相同......

```
 import binascii
    filename = 'file.txt'
    with open(filename, 'rb') as f:
        content = f.read()
    out = binascii.hexlify(content)

    f = open('out.txt', 'w')
    f.write(out)
    f.close()

    asci = out.decode("hex")
    w = open('printed.txt', 'w')
    w.write(asci)
    w.close() 
```

==================================================== =================================

在实际阅读了python文档之后，我意识到了我的错误。代码应如下所示。（稍微修改为从 out.txt 中读取...）

```
import binascii
filename = 'file.txt'
with open(filename, 'rb') as f:
    content = f.read()
out = binascii.hexlify(content)

f = open('out.txt', 'wb')
f.write(out)
f.close()

import binascii
filename = 'out.txt'
with open(filename, 'rb') as f:
    content = f.read()
asci = content.decode("hex")

asci = out.decode("hex")
w = open('printed.txt', 'wb')
w.write(asci)
w.close() 
```

关键是将附加的“b”添加到打开命令中的“w”中，以二进制写入模式打开文件......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T04:59:32.347

而不是使用`str.decode`，您应该尝试使用`binascii.unhexlify`. `decode`可能对换行符的翻译略有不同，例如它如何处理`'\r\n'`vs `'\n'`。

# java - 不使用 .put 方法添加到 Hashtable (java)

> ID：15715099
> 
> 赞同：2
> 
> 时间：2013-03-30T04:51:38.323
> 
> 标签：java, hashtable

我希望在不实现 Java api 类或方法的情况下创建 Hashtable 的 add 方法。这意味着我必须在不使用 mytable.put(key,value) 的情况下向 Hashtable 中的键添加值。谁能给我任何想法如何做到这一点。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:17:59.270

这会在不使用 mytable.put(key,value) 的情况下向键添加值

```
 Hashtable<Object, Object> myTable = new Hashtable<Object, Object>();
    for (Entry e : myTable.entrySet()) {
        if (e.getKey().equals(myKey) {
            e.setValue(myValue);
            break;
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:38:58.377

使用 putAll() 方法..

```
Map<String, Object> map = ...; // wherever you get it from //Using Map or Hashtable 

Map<String, Object> toBeAdded = new HashMap<String, Object>();  

for (Map.Entry<String, Object> entry : map.entrySet()) {  
    // Determine if you need to add anything, add it to 'toBeAdded'  
}  

// Finally, add the new elements to the original map  
map.putAll(toBeAdded); 
```

# express - 如何使用猫鼬和快递从复选框中保存布尔值？

> ID：15715102
> 
> 赞同：6
> 
> 时间：2013-03-30T04:52:07.347
> 
> 标签：express, mongoose

我想不出一个简单的方法来用 express 和 mongoose 保存布尔值。我有这个架构：

```
var ClientSchema = new Schema({
  name: {type: String, required: true, trim: true},
  active: {type: Boolean }
});

var Client = mongoose.mode('Client', ClientSchema); 
```

这是我的控制器

```
exports.new = function(req, res) {
  var client = new Client();
  res.render('clients/new', { item: client } );  
};

exports.create = function(req, res) {
  var client = new Client(req.body);

  client.save(function(err, doc) {
    if (err) {
      res.render('clients/new', { item: client });
    }
    ....
  });
}; 
```

这是我的观点

```
form(method='post', action='/clients', enctype='application/x-www-form-urlencoded')
  input(type='text', name='name', value=item.name)
  input(type='checkbox', name='active', value=item.active) 
```

Mongoose 能够映射 req.body 上的参数。在 var client = new Client(req.body) 行上，client 具有从 req.body 创建的属性名称，并具有从表单传递的正确值，但属性 active 不反映复选框状态。

我知道我可以在 var client = new Client(req.body) 之后添加这一行来解决这个问题，但我必须为我添加到表单中的每个复选框都这样做：

```
client.active = req.body.active == undefined ? false : true; 
```

**问题已编辑**

我不需要在 ruby​​ on rails 上做那个技巧。如何在不为每个复选框添加前一行的情况下使用复选框？这是从复选框中保存值的唯一方法，还是有其他选择？

**编辑**

我还有另一种以这种方式定义架构的情况

```
var ClientSchema = new Schema({
  name: {type: String, required: true, trim: true},
  active: {type: Boolean, default: true }
}); 
```

请注意，默认情况下 active 为 true，因此如果我取消选中该复选框，则 active 它将为 true，而不是 false。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-10T15:48:50.350

Ruby on rails 将在复选框字段旁边输出一个隐藏字段：

```
<input name="model_name[field_name]" type="hidden" value="false">
<input id="model_name_field_name" name="model_name[field_name]" type="checkbox" value="true"> 
```

这是为了解决未选中的复选框不会发送发布数据的事实。请参阅[<input type="checkbox" /> 是否仅在选中后才发布数据？](https://stackoverflow.com/questions/11424037/does-input-type-checkbox-only-post-data-if-its-checked)有关更多信息。

RoR 的诀窍是隐藏字段和复选框具有相同的`name`属性值。如果复选框被选中，复选框字段的值将作为发布数据发送，否则将发送隐藏字段的值。

在 RoR 版本 3.x 中肯定是这种情况

可以在此处找到有关此“问题”的更多信息：http: [//apidock.com/rails/ActionView/Helpers/FormHelper/check_box](http://apidock.com/rails/ActionView/Helpers/FormHelper/check_box)

你要么需要在你的节点应用程序中实现这种东西，要么`undefined`像以前一样检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-11-26T16:05:48.207

将您的架构布尔“活动”默认设置为 false。

保存新的客户文档时...

```
var data_in = req.body;
if( data_in.active ){
  data_in.active = true;
}
client = new Client( data_in ); 
```

然后像往常一样保存

# html - 如何通过 CSS “断线”？

> ID：15715104
> 
> 赞同：3
> 
> 时间：2013-03-30T04:52:15.293
> 
> 标签：html, css

假设我有一个呈现如下内容的 HTML 页面：

```
labelA [___INPUT-TEXT____] labelB [___INPUT-TEXT____] 
```

但是，我想在第二个标签上“打破界限”，例如：

```
labelA [___INPUT-TEXT____]
labelB [___INPUT-TEXT____] 
```

假设我无法更改 HTML 代码。我怎样才能用 CSS 做到这一点？

这是一个例子：

```
<html><head><style>
#labelA { display:block; }
#labelB { display:block; }
</style></head>
<body>
<label for="ia" id="labelA">labelA</label><input id="ia" type="text"/>
<label for="ib" id="labelB">labelB</label><input id="ib" type="text"/>
</body></html> 
```

任何帮助表示赞赏。

干杯，

* * *

编辑：我的意思是 ，`{ display: block; }`而不是`{inline:block}`，感谢您指出。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T04:53:15.907

使用`display: block;`代替，`inline: block;`我认为它应该做你想要的。

**编辑**没有仔细阅读您的问题。如果要将标签和文本输入组合在一起，可以使用以下内容：

```
label, input {
    float: left;
}

label {
    clear: left;
} 
```

...这是[一个更精致的 jsFiddle](http://jsfiddle.net/bdWRV/1/)演示，由 Tim Medora 提供

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T04:57:35.923

如果您可以使用，这是一种不明显的方法`:before`：

```
#labelB:before {
    white-space: pre;
    content: '\A';
} 
```

[http://jsfiddle.net/userdude/9AkMu/](http://jsfiddle.net/userdude/9AkMu/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T04:58:21.800

> 假设我无法更改 HTML 代码。我怎样才能用 CSS 做到这一点？

最简单的方法是将每个标签/输入对包装在一个`div`（或其他块元素，或样式为块元素的元素）中。但是，如果您无法更改 HTML...

演示：http: [//jsfiddle.net/bdWRV/](http://jsfiddle.net/bdWRV/)

```
#labelB:before{ content: ""; display: block; } 
```

这适用于 Chrome 25、Firefox 和 IE 9/10。在我看来，这是一种黑客行为。充其量，这并不理想。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T06:01:56.920

You have placed wrong statement `inline: block;` this should be `display: inline;` or `display: inline-block;` or `display: block;` like this `display` should be defined. I think you need to learn css more then go to w3school or search for css tutorial in google or perhaps may be you have placed `inline: block;` mistakenly. For your question, you need to define `display: block;` is okay as other answers.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-30T09:52:17.603

just simple use `<br />` but in your case, just simple used `float` using float is not guarantee unless you use `100%` width in your element

below example using `<br />`

```
<label for="ia" id="labelA">labelA</label><input id="ia" type="text"/><br />
<label for="ib" id="labelB">labelB</label><input id="ib" type="text"/> 
```

using float;

```
float:left;
width:100%; 
```

# java - 代码输出 NULL 而不是 value

> ID：15715112
> 
> 赞同：0
> 
> 时间：2013-03-30T04:53:05.830
> 
> 标签：java

该代码假设打印用户输入的名称，但它只是打印空值而不是打印实际名称。我正在使用数组来存储名称值。

```
import javax.swing.JOptionPane;

class PrintName {
    public static void main(String[] args) {

         int nameCount = Integer.parseInt(JOptionPane.showInputDialog(null, " how many NAMES you want to enter?"));
         String [] userFirstName = new String [nameCount];
         String [] userLastName = new String [nameCount];
         for (int i=0; i<nameCount; i++) {
             fullName(userFirstName[i], userLastName[i]);
         }

         for (int i=0; i<nameCount; i++) {
         JOptionPane.showMessageDialog(null, userFirstName[i] + "\n" + userLastName[i]);
    }

    public static void fullName (String firstName, String nLastName) {
        firstName = JOptionPane.showInputDialog(null, "What's your first name?");
        nLastName = JOptionPane.showInputDialog(null, "What's your last name?");
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T04:57:24.237

那是因为您输入和获取的名称`fullName()`并未反映在实际数组`userFirstName`中，`userLastName`.

原因是，它是一个`pass by value`. 您将`userFirstName[i]`每次（实际上是`null`）的副本传递给您的`fullName()`方法，并在那里修改本地副本。`firstName`对阵列所做的更改`nLastName`不会反映回您的`userFirstName`阵列。

你可以做的一件事来解决它。

```
for (int i = 0; i < nameCount; i++) {
    userFirstName[i] = JOptionPane
                    .showInputDialog(null, "What's your first name?");
    userLastName[i] = JOptionPane.showInputDialog(null, "What's your last name?");
} 
```

在循环中获取`main()`方法中的值。`for`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T05:05:33.720

I think that happen because you change the value and not the value pointer, change the firm of fullName for this:

```
public static void fullName (String[] firstName, String[] nLastName, int i) {
    firstName[i] = JOptionPane.showInputDialog("What's your first name?");
    nLastName[i] = JOptionPane.showInputDialog("What's your last name?");
} 
```

And now you can call the function with this way:

```
fullName(userFirstName, userLastName, i); 
```

I hope this works for you :)

# kinect-sdk - Automatic Tilt Kinect sensor According to head position

> ID：15715114
> 
> 赞同：1
> 
> 时间：2013-03-30T04:53:19.173
> 
> 标签：kinect-sdk

How to tilt the Kinect sensor according to the head position

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T15:03:23.643

The two functions that will allow you to detect clipping of the skeleton are:

*   [FrameEdges Enumeration](http://msdn.microsoft.com/en-us/library/microsoft.kinect.frameedges.aspx)
*   [Skeleton.ClippedEdges](http://msdn.microsoft.com/en-us/library/microsoft.kinect.skeleton.clippededges.aspx)

Depending on how your application is operation you can monitor either one of these and, when clipping of the `Skeleton` is detected, adjust the [KinectSensor.ElevationAngle](http://msdn.microsoft.com/en-us/library/microsoft.kinect.kinectsensor.elevationangle.aspx) accordingly.

# python - python PostgreSQL单元测试未完成执行

> ID：15715123
> 
> 赞同：0
> 
> 时间：2013-03-30T04:55:08.220
> 
> 标签：python, postgresql, sqlalchemy, psycopg2, nose

我有单元测试

```
class TestUser(TestCase):
    def setUp(self):
        print 'setting db up'
        db.create_all()

    def test_new_user(self):
        user = User('test_new_user@none.com', 'welcome')
        db.session.add(user)
        db.session.commit()
        users_in_db = User.query.all()
        self.assertEquals(1, len(users_in_db))
        self.assertEquals(user.email, users_in_db[0].email)
        self.assertEquals(user._password, users_in_db[0]._password)
    def tearDown(self):
        print 'destroying db'
        db.drop_all() 
```

当我在命令行上运行它时，我看到

```
python -m unittest discover
secret key: test secret key
db url: postgresql+psycopg2://testuser:testpasswd@localhost/mydb
setting db up
destroying db 
```

但它永远不会出来，继续挂，我做错了什么？我是 python 单元测试的新手，当我必须连接到数据库时不知道如何测试。请指教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:48:43.443

在挣扎了一段时间并环顾四周之后，以下内容开始为我工作。它效率低下，因为它会删除所有表并为每个测试再次创建它们，但现在根据用例，它很好，稍后将添加优化。

正如 Donald Knuth 所说

> “过早优化是万恶之源”

```
class TestUser(TestCase):
    def setUp(self):
        db.create_all()

    def session_commit(self):
        try:
            db.session.commit()
        except:
            db.session.rollback()
        finally:
            pass

    def test_new_user(self):
        """
        test that new user is persisted in database
        """
        user = User('test_new_user@none.com', 'welcome')
        db.session.add(user)
        self.session_commit()
        users_in_db = db.session.query(User).all()
        self.assertEquals(1, len(users_in_db))
        self.assertEquals(user.email, users_in_db[0].email)
        self.assertEquals(user._password, users_in_db[0]._password)

    def tearDown(self):
        db.session.close()
        for tbl in reversed(db.metadata.sorted_tables):
            db.engine.execute(tbl.delete()) 
```

# apache - 如何通过 Apache 代理通过 http 和 https 服务 node/express 应用程序？

> ID：15715124
> 
> 赞同：2
> 
> 时间：2013-03-30T04:55:20.817
> 
> 标签：apache, node.js, express

我正在使用 node/express 创建一个 Web 应用程序，我想使用 http 和 https 在本地将其作为虚拟主机进行测试。`http://localhst:3080`目前我的快速应用程序正在通过端口 3080 和 3443（例如：和）在 http 和 https 上进行监听并正常工作`https://localhost:3443`。

然后我使用以下代码通过 apache 创建了 vhost：

```
<VirtualHost *:80>
 ServerName mynodedomain.com
 ServerAlias www.mynodedomain.com

 ProxyRequests off

 <Proxy *>
      Order deny,allow
      Allow from all
 </Proxy>

 <Location />
       ProxyPass http://localhost:3080/
       ProxyPassReverse http://localhost:3080/
 </Location>
 DocumentRoot "/Library/WebServer/Documents/mynodedomain.com/webapp/public"
 ErrorLog "/private/var/log/apache2/mynodedomain.com-error_log"
 CustomLog "/private/var/log/apache2/mynodedomain.com-access_log" common
</VirtualHost> 
```

它工作正常，我可以通过`http://mynodedomain.com`. 我想要做的是我应该能够通过访问该站点`https://mynodedomain.com`并且它应该被转发到`http://localhost:3443/`. 我尝试了以下方式

```
 <VirtualHost *:443>
 ServerName mynodedomain.com
 ServerAlias www.mynodedomain.com

 ProxyRequests off

 <Proxy *>
      Order deny,allow
      Allow from all
 </Proxy>

 <Location />
       ProxyPass https://localhost:3443/
       ProxyPassReverse https://localhost:3443/
 </Location>
 DocumentRoot "/Library/WebServer/Documents/mynodedomain.com/webapp/public"
 ErrorLog "/private/var/log/apache2/mynodedomain.com-error_log"
 CustomLog "/private/var/log/apache2/mynodedomain.com-access_log" common
</VirtualHost> 
```

但它不起作用。你能告诉我一个正确的方法吗？谢谢你

# wordpress - WordPress 灯箱弹出窗口正在本地主机上运行， 但不在实时服务器上

> ID：15715126
> 
> 赞同：0
> 
> 时间：2013-03-30T04:55:44.710
> 
> 标签：wordpress

```
<?php   
    class fppopupcontent {

        function __construct() {
            require_once('inc/init.php');

            if(isset($_POST['reset'])) {
                add_action('admin_init',array($this,'fppopupcontentreset'));
            }
        }

        function fppopupcontentadmin() {
            add_submenu_page('options-general.php','Fantastic Popup Content', 'Fantastic Popup Content', 'manage_options','fppopupcontentadmin', 'fppopupcontentadmin_menu');
        }

        function fppopupcontentupdate() {
            register_setting('fppopup','fppopupcontent');
            register_setting('fppopup','fppopuptitle');
            register_setting('fppopup','fppopupdays');
        }

        function fppopupcontentregister() {
            add_option('fppopupdays',0);    
        }

        function fppopupcontentreset() {
            delete_option('fppopuptitle');
            delete_option('fppopupcontent');
            delete_option('fppopupdays');
            add_option('fppopupdays','0');
            fppopupcontent::fppopupcontentmail();
        }

        function fppopupcontentprocess() {
            $plugin_dir = plugin_dir_url(__FILE__);

            wp_enqueue_script('jquery');
            wp_register_style('fp_style', $plugin_dir . 'css/home.css');
            wp_enqueue_style('fp_style');
            wp_register_script('fpquery_cookie', $plugin_dir . 'js/cookies.js');
            wp_enqueue_script('fpquery_cookie');
        }

        function fppopupcntnt() {
            if(is_home()) {
                ?>
                    <div id="fppop">
                        <div id="fp-close"></div>
                        <div id="fppopcnt">
                            <div id="fpclose" style="position:fixed;margin-left:-7px;"></div>
                            <div style="margin-left:50px">
                                <h1 style="font-size:24px"><?php echo get_option('fppopuptitle');?></h1>
                                <hr />
                                <?php $options=get_option('fppopupcontent'); ?>
                                <?php echo $options['textarea'] ; ?>
                            </div>
                        </div>
                    </div>
                <?php
            }
        }

        function fppopupprcss() {
            ?>
                <script type="text/javascript">
                    jQuery(document)
                        .ready(function($){
                            if($.cookie('popup_user_login')!='yes'){
                                $('#fppop')
                                    .delay(100)
                                    .fadeIn('medium');
                                $('#fpclose, #fp-close')
                                    .click(function(){
                                        $('#fppop')
                                            .stop()
                                            .fadeOut('medium')
                                    })
                            }
                            $.cookie(
                                'popup_user_login',
                                'yes',
                                {
                                    path:'/',
                                    expires:<?php echo (get_option('fppopupdays')); ?>
                                }
                            )
                        });
                </script>
            <?php
        }
    }

    add_filter('wp_footer',array('fppopupcontent','fppopupcntnt'));
    add_filter('wp_head', array('fppopupcontent','fppopupprcss'));
    add_action('wp_enqueue_scripts',array('fppopupcontent','fppopupcontentprocess'));
    //add_action('wp_print_styles',array('fppopupcontent','fppopupcontentprocess'));
    add_action('admin_menu',array('fppopupcontent','fppopupcontentadmin'));
    add_action('admin_init',array('fppopupcontent','fppopupcontentupdate'));
    register_activation_hook(__FILE__,array('fppopupcontent','fppopupcontentregister'));
    $new = new fppopupcontent();
?> 
```

我创建了一个示例弹出插件。

在上面的代码中，它在 localhost 中运行良好。但是当我在实时站点中使用它时，它不起作用。

如果我使用 FireBug 查看，代码就会出现，但 CSS 设置为`display:none`.

我尝试将 CSS 更改为`display:block`，然后它会显示，但是当我单击关闭按钮时它不会关闭。

我不知道我做错了什么。如果有人可以就如何做到这一点给我建议，那就太好了。

以下是我用于弹出窗口的 css：

```
#fppop {
    display: block;
    background:color: #666;
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 99999;
}

#fp-close {
    width: 100%;
    height: 100%
}

#fppopcnt {
    background: white;
    width: 600px;
    height: 400px;
    position: absolute;
    top: 220px;
    left: 630px;
    -webkit-box-shadow: inset 0 0 50px 0 #939393;
    -moz-box-shadow: inset 0 0 50px 0 #CCC;
    box-shadow: inset 0 0 50px 0 #CCC;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
    margin: -135px 0 0 -210px;
    overflow: scroll;
}

#fpclose {
    float: left;
    cursor: pointer;
    background: url(../images/fanclose.png) repeat;
    height: 15px;
    padding: 20px;
    position: relative;
    padding-right: 40px;
    margin-top: -20px;
    margin-right: -22px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:12:51.907

1**一般**

不同的 PHP 版本或环境设置可能会解释为什么您会得到不同的结果。例如，下面的错误可能会以不同的方式处理？

检查本地主机和实时服务器的 PHP 版本和 WP 版本。

* * *

2 **你的显示问题**

我不知道这是否相关，但您的代码中有以下错误：

1.  课程结束后的额外`}`关闭（即在`add_filter(...)`靠近底部的行之前
2.  没有开始`<?php`标签。

虽然 2 和 3 可能只是因为上面有代码，但您没有包括在内。

*编辑：您现在已经通过外观清除了这些错误。*

* * *

3 **您的关闭按钮**

*编辑：抱歉，我上次忽略了包含此代码的硬编码脚本标签。*

以下代码与您的关闭按钮相关联：

```
jQuery(document)
    .ready(function($){
        if(jQuery(document)
.ready(function($){
    if($.cookies('popup_user_login')!='yes'){
        $('#fppop')
            .delay(100)
            .fadeIn('medium');
        $('#fpclose, #fp-close')
            .click(function(){
                $('#fppop')
                    .stop()
                    .fadeOut('medium')
            })
    }
    $.cookies(
        'popup_user_login',
        'yes',
        {
            path:'/',
            expires:<?php echo (get_option('fppopupdays')); ?>
        }
    )
});){
            $('#fppop')
                .delay(100)
                .fadeIn('medium');
            $('#fpclose, #fp-close')
                .click(function(){
                    $('#fppop')
                        .stop()
                        .fadeOut('medium')
                })
        }
        $.cookies(
            'popup_user_login',
            'yes',
            {
                path:'/',
                expires:<?php echo (get_option('fppopupdays')); ?>
            }
        )
    }); 
```

因此`fpclose`，`fp-close`除非`$.cookies('popup_user_login')!='yes'`.

您包括`cookies.js`在您的 WP`enqueue_script()`调用中......但您是否确认 a) 此引用包含在发出的 HTML 中？b) 该`.cookies()`方法实际上在您调用它的 HTML 中可用？c) 你引用的 cookie 确实存在？

# jquery - Jquery Tablesorter 不工作！那有什么问题？

> ID：15715127
> 
> 赞同：9
> 
> 时间：2013-03-30T04:56:03.013
> 
> 标签：jquery, tablesorter

我是 Jquery 的新手，我正在尝试使用 Jquery Tablesorter 插件，我已经在一个简单的 html 文件中对其进行了测试，如下所示，但它不起作用。我在浏览器中看到的只是一个没有排序的普通表格，没有可点击的标题，它看起来不像我在 Jquery Tablesorter 主页上看到的那样。我不知道我的html有什么问题。我已将 2 个 jquery 文件与此 html 文件放在同一文件夹中。请指教！

```
<html>
<head>
<script type="text/javascript" src="jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="jquery.tablesorter.js"></script> 
<script type="text/javascript">
$(document).ready(function() 
    { 
         $("#myTable").tablesorter( {sortList: [[0,0], [1,0]]} ); 
    } 
); 
</script>
</head>
<body>  
<table id="myTable" class="tablesorter"> 
<thead> 
<tr> 
    <th>Last Name</th> 
    <th>First Name</th> 
    <th>Email</th> 
    <th>Due</th> 
    <th>Web Site</th> 
</tr> 
</thead> 
<tbody> 
<tr> 
    <td>Smith</td> 
    <td>John</td> 
    <td>jsmith@gmail.com</td> 
    <td>$50.00</td> 
    <td>http://www.jsmith.com</td> 
</tr> 
<tr> 
    <td>Bach</td> 
    <td>Frank</td> 
    <td>fbach@yahoo.com</td> 
    <td>$50.00</td> 
    <td>http://www.frank.com</td> 
</tr> 
<tr> 
    <td>Doe</td> 
    <td>Jason</td> 
    <td>jdoe@hotmail.com</td> 
    <td>$100.00</td> 
    <td>http://www.jdoe.com</td> 
</tr> 
<tr> 
    <td>Conway</td> 
    <td>Tim</td> 
    <td>tconway@earthlink.net</td> 
    <td>$50.00</td> 
    <td>http://www.timconway.com</td> 
</tr> 
</tbody> 
</table> 
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-30T05:23:30.193

这是工作小提琴链接。您忘记添加我在 jsfiddle 的外部资源中添加的 and `tablesorter js`。`tablesorter css`你可以检查一下。

[http://jsfiddle.net/BKgue/2/](http://jsfiddle.net/BKgue/2/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-10-05T02:39:34.977

注意`<th>`内部`<tr>`而不是`<td>`这阻止它为我工作。

```
 <thead>
    <tr>
       <th>column 1</th>
    <tr>
</thead> 
```

表格排序器也不需要css来工作。如果您想保持自己的格式，但又希望显示小箭头，则只需要以下代码。并将tablesorter提供的3箭头gif复制粘贴到与css文件相同的文件夹中。如果你愿意，或者你自己的箭头 gif。

```
table.tablesorter thead tr .header {
    background-image: url(bg.gif);
    background-repeat: no-repeat;
    background-position: center right;
    cursor: pointer; 
}
table.tablesorter thead tr .headerSortUp {
    background-image: url(asc.gif);
}
table.tablesorter thead tr .headerSortDown {
    background-image: url(desc.gif);
} 
```

# html - 只有最后一个 CSS3 子菜单完全可访问

> ID：15715132
> 
> 赞同：1
> 
> 时间：2013-03-30T04:57:46.840
> 
> 标签：html, css, drop-down-menu, submenu

我正在尝试让这个 CSS3 菜单与每个项目的多个子菜单一起使用（请参阅下面的 url）

尝试访问 View -> Messages -> Messages 或以下是不可能的。

如何修复它，以便我可以继续通过子菜单的第一行，然后是另一行？菜单可能已全部加载，但只有 :hover-ed 可见？

[http://jsfiddle.net/wJDzY/1/](http://jsfiddle.net/wJDzY/1/)

谢谢！

`

```
.menu,
.menu ul,
.menu li,
.menu a {
    margin: 0;
    padding: 0;
    border: none;
    outline: none;
}

/* Menu */
.menu { 
    height: 40px;
    width: 100%;

    background: #4c4e5a;
    background: -webkit-linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);
    background: -moz-linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);
    background: -o-linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);
    background: -ms-linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);
    background: linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);

    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
}

.menu li {
    position: relative;
    list-style: none;
    float: left;
    display: block;
    height: 40px;
}

/* Links */

.menu li a {
    display: block;
    padding: 0 14px;
    margin: 6px 0;
    line-height: 28px;
    text-decoration: none;

    border-left: 1px solid #393942;
    border-right: 1px solid #4f5058;

    font-family: Helvetica, Arial, sans-serif;
    font-weight: bold;
    font-size: 13px;

    color: #f3f3f3;
    text-shadow: 1px 1px 1px rgba(0,0,0,.6);

    -webkit-transition: color .2s ease-in-out;
    -moz-transition: color .2s ease-in-out;
    -o-transition: color .2s ease-in-out;
    -ms-transition: color .2s ease-in-out;
    transition: color .2s ease-in-out;
}

.menu li:first-child a { border-left: none; }
.menu li:last-child a{ border-right: none; }

.menu li:hover > a { color: #8fde62; }

/* Sub Menu */

.menu ul {
    position: absolute;
    top: 40px;
    left: 0;

    opacity: 0;
    background: #000;

    -webkit-border-radius: 0 0 5px 5px;
    -moz-border-radius: 0 0 5px 5px;
    border-radius: 0 0 5px 5px;

    -webkit-transition: opacity .25s ease .1s;
    -moz-transition: opacity .25s ease .1s;
    -o-transition: opacity .25s ease .1s;
    -ms-transition: opacity .25s ease .1s;
    transition: opacity .25s ease .1s;
}

.menu li:hover > ul { opacity: 1; }

.menu ul li {
    height: 0;
    overflow: hidden;
    padding: 0;

    -webkit-transition: height .25s ease .1s;
    -moz-transition: height .25s ease .1s;
    -o-transition: height .25s ease .1s;
    -ms-transition: height .25s ease .1s;
    transition: height .25s ease .1s;
}

.menu li:hover > ul li {
    height: 36px;
    overflow: visible;
    padding: 0;
}

.menu ul li a {
    width: 100px;
    padding: 4px 0 4px 40px;
    margin: 0;

    border: none;

}

.menu ul li:last-child a { border: none; }

.menu ul ul{
    position: absolute;
    top: 0;
    left: 90%;

    opacity: 0;

    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;

    -webkit-transition: opacity .25s ease .1s;
    -moz-transition: opacity .25s ease .1s;
    -o-transition: opacity .25s ease .1s;
    -ms-transition: opacity .25s ease .1s;
    transition: opacity .25s ease .1s;
}

.menu ul ul:after { right: 100%; border: solid transparent; content: " "; height: 0; width: 0; position: absolute; pointer-events: none; } 

.menu ul ul:after { border-color: rgba(0, 0, 0, 0); border-right-color: #000; border-width: 8px; top: 20px; margin-top: -8px; }

/* Icons */

.menu a.documents { background: url(http://designmodo.com/demo/css3dropdownmenu/img/docs.png) no-repeat 6px center; }
.menu a.messages { background: url(http://designmodo.com/demo/css3dropdownmenu/img/bubble.png) no-repeat 6px center; }
.menu a.signout { background: url(http://designmodo.com/demo/css3dropdownmenu/img/arrow.png) no-repeat 6px center; }                                

<ul class="menu">

    <li><a href="#">My dashboard</a></li>
    <li><a href="#">Likes</a></li>
    <li><a href="#">Views</a>

        <ul>
            <li><a href="#" class="documents">Documents</a></li>
            <li><a href="#" class="signout">Messages</a> <ul>
                    <li><a href="#" class="documents">Documents</a></li>
                    <li><a href="#" class="messages">Messages</a></li>
                    <li><a href="#" class="signout">Sign Out</a></li>
                </ul>
            </li>
            <li><a href="#" class="signout">Views</a>

            <ul>
                <li><a href="#" class="documents">Documents</a></li>
                <li><a href="#" class="signout">Messages</a>
                     <ul>
                    <li><a href="#" class="documents">Documents</a></li>
                    <li><a href="#" class="messages">Messages</a></li>
                    <li><a href="#" class="signout">Sign Out</a></li>
                </ul>
                </li>
                <li><a href="#" class="signout">Views</a>

                <ul>
                    <li><a href="#" class="documents">Documents</a></li>
                    <li><a href="#" class="messages">Messages</a></li>
                    <li><a href="#" class="signout">Sign Out</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>

    </li>
    <li><a href="#">Uploads</a></li>
    <li><a href="#">Videos</a></li>
    <li><a href="#">Documents</a></li>

</ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:00:13.187

请参见此处更新的代码第二个子列表的问题。因此，您需要将 class 和 css 添加到第一个 li 之后的第二个 li。看我的例子，我希望你能更好地理解它的工作原理。

```
--------------CSS------------------
.SubMenu2 ul { display:none;}        
li.SubMenu2:hover > ul{ display:block; }    

-------------HTML------------------
    <ul class="menu">
    <li><a href="#">My dashboard</a></li>
    <li><a href="#">Likes</a></li>
    <li><a href="#">Views</a>

        <ul>
            <li><a href="#" class="documents">Documents</a></li>
            <li><a href="#" class="signout">Messages</a>
                <ul>
                    <li><a href="#" class="documents">Messages1</a></li>
                    <li><a href="#" class="messages">Messages2</a></li>
                    <li><a href="#" class="signout">Messages3</a></li>
                </ul>
            </li>
            <li id="SubMenu2"><a href="#" class="signout">Views</a>
                <ul>
                    <li><a href="#" class="documents">Viewsub1</a></li>
                    <li><a href="#" class="messages">Viewsub2</a></li>
                    <li><a href="#" class="signout">Viewsub3</a></li>
                </ul>
            </li>
        </ul>
    </li>
    <li><a href="#">Uploads</a></li>
    <li><a href="#">Videos</a></li>
    <li><a href="#">Documents</a></li>
    </ul>  

    <li><a href="#">Uploads</a></li>
    <li><a href="#">Videos</a></li>
    <li><a href="#">Documents</a></li> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:29:11.187

You can not go to View -> Messages -> Messages, because you used opacity to hide and show ul. Element doesn't get disappear, It just hidden. So when you go to View -> Messages -> Messages the below element views > views > ul shows. If you will use display rather than opacity you will get right result.

I have changed opacity with display and hope this will help you. [Check this fiddle](http://jsfiddle.net/wJDzY/3/)

```
.menu ul {
display: none;
}
.menu li:hover > ul {
display: block;
} 
```

# .net - 切换屏幕时 XNA 4.0 出现紫屏 - 后缓冲数据消失（很可能？）

> ID：15715138
> 
> 赞同：1
> 
> 时间：2013-03-30T04:58:45.713
> 
> 标签：.net, xna, screen

我正在和朋友一起尝试 XNA 4.0，我们正在实现一个游戏，暗示切换屏幕，常见的东西，如 MainMenu、GamingScreen、MultiplayerScreen 等。

我遇到的问题是，仅在我的 Windows7 塔上，而不是在我朋友的任何计算机上，从 MainMenu 切换屏幕时出现紫屏死机。我将以去 GamingScreen 为例。

我们的 Game1 有一个 currentScreen (ENUM WhichScreen) 属性。它从 MainMenu 开始，在每次 Draw 和每次 Update 时，我们打开 currentScreen 以选择在哪个屏幕上调用 Draw 和 Update。因此`Game1.Update`，`Game1.Draw`它可能按如下顺序排列：

```
MainMenuScreen.Draw
MainMenuScreen.Update
GamingScreen.Draw
GamingScreen.Update
GamingScreen.Draw 
```

在 MainMenuScreen `s update, its components (homemade class) are updated, and it happens that`Game1.currentScreen` 从 MainMenu 更改为 Gaming。

但是由于某种原因，`Draw()`最准确地说是在`EndDraw()` （据我所知， `GraphicsDevice.Present`），屏幕变成紫色。

我尝试了很多方法来调试和解析这些论坛，但无济于事。暂停抽奖（例如等待 GamingScreen 更新）是不够的，因为屏幕会再次变为紫色。

重要提示：我已将其设置为 MainMenuScreen Draws AND GamingScreen Updates before GameingScreen dars。发生的事情很奇怪：是MainMenu的Draw导致了紫屏！

所以我的观点是：从更新中的点击部分到`EndDraw()`某个时间点，在 GamingScreen 甚至进入任何操作之前，后台缓冲区会无缘无故地自行拧紧。

当屏幕变成紫色时，我检查并检测到它`this.UponDeactivate()`被调用。但是调用 a`this.UponActivate()`并没有帮助我。

在出现紫色屏幕后： - 在 Game1 -> GamingScreen 上仍然成功调用更新，甚至翻过隐藏在紫色作品下的按钮（我听到按钮悬停的声音） - 也调用了 Draws，但没有成功，因为屏幕保持紫色。- 最小化窗口并重新打开它可以去除紫色并使其正常工作。这听起来很重要，这就是我打电话的原因`this.UponActivate()`。

总结一下，我不知道是什么导致后台缓冲区因为空而发疯。它必须通过单击按钮进行更改，但奇怪的部分是如何仅单击就已经搞砸了屏幕。

很难为您提供重要部分的类之间调用的所有代码。在 changeGameState 之后，按钮完成了他的 execute()，然后它的面板完成了更新，然后大面板自己更新了另一个面板。然后，我们回到 Game1 的代码，它简单地以结束`Update()`（`base.Update()`我也尝试将`base.Update()`Update 放在顶部，但无济于事），然后转到 BeginDraw。稍后，`EndDraw()`清空屏幕。

调用 base.Update的顺序（Draw 的第一个或 Draw 的 laft、Update 的第一个或最后一个`Update()`）是否重要？--> 是什么导致后台缓冲区像这样发疯？哦，上帝，可以在`Draw()`之前和`Update()`完成之前拨打电话吗？还是其他`Update()`的？

非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:10:05.830

**紫色屏幕表示未初始化的缓冲区。**

调用`SetRenderTarget`（包括 with `null`，后缓冲目标）将清除您设置为紫色的目标，除非该目标已`RenderTargetUsage.PreserveContents`在其上设置（这会影响性能）。

通常，您希望设置渲染，以便首先渲染渲染目标，然后渲染后备缓冲区。永远不要换回您之前绘制的缓冲区。

前后缓冲区一开始也是紫色的。因此，即使您没有使用渲染目标，如果您将缓冲区交换到前面（使用`Present`, from `EndDraw`）而不实际绘制它，您也会看到这一点。

# php - Facebook PHP SDK 上传图片 - 图片路径

> ID：15715142
> 
> 赞同：1
> 
> 时间：2013-03-30T04:59:23.017
> 
> 标签：php, facebook, facebook-php-sdk

在网站上提供选项以单击并在 facebook 上上传图像：搜索后得到此代码

```
$pic = $_GET['PhotoID']; //example: http//www.mysite.com/content/2013/03/image.jpg
copy($pic, 'tmp/file.jpg');
$args['image'] = '@' . realpath('tmp/file.jpg');
$publish = $facebook->api('/me/photos', 'post', $args);
unlink('tmp/file.jpg'); 
```

这段代码工作正常。但是将图像复制到 tmp 需要一些时间，我想加快这个过程。（仅从我的网站上传图片，没有外部图片）

如何在不复制到 temp 的情况下使用此代码：

```
 $pic = $_GET['PhotoID']; //example: http://www.mysite.com/content/2013/03/image.jpg
    $args['image'] = '@' . realpath('$pic');
    $publish = $facebook->api('/me/photos', 'post', $args); 
```

不确定“@”和 realpath 的用法我可以在不使用 realpath 的情况下使用完整的图像 url：

```
`$args['image'] = $pic;
        $publish = $facebook->api('/me/photos', 'post', $args);` 
```

＆如果用户 dnt 授权应用程序，显示错误消息的最佳方式是什么。或诸如致命错误之类的错误：发生未捕获的 OAuthException

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:13:06.123

您不需要将图像复制到`/tmp`. 您可以通过在参数中提供图片网址本身来直接上传图片。下面的代码应该工作：

```
$picUrl = 'http//www.mysite.com/content/2013/03/image.jpg';
$photoId = $facebook->api("me/photos","POST",array('url'=>$picUrl,'message'=>"status message") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:09:49.603

我在我的应用程序中做了同样的事情，请继续使用这个.. 确保您拥有 publish_stream 权限

```
$attachment = array(
                'message' => 'Message',
                'name' =>'your app name',
                'caption' => "caption under the image",
                'link' => 'your link',
                'description' => 'description regarding the image',
                'picture' => 'path of the picture(doesnt work for the local path, should be server path)',
                'method'=>'stream.publish',
                'actions' => array(
                                array(
                                  'name' => 'App name',
                                  'link' => 'your app link'
                                )
                            )
                ); 
```

然后

```
$result = $facebook->api('/'.$uid.'/feed/','post',$attachment); 
```

这里 $uid 是您的 facebook 用户 ID，您可以从 facebook 配置文件中获取

```
$facebook = new Facebook('configure your facebook config file here');    
$my_details = $facebook->api('/me');
$uid = $my_details['id'];  // id of the user 
```

# string - 读取多个文本文件

> ID：15715149
> 
> 赞同：0
> 
> 时间：2013-03-30T05:00:27.217
> 
> 标签：string, file-io

我有一个代码：

```
`int main() {
 int year;

for (year=1880; year<=2011; year++) {
stringstream ss;
ss << year;

string birth = ss.str();

ifstream yob("yob"birth".txt");
}

}` 
```

我想用这个 for 循环读取 130 个文本文件，每个文本文件看起来像“yob1880.txt”或“yob1975.txt”等。我知道 ifstream yob("yob"birth".txt") 没有我只是想说明我想做的事情。如何将字符串“yob”添加到字符串年份和字符串“.txt”？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:09:13.083

使用`stringstream`. 然后，您可以构建一个字符串并调用`ss.str()`它来检索该字符串。例如，

```
std::stringstream ss;
int n = 5;
ss << "file" << n << ".txt";
std::cout << ss.str() << std::endl; 
```

这将写入`file5.txt`标准输出。

编辑：刚刚检查了文档，它看起来像 std::ifstream 需要一个 C 字符串，而不是 a `std::string`，所以你应该调用`c_str()`结果字符串，例如，

```
std::ifstream file(ss.str().c_str()); 
```

# jquery - 自动完成时 JavaScript 变量的范围

> ID：15715151
> 
> 赞同：0
> 
> 时间：2013-03-30T05:00:35.420
> 
> 标签：jquery, ajax, autocomplete

我有一个如下所示的自动完成代码。它从 ajax 成功获得正确的响应，但我不能在它下面的 grep 函数上使用响应变量。它说它是未定义的。如果我要使用全局变量，这种情况也是有效的。我怎样才能看到响应变量？

```
$( ".skl" ).autocomplete({
             source: function(req, responseFn) 
             {
                var re = $.ui.autocomplete.escapeRegex(req.term);
                var matcher = new RegExp( "^" + re, "i");
                var matcher2 = new RegExp( " " + re, "i" );

                $.ajax({
                    type: 'POST',
                    url: "http://somepage",
                    data: { skillType: 1, skillName: re},
                    success: function( response){
                        console.log(response);
                    }
                });

                var a = $.grep( availableTags, function(item,index){
                    return matcher.test((item)) || matcher2.test(item);
                });
                //var results = $.ui.autocomplete.filter(availableTags, req.term);
                responseFn( a.slice( 0,5) );

            },

            minLength: 1,
            autoFocus: true
        }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:07:49.910

`ajax`是异步的。这意味着它将在加载内容之前立即继续运行您的代码（这是一件非常非常好的事情）。

您需要`grep`在成功函数中移动代码以及使用结果的任何其他内容。“睡眠”函数（JavaScript 中不存在这样的东西，所以我持怀疑态度）对您没有帮助，因为 JavaScript 在当前函数完成执行之前不会运行其排队的事件。这意味着ajax*不可能*在仍在运行您的`autocomplete`函数的同时完成，即使您忙于等待（无论如何，这是一件可怕的、可怕的事情）。

由于您似乎需要响应才能在`source`函数中返回值，因此您需要改变思考事物的方式。例如，可以在内容更改时发送请求，其`success`功能将*触发*列表项的更新。这也更具有概念意义。

# python - os.walk() 结果类型

> ID：15715152
> 
> 赞同：1
> 
> 时间：2013-03-30T05:00:35.617
> 
> 标签：python, tuples, os.walk

我有一个包含数千个文件的文件夹。我需要将每个文件的文件名与另一个数组中的列匹配。

```
import os

filenames = []
for files in os.walk("Directory"):
    filenames.append(files) 
```

我现在有一个目录中每个文件名的元组。我现在想要的是拼接元组的每个元素，并将其添加到一个新数组中。我的代码与此类似：

```
files = []
for i in filenames:
    files.append(i[2:7]) 
```

我收到错误消息“AttributeError：'tuple' 对象没有属性'append'。” 在这里搜索后，我尝试了其他命令，例如加入。我尝试将文件名转换为列表。

即使我这样说：

```
filenames[0] 
```

期望只得到第一个字符串结果，它返回整个文件名数组。有没有办法解决？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T05:10:29.597

`os.walk`返回一个 3 元组：`root, dirs, files`

文档[在这里](http://docs.python.org/2/library/os.html#os.walk)

您可以使用列表推导来实现基于文件名的拆分。

```
filenames = reduce(lambda x,y: x+y, [files for root, dirs, files in os.walk('.')])
files = [name[2:7] for name in filenames] 
```

Here are the explanations: Lambda functions are anonymous functions. You do not return anything. The definition contains expressions which are returned. This is powerful in processing dynamically generated data.

`reduce()` a.k.a "worker function" accepts two arguments. The function is called with first two elements of the list, then with the result of these, the third element, and so on. The return value is a single list

There are loads of documentation around this online.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-30T23:38:56.637

I actually needed to include the path in the filenames and found this useful using list expressions. Since this helped me, I wanted to add the solution that gives a list with the full path:

```
onlyfiles = reduce(lambda x,y : x+y, [map(lambda x: root + "/" + x, files) for root, dirs, files in os.walk(mypath)]) 
```

# java - Android SQLite OnUpgrade 错误

> ID：15715155
> 
> 赞同：0
> 
> 时间：2013-03-30T05:01:01.053
> 
> 标签：java, android, sqlite, upgrade

我目前正在为 android 应用程序使用 sqlite 数据库。

首先，我想知道是否有适当的方法可以根据新信息升级 sqlite 数据库。目前，我将我的信息存储在一个文本文件中，第一行是数据库的行数。我读了第一行，看看数据库中有多少行。如果文本文件中有更多行，那么我升级数据库并将所有内容再次添加到数据库中。

这是我目前的代码：

```
try {
        InputStream is = getResources().getAssets().open("Questions");
        BufferedReader reader = new BufferedReader(new InputStreamReader(is));
        AssistedMemDB db = new AssistedMemDB(this);
        db.open();
        int tempNum = db.getNumber();
        String line = "";
        line = reader.readLine();
        if (Integer.decode(line) > tempNum) {
            db.close();
            db.upgrade();
            db.open();
            while ((line = reader.readLine()) != "") {
                String list[] = line.split("\\<>");
                db.createEntry(list[0], list[1]);
            }
        }
        db.close();
    } catch (IOException e) {
        e.printStackTrace();
    } 
```

我收到一条错误消息：

java.lang.IllegalStateException：尝试重新打开一个已经关闭的对象：SQLiteDatabase

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:03:09.597

You don't upgrade a database to add new rows to it. You upgrade a database when you have new tables or new columns to add. When adding rows, you just do an insert and put the new data in with the old data.

Also, the db helper automatically takes care of calling onUpgrade for you. All you have to do it increment the db version when you want to change the schema.

# twitter-bootstrap - 剑道数据源分页

> ID：15715156
> 
> 赞同：0
> 
> 时间：2013-03-30T05:01:03.540
> 
> 标签：twitter-bootstrap, asp.net-mvc-4, datatable, kendo-ui

我在我的 MVC 项目中使用数据表进行排序和分页。所以分页和排序是有效的。

**现在的问题是——**

我已经展示`pagesize:5`了数据表。它每页显示 5 行，但不显示`pagenumbers`. 如何使用 kendo 数据源显示分页以显示下一个页码的下 5 个数据行。

看看我的代码——

```
 var template = kendo.template($("#template").html());

    // To Do Item Data
    // ---------------

    // Build the data source for the items
    var dataSource = new kendo.data.DataSource(
    { transport: {
        read: "/Task/Read"
    }, schema: {
        data: "Data"
    },
    serverGrouping: true,
    sort: { field: "TaskID", dir: "asc" },
    serverPaging: true,
    pageSize: 5 
});

    // When the data source changes, render the items
    dataSource.bind("change", function (e) {
        //alert('Bind');
        var html = kendo.render(template, this.view());
        $("#todos tbody").html(html);
    });

    // Initial read of the items in to the data source

    dataSource.read();

</script> 
```

**HTML 代码-**

```
 <tr>
      <td> 
          <input type="checkbox" class="done" data-id="#= TaskID #" ></input>
      </td>
      <td>
          #= TaskID #
      </td>
      <td>
        #= Subject #
      </td>
      <td>
      #=AssignedTo#
      </td>
  </tr>
</script>
<div class="row-fluid">
<div class="span4"> <table id="todos" class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Done</th>
          <th>ID</th>
          <th>Task</th>
          <th>Assign To</th>
        </tr>
      </thead>
      <tbody>

      </tbody>

    </table></div>
</div> 
```

请告诉我如何显示页码以显示其余行。我已经从 kendo UI Grid 迁移到 kendo 数据源并使用引导程序对其进行样式设置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T05:12:11.933

试试这个：将“** pageable: true **”添加到数据源外部的剑道网格配置中，例如：

```
$("#grid").kendoGrid({
  scrollable: true,
  sortable: true,
 ** pageable: true,** 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:18:05.860

您可以使用 Kendo UI 寻呼机。有用的链接：

ListView 分页演示（使用 Kendo UI Pager 实现）：[http ://demos.kendoui.c​​om/web/listview/index.html](http://demos.kendoui.com/web/listview/index.html)

寻呼机 API 参考：[http ://docs.kendoui.c​​om/api/web/pager](http://docs.kendoui.com/api/web/pager)

# php - CakePHP 附加 URL

> ID：15715157
> 
> 赞同：0
> 
> 时间：2013-03-30T05:01:14.387
> 
> 标签：php, cakephp

我的服务器上运行了一个 cakePHP 脚本 - 不幸的是，尽管我遇到了严重的 ISP 缓存，因此我看到将 URL 附加到一些 URL，如下所示：

```
 <h2><?php echo $this->Html->link('Clients', array('controller' => 'clients', 'action' => 'index?nc='.time().'')); ?></h2></div></div> 
```

通过添加**?nc='.time().'** URL 会自动附加一个时间戳，这有助于我避免 ISP 缓存问题。例如**/clients/index?nc=1364619426**

虽然我想出了如何在某些 URL 上进行这项工作，但我似乎没有在其他 URL 上获得此结果。我有这个数据表，它列出了我所有的客户，并带有一个结束的查看/编辑链接按钮。请看下面：

```
 <?php echo $this->Html->link('View/Edit', array('action' => 'view', $client['Client']['id']), array('class' => 'view')); ?> 
```

单击此按钮并打开页面后，URL 结构为：**/clients/view/1**

实现前面提到的**?nc='.time().'的最佳方法是什么？**进入这个网址？我的理想目标是让这个 URL 看起来像**/clients/view/1?nc=1364619426**

一些专家建议会非常有帮助，因为我对 CakePHP 很陌生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:04:18.350

```
<?php echo $this->Html->link('View/Edit', array('action' => 'view', $client['Client']['id']), "?" => array('nc' => time(), array('class' => 'view')); ?> 
```

# c++ - 以对象为参数的函数，作为另一个函数的参数

> ID：15715160
> 
> 赞同：1
> 
> 时间：2013-03-30T05:01:58.430
> 
> 标签：c++, class, function, arguments

我在解决一个小问题时遇到了麻烦。我有两节课。一个叫做MenuBar，在这个类中有另一个对象（MenuOption）的向量数组。MenuBar 包含一个创建新 MenuOption 并将其添加到数组的方法。MenuOption 的构造函数需要两个参数：一个字符串（用于名称）和一个函数（此选项执行的操作）。我希望收到的功能是这种形式：

无效方法（SDL_Surface* arg1，MenuBar* arg2）；

所以我通过添加“class MenuBar;”来修复双重包含问题。就在我的#include“MenuBar.h”之后。但是我仍然有一个错误，它在我在下面的 main.cpp 代码中标记的行上显示“错误：无效使用 void 表达式”。

现在我的完整代码如下所示：

**主文件**

```
void connect(SDL_Surface* arg1, MenuBar* arg2);
void about(SDL_Surface* arg1, MenuBar* arg2);

int main()
{
    SDL_Surface* screen;
    MenuBar menu(/*initialization*/);
    menu.addOption("Connect",connect(screen,&menu));//<---------
    menu.addOption("About",about(screen,&menu));    //<---------
}

void connect(SDL_Surface* arg1, MenuBar* arg2)
{...}

void about(SDL_Surface* arg1, MenuBar* arg2)
{...} 
```

**菜单栏.h**

```
#include "MenuOption.h"
class MenuBar
{
    public:
        ...
        void addOption(string optionName,void (*f)(SDL_Surface*, MenuBar*) );
    private:
        vector<MenuOption> optionList;
} 
```

**菜单栏.cpp**

```
void MenuBar::addOption(string optionName,void (*f)(SDL_Surface*, MenuBar*) )
{
    MenuOption tempOption(optionName,f);
    optionList.push_back(tempOption);
} 
```

**菜单选项.h**

```
#include "MenuBar.h"
class MenuBar;

class MenuOption
{
    public:
        MenuOption(string optionName,void (*f)(SDL_Surface*, MenuBar*) );
        void (*run)(SDL_Surface*, MenuBar*);
    private:
        string name;
} 
```

**菜单选项.cpp**

```
MenuOption::MenuOption(string optionName,void (*f)(SDL_Surface*, MenuBar*) )
{
    name = optionName;
    run = f;
} 
```

谢谢您的帮助！

飞卢231

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:05:02.750

```
menu.addOption("Connect",connect(screen,&menu)); 
```

您将 的结果`connect`作为`void`第二个参数传递给`addOption`. 尝试：

```
menu.addOption("Connect",connect); 
```

--

我认为您希望同时发送一个函数和该函数的一些参数，因此请考虑添加两个额外参数`addOption`，使其签名如下：

```
addOption(string optionName,void (*f)(SDL_Surface*, MenuBar*), SDL_Surface*, MenuBar*) 
```

并`f`使用内部给出的参数进行调用`addOption`。然后你`addOption`像这样打电话：

```
menu.addOption("Connect",connect, screen, &menu); 
```

# python - 从网络服务器中提取数据

> ID：15715162
> 
> 赞同：0
> 
> 时间：2013-03-30T05:02:11.503
> 
> 标签：python, database, webserver

我已经制作了抓取工具来从网站（例如电影）中提取数据，但是如何连接到网站服务器以直接从那里的数据库中提取数据，而不是制作爬虫从可视站点中提取数据？如果你能给我库名、工具集或指南，你会很酷。

额外：请求库是否执行此获取发布功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T11:28:59.557

您将无法直接从网站数据库中获取数据。有一个非常好的 Python 包可以在不使用 GUI 的情况下从网站获取数据：[requests](http://python-requests.org)

```
>>> r = requests.get('https://api.github.com/user', auth=('user', 'pass'))
>>> r.status_code
200
>>> r.headers['content-type']
'application/json; charset=utf8'
>>> r.encoding
'utf-8'
>>> r.text
u'{"type":"User"...'
>>> r.json()
{u'private_gists': 419, u'total_private_repos': 77, ...} 
```

# matlab - MATLAB中fill3函数的自定义颜色图？

> ID：15715164
> 
> 赞同：0
> 
> 时间：2013-03-30T05:02:44.040
> 
> 标签：matlab, colors, fill

基本上，我试图在三角形元素的网格上对二维有限元解进行可视化。所以我要一个三角形一个三角形地使用fill3函数来绘制它。现在我正在做

```
% K is the number of mesh elements

for i=1:K
    % x,y,z are 3x1 vectors of the x,y,and z coordinates of the triangle vertices respectively
    fill3(x,y,z,gradient(z))
end 
```

这样做的问题是，对于每个单独的三角形，使用 gradient(z) 颜色图意味着当前三角形上 z 的最小值对应于最小值，z 的最大值对应于最大值。

我想要的是所有三角形的颜色图有一些一致性，就像您使用“冲浪”功能时一样。任何想法如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:48:56.100

您可以通过线中三角形的全局最大值进行归一化`fill3`。因此，对于每个三角形，计算梯度（z）并找到它的最大值和最小值。收集所有这些值，找到**全局**最大值和最小值。将这些值表示为`gmax`, `gmin`，然后我们可以根据这些值对整个数据集进行归一化。例如

```
 fill3(x,y,z, (gradient(z)-gmin)/(gmax-gmin) ) 
```

这应该采用所有梯度值并将它们映射到所有三角形的区间 [0,1]。那么颜色图应该在三角形之间保持一致。

# php - 如何在使用 plupload 时获取要上传的数据

> ID：15715165
> 
> 赞同：0
> 
> 时间：2013-03-30T05:02:53.543
> 
> 标签：php, jquery, plupload

我在我的网站中使用 plupload 进行多张图片上传，我编写了如下代码

```
$(".drag-here").pluploadQueue({
            // General settings
            runtimes : 'html5',                                
            url : '/index.php?ext=events&action=uploadphoto_action',
            max_file_size : '10mb',
            chunk_size : '1mb',
            unique_names : true,
            dragdrop : true,
            multiple_queues : false,
            multi_selection : false,
            max_file_count : 10,
            filters : [
                {title : "Image files", extensions : "jpg,gif,png,jpeg"}                
            ],

            // Specify what files to browse for

            init : {
                FilesAdded: function(up, files) {
                    up.start();                        
                },
                UploadComplete: function(up, files) {
                   $.each(files, function(i, file) {
                        alert(file);
                    });                        
                }
            }
        }); 
```

但是在我的'uploadphoto_action'方法中，如果我打印`$_REQUEST`它不会给我文件数据......我做错了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:05:41.313

用于`$_FILES`获取文件数据。

# windows - 如何通过 WMI 浏览服务？

> ID：15715169
> 
> 赞同：1
> 
> 时间：2013-03-30T05:03:22.267
> 
> 标签：windows, wmi, wmi-service

起初我无法使用 wbemtest 连接到其他计算机。现在，按照以下说明操作：[http](http://www.poweradmin.com/help/enableWMI.aspx) ://www.poweradmin.com/help/enableWMI.aspx 我可以对其运行以下 WQL 查询：

```
Select * From Win32_Process 
```

但以下查询只会让我收到“拒绝访问”错误消息：

```
Select * From Win32_Service 
```

为了启用远程服务的本地浏览，我需要在远程机器上做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:28:21.247

作为远程用户，您需要该`SC_MANAGER_CONNECT`权限。

请参阅[Win32_Service](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394418%28v=vs.85%29.aspx)和[服务安全性和访问权限](http://msdn.microsoft.com/en-us/library/windows/desktop/ms685981%28v=vs.85%29.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-31T11:07:41.177

因此，经过数小时的疑惑迷路后，我发现了这个 pdf 文档，该文档讲述了 UAC 如何干扰您的权限集以及如何解决该问题：http: [//www.solarwinds.com/documentation/apm/docs/APMWMITroubleshooting.pdf](http://www.solarwinds.com/documentation/apm/docs/APMWMITroubleshooting.pdf)

就我而言，注册表项不存在，但您可以轻松创建它。

![在此处输入图像描述](../Images/b1312ce786f1dfde7e918367cb25f41d.png) 上面的那把钥匙可以解决问题（当然，其他一切都已经设置好了！），干杯！

# c# - #pragma 警告禁用和恢复

> ID：15715170
> 
> 赞同：33
> 
> 时间：2013-03-30T05:03:24.627
> 
> 标签：c#, .net, compiler-warnings, pragma

我使用 c# 创建了第一个项目。我有很多警告错误，所有这些警告错误都是单个错误（内部编译器错误。有关更多信息，请参阅控制台日志。）

为了减少警告错误，我使用了 #pragma Warning disable 。#pragma 警告恢复有问题代码的前后。

我怀疑在我的最终构建中，我是否应该将#pragma 警告禁用并恢复原样保留在程序中；还是我需要删除它？例如：

```
#pragma warning disable
if (Displayer.instance != null && CTR.Tore== "Keepit")
{
    Displayer.instance.SetFielderProfile (i);
}
#pragma warning restore 
```

对于最终构建，我是否需要删除它？

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2013-03-30T20:03:47.070

至少你应该具体说明你故意选择忽略哪些警告。这样，如果以后的维护引入了您应该注意的“新”警告/问题，则有关新引入的错误的警告不会被您的一揽子编译指示警告禁用指令抑制。

您可以从 Visual Studio 的生成输出窗口中获取与您决定忽略的生成问题有关的警告编号。它们通常标有“警告 CS0168 ....”或类似标签。在这种情况下，您可以专门针对您决定忽略的那些错误，如下所示：

```
#pragma warning disable 168, 3021

    //Your code that generates warnings CS0168 and CS3021 here

#pragma warning restore 168, 3021 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-30T05:12:20.397

如果它是具有任何实用价值的代码，则不应有任何警告，并在打开所有警告的情况下使用“警告为错误”设置进行编译。

您显示的代码本身似乎没有任何错误。所以我看不出你需要编译指示的理由。

但这真的是你的电话 - 你的代码，如果没有人需要使用/查看/付费 - 做任何适合你的事情。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-04-24T04:50:43.273

我在我的 asp.net mvc (.net core) 应用程序中遇到了这个错误。基于以上内容和其他文章显示此错误来自您在 chtml 端的 c 尖锐代码。

要确定问题，只需打开控制台或在单独的窗口中打开 cshtml。

我有一个出现此错误的弹出窗口，我单独打开此弹出窗口，在控制台中投资错误时，我得到了一个分号，而不是在 cshtml 中，因此在渲染 chtml 时它会抛出错误。

# android - How do I simply share content on Facebook wall using its Android SDK?

> ID：15715179
> 
> 赞同：8
> 
> 时间：2013-03-30T05:05:26.287
> 
> 标签：android, facebook, facebook-graph-api, facebook-android-sdk, facebook-wall

I cannot find many examples of the FB + Android SDK and the samples are not simple enough(some of them are deprecated). My simple goal is to share some content on FB using my Android app. When I developed the iOS app it was simply

```
AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
[appDelegate facebookLogin];

NSMutableDictionary *params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                               @"pikSpeak", @"name",
                               shareURL, @"link",
                               @"pikSpeak for iPhone !", @"caption",
                               @"Record audio at the moment of the image taken using pikSpeak and feel the moment come alive", @"description",
                               @"shared an audible pic using pikSpeak cam", @"message",
                               imageURL,@"picture",
                               nil];

[[appDelegate facebook] requestWithGraphPath:@"feed" andParams:params andHttpMethod:@"POST" andDelegate:self]; 
```

This code handled the sessions and saving the session details over app restarts.

1) How to simply share some thing in Android.

2) I saw `Facebook(String app_id)` is deprecated. If so, then what is its replacement?

P.S. : Using Facebook 3.0 SDK

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-03T09:15:22.740

Taken from [Share on User's Wall using Facebook SDK](http://www.sherif.mobi/2013/04/share-on-users-wall-using-facebook-sdk.html):

```
private void share() {
    Bundle bundle = new Bundle();
    bundle.putString("caption", "Harlem Shake Launcher for Android");
    bundle.putString("description", "Your android can do the Harlem Shake. Download it from google play");
    bundle.putString("link", "https://play.google.com/store/apps/details?id=mobi.shush.harlemlauncher");
    bundle.putString("name", "Harlem Shake Launcher");
    bundle.putString("picture", "http://shush.mobi/bla.png");
    new WebDialog.FeedDialogBuilder(mContext, mySession, bundle).build().show();
} 
```

* * *

If you need to login (add this in you activity wherever you need to login/share):

```
Session.openActiveSession(this, true, new Session.StatusCallback() {

    @Override
    public void call(Session session, SessionState state, Exception exception) {
        if(session.isOpened()) {
            share();
        }
    }
}); 
```

You will need to add to your activity:

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    switch(requestCode) {
    default:
        if(Session.getActiveSession() != null) //I need to check if this null just to sleep peacefully at night
            Session.getActiveSession().onActivityResult(this, requestCode, resultCode, data);
        break;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-12T07:14:29.537

Feed Dialog is used for posting on your own wall, Technically speaking it is not sharing. Also, if you wish to achieve the share functionality, go for the share dialog provided by facebook sdk for android. [The facebook Share Dialog](https://developers.facebook.com/docs/android/share-dialog/) provides various functions to tag friends, places etc. making use of the OpenGraphAction.

# sql-server-2012 - AdventureWorks2012: For each Customer,determine the number of orders created in year 2007,Show 0 for no order

> ID：15715180
> 
> 赞同：-2
> 
> 时间：2013-03-30T05:05:26.413
> 
> 标签：sql-server-2012

For each customer, determine the number of orders created in year 2007\. If a customer has not created any order in year 2007, show 0 for that customer.

Show: customer ID, # of orders created in 2007 (show 0 if none)

Order by: customer ID

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T10:36:43.373

OK - this is the **third time** I'm answering this type of question for you. It seems to me that by now you really should be able to take one of my answers and tweak & adapt it to yet another one of your question - don't you agree?

So here's the one to find the number of sales for each customer in 2007 - showing 0 for those customers who didn't have any sales.

```
-- determine the number of all sales in 2007 for each customer
;WITH SalesPerCustomer AS 
(
    SELECT 
        c.CustomerID,
        NumberOfSales = ISNULL(COUNT(soh.SalesOrderID), 0)
    FROM 
        Sales.Customer c 
    LEFT OUTER JOIN 
        Sales.SalesOrderHeader soh ON soh.CustomerID = c.CustomerID 
                                   AND soh.OrderDate >= '20070101' 
                                   AND soh.OrderDate < '20080101'
    GROUP BY    
        c.CustomerID    
)
SELECT 
    CustomerID ,
    NumberOfSales
FROM 
    SalesPerCustomer
ORDER BY 
    NumberOfSales DESC 
```

# ios - @synthesize 不再自动添加到 .m 文件中？

> ID：15715181
> 
> 赞同：3
> 
> 时间：2013-03-30T05:05:30.900
> 
> 标签：ios, objective-c, xcode

使用连接器连接按钮、文本字段和标签后，@synthesize 语句不会自动为标签和文本字段（两者都是出口）生成，因此当我尝试访问标签或文本字段或其在 . m 文件中显示“使用未声明的标识符”，但 Xcode 不应该自动执行此操作吗？我正在关注本教程[http://www.youtube.com/watch?v=c3Yd2kCPs5c](http://www.youtube.com/watch?v=c3Yd2kCPs5c)（大约在 4:35 显示自动生成的 @synthesize 语句，这些语句在 xcode 中不再发生），这就是我猜的原因. 我不应该手动添加这些对吗？解决此问题的最佳方法是什么？

```
-------.m Fie--------
//
//  ViewController.m
//  AutoConnection
//
//  Created by Administrator on 29/03/13.
//  Copyright (c) 2013 Administrator. All rights reserved.
//

#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (IBAction)changeLabel:(id)sender {

    NSString *message = [[NSString alloc] initWithFormat:@"Hello %@", [myTextFeild text]];
    [myLabel setText:message];

}
@end

---------.h file------------
//
//  ViewController.h
//  AutoConnection
//
//  Created by Administrator on 29/03/13.
//  Copyright (c) 2013 Administrator. All rights reserved.
//

#import <UIKit/UIKit.h>

@interface ViewController : UIViewController
- (IBAction)changeLabel:(id)sender;

@property (weak, nonatomic) IBOutlet UILabel *myLabel;

@property (weak, nonatomic) IBOutlet UITextField *myTextFeild;

@end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T05:09:39.730

看到你的代码后，

```
@property (weak, nonatomic) IBOutlet UILabel *myLabel;
@property (weak, nonatomic) IBOutlet UITextField *myTextFeild; 
```

您正在访问它们：

```
 [myLabel setText:message]; 
```

这是不正确的。

它应该是`[_myLabel setText:message];`

or `[self.myLabel setText:message];`

**Reason:** The compiler running with XCode4.4 and above, autosynthesizes your property as

```
@synthesize yourProperty=_yourProperty; 
```

Or you can override this by, if you wish to use same property name

```
@synthesize yourProperty; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T05:07:53.667

您不再需要使用`@synthesize`. 现在更容易了，因为您所要做的就是`_`在属性之前添加一个字符。例子

```
//header
@property (nonatomic) UILabel *l;

//implementation
-(void)viewDidLoad{
_l = [[UILabel alloc] init];
//do stuff
} 
```

您也可以手动添加合成线

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T05:09:06.990

您需要使用 self 进行自动合成的属性使用

```
- (IBAction)changeLabel:(id)sender {

    NSString *message = [[NSString alloc] initWithFormat:@"Hello %@", [myTextFeild text]];
    [self.myLabel setText:message];

} 
```

如果您有一个名为*myLabel*的属性，编译器将生成代码，就像

```
@synthesize myLabel=_myLabel; 
```

在 Xcode 4.4 和 LLVM Compiler 4.0 中，不再需要 @synthesize 指令，因为它将默认提供。这意味着在大多数情况下，您现在只需要 @property 并且编译器会为您处理其他所有事情。一般来说，编译器会自动生成实例变量。

因此，如果您想访问可以使用的属性`self.myLabel`，例如使用情况，您可以使用`_myLabel`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-30T05:23:48.830

The @synthesize is now done automatically by the compiler. The @property creates a getter and setter method which can be accessed using dot-notation (e.g. self.myLabel). These methods use a variable to store the object you are accessing. Xcode generates the variable name by adding an underscore to the property name.

Just use getters and setters and don't access an object using the instance variable (e.g. _myLabel = foo). That's bad style.

Here's a good iTunes U course covering all this: [*Coding Together: Developing Apps for iPhone and iPad*](https://itunes.apple.com/de/course/coding-together-developing/id593208016?l=en)

# jquery - Jquery FadeIn 在谷歌浏览器中不起作用

> ID：15715198
> 
> 赞同：0
> 
> 时间：2013-03-30T05:08:12.157
> 
> 标签：jquery

此代码在 Firefox 中运行良好，但在 google chrome 中无法使用淡入淡出效果。请帮助我如何解决这个问题。提前致谢。

```
<html>
    <head>
    <title>Fade IN</title>
    <script type="text/javascript" src="../../js/jquery.js"</script>
    </head>
    <body id="new" background="../../images/login_1.jpeg" style="background-repeat: no-repeat;background-size: cover;">
    <script type="text/javascript">

    (function($) {

      $(document.body).fadeIn(3000);

    })(jQuery);
    </script>

<div id="showcase">
    <br><br>
    <center><h1 style="color:black;">test</h1></center>
      <center><h3 style="color:black;">test</h3>    </center>

    </div>

    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T05:18:02.100

尝试：

```
(function ($) {
   $(document.body).hide().fadeIn(3000);
})(jQuery); 
```

[小提琴](http://jsfiddle.net/XqyFa/)

# kaminari - 数组 kaminari 的未定义方法 current_page

> ID：15715201
> 
> 赞同：0
> 
> 时间：2013-03-30T05:08:29.563
> 
> 标签：kaminari

我正在尝试对产品详细信息（图像）进行分页，但出现此错误。

NoMethodError in Home#index Showing /home/aws002/webpage/app/views/home/index.html.erb where line #6 raise: undefined method `current_page' for #

这是我的产品控制器代码：

```
def index
    @rroducts = Product.order(:name)
    Kaminari.paginate_array(@products).page(params[:page]).per(3)
    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @products }
    end
end 
```

我正在尝试在主页中显示。查看文件代码为：

```
<% @products=Product.all %>
  <%= paginate @products %>
  <% @products.each do |p|%>
    <%= image_tag("Images/#{p.id}.jpeg",:alt => p.name) %>
    <p> Price: </p>
    <%= p.price %>
    <p> Discount: </p>
    <%= p.discount %>
  <br/>
  <% end %> 
```

请帮我解决这个问题。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-01T11:20:42.397

尝试这个

```
def index
 @products = Product.order(:name).page(params[:page]).per(3)
 respond_to do |format|
  format.html # index.html.erb
  format.json { render json: @products }
 end
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T07:11:44.147

我得到了答案。

由于我正在检索保存在公共目录中的图像并且不使用任何控制器或模型来检索图像，因此我必须仅在视图文件中包含该 kaminari 部分。

Kaminari.paginate_array(@products).page(params[:page]).per(3)

这应该添加到视图文件中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-20T18:48:55.213

我认为错误来自您的 index 方法，因为您声明了名为 @rroducts 的实例变量，因为您实际上使用了另一个名为 @products 的 Kaminari

# c++ - 自动售货机项目

> ID：15715204
> 
> 赞同：0
> 
> 时间：2013-03-30T05:09:09.977
> 
> 标签：c++, c, arrays, loops

我需要帮助来编写这个程序我对 C 和 C++ 还很陌生。请帮助我开始。我不知道从哪里开始，但我正在尽力而为。我需要编写一个自动售货机程序。

1.  在屏幕上显示饮品列表
2.  允许用户退出或选择饮料
3.  如果用户选择饮料，他或她将输入要插入机器的金额

```
#include<stdio.h>
#define system

void menu(void);
void chocolate(void);
void price(void);
void change(void);
void end(void);

int choc[10]={0,1,2,3,4,5,6,7,8,9};

int main()
{
 int intro;
 int option;
 int choice;
 int money;
 int payment;

e: menu();

 printf("Enter Your Option: ");
 scanf("%d",&intro);
 printf("\n");

 if(intro==1)
 {

w:  printf("The Chocolates\n\n");
  printf("1.Choose Chocolate\n");
  printf("2.View A Price To Be Paid\n");
  printf("3.Back To Main Menu\n\n");

  printf("Rules: Machine can only receive RM1 and RM5 only! \n\n\n");

  printf("Enter Your Option: ");
  scanf("%d",&option);
  printf("\n\n");

  if(option==1)
  {
   system("cls");
   printf("Name list of chocolate: ");
   printf("\n\n");
   printf("1\. Cadburry Black Forest");          printf("\tRM3.00\n");
   printf("2\. Kitkat");                         printf("\t\t\tRM2.00\n");
   printf("3\. Crispy");                         printf("\t\t\tRM2.00\n");
   printf("4\. Crunch");                         printf("\t\t\tRM2.00\n");
   printf("5\. Mars");                           printf("\t\t\tRM2.00\n");
   printf("6\. Kinder Bueno");                   printf("\t\tRM2.00\n");
   printf("7\. White Kinder Bueno");             printf("\t\tRM2.00\n");
   printf("8\. Milky Bar");                      printf("\t\t\tRM2.00\n");
   printf("9\. M&M");                            printf("\t\t\t\tRM2.00\n");
   printf("10\. Choki Choki");                    printf("\t\t\tRM2.00\n");
   printf("\n\n");

   printf("Choose Chocolate: ");
   scanf("%d",&choice);
   printf("\n\n");

   switch(choice)
   {
    case 0 :
     chocolate();
     printf("You choose Cadburry Black Forest\n\n");
     goto w;
    case 1 :
     chocolate();
     printf("You choose Kitkat\n\n");
     goto w;
    case 2 :
     chocolate();
     printf("You choose Crispy\n\n");
     goto w;
    case 3 :
     chocolate();
     printf("You choose Crunch\n\n");
     goto w;
    case 4 :
     chocolate();
     printf("You choose Mars\n\n");
     goto w;
    case 5 :
     chocolate();
     printf("You choose Kinder Bueno\n\n");
     goto w;
    case 6 :
     chocolate();
     printf("You choose White Kinder Bueno\n\n");
     goto w;
    case 7 :
     chocolate();
     printf("You choose Milky Bar\n\n");
     goto w;
    case 8 :
     chocolate();
     printf("You choose M&M\n\n");
     goto w;
    case 9 :
     chocolate();
     printf("You choose Choki Choki\n\n");
     goto w;

    default : goto e;
   }
  }
  else if(option==2)
  {
   printf("View A Price To Be Paid: ");
   scanf("%d",&choice);
   printf("\n\n");

   switch(choice)
   {
    case 0 :
     price();
     printf("RM3.00\n\n");
     goto w;
    case 1 :
     price();
     printf("RM2.00\n\n");
     goto w;
    case 2 :
     price();
     printf("RM2.00\n\n");
     goto w;
    case 3 :
     price();
     printf("RM2.00\n\n");
     goto w;
    case 4 :
     price();
     printf("RM2.00\n\n");
     goto w;
    case 5 :
     price();
     printf("RM2.00\n\n");
     goto w;
    case 6 :
     price();
     printf("RM2.00\n\n");
     goto w;
    case 7 :
     price();
     printf("RM2.00\n\n");
     goto w;
    case 8 :
     price();
     printf("RM2.00\n\n");
     goto w;
    case 9 :
     price();
     printf("RM2.00\n\n");
     goto w;

     default : goto e;
   }
  }
  else
   goto e;
 }

 else if(intro==2)
 {
  printf("Enter your money: ");
  scanf("%d",&money);
  printf("\n\n");

   if(choice==0)
   {
    printf("Your payment is RM3");
    printf("\n\n");
    choc[0]=payment;
    goto e;
   }
   if(choice==1)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[1]=payment;
    goto e;
   }
   if(choice==2)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[2]=payment;
    goto e;
   }
   if(choice==3)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[3]=payment;
    goto e;
   }
   if(choice==4)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[4]=payment;
    goto e;
   }
   if(choice==5)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[5]=payment;
    goto e;
   }
   if(choice==6)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[6]=payment;
    goto e;
   }
   if(choice==7)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[7]=payment;
    goto e;
   }
   if(choice==8)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[8]=payment;
    goto e;
   }
   if(choice==9)
   {
    printf("Your payment is RM2");
    printf("\n\n");
    choc[9]=payment;
    goto e;
   }
   else
   {
    printf("ERROR!\n\n");
    goto e;
   }
 }

 else if(intro==3)
 {
 change();
 goto e;
 }

 else if(intro==4)
 {
  printf("Enjoy it!");

   if(choice==0)
   {
    printf("Thank you and enjoy your Cadburry Black Forest!");
    printf("\n\n");
    choc[0]=0;
    goto e;
   }
   if(choice==1)
   {
    printf("Thank you and enjoy your Kitkat!");
    printf("\n\n");
    choc[1]=0;
    goto e;
   }
   if(choice==2)
   {
    printf("Thank you and enjoy your Crispy!");
    printf("\n\n");
    choc[2]=0;
    goto e;
   }
   if(choice==3)
   {
    printf("Thank you and enjoy your Crunch!");
    printf("\n\n");
    choc[3]=0;
    goto e;
   }
   if(choice==4)
   {
    printf("Thank you and enjoy your Mars!");
    printf("\n\n");
    choc[4]=0;
    goto e;
   }
   if(choice==5)
   {
    printf("Thank you and enjoy your Kinder Bueno!");
    printf("\n\n");
    choc[5]=0;
    goto e;
   }
   if(choice==6)
   {
    printf("Thank you and enjoy your White Kinder Bueno!");
    printf("\n\n");
    choc[6]=0;
    goto e;
   }
   if(choice==7)
   {
    printf("Thank you and enjoy your Milky Bar!");
    printf("\n\n");
    choc[7]=0;
    goto e;
   }
   if(choice==8)
   {
    printf("Thank you and enjoy your M&M!");
    printf("\n\n");
    choc[8]=0;
    goto e;
   }
   if(choice==9)
   {
    printf("Thank you and enjoy your Choki Choki!");
    printf("\n\n");
    choc[9]=0;
    goto e;
   }
   else
   {
    printf("Error! Try Again.\n\n");
    goto e;
   }
 }
  else
  end();

}

void menu(void)
{
 printf("|WELCOME TO CHOCOLATES VENDING MACHINE|\n\n");

 printf("1.The Chocolates\n");
 printf("2.Login To Your Account\n");
 printf("3.View Change\n");
 printf("4.Exit Vending Machine\n");
 printf("5.Exit Program\n\n");
}

void chocolate(void)
{
 int u[30];
 char o[30];
 FILE *choclot;
 choclot=fopen("parking.txt","a");
 printf("Your Chocolate: ");
 scanf("%s",&o);
 printf("Total Price: ");
 scanf("%d",&u);
 fprintf(choclot,"Chocolate: %s Total Price: %d\n\n",o,u);
 fclose(choclot);
}

void change(void)
{
 int i;
 printf("Your Balance: \n\n");
 for(i=0;i<10;i++)
  printf("%d",choc[i]);
  printf("\n\n\n\n");
}

void end(void)
{
 system("cls");
 printf("\t\t\tTHANK YOU FOR USING THIS SERVICES\n");
  printf("\t\t\t\t  Visit Us At \n\n");
  printf("\t\t\t    vendingmachine.com.my\n\n\n");
  printf(" First Programmer : Adawiyah\n");
  printf(" First Programmer : Vijayah Santhi\n");
} 
```

我的程序正确吗？我的程序是否整洁有序？goto 语句有那么糟糕吗？对不起，我的英语不好。我正在尽我最大的努力在这几天内完成我的项目。我需要在下周向我的讲师介绍。

很抱歉给您添麻烦了。我不知道如何在这里复制和粘贴。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:24:31.947

在您的第一次尝试中，您的问题是您从他们输入的金额中减去*他们选择的数字，而不是他们选择的饮料的**成本*。你可以简单地修改你的程序：

1.  `float`创建一个名为的新类型变量`cost`。
2.  在每个`case`之前`break`，设置`cost`为他们选择的饮料的成本。
3.  而不是：

    ```
    change = money - choice; 
    ```

    你会想要：

    ```
    change = money - cost; 
    ```

您无法解决的另一个问题（如果钱多于所需，则显示更改；如果没有，则显示额外需要多少）相当简单。首先，你可以看看是否有足够的钱：

```
if(money >= cost) {
    // There's enough money.
}else{
    // There's not enough money.
} 
```

然后你可以适当地打印：

```
if(money >= cost) {
    printf("Change: %.2f\n", money - cost);
}else{
    printf("You need RM%.2f more.\n", cost - money);
} 
```

I have not had enough time to review your newest code, but your first try, while it could have some further improvements as suggested by other people in that thread, was not far off from where you needed it to be.

# javascript - 在节点中使用 http.get 理解回调

> ID：15715207
> 
> 赞同：0
> 
> 时间：2013-03-30T05:09:38.183
> 
> 标签：javascript, asynchronous, callback

新的节点程序员在这里，由于节点的异步性质，我很难理解如何从函数返回 http 请求的内容。这是我的程序的精简版。

```
//#1
function getwebsite(url) {
    var body;
    http.get(url, function (res) {
        res.on('data', function (chunk) {
            body += chunk;
            //***Right here, I need 'body' returned out of this function***
        });
    });
}

//#2
var a = getwebsite('website1.com');
var b = getwebsite('website2.com');

//#3
console.log(a+b); 
```

我要做的就是 1：创建一个从站点获取数据的函数（如果重要，它的 JSON 和 XML），2：能够从我程序中的任何位置调用该函数，3：能够操作从我的函数中返回的任何数据。

你应该放置（和调用）回调函数的方式让我很头疼。我研究了几十个 http.get 和一般回调示例的示例，但还没有找到一个像我的示例中那样合并的示例。经过几天的失败尝试，我觉得如果有人可以在我的示例中展示如何做到这一点，它可能最终会在我的大脑中点击（手指交叉）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-02T21:30:19.723

这是您要用于普通回调样式的基本模式：

```
function getwebsite(url, cb) {
    var body = "";
    http.get(url, function (res) {
        res.on('data', function (chunk) {
            body += chunk.toString();
            // you can't return a value from this function
            // the return value would be swallowed by the function
            // that is calling this function
            // which is not your code, but internal Node.js code
        });
        res.on("end", function() {
          cb(null, body)
        })
        res.on("error" function(error) {
          cb(error)
        })
    });
}

getwebsite("a", function(error, contentsA) {
  if (error) throw "Error getting website A."
  getwebsite("b", function(error, contentsB) {
    if (error) throw "Error getting website B."
    console.log(contentsA)
    console.log(contentsB)
  })
}) 
```

You may also want to look into flow-control libraries like [Async](https://github.com/caolan/async) (or my promise-based [Faithful](https://github.com/meryn/faithful)), or general-purpose promise libraries like [RSVP.js](https://github.com/tildeio/rsvp.js). I recommend first getting accustomed with the basics of callbacks though.

For simple http requests, it's much easier to use the [request](https://github.com/mikeal/request) module. You won't have to bind event listeners then. You just have a function that you can use in a similar way to the `getwebsite` function (which has issues!).

To get acquainted with async programming, you may want to try reading and writing some files with `fs.readFile` and `fs.writeFile`. For example, try to write contents of file A to file B. These are pretty simple functions, but you need to handle the callback-flow right. Node's http module is relatively complex in comparison. Or use the request module for that, as I mentioned.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:33:17.337

您在数据有机会返回之前调用了 console.log() 。您可以将 body 变量带到更高的范围并附加到该范围内。IE

```
var body;

function getwebsite(url) {
    http.get(url, function (res) {

        res.on('data', function (chunk) {
            body += chunk;
            //***Right here, I need 'body' returned out of this function***
            outputBody(body);
        });
    });
}
var a = getwebsite('website1.com');
var b = getwebsite('website2.com');

function outputBody(val){
    console.log(val);
} 
```

# coding-style - PHPStorm 代码风格：HTML 中的 PHP

> ID：15715211
> 
> 赞同：3
> 
> 时间：2013-03-30T05:10:08.220
> 
> 标签：coding-style, phpstorm, reformatting

有没有办法防止 PHPStorm 6在结构中`<?=`前后添加空格，`?>`例如

```
<a href="<?=$variable?>">blah</a> 
```

在重新格式化代码 ( `Ctrl+Alt+L`) 期间？

突然间，它插入了空格

```
<a href="<?= $variable ?>">blah</a>
            ^         ^
            |  here   | 
```

谷歌搜索和挖掘设置对话框没有帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-09T10:38:52.977

File->Settings->Editor->Code Style->PHP->Spaces->Within

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2013-03-30T05:16:27.287

尝试在 PHP 中使用 trim 函数

[http://php.net/manual/en/function.trim.php](http://php.net/manual/en/function.trim.php)

通过告诉它删除空格或可以将其剥离到其真实值的东西。我对 PHPStorm 不太熟悉。

# sql - 访问 Select 语句

> ID：15715213
> 
> 赞同：0
> 
> 时间：2013-03-30T05:10:27.527
> 
> 标签：sql

以下是我尝试使用的声明。

我有两个表（存款和公司）我试图从存款表中获取（账户余额），以便将其放入公司表中的（账户余额）中。当我运行代码时，我会查看存款表中的（账户余额）。观看告诉我 SSQL 是“脱离上下文”和存款。[帐户余额]“表达式未在上下文中定义”。

```
Dim SSQL As String
SSQL = "SELECT deposits.[Account Balance] FROM deposits WHERE deposits.[Bank Name] = company.[Bank Name]" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:13:31.240

你需要像这样加入两个表：

```
SELECT deposits.[Account Balance] 
FROM deposits
INNER JOIN company
ON deposits.[Bank Name] = company.[Bank Name] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T05:14:41.520

如果要在一个 sql 语句中使用多个表，则需要将表连接起来............

通过使用

[内连接](http://msdn.microsoft.com/en-us/library/office/bb208854%28v=office.12%29.aspx)，[左连接](http://msdn.microsoft.com/en-us/library/office/bb208894%28v=office.12%29.aspx)，[右连接](http://msdn.microsoft.com/en-us/library/office/bb208894%28v=office.12%29.aspx)

# html - 高度行不匹配，因为存在 img 标签

> ID：15715216
> 
> 赞同：2
> 
> 时间：2013-03-30T05:10:43.923
> 
> 标签：html, css, html-table

我在使用 CSS 为表格设置样式时遇到问题。我正在使用 div 来包装表格元素。当我将 img 标签插入一个单元格时，就会出现问题。是高度变化。我试图设置行元素的高度，但没有运气。这是[示例](http://jsfiddle.net/PUqm8/embedded/result/)。我的目标是添加一个图像以适应所有单元格空间而不改变它的大小。我会感谢所有的帮助。

注意：所有行的高度必须相同，大小必须为百分比。

**html**

```
<div id="client">
<table>
    <col id="col1" />
    <col id="col2" />
    <col id="col3" />
    <tr>
        <td rowspan="3">
            <img id="profilePhoto" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTjelu9edzZ0fit_oqWGlHKS8koq1Vc56_u0XiYJynYbQmKSuQTCA" />
        </td>
        <td>2a</td>
        <td>3a</td>
    </tr>
    <tr>
        <td colspan="2">2b</td>
    </tr>
    <tr>
        <td colspan="2" class="row">2c</td>
    </tr>
    <tr>
        <td>1d</td>
        <td colspan="2">2d</td>
    </tr>
</table> 
```

**css**

```
html {
height: 100%;
padding: 0;
margin: 0;
}
body {
height: 100%;
padding: 0;
margin: 0;
}
body #client {
outline:solid 1px;
width: 75%;
height: 25%;
overflow: hidden;
}
table {
width: 70%;
height:100%;
table-layout:fixed;
}
td {
text-align: center;
border: solid thin;
overflow: hidden;
}
#profilePhoto {
height:100%;
width:100%;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T05:15:52.167

如果您愿意放弃图像的轻松居中，这应该可行：

```
td {
    position: relative;
}

#profilePhoto {
    max-width: 100%;
    max-height: 100%;
    position: absolute;
    top: 0;
    left: 0;
} 
```

演示：http: [//jsfiddle.net/PUqm8/1/](http://jsfiddle.net/PUqm8/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:18:25.420

不要添加属性`rowspan="3"`，而是将图像放在一个 div 中，并为其隐藏溢出。此外，由于没有更多的行跨度，不要忘记在第 2 行和第 3 行添加一个新单元格

```
<td>
    <div style="height:30px;overflow:hidden;">
        <img id="profilePhoto" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTjelu9edzZ0fit_oqWGlHKS8koq1Vc56_u0XiYJynYbQmKSuQTCA"/>
    </div>
</td> 
```

工作示例：http: [//jsfiddle.net/fdAqn/](http://jsfiddle.net/fdAqn/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T05:26:50.473

尝试设置 td 高度：

```
td{
    text-align: center;
    border: solid thin;
    overflow: hidden;
    height:10px;
} 
```

# visual-studio - Visual Studio：如何通过依赖关系安排解决方案资源管理器中的项目

> ID：15715221
> 
> 赞同：9
> 
> 时间：2013-03-30T05:11:56.490
> 
> 标签：visual-studio, solution-explorer

有没有办法根据依赖关系（更高级别的依赖项目）手动安排VS 2010+的解决方案资源管理器中的项目？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2014-01-14T16:32:10.107

不，但是当我有很多项目的解决方案想要传达这个构建流程时，我会做一些可能适合您需求的事情。

因为解决方案资源管理器按字母顺序排序，所以我将项目放入“解决方案文件夹”。我在每个项目文件夹上都放了一个前缀。所以，我可能会命名一个文件夹**"A. Helper Assemblies"**。所以，我的解决方案如下所示：

*解决方案*
   **A. 辅助**
程序集       Project1.vsproj
      Project2.vsproj
   **B. 核心**
程序集       ProjectX.vsproj
      ProjectY.vsproj
   **C. UI**
程序集       ProjectMoe.vsproj
      ProjectLarry.vsproj
      ProjectShemp.vsproj

不过，这不会改变任何项目依赖关系。只需手动确保项目构建顺序与文件夹结构匹配。

有关添加解决方案文件夹的详细信息，请访问此处：http: [//msdn.microsoft.com/en-us/library/c6c756s6 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/c6c756s6(v=vs.100).aspx)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-03-02T04:37:54.453

除了使用解决方案文件夹和解决方案文件夹前缀之外，您还可以在项目文件夹上使用前缀。

诀窍是使用正常名称添加项目，然后在解决方案资源管理器中将其重命名为“选择它并按 f2”。

通过在添加后重命名它，您可以保持程序集名称/命名空间应有的方式。同样在之后重命名它意味着您的项目文件夹名称不会随前缀而变化。所以下面的例子，在磁盘上，将是 Thing.Core 而不是 10_Thing.Core

*   05_事物.数据库
*   10_Thing.Core
*   15_Thing.Api
*   20_Thing.Api.Services
*   25_事物.数据
*   30_Thing.Host
*   90_Thing.Test

# c# - C#中的常量数组

> ID：15715233
> 
> 赞同：1
> 
> 时间：2013-03-30T05:14:01.940
> 
> 标签：c#, arrays

我开始学习 C# 几天了，sr，如果这是个愚蠢的问题！我有一个这样的字符串数组

```
private readonly string[] algorithm_list = {
                                              "Genetic Algorithm",
                                              "Dynamic Algorithm"
                                          }; 
```

和我的代码

```
switch (al_choose)
            {
                case algorithm_list[0]:
                    break;
                case algorithm_list[1]:
                    break;
                default:

            } 
```

错误是 algorithm_list[0] 不是常数！所以我尝试其他声明，如

```
private readonly string[] algorithm_list 
```

或者

```
private contant string[] algorithm_list 
```

但是还是不行？？？那么，对我有什么建议吗？非常感谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-30T05:19:44.927

对于这些情况，最好使用[Enum](http://msdn.microsoft.com/en-us/library/sbbt4032%28v=vs.80%29.aspx)

```
public enum AlgorithmList
{
        GeneticAlgorithm,
        DynamicAlgorithm
} 
```

然后：

```
switch (al_choose)
{
    case AlgorithmList.GeneticAlgorithm:
        break;
    case AlgorithmList.DynamicAlgorithm:
        break;
    default:
        break;
} 
```

**编辑**如果你要将值绑定`Enum`到 a`ComboBox`你可以这样做：

```
yourCombobox.ItemsSource = Enum.GetValues(typeof(AlgorithmList)).Cast<AlgorithmList>(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-30T05:20:11.367

数组元素不是常量，因此您不能在 switch 语句中使用数组元素。

选项：

*   用内联常量`case "Genetic Algorithm":...`或实际常量值替换数组元素的使用`const string Choice1="Genetic Algorithm";... case Choice1:...`
*   使用`if`语句序列： `if (al_choose == algorithm_list[0]) { /*do something*/ }`
*   standard approach for such `switch` statement is dictionary of "choice" to "Action delegate", but I'd not jump into that.

# windows-phone-7 - 如何以编程方式在wp7中动态创建的按钮内添加堆栈面板

> ID：15715236
> 
> 赞同：0
> 
> 时间：2013-03-30T05:14:12.513
> 
> 标签：windows-phone-7

我想知道如何在代码中创建一个按钮，其中包含作为容器的堆栈面板和作为子级的堆栈面板内的文本块，当我试图创建按钮时，它会在堆栈面板中抛出空异常。请帮助我解决这个问题。

我试过的是：

```
foreach (var pd in Query)
{
    Button b = new Button();
    b.HorizontalContentAlignment = HorizontalAlignment.Stretch;
    b.HorizontalAlignment = HorizontalAlignment.Left;
    b.VerticalAlignment = VerticalAlignment.Top;
    b.Height = 196;
    b.Width = 172;
    b.Margin = new Thickness(d, 0, 0, 0);
    b.Style = this.Resources["ButtonStyle1"] as Style;

    Grid st = new Grid();

    st.HorizontalAlignment = HorizontalAlignment.Stretch;
    st.Width = 160;
    st.Height = 188;

    TextBlock tb = new TextBlock();
    tb.TextWrapping = TextWrapping.Wrap;
    tb.VerticalAlignment = VerticalAlignment.Top;
    tb.HorizontalAlignment = HorizontalAlignment.Stretch;
    tb.FontSize = 14;
    tb.Margin = new Thickness(10, 0, 0, 0);
    tb.RenderTransformOrigin = new Point(0.5, 0.5);
    tb.FontSize = 14;
    tb.FontWeight = FontWeights.Bold;
    tb.Height = 35;

    TextBlock tb1 = new TextBlock();
    tb1.Height = 109;
    tb1.VerticalAlignment = VerticalAlignment.Bottom;
    tb1.HorizontalAlignment = HorizontalAlignment.Stretch;
    tb1.FontSize = 12;
    tb1.TextWrapping = TextWrapping.Wrap;

    b.Content = pd.ProductName;

    b.FontSize = 14;
    b.Background = new SolidColorBrush(Colors.Red);

    ContentPanel.Children.Add(b);

    b.Click += new RoutedEventHandler(b_Click);

    st.Children.Add(tb);
    st.Children.Add(tb1);

    st = b.Content as Grid;

    d += 140;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T13:13:32.417

在您的代码中，您实际上并没有使用 st 的值。我相信你最后想做的是`b.Content = st;`而不是`st = b.Content as Grid`

# c++ - 使用大量unique_ptr后向操作系统释放内存 - c++

> ID：15715237
> 
> 赞同：0
> 
> 时间：2013-03-30T05:14:32.043
> 
> 标签：c++, unique-ptr

无法弄清楚发生了什么错误。

这是一个简单的代码

```
size_t n_elem = 30000000; //careful! will allocate 1GB with unique_ptr
vector<unique_ptr<double> > tmp;
tmp.resize(n_elem);
for(size_t i=0; i<n_elem; i++){
   tmp[i] = unique_ptr<double>(new double((double)i));
}
tmp.clear();
//Some answers in Stack overflow seems to suggest this technique to force
//freeing, but does not seem to work.
vector<unique_ptr<double> > tmp1;
tmp.swap(tmp1); 
```

当这完成时。系统监视器仍然显示 948 MB 已分配，但它应该显示内存使用量激增然后释放所有内容，对吗？即使片段包含在大括号 {...} 中以确保范围，我也看不到任何改进。一旦分配了内存，它似乎直到程序结束才释放。

怀疑带有矢量的东西，我尝试了下面的代码，但行为相同。

```
{
    size_t n_elem = 30000000;
    unique_ptr<double>* tmp = new unique_ptr<double>[n_elem];
    for(size_t i=0; i<n_elem; i++)
        tmp[i] = unique_ptr<double>(new double((double)i));
    delete[] tmp;
} 
```

然而，

```
size_t n_elem = 30000000;
double *d_tmp;
d_tmp = new double[n_elem];
for(size_t i=0; i<n_elem; i++)
{
    d_tmp[i] = (double)i;
}
delete[] d_tmp; 
```

此代码显示内存使用量上升到大约 260 MB，然后随着数组被删除而减少。

我尝试使用类而不是双精度类，并计算使用静态变量调用析构函数的次数。在这两种情况下，析构函数都被调用了正确的次数。

我无法弄清楚我使用 unique_ptr 的方式出了什么问题，以及为什么它在销毁后没有返回分配给操作系统的内存。cpp 参考似乎表明这应该在 uniue_ptrs 被破坏时自动发生。如何让 unique_ptr 释放它分配的内存并将其返回给操作系统？

这发生在带有 ubuntu 12.04 和 qtcreator qt 项目的 gcc 4.6 上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T13:28:26.773

通常，内存管理器会在需要时向操作系统请求更多内存，但不要在完成后尝试将其还给操作系统。后者通常很难做到，因为堆的使用往往会飞溅，并且在知道何时不再需要 OS 大小的内存块时涉及到太多的簿记。此外，即使内存管理器这样做，操作系统也可能会将该内存分配给您的程序，直到其他地方需要它为止，因此报告内存使用情况的操作系统工具不会反映您的应用程序实际使用的内容。

这里真正的问题是这种多余的内存是否会产生问题？通常，操作系统通过交换到磁盘来管理大型工作集；未使用的内存块使后备存储混乱，但不要占用 RAM。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:24:32.403

稍微改变你的代码

```
tmp.clear(); // it is not needed
{
  //Some answers in Stack overflow seems to suggest this technique to force
  //freeing, but does not seem to work.
  vector<unique_ptr<double> > tmp1;
  tmp.swap(tmp1);
}
// measure memory here 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T06:09:04.787

尝试改变这个：

```
tmp[i] = unique_ptr<double>(new double((double)i)); 
```

至：

```
tmp[i].reset(new double((double)i)); 
```

`unique_ptr`另外，我不会假设知道您打算做什么（或更好地了解），但是如果您要复制的是动态分配的双数组，则无需将其设置为. 直接使用就行了`vector<double>`。否则，您`unique_ptr`将为每个`double`要存储的单曲创建一个。这*与*连续分配的数组不同（因此利用了局部性/缓存）。这似乎会产生不必要的开销。

# java - Java - 当“这个”是唯一的方法时？

> ID：15715241
> 
> 赞同：0
> 
> 时间：2013-03-30T05:15:43.607
> 
> 标签：java, class, object, this, setter

以下代码同时运行 *var = putVar;* & *this.var = putVar;*

我理解：“this”用于识别 - “将此值仅用于 '我的' 对象”。当两者都起作用时，为什么人们通常在设置器中使用“this”？

代码：

```
public class PlayingWithObjects
{
    public static void main(String[] args)
    {
        SomeClass classObj = new SomeClass(10);

        System.out.println("classObj.getVar: " + classObj.getVar() );

        classObj.setVar(20);

        System.out.println("classObj.getVar: " + classObj.getVar() );

        classObj = new SomeClass(30);

        System.out.println("classObj.getVar: " + classObj.getVar() );
    }
}

class SomeClass
{
    private int var;

    public SomeClass(int putVar)
    {
        var = putVar;
    }

    public int getVar()
    {
        return var;
    }

    public void setVar(int putVar)
    {
//      var = putVar;           // also works
        this.var = putVar;
    }
} 
```

我是否正确理解“这个”？“this”在哪里使用&无法替换。请发布一些代码。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-30T05:18:07.160

因为人们喜欢对方法参数和实例变量使用相同的变量名——在这种情况下你需要`this`区分。

```
public void setX(int x) {
    this.x = x;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T05:26:21.517

如果您使用与字段相同的方法参数标识符，则*可以*`this`使用，但如果您只是不使用相同的名称，则可以避免使用。

不使用相同的名称是一种更常见的做法，以避免混淆和遮蔽。因此，setter 中的任何引用`this`都可以替换为更好的命名标准： `inParameter`例如。

```
public void setX(int inX) {
    x = inX;
} 
```

的另一个用途`this`是[显式调用构造函数](http://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html)。这是一种不能用更简单的命名约定代替的形式：

```
public class Foo {

    private String name;

    public Foo() {
        this("");
    }

    public Foo(String inName) {
        name = inName;
    }
} 
```

在某些情况下，您可能希望返回正在使用的实例。这也是`this`允许您执行的操作：

```
return this; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T05:27:23.787

除了提到的案例 ktm 之外，我知道有 2 个案例（我认为这是显而易见的，你已经知道了）：

1.  只是为了清楚地表明它们指的是当前对象的成员。

    ```
    void foo(int x) {
        this.y = x; // No mistaking that y belongs to the object
    } 
    ```

2.  如果您在另一个对象的匿名内部类中（例如：ClassName 类），您可以使用 ClassName.this 来获取封闭对象的实例。这样做的原因（不是双关语）是在内部类内部，这将引用内部类。

    ```
    SomeInnerClass myObj = new SomeInnerClass() {
        void bar() {
            this.y = 0; // this refers to the SomeInnerClass object
            OuterClass.this.y = 0; // OuterClass.this refers to the enclosing class OuterClass object
        }
    }; 
    ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T05:21:24.780

就像提到的 ktm 一样，setter 倾向于使用与参数字段相同的名称。在这种情况下，参数会隐藏字段名称，因此

```
public void setX(int x) {
    x = x;
} 
```

只会将参数设置为自身，而不是将字段设置为参数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-30T05:23:54.190

如果一个类有一个具有某个名称的实例变量（比如`myVar`），并且一个方法有一个具有完全相同名称的 LOCAL 变量（`myVar`），那么对该变量的任何引用都将引用 LOCAL 变量。在这种情况下，如果我们想指定类的实例变量，我们需要说`this.myVar`. 如前所述，当我们希望设置参数名称与其设置的实例变量相同的设置器时，这特别有用：

```
public void setMyVar(int myVar) {
    this.myVar = myVar; // If we said myVar = myVar;, we'd just set the local
                        // variable to itself, which would NOT be what we want.
} 
```

# c++ - Boost ASIO 设计，工作线程 SQl 查询“实用”Web 服务器

> ID：15715244
> 
> 赞同：0
> 
> 时间：2013-03-30T05:16:16.867
> 
> 标签：c++, multithreading, boost, boost-asio, blocking

我正在寻找开发高效 Web 服务器框架的解决方案，其中：

1.  一个或几个 IO 线程处理客户端 HTTP 连接和 TCP IO。
2.  多线程做业务处理（SQL查询、文件IO等）

我见过的所有博客解决方案都在解决 10000 个连接，工作线程几乎执行零业务逻辑（即仅使用`async_write`. Boost.Asio 的[HTTP Server 3](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/examples.html#boost_asio.examples.http_server_3)能解决我的问题吗？如果是这样，每个核心应该使用多少个线程？

我也有兴趣了解[HTTP Server 3与](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/examples.html#boost_asio.examples.http_server_3)[mongoose](http://code.google.com/p/mongoose/)使用的 1 个接受者线程 + 线程池模型的比较。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T14:45:21.257

抱歉，我没有足够的声誉来使用评论，所以我必须发布一个新的答案来提供任何意见。

OP 正在询问有关[http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/example/http/server3/](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/example/http/server3/)的具体问题。这是一个示例 http 服务器，它启动一个线程池来处理 http 请求。

OP 的原始问题可能会被重述：“给定具有一组资源 A 的服务器机器和每个请求消耗 B 资源的工作负载，我应该在线程池中分配多少线程？”

这里有一个线程：[Reasonable number threads for thread pool running web service requests](https://stackoverflow.com/questions/1028707/resonable-number-of-threads-for-thread-pool-in-java)进行了类似的讨论（关于 Java 线程池），但该讨论似乎没有得出任何结论性的答案。

这是我在学校学到的“老式 1970 年代大型机风格”容量规划的简短教程示例：[http](http://www.cs.umb.edu/~eb/goalmode/primer.pdf) ://www.cs.umb.edu/~eb/goalmode/primer.pdf 。

在这种情况下，您可能会创建一个简单的模型，例如：

You have an average rate of requests arriving, X. For each request you are consuming a certain average amount of cpu (in units of time) S_c, and an average amount of time spent waiting for disk requests to complete, S_d. So each thread is taking an average time S_c + S_d before it is returned to the thread pool. (You would need to measure this.) Thus on average you would expect that you would need at least N = X * (S_c+S_d) threads to avoid incoming threads queueing at an empty thread pool. You might actually want to allocate some small multiple of N (e.g. 3N) threads to be able to deal with bursts of one kind or another.

但是池中的线程数并不是真正有趣的限制。有趣的限制是您可用的 CPU 总量或磁盘带宽总量。假设每个请求需要 3 秒的 CPU 处理时间，并且您有一个具有 12 个内核的系统。因此，在任何 3 秒时间段内，您应该期望同时处理 12 个请求。因此，大于每秒 12/3 = 4 个请求的平均到达率会使您的 CPU 饱和。（磁盘带宽的类似计算。）

所以你最终要弄清楚的是：给定我预期的请求到达率 X，以及每个请求消耗的 CPU 和磁盘量，*我应该购买多少 CPU 和磁盘？*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-31T07:47:06.957

After studying most of options , I have nearly come to conclusion
A] One thread for epoll
B] Pool for business logic
C] Queue between IO thread & pool
D] pipe between IO thread & pool to wake IO thread for write data
E] accept & client read & write be done by IO thread
And I guess ngix & lighthttpd follow same ?

# php - 如何确保所有 Wordpress 标题都具有透明背景？

> ID：15715247
> 
> 赞同：0
> 
> 时间：2013-03-30T05:16:53.863
> 
> 标签：php, css, wordpress, wordpress-theming

*既然我在styles.css的***#main-content**部分中有我的重复背景，我想确保所有标题（除了一些“按钮式元素”之外）都具有透明背景。问题是我无法完全弄清楚我会在哪里做那件事。

 *为了说明我的问题，我将重点关注两页：

1.  **[主页](http://longgame.org/)**：标题“核心主题”和“最近的帖子”都有*白色*背景。
2.  **[博客文章](http://longgame.org/2012/02/95-hours-in-the-wasteland/)**：在您收到评论之前，一切看起来都很好。“3 Comments”和“Leave a Reply”有同样的问题。

如果我遗漏了一些必要的数据，请告诉我，并提前感谢脚本天使。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:20:42.287

请参阅第 99 行，其中设置了背景属性`.heading span`。你会想要类似...

```
.heading span {
    background: none;
} 
```

顺便说一句，您熟悉如何在浏览器中使用检查元素功能吗？找出这些东西会让你的生活更轻松。在现代浏览器（如 Chromium 或 Firefox）中，右键单击页面的任何部分并选择“检查元素”以查看发生了什么。*

# javascript - keyCode 问题 - 无法阻止输入 % 字符

> ID：15715256
> 
> 赞同：6
> 
> 时间：2013-03-30T05:18:14.917
> 
> 标签：javascript, keycode

在我的 HTML 页面中有一个输入文本字段。我只想输入键盘上的数字键和左/右箭头。我尝试了以下 JavaScript，但遇到了一个问题。

```
<input onkeypress="return allowNumberOnly(event)" />

function allowNumberOnly(event) {
    event = event || window.event;
    var charCode = (event.which) ? event.which : event.keyCode;

    //keyCode 48-57 represent the number 0-9
    //keyCode 37,39 represent the Left and Right arrow
    //keyCode 46 represent the Delete key
    //keyCode 8 represent the Backspace key

    return charCode == 37 || charCode == 39 || charCode == 46 || charCode == 8
              || (charCode >= 48 && charCode <= 57);
} 
```

测试这段代码后，我发现一个问题，左箭头和%特殊字符的keyCode都是37。所以我不能阻止用户输入%字符同时允许左箭头。我不知道为什么会这样。我一直认为 keyCode 对于键盘上的每个键都应该是唯一的。我想过使用 onkeyup 而不是 onkeypress。但是 onkeyup 将允许用户首先输入无效字符，然后从输入文本中删除。这种行为不是我想要的。任何建议将不胜感激。

我在 FireFox 中调试了代码，发现有以下不同。

**1\. 如果输入 %, event.which == 37 and event.keyCode == 0
2\. 如果输入左箭头, event.which == 0 and event.keyCode == 37**

这个问题似乎可以通过使用这种差异来解决。我将继续在 IE 和 Chrome 中尝试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T05:38:02.213

此链接包含有关键盘事件的更多信息

[http://unixpapa.com/js/key.html](http://unixpapa.com/js/key.html)

我也做了jQuery版本

```
$('input').keypress( function( e ){ 

    var code = e.which || e.keyCode ; 

    if ( !( e.shiftKey == false &&
            (
               code == 46 ||
               code == 8 ||
               code == 37 ||
               code == 39 ||
               ( code >= 48 && code <= 57 ) 
            )
         )
    ){

         e.preventDefault();                   
    }

}); 
```

检查它[http://jsfiddle.net/UGpUJ/](http://jsfiddle.net/UGpUJ/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T05:24:30.917

[我不久前](https://stackoverflow.com/questions/11814323/javascript-keycodes-not-working-in-firefox-but-works-well-in-chrome#11814362)想出了这个：

```
var numbersOnly = function(e){
    var charCode = (typeof e.which === "number") ? e.which : e.keyCode,
        chr = String.fromCharCode(charCode); //convert it to a character

    if(isNaN(parseInt(chr, 10))) e.preventDefault();
} 
```

用法：

```
<input type="text" name="phoneNumber" onkeypress="numbersOnly(event);"> 
```

基本上我们在这里所做的是获取使用的关键代码，将其转换为等效的字符代码，然后测试字符代码而不是关键代码。我发现这种方法比我遇到的任何其他方法都要好得多，而且效果很好。

[JS Bin 示例。](http://jsbin.com/ekosop/1/edit)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T05:26:34.393

检查布莱恩特威廉姆斯对这个问题的回答：

[如何在 Chrome 和 IE 中跟踪箭头键？](https://stackoverflow.com/questions/6226859/how-can-i-track-arrow-keys-in-chrome-and-ie)

他建议检查 charCode==0，或检查是否按下了 shift 键。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T05:29:38.510

使用 onKeydown 事件。对于 %，它是 53。

检查此链接以进行键码检查： http: [//kyokodaniel.com/tech/utils/keycodes.html](http://kyokodaniel.com/tech/utils/keycodes.html)

[http://www.west-wind.com/WestwindWebToolkit/samples/Ajax/html5andCss3/keycodechecker.aspx](http://www.west-wind.com/WestwindWebToolkit/samples/Ajax/html5andCss3/keycodechecker.aspx)

# ruby-on-rails - heroku db：迁移中止

> ID：15715261
> 
> 赞同：6
> 
> 时间：2013-03-30T05:19:04.957
> 
> 标签：ruby-on-rails, heroku, heroku-toolbelt

我是 Ruby on Rails 和 heroku 的新手。我按照视频教程中的步骤进行操作。我不认为我做了什么不同的事情。但是，当一切都在我的 localhost:3000 上运行时，我无法在 heroku 上运行 rake db:migrate 您还可以详细说明 GEMFILE.lock 和 GEMFILE 的功能。

```
$ heroku run rake db:migrate
Running `rake db:migrate` attached to terminal... up, run.9550
DEPRECATION WARNING: You have Rails 2.3-style plugins in vendor/plugins! Support for these plugins will be removed in Rails 4.0\. Move them out and bundle them in your Gemfile, or fold them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the release notes for more on this: http://weblog.rubyonrails.org/2012/1/4/rails-3-2-0-rc2-has-been-released. (called from <top (required)> at /app/Rakefile:7)
DEPRECATION WARNING: You have Rails 2.3-style plugins in vendor/plugins! Support for these plugins will be removed in Rails 4.0\. Move them out and bundle them in your Gemfile, or fold them in to your app as lib/myplugin/* and config/initializers/myplugin.rb. See the release notes for more on this: http://weblog.rubyonrails.org/2012/1/4/rails-3-2-0-rc2-has-been-released. (called from <top (required)> at /app/Rakefile:7)
Connecting to database specified by DATABASE_URL
rake aborted!
could not translate host name "ec2-54-225-69-193.compute-1.amazonaws.com" to address: Temporary failure in name resolution
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `initialize'
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `new'
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `connect'
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:324:in `initialize'
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:28:in `new'
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:28:in `postgresql_connection' 
```

我的 GEMFILE 的相关内容

```
group :production do
  gem 'pg'
end

group :development, :test do
  gem 'sqlite3'
end 
```

我的 GEMFILE.lock 的相关内容

```
 sqlite3 (1.3.7)
    thor (0.18.0)
    tilt (1.3.6)
    treetop (1.4.12)
      polyglot
      polyglot (>= 0.3.1)
    tzinfo (0.3.37)
    uglifier (1.3.0)
      execjs (>= 0.3.0)
      multi_json (~> 1.0, >= 1.0.2)

PLATFORMS
  ruby

DEPENDENCIES
  coffee-rails (~> 3.2.1)
  jquery-rails
  pg
  rails (= 3.2.13)
  sass-rails (~> 3.2.3)
  sqlite3
  uglifier (>= 1.0.3) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T05:25:21.153

这与您的代码或 ruby​​ on rails 无关。

这是一个 DNS 错误，如果你有你的 Rails 应用程序和 Heroku 中的数据库（这是默认设置），然后尝试获得 Heroku 支持，并继续尝试，一旦更新了 dns，它应该可以工作，但以防万一，尝试联系 Heroku 支持，他们应该能够很快解决问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T05:25:52.127

我猜这是由 Heroku 问题引起的临时错误，而不是您的项目。我会每隔一段时间再试一次。

我发现[这篇文章](http://yehudakatz.com/2010/02/09/using-bundler-in-real-life/)很好地介绍了 gemfile（和 gemfile.locks）的方法和原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T06:13:42.307

有时，当您创建项目时，“服务器实例”无法正常运行，无论出于何种原因，heroku 无法让一切正常运行。我也花了几个小时把头撞在墙上，只有当我创建一个新的 repo 并使用新的 heroku 实例重新开始时才发现一切正常。这就是为什么我离开 Heroku 并直接找到源头并获得 Amazon EC2 的原因之一，正如您从上面的错误中看到的那样，这正是 Heroku 使用的。

# linq - SQL Azure 上的实体框架代码优先 ToList 方法超时

> ID：15715262
> 
> 赞同：2
> 
> 时间：2013-03-30T05:19:08.917
> 
> 标签：linq, entity-framework, tsql, c#-4.0, azure-sql-database

我们有一个首先使用 EF 代码调用的视图。它使用 Linq 语法并且很简单。工作一段时间后，查询在 ToList 方法处超时。即使在那个时候，查询也可以从 SSMS 立即运行。

注意到的一件事是删除并重新创建视图可以解决问题，但是在无限期之后问题又出现了。

数据库位于 SQL Azure 上，并检查了对象上的任何锁，但没有找到任何东西。

有没有人遇到过这样的问题或类似的问题。能否请你帮忙？？？

**被阻止的实际查询**

```
var results = facilityId == Guid.Empty ?
                            (from c in Context.CallLists
                             where c.AgencyId == agencyId
                             select c)
                               :
                            (from c in Context.CallLists
                             where c.AgencyId == agencyId && c.InitiatedFacilityId == facilityId
                             select c);

if (request.Page > 0)
            {
                results = results.Skip((request.Page - 1) * request.PageSize);
            }

        return results.Take(request.PageSize); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T12:28:46.443

`IOrderedQueryable<T>`通过调用`.OrderBy()`before`Skip`和将其更改为 a `Take`。我认为它目前正在从表中检索所有行。通常我预计[会抛出异常，](https://stackoverflow.com/questions/11222694/the-method-skip-is-only-supported-for-sorted-input-in-linq-to-entities-the-me)但我不确定为什么没有抛出 - 你在使用结果吗？您是否尝试使用 Page > 0 运行它？

尝试这个：

```
var results;

if (facilityId != Guid.Empty)
{
    results = Context.CallLists.Where(c => c.AgencyId == agencyId).OrderBy(c => c.Something);
}
else
{
    results = Context.CallLists.Where(c => c.AgencyId == agencyId && c.InitiatedFacilityId == facilityId).OrderBy(c => c.Something);
}

if (request.Page > 0)
{
    results = results.Skip((request.Page - 1) * request.PageSize);
}

return results.Take(request.PageSize); 
```

除此之外，您还需要想出一种方法来处理 SQL Azure 暂时性错误。这基本上是在 SQL Azure 中执行查询时可能引发的错误子集，应通过等待和重试操作来处理，通常会增加重试之间的等待时间，直到您最终接受失败。[在此处](http://msdn.microsoft.com/en-us/library/hh680934)和[此处](http://blogs.msdn.com/b/appfabriccat/archive/2010/12/11/sql-azure-and-entity-framework-connection-fault-handling.aspx)阅读有关它的更多信息。

# java - Android java从字符串而不是硬编码访问URL

> ID：15715270
> 
> 赞同：1
> 
> 时间：2013-03-30T05:20:14.133
> 
> 标签：java, android

我正在尝试使用以下代码通过 URl 访问图像：

```
public class SingleListItem extends Activity{
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    this.setContentView(R.layout.details_list);

    TextView txtProduct = (TextView) findViewById(R.id.name);
    TextView txtLdesc = (TextView) findViewById(R.id.longdesc);
    SmartImageView imgPreview = (SmartImageView) findViewById(R.id.preview);

    imgPreview.setImageUrl(lpreview);
    Intent i = getIntent();

    // getting attached intent data
    String product = i.getStringExtra("title");
    String ldesc = i.getStringExtra("longdesc");
    String lpreview = i.getStringExtra("preview");

    // displaying selected product name
    txtProduct.setText(product);
    txtLdesc.setText(ldesc); 
```

我正在传递另一个活动的“预览”值。这包含我要从中获取图像的 URL，但它与上一个活动中的用户选择不同。在`imgPreview.setImageUrl`中，我想将其设置为 string `lpreview`，而不是对其进行硬编码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:25:02.930

试试这个，在初始化你的 setContentView() 之前 getIntent 值

```
public class SingleListItem extends Activity{
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
Intent i = getIntent();

// getting attached intent data
String product = i.getStringExtra("title");
String ldesc = i.getStringExtra("longdesc");
String lpreview = i.getStringExtra("preview");
this.setContentView(R.layout.details_list);

TextView txtProduct = (TextView) findViewById(R.id.name);
TextView txtLdesc = (TextView) findViewById(R.id.longdesc);
SmartImageView imgPreview = (SmartImageView) findViewById(R.id.preview);

imgPreview.setImageUrl(lpreview);

// displaying selected product name
txtProduct.setText(product);
txtLdesc.setText(ldesc); 
```

# java - 在 Java 中管理与数据库的多个连接

> ID：15715271
> 
> 赞同：0
> 
> 时间：2013-03-30T05:20:29.520
> 
> 标签：java, database, heroku, database-connection

我有一个由 heroku 托管的 JAX-RS 服务器。目前，我们创建一个到数据库的连接（在启动时），所有 SQL 语句都获取一个锁，使用该连接并释放锁。当我们准备扩展应用程序时，这可能行不通。我打算对同一个数据库建立一个连接队列，这样我们就可以并行运行多个 SQL 语句。

是否有捷径可寻？我希望会有类似于 java 的 ThreadPool 的东西，但用于 DB Connections。

我觉得这个从网络服务器扩展与数据库的连接的问题已经完成了很多次，并且希望以正确的方式做到这一点。感谢您的任何建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:25:36.797

对于连接池库，请查看[Apache DBCP](http://commons.apache.org/proper/commons-dbcp/)。

# python - 如何使用opencv和opengl获得面部网格？

> ID：15715275
> 
> 赞同：1
> 
> 时间：2013-03-30T05:20:45.743
> 
> 标签：python, opengl, opencv

我正在使用 opencv 和 python 进行人脸检测，但我需要计算人脸位置并获得一些特征，如睁开眼睛和张开嘴巴。我正在考虑使用面网格网格中的顶点值。

有谁知道如何使用opencv检测到人脸的网格？

PD：我已经使用了 Haar Cascade，但它不符合我的需要。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T13:04:26.767

使用 HaarCascade 只会返回检测到的人脸的边界，而不是网格。您应该看看[Jason Saraigh](http://www.ri.cmu.edu/pub_files/2009/9/CameraReady-6.pdf)的[FaceTracker](https://github.com/kylemcdonald)。

我已经单独在 c++ 和[openFrameworks](https://github.com/kylemcdonald/ofxfacetracker)中使用过它，但我看到有一个[Python 包装器](https://pypi.python.org/pypi/pyFaceTracker/0.1.1)可用

# java - 原始包装类中的问题

> ID：15715281
> 
> 赞同：0
> 
> 时间：2013-03-30T05:21:59.227
> 
> 标签：java, wrapper, primitive

为什么在比较 Long、Integer 等原始包装类时不使用 ==。为什么它们不起作用。

```
public static void main(String[] args) {

        Number l = Integer.parseInt("30");
        Number l2 = Integer.parseInt("30");
        System.out.println(l == l2);        

        l = Integer.parseInt("3000");
        l2 = Integer.parseInt("3000");
        System.out.println(l == l2);
    } 
```

为什么在上面的代码中一个结果为真而另一个为假？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:04:48.553

首先，警告： **您不是在比较值；您正在比较内存地址。**

The wrapper classes are still bonafide objects - and the only way to test object equality is to the the `equals()` method. If you were comparing against a *compatible** primitive, then auto-unboxing would have taken the `Integer` into an `int`, and did an equality check on that. Note that `Number` can't be auto-unboxed; you would have to call [`intValue()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Number.html#intValue%28%29) to get an `int` back.

Second, `Integer.valueOf()` will [cache values in a byte range, from -128 to 127](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#valueOf%28int%29). Any two `Integer` objects instantiated within that range will resolve to the same memory address.

^(*: Either one of those `Number` objects would need to become an `int`.)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:15:15.623

Consider this case:

```
 new Integer(30)==new Integer(30) 
```

On each side of `==` you have a **new** instance, then the left hand side and the right hand side are different objects, and the comparison evaluates as false (as it tests instance identity).

The case with boxing is more complicate, as it relies on `Integer.valueOf`, which already caches the value for some low-value integers (at least in the range -128 to 127, though implementations can choose a greater range).

This issue is similar to the following, where the equality evaluates as `true` even when we have been told that we should compare strings using `equals`.

```
String a = "foo";
String b = "foo";
System.out.println(a==b); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T05:44:19.687

这些行

```
Number l = Integer.parseInt("30");
Number l2 = Integer.parseInt("30"); 
```

由 Java 编译器（自动发件箱）转换为

```
Number l = Integer.valueOf(Integer.parseInt("30"));
Number l2 = Integer.valueOf(Integer.parseInt("30")); 
```

Integer.valueOf(int) API 说*此方法将始终缓存 -128 到 127 范围内的值，包括*. 也就是说，对于 30 个，从缓存中返回相同的 Integer 实例；对于 3000，返回 Integer 的两个不同（新）实例。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-06-19T14:31:18.097

According to java specification [java language specification](https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7)

> If the value p being boxed is true, false, a byte, or a char in the range \u0000 to \u007f, or an int or short number between -128 and 127 (inclusive), then let r1 and r2 be the results of any two boxing conversions of p. It is always the case that r1 == r2.

# scroll - 连接的 VHDL 移位

> ID：15715282
> 
> 赞同：0
> 
> 时间：2013-03-30T05:22:05.983
> 
> 标签：scroll, concatenation, vhdl, bit-shift

我正在编写我认为是相当标准的 VHDL 代码，但执行不断地回到我身上。

该代码旨在成为 Nexsys 3 板上的简单游戏。第一个玩家选择一个开关，当他们在开关本身上方时，LED 从它向下滚动显示一个空白。当滚动条到达选定的开关时，第二个玩家按下按钮。我的游戏部分是让 LED 滚动。我的代码可以在下面查看：

```
library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_UNSIGNED.ALL;
use IEEE.NUMERIC_STD.ALL;

entity Two_Player_3_24_2013 is
port(   clk:        in   std_logic;
        rst:        in   std_logic;
        switches:   in   std_logic_vector(7 downto 0);
        led_indic:  out  std_logic_vector(7 downto 0)           
 );

end Two_Player_3_24_2013;

architecture Behavioral of Two_Player_3_24_2013 is

signal    count:    std_logic_vector(31 downto 0):= "00000000000000000000000000000000";     
signal    only_one: std_logic := '0';
signal    shifter:  std_logic_vector(7 downto 0)    := "00000000";

begin

only_one <= '1' when switches = "10000000" else
            '1' when switches = "01000000" else
            '1' when switches = "00100000" else
            '1' when switches = "00010000" else
            '1' when switches = "00001000" else
            '1' when switches = "00000100" else
            '1' when switches = "00000010" else
            '1' when switches = "00000001" else
            '0';

counting:   process(clk, rst, only_one)
    begin 
    if (rst = '1') then
    count <= "00000000000000000000000000000000";
    elsif (clk'event and  clk='1' and only_one = '1') then
    count <=  count + '1';
    end if;
end process counting;

shifting:   process(clk, rst, count, shifter)
    begin
    if (rst = '1') then
    shifter <= "00000000";
    elsif (clk'event and  clk='1' and count = "00000000000000010000000000000000") then
    shifter <= switches;
    elsif (clk'event and  clk='1' and count(25) = '1') then
    shifter <= shifter(0) & shifter(7 downto 1);
    end if;
end process shifting;

led_indic <= shifter;

end Behavioral; 
```

现在我已经单独检查了这些部件并且它们可以工作。该`only_one`信号仅在一个开关打开时为真。计数器在正确的时间开始，第一个开关也在正确的时间触发。出于某种原因，我仍然无法弄清楚，但是，它拒绝滚动。我已经尝试在板上和模拟中运行它，但我无法弄清楚为什么滚动不起作用。原始设置仅在特定时间发生，而串联应以固定时间间隔发生。我知道问题出在

```
shifter <= shifter(0) & shifter(7 downto 1); 
```

但到目前为止，我没有尝试过修复它。

任何意见是极大的赞赏。

谢谢，
尤西夫·努里扎德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:27:31.453

我想在模拟中你只需要等待;-)

当您使用**100MHz**时钟时，大约需要 335ms 直到发生任何事情（count(25) 很高）。只要 count(25) 为高，LED 就会在接下来的 335ms 内快速移动，并在与它们开始时相同的位置结束。--> 因此**调整你的计数器**。

对于游戏本身，请重新考虑“shift while count(25)='1'”这件事！仅在一个相对位置移动更有意义（例如，如果 count=X"01000000"...）

顺便说一句：对于综合来说，实现门控时钟并不是一个好习惯

```
elsif (clk'event and  clk='1' and count(25) = '1')) then 
```

你应该使用例如：

```
elsif (clk'event and  clk='1') then
   if count(25) = '1' then
      ... 
```

# ios - 如何为方法创建一个类以使用 uiviewcontroller

> ID：15715286
> 
> 赞同：3
> 
> 时间：2013-03-30T05:22:34.280
> 
> 标签：ios, objective-c

我在想，我怎样才能为 twitter 或 facebook 或任何东西开设课程。所以只要我将该类导入我的项目，它就开始使用一个代码。例如。如果我使用 twitter 框架，那么我必须编写它的功能。我只想通过导入它来创建一个类，它将在我未来的所有项目中运行。例子：

任何课程或任何东西：

```
-(void)shareOnTwitter:(NSString *)text withUrl:(NSURL *)url withImage:(UIImage *)image
{
   // ALL TWITTER Code HERE;
} 
```

在我的任何项目的主视图控制器中：

```
- (IBAction)socialBtn:(id)sender
{
  [self shareOnTwitter:@"This is Text" withUrl:nil withImage:nil];
} 
```

**更新：刚刚尝试了分类方式，但没有响应返回，知道我错在哪里了吗？：**

**UIViewController+CustomMethods.h**

```
#import <UIKit/UIKit.h>
#import <Social/Social.h>

@interface UIViewController (CustomMethods)

-(void)shareOnTwitter:(NSString *)text withUrl:(NSURL *)url withImage:(UIImage *)image;

@end 
```

**UIViewController+CustomMethods.m**

```
#import "UIViewController+CustomMethods.h"

@implementation UIViewController (CustomMethods)

-(void)shareOnTwitter:(NSString *)text withUrl:(NSURL *)url withImage:(UIImage *)image {

    if ([SLComposeViewController isAvailableForServiceType:SLServiceTypeTwitter])
    {

        SLComposeViewController *tweetSheet = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeTwitter];

        [tweetSheet setInitialText:text];
        [tweetSheet addImage:image];
        [tweetSheet addURL:url];

        [self presentViewController:tweetSheet animated:YES completion:nil];
    }
    else
    {
        UIAlertView *alertView = [[UIAlertView alloc]
                                  initWithTitle:@"Sorry"
                                  message:@"You can't Post a Status right now, make sure your device has an internet connection and you have at least one Twitter account setup"
                                  delegate:nil
                                  cancelButtonTitle:@"OK"
                                  otherButtonTitles:nil];
        [alertView show];
    }

}
@end 
```

**主视图控制器：**

```
NSString *title = [webViewOutlet stringByEvaluatingJavaScriptFromString:@"document.title"];
            NSURL *url = [[webViewOutlet request] URL];

            [self shareOnTwitter:title withUrl:url withImage:nil]; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T05:30:41.093

我相信这是一个实例，您可以使用称为“类别”的 Objective-C 功能。类别是对已经建立的类的扩展。例如，我们可以为 UIViewController 创建一个类别，它将向所有 UIViewController 类添加新方法。

为此，我们执行以下操作：

制作一个声明原型的 .h 文件：

```
@interface UIViewController (CategoryName) // EG. (Twitter)
// PROTOTYPES... EG:
-(void)shareOnTwitter:(NSString *)text withUrl:(NSURL *)url withImage:(UIImage *)image;
@end 
```

以及实现它们的相应 .m 文件：

```
@implementation UIViewController (CategoryName)
// IMPLEMENTATIONS... EG:
-(void)shareOnTwitter:(NSString *)text withUrl:(NSURL *)url withImage:(UIImage *)image {
    // Code...
}
@end 
```

（请注意，当您在 XCode 中声明一个新文件时，它有一个您可以使用的“类别”模板。）

现在，每当您导入 .h 文件时，作为一个类的 UIViewController 将包含您扩展它的方法！

[这是](http://mobile.tutsplus.com/tutorials/iphone/objective-c-categories/)一个关于我通过快速谷歌搜索找到的类别的教程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T05:27:29.507

创建您的**此类**`NSObject`，

```
@interface YourClassName : NSObject
.
.
. // put all methods and ivar..etc that your need. (in Proper way)
.
. 
```

并将所有方法放入其中（*方法体`.m file`*）

就`#import "YourClassName.h"`在你想**继承**它的地方。

并且您可以访问放在课堂上的**所有功能。**`YourClassName`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T05:27:16.317

要创建一个委托，您可以将其添加到接口声明之上`YourTwitterClass.h`

```
@protocol YourTwitterDelegate <NSObject>
-(void)delegteMethod;
@end 
```

你会通过子类化来做这样的事情`NSObject`

```
//In YourTwitterClass.h
//Twitter framework(needed but I don't know the name)
#import <Twitter/Twitter.h>
#import <UIKit/UIKit.h>

@interface YourTwitterClass : NSObject

@property (nonatomic) id<YourTwitterDelegate> delegate;    
-(void)shareOnTwitter:(NSString *)text withUrl:(NSURL *)url withImage:(UIImage *)image delegate:(id<YourTwitterDelegate>)del;

@end

//in YourTwitterClass.m
@implementation YourTwitterClass
-(void)shareOnTwitter:(NSString *)text withUrl:(NSURL *)url withImage:(UIImage *)image delegate:(id<YourTwitterDelegate>)del{
_delegate = del;
[_delegate delegateMethod];//calls the delegate method
//do twitter stuff
} 
```

然后在您的视图控制器中

```
//import "YourTwitterClass.h"

- (IBAction)socialBtn:(id)sender
{
YourTwitterClass *t = [[YourTwitterClass alloc] init];
[t shareOnTwitter:@"This is Text" withUrl:nil withImage:nil];
}
//and the delegate method
-(void)delegateMethod{
NSLog(@"This is a delegate method!);
} 
```

在您的`ViewController.h`文件中，您还必须将其添加到接口声明中

**编辑** 如果你想添加一个代表，一个邮件撰写者，添加那个类的代表

```
@interface ViewController : UIViewController <MFMailComposeViewControllerDelegate>
//or
@interface YourTwitterClass : NSObject <MFMailComposeViewControllerDelegate> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T07:45:23.433

答案使它比实际情况更复杂：

您需要使用 mytweet.h 和 mytweet.m 创建一个如上所述的 NSObject 类

在您的 UIViewController 方法中，您需要实例化您创建的自定义类：

```
#import Mytweet.h; 
```

……

```
 -(void) viewDidload { ...

    } 
```

然后调用方法如下：

```
 -(IBACTION) Handletweet{ 

      Mytweet *a = [[Mytweet alloc] init];
      Bool ABC = [Mytweet custom_method1:parameter1 p2:parameter2];} 
```

as with anything in Objective C you will need to keep in mind that the objects has a lifetime it get created and released (automatically with ARC) so any parameter that you need to be live beyond the life of your custom class need to be created outside the custom class and passed as a parameter.

```
 Mytweet *a = [[Mytweet alloc] init];
      a.parameter1 = value; 
```

where in my tweet.h

```
 @property (nonatomic,strong) NSString *parameter1; 
```

Re: Delegates - Delegate methods are a way to override the written methods by a calling class, these are typical in Apple or 3rd party framework classes since the entire source may not be open to you, For custom classes, you don't need them just customize and add methods to the custom class as much as you want, you will find this results in cleaner code than otherwise

# sql - APEX 日历 - 为一系列日期添加 ID，而不仅仅是一个日期

> ID：15715290
> 
> 赞同：1
> 
> 时间：2013-03-30T05:23:24.500
> 
> 标签：sql, oracle, calendar

我有一个名为 Bed_registry 的表（用于医院数据库）

```
CREATE TABLE Bed_Registry (
 Visit_ID       CHAR(5) ,
 Bed_ID     CHAR(5) ,
 Admission_Date DATE        NOT NULL,
 Discharge_Date DATE,
 CONSTRAINT BR_PK PRIMARY KEY(Visit_ID, Bed_ID),
 CONSTRAINT BR_FK_visit
   FOREIGN KEY (Visit_ID)
   REFERENCES Visit (Visit_ID)
   ON DELETE CASCADE,
 CONSTRAINT BR_FK_bed
   FOREIGN KEY (Bed_ID)
   REFERENCES Bed (Bed_ID)
   ON DELETE CASCADE
); 
```

我为这个表创建了一个 SQL 日历，我可以`Bed_ID`只将 放在日历上`Admission_Date`或中的一个上`Discharge_Date`。我想知道是否有任何方法`Bed_id`不仅可以显示其中一个日期，还可以显示介于`Admission_Date`和之间的所有日期`Discharge_Date`。

非常感谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T18:07:36.223

您需要创建一个查询，以在 Admission_date 和 Discharge_date 之间生成日期。然后，您可以根据此查询创建日历。

为此，您首先需要一个数字为 0...n 的表格，其中 n 大到足以涵盖医院的最大住院天数。

餐桌天数：

```
Day
0
1
2
3
4
... 
```

然后您的查询将如下所示：

```
select Admission_date, Discharge_date, 
       Admission_date + days.day AS Occupied_date
from   beds, 
       (select days.day from days order by days.day) days
where  Admission_date + days.day <= Discharge_date
order by Admission_date, Occupied_date; 
```

See [sqlfiddle demo](http://www.sqlfiddle.com/#!4/b738a/1)

# c# - 实体框架代码优先 - 如何为生产数据库运行 Update-Database

> ID：15715292
> 
> 赞同：85
> 
> 时间：2013-03-30T05:23:35.017
> 
> 标签：c#, asp.net-mvc, entity-framework

我想知道如何为生产数据库运行“更新数据库”命令。

'Update-Database' 数据库在我的本地机器上工作正常，但我如何让它适用于生产数据？

因此，如果我对我的应用程序进行更改，然后通过 Visual Studio 运行“发布”，这对于代码方面的工作正常，但我如何为生产数据运行“更新数据库”命令。

希望这个问题有意义...

谢谢，

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-03-30T08:40:03.790

请参阅[在生产中使用实体框架（代码优先）迁移，](https://stackoverflow.com/questions/10848746/using-entity-framework-code-first-migrations-in-production)以便您的应用程序在实体框架初始化时自动更新数据库。

现在，如果您更愿意手动控制迁移，您可以在开发人员机器上使用 Update-Database 命令的 -Script 参数来生成 SQL 脚本，然后您可以针对生产数据库运行这些脚本。

[http://msdn.microsoft.com/en-us/data/jj591621.aspx](http://msdn.microsoft.com/en-us/data/jj591621.aspx)（请参阅获取 SQL 脚本部分）

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2013-03-30T11:48:26.923

补充@David已经说过的话......

就个人而言，我不相信`automatic updates`“实时”场景，而且我总是更喜欢手动数据库管理（即，`permissions`需要创建或更改 Db 存在问题 - 更不用说共享托管等） - 但从我所见在同步方面，迁移非常可靠（事实上，通常“解开”它们的唯一方法是删除 Db 并强制完全/全新更新）。

这是我不久前发表的一篇关于如何`script`和`synchronize database / code`面向部署场景（以及何时出现问题）的帖子。它不适用于您（还），但要记住一些事情。

[MVC3 和 Code First 迁移 - “自从创建数据库以来，支持‘blah’上下文的模型已经改变”](https://stackoverflow.com/questions/10254613/mvc3-and-code-first-migrations/10255051#10255051)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2017-04-03T12:44:10.480

您是否只想在应用程序运行的时间和地点（开发和生产）*自动*更新数据库到最新版本？

这可能不是一个好主意，除非在您知道可以信任自动迁移并且手动迁移数据库不可行的非常简单的场景中。请看这个答案：[https](https://stackoverflow.com/a/15718190/2279059) ://stackoverflow.com/a/15718190/2279059 。如果您忽略此警告，请继续阅读。

Add the following to `web.config`:

```
<entityFramework>
<contexts>
  <context type="MyAssembly.MyContext, MyAssembly" disableDatabaseInitialization="false">
    <databaseInitializer type="System.Data.Entity.MigrateDatabaseToLatestVersion`2[[MyAssembly.MyContext, MyAssembly], [MyAssembly.Migrations.Configuration, MyAssembly]], EntityFramework" />
  </context>
</contexts> 
```

This may look scary, but it does basically the same as the following code:

```
Database.SetInitializer(new MigrateDatabaseToLatestVersion<MyContext, Migrations.Configuration>()); 
```

If you have no luck with `web.config`, then you may also try to put this code into `Global.asax`. I personally prefer configuration over code.

If you want your config file to look cleaner, you can also derive a new class from the template `MigrateDatabaseToLatestVersion` class so you don't need to use the cryptic syntax for passing type arguments in your `web.cofig` file:

```
public class MyDatabaseInitializer : public MigrateDatabaseToLatestVersion<MyContext, Migrations.Configuration> {} 
```

What this does is to set a database initializer which automatically updates the database to the latest version.

(Source and more details: [Entity Framework Code First Web.config Initialization](https://www.ralphlavelle.net/2012/09/entity-framework-code-first-webconfig.html))

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-07-04T08:11:58.300

Another solution that has worked for me was this: In my local web.config file, I set the connection string to point to the production server.

Then all the PM Console commands will be run on the production server. I can `update-database` or revert migrations as needed, and the changes will apply to the production database.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-12-08T20:18:47.803

You can run the *Update-Database* EF Tools command using the Production connection string as follows:

```
Update-Database -Args '--environment Production' 
```

Source: [https://docs.microsoft.com/en-us/ef/core/cli/powershell#aspnet-core-environment](https://docs.microsoft.com/en-us/ef/core/cli/powershell#aspnet-core-environment)

As stated by others, you have to be extra careful, you should definitely try it first on a **Staging** environment.

# java - 程序运行时发生 ArrayIndexOutOfBoundsException

> ID：15715293
> 
> 赞同：0
> 
> 时间：2013-03-30T05:23:36.177
> 
> 标签：java, string, com

我为gps NMEA0183协议数据解码编写代码我成功了，但是当程序在一些执行后处于运行状态时显示错误arrayindexoutofbounce我无法理解它为什么会发生。我的代码低于直接关注我的错误我只是给我的整个代码更多只详细。谢谢。

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * test2.java
 *
 * Created on Mar 17, 2013, 8:11:09 AM
 */
package vpspro;
import java.awt.Color;
import java.awt.Component;
import java.io.IOException;
import java.util.Enumeration;
import java.util.TooManyListenersException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.comm.UnsupportedCommOperationException;
import vpspro.communication;
import java.util.Timer;
import java.util.TimerTask;
import javax.comm.CommPortIdentifier;
import javax.swing.JOptionPane;
import javax.swing.JSpinner;

/**
 *
 * @author DJ ROCKS
 */
public class test2 extends javax.swing.JFrame {

     CommPortIdentifier portId = null;
     public boolean bul=false; 
     public Object v;
     public String all=null;

       Timer timer;
    private Component test2;
    public test2() {

        initComponents();

    }

private void data() throws UnsupportedCommOperationException, IOException, TooManyListenersException,ArrayIndexOutOfBoundsException
    {

        String[] a2;
 String a1[];
 String c;
 String[] t;
  String s[];
        communication aa=new communication();

       while(bul==true)
       {
           int tp=0;
        if(aa.com().isEmpty()==false)
        {

         s=aa.com().split("\\$",0); 

        char d=aa.com().charAt(0);
        switch(d)
        {
            case '$':

           a1=s[1].split("\\*",0);
           int l=a1[0].length();
char[] a=a1[0].toCharArray();
int b=0;

for(int p=0;p<l;p++)
{

b=b^a[p];

}

 c=Integer.toHexString(b);
 if(a1[1].equalsIgnoreCase(c))
 {
           System.err.println(a1);
           t=a1[0].split(",",0);
           if((a1[0].substring(2, 5).equalsIgnoreCase("GGA")))
           {
           lon.setText(t[4].concat(" "+t[5])); 
               System.out.println(t[5]);

           lat.setText(t[2].concat(" "+t[3]));
           utc.setText(t[1]);

           }
           else
           {
               System.err.println("System fail");
           }

 }                 

        }

            }     

       }

                  }

    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jDialog1 = new javax.swing.JDialog();
        jDialog2 = new javax.swing.JDialog();
        jDialog3 = new javax.swing.JDialog();
        jPanel2 = new javax.swing.JPanel();
        jPanel1 = new javax.swing.JPanel();
        sp = new javax.swing.JSpinner();
        bd = new javax.swing.JComboBox();
        ok = new javax.swing.JButton();
        dis = new javax.swing.JButton();
        lon = new javax.swing.JTextField();
        lat = new javax.swing.JTextField();
        utc = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();

        javax.swing.GroupLayout jDialog1Layout = new javax.swing.GroupLayout(jDialog1.getContentPane());
        jDialog1.getContentPane().setLayout(jDialog1Layout);
        jDialog1Layout.setHorizontalGroup(
            jDialog1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 400, Short.MAX_VALUE)
        );
        jDialog1Layout.setVerticalGroup(
            jDialog1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 300, Short.MAX_VALUE)
        );

        jDialog2.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        javax.swing.GroupLayout jDialog2Layout = new javax.swing.GroupLayout(jDialog2.getContentPane());
        jDialog2.getContentPane().setLayout(jDialog2Layout);
        jDialog2Layout.setHorizontalGroup(
            jDialog2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 400, Short.MAX_VALUE)
        );
        jDialog2Layout.setVerticalGroup(
            jDialog2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 300, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jDialog3Layout = new javax.swing.GroupLayout(jDialog3.getContentPane());
        jDialog3.getContentPane().setLayout(jDialog3Layout);
        jDialog3Layout.setHorizontalGroup(
            jDialog3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 400, Short.MAX_VALUE)
        );
        jDialog3Layout.setVerticalGroup(
            jDialog3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 300, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setBackground(new java.awt.Color(255, 102, 0));
        setFont(new java.awt.Font("Alaska", 1, 10));
        setForeground(new java.awt.Color(51, 51, 255));

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 487, Short.MAX_VALUE)
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 608, Short.MAX_VALUE)
        );

        jPanel1.setBackground(new java.awt.Color(153, 204, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel1.setMaximumSize(new java.awt.Dimension(3276, 3276));

        sp.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sp.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                spStateChanged(evt);
            }
        });

        bd.setBackground(new java.awt.Color(51, 153, 255));
        bd.setEditable(true);
        bd.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        bd.setForeground(new java.awt.Color(255, 0, 204));
        bd.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "4800", "9600" }));
        bd.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                bdItemStateChanged(evt);
            }
        });
        bd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bdActionPerformed(evt);
            }
        });

        ok.setBackground(new java.awt.Color(0, 153, 102));
        ok.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ok.setForeground(new java.awt.Color(105, 105, 105));
        ok.setText("connect");
        ok.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                okStateChanged(evt);
            }
        });
        ok.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                okActionPerformed(evt);
            }
        });

        dis.setBackground(new java.awt.Color(204, 204, 255));
        dis.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        dis.setText("disconnect");
        dis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                disActionPerformed(evt);
            }
        });

        lon.setBackground(new java.awt.Color(153, 204, 255));
        lon.setEditable(false);
        lon.setFont(new java.awt.Font("Tahoma", 0, 36)); // NOI18N
        lon.setForeground(new java.awt.Color(255, 0, 102));
        lon.setText(" ");
        lon.setBorder(new javax.swing.border.MatteBorder(null));
        lon.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                lonActionPerformed(evt);
            }
        });

        lat.setBackground(new java.awt.Color(153, 204, 255));
        lat.setEditable(false);
        lat.setFont(new java.awt.Font("Tahoma", 0, 36)); // NOI18N
        lat.setForeground(new java.awt.Color(255, 51, 102));
        lat.setText(" ");
        lat.setBorder(new javax.swing.border.MatteBorder(null));
        lat.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                latActionPerformed(evt);
            }
        });

        utc.setBackground(new java.awt.Color(153, 204, 255));
        utc.setEditable(false);
        utc.setFont(new java.awt.Font("Tahoma", 0, 36)); // NOI18N
        utc.setForeground(new java.awt.Color(255, 0, 102));
        utc.setText(" ");
        utc.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        utc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                utcActionPerformed(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel4.setText("UTC");

        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel3.setText("latitude");

        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel2.setText("longitude");

        jLabel1.setFont(new java.awt.Font("Sylfaen", 2, 18)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(255, 51, 51));
        jLabel1.setText("COM");

        jLabel5.setFont(new java.awt.Font("Tahoma", 2, 18)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(255, 51, 51));
        jLabel5.setText("baudrate");

        jLabel6.setIcon(new javax.swing.ImageIcon("C:\\Users\\DJ ROCKS\\Desktop\\ship(1).png")); // NOI18N
        jLabel6.setText(" ");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addContainerGap(113, Short.MAX_VALUE)
                                .addComponent(jLabel6)
                                .addGap(130, 130, 130))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(84, 84, 84)
                                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(sp, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(8, 8, 8)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel3)
                            .addComponent(jLabel2)
                            .addComponent(jLabel4))
                        .addGap(25, 25, 25)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(utc, javax.swing.GroupLayout.DEFAULT_SIZE, 366, Short.MAX_VALUE)
                            .addComponent(lat, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 366, Short.MAX_VALUE)
                            .addComponent(lon, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 366, Short.MAX_VALUE)))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(66, 66, 66)
                        .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(bd, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(78, 78, 78)
                        .addComponent(ok)
                        .addGap(72, 72, 72)
                        .addComponent(dis)))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap(33, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lon, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel2))
                        .addGap(39, 39, 39)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel3)
                            .addComponent(lat, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(38, 38, 38)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel4)
                            .addComponent(utc, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(38, 38, 38))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel6)
                        .addGap(64, 64, 64)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 18, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(sp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(46, 46, 46)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(bd, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5))
                .addGap(50, 50, 50)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(dis)
                    .addComponent(ok))
                .addGap(153, 153, 153))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(44, 44, 44)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>                        

    private void okActionPerformed(java.awt.event.ActionEvent evt) {                                   

if(evt.getSource()==ok)
{
    bul=true;
    if(new communication().bul1==false)
    {
    JOptionPane.showMessageDialog(test2,"GPS CONNECTE");

    }
    //System.out.print(bd.get);
   timer = new Timer();
    timer.schedule(new RemindTask(), 1); 

}

    }                                  

    private void okStateChanged(javax.swing.event.ChangeEvent evt) {                                
        // TODO add your handling code here:
    }                               

    private void latActionPerformed(java.awt.event.ActionEvent evt) {                                    
        // TODO add your handling code here:
    }                                   

    private void disActionPerformed(java.awt.event.ActionEvent evt) {                                    
        // TODO add your handling code here:
        //
        if(evt.getSource()==dis)
        {
              bul=false;
JOptionPane.showMessageDialog(test2,"GPS DISCONNECTE");

        }
    }                                   

    private void bdActionPerformed(java.awt.event.ActionEvent evt) {                                   
        // TODO add your handling code here:

    }                                  

    private void lonActionPerformed(java.awt.event.ActionEvent evt) {                                    
        // TODO add your handling code here:
    }                                   

    private void spStateChanged(javax.swing.event.ChangeEvent evt) {                                

        sp=(JSpinner) evt.getSource();
         v= sp.getValue();
    }                               

    private void bdItemStateChanged(java.awt.event.ItemEvent evt) {                                    
        // TODO add your handling code here:
        String all=(String)bd.getSelectedItem();
    }                                   

    private void utcActionPerformed(java.awt.event.ActionEvent evt) {                                    
        // TODO add your handling code here:
    }                                   

class RemindTask extends TimerTask {
    public void run() {
            try {

                data();

            } catch (UnsupportedCommOperationException ex) {
                Logger.getLogger(test2.class.getName()).log(Level.SEVERE, null, ex);
            } catch (IOException ex) {
                Logger.getLogger(test2.class.getName()).log(Level.SEVERE, null, ex);
            } catch (TooManyListenersException ex) {
                Logger.getLogger(test2.class.getName()).log(Level.SEVERE, null, ex);
            }

    }

  }
    public static void main(String args[])
    {
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                test2 i=new test2();

                System.out.println(i.getBackground());
                i.setTitle("VESSEL POSITION SYSTEM");

                i.setVisible(true);
                i.setDefaultCloseOperation(EXIT_ON_CLOSE);
                i.transferFocus();
            }
        });
    }
    // Variables declaration - do not modify                     
    public javax.swing.JComboBox bd;
    private javax.swing.JButton dis;
    private javax.swing.JDialog jDialog1;
    private javax.swing.JDialog jDialog2;
    private javax.swing.JDialog jDialog3;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    public javax.swing.JTextField lat;
    public javax.swing.JTextField lon;
    private javax.swing.JButton ok;
    public static javax.swing.JSpinner sp;
    public javax.swing.JTextField utc;
    // End of variables declaration                   
} 
```

错误

```
Exception in thread "Timer-0" java.lang.ArrayIndexOutOfBoundsException: 1
    at vpspro.test2.data(test2.java:75)
    at vpspro.test2.access$900(test2.java:31)
    at vpspro.test2$RemindTask.run(test2.java:463)
    at java.util.TimerThread.mainLoop(Timer.java:555)
    at java.util.TimerThread.run(Timer.java:505) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:29:39.313

这条线似乎是问题所在：-

```
a1=s[1].split("\\*",0); 
```

这是因为此代码片段`s=aa.com().split("\\$",0);`似乎只将`1`元素返回到字符串数组`s`。

因此，`s[1]`正在抛出`ArrayIndexOutOfBoundsException`.

# xcode - 在 Native Xcode 中集成 Cocos2D，反之亦然

> ID：15715294
> 
> 赞同：1
> 
> 时间：2013-03-30T05:23:39.147
> 
> 标签：xcode, cocos2d-iphone

我在原生 Xcode 中制作了一个项目，但我想将 cocos2D 中的一些动画添加到我当前的项目中。我知道我可以使用 Core Animation(Open GL) 制作动画，但这需要很多时间。我正在寻找的转换已经在 cocos2D 中。那么，为什么要费心自己做这个过渡。

所以，我想知道如何将 cocos2D 集成到 Xcode 中，反之亦然。

我已经阅读了许多关于将 cocos2D 集成到原生 Xcode 项目中的教程，但是它们已经过时并且对我没有帮助。我正在使用最新的 Xcode 4.6.1

有人可以帮忙解决我的问题吗？？？

提前致谢.... ：）

# mysql - 水晶报表4.6.1.0连接Mysql

> ID：15715295
> 
> 赞同：0
> 
> 时间：2013-03-30T05:23:41.523
> 
> 标签：mysql, vb6, crystal-reports

如何设置安装在另一台服务器上的 MySQL 数据库的路径，例如`192.168.1.35`？

```
strReportName = "Schedule.rpt"

intReportDestination = crptToWindow
With rptAnnSalExp
    .ReportFileName = GetAppPath1() & strReportName
    .Destination = intReportDestination
    .Connect = "SERVER=192.168.1.35;DATABASE=test;User=amu; Password=amu"
    rptAnnSalExp.Action = crptMaximized
End With 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T11:13:26.177

您的连接字符串未指定要使用的数据库提供程序，因此它不知道如何连接。您应该能够使用用于在代码中创建正常数据库连接的相同连接字符串。

# python - 在迭代和线程期间设置更改的大小

> ID：15715298
> 
> 赞同：0
> 
> 时间：2013-03-30T05:23:55.190
> 
> 标签：python, python-2.x

我有一个集合，我`while True`在一个线程上循环，而在另一个线程上，我偶尔需要添加或丢弃属于该集合的项目。有什么好的方法可以做到这一点并避免使用 try/except （这种方法会破坏方法的其余部分，并且基本上会导致我的程序出现“故障”）？到目前为止，我所拥有的非常笨拙。这是一个复杂的混乱，我不能轻易粘贴在这里，所以这里是我所做的简要描述。

当需要将新项目添加到字典中时，我会将其添加到临时列表中。然后，我在主迭代结束时检查列表中是否有任何内容，如果有，则完成添加它们的过程。完成后，我将临时列表重新分配给一个空白列表，以接受可能需要添加的新项目。我也对需要删除的项目做同样的事情。所以，再次抱歉没有代码。这真是一团糟。关于如何更好地做到这一点的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-31T09:47:06.250

正如我在评论中提到的，考虑使用[`Queue`](http://docs.python.org/2/library/queue.html#module-Queue)模块`Queue`类的实例在程序中运行的不同线程之间传递信息。该模块实现了多种队列，因此您可以选择最适合您正在做的事情的一种，并同步对它们的访问。

该类`Queue`是为多线程编程而设计的，因此它的方法会自动为您处理所有必需的锁定细节，从而防止我认为您在问题中描述的同时访问问题。

例如，可以测试队列是满还是空，从而减少在检索项目时使用 try/except 子句的需要。或者，如果需要， `Queue`'sa`get()`方法将可选地阻塞并可能超时。

抱歉，没有您实际尝试做的示例代码，我无法更具体。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:46:26.073

For `set_name = set()`,`set_name.discard(element)`如果元素不存在，则不会引发异常。

编辑：

```
help(set.discard)

discard(...)
    Remove an element from a set if it is a member.

    If the element is not a member, do nothing. 
```

# c# - 可在所有 Windows 商店应用程序页面中访问的复杂 c# 对象

> ID：15715307
> 
> 赞同：0
> 
> 时间：2013-03-30T05:25:11.773
> 
> 标签：c#, windows-store-apps

我有一个 StorageFiles 列表，并希望在所有 Windows 商店应用程序页面中都可以访问它。我尝试使用 Windows.Storage.ApplicationData.Current.RoamingSettings 和 Windows.Storage.ApplicationData.Current.LocalSettings 但它们仅支持运行时数据类型。另外，我不想使用 Windows.Storage.ApplicationDataCompositeValue 和导航参数。

有什么建议么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T18:36:53.230

将它们定义为`App.xaml.cs`文件中的全局变量。

在`App.xaml.cs`

```
public static List<StorageFile> globalFile; 
```

然后，您可以在您的应用程序页面中访问它

```
App.globalFile 
```

当你的应用程序运行时，你仍然必须从某个地方加载这些文件，然后才能使用它们。

# android - Application launcher icon being displayed on action bar of an activity

> ID：15715309
> 
> 赞同：3
> 
> 时间：2013-03-30T05:25:19.217
> 
> 标签：android, android-activity, android-actionbar

On my action bar application icon is being displayed, I don't want it to appear on action bar. I have modified the androidmanifest.xml and removed `android:icon` from activity element, even then the icon is being displayed?

```
<application
    android:allowBackup="true"
    android:icon="@drawable/ic"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.storelocator.StoreLocatorActivity"
        android:label="@string/app_name" 
        android:configChanges="orientation|screenSize">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-30T05:28:35.020

Call `setDisplayShowHomeEnabled(false)` in your activity. That will hide the icon.

# c - 在 C 中使用 pthread 进行 DNS 查找

> ID：15715313
> 
> 赞同：0
> 
> 时间：2013-03-30T05:26:17.783
> 
> 标签：c, pthreads

我正在编写一个解析 HTML 的程序，但是，当它解析多个 HTML 文件时，我需要对一组 IP 执行 DNS 查找。我正在考虑`pthreads`用于查找任务。

你会推荐这样做吗？我需要多个线程来完成这项任务吗？我可能会遇到哪些潜在问题？任何反馈表示赞赏。

这就是我在想的...

```
#include <pthread.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include <netdb.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

void *ip2host(void *ips[][2]){
    struct hostent *hent;
    struct in_addr addr;
    int i;
    for (i=0;i<3;i++) {
        if(!inet_aton(ips[i][0], &addr))
            return NULL;

        if((hent = gethostbyaddr((char *)&(addr.s_addr), sizeof(addr.s_addr), AF_INET))){
            ips[i][1] = malloc (strlen (hent->h_name) + 1);
            strcpy(ips[i][1], hent->h_name);
        }
    }
    return NULL;
}

int main(){
    char *ips[][2] = {
        {"199.21.99.110", NULL},
        {"66.249.73.55", NULL},
        {"74.125.225.34", NULL}
    };

    pthread_t thread1;
    if(pthread_create(&thread1, NULL, ip2host, &ips)) {
        fprintf(stderr, "Error creating thread\n");
        return 1;
    }

    // parse html files
    int y = 0;
    while(++y < 100000);
    printf("y increment finished\n");

    if(pthread_join(thread1, NULL)) {
        fprintf(stderr, "Error joining thread\n");
        return 1;
    }
    int i;
    for(i=0; i<3; i++) {
        printf("%s\n", ips[i][1]);
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:33:11.010

只需将 DNS 查找视为连接过程的一部分，并在`connect()`. 无论如何，这就是您需要它的地方，如果 IP 在您需要它的时候可能还没有准备好，那么在另一个线程中执行它有什么意义？

请记住`connect()`，在连接稳定之前，您的线程也会挂起，因此解析 IP 并不是这里唯一花费时间的东西。

此外，不要担心缓存 DNS 解析，系统本身会为您处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T05:35:00.590

gethostbyaddr 不是线程安全的，因为它返回一个指向静态结构的指针。如果你使用 gcc，你可以使用 gethostbyaddr_r 这是一个线程安全的扩展。

# java - 没有数据从 java GUI 插入到 MS Access 数据库

> ID：15715316
> 
> 赞同：0
> 
> 时间：2013-03-30T05:26:39.677
> 
> 标签：java, swing, ms-access, jdbc-odbc

每个其他按钮都可以正常工作，唯一的问题是保存按钮。我在 netbeans 中做项目，它没有显示任何错误，但数据没有从 java GUI 进入数据库

```
 b1.addActionListener(new ActionListener(){
        @Override
        public void actionPerformed (ActionEvent e)

            String fname=t1.getText();
            String lname=t2.getText();
            int age=Integer.parseInt(t3.getText());
            String city=t4.getText();
            String State=t5.getText();

            try{
                rs.moveToInsertRow();//moves cursor to new row

                rs.updateString("Fname", fname);
                rs.updateString("Lname", lname);
                rs.updateInt("age", age);
                rs.insertRow();

                JOptionPane.showMessageDialog(null, "updated!");
                //close two variable
                st.close();
                rs.close();

               }
            catch(Exception ex){

            }

        }
    }); 
```

# php - 如何使用 OAUTH 2 对受信任的应用程序进行身份验证

> ID：15715319
> 
> 赞同：5
> 
> 时间：2013-03-30T05:26:52.193
> 
> 标签：php, api, authentication, oauth, oauth-2.0

我正在为我正在开发的网站开发 OAUTH 2 REST API。我们有一个使用此 API 的官方原生移动应用程序，并计划将该 API 开放给第三方开发人员。我们的原生移动应用程序将拥有比 3rd 方应用程序更多的权限。我通过根据客户端 ID 或应用 ID 设置权限来做到这一点。我正在使用`password` `grant type`官方应用程序和`implicit` `grant type`第 3 方应用程序。

但问题是，由于我们`client_secret`在这两种情况下都没有使用 a ，因此第 3 方可能能够通过以某种方式窃取我们的官方`client_id`并使用它来访问官方应用程序专有的 API 中的提升权限来获得提升的权限。

有没有办法阻止他们这样做？官方 Facebook 或 Twitter 应用程序是如何做到的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T17:05:35.917

您可以为应用程序使用作为此信息*( `client_id`, `Official app`, `day`, ...)*哈希值的令牌

> “日”，以便每天获得一个新的代币，以最大限度地减少风险

这个令牌用于第 3 方*( `client_id`, `3rd party`, ...)* 所以在你的 API 中添加一个函数来从令牌中获取信息

> 来自 Api 的所有请求都必须通过 SSL，然后在服务器上进行验证以决定是否要处理/丢弃请求。

# mysql - ASK MySQL Query SUM 不同的表

> ID：15715323
> 
> 赞同：0
> 
> 时间：2013-03-30T05:27:53.413
> 
> 标签：mysql, sum

您好我想问一下 sum 查询，我在执行查询时遇到了困惑。

我想计算总电流。

来料总和

```
select (select sum(jumlah) from  warehouse where tgl_invoice >= '2013-03-17' AND
tgl_invoice <='2013-03;18' and kode=a.kode) total,a.kode,a.nama from warehouse a 
group by a.kode; 
```

结果 ：

* * *

```
+--------+----------+------------+
| 总计| 科德 | 名 |
+--------+----------+------------+
| 4 | ACLG001 | AC LG 1 包 |
| 180 | P001 | 主轴 |
| 40 | S012 | 电缆 |
+--------+----------+------------+

```

SUM**材料（货物）使用**

```
select (select sum(jumlah) from use_material where tanggal >= '2013-03-17' AND 
tanggal <='2013-03;18' and kode_barang=a.kode)  total,a.kode,a.nama from warehouse a
group by a.kode; 
```

结果 ：

* * *

```
+--------+----------+------------+
| 总计| 科德 | 名 |
+--------+----------+------------+
| 空 | ACLG001 | AC LG 1 包 |
| 20 | P001 | 主轴 |
| 10 | S012 | 电缆 |
+--------+----------+------------+

```

现在我想对**传入的材料（货物）**减去材料（货物）**的使用进行求和**

```
 select 
  (select sum(jumlah) from  warehouse 
  where tgl_invoice >= '2013-03-17' AND tgl_invoice <='2013-03;18' and kode=a.kode) -
  (select sum(jumlah) from use_material 
  where tanggal >= '2013-03-17' AND tanggal <='2013-03;18' and kode_barang=a.kode)
  total,a.kode,a.nama from warehouse a group by a.kode; 
```

结果 ：

* * *

```
+--------+----------+------------+
| 总计| 科德 | 名 |
+--------+----------+------------+
| 空 | ACLG001 | AC LG 1 包 |
| 160 | P001 | 主轴 |
| 30 | S012 | 电缆 |
+--------+----------+------------+

```

这里是计算错误。AC LG 1 PK 是否必须为 4。但结果为 NULL

请回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:32:41.853

SQL COALESCE - 杀死空值应该有帮助。

例如 COALESCE(NULL,0) 将给出 0... 使用 NULL 进行操作通常不起作用。

我的意思是，您将产生空值的查询（您显示的第二个查询）包装在带有 0 的 COALESCE 中，以提供有效的减法语句。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:02:57.873

从仓库中选择 IFNULL(t.total,0,t.total), a.kode, a.nama a
left join (select kode_barang kode_barang,sum(jumlah) as total from use_material
where tanggal >= '2013-03-17' AND tanggal <='2013-03-18'
group by kode_barang) as t on t.kode_barang=a.kode
group by a.kode;

# android - 根据设备大小增加字体大小

> ID：15715324
> 
> 赞同：26
> 
> 时间：2013-03-30T05:28:12.220
> 
> 标签：android, textview

我计划在不同的设备大小上为 textview 使用不同的字体大小，以使字母清晰易读。我已经决定不为不同的设备使用不同的布局，并建立了一个通用的布局来适应所有的设备。现在唯一的问题是文本大小。

问题 ：

1.  我想就如何根据设备的大小（物理大小）更改字体大小获得您的技术建议。

2.  如何根据纵横比得出字体大小。

3.  使用这种方法有什么缺陷吗？

用于文本视图的 XML

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#ffffff"
    android:orientation="vertical">

    <TextView
        android:id="@+id/tvValue4"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="I planned to use different font size for the textview on different device size so as to make the letters legible. I have already decided not to use different layouts for different devices and built a common layout to fit in all the devices. Now the only problem is on the text size."
        android:textColor="#000000"
        android:textSize="15sp" />

</LinearLayout> 
```

提前致谢

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-30T05:33:55.853

是的，这种方法是有缺陷的。Android 设备有不同的尺寸，但它们也可以有非常不同的密度。

![在此处输入图像描述](../Images/3fc297c75a42782bd93bd5f393dcf8e1.png)

您应该只遵循 Android 设计[最佳实践](http://developer.android.com/design/style/typography.html)。

![在此处输入图像描述](../Images/17901be6519cfeb96468bc1c6b77f24e.png)

他们实际上是经过深思熟虑的。为什么要重新发明轮子？

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-03-30T05:36:15.787

试试这个，在你的 xml 中添加这个属性。它将根据屏幕大小调整 textsize 试试看。

```
 style="@android:style/TextAppearance.DeviceDefault.Medium" 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-30T06:16:13.600

对于字体大小，使用比例像素 (sp)。Android 将根据设备密度相应地缩放字体大小。上面的帖子有更好的解释和推理。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-30T07:31:31.970

```
 String s= "hello";
    TextView tv= (TextView) findViewById(R.id.tv);
    Spannable span = new SpannableString(s);
    span.setSpan(new RelativeSizeSpan(5f), 0, span.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
    tv.setText(span); 
```

根据屏幕尺寸将 5f 更改为您想要的任何内容。

[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)。检查标题**最佳实践下的主题。**

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-11-11T13:10:56.867

适用于 API 26 及更高版本

```
<?xml version="1.0" encoding="utf-8"?>
<TextView
    android:layout_width="match_parent"
    android:layout_height="200dp"
    android:autoSizeTextType="uniform" /> 
```

来源：[https ://developer.android.com/guide/topics/ui/look-and-feel/autosizing-textview](https://developer.android.com/guide/topics/ui/look-and-feel/autosizing-textview)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-30T05:33:47.527

Android 已经为此内置了功能 - dp 和 sp。dp 是设备像素。它基本上是 1dp=1/160 英寸。这允许您以实际大小指定字体的高度。Sp 是缩放的像素。此大小基于默认字体大小进行缩放，因此用户可以放大他的系统字体并且您的应用程序会匹配它。对于需要大文本而不占用屏幕空间的有视力问题的人来说很方便。

您可能应该使用其中一种或另一种。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-01-11T10:15:54.390

对于这个问题，我在这么多项目中使用以下库，并相信这太棒了。无需担心屏幕。但同样，您需要为选项卡创建单独的布局。

[https://github.com/intuit/sdp](https://github.com/intuit/sdp)

# javascript - 获取表值

> ID：15715327
> 
> 赞同：0
> 
> 时间：2013-03-30T05:28:32.537
> 
> 标签：javascript, dom, html-table

这应该很简单，但我似乎无法获得价值`<td>` `Value3`

如何遍历此 DOM 以从中获取值`<td>`？

```
<table>
  <thead>
    <tr>
      <th col="value2"></th>
    </tr>
   </thead>
  <tbody>
     <tr id="value1">
       <td>Value3</td>
      </tr>
   </tbody
<table> 
```

我正在使用以下内容来检索其他属性。但似乎无法获得以下值`<td>`：

```
 "row_id": this.parentNode.getAttribute('id'),
        "id": this.getAttribute('id'),
        "name": this.getAttribute('row'),
        "project": this.getAttribute('value'),
        "column": oTable.fnGetPosition( this )[2] 
```

我已经尝试了以下以及其他各种没有运气

```
$(table tbody tr td).value
document.getElementsByTagName('tr').getAttribute('value') 
```

我的表是通过 JSTL 动态生成的，如下所示。

```
 <c:forEach var="column" items="${row}">
                <td><c:out value="${column}"/></td>
            </c:forEach> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:31:44.143

我认为您的问题是您正在尝试获取值，但表格的内容只是 HTML。尝试这个：

```
$('table tbody tr td').html() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:32:16.337

脚本中的值属性用于输入元素。在这种情况下，Value3 只是表格单元格内的文本。尝试使用文本获取器：

```
$('td:first').text() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T05:34:58.273

尝试这个：`$.each($("table tbody tr td"), function(i,v){alert($(v).text())});`

# winforms - 子菜单项悬停时保持父菜单项背景色

> ID：15715331
> 
> 赞同：0
> 
> 时间：2013-03-30T05:28:46.013
> 
> 标签：winforms, menu, menuitem, submenu

使用下面的代码

```
private class MyRenderer : ToolStripProfessionalRenderer
{
    public MyRenderer() : base(new MyColors()) { }
}

private class MyColors : ProfessionalColorTable
{
    public override Color MenuItemSelected
    {
        get { return Color.Black; }
    }
    public override Color MenuItemSelectedGradientBegin
    {
        get { return Color.Black; }
    }
    public override Color MenuItemSelectedGradientEnd
    {
        get { return Color.Black; }
    }
} 
```

我做到了

![在此处输入图像描述](../Images/b016ad5da2ee9c25c3b47176d0902d8b.png)

选定的菜单项变为黑色，直到这里都很好，但是当我将鼠标移动到子菜单项时会发生什么？看下面的图片

![在此处输入图像描述](../Images/6bd6b499683d7858bddb05230b029c2f.png)

当我转到子菜单项时，我想将父菜单项的背景色保持为黑色，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-24T14:15:20.227

我猜你已经发现了正确的属性。但如果它对其他人有帮助，则必须设置以下属性：MenuItemPressedGradientBegin 和 MenuItemPressedGradientEnd。

问候。

# mysql - MySQL - 为不返回行的子查询的值使用占位符

> ID：15715333
> 
> 赞同：3
> 
> 时间：2013-03-30T05:29:11.060
> 
> 标签：mysql, sql, subquery

这基本上是我的查询的结构：

```
SELECT * FROM foo WHERE foo1 = (subquery here) 
```

我想检测子查询何时不返回任何行，然后使用另一个值作为占位符。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:54:20.977

你可以使用左连接，它会工作：

```
SELECT * FROM table AS t1
left join 
table as t2 
on t1.Target = t2.Target
and t2.phase="B"
where t2.target is null OR 
OR t1.date < t2.Date 
```

you can replace your conditions here by changing null ans your conditions here. By doing a left join you are including all rows on the left side of the join, and only matching rows from the right side of the join. Assuming a left side table t1, and right side table t2, in cases where the join condition is not met the value of any column in t2 will be be null. Since the goal in this case is to omit the where clause if our join condition is not met (targets match and the t2 phase value is 'B') we first check to see if the join condition failed, if so we return a row.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:00:29.733

Got the answer!

```
SELECT * FROM foo WHERE foo1 = IF((subquery with count parameter as replacement), placeholder, (subquery)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T05:40:29.747

单独尝试`subquery`，然后使用： `mysql_num_rows`要知道子查询影响了多少行，如果数字为 0，则使用另一个占位符创建查询

**注意** `rowCount()`要知道使用 PDO 的行数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T05:43:29.217

您可以通过上面的条件传递它，例如使用 mysql_num_rwos 计算您获取的数据，并将该值分配给一个变量，然后将其放入 if else 循环中以获取如下条件：

```
$a = mysql_num_rows(query);
if($a == '')
{
$a = your placeholder here;
}
SELECT * FROM foo WHERE foo1 ='".$a."' 
```

类似的东西。

# regex - How to replace all non whitespace characters except one (semicolon)?

> ID：15715341
> 
> 赞同：0
> 
> 时间：2013-03-30T05:30:12.583
> 
> 标签：regex, perl

I have following regex in perl for replacing all continuous non-whitespace characters

```
perl -p -i.bak -e 's/^set gamma=\S*/set gamma=GAMMA/' tmp; 
```

If the `tmp` file contains `set gamma=sdjfskdf; #comment` then I want to preserve the semicolon along with the comment. But using `\S*` deletes `sdjfskdf;`.

What change should I make to the regex?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T05:33:22.103

Try `s/^set gamma=[^;\s]*/set gamma=GAMMA/`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T05:33:14.160

In your expression you can replace `\S*` with `[^\s;]*`, which doesn't match spaces nor `;`.

# android - PopupWindow 内的 WebView 中的上下文菜单/窗口会使应用程序崩溃？

> ID：15715342
> 
> 赞同：4
> 
> 时间：2013-03-30T05:30:35.803
> 
> 标签：android, android-webview, android-contextmenu

我有一个带有 PopupWindow 的应用程序，其中包含打开 Facebook 页面的 WebView、任何上下文菜单，例如：WebView 中文本字段上的自动完成功能，甚至应该显示用户复制/粘贴/剪切选项的长按使应用程序立即崩溃以下错误：

```
FATAL EXCEPTION: main
android.view.WindowManager$BadTokenException: Unable to add window -- token android.view.ViewRootImpl$W@418cdab0 is not valid; is your activity running?
at android.view.ViewRootImpl.setView(ViewRootImpl.java:700)
at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:345)
at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:224)
at android.view.WindowManagerImpl$CompatModeWrapper.addView(WindowManagerImpl.java:149)
at android.view.Window$LocalWindowManager.addView(Window.java:554)
at android.widget.PopupWindow.invokePopup(PopupWindow.java:1013)
at android.widget.PopupWindow.showAtLocation(PopupWindow.java:856)
at android.widget.PopupWindow.showAtLocation(PopupWindow.java:820)
at android.webkit.WebViewClassic$PastePopupWindow.show(WebViewClassic.java:971)
at android.webkit.WebViewClassic.showPasteWindow(WebViewClassic.java:7037)
at android.webkit.WebViewClassic.access$10300(WebViewClassic.java:235)
at android.webkit.WebViewClassic$PrivateHandler.handleMessage(WebViewClassic.java:11376)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4921)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1027)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:794)
at dalvik.system.NativeStart.main(Native Method) 
```

**注意：**我对问题的理解是，上下文菜单/窗口实际上显示在应用程序本身的范围内，而不是使用另一个 PopWindow（由核心 WebView 类自动生成）在 WebView 内，该类错误地引用了上下文。

我的代码如下：

**主.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <Button
        android:id="@+id/openpopup"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="Open Popup Window" />

</LinearLayout> 
```

**弹出窗口.xml**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@android:color/background_light"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_margin="1dp"
        android:background="@android:color/darker_gray"
        android:orientation="vertical" >
     >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:layout_margin="20dp"
            android:orientation="vertical" >

            <WebView
                xmlns:ptr="http://schemas.android.com/apk/res-auto"
                android:id="@+id/webviewActionView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:minHeight="200dp"
                android:minWidth="200dp"
                android:scrollbars="none" >
            </WebView>

            <Button
                android:id="@+id/dismiss"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:text="Dismiss" />
        </LinearLayout>
    </LinearLayout>

</LinearLayout> 
```

**MainActivity.java**

```
import android.os.Bundle;
import android.annotation.SuppressLint;
import android.app.Activity;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import android.widget.Button;
import android.widget.PopupWindow;

public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        final Button btnOpenPopup = (Button) findViewById(R.id.openpopup);
        btnOpenPopup.setOnClickListener(new Button.OnClickListener() {

            @SuppressLint("NewApi")
            @Override
            public void onClick(View arg0) {

                LayoutInflater layoutInflater = (LayoutInflater) getBaseContext().getSystemService(LAYOUT_INFLATER_SERVICE);
                View popupView = layoutInflater.inflate(R.layout.popup, null);
                final PopupWindow popupWindow = new PopupWindow(popupView,
                        LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);

                popupWindow.setTouchable(true);
                popupWindow.setFocusable(true);

                WebView popupWebview = (WebView) popupView.findViewById(R.id.webviewActionView);
                popupWebview.loadUrl("https://m.facebook.com");
                Button btnDismiss = (Button) popupView
                        .findViewById(R.id.dismiss);
                btnDismiss.setOnClickListener(new Button.OnClickListener() {
                    @Override
                    public void onClick(View v) {

                        // TODO Auto-generated method stub
                        popupWindow.dismiss();
                    }
                });
                popupWindow.showAsDropDown(btnOpenPopup, 50, -30);
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-02T14:00:14.467

正如上面在我的回答中评论的那样，您可以使用自定义对话框来满足您的要求..我创建了一个示例 PopupDialog.. 请检查并告诉我..如果它解决了您的目的.. 自动完成和 ContextMenus 将按预期工作..

我的活动.java

```
package com.example.testapp;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.webkit.WebChromeClient;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import android.widget.Button;

public class MyActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    final Button btnOpenPopup = (Button) findViewById(R.id.openpopup);
    btnOpenPopup.setOnClickListener(new Button.OnClickListener() {

        @SuppressLint("NewApi")
        @Override
        public void onClick(View arg0) {

            final PopupDialog popupDialog = new PopupDialog(MyActivity.this);
            popupDialog.setContentView(R.layout.popup);

            WebView popupWebview = (WebView) popupDialog.findViewById(R.id.webviewActionView);
            popupWebview.setWebChromeClient(new WebChromeClient());
            popupWebview.setWebViewClient(new WebViewClient());

            popupWebview.loadUrl("http://m.facebook.com");
            Button btnDismiss = (Button) popupDialog
                    .findViewById(R.id.dismiss);
            btnDismiss.setOnClickListener(new Button.OnClickListener() {
                @Override
                public void onClick(View v) {

                    // TODO Auto-generated method stub
                    popupDialog.dismiss();
                }
            });
//                popupDialog.showAtLocation(50,50);
            popupDialog.showAsDropDown(findViewById(R.id.openpopup));
        }
    });
}
} 
```

弹出对话框.java

```
package com.example.testapp;

import android.app.Dialog;
import android.content.Context;
import android.view.Gravity;
import android.view.View;
import android.view.Window;
import android.view.WindowManager;

public class PopupDialog extends Dialog{
private final Context mContext;

public PopupDialog(Context context) {
    super(context);
    mContext=context;
    requestWindowFeature(Window.FEATURE_NO_TITLE);
}

public void showAtLocation(int x,int y)
{
    WindowManager.LayoutParams wmlp = getWindow().getAttributes();
    wmlp.gravity = Gravity.TOP | Gravity.LEFT;
    wmlp.x = x;
    wmlp.y = y;
    show();
}
public void showAsDropDown(View view)
{
    float density = mContext.getResources().getDisplayMetrics().density;
    WindowManager.LayoutParams wmlp = getWindow().getAttributes();
    int[] location = new int[2];
    view.getLocationInWindow(location);
    wmlp.gravity = Gravity.TOP | Gravity.LEFT;
    wmlp.x = location[0]+(int)(view.getWidth()/density);
    wmlp.y = location[1]+(int)(view.getHeight()/density);
    show();
}
} 
```

编辑：添加 popup.xml

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:layout_width="fill_parent"
          android:layout_height="fill_parent"
          android:minHeight="400dp"
          android:minWidth="200dp"
          android:background="@android:color/background_light"
          android:orientation="vertical" >

<LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_margin="1dp"
        android:background="@android:color/darker_gray"
        android:orientation="vertical" >
    >

    <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:layout_margin="20dp"
            android:orientation="vertical" >

        <WebView
            xmlns:ptr="http://schemas.android.com/apk/res-auto"
                android:id="@+id/webviewActionView"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:minHeight="200dp"
                android:minWidth="200dp"
                android:scrollbars="none" >
        </WebView>

        <Button
                android:id="@+id/dismiss"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:text="Dismiss" />
    </LinearLayout>
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:19:37.383

是的，我认为您应该使用您的活动名称来代替“getBaseContext()”。我刚刚用你的代码创建了一个演示。它在我的电脑上工作正常。当你得到这个例外？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T07:33:24.897

您的代码没有任何问题..似乎是 Android 4.1+ 特定问题.. Webview 还使用 PopupWindow 在输入框中显示粘贴上下文菜单..通过 webview 的嵌套弹出窗口导致 WindowManager 崩溃，同时向其添加新视图。

我已经尝试使用嵌入式 Webview 的自定义对话框（代替 Popupwindow），粘贴上下文菜单在 Android 4.1+ 中运行良好。

如果您对此粘贴上下文菜单不太具体，您可以使用下面的代码为特定的 android 版本禁用它..我已经尝试过了..它将阻止应用程序崩溃..

```
 popupWebView.setOnLongClickListener(new OnLongClickListener() {

        @Override
        public boolean onLongClick(View v) {
            if (Build.VERSION.SDK_INT >= 16)
                  return true;
              return false;
        }
    }); 
```

您还可以根据需要查看[Webview HitTestResult](http://developer.android.com/reference/android/webkit/WebView.HitTestResult.html)类以显示一些定制的上下文菜单。

# svn - 如何撤消 svn 删除

> ID：15715345
> 
> 赞同：5
> 
> 时间：2013-03-30T05:31:01.097
> 
> 标签：svn

不幸的是我`svn remove --force <Folder_Name>`在提交之前跑了。它也删除了本地副本。我想找回我的文件夹。任何人都可以对此有想法吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-30T05:37:06.720

如果您删除了一个版本控制的文件，您可以使用 恢复它`svn revert`，或者`svn update -r <revision>`回滚到特定版本（例如，如果您提交了删除）。

如果你删除了一个未版本化的文件，或者一个带有未版本化更改的文件，那么你就不走运了——文件被删除了，就像`rm`删除它一样，并且 SVN 没有更改的记录。

# spring - Maven Spring Selenium 集成测试 - 在 Selenium 之前运行 Tomcat

> ID：15715349
> 
> 赞同：2
> 
> 时间：2013-03-30T05:31:26.190
> 
> 标签：spring, maven, selenium, maven-cargo, maven-tomcat-plugin

我正在学习如何在 Maven 中运行 Selenium 集成测试。我已经使用 Cargo 配置了 Selenium 和 Tomcat Maven 插件。这是我的 pom.xml 文件：

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.mycompany</groupId>
    <artifactId>SeleniumTest</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>war</packaging>

    <name>SeleniumTest</name>

    <properties>
        <endorsed.dir>${project.build.directory}/endorsed</endorsed.dir>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.5</version>
        </dependency>
        <dependency>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>tomcat-maven-plugin</artifactId>
            <version>1.1</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-webmvc-struts</artifactId>
            <version>2.5.6</version>
        </dependency>
        <dependency>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>2.14</version>
        </dependency>
        <dependency>
            <groupId>org.testng</groupId>
            <artifactId>testng</artifactId>
            <version>6.8</version>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>org.codehaus.cargo</groupId>
            <artifactId>cargo-maven2-plugin</artifactId>
            <version>1.3.3</version>
        </dependency>
        <dependency>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>selenium-maven-plugin</artifactId>
            <version>2.3</version>
        </dependency>
        <dependency>
            <groupId>org.seleniumhq.selenium</groupId>
            <artifactId>selenium-firefox-driver</artifactId>
            <version>2.31.0</version>
        </dependency>
        <dependency>
            <groupId>javax</groupId>
            <artifactId>javaee-web-api</artifactId>
            <version>6.0</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>${project.groupId}</groupId>
            <artifactId>SeleniumTest</artifactId>
            <version>${project.version}</version>
            <type>war</type>
            <scope>provided</scope>
        </dependency>
    </dependencies>

    <build>
        <testSourceDirectory>src/main/java/test/integrationTests</testSourceDirectory>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <executions>
                    <execution>
                        <goals>
                            <goal>testCompile</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                    <compilerArguments>
                        <endorseddirs>${endorsed.dir}</endorseddirs>
                    </compilerArguments>
                    <suiteXmlFiles>
                        <suiteXmlFile>src/main/java/test/integrationTests/testng.xml</suiteXmlFile>
                    </suiteXmlFiles>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-war-plugin</artifactId>
                <version>2.1.1</version>
                <configuration>
                    <failOnMissingWebXml>false</failOnMissingWebXml>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <version>2.1</version>
                <executions>
                    <execution>
                        <phase>validate</phase>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>${endorsed.dir}</outputDirectory>
                            <silent>true</silent>
                            <artifactItems>
                                <artifactItem>
                                    <groupId>javax</groupId>
                                    <artifactId>javaee-endorsed-api</artifactId>
                                    <version>6.0</version>
                                    <type>jar</type>
                                </artifactItem>
                            </artifactItems>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>2.14</version>
                <executions>
                    <execution>
                        <id>default-test</id>                                
                        <configuration>
                            <skipTests>true</skipTests>
                        </configuration>
                    </execution>

                    <execution>
                        <id>surefire-it</id>
                        <phase>integration-test</phase>
                        <goals>
                            <goal>test</goal>
                        </goals>
                        <configuration>
                            <skipTests>false</skipTests>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.codehaus.cargo</groupId>
                <artifactId>cargo-maven2-plugin</artifactId>
                <version>1.3.3</version>
                <configuration>
                    <wait>true</wait> 
                    <container>
                        <containerId>tomcat7x</containerId>
                        <type>installed</type>
                        <home>D:\Program Files\Apache Software Foundation\Apache Tomcat 7.0.27</home>
                    </container>
                    <configuration>
                        <type>existing</type>
                        <home>D:\Program Files\Apache Software Foundation\Apache Tomcat 7.0.27</home>
                    </configuration>

                    <deployables>
                        <deployable>
                            <pingURL>http://localhost:8080/SeleniumTest</pingURL>
                            <pingTimeout>300000</pingTimeout>
                        </deployable>
                    </deployables>
                    <executions>
                        <execution>
                            <id>start-container</id> 
                            <phase>pre-integration-test</phase>
                            <goals>
                                <goal>start</goal>
                            </goals>
                        </execution>
                        <execution>
                            <id>stop-container</id>
                            <phase>post-integration-test</phase>
                            <goals>
                                <goal>stop</goal>
                            </goals>
                        </execution>
                    </executions>
                </configuration>
            </plugin>
        </plugins>
    </build>

</project> 
```

**当我说Build**时，这些是 Netbeans 的日志：

```
------------------------------------------------------------------------
Building SeleniumTest 1.0-SNAPSHOT
------------------------------------------------------------------------

[dependency:copy]

[resources:resources]
[debug] execute contextualize
Using 'UTF-8' encoding to copy filtered resources.
Copying 0 resource

[compiler:compile]
Nothing to compile - all classes are up to date

[resources:testResources]
[debug] execute contextualize
Using 'UTF-8' encoding to copy filtered resources.
skip non existing resourceDirectory C:\Users\Colenso\Documents\NetBeansProjects\SeleniumTest\src\test\resources

[compiler:testCompile]
Compiling 1 source file to C:\Users\Colenso\Documents\NetBeansProjects\SeleniumTest\target\test-classes

[compiler:testCompile]
Compiling 1 source file to C:\Users\Colenso\Documents\NetBeansProjects\SeleniumTest\target\test-classes

[surefire:test]
Tests are skipped.

[war:war]
Packaging webapp
Assembling webapp [SeleniumTest] in [C:\Users\Colenso\Documents\NetBeansProjects\SeleniumTest\target\SeleniumTest-1.0-SNAPSHOT]
Processing war project
Copying webapp resources [C:\Users\Colenso\Documents\NetBeansProjects\SeleniumTest\src\main\webapp]
Webapp assembled in [454 msecs]
Building war: C:\Users\Colenso\Documents\NetBeansProjects\SeleniumTest\target\SeleniumTest-1.0-SNAPSHOT.war

[surefire:test]
Surefire report directory: C:\Users\Colenso\Documents\NetBeansProjects\SeleniumTest\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running test.integrationTests.SimpleTest
Configuring TestNG with: TestNG652Configurator 
```

如您所见，它只是构建 .war 文件，既没有启动我的 tomcat 容器，也没有在其上部署 .war 文件。如果我说在 Netbeans 中**运行**，我可以看到 Tomcat 正在启动并且我的应用程序正在运行。但是，集成测试尚未完成。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T08:32:20.217

要运行集成测试，您必须告诉 maven 运行`integration-test`阶段。要么你跑`mvn integration-test`，要么`mvc install`（`install`因为它是`integration-test`在 mavens 阶段之后出现的）

@See [Maven Build Lifecycle](http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html)

*BTW: you should have a look at [maven-failsave-plugin](http://maven.apache.org/plugins-archives/maven-failsafe-plugin-2.12.4/). It is a test plugin like surefire but intended to run integration tests. - So you can have two plugins in you pom (surefire for unit tests and failsave for integration tests), so you do not need so much reconfiguration of surefire.*

# android - 如何使用android中的imageAdapter将图像从特定文件夹的sdcard上传到网格视图

> ID：15715353
> 
> 赞同：3
> 
> 时间：2013-03-30T05:31:49.803
> 
> 标签：android, gridview, sd-card

我正在尝试从特定文件夹中检索图像到网格视图。但我将 imagelist 值设为 null 并强制关闭。我正在获取文件夹路径，但我正在获取 fileList

```
File[] imagelist = root.listFiles(new FilenameFilter(){  
            @Override  
            public boolean accept(File dir, String name)  
            {  
                return ((name.endsWith(".jpg"))||(name.endsWith(".png")));
            }  
        }); 
```

我将 listFiles 设为 null 它没有进入循环，任何人都可以帮助我吗？

```
public class IleanaOffline extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.pics);
    GridView grid=(GridView)findViewById(R.id.gridView1);
    File root = new File(Environment.getExternalStorageDirectory()
            + File.separator + "Indian Actress" + File.separator + "Ileana" + File.separator);
    File[] imagelist = root.listFiles(new FilenameFilter(){  
        @Override  
        public boolean accept(File dir, String name)  
        {  
            return ((name.endsWith(".jpg"))||(name.endsWith(".png")));
        }  
    });  
        String[] mFiles = new String[imagelist.length];  

        for(int i= 0 ; i< imagelist.length; i++)  
        {  
            mFiles[i] = imagelist[i].getAbsolutePath();  
        }  
        Uri[] mUrls = new Uri[mFiles.length];  

        for(int i=0; i < mFiles.length; i++)  
        {  
            mUrls[i] = Uri.parse(mFiles[i]);     
        }     

    grid.setAdapter(new CustomAdapterOffline(mUrls,this));
}

} 
```

谁能给我建议我需要做的改变谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-20T07:59:31.800

```
 enter code here

public class AndroidCustomGalleryActivity extends Activity {
    private int count;
    private Bitmap[] thumbnails;
    private boolean[] thumbnailsselection;
    private String[] arrPath;
    private ImageAdapter imageAdapter;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        final String[] columns = { MediaStore.Images.Media.DATA, MediaStore.Images.Media._ID };
        final String orderBy = MediaStore.Images.Media._ID;
        Cursor imagecursor = managedQuery(
                MediaStore.Images.Media.EXTERNAL_CONTENT_URI, columns, null,
                null, orderBy);
        int image_column_index = imagecursor.getColumnIndex(MediaStore.Images.Media._ID);
        this.count = imagecursor.getCount();
        this.thumbnails = new Bitmap[this.count];
        this.arrPath = new String[this.count];
        this.thumbnailsselection = new boolean[this.count];
        for (int i = 0; i < this.count; i++) {
            imagecursor.moveToPosition(i);
            int id = imagecursor.getInt(image_column_index);
            int dataColumnIndex = imagecursor.getColumnIndex(MediaStore.Images.Media.DATA);
            thumbnails[i] = MediaStore.Images.Thumbnails.getThumbnail(
                    getApplicationContext().getContentResolver(), id,
                    MediaStore.Images.Thumbnails.MICRO_KIND, null);
            arrPath[i]= imagecursor.getString(dataColumnIndex);
        }
        GridView imagegrid = (GridView) findViewById(R.id.PhoneImageGrid);
        imageAdapter = new ImageAdapter();
        imagegrid.setAdapter(imageAdapter);
        imagecursor.close();

        final Button selectBtn = (Button) findViewById(R.id.HideBtn);
        selectBtn.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub
                final int len = thumbnailsselection.length;
                int cnt = 0;
                String selectImages = "";
                for (int i =0; i<len; i++)
                {
                    if (thumbnailsselection[i]){
                        cnt++;
                        selectImages = selectImages + arrPath[i] + "|";
                    }
                }
                if (cnt == 0){
                    Toast.makeText(getApplicationContext(),
                            "Please select at least one image",
                            Toast.LENGTH_LONG).show();
                } else {
                    Toast.makeText(getApplicationContext(),
                            "You've selected Total " + cnt + " image(s).",
                            Toast.LENGTH_LONG).show();
                    Log.d("SelectedImages", selectImages);
                }
                if (cnt > 1){

                }
            }
        });
    }

    public class ImageAdapter extends BaseAdapter {
        private LayoutInflater mInflater;

        public ImageAdapter() {
            mInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        }

        public int getCount() {
            return count;
        }

        public Object getItem(int position) {
            return position;
        }

        public long getItemId(int position) {
            return position;
        }

        public View getView(int position, View convertView, ViewGroup parent) {
            ViewHolder holder;
            if (convertView == null) {
                holder = new ViewHolder();
                convertView = mInflater.inflate(
                        R.layout.galleryitem, null);
                holder.imageview = (ImageView) convertView.findViewById(R.id.thumbImage);
                holder.checkbox = (CheckBox) convertView.findViewById(R.id.itemCheckBox);

                convertView.setTag(holder);
            }
            else {
                holder = (ViewHolder) convertView.getTag();
            }
            holder.checkbox.setId(position);
            holder.imageview.setId(position);
            holder.checkbox.setOnClickListener(new OnClickListener() {

                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    CheckBox cb = (CheckBox) v;
                    int id = cb.getId();
                    if (thumbnailsselection[id]){
                        cb.setChecked(false);
                        thumbnailsselection[id] = false;
                    } else {
                        cb.setChecked(true);
                        thumbnailsselection[id] = true;
                    }
                }
            });
            holder.imageview.setOnClickListener(new OnClickListener() {

                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    int id = v.getId();
                    Intent intent = new Intent();
                    intent.setAction(Intent.ACTION_VIEW);
                    intent.setDataAndType(Uri.parse("file://" + arrPath[id]), "image/*");
                    startActivity(intent);
                }
            });
            holder.imageview.setImageBitmap(thumbnails[position]);
            holder.checkbox.setChecked(thumbnailsselection[position]);
            holder.id = position;
            return convertView;
        }
    }
    class ViewHolder {
        ImageView imageview;
        CheckBox checkbox;
        int id;
    }}

    enter code here

Xml main

<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent" android:layout_height="fill_parent">

    <Button
        android:id="@+id/HideBtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:minWidth="200px"
        android:text="Hide" />

    <GridView android:id="@+id/PhoneImageGrid"
        android:layout_width="fill_parent" android:layout_height="fill_parent"
        android:numColumns="auto_fit" android:verticalSpacing="10dp"
        android:horizontalSpacing="10dp" android:columnWidth="90dp"
        android:stretchMode="columnWidth" android:gravity="center"
        android:layout_above="@id/HideBtn" />

    <Button
        android:id="@+id/UnHideBtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentRight="true"
        android:minWidth="200px"
        android:text="UnHide" />

</RelativeLayout>

    enter code here

layout 

<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent" android:layout_height="fill_parent">
    <ImageView android:id="@+id/thumbImage" android:layout_width="wrap_content"
        android:layout_height="wrap_content" android:layout_centerInParent="true" />
    <CheckBox android:id="@+id/itemCheckBox" android:layout_width="wrap_content"
        android:layout_height="wrap_content" android:layout_alignParentRight="true"
        android:layout_alignParentTop="true" />
</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:09:15.200

使用以下代码片段从特定文件夹的 sdcard 获取图像

```
private List<String> ReadSDCardImages() {
               ArrayList<String> fileList= new ArrayList<String>();
               fileList.clear();
               f = new File(Environment.getExternalStorageDirectory()
                               .getAbsolutePath() + "/yourfolderName");

               files = f.listFiles(new FilenameFilter() {
                       @Override
                       public boolean accept(File dir, String name) {
                               return ((name.endsWith(".jpg")) || (name.endsWith(".png")));
                       }
               });

               for (int i = 0; i < files.length; i++) {
                       File file = files[i];
                       fileList.add(file.getPath());
               }
               return fileList;
       } 
```

从文件夹中获取所有图像后，将数组列表传递给 ImageAdapter。希望这会帮助你。

# c# - 在 TreeView 控件中显示 DataTable

> ID：15715354
> 
> 赞同：0
> 
> 时间：2013-03-30T05:31:58.007
> 
> 标签：c#

我有一个 DataTable TblTreeView 它有四列

父母ID(pk) | 家长姓名| 左孩子ID | RightChildID

我想在树视图中显示所有数据；

像这样

父母名字

|

|_LeftChildID

|

|_RightChildID

我正在使用

```
 SqlDataAdapter dataAdapter = new SqlDataAdapter("Select * from tblTreeView", SqlCon);
    DataSet dataSet = new DataSet();

    dataAdapter.Fill(dataSet);

    TreeView1.DataSource = dataSet.Tables[0];
    TreeView1.DataBind(); 
```

然后发生错误：- HierarchicalDataBoundControl 只接受实现 IHierarchicalDataSource 或 IHierarchicalEnumerable 的数据源。请给我执行此操作的代码；谢谢先生/女士

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T19:50:30.090

这些示例可能是指南将
[IHierarchy 支持实施到您的自定义集合](http://www.codeproject.com/Articles/19639/Implementing-IHierarchy-Support-Into-Your-Custom-C)
[中匹配的分层中继器和附件](http://www.codeproject.com/Articles/14938/A-Hierarchical-Repeater-and-Accessories-to-Match)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-23T12:03:51.007

我看到这篇文章非常适合从数据集中绑定数据。

[将 ASP.NET TreeView 绑定到 DataSet 或 ObjectDataSource](http://www.codeproject.com/Articles/25753/Binding-the-ASP-NET-TreeView-to-a-DataSet-or-an-Ob)

我实现了这个代码，如下所示..

```
 private void GenerateCoaTree()
    {
        DataSet ds = new DataSet();
        dcAccountingDataContext dc = new dcAccountingDataContext();
        DataTable dt = dc.usp_RPT_ChartOfAccount_Select(null, CompanyID).CopyToDataTable();
        ds.Tables.Add(dt);
       // The second parmeter for the ID of the element and the third parameter is the ID of the parent element in the tree.
        TreeViewCoa.DataSource = new HierarchicalDataSet(ds, "AccountID", "COA_ID");
        TreeViewCoa.DataBind();
    } 
```

第一次加载页面时，我在 Page_Load 页面中调用了这个方法来绑定 TreeView 控件。

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!Page.IsPostBack)
    {
        GenerateCoaTree();
    }
}

<asp:TreeView ID="TreeViewCoa" runat="server">
    <DataBindings>
        <asp:TreeNodeBinding DataMember="System.Data.DataRowView" 
            TextField="COADescription" ValueField="AccountID" />
    </DataBindings>
</asp:TreeView> 
```

我希望这将帮助您解决您的问题:)。

# android - 在 Android GCM 通知中出现错误

> ID：15715358
> 
> 赞同：2
> 
> 时间：2013-03-30T05:32:18.393
> 
> 标签：android, notifications, google-cloud-messaging

我正在我的 Android 项目中使用 GCM 通知。但是当我与服务器集成时出现错误 Like

未经授权的错误 401

当我在本地主机上运行相同的代码时，一切正常，没有任何错误。我也在我的 android 模拟器中从本地主机收到通知。

请帮忙。

# jquery - 三个元素之间的 if/else jquery

> ID：15715361
> 
> 赞同：0
> 
> 时间：2013-03-30T05:32:41.317
> 
> 标签：jquery, if-statement, switch-statement

好吧，我正在努力做到这一点，所以当您单击一个 div 时，它会“关闭”其他两个 div 按钮，并使某些内容不可见

jQuery：

```
 var open1 = false;
    var open2 = false;
    var open3 = false;

    $(document).ready(function(){

$("#gun").on('click',
   function(){
        open2 = !open2;

        if(open2) {
          $("img.dataselectgun").fadeTo(0, 1.0);
          $("img.dataselectpop").fadeTo(0, 0.0);
          $("img.dataselectart").fadeTo(0, 0.0);
          $("#popactivated").attr("id","pop");
          $("#artactivated").attr("id","art");
          $(this).attr("id","gunactivated");
        }
        else {
            $("img.dataselectpop").fadeTo(0, 1);
            $("img.dataselectart").fadeTo(0, 1);
            $("#gunactivated").attr("id","gun");
        }

   }
);

$("#pop").on('click',
   function(){
        open1 = !open1;

        if(open1) {
          $("img.dataselectgun").fadeTo(0, 0.0);
          $("img.dataselectpop").fadeTo(0, 1.0);
          $("img.dataselectart").fadeTo(0, 0.0);
          $("#gunactivated").attr("id","gun");
          $("#artactivated").attr("id","art");
          $(this).attr("id","popactivated");

        }
        else {
            $("img.dataselectgun").fadeTo(0, 1);
            $("img.dataselectart").fadeTo(0, 1);
            $("#popactivated").attr("id","pop");
        }

   }
);

$("#art").on('click',
   function(){
        open3 = !open3;

        if(open3) {
          $("img.dataselectgun").fadeTo(0, 0.0);
          $("img.dataselectpop").fadeTo(0, 0.0);
          $("img.dataselectart").fadeTo(0, 1.0);
          $("#popactivated").attr("id","pop");
          $("#gunactivated").attr("id","gun");
          $(this).attr("id","artactivated");
        }
        else {
            $("img.dataselectgun").fadeTo(0, 1);
            $("img.dataselectpop").fadeTo(0, 1);
            $("#popactivated").attr("id","art");
        }

   }
);

    }); 
```

好吧哈哈这是很多jquery，所以这里是html：

```
 <div id="header">
    <div class="home" id="home" ><a href="index.html"><p><img class="rollover" src="images/home-crown.png" width="100px" /></p></a></div>
    <div class="topnav" id="gun"><p>GUN</p></div>
    <div class="topnav" id="pop"><p>POP</p></div>
    <div class="topnav" id="art"><p>ART</p></div>
</div>
    <div id="bodyparts">
    <div class="pillow" ></div>
    <div class="content" id="artbox"><p><img class="dataselectart" src="images/art9.png" width="300px" /></p></div>
    <div class="content" id="popbox"><p><img class="dataselectpop" src="images/pop9.png" width="300px" /></p></div>
    <div class="content" id="gunbox"><p><img class="dataselectgun" src="images/gun9.png" width="300px" /></p></div>
</div> 
```

好吧，对大代码感到抱歉，但这是主要问题，每个单独的“按钮”都可以工作，但是当两个“按钮”被单击（或为真）时，它们会产生一些冲突；我尝试了切换，但收到了同样的问题，如果要通过切换来完成，那就太好了，但我是 jquery 的新手，不知道怎么做；任何帮助都会很棒

提前谢谢（我知道我的代码很乱；抱歉）

编辑：根据建议更改了一些内容；效果更好，但是有没有办法用 if/else 影响另一个 if/else（有效地用 jquery 改变 jquery？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:46:11.150

如果您只想显示被点击的那个，那么您不必担心跟踪状态。这可以通过以下方式完成：

[jsFiddle](http://jsfiddle.net/DBFvZ/)

```
$(document).ready(function () {
    $('.topnav').on('click', function () {

        // Get the <img> tag for the link that was clicked
        var myImg = $('.dataselect' + this.id);

        // Fade the <img> tag
        myImg.fadeTo(0, 1.0);

        // Get the other <img> tags, exclude myImg and fade them
        $('.content img').not(myImg).fadeTo(0, 0.0);

    });
}); 
```

# android - Ormlite 使用 Android 位置

> ID：15715363
> 
> 赞同：1
> 
> 时间：2013-03-30T05:32:49.510
> 
> 标签：android, sql, performance, ormlite

场景：我们有超过 10k+ 行数据，具有纬度和经度的空间属性。我们想排序并获取离我当前位置最近的对象（大约 300 个）。

已完成的工作：创建了 OrmLite 对象表，该表存储 lat 和 long 为双精度的所有行。当前调用 queryForAll 并使用 Comparable 接口（distanceTo）按与当前位置的距离顺序对数据进行排序。

问题：当行数增加到超过 10K+ 时，上述解决方案效率非常低，执行排序操作需要很长时间。

问题：一。有没有办法在 Ormlite 中处理空间数据，甚至将 Android Location 添加为列？湾。我们可以调用提供对象列表的原始查询吗？我更喜欢这种方法，因为排序是在查询自身时进行的。

# ruby-on-rails - rails generate mailer psych.rb parse bug

> ID：15715365
> 
> 赞同：0
> 
> 时间：2013-03-30T05:32:57.637
> 
> 标签：ruby-on-rails, ruby, mailer

I am new to ruby and rails and was working to setup my first mailer, and when I run the generate command my setup is blowing up. I am currently running ruby-1.9.3-p374 and have been searching for awhile now for a fix for this. My other generate commands work fine, just this one seems to be borked. Thoughts?

```
rails generate mailer UserMailer
/Users/chrishough/.rvm/rubies/ruby-1.9.3-p374/lib/ruby/1.9.1/psych.rb:203:in `parse': (<unknown>): mapping values are not allowed in this context at line 4 column 12 (Psych::SyntaxError)
    from /Users/chrishough/.rvm/rubies/ruby-1.9.3-p374/lib/ruby/1.9.1/psych.rb:203:in `parse_stream'
    from /Users/chrishough/.rvm/rubies/ruby-1.9.3-p374/lib/ruby/1.9.1/psych.rb:151:in `parse'
    from /Users/chrishough/.rvm/rubies/ruby-1.9.3-p374/lib/ruby/1.9.1/psych.rb:127:in `load'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/figaro-0.6.3/lib/figaro.rb:21:in `raw'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/figaro-0.6.3/lib/figaro.rb:17:in `env'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/figaro-0.6.3/lib/figaro/railtie.rb:7:in `block in <class:Railtie>'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/activesupport-3.2.13/lib/active_support/lazy_load_hooks.rb:34:in `call'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/activesupport-3.2.13/lib/active_support/lazy_load_hooks.rb:34:in `execute_hook'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/activesupport-3.2.13/lib/active_support/lazy_load_hooks.rb:43:in `block in run_load_hooks'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/activesupport-3.2.13/lib/active_support/lazy_load_hooks.rb:42:in `each'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/activesupport-3.2.13/lib/active_support/lazy_load_hooks.rb:42:in `run_load_hooks'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/railties-3.2.13/lib/rails/application.rb:67:in `inherited'
    from /Users/chrishough/Huedio/Code/Profiles/config/application.rb:27:in `<module:Profiles>'
    from /Users/chrishough/Huedio/Code/Profiles/config/application.rb:26:in `<top (required)>'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/railties-3.2.13/lib/rails/commands.rb:24:in `require'
    from /Users/chrishough/.rvm/gems/ruby-1.9.3-p374@My-Application-Profiles/gems/railties-3.2.13/lib/rails/commands.rb:24:in `<top (required)>'
    from script/rails:6:in `require'
    from script/rails:6:in `<main>' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T05:44:52.277

If you are using the figaro gem and your generators start blowing up, here is what killed me. In my application.yml file I had removed a space between the environment variable name and what it was set to. Instead of this =>> `MY_VARIABLE:"VARIABLE"` I needed to have this ==> `MY_VARIABLE: "VARIABLE"`

Hopefully this will save others TIME!

# mysql - MySQL - 从表中选择缺少的日期？

> ID：15715366
> 
> 赞同：1
> 
> 时间：2013-03-30T05:33:07.257
> 
> 标签：mysql, select

假设您有下表`values`：

```
date       | value
2012-01-01 |    8
2012-01-02 |    3
2012-01-03 |   17
2012-01-09 |  100
2012-01-12 |    2 
```

现在假设您要选择 2012-01-02 和 2012-01-12 之间的所有日期并显示它们的值（如果存在）。如果您只是在表中查询适当的日期范围，那么出于显而易见的原因，没有值的日期将不存在。有没有办法在查询中填写这些日期？

显而易见的解决方案是创建一个`dates`只存储可能出现的所有日期列表的表，然后从`dates`表中选择并加入`values`它，但我希望有一个不依赖于创建如果可以的话，单列表。

值得注意的是：关于这个主题的[SO](https://stackoverflow.com/questions/2501993/mysql-filling-in-missing-dates)[存在](https://stackoverflow.com/questions/3538858/mysql-how-to-fill-missing-dates-in-range) [问题](https://stackoverflow.com/questions/2844486/mysql-to-fill-in-missing-dates-when-using-group-by-datetable-timestamp-without)，但它们都是从 2010 年开始的（至少我在搜索时发现的那些是），并且那个时候 MySQL 的功能已经增长；现在可能有一个动态的解决方案。如果不是这种情况，并且表格仍然是最佳解决方案，那么这个问题应该作为重复关闭。`dates`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T12:58:27.137

缺乏其他人的答案向我表明，在当前时间，如果没有包含这些日期的表，就不可能遍历 MySQL 中的一系列日期。但是，我用 PHP 编写了一些代码，用于在事后填写缺失的日期：

```
function formatResults($inbound, $from, $to) {
    $results = array();
    $count = 0;

    // In order not to lose any results, we have to change how the results are referenced
    $indexes = array();
    $stats = array();
    foreach ($inbound as $stat) {
        // ['listindex'] is the date, renamed in the query
        $stats[$stat['listindex']] = $stat;
    }

    // In a function in case you want to pop it out
    function dateArray($from, $to) {
        $begin = new DateTime($from);
        $end = new DateTime($to);
        $interval = DateInterval::createFromDateString('1 day');
        $days = new DatePeriod($begin, $interval, $end);
        $baseArray = array();
        foreach ($days as $day) {
            $dateKey = $day->format("Y-m-d");
            $baseArray[] = $dateKey;
        }
        $baseArray[] = $to;
        return $baseArray;
    }
    $indexes = dateArray($from, $to);

    // Now all the rows we need to return are uniquely identified in $indexes
    // So we traverse $indexes to create our results array, rather than relying on $inbound
    foreach($indexes as $index) if ($index != '') {
        $data = array();
        // Make sure we do not run into any 'missing index' problems
        if (!isset($stats[$index]))
            $stats[$index] = array(
                'listindex' => $index,
                // ... populate full list of empty fields
            );
        foreach ($stats[$index] as $key => $value) {
            $data[] = $value;
        }
        $results[$count] = $data;
        $count++;
    }
    return $results;
} 
```

# android - 当 calendar.month 设置为 1 时，Android 日历非法ArgumentException

> ID：15715369
> 
> 赞同：1
> 
> 时间：2013-03-30T05:33:18.873
> 
> 标签：android, android-calendar

下面的代码工作正常，除了什么时候`calendar.MONTH set to 1 (Feb)`，我不知道为什么？谢谢。

```
 Calendar calendar = Calendar.getInstance();
    calendar.setLenient(false);    
    calendar.set(Calendar.YEAR, 2013);    
    calendar.set(Calendar.MONTH, 1); // Only when "Feb" failed with illegalArgumentException    

    int maxDays = calendar.getActualMaximum(Calendar.DAY_OF_MONTH); <= If Calendar.MONTH set to 1, this line will "java.lang.IllegalArgumentException" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T05:41:28.617

您在 getInstance 中获取当前日期。然后你将月份设置为二月。问题是今天是30号。二月有28天。那是非法组合。将日期更改为有效日期，然后更改月份。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-30T05:36:23.957

在 set 方法中更改字段名称

```
calendar.YEAR   to   Calender.YEAR
calendar.MONTH   to  Calender.MONTH 
```

它们是静态字段，应与类一起引用

# php - mysql_result() 期望参数 1 是资源，布尔值

> ID：15715373
> 
> 赞同：0
> 
> 时间：2013-03-30T05:33:45.383
> 
> 标签：php

我在 php 上遇到一个恼人的错误说

`Warning: mysql_result() expects parameter 1 to be resource, boolean given in C:\wamp\www\john\core\functions\users.php on line 16`

`Warning: mysql_result() expects parameter 1 to be resource, boolean given in C:\wamp\www\john\core\functions\users.php on line 24`

第 16 行是指

```
return (mysql_result(mysql_query("Select 'id' From 'users' where 'username'= '$username'"), 0 ,'id')); 
```

第 24 行是指

```
return (mysql_result(mysql_query("Select count('id') From 'users' where 'username'= '$username' AND 'hashed_password' = '$hash_password'"),0)==1 )? $user_id : false; 
```

我的查询是正确的，但我认为查询有问题。请帮帮我。

整个代码在这里

```
 <?php 
function user_exists($username){
    $username = sanitize($username);
     return(mysql_result(mysql_query("SELECT COUNT(`id`) FROM `users` WHERE `username` = '$username'")
    , 0) == 1) ? true : false;
}

function user_active($username){
    $username = sanitize($username);
     return(mysql_result(mysql_query("SELECT COUNT(`id`) FROM `users` WHERE `username` = '$username' AND `active` = 1")
    , 0) == 1) ? true : false;
}

function user_id_from_username($username){
    $username = sanitize($username);
    return (mysql_result(mysql_query("Select 'id' From 'users' where 'username'= '$username'"), 0 ,'id'));
}

function login($username,$password){
    $user_id = user_id_from_username($username);
    $username = sanitize($username);
    $hash_password = md5($password);    
    return (mysql_result(mysql_query("Select count('id') From 'users' where 'username'= '$username' AND 'hashed_password' = '$hash_password'"),0)==1 )? $user_id : false;
}

?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T05:37:20.273

问题在于您`''`在 column_names 周围使用。它被视为字符串而不是 column_name

改变

```
 return (mysql_result(mysql_query("Select 'id' From 'users' where 'username'= '$username'"), 0 ,'id')); 
```

至

```
return (mysql_result(mysql_query("Select `id` From `users` where `username`= '$username'"), 0 ,'id'));

return (mysql_result(mysql_query("Select count(`id`) From `users` where `username`=
'$username' AND `hashed_password` = '$hash_password'"),0)==1 )? $user_id : false; 
```

# debugging - 用于eclipse php调试的php.ini文件

> ID：15715378
> 
> 赞同：0
> 
> 时间：2013-03-30T05:33:59.760
> 
> 标签：debugging, xampp, php-ini

我一直在寻找高低，但仍然无法使用“Eclipse for PHP Developers 3.0.2”进行调试。

目前 Eclipse 仅以 57% 的速度挂起，“正在启动：等待 XDebug 会话。但是当eclipse挂起时，php文件在外部浏览器中打开并运行？？？

我正在为 Web 服务器使用“XAMPP 3.1.0.3.1.0”，并在 php ext 文件夹中有相应的“php_xdebug.dll”文件。

我尝试了其他论坛的许多设置，但仍然没有运气，这是我的 XDebug 的 php.ini 文件配置：

```
[XDebug]
zend_extension = "C:\xampp\php\ext\php_xdebug.dllstack"
;xdebug.profiler_append = 0
;xdebug.profiler_enable = 1
;xdebug.profiler_enable_trigger = 0
;xdebug.profiler_output_dir = "\xampp\tmp"
;xdebug.profiler_output_name = "cachegrind.out.%t-%s"
xdebug.remote_enable = 0n
xdebug.remote_handler = "dbgp"
xdebug.remote_host = "127.0.0.1"
;xdebug.trace_output_dir = "\xampp\tmp" 
```

有人知道我需要改变什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:09:20.393

似乎配置设置不正确，使用的好工具是[http://xdebug.org/wizard.php](http://xdebug.org/wizard.php)。

下载新版本，将其添加到 php/ext 并更新 php.ini：

```
[XDebug]
zend_extension = \xampp\php\ext\php_xdebug-2.2.2-5.4-vc9.dll
;zend_extension = "\xampp\php\ext\php_xdebug.dll"
;xdebug.profiler_append = 0
;xdebug.profiler_enable = 1
;xdebug.profiler_enable_trigger = 0
;xdebug.profiler_output_dir = "\xampp\tmp"
;xdebug.profiler_output_name = "cachegrind.out.%t-%s"
;xdebug.remote_enable = 0
;xdebug.remote_handler = "dbgp"
;xdebug.remote_host = "127.0.0.1"
;xdebug.trace_output_dir = "\xampp\tmp" 
```

# ios - CCTurnOffTiles 为我的 CCSprites 着色

> ID：15715381
> 
> 赞同：3
> 
> 时间：2013-03-30T05:34:53.113
> 
> 标签：ios, objective-c, cocos2d-iphone

Cocos2d-iPhone 1.0.1 版。

我正在对（.png 图像，非动画）使用`CCTurnOffTiles`动作。`CCSprite`

**有时**，一切都很顺利。其他时候，精灵**似乎是有色**的。色调似乎主要是**绿色**。

我的 AppDelegate 有我在这里建议的设置：[CCLiquid 使我的屏幕变黑](https://stackoverflow.com/questions/8988260/ccliquid-renders-my-screen-black)

这是我原来的精灵的一部分：

![在此处输入图像描述](../Images/b953076453c0f6c0e3a4e1b8a599461d.png)

这就是它的外观：

![在此处输入图像描述](../Images/05a135dd7d7db142c1717f05c7112be4.png)

这是操作代码：

```
id myAction = [[CCTurnOffTiles actionWithSize:ccg(35, 20) duration:0.7] reverse]; 
```

我使用`reverse`是因为我希望我的瓷砖打开而不是关闭。但我相信问题仍然存在。

为什么会发生这种情况？

# c++ - Why am I getting an invalid pointer?

> ID：15715386
> 
> 赞同：1
> 
> 时间：2013-03-30T05:36:14.000
> 
> 标签：c++, pointers, free, glibc

I'm writing a backtracking problem for homework, and all the code works except for my `delete[]` at the end.

```
/*Assg4.cc*/
int main()
{
    //removed irrelevant code - see pastebin links if needed

    void *data = &datavector;
    bool finished = false;
    bool* continuance = &finished;
    int *a = new int[n+1];
    for(int i=0; i<n; i++)
    {
        a[i] = NULL;
    }

    delete []a;
    delete continuance;

return 0;
} 
```

I get the following error:

> *** glibc detected *** ./Assg4: free(): invalid pointer: 0xbfc7098f ***

The function `backtrack()` merely fills the contents of the array `a[]` at some point, it doesn't delete, expand, or shrink the array in any way. I know the problem is with the deletes at the end, because when I comment them out I get no error (and the result of all computations is correct). What am I doing wrong?

Pastebin full files:

[Assg4.cc](http://pastebin.com/aZQpNgGk)

[backtrack.cc & backtrack.h](http://pastebin.com/46AsrHEP)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T05:38:47.143

Pretty sure your error is actually here:

```
delete continuance; 
```

You're trying to delete something allocated on the stack, since `continuance` points to `finished`, which is allocated on the stack (without a call to `new`). Items on the stack will be destroyed automatically when they go out of scope, so you don't have to worry about deleting `continuance`.

See: [What and where are the stack and heap](https://stackoverflow.com/questions/79923/what-and-where-are-the-stack-and-heap)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T05:39:35.300

```
bool finished = false;
bool* continuance = &finished;

delete continuance; 
```

You are calling `delete` on a pointer which is not allocated using `new`. This is causing an **Undefined Behavior**.
`finished` is a automatic/local variable which is autmatically destroyed once the scope `{ }` in which it is declared ends.

The rule is simple:

***Don't call `delete` unless you called `new`.***

# mysql - 如何根据mysql中的行值拆分列？

> ID：15715390
> 
> 赞同：0
> 
> 时间：2013-03-30T05:37:06.007
> 
> 标签：mysql, sql, conditional-statements

我需要来自行值的列。

我有两张桌子。

**表 1：working_day**包含所有工作日日期的列表。

```
date
--------
2013-03-30
2013-03-29
2013-03-28 
```

**表2：条目**包含每个员工的进出时间。

```
id  In  Out  Date
1   9   0    2013-03-30
2   8   0    2013-03-30
3   7   0    2013-03-30
1   8   18   2013-03-29
2   9   16   2013-03-29
3   6   20   2013-03-29
4   12  15   2013-03-29 
```

**预期输出：**

```
ID  29-03-2013_IN  29-03-2013_Out   30-03-2013_In
1    8                    18          9
2    9                    16          8
3    6                    20          7
4    12                   15          0 
```

试过：

```
SELECT id, 
Case condition1 for 29_in,  // I don't know which condition suite here.
Case condition1 for 29_out,
Case condition1 for 30_in
FROM entry
WHERE DATE
IN (
SELECT * 
FROM (
SELECT DATE
FROM working_day
ORDER BY DATE DESC 
LIMIT 0 , 2
)a
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:31:37.000

你可以尝试这样的事情：

```
select 
   e.id,
   (SELECT `in` FROM entry WHERE id = e.id AND date = '2013-03-30') as '2013-03-30_in',
   (SELECT `in` FROM entry WHERE id = e.id AND date = '2013-03-29') as '2013-03-29_in',
   (SELECT `out` FROM entry WHERE id = e.id AND date = '2013-03-29') as '2013-03-29_out'
from entry e
group by e.id; 
```

这是[演示](http://sqlfiddle.com/#!2/e4f76/6)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:40:32.800

IMO，您应该在应用程序而不是 SQL 中执行此操作

# php - 长逻辑运算符比较

> ID：15715393
> 
> 赞同：0
> 
> 时间：2013-03-30T05:38:01.560
> 
> 标签：php, if-statement, logical-operators, comparison-operators

我有三个决定结果的变量。只有两个结果，但结果是基于变量的。我想出了一些长长的 if 语句，但我想知道是否有更清洁的方法来做到这一点。

```
$loggedin = (0 or 1) // If it is 0 then one outcome if 1 then it falls onto the next three variables
$status = (0-5) // 4 dead ends
$access = (0-3) // 
$permission = (0-9) 
```

最后两个变量的不同组合会导致不同的结果，尽管有些组合是不相关的，因为它们是死胡同。

```
if ($loggedin == 1 && ($status == 1 || $status == 2 ) &&  'whattodohere' ): 
```

我可以手动输入所有组合，`($access == 0 && ($var == 2 || $var = 6))`但我想知道是否有更好的方法来做到这一点，但我不知道。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:04:37.027

看看 `bool in_array ( mixed $needle , array $haystack [, bool $strict = FALSE ] )`- [http://php.net/manual/en/function.in-array.php](http://php.net/manual/en/function.in-array.php)

还要看看 range(...) - [http://php.net/manual/en/function.range.php](http://php.net/manual/en/function.range.php)

$状态 == 1 || $status == 2 [... $status == n] 可以简化为 in_array( $status, range(0, $n) )

使用 in_array & range 在性能方面成本更高，因此，如果您确定只需要尝试 2 个不同的值，请改用 == 运算符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T06:31:06.883

一种方法可能是使用 switch()： http: [//php.net/manual/en/control-structures.switch.php](http://php.net/manual/en/control-structures.switch.php)

例子：

```
<?php
/*
$loggedin = (0 or 1) // If it is 0 then one outcome if 1 then it falls onto the next three variables
$status = (0-5) // 4 dead ends
$access = (0-3) // 
$permission = (0-9) */

$access = 1;
$loggedin = 1;
$status = 1;

if ($loggedin == 1) {
 if ($status == 1 || $status == 2 ) {
        switch($access) {
            case 0:
            //do some coding
            break;

            case 1:
            echo 'ACCESSS 1';
            //do some coding
            break;

            default:
            //Do some coding here when $access is issued in the cases above
            break;
        }
    }
}
else {
    //Do coding when $loggedIn = 0
} 

?> 
```

在示例中，ACCESS 1 将是输出。

也许您也可以做一些数学运算并比较结果（在某些情况下取决于您想要实现的目标）。例如：

```
<?php
$permission = 1;
$access = 2;
$result = $permission * $access;
if ($result > 0) {
    switch($result) {
        case 0:
        //do something
        break;
        case 1:
        //do something
        break;
        default:
        //Do something when value of $result not issued in the cases above
    }
}
?> 
```

# c# - 从列表框中播放选定的视频同时播放多个视频

> ID：15715401
> 
> 赞同：0
> 
> 时间：2013-03-30T05:39:22.000
> 
> 标签：c#

当我从列表框中播放选择的不同视频时，我是 C# 的新手。我同时播放以前播放的视频和当前视频。对于正在播放的仅选定的视频，我应该怎么做。

我的代码如下： -

```
namespace videoplayer
{

    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        Video vid;
        string currentmedia;
        string[] s=new string[5];

        public void button1_Click_1(object sender, EventArgs e)
        {
            openFileDialog1.ShowDialog();
            openFileDialog1.FileNames.CopyTo(s, 0);
            foreach (string l in s)
            {
                listBox1.Items.Add(l);
            }
        }

        private void listBox1_SelectedIndexChanged(object sender, EventArgs e)
        {
            current=(s[listBox1.SelectedIndex]);
            vid = new Video(current);
            vid.Play();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:51:31.517

每次您的选择索引更改时，`Video`都会创建一个新的 a 实例。

我建议您创建一个全局实例并使用它来处理所有视频文件。

像这样的东西：

```
Video player;
private void listBox1_SelectedIndexChanged(object sender, EventArgs e)
{
    current=(s[listBox1.SelectedIndex]);

    if (player != null && player.Playing)
        player.Stop();

    if (player != null)
        player.Dispose();

    player = new Video(current);
    player.Play();            

} 
```

# wordpress - 样式不适用于某些元素，图库在 TinyMCE 中消失，WP 3.5

> ID：15715403
> 
> 赞同：3
> 
> 时间：2013-03-30T05:39:37.820
> 
> 标签：wordpress, google-chrome, tinymce, chromium, wordpress-3.5

我注意到 Chromium/Chrome 中的一个奇怪错误，当经过一些编辑后，一个或多个图库占位符（WP3.5 中的相机和图片）消失了。在一种情况下，我有一个显示的占位符，而上面的那个没有，检查器显示一个没有应用 img.wpGallery 样式，尽管它们都应该工作。

在职的：

```
<img class="wpGallery mceItem" title="gallery ids=&quot;77,76&quot;" alt="" src="http://localhost/wordpress/wp-includes/js/tinymce/plugins/wpgallery/img/t.gif" data-mce-src="http://localhost/wordpress/wp-includes/js/tinymce/plugins/wpgallery/img/t.gif"> 
```

另一个，不工作：

```
<img class="wpGallery mceItem" title="gallery ids=&quot;32,22&quot;" alt="" src="http://localhost/wordpress/wp-includes/js/tinymce/plugins/wpgallery/img/t.gif" data-mce-src="http://localhost/wordpress/wp-includes/js/tinymce/plugins/wpgallery/img/t.gif"> 
```

它们彼此相邻，但检查员验证 img.wpGallery 规则不适用于其中之一，因此它消失了。

这个奇怪的错误似乎是由编辑器的奇怪状态引起的 - 保存或重新加载会再次正确显示它，直到您开始单击并编辑。它几乎看起来像一个图形/webkit 错误。发生的时候好像是随机的，但是添加多个画廊，直接在之后，之前，点击退出编辑器，在编辑器中，重复几次，通常可以使一个或多个画廊消失......

这是 Wordpress、TinyMCE 或 Webkit 中的已知错误吗？有没有人找到解决方案？

我在两个 WP 安装、两个不同的系统甚至默认主题上都看到了这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-24T10:37:16.153

Seems to be related to a chrome bug. It will be fixed in Wordpress 3.6\. (see: [http://core.trac.wordpress.org/ticket/24177](http://core.trac.wordpress.org/ticket/24177))

It is suggested to rename the css-classes from wpGallery to wp-gallery.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T21:14:02.490

很惊讶看到有人和我有同样的晦涩问题。

我解决这个问题的方法是将我的 CSS 移动到图像的样式属性。当然，我可以完全控制正在渲染的元素......不确定它是否会对您的情况有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T01:00:30.523

Looks like a simple workaround is to go through the `tinymce.activeEditor.contentDocument.getElementsByTagName('img')` elements and set element.className = element.className. (This can be added in many handlers like onClick, onChange, etc. to prevent the weird state when the class doesn't apply itself.)

This seems to be a good workaround, but I would like to know how/why TinyMCE with Webkit gets in this odd state though.

# c# - 桌面应用程序数据集中的实例失败

> ID：15715405
> 
> 赞同：0
> 
> 时间：2013-03-30T05:40:02.197
> 
> 标签：c#, .net, winforms, sql-server-2008

我正在开发桌面应用程序。

当我生成报告时，它给了我错误：“ `Instance Failure`”。

当我也尝试编辑数据集时，它给了我同样的错误。

我的连接字符串是>>

```
Data Source=KAM-224CD25139D\LIBRARY;Initial Catalog=Libary;Integrated Security=True 
```

我参考了这些问题>>

[asp.net中的实例失败](https://stackoverflow.com/questions/1830824/instance-failure-in-asp-net)

[未能生成 SQL Server 的用户实例](https://stackoverflow.com/questions/7801827/failed-to-generate-a-user-instance-of-sql-server)

从这里我也删除了我的字符串中的双斜杠，但也有同样的错误。

我的连接字符串的开头也没有任何@符号，也没有用户名和密码。

任何人都可以指导我吗？

# javascript - 如何在 asp.net 中获取页面加载时的隐藏字段值？

> ID：15715411
> 
> 赞同：2
> 
> 时间：2013-03-30T05:41:07.350
> 
> 标签：javascript, asp.net, hiddenfield

```
<script type="text/javascript">     
    var BrowserCompt = document.documentMode;
    document.getElementById("<%=hddnBrowserComp.ClientID %>").value = BrowserCompt;
    alert(BrowserCompt);
</script> 
```

我想在我的页面加载中使用这个 hiddenfield(hddnBrowserComp) 值，但它是空白的。我怎样才能达到同样的效果？

```
C#
if(!IsPostBack)
{
string x ="";
x = hddnBrowserComp.Value.ToString();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:16:23.587

它永远不会那样工作，因为服务器端代码先执行，然后是客户端代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:52:54.287

删除 !IsPostBack

你有！IsPostBack。所以你遇到了这个问题。第一次删除，然后尝试。

```
string x ="";
x = hddnBrowserComp.Value.ToString(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T06:11:21.643

```
documentMode property only supported in the IE...documentMode property it returns the following value based on the IE versions 
```

5

```
Internet Explorer 5 mode (also known as "quirks mode"). 
```

7

```
Internet Explorer 7 Standards mode. 
```

8

```
Internet Explorer 8 Standards mode. 
```

9

```
Internet Explorer 9 Standards mode. 
```

10

```
Internet Explorer 10 Standards mode. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T09:55:50.360

```
if(!isPostback)    
{        
  string x ="";
  x = hddnBrowserComp.Value.ToString();

  ScriptManager.RegisterClientScriptBlock(this, GetType(), "Done", "alert('" + x+"');", true);

} 
```

试试这个它会工作

# qt - QML 示例不能在 Windows CE 上运行

> ID：15715412
> 
> 赞同：1
> 
> 时间：2013-03-30T05:41:13.190
> 
> 标签：qt, windows-ce, qml

我构建了针对 Windows CE ARM4I 平台的 Qt 4.8.4 示例，除了包括 QML 的示例之外，一切都运行良好。他们只是不会在没有错误消息的情况下运行，我无法弄清楚问题的原因。有没有人遇到过同样的问题并得到了解决方案？

尽管在我的开发中使用 QML 对我来说不是必需的，但我仍然想弄清楚它。

问候， 轩

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T12:34:57.740

解决了。是dll问题。一些 QML 示例需要 sql、network 或其他 dll 才能运行。

# php - POST 数据未提交

> ID：15715417
> 
> 赞同：0
> 
> 时间：2013-03-30T05:41:37.307
> 
> 标签：php, forms, methods

我在一个不提交任何内容的新项目上有一个简单的登录表单。如果我`var_dump`的`$_POST`数据是空的。如果我`echo $_SERVER['REQUEST_METHOD']`打印 GET。如果我`var_dump $_GET`也是空的。不知道怎么回事，以前没见过。有人有想法么？

HTML：

```
<div id="login">
<div class="title">Sign In</div>
    <form id="crewlogin" method="POST" action="auth/auth.php">
        <input id="acc_number" name="acc_number" type="number" placeholder="Acc Number">
    <input id="password" name="password" type="password" placeholder="Password">
    <input type="submit" name="submit" value="Sign In">
</form> 
```

auth.php （目前只是一些调试代码，试图弄清楚发生了什么。

```
<?php
echo $_SERVER['REQUEST_METHOD'];
echo "<pre>";
var_dump($_POST);
var_dump($_GET);
?> 
```

产生：

```
GET

array(0) {

}

array(0) {

} 
```

# c# - DataGridView 复制粘贴多列

> ID：15715419
> 
> 赞同：1
> 
> 时间：2013-03-30T05:41:53.397
> 
> 标签：c#, datagridview

我想知道是否有人可以帮助我。我已经编写了一些代码，这些代码将从剪贴板复制到 DatagridView 中。我遇到的问题是，除了第一个单元格之外，一切都按预期工作。

例如，如果我从 Excel 2 列中仅复制一行，则第一列中的值为 20，第二列中的值为 30

然后，当我将它粘贴到 DataGridView 中时，我得到以下信息。

在第一列中，我得到数字 20，然后是一个大空格和 30 的值，但在第二列中只显示了 30 的值。

以下是我的代码 ID，任何人都知道如何修复第一个单元格，请帮助我

```
 if (e.Control && e.KeyCode == Keys.V)
        {
            char[] rowSplitter = { '\r', '\n' };
            char[] columnSplitter = { '\t' };
            //get the text from clipboard
            IDataObject dataInClipboard = Clipboard.GetDataObject();
            string stringInClipboard = (string)dataInClipboard.GetData(DataFormats.Text);
            //split it into lines
            string[] rowsInClipboard = stringInClipboard.Split(rowSplitter, StringSplitOptions.RemoveEmptyEntries);
            //get the row and column of selected cell in grid
            int r = DGV.SelectedCells[0].RowIndex;
            int c = DGV.SelectedCells[0].ColumnIndex;
            //add rows into grid to fit clipboard lines
            if (DGV.Rows.Count < (r + rowsInClipboard.Length))
            {
                MessageBox.Show("PasteValues Will be Outside of Grid");
                return;
            }
            // loop through the lines, split them into cells and place the values in the corresponding cell.
            for (int iRow = 0; iRow < rowsInClipboard.Length; iRow++)
            {
                //split row into cell values
                string[] valuesInRow = rowsInClipboard[iRow].Split(columnSplitter);
                //cycle through cell values
                for (int iCol = 0; iCol < valuesInRow.Length; iCol++)
                {
                    //assign cell value, only if it within columns of the grid
                    if (DGV.ColumnCount - 1 >= c + iCol)
                    {
                        DGV.Rows[r + iRow].Cells[c + iCol].Value = valuesInRow[iCol];
                        for (int i = 0;
                        i < selectedCellCount; i++)
                        {
                            DGV.SelectedCells[i].Value = valuesInRow[iCol]; ;
                        }
                    }
                }
            }

        } 
```

# python - HTTP PUT works in RESTClient but not in Postman or Python httplib

> ID：15715421
> 
> 赞同：2
> 
> 时间：2013-03-30T05:42:21.333
> 
> 标签：python, http, hadoop, hdfs

When I do a PUT request in RESTClient it works, but it fails in the *Postman* Chrome extension.

I need to call the Hadoop REST API. When I use `curl` all is okay, as with RESTClient. It fails when I use Python `httplib`, as with Postman.

Here is it working in RESTClient: ![RESTClient 没问题](../Images/21ebe86c5e10a7dbb53b9858a57ffa6a.png)

Here is it failing in Postman: ![邮递员失败](../Images/7e11341ca432e0bba8aad6502a2253d3.png)

It returns a `java.lang.UnsupportedOperationException` with the message `op=NULL is not supported`.

How can I send this PUT request correctly with Python's `httplib`? For some reason `curl` is not suitable here.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:06:56.703

看起来您要访问的端点需要`op`在查询字符串中提供一个参数。您有`?op=CREATE`RESTClient 屏幕截图，但它没有出现在您的 Postman 屏幕截图中。

我还注意到，在您的 RESTClient 屏幕截图中，服务器正在响应重定向以添加*附加*参数`overwrite=false`；您可能需要将此参数添加到您的请求中，以便实际执行操作。

# php - Foreach repeating echo issue

> ID：15715426
> 
> 赞同：0
> 
> 时间：2013-03-30T05:43:08.587
> 
> 标签：php, foreach

I have a foreach which basicaly lists clients withe their username , password and package. now i have a forach running perfect BUT it keeps showing some of the users 3 time for some reason , the data file where its getting all the info does not have the client 3 times. So for some reason foreach echo is showing the same value or user 3 times and then goes on. and its only some users not all. (there are NO duplicates in the data source) pls help :)

Code :

```
foreach ($info->accountswithinfo->account as $realminfo):

$uncapped=$realminfo->isuncapped;

if ($uncapped=='False')
{
    $username=$realminfo->username; 
    $password=$realminfo->password;
    $packagename=$realminfo->{'package-name'};

    $for=$realminfo->cap;

    $cap=Round(("$for") / (1024 * 1024 * 1024), 2);
}
?>
<tr>
    <?php
    echo '<td class="blockcontentwhite sessionicon">',
         '<td class="blockcontentwhite center">' . ("$username") . '</td>',
         '<td class="blockcontentwhite center">' . ("$password") . '</td>',
         '<td class="blockcontentwhite center">' . ("$cap GB") . '</td>',
         '<td class="blockcontentwhite center">' . ("$packagename") . '</td>';
    endforeach;
    ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:51:18.743

You are displaying the username, password, and other information in every single iteration of the loop. However, you are only changing the username, password, and other information if `$uncapped=='False'`.

There are cases where `$uncapped` might be a value other than `'False'` which would result in the username, password, and other information not getting set to new values. Your loop would then output the values stored in the previous iteration of the loop (whenever the last time `$uncapped=='False'`).

A possible solution to this issue is to wrap the assigning of values and the output in the same if condition.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:20:50.983

The } bracket ending my if statement should be after my Echo of the values

```
'<td class="blockcontentwhite center">' . ("$packagename") . '</td>';

} //like this
endforeach; 
```

# android - Google app engine endpoints for android suddenly not working when trying to launch in eclipse

> ID：15715428
> 
> 赞同：0
> 
> 时间：2013-03-30T05:43:57.640
> 
> 标签：android, eclipse, google-app-engine, google-cloud-endpoints

I have an android project where I am using the generated client libraries for google app engine. IT was working great until suddenly I am getting an error marker on the endpoint-libs folder. inside the folder there is no specific file with an error market on it, but It wont let me launch the application. I get no error in the console, and I did absolutely nothing to the code. It simply just stopped working. Does anyone know what might have caused this? I appreciate any responses because i'm clueless.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T16:50:13.903

When Eclipse shows the error indicator, but doesn't indicate which file has the error, look at Windows -> Show View -> Error Log or Problems (can't remember which of these it is).

(Often it is often a build or build path error in this case.)

Also, it is good to refresh and clean your project (project menu -> clean) in a situation like this

If those don't help, had you recently generated a new endpoints client library? Or updated one of the SDK's?

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T20:10:02.590

I seem to have more success running my Android Cloud Endpoints application in the BlueStacks emulator versus the regular emulator. The regular emulator seems to be unsuccessful at running query operations frequently whereas Blue Stacks works quickly.

# string - 给定字符串的逐字超级字符串搜索

> ID：15715429
> 
> 赞同：1
> 
> 时间：2013-03-30T05:43:58.420
> 
> 标签：string, algorithm, match

对于任何输入字符串，我们需要以任意顺序逐字匹配查找超级字符串。即输入字符串中的所有单词必须以任何顺序出现在输出字符串中。例如给定数据集：“字符串搜索”“java 字符串搜索”“手动 c 字符串搜索等于”“java 搜索代码”“c java 代码搜索”...

输入：“java 搜索” 输出：1）“java 字符串搜索”2）“java 搜索代码”3）“c java 代码搜索”

输入：“搜索 c” 输出：1）“手动 c 字符串搜索等于”2）“c java 代码搜索”

这可以通过逐字匹配以非常简单的方式完成。这里主要是我在寻找一种有效的算法。

输入：给定数据集中的数十亿条记录（主要是 1 到 10 个字长的字符串）。我需要为数百万个字符串找到超级字符串。注意：单词是扩展字典的单词。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:09:46.217

预处理您的输入（如果可能），并索引出现在数据集中的单词。生成从每个单词到一组可能的输出字符串的映射。例如，使用数据集

```
0 string search
1 java string search
2 manual c string search equals
3 java search code
4 c java code search 
```

我们得到

```
c {2,4}
code {3,4}
equals {2}
java {1,3,4}
... 
```

Then, searching for the matches for a given input is as simple as intersecting the sets corresponding to the input word:

```
input: "java c"
output: {1,3,4} intersect {2,4} = {4} 
```

If you store the sets just as sorted lists, intersection can be done in linear time (linear in the total length of the input sets) by scanning across the lists in parallel.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:57:40.477

你基本上需要找到两组词的交集，input_words和data_words。如果交集等于 input_words，则您有匹配项。

以下是设置交集的有效算法：[高效列表交集算法](https://stackoverflow.com/questions/497338/efficient-set-intersection-algorithm)

我想到并在 O(n*m) [n = size input, m = size data] 中完成的算法是。

Python：

```
match = True
for word in input.split():
  if word in data_words.split(): # linear search comparing word to each word
    continue
  else:
    match = False
    break 
```

排序列表上的搜索会更快，哈希查找会更多。这些在上面的链接中有详细说明。

# asp.net - 链接按钮点击没有被触发

> ID：15715431
> 
> 赞同：1
> 
> 时间：2013-03-30T05:44:32.040
> 
> 标签：asp.net, ajax, linkbutton

很抱歉我重复这个问题。相反，我不得不重复一遍。上次我发这个，我没有得到答案。我google了3个多小时，找不到答案。这是链接按钮和模式弹出窗口的 html。链接按钮位于选项卡面板内/上，并且自动回发设置为 true。

```
<asp:LinkButton ID="lnkAddNewAddress" runat="server" OnClick="lnkAddNewAddress_Click">Click Here To Add New Address</asp:LinkButton>
                                        <asp:ModalPopupExtender ID="lnkAddNewAddress_ModalPopupExtender" runat="server" BackgroundCssClass="modalBackground"
                                            DynamicServicePath="" Enabled="True" PopupControlID="pnlMyAddressBook" TargetControlID="lnkAddNewAddress"
                                            ViewStateMode="Enabled" >
                                        </asp:ModalPopupExtender> 
```

我希望链接按钮的 clickevent 不会发生。但是单击链接确实会打开模态弹出扩展器（这也是我想要的）......我如何进入点击事件。我知道这里避免了回发，因为模态弹出窗口可能......但我没有解决方案......

保存按钮上的代码：

```
 if(hdnfld.Value.ToString()!=null)
        { 
            if(hdnfld.Value.ToString()=="Save")
        {
            SaveNewAddress(); 

        }
        else
        {
            UpdateAddress();

        }

 <%@ Page StylesheetTheme="" Title="" Language="C#" MasterPageFile="~/Site.Master"
AutoEventWireup="true" CodeBehind="frmMyAccountMyProfile.aspx.cs"   Inherits="WebApplication1.frmMyAccountMyProfile" %>

 <%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="asp" %>
 <asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" runat="server">
  <script type="text/javascript">

    function CheckType(type) 
    {
        document.getElementById("hdnfld").value = type;
        alert(document.getElementById("hdnfld").value);
        return false;
    }

</script>
<link href="Styles/myStyleSheet.css" rel="stylesheet" type="text/css" /> 
```

```
<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server">
<div class="divwrap">
    <table style="width: 100%; margin-right: 0px;">
        <tr>.........
<td>
        &nbsp;<asp:LinkButton ID="lnkAddNewAddress" runat="server" OnClientClick="return CheckType('Save');">Click Here To Add New Address</asp:LinkButton>
       <asp:HiddenField ID="hdnfld" runat="server" />
  <asp:ModalPopupExtender ID="lnkAddNewAddress_ModalPopupExtender" runat="server" BackgroundCssClass="modalBackground" DynamicServicePath="" Enabled="True" PopupControlID="pnlMyAddressBook" TargetControlID="lnkAddNewAddress"
                                                        ViewStateMode="Enabled">
                                                    </asp:ModalPopupExtender>

  &nbsp;...........
                                                <asp:Button ID="btnEdit" runat="server" CssClass="roundcorner btn" OnClick="btnEdit_Click" OnClientClick="return CheckType('Edit');" Text="Edit" />
                                                    &nbsp;
                                                    <asp:Panel ID="pnlMyAddressBook" runat="server" BackColor="White" CssClass="roundcorner"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:12:21.447

如果你真的想在后面的代码中保留一些价值，你可以使用隐藏字段而不是视图状态。您可以在客户端以及后面的代码中访问隐藏字段。

```
 <asp:LinkButton ID="lnkAddNewAddress" runat="server" OnClientClick="return CheckType('save');">Click Here To Add New Address</asp:LinkButton>
<asp:HiddenField ID="hdf_type" runat="server" /> 
```

**Javascript代码**

```
function CheckType(type) {
        document.getElementById("hdf_type").value = type;
         return false;
    } 
```

单击保存按钮时访问代码中的值，并根据隐藏字段中的值执行您的操作保存或更新。

```
hdf_type.Value.ToString(); 
```

**为您提供更多帮助**

**HTML 文件应如下所示**

下面我发布了对我来说很好的整个代码。

```
<head runat="server">
<title></title>
<script type="text/javascript">
    function CheckType(type) {
        document.getElementById("hdf_type").value = type;
        alert(document.getElementById("hdf_type").value);
        return false;
    }
</script>
 </head>
 <body>
<form id="form1" runat="server">
<asp:ScriptManager ID="ScriptManager1" runat="server">
</asp:ScriptManager>
<div>

    <asp:LinkButton ID="lnkAddNewAddress" runat="server" OnClientClick="return CheckType('save');">Click Here To Add New Address</asp:LinkButton>

    <asp:Button ID="btn" runat="server" OnClientClick="return CheckType('edit');" Text="Click Here To Add New Address" />

    <asp:ModalPopupExtender ID="lnkAddNewAddress_ModalPopupExtender" runat="server" BackgroundCssClass="modalBackground"
        DynamicServicePath="" Enabled="True" PopupControlID="pnlMyAddressBook" TargetControlID="lnkAddNewAddress"
        ViewStateMode="Enabled">
    </asp:ModalPopupExtender>

    <div id="pnlMyAddressBook" style="height: 100px; width: 100px; display: none; background-color: Gray">
         <asp:Button ID="Button1" runat="server" Text="Button" OnClick="Button1_Click" /><br />

    </div>
    <asp:HiddenField ID="hdf_type" runat="server" />
</div>
</form> 
```

在后面的代码中获得价值：

![在此处输入图像描述](../Images/143155321e7aac897f913d96c0b59155.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:00:58.330

试试这个：

```
<asp:LinkButton ID="lnkAddNewAddress" runat="server" OnClick="lnkAddNewAddress_Click">Click Here To Add New Address</asp:LinkButton>

<asp:ModalPopupExtender ID="lnkAddNewAddress_ModalPopupExtender" runat="server" BackgroundCssClass="modalBackground"
        DynamicServicePath="" Enabled="True" PopupControlID="pnlMyAddressBook" TargetControlID="btnHidden">
    </asp:ModalPopupExtender>

<asp:Button ID="btnHidden" runat="server" style="Display:none;" Text="Button"/> 
```

在后面的代码中：

```
protected void lnkAddNewAddress_Click(object sender, EventArgs e)
    {
        lnkAddNewAddress_ModalPopupExtender.Show();

    } 
```

# objective-c - String contain string

> ID：15715434
> 
> 赞同：-1
> 
> 时间：2013-03-30T05:44:59.063
> 
> 标签：objective-c

after a decent search and could not find solution (probably i missed something...):

i have an array with objects, the object is `AddressCard` and one if the properties is `name`.

so i send to my function string and with for statement looking all the matches inside my object collection array who contain AddressCArd object (bookArray) and if there is match i want to add this object to an array asnd return this array:

```
-(NSMutableArray *) lookup:(NSString *) name
{
    NSMutableArray arr = [NSMutableArray array];

    for(AddressCard *card in bookArray}
    {
        if([card.name rangeOfString: name].location == NSNotfound)
        {
             [arr addObject: card];
        }  
    }

    return arr;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:52:02.953

You can do as this:

```
-(NSMutableArray *) lookup:(NSString *) name {
    NSMutableArray *arr = [NSMutableArray array];
    for(AddressCard *card in bookArray) {
        //if([card.name isEqualToString:name]) {
        if([[card.name capitalizedString] rangeOfString:[name capitalizedString]].location != NSNotFound)
             [arr addObject:card];
        }  
    }
    return arr;
} 
```

# android - 编程期间的屏幕超时迫使我每次都按唤醒按钮

> ID：15715441
> 
> 赞同：0
> 
> 时间：2013-03-30T05:47:18.810
> 
> 标签：android, screen, sleep

我使用 Eclipse 对我的 android 设备进行编程。我通过 USB 将设备连接到我的计算机。一切都很好，但是我编写了一些可能需要很长时间的代码，然后我按下了 F11，我的设备已经进入睡眠状态并且它的屏幕已经关闭。每次转动，我都必须按下它的按钮才能唤醒它。如果我在设置中延长它的屏幕超时时间，那么我的设备就会变得**很热**。

是否有任何解决方案可以提供当我按 F11 时它可以打开屏幕以显示我的应用程序。它可能是一个代码片段，我可以在开发阶段临时添加到我的应用程序中，或者对我的设备进行设置调整。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:01:14.970

您可以将屏幕设置为在插入/充电时永不超时。这可通过设置 > 开发人员选项（或高级设置）获得。

![高级设置截图](../Images/421ba965fbf7fe9c44fae84091e1b021.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:55:17.327

通过扩展到 Tushar 的评论，

*   前往设置，
*   选择开发人员选项，
*   您将看到以下屏幕，勾选“USB Debugging”选项

![在此处输入图像描述](../Images/48e191b318ccc57d2fb8e83150ccb012.png)

# ajax - JSF 1.2 数据表问题

> ID：15715450
> 
> 赞同：0
> 
> 时间：2013-03-30T05:49:09.103
> 
> 标签：ajax, jsf-1.2

我有一个要求，例如“在选择目录时，我想从数据库中获取数据。其中一个目录有非常大的数据，例如（25000 条及以上的记录。要从数据库中获取这些记录并在前面显示，我正在使用 JSF dataTable tag”。如下所述。但这需要越来越多的时间。有时页面也会超时。任何人都可以帮助我。

```
enter code here 
```

```
 <h:column>
                                                <f:facet name="header">
                                                <h:outputText  value="Sr.No." />
                                                </f:facet>``
                                                <h:outputText value=" #{PromoCodeDefinitionBean.table.rowIndex+1}" styleClass="blackboldSmall" />
                                            </h:column>

                                            <h:column  rendered="#{PromoCodeDefinitionBean.except}">
                                                <f:facet name="header">
                                                    <h:selectOneMenu id="useCountAll" onchange="changeValue();">
                                                        <h:outputText value="Use Count  " />
                                                        <f:selectItem itemLabel="Count" itemValue=""/>
                                                        <f:selectItem itemLabel="1" itemValue="1"/>
                                                        <f:selectItem itemLabel="2" itemValue="2"/>
                                                        <f:selectItem itemLabel="3" itemValue="3"/>
                                                        <f:selectItem itemLabel="4" itemValue="4"/>
                                                        <f:selectItem itemLabel="5" itemValue="5"/>
                                                    </h:selectOneMenu>
                                                </f:facet>
                                                <h:inputText id="useCount"  binding="#{PromoCodeDefinitionBean.userCount}" value="#{output.checkvalue}" size="2"  styleClass="mandFieldClass"></h:inputText>
                                            </h:column>

                                            <h:column>
                                                <f:facet name="header">
                                                <h:outputText  value="User Name" />
                                                </f:facet>
                                                <h:outputText value=" #{output.userName}"  styleClass="blackboldSmall" />
                                            </h:column>

                                            <h:column>
                                                <f:facet name="header">
                                                <h:outputText  value="Email" />
                                                </f:facet>
                                                <h:outputText value=" #{output.emailId}"  styleClass="blackboldSmall" />
                                                 <h:inputHidden id="emailId" binding="#{PromoCodeDefinitionBean.email}" value="#{output.emailId}"></h:inputHidden>
                                            </h:column> 

                                            <h:column  rendered="#{PromoCodeDefinitionBean.except}">
                                                <f:facet name="header">
                                                <h:selectBooleanCheckbox id="BulkMovementAll" onclick="checkUncheckAll();" ><h:outputText value="Select All  "  />
                                                <br></h:selectBooleanCheckbox>
                                                </f:facet>
                                                <h:selectBooleanCheckbox binding="#{PromoCodeDefinitionBean.checkedSelectedUser}" value="#{output.ischecked}" id="BulkMovement" onclick="test1(this.id)" />
                                                <h:outputText  id="checkboxvalue1" value="#{output.ischecked}"  style="display: none; text-align:center;" />
                                            </h:column>

                                    </h:dataTable> 
```

请帮助我改进我的显示逻辑。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T12:30:00.527

您可以使用 Paginator 并且一次只获取几条记录（例如 10 行）并让用户选择滚动页面。

# java - Jasper Report and Netbeans 7.2

> ID：15715454
> 
> 赞同：0
> 
> 时间：2013-03-30T05:49:37.790
> 
> 标签：java, jasper-reports

I'm having trouble to load a report through a button.This is my code.When I click the button it shows the down image error.

```
try {
 InputStream in =
 getClass().getResourceAsStream("C:/Users/RaMiNdU/Documents/NetBeansProjects/TimeTable
 Generator/src/timetable/generator/sem1.jrxml");
 JasperDesign jasperDesign = JRXmlLoader.load(in);
 Map<String, Object> param = new HashMap<>();
 JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);
 JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, param );
 JasperViewer.viewReport(jasperPrint, false);
 } catch (Exception e) {
    System.out.println(e.getMessage());
 } 
```

![This is the error message which is displaying ..when I click the button](../Images/40ca35e217d05c2c35e94d82267b96e3.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:56:37.097

add commons-digester.jar to your classpath and you should be through

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:18:26.077

*   commons-digester is not available in the Classpath.
*   Any start-up script is overriding Classpath environment variable.
*   Check for java.lang.ExceptionInInitializerError in your log file. NoClassDefFoundError due to failure of static initialization is quite common.
*   Your class may not be visible while using multiple class loaders.

# c# - Using lambda expression to check filepath is valid c#

> ID：15715457
> 
> 赞同：2
> 
> 时间：2013-03-30T05:50:04.543
> 
> 标签：c#, lambda, windows-phone-8

I am trying to check whether a file path is valid using the following code

```
foreach (int i in UniqueRandom(0, 4))
{
    var wbImage = getCharBitmap(c, rndFolder, i);
} 
```

The `UniqueRandom` method generates non repeating random numbers between 0 to 4\. Each number `i` represents a file name, which may or may not exist. If the file exist, the `getCharBitmap` method will return a `WritableBitmap` object, otherwise, it will return null.

I want to integrate a lambda expression to check whether the method returns null or not, then, if it's not null, I want to remember the `i` value and exit the `foreach` loop right away.

How to do this efficiently with the least amount of code?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T05:52:15.273

Try

```
var firstExisting = UniqueRandom(0, 4)
   .Select(i => new
        {
            Bitmap = GetCharBitmap(c, rndFolder, i),
            Number = i
        })
   .FirstOrDefault(x => x.Bitmap != null);

if (firstExisting != null)
{
    int j = firstExisting.Number;
} 
```

Or the same without LINQ:

```
private static int FirstExisting()
{
    foreach (int i in UniqueRandom(0, 4))
    {
        var wbImage = GetCharBitmap(c, rndFolder, i);
        if (wbImage != null)
        {
            return i;
        }
    }
    throw new Exception("No existing found"); // or return say -1
} 
```

# java - 如何识别 JTextPane 中所选文本的大小是否不同？

> ID：15715459
> 
> 赞同：1
> 
> 时间：2013-03-30T05:50:32.647
> 
> 标签：java, swing, jtextpane

我正在开发一个编辑器，其中有一个字体大小的组合框。用户可以使用它来更改文本大小。

我还实现了插入符号监听器，它告诉我所选文本的大小并相应地更新组合框。现在，如果用户选择两种不同大小的文本，我想在 Combobox 中填充空白值。但我无法用 Caret 监听器做到这一点，因为它给了我第一个文本的大小。

例如：如果我的文字是“HI”。这里 H 的大小为 12，而 I 的大小为 22。现在，当我选择“HI”时，插入符监听器给了我 12 或 22 的值。

这是示例代码：

```
StyledDocument doc = pane.getStyledDocument();
MutableAttributeSet fontSizeStyle = ((StyledEditorKit)pane.getEditorKit()).getInputAttributes();
int fontSize = StyleConstants.getFontSize(fontSizeStyle); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:37:59.957

下面的代码将遍历 Jtextpane 中的选定文本并获取每个字符的大小。

```
String selectedText = pane.getSelectedText();
int k = pane.getSelectionStart();

for(int i=0; i< selectedText.length(); i++) {
   AttributeSet fontSize = doc.getCharacterElement(k).getAttributes();                       
   System.out.println("fontSize:"+StyleConstants.getFontSize(fontSize));
   k++;
} 
```

# c# - 使用 ListItem 绑定 CheckBoxList 属性

> ID：15715460
> 
> 赞同：1
> 
> 时间：2013-03-30T05:50:34.030
> 
> 标签：c#, asp.net, postback

我也想在不再次调用绑定方法的情况下保留`datatable`in`CheckListBox` `attributes`方法的值`postback`

所以我有一个`asp:CheckBoxList`并且我正在绑定它

```
 if (!IsPostBack)
            {
// code for binding 
    } 
```

**ASP.NET**

```
<asp:CheckBoxList ID="chkboxCandidateList" runat="server">
</asp:CheckBoxList> 
```

这是我的绑定方法**`C#`**

```
DataTable dtCandidateName = // datatable having all specified column 
            if (dtCandidateName != null && dtCandidateName.Rows.Count > 0)
            {
                chkLstBxCandidateName.Items.Clear();
                ListItem lstItem = null;
                for (int i = 0; dtCandidateName.Rows.Count > i; i++)
                {
                    lstItem = new ListItem(Convert.ToString(dtCandidateName.Rows[i]["Candidate Name"]), Convert.ToString(dtCandidateName.Rows[i]["Candidate Id"]));
                    lstItem.Attributes.Add("Email", Convert.ToString(dtCandidateName.Rows[i]["Email"]));
                    lstItem.Attributes.Add("Mobile", Convert.ToString(dtCandidateName.Rows[i]["Mobile"]));
                    chkLstBxCandidateName.Items.Add(lstItem);
                }
            } 
```

甚至我在第一次调用页面加载时也得到了值

**HTML**

```
<span email="test@kartika.com" mobile="01111111111"><input id="ContentPlaceHolder1_chkboxCandidateList_0" type="checkbox" name="ctl00$ContentPlaceHolder1$chkboxCandidateList$0" checked="checked" value="486"><label for="ContentPlaceHolder1_chkboxCandidateList_0">Kratika Shukla</label></span> 
```

因此，当我单击提交按钮时，我没有获得电子邮件和移动设备的价值

```
chkboxCandidateList.Items[i].Attributes["Email"] -- getting null 
```

我检查了[这篇文章](https://stackoverflow.com/questions/1801183/issues-with-checkbox-list-losing-attrubutes-on-a-postback)，但对答案不满意

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:54:23.640

试试这个按钮点击

```
protected void btnSubmit_Click(object sender, EventArgs e)
{
 List<string> values=new List<string>();
foreach (ListItem item in chkboxCandidateList.Items)
if (item.Selected)
  values.Add(item.Text); // retrieve values here 
```

}

这可能对你有用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:39:02.817

[在这里](http://blogs.delta-n.nl/dev/Lists/Posts/Post.aspx?List=61dbd0ca-5c9f-4060-9d13-94177fe070a7&ID=85)得到了解决方案

只需创建一个类

```
namespace customControl
{
    public class ClsCheckBoxList : CheckBoxList
    {
        protected override object SaveViewState()
        {
            // create object array for Item count + 1
            object[] allStates = new object[this.Items.Count + 1];

            // the +1 is to hold the base info
            object baseState = base.SaveViewState();
            allStates[0] = baseState;

            Int32 i = 1;
            // now loop through and save each Style attribute for the List
            foreach (ListItem li in this.Items)
            {
                Int32 j = 0;
                string[][] attributes = new string[li.Attributes.Count][];
                foreach (string attribute in li.Attributes.Keys)
                {
                    attributes[j++] = new string[] { attribute, li.Attributes[attribute] };
                }
                allStates[i++] = attributes;
            }
            return allStates;
        }

        protected override void LoadViewState(object savedState)
        {
            if (savedState != null)
            {
                object[] myState = (object[])savedState;

                // restore base first
                if (myState[0] != null)
                    base.LoadViewState(myState[0]);

                Int32 i = 1;
                foreach (ListItem li in this.Items)
                {
                    // loop through and restore each style attribute
                    foreach (string[] attribute in (string[][])myState[i++])
                    {
                        li.Attributes[attribute[0]] = attribute[1];
                    }
                }
            }
        }
    }
} 
```

并在 ASP.NET 中为此添加参考

```
<%@ Register TagPrefix="TRControls" Namespace="customControl" %> 
```

和

```
 <TRControls:ClsCheckBoxList ID="chkBox" runat="server">
    </TRControls:ClsCheckBoxList> 
```

用于绑定后面的代码

```
if (!IsPostBack)
        {
            ListItem lstItem = new ListItem("vikas", "0", true);
            lstItem.Attributes.Add("love", "sure");
            chklstbox.Items.Add(lstItem);
            chkBox.Items.Add(lstItem);
            lstItem = new ListItem("kratika", "1", true);
            lstItem.Attributes.Add("love", "not sure");
            chklstbox.Items.Add(lstItem);
            chkBox.Items.Add(lstItem);
        } 
```

就是这样，现在我可以获取属性的值

# c++ - 新的和删除的内存泄漏

> ID：15715463
> 
> 赞同：0
> 
> 时间：2013-03-30T05:51:29.220
> 
> 标签：c++, memory-leaks

我试图修改一些以前的代码，但发现程序使用的内存在运行时不断增加。所以可能存在内存泄漏。我的代码的主要部分包含以下循环

```
CEnergymulti* ener;
double potential;
double pottemp;

potential=0.0;
pottemp=0.0;

for(int i=0;i<nbin;i++)
{
 ener = new CEnergymulti(np1,molfnames1,idiel);
  pottemp=ener->calculatePot(ener->m_mols);
  potential+=pottemp;
 delete ener;
} 
```

其中“CEnergymulti”是一个类。我怀疑重复使用 new 和 delete 可能会导致内存泄漏问题，因为如果我只对循环内的代码执行一次运行，我没有看到运行期间内存增加。如果确实是 new 和 delete 的问题，我该如何纠正？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T05:54:18.670

您显示的代码中没有内存泄漏（*除非有一个糟糕的析构函数实现`CEnergymulti`*）但是没有令人信服的理由使用动态分配的对象开始。为什么不简单地使用：

```
CEnergymulti obj;
pottemp=obj.calculatePot(obj.m_mols);
potential+=pottemp; 
```

丢弃不需要的东西`new`，`delete`您不必再为手动内存管理而烦恼。

# c++ - 在不使用外部库的情况下替换字符串列表中的整个单词

> ID：15715467
> 
> 赞同：3
> 
> 时间：2013-03-30T05:51:48.267
> 
> 标签：c++, string, replace

我想在不使用外部库的情况下替换一些单词。我的第一次尝试是复制字符串，但效率不高，所以这是我使用地址的另一次尝试：

```
void ReplaceString(std::string &subject, const std::string &search, const std::string &replace) 
{
    size_t position = 0;
    while ((position = subject.find(search, position)) != std::string::npos)    //if something messes up --&gt; failure
    {
         subject.replace(position, search.length(), replace);
         position = position + replace.length();
    }
} 
```

因为这也不是很有效，我想用另一个东西，但我卡住了；我想使用一个函数，比如`replace_stuff(std::string & a);`使用`string.replace()`和`string.find()`（用 for 循环或其他东西解析它），然后使用`std::map <std::string,std::string>;`它对我来说非常方便。

我想将它用于大量输入单词。（假设用一些无害的词代替许多坏词）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:50:15.593

您的问题的问题是标准库中缺少必要的组件。如果你想要一个高效的实现，你可能需要一个[trie](http://en.wikipedia.org/wiki/Trie)来进行高效的查找。写一个作为答案的一部分将是很多代码的方式。

如果您使用 a`std::map`或者，如果您的环境中可以使用 C++11 `std::unordered_map`，则您将需要利用有关输入字符串和映射中的搜索替换对的附加信息。然后，您将对字符串进行标记并检查每个标记是否需要替换。使用指向输入字符串的位置是一个好主意，因为它可以避免复制数据。这使我们：

效率将取决于内存访问（读取和写入），因此您不应修改输入字符串。通过从空字符串开始并附加输入中的片段来创建输出。检查输入的每个部分：如果是一个单词，检查它是否需要替换或者是否未修改地附加到输出中。如果它不是单词的一部分，则不加修改地附加它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:53:51.643

听起来您想用无害的单词替换字符串中的所有“坏”词，但您当前的实现效率低下，因为坏词列表远大于输入字符串的长度 ( `subject`)。它是否正确？

如果是这样，下面的代码应该会提高效率。如您所见，我必须将映射作为参数传递，但如果您的函数将成为类的一部分，则无需这样做。

```
void ReplaceString(std::string &subject, const std::map<std::string, std::string>& replace_map) 
{
    size_t startofword = 0, endofword = 0;
    while(startofword < subject.size())
    {
      size_t length = std::string::npos;

      //get next word in string
      endofword = subject.find_first_of(" ", startofword);
      if(endofword != std::string::npos)
        length = endofword-startofword;

      std::string search = subject.substr(startofword, length);

      //try to find this word in the map
      if(replace_map.find(search) != replace_map.end())
      {
        //if found, replace the word with a new word
        subject.replace(startofword, length, replace_map[search]);
        startofword += replace_map[search].length();
      }
      else
      {
        startofword += length;
      }

    }

} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T07:06:21.333

我使用以下功能，希望对您有所帮助：

```
//=============================================================================
//replaces each occurence of the phrase in sWhat with sReplacement
std::string& sReplaceAll(std::string& sS, const std::string& sWhat, const std::string& sReplacement)
{
    size_t pos = 0, fpos;
    while ((fpos = sS.find(sWhat, pos)) != std::string::npos)
    {
        sS.replace(fpos, sWhat.size(), sReplacement);
        pos = fpos + sReplacement.length();
    }
    return sS;
}

//=============================================================================
// replaces each single char from sCharList that is found within sS with entire sReplacement
std::string& sReplaceChars(std::string& sS, const std::string& sCharList, const std::string& sReplacement)
{
    size_t pos=0;
    while (pos < sS.length())
    {
        if (sCharList.find(sS.at(pos),0)!=std::string::npos) //pos is where a charlist-char was found
        {
            sS.replace(pos, 1, sReplacement);
            pos += sReplacement.length()-1;
        }
        pos++;  
    }
    return sS;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T14:48:26.643

你可以创建一个类，比如 Replacer：

```
class Replacer 
{
  std::map<std::string,> replacement;

public:
  Replacer()
  {
     // init the map here
     replacement.insert ( std::pair<std::string,std::string>("C#","C++") );
     //...
  }
  void replace_stuff(std::string & a);
} 
```

然后 replace_stuff 定义将与您的原始 ReplaceString 非常相似（它将使用映射条目而不是传递的参数）。

# javascript - JQuery Terminal term.echo 来自另一个函数？

> ID：15715469
> 
> 赞同：1
> 
> 时间：2013-03-30T05:51:49.440
> 
> 标签：javascript, jquery, jquery-terminal

我正在尝试使用：`http://terminal.jcubic.pl/`

我希望能够从另一个函数调用 term.echo 以便能够在终端内放置数据，但我无法引用它。

下面是代码：

```
jQuery(document).ready(function($) {
    var id = 1;
    $('body').terminal(function(command, term) {
        if (command == 'help') {
            term.echo("available commands are mysql, js, test");
        } else{
          term.echo("entered: " + command);
        }

    }, {
        greetings: "Shell",
        onBlur: function() {
            return false;
        }
    });
}); 
```

如何从外部访问 term.echo，以便像单击按钮一样单击调用 term.echo 以添加数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T10:46:49.377

最简单的方法是使用全局变量作为*术语*对象的引用。在您的示例中，可能如下所示：

```
// global placeholder for term object
var terminal = null;

jQuery(document).ready(function($) {
    var id = 1;
    $('body').terminal(function(command, term) {

        // setting up global reference
        terminal = term;

        if (command == 'help') {
            term.echo("available commands are mysql, js, test");
        } else{
          term.echo("entered: " + command);
        }

    }, {
        greetings: "Shell",
        onBlur: function() {
            return false;
        }
    });
}); 
```

这段代码的问题是它会在*文档上触发**ready*事件后加载终端，而您永远无法确定何时会发生这种情况。

 *在 document.ready 被解雇后，您将能够在`terminal.echo('');`任何地方使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-11T11:40:08.067

终端返回的值与 interpter 参数中的对象相同（在这两种情况下都是带有附加终端方法的 jQuery 对象），因此您可以执行以下操作：

```
jQuery(function($) {
    var terminal = $('body').terminal(function(command, term) {
        if (command == 'help') {
            term.echo("available commands are mysql, js, test");
        } else{
          term.echo("entered: " + command);
        }

    }, {
        greetings: "Shell",
        onBlur: function() {
            return false;
        }
    });

    terminal.echo("Some text");
}); 
```*

# jquery - 如何清除 HTML 编辑器

> ID：15715471
> 
> 赞同：0
> 
> 时间：2013-03-30T05:51:56.547
> 
> 标签：jquery, html

我确实有 wysihtml5Editor，我想使用 jQuery 清除编辑器的值。我编写的代码如下：

```
$(function () {
   $("#cleartext").live('click', function () {
    $('#def_text').wysihtml5().data("wysihtml5").editor.clear();
    });
});

<textarea  name="def_text"  id="def_text" class="w100" rows="9" cols="50" data-bind="editor: def_text"></textarea>
<button type="reset" class="btn" id="cleartext"><i class="icon-pencil"></i> New Contract</button> 
```

我没有得到想要的结果——它向我显示了编辑器未定义的错误。请提出建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T15:43:35.677

我认为你把它弄得太复杂了。只需设置您的变量并将其链接到您的文本区域，然后仅使用该变量：

```
var editor = new wysihtml5.Editor("myTextarea");
editor.clear(); 
```

或者

```
editor.setValue('', true); 
```

为我工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-15T23:26:41.193

我必须这样做才能清除单页应用程序中的数据：

当我尝试

```
('#comments').data("wysihtml5").editor.clear() // Got error **Uncaught TypeError: Cannot read property 'editor' of undefined** 
```

当我尝试

```
var editor = $('#comments').wysihtml5();
editor.clear(); // This clears only the textarea which is hidden. Did not clear the Editor. 
```

所以这就是我所做的，（可能不是一个好方法，但这清除了我的文本区域）

```
$(".wysihtml5-sandbox").remove();
$("#comments").show();
$('#comments').val(''); 
```

然后再次初始化编辑器，

```
var editor = new wysihtml5.Editor("comments", { // id of textarea element
  toolbar:      "wysihtml5-toolbar", // id of toolbar element
  parserRules:  wysihtml5ParserRules, // defined in parser rules set
  stylesheets: "/cca/css/richtext.css"
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T17:22:09.313

在我看来，你让这变得比必要的更复杂。你试试怎么样：

```
$("#cleartext").click(function () {
    $('#def_text').val('');
}); 
```

看到[这个小提琴](http://jsfiddle.net/dDbVs/)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-28T05:51:30.627

这对我有用，我写了几行自定义 JS 代码。我想他们可以帮助你。

```
var content = $('#textareaId');
var contentPar = content.parent()
contentPar.find('.wysihtml5-toolbar').remove()
contentPar.find('iframe').remove()
contentPar.find('input[name*="wysihtml5"]').remove()
content.show()
$('#textareaId').val('');
$("#textareaId").wysihtml5(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-03-19T13:03:19.287

我正在使用 bootstrap 3 wysiHtml5 编辑器，这里给出的解决方案都不适合我，我使用了这个并且它有效

$('#controlid ~ iframe').contents().find('.wysihtml5-editor').html('');

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-04-08T20:52:25.020

这对我有用。，创建一个 div 标签，里面放你的**textarea**元素

```
<div id="CommentTextArea">

<textarea  name="comment_text"  id="comment"  rows="9" cols="50" ></textarea>

</div>

<button type="submit"  id="send"> Send </button> 
```

**在您的 .js 文件中**

```
 $(function(){

// Initialize the Editor
$("#comment").wysihtml5({

toolbar: {
 "size": "xs",    //<buttonsize> // options are xs, sm, lg
"font-styles": false, // Font styling, e.g. h1, h2, etc.
"emphasis": true, // Italics, bold, etc.
"lists": false, // (Un)ordered lists, e.g. Bullets, Numbers.
"html": false, // Button which allows you to edit the generated HTML.
"link": true, // Button to insert a link.
"image": true, // Button to insert an image.
"color": false, // Button to change color of font
"blockquote": false, // Blockquote

}
});

// when the send button is clicked

$('#send').click(function(){

   setTimeout(function(){
        //remove  wysihtml5Editor contents  
   $("#CommentTextArea").html('<textarea  name="comment_text"  id="comment"  rows="9" cols="50" ></textarea>');

// and then Initialize the Editor again,

$("#comment").wysihtml5({

toolbar: {
 "size": "xs",    //<buttonsize> // options are xs, sm, lg
"font-styles": false, // Font styling, e.g. h1, h2, etc.
"emphasis": true, // Italics, bold, etc.
"lists": false, // (Un)ordered lists, e.g. Bullets, Numbers.
"html": false, // Button which allows you to edit the generated HTML.
"link": true, // Button to insert a link.
"image": true, // Button to insert an image.
"color": false, // Button to change color of font
"blockquote": false, // Blockquote
   }});

     }, 1000);   

});

    }); 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-03-30T06:02:54.223

你初始化正确吗？文档显示如下：

```
$(function () {
    var editor = new wysihtml5.Editor("def_text");

    $("#cleartext").on('click', function () {
        $('#def_text').data("wysihtml5").editor.clear();
    });
}); 
```

或者，更接近你的，

```
var wysihtml5Editor = $('#def_text').wysihtml5(); 
```

# ruby-on-rails - Ubuntu 上 Rails 3.2 的奇怪 ActiveRecord::StatementInvalid 错误

> ID：15715476
> 
> 赞同：3
> 
> 时间：2013-03-30T05:52:22.630
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ubuntu, ruby-on-rails-3.2

我是新来的轨道。我正在开发一个新的 Rails 项目，它是一个图书馆系统，在尝试访问 Loan_fines 时遇到了一个奇怪的错误。

错误如下：-

```
ActiveRecord::StatementInvalid in LoanFinesController#index

PG::Error: ERROR:  relation "loan_fines" does not exist
LINE 5:              WHERE a.attrelid = '"loan_fines"'::regclass
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"loan_fines"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum 
```

我的 LoanFines 控制器如下：-

```
class LoanFinesController < ApplicationController
  # GET /loan_fines
  # GET /loan_fines.json
  def index
    @loan_fines = LoanFine.all

    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @loan_fines }
    end
  end

  # GET /loan_fines/1
  # GET /loan_fines/1.json
  def show
    @loan_fine = LoanFine.find(params[:id])

    respond_to do |format|
      format.html # show.html.erb
      format.json { render json: @loan_fine }
    end
  end

  # GET /loan_fines/new
  # GET /loan_fines/new.json
  def new
    @loan_fine = LoanFine.new

    respond_to do |format|
      format.html # new.html.erb
      format.json { render json: @loan_fine }
    end
  end

  # GET /loan_fines/1/edit
  def edit
    @loan_fine = LoanFine.find(params[:id])
  end

  # POST /loan_fines
  # POST /loan_fines.json
  def create
    @loan_fine = LoanFine.new(params[:loan_fine])

    respond_to do |format|
      if @loan_fine.save
        format.html { redirect_to @loan_fine, notice: 'Loan fine was successfully created.' }
        format.json { render json: @loan_fine, status: :created, location: @loan_fine }
      else
        format.html { render action: "new" }
        format.json { render json: @loan_fine.errors, status: :unprocessable_entity }
      end
    end
  end

  # PUT /loan_fines/1
  # PUT /loan_fines/1.json
  def update
    @loan_fine = LoanFine.find(params[:id])

    respond_to do |format|
      if @loan_fine.update_attributes(params[:loan_fine])
        format.html { redirect_to @loan_fine, notice: 'Loan fine was successfully updated.' }
        format.json { head :no_content }
      else
        format.html { render action: "edit" }
        format.json { render json: @loan_fine.errors, status: :unprocessable_entity }
      end
    end
  end

  # DELETE /loan_fines/1
  # DELETE /loan_fines/1.json
 def delete
    @loan_fine = LoanFine.find(params[:id])
    @loan_fine.deleted = 1
    @loan_fine.save

    respond_to do |format|
      format.html { redirect_to loan_fines_url }
      format.json { render :json => { :success => true } }
    end
  end 
end 
```

我的贷款罚款索引如下：-

```
<h1 class="List">Listing Loan Fines</h1>

<table class="table table-bordered" >
  <tr>
    <th>ID</th>
    <th>Category Id</th>
    <th>Loan Duration</th>
    <th>Book Id</th>
    <th>Fine Amount</th>
    <th>Fine Duration</th>
    <th>Edit</th>
    <th>Delete</th>
  </tr>

<% @loan_fines.each do |c| %>
  <tr>
    <td><%= link_to c.id, {:action => 'show', :id => c.id} %> &nbsp;</td>
    <td><%= c.category_id %>&nbsp;</td>
    <td><%= c.loan_duration %>&nbsp;</td>
    <td><%= c.book_id %>&nbsp;</td>
    <td><%= c.fine_amount %>&nbsp;</td>
    <td><%= c.fine_duration %>&nbsp;</td>
    <td><%= link_to 'Edit', {:action => 'edit', :id => c.id} %> &nbsp;</td>
    <td><%= link_to 'Delete', {:action => 'delete', :id => c.id},
    :data => { :confirm => "Are you sure you want to delete this value?" } %></td>
    </tr>
<% end %>
</table>
<br />

<%= link_to 'New Loan fine', new_loan_fine_path %> 
```

我的日志有以下内容：-

```
Started GET "/loan_fines" for 127.0.0.1 at 2013-03-29 22:36:37 -0700
Processing by LoanFinesController#index as HTML
PG::Error: ERROR:  relation "loan_fines" does not exist
LINE 5:              WHERE a.attrelid = '"loan_fines"'::regclass
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"loan_fines"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum

Completed 500 Internal Server Error in 1ms

ActiveRecord::StatementInvalid (PG::Error: ERROR:  relation "loan_fines" does not exist
LINE 5:              WHERE a.attrelid = '"loan_fines"'::regclass
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"loan_fines"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum
):
  app/controllers/loan_fines_controller.rb:5:in `index'

  Rendered /home/chiron/.rvm/gems/ruby-1.9.3-p327/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /home/chiron/.rvm/gems/ruby-1.9.3-p327/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/chiron/.rvm/gems/ruby-1.9.3-p327/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.3ms) 
```

我被困在这个问题上。最奇怪的部分是相同的代码似乎`work on windows`在尝试`Ubuntu am getting an error`。

谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T06:08:26.870

看起来像数据库错误。运行`rake db:migrate`和`rake test:prepare`起初。

# jquery - 在 Safari 中滚动时，粘性菜单栏“跳跃”/闪烁

> ID：15715481
> 
> 赞同：2
> 
> 时间：2013-03-30T05:53:05.353
> 
> 标签：jquery, menubar, sticky

我的粘性菜单栏出现问题，在 Safari 中滚动时似乎跳跃/闪烁。我已经用谷歌搜索了，但对我来说似乎很复杂，所以也许你可以帮助我？

网址是：http: [//12hrs.net](http://12hrs.net)

我的 Jquery 看起来像这样：

jQuery（文档）.ready（函数（$）{

```
$(".full-header").sticky({
    topSpacing: 0,
    wrapperClassName: 'full-header'
});

$('.image-wrapper').hover(function(){

    $(this).find('.mouse-effect').stop().animate({'opacity':'0.6'});
    $(this).find('.extra-links').stop().animate({'top':'64%'});

},function(){

    $(this).find('.mouse-effect').stop().animate({'opacity':'0'});
    $(this).find('.extra-links').stop().animate({'top':'-64%'});

});
$("li[data-id='id-166'] a.go-link").remove();

$(".gallery-option a").click(function (event) {
    event.preventDefault();
    var view = $(this).attr("id");
    if (view == "three") {
        $(".holder li").removeClass("four columns").addClass("one-third column");
        if ($data) {
            $("ul.holder").removeAttr("style");
            $data.find("li").removeClass("four columns").addClass("one-third column")
        }
    } else {
        $(".holder li").removeClass("one-third column").addClass("four columns");
        if ($data) {
            $("ul.holder").removeAttr("style");
            $data.find("li").removeClass("one-third column").addClass("four columns")

        }
    }
});

$("a[rel^='prettyPhoto']").prettyPhoto();

$(".ads img").addClass("img-frame");

$('#main-menu li a').click(function(e){

    e.preventDefault();

        var content = $(this).attr('href');
        var checkURL = content.match(/^#([^\/]+)$/i);
        if(checkURL){

            var goPosition = $(content).offset().top - 80;
            $('html,body').animate({ scrollTop: goPosition}, 'slow');

        }else{
            window.location = content;
        }

});

$("#main-menu li").click(function () {
    $("#main-menu li").removeClass("active");
    $(this).addClass("active")
});

$(".filter li a").click(function (event) {
    event.preventDefault();
    var test = $(this).parent().attr("class");
    $(".filter li a").removeClass("main-btn").addClass("gray");
    $(this).removeClass("gray").addClass("main-btn");
});

$("#foot a").click(function () {
    $("#menu li").removeClass("active");
    $("#menu li:first").addClass("active")
});

var $filterType = $("#filterOptions li.active a").attr("rel");
var $holder = $("ul.holder");
var $data = $holder.clone();
$("#filterOptions li a").click(function (e) {
    $("#filterOptions li").removeClass("active");
    var $filterType = $(this).attr("rel");
    $(this).parent().addClass("active");
    if ($filterType == "all") var $filteredData = $data.find("li");
    else var $filteredData = $data.find("li[data-type~=" + $filterType + "]");
    $holder.quicksand($filteredData, {
        duration: 800,
        easing: "easeInOutQuad"
    }, function () {
        $("a[rel^='prettyPhoto']").prettyPhoto();
         $('.image-wrapper').hover(function(){

            $(this).find('.mouse-effect').stop().animate({'opacity':'0.6'});
            $(this).find('.extra-links').stop().animate({'top':'64%'});

            },function(){

            $(this).find('.mouse-effect').stop().animate({'opacity':'0'});
            $(this).find('.extra-links').stop().animate({'top':'-64%'});

            });
    });
    return false;
});
var lastId, topMenu = $("#main-menu"),
topMenuHeight = topMenu.outerHeight() + 500;
menuItems = topMenu.find('a');

    scrollItems = menuItems.map(function () {

        content = $(this).attr("href");
        var checkURL = content.match(/^#([^\/]+)$/i);

        if(checkURL){

            var item = $($(this).attr("href"));
            if (item.length) return item

        }
    });
$(window).scroll(function () {
    var fromTop = $(this).scrollTop() + topMenuHeight;
    var cur = scrollItems.map(function () {
        if ($(this).offset().top < fromTop) return this
    });
    cur = cur[cur.length - 1];
    var id = cur && cur.length ? cur[0].id : "";
    if (lastId !== id) {
        lastId = id;
       menuItems.parent().removeClass("active").end().filter("[href=#" + id + "]").parent().addClass("active")
    }
}); 
```

});

jQuery（窗口）.load（函数（）{

```
 jQuery(".mainSlider").flexslider({
    animation: "slide",
    animationLoop: true,
    directionNav: false,
    controlNav: true
}); 
```

});

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:05:01.020

实际上，您可以通过删除`z-index`您的班级的行来`.full-header`解决此问题`layout.css`

# html - 相互对齐元素

> ID：15715483
> 
> 赞同：0
> 
> 时间：2013-03-30T05:53:31.887
> 
> 标签：html, css

对于下面的代码，它把图片渲染成如下![在此处输入图像描述](../Images/f7b44b8b124930e7e68b8398325bef3b.png) 我想要的效果是“Hello,user1”对齐了黑框，而且都对齐到了灰框的右边，我应该怎么实现呢?

```
<html>
<head>
<style>
    #header {
    width: 100%;
    height: 81px;
    background: url(http://www5.picturepush.com/photo/a/12541848/img/Anonymous/header-bg.png) 0 0 repeat-x;
}
#header h1 {
    display: block;
    float: left;
    margin: 30px 0 0 35px;
    font-size: 18px;
    color: #6a6a6a;
}
#header #logo {
    display: block;
    float: left;
}
#header #userlog {
    width: 272px;
    height: 31px;
    background-color: #363636;
    border-radius: 2px;
    float: right;
    margin: 27px 26px 0 0;
}#header #userlog a {
    font-size: 13px;
    float: left;
    color: #b7b7b7;
    margin-top: 6px;
}

#welcome_msg {
    color: #b7b7b7;
    float: right;

}
    </style>

</head>
<body>
<div id="header">
    <a id="logo" href="dashboard.php"><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/archive/c/c1/20070624012131!Fuji_apple.jpg/120px-Fuji_apple.jpg" alt="" /></a>
    <div class="welcome_msg" id="welcome_msg">hello, user1</div>
    <h1> My Portal   </h1>
    <div id="userlog">
        <a href="#" style="margin-left:25px;text-decoration:underline;">Contact Support</a>
        <a href="#" style="margin-left:20px;">FAQ</a>
        <a href="../index.php" style="margin-left:25px;">logout</a>
    </div>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T06:02:36.047

将这两个元素放入一个 div 并将该 div 浮动。右边多余的空间是因为元素有 26px 的边距。

```
<div id="whatever">
    <div class="welcome_msg" id="welcome_msg">hello, user1</div>
    <div id="userlog"> <a href="#" style="margin-left:25px;text-decoration:underline;">Contact Support</a>
        <a href="#" style="margin-left:20px;">FAQ</a>
        <a href="../index.php" style="margin-left:25px;">logout</a>
    </div>
</div>

#whatever {
    float:right;
}

#header #userlog {
    width: 272px;
    height: 31px;
    background-color: #363636;
    border-radius: 2px;
} 
```

演示：http: [//jsfiddle.net/kzhuL/](http://jsfiddle.net/kzhuL/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:02:14.197

像这样？

![在此处输入图像描述](../Images/dd4be9166847c64902c36d62ea3452c8.png)

我添加了一个`<div>`容器来容纳`#userlog`和`#welcome_msg`。

**CSS**

```
#header #userlog {
    margin: 0 26px 0 0;
}
#welcome_msg {
    margin-right:26px;
} 
```

**HTML**

```
<div id="container">
    <div class="welcome_msg" id="welcome_msg">hello, user1</div>
    <br />
    <div id="userlog"> 
        <a href="#" style="margin-left:25px;text-decoration:underline;">Contact Support</a>
        <a href="#" style="margin-left:20px;">FAQ</a>
        <a href="../index.php" style="margin-left:25px;">logout</a>
    </div>
</div> 
```

# mysql - 如何获取以 GB 为单位的 mysql 表大小

> ID：15715487
> 
> 赞同：15
> 
> 时间：2013-03-30T05:54:24.917
> 
> 标签：mysql

刚刚使用以下查询以 GB 为单位计算 MySQL 表的大小。

> SELECT (data_length+index_length)/power(1024,3) tablesize_gb FROM information_schema.tables WHERE table_schema='db' and table_name='tablename'

是否可以获得以 GB 为单位的 MySQL 行的大小。

或者如何以 GB 为单位获取表的平均行大小。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-30T06:01:04.993

要获取平均行长度（包括开销），请使用[`AVG_ROW_LENGTH`](http://dev.mysql.com/doc/refman/5.6/en/tables-table.html)信息模式表中的列：

```
select AVG_ROW_LENGTH from INFORMATION_SCHEMA.tables; 
```

据我所知，没有办法计算 MySQL 中单个特定行的确切实际大小。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2015-10-22T09:23:05.867

嗨，这可能会奏效，我们遇到了类似的问题，必须找出哪些类型的行占用的空间最多。这就是为什么在这里与一群...

```
SELECT groupval, (sum(length(somefield) + length(someotherfield)) / 1024) / 1024 as "fields_size_mb"
FROM table
GROUP BY groupval
ORDER BY fields_size_mb desc; 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2017-07-13T08:29:11.627

```
SELECT 
     table_name AS `Table`, 
     round(((data_length + index_length) / 1024 / 1024 ), 2) as `Size in MB`,
     round((AVG_ROW_LENGTH / 1024), 2) as `Avg row size in KB`
FROM information_schema.TABLES WHERE table_schema = 'your_db_name'
ORDER BY `Size in MB` DESC 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-07-31T16:46:30.013

不确定您是否正在寻找它，但我最终在这里寻找行的理论大小（每个字段大小的加法）。

所以我最终提出了这个要求：

```
select TABLE_NAME, sum(CHARACTER_MAXIMUM_LENGTH)/power(1024,3) 
from COLUMNS  where TABLE_SCHEMA = 'schema' group by 1 order by 2 desc ; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-04-05T09:16:04.553

要计算行的大小，请使用 length() 方法。

例如：

```
MariaDB [db]> select id,length(row_to_calcsize) from tablename order by id desc limit 2\G
*************************** 1\. row ***************************
     id: 501
length(row_to_calcsize): 2192911
*************************** 2\. row ***************************
     id: 500
length(row_to_calcsize): 51657
2 rows in set (0.00 sec)

MariaDB [db]> 
```

要以 GB 为单位计算大小，只需将其除以 1024 的 3 倍

```
length(row_to_calcsize)/1024/1024/1024 
```

* * *

## 回答 #6

> 赞同：-4
> 
> 时间：2013-03-31T16:26:20.330

要找到表格大小，我们可以使用类似这样的东西..

```
SELECT count(*) tables,
       concat(round(sum(table_rows)/1000000,2),'M') rows,
       concat(round(sum(data_length)/(1024*1024*1024),2),'G') data,
       concat(round(sum(index_length)/(1024*1024*1024),2),'G') idx,
       concat(round(sum(data_length+index_length)/(1024*1024*1024),2),'G') total_size,
       round(sum(index_length)/sum(data_length),2) idxfrac
       FROM information_schema.TABLES
       WHERE  table_name like "%table-name%" 
```

在 MYSQL 数据库中找到最大的表，我们可以使用这样的东西

```
SELECT CONCAT(table_schema, '.', table_name),
       CONCAT(ROUND(table_rows / 1000000, 2), 'M')                                    rows,
       CONCAT(ROUND(data_length / ( 1024 * 1024 * 1024 ), 2), 'G')                    DATA,
       CONCAT(ROUND(index_length / ( 1024 * 1024 * 1024 ), 2), 'G')                   idx,
       CONCAT(ROUND(( data_length + index_length ) / ( 1024 * 1024 * 1024 ), 2), 'G') total_size,
       ROUND(index_length / data_length, 2)                                           idxfrac
FROM   information_schema.TABLES
ORDER  BY data_length + index_length DESC
LIMIT  10 
```

# c++ - 由于类型不匹配，无法将一个指针分配给另一个指针，或者编译器说

> ID：15715488
> 
> 赞同：0
> 
> 时间：2013-03-30T05:54:52.130
> 
> 标签：c++, class, pointers, stack, assign

这是头文件代码stack.h：

```
#include <iostream>
using namespace std;
//template <class T> struct stackNode;
//template <class T>
struct stackNode {
int item;
stackNode *Next;
stackNode *Prev;
//stackNode *Temp;

};
class stackClass {
public:
stackClass();
stackClass(const stackClass &right);
~stackClass();
stackClass &operator=(const stackClass &right);
int counter;
int StackIsEmpty(void);
//stackNode *origptr;
void push( int item, bool &success);
int pop(void);

int GetStackTop(void);

protected:
stackNode *GetStackTopPtr(void);

private:

stackNode *Top;
stackNode *Current;
//stackNode *origptr;
//stackNode<T> *Next; 
}; 
```

这是实现文件stack.cpp：

```
#include "stack.h"

//constructor 
stackClass::stackClass(){
        Top = NULL;
        int counter = 0;
            }   

//copy constructor
stackClass::stackClass(const stackClass &right){
        if (right.Top == NULL){
        Top = NULL;
        counter = 0;
            }
        else {
            stackNode * origptr = right.GetStackTopPtr; 
        stackNode * currptr;
        Top = new stackNode; 
        currptr = Top;

        while(origptr->Next != NULL){
            currptr->item = origptr->item;
            origptr = origptr->Next;
            currptr->Next = new stackNode;
            currptr->Next->item = origptr->item;
            currptr = currptr-> Next;
            }
        currptr->Next = NULL;
            }   
    }

//Destructor
stackClass::~stackClass(){  
    while (Top != NULL){
        pop();
                    }               
            }
//push
void stackClass::push(int item, bool &success){
    success = false;
    if (Top == NULL){
        Top = new stackNode;
        Top -> item = item;
        Top -> Next = NULL;
        Top -> Prev = NULL;
        Current = Top; 
        counter++;
        success = true;
        }
    else {
        stackNode * Temp = new stackNode;
        Current -> Next = Temp;
        Temp -> Prev = Current;
        Temp -> Next = NULL; 
        Current = Temp;
        Current -> item = item;
        counter++;
        success = true;
        }

    }

int stackClass::pop(void){      

    if (Top == NULL){
        cout<<"Stack is empty"<<endl;
        }   

    else if (counter == 1){
        Top = NULL;
        delete Current; 
        counter--;
        }

    else if(counter > 1){
        Current -> Prev -> Next = NULL;
        Current = Current -> Prev;
        stackNode * Temp = Current -> Next;
        delete Temp; 
        counter--;              
        }   
    }   

int stackClass::StackIsEmpty(void){
    if (counter == 0)
        return 1;
    else 
        return 0;
    }

int stackClass::GetStackTop(void){

    int item = Top->item ; 
    return item;    
            }   

stackNode *stackClass::GetStackTopPtr(void){
    return Top;         
            } 
```

这就是问题所在，

> stack.cpp：在复制构造函数'stackClass::stackClass(const stackClass&)'中：
> stack.cpp:19:31：错误：无法将'stackClass::GetStackTopPtr'从'stackNode *（stackClass::)（）'类型转换为输入'stackNode*'</p>

我不知道为什么编译器会抱怨，似乎在有问题的行中，在 stack.cpp 的第 19 行中，`right.GetStackTopPrt`将返回一个`stackNode *`类型，该类型应该很好地分配给`stackNode*`左侧。

如果您知道问题所在，请提供帮助。谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T05:58:16.963

您正在尝试设置

```
stackNode * origptr = right.GetStackTopPtr; 
```

其中左侧是`stackNode`指针，右侧是*函数* `GetStackTopPtr`。我想你的意思是写：

```
stackNode * origptr = right.GetStackTopPtr(); // Note the parentheses! 
```

请记住，编译器非常擅长识别类型，并且几乎总是对这些事情正确。不要假设编译器是错误的，先寻找你犯的错误！

# css - 如何使输入宽度与标签宽度相关？

> ID：15715492
> 
> 赞同：-2
> 
> 时间：2013-03-30T05:55:46.983
> 
> 标签：css, css-float

我有一个 540px 宽`label`的`input`并排的`div`。包含`label`一个域名，例如：[http://domain.tld/](http://domain.tld/)并且`input`将在其中输入 URL slug。问题是域名可以根据用户而改变（并将改变），这意味着`label`' 的宽度也会改变，导致`input`宽度太小或宽度太大。在第一种情况下会导致丑陋的设计，在第二种情况下会导致浮动损坏。

有人对我有任何技巧或提示吗？还是我必须要ninja-javascript这个东西？感谢所有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:38:18.663

如果我认为我理解你想要什么让输入始终保持一致？如果是这样，您可以通过将 then 放入列表或使用 div 来执行此操作，但将父元素设置`position`为`relative`，然后作为输入的子元素获取其位置`absolute`并为其指定位置`absolute`并将 设置`top`为 0 和设置`right`为 0

jsFiddle [http://jsfiddle.net/uVSRX/](http://jsfiddle.net/uVSRX/)

**CSS**

```
.example { width: 340px;}

li { position: relative;} 

input {
    position: absolute;
    top: 0;
    right: 0;
    width: 200px;
} 
```

**HTML**

```
<div class="example">
<ul>
    <li><label>Short</label><input type="text"/></li>
    <li><label>Looooooong</label><input type="text"/></li>
</ul> 
```

*PS：您可能因为没有提供任何代码而被否决了:(*

# android - YouTubeStandalonePlayerActivity 一启动就崩溃

> ID：15715494
> 
> 赞同：0
> 
> 时间：2013-03-30T05:56:31.383
> 
> 标签：android, youtube-api

在我的活动中，我尝试启动一个特定的视频：

```
Intent intent = YouTubeStandalonePlayer.createVideoIntent(this, key, videoId);
startActivity(intent); 
```

视频 id 是`LT5YThKAsic`，但是在独立播放器活动出现之后（我可以在那里简单地看到我的视频），我得到了一个 Force Close 和以下堆栈跟踪，我认为这不是很有帮助。

```
FATAL EXCEPTION: main
java.lang.IllegalArgumentException
    at com.google.android.youtube.core.utils.s.a(SourceFile:112)
    at com.google.android.youtube.core.async.GDataRequestFactory.a(SourceFile:395)
    at com.google.android.youtube.api.ab.a(SourceFile:141)
    at com.google.android.youtube.core.async.a.d.a(SourceFile:101)
    at com.google.android.youtube.core.async.a.d.a(SourceFile:73)
    at com.google.android.youtube.core.player.Director.v(SourceFile:530)
    at com.google.android.youtube.core.player.Director.a(SourceFile:398)
    at com.google.android.youtube.core.player.Director.a(SourceFile:412)
    at com.google.android.youtube.core.player.Director.a(SourceFile:425)
    at com.google.android.youtube.api.ApiPlayer.a(SourceFile:195)
    at com.google.android.youtube.api.service.a.d.run(SourceFile:167)
    at android.os.Handler.handleCallback(Handler.java:587)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:132)
    at android.app.ActivityThread.main(ActivityThread.java:4134)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:491)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
    at dalvik.system.NativeStart.main(Native Method)
Force finishing activity com.google.android.youtube/.api.StandalonePlayerActivity 
```

知道为什么会崩溃吗？

# ios - 如何处理弱指针和强指针？

> ID：15715496
> 
> 赞同：0
> 
> 时间：2013-03-30T05:57:07.813
> 
> 标签：ios, objective-c, automatic-ref-counting

在我的应用程序中，我启用了 ARC，并且对它也很陌生。由于对启用 ARC 的代码的缺乏经验处理，我遇到了一些麻烦

我有一个名为`data`type的强属性和一个相同类型 `NSMutableArray`的弱实例变量`_currentData`

我使用`_currentData`在应用程序中加载 tableView。我要显示的主要集合始终是`data`可变的。我将变量指向的 MutableArray 指向`data`变量`_currentData`，下面是我的 ViewDidLoad

```
-(void)ViewDidLoad
{
    data=[[NSMutableArray alloc]init];

    //load the data 

    _currentData=data; 
    [myTableView reloadData];

} 
```

我的数据源方法如下

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
     return [_currentData count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
     id var=[_currentData objectAtInsex:indexPath.row];
     //.....my drawing methods on the cell View 
     return cell;
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    id var=[_currentData objectAtInsex:indexPath.row];
    NSlog(@"var %@",var);
} 
```

上面的代码工作正常，每次我点击单元格时都会打印出 var，直到我计划像下面的代码那样实现搜索栏

```
- (void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText
{

    _currentData =[data filteredArrayUsingPredicate:[NSPredicate predicateWithFormat:[NSString stringWithFormat:@"name contains[c] '%@'",searchText]]];//  Object with attribute name
    [myTableView reloadData];
} 
```

上面的代码可以正常工作，直到在 tableView 中显示过滤后的结果，但是当我点击任何行时，我得到了空打印

我不知道哪里出错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T12:30:53.950

`currentData`当它只是指向时，弱化就可以了`data`。只要在`data`身边，`currentData`就会一直存在，`data`离去时也会如此`currentData`。

您的问题是您分配`currentData`了一个新值：

```
_currentData =[data filterUsingPredicate:myPredicateVariable]; 
```

或者*如果*`filterUsingPredicate:`返回一个值（我认为你的意思是）`filteredArrayUsingPredicate:`，它只会在方法结束之前的范围内。到时候`reloadData`被叫，`currentData`已经被释放了。您要么需要分配`[data filteredArrayUsingPredicate:myPredicateVariable];`给强属性或 ivar，要么声明`currentData`为强。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T13:23:32.633

```
- (void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText  {   
    _currentData =[data filterUsingPredicate:myPredicateVariable];
    [myTableView reloadData];
} 
```

there is fault logic here. You filter array (in-place) as you modify the mutable array. **What you want is to get a NEW filtered array** else this works only once/rarely

so

```
- (void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText  {   
    NSMutableArray *newData = [data filteredArrayUsingPredicate:myPredicateVariable];
    _currentData = newData;
    [myTableView reloadData];
} 
```

THEN **_currentData most be strong** because nobody else is retaining the new array. If it were __weak, it would turn to nil as soon as newData is released

# python - myapp 中未指定服务器参数？

> ID：15715501
> 
> 赞同：0
> 
> 时间：2013-03-30T05:58:04.603
> 
> 标签：python, google-app-engine

我收到消息：myapp 中未指定服务器参数？

服务器参数是干什么用的？你能给我一些使用它的例子吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:37:45.387

我假设你刚刚开始使用 appengine python 快速入门其实还不错，只要按照说明进行操作就可以了

[https://developers.google.com/appengine/docs/python/gettingstartedpython27/helloworld](https://developers.google.com/appengine/docs/python/gettingstartedpython27/helloworld)

# php - 警告：mysqli_query() 期望参数 1 为 mysqli 错误

> ID：15715506
> 
> 赞同：0
> 
> 时间：2013-03-30T05:58:40.803
> 
> 标签：php, mysql, mysqli

```
include_once("php/db_connects.php");

$tbl_status = "CREATE TABLE IF NOT EXISTS status ( 
                id INT(11) NOT NULL AUTO_INCREMENT,
                osid INT(11) NOT NULL,
                account_name VARCHAR(16) NOT NULL,
                author VARCHAR(16) NOT NULL,
                type ENUM('a','b','c') NOT NULL,
                data TEXT NOT NULL,
                postdate DATETIME NOT NULL,
                PRIMARY KEY (id) 
                )"; 
$query = mysqli_query($tbl_status, $db_connects); 
if ($query === TRUE) {
    echo "<h3>status table created </h3>"; 
} else {
    echo "<h3>status table NOT created </h3>"; 
} 
```

我不断收到mysqli错误。我很确定我没有在我的 php 中使用 msql。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:00:51.070

改变这个

```
$query = mysqli_query($tbl_status, $db_connects); 
```

至

```
$query = mysqli_query($db_connects, $tbl_status); 
```

例子**mysqli_query( mysqli $link , string $query )**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:00:34.820

的签名`mysqli_query`是：

```
mixed mysqli_query ( mysqli $link , string $query [, int $resultmode = MYSQLI_STORE_RESULT ] ) 
```

假设`$db_connects`是存储结果的变量`mysqli_connect`，您需要翻转参数以适应：

```
mysqli_query($db_connects, $tbl_status); 
```

[mysqli_query 文档](http://php.net/manual/en/mysqli.query.php)

# r - 考虑到迷你期权合约，将数据拉入 R 的解决方法

> ID：15715509
> 
> 赞同：2
> 
> 时间：2013-03-30T05:59:16.740
> 
> 标签：r, quantmod

我一直在使用 quantmod 中的一个名为`getOptionsChain`. 现在有针对 GOOG、AAPL 等股票的迷你期权合约，它在我的代码中抛出了一个错误。我正在删除符号后的数字，现在迷你合约使用 GOOG7 遍历所有数据。有任何想法吗？

```
library(quantmod)
underlying <- 'GOOG'
# set what your volatility forcast or assumption is
volforcast <- .25
# Get symbols current price
yqf <- "Last Trade (Price Only)"
underlying.price <- getQuote(underlying,what=yahooQF(yqf))$Last

OC <- getOptionChain(underlying, NULL)
#check data
head(OC)
lputs <- lapply(OC, FUN = function(x) x$puts)
head(lputs) #check for NA values, yahoo returns all NA values sometimes
puts <- do.call('rbind', lputs )
#check data
head(puts,150)

symbols <- as.vector(unlist(lapply(lputs, rownames)))
expiries <- unlist(lapply(symbols, function(x) {
  regmatches(x=x, regexpr('[0-9]{6}', x)) } ))
puts$maturity <- as.numeric((as.Date(expiries, "%y%m%d") - Sys.Date())/365)
GetIV <- function(type, value,
              underlying, strike,dividendYield, riskFreeRate, maturity, volatility,
              timeSteps=150, gridPoints=151) {

  AmericanOptionImpliedVolatility(type, value,
                                  underlying, strike,dividendYield, riskFreeRate, maturity,  volatility, timeSteps=150, gridPoints=151)$impliedVol
}
#this is the part that throws the error due to NA values in puts$maturity
puts$IV <- mapply(GetIV, value = puts$Ask, strike = puts$Strike, maturity = puts$maturity,
                  MoreArgs= list(type='put', underlying= underlying.price,
                  dividendYield=0, riskFreeRate = 0.01,  
                  volatility = volforcast), SIMPLIFY=TRUE)
#this is the error Error: Date's serial number (-2147442285) outside allowed range [367-109574],      i.e. [January 1st, 1901-December 31st, 2199] 
```

我想避免添加行 where `puts$maturity`is `NA`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T17:19:48.543

你只想要行`puts$maturity`不是`NA`吗？这将实现该目标：

```
puts <- puts[!is.na(puts$maturity), ] 
```

[正如@VincentZoonekynd](https://stackoverflow.com/users/1129973/vincent-zoonekynd) [建议](https://stackoverflow.com/questions/15715509/a-work-around-for-pulling-data-into-r-considering-mini-options-contracts#comment22326474_15715509)的那样，另一个选择是使用更好的正则表达式。

例如，这会查找以大写字母开头的符号，后跟 6 位数字，后跟“C”或“P”，后跟 8 位数字，仅此而已。它不会拾取代码后有 7 位数字的符号。

```
symbols <- c("GOOG7130420P00695000", "GOOG130426P00720000")
grep("^[A-Z]+\\d{6}[CP]\\d{8}$", symbols, value=TRUE)
#[1] "GOOG130426P00720000" 
```

`^[A-Z]+`: 以 ( `^`) 任何大写字母 ( `[A-Z]`) 开头，一次或多次 ( `+`)
`\\d{6}`: 后跟 6 ( `{6}`) 位数字 ( `\\d`)
`[CP]` : 后跟字母“C”或“P”
`\\d{8}$`: 以 8 ( `{8}`) 位数字 ( `\\d`) 结尾，没有任何内容在他们之后 ( `$`)

* * *

根据评论中的愿望，这是在执行任何其他操作之前删除您不想要的行的一种方法。它只是用你关心的东西重新创建对象。

```
OC <- lapply(OC, function(x) {
  list(calls=x$calls[grep("[A-Z]\\d{6}[CP]\\d{8}$", rownames(x$calls)), ],  
       puts=x$puts[grep("[A-Z]\\d{6}[CP]\\d{8}$", rownames(x$puts)), ],
       symbol=x$symbol)
}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T18:22:26.903

对于删除“GOOG7”或后跟“7”的任何底层证券符号的简洁过滤器，请尝试以下操作：

```
symbols <- grep(paste("^",underlying,"[0-6,8-9]", sep="", collapse = NULL), 
                symbols, value = TRUE) 
```

# django - Django 项目没有 wsgi.py 并且正在运行

> ID：15715511
> 
> 赞同：0
> 
> 时间：2013-03-30T05:59:37.843
> 
> 标签：django, wsgi

我在 github 上找到了一个 django 项目（不知道他们最初使用的是哪个版本，但我使用 1.4 运行它并运行它）..

它的目录以这种方式存在：

```
project/ 
        deploy/ manage.py, settings.py, urls.py
        project/ <apps>, urls.py 
```

虽然没有 wsgi.py.. 并且在 settings.py 中没有`WSGI_APPLICATION`变量。

我的问题是，如果我们可以使用上述设置处理项目，为什么要使用这个 wsgi.py。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:16:15.610

因为`wsgi.py`是一个可选文件，用于将 Django 项目部署为 WSGI 应用程序时使用。

但是你完全可以使用 manage.py 的`runserver`命令运行任何 Django 项目（虽然它不是很好）。

# asp.net-mvc - 属性上的 Ninject 注入属性不起作用

> ID：15715513
> 
> 赞同：3
> 
> 时间：2013-03-30T06:00:20.677
> 
> 标签：asp.net-mvc, dependency-injection, ninject

我在我的自定义角色提供程序中使用属性注入，如下所示：

```
public class MyRoleProvider : RoleProvider
{
    [Inject]
    public IRoleRepository RoleRepository { get; set; }
    ...
} 
```

我的忍者模块：

```
public class MyNinjectModule : NinjectModule
{
    public override void Load()
    {
        Bind<IRoleRepository>().To<RoleRepository>();
    }
} 
```

但是当我尝试使用 MyRoleProvider 中的 RoleRepository 属性时，它始终为空。为什么 ninject 不将 RoleRepository 实例注入到属性中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T17:19:10.477

尝试进行构造函数注入，看看是否有同样的问题。有时属性注入没有及时发生以使用注入的对象。

```
public class MyRoleProvider:RoleProvider
{
    public MyRoleProvider(IRoleRepository repository)
    {
        //set class level var or property to repository
    }
    ...
} 
```

# c# - 如何使用 Vb.net 在组合框中插入记录

> ID：15715519
> 
> 赞同：0
> 
> 时间：2013-03-30T06:01:07.087
> 
> 标签：c#, vb.net

我有包含 ComboBox 的交易表单，其中包含`cityname`来自`citymaster`表的我想从交易表单中的 ComboBox 插入新的城市名称。我不想去`CityMaster`形成。

# c# - 客户端验证在共享主机上不起作用，但在调试时起作用

> ID：15715521
> 
> 赞同：1
> 
> 时间：2013-03-30T06:01:26.313
> 
> 标签：c#, jquery, asp.net-mvc-4, jquery-validate, asp.net-mvc-validation

我在模型类中有以下属性：

```
[MaxLength(9), Required, DisplayName("Social security number")]
[RegularExpression(@"\d{3}-\d\d-\d{4}", ErrorMessage = "Invalid social security number")]
public string SocialSecurityNumber { get; set; } 
```

标记（剃刀）：

```
@Html.TextBoxFor(model => model.SocialSecurityNumber, new { id = "ssn" })
@Html.ValidationMessageFor(model => model.SocialSecurityNumber) 
```

生成的 HTML 代码为：

```
<input data-val="true" data-val-regex="Invalid social security number" data-val-regex-pattern="\d{3}-\d\d-\d{4}" data-val-required="The Social security number field is required." id="ssn" name="SocialSecurityNumber" type="text" value="">
<span class="field-validation-valid" data-valmsg-for="SocialSecurityNumber" data-valmsg-replace="true"></span> 
```

但是，如果我只键入一个数字并单击已发布的共享主机站点上的另一个输入框，则不会出现错误消息。`Invalid social security number`使用 Visual Studio 2012（Chrome 浏览器）进行调试时将显示错误消息。什么可能导致问题？

**更新：** 在我的本地 PC（Visual Studio 调试）上生成的 html 代码是。

```
<input data-val="true" data-val-regex="Invalid social security number" data-val-regex-pattern="\d{3}-\d\d-\d{4}" data-val-required="The Social security number field is required." id="ssn" name="SocialSecurityNumber" type="text" value="" class="input-validation-error">
<span class="field-validation-error" data-valmsg-for="SocialSecurityNumber" data-valmsg-replace="true"><span for="ssn" class="" style="">Invalid social security number</span></span> 
```

似乎我的本地 PC 的 html 代码`class="input-validation-error"`在主机站点上不存在？

# r - 将行/字符串转换为 R 中的单列

> ID：15715524
> 
> 赞同：0
> 
> 时间：2013-03-30T06:01:57.027
> 
> 标签：r, dataframe

如果我有以下对象

```
[1] 0 1 0 0 0 0 0 0 0 
```

如何将其转换为此，以便可以将其放在一列中并与数据框中的其他列对齐：

```
0
1
0
0
0
0
0 
```

我认为`list`可能会起作用......但是这应该在哪个功能上起作用

很抱歉问了一个假设是基本问题......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T10:11:51.530

如果您有`data.frame`发言权，“DF”，如下所示：

```
DF <- data.frame(x=1:9, y=letters[1:9]) 
```

你有一个`vector`z：

```
z <- c(0, 1, 0, 0, 0, 0, 0, 0, 0) 
```

**请注意**，如果要将a添加为新列，则您的行数`data.frame`和长度必须相同。`vector``vector``data.frame`

```
dim(DF) # dimensions of data.frame
# [1] 9 2

length(z) # length of vector
# [1] 9 
```

现在，您可以使用`cbind`如下方式获取新列：

```
cbind(DF, z)
#   x y z
# 1 1 a 0
# 2 2 b 1
# 3 3 c 0
# 4 4 d 0
# 5 5 e 0
# 6 6 f 0
# 7 7 g 0
# 8 8 h 0
# 9 9 i 0 
```

* * *

如果您有一个`vector`长度不等于`data.frame`行的长度，那么，

```
z <- c(0, 1, 0, 0, 0, 0, 0) # length is 7

cbind(DF, z)
# Error in data.frame(..., check.names = FALSE) : 
#   arguments imply differing number of rows: 9, 7 
```

`cbind`'ing 由于长度不等而导致错误。在这种情况下，我可以想出几种方法将其存储为`list`.

首先，您可以保持`data.frame`DF 原样并创建 a `list`，其第一个元素为 the `data.frame`，第二个元素为 a `vector`，如下所示：

```
my_l <- list(d1 = DF, d2 = z)

# $d1
#   x y
# 1 1 a
# 2 2 b
# 3 3 c
# 4 4 d
# 5 5 e
# 6 6 f
# 7 7 g
# 8 8 h
# 9 9 i
# 
# $d2
# [1] 0 1 0 0 0 0 0 
```

或者，您可以将 your 转换`data.frame`为 a `list`（a`data.frame`在内部是 a `list`）并创建 a `list`，其元素`vectors`如下：

```
my_l <- c(as.list(DF), list(z=z))

# $x
# [1] 1 2 3 4 5 6 7 8 9
# 
# $y
# [1] a b c d e f g h i
# Levels: a b c d e f g h i
# 
# $z
# [1] 0 1 0 0 0 0 0 
```

请注意，`as.list`将`data.frame`列强制转换为`list`具有其名称的列名称`data.frame`。然后我们创建一个新的`list`z 然后`concatenate`使用`c`操作符。

希望这能更好地理解你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T12:34:44.157

除了 Aruns 伟大而详细的回答外，还有两点值得注意：

首先，`R`回收较短的物品以匹配较长物品的长度。在将向量添加到 data.frame 的情况下，只有当 data.frame 的行数是向量长度的精确倍数时才会发生这种情况。

```
 zshort <- c(1, 2, 3)

# will be `0` if exact multiple:
length(zshort)  %/% nrow(DF)
# [1] 0

cbind(DF, zshort)
#  cbind(DF, zshort)
#  x y zshort
#  1 a      1
#  2 b      2
#  3 c      3
#  4 d      1   <~~ Recycling
#  5 e      2
#  6 f      3
#  7 g      1   <~~ Recycling
#  8 h      2
#  9 i      3 
```

(2) 您还可以使用“[”向 data.frame 添加新列，如下所示：

```
# name of the column does NOT have to be
#  the same as the name of the vector
DF[, "newName"] <- z

DF[, "shortz"]  <- zshort

# You can also delete existing columns
DF[, "y"]  <- NULL

DF
#   x newName shortz
#   1       1      1
#   2       2      2
#   3       3      3
#   4       1      1
#   5       2      2
#   6       3      3
#   7       1      1
#   8       2      2
#   9       3      3 
```

# ruby - 如何使用 Ruby 中的特定步骤迭代反向范围？

> ID：15715525
> 
> 赞同：14
> 
> 时间：2013-03-30T06:01:58.767
> 
> 标签：ruby, iteration, range

我可以这样迭代

```
(0..10).step(2){|v| puts v} 
```

但是，由于反向范围等于空范围，我不能以这种方式迭代

```
(10..0).step(2){|v| puts v} 
```

它不会为我带来任何收益。当然，我可以像这样向后迭代

```
10.downto(0){|v| puts v} 
```

但是downto方法不允许我设置除默认1之外的其他步骤。这是非常基本的东西，所以我想应该有一个内置的方法来做到这一点，我不知道。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-30T08:32:38.507

你为什么不使用[`Numeric#step`](http://ruby-doc.org/core-2.0/Numeric.html#method-i-step)：

从文档：

> Invokes block with the sequence of numbers starting at num, incremented by step (default 1) on each call. The loop finishes when the value to be passed to the block is greater than limit (if step is positive) or less than limit (if step is negative). If all the arguments are integers, the loop operates using an integer counter. If any of the arguments are floating point numbers, all are converted to floats, and the loop is executed floor(n + n*epsilon)+ 1 times, where n = (limit - num)/step. Otherwise, the loop starts at num, uses either the < or > operator to compare the counter against limit, and increments itself using the + operator.

```
irb(main):001:0> 10.step(0, -2) { |i| puts i }
10
8
6
4
2
0

```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-30T06:04:47.660

`step`通过跳过不需要的值很容易模拟。像这样的东西：

```
10.downto(0).each_with_index do |x, idx|
  next if idx % 3 != 0 # every third element
  puts x
end
# >> 10
# >> 7
# >> 4
# >> 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-23T18:27:42.627

```
10.step(0, -2) do |v| puts "#{v}" end

10
8
6
4
2
0 
```

# asp.net-mvc - 在 MVC 扩展网格中将 PDF 导出为横向模式

> ID：15715526
> 
> 赞同：1
> 
> 时间：2013-03-30T06:02:01.780
> 
> 标签：asp.net-mvc, devexpress, export, page-size

我已经在 MVC 网格扩展中实现了导出功能并且它工作正常。现在我需要以横向模式导出为 PDF 格式。我努力了

`GridViewExtension.WritePdfToResponse(ExportContractorViewSettings(), objreportentity, PdfExportOptions ????);`

方法，但我不知道如何使用 PdfExportOptions 属性将 pdf 导出为横向模式。

我的代码如下所示，

```
GridViewExtension.WritePdfToResponse(ExportContractorViewSettings(), objreportentity, PdfExportOptions ??????); 
```

# c# - 当鼠标悬停在图像上时绘画

> ID：15715529
> 
> 赞同：0
> 
> 时间：2013-03-30T06:02:22.593
> 
> 标签：c#, winforms, user-interface

我正在开发基于 .Net 2.0 的 Window 应用程序。

我已经使用图片框来显示图像。使用具有在该图像上绘制线条的能力。Picturebox sizemode 设置为缩放。现在在图片框中打开的图像显示在图片框的中心，图像周围有空格。

我拥有的代码能够在图片框上绘制。但我想限制在图片框上绘画。用户应该只能在图片框的图像上绘画。

你能在这种情况下指导我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:53:28.487

这段代码只写入图片框中某处的图像。希望这是您的想法。

```
private void pictureBox1_MouseMove(object sender, MouseEventArgs e)
{
    var p = new Pen(Color.Red, 5f);
    var pbox = sender as PictureBox;
    var area = (Bitmap)pbox.Image;
    var g = Graphics.FromImage(area);

    g.DrawEllipse(p, e.X, e.Y, 5, 5);
    pbox.Image = area;

    p.Dispose();
    g.Dispose();
} 
```

# sqlite - servicestack.net ormlite 与 sqlite - 防止创建表上的自动主键

> ID：15715536
> 
> 赞同：3
> 
> 时间：2013-03-30T06:03:22.580
> 
> 标签：sqlite, primary-key, create-table, ormlite-servicestack

如何阻止 ServiceStack.Net OrmLite 自动生成主键列？

我的模型如下：

```
public class Flower2Bee
{
    public int FlowerId { get; set; }
    public int BeeId { get; set; }
} 
```

当我运行 db.CreateTable(true, typeof(Flower2Bee)) 时，它为 FlowerId col 提供了一个具有唯一约束的主键索引。

由于上述模型旨在促进多对多关系，这提出了一个明显的问题。我也注意到这发生在其他不打算有主键的表上。

我的偏好是关闭此行为，因为我很乐意在需要的地方显式定义具有属性的主键。

我正在使用 OrmLite 和 Sqlite，以防万一这很重要。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T09:53:13.770

This is a known limitation of ServiceStack.Net OrmLite:

[https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/README.md#limitations](https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/README.md#limitations)

All tables must have a primary key in order to maintain compatibility with certain peristance technologies. The solution for the above question is to add a third Id property to the model to serve as the primary Id of each relationship row.

# clojure - Clojure：如何忽略可能从表达式中抛出的异常？

> ID：15715546
> 
> 赞同：3
> 
> 时间：2013-03-30T06:06:32.150
> 
> 标签：clojure

我使用`(try (/ 1 0) (catch Exception e))`，但它似乎是多余的。有没有更简单的方法来做到这一点？我使用它的一个例子是我这样做`sql/drop-table`。该调用是否因为表不存在而失败并不重要。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-30T06:14:50.080

写一个这样的宏怎么样：

```
(defmacro swallow-exceptions [& body]
    `(try ~@body (catch Exception e#)))

(swallow-exceptions (/ 1 0)) ; nil 
```

[这篇文章](http://bitumenframework.blogspot.fi/2011/01/non-breaking-error-handling-in-clojure.html)中有更复杂的例子。

# magento-1.7 - 如何通过magento中的布局xml文件在正文部分（不是标题）中添加Javascript文件

> ID：15715549
> 
> 赞同：1
> 
> 时间：2013-03-30T06:07:16.513
> 
> 标签：magento-1.7

我是 Magento 的初学者，我想通过布局 xml 文件在正文部分添加 javascript 文件。

```
<reference name='?????'>
<action method="addJs"><script>js/my_javascript_file.js</script></action>
</reference> 
```

参考名称应该是什么？我尝试了除“head”以外的其他引用，但它会产生错误..

我用谷歌搜索了很多，但没有得到任何解决方案。是否可以通过布局 xml 文件将 javascript 文件添加到正文部分？我不想将 Javascript 文件添加到 html 头部。
这时候我将Javascript文件直接添加到.phtml文件中......

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T19:21:50.190

在 Magento xml 中，action method="method_name" 指的是引用的块代码中的方法。其他块对象可能没有定义“addJs”方法。

“method_name”指的是对应于块核心代码的代码。例如，在 app\code\core\Mage\Page\Block\Html\head.php 中：

```
public function addJs($name, $params = "")
{
    $this->addItem('js', $name, $params);
    return $this;
} 
```

因此，要将外部 js 添加到任何其他块，您必须编辑底层代码（如果您尝试，将文件移动到 app\code\local...）并添加几种方法以使其正常工作。

正如他们所说，给猫剥皮的方法不止一种（不是你想要的......）。更容易做的是使用代码制作一个 .phtml 模板文件来创建外部链接。

例如，如果我要使用以下内容制作 ext_js.phtml：

```
<?php $_jsExtNames = array('extra1.js' , 'extra2.js'); ?>

<?php foreach($_jsExtNames as $_jsExtName): ?>
    <script src="<?php echo $this->getSkinUrl('js/'.$_jsExtName) ?>"></script>

<?php endforeach; ?> 
```

其中 $_jsExtNames 数组是主题 skin/js 文件夹中的外部 js 脚本列表。

The matter of adding it to your XML can change depending on where you are adding it. For default areas, something like this would work if I placed my .phtml file in page/html folder:

```
<default>
    <reference name="footer">
        <block type="core/template" name="extra_js" template="page/html/ext_js.phtml" />
    </reference>
</default> 
```

That works just fine on its own. If you place it within another block, you will need to call it within that block's template file.

To illustrate that example, if I wanted to place my external js within the category view page, I would add it to category.xml like so:

```
<catalog_category_layered translate="label">
    <label>Catalog Category (Anchor)</label>
        <reference name="left">
            <block type="catalog/layer_view" name="catalog.leftnav" after="currency" template="catalog/layer/view.phtml"/>
        </reference>
        <reference name="content">
            <block type="catalog/category_view" name="category.products" template="catalog/category/view.phtml">
                <!-- Added Line Below -->
                <block type="core/template" name="extra_js" template="page/html/ext_js.phtml" /> 
```

Now we'll have to call the block by its name by adding this line where we would like it to go in the file catalog/category/view.phtml:

```
<?php echo $this->getChildHtml('extra_js'); ?> 
```

That should work, I was testing it all out on my install while I was typing.

# regex - 记事本++。如何用你替换“u”，用我替换“i”等

> ID：15715550
> 
> 赞同：0
> 
> 时间：2013-03-30T06:07:19.933
> 
> 标签：regex, notepad++

我必须在文档中用你替换“u”，用 I 替换“i”等。notepad++ 中的简单查找和替换导致即使在“much”之类的单词中也用“myouch”更改“u”。请帮忙。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T06:12:23.263

使用正则表达式搜索和替换：

```
\bu\b 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:11:40.017

正在搜索：`(\s*)u(\s*)`

在替换：`\1you\2`

并检查底部的正则表达式。

编辑了第一个和最后一个位置。对于大写，如果要替换为“You”，最简单的方法是进行两次替换。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T06:11:46.713

选择匹配案例选项也...看到这个...它工作正常

![在此处输入图像描述](../Images/66823496c8107a1a56d91c8722558204.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T06:15:40.167

要仅更改单个字母的单词，您必须在要搜索的单个字符和要将该字母更改为的单词之前和之后都包含一个“空格”。

例子：

在 Find What 字段中，键入 Space u Space 或引号之间的 3 个字符：

“你”

在替换为字段中，键入 Space you Space 或引号之间的 5 个字符：

“ 你 ”

# java - AutoCompleteText 问题在列表中获取重复值？

> ID：15715552
> 
> 赞同：5
> 
> 时间：2013-03-30T06:07:50.063
> 
> 标签：java, android, autocompletetextview

![在此处输入图像描述](../Images/92d79b8be043aabbfb7dd7020222dbab.png)

请帮我解决这个问题：

当我在自动完成文本视图中搜索时，我想显示国家和代码，它工作正常，但我得到的是两次值而不是单个值。

**MainActivity.java：**

```
public class MainActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    String[] countries = new String[] {
                "Allentown",
            "Albuquerque","Aberdeen","Acapulco","Waco","Atlantic City",
            "Marka-Amman","Pittsburgh","Augusta","Auckland","Albany",
            "Amarillo","Amman","Amsterdam","Anchorage","Antwerp",
            "Naples","Aqaba","Stockholm","Aspen","Asuncion"......};

    String[] codes=new String[]{
        "ABE","ABQ","AMS","ANC","ANR","APF","AQJ","ARN","ASE","ASU","ATH",
    .............}; 
    List<HashMap<String,String>> list = new ArrayList<HashMap<String,String>>();
    for(int i=0;i<countries.length;i++){
        HashMap<String, String> curGroupMap = new HashMap<String,String>();
        curGroupMap.put("country", countries[i]);
        curGroupMap.put("code", codes[i]);
        list.add(curGroupMap);
    }
    final AutoCompleteTextView textView = (AutoCompleteTextView) findViewById(R.id.autocomplete_country);
    SimpleAdapter adapter = 
            new SimpleAdapter(getBaseContext(), list, R.layout.twolist, new String[] {"code","country"}, new int[] { R.id.textView1,R.id.textView2});
    textView.setAdapter(adapter);
    textView.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> p, View v, int pos, long id) {
            Map<String, String> map = (Map<String, String>) p.getItemAtPosition(pos);
            String itemName = map.get("code");
            textView.setText(itemName);
        }
    });
 }

} 
```

### 我用于获取列表视图的 xml 是**twolist.xml：**

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
      android:layout_width="fill_parent"
      android:layout_height="fill_parent"
      android:orientation="horizontal" >

    <TextView
     android:id="@+id/textView1"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:text="TextView" />
   <TextView
      android:id="@+id/a"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="-" />

  <TextView
    android:id="@+id/textView2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="5dp"
    android:text="TextView" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:11:58.543

```
 new SimpleAdapter(getBaseContext(), 
                   list, R.layout.twolist,
                   new String[] {"code","country"},
                   new int[] { R.id.textView1,R.id.textView2}); 
```

你在这里使用：

```
R.id.textView1,R.id.textView2 
```

所以它会在两个`Textview`s中显示它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:17:01.617

您在实现中使用此代码来删除列表中的重复项

```
List<HashMap<String,String>> list = new ArrayList<HashMap<String,String>>();
for(int i=0;i<countries.length;i++){
    HashMap<String, String> curGroupMap = new HashMap<String,String>();
    curGroupMap.put("country", countries[i]);
    curGroupMap.put("code", codes[i]);
    list.add(curGroupMap);
}

// adde elements to list, including duplicates
HashSet hs = new HashSet();
hs.addAll(list);
list.clear();
list.addAll(hs); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-20T13:43:42.617

我遇到了同样的问题，但这个问题的简单答案是您通过 AutoCompleteTextView 中的适配器填充的列表包含重复项。因为自动完成将始终只填充唯一的数据。

# php - 如何使用jQuery和PHP在自动完成搜索中获得国家下的城市

> ID：15715553
> 
> 赞同：0
> 
> 时间：2013-03-30T06:07:54.180
> 
> 标签：php, jquery

这是 html 我的代码

```
<input type="text" name="country" id="country"/>
<input type="text" name="city" id="city"/> 
```

这是我的jQuery代码

```
$(document).ready(function() {

$('#country').keydown(function(){
    $(this).autocomplete({
        source: "get_country.php",
        minLength: 0,
        autoFocus: true,
        select: function(event, ui)
        {

        }
    });
});

var country = $("#country").val(); 

$('#city').keydown(function(){
    $(this).autocomplete({
        source: "get_city.php",
        //type:"GET",
        data : 'country='+country,
        minLength: 0,
        autoFocus: true,
        select: function(event, ui)
        {

        }
    });
});

}); 
```

这是我的代码 get_city.php

```
include_once('config.php');

if ( !isset($_REQUEST['term']) )
exit;

$country = $_POST['country'];

$rs = mysql_query('select city from xyz_table where country="$country" and city like "'. mysql_real_escape_string($_REQUEST['term']) .'%" order by city asc limit 0,10');

$data = array();
if ( $rs && mysql_num_rows($rs) )
{
while( $row = mysql_fetch_array($rs, MYSQL_ASSOC) )
{
    $data[] = array(
        'value' => $row['city']
    );
}
}

echo json_encode($data);
flush(); 
```

这里显示了以下问题**注意**：未定义的索引：第**6**行**G:\xampp\htdocs\xyz\get_city.php中的国家**

 **我在自动完整搜索中获得了国家/地区，例如德国，英国

我想在国家（例如德国/英国）下获得自动完整搜索城市

我该如何解决它，请任何建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:13:41.550

改变这个

```
$rs = mysql_query('select city from xyz_table where country="$country" and city like "'. mysql_real_escape_string($_REQUEST['term']) .'%" order by city asc limit 0,10'); 
```

至

```
$rs = mysql_query("select city from xyz_table where country='$country' and city like '". mysql_real_escape_string($_REQUEST['term']) ."%' order by city asc limit 0,10"); 
```

查看您的查询`$country`中的差异设置为字符串而不是实际的`country`.

用这个

```
$_REQUEST['country'] 
```

使用这个发送数据

```
data : { country : country }, 
```

声明`country`内部调用

```
$('#city').keydown(function(){
    var country = $("#country").val();
    $(this).autocomplete({
        source: "get_city.php",
        ............ 
```**

# php - Better way than multiple echo statements for printing a table?

> ID：15715555
> 
> 赞同：3
> 
> 时间：2013-03-30T06:08:08.567
> 
> 标签：php, html, performance

Is there any better way to do this code and dont ask why it's in echo's my brother did it that way not sure why but its slow i do want the echo

```
echo "<table id=\"vote\">";
echo "<th colspan=\"11\">Vote now!</th>";
echo "<tr>";
echo "<td><form action=\"vote.php?id=$id&value=\"0\"\" method=\"post\"><input name=\"value\" value=\"0%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"10\"\" method=\"post\"><input name=\"value\" value=\"10%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"20\"\" method=\"post\"><input name=\"value\" value=\"20%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"30\"\" method=\"post\"><input name=\"value\" value=\"30%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"40\"\" method=\"post\"><input name=\"value\" value=\"40%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"50\"\" method=\"post\"><input name=\"value\" value=\"50%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"60\"\" method=\"post\"><input name=\"value\" value=\"60%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"70\"\" method=\"post\"><input name=\"value\" value=\"70%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"80\"\" method=\"post\"><input name=\"value\" value=\"80%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"90\"\" method=\"post\"><input name=\"value\" value=\"90%\" type=\"submit\"/></form></td>";
echo "<td><form action=\"vote.php?id=$id&value=\"100\"\" method=\"post\"><input name=\"value\" value=\"100%\" type=\"submit\"/></form></td>";
echo "</tr>";
echo "</table>"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:13:17.413

**Try a loop** (I took the liberty of changing one of the `echo` to use single quotes (`'`) instead of double quotes (`"`) to get rid of all the escaping (`\`). I also replaced all your `echo` with a single variable (which sound be marginally faster).

```
$myForms = "";
$myForms .= "<table id=\"vote\">";
$myForms .= "<th colspan=\"11\">Vote now!</th>";
$myForms .= "<tr>";
for ($i = 0; $i < 110; $i += 10) {
    $myForms .= '<td><form action="vote.php?id=' . $id . '&value=' . $i . '" method="post">
                         <input name="value" value="' . $i . '%" type="submit"/>
                     </form>
                 </td>';
}
$myForms .= "</tr>";
$myForms .= "</table>";

echo $myForms; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:19:39.080

I'd suggest you seperate HTML and PHP code to make it easier to manage and using for loop to DRY your code:

```
<table id="vote">
<th colspan="11">Vote now!</th>";
<tr>
<?php
    for($i=0; $i <= 100; $i+=10) {
        <td><form action="vote.php?id=' . $id . '&value=' . $i . '" method="post"> <input name="value" value="' . $i . '%" type="submit"/> </form> </td>;
    }
?>
<tr>
</table> 
```

# apache - 在此服务器上找不到请求的 URL /frontend/ru/site/login/

> ID：15715556
> 
> 赞同：0
> 
> 时间：2013-03-30T06:08:11.990
> 
> 标签：apache, yii, apache2

我有一个问题，我的项目在 Windows 上运行得很好（在 apache 服务器上），然后我将我的项目移动到 ubuntu 12.04（apache2 服务器），但我的项目不工作。

阿帕奇2

php 5.3.10

mysql 5.5.29-ubuntu0.12.04.2

> 关于萤火虫：

```
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>404 Not Found</title>
</head><body>
<h1>Not Found</h1>
<p>The requested URL /frontend/ru/site/login/ was not found on this server.</p>
<hr>
<address>Apache/2.2.22 (Ubuntu) Server at test.local Port 80</address>
</body></html> 
```

但我有网址`/frontend/ru/site/login/`。

**主.php：**

```
// uncomment the following to define a path alias
Yii::setPathOfAlias('site',dirname(__FILE__).DIRECTORY_SEPARATOR.'..'.DIRECTORY_SEPARATOR.'..');

// This is the main Web application configuration. Any writable
// CWebApplication properties can be configured here.
return array(
    'basePath'=>dirname(__FILE__).DIRECTORY_SEPARATOR.'..',
    'name'=>'Biotrack Backend',
    'language' => 'ru',
    'defaultController'=>'company/list',

    // preloading 'log' component
    'preload'=>array('log', 'ELangHandler'),

    // autoloading model and component classes
    'import'=>array(
        'site.common.models.*',
        'site.common.components.*',
        'application.models.*',
        'application.components.*',
        'application.components.helper.*',
        'application.modules.rights.*',
        'application.modules.rights.components.*',
    ),

    'modules'=>array(

        'gii'=>array(
            'class'=>'system.gii.GiiModule',
            'password'=>'795138462',
            // If removed, Gii defaults to localhost only. Edit carefully to taste.
            'ipFilters'=>array('127.0.0.1','::1'),
            'generatorPaths'=>array(
                'site.common.gii',   // псевдоним пути
                //'application.gii',
            ),
        ),

        'webshell'=>array(
            'class'=>'ext.webshell.WebShellModule',
            // when typing 'exit', user will be redirected to this URL
            'exitUrl' => '/', 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T08:48:41.250

您没有提供足够的信息，所以我们不得不猜测，但我相当确定问题出在 apache rewrite 模块中。首先，确保您的 .htaccess 文件包含以下内容：

```
RewriteEngine on

# if a directory or a file exists, use it directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# otherwise forward it to index.php
RewriteRule . index.php 
```

接下来，确保启用了重写模块：

```
a2enmod rewrite 
```

最后，确保将 apache 配置为允许 .htaccess 覆盖：

```
AllowOverride All 
```

有关 AllowOverride 指令的更多信息，请参见此处： [http ://httpd.apache.org/docs/2.2/mod/core.html#allowoverride](http://httpd.apache.org/docs/2.2/mod/core.html#allowoverride)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-03T10:52:19.103

只是在黑暗中拍摄，但正如你提到的：

> 我的项目在 Windows 上运行得很好（在 apache 服务器上），然后我将我的项目移动到 ubuntu 12.04（apache2 服务器）

请检查您的重写规则、路径等的大写和小写首字母的使用，当您在 Linux 上时，它们必须完全匹配，因为 Linux 通常使用区分大小写的文件系统，而许多 Windows 和 Mac 安装不吨。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T20:00:49.357

如果您认为您已经认真检查了 Web 服务器的配置，并且没有发现可疑之处，那么请尝试重新加载并重新启动或重新启动**Apache HTTP 服务器**：

```
sudo service apache2 reload

sudo service apache2 restart 
```

不要忘记，即使是某些软件应用程序也需要重新启动计算机才能安装新升级。

# sublimetext2 - Python equivalent to Bash: `latexmk file.tex && latexmk -c file.tex`

> ID：15715557
> 
> 赞同：1
> 
> 时间：2013-03-30T06:08:13.157
> 
> 标签：sublimetext2, sublimetext

The issue of converting `&&` in Bash to Python has been resolved with the assistance of Xymostech, whose help is greatly appreciated -- thank you!

The command line at issue (from the Bash terminal) is: `latexmk file.tex && latexmk -c file.tex`.

Here is the plugin if anyone is interested:

[https://github.com/lawlist/ST2-plugin-latexmk-save-build-clean](https://github.com/lawlist/ST2-plugin-latexmk-save-build-clean)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T06:14:00.067

The `&&` is a feature that is supported by bash. You can do the same thing in python though, using `subprocess`'s `check_call`:

```
import subprocess

try:
    subprocess.check_call(["latexmk", "file.tex"])
except subprocess.CalledProcessError:
    print "Failed making"
else:
    subprocess.call(["latexmk", "-c", "file.tex"]) 
```

# javascript - iimPlay 未定义

> ID：15715566
> 
> 赞同：1
> 
> 时间：2013-03-30T06:09:26.343
> 
> 标签：javascript, imacros

谁能帮我解决以下错误

“未定义 iimPlay”

当我运行以下脚本时发生上述错误

`iimPlay('c:\Users\COMPAQ\Downloads\Amym.iim');`

我不知道`imacros`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T21:42:42.623

为什么不简单地将脚本粘贴到里面的`Macros`文件夹中`My Documents\iMacros\`并使用它。

```
iimPlay('Amym.iim') 
```

# java - 固定面板的java swing，如AJAX AlwaysVisibleControl面板

> ID：15715567
> 
> 赞同：0
> 
> 时间：2013-03-30T06:09:27.117
> 
> 标签：java, swing

如何在另一个面板上创建固定面板，例如在具有缩放功能的 Google Map Zoom Panel 中。

非常感谢任何指导。

# html - 并排显示两个 div

> ID：15715570
> 
> 赞同：1
> 
> 时间：2013-03-30T06:10:16.807
> 
> 标签：html, css

考虑一下这个小提琴：http: [//jsfiddle.net/nashabhu/WbJvP/](http://jsfiddle.net/nashabhu/WbJvP/)。我想将以下`div`s 并排显示。

```
<!--Sidebar--->
    <div class="schoolnav" style="margin-left: 20px; margin-top: 12px;">
        <ul>
            <li>General Information</li>
            <li>Features</li>
            <li>School Images</li>
            <li>Contact Information</li>
        </ul>
    </div>
   <!-- End Sidebar -->
    <!-- Container -->
    <div id="container">
      </div> 
```

我现在有它，如下图所示：

![在此处输入图像描述](../Images/1399674346b0252506271db8b26ce1c9.png)

我想`General Information`在同一行显示`Add School`. 我怎样才能做到这一点？

**编辑 ：**

我只想在与一般信息文本相同的行中添加新校区。我怎样才能做到这一点？Daniel Imms 的回答有效，但它需要`schoolnav`. `container`所以侧边栏出现在本体而不是左侧。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:21:28.973

这是一种方法，我们将`.schoolnav`取出页面的流使用`position:absolute;`，然后给出`#main`一个`margin-left`等于`width`的`.schoolnav`。

[jsFiddle](http://jsfiddle.net/WxLVN/)

![在此处输入图像描述](../Images/5b7aa9fa55fa012a408b6c8988897350.png)

**CSS**

```
#shell {
    position:relative;
}
.schoolnav {
    position:absolute;
    width:200px;
}    
#main {
    width:788px;
    margin-left:200px;
} 
```

**HTML**

我搬进`.schoolnav`了`#shell`

```
<div id="container">
    <div class="shell">
        <!--Sidebar--->
        <div class="schoolnav" style="margin-left: 20px; margin-top: 12px;">
        ... 
```

### 替代方法

做这种事情的另一种常用方法是`float:left;`在这两个项目上使用并将它们的宽度设置为百分比，这样它们就会在页面上显示。但是，这种方法的问题是您需要`div`在末尾添加一个额外的内容来清除浮动（或伪元素 clearfix）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:16:51.557

我在你的 jsfiddle 的 css 中尝试了这个，发现它按你期望的那样工作：

```
.schoolnav{float:left; margin-right:20px;}
#container { padding:0; overflow:hidden;} 
```

看看是否适合你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T06:21:34.020

应用于`float:left`两个`div`标签并设置`width`每个标签，因此总数为`100%`

例如

```
.schoolnav {
  float:left;
  width:20%;
}

#container {
  float:left;
  width:80%;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T06:22:14.723

选择以下之一...

使用浮点数：

```
.container {
    overflow: hidden;
}
.container div {
    float: left;
} 
```

使用内联块：

```
.container div {
    display: inline-block;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-30T06:24:05.520

尝试这个：

```
.schoolNav{
    float:left;
    display: inline-block;
}

#container{
     margin-left:150px;  /* increase this value if you want to */
     /* remove padding: 20px 0  */
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-30T06:24:09.297

请试试这个：

添加以下CSS

```
.schoolnav { float:left }
#container {
     margin-left:165px;
     padding:0px !important;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-30T06:42:40.013

这将解决您的问题：

1-将这些行添加到您的 CSS 中：

```
.schoolnav {display: inline-block;}
#container { padding:20px 0;display: inline-block;} 
```

2- 在您的 HTML 中，重命名或删除具有 class的**第二个** 。它占用了所有可用的宽度，并且不适合 .schoolnav DIV 的一行。CSS 为它定义了一个 988px 的宽度，它是第一次用于 HEADER 部分，因为这里使用另一个具有适当宽度的类。这个：`div``shell`

```
.
.
.
<div id="container">
 <div class="shell"> <!-- rename the class and use another width for it in your CSS -->
.
.
. 
```

你的问题应该得到解决。

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2013-03-30T06:24:46.127

尝试 ：

```
<div></div> &nbsp; <div></div> 
```

# php - PHP OOP ~ 多个类需要同一个类

> ID：15715573
> 
> 赞同：0
> 
> 时间：2013-03-30T06:10:28.160
> 
> 标签：php, database, oop, class, object

我目前有多个类都依赖于一个类，即数据库类。每个类都需要一个 Database 类的实例才能运行，对此我有点担心。

在将所有程序代码转换为面向对象的代码之前，我需要弄清楚这一点。我目前有一个用于整个程序的数据库连接。但是，据我了解，当我将代码转换为 OOP 时，我将在同一个程序中拥有多个具有开放数据库连接的类。（所有这些类都将包含在主程序文件中）。

我该如何正确实施？我假设在同一个程序中有 5 个打开的数据库连接肯定不是正确的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:36:53.607

如果您有依赖于数据库抽象的类，那么**依赖注入**就是要走的路。

```
class PDOProvider extends PDO
{
    public function __construct()
    {
        try { 

          parent::__construct(...); 
          $this->setAttribute(....);

        } catch(PDOException $e){
            die($e->getMessage());
        }
    }
    // ...
}

class Users
{
    private $provider; 

    public function __construct(PDOProvider $provider) // <- Injecting class dependency
    {
       $this->provider = $provider;
    }

    public function insert(array $stuff)
    {
       try {

        $this->provider->prepare("INSERT ...");
        $this->provider->execute(array(..));

       } catch(PDOException $e){
          //...
       }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:19:17.733

您可以通过将数据库连接作为参数提供给构造函数来在几个不同的对象之间共享数据库连接，或者您可以创建一个单例来为其他类提供数据库连接。

**将数据库连接传递给构造函数**

```
class Foo {

    private $database = null;

    public function __construct(&$database) {
        $this->database = $database;
    }
}
$connection = mysql_connect(..);
$bar = new Foo($connection); 
```

**辛格尔顿**

```
class DatabaseConnection {

    private static $instance = null;

    private function __construct() {
    }

    public static function &getInstance() {
        if (DatabaseConnection::$instance == null) {
            DatabaseConnection::$instance = new DatabaseConnection();
        }
        return DatabaseConnection::$instance;
    }
}

$mysql_query("...", DatabaseConnection::getInstance()); 
```

& 表示通过引用传递，因此即使数据库对象在多个不同的文件、类或函数中使用，也只有一个实例。有关详细信息，请参阅[http://php.net/manual/en/language.references.pass.php](http://php.net/manual/en/language.references.pass.php)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T06:29:35.003

Jakobs 关于使用 Singleton + 聚合的建议是合理的建议。为此，我将添加 Doctrine ORM/DBAL，[http ://docs.doctrine-project.org/projects/doctrine-orm/en/latest/tutorials/getting-started.html](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/tutorials/getting-started.html)

通过在“Foo”类中使用它们来避免将单例实例直接耦合到您的对象，而是将单例实例传递给构造函数。这样你就有更多的脱钩，从而有更多的自由。

# css - 我可以用 SASS \ Compass 计算和使用元素高度吗

> ID：15715574
> 
> 赞同：11
> 
> 时间：2013-03-30T06:10:39.040
> 
> 标签：css, sass, compass-sass

我在我的 RoR 项目中使用 sass 和 compass。我需要为`top`元素的 CSS 属性分配值，即元素高度除以 -2。我可以用 SASS \ Compass 做吗？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-30T10:20:42.423

您似乎遇到了[XY 问题](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem)。您有一项任务要解决，而不是向我们询问该任务，而是询问您尝试过但已经发现不合适的解决方案。

为什么要应用`top`等于元素高度一半的属性并取反？因为您想**将绝对定位的元素向上移动一半高度**。这是最初的任务。

有一个简单的解决方案可以实现这一点，甚至不需要 SASS！（实际上，只要不知道元素的高度，SASS 就无法提供比 CSS 更多的帮助。）

我们需要一个额外的包装器：

```
<div class=container>
  <div class=elements-wrapper>
    <div class=element>
    </div>
  </div>
</div> 
```

要将元素向上推至其高度的 50%，请执行两个简单的步骤：

1) 将其包装纸完全推出容器：

```
.elements-wrapper {
  position: absolute;
  bottom: 100%; } 
```

2) 现在将元素向下拉到其高度的 50%：

```
.element {
  margin-bottom: -50%; } 
```

就是这样！

当你这样做时`margin-bottom: -50%`，你实际上将元素拉低了其*包装*高度的 50%。但是包装器的高度等于元素的高度！

不要忘记应用`position: relative`到容器上，否则`position: absolute`会相对于窗口，而不是容器。

这是一个带有良好注释代码的**演示：http:** [//jsbin.com/uwunal/4/edit](http://jsbin.com/uwunal/4/edit)

## 更新 2013-04-16

我刚刚意识到这是一个骗局。

在 CSS 中，上边距和下边距的百分比是指容器的**宽度**。所以上面的例子只适用于容器是方形的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-12-06T15:41:47.427

我找到了这样做的好方法。它正在使用`transform: translate(-50%, -50%)`

这里有一个详细说明解决方案的链接：[居中元素](http://css-tricks.com/centering-percentage-widthheight-elements/)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-30T06:44:52.087

试试这个：

```
@mixin flexible-top($elementHeight) {
    top: ($elementHeight / (-2));
}

.yourElement {
    @include flexible-top(yourElementHeight); 
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-30T10:03:23.660

不使用绝对位置的替代解决方案：
在我的情况下，我不能使用绝对位置，因为它会弄乱使用 display flex 的子元素。我能够做的是让我的包装器在我想要垂直居中的空间中具有 100% 的高度。注意：我的子元素已经水平居中。

前提条件：
为了使此解决方案起作用，包装器在您要垂直居中的空间中必须具有 100% 的高度。例如，我希望它相对于窗口高度垂直居中，因此包装器必须与窗口高度相同。

结构：

```
<div class="elements-wrapper">
  <div class="element"> <!-- in my case, this is a container -->
    <!-- in my case, x numbers of display flex elements here-->
  </div>
</div> 
```

包装器高度为 100%，向下平移 50%。

```
.elements-wrapper {
  height: 100%;
  transform: translate(0, 50%);
} 
```

然后，将元素向上平移 50%。

```
.element {
  transform: translate(0, -50%);
} 
```

有了这个，元素可以是任意大小，你不必每次都弄乱 CSS，比如在我的例子中，通过添加子元素来改变大小。

*有一个问题，我的元素包装器阻止了向下移动的 50% 中的指针事件，所以我通过添加这些规则来解决这个问题：

```
.elements-wrapper {
  pointer-events: none;
}
.element{
  pointer-events: initial;
} 
```

# data-structures - Ordered string container with constant insertion time?

> ID：15715575
> 
> 赞同：1
> 
> 时间：2013-03-30T06:10:42.913
> 
> 标签：data-structures, stl

What I need is an *ordered*, associative container with string keys, valued by a vector of numbers. Further, I need `O(1)` insertion time.

My description sounds abstract, I shall give you a scenario:

There is an online test. When a person takes this test his name is added into a database. People may take the test repeatedly if they like. All their scores will be recorded under their name (which is unique). For example, David, Tom, Alice come and take the exam a few times. The program should be able to print out the output in following format:

```
Alice 65 70 84
David 98 97 93
Tom   100 45 
... 
```

正如你所看到的，他们的名字应该按字典顺序打印出来。每当有人参加考试时，他的分数就会被添加到数据库中。由于很多人会来参加考试，这一定是`O(1)`时间复杂度。但是打印出数据库也经常发生；每秒说一次。因此，不必在每个显示器上显式排序将是有利的。

我可以在这里使用什么数据结构？（首选 STL。）我目前正在使用，`unordered_map`因为它给了我`O(1)`插入，但它不能按字典顺序迭代键。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T06:22:27.617

`O(1)`可以插入并给出有序迭代的容器`O(n)`可用于在线性时间内对字符串进行排序。

我们可以立即得出结论，这个容器不能单独使用比较器，因为基于比较器的排序的下限为`O(n log n)`.

只有少数排序算法可以按线性时间排序，它们通常需要了解您的关键空间才能工作。这种算法的增量“在线”版本可能对您有用，然后它使用的增量构建的内部数据将成为您的容器。

[这](https://stackoverflow.com/q/749585/580412)是对线性时间排序算法的讨论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:17:18.073

考虑到在这种情况下真正的*O(1)*操作是一个非常复杂的问题，并且您更喜欢使用 STL，我建议使用以下数据结构。并不是说这不能满足您的 Big-Oh 要求，即使使用 STL，这也不是实现它的最有效方式，但它简单而高效。

您的主要数据结构是`std::map`. 但是为了加速查找到 O(1)，你可以使用`std::unordered_map`这样的：

```
using std::map, std::string, std::vector, std::unordered_map;

typedef map<string, vector<int> > TestTakersMap;
typedef unordered_map<string, TestTakersMap::iterator> LookupAccelerator; 
```

现在您的各种操作将是：

*   **添加一个新人**：您插入到地图中，但您也在地图中添加名称和迭代器，您将新记录插入到 unordered_map 中。**O(log(N))**。
*   **查找一个人**：使用 unordered_map，您可以获得该人的迭代器和数据。*预期* **O(1)**。
*   **添加新分数**：您使用 unordered_map 找到该人，然后使用您获得的迭代器附加新分数。*摊销* **O(1)**。
*   **打印出所有名称和分数**：您迭代地图本身并按字典顺序获取名称，无需添加排序步骤。可以认为是**O(S)**，其中**S**是所有参与者的得分总数。

请注意，在所有这一切中，您的瓶颈将是您的缓存，所有这些在内存中追逐和跳跃的指针对您*毫无*帮助。当然，这取决于其他几个因素，例如，您实际获得了多少名字，每个人有多少分数，添加新人的频率，添加新分数的频率，打印所有姓名和分数，每个人和每个测试您拥有和需要多少数据等。

**更新**：您可以执行如下基本操作。包含等如下所示：

```
#include <map>
#include <string>
#include <unordered_map>
#include <vector>

using std::map;
using std::string;
using std::unordered_map;
using std::vector; 
```

这是一个非常简单的类来做一些你想要的操作。请注意，我使用的是 C++11 功能（`auto`, `emplace`, ...），但不要将此代码视为特别好的编程风格；我不能保证这一点。

```
class TestScores
{
private:
    typedef int ScoreType;
    typedef vector<ScoreType> ScoreList;
    typedef map<string, ScoreList> TestTakersMap;
    typedef unordered_map<string, TestTakersMap::iterator> LookupAccelerator;

public:
    bool hasName (string const & new_name) const
    {
        return m_lookup.end() != m_lookup.find (new_name);
    }

    // Returns true if the name is really new
    bool addName (string const & new_name)
    {
        if (hasName(new_name))
            return false; // name already in there

        auto i = m_takers.emplace (new_name, vector<int>()).first;
        m_lookup.emplace (new_name, i);

        return true;
    }

    ScoreList const & getScores (string const & name) const
    {
        // This redirects to the private, non-const version
        return const_cast<TestScores *>(this)->getScores(name);
    }

    void addScore (string const & name, ScoreType new_score)
    {
        getScores(name).push_back (new_score);
    }

private:
    // If the name doesn't already exist, it is added!
    ScoreList & getScores (string const & name)
    {
        if (!hasName(name))
            addName (name);

        return m_lookup[name]->second;
    }

private:
    TestTakersMap m_takers;
    LookupAccelerator m_lookup;
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T08:53:06.053

If you are really serious about the size of your data-set being very large, and that you absolutely need efficient insertion, lookup and lexicographical iteration, you can check out [Judy Arrays](http://en.wikipedia.org/wiki/Judy_array "Judy arrays entry on English Wikipedia"). Judy arrays are fast, memory-efficient and *trie*-like associative data structures.

You can check out these two implementations:

*   A larger [implementation from HP](http://judy.sourceforge.net/ "A "); seems to be under the LGPL.
*   A smaller [implementation on Google Code](http://code.google.com/p/judyarray/ "A compact implementation"); under the new BSD license.

# html - Change the design of a window/div scroll bar

> ID：15715576
> 
> 赞同：0
> 
> 时间：2013-03-30T06:10:56.303
> 
> 标签：html, css, scrollbar

I have a div where it has an overflow attribute, everything is fine, but I want the scrollbar to look like this. not the default one, is there anyway I can implement this?

![在此处输入图像描述](../Images/165d85eece134596ba8860c27a9ded5e.png)

or do I have to use a css framework?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T06:12:37.513

You can apply the same scrollbar from here. Just follow the instructions.

[http://rocha.la/jQuery-slimScroll](http://rocha.la/jQuery-slimScroll)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:18:30.253

Since there are no cross browser scrollbar styling availiable in css you need to use jquery libraries to do that for you.

use this library [https://code.google.com/p/jscrollpane/](https://code.google.com/p/jscrollpane/)

simply download this and attach to your project and to the div you want to style the scrollbar simply code it as this

```
<div class="styleme"></div> 
```

and in your jquery

```
$(document).ready(function(){

    $('.styleme').jScrollPane();

}); 
```

Thats all You need to do. Hope it helps.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T09:09:02.237

you can use jquery tinyscrollbar plugin

[http://baijs.nl/tinyscrollbar/](http://baijs.nl/tinyscrollbar/)

in Javascript

```
$('#scrollbar1').tinyscrollbar(); 
```

# java - The method toArray(T[]) in the type ArrayList is not applicable for the arguments (boolean[])

> ID：15715578
> 
> 赞同：4
> 
> 时间：2013-03-30T06:11:03.323
> 
> 标签：java, arrays, arraylist

I write a function to get `boolean` array, from `arraylist<boolean>` to `boolean` array but I get the error:

> The method toArray(T[]) in the type ArrayList is not applicable for the arguments (boolean[])

```
ArrayList<Boolean> fool = new ArrayList<Boolean>();

for (int i = 0; i < o.length(); i++) {
    if (Integer.parseInt(o.substring(i, i + 1)) == 1) {
        fool.add(true);
    } else {
        fool.add(false);
    }
}

boolean[] op = fool.toArray(new boolean[fool.size()]); 
```

if I change the type `boolean[]op` to `Boolean[]op`, that is work, but I need `boolean[]`..

So how can i get the `boolean` array?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T06:17:33.173

Primitive types cannot be used in generics. In order for the array to match the type signature of `T[]`, you must use the `Boolean` wrapper class just as you did in the ArrayList's declaration, even if you don't want the final array to be of that type:

```
Boolean[] op = fool.toArray(new Boolean[fool.size()]); 
```

There is no way to get an array of primitive `boolean`s using generics, and autoboxing or casting does not work with arrays (e.g. it is impossible to assign arrays of primitive types to arrays of the wrapper types and vice-versa). The only way to get the array you want is to do it the hard way, with loops:

```
boolean[] op = new boolean[fool.size()];

for(int n = 0; n < temp.length; n++)
{
     //autoboxing implicitly converts Boolean to boolean
     op[n] = fool.get(n); 
} 
```

This can probably be accomplished much more elegantly using the `map` construct in Java 8.

On a personal note, the fact that generics don't work for primitives is one of the few things about java that honestly really frustrates me. I'm not going to argue with the designers, but having to write seven different functions just to do the same thing to arrays of different types seems to defy the whole point of adding a generics feature to the language in the first place. Just look at the [java.util.Arrays class](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html); having to write this kind of code is enough to make me want to switch to C++.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-30T06:17:41.013

If you really want `boolean[]` then populating list and finally converting list into an array shouldn't be necessary. Just do the following:

```
boolean[] bools = new boolean[o.length()];
for (int i = 0; i < o.length(); i++) {
    bools[i] = Integer.parseInt(o.substring(i,i+1)) == 1;
} 
```

* * *

Note: The fact that `fool.toArray(new boolean[fool.size()])` doesn't work is because that method is a generic method and in Java generics doesn't work for primitives. It works only for reference types (i.e. objects).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-11T16:57:37.457

```
int index = 0;
boolean[] array = new boolean[fool.size()];
for (Boolean value: fool) {
  array[index++] = value;
} 
```

# apache-flex - 像 Virtual Girl 一样使用 flex 播放 swf 文件

> ID：15715581
> 
> 赞同：0
> 
> 时间：2013-03-30T06:11:31.513
> 
> 标签：apache-flex, air, flex4.6

我正在开发 Flex 4.6 Air 应用程序，其中有一个列表，数据是透明的背景 swf 文件。我的问题是，当我双击列表项时，受人尊敬的 swf 文件应该在后台播放，或者我们可以像虚拟女孩应用程序一样在桌面上说。如果我们最小化主应用程序，swf 应该像虚拟女孩应用程序一样在桌面上播放。

如果有人有任何想法，请告诉我。

非常感谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-02T12:20:48.253

您可以使用以下代码在双击列表项时打开 mx 或 spark 窗口。

以下代码可能对您有用。

```
<?xml version="1.0" encoding="utf-8"?>
<s:Window xmlns:fx="http://ns.adobe.com/mxml/2009"
          xmlns:s="library://ns.adobe.com/flex/spark"
          xmlns:mx="library://ns.adobe.com/flex/mx"
          xmlns:customcomponents="customs.customcomponents.*"
          xmlns:services="services.*"
          width="100%" height="100%" backgroundAlpha="0"
          creationComplete="window1_creationCompleteHandler(event)" minimizable="false"
          showStatusBar="false" systemChrome="none" transparent="true"> 

    <fx:Script>
        <![CDATA[
            import air.net.URLMonitor;

            import dbconnection.Connection;

            import globalData.DataModel;

            import mx.collections.ArrayCollection;
            import mx.core.FlexGlobals;
            import mx.events.FlexEvent;
            import mx.utils.UIDUtil;

            import vo.UserSettingsVo;

            private var movie:MovieClip;
            private var movieTotalFrame:int = 0;
            public var countMovie:int = 0;          
            public var timer:Timer;                     
            private var newRate:int = 0;
            private var mainScreen:Screen = Screen.mainScreen;
            private var newStyle:CSSStyleDeclaration;           
            private var flagPreNext:String="";
            private var flagFullMin:Boolean = false;
            private var monitor:URLMonitor;
            private var timerClosePop:Timer;
            private var sqlStatStatus:SQLStatement;
            private var objSelectedItem:Object;

            [Bindable]
            private var modellocator:DataModel = DataModel.getInstance();

            [Bindable]          
            private var uservo:UserSettingsVo = UserSettingsVo.getInstance();

            private var connection:Connection = Connection.getInstance();

            protected function window1_creationCompleteHandler(event:FlexEvent):void
            {               
                seqEffect.target = this;
                rotate.target = canDesktopVideo;
                loadMovie(0);                           
            }       

            protected function myVidTeaser_completeHandler(event:Event):void
            {
                trace(modellocator.arrMovie[countMovie].Videoname.toString());
                movie = myVidTeaser.content as MovieClip;                           

                if(movie != null)
                {
                    movieTotalFrame = movie.totalFrames;
                    var sizeWidth:Number = 0;
                    var sizeHeight:Number = 0;                      

                    /** Always on top setting **/
                    if(modellocator.userSettingsac[0].alwaysontop == "no")
                    {
                        this.alwaysInFront = false;
                    }
                    else
                    {
                        this.alwaysInFront = true;
                    }                       

                    /** Size Settings **/
                    if(modellocator.flagMaxMin)
                    {
                        sizeWidth = mainScreen.visibleBounds.width;
                        sizeHeight = mainScreen.visibleBounds.height;
                    }
                    else
                    {
                        sizeWidth = mainScreen.visibleBounds.width*(modellocator.userSettingsac[0].size/100);
                        sizeHeight = mainScreen.visibleBounds.height*(modellocator.userSettingsac[0].size/100);
                    }                   

                    if(!this.closed)
                    {
                        this.width = mainScreen.visibleBounds.width;
                        this.height = mainScreen.visibleBounds.height;
                    }

                    modellocator.setSizeWidth = sizeWidth;
                    modellocator.setSizeHeight = sizeHeight;                    
                    rotate.autoCenterTransform = true;
                    rotate.angleYFrom = 0;
                    myMov.xTo = 0;
                    myMov.xFrom = mainScreen.visibleBounds.width;                       
                    myMov.yFrom =  40;
                    myMov.yTo = 40; 
                    myMov.duration = 0;                 
                    fadeEffect.alphaFrom = 0;
                    fadeEffect.alphaTo = 1.0;
                    fadeEffect.duration = 1000;
                    rotate.play();
                    seqEffect.play();
                }                               
            }

            protected function myVidTeaser_enterFrameHandler(event:Event):void
            {
                if(modellocator.flagDesktopVIdeoPlay == true)
                {
                    if(movie != null)
                    {                       
                        if(movie.currentFrame == movieTotalFrame)
                        {                       
                            if(countMovie == (modellocator.arrMovie.length - 1))
                            {
                                countMovie = 0;                     
                            }
                            else
                            {                               
                                countMovie++;
                            }                   

                            /** Show Time Settings **/
                            movie.gotoAndStop(0);
                            System.gc();
                            System.gc();
                            timer = new Timer(int(modellocator.userSettingsac[0].showtime)*60000);
                            timer.addEventListener(TimerEvent.TIMER, movieLoadOnTimer, false, 0, true);
                            timer.start();
                        }
                    }
                }
                else
                {
                    if(timer != null)
                    {
                        timer.stop();
                        timer.removeEventListener(TimerEvent.TIMER, movieLoadOnTimer);
                        timer = null;
                        System.gc();
                        System.gc();
                    }
                    event.preventDefault();
                    event.stopImmediatePropagation();
                }                                   
            }

            private function movieLoadOnTimer(event:TimerEvent):void
            {
                loadMovie(countMovie);
            }

            public function loadMovie(num:int):void
            {
                if(modellocator.arrMovie != null && modellocator.arrMovie.length > 0)
                {
                    if(num < modellocator.arrMovie.length)
                    {
                        if(modellocator.arrMovie[countMovie] != null)
                        {                           
                            if(modellocator.arrMovie[countMovie].VideoBuyFlag == "yes")
                            {   
                                if(flash.system.Capabilities.os.indexOf("Mac") > -1) 
                                {
                                    myVidTeaser.source = "file://" + modellocator.arrMovie[countMovie].VideoFullURL;    
                                }
                                else
                                {
                                    myVidTeaser.source = modellocator.arrMovie[countMovie].VideoFullURL;
                                }
                            }
                            else
                            {   
                                if(flash.system.Capabilities.os.indexOf("Mac") > -1)
                                {
                                    myVidTeaser.source = "file://" + modellocator.arrMovie[countMovie].VideoTeaserURL;
                                }
                                else
                                {
                                    myVidTeaser.source = modellocator.arrMovie[countMovie].VideoTeaserURL;
                                }                   
                            }
                        }                           
                    }
                    else
                    {
                        countMovie = 0;
                        loadMovie(countMovie);
                    }                   
                }
                else
                {
                    this.close();
                }
            }

        ]]>
    </fx:Script>

    <fx:Declarations>
        <s:Move id="moveUp" duration="500" target="{this}" yFrom="350" yTo="0"/>
        <s:Move id="moveDown" duration="500" target="{this}" yFrom="0" yTo="350"/>
        <s:Sequence id="seqEffect">         
            <mx:Move id="myMov"/>           
            <mx:Fade id="fadeEffect"/>
        </s:Sequence>   
        <s:Rotate3D id="rotate"/>
    </fx:Declarations>      

    <mx:Canvas id="canDesktopVideo" width="100%" height="100%" horizontalScrollPolicy="off"
               verticalScrollPolicy="off">
        <s:SWFLoader id="myVidTeaser" right="0" bottom="0" width="{modellocator.setSizeWidth}"
                     height="{modellocator.setSizeHeight}" alpha="{modellocator.setTransparency}"
                     buttonMode="true" 
                     complete="myVidTeaser_completeHandler(event)"
                     enterFrame="myVidTeaser_enterFrameHandler(event)" maintainAspectRatio="true"
                     scaleContent="true"
                     scrollRect="{new Rectangle(0, 0, myVidTeaser.width, myVidTeaser.height)}"
                     useHandCursor="true"/> 
    </mx:Canvas>    
</s:Window> 
```

# javascript - 如何使用prompt() 制作表格生成器？

> ID：15715586
> 
> 赞同：1
> 
> 时间：2013-03-30T06:12:11.753
> 
> 标签：javascript, html-table, prompt

我需要在 Javascript 中使用`prompt()`、`var`、`parseInt`和制作表格生成器。将提示用户输入行数，然后输入列数。`isNaN``document.write`

这是我到目前为止写的：

```
<script type="text/javascript">
var row;
var col;
do
{
row = prompt("How many rows?");
}
while (isNaN(row))
do
{
col = prompt("How many columns?");
}
while (isNaN(col))

document.write('<table border="1" cellspacing="1" cellpadding="2">');
for(i = 0; i < row; i++)
{
   document.write('<tr>');
   document.write("<td>"+i+"</td>");
   document.write('</tr>');
}

document.write('</table>');
</script> 
```

我不知道如何计算：

```
"document.write("<td>"+i+"</td>");" 
```

取决于变量“col”。

我也不知道如何使用`parseInt`或`isNaN`确保数字输入范围从 1 到 10。请放轻松，我是初学者。

# triggers - 实施 hmsonline Cassandra-Trigger 时出错

> ID：15715592
> 
> 赞同：1
> 
> 时间：2013-03-30T06:12:39.913
> 
> 标签：triggers, cassandra

试图在 Cassandra 中实现触发器。

一直在尝试使用可用的 Cassandra 帮助：[https](https://github.com/hmsonline/cassandra-triggers) ://github.com/hmsonline/cassandra-triggers 将其移植到最新版本 1.2.3，并遵循[GettingStarted](https://github.com/hmsonline/cassandra-triggers/wiki/GettingStarted/)说明。

当我尝试设置触发器的值，插入数据以触发日志并检查日志时，以下是我收到的错误

> java.lang.AssertionError
> 
> > > ```
> > >  at org.apache.cassandra.thrift.ThriftSessionManager.currentSession(ThriftSessionManager.java:51)
> > >    at org.apache.cassandra.thrift.CassandraServer.state(CassandraServer.java:88)
> > >    at org.apache.cassandra.thrift.CassandraServer.validateLogin(CassandraServer.java:881)
> > >    at org.apache.cassandra.thrift.CassandraServer.set_keyspace(CassandraServer.java:1492)
> > >    at com.hmsonline.cassandra.triggers.dao.CassandraStore.getConnection(CassandraStore.java:42)
> > >    at com.hmsonline.cassandra.triggers.dao.ConfigurationStore.getConfiguration(ConfigurationStore.java:76)
> > >    at com.hmsonline.cassandra.triggers.dao.ConfigurationStore.isCommitLogEnabled(ConfigurationStore.java:44)
> > >    at com.hmsonline.cassandra.triggers.TriggerTask.run(TriggerTask.java:47)
> > >    at java.lang.Thread.run(Thread.java:636) 
> > > ```

但我们测试它在旧版本中运行良好（例如：1.1.2）

那么这是配置问题，还是 Thrift API 实现已更改？

谢谢

# sql - 将不同表 SQL 中的两个日期与条件进行比较

> ID：15715594
> 
> 赞同：2
> 
> 时间：2013-03-30T06:13:13.210
> 
> 标签：sql, date-comparison

点击图片查看表结构和问题 [http://i.stack.imgur.com/odWKL.png](https://i.stack.imgur.com/odWKL.png)

![在此处输入图像描述](../Images/928865bd9a54bec1590415c816492c25.png)

```
SELECT B.ENTITYID, 
       B.BALANCEDATE,
       B.BALANCE, 
       MIN(DATEDIFF(DAY,B.BALANCEDATE,C.STATUSDATE)) RECENT
FROM   BALANCES B JOIN STATUS C ON B.ENTITYID = C.ENTITYID
GROUP  BY B.ENTITYID, B.BALANCEDATE,B.BALANCE
HAVING B.ENTITYID =1 
```

我已经尝试了以下方法，但由于更多的嵌套选择在访问类似属性时存在问题，因此无法走得更远：

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T08:28:39.057

如果您正在使用 SQL Server，请参阅[@ljh 的答案](https://stackoverflow.com/a/15716497/491243)。下面的解决方案适用于 MySQL。由于 MySQL 不支持`CTE`和`Window Function`.

# MySQL

```
SET @entity_name = 'ABCD';

SELECT  b.*, d.Status
FROM    Entity a
        INNER JOIN Balances b
            ON a.EntityID = b.EntityID
        LEFT JOIN
        (
            SELECT  a.EntityID, 
                    a.StatusDate StartDate, 
                    b.StatusDate + Interval -1 DAY EndDate,
                    a.Status
            FROM
                    (
                        SELECT  b.*, @r1 := @r1 + 1 AS Row_number
                        FROM    `Entity` a
                                INNER JOIN Status b
                                    ON a.EntityID = b.EntityID
                                CROSS JOIN (SELECT @r1 := 0) rowCount
                        WHERE   a.EntityName = @entity_name
                        ORDER   BY b.Status ASC
                    ) a
                    LEFT JOIN
                    (
                        SELECT  b.*, @r2 := @r2 + 1 AS Row_number
                        FROM    `Entity` a
                                INNER JOIN Status b
                                    ON a.EntityID = b.EntityID
                                CROSS JOIN (SELECT @r2 := 1) rowCount
                        WHERE   a.EntityName = @entity_name
                        ORDER   BY b.Status ASC
                    ) b ON  a.Row_number = b.Row_number
        ) d 
        ON b.BalanceDate BETWEEN d.StartDate AND d.EndDate
WHERE   a.EntityName = @entity_name 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/b1c32/2)

* * *

# 简要分解

由于 MySQL 不支持*Windowing Function*等`ROW_NUMBER()`，因此下面的查询用于为每条记录`User Variable`提供类似的行号`ROW_NUMBER()`，然后将用于连接另一个子查询。

```
SELECT  b.*, @r1 := @r1 + 1 AS Row_number
FROM    `Entity` a
        INNER JOIN Status b
            ON a.EntityID = b.EntityID
        CROSS JOIN (SELECT @r1 := 0) rowCount
WHERE   a.EntityName = @entity_name
ORDER   BY b.Status ASC 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/b1c32/3)

输出

```
╔══════════╦═════════════════════════════════╦════════╦════════════╗
║ ENTITYID ║           STATUSDATE            ║ STATUS ║ ROW_NUMBER ║
╠══════════╬═════════════════════════════════╬════════╬════════════╣
║        1 ║ May, 29 2010 00:00:00+0000      ║ A      ║          1 ║
║        1 ║ April, 16 2010 00:00:00+0000    ║ B      ║          2 ║
║        1 ║ April, 02 2010 00:00:00+0000    ║ C      ║          3 ║
║        1 ║ February, 26 2010 00:00:00+0000 ║ D      ║          4 ║
╚══════════╩═════════════════════════════════╩════════╩════════════╝ 
```

为记录提供行号的主要目的是将其用于连接另一个子查询，以便我们可以得到`StartDate`and `EndDate`for each `Status`。这很容易，`SQL Server 2012`因为它有一个名为[LAG()的窗口函数](http://msdn.microsoft.com/en-us/library/hh231256.aspx)

```
╔══════════╦═════════════════════════════════╦══════════════════════════════╦════════╗
║ ENTITYID ║            STARTDATE            ║           ENDDATE            ║ STATUS ║
╠══════════╬═════════════════════════════════╬══════════════════════════════╬════════╣
║        1 ║ May, 29 2010 00:00:00+0000      ║ (null)                       ║ A      ║
║        1 ║ April, 16 2010 00:00:00+0000    ║ May, 28 2010 00:00:00+0000   ║ B      ║
║        1 ║ April, 02 2010 00:00:00+0000    ║ April, 15 2010 00:00:00+0000 ║ C      ║
║        1 ║ February, 26 2010 00:00:00+0000 ║ April, 01 2010 00:00:00+0000 ║ D      ║
╚══════════╩═════════════════════════════════╩══════════════════════════════╩════════╝ 
```

一旦组织好状态范围。它现在是*每个*`Balances`.

最终结果

```
╔══════════╦═════════════════════════════════╦═════════╦════════╗
║ ENTITYID ║           BALANCEDATE           ║ BALANCE ║ STATUS ║
╠══════════╬═════════════════════════════════╬═════════╬════════╣
║        1 ║ May, 01 2010 00:00:00+0000      ║     100 ║ B      ║
║        1 ║ April, 01 2010 00:00:00+0000    ║      50 ║ D      ║
║        1 ║ March, 01 2010 00:00:00+0000    ║      75 ║ D      ║
║        1 ║ February, 01 2010 00:00:00+0000 ║      85 ║ (null) ║
╚══════════╩═════════════════════════════════╩═════════╩════════╝ 
```

* * *

# SQL Server 2012

上面演示的查询`MySQL`可以`TSQL`通过使用`Common Table Expression`和`Window Function`使用[**LAG() 轻松转换（*仅在 SQL Server 2012 中引入*）**](http://msdn.microsoft.com/en-us/library/hh231256.aspx)

```
WITH lookupTable
AS
(
    SELECT  EntityID, 
            StatusDate StartDate, 
            DATEADD(DAY, -1, LAG(StatusDate) OVER(PARTITION BY EntityID ORDER BY Status)) EndDate,
            Status
    FROM    Status
)
SELECT  b.*, d.Status
FROM    Entity a
        INNER JOIN Balances b
            ON a.EntityID = b.EntityID
        LEFT JOIN lookupTable d
            ON b.BalanceDate BETWEEN d.StartDate AND d.EndDate AND
               d.EntityID = a.EntityID
WHERE   a.EntityName = 'ABCD' 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!6/4a386/14)

输出

```
╔══════════╦═════════════════════════════════╦═════════╦════════╗
║ ENTITYID ║           BALANCEDATE           ║ BALANCE ║ STATUS ║
╠══════════╬═════════════════════════════════╬═════════╬════════╣
║        1 ║ May, 01 2010 00:00:00+0000      ║     100 ║ B      ║
║        1 ║ April, 01 2010 00:00:00+0000    ║      50 ║ D      ║
║        1 ║ March, 01 2010 00:00:00+0000    ║      75 ║ D      ║
║        1 ║ February, 01 2010 00:00:00+0000 ║      85 ║ (null) ║
╚══════════╩═════════════════════════════════╩═════════╩════════╝ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T08:17:02.530

以 SQL Server 2012 作为 RDBMS 为例。这是您需要的第一个查询。
这个答案使用了 SQL CTE（通用表表达式），它可能不适用于其他 RDBMS 系统。
**[SQL FIDDLE DEMO](http://sqlfiddle.com/#!6/1cc98/1)**
查询说明：
1\. 先连接[Balances] 和[Status] 表，使用BalanceDate > StatusDate 过滤结果，返回两个表的所有列，这是因为后面需要。
2.将步骤.1的输出与[Entity]表连接，使用EntityName过滤结果，仍然保留3个表中的所有列，当然不需要重复的EntityID。
3\. 使用 CTE 保存连接
4\. 使用 CTE 保存应用在连接输出上的排名
5\. 使用 Rank number 过滤掉结果和按 BalanceDate 排序

```
 ;with CTE_AfterJoin
as 
(
    select E.EntityID, E.EnityName, C.BalanceDate, C.Balance, C.StatusDate, C.status
    from Entity E
    left join (
            select B.EntityID, B.BalanceDate, B.Balance,S.StatusDate, S.[Status]
            from Balances B 
            left join  [Status] S
            on B.EntityID = S.EntityID and B.BalanceDate > S.StatusDate
            ) C
    on E.EntityID = C.EntityID
    where E.EnityName = 'ABCD'
),
CTE_afterRank
as 
(
    select EnityName, BalanceDate, Balance, 
           rank() over (partition by BalanceDate order by StatusDate desc) as Rn, Status 
    from CTE_AfterJoin
)
select EnityName, BalanceDate, Balance, Status
from CTE_afterRank
where Rn = 1
order by BalanceDate desc 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T09:32:48.633

同样在 SQLServer2005+ 中，您可以将选项与[APPLY()](http://msdn.microsoft.com/en-us/library/ms175156%28v=sql.105%29.aspx)运算符一起使用。

APPLY 运算符允许您连接两个表表达式。每次对左表表达式中的每一行处理右表表达式。最终结果集包含从左表表达式中选择的所有列，然后是右表表达式的所有列。OUTER APLLY 对于右表表达式中没有对应匹配的那些行，它在右表表达式的列中包含 NULL 值。

```
SELECT e.EntityName, b.BalanceDate AS Date, b.Balance, o.Status
FROM Entity e JOIN Balances b ON e.EntityID = b.EntityID
              OUTER APPLY (
                           SELECT TOP 1 s.Status AS Status                           
                           FROM Status s
                           WHERE b.EntityID = s.EntityID 
                             AND s.StatusDate < b.BalanceDate
                           ORDER BY s.StatusDate DESC
                           ) o
WHERE e.EntityName = 'ABCD' 
```

为了提高性能（强制 INDEX SEEK 操作）将此索引与 INCLUDE 子句一起使用。INCLUDE 子句在最低/叶级别添加数据，而不是在索引树中。这使得索引更小，因为它不是树的一部分

```
CREATE INDEX x ON Status(StatusDate) INCLUDE(EntityID, Status)
CREATE INDEX x ON Entity(EntityName) INCLUDE(EntityID)
CREATE INDEX x ON Balances(EntityID, BalanceDate, Balance) 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/aa3db/1)上的演示[](http://sqlfiddle.com/#!3/aa3db/1)

 **![在此处输入图像描述](../Images/1258913c3e6b37b368a9ef71de8de720.png)**

# python - Running a jar with python and passing input/output

> ID：15715597
> 
> 赞同：1
> 
> 时间：2013-03-30T06:13:28.227
> 
> 标签：python, input, jar, subprocess, output

So I've looked a bit into the subprocess library, and I think that it is the right library to use, but I can't seem to find out how one would go about passing input to the program during runtime. I want to run a jar using a python script and analyze the output of that jar file while it is running (for an indefinite amount of time). Then, based on that output, I want to be able to pass back input to the jar file (which is accepting input).

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:14:32.863

You will need to use the *subprocess.Popen* constructor, passing as *stdin* and *stdout* arguments either:

*   a file-like object of your choice, which you can then read and write in a loop during the program execution
*   the special value *subprocess.PIPE*, which allows then to access these streams through the returned Popen object as properties *stdin* and *stdout*. Liek the first case, you'll need to run a loop reading from stdout and writing to stdin.

There are some nice examples at [http://sharats.me/the-ever-useful-and-neat-subprocess-module.html](http://sharats.me/the-ever-useful-and-neat-subprocess-module.html)

# ruby-on-rails-3 - 没有路线匹配 {:action=>"show", :controller=>"restaurants"}

> ID：15715599
> 
> 赞同：-1
> 
> 时间：2013-03-30T06:13:38.927
> 
> 标签：ruby-on-rails-3, routes, gmaps4rails

如果我想通过我的主页点击地图 localhost:3000/maps 会出现此错误 No route matches {:action=>"show", :controller=>"restaurants"}
controllers/maps_controller.rb

```
def index
    @maps = Map.all
    @json = Map.all.to_gmaps4rails do |map, marker|
       marker.infowindow info_for_restaurant(map.restaurant)
    end

    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @maps }
    end
end
def show
    @map = Map.find(params[:id])

    respond_to do |format|
      format.html # show.html.erb
      format.json { render json: @map }
    end
end
private 
def info_for_restaurant(restaurant)
  link_to restaurant_path do
    content_tag("h2") do
      restaurant.name
    end
  end
end 
```

路线.rb

```
resources :restaurants
resources :maps 
```

**这是我的问题的答案：**
controllers/maps_controller.rb

```
def index
    @maps = Map.all
    @json = Map.all.to_gmaps4rails do |map, marker| 
      marker.infowindow render_to_string(:partial => "/maps/maps_link", 
        :layout => false, :locals => { :map => map})
    end

    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @maps }
    end
  end 
```

意见/地图/_maps_link.html.erb

```
<div class="map-link">
<h2><%= link_to map.restaurant.title, map.restaurant %></h2>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:03:05.383

你的方法在几个层面上都是错误的。让我们一次一个地处理它们：

**1）您对路由助手的调用是错误的：**

`restaurant_path`是`show`动作的路线助手。一个`show`动作需要一个`id`有效的参数。您的调用缺少参数。

因此，您的代码必须是这样的：

```
def info_for_restaurant(restaurant)
  link_to restaurant_path(restaurant) do
    content_tag("h2") do
      restaurant.name
    end
  end
end 
```

要查看每个操作所需的参数，您可以`rake routes`在控制台上运行。

但是，这并不能解决问题，因为您也是：

**2) 从你的控制器调用视图助手**

`link_to`并且`content_tag`是视图辅助方法，并且您不想因视图问题而打扰您的控制器。因此，解决此问题的最佳方法是将您的`info_for_restaurant`方法移动到帮助程序，并从视图中调用它。

所以，现在，您的控制器不会为 分配任何东西`@json`，您的视图的最后一行将如下所示：

```
<%= gmaps4rails @maps.to_gmaps4rails {|map, marker| marker.infowindow info_for_restaurant(map.restaurant) } %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:29:26.427

`restaurant_path`您在其中提到`info_for_restaurant`，它是 MapsController 的一部分。Rails 在这里遇到了错误。

此时您需要定义`restaurant_path`in restaurant 控制器，或者在 maps 控制器中注释掉这个函数。

# linux - 如何在 Red Hat 3.4.6-3 中安装 yum

> ID：15715602
> 
> 赞同：7
> 
> 时间：2013-03-30T06:13:44.150
> 
> 标签：linux, linux-kernel, redhat

我想`yum`在 Red Hat 3.4.6-3 中使用该命令。我该如何安装它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T06:20:40.487

*   下载您选择的 yum 版本：wget [http://linux.duke.edu/projects/yum/download/2.0/yum-2.0.7.ta​​r.gz](http://linux.duke.edu/projects/yum/download/2.0/yum-2.0.7.tar.gz)
*   解压包：tar xvzf yum-2.0.7.ta​​r.gz
*   将目录更改为新扩展的文件夹：cd yum-2.0.7
*   运行配置文件：./configure
*   制作配置：制作
*   制作安装：制作安装

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T06:16:30.923

下载 `yum-2.4.2-0.4.el4.rf.noarch.rpm` 并安装使用`rpm -ivh yum-2.4.2-0.4.el4.rf.noarch.rpm`

# php - 如何将查询字符串转换为 PHP 中的变量？

> ID：15715604
> 
> 赞同：0
> 
> 时间：2013-03-30T06:14:02.273
> 
> 标签：php, arrays, query-string, name-value

我有一个这样的字符串存储在 mysql 表中：

`?name1=value1&name2=value2&name3=value3`

最初这些数据仅用于将 GET 数据发送到另一个脚本，但现在我发现自己需要它来处理其他事情。

PHP中是否有预定义的函数可以将这些对转换为变量或数组？还是我必须手动完成？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T06:18:19.107

（名称不佳的）PHP 函数[`parse_str`](http://www.php.net/manual/en/function.parse-str.php)可以做到这一点，但您需要先去掉最初的问号。

```
$arr = array();
parse_str($str, $arr);
print_r($arr); 
```

手册页中提到了此功能的一些注意事项：

*   如果你在没有第二个数组参数的情况下调用它，它会将值作为局部变量写入当前范围。如果字符串包含可能更改程序中已经存在的变量值的键，这可能很危险。
*   The `magic_quotes_gpc` setting affects how this function operates, since this is the routine used internally by PHP to decode query strings and urlencoded POST bodies.

If you need a portable solution that is not affected by the `magic_quotes_gpc` setting then it's reasonably straightforward to write a decoding function manually, using `urldecode` to handle the value encoding:

```
function parseQueryString($queryString) {
    $result = array();
    $pairs = explode("&", $queryString);
    foreach ($pairs as $pair) {
        $pairArr = split("=", $pair, 2);
        $result[urldecode($pairArr[0])] = urldecode($pairArr[1]);
    }
    return $result;
} 
```

This solution will probably be slightly slower than the built-in `parse_args` function, but has the benefit of consistent behavior regardless of how PHP is configured. Of course you will again need to first strip off the `?` from the beginning, which is not included in either example.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T06:22:15.977

[Var_export](http://php.net/var_export) Might be useful.

```
$arr=?name1=value1&name2=value2&name3=value3
var_export($arr); 
```

# go - 多个 goroutine 在一个通道上监听

> ID：15715605
> 
> 赞同：100
> 
> 时间：2013-03-30T06:14:10.993
> 
> 标签：go, concurrency, goroutine

我有多个 goroutines 试图同时在同一个频道上接收。似乎最后一个开始在通道上接收的 goroutine 获得了值。这是语言规范中的某个地方还是未定义的行为？

```
c := make(chan string)
for i := 0; i < 5; i++ {
    go func(i int) {
        <-c
        c <- fmt.Sprintf("goroutine %d", i)
    }(i)
}
c <- "hi"
fmt.Println(<-c) 
```

输出：

```
goroutine 4 
```

[操场上的例子](http://play.golang.org/p/7TuA7kLtks)

**编辑：**

我才意识到这比我想象的要复杂。消息在所有 goroutine 中传递。

```
c := make(chan string)
for i := 0; i < 5; i++ {
    go func(i int) {
        msg := <-c
        c <- fmt.Sprintf("%s, hi from %d", msg, i)
    }(i)
}
c <- "original"
fmt.Println(<-c) 
```

输出：

```
original, hi from 0, hi from 1, hi from 2, hi from 3, hi from 4 
```

**注意：** *上述输出在最新版本的 Go 中已经过时（见评论）*

[操场上的例子](http://play.golang.org/p/3y-YQG8dAb)

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2013-03-30T17:30:15.747

是的，这很复杂，但是有一些经验法则可以让事情变得更加简单。

*   **更喜欢对传递给 go-routines 的通道使用形式参数，**而不是访问全局范围内的通道。您可以通过这种方式获得更多的编译器检查，以及更好的模块化。
*   **避免在特定的 go-routine**（包括“主”）中在同一通道上读取和写入。否则，死锁的风险要大得多。

这是您的程序的替代版本，应用了这两个准则。这个案例展示了一个频道上有很多作者和一个读者：

```
c := make(chan string)

for i := 1; i <= 5; i++ {
    go func(i int, co chan<- string) {
        for j := 1; j <= 5; j++ {
            co <- fmt.Sprintf("hi from %d.%d", i, j)
        }
    }(i, c)
}

for i := 1; i <= 25; i++ {
    fmt.Println(<-c)
} 
```

[http://play.golang.org/p/quQn7xePLw](http://play.golang.org/p/quQn7xePLw)

它创建了五个 go-routines 写入单个通道，每个通道写入五次。主要的 go-routine 读取所有 25 条消息 - 你可能会注意到它们出现的顺序通常不是连续的（即并发性很明显）。

这个例子展示了 Go 通道的一个特性：可以有多个 writer 共享一个通道；Go 会自动交错消息。

这同样适用于一个通道上的一个写入器和多个读取器，如这里的第二个示例所示：

```
c := make(chan int)
var w sync.WaitGroup
w.Add(5)

for i := 1; i <= 5; i++ {
    go func(i int, ci <-chan int) {
        j := 1
        for v := range ci {
            time.Sleep(time.Millisecond)
            fmt.Printf("%d.%d got %d\n", i, j, v)
            j += 1
        }
        w.Done()
    }(i, c)
}

for i := 1; i <= 25; i++ {
    c <- i
}
close(c)
w.Wait() 
```

第二[个示例](http://play.golang.org/p/ESq9he_WzS)包括对主 goroutine 施加的等待，否则它将立即退出并导致其他五个 goroutine 提前终止*（感谢[olov](https://stackoverflow.com/users/1001457/olov)的更正）*。

在这两个示例中，都不需要缓冲。将缓冲仅视为性能增强器通常是一个很好的原则。如果您的程序在*没有*缓冲区的情况下不会死锁，那么它也不会因*缓冲区**而*死锁（但反之亦然）。因此，作为**另一个经验法则，开始时不要缓冲，然后根据需要添加**。

 **** * *

## 回答 #2

> 赞同：29
> 
> 时间：2013-11-06T17:16:07.573

回复晚了，但我希望这对以后的其他人有所帮助，例如[长轮询，“全球”按钮，向所有人广播？](https://stackoverflow.com/q/19802037/143225)

[Effective Go](http://golang.org/doc/effective_go.html#channels)解释了这个问题：

> 接收器总是阻塞，直到有数据要接收。

这意味着您不能让超过 1 个 goroutine 监听 1 个通道并期望所有 goroutine 接收相同的值。

**运行此[代码示例](http://play.golang.org/p/NQGO5-jCVz)。**

```
package main

import "fmt"

func main() {
    c := make(chan int)

    for i := 1; i <= 5; i++ {
        go func(i int) {
        for v := range c {
                fmt.Printf("count %d from goroutine #%d\n", v, i)
            }
        }(i)
    }

    for i := 1; i <= 25; i++ {
        c<-i
    }

    close(c)
} 
```

即使有 5 个 goroutine 在监听通道，您也不会多次看到“count 1”。这是因为当第一个 goroutine 阻塞通道时，所有其他 goroutine 必须排队等待。当通道被解除阻塞时，计数已经被接收并从通道中删除，所以下一个 goroutine 获得下一个计数值。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-03-30T06:55:36.053

这很复杂。

另外，看看会发生什么`GOMAXPROCS = NumCPU+1`。例如，

```
package main

import (
    "fmt"
    "runtime"
)

func main() {
    runtime.GOMAXPROCS(runtime.NumCPU() + 1)
    fmt.Print(runtime.GOMAXPROCS(0))
    c := make(chan string)
    for i := 0; i < 5; i++ {
        go func(i int) {
            msg := <-c
            c <- fmt.Sprintf("%s, hi from %d", msg, i)
        }(i)
    }
    c <- ", original"
    fmt.Println(<-c)
} 
```

输出：

```
5, original, hi from 4 
```

并且，看看缓冲通道会发生什么。例如，

```
package main

import "fmt"

func main() {
    c := make(chan string, 5+1)
    for i := 0; i < 5; i++ {
        go func(i int) {
            msg := <-c
            c <- fmt.Sprintf("%s, hi from %d", msg, i)
        }(i)
    }
    c <- "original"
    fmt.Println(<-c)
} 
```

输出：

```
original 
```

您也应该能够解释这些情况。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-12-22T21:31:34.503

我研究了现有的解决方案并创建了简单的广播库[https://github.com/grafov/bcast](https://github.com/grafov/bcast)。

```
 group := bcast.NewGroup() // you created the broadcast group
    go bcast.Broadcasting(0) // the group accepts messages and broadcast it to all members

    member := group.Join() // then you join member(s) from other goroutine(s)
    member.Send("test message") // or send messages of any type to the group 

    member1 := group.Join() // then you join member(s) from other goroutine(s)
    val := member1.Recv() // and for example listen for messages 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-07-08T02:07:17.323

对于一个通道上的多个 goroutine 监听，是的，这是可能的。关键是消息本身，你可以定义一些这样的消息：

```
package main

import (
    "fmt"
    "sync"
)

type obj struct {
    msg string
    receiver int
}

func main() {
    ch := make(chan *obj) // both block or non-block are ok
    var wg sync.WaitGroup
    receiver := 25 // specify receiver count

    sender := func() {
        o := &obj {
            msg: "hello everyone!",
            receiver: receiver,
        }
        ch <- o
    }
    recv := func(idx int) {
        defer wg.Done()
        o := <-ch
        fmt.Printf("%d received at %d\n", idx, o.receiver)
        o.receiver--
        if o.receiver > 0 {
            ch <- o // forward to others
        } else {
            fmt.Printf("last receiver: %d\n", idx)
        }
    }

    go sender()
    for i:=0; i<reciever; i++ {
        wg.Add(1)
        go recv(i)
    }

    wg.Wait()
} 
```

输出是随机的：

```
5 received at 25
24 received at 24
6 received at 23
7 received at 22
8 received at 21
9 received at 20
10 received at 19
11 received at 18
12 received at 17
13 received at 16
14 received at 15
15 received at 14
16 received at 13
17 received at 12
18 received at 11
19 received at 10
20 received at 9
21 received at 8
22 received at 7
23 received at 6
2 received at 5
0 received at 4
1 received at 3
3 received at 2
4 received at 1
last receiver 4 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-02-17T08:38:05.813

一个很老的问题，但我想没有人提到这个。

首先，如果您多次运行代码，两个示例的输出**可能会有所不同。**这与 Go 版本无关。

第一个示例的输出可以是`goroutine 4`, `goroutine 0`, `goroutine 1`,... 实际上**所有**的 goroutine 都可以是一个将字符串发送到主 goroutine 的人。

主协程是协程之一，所以它也在等待来自通道的数据。哪个 goroutine 应该接收数据？**没人知道。**它不在语言规范中。

此外，第二个示例的输出也可以是任何内容：

（为了清楚起见，我添加了方括号）

```
// [original, hi from 4]
// [[[[[original, hi from 4], hi from 0], hi from 2], hi from 1], hi from 3]
// [[[[[original, hi from 4], hi from 1], hi from 0], hi from 2], hi from 3]
// [[[[[original, hi from 0], hi from 2], hi from 1], hi from 3], hi from 4]
// [[original, hi from 4], hi from 1]
// [[original, hi from 0], hi from 4]
// [[[original, hi from 4], hi from 1], hi from 0]
// [[[[[original, hi from 4], hi from 1], hi from 0], hi from 3], hi from 2]
// [[[[original, hi from 0], hi from 2], hi from 1], hi from 3]
//
// ......anything can be the output. 
```

这不是魔法，也不是神秘现象。

If there are multiple threads being executed, no one knows exactly which thread will acquire the resource. The language doesn't determine it. Rather, **OS takes care of it.** This is why multithread programming is quite complicated.

Goroutine is not OS thread, but it behaves somewhat similarly.***

# c# - 如何从其背后的代码中找到一个面板并为其添加控件

> ID：15715606
> 
> 赞同：1
> 
> 时间：2013-03-30T06:14:15.400
> 
> 标签：c#, asp.net, .net, master-pages, findcontrol

在母版页中，我有一个面板，我想从后面的母版页代码中添加控件，如下所示：

```
var cphRegionName = this.Page.FindControl("pnlLeft") as Panel;
cphRegionName.Controls.Add(uc); 
```

但我收到此错误：

> 对象引用未设置为 cphRegionName.Controls.Add(uc) 处的对象实例；

我已经尝试了所有可能的其他方法，但得到了同样的错误。

我使用 FindControl 访问面​​板的原因是面板的名称是动态的（“pnlLeft”），从数据库中读取。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T06:22:05.933

该`FindControl`方法不能递归工作。这意味着除非您的控件直接添加到页面中，否则它不会找到它。

如果您知道容器控件，请在该控件上使用 FindControl，而不是在 Page 上使用。

如果你不这样做，你可以使用这样的函数来解决问题

```
private Control FindControlRecursive(Control root, string id) 
{ 
    if (root.ID == id)
    { 
        return root; 
    } 

    foreach (Control c in root.Controls) 
    { 
        Control t = FindControlRecursive(c, id); 
        if (t != null) 
        { 
            return t; 
        } 
    } 

    return null; 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:19:34.547

FindControl 不是递归的，因此您必须确保在正确的容器上调用它。看起来面板不是基于空引用在根目录定义的。尝试在面板的父级上调用 FindControl

# jsp - 如何在会话中将 JavaBeans 添加到 ArrayList？

> ID：15715607
> 
> 赞同：0
> 
> 时间：2013-03-30T06:14:24.403
> 
> 标签：jsp, arraylist, javabeans

这是我们教授的练习。我有点卡住了。首先，他希望我们将公司名称和价格存储在我们将创建的 JavaBean 中——每个实例一个价格和公司。这意味着我们需要三个 bean 实例。

请看，他希望我们使用上述方法对三个公司和价格进行硬编码。

然后，他希望我们将 JavaBeans 添加到会话中的 ArrayList 并转发到 JSP 以进行显示。

这就是我现在的状态，

```
 <jsp:useBean id="company1" class="beans.Invoice" scope="session"></jsp:useBean>
    <jsp:useBean id="company2" class="beans.Invoice" scope="session"></jsp:useBean>
    <jsp:useBean id="company3" class="beans.Invoice" scope="session"></jsp:useBean>

    <jsp:setProperty property="companyName" name="company1" value="Telco" />
    <jsp:setProperty property="price" name="company1" value="23" />

    <jsp:setProperty property="companyName" name="company2" value="Telcos" />
    <jsp:setProperty property="price" name="company2" value="25" />

    <jsp:setProperty property="companyName" name="company3" value="Telcoi" />
    <jsp:setProperty property="price" name="company3" value="27" /> 
```

在同一个jsp上，我正在这样做，

```
<%
        ArrayList<Object> disp = new ArrayList();
        disp.add(company1);
        disp.add(company2);
        disp.add(company3);

        HttpSession sess = request.getSession();
        session.setAttribute("disp", disp);

%> 
```

然后按照他的要求在下一个 JSP 上，我正在这样做，

```
 <%
        ArrayList<String> list = (ArrayList<String>) request.getSession()
                .getAttribute("disp");

        for (String r : list) {
            out.println(r);
        }
    %> 
```

这是我得到的错误

```
java.lang.ClassCastException: beans.Invoice cannot be cast to java.lang.String 
```

我可能在哪里做错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:28:28.613

您将`Invoice`第一个 JSP 中的实例存储在`ArrayList<Object>`. 但在第二个 JSP 中，您试图将字符串从该列表中删除。一个`Invoice`不是一个`String`。这是一个`Invoice`.

所以第二个JSP的代码应该是

```
List<Invoice> list = (List<Invoice>) request.getSession().getAttribute("disp");
for (Invoice r : list) {
    out.println(r);
} 
```

请注意，您的第一个 JSP 代码也可以改进。`List<Object>`当您想要的实际上是a 时，为什么要使用a `List<Invoice>`？它的代码应该是

```
List<Invoice> disp = new ArrayList<Invoice>();
disp.add(company1);
disp.add(company2);
disp.add(company3); 
```

您还应该为变量和属性使用“disp”以外的其他名称。像“发票”这样更具描述性的东西怎么样？

最后，JSP 根本不应该使用脚本，也不应该用于在会话中存储对象。第一个 JSP 只包含代码，不生成任何标记。它应该实现为 servlet，而不是 JSP。它应该将发票存储在请求属性中，而不是在会话中。会话应该只用于存储具有会话生命周期的东西（例如当前用户的姓名、偏好或类似的东西）。

第二个 JSP 应该使用 JSP EL 和 JSTL，而不是使用 scriptlet。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:26:32.243

<%ArrayList<object>list=(ArrayList<object>) 请求。获取会话（）。获取属性（“disp”）；for (yourClassName r:list) { out . println ( r.companyName 和其他 ); } %> 你没有将你的对象类型转换为字符串...

# python - Python - 在 .aspx 网站上自动输入表单并将输出存储在文件中（使用 Selenium？）

> ID：15715609
> 
> 赞同：1
> 
> 时间：2013-03-30T06:14:38.133
> 
> 标签：python, forms, selenium

我这个月刚开始学习编码，并开始使用 Python。我想自动化一个简单的任务（我的第一个项目） - 访问一家公司的职业网站，检索当天发布的所有工作并将它们存储在一个文件中。所以这就是我想做的，按顺序：

1.  访问[http://www.nov.com/careers/jobsearch.aspx](http://www.nov.com/careers/jobsearch.aspx)
2.  选择选项 - 每页 25 个作业
3.  选择日期选项 - 今天
4.  点击搜索职位
5.  将结果存储在文件中（仅职位名称）

我环顾四周，发现 Selenium 是处理 .aspx 页面的最佳方式。

我已经使用 Selenium 完成了步骤 1-4。但是，有两个问题：

1.  我不想打开浏览器。我只需要将输出保存到文件中。
2.  即使我对弹出的浏览器没问题，在 IDLE（我有 Windows 操作系统）上使用 Python 代码（从 Selenium 作为 Web 驱动程序导出）也会导致错误。当我运行 Python 代码时，浏览器会打开并加载链接。但是在浏览器关闭之前，没有任何表单选择发生，并且我收到以下错误消息（下面的链接）。那么错误信息是什么意思呢？ [http://i.stack.imgur.com/lmcDz.png](http://i.stack.imgur.com/lmcDz.png)

任何帮助/指导将不胜感激......谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-07T14:23:15.143

首先关于你遇到的错误，我应该说根据表达式`NoSuchElementException`和消息`Unable to locate element`，你为 web-driver 提供的选择器是错误的，web-driver 找不到元素。

好吧，由于您没有发布您的代码，并且我无法打开您输入的网站的链接，所以我可以给您一个示例代码，我会尽可能详细地计算。

```
from selenium import webdriver

driver = webdriver.Firefox()
driver.get("url")
number_option = driver.find_element_by_id("id_for_25_option_indicator")
number_option.click()
date_option = driver.find_element_by_id("id_for_today_option_indicator")
date_option.click()
search_button = driver.find_element_by_id("id_for_search_button")
search_button.click()
all_results = driver.find_elements_by_xpath("some_xpath_that_is_common_between_all_job_results")

result_file = open("result_file.txt", "w")

for result in all_results:
    result_file.write(result.text + "\n")

driver.close()
result_file.close() 
```

既然你说你最近才开始学习编码，我想我必须给出一些解释：

1.  我建议您`driver.find_element_by_id`在所有情况下都使用元素具有 ID 属性。它更健壮。
2.  代替`result.text`，您可以使用`result.get_attribute("value")`或`result.get_attribute("innerHTML")`。

这一切都在我脑海中浮现；但如果您发布您的代码，我们会看到它有什么问题，这会更好。此外，如果您给我一个指向该网站的新链接，那就太好了，这样我就可以在代码中添加更多细节；您当前的链接已损坏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-17T13:42:16.983

关于第一个问题，您可以简单地使用无头浏览器。Chrome 和 Firefox 都可以做到这一点。在这里查看 Gray Li 的答案，例如：[Python - Firefox Headless](https://stackoverflow.com/questions/10060417/python-firefox-headless)

```
from selenium import webdriver
options = webdriver.FirefoxOptions()
options.add_argument('headless')
driver = webdriver.Firefox(options=options) 
```

# python - Python中的“类型”和“对象”有什么区别

> ID：15715612
> 
> 赞同：24
> 
> 时间：2013-03-30T06:15:31.577
> 
> 标签：python, object, types

我在阅读有关关键字的python[文档时遇到了这个问题：](http://docs.python.org/2/library/functions.html#super)`super`

*如果省略第二个参数，则返回的超级对象是未绑定的。如果第二个参数是对象，则 isinstance(obj, type) 必须为真。如果第二个参数是一个类型，issubclass(type2, type) 必须为真（这对类方法很有用）。*

有人可以给我一个例子来说明传递类型作为第二个参数与传递对象之间的区别吗？

文档是否在谈论对象的实例？

谢谢你。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-30T21:39:27.777

Python 的`super`函数根据它的参数做不同的事情。以下是使用它的不同方式的演示：

```
class Base(object):
    def __init__(self, val):
        self.val = val

    @classmethod
    def make_obj(cls, val):
        return cls(val+1)

class Derived(Base):
    def __init__(self, val):
        # In this super call, the second argument "self" is an object.
        # The result acts like an object of the Base class.
        super(Derived, self).__init__(val+2)

    @classmethod
    def make_obj(cls, val):
        # In this super call, the second argument "cls" is a type.
        # The result acts like the Base class itself.
        return super(Derived, cls).make_obj(val) 
```

测试输出：

```
>>> b1 = Base(0)
>>> b1.val
0
>>> b2 = Base.make_obj(0)
>>> b2.val
1
>>> d1 = Derived(0)
>>> d1.val
2
>>> d2 = Derived.make_obj(0)
>>> d2.val
3 
```

结果`3`是前面的修饰符的组合：1 (from `Base.make_obj`) 加上 2 (from `Derived.__init__`)。

请注意，可以`super`只使用一个参数调用来获取“未绑定”的超级对象，这显然没有多大用处。除非您想弄乱 Python 内部结构并且您*真的*知道自己在做什么，否则没有任何理由这样做。

在 Python 3 中，你也可以`super`不带参数调用（相当于上面函数中的调用，但更神奇）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T20:46:34.467

下面对这两个函数做一个简单的探索。通过这个练习，我发现它很有启发性。我经常会创建一个简单的程序来探索简单函数的来龙去脉并保存以供参考：

```
#
# Testing isinstance and issubclass
#

class C1(object):
    def __init__(self):
        object.__init__(self)

class B1(object):
    def __init__(self):
        object.__init__(self)

class B2(B1):
    def __init__(self):
        B1.__init__(self)

class CB1(C1,B1):
    def __init__(self):
        # not sure about this for multiple inheritance
        C1.__init__(self)
        B1.__init__(self)

c1 = C1()
b1 = B1()
cb1 = CB1()

def checkInstanceType(c, t):
    if isinstance(c, t):
        print c, "is of type", t
    else:
        print c, "is NOT of type", t

def checkSubclassType(c, t):
    if issubclass(c, t):
        print c, "is a subclass of type", t
    else:
        print c, "is NOT a subclass of type", t

print "comparing isinstance and issubclass"
print ""

# checking isinstance
print "checking isinstance"

# can check instance against type
checkInstanceType(c1, C1)
checkInstanceType(c1, B1)
checkInstanceType(c1, object)

# can check type against type
checkInstanceType(C1, object)
checkInstanceType(B1, object)

# cannot check instance against instance
try:
    checkInstanceType(c1, b1)
except Exception, e:
    print "failed to check instance against instance", e

print ""

# checking issubclass
print "checking issubclass"

# cannot check instance against type
try:
    checkSubclassType(c1, C1)
except Exception, e:
    print "failed to check instance against type", e

# can check type against type
checkSubclassType(C1, C1)
checkSubclassType(B1, C1)
checkSubclassType(CB1, C1)
checkSubclassType(CB1, B1)

# cannot check type against instance
try:
    checkSubclassType(C1, c1)
except Exception, e:
    print "failed to check type against instance", e 
```

**编辑：** 还要考虑以下内容，因为 isinstance 可能会破坏 API 实现。一个例子是一个像字典一样的对象，但不是从 dict 派生的。isinstance 可能会检查对象是否为字典，即使该对象支持字典样式访问： [isinstance 被认为是有害的](http://www.canonical.org/~kragen/isinstance/)

**编辑2：**

> 有人可以给我一个例子来说明传递类型作为第二个参数与传递对象之间的区别吗？

在测试了上面的代码后，它告诉我第二个参数必须是一个类型。所以在以下情况下：

```
checkInstanceType(c1, b1) 
```

调用将失败。可以写成：

```
checkInstanceType(c1, type(b1)) 
```

因此，如果您想检查一个实例与另一个实例的类型，您必须使用 type() 内置调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T07:09:16.097

**对象可以是任何 Python 类实例**，它可能是用户定义的，也可能不是用户定义的。但是，当您谈论**type**时，它**​​指的是默认对象/集合**，例如 list/tuple/dict/int/str 等。

# hadoop - 自定义分区错误

> ID：15715618
> 
> 赞同：0
> 
> 时间：2013-03-30T06:16:23.723
> 
> 标签：hadoop, partitioner

我正在编写自己的自定义 Partitioner(Old Api) 下面是我扩展 Partitioner 类的代码：

```
public static class WordPairPartitioner extends Partitioner<WordPair,IntWritable> {

   @Override
   public int getPartition(WordPair wordPair, IntWritable intWritable, int numPartitions) {
        return wordPair.getWord().hashCode() % numPartitions;
    }
} 
```

设置 JobConf：

```
conf.setPartitionerClass(WordPairPartitioner.class); 
```

WordPair 类包含：
私有文本字；
私人文本邻居；

问题：
1\. 我收到错误：“实际参数类 (WordPairPartitioner) 无法转换为类 (?extends Partitioner)
。2\. 这是编写自定义分区器的正确方法，还是我还需要覆盖其他一些功能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T12:24:45.483

我相信您正在混淆旧 API（来自 的类`org.apache.hadoop.mapred.*`）和新 API（来自 的类`org.apache.hadoop.mapreduce.*`）

使用旧 API，您可以执行以下操作：

```
import org.apache.hadoop.io.Text;
import org.apache.hadoop.mapred.JobConf;
import org.apache.hadoop.mapred.Partitioner;
public static class WordPairPartitioner implements Partitioner<WordPair,IntWritable> {

   @Override
   public int getPartition(WordPair wordPair, IntWritable intWritable, int numPartitions) {
        return wordPair.getWord().hashCode() % numPartitions;
    }

   @Override
   public void configure(JobConf arg0) {

   }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T14:16:44.993

除了 Amar 的回答之外，您还应该处理 hashCode 通过位掩码返回负数的可能性：

```
@Override
public int getPartition(WordPair wordPair, IntWritable intWritable, int numPartitions) {
    return (wordPair.getWord().hashCode() % numPartitions) & 0x7FFFFFFF;
} 
```

# javascript - Ember.application.create 参数

> ID：15715619
> 
> 赞同：0
> 
> 时间：2013-03-30T06:16:29.220
> 
> 标签：javascript, ember.js, requirejs

我正在探索 Ember.js 演示应用程序之一，我发现除了通常的 VERSION 和 rootElement 之外，还有许多参数被传递给 Ember.Application.create()。该演示使用我理解为 AMD 的 require.js。

Ember.js 在其 v1.0 中是否不会根据需要自行加载 javascript？如果是这样，我不完全理解为什么需要使用 require.js..

其次，如果 require.js 有一个用例，那么将控制器名称和视图名称等参数传递给 Ember.Application.create() 以引导应用程序有什么用。

```
// Define libraries
require.config({
    paths:{
        jquery:'lib/jquery-1.8.0.min',
        handlebars:'lib/handlebars',
        ember:'lib/ember_1.0pre',
        ember_data:'lib/ember-data5',
        text:'lib/require/text',
        md5:'lib/md5',
        //domready:'lib/require/domReady',
        spin:'lib/spin'
    },

    shim:{
        'ember':{
            deps:[ 'jquery', 'handlebars'],
            exports:'Ember'
        },
        'ember_data':{
            deps:[ 'ember'],
            exports:'DS'
        }
    },

      waitSeconds:15,
        urlArgs:"bust=" + (new Date()).getTime()  //cancel caching for network requests,for development.
});

// Define application
define('application', [
    'routes/app_router',
    'controllers/application_controller',
    'controllers/contacts_controller',
    'controllers/contact_controller',
    'controllers/edit_contact_controller',
    'controllers/login_controller',
    'views/application_view',
    'views/contact_in_list_view',
    'views/contacts_view',
    'views/contact_view',
    'views/edit_contact_view',
    'views/login_view',
    'models/contact',
    'jquery',
    'handlebars',
    'ember',
    'ember_data',
   // 'domready',
    'spin'

], function (Router,
                       ApplicationController,
                       ContactsController,
                        ContactController,
                        EditContactController,
                        LoginController,
                        ApplicationView,
                        Contact_In_List_View,
                        ContactsView,
                        ContactView,
                        EditContactView,
                        LoginView,
                        Contact       )
    {
        return  Ember.Application.create({
            VERSION: '1.0.0',
            rootElement:'#main',
            // Load router
            Router:Router,
            //Load Controllers
            ApplicationController:ApplicationController,
            ContactsController:ContactsController,
            ContactController:ContactController,
            EditContactController:EditContactController,
            LoginController:LoginController,
            //Load associated Views
            ApplicationView:ApplicationView,
            Contact_In_List_View:Contact_In_List_View,
            ContactsView:ContactsView,
            ContactView:ContactView,
            EditContactView:EditContactView,
            LoginView:LoginView,
            //Load Contact Model
            Contact:Contact,
            //Persistence Layer,using default RESTAdapter in ember-data.js.
            store:DS.Store.create({
                revision:5,
                adapter:DS.RESTAdapter.create({
                    bulkCommit:false,
                    serializer:DS.Serializer.create({
                        primaryKey:function (type) {
                        return type.pk;
                        }
                    }),
                    mappings:{
                        contacts:Contact
                    },
                    namespace:'api'    //you should change the first segment according to the  application's  folder path on the server.
                })
            }),
            ready:function () {
            }
        });
    }
); 
```

前 - application_controller.js

```
define('controllers/application_controller',
    ['ember' ],
    function () {
        return Ember.Controller.extend({
            loggedin:false
        });
    }
); 
```

# c - 将十进制转换为指数和尾数

> ID：15715622
> 
> 赞同：2
> 
> 时间：2013-03-30T06:16:45.453
> 
> 标签：c

我正在尝试将十进制数（329.39062）转换为二进制（指数，mentissa）。我不断收到分段错误。在运行 gdb 测试时，它向我展示了 feof。我已经改变了很多，但它一直在同一点向我显示分段错误。我哪里错了？谢谢大家的帮助。

```
#include <stdio.h>
#include <stdlib.h>

char* valueToConvert(int value);

int main(int argc, char *argv[])
{
        FILE* input;
        FILE* output;

        input = fopen(argv[1],"r");
        output = fopen(argv[2],"w");

    float value;
    unsigned char *charValue = (unsigned char *) &value;
    int exponentValue;
    long mantissaValue;

    while(!feof(input))
    {
        fread(&charValue, sizeof(float),1, input);
        exponentValue = ((charValue[0] & 0x7F) << 1)|((charValue[1] & 0x80) >> 7);  
        mantissaValue = ((charValue[1] & 0x7F) << 8)|((charValue[2] & 0xFF) <<8) | (charValue[3] & 0xFF);
        fprintf(output,"%d %s %s\n",(charValue[0] & 0x80 >> 7),valueToConvert(exponentValue - 127),valueToConvert(mantissaValue));
    }
}

char* valueToConvert(int value)
{
    int counter = 0;
    char* conversion = calloc(32,sizeof(int));
    while(value>0)
    {
        if((value%2 == 1) && (value%2 != 0))
        {
            conversion[31 - counter++] = '1';
        }
        if((value%2 == 0) && (value%2 != 1))
        {
            conversion[31 - counter++] = '0';
        }
        value = value/2;
    }
    return conversion;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:25:58.677

问题在这里：

```
fread(&charValue, sizeof(float),1, input); 
```

那应该是

```
fread(charValue, sizeof(float),1, input); 
```

因为`charValue`是指针。

* * *

为了解决您的输出问题，您在使用`0`via完全初始化缓冲区后向后填充缓冲区`calloc`，`fprintf`命中`0`（`char`用于表示字符串的结尾）并“过早地”停止也是如此。

这是一个快速的二进制字符串函数：

```
void fast_d2b(int x, char* c) {
    int i;
    for (i = 31; i >= 0; --i) {
        *(c++) = '0' + ((x >> i) & 0x1);
    }
} 
```

它基于[此处](http://www.cs.brandeis.edu/~gim/Papers/fast_d2b.pdf)显示的内容。唯一的区别是我的变体不会向后写入缓冲区，而是写入`'0'`and`'1'`而不是整数值`0`and `1`。

# ios - 用于管理用于解析 JSON 的字符串文字的工具

> ID：15715626
> 
> 赞同：0
> 
> 时间：2013-03-30T06:17:20.337
> 
> 标签：ios, json

我们在我们的应用程序中解析了很多 JSON - 如果没有后端，这将是一个非常无用的应用程序。我知道这也适用于许多其他应用程序。为了解析 JSON，我们需要一个键列表来获取数据。我想知道管理这些路径/字符串文字被认为是“最佳实践”或至少是“该死的好实践”。是否有工具可以帮助管理此类密钥并减少重复？

1.  对它们进行硬编码绝对不是一种选择，但坦率地说，如果我们的后端程序员更改密钥，从概念上讲，在 XCode（或您使用的任何 IDE）中进行简单的查找/替换就足够了。它既丑陋又不干净，我只是觉得在我的代码中到处都是字符串文字很脏。

2.  我现在正在做的是将它们全部放入我的 PCH 文件中，这意味着我最终得到：

    `#define kBookmarksSearchResultsIDFieldName @"business.id"`

    `#define kBookmarksSearchResultsNameFieldName @"business.name"`

    `#define kBookmarksSearchResultsThumbnailURLFieldName @"business.display_image.images.small_mobile.source"`

    `#define kBookmarksBusinessCategoryArrayFieldName @"business.categories"`

    虽然现在我的 PCH 文件中有大约 1000 行这些东西，但这确实很快变得笨拙。

3.  我正在考虑的另一个选择是将它们分解为单独的 .h 文件 - 但是如果我的应用程序的两个组件最终使用相同的密钥（例如，一个`business`对象嵌入到 JSON 中作为书签，或用于审查该业务的）然后我必须导入包含`business`对象的 JSON 路径的 .h。所以在这种情况下，我仍然导入所有相同的数据，只是文件组织更干净。

我的目标是：

1.  轻松管理用于解析 JSON 的字符串文字
2.  减少所需的重复数量
3.  如果/需要时轻松更改/替换 JSON 路径

我上面列出的选项 3（单独的 .h 文件）是我的最佳选择吗？你们用什么，我错过了一个简单的工具吗（不，JSONModel 不是一个选项，因为它需要您的 JSON 密钥来匹配您的 ivar/属性名称 - 我们的后端支持许多平台，所以我们不能只为 iOS 更改 JSON 密钥）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:42:12.233

研究使用诸如[RestKit 之](http://restkit.org)类的库，它允许您将 JSON 文档映射到一组 Objective-C 类。这意味着您可以读取文档并获取可以通过属性操作的对象数组，而不必跟踪键名。这要容易得多，并且 Xcode 会在您使用类时自动完成您的属性名称。

它需要一些设置，但您只需执行一次。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-30T15:36:29.057

Just to update this answer - there's a very cool library called [Mantle](https://github.com/MantleFramework/Mantle) - not perfect, there are some issues with typecasting but still a very solid effort.

# php - 如何使用javascript传递带有/或任何其他特殊字符的字符串

> ID：15715634
> 
> 赞同：0
> 
> 时间：2013-03-30T06:18:05.597
> 
> 标签：php, javascript

我正在调用一个 javascript 函数，例如

```
echo "<td name='patient' width='60px' class='filter' Onclick='patient($id,$pid,$sid);return false;' ><a  >".$pid."</a></td>"; 
```

这里的 pid 类似于 242 或 243/3 或 243@3。

如果它是一个数字，它的工作完美。

但是具有特殊字符它不起作用

有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:31:51.160

试试这个

```
echo "<td name='patient' width='60px' class='filter'>";
echo "<a href='#' onclick='patient(\"".$id."\",\"".$pid."\",\"".$sid."\");return false;'>".$pid."</a></td>"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:37:40.503

你可以 `escape(variable name)`在javascript函数中使用

# php - 根据当前日期获取记录

> ID：15715640
> 
> 赞同：2
> 
> 时间：2013-03-30T06:18:55.423
> 
> 标签：php, mysql

任何人都可以解释我将如何根据日期显示我的表格记录，就像我网站的任何用户都只能看到他们当前日期的活动......

```
while($data=mysql_fetch_array($rs))
    {
    $data["create_date"]=date("M d,y" , $data[create_date]); 
```

我正在使用它，但它也显示以前的日期结果

这是我的代码，我正在从不同的表中获取结果

```
$SQL="select * from  $tab  where 1 $con ORDER BY id desc $_REQUEST[sort_mode] $con_limit";
     while($data=mysql_fetch_array($rs))
        {
        $data["create_date"]=date("M d,y" , $data[create_date]);

    gri("users","WHERE id='$data[op_id]' ","",$op_name);
    gri("patient", " where id ='$data[patient_id]' order by id desc","",$patient);
        $data[first_name]=$patient[first_name];
        $data[last_name]=$patient[last_name];
        $data[age]=$patient[age];$data[sex]=$patient[sex];
        $data[mob]=$patient[mob];
        $data[op_name]=$op_name[name];
        $t->set_var($data);
        $t->set_var(array("chk_status_$data[id]_$data[status]"=>"selected",));
        $t->parse("ABlockList","AccessBlockList",true);
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:27:46.833

您也可以使用`MySQL`它。

**例子**

```
select * from table_name where create_date >= NOW(); 
```

**或者**

```
SELECT * FROM table_name  WHERE DATE(create_date) = CURDATE(); 
```

**或者**

```
SELECT * FROM table_name WHERE DATE(create_date) = DATE(NOW()) 
```

> `DATE()`返回没有时间的日期并`NOW()`返回当前`date & time`日期（注意我们在这个查询中使用了 DATE() 函数来删除时间）

# lotus-notes - Lotus Notes - 文档没有显示在视图中，但是当我进行搜索时它会出现

> ID：15715645
> 
> 赞同：0
> 
> 时间：2013-03-30T06:19:40.817
> 
> 标签：lotus-notes, lotus-domino, lotus, lotus-formula, notesview

我有一个 Lotus Notes 数据库，其中一个视图显示为空，但是当我进行搜索（使用基本注释搜索功能）时，它会返回一些文档。这怎么可能？以及如何使这些文档显示在视图中。

我尝试更新文档的 Readers 字段，但这也没有用。

请帮忙。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T17:51:28.830

There is very high probability your view shows response documents, but not their parent/main document. Response hierarchy is ignored after FT search, therefore they show up.

Simply, turn off "Show response documents in a hierarchy" in view properties or rewrite selection formula.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T09:41:47.893

首先检查视图是否实际上是空的。您可以在视图中有文档，但由于它们没有与列匹配的字段，它们将不可见。

双击文档应该在的空白处，或 CTRL-A（全选）。或者向下翻页多次，因为您找到的文档可能会向下翻页。

我建议您检查相关视图的搜索条件，以确保您不会意外拉入不适合该视图的文档。

如果这不起作用（老实说我从未见过），全文索引搜索的工作方式如下。

1.  使用搜索词调用 FTI 文件夹。

2.  获取与搜索匹配的文档列表。

3.  根据以下内容丢弃该列表中的文档。

    *   是否允许用户查看文档？
    *   正常情况下文档会出现在视图中吗？
    *   该文件是否已被删除？
    *   （原因逃不过我，会查一下）
4.  然后它会在视图中显示这些文档。

所以简而言之，全文索引搜索将永远不会显示无法在视图中显示的文档。

Beyond that, a possible corrupted view index. You can run "UPDALL -v" on it to rebuild the indexes.

[http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/topic/com.ibm.help.domino.admin85.doc/H_UPDALL_OPTIONS_3277_STEPS.html](http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/topic/com.ibm.help.domino.admin85.doc/H_UPDALL_OPTIONS_3277_STEPS.html)

# windows-phone-7 - 在 DataTemplate 中应用动画

> ID：15715646
> 
> 赞同：0
> 
> 时间：2013-03-30T06:19:59.320
> 
> 标签：windows-phone-7, expression-blend

我有一个具有以下结构的列表框。数据显示良好，没有问题。我想为 StackPanel 获得一些动画效果，但由于它位于 DataTemplate 内，我无法使用 Blend 来获得我想要的动画效果。

我想我可以为此编写一个事件处理程序和代码，但这是实现 ListBox 项动画的最佳方法吗？

```
 <ListBox Height="600" ItemsSource="{StaticResource learn}">
  <ListBox.ItemTemplate>
  <DataTemplate>
       <StackPanel Height="100" Orientation="Horizontal">
           <TextBlock Width="0" Text="{Binding ID}" />
           <Image Height="100" Width="100"/>
           <StackPanel Orientation="Vertical" Width="319" VerticalAlignment="Center">
              <TextBlock TextWrapping="Wrap" Text="{Binding Text}" Margin="6,0,0,0" FontSize="29.333" />
               <TextBlock TextWrapping="Wrap" Text="{Binding Description}" Margin="6,0,0,0" FontSize="16"/>
           </StackPanel>
       </StackPanel>
   </DataTemplate>
   </ListBox.ItemTemplate>
   </ListBox> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T10:19:00.233

好的，您需要做的就是创建一个新的用户控件并将所有动画添加到该用户控件并在您想要的位置开始动画。在列表框数据模板中，创建该数据模板的实例。

重现步骤：

1.  在项目中创建一个新的用户控件。
2.  在混合中将动画提供给该用户控件的动画。
3.  在数据模板中添加用户控件。
4.  在任何你想要的地方开始动画。

替代方案：无需创建新的用户控件，您可以通过创建故事板并应用所需的转换来指定动画。这为所有列表框项提供了一个通用动画。

# objective-c - 如何在 Storyboard iOS 中制作一个通用的 UIViewController？

> ID：15715647
> 
> 赞同：0
> 
> 时间：2013-03-30T06:20:04.537
> 
> 标签：objective-c, xcode, cocoa-touch, storyboard

例如，我有一个问题 UIViewController。我可以设置这个问题界面（添加其他视图）；之后，我想在当前界面单击一个按钮，将我带到另一个问题界面。

故事板中有解决方法吗？我可以通过使用 xib 文件（NavigationController push）来实现它。我希望我已经在这个问题上说清楚了。

这就像一个常见的`UIViewController`，故事板有这样的概念吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:45:32.957

您需要使用 segues，这是故事板的基本技术。

参见例如[这个](http://developer.apple.com/library/ios/#recipes/xcode_help-interface_builder/articles/StoryboardSegue.html)帮助文件/视频。

# ios - UIViewController 的 beginAppearanceTransition:animated: 方法在 iOS5 中是否可用

> ID：15715657
> 
> 赞同：3
> 
> 时间：2013-03-30T06:22:22.590
> 
> 标签：ios, uiviewcontroller

我需要`beginAppearanceTransition:animated:`在一个`UIViewController`子类中使用通过自定义动画转换实现控制器包含。我至少需要支持 iOS5。

苹果[文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/beginAppearanceTransition%3aanimated%3a)说方法是：

> 适用于 iOS 6.0 及更高版本

然而 UIViewController.h 的方法标记为：

> __OSX_AVAILABLE_STARTING(__MAC_NA,__IPHONE_5_0)

我希望文档是错误的。谁能给我一个明确的答案，我是否可以在 iOS5 中调用它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-29T13:42:39.083

我向 Apple 提交了一份关于此差异的错误报告，并得到回复说这些方法在 iOS 5.0 中可用。标题是正确的，文档是错误的。我已经提交了另一份报告，要求更新文档...

这些方法已添加到 iOS 6 SDK 中的公共标头中，但可以在运行 iOS 5.0 的设备上使用。

**更新（2013 年 8 月 28 日）**

[文档](https://developer.apple.com/library/ios/documentation/uikit/reference/UIViewController_Class/Reference/Reference.html)已更新以表明这一点，`beginAppearanceTransition:animated:`并且`endAppearanceTransition`可在 iOS 5.0 上使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T10:36:49.780

根据我的经验，当有疑问时，标题更准确。文档是使用标题生成/编写的。所以我假设此时支持 iOS 5。

**现在我在模拟器上测试了它。**一次用于 5.0，一次用于 iOS 6.1，每当您推送或弹出 vc 时，都会在两个版本上调用飞蛾。

# android - 没有执行此操作的应用程序 - 对话框总是出现

> ID：15715661
> 
> 赞同：1
> 
> 时间：2013-03-30T06:22:45.910
> 
> 标签：android

我正在尝试通过发送短信在两个应用程序之间进行通信。这是我的第一个应用程序，其中包含一个按钮，该按钮将调用操作发送，以便所有其他具有操作发送的应用程序出现在此对话框上。

```
((Button) findViewById(R.id.button1))
        .setOnClickListener(new OnClickListener() {
            @Override  
            public void onClick(View arg0) {
                Intent intent = new Intent(); 
                intent.setAction(Intent.ACTION_SEND);
                intent.putExtra("ComingFrom", "Activity 1");  
                final int result = 1;
                startActivityForResult(Intent.createChooser(intent, "Sending File..."),result); 
            }
        }); 
```

现在这是我的第二个应用程序，将获得意图。

```
// Get the intent that started this activity
Intent intent = getIntent();
Uri data = intent.getData();

if (intent != null) {
    // Figure out what to do based on the intent type
    if (intent.getType().indexOf("image/") != -1) {
        // Handle intents with image data ...
    } else if (intent.getType().equals("text/plain")) {
        // Handle intents with text ...
    }
} 
```

这是我的第二个应用程序清单，其中包含操作 SEND。

```
<intent-filter>
            <action android:name="android.intent.action.SEND" />

            <category android:name="android.intent.category.DEFAULT" />

            <data android:mimeType="text/plain" />
            <data android:mimeType="image/*" />
        </intent-filter> 
```

但问题是我没有得到一个显示我的其他应用程序的对话框，而是显示没有应用程序来执行此操作。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T06:43:53.483

当你启动你的意图时，你还应该在你的包中添加一个 mimetype 属性。

```
 intent.setType("text/plain"); 
```

例如。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:49:05.597

您需要使用此设置类型以发送文本、图像等，因为类型是 mime 类型。

for simple text or plain text you need to use text/plain or for image you need to set image/*

if you attaching any image file or not then also it'll open default application in android

```
intent.setType("text/plain"); 
```

or for (using with image file sending)

```
intent.setType("image/*"); 
```

# sql - SQL Server：在大视图中对每一列进行不同的计数

> ID：15715665
> 
> 赞同：1
> 
> 时间：2013-03-30T06:23:04.977
> 
> 标签：sql, tsql, sql-server-2012

我有一个大型 SQL Server 2012 数据库，其中包含需要分析的几个视图。

对于每个视图，我想知道的是视图中每一列的唯一值的数量。我找不到任何可以给我这个的脚本。

所以输入应该是视图名称，输出应该是两行，如：

```
Column         Uniques
accountid      200
accountname    178
numberofemp     23
telephone      154
notusedyet       0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:25:12.673

您需要将`COUNT()`（*聚合函数*）与*Distinct*一起使用以仅计算唯一值。

```
SELECT  [column], COUNT(DISTINCT value) [Uniques]
FROM    tableName
GROUP   BY [column] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T07:14:10.057

`count(distinct [ColA])`通过您要计算的每一列（否`group by`）为每一列获取不同的计数。然后，您可以取消透视以获得所需的表格格式。这是一个例子：

```
;with DistinctColumnCount( Id, Description )
as
(
    select
        count(distinct Id) Id
        , count(distinct Description) Description
    from
        EntityB
)

SELECT CountColumn, [Count].[DistinctCount]
FROM 
    DistinctColumnCount
unpivot
    ( DistinctCount for CountColumn in ( Id, [Description] ) ) as [Count] 
```

# android - Android：根据设备更改字体大小

> ID：15715667
> 
> 赞同：0
> 
> 时间：2013-03-30T06:23:58.343
> 
> 标签：android, android-layout, textview

我需要构建一个文本视图，它应该自动处理屏幕大小并相应地调整字体大小，以便在所有设备中填充相同百分比的屏幕。因此我使用了 dp。我也试过sp。但我做不到。请帮助。

提前致谢。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#ffffff"
android:orientation="vertical"  > 

                <TextView
                    android:id="@+id/tvValue4"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="I planned to use different font size for the textview on different device size so as to make the letters legible. I have already decided not to use different layouts for different devices and built a common layout to fit in all the devices. Now the only problem is on the text size."
                    android:textColor="#000000"  
                    android:textSize="15sp" />

</LinearLayout> 
```

![在此处输入图像描述](../Images/d5102b819a422c5ea819e65ca12c7cdc.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:55:14.103

您可以设置不同屏幕尺寸的布局如下

```
res/layout/main_activity.xml           # For handsets (smaller than 600dp available width)
res/layout-sw600dp/main_activity.xml   # For 7” tablets (600dp wide and bigger)
res/layout-sw720dp/main_activity.xml   # For 10” tablets (720dp wide and bigger) 
```

[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

# android - Android 4.1 How to read APN Details

> ID：15715668
> 
> 赞同：1
> 
> 时间：2013-03-30T06:24:03.213
> 
> 标签：android, mms

In `Android 4.1 (Jelly Beans)` cannot access the `APN` details. When i try to access the `APN` details using

```
final Cursor apnCursor = this.context.getContentResolver().query(Uri.withAppendedPath(Carriers.CONTENT_URI, "current"), null, null, null, null); 
```

In my program I wanna send a mms without using the Intent.

This will return a error saying I don't have write apn permission to access the APN details.

Then I added the following line to android manifest:

```
<uses-permission android:name="android.permission.WRITE_APN_SETTINGS"/> 
```

this prompt the error permission is only granted to system apps.

So how can I solve this?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T11:22:59.963

Send your MMS via the `Intent`.

For security reasons, you cannot read APN details without `WRITE_APN_SETTINGS`, and that permission requires your app to be signed by the same signing key that signed the firmware *or* for your app to be installed on the system partition (e.g., by a rooted device user).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-31T16:07:11.850

我认为这是一个编译错误。在我的情况下（我想要相同的权限 WRITE_APN_SETTINGS），在清理项目（Eclipse->project->clean）之后。编译错误提示将消失。

# angularjs - 如何在 AngularJS 中停止 $watching？

> ID：15715672
> 
> 赞同：79
> 
> 时间：2013-03-30T06:24:24.350
> 
> 标签：angularjs, angularjs-scope

我可以在 AngularJS 范围内设置一个 $watch，以便在我感兴趣的表达式发生更改时收到通知。但是一旦我失去兴趣，我该如何停止观看呢？

* * *

## 回答 #1

> 赞同：146
> 
> 时间：2013-03-30T06:28:24.877

当调用`$watch`一个取消注册绑定表达式的函数时返回。

例如，观察一个变量`foo`只改变一次：

```
var unregister = $scope.$watch('foo', function () {
  // Do something interesting here ...
  unregister();
}); 
```

希望有帮助:-)

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2014-07-14T10:13:23.790

作为附加评论，但不回答 - 这也是杀死事件侦听器的相同原则。

```
var unregister = $rootScope.$on("listen-for-something-cool", function($event, params) {
   //Do cool stuff with params, then kill it
   unregister();
}; 
```

只是我认为其他人知道会很酷的一个补充......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-09-20T18:15:59.860

我不确定接受的答案是如何工作的！对我来说，它根本不起作用。

我使用的是 $watchCollection 而不是 $watch。然后我尝试将其更改为 $watch 并应用接受的答案，但无处可去！

唯一对我有用的是：

```
var watchFoo = $scope.$watch('foo', function () {
  // Do something interesting here ...

    return;
}); 
```

**返回;** 正在注销手表并打破手表循环。即使在循环中断后它也能正常工作。它能够检测到阵列上所做的更改。

我的代码看起来像：

```
var watchFoo = $scope.$watchCollection('foo', function (newFoo, oldFoo) {

     if(condition) {
         // Do something interesting here ...      
          return;
     } else {
         // Do something else here ...
     }

    }); 
```

如果它适合您，可以使用接受的答案，否则这个答案会派上用场！

# php - phpMyAdmin Auth 方法和强制 SSL 未按预期工作

> ID：15715674
> 
> 赞同：1
> 
> 时间：2013-03-30T06:24:51.957
> 
> 标签：php, mysql, apache, phpmyadmin

关于这个经过搜索的谷歌，我在这里经历了几个问答，但我不知所措。

我已经安装了 phpMyAdmin，我想强制 SSL 登录。我还想使用基于 cookie 的身份验证和 HTML 登录屏幕。据我所知，一切都设置正确。例如，我正在使用该`$cfg['Servers'][$i]['auth_type'] = 'cookie';`指令，并且我有一个配置为 42 个字符的河豚密码。但是，当我访问我的页面时，我会像基本身份验证一样弹出用户名和密码。

此外，我`$cfg['ForceSSL'] = true;`指定了指令。但是，当我访问该页面时，我没有被重定向到该`https://`页面的版本。

有任何想法吗？我已经`AllowOverride All`在我的 Apache httpd.config 中设置了。我还启用了重写和 SSL 模块。

如果有帮助，下面是我的*干净文件。* `conf.inc.php`

```
<?php
/*
 * Generated configuration file
 * Generated by: phpMyAdmin 3.5.7 setup script
 * Date: Sat, 30 Mar 2013 04:36:10 +0000
 */

/* Servers configuration */
$i = 0;

/* Server: My Database [1] */
$i++;
$cfg['Servers'][$i]['verbose'] = 'My Database';
$cfg['Servers'][$i]['host'] = 'localhost';
$cfg['Servers'][$i]['port'] = '';
$cfg['Servers'][$i]['socket'] = '';
$cfg['Servers'][$i]['ssl'] = true;
$cfg['Servers'][$i]['connect_type'] = 'socket';
$cfg['Servers'][$i]['extension'] = 'mysqli';
$cfg['Servers'][$i]['compress'] = true;
$cfg['Servers'][$i]['auth_type'] = 'cookie';
$cfg['Servers'][$i]['user'] = '';
$cfg['Servers'][$i]['password'] = '';
$cfg['Servers'][$i]['CountTables'] = true;
$cfg['Servers'][$i]['tracking_version_auto_create'] = true;

/* End of servers configuration */

$cfg['UploadDir'] = '';
$cfg['SaveDir'] = '';
$cfg['blowfish_secret'] = 'mysuperawesomesecret';
$cfg['ForceSSL'] = true;
$cfg['UserprefsDeveloperTab'] = true;
$cfg['ShowPhpInfo'] = true;
$cfg['LeftDisplayServers'] = true;
$cfg['DisplayServersList'] = true;
$cfg['SQLValidator']['use'] = true;
$cfg['SQLQuery']['Validate'] = true;
$cfg['QueryHistoryDB'] = true;
$cfg['RetainQueryBox'] = true;
$cfg['DefaultLang'] = 'en';
$cfg['ServerDefault'] = 1;
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T20:45:40.710

好的。我想到了。正如我所怀疑的那样，这是愚蠢的。

我使用了 EPEL 的以下软件包：`phpMyAdmin.noarch 3.5.7-1.el6 @epel`.

事实证明，这个包将一个文件放在我不知道的位置，即`/etc/phpMyAdmin/config.inc.php`. 该文件覆盖了我在 phpMyAdmin 根文件夹中指定的每个指令。

我正在使用`centOS 6.2`. 希望这个答案可以帮助将来的人:-)

# normalization - 特征级融合的归一化技术

> ID：15715675
> 
> 赞同：2
> 
> 时间：2013-03-30T06:24:59.090
> 
> 标签：normalization, biometrics

我目前正在研究面部和指纹模式的特征级融合。我使用了 Gabor 小波（8 个方向和 5 个尺度）来提取特征。后来我使用了 PCA 和 LDA。应该使用哪种技术来归一化特征向量（因为它们来自异构源）以进行特征级融合？何时应该在特征向量融合（简单连接）之前或特征向量融合之后应用归一化？

# android - 点击按钮打开页面

> ID：15715678
> 
> 赞同：0
> 
> 时间：2013-03-30T06:25:19.143
> 
> 标签：android

我不确定为什么，但是单击时按钮不起作用。它只是说该活动已停止工作，然后退出程序。它使用 8 级 api 编译并针对 17 级 api。

```
 package com.example.button;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

public void open(MainActivity view) {
    view.loadUrl("http://www.yahoo.org");
}

private void loadUrl(String string) {
    // TODO Auto-generated method stub

}
}

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:paddingBottom="@dimen/activity_vertical_margin"
android:paddingLeft="@dimen/activity_horizontal_margin"
android:paddingRight="@dimen/activity_horizontal_margin"
android:paddingTop="@dimen/activity_vertical_margin"
tools:context=".MainActivity" >

<TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@string/hello_world" />

<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignRight="@+id/textView1"
    android:layout_below="@+id/textView1"
    android:layout_marginTop="38dp"
    android:onClick="open"
    android:text="Button" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:27:18.420

```
public void open(MainActivity view) {
    view.loadUrl("http://www.yahoo.org");
} 
```

`Activity`没有办法`loadUrl`。好像你想在`WebView`这里使用 a 。

--

不过，这不应该让应用程序崩溃，因为您没有`open`在任何地方打电话。这是你所有的代码吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:49:57.150

如果您的方法 open 用于 onClick 属性，在 XML 中设置，则参数不正确。onClick 方法不应该采取`View view`这样的活动：XML：

```
<Button onClick="onClick"/> 
```

爪哇：

```
public void onClick(View view)
{
    //do something when button is clicked
} 
```

传递的这个视图是被点击的按钮。要在 WebView 中打开特定 url，请在 onClick 方法中使用以下代码：

```
 ((WebView)findViewById(android.R.id.WebView)).loadUrl("http://slashdot.org/"); 
```

有关 WebView 的更多信息，请参见[此处](http://developer.android.com/reference/android/webkit/WebView.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T06:50:18.723

按钮在哪里？？webview 在哪里（在您调用网页或 url 以查看您的活动时使用）？分享您的代码，同时检查 android manifest 文件 .. 如果您从一个活动转移到另一个活动，需要像这样提及：

```
 <activity
            android:name=".main"
            android:label="@string/title_activity_main"
            android:screenOrientation="landscape"
            android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
            >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity android:name=".SecondPage"
                    android:screenOrientation="landscape"
           android:theme="@android:style/Theme.NoTitleBar.Fullscreen">
         </activity> 
```

# php - 如何打印所有已定义函数的数组？

> ID：15715686
> 
> 赞同：0
> 
> 时间：2013-03-30T06:26:28.453
> 
> 标签：php

如何打印所有已定义函数的数组？
有时候一个很复杂的php包含很多其他的文件，而且有很多常用的功能，比如zencart页面，我想找到页面的所有功能，怎么办？

```
<?php 

function hello(){}
function world(){}

// how to print all user defined functions?
array(
    [0] => hello
    [1] => world
) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T06:28:08.330

您正在寻找 get_defined_functions() 函数。您可以在 php.net ( [http://php.net/manual/en/function.get-defined-functions.php](http://php.net/manual/en/function.get-defined-functions.php) ) 上阅读更多相关信息。

*来自 php.net 上的示例*

```
<?php
function myrow($id, $data) {
    return "<tr><th>$id</th><td>$data</td></tr>\n";
}

$arr = get_defined_functions();

print_r($arr);
?> 
```

**输出**

```
Array
(
    [internal] => Array
        (
            [0] => zend_version
            [1] => func_num_args
            [2] => func_get_arg
            [3] => func_get_args
            [4] => strlen
            [5] => strcmp
            [6] => strncmp
            ...
            [750] => bcscale
            [751] => bccomp
        )

    [user] => Array
        (
            [0] => myrow
        )

) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T06:28:13.203

您可以按如下方式打印定义的函数：

```
$arr = get_defined_functions();

print_r($arr); 
```

文档[在这里](http://php.net/manual/en/function.get-defined-functions.php)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T06:28:24.617

```
<?php
$functions = get_defined_functions();

$user_defined_functions = $functions["user"];
var_dump($user_defined_functions);
?> 
```

# alchemyapi - AlchemyAPI 获取所有实体的链接

> ID：15715689
> 
> 赞同：0
> 
> 时间：2013-03-30T06:26:55.667
> 
> 标签：alchemyapi

在 Alchemy API 中，是否可以获得所有实体的链接，即使它们没有消除歧义。

例如

```
<entity>
            <type>Country</type>
            <relevance>0.33</relevance>
            <count>2</count>
            <text>britain</text>
        </entity> 
```

即使`britain`不是模棱两可，我也想获取 dbpedia 的链接数据 URL。更准确地说，我想获取所有实体的链接数据

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-08T14:33:47.000

AlchemyAPI 仅为已消除歧义的实体提供链接数据。所以不幸的是，此时您想要做的事情是不可能的。

从[文档](http://www.alchemyapi.com/api/entity/disamb.html)：

> “每当实体成功消除歧义时，API 响应中都会返回附加信息。这包括完全解析、消除歧义的实体名称，以及实体的网站和地理坐标（如果可用）。”

# objective-c - UIWindow 创建 NSAutoresizingMaskLayoutConstraints 而不是 NSLayoutConstraint

> ID：15715690
> 
> 赞同：3
> 
> 时间：2013-03-30T06:26:55.697
> 
> 标签：objective-c, xcode, uikit, autolayout

我创建了一个简单的 iOS 应用程序，该应用程序创建了一个 UIViewController，其中包含一个 View。这是应用程序委托：

```
self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
self.viewController = [[ViewController alloc] init];
self.window.rootViewController = self.viewController;
[self.window makeKeyAndVisible]; 
```

这是 UIViewController 中的代码：

```
- (void)viewDidLoad {
  [super viewDidLoad];
  self.view.translatesAutoresizingMaskIntoConstraints = NO;
}

- (void)viewDidAppear:(BOOL)animated {
  NSLog(@"breakpoint here");
} 
```

我在“断点”行上放了一个断点。运行应用程序并在进入调试器后输入以下内容：

```
(lldb) po [[UIWindow keyWindow] _autolayoutTrace]
$0 = 0x0a056d30 
*<UIWindow:0x8078de0>
|   *<UIView:0xa053fe0> 
```

这是该 UIView 的水平约束：

```
(lldb) po [0xa053fe0 constraintsAffectingLayoutForAxis:0]
$1 = 0x0a05ba60 <__NSArrayM 0xa05ba60>(
<NSLayoutConstraint:0xa059560 H:|-(0)-[UIView:0xa053fe0](LTR)   (Names: '|':UIWindow:0x8078de0 )>,
<NSLayoutConstraint:0xa0595e0 UIView:0xa053fe0.right == UIWindow:0x8078de0.right>,
<NSAutoresizingMaskLayoutConstraint:0x8571520 h=--- v=--- H:[UIWindow:0x8078de0(768)]>
) 
```

所以这是一个简单的问题，所以我理解得更好。如果自动布局应该是新的东西，而不是自动调整掩码，为什么 UIWindow 强制使用 NSAutoresizingMaskLayoutConstraint？我应该使用不同的初始化程序来使 UIWindow 使用常规约束吗？也许我的 UIWindow 上的 initWithFrame 是罪魁祸首？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-09T23:36:06.647

默认情况下，`UIWindow`创建控制器的顶视图`translatesAutoresizingMaskIntoConstraints=YES`以帮助转换。来自[可可开发](http://lists.apple.com/archives/cocoa-dev/2012/Feb/msg00498.html)：

> 默认情况下，对于顶级视图，Xcode 会将 translatesAutoresizingMaskIntoConstraints 的值设置为 YES，包括为视图控制器加载的视图。这样做的原因也是过渡性的：现在 AppKit 视图子类通常期望子视图的 translatesAutoresizingMaskIntoConstraints 设置为 YES，并且大多数应用程序正在过渡。也许在未来的某一天，默认值将更改为 NO。

您可以禁用使用代码，但不能以 Apple 提供的方式更改此行为。您可以使用 swizzling 来完成它，但编写额外的行更文雅：

```
self.window.translatesAutoresizingMaskIntoConstraints = NO; // application:didFinishLaunchingWithOptions:
self.view.translatesAutoresizingMaskIntoConstraints = NO; // viewWillAppear: 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-06T01:50:24.327

我的理解是，如果没有足够的约束，视图和 UIWindow 将依靠自动调整掩码。

约束需要定义大小和原点。没有足够的约束 Auto Layout 将无法定义它们。

WWDC 2012 上[的 Auto Layout by Example应该会有所帮助。](https://developer.apple.com/videos/wwdc/2012/?id=232)

（您对 UIWindow 的自动调整大小蒙版有疑问吗？在我的代码中，我已打开翻译，并且仅在使用自动布局时将其关闭，不过我只是从自动布局开始。）

# php - 将文本写入图像

> ID：15715692
> 
> 赞同：2
> 
> 时间：2013-03-30T06:27:14.707
> 
> 标签：php, watermark

我的服务器上有一张图片，我想给它写文字。像水印一样。我可以在图像中写入文本，但我想为文本添加背景以便于阅读。这是我到目前为止所拥有的。

```
header("Content-type: image/jpeg");
$imgPath = 'pic.jpg';
$image = imagecreatefromjpeg($imgPath);
$color = imagecolorallocate($image, 224, 73, 87);
$string = "Please type the word in the circle.";
$fontSize = 8;
$x = 25;
$y = 200;
imagestring($image, $fontSize, $x, $y, $string, $color);
imagejpeg($image); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:32:04.873

在这个类中，你需要有一个背景`base.png`和字体`arial.ttf`你可以有一个不同的字体，但必须是一个`ttf`。如果你想有不同的字体格式，你必须对代码进行更改

```
 class SecurityImg{
    static function Image_Create($basename){//Create image
       $im =imagecreatefrompng ($basename); 
       //only replace imagecreatefrompng with imagecreatefromjpeg for open jpg instead of png 
       return($im);
    }
    static function PutTextOnImage($text,$baseimage,$angel,$xi,$yi){
       // Create some colors
       $text_color= imagecolorallocate($baseimage, 255, 50, 150);
       // Replace path by your own font path
       $font = 'arial.ttf';
       // Add the text
       imagettftext($baseimage, 15, $angel, $xi, $yi, $text_color, $font, $text);
       return($baseimage);

     }
     static function Create($imgbase,$TEXT){
          $ifp=self::Image_Create($imgbase);
          $im=self::PutTextOnImage($TEXT,$ifp,0,10,20);
          return($im);
     }
  }
  $Securityimg=new SecurityImg(); 
  $im=$Securityimg->Create("base.png","test");
  // Output the image
  // Set the content-type
  header('Content-Type: image/jpeg');

  imagejpeg($im);
  // Using imagepng() results in clearer text compared with imagejpeg()
  imagedestroy($im); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-10T14:47:24.360

看看这个：

```
<?php

$stamp = imagecreatefrompng('stampimg.png');
$im = imagecreatefrompng('mainimage.png');

$marge_right = 10;
$marge_bottom = 10;
$sx = imagesx($stamp);
$sy = imagesy($stamp);

$imgx = imagesx($im);
$imgy = imagesy($im);
$centerX=round($imgx/2);
$centerY=round($imgy/2);

imagecopy($im, $stamp, $centerX, $centerY, 0, 0, imagesx($stamp), imagesy($stamp));

header('Content-type: image/png');
imagepng($im);
imagedestroy($im);
?> 
```

# android - 如何在android的WebView中显示自定义消息？

> ID：15715695
> 
> 赞同：0
> 
> 时间：2013-03-30T06:27:32.277
> 
> 标签：android, android-webview

我正在尝试在 android 中使用 WebView 显示网页，当特定页面未加载时，它会显示带有 URL 的错误消息，说 abcd.com 不可用，如何用我的自定义消息替换错误消息显示网址？

```
 storeLocator.setWebViewClient(new WebViewClient(){

        @Override
        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
            storeLocator.loadUrl("file:///assets/error.html");

        }
        });
        storeLocator.loadUrl("http://goog.c"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:33:42.337

每当出现错误或您的页面不可用时，您可以创建任何您想显示的 html 页面，代码在此处给出 -

```
webview.setWebViewClient(new WebViewClient() {
            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
                webview.loadUrl("file:///android_asset/myerrorpage.html");

            }
        }); 
```

# ios - 在 iOS 中显示图像的内存效率更高的方式？

> ID：15715699
> 
> 赞同：1
> 
> 时间：2013-03-30T06:28:16.100
> 
> 标签：ios, objective-c, uiimageview, uiimage

我有一个照片拼贴应用程序，它从用户的 facebook/instagram/library 中获取一堆照片，并将它们绘制到 UIView 上。为了控制数量，有一个计算密度的滑块工具（例如，每 150px 宽，添加一个图像）。在添加了很多 UIImageViews 之后，我遇到了内存问题。

有没有更好、更有效的方式在屏幕上显示图像？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T06:33:16.630

为什么不使用`UICollectionView`. 它旨在以类似于`UITableVIew`. 就像一个 TableView 内存是由控制器自动管理的。

有关更多信息，请参阅[文档](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionView_class/Reference/Reference.html)。

您没有在问题中明确说明您是如何使用这组图像的。另一种方法是使用 Core Graphics 将图像绘制到图形上下文中。这会将图像绘制到单个视图中，而不是多个视图中。只有一个位图可以保存在内存中。有关示例，请参阅[将 PNG 图像绘制到图形上下文中以进行混合模式操作](https://stackoverflow.com/questions/1936644/drawing-a-png-image-into-a-graphics-context-for-blending-mode-manipulation)。

# sqlite - 在 C# windows phone 8 中使用 Sqlite 的数据库

> ID：15715700
> 
> 赞同：1
> 
> 时间：2013-03-30T06:28:17.640
> 
> 标签：sqlite, windows-phone-8

我对 windows phone 8 应用程序开发有疑问。使用 sqlite for windows phone 8 的数据库是预先加载到应用程序中的，还是应该在安装到 windows phone 时动态创建..？如果它是预加载的，那么如何创建 database.db 文件..？？如果它是动态创建的，那么动态创建的过程是什么......？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:36:03.820

我想说，预加载到应用程序中是非常常见的方式。

看看这篇文章，我认为完成任务的步骤是相同的​​：[http ://wp.qmatteoq.com/import-an-already-existing-sqlite-database-in-a-windows-8-应用/](http://wp.qmatteoq.com/import-an-already-existing-sqlite-database-in-a-windows-8-application/)

第一步是将数据库复制到 Visual Studio 项目中，然后从“属性”窗口中，将“生成”操作设置为“内容”。

完成此操作后，您将能够访问项目中嵌入的文件，这要归功于 Windows.ApplicationModel 命名空间中可用的 Package.Current.InstalledLocation 对象。

InstalledLocation 的类型是 StorageFolder，它是 WinRT 中所有文件夹映射的基类：因此，它公开了与存储交互的所有标准方法，例如获取文件或文件夹。这样，我们可以使用 GetFileAsync 方法获取对嵌入到项目中的数据库的引用，然后使用 CopyAsync 方法将其复制到应用程序的本地存储中。我们可以通过首先使用 GetFolderAsync 方法获取对它的引用，将其复制到本地存储的根目录（如以下示例中）或特定文件夹中。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-04T13:47:05.533

对于那些无法使用 sqlite 的人，我建议他们点击以下链接：[http ://dotnetslackers.com/articles/silverlight/Windows-Phone-7-Native-Database-Programming-via-Sqlite-Client -for-Windows-Phone.aspx](http://dotnetslackers.com/articles/silverlight/Windows-Phone-7-Native-Database-Programming-via-Sqlite-Client-for-Windows-Phone.aspx)并且当您将数据转储到项目中时..您只需要更改“database1.sqlite”的属性，即 Build Action = resource 。这就是你需要做的一切..

# javascript - 元数据查询失败：Breeze JS

> ID：15715701
> 
> 赞同：1
> 
> 时间：2013-03-30T06:28:23.383
> 
> 标签：javascript, knockout.js, asp.net-web-api, breeze

我正在使用 ASP.net Web Api 开发 Breeze JS To Dos 应用程序。当我请求资源时，我收到“元数据查询失败：odata/Todos/Metadata；NaN”。但是当我手动请求 /odata/Todos/Metadata 时，它工作正常。你对此有什么想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-17T01:25:11.357

尝试：

```
var dataService = new breeze.DataService({
    serviceName: "http://localhost:2099/api/yourcontent/",
    hasServerMetadata: false,
});

var manager = new breeze.EntityManager({ dataService: dataService }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-07-06T17:42:47.710

我发现 datajs 的 MaxDataServiceVersion 标头导致 404...

尝试

```
var oldClient = OData.defaultHttpClient;
var myClient = {
    request: function (request, success, error) {
        delete request.headers.MaxDataServiceVersion;
        return oldClient.request(request, success, error);
    }
};
OData.defaultHttpClient = myClient; 
```

# .net - 在 SqlCommand 上传递参数不起作用

> ID：15715715
> 
> 赞同：3
> 
> 时间：2013-03-30T06:30:08.803
> 
> 标签：.net, sql, sql-server, sql-server-2008

我正在尝试运行一个命令将行插入到我的 SQL Server 2012 数据库中，但是我的参数没有传递给代码。

```
con.Open();

string query = @"INSERT INTO [dbo].[Users](Username, Password, Role) 
                 VALUES (@u, @p, @r);";
var cmd = new SqlCommand(query, con);

cmd.Parameters.AddWithValue("@u", username);
cmd.Parameters.AddWithValue("@p", password);
cmd.Parameters.AddWithValue("@r", role);

cmd.ExecuteNonQuery();

con.Close(); 
```

我得到`SqlException`了参数化查询

> '(@u nvarchar(4000),@p nvarchar(4000),@r nvarchar(1))INSERT INTO ' 需要参数 '@u'，但未提供该参数。

我看到它的方式是在执行命令之前传递参数。谁能帮我找出缺少的东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:19:20.537

您的问题不是因为您的查询，而是因为变量**username 是 NULL**。当变量 username 为 null 时，使用 .AddwithValue 不会引发任何错误，但是，它没有设置参数，这就是为什么当您使用该参数时，它返回异常说未提供参数。
使用以下代码，您可以重现您的问题并验证原因。如果你给用户名=string.Empty，它不会给你这个问题。

```
 string connStr = "Data Source=localhost;Initial Catalog=Adventure;Integrated Security=SSPI";
            SqlConnection con = new SqlConnection(connStr);
            string username = null;
            string password = string.Empty;
            string role = string.Empty;
            try
            {
                con.Open();
                string query = @"INSERT INTO [dbo].[Users]" + @"(Username ,Password , Role) " + @"VALUES (@u,@p,@r);";
                var cmd = new SqlCommand(query, con);
                cmd.Parameters.AddWithValue("@u", username);
                cmd.Parameters.AddWithValue("@p", password);
                cmd.Parameters.AddWithValue("@r", role);
                cmd.ExecuteNonQuery();
                con.Close();
            }
            catch (Exception ex)
            {
                Console.WriteLine(ex.StackTrace + ex.Message);
                con.Close();
            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-11-13T10:12:24.660

添加：Cmd.CommandType = CommandType.StoredProcedure; 或者，Cmd.CommandType = CommandType.Text；根据要求

# out - 尽管我为其分配了默认值，但使用未分配的变量

> ID：15715716
> 
> 赞同：0
> 
> 时间：2013-03-30T06:30:13.570
> 
> 标签：out

```
using System;

namespace Examples
{
   public class HelloWorld
   {
      public static void Main(string[] args)
      {
      int y=5;
      A(out y);
         }
      public static void A(out int x)
      {
      Console.WriteLine(x);
      x=1;
      }
   } 
} 
```

尽管我为 out 变量分配了默认值，但在尝试将其写入控制台时仍然会引发错误。“使用未分配的变量”。x 和 y 不是都指向同一个内存位置吗？请解释....

# liferay - 如何获取项目站点创建日期？

> ID：15715718
> 
> 赞同：3
> 
> 时间：2013-03-30T06:30:31.400
> 
> 标签：liferay

我在**Liferay 6.1.1 CE GA2中创建了一个****项目站点**，我想知道使用 Liferay API 的该站点的创建日期。

 **那么，任何机构都可以帮助我吗？

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T22:46:18.793

Liferay 将有关站点的信息存储在许多表中，但站点标识符是存储在 _group 表中的组。

该表行中的列从 Liferay API 映射到 Group 接口。[http://docs.liferay.com/portal/6.1/javadocs/com/liferay/portal/model/Group.html](http://docs.liferay.com/portal/6.1/javadocs/com/liferay/portal/model/Group.html)

不幸的是，该表中没有存储创建日期，因此 Group 接口没有用。

无论如何，我发现当您创建一个新站点时，会在 layoutset 表中创建两个布局集（私有和公共），并存储它们的创建日期。因此，作为一种技巧，您可以使用这些布局集中的信息来了解您的网站何时创建。

不知道是否是您的情况，但例如 LayoutSetLocalServiceUtil 类可以通过这种方式在 portlet jsp 页面中使用：

```
<%
    long groupId = company.getGroupId();
    LayoutSet sitePrivateLayoutSet = LayoutSetLocalServiceUtil.getLayoutSet(groupId, true);
    Date siteCreationDate = sitePrivateLayoutSet.getCreateDate();
%> 
```

请注意，您将需要以这种方式初始化 liferay 主题标记库：

```
<%@ taglib uri="http://liferay.com/tld/theme" prefix="liferay-theme" %>
<liferay-theme:defineObjects /> 
```

希望这可以帮助！**

# mysql - 为什么 MySQL 返回看似与 WHERE 子句不匹配的行？

> ID：15715719
> 
> 赞同：22
> 
> 时间：2013-03-30T06:30:34.307
> 
> 标签：mysql, sql, select

假设用户输入

```
mysite.com/profile?identity=1
mysite.com/profile?identity=dinodsja
mysite.com/profile?identity=1a 
```

获得价值

```
$identity = $_GET['identity']; // identity can be user_id or user_name 
```

我有一个简单的选择查询：

```
SELECT * FROM lb_users WHERE (user_id = 'dinodsja' OR user_name = 'dinodsja') AND user_status = 1 
```

它工作正常。但问题是：

```
SELECT * FROM lb_users WHERE (user_id = '1a' OR user_name = '1a') AND user_status = 1 
```

当我执行此查询时，它还会返回结果**而不满足条件**。

表结构：

```
user_id     bigint(25)
user_name   varchar(50)     utf8_general_ci 
```

![在此处输入图像描述](../Images/47c122ad52cda722b72b2aa41ad61dff.png)

**

```
-> Is this a MySQL Bug ? 
-> How can we avoid this ? 
-> What will be the query ? 
```

**

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-03-30T06:35:18.397

原因是该列的数据类型`user_ID`是整数。

MySQL 默默地**删除值中任何尾随** *的非数字*（*以及后面的任何内容*），这就是为什么`1a`等于`1`因为`a`将在值中删除。

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/d41d8/9797)

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2013-04-03T05:24:14.223

我记得很久以前有过类似的问题。

首先是一些背景：这*不是*一个错误。它实际上是一个功能。好的，这可能会导致这种意外行为，但 MySQL 因此非常容忍用户输入，相应的选择查询：

```
mysql> SELECT 'a' = 'a ';
        -> 1
mysql> SELECT 'A' = 'a';
        -> 1 
```

因此，使用[隐式类型转换](http://dev.mysql.com/doc/refman/5.1/en/type-conversion.html)，例如`'1a'`INTEGER 的结果是 1，但也：

```
mysql> SELECT 0 = 'x6';
        -> 1
mysql> SELECT 1 = ' 1';
        -> 1
mysql> SELECT 1 = ' 1a';
        -> 1 
```

此功能也在其他非静态类型语言中实现。例如，PHP 将这种[类型称为 juggling](http://php.net/manual/en/language.types.type-juggling.php)。请参阅文档中的[PHP 字符串转换规则](http://www.php.net/manual/en/language.types.string.php#language.types.string.conversion)和此示例：

```
<?php
  $foo = "0";                     // $foo is string (ASCII 48)
  $foo += 2;                      // $foo is now an integer (2)
  $foo = $foo + 1.3;              // $foo is now a float (3.3)
  $foo = 5 + "10 Little Piggies"; // $foo is integer (15)
  $foo = 5 + "10 Small Pigs";     // $foo is integer (15)
?> 
```

见[JavaScript](http://www.w3schools.com/jsref/jsref_parseint.asp)：

```
<script>
  document.write(parseInt("40 years") + "<br>");
</script>

=> 40 
```

不过，您的问题的解决方案非常简单：只需将整数转换为 char 并进行比较：

```
mysql> SELECT * FROM lb_users WHERE (CAST(user_id AS CHAR) = '1' OR user_name = '1')
        -> 1
mysql> SELECT * FROM lb_users WHERE (CAST(user_id AS CHAR) = '1a' OR user_name = '1a')
        -> 0
mysql> SELECT * FROM lb_users WHERE (CAST(user_id AS CHAR) = 'dinodsja' OR user_name = 'dinodsja')
        -> 1 
```

I made a fiddle for everyone to try it out: [http://sqlfiddle.com/#!2/c2835/14/0](http://sqlfiddle.com/#!2/c2835/14/0)

Hope that helps,

-Hannes

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T19:36:24.540

According to your previous message

> its a user input for profile. user can provide user_id or user_name. so the input is valid. but no data. – DBK Mar 30 at 6:42

I'd recommend testing to see if its an integer and only search the user ID if it's an integer. It's really more of a workaround for mySQL not handling a STRING to INT comparison, but it should work.

```
declare @InputVar varchar(10)
set @InputVar = '1a'

SELECT *  
FROM lb_users
WHERE  
  (case when isnumeric(@InputVar) = 1 then 
    case when (user_id = @InputVar OR user_name = @InputVar) then 1 else 0 end
  else  
    case when user_name = @InputVar then 1 else 0 end
  end =1 )
And 
  user_status = 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T09:35:58.867

When dealing with strings I would use 'LIKE' instead of '=' to avoid this silent type conversion madness. LIKE is made to work with strings so why not use it.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T11:48:01.727

```
SELECT * FROM lb_users WHERE (user_id = '1a' OR user_name = '1a') AND user_status = 1 
```

you get 1 result if you change '1a' to 1a you get this:

*#1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 '1a LIMIT 0, 30' 附近使用正确的语法*

这不是错误，请查看[http://dev.mysql.com/doc/refman/5.0/en/where-optimizations.html](http://dev.mysql.com/doc/refman/5.0/en/where-optimizations.html)

希望这可以帮助

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-10T04:58:32.440

我认为您不能复制主键和 ID，我对其进行了测试，然后得出了一个正在运行的数据。您是否设置了 user_id 及其属性，例如：

```
user_id bigint(50) auto_increment primary key 
```

这不是mysql错误。

# jquery - 无法获取属性“选项”的值：对象为空或使用 jquery 文件上传未定义

> ID：15715720
> 
> 赞同：1
> 
> 时间：2013-03-30T06:30:58.053
> 
> 标签：jquery, file-upload

我正在使用 jQuery 文件上传。我曾在我的 HTML 页面中尝试过，它工作得很好。当我在弹出窗口中调用同一页面时，出现错误。我正在使用模态弹出窗口。

```
add: function(e, data) {

    var that = $(this).data('fileupload'),
        options = that.options,
        files = data.files;

    that._adjustMaxNumberOfFiles(-files.length);
    data.isAdjusted = true;

    $(this).fileupload('resize', data).done(data, function() {
        data.files.valid = data.isValidated = that._validate(files);
        data.context = that._renderUpload(files)
            .appendTo(options.filesContainer)
            .data('data', data);
        that._renderPreviews(files, data.context);
        that._forceReflow(data.context);
        that._transition(data.context).done(function() {
            if ((that._trigger('added', e, data) !== false) && (options.autoUpload || data.autoUpload) && data.autoUpload !== false && data.isValidated) {
                data.submit();
            }
        });
    });
}, 
```

当我上传图片时，它说：

```
0x800a138f - Microsoft JScript runtime error:
Unable to get value of the property 'options': object is null or undefined 
```

我不知道如何解决以及如何找到解决方法。仅当我在弹出窗口中调用它时才会出现错误。你有什么解决办法吗？lz找出来，帮忙。如何获得价值？

# java - Raw Query in Android SQLite - INSERT OR IGNORE

> ID：15715725
> 
> 赞同：2
> 
> 时间：2013-03-30T06:31:40.623
> 
> 标签：java, android, sqlite, insert

I'm having an issue inputting information into a Sqlite database on the app I'm creating. I was using the help of the Cursor before. I am used to MySQL although clearly not 'used to' that well.

I am trying to add to the database from a file. I had this working before but it would be added with the Cursor. I was then told that in order to make it so I could add new information to the file and have the app ONLY add the new information into the database I should use INSERT OR IGNORE.

Is this the correct syntax? I currently am not having any information inserted for whatever reason...

```
ourDatabase.rawQuery("INSERT OR IGNORE INTO " + DATABASE_TABLE + " ("+KEY_CLASS+",
 " + KEY_QUESTION+ ") VALUES ('" + qclass + "', '" + question + "');", null); 
```

This is my database:

```
"CREATE TABLE " + DATABASE_TABLE + " (" + 
                    KEY_ROWID + " INTEGER PRIMARY KEY AUTOINCREMENT, " + 
                    KEY_CLASS + " TEXT NOT NULL, " +
                    KEY_QUESTION + " TEXT NOT NULL UNIQUE); 
```

Thanks for the help in advance!

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T06:58:59.930

Your query seems right but try the one below anyway

```
ContentValues insertValues = new ContentValues();
insertValues.put(KEY_CLASS, qclass);
insertValues.put(KEY_QUESTION, question);   
yourDbName.insertWithOnConflict(DATABASE_TABLE, null, insertValues, SQLiteDatabase.CONFLICT_IGNORE);  

KEY_QUESTION + " TEXT NOT NULL UNIQUE);"; 
```

# asp.net-mvc - 关于 mvc4 web api

> ID：15715737
> 
> 赞同：3
> 
> 时间：2013-03-30T06:33:22.267
> 
> 标签：asp.net-mvc, asp.net-mvc-4, asp.net-web-api

您好，这是一段 mvc4 webapi 代码，任何人都可以在这里向我解释每一行代码..我用谷歌搜索，但没有发现任何有趣的东西

```
public HttpResponseMessage PostProduct(Product item)
{
    item = repository.Add(item);
    var response =  Request.CreateResponse(HttpStatusCode.Created, item);

    string uri = Url.RouteUrl("DefaultApi", new { id = item.Id });
    response.Headers.Location = new Uri(uri);
    return response;
} 
```

我只知道我正在发送产品项目..作为回报，这个 web api 会返回我对新添加产品的响应，但我特别不理解这 2 行

```
 string uri = Url.RouteUrl("DefaultApi", new { id = item.Id });
        response.Headers.Location = new Uri(uri); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T06:35:42.230

```
public HttpResponseMessage PostProduct(Product item)
{
    //creates and adds an item to repository(db)
    item = repository.Add(item);
    //creates a new httpresponse
    var response =  Request.CreateResponse(HttpStatusCode.Created, item);
    //creates new uri 
    string uri = Url.RouteUrl("DefaultApi", new { id = item.Id });
    //set header for new uri
    response.Headers.Location = new Uri(uri);
    return response;
} 
```

此行将创建一个新的 RouteUrl -> 基本上是您的响应标头的链接。

我的建议是你应该从这里的官方文档开始：[http](http://www.asp.net/web-api) ://www.asp.net/web-api ，它对我有用。这里有很多东西需要研究：http: [//geekswithblogs.net/JoshReuben/archive/2012/10/28/aspnet-webapi-rest-guidance.aspx](http://geekswithblogs.net/JoshReuben/archive/2012/10/28/aspnet-webapi-rest-guidance.aspx)

此答案中有太多示例要发布，这可能会对您有所帮助。

> · 响应码：默认情况下，Web API 框架将响应状态码设置为 200（OK）。但根据 HTTP/1.1 协议，当 POST 请求导致创建资源时，服务器应回复状态 201（已创建）。非 Get 方法应返回 HttpResponseMessage
> 
> · Location：服务器创建资源时，应在响应的Location头中包含新资源的URI。
> 
> ```
> public HttpResponseMessage PostProduct(Product item)
> { 
>   item = repository.Add(item);
> 
>   var response = Request.CreateResponse<Product>(HttpStatusCode.Created, item);
> 
>   string uri = Url.Link("DefaultApi", new { id = item.Id });
> 
>   response.Headers.Location = new Uri(uri);
> 
>   return response;
> } 
> ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:53:13.273

```
public HttpResponseMessage PostProduct(Product item)
//this means that any post request to this controller will hit this action method
{
    item = repository.Add(item);
    //the posted data would be added to the already defined repository

    var response =  Request.CreateResponse(HttpStatusCode.Created, item);
    //a responses is created with code 201\. which means a new resource was created.

    string uri = Url.RouteUrl("DefaultApi", new { id = item.Id });
    //you get a new url which points to the route names DefaultAPI and provides a url parameter id(normally defined as optional)

    response.Headers.Location = new Uri(uri);
    //adds the created url to the headers to the response

    return response;
    //returns the response
} 
```

通常，按照标准，POST 请求用于创建实体。并且要放入该实体的数据随请求一起发送。

所以这里的代码是创建实体，然后在响应中发回你可以找到最近创建的实体的 url。这是任何遵循标准的客户所期望的。尽管这根本没有必要。

so according to this you must have a `GET` action method that accepts the `id` as an parameter and returns the `product` corresponding to that `id`

# design-patterns - Is this a layered architecture?

> ID：15715738
> 
> 赞同：1
> 
> 时间：2013-03-30T06:33:28.993
> 
> 标签：design-patterns, service, architecture, layered

I am having a confusion while mapping my software design with an architectural pattern.

the below diagram describes my proposition. ![enter image description here](../Images/3652ba5b3f48bc06f9c9691f2c47656a.png)

What I wanted to ask is -

1.  Is the third layer really a layer, or just a constituent part of layer 2?
2.  The fourth layer constitutes of those resources for which all my software is built. They are the things, which do not provide service as such, but for which all the work is done, on which all the work is done. Are they to be included in architectural description?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:44:07.067

Layer is not an exact term, it can be customized per your needs. That said, I would organize your design a bit different:

*   Your third layer is actually a side layer/package that provides services to your main software flows but doesn't have an active role in them. More appropriate would be to put it alongside the 2 first layers that can interact with the required services per need.

*   Fourth layer indeed shouldn't be part of your design because it's actually a description of entities outside your system. You can outline the interfaces to these entities but they do not consitute layer in your system.

You may also take a look at a more formal approach for design depicting - check the [Package diagrams](http://en.wikipedia.org/wiki/Package_diagram) in UML and [Layer diagrams](http://msdn.microsoft.com/en-us/library/vstudio/dd409462.aspx) (not standard but close to what you look for).

# asp.net-mvc - 未找到与 Web API 中的请求 URI 匹配的 HTTP 资源

> ID：15715744
> 
> 赞同：32
> 
> 时间：2013-03-30T06:33:48.490
> 
> 标签：asp.net-mvc, asp.net-web-api

我已经像这样配置了我的 WebApiConfig：

```
public static void Register(HttpConfiguration config)
{
    config.Routes.MapHttpRoute(
        name: "DefaultApi",
        routeTemplate: "api/{controller}/{action}/{id}",
        defaults: new { id = RouteParameter.Optional }
    );
} 
```

我有一种接受一个参数的方法。访问 URI 是`http://localhost:8598/api/WebApi/GetLocationCategory/87`.

这给了我一个错误：`No HTTP resource was found that matches the request URI 'http://localhost:8598/api/WebApi/GetLocationCategory/87'`

控制器：

```
public IEnumerable<LocationCategory_CLS> GetLocationCategory(int CatID)
{
    var LocCats = (from lct in entities.tdp_LocationCategories join lc in entities.tdp_LocationMaster on lct.FK_LocationID equals lc.LocationID where lct.IsApproved == 0 && lct.FK_CategoryID == CatID select new { lc.LocationID, lc.LocationName }).ToList();
    List<LocationCategory_CLS> loc = new List<LocationCategory_CLS>();

    foreach (var element in LocCats)
    {
        loc.Add(new LocationCategory_CLS
        {
            LocationID = element.LocationID,
            LocationName = element.LocationName
        });
    }
    return loc;
} 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-30T09:21:49.027

尝试将您的控制器方法更改为

```
public IEnumerable<LocationCategory_CLS> GetLocationCategory(int id) <-- Change
{
    var LocCats = (from lct in entities.tdp_LocationCategories join lc in entities.tdp_LocationMaster on lct.FK_LocationID equals lc.LocationID where lct.IsApproved == 0 && lct.FK_CategoryID == id select new { lc.LocationID, lc.LocationName }).ToList();
    List<LocationCategory_CLS> loc = new List<LocationCategory_CLS>();

    foreach (var element in LocCats)
    {
        loc.Add(new LocationCategory_CLS
        {
            LocationID = element.LocationID,
            LocationName = element.LocationName
        });
    }
    return loc;
} 
```

更改只是将输入参数从更改`CatId`为`id`.... 它对我有用很多次..

**编辑**：

* * *

很长一段时间，当我回头看时，***我想***我现在知道原因了。`Words Like Jared`是正确的，这与我们指定的路由有关。如果我有一条路线（默认）：

```
routes.MapRoute(
        "Default",                                              // Route name
        "{controller}/{action}/{id}",                           // URL with parameters
        new { controller = "Home", action = "Index", id = "" }  // Parameter defaults
    ); 
```

而我的 URL 是`/MyController/GetLocationCategory/123`，它将相当于`/MyController/GetLocationCategory?id=123`.

同样，如果我想将 Id 的参数名称更改为 CatId，那么我需要更改查询字符串参数（我调用 Controller Action 的方式会改变）。现在将是：

`/MyController/GetLocationCategory?CatId=123`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-04-14T20:13:18.923

```
config.Routes.MapHttpRoute(
            name: "DefaultApi",
            routeTemplate: "api/{controller}/{action}/{id}",
            defaults: new { id = RouteParameter.Optional }
        ); 
```

映射到：

`http://localhost:8598/api/Controller/Action/id`

url的`WebApi`部分与`api`. 然后修改方法参数名称以匹配路由：

`public IEnumerable<LocationCategory_CLS> GetLocationCategory(int id)`

这是一个很好的默认值，因为它符合约定。

或者，您可以修改路由以改用这个非常规的参数名称：

```
config.Routes.MapHttpRoute(
            name: "DefaultApi",
            routeTemplate: "api/{controller}/{action}/{CatID}",
            defaults: new { CatID = RouteParameter.Optional }
        ); 
```

最后，无论哪种情况，请确保控制器名称以`Controller`.

好名字：`CustomController`，`CustomApiController`
坏名字：`Custom`，`CustomApi`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-30T06:37:15.173

您的控制器和操作的名称是什么？

网址应该是

```
http://localhost:8598/api/Controller/Action 
```

它没有映射到您指定的路由配置，因此管道无法找到正确的控制器。/id 不应该在它必须在正文或查询参数中的路径中（我被仓促难住了！！）

例子 ： -

```
public class FooController : ApiController
    {
        public int GetIndex(int id)
        {
            return id;
        }
    }

localhost:58432/api/foo/GetIndex?Id=1

O/P :- 1 
```

注意：- 如果您的操作名称是`GetIndex`，则 URL`GetIndex`不能只是索引。或者，您可以指定`[HttpGet]`操作的属性。

如果您的 WebApi.config 中也有以下内容

```
config.Routes.MapHttpRoute(
                name: "DefaultApi",
                routeTemplate: "api/{controller}/{id}",
                defaults: new { id = RouteParameter.Optional }
            ); 
```

那么`http://localhost:58432/api/foo?Id=1`也将是一条合法的路线。不确定你是否想要那个。

此外，使用 WebAPI 尽可能坚持非基于操作的路由，MVC 就是为此而生的。这不是推荐的方式。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-05-22T14:04:59.830

您的请求网址是`http://localhost:8598/api/WebApi/GetLocationCategory/87`

您的路线配置为接受：'api/{controller}/{action}/{id}'

所以你需要确保你的控制器的名字是'WebApiController'。

此外，正如@SDG 所说，您需要确保您的操作方法的参数名称与您在路线模板中的名称相匹配，即将“CatID”更改为“id”

# c - 如果客户端在 udp 客户端/服务器应用程序中出现故障，服务器如何处理

> ID：15715745
> 
> 赞同：0
> 
> 时间：2013-03-30T06:33:49.023
> 
> 标签：c, windows, winapi, network-programming, udp

我希望在我的 udp 服务器应用程序上实现两个功能。

1.  创建连续接收来自任何客户端的数据的线程。

2.  创建一个线程，在特定时间段后在服务器套接字上连续发送数据并等待来自客户端的回复（握手机制）。（我实现了这一点，以确保无论何时任何客户端出现故障，客户端都不会发回数据，并且服务器会知道客户端已关闭。）

为此，我在服务器端创建了两个 Soket。第一个 Socket 被绑定（）到 INADDR_ANY。

第二个套接字绑定（）到我的机器 IP 地址。

来自客户端的所有发送和接收都在第一个套接字上完成。

确保客户端没有关闭的握手机制在第二个套接字上完成。

这种方法正确吗？请务必让我知道，以便我可以继续我的工作。先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:04:20.577

我的意思是，你的解决方案会起作用，但我看不出你不能使用稍微多一点的带内控制机制的原因。试试这个，服务器上只有一个套接字：

```
List connections contains pairs (client, lastPacketTime)
Socket is a single UDP Socket

Thread 1 Loop:
    Get new UDP Datagram P From Socket
    If P.client in List: 
        update lastPacketTime
    Else:
        add P.client to list
    If P is not Ping datagram:
        Do other operations on P

Thread 2 Loop:
    For client in List with lastPacket time 3-10 Seconds ago:
        send ping request via Socket
    For client in List with lastPacket time > 10 Seconds ago:
        Mark client as down.
    Sleep for some time 
```

这在客户端：

```
Loop:
    If I have data to send:
        Send it!
    Else if I have a ping request in my UDP Socket:
        Send Ping datagram
    Else
        Sleep for some time. 
```

如果您需要比这更可靠的握手，您可以考虑在 UDP 内容旁边打开与服务器的 TCP 连接。然后服务器可以使用 TCP 连接来检查活跃度。老实说，当人们尝试进行面向连接的 UDP 时，我脖子后面的头发都竖起来了。如果您担心 ping 时间的所有处理和更新，您可以添加第三个线程：

```
List contains pairs (client, lastPacketTime)
Queue contains Datagrams with time updates.
Socket is a single UDP Socket

Thread 1 Loop:
    Get new UDP Datagram P from Socket
    Add P to Queue
    If P is not Ping datagram:
        Do other operations on P

Thread 2 Loop:
    Get new Datagram P from Queue
    If P.client in List: 
        update lastPacketTime
    Else:
        add P.client to list

Thread 3 Loop:
    For client in List with lastPacket time 3-10 Seconds ago:
        send ping request via Socket
    For client in List with lastPacket time > 10 Seconds ago:
        Mark client as down.
    Sleep for some time 
```

# django - More trailing slashes being added at every refresh - Django

> ID：15715746
> 
> 赞同：1
> 
> 时间：2013-03-30T06:34:00.683
> 
> 标签：django, django-urls, django-settings

I'm using django 1.3.1 and in my application and I have set `DEBUG = False` in my settings.py. when I refresh the page, the url is going into some loop process and in every loop a slash is being appended to the static files and due to this no static files are being called. I have pasted a sample terminal output below. What could be reason and how can I resolve this?

```
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg//////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg///////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg/////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg//////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg///////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg////////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg/////////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:30] "GET /static/img/admin/logo.jpg//////////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:31] "GET /static/img/admin/logo.jpg///////////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:31] "GET /static/img/admin/logo.jpg////////////////// HTTP/1.1" 301 0
[30/Mar/2013 11:57:31] "GET /static/img/admin/logo.jpg/////////////////// HTTP/1.1" 301 0 
```

This works fine when I set `DEBUG = True` in my settings.py.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:49:46.320

After a little search, I found this question very helpful. [Why does DEBUG=False setting make my django Static Files Access fail?](https://stackoverflow.com/q/5836674/1095090)

> With debug turned off Django won't handle static files for you any more - your production web server (Apache or something) should take care of that.
> 
> If you still need to server static locally (e.g. for testing without debug) you can run devserver in insecure mode: manage.py runserver --insecure

# matlab - 如何在一个图上绘制多个 3D 数组？

> ID：15715749
> 
> 赞同：1
> 
> 时间：2013-03-30T06:34:58.087
> 
> 标签：matlab, plot, matlab-figure

我有多个 3D 数据数组。如何将它们全部绘制在一个图上？数组的大小不相等。

例如：

```
array1_xy = [1 2;3 4;5 6]
array1_z = [10;20;30]
array2_xy = [2 4;5 6;4 6;4 5]
array2_z = [10;20;50;10]
array3_xy = [1 4;1 6;1 3;1 5;1 1;3 4]
array3_z = [10;20;30;10;80;30] 
```

如何将它们绘制在具有不同标记的单个 3D 图上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:39:58.310

你想要*[保持](http://www.mathworks.com/help/matlab/ref/hold.html)*功能。

从上面的链接：

```
x = -pi:pi/20:pi;
plot(sin(x))
hold on
plot(cos(x))
hold off 
```

这将`sin(x)`在*相同*的轴上绘制和绘制`cos(x)`。

如果你想用`plot3`函数绘制你的数组，你仍然可以`hold on;`在同一个图中使用和绘制它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:23:04.837

我假设你想在这种情况下做一个 xyz 散点图（？），使用`plot3`. 详细信息 go`help plot3` 关于标记的详细信息，go`help plot`

跟随代码做你想做的事。

```
plot3(array1_xy(:,1),array1_xy(:,2),array1_z,'x'); hold on;
plot3(array2_xy(:,1),array2_xy(:,2),array2_z,'o'); 
plot3(array3_xy(:,1),array3_xy(:,2),array3_z,'p'); 
```

# extjs - 动态传递参数

> ID：15715750
> 
> 赞同：3
> 
> 时间：2013-03-30T06:35:13.933
> 
> 标签：extjs

我正在尝试使用 ExtJS 4 将图像从数据库检索到数据视图。现在我需要动态传递参数。主要是在这里…………

```
Ext.define('${pkgName}.v02x003001.SV02X00300102' , {
extend       : 'Ext.view.View',
alias        : 'widget.sv02x00300102',        
id           : 'images-view',
autoScroll   : true,
trackOver    : true,
multiSelect  : true,
height       : 310,
overItemCls  : 'x-item-over',
itemSelector : 'div.thumb-wrap',
emptyText    : 'No images to display',
prepareData  : function(data) {
    Ext.apply(data, {
        shortName : Ext.util.Format.ellipsis(data.name, 15),
        sizeString: Ext.util.Format.fileSize(data.size),
        dateString: Ext.util.Format.date(data.lastmod, "m/d/Y g:i a")
    });
    return data;
},    
initComponent: function() {
    var me   = this;
    var value= Ext.getCmp('member-sv02x00300104').getValue();
    me.store = 'S02X003001',
    me.tpl   = [
                '<tpl for=".">',
                '<div class="thumb-wrap" id="{name}">',
                '<div class="thumb"><img src="${createLink(mapping:'img', params:[member: **value** , width:100, height:100])}" title="{name}"></div>',
                '<span class="x-editable">{shortName}</span></div>',
                '</tpl>',
                '<div class="x-clear"></div>'
               ];

    me.callParent(arguments);
} 
```

});

所以我的问题是如何将**值**设置为**参数**（对于成员字段）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T18:36:48.760

createLink 是一个 grails 组件，它在运行 JS 代码之前处理服务器端。您不能将 JS 变量传递给 Java 组件，因为 Java 总是首先在服务器上处理，然后生成的 HTML 和 JS 将被发送到客户端进行处理。客户端对您的服务器端代码块一无所知。

我建议您用 HTML 重写 createLink 片段，并像使用名称和短名称一样替换为 JS 变量。

# ruby-on-rails - 我可以在不为 rails 应用程序运行 rake 命令的情况下运行 Solr 服务器吗？

> ID：15715754
> 
> 赞同：0
> 
> 时间：2013-03-30T06:35:26.917
> 
> 标签：ruby-on-rails, solr, full-text-search, rake-task

是否有任何替代方法可以运行 solr 服务器而不为 rails 应用程序运行 rake 命令，例如将所有与 solr 相关的类提供到单个 jar 中，然后使用该 jar。

请就此提出一些解决方案

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:45:19.193

不知道你有没有查过Sunspot（最好的哈哈），但是你可以使用启动/停止命令，例如：[https ://github.com/sunspot/sunspot#sunspot_rails](https://github.com/sunspot/sunspot#sunspot_rails)

```
bundle exec sunspot-solr start -p 8983 
```

还可以查看示例[https://gist.github.com/doitian/1795439](https://gist.github.com/doitian/1795439)（将 Sunspot 与 Capistrano 集成，但您可以了解实现）

# spring-mvc - Concrete Class 'Inject' is throwing IllegalArgumentException

> ID：15715755
> 
> 赞同：0
> 
> 时间：2013-03-30T06:35:41.233
> 
> 标签：spring-mvc, service, interface, controller, illegalargumentexception

I have a service interface **UserService** and an implementing class **UserServiceImpl**. When I try to inject **UserServiceImpl** to a variable in a controller class, it throws an **NoSuchBeanDefinitionException**. But when I inject **UserService** interface, it works fine.

The interface **UserService** is annotated with **@Service**. The implementing class doesn't have any annotation as such.

Confused why this is happening?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:55:35.690

The implementation should have the annotation. Not the interface. And the controller should depend on the interface, not on the implementation. That's what would allow Spring to inject an AOP proxy, allowing for transactions, security, etc:

```
public interface UserService {
    ...
}

@Service
public class UserServiceImpl implements UserService {
    ...
}

@Controller
public class UserController {
    @Inject
    private UserService userService;

    ...
} 
```

# jquery - 允许用户在数字前输入 $ 符号？

> ID：15715759
> 
> 赞同：0
> 
> 时间：2013-03-30T06:36:20.977
> 
> 标签：jquery, asp.net, asp.net-mvc, asp.net-mvc-4, jquery-validate

我有以下模型属性

```
 [DisplayName("Salary per year")]
    public decimal Salary { get; set; } 
```

rasor 标记是

```
@Html.EditorFor(model => model.Salary)
@Html.ValidationMessageFor(model => model.Salary) 
```

生成的html代码：

```
<input class="text-box single-line input-validation-error" data-val="true" data-val-number="The field Salary per year must be a number." data-val-required="The Salary per year field is required." id="Salary" name="Salary" type="text" value="">
<span class="field-validation-error" data-valmsg-for="Salary" data-valmsg-replace="true"><span for="Salary" class="" style="">The field Salary per year must be a number.</span></span> 
```

客户端验证只允许用户输入数字。但是，用户希望能够在数字前面输入 $（我想知道他们以后也希望能够输入“，”来分隔数字）。如何启用它？（并将字符串解析到`decimal`控制器中？）

现在它显示“每年的薪水必须是一个数字”。我一输入“$”就变成红色。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:40:02.123

您可以执行以下操作：

1）为按键创建一个功能，并确保按键按键代码是数字或逗号：

a）这可能是一个要使用的库：http: [//jquerypriceformat.com/](http://jquerypriceformat.com/)

```
$('#example1').priceFormat(); 
```

b）为此创建自定义代码：

```
$('#example1').on("keypress", function (e){
if( event.keyCode == ',' ||  event.keyCode == '$' || (event.keyCode => '0' &&  event.keyCode <= '9'))          {
    // allow char
} else {
e.preventDefault();
}

}); 
```

c) 这个例子效果最好：

[http://help.dottoro.com/ljlwfxum.php](http://help.dottoro.com/ljlwfxum.php)

```
<head>
    <script type="text/javascript">
        function FilterInput (event) {
            var chCode = ('charCode' in event) ? event.charCode : event.keyCode;

                // returns false if a numeric character has been entered
            return (chCode < 48 /* '0' */ || chCode > 57 /* '9' */);
        }
    </script>
</head>
<body>
    The following text field does not accept numeric input:
    <input type="text" onkeypress="return FilterInput (event)" />
</body> 
```

2）当您提交表单时，您应该解析输入中的值并删除 $ 字符。

```
var val = $('#example1').val();
val = val.slice(2); 
```

# c# - 从不同的项目运行控制台应用程序

> ID：15715760
> 
> 赞同：4
> 
> 时间：2013-03-30T06:36:37.563
> 
> 标签：c#, projects

我在VS2010中有一个解决方案。在该解决方案下，我有我的主 WPF 应用程序，其中包含所有用户界面、几个库和一个控制台应用程序，当我单击 WPF 应用程序中的按钮时，我想运行这些应用程序。我的解决方案结构类似于：

```
- Solution
  - WPF App [this is my startup project]
  - Library
  - Another library
  - Console application 
```

现在我已经进行了一些搜索，我发现人们正在寻找如何引用代码和类，以及解决这个问题的方法是我找到可执行文件的路径，并将其作为新进程运行。但是，这需要知道绝对路径，甚至是相对路径，我想知道这是否是我可以启动应用程序的唯一方法，即使它在同一个解决方案中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T06:45:27.223

是的，这是真的。您必须知道可执行文件的路径，无论是绝对路径还是相对路径。但这不是故障。你为什么不把你的`WPF`exe 和`Console`exe 放在同一个目录或像 in 这样的子目录中`bin\myconsole.exe`？创建新的`Process`时，只需将`Console`exe 的名称传递给`Process.Start()`Windows 就会找到您的可执行文件。

```
using System;
using System.Diagnostics;
using System.ComponentModel;

namespace MyProcessSample
{
class MyProcess
{
    // Opens the Internet Explorer application. 
    void OpenApplication(string myFavoritesPath)
    {
        // Start Internet Explorer. Defaults to the home page.
        Process.Start("IExplore.exe");

        // Display the contents of the favorites folder in the browser.
        Process.Start(myFavoritesPath);
    }

    // Opens urls and .html documents using Internet Explorer. 
    void OpenWithArguments()
    {
        // url's are not considered documents. They can only be opened 
        // by passing them as arguments.
        Process.Start("IExplore.exe", "www.northwindtraders.com");

        // Start a Web page using a browser associated with .html and .asp files.
        Process.Start("IExplore.exe", "C:\\myPath\\myFile.htm");
        Process.Start("IExplore.exe", "C:\\myPath\\myFile.asp");
    }

    // Uses the ProcessStartInfo class to start new processes, 
    // both in a minimized mode. 
    void OpenWithStartInfo()
    {
        ProcessStartInfo startInfo = new ProcessStartInfo("IExplore.exe");
        startInfo.WindowStyle = ProcessWindowStyle.Minimized;

        Process.Start(startInfo);

        startInfo.Arguments = "www.northwindtraders.com";

        Process.Start(startInfo);
    }

    static void Main()
    {
        // Get the path that stores favorite links. 
        string myFavoritesPath =
            Environment.GetFolderPath(Environment.SpecialFolder.Favorites);

        MyProcess myProcess = new MyProcess();

        myProcess.OpenApplication(myFavoritesPath);
        myProcess.OpenWithArguments();
        myProcess.OpenWithStartInfo();
    }
}
} 
```

看[这里](http://msdn.microsoft.com/en-us/library/53ezey2s.aspx)。

# javascript - 如何在 engine.io 中获取 IP？

> ID：15715761
> 
> 赞同：1
> 
> 时间：2013-03-30T06:36:40.000
> 
> 标签：javascript, websocket, socket.io

我正在为我正在开发的应用程序使用 engine.io 框架，但遇到了一些麻烦。我一直在尝试获取客户端 IP。我目前正在使用：

```
socket.transport.socket.upgradeReq.headers['x-forwarded-for'] 
```

但这仅在用户发送升级请求后才有效，如果他不发送和升级请求，那么我无法获得他的 IP。有没有其他选择。
谢谢，
@_C1D

# mysql - Mysql根据不同表中的值选择查询

> ID：15715763
> 
> 赞同：0
> 
> 时间：2013-03-30T06:36:46.067
> 
> 标签：mysql, sql, join

这是一个非常基本的问题，如果有人已经问过这个问题，我深表歉意。

我有一个名为“项目”的主表。它具有所有项目相关信息，如目录、描述、可用性、价格等

我还有另一个名为“activelisting”的表，它只有一列“目录”。

现在我想根据“activelisting”表中存在的“catalog”从“item”表中提取“catalog”、“description”和“avail”。或者换句话说，来自“activelisting”表的所有内容和“item”表中的匹配记录。

我已经研究了很多，但我找不到有效的查询。我正在使用以下查询..

```
SELECT t1.catalog, t1.description, t1.avail
FROM item t1
LEFT JOIN activelisting t2
ON t1.`Catalog` = t2.`Catalog`; 
```

任何帮助，将不胜感激...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:42:15.013

尝试使用[`INNER JOIN`](http://dev.mysql.com/doc/refman/5.0/en/join.html)而不是`LEFT JOIN`. `INNER JOIN`将保证被连接的值存在于两个表中。

```
SELECT i.catalog, i.description, i.avail
FROM item i
INNER JOIN activelisting a ON i.catalog = a.catalog 
```

`LEFT JOIN`将返回左表中的所有结果，`item`如果没有`activelisting`相同的行，`catalog`那么它将只返回`NULL`这些列。您当前没有选择潜在的`NULL`列，因此您当前的结果基本上应该只是`item`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:47:20.220

```
SELECT t1.catalog, t1.description, t1.avail FROM item t1 RIGHT OUTER JOIN activelisting t2 ON t1.Catalog = t2.Catalog; 
```

或者

```
SELECT t1.catalog, t1.description, t1.avail FROM activelisting t2 LEFT OUTER JOIN item t1 ON t1.Catalog = t2.Catalog; 
```

第一个用于良好的可视化器。您必须使用外连接，因为您从 activlisting 表中获取所有目录并从项目表中获取匹配目录。

第二个更好理解。

# hibernate - 未找到：发生值登录错误

> ID：15715768
> 
> 赞同：0
> 
> 时间：2013-03-30T06:37:21.953
> 
> 标签：hibernate, scala

未找到：值登录错误发生，这里登录是我的域

```
def findAll():List[Login]= {
  var config: AnnotationConfiguration = new AnnotationConfiguration
  /*Error:*/ config.addAnnotatedClass(Login.Class)
  var factory: SessionFactory = config.configure().buildSessionFactory()
  var session: Session = factory.getCurrentSession()
  session.beginTransaction()
  var queryString = "from LW_LOGIN"
  var queryResult: Query = session.createQuery(queryString)
  var allUsers = queryResult.list()
  return allUsers.asInstanceOf[List[Login]];  
} 
```

这里登录是我的域

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:07:41.417

您的代码中至少有 2 个错误。

1.  `Login.Class`在 scala 中工作意味着，您有一个`object`名为 的单例 () `Login`，其中包含另一个单例`Class`，即 类型`Class[A]`。我猜你想要的是`classOf[Login]`。

2.  `return allUsers.asInstanceOf[List[Login]];`

首先你不应该使用`return`，因为 scala 使用最后一个语句作为返回值，也不`;`是必需的。其次，您不能将 a`java.util.List`转换为 a `scala.collection.List`。改为导入`scala.collection.JavaConverters._`和使用`allUsers.asScala`。

# .htaccess - 这个 .htaccess 重定向有什么问题？

> ID：15715780
> 
> 赞同：0
> 
> 时间：2013-03-30T06:39:06.020
> 
> 标签：.htaccess, mod-rewrite, redirect

我想（仅）将 mysite/02B /030 等重定向到 theirsite/02B 等。

这有什么问题？我有一种感觉，我错过了一些非常明显的东西。：-/

```
RewriteCond %(REQUEST_URI) ^0(2B|2Y|2C|2Z|2-|30|33)$
RewriteRule ^(.*)$ http://theirsite/$1 [R=301,NC,L] 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:49:23.703

前导斜杠`/`包含在**REQUEST_URI**变量中，因此您必须将它也包含在正则表达式中以匹配该变量。

你可以试试这个完整的规则集：

```
Options +FollowSymlinks -MultiViews
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_URI} ^/0(2B|2Y|2C|2Z|2-|30|33)  [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ http://theirsite/$1 [R=301,NC,L] 
```

# .net - 如何从IOS调用.net的Rest Webservice？

> ID：15715781
> 
> 赞同：0
> 
> 时间：2013-03-30T06:39:12.557
> 
> 标签：.net, ios, json, xcode4.5

最近我开始在我的 IOS 中使用 .NET 的 REST Web 服务。按照我在.NET中创建网络服务的方式

Service1.cs 文件

```
using System;
using System.ServiceModel.Web;

namespace WcfJsonRestService
{
    public class Service1 : IService1
    {
        [WebInvoke(Method = "GET", 
                    ResponseFormat = WebMessageFormat.Json, 
                    UriTemplate = "data/{id}")]
        public Person GetData(string id)
        {
            // lookup person with the requested id 
            return new Person()
                       {
                           Id = Convert.ToInt32(id), 
                           Name = "Leo Messi"
                       };
        }
    }

    public class Person
    {
        public int Id { get; set; }
        public string Name { get; set; }
    }
} 
```

我已经用谷歌搜索了这些东西，但理解起来非常复杂，因为我从未接触过 iOS 中的 Web 服务概念。所以任何人都可以指导我如何以及在何处调用这个 Web 服务，只需在其中显示一个返回字符串在带有 Xcode 4.5 的 iOS 设备（IPAd）的标签上。只是我想构建的演示应用程序

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T06:50:59.730

您已经获得了 WCF JSON 端点，现在您需要在 IOS 应用程序中使用该端点生成的 JSON。这是有关如何做到[这一点的教程。](http://www.kotancode.com/2011/04/26/backing-your-ios-app-with-wcf-json-web-services/)

# c - 为什么编程语言严格依赖原始类型，而汇编更灵活？

> ID：15715787
> 
> 赞同：2
> 
> 时间：2013-03-30T06:40:13.800
> 
> 标签：c, assembly, primitive, bit-fields

为什么我们没有 4 位大小的数据类型？如果我们如此倾向于，为什么我们不能制造它们？我见过位域，但我听说它们不是可移植的，也许也不用？我认为这是机器如何解释位位置的位置值的结果。（大端，小端）

```
typedef struct
{
   int b1  : 1;
   int b2  : 1;
   ..
   ..
   ..
   int b32 : 1;
} bitfield32; 
```

我们也不能像这样比任何原始类型都大的位域。那么为什么要限制呢？它可以在组装中完成吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T07:37:57.270

> 为什么我们没有 4 位大小的数据类型？

谁说的？[Intel 4004 CPU](http://en.wikipedia.org/wiki/Intel_4004)有4 位寄存器和 4 位内存操作数。4 位数据类型对于这个 CPU 来说是很自然的，因为它们是直接支持的。

[Intel 8051 CPU](http://en.wikipedia.org/wiki/Intel_MCS-51)可以直接操作单个位的内存，因此您可以在其上使用 1 位变量。

这只是 CPU 的两个示例，其中数据类型可能非常小，比现在普遍存在的 8 位字节还小。

> 如果我们如此倾向于，为什么我们不能制造它们？

我们可以。您可以制作直接支持 4 位数据类型的 CPU，也可以将 4 位变量模拟为较大变量的一部分。

您可以将 2 个 4 位变量打包成一个 8 位字节。这种方法的问题是您需要使用更多指令从 8 位寄存器或内存位置中提取 4 位（`AND`为此您需要移位和掩码 ( ) 指令），同样您需要更多指令来正确保存 4-位值分成 8 位字节的一半（加载 8 位，清除 4 位一半中的旧值（使用 mask/ `AND`），移位新值，将其与其余部分组合并保存回来）。显然，这会对程序的代码大小及其速度产生负面影响。此外，4 位变量不是很有用，因为它们可以容纳的信息太少。由于这些原因，较小类型的模拟不是很流行。

> 我见过位域，但我听说它们不是可移植的，也许也不用？

它们被使用。它们的存在正是因为在某些（但不是全部）应用程序中它们非常有用。如果您有许多短变量，将其中的几个打包成一个字节或一个机器字可能是有利的，从而减少内存浪费。

它们并非完全不可移植。它们在 C 和 C++ 中的可移植性有限，因为语言标准没有精确定义较大数据类型中位域的位置和布局。这样做是为了让编译器编写者在处理位域时最有效地利用 CPU 功能。

`6.7.2.1 Structure and union specifiers` `clause 10`1999 年的 C 标准中这样说：

> 实现可以分配任何大到足以容纳位域的可寻址存储单元。如果有足够的空间剩余，紧跟在结构中另一个位域之后的位域将被打包到同一单元的相邻位中。如果剩余空间不足，则将不适合的位域放入下一个单元还是与相邻单元重叠是实现定义的。单元内位域的分配顺序（高位到低位或低位到高位）是实现定义的。未指定可寻址存储单元的对齐方式。

> 我认为这是机器如何解释位位置的位置值的结果。（大端，小端）

是的，这是部分原因。但这绝不是专门针对位域的。常规的非位域类型也有这个问题。

> 我们也不能像这样比任何原始类型都大的位域。那么为什么要限制呢？它可以在组装中完成吗？

如果您的 C（或 C++）编译器（或解释器）可以模拟比 CPU 直接支持的类型更大的类型，那么您甚至可以拥有 256 位位域。

但同样，如果 CPU 直接支持的最大类型是 32 位，则意味着使用像 128 位这样的更大类型（无论是否位域）将导致更多代码和某些性能损失，因为单个CPU 指令（或其中的几个）将无法处理如此大的数据值。您将需要更多指令和更多时间来执行这些额外指令。

是的，这可以在组装中完成。只要您愿意编写代码并使其工作，任何事情都可以在汇编中完成。:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T06:43:25.950

> 为什么我们没有 4 位大小的数据类型？

因为像 x86 这样的现代处理器可以处理的最小数字是 8 位。

> 如果我们如此倾向于，为什么我们不能制造它们？

你可以，但它们会慢得多，因为你必须做比平常更多的工作，因为处理器不支持它。

> 它可以在组装中完成吗？

汇编对你的处理器来说只是一堆指令，所以只有你的处理器支持它，你才能有效地完成它。

如果您真正学习数字设计，那么其中很多都是有意义的。在那之前，您必须将这些限制视为理所当然。

# iphone - 在 viewcontroller 上设置的 uitableview 然后根据其他帖子由检查员委托数据源 我试过 viewcontroller 视图 uitableviewcontroller

> ID：15715792
> 
> 赞同：0
> 
> 时间：2013-03-30T06:41:23.760
> 
> 标签：iphone, uitableview, datasource, xcode4.6, ios6.1

我在视图控制器拖动`UITableView`定义中尝试简单的事情

```
#import <UIKit/UIKit.h>  @interface ViewController : UIViewController <UITableViewDataSource,UITableViewDelegate> 
{     
     IBOutlet UITableView* tv;     
} 
@property(nonatomic,retain)IBOutlet UITableView * tv; 

#import "ViewController.h" 
@interface ViewController ()  
@end  
@implementation ViewController 
@synthesize tv; 
```

当我尝试运行应用程序时它崩溃了。我阅读了相同的相关问题，我试图在视图集中选择视图控制器，`UITableviewcontroller`但我仍然遇到问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:39:01.747

看看这张图可能对你有帮助

1.连接IBoutlet

![在此处输入图像描述](../Images/7e6e6619e8fe3474e8a877b3966fdc06.png)

2.连接代理和数据源

![在此处输入图像描述](../Images/1301d818d5f96c48ab3c039fc614970e.png)

# jquery - How to set mindate in hours in jquery datepicker

> ID：15715793
> 
> 赞同：1
> 
> 时间：2013-03-30T06:41:27.103
> 
> 标签：jquery, jquery-ui-datepicker

I am using jquery date picker . now i want set mindate as 62 hours but it is taking input only mindate : '3' ie.. means it takes 72 hours . i want only 62 hours . please help me to resolve this issue.thank you in advance i am attaching snap of code.

```
 <script>
  $(function() {
    $( "#datepicker" ).datepicker({ minDate: 3, beforeShowDay: function(date){   var day = date.getDay();   return [day == 3 ,""];} });
  });
  </script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:46:16.243

You can compute the date for `now - 62hrs` and provide that as a paramter to the datepicker's `minDate` property

```
'minDate': new Date(((new Date).getTime() - 62 * 60 * 60 * 1000) ) 
```

# perl - 检查 curl 的返回码，如果不是 0 电子邮件管理员

> ID：15715798
> 
> 赞同：0
> 
> 时间：2013-03-30T06:42:36.443
> 
> 标签：perl, curl, time

我正在尝试使用与以下类似的行检查 google aws 服务器的状态：

时间卷曲-k [https://blablabla.azazonaws.com/ratingsvc](https://blablabla.azazonaws.com/ratingsvc)

如果连接失败、超时等。我想给管理员发电子邮件。

我无法将错误代码放入变量中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:36:51.917

为了进一步控制 HTTP GET（返回码、分析消息内容等），我推荐使用[LWP::UserAgent](http://search.cpan.org/~gaas/libwww-perl-6.05/lib/LWP/UserAgent.pm)

```
use LWP::UserAgent;

my $ua = LWP::UserAgent->new;
my $response = $ua->get('https://blablabla.azazonaws.com/ratingsvc'); 
```

并且`$response`是[HTTP::Response](http://search.cpan.org/~gaas/HTTP-Message-6.06/lib/HTTP/Response.pm)的一个实例，因此您可以完全控制 GET 响应。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-31T13:01:00.910

您可以这样做以获取返回的退出代码：

```
use strict;
use warnings;

my $command = 'time curl -k https://blablabla.azazonaws.com/ratingsvc';

my $return_code = system($command);

if ($return_code == 0) {
    print "Everything went well...\n";
} else {
    print "Oops... curl exited with code $return_code\n";
} 
```

这也会将 STDOUT 和 STDERR 从 curl 打印到屏幕上，但不会影响您的程序。如果您不想看到命令的输出，可以在末尾添加一些内容，例如 >/dev/null，您仍然会得到返回的退出代码。

高温高压

弗朗西斯科

# sql - 如何使用多个连接改进 SQL 视图

> ID：15715801
> 
> 赞同：0
> 
> 时间：2013-03-30T06:43:04.470
> 
> 标签：sql, performance, join

我对 SQL 很陌生，我需要创建一个数据源，其中包含来自许多不同表的数据。我写了以下脚本。它适用于少量数据，但是当数据量增加时，无法通过此查询获取数据。我该如何改进这个脚本，可能的瓶颈和关键点是什么？提前致谢。

```
SELECT     
   dbo.IDW_COSTDETAIL.IDW_PROJECT_FK, dbo.IDW_PROJECT_DATA.CODE + ' - ' + 
   dbo.IDW_PROJECT_DATA.DESCRIPTION AS PROJECT, 
   dbo.IDW_PROJECT_ALTERNATIVE.CODE + ' - ' + dbo.IDW_PROJECT_ALTERNATIVE.DESCRIPTION AS PRJ_ALTERNATIVE, 
   dbo.IDW_COSTDETAIL.BOQ_NO, 
   dbo.IDW_COSTDETAIL.IDW_CONTROLLING_CODE_FK AS BUDGETCODE,  
   dbo.IDW_CONTROLLING_CODE.DESCRIPTION AS BC_DESCR, 
   dbo.IDW_ACTIVITY.CODE AS ACTIVITY_ID, 
   dbo.IDW_ACTIVITY.DESCRIPTION AS ACTIVITY_DESCR, dbo.IDW_BOQ_DETAIL.REFERENCE, 
   dbo.IDW_BOQ_DETAIL.OUTLINE_SPEC1, dbo.IDW_BOQ_DETAIL.UOM AS ITEM_UOM, 
   dbo.IDW_COSTDETAIL.COST_CODE, 
   dbo.IDW_COSTDETAIL.COMMODITY_CODE, 
   CASE 
       WHEN IDW_COSTDETAIL.COMMODITY_CODE IS NULL 
         THEN IDW_COST_CODE.DESCRIPTION 
         ELSE IDW_COMMODITIES.DESCRIPTION 
   END AS SUBITEM_DESCR, 
   dbo.IDW_BOQ_DETAIL.AQ_QUANTITY / (DATEDIFF(day, dbo.IDW_ACTIVITY.START_DATE, dbo.IDW_ACTIVITY.END_DATE) + 1) AS ITEM_AQ, 
   dbo.IDW_COSTDETAIL.QUANTITY_BASED_AQ / (DATEDIFF(day, dbo.IDW_ACTIVITY.START_DATE, dbo.IDW_ACTIVITY.END_DATE) + 1) AS SUBITEM_AQ, 
   CASE 
       WHEN IDW_COSTDETAIL.COMMODITY_CODE IS NULL 
         THEN IDW_COST_CODE.UOM 
         ELSE IDW_COMMODITIES.UOM 
   END AS SUBITEM_UOM, 
   dbo.IDW_COSTDETAIL.COST / (DATEDIFF(day, dbo.IDW_ACTIVITY.START_DATE, dbo.IDW_ACTIVITY.END_DATE) + 1) AS UNIT_COST, 
   CASE 
      WHEN IDW_COSTDETAIL.COMMODITY_CODE IS NULL 
        THEN IDW_COST_CODE.CURRENCY 
        ELSE IDW_COMMODITIES.ESTIMATE_CURRENCY 
   END AS CATALOG_CUR, 
   dbo.IDW_BOQ_DETAIL.IQ_QUANTITY / (DATEDIFF(day, dbo.IDW_ACTIVITY.START_DATE, dbo.IDW_ACTIVITY.END_DATE) + 1) AS ITEM_IQ, 
   dbo.IDW_COSTDETAIL_IQ.QUANTITY / (DATEDIFF(day, dbo.IDW_ACTIVITY.START_DATE, dbo.IDW_ACTIVITY.END_DATE) + 1) AS SUBITEM_IQ, 
   dbo.IDW_ACTIVITY.START_DATE, dbo.IDW_ACTIVITY.END_DATE, DATEDIFF(day, dbo.IDW_ACTIVITY.START_DATE, dbo.IDW_ACTIVITY.END_DATE) AS DURATION, 
   dbo.SQLCALENDAR.DateKey AS FULLDATE, 
   dbo.IDW_COST_CODE_HIER_V.CODE + ' - ' + dbo.IDW_COST_CODE_HIER_V.DESCRIPTION AS CODE, 
   dbo.IDW_COST_CODE_HIER_V.COC_LVL1 + ' - ' + dbo.IDW_COST_CODE_HIER_V.COC_DESC_LVL1 AS COC_LVL1, 
   dbo.IDW_COST_CODE_HIER_V.COC_LVL2 + ' - ' + dbo.IDW_COST_CODE_HIER_V.COC_DESC_LVL2 AS COC_LVL2, 
   dbo.IDW_COST_CODE_HIER_V.COC_LVL3 + ' - ' + dbo.IDW_COST_CODE_HIER_V.COC_DESC_LVL3 AS COC_LVL3, 
   dbo.IDW_COST_CODE_HIER_V.COC_LVL4 + ' - ' + dbo.IDW_COST_CODE_HIER_V.COC_DESC_LVL4 AS COC_LVL4, 
   dbo.IDW_COST_CODE_HIER_V.COC_LVL5 + ' - ' + dbo.IDW_COST_CODE_HIER_V.COC_DESC_LVL5 AS COC_LVL5, 
   dbo.IDW_COMMODITIES_HIER_V.CODE + ' - ' + dbo.IDW_COMMODITIES_HIER_V.DESCRIPTION AS COMMODITY, 
   dbo.IDW_COMMODITIES_HIER_V.COM_LVL1 + ' - ' + dbo.IDW_COMMODITIES_HIER_V.COM_DESC_LVL1 AS COM_LVL1, dbo.IDW_COMMODITIES_HIER_V.COM_LVL2 + ' - ' + dbo.IDW_COMMODITIES_HIER_V.COM_DESC_LVL2 AS COM_LVL2, 
   dbo.IDW_COMMODITIES_HIER_V.COM_LVL3 + ' - ' + dbo.IDW_COMMODITIES_HIER_V.COM_DESC_LVL3 AS COM_LVL3, dbo.IDW_COMMODITIES_HIER_V.COM_LVL4 + ' - ' + dbo.IDW_COMMODITIES_HIER_V.COM_DESC_LVL4 AS COM_LVL4, 
   dbo.IDW_COMMODITIES_HIER_V.COM_LVL5 + ' - ' + dbo.IDW_COMMODITIES_HIER_V.COM_DESC_LVL5 AS COM_LVL5
FROM         
    dbo.IDW_PROJECT_DATA 
INNER JOIN
    dbo.IDW_ACTIVITY 
INNER JOIN
    dbo.IDW_COSTDETAIL ON dbo.IDW_ACTIVITY.IDW_PROJECT_FK = dbo.IDW_COSTDETAIL.IDW_PROJECT_FK AND dbo.IDW_ACTIVITY.IDW_PROJECT_ALTERNATIVE_FK = dbo.IDW_COSTDETAIL.IDW_PROJECT_ALTERNATIVE_FK AND dbo.IDW_ACTIVITY.CODE = dbo.IDW_COSTDETAIL.IDW_ACTIVITY_FK 
INNER JOIN
    dbo.IDW_CONTROLLING_CODE ON dbo.IDW_COSTDETAIL.IDW_CONTROLLING_CODE_FK = dbo.IDW_CONTROLLING_CODE.CODE AND dbo.IDW_COSTDETAIL.IDW_PROJECT_ALTERNATIVE_FK = dbo.IDW_CONTROLLING_CODE.IDW_PROJECT_ALTERNATIVE_FK AND dbo.IDW_COSTDETAIL.IDW_PROJECT_FK = dbo.IDW_CONTROLLING_CODE.IDW_PROJECT_FK ON dbo.IDW_PROJECT_DATA.IDW_PROJECT_FK = dbo.IDW_ACTIVITY.IDW_PROJECT_FK 
INNER JOIN
    dbo.IDW_PROJECT_ALTERNATIVE ON dbo.IDW_PROJECT_DATA.IDW_PROJECT_FK = dbo.IDW_PROJECT_ALTERNATIVE.IDW_PROJECT_FK AND dbo.IDW_ACTIVITY.IDW_PROJECT_FK = dbo.IDW_PROJECT_ALTERNATIVE.IDW_PROJECT_FK AND dbo.IDW_ACTIVITY.IDW_PROJECT_ALTERNATIVE_FK = dbo.IDW_PROJECT_ALTERNATIVE.CODE AND dbo.IDW_COSTDETAIL.IDW_PROJECT_FK = dbo.IDW_PROJECT_ALTERNATIVE.IDW_PROJECT_FK AND dbo.IDW_COSTDETAIL.IDW_PROJECT_ALTERNATIVE_FK = dbo.IDW_PROJECT_ALTERNATIVE.CODE AND dbo.IDW_CONTROLLING_CODE.IDW_PROJECT_FK = dbo.IDW_PROJECT_ALTERNATIVE.IDW_PROJECT_FK AND dbo.IDW_CONTROLLING_CODE.IDW_PROJECT_ALTERNATIVE_FK = dbo.IDW_PROJECT_ALTERNATIVE.CODE 
RIGHT OUTER JOIN
     dbo.IDW_BOQ_DETAIL ON dbo.IDW_PROJECT_ALTERNATIVE.CODE = dbo.IDW_BOQ_DETAIL.IDW_PROJECT_ALTERNATIVE_FK AND dbo.IDW_PROJECT_ALTERNATIVE.IDW_PROJECT_FK = dbo.IDW_BOQ_DETAIL.IDW_PROJECT_FK AND dbo.IDW_COSTDETAIL.ITEM_REFERENCE = dbo.IDW_BOQ_DETAIL.REFERENCE AND dbo.IDW_COSTDETAIL.BOQ_NO = dbo.IDW_BOQ_DETAIL.IDW_BOQ_FK AND dbo.IDW_COSTDETAIL.IDW_PROJECT_FK = dbo.IDW_BOQ_DETAIL.IDW_PROJECT_FK 
LEFT OUTER JOIN
    dbo.IDW_COST_CODE ON dbo.IDW_PROJECT_DATA.IDW_PROJECT_FK = dbo.IDW_COST_CODE.IDW_PROJECT_FK AND dbo.IDW_COSTDETAIL.IDW_PROJECT_FK = dbo.IDW_COST_CODE.IDW_PROJECT_FK AND dbo.IDW_COSTDETAIL.COST_CODE = dbo.IDW_COST_CODE.CODE 
LEFT OUTER JOIN
    dbo.IDW_COMMODITIES ON dbo.IDW_PROJECT_DATA.IDW_PROJECT_FK = dbo.IDW_COMMODITIES.IDW_PROJECT_FK AND dbo.IDW_COSTDETAIL.IDW_PROJECT_FK = dbo.IDW_COMMODITIES.IDW_PROJECT_FK AND dbo.IDW_COSTDETAIL.COMMODITY_CODE = dbo.IDW_COMMODITIES.CODE 
LEFT OUTER JOIN
    dbo.IDW_COST_CODE_HIER_V ON dbo.IDW_COSTDETAIL.COST_CODE = dbo.IDW_COST_CODE_HIER_V.CODE AND dbo.IDW_COSTDETAIL.IDW_PROJECT_FK = dbo.IDW_COST_CODE_HIER_V.IDW_PROJECT_FK 
LEFT OUTER JOIN
    dbo.IDW_COMMODITIES_HIER_V ON dbo.IDW_COSTDETAIL.COMMODITY_CODE = dbo.IDW_COMMODITIES_HIER_V.CODE AND dbo.IDW_COSTDETAIL.IDW_PROJECT_FK = dbo.IDW_COMMODITIES_HIER_V.IDW_PROJECT_FK 
LEFT OUTER JOIN
    dbo.IDW_COSTDETAIL_IQ ON dbo.IDW_COSTDETAIL.IDW_PROJECT_FK = dbo.IDW_COSTDETAIL_IQ.IDW_PROJECT_FK AND dbo.IDW_COSTDETAIL.IDW_PROJECT_ALTERNATIVE_FK = dbo.IDW_COSTDETAIL_IQ.IDW_PROJECT_ALTERNATIVE_FK AND dbo.IDW_COSTDETAIL.ID = dbo.IDW_COSTDETAIL_IQ.IDW_COSTDETAIL_FK 
CROSS JOIN
    dbo.SQLCALENDAR
WHERE     
    (dbo.IDW_BOQ_DETAIL.ITEM_KIND = 2) 
    AND (dbo.SQLCALENDAR.DateKey BETWEEN CONVERT(CHAR(8), dbo.IDW_ACTIVITY.START_DATE, 112) AND CONVERT(CHAR(8), dbo.IDW_ACTIVITY.END_DATE, 112)) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T06:56:34.860

在 SSMS 中运行脚本，生成执行计划，并创建它建议的指标。

# javascript - 如何使用 javascript 验证预定义的值

> ID：15715806
> 
> 赞同：0
> 
> 时间：2013-03-30T06:44:24.983
> 
> 标签：javascript

我在 html 中有一个输入文本框，我想只允许用户输入“Y”或“N”，如果他尝试输入任何其他字符，那么它应该显示一个警告对话框。所以有人可以帮我进入dis吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:51:29.900

jQuery版本

```
$('input').keypress( function( e ){ 

    $(this).val('');

    var code = e.which || e.keyCode ; 

    if ( !( code == 89 || code == 121 || 
            code == 78 || code == 110 ) ){

         alert('you entered wrong key');

         e.preventDefault();                   
    }

}); 
```

检查它在 jsfiddle [http://jsfiddle.net/TTgKF/](http://jsfiddle.net/TTgKF/)

内联 javascript 版本

```
<input id="keypress" onkeypress="return allowYN( this, event );" /> 
```

和 allowYN 定义为

```
function allowYN( el, event) {

    event = event || window.event;
    var charCode = (event.which) ? event.which : event.keyCode;

    el.value = '';

    isYN = (charCode == 89  || charCode == 121  || 
            charCode == 78  || charCode ==110 );

    if ( !isYN ) {

            alert('you entered wrong key');
    }

    return isYN;
} 
```

**您可以为 Delete 键 ( 46** )、Backspace 键 ( **8** )添加例外。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T06:49:00.377

假设您能够通过 ID 获取 HTML 元素，这将检查 #myInput 元素并且只接受 Y 或 N。

```
if ((document.getElementById('myInput').value == 'Y') ||
    (document.getElementById('myInput').value == 'N')) {
    // Do stuff if it's correct.
} else {
    alert("You're doing it wrong!");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T06:56:14.773

```
<html> 
<head>
    <script type="text/javascript">
        function keyPressed(evt)
        {
            var theEvent = evt || window.event;
            var k = theEvent.keyCode || theEvent.which;
            if(k == 89 || k == 78 || k == 8 || k == 46)
                return true;
            else{
                alert("Your Message");
                evt.preventDefault();
                return false;
            }
        }
    </script>
</head>
<body>
    <input type="text" onkeydown="keyPressed(event)" />
</body>
</html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T07:00:26.257

如前所述，最好的选择是使用单选按钮：

```
<input type="radio" name="yn" value="Y">Y<br>
<input type="radio" name="yn" value="N">N<br> 
```

Then either set one as selected or check on submit that one is selected. Alternatively, you can use scripted input elements, but it is not sensible:

```
<script>
function validateYN(element) {
  var errNode = document.getElementById(element.id + '_err');
  if(/^[YN]$/.test(element.value)) {
    errNode.innerHTML = '';
  } else {
    errNode.innerHTML = "You must enter Y or N";
  }
}
</script>

Please enter Y or N: <input name="foo" id="foo" onchange="validateYN(this);"
                      onblur="validateYN(this);">
                     <span id="foo_err"></span> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-30T07:07:01.450

you could also try this

```
 $("input").live('keypress', function(e) {
     if!( code == 89 || code == 121 || 
            code == 78 || code == 110 ) )  { 
            e.preventDefault();
            }
        else //your code 
```

# java - Free Sonar instanse for open-sourced projects

> ID：15715812
> 
> 赞同：12
> 
> 时间：2013-03-30T06:44:52.923
> 
> 标签：java, open-source, instance, sonarqube

I know that for Apache foundation projects there is [https://analysis.apache.org/](https://analysis.apache.org/)

Is there free Sonar instance for open-sourced projects?

UPDATE: ASF Sonar Instance is [deprecated and removed](https://cwiki.apache.org/confluence/display/INFRA/SonarQube+Analysis) as of 29th November 2019.

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-01T14:51:45.137

There's a public free instance of Sonar at [https://sonarcloud.io](https://sonarcloud.io) which is free for open source projects

# angularjs - Angular路由器中具有嵌套状态的后退按钮

> ID：15715813
> 
> 赞同：6
> 
> 时间：2013-03-30T06:45:06.470
> 
> 标签：angularjs, back-button, angular-ui, angularjs-routing, angular-routing

我有一个使用新的、基于状态的[ui-router](https://github.com/angular-ui/ui-router)的 AngularJS 应用程序。我的应用程序中有三个不同的视图，其中一个是顶级视图，另外两个是嵌套视图。

结构基本如下：

```
/ => Top-level view
/foo => Abstract view, loads a view that contains a ui-view placeholder
/foo/bar => View for the placeholder
/foo/baz => View for the placeholder 
```

路由器设置如下：

```
app.config(['$urlRouterProvider', '$stateProvider', function ($urlRouterProvider, $stateProvider) {
  'use strict';

  $urlRouterProvider
    .when('/bar', '/foo/bar')
    .otherwise('/');

  $stateProvider
    .state('home', {
      url: '/',
      views: {
        '': {
          controller: 'homeController',
          templateUrl: '/home/homeLayout.html',
        },
        'firstHomeView@home': {
          templateUrl: '/home/firstHomeView.html'
        },
        'secondHomeView@home': {
          templateUrl: '/homme/secondHomeView.html'
        }
      }
    })
    .state('foo', {
      abstract: true,
      templateUrl: '/foo/fooLayout.html',
      controller: 'fooController'
    })
    .state('foo.bar', {
      url: '/foo/bar',
      templateUrl: '/foo/barView.html',
      controller: 'barController'
    })
    .state('foo.baz', {
      url: '/foo/baz',
      templateUrl: '/foo/bazView.html',
      controller: 'bazController'
    }); 
```

问题是，当您单击或手动输入 url 时，基本上一切都按预期工作，但在使用浏览器的后退/前进按钮时它不起作用。

例如，你去`/foo`吗，你被带到`/foo/bar`，正如预期的那样。当您然后单击链接转到 时`/foo/baz`，一切都很好。然后单击一个链接，将您带到`/`，一切都很好。

If you now hit the back button, you are taken back to `/foo/baz` (which is correct), but only the `/foo/fooLayout.html` view is rendered, not its sub-view `/foo/bazView.html`. The strange thing is now that if you hit the back button again, you are taken to `/foo/bar` *and it renders correctly, including its subview*! It seems as if nested views weren't recognized when using the back button, at least, if you enter an abstract view at the same time.

`$locationProvider.html5Mode` is not enabled, but enabling it doesn't make any difference.

I am using AngularJS 1.0.5 and ui-router 0.0.1-2013-03-20.

Any ideas what might cause this issue, and how I might solve it?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T12:05:23.717

I found the error: In the view `fooLayout.html` I was using `ng-view` instead of `ui-view`. Once I changed that, everything was fine :-)

# php - 在 Moodle 中将用户添加到组

> ID：15715820
> 
> 赞同：0
> 
> 时间：2013-03-30T06:46:44.003
> 
> 标签：php, moodle

我是穆德尔的新手。我不知道如何将用户分配到组中。

当我想将用户分配到我的测试站点中的组时，我没有得到用户列表。

我开始了一门课程并将模式置于强制组模式。

我在课程中注册了一些测试用户，然后我让这些用户添加到我创建的组中。

但是，为了访问课程，用户应该被要求提供组的注册密钥。但是即使没有密钥，用户也可以访问课程。

我是否需要审查我的权限？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T13:00:46.837

在注册课程时，Moodle 不会要求提供注册密钥，因为您以错误的方式进行操作。

要使用自动分配组注册密钥功能，您需要遵循以下内容 -

1.  Add self enrollment plugin in course with **Enrolment key = anything** and **Use group enrolment keys = YES**

2.  Create a group with enrolment key.

3.  Now login as student go to that course you will see enrolment key option type enrolment key which you have mention while creating a group.
4.  That particular user will automatically assigned to that group.

# iphone - 手动搜索位置时显示位置选项

> ID：15715822
> 
> 赞同：1
> 
> 时间：2013-03-30T06:46:47.913
> 
> 标签：iphone, objective-c, uitextfield, cllocationmanager

在用户开始输入位置名称的文本字段中，我想在下面显示位置名称列表作为用户类型，类似于以字母“A”开头的搜索字段显示“A”的所有选项。这怎么可能实现。

**如何获取位置名称？**

请指导以上。如果有任何其他问题需要询问，请随时询问。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:04:57.967

你肯定需要使用google api。这是一个链接：[https ://developers.google.com/places/documentation/autocomplete](https://developers.google.com/places/documentation/autocomplete)

`The Google Places Autocomplete API is a web service that returns Place information based on text search terms, and, optionally, geographic bounds. The API can be used to provide autocomplete functionality for text-based geographic searches, by returning Places such as businesses, addresses, and points of interest as a user types.`

您需要使用[https://code.google.com/apis/console/#project:18836829369](https://code.google.com/apis/console/#project:18836829369)创建您的 API 密钥。当您收到回复时，您只需要查看`predictions`您的 json 回复。

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:02:06.467

您可以使用以下给定的功能：

```
- (void)searchText:(NSString *)substring
{
        for (int i = 0; i < [yourArray count]; i++)
        {
            NSString *curString = [[yourArray objectAtIndex:i]lowercaseString];
            NSString *searchString = [substring lowercaseString];

            if ([curString rangeOfString:curStringSmall].location == NSNotFound)
            {
            }
            else
            {
                //This means searched text is found in your array. you can store it in new array. Which will give you only the search criteria matched element.
            }
        }
} 
```

您需要从以下位置调用此函数`textFieldShouldBeginEditing`：

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField
{

  [self searchText:txtSearch.text];
   return YES;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T06:53:00.327

您应该使用 google place API。我对此了解不多，但[此](http://www.totagogo.com/2011/02/08/google-local-search-ios-code/)链接会有所帮助。

请记住这一点用于位置搜索而不是自动完成搜索栏。

# c++ - 重新分配时，while循环外的变量变为NULL

> ID：15715823
> 
> 赞同：0
> 
> 时间：2013-03-30T06:46:49.297
> 
> 标签：c++, object, while-loop

第二个问题我问的是同一个程序。感觉不对，但又忍不住。

这是导致问题的代码：

```
int main()
{

Link* link = new Link();
Instance* A = new Instance('A');
Instance* B = new Instance('B');
Instance* C = new Instance('C');
Instance* D = new Instance('D');
Instance* E = new Instance('E');
Instance* F = new Instance('F');
Instance* G = new Instance('G');
Instance* H = new Instance('H');
Instance* I = new Instance('I');
Instance* J = new Instance('J');
Instance* K = new Instance('K');
Instance* L = new Instance('L');
Instance* current= new Instance('X');
A->setNearbyObjects(NULL,B,E,NULL);
B->setNearbyObjects(NULL,NULL,F,A);
C->setNearbyObjects(NULL,D,G,NULL);
D->setNearbyObjects(NULL,NULL,NULL,C);
E->setNearbyObjects(A,NULL,I,NULL);
F->setNearbyObjects(B,G,NULL,NULL);
G->setNearbyObjects(C,H,K,F);
H->setNearbyObjects(NULL,NULL,L,G);
I->setNearbyObjects(E,J,NULL,NULL);
J->setNearbyObjects(NULL,NULL,NULL,I);
K->setNearbyObjects(G,NULL,NULL,NULL);
L->setNearbyObjects(H,NULL,NULL,NULL);
string nesw[4] = {"(N)orth","(E)ast","(S)outh","(W)est"};
char choice='X';
current=A;
while((current!=L)&&(choice!='Q'))
{
    current->message();
    cout<<"You can go ";
    for(int i=0;i<current->getPaths().size();i++)
    {
        if(current->getPaths()[i]!=NULL)
        {
            cout<<nesw[i].c_str()<<", ";
        }
    }
    cout<<"or (Q)uit"<<endl;
    cin>>choice;
    choice=toupper(choice);
    while((choice!='N')&&(choice!='E')&&(choice!='S')&&(choice!='W')&&(choice!='Q'))
    {
        cout<<"Choice: "<<choice<<endl;
        cout<<"Invalid input. Try again..."<<endl;
        cin>>choice;
        choice=toupper(choice);
    }
    switch(choice)
    {
    case 'N':
        current=current->getPaths()[0];
    case 'E':
        current=current->getPaths()[1];
    case 'S':
        current=current->getPaths()[2];
    case 'W':
        current=current->getPaths()[3];
    default:
        break;
    }
}
if(current==L)
{
    cout<<"\n\nYou have found the exit."<<endl;
}
return 0;
}; 
```

如您所想，这个“当前”变量存储当前对象。在开始 while 循环之前，我将其设置为对象 A。在 while 循环结束时，我通过 case 语句将其更改为其他内容。

问题是，当循环回到开始时，'current' 变为 NULL。当我尝试调用 current->message() 时，它会崩溃，因为“current”中没有任何内容。

感觉就像我在这里犯的一些基本错误。但是我已经在这个问题上抨击了两天，但没有任何效果。

谁能给我解释一下这里发生了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T06:57:36.423

You are missing `break` statement in your choice switch. So it always uses "West" option. The west is NULL in your cell A.

# git - 如何在某个 Git 存储库中获取 Git 存储库的名称？

> ID：15715825
> 
> 赞同：209
> 
> 时间：2013-03-30T06:47:04.637
> 
> 标签：git, repository

当您在某个 Git 目录中工作时，如何获取某个 Git 存储库中的 Git 存储库名称？有 Git 命令吗？

```
# I did check out bar repository and working in somewhere 
# under bar directory at this moment such as below.

$ git clone git://github.com/foo/bar.git
$ cd bar/baz/qux/quux/corge/grault # and I am working in here!
$ git xxx # <- ???
bar 
```

* * *

## 回答 #1

> 赞同：210
> 
> 时间：2013-03-30T07:09:46.490

好吧，如果对于存储库名称，您的意思是 Git 根目录名称（包含 .git 目录的名称），您可以运行以下命令：

```
basename `git rev-parse --show-toplevel` 
```

该`git rev-parse --show-toplevel`部分为您提供该目录的路径并`basename`删除路径的第一部分。

* * *

## 回答 #2

> 赞同：163
> 
> 时间：2013-03-30T07:05:55.863

一般来说，你不能这样做。Git 不关心你的 git 存储库是如何命名的。例如，您可以重命名包含您的存储库的目录（一个带有`.git`子目录的目录），而 git 甚至不会注意到它 - 一切都会继续工作。

但是，如果你克隆它，你可以使用命令：

```
git remote show origin 
```

显示有关您从中克隆存储库的原始远程的大量信息，并且它将包含原始克隆 URL。

但是，如果您使用 删除了指向原始远程的链接`git remote rm origin`，或者您使用 创建了该存储库`git init`，则根本无法获得此类信息-它在任何地方都不存在。

* * *

## 回答 #3

> 赞同：147
> 
> 时间：2017-03-01T22:05:00.227

无需联系存储库来获取名称，文件夹名称不一定反映远程名称。

我发现这是获取当前存储库名称的最准确和最有效的方法：

```
basename -s .git `git config --get remote.origin.url` 
```

这应该从 Git 1.8.1.5 开始工作。在此之前，现在已弃用的`git-repo-config`命令会起作用（早在 Git 1.7.5 中）。

* * *

## 回答 #4

> 赞同：39
> 
> 时间：2018-08-10T21:39:17.373

在[git v2.7.0+](https://github.com/git/git/blob/35f6318/Documentation/RelNotes/2.7.0.txt)`get-url`中，引入了一个子命令来`git-remote`命令。

POSIX 外壳：

```
basename $(git remote get-url origin) 
```

电源外壳：

```
Split-Path -Leaf (git remote get-url origin) 
```

* * *

## 回答 #5

> 赞同：22
> 
> 时间：2019-11-13T18:55:30.367

如果您尝试在 github 上获取用户名或组织名称以及项目或 repo 名称，我能够编写至少在本地对我有用的命令。

```
▶ git config --get remote.origin.url
# => https://github.com/Vydia/gourami.git

▶ git config --get remote.origin.url | sed 's/.*\/\([^ ]*\/[^.]*\).*/\1/' # Capture last 2 path segments before the dot in .git
# => Vydia/gourami 
```

这是所需的结果，`Vydia`组织名称和`gourami`包名称也是如此。结合起来，它们可以帮助形成完整的`User/Repo`路径

* * *

## 回答 #6

> 赞同：19
> 
> 时间：2015-04-29T13:56:33.647

当您的目录名称与远程存储库名称不对应时（它可以），其他答案仍然不起作用。您可以通过以下方式获取存储库的*真实名称：*

`git remote show origin -n | grep "Fetch URL:" | sed -E "s#^.*/(.*)$#\1#" | sed "s#.git$##"`

基本上，您调用`git remote show origin`，从“Fetch URL:”字段获取存储库 URL，并对其进行正则表达式以获取名称部分： [https : **//github.com/dragn/neat-vimrc** .git](https://github.com/dragn/__neat-vimrc__.git)

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2019-04-10T15:52:18.680

这个问题有点晚了，但如果你：

```
cat /path/to/repo/.git/config 
```

您将看到包含 reponame 的存储库的 url：

```
[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
    ignorecase = true
    precomposeunicode = true
[remote "origin"]
    url = https://github.com/your_git_user_name/your_git_repo_name.git
    fetch = +refs/heads/*:refs/remotes/origin/*
[branch "master"]
    remote = origin
    merge = refs/heads/master 
```

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2018-04-17T18:17:40.110

我认为这是**明确识别存储库克隆**的更好方法。

`git config --get remote.origin.url`并检查以确保原点匹配`ssh://your/repo`。

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2019-07-14T16:17:54.953

回购全名：

```
git config --get remote.origin.url | grep -Po "(?<=git@github\.com:)(.*?)(?=.git)" 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2015-12-16T17:43:13.520

如果你想要整个 GitHub 存储库名称（“全名”） - 用户/存储库，并且你想用 Ruby 来做......

```
git remote show origin -n | ruby -ne 'puts /^\s*Fetch.*:(.*).git/.match($_)[1] rescue nil' 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2013-03-30T07:09:31.097

不幸的是，Git 似乎没有内置这样的命令。但是您可以使用 Git 别名和一些 shell 魔术轻松地自己添加它。

[正如这个答案](https://stackoverflow.com/questions/957928/is-there-a-way-to-get-the-git-root-directory-in-one-command)所指出的，您可以使用它`git rev-parse --show-toplevel`来显示当前 Git 文件夹的根目录。

如果您想定期使用它，将其定义为别名可能更方便。为此，使用了`git config alias.root '!echo "$(git rev-parse --show-toplevel)"'`. 在此之后，您可以使用`git root`查看当前所在存储库的根文件夹。

如果您想使用另一个子命令名称而不是，只需将上述命令中`root`的第二部分替换为您想要的任何内容。`alias.root`

有关 Git 中别名的详细信息，另请参见[`git config`手册页](http://git-scm.com/docs/git-config)。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2017-03-15T13:40:50.613

这种方法`git-remote`对我来说非常适合 HTTPS 遥控器：

```
$ git remote -v | grep "(fetch)" | sed 's/.*\/\([^ ]*\)\/.*/\1/'
                                                |  |        | |
                                                |  |        | +---------------+
                                                |  |        | Extract capture |
                                                |  +--------------------+-----+
                                                |Repository name capture|
                                                +-----------------------+ 
```

例子

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2017-11-09T22:36:19.200

这是一个 bash 函数，它将打印存储库名称（如果已正确设置）：

```
__get_reponame ()
{
    local gitdir=$(git rev-parse --git-dir)

    if [ $(cat ${gitdir}/description) != "Unnamed repository; edit this file 'description' to name the repository." ]; then
        cat ${gitdir}/description
    else
        echo "Unnamed repository!"
    fi
} 
```

解释：

```
local gitdir=$(git rev-parse --git-dir) 
```

这会执行，它会打印当前存储库目录`git rev-parse --git-dir`的完整路径。`.git`它将路径存储在`$gitdir`.

```
if [ $(cat ${gitdir}/description) != "..." ]; then 
```

这会执行`cat ${gitdir}/description`，它会打印`.git/description`当前存储库的内容。如果您正确命名了存储库，它将打印一个名称。否则会打印`Unnamed repository; edit this file 'description' to name the repository.`

```
cat ${gitdir}/description 
```

如果 repo 命名正确，则打印内容。

```
else 
```

除此以外...

```
echo "Unnamed repository!" 
```

告诉用户该 repo 未命名。

* * *

[在这个脚本](https://github.com/aaronryank/prompts/commit/a4b1f28d8a75e529eed0bcd53d2215751393f9da#diff-03fab4f59b7cbc40251559cee88cd0f3)中实现了类似的东西。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2017-05-05T01:31:52.067

这是我的：

```
git remote --verbose | grep origin | grep fetch | cut -f2 | cut -d' ' -f1 
```

不比其他人好，但我把它做成了一个 bash 函数，所以如果它不是来源，我可以放入远程名称。

```
grurl () {
  xx_remote=$1
  [ -z "$xx_remote" ] && xx_remote=origin
  git remote --verbose | grep "$1" | grep fetch | cut -f2 | cut -d' ' -f1
  unset xx_remote
} 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2018-11-12T20:58:03.317

另外我只是发现`.git`目录中有一些回购信息。因此，您可以`FETCH_HEAD`在终端中查看文件以查看 repo 的名称：

**例子：**

```
cd your_project_folder/.git
more FETCH_HEAD 
```

**输出：**

```
672e38391557a192ab23a632d160ef37449c56ac        https://bitbucket.org/fonjeekay/some_repo 
```

并且`https://bitbucket.org/somebituser/some_repo.git`是您的存储库的名称

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2020-04-20T08:27:05.720

这个与 git-2.18.2 配合得很好，可以从外部 git 目标存储库启动：

`basename -s .git $(git --git-dir=/<project-path>/.git remote get-url origin)`

* * *

## 回答 #17

> 赞同：-1
> 
> 时间：2017-07-23T18:16:55.677

您可以使用： git remote -v

文档： [https ://git-scm.com/docs/git-remote](https://git-scm.com/docs/git-remote)

> 管理您跟踪其分支的一组存储库（“远程”）。-v --verbose 更详细一点，并在名称后显示远程 url。注意：这必须放在远程和子命令之间。

# php - 从 PHP 中的 wordreference API 中删除元素

> ID：15715832
> 
> 赞同：0
> 
> 时间：2013-03-30T06:48:04.637
> 
> 标签：php, html, api

如何通过 PHP 中的说明删除我想要的元素（例如，搜索框）？

*`Link : http://api.wordreference.com/38159/enes/hello`*

*注意：在我的网站中，我首先请求您在上面的链接中看到的内容并将其粘贴到 div 中，如果此信息有任何用处*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:03:10.570

用于在 HTML 树中搜索某些元素，这似乎是 DOMXPath 用于搜索 XML 树的树。

看看：[http](http://www.php.net/manual/en/domxpath.query.php) : //www.php.net/manual/en/domxpath.query.php 但是请记住，搜索 XML 树并不是最便宜的操作，因此请谨慎使用。

编写 XPath 查询可能很棘手 - 但 Firebug 可以用来轻松地形成它们（在 firebug 中，转到一些需要的元素并悬停“CSS 路径”firebug 正在显示 - 工具提示包含相同的 XPath...）

好吧，假设您例如想要获取内容，请尝试： $word = "hello";

```
$doc = new DOMDocument;

// We don't want to bother with white spaces.
$doc->preserveWhiteSpace = false;

// preg_replace is used for security, all except a-z and 0-9, and underscore will be replaced with nothing.
$url = "http://api.wordreference.com/38159/enes/" . preg_replace( "/[^\w ]/", "", $word );

$doc -> Load( $url );

$xpath = new DOMXPath($doc);

// We start from the root element.
$entries = $xpath -> query( "//html/body/div/div[3]" );

// do some stuff with the elements found... 
```

# c++ - directshow 变换过滤器包装

> ID：15715836
> 
> 赞同：0
> 
> 时间：2013-03-30T06:48:44.270
> 
> 标签：c++, directshow

有人知道包装直接显示变换过滤器的方法吗？我需要使用 directshow 转换过滤器，过滤器的源代码无法访问，并且我的应用程序是在 Media Foundation 中开发的，我没有找到任何在 MF 中使用 DS 过滤器的方法，有什么建议吗？

像这样的东西：[Direct Show Native Wrapper](http://oss.netfarm.it/dsnative/)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T21:22:36.460

过滤器不应该在图形之外运行，您需要在过滤器上创建一个最小图形。由于转换过滤器通常同时具有输入和输出，因此该图将包括一些源、转换本身和一些接收器过滤器（可以是[Sample Grabber](http://msdn.microsoft.com/en-us/library/windows/desktop/dd377544%28v=vs.85%29.aspx)过滤器和[Null Renderer](http://msdn.microsoft.com/en-us/library/windows/desktop/dd390934%28v=vs.85%29.aspx)过滤器 - 一个典型的用例）。

总之，这将是转换过滤器的包装器。

# ipython - ipython中的括号匹配

> ID：15715837
> 
> 赞同：4
> 
> 时间：2013-03-30T06:48:58.383
> 
> 标签：ipython, ipython-notebook

在 IPython 中是否有自动关闭括号、引号、括号等的选项？

我希望有一个类似于 gedit 插件的功能。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T11:05:51.470

如果[codemirror 支持它，](http://codemirror.net/doc/manual.html)那么可能通过猴子补丁来实现。可配置性正在取得进展，但还有很长的路要走。欢迎补丁。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-26T16:03:44.833

可以通过调整 ~/.inputrc 来获取使用 readline 自动添加右括号的应用程序（包括 IPython），如此处建议的那样[，](https://stackoverflow.com/questions/11486757/autoclose-gnu-readline)例如通过添加："(": "\Cv() \e[D"

请注意，根据 IPython 的创建者，[自动括号匹配不能](http://mail.scipy.org/pipermail/ipython-user/2012-January/009144.html)在普通的基于 readline 的应用程序中完成（即在正常的 IPython 终端会话中）。虽然它已经是 IPython 的 qtconsole 标准功能的一部分（尽管如下所述，自动关闭括号目前是不可能的）。

# mysql - 多个 SUM 和多个计算值

> ID：15715841
> 
> 赞同：0
> 
> 时间：2013-03-30T06:49:21.710
> 
> 标签：mysql, sum

在我的系统中计算了来料和用料后，如果有人要进行调整，则有一个调整项。

QUERY 来料 - 材料的使用

```
select (select sum(jumlah) from warehouse where tgl_invoice >= '2013-03-17' AND tgl_invoice <='2013-03;18' and kode=a.kode) - COALESCE((select sum(jumlah) from use_material where tanggal >= '2013-03-17' AND tanggal <='2013-03;18' and kode_barang=a.kode),0)  total, a.kode, a.nama from warehouse a group by a.kode; 
```

```
+--------+----------+------------+
| 总计| 科德 | 名 |
+--------+----------+------------+
| 4 | ACLG001 | AC LG 1 包 |
| 160 | P001 | 主轴 |
| 30 | S012 | 电缆 |
+--------+----------+------------+

```

```
mysql> select * from adjusment; 
```

结果 ：

```
+----+-------------+-------------+--------+------- -+------------+---------------+
| 编号 | 科德巴朗 | nama_barang | 状态 | 朱姆拉 | 唐加 | 用户 |
+----+-------------+-------------+--------+------- -+------------+---------------+
| 7 | P001 | 主轴 | + | 10 | 2013-03-30 | 管理员 |
| 8 | P001 | 主轴 | - | 5 | 2013-03-30 | 管理员 |
| 9 | S012 | 电缆 | + | 0 | 2013-03-30 | 管理员 |
+----+-------------+-------------+--------+------- -+------------+---------------+

```

我计算过

```
select(select sum(jumlah) from adjusment where status='+') - (select sum(jumlah) from adjusment where status='-') as total,kode_barang,nama_barang from adjusment group by kode_barang; 
```

```
+-------+-------------+-------------+
| 总计| 科德巴朗 | nama_barang |
+-------+-------------+-------------+
| 5 | P001 | 主轴 |
| 5 | S012 | 电缆 |
+-------+-------------+-------------+

```

我对最后一只股票的查询是这样的：

```
select (select sum(jumlah) from warehouse where tgl_invoice >= '2013-03-17' AND tgl_invoice <='2013-03;18' and kode=a.kode) - (select sum(jumlah) from use_material where tanggal >= '2013-03-17' AND tanggal <='2013-03:18' and kode_barang=a.kode) + COALESCE((select sum(jumlah) from adjusment where status='+' and kode_barang=a.kode),0) - COALESCE((select sum(jumlah) from adjusment where status='-' and kode_barang=a.kode),0) as total,a.kode,a.nama from warehouse a group by a.kode; 
```

```
+--------+----------+------------+
| 总计| 科德 | 名 |
+--------+----------+------------+
| 空 | ACLG001 | AC LG 1 包 |
| 165 | P001 | 主轴 |
| 30 | S012 | 电缆 |
+--------+----------+------------+

```

结果应该是 Cable = 35 和 AC LG 1 PK = 4。

怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:01:36.233

格式化后似乎更容易：

```
SELECT wh.total + COALESCE(adj.total,0) AS total, wh.kode, wh.nama FROM (
    SELECT(
        SELECT SUM(jumlah) FROM warehouse 
        WHERE tgl_invoice >= '2013-03-17' AND tgl_invoice <='2013-03;18' AND kode = a.kode
    ) - COALESCE(
        (SELECT SUM(jumlah) FROM use_material 
        WHERE tanggal >= '2013-03-17' AND tanggal <='2013-03;18' AND kode_barang = a.kode), 
        0
    ) AS total, 
    a.kode, a.nama FROM warehouse AS a 
    GROUP BY a.kode
) AS wh
LEFT JOIN
(
    SELECT(
        SELECT SUM(jumlah) FROM adjusment 
        WHERE status = '+'
    ) - (
        SELECT SUM(jumlah) FROM adjusment 
        WHERE status = '-'
    ) AS total, kode_barang, nama_barang FROM adjusment 
    GROUP BY kode_barang
) AS adj
ON wh.kode = adj.kode_barang 
```

# c# - 使用 MVC 模型显示只读文本

> ID：15715842
> 
> 赞同：3
> 
> 时间：2013-03-30T06:49:22.620
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

我有一个 MVC 模型，其属性定义为：

```
[DisplayName("Service Version")]
public string ServiceVersion { get; set; } 
```

在屏幕上，我希望它显示为：

> 服务版本：**0.1**

'ServiceVersion' 有版本号。

在视图中，我有：

```
@model Main_UI.Models.HomeModel 
```

进而：

```
@Html.LabelFor(m=>m.ServiceVersion) @Html.DisplayText(Model.ServiceVersion) 
```

这是不正确的，因为值部分没有显示任何内容。标签出现，但没有版本号。我究竟做错了什么？

编辑：更改

> @Html.DisplayText(Model.ServiceVersion)

, 只是

> @Model.ServiceVersion

已修复它。这是正确的方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T07:02:30.710

您可以尝试@karthik 在评论中提到的内容，也可以使用该属性

```
[ReadOnly(true)]
[DisplayName("Service Version")]
public string ServiceVersion { get; set; } 
```

并在视图中使用默认值

```
@Html.LabelFor(m=>m.ServiceVersion) @Html.DisplayText(Model.ServiceVersion) 
```

# ruby-on-rails - 在 Rails 上，是否有一个快捷方式来检查布尔定义的变量并使用它的值，或者如果没有定义则使用默认值？

> ID：15715844
> 
> 赞同：2
> 
> 时间：2013-03-30T06:49:39.103
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-2

在 Ruby on Rails 3 上，我尝试使用布尔变量的值（如果已定义），否则使用默认值 true。我该怎么写这样的东西？

```
if var.defined?
  var 
else
 true
end 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:55:51.137

你可以做：

```
aVar ||= aVar.nil? 
```

如果变量还没有值，它将分配值 true 。

`||=`如果左变量没有值，则运算符将右值分配给左变量。将默认值分配给变量非常有用。如果不存在或有值，`aVar.nil?`则返回 true 。总之，它实现了您想要做的事情。`aVar``nil`

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-30T07:08:48.507

你可以试试：

```
if var.present?  
 var  
else  
 true  
end 
```

# c# - DataGridView 中的绑定组合框

> ID：15715850
> 
> 赞同：1
> 
> 时间：2013-03-30T06:50:08.630
> 
> 标签：c#, winforms, datagridview

如何在 Windows 应用程序中将值与`List<>`in绑定？`datagridview`我希望用户可以选择任何东西，就像他会从其中选择卷号一样`combobox`，`datagridview`并且在另一个单元格上将显示该卷号的名称。下面我希望 Roll No 将是组合框，名称将是`textbox`.

我将如何做到这一点？

```
 ===============================================================
   Roll No                Name
  ===============================================================
   509                John Watson 
```

# android - 通过 maven 将 apklib 文件部署到 nexus

> ID：15715855
> 
> 赞同：1
> 
> 时间：2013-03-30T06:50:40.633
> 
> 标签：android, maven

我在我的项目中使用 android-saripaar 库。现在我想将此库部署到我的内部关系存储库。我在上面库的pom.xml文件中添加了分发管理标签。这是完整的库pom.xml文件

```
<?xml version="1.0" encoding="UTF-8"?>

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.mobsandgeeks.saripaar</groupId>
    <artifactId>android-saripaar</artifactId>
    <version>1.0-SNAPSHOT</version>
    <name>android-saripaar</name>
    <packaging>apklib</packaging>

    <properties>
        <java.version>1.6</java.version>
    </properties>

    <distributionManagement>
        <repository>
            <id>confiz-repo</id>
            <url>http://10.10.10.230:8081/nexus/content/repositories/snapshots/</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
                <updatePolicy>always</updatePolicy>
            </snapshots>
        </repository>
     </distributionManagement>

    <dependencies>
        <dependency>
            <groupId>com.google.android</groupId>
            <artifactId>android</artifactId>
            <scope>provided</scope>
            <version>4.1.1.4</version>
        </dependency>
        <dependency>
            <groupId>com.google.android</groupId>
            <artifactId>support-v4</artifactId>
            <version>r7</version>
        </dependency>
    </dependencies>

    <build>
        <sourceDirectory>src</sourceDirectory>

        <plugins>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.5</version>
                <configuration>
                    <source>${java.version}</source>
                    <target>${java.version}</target>
                </configuration>
            </plugin>

            <plugin>
                <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                <artifactId>android-maven-plugin</artifactId>
                <version>3.4.1</version>
                <configuration>
                    <sdk>
                        <platform>16</platform>
                    </sdk>
                </configuration>
            </plugin>

            <plugin>
                <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                <artifactId>android-maven-plugin</artifactId>
                <version>3.4.1</version>
                <extensions>true</extensions>
                <configuration>
                    <nativeLibrariesDirectory>ignored</nativeLibrariesDirectory>
                </configuration>
            </plugin>

        </plugins>

    </build>
</project> 
```

现在在我希望使用 maven 构建的目标项目中，我包含了以下依赖项

com.mobsandgeeks.saripaar android-saripaar 1.0-SNAPSHOT

我的 settings.xml 文件包含以下条目

```
<?xml version="1.0" encoding="UTF-8"?>

<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0" 
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
          xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">
  <pluginGroups>
  </pluginGroups>

  <proxies>
  </proxies>

  <servers>
    <server>
      <id>confiz-repo</id>
      <username>admin</username>
      <password>admin123</password>
    </server>
  </servers>

  <mirrors>
    <mirror>
      <!-- The id of this mirror and the server instance above needs to be the same!-->
      <id>confiz-repo</id>
      <mirrorOf>*</mirrorOf>
      <url> http://10.10.10.230:8081/nexus/content/groups/public/</url>
    </mirror>
    <mirror>
      <!-- The id of this mirror and the server instance above needs to be the same!-->
      <id>confiz-repo</id>
      <mirrorOf>*</mirrorOf>
      <url> http://10.10.10.230:8081/nexus/content/repositories/snapshots/</url>
    </mirror>
  </mirrors>

  <profiles>
    <profile>
      <id>nexus</id>
      <!--Enable snapshots for the built in central repo to direct -->
      <!--all requests to nexus via the mirror -->
      <repositories>
        <repository>
          <id>confiz-repo</id>
          <url>http://central</url>
          <releases>
        <enabled>true</enabled>
      </releases>
          <snapshots>
        <enabled>true</enabled>
        <updatePolicy>always</updatePolicy>
      </snapshots>
        </repository>
      </repositories>
      <pluginRepositories>
        <pluginRepository>
          <id>confiz-repo</id>
          <url>http://central</url>
          <releases>
        <enabled>true</enabled>
      </releases>
          <snapshots>
        <enabled>true</enabled>
      </snapshots>
        </pluginRepository>
      </pluginRepositories>
    </profile>
  </profiles>

  <activeProfiles>
    <activeProfile>nexus</activeProfile>
  </activeProfiles>

</settings> 
```

我在库项目上做了一个 mvn deploy ，这使得构建成功。我去分发管理中提到的路径，我可以在那里看到我的项目。

现在在第二个项目中，我按如下方式访问文件

```
<dependency>
            <groupId>com.mobsandgeeks.saripaar</groupId>
            <artifactId>android-saripaar</artifactId>
            <version>1.0-SNAPSHOT</version>
        </dependency> 
```

当我在项目上运行 mvn clean install 时，它给了我一个构建错误，maven 找不到我提到的工件？我究竟做错了什么 ？

亲切的问候

# php - PHP 递归数组

> ID：15715858
> 
> 赞同：0
> 
> 时间：2013-03-30T06:51:20.717
> 
> 标签：php, mysql, arrays

好的，伙计们，我严重坚持这一点。尽管阅读了十几个解决方案，但我无法弄清楚..

这是我的 MySql 表..uid 代表用户 ID，parentid 代表用户所属的父级。

```
 id  parentid  uid
    1   0         1
    2   1         2
    3   1         3
    4   2         4
    5   2         5
    6   3         6
    7   3         7 
```

现在这就是我所做的。

```
 $con = mysql_connect("localhost","rtest","123456");
            if (!$con)
             {
              die('Could not connect: ' . mysql_error());
             }
            else
             {
              mysql_select_db("rtest", $con);
              $sql="SELECT * FROM parentchild WHERE parentid=1";
              $results=mysql_query($sql);
              while($row = mysql_fetch_array($results))
             {
                $levelone[] = $row;
             }
            }
            mysql_close($con);
            foreach ($levelone as &$value) {
              echo $value[uid]."<br>";
            } 
```

在这里，我有第一个元素的孩子。我无法弄清楚如何获取第二个数组并获取更多值并将它们存储在更多数组中。稍后我还需要访问单个数组，出于安全原因，我不能在一个数组中调用整个表。我的逻辑在这里真的很弱。

请帮助和建议。提前一吨..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:12:55.713

您可以通过以下方式获取 parentid 列表

```
SELECT DISTINCT parentid FROM parentchild 
```

现在您可以简单地遍历此列表并获取相应的孩子

# java - 从数学表达式字符串中提取数字

> ID：15715860
> 
> 赞同：0
> 
> 时间：2013-03-30T06:51:28.487
> 
> 标签：java, string

我想从一个简单的数学表达式字符串中提取数字；我首先用空格替换字符串中的所有数学字符，然后尝试用空格拆分字符串，然后将数字放入 ArrayList

```
public ArrayList<Integer> retriveNumbers(String Expr) {
    ArrayList<Integer> numbers = new ArrayList();
    Expr = Expr.replaceAll("^", " ");
    Expr = Expr.replaceAll("[*]", " ");
    Expr = Expr.replaceAll("/", " ");
    Expr = Expr.replaceAll("[+]", " ");
    Expr = Expr.replaceAll("-", " ");
    Expr = Expr.replaceAll("%", " ");
    String[] elements = Expr.split(" ");
    for(String e : elements){
        numbers.add(Integer.parseInt(e));
    }
    return  numbers;
} 
```

但是当我测试它时，我在输出中给出错误`numbers.add(Integer.parseInt(e));`

```
Calculator c1 = new Calculator();
ArrayList<Integer> arr = c1.retriveNumbers("4*5-2+1");
for(int i: arr)
    System.out.println(i); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T06:55:56.607

您需要将替换的字符串分配回 Expr-

```
Expr = Expr.replaceAll("^", " "); // do this for all replacements 
```

并且，还要检查空字符串 -

```
 if(!e.isEmpty()) {
            numbers.add(Integer.parseInt(e));
        } 
```

就是这样，它将适用于这些更改。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T06:56:53.770

*字符串*是*不可变*的，你对它们执行的操作会产生新的结果，所以你需要将它分配给*新的字符串*：

```
Expr = Expr.replaceAll("^", " "); 
```

对所有其他人也是如此。

顺便说一句，我建议您遵循[Java 命名约定](http://java.about.com/od/javasyntax/a/nameconventions.htm)并将字符串名称更改为`expr`（以小写字母开头）并将方法名称更改`RetriveNumbers`为大写 R。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T06:59:43.903

试试这个

无需替换每个特殊字符。

您可以简单地将非数字替换为空即

```
str=str.replaceAll("[^0-9]",""); 
```

**例子：**

```
 String str="asdfas234234**&^%*&";

      str=str.replaceAll("[^0-9]","");

  System.out.println(str); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T07:02:10.440

阅读 [模式 javadoc](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html)

```
String expression = "4.43*5-2+1";
String expNumbers = expression.replaceAll("[^0-9\\.]", " ");
System.out.println(expNumbers); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-30T07:17:15.280

尝试以下一种衬里解决方案。

```
 expr = expr.replaceAll("[\\^*%\\-+\\\\]", " "); 
```

完整的类将如下面的代码所示。

```
import java.util.ArrayList;
import java.util.List;

public class Calculator {
    public static void main(String[] args) {
        Calculator c1 = new Calculator();
        List<Integer> arr = c1.retriveNumbers("4*5-2+1");
        for(int i: arr)
            System.out.println(i);
    }

    public List<Integer> retriveNumbers(String expr) {
        List<Integer> numbers = new ArrayList<Integer>();

        expr = expr.replaceAll("[\\^*%\\-+\\\\]", " ");
        String[] elements = expr.split(" ");
        for (String e : elements) {
            numbers.add(Integer.parseInt(e));
        }
        return numbers;
    }

} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-30T07:24:59.050

像这样使用

```
class test
{
public static ArrayList<Integer> retriveNumbers(String Expr){
ArrayList<Integer> numbers = new ArrayList();
String[] elements = Expr.replaceAll("[^0-9]"," ").replaceAll("\\s+"," ").trim().split(" ");;
for(String e : elements){
    numbers.add(Integer.parseInt(e));
}
return  numbers;
}
public static void main(String[] args) 
{
ArrayList<Integer> arr =retriveNumbers("4*5-2+1");
for(int i: arr)
    System.out.println(i);
}
} 
```

# java - 爪哇 | 图书馆的内部图书馆包装

> ID：15715862
> 
> 赞同：0
> 
> 时间：2013-03-30T06:51:32.860
> 
> 标签：java, ant, build, jar

我正在开发一个拥有自己的库依赖项的库，我想从中抽象出来。将我的项目导出到具有以下结构的 jar 后，我遇到了问题：

```
Foo.jar
    -> net
        -> foo
            -> java class files
    -> lib
        -> *.jar
    -> src
        -> foo
            -> java source files
    -> doc
        -> javadoc and other docs
    -> License.txt 
```

当我去测试我的库时，我可以轻松地从中导入我的库代码，`net.foo.*`但由于“没有合适的驱动程序......”以及其他依赖于从我的抽象层调用的内部库而在运行时引发异常。

我正在使用 ANT 构建我的 jar，但不知道该怎么做。理想情况下，用户只需将我的 jar 添加到他们的构建路径中，然后导入我的包。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T14:25:08.693

您正在运送一个具有一组依赖项的库。库的用户可以选择添加依赖库。如果我理解正确，您希望通过将依赖项 jar 包含在您的库 jar 中来使用户变得简单。[您可以使用JarJar](http://code.google.com/p/jarjar/)将许多 jar 合并到单个 jar 中 。

从网站..

> Jar Jar Links 是一个实用程序，可以轻松地重新打包 Java 库并将它们嵌入到您自己的发行版中。这很有用，原因有两个：
> 
> 您可以轻松地发布没有外部依赖项的单个 jar 文件。
> 
> 您可以避免您的库依赖于特定版本的库的问题，这可能与另一个库的依赖项发生冲突。

If this is about repackaging for executable jar , then look for One-Jar. Discussed here in [Easiest way to merge a release into one JAR file](https://stackoverflow.com/questions/81260/easiest-way-to-merge-a-release-into-one-jar-file)

# java - OpenSessionInViewFilter 不能强制转换为 javax.servlet.Filter

> ID：15715864
> 
> 赞同：1
> 
> 时间：2013-03-30T06:52:11.843
> 
> 标签：java, spring, hibernate, servlet-filters, open-session-in-view

当我尝试在 Tomcat7 中启动我的 Java EE Spring+Hibernate 应用程序时出现异常。这曾经有效，但我认为我在迁移到 Tomcat7 时搞砸了。例外是

```
Mar 29, 2013 11:38:33 PM org.apache.catalina.core.StandardContext filterStart
SEVERE: Exception starting filter hibernateFilter
java.lang.ClassCastException: org.springframework.orm.hibernate3.support.OpenSessionInViewFilter cannot be cast to javax.servlet.Filter
    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:248)
    at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:368)
    at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:98)
    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4193)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4801)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:139)
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:988)
    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:771)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:139)
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:988)
    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:275)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:139)
    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:427)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:139)
    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:649)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:139)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:585)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:415)
Mar 29, 2013 11:38:33 PM org.apache.catalina.core.StandardContext startInternal
SEVERE: Error filterStart
Mar 29, 2013 11:38:33 PM org.apache.catalina.core.StandardContext startInternal
SEVERE: Context [/ImageWar] startup failed due to previous errors 
```

我`web.xml`的如下：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app
    version="2.4"
    xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">

    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>

    <!-- Attach a Hibernate session to each request using this filter -->
    <filter>
        <filter-name>hibernateFilter</filter-name>
        <filter-class>
            org.springframework.orm.hibernate3.support.OpenSessionInViewFilter
        </filter-class>
        <init-param>
            <param-name>sessionFactoryBeanName</param-name>
            <param-value>sessionFactory</param-value>
        </init-param>
        <init-param>
            <param-name>flushMode</param-name>
            <param-value>AUTO</param-value>
        </init-param>
    </filter>

    <filter-mapping>
        <filter-name>hibernateFilter</filter-name>
        <url-pattern>/plus/*</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>           

    <servlet>
        <servlet-name>ImageWar</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>MyApp</servlet-name>
        <url-pattern>/xyz/*</url-pattern>
    </servlet-mapping>

    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/ImageWar-dataSource.xml</param-value>
    </context-param>

    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>

</web-app> 
```

我所有的 Spring jar 都是`3.1.3.RELEASE`，并且我有以下两个 Hibernate 依赖项：

```
 <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-core</artifactId>
        <version>3.6.8.Final</version>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-validator</artifactId>
        <version>4.3.0.Final</version>
    </dependency> 
```

我正在“提供”一些标准的 JEE jar：

```
 <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jstl</artifactId>
        <version>1.2</version>
        <scope>provided</scope>
    </dependency>

    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>javax.servlet-api</artifactId>
        <version>3.0.1</version>
        <scope>provided</scope>
    </dependency> 
```

这是来自的输出`mvn dependency:tree`：

```
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ ImageWar ---
[INFO] com.sodapopsoftware:ImageWar:war:0.0.1-SNAPSHOT
[INFO] +- javax.servlet:jstl:jar:1.2:provided
[INFO] +- javax.servlet:javax.servlet-api:jar:3.0.1:provided
[INFO] +- javax.servlet.jsp:javax.servlet.jsp-api:jar:2.2.1:provided
[INFO] +- javax.el:javax.el-api:jar:2.2.2:provided
[INFO] +- org.slf4j:slf4j-log4j12:jar:1.6.4:compile
[INFO] |  +- org.slf4j:slf4j-api:jar:1.6.4:compile
[INFO] |  \- log4j:log4j:jar:1.2.16:compile
[INFO] +- commons-logging:commons-logging:jar:1.1.1:compile
[INFO] +- commons-beanutils:commons-beanutils:jar:1.8.3:compile
[INFO] +- com.google.guava:guava:jar:13.0.1:compile
[INFO] +- org.imgscalr:imgscalr-lib:jar:4.2:compile
[INFO] +- taglibs:standard:jar:1.1.2:compile
[INFO] +- commons-fileupload:commons-fileupload:jar:1.2.2:compile
[INFO] +- org.apache.commons:commons-io:jar:1.3.2:compile
[INFO] +- junit:junit:jar:4.8.2:test
[INFO] +- org.easymock:easymock:jar:3.1:test
[INFO] |  +- cglib:cglib-nodep:jar:2.2.2:test
[INFO] |  \- org.objenesis:objenesis:jar:1.2:test
[INFO] +- org.springframework:spring-test:jar:3.1.3.RELEASE:compile
[INFO] +- org.springframework:spring-core:jar:3.1.3.RELEASE:compile
[INFO] |  \- org.springframework:spring-asm:jar:3.1.3.RELEASE:compile
[INFO] +- org.springframework:spring-aop:jar:3.1.3.RELEASE:compile
[INFO] |  +- aopalliance:aopalliance:jar:1.0:compile
[INFO] |  \- org.springframework:spring-beans:jar:3.1.3.RELEASE:compile
[INFO] +- org.springframework:spring-web:jar:3.1.3.RELEASE:compile
[INFO] |  \- org.springframework:spring-context:jar:3.1.3.RELEASE:compile
[INFO] +- org.springframework:spring-webmvc:jar:3.1.3.RELEASE:compile
[INFO] |  +- org.springframework:spring-context-support:jar:3.1.3.RELEASE:compile
[INFO] |  \- org.springframework:spring-expression:jar:3.1.3.RELEASE:compile
[INFO] +- org.springframework:spring-jdbc:jar:3.1.3.RELEASE:compile
[INFO] |  \- org.springframework:spring-tx:jar:3.1.3.RELEASE:compile
[INFO] +- org.springframework:spring-orm:jar:3.1.3.RELEASE:compile
[INFO] +- mysql:mysql-connector-java:jar:5.1.9:compile
[INFO] +- c3p0:c3p0:jar:0.9.1.1:compile
[INFO] +- org.hibernate:hibernate-core:jar:3.6.8.Final:compile
[INFO] |  +- antlr:antlr:jar:2.7.6:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.1:compile
[INFO] |  +- dom4j:dom4j:jar:1.6.1:compile
[INFO] |  +- org.hibernate:hibernate-commons-annotations:jar:3.2.0.Final:compile
[INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.0-api:jar:1.0.1.Final:compile
[INFO] |  \- javax.transaction:jta:jar:1.1:compile
[INFO] +- org.hibernate:hibernate-validator:jar:4.3.0.Final:compile
[INFO] |  +- javax.validation:validation-api:jar:1.0.0.GA:compile
[INFO] |  \- org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile
[INFO] \- javassist:javassist:jar:3.12.1.GA:compile 
```

知道为什么我会收到此异常吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T07:17:47.160

Sounds like you have a version of the servlet API in `WEB-INF/lib`. If you're using maven, find the offending dependency and make sure to exclude it's dependencies to servlet-api. The output of `mvn dependency:tree` can be helpful to track down unwanted transitive dependencies.

Edit:

If all seems correct, and you still experience this problem, one technique I use to find out where a class is loaded from is this:

```
Filter.class.getProtectionDomain().getCodeSource().getLocation() 
```

It will give you the location of the jar/folder where the class has been loaded from. I would also suggest that you try to deploy your web application in a stand alone application server to rule out the IDE (e.g. server/deployment plugins) as the source of the problem.

# wordpress - 在主页中显示自定义类别循环

> ID：15715865
> 
> 赞同：0
> 
> 时间：2013-03-30T06:52:17.950
> 
> 标签：wordpress, wordpress-theming

事情是，在我的主题主页中，我想在不同的 Div 中显示不同类别的帖子。每个 DIV 将包含来自一个类别的 3 个帖子。我需要一个可以从特定类别中选择最后 3 个帖子的循环。找不到任何合适的答案。

为了更容易解释，这里是内容部分的演示图片，

[http://i.imgur.com/5QSzAIS.png](http://i.imgur.com/5QSzAIS.png)

如果有人帮助我编写代码，这将是一个很大的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:12:13.697

```
<?php query_posts('cat=10&posts_per_page=3'); ?>
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
   <?php the_content(); ?>
<?php endwhile; endif; ?> 
```

这应该让你开始。您需要使用此代码两次。在它说的地方`cat=10`，您应该输入您的类别 ID（当您从管理面板单击类别时，您可以检查这一点，浏览器将显示类似[http://yourwebsite.com/wp-admin/edit-tags .php?action=edit&taxonomy=category&tag_ID=4&post_type=post](http://yourwebsite.com/wp-admin/edit-tags.php?action=edit&taxonomy=category&tag_ID=4&post_type=post) )

它说`tag_ID`的是您的类别的ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-09T08:37:53.110

我目前正在我正在构建的网站页面上使用不同的方法，它允许我在一个页面中运行多个循环并为每个循环指定类别。我个人更喜欢这种方法，因为它对我来说更直接，我可以使用 slug 而不是 ID 来定义类别。

而不是使用`have_posts()`等，你`WP_Query()`在定义你的数组之后使用，然后`wp_reset_postdata()`结束你的循环。好处是您可以以这种方式继续运行循环。

我还使用 加载来自帖子中自定义字段的数据`get_post_meta`，但这种方法在没有这些东西的情况下也可以工作。

```
<div class="audioGrid">

    <?php 
    $args = array( 'post_type' => 'post',                        
                   'category_name' => 'audio',                    
                   'posts_per_page' => 3,
                   'order' => 'DESC' );

    $query1 = new WP_Query($args);        

    while ( $query1->have_posts() ) {
        $query1->the_post();

    ?>                              
        <div id="<?php echo( basename(get_permalink()) ); ?>" class="grid_item">
            <?php the_post_thumbnail( 'audio-thumb' ); ?>
            <h3><?php the_title(); ?></h3>
            <p><?php echo get_post_meta($post->ID, 'post_description', true); ?></p>
            <a target="blank" href="<?php echo get_post_meta($post->ID, 'audio_link', true); ?>"></a>
        </div>

    <?php the_content(); ?>

    <?php } ?>

</div>  <?php // end Audio Grid ?>

    <?php wp_reset_postdata(); ?>

<div class="videoGrid">

    <?php 
    $args2 = array( 'post_type' => 'post',                        
                   'category_name' => 'video',                    
                   'posts_per_page' => 3,
                   'order' => 'DESC' );

    $query2 = new WP_Query($args2);        

    while ( $query2->have_posts() ) {
        $query2->the_post();

    ?>                              
        <div id="<?php echo( basename(get_permalink()) ); ?>" class="grid_item">
            <?php the_post_thumbnail( 'video-thumb' ); ?>
            <h3><?php the_title(); ?></h3>
            <p><?php echo get_post_meta($post->ID, 'post_description', true); ?></p>
            <a target="blank" href="<?php echo get_post_meta($post->ID, 'video_link', true); ?>"></a>
        </div>

    <?php the_content(); ?>

    <?php } ?>

</div>  <?php // end Video Grid ?>

    <?php wp_reset_postdata(); ?> 
```

我正在做的另一件很酷的事情是使用自定义字段来定义事物的顺序，并使用`meta_key`并`meta_value_num`获取该数字并强制按我想要的方式进行排序，并且由于该站点并不复杂，因此以这种方式定义顺序很方便。我只是使用前导零来简化：001、002、003 等

```
<?php 
    $args2 = array( 'post_type' => 'post',                        
                    'category_name' => 'video',                    
                    'posts_per_page' => 3,
                    'meta_key' => 'video_order',
                    'orderby' => 'meta_value_num', 
                    'order' => 'ASC' );

    $query2 = new WP_Query($args2);        

    while ( $query2->have_posts() ) {
        $query2->the_post();

?> 
```

无论如何，如果您需要使用多个循环从不同类别中提取帖子，希望这会有所帮助。

# magento - 如何获取我在 magento 的管理端系统配置中设置的值？

> ID：15715881
> 
> 赞同：0
> 
> 时间：2013-03-30T06:53:55.050
> 
> 标签：magento

如何从设置管理方面获得价值，如系统->配置->销售->运输方式->免费送货->最低订单金额

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:19:46.420

您可以使用此函数获取商店配置值

```
Mage::getStoreConfig('carriers/freeshipping/free_shipping_subtotal'); 
```

`getStoreConfig`是一种获取我们在管理员中设置的配置值的方法。

**carriers/freeshipping/free_shipping_subtotal**是存储在数据库表**core_config_data**中的路径。

# c++ - 错误 C2061：语法错误：标识符

> ID：15715882
> 
> 赞同：17
> 
> 时间：2013-03-30T06:54:01.203
> 
> 标签：c++, syntax-error

这是我的 C++ 代码

```
// XuatChuoiBTHang.h
#pragma once
#include "BieuThuc.h"
#include "BieuThucHang.h"

class XuatChuoiBTHang
{
    public:
        virtual string xuatChuoi(BieuThucHang* btHang) = 0;     
};

// BieuThucHang.h
#pragma once
#include "bieuthuc.h"
#include "XuatChuoiBTHang.h"

class BieuThucHang : public BieuThuc
{
    private:
        XuatChuoiBTHang* xuatChuoiBTHang;
}; 
```

输出是：

> **“错误 C2061：语法错误：标识符‘BieuThucHang’”**

如何解决？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-03-30T06:56:02.133

您有头文件的循环依赖。您需要通过在中使用前向声明来打破这种循环包含依赖`XuatChuoiBTHang.h`：

```
class BieuThucHang; 
```

此外，`#include "BieuThucHang.h"`从`XuatChuoiBTHang.h`.

# regex - 使用 TRegExpr 删除无效的 url 字符

> ID：15715904
> 
> 赞同：1
> 
> 时间：2013-03-30T06:56:21.073
> 
> 标签：regex, delphi

再会。我似乎找不到如何使用 TRegExpr 组件对无效字符进行简单替换的示例。例如我有一个字符串 = 'abcdeg3fghijk'; 我想替换所有无效字符，例如数字“3”，如何用 TRegExpr 处理它以替换所有无效字符。我的目的是学习如何使用 TRegExpr 来构建一个简单的 url 清理器/验证器。

```
procedure TForm1.Button3Click(Sender: TObject);
var
  RegExp: TRegExpr;
  astr:string;
begin
  astr:='h"ttp://ww"w.msn."com~~~';
  // I want to clean the string to remove all non valid chars

  //this is where I am lost

  RegExp:=TRegExpr.Create;
  try
    RegExp.Expression:=RegExpression;  
  finally
    RegExp.Free; 
  end;
end; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:25:22.577

从评论和问题编辑来看，您正试图弄清楚如何使用正则表达式执行替换。您需要的功能是[`TRegEx.Replace`](http://docwiki.embarcadero.com/Libraries/en/System.RegularExpressions.TRegEx.Replace).

有很多超载。最简单的使用是类函数。例如：

```
NewValue := TRegEx.Replace(OldValue, '3', '4'); 
```

将所有出现的 3 替换为 4。

或者，如果您想使用实例方法方法，请这样做：

```
var
  RegEx: TRegEx;
....
RegEx.Create('3');
NewValue := RegEx.Replace(OldValue, '4'); 
```

请记住，这`TRegEx`是一个记录，一个值类型。没有`Free`电话，也不需要`try/finally`。我个人认为`Create`命名非常糟糕。`Initialize`如果我一直在设计字体，我会更喜欢`TRegEx`。

使用实例方法方法可以编译表达式，并加快将相同表达式重复匹配到不同输入数据的性能。我不知道这对你是否重要。如果没有，则使用更易于使用的类函数接口。

您显然会扩展它以使用有用的正则表达式进行替换！

Delphi 使用的 PCRE 正则表达式风格的文档在这里：[http ://www.regular-expressions.info/pcre.html](http://www.regular-expressions.info/pcre.html)

# android - 处理返回按钮，在 Android 上的 MonoGame 中

> ID：15715907
> 
> 赞同：0
> 
> 时间：2013-03-30T06:56:56.233
> 
> 标签：android, mono, xamarin.android, back-button, monogame

我在使用 MonoDroid 在 MonoGame 上开发的 Android 游戏中处理后退按钮时遇到问题。我无法捕捉返回按钮单击事件。

我试过：

```
if (GamePad.GetState(PlayerIndex.One).Buttons.Back == ButtonState.Pressed)
{
    LoadingScreen.Load(ScreenManager, true, null, new BackgroundScreen(),
                               new LevelSelectScreen());
} 
```

在主要活动上

```
 public override bool OnKeyUp(Keycode keyCode, KeyEvent e)
    {
        if (keyCode == Keycode.Back)
        {
            ...
            return true;
        }

        return base.OnKeyDown(keyCode, e);
    }

    public override void OnBackPressed()
    {
        ...
        Toast.MakeText(this, keyCode + " key! + " + keyCode.ToString(), ToastLength.Short).Show();
    }

    public override bool OnKeyDown(Keycode keyCode, KeyEvent e)
    {
        if (keyCode == Keycode.Back)
        {
            ...
            return true;
        }

        return base.OnKeyDown(keyCode, e);
    } 
```

没有什么帮助，在 WP 第一个变体上完美运行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T12:55:48.953

是的！我找到了解决方案：当你打电话时

```
GamePad.GetState(PlayerIndex.One) 
```

在 Android GamePadState 中清除

```
public static GamePadState GetState(PlayerIndex playerIndex)
{
    var instance = GamePad.Instance;
    var state = new GamePadState(new GamePadThumbSticks(), new GamePadTriggers(), new GamePadButtons((Buttons)instance._buttons), new GamePadDPad());
    instance.Reset(); // <- CLEAR BUTTONS
    return state;
} 
```

因此，不要在 Android 中多次调用 GetState。

# asp.net - 使用 DataList 控件重定向其他页面上的用户并根据在上一页中单击的按钮在该页面上获取数据

> ID：15715908
> 
> 赞同：0
> 
> 时间：2013-03-30T06:57:10.550
> 
> 标签：asp.net, datalist

我正在使用一个 datalist 控件，其中有一个 div 和一些其他 asp 控件。我有一个编辑按钮。如果我点击编辑按钮，我想将用户重定向到另一个我有一些控件的页面，并且我希望根据我在上一页中单击的按钮在这些控件中填写信息。

这是数据列表代码：

```
<asp:DataList ID="DataList1" runat="server" DataKeyField="ID" RepeatColumns="2" RepeatDirection="Horizontal" RepeatLayout="Table">

        <ItemTemplate>
          <div><br /><br /><br />
          <div style="background-color:Silver;height: auto; display:block;" >

                <div id="threadPostLeftDiv" style="width:auto; border-style:solid; border-width:2px; border-color:Black;border-right-color:White;" >
                <asp:Image runat="server" ID="ImagePreview1" style="margin-right:5px; " ImageUrl='<%# Eval("imageurl") %>' Height="100px" Width="100px" BorderStyle="None" />

                </div>
                <div id="threadPostRightDiv" style=" border-style:solid; border-width:2px;margin-left:-15px; border-color:Black;border-left-color:White;">

                    <asp:Label ID="txtHeadline1"  CssClass="inputprev" style=" font-size:medium; font-weight:bolder;"   Text='<%# Eval("subtitle") %>' Enabled="false"
                        placeholder="Headline" runat="server"></asp:Label>
                    <br />

                    <asp:Textbox ID="txtDescription1"  CssClass="inputprevdesc1"  Text='<%# Eval("descriptions") %>'
                        Enabled="false" BackColor="Silver" Rows="3" TextMode="MultiLine" placeholder="Description"  runat="server"></asp:Textbox><br />
                    <br />

                    <asp:Label ID="txtOfferHeadline1" Text='<%# Eval("title") %>' Enabled="false"  CssClass="inputprev1" 
                         placeholder="Offer Headline" runat="server"></asp:Label>
                     <br />
                </div>

          </div>
                <div style=" float: right;margin-right:10px; ">
                 <button id="btnEdit"  class="css3button1" onserverclick="btnEdit_Click" runat="server">Edit</button>

                </div>

          </div>
</asp:DataList> 
```

请帮助我实现我的目标，给我文件背后的代码以及触发哪些事件。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:27:53.640

那么这可以通过执行以下操作轻松实现

1.  将“btnEdit”命令参数与 id 绑定

    ```
    <button id="btnEdit"  class="css3button1" onserverclick="btnEdit_Click" runat="server" CommandArgument='<%# Eval("ID") %>' >Edit</button> 
    ```

在 btnEdit_Click 事件中执行以下操作

```
Button bt = (Button)sender;
string recordid = bt.CommandArgument;
Response.Redirect("editrecordno.aspx?recordid="+recordid,true); 
```

在editrecordno.aspx 页面中请求查询字符串并完成需要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:36:30.963

在 Button_Click 事件中，您应该使用`QueryString`参数重定向到另一个页面用此代码行
替换您的**编辑** `<button>`

```
<asp:Button ID="Button1"   PostBackUrl='DataEdit.aspx?id=<%# Eval("id") %>' runat="server" Text="Edit" /> 
```

在 DataEdit.aspx 中将你的`FormView`with`DefaultMode=Edit` 然后添加新的 QueryString 参数在你的`DataSource`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T09:33:23.103

我将 html 按钮转换为链接按钮并触发**onRowCOMmand 事件**，我得到了解决方案。

# python - 删除列表的最后 N 个元素

> ID：15715912
> 
> 赞同：64
> 
> 时间：2013-03-30T06:57:20.423
> 
> 标签：python, list

有没有更好的方法来删除列表的最后 N 个元素。

```
for i in range(0,n):
    lst.pop( ) 
```

* * *

## 回答 #1

> 赞同：107
> 
> 时间：2013-03-30T06:59:12.340

效劳于`n >= 1`

```
>>> L = [1,2,3, 4, 5]
>>> n=2
>>> del L[-n:]
>>> L
[1, 2, 3] 
```

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2013-03-30T06:59:38.197

如果您希望删除最后 n 个元素，换句话说，保留第一个 len - n 个元素：

```
lst = lst[:len(lst)-n] 
```

注意：这不是内存操作。它会创建一个浅拷贝。

* * *

## 回答 #3

> 赞同：32
> 
> 时间：2016-05-08T22:27:01.223

正如 Vincenzooo 正确所说，pythonic`lst[:-n]`在`n==0`.

以下适用于所有人`n>=0`：

```
lst = lst[:-n or None] 
```

我喜欢这个解决方案，因为它在英语中也具有可读性：“返回一个省略最后 n 个元素的切片，或者没有（如果不需要省略）”。

由于以下原因，此解决方案有效：

*   `x or y`评估`x`何时`x`逻辑上为真（例如，当它不是`0`, `""`, `False`, `None`, ... 时），`y`否则。何时何地`-n or None`也是如此。`-n``n!=0``None``n==0`
*   切片时，`None`相当于省略值，所以`lst[:None]`与`lst[:]`（见[此处](https://docs.python.org/3.5/library/stdtypes.html#common-sequence-operations)）相同。

As noted by @swK, this solution creates a new list (but immediately discards the old one unless it's referenced elsewhere) rather than editing the original one. This is often not a problem in terms of performance as creating a new list in one go is often faster than removing one element at the time (unless `n`<<`len(lst)`). It is also often not a problem in terms of space as usually the members of the list take more space than the list itself (unless it's a list of small objects like `bytes` or the list has many duplicated entries). Please also note that this solution is not exactly equivalent to the OP's: *if the original list is referenced by other variables, this solution will not modify (shorten) the other copies* unlike in the OP's code.

A possible solution (in the same style as my original one) that works for `n>=0` but: a) does not create a copy of the list; and b) also affects other references to the same list, could be the following:

```
 lst[-n:n and None] = [] 
```

This is definitely not readable and should not be used. Actually, even my original solution requires too much understanding of the language to be quickly read and univocally understood by everyone. I wouldn't use either in any real code and I think the best solution is that by [@wonder.mice](https://stackoverflow.com/a/49341919/4279607): `a[len(a)-n:] = []`.

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2013-03-30T07:22:31.960

试着像这样删除它。

```
del list[-n:] 
```

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2015-02-02T05:32:50.687

我看到这是很久以前问过的，但没有一个答案*适合*我；如果我们想得到一个没有最后 N 个元素的列表，但保留原始列表，该怎么办：你只需`list[:-n]`. 如果您需要处理`n`可能相等的情况`0`，您可以这样做`list[:-n or None]`。

```
>>> a = [1,2,3,4,5,6,7]
>>> b = a[:-4]
>>> b
[1, 2, 3]
>>> a
[1, 1, 2, 3, 4, 5, 7] 
```

就如此容易。

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2018-03-17T21:06:52.177

Should be using this:

```
a[len(a)-n:] = [] 
```

or this:

```
del a[len(a)-n:] 
```

It's much faster, since it really removes items from existing array. The opposite (`a = a[:len(a)-1]`) creates new list object and less efficient.

```
>>> timeit.timeit("a = a[:len(a)-1]\na.append(1)", setup="a=range(100)", number=10000000)
6.833014965057373
>>> timeit.timeit("a[len(a)-1:] = []\na.append(1)", setup="a=range(100)", number=10000000)
2.0737061500549316
>>> timeit.timeit("a[-1:] = []\na.append(1)", setup="a=range(100)", number=10000000)
1.507638931274414
>>> timeit.timeit("del a[-1:]\na.append(1)", setup="a=range(100)", number=10000000)
1.2029790878295898 
```

If `0 < n` you can use `a[-n:] = []` or `del a[-n:]` which is even faster.

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-03-26T23:03:44.970

这是`pythonic`对我不起作用的情况之一，并且可能会产生隐藏的错误或混乱。上述解决方案均不适用于 n=0 的情况。`l[:len(l)-n]`在一般情况下使用作品：

```
l=range(4)
for n in [2,1,0]: #test values for numbers of points to cut
    print n,l[:len(l)-n] 
```

例如，这在修剪矢量边缘的函数中很有用，您希望保留不剪切任何东西的可能性。

# php - 如何使表格内容以弹出形式自动显示

> ID：15715913
> 
> 赞同：1
> 
> 时间：2013-03-30T06:57:21.690
> 
> 标签：php, javascript, html, sql-server-2008

我试着在我的网站上做一张桌子。表格内容具有我在下一个操作中用于参数并自动显示在表单上的值。这是我的场景

表格的内容作为我的弹出窗口的按钮，如下所示

```
 <div>
    <table width="1023" height="248" border="1">
      <tr>
        <th colspan="2" scope="col">A1</th>
        <th colspan="2" scope="col">A2</th>
        <th colspan="2" scope="col">A3</th>
      </tr>
      <tr>
        <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });" value="A1.4" /></td>
        <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });" value="A1.8" /></td>
        <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });" value="A2.4" /></td>
        <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });" value="A2.8" /></td>
        <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });" value="A3.4" /></td>
        <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });" value="A3.8" /></td>
     </tr>
</div> 
```

这是我的 popup_window_show

```
 <div   class="popup_window_css" id="sample">
    <div   class="popup_window_css_head"><img src="images/close.gif" alt="" width="9" height="9" />Aksi</div>
    <div   class="popup_window_css_body"><div style="border: 1px solid #808080; padding: 6px; background: #FFFFFF;">
    <form method="post" action="">
    <table width="200">
        <tr>
         <td colspan='2' align='center'> WHK </td>
        <tr>
         <td> Posisi :</td>
         <td> <input type='text' name="p" /></td>
        </tr>
        <tr>
         <td> Product ID :</td>
         <td> <input type='text' name="id" /></td>
        </tr>
        <tr>
         <td> Product Name :</td>
         <td> <input type='text' name="nama" /></td>
        </tr>
        <tr>
         <td> Production Date :</td>
         <td> <input type='text' name="tgl" /></td>
        </tr>
        <tr>
            <td colspan='2' align='right'>
             <input type='submit' value= 'Save'> 
             <input type='reset' value='Reset' />
             <input type='button' value='view' onclick=\"window.location.href='#';\"/>
             </td>
        </tr>
    </table>
    </div>
</div> 
```

我的焦点问题如何使表格内容以弹出形式自动显示在 Posisi 列。例如：当用户单击 A1.4 时，在“posisi”列中自动具有值 A1.4 并显示

然后当用户单击查看按钮时，“web”将用户引导到一个新页面，该页面显示数据库，其中表内容作为参数。可能是这个[http://jsfiddle.net/andricoga/k4BB3/#base](http://jsfiddle.net/andricoga/k4BB3/#base)可以帮助理解我的问题

我的英语还很弱，我希望你明白我的意思并为我解决问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T09:48:05.487

是的，我发现

```
<script>
        function setvalue(values) {
        document.getElementById('posisi').value = values;
    }
    </script>
    <div>
        <table width="1023" height="248" border="1">
            <tr>
                <td>

                        <input type="button" onclick="setvalue(this.value);" value="A1.8" />
                </td>
            </tr>
        </table>
        </div>
        <div class="popup_window_css" id="sample">
            <table class="popup_window_css">
                <tr class="popup_window_css">
                    <td class="popup_window_css">
                        <div class="popup_window_css_head">
                            <img src="images/close.gif" alt="" width="9" height="9" />Aksi</div>
                        <div class="popup_window_css_body">
                            <div style="border: 1px solid #808080; padding: 6px; background: #FFFFFF;">
                                <form method="post" action="">
                                    <table>
                                        <tr>
                                            <td>Werehouse</td>
                                            <tr>
                                                <td>Posisi</td>
                                                <td>
                                                    <input type='text' name="p" id="posisi" />
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Product ID</td>
                                                <td>
                                                    <input type='text' name="id" />
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Product Name</td>
                                                <td>
                                                    <input type='text' name="nama" />
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Production Date</td>
                                                <td>
                                                    <input type='text' name="tgl" />
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan='2' align='right'>
                                                    <input type='submit' value='Save'>
                                                    <input type='reset' value='Reset' />
                                                    <input type='button' value='view' onclick=\ "window.location.href='#';\"/>
                                                </td>
                                            </tr>
                                    </table>
                            </div>
                        </div> 
```

你可以在这里[http://jsfiddle.net/JLExZ/](http://jsfiddle.net/JLExZ/)

# mysql - Mysql：更新最新记录的字段

> ID：15715922
> 
> 赞同：23
> 
> 时间：2013-03-30T06:59:02.527
> 
> 标签：mysql, sql, sql-update

我正在尝试更新 name 所在的最新记录`John`（`John`有多个记录但 ID 不同），但我似乎处于绑定状态。我的查询有什么问题？

```
UPDATE messages_tbl SET is_unread=1
WHERE ReceiveTime = (SELECT MAX(ReceiveTime) FROM messages_tbl WHERE name='John') 
```

有没有更好的方法来做这样的事情？

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2013-03-30T07:02:10.537

您可以尝试使用[`ORDER`](http://dev.mysql.com/doc/refman/5.0/en/update.html)and `LIMIT`。

试试这个：

```
UPDATE messages_tbl SET is_unread = 1
WHERE name = 'John'
ORDER BY ReceiveTime DESC
LIMIT 1 
```

此查询将按照从最高（最近）`ReceiveTime`到最低（最旧）的顺序更新行`ReceiveTime`。与 一起使用，只会更改`LIMIT`最近的。`ReceiveTime`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-30T07:02:39.460

您可以加入两者并根据条件执行更新。

```
UPDATE  messages a
        INNER JOIN
        (
            SELECT  name , MAX(ReceiveTime) max_time
            FROM    messages 
            GROUP   BY name 
        ) b ON  a.name = b.name AND
                a.ReceiveTime = b.max_time
SET     a.is_unread = 1
-- WHERE    a.name = 'John' 
```

无条件`WHERE`。它将全部更新`is_unread`最新条目的列。

# github - 如何删除完全失败的提交？

> ID：15715925
> 
> 赞同：0
> 
> 时间：2013-03-30T06:59:16.453
> 
> 标签：github

我的 git 命令有问题，所以我有多个 git 提交，但没有分支或存储库。

git rebase -i HEAD~# 在包括 master 在内的分支上没有任何错误的提交 ID。

是否仍然可以删除它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-22T22:52:06.590

有点不清楚你的情况是什么，但听起来你想删除一些提交，即使它们没有出现在你的分支上？

如果这是真的，提交位于您的分支之外，它们可能位于 git 临时创建的合并分支上。这是一个和你一样的分支，但并不那么明显。

也许尝试粘贴一些 git status 和 git branch 输出，并提供更多关于您的情况的信息？

# c - 全局变量在函数外变为空

> ID：15715927
> 
> 赞同：3
> 
> 时间：2013-03-30T06:59:27.933
> 
> 标签：c

我对C非常陌生，所以我相信这真的很容易。

我正在尝试`array[10]`在头文件中声明分数并将其定义为我的`example.c`文件中的静态变量。我在我的函数 init_heap() 中初始化它。但是，当该函数返回时，数组的所有元素都为空。我该如何正确地做到这一点？我需要对 myArray 进行更改才能坚持。

标题片段：

```
struct fraction
{
    signed char sign;
    unsigned int numerator;
    unsigned int denominator;
};

extern struct fraction *myArray[10]; 
```

*例子.c*：

```
//includes...

static struct fraction *myArray[10];

void init_heap()
{
    struct fraction myArray[] = {
        {0,0,1},
        {0,0,2},
        {0,0,3},
        {0,0,4},
        {0,0,5},
        {0,0,6},
        {0,0,7},
        {0,0,8},
        {0,0,9},
        {0,0,10}
    };
    beginFreeIndex = 0;
}
//etc... 
```

提前致谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:04:59.720

```
struct fraction myArray[] = {
    {0,0,1},
    {0,0,2},
    {0,0,3},
    {0,0,4},
    {0,0,5},
    {0,0,6},
    {0,0,7},
    {0,0,8},
    {0,0,9},
    {0,0,10}
}; 
```

您正在制作一个名为的本地数组`myArray`，该数组隐藏了全局`myArray`. 然后，当您的功能结束时，本地`myArray`超出范围，您将失去一切。同时，全局`myArray`仍然为空。

尝试：

```
 myArray = {
    {0,0,1},
    {0,0,2},
    {0,0,3},
    {0,0,4},
    {0,0,5},
    {0,0,6},
    {0,0,7},
    {0,0,8},
    {0,0,9},
    {0,0,10}
    }; 
```

编辑：

As @David Heffernan points out, you're declaring an array of pointers to `struct fraction` in this line: `extern struct fraction *myArray[10];`. I think you're trying to get just an array of `struct fraction`, so you should try this instead in place of that line: `extern struct fraction myArray[10]`

# javascript - 使用没有脚本标签的 ember.js 模板

> ID：15715928
> 
> 赞同：3
> 
> 时间：2013-03-30T06:59:36.563
> 
> 标签：javascript, templates, ember.js

哦，动态语言的上帝，学习 Vim 并使用开源的你，请听我的祈祷。

我非常想使用**Ember.js**来创建我的应用程序。但我不能。亲爱的上帝，我是一个不称职的 Java 开发人员，我使用那些名为“IDE”的不纯软件来帮助我自动完成和检查我的代码（我知道这是异端）。亲爱的上帝，我使用的特定 IDE（一个名为 Eclipse 的晦涩未知的 IDE，从来没有人使用过）往往会被`<script>`包含我的车把模板的那些神圣和神圣的标签窒息。这些标签会破坏自动完成和代码检查，因为异端 IDE 认为它的 javascript。现在，由于我是一个不值得的人，我犯了一些错误，我希望我的 IDE 能够接受，因此目前的情况让我非常难过。

为了让 IDE 再次帮助我编写 HTML，亲爱的上帝，我非常希望将这些模板放在一个外部文件中。然后，我将能够指示不纯的 IDE 将文本解析为 HTML，然后继续我作为依靠他的工具的开发人员的悲惨生活。理想情况下，这些文件最终会出现，`.html`因为我可怕的环境实际上使用文件扩展名来猜测文件的内容（你能相信这样可耻的事情吗）。但我想最终的`.handlebars`结果对我这个罪人来说已经足够了。

所以，我要问的是，哦，云中的你，是告诉我要念诵的咒语以使这一切发生。告诉我，我必须在我的`app.js`定义中添加什么

```
(function(Ember, $) {

    var App = Ember.Application.create();

});

})(Ember, jQuery); 
```

我`index.html`是这么写的

```
<!doctype html>
<html>
<head>
    <title>Holy app</title>
</head>
<body>
    <script type="text/javascript" src="/lib/underscore-1.4.4.js"></script>
    <script type="text/javascript" src="/lib/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="/lib/handlebars-1.0.0-rc.3.js"></script>
    <script type="text/javascript" src="/lib/ember-1.0.0-rc.1.js"></script>
    <script type="text/javascript" src="/app.js"></script>
</body>
</html> 
```

和我的外部`application.html`包含以下内容

```
<div id="prayers">
    <p>
        Oh you who know all UNIX terminal command<br>
        You who shall not support any legacy code and tools<br>
    </p>
    <p>
        Make it so that this text appear in my browser<br>
        So that all of us Java and C# sinner<br>
        See the light and reveal in your dynamic way<br>
    </p>
    <p>
        Pardon our sin when we believe that using automatic refactoring tool is useful<br>
        And free us from our reliance on static typing to make less mistake<br>
    </p>
    {{holyAnswer}}
</div> 
```

以便内容`application.html`找到它的方式`index.html`？

我知道`App.ApplicationView = Ember.View.create()`，我也听说过，`Ember.Handlebars.compile()`但我虚弱的头脑不知道如何使它工作或我应该如何使用它。我的不纯方式已经包括编译，所以如果这是您要求我的负担，我可能会使用 javascript 构建工具。

网络的你们，开放标准的你们，请在那些困难时期帮助我。

编辑

亲爱的上帝，我知道这个问题[是否可以使用脚本标签加载车把模板？或者在 Ember.js 中以编程方式定义车把模板](https://stackoverflow.com/questions/10274391/is-it-possible-to-load-handlebar-template-with-script-tag-or-define-handlebar-t?rq=1)，但答案并没有告诉我如何制作它，以便我的模板成为`<script>`神圣`ember.js`示例中的未命名标签的等价物。这个模板似乎是应用程序的根目录，我不知道如何`ember.js`使用它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:34:15.227

**您需要在外部预编译模板。**由于您是 Java 开发人员，因此这个 Maven[插件](https://github.com/kawasima/handlebars-maven-plugin)可能对您有好处。**使用此插件将您的模板编译成一个 JS 文件**，其中包含所有已编译形式的模板。然后你需要做的就是在你的 html 中包含这个 JS 文件。我自己将我的模板编译成一个名为“templates.js”的文件。在这种情况下，您的 html 将是：

```
<!doctype html>
<html>
<head>
    <title>Holy app</title>
</head>
<body>
    <script type="text/javascript" src="/lib/underscore-1.4.4.js"></script>
    <script type="text/javascript" src="/lib/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="/lib/handlebars-1.0.0-rc.3.js"></script>
    <script type="text/javascript" src="/lib/ember-1.0.0-rc.1.js"></script>
    <script type="text/javascript" src="/templates.js"></script>
    <script type="text/javascript" src="/app.js"></script>
</body>
</html> 
```

# c++ - 不确定这些运算符是否以这种方式使用

> ID：15715931
> 
> 赞同：0
> 
> 时间：2013-03-30T07:00:03.560
> 
> 标签：c++

此代码示例来自[http://www.cplusplus.com/doc/tutorial/templates/](http://www.cplusplus.com/doc/tutorial/templates/)：

```
template <class myType>
myType GetMax (myType a, myType b) {
 return (a>b?a:b);
} 
```

我感到困惑的是正在返回的代码的“a>b？a:b”部分。有人可以帮助我了解这里发生了什么吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:02:17.567

这是三元运算符。它计算 之前的表达式`?`，如果为真，`:`则返回之前的值。否则，返回后面的值`:`。

它基本上是表达以下 if/else 语句的简洁方式：

```
if ( a>b)
{
    return a;
}
else
{
    return b;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:03:21.383

它被称为三元运算符：

[http://www.cplusplus.com/articles/1AUq5Di1/](http://www.cplusplus.com/articles/1AUq5Di1/)

你可以认为`return (a > b) ? a : b;`是：

```
if(a>b) {
  return a;
} else {
  return b;
} 
```

Keep in mind that the ternary operator actually produces a value, which is either a or b (which is why it works in the `return` statement).

So you can do things like

`myType c = (a>b) ? a : b`, which is roughly equivalent to

```
myType c;
if(a > b) {
  c = a;
} else {
  c = b;
} 
```

# jquery - 跨度中选中的复选框值

> ID：15715932
> 
> 赞同：0
> 
> 时间：2013-03-30T07:00:20.640
> 
> 标签：jquery, html

我正在为站点使用过滤器，并且需要将这些检查值显示在跨度的 div 中。我已经阅读了 Stack Overflow 的文章，它在 div 中显示，但我希望该值显示在 span 标签中。下面是我使用 Stack Overflow 作为值的代码。

**jQuery：**

```
$(document).ready(function()
{
    var el = $('.dropdown_box ');
    var text= el.text();
    $('.dropdown_container').on('click', 'li', function()
    {
        var filter = [];
        $.each($('.dropdown_container').find(':checked'), function(i, el)
        {
            filter.push(el.value);
        });
        el.text(text + ('') + filter.join (''));
    });
}); 
```

**HTML：**

```
<div class="dropdown_box">
    Filter Items :
</div>
<div class="dropdown_container">
    <ul>
        <li><input type="checkbox" name="filter[]" value="Black" class="cbx"/>Black</li>
        <li><input type="checkbox" name="filter[]" value="Red" class="cbx"/>Red</li>
        <li><input type="checkbox" name="filter[]" value="brown" class="cbx"/>brown</li>
        <li><input type="checkbox" name="filter[]" value="pink" class="cbx"/>pink</li>
        <li><input type="checkbox" name="filter[]" value="purple" class="cbx"/>purple</li>
        <li><input type="checkbox" name="filter[]" value="Orange" class="cbx"/>Orange</li>
    </ul>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:08:09.410

在外面定义你的过滤器数组`.on`

**例子**

```
var filter = [];
$('.dropdown_container').on('click', 'li', function()
{ 
```

因为每次您`click`的`filter`数组变量都会重新初始化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:19:59.930

```
 $(document).ready(function()
    {
        var el = $('.dropdown_box ');
        var text= el.text();
        $('.dropdown_container').on('click', 'li', function()
        {
 var filter = [];

            $.each($('.dropdown_container').find(':checked'), function(i, el)
            {

filter.push("<span>"+el.value +"</span>");

            });

     $('.dropdown_box').html(filter);

        });
    }); 
```

没有检查结果试试这个

# php - 如何使用 ZF2 和 ZfcTWIG 在 TWIG 模板中添加动态导航项

> ID：15715938
> 
> 赞同：0
> 
> 时间：2013-03-30T07:00:43.943
> 
> 标签：php, navigation, zend-framework2, twig, template-engine

再会，

我不知道如何在 ZF2 中实现我想要的，因为我是新手。我有一个使用 ZF2 和 ZfcTwig 模块的站点，我希望我的 TWIG 模板具有基于 mysite.global.php 中的设置的动态导航。我希望它读取我的配置数组的内容并使用这些内容创建主导航，这将应用于我网站的所有页面。

我已经创建了 layout.twig：

```
<div class="nav-collapse collapse">
   <ul class="nav">
   {% for item in navigation %}

    <li {% if item.active %} class="active" {% endif %}>
       <a href="{{ url(item.route) }}">
       {{ translate(item.name) }}
       </a>
    </li>

   {% endfor %}
   </ul>
</div><!--/.nav-collapse --> 
```

和我的 mysite.global.php

```
return array(
    'mysite' => array(
        'navigation' => array(
            'home' => array(
               'name' => 'Home',
               'route' => 'home',
             ),
            'profile' => array(
               'name' => 'Profile',
               'route' => 'myroute',
               'active' => true
            ),
        )
    )
); 
```

这就是我迷路的地方。如何将我的设置转移到我的 layout.twig 以便使用该布局的每个页面都使用相同的项目？我尝试了这段代码并将其放在我的 Module.php 中的 onBootstrap() 方法中：

```
//get my settings and place it to $navigation then

$view = $e->getApplication('application')->getMvcEvent()->getViewModel();

$view->navigation = $navigation; 
```

但它不起作用。{{ navigation }} 仍然包含一个空数组。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T23:39:54.243

我使用的解决方案：

在 module.config.php

```
 'service_manager' => array(
    'factories' => array(
        'translator' => 'Zend\I18n\Translator\TranslatorServiceFactory',
        'Navigation' => 'Zend\Navigation\Service\DefaultNavigationFactory',
     ),
  ),

 .....
 'navigation' => array('default' =>array(
    array('label' => 'Home', 'route' => 'home', 'pages' => array(
            array('label' => 'Profile', 'route' => 'myroute'),
          ),
         ),
      ),
    ), 
```

然后在 layout.twig

```
 {{  navigation('navigation').menu() | raw }} 
```

和

```
{{  navigation('navigation').breadcrumbs().render('navigation') | raw }} 
```

就是这样，它应该可以工作，顺便说一下，它使用[导航助手](http://framework.zend.com/manual/2.0/en/modules/zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-navigation)

# python - PIL.Image.save() to an FTP server

> ID：15715940
> 
> 赞同：1
> 
> 时间：2013-03-30T07:00:54.733
> 
> 标签：python, ftp, python-imaging-library, file-transfer

Right now, I have the following code:

```
pilimg = PILImage.open(img_file_tmp) # img_file_tmp just contains the image to read
pilimg.thumbnail((200,200), PILImage.ANTIALIAS)
pilimg.save(fn, 'PNG') # fn is a filename 
```

This works just fine for saving to a local file pointed to by `fn`. However, what I would want this to do instead is to save the file on a remote FTP server.

What is the easiest way to achieve this?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T07:20:54.187

[Python's `ftplib` library](http://docs.python.org/2/library/ftplib.html) can initiate an FTP transfer, but PIL cannot write directly to an FTP server.

What you *can* do is write the result to a file and then upload it to the FTP server using the FTP library. There are complete examples of how to connect in the `ftplib` manual so I'll focus just on the sending part:

```
# (assumes you already created an instance of FTP
#  as "ftp", and already logged in)
f = open(fn, 'r')
ftp.storbinary("STOR remote_filename.png", f) 
```

如果您有足够的内存用于压缩图像数据，则可以通过将 PIL 写入 a [`StringIO`](http://docs.python.org/2/library/stringio.html)，然后将该对象传递到 FTP 库来避免中间文件：

```
import StringIO
f = StringIO()
image.save(f, 'PNG')

f.seek(0) # return the StringIO's file pointer to the beginning of the file

# again this assumes you already connected and logged in
ftp.storbinary("STOR remote_filename.png", f) 
```

# ios - 如何使用 blender 和 PowerVR SDK 为 cocos3d 创建一个简单的 3d 球体

> ID：15715951
> 
> 赞同：7
> 
> 时间：2013-03-30T07:02:11.693
> 
> 标签：ios, cocos2d-iphone, cocos3d

我是 cocos3d 的新手。我想创建一个简单的项目 - 一个旋转的 3d 球体。我使用搅拌机设计了一个 3d 球体。所以我需要帮助创建 collada 文件和 pod 文件。使用 blender 和 PowerVR SDK 创建这个简单的 3d 对象时应该注意哪些事情。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-14T05:17:56.553

在搅拌机中创建球体后，您需要以 .dae 格式导出，然后使用免费的 collada 到 POD 转换器。它将 .dae 文件转换为 .pod 文件。然后 pod 文件可以很容易地解析成 cocos3d。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-07T11:44:07.657

您如何在搅拌机中制作简单的球体，然后使用 Jeff LaMarche 的[Blender-to-iOS 脚本](http://iphonedevelopment.blogspot.sg/2011/04/blender-257-objective-c-export-script.html)将其导出？这甚至不需要 Cocos 或 PowerVR，但这是一个好的开始。由于您可以在 iOS 中轻松地将 Cocos 与非 Cocos 类集成，这可能会有所帮助。您可以更进一步并利用 Apple 的 GLKit，这可能也很简单。

只是建议......

# java - Java - 为什么当变量是静态的时 ClassName.this.variable 工作？

> ID：15715954
> 
> 赞同：4
> 
> 时间：2013-03-30T07:02:31.430
> 
> 标签：java, class, static, this, object-composition

我试图完全理解“这个”是如何工作的。在我[之前的帖子](https://stackoverflow.com/questions/15715241/java-when-this-is-the-only-way-to-go)中，我理解了为什么我们使用“this”关键字。

我对静态的理解是该类具有该成员的一个副本。“this”用于表示当前对象。对于所有对象，静态成员变量都是相同的，那么为什么“this”对静态成员变量起作用？

代码：

```
public class OuterInnerClassExample
{
    public static void main(String[] args)
    {
        OuterClass outClassObj = new OuterClass(10);
        outClassObj.setInt(11);
        outClassObj.setInt(12);

        System.out.println("Total Count: " + outClassObj.getCount() );
    }
}

class OuterClass
{
    private int test;
    private static int count;       // total sum of how many new objects are created & the times all of them have been changed

    public OuterClass(int test)
    {
        this.test = test;
//      count += 1;                 // preferred as count is static
        this.count += 1;            // why does this work
    }

    public int getInt()
    {
        return this.test;
    }

    public int getCount()
    {
        return this.count;
    }

    public void setInt(int test)
    {
        this.test = test;
//      count += 1;                 // preferred as count is static
        this.count += 1;            // why does this work
    }

    class SomeClass
    {
        private OuterClass outClassObj;

        public SomeClass(int var)
        {
            outClassObj = new OuterClass(var);
        }

        public int getVar()
        {
            return this.outClassObj.getInt();
        }

        public int getCount()
        {
            return this.outClassObj.getCount();
        }

        public void setVar(int var)
        {
//          OuterClass.this.test = var;         // can do this
            outClassObj.setInt(var);            // preferred

//          OuterClass.count += var;            // should do this
            OuterClass.this.count += var;       // why does this work
        }
    }
} 
```

另外，在 setVar 方法中，我们可以使用 ClassName.this 来操作对象的值，但我认为使用 setter 更好，因为它更清晰。我错过了在这里使用“这个”有什么好处吗？

请发布代码以显示您要解释的示例。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T07:07:43.950

根本原因是您可以在类名`MyClass.someStaticField`或类的实例上调用静态成员/方法`new MyClass().someStaticField`。

所以只要这是“可用的”，`MyClass.someStaticField`就等价于`this.someStaticField`.

在您的情况下，您总是`this`从实例方法调用，因此它确实存在并且语句编译。

最后，内部类（非静态嵌套类）包含对其封闭类的引用，这也允许`OuterClass.this.count`编译。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T20:33:01.297

每当您这样做`(some expression).staticMember`时，编译器仅使用表达式的编译时*类型*来确定要访问的静态成员。表达式是什么或它的值是什么并不重要。

它可能是`((MyClass)null).someStaticField`，它不会有所作为。

# jsp - JSTL with Weblogic 12c does not work properly

> ID：15715958
> 
> 赞同：0
> 
> 时间：2013-03-30T07:02:42.267
> 
> 标签：jsp, jstl, weblogic12c

I am using Weblogic version 12c and weblogic has in built JSTL support. We just need to set the URI above our JSP. I am using core taglibs using

```
<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core" %> 
```

in my jsp. By doing this I am able to use core functionalities like `<c:out>, <c:set>, <c:forEach>` and all. But I can not print my values directly in my jsp. Currently I've to use `<c:out> tag` but I want them printed directly using `$` sign. i.e. `${someObject.someProperty}` - By doing so it prints as it is with dollar sign and curly braces and all, no actual values are printed.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T07:47:29.147

You are mistaking the URI, on JSPs you need to use this:

```
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%> 
```

Also you can include at the top of your taglibs to allow EL:

```
<%@ page isELIgnored="false" %> 
```

# ruby-on-rails - 在 Rails 中自动删除用户帖子的最佳方法是什么？

> ID：15715961
> 
> 赞同：0
> 
> 时间：2013-03-30T07:03:09.413
> 
> 标签：ruby-on-rails, cron, scheduled-tasks

我正在创建一个列表类型的 Web 应用程序，并且希望用户的帖子在帖子/列表过期后的某个时间自动被删除？

更详细地了解您发布的应用程序，假设您将乘坐汽车升降机将某人带到目的地。我希望帖子在提升完成 24 小时后自行删除

Rails 的 cronjob/scheduler 是唯一的方法吗？没有更简单的方法吗？

我正在努力解决它。

这是代码：lib/tasks/scheduler.rake

```
desc "This task is called by the Heroku scheduler add-on"

task :delete_hosting => :environment do
 => not sure what goes here, something like => User.host.after_time.delete? //
end 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:28:02.877

Resque-Scheduler 与该功能完美匹配：[https ://github.com/bvandenbos/resque-scheduler](https://github.com/bvandenbos/resque-scheduler)

```
Resque.enqueue_in(1.day, DeleteUserPost, :user_post_id => user_post.id) 
```

在 DeleteUserPost 中，您编写删除 UserPost 的代码

# android - Need help in android app to select a part of image

> ID：15715967
> 
> 赞同：2
> 
> 时间：2013-03-30T07:04:01.170
> 
> 标签：android

Your application will then display an image on the screen.

A small resizable rectangular box is also displayed on the screen which the user can drag using touch. This would allow user to select any rectangular portion of the image.

How do I accomplish this. I have no idea how to proceed. How do make a `rectangular box`, drag it using touch and then select the that `portion of image`?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:24:13.000

Try the below code , it works me perfect. Any doubts let me know

```
Intent intent = new Intent("com.android.camera.action.CROP");
                // this will open all images in the Galery
                intent.setDataAndType(uriOfYOurImageThatToBeEdited, "image/*");
                intent.putExtra("crop", "true");
                // this defines the aspect ration
                intent.putExtra("aspectX", widthOfImage);
                intent.putExtra("aspectY", heightOfImage);
                // this defines the output bitmap size
                intent.putExtra("outputX", widthOfImage);
                intent.putExtra("outputY", heightOfImage);
                // true to return a Bitmap, false to directly save the cropped iamge
                intent.putExtra("return-data", false);
                //save output image in uri
                intent.putExtra(MediaStore.EXTRA_OUTPUT, croppedImageUri);
                System.out.println("CroppedImageUri : "+ croppedImageUri);
                startActivityForResult(intent, 200); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:27:49.390

You can use canvas to draw a rectangular box of any size on the image. Then you can use touch listeners' ACTION_DOWN event to detect if user has touched within the rectangular area. And use ACTION_MOVE event to drag rectangle area over the image.

This link [http://android-developers.blogspot.in/2010/06/making-sense-of-multitouch.html](http://android-developers.blogspot.in/2010/06/making-sense-of-multitouch.html) should give you a start with touch events.

# c - 将一个二维数组初始化为相同的值？

> ID：15715968
> 
> 赞同：2
> 
> 时间：2013-03-30T07:04:18.013
> 
> 标签：c, arrays

我想知道是否可以在 C 中将 2D 数组的每个元素初始化为相同的值。我像这样声明我的二维数组：

```
char arry[x][y]; 
```

我希望每个元素 arry[0...x][0...y] 都包含星号字符。有没有简单的方法可以在没有循环的情况下做到这一点？我在想类似的事情：

```
char arry[x][y] = '*' 
```

但我知道那是行不通的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2021-05-30T03:50:28.873

哟可以使用[标量初始化器](https://gcc.gnu.org/onlinedocs/gcc/Designated-Inits.html)：

```
// Define row and column
int row = 4, col = 5;
// Initialize 2D character array
char array2D[row][col] = {[0 ... (row-1)][0 ... (col-1)] = '*'};

// Print array to screen
printf("\nArray:\n");

for(int x = 0; x < row; x++)
{
    for(int y = 0; y < col; y++)
        printf("%c\t", array2D[x][y]);
    printf("\n");
} 
```

您可以看到该输出：

```
Array:
*   *   *   *   *   
*   *   *   *   *   
*   *   *   *   *   
*   *   *   *   * 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-30T07:06:40.457

只要“相同的值”为零就有可能

```
char arry[x][y] = { 0 }; 
```

以上将用零初始化数组的*所有*元素。

对于任何其他值，通过初始化语法是不可能的（除非您想明确地为每个数组元素拼写“相同的值”）。您将编写自己的初始化周期或使用预先编写的函数。

# ruby - 如何将哈希值与数组值进行比较？

> ID：15715970
> 
> 赞同：0
> 
> 时间：2013-03-30T07:04:23.353
> 
> 标签：ruby, hash, cucumber

我将两个参数传递给函数：

```
function_a(hash1, array1) 
```

如果我在函数内打印`class.name`每个参数（即`hash1.class.name`），它显示为：

```
Hash1:Hash & Array-1:Array 
```

两个数据结构在通过前的成员是：

哈希 1：

```
{:cmd=>"-add set isteautoSet1 2013-04-02 23:00:00",
 :criteria=>"isteautoSet1 2013-04-02 23:00:00",
 :setname=>"isteautoSet1",
 :operation=>"add"} 
```

阵列-1：

```
[{:setname=>"isteautoSet1",
  :numrules=>"0",
  :tests=>"0",
  :lastchanged=>"2013-03-30 06:35:40",
  :filtertype=>"summary",
  :expires=>"2013-04-02 23:00:00"},
 {:setname=>"set1",
  :filtertype=>["company"],
  :rulenum=>"1",
  :criteria=>"mydomain.com"},
 {:setname=>"set1",
  :filtertype=>["individual"],
  :rulenum=>"2",
  :criteria=>"yourdomain.com"}] 
```

我的目标`function_a`是：

验证字段的`array`-1 值是否与value匹配。`("setname" + " " + "expires")``hash-1``:criteria`

当我进行比较时，我不断收到“无法将符号转换为整数（类型错误）”。看起来问题在于使用“每个”方法访问数组内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:36:16.903

如果我对您的理解正确，也许这适合您：

```
rules.each do |hash|
    if hash.has_key?(:setname)
        if hash[:setname].eql?(cmd_hash[:setname])
             puts "found value"
        end
    end
end 
```

这不是最干净的方法，但它为开始提供了良好的基础。

祝你好运！:)

# c# - 简单的依赖解析器

> ID：15715978
> 
> 赞同：31
> 
> 时间：2013-03-30T07:05:53.493
> 
> 标签：c#, design-patterns, dependency-injection

如何在不使用任何内置或库（如 Autofac、Ninject 等）的情况下创建简单的 Dependency Resolver？

这是我的面试问题。

我写了这个简单的代码，他们说它看起来不太好。它就像非常硬编码的想法。

```
public interface IRepository { }
interface IDataProvider
{
    List<string> GetData();
}
public class SQLDataProvider : IDataProvider
{
    private readonly IRepository _repository { get; set; }
    public SQLDataProvider(IRepository repository)
    {
        _repository = repository;
    }
    public List<string> GetData()
    {
        return new List<string> { "" };
    }
}
public class MockDataProvider : IDataProvider
{
    public List<string> GetData()
    {
        return new List<string> { "" };
    }
}
class Program
{
 static void Main(string[] args)
 {
    string targetClass = "SQLDataProvider";
    //Here i need to supply IRepository instance too 
   IDataProvider dataProvider = 
   (IDataProvider)Activator.CreateInstance(typeof(IDataProvider), targetClass);

  }
} 
```

我做了什么更好的代码并为构造函数参数提供其他对象实例？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-03-30T09:36:33.873

[DI 容器](https://stackoverflow.com/questions/50718586/what-is-a-di-container/50724263#50724263)是复杂的库。建造它们需要数年时间并维护它们数十年。但是为了演示它们的工作原理，您可以用几行代码编写一个简单的实现。

在其核心，DI Container 通常会包装一个字典，`System.Type`并将其作为键，值将是一些允许您创建该类型的新实例的对象。当您编写一个简单的实现时`System.Func<object>`就可以了。这是一个包含多个`Register`方法的示例，包括泛型和非泛型`GetInstance`方法，并允许[Auto-Wiring](https://livebook.manning.com/book/dependency-injection-principles-practices-patterns/chapter-12/44)：

```
public class Container
{
    private readonly Dictionary<Type, Func<object>> regs = new();

    public void Register<TService, TImpl>() where TImpl : TService =>
        regs.Add(typeof(TService), () => this.GetInstance(typeof(TImpl)));

    public void Register<TService>(Func<TService> factory) =>
        regs.Add(typeof(TService), () => factory());

    public void RegisterInstance<TService>(TService instance) =>
        regs.Add(typeof(TService), () => instance);

    public void RegisterSingleton<TService>(Func<TService> factory)
    {
        var lazy = new Lazy<TService>(factory);
        Register(() => lazy.Value);
    }

    public object GetInstance(Type type)
    {
        if (regs.TryGetValue(type, out Func<object> fac)) return fac();
        else if (!type.IsAbstract) return this.CreateInstance(type);
        throw new InvalidOperationException("No registration for " + type);
    }

    private object CreateInstance(Type implementationType)
    {
        var ctor = implementationType.GetConstructors().Single();
        var paramTypes = ctor.GetParameters().Select(p => p.ParameterType);
        var dependencies = paramTypes.Select(GetInstance).ToArray();
        return Activator.CreateInstance(implementationType, dependencies);
    }
} 
```

您可以按如下方式使用它：

```
var container = new Container();

container.RegisterInstance<ILogger>(new FileLogger("c:\\logs\\log.txt"));

// SqlUserRepository depends on ILogger
container.Register<IUserRepository, SqlUserRepository>();

// HomeController depends on IUserRepository
// Concrete instances don't need to be resolved
container.GetInstance(typeof(HomeController)); 
```

> **警告：你不应该*使用*上面给出的这种幼稚和简单的实现。[它缺乏成熟的 DI 库为您提供的许多重要功能，但与使用纯 DI](https://blog.ploeh.dk/2014/06/10/pure-di/)（即手动连接对象图）相比没有任何优势。你失去了编译时支持，没有得到任何回报。**

当您的应用程序很小时，您应该从 Pure DI 开始，一旦您的应用程序和 DI 配置增长到维护您的[Composition Root](https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/)变得很麻烦，您可以考虑切换到已建立的 DI 库之一。

以下是与已建立的库相比，这种天真的实现缺乏的一些特性：

*   **自动注册：**通过在单行中注册一组类型来应用约定优于配置的能力，而不必手动注册每种类型。
*   **拦截：**为一系列类型应用装饰器或拦截器的能力
*   **泛型：**将开放泛型抽象映射到开放泛型实现
*   **集成：**将库与常用应用平台（如 ASP.NET MVC、Web API、.NET Core 等）结合使用
*   **生命周期管理：**使用自定义生活方式注册类型的能力（例如，Scoped 或 Per Request）。
*   **错误处理：**检测错误配置，例如循环依赖。这种简单的实现会引发堆栈溢出异常。
*   **验证：**用于验证配置正确性（以补偿编译时支持的损失）和诊断常见配置错误的功能或工具。
*   **性能：**使用这种简单的实现构建大型对象图会很慢（例如，由于产生的垃圾量很大，会导致很大的 GC 压力）。

这些特性和能力允许您在使用 DI 容器时保持 DI 配置的可维护性。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-30T09:23:58.020

已经有几年的历史了，但是 Ayende 曾经写过一篇关于这个的博客文章：
[Building an IoC container in 15 lines of code](http://ayende.com/blog/2886/building-an-ioc-container-in-15-lines-of-code)

但这只是最简单的可能实现。
Ayende 本人在他的[下一篇文章](http://ayende.com/blog/2887/dependency-injection-doesnt-cut-it-anymore)中表示，现有的 IoC 容器可以做的事情远不止返回类实例——这就是它变得复杂的地方。
正如“相信我——我是一名医生”在他的评论中已经说过的那样：实现一个*完整*的IoC 容器绝非易事。

# android - 如何从 Facebook 获取清晰的图像

> ID：15715981
> 
> 赞同：2
> 
> 时间：2013-03-30T07:06:26.663
> 
> 标签：android, android-facebook

我使用 Facebook Wall Post Images 的图形 API Json Response 并在我的 APP 中显示，我成功获得了它。但是墙上的图像看起来很模糊怎么解决？我用这个代码来获取墙上的图片

```
URL url=new URL(hashMap.get("picture_url"));
bitmap=BitmapFactory.decodeStream(url.openConnection().getInputStream());
((ImageView)view.findViewById(R.id.imageView_FullImage)).setImageBitmap(bitmap) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:34:47.487

Facebook Graph API 以及 FQL 数据集始终返回缩略图的图片 URL。如果您查看它返回的 URL，它将具有以下结尾之一（就在图像扩展名 .jpg、.png 等之前）**_t。**, **_a。**. 例如，如果 URL 指向 JPG 文件，则它可能以**_t.jpg结尾**

这个想法是*交换*结尾并为返回的图像选择正常大小。为此，请使用下面的代码将结尾替换为正常大小图像的结尾（应该有**_n.**）

顺便说一句，我认为您要查找的标签不是**picture_url**。它应该只是**图片**。但无论如何，如下所示获取源 URL，替换结尾，然后将其传递到代码中的这一行：

```
// THIS SHOULD BE AFTER THE if....else code block
bitmap=BitmapFactory.decodeStream(url.openConnection().getInputStream()); 
```

替换各种缩略图图像*的代码：顺便说一下，这是生产代码，工作完美。*

```
String PICTURE_URL;
String getPicture = JOFeeds.getString("picture");

if (getPicture.contains("_t.")) {
    PICTURE_URL = getPicture.replaceAll("_t.", "_n.");
} else if (getPicture.contains("_a.")) {
    PICTURE_URL = getPicture.replaceAll("_a.", "_n.");
} else if (getPicture.contains("_s.")) {
    PICTURE_URL = getPicture.replaceAll("_s.", "_n.");
} else if (getPicture.contains("_q.")) {
    PICTURE_URL = getPicture.replaceAll("_q.", "_n.");
} 
```

*Note: However, in some cases, like a Video preview or a Link preview, it will not always have a bigger image available. Nothing much you can do about it nor can Facebook I suspect. These typically come from posts that are shared by users from other websites.*

# javascript - 字符串扩展为整数，没有 InvalidCastException

> ID：15715984
> 
> 赞同：0
> 
> 时间：2013-03-30T07:06:38.577
> 
> 标签：javascript, jquery, variables

**案例一：**

```
var xTest = "Hello world";  //String variable.
xTest += 10; //Integer widens to String.

alert(xTest); 
```

*结果：你好 world10*

**案例二：**

```
var xTest = 10; //Integer variable.
xTest += "Hello World"; //String widens to integer.

alert(xTest); 
```

*结果：10Hello world*

案例 I 和案例 II 的执行方式相同。`Integer`扩大到`string`，是可以接受的。但是 a 如何`String`扩大到`integer`以及如何返回`string`.？它应该抛出一个`InvalidCastException`. 我对吗。？我们可以在任何时候转换`Type`a`variable`吗？[比如说，我们在我们的计算中使用了一个`variable`'x' `script`（例如：x = 10 * 5），稍后在5行之后`code`我们可以使用相同`integer variable`的意思`String manipulations`吗.？]我现在有点困惑.

我正在学习`JS`[迁移自`VB.Net`]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:11:34.510

JavaScript 中没有 int 数据类型。有从 Object 继承的 Number，它又具有 toString() 方法，该方法将在您的两个示例中用于将两个对象连接到一个新对象。[您可以在http://www.w3schools.com/jsref/jsref_obj_number.asp](http://www.w3schools.com/jsref/jsref_obj_number.asp)阅读有关 Number 对象的更多信息