# StackOverflow 问答 15379000-15379999

# javascript - 如何使用 node.js 中的 express 框架提供图像文件？

> ID：15379004
> 
> 赞同：8
> 
> 时间：2013-03-13T07:08:54.417
> 
> 标签：javascript, css, node.js, express

在我的应用程序中，我使用 express 框架来提供客户端文件。但是在为 html 元素提供背景图像时。它的显示无法加载给定的 url。

```
var express = require('express')
    , http  = require('http');

var app = express();
app.configure(function(){
    app.use(express.static(__dirname + '/public'));
});
var server = http.createServer(app);
var io = require('socket.io').listen(server);
server.listen(8000); 
```

在公共文件夹中，我创建了 javascripts、stylesheets、images 文件夹。现在我正在获取 javascripts 和 stylesheets。但我不知道如何访问图像文件。

```
.logo {
    background:url('localhost:8080\logo.jpg');//This image url not loading
    float:left;
    width:20px
    height:20px;
} 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-13T07:12:42.170

如果你的文件目录像

```
/public
    /stylesheets
    /javascripts
    /images
        /logo.jpg 
```

然后您的公共访问从`/public`目录开始。这意味着为了访问图像，地址将是`localhost:8080/images/logo.jpg`.

总之，你有两个问题。

1.  在 URL 中使用正斜杠 ( `/`)，而不是反斜杠 ( )`\`
2.  您错过了`image`在地址中包含目录

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-07-22T17:32:26.760

You are also listening on port 8000, but the image you are referencing has port 8080.

# qt - 我不能在我的 Windows 上使用 Qt

> ID：15379007
> 
> 赞同：0
> 
> 时间：2013-03-13T07:09:00.350
> 
> 标签：qt, windows-8, qt-creator

我刚刚在 Windows 8 上安装了 Qt 5.0.1，但是当我打开 Qt Creator 并创建了一个名为的新 Qt GUI 应用程序`test_1`，然后运行它说的项目时`:-1: error: error: ..test_1test_1main.cpp: No such file or directory`，`:-1: error: fatal error: no input files`.

```
#------------------------------------------------- #
# Project created by QtCreator 2013-03-13T16:17:47 # 
#-------------------------------------------------
QT += core gui
greaterThan(QT_MAJOR_VERSION, 4): QT += widgets
TARGET = test
TEMPLATE = app
SOURCES += main.cpp\
    mainwindow.cpp
HEADERS += mainwindow.h
FORMS += mainwindow.ui 
```

# ios - 适用于 iOS 的 VNC 开源

> ID：15379011
> 
> 赞同：2
> 
> 时间：2013-03-13T07:09:11.203
> 
> 标签：ios, iphone, objective-c, ipad, vnc

iOS 平台的 VNC 客户端是否有可用的开源代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-01-22T07:39:44.240

这个名为的开源包`wdaproxy`提供了一个 Web 应用程序，可用于远程控制安装了 WebDriverAgent（由 Facebook 提供）的任何 iOS 设备。 [https://github.com/openatx/wdaproxy](https://github.com/openatx/wdaproxy)

在拥有大量中国用户的 testerhome 论坛上偶然发现了这个，它通过浏览器会话提供了对手机的部分远程控制，是迄今为止发现的最近的非越狱选项。

# shell - 将 txt 文件从 Unix 机器复制到 Windows 机器

> ID：15379013
> 
> 赞同：0
> 
> 时间：2013-03-13T07:09:12.073
> 
> 标签：shell, unix

我有以下 shell 脚本将 txt 文件从 Unix 机器复制到同一网络中的 Windows 机器：

```
#!/bin/sh
HOST='localhost'
USER='redacted'
PASSWD='redacted'
FILE='/los_prod/scripts/log.txt'

ftp $HOST <<END_SCRIPT
user $USER
$PASSWD
put $FILE
quit
END_SCRIPT
exit 0 
```

它给出的错误是：

> ：连接失败。

我在脚本中提供了所有正确的信息。可能是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:57:21.843

您可能想看看这里： http: [//www.stratigery.com/scripting.ftp.html](http://www.stratigery.com/scripting.ftp.html)

它提供了一种简单的方法来做你想做的事。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:31:25.513

`ftp`不接受来自 的输入`stdin`，因此您不能像那样输入登录信息。您需要使用像[expect](http://en.wikipedia.org/wiki/Expect)这样的程序来自动化普通的`ftp`命令行客户端。更好的选择可能是使用另一种语言而不是 Bourne shell 脚本。Perl（正如@sarathi 提到的）、Ruby 或 Python 之类的东西可以让您编写一个相当小的脚本，并使用它们可用的 FTP 库来更轻松地编写脚本。

这是您的脚本的一个版本`expect`：

```
set host "localhost"
set user "redacted"
set pass "redacted"
set file "/los_prod/scripts/log.txt"

spawn ftp $host
expect "Name"
send "$user\n"
expect "Password:"
send "$pass\n"
expect "ftp>"
send "put $file\n"
expect "ftp>"
send "quit\n" 
```

您可能必须`expect`在系统上安装；它不像其他口译员那样广泛使用。任何现代 Linux 发行版都会有一个包。

# ruby-on-rails - 使用 COCOON Rails 3 在动态字段中自动完成 Jquery

> ID：15379015
> 
> 赞同：2
> 
> 时间：2013-03-13T07:09:21.150
> 
> 标签：ruby-on-rails, autocomplete, jquery-autocomplete, cocoon-gem

嗨，我正在使用茧来生成嵌套字段。

茧：[https ://github.com/nathanvda/cocoon](https://github.com/nathanvda/cocoon)

嵌套的表单/字段是 100% 工作的，所以我尝试将 jQuery 自动完成集成到一个嵌套字段中。

我一直在关注这个要点（从 map7 分叉）：[https ://gist.github.com/xirukitepe/5132317](https://gist.github.com/xirukitepe/5132317)

自动完成功能在第一个/父字段中有效，但不适用于其他后续嵌套字段。

这是我的代码：

首先我创建了自动完成控制器....

```
class AutocompleteController < ApplicationController
    def categories
     if params[:term]
       like  = "%".concat(params[:term].concat("%"))
       categories = Category.where("lower (categories.code) LIKE lower(?)", like)
     else
       categories = Category.all
     end
     list = categories.map {|u| Hash[id: u.id, label: u.code, name: u.code]}
     render json: list            
   end
 end 
```

然后在**item.rb**

我添加了 attr_accessor 和一种方法......

```
attr_accessor :category_code
def category_code
          category.code if category_id
end 
```

在**items_controller.rb 中**

```
def category_code=(code)
   category= Category.find_by_code(code)
   if category       
     self.category_id = category.id
   else              
     errors[:category_code] << "Invalid name entered"
   end               
end                 

def category_code      
   Category.find(category_id).name if category_id
end 
```

这是我的咖啡文件：

```
$ ->
  $('input.x').autocomplete
  source: "/autocomplete/categories"
  select: (event,ui) -> $("input.xx").val(ui.item.id) 
```

**路线.rb**

```
 match '/autocomplete/categories' => "autocomplete#categories"
  resources :project_procurement_management_plans do

    resources :attachments
    resources :items do

        member do
           put :edit_pmr_item
           get  :edit_item
        end
    end
  end 
```

我通过类而不是 ID 调用它，因为嵌套属性具有不同的 IDS，我不知道如何使用 JS 调用它。

任何解决方法将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-29T00:32:31.490

为此，您必须挂钩茧回调。

基于我在茧自述文件中的示例中的解释：

```
$('#tasks')
  .on('cocoon:after-insert', function(e, task_to_be_added) {
    task_to_be_added.autocomplete({
      source: "/autocomplete/tags"
    });
}) 
```

您仍然需要像您所做的那样初始化在动态添加之前已经渲染的itens。

# scala - 我可以在 Specs2 测试中使用模拟文件来写入文件吗？如果是这样，如何？

> ID：15379018
> 
> 赞同：1
> 
> 时间：2013-03-13T07:09:30.693
> 
> 标签：scala, testing, mocking, mockito, specs2

我已经成功地使用 Specs2 来测试对文件的序列化，但测试使用的是真实文件（写入 /tmp/）。我宁愿不只是为了测试而触摸磁盘。有没有办法使用模拟文件？

```
def serializeAndDeserializeFromDatafile[X <: CaseClass : Manifest](old: X, maybeGrater: Option[AvroGrater[X]] = None): X = {
val g = maybeGrater.getOrElse(grater[X])

//val outfile = mock[File]
val outfile = new File("/tmp/file1.avro")   

g.serializeToDataFile(outfile, old)  //Serialize to file

val infile = outfile
g.asObjectFromDataFile(infile)       //Deserialize from file 
} 
```

我尝试使用 Mockito 来模拟我`outfile`的（上面注释掉的行）。在我天真的尝试中，我可以创建`Mock for File, hashCode: 1583021903`，但似乎是`null`在我尝试序列化时。

我想我错过了某种“存根”，但我找不到任何足够相似的例子来提出解决方案。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T18:34:05.950

我有一个程序（使用 Akka 自主编写），它广泛处理文件系统操作。我使用 ScalaIO（而不是本机 Java 库`java.io._`类）编写它。ScalaIO 包括，除其他外，`RamFileSystem`它允许您以镜像真实文件系统操作的方式模拟文件系统内容和操作，而无需涉及文件系统和 I/O 系统调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:03:46.040

您可以尝试使用 OutputStream/InputStream 代替文件吗？

例子：

```
val out:OutputStream = null
// val testOut  = new ByteArrayOutputStream()
// val realOut = new FileOutputStream(new File("/tmp/file1.avro"))

g.serializeToOutputStream(out, old)  //Serialize to file

val in:InputStream = null
// val testIn = new ByteArrayInputStream(testOut.toByteArray)
// val realIn = new FileInputStream(new File("/tmp/file1.avro"))

g.asObjectFromInputStream(in)       //Deserialize from file 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T12:24:55.447

你可以模拟出 a `File`，但这并不意味着一切都会好起来的。默认情况下，当您在 mock 上调用方法时，它会返回`null`（例如，0 表示`int`值）。

因此，如果您正在测试的函数调用其中一种`File`方法，您将需要提供合理的默认值。例如：

```
val f = mock[File]

f.createNewFile returns true
f.isFile returns true
f.list returns Array("child1", "child2") 
```

话虽如此，如果您的`grater`对象确实需要一个功能文件来写入，那么可能无法真正模拟它。

# jquery-ui - 点击日期后的jQuery datepicker焦点

> ID：15379020
> 
> 赞同：0
> 
> 时间：2013-03-13T07:09:42.080
> 
> 标签：jquery-ui, jquery-ui-datepicker

我注意到 jQuery datepicker 既没有激活当前元素，也没有激活选项卡索引中的下一个元素，在选项卡进入字段后会产生一个 datepicker 实例，并且鼠标用于单击一天。

```
<input type="text" id="no1" />
<input type="text" id="no2" />
<input type="text" id="no3" />

$('#no2').datepicker();
$('#no1').focus(); 
```

如果您查看[http://jsfiddle.net/DgkJZ/1/](http://jsfiddle.net/DgkJZ/1/)

和标签到第二个字段，单击一个日期，你会明白我的意思是标签焦点无处可去。有没有不涉及编辑 jQuery UI 源代码的解决方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:16:59.297

尝试抓住`onSelect`并相应地设置焦点

```
$('#no2').datepicker( {
    onSelect: function() {
       $('#no3').focus();
    }
); 
```

# powershell - 从“总计：955198 147.9M 6 16477 162 962959 1.0 3.4”中获取最后一个数字的任何简单方法

> ID：15379028
> 
> 赞同：1
> 
> 时间：2013-03-13T07:10:13.150
> 
> 标签：powershell

我正在尝试在这里分析一个文本文件。

```
$a = (Get-Content c:\tabanalys.txt | Select-String "Total"  -casesensitive).line 
```

这将返回一个字符串：

```
Totals:               955198  147.9M     6 16477   162     962959    1.0     3.4 
```

现在我需要在那里得到最后一个数字“3.4”，这个数字是可变的。我正在考虑使用它：

```
$a[-5..-1] 
```

这对我有用，但显然不是一个绝对正确的答案。那么，任何人都可以提出任何正确的答案吗？非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:51:10.590

其他方式：

```
$a -split ' ' | select -Last 1 
```

要不就

```
 ($a -split ' ')[-1] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:53:11.503

这是另一个不涉及 regex-fu 的选项。拆分字符串（忽略空元素）并获取最后一个元素：

```
$a.Split(' ',[System.StringSplitOptions]::RemoveEmptyEntries)[-1]

3.4 
```

或使用匹配运算符（正则表达式模式）：

```
if($a -match '\d+\.\d+$') {$matches[0]} 
```

# performance - 需要将人声转换为音符

> ID：15379029
> 
> 赞同：4
> 
> 时间：2013-03-13T07:10:25.113
> 
> 标签：performance

一个人会唱出一种音调，并希望将其转换为演奏相同音调的乐器。[在使用aubio.org](http://aubio.org)处理录制的人声的 .wav 文件时，我能够获得不同时间间隔的音高/频率。但是如何从这些数据中获取要演奏的乐器的音符，或者是否有一些调音器可以帮助我做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T22:17:53.040

对于音高，使用 MIDI 69 = 440hz 的公式，所以（python/伪代码）

```
midiNote = round(12 * (log(freq/440.0), 2))) + 69 
```

但是你会发现对于节奏来说，事情实际上可能比这更复杂，因为。我会使用一个已经制作的有节奏的“量化”包（这是你想要的谷歌搜索词），因为确定速度以及是否应该将 1.125 拍长的东西转录为四分音符或四分音符绑定到32nd note 很大程度上取决于上下文，这是一项很大的编程工作。有几个预先存在的工具包可以为您完成。我自己的python 框架music21 有一个audioSearch 模块，它应该可以处理简单的片段——至少你可以把代码放到你自己的包中，因为它是非常标准的FFT 样本转换技术。

# ruby - 编写openssl脚本以生成许多证书而无需手动输入密码？

> ID：15379031
> 
> 赞同：4
> 
> 时间：2013-03-13T07:10:39.657
> 
> 标签：ruby, command-line, input, openssl, popen3

我创建了一个证书颁发机构，需要生成和签署 50 多个证书。我想编写这个过程的脚本。我不想手动输入密码 100 多次！

这是我挂断的命令：

```
openssl req -newkey rsa:1024 -keyout ~/myCA/tempkey.pem -keyform PEM -out ~/myCA/tempreq.pem -outform PEM 
```

问题是，它希望我使用以下提示创建密码：

```
Enter PEM pass phrase:
Verifying - Enter PEM pass phrase: 
```

当我只是被要求输入密码时，我可以使用`-passin pass:mypass`命令行选项`openssl`。但这似乎不适用于创建密码。

此外，当后来我最终删除它时需要密码似乎很奇怪：

```
openssl rsa < tempkey.pem > server_key.pem 
```

我尝试创建一个简单的 Ruby 脚本：

```
require 'open3'

Open3.popen2("openssl req -newkey rsa:1024 -keyout ~/myCA/tempkey.pem -keyform PEM -out ~/myCA/tempreq.pem -outform PEM") {|i,o,t|
    i.puts "mySecretPassword"
    i.puts "mySecretPassword"
} 
```

但这似乎也不起作用。我仍然会收到手动提示，要求我创建密码。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-02-23T20:44:15.977

如[本答案](https://stackoverflow.com/a/4300425/376366)中所述，您可以使用该`-passout pass:foobar`选项通过命令行设置密码。例如：

```
openssl req \
  -newkey rsa:1024 -keyout ~/myCA/tempkey.pem -keyform PEM \
  -out ~/myCA/tempreq.pem -outform PEM \
  -passout pass:foobar \
  -subj "/C=US/ST=Test/L=Test/O=Test/CN=localhost" 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T09:58:33.917

问题是大多数需要密码的实用程序确实需要交互式终端。因此，如果您尝试伪造它（就像您使用 Ruby 脚本所做的那样），它将无法正常工作。你也可以试试：

```
echo -n "pass\npass\n" | openssl req .... 
```

虽然这适用于某些程序，但那些需要交互式 shell 的程序将不起作用。

您正在搜索名为 expect 的工具。在您的 UNIX/Linux/MacOS 上安装它并查看手册页：

```
man expect
...
Expect is a program that "talks" to other interactive programs according to a script.  Following the script, Expect
knows what can be expected from a program and what the correct response should be.  An  interpreted  language  pro‐
vides  branching  and high-level control structures to direct the dialogue.  In addition, the user can take control
and interact directly when desired, afterward returning control to the script.
... 
```

您需要创建“预期脚本”，这实际上取决于您的环境 - 应用程序要求什么。如果只是密码，应该很简单。这是更复杂的示例： http: [//fixunix.com/openssl/159046-expect-script-doesnt-create-newreq-pem.html](http://fixunix.com/openssl/159046-expect-script-doesnt-create-newreq-pem.html)

我认为这应该可行（您可能需要稍微更改一下）：

```
#!/usr/bin/expect -f
spawn -console openssl req blah blah blah blah
expect "Enter PEM pass phrase:*" {send "password\r"}
expect "Verifying - Enter PEM pass phrase:*" {send "password\r"} 
```

祝你好运！

# lotus - Lotus 脚本 dblook up

> ID：15379033
> 
> 赞同：-1
> 
> 时间：2013-03-13T07:10:45.333
> 
> 标签：lotus, lotusscript, lotus-formula

我使用此代码到我的组合框`@Unique(@DbColumn("":"nocache";@DbName;"view";2))`来调用视图中的值，现在我的问题是，如果组合框的值是另一个组合框中的人，将显示另一个视图中列出的所有人的姓名。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T03:07:12.003

我想我理解你的问题，虽然它仍然有些令人困惑。

按照您在评论中的解释，您需要一个分类视图：

```
>Value 1
        Boy
        Girl
>Value 2
        Dog
        Cat 
```

该视图可以称为“view_by_value_x”

**在第**一个名为“field_combo_1”的组合框中，您应该在`Properties`窗口中编写此代码，`Options by formula`

```
@DbColumn("":"nocache"; ""; "view_by_value_x"; 1) 
```

**在第二个组合框里**，你应该把它写在同一个地方

```
@DbLookup("":"nocache"; ""; "view_by_value_x"; field_combo_1; 2) 
```

不要忘记在第一个组合框中启用 option `"Refresh fields on keyword change"`，在第二个组合框中启用 option`"Refresh choices on document refresh"`

我希望这可以帮助你。

# c# - 如何使用 SQL Server 时间数据类型？

> ID：15379034
> 
> 赞同：0
> 
> 时间：2013-03-13T07:10:45.540
> 
> 标签：c#, sql-server

我正在使用 SQL 服务器时间数据类型，我制作了一个从该表返回记录的 sp，但它抛出异常

```
'Unable to cast object of type 'System.TimeSpan' to type 'System.IConvertible'' 
```

我检查了 InnerException 及其说法

```
 'Input String was not in correct format' 
```

当我在 SQL 服务器上运行我的查询时，它运行良好的是我的表的结构

```
Id bigint
Name varchar(100)
timefrom time(0)
timeto time(0) 
```

下面是我的sp

```
 SELECT * FROM Table1 where condition 
```

我正在使用 NHibernate 进行数据访问

```
public System.Collections.IList GetData(long id)
        {
            string connectionStr = ConfigurationManager.ConnectionStrings["FNHConnection"].ConnectionString;
            IDbConnection conn;
            conn = new SqlConnection(connectionStr);
            conn.Open();
            ISessionFactory sessionFactor = HibernateTemplate.SessionFactory;
            ISession session = sessionFactor.OpenSession(conn);

            var result = session.CreateSQLQuery("exec dbo.gen_GetData ?")
                .SetParameter(0, id)
            .List();

            return result;
        } 
```

它抛出异常

var result = session.CreateSQLQuery("exec dbo.gen_GetData ?") .SetParameter(0, id) .List();

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:20:26.760

尝试从以下链接中找到解决方案：http: [//msdn.microsoft.com/en-us/library/bb675168.aspx](http://msdn.microsoft.com/en-us/library/bb675168.aspx) 另一个有用的链接：http: [//blogs.msdn.com/b/ usisvde/archive/2007/11/14/time-for-ado-net.aspx](http://blogs.msdn.com/b/usisvde/archive/2007/11/14/time-for-ado-net.aspx)

# asp.net - 在 ASP.NET 中的运行时拖放控件

> ID：15379035
> 
> 赞同：0
> 
> 时间：2013-03-13T07:10:45.630
> 
> 标签：asp.net, drag-and-drop

我们的应用程序要求在运行时创建模板页面。为此，我们需要在 ASP.NET 中构建一个类似于表单设计器的功能。应该向用户提供从工具箱中拖放控件并在运行时放入表单的功能。解决方案应该是纯 ASP.NET。应用程序中未使用 Silverlight。请提出实现此要求的最佳方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-13T05:54:33.420

在任何 DOM 元素上启用可拖动功能。通过用鼠标单击可拖动对象并将其拖动到视口内的任意位置来移动它。

[http://jqueryui.com/draggable/](http://jqueryui.com/draggable/)

# iphone - 当前位置和路径追踪要求问题

> ID：15379041
> 
> 赞同：0
> 
> 时间：2013-03-13T07:11:07.087
> 
> 标签：iphone, map, path, gps, tracking

我正在做基于 GPS 的应用程序，它具有显示当前位置和行走移动的功能，它应该在停止命令时显示路径跟踪给出距离。（我浏览了苹果文档，但没有清楚地了解很多事情。）我做了什么我有添加地图视图，显示当前位置。

需要做的。我是否需要 GeoJSON 文件以在地图上显示子路径路径。以最佳方式给我建议，并请给我步骤流程来实现这一点。

先感谢您 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:08:59.523

查看来自苹果的面包屑示例代码，它显示了如何执行此操作 - [http://developer.apple.com/library/ios/#samplecode/Breadcrumb/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/Breadcrumb/Introduction/Intro.html)

GeoJSON 文件仅用于与苹果地图应用程序集成。

# android - 如何在android App中制作标题栏

> ID：15379045
> 
> 赞同：-4
> 
> 时间：2013-03-13T07:11:30.770
> 
> 标签：android, title

我正在使用 jfeinstein10 / SlidingMenu，我想向标题栏添加按钮，如下所示：

![更改了标题栏](../Images/8ed40c77ccf2e33cbe7fd67cf946324a.png)

但我不知道怎么做，请帮帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:24:41.207

这可以通过内置的[ActionBar](http://developer.android.com/guide/topics/ui/actionbar.html)来完成。我建议按照谷歌网站上的教程进行操作。另外你应该知道原生的 ActionBar 需要 API 级别 11，所以如果你对非常高的兼容性感兴趣，你需要使用像[ActionBarSherlock](http://actionbarsherlock.com/)这样的库。

# php - 验证 php 代码错误 W3C

> ID：15379052
> 
> 赞同：0
> 
> 时间：2013-03-13T07:11:55.873
> 
> 标签：php, html, validation, xhtml, w3c-validation

当我在 w3c 中使用 valdite 时，我遇到了 tr 问题，它给了我

```
 //Display table of users
        echo "<table cellspacing='15'>";
        echo "<th>Id </th>";
        echo "<th>First Name</th>";
        echo "<th>Last Name</th>";
        echo "<th>Gender</th>";
        echo "<th>Type of Residence</th>";
        echo "<th>Level of Education</th>";
        echo "<th>Favorite time of Day</th>";
        echo "<th>Favorite Quote</th>";
        while($row = mysql_fetch_array($result))
        {
            echo "<tr>";    
            echo "<td>" . $row['id'] . "</td>";
            echo "<td>" . $row['first_name'] . "</td>";
            echo "<td>" . $row['last_name'] . "</td>";
            echo "<td>" . $row['gender'] . "</td>";
            echo "<td>" . $row['residence'] . "</td>";
            echo "<td>" . $row['education'] . "</td>";
            echo "<td>" . $row['favorite_time'] . "</td>";
            echo "<td>" . $row['quote'] . "</td>";
            echo "</tr>";   
        }
        echo "</table>";
    } 
```

**这是 w3c 错误**

验证输出：6 个错误

第 13 行，第 30 列：文档类型在此处不允许元素“th”；假设缺少“tr”起始标签 Id First NameLast Name... ✉ 第 13 行，第 199 列：文档类型不允许元素“tr”在这里 ... of DayFavorite Quote1AngelaSmith... ✉ 上面提到的元素是在不允许的上下文中找到的. 这可能意味着您有错误的嵌套元素——例如“body”部分中的“style”元素而不是“head”内部——或者两个重叠的元素（这是不允许的）。

此错误的一个常见原因是在 HTML 文档中使用了 XHTML 语法。由于 HTML 的隐式关闭元素规则，此错误可能会产生级联效果。例如，在 HTML 文档的“head”部分中为“meta”和“link”使用 XHTML 的“self-closure”标签可能会导致解析器推断“head”部分的结尾和“body”的开头" 部分（其中不允许使用“链接”和“元”；因此报告了错误）。

第 13 行，第 359 列：文档类型不允许在此处使用元素“tr”……但晦涩难懂是永远的。2JosephLinburgh

此错误的一个常见原因是在 HTML 文档中使用了 XHTML 语法。由于 HTML 的隐式关闭元素规则，此错误可能会产生级联效果。例如，在 HTML 文档的“head”部分中为“meta”和“link”使用 XHTML 的“self-closure”标签可能会导致解析器推断“head”部分的结尾和“body”的开头" 部分（其中不允许使用“链接”和“元”；因此报告了错误）。

第 13 行，第 577 列：文档类型不允许在此处使用元素“tr”……当然关于 Universe.3RonMonaco

此错误的一个常见原因是在 HTML 文档中使用了 XHTML 语法。由于 HTML 的隐式关闭元素规则，此错误可能会产生级联效果。例如，在 HTML 文档的“head”部分中为“meta”和“link”使用 XHTML 的“self-closure”标签可能会导致解析器推断“head”部分的结尾和“body”的开头" 部分（其中不允许使用“链接”和“元”；因此报告了错误）。

第 13 行，第 771 列：文档类型不允许在此处使用元素“tr”……您将永远活着。4JeanKelly

此错误的一个常见原因是在 HTML 文档中使用了 XHTML 语法。由于 HTML 的隐式关闭元素规则，此错误可能会产生级联效果。例如，在 HTML 文档的“head”部分中为“meta”和“link”使用 XHTML 的“self-closure”标签可能会导致解析器推断“head”部分的结尾和“body”的开头" 部分（其中不允许使用“链接”和“元”；因此报告了错误）。

第 13 行，第 960 列：省略了“tr”的结束标记，但指定了 OMITTAG NO……当您忙于制定其他计划时，您会遇到这种情况。✉ 你可能忽略了关闭一个元素，或者你想“自我关闭”一个元素，也就是说，用“/>”而不是“>”结束它。

第 13 行，第 27 列：开始标记在此处 Id First NameLast Name...</p>

请帮帮我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T07:54:11.803

错误消息的开头相当清楚地描述了错误：您需要`<tr>`在第一个单元格之前发出一个标签（`<th>`这里是第一个标签）。表格单元格只允许在表格行中，即`<tr>`元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:54:37.630

你至少`tr`需要把你`td`的 s 放进去……这就是它所说的“假设缺少“tr”开始标签”

# php - MySQL Min value query group by 第二列没有得到第三列的正确值

> ID：15379055
> 
> 赞同：1
> 
> 时间：2013-03-13T07:12:07.207
> 
> 标签：php, mysql

我的表结构如下

vendor_id account_id 价格代码

27 2 0.058 91

29 2 0.065 91

23 2 0.043 91

30 2 0.085 91

31 3 0.085 91

我必须得到代码应该等于 91 的最低价格，给定范围和按 account_id 分组之间的价格

我正在使用选择查询作为

**选择 MIN(price) 作为 min_price, account_id, vendor_id from tbl_input_values where code='91' and price>=0 and price<=2 group by account_id**

我得到的输出为

min_price account_id vendor_id

0.043 2 27

0.085 3 31

但应该是

min_price account_id vendor_id

0.043 2 23

0.085 3 31

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:21:27.580

试试这个查询 -

```
SELECT
  t1.*
FROM tbl_input_values t1
JOIN (
  SELECT
    MIN(price) AS min_price,
    account_id
  FROM tbl_input_values
  WHERE code = '91' AND price >= 0 AND price <= 2
  GROUP BY account_id
  ) t2
    ON t1.account_id = t2.account_id AND t1.price = t2.min_price 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:42:57.260

尝试;

```
SELECT tData.price, tData.account_id, tData.vendor_id FROM tbl_input_values, (SELECT price, account_id, vendor_id FROM tbl_input_values ORDER BY price ASC) AS tData WHERE tbl_input_values.account_id = tData.account_id GROUP by tbl_input_values.account_id; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T07:33:25.043

您的查询正确选择了每个 account_id 的最低价格，但有必要将此价格与 vendor_id 相关联。

这是我的版本：

```
SELECT iv.price AS min_price, iv.account_id, iv.vendor_id
  FROM tbl_input_values AS iv
  INNER JOIN (select min(price) AS min_price, account_id
    FROM tbl_input_values
    WHERE full_code='91' AND price>=0 AND price<=2
    GROUP BY account_id) AS mp
 ON iv.price=mp.min_price AND iv.account_id=mp.account_id; 
```

如果两个供应商的 account_id 最低价格相同，则此查询将返回两者。

在此处查看 SQL 小提琴[http://sqlfiddle.com/#!2/96d24/8](http://sqlfiddle.com/#!2/96d24/8)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T07:26:29.787

试试这个查询

```
 SELECT 
      price, 
      account_id, 
      vendor_id 
 from 
      Table1
 where 
      (vendor_id, price) in 
      (select 
            vendor_id, 
            min(price) 
       from 
            Table1 
       WHERE 
            code = '91' AND 
            price >= 0 AND 
            price <= 2
       group by 
            account_id) 
```

没有使用连接的子查询

```
 SELECT 
        a.price, 
        a.account_id, 
        a.vendor_id 
  from 
        Table1 a,
        (select 
               vendor_id, 
               min(price) as 'price' 
        from 
               Table1 
        where 
               code='91' and 
               price>=0 and 
               price<=2
        group by 
               account_id) b
  WHERE 
        a.vendor_id = b.vendor_id AND 
        a.price = b.price 
```

# vb.net - 使用子类实现接口

> ID：15379057
> 
> 赞同：0
> 
> 时间：2013-03-13T07:12:16.463
> 
> 标签：vb.net, oop, interface, inheritance

我有以下接口：

```
Interface IViewModel
    ...
End Interface

Interface ISpecialViewModel
    Inherits IViewModel
    ...
End Interface

Interface IView
    WriteOnly Property MyViewModel As IViewModel
End Interface 
```

以下是我的课程：

```
Class VerySpecialViewModel
    implements ISpecialViewModel
    ...
End Class

Class View
    Implements IView

    Public WriteOnly Property MyViewModel As VerySpecialViewModel Implements IView.MyViewModel 
        ...
    End Property
End Class 
```

它告诉我“MyViewModel”无法实现“MyViewModel”，因为接口“IView”上没有匹配的属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:16:56.413

```
Public Interface ISomething
    WriteOnly Property Prop As IParent
End Interface 
```

您的类实现不满足该接口声明。考虑以下情况：

还有另一个接口叫做 IChild2：

```
Public Interface IChild2
    Inherits IParent
    ...
End Interface 
```

根据`ISomething`接口，您应该能够将实现的类的实例分配给`IChild2`，`Thing.Prop`因为它继承了`IParent`。但是您不能，因为`Thing.Prop`属性是`IChild`类型并且`IChild2`不继承`IChild`

***更新***

那个解决方案怎么样：

```
Class ThingBase
    Implements ISomething

    Public WriteOnly Property Prop As IParent Implements ISomething.Prop
        Set(value As IParent)

        End Set
    End Property
End Class

Class Thing
    Inherits ThingBase

    Public Overloads WriteOnly Property Prop As IChild
        Set(value As IChild)
            MyBase.Prop = value
        End Set
    End Property
End Class 
```

***更新2***

```
Interface IView(Of T As IViewModel)
    WriteOnly Property MyViewModel As T
End Interface

Class VerySpecialViewModel
    Implements ISpecialViewModel
End Class

Class View
    Implements IView(Of ISpecialViewModel)

    Public WriteOnly Property MyViewModel As ISpecialViewModel Implements IView(Of ISpecialViewModel).MyViewModel
        Set(value As ISpecialViewModel)

        End Set
    End Property
End Class 
```

*或者*

```
Class View
    Implements IView(Of VerySpecialViewModel)

    Public WriteOnly Property MyViewModel As VerySpecialViewModel Implements IView(Of VerySpecialViewModel).MyViewModel
        Set(value As VerySpecialViewModel)

        End Set
    End Property
End Class 
```

# database - 与谷歌应用引擎兼容的简单webapp

> ID：15379059
> 
> 赞同：0
> 
> 时间：2013-03-13T07:12:24.420
> 
> 标签：database, linux, google-app-engine, python-2.7

我必须开发一个与谷歌应用程序引擎和 ubuntu 服务器兼容的简单应用程序......好吧，我正在使用 webapp2，ubuntu 和 gae 都没有问题。

我的问题是数据库，我想使用相同的语法

例如。

```
class Greeting(db.Model):

  author = db.UserProperty()
  content = db.StringProperty(multiline=True)
  date = db.DateTimeProperty(auto_now_add=True) 
```

我在 gae 中使用 mysql（或者..也许是其他人），但我喜欢在外面工作（在 ubuntu 上）

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:55:39.457

看看[AppScale](http://appscale.cs.ucsb.edu/)和[CapeDwarf](http://www.jboss.org/capedwarf/)。

更新：CapeDwarf（如果仅限 java）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T09:54:54.563

如果我理解您的问题，您想使用 ubuntu 服务器部署 appengine 应用程序吗？我确实对此进行了研究，并且有一些选项运行应用程序服务器，线程可能是一个问题，但是已经有一些改进的版本您可以根据设置使用 SQLLite 或 MySQL

```
dev_appserver.py --address=0.0.0.0 
```

# integration-testing - 如何使用 Sonar+JaCoCo 使用集成测试来测量线路覆盖率（手动+自动）

> ID：15379061
> 
> 赞同：1
> 
> 时间：2013-03-13T07:12:31.463
> 
> 标签：integration-testing, code-coverage, sonarqube, jacoco

我正在尝试对基于 java 的应用程序进行线路覆盖分析。在网上找到了很多关于如何使用 Sonar+JaCoCo 插件获取线路覆盖结果的资源，看起来很有希望。但是，我无法完全清楚如何实施此解决方案。

更多关于我的项目：

1.  网站调用了一项服务。该服务是基于 java 的，并且是使用 maven 构建的。

2.  还有一个在网站上运行的基于硒的测试套件（在多个实例中调用上述服务）。测试套件由 Ant 构建和调用。

3.  服务的代码库和测试的代码库位于同一主机上的不同位置。

4.  我需要基于集成测试套件为服务生成覆盖率报告。

我通过的资源是：

*   [http://www.sonarsource.org/measure-coverage-by-integration-tests-with-sonar-updated/](http://www.sonarsource.org/measure-coverage-by-integration-tests-with-sonar-updated/)
*   [http://www.eclemma.org/jacoco/trunk/doc/ant.html](http://www.eclemma.org/jacoco/trunk/doc/ant.html)

即使在经历了所有这些之后，我也不确定将 jacoco-agent.jar 放在哪里，是否让 jacoco 成为 maven（服务的构建过程）或 ant（测试的构建过程）的一部分，如何调用 jacoco 代理，在哪里指定源存储库（服务的代码库）和测试存储库位置。

我已经尝试了上述所有内容的盲目排列，但是一旦我向它们添加 jacoco 任务，maven 构建或 ant 构建就会开始失败。

有人可以帮我解决这个问题吗？我需要了解完成它要遵循的确切步骤。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-15T09:09:27.617

当您为测试模式执行服务器进程时，您需要确保在类路径上设置了 jacoco 代理。然后，jacoco 代理将有效地侦听并记录在 JVM 生命周期内覆盖的代码的详细信息。

然后，您执行将调用服务器的客户端 selenium 测试。在这种情况下，jacoco 代理将记录作为测试一部分执行的代码的详细信息。当客户端测试完成时，您需要关闭您的服务器进程，这应该会生成一个 jacoco 覆盖文件。

最后一步是根据您的覆盖率报告生成一个 jacoco html 报告。我可能会建议您考虑将基于 ANT 的 selenium 测试移动到您的 maven pom 中，因为这样会更容易控制测试执行的顺序。

# jquery - Highstock 使用 select 而不是 From/To

> ID：15379064
> 
> 赞同：0
> 
> 时间：2013-03-13T07:12:55.910
> 
> 标签：jquery, highcharts, highstock

在 highstock 中，范围选择器为日期选择提供了两个输入框。是否可以使用选择下拉菜单而不是从/到输入框？

例如，我有下面的图表：

![图表](../Images/685b3c169c28098d31f83beeaff73e1c.png)

我想将其更改为：

![新图表](../Images/f17e5874161a5479cbc4e983049ceb40.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T09:23:01.920

不幸的是这是不可能的，只有你能做的就是隐藏这个输入，并准备你自己的输入/选择，这将使用 setExtremes() 函数

[http://api.highcharts.com/highcharts#xAxis.events.setExtremes](http://api.highcharts.com/highcharts#xAxis.events.setExtremes)

# windows - vb6 通过 TCP 接收图像。如何让它更快

> ID：15379066
> 
> 赞同：0
> 
> 时间：2013-03-13T07:13:12.250
> 
> 标签：windows, image, sockets, tcp, vb6

我正在使用 vb6 通过 TCP-IP 从相机中检索图像，现在以字节为单位接收图像并将其写入文本并转换为图像格式大约需要 9 秒。**总图像大小约为 1.6 mb，每个数据包大小为 8192 字节。**另一个问题是 CPU 利用率为 100%。

现在我正在寻找一种方法来使图像显示更快并减少 CPU 处理。由于VB不支持多线程。我只剩下几个选择了。

[我试图通过更改注册表中的 DefaultReceiveWindow ( http://smallvoid.com/article/winnt-winsock-buffer.html](http://smallvoid.com/article/winnt-winsock-buffer.html) )将套接字接收大小从 8192 字节增加到 16384 字节

```
 [HKEY_LOCAL_MACHINE \SYSTEM \CurrentControlSet \Services \Afd \Parameters]
 DefaultReceiveWindow = 16384
 DefaultSendWindow = 16384 
```

但是没有区别。我在带有奔腾处理器的 windows xp 上运行。有没有其他有效的方法可以让图像接收更快？

编辑：

这是接收代码

```
Private Sub DataArrival(ByVal bytes As Long)

Dim str As String
' check the socket for data 
camera.GetData str
Dim str As String

While InStr(str, Terminator) <> 0

**Do some processing and put only the data in the variable str

 str = Mid(str, index, 1000)
 lImgSize = lImgSize + Len(str)
 strImg = strImg + str

  If lImageSize >= 1614414 Then
            Dim fileno As Integer
            fileno = FreeFile()
            Open ".\Imagefile.txt" For Output As #intFileNo
            Print #fileno , strImg
            Close #fileno 

  End If

End Sub 
```

这是我的另一个相关问题[How to read the end of image file stream in VB6](https://stackoverflow.com/questions/15220081/how-to-read-the-end-of-image-file-stream-in-vb6)

# php - PHP 变量未在正确的位置呈现

> ID：15379067
> 
> 赞同：0
> 
> 时间：2013-03-13T07:13:12.920
> 
> 标签：php, wordpress, syntax, concatenation, buddypress

我在 PHP 中有以下内容，使用 Wordpress + Buddypress 插件：

```
$blogusers = get_users('role=s2member_level1&number=5');
foreach ($blogusers as $user) {
  $username = str_replace('"', '',$user->user_nicename);
  $fullname = str_replace('"', '',bp_profile_field_data( array( 'user_id'=>$user->ID,'field'=>'name' ) ));
  $category = str_replace('"', '',bp_profile_field_data( array( 'user_id'=>$user->ID, 'field'=>'category' ) ));
  echo '<div style="float:left; width:100px; height:100px;">';
  echo '<h3><a href="members/' . $username . '">' . $fullname .  '</a></h3>';
  echo '<strong>Camp Type: </strong>' . $category . '<br />';
  echo '</div>';
} 
```

$fullname 和 $category 变量在 float:left 元素之前被碰撞，但 $username 变量保持在原位，这是所有变量应该呈现的方式。

IE：

```
<div class="page" id="blog-latest" role="main">
<div style="width:500px;height:100px;position:relative;">
Frank GoreType 4<div style="float:left; width:100px; height:100px;"><h3><a href="members/fgore"></a></h3><strong>Camp Type: </strong><br /></div>
</div> 
```

有什么线索可以解释为什么这两个变量被排除在 echo 语句之外？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T09:08:27.480

事实证明，它与 bp_profile_field_data 有关。它是核心用来检索数据的函数。对开发人员更友好的方法 get_bp_profile_field_data 使用起来要好得多。我正在正确格式化所有字符串。不过，我感谢您分享知识。谢谢！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T02:55:48.760

它与 php 的 echo 构造如何处理连接有关。这对我来说绝对没有意义，但显然，当连接发生时，它会打开一个临时变量来执行组合，然后输出结果。

如果您要使用该语法，请将 echo 语句中的句点替换为逗号。Echo 将逗号分隔的值视为单独的语句，并按接收顺序回显它们。

另外，它的速度要快一点=但每百万个 echo 语句只有 1 秒左右。:)

我首选的方法是创建一个 html 字符串，然后每个逻辑块回显一次。

```
$echo = '<div style="float:left; width:100px; height:100px;">'
      . '<h3><a href="members/' . $username . '">' . $fullname .  '</a></h3>'
      . '<strong>Camp Type: </strong>' . $category . '<br />'
      . '</div>';
echo $echo; 
```

# android - 如何设置日期选择器对话框的高度和宽度

> ID：15379069
> 
> 赞同：0
> 
> 时间：2013-03-13T07:13:23.213
> 
> 标签：android, dialog, datepicker

如何动态设置日期选择器对话框的宽度和高度。它出现在全屏而不是在所需区域。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T09:03:52.727

你去他的XML文件并设置高度和宽度。

# servicestack - 当服务处理 ServiceStack 中的异步消息时，堆栈中丢失了什么？

> ID：15379070
> 
> 赞同：1
> 
> 时间：2013-03-13T07:13:25.800
> 
> 标签：servicestack

我将 ServiceStack 的消息传递功能用于后端事务，我希望在一致性非常重要的情况下涉及数据库锁。

我已经按照文档中的说明注册了处理程序：

```
mqHost.RegisterHandler<Hello>(m => {
    return this.ServiceController.ExecuteMessage(m);
}); 
```

我注意到过滤器没有被调用。据推测，它们实际上是类似于 MVC 的“Http”过滤器。所以他们被忽略是有道理的。

授权如何与消息处理程序一起使用，它是否也被忽略了？

由于我想将我的异步服务保持在内部，并且始终保持异步，让它们从 ServiceBase 继承有什么好处吗？

因为我正在考虑在 IMessage 和 Body 之间为一些身份数据创建另一个信封层，这些身份数据可以从我的公共服务传递到 AuthSession 和异步服务。

# java - 跨项目指定 XSD schemaLocation 的正确或正确方法是什么？

> ID：15379071
> 
> 赞同：8
> 
> 时间：2013-03-13T07:13:31.653
> 
> 标签：java, xsd

假设我有两个项目，A 和 B。Java 项目，以防万一。

项目 A 包含一堆代表核心类型和元素的 XSD 文件。它们都放在一个叫做“定义”的包中。这被内置到`project-a.jar`.

Project B 代表一个扩展项目，它可以定义自己的类型和元素。我创建了一个新模式并将其放在“definition.extension”包中。这被内置到`project-b.jar`.

现在，对于项目 B 中的 XSD，我究竟应该把什么作为`schemaLocation`for an `include`？

`schemaLocation="../core-types.xsd"`不太好用（我知道，它需要一个 URI），但是正确或标准的方法到底是什么？谷歌发现我有更多的人问这个问题，关于什么是处理这个问题的正确方法的明确、标准的方法。

不可能是我`schemaLocation`在运行时以编程方式调整...或者我需要一个构建步骤/脚本来动态替换`schemaLocation`编译期间的...对吗？

我不是在寻找诸如“将它们放在共享位置”之类的答案。我正在寻找更多类似于使用相对引用而不是硬编码引用的开发环境的东西。

仅供参考，我正在使用 IntelliJ IDEA，以防有特定于 IDE 的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T13:47:50.580

如果您只是希望 IntelliJ 停止以红色显示您的包含，您可以在您的包含中使用一些自定义 URI。然后您转到项目设置 -> 架构和 DTD，您可以在其中将此 URI 映射到本地文件。

如果您需要在运行时进行模式验证，那就另当别论了。您可能需要使用 XML 目录。如果你使用的是 JAXB，你应该看看这个问题：[jaxb - how to map xsd files to URL to find them](https://stackoverflow.com/questions/9789739/jaxb-how-to-map-xsd-files-to-url-to-find-them)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-23T12:17:47.727

您应该使用[XML 目录](http://xerces.apache.org/xml-commons/components/resolver/resolver-article.html)。此链接由 XML 专家 Norman Walsh 全面介绍了 XML 目录 - 以及如何在 Java 中使用它们。引用：

> 这些目录文件可用于将公共和系统标识符以及其他 URI 映射到本地文件（或只是其他 URI）。

上述标识符通常是您在 schema 中使用的`schemalocation`s 或s。`namespace``import`

使用此类目录时，为了避免[XJC 中的混淆和一些错误](https://java.net/jira/browse/JAXB-942)`schemaLocation`，我强烈建议您从 XML 模式中的模式导入中删除所有s，并且只保留`namespace`（如果您当然可以选择）。例如：

```
<import namespace="http://www.w3.org/1999/xlink" /> 
```

然后指定每个命名空间到目录中实际模式位置的映射。例如，使用 OASIS XML 目录格式：

```
<?xml version="1.0" encoding="UTF-8"?>
<catalog xmlns="urn:oasis:names:tc:entity:xmlns:xml:catalog">
    <uri name="http://www.w3.org/1999/xlink" uri="w3c/1999/xlink.xsd" />
</catalog> 
```

在编译时，如果您从模式生成带有 JAXB 注释的类，我建议您使用[Episodes](https://github.com/highsource/maven-jaxb2-plugin/wiki/Using-Episodes)来实现*单独的模式编译*，即*[模块化模式编译](https://github.com/highsource/maven-jaxb2-plugin/wiki/Modular-Schema-Compilation)*。[例如， maven-jaxb2-plugin](https://github.com/highsource/maven-jaxb2-plugin/wiki/Using-Episodes)支持这一点，它还具有对[catalogs](https://github.com/highsource/maven-jaxb2-plugin/wiki/Using-Catalogs)的高级支持。

对于运行时，根据您的 XML 用例，您应该尝试使用原生支持 XML 目录的库，例如大多数 Java Web 服务框架（JAX-WS RI/Metro、Apache CXF...），如果您正在开发 Web例如服务。如果你不能或者你想要更好地控制 XML 目录（例如，能够从类路径加载模式），我邀请你查看前面提到的[XML 实体和 URI 解析器页面，尤其是](http://xerces.apache.org/xml-commons/components/resolver/resolver-article.html#ctrlresolver)*使用流行目录的部分应用程序*和 *为您的应用程序添加目录支持*。基本上，您可以`org.apache.xml.resolver.tools.CatalogResolver`选择（为了更好地控制）`org.apache.xml.resolver.CatalogManager`类。对于自定义`CatalogResolver`/的具体示例`CatalogManager`，您可以查看来自 Apache 的代码源[commons-configuration](https://github.com/apache/commons-configuration/blob/trunk/src/main/java/org/apache/commons/configuration2/resolver/CatalogResolver.java)，[AuthzForce](https://github.com/authzforce/core/blob/master/src/main/java/org/ow2/authzforce/core/pdp/impl/SchemaHandler.java)，[CXF](https://github.com/apache/cxf/blob/master/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/utils/schemas/SchemaHandler.java)等。

# jquery - 表中的 JQGrid 列名

> ID：15379072
> 
> 赞同：0
> 
> 时间：2013-03-13T07:13:35.160
> 
> 标签：jquery, jqgrid

我正在研究 JQGrid，我对如何实现有疑问。

当前，每次都向用户显示标准结果集，如示例中所示。

```
colNames:['Inv No no NO','Date', 'Client', 'Total in EUR'] 
```

假设如果要更改此结果集，我将更改 JqGrid 的 .js 文件（添加或删除列）。

有什么方法可以将这些列名从 Table 中取出并将其绑定到 JqGrid 吗？

另外我如何在运行时添加列名？像添加新列和所有。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:41:35.843

在里面`loadComplete()`尝试以下代码将列名动态更改为一个值。

```
 $("#grid_id").jqGrid('setLabel',"column_name", 'new_label'); 
```

您可以解析`colModel`以获取您希望更改的特定列以执行相同操作。

# asp.net - ASP.NET "End Render" slow under load even for empty page

> ID：15379073
> 
> 赞同：0
> 
> 时间：2013-03-13T07:13:34.967
> 
> 标签：asp.net, iis-7.5

I have been having a performance issue that I can't figure out. Below is my page trace info which shows that all the time is being taken between "Begin Render" and "End Render". The crazy thing is this is for a blank aspx page! It also only seems to happen when server load is unusually high.

Any ideas what could be going on here?

aspx.page Begin PreInit

aspx.page End PreInit 0.000023 0.000023

aspx.page Begin Init 0.000037 0.000014

aspx.page End Init 0.000052 0.000015

aspx.page Begin InitComplete 0.000065 0.000012

aspx.page End InitComplete 0.000078 0.000013

aspx.page Begin PreLoad 0.000090 0.000013

aspx.page End PreLoad 0.000103 0.000012

aspx.page Begin Load 0.000119 0.000017

aspx.page End Load 0.000133 0.000014

aspx.page Begin LoadComplete 0.000145 0.000013

aspx.page End LoadComplete 0.000158 0.000013

aspx.page Begin PreRender 0.000171 0.000013

aspx.page End PreRender 0.000184 0.000013

aspx.page Begin PreRenderComplete 0.000199 0.000015

aspx.page End PreRenderComplete 0.000212 0.000013

aspx.page Begin SaveState 0.000290 0.000078

aspx.page End SaveState 0.000314 0.000024

aspx.page Begin SaveStateComplete 0.000328 0.000014

aspx.page End SaveStateComplete 0.000340 0.000013

aspx.page Begin Render 0.000352 0.000012

aspx.page End Render 5.987700 5.987347

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:51:34.517

安装一个性能分析器（我尝试许多工具的建议是[DotTrace](http://www.jetbrains.com/profiler/)（他们有一个功能齐全的免费试用版））并分析您的 IIS 应用程序。在那里，您将确切地看到哪些方法调用构成了这 5 秒。

# git - git 'fatal: pathspec did not match any files' after moving things around

> ID：15379078
> 
> 赞同：1
> 
> 时间：2013-03-13T07:13:54.773
> 
> 标签：git

I was trying to change the directory structure of my repository, as detailed in [this question](https://stackoverflow.com/questions/5408475/moving-a-git-repository-up-one-hierarchy-level) (following the accepted answer). Things seemed fine after moving the directory, though it didn't recognise the files in their new location, and I got frustrated and just re-added everything. Now every file that I try to git-add comes back as 'fatal: pathspec FILE did not match any files'.

I honestly don't know how to diagnose the problem, and I don't want to blunder forward and screw things up even further. Any advice on how to proceed?

(git version 1.7.4.4 on OS X 10.8.2, if it's relevant)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T01:30:15.817

呸，这是我自己的愚蠢错误。当它在链接问题中接受的答案之后无​​法识别其新位置中的文件时，我对其他答案进行了尝试，以查看是否可以使其正常工作，并且我认为我最终将工作树目录更改为错误的旧子目录。因此，它在根目录中看不到任何内容。修改 .git/config 以将 worktree 设置为 repo 的当前根目录修复了该问题。

# iphone - Detect if network has changed?

> ID：15379083
> 
> 赞同：2
> 
> 时间：2013-03-13T07:14:14.223
> 
> 标签：iphone, ios, objective-c

How do I know if the device has changed its network? For example with this use case:

1.  User connects to Wi-Fi A.
2.  User starts my app.
3.  User connects to Wi-Fi B. (or even 3G)
4.  User restores app.

Is there anyway to notify the app, that the device changed from Wi-Fi A to Wi-Fi B?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T07:28:31.467

Apple 已经很好地为我们创建了一个完整的示例。它被称为可达性（[Apple 链接](http://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)）。这是它的要点：

在 .h 文件中：

```
// declare Reachability, you no longer have a singleton but manage instances 
Reachability* reachability; 
```

在 .m 文件中：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(handleNetworkChange:) name:kReachabilityChangedNotification object:nil]; 
reachability = [Reachability reachabilityForInternetConnection]; 
[reachability startNotifier]; 
NetworkStatus remoteHostStatus = [reachability currentReachabilityStatus]; 
if(remoteHostStatus == NotReachable) 
{
    NSLog(@"no");
} 
else if (remoteHostStatus == ReachableViaWiFiNetwork) 
{
    NSLog(@"wifi"); 
} 
else if (remoteHostStatus == ReachableViaCarrierDataNetwork) 
{
    NSLog(@"cell"); 
} 
..... 

- (void) handleNetworkChange:(NSNotification *)notice 
{   
    NetworkStatus remoteHostStatus = [reachability currentReachabilityStatus];   
    if(remoteHostStatus == NotReachable) 
    {
        NSLog(@"no");
    }   
    else if (remoteHostStatus == ReachableViaWiFiNetwork) 
    {
        NSLog(@"wifi"); 
    }   
    else if (remoteHostStatus == ReachableViaCarrierDataNetwork) 
    {
        NSLog(@"cell"); 
    } 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:21:20.183

这是与 ARC 兼容的一个不错的替代方案 [https://github.com/tonymillion/Reachability](https://github.com/tonymillion/Reachability)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T07:50:39.240

[在项目中使用可达性获取网络类型](https://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)

SCNetworkReachability 接口可以帮助您。基本上，您创建一个所谓的可达性引用，然后在其上调用 SCNetworkReachabilityGetFlags 以获取有关连接的信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T08:52:36.953

正如其他人提到的使用可达性heres[链接](http://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)

# sql-server - INSERT conflicted with FOREIGN KEY constraint (SQL Server 2012)

> ID：15379085
> 
> 赞同：-1
> 
> 时间：2013-03-13T07:14:19.110
> 
> 标签：sql-server

The INSERT statement conflicted with the FOREIGN KEY constraint "FK_member_patient_member_status" (of table x). The conflict occurred in database "D" table "y".

I want to INSERT the STATUS field of table y into table x but it gives this error because table x has this above mentioned FK (and table y does not have it as a PK or FK or any field for that matter)

As I understand it it couldnt reference it? I do not have rights to change FK's and PK's on system. What should I do to fix this?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:22:47.747

需要您更多地解释您的问题，特别是 FK 定义，看起来它不在 X 和 Y 之间，它应该在 X 和其他表格之间。请检查FK定义，如果您没有权限，则需要申请权限才能了解您的数据库，并相应地更新您的查询。我猜您需要先将表 Y 中的状态值插入到 X 以外的另一个表中，这会保存状态字典。抱歉，没有编辑评论的权限，所以将其发布为“答案”。

# c# - 查找服务器容量

> ID：15379086
> 
> 赞同：0
> 
> 时间：2013-03-13T07:14:19.943
> 
> 标签：c#, asp.net-mvc, database, performance, load

我正在开发一个应用程序堆栈，如下所示：

有一个 cisco 负载均衡器，可以在 2 个应用服务器前处理 40K 并发用户。在后面有一个 2 TB 数据的 sql server。

我想知道的是这个应用程序在高峰时间可以处理多少流量，换句话说，这个堆栈的容量是多少。

我知道JMeter。我不认为从单机运行 jmeter 可以找出应用程序的容量。

如何确定这个堆栈的容量？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:17:28.283

> 我不认为从单机运行 jmeter 可以找出应用程序的容量。

JMeter[`distributed mode`](http://jmeter.apache.org/usermanual/remote-test.html)允许您通过使用多个客户端机器来模拟巨大的负载：

> 如果您的 JMeter 客户端机器在性能方面无法模拟足够多的用户来给您的服务器施加压力，则可以选择从单个 JMeter GUI 客户端控制多个远程 JMeter 引擎。通过远程运行 JMeter，您可以在许多低端计算机上复制测试，从而在服务器上模拟更大的负载。JMeter GUI 客户端的一个实例可以控制任意数量的远程 JMeter 实例，并从中收集所有数据。

# wordpress - 解析错误在 Jquery 和 PHP 中转义 PHP

> ID：15379087
> 
> 赞同：-2
> 
> 时间：2013-03-13T07:14:22.447
> 
> 标签：wordpress, php

> 解析错误：语法错误，意外的“”（T_ENCAPSED_AND_WHITESPACE），期望标识符（T_STRING）或变量（T_VARIABLE）或数字（T_NUM_STRING）在...

这是我得到的错误

```
<?php
      function my_custom_js() {
        echo " <script>" ;
        echo " jQuery(document).ready(function(){ 

    jQuery('#secondary-front .first h3').addClass('
     <?php $options = get_option('mytheme_theme_options'); 
     if(!empty($options['first_widget_icon'])) echo $options['first_widget_icon']?>    ');

    jQuery('#secondary-front .second h3').addClass('<?php $options =        get_option('mytheme_theme_options');
    if (!empty($options['second_widget_icon'])) echo $options['second_widget_icon'];?>');

    jQuery('#secondary-front .third h3').addClass('<?php $options =     get_option('mytheme_theme_options');
    if (!empty($options['third_widget_icon'])) echo $options['third_widget_icon'];?>');
    });  

    ";  
    echo "</script> ";
    }
    add_action('wp_head', 'my_custom_js');
?> 
```

我无法让这段代码正确转义，我有 php > jquery > php

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:22:09.677

问题是您的引号 ( `"`) 对双方都没有影响。也就是说，当我去调查这个问题时，我注意到你的代码有更糟糕的事情，所以我为你完全重写了它：

```
<?php

    function my_custom_js() {
        $options = get_option('mytheme_theme_options'); 

        echo "<script>
            jQuery(document).ready(function(){
                jQuery('#secondary-front .first h3').addClass('" . ($options['first_widget_icon'] ?: NULL) . "');
                jQuery('#secondary-front .second h3').addClass('" . ($options['second_widget_icon'] ?: NULL) . "');
                jQuery('#secondary-front .third h3').addClass('" . ($options['third_widget_icon'] ?: NULL) . "');
            });
        </script>";
    }

    add_action('wp_head', 'my_custom_js');

?> 
```

我做过的一件事是移到`$options = get_option('mytheme_theme_options');`顶部。我还删除了对此的重复调用。[此外，通过巧妙地使用三元运算符](https://www.google.co.uk/search?q=php%20ternary&aq=0&oq=php%20tern)`echo`，可以在 1 条语句中完成所有操作，从而产生连锁反应。

`echo ($something ?: NULL);`表示*如果 $something 存在，则回显它，否则回显任何内容*。

使用带有`?:`速记的三元运算符需要 PHP >= 5.3.0

对于低于此的版本，只需填写中间部分，即：

```
// PHP >= 5.3.0
($options['first_widget_icon'] ?: NULL)

// PHP < 5.3.0
($options['first_widget_icon'] ? $options['first_widget_icon'] : NULL) 
```

当然，代码可能需要根据您的喜好进行调整，但它应该是改进的基础。

# asp.net - Windows workflow 4.0 stops working

> ID：15379089
> 
> 赞同：1
> 
> 时间：2013-03-13T07:14:31.137
> 
> 标签：asp.net, workflow-foundation-4, workflowservice

I have created one long running workflow in asp.net 4.0.

![enter image description here](../Images/c6fe9d9e99791e8b707fe4df7b50468c.png)

This WF start once & never stop. I have start this workflow from my web application. In Global.asax,

```
protected void Application_Start(object sender, System.EventArgs e)
{
  var LicClient = new WFService.LicWFClient();
  LicClient.StartWorkFlow();
} 
```

I have used some code activity for database transactions.

Process Replenishment - Check requests which are hold due to some reason then process to check it for full fill there requirements & if it valid then pass to next, other wise hold again. Send notification mail about it.

LicenseRequest - Check for valid request.

Sleep 30 Sec - Thread sleep for 30 sec.

Process on Request - Process on request & send notification mail about it.

Sleep 1 Min - Thread sleep for 1 min.

It works fine for me but on server getting me some issues.

1.  Work Flow stops after some time
    *   this is not happen daily. So we start it manually.
2.  Error :

    The context is not currently tracking the entity. Parameter name: entity at System.Data.Services.Client.DataServiceContext.UpdateObject(Object entity) at LicenseWF.SaveLicenseData.Execute(CodeActivityContext context)

    *   this happens with valid request but not all, getting one in 2 days.

If any idea, please suggest me. thanks in advance...

# ember.js - 如果 ConainerView 的 childView 是另一个 containerView，它会抛出错误

> ID：15379093
> 
> 赞同：0
> 
> 时间：2013-03-13T07:14:48.933
> 
> 标签：ember.js

使用新的 emberJS RC1 版本，我无法将 containerView 添加为父 containerView 的 childView。

```
 window.App = Ember.Application.create();

  App.Router.map(function(){
    this.resource("users");
  });

App.UsersView = Ember.ContainerView.extend({
    init : function(){
        this._super();
        this.pushObject(Ember.ContainerView.create({
    init: function(){
        this.pushObject(Ember.View.create({
            templateName : 'test1'
        }));
    }
}));
    }
}); 
```

这是[jsfiddle](http://jsfiddle.net/codejack/TaWAU/2/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T11:16:31.113

您不应该使用 init 函数来设置对象的属性。如果您使用“didInsertElement”，它可以工作：

```
App.UsersView = Ember.ContainerView.extend({
    didInsertElement : function(){
        this._super();
        this.pushObject(Ember.ContainerView.create({
    didInsertElement: function(){
        this.pushObject(Ember.View.create({
            templateName : 'test1'
        }));
    }
})); 
```

# ios - 用于在 iOS 中解析的 JSON 和 XML 包装器

> ID：15379094
> 
> 赞同：0
> 
> 时间：2013-03-13T07:15:07.597
> 
> 标签：ios, xml, json

我已经看到 iOS 中的大多数数据都是 JSON 或 XML 格式的。我很想知道是否有任何第三方库或包装类可以相应地处理这两种类型的数据和响应。我知道我可以将 JSONKit 用于 JSON 数据，将 NSXMLParser 用于 XML。但我正在寻找一个同时解决这两个问题的人。

有没有这样的包装？

欢迎任何建议和指导。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:09:03.720

我认为它支持 JSON /XML，只是你能改变一些行。

```
 NSString *str1=@"type url";
    NSString *poststr1 = [NSString stringWithFormat:@"%@",str1];
    NSString *posturl1=[NSString stringWithFormat:@" your url json/xml"];
    // NSLog(@"city url name %@",posturl1);

    NSURL *url=[NSURL URLWithString:[NSString stringWithFormat:@"%@",posturl1]];
    NSData *postData1 = [poststr1 dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];
    NSString *postLength = [NSString stringWithFormat:@"%d", [postData1 length]];
    NSMutableURLRequest *request =[[[NSMutableURLRequest alloc] init] autorelease];
    [request setHTTPBody:postData1];
    [request setURL:url];
    [request setHTTPMethod:@"POST"];
    [request setValue:postLength forHTTPHeaderField:@"Content-Length"];
    [request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];

    NSError *error;
    NSURLResponse *response;
    NSData *urlData=[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];
   // NSString *data=[[NSString alloc]initWithData:urlData encoding:NSUTF8StringEncoding];//this line supprted to json

    NSDictionary* json = [NSJSONSerialization
                          JSONObjectWithData:urlData

                          options:kNilOptions
                          error:&error];//this line supported to xml 
    NSLog(@"json %@",json);
    //NSDictionary*results = [data JSONValue];//this line supported to JSON
    //NSLog(@"results json----->%@",results); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-29T04:02:05.083

我为 json 创建了一个包装类。在那里，我创建了下面给出的一种方法，我认为它会对你有所帮助。

**解析方法：**

```
 -(void)jsonDeserialize:(NSString *)key fromDict:(id)content completionHandler:(void (^) (id parsedData, NSDictionary *fromDict))completionHandler{
    if (key==nil && content ==nil) {
        completionHandler(nil,nil);
    }
    if ([content isKindOfClass:[NSArray class]]) {
        for (NSDictionary *obj in content) {
          [self jsonDeserialize:key fromDict:obj completionHandler:completionHandler];
        }
    }
    if ([content isKindOfClass:[NSDictionary class]]) {
        id result = [content objectForKey:key];
        if ([result isKindOfClass:[NSNull class]] || result == nil) {
            NSDictionary *temp = (NSDictionary *)content;
            NSArray *keys = [temp allKeys];
            for (NSString *ikey in keys) {
             [self jsonDeserialize:key fromDict:[content objectForKey:ikey] completionHandler:completionHandler];
            }
        }else{
            completionHandler(result,content);
        }
    }
} 
```

**方法调用：**

```
 NSData *content = [NSData dataWithContentsOfFile:[[NSBundle mainBundle]pathForResource:@"Sample" ofType:@"json"]];
    NSError *error; 
```

> //获取序列化的json数据...

```
 id dictionary = [NSJSONSerialization JSONObjectWithData:content options:NSJSONReadingMutableContainers error:&error]; 
```

> //获取名为*GetInfo的键的数据*

```
 [self jsonDeserialize:@"GetInfo" fromDict:dictionary completionHandler:^(id parsedData, NSDictionary *fromDict) {
            NSLog(@"%@ - %@",parsedData,fromDict);
        }]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T08:09:49.267

AFNetworking 将两者兼得，并享有良好的声誉，例如，请参阅[Ray Wenderlich](http://www.raywenderlich.com/21987/top-10-most-useful-ios-libraries-to-know-and-love "雷·温德利希")站点，该站点也有许多其他有用的信息。

# extjs - 在 Fusion Charts,High Charts,EXTJs Charts 中比较好

> ID：15379103
> 
> 赞同：0
> 
> 时间：2013-03-13T07:15:33.167
> 
> 标签：extjs, highcharts, fusioncharts

在 Fusion Charts,High Charts,EXTJs Charts 中哪一个是最好的图表，为什么它是最好的，为什么它是最好的，请任何人给出建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T04:30:26.353

除非您客观地定义您希望图表库做什么，否则很难定义“最佳整体”。

例如，FusionCharts 提供 Flash 和 JavaScript 图表，涵盖最广泛的图表类型（90 多种图表类型，900 多种地图，包括 3D 图表），而 HighCharts 有这个漂亮的股票图表，让您可以通过缩放滚动浏览大型数据集/panning，而 Sencha touch 更适合移动应用程序。FusionCharts 具有针对金融、统计、网络的特定领域图表。HighCharts v3 最近推出了更新的图表类型。FusionCharts 和 HighCharts 都允许您使用 PhantomJS 在服务器端渲染图表。两者都在全球拥有数千名客户。

# qml - 平铺后如何在QML中获得圆角按钮图像

> ID：15379104
> 
> 赞同：0
> 
> 时间：2013-03-13T07:15:36.873
> 
> 标签：qml

我有带有圆形按钮图像的按钮图像。我正在平铺图像以在 QML 中获得更大的按钮。我将父级用作矩形，将图像用作 BorderImage。平铺后，顶部图像上的矩形可见。我需要删除矩形的一部分，以便只有圆形按钮图像（具有透明度）可见。即使我需要更改后面矩形的颜色，以便可以进行彩色动画。

请提出有效的方法来删除后面的矩形并提供彩色动画。

我将圆形按钮边框图像附加为附件和用于平铺按钮图像的源代码。

```
Rectangle{
id:outerBorderRect
smooth:true
anchors.fill:parent
//opacity:.25
//border.width:0
BorderImage{

id:innerBorderRect
smooth:true
anchors.fill:parent
border{left:20;top:16;right:17;bottom:20}
horizontalTileMode:BorderImage.Round
verticalTileMode:BorderImage.Round

source:"button_3.png"

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-09T21:12:37.657

一种简单且半破解的方法是使用`radius`属性 in`Rectangle`隐藏按钮的角。

或者您可以使用 Qt 的[OpacityMask](http://qt-project.org/doc/qt-5.0/qtgraphicaleffects/qml-qtgraphicaleffects1-opacitymask.html)来使用适当的掩码。

我不确定你在寻找什么样的动画。您必须提供更多详细信息才能让我回答该部分。

# css - joomla网站中的跨浏览器问题

> ID：15379106
> 
> 赞同：0
> 
> 时间：2013-03-13T07:15:44.810
> 
> 标签：css, joomla

我在 joomla 网站上遇到跨浏览器问题，即[http://great.server279.com/greatofficiants](http://great.server279.com/greatofficiants)。网站在 Firefox 中运行良好，在其他浏览器中看起来不一样。

问题是当我们进入独家视频块时，视频的整个图像都出现在 chrome、safari 上，但在 Firefox 中却一切正常。

```
div id="vtab-1" class="vcase" style="display: block;
div id="vtab-2" class="vcase" style="display: none; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:31:43.853

问题出在 stepCarousel.js 文件上。Js文件在跨浏览器中冲突。你能解释一下你使用的是哪个JS吗？以便我可以为您提供更多帮助

# xml - vbScript 函数返回一个无法转换为 XSL 数据类型的值

> ID：15379107
> 
> 赞同：0
> 
> 时间：2013-03-13T07:15:48.577
> 
> 标签：xml, function, xslt, vbscript, msxsl

当我尝试使用 XSL 显示 XML 数据时出现以下错误。VBScript 函数抛出此错误：

函数“MyFuctionName”返回一个无法转换为 XSL 数据类型的值。可能是什么原因。
下面的代码快照：1.XML

```
 <Client>
             <ClientID>34987886</ClientID>
               <LnkSeqNo>1</LnkSeqNo>
        </Client> 
```

2.XSL代码，功能。

```
 Dim ClientID 

    function SetClientID(ID)
        ClientID = ID
    end function 
```

...

```
 <xsl:for-each select="Object/Client">
           <xsl:if test="LnkSeqNo[. = '1' or . = '57']"> 
              <xsl:value-of disable-output-escaping="yes" select="vbs:SetClientID(string(ClientID))"/>
..
          </xsl:if>
    </xsl:for-each> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:12:57.783

问题是您的函数根本不返回任何值，并且`xsl:value`需要一个值。如果您只想执行该函数而不输出任何内容，您可以让该函数返回一个空字符串，但我建议您重新考虑您的方法。在 XSLT 中使用具有副作用的函数通常不是好的做法，并且与 XSLT 的原则背道而驰。

# angularjs - 从angularjs中的另一个指令中添加指令

> ID：15379108
> 
> 赞同：5
> 
> 时间：2013-03-13T07:15:55.443
> 
> 标签：angularjs

从另一个指令中添加指令，会使浏览器挂起。

我想做的是

`<h7></h7>`1)在 compile 函数中更改自定义元素指令（如）。通过这样做，浏览器挂起。

**代码：**

```
<h7>TEST</h7>
    animateAppModule.directive('h7', function($compile){
        return {
            restrict:"E",
            compile:function(tElement, tAttrs, transclude){                
                tElement[0].setAttribute("ng-class", "{selected:istrue}");
                return function(scope, iElement, iAttrs){
                    //$compile(iElement)(scope);
                }
            }
        }
    }) 
```

如果我取消注释此行`//$compile(iElement)(scope);`，浏览器将挂起。[您可以取消注释此小提琴http://jsfiddle.net/NzgZz/3/](http://jsfiddle.net/NzgZz/3/)中的上述行以查看浏览器挂起。

但是，如果我在指令中有模板属性，则不会发生浏览器挂起`h7`，如this fiddle所示。[http://jsfiddle.net/KaGRt/1/](http://jsfiddle.net/KaGRt/1/)。

总的来说，我想要实现的是

我想在个人指令的帮助下使用新功能来修改模板。类似于装饰器模式。我在指令链中的指令的编译函数中执行此操作，以便它影响该模板的所有实例。

**我正在努力实现的伪示例。**

```
<xmastree addBaloon addSanta></xmastree> 
```

1）说 xmastree 有一个模板 -`<div class="xmastree" ng-class={blinks:isBlinking}></div>`

2）说`addBaloon`有一个模板`<div class="ballon" ng-class={inflated:isinflated}></div>` 然后，`addBaloon`编译功能应该将模板从步骤1扩充到这样的东西

```
<div class="xmastree" ng-class={blinks:isBlinking}>
    <div ng-repeat = "ballon in ballons">
        <div class="ballon" ng-class={inflated:isinflated}></div>
    </div>
</div> 
```

3）说`addSanta`有一个模板`<div class="santa" ng-class={fat:isFat}></div>` 然后，`addSanta`编译功能应该将模板从第2步扩充到这样的东西

```
<div class="xmastree" ng-class={blinks:isBlinking}>
    <div ng-repeat = "ballon in ballons">
        <div class="ballon" ng-class={inflated:isinflated}></div>
    </div>
    <div ng-repeat = "santa in santas">
        <div class="santa" ng-class={fat:isFat}></div>
    </div>
</div> 
```

在所有编译之后，如果我针对具有合适属性的范围运行从 step3 派生的模板，我应该能够获得 HTML。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-06T07:47:07.187

调用`$compile`指令本身的元素将导致相同的指令再次运行，然后重复该过程 - 永远。在许多指令的 Angular 源代码中，您可以看到它们是这样处理这种情况的：`$compile(element.contents())(scope);`使用`element.contents()`而不是仅仅使用`element()`. 这意味着元素内部的所有内容都被编译并且指令/数据绑定被注册并且没有创建循环。

如果您确实需要`$compile`元素本身，请在编译之前完全替换原始元素或从中删除原始指令（删除属性、更改节点类型等）。

# c# - 将控件插入标签顺序的最佳方法？

> ID：15379109
> 
> 赞同：3
> 
> 时间：2013-03-13T07:15:57.830
> 
> 标签：c#, .net, winforms, controls, tab-ordering

如果表单上的大量控件上存在现有的 Tab 键顺序，那么在该 Tab 键顺序的中间插入控件的最简单方法是什么，而无需在插入的控件之后重新编号所有控件的 Tab 键顺序?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-13T07:27:19.023

Visual Studio 有一个工具。它允许您单击所需的taborder - 通过按您想要的顺序选择控件：

![在此处输入图像描述](../Images/110694a58f41f3d43d1504a310e746a3.png)

![在此处输入图像描述](../Images/f5d4e696c44ee63c42d69c1d00ad58d2.png)

蓝色框（带有白色数字）是当前的taborder，白框是新的taborder。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:27:18.130

这可能对您有帮助。

```
(new TabOrderManager(this)).SetTabOrder(TabOrderManager.TabScheme.AcrossFirst); 
```

按照这个链接>

[http://www.codeproject.com/Articles/8406/Automatic-Runtime-Tab-Order-Management-for-Windows](http://www.codeproject.com/Articles/8406/Automatic-Runtime-Tab-Order-Management-for-Windows)

# c# - 带参数的超链接

> ID：15379110
> 
> 赞同：1
> 
> 时间：2013-03-13T07:15:58.597
> 
> 标签：c#, asp.net, html

```
<a href="#" id="secondpage">Hyperlink</a> 
```

我有超链接来加载这样的当前页面，我可以尝试在这个超链接中放置一个或多个参数吗？

例子

```
 <a href="#?id=1" id="secondpage">Hyperlink</a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:18:49.640

这应该是

```
<a href="?id=1#" id="secondpage">Hyperlink</a> 
```

因为`#something`始终是一个散列并搜索具有该值的 ID。

# highcharts - 在高图表中向下钻取后无法恢复到原始状态

> ID：15379112
> 
> 赞同：0
> 
> 时间：2013-03-13T07:16:01.883
> 
> 标签：highcharts, drilldown

深入到第二级后，我无法回到图表的原始状态。需要注意的是，当我没有生成多列（一列用于打开状态，一列用于关闭状态）时，我能够做到这一点，我很容易回到原始状态。这是我的代码：

```
<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Team View</title>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">
$(function() {
var chart;
$(document).ready(function() {

    var colors = Highcharts.getOptions().colors,
        categories1 = ['January 2013','February 2013', 'March 2013']
        name = 'Issues',
        level = 0,
        data = [{
            y: 23,
            color: colors[0],
            drilldown: {
                type: 'column',
                name: 'Open issues for January 2013',
                categories: ['A', 'B', 'C', 'D', 'E'],
                level: 1,
                data1: [3, 2, 4, 0, 1],
                color: colors[4],

                name1:'Closed issues for January 2013',
                data2: [0, 0, 0, 0, 13],
                color1: colors[5]

            }},
        {
            y: 15,
            color: colors[1],
            drilldown: {
                type: 'column',
                name: 'Open issues for February 2013',
                categories: ['A', 'B', 'C', 'D', 'E'],
                level: 1,
                data1: [4, 0, 7, 0, 1],
                color: colors[4],

                name1:'Closed issues for February 2013',
                data2: [0, 0, 0, 0, 3],
                color1: colors[5]

            }},
        {
            y: 2,
            color: colors[2],
            drilldown: {
                type: 'column',
                name: 'Open issues for March 2013',
                categories: ['A', 'B', 'C', 'D', 'E'],
                level: 1,
                data1: [1, 0, 1, 0, 0],
                color: colors[4],

                name1: 'Closed issues for March 2013',
                data2: [0, 0, 0, 0, 0],
                color1: colors[5]

            }}];

    function setChart(name, categories, data, color, level, type) {
        console.log(name,categories,data,color,level,type);
        chart.xAxis[0].setCategories(categories);
        while(chart.series.length>0){
            chart.series[0].remove(true);
        }
        for (var i=0;i<data.length;i++){
        chart.addSeries({
            color: color[i],
            name: name[i],
            level: level,
            data: data[i],
            type: type
        });
        }
    }

    chart = new Highcharts.Chart({
        chart: {
            renderTo: 'container',
            type: 'line',
            backgroundColor: "#F7F7F7"
        },
        title: {
            text: null
        },
        subtitle: {
            text: null
        },
        xAxis: {
            categories: categories1,
            labels: {
                rotation: -45,
                y: 10,
                x: 10,
                align: "right"
            }
        },
        yAxis: {
            title: {
                text: 'Issues'
            },
            min: 0
        },
        credits: {
            enabled: false
        },
        plotOptions: {
            line: {
                cursor: 'pointer',
                point: {
                    events: {
                        click: function() {
                            var drilldown = this.drilldown;
                            if (drilldown) {
                                setChart([drilldown.name,drilldown.name1], drilldown.categories, [drilldown.data1,drilldown.data2], [drilldown.color,drilldown.color1], drilldown.level, drilldown.type);
                            } else { // restore
                                setChart(name, categories1, data, null, level, 'line');
                            }
                        }
                    }
                },
                dataLabels: {
                    enabled: true,
                    color: colors[0],
                    style: {
                        fontWeight: 'bold'
                    },
                    formatter: function() {
                        return this.y + 'Issues';
                    }
                }
            },
            column: {
                cursor: 'pointer',
                point: {
                    events: {
                        click: function() {
                            setChart(name, categories1, data, null, level, 'line');
                        }
                    }
                },
                dataLabels: {
                    enabled: true,
                    color: colors[0],
                    style: {
                        fontWeight: 'bold'
                    },
                    formatter: function() {
                        return this.y + 'Issues';
                    }
                }
            }
        },
        tooltip: {
            formatter: function() {
                var point = this.point,
                    s = '';
                switch (this.series.options.level) {

                case 0:
                    s = this.x + ': ' + this.y + 'Issues';
                    break;

                case 1:
                    s = this.x + ': ' + this.y + 'Issues';
                    break;
                }
                return s;
            }
        },
        series: [{
            name: name,
            level: level,
            data: data,
            color: colors[0]}],
        exporting: {
            enabled: false
        }
        },
        function(chart){
        console.log(chart);
    });
});
 });
    </script>
</head>
<body>
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>

<div id="container" style="min-width: 400px; height: 400px; margin: 0 auto"></div>

</body>
</html> 
```

请让我知道我做错了什么，因为原始折线图在返回原始状态时不显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T12:48:07.767

您的代码中有两个主要错误，都在该行中：

```
setChart(name, categories1, data, null, level, 'line'); 
```

您应该使用任何颜色数组而不是 null ，这同样适用于数据 - 应该是一个系列数组，工作代码示例：

```
setChart(name, categories1, [data], colors, level, 'line');
setChart(name, categories1, [data], ['blue','red','green'], level, 'line'); 
```

工作示例：http: [//jsfiddle.net/JaTjk/11/](http://jsfiddle.net/JaTjk/11/)

# wpf - WPF 属性网格 - 禁用单个属性

> ID：15379118
> 
> 赞同：1
> 
> 时间：2013-03-13T07:16:26.863
> 
> 标签：wpf, propertygrid

我正在尝试使用属性网格。

我正在创建属性网格中所有属性的动态对象，并使用它来绑定到视图。

我意识到属性网格有一个 ReadOnly 和一个 Browsable 属性。

但是，我想禁用该设置。说一个单选按钮。我怎样才能做到这一点？

另外，如果我想定义我的属性之间的依赖关系，我该如何动态地做到这一点？

# android - 语音嵌入式 Android 左右上下运动

> ID：15379129
> 
> 赞同：1
> 
> 时间：2013-03-13T07:17:20.687
> 
> 标签：android, sensors

在 Android 应用程序中，我想说的是 Android 手机的左右移动或上下移动。我无法获得工作副本。我试过加速度计和文字转语音。

# iphone - 如何在导航栏上添加 2 个按钮？

> ID：15379131
> 
> 赞同：0
> 
> 时间：2013-03-13T07:17:37.957
> 
> 标签：iphone, ios, objective-c, uisplitviewcontroller, uibarbuttonitem

我正在使用**拆分视图控制器**，它在第二个视图控制器上有 2 个视图控制器我想在导航控制器的右侧添加两个按钮。我使用以下代码添加了一个有效的按钮：

```
UIBarButtonItem *barButton=[[UIBarButtonItem alloc] init];
    [barButton setCustomView:btnShare];
    self.navigationItem.rightBarButtonItem=barButton; 
```

试过这个链接[http://osmorphis.blogspot.in/2009/05/multiple-buttons-on-navigation-bar.html](http://osmorphis.blogspot.in/2009/05/multiple-buttons-on-navigation-bar.html) 但不能成功。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T07:37:39.467

试试这个

```
NSMutableArray *arrRightBarItems = [[NSMutableArray alloc] init];
UIButton *btnSetting = [UIButton buttonWithType:UIButtonTypeCustom];
[btnSetting setImage:[UIImage imageNamed:@"settings.png"] forState:UIControlStateNormal];
btnSetting.frame = CGRectMake(0, 0, 32, 32);
btnSetting.showsTouchWhenHighlighted=YES;
[btnSetting addTarget:self action:@selector(onSettings:) forControlEvents:UIControlEventTouchUpInside];
UIBarButtonItem *barButtonItem = [[UIBarButtonItem alloc] initWithCustomView:btnSetting];
[arrRightBarItems addObject:barButtonItem];

UIButton *btnLib = [UIButton buttonWithType:UIButtonTypeCustom];
[btnLib setImage:[UIImage imageNamed:@"library.png"] forState:UIControlStateNormal];
btnLib.frame = CGRectMake(0, 0, 32, 32);
btnLib.showsTouchWhenHighlighted=YES;
[btnLib addTarget:self action:@selector(onMyLibrary:) forControlEvents:UIControlEventTouchUpInside];
UIBarButtonItem *barButtonItem2 = [[UIBarButtonItem alloc] initWithCustomView:btnLib];
[arrRightBarItems addObject:barButtonItem2];

UIButton *btnRefresh = [UIButton buttonWithType:UIButtonTypeCustom];
[btnRefresh setImage:[UIImage imageNamed:@"refresh.png"] forState:UIControlStateNormal];
btnRefresh.frame = CGRectMake(0, 0, 32, 32);
btnRefresh.showsTouchWhenHighlighted=YES;
[btnRefresh addTarget:self action:@selector(onRefreshBtn:) forControlEvents:UIControlEventTouchUpInside];
UIBarButtonItem *barButtonItem1 = [[UIBarButtonItem alloc] initWithCustomView:btnRefresh];

[arrRightBarItems addObject:barButtonItem1];
self.navigationItem.rightBarButtonItems=arrRightBarItems; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T07:24:54.780

```
 [self.navigationItem setRightBarButtonItem:[[UIBarButtonItem alloc] initWithCustomView:[GlobalMethods buttonWithImage:@"btn_home" heighlightImageName:@"btn_home_h" buttonFrame:CGRectMake(2, 1, 34, 34) selectorName:@selector(buttonHomeClicked:) target:self]]];

  UIButton *tempButton = [UIButton buttonWithType:UIButtonTypeCustom];
  [tempButton setFrame:CGRectMake(240, 5, 34, 34)];
  [tempButton addTarget:target action:selectorName forControlEvents:UIControlEventTouchUpInside];
  [tempButton setImage:[self getImageFromResource:normalImageName] forState:UIControlStateNormal];
  [tempButton setImage:[self getImageFromResource:heighlightImageName] forState:UIControlStateHighlighted];
  [tempButton setImage:[self getImageFromResource:@"btn_fav_h"] forState:UIControlStateSelected];
  [self.navigationController.navigationBar addSubview:self.buttonFavorite]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-13T07:24:55.130

创建两个 uibarbuttonitem 并将两者都添加到一个数组中，然后在导航栏中添加整个数组

```
UIBarButtonItem *addButton = [[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self action:@selector(addAttachmentClicked:)];
UIBarButtonItem *sendButton = [[UIBarButtonItem alloc] initWithTitle:LS(@"Send") style:UIBarButtonItemStyleBordered target:self action:@selector(sendClicked:)];
self.navigationItem.rightBarButtonItems = @[addButton,sendButton]; 
```

试试这个代码

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-13T07:51:00.777

```
UIButton *btnLogOut = [UIButton buttonWithType:UIButtonTypeCustom];
    btnLogOut.frame = CGRectMake(0, 0, 62, 31);
    [btnLogOut setImage:[UIImage imageNamed:@"logout_new.png"] forState:UIControlStateNormal];
    [btnLogOut addTarget:self action:@selector(logoutButtonPressed:) forControlEvents:UIControlEventTouchUpInside];

    UIBarButtonItem *logOutBarButton = [[UIBarButtonItem alloc] initWithCustomView:btnLogOut];

    UIButton *btnError = [UIButton buttonWithType:UIButtonTypeCustom];
    btnError.frame = CGRectMake(0, 0, 62, 31);
    [btnError setImage:[UIImage imageNamed:@"list-icon.png"] forState:UIControlStateNormal];
    [btnError addTarget:self action:@selector(logoutButtonPressed:) forControlEvents:UIControlEventTouchUpInside];

    UIBarButtonItem *errorButton = [[UIBarButtonItem alloc] initWithCustomView:btnError];

    NSArray *navigationBarBtnArray=[NSArray arrayWithObjects:errorButton,logOutBarButton, nil];

     self.navigationItem.rightBarButtonItems=navigationBarBtnArray; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-13T07:20:30.073

试试这个

```
UIBarButtonItem *rightButton = [[UIBarButtonItem alloc] initWithTitle:@"Done"
    style:UIBarButtonItemStyleDone target:nil action:nil];
self.navigationItem.rightBarButtonItem = rightButton;
[rightButton release]; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-13T07:21:39.940

只需使用 a`UISegmentedControl`而不是 a `UIButton`。

然后将模式更改为“瞬时”并添加更改操作。

触发操作时，检查`selectedSegmentIndex`以了解选择了哪个段。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-03-13T07:23:45.190

在其`UIView`上添加任意数量的按钮。然后使用

```
UIBarButtonItem *myBarbtn=[[UIBarButtonItem alloc] initWithCustomView:buttonsView];
self.navigationItem.rightBarButtonItem = myBarbtn; 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-03-13T07:25:02.667

为此使用分段控制

```
UISegmentedControl* segmentedControl = [[UISegmentedControl alloc] initWithItems:[NSArray array]];
[segmentedControl setMomentary:YES];
[segmentedControl insertSegmentWithImage:[UIImage imageNamed:@"sample1.png"] atIndex:0 animated:NO];
[segmentedControl insertSegmentWithImage:[UIImage imageNamed:@"sample2.png"] atIndex:1 animated:NO];
segmentedControl.autoresizingMask = UIViewAutoresizingFlexibleWidth;
segmentedControl.segmentedControlStyle = UISegmentedControlStyleBar;
[segmentedControl addTarget:self action:@selector(segmentedAction:) forControlEvents:UIControlEventValueChanged];

UIBarButtonItem * segmentBarItem = [[UIBarButtonItem alloc] initWithCustomView: segmentedControl];
self.navigationItem.rightBarButtonItem = segmentBarItem; 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-03-13T07:26:07.440

制作一个 s 数组`UIBarButtonItem`并将其传递给

`- (void)setRightBarButtonItems:(NSArray *)items animated:(BOOL)animated`

的方法`UINavigationItem`。

# c# - 为什么虚拟事件不调用被覆盖的处理程序

> ID：15379133
> 
> 赞同：0
> 
> 时间：2013-03-13T07:18:00.803
> 
> 标签：c#, events

考虑下面的场景，可能这个场景是非常假设的

```
public delegate void MyDel();

public class T1
{
    public T1()
    {

    }
    public virtual event MyDel MyEvent;

    public virtual void RaiseEvent()
    {
        MyEvent();
     }

    protected virtual void HandleEvent()
    {
        MessageBox.Show("base event");

    }
}

public class T2:T1
{
    public override event MyDel MyEvent;

    public T2()
    {
        MyEvent += new MyDel(HandleEvent);

    }

    protected override void HandleEvent()
    {
        MessageBox.Show("overridden event");
    }
} 
```

和主要客户代码

```
 baseT = new T2();
        baseT.MyEvent += new MyDel(() => MessageBox.Show("From client"));
        baseT.RaiseEvent(); 
```

为什么它会抛出异常，为什么虚拟事件的行为不像虚拟/覆盖方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:32:17.653

事件的接口实际上只是一对方法，添加和删除。为自动实现的事件生成一个私有支持委托，该委托只能在声明类内部通过事件名称进行访问。

事件的 virtual 关键字仅适用于 add/remove 方法对。对于自动实现的事件，支持委托的访问和调用不是虚拟的。当订阅发生在派生类 ( `T2`) 的实例上时，它使用的是重写的添加/删除方法，这些方法使用自己的支持委托。基类的支持委托仍为 null，并且仍在`RaiseEvent`. 这会导致`NullReferenceException`何时`RaiseEvent`调用。

虚拟活动很少见。我可能会使事件本身成为非虚拟的，并使用受保护的虚拟方法来允许派生类修改事件的行为。

# asp.net - asp.net 中 mm/dd/yyyy 的正则表达式

> ID：15379134
> 
> 赞同：-1
> 
> 时间：2013-03-13T07:18:09.377
> 
> 标签：asp.net, regex

带有月份、日期和年份验证的 asp.net 中 mm/dd/yyyy 的正则表达式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:22:21.147

```
/^(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)\d\d+$/ 
```

检查[这个](http://www.aspdotnet-suresh.com/2012/07/regular-expression-to-validate-date-in.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-08-07T11:22:17.213

试试这个

```
^(((((0[1-9])|(1\d)|(2[0-8]))\/((0[1-9])|(1[0-2])))|((31\/((0[13578])|(1[02])))|((29|30)\/((0[1,3-9])|(1[0-2])))))\/((20[0-9][0-9])|(19[0-9][0-9])))|((29\/02\/(19|20)(([02468][048])|([13579][26]))))$ 
```

# c# - 使用 WriteAllLines 追加到文本文件

> ID：15379136
> 
> 赞同：10
> 
> 时间：2013-03-13T07:18:21.287
> 
> 标签：c#, asp.net

我正在使用以下代码写入文本文件。我的问题是，每次执行以下代码时，它都会清空 txt 文件并创建一个新文件。有没有办法附加到这个txt文件？

```
string[] lines = {DateTime.Now.Date.ToShortDateString(),DateTime.Now.TimeOfDay.ToString(), message, type, module };
System.IO.File.WriteAllLines(HttpContext.Current.Server.MapPath("~/logger.txt"), lines); 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-13T07:26:10.567

`File.AppendAllLines`应该可以帮助您：

```
string[] lines = {DateTime.Now.Date.ToShortDateString(),DateTime.Now.TimeOfDay.ToString(), message, type, module };
System.IO.File.AppendAllLines(HttpContext.Current.Server.MapPath("~/logger.txt"), lines); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-13T07:22:36.400

使用[`File.AppendAllLines`](http://msdn.microsoft.com/en-us/library/dd383691.aspx). 应该这样做

```
System.IO.File.AppendAllLines(
       HttpContext.Current.Server.MapPath("~/logger.txt"), 
       lines); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-13T07:38:26.277

您可以使用[StreamWriter](http://msdn.microsoft.com/en-us/library/system.io.streamwriter.aspx)；如果文件存在，它可以被覆盖或附加到。如果文件不存在，则此构造函数创建一个新文件。

```
string[] lines = { DateTime.Now.Date.ToShortDateString(), DateTime.Now.TimeOfDay.ToString(), message, type, module };

using(StreamWriter streamWriter = new StreamWriter(HttpContext.Current.Server.MapPath("~/logger.txt"), true))
{
    streamWriter.WriteLine(lines);
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-13T07:26:58.893

做这样的事情：

```
string[] lines = {DateTime.Now.Date.ToShortDateString(),DateTime.Now.TimeOfDay.ToString(), message, type, module };
          if (!File.Exists(HttpContext.Current.Server.MapPath("~/logger.txt")))
          {
              System.IO.File.WriteAllLines(HttpContext.Current.Server.MapPath("~/logger.txt"), lines);
          }
          else
          {
              System.IO.File.AppendAllLines(HttpContext.Current.Server.MapPath("~/logger.txt"), lines);
          } 
```

因此，如果文件不存在，它将创建并写入文件，如果文件存在，它将附加到文件中。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-13T07:30:27.810

采用

公共静态无效 AppendAllLines（字符串路径，IEnumerable 内容）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-13T07:28:21.587

三个函数可用 ..File.AppendAllLine ，FileAppendAllText 和 FileAppendtext ..你可以试试你喜欢...

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-02-10T20:13:56.363

在上述所有情况下，我更喜欢使用 using 来确保打开和关闭文件选项将得到处理。

# sql-server-2008 - 如何在数据透视表的“in”子句中编写选择查询？

> ID：15379137
> 
> 赞同：2
> 
> 时间：2013-03-13T07:18:38.860
> 
> 标签：sql-server-2008, pivot-table

嗨，我是 Sql 编程的新手。

我有一个表“临时”有两个字段“名称”和“软件”

我正在旋转一个向他显示软件版本名称和数量的表格。

我对枢轴的查询是：

```
select * from temp
pivot(count(Software) for Software in ([Professional],[Personal],[Standard])) as PVT 
```

但不是给出静态值`in ([Professional],[Personal],[Standard])`

我想从选择查询中选择应该是的软件名称：`select distinct software from temp`

当我将此选择查询写入 in 子句时，它会出错。

我如何实现这一目标？

请帮忙 。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T09:36:01.370

```
Declare @cols nvarchar(max)
select @cols = 
stuff( ( select distinct  ',[' + Ltrim(rtrim(Software)) +']' from temp FOR XML PATH('')),1,1,'');

EXEC('select * from temp pivot(count(Software) for Software in ('+@cols+')) as PVT') 
```

@cols 变量将以`select distinct Software from temp`XML 格式包含从查询中获取的行：也就是说`[Standard],[Personal],[Professional]`，然后使用`EXEC()`函数将结果发送到数据透视查询语句。

# gmail - 通过 API python 获取 Gmail 帐户的可用空间

> ID：15379142
> 
> 赞同：0
> 
> 时间：2013-03-13T07:19:15.043
> 
> 标签：gmail, imap, pop3

有没有一种方法（Api 或 python 中的任何东西..pop/imap）可以让您了解 Gmail 帐户上的可用空间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T16:04:46.033

GMail 似乎支持[IMAP 的配额扩展](http://www.ietf.org/rfc/rfc2087.txt)，并且至少有一些信息可以通过这种方式获得。

在我的帐户中，我得到以下信息：

```
 > a001 GETQUOTA ""
  < * QUOTA "" (STORAGE 72600 10601545) 
```

单位为千字节。这意味着我使用了 72 兆，总共 10 GB，这似乎与 gmail.com 所说的每个用户的当前数量大致匹配。

# c# - 创建关系类对象

> ID：15379143
> 
> 赞同：0
> 
> 时间：2013-03-13T07:19:15.103
> 
> 标签：c#, sql-server-2008, ado.net

我有名为 Products 和 Categories 的表，Products 表的行之一包括这样的数据：

```
ProductId,ProductName,CategoryId 
```

类别包括

```
CategoryId,CategoryInfo 
```

所以我得到了`ExecudeReader()`使用 ado.net 之类的行

```
List<ProductEntity> lst = new List<ProductEntity>();
using (SqlConnection connection = new SqlConnection(constr))
        {
            SqlCommand command = connection.CreateCommand();
            command.CommandText = "select ProductId,ProductName,CategoryId from Products";
            connection.Open();
            using (SqlDataReader reader = command.ExecuteReader())
            {
                while (reader.Read())
                {
                    lst.Add(new ProductEntity()
                    {
                        ProductId = int.Parse(reader[0].ToString()),
                        ProductName= reader[1].ToString(),
                        CategoryId=int.Parse(reader[2].ToString())
                    });
                }
            }
        } 
```

但我也想从 Categories 表中获取 CategoryInfo 而不使用另一个`ExecuteReader()`. 如果可以，我可以为产品和类别创建一个实体类吗？我该怎么做？还是存在其他最佳实践？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:24:38.197

将您的查询更改为：

```
SELECT p.ProductId, p.ProductName, p.CategoryId, c.CategoryInfo
FROM Products p
JOIN Categories c ON c.CategoryId = p.CategoryId 
```

并`CategoryInfo`作为查询返回的第四个元素获取：

```
CategoryInfo= reader[3].ToString() 
```

说清楚 - 你必须在课堂上拥有`CategoryInfo`财产。`ProductEntity`

# c# - 防止访问 .Net MVC 中的特定区域

> ID：15379150
> 
> 赞同：1
> 
> 时间：2013-03-13T07:19:34.993
> 
> 标签：c#, .net, asp.net-mvc-3, asp.net-mvc-areas

MVC3 网站的管理部分被创建为一个区域。然后我将以下代码放入 Web.config

```
<location path="Admin">
<system.web>
  <authentication mode="Forms">
    <forms loginUrl="~/Admin/Login/Login" timeout="5000" defaultUrl="~/Admin/Login/Redirect" />
  </authentication>
  <authorization>
    <deny users="?"/>
  </authorization>
</system.web>
</location> 
```

但是它会引发错误

> 解析器错误消息：在应用程序级别之外使用注册为 allowDefinition='MachineToApplication' 的部分是错误的。此错误可能是由未在 IIS 中配置为应用程序的虚拟目录引起的。

源错误：

```
Line 44:   <location path="Admin">
Line 45:     <system.web>
Line 46:       <authentication mode="Forms">
Line 47:         <forms loginUrl="~/Admin/Login/Login" timeout="5000" defaultUrl="~/Admin/Login/Redirect" />
Line 48:       </authentication> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:27:16.307

您不能覆盖`<authentication>`特定子文件夹的节点。这根本不支持。如果您想为您的区域创建一个不同的登录页面，您可以编写一个自定义`[Authorize]`属性，然后用它装饰区域中的所有控制器操作。这个想法是仅覆盖[HandleUnauthorizedRequest](http://msdn.microsoft.com/en-us/library/system.web.mvc.authorizeattribute.handleunauthorizedrequest%28v=vs.108%29.aspx)方法并重定向到所需的登录页面。

例如：

```
public class AdminAuthorizeAttribute : AuthorizeAttribute
{
    protected override void HandleUnauthorizedRequest(AuthorizationContext filterContext)
    {
        var routeValues = new RouteValueDictionary(new
        {
            controller = "login",
            action = "login",
            area = "admin"
        });
        filterContext.Result = new RedirectToRouteResult(routeValues);
    }
} 
```

就您的 web.config 而言，`<authentication>`节点必须直接配置在该`<system.web>`部分下，而不是在一个`<location>`部分内。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-26T02:57:16.970

我试图解释

如果您的应用程序包含多个区域，则当应用程序运行时，所有区域都会被注册。以便登录用户可以访问每个区域。

但是，如果您只想允许访问特定区域，则需要覆盖默认区域注册过程。

在那个过程中，我们去掉了，所有的路由都属于每个Area

while(RouteTable.Routes.Count > 0) RouteTable.Routes.RemoveAt(0);

之后，我们只允许那些我们希望允许登录用户的区域，因为我们使用了

```
MvcApplication app = (MvcApplication)HttpContext.ApplicationInstance;
RouteCollection existingcoll = outeCollection)app.Application["ExistingRoutecolling"];

foreach (Route _route in existingcoll)
 {
    // allow only those routes , which belongs to the area which you want allow to access the login user
    if (_route.Url == "Admin/{controller}/{action}/{id}")
        RouteTable.Routes.Add((RouteBase)_route);       
    // re-register routes again
    RouteConfig.RegisterRoutes(RouteTable.Routes);
    // now redirect with expected action
    return RedirectToAction("controller", "action", new { area = "Admin" });
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-06-23T13:02:26.573

```
public class MvcApplication : System.Web.HttpApplication
 {
        protected void Application_Start()
        {
            AreaRegistration.RegisterAllAreas();
            WebApiConfig.Register(GlobalConfiguration.Configuration);
            FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);
            RouteConfig.RegisterRoutes(RouteTable.Routes);

            RouteCollection existingcoll = new RouteCollection();

            foreach (Route _route in RouteTable.Routes)
                existingcoll.Add((RouteBase)_route);
            //keep all default registerd routes in Asp Application object  
            Application["ExistingRoutecolling"] = existingcoll;
        }
}
//after login when user called first action to render dashboard, you can add logic there
 public ActionResult ModuleDashboard
 {
     //get default registerd routes from Asp Application object which we stored in  Application_Start() method 
    MvcApplication app = (MvcApplication)HttpContext.ApplicationInstance;
    RouteCollection existingcoll = (RouteCollection)app.Application["ExistingRoutecolling"];

    // remove all register routes, by default those are registered by application object
    while (RouteTable.Routes.Count > 0)
        RouteTable.Routes.RemoveAt(0);

    //navigate each route from collection and add in actual application route collection object         
     foreach (Route _route in existingcoll)
     {
        // allow only those routes , which belongs to the area which you want allow to access the login user
        if (_route.Url == "Admin/{controller}/{action}/{id}")
            RouteTable.Routes.Add((RouteBase)_route);       
        // re-register routes again
        RouteConfig.RegisterRoutes(RouteTable.Routes);
        // now redirect with expected action
        return RedirectToAction("controller", "action", new { area = "Admin" });
    }

 } 
```

# jquery - 使用 jQuery 或 CSS 进行 10 个平铺定位

> ID：15379152
> 
> 赞同：1
> 
> 时间：2013-03-13T07:19:36.780
> 
> 标签：jquery, css, positioning, tiles

我对 CSS 和 jQuery 有点陌生。我正在尝试在网站上定位图块，如下所示：

![盒子](../Images/fbc37800ec915ffef3807bed9c4dc0b7.png)

我一直在尝试使用 CSS 和 jQuery Masonry，但我得到的最接近的是这样的：

![现在](../Images/d5079206c62d92d23bc338b07624edf4.png)

任何人都有任何线索，我怎样才能得到这样的瓷砖定位。

```
<body>

<nav id="container">
    <div class="t1">1</div>
    <div class="t2">2</div>
    <div class="t3">3</div>
    <div class="t4">4</div>
    <div class="t5">5</div>
    <div class="mi">MIDDLE</div>
    <div class="t6">6</div>
    <div class="t7">7</div>
    <div class="t8">8</div>
    <div class="t9">9</div>
    <div class="t10">10</div>
</div>
</div>
</nav> 
```

CSS

```
#container {
    margin:auto;
    cursor:pointer;
    width:600px;
    margin-top:140px;
}
.t1, .t2 {
padding:8px;
height:120px;
width:300px;
float:left;
background-color:orange;
border:black thin solid;
}
.t3, .t4, .t5 {
padding:8px;
height:120px;
width:240px;
float:left;
background-color:orange;
border:black thin solid;
}

.t6, .t7, .t8 {
padding:8px;
height:120px;
width:30%;
float:left;
background-color:orange;
border:black thin solid;
}

.t9, .t10 {
padding:8px;
height:120px;
width:300px;
float:left;
background-color:orange;
border:black thin solid;
}
.mi {
height:360px;
width:400px;
background-color:blue;
float:left;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:24:07.557

我一直在使用 twitter bootstrap - 您可以定义一行或一个容器，并以相对简单的方式告诉 bootstrap 有多少列以及屏幕空间的比例。

我使用引导程序是因为我对 CSS 和 jQuery 也很陌生。

[http://twitter.github.com/bootstrap/](http://twitter.github.com/bootstrap/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:11:56.857

试试这个：

```
<div class="row">
<div class="span6">BOX 1</div>
<div class="span6">BOX 2</div>
</div>
<div class="row">
<div class="span2">
    <div class="row">
        <div class="span12">BOX 3</div>
    </div>
    <div class="row">
        <div class="span12">BOX 4</div>
    </div>
    <div class="row">
        <div class="span12">BOX 5</div>
    </div>
</div>
<div class="span8">
    BOX with blue background
</div>
<div class="span2">
    <div class="row">
        <div class="span12">BOX 5</div>
    </div>
    <div class="row">
        <div class="span12">BOX 7</div>
    </div>
    <div class="row">
        <div class="span12">BOX 8</div>
    </div>
</div>
</div>
<div class="row">
<div class="span6">BOX 9</div>
<div class="span6">BOX 10</div>
</div> 
```

也许您必须更改行元素的`padding`和`margin`，以使其适合网格。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T10:11:22.020

这是我的最终代码，使用 Bootstrap：

HTML

```
<div class="row">
<div class="span6">BOX 1</div>
<div class="span6">BOX 2</div>
</div>
<div class="row">
<div class="span2">
    <div class="row">
        <div class="span12">BOX 3</div>
    </div>
    <div class="row">
        <div class="span12">BOX 4</div>
    </div>
    <div class="row">
        <div class="span12">BOX 5</div>
    </div>
</div>
<div class="span8">
    BOX with blue background
</div>
<div class="span2">
    <div class="row">
        <div class="span12">BOX 5</div>
    </div>
    <div class="row">
        <div class="span12">BOX 7</div>
    </div>
    <div class="row">
        <div class="span12">BOX 8</div>
    </div>
</div>
</div>
<div class="row">
<div class="span6">BOX 9</div>
<div class="span6">BOX 10</div>
</div>

</div>
</body> 
```

CSS

```
#contain {
    margin:auto;
    margin-top:120px;
    margin-left:600px;
}
.span6 {
    background:#06C;
    width:300px;
    height:120px;
    border:black thin solid;
    margin-left:-20px;
}
.span12 {
    background:#9C0;
    width:100px;
    height:120px;
    border:black thin solid;
    margin-left:-20px;
}
.span8 {
    background:#903;
    width:400px;
    height:364px;
    border:black thin solid;
    margin-left:-80px;
    margin-top:0px;

} 
```

![最终瓷砖](../Images/dc1329a028042a8db84940ccdcb18c8a.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T12:34:40.150

试试这个。也读[这个](http://phrogz.net/css/vertical-align/index.html)

```
<style type="text/css">
div{
    border:thin solid #000
}
#container{
    width:100%;
}
#container div{
    float:left;
    width:49%;/* make this 50 and turn off borders */
height:20%
}
#container div:nth-child(odd){
    clear:both;
}
#container .mi{
  position: absolute;
margin: 0 auto;
top: 50%;
height: 50%;
margin-left: 25%;
margin-top: -14%;

}
</style>      
<nav id="container">

    <div class="t1">1</div>
    <div class="t2">2</div>
    <div class="t3">3</div>
    <div class="t4">4</div>
    <div class="t5">5</div>

    <div class="t6">6</div>
    <div class="t7">7</div>
    <div class="t8">8</div>
    <div class="t9">9</div>
    <div class="t10">10</div>
    <div class="mi">MIDDLE</div>
</div> 
```

# jquery - Raphael JS 使子集可选择性地点击

> ID：15379158
> 
> 赞同：1
> 
> 时间：2013-03-13T07:20:12.190
> 
> 标签：jquery, raphael

所以我有一篇有 6 种符号的论文。每个符号都是圆圈和路径的集合。我只想制作一些可点击的圆圈来拖动集合。例如，如果一个符号有 2 个圆圈和一个路径 - 我希望能够单击其中一个圆圈来拖放集合（有据可查的东西）。如果用户点击另一个圆圈 - 什么都不会发生。由于我的 Raphael 元素是由用户动态创建的 - 我将每个集合在创建时推送到数组中。我是否可以访问集合中的特定圆圈并通过集合数组使其可点击？

这是我插入集合的方法

```
{
paper.setStart();
    var circ = paper.circle(x,y,35); //first circle - should be clickable
    var conpoints = insConPoint1(paper,x,y);
    var pathright = conpoints.path;
    var conPoint1 = conpoints.conpoint; //this is a second circle - should not be clickable
var st = paper.setFinish();
symbolarray.push(st);
} 
```

这也是我使集合可拖动的方法

```
function dragger(){
    this.dx = this.dy = 0;

};

function mover(s){
    return function(dx, dy){
        (s|| this).translate(dx-this.dx, dy-this.dy);
        this.dx = dx;
        this.dy = dy;
    }
};
for(var i = 0; i<symbolcount;i++){
    symbolarray[i].drag(mover(symbolarray[i]), dragger);    
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T12:07:29.333

没问题。有两种方法可以做到：

如果只有一个圆圈是可拖动的，只需将拖动事件附加到该圆圈，但在集合上调用 translate，而不是在`this`（它将始终引用单个元素，即使拖动侦听器附加到集合对象。 ) 由于这是动态的，因此您可以使用 Raphael 的`.data()`函数找到合适的集合，该函数[将键值对添加到 object](http://raphaeljs.com/reference.html#Element.data)，如下所示：

```
paper.setStart();
    var circ1 = paper.circle(100,100,35); //first circle - should be clickable
    var circ2 = paper.circle(50,50,25); // second circle - not clickable
var st = paper.setFinish();
st.data("myset", st);

st.click(function(e) {
   //returns the parent set
   console.log(this.data("myset")); 
}); 
```

然后你只需调用翻译事件 - 顺便说一句，你应该在有机会时适应 transform() ，因为不推荐使用翻译 - 结果是`this.data("myset")`

如果集合中的多个对象是可拖动的，那么您可以做一些稍微不同的事情：`.data()`如果您希望它们被拖动，则使用为对象添加“candrag”属性。然后在拖动集合时检查此值，并且仅在单击的对象对此值具有“真”时才转换（也称为平移）集合。类似的想法。

# java - 将日期格式更改为 mm-dd-yyyy hh:mm

> ID：15379165
> 
> 赞同：1
> 
> 时间：2013-03-13T07:20:39.607
> 
> 标签：java, date, formatting

我正在尝试使用此代码：

```
private static Date getTimeStamp() {
    return new Timestamp(new Date().getTime());
} 
```

我得到的是`2013-03-13 12:46:22.011`

但我需要的是时间戳的格式应该是`mm-dd-yyyy hh:mm`.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T07:29:48.750

`java.sql.Timestamp`对象（就像`java.util.Date`and `java.sql.Date`）本身没有格式，所以你不能“有一个格式 [whatever] 的时间戳”。

仅当您将对象转换为字符串以进行显示时，格式才适用。您可以使用所需的格式`SimpleDateFormat`将 a 转换`Timestamp`为字符串。

```
Timestamp timestamp = new Timestamp(System.currentTimeMillis());

DateFormat dateFormat = new SimpleDateFormat("MM-dd-yyyy HH:mm");
String text = dateFormat.format(timestamp);

System.out.println(text); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T07:39:35.190

希望这可以帮助

```
 String date1="2013-03-13 12:46:22.011";
    DateFormat userDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:SS");  
    DateFormat dateFormatNeeded = new SimpleDateFormat("MM/dd/yyyy HH:mm");
    Date date = userDateFormat.parse(date1);
    String finaldate = dateFormatNeeded.format(date); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T07:28:58.150

您可以使用 SimpleDateFormat [http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)来实现您的目标。

例如： new SimpleDateFormat("MM-dd-yyyy HH:mm").format(timestamp));

# c# - 在 C# .net Web 应用程序中上传 excel 文件导致错误

> ID：15379167
> 
> 赞同：0
> 
> 时间：2013-03-13T07:20:42.000
> 
> 标签：c#, .net, iis-7

我的 .net Web 应用程序可以选择上传一个包含大约 1k 个产品条目的 excel 文件，当我在 localhost 上运行应用程序时上传工作正常，但是当它托管在 iis7 上并被某些人访问时会导致以下错误网络上的其他计算机..

**错误**

> 由于以下错误，检索具有 CLSID {00024500-0000-0000-C000-000000000046} 的组件的 COM 类工厂失败：80070005 访问被拒绝。（来自 HRESULT 的异常：0x80070005 (E_ACCESSDENIED)）。
> 
> 异常详细信息：System.UnauthorizedAccessException：检索具有 CLSID {00024500-0000-0000-C000-000000000046} 的组件的 COM 类工厂失败，原因是以下错误：80070005 访问被拒绝。（来自 HRESULT 的异常：0x80070005 (E_ACCESSDENIED)）。

我用谷歌搜索了一下，发现有人在谈论 32 位或 64 位操作系统。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:15:40.500

[由于本知识库文章中所述的原因，](http://support.microsoft.com/kb/257757)您应该避免在服务器应用程序中使用 Excel 互操作。

相反，请考虑使用第三方产品来操作 Excel 文档，例如[EPPlus (Excel 2007+)](http://epplus.codeplex.com/)、[Aspose Cells](http://www.aspose.com/.net/excel-component.aspx)、[SpreadsheetGear](http://www.spreadsheetgear.com/)。

可能您的 ASP.NET 应用程序在没有配置文件的帐户下运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:26:15.300

确保上传文件夹获得完全权限，以便从其他计算机上传。首先要授权给每个人。然后您可以将其限制为仅限 IIS 用户。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T08:06:00.577

在我看来，当您在服务器上实现应用程序时，没有安装您在开发机器上使用的东西。无论您使用什么来上传，如果它是第三方上传控件或其他东西，您可能不会分发该文件。

另一种可能性是，您安装应用程序的服务器是 64 位机器，而您使用的上传控件仅适用于 32 位。对于 IIS 7，您可能希望将服务器设置为 32 位。

[http://www.depotsystems.com/ds_mobile_webhelp/webhelp/index.htm#page=Enabling_32_bit_mode.htm](http://www.depotsystems.com/ds_mobile_webhelp/webhelp/index.htm#page=Enabling_32_bit_mode.htm)

# asp.net-mvc - 父页面是否可以与嵌入式 iFrame 交互？

> ID：15379172
> 
> 赞同：0
> 
> 时间：2013-03-13T07:21:09.990
> 
> 标签：asp.net-mvc, iframe

我正在为拥有某项服务的第三方提供商的客户编写一个新的 ASP.NET/MVC 系统。第 3 方提供了一个简单的 Web 界面供客户上传和维护数据。

现在客户希望我们将这个与第 3 方的接口构建到我们的系统中，因为他们发送给第 3 方的一些数据是从我们的数据库中提取的。

最简单、快速和肮脏的方法是为第 3 方网站制作 iFrame。但这会给我们想要的功能吗？有没有办法从我们的系统将数据推送到 iFrame 中？我们可以将 iFrame 的响应拉入我们的系统吗？是否可以在 iFrame 之上应用我们自己的样式表，这样系统就不会像 Frankenstein 博士的怪物，由不同外观的组件拼凑而成？

还是我们必须设计自己的 UI 来完全模仿 3rd 方 UI，发布到 3rd 方 URL 并解析响应，以便它可以以适当的方式呈现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:34:09.787

> 还是我们必须设计自己的 UI 来完全模仿 3rd 方 UI，发布到 3rd 方 URL 并解析响应，以便它可以以适当的方式呈现？

如果 3rd 方服务没有为您提供 API 或自定义 CSS 样式表的方法，我担心这可能是您的选择（在这种情况下，您可以使用`iframe`传递一些会更改 CSS 的参数） .

# lua - 如何使用解包调用变体参数方法

> ID：15379174
> 
> 赞同：0
> 
> 时间：2013-03-13T07:21:12.780
> 
> 标签：lua

我正在尝试运行一个 redis lua 模拟项目来测试我的 redis lua 代码。但显然，redis-mock 项目中存在错误。

当我调用我的测试代码时，redis 模拟在[hash.lua#22](https://github.com/Redsmin/redis-lua-unit/blob/547985409df64a69f2427672d7f71fdf0f5d9110/src/commands/hash.lua#L22)`redis.call('hget', 'foo', 'bar')`处抛出一个断言错误，这是从[RedisLua.lua#20调用的](https://github.com/Redsmin/redis-lua-unit/blob/547985409df64a69f2427672d7f71fdf0f5d9110/src/RedisLua.lua#L20)

```
-- RedisLua.lua
local call = function(self)
  return (function(cmd, ...)
    cmd = string.lower(cmd)

    local arg = {...}

    local ret = self.db[cmd](self.db, unpack(arg)) -- line 20

    if self.RedisLua_VERBOSE then
      print(cmd .. "( " .. table.concat(arg, " ") .. " ) === ".. tostring(ret))
    end

    return ret
  end)
end

-- hash.lua
function RedisDb:hget(self,k,k2)
    assert((type(k2) == "string")) -- # line 22
    local x = RedisDb.xgetr(self,k,"hash")
    return x[k2]
end 
```

经过跟踪，我发现`self`is `'foo'`，`k`is`'bar'`和 the `k2`is 实际上`nil`，我该如何修复这个错误，`k`应该是`foo`，`k2`应该是`'bar'`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:27:28.867

我认为你需要调用`redis:call('hget', 'foo', 'bar')`或等效`redis.call(redis,'hget','foo','bar')`，而不是`redis.call('hget', 'foo', 'bar')`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T09:12:05.043

回答我自己的问题。

当定义为 时`:`，`self`不需要。

```
-- hash.lua
function RedisDb:hget(self,k,k2)
    assert((type(k2) == "string")) -- # line 22
    local x = RedisDb.xgetr(self,k,"hash")
    return x[k2]
end 
```

改成

```
-- hash.lua
function RedisDb:hget(k,k2)
    assert((type(k2) == "string")) -- # line 22
    local x = RedisDb:xgetr(k,"hash")
    return x[k2]
end 
```

# python - 如何在 Python 中将 JSON 转换为 XLS

> ID：15379178
> 
> 赞同：21
> 
> 时间：2013-03-13T07:21:34.410
> 
> 标签：python, json, xls

**有谁知道如何在 Python 中将 JSON 转换为 XLS？**

我知道可以使用Python`xls`中的包创建文件。`xlwt`

如果我想直接将`JSON`数据转换为`XLS`文件怎么办？

有没有办法存档这个？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2016-04-12T22:23:02.237

使用 pandas (0.15.1) 和 openpyxl (1.8.6)：

```
import pandas
pandas.read_json("input.json").to_excel("output.xlsx") 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-03-13T07:34:55.063

我通常将 tablib 用于此用途。使用起来非常简单： [https ://pypi.python.org/pypi/tablib/0.9.3](https://pypi.python.org/pypi/tablib/0.9.3)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-04-03T11:23:15.027

如果您的 json 文件存储在某个目录中，那么，

```
import pandas as pd
pd.read_json("/path/to/json/file").to_excel("output.xlsx") 
```

如果您在代码中有您的 json，那么您可以简单地使用 DataFrame

```
json_file = {'name':["aparna", "pankaj", "sudhir", "Geeku"],'degree': ["MBA", "BCA", "M.Tech", "MBA"],'score':[90, 40, 80, 98]}
df = pd.DataFrame(json_file).to_excel("excel.xlsx") 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-06-22T22:39:40.327

如果有人想使用 Flask-REST 以流的形式输出到 Excel

熊猫版本：

```
json_payload = request.get_json()

with NamedTemporaryFile(suffix='.xlsx') as tmp:

    pandas.DataFrame(json_payload).to_excel(tmp.name)

    buf = BytesIO(tmp.read())

    response = app.make_response(buf.getvalue())
    response.headers['content-type'] = 'application/octet-stream'

    return response 
```

和 OpenPyXL 版本：

```
keys = []
wb = Workbook()
ws = wb.active

json_data = request.get_json()

with NamedTemporaryFile() as tmp:

    for i in range(len(json_data)):
        sub_obj = json_data[i]
        if i == 0:
            keys = list(sub_obj.keys())
            for k in range(len(keys)):
                ws.cell(row=(i + 1), column=(k + 1), value=keys[k]);
        for j in range(len(keys)):
            ws.cell(row=(i + 2), column=(j + 1), value=sub_obj[keys[j]]);
    wb.save(tmp.name)

    buf = BytesIO(tmp.read())

    response = app.make_response(buf.getvalue())
    response.headers['content-type'] = 'application/octet-stream'

    return response 
```

# android - 许多应用商店应用，一个开始屏幕

> ID：15379179
> 
> 赞同：0
> 
> 时间：2013-03-13T07:21:34.910
> 
> 标签：android, android-intent, installation

我希望用户在一个套件中下载不同的应用程序，想想 MS Office，但有一个主屏幕可以从中选择每个应用程序。用户可以通过从 Google 等下载应用程序来添加（或删除）应用程序。

*   如果可能的话，我不希望用户必须拥有同一个开始屏幕的多个副本，每个应用程序中都有一个副本，因为我希望最大限度地减少内部或外部内存存储的使用。

*   或者，如果您从我的套件中下载并安装一个应用程序，我可以使用它来真正安装两个应用程序，即有用的应用程序和第二个主屏幕应用程序，如果您已经通过我的套件中的另一个程序安装了它，则不会安装它？我不希望用户为选项而烦恼或必须下载 2 个应用程序。我想允许用户根据需要安装或卸载应用程序。

*   如果我从一个应用程序“选择你想要的应用程序”启动一个应用程序，我如何打开我的套件中的第二个应用程序，例如 Word，而不打开第二个应用程序“选择你想要的应用程序”开始屏幕。[例如，我应该在应用程序之间发送意图，还是在清单中有备用启动活动？]

*   如果另一个程序已经安装了应用程序选择菜单屏幕，我可以安装新应用程序，但然后删除新程序中重复的应用程序选择菜单图像。

欢迎提出建议和/或代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:33:47.863

*   你的方法非常光荣。
*   应用程序和 apk 在安装过程中对正在安装的内容和未安装的内容没有任何编程控制，并且没有权利在之后更改其安装，因此“安装一两个应用程序”将无法正常工作。
*   您可以使用不同的意图或额外的意图启动其他应用程序，因此避免其他启动屏幕不会成为问题。

我想说您必须在所有应用程序中都有启动屏幕代码，*除非*您将启动屏幕/仪表板作为套件的唯一应用程序发布并允许用户下载套件的单一功能作为[扩展文件](http://developer.android.com/google/play/expansion-files.html)，这可能或可能不适合和/或使您的许可方法复杂化。

# iphone - MFMessageComposeViewController：如何限制将消息作为蜂窝消息而不是 iMessage 发送

> ID：15379180
> 
> 赞同：4
> 
> 时间：2013-03-13T07:21:35.990
> 
> 标签：iphone, ios, objective-c, xcode, mfmessagecomposeview

我`MFMesageComposeViewController`用来发送消息，这给我带来了问题。

当我向多个收件人发送消息时，无论**iMessages**是从设置中启用还是禁用，它都可以正常工作。但是，当我向单个联系人发送消息并从设置中启用**iMessage时，它​​会在 Message App 中给我****“传递失败”**并将其显示为**iMessage**。

我如何强制`MFMessageComposeViewController`将其作为蜂窝消息发送。

我的代码是：

```
[[[MFMessageComposeViewController alloc] init] autorelease];
if ([MFMessageComposeViewController canSendText]) {
    controller.body = @"Sample Text Message";
    controller.recipients = [NSArray arrayWithObject:@"XXXXXXXXXXXX"];
    controller.messageComposeDelegate = self;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:25:08.990

简而言之 - 你不能。如果在设备上启用了 iMessage 并且收件人可用作 iMessage 客户端，则消息将作为 iMessage 发送。此行为由 iOS 本身定义，您无法更改。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:36:19.530

Apple 没有提供任何方法来检测消息是作为“iMessage”还是“SMS”发送的。

此外，如果您没有连接到互联网，您的消息将不会作为 iMessage 发送。如果您的互联网连接速度较慢，您的消息将自动作为 SMS 发送。

如果收件人可用作 iMessage 客户端并且您的设备上启用了 iMessage，那么您的消息将作为 iMessage 发送。如果那时您没有连接到互联网，那么“发送”按钮将被自动禁用。

# apache-flex - flex spark datagrid itemrenderer 获取所有者组件

> ID：15379183
> 
> 赞同：0
> 
> 时间：2013-03-13T07:21:49.893
> 
> 标签：apache-flex, datagrid, itemrenderer

在flex3中，我可以通过datagrid中的listdata获取所有者组件。但是在flex4中，itemrenderer中没有listdata属性，那么我该怎么做才能获取所有者datagrid。

我试了一下`dataGrid= this.automationOwner as DataGrid;`，还是不行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T10:04:59.650

您可以在 flex 4 中访问 listData 属性。请参阅[文档](http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf64fe7-7ff9.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c93)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T14:42:37.053

如果您只需要对 DataGrid 的引用，那么您可以试试这个，grid.dataGrid

# php - php strtotime 不起作用

> ID：15379186
> 
> 赞同：5
> 
> 时间：2013-03-13T07:22:11.847
> 
> 标签：php, date, datetime, strtotime

我在下面的脚本上遇到了问题，假设`$exp_date`是从数据库中检索到的，我想将到期日期与今天的日期进行比较，以检查会员资格是否仍然有效。

没有什么可显示的，只有`Time Expired`，代码有什么问题？

从 db 中的 expiry 列检索到的数据设置为 varchar（由前同事构建）。

```
$exp_date = "22/01/2014";
$todays_date = date("d/m/Y");
$today = strtotime($todays_date); 
$expiration_date = strtotime($exp_date);
echo $expiration_date.' | '.$today.'<br>';
if($expiration_date > $today){ 
    echo 'Still Active';
} else { 
    echo 'Time Expired';
} 
```

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-13T07:29:58.067

这是工作代码

```
 <?php
 $exp_date = "22/01/2014";
  $exp_date = str_replace('/', '-', $exp_date);
  $todays_date = date("d-m-Y");
  $today = strtotime($todays_date); 
  $expiration_date = strtotime($exp_date);

  echo $expiration_date.' | '.$today.'<br>';

  if($expiration_date > $today){ 
      echo 'Still Active';
  } else { 
      echo 'Time Expired';
  }
?> 
```

实际上 strtotime() 不适用于格式 'd/m/Y'

希望它可以帮助你。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-13T07:25:10.067

[`strtotime()`](http://php.net/manual/en/function.strtotime.php)手册上的注释。

> **`m/d/y`**或格式中的日期**`d-m-y`**通过查看各个组件之间的分隔符来消除歧义：如果分隔符是斜杠 (/)，则假定为美式 m/d/y；而如果分隔符是破折号 (-) 或点 (.)，则假定为欧洲 dmy 格式。
> 
> 为避免潜在的歧义，最好使用 ISO 8601 (YYYY-MM-DD) 日期或[`DateTime::createFromFormat()`](http://www.php.net/manual/en/datetime.createfromformat.php)尽可能使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-02-07T19:25:04.623

```
<?php
  $exp_date = "22/01/2014";
  $exp_date = str_replace('/', '-', $exp_date);
  $todays_date = date("d-m-Y");
  $today = strtotime($todays_date); 
  $expiration_date = strtotime($exp_date);

  echo $expiration_date.' | '.$today.'<br>';

  if($expiration_date > $today){ 
      echo 'Still Active';
  } else { 
      echo 'Time Expired';
  }
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T07:26:48.647

您可以在 mysql 本身中执行此操作，如下所示：

```
select if(cur_date()>expire_date,'expire','active') as status from tableName 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-13T07:27:34.807

像这样试试

```
$todays_date=date('d/m/y');
$tempArr=explode('/', "22/01/2014");
$exp_date = date("d/m/y", mktime(0, 0, 0, $tempArr[1], $tempArr[0], $tempArr[2]));
$expiration_date = strtotime($exp_date);

echo $expiration_date.' | '.$today.'<br>';

if($expiration_date > $today){ 
    echo 'Still Active';
} else { 
    echo 'Time Expired';
} 
```

# awk - awk 不区分大小写和布尔运算符

> ID：15379190
> 
> 赞同：1
> 
> 时间：2013-03-13T07:22:22.003
> 
> 标签：awk, operators, case-insensitive

我想以任何顺序 grep 包含两种模式的行并且我正在使用

```
awk '/pattern1/ && /pattern2/' file.txt 
```

但是如果我想做不区分大小写的搜索，添加 /i 只有在我将它添加到 pattern2 时才有效。

```
awk '/pattern1/ && /pattern2/i' file.txt ...works

awk '/pattern1/i && /pattern2/i' file.txt ...don't, outputs the whole file 
```

有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T08:01:31.940

尝试：

```
awk '{s=tolower($0)} s~/lowercase_pattern1/ && s~/lowercase_pattern2/' file 
```

`IGNORECASE`GNU awk中也有该选项的可能性。

* * *

你也可以在大多数时候做这样的事情：

```
grep -Ei 'pattern1.*pattern2|pattern2.*pattern1' file 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-17T09:16:49.753

`awk '/pattern1/ && /pattern2/i' file.txt` 将忽略模式`/pattern2/`

如果您想完全忽略这种情况，请添加`IGNORECASE = 1`.

IE。

`awk 'BEGIN {IGNORECASE = 1} /pattern1/ && /pattern2/' file.txt`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-13T08:24:39.160

你也可以使用`grep`：

```
grep -i "pattern1" file.txt | grep -i "pattern2.txt" 
```

虽然它不会像使用两次通过来查找线条那样有效。

您可以使用`sed`which 可以一次性完成：

```
sed '/pattern1/I!d;/pattern2/I!d/' file.txt 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-13T09:17:42.463

只需将您的命令更改为：

```
awk 'tolower($0)~/pattern1/ && tolower($0)~/pattern2/' your_file 
```

或者，您可以使用 perl：

```
perl -lne 'print if(/pattern1/i and /pattern2/i)' your_file 
```

# iphone - 将 Yammer API 集成到 iPhone 应用程序中？

> ID：15379191
> 
> 赞同：0
> 
> 时间：2013-03-13T07:22:23.783
> 
> 标签：iphone, oauth, yammer

任何人都可以帮助我将 yammer 集成到 iphone 应用程序中。

1.  如何认证用户？
2.  如何获得饲料？
3.  如何发布消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-17T22:58:03.883

可从[http://developer.yammer.com/mobile/](http://developer.yammer.com/mobile/)获得适用于 iOS 的移动 SDK 。这将帮助您进行身份验证和执行其他任务。

# windows-phone-7 - WP7：访问 WebBrowser 控件的图像数据

> ID：15379192
> 
> 赞同：0
> 
> 时间：2013-03-13T07:22:26.060
> 
> 标签：windows-phone-7

我的 `WebBrowser`手机 UI 上有一个（来自 Microsoft.Phone.Controls），显示带有图像的网页。如何访问 html 图像二进制数据？

我想存储图像以供以后渲染，也许也对其进行一些图像转换。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T10:40:43.607

您不能这样做，因为 WebBrowser 控件几乎是沙盒化的，并且您无权访问 DOM 或其中的任何内容。

编辑：您至少可以获取页面的 HTML 源代码，然后您可以解析源代码，提取图像的 url，然后手动下载它们。您可以通过[WebBrowser.SaveToString](http://msdn.microsoft.com/en-us/library/microsoft.phone.controls.webbrowser.savetostring%28v=vs.92%29.aspx)方法获取源

# mysql - MySQL命令行不起作用

> ID：15379202
> 
> 赞同：0
> 
> 时间：2013-03-13T07:22:48.553
> 
> 标签：mysql, ubuntu, command-line, lamp

我有一个带 LAMP 的 Ubuntu 服务器。现在，如果我尝试在命令行中执行某些操作，我将得不到任何答案，并且该命令不起作用。

```
#mysql -u root -p
Enter password: 

mysql> GRANT ALL PRIVILEGES ON *.* TO root@10.4.0.109 INDENTIFIED BY "MYPASSWORD"
    -> 
```

这 -> 是我得到的一切。No Query OK 或一些错误。为什么不工作？难道我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T07:25:11.300

添加一个“;” 关闭您的查询，否则 Mysql 不会关闭它。

# c - 如何检查文件是否在C的当前目录中？

> ID：15379203
> 
> 赞同：0
> 
> 时间：2013-03-13T07:22:53.240
> 
> 标签：c, file, directory

如何检查文件（输入）是否在 C 中的程序目录中？首先我想我可以打开文件，但我不希望用户通过输入类似的内容来查看我的其他文件`../important_dir/important_file`，但如果用户执行类似`./dir1/../file1`. 这意味着，只要文件在当前目录中（没有子目录），就可以打开它。

然后我四处寻找`readdir`，它可以用来查找当前目录中的所有内容，但是如果当前目录有很多文件，那么每次获取用户输入时查找文件名都会太慢。

有什么快速安全的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:11:42.180

我认为 realpath 应该做这项工作。如果可能的话，我明天会发布解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:49:26.847

您可以只使用`stat()`来检查文件的状态。如果有问题的文件不存在并设置`errno`为，它将返回 -1 `ENOENT`。

```
char filename[] = "myfile";

struct stat s = {0};

if (!(stat(filename, &s)
{
  if (ENOENT == errno)
    perror("file does not exist.");
} 
```

# wordpress - 一行中的主菜单，然后是wordpress中另一水平行中的子菜单

> ID：15379204
> 
> 赞同：0
> 
> 时间：2013-03-13T07:22:53.407
> 
> 标签：wordpress

我正在使用文字出版社。实际上，我想要一行中的主菜单菜单的菜单插件，然后是另一行中的子菜单。有人知道该场景使用哪个菜单插件吗？菜单： ![在此处输入图像描述](../Images/0e1dcaaf030b3a305d7a67086538276e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:36:57.407

我认为[UberMenu](http://wpmegamenu.com/)是您所需要的。这是一个用户友好的可定制菜单，但不幸的是它不是免费的。

**[编辑]**

或者你可以试试[WordPress jQuery Mega Menu Plugin](http://www.designchemical.com/lab/demo-wordpress-jquery-mega-menu-plugin/)，这个是免费的，非常适合自定义菜单。

# methods - 调用布尔方法

> ID：15379206
> 
> 赞同：0
> 
> 时间：2013-03-13T07:23:07.363
> 
> 标签：methods, boolean, geometry, invoke

我试图弄清楚如何将布尔方法调用为真或假。到目前为止，这是我所拥有的：

```
import java.util.Scanner;
import java.text.DecimalFormat;
public class AssignmentThree {

public static void main(String[]args) {

    Scanner scan = new Scanner(System.in);

    System.out.print("Enter the length of Edge 1: ");
    double edge1 = scan.nextDouble();
    System.out.print("Enter the length of Edge 2: ");
    double edge2 = scan.nextDouble();
    System.out.print("Enter the length of Edge 3: ");
    double edge3 = scan.nextDouble();
    scan.close();

    DecimalFormat Dec = new DecimalFormat("###,###,##0.00");
    if(isValid (edge1, edge2, edge3) == true) {
        System.out.println("The area of the triangle is " + Dec.format(area(edge1, edge2, edge3)));
    }
    if(isValid (edge1, edge2, edge3) == false) {
        System.out.println("This is not a valid traingle");
    }
}   

public static boolean isValid(double side1, double side2, double side3) {

    //testing to see if the triangle is real
    if(side1+side2>side3 || side1+side3>side2 || side2+side3>side1) {
        return true;
    } else {
        return false;
    }
} 
```

我不确定问题是否出在我的方法中，但是当程序运行时，它只是打印该区域，而不是它是否有效。

# css - 底部页脚代码

> ID：15379207
> 
> 赞同：3
> 
> 时间：2013-03-13T07:23:09.773
> 
> 标签：css, html, footer

我在使页脚工作时遇到了一个小问题，因为 div 并没有去我想让它们去的地方。

想象一下，图片在页面底部，在页脚处，你如何获得那里的链接？它将分布在页面的整个底部，我想知道你们是否可以帮助我，因为我正在制作的这个网站必须看起来很棒。

![在此处输入图像描述](../Images/aba405e66e2584f634a2dd437f49391a.png)

这是代码：

```
@charset "utf-8";
/* CSS Document */

#nav {
font-family:Consolas, "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", Monaco, "Courier New", monospace;
width: 600px;
list-style: none;
margin: 0 auto;

}
#nav li {
float: left;
}
#nav li a {
padding: 8px 15px;
text-decoration: none;
color:white;
display:inline-block;
font-size:18px;
}
#nav li a:hover {
color:black;
}
body {
margin: 0;
padding: 0;
}

a {
font-family:Consolas, "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", Monaco, "Courier New", monospace;
color:#C7C7C7;
text-decoration:none;
}

a:hover {
font-family:Consolas, "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", Monaco, "Courier New", monospace;
color:#009ACD;
text-decoration:none;
}

h1 {
font-family:Consolas, "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", Monaco, "Courier New", monospace;
border-style:solid;
border-color:black;
color:white;
width:900px;
left:50%;
right:50%;
margin-top: 0;
font-size:36px;
}

#header {
margin-top: 0;
width:100%;
height:150px;
background-color:#09F;
}

font {
font-family:Consolas, "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", Monaco, "Courier New", monospace;
} 
```

**[小提琴](http://jsfiddle.net/cYMCc/1/)**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T17:30:38.930

```
#footer .nav li:nth-child(even) {
    top: 70px; /* eg. */
} 
```

或者

```
#footer .nav li:nth-child(2n+0) {
    top: 70px; /* eg. */
} 
```

别忘了放

```
#footer .nav li {
    position: relative;
} 
```

### 更新

添加了一些代码来证明 li 元素的合理性。请参阅 jsfiddle 链接。然后您可以根据需要设置导航样式。[关联](http://jsfiddle.net/BRANIS/Nxdjz/)

全屏查看[全屏](http://jsfiddle.net/BRANIS/Nxdjz/embedded/result/)

# c++ - 无法调整作为类成员变量的 c++ std::vector 的大小

> ID：15379215
> 
> 赞同：1
> 
> 时间：2013-03-13T07:23:37.457
> 
> 标签：c++, vector, segmentation-fault, stdvector, c++-standard-library

代码（简化版）

（部分）类定义：

```
struct foo {
    std::vector<int> data;
    foo(int a=0):data(a+1,0) {}
    void resize(int a) {
        data.resize(a+1,0);
    }
} 
```

部分是因为`a+1`我希望`data`1-indexed 以简化一些操作。

在全球范围内：

```
int k;
foo bar; 
```

在`main`功能上：

```
std::cin>>k;
bar.resize(k); 
```

稍后在`main`函数中，调用另一个`foo`访问 的成员函数 (in ) `data`，导致`segmentation fault`( `segsegv`)。

经过调试，我发现`data.size()`返回0。这是非常意外的。

经过很长时间的调试，我非常有信心问题出在`resize`ing 上，应该不会造成任何问题（毕竟它来自标准库！）。

PS 不要指责我将任何东西放在全球范围内或向班级成员提供公共访问权限。我不是在写任何“真正的”程序，因为我只是在为编程比赛练习。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T07:34:35.697

> 经过很长时间的调试，我很有信心问题出在`resize`

几乎可以肯定的是：

1.  这个问题与`resize()`.
2.  您在某处有与内存相关的错误（双重删除、未初始化/悬空指针、缓冲区溢出等）。

与内存相关的错误的问题是，在错误代码造成损害之前，它们可能完全没有症状。

我的建议是在[`valgrind`](http://valgrind.org/)（或至少向我们展示一个不适合您的[SSCCE ）下运行您的程序。](http://sscce.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:46:56.587

以下对我来说很好

```
#include <vector>
#include <cstdlib>

struct foo {
  std::vector<int> data;
  explicit foo(int a=0) : data(a+1, 0) {}
  void resize(int a) {
    data.resize(a+1, 0);
  }
};

int main() {
  foo test_foo(1);

  for (size_t i = 0; i < 1000; ++i) {
    int a = std::rand() % 65536;
    test_foo.resize(a);
    if (test_foo.data.size() != a + 1)
      return 1;
  }

  return 0;
} 
```

# parsing - 日志解析器未读取 IIS 日志中包含的新字段

> ID：15379216
> 
> 赞同：0
> 
> 时间：2013-03-13T07:23:42.757
> 
> 标签：parsing, iis, logging, logparser

我使用日志解析器 2.2 读取 IIS 日志并将日志复制到数据库中。最初 IIS 日志具有默认字段，我能够将日志复制到数据库。现在我在 IIS 日志中添加了一个字段，但日志解析器不返回新列的详细信息。任何人都可以帮助使日志解析器与旧日志文件一起读取附加字段吗？

以下查询用于读取 IIS 日志。

```
select * from C:\inetpub\logs\LogFiles\W3SVC3\*.* 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T02:14:39.410

如果它是新添加的，那么我认为日志解析器在它找到的前 50 个条目（可能是全部或每个日志）之后停止检查新定义的字段尝试仅使用其中包含新字段的 IIS 日志来确定它是否正在工作. 此外，请确保前 3 行反映了`# Fields: stuff`您要查找的全部内容。

IE：

`select * from C:\inetpub\logs\LogFiles\W3SVC3\todays.log`

# c++ - 结构没有在c ++中命名类型

> ID：15379218
> 
> 赞同：15
> 
> 时间：2013-03-13T07:23:44.290
> 
> 标签：c++, struct, compilation

返回类型为结构时出现问题

```
Example.h

class Example {
private:
    typedef struct connection_header {
        string url;
        string method;
    };

    static connection_header get_connection_header();
};

Example.cpp
connection_header Example::get_connection_header() {
    return NULL;
} 
```

我正进入（状态`'connection_header' does not name a type`

我可以知道为什么会出现这个错误

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-13T07:25:27.540

您正在使用`typedef`而不给类型命名。只需删除`typedef`，这里不需要它：

```
struct connection_header {
    string url;
    string method;
}; 
```

接下来，`connection_header`在类内部声明`Example`，因此当它是返回类型时，您需要在实现中完全限定其名称：

```
Example::connection_header Example::get_connection_header() 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T07:25:39.133

首先，在 C++（但不是 C）中，每个`struct`or`class`命名一个类型。所以如果你声明 a `struct connection_header`，你也会得到一个`connection_header`类型，所以你可以稍后声明`connection_header var`一些变量。

然后，`typedef`在 C 和 C++ 中都需要类型和名称。例如：

```
 typedef long my_number_type; 
```

声明`my_number_type`为同义词`long`

所以正如其他人指出的那样，放弃`typedef`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-13T07:26:09.177

`cpp`在文件中尝试以下代码，在`Example::`之前添加`connection_header`：

```
Example::connection_header Example::get_connection_header() {
    return NULL;
} 
```

`connection_header`是在里面定义的，`Example`所以你应该给它它的定义范围。

此外，该关键字`typedef`在 C++ 中将被忽略。你可以省略它

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-04-06T21:41:35.697

除了其他人的答案，我建议您不要嵌套数据结构的定义。`struct`为`connection_header`上面创建一个单独的外部`Example` `class`。

```
Example.h

struct ConnectionHeader {
    string url;
    string method;
};

class Example {
private:
    ConnectionHeader connection_header;
    static ConnectionHeader get_connection_header();
}; 
```

这更容易调试，提供更好的可重用性，并且更容易预测`auto`. 否则，只需 make`url`和`method`的成员`Example`并`get_connection_header()`就地更新这些值，返回`void`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-11T13:07:31.250

还有一个典型的问题，就是你使用了一个尚未声明的类型。如果您使用类型，请在使用它们之前声明它们。

# ruby-on-rails - 在 Rails 3 中为 form_for 传递非 AR

> ID：15379219
> 
> 赞同：0
> 
> 时间：2013-03-13T07:23:44.740
> 
> 标签：ruby-on-rails

我想在登录表单中执行此操作，
我只想在用户提交数据时保留数据，但这是无效的。

下面的代码：

在控制器中：

```
def login

    if request.request_method == "POST"
        @session = params[:session]
    end

    render "login",
           :layout => "admin_login"
end 
```

和`admin_login`模板：

```
= form_for :session, :url => { :action => "login", :controller => "administrator" }, :html => { :class => "form-horizontal" } do |f|

  %div.control-group
    #{f.label :token, "User / Email", :class => "control-label" }
    %div.controls
      #{f.text_field :token}

  %div.control-group
    #{f.label :password, "Password", :class => "control-label" }
    %div.controls
      #{f.password_field :password} 
```

但是当我提交表单时它会抛出异常，说`undefined method 'token'`

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:28:34.613

如果您不处理资源，则应使用`form_tag`

```
= form_tag { action: 'login', controller: 'administrator' }, class: 'form-horizontal' do
  %div.control-group
    %label.control-label User / Email

    %div.controls
      = text_field_tag :token

  %div.control-group
    %label.control-label Password

    %div.controls
      = password_field_tag :password 
```

# java - 无法在 Java Swing 中访问外部 Jar 的公共变量

> ID：15379221
> 
> 赞同：0
> 
> 时间：2013-03-13T07:23:46.513
> 
> 标签：java, jar, static-variables

我在 A 类中有一个公共静态变量，这个类在 Jar A 中定义。我尝试在 Jar B 中的 B 类中调用这个变量。Jar A 的源代码作为相对路径附加到 jar B。在每件事之前工作正常，我可以在 Jar B 的 B 类中访问 Jar A 的 A 类的公共变量。但是现在在 Jar B 的 B 类中看不到新定义的变量。我已经清理并重建了 jar A 几次并粘贴到 jar A 的 lib 中，但对我没有任何作用。提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T10:42:49.087

我找到了解决问题的方法，即我将 jar A 粘贴到 Jar B 的 dist 文件夹的 lib 中，而粘贴到 Jar B 的主库解决了我的问题。

# r - R：不同级别的总和

> ID：15379224
> 
> 赞同：1
> 
> 时间：2013-03-13T07:24:00.130
> 
> 标签：r, sum, aggregate, levels

我有一个数据集 X 为：

```
customer_id event_type tot_count
931 1 5
231 2 6
231 1 3
333 3 9
444 1 1
931 3 3
333 1 21
444 2 43 
```

我需要一个总和`customer_id`。`event_type`这是 SQL 中的 1 行代码：

```
select customer_id, event_type, sum(tot_count) from X group by 1,2 
```

我需要在 R 中进行相同的操作。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T07:28:01.453

您可以使用以下`aggregate`功能：

```
aggregate(tot_count ~ customer_id + event_type, X, sum)

 customer_id event_type tot_count
1         231          1         3
2         333          1        21
3         444          1         1
4         931          1         5
5         231          2         6
6         444          2        43
7         333          3         9
8         931          3         3 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T07:33:00.280

为了好玩，这里有更多选择：

既然你知道 SQL，`sqldf`

```
> sqldf("select customer_id, event_type, sum(tot_count) from mydf group by 1,2")
  customer_id event_type sum(tot_count)
1         231          1              3
2         231          2              6
3         333          1             21
4         333          3              9
5         444          1              1
6         444          2             43
7         931          1              5
8         931          3              3 
```

如果你有很多数据，`data.table`

```
> library(data.table)
> DT <- data.table(mydf, key = c("customer_id", "event_type"))
> DT[, sum(tot_count), by = key(DT)]
   customer_id event_type V1
1:         231          1  3
2:         231          2  6
3:         333          1 21
4:         333          3  9
5:         444          1  1
6:         444          2 43
7:         931          1  5
8:         931          3  3 
```

# mysql - 行大小太大。使用的表类型的最大行大小（不包括 BLOB）为 8126。您必须将某些列更改为 TEXT 或 BLOB

> ID：15379226
> 
> 赞同：0
> 
> 时间：2013-03-13T07:24:09.107
> 
> 标签：mysql

我的表结构：

```
CREATE TABLE `goal_review` (
    `id` BIGINT(25) NOT NULL AUTO_INCREMENT,
    `user_review_info` BIGINT(25) UNSIGNED NOT NULL DEFAULT '0',
    `SKILL_COMPETENCY_MID_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `SKILL_COMPETENCY_MID_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `SKILL_COMPETENCY_ANNUAL_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `SKILL_COMPETENCY_ANNUAL_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `SKILL_COMPETENCY_OBJECTIVE` LONGTEXT NULL,
    `SKILL_COMPETENCY_CONDITION` LONGTEXT NULL,
    `SKILL_COMPETENCY_MEASURE` LONGTEXT NULL,
    `SKILL_COMPETENCY_TIMING` LONGTEXT NULL,
    `SKILL_COMPETENCY_TYPE` LONGTEXT NULL,
    `SKILL_COMPETENCY_WEIGHTAGE` LONGTEXT NULL,
    `SKILL_COMPETENCY_ANNUAL_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `SKILL_COMPETENCY_MID_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `SKILL_COMPETENCY_ANNUAL_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `SKILL_COMPETENCY_MID_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `PROJECT_DELIVERY_MID_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `PROJECT_DELIVERY_MID_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `PROJECT_DELIVERY_ANNUAL_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `PROJECT_DELIVERY_ANNUAL_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `PROJECT_DELIVERY_OBJECTIVE` LONGTEXT NULL,
    `PROJECT_DELIVERY_CONDITION` LONGTEXT NULL,
    `PROJECT_DELIVERY_MEASURE` LONGTEXT NULL,
    `PROJECT_DELIVERY_TIMING` LONGTEXT NULL,
    `PROJECT_DELIVERY_TYPE` LONGTEXT NULL,
    `PROJECT_DELIVERY_WEIGHTAGE` LONGTEXT NULL,
    `PROJECT_DELIVERY_ANNUAL_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `PROJECT_DELIVERY_MID_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `PROJECT_DELIVERY_ANNUAL_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `PROJECT_DELIVERY_MID_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `BUSINESS_MID_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `BUSINESS_MID_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `BUSINESS_ANNUAL_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `BUSINESS_ANNUAL_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `BUSINESS_OBJECTIVE` LONGTEXT NULL,
    `BUSINESS_CONDITION` LONGTEXT NULL,
    `BUSINESS_MEASURE` LONGTEXT NULL,
    `BUSINESS_TIMING` LONGTEXT NULL,
    `BUSINESS_TYPE` LONGTEXT NULL,
    `BUSINESS_WEIGHTAGE` LONGTEXT NULL,
    `BUSINESS_ANNUAL_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `BUSINESS_MID_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `BUSINESS_ANNUAL_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `BUSINESS_MID_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `COMPLIANCE_MID_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `COMPLIANCE_MID_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `COMPLIANCE_ANNUAL_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `COMPLIANCE_ANNUAL_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `COMPLIANCE_OBJECTIVE` LONGTEXT NULL,
    `COMPLIANCE_CONDITION` LONGTEXT NULL,
    `COMPLIANCE_MEASURE` LONGTEXT NULL,
    `COMPLIANCE_TIMING` LONGTEXT NULL,
    `COMPLIANCE_TYPE` LONGTEXT NULL,
    `COMPLIANCE_WEIGHTAGE` LONGTEXT NULL,
    `COMPLIANCE_ANNUAL_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `COMPLIANCE_MID_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `COMPLIANCE_ANNUAL_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `COMPLIANCE_MID_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `LONG_TERM_MID_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `LONG_TERM_MID_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `LONG_TERM_ANNUAL_REVIEW_SELF_COMMENTS` LONGTEXT NULL,
    `LONG_TERM_ANNUAL_REVIEW_MANAGER_COMMENTS` LONGTEXT NULL,
    `LONG_TERM_OBJECTIVE` LONGTEXT NULL,
    `LONG_TERM_CONDITION` LONGTEXT NULL,
    `LONG_TERM_MEASURE` LONGTEXT NULL,
    `LONG_TERM_TIMING` LONGTEXT NULL,
    `LONG_TERM_TYPE` LONGTEXT NULL,
    `LONG_TERM_WEIGHTAGE` LONGTEXT NULL,
    `LONG_TERM_ANNUAL_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `LONG_TERM_MID_REVIEW_SELF_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `LONG_TERM_ANNUAL_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    `LONG_TERM_MID_REVIEW_MANAGER_RATING` INT(10) UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    INDEX `FK_goal_review_user_review_info` (`user_review_info`),
    INDEX `FK_GRSKILL_COMPETENCY_ANNUAL_REVIEW_MANAGER_RATING` (`SKILL_COMPETENCY_ANNUAL_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRSKILL_COMPETENCY_MID_REVIEW_MANAGER_RATING` (`SKILL_COMPETENCY_MID_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRSKILL_COMPETENCY_ANNUAL_REVIEW_SELF_RATING` (`SKILL_COMPETENCY_ANNUAL_REVIEW_SELF_RATING`),
    INDEX `FK_GRSKILL_COMPETENCY_MID_REVIEW_SELF_RATING` (`SKILL_COMPETENCY_MID_REVIEW_SELF_RATING`),
    INDEX `FK_GRPROJECT_DELIVERY_ANNUAL_REVIEW_MANAGER_RATING` (`PROJECT_DELIVERY_ANNUAL_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRPROJECT_DELIVERY_MID_REVIEW_MANAGER_RATING` (`PROJECT_DELIVERY_MID_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRPROJECT_DELIVERY_ANNUAL_REVIEW_SELF_RATING` (`PROJECT_DELIVERY_ANNUAL_REVIEW_SELF_RATING`),
    INDEX `FK_GRPROJECT_DELIVERY_MID_REVIEW_SELF_RATING` (`PROJECT_DELIVERY_MID_REVIEW_SELF_RATING`),
    INDEX `FK_GRBUSINESS_ANNUAL_REVIEW_MANAGER_RATING` (`BUSINESS_ANNUAL_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRBUSINESS_MID_REVIEW_MANAGER_RATING` (`BUSINESS_MID_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRBUSINESS_ANNUAL_REVIEW_SELF_RATING` (`BUSINESS_ANNUAL_REVIEW_SELF_RATING`),
    INDEX `FK_GRBUSINESS_MID_REVIEW_SELF_RATING` (`BUSINESS_MID_REVIEW_SELF_RATING`),
    INDEX `FK_GRCOMPLIANCE_ANNUAL_REVIEW_MANAGER_RATING` (`COMPLIANCE_ANNUAL_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRCOMPLIANCE_MID_REVIEW_MANAGER_RATING` (`COMPLIANCE_MID_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRCOMPLIANCE_ANNUAL_REVIEW_SELF_RATING` (`COMPLIANCE_ANNUAL_REVIEW_SELF_RATING`),
    INDEX `FK_GRCOMPLIANCE_MID_REVIEW_SELF_RATING` (`COMPLIANCE_MID_REVIEW_SELF_RATING`),
    INDEX `FK_GRLONG_TERM_ANNUAL_REVIEW_MANAGER_RATING` (`LONG_TERM_ANNUAL_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRLONG_TERM_MID_REVIEW_MANAGER_RATING` (`LONG_TERM_MID_REVIEW_MANAGER_RATING`),
    INDEX `FK_GRLONG_TERM_ANNUAL_REVIEW_SELF_RATING` (`LONG_TERM_ANNUAL_REVIEW_SELF_RATING`),
    INDEX `FK_GRLONG_TERM_MID_REVIEW_SELF_RATING` (`LONG_TERM_MID_REVIEW_SELF_RATING`),
    CONSTRAINT `FK_GRLONG_TERM_ANNUAL_REVIEW_MANAGER_RATING` FOREIGN KEY (`LONG_TERM_ANNUAL_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRLONG_TERM_MID_REVIEW_MANAGER_RATING` FOREIGN KEY (`LONG_TERM_MID_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRLONG_TERM_ANNUAL_REVIEW_SELF_RATING` FOREIGN KEY (`LONG_TERM_ANNUAL_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRLONG_TERM_MID_REVIEW_SELF_RATING` FOREIGN KEY (`LONG_TERM_MID_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_goal_review_user_review_info` FOREIGN KEY (`user_review_info`) REFERENCES `user_review_info` (`ID`),
    CONSTRAINT `FK_GRBUSINESS_ANNUAL_REVIEW_MANAGER_RATING` FOREIGN KEY (`BUSINESS_ANNUAL_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRBUSINESS_ANNUAL_REVIEW_SELF_RATING` FOREIGN KEY (`BUSINESS_ANNUAL_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRBUSINESS_MID_REVIEW_MANAGER_RATING` FOREIGN KEY (`BUSINESS_MID_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRBUSINESS_MID_REVIEW_SELF_RATING` FOREIGN KEY (`BUSINESS_MID_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRCOMPLIANCE_ANNUAL_REVIEW_MANAGER_RATING` FOREIGN KEY (`COMPLIANCE_ANNUAL_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRCOMPLIANCE_ANNUAL_REVIEW_SELF_RATING` FOREIGN KEY (`COMPLIANCE_ANNUAL_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRCOMPLIANCE_MID_REVIEW_MANAGER_RATING` FOREIGN KEY (`COMPLIANCE_MID_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRCOMPLIANCE_MID_REVIEW_SELF_RATING` FOREIGN KEY (`COMPLIANCE_MID_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRPROJECT_DELIVERY_ANNUAL_REVIEW_MANAGER_RATING` FOREIGN KEY (`PROJECT_DELIVERY_ANNUAL_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRPROJECT_DELIVERY_ANNUAL_REVIEW_SELF_RATING` FOREIGN KEY (`PROJECT_DELIVERY_ANNUAL_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRPROJECT_DELIVERY_MID_REVIEW_MANAGER_RATING` FOREIGN KEY (`PROJECT_DELIVERY_MID_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRPROJECT_DELIVERY_MID_REVIEW_SELF_RATING` FOREIGN KEY (`PROJECT_DELIVERY_MID_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRSKILL_COMPETENCY_ANNUAL_REVIEW_MANAGER_RATING` FOREIGN KEY (`SKILL_COMPETENCY_ANNUAL_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRSKILL_COMPETENCY_ANNUAL_REVIEW_SELF_RATING` FOREIGN KEY (`SKILL_COMPETENCY_ANNUAL_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRSKILL_COMPETENCY_MID_REVIEW_MANAGER_RATING` FOREIGN KEY (`SKILL_COMPETENCY_MID_REVIEW_MANAGER_RATING`) REFERENCES `appraisal_rating` (`ID`),
    CONSTRAINT `FK_GRSKILL_COMPETENCY_MID_REVIEW_SELF_RATING` FOREIGN KEY (`SKILL_COMPETENCY_MID_REVIEW_SELF_RATING`) REFERENCES `appraisal_rating` (`ID`)
)
COLLATE='latin1_swedish_ci'
ENGINE=InnoDB; 
```

我可以插入最少的数据，但我什至无法为`LONGTEXT`字段插入 500 个字符。

我尝试了`BLOB`s，而`TEXT`不是`LONG TEXT`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:33:47.213

Blob 用于以二进制格式存储数据，而 TEXT 用于存储大字符串。

BLOB 值被视为二进制字符串。它们没有字符集，排序和比较基于列值中字节的数值。

TEXT 值被视为非二进制字符串（字符串）。它们有一个字符集，并且根据字符集的排序规则对值进行排序和比较。

文本格式的消息几乎总是应存储为 TEXT。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:08:54.767

**嗨朋友们**，错误是我自己。mysql 必须为每一列写入文件 longtext 或 text 这个文件信息只存储在 table 中。这个文件需要唯一的名字这个名字是由我们的输入生成的。我尝试为所有列输入相同的输入。所以 mysql 引擎从我的输入中获取该索引太长（对于唯一文件名），这就是为什么它需要更多的行大小超过 65,535 字节。我尝试输入 mysql 引擎没有错误的不同输入。如果我的想法有误，请
再次给 Jeevan Patil 你的答案，以便快速回复

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-04-13T11:54:10.410

这可能是一个更复杂的问题，但出于开发目的，只需添加`my.cnf/my.ini`：

```
[mysqld]
#...
innodb_strict_mode = 0 
```

# email - 仅在 android 中显示带有 EMAIL 地址的联系人

> ID：15379228
> 
> 赞同：1
> 
> 时间：2013-03-13T07:24:10.957
> 
> 标签：email, contacts, android-contacts, contact, contactscontract

我正在尝试构建一个应用程序，其中必须向用户显示仅带有电子邮件地址的电话联系人。当用户单击我的应用程序中的编辑框时，在用户选择后，必须显示仅带有电子邮件地址的电话联系人联系人，该联系人的电子邮件地址必须发送回我的应用程序，我会在我的应用程序中进一步使用它。

//这是我在 onActivityResult() 方法下的代码

```
 try 
            {

                Uri result = data.getData();  
                String id = result.getLastPathSegment();  
                cursor = getContentResolver().query(Email.CONTENT_URI, null, Email.CONTACT_ID + "=?", new String[] { id }, null);  
                emailIdx = cursor.getColumnIndex(Email.DATA);

                if (cursor.moveToFirst()) 
                {
                    while (cursor.isAfterLast() == false)
                    {
                        emailid = cursor.getString(emailIdx);

                        allids.add(emailid);
                        cursor.moveToNext();
                    }
                } 

                else 
                {
                    //no results actions
                }  
            } 
```

// 这是我传递的意图。

```
Intent intent = new Intent(Intent.ACTION_PICK,ContactsContract.Contacts.CONTENT_URI);
                intent.setType(ContactsContract.CommonDataKinds.Email.ADDRESS);

                  startActivityForResult(intent, 1); 
```

// 清单权限。

```
 <uses-permission android:name="android.permission.READ_CONTACTS" />
            <uses-permission android:name="android.permission.GET_ACCOUNTS" />

            <intent-filter>

            <action android:name="android.intent.action.PICK" />
            <category android:name="android.intent.category.DEFAULT" />
            <data android:mimeType="vnd.android.cursor.dir/email_v2" />
            <data android:mimeType="vnd.android.cursor.item/email_v2" />

            </intent-filter> 
```

当我尝试运行我的应用程序时出现以下错误。

```
 android.content.ActivityNotFoundException: No Activity found to handle Intent {act=android.intent.action.PICK typ=data1 } 
```

我不确定可能是什么问题，我是否在 manifest.xml 中遗漏了什么？请帮忙。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-06-03T01:57:03.687

这现在已经很老了，但是如果我正在寻找它，我相信其他人也是如此，所以这是我的解决方案。Intent 的启动方式如下：

```
 Intent intent = new Intent(Intent.ACTION_PICK);
    intent.setType(ContactsContract.CommonDataKinds.Email.CONTENT_TYPE);
    startActivityForResult(intent, RC_GET_EMAIL); 
```

然后从选择的联系人那里获取电子邮件地址：

```
@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);

    if(requestCode == RC_GET_EMAIL) {
        if(resultCode == Activity.RESULT_OK) {
            Uri contactUri = data.getData();
            String[] projection = new String[]{ContactsContract.CommonDataKinds.Email.DATA};
            Cursor cursor = getContext().getContentResolver().query(contactUri, projection, null, null, null);
            if(cursor != null) { 
                if(cursor.moveToFirst()) {
                    int emailIndex = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA);
                    String email = cursor.getString(emailIndex);
                    // do something with email
                }
                cursor.close();
            }
        }
    }
} 
```

请记住，对于 Marshmallow 及更高版本，您需要手动请求 READ_CONTACTS 权限才能执行任何有意义的操作。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-22T11:58:44.800

将下面的代码放在监听器中，希望对您有所帮助。

**代码**

```
Intent intent = new Intent(Intent.ACTION_PICK,Contacts.CONTENT_URI);
startActivityForResult(intent, PICK_CONTACT); 
```

# c - 4位十进制到16位二进制转换码

> ID：15379245
> 
> 赞同：2
> 
> 时间：2013-03-13T07:25:09.877
> 
> 标签：c, pointers, bit-manipulation

```
#include <stdio.h>

int main()
{
  char str[17];
  getBin(3334, str);
  printf("%s\n", str);
  return 0;
}

void getBin(int num, char *str)
{
  *(str+16) = '\0';
  int mask = 0x8000 << 1;
  while(mask >>= 1)
    *str++ = !!(mask & num) + '0';
} 
```

我真的不明白while循环是如何工作的。有人可以简单地解释它在做什么吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T07:33:49.690

是的，当然。所以`0x8000`= 8 * 16^3 = 2^15 。现在，如果您再将其向左移动一次，您将得到 2^16。

while 循环不断地对所有值进行掩码：

*   2^15
*   2^14
*   2^13 ...

因此，while 循环将 mask 视为常规整数中 2 的幂的迭代器。

现在做`!!(mask & num)`什么？如果掩码指示的位被翻转，则返回 1，如果是 ，则返回`on`0 `off`。

表达式 `!!(mask & num)`返回 0 或 1 并添加到它的字符代码中`0`，返回字符代码 for`0`或 for `1`。

例如 if`num=12`和`mask=4`then `!!(4 & 12) = !!(100 & 1100) = !!(100)= !0 = 1`。现在，如果你添加`1 + '0'`你会得到什么？你得到`1+48=49`哪个是`1`.

将`*str++ = ..`值分配给字符串中的特定位置，然后递增指针以指向下一个字符。

问题是：是否为`str`空终止？

我认为该行`*(str+16) = '\0';`负责空终止，因为它预防性地设置了空终止字节。

所以我想这是对你上面写的那段代码的解释。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T15:18:55.267

```
void getBin(int num, char *str) 
```

`getBin()`需要一个数字 ( `num`) 和一个要写入的字符串 ( `str`)

```
 *(str+16) = '\0'; 
```

的最后一个字符`str`设置为 NULL 终止符

```
 int mask = 0x8000 << 1; 
```

我们创建一个名为的变量`mask`并将其设置为 0x8000 左移 1，即 0x10000。为什么？在二进制中可能更容易看到：

0x8000 [16] => 1000 0000 0000 0000 [2]（然后将所有内容向左移动 1 个位置）
1 0000 0000 0000 0000 [2] => 0x10000 [16]

```
 while(mask >>= 1) 
```

当`mask`大于 0 时，我们右移 1 位，并将结果保存回`mask`. （`>>=`意味着右移并保存）。这意味着值将是：

> 0x10000 [16] == 1 000 0000 0000 0000 [2] == 65536 [10]
> 0x8000 [16] == 1000 0000 0000 0000 [2] == 32768 [10]
> 0x4000 [16] == 100 0000 0000 0000 [2] == 16384 [10]
> 0x2000 [16] == 10 0000 0000 0000 [2] = = 8192 [10]
> ...
> 0x4 [16] == 100 [2] == 4 [10]
> 0x2 [16] == 10 [2] == 2 [10]
> 0x1 [16] == 1 [2] == 1 [10]

最后在每个迭代中：

```
 *str++ = !!(mask & num) + '0'; 
```

此代码将 中的每个数字`num`与设置的 1 位进行“`mask`与”运算并检查结果是否是，`== 0`然后将字符的值相加`0`并将最终的 ASCII“数字”存储到字符串中，然后递增字符串。

让我们一步一步地分解：

```
mask & num // num is 3334    = 0011 0011 0011 0100
           // mask starts at = 1000 0000 0000 0000 
```

所以在第一次迭代中， 的`(mask & num)`值为`0`。

`!!(x)`就像说：`(x == 0 ? 0 : 1)`所以在第一次迭代中，我们有一个`0`so`!!(0)`给我们 0，我们想将它存储到我们的字符串中，但我们希望它是一个 ascii 字符。0 的 ASCII 字符是 0x30 [16]所以我们将 0x30 添加到 0 并得到 0x30（或`'0'`）然后

```
*str++ = '0'; 
```

我们取消引用`str`并存储字符 0，然后我们有一个后增量移动到字符串中的下一个字符。

# c# - 在 C# 中懒惰地转换 IReadOnlyList

> ID：15379253
> 
> 赞同：3
> 
> 时间：2013-03-13T07:25:43.373
> 
> 标签：c#, list

我希望能够做这样的事情来设置网格数据结构。

```
IReadOnlyList<Point> points;
IReadOnlyList<IReadOnlyList<int>> triangles; 
```

其中三角形是点列表的索引。给定三角形 ''ti'' 的索引，我们可以很容易地找到这些点

```
IEnumerable<Point> points = triangles[ti].Select(pi=>points[pi]) 
```

但是我希望能够定义一个方便的结构

```
IReadOnlyList<IReadOnlyList<Point>> trianglesAsPoints; 
```

所以我可以

```
IEnumerable<Point> points = triangles[ti] 
```

这样做的明显方法是创建一个类似 linq 的选择器

```
IReadOnlyList<T> Select( this IReadOnlyList<U> This
                             , Func<U,T> selector) 
```

它返回一个实例，其类覆盖以下方法并调用选择器

```
public interface IReadOnlyList<out T> : IReadOnlyCollection<T>, IEnumerable<T>, IEnumerable
{
    // Summary:
    //     Gets the element at the specified index in the read-only list.
    //
    // Parameters:
    //   index:
    //     The zero-based index of the element to get.
    //
    // Returns:
    //     The element at the specified index in the read-only list.
    T this[int index] { get; }
} 
```

这种模式的标准库或 nuget 中是否存在这样的工厂？请注意，我不希望 IEnumerable 作为结果，因为我会失去索引能力和 Count 属性，我只想懒惰地转换值，这意味着**不** 预先将所有值复制到新的列表实例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:29:18.860

我不*相信*框架中有任何东西可以做到这一点，不。自己实现显然相当容易，但我相信你必须这样做。完全有可能有 3rd 方库可以做到这一点，但`IReadOnlyCollection`仅在 .NET 4.5 中，它的可能性低于接口已经存在一段时间的可能性。

我建议将其称为除此之外的其他`Select`名称-我会使用`ProjectView`或类似的名称。当然，这意味着它不适用于 LINQ 查询表达式，但任何阅读代码的人都会更清楚它*不仅仅是*`Enumerable.Select`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:49:14.987

这是该问题的手卷解决方案

```
public static class CollectionMixins
{
    private class ReadOnlyListProjection<U,T> : IReadOnlyList<T>
    {

        public Func<U,T> Selector { get; private set; }
        public IList<U> List { get; private set; }

        public ReadOnlyListProjection(IList<U> list, Func<U, T> selector)
        {
            List = list;
            Selector = selector;
        }

        public T this[int index]
        {
            get { return Selector(List[index]);  }
        }

        public int Count
        {
            get { return List.Count; }
        }

        public IEnumerator<T> GetEnumerator()
        {
            return List.Select(Selector).GetEnumerator();
        }

        System.Collections.IEnumerator System.Collections.IEnumerable.GetEnumerator()
        {
            return List.Select(Selector).GetEnumerator();
        }
    }

    public static IReadOnlyList<T> ProjectReadOnly<U, T>(this IList<U> This, Func<U, T> fn)
    {
        return new ReadOnlyListProjection<U, T>(This, fn);
    }
} 
```

所以我现在可以做

```
IList<int> foo = new List<int>{0,1,2};
IReadOnlyList<string> bar = foo.ProjectReadOnly( x=>x.ToString() ); 
```

# php - 当复选框数组中只有一个元素时，document.friendform1.friends[i].checked 不起作用

> ID：15379256
> 
> 赞同：1
> 
> 时间：2013-03-13T07:26:02.393
> 
> 标签：php, javascript, html

当复选框数组中只有一个元素时，document.friendform1.friends[i].checked 不起作用。如果复选框数组中有多个元素，则它工作正常

我的 html 和 php 代码是

```
 $x=0;
foreach($result as $row)
{
    if($x==0)
    {?>
        <div class="invite-friends-con">
    <?php 
    }else{?>
        <div class="invite-friends-con" style="margin-left:70px;">
    <?php 
    }?>
    <div class="invite-friends-con-img">
       <img src="<?php echo base_url();?>Profile_images/<?php echo $row->vchPicture?>" width="48" height="39" align="absmiddle" />
    </div>
    <span><?php echo $row->vchFirstName?></span><input type="checkbox" name="friends[]"  style="margin-top:10px" value="<?php if($row->intFriendID==$this->session->userdata('user_id')){ echo $row->intMemberID;}else{ echo $row->intFriendID;}?>" id="friends"  />
    <input type="hidden" name="frnd[]" id="frnd" value="<?php echo $row->vchFirstName?>" />
    <?php if($x==1){$x=0;}else{$x++;}?>
<?php 
} ?> 
```

和javascript代码是：

```
 function addalfriend()
 {
   var str='';
   var str1='';

    var len=document.friendform1.friends.length;
    for(i=0;i<len;i++)
    {
      if(document.friendform1.friends[i].checked==true)
       {
         if(str=='')
         {
           str=document.friendform1.friends[i].value;
           str1=document.friendform1.frnd[i].value;
         }
         else
         {
           str=str+","+document.friendform1.friends[i].value;
           str1=str1+","+document.friendform1.frnd[i].value;
         }
       }
    }
        document.getElementById('invite_1').value=str;
        if(str!='' && str1!=''){
            document.getElementById('invited').style.display="block";
        }
        else{
            document.getElementById('invited').style.display="none";
        }
        document.getElementById('invited').value = str1;
        document.getElementById("low-high-div").style.display="none";
        document.getElementById("events-input-bg2").value="";
        document.getElementById("events-input-bg3").value="";
        closemessage1();
        return false;

 } 
```

所以请有人让我知道我的错误。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:40:15.760

当有一项返回时，则不重新调整数组元素对象返回，因此您需要以不同的方式访问它

```
var len=document.friendform1.friends.length;
if(len>1)
for(i=0;i<len;i++)
{
  if(document.friendform1.friends[i].checked==true)
   {
     if(str=='')
     {
       str=document.friendform1.friends[i].value;
       str1=document.friendform1.frnd[i].value;
     }
.
.
.
}
else
{
  if(document.friendform1.friends.checked==true)
   {
     if(str=='')
     {
       str=document.friendform1.friends.value;
       str1=document.friendform1.frnd.value;
     }
   }
.
.
.

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:30:26.497

您可以简单地尝试一下：

```
var len=document.friendform1['friends[]'].length || 1;
for(i=0;i<len;i++)
{
  ...
    ...
   ...
}
...
...
... 
```

阅读[为什么在以不同方式使用它时无法获得复选框长度？](https://stackoverflow.com/questions/15380030/why-i-can-not-get-checkbox-length-while-using-it-differently?noredirect=1#15380056)

# python - 使用 Python 获取列表中的每个元素

> ID：15379257
> 
> 赞同：-2
> 
> 时间：2013-03-13T07:26:02.893
> 
> 标签：python, list

我有一个清单：

```
l = ['abc,def,ghi,jkl'] 
```

现在我希望结果应该是`abc, def, ghi,jkl`使用python作为单独元素的格式。

我怎么做？

我尝试做其他事情，但我得到的结果是'a'，b'，'c'等。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:26:40.500

使用[拆分功能](http://docs.python.org/2/library/stdtypes.html#str.split)：

```
res = 'abc,def,ghi,jkl'.split(',') 
```

或者：

```
l = ['abc,def,ghi,jkl']
output = []

for row in l:
    output.extend(row.split(','))
# output will contain all the separate items for all items of l if more than one
print output 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:27:45.027

不完全确定你想要什么结果：

```
>>> l = ['abc,def,ghi,jkl']
>>> l[0]
'abc,def,ghi,jkl'
>>> l[0].split(',')
['abc', 'def', 'ghi', 'jkl']
>>> ', '.join(l[0].split(','))
'abc, def, ghi, jkl' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T07:34:03.940

单线：

```
', '.join([ e for s in l for e in s.split(',') ])

'abc, def, ghi, jkl' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T08:14:20.770

你有什么作为你的例子：

```
l = ['abc,def,ghi,jkl'] 
```

确实是一个列表，但列表中只有一个项目。这个项目是`'abc,def,ghi,jkl'`你的列表中只有一个项目的原因是因为你以这个字符开头创建了一个字符串：`'`然后之后的所有内容直到你用另一个关闭字符串`'`仍然是相同的字符串。

如果你想在你的列表中有四个字符串，你应该写：

```
l = ['abc', 'def', 'ghi', 'jkl'] 
```

这给了你一个列表，这里是第一个项目`'abc'`，然后逗号 ( `,`) 告诉列表构造函数将下一个对象视为另一个项目，所以你得到`'def'`等等......

# sql-server - WPF 中的连接字符串问题

> ID：15379267
> 
> 赞同：1
> 
> 时间：2013-03-13T07:26:25.183
> 
> 标签：sql-server, wpf, visual-studio-2010, c#-4.0, connection-string

我刚刚使用 C# 和 MS SQL 2008 express 完成了我在 WPF 中的第一个项目。我使用过 Visual Studio 2010。我现在拥有的是一个类 `conn.cs'，它有一个方法可以在我需要时返回连接字符串。另外我刚刚注意到我有一个 App.Config 文件，其中还定义了一个连接字符串（两个字符串都引用同一个数据库）。

我的`conn.cs`

```
class conn
    {
        public string get_connection()
        {
            string conn_string = @"Data Source=.\sqlexpress;Initial Catalog=msp;Integrated Security=True;Pooling=False";
            return conn_string;
        }
    } 
```

应用程序配置

```
<connectionStrings>
        <add name="msp.Properties.Settings.mspConnectionString" connectionString="Data Source=.\sqlexpress;Initial Catalog=msp;Integrated Security=True;Pooling=False" providerName="System.Data.SqlClient"/>
</connectionStrings> 
```

我现在想知道两件事。

1.  如何从 App.Config 中获取连接字符串？然后我需要这样做，我`conn.cs`将从那里获取我的字符串，然后，我将在需要时更改 app.config 中的连接字符串。
2.  还告诉我，是否可以在运行时设置连接字符串？我希望用户在首次运行时浏览到数据库`(.mdf)`文件，然后应该生成连接字符串并将其保存在`app.config`. 然后我可以轻松地从那里拿起它并使用。

请提供建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:25:35.057

您应该能够使用以下方法访问您的连接字符串：

```
string connString = Properties.Settings.Default.mspConnectionString; 
```

（键入 Properties.Settings.Default 时，您应该会自动在成员列表中看到您的选择）

您当然可以在运行时设置连接字符串；它基本上只是另一个字符串。我不建议对连接字符串进行硬编码；尽管。

您可能想尝试一下 SqlConnectionStringBuilder 类；例如，请参阅[此 MSDN 文章](http://msdn.microsoft.com/de-AT/library/system.data.sqlclient.sqlconnectionstringbuilder%28v=vs.100%29.aspx "这篇 MSDN 文章")。但实际上我到目前为止从未使用过它，除了在这里和那里的一些实验，虽然我实际上只做数据库驱动的软件......

# iphone - MobileSafari 上页面标题的字体系列是什么？

> ID：15379279
> 
> 赞同：0
> 
> 时间：2013-03-13T07:26:54.230
> 
> 标签：iphone, ios, objective-c, safari, mobile-safari

MobileSafari上的网页标题看起来是雕刻的，主机制作这个效果？标题的字体系列和字体大小是多少？

非常感谢你！ ![苹果浏览器](../Images/349203e92f6238908203f1367df8a347.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T08:01:35.373

1.  在 Xcode 中打开任何 iOS 项目。
2.  在模拟器中启动 MobileSafari 并访问 google。
3.  在 Xcode 中，选择 Product > Attach to Process > MobileSafari。
4.  选择产品 > 调试 > 暂停。
5.  在调试控制台中，键入`po [[UIApp keyWindow] recursiveDescription]`.

请注意，这只适用于模拟器。在设备上，您只能附加到使用 Xcode 安装的应用程序。

完成所有这些操作后，您就可以打印出 Mobile Safari 的视图层次结构。搜索它，我发现这个`UILabel`：

```
 |    |    |    |    | <UILabel: 0x1096e800; frame = (0 0; 308 16); text = 'Google'; clipsToBounds = YES; userInteractionEnabled = NO; layer = <CALayer: 0x1096e8c0>> 
```

`UILabel`每次我们这样做时，对象的地址都会不同。

无论如何，我们可以像这样打印该标签的字体：

```
(lldb) po [0x1096e800 font]
$2 = 0x0bb88110 <UICFFont: 0xbb88110> font-family: ".Helvetica NeueUI"; font-weight: bold; font-style: normal; font-size: 13px 
```

我们可以打印它的文本颜色：

```
(lldb) po [0x1096e800 textColor]
$13 = 0x1096eb50 UIDeviceRGBColorSpace 0.173 0.212 0.259 0.9 
```

我们还可以打印它的阴影颜色：

```
(lldb) po [0x1096e800 shadowColor]
$4 = 0x1096eb70 UIDeviceWhiteColorSpace 1 0.43 
```

打印阴影偏移更难，因为它是一种`CGSize`结构，而不是内置类型。调试器不知道，`CGSize`因为 MobileSafari 不包含调试信息。我们必须给调试器一个定义。这个可怕的命令有效：

```
(lldb) expr -o -- typedef struct { float x; float y; } CGSize; (id)[NSValue valueWithCGSize:(CGSize)[(id)0x1096e800 shadowOffset]]
$11 = 0x08063e60 NSSize: {0, 1} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T07:38:40.230

它是系统的默认字体 Helvetica-Neue。在 UIKit 中，你可以使用`[UIFont systemFontOfSize:...]`or来获得它`[UIFont boldSystemFontOfSize:...]`。“雕刻”效果是一个简单的白色阴影。它是通过 的`shadowColor`和`shadowOffset`属性实现的`UILabel`。

# php - mysql 选择多表 - 加入

> ID：15379293
> 
> 赞同：2
> 
> 时间：2013-03-13T07:27:47.260
> 
> 标签：php, mysql, sql, relational-division

说我有以下表格

```
user_table 
id    username
1     abc
2     def
3     ghij

courses_table 
id    title
1     csc
2     math
3     syn

user_courses 
user_id    course_id
2           1
1           3
2           3 
```

我想选择参加课程 1 和 3 的用户名，而不是至少 1 或 3，我的意思是 1 和 3

我尝试了以下 mysql 查询

```
SELECT DISTINCT  u.* FROM  user_table as u  LEFT JOIN user_courses as uc ON uc.user_id = u.id  WHERE uc.course_id = 1 AND uc.course_id=3;
SELECT DISTINCT  u.* FROM  user_table as u  LEFT JOIN user_courses as uc ON uc.user_id = u.id  WHERE uc.course_id IN (1,3);
SELECT DISTINCT  u.* FROM  user_table as u  LEFT JOIN user_courses as uc ON uc.user_id = u.id  WHERE uc.course_id IN (1,3) AND uc.user_id = u.id ; 
```

执行的第一个和第三个查询没有显示结果，第二个查询显示所有至少有 course_id 1 或 3 的用户

如果您想知道为什么我使用 LEFT JOIN，这是因为我需要连接表的结果，而上面的代码行只是一个示例，我使用 LEFT 连接从大约 9 个表中获取数据。

请问有什么帮助吗？谢谢

```
SELECT DISTINCT  u.* FROM  user_table as u  LEFT JOIN user_courses as uc ON uc.user_id = u.id  WHERE uc.course_id IN( 1,3) AND uc.user_id = 2 "; 
```

这显示了我想要的结果，它的输出“def”，但我不能使用 user_id 作为静态值（本例中的数字 2）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T07:34:23.983

这个问题叫做`Relational Division`

```
SELECT  a.id, a.username
FROM    user_table a
        INNER JOIN user_courses b
            ON a.id = b.user_ID
WHERE   b.course_ID IN (1,3)
GROUP   BY a.id, a.username
HAVING  COUNT(*) = 2 
```

*   [关系划分的SQL](http://www.simple-talk.com/sql/t-sql-programming/divided-we-stand-the-sql-of-relational-division/)

如果`course_ID`考虑到用户重修了课程，对于每个用户来说不是唯一的，`DISTINCT`则需要一个关键字来计算唯一的课程，

```
SELECT  a.id, a.username
FROM    user_table a
        INNER JOIN user_courses b
            ON a.id = b.user_ID
WHERE   b.course_ID IN (1,3)
GROUP   BY a.id, a.username
HAVING  COUNT(DISTINCT b.course_ID) = 2 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/a26b3/1)

输出

```
╔════╦══════════╗
║ ID ║ USERNAME ║
╠════╬══════════╣
║  2 ║ def      ║
╚════╩══════════╝ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:02:46.930

请试试这个：

```
SELECT 
  U.id,
  U.username
FROM
  user_courses UC 
  INNER JOIN user_table U 
    ON UC.`user_id` = U.`id` 
WHERE UC.`course_id` = 1 
  OR UC.`course_id` = 3 
  GROUP BY U.`id` 
  HAVING COUNT(*) > 1 
```

# wix - 是否可以根据本地系统语言更改 MSI 安装程序的 UI？

> ID：15379297
> 
> 赞同：0
> 
> 时间：2013-03-13T07:28:04.607
> 
> 标签：wix, windows-installer, multilingual

由于 WiX 安装程序 UI 的默认语言是英语，我想更改为另一种语言，例如中文或其他语言。有什么办法可以吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T14:44:20.027

不支持在安装时根据本地系统语言自动更改 MSI 的 UI。

但是，如果您将 WiX v3.6+ 与称为 Burn 的新引导程序/链接器一起使用，则它可以提供一个外部 UI 处理程序，该处理程序会自动检测本地系统语言。“标准 WiX 引导程序应用程序”从 Windows 检测用户的语言首选项，并将从`LCID`与用户语言匹配的文件夹中加载一个 .wxl 文件。

您可以在`src\ext\BalExtension\wixstdba`.

# android - 当 PendingIntent 被触发时，有没有办法杀死一个活动？

> ID：15379309
> 
> 赞同：1
> 
> 时间：2013-03-13T07:28:46.657
> 
> 标签：android, android-activity, alarmmanager, android-pendingintent

在 Android 中要杀死一个活动，你只需使用`finish()`. 但就我而言，我想在`PendingIntent`被解雇时终止活动。

我的代码如下：

```
Intent intent = new Intent(MainActivity.this, NextActivity.class);
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
intent.putExtra(Utils.KEY_RECORD_TIME, recordLength);

PendingIntent pintent = PendingIntent.getActivity(MainActivity.this,
        piNumber, intent, 0);
AlarmManager alarm = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
alarm.set(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), pintent); 
```

如果我在`finish()`下面添加，活动将在`AlarmManager`.

我希望该活动可见，直到时间结束并杀死它。有没有办法做到这一点？我在 Stack Overflow、Google 中进行了一些搜索，但找不到答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:41:10.307

您可以[`BroadcastReceiver`](http://developer.android.com/reference/android/content/BroadcastReceiver.html)在活动中动态注册。对于未决意图，您可以使用[`getBroadcast()`](http://developer.android.com/reference/android/app/PendingIntent.html#getBroadcast%28android.content.Context,%20int,%20android.content.Intent,%20int%29). 因此，`finish()`当警报管理器调用广播接收器时，您可以在广播接收器内部调用它。请注意，当您不再需要接收器时，您*必须*`onDestroy()`取消注册它，例如，您可以这样做。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T08:19:44.870

在计时器内，您可以获得待处理意图的时间延迟。

```
 new Timer().schedule(new TimerTask() {

    @Override
    public void run() {
        // TODO Auto-generated method stub

    }
},pending intent delay); 
```

请试试这个。它对我有用

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T07:39:01.577

看[`onNewIntent(Intent)`](http://developer.android.com/reference/android/app/Activity.html#onNewIntent%28android.content.Intent%29)。如果您可以将活动作为单个顶部开始，那么您的实例应该通过该调用接收待处理的意图。

如果您不能使用单顶，并且您的活动的新实例正在启动，您可以使用共享静态来获取`onCreate()`新实例的原始实例，并且`finish()`两者都可以。

# javascript - 裁剪后调整图像大小

> ID：15379319
> 
> 赞同：1
> 
> 时间：2013-03-13T07:29:55.240
> 
> 标签：javascript, jquery, image, crop, image-resizing

伙计们，我正在为我的应用程序开发一个图像组件，它涉及图像裁剪和调整大小。
我们面临的问题是我们能够在最初保持纵横比不变的情况下裁剪图像，但在我们的例子中，用户可以再次调整裁剪图像的大小，问题就来了。如果我们尝试调整裁剪图像的大小，我们也会得到裁剪区域中不存在的图像部分。
作为参考，我添加了这个[链接](http://app.imcreator.com/edit)。我们希望有一个有点相似的功能。但问题是我们无法获得**正确的逻辑**。一旦我们裁剪了一部分`height`，我们就得到了`width`那个图像。我们有原始的`aspect ratio`，但是如何当用户调整裁剪部分的大小时，我们现在可以计算图像的新高度、宽度吗？
**实际图像是存在的，我们实际上**并没有裁剪它，但**实际上是**为了向用户展示它。我们正在使用**javascript/jquery**来实现这一点。到目前为止，没有特定的库，只有**纵横比**
的逻辑。 这是实际的图片。

![在此处输入图像描述](../Images/5038f9c4b8305508c6323753e0406748.png)

**这是选择的裁剪区域。这将是裁剪区域。**

![在此处输入图像描述](../Images/cbc43cbad41a99501c48cacdd74e579c.png)

这是裁剪后调整大小的图像。图像仅针对裁剪部分而不是整个图像调整大小，而它实际上存在于那里。

![在此处输入图像描述](../Images/d5928722c58ec60788b54c5c4a410f75.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T12:39:14.177

只是在使用您的应用程序时，生成的错误将类似于在选择多个元素后使用 Jquery 请求 CSS 属性时将创建的错误。函数只能返回单个结果，因此您仍然只能获取第一个匹配元素的属性。虽然我不能确定，因为您的代码有 8000 行长且没有注释

# wcf - 远程服务器返回意外响应。(413) 请求的实体太大

> ID：15379320
> 
> 赞同：1
> 
> 时间：2013-03-13T07:29:57.137
> 
> 标签：wcf

我在 Wpf 应用程序中使用 wcf 服务。我必须保存一个 185 Kb 大小的图像。问题是每次，我尝试保存它我收到这条消息

远程服务器返回意外响应。(413) 请求的实体太大。

这是我在客户端的绑定

```
<binding name="BasicHttpBinding_IHRMEmployeeDef" maxBufferPoolSize="2147483646"
         maxBufferSize="2147483646" maxReceivedMessageSize="2147483646" >
<readerQuotas maxDepth="525288" maxStringContentLength="525288" maxArrayLength="525288"
                   maxBytesPerRead="525288" maxNameTableCharCount="525288" />
</binding> 
```

和

```
 <endpoint address="http://localhost:1714/PAYROLL/Setup/HRMEmployeeDef.svc"
            binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IHRMEmployeeDef"
            contract="Service_EmployeeDef.IHRMEmployeeDef" name="BasicHttpBinding_IHRMEmployeeDef" /> 
```

有什么建议么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:25:23.303

我找到了解决方案...通过在我的 Web.Config 中设置 maxReceivedMessageSize

# php - PHP Simple HTML DOM Parser 如何使用 find 方法获取第三个表

> ID：15379327
> 
> 赞同：1
> 
> 时间：2013-03-13T07:30:23.933
> 
> 标签：php, dom, html-parsing, simple-html-dom

我有如下结构的 HTML 代码。

如何使用 PHP Simple HTML DOM find 方法从此 HTML 代码中获取第三个表的内容？

```
<table width="100%" cellspacing="0" cellpadding="0" border="0">
  <tbody>
   <tr>
     <td>
       <table width="100%" cellspacing="0" cellpadding="0" border="0">
        <tbody>
          <tr>
           <td>
              <table width="100%" cellspacing="0" cellpadding="0" border="0">
              .......
              </table>

          </td>
         <tr>
        ..........
     <td>
  <tr>

</tbody>
</table> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T08:40:57.783

要获取第三个表，请在 find 方法中传递第二个参数（索引从 0 开始）。

```
 $html = file_get_html(<your_file_url/html_code>);    
  $html->find("table", 2); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T22:12:58.817

这些表是嵌套的：

```
$dom->find("table", 0); # first table
$dom->find("table table", 0); # second table
$dom->find("table table table", 0); # third table 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T08:01:09.823

只是一个想法，试试这个：

```
// Find first <table> in first <td>
$html = file_get_html('yours.htm');
$var = $html->find('td', 0)->find('table', 0); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T07:52:31.243

我不确定，但您可以尝试以下方法：

```
$dom = new DomDocument;
$dom->loadXML($YourHTML);

//I have written as item(1) to point at the second table
$params = $dom->getElementsByTagName('table')->item(1); 
```

# java - 如何在单行中绘制具有不同颜色的折线图

> ID：15379328
> 
> 赞同：7
> 
> 时间：2013-03-13T07:30:26.433
> 
> 标签：java, android, graph, android-canvas, achartengine

我想制作如下图所示的折线图：

![在此处输入图像描述](../Images/0a36fcbef826bc6991a9c3a7e797d95c.png)

我看过一些`Stackoverflow questions`诸如[如何使用 Canvas](https://stackoverflow.com/questions/3616676/how-to-draw-a-line-in-android)绘制线条、[如何使用不同颜色绘制线条](https://stackoverflow.com/questions/12455554/how-to-draw-lines-in-different-colors)等。但我一直无法弄清楚如何自己做。

**问题：** 我知道我可以用`AChartEngine Line Chart Graph`. 我不确定，用 ? 创建折线图的可能性有多大 `AChartEngine`？

有哪些替代方法可以达到相同的结果？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T17:47:46.783

这并不难，您需要创建一个中心在曲线中间的径向渐变绘制。然后在 colors[] 中添加任意数量的颜色。对于可以设置为**null的****位置**，颜色将均匀分布。

 **```
myPaint.setShader(new RadialGradient( 
    float x, float y, 
    float radius, 
    int[] colors, 
    float[] positions,
    Shader.TileMode tile)); 
```

此外，您应该仅在路径形成时应用它；您将需要获得路径边界

```
RectF bounds = new RectF();
myPath.computeBounds(bounds, true); 
```

现在您可以轻松找到中心和半径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T15:33:52.737

您可以添加多个数据系列，每个数据都有单独的颜色。**

# android - 同一活动中的两个 ListView

> ID：15379330
> 
> 赞同：0
> 
> 时间：2013-03-13T07:30:31.177
> 
> 标签：android, listview, android-activity

我想用两个列表视图构建一个活动。一种水平滚动的。一种垂直滚动的。附加的两个适配器使用图像和文本进行自定义，并从两个不同的 sqlite 表加载它们的数据。

我已经用谷歌搜索了两三个月没有结果......没有例子可以回答我的问题

我能怎么做？

对不起我糟糕的英语 Gianni Maiorani

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:56:26.567

Android SDK 不提供水平滚动的 ListView。您可以使用开源[Horizo​​ntalListView](http://www.dev-smart.com/archives/34)。

请参阅[BaseAdapter](http://developer.android.com/reference/android/widget/BaseAdapter.html)和[CursorAdapter](http://developer.android.com/reference/android/support/v4/widget/CursorAdapter.html)以使用包含图像/文本的子视图填充您的 ListViews。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:20:11.153

这是水平列表视图的一个很好的例子 [http://www.dev-smart.com/archives/34](http://www.dev-smart.com/archives/34) 至于垂直列表视图我认为它不会有问题

# javascript - 如何被选中 并将其放在顶部列表中

> ID：15379335
> 
> 赞同：-1
> 
> 时间：2013-03-13T07:31:08.453
> 
> 标签：javascript, jquery, html, html-lists

我使用无序列表创建了一个多语言页面。

我希望当访问者选择他的语言时，它成为`li`列表中的第一个。

```
<div id="lang">
    <ul id="ul">
        <li class="top" id="ar">
            <a href="index.php?lang=ar"><img src="images/languages/eg.png"/>Arabic</a>
        </li>
        <li id="en">
            <a href="index.php?lang=en"><img src="images/languages/us.png"/>English</a>
        </li>
        <li id="fr">
            <a href="index.php?lang=fr"><img src="images/languages/fr.png"/>French</a>
        </li>
        <li id="de">
            <a href="index.php?lang=ge"><img src="images/languages/de.png"/>Germany</a>
        </li>
        <li id="tu">
            <a href="index.php?lang=tu"><img src="images/languages/tr.png"/>Turkey</a>
        </li>
        <li id="cn">
            <a href="index.php?lang=tu"><img src="images/languages/cn.png"/>China</a>
        </li>
    </ul>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:38:32.250

```
$('#lang').on('click', 'li a', function(e){
    e.preventDefault();
    $('#ul').prepend($(this).parent());
}); 
```

请参阅工作演示：http: [//jsfiddle.net/codepic/MDR6w/1/](http://jsfiddle.net/codepic/MDR6w/1/)

我建议您阅读相关文档：

1.  [jQuery .on()](http://api.jquery.com/on/)
2.  [jQuery event.preventDefault()](http://api.jquery.com/event.preventDefault/)
3.  [jQuery .parent()](http://api.jquery.com/parent/)
4.  [jQuery .prepend()](http://api.jquery.com/prepend/)

然后还有这个性能方面。在这个特定的示例中可能没有那么相关，但在早期阶段开始研究它永远不会受到伤害。再加上很多时候，性能最好的代码是简单的代码。简单也多次翻译为“可读”。

我花了一些时间对此处提供的示例进行了一些性能测试：

*   [jsPerf 测试](http://jsperf.com/how-get-selected-li-and-put-it-in-the-top-list)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:42:42.933

就这么简单：

```
$('li').on('click', function() {
    $(this).parent().prepend(this);
}); 
```

请参阅此处的工作示例[http://jsfiddle.net/NyxnJ/10/](http://jsfiddle.net/NyxnJ/10/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T07:40:55.480

看到这个： **[样本](http://jsfiddle.net/AQCx3/1/)**

```
$('div#lang').on('click', 'li:not(:first) a', function(e){
  e.preventDefault();
  var li =  $(this).parent();
  li.siblings().removeClass("top").end().prependTo(li.parent()).addClass('top');
  return false;
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T07:36:31.283

尝试这个

```
 $('#ul li a').click(function(e){
      e.preventDefault();
      var lielement=$(this).parent('li')
      lielement.remove();
      $('#ul').prepend(lielement);

 } 
```

# c++ - 对 time_t 和 int64 的重载函数的模糊调用

> ID：15379336
> 
> 赞同：1
> 
> 时间：2013-03-13T07:31:13.790
> 
> 标签：c++

我收到以下错误

```
1>------ Build started: Project: test123, Configuration: Debug Win32 ------
1>  test.cpp
1>e:\avinash\test123\test.cpp(25): error C2668: 'XYZ::createKey' : ambiguous call to overloaded function
1>          e:\avinash\test123\test.cpp(13): could be 'void *XYZ::createKey(const int64_t)'
1>          e:\avinash\test123\test.cpp(7): or       'void *XYZ::createKey(const time_t &)'
1>          while trying to match the argument list '(long)'
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

以下是源代码，我该如何解决

```
#include <WinSock2.h>
typedef signed __int64   int64;
typedef int64            int64_t;

namespace XYZ 
{
    inline void* createKey( const time_t& value ) {
        return NULL;
    }
    inline void* createValue( const time_t& value ) {
        return NULL;
    }
    inline void* createKey(const int64_t value) {                     
        return NULL;
    }                                                                     
    inline void* createValue(const int64_t value) {                      
        return NULL;
    }  
}

int main( int argc, char** argv) 
{
    XYZ::createKey(10L);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:55:44.070

`time_t` *在* `__int64`您的平台上。它可能是`long`或`int`在其他平台上。**无法**为其别名的原始整数类型定义单独的重载`time_t`，因为它**不是单独的类型**。

上面的重载是没有意义的。编译器不会根据参数是否已声明`time_t`或`__int64`参数是否为 const 引用来更改它们（如果我正确阅读了规范，那么除了与非参考，但到目前为止我还不确定）。

# clojure - 如何在 Clojure 中填充 ArrayList？

> ID：15379342
> 
> 赞同：1
> 
> 时间：2013-03-13T07:31:33.203
> 
> 标签：clojure, arraylist

我正在尝试在 Clojure 中填充 ArrayList，但收到以下错误消息

***java.util.ArrayList 不能转换为 clojure.lang.IFn***

这是我的代码：

```
(ns blackhole-v1.core
  (:import [java.util ArrayList])
  (:import [toxi.geom Vec2D])
  (:use [quil.core]))

(def particles (new ArrayList))

(defn add-particle []
;  (particles (.add (new Vec2D (random (width)) (random (height)))))
  (doto (particles)
    (.add (new Vec2D (random (width)) (random (height))))))

(defn setup []
  (smooth)
  (background 0)
  (add-particle))

(defn draw []
  (background 0)
  (dotimes [i (.size particles)]
    (ellipse (.x (.get particles i)) (.y (.get particles i)) 20 20)))

(defsketch blackhole-v1
  :title "black hole v1"
  :setup setup
  :draw draw
  :size [640 480]) 
```

任何想法我做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T07:36:47.437

您正在尝试`(particles)`作为函数调用，但它只是简单的 var。而不是`(particles)`使用`particles`

```
(defn add-particle []
;  (particles (.add (new Vec2D (random (width)) (random (height)))))
  (doto particles
    (.add (new Vec2D (random (width)) (random (height)))))) 
```

# java - 生成一系列代表最小 pow() 结果的数字

> ID：15379346
> 
> 赞同：3
> 
> 时间：2013-03-13T07:31:43.593
> 
> 标签：java, c++, c, algorithm

假设`next()`是生成这个系列的函数：

```
 8
 9
 16
 25
 27
 32
 36
 49
 64
 81 
```

哪个是

```
i=2,3,....
j=2,3,....
f(n) =   minimum( pow(i,j) )   &&   f(n) > f(n-1) 
```

我可以想出这个 O(n) 代码。是否有 O(1) 或 O(lg n) 解决方案？

```
 int m =2, n = 2;
    int last =4;

   void next() {
      int a=m+1,b=n+1;
      long t = pow(a,b);
      int ma = max(m,n);
      //cout<<" max = "<<ma<<endl;
      for(int i=2;i<=ma+1;++i){
         for(int j=2;j<=ma+1;++j){
            if(pow(i,j) > last && pow(i,j) <= t) {
             a=i,b=j;
             t = pow(i,j); 
            }
         }
      } 
      if(a>m) m=a;
      if(b>n) n=b;
      last = t;
      //cout<<"\t"<<a<<"\t"<<b<<"\t"<<pow(a,b)<<endl;
      cout<<" \t"<<pow(a,b)<<endl;
     return;
    }
} 
```

注意： 1\. 当我提到复杂性时，我只是在谈论对 next() 的一次调用。2\. 缓存当然会有所帮助，但是我们可以考虑 lg-n 空间进行缓存吗？哎呀，缓存一切都更快。:) 3\. 我不知道常数空间复杂度是否存在 O(lg-n) 的解决方案，这只是我的预感，可能存在..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T21:55:12.353

示例 python 代码，显然并不完美，但确实展示了如何进行惰性迭代。内存使用量为 O（服务的项目数），时间乘以它的对数。

```
import heapq

def power_seq(min_b, min_p):
    heap = []
    in_heap_table = {}
    cur_b, cur_p = min_b, min_p 
    heapq.heappush(heap, (power_value(cur_b, cur_p), cur_b, cur_p))
    in_heap_table[power_value(cur_b, cur_p)] = True
    while True:
        power, cur_b, cur_p = heapq.heappop(heap)
        yield power,cur_b, cur_p
        new_b = cur_b + 1
        new_p = cur_p + 1

        if power_value(new_b, cur_p) not in in_heap_table:
            heapq.heappush(heap, (power_value(new_b, cur_p), new_b, cur_p))
            in_heap_table[power_value(new_b, cur_p)] = True

        if power_value(cur_b, new_p) not in in_heap_table:
            heapq.heappush(heap, (power_value(cur_b, new_p), cur_b, new_p))
            in_heap_table[power_value(cur_b, new_p)] = True

# Can be made O(log p) if we want.
def power_value(b,p):
    power = 1
    while p >= 1:
        power = power*b
        p = p-1
    return power

def main():
    count = 0
    for tup in power_seq(2,2):
        print tup
        count += 1
        if count > 30:
            break

if __name__ == "__main__":
    main() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T22:55:35.463

我为此设想的方法是通过生成器对所有功率结果的排序列表进行某种惰性构造。

想象一个无穷无尽的 x^y 结果场——x 在一个方向，y 在另一个方向。现在想象一条从 2^2（为简单起见，我们称其为 1）的路径，一个向东到 3^2，一个西南到 2^3，一个向南到 2^4，两个东北，一个向东，西南三次，一次向南……等等，斜着锯齿形地向外移动。

当你在所有 x^ys 上通过这个 zig-zag 路径时，将它们添加到一个自动排序的集合中，总共是 O(nlogn)。但是，我们很懒，想尽快停下来。

当你被问到第 n 大功率时，做锯齿形并建立集合，跟踪每个锯齿形产生的最低值是多少。如果最小值大于当前列表中第 n 位以下列表中的所有值，我们知道我们永远不会在列表中插入一个较小的数字，这会改变我们返回的结果 - 所以我们返回它。

此外，如果要求您提供第 n 个最大功率，您可以立即检查最小值是否足够低以更改该值，如果不是则立即返回。

该算法不是最理想的，因为功率在一个方向上的增长速度比在另一个方向上的增长速度更快 - 因此，一条偏向于在较慢的增长方向上覆盖比在较快的增长方向上更多的值的路径将需要搜索更少的值来返回第 n 个最大的功率。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T10:15:02.533

（我不知道你是否知道你的问题是关于完美数字系列的）

一种可能更快的蛮力算法：在给定范围内生成所有可能的完美幂，并将它们插入到排序列表中。但是，我不知道您必须期望有多少重复项。绝对需要比您的方法更多的内存，但您没有给出任何限制:)

# php - 在另一个 php 脚本中使用 exec() 函数执行一个 php 脚本

> ID：15379352
> 
> 赞同：0
> 
> 时间：2013-03-13T07:32:00.070
> 
> 标签：php, mpdf

在我的网站上，我使用了一个名为 mpdf [http://www.mpdf1.com/mpdf/index.php](http://www.mpdf1.com/mpdf/index.php)的 php 类来创建一个 pdf 供用户下载。

它通过使用`file_get_contents('list.php')`函数将内容获取为 html，准备转换为 pdf 来工作。

它工作得非常好，但不幸的是，在我的网站上它只返回实际的 php 代码，而不是生成的 html：

```
<?php include 'inc/head.php'?>
<?php include 'inc/header.php'?>
<?php include 'inc/gold_packageinc.php'?>
<?php include 'inc/footer.php'?> 
```

如果我能弄清楚如何使用

```
exec('list.php') 
```

前

```
file_get_contents('list.php') 
```

我相信它会起作用的。问题是这似乎真的很难做到。显然你需要引用 php 文件或其他东西，但我做不到。我现在创建了相当多的 php 驱动网站，但我不知道什么是“shell”或任何东西！

如果有人可以解释如何让 exec('list.php') 工作，我将非常感激！完全开放以解决问题。如果有人可以解释，也许是“输出缓冲”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:36:37.510

像这样做：

```
$content = include ('list.php'); 
```

而不是使用`file_get_contents`返回字符串，而是使用`$content;`这种方式 `$content`将包含输出的字符串`list.php`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:36:29.447

```
exec('list.php') is wrong,If you need to execute a php file with exec() function,You need to pass the name of file as argument to PHP.exe file

eg:
      exec('C:/xampp/bin/PHP.exe "C:/xampp/htdocs/list.php"'); 
```

您需要给出该文件的完整路径

# java - Java -cp 在 Linux 上

> ID：15379354
> 
> 赞同：0
> 
> 时间：2013-03-13T07:32:02.547
> 
> 标签：java, linux

我制作了一个在 Windows 上运行良好的程序。当我把它移到 CentOS 时，我得到了这个错误：

> 错误：无法找到或加载主类 org.wbc.WBCController

这是 linux 上的文件设置和 .sh： ![linux](../Images/f58922c2bb83b391909c55f796837489.png)

这是 Windows 上的文件设置和 .bat：

![视窗](../Images/62e1158b7a0b0079eb7b2d6a7a8084a2.png)

有谁知道问题是什么，我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T19:43:56.137

即使找不到文件 wbc.jar，Java 也会响应此错误。我猜那是你的问题。您可能希望看到您正在从正确的工作目录中执行 shell 脚本。

检查是否可以从控制台运行 wbc.sh 或将其放入 wbc.sh 以确保它在与 shell 脚本相同的目录中搜索 jar：

```
#!/bin/sh
java -cp `dirname $0`/wbc.jar org.wbc.WBCController 
```

# html - 在 Bing 地图的信息框中显示信息

> ID：15379366
> 
> 赞同：1
> 
> 时间：2013-03-13T07:33:04.537
> 
> 标签：html, bing, markers, polygons

我正在使用 Bing 地图在地图上显示标记。

我可以在这个标记的上方显示一个信息框。现在我的信息框包含一个摘要，显示有点像这样

```
var pinInfoboxOptions = { 
     width: 300,
     height: sumxi,
     description: summ,
     visible:true
}; 
```

现在我可以显示收件箱，其中描述包含有关标记的完整信息。如果我要使用 infoboxoptions 操作添加链接，则不会显示信息框。请帮忙

```
var pinInfoboxOptions = { 
    width: 300,
    height: sumxi,
    description: summ,
    actions:[{label:'test1',eventHandler: testEvent1}],
    visible:true
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:36:48.827

如果需要链接，则需要使用信息框选项 htmlContent，这是 SDK 文档中的示例：

```
var infoboxOptions = {宽度：200，
高度：100，显示关闭按钮：真，
zIndex：0，偏移量：新
Microsoft.Maps.Point(10,0),
显示指针：真，
htmlContent:'自定义 HTML '};

```

基于 q 的编辑，标题点击处理程序可能会完成这项工作：再次来自文档：

> ' **titleClickHandler string** ' 点击信息框标题时调用的函数名。如果设置了此属性，则信息框的标题将显示为链接。

# xmpp - 指示存在的 XMPP 组件

> ID：15379368
> 
> 赞同：0
> 
> 时间：2013-03-13T07:33:11.350
> 
> 标签：xmpp, components

我有一个基于 XEP-0114 的 XMPP 组件，可以与 Openfire 服务器一起正常工作。然而，Ejabberd 对此抱怨不已。它做的第一件事（经过身份验证后）是表明存在。它通过发送这个来做到这一点：

```
<presence from="tictactoe.komogvind.dk"/> 
```

我收到这个回复

```
<presence type="error" to="tictactoe.komogvind.dk" xmlns:stream="http://etherx.jabber.org/streams">
    <error code="400" type="modify">
        <bad-request xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/>
    </error>
</presence> 
```

我错过了什么？

# asp.net - 如何在 Asp.Net 中使用 MySQL 获取查询返回的错误代码

> ID：15379369
> 
> 赞同：1
> 
> 时间：2013-03-13T07:33:13.123
> 
> 标签：asp.net, mysql, mysql-connector

在 MySQL 连接器 5.0.9.0 的帮助下，我正在我的 .net Web 应用程序中使用 MySQL。我正在从 Web 服务获取数据并将其插入本地数据库。我只想在我的本地数据库中插入唯一的行。我开始知道，当发生重复时，MySQL 返回错误代码：1062。我只想知道如何在变量中获取此代码并根据我的条件检查它，例如：

```
if(errorCode == "1062")
{
    Response.Write("Record already exists");
}

else
{
    // add the record to database
} 
```

提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:37:02.000

看看 MySqlException 类成员。有一个 Number 属性 -*获取一个标识错误类型的数字*。

[MySqlException 类](http://dev.mysql.com/doc/refman/5.5/en/connector-net-ref-mysqlclient.html#connector-net-ref-mysqlclient-mysqlexception)。

# javascript - 在Javascript中将持续时间显示为每小时？

> ID：15379377
> 
> 赞同：-5
> 
> 时间：2013-03-13T07:33:40.783
> 
> 标签：javascript, jquery

我有一个程序来计算停机时间，所以我希望它从起点开始计算到停机时间结束的终点。例如（0 到 5 分钟，49 分钟，1 小时：36 分钟）我可以尝试什么方法来获得它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:44:21.043

要立即获取时间（以毫秒为单位），您可以调用`Date.now()`. 将其存储在某处并在最后再次调用该函数。从结尾减去开始，你得到总时间，以毫秒为单位。之后，剩下的只是简单的数学运算，将毫秒转换为秒、分钟、小时等。

# csv - XPages：生成 CSV 文件并附加到邮件

> ID：15379378
> 
> 赞同：0
> 
> 时间：2013-03-13T07:33:47.477
> 
> 标签：csv, xpages, export-to-csv, icalendar, xpages-ssjs

我正在尝试生成一个 csv 文件（特别是 .ics）并将其附加到电子邮件中。电子邮件是通过 SSJS-Function 组成的。一个机会可能是生成 csv 文件，将其保存到文档中并将其附加到电子邮件中。

我尝试通过 XPage 中的 XAgent 生成 csv 文件（如[http://www.wissel.net/blog/d6plinks/SHWL-8248MT](http://www.wissel.net/blog/d6plinks/SHWL-8248MT)）并获取输出句柄，但没有成功。

你知道管理这个的可能性吗？

任何帮助是极大的赞赏！

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T11:34:53.570

您正在查看 2 个任务：

1.  创建一个 csv/ics 文件
2.  将此作为附件发送

对于#1，您可以使用 Stringbuilder 或 Printwriter 或其他任何东西。但是[ics 文件](http://filext.com/file-extension/ICS)实际上**不是**CSV 文件，而是 iCalendar 格式。要生成它，我强烈推荐[ical4j](http://ical4j.sourceforge.net/introduction.html)。在任何情况下，无论您编写什么 -> 都不要创建文件。使用使用 ByteArrayOutputStream（或直接用于 ICS4J）的 PrintWriter（用于 CSV），因此结果是内存中的 ByteArray。

对于＃2，您必须采取的一个心理步骤是远离试图处理嵌入对象等的“注释方式”。您创建一个 MIME 消息（OpenNTF 上有片段）并创建一个 mimepart。在那里你可以使用[setContentFromBytes](http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/topic/com.ibm.designer.domino.main.doc/H_SETCONTENTFROMBYTES_METHOD_MIMEENTITY_JAVA.html)并且你有你的附件。

专业提示（让您的生活更轻松）：创建一个带有函数的 Java 类，该函数将输出流作为为您生成文件的参数。通过这种方式，您可以在 Eclipse（或 Domino Designer Java 视图）中对其进行测试，而无需运行预览并提供完整的调试支持（您只需提供文件输出流以进行测试并写入文件 - 或 System.out）

# javascript - 如何编写提示/确认等 JavaScript 函数

> ID：15379383
> 
> 赞同：0
> 
> 时间：2013-03-13T07:33:52.423
> 
> 标签：javascript

我想编写一个 JavaScript 函数，`prompt()`或者`confirm()`在其中行执行等到提到的函数返回任何内容。

比如说，我有一个函数`abc()`会打开一个弹出窗口，然后返回一个值。我想保留调用函数的执行。

```
function abc(){
    //----------
    return '';
}

function abc_caller(){
    var x = abc();
    alert(x);
} 
```

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:37:38.683

您的代码应该是 -

```
function abc_caller(){
       var x = abc();
       var r=confirm("Your value is " + x);
       if (r==true)
       {
          alert("You pressed OK!")
       }
       else
       {
          alert("You pressed Cancel!")
      }
    } 
```

[http://www.w3schools.com/jsref/met_win_confirm.asp](http://www.w3schools.com/jsref/met_win_confirm.asp)中的更多示例。

希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:40:17.017

这不是浏览器构建者希望您做的事情。如果一段 Javascript 在一定时间内没有响应，浏览器会开始认为有问题，并询问用户是否要停止运行 javascript。

您应该创建一个回调函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T07:44:00.550

你可以为此使用回调：
*你的函数*

```
function abc(callback){
    // whatever code here
    var result = ""; // or whatever processing result would be

    if (callback)
    {
        callback(result);
    }
} 
```

*用法：*

```
abc(function(result){
    alert(result);
}); 
```

**编辑：**我认为这类似于@mrhobo 的提议

# java - Java/Android 使用一个 obj 指针来引用 2 个类

> ID：15379386
> 
> 赞同：0
> 
> 时间：2013-03-13T07:34:01.037
> 
> 标签：java, android, object, reference

假设我需要一个全局 obj 指针，如下所示：

```
/** UI：Fragment頁面提供 */
public static FragmentPagerAdapter PAGER=null; 
```

一开始它会指向这个类

```
public class HomePagerAdapter extends FragmentPagerAdapter{...} 
```

但有时，我想把它指向另一个类，比如下面

```
public class MyListPagerAdapter extends FragmentPagerAdapter{...} 
```

那可能吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:35:56.153

**`extends`**用于从父类（也称为基类）继承子类。

一个父类可以**有多**个子类，因此您可以从一个父类扩展许多类。

这意味着***基类的对象可以指向从它派生的任何类***，如果这是您想要做的。

```
.
.
    PAGER=new HomePagerAdapter();
    PAGER=new MyListPagerAdapter();
.
. 
```

所以，***是***的，这是绝对可能的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:37:08.747

这是完全可能的。父类引用可以保存对任何子类的引用。即以下两个陈述都是有效的：

```
FragmentPagerAdapter PAGER=null;
PAGER=new HomePagerAdapter();
PAGER=new MyListPagerAdapter(); 
```

# xslt-1.0 - XSLT 减法

> ID：15379393
> 
> 赞同：0
> 
> 时间：2013-03-13T07:34:28.653
> 
> 标签：xslt-1.0

我对以下 XSL 代码有疑问。

这是非常简单的减法，但它做了一些奇怪的事情。我知道我可以使用`format-number`，但是有人可以向我解释为什么我得到`0.4299999999999997`而不是预期的`0.43`吗？

```
<xsl:template match="/">
    <root>
        <xsl:value-of select="36.98 - 36.55"></xsl:value-of>
    </root>
</xsl:template> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T14:37:27.550

**阅读浮点运算**：

**[http://en.wikipedia.org/wiki/Floating_point](http://en.wikipedia.org/wiki/Floating_point)**

# html - 当我使用 css 时：悬停在中心图像中它转到底部

> ID：15379396
> 
> 赞同：-1
> 
> 时间：2013-03-13T07:34:34.403
> 
> 标签：html, css

我有使用问题`:hover`

我有 3 个图像：左、中、右

当我`:hover`在左右图像中使用时，它会很好

但在中心图像中它走到底部

你可以看到我在这里使用的代码

[http://www.jsfiddle.net/8Eg5T/](http://www.jsfiddle.net/8Eg5T/)

```
<div class="mworks">
    <div class="img1">
    </div>
    <div class="img2">
    </div>
    <div class="img3">
    </div>
</div> 
```

```
.mworks {
    height: 187px;
    width: 1087px;
    margin-top: -250px;
    margin-left: auto;
    margin-right: auto;
}
.img1 {
    background-image: url('https://dl.dropbox.com/u/35904623/img1.png');
    width: 381px;
    height: 187px;
    background-repeat: no-repeat;
    float: left;
}
.img2 {
    background-image: url('https://dl.dropbox.com/u/35904623/img1.png');
    width: 381px;
    height: 187px;
    background-repeat: no-repeat;
    float: right;
}
.img3 {
    background-image: url('https://dl.dropbox.com/u/35904623/img1.png');
    width: 381px;
    height: 187px;
    background-repeat: no-repeat;
    margin: 0px auto;
}

.img1:hover {
    background-image: url('https://dl.dropbox.com/u/35904623/imghover2.png');
    width: 381px;
    height: 381px;
    margin-top: -116px;
    background-repeat: no-repeat;

}
.img2:hover {
    background-image: url('https://dl.dropbox.com/u/35904623/imghover2.png');
    width: 381px;
    height: 381px;
    margin-top: -116px;
    background-repeat: no-repeat;

}
.img3:hover {
    background-image: url('https://dl.dropbox.com/u/35904623/imghover2.png');
    width: 381px;
    height: 381px;
    margin-top: -116px;
    background-repeat: no-repeat;

} 
```

我该如何修复它+当鼠标悬停在图像上时我可以淡化吗

就像如果我将鼠标悬停在图像上，它会在 hoverimagw.png 中消失

当我将鼠标移到淡出之外时

我尝试使用 jquery 但没有运气

我不知道如何使用它

对不起，我的英语不好:p

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:23:49.467

首先，您的宽度不足以容纳三个图像。您必须将所有 div[class=img*] 与`float: left`.

这是正确的CSS：

```
.mworks {
    height: 187px;
    width: 1143px;
    margin-top: 250px;
    margin-left: auto;
    margin-right: auto;
}
.img1 {
    background-image: url('https://dl.dropbox.com/u/35904623/img1.png');
    width: 381px;
    height: 187px;
    background-repeat: no-repeat;
    float: left;
}
.img2 {
    background-image: url('https://dl.dropbox.com/u/35904623/img1.png');
    width: 381px;
    height: 187px;
    background-repeat: no-repeat;
    float: left;
}
.img3 {
    background-image: url('https://dl.dropbox.com/u/35904623/img1.png');
    width: 381px;
    height: 187px;
    background-repeat: no-repeat;
    float: left;
}

.img1:hover {
    background-image: url('https://dl.dropbox.com/u/35904623/imghover2.png');
    width: 381px;
    height: 381px;
    margin-top: -116px;
    background-repeat: no-repeat;

}
.img2:hover {
    background-image: url('https://dl.dropbox.com/u/35904623/imghover2.png');
    width: 381px;
    height: 381px;
    margin-top: -116px;
    background-repeat: no-repeat;

}
.img3:hover {
    background-image: url('https://dl.dropbox.com/u/35904623/imghover2.png');
    width: 381px;
    height: 381px;
    margin-top: -116px;
    background-repeat: no-repeat;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T09:05:56.510

您不应该使用`margin: 0 auto;`浮动元素之间的居中图像，因为它不起作用。所以你可以调整到居中的 img 向左浮动，你可以做的另一种方法是`margin: 0 {greater than right width}px 0 {greater than left width}px` 在你的例子中你可以使用它，`margin: 0 382px 0 382px`或者你也可以只使用 381px。

# ios - 如何从捆绑包中获取课程

> ID：15379397
> 
> 赞同：3
> 
> 时间：2013-03-13T07:34:34.163
> 
> 标签：ios, objective-c, class, nsbundle

按照这里的解释：

[https://github.com/nst/iOS-Runtime-Headers](https://github.com/nst/iOS-Runtime-Headers)

我正在尝试在捆绑 TelephonyUtilities.framework 中获取 TUPhoneLogger 的类。但是，调试器总是显示**"error: unknown class"**。

*我有两种不同的方法：*

**第一种方法：**

```
NSBundle* b = [NSBundle bundleWithPath:@"/System/Library/PrivateFrameworks/TelephonyUtilities.framework"];
BOOL success = [b load];
NSLog(@"%@", [b definedClasses_dd]); 
```

注意：我创建了一个 @interface NSBundle (DDAdditions) 扩展：

```
- (NSArray *)definedClasses_dd {
NSMutableArray *array = [NSMutableArray array];    
int numberOfClasses = objc_getClassList(NULL, 0);    
Class *classes = calloc(sizeof(Class), numberOfClasses);
numberOfClasses = objc_getClassList(classes, numberOfClasses);
for (int i = 0; i < numberOfClasses; ++i) {
    Class c = classes[i];
    if ([NSBundle bundleForClass:c] == self) {
        [array addObject:c];
        const char* nameOfClass = class_getName(c);
        NSString* classString = [NSString stringWithUTF8String:nameOfClass];
        if([classString isEqualToString:@"TUPhoneLogger"]) {
            NSLog(@"Found it! TUPhoneLogger");
            id test= [[c alloc] init];
            NSLog(@"test: %@", test);
        }
    }
}
free(classes); 
```

**第二种方法：**

```
NSBundle* b = [NSBundle bundleWithPath:@"/System/Library/PrivateFrameworks/TelephonyUtilities.framework"];
Class telephonyClass = [b classNamed:@"TUPhoneLogger"];
id test= [[telephonyClass alloc] init];
NSLog(@"%@", test); 
```

**在调试器中：**

![在此处输入图像描述](../Images/69d61cddb330aad1b372167db388c95b.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T23:20:12.217

+1 给 Victor，因为我认为将框架作为**构建阶段**库包含在您的项目中更简单。私有框架位于`PrivateFrameworks`SDK 子目录下，但除此之外，它的工作方式与公共框架类似（在 Victor 的回答中描述了差异）。

**如果您确实想要动态加载**，我将提供另一种有效的技术：

```
#include <dlfcn.h>
#import <objc/runtime.h> 
```

进而

```
void* handle = dlopen("/System/Library/PrivateFrameworks/TelephonyUtilities.framework/TelephonyUtilities", RTLD_NOW);
Class c = NSClassFromString(@"TUPhoneLogger");
id instance = [[c alloc] init];
dlclose(handle); 
```

我想这样做的好处`dlopen()`是你不必记得打电话`load`，这让你在第二个例子中得到了帮助。缺点是你应该`dlclose()`事后打电话。

**注意：**`dlopen()` vs `NSBundle bundleWithPath:`（文件与目录）的路径略有不同

**注意++：**此代码在模拟器中不起作用，因为模拟器可能缺少该框架（没有真正的手机功能）

* * *

## 更新

在 iOS 9.3 中，Apple 从 SDK 中删除了私有框架。因此，从那时起，如果框架不是公共 iOS 框架之一，实际上通常需要使用这种动态技术。[有关更多信息，请参阅此答案](https://stackoverflow.com/a/37001091/119114)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T14:47:51.073

还有第三种方法（我更喜欢）

a）你静态链接到这个框架（意思是，你把它添加到你的目标中）

b）您在 .h 类中定义了必要的类（TUPhoneLogger）。您可以使用 class-dump(-z) 来获取它

c) 你包含这个 .h 文件

d）您只需像使用公共课程一样使用私人课程。

**小补充说明**

私有框架和私有 API 没有“魔法”。唯一不同的是它们没有记录并包含在 .h 文件中。

步骤 b) 和 c) 使用它们创建 .h 类，因此它们的使用方式与通常的公共 API 完全相同。

# c++ - 在 C++ 中将浮点数组写入和附加到 hdf5 文件中的唯一数据集

> ID：15379399
> 
> 赞同：20
> 
> 时间：2013-03-13T07:34:38.090
> 
> 标签：c++, arrays, file, append, hdf5

我正在处理多个文件，文件的每次处理将输出数千个浮点数组，我会将**所有文件的数据存储在一个巨大的数据集中的单个 hdf5**中以供进一步处理。

目前我对如何将我的数据附加到 hdf5 文件中感到困惑。（在上面的代码中注释）在上面的 2 个 for 循环中，如您所见，我想一次将浮点的一维数组附加到 hdf5 中，而不是全部。我的数据以 TB 为单位，我们只能将数据附加到文件中。

有几个问题：

1.  在这种情况下如何附加数据？我必须使用什么样的功能？
2.  现在，我有 fdim[0] = 928347543，我尝试将 HDF5 的无穷大标志放入，但运行时执行抱怨。有没有办法做到这一点？我不想计算我每次拥有的数据；有没有办法只是简单地继续添加数据，而不关心 fdim 的价值？

或者这是不可能的？

编辑：

我一直在遵循西蒙的建议，目前这是我更新的代码：

```
hid_t desFi5;
hid_t fid1;
hid_t propList;
hsize_t fdim[2];

desFi5 = H5Fcreate(saveFilePath, H5F_ACC_TRUNC, H5P_DEFAULT, H5P_DEFAULT);

fdim[0] = 3;
fdim[1] = 1;//H5S_UNLIMITED;

fid1 = H5Screate_simple(2, fdim, NULL);

cout << "----------------------------------Space done\n";

propList = H5Pcreate( H5P_DATASET_CREATE);

H5Pset_layout( propList, H5D_CHUNKED );

int ndims = 2;
hsize_t chunk_dims[2];
chunk_dims[0] = 3;
chunk_dims[1] = 1;

H5Pset_chunk( propList, ndims, chunk_dims );

cout << "----------------------------------Property done\n";

hid_t dataset1 = H5Dcreate( desFi5, "des", H5T_NATIVE_FLOAT, fid1, H5P_DEFAULT, propList, H5P_DEFAULT);

cout << "----------------------------------Dataset done\n";

bufi = new float*[1];
bufi[0] = new float[3];
bufi[0][0] = 0;
bufi[0][1] = 1;
bufi[0][2] = 2;

//hyperslab
hsize_t start[2] = {0,0};
hsize_t stride[2] = {1,1};
hsize_t count[2] = {1,1};
hsize_t block[2] = {1,3};

H5Sselect_hyperslab( fid1, H5S_SELECT_OR, start, stride, count, block);     
cout << "----------------------------------hyperslab done\n";   

H5Dwrite(dataset1, H5T_NATIVE_FLOAT, H5S_ALL, H5S_ALL, H5P_DEFAULT, *bufi);

fdim[0] = 3;
fdim[1] = H5S_UNLIMITED;    // COMPLAINS HERE
H5Dset_extent( dataset1, fdim );

cout << "----------------------------------extent done\n";

//hyperslab2
hsize_t start2[2] = {1,0};
hsize_t stride2[2] = {1,1};
hsize_t count2[2] = {1,1};
hsize_t block2[2] = {1,3};

H5Sselect_hyperslab( fid1, H5S_SELECT_OR, start2, stride2, count2, block2);     
cout << "----------------------------------hyperslab2 done\n";  

H5Dwrite(dataset1, H5T_NATIVE_FLOAT, H5S_ALL, H5S_ALL, H5P_DEFAULT, *bufi);

cout << "----------------------------------H5Dwrite done\n";        
H5Dclose(dataset1);
cout << "----------------------------------dataset closed\n";   
H5Pclose( propList );   
cout << "----------------------------------property list closed\n"; 
H5Sclose(fid1); 
cout << "----------------------------------dataspace fid1 closed\n";    
H5Fclose(desFi5);       
cout << "----------------------------------desFi5 closed\n"; 
```

我目前的输出是：

```
bash-3.2$ ./hdf5AppendTest.out
----------------------------------Space done
----------------------------------Property done
----------------------------------Dataset done
----------------------------------hyperslab done
HDF5-DIAG: Error detected in HDF5 (1.8.10) thread 0:
  #000: /home/hdftest/snapshots-bin-hdf5_1_8_10/current/src/H5D.c line 1103 in H5Dset_extent(): unable to set extend dataset
    major: Dataset
    minor: Unable to initialize object
  #001: /home/hdftest/snapshots-bin-hdf5_1_8_10/current/src/H5Dint.c line 2179 in H5D__set_extent(): unable to modify size of data space
    major: Dataset
    minor: Unable to initialize object
  #002: /home/hdftest/snapshots-bin-hdf5_1_8_10/current/src/H5S.c line 1874 in H5S_set_extent(): dimension cannot exceed the existing maximal size (new: 18446744073709551615 max: 1)
    major: Dataspace
    minor: Bad value
----------------------------------extent done
----------------------------------hyperslab2 done
----------------------------------H5Dwrite done
----------------------------------dataset closed
----------------------------------property list closed
----------------------------------dataspace fid1 closed
----------------------------------desFi5 closed 
```

目前，我看到使用 H5Dset_extent 将内容设置为无限制在运行时仍然会导致问题。（上面代码中标有问题的函数`//COMPLAINS HERE`。）我已经得到了西蒙指定的块数据，那么这里的问题是什么？

另一方面，如果没有 H5Dset_extent，我可以写一个 [0, 1, 2] 的测试数组就好了，但是我们怎样才能让上面的代码输出测试数组到文件中，如下所示：

```
[0, 1, 2]
[0, 1, 2]
[0, 1, 2]
[0, 1, 2]
...
... 
```

回想一下：这只是一个测试数组，实际数据更大，我无法将整个数据保存在 RAM 中，所以我必须一次一个地一个一个地放入数据。

编辑2：

我遵循了更多西蒙的建议。这是关键部分：

```
hsize_t n = 3, p = 1;
float *bufi_data = new float[n * p];
float ** bufi = new float*[n];
for (hsize_t i = 0; i < n; ++i){
    bufi[i] = &bufi_data[i * n];
}

bufi[0][0] = 0.1;
bufi[0][1] = 0.2;
bufi[0][2] = 0.3;

//hyperslab
hsize_t start[2] = {0,0};
hsize_t count[2] = {3,1};

H5Sselect_hyperslab( fid1, H5S_SELECT_SET, start, NULL, count, NULL);
cout << "----------------------------------hyperslab done\n";   

H5Dwrite(dataset1, H5T_NATIVE_FLOAT, H5S_ALL, fid1, H5P_DEFAULT, *bufi);

bufi[0][0] = 0.4;
bufi[0][1] = 0.5;
bufi[0][2] = 0.6;

hsize_t fdimNew[2];
fdimNew[0] = 3;
fdimNew[1] = 2;
H5Dset_extent( dataset1, fdimNew );

cout << "----------------------------------extent done\n";

//hyperslab2
hsize_t start2[2] = {0,0}; //PROBLEM
hsize_t count2[2] = {3,1};

H5Sselect_hyperslab( fid1, H5S_SELECT_SET, start2, NULL, count2, NULL);     
cout << "----------------------------------hyperslab2 done\n";  

H5Dwrite(dataset1, H5T_NATIVE_FLOAT, H5S_ALL, fid1, H5P_DEFAULT, *bufi); 
```

从上面，我得到了 hdf5 的以下输出：

```
0.4 0.5 0.6
  0   0   0 
```

在进一步试验`start2`and之后`count2`，我发现这些变量只影响`bufi`. 它根本不会移动我的数据集的写作索引的位置。

回想一下：最终结果必须是：

```
0.1 0.2 0.3
0.4 0.5 0.6 
```

此外，它必须`bufi`代替`*bufi`for `H5Dwrite`，西蒙，因为`bufi`给了我完全随机的数字。

更新 3：

对于西蒙建议的选择部分：

```
hsize_t start[2] = {0, 0};
hsize_t count[2] = {1, 3};

hsize_t start[2] = {1, 0};
hsize_t count[2] = {1, 3}; 
```

这些将给出以下错误：

```
HDF5-DIAG: Error detected in HDF5 (1.8.10) thread 0:
  #000: /home/hdftest/snapshots-bin-hdf5_1_8_10/current/src/H5Dio.c line 245 in H5Dwrite(): file selection+offset not within extent
    major: Dataspace
    minor: Out of range 
```

`count[2]`应该是`{3,1}`，而不是`{1,3}`，我想？而对于`start[2]`，如果我不将它设置为`{0,0}`，它总是会喊出上面的错误。

你确定这是正确的吗？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-03-13T21:36:06.420

> 在这种情况下如何附加数据？我必须使用什么样的功能？

您必须使用**hyperslabs**。这就是您只需要编写数据集的一部分。这样做的功能是[`H5Sselect_hyperslab`](http://www.hdfgroup.org/HDF5/doc/RM/RM_H5S.html#Dataspace-SelectHyperslab)。在您的通话中使用它`fd1`并`fd1`用作您的文件数据空间。`H5Dwrite`

> 我已经尝试将 HDF5 的无限标志放入，但运行时执行抱怨。

您需要创建一个**分块数据集**，以便能够将其最大大小设置为无穷大。创建一个*数据集创建属性列表*并用于[`H5Pset_layout`](http://www.hdfgroup.org/HDF5/doc/RM/RM_H5P.html#Property-SetLayout)使其分块。用于[`H5Pset_chunk`](http://www.hdfgroup.org/HDF5/doc/RM/RM_H5P.html#Property-SetChunk)设置块大小。然后使用此属性列表创建您的数据集。

> 我不想计算我每次拥有的数据；有没有办法只是简单地继续添加数据，而不关心 的价值`fdim`？

你可以做两件事：

1.  预先计算最终大小，以便您可以创建足够大的数据集。看起来这就是你正在做的事情。

2.  使用 . 扩展您的数据集[`H5Dset_extent`](http://www.hdfgroup.org/HDF5/doc/RM/RM_H5D.html#Dataset-SetExtent)。为此，您需要将最大维度设置为无穷大，因此您需要一个分块数据集（见上文）。

在这两种情况下，您都需要在调用中的文件数据空间上选择一个 hyperslab `H5Dwrite`（见上文）。

## 演练[工作代码](https://gist.github.com/simleb/5205083)

```
#include <iostream>
#include <hdf5.h>

// Constants
const char saveFilePath[] = "test.h5";
const hsize_t ndims = 2;
const hsize_t ncols = 3;

int main()
{ 
```

首先，创建一个 hdf5 文件。

```
 hid_t file = H5Fcreate(saveFilePath, H5F_ACC_TRUNC, H5P_DEFAULT, H5P_DEFAULT);
    std::cout << "- File created" << std::endl; 
```

然后创建一个二维数据空间。第一个维度的大小是无限的。我们最初将其设置为 0 以显示如何在每个步骤中扩展数据集。例如，您还可以将其设置为您要写入的第一个缓冲区的大小。第二维的大小是固定的。

```
 hsize_t dims[ndims] = {0, ncols};
    hsize_t max_dims[ndims] = {H5S_UNLIMITED, ncols};
    hid_t file_space = H5Screate_simple(ndims, dims, max_dims);
    std::cout << "- Dataspace created" << std::endl; 
```

然后创建数据集创建属性列表。使用无限维度时，必须对数据集的布局进行分块。块大小的选择会影响性能，包括时间和磁盘空间。如果块非常小，您将有很多开销。如果它们太大，您可能会分配不需要的空间，并且您的文件最终可能会太大。这是一个玩具示例，因此我们将选择一行的块。

```
 hid_t plist = H5Pcreate(H5P_DATASET_CREATE);
    H5Pset_layout(plist, H5D_CHUNKED);
    hsize_t chunk_dims[ndims] = {2, ncols};
    H5Pset_chunk(plist, ndims, chunk_dims);
    std::cout << "- Property list created" << std::endl; 
```

创建数据集。

```
 hid_t dset = H5Dcreate(file, "dset1", H5T_NATIVE_FLOAT, file_space, H5P_DEFAULT, plist, H5P_DEFAULT);
    std::cout << "- Dataset 'dset1' created" << std::endl; 
```

关闭资源。数据集现已创建，因此我们不再需要属性列表。我们不再需要文件数据空间，因为当数据集被扩展时，它将变得无效，因为它仍将保留以前的范围。所以无论如何我们都必须获取更新的文件数据空间。

```
 H5Pclose(plist);
    H5Sclose(file_space); 
```

我们现在将两个缓冲区附加到数据集的末尾。第一个将是两行长。第二个将是三行长。

### 第一个缓冲区

我们创建一个 2D 缓冲区（在内存中连续，行主要顺序）。我们将分配足够的内存来存储 3 行，所以我们可以重用缓冲区。让我们创建一个指针数组，以便我们可以使用`b[i][j]`符号代替`buffer[i * ncols + j]`. 这纯粹是审美。

```
 hsize_t nlines = 3;
    float *buffer = new float[nlines * ncols];
    float **b = new float*[nlines];
    for (hsize_t i = 0; i < nlines; ++i){
        b[i] = &buffer[i * ncols];
    } 
```

缓冲区中要写入数据集中的初始值：

```
 b[0][0] = 0.1;
    b[0][1] = 0.2;
    b[0][2] = 0.3;
    b[1][0] = 0.4;
    b[1][1] = 0.5;
    b[1][2] = 0.6; 
```

我们创建一个内存数据空间来指示内存中缓冲区的大小。记住第一个缓冲区只有两行长。

```
 dims[0] = 2;
    dims[1] = ncols;
    hid_t mem_space = H5Screate_simple(ndims, dims, NULL);
    std::cout << "- Memory dataspace created" << std::endl; 
```

我们现在需要扩展数据集。我们将数据集的初始大小设置为 0x3，因此我们需要先扩展它。请注意，我们扩展了数据集本身，而不是它的数据空间。记住第一个缓冲区只有两行长。

```
 dims[0] = 2;
    dims[1] = ncols;
    H5Dset_extent(dset, dims);
    std::cout << "- Dataset extended" << std::endl; 
```

在文件数据集上选择 hyperslab。

```
 file_space = H5Dget_space(dset);
    hsize_t start[2] = {0, 0};
    hsize_t count[2] = {2, ncols};
    H5Sselect_hyperslab(file_space, H5S_SELECT_SET, start, NULL, count, NULL);
    std::cout << "- First hyperslab selected" << std::endl; 
```

将缓冲区写入数据集。 `mem_space`现在`file_space`应该选择相同数量的元素。注意`buffer`和`&b[0][0]`是等价的。

```
 H5Dwrite(dset, H5T_NATIVE_FLOAT, mem_space, file_space, H5P_DEFAULT, buffer);
    std::cout << "- First buffer written" << std::endl; 
```

我们现在可以关闭文件数据空间。我们现在可以关闭内存数据空间并为第二个缓冲区创建一个新的，但我们将简单地更新它的大小。

```
 H5Sclose(file_space); 
```

### 第二个缓冲区

缓冲区中要附加到数据集的新值：

```
 b[0][0] = 1.1;
    b[0][1] = 1.2;
    b[0][2] = 1.3;
    b[1][0] = 1.4;
    b[1][1] = 1.5;
    b[1][2] = 1.6;
    b[2][0] = 1.7;
    b[2][1] = 1.8;
    b[2][2] = 1.9; 
```

调整内存数据空间的大小以指示缓冲区的新大小。第二个缓冲区是三行长。

```
 dims[0] = 3;
    dims[1] = ncols;
    H5Sset_extent_simple(mem_space, ndims, dims, NULL);
    std::cout << "- Memory dataspace resized" << std::endl; 
```

扩展数据集。请注意，在这个简单的示例中，我们知道 2 + 3 = 5。通常，您可以从文件数据空间中读取当前范围，并向其中添加所需的行数。

```
 dims[0] = 5;
    dims[1] = ncols;
    H5Dset_extent(dset, dims);
    std::cout << "- Dataset extended" << std::endl; 
```

在文件数据集上选择 hyperslab。同样在这个简单的示例中，我们知道 0 + 2 = 2。通常，您可以从文件数据空间中读取当前范围。第二个缓冲区是三行长。

```
 file_space = H5Dget_space(dset);
    start[0] = 2;
    start[1] = 0;
    count[0] = 3;
    count[1] = ncols;
    H5Sselect_hyperslab(file_space, H5S_SELECT_SET, start, NULL, count, NULL);
    std::cout << "- Second hyperslab selected" << std::endl; 
```

将缓冲区附加到数据集

```
 H5Dwrite(dset, H5T_NATIVE_FLOAT, mem_space, file_space, H5P_DEFAULT, buffer);
    std::cout << "- Second buffer written" << std::endl; 
```

结束：让我们关闭所有资源：

```
 delete[] b;
    delete[] buffer;
    H5Sclose(file_space);
    H5Sclose(mem_space);
    H5Dclose(dset);
    H5Fclose(file);
    std::cout << "- Resources released" << std::endl;
} 
```

* * *

**注意：** *我删除了以前的更新，因为答案太长了。如果您有兴趣，请浏览历史。*

# joomla - Jomsocial 在页面上显示 JQuery 文本

> ID：15379404
> 
> 赞同：0
> 
> 时间：2013-03-13T07:35:05.087
> 
> 标签：joomla, jomsocial

在我的网站上，Jomsocial 将 JQuery 输出显示为页面中的文本。

我不知道如何摆脱它，并且非常欢迎任何想法。

请看这个屏幕截图：

[http://www.fabulous-women.co.uk/JS_AD.png](http://www.fabulous-women.co.uk/JS_AD.png)

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T23:38:17.600

首先尝试切换到 Jomsocial 默认模板。

你的 jomsocial 是最新的，还是稳定的版本？

似乎有一个未终止的字符串或标签导致所有代码都被输出......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T09:46:17.927

你有没有破解过任何核心文件。再次尝试重新安装 Jomsocial。

# openfire - OpenFire - Google Talk 联盟

> ID：15379407
> 
> 赞同：1
> 
> 时间：2013-03-13T07:35:14.407
> 
> 标签：openfire, google-talk

我在 im.domain.com 上配置了 OpenFire 3.7.1 服务器。我想在此服务器上建立 Google Talk Federation，以便我的用户可以与其他 GTalk 用户聊天。

这是我在 GoDaddy 上的 SRV 记录。

![我在 GoDaddy 上的 SRV 记录。](../Images/811898f365ee19dd601f5bc518e826c9.png)

我对 OpenFire 和 Jabber 很陌生。我有一个在 im.domain.com 上配置的 OpenFire，它在 AWS EC2 微实例上运行。

但是当我使用[http://kingant.net/check_xmpp_dns/?h=jabber.org](http://kingant.net/check_xmpp_dns/?h=jabber.org)对其进行测试时，它失败了。

请帮助我，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T09:12:46.767

我已经解决了问题。问题出在 DNS 记录上。我已将“名称”更改为“im”，并将服务从“_jabber”重命名为“_xmpp-client”。

# string - 如何在 Rust 中将 &str 转换为 ~str？

> ID：15379408
> 
> 赞同：19
> 
> 时间：2013-03-13T07:35:23.823
> 
> 标签：string, pointers, rust, rust-obsolete

顺便说一下，这是针对当前 0.6 Rust 主干的，不确定确切的提交。

假设我想为每个字符串遍历一些字符串，并且我的闭包采用借用的字符串指针参数（&str）。我希望我的闭包将其参数添加到要返回的拥有字符串 ~[~str] 的拥有向量中。我对 Rust 的理解很薄弱，但我认为字符串是一种特殊情况，你不能用 * 取消引用它们，对吧？如何将我的字符串从 &str 获取到需要 ~str 的向量的 push 方法中？

这是一些无法编译的代码

```
fn read_all_lines() -> ~[~str] {
    let mut result = ~[];
    let reader = io::stdin();
    let util = @reader as @io::ReaderUtil;
    for util.each_line |line| {
        result.push(line);
    }
    result
} 
```

它无法编译，因为它推断结果的类型为 [&str]，因为这就是我要推动的。更不用说它的生命周期是错误的，因为我正在向它添加一个生命周期较短的变量。

我意识到我可以使用 ReaderUtil 的 read_line() 方法，它返回一个 ~str。但这只是一个例子。

那么，如何从借来的字符串中获取拥有的字符串？还是我完全误解了。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-21T09:04:31.553

您应该调用 StrSlice 特征的方法 to_owned，如下所示：

```
fn read_all_lines() -> ~[~str] {
    let mut result = ~[];
    let reader = io::stdin();
    let util = @reader as @io::ReaderUtil;
    for util.each_line |line| {
        result.push(line.to_owned());
    }
    result
} 
```

StrSlice 特征文档在这里：

[http://static.rust-lang.org/doc/core/str.html#trait-strslice](http://static.rust-lang.org/doc/core/str.html#trait-strslice)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T07:50:45.737

你不能。

一方面，它在语义上不起作用：a`~str`承诺一次只有*一个东西拥有它*。但是a`&str`是借来的，那么你借来的地方会发生什么？它无法知道您正在尝试窃取它的唯一引用，并且将调用者的数据从它下面丢弃是非常粗鲁的。

另一方面，它在逻辑上不起作用：`~`-pointers 和`@`-pointers 分配在完全不同的堆中，并且 a`&`不知道*哪个*堆，因此无法转换`~`并仍然保证底层数据位于正确的位置地方。

因此，您可以使用`read_line`或制作副本，我……不太确定该怎么做:)

我确实想知道为什么 API 是这样的，什么时候`&`是最受限制的指针。 `~`在这里应该也能正常工作；它不像迭代的字符串已经存在于其他地方并且*需要*借用。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-13T12:49:25.797

起初我认为可以使用`copy line`从借来的指针到字符串创建拥有指针，但这显然复制了隐藏的指针。

于是我发现`str::from_slice(s: &str) -> ~str`。这可能是您需要的。

# objective-c - 自定义 NSMenu（如 Apple 的 Dock 右键菜单）？

> ID：15379410
> 
> 赞同：2
> 
> 时间：2013-03-13T07:35:35.730
> 
> 标签：objective-c, macos, cocoa, nsmenu

有没有办法自定义 NSMenu 的外观，例如，它的透明度、背景颜色或使用公共 API 的前景色（如 Apple 的 Dock 右键单击​​菜单）？

经过大量搜索后，我发现了一些代码，他们使用私有 API 使菜单变暗！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:26:28.940

我认为，如果您只使用您编写的自定义视图来查看您想要的外观并表现得像一个菜单，那么您将会有更好的运气。Apple 提供了一个示例项目[CustomMenus](https://developer.apple.com/library/mac/#samplecode/CustomMenus/Introduction/Intro.html)来说明该技术。[它是WWDC 2010 会议视频](https://developer.apple.com/videos/wwdc/2010/)之一，[第 145 场会议，“Cocoa 应用程序中的关键事件处理”](https://developer.apple.com/itunes/?destination=adc.apple.com.4092349126.04109539109.4144345655?i=1952599232)的伴侣。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-03T03:56:30.357

# c - 使用 C 的结构问题

> ID：15379416
> 
> 赞同：0
> 
> 时间：2013-03-13T07:35:55.103
> 
> 标签：c

我正在尝试将字符串存储到动态分配的内存中。我能够分解字符串并将它们存储在结构的成员中并在函数中完美地打印它们`readFile`，但是当它在 main 中打印时，它只打印最后一次扫描，其他一切都是`null`. 我在想，也许我没有正确分配结构数组。这是我的程序。

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>
#ifdef _MSC_VER
#include <crtdbg.h>  // needed to check for memory leaks (Windows only!)
#endif

#define MEM_ERROR printf("Not enough memory\n")
#define FLUSH while( getchar() != '\n' )

typedef struct
{
char id[5];
char *name;
int *sales;
int total;
int low;
int high;
}PERSON;

typedef struct
{
int worker;
int weeks;
PERSON *pAry;
}HEADER;

//  Function Declaration
void    valiFile(char nameIn[]);
FILE*   openFile(char nameIn[]);
void    getHeader(FILE* fpFile, HEADER *pHead);
PERSON* aloPerson(int workers);
void    readFile(FILE* fpFile, HEADER *pHead);
char*   aloName(HEADER *pHead, int strCount);
void    repeat(char nameIn[]);

int main ( void )
{
//  Local Declaration
FILE* fpFile;
char  nameIn[25];
char *endPro = "end";
HEADER *pHead = (HEADER*)calloc(1, sizeof(HEADER));

//  Statement
printf("Please select file to to open.\nsales or sales_2: ");
scanf("%s", nameIn);
FLUSH;

do
{
    valiFile(nameIn);
    fpFile = openFile(nameIn);
    getHeader(fpFile, pHead);
    readFile(fpFile, pHead);

    //printf("%s\n", pHead->pAry[0].id);

    //free(pHead);

    repeat(nameIn);
}

return 0;
}// main

/* ========== valiFile ==========

========== */
void valiFile(char nameIn[])
{
//  Local Declaration
char *file = "sales";
char *file2 = "sales_2";
int i;
int check = 0;

//  Statement
do
{
    for(i = 0; nameIn[i]; i++)
    {
        nameIn[i] = tolower(nameIn[i]);
    }

    if(strcmp(file, nameIn) != 0)
    {
        if(strcmp(file2, nameIn) != 0)
        {
            printf("\nPlease enter a valid file.\n");
            printf("sales or sales_2: ");
            scanf("%s", nameIn);
            FLUSH;
        }
        else
            check = 1;
    }
    else
        check = 1;
}
while(check != 1)
;

return;
}// valiFile

/* ========== openFile ==========

========== */
FILE* openFile(char nameIn[])
{
//  Local Declaration
FILE* fpFile;
char *strSale = "sales";

//  Statement
if(strcmp(strSale, nameIn) == 0)
{
    fpFile = fopen("sales.txt", "r");
    if(fpFile == NULL)
    {
        printf("File didn't read correcty.\n");
        exit(100);
    }
}
else
{
    fpFile = fopen("sales_2.txt", "r");
    if(fpFile == NULL)
    {
        printf("File didn't read correcty.\n");
        exit(100);
    }
}

return fpFile;
}// openFile

/* ========================= getHeader ========================

============================================================*/
void getHeader(FILE* fpFile, HEADER *pHead)
{
//  Local Declaration
int worker, salesWeek, i;
PERSON *list;

//  Statement
fscanf(fpFile, "%d %d", &worker, &salesWeek);
list = aloPerson(worker);
HEADER header = {worker, salesWeek, list};
*pHead = header;

return;
}// getHeader

/* aloPerson

*/
PERSON* aloPerson(int worker)
{
//  Local Declaration
PERSON *list;

//  Statement
list =(PERSON*)calloc(worker, sizeof(PERSON));
if(list == NULL)
{
    MEM_ERROR, exit(103);
}

return list;
}// aloPerson

/* readFile

*/
void readFile(FILE* fpFile, HEADER *pHead)
{
//  Local Declaration
char temp[50];
int strCount = 0;
char *loc;
char *ptr;
int i;

//  Statement
fscanf(fpFile, "%*d %*d");
for(i = 0; i < pHead->worker; i++)
{
    while(fgets(temp, sizeof(temp), fpFile))
    {
        ptr = temp;
        loc = strchr(temp, ' ');
        strncpy(pHead->pAry[i].id, temp, (loc - ptr));
        ptr += (loc - temp);
        *ptr++;
        loc = strchr(temp, ';');
        strCount = (loc - ptr);

        pHead->pAry[i].name = aloName(pHead, strCount);

        strncpy(pHead->pAry[i].name, ptr, (loc - ptr));
        ptr += (loc - ptr);
        printf("%s\n", pHead->pAry[i].name);
    }
}

return;
}// readFile

/* aloName

*/
char* aloName(HEADER *pHead, int strCount)
{
//  Local Declaration
char *names;

//  Statement;
names = malloc((strCount + 1)*sizeof(char));

return names;
} 
```

# php - php函数没有在php中返回数组

> ID：15379421
> 
> 赞同：0
> 
> 时间：2013-03-13T07:36:10.243
> 
> 标签：php

我创建了如下函数：

```
<?php
$cat_id=2;
$ids=array();
$ids[]=2;
var_dump(fetchParents($cat_id,$ids));
function fetchParents($cat_id,$ids){
    $db=mysql_connect("localhost","root","") or die("could not connect to database");
    mysql_select_db("symfony",$db) or die("could not connect to symfony database");
    $query="SELECT parent_id FROM categories WHERE id='$cat_id'";
    $result=mysql_query($query,$db);
    if (mysql_num_rows($result)==1) {
        $cat=mysql_fetch_array($result);
        if (isset($cat['parent_id'])) {
             $ids[]=$cat['parent_id'];
             fetchParents($cat['parent_id'],$ids);
        }
        else {
            var_dump($ids);
            return $ids;
        }

    }
    else {
        return $ids;
    }
}
?> 
```

该函数应该返回一个数组，但我得到 null 并且我确定 $ids 是一个数组。我还在返回数组的函数中使用 var_dump($ids) 进行了检查。有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T07:39:57.750

`return`有一个控制流在退出函数之前不执行语句。你需要改变

```
fetchParents($cat['parent_id'],$ids); 
```

到

```
return fetchParents($cat['parent_id'],$ids); 
```

否则，在该行之后，函数退出时没有`return`.

**添加：**

要转换为循环：

```
function fetchParents($childId)
{
    $ids = array();

    $db=mysql_connect("localhost","root","") or die("could not connect to database");
    mysql_select_db("symfony",$db) or die("could not connect to symfony database");

    while (true)
    {
        $res = mysql_query("SELECT parent_id FROM categories WHERE id=$childId");
        $row = mysql_fetch_assoc($res);
        if (is_null($row['parent_id']) )
            return $ids;
        $ids[] = $row['parent_id'];
        $childId = $row['parent_id'];
    }
} 
```

顺便说一句 - 我看到在原始示例中，您还将起始元素的 ID 添加到数组中。如果是这样，那么它可以变得更加优雅：

```
function fetchParents($childId)
{
    $ids = array();

    $db=mysql_connect("localhost","root","") or die("could not connect to database");
    mysql_select_db("symfony",$db) or die("could not connect to symfony database");

    while (!is_null($childId))
    {
        $ids[] = $childId;
        $res = mysql_query("SELECT parent_id FROM categories WHERE id=$childId");
        $row = mysql_fetch_assoc($res);
        $childId = $row['parent_id'];
    }
    return $ids;
} 
```

`SELECT`请注意，当查询不返回任何行时，这两者都不会处理这种情况。我认为这不会发生，因为您是按 ID 选择的。但是，如果这是可能的，那么您还需要检查`$row === false`，否则您会收到很多警告/错误消息（不确定 PHP 在这种情况下会做什么）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:40:10.723

如果前两个 IF 为真，则该函数不返回任何内容。

# ios - ios array.next 异常

> ID：15379424
> 
> 赞同：-2
> 
> 时间：2013-03-13T07:36:17.587
> 
> 标签：ios, objective-c, nsarray

我在运行以下代码时遇到异常，代码是

```
NSMutableArray *mutablearray = [NSMutableArray array];

    data=[MyDatabase new];
     imagearray=[data OpenMyDatabase:@"SELECT pic_name FROM interior":@"pic_name"];

    while([imagearray next])  /////Getting exception here
    {
       [mutablearray addObject:imagearray];
    } 
```

我的例外是，

-[__NSArrayM next]：无法识别的选择器发送到实例背后的确切原因是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:47:20.047

您没有正确枚举。

`NSArray` [文档](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/NSArray.html#//apple_ref/occ/instm/NSArray/objectEnumerator)中的示例：

```
NSEnumerator *enumerator = [myArray objectEnumerator];
id anObject;

while (anObject = [enumerator nextObject]) {
    /* code to act on each element as it is returned */
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:49:04.137

尝试

```
[mutablearray addObjectsFromarray:imagearray]; 
```

代替

```
while([imagearray next])  
{
   [mutablearray addObject:imagearray];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T07:49:19.563

试试这个

```
 NSMutableArray *mutablearray = [NSMutableArray array];

 data=[MyDatabase new];
 imagearray=[data OpenMyDatabase:@"SELECT pic_name FROM interior":@"pic_name"];

 NSEnumerator *e = [imagearray objectEnumerator];
 id object;
 while (object = [e nextObject]) {
    [mutablearray addObject:object];

 } 
```

# ios - 使用 CFSocketStream 的编译时间错误

> ID：15379436
> 
> 赞同：-1
> 
> 时间：2013-03-13T07:36:49.523
> 
> 标签：ios, sockets, networking, bonjour, cfnetwork

以下代码行导致我的 iOS 应用程序出现编译错误

```
CFStreamCreatePairWithSocketToNetService(kCFAllocatorDefault, (__bridge CFNetServiceRef)netService, &readStream, &writeStream); 
```

如果我用**CFStreamCreatePairWithSocketToHost**替换代码，它工作正常。

错误如下；

```
Undefined symbols for architecture i386:
"_CFStreamCreatePairWithSocketToNetService", referenced from:
  -[Connection connect] in Connection.o
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

有人可以帮帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-15T08:57:11.340

实际上解决方案是添加 CFNetwork 框架来构建阶段。我以某种方式错过了它。

# c# - 将 TextReader 转换为 XmlReader

> ID：15379438
> 
> 赞同：1
> 
> 时间：2013-03-13T07:36:51.213
> 
> 标签：c#, xml, io, xmlreader, textreader

我有一个函数让`TextReader`我想将它用作`XmlReader：

```
 private void myFunc(TextReader textReader)
    {
        XmlReader _xml;
        _xml=?
    } 
```

有没有办法转换`TextReader`成`XmlReader`?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T07:40:08.007

用于`XmlReader.Create(TextReader)`创建 XmlReader 的新实例

[XmlReader](http://msdn.microsoft.com/en-us/library/z042k543.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:39:48.757

尝试：

```
XmlReader reader = XmlReader.Create(textReader); 
```

来自[`docs`](http://msdn.microsoft.com/en-us/library/z042k543.aspx)

# ios - 地图套件的用户体验

> ID：15379439
> 
> 赞同：0
> 
> 时间：2013-03-13T07:36:58.497
> 
> 标签：ios, objective-c, mapkit, mkannotation, mkannotationview

MapKit 框架中的注解是延迟加载的吗？通过记录，我发现 viewForAnnotation 在加载 Map 本身的开始时被调用。

另外我希望只加载那些在地图界面中可见的注释，只要它们不在平移范围内就将它们删除。我怎样才能做到这一点？

我的最后一个问题是关于注释数量的性能下降。我目前有大约 10,000 个注释要添加到地图中。那么延迟加载对我来说有多好？地图视图是否被这么多注释超载，因此无法提供良好的用户体验？在模拟器上一切似乎都很好，这在真正的 iPhone 上会有什么影响？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:42:39.450

我看它的方式....我不会一次加载所有 10,000 个注释。用户将在任何给定时间点处于特定位置。我将加载该区域内和周围的所有场地/注释，以便仅向用户显示相关数据。当用户滚动到地图中的其他部分时......然后我将获取地图上该特定点的位置数据/信息，然后加载它而不是加载整个内容。（即所有 10000 个注释）。

谷歌地图也做同样的事情。它只加载相关数据，即用户区域内和周围的数据/位置/注释。如果用户滚动或浏览到另一个位置，则可以加载该区域内和周围的注释。所以整个过程会更轻松，更不用担心。

请仔细看看谷歌地图。

# jasmine - pages.open() 从不调用回调

> ID：15379442
> 
> 赞同：3
> 
> 时间：2013-03-13T07:37:13.780
> 
> 标签：jasmine, phantomjs, js-test-driver

我正在使用 PhantomJS 1.8.2 使用 JsTestDriver 运行一些 Jasmine 单元测试。使用 Chrome 测试运行良好，但使用 PhantomJS 大约有一半的时间，测试结果是没有找到测试用例。

我已将问题缩小到 PhantomJS 无法打开本地 JsTestDriver 页面 ( `http://localhost:9876/capture`)。以下是如何重现这个，大约 50% 的时间，*Loaded ... with status ...*消息永远不会显示：

*   在本地启动 JsTestDriver 服务器
*   跑`phantomjs phantomjs-jstd-bridge.js`

该文件`phantomjs-jstd-bridge.js`如下所示：

```
var page = require('webpage').create();
var url = 'http://localhost:9876/capture';
console.log('Loading ' + url);
page.open(url, function(status) {
  console.log('Loaded ' + url + ' with status ' + status);
}); 
```

第一行日志（*Loading ...*）始终显示，但来自回调的第二行仅打印了大约一半的时间。

这可能是什么原因？在网络浏览器中打开有问题的 URL 每次都可以正常工作。

有没有办法获得更多关于为什么 PhantomJS 不调用回调的信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T14:27:54.100

[检查故障排除](https://github.com/ariya/phantomjs/wiki/Troubleshooting)wiki 页面中提到的一些提示。特别有用的是跟踪网络传输活动，因为它可能指示某些资源是否未正确发送或其他类似问题。

# android - 停止 ListView 中的 ViewPagers 重置

> ID：15379443
> 
> 赞同：6
> 
> 时间：2013-03-13T07:37:14.797
> 
> 标签：android, android-listview, android-viewpager

我有一个`ListView`包含`ViewPager`s 的行。当 a`ViewPager`滚动到屏幕外时，我想保存它的页面位置。当用户`ViewPager`再次滚动时，我想恢复其最后保存的页面位置。

我正在尝试使用以下代码来完成此操作：

```
public class MyBaseAdapter extends BaseAdapter {

    // Row ids that will come from server-side, uniquely identifies each
    // ViewPager
    private List<String> mIds = new ArrayList<String>();
    private Map<String, Integer> mPagerPositions = new HashMap<String, Integer>();

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        String id = mIds.get(position);

        View rootView = convertView;
        if (rootView == null) {
            rootView = LayoutInflater.from(parent.getContext()).inflate(
                    R.layout.row, null);
        }

        ViewPager viewPager = (ViewPager) rootView.findViewById(R.id.pager);
        Integer pagerPosition = mPagerPositions.get(id);
        if (pagerPosition != null) {
            viewPager.setCurrentItem(pagerPosition);
        }
        viewPager.setOnPageChangeListener(new MyPageChangeListener(id));

        return rootView;
    }

    @Override
    public int getCount() {
        return mIds.size();
    }

    @Override
    public Object getItem(int position) {
        return null;
    }

    @Override
    public long getItemId(int position) {
        return 0;
    }

    private class MyPageChangeListener extends
            ViewPager.SimpleOnPageChangeListener {

        private String mId;

        public MyPageChangeListener(String id) {
            mId = id;
        }

        @Override
        public void onPageSelected(int position) {
            mPagerPositions.put(mId, position);
        }
    }
} 
```

页面位置在第一次调用时保存`setPagerPosition()`。之后，当`ViewPager`离开屏幕时，`onPageSelected()`使用保存的第一页位置调用 - 覆盖在仍然可见`onPageSelected()`时发生的任何先前调用。`ViewPager`

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-17T22:04:17.837

解决方案是在 ViewPager 不可见时不覆盖寻呼机位置。Android 中似乎存在一个错误，当滚动 ListView 时 ViewPager 离开屏幕时会调用 onPageSelected。

```
@Override
public void onPageSelected(int position) {
    if (viewPager.isShown()) {
        mTopicPositions.put(mId, position);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T05:34:08.260

我认为您可以获取当前显示的位置`indexOfChild(viewPager.getFocusedChild())`并将其存储在共享首选项中，并且可以在需要时检索它。希望这可以帮助

# codeigniter - 代码中的错误 noob 无法修复它们

> ID：15379444
> 
> 赞同：0
> 
> 时间：2013-03-13T07:37:16.947
> 
> 标签：codeigniter, variables, foreach, php

我正在开发一个显示数据库表中数据的小型应用程序。我收到 2 个错误，不知道为什么会出现，而且我还是个菜鸟，所以我无法弄清楚。我想这是愚蠢的，请帮助。

**错误**

```
A PHP Error was encountered

Severity: Notice

Message: Undefined variable: querys

Severity: Warning

Message: Invalid argument supplied for foreach() 
```

这些错误位于我的视图页面中。

**看法**

```
 <?php foreach ($queries as $row): ?>
    <table>

       <th>Name</th>
       <th>Surname</th>
       <th>phone</th>
       <th>email</th>

       <td><?php echo $row->name; ?></td>
       <td><?php echo $row->surname; ?></td>
       <td><?php echo $row->phone; ?></td>
       <td><?php echo $row->email; ?></td>

   </table>  
    <?php endforeach; ?> 
```

**控制器**

```
 function display($offset = 0)
    {
           $limit = 20;
            $this->load->model('info_model');

            $results = $this->info_model->search($limit, $offset);

            $data['queries'] = $results['rows'];
            $data['num_results'] = $results['num_rows'];

            $this->load->view('info_view',$data);

    } 
```

**模型**

```
 function search ($limit, $offset){

          //results query 
          $q = $this->db->select('ID, name, surname, phone, email');
          $this->db->from('tblinfo');
          $this->db->limit($limit, $offset);

          $ret['rows'] = $q->get()->result();
          //count query
          $q = $this->db->select('COUNT(*) as count', FALSE )
          ->from('tblinfo');

          $tmp = $q->get()->result();

          $ret['num_rows'] = $tmp[0]->count;
          return $ret;
      } 
```

**编辑**

我通过插入修复了 foreach 错误

```
 <?php if(is_array($queries)): ?>
   <?php endif; ?> 
```

我得到的唯一错误是

```
 A PHP Error was encountered

    Severity: Notice

    Message: Undefined variable: queries 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T07:57:56.663

```
$data['query'] = $results['rows']; 
```

应该

```
$data['querys'] = $results['rows']; // although correct spelling is "queries" 
```

然后你可以访问`$querys`你的视图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:17:07.443

问题似乎出在您的模型`search()`方法上，它可能没有返回任何结果。我将重写如下以利用 codeigniters 活动记录类：

```
function search ($limit, $offset){

    //results query 
    $this->db->select('ID, name, surname, phone, email');
    $q =  $this->db->get('tblinfo', $limit, $offset);

    $ret['rows'] = $q->result();

    //count query
    $ret['num_rows'] = $this->db->count_all('tblinfo');

    return $ret;
} 
```

您可以使用 Codeigniters[活动记录类](http://ellislab.com/codeigniter/user-guide/database/active_record.html)来获取特定表中所有记录的计数，仅使用`$this->db->count_all('table_name');`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T08:15:21.450

也许稍微改变你的搜索代码

```
$q = $this->db->select('ID, name, surname, phone, email')
              ->from('tblinfo')
              ->limit($limit, $offset); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T08:23:43.013

我个人认为一个函数应该只执行一项任务。现在，您正尝试在一个函数中执行两项任务（返回记录和返回记录计数）。

我会像这样重写我的模型：

```
function search($limit, $offset)
{
  $this->db->select('ID, name, surname, phone, email');
  $this->db->from('tblinfo');
  $this->db->limit($limit, $offset);
  return $this->db->get();
} 
```

您的控制器可能如下所示：

```
function display($offset = 0)
{
  $this->load->model('info_model');
  $results = $this->info_model->search(20, $offset);

  $data['queries'] = $results->result();
  $data['num_results'] = $this->db->count_all('tblinfo'); // Alternatively you could make a separate model function that does this

  $this->load->view('info_view', $data);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T08:34:37.697

将您的模型代码更改为此

```
function search ($limit, $offset){

      //results query 
      $this->db->select('ID, name, surname, phone, email');
      $this->db->from('tblinfo');
      $this->db->limit($limit, $offset);
      $q = $this->db->get();
      $ret['rows'] = $q->result();
      //count query
      $q1 = $this->db->select('COUNT(*) as count', FALSE )
      ->from('tblinfo');

      $tmp = $q1->get()->result();

      $ret['num_rows'] = $tmp[0]->count;
      return $ret;
  } 
```

# c# - Live Tile 作为 XAML C# 中 Windows 8 商店应用程序中的 GridView 项目

> ID：15379446
> 
> 赞同：1
> 
> 时间：2013-03-13T07:37:29.113
> 
> 标签：c#, winrt-xaml, live-tile

我想创建 Windows 8 商店应用程序 GridView 项目，因为 Live Tile 项目将自动更新我们可以在 XAML C# 中与 Windows 8 的开始菜单图块一样吗？

# android - 设备选择器未在 Eclipse (MacBook Pro) 中显示设备

> ID：15379452
> 
> 赞同：2
> 
> 时间：2013-03-13T07:37:50.223
> 
> 标签：android, eclipse, device, adb

我正在使用 Mac 系统，在我的 Eclipse 中，当我右键单击项目并运行它时，它曾经在设备上运行，但现在突然它没有在 Android 设备选择器中显示设备

我已经在它启用的手机上检查了启用的 USB 调试，我正在使用 Nexus One。

我还检查了几个链接：

[为什么 Eclipse 的 Android 设备选择器不显示我的 Android 设备？](https://stackoverflow.com/questions/3429959/why-is-eclipses-android-device-chooser-not-showing-my-android-device)

[Android 设备选择器 - 设备未显示](https://stackoverflow.com/questions/2256884/android-device-chooser-device-not-showing-up)

但我无法解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-27T12:46:29.277

（由 OP 在问题编辑中回答。作为社区 wiki 答案移至此处，尽管它主要是一个网络链接。请参阅[没有答案的问题，但问题在评论中解决（或在聊天中扩展）](https://meta.stackoverflow.com/questions/251597/question-with-no-answers-but-issue-solved-in-the-comments)）

OP写道：

> 感谢这里的链接；
> 
> [http://forum.xda-developers.com/showthread.php?t=649663](http://forum.xda-developers.com/showthread.php?t=649663)
> 
> 好的，我自己解决了我试图杀死 adb 驱动程序并重新启动，而且我的 Nexus 是 2.3.3，这是 api 级别 10，但我的应用程序是 api 级别 11。

该链接包含有关在 Mac 上设置和运行 adb 的说明。

# caching - 文章命中计数器和 Joomla 2.5.x 缓存？

> ID：15379456
> 
> 赞同：0
> 
> 时间：2013-03-13T07:38:17.110
> 
> 标签：caching, joomla2.5, counter-cache, hit, hitcounter

有评论在[向 Joomla 添加命中计数器时](https://stackoverflow.com/questions/15165840/adding-in-a-hit-counter-to-joomla)缓存会影响库存命中计数器。您知道如何在 Joomla 中修复该错误，或​​者我可以从哪里开始查看代码吗？

我看到它已在错误跟踪器中提交，但没有人分配给它。我认为必须在提供缓存之前增加点击量，而目前生成内容的函数实际上是调用点击量增加函数的函数，所以这就是为什么点击量只会在新文章渲染时增加。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-30T22:13:53.077

Joomla 会在页面构建时计算并更新文章点击量，但如果启用了缓存插件并且页面已缓存到磁盘，则页面直接从缓存目录加载，而不更新查看次数。您可以在此处尝试此 joomla hack： [Joomla Hit Counter Updater](http://scoptop.com/software-products/joomla/5-joomla-hit-counter-updater) 即使它不是免费的，它也可能对您有所帮助。

# asp.net - 一旦应用程序池被回收，Net.Msmq 绑定就不会在队列中提取消息

> ID：15379457
> 
> 赞同：2
> 
> 时间：2013-03-13T07:38:19.787
> 
> 标签：asp.net, wcf, netmsmqbinding, msmq-wcf

“当应用程序池“活动”时，服务会正确拾取消息，但一旦应用程序池被回收（由于超时或任何其他原因），服务就会停止拾取仅位于队列中的消息直到通过浏览服务网页再次启动服务”

您是否找到解决方案，无需手动浏览服务即可激活服务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-02-15T17:59:15.177

解决方案是配置[自动启动](https://msdn.microsoft.com/en-us/library/ee677285(v=azure.10).aspx)。然后 IIS 将立即启动您的服务，而无需等待第一个请求。

但首先您需要将[AppFabric](https://msdn.microsoft.com/en-us/library/ee677212(v=azure.10).aspx)添加到您的 ISS，然后您需要确保在池高级设置中有“启动模式”选项。

注意：在我的 windows 7 IIS7 中没有工作，但在我的 windows server 2012 R2 IIS8 中完美运行

你也可以检查这个类似的问题： [MSMQ WCF hosting in IIS](https://stackoverflow.com/questions/22617449/msmq-wcf-hosted-in-iis/35415746#35415746)

# vb.net - vb2008 中的 Crystal Report 显示消息“此处需要字符串”

> ID：15379459
> 
> 赞同：0
> 
> 时间：2013-03-13T07:38:26.260
> 
> 标签：vb.net, mysql-workbench, crystal-reports-2008

Days 列在我的数据库中是整数类型

如果 {SubmitReport.Days} > 14 那么 crRed 否则 crBlack

代替 14(integer) 询问 String 是必需的...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T10:31:55.497

如果要更改报表中文本字段的颜色，请为颜色添加公式

![在此处输入图像描述](../Images/022a3005cc72529f76d8cfffee4df759.png) ![在此处输入图像描述](../Images/3d9eb79dc82380dbfd7029edaa5ee6a7.png)

这就是你真正想做的吗？

# mgwt - 在 MGWT 中为每个单元格列表单元添加文本和图像

> ID：15379463
> 
> 赞同：3
> 
> 时间：2013-03-13T07:38:48.853
> 
> 标签：mgwt, celllist

您能帮我在 mgwt 中将文本和图像添加到单元格列表单元格中吗？我只为文本所做，但未能同时放置文本和图像。等待您的宝贵回复。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T18:54:35.190

在单元格中，您可以使用任何您想使用的标记。这与 GWT 标准单元小部件及其单元没有什么不同。

这是取自 mgwt 展示柜的一个基本示例，经过修改以在标记中包含一个 img 标签：

```
public abstract class BasicCell<T> implements Cell<T> {

    private static Template TEMPLATE = GWT.create(Template.class);

    public interface Template extends SafeHtmlTemplates {
        @SafeHtmlTemplates.Template("<div>{0} <img src="{1}"/></div>")
        SafeHtml content(String text, String imgUrl);

    }

    @Override
    public void render(SafeHtmlBuilder safeHtmlBuilder, final T model) {
        safeHtmlBuilder.append(TEMPLATE.content("text", "someUrl.jgp"));

    }

    public abstract String getDisplayString(T model);

    @Override
    public boolean canBeSelected(T model) {
        return false;
    }

} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-08T08:01:31.147

通过考虑 MyContacts bean，我发布了使用 MGWT 的 CellList 的所有步骤。我认为这对初学者有很大帮助。假设 bean MyContacts 有两个名为contactImagePath 和contactPersonName 的属性。现在我在 cellList 中显示所有 MyContacts 列表，同时显示图像图标（通常具有小尺寸，因为它应该显示在单元格中）和联系人姓名。代码将是..

```
public abstract class MyContactsCell<T> implements Cell<T> {

  private static Template TEMPLATE = GWT.create(Template.class);

  private String styleName;
  public MynaContextBasicCell() {
      styleName = "";
  }

  public interface Template extends SafeHtmlTemplates {
     @SafeHtmlTemplates.Template("<div class=\"{0}\">" +
        "<table>" +
            "<tr>" +
                 "<td ><img style='float: left;' src=\"{1}\"></img></td>   " +
                        "<td >&nbsp;</td> " +
                        "<td ><b>{2}</b></td> " +
                    "</tr>" +
                "</table>"+
                "</div>")
        SafeHtml content(String classes, String contactImagePath,String contactPersonName);

      }

  @Override
  public void render(SafeHtmlBuilder safeHtmlBuilder, final T model) {
    safeHtmlBuilder.append(TEMPLATE.content(styleName, getContactImagePath(model), getContactPersonName(model)));

  }

  public abstract String getContactImagePath(T model);
  public abstract String getContactPersonName(T model);

  @Override
  public boolean canBeSelected(T model) {
    return false;
  }

  public void setStylename(String name) {
    if (name == null) {
      name = "";
    }
    styleName = name;
  }

} 
```

现在定义上面的子类

```
public class MyContactsCellSubType extends MyContactsCell<MyContacts> {

@Override
public String getContactImagePath(MyContacts model) {
    return model.getContactImagePath();
}
@Override
public String getContactPersonName(MyContacts model) {
    return model.getContactPersonName();
}

@Override
public boolean canBeSelected(MyContacts model) {
    return true;
}

} 
```

在你看来，

```
MyContactsCellSubType contactsCellSubType = new MyContactsCellSubType();
CellList<MyContacts> contactsCellList = new CellList<MyContacts>(contactsCellSubType); 
```

假设“myContactList”是您的视图中可用的 MyContacts 列表。

```
contactsCellList.render(myContactList); 
```

在将列表呈现给 contactsCellList 并将其呈现给滚动面板之后

```
 contactsCellList.setRound(true);
    myScrollPanel.setWidget(contactsCellList);
    myScrollPanel.setScrollingEnabledX(false);;
    myScrollPanel.setSize("100%", "100%"); 
```

将 myScrollPanel 添加到视图的主面板。

# javascript - 创建全局 API 对象

> ID：15379464
> 
> 赞同：-1
> 
> 时间：2013-03-13T07:38:49.527
> 
> 标签：javascript, object, constructor, global

我在 java-script 中使用 module-via-anonymous-function-pattern 来拥有一个匿名函数，该函数体现了整个模块并通过设置全局属性来公开特定的公共 API 部分。

我尝试了几种设置此类全局属性的方法，但下面发布的第二种方法失败了：

```
window.foo = (function() {
  function bar() { this.hello = "world" }
  return new bar();
})();

> foo.hello
"world" // OK 
```

对比

```
(function() {
  window.foo2 = new bar( this.hello = "world" );
  function bar() {}
})();

> foo2.hello
undefined // Fail 
```

为什么第二种方法没有创建正确的条形对象？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T07:51:12.573

在您的第二种方法中：

```
(function() {
  window.foo2 = new bar( this.hello = "world" );
  function bar() {}
})(); 
```

`this`是`window`, 并且

```
new bar(this.hello = "world") 
```

等于

```
window.hello = "world";
new bar(window.hello); 
```

你可以[在这里查看](http://jsfiddle.net/weH9b/2/)

我认为你想要的是：

```
(function() {
  window.foo2 = new bar( "world" );
  function bar(a) {this.hello = a}
})(); 
```

看[这里](http://jsfiddle.net/weH9b/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:47:15.917

你应该试试下面的代码

```
(function() {
  function bar() { this.hello = "world"; };
  window.foo2 = new bar();
})(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T07:50:17.947

问题是使用构造对象的方式。试试这两种方法。

```
window.foo2 = new bar();
function bar() {this.hello = "world";}; 
```

或者

```
window.foo2 = new bar("world");
function bar(x) {this.hello = x;}; 
```

# algorithm - 基于堆栈的算法的问题

> ID：15379466
> 
> 赞同：2
> 
> 时间：2013-03-13T07:38:50.550
> 
> 标签：algorithm, stack

我正在做这个编程任务。它测试了我们对堆栈及其应用的理解。我发现想出一种可以*高效*准确*地*工作的算法非常困难。他们的一些测试用例有 200,000 多棵“树”！虽然我的算法可以适用于少于 10 棵树的更简单的测试用例，但当“树”的数量非常大（从 100 多棵以上）时，它在准确性和效率部门就失败了。

如果你们能给我一个提示或指出正确的方向，我将非常感激。谢谢你。

> 任务说明
> 
> 猴子喜欢在树间荡秋千。他们可以直接从一棵树摆动到另一棵树，只要两者之间没有树高于或与两棵树中的任何一棵具有相同的高度。例如，如果有 5 棵高度分别为 19m、17m、20m、20m 和 20m 的树依次排列，那么猴子将能够从一棵树摆动到另一棵树，如下所示：
> 
> ```
> 1\. from first tree to second tree
> 2\. from first tree to third tree
> 3\. from second tree to third tree
> 4\. from third tree to fourth tree
> 5\. from fourth tree to fifth tree 
> ```
> 
> 能够与猴子交流的丛林之王泰山想测试猴子是否知道如何计算可以直接从一棵树摆动到另一棵树的树的总数。但他自己也不是很会数。所以他求助于你，这个国家最好的 Java 程序员，写一个程序来计算丛林不同地区的树木的正确数量。
> 
> 输入
> 
> 第一行包含 N，路径中的树数。下一行包含 N 个整数 a1 a2 a3 ... aN，其中 ai 表示路径中第 i 个树的高度，0 < ai ≤ 231 和 2 ≤ N ≤ 500,000。
> 
> 请注意，为方便起见，上面使用了短符号 N。在你的程序中，你应该给它一个描述性的名字。
> 
> 输出
> 
> 在给定的树高列表中，猴子可以直接从一棵树摆动到另一棵树的树对总数。
> 
> 样本输入 1
> 
> 4
> 
> 3 4 1 2
> 
> 样本输出 1
> 
> 4
> 
> 样本输入 2
> 
> 5
> 
> 19 17 20 20 20
> 
> 样本输出 2
> 
> 5
> 
> 样本输入 3
> 
> 4 1
> 
> 2 21 21 12
> 
> 样本输出 3
> 
> 3

这是我的代码。所以这是一个返回猴子可以摆动的树对数的方法。参数是一个输入数组。

**我的算法如下：**

我们将 numPairs 设置为（数组长度 - 1），因为所有树都可以从一棵摇摆到另一棵。

现在我们找到了额外的 numPairs（额外的树来摆动）。

将第一个输入压入空堆栈

**我们进入一个for循环：**

直到数组末尾的下一个输入：

**情况1：**

如果栈顶小于当前输入并且栈的大小等于 1，那么我们用输入替换栈顶。

**案例2：**

如果栈顶小于当前输入且栈大小大于1，则弹出栈顶，并进入while循环弹出小于当前栈顶的前一个元素。

然后我们在退出 while 循环后推送当前输入。

**案例3：**

否则，如果不满足上述条件，我们只需将当前输入压入堆栈。

**我们退出 for 循环**

返回 numPairs

公共 int 解决（int [] arr）{

```
 int input, temp;
    numPairs = arr.length-1;
    for(int i=0; i<arr.length; i++)
    {
        input = arr[i];

        if(stack.isEmpty())
            stack.push(input);

        else if(!stack.isEmpty())
        {
            if(input>stack.peek() && stack.size() == 1)
            {
                stack.pop();
                stack.push(input);
            }
            else if(input>stack.peek() && stack.size() > 1)
            {
                temp = stack.pop();
                while(!stack.isEmpty() && temp < stack.peek())
                {
                    numPairs++;
                    temp = stack.pop();
                }
                stack.push(input);
                //numPairs++;
            }
            else
                stack.push(input);
        }
    }
    return numPairs;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-17T03:38:35.553

这是我的解决方案，它是一个迭代的解决方案。

```
class Result {

  // declare the member field
  Stack<Integer> stack;
  int numPairs = 0;
  // declare the constructor
  public Result()
  {
    stack = new Stack<Integer>();
  }

  /* 
   * solve   : to compute the result, return the result
   *  Pre-condition : parameter must be of array of integer type
   * Post-condition : return the number of tree pairs that can be swung with
   */
  public int solve(int[] arr) {
    // implementation
    int input;

    for(int i=0; i<arr.length; i++)
    {
      input = arr[i];
      if(stack.isEmpty()) //if stack is empty, just push the input
        stack.push(input);

      else if(!stack.isEmpty())
      {
        //do a while loop to pop all possible top stack element until 
        //the top element is bigger than the input
        //or the stack is empty
        while(!stack.isEmpty() && input > stack.peek()) 
        {
          stack.pop();
          numPairs++;
        }

        //if the stack is empty after exiting the while loop
        //push the current element onto the stack
        if(stack.isEmpty())
          stack.push(input);
        //this condition applies for two cases:
        //1\. the while loop is never entered because the input is smaller than the top element by default
        //2\. the while loop is exited and the input is pushed onto the non-empty stack with numPairs being incremented 
        else if(!stack.isEmpty() && input < stack.peek())
        {
          stack.push(input);
          numPairs++;
        }
        //this is the last condition:
        //the input is never pushed if the input is identical to the top element
        //instead we increment the numPairs
        else if(input == stack.peek())
          numPairs++;

      }

    }
    return numPairs;
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T17:49:31.593

如果我正确理解了这个问题，那么有两种树可以相互访问：

1.  彼此相邻的树总是可以相互访问
2.  只有当它们之间的所有树都比两棵树都短时，才可以访问不相邻的树。

人们可能会为此提出几种类型的解决方案：

*   蛮力解决方案：将每棵树与其他每棵树进行比较，检查上述条件。运行时间：O(n^2)
*   查找可访问的近邻解决方案：寻找可访问的近邻。运行时间：接近 O(n)。这是如何工作的：

按照给定的顺序构建一个树大小的数组。然后按顺序遍历这个数组，并为 index 处的每棵树`i`：

**从右边走`i`**

1.  如果树处`i+1`的树比`i`突围处的树高（找不到更多可访问的邻居）
2.  如果 tree at比 tree at 短，则添加`1`到可访问树的数量`i+1``i+2`
3.  对树木做同样的事情`i+2`，`i+3`.. 等，直到你找到一棵比树高的树`i`。

这将获得每棵树的非相邻可访问树的计数。然后只需添加`N*2-2`计数以考虑所有相邻的树，就完成了。

# visual-studio-2012 - Visual Studio 2012的设计视图

> ID：15379473
> 
> 赞同：1
> 
> 时间：2013-03-13T07:39:11.977
> 
> 标签：visual-studio-2012

我刚刚安装了 Visual Studio 2012，并且正在编写一个 C# 程序。但是我看不到如何切换到设计视图。在 Visual Studio 2012 中，我似乎记得在主要文本区域旁边有选项卡，可让您在代码、设计或拆分视图之间进行选择？顺便说一句，当我安装 VS2012 时，我选择 Web 开发作为我的“主要语言”，所以我不知道这是否与缺少的设计视图有关？

# javascript - 同步请求和异步请求有什么区别？（异步=真/假）

> ID：15379474
> 
> 赞同：2
> 
> 时间：2013-03-13T07:39:12.220
> 
> 标签：javascript, ajax

当我使用的方法时`async=false`和有什么区别？`async=true``open``XMLHttpRequest`

```
function GetXML() {

    if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    }
    else {// code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange = test
    xmlhttp.open("GET", "PlanetCafe.xml", true);
    xmlhttp.send(null);
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-13T07:41:16.987

[Mozilla 开发者：同步和异步请求](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/Synchronous_and_Asynchronous_Requests)

> `XMLHttpRequest`支持同步和异步通信。然而，一般来说，出于性能原因，异步请求应优先于同步请求。
> 
> 简而言之，同步请求会阻塞代码的执行，并且会泄漏内存和事件。这可能会导致严重的问题。使用同步请求的唯一可行原因是更容易促进`Web Workers`.

# django - 如何在具有 oneToOne 关系的模型中保存数据

> ID：15379476
> 
> 赞同：0
> 
> 时间：2013-03-13T07:39:14.177
> 
> 标签：django, django-models, python-2.7

我有这个模型

```
class UserProfile(models.Model):
    user = models.OneToOneField(User)
    role = models.CharField(max_length=30) 
```

如果我收到数据`username`, `firstname`, `lastmame`, `email,passsword`, `role`, 鉴于“角色”不在`User model`. 它在`UserProfile model`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:51:50.067

这是非常基本的，但它有效，我猜你正在使用 Django`User`模型？

```
user = User.objects.create_user(username, email, password)
user.first_name = firstname
user.last_name = lastname
user.save()

user_profile, created = UserProfile.objects.create_or_create(user=user, role=role) 
```

如果您发现自己经常这样做，我建议您`objects`使用自定义管理器方法覆盖管理器。

```
class UserProfileManager(models.Manager):
    def create_profile(self, user, role):
        profile = self.create(user=user, role=role)
        return profile 
```

然后你可以用这个来调用它：

```
profile = UserProfile.objects.create_profile(user, role) 
```

# html - 我的 jQuery 代码不再适合 jQuery 1.9 .on。有人告诉我我现在该怎么办？

> ID：15379477
> 
> 赞同：0
> 
> 时间：2013-03-13T07:39:16.743
> 
> 标签：html, css, jsfiddle

```
$(".p-list > ul > li").click(function () {

    if ($(this).children('.sub-parts').length > 0) {

        if (!$(this).hasClass('open')) {
            $(this).addClass('open');
            $(this).find('.sub-parts').fadeIn('normal');
        }
    }
});

$(document.body).on('click', ".p-list .open-tl", function () {
    if ($(this).parent('.open').length > 0) {
        $open = $(this).parent('.open');
        $($open).find('.sub-parts').hide();
        $($open).removeClass('open');
    }
}); 
```

我有这段代码可以在点击时隐藏 div，并在他们点击 open'tab .open-tl 时显示它们。

问题是当我不想运行第二个代码时，第二个代码在 Fadein 代码之后执行。

请有人检查[http://jsfiddle.net/vNfeD/](http://jsfiddle.net/vNfeD/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:55:03.120

```
$open = $(this).parent('.open');
$($open).find('.sub-parts').hide();
$($open).removeClass('open'); 
```

一定是

```
$open = $(this).parent('.open');
$open.find('.sub-parts').hide();
$open.removeClass('open'); 
```

你可以减少它

```
$(this).parent('.open').removeClass('open').find('.sub-parts').hide(); 
```

如果可以删除父级，如果对象为空 jquery 将什么也不做

```
if ($(this).parent('.open').length > 0) { // remove that 
```

当孩子被隐藏时不允许第二次代码执行，添加一个 event.stopPropagation(); 就在没有 .open 并且有 subs 时，检查小提琴

[http://jsfiddle.net/r043v/vNfeD/5/](http://jsfiddle.net/r043v/vNfeD/5/)

# sql - 查找集群环境的 SQL Server 数据库文件设置

> ID：15379478
> 
> 赞同：0
> 
> 时间：2013-03-13T07:39:21.110
> 
> 标签：sql, sql-server, configuration, cluster-computing

如何找到群集 SQL Server 数据库的文件设置（初始大小、自动增长）？在非集群数据库中，您可以从数据库属性、选项卡文件或使用 SQL 脚本针对系统视图（sys.database_files 和 sys.master_files）读取设置。在尝试读取群集 SQL Server 实例数据库的文件设置时，我无法使用这些方法。他们什么也没显示。数据库正在生产中，我对数据库的访问权限有限，这就是我无法获取文件设置的任何值的原因吗？我作为系统的 CM（新职位）工作，并希望了解所有可能导致性能瓶颈的问题。在测试环境中，文件增长设置为自动增长 1 MB 的默认值，我认为这对于 50 GB 大小的数据库来说太低了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T09:34:37.123

这与集群无关，只是 DBA 限制了您对数据库的权限，因此您无法访问任何信息。

好消息是，如果他们限制了您对系统的访问并且他们正在控制它，那么他们可以将设置更改为更合适的值:)

# windows-phone-8 - windows phone 8 模拟器在连接到 wcf 服务时抛出错误

> ID：15379479
> 
> 赞同：0
> 
> 时间：2013-03-13T07:39:25.423
> 
> 标签：windows-phone-8

System.ServiceModel.ni.dll 中出现“System.ServiceModel.CommunicationException”类型的异常，但在使用 windows phone 8 模拟器时未在用户代码中处理

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-20T07:26:35.460

如果没有更具体的信息，很难回答您的问题。但是，您可以查看以下几件事：

**- 电话调用的服务是否正在运行？**

尝试从您机器上的网络浏览器打开该服务。

**- 模拟器能看到服务吗？**

尝试从模拟器中的 Web 浏览器打开服务。

**- 它是自签名的 https 服务吗？**

您需要在模拟器中安装证书。

**- 服务是否支持基本的 http 连接？**

Windows Phone 8 仅支持 basicHttpBinding。

**我[的帖子](http://zengstephen.blogspot.com.au/2014/03/windows-phone-8-development-setup-https.html)也许能给你一些有用的信息。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T17:51:37.453

Did you ever get anywhere with this? Did you check your InnerException. I too, constantly get this error! My problem is related to ip address error where I didn't realise you had to set a specific IP address in your config file as WP8 is a virtual machine and therefore has its own local host but my problem is that it works, then stops, then eventually works again!! Very unstable behaviour.

Note this occurs with any errors, so you probably need to implement an IErrorHandler in wcf and return a proper error to your client.

# mysql - MySQL 计数按年和月计算并计算累积计数

> ID：15379483
> 
> 赞同：0
> 
> 时间：2013-03-13T07:39:38.740
> 
> 标签：mysql, count

我需要帮助来优化我的 SQL 请求。

我有一个看起来像这样的表：

```
id,resgier_date,action
1,'2011-01-01 04:28:21','signup'
2,'2011-01-05 04:28:21','signup'
3,'2011-02-02 04:28:21','signup' 
```

我如何选择和分组这些，所以输出是：

```
year,month,total,cumulative_sum
2011,1,2,2
2011,2,1,3 
```

我想，通过一个请求，添加一列累积计数（id）。

我尝试这样的请求：

```
SELECT YEAR(REGISTER_DATE),
     count( * ),
     @running_total := @running_total + count( * ) AS cumulative_sum
FROM MYTABLE t
     JOIN (SELECT @running_total := 0) r
GROUP BY YEAR(REGISTER_DATE)
LIMIT 0 , 30 
```

没有成功

谢谢你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:55:27.390

尝试

```
SELECT year, 
       month, 
       total, 
       @rt := @rt + total cumulative_sum
  FROM (
        SELECT YEAR(register_date) year,
               MONTH(register_date) month,
               COUNT(*) total
          FROM mytable
          GROUP BY YEAR(register_date), MONTH(register_date)
          LIMIT 0, 30
       ) n, (SELECT @rt := 0) r 
```

输出

```
| YEAR | MONTH | TOTAL | CUMULATIVE_SUM |
-----------------------------------------
| 2011 |     1 |     2 |              2 |
| 2011 |     2 |     1 |              3 | 
```

**[SQLFiddle](http://sqlfiddle.com/#!2/7fb91/6)**

# java - 如何从java中的线程返回一个值？

> ID：15379485
> 
> 赞同：8
> 
> 时间：2013-03-13T07:39:40.777
> 
> 标签：java, android, multithreading

在android中，我正在为url连接创建线程。在线程内部，我将响应消息存储在一个全局声明的字符串中。当我访问方法方法时，它返回null。

```
 public class Rate_fetch {
       String total="";
          public String  rate(String dt)
       {
    new Thread(new Runnable(){ 

         public void run(){

            try  {

             URL url = new URL(tally_ipaddr+"/prorate.jsp?plist="+sss.toString().trim());

             HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();
             InputStream in = new BufferedInputStream(urlConnection.getInputStream());
             BufferedReader r = new BufferedReader(new InputStreamReader(in));
             String x = "";
             String total = "";
             x = r.readLine();
             int i=0;

             while(x.length()>1)
             {
                 total=total+x.toString().trim();
                 i++;
                 x = r.readLine();
             }
             }
            catch(Exception e){
             return e.toString();
            }   
        }    

    }).start();

    return total;

} 
```

当我调用该方法时，它返回 null。

```
 Rate_fetch rf=new Rate_fetch();
      String amt= rf.rate(prodList); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T08:11:07.333

你真的只想使用它`Thread`，试试这个

```
 public class Rate_fetch {
    String total = "";
    boolean b = true;

    public String rate(String dt) {
        StringBuilder sb = new StringBuilder();
        new Thread(new Runnable() {

            public void run() {

                try {

                    URL url = new URL(tally_ipaddr + "/prorate.jsp?plist="
                            + sss.toString().trim());

                    HttpURLConnection urlConnection = (HttpURLConnection) url
                            .openConnection();
                    InputStream in = new BufferedInputStream(urlConnection
                            .getInputStream());
                    BufferedReader r = new BufferedReader(
                            new InputStreamReader(in));
                    StringBuilder sb = new StringBuilder();
                    String s;
                    while (true) {
                        s = r.readLine();
                        if (s == null || s.length() == 0)
                            break;
                        sb.append(s);
                    }
                    b = true;
                } catch (Exception e) {
                    b = true;
                }
            }

        }).start();
        while (b) {

        }
        total = sb.toString();
        return sb.toString();

    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T08:03:04.823

您错过了使用线程的全部意义，因为我们使用它们在单独的线程中执行昂贵或可能很长时间的操作，以免阻塞 UI 线程。因此，您不能启动线程并期望立即获得结果，因为 Premsuraj 会在线程完成之前返回。

正如其他人所建议的，更简洁的方法是使用 AsyncTask，它将过程封装在三个主要阶段：OnPreExecute、doInBackground 和 onPostExecute，它们的名称是不言自明的，第一个执行您可能需要的任何初始化，第二个实际做异步工作，第三个用于处理整个操作的结果。

这是一个简单的示例，当然它可以改进，但应该可以帮助您理解它：

**Rate_fetch**

您的同一类但没有线程：

```
public class Rate_fetch {

       public String rate(String dt)
       {
            String total="";
            try  {

                URL url = new URL(tally_ipaddr+"/prorate.jsp?plist="+sss.toString().trim());

                HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();
                InputStream in = new BufferedInputStream(urlConnection.getInputStream());
                BufferedReader r = new BufferedReader(new InputStreamReader(in));
                String x = "";
                String total = "";
                x = r.readLine();
                int i=0;

                while(x.length()>1)
                {
                    total=total+x.toString().trim();
                    i++;
                    x = r.readLine();
                }
            }
            catch(Exception e){
                return e.toString();
            };

            return total;
        }

    } 
```

一个示例活动：

```
public class YourActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.layout);

        GetRate asyncRate = new GetRate();
        asyncRate.execute(); // starting the task, can be done wherever you need, for example a Button click event
    }

    private class GetRate extends AsyncTask<Void, Integer, String> {

        @Override
        protected String doInBackground(Void... params) {

            Rate_fetch fetch = new Rate_fetch();
            string rate = fetch.rate();

            return rate;
        }

        @Override
        protected void onPostExecute(String rate) {                     
            // Do whatever you need with the string, you can update your UI from here
        }
    }

} 
```

希望能帮助到你。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-13T08:13:13.190

您获得的值为`result`null ，因为该方法`rate`正在运行一个线程，因此`return`不等待完成该线程。

您可以使用以下技术之一来解决问题

*   **处理程序**
*   **异步。任务**

您也可以查看链接以供参考。

[http://mobileorchard.com/android-app-developmentthreading-part-1-handlers/](http://mobileorchard.com/android-app-developmentthreading-part-1-handlers/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-13T09:07:53.260

可能您可以将主/当前线程/类的引用传递给线程。并且线程会将其结果存储在该引用对象中。

下面是一个简单的例子。

```
class CallerTest{
 private ResultData result; // any data that you want from thread

 public void caller() throws Exception{
   ThreadClass thread = new ThreadClass(this);
   thread.start();

   //wait for thread to finish
   thread.join();

   //now you have data in >> this.result
 }

 public void setResult(ResultData rd){
   this.result = rd; 
 }
}

class ThreadClass extends Thread{
    CallerTest cl;
    public ThreadClass(CallerTest cl){
       this.cl = cl;
    }
    public void run() {
     ResultData rd;
     rd = //do code to retrive result
     cl.setResult(rd);
    }

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T07:43:40.637

只需声明一个类变量并在您的线程中传递对象

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-13T07:44:47.680

您不能从线程返回值。您的函数 Rate_fetch 将在线程开始执行之前返回。一种解决方案是使用 AsyncTask 并使用其 onPostExecute 中的值。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-13T07:49:50.503

如果您选择使用单独的线程来执行您的逻辑，则暗示线程内部代码的执行将是异步的，因此您无法立即访问结果而忽略异步线程执行。您应该考虑使用类似[http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/FutureTask.html](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/FutureTask.html)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-13T08:57:04.493

看看[Thread Local](http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html)，它让你携带一个参数，线程是它自己的局部变量。

# haskell - Parsec 解析器：在某些条件下不评估自定义失败

> ID：15379492
> 
> 赞同：0
> 
> 时间：2013-03-13T07:39:59.927
> 
> 标签：haskell, parsec

我刚刚开始学习使用 Parsec 解析字符串，我遇到了以下我无法解决的问题：

以下代码包含三个解析器运行，其中两个显然会失败。奇怪的是，我的自定义失败消息只会在第二次运行时出现，而不是在第三次运行时出现。

```
import Text.Parsec
import Text.Parsec.String

ps :: Parser String
ps = (string "123") <|> (string "456") <|> fail "my-failure"

main = do
     putStrLn $ "A: " ++ show (parse ps "" "123")
     putStrLn $ "\nB: " ++ show (parse ps "" "789")
     putStrLn $ "\nC: " ++ show (parse ps "" "45x") 
```

输出：

```
A: Right "123"

B: Left (line 1, column 1):
unexpected "7"
expecting "123" or "456"
my-failure

C: Left (line 1, column 1):
unexpected "x"
expecting "456" 
```

当第二个的左侧部分失败时，让我的失败消息*始终*`<|>`出现的正确方法是什么？我可以覆盖任何以前发生的错误吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-13T07:47:11.087

Parsec 中的[`<|>`](http://hackage.haskell.org/packages/archive/parsec/latest/doc/html/Text-Parsec-Prim.html#v%3a-60--124--62-)组合器仅在解析器不使用任何输入时尝试下一个选项。在您的情况下，解析器`string "456"`匹配 的开头`"45x"`，因此不会尝试其他替代方案。如果您需要任意前瞻，则需要使用该[`try`](http://hackage.haskell.org/packages/archive/parsec/latest/doc/html/Text-Parsec-Prim.html#v%3atry)功能。

```
ps :: Parser String
ps = string "123" <|> try (string "456") <|> fail "my-failure" 
```

来自 Parsec 的文档`<|>`：

> 这个组合器实现了选择。解析器 p <|> q 首先应用 p。如果成功，则返回 p 的值。如果 p 在没有消耗任何输入的情况下失败，则尝试解析器 q。这个组合器被定义为等于 MonadPlus 类的 mplus 成员和 Alternative 的 (<|>) 成员。
> 
> 解析器被称为预测性的，因为 q 仅在解析器 p 没有消耗任何输入时才尝试（即向前看是 1）。这种非回溯行为允许高效实现解析器组合器并生成良好的错误消息。

# html - HTML5 有效的自定义标签/元素

> ID：15379493
> 
> 赞同：1
> 
> 时间：2013-03-13T07:40:02.060
> 
> 标签：html

如何在 HTML5 中创建有效的自定义标签/元素？

示例 1：

```
<customTag attr1="val" attr2="val">
</customTag> 
```

示例 2：

```
<my:customTag attr1="val" attr2="val">
</my:customTag>
<!-- attention to the COLON separator --> 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:50:25.870

我不认为你需要冒号。xtags (mozilla lib) 或 w3c 规范都没有在他们的示例中显示它们。xtags：[http](http://x-tags.org/) ://x-tags.org/ w3c：[https ://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html#decorators-example](https://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html#decorators-example)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:50:28.477

使用您自己组成的元素不是有效的 HTML。

来自[W3C 规范](http://www.w3.org/html/wg/drafts/html/master/dom.html#elements)：

> 作者不得使用本规范或其他适用规范不允许的元素、属性或属性值，因为这样做会使该语言在未来的扩展变得更加困难。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-06T17:21:23.090

自定义元素是真正的 W3 DOM API，很快就会验证——老实说，在这种情况下不用担心验证，这无关紧要。自定义元素的规范正在 Firefox 和 Chrome 中积极实施 - 目前在夜间构建中。

您的标签名称中不需要冒号，这不是 XML 命名空间。但是，根据规范，标签需要在自定义元素名称中的某处有破折号：[https ://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/custom/index.html](https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/custom/index.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-30T17:35:03.757

[W3C 自定义元素规范](https://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html#defining-a-custom-element)说，您可以定义自定义标签，唯一的要求是它包含**连字符**，而不是冒号。

# ruby-on-rails - Form_for“表单中的第一个参数不能包含 nil 或为空”错误

> ID：15379495
> 
> 赞同：9
> 
> 时间：2013-03-13T07:40:10.197
> 
> 标签：ruby-on-rails, ruby

我无法弄清楚为什么会出现此错误，以及它的确切含义。

> 表单中的第一个参数不能包含 nil 或为空（第 3 行）

### 添加新帖子

```
<%= form_for @post do |f| %>  //Error here
<p>
    <%= f.label :title, 'Title' %><br/>
    <%= f.text_field :title %><br/>
</p>
<p>
    <%= f.label :content, 'Content'%><br/>
    <%= f.text_area :content %><br/>
</p>
<p>
    <%= f.submit "Add a New Post" %>
</p>
<% end %> 
```

控制器：

```
class PostsController < ApplicationController
    def index
        @posts = Post.all
    end

    def show
        @post = Post.find(params[:id])
    end

    def new
        @post = Post.new
    end

    def create
        @post = post.new(params[:post])

        if @post.save
            redirect_to posts_path,  :notice => "Your post was saved"
        else
            render "new"
        end
    end

    def edit

    end

    def update

    end

    def destroy

    end
end 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-13T07:46:31.523

假设您`PostsController`使用传统视图名称渲染它，您的`new`方法应该创建一个新的`Post`并分配它：

```
def new
  @post = Post.new
end 
```

您可以使用类名（如@Yuriy 建议的那样），但常规方法是实例化一个新对象。这允许您在保存后重新使用相同的表单视图来呈现错误。

如果您想看看这通常看起来如何，请创建一个新的 Rails 项目并使用脚手架生成器创建一些示例代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-19T20:13:25.163

使用这个（不推荐）。它应该工作。

```
<%= form_for Post.new do |f| %> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-10-25T16:17:03.347

我收到了同样的错误信息。当我收到此错误消息并认为未安装 simpleform 时，我只是试图让 simpleform 启动并工作并在我的视图中创建一个子目录来测试表单。

我假设`@user`我的所有视图文件都可以使用实例变量，包括可以说`@clients`子目录和`clients/_form`用于创建新客户端的那些。我的假设是不正确的，因为当它在Controller 中创建时`@user`会被评估。`Nil``clients/_form``@user`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T07:41:45.317

你`@post`的是`nil`

你应该`form_for Post`改为新职位。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-01-17T07:02:47.910

要了解此错误，您收到此错误有两个具体原因。

1.  当您尝试访问未定义或拼写错误的实例变量时。例如在你的控制器中，如果你定义像

    ```
    def new
      @post = Post.new
     end 
    ```

然后您尝试在视图中访问

```
 <%= form_for @posts method: :post do |f| %> #plural name 
```

在上述情况下，您会收到相同的错误。

另一种情况是，如果您未定义实例或未在控制器中分配实例变量并尝试在视图中访问它，您将得到相同的错误。

# html - google-apps 域验证异常的 .htaccess 文件配置

> ID：15379501
> 
> 赞同：1
> 
> 时间：2013-03-13T07:40:20.927
> 
> 标签：html, google-apps

我当前的 htaccess 内容是：

```
# @package Mambo Open Source
# @copyright (C) 2005 - 2006 Mambo Foundation Inc.
# @license http://www.gnu.org/copyleft/gpl.html GNU/GPL
#
# Mambo was originally developed by Miro (www.miro.com.au) in 2000\. Miro assigned the copyright in Mambo to The Mambo Foundation in 2005 to ensure
# that Mambo remained free Open Source software owned and managed by enter code herethe community.
# Mambo is Free Software
##

#
#  mod_rewrite in use
#

RewriteEngine On

#  Uncomment following line if your webserver's URL 
#  is not directly related to physical file paths.
#  Update YourMamboDirectory (just / for root)

# RewriteBase /YourMamboDirectory

#
#  Rules
#

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^content/(.*) index3.php
RewriteRule ^component/(.*) index3.php
RewriteRule ^mos/(.*) index3.php 
```

我想使用 HTML 上传来验证我的谷歌应用程序域。但是当访问 url mydomain.com/google00ff0108e32428b8.html 时，我收到错误页面 404。

遵循 [Codeigniter .htaccess file config for google-apps domain verification exception 中的指南后，我仍然收到相同的错误页面

请帮助我在 htaccess 文件中允许域验证 url。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-09-28T10:36:15.190

简单的：

```
RewriteEngine On
RewriteRule google00ff0108e32428b8.html google00ff0108e32428b8.html [L] 
```

应该做

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-24T03:57:42.670

[这里](https://stackoverflow.com/questions/7223434/codeigniter-htaccess-file-config-for-google-apps-domain-verification-exception)问了一个类似的问题，答案很清楚，你也可以使用其他方法来验证你的域，使用谷歌的站长工具，比如使用 cname 和 txt 记录。以及元标记。

# apache - 使用 Apache+SSL 执行 CGI 脚本

> ID：15379502
> 
> 赞同：3
> 
> 时间：2013-03-13T07:40:24.180
> 
> 标签：apache, ssl, cgi

我在尝试通过 apache 执行 CGI 脚本时遇到了一些问题。此脚本与 OpenLayers proxy.cgi 相同，它允许在自己的域之外发出 AJAX 请求。该脚本使用正常的 apache 配置（没有 SSL）运行顺利且没有任何错误，但是！当我启用 SSL 时，它开始表现不稳定。

让我首先向您展示我的 SSL 的 apache 配置：

```
NameVirtualHost *:443
<VirtualHost *:443>
    ServerName 172.22.1.37
    SSLEngine on
    SSLProtocol all -SSLv2
    SSLCertificateFile /etc/apache2/ca/apache-server.crt
    SSLCertificateKeyFile /etc/apache2/ca/apache-server.key
    SSLCertificateChainFile /etc/apache2/ca/proba.crt
    SSLCACertificateFile /etc/apache2/ca/proba.crt
    AddType application/x-x509-ca-cert .crt
    AddType application/x-pkcs7-crl    .crl
    Alias /mapviewer "/var/www/mapviewer/"
    ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
    AddHandler cgi-script .cgi
    DocumentRoot /usr/lib/cgi-bin/
    <Directory "/usr/lib/cgi-bin">
        AllowOverride All 
        Options +ExecCGI -Multiviews +SymLinksIfOwnerMatch
        Order allow,deny
        Allow from all
    </Directory>
</VirtualHost> 
```

因此，SSL 正确加载，因为我尝试过其他 webapps 并且它们在 https 中运行顺利，问题是这个使用 proxy.cgi 的应用程序

奇怪的是，当我启动 apache 时，一开始它会正常工作，没有任何问题，但过了一段时间（我不确定它是否取决于时间或请求数量，尽管经过测试我会说它是前者) 当 javascript 代码调用这个 proxy.cgi 脚本时，请求将挂在那里，最后，由于“超时”而中止。

我是否需要启用任何其他选项才能通过 https 执行 cgi 脚本？有什么我想念的吗？我可以放置 proxy.cgi 代码，但我认为它没有任何关系，因为它已被证明可以正常工作，这里的问题是启用 SSL 后，它不会被执行。

谢谢阅读！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:10:35.380

首先，感谢 Joseph Myers 的建议，即使他们没有提供解决方案，他们也帮助了我。他所说的僵尸进程是有道理的，在深入了解之后，我意识到不是在 apache 启动时加载 mod_cgid，而是加载了 mod_cgi。差异非常明显，知道（在查看 httpd 文档之后） mod_cgid

> 创建一个外部守护进程，负责派生子进程以运行 CGI 脚本

而且它似乎也是默认的，而不是cgi。我不记得自己改变了它，但是地狱，谁知道呢，它现在起作用了！

tl；博士，不要使用 mod_cgi！改用 mod_cgid ！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-23T00:15:59.227

我有时会遇到这样的问题，几乎所有问题都通过在每个 HTTPS 响应中强制“连接：关闭”来解决。它应该打印在 HTTP 标头中。此外，请确保 proxy.cgi 脚本在每次运行后关闭/存在，以确保 Apache SSL 进程不会被永远不会自行关闭的僵尸进程填满。

# sql - 订单表架构问题

> ID：15379503
> 
> 赞同：0
> 
> 时间：2013-03-13T07:40:30.783
> 
> 标签：sql, sql-server-2008, database-design, schema

我有两个表 Order_Primary 和 Order_Complete 问题是当我想生成账单时，Order_Primary 表中的账单中可能有多个产品，因此它会为每个单个产品生成 OrderId，尽管它们来自同一个账单，现在应该如何我将所有这些 OrderId 关联到 Order_Complete 表中，因为同一产品将有多个 OrderId，但必须只有一个 BillNo

Order_Primary

> OrderId（主键）
> ProductId（外键）
> CategoryId（外键）
> 数量
> 成本
> EmployeeId（外键）

订单完成

> BillNo (主键)
> OrderId (外键)
> 日期

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-13T08:28:23.077

To get the desired result you have to change your Data-Structure to something like this:

Product_Group (add a new table)

```
ProductId (Foreign Key)
ProductGroupId
ProductGroupId+ProductId (Primary Key) 
```

Order_Primary

```
OrderId (Primary Key)
ProductGroupId 
^(Now here with a ProductGroupId you will get a list of products(Multiple))
CategoryId (Foreign Key)
Quantity 
Cost 
EmployeeId (Foreign Key) 
```

Order_Complete

```
BillNo (Primary Key)
OrderId (Foreign Key)
Date 
```

# php - php + jquery + mysql + 表单动作

> ID：15379508
> 
> 赞同：0
> 
> 时间：2013-03-13T07:40:44.563
> 
> 标签：php, jquery, mysql, forms

我正在使用 php 和 jquery 创建一个表单，以便在不刷新页面的情况下将数据插入数据库，但问题是页面刷新并将我引导到 php 页面任何人都可以帮助我

# 索引.php

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>feedback page</title>
<script type = "text/javascript" src = "http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<link rel ="stylesheet" href = "css/default.css" />

<script type = "text/javascript">

$(function(){

   $('#submit').click(function(){
     $('#container').append('<img src = "img/loading.gif" alt="Currently loading" id = "loading" />');

         var name = $('#name').val();
         var email = $('#email').val();
         var comments = $('#comments').val();

           console.log(name, email, comments);
        return false;

   });

});

</script>

</head>

<body>
   <form action = "submit_to_db.php" method = "post">
   <div id = "container">
      <label for = "name">Name</label>
      <input type = "text" name = "name" id = "name" />

      <label for = "email">Email address</label>
      <input type = "text" name = "email" id = "email" />

      <label for = "comments">Comments</label>
      <textarea rows = "5"cols = "35" name = "comments" id = "comments"></textarea>
      <br />

      <input type = "submit" name = "submit" id = "name" value = "send feedBack" />
    </div>
   </form>

   </div>
</body>
</html> 
```

# submit_to_db.php

```
<?php
  $conn = new mysqli('localhost', 'root', 'root', 'my_db');
  $query = "INSERT into comments(name, email, comments) VALUES(?, ?, ?)";

  $stmt = $conn->stmt_init();
  if($stmt->prepare($query)){

     $stmt->bind_param('sss', $_POST['name'], $_POST['email'], $_POST['comments']);
     $stmt->execute();

  }

  if($stmt){

  echo "thank you .we will be in touch soon";
  }
  else{
   echo "there was an error. try again later.";
   }  

?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T07:42:57.190

代替

```
<input type = "submit" name = "submit" id = "name" value = "send feedBack" /> 
```

经过

```
<input type = "submit" name = "submit" id = "submit" value = "send feedBack" /> 
```

注意：**身份证**

你也应该触发事件`(form).submit();`而不是`('submit').click();`

# mysql - MySQL 计数的总和

> ID：15379510
> 
> 赞同：1
> 
> 时间：2013-03-13T07:40:50.197
> 
> 标签：mysql, sql, count, sum

我有以下 sql 查询

```
 SELECT 
(SELECT count(cid) from A where uid=45 group by cid) as cats 
(SELECT count(cid) from A where uid=45) as cats_total 
```

第一个子选择产生 4 行并计算每个 cid 中的项目数。第二个子选择仅产生 1 行并计算项目总数。

我的问题在于第二个子选择。SQL 产生错误，因为它们具有不同数量的行。我是否可以进行调整，使第二个子选择有 4 行，或者第一个子选择产生的行数？

更新：让我用我需要制作的表格进一步澄清

```
+------+------------+
| cats | cats_total |
+------+------------+
|    2 |         17 |
|    5 |         17 |
|    1 |         17 |
|    9 |         17 |
+------+------------+ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:42:56.123

或者，您可以使用`UNION ALL`,

```
SELECT SUM(totals) grandTotal
FROM
(
    SELECT count(cid) totals from A where uid=45 group by cid
    UNION ALL
    SELECT count(cid) totals from A where uid=45
) s 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:40:12.107

卡夫是对的。

如果有人对这里感兴趣的是通过 jdbc 测试到 Oracle db 的工作版本：

```
SELECT cats,cats_total from  
(SELECT count(cid) as cats from A where uid=45 group by cid)
cross join
(SELECT count(cid) as cats_total from A where uid=45) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T08:12:47.153

我认为您可以对两个子查询进行交叉连接；

```
SELECT cats, cats_total 
FROM (SELECT count(cid) as cats from A where uid=45 group by cid) as c1 
        CROSS JOIN
     (SELECT count(cid) as cats_total from A where uid=45) as c2 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T08:59:39.203

你可以试试

```
SELECT cats.total, cats_total.total from 
(SELECT count(cid) as total from A where uid=45 group by cid) as cats ,
(SELECT count(cid) as total from A where uid=45) as cats_total 
```

# c# - 如何使用从不同方法返回的类型调用泛型方法？

> ID：15379523
> 
> 赞同：2
> 
> 时间：2013-03-13T07:41:38.913
> 
> 标签：c#

我有两种类型 Person 和 Organization 都继承自`IContact`.

我有一个基于某些逻辑返回其中一种类型的方法

```
private Type GetPersonOrOrganisation(string some variable)
{
   either returns Person or Organisation type
} 
```

我有一种方法可以查询数据库中的人员或组织：

```
public static IQueryable<T> Query<T>(this IUow uow) where T : IContact
        {
            return uow.Query<T>();
        } 
```

我的问题是如何使用返回的类型`GetPersonOrOrganisation`来调用查询。

所以说：

```
var contactType = GetPersonOrOrganisation(string some variable);

 var contact = Query<contactType>(); 
```

其中contactType 将是Person 或Organization。

显然这不会编译，这是我的问题。如何根据返回的内容从数据库中查询正确的类型`GetPersonOrOrganisation`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:51:56.213

在仿制药和仿制药之间移动`Type`是一个很大的痛苦。没有重构的唯一答案是：反射；就像是：

```
var method = typeof(SomeType).GetMethod("Query").MakeGenericMethod(contactType);
// this is to getch your Query<T>(this IUow) method

var contact = (IContact)method.Invoke(null, new object[] { uow }); 
```

这太可怕了。如果可能的话，我建议将您的`Query<T>`方法重写为一个`Query(Type type)`方法（返回`IContact`），它仍然允许`Query<T>`现有代码的通用辅助方法，通过`return (T) Query(typeof(T));`. 然而，情况并非如此。

如果您将类型的实例传递`T` *给*方法，则可以通过使用`dynamic`为您执行类型/泛型/方法解析来简化这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:51:47.600

你不能这样做。但是，您实际上要完成什么？

考虑改用 ArrayList 或 List。作为关于要在 Query 中返回的类型的修改，您可以像这样调整方法：

```
public static IQueryable<T> Query<T>(this IUow uow, Type returnType) where T : IContact
{
  if(returnType is IContact) // code here
} 
```

那是可能有错误的快速代码。

这个stackoverflow链接已经讨论过这个问题： [using type returned by Type.GetType() in c#](https://stackoverflow.com/questions/914578/using-type-returned-by-type-gettype-in-c-sharp)

# java - 通过 HttpGet 从 Web 服务读取 char[] — 奇怪的行为

> ID：15379524
> 
> 赞同：1
> 
> 时间：2013-03-13T07:41:41.680
> 
> 标签：java, android, network-programming, streaming

我正在开发一个 Android 应用程序，它将在流中获取大量 JSON 数据。调用 Web 服务是可以的，但我有一个小问题。在我的旧版本中，我使用 Gson 读取流然后我尝试将数据插入数据库，除了性能之外没有任何问题。所以我试图改变加载数据的方法，我试图先读取数据，`char[]`然后将它们插入数据库。

这是我的新代码：

```
HttpEntity responseEntity = response.getEntity();
final int contentLength = (int) responseEntity.getContentLength();
InputStream stream = responseEntity.getContent();
InputStreamReader reader = new InputStreamReader(stream);

int readCount = 10 * 1024;
int hasread = 0;
char[] buffer = new char[contentLength];
int mustWrite = 0;
int hasread2 = 0;
while (hasread < contentLength) {
    // problem is here
    hasread += reader.read(buffer, hasread, contentLength - hasread);
}

Reader reader2 = new CharArrayReader(buffer); 
```

问题是阅读器开始正确阅读，但在流接近尾声时，`hasread`变量值减少（由`1`）而不是增加。对我来说很奇怪，然后`while`循环永远不会结束。这段代码有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:24:56.350

您应该为缓冲区使用固定大小，而不是整个数据的大小 (the `contentLength`)。还有一个*重要*的注意事项：数组的长度与`char[]`数组的长度不同`byte[]`。数据类型是`char`单个 16 位 Unicode 字符。而`byte`数据类型是一个 8 位有符号二进制补码整数。

您的`while`循环也错误，您可以将其修复为：

```
import java.io.BufferedInputStream;

private static final int BUF_SIZE = 10 * 1024;

// ...

HttpEntity responseEntity = response.getEntity();
final int contentLength = (int) responseEntity.getContentLength();
InputStream stream = responseEntity.getContent();
BufferedInputStream reader = new BufferedInputStream(stream);

int hasread = 0;
byte[] buffer = new byte[BUF_SIZE];
while ((hasread = reader.read(buffer, 0, BUF_SIZE)) > 0) {
    // For example, convert the buffer to a String
    String data = new String(buffer, 0, hasread, "UTF-8");
} 
```

确保使用您自己的字符集 ( `"UTF-8"`, `"UTF-16"`...)。

# java - Reset AUTOINCREMENT in SQLite Database on Android?

> ID：15379526
> 
> 赞同：2
> 
> 时间：2013-03-13T07:41:46.013
> 
> 标签：java, android, sqlite

I'm using a SQLite database in android that auto increments the _ID field, but when I remove a row from it, the _ID has a missing number so instead of it going from 1-9 it would go 1,2,4,5,6,7,8,9, but what I want it to do is go from 1 - 8! Is there a way to do this? Sorry about the question being confusing, I couldn't figure out how to phrase it!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:35:00.583

> I'm using a SQLite database in android that auto increments the _ID field, but when I remove a row from it, the _ID has a missing number so instead of it going from 1-9 it would go 1,2,4,5,6,7,8,9, but what I want it to do is go from 1 - 8! Is there a way to do this?

By one word no. This what you are describing is normal behaviour. Internal iterator of autoincrement hasn't memory, simply said when once is generated id 3, it won't generate id 3 again but next number 4\. If you should have generated ids 1,2,3,4,5 and now remove row with id 5, new inserted row will have automatic id 6 not 5.

In the most of DMSs this is normal behaviour. For sure, you can achieve it when you won't use autoincrement but explicitly added ids and when it changes so you can provide update of rows programatically but this approach is not recommended and also very "sick" because in the case you would have milion rows in table, you would update all milion rows and this operation is too much time-consume and especially for devices this is not good because they have limited memory and battery with certain capacity.

And also as @Areks mentioned if you are using relational tables you must also update references and it's just not worth it in most cases.

**Note:** If you are populating Adapter with List of own defined Objects you can simply save reference for row_id from SQLite into each Object and then when you want to delete row from ListView just get id from row and pass it into parameter of delete method.

# android - 如何在 android 应用程序中设置多语言支持

> ID：15379529
> 
> 赞同：0
> 
> 时间：2013-03-13T07:41:59.913
> 
> 标签：android, android-emulator

嗨，我在这里做一个应用程序，我需要在edittext中输入一些内容，单击按钮后的数据我需要保存在数据库中，到这里我的代码工作正常。但问题在另一个活动列表视图中，如果用户选择法语，我有 10 种语言，那个时候如果在edittext中输入数据那我需要以法语格式在编辑文本中写入数据并将数据保存在数据库中也是法语格式..或者用户选择印地语意味着我需要以印地语格式在编辑文本中写入数据和将数据保存在数据库中也是印地语格式。但在我的应用程序中，默认语言是英语，请问我该怎么做建议我...

```
 Language.class: 
   public class Language extends Activity {

 RelativeLayout main,sub;
public void setNoTitle() {
    requestWindowFeature(Window.FEATURE_NO_TITLE);
} 
 float screenHeight,screenWidth,screendensity;
 TextView heading;
 Button back;
 private ListView lv;
 private EditText et;
 private String listview_array[] = { "Arabic", "Dutch", "English", "French", "German",
 "Hindi", "Italian", "Japanese", "Portuguese", "Russian" };
 private ArrayList<String> array_sort= new ArrayList<String>();
 int textlength=0;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
     setNoTitle();
     getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
     DisplayMetrics displaymetrics = new DisplayMetrics();
     getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);
     screenHeight = displaymetrics.heightPixels;
     screenWidth = displaymetrics.widthPixels;
     screendensity = displaymetrics.densityDpi;
    setContentView(R.layout.language);

      lv = (ListView) findViewById(R.id.ListView01);
         et = (EditText) findViewById(R.id.EditText01);
         lv.setAdapter(new ArrayAdapter<String>(this,
         android.R.layout.simple_list_item_1, listview_array));

         et.addTextChangedListener(new TextWatcher()
         {
         public void afterTextChanged(Editable s)
         {
                                                                         // Abstract Method of TextWatcher Interface.
         }
         public void beforeTextChanged(CharSequence s,
         int start, int count, int after)
         {
         // Abstract Method of TextWatcher Interface.
         }
         public void onTextChanged(CharSequence s,
         int start, int before, int count)
         {
         textlength = et.getText().length();
         array_sort.clear();
         for (int i = 0; i < listview_array.length; i++)
         {
         if (textlength <= listview_array[i].length())
         {
         if(et.getText().toString().equalsIgnoreCase(
         (String)
         listview_array[i].subSequence(0,
         textlength)))
         {
                                                                                                                         array_sort.add(listview_array[i]);
                                                                                                         }
                                                                                         }
                                                                         }
         lv.setAdapter(new ArrayAdapter<String>
         (Language.this,
         android.R.layout.simple_list_item_1, array_sort));
         }
         });

         lv.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> arg0, View arg1,
                    int arg2, long arg3) {
                // TODO Auto-generated method stub

                String 

                if (language.equals("English US")) {

                } else if (language.equals("Francais")) {

                } else if (language.equals("Espanol")) {

                }
            }
        });
}
} 
```

# javascript - javascript chalanging 表单元素数组验证

> ID：15379533
> 
> 赞同：0
> 
> 时间：2013-03-13T07:42:12.017
> 
> 标签：javascript, html, javascript-events

嗨，我有一个 HTML 表单。

```
<form name="modeladd" ethod="post" class="form label-inline" enctype="multipart/form-data" onSubmit="return check('modeladd');">
            <?php  for($i=0;$i<$tot;$i++) { ?>      
                <div class="field">
                <label for="connect_msg">Connect Message </label>                                                                   
                <textarea rows="4" cols="50" name="connect_msg[<?php echo getField($langs[$lan]);?>]" id="connect_msg[]"><?php echo getField($row[$lan]); ?></textarea>
                </div>              
                <div class="field">
                <label for="call_msg">Call Message :</label>                                                
                <textarea rows="4" cols="50" name="call_msg[<?php echo getField($langs[$lan]);?>]" id="call_msg"><?php echo getField($row[$lan]); ?></textarea>
                </div>

                <div class="field">
                <label for="stripline_msg">Stripline Message :</label>                                              
                <textarea rows="4" cols="50" name="stripline_msg[<?php echo getField($langs[$lan]);?>]" id="stripline_msg"><?php echo getField($row[$lan]); ?></textarea>
                </div>
            <div class="field">
                    <label for="cost_msg">Cost Message :</label>                                                
                <textarea rows="4" cols="50" name="cost_msg[<?php echo getField($langs[$lan])?>]" id="cost_msg"><?php echo getField($row[$lan]); ?></textarea>
                </div>          
                <?php } ?>
<input type="submit" class="btn btn-grey" value="submit">
</form> 
```

这是用于验证的 javascript

```
function check(form)
{
   var name = new Array();
   name =document.getElementById('connect_msg[]').value;

   for(var i=0 ; i<=1; i++)
   { 
      alert(name[i].value); 
   }
   return true;
} 
```

我没有为数组的 connect_msg 字段获得价值。我想使用javascript验证两个字段值所以请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:50:25.373

1.  `id`不能有`[]`符号。请验证您的标记：http: [//validator.w3.org/](http://validator.w3.org/)
2.  `value`从元素返回的是 type ，`string`所以你不能得到一个数组。您可以做的是解析字符串以创建您的数组。

例如。假设以下是输出的标记：

```
<textarea id="connect_msg">a,b,c,d,e,f,g</textarea> 
```

您可以在 JavaScript 中执行此操作：

```
var getConnectMsg = document.getElementById('connect_msg').value;
var connectMsgArray = getConnectMsg.split(','); 
```

并将`connectMsgArray`包含`['a','b','c','d','e','f','g']`.

您可以在此处阅读更多信息`.split()`：[https ://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/split](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/split)

**编辑：**既然你说是在一个循环中，那么使用name 属性`textarea`检索元素会更容易，并且使用[jQuery](http://jquery.com)将极大地帮助你。`class`

所以 HTML 输出会是这样的：

```
<textarea class="connect_msg" id="connect_msg1">a,b,c,d,e,f,g</textarea>
<textarea class="connect_msg" id="connect_msg2">h,i,j,k,l,m,n</textarea>
<textarea class="connect_msg" id="connect_msg3">q,r,s,t,u,v</textarea>

var getConnectMsg = $('.connect_msg');
getConnectMsg.each(function(){
    var getValue = $(this).val();
    var connectMsgArray = getValue.split(',');
}); 
```

在 的每次迭代中`.each()`， 的值`getValue`将是：

```
 a,b,c,d,e,f,g
 h,i,j,k,l,m,n
 q,r,s,t,u,v 
```

您可以在每次迭代期间对一组字段进行表单验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:54:10.790

名称不能是多维数组更改此：

```
name="connect_msg[<?php echo getField($langs[$lan]);?>]" 
```

对此：

```
name="connect_msg[]" 
```

然后使用 foreach 循环在 post 脚本中解决它们。
关于 id 使用 this instead() 我不知道你不能在 id 中使用 [] 是否是真的，但我知道这对我有用：

```
id="connect_msg_<?php echo getField($langs[$lan]);?>" 
```

**更新：** 我认为你的权利，也许使用类而不是 id 是要走的路。

```
class="connect_msg" 
```

然后在表单检查函数中而不是这个：

```
var name = new Array();
name =document.getElementById('connect_msg[]').value; 
```

做这个：

```
var connectMsg = document.getElementByClassName('connect_msg'); 
```

然后遍历 connectMsg 数组并获取/验证值。
希望这有帮助。

# qlistwidget - 项目图标在 Qlistwidget 中不可见

> ID：15379537
> 
> 赞同：1
> 
> 时间：2013-03-13T07:42:23.117
> 
> 标签：qlistwidget

我正在尝试在 IconMode 中填充 Qlistwidget。我正在调用一个用于从线程类填充 Qlistwidget 的函数。结果，我可以在小部件中填写项目，但所有项目都没有图标。为了填充小部件，我正在使用这个：

```
QListWidgetItem *Items=new QListWidgetItem();
QFont f;
f.pointSize();
Items->setFont(f);
Items->setFlags(Qt::ItemIsEnabled);
Items->setIcon(QIcon(QPixmap::fromImage(QImage(filename))));
ui->listWidget->addItem(Items);
ui->listWidget->setWrapping(1);
Items->setSizeHint(QSize(100,100));
Items->setFlags(Items->flags()|Qt::ItemIsUserCheckable);
Items->setFlags(Qt::ItemIsEnabled|Qt::ItemIsUserCheckable|Qt::ItemIsSelectable);
Items->setCheckState(Qt::Unchecked);
Items->setToolTip(filename); 
```

谁能告诉如何在 Qlistwidget 中获取缩略图图标？

谢谢，

阿什什

# visual-studio - 使用 MS VS 2012 在 Windows 7 上开发 Windows8 应用程序

> ID：15379538
> 
> 赞同：1
> 
> 时间：2013-03-13T07:42:23.487
> 
> 标签：visual-studio, windows-7, windows-8

我是否可以在 Windows7 平台上使用 VS 2012 开发 Windows 8 应用程序，我已经浏览了该网站，但他们提到 Windows 8 是强制性的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T13:14:57.333

除某些例外情况外，Visual Studio 2012 Windows Store 应用程序创作体验仅限于 Windows 8。

您也许可以让命令行工具在 Windows 7 上运行，但 IDE 需要 Windows 8。

# magento - 每页垂直菜单和标题菜单导航

> ID：15379542
> 
> 赞同：-3
> 
> 时间：2013-03-13T07:42:41.387
> 
> 标签：magento

我正在尝试在磁力 cms 中自定义标题菜单和**垂直菜单**（左侧菜单），垂直菜单如下所示

![在此处输入图像描述](../Images/f656d278bec1051a952cf44d398efb15.png)

当我单击类别时，我将被重定向到下一页，但该页面上不再显示完整的类别列表。我只想在用户正在浏览类别列表的所有页面上显示完整列表。

![在此处输入图像描述](../Images/c204f492230a324d46091ecfae8c0fc6.png)

我在 CMS 上使用以下代码 -> 页面 -> 主页 -> 设计-> 布局更新 XML

```
<reference name="left">
    <!--<block type="catalog/navigation" name="catalog.leftnav" after="currency" template="catalog/navigation/left.phtml"/>-->
        <block type="catalog/navigation" before="-" name="catalog.vertnav" template="catalog/navigation/vert_nav.phtml"/>
</reference> 
```

如何在所有页面中显示左侧菜单以及如何自定义标题菜单如 **首页 关于我们 博客**

请建议我开发好看的磁电机网站

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:46:38.937

要编辑主页关于我们的博客，您可以更改 header.phtml 文件。您还可以放置模板路径提示以获取前端使用的所有文件名。

您是否对 catalog.xml 进行了更改以显示类别导航菜单。还在 layout 中的 catalog.xml 文件中更新。它会显示。

# jquery - Zepto 是否支持将数据传递给 jQuery 等事件处理程序？

> ID：15379545
> 
> 赞同：0
> 
> 时间：2013-03-13T07:42:43.423
> 
> 标签：jquery, zurb-foundation, zepto

或者更确切地说：我可以编写允许将数据传递给在 Zepto 和 jQuery 上运行的事件处理程序的代码（例如 Zurb 的 Foundation 应该）？

有一个需要在声明时定义的外部数据的事件处理程序，这些数据可以作为`event.data`jQuery 的一部分传递：

```
var name = $(this).find("a").attr("href");
// add click function
$(this).click({_name: name}, function(event) {
    $("#"+event.data._name).val($(this).find("a").attr("value"));
    return(false);
}); 
```

在 Zepto 中似乎不可能进行类似的操作。对于这个用例，在 Zepto 和 jQuery 上运行的代码如何实现相同的效果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-30T07:33:09.933

这可以使用 Zepto 的`$.proxy`功能来完成，请参阅[http://zeptojs.com/#changelog](http://zeptojs.com/#changelog)。`$.proxy`在 Zepto 和 jQuery 之间兼容。

例子：

```
$.proxy(function(json) {
    ...

    // store
    data[this._channel] = json;
}, {_channel: channel}) 
```

# android - 如何退出 android 应用程序，我的程序重定向到应用程序中使用的上一个选项卡

> ID：15379546
> 
> 赞同：0
> 
> 时间：2013-03-13T07:42:50.977
> 
> 标签：android

在我的 android 应用程序中，我使用选项卡进行两个不同的活动，并在第一个活动中使用一个按钮来关闭应用程序。但是当我单击按钮时，它会重定向到上一页..

```
btnCancel.setOnClickListener(new OnClickListener() {
    @Override
public void onClick(View arg0) {
onDestroy();

}
});

public void onDestroy() {
    super.onDestroy();
    db.close();
    System.exit(0); 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:38:47.130

要关闭您的应用程序，每当您开始一个新活动时，请使用

```
 startActivityForResult(intent,requestCode); 
```

然后在您启动另一个活动的任何活动中，使用 onActivityResult() 如下

```
 protected void onActivityResult(int requestCode, int resultCode, Intent data){

        if(resultCode == RESULT_CANCELED){              
            finish();
        }
    } 
```

这将确保无论何时您关闭一个活动，结果都会被发送回父活动并且它也会关闭。希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:45:45.997

尝试写入方法，而不是`finish();`，然后删除行。`OnClick()``onDestroy()``System.exit(0);`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T08:31:24.987

在您的第二个活动中添加以下代码

```
 public void onDestroy() {
       super.onDestroy();

           finish();
          } 
```

并添加

```
 youractivity.this.finish() 
```

在取消按钮的单击方法中。

# restkit - 使用 RESTKIT 0.20 映射未命名值的 JSON 数组

> ID：15379552
> 
> 赞同：2
> 
> 时间：2013-03-13T07:43:05.660
> 
> 标签：restkit

当我配置从返回 JSON 到对象的 REST 服务的映射时，我通常这样做：

```
RKObjectMapping *myMapping = [RKObjectMapping mappingForClass:[MyClass class]];
[myMapping addAttributeMappingsFromDictionary:@{@"Address" : @"address", @"City" : @"city"}]; 
```

这对于具有命名属性的 JSON 非常有用，但是如何将以下 JSON 映射到具有属性“名称”的对象？

```
["My Value","Some other value","More stuff","Hello World"] 
```

这个 JSON 只是一个值数组，没有名称/键值。如何使用 RESTKIT 0.20 将其映射到对象？

谢谢索伦_

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T20:02:30.893

方括号中的这个表达式是一个 json 数组：[http://www.json.org](http://www.json.org)。如果您查看主页上的语法树，您可以认为，每个 json 数组都是一个带有名称的“变量”的值。这意味着您的表达式必须如下所示，才能成为有效的 json：

```
{ "myArray": ["My Value","Some other value","More stuff","Hello World"] } 
```

然后像往常一样映射它：

```
[myMapping addAttributeMappingsFromDictionary:@{@"myArray" : @"myArray"}]; 
```

您`MyArray`在映射目标类中的参数的类型为`NSArray`.

# android - 获取 Imageview 数组的 shuffle 列表后图像的位置

> ID：15379564
> 
> 赞同：0
> 
> 时间：2013-03-13T07:44:12.507
> 
> 标签：android

```
int[] images2 = {
            R.drawable.wrong, R.drawable.reviewp,
            R.drawable.bowl, R.drawable.ic_action_search
            };
List<int[]> pic=Arrays.asList(images2);
Collections.shuffle(pic);
Random random = new Random();
for(int i = 0 ; i <= 3 ; i++){

    ReciverI[i].setBackgroundResource(images2[ "at here i want to get the image position"   ]);
    } 
```

帮我获取图像的位置

这是行不通的

```
 ReciverI[i].setBackgroundResource(images2[Integer.parseInt(pic.get(i).toString())]); 
```

这给了我错误的结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:47:24.537

```
ReciverI[i].setBackgroundResource(pic.get(i)) 
```

抱歉没注意。你应该做你的`List<int>`，它会起作用的。正如您现在的代码片段一样，拥有一个整数数组列表是没有用的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:57:40.847

我重写代码

**解决方案 1**

```
Integer[] images2 = {R.drawable.wrong, R.drawable.reviewp, R.drawable.bowl,R.drawable.ic_action_search};
List<Integer> pic=Arrays.asList(images2);
Collections.shuffle(pic);
for(int i = 0 ; i <= pic.size() ; i++){
ReciverI[i].setBackgroundResource(pic.get(i))
} 
```

您绝对想保留原始 int，然后您必须四处走走

**解决方案 2**

```
List<Integer> pic = new ArrayList<Integer>();
        for (int index = 0; index < images2.length; index++)
        {
            pic.add(images2[index]);
        } 
        Collections.shuffle(pic);
        for(int i = 0 ; i <= pic.size() ; i++){
          ReciverI[i].setBackgroundResource(pic.get(i))
        } 
```

# java - 获取 javax.el.PropertyNotFoundException 异常

> ID：15379571
> 
> 赞同：0
> 
> 时间：2013-03-13T07:44:36.497
> 
> 标签：java, jsf-2, primefaces, propertynotfoundexception

我正在使用复合组件来构建自动完成组件..当我尝试为 completeMethod.am 引用方法时遇到此异常。

这是代码

在我的 parent.xhtml

```
<composite:attribute name="completefornameforreportee"
                     method-signature="java.util.List m(java.lang.String)"/>
<p:autoComplete id="empIdText2" value="#{cc.attrs.empNameforreportee}"
                completeMethod="#{cc.attrs.completefornameforreportee}">
    <p:ajax event="itemSelect"
            listener="#{cc.attrs.bean[cc.attrs.handlerforempNamereportee]}"
            update=":form" />
</p:autoComplete> 
```

在完整的.xhtml

```
bean="#{autoCompleteBean}"
completefornameforreportee="#{autoCompleteBean.completeforNameforreportee}" 
```

AutocompleteBean.java

```
public List<String> completeforNameforreportee(String query) throws Exception {
    System.out.println("called");
    List<String> finalNameResults = new ArrayList<String>();
    return finalNameResults;
} 
```

堆栈跟踪：

```
javax.el.PropertyNotFoundException: /ChangeReportHierarchy.xhtml @97,55 completefornameforreportee="#{autoCompleteBean.completeforNameforreportee}": Property 'completeforNameforreportee' not found on type com.hrmsrevamp.service.ChangeReportHierarchy
    at com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:111)
    at com.sun.faces.facelets.el.ContextualCompositeMethodExpression.invoke(ContextualCompositeMethodExpression.java:190)
    at com.sun.faces.facelets.tag.TagAttributeImpl$AttributeLookupMethodExpression.invoke(TagAttributeImpl.java:450)
    at org.primefaces.component.autocomplete.AutoComplete.broadcast(AutoComplete.java:358)
    at javax.faces.component.UIData.broadcast(UIData.java:1093)
    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)
    at javax.faces.component.UIViewRoot.processDecodes(UIViewRoot.java:935)
    at com.sun.faces.lifecycle.ApplyRequestValuesPhase.execute(ApplyRequestValuesPhase.java:78)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:58:47.573

`#{autoCompleteBean.completeforNameforreportee}`期望一个`completeforNameforreportee`具有扩展类型和 getter 和 setter 的属性。像这样的东西：

```
public <YourType> completeforNameforreportee;

public <YourType> getCompleteforNameforreportee() {
    return completeforNameforreportee;
}

public void setCompleteforNameforreportee(<YourType> completeforNameforreportee) {
    this.completeforNameforreportee = completeforNameforreportee;
} 
```

# c# - Geocode 函数返回 610 代码和 codestatus badkey

> ID：15379572
> 
> 赞同：-1
> 
> 时间：2013-03-13T07:44:42.677
> 
> 标签：c#, c#-3.0

我在我的项目中使用 googlemaps.subgurim.net 谷歌地图。地理编码功能工作正常，直到 2013 年 3 月 8 日。在我遇到地理编码功能问题后，它返回代码 610 和代码状态 badkey。在这里，我将纬度和经度转换为人类可读的地址。现在它不起作用..如何解决这个问题......

```
GeoCode objAddress = new GeoCode();
objAddress = GMap1.getGeoCodeRequest(new GLatLng(12.55,77.55));
StringBuilder sb = new StringBuilder();
if (objAddress.valid)
{
    sb.Append(objAddress.Placemark.address.ToString());
    string address = sb.ToString();
    lblPlace.Text = address;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T13:24:58.763

我添加了新版本的 Gmaps.dll 版本 4.1.0.5 文件，来自：[http](http://en.googlemaps.subgurim.net/descargar.aspx) ://en.googlemaps.subgurim.net/descargar.aspx 。我将此文件添加到我项目的 bin 文件夹中。在此之后，我将我的谷歌 API 密钥激活到谷歌 API V3。供参考，请参阅此链接：：[https ://developers.google.com/maps/documentation/javascript/tutorial](https://developers.google.com/maps/documentation/javascript/tutorial)

在此之后我的项目工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:56:57.843

610 代码映射到此错误：

```
The given key is either invalid or does not match the domain for which it was given. 
```

听起来您的 API 密钥可能有问题。看一下这个问题，因为它可能会解释更多：[Google Geocoding v2 API 突然停止工作](https://stackoverflow.com/questions/15288244/google-geocoding-v2-api-stopped-working-suddenly)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T16:34:55.720

我有同样的问题，几天前运行良好的代码。

谷歌表示他们将于 3 月 8 日停止其地理编码 API v2，但是，他们表示他们已将 EOL 推迟到 2013 年 9 月 8 日（请参阅[https://developers.google.com/maps/documentation/geocoding/v2/](https://developers.google.com/maps/documentation/geocoding/v2/)）

API 密钥过去是可选的，但现在它在没有密钥或以前有效的密钥的情况下都不起作用。

看起来唯一的解决方案是移植到 API v3。

# php - Gridview 替代 php？

> ID：15379573
> 
> 赞同：2
> 
> 时间：2013-03-13T07:44:44.787
> 
> 标签：php

我有一个名为“联系人”的表格，其中包含独特的联系人。我有另一个名为“消息”的表，其中每个联系人都有多行。

我想创建一个 Web 界面，其中联系人显示为行，并且左侧有一个加号或展开符号，单击该界面后，我希望消息表中与该联系人相关的行展开。

是否有任何开源项目可以轻松完成此操作，因此我不必从头开始编写所有代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:50:51.960

你应该看看[`dataTable`](http://www.datatables.net/)jQuery 插件。

[这是一个例子](http://www.datatables.net/release-datatables/examples/api/row_details.html)

# java - 无符号 int64 C++ 到 Java

> ID：15379578
> 
> 赞同：-6
> 
> 时间：2013-03-13T07:45:08.147
> 
> 标签：java, c++, unsigned-long-long-int

以下代码段能否成功转换为 Java？

```
u64 magic_table[5] = {
  0x1000000010000000ull,
  0x1000000000010000ull,
  0x1000000000000001ull,
  0x0100000001000000ull,
  0x0000000100000001ull
};

u64 test(u64 magic_sum, int index) {
  u64 before = magic_sum & 0x4444444444444444ull;
  u64 after = (magic_sum + magic_table[index]) & 0x4444444444444444ull;
  return after & ~before;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T07:50:48.840

Java 中的 long 是 64 位的，但有符号。但是，64 位仍然存在，您可以随心所欲地做任何事情。所以是的，我想说您可以将 C++ 代码转换为 Java。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T09:32:35.197

假设那`u64`是`uint64_t`，正式地，不。Java 没有能够表示 a 的所有值的类型`uint64_t`。实际上，这取决于您对这些价值观所做的事情。Java*确实*有 64 位整数类型，如果您只是查看位，而不是整数值（或者如果实际值适合 a `int64_t`），那么您可以使用`long`.

整数类型后缀当然只是`L`, 而不是 `ULL`, 否则（对于您给出的值）：

```
long magicTable[] = { 
    0x1000000010000000L,
    0x1000000000010000L,
    0x1000000000000001L,
    0x0100000001000000L,
    0x0000000100000001L
}; 
```

应该管用。Java 甚至会允许类似的事情 `0x800000000000000L`，即使实际值不能用`long`. （结果*值*将是负数。）

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-13T07:54:58.183

如果您没有时间处理语言的差异（C++ 与 Java），只需使用[JNI](http://en.wikipedia.org/wiki/Java_Native_Interface)，您就可以轻松高效地在 Java 中运行任何 C/C++ 代码。

# ios - JASidepanels 不显示导航按钮

> ID：15379588
> 
> 赞同：3
> 
> 时间：2013-03-13T07:45:54.673
> 
> 标签：ios, iphone, objective-c, storyboard, jasidepanels

我正在尝试`JASidePanels`在我的项目中使用`storyboard`. 你可以在这里看到我的故事板。

![在此处输入图像描述](../Images/3e057e7cbe95f023da4cb6e482c602d3.png)

问题是我没有在导航栏中看到显示左侧面板的按钮。在我的 RootViewController 我有这个代码。

```
-(void) awakeFromNib
{
    [self setLeftPanel:[self.storyboard instantiateViewControllerWithIdentifier:@"leftViewController"]];
    [self setCenterPanel:[self.storyboard instantiateViewControllerWithIdentifier:@"centerViewController"]];
    [self setRightPanel:[self.storyboard instantiateViewControllerWithIdentifier:@"rightViewController"]];
        self.shouldResizeLeftPanel = YES;
    self.shouldResizeRightPanel = YES;
    [self setRightFixedWidth:300.0f];
    [self setLeftFixedWidth:300.0f];

} 
```

我已经按照他们在[github 页面](https://github.com/gotosleep/JASidePanels)上所说的步骤进行操作。此外，当我尝试将`RootviewController`内部嵌入`navigationController`. 它显示的是 navigationBar 但不是`barbutton item`.

对此有什么帮助吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-26T13:55:23.147

将故事板中的中心 UIViewController 嵌入到 UINavigationController 中，例如：

1.  在 StoryBoard 上选择 UIViewController
2.  选择 Xcode 菜单项 Editor - Embed In - Navigation Controller
3.  选择新的 UINavigationController 的 Identity Inspector (Alt-Command-3)
4.  为 StoryBoard ID 赋予唯一的名称，例如 myCenterController
5.  使用该名称创建中心面板

    [self setCenterPanel:[self.storyboard instantiateViewControllerWithIdentifier:@"myCenterController"]];

所以你实际上并没有将 viewController 设置为 centerPanel，而是一个包含你的 viewController 的导航控制器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-07T19:32:43.627

好吧，我使用的是 swift 2.2，我也看不到导航按钮。

我正在使用故事板；所以我创建了：

*   **MainViewController** -> 这将是主容器
*   **LeftMenuViewController** -> 这是左侧菜单
*   **ProductsViewController** -> 这将在*MainViewController内部*

因此`MainViewController`，我将我的 VC 设置如下：

```
self.leftPanel = self.storyboard?.instantiateViewControllerWithIdentifier("LeftMenuViewController") //for left menu and

self.centerPanel = UINavigationController.init(rootViewController: (self.storyboard?.instantiateViewControllerWithIdentifier("ProductsViewController"))!) 
```

添加`UINavigationController.init`将解决问题，您将在中心面板中看到导航按钮。

# ruby-on-rails - 使用多个条件的 ActiveRecord 查询

> ID：15379590
> 
> 赞同：4
> 
> 时间：2013-03-13T07:45:56.790
> 
> 标签：ruby-on-rails, activerecord

我有一个员工数据库，该数据库捕获了所有公司引用的所有公司的所有员工`company_id`

我想做这样的事情

```
sql = "SELECT race, `foreign`, id_number, company_id, COUNT(*) FROM `employees` WHERE company_id = 52 AND race = `African` AND `foreign` = 1 GROUP BY id_number;"
temp_arr = []
ActiveRecord::Base.connection.execute(sql).each {|int| temp_arr << int } 
```

像这样

```
employee_ids = Employees.where(company_id: company_id and race: 'African' and foreign: 1).pluck(:id_number) 
```

我不断收到以下错误

```
ActiveRecord::StatementInvalid: Mysql2::Error: Unknown column 'African' in 'where clause': 
```

并且一直在阅读[Ruby on Rails 指南](http://guides.rubyonrails.org/active_record_querying.html)，但似乎找不到我要找的东西。抱歉，在可能格式错误或其他问题之前，我从未做过这样的查询

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-13T07:49:05.530

您必须将 'and' 替换为 ',' 尝试如下；

```
employee_ids = Employees.where(company_id: company_id, race: 'African',  foreign: 1).pluck(:id_number) 
```

# jquery - 新选项卡上的本地存储为空

> ID：15379591
> 
> 赞同：2
> 
> 时间：2013-03-13T07:45:59.280
> 
> 标签：jquery, local-storage

我有一个 asp.net eshop，我决定使用 localStorage 添加最近查看的项目功能。打开产品页面，项目被添加到数组中并保存在 localStorage 中。

问题是，当我在新选项卡上打开产品时，localStorage 为空，因此该项目未保存在原始数组中。

我在同一选项卡上打开的项目已在 localStorage 中正确注册，关闭并重新打开浏览器会显示保存的项目。

提前感谢您的帮助！

```
 var currentItems = localStorage.getItem("CBRecentlyViewed");
 currentItems = JSON.parse(currentItems);
 if (currentItems == null) {
   currentItems = new Array();
 } 
 var currentItem = { prodID: getQuerystring("productID") };
 currentItems.push(currentItem);
 localStorage.setItem('CBRecentlyViewed', JSON.stringify(currentItems)); 
```

# java - 找不到类编辑器 RXTXport.class？

> ID：15379593
> 
> 赞同：0
> 
> 时间：2013-03-13T07:46:21.090
> 
> 标签：java

为了与我的串口通信，我下载了 rxtx for windows 64 bit 并插入到我的 eclipse 中。一切看起来都很好。但是当我调试它时

```
SerialPort serialPort = (SerialPort) portIdentifier.open("ListPortClass", 300);             
int b = serialPort.getBaudRate(); 
```

它进入类文件编辑器并显示 rxtxport.class 未找到。可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:57:26.597

这个问题听起来像一个类路径问题。我会说检查 Eclipse 构建路径。

奇怪的是，您提供的代码片段不包含所述类，或者它不完整，或者您可能会遇到问题，即它是一个引用的类并且需要进一步的第 3 方库（即，您的 rxtx 包不完整）。

我自己对rxtx并不熟悉，所以我不能说这是否是一个确定的概率，另一方面，这也归结为原始答案：很可能是类路径问题，检查是否包含所有必需的库在 Eclipse 构建路径中。

# ssis - 如果我使用“使用密码加密全部”保存了包，则执行包任务询问密码

> ID：15379595
> 
> 赞同：0
> 
> 时间：2013-03-13T07:46:29.917
> 
> 标签：ssis

我有一个包，它将使用执行包任务执行 7 个包。这 7 个包以保护级别保存为“使用密码加密所有数据”。

在配置执行包任务时，我选择了位置作为“文件系统”。每天我都需要手动运行这个包。但问题是每次我想执行它时，我都需要为所有 7 个包提供密码。通常我在午餐时间运行这个包。

无论如何我可以以编程方式存储包密码吗？如果我昨天运行它并且我没有关闭 BIDS 而我今天再次运行它，这将不会要求输入密码。

我还尝试在第一次运行后构建包，它没有要求输入密码。然后我再次运行它而不关闭投标。但这仍然行不通。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T09:25:14.883

即使你存储了SSIS，在你使用执行它`package passwords`的时候也会一直提示你输入密码。`BIDS`这是因为 BIDS 试图打开个人`child package designer`并因此提示您输入密码。

所以唯一的方法是在没有`dialogue prompt`for的情况下执行它`password`是使用`sql agent`或`dtexec utility`

1.为了执行子包，我建议你为父包创建一个配置文件，并`Package Password`为你所有的包选择属性`Execute Package Task`

![在此处输入图像描述](../Images/eae553f4acdb2b5cd7070672726aa871.png)

2.现在在配置文件中输入所有个人的密码`execute package task`

```
<Configuration ConfiguredType="Property" Path="\Package\Execute Package Task.Properties[PackagePassword]" ValueType="String">
    <ConfiguredValue>Password</ConfiguredValue>
</Configuration> 
```

3.执行你的包使用`dtexec utility`

```
dtexec.exe /f "PackageLocation/Parent.dtsx" 
```

# ruby-on-rails - 生成类似于维基百科的目录，无需 JavaScript

> ID：15379598
> 
> 赞同：3
> 
> 时间：2013-03-13T07:46:36.577
> 
> 标签：ruby-on-rails, ruby-on-rails-3, tableofcontents

我有一个格式如下的页面：

```
<h1>Header</h1>
<h2>Subheader</h2>    
<h3>Subsubheader</h3>
<h1>Another header</h1> 
```

是否可以像维基百科在其文章中所做的那样，在页面的开头在服务器端生成目录/大纲？我使用 Ruby on Rails。

编辑：没有 JavaScript！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-08-12T12:53:05.790

我今天为此创建了一个类。它取决于[http://www.nokogiri.org/](http://www.nokogiri.org/)，但该 gem 已经随 Rails 一起提供了。

把这个放在`app/models/toc.rb`：

```
class Toc
  attr_accessor :html

  TOC_CLASS = "toc".freeze
  TOC_ELEMENT = "p".freeze
  TOC_ITEMS = "h1 | h2 | h3 | h4 | h5".freeze
  UNIQUEABLE_ELEMENTS = "h1 | h2 | h3 | h4 | h5 | p".freeze

  def initialize(content)
    @html = Nokogiri::HTML.fragment content
  end

  def generate
    clear
    set_uniq_ids
    toc = create_container

    html.xpath(TOC_ITEMS).each { |node| toc << toc_item_tag(node) }
    html.prepend_child toc

    return html.to_s
  end

  private

  def clear
    html.search(".#{TOC_CLASS}").remove
  end

  def set_uniq_ids
    html.xpath(UNIQUEABLE_ELEMENTS).
      each { |node| node["id"] = rand_id }
  end

  def rand_id
    (0...8).map { ('a'..'z').to_a[rand(26)] }.join
  end

  def create_container
    toc = Nokogiri::XML::Node.new TOC_ELEMENT, html
    toc["class"] = TOC_CLASS

    return toc
  end

  def toc_item_tag(node)
    "<a data-turbolinks='false' class=\"toc-link toc-link-#{node.name}\" href=\"##{node["id"]}\">#{node.text}</a>"
  end
end 
```

像这样使用它

```
toc = Toc.new article.body
body_with_toc = toc.generate
article.update body: body_with_toc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-12T11:33:34.537

你需要从你的层次结构中生成数据源是这样的

```
 @toc = [ ['header', 0], ['subheader', 1], ['subsubheader', 2],
             ['header2', 0], ['header3', 0], ['subheader2', 1]
        ] 
```

比在模板中渲染它更容易，例如：

```
<%- @toc.each do |item, distance| %>
    <%= ('&nbsp;' * distance  * 5).html_safe %>
    <%= item %>
    <br/>
<%- end %> 
```

会给你：

```
header 
      subheader 
           subsubheader 
header2 
header3 
      subheader2 
```

当然，您可以使用“距离”来确定样式大小而不是“深度”，但我希望您能理解主要思想。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-19T15:11:02.133

是的，有可能。你真的不需要轨道；您还可以使用 javascript 生成目录。这是您可以使用的示例库。 [http://www.kryogenix.org/code/browser/generated-toc/](http://www.kryogenix.org/code/browser/generated-toc/)

您也可以在遍历 rails erb/haml 视图中的元素时创建锚链接。

# ios - UIImageView 的动画在真实的 iOS 设备上效果不佳

> ID：15379609
> 
> 赞同：0
> 
> 时间：2013-03-13T07:47:22.670
> 
> 标签：ios, objective-c, cocoa-touch

我想在应用程序启动时添加一些动画。在 iPad 模拟器上一切正常。但是当它在真正的 iPad 上运行时，框架会静止一段时间，然后开始动画。在所有帧显示之前，动画就完成了。这是我的代码

```
 - (void)viewDidAppear:(BOOL)animated
{
    NSArray *myImages = [NSArray arrayWithObjects: [UIImage imageNamed:@"1.png"], 
                         [UIImage imageNamed:@"2.png"], 
                         [UIImage imageNamed:@"3.png"], 
                         [UIImage imageNamed:@"4.png"], 
                         [UIImage imageNamed:@"5.png"],
                         [UIImage imageNamed:@"6.png"],
                         [UIImage imageNamed:@"7.png"],
                         [UIImage imageNamed:@"8.png"],
                         [UIImage imageNamed:@"9.png"],
                         [UIImage imageNamed:@"10.png"],
                         [UIImage imageNamed:@"11.png"],
                         [UIImage imageNamed:@"12.png"],
                         [UIImage imageNamed:@"13.png"],
                         [UIImage imageNamed:@"14.png"],
                         [UIImage imageNamed:@"15.png"],
                         [UIImage imageNamed:@"16.png"],
                         [UIImage imageNamed:@"17.png"],
                         [UIImage imageNamed:@"18.png"],
                         [UIImage imageNamed:@"19.png"],
                         [UIImage imageNamed:@"20.png"],
                         [UIImage imageNamed:@"21.png"],
                         [UIImage imageNamed:@"22.png"],
                         [UIImage imageNamed:@"23.png"],
                         [UIImage imageNamed:@"24.png"],
                         [UIImage imageNamed:@"25.png"],
                         [UIImage imageNamed:@"26.png"],
                         [UIImage imageNamed:@"27.png"],
                         [UIImage imageNamed:@"28.png"],
                         [UIImage imageNamed:@"29.png"],
                         [UIImage imageNamed:@"30.png"],
                         [UIImage imageNamed:@"31.png"],
                         [UIImage imageNamed:@"32.png"],
                         [UIImage imageNamed:@"33.png"],
                         [UIImage imageNamed:@"34.png"],
                         [UIImage imageNamed:@"35.png"],
                         [UIImage imageNamed:@"36.png"],
                         [UIImage imageNamed:@"37.png"],
                         [UIImage imageNamed:@"38.png"],
                         nil];   

    //myAnimatedView is UIImageView outlet
    myAnimatedView.animationImages = myImages; 
    myAnimatedView.animationDuration = 3; 
    myAnimatedView.animationRepeatCount = 1; 
    [myAnimatedView startAnimating];

    //trigger animationDone method when animation is finished
    dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, myAnimatedView.animationDuration * NSEC_PER_SEC);
    dispatch_after(popTime, dispatch_get_main_queue(), ^(void){
        [self animationDone];
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T09:27:17.037

I believe the problem is with the way you are trying to detect if the animation has finished. Your approach is not correct as it's just based on estimates about the animation.

The phone has much less cpu power than the emulator, which is using your Mac's CPU, so it's going to be slower at executing things around. So your animation is not yet finished, when you assume it has finished loading.

Furthermore, I don't understand the logic behind using Grand Central Dispatch as a simple timer, which is basically what you are doing.

I would change the logic to a simple timer, where I would just check the `isAnimating` value of the `UIImageView`.

So, get rid of this:

```
dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, myAnimatedView.animationDuration * NSEC_PER_SEC);
    dispatch_after(popTime, dispatch_get_main_queue(), ^(void){
        [self animationDone];
    }); 
```

and replace with this:

```
[self performSelector:@selector(checkAnimation) withObject:nil afterDelay:0.1]; 
```

And here is our checkAnimation function:

```
- (void)checkAnimation {
    if (animationView.isAnimating) {
        [self performSelector:@selector(checkAnimation) withObject:nil afterDelay:0.1];
    }
    else {
        [self animationDone];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T13:16:02.027

加载 38 张 1024x768 图像会扼杀你的记忆。较新的 iPad 可能能够处理它，但肯定会出现严重的滞后问题并可能崩溃。特别是在迷你和旧垫上。

考虑一个小视频。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T09:03:35.740

尝试预加载图像，以便在第一次制作动画时没有延迟。

# git - 为什么我的 Gist 没有被合并，而是创建了一个 gistfile1.diff？

> ID：15379612
> 
> 赞同：1
> 
> 时间：2013-03-13T07:47:34.277
> 
> 标签：git, github

有人在 Github 上为我提供了一个 Gist，其中包含一个我想要包含的小修复。在我的机器上，其中包含我想要应用更改的 Git 存储库的克隆，我执行了以下操作：

```
git remote add fix [gisturl]

git merge fix/master 
```

现在我的本地仓库中有一个附加文件“gistfile1.diff”，但其中的更改并未应用于目标文件。

```
Merge made by the 'recursive' strategy.
 gistfile1.diff |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)
 create mode 100644 gistfile1.diff 
```

我在这里想念什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:56:42.367

因为这不是您应用存储在 gist 中的差异的方式。gist 本身就是一个 repo，gist 中的每个文件都是一个单独的文件。您尝试的唯一方法是如果 repo 实际上是您的一个分支。

相反，您只想从 gist 下载 diff 文件并将其传递给`git apply`.

# php - 用户友好的 php try catch

> ID：15379617
> 
> 赞同：1
> 
> 时间：2013-03-13T07:48:07.270
> 
> 标签：php, try-catch

由于很短的时间，我正在使用 PHP 中的 Try Catch。现在，每次抛出一个新错误时，你都会在屏幕上看到一个致命错误，这对用户来说并不友好，所以我想知道是否有办法给用户一个很好的消息，比如回显而不是致命错误。

这是我现在的代码：

```
public static function forceNumber($int){
    if(is_numeric($int)){
        return $int;
} else {
        throw new TypeEnforcerException($int.' must be a number');
}
}

public function setStatus($status) {
    try {
        $this->status = TypeEnforcer::forceInt($status); 
    } catch (TypeEnforcerException $e) {
        throw new Exception($e->getMessage());
    } catch (Exception $e) {
        throw new Exception($e->getMessage());
    }

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T08:00:52.470

最好使用能够捕获所有未捕获异常的前端控制器来解决此问题：

```
<?php
require('bootstrap.php');

try {
    $controllerService->execute($request);
} catch (Exception $e) {
    $controllerService->handleControllerException($e);
} 
```

然后，您可以编写代码以返回内部服务器错误，因为异常表示异常情况，因此通常是 500 内部服务器错误。用户不能对出了什么问题感兴趣，除非它只是没有成功并且你的程序崩溃了。

如果您抛出异常以提供验证通知，则需要在不同的层中捕获这些异常（如果为此使用异常，您可能做错了）。

* * *

*编辑：*对于低级函数，因为 PHP 是松散类型的，如果函数期望和 int，[则强制转换为 int ^(*Docs*)](http://php.net/language.types.type-juggling#language.types.typecasting)：

```
public static function forceNumber($int){
    $int = (int) $int;
    return $int;
} 
```

这实际上会强制整数。如果无法进行强制转换（例如`$int`，它完全不兼容），PHP 将为您抛出异常。

这个例子有点尴尬，因为通过方法的名称，您可以使用它来验证某个数字并在没有的情况下提供错误（这里错误地出现异常）。相反，您应该进行一些验证。如果您期望输入错误，那么在提供错误输入时这不是例外情况，因此我不会为此使用例外。

# ruby-on-rails - 导轨的 Capistrano Deploy 失败错误 - 捆绑包：未找到

> ID：15379618
> 
> 赞同：18
> 
> 时间：2013-03-13T07:48:07.277
> 
> 标签：ruby-on-rails, capistrano

这是我第一次部署并遇到错误。

这是我的 deploy.rb 文件需要 'bundler/capistrano' set :application, "app"

```
set :scm, :git
set :repository,  "git@github.com:myname/#{application}.git"
set :branch, "master"

server "198.12.78.92", :web, :app, :db, primary: true
set :user, "myname"
set :deploy_to, "/home/#{user}/public_html/#{application}"
set :deploy_via, :remote_cache
set :use_sudo, false

default_run_options[:pty] = true
ssh_options[:forward_agent] = true

 namespace :deploy do
   task :start do ; end
   task :stop do ; end
   task :restart, :roles => :app, :except => { :no_release => true } do
     run "#{try_sudo} touch #{File.join(current_path,'tmp','restart.txt')}"
   end
 end 
```

这是我得到的错误。

```
*** [deploy:update_code] rolling back
  * executing "rm -rf /home/myname/public_html/app/releases/20130313073408; true"
    servers: ["198.12.78.92"]
    [198.12.78.92] executing command
    command finished in 891ms
failed: "sh -c 'cp -RPp /home/myname/public_html/app/shared/cached-copy /home/myname/public_html/app/releases/20130313073408 && (echo dd92017bc8bb7f951df52d6a14c933e3033fd24b > /home/myname/public_html/app/releases/20130313073408/REVISION)'" on 198.12.78.92 
```

编辑 - 我已经评论了“set :deploy_via, :remote_cache”，现在得到 bundle: not found 错误

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-22T13:14:53.447

好的，答案似乎是（请参阅我对您的问题的评论）：

在您的工作站和服务器上都安装了最新的 rvm（我有 1.17.1）。

添加：

```
gem 'rvm-capistrano' 
```

到您的 Gemfile（在组内：开发为 capistrano gem）

添加：

```
require "rvm/capistrano"
require "bundler/capistrano" 
```

到您的 config/deploy.rb

应该这样做

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-05-26T19:38:35.267

如果使用 rbenv 把它放在 .bashrc

```
export PATH="$HOME/.rbenv/bin:$PATH"
eval "$(rbenv init -)" 
```

在以下行之前到 capistrano 加载环境，即使与非交互式 shell 连接

```
# If not running interactively, don't do anything
[ -z "$PS1" ] && return 
```

可能也适用于 rvm 初始化

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-10-28T09:09:15.170

我有同样的问题。下面是 RBenv 和 RVM 的解决方案。

**RBENV**

正确安装 RBenv。安装捆绑器 gem。执行'rbenv rehash'。

添加到 deploy.rb 或 deploy/.rb

```
set :default_environment, { 'PATH' => '$HOME/.rbenv/shims:$HOME/.rbenv/bin:$PATH' } 
```

**虚拟机**

正确安装 RVM。安装捆绑器 gem。

```
gem 'rvm-capistrano' 
```

deloy.rb 或 deploy/.rb

```
require 'rvm/capistrano'
set :rvm_ruby_string, 'ruby-2.0.0-p247' # Change to your ruby version
set :rvm_type, :system # :user if RVM installed in $HOME 
```

有关更多配置信息，请阅读：[https ://github.com/wayneeseguin/rvm-capistrano](https://github.com/wayneeseguin/rvm-capistrano)

祝你好运。

# spring-security - 使用spring安全注释时如何调用不安全的代理？

> ID：15379622
> 
> 赞同：0
> 
> 时间：2013-03-13T07:48:40.553
> 
> 标签：spring-security

我在我的项目中使用弹簧安全注释。在某些情况下，我想调用带注释对象的无安全版本。Spring 默认情况下会为带注释的对象创建一个启用安全的代理，并将其用于代码中的自动装配，有什么方法可以使用 spring 实现这一点？
  一个明显的方法是手动创建与我希望此功能具有注释的每个类对应的代理类，并且这些方法的实现只是将其委托给实际对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T10:22:42.120

作为 JDK 代理的一个选项，您可以在运行时获取实际的 bean：

```
MyBean proxy;    
if(AopUtils.isJdkDynamicProxy(proxy)) {
    MyBean actualInstance = (MyBean) ((Advised)proxy).getTargetSource().getTarget()
}

actualInstance.doSomethingSecured(); // no advice related to this method will be called
// so your security annotation will be ignored (transactions, cache, and everething that requires AOP too...) 
```

但是从架构的角度来看，使用手动代理的方法看起来更少错误（除非您绝对确定您不需要安全性以及所有其他可能的方面）。

您可以使用泛型提高可读性：

```
MyBean actualInstance = extractProxyTarget(proxy, proxy.getClass());
actualInstance.doSomethingSecured(); 
```

# file - 使用 grails 下载大文件

> ID：15379627
> 
> 赞同：6
> 
> 时间：2013-03-13T07:48:58.360
> 
> 标签：file, grails, groovy, download

我正在开发一个 grails 应用程序，它具有文件共享功能。它将文件上传到服务器并允许用户从服务器下载文件。我为此使用了以下代码：

```
def file = new java.io.File(filePath)
response.setContentType( "application-xdownload")
response.setHeader("Content-Disposition", "attachment;filename=${fileName}")
response.getOutputStream() << new ByteArrayInputStream(file.getBytes()) 
```

此代码适用于小文件，但是当文件大小增加时，即 >100MB，它给了我以下错误：

```
java.lang.OutOfMemoryError: Java heap space 
```

那么，我该怎么做才能让我的应用程序能够下载大文件？谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-13T08:09:59.473

不要将文件加载到内存中，而是替换

```
response.getOutputStream() << new ByteArrayInputStream(file.getBytes()) 
```

和：

```
file.withInputStream { response.outputStream << it } 
```

# javascript - 处理jquery ajax错误

> ID：15379631
> 
> 赞同：2
> 
> 时间：2013-03-13T07:49:11.470
> 
> 标签：javascript, asp.net-mvc, jquery, asp.net-mvc-4

在我的 MVC 布局页面中，我有以下内容：

```
$("body").ajaxError(
    function (e, request) {
        if (request.status == 403 || request.status == 500) {
            window.location = '@Url.Action("LogOn", "Account", new {area = "", msg = "forbidden", returnUrl = HttpContext.Current.Request.RawUrl})' + window.location.hash;
        return;
        }
        window.location = '@Url.Action("Index", "Error")';
    }
); 
```

在另一个页面上，我正在执行一个 ajax 调用，如下所示：

```
...
                $.when(refreshActionLinks(row, machineId, packageId)).done(function(a1) {
                    row.find("span").text(opStatus).removeClass("pending");
                    progressbar.progressbar("destroy");
                    $(row).flash(bg[1], 1000);
                });
... 
```

javascript函数：

```
function refreshActionLinks($row, machineId, packageId) {
    try {
        var json = JSON.stringify({ packageId: packageId, machineId: machineId, tabType: $("#TabType").val() });
        console.log("refreshActionLinks => " + json);
        $row.find("td.options div.actionLinks").html("<img src='@Url.Content("~/Content/images/ajax-load2.gif")' />"); // pending
        return $.ajax({
            url: "@Url.Action("GetActionLinks", "Packages")",
            data: json,
            timeout: 50000,
            contentType: 'application/json',
            type: 'POST',
            success: function (data) {
                if ($row.length) {
                    $row.find("td.options div.actionLinks").html(data);
                }
            },
            error: function(jqXHR, textStatus, errorThrown) {
                console.log(textStatus, errorThrown);
            }
        });
    } catch(e) {
        // hide icons
        $row.find("a.action").remove();
    } 
} 
```

问题是在执行 refreshAction 函数时，单击菜单链接会导致 ajax 调用出错 - 在这种情况下是正确的。但它确实把我带到了不正确的 /Index/Error 页面。我希望“ **$("body").ajaxError** ”处理网站上的所有 ajax 错误，除了我调用 refreshActionLinks 的页面上。请注意，我已经在我的 ajax 调用周围进行了 try/catch。为什么这不起作用？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:11:38.353

弄清楚了：

ajax 有一个设置：

```
global: false 
```

现在我的函数看起来像这样：

```
function refreshActionLinks($row, machineId, packageId) {
    try {
        var json = JSON.stringify({ packageId: packageId, machineId: machineId, tabType: $("#TabType").val() });
        console.log("refreshActionLinks => " + json);
        $row.find("td.options div.actionLinks").html("<img src='@Url.Content("~/Content/images/ajax-load2.gif")' />"); // pending
        return $.ajax({
            url: "@Url.Action("GetActionLinks", "Packages")",
            global: false, // disable error pages on failed ajax calls
            data: json,
            timeout: 50000,
            contentType: 'application/json',
            type: 'POST',
            success: function (data) {
                if ($row.length) {
                    $row.find("td.options div.actionLinks").html(data);
                }
            }
        });
    } catch(e) {
        // hide icons
        $row.find("a.action").remove();
    } 
} 
```

# api - 使用 JSONP 从对 API 的调用中创建集合

> ID：15379636
> 
> 赞同：0
> 
> 时间：2013-03-13T07:49:29.803
> 
> 标签：api, backbone.js, jsonp

如果这工作正常：

```
$.getJSON('/* my URL */', function(res) {
    console.log(res);
}); 
```

这是否也可以工作，或者我做错了什么：

```
var Data = Backbone.Collection.extend({
    url: '/* my URL */'
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:53:11.953

如果您想使用**JSONP** ，这应该可以工作：

```
var Data = Backbone.Collection.extend({
    url: "/* my URL */",

    sync: function(method, model, options) {
        options.timeout = 10000;
        options.dataType = "jsonp";
        return Backbone.sync(method, model, options);
    }
}); 
```

# mysql - 如果可能，如何在 mysql 查询中覆盖值

> ID：15379637
> 
> 赞同：0
> 
> 时间：2013-03-13T07:49:36.770
> 
> 标签：mysql

我尝试将员工的工作时间存储在 mysql 表中。在表中，`working_hour`我存储了正常工作时间：

```
id employee weekDay    start     end 
1     1       2      10:00:00  18:00:00
2     1       3      10:00:00  18:00:00
3     1       4      10:00:00  14:00:00
4     1       5      10:00:00  12:00:00
5     1       6      10:00:00  18:00:00
6     1       7      00:00:00  00:00:00
7     1       1      00:00:00  00:00:00 
```

在第二张表中，我存储“特殊”工作时间。我在那里存储疾病、假期或特定日期的自定义工作时间等内容。l表`working_hour_specia`如下所示：

```
id           start                   end            type
2     12013-03-12 00:00:00  2013-03-13 23:59:59      ill 
```

这就是我尝试过的：

```
SELECT 
    IFNULL(working_hour_special.start, working_hour.start) AS startTime,
    IFNULL(working_hour_special.end, working_hour.end) AS endTime,
    type
FROM 
    working_hour_special LEFT JOIN
    working_hour ON working_hour.employee_id = working_hour_special.employee_id
WHERE 
    working_hour_special.start = DATE('2013-03-13') AND 
    employee_id = 1 AND
    working_hour.weekDay = DAYOFWEEK('2013-03-13') 
```

问题是 WHERE 子句。我需要特定员工的特定日期的开始和结束时间。有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:36:43.390

首先，看起来很糟糕的桌子设计。您只有一周中的一天，但在另一个中有完整的日期/时间戳。1 月 1 日第 1 周的第 1 周与 7 月 26 日第 1 周的第 1 周没有区别。

其次，当您有一个左连接，然后将该表放入 WHERE 子句（不考虑 NULL 测试）时，它基本上会创建一个正常的 INNER JOIN。

因此，您可能正在寻找的是将与 SPECIAL 关联的 WHERE 组件转移到条件的 JOIN 部分......类似的东西。

```
SELECT 
      IFNULL(working_hour_special.start, working_hour.start) AS startTime,
      IFNULL(working_hour_special.end, working_hour.end) AS endTime,
      type
   FROM 
      working_hour_special 
         LEFT JOIN working_hour 
            ON working_hour.employee_id = working_hour_special.employee_id
           AND working_hour_special.start = DATE('2013-03-13')
   WHERE 
          employee_id = 1 
      AND working_hour.weekDay = DAYOFWEEK('2013-03-13') 
```

# c++ - RInside C++ 入门

> ID：15379638
> 
> 赞同：3
> 
> 时间：2013-03-13T07:49:42.733
> 
> 标签：c++, r, rcpp, rinside

我已经成为 R 用户大约 4 年了，在过去的两周里，我一直在开发一个简单的函数包，它可以分析一些数据并以适合我团队其他成员和主管的项目的方式绘制一些图表工作和一些即将到来的。所以他们现在问我是否可以使它成为一个独立于必须知道 R 的人的可执行文件 - 所以它是一个带有基于文本的菜单或简单 gui 的单个 .exe 文件。

从冬天开始，我一直在慢慢学习 C++，我认为 RInside 是最好的方法；使用 C++ 生成一个以 R 为核心的 .exe，以实现令人惊叹的绘图和图形，但它将包含在我的团队可以使用的可执行文件中。我目前已经涵盖了 C++ 变量、带有 iostream 的基本 I/O、布尔值和控制流、函数、数组、结构和类、重载友元和引用。我查看了 Dirk 的博客，我已经将 R 重新安装到 C:\R\ 并安装了 CodeBlocks 和 MinGW，我一直在学习 C++。我需要关于我应该采取哪些预防措施以及在继续之前我应该​​检查/阅读/了解哪些事情的建议，也许还有一种对新手友好的方式来开始涉足和尝试事情。

谷歌搜索我发现很少有教程或演练的方式与 Rcpp 不同，人们（例如像 Hadley）写了很棒的 wiki 或博客文章，我发现这比跳入更多技术文档更容易一些。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-13T19:57:43.127

没有演练或教程——因为有*六个*包含大量示例的示例目录。

查看`standard/`目录中的那些，它应该使您从非常简单到更高级。

例如，这是最简单的 hello-world 示例`rinside_sample0.cpp`：

```
#include <RInside.h>                    // for the embedded R via RInside

int main(int argc, char *argv[]) {
    RInside R(argc, argv);              // create an embedded R instance 
    R["txt"] = "Hello, world!\n";       // assign a char* (string) to 'txt'
    R.parseEvalQ("cat(txt)");           // eval init string, ignoring returns
    exit(0);
} 
```

只需说“make rinside_sample0”（或`make -f Makefile.win rinside_sample0`在 Windows 上）。（请注意，在 Windows 上，您需要将几个 DLLS 放入您的路径等 pp——Linux 更容易这样做。_

`[rinside]`另请查看标签中的早期问题。

# android - Android 视图 setPadding() 与 setPaddingRelative()

> ID：15379643
> 
> 赞同：47
> 
> 时间：2013-03-13T07:49:54.460
> 
> 标签：android, android-view, padding

基于没有给出太多解释的Android[文档](http://developer.android.com/reference/android/view/View.html#setPadding%28int,%20int,%20int,%20int%29)`setPadding()`， vs有什么区别`setPaddingRelative()`？

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2013-03-13T08:22:05.313

`setPaddingRelative`里面有这个代码：

```
switch(getResolvedLayoutDirection()) {
        case LAYOUT_DIRECTION_RTL:
            setPadding(end, top, start, bottom);
            break;
        case LAYOUT_DIRECTION_LTR:
        default:
            setPadding(start, top, end, bottom);
} 
```

因此，当您使用它设置填充时，`setPaddingRelative`它会根据用户的布局方向更改左右填充值。

# jquery - JQuery 文档就绪功能在 IE 中不起作用

> ID：15379645
> 
> 赞同：7
> 
> 时间：2013-03-13T07:49:58.210
> 
> 标签：jquery, internet-explorer, domdocument

我有一个函数用来用按钮替换一些文本输出或相应地售罄标签。

```
jQuery(document).ready(function() {
jQuery('td.register').each(function () {
    var text = jQuery(this).text();
    var exploded = text.split(',');
    console.log(exploded[0]);
    console.log(exploded[1]);
    if (exploded[0] == 0) {
        jQuery(this).html("<font color='red'>SOLD OUT</font>");
    } else {
        jQuery(this).html("<a class='button' title ='Register for this event' href='" + exploded[1] + "'>Register</a>"); 
    }
})
}); 
```

它似乎在大多数浏览器上都能正常工作，但客户端在 IE9 中抱怨它不起作用。当我在我的电脑上测试它时，大部分时间它都可以工作，但有时它不会，而且*每次*我在 browsershots.org 上测试它时它都不起作用。它出现在 browsershots.org 测试中，就好像 jQuery 甚至没有运行一样。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-13T07:56:13.897

IE9 中未定义控制台 修改您的代码

```
jQuery(document).ready(function() {
jQuery('td.register').each(function () {
    var text = jQuery(this).text();
    var exploded = text.split(',');
    if(typeof(console)!='undefined'){
        console.log(exploded[0]);
        console.log(exploded[1]);
    }
    if (exploded[0] == 0) {
        jQuery(this).html("<font color='red'>SOLD OUT</font>");
    } else {
        jQuery(this).html("<a class='button' title ='Register for this event' href='" + exploded[1] + "'>Register</a>"); 
    }
})
}); 
```

# vim - 如何仅对 Vim 中的某些文件类型启用换行？

> ID：15379660
> 
> 赞同：8
> 
> 时间：2013-03-13T07:50:55.947
> 
> 标签：vim, word-wrap

**我通过在我的vimrc**中添加这个来关闭**Vim**中的[换行](http://vimdoc.sourceforge.net/htmldoc/options.html#%27wrap%27)：

 ****```
set nowrap 
```

但是，我想在编辑`*.tex`文件时自动打开换行。所以，我把这个添加到我的 vimrc 中：

```
augroup WrapLineInTeXFile
    autocmd!
    autocmd FileType tex set wrap
augroup END 
```

当检测到文件类型为 TeX 时，这应该启用换行。这对 tex 文件按预期工作，但如果我在同一个 Vim 会话中打开一个非 tex 文件，它会打开换行！

[在 Vim 上的不同文件扩展名上自动启用和禁用自动换](https://stackoverflow.com/questions/3146410)行建议改用 BufRead。但是，即使这样也有同样的效果：如果我先打开一个 TeX 文件，然后打开一个非 TeX 文件，则非 TeX 文件会打开换行。

如何正确启用仅针对特定文件类型的换行？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-13T07:54:55.323

你可以用`setlocal`这个。它只会影响当前缓冲区。

```
augroup WrapLineInTeXFile
    autocmd!
    autocmd FileType tex setlocal wrap
augroup END 
```

这将应用于每个新的 TeX 缓冲区。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T08:06:50.317

该`'wrap'`选项是*window 的本地*选项。当您使用`:set`时，它也将适用于任何新打开的窗口。你想用`:setlocal`.

此外，虽然你的`:augroup WrapLineInTeXFile`作品，它很麻烦，不能扩展到许多设置。如果您有`:filetype plugin on`，`~/.vimrc`您可以将特定于文件类型的设置（如`:setlocal wrap`）放入`~/.vim/after/ftplugin/tex.vim`（使用*after*目录允许您覆盖由 完成的任何默认文件类型设置`$VIMRUNTIME/ftplugin/tex.vim`）。****

# c# - 在 EF5 中为 api 指定连接字符串

> ID：15379662
> 
> 赞同：1
> 
> 时间：2013-03-13T07:51:02.023
> 
> 标签：c#, entity-framework

我正在使用使用 EF5 的存储库模式，并且我想指定连接字符串的名称。

在我以前的 EF 项目中，我曾经这样做过：

```
MyEntities _entities = new MyEntities("Name=MyConnectionString"); 
```

当我在 VS2012 中创建一个使用 EF5 的新“api”时，字符串参数没有重载。

我试图这样做：

```
private MyEntities _entities = new MyEntities ();

public MyRepository()
{
   _entities.Database.Connection.ConnectionString = "Name=MyConnectionString";
} 
```

我得到：

> “在应用程序配置文件中找不到名为‘MyEntities’的连接字符串”

我应该如何给存储库一个给定的连接字符串？我应该编辑那些代码生成文件吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:11:11.997

显然，唯一需要的就是一个部分类来使它工作。

这就是我是如何做到的......

```
public partial class MyEntities : DbContext
{
    public MyEntities(string connectionString) : base(connectionString) { }
} 
```

之后我可以使用：

```
MyEntities _entities = new MyEntities("Name=MyConnectionString"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:55:31.473

让你的`MyEntities`构造函数像：

```
 public MyEntities()
            : base("MyConnectionString")
 { 

 } 
```

和更通用的方式：

```
 public MyEntities(string connectionString)
            : base(connectionString)
        {
        } 
```

假设`MyEntities`类是继承的`DbContext`

并像这样使用它：

```
public MyRepository()
{
     using (MyEntities db = new MyEntities())
     {
     }

     //or
     using (MyEntities db = new MyEntities(connectionString))
     {

     }
} 
```

# c# - 音频打包成exe

> ID：15379663
> 
> 赞同：0
> 
> 时间：2013-03-13T07:51:04.880
> 
> 标签：c#, .net

有没有办法将音频文件（如可以完成的图像）​​包含到 .NET 的输出 exe 文件中？C＃

我一直在环顾四周，哇，这显然没有那么多用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T13:47:26.317

将您的文件添加到程序集的资源中。

1.  打开项目的属性。
2.  转到“资源”选项卡。单击添加资源 -> 添加现有文件。
3.  如果需要，请更改此资源的名称。

现在你可以这样玩（前提是我将资源命名为 MyWavResource）：

```
System.Media.SoundPlayer player = new System.Media.SoundPlayer(Properties.Resources.MyWavResouce);
player.Play(); 
```

# php - 为什么在php中将函数声明为变量

> ID：15379666
> 
> 赞同：1
> 
> 时间：2013-03-13T07:51:15.660
> 
> 标签：php, function, variables

我开始学习 php，我的问题是在许多情况下函数被定义为变量。谁能解释一下它背后的实际目的是什么，例如：

```
$db_name= "testdb";
$table_name= "my_music";
// below we create the connection to the database.
$connection= @mysql_connect("localhost", "myusername", "mypassword") or die(mysql_error());
// below we are gonna define what database to connect.

$db= @mysql_select_db($db_name, $connection) or die(mysql_error());

//below creates the sql statement so it can insert the data into the table.

$sql= "
INSERT INTO $table_name
(format, title, artist_fn, artist_ln, rec_label, my_notes, date_acq) 
VALUES 
('$format', '$title', '$artist_fn', '$artist_ln', '$rec_label', '$my_notes', '$date_acq')";

//below is the function that holds the result of the query function
$result= @mysql_query($sql, $connection) or die(mysql_error());
 // end of the php for inserting data into database.
?> 
```

正如您在此处看到`$db`的，未在任何以下代码中使用，并且此代码完美地连接到数据库并完成了工作。有什么替代方法可以帮助我更好地理解它。我一直在互联网上搜索它，但找不到任何有用的答案提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T08:01:06.330

前言：mysql 扩展被标记为已弃用。对于新脚本和 esp。当学习 php/database 的东西时，请选择另一个 mysql api，请参阅[http://docs.php.net/mysqlinfo.api.choosing](http://docs.php.net/mysqlinfo.api.choosing)

* * *

`mysql_connect()`赋值给的返回值`$db`不是函数而是mysql连接资源。您可以并且应该将其传递给对`mysql_select_db(..., $db)`, `mysql_real_escape_string(..., $db)`, `mysql_query(..., $db)`,的后续调用`mysql_error($db)`（直接在 mysql_connect 之后除外）等等。
mysql_connect 建立的最后一个连接存储在扩展“内”。如果在调用例如 mysql_query() 时忽略链接参数，则扩展将使用最后一个连接。但如果没有存储有效链接，它也“允许”扩展建立新的默认连接，请`mysql.default_*`参阅[http://docs.php.net/mysql.configuration](http://docs.php.net/mysql.configuration)。
因此，例如，如果您的脚本没有适当的错误处理并且没有将链接资源传递给后续函数调用，例如

```
<?php
mysql_connect('server1', ..., ...);
mysql_select_db('somedatabase');
mysql_query('INSERT INTO ....'); 
```

它实际上可能“工作”，但将数据放入与您预期不同的 MySQL 服务器中。
因此，始终安装正确的错误处理（无论“正确”在您的上下文中意味着什么）并始终将链接资源传递给 mysql_* 函数。

```
<?php
checkParameters() or onParameterError();
$db = mysql_connect('server1', ..., ...) or onMyErrorHandler(null);
mysql_select_db('somedatabase', $db)  or onMyErrorHandler($db);
$param = mysql_real_escape_string($_POST['value'], $db);
$result = mysql_query('INSERT INTO ....', $db)  or onMyErrorHandler($db); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T08:02:16.067

```
$db= @mysql_select_db($db_name, $connection) or die(mysql_error()); 
```

在这里，`mysql_select_db()`（布尔值）的结果被**分配**给`$db`这里。正如您正确指出的那样，它没有在代码中进一步使用，因此该语句可以写成：

```
@mysql_select_db($db_name, $connection) or die(mysql_error()); 
```

请注意，不建议使用[错误控制运算符](http://www.php.net/manual/en/language.operators.errorcontrol.php)，了解[错误日志](https://stackoverflow.com/questions/10331084/error-logging-in-a-smooth-way)以及如何避免这些`or die()`构造。

`mysql_`此外，也不应该使用旧功能；最好学习[PDO](http://php.net/pdo)或[mysqli](http://php.net/mysqli)。

# html - a:hover 没有按预期工作

> ID：15379668
> 
> 赞同：0
> 
> 时间：2013-03-13T07:51:20.067
> 
> 标签：html, css

![截屏](../Images/5c8ca368360c1871a474891b52513011.png)

我正在尝试实现 `a:hover`附图中的效果。但我错过了一些它不起作用的东西。你能纠正我吗？

**HTML 代码：**

```
<ul class="short-by-list">
    <li class="right-mrgn">Make</li>
    <li>
    <a onclick="ajaxSearchLoad(5,49)" href="javascript:void(0)">
    <img class="SortPosition" alt="ascending" src="../images/nav-arrow.png">
    </a>
    <div class="tooltip-text" style="display: none;">
    <img class="tooltip-arrow" alt="Arrow" src="../images/tooltip-arrow.png">
    Sort by Ascending
    </div>
    </li>
    <li class="last">
    </ul> 
```

**CSS：**

```
.short-by-list {
    background: url("../images/short-bg.png") no-repeat scroll 0 0 transparent;
    float: left;
    height: 21px;
    margin: 0 6px 15px 0;
    padding: 0 6px 0 10px;
    width: 79px;
}
.short-by-list li {
    color: #FFFFFF;
    display: block;
    float: left;
    line-height: 21px;
    position: relative;
}
.short-by-list li .tooltip-text {
    left: -38px;
}
.short-by-list li.last .tooltip-text {
    left: -40px;
}
.short-by-list li.right-mrgn {
    margin-right: 9px;
    min-width: 29px;
}
.short-by-list li a {
    display: block;
    float: left;
    padding: 0 6px;
    text-decoration: none;
}
.short-by-list li:hover a, .short-by-list li.select a {
    background: url("../images/bg-hover.png") repeat-x scroll 0 0 transparent;
}
.short-by-list li.select .tooltip-text {
    display: block !important;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:58:06.060

中`.short-by-list li`，尝试添加`height:21px;`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:06:40.177

我怀疑这是因为内部`<img>`元素已经浮动，因此`<a>`元素的高度会塌陷。尝试设置`overflow: hidden`为`<a>`.

如果一切都失败了，请为`<a>`.

# javascript - 写入后的 JavaScript 检查 Cookie 似乎需要睡眠

> ID：15379669
> 
> 赞同：0
> 
> 时间：2013-03-13T07:51:21.580
> 
> 标签：javascript, setcookie

我有一个花哨的问题。一些 JavaScript 检查是否可以写入 Cookie。
这是我们的代码：

```
function logCookieError(){
  var noCokkieSet = false;
  createCookie('testcookie','testvalue',1);
  if(getCookie('testcookie') != 'testvalue'){
    noCokkieSet = true;
    _log.error("XMPP=NO COOKIES:");
  }else{
    eraseCookie('testcookie');
  }
  return noCokkieSet;
} 
```

不幸的是，有时（用 Chrome 测试），我们收到一个错误，但没有任何改变。
那么，编写 Cookie 是否需要一些时间，并且我需要添加一个睡眠，或者其他东西会影响这个测试吗？

问候，
-雷纳

**编辑**：
我认为，createCookie 和 getCookie 是标准 JavaScript 方法。这是实现：

```
function createCookie(name,value,days){
  if (days){
    var date = new Date();
    date.setTime(date.getTime()+(days*24*60*60*1000));
    var expires = "; expires="+date.toGMTString();
  }else{
    expires = "";
  }
  document.cookie = name+"="+value+expires+"; path=/";
}

function getCookie(NameOfCookie){
  if (document.cookie.length > 0){
    begin = document.cookie.indexOf(NameOfCookie+"=");
        >-if (begin != -1){
      begin += NameOfCookie.length+1;
      end = document.cookie.indexOf(";", begin);
      if (end == -1) end = document.cookie.length;
      return unescape(document.cookie.substring(begin, end));
    }
  }
  return null;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:04:41.603

检查您的 createCookie 函数。可能您正试图创建一个自动终止的超时 cookie。一个很好的例子位于： [Quirksmode org](http://www.quirksmode.org/js/cookies.html)

# parsing - 具有保存功能的 Parse.Object 的子类

> ID：15379680
> 
> 赞同：1
> 
> 时间：2013-03-13T07:51:54.240
> 
> 标签：parsing

我将 Parse.Object 子类化如下：

```
 var CFSScoreData = Parse.Object.extend("CFSScoreData",
{
    initialize:function () {
        this.playerName = "RACCOON";
        this.playTimeInSec = 0;
        this.rank = 0;
            this.updateScore();
    },
    updateScore:function () {
        this.set("playerName", this.playerName);
        this.set("playTimeInSec", this.playTimeInSec);
        this.set("rank", this.rank);
    },
    saveScore:function () {
        this.updateScore();
        this.save(null, {
              success: function() {
                  alert("saveSuccess");
              },
              error: function(error) {
                  alert("saveError");
              }
        });
    },
}
); 
```

这很好用。

但是我想在保存后获取对象的ID，所以我尝试了：

```
saveScore:function () {
    this.updateScore();
    this.save(null, {
          success: function(this) {
              alert("saveSuccess" + this.id);
          },
          error: function(error) {
              alert("saveError");
          }
    });
}, 
```

但它没有工作......

任何建议将不胜感激，谢谢:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:27:58.173

Silly I am ~

It should be:

```
saveScore:function () {
    this.updateScore();
    this.save(null, {
          success: function(scoreData) {
              alert("saveSuccess" + scoreData.id);
          },
          error: function(error) {
              alert("saveError");
          }
    });
}, 
```

# c# - 如何在 .net 框架中发送包含 '%%' 的 http post 请求？

> ID：15379686
> 
> 赞同：1
> 
> 时间：2013-03-13T07:52:41.260
> 
> 标签：c#, http, post, encoding

我想用 c# 发送一个发布请求。我写的代码是：

```
string Pack = "Http://178.131.59.12:8081/rn/lo/?%%1111103643,A,130313073912,N3518.3952E04700.6455,10,85,0,FFFFFFFF,108\r\n";
Uri UR = new Uri(Pack);
HttpWebRequest req = (HttpWebRequest)HttpWebRequest.CreateDefault(UR);
req.Method = "POST";
WebResponse res = req.GetResponse();
Stream str = res.GetResponseStream();
int b = str.ReadByte() - 48;
if (b == 0)
    Console.WriteLine("Successful");
str.Close(); 
```

创建 Uri 时，UR 转换`%%`为不相关的符号，如 %25%◄（因为转义）

我将 Pack 值中的 % 替换为 %25

```
string Pack = "Http://178.131.59.12:8081/rn/lo/?%25%251111103643,A,130313073912,N3518.3952E04700.6455,10,85,0,FFFFFFFF,108\r\n"; 
```

但是，服务器不接受 http 标头。

当我使用任何浏览器将第一包值发送到服务器时，服务器会接受它，但不会编程。

我想我应该创建一个不转义 UrsString 的 Uri。如何`UriString`在 C# 中创建不转义的 Uri？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-08-16T21:12:15.360

使用 HttpWebRequest.CreateHttp 而不是 HttpWebRequest.CreateDefault

# javascript - 仅在加载主干视图时才需要依赖项

> ID：15379687
> 
> 赞同：2
> 
> 时间：2013-03-13T07:52:51.600
> 
> 标签：javascript, backbone.js, requirejs, amd

我正在使用带有布局管理器和 RequireJS 的 Backbone。

View1 依赖于 2 个依赖项，如下所示。该应用程序还有一个名为 View2 的类似视图，它仅依赖于“jquery.fileupload”，与 View1 不同，它有 2 个 deps。

```
define(['jquery.fileupload', 'jquery.fileupload-ui'], function (dep1, dep2) {

    var View1 = Backbone.View.extend({

        ...

    });

    return View1;

}); 
```

问题是'jquery.fileupload-ui'（第二个依赖项）似乎由requireJS加载/评估，即使我没有访问依赖它的视图并且导致一些插件错误（我使用基本的fileupload插件一个视图，以及另一个视图中的扩展文件上传插件）。看起来 define() 会立即预加载模块。

如何避免在应用程序初始化时加载第二个依赖项并仅在我的视图中加载它？我想我可以将 require() 调用嵌套到 View1 的定义中，但我不确定如果调用是嵌套的，我该如何返回一个值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T16:17:34.677

Any time you module load the view1 module, 'jquery.fileupload-ui' will be loaded. If you only need this module in certain cases when you module load view1, you could have view1 require() in 'jquery.fileupload-ui' only if a certain code path is reached.

You can do this by adding a `require(['jquery.fileupload-ui'], function(jqui){...});` in the specific method within view1 where you need the library.

I am not sure if this answers your question, but I think it may.

# c# - WCF 客户端包装线程安全

> ID：15379690
> 
> 赞同：1
> 
> 时间：2013-03-13T07:53:03.303
> 
> 标签：c#, .net, wcf, thread-safety

我有 WCF 服务

```
[ServiceBehavior(
    InstanceContextMode = InstanceContextMode.Single,
    ConcurrencyMode = ConcurrencyMode.Single,
    IncludeExceptionDetailInFaults = true)]
public class ClientAPI : IClientAPI { ... } 
```

和 .NET 包装器在我添加时为此服务生成`Service Reference`。

那个包装对象线程安全吗？我的意思是我可以在不同步访问对象本身的情况下从不同的线程调用此客户端对象的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:04:25.793

是的，使用这种模型，您的服务实例将被创建一次，并且每个查询都将得到相应的处理。但是你必须检查你的服务状态，因为如果它失败了，你必须创建新的实例。它会像这样在一个线程中工作 ![在此处输入图像描述](../Images/8e80082a553ae3eeb466163867aa2624.png)

# google-maps-api-3 - 我如何使用覆盖层在ios地图中画一条线

> ID：15379694
> 
> 赞同：1
> 
> 时间：2013-03-13T07:53:24.410
> 
> 标签：google-maps-api-3, ios4, ios6

我想使用覆盖层在 ios 地图上画一条线。我有一个在地图上画线的代码。但这对我不起作用。谁能帮我。

MKCoordinateSpan 跨度；span.latitudeDelta=.03; 跨度.longitudeDelta=.03;

```
MKCoordinateRegion region;
region.span=span;
region.center=CLLocationCoordinate2DMake(39.046259, -76.851195);

[_myMapView setRegion:region animated:YES];
[_myMapView regionThatFits:region];

UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(singleTapWebView:)];
singleTap.numberOfTapsRequired = 1;
singleTap.delegate = self;
[self.myMapView addGestureRecognizer:singleTap];
[singleTap release];

CLLocationCoordinate2D commuterLotCoords[5]=
{
    CLLocationCoordinate2DMake(39.036399,-76.872208)
};
 MKPolygon *commuterParkingPolygon=[MKPolygon polygonWithCoordinates:commuterLotCoords count:5];
    [_myMapView addOverlay:commuterParkingPolygon]; 
```

在上面的代码中，我们可以从这一行更改终点“ **CLLocationCoordinate2DMake(39.036399,-76.872208** )”，但起点始终是纬度 0.000003，经度 0.000000。我怎样才能改变开始品脱。任何人都可以帮我解决这个问题。

# iphone - 作为 MobileSafari，如何使导航栏与 webview 一起滚动？

> ID：15379695
> 
> 赞同：1
> 
> 时间：2013-03-13T07:53:25.850
> 
> 标签：iphone, ios, objective-c, mobile, safari

iOS上MobileSafari的效果，当网页向下滚动时，导航栏一起下降，当网页向上滚动时，导航栏从视图中消失，如何实现呢？非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:01:29.317

看看下面显示的链接......你会得到你想要的：

[如何在 UIWebView 中设置内容偏移量和内容大小。](https://stackoverflow.com/questions/3525256/how-to-set-content-offset-and-content-size-in-a-uiwebview)

[iphone：在 UIWebView 上查看？](https://stackoverflow.com/questions/5088111/iphone-view-on-top-of-uiwebview)

# c - 在 Bison 中出错后释放留在堆栈上的指针

> ID：15379702
> 
> 赞同：1
> 
> 时间：2013-03-13T07:53:59.880
> 
> 标签：c, malloc, bison, flex-lexer

我正在研究一种脚本语言，其解析器是在 Bison 中实现的。我没有关于语法的问题——它功能齐全，语言也可以工作，但它并没有按照我想要的方式处理错误。

这就是问题所在：我已经实现了解析器，以便它在减少规则时逐段在堆栈上构建表达式树。这个想法是，当整个脚本被读入时，我会在堆栈上留下一个表达式树，然后我可以直接将其转换为字节码。该特定规则的语法如下所示：

`script: block { pp_write_block($1); pp_free_tree($1); fputc(CODEEND,ppbcout); YYACCEPT; } ;`

在这里，`pp_free_tree($1)`递归地释放整个表达式树。这很好——直到我遇到错误。如果 Bison 在解析过程中的任何时候都失败了，那么我会在堆栈上留下一堆堆分配的树。

所以，我的问题是：如果我在 Bison 中遇到解析错误，如何释放这些`malloc`位于堆栈上的树？真的，我需要的只是一种遍历堆栈的方法，调用`pp_free_tree`其中的每个指针；但是，我不确定我将如何去做。

**tl,dr**：如何循环遍历 Bison 中的堆栈以释放我放在那里的指针？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:39:25.130

似乎，您正在寻找 %destructor 指令。

[http://www.gnu.org/software/bison/manual/html_node/Destructor-Decl.html](http://www.gnu.org/software/bison/manual/html_node/Destructor-Decl.html)

# android - 自定义默认相机应用

> ID：15379704
> 
> 赞同：0
> 
> 时间：2013-03-13T07:54:10.587
> 
> 标签：android, camera

有没有办法向默认相机应用程序添加按钮或其他视图？请注意，我不想创建自定义相机应用程序，而只是将视图添加到默认值。那可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T08:00:22.660

除非您对自定义 ROM 开发感兴趣。答案是**否定的**

但是，如果您对前者感兴趣，可以查看[XDA 大学](http://xda-university.com/as-a-developer/getting-started-building-a-kernel-from-source)。您需要下载源 android 相机应用程序并对应用程序进行更改..

所有这些都被称为 ROM 开发。但当然，您将无法在默认相机应用程序中进行更改之类的操作。以上内容只会让您学习如何制作自己的相机应用程序，并且可能是您自己的定制的安卓ROM？

# mysql - mysql表设计，分表还是全表？

> ID：15379706
> 
> 赞同：0
> 
> 时间：2013-03-13T07:54:11.620
> 
> 标签：mysql, database

我有餐桌屋

```
CREATE TABLE `house` 
   `idhouse` int(11) NOT NULL AUTO_INCREMENT,
   `type` mediumint(2) DEFAULT NULL,
   `address` varchar(5) DEFAULT NULL,
   `county` varchar(5) ... 
```

现在，我有了广告功能。所以想把房子变成广告

方法一（直接加列进行加法）

```
CREATE TABLE `house` 
   `idhouse` int(11) NOT NULL AUTO_INCREMENT,
   `type` mediumint(2) DEFAULT NULL,
   `address` varchar(5) DEFAULT NULL,
   `county` varchar(5) ...
   `ad_type` mediumint(2) DEFAULT NULL,
   `ad_urgency` int(11) DEFAULT NULL,   
   `ad_status` int(11) DEFAULT NULL, 
```

方法二（归一化，拆分成表格广告）

```
CREATE TABLE `house` 
   `idhouse` int(11) NOT NULL AUTO_INCREMENT,
   `type` mediumint(2) DEFAULT NULL,
   `address` varchar(5) DEFAULT NULL,
   `county` varchar(5) ...

CREATE TABLE `Ads` 
   `idAds` int(11) NOT NULL AUTO_INCREMENT,
   `idhouse` int(11) NOT NULL AUTO_INCREMENT,   
   `ad_type` mediumint(2) DEFAULT NULL,
   `ad_urgency` int(11) DEFAULT NULL,   
   `ad_status` int(11) DEFAULT NULL, 
```

*   我会做更多的 SELECT (90%) 操作，而不是 INSERT、UPDATE、DELETE (10%)

*   SELECT 操作将**全部**基于**ad_type、ad_urgency**和**ad_status 等变量。**

*   我考虑了很多性能。

我应该使用哪种方法？
使用方法 1（SELECT without join）是否比方法 2（SELECT with join）更快？
如果更快，多少？很多 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:15:25.860

标准化有很多优点。

*   它可以帮助您避免冗余。
*   它使您的数据库结构灵活。
*   它可以帮助您避免异常。
*   复杂的查询通常更容易。
*   它最大限度地减少您的数据

……还有更多。

查询的速度不能仅仅由数据结构轻易决定，它受到许多不同方面的影响，如数据库配置、服务器硬件、索引、数据加载等等。

但是由于更少的数据通常意味着更快的查询（有或没有连接）：选择 normalzied 方法。接管系统的数据库管理员将感谢您。

# c++ - 性能 - 使用迭代器或指针迭代向量？

> ID：15379709
> 
> 赞同：3
> 
> 时间：2013-03-13T07:54:13.990
> 
> 标签：c++, performance, vector, iterator, visual-c++-2012

我目前正在编写一个需要尽可能好地执行的应用程序。我使用 VS2012 作为我的 IDE（和编译器）。

我注意到，当我对向量进行迭代时，与迭代器相比，指针解决方案在速度方面要快得多。这是为什么？我的意思是，迭代器基本上是一样的。至少应该是这样。

看看这个例子：

```
std::vector<int> v;
for (std::vector<int>::iterator it = v.begin(); it != v.end(); it++) {
    // Do stuff with *it
}

for (int* i = &v[0], i <= &v[v.size()-1]; i++) {
    // Do stuff with *i
} 
```

编译器是否需要任何优化？我正在使用所有标准设置，所以 -O2 已经启用。提前致谢。

**编辑：** 我在 Release 中编译，并使用 Ctrl+F5 运行（即没有调试）。

**EDIT2：** 实际的源代码是快速排序的实现。[这是完整源代码的链接](http://pastebin.com/529vY2p9)，非常短，请查看。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T08:01:39.220

> 我目前正在编写一个需要尽可能好地执行的应用程序。

然后抓住一个分析器，看看真正的瓶颈在哪里。当然，在优化代码（发布模式）中。

-O2 不是 VS2012 中的一切：有几个`#defines`可以操纵标准容器迭代器的行为，包括边界检查和其他安全检查。您可能想要查找它们（“检查迭代器”和“安全 SCL”可能会引导您到正确的站点）并相应地设置它们。

但我非常怀疑容器上的迭代是否会成为您的瓶颈，会有其他代码部分对性能问题更敏感。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T07:59:32.580

一个潜在的原因是您正在对迭代器进行后递增而不是对其进行预递增。试试这个：

```
for (std::vector<int>::iterator it = v.begin(); it != v.end(); ++it) 
```

这可能不会提高您的速度，因为一些（可能是大多数）编译器优化了这个问题。但是，有时当您进行后增量时，必须制作旧迭代器值的临时副本，以允许它在循环中返回您期望的值。无论如何，这是可以尝试的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T08:07:26.270

提高性能的一种简单方法是不要`end`在每次迭代时都执行该方法 - 也不`++it`要这样做`it++`。

IE

```
std::vector<int> v;
const std::vector<int>::iterator end = v.cend();
for (std::vector<int>::iterator it = v.begin(); it != end; ++it) {
    // Do stuff with *it
} 
```

# joomla - 从 Joomla 菜单调用的 php 页面无法捕获登录的用户信息

> ID：15379713
> 
> 赞同：0
> 
> 时间：2013-03-13T07:54:43.270
> 
> 标签：joomla

我们有一个在 Joomla 中运行的应用程序。有一个菜单选项说“我的数据” - 单击它将在 iframe 中打开一个 php 页面。在这个目标 php 中，我们想要捕获我们面临问题的当前登录用户详细信息。

我们使用过`JFactory::getUser()`，但没有显示任何内容。尽管如果将任何特定的 id 作为参数传递给 getuser，那么该 id 的详细信息就会出现。PFB 代码。有人可以帮助我们。提前致谢 。

```
/*******Start of code*********/

define('_JEXEC', 1);

define('DS', DIRECTORY_SEPARATOR);

if (file_exists(dirname(__FILE__) . '/defines.php')) {

    include_once dirname(__FILE__) . '/defines.php';
}

if (!defined('_JDEFINES')) {

    define('JPATH_BASE', dirname(__FILE__));

    require_once JPATH_BASE.'/includes/defines.php';

}

require_once JPATH_BASE.'/includes/framework.php';

$app = JFactory::getApplication('site');

$app->initialise();

$user =& JFactory::getUser();

echo 'User name: ' . $user->username . '<br />'; echo 'Real name: ' . $user->name . '<br />';

$specificuser =& JFactory::getUser(403);

echo 'Specific User name: ' . $specificuser->username . '<br />'; echo 'Specific Real name: ' . $specificuser->name . '<br />';

/******eof code********/ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:15:55.563

而不是这种重新加载 Joomla 框架的方法，您可以只检查会话对象，这是 Joomla 在调试模式下的转储：

```
Session
__default
    session.counter ⇒ 13
    session.timer.start ⇒ 1363124213
    session.timer.last ⇒ 1363162265
    session.timer.now ⇒ 1363162286
    session.client.browser ⇒ Mozilla/5.0 (Windows NT 6.1; WOW64; rv:19.0) Gecko/20100101 Firefox/19.0
    registry ⇒ {}
        user
            id ⇒ 0
            name ⇒
            username ⇒ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T14:54:39.930

尝试使用以下内容：

```
define('_JEXEC', 1);
define('JPATH_BASE', realpath(dirname(__FILE__)));
require_once ( JPATH_BASE .'/includes/defines.php' );
require_once ( JPATH_BASE .'/includes/framework.php' );
require_once ( JPATH_BASE .'/libraries/joomla/factory.php' );
$mainframe = JFactory::getApplication('site');

$user = JFactory::getUser();

echo 'User name: ' . $user->username . '<br />'; 
echo 'Real name: ' . $user->name . '<br />';

$specificuser = JFactory::getUser(403);

echo 'Specific User name: ' . $specificuser->username . '<br />'; 
echo 'Specific Real name: ' . $specificuser->name . '<br />'; 
```

希望这可以帮助

# cakephp - Cake PHP 模型关联 - 我做错了什么？

> ID：15379720
> 
> 赞同：0
> 
> 时间：2013-03-13T07:54:59.917
> 
> 标签：cakephp, model-associations

无论我阅读了多少次文档，看看我无法让我的模型与另一个模型“关联”的示例。

这是我的例子：

我有一张名为*kits*的表和一张名为*grades*的表（阅读书籍和作者）。

*套件*看起来像这样（简化）：

1.  身份证（PK）
2.  Grade_id (FK)
3.  姓名

*成绩*看起来像这样：

1.  身份证（PK）
2.  代码

每个套件只有 1 个等级。我认为命名约定没有任何问题，它遵循 API 中的规定。

--

我有一个名为 KitsController.php 的控制器，如下所示：

```
class KitsController extends AppController {
    public function index() {
        //simple find that limits to one (for readability)
        $pigs = $this->Kit->find("all", array( 
            "limit" => 1
        ));

        $this->set("pigs", $pigs);
    }
} 
```

我有一个相应的 index.ctp 文件，它输出变量 $pigs （不是我知道的生产级变量名称）。

--

我的模型名为 KitModel.php

```
class Kit extends AppModel {
    public $belongsTo = "Grade";//here is where I am confused
} 
```

...以及占位符的空等级模型

```
class Grade extends AppModel {

} 
```

--

**问题：**

当数组在页面上打印出来时，它看起来像这样。

```
Array ( [0] => Array ( 
    [Kit] => Array ( 
        [id] => 1 
        [grade_id] => 1 
        [name] => Ferrari 
)   )   ) 
```

根据我的理解，当我打印出结果时，它应该包括等级信息和套件信息。对于我在网上看到的每一个例子来说，它肯定都是如此。我也尝试过不同的关系（hasOne 等）但无济于事。此外，我通过传入带有类名和外键的数组尝试了长格式，但如果我的模式与 cakePHP 约定匹配，我不应该这样做。

我错过了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T07:57:43.340

> 我的模型名为 KitModel.php

您的模型文件名不正确。应该是`Kit.php`。如果 CakePHP 没有找到按照约定命名的模型文件，它会为模型使用 AppModel 实例。

# java - java泛型方法基础

> ID：15379723
> 
> 赞同：0
> 
> 时间：2013-03-13T07:55:13.207
> 
> 标签：java, generics, methods

我正在运行一些测试以更好地理解 java 泛型方法，并遇到了以下问题。我有以下简单的课程：

```
1    public class SomeClass<O extends Object> {
2    
3        O someVar;
4    
5        public SomeClass() {
6           someFunc(new Number(1));
7        }
8    
9        public void someFunc(O arg) {
10           // code
11        }
12    } 
```

就目前而言，编译器不喜欢第 6 行。eclipse 建议要么将 Number 实例强制转换为 O，要么在第 9 行将参数类型更改为 Number。**如果可能的话，我真的很想避免两者。** 我知道像这样修改类可以解决这个问题：

```
1    public class SomeClass {
2    
3        O someVar;
4    
5        public SomeClass() {
6           someFunc(new Number(1));
7        }
8    
9        public <O extends Object> void someFunc(O arg) {
10           // code
11        }
12    } 
```

但这给第 3 行带来了一个新问题。

那么我的原始代码可以做什么呢？

感谢您的时间！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:02:50.317

第一个示例中的问题是您正在创建一个类 SomeClass ，其中 O 可以是任何扩展对象（或对象）的东西。

例如`new SomeClass<HashMap>();`

现在编译器将有一个构造函数，它试图将 Number 传递给一个需要**O**在这种情况下为**HashMap**的方法。

更改您的构造函数以获取`O something`您传递给的参数`someFunc`。

```
public SomeClass(O something) {
  someFunc(something);
} 
```

如果你知道你想创建和传递一个**数字**，你的泛型应该说

```
class SomeClass<O extends Number> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:04:09.513

问题是`<O extends Object>`您声明 O 可以是扩展 Object 的任何类型（所以实际上是任何类型 - 您可以将其更改为`<O>`）。

然后你的函数`someFunc`被声明为接受一个类型的参数`O`，但是你传递了一个数字。不能保证 Number 为 O。

eclipse 建议的解决方案都不是好的：

如果您将 Number 转换为 O，您可能会收到错误，因为 Number 不是 O（记住 O 可以是任何东西）如果您将参数更改为 Number，那么您可以传递私有变量，我认为这就是您想要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T08:04:17.847

您可以添加一个重载方法，该方法`Number`除外作为参数。

```
public void someFunc(Number n) {
    // code
} 
```

# java - 图像作为背景和paintComponent

> ID：15379724
> 
> 赞同：1
> 
> 时间：2013-03-13T07:55:15.847
> 
> 标签：java, swing, background, jpanel, paintcomponent

我只是想为大学制作一个游戏，这是一个玩家用键盘导航以穿过迷宫的球。我唯一坚持的是我的背景是迷宫的图像，当我添加“球”时，它会重新绘制背景（默认颜色，无图像），当我注释掉油漆和油漆组件时，迷宫背景又回来了，但当然没有球。

我是 java 新手，我已经搜索过这个，但看不到我已经拥有的代码的好灵魂。它是 setOpaque 吗？isOpaque?....不透明甚至是正确的方向吗？

一旦我得到这个......我完全理解使用碰撞检测来检测与迷宫“墙”的碰撞

试图弄清楚这一点，刚接触java，会让一个成年人哭泣。

main.java

```
public class Main{

public static void main (String[] args){

    //System.out.println("Start of the Game");

    GameFrame game1 = new GameFrame();
} 
```

JavaGame.java

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import javax.imageio.ImageIO;
import javax.swing.ImageIcon;
import java.io.File;
import java.io.IOException;

public class GameFrame extends JFrame{        

private int frameWidth = 240, frameHeight =315;
    int x, y;
    private Image dbImage;
    private Graphics dbg;

//Below is the constructor        

public GameFrame(){          

        super("OperationMaze!");
        addKeyListener(new AL());
        setResizable(false);
        //setTitle("OperationMaze!2");
        //setSize(250, 302);
        setSize(frameWidth, frameHeight); //Set height and width
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);            

            //Because of opening file, there needs to be a try catch just incase there is an error opening.
            //Plus java won't let you unless you try catch.
    try{

                setContentPane(new JLabel(new ImageIcon(ImageIO.read(new File("C:/Documents and Settings/brando/My Documents/NetBeansProjects/GameFrame/src/maze.jpg")))));

    }   catch (IOException e) {
                e.printStackTrace();                    
                }       

        //Show the frame

        setVisible(true);
        //setOpaque(false);    
        y = 35;
        x = 15;
}

    public void paint(Graphics g) {

       dbImage = createImage(getWidth(), getHeight());
       dbg = dbImage.getGraphics();
       paintComponent(dbg);
       g.drawImage(dbImage, 0, 0, this);           
    }

    public void paintComponent(Graphics g) {                

        g.fillOval(x, y, 15, 15);
        //g.setOpaque(false);

        repaint();        
    }   

   // private void setOpaque(boolean b) {
   //     throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.

   // }

    public class AL extends KeyAdapter { 

        public void keyPressed(KeyEvent e) {
            int keyCode = e.getKeyCode();
            if(keyCode == e.VK_LEFT) {
                if(x <= 5)
                    x = 5;
                else 
                    x += -5;
            }
            if(keyCode == e.VK_RIGHT) {
                if(x >= 230)
                    x = 230;
                else
                    x += +5;
            } 
            if(keyCode == e.VK_UP) {
                if(y <= 23)
                    y=23;
                else
                    y += -5;
            } 
            if(keyCode == e.VK_DOWN) {
                if(y >= 277)
                    y = 277;
                else
                    y += +5;
            } 
    }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T13:58:29.967

好的，让我们看看这里出了什么问题：

> 当我添加“球”时，它会重新绘制背景（默认颜色，无图像）

在这种情况下，当您使用自定义`paint`方法时，您不会调用`super.paint(g)`，因此不会绘制`JLabel`with 。`Image`

`Image`您创建的*是*空白：

```
dbImage = createImage(getWidth(), getHeight()); 
```

（`Graphics`提供了一个[方便的 drawImage 重载方法](http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html#drawImage%28java.awt.Image,%20int,%20int,%20int,%20int,%20java.awt.image.ImageObserver%29)，允许您指定宽度和高度，从而避免这样做。）

结果：没有背景图像。

> 当我注释掉油漆和油漆组件时，迷宫背景又回来了，但当然没有球。

现在`Swing`正在调用默认`paint`实现，以确保绘制所有子组件，但现在您没有调用您的`fillOval`方法，净结果：背景 `Image`，没有球。

*接下来在哪里：*

为了让 Swing 完成自定义绘制的工作，您需要*重写* `paintComponent`而不是直接调用它。但是，这不能在顶级容器中完成，例如`JFrame`. 在新组件中对a 进行子类化`JComponent`和覆盖`paintComponent`将允许 Swing 调用该方法，而无需您直接执行。添加`@Override`将允许编译器检查您*是否*确实覆盖了该方法。当您打算绘制 时`Image`，您可以简单地加载`Image`并保存参考，以便在需要绘制时使用：

```
dbImage = ImageIO.read(new File("MyImage.jpg")); 
```

然后在您的新`JComponent`课程中：

```
@Override
protected void paintComponent(Graphics g) {
   super.paintComponent(g);
   g.drawImage(dbImage, 0, 0, getWidth(), getHeight(), this);
   g.fillOval(x, y, 15, 15);
} 
```

# internet-explorer - VBA从需要登录的网页下载自动生成的文件

> ID：15379727
> 
> 赞同：1
> 
> 时间：2013-03-13T07:55:30.750
> 
> 标签：internet-explorer, vba, login, automation, download

我正在尝试下载并保存到特定位置，以便进一步处理从需要登录的门户自动生成的文件。这使我无法复制任何实际数据，但这是我到目前为止所做的：

成功地

1.  创建 Internet Explorer 实例
2.  导航到所需的 url 并登录
3.  登录后导航到所需的网址

但后来我卡住了。我要下载的文件没有静态网址，我什至不知道如何获取它。javascript 在 IE 中开始下载，但我无法在下载对话框中找到 hWnd 的按钮（使用 Windows 7，该类可能不是“按钮”）。

启动下载的 javascript 实际上是生成一个 url 并导航到该 url，类似于：

```
url="domain" + var + "string" + var=;
goto url 
```

我也可以在我的程序中生成这个 url，但是当我下载这个 url 的内容时，我得到一个 html 文档而不是我想要的文件。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-30T14:05:22.527

生成 url 并尝试下载文档内容不是正确的路径。相反，我导航到 URL，这导致下载启动。

我终于设法使用 FindWindow 和 FindWindowEx 自动化下载窗口。使用 Spy++，我可以看到这些按钮不是下载窗口的直接子级，而是有更多的“窗口”，它们之间有不同的类。

我想我会在未来假设之前尝试获得更多的“情报”。

# objective-c - 为什么在 init 方法中使用双括号，或者是 1 == (1)？

> ID：15379730
> 
> 赞同：4
> 
> 时间：2013-03-13T07:55:42.427
> 
> 标签：objective-c, c

括号在评估某些含义时有什么作用？当检查某些内容并且他们使用时，我在代码中遇到过这个问题

```
if ( (some condition that returns 1) )
{
code
} 
```

所以我的问题是，这是否评估为真的？我认为它总是错误的，因为 (1) 不返回任何东西？

编辑：澄清，问题是为什么在 if 中加上双括号？我知道 1 是真的。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-13T08:06:46.087

当赋值用于其真值时，使用附加括号。它们允许编译器区分

```
if ((var = expr)) 
```

这标志着分配和真值测试的**有意**组合，以及

```
if (var = expr) 
```

作为一个无意的拼写错误`if (var == expr)`。

从 C 和 C++ 继承而来的约定是让编译器`if (var = expr)`警告`if (var == expr)`. 他们不会在 上发出警告`if ((var = expr))`，因为额外的一组括号向编译器发出了赋值的信号。正如 rob mayoff 解释的那样，clang 有一个特殊情况，即不会对某些任务发出警告`self`，但对于许多编码人员来说，这种习惯仍然存在。

正如其他人所说，无论有没有额外的括号，生成的代码都是完全相同的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T08:08:39.313

如果你写，

```
if (self = [super init]) { // Warning
    // ...
} 
```

编译器会给你一个警告，因为它认为你可能`=`把`==`. 如果添加第二组括号，警告就会消失。

```
if ((self = [super init])) { // No warning
    // ...
} 
```

所以额外的括号是为了减少拼写错误的可能性。括号不会改变表达式的值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-13T07:59:34.633

通常 0 等于 false，NOT 0 等于 true。

这个链接解释了objective-c中的bool：http: [//www.mindsizzlers.com/2010/04/objective-c-and-the-properties-of-bool/](http://www.mindsizzlers.com/2010/04/objective-c-and-the-properties-of-bool/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-13T07:57:01.300

## `bool`和的真假值`int`

*   的布尔值`false`等于 的`int`值`0`。
*   的布尔值`true`等价于`int`非零值（例如`1`, `10`, `3000`, 等）

例如，考虑下面的 C 代码示例：

```
bool bValue;
int nValue;

bValue = true;
nValue = 1;

if (bValue == nValue) {
    printf("bValue and nValue are the same!\n");
}

// output: bValue and nValue are the same! 
```

## 用多个括号括起来：

以下两个片段返回*完全相同*的结果。

```
if ((((((((((((((((((((1)))))))))))))))))))) {
   printf("Hello World!\n");
} 
```

返回与以下相同的结果：

```
if (1) {
   printf("Hello World!\n");
} 
```

# `if`语句中的表达

在您给定的`if`语句中，您必须有一个解析为真值或假值的表达式。有关表达式的示例，请参阅[此](http://msdn.microsoft.com/en-us/library/y5k6t6kf%28v=vs.80%29.aspx)页面。

# c# - TextBox.TextAlign 右侧对齐在某些情况下没有效果？

> ID：15379731
> 
> 赞同：2
> 
> 时间：2013-03-13T07:55:42.533
> 
> 标签：c#, winforms, visual-studio-2010

我的 Visual C# Express 2010 表单应用程序中有一个路径选择器。

我使用 a`FolderBrowserDialog`和 a (single line)`TextBox`来显示所选路径。在我的 UI 刷新代码中使用以下行。

```
this.textBoxFolder.Text = this.folderBrowserDialog1.SelectedPath; 
```

使用表单设计器将**ReadOnly**属性设置为**true**并将**TextAlign**属性设置为**Right**，因为所选路径通常比 TextBox 长，并且我更喜欢显示路径的右侧。表单设计器生成：

```
// 
// textBoxFolder
// 
this.textBoxFolder.Location = new System.Drawing.Point(40, 72);
this.textBoxFolder.Name = "textBoxFolder";
this.textBoxFolder.ReadOnly = true;
this.textBoxFolder.Size = new System.Drawing.Size(160, 20);
this.textBoxFolder.TabIndex = 13;
this.textBoxFolder.TabStop = false;
this.textBoxFolder.TextAlign = System.Windows.Forms.HorizontalAlignment.Right; 
```

只要所选路径短于文本框大小，右对齐就会起作用。（但这并不重要）

每当所选路径长于文本框大小时，右对齐无效，文本框中的字符串显示为最左边的字符可见，而最右边的字符被隐藏。

我知道在普通的单行 TextBox ( `ReadOnly = false`) 中，当手动输入过长的字符串时，即使焦点消失，最右边的字符也是可见的，**无论**TextAlign 是否设置为左/右/居中！

换句话说，我的目标是，当 TextBox.Text 以编程方式设置（而不是输入）并且字符串比 TextBox 的宽度长时，如何让最右边的字符可见？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T07:59:54.987

您应该将插入符号移到最后一个字符，而不是设置`TextAlign`属性：

```
textBoxFolder.Text = this.folderBrowserDialog1.SelectedPath;
textBoxFolder.SelectionStart = textBox1.Text.Length - 1; 
```

设置[`SelectionStart`](http://msdn.microsoft.com/en-us/library/system.windows.forms.textboxbase.selectionstart.aspx)实际上将插入符号移动到指定位置。这使得该位置的字符在`TextBox`.

如果您可以使用 a`Label`代替文本框，则可以使用[Hans Passant 在此处创建的](https://stackoverflow.com/a/2397968/1174942)[`TextFormatFlags.PathEllipses`](http://msdn.microsoft.com/en-us/library/system.windows.forms.textformatflags.aspx)在绘制文本时使用标志的文本框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-23T12:34:49.807

用于 Pocket PC 的 Windows Mobile、用于 Smartphone 的 Windows Mobile、Windows CE 平台 注意：在基于 Pocket PC 的应用程序中，单行文本框仅支持左对齐。多行文本框可以左对齐、右对齐或居中对齐。

# java - 图像异常

> ID：15379734
> 
> 赞同：0
> 
> 时间：2013-03-13T07:55:53.213
> 
> 标签：java, image-processing

```
JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(out);
JPEGEncodeParam param = encoder.getDefaultJPEGEncodeParam(bi);
JPEGImageDecoder decoder = JPEGCodec.createJPEGDecoder(in);' 
```

当我编译上面的代码时，它说`com.sun.image.codec.jpeg.JPEGCodec`API 可能已被删除。如何清除此警告？我正在使用 Java 版本 6。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T09:56:36.427

使用BASE64进行编码和解码...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:26:17.320

只需使用[ImageIO](http://docs.oracle.com/javase/7/docs/api/javax/imageio/package-summary.html)进行读/写和编码。编码参数化可能不取决于 Sun 的实现。

是的，并不是每个 JDK/JRE 都与 sun 类一起使用。所以现在已经是可移植性问题了。

# java - 函数删除所有数组类

> ID：15379735
> 
> 赞同：0
> 
> 时间：2013-03-13T07:55:57.157
> 
> 标签：java, arrays

我如何删除所有等于我输入的值的元素我试过这个代码

```
public void deletAll(int v)
{
    if (i = 0; i < count; i++)
    {
        if (a[i] == v)
            for (k = i; k < count; k++)
                a[k] = a[k + 1];
    }
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-13T07:59:45.263

您不能从数组中*删除元素。*

您可以将该值设置为 0 或其他任何值......您甚至可以移动后面的元素 - 但您不能让数组的长度比原来的短。

因此，要稍微更改现有代码以移动剩余元素*并将*最后一个元素设置为 0，您只需要：

```
public void deleteAll(int v) {
    if (i = 0; i < a.length; i++) {
        if (a[i] == v) {
            // Shift all elements. Note the end condition of the loop...
            for (k = i; k < a.length - 1; k++) {
                a[k] = a[k + 1];
            }
            // Set the last element to 0
            a[a.length - 1] = 0;
        }
    }
} 
```

这删除了 ​​的使用`count`，因为数组已经有一个长度。如果`count`是“数组中有意义元素的数量”，那么您可能希望将代码更改为：

```
public void deleteAll(int v) {
    if (i = 0; i < count; i++) {
        if (a[i] == v) {
            // Shift all elements. Note the end condition of the loop...
            for (k = i; k < count; k++) {
                a[k] = a[k + 1];
            }
            // Remember that we've got fewer elements now
            count--;
            // Set the last element to 0 (the one we've just copied into
            // the final "useful" position)
            a[count] = 0;
        }
    }
} 
```

如果您发现自己*想*要这样做，您应该使用 a`List`代替，例如`ArrayList`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:58:14.440

我想那是一个 for 循环，它应该是这样的：

```
for (int i = 0; i < count; i++)
    if (a[i] == v)
        a[i] = 0; // or whatever you do with a matching value 
```

如果您要从数组中删除项目，我认为您应该这样做：

```
List<T> b = new List<T>();
for(int v : a)
    if (v != a)
        b.Add(v); 
```

然后您可以将该列表转换为数组并将其更改`a[]`为。因为您不知道新数组的大小，所以您需要使用这种方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T07:59:48.310

由于您不能从数组中删除项目并使数组的大小比声明的短，因此您可以将该索引值分配为零。尝试这个 ：

```
public void deleteAll(int v){        
    if (a[i] == v) {
        a[i] = 0;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T08:29:38.390

如果您遇到数组并需要缩小它们，则必须创建一个新数组。

```
public void deleteAll(int v) {
  for (int i = 0, j = 0; i < a.length; i++)
    if (a[i] != v) a[j++] = a[i];
  a = Arrays.copyOf(a, j);
} 
```

# ruby - 为什么`27 ** (1.0/3.0)`与`27 ** (1/3)`不同？

> ID：15379739
> 
> 赞同：4
> 
> 时间：2013-03-13T07:56:15.390
> 
> 标签：ruby

请让我知道这是否是获得立方根的正确方法。

我不明白为什么

```
27 ** (1.0/3.0) #=> 3 
```

不同于

```
27 ** (1/3) #=> 1 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-13T07:58:57.893

```
1.0 / 3.0 # => 0.3333333333333333
27 ** 0.333 # => 2.9967059728946346

1 / 3 # => 0
27 ** 0 # => 1 
```

第二个是整数除法的例子。一共有多少个三？零。任何 0 次幂的数都是 1。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T07:58:00.210

第一个除法是十进制除法，后者是整数除法

这`1.0/3.0`将产生一个小数结果，而`1/3`将产生一个整数结果，在这种情况下我`0`

因此结果会有所不同，因为它是两者之一的结果

```
27**0.333... 
```

或者

```
27**0 
```

这当然是明显不同的。

强制其中一个运算符为十进制以使整个操作产生十进制结果就足够了，例如 1/3.0 将产生 0.3333 ...

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-13T07:58:21.960

整数除法得到整数：

```
irb(main):004:0> 1/3
=> 0
irb(main):005:0> 1.0/3.0
=> 0.3333333333333333 
```

`27**0 = 1`.`27**(1/3) = 3`

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-13T07:58:02.437

`(1/3)`返回`0`因为`3`是一个整数。在 ruby​​ 中，如果你使用整数作为除数和被除数，你将得到一个整数值。既然提出的任何事情`0`都是`1`，你得到`1`的就是答案

`(1.0/3.0)`返回`0.3333`，因为你没有除以 2 个整数，所以你`3`从`27 ** 0.33...`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T08:29:06.947

键入对话。

当您计算 1.0/3.0 - 它是十进制

这是 1.0/3.0 = 0.33 # 这是一个小数

1/3 - 四舍五入到最接近的整数。

因此：

```
27 ** (1.0/3.0) #=> 3 
is different from
27 ** (1/3) #=> 1 
```

# java - 为java更改itext中的特定PdfPCell？

> ID：15379740
> 
> 赞同：1
> 
> 时间：2013-03-13T07:56:18.640
> 
> 标签：java, itext

我在 itext 中有表格。
我需要更改最后一行中的特定单元格宽度。
可能吗？

**编辑：** colspan 不包括我的问题。我在这一行需要完全不同的宽度。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T08:14:40.337

有很多方法可以改变你的最后一行单元格宽度：

A. 使用 colspan，您当然需要单元格来适应其他行。

例子 ：

```
PdfPTable table = new PdfPTable(3);

table.addCell("cell A0");
table.addCell("cell A1");
table.addCell("cell A2");
table.addCell("cell B0");
table.addCell("cell B1");
table.addCell("cell B2");

PdfPCell cell = new PdfPCell();
cell.setColspan(2);
cell.addElement(new Phrase("C0 & C1"));

table.addCell(cell);

table.addCell("cell C2"); 
```

B. 两张总宽度相同的桌子，桌子之间没有空格。

例子 ：

```
PdfPTable table = new PdfPTable(1);

PdfPTable table1 = new PdfPTable(3);

table1.setWidthPercentage(100f);
table1.addCell("cell A0");
table1.addCell("cell A1");
table1.addCell("cell A2");

PdfPTable table2 = new PdfPTable(2);

table2.setWidthPercentage(100f);
table2.addCell("cell B0");
table2.addCell("cell B1");

table.addCell(table1);
table.addCell(table2); 
```

# java - 创建 JAX-WS 客户端实例以访问服务时出现问题

> ID：15379741
> 
> 赞同：3
> 
> 时间：2013-03-13T07:56:20.943
> 
> 标签：java, web-services, jax-ws, webservice-client

我是 Web 服务的新手。我正在尝试从 WSDL 文件创建 JAX-WS 客户端。使用 RAD 8.0，我生成了包括代理、SEI 和 Web 服务客户端在内的类。现在我试图将公开的 Web 服务方法作为一个独立的应用程序来使用。我也将 jaxws-rt-2.1.4.jar 添加到类路径中。

从主类中，如果我尝试创建客户端实例来访问服务，我会收到以下错误。

```
 Exception in thread "main" java.lang.ExceptionInInitializerError
at java.lang.J9VMInternals.initialize(J9VMInternals.java:227)
at java.lang.J9VMInternals.newInstanceImpl(Native Method)
at java.lang.Class.newInstance(Class.java:1345)
at java.util.ServiceLoader$ServiceIterator.next(ServiceLoader.java:195)
at javax.xml.ws.spi.Provider.getProviderUsingServiceLoader(Provider.java:146)
at javax.xml.ws.spi.Provider.provider(Provider.java:106)
at javax.xml.ws.Service.<init>(Service.java:57)
at com.royalbank.wcm_ap.ws_client.rbcauth.v1.AnPAuth.<init>(AnPAuth.java:35)
at com.royalbank.wcm_ap.ws_client.rbcauth.v1.TestClass.main(TestClass.java:53)
  Caused by: javax.xml.ws.WebServiceException: Error creating JAXBContext for W3CEndpointReference. 
at com.sun.xml.ws.spi.ProviderImpl$2.run(ProviderImpl.java:222)
at com.sun.xml.ws.spi.ProviderImpl$2.run(ProviderImpl.java:218)
at java.security.AccessController.doPrivileged(AccessController.java:203)
at com.sun.xml.ws.spi.ProviderImpl.getEPRJaxbContext(ProviderImpl.java:217)
at com.sun.xml.ws.spi.ProviderImpl.<clinit>(ProviderImpl.java:88)
at java.lang.J9VMInternals.initializeImpl(Native Method)
at java.lang.J9VMInternals.initialize(J9VMInternals.java:205)
... 8 more
 Caused by: javax.xml.bind.JAXBException
    - with linked exception:
  [java.lang.ClassNotFoundException: com.ibm.xml.xlxp2.jaxb.JAXBContextFactory]
at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:207)
at javax.xml.bind.ContextFinder.find(ContextFinder.java:401)
at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:618)
at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:565)
at com.sun.xml.ws.spi.ProviderImpl$2.run(ProviderImpl.java:220) 
```

关于配置，我在这里遗漏了什么吗？提前致谢 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-13T07:56:01.110

缺少的类“com.ibm.xml.xlxp2.jaxb.JAXBContextFactory”在 jar“com.ibm.jaxws.thinclient_8.5.0.jar”中可用，该 jar 将在 Websphere App 服务器的服务器运行时目录中可用：C： \Program Files\IBM\WebSphere\AppServer\runtimes。

请包含此 jar 仅用于编译目的，不要将其包含在您的 WAR 或 EAR 中，因为它会与您的服务器运行时库 jar 冲突。

对于服务器 WAS 8.0，路径 jar 将是“com.ibm.jaxws.thinclient_8.0.0.jar”。

# ruby-on-rails - 允许现有用户添加 Facebook 帐户

> ID：15379743
> 
> 赞同：0
> 
> 时间：2013-03-13T07:56:27.673
> 
> 标签：ruby-on-rails, ruby, facebook, devise, omniauth

在我的应用程序中，用户可以使用本[教程](https://github.com/railscasts/235-devise-and-omniauth-revised)中的代码登录 Facebook 。唯一的问题是我想允许以老式方式注册我的应用程序的用户（如用户进入注册页面并输入他们的所有数据，如电子邮件、密码等，而不是使用 Facebook 登录。）能够将他们的 Facebook 帐户与他们现有的帐户相关联。我还没有看到任何关于这个的问题，我想知道我应该如何实现这个。

Omniauthcallbacks 控制器

```
class Users::OmniauthCallbacksController < Devise::OmniauthCallbacksController
  def all
    user = User.from_omniauth(request.env["omniauth.auth"])
    if user.persisted?
      flash.notice = "Signed in!"
      sign_in_and_redirect user
    else
      session["devise.user_attributes"] = user.attributes
      redirect_to new_user_registration_url
    end
  end
  alias_method :facebook, :all
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T09:46:00.290

> 唯一的问题是我希望允许以老式方式注册我的应用程序的用户（如用户进入注册页面并输入他们的所有数据，如电子邮件、密码等，而不是使用 Facebook 登录。）能够将他们的 Facebook 帐户与他们现有的帐户相关联。

两种可能的方式：

1.  当用户使用 Facebook 注册流程时，使用电子邮件地址自动将现有帐户与该电子邮件集连接。（“一个电子邮件地址为 foo@example.com 的帐户已经存在，你想连接你的 Facebook 帐户吗？”）

2.  让用户使用您的登录系统登录，然后为他们提供“与您的 Facebook 帐户连接”按钮——然后当他们通过 Facebook 进行身份验证时，将该 Facebook ID 与登录的用户帐户连接起来。

# highcharts - Highstock v3.0 如何禁用工具提示超时/延迟

> ID：15379752
> 
> 赞同：2
> 
> 时间：2013-03-13T07:57:07.290
> 
> 标签：highcharts, highstock

在 Highstock 版本 3.0 中，工具提示在隐藏之前有延迟/超时。

有没有办法禁用/减少这种延迟/超时？

我找不到最新版本的 API 文档 @ [http://api.highcharts.com/highstock#tooltip](http://api.highcharts.com/highstock#tooltip)

我希望有一种无证的方式来实现这一目标。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-13T12:15:40.883

`hideDelay`在工具提示选项中设置的 Highcharts 3.0中，请参阅：http: [//jsfiddle.net/3aUuS/](http://jsfiddle.net/3aUuS/)

我们会尽快更新文档。

# java - 在按钮处捕获 GWT ClickEvent

> ID：15379754
> 
> 赞同：0
> 
> 时间：2013-03-13T07:57:09.597
> 
> 标签：java, gwt, button, dialog, onclick

我有一个按钮，当您单击它时会显示一个对话框。

但是，如果您单击按钮，它会显示对话框，同时它将关闭然后再次打开。

似乎 DialogBox 的 closeEvent 在按钮上的 clickEvent 之前被抛出。因此，如果您检查 dialogBox.isShowing() 它将再次打开。因为当显示框的clickEvent被抛出时对话框关闭。

我的想法是捕获 onClick 事件并将其丢弃，但我不知道该怎么做。

有人知道解决此问题的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:11:44.230

您可以创建一个变量来保存对话框的状态。

```
if(myDialogOpen==false)
{
    openDialog();
} 
```

或者您可以将对话框作为变量保存在您正在使用的类中。

```
DialogBox myDialog;
if(myDialog==null)
{
    openDialog()
} 
```

无论哪种方式，您都必须在打开或关闭对话框时重置变量。本质上，如果对话框已经打开，它什么也不做。

这些是一些可能的想法，也许如果你添加一些你到目前为止所做的代码，我可以给你一个更好的答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:54:03.250

询问 [event.preventDefault()](http://google-web-toolkit.googlecode.com/svn/javadoc/2.5/com/google/gwt/dom/client/NativeEvent.html#preventDefault%28%29) ??

[您可以在button 的单击处理程序中](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiHandlers)捕获事件。

# javascript - Java 脚本错误在 line:36,char:3,Error:object expected,code:0,URL:http:\\localhost:6741/content.html

> ID：15379757
> 
> 赞同：1
> 
> 时间：2013-03-13T07:57:20.540
> 
> 标签：javascript, http, http-headers, xmlhttprequest

我正在开发一个客户端服务器应用程序，我们在其中通过`URL:http:\\[ip of server]:[port no]`. 客户端的 GUI 分为多个部分，在左侧窗格中禁用右键单击。

我们的一位客户收到错误（标题），因此在左侧窗格上单击鼠标右键也会产生错误。错误线是

```
html.append(" writeAppletObject('appdiv', '").append(
                getParameter("javaclsid")).append(
                "', '2048', '2048', 'ContentGeneratorApplet', 'ContentGeneratorApplet', inner);" 
```

这个错误的原因可能是什么？客户说他们第一次成功打开它，但之后每次尝试都会收到此错误...

注意：我的应用程序使用 IE 中提到的 URL 启动，并弹出一个弹出窗口，我们执行应用程序和原始窗口的每个操作，我们可以关闭它们，因为它们仅用于启动。我的客户使用的是 IE8，操作系统是 Xp。

我比较了 iehttpheader 的成功和不成功尝试，我注意到在这两种情况下都发出了两次 GET /content.html HTTP/1.1 和 GET /startNSM.html HTTP/1.1(部分 ui) 请求。在成功尝试第二次请求时，它被提供，但在失败的情况下，GET /startNSM.html HTTP/1.1 在第一个请求中提供，我们在 content.html 中得到提到的错误。任何帮助将不胜感激......在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-09T20:46:50.763

由于我没有找到任何方法来阻止此类请求...我为此发送了回复.... HTTP 404 Not Found...

# c - C语言。阶乘代码（尽可能短）

> ID：15379761
> 
> 赞同：-5
> 
> 时间：2013-03-13T07:57:36.740
> 
> 标签：c

我想为阶乘运算编写尽可能短的代码段，同时使用最少数量的变量（不能少于 2 个）和最少的行数。但是，尽管我认为逻辑是好的和正确的，但它不起作用：/

这里是：说 5 的阶乘。

```
#include<stdio.h>

main()   
int x, i = 5;
{
     while(i!=1)
     {
         i--;
         x *= i;
     }

     printf("%d",x); 
} 
```

所以，让我们描述一下这段代码会做什么：

在循环内部`i`转 4，然后我们有`x = 5 * 4`它使它成为 20。

下一轮`i`是 3，我们有

```
x = 20 * 3 
```

下一轮`i`是2

```
x = 60 * 2 
```

next`i`是 1 `x = 120 * 1`，所以这是阶乘。

我知道那里有聪明的头脑，他们可以想出混淆代码来在半行内完成所有这些，但只要找出为什么给我错误，我就会很满意。

人们输入后更新：

它现在总是产生 0，即使我改变 i!=2

```
 main()
     {
        int x, i = 5;
        while(i!=1)
       {
         i--;
         x *= i;
       }

    printf("%d",x);

   } 
```

最终解决方案和解释：

我用 PHP 和 Java 编码，今天我想用 C 做一个快速的，所以当我写这个时：

整数 x，我 = 5；

我理所当然地认为它会初始化为 5，就像它在 PHP 和 JAVA 中所做的那样，但事实并非如此！

所以，如果我这样做

```
 #include<stdio.h>

main()   
int x = 5;
int i = 5;
{
     while(i!=1)
     {
         i--;
         x *= i;
     }

     printf("%d",x); 
     return (0);
} 
```

我的代码有效。

感谢所有指出基本语法错误的人。

当一个人不熟悉语言规则时会发生语法错误，但最重要的是代码的逻辑并且是正确的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T08:02:04.530

通过在您欺骗编译器相信您打算编写 K&R C`{`之后忘记 a ，它开始将您的本地变量解释为参数。`main()`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T08:33:31.997

如果您正在寻找可能的*最短*代码，这里有一个不需要任何变量的分析解决方案。它不使用任何类型的循环或递归。

```
long int fac(unsigned long int n) {
    return lround(exp(lgamma(n+1)));
} 
```

请注意，您必须包含`math.h`此功能才能正常工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T08:00:12.390

```
int x, i = 5; 
```

上面的行应该在 main 之后`{`。在您的情况下，它介于`main()`和`{`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-04-07T19:11:17.563

Ps yo encontré otra más corta, weyes:

```
 #include<stdio.h>
    int main(){
        int fac=5,i=fac;
        while(i>1){
            i--;
            fac=i*fac;
     }
    printf("%d",fac);
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T08:00:57.767

您忘记了`{`并且您需要`x`在使用之前进行初始化，因为它会导致**未定义的行为**。

```
#include<stdio.h>

int main()
{
    int x = 1, i = 5;
    while(i!=1)
    {
       x *= i;
       i--;
    }
    printf("%d",x);
    return 0;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-13T08:19:29.287

初始化 x = 1

希望这能解决问题

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-01T14:10:15.777

执行阶乘的最快方法...

```
#include<stdio.h>

void main()
{
  int num = 5, sum = num;
  while(num > 1)
  {
     sum *= (--num);
  }
  printf("%d",sum);
} 
```

# linux - 如何重新排序文件内容以实现简单的混淆

> ID：15379766
> 
> 赞同：2
> 
> 时间：2013-03-13T07:57:46.507
> 
> 标签：linux, bash, encoding

如果我有一些文件具有可识别的签名，例如[Magic Number](http://www.linfo.org/magic_number.html)，它们在 Nautilus 中被识别为文档、视频或音频，无论后缀如何。

如果我想在编码文件本身不被识别为已编码的情况下对它们进行编码，一种简单的策略可能是将文件内容重新排序为块：

例如，如果文件被分成 10 个相同大小的块（任何剩余部分都可以作为可变大小的第 11 个块留下`K`）`ABCDEFGHIJK`，简单的编码将重新排列块顺序：例如 `block_encode input_file output_file` ，将导致输出文件组织为：`BADCFEHGJIK`. （当然，我也可以只交换“后半部分”和“前半部分”，在文件末尾可能保留 1 个字节不变）。

在这种情况下，只需再次应用编码即可实现解码。

生成的文件很可能不会被识别为任何有效的文档、视频、音频等。

我的问题是：是否有任何简洁（简单）的方式在 bash 中使用标准工具（例如`dd`）来实现它？（如果需要，我可以编写一个 C 程序）。

后续行动将是：如果文件是媒体文件，我如何将“解码”内容流式传输到例如 VLC，而不必先将解码流保存为文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T11:03:21.017

我会推荐一个带有众所周知的密钥的简单 XOR。它会在文件中抛出任何幻数，击败`file`(1)，并按顺序运行，因此它对编码以及通过标准输入/标准输出进行流式传输非常简单。如果您选择一个不错的短 XOR 密钥（例如 4 个八位字节），则输出文件将具有与源文件相似的熵，因此文件已出现乱码并不是很明显：如此加密的文本文件仍然可以很好地压缩，例如，而完美加密的最坏情况根本不压缩（这将是与随机字节的异或，密钥长度等于文件长度）。

我不太明白这个问题的动机！尽管使用这种编码并剥离了扩展名，但它会击败大多数文件识别工具，但仅此而已。文件中可能仍然存在可用于对其进行指纹识别的模式。

# android - 从 Sql server 2008 调用存储过程以返回值用于 android 登录验证

> ID：15379779
> 
> 赞同：-2
> 
> 时间：2013-03-13T07:58:40.023
> 
> 标签：android, sql-server, stored-procedures

我有一个带有存储过程的表，它选择两列（用户名，密码）来返回一个值来验证用户在 android 登录页面上的登录。如何调用存储过程以返回一个值并将其与用户名和密码编辑文本框进行比较。

我的存储过程如下：

```
USE [Login_DB]
GO
 StoredProcedure [dbo].[spLoginvalidate]    Script Date: 03/13/2013 
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER procedure [dbo].[spLoginvalidate]
(
@User_ID varchar(50),
@Password varchar(20),
@Outres int OUTPUT
)
AS
BEGIN TRANSACTION
set @Outres= (SELECT count(*) FROM [dbo].Login
WHERE  User_ID=@User_ID and Password=@Password
and CAST (Password as varbinary(20))=CAST (@Password AS varbinary(20))) 
--WHERE CAST(Password AS varbinary(15)) = CAST(@Password AS varbinary(15))
if(@Outres=1)
begin
set @Outres=1
end
else
begin
set @outres=0
end
COMMIT TRANSACTION 
```

这是我的代码：

```
class CheckLogin extends AsyncTask<String, String, String> {

/**
* Before starting background thread Show Progress Dialog
* */
Context context; 
```

字符串电子邮件，密码；

```
@Override
protected void onPreExecute() {
       super.onPreExecute();

}

protected String doInBackground(String... args) {

       // Building Parameters
       // Send your email and password as the following parameters
       List<NameValuePair> params = new ArrayList<NameValuePair>();

       params.add(new BasicNameValuePair("Email", email));
       params.add(new BasicNameValuePair("Password", password));

       String url = "http://192.168.0.57:8000/Service1.svc/rest/Login";
       JSONParser jParser = new JSONParser();

       // This is the entire response like the JSON data you sent me
       JSONObject json = jParser.makeHttpRequest(url, "GET", params, context);

       // Check your log cat for JSON reponse
       // CHECK LOGCAT IF YOU GET ANY RESPONSE FROM SERVER
       Log.d("Results: ", json.toString());

       try {
             // Checking for SUCCESS TAG
             JSONObject validateobject = json.getJSONObject("Details");

             @SuppressWarnings("unused")
            Boolean isloggedin = validateobject.getBoolean("Validat");

             // THATS THE BOOLEAN THAT WILL INDICATE IF VALID LOGIN

             // DO NOT MAKE CHANGES TO GUI ON THIS THREAD E.G. TOAST ETC
             // USE THE ON POST EXECUTE BELOW ELSE THE APPLICATION WILL CRASH

       } catch (JSONException e) {
             e.printStackTrace();
       }

       return null;
}

/**
* After completing background task Dismiss the progress dialog
* **/

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T10:13:22.127

从您的应用程序直接与您的数据库对话不是一个好主意，因为任何用户一旦拥有该应用程序就可以访问您的数据库。

您最好的选择是设置一个 WebService，它可以调用您数据库上的存储过程并将结果返回给您的 Android 代码。

这可以用 PHP 之类的东西来完成。

查看 PHP 与 SQL 的通信以及与 PHP WebServices 的 Android 通信。

# c# - 如何在使用 C# 作为服务器代码的 ASP.NET Web 应用程序中使用 WF（Windows Workflow Foundation）

> ID：15379780
> 
> 赞同：2
> 
> 时间：2013-03-13T07:58:40.663
> 
> 标签：c#, asp.net, workflow-foundation

我在网上搜索了很长一段时间关于如何在 ASP.NET Web 应用程序中使用 Windows Workflow Foundation 的信息（针对初学者）

我发现了一个 youtube 视频，在我看来，它是一个值得了解的有关 Windows Workflow Foundation 的视频 - [http://www.youtube.com/watch?v=6mqGhSH9xM4](http://www.youtube.com/watch?v=6mqGhSH9xM4)。但是，问题是视频中的演示是针对 C# 控制台应用程序的。

有没有人可以建议我在哪里可以找到一个简单的视频或教程（对于初学者和类似视频），教如何在一个简单的 ASP.NET Web 应用程序中使用 Windows Workflow Foundation，这样至少我可以从那一点开始向前。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T08:34:50.747

通常，您会将 WF 用于长时间运行的进程，因此您在评论中描述的场景并不常见。

页面应该快速返回到浏览器。然后，浏览器（javascript/ajax）可以轮询服务器以获取工作流的结果，并在可用时将其放入页面中。

一般来说，我希望网页启动（或查询状态）工作流。在同一 IIS 进程中托管工作流可能会在进程被回收时导致问题。

[您可以在 IIS 中托管工作流（我更喜欢 Appfabric）](http://msdn.microsoft.com/en-us/library/ff729689.aspx)

如果您将其实现为工作流服务（使用[接收活动](http://msdn.microsoft.com/en-us/library/vstudio/system.workflow.activities.receiveactivity%28v=vs.90%29.aspx)）

您可以[像任何其他 WCF 服务一样调用它](http://msdn.microsoft.com/en-us/library/vstudio/bb924504%28v=vs.90%29.aspx)

# cocos2d-iphone - 使用 Cocos2d 创建 CCMenuSprite 显示图片不正确

> ID：15379781
> 
> 赞同：0
> 
> 时间：2013-03-13T07:58:45.280
> 
> 标签：cocos2d-iphone

我正在用 Cocos2d 为 iPad 开发一个游戏。我创建了一个我想用于我的菜单的图像，因为常规的 ItemLabel 是扁平且丑陋的。下面显示了相同的图像，但顶部的一个是使用此代码的 MenuItem：

```
CCMenuItemImage *itemEasyLevelImage = [CCMenuItemImage itemWithNormalImage:@"Old_Slow_Menu.png" selectedImage:@"Old_Slow_Menu.png" block:^(id sender){... 
```

使用此代码的底部图像相同：

```
CCSprite *oldSlow = [CCSprite spriteWithFile:@"Old_Slow_Menu.png"];
oldSlow.position = ccp(size.width /2, size.height /2);
[self addChild:oldSlow z: 10]; 
```

图像显示的任何想法都搞砸了，如下图所示：

![在此处输入图像描述](../Images/003f68d25113e9f4158624fbd45095ec.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T15:16:50.970

我的猜测是，您的代码中未显示的内容是将菜单项的颜色属性更改为 ccc3( 255, 0, 0 )。

# xcode - .__MAXOS 解压缩时的文件夹（在 XCode 项目的上下文中）

> ID：15379785
> 
> 赞同：1
> 
> 时间：2013-03-13T07:58:56.420
> 
> 标签：xcode, macos, unzip

我在执行这样一系列操作时遇到了一个问题：

*   从一些教程网站下载 xCode 项目（.zip 文件）
*   提取项目（解压缩 ProjectName.zip）
*   在 XCode 中打开提取的项目并更改代码中的某些内容。在进行一些更改后，项目报告了一些运行时错误 - 不管是哪种...
*   关闭 XCode，删除项目（rm -rf Projectname）
*   再次解压
*   问题：尽管旧项目已被删除，但运行时错误仍然存​​在

几个小时后，我发现，当从终端级别解压缩时，MacOS 会创建一些名为 .__MacOSX 左右的隐藏目录（[http://www.mactricksandtips.com/2008/08/unzipping-files-using-terminal.html](http://www.mactricksandtips.com/2008/08/unzipping-files-using-terminal.html)）从该隐藏目录（项目名称目录）中删除项目很有帮助。

问题：你有没有遇到过这个问题，你知道隐藏目录中存储了什么样的数据（尤其是在 XCode 项目的上下文中）？该隐藏目录中的文件是否会影响解压缩过程（使用 unzip 命令）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T04:01:25.713

__MACOSX 文件夹存储[AppleDouble 文件](http://en.wikipedia.org/wiki/AppleDouble)。当您在 Finder 中创建 .zip 存档时，它会使用这些文件来存储 zip 存档格式本身无法处理的所有文件元数据。如果您使用 Finder 展开 .zip（实际上，它使用存档实用程序），它会将元数据重新附加到文件，而不是将 __MACOSX 文件夹作为单独的文件展开。如果您使用命令行解压缩工具，它不知道如何处理 AppleDouble 文件，因此会将它们展开为单独的文件。

可以重新合并 AppleDouble 文件（例如，使用[FixupResourceForks](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/FixupResourceForks.1.html)实用程序），但通常最好只使用 Finder 来扩展 Mac .zip 档案并让它正确重组所有内容。

# android - Android - 使用 SAXParser 解析 XML

> ID：15379792
> 
> 赞同：0
> 
> 时间：2013-03-13T07:59:20.613
> 
> 标签：android, xml, xml-parsing, saxparser

我正在尝试在 Android 应用程序中为我们的系统使用 API。我有这个 XML：

```
<item>
    <title>Title 1</title>
    <description>
        <table>
            <tr>
                <td><img src="http://abc.com/image1.jpg" width='80' height='80' /></td>
                <td>This is summary 1</td>
            </tr>
        </table>
    </description>
    <link>http://abc.com</link>
    <pubDate>Wed, 13 Mar 2013 13:42:42 +0700</pubDate>
</item> 
```

请告诉我如何使用 SAXParser在标签**<description>中获取元素：**

*   元素 1

    `src="http://abc.com/image1.jpg"`

*   元素 2

    `<td> This is summary for title 1</td>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:12:07.640

这里有一个使用 SaxParser 的完整包：http: [//developer.android.com/reference/android/sax/package-summary.html](http://developer.android.com/reference/android/sax/package-summary.html)

请参阅此处获取教程：[如何使用 SAX 解析器解析 XML](https://stackoverflow.com/questions/4827344/how-to-parse-xml-using-the-sax-parser)

# android - 任何可以导入 3d 对象（带动画）的框架/工具/库？

> ID：15379795
> 
> 赞同：1
> 
> 时间：2013-03-13T07:59:37.370
> 
> 标签：android, animation, frameworks, 3d

我注意到有一些框架（例如 min3d）能够将 3d 对象（.obj）导入 android。我的问题是有什么方法可以导入已经设置了动画的 3d 对象？例如，我有 3d studio max 软件，它允许我创建 3D 对象并将动画包含在其中。如果没记错，文件的结果是 .fbx 文件（其中包含动画）。

有没有办法处理这个带有动​​画的 3D 对象并在 android 设备中显示出来？

如果有类似或类似的东西，请与我分享。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T09:55:37.583

试试[Rajawali](http://www.rozengain.com/blog/2011/08/23/announcing-rajawali-an-opengl-es-2-0-based-3d-framework-for-android/)（min3d 的继承者），它支持加载 .fbx 文件。

# html - HTML 或 CSS 从对象数据更改文本

> ID：15379797
> 
> 赞同：0
> 
> 时间：2013-03-13T07:59:41.793
> 
> 标签：html, css

我正在将 php 文件中的文本导入到我的 HTML 中，问题是我希望文本具有灰色并且它被导入为黑色。我试图从 CSS 更改它，但它不起作用。有谁知道我该如何解决这个问题？

谢谢

```
<div class="box" style="width:100%">
        <h2>Change Log</h2>
        blablalblalbla
        <p>
            <object data="http://www.mysite.com/changelogordered.php" type="text/html" width="100%">
                <p>[Cannot load http://www.mysite.com/changelogordered.php]</p>
            </object>
        </p>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:18:33.707

我建议您使用常规的 Ajax 调用（提示使用 jQuery！：[ajax api referene](http://api.jquery.com/jQuery.ajax/)） 我建议这样做的主要原因是您一直在处理易于设置样式的常规 HTML，而不是对象。

我脑海中的一个例子：

```
<style>
    #reply-from-server{
        overflow:scroll;
        height:300px;
        color:red;
    }
</style>
<div class="box" style="width:100%">
    <h2>Change Log</h2>
    blablalblalbla
    <div id="reply-from-server"></div>
</div> 
```

Javascript：

```
$.ajax({
    url: "/changelog1.php",
    success: displayText,
    error: showError
});
function displayText(data){
    $("#reply-from-server").append(data);
}
function showError(data){
   var mess = "An error occured!";
   $("#reply-from-server").text(mess);
} 
```

**注意**这发布在 jQuery 网站上：弃用通知：jqXHR.success()、jqXHR.error() 和 jqXHR.complete() 回调从 jQuery 1.8 开始被弃用。要为最终删除准备代码，请改用 jqXHR.done()、jqXHR.fail() 和 jqXHR.always()。

带有最新 jQuery 的 Javascript：

```
$.ajax("/changelog1.php").done(displayText).fail(showError);

function displayText(data){
    $("#reply-from-server").append(data);
}
function showError(data){
   var mess = "An error occured!";
   $("#reply-from-server").text(mess);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:02:37.390

为对象添加样式

```
object{
    color:red       
} 
```

**[演示](http://jsfiddle.net/cCvNf/1/)**

# javascript - 如何根据包含所有信息的对象数组绘制成绩？

> ID：15379804
> 
> 赞同：1
> 
> 时间：2013-03-13T07:59:57.653
> 
> 标签：javascript, google-chrome, date-arithmetic

我正在尝试制作一些可以显示成绩的东西，我需要从一系列作业中计算分数。

好的，我有一个这样的数组：

```
[{
    category: "assignment",
    date: 2/13/13,
    earned: 9,
    total: 10
}, {
    category: "assignment",
    date: 2/13/13,
    earned: 8.5,
    total: 10
}, {
    category: "test/quiz",
    date: 2/7/13,
    earned: 85,
    total: 100
}] 
```

日期不一定按顺序排列，同一天可能有多个数据点

以及不同类别的权重：

```
[{
    "assignment": 40,
    "test/quiz": 60
}] 
```

我需要的是创建一个新的数组数组，其中每个对象包含截至该点和日期的总体加权等级。（我知道[加权是如何工作的](http://www.blacksdomain.com/files/Notes/Calculating_WA.php)）

所以这个输出将是：

```
[   //  [x, y]
    ["2/7/13", 87.5],
    ["2/13/13", 86.0]
] 
```

最好按时间顺序

我感到困惑的是如何以编程方式组合一天的多个作业并将它们与以前的数据组合并创建一个新点。这只是一个简单的例子，通常有很多很多的任务来自几个月的时间

我试过了，但它包含的循环似乎太多了，而且非常混乱，所以我把它刮掉了。我在想一定有更好的方法来做到这一点，至少**更**简单一些。

数据非常灵活，因此可以以任何方式排列。前任。如果那更容易，日期可以更改为时间戳。或者可以将对象属性命名为不同的名称。

我可能会超前，但最终我会在第一次运行时存储数据，然后每隔一次运行检查数据的变化并只计算那些新点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:25:33.317

[这样](http://jsfiddle.net/epoch/wxWJy/)的事情怎么样？不确定我是否完全理解，但这是我的尝试：

```
var scores = [{
    category: "assignment",
    date: '2/13/13',
    earned: 9,
    total: 10
}, {
    category: "assignment",
    date: '2/13/13',
    earned: 8.5,
    total: 10
}, {
    category: "test/quiz",
    date: '2/7/13',
    earned: 85,
    total: 100
}];

var weights = {
    "assignment": 40,
    "test/quiz": 60
};

function calculateCombined() {
    var dates = [], combined = [];
    for (var i = 0; i < scores.length; i++) {
        if (!dates[scores[i].date]) {
            dates[scores[i].date] = [];
        }

        dates[scores[i].date].push({
            weight: weights[scores[i].category] || 1,
            percentage: (scores[i].earned / scores[i].total) * 100
        });
    }

    for (var x in dates) {
        if (dates.hasOwnProperty(x)) {
            var tWeight = 0;
            dates[x].forEach(function(dVal) {
                tWeight += (dVal.weight / 100) * dVal.percentage
            });

            combined.push({
                date: x,
                wight: tWeight
            });
        }
    }

    return combined.sort(function(d, e) {
        return new Date(d.date) - new Date(e.date);
    });
}

console.log(calculateCombined()); 
```

# php - PHPExcel 中的 setcellValue 限制

> ID：15379805
> 
> 赞同：0
> 
> 时间：2013-03-13T07:59:59.623
> 
> 标签：php, phpexcel

我使用 setcellValue 来填充我的 excel 文件，但是当它到达 A99 时，它会抛出这个错误

```
 Fatal error: Uncaught exception 'Exception' with message 'Column string index can not be longer than 3 characters.' 
```

这是phpexcel有一个限制，还是我以这种格式填充我的工作表时犯了一个错误

```
 $objPHPExcel->getActiveSheet()->setcellValue($alpha[$alpha_count] . $spreadsheet_count, $row['comment']); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:19:43.290

也许您可以尝试使用 setCellValueByColumnAndRow() ：

```
setCellValueByColumnAndRow($alpha_count, $spreadsheet_count, $row['comment']); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T09:51:19.237

不，这并不意味着 PHPExcel 只支持 100 行，PHPExcel 最多支持 1,048,576 行和最多 16,384 列（与 xlsx 文件的 OfficeOpenXML 格式相同）...取决于内存。

您`column string index`的错误消息所指的是列引用（`A`of `A100`）。

仔细检查 $alpha[$alpha_count] 的值是什么，我怀疑这不是你想的那样。

# vb.net - 我可以强制接口的实现者对成员应用某些属性吗？

> ID：15379809
> 
> 赞同：0
> 
> 时间：2013-03-13T08:00:19.177
> 
> 标签：vb.net, oop, interface, attributes

在 VB.NET 中，我可以执行以下操作：

```
Interface X
    <SomeAttrib> _
    SomeProp as String
End Interface 
```

这将强制任何实现 X 的类也在 SomeProp 上应用 SomeAttrib ，否则会导致编译（或运行）时错误。

```
Class XBox
    Implements X

    Public SomeProp as String Implements X.SomeProp
        ...
    End Property
End Interface 
```

以上应该给出错误，因为`SomeProp`doesn't apply `SomeAttrib`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:01:45.583

不，属性不是接口强制执行的签名的一部分。

如果这是一个自定义属性，您可能希望检查该类型是否实现接口并从那里获取属性。

或者，您总是可以编写一个单元测试来验证所有实现，如果它们在您的控制之下 - 介于编译时检查和正常执行时检查之间......

# c# - 使用双 Foreach 循环输出数据时结果相同

> ID：15379810
> 
> 赞同：1
> 
> 时间：2013-03-13T08:00:20.280
> 
> 标签：c#, loops, foreach

我需要将字符串设置为这样的

```
<Student>
    <StudentID></StudentID>
    <FirstName></FirstName>
    <Fees>
         <Fee>
             <FeeID></FeeID>
         </Fee>
    </Fees>
</Student>
<Student>
    <StudentID></StudentID>
    <FirstName></FirstName>
    <Fees>
         <Fee>
             <FeeID></FeeID>
         </Fee>
    </Fees>
</Student>
... and so on 
```

我的代码

```
string strFeeData = ""; // XML Content for Fees
string strStuData = ""; // XML Content for Students with Fees

foreach (var studentData in sorted)
{
    foreach(Fee feeData in studentData.Fees)
    {
        strFeeData = strFeeData + "<Fee>\n\t<FeeID>" + feeData.FeeID + "</FeeID>\n\t<FeeName>" + feeData.FeeName + "</FeeName>\n\t<Amount>" + feeData.Amount + "</Amount>\n\t<DueDate>" + feeData.DueDate + "</DueDate>\n</Fee>\n";
    }
    strStuData = strStuData + "<Student>\n\t<StudentID>" + studentData.StudentID + "</StudentID>\n<FirstName>" + studentData.FirstName + "</FirstName>\n<LastName>" + studentData.LastName + "</LastName>\n<Grade>" + studentData.Grade + "</Grade>\n<Fees>\n\t" + strFeeData + "</Fees></Student>\n";
} 
```

我正确输出了这部分

```
<Student>
    <StudentID>1</StudentID>
    <FirstName>David</FirstName>
...
<Student>
    <StudentID>2</StudentID>
    <FirstName>John</FirstName> 
```

但要收费

```
<Fees>
     <Fee>
         <FeeID>12</FeeID>
....
<Fees>
     <Fee>
         <FeeID>12</FeeID> 
```

我为每个学生收取相同的费用。

我的双 foreach 循环有什么问题？

（我已经检查过 sorted 的 Fee 有不同的值，问题肯定出在双 foreach 循环上）

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:02:34.030

`strFeeData`在外循环中用空字符串初始化：

```
foreach (var studentData in sorted)
{
    strFeeData = "";

    foreach(Fee feeData in studentData.Fees)
    {
        strFeeData = strFeeData + "<Fee>\n\t<FeeID>" + feeData.FeeID + "</FeeID>\n\t<FeeName>" + feeData.FeeName + "</FeeName>\n\t<Amount>" + feeData.Amount + "</Amount>\n\t<DueDate>" + feeData.DueDate + "</DueDate>\n</Fee>\n";
    }
    strStuData = strStuData + "<Student>\n\t<StudentID>" + studentData.StudentID + "</StudentID>\n<FirstName>" + studentData.FirstName + "</FirstName>\n<LastName>" + studentData.LastName + "</LastName>\n<Grade>" + studentData.Grade + "</Grade>\n<Fees>\n\t" + strFeeData + "</Fees></Student>\n";
} 
```

但是，**使用字符串连接创建 XML 确实是个坏主意！**您应该阅读有关序列化或 LINQ to XML 的信息！

***LINQ to XML 版本***

```
var xml = sorted.Select(s => new XElement("Student"
                                 new XElement("StudentID", s.StudentID),
                                 new XElement("FirstName", s.FirstName),
                                 new XElement("LastName", s.LastName),
                                 new XElement("Fees",
                                    s.Fees.Select(f => new XElement("Fee",
                                                           new XElement("FeeID", f.FeeID))).ToArray()))); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T08:04:42.887

你为什么不尝试这样，你总是可以使用 XmlSerializer 将 C# 对象列表转换为 XML 文档。

```
public string ToXML()
    {
        var stringwriter = new System.IO.StringWriter();
        var serializer = new XmlSerializer(this.GetType());
        serializer.Serialize(stringwriter, this);
        return stringwriter.ToString();
    } 
```

这将您的课程序列化为 xml 字符串

另请检查：[Convert a C# object to XML?](http://forums.asp.net/t/400803.aspx/1)

Linq To XML 方式

```
XElement _customers = new XElement("Students",
                       from c in objCust
                       orderby c.CustID //descending 
                        select new XElement("Student",
                            new XElement("name", c.StudentID),
                            new XElement("ID", c.FirstName),
                            new XElement("phone", c.LastName),
                            new XElement("Fees", (from x in x.Fees
                                                  orderby x.FeeID//descending 
                            select new XElement("FeeID",x.FeesId)) 
                        ))

                  ); 
```

# batch-file - 批处理文件中的批处理文件-调用函数未执行

> ID：15379812
> 
> 赞同：2
> 
> 时间：2013-03-13T08:00:30.137
> 
> 标签：batch-file, call

我的批处理文件的代码如下所示：

```
xcopy D:\FastTools\FTOutput\common\Displays D:\FastTools\TestTr 
PAUSE "Copy is over " 
call D:\FastTools\FTOutput\common\QLI\GP1039_command 
PAUSE "QLI is over " 
```

收到以下消息：

```
C:\Users\Administrator\Desktop>CALL D:\FastTools\FTOutput\common\QLI\GP1039_command
'Version' is not recognized as an internal or external command, operable program or batch file. 

C:\Users\Administrator\Desktop>dssqld -r GP1039_object
CRL-E-ENOENT, no such file or directory DSSQ-E-QLD_FILOPN,
The input file could not be opened or read (file = 'GP1039_object.qli') 
```

注意：其中 GP1039_command 是另一个调用其他 QLI 文件的批处理文件

问题：为什么我收到上述消息。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:12:18.907

好吧，*第*`GP1039_Command`一个可能是由于您的文件尝试执行`version`命令这一事实引起的。在不知道该文件的内容的情况下很难看出问题所在。

一种可能性是它应该使用`ver`which 是`cmd.exe`获取版本的方式。另一个是有*一个*可执行版本，但它没有安装或不在你的路径上。还有一个是它`GP1039_Command`甚至可能不是*一个*有效的`cmd`文件。

另一个错误更加棘手，因为它是一个应用程序而不是一个应用程序`cmd.exe`。`ENOENT`通常是“error: no entry”的简写，意思是找不到东西。在这种情况下，它是`GP1039_object.qli`文件。

这可能是因为您不在预期的目录中（除非 QLI 文件实际上*在*您的桌面上），尽管这只是一个最好的猜测，因为我什至不知道 QLI 是什么 :-)

尽管如此，即使不知道，以上几点也应该有助于确定问题的原因。

# c# - 为什么交易在网络中被延迟

> ID：15379821
> 
> 赞同：1
> 
> 时间：2013-03-13T08:01:11.043
> 
> 标签：c#, http, post, webclient

我正在使用 WebClient 类的 Upload File 方法通过 Http Post 方法将事务发布到服务器。在将事务发布到服务器之前，我会使用当前日期和时间记录此请求，并使用wireshark 记录网络日志。如果我比较两个日志文件的时间，即使两者都在同一台服务器上，同一事务也总是存在 15-30 秒的时间差（网络日志显示时间延迟为 15-30 秒）。

我很惊讶是什么导致了网络延迟，因为在将其登录到日志文件后，我立即将此事务发布到服务器。

我用于发布交易的方法是：-

```
private BankCommonLayer.httpsResponse SendhttpsMessage(string strRequest, string RRN)
        {
            BankCommonLayer.httpsResponse hr = new BankCommonLayer.httpsResponse();
            string strDirName = ConfigurationSettings.AppSettings["Attachment_file"];
            try
            {
                string strFileName = strDirName + RRN + ".txt";

                Microsoft.VisualBasic.FileIO.FileSystem.WriteAllText(strFileName, HexToAscii(strRequest), false, System.Text.Encoding.GetEncoding(28591));

                FileInfo fi = new FileInfo(strFileName);
                NameValueCollection q = new NameValueCollection();

                q.Add("Message", fi.Name);

                string url = ConfigurationSettings.AppSettings["https_url"];
                WebClient wc = new WebClient();

                wc.QueryString = q;

                string ResultString = string.Empty;
                byte[] postBytes = wc.UploadFile(url, "POST", strFileName);

                if (postBytes.Length != 0)
                    hr.ResponseString = System.Text.Encoding.ASCII.GetString(postBytes).ToString();
                else
                    hr.ResponseString = "No response";

                BLCommonFunctions.WriteLogger(1, "FIG Response string      :- " + hr.ResponseString.ToString(), ref swLogWriter, strLogPath);
                //Write the string to a file.
                System.IO.StreamWriter file = new System.IO.StreamWriter(strFileName, true);
                file.WriteLine();
                file.WriteLine("Response String :" + hr.ResponseString);

                file.Close();

                Console.WriteLine(hr.ResponseString);
                hr.SendSuccess = true;
            }
            catch (WebException ex)
            {
                hr.SendSuccess = false;
                BLCommonFunctions.WriteLogger(1, "FIG Response string      :- NULL (Because " + ex.Message + ")", ref swLogWriter, strLogPath);
            }
            catch (Exception ex)
            {
                hr.SendSuccess = false;
                BLCommonFunctions.WriteLogger(1, "FIG Response string      :- NULL (Because " + ex.Message + ")", ref swLogWriter, strLogPath);
            }
            return hr;
        } 
```

# cluster-computing - 将 Kafka 与 zookeeper 一起集群

> ID：15379824
> 
> 赞同：3
> 
> 时间：2013-03-13T08:01:27.150
> 
> 标签：cluster-computing, apache-zookeeper, apache-kafka

我有 6 个系统 A、B、C、1、2、3。Kafka 安装在 A(producer),B(producer),C(consumer) 并配置。现在 1,2,3 都安装了 zookeeper，这三个管理 kafka 集群。这是集群Kafka的正确方法吗？我对所使用的逻辑是否正确？如果没有，请向我解释正确的方法。提前谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T15:30:14.030

看看 GumGum 的首席工程师的这次演讲。他讨论了他们如何在生产环境中使用 Kafka。实际上现在网络上有几个这样的谈话。我的观点是，我认为您的问题没有简单的解决方案。您将不得不决定什么适合您的需求。在他们的特定设置中，他们只有一个 zookeeper 服务器来管理他们的代理，并使用负载均衡器来管理他们的生产者。

[http://www.ustream.tv/recorded/24877591](http://www.ustream.tv/recorded/24877591)

# iphone - 在 App 内发送电子邮件

> ID：15379825
> 
> 赞同：0
> 
> 时间：2013-03-13T08:01:28.717
> 
> 标签：iphone, ios

我希望我的应用在用户输入电子邮件地址后向他们发送电子邮件。我知道如何实现 MFMailComposer 但发件人地址随后将显示为用户设备上的帐户。理想情况下，我只是将 from 帐户更改为我的应用程序电子邮件帐户，但这似乎不可能。我已阅读有关 skpsmtpmessage 或设置您自己的 SMTP 的信息，有人可以建议我最好的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T09:01:35.470

如果您使用 MFMailComposer，默认情况下它将使用设备邮件帐户。如果您想使用某些特定于应用程序的邮件帐户，请使用 SMTP 协议，请参阅此链接

[iphone 使用 smtp 服务器发送电子邮件？](https://stackoverflow.com/questions/10914020/iphone-to-send-email-using-smtp-server)

如果可能对你有用。

# javascript - Jquery mobile navigator.geolocation.getCurrentPosition 返回错误代码：error.PERMISSION_DENIED。如何解决这个问题？

> ID：15379834
> 
> 赞同：0
> 
> 时间：2013-03-13T08:01:46.083
> 
> 标签：javascript, google-maps, jquery-mobile, geolocation, gps

这是我的代码，它显示错误“用户拒绝地理定位请求”。请帮我从谷歌地图或任何方式获取当前位置。

```
<!DOCTYPE html>
<html>
<body>
<p id="demo">Click the button to get your position:</p>
<button onclick="getLocation()">Try It</button>
<div id="mapholder"></div>
<script>
var x=document.getElementById("demo");
function getLocation()
{
if (navigator.geolocation)
{
navigator.geolocation.getCurrentPosition(showPosition,showError);
}
else{x.innerHTML="Geolocation is not supported by this browser."; }}
function showPosition(position)   {
 var latlon=position.coords.latitude+","+position.coords.longitude;

var img_url="http://maps.googleapis.com/maps/api/staticmap?center="
+latlon+"&zoom=14&size=400x300&sensor=false";
document.getElementById("mapholder").innerHTML="<img src='"+img_url+"'>";}
function showError(error){
 switch(error.code)  {
case error.PERMISSION_DENIED:
  x.innerHTML="User denied the request for Geolocation."
  break;
case error.POSITION_UNAVAILABLE:
  x.innerHTML="Location information is unavailable."
  break;
 case error.TIMEOUT:
  x.innerHTML="The request to get user location timed out."
  break;
case error.UNKNOWN_ERROR:
  x.innerHTML="An unknown error occurred."
  break;     } }
</script> </body>  </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:12:13.700

检查浏览器上的设置。

您是否允许该站点访问地理位置？此设置可以被拒绝、仅一次或始终允许。

# c++ - boost::mutex::scoped_lock 已被使用，有时会抛出异常

> ID：15379835
> 
> 赞同：6
> 
> 时间：2013-03-13T08:01:53.413
> 
> 标签：c++, boost, locking, mutex, boost-thread

我在我的多线程代码中使用 scoped_lock 来独占访问代码的某些部分，但**有时**它会抛出异常*访问冲突写入位置 ...*。

```
boost::mutex mMutex;    
boost::condition mInputQueueNotEmpty;    
Job* MyThreadPool<Job, JobOutput>::GetNextJob()  
{    
    boost::mutex::scoped_lock lock(mMutex);

    while (mInputQueue.empty())
        mInputQueueNotEmpty.wait(lock);

    // Do something ...
} 
```

我跟踪了代码，发现 basic_timed_mutex 类中有一个变量 active_count ，并且每当发生运行时错误时，该变量都未初始化。运行时错误发生在这里：

```
bool try_lock()
{
    return !win32::interlocked_bit_test_and_set(&active_count,lock_flag_bit);
} 
```

我不知道我该怎么办！因为我无权访问此变量，也不负责初始化它。

**更新**

我的功能类是这样的：

```
#pragma once

#include <vector.h>
#include <boost/thread.hpp>
#include "MyThread.h"
#include <queue>
#include <boost/thread/condition.hpp>

template <class Job, class JobOutput>
class MyThreadPool
{
public:
    MyThreadPool(int processJobWhenArrived);        
    virtual ~MyThreadPool(void);
        void    Initialize(int ThreadsCount);
        void    AddJob(Job* job);
        void    StartProcess();
        Job*    GetNextJob();
    virtual void    FinishJob(Job* job, JobOutput* jobOutput);
        void    WaitUntilAllJobsProcessed();

public:
    vector<MyThread<Job, JobOutput>*> mThreads;

    queue<Job*> mInputQueue;
    queue<pair<Job*,JobOutput*>> mOutputQueue;

    boost::mutex        mMutexAdd;
    boost::mutex        mMutex;
    boost::condition    mInputQueueNotEmpty;
    boost::mutex        mJobOutputMutex;
    boost::mutex        mJobsMutex;
    boost::condition    mProcessJobs;
    bool            mStartProcessJobs;
    int         mJobsInputCount;
    int         mJobsOutputCount;
    int         mPrevJobsOutputCount;
    bool            mProcessJobWhenArrived;
};

template <class Job, class JobOutput>
void MyThreadPool<Job, JobOutput>::Initialize(int threadsCount)
{
    mStartProcessJobs = false;
    for (int t = 0; t < threadsCount; t++)
        mThreads.push_back(new MyThread<Job, JobOutput>(this));
}

template <class Job, class JobOutput>
void MyThreadPool<Job, JobOutput>::AddJob(Job* job)
{
    boost::mutex::scoped_lock lock(mMutexAdd);
    mInputQueue.push(job);
    mJobsInputCount++;

    if (mProcessJobWhenArrived)
        mInputQueueNotEmpty.notify_all();
}

template <class Job, class JobOutput>
Job* MyThreadPool<Job, JobOutput>::GetNextJob()
{
    boost::mutex::scoped_lock lock(mMutex);

    if (mInputQueue.empty() && mStartProcessJobs && mJobsInputCount == mJobsOutputCount)
        mProcessJobs.notify_one();

    while (mInputQueue.empty())
        mInputQueueNotEmpty.wait(lock);

    Job* job = mInputQueue.front();
    mInputQueue.pop();

    return job;
} 
```

这是我使用 GetNextJob 函数的代码：

```
#pragma once

#include <MyMemory.h>
#include <boost/thread.hpp>

template <class Job, class JobOutput>
class MyThreadPool;

template <class Job, class JobOutput>
class MyThread
{           
public:
    static void StaticRun(MyThread* p);
    void Run();

public:
    boost::thread   mThread;            
    MyThreadPool<Job, JobOutput>*   mThreadPool;            
};

#include "MyThreadPool.h"
template <class Job, class JobOutput>
MyThread<Job, JobOutput>::MyThread(MyThreadPool<Job, JobOutput>* threadPool)
{
    mThread = boost::thread(StaticRun, this);
    mThreadPool = threadPool;
}

template <class Job, class JobOutput>
void MyThread<Job, JobOutput>::StaticRun(MyThread* p)
{
    p->Run(); 
}

template <class Job, class JobOutput>
void MyThread<Job, JobOutput>::Run()
{
    JobOutput   *jobOutput;
    while (true)
    {
        Job* job = mThreadPool->GetNextJob();
        jobOutput = Process (job);
        mThreadPool->FinishJob(job, jobOutput);
    }

} 
```

有一个类继承 MyThreadPool

```
class SsThreadPool : public MyThreadPool<Job, JobOutput> 
```

这就是使用 threadPool 的地方：

```
class BPS
{
    //...
    SsThreadPool            mJobsThreadPool;
    //...
}
void    BPS::Initialize()
{
    mJobsThreadPool.Initialize(mConcurrentThreadsCount);
}

void    BPS::f()
{
    //...
    for (int i = 0; i < jobsCount; i++)
    {
        //...
        mJobsThreadPool.AddJob(job);
        //...

    }
    mJobsThreadPool.StartProcess(); 
    mJobsThreadPool.WaitUntilAllJobsProcessed();
    //...
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T10:18:25.447

它会引发访问冲突，因为您尝试锁定一个被破坏的`mutex`. 由于互斥锁是您的类的成员，这意味着您的代码尝试访问已销毁实例的成员函数（“悬空指针”）。要调试这种情况，请在其中放置一个断点`~MyThreadPool`并查看它何时被调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:45:45.473

也许持有互斥锁的对象被销毁，然后有人试图访问互斥锁。可能在您的代码中？

# wordpress - buddypress 中的注册表单

> ID：15379839
> 
> 赞同：1
> 
> 时间：2013-03-13T08:02:10.097
> 
> 标签：wordpress, buddypress

我是buddypress的新手。buddypress中是否有任何预加载的注册表单。如果有请给出选项路径。我使用了插件“BuddyPress 注册选项”。但是当我安装插件时，它会显示一条错误消息，例如

```
 Warning: Missing argument 2 for wpdb::prepare(), called in /var/www/TantraProjects/Ranjit/Nettantra_Social/wordpress/wp-content/plugins/bp-registration-options/includes/admin.php on line 19 and defined in /var/www/TantraProjects/Ranjit/Nettantra_Social/wordpress/wp-includes/wp-db.php on line 990

    Warning: Cannot modify header information - headers already sent by (output started at /var/www/TantraProjects/Ranjit/Nettantra_Social/wordpress/wp-includes/wp-db.php:990) in /var/www/TantraProjects/Ranjit/Nettantra_Social/wordpress/wp-includes/option.php on line 568

    Warning: Cannot modify header information - headers already sent by (output started at /var/www/TantraProjects/Ranjit/Nettantra_Social/wordpress/wp-includes/wp-db.php:990) in /var/www/TantraProjects/Ranjit/Nettantra_Social/wordpress/wp-includes/o

ption.php on line 569 
```

如何在 buddypress 中建立注册表单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-17T06:21:38.620

看到这是不久前被问到的，但出于文档目的，我会回答。是的，有一个预加载的注册表单。BuddyPress 主要是 WordPress 注册顶部的包装器（即默认情况下的 About Me）

路径是 /your-theme/buddypress/members/register.php

要构建自定义注册表单，您可以使用它，将其放在主题的 functions.php 中：

```
 <?php
// hacks and mods will go here
/**
 * Disables BuddyPress' registration process and fallsback to WordPress' one.
 */
function my_disable_bp_registration() {
  remove_action( 'bp_init',    'bp_core_wpsignup_redirect' );
  remove_action( 'bp_screens', 'bp_core_screen_signup' );
}
add_action( 'bp_loaded', 'my_disable_bp_registration' );

add_filter( 'bp_get_signup_page', "firmasite_redirect_bp_signup_page");
    function firmasite_redirect_bp_signup_page($page ){
        return bp_get_root_domain() . '/wp-signup.php'; 
    }
?> 
```

# javascript - AngularJS 应用程序模板中的 JS 插件不起作用

> ID：15379842
> 
> 赞同：1
> 
> 时间：2013-03-13T08:02:22.407
> 
> 标签：javascript, jquery, angularjs

我正在尝试在 Angular 应用程序中运行 JS 插件。所以我有两个文件：index.html 和 view.html（模板）。后者是部分加载在 index.html 内的 ng-app DIV 中。

现在，jQuery 和插件在 index.html 中声明。由于 view.html（模板）中的实现在技术上是由 Angular 动态生成的，因此声明无法“看到”它，即使它们使用 .on() 方法。我相信这个问题在某种程度上与 JavaScript 无法看到动态生成的内容有关。

试图在这里获得一些关于如何使其工作的建议。尝试在部分（即 view.html）中移动脚本声明，但无济于事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T04:58:09.017

将 jquery（或任何其他插件）与 angular 集成需要您以不同的方式思考。特别是在处理双向数据绑定时。如果 jquery 插件更改了 Angular 模型，则需要使用 $scope.apply() 通知模型的范围（请参阅 Angular 文档）。

Angular 推荐的做法是将 DOM 操作和使用 jquery 插件包装在 angular 指令中。将 jquery 插件作为 Angular 应用程序的一部分而不进行集成是很好的 - 但是，如果您正在接触可能不稳定的相同东西。编写包装器指令对于初学者来说可能具有挑战性。我建议您查看[angular ui](http://angular-ui.github.com/)（我是团队成员）中的“jq”指令之类的东西，以便开箱即用地使用它，或者为您提供有关如何包装插件的想法。该站点上有许多简单和复杂的指令。

如果您提供了一个示例（plunker 或 jsfiddle），人们将能够提供更好的帮助。

希望这可以帮助

# jquery - JSON到jQuery中的关联数组

> ID：15379846
> 
> 赞同：2
> 
> 时间：2013-03-13T08:02:41.143
> 
> 标签：jquery, arrays, json

我在这里阅读了更多内容，但我还没有找到我的问题的答案 我的问题：

我有（从 php 通过 ajax 返回 json 字符串）

```
str = '[{"id":"159","pavadinimas":"Building B","_id":"200",.................}]'; 
```

这是 JSON 字符串，我**`obj = $.parseJSON(str);`** 可以用这种方式取任何值，就像`alert(obj[0]._id)`我得到 200 一样。

但是我如何从 json 中获取关联数组，例如：

```
dataArray = [
"id":"159",
"pavadinimas":"Building B",
"_id":"200",
...
] 
```

我想像那样获得价值200

```
val = dataArray['_id']; 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-13T08:06:27.833

javascript中没有关联数组的概念，只有对象。

```
var arr = $.parseJSON(str);
var obj = arr[0];
var _id = obj['_id'] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T08:06:16.597

Javascript 没有关联数组。您将不得不使用使用大括号的对象`{}`。

```
dataObj = {
    "id":"159",
    "pavadinimas":"Building B",
    "_id":"200",
    ...
}

console.log( dataobj.id );
console.log( dataobj['id'] ); 
```

两者的工作原理相同。

因此，对于您的示例，您可以按照您期望关联数组工作的方式访问该对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T08:06:38.370

JavaScript 中的任何对象都是关联数组

例如你可以做

```
dataArray = obj[0];
for(var prop in dataArray) {
   if(dataArray.hasOwnProperty(prop)){
      console.log(dataArray[prop];
   }
} 
```

这会将每个对象的值打印到控制台。在您的情况下，实际上并不需要对 hasOwnProperty 的调用，因为由于它是原型而获得的对象，但通常建议在迭代对象的属性时检查它是否属于它自己的对象或某个对象原型链

对于几乎 (1) 对象的任何属性，有两种语义等效的方式来访问该值

```
obj.propertyName
obj["propertyName"] 
```

两者都会产生相同的值。

(1) 当属性名称不是有效标识符时。即你可以做

```
obj["property name"] 
```

但做不到

```
obj.property name 
```

换句话说，属性名称不必是有效的标识符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T08:07:56.353

采用`.map()`

```
for (var i in elements)
{
    elements[i] = $.map(elements[i],function(v)
    {
        return v;
    });
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T08:34:10.130

可能你想要这样的东西：

```
 var idArray = [];
 var buildArray = [];
 var _idArray = [];
 var data = [{
              "id": 159,
              "pavadinimas": "Building A",
              "_id": 100
            }, {
              "id": 160,
              "pavadinimas": "Building B",
              "_id": 200
            }, {
              "id": 161,
              "pavadinimas": "Building C",
              "_id": 400
           }];

 $.each(data, function (i, item) {
    idArray.push(item.id);
    buildArray.push(item.pavadinimas);
    _idArray.push(item._id);
 });

 console.log(idArray[0]+' : '+buildArray[0]+ ' : ' +_idArray[0]); 
```

# c++ - 如何在 Qt 中使用 QPainter.drawImage 在带有 jpeg/png 图像的背景表单上绘制 jpeg/png 图像？

> ID：15379849
> 
> 赞同：1
> 
> 时间：2013-03-13T08:02:48.250
> 
> 标签：c++, image, qt

我在**Qt**中创建了一个带有**QLabel**的**表单，其中包含***.png*图像作为背景图像。现在我想在该背景*.png图像上绘制一个**.png*图像。我可以在背景上绘制图像，如果没有 .png/.jpeg 图像作为背景，即可以在没有任何背景图像的普通表单上绘制。每当我尝试在背景图像上使用**QPainter.drawimage**绘制图像时，背景图像仅可见，即背景静态图像（.png）正在叠加动态图像（使用 QPainter.drawImage 的'.png'）画。

 *********谁能让我知道这种方法的解决方案。如果没有，请让我知道其他方法。提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:14:58.217

最简单的方法是继承 QLabel，添加额外的方法来接受前景/背景像素图，并覆盖 paintEvent 函数。

其他方法可能如下所示：

```
// literally the same thing as setPixmap but constructed a new function to be clearer
void CustomLabel::setBackground(const QPixmap & pixmap)
{ 
    // will handle sizing the label to the size of the image
    // and will additionally handle drawing of the background
    this->setPixmap(pixmap);
} 

void CustomLabel::setForeground(const QPixmap & pixmap)
{ 
    // create member variable that points to foreground image
    this->foreground = pixmap;
} 
```

然后，覆盖paintEvent函数：

```
void CustomLabel::paintEvent(QPaintEvent * e)
{
    // use the base class QLabel paintEvent to draw the background image.
    QLabel::paintEvent(e); 

    // instantiate a local painter
    QPainter painter(this);

    // draw foreground image over the background
    // draws the foreground starting from the top left at point 0,0 of the label.
    // You can supply a different offset or source/destination rects to achieve the 
    // blitting effect you want.
    painter.drawPixmap(QPoint(0,0),this->foreground); 

} 
```

...然后您可以按如下方式使用标签：

```
//instantiate a custom label (or whatever you choose to call it)
label = new CustomLabel();

// use the additional methods created as part of your CustomLabel class
label->setBackground(QPixmap("background.png"));
label->setForeground(QPixmap("foreground.png")); 
```

此外，CustomLabel 类可以进一步扩展以接受不止一个背景和前景图像。例如，一个`setPixmaps(QVector<QPixmap>)`函数可以存储它传递的图像向量，将标签调整为向量中的第一个图像，然后利用paintEvent函数绘制所有传递给它的图像。

请记住，前景图像的大小应小于或等于背景图像的大小，以免前景图像被裁剪。（因为 QPainter 不会管理调整其绘画的小部件的大小。）

编辑：

> 现在我只想使用在背景图像（1366x768）上移动的“Qpainter.drawImage”用新图像（尺寸 30x30）覆盖背景。这就像在屏幕上移动鼠标指针，其中屏幕是背景形式（Qlabel 上的 .png 图像），鼠标指针是使用“Qpainter.drawImage”动态绘制的新图像

为此，您可以对 setForeground 函数进行简单的编辑/重载，并像这样修改 paintEvent 函数：

```
void CustomLabel::setForeground(const QPixmap & pixmap, const QPointF & offset)
{ 
    // create member variable that points to foreground image
    this->foreground = pixmap;

    // establish the offset from the top left corner of the background image
    // to draw the top left corner of the foreground image.
    this->foregroundOffset = offset;
} 

void CustomLabel::paintEvent(QPaintEvent * e)
{
    // use the base class QLabel paintEvent to draw the background image.
    QLabel::paintEvent(e); 

    // instantiate a local painter
    QPainter painter(this);

    // draw foreground image over the background using given offset
    painter.drawPixmap(this->foregroundOffset,this->foreground); 

} 
```*********

# android - 更改微调器中所选项目的文本颜色

> ID：15379851
> 
> 赞同：42
> 
> 时间：2013-03-13T08:02:54.833
> 
> 标签：android, android-spinner

如何更改微调器中所选项目的字体颜色？

我可以更改所选项目的背景颜色、下拉项目的颜色等，但不能更改所选项目的文本颜色……我该怎么做？

我的代码是：这是我正在使用的微调器--：

```
<Spinner
                android:id="@+id/spinner1"
                android:layout_width="wrap_content"
                android:layout_height="32dip"
                android:background="@drawable/mybg"
                android:divider="@drawable/list_divider"
                android:drawSelectorOnTop="true"
                android:popupBackground="#D3D5D3"
                android:prompt="@string/activityy_prompt" 
                /> 
```

这是 mybg.xml

```
<!-- <item android:drawable="@drawable/blue" android:state_pressed="false"/> -->
<!-- <item android:drawable="@drawable/back11"/> -->

<item android:drawable="@drawable/greenyellow1" android:state_focused="true" android:state_pressed="false"/>
<item android:drawable="@drawable/greenyellow1" android:state_focused="true" android:state_pressed="true"/>
<item android:drawable="@drawable/greenyellow1" android:state_focused="false" android:state_pressed="true"/>
<item android:drawable="@drawable/greenyellow1" android:state_selected="true"/>
<item android:drawable="@drawable/back11"/> 
```

使用这些我无法更改所选项目的文本颜色...

* * *

## 回答 #1

> 赞同：82
> 
> 时间：2013-03-13T08:27:32.807

Define `OnItemSelectedListener` like this:

```
 private AdapterView.OnItemSelectedListener listener = new AdapterView.OnItemSelectedListener() {
        @Override
        public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
            ((TextView) parent.getChildAt(0)).setTextColor(0x00000000);
        }

        @Override
        public void onNothingSelected(AdapterView<?> parent) {

        }
    }; 
```

and then Set `OnItemSelectedListener` to `spinner` like this:

```
spinner.setOnItemSelectedListener(listener); 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-06-18T08:03:35.843

可绘制/mybg：

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_activated="true">
        <color android:color="@color/black" />
    </item>
</layer-list> 
```

这将更改弹出窗口中所选项目的颜色。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-05-08T05:15:13.773

尝试在 OnItemSelectedListener 中实现 onItemSelected 以更改微调器所选项目的文本颜色

```
public void onItemSelected(AdapterView<?> adapterView, View view, int i, long l) { 
    int index = adapterView.getSelectedItemPosition();
    ((TextView) spinner.getSelectedView()).setTextColor(getResources().getColor(R.color.Blue)); //<---- 
```

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2017-02-09T09:12:34.160

您可以通过添加`OnItemSelectedListener`到`spinner`

```
qtySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
    @Override
    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
        ((TextView) view).setTextColor(Color.BLACK); //Change selected text color
    }

    @Override
    public void onNothingSelected(AdapterView<?> parent) {

    }
}); 
```

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2013-03-13T08:11:52.787

使用选择器作为文本颜色。

在drawable中创建color_selector.xml

```
<?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
     <item android:state_pressed="true"
           android:color="#000000" /> <!-- pressed -->
     <item android:state_focused="true"
           android:color="#000000" /> <!-- focused -->
     <item android:color="#FFFFFF" /> <!-- default -->
 </selector> 
```

在文本视图中

```
<TextView 
   android:textColor="@drawable/color_selector"/> 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-12-02T06:29:05.007

只需使用这一行 onItemSelected 列表器 -

```
public void onItemSelected(AdapterView<?> parent, View arg1, int arg2,long arg3) 
     {

       item = (String) parent.getItemAtPosition(arg2);

       ((TextView) parent.getChildAt(0)).setTextColor(0x00000000);

 } 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2018-11-08T10:34:19.043

`((TextView) view).setTextColor(getResources().getColor(R.color.black));` 在`onItemSelected(...)`侦听器方法中设置将起作用。它为您选择的微调器文本设置颜色。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2016-06-15T02:49:19.550

如果您的微调器使用 ArrayAdapter，您可以简单地为微调器项传递自定义布局。该布局可以是一个简单的 textView 但具有 android:textColor 属性。

*MainActivity.java onCreate()*

```
adapter = new ArrayAdapter<>(this, R.layout.spinner_custom_textcolor, data);
spinner.setAdapter(adapter); 
```

*spinner_custom_textcolor.xml*

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@android:id/text1"
style="?android:attr/spinnerItemStyle" 
android:textColor="@color/YOUR_COLOR_HERE"
android:singleLine="true"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:ellipsize="marquee"
android:textAlignment="inherit"/> 
```

*上述布局中除了*android:textColor之外的所有内容都是从**android.R.layout.simple_spinner_item*直接复制的

 ** * *

## 回答 #9

> 赞同：2
> 
> 时间：2018-01-21T17:37:22.510

我知道这是个老问题，但是我在 TabLayout 中更改微调器中选定项目的颜色时遇到了很大问题，这对我来说确实有用：

```
spinner.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {
            @Override
            public void onGlobalLayout() {
                ((TextView) spinner.getSelectedView()).setTextColor(Color.WHITE); //change to your color
            }
        }); 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2017-07-04T05:36:47.060

你们中的一些人使用 MaterialBetterSpinner 和绑定你的布局，以上所有方法都无济于事，试试这个，希望它对你有帮助：

```
public class MyAdapter extends ArrayAdapter<String> {      

        public MyAdapter(Context context, int textViewResourceId, List<String> objects) {
            super(context, textViewResourceId, objects);           

        }

        @Override
        public View getDropDownView(int position, View convertView, ViewGroup parent) {
            return getCustomView(position, convertView, parent);
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            return getCustomView(position, convertView, parent);
        }

        public View getCustomView(int position, View convertView, ViewGroup parent) {
            LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            final YourXMLBinding rowBinding = DataBindingUtil.inflate(inflater, R.layout.yourXML, parent,false);
            rowBinding.tv1.setText(mMy.getValues().get(position));
            if(position == mMy.getCurrentIndex()) {
                rowBinding.tv1.setTypeface(Typer.set(getContext()).getFont(Font.ROBOTO_BOLD));//change font
                rowBinding.tv1.setTextColor(ContextCompat.getColor(getContext(), R.color.yourColor));//change color
            }
            return rowBinding.getRoot();
        }
    } 
```

yourXML 是这样的：

```
<?xml version="1.0" encoding="utf-8"?>
<layout>

    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:background="@color/colorBackgroundStart">
        <TextView
            android:id="@+id/tv1"
            android:layout_width="0dp"
            android:layout_weight="0.7"
            android:layout_height="30dp"
            android:textColor="#fff"
            android:textSize="16dp"
            android:layout_marginTop="8dp"
            android:layout_marginBottom="10dp"
            android:layout_marginLeft="8dp"/>

</layout> 
```

使用此适配器和 yourXML 创建一个微调器：

```
final MyAdapter adapter = new MyAdapter(getContext(), R.layout.yourXML, s.getValues());

final MaterialBetterSpinner spinner = new MaterialBetterSpinner(getContext());
spinner.setAdapter(adapter); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-11-25T09:05:05.953

[在此处](https://stackoverflow.com/a/33912194/2423194)查看我对类似问题的回答。我的答案与 Priya 的类似，除了它也正确设置了默认选定项目的文本颜色（因此在等待微调器自动选择默认项目时不会出现错误颜色的滞后，这发生在用户界面已经打开之后 -屏幕）。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-04-25T06:29:09.160

在 Android 2.3v 中，您不需要用于背景颜色更改的 java 代码。只需 `android:background="#F0F8FF"`在 xml 文件中添加到您的微调器。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2017-10-24T08:16:55.173

对我有用的解决方案是将 a`CheckedTextView`用于下拉资源视图，然后使用颜色选择器更改选中项目的颜色。

`spinner_dropdown_item.xml`在`layout`文件夹中：

```
<?xml version="1.0" encoding="utf-8"?>

<!-- A `CheckedTextView` allows the color of the text to be changed when it is selected (checked). -->
<CheckedTextView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/spinner_item_textview"
    android:layout_height="wrap_content"
    android:layout_width="match_parent"
    android:maxLines="1"
    android:ellipsize="end"
    android:paddingStart="20dp"
    android:paddingEnd="20dp"
    android:paddingTop="8dp"
    android:paddingBottom="8dp"
    android:textSize="18sp"
    android:textColor="@color/spinner_color_selector"
    android:background="@color/spinner_background" /> 
```

`spinner_color_selector`在`color`文件夹中：

```
<?xml version="1.0" encoding="utf-8"?>

<!-- Highlight the selected (checked) item when the spinner is open. -->
<selector xmlns:android="http://schemas.android.com/apk/res/android" >
    <item android:state_checked="true" android:color="@color/white" />
    <item android:color="@color/blue_100" />
</selector> 
```

`spinner_dropdown_item.xml`必须设置为`DropDownResourceView`的`Adapter`。就我而言，我使用的`ResourceArrayAdapter`是从多个来源提取信息的。

```
// Setup a `MatrixCursor` for the static entries.
String[] matrixCursorColumnNames = {DatabaseHelper._ID, DatabaseHelper.NAME};
MatrixCursor matrixCursor = new MatrixCursor(matrixCursorColumnNames);
matrixCursor.addRow(new Object[]{-2, getString(R.string.first_spinner_item)});
matrixCursor.addRow(new Object[]{-1, getString(R.string.second_spinner_item)});

// Get a `Cursor` with the list of additional items from the database.
Cursor cursor = DatabaseHelper.getCursor();

// Combine `matrixCursor` and `cursor`.
MergeCursor mergeCursor = new MergeCursor(new Cursor[]{matrixCursor, foldersCursor});

// Create a `ResourceCursorAdapter` for the spinner with `this` context.  `0` specifies no flags.;
ResourceCursorAdapter resourceCursorAdapter = new ResourceCursorAdapter(this, R.layout.spinner_item, mergeCursor, 0) {
    @Override
    public void bindView(View view, Context context, Cursor cursor) {
        // Get a handle for the spinner item `TextView`.
        TextView spinnerItemTextView = (TextView) view.findViewById(R.id.spinner_item_textview);

        // Set the `TextView` to display the name.
        spinnerItemTextView.setText(cursor.getString(cursor.getColumnIndex(DatabaseHelper.NAME)));
    }
};

// Set the `ResourceCursorAdapter` drop drown view resource.
resourceCursorAdapter.setDropDownViewResource(R.layout.spinner_dropdown_item);

// Get a handle for the `Spinner`.
Spinner spinner = (Spinner) findViewById(R.id.spinner);

// Set the adapter for the folder `Spinner`.
spinner.setAdapter(resourceCursorAdapter); 
```

因为在打开和关闭时`ResourceCursorAdapter`使用相同来填充微调器，所以in和的 id必须相同。`bindView``TextView``spinner_dropdown_item.xml``spinner_item.xml`

`spinner_item.xml`在`layout`文件夹中：

```
<?xml version="1.0" encoding="utf-8"?>

<TextView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/spinner_item_textview"
    android:layout_height="wrap_content"
    android:layout_width="match_parent"
    android:maxLines="1"
    android:ellipsize="end"
    android:paddingStart="10dp"
    android:paddingEnd="10dp"
    android:textSize="18sp"
    android:textColor="@color/primaryTextColor" /> 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2017-10-24T07:42:50.623

```
mSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
      @Override
      public void onItemSelected(AdapterView<?> adapterView, View view, int position, long l) {
           ((TextView) adapterView.getChildAt(0)).setTextColor(Color.WHITE);
} 
```*

# rest - REST 还是 SOAP？我必须选择一个

> ID：15379853
> 
> 赞同：2
> 
> 时间：2013-03-13T08:03:09.833
> 
> 标签：rest, soap, service, web, media

我必须创建一个媒体服务来为我们的其他应用程序准备服务。问题是我们的 API 应该是 REST 还是 SOAP？

我阅读了很多比较这两种方法的文章和材料。每个人对使用其中之一都有自己的想法。有人认为，由于每个人都将他们的产品切换到 REST，因此使用 REST 而不是 SOAP 是一个不错的决定。但我认为重要的是产品的目的，基于我们可以在肥皂或 REST 之间选择的目的。

我们的服务与用户没有互动。它只适用于我们的本地应用程序，对我来说重要的是我的 API 简单实用。正如我所说，该服务将媒体存储和管理带到了其他应用程序。我在肥皂和休息方面都有经验，但这次我不能选择一个。

那么你的想法是什么？SOAP 还是 REST？在这种类型的项目中！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:08:50.640

我会去 `REST`- 它更简单并且增加的开销更少。此外，一旦您的资源被明确定义和分隔，开发人员就已经知道如何与 API 端点交互，而无需文档或等待对象接口的创建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T14:14:48.710

毫无疑问，我会选择 REST 而不是 SOAP，但从消费者的角度来看，考虑到已经存在的向导，SOAP 仍然更容易使用，它自动将 WSDL 类型映射到适当的类型，至少在 Java 和 C# 世界中是这样。

REST 更容易使用是非常具有欺骗性的。它是一个开放的标准，更简洁，它以不同于 SOAP Web 服务的方式利用 HTTP 协议，您必须理解这一点，因为 REST 并不适合每个人的业务，特别是如果已经有一些东西的话。

也就是说，如果您真的想知道 Web 是如何工作的，对人们使用的标准保持封闭，并且较少依赖那些创建大量与 REST 无关的代码的向导。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-03T14:04:24.363

休息，毫无疑问。

我已经使用两种协议创建了 API，REST 对消费者来说更容易，也更灵活。

Google 大约在 4 年前停止支持 SOAP，现在只使用 REST 和 JSON。

REST 中的“部分响应”非常庞大，您只能在其中获得所需的数据。

这是关于创建良好 REST API 的有用文档：http: [//info.apigee.com/Portals/62317/docs/web%20api.pdf](http://info.apigee.com/Portals/62317/docs/web%20api.pdf)

# javascript - 从 java 脚本调用传感器 api

> ID：15379855
> 
> 赞同：1
> 
> 时间：2013-03-13T08:03:12.343
> 
> 标签：javascript, html, sensors

我想编写一个返回平台传感器数据的 java 脚本。这个 java 脚本将在 HTML5 的 android 和 windows 上运行。

对于将在 Windows 上运行的代码，我想调用传感器的 Win7 API（不是 Win8 API）。我希望这段代码在 win7 和 win8 上运行 - 桌面和 Metro 模式。

从 java 脚本调用传感器 API 的最佳方法是什么？

我希望它可以在 IE10 等以及 chrome 上运行。

这是win7 api： http: [//msdn.microsoft.com/en-us/library/windows/desktop/dd318964 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/dd318964(v=vs.85).aspx)

注意：我不想对某些传感器使用 HTML5 的支持，因为我想要低级别的数据。

谢谢。

# javascript - 如何在jsp中创建一个json对象？

> ID：15379857
> 
> 赞同：2
> 
> 时间：2013-03-13T08:03:37.097
> 
> 标签：javascript, json, jsp, servlets

我创建了一个输入字段很少的 JSP 页面。当我点击 submin 时，我需要 javascript 来创建 json 对象并将输入值放入其中，并且我想在同一个 jsp 页面中显示 json 数据。

这是我的表格

```
<form name="jsond" method="get">
<br>
<p id="msg"></p>
First Name:
<input type="text" id="firstName"/><br>
Last Name:
<input type="text" id="lastName"/><br>
E-mail:
<input type="text" id="email"/><br>
Mobile No:
<input type="text" id="mobile"/><br>
Place:
<input type="text" id="place"/><br>
Country:
<input type="text" id="country"/><br>
<br>
<input type="submit" name="submit" value="Submit" onclick="return submitForm(this, event);">
</form> 
```

这是我的剧本

```
function submitForm(thisObj, thisEvent) {
       var firstName = document.forms["jssond"]["firstName"].value;
       var lastName = document.forms["jssond"]["lastName"].value;
       var email = document.forms["jssond"]["email"].value;
       var mobile = document.forms["jssond"]["mobile"].value;
       var place = document.forms["jssond"]["place"].value;
       var country = document.forms["jssond"]["country"].value;

// How to do the remaining code? I want to store the above variables in json object and display json values in <p id="msg"></p> 
```

如何将 json 对象从 javascript 传递给 servlet？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T08:10:02.803

您可以在 javascript 中创建对象，然后使用`JSON.stringify`将 JSON 创建为文本。

```
function submitForm(thisObj, thisEvent) {
   var object = {
       firstName: document.forms["jssond"]["firstName"].value,
       lastName: document.forms["jssond"]["lastName"].value,
       email: document.forms["jssond"]["email"].value,
       mobile: document.forms["jssond"]["mobile"].value,
       place: document.forms["jssond"]["place"].value,
       country: document.forms["jssond"]["country"].value
   };
   document.getElementById('msg').innerHTML = JSON.stringify(object);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T08:09:41.697

嗯， [JSON](http://www.json.org/)非常*类似于*带有键值对的 JavaScript 对象，它比你想象的要简单:)

```
// retrieve the form values
var firstName = document.forms["jssond"]["firstName"].value;
var lastName = document.forms["jssond"]["lastName"].value;
var email = document.forms["jssond"]["email"].value;
var mobile = document.forms["jssond"]["mobile"].value;
var place = document.forms["jssond"]["place"].value;
var country = document.forms["jssond"]["country"].value;

// create JSON
var jsonObj = {
    "firstname": firstName,
    "lastName": lastName,
    "email": email,
    "mobile": mobile,
    "place": place,
    "country": country
};
// convert JSON to string
var jsonString = JSON.stringify(jsonObj); 
```

**以表单形式提交 JSON：**

提交表单中的 JSON 数据`submit`：

假设您在表单中有一个隐藏字段，用于保存 JSON 字符串值：

```
<input type=hidden" id="jsonData" name="jsonData" /> 
```

创建 后`jsonString`，您可以将 JSON 字符串值放入隐藏的表单元素中：

```
document.getElementById('jsonData').value = jsonString; 
```

**处理 JSON 服务器端：**

在您处理表单提交操作的服务器端代码中，例如在**PHP**中（无论您使用什么语言，都可能有等效的东西）：

```
<?php
    $jsonObject = json_decode($_POST['jsonData'], true);
?> 
```

现在`$jsonObject`是这种格式的关联数组：

```
[
    "firstName" => "...",
    "lastName" => "...",
    "email" => "...",
    "mobile" => "...",
    "place" => "...",
    "country" => "..." 
] 
```

**在 Java 中：**

```
// Assuming 'request' is HttpServletRequest

String jsonString = request.getParameter("jsonData");
JSONObject jsonObject = (JSONObject) JSONValue.parse(jsonString); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T08:11:34.243

```
function submitForm(thisObj, thisEvent) {
   var firstName = document.forms["jssond"]["firstName"].value;
   var lastName = document.forms["jssond"]["lastName"].value;
   var email = document.forms["jssond"]["email"].value;
   var mobile = document.forms["jssond"]["mobile"].value;
   var place = document.forms["jssond"]["place"].value;
   var country = document.forms["jssond"]["country"].value;

   var json = {
       firstName: firstName,
       lastName: lastName,
       email: email,
       mobile: mobile,
       place: place,
       country: country
   };
   // Displaying is up to you 
```

您真的应该查找最新的 javascript/json 教程。`document.forms[etc]`自 15 年左右以来已被弃用。

# android - webview 有 goback() 吗？

> ID：15379859
> 
> 赞同：-6
> 
> 时间：2013-03-13T08:03:42.290
> 
> 标签：android, html, webview

我是android新手，所以这可能是一个菜鸟问题。我正在将本地 html 文件加载到 webview 中。html 代码链接的图像也存储在资产目录中。一旦图像全屏显示，我就无法返回缩略图。后退按钮结束 webview 活动。任何想法？（对于所有那些低估我的问题的人......FU）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:11:09.823

您的后退按钮关闭活动，因为这是正常行为。如果您想使用后退按钮作为 WebView 的返回按钮，您需要做的是：

```
 @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK) {
            yourWebView.goBack();
            return true;
        }

        return super.onKeyDown(keyCode, event);
    } 
```

如有其他问题，请尝试使用自动完成功能，不仅显示您可以使用的方法/值，还显示相应的 JavaDoc 以了解如何使用它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:09:46.707

请查看[WebView](http://developer.android.com/reference/android/webkit/WebView.html)，尤其是“goBack()”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T08:15:53.343

我不久前在 webview 上写了这个教程。它确实具有返回功能。[在这里](http://androidhappenings.blogspot.com/2013/01/android-app-development-101-5th.html)查看

# command - Sublime Text 2 中的“关闭其他”命令快捷方式

> ID：15379860
> 
> 赞同：21
> 
> 时间：2013-03-13T08:03:45.863
> 
> 标签：command, keyboard-shortcuts, sublimetext2, sublimetext

我正在尝试为“关闭其他”选项卡添加快捷方式，但似乎找不到该命令，这是我正在尝试的：

```
{ "keys": ["super+alt+w"], "command": "close_others" } 
```

`Cmd`++ - 有点像OS X 中的 ++，关闭除`Option`当前*选项*卡以外的所有选项卡，看到了吗？`W``Cmd``Option``H`

 *反正，`close_others`好像什么都没做。我试过了`close_other_windows`，`close_other_tabs`没有任何效果。这样做的正确命令是什么？

当我们在做的时候，你怎么知道有哪些命令可用？我的下一个将是`Cmd`+ `Option`+ `Shift`+ `W`- “关闭右侧的标签”。

有关 Sublime 窗口管理的一些改进，请参阅“[在 Sublime Text 中关闭所有选项卡，但不关闭窗口](https://stackoverflow.com/questions/13561487/solved-sublime-text-2-close-all-tabs-but-not-the-window-how)”

谢谢！

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-03-13T08:58:06.083

命令是`close_others_by_index`。不幸的是，它接受的参数不能通过简单的键绑定传递。

要使其工作，您必须创建一个插件。`Tools/New Plugin...`：

```
import sublime_plugin

class CloseOthersCommand(sublime_plugin.TextCommand):
    def run(self, edit):
        window = self.view.window()
        group_index, view_index = window.get_view_index(self.view)
        window.run_command("close_others_by_index", { "group": group_index, "index": view_index}) 
```

保存在`Packages/User`目录中。然后你可以添加你的键绑定：

```
{ "keys": ["super+alt+w"], "command": "close_others" } 
```

“关闭右侧的选项卡”也是如此。命令是`close_to_right_by_index`。

插件：

```
import sublime_plugin

class CloseToRightCommand(sublime_plugin.TextCommand):
    def run(self, edit):
        window = self.view.window()
        group_index, view_index = window.get_view_index(self.view)
        window.run_command("close_to_right_by_index", { "group": group_index, "index": view_index}) 
```

键绑定：

```
{ "keys": ["super+alt+shift+w"], "command": "close_to_right" } 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2015-01-30T13:07:32.840

我为此做了一个崇高的插件（以及“关闭其他窗口”功能）

[https://packagecontrol.io/packages/CloseOtherWindows](https://packagecontrol.io/packages/CloseOtherWindows)*

# ruby-on-rails - 安装导轨时出错

> ID：15379866
> 
> 赞同：0
> 
> 时间：2013-03-13T08:04:05.987
> 
> 标签：ruby-on-rails

您好，任何人都可以帮助我，当我尝试在我的 linux 上安装 rails 版本 3.2.0 时（我已经安装了 rails 版本 2.3.5）thanx 提前！

```
ERROR:  While executing gem ... (NoMethodError)
undefined method `call' for nil:NilClass 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:14:39.990

转到项目目录并使用以下命令安装包。
`bundle install`
然后启动服务器。

# c - 流星从任何地方获取数据

> ID：15379869
> 
> 赞同：0
> 
> 时间：2013-03-13T08:04:20.907
> 
> 标签：c, meteor

我想从我的流星项目中使用 Objective C 获取数据，但它总是返回：

```
...
    <head>
    <body>
    </body>
</html> 
```

为什么body标签之间是空的？以及如何从任何地方（curl、php、Objective C、iOS 等）获取流星数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:13:07.480

Meteor 在浏览器上渲染输出。本质上它是这样做的：

1.  加载一个 html 文件，告诉浏览器如何创建页面
2.  使用 javascript 浏览器将创建页面
3.  从服务器获取集合并用这个填充模板

如果您想从集合中获取数据，请使用 Objective C ddp 客户端：[https](https://github.com/alansikora/objective-c_ddp-client) ://github.com/alansikora/objective-c_ddp-client 。

您可能需要稍微修改一下代码，这些 repos 有点过时了，这里是 pre1 ddp 协议的详细信息：[https ://github.com/meteor/meteor/blob/master/packages/livedata/DDP.md](https://github.com/meteor/meteor/blob/master/packages/livedata/DDP.md)

# c# - 反射 - 在指定的类名上动态调用方法

> ID：15379873
> 
> 赞同：1
> 
> 时间：2013-03-13T08:04:37.547
> 
> 标签：c#, .net, reflection, coded-ui-tests

我需要使用 Dot Net 的反射概念，我对此没有太多的专业知识。我将类和方法名称作为字符串获取，并且需要在类上调用该方法。

以下是我需要调用方法的类：

```
namespace ObjectRepositories
{
    class Page_MercuryHome : CUITe_BrowserWindow
    {
        public new string sWindowTitle = "";
        public Page_MercuryHome()
        {
            #region Search Criteria
            this.SearchProperties[UITestControl.PropertyNames.Name] = "Blank Page";
            this.SearchProperties[UITestControl.PropertyNames.ClassName] = "IEFrame";
            this.WindowTitles.Add("Blank Page");
            this.WindowTitles.Add("Welcome: Mercury Tours");
            #endregion
        }

        public CUITe_HtmlEdit UIEdit_UserName = new CUITe_HtmlEdit("Name=userName");
        public CUITe_HtmlEdit UIEdit_Password = new CUITe_HtmlEdit("Name=password");
        public CUITe_HtmlInputButton UIInputButton_Login = new CUITe_HtmlInputButton("Name=login");
}
} 
```

现在在下面的方法中，我将收到父类名、子类名和要调用的方法。

如下：

```
void PerformOperation(string ParentClass, string SubClass, string MethodName)
{
/* Suppose if I receive arguments as "Page_MercuryHome","CUITe_BrowserWindow","SetText")
then it should call SetText() method of subclass CUITe_BrowserWindow which is having Page_MercuryHome as Parent Class"
} 
```

我尝试了很多这样做但无法做到。

任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:31:24.673

我假设您知道该类将始终与 PerformOperation 在同一个程序集中。如果不是，那么您需要它所在的程序集的名称。

您不需要 ParentClass，但您需要 SubClass 的全名（包括命名空间）。

我假设您的类将始终具有默认构造函数，并且您的方法将永远不会有任何参数。

如果上述情况成立，则以下内容应该有效：

```
void PerformOperation(string fullClassName, string methodName)
{
   ObjectHandle handle = Activator.CreateInstance(null, fullClassName);
   Object p = handle.Unwrap();
   Type t = p.GetType();

   MethodInfo method = t.GetMethod(methodName);
   method.Invoke(p, null);
}

object ReadField(string fullClassName, string fieldName)
{
   ObjectHandle handle = Activator.CreateInstance(null, fullClassName);
   Object p = handle.Unwrap();
   Type t = p.GetType();

   FieldInfo field = t.GetField(fieldName);
   return field.GetValue(p);
} 
```

编辑：添加方法来实例化给定类的对象并返回给定字段的值

# c++ - QtCreator 运行时问题

> ID：15379877
> 
> 赞同：0
> 
> 时间：2013-03-13T08:04:55.143
> 
> 标签：c++, qt, opengl, qt-creator

我正在 qtcreator 中编写一个使用 opengl 着色器版本 3.3 的小型应用程序。应用程序编译得很好，但是当我从 ide 运行它时，QGLFormat.getMajorVersion() 返回 1。
有趣的是，当我从命令行或文件管理器运行可执行文件时，它运行良好.. 函数返回预期3 ..我使用的操作系统是openSUSE 12.2。我已经检查过，QtCreator中PATH的值与cli中的值相同。
任何想法为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:18:12.333

发现问题，运行环境中PATH的值是正确的，但是LD_LIBRARY_PATH的值缺少32位库（/usr/lib）的路径。

# java - 如何使用 Java 删除 Active Directory 中的用户

> ID：15379878
> 
> 赞同：6
> 
> 时间：2013-03-13T08:05:00.440
> 
> 标签：java, active-directory, ldap

我已经实现了在 AD 中启用、创建和禁用用户的功能。我还需要确保我可以使用 Java 删除 AD 中的用户。下面是一些相关代码，有人可以告诉我如何删除AD中的用户吗？我更喜欢使用原始的 java 代码来实现这一点。

```
import java.io.IOException;
import java.io.UnsupportedEncodingException;
import java.util.ArrayList;
import java.util.Hashtable;
import java.util.List;

import javax.naming.Context;
import javax.naming.NamingEnumeration;
import javax.naming.NamingException;
import javax.naming.directory.Attribute;
import javax.naming.directory.Attributes;
import javax.naming.directory.BasicAttribute;
import javax.naming.directory.BasicAttributes;
import javax.naming.directory.DirContext;
import javax.naming.directory.ModificationItem;
import javax.naming.directory.SearchControls;
import javax.naming.directory.SearchResult;
import javax.naming.ldap.Control;
import javax.naming.ldap.InitialLdapContext;
import javax.naming.ldap.LdapContext;
import javax.naming.ldap.PagedResultsControl;
import javax.naming.ldap.PagedResultsResponseControl;

public class LDAPTool {

/**
 * 
 * @param attrs
 * @param propertyName
 * @return the value of the property.
 */
public static String getString(Attributes attrs, String propertyName) {
    String value = "";

    if (null != attrs) {
        Attribute attr = attrs.get(propertyName);
        if (null != attr) {
            value = String.valueOf(attr);
            value = value.substring(value.indexOf(": ") + 2).trim();
        }
    }

    return value;
}

/**
 * 
 * @param host
 * @param port
 * @param username
 * @param password
 * @return 
 * @return true if passed the authenticate, or else false.
 * @throws NamingException 
 */
public static void authenticate(String host, int port, String username, String password) 
        throws NamingException {

    LdapContext ctx = getLdapContext(host, port, username, password);
    if(null != ctx){
        ctx.close();
    }

}

/**
 * 
 * @param host
 *            host name or IP address
 * @param port
 *            port for LDAP protocol
 * @param username
 * @param password
 * @return the LDAP context
 * @throws NamingException
 */
public static LdapContext getLdapContext(String host, int port, String username, String password)
        throws NamingException {

    Hashtable<String, String> env = new Hashtable<String, String>();

    env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
    env.put(Context.PROVIDER_URL, "ldap://" + host + ":" + port);
    env.put(Context.SECURITY_AUTHENTICATION, "simple");
    env.put(Context.SECURITY_PRINCIPAL, username);
    env.put(Context.SECURITY_CREDENTIALS, password);
    env.put("java.naming.ldap.attributes.binary", "tokenGroups");
    env.put("java.naming.ldap.attributes.binary", "objectSID");

    LdapContext ctx = new InitialLdapContext(env, null);
    return ctx;
}
public static boolean isDisabled(LdapContext ctx, String username, String baseDn) throws NamingException, IOException  {

    boolean disabled = false;

    String filter = "sAMAccountName=" + username;
    SearchControls searchCtls = new SearchControls();
    searchCtls.setSearchScope(SearchControls.SUBTREE_SCOPE);

    searchCtls.setCountLimit(1);

    searchCtls.setTimeLimit(0);

    // We want 500 results per request.
    ctx.setRequestControls(new Control[] { new PagedResultsControl(1,
            Control.CRITICAL) });

    // We only want to retrieve the "distinguishedName" attribute.
    // You can specify other attributes/properties if you want here.
    String returnedAtts[] = { "userAccountControl" };
    searchCtls.setReturningAttributes(returnedAtts);

    NamingEnumeration<SearchResult> answer = ctx.search(baseDn, filter,
            searchCtls);

    // Loop through the search results.
    if (answer.hasMoreElements()) {
        SearchResult sr = answer.next();
        Attributes attr = sr.getAttributes();
        long userAccountControl = Long.parseLong(getString(attr, returnedAtts[0]));
        if(isDisabled(userAccountControl)){
            disabled = true;
        }
    }
    return disabled;

}

/**
 * Remove the user from group.
 * 
 * @param ctx
 * @param userDn
 * @param groupDn
 * @return
 * @throws NamingException 
 * @throws Exception
 */
public static void removeFromGroup(LdapContext ctx, String userDn, String groupDn) 
        throws NamingException {

    ModificationItem[] mods = new ModificationItem[1];
    mods[0] = new ModificationItem(DirContext.REMOVE_ATTRIBUTE, new BasicAttribute("member", userDn));
    ctx.modifyAttributes(groupDn, mods);

}

/**
 * Disable the account
 * 
 * @param ctx
 * @param dn
 * @throws NamingException
 */
public static void disableUser(LdapContext ctx, String dn)
        throws NamingException {

    ModificationItem[] mods = new ModificationItem[1];
    mods[0] = new ModificationItem(DirContext.REPLACE_ATTRIBUTE,
            new BasicAttribute(USER_ACCOUNT_CONTROL_ATTR_NAME,
                    ""+USER_CONTROL_VALUE_DISABLED));
    ctx.modifyAttributes(dn, mods);

}
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T08:57:53.613

要从上下文中删除用户，您基本上需要使用`javax.naming.Context#unbind`功能。

所以你的方法应该如下所示：

```
/**
 * Remove the account
 * 
 * @param ctx
 * @param dn
 * @throws NamingException
 */
public static void removeUser(LdapContext ctx, String dn) throws NamingException {
    ctx.unbind(dn); //that's all
} 
```

这是一个小例子：[http ://www.java2s.com/Code/Java/JNDI-LDAP/howtoremoveabinding.htm](http://www.java2s.com/Code/Java/JNDI-LDAP/howtoremoveabinding.htm)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T09:29:19.047

以下示例使用[UnboundID LDAP SDK](https://www.unboundid.com/products/ldap-sdk/)删除条目：

```
try {
    final LDAPConnection ldapConnection =
       new LDAPConnection(hostname,port,bindDN,bindPassword);
    final DeleteRequest deleteRequest =
       new DeleteRequest("cn=entry to delete,dc=example,dc=com");
    try {
         LDAPResult deleteResult = connection.delete(deleteRequest);
         System.out.println("The entry was successfully deleted.");
    } catch (LDAPException le) {
        // The delete request failed
    } finally {
        ldapConnection.close();
    }
} catch(final LDAPException ex) {
     // failed to connect to to the server
} 
```

# ios - 导航栏出现在状态栏下

> ID：15379879
> 
> 赞同：0
> 
> 时间：2013-03-13T08:05:11.063
> 
> 标签：ios, objective-c, uinavigationcontroller, uinavigationbar

我问了这个问题，但不正确。我创建了 NavigationVC 控制器：

```
#import <UIKit/UIKit.h>
@interface NavigationVC : UINavigationController

- (void)setTitleText:(NSString *)title calendar:(BOOL)calendar moveToLeft:(BOOL)left;
 //this method for create title of navigationitem that I then use in all ViewControllers

@end 
```

在 NavigationVC.m 我有：

```
@implementation NavigationVC

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
  self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
  if (self) {
    // Custom initialization
}
  return self;
}

- (void)awakeFromNib
{
   [self.navigationBar setBackgroundImage:[UIImage imageNamed:@"backGroundLayer.png"] forBarMetrics:UIBarMetricsDefault];
}

- (void)viewWillAppear:(BOOL)animated
{
  [super viewWillAppear:animated];

}

- (void)viewDidLoad
{
  [super viewDidLoad];

} 
```

图片 backGoundLayer.png 的分辨率为 320x44，我的 backGround@2x.png 的分辨率为 640x88

我创建了从 UIViewController 继承的视图控制器 BaseVC，以及从 BaseVC 继承的其他视图控制器。

我在故事板中创建了我的笔尖

![在此处输入图像描述](../Images/fddd7f508bb6aac17e6395442f9f22b6.png)

接下来是我的问题：

![在此处输入图像描述](../Images/85d8f2b4042018cba24ee9596b52a57b.png)

第一个背景图像出现在状态栏下，但您可以看到其他背景图像出现在状态栏的下方。我尝试在情节提要中将 statusBar 更改为黑色，但这对我没有帮助。我尝试写方法

```
[self.navigationBar setBackgroundImage:[UIImage imageNamed:@"backGroundLayer.png"] forBarMetrics:UIBarMetricsDefault];

 In viewDidLoad or viewWillAppear in NavigationVC, but it not helped too. 
```

我有第二个问题。我在视图控制器中创建按钮，当它触摸时我按下下一个视图。我以编程方式将标题添加到第一个视图和第二个视图。当我触摸按钮时，我在第二个视图的标题中看到了（并且这个标题必须高于它，我认为背景出现时没有状态栏），然后第二个视图的标题消失，我看到空的导航栏。当我单击 backButton 并转到第一个视图时，我会在第二个视图的第一个视图 navigationBar 标题上看到。什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:11:09.033

状态栏后面没有图像，在 iOS 6 中状态将取代导航栏的颜色。

如果您更改 to 中的状态栏样式，`info.plist`它将`Opaque black style`保持黑色。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:11:19.543

这是 iOS 6 的特性，默认状态栏采用导航栏的颜色。您可以通过更改目标摘要页面上的状态栏样式来更改此行为。

# facebook - 从服务器上传视频到 Facebook

> ID：15379890
> 
> 赞同：2
> 
> 时间：2013-03-13T08:06:17.187
> 
> 标签：facebook, video, upload, token

将视频上传到 Facebook 时出现问题。

我使用适用于 Android 的 Facebook SDK：[https](https://github.com/facebook/facebook-android-sdk) ://github.com/facebook/facebook-android-sdk获取具有以下权限的访问令牌：“publish_stream”、“email”、“video_upload”、“publish_actions”

然后我将令牌发送到服务器，该服务器应该上传视频。服务器尝试使用以下代码上传视频：

```
string fullurl = string.Format("https://graph-video.facebook.com/me/videos?title={0}&description={1}&access_token={2}", HttpUtility.UrlEncode(fileName), HttpUtility.UrlEncode(description), token); 
```

Facebook 返回错误：

```
System.Net.WebException: The remote server returned an error: (400) Bad Request.
   at System.Net.WebClient.UploadFile(Uri address, String method, String fileName)
   at System.Net.WebClient.UploadFile(String address, String fileName) 
```

但是，当我使用以下链接检查令牌时：[https](https://graph.facebook.com/me?access_token=myToken) ://graph.facebook.com/me?access_token=myToken Facebook 返回用户信息。这意味着令牌是有效的。但是，如果此请求返回错误代码，我在哪里可以找到有关错误代码的信息？

该解决方案对某些用户非常有效，而对于其他用户则不稳定（6 个视频中的 4 个上传失败。Facebook 返回：*“连接已被远程服务器关闭”*）。并且对于一些错误的用户没有工作：*“远程服务器返回错误：（400）错误请求”。*

我的代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-18T04:29:12.513

我已经解决了这个问题。我已经开始使用 .NET 的 facebook SDK [http://facebooksdk.net/](http://facebooksdk.net/)它对我有用。

```
 Facebook.FacebookClient fb = new FacebookClient(facebookEditTask.facebookToken);
      fb.PostCompleted += (o, e) =>
      {
           if (e.Cancelled || e.Error != null)
           {
                return;
           }

           var result = e.GetResultData();
           facebookVideoUrl = CreateLinkToVideo(result.ToString());
       };

       dynamic parameters = new ExpandoObject();
       parameters.source = new FacebookMediaStream
       {
             ContentType = "video/mp4",
              FileName = Path.GetFileName(facebookEditTask.FilePath)
       }.SetValue(File.OpenRead(facebookEditTask.FilePath));

       parameters.message = fbMessage;

       Task t = fb.PostTaskAsync("me/videos",
                    new { message = fbMessage, parameters.source }); 
```

# javascript - RaphaelJS 移动旋转元素

> ID：15379897
> 
> 赞同：0
> 
> 时间：2013-03-13T08:06:39.173
> 
> 标签：javascript, raphael, jquery-svg

当我尝试使用正常移动拖动功能沿直线移动它时，我有一个旋转 45 度的矩形，它随着 45 度旋转移动。我已经看过很多关于此的帖子，并且打算像这样工作，但我还没有找到解决此问题的简单方法。

我知道 raphael.free_transform.js 插件，但我不需要 90% 的脚本。

从其他帖子中我知道我应该使用 Math.atan2 但可惜我的数学技能不是那么好。

我当前的移动功能如下所示：

```
function (dx, dy) {
        var att = this.type == "rect" ? {x: this.ox + dx, y: this.oy + dy} : {cx: this.ox + dx, cy: this.oy + dy}; 
        this.attr(att);
        for (var i = connections.length; i--;) {
            r.connection(connections[i]);
        }
        r.safari();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T10:22:26.453

您必须使用“转换”方法而不是简单地更改 xy 属性。

```
var data = {};
var R = Raphael('raphael', 500, 500);
var rect = R.rect(100, 100, 100, 50).attr({fill: "#aa5555"}).transform('r45');
var default_transform = rect.transform();

var onmove = function (dx, dy) {
    rect.transform(default_transform + 'T' + dx + ',' + dy);
};
var onstart = function () {};
var onend = function () {
    default_transform = rect.transform();
};

rect.drag(onmove, onstart, onend); 
```

**我在 JSfiddle 上为您创建了一个现场演示：http:** [//jsfiddle.net/pybBq/](http://jsfiddle.net/pybBq/)

请注意，您必须在转换字符串中使用大**T字母（不是小****t**）来使转换成为绝对而不是相对。请阅读 Raphael 关于转换的文档以获取更多信息：[http ://raphaeljs.com/reference.html#Element.transform](http://raphaeljs.com/reference.html#Element.transform)

# java - 延迟 Java 初始化直到需要

> ID：15379899
> 
> 赞同：4
> 
> 时间：2013-03-13T08:06:41.773
> 
> 标签：java, javascript, html

我有一个网页，有时我需要与设备通信。这个设备是通过套接字访问的，所以我有一个带有支持库的 jar 文件。

当你想从设备获取数据时，你按下一个按钮，一个 javascript 方法使用库获取数据（这里没有 java 代码）

jar 的存在使 java 机器在您加载页面后立即启动。

由于有很多用户不使用此选项（通常他们甚至没有设备，开始时），他们认为这是一种麻烦。

是否有可能延迟 java 加载直到按下按钮？

我不想将它们重定向到另一个页面，这应该在同一页面中完成。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T08:08:09.117

您可以在需要时将 jar 文件加载到通过 javascript 动态创建的单独 div 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:12:19.097

如果您想考虑使用 java-webstart-technology 加载您的应用程序，您可以在[此处实现一个类似于 oracle 在其页面上的按钮](http://docs.oracle.com/javase/tutorial/deployment/webstart/deploying.html)

基本上，该按钮的作用是下载 jnlp 文件中指定的所需 jar 并启动它。

# c++ - 是否可以在运行时在堆上创建一个数组，然后在需要时分配更多空间？

> ID：15379903
> 
> 赞同：1
> 
> 时间：2013-03-13T08:07:01.153
> 
> 标签：c++, memory-management, heap-memory, dynamic-arrays

可以说我愿意

```
char *a;
a = new char[4]; 
```

现在，是否可以进一步扩展数组的大小？

假设我想保留我放入的任何值`a[0]`，`a[3]`但现在我想要更多的空间`a[4]`等等`a[5]`。这在 C++ 中可能吗？

* * *

起初我觉得也许我可以做：

```
char* a[10];
a[0] = new char[size]; 
```

每当需要更多空间时，我可以去`a[1]`分配更多空间。这是我目前能想到的唯一选择。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T08:09:34.893

不幸的是，这在 C++ 中是不可能的。您必须分配一个新区域并将旧区域复制到新区域。

但是，C++ 有其他功能，例如`std::vector`，可以减轻手动处理这些事情的需要。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-13T08:24:09.013

代替 char* a ，您可以使用 char** a;

IE

```
char**  a = new char*[4];

for(int i=0; i<4; i++)
  (*a)[i] = new char(i);   /* feed values to array */

/* now you need a[4]? no problem */
char tmp = (*a)[3];
a[3] = new char[2];

a[3][0] = tmp;
a[3][1] = xyz;    /* this is you a[4] */ 
```

虽然这是一种解决方法，但我建议使用矢量。

# c# - 如何查看父文件夹

> ID：15379910
> 
> 赞同：4
> 
> 时间：2013-03-13T08:07:31.967
> 
> 标签：c#, asp.net, path, parent, filepath

我已经使用`HttpRuntime.AppDomainAppPath`（像这样`C:/personal/Website/page.aspx`）获得了我的网站路径

Web 服务始终位于父文件夹的 page.aspx 父级（像这样`C:/personal/Service/service.asmx`）。我使用变量中的 ABC.dll 获取 webservice-path ，`servicePath`例如这个 string `servicePath="C:/personal/Service/service.asmx"`。

如何根据网站路径检查服务路径？

```
If (GetWebPath()== GetServicePath())
{
     // ... do something
}     

private string GetWebPath()
    {
        string path = HttpRuntime.AppDomainAppPath;
        string[] array = path.Split('\\');
        string removeString = "";
        for(int i = array.Length; --i >= 0; )
        {
            removeString = array[array.Length - 2];
            break;
        }
        path = path.Replace(@"\" + removeString + @"\", "");
        return path;
    }

    private string GetServicePath()
    {
        string path = @"C:\MNJ\OLK\ABC.asmx"
        string[] array = path.Split('\\');
        string removeString = "";
        for(int i = array.Length; --i >= 0; )
        {
            removeString = @"\" + array[array.Length - 2] + @"\" + array[array.Length - 1];
            path = path.Replace(removeString, "");
            break;
        }
        return path;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T12:10:18.780

```
string webPath = @"C:\blabla\CS_Web\website\";
string servicePath = @"C:\blabla\CS_Web\SPM\Server.asmx";

if(Path.GetDirectory(Path.GetDirectoryName(servicePath))==Path.GetDirectoryName(webPath)
{
   //You do something here
} 
```

您必须使用 Path.GetDirectoryName() 将页面上移到父文件夹

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:24:16.733

尝试这个：

```
System.Web.Server.MapPath(webPath); 
```

这将返回当前正在执行的 web 文件的物理文件路径。

更多信息可以在这里找到：[System.Web.Server](http://msdn.microsoft.com/en-us/library/system.web.httpserverutility.mappath.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T09:51:12.633

如果您要检查以下路径：

```
string webPath = @"C:\blabla\CS_Web\website\";
string servicePath = @"C:\blabla\CS_Web\SPM\Server.asmx"; 
```

你应该打电话

```
string webPathParentDir = GetParentDirectoryName(webPath);
string servicePathParentDir = GetParentDirectoryName(servicePath);

if (servicePathParentDir.Equals(webPathParentDir, StringComparison.OrdinalIgnoreCase))
{
    // ... do something
} 
```

用方法：

```
private string GetParentDirectoryName(string path)
{
    string pathDirectory = Path.GetDirectoryName(servicePath);

    return new DirectoryInfo(pathDirectory).Parent.FullName;
} 
```

# architecture - LMAX 架构 - 数据增长

> ID：15379911
> 
> 赞同：3
> 
> 时间：2013-03-13T08:07:38.183
> 
> 标签：architecture, event-sourcing, disruptor-pattern, lmax

[考虑Martin Fowler](http://martinfowler.com/articles/lmax.html)的 LMAX 架构描述中的以下场景：

> 我将使用一个简单的非 LMAX 示例来说明。想象一下，您正在通过信用卡订购果冻豆。<...>
> 
> 在 LMAX 架构中，您可以将此操作分成两部分。第一个操作将捕获订单信息并通过向信用卡公司输出事件（请求信用卡验证）来完成。然后，业务逻辑处理器将继续为其他客户处理事件，直到它在其输入事件流中收到信用卡验证事件。在处理该事件时，它将执行该订单的确认任务。

因此，订单一直保存在内存中，直到收到付款处理结果。

现在让我们假设不是信用卡处理步骤，而是需要更多时间的步骤，例如：我们需要执行库存检查，其中有人必须物理验证我们是否有已订购的特定风味的软糖。这可能需要一个小时。

如果是这种情况，是否会导致内存中保存的数据增长，因为可能有很多订单正在等待库存状态更新事件？

可能在这种情况下，我们需要从内存中删除订单并将其作为输出事件的一部分包含在内，外部系统（库存）负责生成另一个包含订单详细信息的输入事件。

我在这种方法中看到的问题是，我们不能将库存作为业务逻辑处理器的一部分。

关于我们如何解决这个问题的想法？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-13T09:53:59.553

作为工作集的一部分，金融交易所中的工作订单可以保留几天甚至几个月。例如，等待期货合约到期。客户帐户也类似。“工作集”是指当前处于活动状态的交易/订单/销售等。一旦交易完成，它就会成为历史数据的一部分。

内存系统现在非常大，即单个服务器中有数百 GB，几乎所有业务的工作集都可以轻松放入内存中。此外，可用内存大小的增长速度比任何大型企业的增长速度都要快得多。

您描述的场景并不是真正的问题。当您需要保存传统数据库或基于文件的系统更适合的所有历史数据时，可能会成为一个问题。

一个简单的练习是计算活动实体或工作集所需的内存，然后将其与现代服务器中可用的内存进行比较。可以在内存中保留数以百万计的活动实体。

# linux - Oracle 排序顺序 - 可能导致它发生变化的原因

> ID：15379915
> 
> 赞同：0
> 
> 时间：2013-03-13T08:08:19.390
> 
> 标签：linux, oracle11g, sql-order-by

免责声明：我知道在需要排序数据时不使用 SQL 中的“ORDER BY”是不好的。

我目前正在支持一个存在奇怪问题的 Pro*C 程序。奇怪问题的可能原因之一可能是原始开发人员（很久以前）没有在他们的 SQL 中使用 ORDER BY，即使程序逻辑依赖于它！这些年来，该程序一直运行良好，直到最近才开始出现问题。

我们正试图将奇怪的问题归结为 ORDER BY 错误（还有其他原因，例如最近发生的从 Solaris 到 Linux 的移植）。

我们应该查看数据库端的哪些阴暗事物可能改变了旧的排序顺序？诸如数据文件之类的东西？有人对 Solaris 上的 Pro*C 神奇地对结果集进行排序有任何经验吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:27:24.743

Since you know that the program cares about the order in which results are returned and you know that the query that is submitted is missing an `ORDER BY` clause, is there a reason that you don't just fix the problem rather than looking to try to figure out whether the actual order of results may have changed? If you fix the known `ORDER BY` problem and the "weird problem" you have disappears, that would provide some pretty good evidence that the "weird problem" is, in fact, caused by the missing `ORDER BY`.

Unfortunately, there are lots of things that might have caused the order of results to change many of which may be impossible to track down. The most obvious cause would be a change in the execution plan. That, in turn, may have been caused either because statistics changed or because statistics didn't change enough or because of a patch or because of an initialization parameter change or because of a client configuration change among other things. If you are licensed to use the AWR (Automatic Workload Repository), you might be able to find evidence that the plan has changed by looking to see if there are multiple `PLAN_HASH_VALUE` values for the `SQL_ID` in `DBA_HIST_SQLSTAT` over different days. If there are, you'd still have to try to figure out whether the different plans actually caused the results to be returned in a different order. Beyond a query plan change, though, there are dozens of other possible causes. The physical order of data on disk may have changed because someone reorganized the table or because someone moved data files around on the disk or because the SAN automatically rebalanced something by moving data around. Some data may have been cached (or may not have been cached) in general in the past that is now cached. An Oracle patch may have been applied.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:11:46.393

我建议使用视图更改您的物理表并在该视图中进行所需的顺序。

例子

TABLE_NOT_SORTED --> 重命名为 --> PHYS_TABLE_NOT_SORTED

```
CREATE VIEW TABLE_NOT_SORTED 
AS
SELECT * FROM PHYS_TABLE_NOT_SORTED
ORDER BY DESIRED_COLUMNS 
```

回复评论：

根据[this question](https://stackoverflow.com/questions/899514/default-row-ordering-for-select-query-in-oracle)和Ask Tom's Answer，如果您不使用“ORDER BY”，Oracle不保证默认排序，他们可以自由更改它。他们当然是绝对正确的。如果您需要排序，请使用 Order By。

除此之外，我们不能说您的代码或默认排序。

# excel - EXCEL VBA：使用动态创建的按钮的 onclick 属性调用事件

> ID：15379923
> 
> 赞同：2
> 
> 时间：2013-03-13T08:08:53.243
> 
> 标签：excel, vba, runtime, syntax-error

我正在创建一个 excel VBA 用户表单，它需要动态创建许多按钮（即根据需要，运行时）。我想为这些按钮分配一个子程序，以便在单击它们时执行一个子程序。

这就是我想做的

```
Set obj4 = usrform.Controls.Add("forms.commandbutton.1")
obj4.Height = 17
obj4.Left = 450
obj4.Top = 75 
obj4.Font.Size = 11
obj4.Name = "compare" & (j - i) 'j and i are some variables in the code
obj4.Caption = "Compare!"
obj4.onclick =  abcd

public sub abcd()
'some code here
end sub 
```

但是这段代码没有运行。我在某处读到，在这里我不能调用子例程，而是调用函数。我的问题是我只想要一个子程序，因为我不打算从中得到回报。但仍然出于试用目的，我在上面的代码中创建了 abcd() 函数，然后我的代码正在运行但没有成功，因为它正在执行函数 abcd 而无需按下按钮。

谁能帮我这个？我在各种论坛的互联网上搜索了很多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:29:12.370

不要纠结于 subroutine v. function：如果你不设置函数的返回值，它和 subroutine 是一样的。

当您设置 onClick 属性时，您将函数的名称作为字符串提供给它，`obj4.onclick = "abcd"`否则它将执行该函数并保存返回值。

# java - 压缩 zip 存档

> ID：15379925
> 
> 赞同：6
> 
> 时间：2013-03-13T08:09:00.490
> 
> 标签：java, zip, deflate

我正在尝试使用 java 将目录内容压缩到 zip 存档中。一切都很好，但我只想澄清一些事实。这是我用来压缩文件的代码：

```
public void pack(@Nonnull String archiveName, @Nonnull File outputDir, @Nonnull File targetDir) {
  File zipFile = new File(outputDir, "out.zip");

  ZipOutputStream zipOutputStream = null;
  OutputStream outputStream;
  try {
    // create stream for writing zip archive
    outputStream = new FileOutputStream(zipFile);
    zipOutputStream = new ZipOutputStream(outputStream);
    // write files recursively
    writeFiles(zipOutputStream, targetDir.listFiles(), "");
  } catch (IOException e) {
    LOGGER.error("IO exception while packing files to archive", e);
  } finally {
    // close output streams
    if (zipOutputStream != null) {
      try {
        zipOutputStream.close();
      } catch (IOException e) {
        LOGGER.error("Unable to close zip output stream", e);
      }
    }
  }
}

/**
 * Writes specified files and their children (in case of directories) to archive
 *
 * @param zipOutputStream archive output stream
 * @param files           which should be added to archive
 * @param path            path relative of root of archive where files should be placed
 */
private void writeFiles(@Nonnull ZipOutputStream zipOutputStream, @Nullable File[] files, @Nonnull String path) throws IOException {
  if (files == null || files.length == 0) {
    return;
  }

  for (File file : files) {
    if (file.isDirectory()) {
      // recursively add files in this directory
      String fullDirectoryName = path + file.getName() + "/";
      File[] childFiles = file.listFiles();
      if (childFiles != null && childFiles.length > 0) {
        // write child files to archive. current directory will be created automatically
        writeFiles(zipOutputStream, childFiles, fullDirectoryName);
      } else {
        // empty directory. write directory itself to archive
        ZipEntry entry = new ZipEntry(fullDirectoryName);
        zipOutputStream.putNextEntry(entry);
        zipOutputStream.closeEntry();
      }
    } else {
      // put file in archive
      BufferedInputStream bufferedInputStream = new BufferedInputStream(new FileInputStream(file));
      zipOutputStream.putNextEntry(new ZipEntry(path + file.getName()));
      ByteStreams.copy(bufferedInputStream, zipOutputStream);
      zipOutputStream.closeEntry();
      bufferedInputStream.close();
    }
  }
}
```

现在有问题：

1.  默认情况下（在我的情况下也是如此）我将获得已经压缩的存档（使用 Deflate 方法）是否正确？

2.  如何获取未压缩的存档：

    *   如果我设置方法`zipOutputStream.setMethod(ZipOutputStream.STORED)`我必须提供大小、压缩大小（它会等于大小吗？）和 crc，否则我会得到异常
    *   如果我不想自己计算大小和 crc，我可以使用`DEFLATE`零级别的方法：

        ```
        zipOutputStream.setMethod(ZipOutputStream.DEFLATED);
        zipOutputStream.setLevel(ZipOutputStream.STORED);
        ```

        那么，在这种情况下我根本没有压缩存档是否正确？
    *   有没有更方便、更直观的方法来创建非压缩档案？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-03-13T08:27:46.387

Rather than re-invent the wheel I'd seriously consider using an existing library for this, such as Apache Ant. The basic idiom for creating a zip file is:

```
Project p = new Project();
p.init();
Zip zip = new Zip();
zip.setProject(p);
zip.setDestFile(new File(outputDir, "out.zip"));
FileSet fs = new FileSet();
fs.setProject(p);
fs.setDirectory(targetDir);
zip.addFileset(fs);
zip.perform(); 
```

By default you will get a compressed archive. For an uncompressed zip all you need to add is

```
zip.setCompress(false); 
```

after the `setDestFile` (in fact anywhere before the `perform`).

# cassandra - Cassandra 不同计数

> ID：15379926
> 
> 赞同：5
> 
> 时间：2013-03-13T08:09:02.577
> 
> 标签：cassandra, distinct-values

我需要在 Cassandra 中计算一堆“东西”。我需要每隔几秒左右增加约 100-200 个计数器。

但是我需要计算不同的“事物”。

为了不计算两次，我在 CF 中设置了一个键，程序在增加计数器之前读取该键，例如：

```
result = get cf[key];
if (result == NULL){
    set          cf[key][x] = 1;
    incr counter_cf[key][x];
} 
```

但是，此读取操作会大大降低集群的速度。我试图减少读取，使用几列，例如：

```
result = get cf[key];

if (result[key1]){
    set          cf[key1][x] = 1;
    incr counter_cf[key1][x];
}

if (result[key2]){
    set          cf[key2][x] = 1;
    incr counter_cf[key2][x];
}

//etc.... 
```

然后我将读取从 200+ 减少到大约 5-6，但它仍然减慢了集群的速度。

我不需要精确计数，但我不能使用位掩码，也不能使用布隆过滤器，因为会有 1M+++ 计数器，有些可能超过 4 000 000 000。

我知道 Hyper_Log_Log 计数，但我也看不到将它与那么多计数器 (1M+++) 一起使用的简单方法。

目前我正在考虑将 Tokyo Cabinet 用作外部键/值存储，但如果该解决方案有效，将不会像 Cassandra 那样具有可扩展性。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T08:19:48.190

当不同值的数量很大时，使用 Cassandra 进行不同计数并不理想。任何时候你需要先读再写，你应该问问自己 Cassandra 是否是正确的选择。

如果不同项目的数量较少，您可以将它们存储为列键并进行计数。计数不是免费的，Cassandra 仍然必须组装行以计算列数，但如果不同值的数量在数千个数量级，它可能会没问题。我假设你已经考虑过这个选项并且它对你来说是不可行的，我只是想我会提到它。

人们通常这样做的方式是将 HLL 或 Bloom 过滤器放在内存中，然后定期将它们刷新到 Cassandra。即不在 Cassandra 中进行实际操作，只是将其用于持久性。这是一个复杂的系统，但是有一种简单的方法可以计算不同的值，特别是如果你有大量的计数器。

即使你切换到其他东西，例如你可以对值进行位操作的东西，你仍然需要防止竞争条件。我建议你只是硬着头皮把所有的数都记在心里。通过键对处理节点上的增量操作进行分片，并将整个计数器状态（增量和不同）保存在这些节点的内存中。定期将状态刷新到 Cassandra，并在执行时确认增量操作。当一个节点对它在内存中没有的键进行增量操作时，它会从 Cassandra 加载该状态（如果数据库中没有任何内容，则创建一个新状态）。如果一个节点崩溃，操作还没有被确认并将被重新传递（你需要在节点前面有一个好的消息队列来处理这个问题）。

# javascript - 使用 Javascript 更改文本

> ID：15379935
> 
> 赞同：0
> 
> 时间：2013-03-13T08:09:46.840
> 
> 标签：javascript, input

我想要一个带有 javascript 的文本，我使用以下代码：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<title>Test</title>
<script type="text/javascript">
var Neu = document.getElementById("thema")[0].value;
function Aendern () {
  document.all.meinAbsatz.innerHTML = Neu;
}
</script>
</head><body>
<p id="meinAbsatz">Text</p>
<input id="thema" type="text" value="Test Theme" />
<a href="javascript:Aendern()">chance theme</a>
</body>
</html> 
```

如果我点击“机会主题”，“文本”机会“未定义”

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T08:10:45.850

方法`getElementById()`返回单个元素，而不是一组元素。所以没有必要申请`[0]`它。你也应该把`Neu`初始化放在`Aendern()`函数里面：

```
function Aendern() {
    var Neu = document.getElementById("thema").value;
    document.all.meinAbsatz.innerHTML = Neu;
} 
```

**演示：http:** [//jsfiddle.net/RqgMb/](http://jsfiddle.net/RqgMb/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:16:41.027

[http://jsfiddle.net/FJr2t/](http://jsfiddle.net/FJr2t/)

在上面的链接中，我使您的代码正常工作。你的两个主要问题是：

```
var Neu = document.getElementById("thema")[0].value; 
```

首先，`getElementById('thema')`只返回一个项目，所以你应该删除`[0]`. 其次，加载时，您脑海中的javascript代码会执行一次。所以这一行一旦开始就被执行，然后读取输入元素的值。所以你也应该把它移到你的 Aendern 方法中。

PS：在这种情况下，不需要将您的代码放入 window.onload 等，但您应该**明确地**查看并执行此操作。

# ruby-on-rails - 无法在 Heroku 上部署 Diaspora

> ID：15379940
> 
> 赞同：0
> 
> 时间：2013-03-13T08:09:59.490
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rubygems, heroku-toolbelt

最初我已将我的 git 代理设置为 192.168.0.9 现在无法正常工作，所以我使用

```
$ git config --global http.proxy http://proxyuser:proxypwd@proxy.server.com:8080
$ set http_proxy=http://username:password@host:port
$ export http_proxy=http://username:password@host:port 
```

将代理更改为 192.168.0.5 但是当我运行时

```
$ heroku create 
```

在 git bash 它说内部服务器错误并显示 HTTP PROXY = 192.168.0.9

你能帮我用命令吗，以便我可以更改代理。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:38:17.493

这是来自散居者的 Heroku 分期付款指南，[https://github.com/diaspora/diaspora/wiki/Installing-on-heroku](https://github.com/diaspora/diaspora/wiki/Installing-on-heroku)。您可能想找到一个使用 heroku 的教程。你为什么改变你的代理？

# python - 使用python比较多个字典的键和值

> ID：15379944
> 
> 赞同：1
> 
> 时间：2013-03-13T08:10:09.997
> 
> 标签：python, dictionary

我有我的数据的字典：

```
data = {'Games' : ['Computer Games', 'Physical Games', 'Indoor Games', 'Outdoor Games'],
        'Mobiles' : ['Apple', 'Samsung', 'Nokia', 'Motrolla', 'HTC'],
        'Laptops' : ['Apple', 'Hp', 'Dell', 'Sony', 'Acer']} 
```

我想将其与以下内容进行比较：

```
client_order = {'Games' : 'Indoor Games', 'Laptops' : 'Sony', 'Wallet' : 'CK', 'Mobiles' : 'HTC'} 
```

我想准确地比较键，并针对每个匹配的键迭代数据字典的值，结果可能是这样的：

```
success = {'Games' : 'Indoor Games', 'Laptops' : 'Sony', 'Wallet' : '', 'Mobiles' : 'HTC'} 
```

我已经使用`lambda`和`intersection`函数来完成这个任务但失败了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:13:08.330

```
In [15]: success = {k:(v if k in data else '') for (k,v) in client_order.items()}

In [16]: success
Out[16]: {'Games': 'Indoor Games', 'Laptops': 'Sony', 'Mobiles': 'HTC', 'Wallet': ''} 
```

以上仅检查密钥。如果您还需要检查该值是否在 中`data`，您可以使用：

```
In [18]: success = {k:(v if v in data.get(k, []) else '') for (k,v) in client_order.items()}

In [19]: success
Out[19]: {'Games': 'Indoor Games', 'Laptops': 'Sony', 'Mobiles': 'HTC', 'Wallet': ''} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:14:42.963

如果什么：

```
data = {'Games' : ['Computer Games', 'Physical Games', 'Indoor Games', 'Outdoor Games'],
        'Mobiles' : ['Apple', 'Samsung', 'Nokia', 'Motrolla', 'HTC'],
        'Laptops' : ['Apple', 'Hp', 'Dell', 'Sony', 'Acer']}
client_order = {'Games' : 'Indoor Games', 'Laptops' : 'Sony', 'Wallet' : 'CK', 'Mobiles' : 'HTC'}

success = {}
for k,v in client_order.items():
    if k in data and v in data[k]:
        success[k] = v
    elif k not in data:
        success[k] = '' 
```

# sencha-touch - 如何设计煎茶单选按钮

> ID：15379945
> 
> 赞同：1
> 
> 时间：2013-03-13T08:10:23.340
> 
> 标签：sencha-touch, radio-button, sencha-touch-2

我知道如何在煎茶中创建单选按钮，但我想知道“**如何设计如下所示的单选按钮**”

![在此处输入图像描述](../Images/16965e7858bd4d123d69a83312c8dade.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T10:03:45.127

这就是我所做的，几乎我明白了。

```
Ext.create('Ext.form.Panel', {
    fullscreen: true,

    layout: 'hbox',
    defaults: {
           labelWidth: '50%',
           labelAlign: 'right'
     },

    items: [
        {
            xtype: 'radiofield',
            name : 'color',
            value: 'red',
            label: 'Red',
            checked: true
        },
        {
            xtype: 'radiofield',
            name : 'color',
            value: 'green',
            label: 'Green'
        },
        {
            xtype: 'radiofield',
            name : 'color',
            value: 'blue',
            label: 'Blue'
        }
    ]
}); 
```

# android - 如何使水平列表视图透明

> ID：15379946
> 
> 赞同：0
> 
> 时间：2013-03-13T08:10:31.560
> 
> 标签：android, transparency, horizontallist

我有一个自定义水平列表视图，我想做的是透明水平列表视图的背景，

我也添加了以下代码

```
android:background="#00000000" 
android:cacheColorHint="#00000000" 
```

和

```
android:background="@android:color/transparent"
android:cacheColorHint="@android:color/transparent" 
```

我用过这样的东西..

```
public void setCacheColorHint(int transparent) {
        // TODO Auto-generated method stub

    } 
```

任何人都可以帮助我，@谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:11:59.777

你应该使用这个

```
android:background="@android:color/transparent"
android:cacheColorHint="@android:color/transparent" 
```

**编辑：-**尝试设置`setCacheColorHint(00000000)`. `ListView`您无需自己创建方法。`ListView`已经有了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:19:52.357

填充列表的项目是否应该是透明的？如果是这样，您必须确保它们的背景是透明的。

哦，顺便说一句`@android:color/transparent`==`#00000000`所以你使用哪个并不重要。

# php - php简单的xml短语多级标签

> ID：15379947
> 
> 赞同：2
> 
> 时间：2013-03-13T08:10:35.740
> 
> 标签：php, xml, simplexml

有可能`simpleXML`解析foreach“categories”->所有“subCategories1”节点（不仅是每个“categories”中的第一个）？

**示例**：需要在subcategories2之后进入subcategories1之后在subcategories3之后，在subcategories2->subcategories3中返回，如果没有更多subcategories2进入subcategories1，如果该分类节点没有subcategories1则执行下一个。

```
<xml>
<categories>
    <tag11>value</tag11>
    <tag12>value</tag12>
    <subCategories1> 
        <tag21>value</tag21>
        <tag22>value</tag22>
        <subCategories2>
            <!-- ........ -->
            <tag31>....</tag31>
        </subCategories2>
    </subCategories1>
</categories>

<categories>
    <subCategories1> 
        <!-- ............... -->
    </subCategories1> 
    <subCategories1> 
        <!-- ............... -->
    </subCategories1> 
</categories>

<!-- ....... -->

<categories>
    <!-- ............ -->
</categories>

</xml> 
```

```
foreach($xml->Categories as $categories){
   foreach ($categories->SubCategories1 as $cat => $value){ 
       //this took only the first SubCategories1 node from all Categories tag...
   }
} 
```

ps我的英语有点生疏。只是为了清楚我需要进入第一个“类别”标签，这里进入“subcategory1”这里“subcategory2”这里所有“subcategoory3”在下一个“subcategory2”中返回一个级别如果存在..如果不进入“子类别1”中的另一个级别，如果存在，则执行相同的规则，否则转到下一个“类别”标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T11:32:09.680

我用 DOMxml 找到了答案 :)

```
$xml = new DOMDocument();
$xml->load($destinationFile);
$categories = $xml->getElementsByTagName("Categories");
foreach( $categories as $category ){
    //..............
    foreach( $category->getElementsByTagName("SubCategories1") as $subcategory1 ){
        //...............
        foreach( $subcategory1->getElementsByTagName("SubCategories2") as $subcategory2 ){
            //............
            foreach( $subcategory2->getElementsByTagName("SubCategories3") as $subcategory3 ){
                ......
            }
        }
    }

} 
```

# linux - TCP 连接可以通过使用不同的 IP 但相同的端口来实现吗？

> ID：15379951
> 
> 赞同：0
> 
> 时间：2013-03-13T08:10:46.413
> 
> 标签：linux, linux-kernel, embedded-linux, redhat

在 Linux 机器上。

使用不同的 IP 但相同的端口绑定

```
(Client_IP:A, Port:B, Server_IP:C, Port:D) ==> TCP connection is established
              :
              : 'usable port is exahusted' 
              :
(Clinet_IP:E, Port:B, Server_IP:C, Port:D) ==> TCP Port binding error... 
```

如果我重用端口 B，Linux 内核发生 tcp 端口绑定错误，因为端口已在使用中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:12:55.940

连接端点由其地址*和*端口（和协议类型）唯一标识。因此，如果您有另一个地址，则可以使用相同的端口，因为它与第一个端点不同。

# mono - 在 Mono 中使用 Novell.Directory.Ldap（适用于 Android 和 Touch）

> ID：15379954
> 
> 赞同：4
> 
> 时间：2013-03-13T08:11:09.107
> 
> 标签：mono, xamarin.ios, ldap, xamarin.android, novell

我想在 MonoTouch 和 Mono For Android 项目中使用 Novell.Directory.Ldap 库。 [http://www.novell.com/coolsolutions/feature/11204.html](http://www.novell.com/coolsolutions/feature/11204.html)

当我在 iOS 模拟器模式中编译我的项目时，它编译没有错误并正确运行（在 iOS 模拟器中）。

当我在 iOS 设备模式下编译我的项目（使用物理设备测试应用程序）时，我收到此错误：

```
Error MT2002: Failed to resolve "System.Void System.Security.Cryptography.RNGCryptoServiceProvider::.ctor(System.Byte[])" reference from "mscorlib, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" (MT2002) (MyProject) 
```

我该如何解决这个问题？我找不到解决方案。

这个库应该适用于 MonoTouch 和 Mono For Android 吗？Mono 有更好的 LDAP 解决方案吗？

更新：我刚刚用 Mono For Android 测试了它。这工作正常。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-13T13:49:23.733

里面有三个问题，所以我把答案分成了三个。请阅读所有这些:-)

> 我该如何解决这个问题？

这是一个普遍的问题，有一个通用的解决方案来解决它。

您编译的代码包含对`"mscorlib, Version=1.0.5000.0`

这可能是因为您没有使用 Xamarin.iOS (MonoTouch) 提供的编译器（名为`smcs`）来构建程序集。该编译器将设置引用以使用正确的`mscorlib.dll`程序集（并报告 MOBILE 配置文件中缺少的任何内容）。

它适用于 Xamarin.Android 的事实*是它使用 JIT（即时编译），因此在***运行时**之前不会找到缺失的成员（如果执行到达该代码）。

OTOH Xamarin.iOS 使用 AOT（提前编译），因为在设备上（Apple）不允许 JIT'ing。**这意味着在构建**时会发现缺失的成员。在这种情况下，（托管）链接器找不到引用并发出 MT2002 错误。

`smcs`因此，解决方案是使用并修复（如果有）构建时间错误来重新构建程序集。例如，该 ctor 不可用的 IIRC `RNGCryptoServiceProvider`（由于无法播种，因此什么也不做），应该用默认的 ctor 替换。

> 这个库应该适用于 MonoTouch 和 Mono For Android 吗？

它应该。然而，我的*个人*经验`Novell.Directory.Ldap`并不是**很好**（代码和设计问题，例如线程，特别是启用 SSL 的情况下）。

此外，代码已经有一段时间没有更新了。为您的 LDAP 需求寻找（托管或本机）替代方案可能会为您提供更好的服务。

> Mono 有更好的 LDAP 解决方案吗？

遗憾的是，我没有使用任何其他类似的库，所以我无法提出替代方案（但也许其他人可以提供帮助）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-16T13:17:40.077

问题已经解决了。

我没有使用 Novell 的 dll，而是下载了 Novell LDAP 库的所有源文件并将它们放入一个新的库项目中。然后我从我自己的 Mono 项目中引用了该库。

在编译我的项目和库项目时，我从库项目中收到了一些错误。手动解决这些错误后，它适用于两者（MonoTouch 和 Mono for Android）。

# c# - 我正在使用 tinyMCE mceInsertContent 为什么要删除前斜线？

> ID：15379961
> 
> 赞同：2
> 
> 时间：2013-03-13T08:11:28.373
> 
> 标签：c#, tinymce

这是我的代码

```
tinyMCEPopup.editor.execCommand('mceInsertContent', false, '<a href="<ers:redirectURL>https//yahoo.com</a>">xxx</a>'); 
```

但输出看起来像这样

```
<ers:redirectURL>https/yahoo.com</a> 
```

只有1个前斜线？https/yahoo.com

我认为问题的原因是`<ers:redirectURL>` 但我需要把这个标签放在`<ers:redirectURL>`URL 之间。

请帮忙。

* * *

无论如何，我得到了答案。只需将其添加到 tinyMCE.init

转换网址：假

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:32:37.407

不应该是 ':' 在 url 中，并且只有一个`</a>`（不确定它是否会起作用，结果是奇怪的 url）：

```
tinyMCEPopup.editor.execCommand('mceInsertContent', false, '<a href="<ers:redirectURL>https://yahoo.com">xxx</a>'); 
```

此外，在您的 tiny_mce 配置中，添加`convert_urls : false`和设置

```
'relative_urls : false' 
```

# python - Python中不规则曲线的弧长

> ID：15379963
> 
> 赞同：1
> 
> 时间：2013-03-13T08:11:34.997
> 
> 标签：python, opencv, contour

我试图通过选择它上面的两个点来找到容器的弧长。

该函数`cv.ArcLength()`引发以下异常：

```
TypeError: All elements of sequence 'curve' must be same size 
```

这是我的代码：

```
contours,hierarchy = cv2.findContours(edges,cv2.RETR_TREE,cv2.CHAIN_APPROX_NONE)
adist=cv.ArcLength(contours,(x1,x2), isClosed=-1) 
```

变量的值`x1`和`x2`是从鼠标事件中获得的。

有谁知道解决方案？是否可以通过在不规则曲线上积分来找到弧长？

# .net - .net 是否有基于规则的数据合并或组合库？

> ID：15379967
> 
> 赞同：1
> 
> 时间：2013-03-13T08:11:45.337
> 
> 标签：.net, merge

我正在寻找可用于构建基于规则的数据合并应用程序的任何可用库或工具。例如，我试图实现的一个例子：

场景：我从 2 个提供商 ProviderA 和 ProviderB 收到类似的股票上市公司数据

```
Provider A:
Name : Nokia Oy
Ticker : NOK1V
Country of Issue : Finland
Risk Country : Finland

Provider B:
Name : Nokia Oy
Ticker : NOK1V
Country of Issue : Finland
Risk Country : USA 
```

我想使用一条规则合并来自提供者 A 和提供者 B 的数据

```
When Ticker = NOK1V then use Provider B except for RiskCountry -> Use Provider A 
```

这需要是用户可配置的，所以像 SSIS 这样的 ETL 工具不是我在这里寻找的。

# java - 蓝牙插座冻结电话

> ID：15379980
> 
> 赞同：9
> 
> 时间：2013-03-13T08:12:31.320
> 
> 标签：java, android, sockets, bluetooth, rfcomm

我正在为 Android 开发一个应用程序。此应用程序应与蓝牙 (BT) 设备通信（发送一些字节）。我在我的设备（Samsung Galaxy mini）上调试/运行此应用程序时遇到问题。当我创建一个 BT 插座并停止调试时，手机死机，我必须通过取出电池重新启动它。如果运行这个应用程序（从 Eclipse）一切正常，但是当我再次尝试运行它时，手机冻结并且应用程序没有安装。如果我在第二次运行之前尝试手动卸载此应用程序，手机会再次冻结。这是一个有问题的代码：

```
private final BluetoothDevice mmDevice;
private UUID uuid;

public ConnectionThread(BluetoothDevice device) {
    Log.d(TAG, "create ConnectionThread");

    uuid = UUID.fromString("00001101-0000-1000-8000-00805F9B34FB"); 
    BluetoothSocket tmp = null;
    mmDevice = device;

    try {
        tmp = mmDevice.createRfcommSocketToServiceRecord(uuid);
    } catch (IOException e) { }
    mmSocket = tmp;
    socketConnected = true;
} 
```

这是线程的构造函数。当我评论该行时

```
 tmp = mmDevice.createRfcommSocketToServiceRecord(uuid); 
```

电话不会冻结，所以问题在于创建套接字（未连接）。每次调试或运行后重新启动手机非常烦人，我还需要做很多工作。

如果我从手机（从 Eclipse 断开）运行这个应用程序，它可以正常工作。任何想法可能是一个问题或如何解决它？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-02T09:44:00.320

我也面临同样的问题，你可以使用反射方法它会工作

```
Method m = device.getClass().getMethod("createRfcommSocket", new Class[] {int.class});
BluetoothSocket socket = socket = (BluetoothSocket) m.invoke(device, 1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T00:23:46.810

我也在使用 SGSIII mini 进行开发。以下代码对我很有效：

```
 private class ConnectThread extends Thread {
    private final BluetoothSocket mmSocket;
    private final BluetoothDevice mmDevice;

    public ConnectThread(BluetoothDevice device) {
        mmDevice = device;

        BluetoothSocket tmp = null;

        // Get a BluetoothSocket for a connection with the
        // given BluetoothDevice
        try {
            //tmp = device.createRfcommSocketToServiceRecord(MY_UUID);
            tmp = device.createInsecureRfcommSocketToServiceRecord(MY_UUID);
        } catch (IOException e) {
            Log.e(LOG_TAG, "create() failed", e);
        }
        mmSocket = tmp;

        Main.myBluetoothSocket = mmSocket;
        Main.myBluetoothDevice = mmDevice;
    }

    @Override
    public void run() {
        Log.i(LOG_TAG, "BEGIN mConnectThread");
        setName("ConnectThread");

        // Always cancel discovery because it will slow down a connection
        mAdapter.cancelDiscovery();

        // Send a failure message back to the Activity
        Message msg = mHandler.obtainMessage(MESSAGE_TOAST);
        Log.e(LOG_TAG, "Attempting connection to " + mmSocket.getRemoteDevice().getName());
        String ss = "Attempting connection to " + mmSocket.getRemoteDevice().getName();
        Bundle bundle = new Bundle();
        bundle.putString(TOAST, ss);
        msg.setData(bundle);
        mHandler.sendMessage(msg);

        // Make a connection to the BluetoothSocket
        try {
            // This is a blocking call and will only return on a
            // successful connection or an exception
            mmSocket.connect();
        } catch (IOException e) {
            Log.e(LOG_TAG, "*+*+*+*   Connection Failed");
            connectionFailed();
            // Close the socket
            try {
                mmSocket.close();
            } catch (IOException e2) {
                Log.e(LOG_TAG, "unable to close() socket during connection failure", e2);
            }
            // Start the service over to restart listening mode
            BluetoothCommandService.this.start();
            return;
        }

        // Reset the ConnectThread because we're done
        synchronized (BluetoothCommandService.this) {
            mConnectThread = null;
        }

        // Start the connected thread
        connected(mmSocket, mmDevice);
    }

    public void cancel() {
        try {
            mmSocket.close();
        } catch (IOException e) {
            Log.e(LOG_TAG, "close() of connect socket failed", e);
        }
    }
} 
```

# ruby - SoX - Sound eXchange 可以在 heroku 上工作吗？

> ID：15379982
> 
> 赞同：-1
> 
> 时间：2013-03-13T08:12:36.923
> 
> 标签：ruby, heroku, sox

我需要在 heroku 上托管一个测试应用程序。它使用 SoX 拆分文件并存储拆分文件（仅临时）。

在这种情况下使用[ruby​​s Dir.mktmpdir会起作用吗？](http://apidock.com/ruby/Dir/mktmpdir/class)

还是我必须使用[#{RAILS_ROOT}/tmp/myfile_#{Process.pid}](https://devcenter.heroku.com/articles/read-only-filesystem)？

这适用于 SoX 吗？

非常感谢任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:55:24.953

Heroku 具有只读文件系统，或者更准确地说，是临时可写文件系统。这意味着您可以在运行时对实际实例做很少的事情。要了解有关限制的更多信息，请访问[Heroku 文档](https://devcenter.heroku.com/articles/read-only-filesystem)。

我认为你有2个选择...

*   在某个地方租用另一个 VPS 或 EC2 并在那里进行 SoX 操作。在 S3 或类似的东西中操作存储文件之前和之后。这样您就可以在其他服务器上进行操作，但仍将您的应用程序托管在 Heroku 上。
*   尝试使用[自定义 buildpuck](https://devcenter.heroku.com/articles/buildpacks)构建您自己的 Heroku 实例，并将 S3 挂载为远程驱动器。然后你可以写实例；但仍然是个坏主意，因为您可能正在做一些激烈的 IO 事情。

还要记住，Heroku 也有 3rd 方插件，其中之一是[Zencoder](https://addons.heroku.com/zencoder)，witch 提供[各种格式的转码](http://zencoder.com/en/formats)，你也可以看看。

# eclipse - Eclipse 代码行更改

> ID：15379993
> 
> 赞同：3
> 
> 时间：2013-03-13T08:13:23.300
> 
> 标签：eclipse, netbeans, version-control, eclipse-plugin

我经常从 Eclipse 切换到 Netbeans 并返回。Netbeans 中有一个功能允许您查看由于存储库而更改的代码行。

例子： ![在此处输入图像描述](../Images/02ec6190f57c64eb5c9985f518a7deae.png)

Eclipse中有类似的东西吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T09:04:58.520

是的，右键单击文件`Team`->`Show Annotation...`当您将鼠标悬停在彩色行号上时，您会看到提交用户和提交消息。如果是局部变化，它只是白色的。

![注释](../Images/09bc98deba536c84a3bd688015b136c8.png)

# python - 检测迭代器是否会被消耗

> ID：15379994
> 
> 赞同：13
> 
> 时间：2013-03-13T08:13:23.783
> 
> 标签：python

是否有一种统一的方法可以知道迭代是否会消耗可迭代对象？

假设您有一个特定的函数`crunch`，它要求一个可迭代对象作为参数，并多次使用它。就像是：

```
def crunch (vals):

    for v in vals:
        chomp(v)

    for v in vals:
        yum(v) 
```

（注意：将两个`for`循环合并在一起不是一种选择）。

如果使用不是列表的可迭代对象调用函数，则会出现问题。在以下调用中，该`yum`函数永远不会执行：

```
crunch(iter(range(4)) 
```

我们原则上可以通过重新定义`crunch`函数来解决这个问题，如下所示：

```
def crunch (vals):
    vals = list(vals)

    for v in vals:
        chomp(v)

    for v in vals:
        yum(v) 
```

`crunch`但是，如果调用是：这将导致使用两倍的内存：

```
hugeList = list(longDataStream)
crunch(hugeList) 
```

我们可以通过这样定义来解决这个`crunch`问题：

```
def crunch (vals):
    if type(vals) is not list:
        vals = list(vals)

    for v in vals:
        chomp(v)

    for v in vals:
        yum(v) 
```

但是仍然存在调用代码将数据存储在某些东西中的情况

*   不能消费
*   不是列表

例如：

```
from collections import deque
hugeDeque = deque(longDataStream)
crunch(hugeDeque) 
```

有一个谓词会很好`isconsumable`，这样我们就可以`crunch`这样定义：

```
def crunch (vals):
    if isconsumable(vals):
        vals = list(vals)

    for v in vals:
        chomp(v)

    for v in vals:
        yum(v) 
```

这个问题有解决方案吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T08:21:37.080

一种可能性是测试项目是否为序列，使用`isinstance(val, collections.Sequence)`. 非消耗性仍然不能完全保证，但我认为这是你能得到的最好的。Python 序列必须有一个长度，这意味着至少它不能是一个开放式迭代器，并且通常意味着必须提前知道元素，这反过来意味着它们可以被迭代不消耗它们。仍然可以编写符合序列协议但不可重复迭代的病态类，但您将永远无法处理这些。

请注意，既不是`Iterable`也不`Iterator`是合适的选择，因为这些类型不保证长度，因此不能保证迭代甚至是有限的，更不用说可重复了。但是，您可以同时检查`Sized`和`Iterable`。

重要的是记录您的函数将对其参数进行两次迭代，从而警告用户他们必须传入支持此参数的对象。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-13T08:27:53.923

另一个附加选项可能是查询可迭代对象是否是它自己的迭代器：

```
if iter(vals) is vals:
    vals = list(vals) 
```

因为在这种情况下，它只是一个迭代器。

这适用于为“一次运行”而设计的生成器、迭代器、文件和许多其他对象，换句话说，所有本身就是迭代器的迭代器，因为[迭代器`self`从它的`__iter__()`](http://docs.python.org/2/library/stdtypes.html#iterator.__iter__).

但这可能还不够，因为有些对象在迭代时会清空自己，而不是自己的迭代器。

* * *

通常，自消费对象将是它自己的迭代器，但在某些情况下可能不允许这样做。

想象一个包含一个列表并在迭代时清空该列表的类，例如

```
class ListPart(object):
    """Liste stückweise zerlegen."""
    def __init__(self, data=None):
        if data is None: data = []
        self.data = data
    def next(self):
        try:
            return self.data.pop(0)
        except IndexError:
            raise StopIteration
    def __iter__(self):
        return self
    def __len__(self): # doesn't work with __getattr__...
        return len(self.data) 
```

你称之为

```
l = [1, 2, 3, 4]
lp = ListPart(l)
for i in lp: process(i)
# now l is empty. 
```

如果我现在将其他数据添加到该列表并再次遍历同一对象，我将获得[违反协议](http://docs.python.org/2/library/stdtypes.html#iterator-types)的新数据：

> 该协议的意图是一旦迭代器的`next()`方法 raise `StopIteration`，它将在后续调用中继续这样做。不遵守此属性的实现被视为已损坏。（此约束是在 Python 2.3 中添加的；在 Python 2.2 中，根据此规则破坏了各种迭代器。）

所以在这种情况下，尽管对象是自消耗的，但它必须返回一个与自身不同的迭代器。在这种情况下，这可以通过

```
def __iter__(self):
    while True:
        try:
            yield l.pop(0)
        except IndexError: # pop from empty list
            return 
```

它在每次迭代时返回一个新的生成器——在我们正在讨论的情况下，它会通过 mash 下降。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-13T08:21:24.660

```
def crunch (vals):
    vals1, vals2 = itertools.tee(vals, 2)

    for v in vals1:
        chomp(v)

    for v in vals2:
        yum(v) 
```

在这种情况下，由于一个迭代器在另一个迭代器启动之前完成，`tee`最终将在内部存储整个`vals`

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-13T09:53:35.647

许多答案都接近重点，但错过了它。

An**`Iterator`**是一个通过迭代消耗的对象。没有其他办法了。迭代器对象的示例是调用返回的对象或[模块](http://docs.python.org/2/library/itertools.html)[`iter()`](http://docs.python.org/2/library/functions.html#iter)中的函数返回的对象。[`itertools`](http://docs.python.org/2/library/itertools.html)

检查对象是否为迭代器的正确方法是调用`isinstance(obj, Iterator)`. 这基本上检查对象是否实现了该`next()`方法（`__next__()`在 Python 3 中），但您不需要关心这一点。

所以，请记住，迭代器总是被消耗掉的。例如：

```
# suppose you have a list
my_list = [10, 20, 30]
# and build an iterator on the list
my_iterator = iter(my_list)
# iterate the first time over the object
for x in my_iterator:
    print x
# then again
for x in my_iterator:
    print x 
```

这将只打印**一次**列表的内容。

然后是`Iterable`对象。当您调用`iter()`可迭代对象时，它将返回一个迭代器。在这个页面上评论我犯了一个错误，所以我会在这里澄清。可迭代对象不需要在每次调用时都返回一个*新的迭代器。*许多迭代器本身是可迭代的（即您可以调用`iter()`它们）并且它们将返回对象本身。

一个简单的例子是列表迭代器。`iter(my_list)`并且`iter(iter(my_list))`是同一个对象，这基本上是@glglgl answer正在检查的内容。

[迭代器协议](http://docs.python.org/2/library/stdtypes.html#iterator-types)要求迭代器对象将自己作为自己的迭代器返回（因此是可迭代的）。这不是迭代机制工作所必需的，但您将无法循环遍历迭代器对象。

综上所述，您应该做的是检查您是否获得了迭代器，如果是这样，请复制迭代结果（使用`list()`）。你`isconsumable(obj)`是（正如有人已经说过的那样）`isinstance(obj, Iterator)`。

请注意，这也适用于`xrange()`. `xrange(10)`返回一个`xrange`对象。每次迭代 xrange 对象时，它都会从头开始返回一个新的迭代器，所以你很好，不需要复制。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-13T17:28:36.233

这是[定义的摘要](http://docs.python.org/glossary.html)。

### 容器

*   带有`__contains__`方法的对象

### 发电机

*   返回迭代器的函数。

### 可迭代的

*   带有`__iter__()`or`__getitem__()`方法的对象。
*   可迭代的示例包括所有序列类型（如 list、str 和 tuple）和一些非序列类型，如 dict 和 file。
*   当可迭代对象作为参数传递给内置函数`iter()`时，它会返回该对象的迭代器。此迭代器适用于遍历一组值。

### 迭代器

*   具有`next()`方法的可迭代对象。
*   迭代器需要有一个 `__iter__()`返回迭代器对象本身的方法。
*   迭代器适用于遍历一组值。

### 顺序

*   `__getitem__()`一个迭代，它通过特殊方法支持使用整数索引进行有效的元素访问，并定义了一个`len()`返回序列长度的方法。
*   一些内置的序列类型是`list`、`str`、 `tuple`和`unicode`。
*   请注意， dict 也支持`__getitem__()`and `__len__()`，但被认为是映射而不是序列，因为查找使用任意不可变键而不是整数。

* * *

现在有多种方法可以测试一个对象是否是可迭代的、迭代器或某种序列。以下是这些方法的摘要，以及它们如何对各种对象进行分类：

```
 Iterable Iterator iter_is_self Sequence MutableSeq
object                                                           
[]                 True    False        False     True       True
()                 True    False        False     True      False
set([])            True    False        False    False      False
{}                 True    False        False    False      False
deque([])          True    False        False    False      False
<listiterator>     True     True         True    False      False
<generator>        True     True         True    False      False
string             True    False        False     True      False
unicode            True    False        False     True      False
<open>             True     True         True    False      False
xrange(1)          True    False        False     True      False
Foo.__iter__       True    False        False    False      False

                Sized has_len has_iter has_contains
object                                             
[]               True    True     True         True
()               True    True     True         True
set([])          True    True     True         True
{}               True    True     True         True
deque([])        True    True     True        False
<listiterator>  False   False     True        False
<generator>     False   False     True        False
string           True    True    False         True
unicode          True    True    False         True
<open>          False   False     True        False
xrange(1)        True    True     True        False
Foo.__iter__    False   False     True        False 
```

每列指代一种不同的可迭代对象分类方式，每一行指代不同种类的对象。

* * *

```
import pandas as pd
import collections
import os

def col_iterable(obj):
    return isinstance(obj, collections.Iterable)

def col_iterator(obj):
    return isinstance(obj, collections.Iterator)

def col_sequence(obj):
    return isinstance(obj, collections.Sequence)

def col_mutable_sequence(obj):
    return isinstance(obj, collections.MutableSequence)

def col_sized(obj):
    return isinstance(obj, collections.Sized)

def has_len(obj):
    return hasattr(obj, '__len__')

def listtype(obj):
    return isinstance(obj, types.ListType)

def tupletype(obj):
    return isinstance(obj, types.TupleType)

def has_iter(obj):
    "Could this be a way to distinguish basestrings from other iterables?"
    return hasattr(obj, '__iter__')

def has_contains(obj):
    return hasattr(obj, '__contains__')

def iter_is_self(obj):
    "Seems identical to col_iterator"
    return iter(obj) is obj

def gen():
    yield

def short_str(obj):
    text = str(obj)
    if text.startswith('<'):
        text = text.split()[0] + '>'
    return text

def isiterable():
    class Foo(object):
        def __init__(self):
            self.data = [1, 2, 3]

        def __iter__(self):
            while True:
                try:
                    yield self.data.pop(0)
                except IndexError:  # pop from empty list
                    return

        def __repr__(self):
            return "Foo.__iter__"
    filename = 'mytestfile'
    f = open(filename, 'w')
    objs = [list(), tuple(), set(), dict(),
            collections.deque(), iter([]), gen(), 'string', u'unicode',
            f, xrange(1), Foo()]
    tests = [
        (short_str, 'object'),
        (col_iterable, 'Iterable'),
        (col_iterator, 'Iterator'),
        (iter_is_self, 'iter_is_self'),
        (col_sequence, 'Sequence'),
        (col_mutable_sequence, 'MutableSeq'),
        (col_sized, 'Sized'),
        (has_len, 'has_len'),
        (has_iter, 'has_iter'),
        (has_contains, 'has_contains'),
    ]
    funcs, labels = zip(*tests)
    data = [[test(obj) for test in funcs] for obj in objs]
    f.close()
    os.unlink(filename)
    df = pd.DataFrame(data, columns=labels)
    df = df.set_index('object')
    print(df.ix[:, 'Iterable':'MutableSeq'])
    print
    print(df.ix[:, 'Sized':])

isiterable() 
```

# c# - TDD - 为什么这个 Assert.AreSame 会通过？

> ID：15379998
> 
> 赞同：2
> 
> 时间：2013-03-13T08:13:48.183
> 
> 标签：c#, tdd, mstest, assert

我有一个测试方法...

```
[TestMethod]
public void MainViewModel_PropertiesReflectDataEntityProperties()
{
    // Arrange
    var facilityDataEntity = MockRepository.GenerateStub<FacilityDataEntity>();
    var shopOrderDataEntity = MockRepository.GenerateStub<ShopOrderDataEntity>();

    // Act
    MainViewModel mainViewModel = new MainViewModel(facilityDataEntity, shopOrderDataEntity);

    // Assert
    Assert.AreSame(facilityDataEntity.Value, mainViewModel.FacilityValue);
} 
```

...并且测试通过了。但是，我还没有实现将 DataEntity 的属性映射到 MainViewModel 的属性！怎么会这样？我认为 AreSame 检查两个引用是否指向同一个实例。

```
public class MainViewModel
{
    private readonly FacilityDataEntity facilityDataEntity;
    private readonly ShopOrderDataEntity shopOrderDataEntity;

    public MainViewModel(FacilityDataEntity facilityDataEntity)
    {
        this.facilityDataEntity = facilityDataEntity;
    }

    public MainViewModel(FacilityDataEntity facilityDataEntity, ShopOrderDataEntity shopOrderDataEntity)
    {
        this.facilityDataEntity = facilityDataEntity;
        this.shopOrderDataEntity = shopOrderDataEntity;
    }

    public ShopOrderDataEntity ShopOrderDataEntity
    {
        get { return shopOrderDataEntity; }
    }

    public FacilityDataEntity FacilityDataEntity
    {
        get { return facilityDataEntity; }
    } 

    public int ShopOrder { get; set; }

    public decimal RequiredQuantity { get; set; }

    public string ItemCode { get; set; }

    public string ItemDescription { get; set; }

    public string FacilityValue { get; set; }

    public string FacilityLabel { get; set; }

    public static IEnumerable<MainViewModel> TranslateDataEntityList(IEnumerable<FacilityDataEntity> facilityDataEntityList)
    {
        foreach (FacilityDataEntity facilityDataEntity in facilityDataEntityList)
        {
            yield return new MainViewModel(facilityDataEntity);
        }
    }

    public static IEnumerable<MainViewModel> TranslateDataEntityList(FacilityDataEntity facilityDataEntity, IEnumerable<ShopOrderDataEntity> shopOrderDataEntityList)
    {
        foreach (ShopOrderDataEntity shopOrderDataEntity in shopOrderDataEntityList)
        {
            yield return new MainViewModel(facilityDataEntity, shopOrderDataEntity);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-13T08:30:55.837

在这一切之下，这些测试只是使用[`Object.ReferenceEquals`](http://msdn.microsoft.com/en-gb/library/system.object.referenceequals.aspx)：

> **如果***objA是与**objB*相同的实例，或者两者都为**null** ，则为true ；否则，**false**。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T08:21:18.643

我想这正在发生，因为它们都是`null`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-13T08:18:09.257

在这种情况下，我会说它比较 null 和 null，它们是相同的。

# android - 是否可以阻止 Google Play 应用在安装时创建我的应用的快捷方式？

> ID：15379999
> 
> 赞同：13
> 
> 时间：2013-03-13T08:13:59.040
> 
> 标签：android, google-play

当您通过 Google Play 安装应用程序时，会在您的主屏幕上创建该应用程序的快捷方式。用户可以通过禁用 Google Play 应用程序中的“自动添加小部件”设置来防止这种情况发生。

从开发人员的角度来看，我想知道是否可以在我自己的应用程序中防止这种情况发生。是否有清单设置或其他内容告诉 Google 不要在安装时为我的应用创建图标？

没有启动器活动不是我的应用程序的选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T11:33:42.007

[http://viralpatel.net/blogs/android-install-uninstall-shortcut-example/](http://viralpatel.net/blogs/android-install-uninstall-shortcut-example/) 本教程对于在主页上添加或删除快捷方式非常有用

从主屏幕卸载快捷方式类似于在 Android 中安装、卸载或删除快捷方式，使用 Intent (UNINSTALL_SHORTCUT) 来执行任务。在以下代码中，我们删除了添加在主屏幕上的快捷方式。

同样，我们需要执行卸载快捷方式任务的权限。向 Android 清单 xml 添加以下权限。

```
private void removeShortcut() {

        //Deleting shortcut for MainActivity 
        //on Home screen
        Intent shortcutIntent = new Intent(getApplicationContext(),
                MainActivity.class);
        shortcutIntent.setAction(Intent.ACTION_MAIN);

        Intent addIntent = new Intent();
        addIntent
                .putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortcutIntent);
        addIntent.putExtra(Intent.EXTRA_SHORTCUT_NAME, "HelloWorldShortcut");

        addIntent
                .setAction("com.android.launcher.action.UNINSTALL_SHORTCUT");
        getApplicationContext().sendBroadcast(addIntent);
    } 
```