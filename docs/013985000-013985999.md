# StackOverflow 问答 13985000-13985999

# google-chrome - 资源解释为文档，但使用 MIME 类型 image/jpeg 传输

> ID：13985003
> 
> 赞同：11
> 
> 时间：2012-12-21T05:58:49.753
> 
> 标签：google-chrome, fancybox, mime-types, filepicker.io

我正在使用 Filepicker.io 来处理我在我的网站上上传的图片。

我还使用 FancyBox 来显示一个不错的滑块。如果我使用像这样的常规图像，一切正常：`http://i.imgur.com/asdf.jpeg`作为`<img src="">`. 这意味着我单击图像，滑块正确弹出。

但是，当我切换出那些静态图像 url 并使用我的 Filepicker 地址时，当我单击图像打开 fancybox 时，图像就会被下载。

这是我在 Google Chrome 上的控制台中收到的消息：

> 资源解释为文档，但使用 MIME 类型 image/jpeg 传输：“https://www.filepicker.io/api/file/yknn4hWSOOm2NLZYGR3O?dl=false”。

有什么建议么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-21T08:40:10.557

由于您的链接：

```
https://www.filepicker.io/api/file/yknn4hWSOOm2NLZYGR3O?dl=false 
```

没有`image`扩展名（jpg、png、gif），fancybox 不知道`type`需要处理哪些内容。您需要通过添加 API 选项来告诉它，`"type": "image"`例如：

```
$(".fancybox").fancybox({
   "type": "image"
}); 
```

这是记录在这里[http://fancybox.net/faq](http://fancybox.net/faq)，第 6 号（如果使用 v1.3.4），或这里[http://fancyapps.com/fancybox/#support](http://fancyapps.com/fancybox/#support)，FAQ 选项卡，第 5 号（如果使用 v2 。X）。

有关如何处理此问题的更多选项，请参见此处： [https ://stackoverflow.com/a/17554660/1055987](https://stackoverflow.com/a/17554660/1055987)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T20:30:46.123

另一种选择是将文件名附加到 url 上，例如： [https ://www.filepicker.io/api/file/yknn4hWSOOm2NLZYGR3O+photo.png?dl=false](https://www.filepicker.io/api/file/yknn4hWSOOm2NLZYGR3O+photo.png?dl=false)

Filepicker.io 会忽略 + 号之后文件链接上的任何内容，以使您的 url 更“适配器友好”

# multithreading - Win32消息循环，不同线程中的OpenGL上下文

> ID：13985004
> 
> 赞同：0
> 
> 时间：2012-12-21T05:59:04.073
> 
> 标签：multithreading, winapi, opengl

在一个单独的线程中创建一个窗口有什么问题，它也将包含消息循环，然后在另一个线程中创建一个 OpenGL 上下文？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T06:08:24.927

如果你小心的话，你应该能够让它工作。请参阅[并行 opengl 常见问题解答](http://www.equalizergraphics.com/documentation/parallelOpenGLFAQ.html)。

> ```
> Q: Why does my OpenGL application crash/not work when 
>    I am rendering from another thread?
> A: The OpenGL context is thread-specific. You have to 
>    make it current in the thread using glXMakeCurrent, 
>    wglMakeCurrent or aglSetCurrentContext, depending on 
>    your operating system. 
> ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T11:26:47.950

你想做的事是完全可能的。更好的是，OpenGL 上下文可以在线程之间迁移，甚至可以与多个窗口一起使用，只要它们的像素格式兼容。一个限制是，OpenGL 上下文一次只能绑定在一个线程中，并且只能绑定未绑定的上下文。

因此，您甚至可以在一个线程中创建窗口和上下文，然后取消绑定上下文，创建另一个线程并将上下文重新绑定到辅助线程中的窗口。那里没问题。

您必须注意的唯一一件事是，OpenGL 本身不喜欢多线程。API 本身或多或少是线程安全的，因为一次只能将一个上下文绑定到一个线程。但是，如果 OpenGL 操作在多个线程上产生所需的所有簿记可能会触发令人讨厌的驱动程序错误，并且还会对性能产生一定的影响。

# matlab - Matlab 3d 等高线图

> ID：13985005
> 
> 赞同：1
> 
> 时间：2012-12-21T05:59:12.587
> 
> 标签：matlab, contour

我有一个包含 [xyz F] 的数组。我想绘制一个轮廓，描绘使用给定属性 F 寻址的每个点 (x,y,z)。F 可能是能量或其他东西。

如何`isosurface`在同一图中绘制具有不同 f 的轮廓？

我已经设法从 ANSYS 进行直接模式叠加法（DMSM），但似乎`ansys`不包括此功能。

# soap - SOAP-ENV:服务器

> ID：13985008
> 
> 赞同：1
> 
> 时间：2012-12-21T05:59:27.373
> 
> 标签：soap, header

嗨，我遇到了 SOAP 问题，当我调用我的服务时，我收到此错误：

```
 <env:Fault xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/">
     <faultcode>SOAP-ENV:Server</faultcode>
     <faultstring>Error occured while service was processing.</faultstring>
  </env:Fault> 
```

你知道如何解决这个问题然后请帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:02:52.070

这不是一个特定问题的症状。它所说的只是“处理服务时发生错误。”。

您必须查看任何服务器日志以找出这是什么错误。

# c# - 委托给实例方法不能有 null 'this'

> ID：13985012
> 
> 赞同：3
> 
> 时间：2012-12-21T05:59:43.043
> 
> 标签：c#, constructor, delegates, action

假设我有一个声明如下的类：

```
public class ExampleClass 
{
   public Action<int> Do { get; set; }

   public ExampleClass()
   {
   }

   public void FuncA(int n)
   {
       //irrelevant code here
   }

   public void FuncB(int n)
   {
       //other irrelevant code here
   }
} 
```

我希望能够像这样使用这个类

`ExampleClass excl = new ExampleClass() { Do = FuncA }`

或者

`ExampleClass excl = new ExampleClass() { Do = excl.FuncA }`

或者

`ExampleClass excl = new ExampleClass() { Do = ExampleClass.FuncA }`

我可以在那里编译第二个选项，但是`"Delegate to an instance method cannot have null 'this'."`当我点击该代码时出现异常。第三个甚至没有意义，因为 FuncA 不是静态的。

在我的实际代码中，它可能会绑定 10-15 个不同的函数，我可以随时添加或删除它们，所以我不想有一个大的 switch 或 it-else 语句. 此外，在实例化类时能够为“Do”分配一个值非常方便。

我只是使用了不正确的语法吗？有没有更好的方法来创建一个类并在一行中分配一个动作？我应该直接管理并管理一个巨大的 switch 语句吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:03:16.893

您必须创建类的实例，然后将属性设置为实例成员。就像是：

```
ExampleClass excl = new ExampleClass();
excl.Do = excl.FuncA; 
```

对于您的线路：

```
ExampleClass excl = new ExampleClass() { Do = FuncA } 
```

如果没有类的实例，FuncA 是不可见的。

为了：

```
ExampleClass excl = new ExampleClass() { Do = excl.FuncA } 
```

尚未创建实例，这就是您获得空引用异常的原因。

为了：

```
ExampleClass excl = new ExampleClass() { Do = ExampleClass.FuncA } 
```

`FuncA`不是静态方法，你不能用类名访问它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T06:03:50.527

在对象初始化器语法中，您无法在明确分配之前访问正在初始化的变量：

```
ExampleClass excl = new ExampleClass() 
{ 
    Do = excl.FuncA //excl is unavailable here
} 
```

阅读[Object and Collection Initializers (C# Programming Guide)](http://msdn.microsoft.com/en-us/library/vstudio/bb384062.aspx)了解更多信息。

* * *

例如，您可以执行以下操作：

```
public class ExampleClass
{
    public Action<int> Do { get; set; }

    public ExampleClass(bool useA)
    {
        if (useA)
            Do = FuncA;
        else
            Do = FuncB;
    }

    public void FuncA(int n)
    {
        //irrelevant code here
    }

    public void FuncB(int n)
    {
        //other irrelevant code here
    }

} 
```

并使用它：

```
 ExampleClass exclA = new ExampleClass(true);
 ExampleClass exclB = new ExampleClass(false); 
```

* * *

另一个想法是，如果这些函数可以声明为`static`（即它们不需要 的任何实例成员`ExampleClass`），那么这将起作用：

```
public class ExampleClass
{
    public Action<int> Do { get; set; }

    public ExampleClass() { }

    public static void FuncA(int n) { /*...*/}

    public static void FuncB(int n) { /*...*/}
} 
```

并以您想要的方式使用它：

```
ExampleClass excl = new ExampleClass() { Do = ExampleClass.FuncA }; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-04T11:18:04.497

如果您有扩展方法，请确保在调用扩展方法或处理扩展方法中的空值之前这些值不为空。

例如

```
public static ExtensionClass 
{ 
    public static bool RunExtensionMethod(this object myObject)
    { 
        var someExecutionOnMyObject = myObject.IsValid();
        //the above line would invoke the exception when myObject is null
        return someExecutionOnMyObject ;
    }
}

public void CallingMethod()
{
    var myObject = getMyObject();

    if(myObject.RunExtensionMethod()) //This would cause "delete to an instance method cannot have null" if myObject is null
    {

    }
} 
```

如果您拥有扩展类，要处理这种情况，请处理空值并断言空值。

```
public static ExtensionClass 
{ 
    public static bool RunExtensionMethod(this object myObject)
    { 
         if(myObject == null) throw new ArgumentNullException(nameof(myObject));

        var someExecutionOnMyObject = myObject.IsValid();
        return someExecutionOnMyObject ;
    }
}

public void CallingMethod()
{
    var myObject = getMyObject();

    if(myObject != null && myObject.RunExtensionMethod())
    {

    }
} 
```

# qt - DirectFB/QT Embedded 中的 USB 鼠标热插拔

> ID：13985014
> 
> 赞同：0
> 
> 时间：2012-12-21T05:59:50.610
> 
> 标签：qt, directfb, qtembedded, hotplugging

在 DirectFB 1.2.9 或 Qt Embedded 4.7.3 中有什么方法可以实现 USB 鼠标的热插拔？

目前我的应用程序堆栈是这样的..

```
 -----------------
       GUI
 -----------------
 Qt Embedded 4.7.3
 -----------------
   DirectFB 1.2.9
 -----------------
 /dev/input/eventX
 ----------------- 
```

DirectFB 打开 Linux 输入设备节点。Qt 使用 QSocketNotifier 等待 DirectFB 事件缓冲区并设置一个插槽来读取鼠标数据。但是在热插拔时，DirectFB 不会打开设备节点，也不会生成鼠标事件。

据我所知，DirectFb 不支持热插拔。

我尝试禁用 DirectFB 对 Linux 输入设备的处理（从 directfbrc 中的 linux-input-devices= 选项中删除 dev 节点），并设置 QWS_MOUSE_PROTO="linuxinput:.." 但这由于某种原因不起作用。似乎没有生成鼠标事件。即使我设法让它工作，我也不认为 QT 对热插拔提供任何支持。

那么我唯一的替代子类 QMouseDriverPlugin 和 QWSMouseHandle 类吗？为此，我还没有弄清楚如何让 QT 使用我实现的子类。即，一旦我实现了这些类，我如何将它们链接到 QT 输入设备处理框架中，以便我可以设置类似 QWS_MOUSE_PROTO="mylinuxinput:.." 的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:12:55.150

据我所知，在 Qt Embedded 4.7.2（没有 DirectFB）中，我没有遇到鼠标或键盘热插拔的问题。如果您想自己子类化，请从 linuxinput 插件开始修改插件。您会在 Qt 源代码中找到：[这](http://qt.gitorious.org/qt/qt/trees/4.7/src/plugins/mousedrivers)是放置插件的目录，但某些类包含在其他目录中。

另外，您在插入后是否在您的 linux 设备中获取数据？您是否尝试过 cat 设备？

# mysql - MYSQL Explain Rows_examined 不匹配

> ID：13985022
> 
> 赞同：0
> 
> 时间：2012-12-21T06:00:33.293
> 
> 标签：mysql, performance, query-optimization

我在 mysql_slow_queries 日志中有如下查询：

**Query_time：4.642323 Lock_time：1.821996 Rows_sent：14 Rows_examined：27099**

```
SET TIMESTAMP=1356068688;
SELECT gw.id website_id, gw.name,gw.url,gw.language,gw.title,gw.nickname, gd.id, 
        gd.deal_title, gd.cdeal_title, gd.deal_details, gd.cdeal_details, 
        gd.discount_price, gd.original_price, gd.savings, gd.expiry, gd.shop, 
        gd.location, gd.clocation, gd.limited_offer, gd.contact, gd.url website, 
        gd.affiliate_url, gd.tags, gd.pic_url, gd.featured, gd.top_pos, 
        gd.sub_pos, gd.appeal, gd.redeem_until, gd.noofpurchased 
FROM groupon_deals gd 
INNER JOIN groupon_websites gw ON gw.id=gd.groupon_websites_id 
WHERE gd.tags LIKE '%technology-and-gadgets%' AND gd.pubDate >= SYSDATE() - INTERVAL 24 HOUR AND 
        gd.hidden = 0 AND gd.pubDate < SYSDATE() AND 
        gd.id NOT IN (1,30079,30090,30116,30118,30070,30136,30137,30138,30156,30103,30157,30038,30044,30084,30025,30013,30111,30030,30020,30059,30087,30026,30016,30112,30031,30021,30005,30092,30027,30017,30113,30049,30032,30023,30006,30096,30040,30028,30018,30120,30033,30024,30008,30110,30029,30019,30128,30131,30129,30100,30004,29995,30076,30126,30069,30078,30071,30034,30080,30065,30073,30082,29987,30074,30117,30068,29981,30098,30102,30088,30119,30135,30155,30107,29997,30041,30046,30077,30003,29992,30058,30097,30014,29999,30066,30127,30009,30081,29993,30060,30015,30114,30000,29985,30099,30010,30083,29994,30061,30022,30115,30001,30072,29986,30011,30086,30062,30123,30002,30075,29990,30054,30160,30094,30012,29998,30064,30125,30039,30130,30134,29982,30159,30048,30047,30158,30043,30101,30104,30106,30122,30056,30057,30063,30161,30053,29984,30132,30109,30036,30108,30037,30121,30045,30124) AND 
        (gw.language = 'C' OR gw.language = 'B') 
ORDER BY gd.sub_pos,gd.noofpurchased DESC 
```

现在，当我转到 phpMyAdmin 并使用 EXPLAIN 运行相同的查询时，我在这里得到输出：http: [//algaryeung.com/temp/explain-output.jpg](http://algaryeung.com/temp/explain-output.jpg)

我有两个问题：

1) 为什么日志中的 rows_examined 是 27099 与 EXPLAIN 37、756 中的 rows_examined 不同？我是否需要将 EXPLAIN 中的 2 个值乘以检查实际行？

2）我知道这是一种开放式的，但我将如何改进现有的查询？我已经索引了字段 groupon_deals.groupon_websites_id 并且我认为可能有一些方法可以改进查询的 NOT IN 部分。不期待这里有完整的答案，但知道从哪里开始挖掘/学习吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:07:18.747

MySQL`EXPLAIN`提供了对每个步骤将返回的行数的估计和预测。

真正为您`EXPLAIN`提供的是执行计划，即将使用的访问路径、操作顺序以及将使用哪些索引。它实际上并不处理该语句以获得准确的行计数，它仅根据它所拥有的有关表中的行数以及列中值的基数和分布的信息来预测将检索多少行。

根据您提供的 EXPLAIN 输出，查询正在对`groupon_websites`表进行全面扫描。对于检索到的每个值（不会被谓词消除），MySQL 正在表的列`id`上执行索引查找。`groupon_websites_id``groupon_deals`

* * *

对于此查询，使用索引可能会提高性能

```
... ON groupon_deals (groupon_websites_id, hidden, pubDate, id) 
```

* * *

我认为开始“挖掘”的一个好地方是理解该`EXPLAIN`声明。

如果您对 MySQL 实际如何处理 SQL 语句、MySQL 可以执行哪些“操作”以及哪些“操作”可以使用合适的索引有一定的了解，这是了解`EXPLAIN`.

我建议从这里开始，在 MySQL 文档中：[Understanding the Query Execution Plan](http://dev.mysql.com/doc/refman/5.5/en/execution-plan-information.html)

# jquery - jQuery检查输入值并根据值显示警告

> ID：13985028
> 
> 赞同：0
> 
> 时间：2012-12-21T06:01:21.340
> 
> 标签：jquery

当用户输入今天之前的日期时，我试图向他们显示警告。发生这种情况时，我想显示这个 span 标签。我还需要检查跨度是否已经存在，所以我不再添加它。

这是我到目前为止所拥有的：

```
$('[name="input_name"]').blur(function(){
        var today = new Date();
        var hiredate = new Date(value);
        if (hiredate < today) {
        $(this).after("<span class='date_warning'>Warning hire</span>");
    }
    else{
        $('span').remove('.date_warning');
    }
}); 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:02:22.250

您需要使用`this.value`而不是`value`

*改变*

```
var hiredate = new Date(value); 
```

*到*

```
var hiredate = new Date(this.value); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:02:38.407

你可以这样做

```
$('[name="input_name"]').blur(function(){
        var today = new Date();
        var hiredate = new Date($(this).val());
        if (hiredate < today) {
        $(this).next('.date_warning').remove();
        $(this).after("<span class='date_warning'>Warning hire</span>");
    }
    else{
        $(this).next('.date_warning').remove();
    }
}); 
```

[演示](http://jsfiddle.net/TBLp8/1/)

尝试更改输入字段中的值

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:05:10.020

试试这个

```
$('[name="input_name"]').blur(function(){
    $('.date_warning').remove();
    var today = new Date();
    var hiredate = new Date(this.value);
    if (hiredate < today) {
        $(this).after("<span class='date_warning'>Warning hire</span>");
    }
}); 
```

# mysql - 在rails中为MySQL定义varchar的长度

> ID：13985029
> 
> 赞同：17
> 
> 时间：2012-12-21T06:01:23.783
> 
> 标签：mysql, ruby-on-rails, ruby-on-rails-3, varchar

我想在生成模型的过程中通过 git-bash 在 rails 中定义 varchar 的大小，例如 name varchar(20)、age varchar(6)。

我在堆栈上搜索但找不到任何答案。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-12-21T06:18:49.000

在创建为该[`column`](http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-column)方法记录的列时，有许多选项。它们也适用于`add_column`进行后续修改时。

制作更有限的列的最简洁方法是：

```
t.string :name, :limit => 20
t.string :age, :limit => 6 
```

请注意，在您的数据库中施加这样的限制是非常不寻常的，更好的解决方案是使用[`validates`](http://apidock.com/rails/ActiveModel/Validations/ClassMethods/validates). 例如：

```
validates :name,
  :presence => true,
  :length => { :maximum => 20 } 
```

MySQL 倾向于在不告诉你的情况下截断太长的值，因此没有长度限制最终会导致数据丢失，尤其是长度如此短的情况下。

请记住，数据库中的列是可变长度的，因此 a与 a`VARCHAR`中的十个字符值没有存储优势。`VARCHAR(255)``VARCHAR(20)`

# java - 在java中合并两个图像

> ID：13985037
> 
> 赞同：0
> 
> 时间：2012-12-21T06:02:31.097
> 
> 标签：java, image-processing, java-2d

我有两个图像，一个基本图像（背景图像），第二个是叠加图像。基础图像为 180*269 像素，叠加图像为`1000*2250`像素。

我必须放置具有指定点的叠加图像。这几乎就像虚拟穿衣一样，即您将拥有模特或女孩形象，并且您必须在她身上覆盖上衣或连衣裙。我们已经捕获了两幅图像的肩部、腰部、臀部和大腿的 x 和 y 坐标。

示例：
基本图像 - 87,213,244,217,90,435,236,436,82,352,228,352,94,515,230,525

分层图像 - 150,111,235,111,149,220,230,223,157,174,227,173,153,265,218,266

输出图像需要具有基本图像尺寸。

请帮助我们在 Java 2D 或`jai`库中的指定点合并这些图像。
给我任何参考。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T06:12:38.170

请参阅本教程：

[http://docs.oracle.com/javase/tutorial/2d/images/drawonimage.html](http://docs.oracle.com/javase/tutorial/2d/images/drawonimage.html)

基本上：

1.  创建一个`BufferedImage`
2.  调用`createGraphics`图像以创建`Graphics2D`对象
3.  调用`drawImage`图形对象来绘制基础图像
4.  再次调用`drawImage`覆盖图像。

# ruby-on-rails - 如何检查 RVM + Bundler 是否正常工作（并且我可以避免“bundle exec”）？我对文档中的措辞有点困惑

> ID：13985039
> 
> 赞同：1
> 
> 时间：2012-12-21T06:02:45.340
> 
> 标签：ruby-on-rails, rubygems, rvm, bundler, configuration-files

我正在关注这个[Rails 教程](http://ruby.railstutorial.org/chapters/static-pages#sec-advanced_setup)部分和[这个 RVM 文档页面](https://rvm.io/integration/bundler/)。我的安装是全新的 ( `RVM 1.17.3`)，所以，如果我正确理解了教程和 RVM 文档：

*   RVM 和 Bundler 应该默认集成，我不需要配置任何东西。（无需运行`bundle --bunstubs`？）

*   我不需要输入“bundle exec”

我没看错吗？

我在我的应用程序中看不到`bundler_stubs/`or`bin/`目录。

有没有办法让我检查它是否设置正确，所以我可以确定`bundle exec`没有必要？

* * *

**编辑：**

运行`which`产生以下结果：

```
$ bundle show rspec    
$ /home/{username}/.rvm/gems/ruby-1.9.3-p327@tutorial/gems/rspec-2.11.0
$ which rspec
$ /home/{username}/.rvm/gems/ruby-1.9.3-p327@tutorial/bin/rspec 
```

这似乎暗示我应该继续使用`bundle exec`，因为它们不一样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T14:25:10.417

RVM 默认安装 gem [https://github.com/mpapis/rubygems-bundler](https://github.com/mpapis/rubygems-bundler)，它会检测你是否在上下文中`Gemfile`并在需要时自动加载 bundler，相当于手动输入`bundle exec`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:30:10.627

**bundle exec**是一个 bundle 命令，用于在当前 bundle 的上下文中执行脚本（来自您目录的 Gemfile 的那个）。**rspec filename.rb**是脚本。

所以 bundle exec **bundle exec rspec filename.rb**在当前包的上下文中使用命令**rspec** filename.rb执行 rake 脚本。

至于“为什么？” 我将从捆绑器文档中引用：

**在某些情况下，如果可执行文件恰好安装在您的系统中并且没有引入任何与您的捆绑包冲突的 gem，则运行不带 bundle exec 的可执行文件可能会起作用。然而，这是不可靠的并且是相当大的痛苦的来源。即使它看起来可以正常工作，但将来或在另一台机器上可能无法正常工作。**

有关详细信息，请参阅[http://gembundler.com/man/bundle-exec.1.html](http://gembundler.com/man/bundle-exec.1.html)。

# drupal - 我无法在 drupal 7 中重新排序块

> ID：13985041
> 
> 赞同：4
> 
> 时间：2012-12-21T06:02:52.337
> 
> 标签：drupal, drupal-blocks

我的 drupal 网站上有 200 多个区块。现在我无法从管理端重新排序块。

我可以拖放块。所以我的js没有问题（我想是的）。保存块后，选定的块会转到上一个位置。（重量没有更新。）

任何想法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-12-05T13:47:45.800

尝试增加 中的`max_input_vars`值`php.ini`。在我的情况下，将该值设置为 2000（Windows Server 2008/IIS/MySQL/PHP5.3 和超过 200 个 D7 块）。

WIMP 的故障排除提示： 在`php.ini`中，设置：

```
error_log=C:\Windows\temp\php_errors.log 
```

在`php_errors.log`中，查找消息，例如：

> PHP 警告：未知：输入变量超过 1000。增加限制更改 php.ini 中的 max_input_vars。在第 0 行的未知中

# jquery - 使用带有自定义箭头的 jQuery UI 工具提示会导致工具提示问题

> ID：13985045
> 
> 赞同：3
> 
> 时间：2012-12-21T06:03:08.590
> 
> 标签：jquery, html, css, jquery-ui, tooltip

我正在使用[Tooltip 自定义样式插件](http://jqueryui.com/tooltip/#custom-style)...

现在我想在这些网站上显示我的工具提示消息，如图所示（*例如，带有箭头作为工具提示的一部分*）：

*   [示例链接](https://www.neobux.com/m/r/)
*   [示例链接](https://www.probux.com/register.php)

![在此处输入图像描述](../Images/4473d78249b5477200b5b97026e3b7a1.png)

我尝试应用几个 CSS 规则，但我仍然无法让它看起来像我想要的那样......请帮助我。这是我的 CSS 代码：

```
body .ui-tooltip {
  border-width:0;
}

.ui-tooltip,.arrow:after {
  background:black;
  border:0 solid white;
}

.ui-tooltip {
  padding:10px;
  color:white;
  border-radius:5px;
  font-family:Verdana, sans-serif;
  font-size:12px;
  text-transform:none;
}

.arrow {
  width:70px;
  height:16px;
  position:absolute;
  left:0!important;
  margin-left:-25px;
  top:55%;
}

.arrow.top {
  top:-16px;
  bottom:auto;
}

.arrow.left {
  left:20%;
}

.arrow:after {
  content:"";
  position:absolute;
  left:20px;
  top:-20px;
  width:25px;
  height:25px;
  box-shadow:6px 5px 9px -9px black;
  -webkit-transform:rotate(45deg);
  -moz-transform:rotate(45deg);
  -ms-transform:rotate(45deg);
  -o-transform:rotate(45deg);
  tranform:rotate(45deg);
}

.arrow.top:after {
  bottom:-20px;
  top:auto;
}

.ui-tooltip {
  -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=70);
  filter:alpha(opacity=70);
  opacity:0.7;
} 
```

当我应用上述 CSS 代码时，我的显示没有显示完整的工具提示：

![i.imgur.com/4yCPu.png](../Images/5fd0219e52aa990232c7a47ab60f1fc4.png)

但我希望它看起来像这样，全尺寸：

![在此处输入图像描述](../Images/4c319857d7f475699cd9a414e4ce2e25.png)

我的 CSS 代码箭头有问题，它看起来不像我提供的示例。

**编辑：**

箭头问题现在可以了...但是如果您看到想要的显示它与我想要的不一样

```
.ui-tooltip {
  -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
  opacity:0.7;
} 
```

我猜他们没有超过 CSS 代码......你能建议他们的透明工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T08:11:02.263

目前，[**jQuery UI Tooltip**](http://jqueryui.com/tooltip/)有一个[**Open Issue #6**](http://wiki.jqueryui.com/w/page/12138112/Tooltip#footer-logo)，它定义了你的`arrows`as`connectors`并且它们还没有在这个插件中实现。

如果您为花哨的箭头添加自己的`connector`标记，则工具提示可能会根据元素相对于浏览器视口的位置来更改位置。这可能会导致您的箭头位于错误的位置。

相反，使用包含箭头选项的[**jQuery qTip 插件，我的意思是连接器，它将自动计算正确的位置。**](http://craigsworks.com/projects/qtip/)

这是一个屏幕截图，但此工具提示插件的所有***角连接器示例都可以在***[**这里**](http://craigsworks.com/projects/qtip/demos/position/corner#)看到。

![在此处输入图像描述](../Images/cc31d68f806ee9c1706eb05b388697ba.png)

上图中的`blue text`将演示 qTip 工具提示放置在`bottom left`. 话虽如此，工具提示本身知道将三角形的东西放在`top right`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:32:14.240

好像箭头的位置有点乱。我不能给你具体的值，因为我无法测试它。但我确信使用元素的`width`and`left`属性`.arrow`会给你想要的结果。

试试下面的。

```
.arrow {
    width: 15px;
    height: 6px;
    position: absolute;
    top: 50%;
}

.arrow.left {
    left: -12px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T11:05:33.180

@Robinson您还可以使用[Bootstrap Tooltip](http://twitter.github.io/bootstrap/javascript.html#tooltips)，它更易于使用，使用时只需包含可以从[此处下载的 CSS 和 JS 文件](http://twitter.github.io/bootstrap/index.html)

# php - 正确使用 mkdir()

> ID：13985047
> 
> 赞同：2
> 
> 时间：2012-12-21T06:03:14.260
> 
> 标签：php, mkdir, laravel

我有一个目录路径'/uploads/files'。当用户注册时，我试图将他们的 user_id 附加到路径的末尾以使其成为“uploads/files/user_id”，以便每个用户都有自己的上传文件夹要上传到。我正在使用 Laravel，我当前的代码看起来像这样......

```
mkdir("uploads/files/" . Auth::user()->id); 
```

这是创建新文件夹的正确方法吗？我一直在用很多不同的方式玩它，但似乎没有任何工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:08:20.967

`mkdir`是要走的路。但是您需要记住，必须正确设置 linux 权限才能使其正常工作。确保你有写作权。您可以使用`is_writable($dirPath)`. 将权限设置为`755`或您认为最适合您的应用程序的任何内容。

您还可以使用下面的 linux 语法......它对于更复杂的操作很方便。

```
 $path = '/uploads/files/user_id_dir';
 shell_exec("mkdir -p $path"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:10:03.133

如果您不希望您的目录易于访问和猜测，您可以对您的 user_id 进行哈希处理，然后附加到它。作为一个简单的案例，这很好。但从安全角度来看，这可能是一种威胁。

只需使用`md5()`or`sha1()`与一个随机的复杂字符串一起作为 a`salt`来保证您的目录安全并且远离被猜到。

另一件事是将其放在 if 条件中以检查文件夹是否已创建。

```
$path = 'path_to_your_directory';
if(!file_exists($path)
{
     //then create the directory
}
else
{
    //do the upload here
} 
```

编辑：如果您正在使用`Auth::user()->id`，用户必须登录到该站点。即会话必须存在。否则它不会工作。猜你知道。

# java - 如何打印出所有线程及其当前状态？

> ID：13985052
> 
> 赞同：3
> 
> 时间：2012-12-21T06:03:29.067
> 
> 标签：java

有没有办法使用代码打印出所有线程及其 ID、状态？

例如，我有 5 个线程，我想枚举所有线程。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:09:43.430

您可以执行以下操作。

```
Set<Thread> threadSet = Thread.getAllStackTraces().keySet();

for (Thread thread: threadSet) {
 System.out.println(thread.getId());
} 
```

在使用它们之前，请确保您阅读并理解了[Thread.getAllStackTraces()](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.html#getAllStackTraces%28%29)方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:05:06.033

使用 Thread.currentThread().getId();

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-21T06:09:35.917

如果您需要从程序的其他部分控制线程，则将线程对象分配给公共变量，或者如果您只想知道正在运行的内容，则直接将其打印出来：

```
public int myThreadId = 0;

public void run () {

System.out.println("Thread Name: " + Thread.currentThread().getName(); // Printing the thread name

myThreadId = Thread.currentThread().getId(); // Assigning the thread ID to a public variable

} 
```

阅读更多：如何获取对 Java 线程的引用 | eHow.com [http://www.ehow.com/how_6879305_reference-java-thread.html#ixzz2FfEUe3cF](http://www.ehow.com/how_6879305_reference-java-thread.html#ixzz2FfEUe3cF)

还

获取根 ThreadGroup 的句柄，如下所示：

```
ThreadGroup rootGroup = Thread.currentThread( ).getThreadGroup( );
ThreadGroup parentGroup;
while ( ( parentGroup = rootGroup.getParent() ) != null ) {
    rootGroup = parentGroup;
} 
```

现在，重复调用根组上的 enumerate() 函数。第二个参数让您可以递归地获取所有线程：

```
Thread[] threads = new Thread[ rootGroup.activeCount() ];
while ( rootGroup.enumerate( threads, true ) == threads.length ) {
    threads = new Thread[ threads.length * 2 ];
} 
```

请注意我们如何重复调用 enumerate() 直到数组大到足以包含所有条目。

# naming-conventions - 打印机命名约定

> ID：13985057
> 
> 赞同：-1
> 
> 时间：2012-12-21T06:03:41.370
> 
> 标签：naming-conventions, printers, printer-properties

我们能否从其品牌和型号中获取打印机信息，例如单色或颜色。是否存在任何命名约定？对于 Lexmark、Canon、Toshiba、HP 等型号，是否存在任何命名约定？任何帮助将不胜感激在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:12:54.710

快速浏览一下，Lexmark 至少似乎没有在他们的打印机型号上包含颜色信息——M* 可能是单色的，T* 可能是单色的，C* 可能是彩色的，但 X* 可以是任何一种。

在编写网络上的打印机描述时，最好包含所需的信息。（“A楼大厅的彩色喷墨”）。

# java - JavaFx 基于来自 Java 线程的通知更新 UI

> ID：13985059
> 
> 赞同：1
> 
> 时间：2012-12-21T06:03:41.410
> 
> 标签：java, javafx-2

我是多线程、Java 和 JavaFx 的新手。我正在使用 JavaFX UI 构建一个应用程序，它会根据实时数据不断更新图表。这是目前的设计，

**1\. 当按下 JavaFx 按钮时，我调用一个线程，该线程设置框架以发送请求并获取响应**

```
 startButton.setOnAction(new EventHandler<ActionEvent>() {
        @Override 
        public void handle(ActionEvent e) {             
            stopButton.setDisable(false);               

            if(!startButton.isDisable()){
                runSequence = new Thread(new Runnable(){

                    @Override
                 public void run() {
                    SynchThreads sharedObject = new SynchThreads();             
                    new Bridge(sharedObject);
                    startSequence = new Sequence(sharedObject);             
                    startSequence.performCalls();  

                    }                   
                });

                runSequence.start();

            }               
            startButton.setDisable(true);
        }
    }); 
```

**2\. 如上调用的runSequence线程调用另一个不断接收数据的线程“callbackThread”。接收到的这个数据被传递给 runSequence 线程进行进一步处理**

```
 BusinessLogic businessLogic = new BusinessLogic();

    executor.submit(pduApiDllCallBackThread);//This collects the data in background

//Here we are back on runSequence thread that works on the collected data.  
         while(true){
        response = sharedObject.take();                 
        businessLogic.primeData(response);
    } 
```

**3\. 处理此数据后的 BusinessLogic 类将事件 ID 和应显示在图表上的数据通知用户界面。**

```
 UI.notifyListeners(0, graphCoords);//here event ID is 0 and graphCoords is a HashMap 
```

**4\. 在用户界面中，每次收到通知时，我都会使用 Platform.runLater 更新 LineChart。此通知每 4 毫秒发生一次。所以，我最终做了很多 Platform.runLater 调用**

```
public void notifyListeners(int eventType, Map<Integer, Float> graphCoords) {
    Platform.runLater(new Runnable(){

        @Override
        public void run() {
    //Old series is cleared. Showing dummy data being updated
                    series.getData().clear();
        series.getData().add(new XYChart.Data("1", Math.random()+1));
            series.getData().add(new XYChart.Data("3", Math.random()+5));
            series.getData().add(new XYChart.Data("4", Math.random()-25));
            series.getData().add(new XYChart.Data("2", Math.random()-10));
            series.getData().add(new XYChart.Data("-1", xxx));

        }

    });

} 
```

**如果可以这样做，或者是否有更好的方法在 UI 中处理此问题，请提供您的专家提示。我对通知 UI 的 UI 下方的层没有更多控制权。由于通知每 4 毫秒发生一次，我想知道是否有更好的方法**

任何帮助表示赞赏。请帮忙。谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T10:57:25.103

您可能会通过经常执行 Platform.runLater 来淹没 JavaFX 事件队列，因此您可能希望对响应进行批处理（例如以十个为一组），然后为每个批处理进行一次 runlater 调用。

stackoverflow 上有一个特定的[codereview](http://codereview.stackexchange.com)站点。

确保您在图表上关闭了动画，这样它就不会在每次更新时尝试做太多事情。

您的解决方案似乎有点复杂，但也许它适合您的情况，我不知道。

我不知道您是如何处理并发的，但如果您还没有的话，请查看[java.util.concurrent](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html)和[并发教程。](http://docs.oracle.com/javase/tutorial/essential/concurrency/)如果您还没有，还可以查看JavaFX[中的并发。](http://docs.oracle.com/javafx/2/threads/jfxpub-threads.htm)有时，较高级别的`java.util.concurrent`框架比较低级别的对象监视器等待/通知方法更具表现力、更不容易出错、更易于使用且更易于推理。

您可能希望将您正在使用的一些线程标记为[守护线程](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#setDaemon%28boolean%29)。您可能还想添加一些逻辑来处理线程中断或进程取消，类似于 JavaFX[任务](http://docs.oracle.com/javafx/2/api/javafx/concurrent/Task.html)文档中的示例。

如果您是 Java、多线程和 JavaFX 的新手，那么从多线程、网络化的 JavaFX 应用程序开始就是跳出深渊。

[通常，使用任务/服务框架](http://docs.oracle.com/javafx/2/api/javafx/concurrent/package-summary.html)将并发工作从 JavaFX 应用程序线程卸载到工作线程。

# vba - 列上的 Excel VBA 循环

> ID：13985060
> 
> 赞同：18
> 
> 时间：2012-12-21T06:03:43.687
> 
> 标签：vba, excel

当我们要在行中循环时，我们可以使用如下代码：

```
i = 1
Do
   Range("E" & i & ":D" & i).Select
   i = i + 1
Loop Until i > 10 
```

但是如果我们想在列上做一个循环呢？

我们可以使用与上述相同的方法吗？

而Excel中的列是复杂的，例如A，B，C，...，Y，Z，AA，AB，AC，...等。从“Z”到“AA”的循环之间会出现问题”。

我们如何将字母列从“A”循环到“Z”，然后继续循环到“AA”、“AB”等

有什么可以帮助的吗？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-12-21T06:31:33.010

是的，让我们`Select`作为一个例子

示例代码： `Columns("A").select`

如何循环遍历列：

方法一：（可以用index代替Excel地址）

```
For i = 1 to 100
    Columns(i).Select
next i 
```

方法二：（使用地址）

```
For i = 1 To 100
 Columns(Columns(i).Address).Select
Next i 
```

编辑：剥离 OP 的列

```
columnString = Replace(Split(Columns(27).Address, ":")(0), "$", "") 
```

例如你想得到第 27 列 --> AA，你可以这样得到

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-12-21T08:40:49.887

另一种尝试的方法。当您将初始列设置为 Range 对象时，也`select`可以替换。性能方面它有帮助。

```
Dim rng as Range

Set rng = WorkSheets(1).Range("A1") '-- you may change the sheet name according to yours.

'-- here is your loop
i = 1
Do
   '-- do something: e.g. show the address of the column that you are currently in
   Msgbox rng.offset(0,i).Address 
   i = i + 1
Loop Until i > 10 
```

** 使用列号获取列名的两种方法**

*   分裂（）

代码

```
colName = Split(Range.Offset(0,i).Address, "$")(1) 
```

*   字符串操作：

代码

```
Function myColName(colNum as Long) as String
    myColName = Left(Range(0, colNum).Address(False, False), _ 
    1 - (colNum > 10)) 
End Function 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-21T08:04:57.640

如果您想坚持使用相同类型的循环，那么这将起作用：

```
Option Explicit

Sub selectColumns()

Dim topSelection As Integer
Dim endSelection As Integer
topSelection = 2
endSelection = 10

Dim columnSelected As Integer
columnSelected = 1
Do
   With Excel.ThisWorkbook.ActiveSheet
        .Range(.Cells(columnSelected, columnSelected), .Cells(endSelection, columnSelected)).Select
   End With
   columnSelected = columnSelected + 1
Loop Until columnSelected > 10

End Sub 
```

**编辑**

如果实际上您只想遍历电子表格区域中的每个单元格，请使用以下内容：

```
Sub loopThroughCells()

'=============
'this is the starting point
Dim rwMin As Integer
Dim colMin As Integer
rwMin = 2
colMin = 2
'=============

'=============
'this is the ending point
Dim rwMax As Integer
Dim colMax As Integer
rwMax = 10
colMax = 5
'=============

'=============
'iterator
Dim rwIndex As Integer
Dim colIndex As Integer
'=============

For rwIndex = rwMin To rwMax
        For colIndex = colMin To colMax
            Cells(rwIndex, colIndex).Select
        Next colIndex
Next rwIndex

End Sub 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-29T14:19:56.913

只需使用 Cells 函数并循环遍历列。单元格（行、列）

# github - 设置-assume--unchanged和删除后git忽略文件

> ID：13985061
> 
> 赞同：1
> 
> 时间：2012-12-21T06:03:46.320
> 
> 标签：github

出于纯粹的懒惰，我用 git 做了一些可笑的事情，现在不知道该转向哪个方向。我有一个文件：

```
 www/include/global.inc. 
```

最初我使用命令将此文件设置为忽略

```
git update-index --assume-unchanged www/include/global.inc 
```

后来我发现文件里确实有几个人要改几处，我不能就这样忽略。所以我使用了命令：

```
git update-index --assume-unchanged www/include/global.inc 
```

删除忽略。

之后，我遇到了一些问题，当其他人对文件进行了更改时，我发现我无法将文件拉到本地系统，因为 git 报告了错误。所以我从最后删除了文件，然后进行了拉取，它起作用了，我得到了文件。

现在我正在对同一个文件进行更改，我需要将其推送到存储库中。

并且 git status 命令不会将其报告为已修改。我尝试过从目录 www/include/ 中删除它并尝试重新提取它的相同技巧，但 git 说“已经是最新的”。我`-assume--unchanged`再次尝试了该命令，但也不起作用。我正在努力寻找解决方案，我需要在今天之前将该文件推入。

如果我将文件放在其他文件夹中，那么它会被报告为未跟踪的文件。我检查了我的`.gitignore`文件，没有任何迹象表明它被那里的某些东西忽略了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:39:50.097

一种解决方案是再次克隆您的 repo 并报告您对 ' `www/include/global.inc`' 的修改。

当然，该文件的状态在新的本地存储库中是正确的，然后您可以推送该存储库。

OP以不同的方式解决了它：

> 我使用该`git rm`命令并从索引树中删除了该文件。
> 我再次将文件添加到文件夹并进行了修改，这次`git status`命令显示文件已修改。当我使用该命令
> 时，以某种方式删除了忽略设置。`git rm`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-02T10:45:13.013

我认为你需要做的是：

```
git update-index --no-assume-unchanged www/include/global.inc 
```

所以 git 不再忽略该文件。

# xsd - XML Schema：choice 和 minOccurs

> ID：13985068
> 
> 赞同：12
> 
> 时间：2012-12-21T06:04:32.333
> 
> 标签：xsd

在下面的这个例子中，

```
 <xs:complexType>
        <xs:choice minOccurs="3" maxOccurs="unbounded">
            <xs:element ref="Start"/>
            <xs:element ref="Center"/>
            <xs:element ref="End"/>
            <xs:element ref="PI" minOccurs="0"/>
            <xs:element ref="Feature" minOccurs="0" maxOccurs="unbounded"/>
        </xs:choice>
        </xs:complexType> 
```

What happens when choice has minOccurs > 1? 这是否意味着元素“开始”可以出现 3 次？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-21T08:35:31.540

> What happens when choice has minOccurs > 1? 这是否意味着元素“开始”可以出现 3 次？

**是`<Start>`的可以发生3次或更多次！**选择的 minOccurs 大于 1 允许一组元素出现不止一次或不同的元素出现多次。

***详细解释：*** 在上面的例子中，你已经应用了 minOccurs 为 3`<Choice>`和 maxOccurs 为无界！这意味着 .. 下列出的子元素`<Choice>`，其中任何三个或重复三次的任何标签都应出现在其父元素下！下面列出了示例 XML：

让我们假设这些标签集出现在名为`<parent>`then 的节点下：

```
 <parent>
    <Start>Start1</Start>
    <Center>Center1</Center>
    <End>End1</End>
  </parent> 
```

- - - - 或者 - - - -

```
 <parent>
    <Center>Start1</Center>
    <Center>Center1</Center>
    <Feature>End1</Feature>
  </parent> 
```

- - - - 或者 - - - -

```
 <parent>
    <Start>Start1</Start>
    <Start>Start1</Start>
    <Start>Start1</Start>
    <Start>Start1</Start>
  </parent> 
```

以上所有组合均有效！

**但是**您还为 'PI' 和 'Feature' 定义了 minOccurs="0" ..

**此添加导致 Validator 也传递没有子元素的父元素。**IE：

```
 <parent>
  </parent> 
```

如果您从这两个元素中删除 minOccurs，则验证会强制您在父项下包含至少 3 个标签。

也有`maxOccurs="unbounded"`for `Feature`Element 是没有用的！如果您添加或删除它，行为不会改变..

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-21T22:56:53.387

在可读的类似正则表达式的语法中，而不是冗长的尖括号中，你有

（开始 | 中心 | 结束 | PI？| 特征*）{3,}

这意味着括号内的任何内容 3 次或更多次，并且每次都不必是相同的项目。鉴于有可以为空的替代方案 - PI？和 Feature* - 在选项中，整个表达式也是可以为空的，这意味着任何数量的空值（包括零）也将满足约束。

要回答您的具体问题，是的，“开始”可以出现三次（或多次）。事实上，它可以发生任何次数。

# java - 如何在骆驼中实现路线性能测量

> ID：13985071
> 
> 赞同：3
> 
> 时间：2012-12-21T06:04:53.193
> 
> 标签：java, performance, apache-camel

我想计时我路线中步骤的执行时间。我正在研究使用骆驼 AOP 来启动计时器、运行步骤、停止并记录计时器。但是现在不推荐使用 AOP，我研究了使用拦截机制，但它之前只是添加了“建议”，之后我也需要它。有没有一种干净的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-21T13:42:26.390

是的，有很多选择。

只是对上面关于 Fuse IDE 的评论的更正。这个编辑器是开源的，任何人都可以免费使用。您不需要订阅。自 Red Hat 收购我们以来，我们免费提供此服务。

1）关于监控。然后，您可以查看一些博客 [http://camel.apache.org/articles](http://camel.apache.org/articles)，人们在其中撰写了有关监控 Camel 应用程序的文章。

[2) 在http://camel.apache.org/user-stories.html](http://camel.apache.org/user-stories.html)有一些 3rd 方应用，例如 CamelWatch 等。

3) James Strachan（Camel 的创始人）和 Fuse 团队的其他人正在为 Camel 和其他集成框架开发一个 Web 控制台，称为 Hawt IO - [http://hawt.io/](http://hawt.io/)

4) 正如 Alan 已经指出的那样，您可以使用事件通知器，它会发出您可以利用的事件。

5) 有 JMX API 可以与第 3 方工具集成，例如 Fuse HQ / JON / Hyperic / 等

6）nagios集成有camel-nagios组件

7）骆驼行动书的第12章也有一些细节：http: [//manning.com/ibsen/](http://manning.com/ibsen/)

8）还有一个日志组件，可以使用组大小/组间隔选项来记录性能[http://camel.apache.org/log](http://camel.apache.org/log)

9）还有tracer，也可以用来跟踪和测量路由性能[http://camel.apache.org/tracer](http://camel.apache.org/tracer)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-12-21T13:34:07.977

你在这里有很多选择，包括追求你最初的想法

1）你可以很容易地连接到 Camel 的 EventNotifier，这里有一个基本的例子[http://camel.apache.org/eventnotifier-to-log-details-about-all-sent-exchanges.html](http://camel.apache.org/eventnotifier-to-log-details-about-all-sent-exchanges.html)

```
INFO  CamelContextFactoryBean        - Using custom EventNotifier with id: myLoggingEventNotifier and implementation: org.apache.camel.processor.MyLoggingSentEventNotifer@76bf9e
INFO  MyLoggingSentEventNotifer      - Took 1001 millis to send to: Endpoint[direct://bar]
INFO  MyLoggingSentEventNotifer      - Took 0 millis to send to: Endpoint[mock://result]
INFO  MyLoggingSentEventNotifer      - Took 1013 millis to send to: Endpoint[direct://start] 
```

2）您可以使用[Fuse IDE](http://fusesource.com/products/fuse-ide/)，[例如这里](http://fusesource.com/docs/ide/2.1/tutorials/RiderTutorialTrace.html) [http://fusesource.com/docs/ide/2.1/tutorials/RiderTutorialTrace.html](http://fusesource.com/docs/ide/2.1/tutorials/RiderTutorialTrace.html)

3) 您可以使用 JMX 连接到您的 java 实例，您可以从那里获取很多信息

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-08-27T11:51:37.227

对我来说非常简单的方法：

```
...
.process(exchange -> exchange.getIn().setHeader("start", DateTime.now()))
.to("direct:calc")
.process(exchange -> exchange.getIn().setHeader("end", DateTime.now()))
.log("=== route execution time: ${header.start} - ${header.end}") 
```

# jquery - 寻找一个开源项目

> ID：13985072
> 
> 赞同：-4
> 
> 时间：2012-12-21T06:04:57.163
> 
> 标签：jquery, ajax, jsp, servlets

我正在写一个如下所示的页面： ![](../Images/f6165ac4fbc2e32a37edae540c603add.png)

我应该使用 jquery、ajax、jsp 和 servlet 来实现这个页面。

我已经解决了。但是我的代码不利于扩展。

我正在寻找一个与我的页面相似的开源项目，并且正在使用我之前提到的技术来实现。

我已经搜索过，但一无所获。有人可以帮帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:13:34.510

不要认为可以完全回答你的问题。
试试[jQuery datatables](http://datatables.net/)，你会发现它很有帮助。

# javascript - 使用我的 Javascript 代码随机化列表的不同浏览器之间的结果不一致

> ID：13985083
> 
> 赞同：1
> 
> 时间：2012-12-21T06:06:15.247
> 
> 标签：javascript, sorting, cross-browser

我从一个网站获得了这段代码，用于随机化项目列表。[这是一个音乐播放器，在用户每次新访问时随机播放歌曲（列表），因此不会因为从他们在过去访问中听到的同一首歌曲开始而让他们厌烦]

```
 $(document).ready(function(){
      $('ul').each(function(){
            // get current ul
            var $ul = $(this);
            // get array of list items in current ul
            var $liArr = $ul.children('li');
            // sort array of list items in current ul randomly
            $liArr.sort(function(a,b){
                  // Get a random number between 0 and 10
                  var temp = parseInt( Math.random()*10 );
                  // Get 1 or 0, whether temp is odd or even
                  var isOddOrEven = temp%2;
                  // Get +1 or -1, whether temp greater or smaller than 5
                  var isPosOrNeg = temp>5 ? 1 : -1;
                  // Return -1, 0, or +1
                  return( isOddOrEven*isPosOrNeg );
            })
            // append list items to ul
            .appendTo($ul);            
      });
}); 
```

当我在 Chrome 浏览器中打开我的网站时，这工作得很好。排序非常繁重，因此我可以看到该列表在很大程度上是随机的。

但在 Firefox 和 IE 中，排序并没有很好地进行。我看到第一个列表项在 10 次尝试中有 7 次保持在第一位。我可以在许多其他项目中看到相同的情况。例如：第 5 项在 10 次尝试中有 5 次出现在第 3 位。通过这些观察，我可以看出 JS 代码在 IE 和 Firefox 中无法正常工作。（可能是由于引擎不同，不同浏览器对待JS代码的方式不同）

现在，我可以在 JS 代码中更改什么以使其在所有浏览器中都能正常工作吗？

或者是否有任何其他更好的排序算法可以在使用 JS 实现时在所有浏览器中进行不错的排序？

我知道我的第二个问题的一部分已在 SE 中的其他问题中得到解答，但我在这些问题中找不到“浏览器兼容性”部分。

感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:24:03.453

你的随机化不是很好：

```
// Get a random number between 0 and 10
var temp = parseInt( Math.random()*10 );
// Get 1 or 0, whether temp is odd or even
var isOddOrEven = temp%2;
// Get +1 or -1, whether temp greater or smaller than 5
var isPosOrNeg = temp>5 ? 1 : -1;
// Return -1, 0, or +1
return( isOddOrEven*isPosOrNeg ); 
```

这意味着在一半的情况下你 return `0`，它告诉排序函数这两个项目是相等的。一个好的排序功能会注意到这一点并且不会再询问。只有少数项目，您很有可能无法很好地分类项目。您可以通过计算（记录）您的比较函数被调用的频率来证明这一点。

此外，您不需要只返回`+1`，`0`或者`-1`，您可以只返回任何正数或负数（另见下文）。对于随机化，您永远不需要返回相等性。所以，改用这个：

```
….sort( function() {
     return 0.5 - Math.random(); // that would be enough!
} ); 
```

但是，根本不应该`sort`用于随机化。`Math.random`不会导致总排序，并且*不会为此进行排序*：（来自[EcmaScript 规范](http://es5.github.com/#x15.4.4.11)）

> 如果`comparefn`is […] 不是此数组元素的一致比较函数，则排序的行为是实现定义的。
> 
> 如果集合中的所有值、和（可能相同的值）都满足以下所有要求，则函数是`comparefn`一组值的一致比较函数：手段（任一标志）；和手段。`S``a``b``c``S``a <CF b``comparefn(a,b) < 0``a =CF b``comparefn(a,b) = 0``a >CF b``comparefn(a,b) > 0`
> 
> 当给定一对特定的值并作为它的两个参数时，调用`comparefn(a,b)`总是返回相同的值。此外，is Number，而不是。请注意，这意味着 , 和 中的一个对于给定的 和 将是正确的。`v``a``b``Type(v)``v``NaN``a <CF b``a =CF b``a >CF b``a``b`
> 
> *   调用`comparefn(a,b)`不会修改 this 对象。
> *   `a =CF a`（反身性）
> *   如果`a =CF b`, 那么`b =CF a`(对称)
> *   如果`a =CF b`和`b =CF c`，那么`a =CF c`( 的传递性`=CF`)
> *   如果`a <CF b`和`b <CF c`，那么`a <CF c`( 的传递性`<CF`)
> *   如果`a >CF b`和`b >CF c`，那么`a >CF c`( 的传递性`>CF`)
> 
> 注意：上述条件是必要和充分的，以确保`comparefn`将集合划分`S`为等价类并且这些等价类是完全有序的。

如果不满足这些属性，优化的排序功能很容易搞砸。这可能意味着根本没有排序以及永远不会终止排序。请参阅[使用 JavaScript Array.sort() 方法进行改组是否正确？](https://stackoverflow.com/q/962802/1048572)

相反，使用标准的洗牌算法，有很多好的。例如，Fisher-Yates-Shuffle 实现起来非常简单，请参阅问题[如何随机化（随机播放）JavaScript 数组？](https://stackoverflow.com/q/2450954/1048572).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:17:44.977

在这种情况下，问题是输入。

parseInt( Math.random()*10 ) 一直返回一个偶数，从而使您的随机化函数进行折腾。

我在这个链接中找到了类似的东西。希望它也有帮助。

[在 Safari 中，我认为 IE7 和 8 Math.random() 也不是随机的？](https://stackoverflow.com/questions/7675557/in-safari-and-i-think-also-ie7-and-8-math-random-is-not-random)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T06:25:41.547

问题是洗牌方法。一个简单但仍然错误的修复方法是将整个排序功能更改为`return Math.random() < 0.5 ? 1 : -1;`. 但这并不能保证正确随机化列表（一个元素会以 50% 的概率向上移动，而在真正的随机播放中，它会以与最初在其上方的元素数量成比例的概率向上移动）。

正确的做法是实施[Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)。这也是 O(n) 而不是 O(n log n)。

# sql - SQL 排除节假日、周末和未来几天

> ID：13985084
> 
> 赞同：2
> 
> 时间：2012-12-21T06:06:16.597
> 
> 标签：sql, sql-server

我创建了一个存储过程，如下所示：

```
ALTER PROCEDURE reminders
AS

BEGIN
SET NOCOUNT ON;

DECLARE @MyDate    DATE, 
@FirstDate DATE, 
@LastDate  DATE 

SELECT @MyDate = Getdate()

 SELECT @FirstDate = CONVERT(VARCHAR(25), Dateadd(dd, -( Day(@mydate) - 1 ), @mydate), 100),  @LastDate = CONVERT(VARCHAR(25), Dateadd(dd, -( Day( Dateadd(mm, 1, @mydate)) ), 
 Dateadd(mm, 1, @mydate)), 100) 

DECLARE @AllDates TABLE 
( 
datevalue DATE
) 
DECLARE @Lastday INT 

SET @Lastday = Datepart(d, @LastDate) 

DECLARE @Days INT 

SET @Days = 1 

WHILE @Days <= @Lastday 
BEGIN 
INSERT INTO @AllDates 
SELECT @FirstDate 

SET @FirstDate = Dateadd(d, 1, @FirstDate) 
SET @Days = @Days + 1 
END 

SELECT AD.datevalue 
FROM   @AllDates AD 
LEFT OUTER JOIN EmpLog EL 
ON AD.datevalue = EL.Date
LEFT OUTER JOIN holiday H 
ON AD.datevalue = H.Date

WHERE  EL.Date IS NULL 
AND H.Date IS NULL  
AND DATENAME(dw,AD.DateValue) NOT IN ('Saturday','Sunday')

END 
```

我需要的是输出不应该包括未来的日子。Ex Date today 是`12-21-2012`，该代码的输出包括 12-22-2012 到 12-31-2012，而且，我希望代码仅在当前日期前 16 天输出。前任。今天的日期是`12-21-2012`这样，该代码的输出将是 11 月 30 日到 12 月 21 日，不包括节假日和周末。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:30:03.693

Justine - 使用此程序。它接受开始日期和结束日期作为输入参数。它将在这两个日期之间为您提供所需的结果。

```
ALTER PROCEDURE reminders

@FirstDate DATE, 
@LastDate  DATE 

AS
BEGIN
SET NOCOUNT ON;

DECLARE @AllDates TABLE 
( 
datevalue DATE
) 

WHILE @FirstDate <= @Lastdate 
BEGIN 
INSERT INTO @AllDates 
SELECT @FirstDate 
SET @FirstDate = Dateadd(d, 1, @FirstDate) 
END 

SELECT AD.datevalue 
FROM   @AllDates AD 
LEFT OUTER JOIN EmpLog EL 
ON AD.datevalue = EL.Date
LEFT OUTER JOIN holiday H 
ON AD.datevalue = H.Date

WHERE  EL.Date IS NULL 
AND H.Date IS NULL  
AND DATENAME(dw,AD.DateValue) NOT IN ('Saturday','Sunday')

END 
```

拉吉

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T09:49:33.127

在 SQLServer2005+ 中使用递归 CTE

```
ALTER PROCEDURE reminders
AS
BEGIN
  SET NOCOUNT ON;
  DECLARE @MyDate date = GETDATE()
  ;WITH cte AS
   (
    SELECT @MyDate AS datevalue,
           1 AS [count_all_days],
           CASE WHEN DATENAME(dw, DATEADD(dd, - 1, @MyDate)) IN ('Saturday', 'Sunday') THEN 1 ELSE 0 END AS [count_week_days]
    UNION ALL
    SELECT DATEADD(dd, - [count_all_days], @MyDate), 
           [count_all_days] + 1,
           CASE WHEN DATENAME(dw, DATEADD(dd, - [count_all_days], @MyDate)) IN ('Saturday', 'Sunday') THEN [count_week_days] + 1 ELSE [count_week_days] END
    FROM cte
    WHERE [count_all_days] - [count_week_days] < 16
    )
    SELECT AD.datevalue
    FROM cte AD LEFT JOIN EmpLog EL ON AD.datevalue = EL.Date
                LEFT JOIN holiday H ON AD.datevalue = H.Date
    WHERE EL.Date IS NULL AND H.Date IS NULL  AND DATENAME(dw, AD.DateValue) NOT IN ('Saturday', 'Sunday')
END 
```

# android - 我清理了我的 android 项目，现在我得到了 ClassNotFoundException

> ID：13985087
> 
> 赞同：0
> 
> 时间：2012-12-21T06:06:32.833
> 
> 标签：android, android-widget, classnotfoundexception

我已经研究了一段时间了，但我遇到了一个我无法弄清楚的错误。我的小部件开始正常并正在更新（我遇到了画布引发回收位图错误的问题）所以我清理了我的项目，现在它无法运行。日志是：

```
12-21 00:49:18.967: E/AndroidRuntime(4967): FATAL EXCEPTION: main
12-21 00:49:18.967: E/AndroidRuntime(4967): java.lang.RuntimeException: Unable to instantiate receiver com.radicaldreamgames.WidgetrisWidget: java.lang.ClassNotFoundException: com.radicaldreamgames.WidgetrisWidget
12-21 00:49:18.967: E/AndroidRuntime(4967):     at android.app.ActivityThread.handleReceiver(ActivityThread.java:2202)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at android.app.ActivityThread.access$1500(ActivityThread.java:134)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1283)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at android.os.Handler.dispatchMessage(Handler.java:99)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at android.os.Looper.loop(Looper.java:137)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at android.app.ActivityThread.main(ActivityThread.java:4697)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at java.lang.reflect.Method.invokeNative(Native Method)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at java.lang.reflect.Method.invoke(Method.java:511)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:787)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:554)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at dalvik.system.NativeStart.main(Native Method)
12-21 00:49:18.967: E/AndroidRuntime(4967): Caused by: java.lang.ClassNotFoundException: com.radicaldreamgames.WidgetrisWidget
12-21 00:49:18.967: E/AndroidRuntime(4967):     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
12-21 00:49:18.967: E/AndroidRuntime(4967):     at android.app.ActivityThread.handleReceiver(ActivityThread.java:2197)
12-21 00:49:18.967: E/AndroidRuntime(4967):     ... 10 more 
```

这是清单：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.radicaldreamgames.widgetris"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
 -
        <activity
            android:name="StartActivity"
            android:theme="@android:style/Theme.NoDisplay" >
 -
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <service
            android:name=".ButtonServices"
            android:enabled="true" />
 -
        <receiver
            android:name="com.radicaldreamgames.WidgetrisWidget"
            android:label="@string/app_name" 
            android:enabled="true" >
 -
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
            </intent-filter>

            <meta-data
                android:name="android.appwidget.provider"
                android:resource="@xml/widgetris_widget_provider" />
        </receiver>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:11:01.903

```
 <activity
           android:name=".StartActivity"
            android:theme="@android:style/Theme.NoDisplay" > 
```

接收者应该喜欢：--

```
 <receiver
          android:name="com.msg2email.automatic.AutomaticMode"
           android:process=":remote" /> 
```

com.msg2email.automatic 是`Package`& AutomaticMode.Java`Class`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:09:57.377

请`android:enable="true"`在接收器标签中制作`manifest.xml`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:17:38.977

检查以确保您`package com.radicaldreamgames`在顶部有`WidgetrisWidget.java`.

# sencha-touch-2 - 将二维码与 sencha touch 集成

> ID：13985088
> 
> 赞同：2
> 
> 时间：2012-12-21T06:06:49.723
> 
> 标签：sencha-touch-2, barcode, phonegap-plugins

我需要在我的 sencha touch 项目中实现一个二维码。这是我曾经遵循的教程。 [http://simonmacdonald.blogspot.com/2011/12/installing-barcode-plugin-for-phonegap.html](http://simonmacdonald.blogspot.com/2011/12/installing-barcode-plugin-for-phonegap.html)

我按照教程进行操作，phonegap 插件在我的手机中运行良好。但是我有一个问题。我可以自定义布局并将插件实施到我的 sencha touch 项目中吗？

例如，当我单击**会员资料按钮**时，将出现条形码扫描仪。

这是我的代码。

```
Ext.define('bluebutton.view.BlueButton.MemberPopUp', {
extend: 'Ext.Panel',
xtype: 'memberpopup',

requires: [
    'Ext.form.Panel',
    'Ext.form.FieldSet',
    'Ext.field.Text',
     'bluebutton.view.BlueButton.MemberDetail'

],

config: {

    items: [
                 {
                     docked: 'top',
                     xtype: 'titlebar',
                     items: [
                         {
                             xtype: 'button',
                             text: 'Member Profile'
                         },
                          {
                              xtype: 'button',
                              text: 'Transaction History'
                          }
                      ]
                 },
                 {
                    html : '<div align="center"> <img src="/bluebutton/resources/images/user2.png" alt="Smiley face" height="150" width="150" border="5"> </div>'

                 }
             ]

} 
```

});

请帮忙。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:18:02.240

1）您可以使用**导航视图**

前任：

```
var view = Ext.create('Ext.NavigationView', {
fullscreen: true,

items: [{
    title: 'First',
    items: [{
        xtype: 'button',
        text: 'Push a new view!',
        handler: function() {
            //use the push() method to push another view. It works much like
            //add() or setActiveItem(). it accepts a view instance, or you can give it
            //a view config.
            view.push({
                title: 'Second',
                html: 'Second view!'
            });
        }
    }]
}] 
```

});

将扫描仪置于第二视图

或使用**卡片布局**

将按钮放在第一项中，将扫描仪放在第二项`Ext.getCmp(cardlayoutid).animateActiveItem( Object/Number activeItem, Object/Ext.fx.layout.Card animation)`中 在按钮处理程序中使用

# html - 从外部网址向我的网站添加字体不起作用

> ID：13985097
> 
> 赞同：2
> 
> 时间：2012-12-21T06:07:21.453
> 
> 标签：html, font-face

```
@font-face {
  font-family: 'Oswald';
                src: url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.eot');
                src: url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.eot?#iefix') format('embedded-opentype'),
                         url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.woff') format('woff'),
                         url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.ttf') format('truetype'),
                         url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.svg#oswaldregularwebfont') format('svg');
                font-weight: normal;
                font-style: normal;

} 
```

注意**：我在亚马逊网上商店这样做我也在本地 html 文件上尝试过，但这做同样的事情......不工作我做错了什么......

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:50:34.260

这个字体工作得很好：http: [//jsfiddle.net/xBmTG/](http://jsfiddle.net/xBmTG/)

```
@font-face {   
    font-family: 'Oswald';                 
    src:    url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.eot');                 
    src:    url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.eot?#iefix') format('embedded-opentype'), 
            url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.woff') format('woff'), 
            url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.ttf') format('truetype'), 
            url('http://www.dev.icyberking.com/fonts/oswaldregularwebfont.svg#oswaldregularwebfont') format('svg');
    font-weight: normal;
    font-style: normal;  
}

body
{
    font-family: Oswald, sans-serif;
} 
```

我认为问题在于您的 CSS 文件的其余部分中的选择器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:55:52.317

尝试 1：标准做法是始终`http://`在 url 中使用。在您的代码中修复它，然后重试。

尝试 2：我认为您正在向字体发出跨域请求，该请求被许多服务器故意阻止，以防止有人只是链接到字体，从而有效地窃取服务器带宽并可能违反字体的 EULA。

因此，如果您有权访问存储字体的服务器，则可以编辑配置文件以允许跨域请求字体，前提是您已经衡量了风险！

尝试 3：有人报告说，从 AWS 提供 webfonts 可能无法在 Firefox 和 IE 9+ 中工作，因为 AWS 不支持 Access-Control-Origin-Header。参考这个[问题](https://stackoverflow.com/questions/8245464/cross-domain-font-face-issues)！

因此，您必须将字体托管在支持 webfonts 跨域访问的服务器上。

# wordpress - 使用 .htaccess 重写特定的 WordPress 上传文件夹

> ID：13985103
> 
> 赞同：1
> 
> 时间：2012-12-21T06:07:40.090
> 
> 标签：wordpress, .htaccess, redirect, upload, rewrite

我需要重定向一些 WordPress 上传文件夹，而别管其他人。例如，我需要重定向`http://www.mysite.com/wp-content/uploads/2009/08/image.jpg`到`http://www.mysite.com/assets/2009/08/image.jpg`.

我试过这个：

```
RedirectMatch 301 http://www.mysite.com/assets/2009/08/(.*)$ http://www.mysite.com/wp-content/uploads/2009/08/$1 
```

我正在使用`RedirectMatch`其他重定向，并且它们正在工作，因此`RedirectMatch`已启用。

我不确定我错过了什么。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:16:22.813

协议和主机名不会进入`RedirectMatch`指令中的匹配项。它只匹配 URI（主机名之后的所有内容，例如`/wp-content/uploads/2009/08/image.jpg`）。此外，由于您正在重定向到同一个站点，因此`http://www.mysite.com`您的目标也不需要：

```
RedirectMatch 301 ^/assets/2009/08/(.*)$ /wp-content/uploads/2009/08/$1 
```

但你要问的问题是：

> 我需要将[http://www.mysite.com/wp-content/uploads/2009/08/image.jpg](http://www.mysite.com/wp-content/uploads/2009/08/image.jpg)重定向到[http://www.mysite.com/assets/2009/08/image.jpg](http://www.mysite.com/assets/2009/08/image.jpg)。

这意味着如果您想**从**wp-content**转到**资产，那么您已经将两件事倒退了。你需要交换它们：

```
RedirectMatch 301 ^/wp-content/uploads/2009/08/(.*)$ /assets/2009/08/$1 
```

或者你可以更笼统：

```
RedirectMatch 301 ^/wp-content/uploads/([0-9]{4})/([0-9]{2})/(.*)$ /assets/$1/$2/$3 
```

# java - 无法从设置中更改应用程序主题 :(

> ID：13985104
> 
> 赞同：0
> 
> 时间：2012-12-21T06:07:39.403
> 
> 标签：java, android, user-interface, themes, settings

我在通过更改应用程序设置中的偏好来以编程方式设置主题时遇到问题，我想在单击设置中的选项时在 Holo 和 Holo Light 之间切换。

任何建议，源代码，知识，链接等都表示赞赏，谢谢

* * *

## 仪表板活动.java

```
public class DashboardActivity extends Activity {
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    Utils.onActivityCreateSetTheme(this);
    setContentView(R.layout.dashboard_layout);

    if (Settings.theme.equals("Theme1")) {
        Utils.changeToTheme(this, Utils.THEME_LIGHT);

}else (Settings.theme.equals("Theme2")) {

    Utils.changeToTheme(this, Utils.THEME_DARK);

} 
```

* * *

## 设置.java

```
 public class Settings extends PreferenceActivity implements  
          OnSharedPreferenceChangeListener {   

 public static String theme = "Theme1";

    public void onBackPressed() {
    //  ListPreference listPreference2 = (ListPreference) findPreference("activityPref");
        ListPreference listPreference = (ListPreference) findPreference("themePref");
        String currValue = listPreference.getValue();
    //  String currValue2 = listPreference.getValue();
//      Log.d("ssss", "Value :" + currValue);
    //  Log.d("ssss", "Value :" + currValue2);

    //  activity = currValue2;
        theme = currValue;
        super.onBackPressed(); 
```

## 设置.xml

```
 <ListPreference
            android:title="Themes"
            android:summary="Change the UI of the application"
            android:key="themePref"
            android:entries="@array/themesReturnValue"
            android:entryValues="@array/themesDisplayWord" 
            android:defaultValue="Theme1"/> 
```

## 数组.xml

```
 <string-array name="themesReturnValue">
    <item>Light</item>
    <item>Dark</item>

    </string-array>   
    <string-array name="themesDisplayWord">
    <item>Theme1</item>
    <item>Theme2</item> 
```

## 风格

```
 <style name="LightThemeAndroid" parent="android:style/Theme.Holo.Light"> 
     </style>
   <style name="DarkThemeAndroid" parent="android:style/Theme.Holo">
    </style> 
```

这就是我得到的一切......我知道这是一项任务，但是任何帮助都非常感谢。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T04:21:00.827

缺少代码的重要部分，例如`Utils.onActivityCreateSetTheme(this);`可以`Utils.changeToTheme(this, Utils.THEME_LIGHT);`解释什么是错误/不工作的。

但是，这就是我为我的应用程序解决它的方式。

## 设置.xml

```
<ListPreference
   android:title="@string/theme_label"
   android:summary="@string/theme_summary"
   android:key="@string/theme_key"
   android:defaultValue="0"
   android:entries="@array/theme_entries"
   android:entryValues="@array/theme_values" /> 
```

## 字符串.xml

```
<string name="theme_label">Theme</string>
<string name="theme_summary">Change the app theme</string>
<string name="theme_key">theme</string> 
```

## 数组.xml

```
<string-array name="theme_entries" translatable="false">
   <item>Holo Light</item>
   <item>Holo Dark</item>
</string-array>
<string-array name="theme_values" translatable="false">
   <item>0</item>
   <item>1</item>
</string-array> 
```

## 实用程序.java

```
public class Util extends Activity {

public static void setAppTheme(Activity a) {
    SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(a);
    int mTheme = Integer.parseInt(sp.getString("theme", "0"));
    if (mTheme == 0) {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.ICE_CREAM_SANDWICH) {
                a.setTheme(android.R.style.Theme_Holo_Light_DarkActionBar);
                return;
            }
            a.setTheme(android.R.style.Theme_Holo_Light);
        }
        else {
            a.setTheme(android.R.style.Theme_Light);
        }
    }
    else {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
        a.setTheme(android.R.style.Theme_Holo);
    } else {
        a.setTheme(android.R.style.Theme_Black);
        }
    }
} 
```

## MainActivity.java

```
@Override
public void onCreate(Bundle savedInstanceState) {
    Util.setAppTheme(this);
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    } 
```

# actionscript-3 - 双击以选择 Flex 4 TextArea 中的文本时，如何防止包含句点？

> ID：13985106
> 
> 赞同：0
> 
> 时间：2012-12-21T06:08:11.377
> 
> 标签：actionscript-3, apache-flex, text, selection, editing

双击以选择 Flex 4 TextArea 中的文本时，如何防止包含句点？

例如，在 Flex 4 TextArea 组件中，如果我有单词“something.else”并且我双击单词“something”，它会突出显示“something.else”。

如何让它只突出“某物”？

我已经用谷歌搜索了这个，通过 API 挖掘，检查了相关的类，并没有找到任何“官方”的东西。

注意：我宁愿避免简单地拦截双击事件来自己处理设置选择范围，因为恢复其他现有功能的复杂性可能变得难以克服。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T08:31:43.823

1) TextArea 使用 RichEditableText。RichEditableText 使用 SelectionManager。SelectionManager 具有公共函数 mouseDoubleClickHandler。mouseDoubleClickHandler 使用 ParagraphElement（这是最终类）及其 findPreviousWordBoundary 和 findNextWordBoundary 函数。他们使用名称相似的 TextBlock 函数。TextBlock 是 playerglobal.swc 的一部分。

因此，可以通过覆盖 SelectionManager 的处理程序，然后扩展 RichEditableText 和一些基础设施类以使其使用您的自定义 SelectionManager 来应用具有覆盖方法的唯一“专业”方式。

但这不是一个简单的方法。

2）您可以在“。”周围放置一个空格字符。（更喜欢窄字体或创建其中一个字符宽度为 0 的自定义字体）。

```
rslt[0x0020] =  true;  //SPACE
            rslt[0x1680] =  true;  //OGHAM SPACE MARK
            rslt[0x180E] =  true;  //MONGOLIAN VOWEL SEPARATOR
            rslt[0x2000] =  true;  //EN QUAD
            rslt[0x2001] =  true;  //EM QUAD
            rslt[0x2002] =  true;  //EN SPACE
            rslt[0x2003] =  true;  //EM SPACE
            rslt[0x2004] =  true;  //THREE-PER-EM SPACE
            rslt[0x2005] =  true;  //FOUR-PER-EM SPACE
            rslt[0x2006] =  true;  //SIZE-PER-EM SPACE
            rslt[0x2007] =  true;  //FIGURE SPACE
            rslt[0x2008] =  true;  //PUNCTUATION SPACE
            rslt[0x2009] =  true;  //THIN SPACE
            rslt[0x200A] =  true;  //HAIR SPACE
            rslt[0x202F] =  true;  //NARROW NO-BREAK SPACE
            rslt[0x205F] =  true;  //MEDIUM MATHEMATICAL SPACE
            rslt[0x3000] =  true;  //IDEOGRAPHIC SPACE
            //members of LineSeparator category
            rslt[0x2028] =  true;  //LINE SEPARATOR
            //members of ParagraphSeparator category
            rslt[0x2029] =  true;
            //Other characters considered to be a space
            rslt[0x0009] =  true; //CHARACTER TABULATION
            rslt[0x000A] =  true; //LINE FEED
            rslt[0x000B] =  true; //LINE TABULATION
            rslt[0x000C] =  true; //FORM FEED
            rslt[0x000D] =  true; //CARRIAGE RETURN
            rslt[0x0085] =  true; //NEXT LINE
            rslt[0x00A0] =  true; //NO-BREAK SPACE 
```

3）所以，我认为您使用自定义双击处理程序的选项并没有那么糟糕。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-22T05:11:39.203

这是我采用的解决方案：

```
protected var lastClickedSelectionAnchorIndex:int = 0;

protected function textArea_doubleClickHandler( event:MouseEvent ):void
{

    if( event.target != textArea.textDisplay ) return;

    if( textArea.selectionAnchorPosition == textArea.selectionActivePosition ) return;

    var targetText:String = textArea.text;

    if( targetText == null || targetText == "" || targetText.indexOf( "." ) === -1 ) return;

    var selectedText:String = targetText.substring( textArea.selectionAnchorPosition, textArea.selectionActivePosition );

    if( selectedText == null || selectedText == "" || selectedText.indexOf( "." ) === -1 ) return;

    var selectionStart:int = textArea.selectionAnchorPosition;
    var selectionEnd:int = textArea.selectionActivePosition;

    if( selectionStart > selectionEnd ){

        selectionStart = textArea.selectionActivePosition;
        selectionEnd = textArea.selectionAnchorPosition;

    }

    if( lastClickedSelectionAnchorIndex < selectionStart || lastClickedSelectionAnchorIndex > selectionEnd ){

        return;

    }

    var newSelectionStart:int = targetText.lastIndexOf( ".", lastClickedSelectionAnchorIndex );
    var newSelectionEnd:int = targetText.indexOf( ".", lastClickedSelectionAnchorIndex );

    var startSelectionOffset:int = 1;

    if( newSelectionStart < selectionStart || newSelectionStart === -1 ){

        newSelectionStart = selectionStart;

        startSelectionOffset = 0;

    }

    if( newSelectionEnd > selectionEnd || newSelectionEnd === -1 ){

        newSelectionEnd = selectionEnd;

    }

    textArea.selectRange( newSelectionStart + startSelectionOffset, newSelectionEnd );

}

protected function textArea_mouseDownHandler( event:MouseEvent ):void
{

    try{

        lastClickedSelectionAnchorIndex = textArea.selectionAnchorPosition;

    }catch( error:Error ){

        lastClickedSelectionAnchorIndex = 0;

    }

} 
```

# c++ - 类序列化方法

> ID：13985109
> 
> 赞同：0
> 
> 时间：2012-12-21T06:08:29.200
> 
> 标签：c++, serialization

我想用 C++ 序列化对象。一开始我尝试了一个简单的解决方案，我重载了类的`<<`and`>>`操作符进行序列化；这样我可以选择女巫属性序列化为一个字符串流，然后我可以稍后将相同的字符串流反序列化为另一个相同类型的对象的属性。这一直有效，直到我意识到如果要序列化的类包含指向其他类的指针，那么我也需要重载它们的`>>`and`<<`运算符。

所以我开始想，如果我让对象序列化并逐个字符地遍历它，然后将结果保存到字符串中会怎样。然后稍后获取该字符串并将其重新解释为原始类。这样我就可以序列化任何包含任何类型信息的类，而不用关心它包含什么，也不会重载任何运算符。

我实现了第二种方法，它看起来没问题，但是是吗？

```
#include <cstdlib>
#include <iostream>
#include <vector>
#include <stdlib.h>
using namespace std;

class B
{
public:
      B(int one , int two)
      { 
            this->one = one; 
            this->two = two;
      }
      int one;
      int two;      
};

class A
{
public:
      A(int one , int two, B b)
      {
            this->one = one; 
            this->two = two;
            classB= new B(b);
      }
      int one;
      int two;   
      B* classB;   
};

int main(int argc, char *argv[])
{
    B b(3,4);
    A* a = new A(1,2, b);

    //Serializing 'a'
    char v[sizeof(A)];
    for (int i =0 ;i<sizeof(A);i++)
    {
        v[i] = (reinterpret_cast<char*>(a)[i]);
    }

    char* cp = (char*)malloc(sizeof(char) * sizeof(A));
    for (int i =0 ;i<sizeof(A);i++)
    { 
        cp[i] = v[i];                          
    }

    A* aa = reinterpret_cast<A*>(cp);

    cout << aa->one << endl;
    cout << aa->two<< endl;
    cout << aa->classB->one<< endl;

    free(cp);
    system("PAUSE");
    return EXIT_SUCCESS;

// OUTPUT is as expect:
   1 
   2 
   3
} 
```

所以你怎么看？您预见到第二种方法的任何并发症吗？请记住，我对 C++ 非常陌生，并且我正在尝试开发工作理论。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:21:55.407

您提到的第二种方法（基本上只是写入和读取数据结构的原始字节）不适用于存储指针的东西。为什么？这样看：

```
struct S
{
    int* i;
};
S s; 
```

假设您`s`通过执行以下操作编写原始字节：`file.write((char*)&s, sizeof(s))`。这将写入指针的原始值`i`，但不会写入*存储*在其中的值`i`（即返回的值`*i`）。如果您尝试重新加载数据结构，`i`将指向一个可能无效的内存区域（因为它是您保存/加载的存储*地址，而不是**地址处的内容*）。`i`

# iphone - 为什么我的 NSMutableDictionary 为空？

> ID：13985110
> 
> 赞同：0
> 
> 时间：2012-12-21T06:08:35.660
> 
> 标签：iphone, ios, xcode

这是我的 UIAlertView 委托方法。我不知道为什么 myWordsDictionary 在运行应用程序时为空。（注意：_dailyWords 是一个 NSDictionary 对象，书签是一个 NSString 对象。）

```
- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex 
{
    if (buttonIndex != [alertView cancelButtonIndex]) {
        NSLog(@"Clicked button index !=0");
        // Add the action here
        NSString *documentPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)  lastObject];
        NSString *myWordsPath = [documentPath stringByAppendingPathComponent:@"MyWords.plist"];
        NSMutableDictionary *myWordsDictionary = [[NSMutableDictionary alloc] initWithContentsOfFile:myWordsPath];
        [myWordsDictionary setValue:[_dailyWords objectForKey:bookmarked] forKey:bookmarked];
        [myWordsDictionary writeToFile:myWordsPath atomically:YES];
        NSLog(@"%@", [myWordsDictionary description]);
        [myWordsDictionary release];

    } else {
        NSLog(@"Clicked button index = 0");
        // Add another action here
    }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T06:16:43.780

`myWordsPath`可能不包含任何有效文件，并且您正在`NSMutableDictionary`从该路径中存在的文件的内容初始化您的文件。这就是为什么你得到一个空字典。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:33:35.447

**请尝试此代码..**

```
NSString *documentPath =    [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,    NSUserDomainMask, YES)  objectAtIndex:0];
documentPath =    [documentPath stringByAppendingPathComponent:@"MyWords.plist"]; 
NSMutableDictionary *myWordsDictionary = [[NSMutableDictionary alloc]    initWithContentsOfFile:documentPath]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:57:32.100

首先，尝试检查`myWordsPath`，如果返回 null，您应该查找并找到正确的路径。

其次，你如何生成你的 plist？`MyWords.plist`必须包含有效格式。如果你不确定，你应该从 XCode 中创建，有 plist 对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T07:00:48.277

```
NSBundle *bundle = [NSBundle mainBundle];
NSString *plistPath = [bundle pathForResource:
                       @"MyWords" ofType:@"plist"];
NSDictionary *dictionary = [[NSDictionary alloc]
                            initWithContentsOfFile:plistPath]; 
```

# c++ - C ++排序不适用于比较功能

> ID：13985111
> 
> 赞同：4
> 
> 时间：2012-12-21T06:08:44.247
> 
> 标签：c++

我正在尝试使用 sort C++ 函数对存储在向量上的结构进行排序。我以前做过这个，没有任何问题。但是我没有获得所需的输出。

如果我自己尝试比较函数，它可以工作，但是一旦我使用排序 C++ 函数，比较函数似乎不起作用。

这个想法是对 int 数组进行排序，就好像它们是按升序排列的二进制数一样。我知道有不同的方法可以做到这一点，但我不明白为什么这不起作用。

预期的输出是：

```
0000000000
0101010101
0110110110 
```

输出是：

```
0000000000
0110110110
0101010101 
```

我不明白这里发生了什么。这是我的代码：

```
using namespace std;
int n;
struct solucion{
  int array[150];
};

vector <solucion> soluciones;

bool compare(solucion solucion1, solucion solucion2){
  for(int i=1;i<=n;i++)
    if(solucion2.array[i]>solucion1.array[i])
      return true;
  return false;
}

void print() {
  for(int i=0;i<soluciones.size();i++){
    for(int k=1;k<=n;k++)
      cout << soluciones.at(i).array[k];
    cout << endl;
  }
}

int main(int argc, char *argv[])
{
    solucion solucion1;
    solucion1.array[1]=0;
    solucion1.array[2]=0;
    solucion1.array[3]=0;
    solucion1.array[4]=0;
    solucion1.array[5]=0;
    solucion1.array[6]=0;
    solucion1.array[7]=0;
    solucion1.array[8]=0;
    solucion1.array[9]=0;
    solucion1.array[10]=0;

    solucion solucion2;
    solucion2.array[1]=0;
    solucion2.array[2]=1;
    solucion2.array[3]=0;
    solucion2.array[4]=1;
    solucion2.array[5]=0;
    solucion2.array[6]=1;
    solucion2.array[7]=0;
    solucion2.array[8]=1;
    solucion2.array[9]=0;
    solucion2.array[10]=1;

    solucion solucion3;
    solucion3.array[1]=0;
    solucion3.array[2]=1;
    solucion3.array[3]=1;
    solucion3.array[4]=0;
    solucion3.array[5]=1;
    solucion3.array[6]=1;
    solucion3.array[7]=0;
    solucion3.array[8]=1;
    solucion3.array[9]=1;
    solucion3.array[10]=0;

    soluciones.push_back(solucion1);
    soluciones.push_back(solucion2);
    soluciones.push_back(solucion3);

    n=10;
    sort(soluciones.begin(),soluciones.end(),compare);
    print();
    system("PAUSE");
    return EXIT_SUCCESS;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T06:21:55.670

您的比较函数没有正确地在数组上建立[严格的弱排序](http://en.wikipedia.org/wiki/Strict_weak_ordering)（例如，如果`solucion1 = {1,0,1}`然后`solucion2 = {0,1,0}`根据您的比较函数，两者`solucion1 < solucion2`和`solucion2 < solucion1`都将为真，这显然是荒谬的）。

您应该将定义比较更改为确实提供此类排序的内容，例如[std::lexicographical_compare](http://en.cppreference.com/w/cpp/algorithm/lexicographical_compare)。

```
bool compare(solucion solucion1, solucion solucion2){
    return std::lexicographical_compare(
        solucion1.array+1, solucion1.array+1+n,
        solucion2.array+1, solucion2.array+1+n);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T06:16:52.047

一旦看到正确的结构较少，就需要返回 false：

```
bool compare(solucion solucion1, solucion solucion2){
  for(int i=1;i<=n;i++) {
    if(solucion2.array[i] > solucion1.array[i])
      return true; 
    else if (solucion2.array[i] < solucion1.array[i])
      return false; 
  }
  return false;  
} 
```

还有一种更好的初始化方法：

```
solucion solucion1 = {{0,0,0,0,0,0,0,0,0,0,0}};
solucion solucion2 = {{0,0,1,0,1,0,1,0,1,0,1}};
solucion solucion3 = {{0,0,1,1,0,1,1,0,1,1,0}}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:33:19.243

你的解决方案对我来说崩溃了，试试

```
 bool compare(solucion solucion1, solucion solucion2){
       for(int i=1;i<=n;i++)
       {
          if(solucion2.array[i]>solucion1.array[i])
               return true; 
          else
            return false;  
       }

   } 
```

# adhoc - Omnet++ : Ad Hoc 网络

> ID：13985113
> 
> 赞同：1
> 
> 时间：2012-12-21T06:08:59.920
> 
> 标签：adhoc, omnet++

我是 Omnet++ 的新手。虽然我尝试了一些基本的例子，例如 Tic-Toc 和 Source-Sink，但我无法弄清楚如何实现更复杂的网络。

问题：我想实现 Ad Hoc Network。我已经尝试过 INET 中给出的示例，但它们只能互相 ping 并回复。他们不交换实际的消息。我希望我的网络以消息的形式获得实际信息，然后通过 ad hoc 网络将这些消息传递给不同的节点。请帮忙！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T20:00:35.970

您应该对 inet/examples/adhoc/ieee80211 和 inet/examples/manetrouting 中的示例没问题。

至于“真实”的流量。您可以在主机中自由配置您希望的任何流量类型。Pinging 只是一个例子。查看 inet/examples/inet/udpburst 以了解如何配置 burting UDP 流量。

主机内的应用程序产生的流量完全独立于它们的通信方式（就像在现实生活中一样）。我可以通过无线和有线连接平等地 ping 和运行浏览器。

即你可以结合不同的例子。

# image - 在 Wordpress 的主页上显示随机帖子附件

> ID：13985115
> 
> 赞同：2
> 
> 时间：2012-12-21T06:09:12.497
> 
> 标签：image, wordpress, attachment

我正在尝试将 1 张随机图片附加到帖子上，并将其显示在首页（更改刷新时显示的图片）。我看到的所有代码都显示了如何在帖子页面的循环中显示附件，但这将从一个页面获取附件并将​​其显示在不同的页面上。

任何帮助都会很大，因为我对此没有真正的起点。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T07:18:33.103

您可以使用[`WP_Query`](http://codex.wordpress.org/Class_Reference/WP_Query)直接查询附件。它们实际上是仅用于附件的帖子类型。这段代码将输出`<img>`随机图像的标签：

```
$query = new WP_Query( array( 'post_status' => 'any', 'post_type' => 'attachment' ) ); 
$key = array_rand($query->posts, 1);

echo wp_get_attachment_image($query->posts[$key]->ID, 'medium'); 
```

该字符串`medium`可以替换为您在仪表板的媒体部分中设置的其他大小，或者您在代码中使用设置的自定义大小[`add_image_size()`](http://codex.wordpress.org/Function_Reference/add_image_size)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T09:26:02.603

未经测试，但这应该只从您的数据库中获取一行，并且它充分利用了 WP_Query 函数。

`'full'`您可以通过替换为数组（例如`array(200, 130)`）来更改显示的图像的大小。检查[法典以`wp_get_attachment_image()`](http://codex.wordpress.org/Function_Reference/wp_get_attachment_image)获取更多信息。

```
$args = array(
    'orderby'           => 'rand',
    'post_type'         => 'attachment'
    'post_status'       => 'inherit',
    'posts_per_page'    => 1
)
$query = new WP_Query($args);

if($query->have_posts()) : while($query->have_posts() : $query->the_post();

        echo wp_get_attachment_image(get_the_ID(), 'full');

    endwhile;

    wp_reset_postdata();

endif; 
```

# html - 菜单下的背景

> ID：13985116
> 
> 赞同：0
> 
> 时间：2012-12-21T06:09:15.550
> 
> 标签：html, css

我的客户想在顶部导航栏下放置黑色背景。它可以在 [http://seasonlawn.com/CellularSolutionsHTML/catalog.html](http://seasonlawn.com/CellularSolutionsHTML/catalog.html) 有人可以帮我如何在 css 中编码

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:18:43.613

在文本编辑器中打开`default.css`文件并更改以下代码：

```
#headertop {
    width: 100%;
    min-width: 1130px;
    padding-bottom: 7px;
    background: url("../images/topnav-rep.png") repeat-x left top transparent;
    height: 32px;
    position: fixed;
    z-index: 99999;
    top: 0;
    left: 0;
    border-top: 1px solid grey;
    margin-top: -1px;
} 
```

到

```
#headertop {
    width: 100%;
    min-width: 1130px;
    padding-bottom: 7px;
    background: #000000;
    height: 32px;
    position: fixed;
    z-index: 99999;
    top: 0;
    left: 0;
    border-top: 1px solid grey;
    margin-top: -1px;
} 
```

目前的问题是`../images/topnav-rep.png`图像无法访问。在上面的行中，我们删除了图像并将`#headertop`元素的背景颜色设为黑色（十六进制 - > #000000）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T06:13:47.800

问题是您包含（在`.categorymenus ul`）中的图像未能包含/加载您可以起诉[**萤火虫**](https://getfirebug.com/)检查

![在此处输入图像描述](../Images/ba7371399fe30b03356c4a46a58137de.png)

您需要做的是包含正确的路径，其他一切都可以

![在此处输入图像描述](../Images/120a9d987fa4bb0b6a291407154d4f06.png)

也有很多图片加载失败

![在此处输入图像描述](../Images/03a671dd2e72f7042de1fb8f5e8d93cd.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:46:45.003

```
<div class="categorymenus" style="display: block;background: url("http://www.lacovachamiami.com/images/layout/lightBackgound.png") repeat ;"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T06:13:03.150

为此类添加背景颜色

```
#main-nav .categorymenus{background-color:#000;}
.categorymenus ul{here background image failed to load check this once} 
```

# java - 如何在 Slick 中使用按钮事件切换图像？

> ID：13985121
> 
> 赞同：0
> 
> 时间：2012-12-21T06:09:45.947
> 
> 标签：java, image, user-interface, 2d, slick2d

因此，我正在尝试为我们正在开始的团队游戏设置一个简单的 GUI 设置，并且我正在尝试使用“I”作为它的热键来制作下拉清单，它下降得很好，但我似乎无法弄清楚在不使用不同的键使其缩回或本质上“取消”绘制图像的情况下找到一种方法'

```
public void render(GameContainer gc, StateBasedGame sbg, Graphics g) throws         
    SlickException {
    mapHud.draw(440, 1);
    hotBar.draw(160, 454);
    if(inv){
        inventory.draw(-40, 1);
    }
}

@Override
public void update(GameContainer gc, StateBasedGame sbg, int delta) throws    SlickException {
    Input input = gc.getInput();
    if(input.isKeyPressed(Input.KEY_I)){
        inv = true;
    }
    if(input.isKeyPressed(Input.KEY_ESCAPE)) {
        sbg.enterState(0);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T09:11:47.917

尝试这样的事情：

```
if(input.isKeyPressed(Input.KEY_I)){
 inv = !inv;
} 
```

# android - 新应用中的 FBreader 集成

> ID：13985128
> 
> 赞同：0
> 
> 时间：2012-12-21T06:10:16.817
> 
> 标签：android, user-interface, ebook-reader

我已经下载了[FBreader](https://github.com/geometer/FBReaderJ) for android 的源代码，现在我想将它集成到另一个 android 应用程序中。

现在，将应用程序与另一个应用程序集成的方式是什么？

*   将其用作插件？
*   还是使用 API？

我是 android 新手，还没有处理过这么大的代码。

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2012-12-21T06:13:05.990

您必须仅从 FBMain java 文件开始，并在需要时使用其他文件。

# list - 如何递归地请求输入，并返回一个列表

> ID：13985135
> 
> 赞同：3
> 
> 时间：2012-12-21T06:10:52.527
> 
> 标签：list, haskell, recursion, io

我在 Haskell 中尝试了许多不同的方法来做到这一点，但我一生都无法弄清楚这一点。

我想从用户那里得到一个姓名列表，如果我知道列表的长度（假设是 n），我想提示用户 n 次并在第 i 次询问第 i 个项目.

到目前为止，我有这个：

 `````
getinput a b
| a == b = []
| otherwise = input:getinput (a+1) b
where input = do
  a <- getLine
  return a 
````  `但我不断收到错误。

非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-21T06:18:58.753

你的代码有问题

*   的返回类型`input`是`IO String`所以你不能将它附加到列表中。
*   同样的返回类型`getinput (a+1) b`is`IO [String]`而不仅仅是`[String]`。

在这里，我已经更正了您的代码

```
getinput a b | a == b = return []
             | otherwise = do
                    i <- getLine
                    rest <- getinput (a+1) b
                    return (i:rest) 
```

一种更好，更哈斯克尔的方式

```
getinput2 n = sequence $ replicate n getLine 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-22T03:17:53.593

Satvik 有一个很好的答案，但您的代码也是 100% 正确的。

只要所有元素都属于同一类型，您**就可以**将 an 附加到列表的开头 - 所以您最终会得到具有该类型的东西`IO String``[IO String]`

您需要做的就是使用您编写的代码应用它`sequence`——例如：

```
sequence $ getinput 0 4 
`````

# javascript - jQuery“显示更多”“显示更少”代码问题

> ID：13985138
> 
> 赞同：0
> 
> 时间：2012-12-21T06:11:25.070
> 
> 标签：javascript, jquery, jquery-events

我正在使用下面的 jQuery 代码在我的网页上显示/隐藏额外的文本

```
jQuery.fn.shorten = function(settings) {
  var config = {
    showChars : 100,
    ellipsesText : "...",
    moreText : "more",
    lessText : "less"
  };

  if (settings) {
    $.extend(config, settings);
  }

  $('.morelink').live('click', function() {
    var $this = $(this);
    if ($this.hasClass('less')) {
      $this.removeClass('less');
      $this.html(config.moreText);
    } else {
      $this.addClass('less');
      $this.html(config.lessText);
    }
    $this.parent().prev().toggle();
    $this.prev().toggle();
    return false;
  });

  return this.each(function() {
    var $this = $(this);

    var content = $this.html();
    if (content.length > config.showChars) {
      var c = content.substr(0, config.showChars);
      var h = content.substr(config.showChars , content.length - config.showChars);
      var html = c + '<span class="moreellipses">' + config.ellipsesText + '&nbsp;</span><span   class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="javascript://nop/" class="morelink">' +  config.moreText + '</a></span>';
      $this.html(html);
      $(".morecontent span").hide();
    }
  });
}; 
```

我正在尝试将其应用于以下 html：

```
 <div id="idcncinfobox" class="cncinfobox">             
        <div class="basic_cnc_info_layout">
            <span class="cncDesc more">asdjlkaj  lakjd alkjs dajskldj uiojlksjdf kljsdf jirj klcj sdklfj skldjf rijfkls dj fjsdklfjr iej kldjf sh fbasnmb fa slkjdf dfjkjri wsll l ljdklfjkljsd jskldfj jsdklfj jskldjf jklsdjfklsdj irjklsjdfir lskdjfir jklsjdfkl jsir jklsjdklfjrijklsjdklf</span>
            <dl>                        
                <dt>Aliases</dt><dt1>:</dt1><dd itemprop="actor" class="cncAliases more">fasdfsdfssdlkfjskldjf klsjlkdfjklsdj jsdklfj sjdkljf sjkldfdjkl ksdjl; fsdj f;sdkljf sdkl;fj sdkjkfjsdkljfklj jsdkl;fjklsdjfkljdkjfkljdklsjfkldjsklf</dd>
            </dl>                        
        </div>   
    </div> 
```

我正在使用下面的 js 代码来调用 jQuery 函数：

```
 $(document).ready(function() {
        $(".cncDesc").shorten({
             "showChars" : 50,
            "moreText"  : "See More",
            "lessText"  : "Less"
        });
        $(".cncAliases").shorten({
             "showChars" : 20,
            "moreText"  : "See More",
            "lessText"  : "Less"
        });
    }); 
```

正如您在此处看到的，我试图在同一页面上的两个元素上显示/隐藏效果。由于某种原因，它不起作用。如果我只将它应用于一个元素，它就可以正常工作。我尝试调试它，发现当我将它应用于两个元素时，它会进入两次“点击”功能并最终取消效果。

我在这里创建了一个小提琴[http://jsfiddle.net/RzB7E/4/](http://jsfiddle.net/RzB7E/4/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:17:07.117

我想你可以改变这条线

```
$('.morelink').live('click', function() { 
```

到

```
$(this).find('.morelink').live('click', function() { 
```

正如你在这里看到的：http: [//jsfiddle.net/RzB7E/7/](http://jsfiddle.net/RzB7E/7/)

当您通过类绑定到单击事件时，您也为该类的**所有**元素绑定了**所有**单击。上面的更改指定了应用点击的特定对象。**`.morelink`**

 *** * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T06:22:13.297

同意@Sberry 的回答，但作为一个建议，使用这个

`$(this).find('.morelink').on('click', function() {`

由于从 jQuery v.1.7+ 开始，该`.live()`方法显然已被弃用。[**详情在这里**](https://stackoverflow.com/questions/8191064/jquery-on-function-for-future-elements-as-live-is-deprecated)**

# mysql - 使用表名未知的列值从表中检索某些字段

> ID：13985141
> 
> 赞同：0
> 
> 时间：2012-12-21T06:11:40.857
> 
> 标签：mysql, sql, servlets

我正在尝试从`jsp`. 我正在使用三个表中的数据，用户可以从中选择产品。所以我所知道的将是可以出现在这三个表中的任何一个中的产品名称，所以基本上我不知道表名。我将产品传递到`servlet`我想展示产品及其`cost`和的地方`itemno`。我使用了以下查询，但只收到一条错误消息

```
ResultSet rs=st.executeQuery
("SELECT * FROM indi.COLUMNS WHERE column_name ='" +  previousItems + "');"); 
```

其中 inde 是模式名称，previousitem 是我在 jsp 中从用户动态获取的产品名称。我收到错误消息，因为 sql 语法错误。以下是错误信息

> javax.servlet.ServletException：com.mysql.jdbc.exceptions.MySQLSyntaxErrorException：
> 表'indi.columns'不存在

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:20:42.093

您可以通过此查询表名称：

```
SELECT
    `TABLE_NAME`
FROM 
    `information_schema`.`TABLES`
WHERE
    `TABLE_SCHEMA` = [DATABASE_NAME] 
```

然后你可以查询每个表...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:52:02.660

如果你想检索一些你不知道列名的列值，有一个列名命令，它会给你现有表的所有列名

```
 SELECT DISTINCT TABLE_NAME 
FROM INFORMATION_SCHEMA.COLUMNS
WHERE COLUMN_NAME IN ('COLOM_NAME_TO_SEARCH')
AND TABLE_SCHEMA='YOUR_DATABASE_NAME'; 
```

我认为这会有所帮助。

# c++ - opencv和tesseract之间有什么冲突吗？

> ID：13985145
> 
> 赞同：1
> 
> 时间：2012-12-21T06:12:10.717
> 
> 标签：c++, opencv, ocr

我在我的项目中使用 tesseract 和 opencv。

但问题是当我使用opencv显示图像时，只出现图像窗口，但图像没有出现，完全是灰色的。

如果我注释了与 tesseract 相关的代码，opencv 可以正确显示图像。

太奇怪了。有谁能够帮助我？

提前致谢！

```
#include "stdafx.h"
#include <string>
#include <opencv2/opencv.hpp>

using namespace std;
using namespace cv;

int main() {
// [1]
const char* imagename = "phototest.tif";
Mat img = imread(imagename);
if(img.empty())
{
    fprintf(stderr, "Can not load image %s\n", imagename);
    return -1;
}
imshow("image", img);

tesseract::TessBaseAPI *myOCR = 
        new tesseract::TessBaseAPI();

// [2]
printf("Tesseract-ocr version: %s\n",
       myOCR->Version());
printf("Leptonica version: %s\n",
       getLeptonicaVersion());

// [3]
if (myOCR->Init(NULL, "eng")) {
  fprintf(stderr, "Could not initialize tesseract.\n");
  exit(1);
}

// [4]
Pix *pix = pixRead("phototest.tif");
myOCR->SetImage(pix);

// [5]
char* outText = myOCR->GetUTF8Text();
printf("OCR output:\n\n");
printf(outText);

// [6]
myOCR->Clear();
myOCR->End();
delete [] outText;
pixDestroy(&pix);
system("pause");
return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:36:20.970

您可以尝试在 imshow 之后的某处添加 cv::waitkey(10) ，这可能会解决您的问题。您也可以用 cv::waitkey(-1) 替换 system(pause) 。

# android - 软键盘上的搜索图标

> ID：13985146
> 
> 赞同：6
> 
> 时间：2012-12-21T06:12:20.607
> 
> 标签：android, android-softkeyboard

我有一个用于 MenuItems 的 searchIcon 的 ActionLayout。这个 ActionLayout 有一个 AutoCompleteTextView，它有`imeOption = "actionSearch"`.

但是当我单击 menuItems 并出现 ActionLayout 时，会弹出软键盘，但它仍然有换行键而不是 searchIcon。

**活动代码：**

```
private AutoCompleteTextView mEtSearchbar;
private MenuItem mSearchbar;

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) { 

    case R.id.searchIcon:

        mEtSearchbar.clearFocus();
        (new Handler()).postDelayed(new Runnable() {
            public void run() {
                mEtSearchbar.dispatchTouchEvent(MotionEvent.obtain(
                        SystemClock.uptimeMillis(),
                        SystemClock.uptimeMillis(),
                        MotionEvent.ACTION_DOWN, 0, 0, 0));
                mEtSearchbar.dispatchTouchEvent(MotionEvent.obtain(
                        SystemClock.uptimeMillis(),
                        SystemClock.uptimeMillis(), MotionEvent.ACTION_UP,
                        0, 0, 0));
            }
        }, 100);
        return true;
    default:
        return super.onOptionsItemSelected(item);
    }
}

@Override
public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
    // TODO Auto-generated method stub
    inflater.inflate(R.menu.m_menu, menu);

    mSearchbar = (MenuItem) menu.findItem(R.id.searchIcon);
    View actionview = mSearchbar.getActionView();
    mEtSearchbar = ((AutoCompleteTextView) actionview
            .findViewById(R.id.search_editText));
    final ImageView searchImage = ((ImageView) actionview
            .findViewById(R.id.search_image));
    searchImage.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {

            String s = mEtSearchbar.getText().toString();

                Intent intent = new Intent(getSherlockActivity(),
                        SearchActivity.class);
                intent.putExtra("search_string", s);
                startActivity(intent);
        }
    });

    mEtSearchbar
            .setOnEditorActionListener(new TextView.OnEditorActionListener() {

                @Override
                public boolean onEditorAction(TextView v, int actionId,
                        KeyEvent event) {
                    if (actionId == EditorInfo.IME_ACTION_SEARCH) {

                        searchImage.performClick();
                        return true;
                    }
                    return false;
                }
            });

    super.onCreateOptionsMenu(menu, inflater);
} 
```

*菜单布局*t

**m_menu.xml**

```
<menu xmlns:android="http://schemas.android.com/apk/res/android" >

    <item
        android:id="@+id/searchIcon"
        android:actionLayout="@layout/search_icon_actionview"
        android:icon="@drawable/search_icon"
        android:showAsAction="ifRoom|collapseActionView"
        android:title="Search"/>
    <item
        android:id="@+id/notificationIcon"
        android:icon="@drawable/notification_icon"
        android:orderInCategory="0"
        android:showAsAction="ifRoom|collapseActionView"
        android:title="Notifications"/>

</menu> 
```

**search_icon_actionview.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/search_image"
        android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        android:layout_alignParentRight="true"
        android:clickable="true"
        android:contentDescription="Search icon"
        android:src="@drawable/search_icon" />

    <AutoCompleteTextView
        android:id="@+id/search_editText"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_toLeftOf="@id/search_image"
        android:hint="Search"
        android:imeOptions="actionSearch" />

</RelativeLayout> 
```

如何在软键盘上有一个**searchIcon**或至少一个**完成按钮**，单击时必须执行我在**ActionLayout中的****searcIcon的单击**

 **谢谢你

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-21T06:27:06.657

我必须添加

```
android:singleLine="true" 
```

还**

# javascript - 获取鼠标坐标的问题

> ID：13985149
> 
> 赞同：-1
> 
> 时间：2012-12-21T06:12:37.377
> 
> 标签：javascript, javascript-events

我使用下面的代码来捕获鼠标坐标，并将其绑定到一个 div（容器）。在“容器”内还有一个名为“subDiv”的 div。我发现无论我在“subDiv”内移动到哪里，坐标始终是我刚刚输入“subDiv”的坐标（例如，我在（10,10）处输入“subDiv”，无论我在“subDiv”中移动到哪里，坐标始终为 (10,10))。有人知道为什么吗？ `var x,y;
var e = e||window.event;
return {
x:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
y:e.clientY+document.body.scrollTop+document.documentElement.scrollTop
};`

 `* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:22:27.480

您粘贴的内容如下演示。检查其他代码。

```
<!DOCTYPE html>
<html>
    <head>
        <script>
            function test(e){
                var x,y;
                var e = e||window.event;
                return {
                    x:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
                    y:e.clientY+document.body.scrollTop+document.documentElement.scrollTop
                }; 
            }
            function myFunction(event){
                var x = test(event);
                document.getElementById("demo").innerHTML=x.x + '.' + x.y;
            }
        </script>
    </head>

    <body>
        <div id="container">
            <div id="subDiv" style="width:199px;height:99px;border:1px solid"  onmousemove="myFunction(event)"></div>
        </div>
        <p id="demo"></p>
    </body>
</html> 
````

# jquery - IsPostBack 始终为 = false 并且 request.QueryString 为空

> ID：13985150
> 
> 赞同：2
> 
> 时间：2012-12-21T06:12:48.030
> 
> 标签：jquery, asp.net

我想知道为什么 IsPostBack 总是给我错误并且无法从 Request.QueryString 中获取价值。我错过了代码的任何部分吗？

我的JS

```
function BtnCal()
{
    $.post(missingkids_handler,
        {"Action":"MainAct", "SubAction":"SubAct"},
             function(response)
             {
                var rtnObj = response.Data;
                alert(rtnObj);
                $("#retnTxt").html(rtnObj);
             }, "json"); 

} 
```

我的处理程序 aspx.cs

```
protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {

            if (Request.QueryString["Action"] != "" && Request.QueryString["Action"] == "MainAct")
            {
                if (Request.QueryString["SubAction"] == "SubAct")
                {
                    Response.Clear();
                    Response.Write("Hello Here");
                    Response.End();
                }
            }
        } 
```

很简单，我只想在 JS 调用时从 handle.aspx 返回一个字符串

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T10:09:15.860

使用`Request.Form`而不是`Request.QueryString`. 它可能会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:17:32.503

只是一个客人，您使用的是 POST 而不是 GET 方法，您的数据不在查询字符串中。尝试使用`Request.Form`

```
if (Request.Form["Action"] != "" && Request.Form["Action"] == "MainAct") 
```

# coldfusion - Coldfusion Developer Edition 对开发团队成员是否合法？

> ID：13985156
> 
> 赞同：-3
> 
> 时间：2012-12-21T06:13:15.597
> 
> 标签：coldfusion, licensing

我知道 Coldfusion 开发者版在技术上与其企业版相似，但功能有限，但从法律角度来看，在公司的开发团队中使用开发者版开发商业应用程序是否合法？

请注意，我已经阅读了 Coldfusion EULA 和许多对人们说开发者版免费提供的问题的回复。现在，我的疑问是：对于一家 IT 公司的冷融合开发团队成员来说，像 Visual Studio 和其他软件一样，是否有任何“按用户许可”的东西？因为如果我们在开发团队中不需要任何许可证，那么一个由 10 或 1000 名成员组成的团队必须能够以 1 个生产服务器企业版许可证的成本开发应用程序，这在 AFAIK 中是不可能的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T07:09:02.453

我花了大约 30 秒的时间搜索了包含所有这些详细信息的[ColdFusion EULA 。](http://www.adobe.com/products/eula/server/)

底线是开发者版许可证的工作方式如下：

> ColdFusion 10 Developer Edition 是一个免费的、功能齐全的 ColdFusion 版本，用于本地主机开发应用程序，这些应用程序将部署在标准服务器或企业服务器上，并且可以从两个远程 IP 地址同时访问。

[来自 Adob​​e 网站](http://www.adobe.com/products/coldfusion-family.html)。

你怎么不只是用谷歌搜索这些东西？这不是比在 StackOverflow 上发布问题更容易吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:56:21.463

不，您不需要许可证即可运行开发人员版。

# android - 提高 Android 上 PhoneGap 应用程序的性能？

> ID：13985157
> 
> 赞同：1
> 
> 时间：2012-12-21T06:13:15.213
> 
> 标签：android, cordova

我是 phonegap 新手，我想知道如何提高使用 phonegap 创建的应用程序的性能。关键问题是当应用程序启动时，它在模拟器和设备上都很慢。当应用程序启动时，它首先显示原生 android 活动 UI，然后调用 webview。为什么会发生这种转变以及我如何对用户隐藏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T18:10:11.930

听起来你在谈论启动画面。

我会给你很多一般的答案，希望他们中的一些可以帮助你。

您可以使用 config.xml 文件延长“启动画面”的使用寿命，请检查：

[https://build.phonegap.com/docs/config-xml#android-prefs](https://build.phonegap.com/docs/config-xml#android-prefs)

Simon 发表了一篇关于 Android 启动画面的帖子：

[http://simonmacdonald.blogspot.dk/2012/04/phonegap-android-splashscreen-just-got.html](http://simonmacdonald.blogspot.dk/2012/04/phonegap-android-splashscreen-just-got.html)

或者在这里阅读一些：

[安卓应用黑屏](https://stackoverflow.com/questions/12994717/black-screen-for-android-app)

# iphone - 我在所有视图中都没有返回横向方向，但我必须在横向模式下只显示电子表格的一个视图怎么做？

> ID：13985158
> 
> 赞同：0
> 
> 时间：2012-12-21T06:13:23.130
> 
> 标签：iphone, objective-c, ios, ipad, cocoa-touch

假设我在应用程序中有多个视图，但我必须在横向模式下只显示电子表格的一个视图如何取悦给我的任何建议。一件事是我在所有视图中都没有返回横向视图请任何人给我一些想法这对我来说是一种乐趣

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
 {
    return (interfaceOrientation != UIInterfaceOrientationLandscapeLeft);
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:51:26.797

如果您在 iOS 6 中工作

在这种情况下，这两种方法可以帮助您。

1 - 支持的接口方向

```
- (NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskPortrait | UIInterfaceOrientationMaskLandscapeLeft;
} 
```

2 - 演示的首选界面方向

```
- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    return UIInterfaceOrientationLandscapeLeft;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T10:22:44.900

在你的视图中试试这个会出现那个视图

```
CGAffineTransform landscapeTransform = CGAffineTransformMakeRotation(degreesToRadian(90));
landscapeTransform = CGAffineTransformTranslate (landscapeTransform, +80.0, +100.0);

[self.view setTransform:landscapeTransform]; 
```

# google-cloud-print - 打印在 android 和 iOS 的 webview 中不起作用

> ID：13985161
> 
> 赞同：5
> 
> 时间：2012-12-21T06:13:41.537
> 
> 标签：google-cloud-print

我在我的网络应用程序中使用谷歌云打印来打印文档。当我在网络浏览器中运行该应用程序时，它工作正常..

```
<script src="http://www.google.com/cloudprint/client/cpgadget.js">
</script>
<script>
window.onload = function () {
alert('Loaded the page');
var gadget = new cloudprint.Gadget();
alert('Loaded the gadget');
gadget.setPrintButton(
cloudprint.Gadget.createDefaultPrintButton("print_button_container"));
gadget.setPrintDocument("url", "Test Page",     
"http://www.google.com/landing/cloudprint/testpage.pdf");
}
</script> 
```

但是，当我使用 android 中的 webView（iOS 中的 UI Webview）运行应用程序 Web 应用程序时，打印不起作用。它成功加载了打印机列表...我能够选择打印机并继续进行最终打印页面。之后，当我单击 print 时，没有任何反应。

请分享您的想法

# android - 显示项目名称以及存储在 android 的 sqlite 中的图像时出现问题

> ID：13985162
> 
> 赞同：11
> 
> 时间：2012-12-21T06:13:42.373
> 
> 标签：android, sqlite

我将项目及其详细信息存储在 sqlite 中，并显示项目的图像以及我正在使用的项目名称

```
 private void getDataAndPopulate() 
       {
        Cursor cursor = getEvents("bcuk_book");
        while (cursor.moveToNext())
        {
             String temp_id = cursor.getString(0);
             final String temp_name = cursor.getString(1);
             String temp_author=cursor.getString(2);
             String temp_desc=cursor.getString(3);
             byte[] temp_image = cursor.getBlob(4);
             String temp_rating = cursor.getString(5);
             String temp_price = cursor.getString(6);
             String temp_update=cursor.getString(7);
             mapId.add(temp_id);
             mapName.add(temp_name);
             mapAuthor.add(temp_author);
             mapDesc.add(temp_desc);
             mapRating.add(temp_rating);
             mapPrice.add(temp_price);
             map.add(temp_image);
             mapUpdated.add(temp_update);
                Log.e("temp_id from the sqlite", temp_id);
                Log.i(temp_name, temp_name);
                Log.i(temp_desc, temp_desc);
                Log.i(temp_rating, temp_rating);
                Log.e(temp_update,temp_update);
                String[] captionArray = (String[]) mapName.toArray(new String[mapName.size()]);
                itemsAdapter = new ItemsAdapter(
                        Bookicon.this, R.layout.item,captionArray);
                gridView=(GridView)findViewById(R.id.list);
                gridView.setAdapter(itemsAdapter);
                gridView.setOnItemClickListener(new OnItemClickListener() {
                    public void onItemClick(AdapterView<?> parent, View v, int position, long id)
                    {
                        Intent i = new Intent(getApplicationContext(), DetailsActivity.class);

                        i.putExtra("id", position);

                        startActivity(i);
                    }
                });
        }   
        } 
```

我的 Items 适配器类是::

```
 private class ItemsAdapter extends BaseAdapter implements ListAdapter
    {
        String[] items;
        public ItemsAdapter(Context context,int textViewResourceId,String[] items) 
        {
            this.items = items;
        }
        public View getView( int POSITION, View convertView,ViewGroup parent)
        {
            TextView cap = null ;
            View view = convertView;
            ImageView img = null;
            if (view == null) 
            {
                LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                view = vi.inflate(R.layout.item, null);
            }
            img = (ImageView) view.findViewById(R.id.image);
            Log.i("iiiiii","iiiii");
            cap = (TextView) view.findViewById(R.id.caption);
            System.err.println("Position of the book is "+mapName.get(POSITION));
            bookTitle=mapName.get(POSITION);
            System.err.println("title of the book is "+bookTitle);
            cap.setText(mapName.get(POSITION));
            img.setImageBitmap(BitmapFactory.decodeByteArray(map.get(POSITION), 0, map.get(POSITION).length));
            return view;
        }
        public int getCount() 
        {
            return items.length;
        }
        public Object getItem(int position) 
        {
            return position;
        }
        public long getItemId(int position) 
        {
            return position;
        }
    } 
```

显示时的错误是::

```
 12-21 10:12:28.792: W/dalvikvm(741): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
       12-21 10:12:28.842: E/AndroidRuntime(741): FATAL EXCEPTION: main
       12-21 10:12:28.842: E/AndroidRuntime(741): java.lang.IndexOutOfBoundsException: Invalid index 56, size is 56
       12-21 10:12:28.842: E/AndroidRuntime(741):   at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at java.util.ArrayList.get(ArrayList.java:304)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at com.books.bcukbook.Bookicon$ItemsAdapter.getView(Bookicon.java:254)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.AbsListView.obtainView(AbsListView.java:2012)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.GridView.makeAndAddView(GridView.java:1323)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.GridView.makeRow(GridView.java:328)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.GridView.moveSelection(GridView.java:885)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.GridView.layoutChildren(GridView.java:1230)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.GridView.setSelectionInt(GridView.java:1476)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.GridView.arrowScroll(GridView.java:1729)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.GridView.commonKey(GridView.java:1543)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.widget.GridView.onKeyDown(GridView.java:1494)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.KeyEvent.dispatch(KeyEvent.java:2551)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.View.dispatchKeyEvent(View.java:5500)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1242)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchKeyEvent(PhoneWindow.java:1879)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at com.android.internal.policy.impl.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1361)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.app.Activity.dispatchKeyEvent(Activity.java:2324)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1806)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.ViewRootImpl.deliverKeyEventPostIme(ViewRootImpl.java:3327)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.ViewRootImpl.handleFinishedEvent(ViewRootImpl.java:3300)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2460)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.os.Handler.dispatchMessage(Handler.java:99)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.os.Looper.loop(Looper.java:137)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at android.app.ActivityThread.main(ActivityThread.java:4424)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at java.lang.reflect.Method.invokeNative(Native Method)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at java.lang.reflect.Method.invoke(Method.java:511)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
       12-21 10:12:28.842: E/AndroidRuntime(741):   at dalvik.system.NativeStart.main(Native Method) 
```

代码的结果显示如下

![](../Images/cbcca3879290f90410020068d5e70f70.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:17:27.427

在您的第一个代码块中，您需要`while`在设置`GridView`以下代码之前关闭循环：

```
 private void getDataAndPopulate() 
       {
         //assuing that they are not null at this point..
         mapId.clear();
         mapName.clear();
         mapAuthor.clear();
         mapDesc.clear();
         mapRating.clear();
         mapPrice.clear();
         map.clear();
         mapUpdated.clear();

        Cursor cursor = getEvents("bcuk_book");
        while (cursor.moveToNext())
        {
             String temp_id = cursor.getString(0);
             final String temp_name = cursor.getString(1);
             String temp_author=cursor.getString(2);
             String temp_desc=cursor.getString(3);
             byte[] temp_image = cursor.getBlob(4);
             String temp_rating = cursor.getString(5);
             String temp_price = cursor.getString(6);
             String temp_update=cursor.getString(7);
             mapId.add(temp_id);
             mapName.add(temp_name);
             mapAuthor.add(temp_author);
             mapDesc.add(temp_desc);
             mapRating.add(temp_rating);
             mapPrice.add(temp_price);
             map.add(temp_image);
             mapUpdated.add(temp_update);
                Log.e("temp_id from the sqlite", temp_id);
                Log.i(temp_name, temp_name);
                Log.i(temp_desc, temp_desc);
                Log.i(temp_rating, temp_rating);
                Log.e(temp_update,temp_update);
          }//this would close the while loop

                String[] captionArray = (String[]) mapName.toArray(new String[mapName.size()]);
                itemsAdapter = new ItemsAdapter(
                        Bookicon.this, R.layout.item,captionArray);
                gridView=(GridView)findViewById(R.id.list);
                gridView.setAdapter(itemsAdapter);
                gridView.setOnItemClickListener(new OnItemClickListener() {
                    public void onItemClick(AdapterView<?> parent, View v, int position, long id)
                    {
                        Intent i = new Intent(getApplicationContext(), DetailsActivity.class);

                        i.putExtra("id", position);

                        startActivity(i);
                    }
                });

        } 
```

`while`在进入循环之前还要清除所有列表..

假设您正在使用`ArrayList`我已经更新代码以在进入 while 循环之前清除列表数据..

# r - 在 R 中使用超过 24 小时的持续时间

> ID：13985168
> 
> 赞同：6
> 
> 时间：2012-12-21T06:14:24.947
> 
> 标签：r, duration, time-format

我有一系列持续时间最长可达 118 小时的格式，例如“118:34:42”，其中 118 是小时，34 是分钟，42 是秒。输出应该是秒数。

我想将其转换为 R 中的某种时间类型，但我看过的大多数库都想添加一个日期（lubridate、zoo、xts），或者由于时间超过一个而返回“NA” 24小时范围。我可以解析字符串并返回几秒钟，但我想知道是否有更快的方法。

我对 R 有点陌生（可能需要 3 个月才能使用它）。

任何帮助弄清楚如何处理这个问题将不胜感激。

例子：

```
 library(lubridate)
    x <- c("118:34:42", "114:12:12")
    tt <- hms(x)
    Error in parse_date_time(hms, orders, truncated = truncated, quiet = TRUE) : 
  No formats could be infered from the training set.
    #try another route
    w <- "118:34:42"
    tt2 <- hms(w)
    tt2
    #[1] NA
    z <- "7:02:02"
    tt3 <- hmw(z)
    tt3
    #[1] "7H 2M 2S" 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-21T07:33:12.090

在`lubridate`包中有一个`hms()`返回时间对象的函数：

```
library(lubridate)

x <- c("118:34:42", "114:12:12")
tt <- hms(x)

tt
[1] 118 hours, 34 minutes and 42 seconds 
[2] 114 hours, 12 minutes and 12 seconds 
```

* * *

该函数`hms()`返回一个类对象`Period`：

```
str(tt)
Formal class 'Period' [package "lubridate"] with 6 slots
  ..@ .Data : num [1:2] 42 12
  ..@ year  : num [1:2] 0 0
  ..@ month : num [1:2] 0 0
  ..@ day   : num [1:2] 0 0
  ..@ hour  : num [1:2] 118 114
  ..@ minute: num [1:2] 34 12 
```

您可以使用这些对象进行算术运算。例如：

```
tt[2] - tt[1]
[1] -4 hours, -22 minutes and -30 seconds 
```

# slider - 带有子类别图像的自定义 jQuery 滑块

> ID：13985170
> 
> 赞同：1
> 
> 时间：2012-12-21T06:14:31.907
> 
> 标签：slider

我想创建一个具有以下功能的 jQuery 滑块：

*   主图像应该滑动wi
*   带有左右箭头的缩略图轮播。

单击缩略图时，应在大视口上显示具有幻灯片效果的图像数组，并且图像的标题将具有淡入淡出效果。

# android - 使用 Android 使用 ACTION_GET_CONTENT 仅获取特定视频

> ID：13985174
> 
> 赞同：0
> 
> 时间：2012-12-21T06:15:15.930
> 
> 标签：android, video

我正在开发一个安卓应用程序。这个应用程序创建视频并保存在 SD 卡中。这个应用程序还允许用户从图库中选择视频并运行。我的问题是我想限制用户只能从使用该应用程序创建的视频中获取。为此，当用户移动到画廊以挑选视频时，我只想显示那些由应用程序在凝胶中创建的视频。

我正在使用以下代码来显示视频库。

```
Intent intnt = new Intent();
intnt.setType("video/*");
intnt.setAction(Intent.ACTION_GET_CONTENT);
startActivityForResult(Intent.createChooser(intnt, "Select Video"),1); 
```

此代码显示视频库中的所有视频。但我不知道如何只显示使用应用程序创建的画廊中的那些视频。

# c++ - 为什么我看不到 Boost::scoped_ptr 的调试信息？

> ID：13985177
> 
> 赞同：1
> 
> 时间：2012-12-21T06:16:00.643
> 
> 标签：c++, visual-studio-2010, debugging, boost

我定义了一个范围指针：

```
scoped_ptr<MyClass> ptr; 
```

当我尝试调试（使用 Visual Studio 2010）时，我看不到`ptr`. 为什么？

# java - Java 中的自定义绘画 - 在 JPanel 上绘制 UI 元素

> ID：13985178
> 
> 赞同：3
> 
> 时间：2012-12-21T06:16:07.337
> 
> 标签：java, swing, user-interface, paint

我正在创建一个绘图板程序，基本上是 MS Paint 的简化版本。它大部分时间都在工作，但是当我在板上绘图时，当前选定的 UI 元素会显示在绘图区域上。

我尝试了paintComponent，它在我调用super.paintComponent(g) 时起作用（就像以前一样），但它在我绘制下一个对象之前清除了绘图区域。我覆盖了 update 并在其中放置了一个 println 语句，它永远不会被调用。

顶部的按钮是红色的，因为我将底部 JPanel 的背景设置为红色，以查看这些按钮的背景是什么。很明显，它们是底部 JPanel 的一部分。我正在使用 BorderLayout 进行布局。

![在此处输入图像描述](../Images/5d7c7159d9cd20f5d8072839cff861f7.png)

这是我的代码（删除了一些不相关的位）：

```
public class JSPaint extends JFrame implements Serializable
{    
    private static final long serialVersionUID = -8787645153679803322L;
    private JFrame mainFrame;
    private JPanel bp;
    private JButton ...
    private DrawingArea da;

    public JSPaint()
    {
        setTitle("JS Paint");
        setSize(1024, 768);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // Drawing area
        da = new DrawingArea();

        setLayout(new BorderLayout());

        // add the buttons to the panel
        buttonPanel();

        // Add the drawing area 
        add(bp, BorderLayout.SOUTH);
        bp.setBackground(Color.RED);
        add(da, BorderLayout.CENTER);
        da.setBackground(Color.BLUE);

        setVisible(true);        
    }

    // I put it here too just in case
    @Override
    public void update(Graphics g)
    {
        System.out.println("update in JSPaint called.");
        paint(g);
    }

   /*
    * Creates the panel for the buttons, creates the buttons and places them on
    * the panel
    */
    public void buttonPanel()
    {
        // Create the panel for the buttons to be placed in
        bp = new JPanel();

        saveButton = new JButton("Save");
        loadButton = new JButton("Load");
        //more buttons

        bp.add(saveButton);
        bp.add(loadButton);
        //more buttons

        // ActionListeners

        colorButton.addActionListener(new ActionListener()
        {
            public void actionPerformed(ActionEvent ae)
            {
                System.out.println("color");
                da.color();
            }
        });            
    }

    public class DrawingArea extends JPanel
    {        
        private static final long serialVersionUID = -8299084743195098560L;
        boolean dragged = false;

        @Override
        public void update(Graphics g)
        {
            System.out.println("Update in DrawingArea called");
            paint(g);
        }

       /*
        * Draws the selected shape onto the screen and saves it into a Stack.
        *
        */
        public void draw()
        {
            this.addMouseMotionListener(new MouseMotionListener()
            {                
                public void mouseDragged(MouseEvent me)
                {
                    dragged = true;
                }

                public void mouseMoved(MouseEvent me) {}
            });

            //more listeners...
            });
        }

       /*
        * Draws the selected String onto the screen when the mouse is held down.
        *
        */
        public void brush()
        {
            this.addMouseMotionListener(new MouseMotionListener()
            {                
                public void mouseDragged(MouseEvent me)
                {
                    // If we are in drawing mode, draw the String. Create a new 
                    // Figure Object and push it onto the Stack
                    if(activeButton == "brush")
                    {
                        startPoint = me.getPoint();

                        Figure fig = new Figure("String", startPoint, null, currentColor);
//                        figures.push(calculate(fig));
                        toPaint.push(calculate(fig));
                        repaint();
                    }
                }

                public void mouseMoved(MouseEvent me) {}
            });           
        }

        // more of the same...

        public void paint(Graphics g)
        {                        
            toSave.addAll(toPaint);

            while(!toPaint.isEmpty())
            {
                Figure f = toPaint.pop();
                String t = f.type;

                if(f.color != null)
                {
                    g.setColor(f.color);
                }

                switch(t)
                {
                    case "Rectangle": g.drawRect(f.x1, f.y1, f.width, f.height);
                        break;
                    case "Oval": g.drawOval(f.x1, f.y1, f.width, f.height);
                        break;         
                    case "Line": g.drawLine(f.x1, f.y1, f.x2, f.y2);
                        break;
                    case "Clear": 
                        g.fillRect(0, 0, da.getWidth(), da.getHeight());
                        clearStack(toSave);
                        break;
                    case "String": g.drawString(f.toPrint, f.x1, f.y1);
                        break;
                }
            }
        }
    }

    private class Figure implements Serializable
    {
        private static final long serialVersionUID = 4690475365105752994L;
        String type, toPrint;
        Color color;
        Point start;
        Point end;
        int x1, y1, x2, y2, width, height;

        public Figure(String figureType, 
            Point startPoint, Point endPoint, Color figureColor)
        {
            type = figureType;
            color = figureColor;
            start = startPoint;
            end = endPoint;
        }

        // Rect, Oval
        public Figure(String figureType, int figureX, int figureY, 
            int figureWidth, int figureHeight, Color figureColor)
        {
            type = figureType;
            x1 = figureX;
            y1 = figureY;
            width = figureWidth;
            height = figureHeight;
            color = figureColor;
        }

        // more shapes
    }

    public static void main(String args[])
    {
        SwingUtilities.invokeLater(new Runnable()
        {
            public void run()
            {
                new JSPaint();
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T09:54:56.457

如果当前选择的 UI 元素出现在绘图区域，这可能只有一个原因：您对 Graphics 对象做错了，可能对它们调用了翻译，并且在完成后没有重置翻译。（有关正确使用翻译的示例，请参阅[此链接）。](http://www.javalobby.org/java/forums/t19899.html)

# c# - 如何用下一个字符替换字符串值中的每个字符？

> ID：13985179
> 
> 赞同：3
> 
> 时间：2012-12-21T06:16:20.453
> 
> 标签：c#

如果我有这样的字符串变量：

```
string f = "ABC"; 
```

我想让它像这样：

```
f="CDE" 
```

这意味着我想获取该字符串中的每个字符并将其增加到接下来的 2 个值，如果我有 'a' 我想将其更改为 'c' 等等。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-21T06:19:22.853

以下会将字符增加到 + 2，当字符是字母表中的结束字符时，不确定您想要什么。

```
string f = "ABC";
string result = new string(f.Select(r =>(char) (r + 2)).ToArray()); 
```

对于字符串`ABC`结果将是`CDE`，但对于字符串`XYZ`结果将是`Z[\`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:22:02.127

您需要做的就是从字符串中获取单个字符，例如

```
string a = "aba";
char b = a[0]; //the value is equal to 'a'

Console.WriteLine((char)((int)b + 1)); 
```

然后将 char 转换为 int 并增加它然后将其转换回 char

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T07:04:46.033

您可以将字符串转换为 a `char[]`，根据需要修改每个`char`，然后将结果转换回字符串，如下所示：

```
char[] chars = "ABC".ToCharArray();
for (int i = 0; i < chars.Length; i++)
{
    chars[i] += (char)2;
}
string result = new string(chars);
//    result == "CDE" 
```

# macos - 如何使用 applescript 创建 .pkg 文件

> ID：13985181
> 
> 赞同：-1
> 
> 时间：2012-12-21T06:16:26.103
> 
> 标签：macos, applescript

我想使用applescript创建一个pkg文件。我已经阅读了各种applescript教程并研究了 [文档](https://developer.apple.com/library/mac/#documentation/AppleScript/Conceptual/AppleScriptX/Concepts/as_related_apps.html#//apple_ref/doc/uid/TP40001570-1148133-BAJJGIBG) ，但我找不到解决方案。谁能指导我完成这个。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-22T04:33:53.413

我不太清楚你的意思。如果您的意思是要创建一个 Applescript 应用程序的 .pkg，您可以使用 PackageMaker，它是 Apple Developer Tools 的一部分。如果您想使用 AppleScript 自动创建包，大多数 Apple 应用程序都是可编写脚本的，如果 PackageMaker 是，我不会感到惊讶。

[开发者工具](https://developer.apple.com/xcode/)

# jquery - 表格中的提交按钮

> ID：13985186
> 
> 赞同：0
> 
> 时间：2012-12-21T06:16:50.893
> 
> 标签：jquery, html

我不想使用表格。我想要一个提交按钮并发送一些关于提交按钮的信息。

```
<div id="tab" >
<table>
       <td>Num</th>
       <tr>Name </th>
       </td>
       <td> <tr>  Num</td>
       <tr>Name2 </th>
       </td>

</table>

 <input type="submit" id="mysubmit1" Value="Submit this" />
</div>

<script>
$('#tab').submit(function(e) {  
    //some code here.
}  
</script> 
```

我在获取提交按钮获取参考时遇到问题，以便我可以获取所有内容。我也试过 div.tab 。在这种情况下我是否遗漏了什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:21:01.520

首先尝试更正表中的节点标签（tr，td），如下所示。**它非常杂乱无章。**

```
<table>
  <tr>
   <td>Num</td>
   <td>Name </td>
  </tr>
  <tr>
   <td>Num</td>
   <td>Name2</td>
  </tr>
</table> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:23:08.710

你为什么不尝试类似的东西

```
<input type="button" id="mysubmit1" Value="Submit this" onclick="javascript:myfun()" /> 
```

然后`function`使用创建`javascript`

```
<script language="javascript">
function myfun(){
//do your work
}
</script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T06:25:57.687

试试下面的东西。​</p>

```
​$('#mysubmit1').on('click',function(){
     $('#tab').submit();
});​​​​​​​​​​​

 $('#tab').submit(function() {
       alert('Submitted');
      return false;
 }); 
```

​</p>

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T06:25:33.420

要发送用户未输入的信息，您仍然可以使用带有 type 属性设置为 hidden 的 input 元素的表单，例如，

```
<form method="post">
    <input name="field" type="hidden" value="<the data you want to send>" />
</form> 
```

然后就可以正常处理生成的post请求了

# android - 在 Android 的 SplashScreen 中显示 GIF 图像？

> ID：13985188
> 
> 赞同：1
> 
> 时间：2012-12-21T06:16:57.383
> 
> 标签：android, dynamic-splash-screen

我正在创建一个启动画面，我必须在其中使用 GIF 图像。我已经在使用动画 API 执行动画的动画启动画面上工作过。

现在，我的任务是处理 GIF 图像。如果可能，请建议我。？？？

# wpf - 如何将 WPF 项目转换为 Windows 窗体项目？

> ID：13985189
> 
> 赞同：-2
> 
> 时间：2012-12-21T06:16:58.837
> 
> 标签：wpf, winforms

> **可能重复：**
> [将 XAML WPF 窗口转换为 WinForm](https://stackoverflow.com/questions/5008082/convert-xaml-wpf-window-to-winform)

我有一个 wpf 项目，我想将该项目转换为 Windows 窗体项目。有没有可用的工具来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:04:56.890

如果想在 Winforms 中使用 WPF 控件，还有另一种方式：

WinForms 控件，允许您在 WinForms 中使用 WPF 控件。它被称为[元素主机](http://msdn.microsoft.com/en-us/library/system.windows.forms.integration.elementhost.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:59:04.947

这是不可能的，因为完整的标记和设计语言 XAML 与 WinForms 制作其标记的方式完全不同。此外，.NET WPF 框架包含许多独特的类行为和功能，它们也完全不同。

不管怎样：你为什么要尝试将 WPF 项目转换回 WinForms？;)

# if-statement - 使用批处理文件将多个 .csv 文件逐行组合成一个 .csv 文件

> ID：13985202
> 
> 赞同：2
> 
> 时间：2012-12-21T06:18:00.990
> 
> 标签：if-statement, for-loop, batch-file

我有一种情况，我需要将四个 CSV 文件合并为一个 CSV 文件。如果我只想一个接一个地添加它们，这很容易，但我需要让它们在 CSV 文件中并排放置。我知道所有四个文件都有相同数量的条目（在 1000 个条目范围内）。我一直在研究以下代码，它适用于小文件，但对于长文件效率极低。有没有更简单的方法来完成同样的任务？

```
@echo off
setlocal enabledelayedexpansion
Set R=1
Set T=1
Set Y=1
Set U=1
for /f %%a in (test1.txt) do (
    set I=!R!
    for /f %%b in (test2.txt) do (
        set J=!T!
        for /f %%c in (test3.txt) do (
            set K=!Y!
            for /f %%d in (test4.txt) do (
                set L=!U!
                If !I!==!J! If !J!==!K! If !K!==!L! echo %%a,%%b,%%c,%%d >> TestComplete.txt
                Set /a U=U+1
            ) 
            Set U=1
            Set /a Y=Y+1
        )
        Set Y=1
        Set /a T=T+1
    )
    Set T=1
    Set /a R=R+1
) 
```

注意：我知道我粘贴的代码使用的是 .txt 文件而不是 .csv 文件。我认为对一个人有用的东西对另一个人有用。

同样，只要文件很小，上面的代码似乎就可以很好地工作。当文件（在本例中为 test1.txt）有大约 1000 行文本时，我（当然）遇到了麻烦。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T17:56:48.313

[GnuWin](http://gnuwin32.sourceforge.net/)是 GNU（类 Unix）工具移植到 Windows 的集合，其中包含`paste`您想要的功能。但是，我感觉您更喜欢原生 Windows 答案，我想出了一个，但它并不漂亮。从[@walid2mi 的巧妙解决方案](https://stackoverflow.com/questions/7031687/merge-2-txt-files-in-a-single-tab-delimited-file-in-batch/7037534#7037534)开始并将其分解为 coljoin.bat：

```
@echo off
setlocal enabledelayedexpansion
for /f "delims=" %%a in (%1) do (
    set /p line=
    echo !line!, %%a
) 
```

您可以加入四个文件：

```
type a.txt | coljoin b.txt | coljoin c.txt | coljoin d.txt > TestComplete.txt 
```

所需时间应随文件长度线性增加，避免您的解决方案急剧减速。但是，当所有文件的行数不相等时，此解决方案的故障模式并不好。通常会提示用户输入缺失的行。

# cmd - 在 Windows CMD 中的 var 中扩展 var

> ID：13985203
> 
> 赞同：0
> 
> 时间：2012-12-21T06:18:30.637
> 
> 标签：cmd

我有`%SystemRoot%\blahblahblah`一个变量（例如，`variable a`）。但`echo !a!`会返回`%SystemRoot%\blahblahblah`（不展开`%SystemRoot%`）。我该如何扩展它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T10:45:00.960

您可以使用调用子程序的技巧，这将导致变量被扩展两次：

```
@Echo Off
set a=%%SystemRoot%%\blahblahblah
call :reparse set b=%a%

echo value of a: %a%
echo value of b: %b%

goto :EOF

:reparse
%*
goto :EOF 
```

该`:reparse`子例程只执行其所有参数。第一次扩展发生在执行调用时，第二次发生在 %* 被解释为`set b=%SystemRoot%\blahblahblah`.

# database - 如何（或我可以）从 Postgresql 数据库中选择一个随机值，不包括某些特定记录？

> ID：13985204
> 
> 赞同：1
> 
> 时间：2012-12-21T06:18:29.743
> 
> 标签：database, postgresql, postgresql-8.4

是否可以从数据库中随机选择一条记录，不包括某些具有特定状态的记录？

例如，

例如，我有一个用于存储员工详细信息的表。

```
id    employeename employeestatus
 1    ab           1
 2    cd           1
 3    ef           2
 4    gh           1
 5    ij           1 
```

我想从查询中获取一条状态不是 2 的随机记录。可以这样做吗？我使用的数据库是 PostgreSQL 8.4.15。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:00:43.747

试试这个

```
SELECT * 
FROM   employee 
WHERE  employeestatus != 2 
ORDER BY RANDOM()
LIMIT 1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T09:27:07.823

在同一主题上尝试其他问题

[选择随机行PostgreSQL的最佳方法](https://stackoverflow.com/questions/8674718/best-way-to-select-random-rows-postgresql)

它比你想象的要复杂（高效地做）

# objective-c - 在 ios 中为特定字符串格式设置日期格式

> ID：13985206
> 
> 赞同：0
> 
> 时间：2012-12-21T06:18:40.100
> 
> 标签：objective-c, ios, nsdateformatter

我正在尝试为以下字符串设置 NSDateFormatter：

```
 2012-12-18T09:05:24.000Z 
```

它是 S3Object Summary lastmodifed 对象的输出。如果我需要更改显示格式，我必须将其设置为什么格式？知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:25:49.057

对于 2012-12-18T09:05:24.000Z

格式字符串为 yyyy-MM-dd'T'HH:mm:ss.SSS'Z'

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:23:07.680

```
NSString *stringe = @"2010-06-21T20:06:36+00:00";
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ssZ"];

NSDate *reqDate = [dateFormatter dateFromString:string];
NSLog(@"%@",[dateFormatter stringFromDate:reqDate]); 
```

现在您将获得 NSDate 对象中的日期，以便您可以根据您的要求更改该日期。

# php - 奇怪的 AJAX 行为 - 一次没有保存正确的数据

> ID：13985212
> 
> 赞同：2
> 
> 时间：2012-12-21T06:19:19.187
> 
> 标签：php, javascript, jquery, ajax

我希望在我运行的这个论坛式网站中实现 AJAX，但最近，在测试它以了解它的要点时，我经历了奇怪的（并且可能是毁灭性的）数据丢失，并且想知道它是否是什么我应该担心。

发生的事情是这样的：我是 AJAX 的新手，正在我不久前创建的一个简单的文本编辑器应用程序中对其进行测试。我基本上将旧的“保存”表单改为使用 AJAX 运行（它将数据发布到 php 脚本）。一切进展顺利，正如预期的那样，但我突然去加载一个文本文件，发现它只保存了前 3 行文本。

那天我正在处理并保存两个文件，并且两者都发生了同样的事情。从那以后，我一直在疯狂地尝试重现这种行为，但我一直没能做到。

这只是侥幸，还是（更有可能）我只是不知道我应该注意 AJAX 的一些事情？提前谢谢大家 - 这是我个人提出的第一个问题，但多年来我从这个社区产生的问题和答案中受益匪浅。

**这是我当时使用的JS代码：**

```
function saveDraft()
    {
        if ($('#title').html() == "Title")
        {
            alert("Please change the title of your draft from \"Title\"");
            return;
        }
        $('#statusBox').html("...saving");

        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }

        xmlhttp.onreadystatechange=function()
        {
            if (xmlhttp.readyState==4 && xmlhttp.status==200)
            {
                $('#statusBox').html(xmlhttp.responseText);
                //document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
            }
        }
        xmlhttp.open("POST","createTextFile.php",true);
        xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        var fileName = $('#fileName').val();
        var fileContent = $('#fileContent').val();
        xmlhttp.send("fileName="+fileName+"&fileContent="+fileContent);
    } 
```

**从那以后，我发现 jQuery 使这 10 倍更清洁，并且正在使用：**

```
function saveDraft()
    {
        $.post("createTextFile.php",
        {
            fileName:$('#fileName').val(),
            fileContent:$('#fileContent').val()
        },
        function(data){
            $('#statusBox').html(data);
        });
    } 
```

**最后是php代码：**

```
$fileName = $_POST['fileName'];
$fileContent = $_POST['fileContent'];

$illegalChars = array(" ", "#", "%", "&", "{", "}", "\\", "<", ">", "*", "?", "/", "$", "!", "'", "\"", ":", "@", "+", "`", "|", "=");

$fileName = str_replace($illegalChars, "_", $fileName);
$fileHandle = fopen("files/".$fileName.".txt", 'w') or die("can't open file");
fwrite($fileHandle, $fileContent);
fclose($fileHandle);

echo "Saved on ".date("n\.j\.y \a\\t h:i:s a"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:09:13.077

您没有对`xmlhttp.send()`调用中的参数进行 URL 编码。如果`fileContent`包含一个`&`字符，PHP（或任何其他服务器端脚本语言）会将其视为参数的结尾。

jQuery 版本不应该发生这种情况。当您将数据作为对象提供时，jQuery 会自动执行正确的参数编码。

# string - 替换特殊字符以及字符串列表中的空格

> ID：13985215
> 
> 赞同：11
> 
> 时间：2012-12-21T06:19:30.600
> 
> 标签：string, r, special-characters, whitespace

我有这样的字符串字符向量：

```
x <- c("weather is good_today","it. will rain tomorrow","do not* get_angry") 
```

我想替换所有特殊字符和空格并用“_”替换它们。我用过这样`str_replace all`的：`stringr package`

```
x1 <- str_replace_all(x,"[[:punct:]]","_")
x2 <- str_replace_all(x1,"\\s+","_") 
```

但这可以在一个命令中完成，我可以得到这样的输出：

```
x
[1]"weather_is_good_today"
[2]"it_will_rain_tomorrow"
[3]"do_not_get_angry" 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-12-21T06:24:59.650

```
 gsub('([[:punct:]])|\\s+','_',x)

"weather_is_good_today"  "it__will_rain_tomorrow" "do_not__get_angry" 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-21T06:28:17.123

试试这个 。

```
x1 <- str_replace_all(x,"[[:punct:]\\\s]+","_") 
```

我没有 R 方面的知识，我建议了基于正则表达式的答案，用[Wiki检查](http://en.wikibooks.org/wiki/R_Programming/Text_Processing#Regular_Expressions)

# google-chrome-devtools - 动态加载的 javascript 不显示在源面板中？

> ID：13985216
> 
> 赞同：9
> 
> 时间：2012-12-21T06:19:36.160
> 
> 标签：google-chrome-devtools

例如，我有一个 ajax 请求，它返回`<script src='buggy.js'></script>`.

问题是，它没有出现在来源或资源面板中。这意味着我不能做所有很酷的事情，比如添加断点和在运行时检查元素。

我只能在 Network 面板下看到 js 文件的来源。

无论如何让chrome将它们添加到源面板？
或者你们如何调试动态添加的脚本？

使用金丝雀。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-20T20:48:55.993

我遇到了同样的问题，我找到了一个比故意异常更好的解决方法。它仍然需要更改代码，而不仅仅是在 chrome 开发工具中设置断点。

我尝试使用 OP 建议作为解决方法的“//# sourceURL=dynamicScript.js”，但它仍然没有显示给我，除非它在之前产生异常时已经存在于我的选项卡中.

编写“调试器”；线迫使它在那个位置断裂。然后，一旦它出现在“源”面板的选项卡中，我就可以像正常一样设置断点并删除“调试器”；线。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T10:38:47.963

请参考~~[https://developer.chrome.com/devtools/docs/javascript-debugging#breakpoints-dynamic-javascript](https://developer.chrome.com/devtools/docs/javascript-debugging#breakpoints-dynamic-javascript)~~

*（原始链接已损坏-以下存档链接）*

[http://web.archive.org/web/20141016164821/https://developer.chrome.com/devtools/docs/javascript-debugging#breakpoints-dynamic-javascript](http://web.archive.org/web/20141016164821/https://developer.chrome.com/devtools/docs/javascript-debugging#breakpoints-dynamic-javascript)（“**动态 JavaScript 中的断点**”）。

# iphone - 如何使用 iPhone sdk 在 iPhone 应用程序中启用文件共享

> ID：13985217
> 
> 赞同：3
> 
> 时间：2012-12-21T06:19:52.457
> 
> 标签：iphone, ios, xcode, itunes, file-sharing

> **可能重复：**
> [如何为我的应用启用文件共享？](https://stackoverflow.com/questions/6029916/how-to-enable-file-sharing-for-my-app)

如何在 iPhone 应用程序中启用文件共享功能。我对此非常好奇，因为当我将 iPhone 与 iTunes 连接时，它会显示三个应用程序。一个是Skype，第二个是bump，第三个是我自己的应用程序。我的应用程序是关于增强现实的，并在特定标记上显示一些视频和图像，我还进行了社交共享和 APNS 工作以及所有主要工作在我的应用程序中的 Flurry 集成，我没有做任何事情来启用此功能，但为什么以及如何发生这种情况。请告诉我。这对我来说会很棒。谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T06:26:08.723

您应该在应用程序 plist 文件中启用 UIFileSharingEnabled，将此值保持为`YES`这样，然后您的应用程序可以共享您的应用程序文档的数据![文件共享](../Images/be0832425ee4bfa73ef457858cf6a687.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-21T06:25:08.043

{projectname}-Info.plist 中有一个名为“应用程序支持 iTunes 文件共享”的选项。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-21T06:25:44.573

[`UIFileSharingEnabled`](http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html)如果在 Info.plist 中设置了密钥，您的应用程序将出现在 iTunes 文件共享中。（这在 Xcode 编辑器中显示为“应用程序支持 iTunes 文件共享”。）如果在您的项目中启用了此功能并且您不确定如何启用，或者您不小心在 Xcode 中为此单击了某些内容，或者您​​正在从一个项目中工作预设的模板。

# php - 在 php 中映射 XML 字段

> ID：13985220
> 
> 赞同：0
> 
> 时间：2012-12-21T06:20:00.307
> 
> 标签：php, mysql, xml, xml-parsing, schema

我有一个非常大的 xml。它有字段喜欢

```
<SegrigatedQualification>
    <EducationSplit>
      <University><![CDATA[G. H. Raisoni College of Engineering]]></University>
      <Degree><![CDATA[Engineering]]></Degree>
      <Year><![CDATA[2011]]></Year>
    </EducationSplit>
    <EducationSplit>
      <University><![CDATA[G. H. Raisoni College of Engineering]]></University>
      <Degree><![CDATA[Engineering]]></Degree>
      <Year><![CDATA[2010]]></Year>
    </EducationSplit>
    <EducationSplit>
      <University><![CDATA[G. H. Raisoni College of Engineering]]></University>
      <Degree><![CDATA[Engineering]]></Degree>
      <Year><![CDATA[2009]]></Year>
    </EducationSplit>
    <EducationSplit>
      <University><![CDATA[Diploma  I.T]]></University>
      <Degree><![CDATA[Diploma  I.T]]></Degree>
      <Year><![CDATA[2008]]></Year>
    </EducationSplit>
    <EducationSplit>
      <University><![CDATA[Nasik Board]]></University>
      <Degree><![CDATA[S.S.C]]></Degree>
      <Year><![CDATA[2003]]></Year>
    </EducationSplit>
  </SegrigatedQualification> 
```

我想映射字段并制作表格，然后将所有xml的信息存储到表格中。问题是如果我创建一个列 SagrigratedQualificaton 我如何存储教育拆分或大学、学位、年份？因为如果我创建单独的列，大学、学位等的信息将占用两行或更多行，这样表格就会变得多余。将 xml 映射到表中的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:26:28.337

关系数据库...每个 xml 结构应该是不同表中的不同记录。或者只是保持简单并将其存储在某个 TEXT 或 BLOB 字段中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:31:28.707

您可以使用 MagicParser 之类的工具来提取数据，然后轻松地将其映射到您自己的表和字段中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:55:57.077

```
<?php
require("MagicParser.php");

function myRecordHandler($record){

// This is where you write your code to process each record, such as loading a database

// The following code will print out each field in your sample data:
print $record["EDUCATIONSPLIT"];
print $record["UNIVERSITY"];
print $record["DEGREE"];
print $record["YEAR"];
}

$data = ""; // string variable contianing the data to parse

MagicParser_parse("string://".$data,"myRecordHandler","xml|SEGRIGATEDQUALIFICATION/EDUCATIONSPLIT/");
?> 
```

注意：如果您想从实际文件中加载它，那么您只需删除 $data 引用并使 MagicParser_parse 如下所示：

```
MagicParser_parse("your-xml-file.xml".$data,"myRecordHandler","xml|SEGRIGATEDQUALIFICATION/EDUCATIONSPLIT/"); 
```

# jquery-plugins - 我们可以使用带有 jQ uery 标签输入插件的 jQueryUI 自动完成功能吗？

> ID：13985222
> 
> 赞同：6
> 
> 时间：2012-12-21T06:20:07.430
> 
> 标签：jquery-plugins, jquery-ui-autocomplete

我想将两个插件合并在一起。

我正在为邮政编码字段使用 jquery 自动完成功能。

现在我想为邮政编码字段添加多个条目，所以我找到了 jQuery 标签输入插件。

所以我想使用带有 jQ​​uery 标签输入插件的 jQueryUI 自动完成功能。

我在 JSfiddle 上试过，但没有工作。链接：-http://jsfiddle.net/7aDak/1719/

谁能帮我实现这个功能。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-02T13:46:43.870

你在这里遇到了两个问题：

*   自动完成使用的默认参数名称是“term” - 简单参数无法更改，您需要通过“source”函数来更改
*   结果需要两个字段：“标签”和“值”，您的提供商未提供 - 需要重新映射响应。

下面的代码适合您的起点：

```
$('#tag1').tagsInput({
autocomplete_url:'http://ws.geonames.org/postalCodeSearchJSON',
autocomplete:{
source: function(request, response) {
  $.ajax({
     url: "http://ws.geonames.org/postalCodeSearchJSON",
     dataType: "json",
     data: {
        postalcode_startsWith: request.term
     },
     success: function(data) {
        response( $.map( data.postalCodes, function( item ) {
                        return {
                            label: item.countryCode + "-" + item.placeName,
                            value: item.postalCode
                        }
                    }));
     }
  })
}}}); 
```

[http://jsfiddle.net/YGm89/](http://jsfiddle.net/YGm89/)

# ruby-on-rails - Rails 3：如何总结记录

> ID：13985227
> 
> 赞同：5
> 
> 时间：2012-12-21T06:20:35.323
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1

我有模型寄存器，它根据部门和组标记用户的出勤情况。每个用户都有一个部门和组。

注册模型

```
date:date , departmentid:string , groupid:integer , one:integer , two:integer 
```

上述字段中的“一和二”是时间段（例如：从 9-14 、 14-18 ）。出勤被标记为用户属于当前日期、组 ID、部门 ID。所以同一天会有多个条目groupid，departmentid 和他们的出勤率。

下面的示例寄存器表

![在此处输入图像描述](../Images/d6c3ffda8cdf9ac2c4d7f0758c13e94a.png)

我想找没有。每天关注的用户数。目前我已经尝试过

```
@register = Register.where(:date=>"2012-12-28").sum(:one) 
```

它正在好起来，但我想找到喜欢的，

```
@register = Register.where(:date=>"2012-12-28").sum(:one , :two ,:three) 
```

可能吗....

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T09:34:54.780

这个怎么样 ？

```
class Register < AR:Base

...

  def self.attendee_count(slot) # slot is :one or :two
    scoped.group(:date ).sum(slot)
  end

end

Register.where(:date => Date.today).attendee_count(:one)
Register.where(:date => Date.today, :departmentid => "DP14").attendee_count(:two) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:55:23.490

这行得通吗？

~~Department.group(:date).sum(:one, :two)~~

# android - 自定义 ListView 项目重复

> ID：13985240
> 
> 赞同：0
> 
> 时间：2012-12-21T06:21:49.930
> 
> 标签：android, listview

我正在尝试将动态文本视图添加到列表视图项目。文本视图可以是 1-2 或更多，具体取决于我成功添加文本视图的数据，但问题是文本视图在滚动时重复。

我每次都在循环中创建 textview 的新对象。我知道 android 尝试重用现有视图但我每次都必须添加新视图的问题。

这是我在自定义适配器中的代码：

```
public class ViewHolder {
    TextView text1;
    LinearLayout linearLayout;
    TextView t;
    TextView t1;
} 
```

获取视图方法

```
public View getView(int position, View convertView, ViewGroup parent) {

    ViewHolder holder;

    if (convertView == null) {
        convertView = mInflater.inflate(R.layout.two_item_icon_text, null);
        holder = new ViewHolder();
        holder.text1 = (TextView) convertView.findViewById(R.id.text1);

        convertView.setTag(holder);
    } else {

        holder = (ViewHolder) convertView.getTag();

    }

    holder.linearLayout = (LinearLayout) convertView.findViewById(R.id.lin_lay_dynamic);
    holder.text1.setText("" + DATA1[position]);
    String tmp, dateparsed;
    dateparsed = DATA1[position].substring(0, DATA1[position].indexOf(":"));
    for (int x = 0; x < calendareventholder1.size(); x++) {

        objHolder = (CalendarEventHolder) calendareventholder1.get(x);

        if (objHolder.opendate.equals(displaydate[current])) {

            tmp = objHolder.dtstarttime.toString().substring(0, objHolder.dtstarttime.toString().indexOf(":"));

            if (Integer.parseInt(tmp) >= Integer.parseInt(dateparsed) && Integer.parseInt(tmp) < Integer.parseInt(dateparsed) + 1) {
                holder.t = new TextView(convertView.getContext());
                holder.t.setText(":-d ");
                holder.t.setOnClickListener(this);

                if (Common.isChildSessionAlerted(String.valueOf(objHolder.id), getApplicationContext(), object1)) {

                    holder.t.setText(holder.t.getText() + objHolder.dtstarttime + " " + objHolder.dtendtime + " :-a");
                } else {
                    holder.t.setText(holder.t.getText() + objHolder.dtstarttime + " " + objHolder.dtendtime);
                }
                holder.t.setTag(objHolder.id);
                holder.t.setTextSize(Common.getPreferenceInt(getApplicationContext(), Common.PREF_FONT_SIZE, 10));
                holder.t.setTextColor(Color.BLACK);
                holder.t.setText(getSmiledText(ScheduleActivity.this,
                holder.t.getText().toString()));
                holder.linearLayout.addView(holder.t);
                holder.t1 = new TextView(convertView.getContext());
                holder.t1.setOnClickListener(this);
                holder.t1.setText(objHolder.title);
                holder.t1.setTag(objHolder.id);

                holder.t1.setTextSize(Common.getPreferenceInt(getApplicationContext(), Common.PREF_FONT_SIZE, 10));
                holder.t1.setTextColor(Color.BLACK);
                holder.linearLayout.addView(holder.t1);
            }
        }
    }
    return convertView;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:40:46.563

由于它不是超级描述性的，因此很难真正理解持有人中的内容，但是如果我正确阅读了您的问题，那么您得到重复项目的原因是因为您只是添加而不`Views`删除之前的内容。`ListView`回收视图，这意味着以前存在的内容保留在那里。当它滚动时，它实际上一直在重复使用视图而不是创建新视图。我不会详细介绍，因为这里有很多类似问题的问题。但在顶部你应该做

```
getView() {
    /*previous stuff, and holder.linearLayout must have been set!*/
    if(holder.linearLayout.getChildCount() > 0)
        holder.linearLayout.removeAllViews(); 
```

这样，任何已经存在的视图都将被删除。最后一件事，你也应该看看[这个](http://www.youtube.com/watch?v=wDBM6wVEO70)。非常有助于理解为什么你必须做我发布的内容。

# javascript - 我想知道 jquery 的委托或 on(for delegate) 是如何工作的

> ID：13985243
> 
> 赞同：4
> 
> 时间：2012-12-21T06:21:54.043
> 
> 标签：javascript, jquery, delegates

有时我`on`用来委托事件，

```
dom.addEventListener("click",function(e){
  e.target for hander.
}
instead:
dom.on("click",'a'，function(){
  $(this).handler..
} 
```

所以，我想我可以这样写代码：

```
function delegate(dom,event,selector,handler){
   target = event.target;
   while selector.dom.not_match event.target
       target = target.parentNode
       recheck until match the selector and do handler;
   end
} 
```

我以前写过这个：

```
function delegate(dom,event,selector,handler){
    dom.addEvent event function(){
      target_arr = dom.find(selector);
      if(event.target in_array target_arr){
        do handler
      }else{
         target = target.parentNode until dom.
         recheck in target_arr;
      }
    }

} 
```

有人知道 jquery 在“委托”或“委托”上的工作方法是如何代表委托的吗？请给我看一下代码对“委托”的简单描述。非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:56:42.957

查看[jQuery 文档`on()`](http://api.jquery.com/on/#direct-and-delegated-events)，他们很好地解释了这个概念。

另外，你可以看看[源代码](https://github.com/jquery/jquery/blob/master/src/event.js)！

吸取的教训：

*   [`delegate`](https://github.com/jquery/jquery/blob/master/src/event.js#L943)只是`on`具有不同参数顺序的包装器
*   [`on`](https://github.com/jquery/jquery/blob/master/src/event.js#L848)只做一些参数规范化和句柄`one`，然后委托给`jQuery.event.add( this, types, fn, data, selector );`
*   [`event.add`](https://github.com/jquery/jquery/blob/master/src/event.js#L13)确实做了很多验证，处理多种类型和特殊情况，推送参数`$.data("events")`并调用`elem.addEventListener(type, jQuery.event.dispatch, false)`
*   [`event.dispatch`](https://github.com/jquery/jquery/blob/master/src/event.js#L330)然后再次查询句柄并从本机事件`$.data("events")`构建一个。[`jqEvent`](https://github.com/jquery/jquery/blob/master/src/event.js#L605)然后它开始搜索委托事件 -[代码](https://github.com/jquery/jquery/blob/master/src/event.js#L355)非常简单 - 并将它们推送到`handlerQueue`，然后是直接附加在元素上的正常处理程序。最后，它只是[运行`handlerQueue`](https://github.com/jquery/jquery/blob/master/src/event.js#L386), 从委托的处理程序开始。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T06:59:50.260

当你这样做时：

```
$(selector1).on(event, selector2, function); 
```

jQuery 将处理程序绑定到匹配的 DOM 元素上的事件`selector1`。当这个处理程序运行时，它会遍历 DOM 层次结构，从最具体的元素一直到元素匹配`selector1`，并检查是否有任何元素匹配`selector2`。如果找到匹配项，则`function`使用适当的执行上下文进行调用。

这就是如何`on()`处理在创建委托后动态添加的 DOM 元素上的事件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T06:36:50.623

随着 jQuery 1.4.2 的发布，引入了一个名为的新方法`delegate()`。此方法将处理程序附加到选定/指定元素的一个或多个事件。让我们举个例子。我创建了一个表并使用委托方法，我将单击事件处理程序附加到每个 td 元素。

```
<table border="1" width="200px" cellspacing="5" cellpadding="5">
   <tr>
       <td>Item 1</td>
       <td>Item 2</td>
   </tr>
   <tr>
       <td>Item 3</td>
       <td>Item 4</td>
   </tr>
</table> 
```

jQuery`delegate()`方法代码。

```
$(document).ready(function(){
  $("table").delegate("td","click",function(){
         alert('I am' + $(this).text());
  });
}); 
```

它需要 3 个参数。

1.  选择器
2.  事件类型
3.  事件处理程序

你会说这很可能用这种`bind()`方法。下面的代码将达到目的。

```
$(document).ready(function(){         
  $("table td").bind("click",function(){
      alert('I am' + $(this).text());
  });
}); 
```

那么`delegate()`方法有什么新变化呢？

bind() 方法将在调用时将事件添加到页面上的元素。例如，调用 bind() 时页面上只有 4 个 td。稍后，当您在表中**动态**添加更多 td 时，bind() 不会将 click 事件处理程序附加到这些 td。让我们扩展我们的演示并在页面上放置一个按钮，它将动态添加 td。

```
<input type="button" value="Add TD" id="btnAdd" />

$("#btnAdd").click(function(){
   $("table").append("<tr><td>Item 5</td><td>Item 6</td></tr>");
}); 
```

现在，当您运行此页面时，您将找不到新添加的 td 的点击事件。

但是使用`delegate()`，您会发现新添加的 td 的点击事件。delegate() 方法添加页面上的事件，并监听新元素并向它们添加事件。:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T06:32:47.237

单击一个段落以添加另一个段落。请注意， .delegate() 将单击事件处理程序附加到所有段落 - 甚至是新段落。

```
 <!DOCTYPE html>
            <html>
            <head>
              <style>
              p { background:yellow; font-weight:bold; cursor:pointer; 
                  padding:5px; }
              p.over { background: #ccc; }
              span { color:red; }
              </style>
              <script src="http://code.jquery.com/jquery-latest.js"></script>
            </head>
            <body>
              <p>Click me!</p>

              <span></span>
            <script>
                $("body").delegate("p", "click", function(){
                  $(this).after("<p>Another paragraph!</p>");
                });
            </script>

            </body>
            </html> 
```

另一个例子

```
 <!DOCTYPE html>
            <html>
            <head>
              <style>
              p { color:red; }
              span { color:blue; }
              </style>
              <script src="http://code.jquery.com/jquery-latest.js"></script>
            </head>
            <body>
              <p>Has an attached custom event.</p>
              <button>Trigger custom event</button>
              <span style="display:none;"></span>
            <script>

                $("body").delegate("p", "myCustomEvent", function(e, myName, myValue){
                  $(this).text("Hi there!");
                  $("span").stop().css("opacity", 1)
                           .text("myName = " + myName)
                           .fadeIn(30).fadeOut(1000);
                });
                $("button").click(function () {
                  $("p").trigger("myCustomEvent");
                });

            </script>

            </body>
            </html> 
```

添加版本的方法的工作：1.4.2

.delegate（选择器，事件类型，处理程序（事件对象））

选择器 - 用于过滤触发事件的元素的选择器。

eventType - 包含一个或多个以空格分隔的 JavaScript 事件类型的字符串，例如“click”或“keydown”或自定义事件名称。

handler(eventObject) - 触发事件时执行的函数。

添加的版本：1.4.2

委托（选择器，事件类型，事件数据，处理程序（事件对象））

选择器 - 用于过滤触发事件的元素的选择器。

eventType - 包含一个或多个以空格分隔的 JavaScript 事件类型的字符串，例如“click”或“keydown”或自定义事件名称。eventData 将传递给事件处理程序的数据映射。

handler(eventObject) - 触发事件时执行的函数。

添加的版本：1.4.3

委托（选择器，事件）

选择器 - 用于过滤触发事件的元素的选择器。

events - 一个或多个事件类型和要为它们执行的函数的映射。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-12-21T06:24:49.590

```
<!DOCTYPE html>
<html>
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js">
</script>
<script>
$(document).ready(function(){
  $("div").delegate("p","click",function(){
    $("p").css("background-color","pink");
  });
});
</script>
</head>
<body>

<div style="background-color:yellow">
<p>This is a paragraph inside a div element.</p>
</div>
<p>This is a paragraph.</p>

</body>
</html> 
```

# magento - Magento Cron Job 意外行为

> ID：13985250
> 
> 赞同：2
> 
> 时间：2012-12-21T06:22:24.983
> 
> 标签：magento, cron, crontab, magento-1.7

我正在开发一个自定义 Magento 模块并为其设置一个 Cron 作业。一切正常，但我担心 Cron 作业的意外行为（随机执行次数）。当我手动执行 cron.php 时，它会调用我模块的观察者方法超过 1 次（执行次数不固定，有时 3 次有时 5 次等）。
我只想执行一次观察者的方法。
这是我的代码。

**1) 水仙花/生日愿望/etc/config.xml**

```
...
 ...
 <crontab>
        <jobs>
            <daffodil_birthdaywish>
                <schedule>
                    <cron_expr>* * * * * *</cron_expr>
                </schedule>
                <run>
                    <model>birthdaywish/observe::sendBirthdayMail</model>
                </run>
            </daffodil_birthdaywish>
        </jobs>
 </crontab>
 ... 
```

**2) 水仙花/Birthdaywish/Model/observe.php**

```
Class Daffodil_Birthdaywish_Model_Observe {

    public function sendBirthdayMail() {

         echo "<h1>Hello</h1>";

    }

} 
```

如果我执行 cron.php 预期的输出应该是
**Hello**
但是当前的输出是一些时间
**Hello Hello Hello**

和一些时间
**Hello Hello Hello Hello Hello**

我只想知道为什么观察者的方法执行次数（随机次数）？
有什么方法可以将预定 cron 的状态更改为“COMPLETE”，这样它就不会执行两次？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T14:40:53.913

我认为这是因为您的 cron 计划：

```
 <schedule>
        <cron_expr>* * * * * *</cron_expr>
    </schedule> 
```

您指定 cron 应该一直运行。Magento 的 cron.php 只是从所有 cron 作业中收集所有信息，并将它们安排在 Magento 数据库的 cron_schedule 表中。

cron.php 应该一直被调用，它管理所有其他的 cronjobs。

因此，例如，如果您将 cronjob 设置为每小时运行一次并定期调用 cron.php，那么它每小时只会运行一次。

你会这样做：

```
 <schedule>
        <cron_expr>0 * * * *</cron_expr>
    </schedule> 
```

所以它每小时在 0 分钟运行一次（5 点钟、6 点钟等）。

也看看这里： http: [//www.magentocommerce.com/wiki/1_-_installation_and_configuration/how_to_setup_a_cron_job](http://www.magentocommerce.com/wiki/1_-_installation_and_configuration/how_to_setup_a_cron_job)

# extjs - Sencha Charts 在视口之外扩展列

> ID：13985252
> 
> 赞同：1
> 
> 时间：2012-12-21T06:22:27.323
> 
> 标签：extjs, sencha-charts

我正在努力熟悉煎茶图表。我想知道是否有任何方法可以将一列扩展到视口之外。例如，我有数据，我有最小值、第一个四分位数、第三个四分位数和最大值，然后我用这些数据制作了一个堆积图。然而，最大值包含几个可能与用户无关的异常值。我想要做的是在某个地方结束第三个四分位数之后的视图。有没有一种简单易行的方法来实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T16:48:47.703

您必须制定算法以获得超出第三个四分位数的记录百分比。这应该不会太难。

然后创建一个函数，将*图表的*宽度设置为等于：

`[viewport width] * (1 + [the percentage])`

您可以为此使用图表的`setWidth`方法。

您可以在图表的事件中调用此函数`beforerefresh`（它应该在图表存储数据加载之后但在图表上呈现之前触发），也可以在视口的调整大小事件中调用。

# iphone - capitalizedString 连字符后的单词大写？

> ID：13985258
> 
> 赞同：4
> 
> 时间：2012-12-21T06:23:32.513
> 
> 标签：iphone, objective-c, ios, nsstring

我有一个处理`capitalizedString`.`NSString`

我调用`capitalizedString`了以下字符串“bloor-yonge”

它返回：`"Bloor-Yonge"`

我记得专门从开发文档中阅读了以下内容`capitalizedString`：

“没有考虑其他常见的单词分隔符，例如连字符和其他标点符号，因此这种方法通常可能不会为多单词字符串产生预期的结果。”

尽管文档中声明了例外，但我很想知道为什么`yonge-->`会发生这种情况以及为什么会发生这种情况。`Yonge`任何人都可以解释这一点吗？

感谢您的时间和提前回复！

PS它实际上做了我想做的事——我只是为了将来的缘故很好奇，因为我可能不希望后连字符大写。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T07:32:38.430

这个方法对你有用，检查这个方法的输出

```
- (NSString *)CapitalizeString:(NSString *)str {

    [str stringByReplacingOccurrencesOfString:@"-" withString:@"#Check# "];

    [str capitalizedString];

    [str stringByReplacingOccurrencesOfString:@"#Check# " withString:@"-"];

    return str;

} 
```

![在此处输入图像描述](../Images/6057a37493def9ac6250ceaf0c23df85.png)

# jquery - Jquery：使用each（）根据第一个字符更改表格数据颜色

> ID：13985259
> 
> 赞同：0
> 
> 时间：2012-12-21T06:23:43.063
> 
> 标签：jquery, each

我正在尝试根据表格的第一个字符更改表格第 4 列中的文本颜色。如果第一个字符是“+”，那么颜色应该是绿色。如果第一个数字是“-”，则颜色应为红色，如果两者都不是，则保留黑色。这是我尝试编写的 Jquery 代码，但我还没有确定 each() 概念：

```
 $("tr td:eq(3)").each(function (i) {

    if (this.html().charAt(0) == '-') {
        this.css('color' , 'red');
    } 

    if (this.html().charAt(0) == '+') {
        this.css('color' , 'green');
    } 

  }); 
```

这是一个 HTML：

```
<table>
  <tr>
    <td>1</td>
    <td>A</td>
    <td>x</td>
    <td>-10</td>
  </tr>
  <tr>
    <td>2</td>
    <td>B</td>
    <td>y</td>
    <td>+25</td>
  </tr>
  <tr>
    <td>3</td>
    <td>C</td>
    <td>z</td>
    <td>66</td>
  </tr>
</table> 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:27:02.577

在您的代码`this`中是一个普通的 javascript 对象，您需要`jQuery`使用以下对象`$(this)`：

```
var col;
$("tr td:nth-child(4)").each(function(i) {
    col = $(this);
    if (col.html().charAt(0) == '-') {
        col.css('color', 'red');
    }

    if (col.html().charAt(0) == '+') {
        col.css('color', 'green');
    }
});​ 
```

**编辑**：您的使用`eq`没有达到预期的效果，我已经使用更新了代码`nth-child`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T06:41:09.557

我只对您的代码做了一些细微的更改，这项工作是您想要的。

```
$("tr").each(function () {
    var data = $(this).find("td:eq(3)").text();
    if(data.charAt(0) == '-')
    {
       $(this).find("td:eq(3)").css('color' , 'red');        
    }
    else if(data.charAt(0)== '+')
    {
       $(this).find("td:eq(3)").css('color' , 'green');           
    }
  }); 
```

# c# - 在 C# 中动态访问类及其属性

> ID：13985261
> 
> 赞同：7
> 
> 时间：2012-12-21T06:23:45.000
> 
> 标签：c#

我需要访问一些东西，比如在程序执行中`strClassname.strPropertyName`我将有不同的值`strClassname`和名称。`strProperty`

请以正确的方式指导我。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-12-30T19:21:20.633

在我看来，您正试图在运行时获取（或设置）对象的属性值。因此，这是执行此操作的最基本方法：

```
public static object GetPropertyValue(object instance, string strPropertyName)
{
    Type type = instance.GetType();
    System.Reflection.PropertyInfo propertyInfo = type.GetProperty(strPropertyName);
    return propertyInfo.GetValue(instance, null);
} 
```

...并设置一个值：

```
public static void SetPropertyValue(object instance, string strPropertyName, object newValue)
{
    Type type = instance.GetType();
    System.Reflection.PropertyInfo propertyInfo = type.GetProperty(strPropertyName);
    propertyInfo.SetValue(instance, newValue, null);
} 
```

如果您试图获取类的属性名称，这里有一个函数：

```
public static IEnumerable<string> GetPropertyNames(string className)
{
    Type type = Type.GetType(className);
    return type.GetProperties().Select(p => p.Name);
} 
```

假设您有 100 个对象，并且您想要获取每个对象的 Name 属性的值，下面是一个可以执行此操作的函数：

```
public static IEnumerable<String> GetNames(IEnumerable<Object> objects, string nameProperty = "Name")
{
    foreach (var instance in objects)
    {
        var type = instance.GetType();
        var property = type.GetProperty(nameProperty);
        yield return property.GetValue(instance, null) as string;
    }
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-12-21T06:29:03.647

您可以使用反射：

要获取特定类型的属性名称，请使用方法 Type.GetProperties。方法返回 PropertyInfo 对象的数组，属性名称可通过 PropertyInfo.Name 属性获得。如果您只想获取所有属性的子集（例如仅公共静态属性），请在调用 GetProperties 方法时使用 BindingFlags。您必须至少指定两个标志，一个来自 Public/NonPublic，一个来自 Instance/Static 标志。如果使用不带 BindingFlags 参数的 GetProperties，则默认标志为 Public + NonPublic + Instance。

以下示例显示了如何获取公共静态属性。

```
using System.Reflection;  // reflection namespace

// get all public static properties of MyClass type
PropertyInfo[] propertyInfos;
propertyInfos = typeof(MyClass).GetProperties(BindingFlags.Public |
                                              BindingFlags.Static);
// sort properties by name
Array.Sort(propertyInfos,
        delegate(PropertyInfo propertyInfo1, PropertyInfo propertyInfo2)
        { return propertyInfo1.Name.CompareTo(propertyInfo2.Name); });

// write property names
foreach (PropertyInfo propertyInfo in propertyInfos)
{
  Console.WriteLine(propertyInfo.Name);
} 
```

[[来源](http://www.csharp-examples.net/reflection-property-names/)]

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T06:58:33.990

如果有大约一百个类，并且您知道要访问每个类的特定属性，并且知道每个类都将被实例化，那么您*绝对*应该考虑创建一个包含您希望访问的属性的接口 ex。

```
public interface INamed
{
    Name { get; }
} 
```

示例用法：

```
var namedInstances = listOfClasses.Of<INamed>().Cast<INamed>();

foreach(var instance in namedInstances)
{
    var name = instance.Name;
} 
```

另一方面，如果您不打算实例化这些类，如果“名称”属性是静态或常量，则可以尝试以下方法：

```
public interface INamed { } //Marker interface

public static class GetNamedHelper
{
    private static IEnumerable<Type> GetAssemblyTypes(IEnumerable<Assembly> assemblies)
    {
        if (assemblies == null) yield break;

        foreach (var assembly in assemblies.Where(assembly => assembly != null))
        {
            IEnumerable<Type> types;
            try
            {
                types = assembly.GetTypes().Where(t => t != null);
            }
            catch (ReflectionTypeLoadException rtle)
            {
                types = rtle.Types.Where(t => t != null);
            }
            foreach (var type in types)
                yield return type;
        }
    }

    private static readonly Type namedMarkerInterface = typeof (INamed);

    public static IEnumerable<string> GetNames(params Assembly[] assemblies)
    {
        var types = GetAssemblyTypes(assemblies)
            .Where(t => t.GetInterfaces().Any(intf => intf == namedMarkerInterface));

        foreach (var type in types)
        {
            //ex. public static string Name
            var prop = type.GetProperty("Name", BindingFlags.Public | BindingFlags.Static);
            if (prop == null || !prop.CanRead) continue;
            yield return prop.GetValue(null, null) as string;

            //ex. public const string Name
            var field = type.GetField("Name", BindingFlags.Public);
            if (field == null || !field.IsStatic) continue;
            yield return field.GetValue(null) as string;
        }
    }
} 
```

无论哪种方式，您都需要知道要检查哪些类以及检查什么。

# asp.net-mvc - 我在哪里可以在 Orchard 模块中初始化 AutoMapper 映射？

> ID：13985267
> 
> 赞同：8
> 
> 时间：2012-12-21T06:24:28.417
> 
> 标签：asp.net-mvc, asp.net-mvc-4, automapper, orchardcms

我正忙于开发我的第一个非示例 Orchard 模块。它是少数控制器和视图，具有自定义 (EF) 数据访问权限，并且在很大程度上独立于 Orchard 内容类型和部分。通常我会在 Application_Start 处理程序中设置映射，但由于此 MVC 模块中的操作将在 Orchard 应用程序的上下文中调用，因此我不再拥有该入口点。我最明显和直接的解决方案是将映射初始化移动到映射视图模型的静态构造函数中，例如

```
public class ApplicantPersonalDetailsModel : MappedViewModel<Applicant>
{
    static ApplicantPersonalDetailsModel()
    {
        Mapper.CreateMap<Applicant, ApplicantPersonalDetailsModel>().Bidirectional();
    }
    ....
} 
```

我还能怎么做？一般来说，在 MVC3/4 中是否有更好的方法来执行此操作，或者最好是我可以在 Orchard 应用程序中抓取的事件或挂钩，以便在应用程序启动时也实现此目的？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-05-16T01:38:57.310

我这样做的方式是通过实施`IOrchardShellEvents`

```
 public class MenuOrchardShellEvents : IOrchardShellEvents
    {
        public void Activated()
        {
            Mapper.CreateMap<YSRB.Menu.Models.Records.Customer, YSRB.Menu.Models.ViewModels.CustomerViewModel>()
                .ForMember(c => c.CustomerType, 
                    m => m.MapFrom(
                        x => (CustomerTypes)x.CustomerType
                    )
                );
            Mapper.CreateMap<YSRB.Menu.Models.ViewModels.CustomerViewModel, YSRB.Menu.Models.Records.Customer>()
                .ForMember(c => c.CustomerType,
                    m => m.MapFrom(
                        x => (int)x.CustomerType
                    )
                );
        }

        public void Terminating()
        {
            //Do nothing
        }
    } 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T07:53:57.780

处理程序是初始化变量的最佳位置，即使您没有在模块内定义任何部分，您也可以定义一个没有驱动程序但有处理程序的部分。

```
public class InitPartHandler : ContentHandler
{
    public InitPartHandler(IRepository<InitPartRecord> repository)
    {
         OnInitializing<InitPart>((context, part) =>
                 // do your initialization here
            );
    }
} 
```

**编辑**

```
InitPart and InitPartRecord would be  

public class InitPart : ContentPart<InitPartRecord>
{

}

public class InitPartRecord : ContentPartRecord
{

} 
```

# jquery - 如何使用 jQuery 为圆形统计栏设置动画？

> ID：13985268
> 
> 赞同：1
> 
> 时间：2012-12-21T06:24:29.087
> 
> 标签：jquery, jquery-ui, progress-bar, loading, progress

我试图找到一种在页面加载时用 jQuery 填充圆形红色统计条的方法。它会从黑色开始并以圆周运动填充红色。它与实际数字没有任何关系，数字不会反映它填充的数量。我试图让所有的酒吧都填充到同一点。

这是我正在尝试完成的任务的预览，但是以圆周运动的方式。- [http://www.designfluxx.com/labs/bars/](http://www.designfluxx.com/labs/bars/)

这是圆形统计圈的图像预览 - [http://i.stack.imgur.com/Kh1mL.jpg](http://i.stack.imgur.com/Kh1mL.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-18T21:36:58.597

这是上面评论中给出的答案的***修改*版本：http:** [//jsfiddle.net/mnbishop017/XJWhW/](http://jsfiddle.net/mnbishop017/XJWhW/)（原始小提琴：http: [//jsfiddle.net/oskar/Aapn8/](http://jsfiddle.net/oskar/Aapn8/)）

这将在 Web 浏览器中为您提供**交互式 SVG 文件。**您可以修改代码以满足您的需求。

### HTML：

```
<input id="range" type="range" min="0" max="100" />
<canvas id="counter" width="240" height="240"></canvas> 
```

### CSS：

```
body {
    text-align:center;
}
canvas {
    display: block;
}
input {
    width: 200px;
} 
```

### JavaScript：

```
var range = document.id('range');
var bg = document.id('counter');
var ctx = ctx = bg.getContext('2d');
var imd = null;
var circ = Math.PI * 2;
var quart = Math.PI / 2;

ctx.beginPath();
ctx.strokeStyle = '#005075';
ctx.lineCap = 'round';        // can also be 'square'
ctx.closePath();
ctx.fill();
ctx.lineWidth = 10.0;

imd = ctx.getImageData(0, 0, 240, 240);

var draw = function(current) {
    ctx.putImageData(imd, 0, 0);
    ctx.beginPath();
    ctx.arc(120, 120, 70, -(quart), ((circ) * current) - quart, false);
    ctx.stroke();
}

range.addEvents({
    mousemove: function() {
        draw(this.value / 100);
    }
});

var myFx = new Fx({
    duration: 8000,
    transition: 'bounce:out',
    onStep: function(step){
        draw(step / 100);
        range.set('value', step);
    }
});

myFx.set = function(now){
    var ret = Fx.prototype.set.call(this, now);
    this.fireEvent('step', now);
    return ret;
};

myFx.start(0, 100); 
```

# java - 如何同步我的端口扫描程序，以便结果按执行顺序显示？

> ID：13985269
> 
> 赞同：1
> 
> 时间：2012-12-21T06:24:31.763
> 
> 标签：java, multithreading

我创建了一个类，它将尝试扫描某些主机的端口。

问题是我以随机方式得到结果，或者 w/e 先完成。

我如何确保在执行此端口扫描时显示结果？

测试方法（对不起谷歌）：

```
public class SimplePortScanner
{
    public static void main(String[] args)
    {
        for(int i = 78; i < 85; i++)
        {
            new Scanner("google.com", i).start();
        }
    }
} 
```

端口扫描方法：

```
import java.net.*;

public class Scanner extends Thread
{
    private String address;
    private int port;

    Scanner(String address, int port)
    {
        super(address);
        this.address = address;
        this.port = port;
    }

    public void run()
    {
        try
        {
            SocketAddress sa = new InetSocketAddress(address, port);
            Socket socket = new Socket();
            socket.connect(sa, 2000);

            System.out.println("Port in use: " + port);

            socket.close();
        }
        catch (Exception e)
        {
            System.out.println("Port not in use: " + port);
        }
    }
} 
```

我正在考虑创建一个线程号并将结果保存在数组中，以便它们被执行（至少我是如何看待它的）。

如何正确执行此操作？我只是在搞乱线程，如果我在这里搞砸了一些东西，我很抱歉......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:43:27.580

试试 java.util.concurrent

```
class Scanner implements Callable<Boolean> {
    ....

    @Override
    public Boolean call() {
        try {
            ....
            return true;
        } catch(Exception e) {
            return false;
        }
    }
}

ExecutorService ex = Executors.newCachedThreadPool();
List<Scanner> tasks = new ArrayList<>();
for (int i = 78; i < 85; i++) {
    tasks.add(new Scanner("google.com", i));
}
List<Future<Boolean>> list = ex.invokeAll(tasks);
for(int i = 0; i < tasks.size(); i++) {
    if (list.get(i).get()) {
        System.out.printf("Port is in use: %d", tasks.get(i).port());
    } else {
        System.out.printf("Port is not in use: %d", tasks.get(i).port());
    }
}
// dont forget to shutdown executor
ex.shutdown(); 
```

# python-2.7 - 使用 Boto 在 Amazon Mturk 中创建 HIT 时获取 HIT Id

> ID：13985277
> 
> 赞同：6
> 
> 时间：2012-12-21T06:25:14.923
> 
> 标签：python-2.7, boto, mechanicalturk

我正在亚马逊 Mturk 上做一个项目。我正在使用 Python Boto API。

boto.connection.create_HIT() 方法返回我试图从中获取 HIT Id 的 ResultSet 对象。我还在 Create_HIT() 中使用了响应组，例如“HITDetail”、HITAssignmentSummary 和“HITQuestion”。

```
my_hit = mturk_connection.create_hit(hit_type = my_hit_type,
            question = my_question,
            max_assignments = 1,
            annotation = "An annotation from boto ",
            lifetime = 8*60, 
            response_groups = ['HITDetail','HITQuestion','HITAssignmentSummary']) 
```

但我无法找到从返回的内容中获取 HIT Id 的方法。

请帮我解决一下这个。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T09:35:44.953

在 create_HIT() 中，将参数“response_groups”的值作为“Minimal”传递。然后在你的情况下，使用 my_hit[0].HITTypeId 它现在应该可以正常工作了.. :)

# mysql - MySQL在线导入导出

> ID：13985279
> 
> 赞同：3
> 
> 时间：2012-12-21T06:25:26.107
> 
> 标签：mysql, database, import, export

我需要在线导出和导入 MySQL 数据库，以便从/向网络传输数据。目前我将此功能与 'mysqldump' 一起使用。但它有一个限制，如果我将数据库导入现有数据库，则数据库会使用导入数据库中的新值进行更新。

我目前的要求是在源中导出数据库并将其导入目标，提供 IP 地址或系统名称。我应该通过 INFILE 和 OUTFILE 执行导入和导出。

编辑 ：

在我的应用程序中有 3 个选项，

1.  导出数据库 - 将数据库从应用程序导出到本地系统
2.  导入数据库 - 将数据库从本地系统中的文件导入到应用程序中的数据库
3.  在线交换 - 从源导出数据库并导入到目标系统。

本地的导入和导出是通过 INFILE 和 OUTFILE 场景实现的。我希望也使用相同的概念而不是 mysdqldump 来执行在线交换。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:50:36.050

我认为更好的解决方案是使用[复制](http://dev.mysql.com/doc/refman/5.0/en/replication.html)。会更安全。

# objective-c - 我需要使用 NSTimer 从陀螺仪 iOS 获取数据吗？

> ID：13985280
> 
> 赞同：0
> 
> 时间：2012-12-21T06:25:27.303
> 
> 标签：objective-c, ios, nstimer, gyroscope, core-motion

现在我正在使用以下代码从设备的陀螺仪中获取欧拉值。这是应该如何使用的吗？或者有没有更好的方法不使用 NSTimer？

```
- (void)viewDidLoad {
[super viewDidLoad];
CMMotionManager *motionManger = [[CMMotionManager alloc] init];
[motionManger startDeviceMotionUpdates];

NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:(1/6) target:self selector:@selector(read) userInfo:nil repeats:YES];
}

- (void)read {
CMAttitude *attitude;
CMDeviceMotion *motion = motionManger.deviceMotion;
attitude = motion.attitude;
int yaw = attitude.yaw; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:42:06.300

你可以用这个...

```
 [motionManager startDeviceMotionUpdatesToQueue:[NSOperationQueue currentQueue] withHandler:^(CMDeviceMotion *motion, NSError *error)
 {
     CMAttitude *attitude;
     attitude = motion.attitude;
     int yaw = attitude.yaw; 
 }]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:42:18.187

直接引用[文档](http://developer.apple.com/library/ios/#documentation/CoreMotion/Reference/CMMotionManager_Class/Reference/Reference.html)：

> 以指定的间隔处理运动更新
> 
> 为了在特定的时间间隔接收运动数据，应用程序调用一个“start”方法，该方法采用一个操作队列（NSOperationQueue 的实例）和一个特定类型的块处理程序来处理这些更新。运动数据被传递到块处理程序中。更新频率由“间隔”属性的值决定。
> 
> [...]
> 
> 设备运动。设置 deviceMotionUpdateInterval 属性以指定更新间隔。调用或 startDeviceMotionUpdatesUsingReferenceFrame:toQueue:withHandler: 或 startDeviceMotionUpdatesToQueue:withHandler: 方法，传入 CMDeviceMotionHandler 类型的块。使用前一种方法（iOS 5.0 中的新方法），您可以指定用于姿态估计的参考框架。旋转速率数据作为 CMDeviceMotion 对象传递到块中。

所以例如

```
motionManger.deviceMotionUpdateInterval = 1.0/6.0; // not 1/6; 1/6 = 0
[motionManager 
    startDeviceMotionUpdatesToQueue:[NSOperationQueue mainQueue]
    withHandler:
        ^(CMDeviceMotion *motion, NSError *error)
         {
             CMAttitude *attitude;
             attitude = motion.attitude;
             int yaw = attitude.yaw; 
         }]; 
```

我只是懒惰地使用了主队列，但这仍然可能是比 NSTimer 更好的解决方案，因为它会给运动管理器一个明确的线索，告诉你多久需要更新一次。

# c++ - 填充字符串向量

> ID：13985290
> 
> 赞同：3
> 
> 时间：2012-12-21T06:26:04.427
> 
> 标签：c++, stl, vector

我正在尝试使用 STL 向量的默认“填充”构造函数填充字符串向量。但是，我收到以下错误消息：

```
10:55: error: conversion from ‘std::vector<std::basic_string<char> >*’ to non-scalar type ‘std::vector<std::basic_string<char> >’ requested 
```

这是源代码：

```
#include <vector>
#include <string>
#include <iostream>

using namespace std;

int main()
{
    string x = "abcd";
    vector< string > stv = new vector< string > (10, x);
    for ( int i = 0; i < stv.size(); i++) {
        cout << stv[i] << endl;
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:29:47.797

问题是您`new`不必要地使用。真的，您应该直接使用构造函数而不是进行赋值。

```
std::vector<std::string> stv(10, x); 
```

你有它的方式，你需要这样做：

```
std::vector<std::string> *stv = new std::vector<std::string>(10, x);

for ( int i = 0; i < stv->size(); i++) {
    cout << (*stv)[i] << endl;
} 
```

另外，与其做`string x = "abcd";`，不如做`string x("abcd");`。第一个将使用默认构造函数创建一个空字符串对象，然后调用`operator=`以设置字符串内容，而第二个将使用构造函数从`char*`意志构建它更有效。这与您不这样做的原因相同：

```
std::vector<std::string> stv = std::vector<std::string>(10, x); 
```

这将创建两个向量，然后将第二个向量中的所有 10 个元素复制到第一个向量中，然后丢弃第二个向量，因为需要做很多额外的工作。由于移动语义，这现在在 C++11 中不再是一个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:31:38.410

您正在尝试将指向 std::vector 的指针分配给 std::vector。

您可以直接使用 std::vector 构造函数：

```
std::vector<std::string>    stv(10, x); 
```

或者您可以使用指向 std::vector 的指针：

```
std::vector<std::string>*   stv = new std::vector<std::string>(10, x) 
```

祝你好运

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T06:27:35.520

主要问题是这`stv`不是一个指针，您不需要 new 来分配动态它，可以像这样修复：

```
std::vector< std::string > stv(10, x); 
```

# c++ - 可以在 C++03 中有条件地声明朋友类吗？

> ID：13985292
> 
> 赞同：5
> 
> 时间：2012-12-21T06:26:07.697
> 
> 标签：c++, friend, c++03

只有在某些（编译时）条件为真时，我才想声明一个朋友类。例如：

```
// pseudo-C++
class Foo {
    if(some_compile_time_condition) {
        friend class Bar;
    }
}; 
```

我在互联网上没有找到任何解决方案。[我浏览了在编译时动态生成结构](https://stackoverflow.com/questions/11376149/generating-structures-dynamically-at-compile-time)问题的所有答案。他们中的许多人使用 C++11 `std::conditional`，但我想知道是否可以在*不使用预处理器的情况下*在 C++03 中执行此操作。

此解决方案[https://stackoverflow.com/a/11376710/252576](https://stackoverflow.com/a/11376710/252576)将不起作用，因为`friend`船舶未继承（[具有继承的朋友类](https://stackoverflow.com/questions/13844129/friend-class-with-inheritance)）。

**编辑**只是为了使它更容易看到，如下评论中所述：此要求是不寻常的。这是我正在从事的硬件仿真新研究项目的一部分。测试台是用 C++ 编写的，我想以波形显示变量。我研究了各种其他选项，并发现出于实际考虑我需要使用 a `friend class`。朋友将捕获值并生成波形，但我希望仅在需要波形时才让朋友，而不是一直。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T08:51:46.420

使用`friend std::conditional<C, friendclass, void>::type;`where`C`是你的条件。非类类型的朋友将被忽略。

条件模板在 C++03 中很容易实现。但是，由于 C++03 不支持 typedef 朋友，因此您需要在此处使用以下语法

```
namespace detail { class friendclass {}; }

class Foo {
  friend class std::conditional<C, 
    friendclass, detail::friendclass>::type::friendclass;
}; 
```

请注意，详细虚拟类名称需要与此解决方法中潜在朋友的名称相匹配。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T07:03:23.667

[class.friend]/3 告诉这个：

> 未声明函数的友元声明应具有以下形式之一：
> `友元详述类型说明符；
> `朋友简单类型说明符；
> `朋友类型名说明符；```

 ```因此，没有宏就不可能有条件地声明一个类的朋友。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-21T07:35:52.780

不幸的是，这*似乎*在 C++ 编译器中是不可能的：也就是说，似乎只有预处理器可以在这里提供帮助。*注意：Johannes 有提议，所以有希望！*

但是我会注意到：

*   友谊不需要你实际使用它
*   友谊是纯编译时构造（如访问说明符），不会对任何主要编译器产生任何运行时损失

没有理由不拥有*无条件*的友谊，而只有在满足某些条件（静态或动态）时才使用它。

*注意：将来，这是* [static_if](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3329.pdf) *提案可以涵盖的内容。*

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T08:54:00.087

**注意：** [Johannes](https://stackoverflow.com/a/13986933/11698)已经非常成功了。在 '03 中，你不能与 typedef 成为朋友——但如果你知道你有一个类，那么你可以参考它的`injected class name`.

Johannes 的回答还具有使用标准库功能的好处，这也总是一件好事。

```
#define some_compile_time_condition 0

class Foo;

template <int Condition> class  TestCondition {
private:
  friend class Foo;
  struct Type {
    struct Bar;
  };
};

template <> class TestCondition<1> {
public:
  typedef Bar Type;
};

struct Bar
{
public:
  void foo (Foo &);
};

class Foo {
private:
  friend struct TestCondition< some_compile_time_condition >::Type::Bar;
  int m_i;
};

void Bar::foo (Foo & foo)
{
  foo.m_i = 0;
} 
```

它仍然与始终有一个朋友的要求不同`Foo`，但结识的阶级会根据选项的值而变化。

`Foo`一个有趣的附带问题是，将带和不带的版本都`some_compile_time_condition` 设置为 1是否违反 ODR 。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-21T12:11:28.233

我认为您需要 1 个预处理器并在其中编写源代码。

```
bool flag = false;
#ifdef _MY_FRIEND_
    friend class sample
    flag = true;
#endif

if (flag)
{
 ...
 ...
 ...
} 
```

* * *

```
class Foo {
#ifdef _MY_FRIEND_
    friend class Bar;
#endif
} 
```

};

这里 _MY_FRIEND_ 是一个预处理器，如果您添加该预处理器，那么在编译时您的类 Bar 将成为朋友类...当您需要类 Bar 作为朋友类时，您可以在任何地方使用该预处理器。其他明智的编译没有预处理器然后它不会允许你将 Bar 添加为 Foo 的朋友类

如果我理解错误的问题，请纠正我。```

# windows - windows 命令提示符命令文件的位置

> ID：13985294
> 
> 赞同：3
> 
> 时间：2012-12-21T06:26:22.273
> 
> 标签：windows, command, bin

在 Unix 中，终端命令位于 /etc 文件夹中。同样，我想知道 Windows 的命令文件在哪里，例如，`mkdir, cd,`等等。提前谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T08:52:02.443

您可以使用它`where`来查找可执行文件所在的位置。

正如@sb9 所说，有些不是单独的exe，它们是内置的。使用`where`你可以找出它们是否有自己的exe 文件。

```
where ftp
where at
where cd 
```

在这种情况下`cd`，由于它是内置的，所以会出错。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T08:45:54.463

一些命令位于 windows\system32 中，而其他一些命令（如 mkdir 和 cd）是内置在 shell cmd.exe 中的，因此您不会在硬盘上找到它们。

# android - 从服务器刷新数据

> ID：13985308
> 
> 赞同：0
> 
> 时间：2012-12-21T06:28:20.417
> 
> 标签：android

我正在为 Android 设计一个电视指南应用程序。它将通过 HTTP:GET 请求访问服务器并通过 XML 提供程序详细信息。

因为数据是动态的，所以我必须不断刷新它。我会将数据存储在像 ArrayList 这样的数据结构中，而不是在 sqlite 数据库中。

我的问题是如何刷新数据。我想每 30 分钟刷新一次数据，但似乎效率不高。

还有什么办法吗？同步适配器在这里有用吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:33:37.930

您必须使用 Handler 及其 postDelayed 方法使列表的适配器无效，如下所示：

```
 Handler handler = new Handler()
    handler.postDelayed( new Runnable() 
   {
        @Override
        public void run() 
         {
            // Call Webservice fetchdata and stored into arraylist and notifydataset
            adapter.notifyDataSetChanged();
            handler.postDelayed( this, 60 * 1000 );
         }
    }, 60 * 1000 ); 
```

这里上面的代码每 1 分钟工作一次。您需要根据您的要求更改时间。

# php - 组合的连续日期

> ID：13985310
> 
> 赞同：4
> 
> 时间：2012-12-21T06:28:37.623
> 
> 标签：php, mysql

我的表中有以下数据

![表数据](../Images/033b44120e74d26b84428255a1f9244d.png)

基于`shift_id`我想合并班次日期。

简而言之，我想要以下输出：

```
**output format : FromDate To ToDate (Shift_id)**

2012-12-01 To 2012-12-02 (2)

2012-12-03 (1)

2012-12-04 (2)

2012-12-18 To 2012-12-20 (1)

2012-12-21 To 2012-12-22 (2)

2012-12-23 To 2012-12-24 (1)

2012-12-25 To 2012-12-30 (2) 
```

我尝试了几件事，但没有运气。任何人请帮助/指导我解决这个问题。

我写了这段代码

```
 while($row_shift = mysql_fetch_object($result_shift)) {
    $new_date = $row_shift->shift_date;
    $new_shift = $row_shift->shift_id;
    if($new_shift !== $old_shift) {
        $shift_name = $new_shift;
        $shift_date_1 =  date('D d M',strtotime($new_date))." (".$shift_name.")";               
    } else {
        $shift_name = $old_shift;
        $shift_date_1 =  date('D d M',strtotime($old_date))." (".$shift_name.")";
        $diff = abs(floor( (strtotime($new_date) - strtotime($old_date)) / 3600 / 24));
        if($diff == 1) {                    
            $to_part = ' To ';
            $shift_date_2 = date('D d M',strtotime($new_date))." (".$shift_name.")";

        } else {
            $to_part = ' To ';
            $shift_date_2 = date('D d M',strtotime($old_date))." (".$shift_name.")";    
        }
    }

    $s_d_2 = $to_part.$shift_date_2;

    $shift_date[] = $shift_date_1.$s_d_2;

    $old_date = $row_shift->shift_date;
    $old_shift = $row_shift->shift_id;

}
echo implode("<br/>", $shift_date); 
```

此代码的输出是

```
Output : 
Sat 01 Dec (2)
Sat 01 Dec (2) To Sun 02 Dec (2)
Mon 03 Dec (1)Sun 02 Dec (2)
Tue 04 Dec (2)Sun 02 Dec (2)
Tue 18 Dec (1)Sun 02 Dec (2)
Tue 18 Dec (1) To Wed 19 Dec (1)
Wed 19 Dec (1) To Thu 20 Dec (1)
Fri 21 Dec (2)Thu 20 Dec (1)
Fri 21 Dec (2) To Sat 22 Dec (2)
Sun 23 Dec (1)Sat 22 Dec (2)
Sun 23 Dec (1) To Mon 24 Dec (1)
Tue 25 Dec (2)Mon 24 Dec (1)
Tue 25 Dec (2) To Wed 26 Dec (2)
Wed 26 Dec (2) To Thu 27 Dec (2)
Thu 27 Dec (2) To Fri 28 Dec (2)
Fri 28 Dec (2) To Sat 29 Dec (2)
Sat 29 Dec (2) To Sun 30 Dec (2) 
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:20:36.020

这是一个[SQLFiddle 演示](http://sqlfiddle.com/#!2/e80a5/17)

```
select min(shift_date) start_data,max(shift_date) end_date,
          min(Shift_id) Shift_id
from
(
select t.*,if(shift_id<>@CurShift,@i:=@i+1,@i) Group_num,
       @CurShift:=shift_id 
from t, (select @CurShift:=0,@i:=0) t1 
order by shift_date
 ) b

group by Group_num
order by Group_num 
```

# clojure - 前缀 :: 是什么意思

> ID：13985316
> 
> 赞同：10
> 
> 时间：2012-12-21T06:29:14.973
> 
> 标签：clojure

我看过下面的前缀`::`它代表什么？A`:abc`是一个关键字，但它是什么`::abc`？

谢谢，穆尔塔萨

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-21T07:36:24.350

假设当前命名空间是`my.app`. 然后，`::x`是一个阅读器的简写`:my.app/x`，一个关键字，其名称空间部分是`my.app`，名称是`x`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:39:10.023

在其他语言中，这是默认命名空间。但不确定这是否也存在于 Clojure 中。参考[this comment](http://travis-whitton.blogspot.de/2009/10/clojure-syntax.html?showComment=1259353875871#c688885964051363028)，它似乎是正确的。

# jsf-2 - 如何检查组件的 p:message 是否已经存在？

> ID：13985318
> 
> 赞同：0
> 
> 时间：2012-12-21T06:29:19.253
> 
> 标签：jsf-2, primefaces

我的问题是，有什么方法可以检查特定 Primefaces 组件是否已经存在消息，如果没有，则只为该组件添加消息。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-22T05:21:49.773

您可以通过对象访问特定组件的排队消息`FacesContext`。以下代码应该可以工作：

```
 FacesContext context = FacesContext.getCurrentInstance(); //obtain a reference to the FacesContext
     String desiredClientId = "componentId"; //You should already have the client side id of the component you want to operate with
     Iterator<FacesMessage> messageQueue =  context.getMessages(desiredClientId); //Obtain an Iterator for a List of possible queued messages for the component id you've provided.
     if(messageQueue.hasNext()){
      //the component has messages queued, do whatever you want
      }
      else{
      no messages, do whatever you want
      } 
```

# android - 将 android 与现有 SQLite 一起使用

> ID：13985325
> 
> 赞同：0
> 
> 时间：2012-12-21T06:29:55.193
> 
> 标签：android, sqlite

> **可能重复：**
> [如何使用数据库发布 Android 应用程序？](https://stackoverflow.com/questions/513084/how-to-ship-an-android-application-with-a-database)

我正在尝试开发一个需要从数据库中读取数据并将其显示给用户的应用程序。也许将来我可以为用户添加一个选项，让他们对各种文章发表评论，而我需要一个服务器而不是`SQLite`对吗？但是对于读取数据来说，每个表中有 3k 到 5k 条记录的本地数据库会更好吗？

其次，在 Android 和数据库方面，我完全是新手。我处理过，`PHP+MySQL`但不太一样。由于记录很多，我想从后端（`sqlitebrowser`）输入它们并从资产文件夹复制文件（已经完成）。我尝试使用在线教程创建一个数据库助手类，但这对我来说根本不起作用。我还尝试在 Eclipse 中创建一个连接配置文件，当我尝试使用 SQL Scrapbook 视图时它有点工作。它不会给出错误，但选择查询不会在`SQL`结果中显示任何内容

请记住，我不想创建新数据库，只需将现有数据库从 Assets 复制到`data/data/my.package/databases/`并从那里读取。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:46:44.280

SQLite 的 Android 实现需要数据库文件的两个约定。如果您不遵循这些约定，Android 的 SQLite 库将无法正确读取数据库。

1.  每个表都必须有一个`INTEGER PRIMARY KEY`名为 的字段`_id`。（这可能只是标准的 SQLite 东西。）

2.  数据库必须有一个名为 的表`android_metadata`。此表必须有一个名为 TEXT 列`locale`，并且应该有一行包含数据的语言环境名称。这个价值`"en_US"`对我有用。架构：

            创建表 android_metadata（语言环境文本）

确保资产中的数据库符合这些约定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:19:27.750

以下网站可满足您的所有需求。[在 Android 应用程序中使用您自己的 SQLite 数据库](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)

# iphone - 如何将 shapefile 转换为基于瓦片的文件

> ID：13985329
> 
> 赞同：2
> 
> 时间：2012-12-21T06:30:21.947
> 
> 标签：iphone, map, shapefile

我正在开发一个基于地图的 iPhone 应用程序，我必须根据该设备的当前位置绘制任何特定区域的地图。客户向我提供了包含所有坐标和数据的 .shapefile 以绘制地图。我们可以将形状文件存储在服务器上，我认为使用 .shapefile 上显示的数据在设备上绘制地图我需要具有不同缩放级别的图块。因此，在服务器端，我必须将 .shapefile 转换为基于图块的文件。但我不知道如何进行转换。谁能指导我？

提前致谢。丽兹酒店

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T08:36:58.550

它的工作量很大。

首先，shapefile 只定义几何图形——您需要确定特征的外观。它们是点、线还是多边形？您希望它们都具有相同的颜色，还是取决于它们的属性？

然后获取 mapnik 或 TileMill 并学习如何使用它。您只是想呈现 shapefile，还是想要在底图上显示？在这种情况下，您必须在应用程序中生成透明平铺集并进行光栅图像叠加。

是整个世界吗？并与谷歌地图缩放相同的分辨率？获取大量磁盘存储。

[http://mapbox.com/tilemill/](http://mapbox.com/tilemill/)

[http://mapnik.org/](http://mapnik.org/)

就个人而言，我会考虑将 shapefile 转换为可以在客户端上呈现的矢量形式 - 也许是 GeoJSON。然后服务。

# javascript - 使用getElementById在jquery上提交表单

> ID：13985330
> 
> 赞同：0
> 
> 时间：2012-12-21T06:30:29.187
> 
> 标签：javascript, jquery, ajax, append

当`getElementByid('projectsearch'+id)`我单击链接时，它不起作用。关于这个还能做什么？生成后，我不知道如何发送表格-有什么想法吗？

```
var i;
for (i = 0; i < data.data.length; ++i) {            
    console.log(i);
    var divCreator ='';

    var str='projectsearch' + i; 

    divCreator+='<div id="grupo'+i+'">';
    divCreator+='<div>';
    divCreator+='<div id="tipo_'+i+'"></div>';
    divCreator+='<div id="tipo_arq_abajo'+i+'"></div>';
    divCreator+='</div>';
    divCreator+='<div id="fotoproyectos'+i+'" ><img src="' + data.data[i].path + '" height="128" width="160"></div>';
    divCreator+='<div id="nombreproyectos'+i+'" ><form method="post" name="projectsearch'+i+'" id="projectsearch'+ i +'" action="proyectos_arq.php">';
    divCreator+='<span style="cursor: pointer;" onclick="document.getElementById('projectsearch'+id).submit()">"'+ data.data[i].projectName +'"</span>'
    divCreator+='<input name="project_id" type="hidden" id="project_id" value="' + data.data[i].projectId + '">';
    divCreator+='</form></div>';
    divCreator+='</div>';
    divCreator+='</div><br><br>';

    //$("#contiene-pro").append(divCreator);
    $("#testDiv").append(divCreator);
}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:34:46.897

我认为应该是

```
document.getElementById('projectsearch'+i).submit() // not id... 
```

并逃避你的报价

如果您尝试提交您刚刚创建的表单...并且我在您的问题中找不到“id”变量...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:45:01.243

您创建：

```
var str='projectsearch' + i; 
```

然后永远不要使用它。

稍后在您的代码中：

```
divCreator+='<span style="cursor: pointer;" onclick="document.getElementById('projectsearch'+id).submit()">"'+ data.data[i].projectName +'"</span>' 
```

我认为您的意思是：

```
divCreator+='<span style="cursor: pointer;" onclick="document.getElementById(' + str + ').submit()">"'+ data.data[i].projectName +'"</span>'; 
```

它使用`str`您创建的变量作为`getElementById()`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-21T06:35:49.470

请在控制台中检查相应的 div id 并尝试使用此语法获取值

```
var element=  $("#projectsearch"+id); 
```

或者

```
var element=document.getElementById("projectsearch"+id); 
```

# html - 用 CSS 添加“放射性”按钮的好方法？

> ID：13985334
> 
> 赞同：-3
> 
> 时间：2012-12-21T06:30:48.510
> 
> 标签：html, css

如何使用 CSS3 使我的按钮“放射性”并在其周围发光？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:53:23.493

我真的很急着离开，但做了一个基本的 1，本来会说得很清楚，但正如我所说的迟到了，但你可以在这里查看演示......希望你喜欢它。

[**演示**](http://jsfiddle.net/wd3fQ/)

HTML

```
<input type="button" class="container glow" value="Hello" /> 
```

CSS

```
.container{
    animation:glow 7s;
    -moz-animation:glow 7s; /* Firefox */
    -webkit-animation:glow 7s; /* Safari and Chrome */
    -o-animation:demo 7s; /* Opera */
    animation:glow 7s infinite;
    margin: 30px;
}

@keyframes glow {
    0% {-moz-box-shadow: 0 0 0 0 #B2FF54;
    -webkit-box-shadow: 0 0 5px 5px#B2FF54;
    box-shadow: 0 0 0 0 #B2FF54;}
    50% {-moz-box-shadow: 0 0 5px 5px #888;
    -webkit-box-shadow: 0 0 5px 5px#B2FF54;
    box-shadow: 0 0 5px 5px #B2FF54;}
    100% {-moz-box-shadow: 0 0 0 0 #B2FF54;
    -webkit-box-shadow: 0 0 0 0px#B2FF54;
    box-shadow: 0 0 0 0 #B2FF54;}
}

@-moz-keyframes glow /* Firefox */ {
    0% {-moz-box-shadow: 0 0 0 0 #B2FF54;
    -webkit-box-shadow: 0 0 5px 5px#B2FF54;
    box-shadow: 0 0 0 0 #B2FF54;}
    50% {-moz-box-shadow: 0 0 5px 5px #888;
    -webkit-box-shadow: 0 0 5px 5px#B2FF54;
    box-shadow: 0 0 5px 5px #B2FF54;}
    100% {-moz-box-shadow: 0 0 0 0 #B2FF54;
    -webkit-box-shadow: 0 0 0 0px#B2FF54;
    box-shadow: 0 0 0 0 #B2FF54;}
}

@-webkit-keyframes glow /* Safari and Chrome */ {
    0% {-moz-box-shadow: 0 0 0 0 #B2FF54;
    -webkit-box-shadow: 0 0 5px 5px#B2FF54;
    box-shadow: 0 0 0 0 #B2FF54;}
    50% {-moz-box-shadow: 0 0 5px 5px #888;
    -webkit-box-shadow: 0 0 5px 5px#B2FF54;
    box-shadow: 0 0 5px 5px #B2FF54;}
    100% {-moz-box-shadow: 0 0 0 0 #B2FF54;
    -webkit-box-shadow: 0 0 0 0px#B2FF54;
    box-shadow: 0 0 0 0 #B2FF54;}
}

@-o-keyframes glow /* Opera */ {
    0% {-moz-box-shadow: 0 0 0 0 #B2FF54;
    -webkit-box-shadow: 0 0 5px 5px#B2FF54;
    box-shadow: 0 0 0 0 #B2FF54;}
    50% {-moz-box-shadow: 0 0 5px 5px #888;
    -webkit-box-shadow: 0 0 5px 5px#B2FF54;
    box-shadow: 0 0 5px 5px #B2FF54;}
    100% {-moz-box-shadow: 0 0 0 0 #B2FF54;
    -webkit-box-shadow: 0 0 0 0px#B2FF54;
    box-shadow: 0 0 0 0 #B2FF54;}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:35:56.397

请确保您在此处发布之前使用 Google。（尝试 CSS3 按钮发光）
我的第一个结果是：[http ://www.zurb.com/playground/radioactive-buttons](http://www.zurb.com/playground/radioactive-buttons)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:32:53.580

使用 box-shadow 属性：

```
-webkit-box-shadow:5px 5px 5px #123456; 
-moz-box-shadow: 5px 5px 5px #123456; 
box-shadow:5px 5px 5px #123456; 
```

# javascript - 加载视频javascript时显示加载图标

> ID：13985340
> 
> 赞同：0
> 
> 时间：2012-12-21T06:31:33.200
> 
> 标签：javascript, jquery, html

我正在尝试在我的网页中加载视频 onclick 图像。为此，我使用了以下代码。

```
 <script type="text/javascript">
(function($) {
$('a.newID').click(function(){ 

$('#newID').html('<iframe src="http://www.youtube.com/embed/TJ2X4dFhAC0?autoplay=1"  frameborder="0" class="slide" allowtransparency="true" style="width:512px; height:288px;" id="ifm" title=""></iframe>');

});
}(jQuery));
</script> 
```

html代码：

```
<a href="#" title="" id="newID"><span class="play_icon"><img src="img/play_overON.png" alt=""></span>
    <img src="images/slider1.jpg" alt="" class="slide" />
    </a> 
```

如果我单击图像，图像将被 iframe 视频替换。我需要的是`display a loading icon`直到`video`是`loading`。怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:38:23.970

`click`请在您的函数中添加以下 css 属性：

```
 #newID {background-image:url(http://mysite/myloadingimage.gif)} 
```

如果显示为（默认） ，您还需要将 css 属性添加`display:inline-block;`到#newID 。`inline`

替换`http://mysite/myloadingimage.gif`为实际加载图像。使用动画 gif 以获得漂亮的加载效果。

加载图像需要使用 css 背景属性居中。这可能取决于图像的大小。

# f# - F# 的类型推断失败给出了一个不清楚的错误

> ID：13985342
> 
> 赞同：2
> 
> 时间：2012-12-21T06:31:50.230
> 
> 标签：f#, inotifypropertychanged, type-inference

我在 F# 中有以下 ViewModelBase，我正在尝试构建它以使用 WPF 学习 F#。

```
module MVVM

open System
open System.Collections.ObjectModel
open System.ComponentModel
open Microsoft.FSharp.Quotations
open Microsoft.FSharp.Quotations.Patterns
open System.Reactive.Linq

module Property =

    let ToName(query : Expr) = 
        match query with
        | PropertyGet(a, b, list) ->
            b.Name
        | _ -> ""

    let SetValue<'t>(obj, query : Expr<'t>, value : 't) =
        match query with
        | PropertyGet(a, b, list) ->
            b.SetValue(obj, value)
        | _ -> ()

    let GetValue<'o, 't>(obj : 'o , query : Expr<'t>) : option<'t> =
        match query with
        | PropertyGet(a, b, list) ->
            option.Some(b.GetValue(obj) :?> 't )
        | _ -> option.None

    let Observe<'t>(x: INotifyPropertyChanged) (p : Expr<'t>)  =
        let name = ToName(p)
        x.PropertyChanged.
            Where(fun (v:PropertyChangedEventArgs) -> v.PropertyName = name).
            Select(fun v -> GetValue(x, p).Value)

type ViewModelBase() =
    let propertyChanged = new Event<_, _>()

    interface INotifyPropertyChanged with
        [<CLIEvent>]
        member x.PropertyChanged = propertyChanged.Publish

    abstract member OnPropertyChanged: string -> unit

    default x.OnPropertyChanged(propertyName : string) =
        propertyChanged.Trigger(x, new PropertyChangedEventArgs(propertyName))

    member x.SetValue<'t>(expr : Expr<'t>, v : 't) =
        Property.SetValue(x, expr, v)
        x.OnPropertyChanged(expr)

    member x.OnPropertyChanged<'t>(expr : Expr<'t>) =
        let propName = Property.ToName(expr)
        x.OnPropertyChanged(propName) 
```

但是我从编译器得到一个错误

```
Error   1   The type 'ViewModelBase' is used in an invalid way. 
A value prior to 'ViewModelBase' has an inferred type involving 
'ViewModelBase', which is an invalid forward reference. 
```

然而，编译器并没有告诉我**之前的值**是问题的违规部分。由于我对 F# 使用的类型推断非常陌生，因此我可能遗漏了一个明显的问题。

仅供参考，该代码旨在像下面一样使用，但目前该代码已被注释掉，错误仅与上面的核心代码有关

```
type TestModel() as this = 
    inherit MVVM.ViewModelBase()

    let mutable name  = "hello"

    let subscription = (Property.Observe this  <@ this.SelectedItem @>).
            Subscribe(fun v -> Console.WriteLine "Yo")

    member x.SelectedItem 
        with get() = name
        and set(v) = 
            x.SetValue(<@ x.SelectedItem @>, v) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T06:34:29.360

我找到了。

```
let SetValue<'t>(obj, query : Expr<'t>, value : 't) =
    match query with
    | PropertyGet(a, b, list) ->
        b.SetValue(obj, value)
    | _ -> () 
```

受到约束。应该

```
let SetValue<'t>(obj : Object, query : Expr<'t>, value : 't) =
    match query with
    | PropertyGet(a, b, list) ->
        b.SetValue(obj, value)
    | _ -> () 
```

# php - AWS 数据库结构 - MySQL 和 DynamoDB

> ID：13985343
> 
> 赞同：0
> 
> 时间：2012-12-21T06:32:13.443
> 
> 标签：php, mysql, amazon-web-services, amazon-dynamodb

我希望为我的事务数据运行一个 DynamoDB 数据库，并为需要 SQL 连接查询的数据运行一个 mysql 数据库。

为了尝试将批量/大型表排除在 MySQL 之外（保持更好的性能），我将把一些数据移动到 DynamoDB 中，这些数据有时需要针对 MySQL 中的数据进行引用。

为某些数据查询 DynamoDB 并查询 MySQL，然后在 PHP（或另一种服务器端语言）中执行最终数据比较以获取返回到客户端/浏览器所需的数据是否是糟糕的编程/查询？

我想基本问题是：必须查询 NoSQL 和 SQL 数据库，然后用 php（或服务器端语言）处理结果……这是正常的还是坏主意？

谢谢

注意：这样做的主要目的是数据库规划，以避免无法管理的超大型关系数据库情况。因此想要将批量数据移动到 NoSQL (DynamoDB)...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T08:58:01.167

将数据分离到不同的数据存储区是一个非常好的主意，每个存储区都有其优点。

例如：

*   您可以将 BLOB 放在您的 RDBMS（作为 MySQL）中，但最好将其作为[Amazon S3](http://aws.amazon.com/s3/)放在存储中。
*   您可以将文本文档放入 RDBMS 并使用“... LIKE %QUERY%...”进行查询，但最好将它们放入 Elastic Search 或[Amazon CloudSearch](http://aws.amazon.com/cloudsearch/)中。
*   您可以将会话管理数据放在 RDBMS 中，但最好放在[Amazon Elastic Cache](http://aws.amazon.com/elasticache/)或[DynamoDB 中](http://aws.amazon.com/dynamodb/)
*   您可以在 RDBMS 中使用查找表，但最好使用内存或基于内存的 NoSQL（如 Memecached 或 Redis）或 DynamoDB

您可以以不同的方式编写上述语句，将所有内容存储在 MongoDB 或 DynamoDB 中，但更愿意将它们放在其他地方。

当您将数据放在不同的存储中时，基于与数据类型和您对这些数据的使用相关的数据存储的简单性，您可以获得更简单、分布式、可扩展且通常更快的系统。

缺点是您需要在数据存储之间同步数据。将记录添加到 DynamoDB 后，您需要将 BLOB 上传到 S3，更新 CloudSearch 中的文档并将记录添加到 MySQL，并将相关行写入日志文件以供将来分析。当然，这是拥有如此复杂的数据和查询的极端情况。通常您只需要混合 2 或 3 个数据存储。

如果您的系统中必须有事务，那么同步您的数据将会更加困难，最好将您的所有数据保存在支持事务的数据存储中。但即便如此，您也可以将交易需求限制为部分数据，并在其他数据存储中使用冗余数据。例如，在 RDBMS 或 DynamoDB 中拥有没有引用记录的孤立 S3 对象通常不是什么大问题。

Regarding having PHP (or other programming language) code that you are writing to manipulate the distributed data, it also depends. If you need complex JOIN, GROUP_BY, FILTER functionality that is natively supported by the data store, it is better to use the DB functionality. But many times, your code can be simple enough to write, like querying the right DB (for example, textual search to CloudSearch) and assemble the data pieces from across your different data stores.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:43:45.243

是的，你当然可以同时使用这两者......但它有一些优点和缺点......

**缺点：**

*   在 MySQL 中，您将获得 ACID 保证，但在 Dynamo-db 中没有这样的保证。
*   同样在 MySQL 中，您可以编写复杂的查询，而在 Dynamo-db 中您不能编写复杂的查询。

**优点：**

*   它具有分布式哈希表的特性，因此与 MySQL 相比具有更多的性能提升。

您需要查看此博客以获取更多信息。这是[一个链接](HTTP://highscalability.com/blog/2010/12/21/sql-nosql-yes.html)！

你也可以使用更多的 NoSql 模块，比如 HIVEQL。HiveQl 比 Dynamo-Db 更多，它可以比 Dynamo-db 提高性能一点。

# javascript - 需要在复选框的已检查更改属性上调用 javascript 函数

> ID：13985348
> 
> 赞同：0
> 
> 时间：2012-12-21T06:32:35.847
> 
> 标签：javascript, jquery, c#-4.0

我试图在检查复选框的更改时调用一个函数，但是我用 javascript 编写的方法没有调用。我正在尝试使用以下代码在复选框上调用 onchange

```
<asp:CheckBox ID="CheckBox1" runat="server" onchange="fun();" /> 
```

javascript中的函数调用

```
function fun() { } 
```

调试器不会通过此功能。我们也可以通过 jQuery 轻松地做到这一点吗？谢谢，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T06:35:00.330

jQuery：

```
$('#CheckBox1').on('change', fun); 
```

纯JS

```
document.getElementById('CheckBox1').addEventListener('change', fun, false); 
```

**编辑：**

如果 javascript 代码在创建 DOM 元素之前出现，您将需要某种 DOM 就绪函数，例如普通 JS 中的 window.onload。jQuery 使用 document ready，一个快捷方式是：

```
$(function() {
    $('#CheckBox1').on('change', fun);
}); 
```

# windows-phone-7 - 如何在 windows phone 7 应用程序中重新加载页面

> ID：13985351
> 
> 赞同：0
> 
> 时间：2012-12-21T06:32:48.707
> 
> 标签：windows-phone-7

当用户赢得游戏时，如果他想再次玩游戏，在这种情况下页面需要重新加载。为此，我尝试了以下代码，但出现了异常。重新加载页面的正确方法是什么。

```
 NavigationService.Navigate(new Uri(string.Format("/NumericEasy.xaml"+
                                "?Refresh=true&random={0}", Guid.NewGuid()))); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:00:48.197

我想，你得到了这个例外：

> 仅支持对作为片段、或以“/”开头或包含“;component/”的相对 URI 进行导航

您应该设置 UriKind 参数。稍微改变你的代码：

```
NavigationService.Navigate(new Uri(string.Format("/NumericEasy.xaml?random={0}", Guid.NewGuid()), UriKind.Relative)); 
```

# forms - 带有背景图片的 HTML 表单提交

> ID：13985358
> 
> 赞同：-1
> 
> 时间：2012-12-21T06:33:15.973
> 
> 标签：forms, submit

带有背景图片的 HTML 表单提交

```
<input type="submit" name="fsubmit" value="Submit" class="Submit" /><br>

.Submit{
background:url(images/Submit-btn.png) left top no-repeat;<br>
border: medium none;<br>
clear: both;<br>
color: #FFFFFF;<br>
cursor: pointer;<br>
float: right;<br>
height: 65px;<br>
padding-bottom: 37px;<br>
width: 83px;<br>
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:39:50.877

尝试这个：

```
.icon_button{
    background:#FFFFFF url(http://www.limitedlink.com/images/png/ico.png) no-repeat 4px 4px;
    padding:4px 4px 4px 22px;
    height:auto;
} 
```

# windows - Websocket 服务器在约 600 个连接后停止接受

> ID：13985361
> 
> 赞同：1
> 
> 时间：2012-12-21T06:33:27.647
> 
> 标签：windows, tcp, websocket

我正在 Windows 2008 服务器上的端口 9000 上运行 websocket 服务器（命令行程序）。我似乎无法弄清楚为什么它不会接受超过 600 个并发连接。在我的本地机器上测试，我可以创建数千个并发连接。但是在服务器上，大约 600 后出现以下错误：

```
No connection could be made because the target machine actively refused it 
```

我尝试调整最大端口号的注册表项，并关闭防火墙无济于事。我还尝试了不同的 websocket 服务器实现。我还需要更改其他设置吗？

编辑：我在Linux服务器上也试过这个，也有同样的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-23T22:02:47.527

我发现了问题：

这似乎是我的客户端互联网连接。通过在与客户端不同的网络上运行相同的测试，我可以创建数千个连接。

# ruby-on-rails - 任务：耙子中止！找不到表“货币”

> ID：13985362
> 
> 赞同：0
> 
> 时间：2012-12-21T06:33:28.237
> 
> 标签：ruby-on-rails, rake-task

我已经使用 capistrano 将我的 rails 应用程序部署到 Linode VPS，但 thaere 有点小问题，我不知道如何解决：

部署期间的 Capistrano 输出：

```
==  CreateCurrencies: migrating
-- create_table(:currencies)
-> 0.0074s
==  CreateCurrencies: migrated (0.0075s) 
```

Capistrano 创建了表货币，我可以在我的实时服务器上访问它。

我还有一个 rake 任务定义如下：

```
namespace :rate do
  task :update => :environment do
   #Modify Currencies table.
  end
end 
```

现在如果我跑

```
rake rate:update 
```

在开发机器上：一切正常。在生产机器上：它给出以下错误

```
rake aborted!
Could not find table 'currencies' 
```

关于如何解决这个问题的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:06:03.777

看起来你的迁移没有从开发模式到生产模式。只需检查您的生产数据库中是否有货币表。当您在生产模式下运行时，还要检查 rails_env。

所有这些的同步应该可以解决您的问题。

# blackberry - 如何在黑莓应用程序中设置适合的背景图像

> ID：13985363
> 
> 赞同：1
> 
> 时间：2012-12-21T06:33:28.567
> 
> 标签：blackberry, blackberry-eclipse-plugin, blackberry-jde

我在这里编写了以下代码，背景图像正在显示，但图像没有覆盖整个背景

```
private Bitmap background;
    int mWidth = Display.getWidth();
    int mHeight = Display.getHeight();

    public MyScreen()
    {        
        // Set the displayed title of the screen  
        //backgroundBitmap = Bitmap.getBitmapResource("slidimage.png");
        final Bitmap background = Bitmap.getBitmapResource("slidimage.png");

        HorizontalFieldManager vfm = new HorizontalFieldManager(USE_ALL_HEIGHT | USE_ALL_WIDTH) {
               public void paint(Graphics g) {
                    g.drawBitmap(0, 0,mWidth, mHeight, background, 0, 0);
                    super.paint(g);
               }
        };

        add(vfm); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T13:47:24.577

```
public static Bitmap resizeBitmap(Bitmap image, int width, int height)
    {   
        int rgb[] = new int[image.getWidth()*image.getHeight()];
        image.getARGB(rgb, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());        
        int rgb2[] = rescaleArray(rgb, image.getWidth(), image.getHeight(), width, height);
        Bitmap temp2 = new Bitmap(width, height);        
        temp2.setARGB(rgb2, 0, width, 0, 0, width, height);        
        return temp2;
    } 
```

您可以使用上述方法调整图像大小，只需传递要调整大小的图像及其宽度和高度。并且该函数将返回调整大小的图像。

其中 rescale Array 是以下方法

```
private static int[] rescaleArray(int[] ini, int x, int y, int x2, int y2)
    {
        int out[] = new int[x2*y2];
        for (int yy = 0; yy < y2; yy++)
        {
            int dy = yy * y / y2;
            for (int xx = 0; xx < x2; xx++)
            {
                int dx = xx * x / x2;
                out[(x2 * yy) + xx] = ini[(x * dy) + dx];
            }
        }
        return out;
    } 
```

# c++ - 用 XML 定义的 GUI 创建 C++ 本机应用程序的库？

> ID：13985365
> 
> 赞同：1
> 
> 时间：2012-12-21T06:33:34.653
> 
> 标签：c++, xml, user-interface, native, xul

我需要一个 C++ 库来创建独立的本机应用程序。该库应支持使用 XML 标签创建 GUI。我得到了一些关于 Mozilla 的 XUL 的信息，但是这个 XUL 需要 XULRunner 来运行应用程序。

场景是这样的：

```
What I have:
(1) C++ code in .cpp files
(2) GUI defined in .xml files

The output I need:
A single stand-alone native application 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T18:10:26.270

经过几个小时的测试，我得出了一个结论。将 Qt 用于所提出的目标是完美的。

Qt 提供了一个名为 QWebView 的小部件（又名控件，又名 GUI 组件），它使用 WebKit 呈现 HTML5。我们可以将这个 QWebView 与 QMainWindow 一起使用来形成一个类似原生的应用程序。

从 C++ 调用 JS 可以这样完成：

```
QWebView Webview;
Webview->load(...);
...
Webview->page()->mainFrame()->evaluateJavaScript("alert('whatever');"); 
```

从 JS 调用 C++ 可以类似地完成：

```
//(1) in C++ code:
QWebView Webview; 
Webview->load(...);
QObject  Object; //or any object inherited from QObject
...
Webview->page()->mainFrame()->addToJavaScriptWindowObject("Cpp",&Object);

//(2) in HTML/JS code:
<script>
Cpp.some_function(); //declared in the QObject above, with 'public slots:'
</script> 
```

但是，结果很难是单个二进制文件，因为应用程序需要 Qt 的动态链接库（Qt 核心、Qt gui、Qt 网络、Qt webkit 等）。构建安装程序可以解决问题。

# ruby - 在范围内包装 Ruby 全局变量

> ID：13985368
> 
> 赞同：1
> 
> 时间：2012-12-21T06:33:44.040
> 
> 标签：ruby, scope, closures

我正在评估 Ruby 中的脚本，我希望每个脚本都有自己的沙箱，并带有一个名为`$window`. 该`$window`变量应该指向不同的东西，具体取决于脚本在哪个沙箱中运行。线程局部变量可以工作，但我没有使用线程。我正在使用 Ruby C API，因此有点打开了可能性。

现在，我在 a 中运行每个脚本`Binding`，所以它们在那里被沙盒化了。绑定可以有封闭的局部变量，但不能有全局变量。这是想法：

```
sandbox1 = window1.get_binding
sandbox2 = window2.get_binding
sandbox3 = window3.get_binding

sandbox1.eval('$window.foo') # calls 'foo' on window 1
sandbox2.eval('$window.foo') # calls 'foo' on window 2
sandbox3.eval('$window.foo') # calls 'foo' on window 3 
```

有什么方法可以关闭 a 中的全局变量`Binding`吗？我找到了一个可能的解决方案并将其发布在下面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T10:54:10.590

不同的窗口将绑定到什么？

如果它们绑定到一个线程，那么解决问题的最简单方法是拥有一个[线程局部变量](http://www.ruby-doc.org/core-1.9.3/Thread.html#method-i-5B-5D)，如果绑定到其他东西（比如说当前时间），那么你可能想要使用全局哈希。

我个人会选择一个专用的类，这将使以后更容易重构（您可能会重构它，因为全局变量是不良依赖注入的代码气味）：

```
class Windows < Hash
end
WINDOWS = Windows.new
...
window_scope = WINDOWS[Time.now].binding 
```

那么你有一个可变常量，它实际上是一个全局集合。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-24T18:44:49.843

我找到了使用 Ruby C API 的可能解决方案。在绑定中评估的任何内容都将位于该绑定的调用框架下。使用 Ruby 1.8.7，我可以在 C 中做到这一点：

```
public VALUE getCurrentWindow()
{
    // Get the current call frame from Ruby.
    FRAME* frame = ruby_frame;

    // Traverse up the call frame stack until we find a Window class.
    while (frame) {
        if (RTEST(rb_obj_is_kind_of(frame->self, rb_cWindow))
            return frame->self;

        frame = frame->prev;
    }

    // Couldn't find the window.
    return Qnil;
} 
```

它似乎有效，但我们会看看我是否遇到问题。

# c++ - 可以在 C++11 中有条件地声明朋友类吗？

> ID：13985369
> 
> 赞同：1
> 
> 时间：2012-12-21T06:33:52.213
> 
> 标签：c++, c++11, std, friend

> **可能重复：**
> [如何有条件地声明一个朋友类？](https://stackoverflow.com/questions/13985292/how-to-declare-a-friend-class-conditionally)

这个问题从[Can朋友类在 C++03 中有条件地声明？](https://stackoverflow.com/questions/13985292/can-friend-class-be-declared-conditionally-in-c03). 具体来说，C++11 是否提供任何其他选项来帮助有条件地声明一个朋友类？也就是说，在 C++11 中是否有可能做到这一点？

通过 cplusplus.com，我遇到了[`std::enable_if`](http://cplusplus.com/reference/type_traits/enable_if/). 我尝试使用它，但无法找出正确的语法。`std::enable_if`用于此目的的构造是否正确？下面是我尝试的代码，基于那里给出的例子。我在这里并不需要模板，但我不知道如何避免它，因为那里给出的所有示例代码都使用它。

```
class Foo {
  template<typename T> struct std::enable_if<true, T> {
      typedef T Bar;
      friend class Bar;
  };
}; 
```

这给出了以下编译错误消息：

```
prog.cpp:5:36: error: 'enable_if' is not a template
prog.cpp:5:55: error: qualified name does not name a class before '{' token 
```

**编辑**只是为了使它更容易看到，如下评论中所述：此要求是不寻常的。这是我正在从事的硬件仿真新研究项目的一部分。测试台是用 C++ 编写的，我想以波形显示变量。我研究了各种其他选项，并发现出于实际考虑，我需要使用朋友类。朋友将捕获值并生成波形，但我希望仅在需要波形时才让朋友，而不是一直。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:58:39.007

[class.friend]/3 告诉这个：

> 未声明函数的友元声明应具有以下形式之一：
> `友元详述类型说明符；
> `朋友简单类型说明符；
> `朋友类型名说明符；```

 ```因此不可能有条件地声明一个类的朋友。

实际上，您可以使用宏来做到这一点：

```
class Foo {

#ifdef DECLARE_A_FRIEND
      friend class Bar;
#endif
  };
}; 
```

然后将宏定义或取消定义为编译参数。```

# asp.net - ASP.Net 菜单子项在单击时加载而不是鼠标悬停

> ID：13985370
> 
> 赞同：0
> 
> 时间：2012-12-21T06:34:13.513
> 
> 标签：asp.net, menu, submenu

我创建了一个水平菜单 asp.net。它工作正常并在鼠标悬停时加载子菜单项。但我想在单击鼠标而不是鼠标悬停时加载子项。

下面是我的代码，我找不到任何允许用户在单击而不是鼠标悬停时加载子菜单的属性。

```
<asp:Menu ID="NavigationMenu" runat="server" Orientation="Horizontal" CssClass="Menu"
                Font-Names="Verdana" ForeColor="White" DataSourceID="MenuSiteMap"
                StaticPopOutImageUrl="~/images/collapsearrow.png">
                <StaticMenuItemStyle Height="40px" />
                <DynamicMenuItemStyle CssClass="Menu" Height="40px" />
                <DynamicHoverStyle CssClass="menuhover" />
                <StaticHoverStyle CssClass="menuhover" />
            </asp:Menu> 
```

# iphone - UISearchView 不显示搜索值

> ID：13985379
> 
> 赞同：0
> 
> 时间：2012-12-21T06:35:15.197
> 
> 标签：iphone, ios, uitableview, uisearchbar

在我的哪个 展开`TableView`点击`Uisearchbar`部分错了..为什么搜索栏不起作用`UIsearchbar``numberOfRowsInSection`

![输入日期](../Images/357e467a5264466d8f8ad7f3ca760a33.png)

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{

return [self.mySections count];

}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
 {
 NSInteger rows = 0;

if ([self tableView:tableView canCollapseSection:section] || (tableView == self.searchDisplayController.searchResultsTableView) )
{
    if ([expandedSections containsIndex:section] )
    {

        NSString *key = [self.mySections objectAtIndex:section];
        NSArray *dataInSection = [[self.myData objectForKey:key] objectAtIndex:0];

        return [dataInSection count];

    }
    return 1;
} else{

     rows = [self.searchResults count];
    return rows;
}

    return 1;

}

 -(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection: (NSInteger)section {
NSString *key = [self.mySections objectAtIndex:section];
return [NSString stringWithFormat:@"%@", key];
}

- (void)filterContentForSearchText:(NSString*)searchText 
                         scope:(NSString*)scope
{
NSPredicate *resultPredicate = [NSPredicate 
                                predicateWithFormat:@"SELF contains[cd] %@",
                                searchText];

self.searchResults = [self.allItems filteredArrayUsingPredicate:resultPredicate];
}

-(BOOL)searchDisplayController:(UISearchDisplayController *)controller  shouldReloadTableForSearchString:(NSString *)searchString
{
UISearchBar * searchBar = [controller searchBar];
[self filterContentForSearchText:searchString scope:[[searchBar scopeButtonTitles] objectAtIndex:[searchBar selectedScopeButtonIndex]]];
return YES;
}

-(BOOL)searchDisplayController:(UISearchDisplayController *)controller shouldReloadTableForSearchScope:(NSInteger)searchOption
{
UISearchBar * searchBar = [controller searchBar];
[self filterContentForSearchText:[searchBar text] scope:[[searchBar scopeButtonTitles] objectAtIndex:searchOption]];
return YES;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier] ;
}

// Configure the cell...

if ([tableView isEqual:self.searchDisplayController.searchResultsTableView]) {
    cell.textLabel.text = [self.searchResults objectAtIndex:indexPath.row];
}else {

NSUInteger section = [indexPath section];
NSUInteger row = [indexPath row];

NSString *key = [self.mySections objectAtIndex:section];

NSDictionary *dataForSection = [[self.myData objectForKey:key] objectAtIndex:0];
NSArray *array=dataForSection.allKeys;

cell.textLabel.text = [[dataForSection allKeys] objectAtIndex:row];    
cell.detailTextLabel.text=[dataForSection valueForKey:[array objectAtIndex:indexPath.row]];
}

return cell;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:58:16.680

搜索后您没有重新加载表格

```
- (void)filterContentForSearchText:(NSString*)searchText
                             scope:(NSString*)scope
{
    NSPredicate *resultPredicate = [NSPredicate
                                    predicateWithFormat:@"SELF contains[cd] %@",
                                    searchText];

self.mySections = [self.mySections filteredArrayUsingPredicate:resultPredicate];
[myTableView reloadData];
} 
```

**编辑**

您没有设置详细文本标签

```
if ([tableView isEqual:self.searchDisplayController.searchResultsTableView]) 
{
    cell.textLabel.text = [self.searchResults objectAtIndex:indexPath.row];
cell.detailTextLabel.text=[dataForSection valueForKey:[self.searchResults objectAtIndex:indexPath.row]];
} 
```

搜索后你现在得到标题行，因为在你的代码中

```
 rows = [self.searchResults count];
return rows; 
```

它总是返回零值。所以就去做吧`return 1;`

并根据您的要求做其他事情，

我会建议你不要在表格搜索之前和搜索之后使用不同的不同代码.. 喜欢`if ([tableView isEqual:self.searchDisplayController.searchResultsTableView])`

只需对两者使用相同的代码..并仅在数组和字典中进行更改..

最初

```
tableAry = globalAry; 
```

并且经过搜索

```
tableAry = searchedAry; 
```

# asp.net-mvc - 有没有办法使用下拉列表和 onchange 调用 get 而不是 post？

> ID：13985384
> 
> 赞同：0
> 
> 时间：2012-12-21T06:35:22.543
> 
> 标签：asp.net-mvc

这是我一直在尝试的：

```
 @Html.DropDownList("DropDownValue", new SelectList(ViewBag.sellectedSubjects, "text"), "select one", new { onchange = "this.form.action='/Profile/Edit';this.form.submit();" }) 
```

这可行，但它调用 POST 而不是我想要的 Edit GET。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:37:52.653

只要你改变了动作，为什么不也改变方法呢？

```
new { onchange = "this.form.method='GET';this.form.action='/Profile/Edit';this.form.submit();" }) 
```

或者在 Razor/HTML 中更改它（我会说这是更可取的，因为从一开始就使 HTML 正确而不是用 Javascript 破解它通常更干净）：

```
@using (Html.BeginForm("Action", "Controller", FormMethod.Get)) 
{
    // ...
} 
```

# iphone - UIWebView 中的异步 HTTP 请求真的会产生新线程吗？

> ID：13985385
> 
> 赞同：1
> 
> 时间：2012-12-21T06:35:24.587
> 
> 标签：iphone, objective-c, ios, multithreading, uiwebview

我正在开发一个混合项目，该项目涉及在 UIWebView 中异步加载内容。

我们正在考虑在哪里下载内容。

一种选择是在 UIWebView 内进行异步加载：

```
$.ajax({
        url: "http://hostname.com/login",
        type: 'POST',
        dataType: 'text',
        data: login_info,
        success: function (data) {
        },
        error: function (xhr) {}
}) 
```

第二个选项是通过 Javascript 桥在本机代码中：

```
$.ajax({
        url: "myprotocol://login",
        type: 'POST',
        dataType: 'text',
        data: login_info,
        success: function (data) {
        },
        error: function (xhr) {}
}) 
```

抓住它：

```
- (BOOL)webView:(UIWebView*)webView shouldStartLoadWithRequest: (NSURLRequest*)request navigationType:(UIWebViewNavigationType)navigationType 
{
if([self containsCustomProtocol:request]) {
    //do native call
    return NO;
} 
```

然后在主线程返回时调用它：

```
[this.webView stringByEvaluatingJavaScriptFromString:@"methodName()"]; 
```

什么是最好的？第一种方法不产生线程，第二种方法是，还是没关系？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:12:34.753

IIRC 所有的 Web 请求都是在特定的 Web 加载 GCD 队列上完成的。您可以通过触发几个长的持续时间请求然后在调试器中停止应用程序来轻松测试它。然后检查你看到的线程。

如果您查看队列模式，那么您应该只有一个名为这样的队列。在线程模式下，您可能会看到多个线程，因为 GCD 使用和重用线程以最有效的方式在 GCD 上执行块。

在内部，webviews 也使用 NSURLLoading 和 NSURLProtocol 类。因此，恕我直言，您的任何一种方法都没有可以想象的优势。

如果您想对来自 Web 视图外部的流量进行一些控制，您可以通过注册自己的 http 协议处理程序（甚至您自己的方案）或覆盖 Web 视图使用的 NSURLCache 来实现。缓存是在单个线程上访问的，而 NSURLProtocol 可以并行处理多个操作，可能是多线程的。

# android - 列表视图中的Editext没有集中注意力，不要让我编辑android

> ID：13985387
> 
> 赞同：1
> 
> 时间：2012-12-21T06:35:28.970
> 
> 标签：android, android-listview, focus, android-edittext

**编辑**

**现在解决了**

当我在 Adapter 类中删除 addTextChangeLister 时，editext 将成为焦点，它让我可以编辑值，但是`addTextChangeListener`当用户输入时如何添加以计算报价的值。

我在列表项中有 2 个`Editext`（数量和价格）和一个`TextView`（报价）。我希望用户可以输入价格和数量，然后在用户更改两个值（数量或价格）中的任何一个时计算报价`Edittext`。这是屏幕截图

![在此处输入图像描述](../Images/cef20aba83cce3684c0d5c885218921c.png)

但是Editext里面`Listview`没有关注，不要让我编辑它这是代码......

这是列表视图 xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <EditText
        android:id="@+id/ep_multiselect"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:completionThreshold="3"
        android:hint="Enter Product Name"
        android:textSize="16sp" />

    <Button
        android:id="@+id/ep_go"
        style="?android:attr/buttonStyleSmall"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/ep_multiselect"
        android:text="   Go   " />

    <ListView
        android:id="@+id/ep_listview"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/ep_go"
        android:focusable="false"
        android:visibility="gone" >
    </ListView>

</RelativeLayout> 
```

这是列表项代码...

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/ep_productName"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_margin="3dip"
        android:layout_toLeftOf="@+id/ep_checkBox"
        android:text="Medium Text"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <EditText
        android:id="@+id/ep_qty"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/ep_productName"
        android:layout_toLeftOf="@+id/ep_price"
        android:ems="10"
        android:focusable="true"
        android:hint="Qty"
        android:inputType="number" >
    </EditText>

    <EditText
        android:id="@+id/ep_price"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/ep_qty"
        android:layout_alignBottom="@+id/ep_qty"
        android:layout_alignParentRight="true"
        android:ems="10"
        android:focusable="true"
        android:hint="Price"
        android:inputType="number" />

    <TextView
        android:id="@+id/ep_quotePrice"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/ep_qty"
        android:text="Quote Price"
        android:textSize="16sp" />

</RelativeLayout> 
```

这就是我在java中处理它的方式..

```
private class MyEditProductAdapter extends BaseAdapter {

    private LayoutInflater inflater;
    private ArrayList<ProductDetailBean> productDetails;

    private boolean listType;

    public MyEditProductAdapter(LayoutInflater arg1,
            ArrayList<ProductDetailBean > productDetails,
            boolean listType) {
        this.inflater = arg1;

        this.productDetails = productDetails;
        this.listType = listType;
    }

    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return productQuantity.size();
    }

    @Override
    public Object getItem(int arg0) {
        // TODO Auto-generated method stub
        return productQuantity;
    }

    @Override
    public long getItemId(int arg0) {
        // TODO Auto-generated method stub
        return arg0;
    }

    @Override
    public View getView(final int position, View convertView, ViewGroup arg2) {
        final Holder holder;
        if (convertView == null) { 
            holder = new Holder();

            // inflate the view from xml
            convertView = inflater.inflate(R.layout.edit_product_listitems,
                    null);

            holder.productName = (TextView) convertView
                    .findViewById(R.id.ep_productName);
            holder.qty = (EditText) convertView.findViewById(R.id.ep_qty);
            holder.quotePrice = (TextView) convertView
                    .findViewById(R.id.ep_quotePrice);
            holder.price = (EditText) convertView
                    .findViewById(R.id.ep_price);

            holder.box = (CheckBox) convertView
                    .findViewById(R.id.ep_checkBox);

            holder.qty.addTextChangedListener(new TextWatcher() {

                @Override
                public void onTextChanged(CharSequence arg0, int arg1,
                        int arg2, int arg3) {
                    if (arg0.length() > 0) {
                        holder.quotePrice.setText("Quote Price : "
                                + Integer.parseInt(arg0.toString())
                                * productPrice.get(position));
                        notifyDataSetChanged();
                    }
                }

                @Override
                public void beforeTextChanged(CharSequence arg0, int arg1,
                        int arg2, int arg3) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void afterTextChanged(Editable arg0) {
                    // TODO Auto-generated method stub

                }
            });

            holder.price.addTextChangedListener(new TextWatcher() {

                @Override
                public void onTextChanged(CharSequence arg0, int arg1,
                        int arg2, int arg3) {
                    if (arg0.length() > 0) {
                        holder.quotePrice.setText("Quote Price : "
                                + Integer.parseInt(arg0.toString())
                                * productQuantity.get(position));
                        notifyDataSetChanged();
                    }
                }

                @Override
                public void beforeTextChanged(CharSequence arg0, int arg1,
                        int arg2, int arg3) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void afterTextChanged(Editable arg0) {
                    // TODO Auto-generated method stub

                }
            });

            convertView.setTag(holder);
        } else {
            holder = (Holder) convertView.getTag();
        }

        final int localproductPrice = this.productPrice.get(position);
        final int localqty = this.productQuantity.get(position);
        holder.productName.setText(this.productName.get(position));
        holder.qty.setText("" + localqty);
        holder.price.setText("" + localproductPrice);
        holder.quotePrice.setText("Quote Price : "
                + (localqty * localproductPrice));

        return convertView;
    }
    }

    static class Holder {
        TextView productName, quotePrice;
        CheckBox box;
        EditText qty, price;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:46:36.937

尝试添加

> android:descendantFocusability="blocksDescendants"

在 list_item.xml 的父布局中

# asp.net-mvc - 使用 jquery ajax 在控制器操作中获取 MVC 2 表单值

> ID：13985388
> 
> 赞同：1
> 
> 时间：2012-12-21T06:35:35.193
> 
> 标签：asp.net-mvc, jquery, asp.net-mvc-2

我正在研究 asp.net MVC 2 应用程序。我有这样的表格：

```
<% using (Html.BeginForm("UpdateRecordingDetails", "Recording", FormMethod.Post, new { id = "frmRecordingEdit" }))
   {%>
<%= Html.Hidden("AccountIDsEdit",  ViewData["AccountIDsEdit"]) %>
<%= Html.Hidden("SelId",  ViewData["SelId"]) %>
<%= Html.Hidden("EditMode", ViewData["EditMode"]) %>
<table border="0" cellspacing="0" cellpadding="0" width="100%">
    <tr valign="top">
        <td>
            <table align="center">
                <tr>
                    <td style="width: 32%;">
                        <%=Html.HiddenFor(model=>model.Id) %>
                        <b>Person Name</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.PersonName, new { @class = "textarea wide" , disabled ="disabled"})%>
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Email</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.Email, new { @class = "textarea wide" })%>
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Notes</b>
                    </td>
                    <td>
                        <%: Html.TextAreaFor(model => model.Notes, new { @class = "textarea widetextarea" })%>
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Display Notes on Playback</b>
                    </td>
                    <td>
                        <%: Html.DropDownList("isNotesVisible", ViewData["displayNotes"] as SelectList, new {@class = "normal" })%>
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Call ID Number</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.CallIDNumber, new { @class = "textarea normal", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Dblink Unique URL</b>
                    </td>
                    <td>
                        <span id="DBLinkUniqueURL" class="small">
                            <%= Model.DBLinkUniqueURL %>
                        </span>
                        <input id="btnCopy" type="button" value="Copy to Clipboard" onclick="copyToClipboard('DBLinkUniqueURL')" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Password</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.CallPassword, new { @class = "textarea wide", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Number Called</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.NumberCalledFrom, new { @class = "textarea wide", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Called From</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.NumberCalledTo, new { @class = "textarea wide", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Duration</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.CallDuration, new { @class = "textarea normal", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Rate</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.CallRate, new { @class = "textarea normal", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Cost</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.CallCost, new { @class = "textarea tiny", disabled = "disabled" })%>
                        <%: Html.TextBoxFor(model => model.CallCost, new { @class = "textarea normal", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>User ID/ Email</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.LoginId, new { @class = "textarea wide", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Date/Time Added</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.CreationDate, new { @class = "textarea wide", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Status</b>
                    </td>
                    <td>
                        <%: Html.TextBoxFor(model => model.CallStatus, new { @class = "textarea normal", disabled = "disabled" })%>
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Archived</b>
                    </td>
                    <td>
                        <%: Html.CheckBoxFor(model => model.isArchived, new { disabled = "disabled"})%>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
<%            
   } 
%> 
```

我在这个表单之外有一个按钮，它使用 jquery ajax 发布表单，如下所示：

```
function editAccountDetails() {

    jQuery.ajax({
        url: "/recording/UpdateRecordingDetails",
        type: 'POST',
        data: $('frmRecordingEdit').serialize(),
        dataType: "json",
        contentType: "application/json",
        success: function (data) {
            alert(data);
        }
    });   
} 
```

在控制器操作方法中，我没有得到所有这些字段。我只得到那些在 viewdata 中或未被禁用的复选框和复选框值。我的操作方法是：

```
 [Authorize]
        public ActionResult UpdateRecordingDetails(FormCollection form, CallRecordingModel objCampaignMode)
        {
            return Content("testing");
        } 
```

formcollection 都没有注意到模型具有表单中的所有字段值。

```
[Edit]

form has values for 

AccountIDsEdit
SelId
EditMode
Id
Email
Notes
isNotesVisible
isArchived

model has values in three fields
email, Id, notes

<td>
            <table align="center">
                <tbody><tr>
                    <td style="width: 32%;">
                        <input type="hidden" value="2" name="Id" id="Id">
                        <b>Person Name</b>
                    </td>
                    <td>
                        <input type="text" value="Asif" readonly="readonly" name="PersonName" id="PersonName" disabled="disabled" class="textarea wide">
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Email</b>
                    </td>
                    <td>
                        <input type="text" value="asif@cc.com" name="Email" id="Email" class="textarea wide">
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Notes</b>
                    </td>
                    <td>
                        <textarea rows="2" name="Notes" id="Notes" cols="20" class="textarea widetextarea">asif notes</textarea>
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Display Notes on Playback</b>
                    </td>
                    <td>
                        <select name="isNotesVisible" id="isNotesVisible" class="normal"><option selected="selected">Yes</option>
<option>No</option>
</select>
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Call ID Number</b>
                    </td>
                    <td>
                        <input type="text" value="callIDNum002" name="CallIDNumber" id="CallIDNumber" disabled="disabled" class="textarea normal">
                    </td>
                </tr>
                <tr>
                    <td style="width: 32%;">
                        <b>Dblink Unique URL</b>
                    </td>
                    <td>
                        <span class="small" id="DBLinkUniqueURL">
                            http://temp.com/callIDNum002
                        </span>
                        <input type="button" onclick="copyToClipboard('DBLinkUniqueURL')" value="Copy to Clipboard" id="btnCopy">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Password</b>
                    </td>
                    <td>
                        <input type="text" value="temppass" name="CallPassword" id="CallPassword" disabled="disabled" class="textarea wide">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Number Called</b>
                    </td>
                    <td>
                        <input type="text" value="03344037289" name="NumberCalledFrom" id="NumberCalledFrom" disabled="disabled" class="textarea wide">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Called From</b>
                    </td>
                    <td>
                        <input type="text" value="0442510406" name="NumberCalledTo" id="NumberCalledTo" disabled="disabled" class="textarea wide">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Duration</b>
                    </td>
                    <td>
                        <input type="text" value="00:01:30" name="CallDuration" id="CallDuration" disabled="disabled" class="textarea normal">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Rate</b>
                    </td>
                    <td>
                        <input type="text" value="4" name="CallRate" id="CallRate" disabled="disabled" class="textarea normal">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Cost</b>
                    </td>
                    <td>
                        <input type="text" value="3" name="CallCost" id="CallCost" disabled="disabled" class="textarea tiny">
                        <input type="text" value="3" name="CallCost" id="CallCost" disabled="disabled" class="textarea normal">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>User ID/ Email</b>
                    </td>
                    <td>
                        <input type="text" value="asif_hameed_371@hotmail.com" name="LoginId" id="LoginId" disabled="disabled" class="textarea wide">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Date/Time Added</b>
                    </td>
                    <td>
                        <input type="text" value="12/19/2012 12:00:00 AM" name="CreationDate" id="CreationDate" disabled="disabled" class="textarea wide">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Call Status</b>
                    </td>
                    <td>
                        <input type="text" value="Completed" name="CallStatus" id="CallStatus" disabled="disabled" class="textarea normal">
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Archived</b>
                    </td>
                    <td>
                        <input type="checkbox" value="true" name="isArchived" id="isArchived" disabled="disabled"><input type="hidden" value="false" name="isArchived">
                    </td>
                </tr>
            </tbody></table>
        </td> 
```

[编辑2]

```
Request URL:http://localhost:62843/recording/UpdateRecordingDetails
Request Method:POST
Status Code:200 OK
Request Headersview source
Accept:application/json, text/javascript, */*; q=0.01
Accept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3
Accept-Encoding:gzip,deflate,sdch
Accept-Language:en-US,en;q=0.8
Connection:keep-alive
Content-Length:0
Content-Type:application/json
Cookie:SiteBrowsedCookie=1;edited value&FirstVisit=9/14/2012 5:42:08 PM; Nop.customer=61f1bf57-034a-4427-a08c-e9442061f224; glimpseState=null; glimpseClientName=null; glimpseOptions=null; ASP.NET_SessionId=lephqzclxx35mjqier5to5l4; .CRM=85A97958C0415B3C8106A7EE2B473EE00C1F53C5E428C399AC951D7AFEA5A325C8BC54225AC959917CF1754734CF8DC6BD13DAAA7DA1EE64D4A177BB3FA3529992A1E596AF6D1D4391242C412EB809F8125EC03DBC1C5A36FDAE3BAB915E2233C30E0876EFE62B3D8CAE1CCAD020DA6791EA17FD3B085C1A913C8DBF822408FD0E2AA3B19F67AFE34C9176A3783F0935D61B847D51958ABB72AB2E9491864F956A90729E; returnUrl=returnUrl=http://localhost:62843/Account/Login
Host:localhost:62843
Origin:http://localhost:62843
Referer:http://localhost:62843/Recording/Detail
User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.97 Safari/537.11
X-Requested-With:XMLHttpRequest
Response Headersview source
Cache-Control:private, s-maxage=0
Connection:Close
Content-Length:8
Content-Type:text/html; charset=utf-8
Date:Fri, 21 Dec 2012 07:16:02 GMT
Server:ASP.NET Development Server/10.0.0.0
X-AspNet-Version:4.0.30319
X-AspNetMvc-Version:3.0 
```

请提出解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T08:22:21.573

```
data: $('frmRecordingEdit').serialize(), 
```

应该：

```
data: $('#frmRecordingEdit').serialize(), 
```

因为这就是[`id selectors`](http://api.jquery.com/id-selector/)在 jQuery 中的工作方式。

此外，您还没有显示如何/在何处调用`editAccountDetails`发送 AJAX 请求的函数，但如果这是在`onsubmit`表单的处理程序或`onclick`此表单的提交按钮的处理程序或`onclick`某个锚点的处理程序内，您应该确保您从该处理程序返回 false 以确保您取消默认操作并提供执行 AJAX 调用的机会。如果您不取消默认操作，浏览器将简单地从页面重定向，而不会执行任何 AJAX 调用。

# android - EditText - 无法获取值

> ID：13985391
> 
> 赞同：0
> 
> 时间：2012-12-21T06:35:55.233
> 
> 标签：android, android-edittext

```
public boolean saveTheUpdate(int position)
   {
       System.out.println("In update Save Method");
       String strOut=objEditText.getText().toString();
       if(strOut !=null && strOut.length() !=0 && arrlstCo_ordinate.size() !=0)
       {
           mapDefect.put(objEditText.getId(),strOut); 
           Log.d("Err", "Map Size :"+mapDefect.size() +"Arr List Size :"+arrlstCo_ordinate.size());
           db.updateDefectDescription(arrlstCo_ordinate, mapDefect,position);  
           Toast.makeText(FragmentActivity.this, "Defect updated", Toast.LENGTH_SHORT).show();
           count=1;
           removeLocalView();
           fechCoordinate();
           addViewEditText();
           return true;
       }else
       {
           Toast.makeText(FragmentActivity.this, "Please log the defect before saving", Toast.LENGTH_SHORT).show(); 
           return false;
       }     
   } 
```

所以，我打开了一个 EditText。其中的数据存储在 SortedMap - mapDefect 中。这用于稍后插入数据库。但是，在随机时间`String strOut=objEditText.getText().toString();`不起作用。

实际上有很多EditTexts。它从错误的 EditText 中获取信息，即使它们是不可见的。数据将从当前可见的 EditText 中选取。它有时可以正常工作，有时却不能 - 它有时会从正确的 EditText 中获取，有时则不能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:01:28.477

```
if(!strOut.equalsIgnoreCase("")&& strOut.length() !=0 && arrlstCo_ordinate.size() !=0)
        {

        } 
```

用。。。来代替

```
 if(strOut !=null && strOut.length() >0 && arrlstCo_ordinate.size() >0)
        {

        } 
```

# php - phpmailer中的for循环

> ID：13985394
> 
> 赞同：2
> 
> 时间：2012-12-21T06:36:15.913
> 
> 标签：php, phpmailer

我正在尝试将电子邮件发送给 10 个不同的用户，我已将变量 $friendsEmails 放入一个包含 10 个不同电子邮件的数组中，但是看起来它将为每封 10x10 的电子邮件复制 10 个。难道我做错了什么？

```
 for($i =0; $i<11; $i++){

    $mail->SetFrom($email, $name);

    $mail->AddReplyTo($email,$name);

    $mail->Subject    = "We wish you a merry Christmas";

    $mail->AltBody    = "To view the message, please use an HTML compatible email viewer!"; // optional, comment out and test

    $mail->MsgHTML($body);

    $mail->AddAddress($friendsEmails[$i], $friendsNames[$i]);

    if(!$mail->Send()) {
      echo "Mailer Error: " . $mail->ErrorInfo;
    } else {
      echo "Message sent!";
    }

       } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T08:54:25.000

难怪您要发送多封电子邮件，因为在 for 循环的每次迭代中，您只是在添加新地址。用于`PHPMailer::clearAllRecipients()`在添加新电子邮件地址之前从上一次迭代中删除数据。

```
for($i =0; $i<11; $i++){
    $mail->SetFrom($email, $name);
    $mail->AddReplyTo($email,$name);
    $mail->Subject    = "We wish you a merry Christmas";
    $mail->AltBody    = "To view the message, please use an HTML compatible email viewer!"; // optional, comment out and test
    $mail->MsgHTML($body);
    $mail->AddAddress($friendsEmails[$i], $friendsNames[$i]);

    if(!$mail->Send()) {
      echo "Mailer Error: " . $mail->ErrorInfo;
    } else {
      echo "Message sent!";
    }
    $mail->clearAllRecipients(); // Clear all recipient types(to, bcc, cc).
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T08:32:13.293

将电子邮件地址放在数组中的键值对中更容易。所以键是你朋友的名字，值是电子邮件地址。并使用 foreach 循环遍历整个数组，而无需确定数组中有多少项。

哦，并在每个循环中重新实例化您的邮件对象，不要让它也发送每封最后一封电子邮件（不确定，但这就是可能发生的事情）

尝试这样的事情：

```
$friendsEmails = array('name' => 'email_address');

foreach($friendsEmails as $name => $email) {

    $mail = new Mailer();

    $mail->SetFrom($name);

    $mail->AddReplyTo($name);

    $mail->Subject = "We wish you a merry Christmas";

    $mail->AltBody = "To view the message, please use an HTML compatible email viewer!"; // optional, comment out and test

    $mail->MsgHTML($body);

    $mail->AddAddress($email, $name);

    if(!$mail->Send()) {
      echo "Mailer Error: " . $mail->ErrorInfo;
    } else {
      echo "Message sent!";
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:39:18.723

也许在每次迭代结束时你应该清理你的`mail`对象。

另一种选择是在循环开始时实例化一个不同的邮件类。

# jquery - 从 KOObservable 数组中删除重复项

> ID：13985398
> 
> 赞同：1
> 
> 时间：2012-12-21T06:36:30.480
> 
> 标签：jquery, knockout.js

想要从 KoObservableArray 中删除重复值。我有以下 JS 文件。我想将 UI 中的名称列绑定为下拉列表以及删除重复值。

建议最好的方法来做同样的事情。

JS文件

```
$(function () {
    var initialData = [
    { name: "Well-Travelled Kitten", sales: 352, price: 75.95 },
    { name: "Speedy Coyote", sales: 89, price: 190.00 },
    { name: "Furious Lizard", sales: 152, price: 25.00 },
    { name: "Furious Lizard", sales: 213, price: 25.00 },
    { name: "Indifferent Monkey", sales: 1, price: 99.95 },
    { name: "Speedy Coyote", sales: 89, price: 190.00 },
    { name: "Brooding Dragon", sales: 0, price: 6350 },
    { name: "Ingenious Tadpole", sales: 39450, price: 0.35 },
    { name: "Optimistic Snail", sales: 420, price: 1.50 }
];

    var PagedGridModel = function (items) {
        this.items = ko.observableArray(items);       
    };

    ko.applyBindings(new PagedGridModel(initialData));
});

HTML File 
<body>

<nav>
<label for="name">Name</label>
        <select id="name" data-bind="options: items, optionsText: 'name', optionsCaption:'All'">
        </select>
</nav>

</body> 
```

以上给了我重复名称的下拉列表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:58:43.190

请参阅下面的示例，了解如何让计算出的 observable 返回一个数组。我刚刚写下了过滤的逻辑，但它可能不正确或最优，我会留给你改进它。

```
$(function () {
    var initialData = [
    { name: "Well-Travelled Kitten", sales: 352, price: 75.95 },
    { name: "Speedy Coyote", sales: 89, price: 190.00 },
    { name: "Furious Lizard", sales: 152, price: 25.00 },
    { name: "Furious Lizard", sales: 213, price: 25.00 },
    { name: "Indifferent Monkey", sales: 1, price: 99.95 },
    { name: "Speedy Coyote", sales: 89, price: 190.00 },
    { name: "Brooding Dragon", sales: 0, price: 6350 },
    { name: "Ingenious Tadpole", sales: 39450, price: 0.35 },
    { name: "Optimistic Snail", sales: 420, price: 1.50 }
];

    var PagedGridModel = function (items) {
        var self = this;
        self.items = ko.observableArray(items);       
        self.uniqueItems = ko.computed({
            var filteredArray = [];
            var i;
            $.each(self.items(), function (index, item) {
                 bool alreadyAdded = false;
                 for (i in filteredArray) {
                      if (filteredArray[i].name == item.name) {
                            alreadyAdded = true;
                      }
                 }
                  if (!alreadyAdded) {
                       filteredArray.push(item);
                  }
            });
            return  filteredArray;
        });
    };

    ko.applyBindings(new PagedGridModel(initialData));
}); 
```

最后在您的 HTML 中

```
<select id="name" data-bind="options: uniqueItems, optionsText: 'name', optionsCaption:'All'">
</select> 
```

# github - 保持 GitHub 存储库的修改版本更新

> ID：13985407
> 
> 赞同：1
> 
> 时间：2012-12-21T06:37:30.253
> 
> 标签：github, mongoose

在过去的几天里，我一直致力于向 Mongoose 添加更新验证器。我认为这对我使用 mongodb 的方式非常重要；这就是为什么我让自己睡眠不足，并实施它：

[https://github.com/LearnBoost/mongoose/pull/1256](https://github.com/LearnBoost/mongoose/pull/1256)

出于*非常*合理的原因（不可能拥有 100% 一致的验证器，因为现在 mongoose 验证器期望完全访问加载的文档，这是不可能进行更新的），伟大的 Mongoose 维护者 Aaron 最终可能不会接受这一点上游。如果您有兴趣，请参阅拉取请求中的讨论。

这绝对不是问题：Mongoose 是 Aaron 的孩子，他显然做对了很多事情；同时......好吧，我确实需要更新验证。

我对 git 绝望了，尽管我明白了它的要点。现在，我克隆了 Mongoose 的主仓库，以便提交我的拉取请求：

[https://github.com/mercmobily/mongoose](https://github.com/mercmobily/mongoose)

我显然正在使用这个进行开发（因为它有好东西）。修改确实非常本地化（只有 model.js 中的一大块代码和 query.js 中的两个小的本地化块）。但是，我很担心，因为 Mongoose 的开发非常活跃，我真的不想错过最新的面霜。

所以，问题是：我怎样才能让我的存储库每天与主存储库同步？或者可能是每周一次？合并我的修改应该很简单，因为它们不应该影响整个 Mongoose。

我希望我最终不必这样做，但我正在为最坏的情况做准备：D

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:53:57.600

跟上远程仓库更改的一般方法是：1) 在本地 git 仓库中添加一个新的“远程”仓库，2) 获取该新远程仓库的更新，以及 3) 将您的仓库合并/重新定位到这些变化。

查看这些文章： [如何与远程 Git 存储库同步？](https://stackoverflow.com/questions/4313125/how-to-sync-with-a-remote-git-repository) [http://gitready.com/advanced/2009/02/11/pull-with-rebase.html](http://gitready.com/advanced/2009/02/11/pull-with-rebase.html)

# grails - 如何在 grails 1.3.5 框架中动态传递模式名称

> ID：13985415
> 
> 赞同：0
> 
> 时间：2012-12-21T06:38:30.110
> 
> 标签：grails

我想将表数据从一个模式复制到另一个模式。与源模式建立连接后，复制表值，然后与目标模式建立连接，将数据保存在目标表中。

为此，我需要将模式的值动态传递给`Datasource.groovy`（`default_schema = ${someConfig.default_schema}`）。还有其他方法可以继续吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T11:51:06.473

我认为[dataSource](http://grails.org/plugin/datasources)插件是您正在寻找的。使用它，您可以为其中的目标数据库广告保存对象设置第二个数据源。

# javascript - 使用 $.each() 获取数据属性

> ID：13985416
> 
> 赞同：0
> 
> 时间：2012-12-21T06:38:36.450
> 
> 标签：javascript, jquery, css, html

当我用来`$('#1').data('title')`提取属性`data-title`时，它可以工作。

**问题：**当我尝试从 div 的子元素中提取所有属性`data-title`时，我得到了错误。这样做的正确方法应该是什么？`#collection``$.each()``Uncaught TypeError: Object 0 has no method 'data'`

**JS代码**

```
$.each( $('#collection').children(), function(index, child) {
    $('#result').append( child.data('title') );
}); 
```

​</p>

**jsfiddle：http:** [//jsfiddle.net/J5Fjf/2/](http://jsfiddle.net/J5Fjf/2/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:42:14.063

这将起作用。

```
$('#result2').html( $('#collection #1').data('title') );

$.each( $('#collection').children(), function() {
    $('#result').append( $(this).data('title') );
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T06:40:50.327

```
$('#collection').children().each( function(index, child) {
    $('#result').append( $(child).data('title') );
}); 
```

each() 中的第二个参数是原生 DOM 元素，而第一个参数是循环的索引。当迭代一组 jQuery 元素时，您还可以将每个元素用作链式函数，并且`this`还可以引用循环内的元素。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T06:39:29.930

[如果each()](http://api.jquery.com/each/)是第一个参数`index`，则使用第二个。

```
$.each( $('#collection').children(), function(index, child) {
    $('#result').append( $(child).data('title') );
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T06:54:00.393

试试这个，

```
$.each( $('#collection').children(), function(index, child) {
  $('#result').append( child.data('title') );
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-21T07:29:00.593

我认为你必须抓住里面的 div 的索引，`#collection`而不是`$.each`你可以`.each`用来迭代：

```
$('#collection div').each(function(i) {
    $('#result ul').append('<li>' + $('#a'+parseFloat(i+1)).data('title')+'</li>');
}); 
```

检查小提琴：http: **[//jsfiddle.net/J5Fjf/4/](http://jsfiddle.net/J5Fjf/4/)**

# android - 无法处理屏幕方向更改？

> ID：13985417
> 
> 赞同：0
> 
> 时间：2012-12-21T06:38:40.163
> 
> 标签：android, android-layout, android-orientation

我正在尝试处理屏幕方向更改，但应用程序崩溃，尝试搜索我在 logcat 中遇到的错误但徒劳无功。已`android:configChanges="orientation|keyboardHidden"`在清单中添加并尝试覆盖`onConfigurationChanged`但得到相同的错误。错误是：

```
12-21 12:04:31.419: E/AndroidRuntime(14573): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.click4tab.pustakalpha/com.click4tab.pustakalpha.StartTestActivity}: java.lang.IllegalArgumentException: Wrong state class, expecting View State but received class android.widget.CompoundButton$SavedState instead. This usually happens when two views of different type have the same id in the same hierarchy. This view's id is id/0x1\. Make sure other views do not use the same id. 
```

我们在这里谈论的是哪种观点？在要点上发布代码：[链接](http://pastie.org/5560323)。xml的代码：[链接](http://pastie.org/5560339)

编辑：嗯，发现了问题并解决了它。

# php - 无法连接：用户拒绝访问

> ID：13985418
> 
> 赞同：-1
> 
> 时间：2012-12-21T06:38:42.050
> 
> 标签：php, joomla2.5

我的网站是[http://www.bathpass.co.uk/](http://www.bathpass.co.uk/)在 joomla 中。当您单击“ROUTE IDEADS”时，我遇到了一个问题。它将指向另一个域 - [http://www.freedom2explore.co.uk/route_ideas/](http://www.freedom2explore.co.uk/route_ideas/)。这是因为，此菜单项由外部链接使用。问题是当我将上面的 url 更改为[http://www.bathpass.co.uk/route_ideas/](http://www.bathpass.co.uk/route_ideas/)时。我收到了这个错误：

`Could not connect: Access denied for user 'freedom2_sajids3'@'localhost' (using password: YES)`.

我接受您的宝贵答复。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:40:18.647

有价值的回复：您的登录名和/或密码错误。

PS：请不要开始争论 - 如果 mysql 以“拒绝访问”回应你 - 这意味着凭据是错误的。就这么简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:59:55.720

您的 Joomla 数据库配置`configuration.php`设置为连接到`localhost`，您的凭据可能不好。

但是，如果您只是在不同的 url 上运行网站克隆（共享相同的数据库），请确保 mysql 服务器和用户允许来自外部源的连接。

为此，您必须：

1.  确保 db/firewall 允许来自外部服务器的连接
2.  确保将用户访问权限设置为某些域或`%`
3.  将主机`configuration.php`从 localhost 更改为 db 服务器的 IP 地址

# javascript - 保存具有多个属性的数组元素

> ID：13985424
> 
> 赞同：0
> 
> 时间：2012-12-21T06:39:11.890
> 
> 标签：javascript, arrays, json

我目前有这个 JavaScript 数组。我已经使用这个排序的数字列表来生成一个锦标赛括号列表，其中考虑了球队的种子。

问题是，为了执行我的种子算法，我计算出决赛中的 2 支球队，并使用他们的种子计算之前的比赛，这将是使用`seeds[0]`和`seeds[1]`给我`1`和`2`。但是，当我尝试手动输入团队名称时，这会导致问题。

这是当前数组：

```
var seeds = [
      1,2,3,4,5,6,7,8
] 
```

我想使用一些我可以参考的东西`seeds[0].id`来获取他们的种子号码，当谈到为锦标赛括号打印他们的名字时，我可以`seeds[0].name`这样使用：

```
var seeds = [
    { id : 1, name : "Team 1" },
    { id : 2, name : "Team 2" },
    etc
] 
```

你认为最好的方法是什么？主要问题是，在创建要放入播种括号的匹配列表时，我使用的是种子编号，然后以正确的播种顺序创建一个新的种子数组，以便我可以打印括号如`newSeeds[0] vs newSeeds[1]`&`newSeeds[2] vs newSeeds[3]`等等。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:47:19.870

我建议这样，

创建一个类种子，它具有种子的所有属性作为实例变量。

创建种子数组时，请继续将这些种子对象推送到数组中，而不是任何随机哈希图。

因此，当您遍历数组时，您可以调用每个对象（种子对象）上的方法，这些方法可以为您完成所需的事情。

# java - 较远的平面呈现在较近的平面前面

> ID：13985425
> 
> 赞同：1
> 
> 时间：2012-12-21T06:39:14.450
> 
> 标签：java, opengl-es, libgdx

我有一个 libgdx 应用程序，在那里我创建了一个由立方体组成的迷宫。当我渲染底部的**蓝色**和顶部的**红色**面时，底部的一个被渲染在顶面的前面。两个面具有相同的法向量。

我可以切换远近剪裁平面吗？

这是我设置相机的方法：

```
public PerspectiveCamera updateCamera() {
       if (camera == null) {
          float aspectRatio = Gdx.graphics.getWidth() / Gdx.graphics.getHeight();
          camera = new PerspectiveCamera(67f, aspectRatio, 1);
          this.setActive(true);
      }
      return camera;
} 
```

![在此处输入图像描述](../Images/4b8ed7546898deef2caa7b7181a68bb0.png) ![底部明显低于顶部](../Images/897474209ca33653908bea361a38bc04.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T08:08:36.003

我只是忘了添加深度测试。

添加到 create() 方法：

```
Gdx.gl.glEnable(GL10.GL_DEPTH_TEST);
Gdx.gl.glDepthFunc(GL10.GL_LESS); 
```

添加到 render() 方法：

```
Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT | GL10.GL_DEPTH_BUFFER_BIT); 
```

# liferay - 将用户分配给组织时出错：com.liferay.portal.NoSuchResourceActionException

> ID：13985426
> 
> 赞同：2
> 
> 时间：2012-12-21T06:39:15.667
> 
> 标签：liferay

在将用户分配给组织时出现以下错误`UserServiceUtil.addOrganizationUsers(orgId, userIds)`

```
ERROR [AdvancedPermissionChecker:944]
   com.liferay.portal.NoSuchResourceActionException: 
      com.liferay.portal.model.Organization#ASSIGN_MEMBERS 
```

我想我需要在资源表中添加一行`com.liferay.portal.model.Organization`名称和`ASSIGN_MEMBERS`actionID。但是要插入什么`resourceActionId`和`bitwiseValue`字段。

或者有没有其他方法可以摆脱这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T03:44:00.503

Liferay 6.1.1 ga 2 的全新安装为我解决了这个问题。

# google-app-engine - 我可以使用一个 servlet 接收 xmpp 消息，而另一个在 App Engine 中发送它们吗？

> ID：13985429
> 
> 赞同：1
> 
> 时间：2012-12-21T06:39:18.910
> 
> 标签：google-app-engine, xmpp

xmpp 服务所需的 servlet URL 映射 (/_ah/xmpp/message/chat/) 是否限制我仅使用该 servlet 来发送和接收 xmpp 消息？

我的应用程序接收消息，将它们添加到“inQueue”中进行处理，一旦处理完毕，结果就会添加到“outQueue”中。理想情况下，我希望分配给 outQueue 的工作 servlet 发送响应。

我正在使用推送队列，servlet 显然是由 HTTP POST 请求调用的......

当我尝试使用 xmpp 服务从我的 outQueue 工作人员（显然未映射到 /_ah/xmpp/message/chat/ ）发送消息时，它预计什么都不做。

在映射到 /_ah/xmpp/message/chat/ 的 servlet 中：

```
//Generate a Memcache key 
String key = generateMemcacheKey(message);

//Serialize the message as xml using getStanza (for now, just put in the senderJID as string)
String senderJIDString = message.getFromJid().getId();

//Cache the message in Memcache
cache.put(key, senderJIDString);

//Enqueue a task for the message
private Queue queue = QueueFactory.getQueue("inQueue");
queue.add(TaskOptions.Builder.withUrl("/xmppParser").param("memcacheKey", key)); 
```

在 xmppParser servlet doPost 方法中：

```
//Extract message from memcache
String key = req.getParameter("memcacheKey");
String recipientJIDString = (String)cache.get(key);

//Todo Detect language

//Todo Parse Message into an Imperative accordingly (For now, just reply hello)

//Todo Handle Session status

//Put Imperative into memcache (For now, just put recipientID in)
cache.put(key, recipientJIDString);

//Enqueue appropriately
Queue queue = QueueFactory.getQueue("outQueue");
queue.add(TaskOptions.Builder.withUrl("/responseServlet").param("memcacheKey", key
)); 
```

现在我希望这个 responseServlet 发送回复：

```
//Get a handler on the memcache
MemcacheService cache = MemcacheServiceFactory.getMemcacheService();

//Extract the key to the response from the request
String key = req.getParameter("memcacheKey");

//Extract the message from the memcache ( For now it's just the JID of the sender)
String recipientJIDString = (String)cache.get(key);

//Parse it into a message (For now just make a simple "I hear you" message)
JID recipientJID = new JID(recipientJIDString);
Message response = new MessageBuilder()
    .withMessageType(MessageType.NORMAL)
    .withRecipientJids(recipientJID)
    .withBody("I hear you")
    .build();

//Send the message
XMPPService xmpp = XMPPServiceFactory.getXMPPService();
xmpp.sendMessage(response); 
```

servlet 映射都是 kosher，xmpp 服务无法发送消息。它引发了一个空指针异常，但 memcache 查看器确认收件人 JID 也是 kosher ......我猜只有映射到 /_ah/xmpp/message/chat/ 的 servlet 能够发送消息，还是我错了？

由于开发服务器似乎不支持 XMPP，因此我被迫在实时站点本身上进行测试，这增加了我忽略了一些生产环境配置的可能性......

非常感谢！

内存

# java - 在 Java 中初始化类实例中的变量数组

> ID：13985430
> 
> 赞同：3
> 
> 时间：2012-12-21T06:39:25.543
> 
> 标签：java, nullpointerexception

我来自 C 背景，在 Java 中遇到了问题。目前，我需要在对象数组中初始化变量数组。

我知道在 C 中它类似于`malloc-ing`数组中`int`的数组，`structs`如：

```
typedef struct {
  char name;
  int* times;
} Route_t

int main() {
  Route_t *route = malloc(sizeof(Route_t) * 10);
  for (int i = 0; i < 10; i++) {
    route[i].times = malloc(sizeof(int) * number_of_times);
  }
... 
```

到目前为止，在 Java 中我有

```
public class scheduleGenerator {

class Route {
        char routeName;
    int[] departureTimes;
}

    public static void main(String[] args) throws IOException {
      /* code to find number of route = numRoutes goes here */
      Route[] route = new Route[numRoutes];

      /* code to find number of times = count goes here */
      for (int i = 0; i < numRoutes; i++) {
        route[i].departureTimes = new int[count];
... 
```

但它吐出一个`NullPointerException`. 我做错了什么，有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T06:43:35.617

当你初始化你的数组

```
Route[] route = new Route[numRoutes]; 
```

有`numRoutes`插槽都填充了它们的默认值。对于引用数据类型，默认值为`null`，因此当您尝试`Route`在第二个循环中访问对象时，`for`它们都是`null`，您首先需要像这样初始化它们：

```
public static void main(String[] args) throws IOException {
      /* code to find number of route = numRoutes goes here */
      Route[] route = new Route[numRoutes];

      // Initialization:
      for (int i = 0; i < numRoutes; i++) {
           route[i] = new Route();
      }

      /* code to find number of times = count goes here */
      for (int i = 0; i < numRoutes; i++) {
        // without previous initialization, route[i] is null here 
        route[i].departureTimes = new int[count]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:52:48.457

```
Route[] route = new Route[numRoutes]; 
```

在 java 中，当您创建对象数组时，所有插槽都使用默认值声明如下 Objects = null 原语 int = 0 boolean = false

这些 numRoutes 插槽都填充了它们的默认值，即 null。当您尝试访问循环中的 Route 对象时，数组引用指向 null，您首先需要像这样初始化它们：

```
 // Initialization:
  for (int i = 0; i < numRoutes; i++) {
       route[i] = new Route();
       route[i].departureTimes = new int[count];
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:46:37.717

```
for (int i = 0; i < numRoutes; i++) {
  route[i] = new Route();
  route[i].departureTimes = new int[count]; 
```

# ide - 如何关闭 IntelliJ 12 中的无限空白？

> ID：13985432
> 
> 赞同：2
> 
> 时间：2012-12-21T06:39:40.997
> 
> 标签：ide, intellij-idea, editor

> **可能重复：**
> [IntelliJ IDEA - 插入符号行为](https://stackoverflow.com/questions/4493697/intellij-idea-caret-behavior)

以前的版本在“设置”->“编辑器”->“虚拟空间”中有“允许在行尾放置插入符号”，但我似乎在新版本 (12) 中找不到它。

编辑：它在同一个地方...... Mac 上的设置在 Command+ 中，而不是文件 - > 设置（在 PC 上）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T06:52:52.103

IDEA 12 具有完全相同的设置：

![插入符号](../Images/29330e6a73bc6b7ae6e31dfd2046d878.png)

# google-chrome - ChromeOS 应用程序：打开/保存到 Google Drive 以及下载和外部驱动器的简单示例应用程序

> ID：13985437
> 
> 赞同：0
> 
> 时间：2012-12-21T06:40:21.023
> 
> 标签：google-chrome, google-drive-api, google-chrome-os

我已成功在 Chromebook 上的 Chrome 应用程序中使用文件系统 API。但我发现的所有示例都不允许您从 Google Drive 打开文件。Chromebook 上的任何数量的应用程序（提供或添加）都会打开完全相同的对话框，但左侧显示的是 Google 云端硬盘以及下载和外部驱动器。

是否有一个简单的示例应用程序可以显示这是如何完成的？

还是我只是错过了一些概念，如果完成的话，即使是 Diff 或 TextEdit 示例也会以这种方式工作（比如将应用程序推送到商店，也许——现在我只是在加载和打包我自己的本地存储）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T13:45:46.467

通过阅读您的评论，您似乎需要使用 google drive sdk 将“[打开文件](https://developers.google.com/drive/integrate-open)”对话框集成到您的网络应用程序中。

更重要的是 -[文件“选择器”](https://developers.google.com/picker/docs/) - 为了集成文件选择器，您需要使用 google JS 客户端库。然后您将能够使用如下代码打开文件对话框：

```
// Use the Google Loader script to load the google.picker script.
google.setOnLoadCallback(createPicker);
google.load('picker', '1');

// Create and render a Picker object for searching images.
function createPicker() {
    var picker = new google.picker.PickerBuilder().
        addView(google.picker.ViewId.IMAGE_SEARCH).
        setCallback(pickerCallback).
        build();
    picker.setVisible(true);
} 
```

祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T04:25:31.620

答案是在浏览器中使用 <input type="file" name="somename" size="chars"> 代码。这就是产生这个的原因。它创建了一种从磁盘或 Google 驱动器读取文件的标准方法。这是我在多个应用程序中看到的。如果一个人想要访问这个简单的对话框，那么所有 API 的东西都是一个红鲱鱼。

但是，它不允许我写，只是读，因为人们希望它只返回文件的内容，而不是任何类型的文件句柄，甚至是全名。我会玩它并弄清楚是否有任何钩子可以告诉我将其写入 Google 驱动器（使用上面提供的链接 Ido）。如果有人对在何处使用此功能获取完整路径（或有趣的 Google Drive 路径）有任何建议，我很乐意听到他们的声音。

# c - 我可以同时使用 C 和 ActionScript 吗？

> ID：13985438
> 
> 赞同：0
> 
> 时间：2012-12-21T06:40:34.557
> 
> 标签：c, actionscript, mashup

我正在做一个项目，我需要为用户创建某种 GUI 并控制一些伺服电机。

我正在考虑将 ActionScript 用于 GUI 和 C 用于控制硬件。这甚至可能吗？如何让 ActionScipt 与 C 对话，反之亦然？

显然，C 部分将驱动电机并将数据发送到 ActionScript GUI 以显示给用户。

以上可能吗？如果是的话，有人可以给我一些指示吗？

非常感谢！

编辑：如何从 ActionScript 传递一个变量（例如 x = 5）以在 C 中打印？或者这是不可能的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T13:23:42.267

我不知道编程伺服电机的细节，但基本上，如果你想要一些 C 到 AS3 的交互，你可以执行以下操作之一：

*   [使用flascc](http://gaming.adobe.com/technologies/flascc/)编译您的 C/C++ 代码。
*   将您的 C 代码包装在本机扩展中（如果您的目标是 AIR）。
*   正如 sberry 所建议的 - 使用套接字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:44:36.360

“您可以按照 TG 的建议通过 ASP 访问 DLL，或者您可能调用 ANSI C（命令行）应用程序并传入变量（至少在 Windows PC 上）......这应该使用 FSCommands 完成。请参阅本教程 [http://www.actionscripts.org/tutorial...es/index.shtml](http://www.actionscripts.org/tutoria...es/index.shtml) "

最初由 回复

杰西斯特拉特福

ActionScript.org 联合创始人

这是取自[这里](http://www.actionscript.org/forums/showthread.php3?t=6235)

# objective-c - 更改用户后发生 iOS Dropbox API“MPOAuthConnection 目前不支持”

> ID：13985441
> 
> 赞同：5
> 
> 时间：2012-12-21T06:40:48.830
> 
> 标签：objective-c, ios, oauth, dropbox-api

我正在尝试在 iOS 上使用 Dropbox API，但是当我尝试使用`loadMetadata`方法时我被错误困住了。

流程如下..

* * *

1.链接（用户A）

```
[[DBSession sharedSession] linkFromController:self]; 
```

2.允许在Dropbox授权视图上授权

3.取消链接（用户A）

```
[[DBSession sharedSession] unlinkAll]; 
```

4.链接（用户B）

```
[[DBSession sharedSession] linkFromController:self]; 
```

5.允许在Dropbox授权视图上授权

6.加载元数据

```
[[self restClient] loadMetadata:path]; 
```

但在这里我得到了错误：

```
Terminating app due to uncaught exception 'Unsupported Signature Method', reason: 
'The signature method "(null)" is not currently support by MPOAuthConnection' 
```

* * *

`loadMetaData`确实可以正常工作，`UserA`但是在更改用户后无法正常工作。

我怀疑这种方式`unlink`可能还不够......但我不知道。

请给我任何建议以解决问题。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-12T17:24:51.380

*   将上面的答案迁移到正确的答案....正如@yusaku 在对他的问题的评论中发布的那样，此链接有答案：[https ://forums.dropbox.com/topic.php?id=94511#post-517526](https://forums.dropbox.com/topic.php?id=94511#post-517526)

具体来说，Greg K. 说：

> 确保在取消链接时清除所有 DBRESTClient 对象。如果您尝试使用旧的 DBRESTClient 对象，则会导致此问题。

清除旧的 DBRESTClient 应该是轻而易举的事情，但是当它为时已晚并且您正在遵循使其成为持久类变量的示例代码时，很容易跳过一两个大脑。

# android - 单个 XML、多个活动 & 那里的性能

> ID：13985443
> 
> 赞同：8
> 
> 时间：2012-12-21T06:40:56.443
> 
> 标签：android, android-layout, android-activity, android-xml

我对**Android 用户有一些简单的****问题**。

 **1.  如果我使用`Single XML`for `Multiple Activity`，可能会出现什么问题？

2.  **如果我们使用这种方法，**它将如何帮助应用程序性能？****

 **例如：如果 A,B,C 具有相同`XML layouts` **的 A,B** , **C** `Activity`，我不想使用多个布局，我只想使用单个布局，即**A** `XML Layout` 用于**A,B,C** `Activity`。

**注意：我试过这个，效果很好。但我想知道使用这种方法的任何问题或问题。浏览了一些网站，但没有得到清晰的图片**

建议或帮助将不胜感激。

非常感谢 ..！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T06:43:40.057

完全没有问题。XML 将作为每个 Activity 的单独实例膨胀。

请注意，因为它们是单独的实例，但是这些表单上的任何数据都不会在它们之间共享；您需要在活动之间传递数据作为意图的额外内容或通过持久性机制（数据库、共享首选项等）****

# python - 带有条件后视的python正则表达式

> ID：13985444
> 
> 赞同：0
> 
> 时间：2012-12-21T06:41:01.980
> 
> 标签：python, regex, lookbehind

我正在寻找以第一次出现开始`@`和结束的子字符串。`\s`必须`@`在字符串的开头或空格之后。

**示例**：`@one bla bla bla @two @three@four #@five`

**结果**：`@one, @two, @three@four`

我最终得到了这个 re:`((?<=\s)|(?<=^))@[^\s]+`它在 sublime text 2 中运行良好，但在 python 中返回空字符串。

**蟒蛇代码**：

```
re.findall(r'((?<=^)|(?<=\s))@[^\s]+', '@one bla bla bla @two @three@four #@five') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:53:16.063

如果您愿意不使用 reg expr 您可以尝试：

```
>>> s ="@one bla bla bla @two @three@four #@five"
>>> filter(lambda x:x.startswith('@'), s.split())
['@one', '@two', '@three@four'] 
```

这实际上应该快得多......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:45:43.747

您的捕获组未捕获您真正要查找的文本：

```
(?:(?<=^)|(?<=\s))(@[^\s]+) 
```

现在，它起作用了：

```
>>> re.findall(r'(?:(?<=^)|(?<=\s))(@[^\s]+)', '@one bla bla bla @two @three@four #@five')
['@one', '@two', '@three@four'] 
```

# android - 按钮中的渐变效果

> ID：13985448
> 
> 赞同：1
> 
> 时间：2012-12-21T06:41:29.683
> 
> 标签：android, android-layout

我尝试了下面的 xml 代码，但没有得到图像中的输出。

```
<item  >
    <shape>
        <gradient
           android:startColor= "#AE845c"
           android:endColor="#935Fc0"

             />

    </shape>
</item> 
```

我想要这样。

![在此处输入图像描述](../Images/3bad73f5e448b8a3736dcae4a355cdd9.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:43:37.643

尝试添加角度

```
<item  >
    <shape>
        <gradient
           android:angle="90"
           android:startColor= "#bc9b78"
           android:endColor="#7c4727"

             />

    </shape>
</item> 
```

如果它不起作用，请将代码放在您使用它的地方。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T06:45:01.260

使用 android 类型和角度进行渐变。根据您的要求将角度值从 0 更改为 360。

```
android:type="linear"
android:angle="0" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T07:08:17.257

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
     android:shape="rectangle">
     <stroke android:width="2dp" android:color="#FFFFFFFF" />
       <gradient android:startColor="#FFFFFFFF" android:endColor="#FFFFFFFF"
            android:angle="225"/> 

    <corners android:bottomRightRadius="5dp" android:bottomLeftRadius="5dp"
     android:topLeftRadius="5dp" android:topRightRadius="5dp"/>
</shape> 
```

你可以试试这个...

# .net - 避免在基于声明的安全性中没有许可时引发异常

> ID：13985450
> 
> 赞同：0
> 
> 时间：2012-12-21T06:41:40.867
> 
> 标签：.net, security, .net-4.5, claims-based-identity

即使返回 false，如何抑制从 ClaimsAuthorizationManager.CheckAccess 引发的异常。

为了更好地解释，我正在尝试创建一个对象集合。有些对象允许用户使用，有些则不允许。我只想忽略异常并在基于声明的安全模型中使用允许的对象加载集合。

但是现在我的代码正在抛出异常。

知道如何抑制引发的异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:22:39.097

ClaimsAuthorizationManager.CheckAccess 不会抛出。你能详细说明一下吗？

# c - 将细节存储到 C 结构中

> ID：13985452
> 
> 赞同：2
> 
> 时间：2012-12-21T06:41:59.587
> 
> 标签：c, linux, structure, compiler-warnings

我正在编写 C 程序来查找函数并计算 C 文件中函数的行数，并将其存储到结构中。我在下面给出了我的代码。

```
#include <stdio.h>
#include <string.h>

#define SIZE 1024
struct fundetails
{
    int nooflines;
    char *funcname;
}s[20];
char *ffname(char *line)
{
    int i=1,j=0;
    char *dt; 
    char name[SIZE];
    strtok(line,"("); 
    dt = strchr(line,' '); 
    if(dt[i] == '*')
        i++;
    while(dt[i] != '\0')
    {
        name[j]=dt[i];
        i++;
        j++;
    }
    name[j] ='\0';
    return name;
}

int main(int argc, char **argv)
{
    if(argc < 2)
    {
        printf("Give the filename \n");
        printf("Usage: %s filename\n", argv[0]);
        return -1;
    }
    int i, lines =0, funlines =0,count =0, fn =0, flag =0, size=0,emptyflag=0;
    char c[SIZE],b[SIZE];
    char *fname;
    FILE *fd;
    fd = fopen(argv[1],"r");
    while(fgets(c,SIZE,fd))
    {   
        emptyflag=0;
        lines++;
        size = strlen(c);
        if(size == 1 && (strcmp(c,"\n"))== 0)
            emptyflag=1;
        for(i=0;i<size;i++)
        {
            while( c[i] =='\t' || c[i] == ' ')
            {
                i++;
            }
            if( c[i] == '{')
            {
                count++;
                if(flag)
                {
                    if(!emptyflag)
                        funlines++;
                    else
                        emptyflag=0;
                }
                if(count == 1)
                {
                    fn++;
                    printf("Function %d is Started..............\n", fn); 
                    flag = 1;
                    fname=ffname(b);
                    printf("Function name is:%s\n",fname);
                }
                break;
            }
            else if( c[i] == '}')
            {
                count--;
                if(!count)
                { 
                    flag = 0;

                    printf("No of lines in the function %d is: %d\n", fn, funlines);
                    printf("Function %d is finished..........\n", fn);
                    s[fn-1].nooflines=funlines;
                    s[fn-1].funcname=fname;
                    funlines = 0;
                }
                else
                {
                    if(!emptyflag)
                        funlines++;
                    else
                        emptyflag=0;
                }
                break;
            }
            else if(flag)
            {
                if(!emptyflag)
                        funlines++;
                    else
                        emptyflag=0;
                break;
            }
        }
        strcpy(b,c);
    }
    printf("FUN_NAME\tNO_OF_LINES\n");
    for(i=0;i<fn;i++)
    {
    printf("%s\t\t%d\n",s[i].funcname,s[i].nooflines);
    }
    return 0;
} 
```

它产生警告为`try.c:26:2: warning: function returns address of local variable [enabled by default]`. 它产生如下所示的输出。

```
Function 1 is Started..............
Function name is:fundetails

No of lines in the function 1 is: 2
Function 1 is finished..........
Function 2 is Started..............
Function name is:dhahira
No of lines in the function 2 is: 1
Function 2 is finished..........
Function 3 is Started..............
Function name is:add
No of lines in the function 3 is: 3
Function 3 is finished..........
Function 4 is Started..............
Function name is:sub
No of lines in the function 4 is: 9
Function 4 is finished..........
Function 5 is Started..............
Function name is:main
No of lines in the function 5 is: 13
Function 5 is finished..........
FUN_NAME    NO_OF_LINES
main        2
main        1
main        3
main        9
main        13 
```

我存储`function name and no of lines`在同一个循环中。WQhile i1m 运行它`GDB`，每次

```
s[fn-1].nooflines=funlines;
s[fn-1].funcname=fname; 
```

以上行，行数正确存储在结构中。但不是在函数名的情况下。 `Problem:`我不明白为什么它适用于线路而不适用于函数名称？是因为那个警告吗？请指导我，谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T06:47:10.450

在 ffname() 中，name[] 是本地的，在执行函数时会被压入堆栈。ffname()返回后，出栈，即name[]占用的内存被释放，系统可以重用内存，但在重用内存之前，数据还在。这就是为什么有时它起作用，有时不起作用。另外，这就是您收到警告的原因。

您应该在结构中将 funcname 定义为数组而不是指针。因为在funcname的时候，你总是将funcname指向same name[]，而name[]是写在每个循环中，所以最后你打印了5次same name。

将 funcname 更改为数组后，应使用 strcpy 复制名称：

```
strcpy(funcname, name); // this is right way when funcname is array 
```

而不是：funcname = name;

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:36:52.683

首先制作结构

```
struct fundetails
{
  int nooflines;
  char funcname[128];
}s[20]; 
```

然后修复 func ffname 的返回值：您不能返回指向将消失的数据的指针超出范围（在这种情况下，函数的结束）。作为便宜的快速改装，只需转动您的

```
char name[SIZE]; 
```

进入

```
static char name[SIZE]; 
```

然后

```
strcpy(s[fn-1].funcname, fname); 
```

而不是你的

```
s[fn-1].funcname=fname; 
```

输出就像

```
FUN_NAME        NO_OF_LINES
fundetails
                2
ffname          15
main            82 
```

我还没有检查过你是如何识别函数的，但这似乎太天真了。（答案可能无法解决您的代码的所有问题；例如，您的代码中可能有路径在分配之前导致使用 fname？...）

# delphi - IDE 期望文件位于不同的位置

> ID：13985460
> 
> 赞同：4
> 
> 时间：2012-12-21T06:42:26.917
> 
> 标签：delphi, ide, delphi-xe2

我在 Delphi XE2 版本 16.0.4429.46931 中有一个组件包，同时是运行时和设计时包。这个包已经存在一年多了，文件/文件夹结构一直都是一样的。我将所有单元保存在根目录的专用`Source`文件夹中，并将实际包保存在`Packages`同一根目录的文件夹中。因此，可以在 中找到包，在 中找到`\Root\Packages\`单元`\Root\Source\`。

今天，在构建运行时包之后，我正在查看提示和警告。其中一个警告是：

```
[DCC Warning] Inno.TimeChart.pas(1): W1025 Unsupported language feature: 'class constructor' 
```

警告本身并不是我担心的。问题是当我双击此警告时，我从 IDE 收到一条错误消息：

![IDE 错误信息](../Images/12c2f725205a0f2d30addae598ab118c.png)

我立即注意到的一件事是它不是在`Source`文件夹中查找，而是直接在文件夹中查找`Packages`。不知何故，IDE 期望该单元与包位于同一位置。自从我一年多前创建包以来，我从未更改过任何库路径、文件位置或包的结构。

该文件确实存在，但位于与看起来不同的位置。该文件从未与项目一起保存在文件夹中，事实上，除了包项目本身之外，没有其他任何东西保存在该`Packages`文件夹中。这一切都驻留在`Source`文件夹中，但 IDE 似乎不这么认为。

为什么 IDE 会认为该文件位于不同的文件夹中？当我双击它们时，与同一单元相关的所有其他提示和警告都可以正常工作，但不是这个。

**编辑**

我创建了一个新的测试包来解决这个问题。

```
Root\TestPackage.dpr
Root\Source\TestPackageUnit.pas 
```

导致此编译器警告的特定代码在此类中：

```
type
  TMyComponent = class(TComponent)
  strict private
    class constructor Create;
  end; 
```

当我使用 Process Monitor 进行编译时，我看到 IDE 正在 30 多个不同的地方搜索这个文件（当然失败了），它看起来像是在每个库路径中搜索，而不是在包所说的那个地方。

**我尝试过的事情**

1.  `DPR`已验证和`DPROJ`文件之间的这些路径之间没有区别
2.  安装了所有最新的更新和 IDE FixPack（实际上给了我新的问题）
3.  使用 Process Monitor 监控文件的访问
    1.  过滤器：进程名称等于`BDS.exe`；路径以`TestPackageUnit.pas`
    2.  结果：“未找到名称”-> 所需访问：通用读取处置：打开选项：同步 IO 非警报、非目录文件属性：N 共享模式：读取、写入分配大小：n/a
4.  尝试使用仅设计时、仅运行时和设计时/运行时组合
5.  尝试使用已注册和未注册的组件
6.  尝试使用库路径中的目录而不是库路径中的目录
7.  从库路径中删除了大约 20 个不必要的条目以使其更短
8.  将目录移动到库路径的顶部
9.  已验证没有`DOF`与项目关联的文件（我认为来自旧版本）
10.  重启IDE和电脑的次数
11.  从项目中清理已编译和临时文件，包括 BPL 和 DCU 文件
12.  改为`strict private`公正`private`和均匀`public`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-27T09:03:21.407

当 delphi 搜索路径列表太长时，我确实遇到了这样的问题。我总是可以帮助自己将相关目录更多地移到前面，即在列表中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-30T07:37:46.967

检查该文件是否未添加到项目文件（dpr 或 dpk）中。项目 - 查看源代码将显示该文件。

如果不是这种情况，请尝试在项目中的所有文件中搜索文件名并查看出现了什么。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-29T00:48:42.960

在另一个网站上找到了这个：

> 还有另一个可能与您的问题有关的 QC。 [http://qc.embarcadero.com/wc/qcmain.aspx?d=87693](http://qc.embarcadero.com/wc/qcmain.aspx?d=87693)
> 
> 转到 Project Options -> Delphi Compiler -> Output C/C++ 并在 C/C++ output file generation 下选择 Generate DCUs only。
> 
> 达莉娅·普拉斯尼卡

资料来源：[http ://codeverge.com/embarcadero.delphi.general](http://codeverge.com/embarcadero.delphi.general/class-constructors-in-package-delp/1056448)

# html - (iphone5+phonegap) 号码输入字段：最后一个字符变为 0

> ID：13985463
> 
> 赞同：1
> 
> 时间：2012-12-21T06:42:47.923
> 
> 标签：html, cordova, input, numbers, iphone-5

我正在开发phonegap应用程序。我正面临一个非常奇怪的行为。

问题：当我在输入字段中输入超过 15 位数字时，关闭软输入键盘后所有多余的数字都被替换为“0”。

实现：只接受输入字段中的数字，我使用了以下代码：

```
<div class="input_div"><input name="" type="number" placeholder="Credit Card Number" class="input"  onKeyPress="return isNumberKey(event)" id="cc_number"  /></div> 
```

还使用的脚本如下：

```
<SCRIPT language=Javascript>
  //<!--
  function isNumberKey(evt)
  {
     var charCode = (evt.which) ? evt.which : event.keyCode
     if (charCode > 31 && (charCode < 48 || charCode > 57))
        return false;

     return true;
  }
  //-->
</SCRIPT> 
```

使用的 CSS 类如下：

```
.input_div{width:100%; display:block;} 
```

请任何人都可以帮助我，为什么这个问题只发生在 iPhone5 上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T13:35:00.940

使用输入类型 'tel' 而不是 'number'

```
<input type="tel" name="numberInput" /> 
```

# iphone - 在墙贴中标记朋友需要 Facebook 权限..？

> ID：13985466
> 
> 赞同：1
> 
> 时间：2012-12-21T06:43:11.587
> 
> 标签：iphone, objective-c, ios, facebook, facebook-graph-api

我想在我贴在墙上的帖子中标记一个朋友，只是想知道需要什么权限...？

我正在使用以下代码...

对于权限..

```
 NSArray *permissions = [[NSArray alloc] initWithObjects:
                                    @"friends_online_presence",
                                    @"read_stream",
                                    @"email",
                                    @"publish_stream",
                                    nil];
            [self.appDelegate.facebook authorize:permissions];
            [permissions release]; 
```

并发布

```
NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:

                               @"Test 2",@"message",
                               @"100004311843201,1039844409", @"to",
                               nil];

[self.appDelegate.facebook requestWithGraphPath:@"me/feed" andParams:params andHttpMethod:@"POST" andDelegate:self]; 
```

这已成功发布在墙上，但不包括个人资料 ID...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:20:24.447

虽然它在 PHP[中的错误报告](http://developers.facebook.com/bugs/395975667115722/)说它是 Graph API 中的问题，同时发布状态更新和标记朋友无法正常工作。

它说它将发布状态更新，但标记不起作用。

**编辑：**

正如在评论中与 OP 讨论的那样，将 place 字段添加到它正在工作的参数上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:17:42.040

我认为这应该可以帮助您：

要在用户消息中提及用户，请将此字符串与消息内联：@[userID] 或 @[profileUrl]。这会创建一个指向上述朋友个人资料的内联超链接，并向他们发送他们已被标记的通知。

取自：[https ://developers.facebook.com/docs/technical-guides/opengraph/mention-tagging/](https://developers.facebook.com/docs/technical-guides/opengraph/mention-tagging/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-10T06:39:58.877

对于在 Facebook 中标记朋友，朋友 ID 需要在帖子等中标记。

客户朋友选择器更适合标记朋友。请参阅下面的 Facebook 示例 [https://fbcdn-dragon-a.akamaihd.net/hphotos-ak-xpa1/t39.2178-6/851564_497226807066458_2037734970_n.png](https://fbcdn-dragon-a.akamaihd.net/hphotos-ak-xpa1/t39.2178-6/851564_497226807066458_2037734970_n.png)

为此，我们使用此图形 api [taggable_friends](https://developers.facebook.com/docs/graph-api/reference/user/taggable_friends)来获取能够标记的朋友

有关更多详细信息，请访问此链接并阅读标签部分（提及标签适合您的要求）提及标签 [详细信息](https://developers.facebook.com/docs/opengraph/submission-process#actioncapabilities-mentiontagging)

# select - 以编程方式从某处使用 dijit/form/select 进入内容窗格

> ID：13985467
> 
> 赞同：0
> 
> 时间：2012-12-21T06:43:22.537
> 
> 标签：select, dojo

嗨，当将选择表单插入名为“center 1”的内容窗格时，我不确定代码哪里出错了。All the codes are working when codes for select are masked with comment until I removed the comment. 这没用。

[见我的 jsfiddle](http://jsfiddle.net/clementyap/AxVcq/24/)

并查看我的选择代码：-

```
var select_Card = new Select
                (
                    {   
                        options:[
                                    {label:"Mk7ABC Card", value:"testdata1970_05", selected:false},
                                    {label:"Mk7CBC Card", value:"testdata1970_10", selected:true},
                                    {label:"Mk10DC Card", value:"testdata2060_03", selected:false},
                                    {label:"Mk6BC Card", value:"dbProdigy", selected:false},
                                    {label:"Mk6NBC Card", value:"dbProdigy_MK6N", selected:false},
                                ],
                        style:{width:'250px'}
                    }, "id4"); 
                select_Card.startup(); 
```

请指教。谢谢克莱门特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T16:01:19.383

在您的小提琴中，“目标”是 ContentPane dijit 的 id。所以当你写这个时：

```
var select2 = new Select
    ({name: "select2",
      .....     
 }, "target"); 
```

您正在告诉 Select 将 ContentPane 变成 Select（从技术上讲，您告诉它劫持 ContentPane 的 div，其 id 为“target”）。

如果您只是想将 Select 放入 ContentPane，您可以执行以下操作：

```
var select2 = new Select
    ({name: "select2",
      .....     
 }).placeAt(registry.byId("target").containerNode); 
```

你的小提琴还有其他几个问题：

**¤**依赖项在 require() 的数组和回调中的顺序必须相同：

```
require(["foo/Widget1", "foo/Widget2", "bar/Widget3"],
    function(Widget1, Widget2, Widget3) {.... 
```

不是

```
require(["foo/Widget1", "bar/Widget3", "foo/Widget2"],
    function(Widget1, Widget2, Widget3) {.... 
```

（请注意，Javascript 也区分大小写，因此如果您在代码中编写“选择”，则您的要求参数中不能有“选择”）。

**¤**请记住为您的小部件包含必要的 CSS：

```
<style type="text/css">
@import url("someUrl/dojotoolkit/dijit/themes/claro/claro.css");
@import url("someUrl/dojotoolkit/dojo/resources/dojo.css");
.... 
```

这是一个更新的示例：http: [//jsfiddle.net/AxVcq/30/](http://jsfiddle.net/AxVcq/30/)

# mysql - MySQL - 如何使用 concat 和 group_concat 将行值显示为列名

> ID：13985470
> 
> 赞同：2
> 
> 时间：2012-12-21T06:43:26.673
> 
> 标签：mysql, select, pivot-table, group-concat

**表格1：**

```
id   | typeid | available|
0    | 1      | 12       |
0    | 2      | 44       | 
```

**表 2：**

```
typeid   | typename   |
1        | CL          |
2        | ML          | 
```

我有一个使用`concat`and的查询`group_concat`：

```
select id,concat(group_concat(typename,available)) as types from table1
join table2 on table2.typeid=table1.typeid 
```

我得到的结果是：

```
id | types   | 
0  | CL12,ML44 | 
```

但我想像这样显示它：

```
id   | CL   | ML    |
0    | 12   | 44    | 
```

有没有办法将`group_concat`结果拆分为**列头**？

我想从 table2 动态获取数据。一些用户可以将数据添加到 table2。所以硬编码类型名是不可能的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T07:00:08.060

您应该使用表格旋转。MySQL 中没有 PIVOT 命令，因此您可以使用此查询 -

```
SELECT
  t1.id,
  MAX(IF(t2.typename = 'CL', t1.available, NULL)) AS CL,
  MAX(IF(t2.typename = 'ML', t1.available, NULL)) AS ML
FROM table1 t1
  JOIN table2 t2
    ON t1.typeid = t2.typeid
GROUP BY
  t1.id; 
```

[MySQL 数据透视表（将行转换为列）](http://buysql.com/mysql/12-how-to-pivot-tables.html)。

`available`如果可能有多个值，请使用 GROUP_CONCAT 函数而不是 MAX 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:01:15.107

尝试这个：

```
SELECT a.id, MAX(IF(b.typename = 'CL', a.available, 0)) CL, 
       MAX(IF(b.typename = 'ML', a.available, 0)) ML
FROM table1 a
INNER JOIN table2 b ON a.typeid=b.typeid
GROUP BY a.id; 
```

如果要对特定类型的可用列中的数据求和，请使用**SUM函数，否则使用与 ii 相同的查询。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T07:02:09.427

只有事先知道所有的类型名称才能做到这一点——否则，你需要找到另一种方法。在支持从存储过程返回结果集的数据库中，可以使用存储过程来完成。但是mysql不支持。

如果您知道所有类型名，那么您可以按照以下方式构建查询：

```
SELECT
    id,
    SUM(IF(typename = 'CL', available, 0)) AS `CL`,
    SUM(IF(typename = 'ML', available, 0)) AS `ML`
FROM table1 join table2 on table1.typeid = table2.typeid
GROUP BY id 
```

# javascript - 使用 json 将用户名和密码发送到 Web 服务

> ID：13985471
> 
> 赞同：0
> 
> 时间：2012-12-21T06:43:32.307
> 
> 标签：javascript, json, html

嗨，我想在 html 5 中创建一个登录页面，但为了登录，我需要将用户名和密码发送到 Web 服务，该 Web 服务已经创建，如果 flase 和任何其他数字，它将返回值 0如果真实。我只能使用javascript和json。任何人都可以帮助我理解 json，因为我对此几乎一无所知。我将如何使用 json 和 javascript 发送用户名和密码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:46:46.560

```
var form;

form.onsubmit = function (e) {
  // stop the regular form submission
  e.preventDefault();

  // collect the form data while iterating over the inputs
  var data = {};
  for (var i = 0, ii = form.length; i < ii; ++i) {
    var input = form[i];
    if (input.name) {
      data[input.name] = input.value;
    }
  }

  // construct an HTTP request
  var xhr = new XMLHttpRequest();
  xhr.open(form.method, form.action, true);
  xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');

  // send the collected data as JSON
  xhr.send(JSON.stringify(data));

  xhr.onloadend = function () {
    // done
  };
}; 
```

# java - Hibernate 关联映射

> ID：13985475
> 
> 赞同：0
> 
> 时间：2012-12-21T06:43:39.637
> 
> 标签：java, hibernate

我正在使用休眠。

关系详情：

*   一个用户属于许多社区
*   一个 FACULTY 可以处理一个 COMMUNITY
*   教师是用户

所以这里的 FACULTY 是一个弱实体，我需要创建没有任何主键属性的 Faculty.java，例如：

```
private Integer facultyId; 
```

并且只有字段

```
User user; Community community; 
```

有没有更好的方法来处理而不是创建在这里多余的facultyId？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T11:30:20.537

你的关系细节让我很困惑：

实际思考，**如果一个用户属于很多社区，那么一个社区肯定会有很多用户。你不这么认为吗？？**你得重新考虑这个。。

仍然...考虑到您定义的关系只要教师除了社区之外没有分配其他属性。我建议您不要为教师创建单独的表（我认为这不是必需的），您可以在其中添加额外的列COMMUNITY TABLE 为 COMMUNITY_ROLE 并将角色定义为 FACULTY 以供所需用户使用。优点：由于 USER-COMMUNITY 是一对多的关系，我们将在 COMMUNITY 中有用户，而 COMMUNITY_ROLE 将定义 FACULTY 或 NULL。

仍然我强烈认为用户社区将是多对多的，这将推翻我上面的解决方案，该解决方案基于您在上面提供的关系细节，我认为这是错误的。

# eclipse - GEF - 如何在 ViewPart 应用程序上打开 GEF 应用程序

> ID：13985483
> 
> 赞同：0
> 
> 时间：2012-12-21T06:44:21.630
> 
> 标签：eclipse, eclipse-rcp, eclipse-gef

我是 GEF 开发的新手。我使用 Draw2D api 创建了一个 GEF 应用程序。应用程序包含两个树查看器。我需要绘制连接来连接这些树的孩子。我还想控制这些连接，以便能够删除它们。我需要绘制 1-1 和 N-1 种连接。我需要将此应用程序嵌入到我已经拥有的 RCP 应用程序中，并希望在我的特定透视图中将其显示为视图。

此外，我有自己的数据模型。我想知道要将我的模型转换为 GEF 可理解的模型格式，我需要对我的模型进行哪些更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T04:59:37.523

您实际上想要做的是创建一个 Eclipse 建模项目。它的工作方式是创建您自己的 EMF 模型。您的所有树节点及其属性都在 EMF 中“建模”。

然后，您可以使用称为 GMF（图形建模框架）的东西将此模型转换为 GEF/Draw2d 图。

**电磁场：**

> EMF 项目是一个建模框架和代码生成工具，用于基于结构化数据模型构建工具和其他应用程序。根据 XMI 中描述的模型规范，EMF 提供工具和运行时支持来为模型生成一组 Java 类，以及一组能够查看和基于命令编辑模型的适配器类，以及一个基本编辑器。

[http://www.eclipse.org/modeling/emf/](http://www.eclipse.org/modeling/emf/)

**转基因食品：**

> GMF Tooling 项目提供了一种模型驱动的方法来在 Eclipse 中生成图形编辑器。

[http://www.eclipse.org/modeling/gmp/?project=gmf-tooling](http://www.eclipse.org/modeling/gmp/?project=gmf-tooling)

**教程：** 我建议查看以下教程以了解整个过程。

[http://www.ibm.com/developerworks/opensource/library/os-ecl-gmf/](http://www.ibm.com/developerworks/opensource/library/os-ecl-gmf/)

# c# - 颜色点击器不准确

> ID：13985486
> 
> 赞同：0
> 
> 时间：2012-12-21T06:44:43.380
> 
> 标签：c#, winforms, colors, bitmap

我正在尝试编写一个程序来单击它找到的具有某种颜色的第一个像素。不幸的是，有时我的程序似乎无法检测到屏幕上实际上存在颜色。我正在截取屏幕截图，然后使用 GetPixel() 方法查找每个像素的颜色。

这是我使用的方法：

```
private static Point FindFirstColor(Color color)
{
    int searchValue = color.ToArgb();
    Point location = Point.Empty;

    using (Bitmap bmp = GetScreenShot())
    {
        for (int x = 0; x < bmp.Width; x++)
        {
            for (int y = 0; y < bmp.Height; y++)
            {
                if (searchValue.Equals(bmp.GetPixel(x, y).ToArgb()))
                {
                    location = new Point(x, y);
                }
            }
        }
    }
    return location;
} 
```

为了截取我的屏幕截图，我使用：

```
private static Bitmap GetScreenShot()
    {
        Bitmap result = new Bitmap(Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height, PixelFormat.Format32bppArgb);
        {
            using (Graphics gfx = Graphics.FromImage(result))
            {
                gfx.CopyFromScreen(Screen.PrimaryScreen.Bounds.X, Screen.PrimaryScreen.Bounds.Y, 0, 0, Screen.PrimaryScreen.Bounds.Size, CopyPixelOperation.SourceCopy);
            }
        }
        return result;
    } 
```

即使我使用我知道在屏幕上的颜色，它仍然返回 Point.Empty。这是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:44:49.033

只需复制您的方法并用作查找的颜色`Color.Black`，它就可以正常工作。

目前您的代码中唯一可能不正确的是您在找到第一个匹配点后不会立即返回。相反，您只需继续迭代所有点，从而导致您将返回最后一次出现的匹配颜色。

为避免这种情况，您可以将代码更改为：

```
private static Point FindFirstColor(Color color)
{
    int searchValue = color.ToArgb();

    using (Bitmap bmp = GetScreenShot())
    {
        for (int x = 0; x < bmp.Width; x++)
        {
            for (int y = 0; y < bmp.Height; y++)
            {
                if (searchValue.Equals(bmp.GetPixel(x, y).ToArgb()))
                {
                    return new Point(x, y);
                }
            }
        }
    }

    return Point.Empty;
} 
```

# android - 使用 Google API V2 时应用程序不断崩溃

> ID：13985492
> 
> 赞同：4
> 
> 时间：2012-12-21T06:45:15.533
> 
> 标签：android, google-maps-api-2

我正在尝试使用 Google API V2 在我的 Android 应用程序中使用 Google Map；我在我的 HTC 渴望手机上尝试了该应用程序，但它一直在崩溃。我尝试将项目构建目标更改为 Android 2.2 和 Android 4.2，但仍然没有运气。我还将 android-support-v4.jar 添加到我的项目中。我试图按照这些[链接](https://plus.google.com/u/0/photos/+AndroidDevelopers/albums/5821305124036126721?authkey=CPT52s3t7YSpowE%22%20and%20this%20link%3a%20%22https://developers.google.com/maps/documentation/android/start#adding_the_api_key_to_your_application)

这是我的代码：

**googleMaps.manifest**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.luiz.googleMaps"
    android:versionCode="1"
    android:versionName="1.0" >

    <permission
        android:name="com.luiz.googleMaps.permission.MAPS_RECEIVE"
        android:protectionLevel="signature" />

    <uses-permission android:name="com.luiz.googleMaps.permission.MAPS_RECEIVE" />

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="8" />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />
    <!-- External storage for caching. -->
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <!-- My Location -->
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <!-- Maps API needs OpenGL ES 2.0\. -->
    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <meta-data
            android:name="com.google.android.maps.v2.API_KEY"
            android:value="I have used my keys;com.luiz.googleMaps" />

        <activity
            android:name="com.luiz.googleMaps.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

* * *

**activity_main.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<fragment xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/map"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  class="com.google.android.gms.maps.SuppportMapFragment"/> 
```

* * *

**主要活动**

```
package com.luiz.googleMaps;

import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.SupportMapFragment;

import android.os.Bundle;

public class MainActivity extends android.support.v4.app.FragmentActivity {

    private GoogleMap map;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        map = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map)).getMap();
    }
} 
```

* * *

**LogCat 错误：**

```
12-21 06:08:30.734: D/dalvikvm(7102): GC_EXTERNAL_ALLOC freed 54K, 50% free 2692K/5379K, external 0K/0K, paused 93ms
12-21 06:08:30.754: E/ActivityThread(7102): Failed to inflate
12-21 06:08:30.754: E/ActivityThread(7102): android.view.InflateException: Binary XML file line #2: Error inflating class fragment
12-21 06:08:30.754: E/ActivityThread(7102):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:587)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.view.LayoutInflater.inflate(LayoutInflater.java:386)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
12-21 06:08:30.754: E/ActivityThread(7102):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:213)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.app.Activity.setContentView(Activity.java:1657)
12-21 06:08:30.754: E/ActivityThread(7102):     at com.luiz.googleMaps.MainActivity.onCreate(MainActivity.java:31)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1722)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1784)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.app.ActivityThread.access$1500(ActivityThread.java:123)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:939)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.os.Handler.dispatchMessage(Handler.java:99)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.os.Looper.loop(Looper.java:130)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.app.ActivityThread.main(ActivityThread.java:3835)
12-21 06:08:30.754: E/ActivityThread(7102):     at java.lang.reflect.Method.invokeNative(Native Method)
12-21 06:08:30.754: E/ActivityThread(7102):     at java.lang.reflect.Method.invoke(Method.java:507)
12-21 06:08:30.754: E/ActivityThread(7102):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:864)
12-21 06:08:30.754: E/ActivityThread(7102):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:622)
12-21 06:08:30.754: E/ActivityThread(7102):     at dalvik.system.NativeStart.main(Native Method)
12-21 06:08:30.754: E/ActivityThread(7102): Caused by: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.google.android.gms.maps.SuppportMapFragment: make sure class name exists, is public, and has an empty constructor that is public
12-21 06:08:30.754: E/ActivityThread(7102):     at android.support.v4.app.Fragment.instantiate(Fragment.java:401)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.support.v4.app.Fragment.instantiate(Fragment.java:369)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:272)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:563)
12-21 06:08:30.754: E/ActivityThread(7102):     ... 19 more
12-21 06:08:30.754: E/ActivityThread(7102): Caused by: java.lang.ClassNotFoundException: com.google.android.gms.maps.SuppportMapFragment in loader dalvik.system.PathClassLoader[/data/app/com.luiz.googleMaps-2.apk]
12-21 06:08:30.754: E/ActivityThread(7102):     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
12-21 06:08:30.754: E/ActivityThread(7102):     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
12-21 06:08:30.754: E/ActivityThread(7102):     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
12-21 06:08:30.754: E/ActivityThread(7102):     at android.support.v4.app.Fragment.instantiate(Fragment.java:391)
12-21 06:08:30.754: E/ActivityThread(7102):     ... 22 more
12-21 06:08:30.764: D/AndroidRuntime(7102): Shutting down VM
12-21 06:08:30.764: W/dalvikvm(7102): threadid=1: thread exiting with uncaught exception (group=0x40128560)
12-21 06:08:30.764: E/AndroidRuntime(7102): FATAL EXCEPTION: main
12-21 06:08:30.764: E/AndroidRuntime(7102): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.luiz.googleMaps/com.luiz.googleMaps.MainActivity}: android.view.InflateException: Binary XML file line #2: Error inflating class fragment
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1768)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1784)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.app.ActivityThread.access$1500(ActivityThread.java:123)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:939)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.os.Handler.dispatchMessage(Handler.java:99)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.os.Looper.loop(Looper.java:130)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.app.ActivityThread.main(ActivityThread.java:3835)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at java.lang.reflect.Method.invokeNative(Native Method)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at java.lang.reflect.Method.invoke(Method.java:507)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:864)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:622)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at dalvik.system.NativeStart.main(Native Method)
12-21 06:08:30.764: E/AndroidRuntime(7102): Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class fragment
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:587)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.view.LayoutInflater.inflate(LayoutInflater.java:386)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:213)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.app.Activity.setContentView(Activity.java:1657)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at com.luiz.googleMaps.MainActivity.onCreate(MainActivity.java:31)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1722)
12-21 06:08:30.764: E/AndroidRuntime(7102):     ... 11 more
12-21 06:08:30.764: E/AndroidRuntime(7102): Caused by: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.google.android.gms.maps.SuppportMapFragment: make sure class name exists, is public, and has an empty constructor that is public
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.support.v4.app.Fragment.instantiate(Fragment.java:401)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.support.v4.app.Fragment.instantiate(Fragment.java:369)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:272)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:563)
12-21 06:08:30.764: E/AndroidRuntime(7102):     ... 19 more
12-21 06:08:30.764: E/AndroidRuntime(7102): Caused by: java.lang.ClassNotFoundException: com.google.android.gms.maps.SuppportMapFragment in loader dalvik.system.PathClassLoader[/data/app/com.luiz.googleMaps-2.apk]
12-21 06:08:30.764: E/AndroidRuntime(7102):     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
12-21 06:08:30.764: E/AndroidRuntime(7102):     at android.support.v4.app.Fragment.instantiate(Fragment.java:391)
12-21 06:08:30.764: E/AndroidRuntime(7102):     ... 22 more
12-21 06:08:36.299: I/Process(7102): Sending signal. PID: 7102 SIG: 9
12-21 06:18:46.745: D/dalvikvm(7174): GC_EXTERNAL_ALLOC freed 55K, 50% free 2691K/5379K, external 0K/0K, paused 45ms
12-21 06:18:46.765: E/ActivityThread(7174): Failed to inflate
12-21 06:18:46.765: E/ActivityThread(7174): android.view.InflateException: Binary XML file line #2: Error inflating class fragment
12-21 06:18:46.765: E/ActivityThread(7174):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:587)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.view.LayoutInflater.inflate(LayoutInflater.java:386)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
12-21 06:18:46.765: E/ActivityThread(7174):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:213)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.app.Activity.setContentView(Activity.java:1657)
12-21 06:18:46.765: E/ActivityThread(7174):     at com.luiz.googleMaps.MainActivity.onCreate(MainActivity.java:15)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1722)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1784)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.app.ActivityThread.access$1500(ActivityThread.java:123)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:939)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.os.Handler.dispatchMessage(Handler.java:99)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.os.Looper.loop(Looper.java:130)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.app.ActivityThread.main(ActivityThread.java:3835)
12-21 06:18:46.765: E/ActivityThread(7174):     at java.lang.reflect.Method.invokeNative(Native Method)
12-21 06:18:46.765: E/ActivityThread(7174):     at java.lang.reflect.Method.invoke(Method.java:507)
12-21 06:18:46.765: E/ActivityThread(7174):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:864)
12-21 06:18:46.765: E/ActivityThread(7174):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:622)
12-21 06:18:46.765: E/ActivityThread(7174):     at dalvik.system.NativeStart.main(Native Method)
12-21 06:18:46.765: E/ActivityThread(7174): Caused by: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.google.android.gms.maps.SuppportMapFragment: make sure class name exists, is public, and has an empty constructor that is public
12-21 06:18:46.765: E/ActivityThread(7174):     at android.support.v4.app.Fragment.instantiate(Fragment.java:401)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.support.v4.app.Fragment.instantiate(Fragment.java:369)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:272)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:563)
12-21 06:18:46.765: E/ActivityThread(7174):     ... 19 more
12-21 06:18:46.765: E/ActivityThread(7174): Caused by: java.lang.ClassNotFoundException: com.google.android.gms.maps.SuppportMapFragment in loader dalvik.system.PathClassLoader[/data/app/com.luiz.googleMaps-1.apk]
12-21 06:18:46.765: E/ActivityThread(7174):     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
12-21 06:18:46.765: E/ActivityThread(7174):     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
12-21 06:18:46.765: E/ActivityThread(7174):     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
12-21 06:18:46.765: E/ActivityThread(7174):     at android.support.v4.app.Fragment.instantiate(Fragment.java:391)
12-21 06:18:46.765: E/ActivityThread(7174):     ... 22 more
12-21 06:18:46.775: D/AndroidRuntime(7174): Shutting down VM
12-21 06:18:46.775: W/dalvikvm(7174): threadid=1: thread exiting with uncaught exception (group=0x40128560)
12-21 06:18:46.775: E/AndroidRuntime(7174): FATAL EXCEPTION: main
12-21 06:18:46.775: E/AndroidRuntime(7174): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.luiz.googleMaps/com.luiz.googleMaps.MainActivity}: android.view.InflateException: Binary XML file line #2: Error inflating class fragment
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1768)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1784)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.app.ActivityThread.access$1500(ActivityThread.java:123)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:939)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.os.Handler.dispatchMessage(Handler.java:99)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.os.Looper.loop(Looper.java:130)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.app.ActivityThread.main(ActivityThread.java:3835)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at java.lang.reflect.Method.invokeNative(Native Method)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at java.lang.reflect.Method.invoke(Method.java:507)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:864)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:622)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at dalvik.system.NativeStart.main(Native Method)
12-21 06:18:46.775: E/AndroidRuntime(7174): Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class fragment
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:587)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.view.LayoutInflater.inflate(LayoutInflater.java:386)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:213)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.app.Activity.setContentView(Activity.java:1657)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at com.luiz.googleMaps.MainActivity.onCreate(MainActivity.java:15)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1722)
12-21 06:18:46.775: E/AndroidRuntime(7174):     ... 11 more
12-21 06:18:46.775: E/AndroidRuntime(7174): Caused by: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.google.android.gms.maps.SuppportMapFragment: make sure class name exists, is public, and has an empty constructor that is public
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.support.v4.app.Fragment.instantiate(Fragment.java:401)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.support.v4.app.Fragment.instantiate(Fragment.java:369)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:272)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:563)
12-21 06:18:46.775: E/AndroidRuntime(7174):     ... 19 more
12-21 06:18:46.775: E/AndroidRuntime(7174): Caused by: java.lang.ClassNotFoundException: com.google.android.gms.maps.SuppportMapFragment in loader dalvik.system.PathClassLoader[/data/app/com.luiz.googleMaps-1.apk]
12-21 06:18:46.775: E/AndroidRuntime(7174):     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
12-21 06:18:46.775: E/AndroidRuntime(7174):     at android.support.v4.app.Fragment.instantiate(Fragment.java:391)
12-21 06:18:46.775: E/AndroidRuntime(7174):     ... 22 more
12-21 06:23:46.827: I/Process(7174): Sending signal. PID: 7174 SIG: 9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-24T09:17:32.887

您是否在应用程序中包含`android-support-v4.jar`& ？`google-play-services.jar`如果是，则只需删除活动标签的完全限定名称，如下所示：

```
`<activity
        android:name=".MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>` 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:58:02.783

您是否尝试过使用 MapFragment 而不是 SupportMapFragment。

我的主要活动看起来像这样

```
public class MapActivity extends Activity {

private GoogleMap mMap;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.mapactivity);
    this.getActionBar().setTitle("Map");

    getActionBar().setDisplayHomeAsUpEnabled(true);

    mMap = ((MapFragment) getFragmentManager().findFragmentById(R.id.map)).getMap();

} 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-07T12:39:49.663

我认为您应该先检查 Google Play 服务是否可用。

```
int status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(getApplicationContext());
if(status == ConnectionResult.SUCCESS) {
            // what you want to do
} 
```

# php - 从 mysql 中格式化的数据计算总和

> ID：13985499
> 
> 赞同：2
> 
> 时间：2012-12-21T06:45:33.353
> 
> 标签：php, mysql, sum

```
$query_stoday = "SELECT sum(amount), sum(amtnaira) 
                 FROM transactions
                 WHERE transtype = 'buy' 
                       AND batch !='' 
                       AND date2 ='$date2'"; 
```

我使用上面的代码来计算当天的总金额，但我注意到它只计算**逗号**之前的数字。例如，在**2,780.00**中，它仅添加**2 并忽略逗号后的数字**。请问我如何进行查询以计算所有内容？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:52:51.790

使用这个查询

```
SELECT sum(REPLACE((amount), ',', '')), 
sum(REPLACE((amtnaira), ',', '')) 
FROM transactions WHERE transtype = 'buy' AND batch !='' AND date2 ='$date2' 
```

这就是你需要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:48:44.070

你应该使用***PHP*** [number_format](http://php.net/manual/fr/function.number-format.php)函数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-15T07:39:15.687

您可以通过这种方式构建查询

```
 SELECT REPLACE((amount), ',', '') as amount, 
    REPLACE((amtnaira), ',', '') as amtnaira 
    FROM transactions WHERE transtype = 'buy' AND batch !='' AND date2 ='$date2'

    //Then format the 'amount' and 'amtnaira' values like this

    $sum_amount += number_format($row['amount'],2);
    $sum_amtnaira += number_format($row['amtnaira'],2); 
```

这应该有效。

# memory - 图片框控件和内存

> ID：13985500
> 
> 赞同：0
> 
> 时间：2012-12-21T06:45:35.540
> 
> 标签：memory, vb.net-2010, picturebox

我计划使用许多图片框作为控件而不是按钮，主要是因为控件需要看起来像图标而不是按钮。与按钮相比，图片框会过多地消耗内存吗？有没有办法让按钮显示为图标而不是图片框，即可以使按钮看起来像 .png 小图标图像文件而不是没有边框的按钮？

最后，用户可以通过一个 tabcontrol 使用几个选项卡，每个选项卡可能有 10-15 个可以单击的图片框。如果在选项卡中使用许多图片框作为按钮栏的替代品（VB.NET 2010 不再支持），是否有 addhandler 的快捷方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T18:10:50.057

按钮控件已经支持图片！很可能也是（更重要的是！）按钮是轻量级的，并且会比图片框消耗更少的内存

使用属性表分配图像您也可以为按钮向上和向下状态分配不同的图像！！

![在此处输入图像描述](../Images/19f7a1caa34183b26ac240108c6283d4.png)

# python - 谷歌云存储（Python）：如何检查文件上次修改时间？

> ID：13985503
> 
> 赞同：4
> 
> 时间：2012-12-21T06:45:42.803
> 
> 标签：python, google-app-engine, google-cloud-storage

我们有一项工作来检查云存储上的文件是否已被修改。如果是这样，那么它从文件中读取数据并进一步处理它。

我想知道是否有 API 可以检查云存储上的文件上次修改的时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2020-08-28T11:30:16.930

您现在可以使用[Google Storage 的官方 Python 库来](https://cloud.google.com/storage/docs/viewing-editing-metadata#storage-view-object-metadata-python)执行此操作。

```
from google.cloud import storage

def blob_metadata(bucket_name, blob_name):
    """Prints out a blob's metadata."""
    # bucket_name = 'your-bucket-name'
    # blob_name = 'your-object-name'

    storage_client = storage.Client()
    bucket = storage_client.bucket(bucket_name)
    blob = bucket.get_blob(blob_name)

    print("Blob: {}".format(blob.name))
    print("Bucket: {}".format(blob.bucket.name))
    print("Storage class: {}".format(blob.storage_class))
    print("ID: {}".format(blob.id))
    print("Size: {} bytes".format(blob.size))
    print("Updated: {}".format(blob.updated))
    print("Generation: {}".format(blob.generation))
    print("Metageneration: {}".format(blob.metageneration))
    print("Etag: {}".format(blob.etag))
    print("Owner: {}".format(blob.owner))
    print("Component count: {}".format(blob.component_count))
    print("Crc32c: {}".format(blob.crc32c))
    print("md5_hash: {}".format(blob.md5_hash))
    print("Cache-control: {}".format(blob.cache_control))
    print("Content-type: {}".format(blob.content_type))
    print("Content-disposition: {}".format(blob.content_disposition))
    print("Content-encoding: {}".format(blob.content_encoding))
    print("Content-language: {}".format(blob.content_language))
    print("Metadata: {}".format(blob.metadata))
    print("Temporary hold: ", "enabled" if blob.temporary_hold else "disabled")
    print(
        "Event based hold: ",
        "enabled" if blob.event_based_hold else "disabled",
    )
    if blob.retention_expiration_time:
        print(
            "retentionExpirationTime: {}".format(
                blob.retention_expiration_time
            )
        ) 
```

在您的情况下，您将不得不查看`blob.updated`财产

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T17:39:36.403

你可以用[boto](https://github.com/boto/boto)做到这一点：

```
>>> import boto
>>> conn = boto.connect_gs()
>>> bucket = conn.get_bucket('yourbucket')
>>> k = bucket.get_key('yourkey')
>>> k.last_modified
'Tue, 04 Dec 2012 17:44:57 GMT' 
```

云存储还有一个[App Engine Python 接口](https://developers.google.com/appengine/docs/python/googlestorage/functions)，但我认为它不会公开您想要的元数据。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T08:54:59.823

Cloud Storage 有一个 API，您可以使用它来获取对象的创建时间

请参阅[https://developers.google.com/storage/docs/json_api/v1/objects](https://developers.google.com/storage/docs/json_api/v1/objects)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-06-21T18:22:42.577

App 引擎[云存储客户端库](https://developers.google.com/appengine/docs/python/googlecloudstorageclient/functions#stat)将向您公开此信息。该库还具有开发应用服务器支持。入门有一个[例子](https://developers.google.com/appengine/docs/python/googlecloudstorageclient/getstarted)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-30T11:52:46.933

我正在使用上面@orby 提到的解决方案`blob.updated`来获取最新文件。但是存储桶中有超过 450 多个文件，这个脚本大约需要 6-7 分钟来浏览所有文件并提供最新的最新文件。我想这`blob.updated`部分需要一些时间来处理。有没有更快的方法来做到这一点？

```
 files = bucket.list_blobs()    
    fileList = [file.name for file in files if '.dat' in file.name]

    latestFile = fileList[0]
    latestTimeStamp = bucket.get_blob(fileList[0]).updated

    for i in range(len(fileList)):

        timeStamp = bucket.get_blob(fileList[i]).updated

        if timeStamp > latestTimeStamp:
            latestFile = fileList[i]
            latestTimeStamp = timeStamp

    print(latestFile) 
```

# android - 打开键盘时避免隐藏小应用程序

> ID：13985508
> 
> 赞同：0
> 
> 时间：2012-12-21T06:46:08.583
> 
> 标签：android, sdk, tablet, sony

我刚刚开始使用 Sony Tablet SDK 的 SmallApps API。我需要始终在顶部显示我的小应用程序，但是当用户打开屏幕键盘时，小应用程序正在隐藏。有可能解决这个问题吗？

# php - 简单的正则表达式替换，不管中间文本 php

> ID：13985515
> 
> 赞同：0
> 
> 时间：2012-12-21T06:46:39.700
> 
> 标签：php, regex, replace, preg-replace

说我有这个

```
searchpage-20/11111111111?node=15 
```

我将如何设置一个正则表达式来替换整个字符串而不用担心

```
11111111111 
```

只要其余匹配，就在中间。

我试过

```
searchallmp3-20/(.+?)\?node= 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:51:15.413

怎么样

```
<?php
$search = 'searchpage-20/11111111111?node=15';
$reg = '#(searchpage-\d+/)\d+(\?node=\d+)#';
echo preg_replace($reg, '${1}blah${2}', $search); 
```

**输出**

```
searchpage-20/blah?node=15 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:56:00.307

你应该可以使用这个：

```
/searchpage-(\d+)\/(\d+)\?node=(\d+)/ 
```

示例用法：

```
preg_replace('/searchpage-(\d+)\/(\d+)\?node=(\d+)/', '', 'searchpage-20/11111111111?node=15'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T06:57:27.917

你应该发布代码，看看你是如何调用正则表达式的，你还需要描述什么不起作用。

我假设您收到了一些错误消息，因为您在使用`/`正则表达式时没有对其进行转义，并且您的分隔符也是`/`

两种可能：

1.  逃脱`/`

    ```
    /searchallmp3-20\/(.+?)\?node=/ 
    ```

2.  使用另一个分隔符

    ```
    ~searchallmp3-20/(.+?)\?node=~ 
    ```

请参阅[php.net 上的分隔符](http://php.net/manual/en/regexp.reference.delimiters.php)

我仍然没有得到你问题的替换部分。如果要删除 之前的数字`?`，则应捕获字符串的**其他**部分

```
 ~(searchallmp3-20/).+?(\?node=~) 
```

并替换为

```
`$1$2` 
```

这将导致

```
searchpage-20/?node=15 
```

这是你想要的吗？

# javascript - 有没有办法改变特定文本的颜色

> ID：13985521
> 
> 赞同：0
> 
> 时间：2012-12-21T06:46:50.537
> 
> 标签：javascript, html, css

我在一个网站上，我想用 更改我的用户名颜色`javascript`。我能够更改背景，`getElementById`但我似乎无法在不更改整个页面文本颜色的情况下更改特定文本的颜色。有没有办法用来`getElementById`更改页面上的特定文本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:49:50.103

你可以这样做：

```
document.getElementById("id").style.color = "red"; 
```

**演示**：**[JSFiddle](http://jsfiddle.net/B4qZc/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:50:51.763

好吧，您可以简单地将每个用户名包含在`<div>`带有该用户 ID 的 ID 的标签中。并以这种方式引用它`document.getElementById(). style.color`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:51:35.017

**[看这个演示](http://jsbin.com/eketag/1/edit)**

```
<div> This div <span id="sp1">elements</span> have <span id="sp2">different</span> colours    </div>

document.getElementById('sp1').style.color = 'green';
document.getElementById('sp2').style.color = 'red'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T06:53:43.183

getElementById 只获取包含特定 ID 的整个 HTML 元素。因此，如果您希望在该元素内的特定文本束上设置样式，您可以使用`inline elements`特定文本。例如：

```
<div id="text">
  Some text with <span>your name</span> here.
</div> 
```

只需使用 CSS 而不是 JavaScript 来设置样式：

```
div#text span {
   color: blue;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-21T06:57:15.467

这只有在文本被节点包裹时才有可能。使用 span 标签包含期望的文本。包括一个像这样的跨度类`<span class="username">user name here</span>`。然后在您的 CSS 样式表中使用：

> `span.username{`
> 
> > `color : your.desired.color ;`
> 
> `}`

如果您正在制作网站，我建议您学习 CSS。是最好的！如果你不想使用 CSS，你可以写`<span style="color:red">user name here</span>`. 它将以红色显示用户名。

# c# - 使用 DataContractSerializer 反序列化具有多个集合的 Xml

> ID：13985523
> 
> 赞同：1
> 
> 时间：2012-12-21T06:46:56.783
> 
> 标签：c#, datacontractserializer

我正在使用 DataContractSerializer 反序列化具有多个集合的 Xml。xml 如下所示

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<collectionContents>
    <collection>
        <name>Folder1</name>
        <id>33399446</id>
        <contents>TestFolder1</contents>
    </collection>
    <collection>
      <name>Folder2</name>
      <id>566494</id>
      <contents>TestFolder2</contents>
    </collection>
    <file>
        <name>2012-08-24_171456.jpg</name>
        <id>33399624</id>
        <size>47612</size>
        <lastModified>2012-12-18T18:54:50.000-08:00</lastModified>
    </file>
    <file>
        <name>1033.ico</name>
        <id>33412726</id>
        <size>23246</size>
        <lastModified>2012-12-18T20:37:15.000-08:00</lastModified>
    </file>
</collectionContents> 
```

我创建了 DataContractSerializer 来反序列化 xml。

```
[DataContract(Namespace = "")]
class Item
{
    [DataMember(Name = "name")]
    public string name;
    [DataMember(Name = "id")]
    public string id;
}

[DataContract(Name = "collection", Namespace = "")]
class Folder : Item
{
    [DataMember(Name = "contents")]
    public string contents;
}

[DataContract(Name = "file", Namespace = "")]
class File : Item
{
    [DataMember(Name = "size")]
    public long size;
    [DataMember(Name = "lastModified", Order = 3)]
    public string lastModified;
}

[CollectionDataContract(Name = "collectionContents", Namespace = "")]
class Folders : List<Folder>
{}

[CollectionDataContract(Name = "collectionContents", Namespace = "")]
class Files : List<File>
{} 
```

我可以使用两个 DataContractSerializer 来获取两个集合文件和文件。

```
DataContractSerializer folderSer = new DataContractSerializer(typeof(Folderes));
DataContractSerializer fileSer = new DataContractSerializer(typeof(Files)); 
```

但它需要反序列化两次，有谁知道有没有办法只使用一个 DataContractSerializer 来获得两个集合？

我在下面累了，但它返回的文件夹/文件数为 0。

```
[DataContract(Name = "collectionContents", Namespace = "")]
class ItemCollectionList
{
    [DataMember(Name = "collection")]
    public Folders folders;     // Return count is 0;
    [DataMember(Name = "file")]
    public Files files;         // Return count is 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T11:58:54.903

你能用and元素将你的and元素*包装*在你的 XML 中吗？（以便它更好地匹配您的类型）`collection``file``folders``files``ItemCollectionList`

# sharepoint - 团队网站和社区网站以及项目网站 sharepoint 2013 之间的区别？

> ID：13985527
> 
> 赞同：1
> 
> 时间：2012-12-21T06:48:04.080
> 
> 标签：sharepoint

您是否有团队网站和社区网站以及项目网站 sharepoint 2013 之间的详细区别？

比较表格将帮助我们确定允许使用的模板。

快速回复..

# c# - 当我在 .net 框架中将源代码编译为 exe 文件时会发生什么

> ID：13985530
> 
> 赞同：4
> 
> 时间：2012-12-21T06:48:14.487
> 
> 标签：c#, .net, vb.net, compilation, exe

当我将 .NET 源代码（c# 或 vb）编译为 .exe 文件时会发生什么？我希望了解在制作 exe 文件期间发生的过程，并查看了有关逆向工程和反编译的几个问题（例如，[如何将 .NET EXE 反编译为可读的 C# 源代码？](https://stackoverflow.com/questions/179741/how-do-i-decompile-a-net-exe-into-readable-c-sharp-source-code)以及[当用户单击 .NET 程序集时会发生什么（EXE）？](https://stackoverflow.com/questions/2788270/what-happens-when-user-click-net-assembly-exe)）

提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T06:56:56.160

托管执行过程包括以下步骤

1.  选择编译器

    > 要获得公共语言运行时提供的好处，您必须使用一种或多种以运行时为目标的语言编译器。

2.  将代码编译为 MSIL

    > 编译会将您的源代码翻译成 Microsoft 中间语言 (MSIL) 并生成所需的元数据。

3.  将 MSIL 编译为本机代码

    > 在执行时，即时 (JIT) 编译器将 MSIL 转换为本机代码。在此编译期间，代码必须通过检查 MSIL 和元数据的验证过程，以确定代码是否可以确定为类型安全的。

4.  运行代码

    > 公共语言运行时提供使执行能够发生的基础结构和可以在执行期间使用的服务。

在这里查看详细信息：http: [//msdn.microsoft.com/en-us/library/k5532s8a.aspx](http://msdn.microsoft.com/en-us/library/k5532s8a.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T08:31:59.960

您可以查看以下我认为它们很有用的链接，
1-[描述 CLR 的图像。](http://en.wikipedia.org/wiki/File%3aOverview_of_the_Common_Language_Infrastructure.svg)
2- .NET Framework 3- [.Net Framework 架构](http://www.c-sharpcorner.com/uploadfile/puranindia/net-framework-and-architecture/)[的维基百科描述](http://en.wikipedia.org/wiki/.NET_Framework)

# sql - 在 MS Access 中将子查询与加入组合相关的问题

> ID：13985532
> 
> 赞同：-1
> 
> 时间：2012-12-21T06:48:31.930
> 
> 标签：sql, database, ms-access

> **可能重复：**
> [与加入 MS Access 数据库相关的问题](https://stackoverflow.com/questions/13976336/isssue-related-to-join-in-ms-access-database)

我在 MS-Access 数据库文件中有一个数据库文件..

我有以下查询：

```
Select RGN.rgn_regionId,RGN.rgn_titleGuj AS Center,

(Select COUNT(*) from (select Distinct PRS.prs_personId From tb_personDepartment PD,tb_person PRS Where PD.pd_designationId = 1 And PD.pd_personId = PRS.prs_personId And PRS.prs_centerId = RGN.rgn_regionId And PRS.prs_attandanceStatus = 'Y')) As SKAt

From tb_person PRS,tb_personDepartment PD,tb_region RGN
Where PD.pd_personId = PRS.prs_personId
And PRS.prs_centerId = RGN.rgn_regionId
Group By RGN.rgn_regionId,RGN.rgn_titleGuj 
```

表结构如下

```
select * from tb_person where prs_personId in (3)
--prs_personId   prs_uniqId prs_centerId prs_fName  prs_mName    prs_lName  prs_age   prs_addres   prs_areaId
-- 3                    1       1               abc     abc             abc         12      andn            2
--(1 row(s) affected)

    select * from tb_personDepartment where pd_personId in (3)

    --pd_personId          pd_mahotsavId pd_departmentId pd_designationId pd_MainSK
    ---------------------- ------------- --------------- ---------------- -----------
    --3                    1             41              1                1
    --3                    1             44              2                0
    --3                    1             104             1                1

--(3 row(s) affected)

select * from tb_personMahotsavDetail where pm_personId in (3)

--pm_personId   pm_mahotsavId pm_personStatus pm_sevaDaysH   pm_accommodationRequired pm_utaraPlace  
--------------- ------------- --------------- -------------- ------------------------ -------------  
--3                    1             SS              8           0                        NULL       

--(1 row(s) affected)

select * from tb_person where prs_personId in (3)
-- Single Record

select * from tb_personDepartment where pd_personId in (3)
-- Multiple Record With Same Person Id

select * from tb_personMahotsavDetail where pm_personId in (3)
-- Single Record 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:58:21.587

这发生在`column name does not exist`或者可能已经发生`misspelled`。

# java - 为java应用程序实现记录器

> ID：13985534
> 
> 赞同：4
> 
> 时间：2012-12-21T06:48:44.563
> 
> 标签：java, logging, log4j, apache-commons

我正在尝试使用 apache commonn logging 和 log4j.xml 文件作为配置文件来实现记录器。

所以在实际的java代码中我写日志为

我正在使用 appache 通用日志记录

```
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory; 
```

我正在记录信息，例如 . 我正在为每个类创建一个日志实例

```
 private static Log    logger  = LogFactory.getLog( MyClass.class );
    private static final String      name   ="SAM";
    logger.info("name= "+name); 
```

1.  所以现在我的问题是实现这样的记录器会产生性能问题吗？

2.  是否有必要检查日志

    ```
    if ( log.isInfoEnabled( ) ) 
     {
      log.info( "Info message" );
      } 
    ```

混淆主要是因为他们在 Apache 通用日志记录中提到了这样做，而在 log4j 中他们提到这是不必要的。

每次我们在文件中写入日志时？

-山姆

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-28T17:12:58.233

1.  是和否，日志记录总是会降低您的性能，但有些功能比其他功能更昂贵，例如获取调用类/方法名称使用反射并且非常慢。**但是，如果**您在调用日志记录函数中没有昂贵的语句，则正常的 logfuntion 不会那么昂贵（每次检查 log-Level 之前都会对其进行评估。在这种情况下，您可以使用`.isLevelEnabled`检查来防止评估）。此外，记录到控制台的输出时间也比记录到文件的时间长。您可以通过谷歌搜索和 log4j 的常见问题解答/手册找到更多信息。

2.  您**不必**在记录之前检查日志级别。这是在日志函数本身内完成的。因此，通用日志方法中的每个级别或级别参数都有不同的方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-28T17:29:29.307

日志记录的一个很大的潜在性能问题通常是如果您将某些内容传递到 log 方法中，转换为字符串的成本非常高。这就是为什么你有类似的方法`isInfoEnabled()`，这样代码就可以避免从参数创建消息字符串（否则`info()`方法内的检查为时已晚，转换已经完成）。如果传递给日志方法的对象是字符串或者不是很复杂，那么这些`is*Enabled()`方法就没有那么有用了。

SLF4J 值得一试。它不依赖于类加载器技巧（这是为什么公共日志受到谴责的一个重要部分），并且它具有创建日志消息的不同方式，该方式在创建消息字符串时会延迟，以便启用的检查可以在记录方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-28T17:35:24.320

有更好的方法来完成这一切。您可以获得真正出色的性能，而无需添加`ifDebugEnabled`, 等方法的混乱。查看类似[Logback](http://logback.qos.ch/)（或 SLF4J）的东西。这是关于你想要什么样的 API 的优秀文档。请注意，Log4J 和 Commons-Logging 没有这样的 API。使用[参数化日志记录](http://logback.qos.ch/manual/architecture.html#parametrized)。

# audio - 音频指纹上的局部敏感散列

> ID：13985535
> 
> 赞同：4
> 
> 时间：2012-12-21T06:48:57.563
> 
> 标签：audio, hash, audio-fingerprinting, locality-sensitive-hash

我正在研究音频指纹识别系统，最近阅读了一些论文和研究，尤其是这个页面：[c# AudioFingerprinting and Locality Sensitive Hashing](https://stackoverflow.com/questions/9028623/c-sharp-audiofingerprinting-and-locality-sensitive-hashing)

我现在每 32 毫秒的音频就有一系列指纹。我想要做的是使用 LSH 或其他一些相似性保留方法对这些单独的指纹（而不是它们的序列）进行哈希处理。根据我对 LSH 的了解，它适用于多维向量并生成二进制字符串，然后可以在汉明空间中进行比较。

我的问题是我拥有的指纹不是多维的。它们只是单个长整数。我如何使用 LSH 对这些进行哈希处理？是否有任何方法来散列（以保持相似性的方式）一维标量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T06:00:38.643

回复晚了，但事情就是这样，确实很简单，但不知道我是怎么错过的。

LSH 将使用随机投影向量将向量或标量投影到不同的维度空间，同时保持相似性。在这里检查一个好的答案[https://stackoverflow.com/a/12967538/858467](https://stackoverflow.com/a/12967538/858467)

所以我所要做的就是创建一个 [nx 1] 阶的随机投影矩阵，然后将它与标量 [1 x 1] 或标量向量 [1 xm] 相乘，得到投影 [nx 1] 或 [nxm ]。此后对其进行阈值化以获得二进制向量似乎可以做到这一点。

尽管这是我相信正确的方法（以前也这样做过），但到目前为止，我似乎无法获得好的二进制向量。当我更深入地研究这个问题时，我可能会发布另一个问题。

# c# - 如何使用 Lambda 表达式编写相同的代码

> ID：13985539
> 
> 赞同：1
> 
> 时间：2012-12-21T06:49:24.787
> 
> 标签：c#, linq, lambda

```
int[] numbers = { 5, 4, 1, 3, 9, 8, 6, 7, 2, 0 }; 
string[] strings = { "zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine" }; 

var textNums = 
    from n in numbers 
    select strings[n]; 

Console.WriteLine("Number strings:"); 
foreach (var s in textNums) 
{ 
    Console.WriteLine(s); 
} 
```

如何使用 Lambda 表达式编写相同的代码......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T06:55:52.357

```
numbers.ToList().ForEach(item => Console.WriteLine(strings[item])); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T06:53:23.607

我假设您的意思是“从内”-语句？：

```
var textNs = numbers.Select(i => strings[i]); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T10:13:08.263

```
var result=numbers.Select(n=>strings[n]); 
```

这是正确的，但结果是 type `IEnumerable< String >`。
这里，左边`n`的`=>(lambda operator)`意思是传递给函数的参数，右边`strings[n]`的`=>`意思是函数体。

有关 Linq 和 lambda 表达式的更多信息，请参阅： http: [//www.codeproject.com/Articles/33769/Basics-of-LINQ-Lamda-Expressions](http://www.codeproject.com/Articles/33769/Basics-of-LINQ-Lamda-Expressions)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T07:01:30.597

```
var result = numbers.Select(n => strings[n]); 
```

# android - 如何将列表视图带入网格视图

> ID：13985542
> 
> 赞同：0
> 
> 时间：2012-12-21T06:49:26.563
> 
> 标签：android, listview, gridview

这是一个示例日历使用`gridview`，现在我想在日历“日”中添加新内容，所以我想我可以`listview`在一天中的月份使用布局，现在我有问题是如何`listview`在 gridvie 适配器中使用！

这是我的日历适配器部分代码

```
public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        TextView dayView;
        if (convertView == null) {  // if it's not recycled, initialize some attributes
            LayoutInflater vi = (LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(R.layout.calendar_item, null);

        }
        dayView = (TextView)v.findViewById(R.id.date);
        listitem=(ListView)v.findViewById(R.id.listView1);
        // disable empty days from the beginning
        if(days[position].equals("")) {
            dayView.setClickable(false);
            dayView.setFocusable(false);
        }
        else {
            // mark current day as focused
            if(month.get(Calendar.YEAR)== selectedDate.get(Calendar.YEAR) && month.get(Calendar.MONTH)== selectedDate.get(Calendar.MONTH) && days[position].equals(""+selectedDate.get(Calendar.DAY_OF_MONTH))) {
                v.setBackgroundResource(R.drawable.item_background_focused);
            }
            else {
                v.setBackgroundResource(R.drawable.list_item_background);
            }
        }
        dayView.setText(days[position]);
        for(int t=0;t<date.size();t++){
        if(days[position]== date.get(t).get(2)){
            listitem.setAdapter(new ArrayAdapter<String>(mContext,
                    android.R.layout.simple_list_item_1));

        }
        }
        // create date string for comparison
        String date = days[position];

        if(date.length()==1) {
            date = "0"+date;
        }
        String monthStr = ""+(month.get(Calendar.MONTH)+1);
        if(monthStr.length()==1) {
            monthStr = "0"+monthStr;
        }

        // show icon if date is not empty and it exists in the items array
       // ImageView iw = (ImageView)v.findViewById(R.id.date_icon);
      /*  if(date.length()>0 && items!=null && items.contains(date)) {          
            iw.setVisibility(View.VISIBLE);
        }
        else {
            iw.setVisibility(View.INVISIBLE);
        }*/
        return v;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:38:26.067

嗯，我想应该不会那么难。

而不是常规的 gridview 孩子，您需要在其中膨胀一个带有 listview 的 xml。像这样，我想。

```
 LayoutInflater vi = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            if (showListView)
                v = vi.inflate(R.layout.listview_item, null);
            else
                v = vi.inflate(R.layout.calendar_item, null); 
```

比这样的事情

```
if(showListView){
        ListView listview = (ListView) v.findViewById(R.id.listview);
        listview.setAdapter(new SuperListviewAdapter());}
        else{
            //show regular item
        } 
return v; 
```

我还没有尝试过，但是您可能会遇到触摸事件的一些问题（例如 gridview 会消耗 listview 触摸事件？）。

# android - 来自 xml 的列表视图

> ID：13985543
> 
> 赞同：1
> 
> 时间：2012-12-21T06:49:27.923
> 
> 标签：android, xml, listview

请看[这张图片](http://www.tiikoni.com/tis/view/?id=ff66fda)，我想以这种形式显示我的短信，请帮助我

这是 xml 文件：

```
<smses count="2">

<sms 
    protocol="0" 
    address="123" 
    date="1356069180000" 
    type="1" 
    subject="null" 
    body="nDGd0Or7LQCajC+GSkQFDw==" 
    toa="null" 
    sc_toa="null" 
    service_center="null" 
    read="0" 
    status="0" 
    locked="0" 
    date_sent="0" 
    readable_date="Dec 21, 2012 5:53:00 AM" 
    contact_name="(Unknown)"/>

<sms 
    protocol="0" 
    address="123" 
    date="1356069181021" 
    type="1" 
    subject="null" 
    body="hw r u" 
    toa="null" 
    sc_toa="null" 
    service_center="null" 
    read="0" 
    status="-1" 
    locked="0" 
    date_sent="1356069180000" 
    readable_date="Dec 21, 2012 5:53:01 AM" 
    contact_name="(Unknown)"/>
</smses> 
```

.

```
try{    
    File fXmlFile = new File(/mnt/sdcard/myxmlfile.xml);
    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
    Document doc = dBuilder.parse(fXmlFile);
    doc.getDocumentElement().normalize();
    NodeList nl = doc.getElementsByTagName("sms");
    pDialog.setMax(nl.getLength());
    for (int i = 0; i < nl.getLength(); i++) {

        HashMap<String, String> map = new HashMap<String, String>();
        Node nNode = nl.item(i);
        Element e = (Element) nNode;
        String number= getNodeAttributeByTagName(nNode, "address");
        map.put(KEY_ADDRESS,number);
        map.put("body",getNodeAttributeByTagName(nNode, "body"));
        map.put(KEY_CONTACT, getContactDisplayNameByNumber(number));
        menuItems.add(map);
        String y = String.valueOf(i);
        publishProgress(y);
    }
  }catch(Exception e){
    e.printStackTrace();
} 
```

显示在列表中

```
ListAdapter adapter = new SimpleAdapter(showlist.this, menuItems,
                R.layout.list_item_albums,
                new String[] { KEY_CONTACT, "body", KEY_ADDRESS }, new int[] {
                R.id.contact, R.id.body, R.id.address  });
        list1.setAdapter(adapter);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:47:10.957

@rohit：您必须为每一行创建一个自定义视图。

请参阅此 [ListView](http://www.vogella.com/articles/AndroidListView/article.html) 教程。

# objective-c - @Dynamic 的使用

> ID：13985544
> 
> 赞同：-4
> 
> 时间：2012-12-21T06:49:34.373
> 
> 标签：objective-c, ios, xcode, ios6

请帮助我知道我们为什么使用`@property`和`@synthesis`？我们需要在哪里使用`@dynamic`？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:54:36.703

特性

当我们之前编写标题和作者的访问器方法时，您可能已经注意到代码很简单，并且可能是通用的。

属性是 Objective-C 中的一个特性，它允许我们自动生成访问器，并且还有一些其他的好处。让我们将 Photo 类转换为使用属性。

这是它之前的样子：#import

```
@interface Photo : NSObject {
   NSString* caption;
   NSString* photographer;
}
- (NSString*) caption;
- (NSString*) photographer;

- (void) setCaption: (NSString*)input;
- (void) setPhotographer: (NSString*)input;

@end 
```

这是转换为属性后的样子：

```
#import <Cocoa/Cocoa.h>

@interface Photo : NSObject {
    NSString* caption;
    NSString* photographer;
}
@property (retain) NSString* caption;
@property (retain) NSString* photographer;

@end 
```

@property 是一个声明属性的 Objective-C 指令。括号中的“retain”指定 setter 应该保留输入值，而该行的其余部分仅指定属性的类型和名称。

现在让我们看一下类的实现：

```
#import "Photo.h"

@implementation Photo

@synthesize caption;
@synthesize photographer;

- (void) dealloc
{
    [caption release];
   [photographer release];
[super dealloc];
}

@end 
```

@synthesize 指令会自动为我们生成 setter 和 getter，所以我们必须为这个类实现 dealloc 方法。

@synthesize 将为您的属性生成 getter 和 setter 方法。@dynamic 只是告诉编译器 getter 和 setter 方法不是由类本身实现的，而是由其他地方实现的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:52:45.510

@property 和 @synthesis 一起工作，它可以帮助你自动定义 setter 和 getter。在 xcode 4.5 中，@synthesis 不是必需的，编译器会自动添加它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:56:56.883

`@property`是 的声明`accessors`。这只是一个声明。这些之间几乎没有区别。[在这里](https://stackoverflow.com/questions/12730244/property-and-synthesize)检查

# visual-studio-2008 - 在 Visual Studio 2008 中将控制台应用程序与 MFC 应用程序链接起来

> ID：13985546
> 
> 赞同：1
> 
> 时间：2012-12-21T06:49:45.210
> 
> 标签：visual-studio-2008, mfc, googletest

我有一个 MFC 项目。我想使用 googletest 为它编写单元测试。为此，我制作了一个包含所有单元测试的 Win32 控制台应用程序。我将这两个项目放在一个解决方案中。

问题是，当我构建该解决方案时，出现以下链接错误：

错误 LNK2019：未解析的外部符号“public：__thiscall CTest_MFC_AppApp::CTest_MFC_AppApp(void)”(??0CTest_MFC_AppApp@@QAE@XZ) 在函数“private: virtual void __thiscall SimpleTests_TestAsserts_Test::TestBody(void)”(?TestBody@SimpleTests_TestAsserts_Test @@EAEXXZ) main.obj

我已经尝试了所有我能想到的方法，包括使用和不使用预编译头文件重新创建单元测试项目。任何人都可以阐明这个问题吗？谢谢！

# java - 定制的安装程序建议

> ID：13985550
> 
> 赞同：0
> 
> 时间：2012-12-21T06:49:56.503
> 
> 标签：java, mysql, windows, installation, xampp

我需要创建一个自定义的安装程序。

我有两个主要要求：

1.  创建单个安装程序以使安装过程简单流畅非常重要。
2.  同时我希望安装包尽可能小。

需要以下组件：

*   爪哇 (JRE)
*   阿帕奇网络服务器
*   阿帕奇雄猫
*   MySQL
*   我基于 Spring 的 webapp（这将进入 tomcat 目录）

我目前正在使用 xampp，它使 Java 安装在外部。它还包含一些额外的东西，比如我不需要的 PHP、Perl，通过从安装程序中删除它们，我可以从压缩文件中节省大约 50 MB。

我正在考虑以下选项，但不确定什么是最好的选择。

1.  自定义 XAMPP - 添加所需的安装程序，删除不需要的软件包。不确定这是否是使用 XAMPP 的最佳方式。
2.  [使用Inno Setup](http://www.jrsoftware.org/isdl.php)创建自定义安装程序
3.  使用 Visual Studio 创建我的自定义安装程序（很多工作，我猜）

满足我的要求的最佳方式是什么？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:41:14.037

我也会考虑[NSIS](http://nsis.sourceforge.net)。阅读[此处](http://forums.winamp.com/showthread.php?t=126710)了解如何进行多次安装。

# django - 带有 jquery-tinymce 图片上传插件的 Django

> ID：13985552
> 
> 赞同：6
> 
> 时间：2012-12-21T06:50:07.813
> 
> 标签：django, tinymce

[我已将http://justboil.me/](http://justboil.me/)中的jbimages 安装到我的 django 项目的 jquery-tinymce 文件夹中，用于从计算机获取本地图像。

当我上传图片时，它会抛出错误“这比平时花费的时间更长。可能发生了错误。” 它显示脚本输出错误为“CSRF 验证失败。请求中止。” 但是我已经以 dialog.htm 的形式给出了 {% csrf_token %}。

![在此处输入图像描述](../Images/a16d7a66013a243ef60dc026895a6d3f.png)

选择图像后出现错误，如下所示：

![在此处输入图像描述](../Images/1006c1aedc1d6ada4ca470c2b8e18586.png)

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T13:01:09.733

似乎表格正在使用[ajax](https://www.google.co.in/url?sa=t&rct=j&q=&esrc=s&source=web&cd=3&cad=rja&ved=0CEsQFjAC&url=http://api.jquery.com/jQuery.ajax/&ei=pV3UUJqfKonprQfzxYC4Bw&usg=AFQjCNF1ITsE5bJBc65MY4nqhZq7OkHZpg&bvm=bv.1355534169,d.bmk)发布。如果您使用 ajax 发布表单，请确保将 包含`csrf_token`在`POST`数据中。在这种情况下你错过了。

或者，将以下脚本添加到您的脚本中`base.html`，它将负责为每个 Ajax 请求更新 csrf_token。

# CSRF_AJAX_PATCH

```
$(document).ajaxSend(function(event, xhr, settings) {
    function getCookie(name) {
        var cookieValue = null;
        if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }   
            }   
        }   
        return cookieValue;
    }   
    function sameOrigin(url) {
        // url could be relative or scheme relative or absolute
        var host = document.location.host; // host + port
        var protocol = document.location.protocol;
        var sr_origin = '//' + host;
        var origin = protocol + sr_origin;
        // Allow absolute or scheme relative URLs to same origin
        return (url == origin || url.slice(0, origin.length + 1) == origin + '/') ||
            (url == sr_origin || url.slice(0, sr_origin.length + 1) == sr_origin + '/') ||
            // or any other URL that isn't scheme relative or absolute i.e relative.
            !(/^(\/\/|http:|https:).*/.test(url));
    }   
    function safeMethod(method) {
        return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
    }   

    if (!safeMethod(settings.type) && sameOrigin(settings.url)) {
        xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
    }   
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-21T07:26:28.340

如果您尝试通过`ajax`请求上传图像，那么您必须[在 ajax 中查看 CSRF 验证](https://docs.djangoproject.com/en/dev/ref/contrib/csrf/#ajax)。

或者，如果不是，那么[这个](https://stackoverflow.com/questions/10388033/csrf-verification-failed-request-aborted)问题可能会对您有所帮助。

# java - 如何在 Timer 中终止 TimerThread

> ID：13985554
> 
> 赞同：1
> 
> 时间：2012-12-21T06:50:12.340
> 
> 标签：java, timer

看了源码`java.util.Timer`，发现`java.util.Timer`是由a`TimerThread`和a实现的`TaskQueue`

据说`java.util.Timer`可以取消`java.util.Timer.cancel()`，

但是当我打电话时，`java.util.Timer.cancel()`我发现 Timer 中的 TimerThread 仍在运行，

这是在线系统的问题吗？

如果可能的话，我怎么能`TimerThread`在里面停下来`java.util.Timer`？

* * *

从`TimerThread`（jdk 7）的来源我终于发现`Timer.cancel()`确实有效。

TimerThread*等待* `TaskQueue`，当`Timer.cancel()`被调用时，`TaskQueue` *通知* `TimerThread`，如果 `TaskQueue 为 EMPTY，TimerThead 应该最终退出......

感谢您的评论，很抱歉浪费您的时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:01:43.423

计时器线程仍将运行。但是计时器线程将根据实现停止接受任何进入队列的内容。

您只能通过类`timer`访问 (TimerThread) 线程。被封装在类内。实施方面，他们确保计时器停止接受对其队列的请求，但并没有停止。`Timer``TimerThread``Timer``TimerThread`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:15:39.833

`Timer`是单个线程，它包含`Task`要执行的列表，一旦所有任务都成功执行，`Timer`线程实例将`Garbage Collector`在一段时间后调用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:58:21.177

这可能会对您有所帮助...该部分描述了在某些情况下计时器线程未结束的原因。

[http://enos.itcollege.ee/~jpoial/docs/tutorial/essential/threads/timer.html](http://enos.itcollege.ee/~jpoial/docs/tutorial/essential/threads/timer.html)

# c# - 如何使用 itextsharp 或任何其他第三方库优化 pdf 文件

> ID：13985555
> 
> 赞同：2
> 
> 时间：2012-12-21T06:50:22.980
> 
> 标签：c#, asp.net

我正在用 C# 创建一个窗口应用程序。我必须优化 pdf 文件以供 ipad 使用。文件大小从 20 到 100 MB 不等。我希望优化文件的大小小于 10 mb。

我已经使用了 itextsharp 和 pdftron 但它没有满足我的要求。您能否建议任何其他根据我的需要减小尺寸的方法。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:01:13.250

使用 Docotic 怎么样？它不是免费的，但我认为它会让你很快到达你想去的地方，而且这可能很快就会收回成本（无限用户需要 600 美元）：

[http://bitmiracle.com/pdf-library/help/compress-existing-pdf-document.aspx](http://bitmiracle.com/pdf-library/help/compress-existing-pdf-document.aspx)

您也可以只购买仅 250 美元左右的 Viewer Edition：

[http://bitmiracle.com/pdf-library/purchase.aspx#viewer-edition](http://bitmiracle.com/pdf-library/purchase.aspx#viewer-edition)

# java - Rhino 中的 XMLHttpRequest？

> ID：13985560
> 
> 赞同：8
> 
> 时间：2012-12-21T06:50:41.407
> 
> 标签：java, javascript, xmlhttprequest, rhino

最近我一直在玩 Java 的 ScriptEngine API，即 javascript 引擎，它使用 Rhino 来处理一切。我偶然发现 Rhino 没有 XMLHttpRequest。我想知道是否有人知道解决此问题的可能方法？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-21T07:32:18.600

您实际上需要在 Java 中定义 XMLHttpRequest。它已经完成了——检查[一下](https://github.com/sabren/java-XmlHttpRequest)。

# jquery - 组合框编码未显示在页面源中

> ID：13985562
> 
> 赞同：0
> 
> 时间：2012-12-21T06:50:46.623
> 
> 标签：jquery, ruby-on-rails

我有一个 collection_select 标记作为第一个组合框，对于第二个组合，我使用了基本的 html 语法，在选择第一个组合的值时，填充第二个组合框的值。此功能正常工作，但在查看页面源时，它没有显示选项标签下的填充值。

我的浏览页面是..

```
 <% form_tag (:action =>:verify)do%>
                            <%= label_tag(:user,"Select Student") %><br/>
                            <%= collection_select("std", "id",@result,"sid", "sid",:prompt=>"--Select Student--")%><h9>&nbsp;*</h9><br/>
 <select id = 'sub_id'>
  <option value="1">--Select Server--</option>
 </select>
 <%= submit_tag 'Submit',:id => 'btn'%> 
```

在第一个组合即时更改事件时调用以下 jquery。

```
jQuery(document).ready(function(){
   jQuery("#std_id").change(function() {
      jQuery.get('/controllers/find_val/?sid=' + jQuery("#edetail_id").val(), function(data) {

         var ds = data.split(' ');
         ds.pop();
         var options;
         jQuery.each(ds, function(index, item) {

               options += "<option value='" + ds[index] + "'>" + ds[index] + "</option>";

        });
        jQuery("#sub_id").empty();
         jQuery("#sub_id").append(options).combobox();

         });
      });
   }); 
```

我的控制器是...

```
def find_val
   @res = Student.find(:all, :conditions => ["sid = ?",params[:sid]])
end 
```

一切都很好，但是在附加第二个组合的值之后，这些值不会显示在页面源中，因此我无法在控制器中捕获第二个组合的选定值以进行进一步处理。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:05:04.207

尝试这样做：

```
var options = {};

jQuery.each(ds, function(index, item) {
    options[ds[index]] = ds[item];
});

jQuery("#sub_id").empty();
jQuery("#sub_id").addOption(options, false); 
```

# java - Spring MVC 3 用户定义的异常处理与用户定义的视图

> ID：13985565
> 
> 赞同：4
> 
> 时间：2012-12-21T06:51:06.593
> 
> 标签：java, spring, web-applications, spring-mvc, exception-handling

如何使用自定义消息和视图名称在 Spring MVC 3 中处理用户定义的异常（自定义异常例如：“BusinessException”）？

例如 ：

如果我从服务层抛出我自己的异常，它应该被捕获并应该重定向到带有消息的指定视图，视图名称可能相同或不同。

我在谷歌搜索，但没有运气。

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T07:09:19.550

你检查过吗`@ExceptionHandler`

例如：

```
@ExceptionHandler(MyBusinessException.class)
public ModelAndView handleMyBusinessException(MyBusinessException e) {
   handle it or log it or redirect to error page after populating a model
} 
```

这具有在 Spring MVC 级别本身处理异常的优点，您可以填充模型并显示有意义的错误页面。

否则，您可以按照其他答案的建议在 web.xml 中配置它。但是您的错误页面将更像是一个静态页面。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T19:55:31.990

您必须将异常从服务层传播到控制器层，在那里您可以使用声明性异常处理并提供异常以查看 spring 配置 xml 中的映射

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-03T07:02:25.440

**- - 解决了 - -**

感谢所有帮助我解决问题的人。最后我得到了解决方案。

答案是 Spring 3.1 中的“ExceptionHandlerExceptionResolver”类，通过覆盖“resolveException”方法。

谢谢你们。

# sql - 使用列上的条件更新记录

> ID：13985568
> 
> 赞同：0
> 
> 时间：2012-12-21T06:51:15.903
> 
> 标签：sql, sql-server, sql-server-2008, sql-server-2005

我想更新与匹配`name,appid`中的记录。下面的语句将使用下面的语句更新 table1 值`table1``id`

```
update table1 set name=@name,appid=@appid where id=@id 
```

我还想要一个条件。为此更新所有记录`id`，但`appid`不应该更新 if `(@appid is null or id=54)`。我怎样才能在一列（）上做出限制（条件`appid`）。或者我应该写另一个更新语句？我可以格式化上述查询。请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T06:58:54.020

```
update table1 set
    name = @name,
    appid = (case when @appid is null or id=54 then appid else @appid end)
where id=@id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:55:41.730

这对你有帮助吗？

```
update
  table1 
set name=@name,
  appid=ISNUL(@appid, appid) 
where 
  id=(CASE WHEN @id=54 THEN id+1 ELSE @id END) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T06:57:10.140

```
update table1 set name=@name,
appid= Case when id=54 then appid else Coalesce(@appid,appid) end where id=@id 
```

# javascript - mediaelementjs ie9 全屏事件

> ID：13985569
> 
> 赞同：3
> 
> 时间：2012-12-21T06:51:22.160
> 
> 标签：javascript, video, internet-explorer-9, mediaelement.js

我想检测`mediaelementjs`全屏事件`IE9`。我通过订阅“fullscreenchange mozfullscreenchange webkitfullscreenchange”来处理该事件。问题是单击视频播放器上的全屏按钮会在`IE9`新弹出窗口中打开，并且不会触发 fullscreenchange。任何想法如何处理这个事件`IE9`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T13:17:46.287

Mediaelement通过在弹出窗口中打开视频来模拟IE9的全屏。因此在IE9中不会触发“fullscreenchange”事件。为了处理弹出全屏，我们需要扩展“MediaElementPlayer.prototype.enterFullScreen”和MediaElementPlayer.prototype。 exitFullScreen”函数。

示例代码：

```
MediaElementPlayer.prototype.enterFullScreen_org =
MediaElementPlayer.prototype.enterFullScreen;

MediaElementPlayer.prototype.enterFullScreen = function() {
  if((/MSIE 9.0/).test(navigator.userAgent)){
    // your code here
  }
  this.enterFullScreen_org();
}

// Same for the .exitFullScreen 
```

# php - 对未定义函数 geoip_open() 的致命错误调用

> ID：13985570
> 
> 赞同：5
> 
> 时间：2012-12-21T06:51:29.430
> 
> 标签：php, geoip

我已经安装了geoip，用于根据php中的remote_server ip获取地址。我已经在我的系统中安装了 Geoip 包，还安装了 php5-geoip php 扩展。但是在运行以下脚本时，它显示了致命错误。

```
geoip_open("GeoIP.dat",GEOIP_STANDARD); 
```

错误是

```
Fatal error: Call to undefined function geoip_open() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T06:57:12.327

包含该`geoip_inc`文件之后它不会显示此错误并且它`maxMind library`不会`php extension`

```
include("include/geoip.inc");

$gi = geoip_open("include/GeoIP.dat", GEOIP_STANDARD); 
```

# python - 在类方法中编写一个小函数[Python]

> ID：13985576
> 
> 赞同：1
> 
> 时间：2012-12-21T06:52:35.420
> 
> 标签：python, function, coding-style, definition

如果我有这样的脚本：

```
class ClassA(object):
    ...
    def methodA(...):
        varA=...

        def funcA(...):
            ...

        varA=funA(...) 
```

我的意思是我打算在一个类方法中写一个小函数，它只在这个类方法中使用。这种代码风格好吗？我觉得有点丑。有替代品吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:00:30.253

美在旁观者的眼中。

将一个非常“本地”的函数嵌套在另一个函数中是完全可以的——尤其是从代码的可读性来看。

其他人会争论编码风格和最佳实践。

这是您的代码，您必须对自己的代码感觉良好，以便以后理解和阅读它。

因此，如果这对您和您对“好”代码的理解都很好，请继续。

# qt4 - 如何在 Qt 的 Mainwindow.cpp 中使用 qSleep？

> ID：13985587
> 
> 赞同：0
> 
> 时间：2012-12-21T06:53:27.083
> 
> 标签：qt4

我在 delay.cpp 中有以下功能

```
void QTest::qSleep(int ms)
    {
        QTEST_ASSERT(ms > 0);

    #ifdef Q_OS_WIN
        Sleep(uint(ms));
    #else
        struct timespec ts = { ms / 1000, (ms % 1000) * 1000 * 1000 };
        nanosleep(&ts, NULL);
    #endif
    } 
```

它在 delay.h 中定义为

```
 void qSleep(int); 
```

我想在 Qt 的 mainwindow.cpp 中使用这个函数。当我在 Mainwindow 的成员函数中使用此函数时，

```
void MainWindow::xyz()
{
    qsleep(1000);
} 
```

编译器说它没有在这个范围内声明，即使我在 mainwindow.cpp 中包含了 delay.h。有人可以告诉我如何使用它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:03:19.393

你已经将你的`sleep`函数声明为`QTest`类的成员，所以你不能像自由函数一样调用它。使其成为静态成员，`QTest`然后您可以：

```
QTest::sleep(time); 
```

但在 GUI 代码中休眠是个坏主意：它会冻结您的应用程序。这不是用户友好的。

`QTimer`您应该尝试通过延迟通话或其他类似策略来实现您想要实现的目标。

# jquery - 带有主干的 jquerymobile 显示加载微调器

> ID：13985589
> 
> 赞同：1
> 
> 时间：2012-12-21T06:53:41.023
> 
> 标签：jquery, jquery-mobile, backbone.js

我正在使用带骨干的 jQuery mobile

我已禁用 jquery 移动路由并使用一切正常的主干

这是那个配置

```
define(['jquery'], function($){

$(document).bind("mobileinit", function () {
    $.mobile.ajaxEnabled = false;
    $.mobile.linkBindingEnabled = false;
    $.mobile.hashListeningEnabled = false;
    $.mobile.pushStateEnabled = false;
    // Remove page from DOM when it's being replaced
    $('div[data-role="page"]').live('pagehide', function (event, ui) {
        $(event.currentTarget).remove();
    });
});
}); 
```

然后在我的 ajax 调用我的观点时我使用这段代码

```
 $.ajax({
            beforeSend: function() { $.mobile.showPageLoadingMsg(); },
            url: this.template,
            dataType: 'html',
            async: false,
            success: function(data) {
                compiled = _.template(data);
                $.mobile.hidePageLoadingMsg();
            }
        }); 
```

这在 Firefox 中显示加载器正常，但不适用于 chrome 或我的 ios 设备？

谁能帮忙？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T09:53:00.773

像 Chrome/safari/android/iOS 这样的 Webkit 浏览器存在 jQM 和 async: false ajax 调用的问题。在处理 ajax 调用时，它们将被锁定。无论出于何种原因，Firefox 都没有这样的问题。

改变：

```
async: false, 
```

至：

```
async: true, 
```

如果 async: false 对您的应用程序功能至关重要，并且您希望在 ajax 工作时阻止用户交互，请在整个应用程序上显示一个透明的 div 覆盖。在发送前状态下执行它并在成功或失败状态下将其删除。

# javascript - Windows8 Metro 应用程序中的错误和警告栏

> ID：13985592
> 
> 赞同：2
> 
> 时间：2012-12-21T06:53:47.050
> 
> 标签：javascript, windows-8, warnings

根据此[链接](http://msdn.microsoft.com/en-us/library/windows/apps/hh465304.aspx#errors)，当存在适用于整个应用程序的非严重错误并且您的应用程序可以提出解决方案时，我们需要显示错误和警告栏。

所以我想知道如何在使用 c# 或 javascript 创建的 windows8 Metro 应用程序中显示错误和警告栏。

希望这个问题很清楚......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T08:29:14.173

您可以像内置天气应用程序一样显示警告或错误栏，方法是为水平拉伸面板创建 UI，该面板通过动画故事板显示，就像这样。

**创建警告栏控件**

在 XAML 页面的正文中，放置以下代码块。

```
 <!-- StatusBar for temporary feedback and diagnostics -->
    <Grid x:Name="barStatus" HorizontalAlignment="Stretch" VerticalAlignment="Top" Visibility="Collapsed" Background="#FF383026" RenderTransformOrigin="0.5,0.5" >

        <Grid.RenderTransform>
            <CompositeTransform x:Name="barStatusCompositeTransform" TranslateY="-68"/>
        </Grid.RenderTransform>

        <Grid.RowDefinitions>
            <RowDefinition Height="8" />
            <RowDefinition Height="60" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="300" />
        </Grid.ColumnDefinitions>

        <Canvas Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" MinWidth="150" Background="#FF50B7FF"/>
        <TextBlock x:Name="txtStatus" Grid.Row="1" Text="Warning or Error Text Placeholder" Style="{StaticResource BasicTextStyle}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="42,0,0,0" />
        <Button Grid.Row="1" Grid.Column="1" MinWidth="150" Content="{StaticResource btnCloseText}" HorizontalAlignment="Center" Click="btnClose_Click" />
    </Grid> 
```

这段代码创建了一个水平画布，它横跨屏幕的宽度并在顶部对齐。您会注意到，默认情况下，它被放置在屏幕外（转换的像素数量等于其在屏幕上方的高度）。它也被“折叠”以确保它不被显示。

在此示例中，可以通过编程方式更改 txtStatus TextBlock，以便根据应用程序中的情况向用户提供适当的反馈。

**创建动画以显示或关闭警告栏**

为了在显示或关闭警告或错误栏时提供流畅的动画，您需要创建一个 StoryBoard。请将以下代码块放在您页面的资源区域中，位于 XAML 文件的顶部。

```
 <!-- Animations and transitions -->
    <Storyboard x:Name="sbStatusBarToVisible">
        <DoubleAnimation Storyboard.TargetName="barStatusCompositeTransform" Storyboard.TargetProperty="TranslateY" From="-68" To="0" Duration="0:0:0.25" />
    </Storyboard>
    <Storyboard x:Name="sbStatusBarToCollapsed">
        <DoubleAnimation Storyboard.TargetName="barStatusCompositeTransform" Storyboard.TargetProperty="TranslateY" From="0" To="-68" Duration="0:0:0.25" />
    </Storyboard> 
```

这里有两个动画。第一个旨在平滑地更改警告或错误栏在屏幕上方平移的像素数量，从负值到零。这实际上使栏在显示时看起来“向下滑动”。

第二个动画反转动画，旨在在解除警告栏时使用。

**在代码中显示或关闭警告栏**

在您的 C# 代码隐藏中，您可以按照以下方式异步显示适用于您的应用程序的警告或错误栏。

首先，一个动画辅助函数：

```
 private void ToggleStatusBarVisibility()
    {
        var targetVisibility = barStatus.Visibility == Windows.UI.Xaml.Visibility.Collapsed ? Windows.UI.Xaml.Visibility.Visible : Windows.UI.Xaml.Visibility.Collapsed;

        barStatus.Visibility = targetVisibility == Windows.UI.Xaml.Visibility.Visible ? targetVisibility : barStatus.Visibility;

        var animation = "sbStatusBarTo" + targetVisibility.ToString();
        var sb = this.FindName(animation) as Windows.UI.Xaml.Media.Animation.Storyboard;
        if (sb != null)
        {
            sb.Completed += (sender, e) =>
            {
                barStatus.Visibility = targetVisibility == Windows.UI.Xaml.Visibility.Collapsed ? targetVisibility : barStatus.Visibility;
            };
            sb.Begin();
        }
    } 
```

此函数选择两个动画之一，其名称以前面在页面中定义为资源的“sbStatusBarTo”开头。然后，它启动 StoryBoard 动画，该动画将异步完成。

以下是触发它的方法：

```
 private void DisplayStatus(String message)
    {
        // TODO: protect against multiple invocations
        // while the status bar is displayed...

        txtStatus.Text = message;
        ToggleStatusBarVisibility();
    } 
```

当用户想要关闭警告栏时，他或她单击关闭按钮，此处显示其代码以供参考：

```
 private void btnClose_Click(object sender, RoutedEventArgs e)
    {
        // can only be called when the status bar is visible
        ToggleStatusBarVisibility();
    } 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T07:04:49.000

如果您正在寻找 JS 解决方案，我会这样做。

我相信你正在寻找`AppBar`控制。 [http://msdn.microsoft.com/en-us/library/windows/apps/br229670.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/br229670.aspx)

您可以尝试按照此快速入门说明 [http://msdn.microsoft.com/en-us/library/windows/apps/hh465309.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh465309.aspx)

这是一些可用于创建警告栏的示例代码

```
<div id="appbar" data-win-control="WinJS.UI.AppBar" data-win-options="{sticky: 'false', placement: 'top', layout: 'custom'}">
    <div id="errorMessage">Your Error Message</div>
    <button data-win-control="WinJS.UI.AppBarCommand" data-win-options="{id:'cmd', label:'Command', icon:'placeholder'}" type="button" style="float: right"></button>
</div> 
```

`placement`如果您想在屏幕顶部显示“警告栏”，该属性可能很有用。您可以将`placement`属性设置为`Top`或`Buttom`将其放置在屏幕顶部或屏幕底部

另一个需要注意的重要属性是`layout`属性。您必须将其设置为，`custom`以便您可以自定义自己的布局。否则，Visual Studio 将不允许您在应用栏上放置文本。

# html - 单除的 CSS

> ID：13985594
> 
> 赞同：0
> 
> 时间：2012-12-21T06:53:53.050
> 
> 标签：html, css, web, css-transitions

我是初学者，谁能告诉我如何将下面的 CSS 添加为单个 div 的内联样式。因为当我将它作为 CSS 附加时，它适用于所有 div .. 代码是

```
@keyframes blink 

{
0% {
    opacity: 1;
}
50% {
    opacity: 0;
}
100% {
    opacity: 1;
}
}
img {
animation: blink 1s;
animation-iteration-count: infinite;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:08:18.420

您说的是单个 div，但目前您的选择器适用于所有图像，我假设您实际上想要做的是将动画应用于仅一个 div 内的所有图像

您当前的代码：

```
img {
    animation: blink 1s;
    animation-iteration-count: infinite;
} 
```

将更新为类似于此的内容：

```
div#someId img {
    animation: blink 1s;
    animation-iteration-count: infinite;
} 
```

或者：

```
div.someClass img {
    animation: blink 1s;
    animation-iteration-count: infinite;
} 
```

这本质上是说将以下样式分别应用于`img`包含在`div#someId`class 中的每个或所有 div 中`someClass`。

不同之处在于使用 # ( `div#someId`) 通过 id 选择 div 元素，即`<div id="someId"></div>`，但只能/应该仅在页面上只有一个具有该 id 的 div 时使用。

这 。( `div.someClass`) 选择属于某个类的所有 div，即，这将选择页面上所有将其类设置为 someClass 的 div。通常认为使用类而不是 id 是一种很好的形式，即使您只希望元素出现一次，因为它使代码更加灵活，即，有人可能希望对跟踪中的另一个元素使用相同的样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:56:31.947

使用更具体的 CSS 选择器。

例如，如果您有一个 id 为“foo”的 div：

```
<div id="foo"></div> 
```

然后，您可以使用 ID 选择器将样式应用于该 div：

```
#foo {
  styles for this div only
} 
```

以下是不同 CSS 选择器的概述：[http ://reference.sitepoint.com/css/selectorref](http://reference.sitepoint.com/css/selectorref)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T07:24:59.040

试试这个：在这个示例中，我们有 3 个 div，只有第二个 div 具有 ccs 样式。

HTML：

```
 <div id="d1">This is a first div</div>
    <div id="d2">This is a second div and just this div have a css style</div>
    <div id="d3">This is a third div</div> 
```

CSS：

```
#d2
{
    border:1px maroon dashed;
    background-color:yellow;
    font-family:Arial;
    font-size:18px;
    color:blue;
} 
```

[你可以看到上面代码的结果](http://jsfiddle.net/talebihamid/TeGwq/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T07:02:33.013

您可以将 id 或 class 用于单个 div，例如

```
 <div id="abc"></div> 
```

然后在不同的文件或页面中应用 css

```
 #abc
 {
    opacity:1;
 } 
```

或者

```
 <div class="abc"></div> 
```

然后在不同的文件或页面中应用 css

```
 .abc
 {
    opacity:1;
 } 
```

如果你使用`class`那么“。” 用于，而“#”用于`id`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-21T07:10:50.343

如果你想使用内联样式，你为什么不简单地使用

```
<div style="animation: blink 1s;animation-iteration-count: infinite;"> 
```

但是您使用选择器将其应用于所有图像，而不是 div `img`。

# javascript - 通过 ajax 将图像加载到画布中

> ID：13985600
> 
> 赞同：1
> 
> 时间：2012-12-21T06:54:09.110
> 
> 标签：javascript, ajax, canvas, safari, cors

它涉及另一个问题 [Cross Origin Resource Sharing Headers not working only for safari](https://stackoverflow.com/questions/10690686/cross-origin-resource-sharing-headers-not-working-only-for-safari)。

我正在尝试将图像从 s3 加载到画布中。似乎`safari < 6.0`有一个与通过 CORS 加载图像相关的错误。因此，尽管图像启用了 cors，但画布会受到污染。所以我在想是否有某种方法可以发出 ajax 请求然后将响应加载到画布中？

注意：Ajax 请求与 CORS 一起正常工作。只是在加载图像 safari 时不尊重该`crossOrigin`属性，因此请求是在没有跨域的情况下发出的。

*   我的图像位于 s3，因此无法将其编码为 base64 并直接从亚马逊获取
*   我不想在我的域中为图像设置代理

一些javascript

```
var img_location = "//temp_upload_test.s3.amazonaws.com/IMG_0222.JPG"
var img = new Image();

img.onload = function(){

    console.log("image loaded")
    EXIF.getData(img,function(){
        console.log("image data read");
        var orientation = EXIF.getTag(img,'Orientation');
        console.log("orientation"+orientation);
        load_image_into_canvas_with_orientation(img,orientation);
    })
    console.log("image loaded function complete");
}
img.crossOrigin = "anonymous";
$(img).attr("crossOrigin","anonymous");
img.src = img_location; 
```

我试图解决这个问题的一种方法是向 s3 发出 xhr 请求。获取图像`BinaryFile`，然后将其解码`base64`并用作 img 的`src`. 但是在解码时我得到一个 DOM 异常，不确定这个想法本身是否错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-05-16T10:52:03.200

```
img.crossOrigin = "anonymous"; 
```

由于安全问题，它并非在所有情况下都有效。

您可以通过将该图像转换为 base64 字符串然后绑定到画布来加载画布中的任何图像。

例子：

```
<img src="www.example.com/name.png" alt="test" /> 
```

至

```
<img src="data:image/png;base64,vnaXYZetc..." alt="test" /> 
```

然后将其加载到画布中。

谢谢你。

# ruby-on-rails - 为某些域名指定 IP

> ID：13985602
> 
> 赞同：0
> 
> 时间：2012-12-21T06:54:09.143
> 
> 标签：ruby-on-rails, ruby, curl, net-http, curb

我正在调用托管在多个服务器上的 Web 服务的多个 api。请求通过负载平衡器随机路由到这些服务器。所有这些服务器都驻留在我的本地网络上，我希望一个特定的 api 调用转到一个特定的服务器。由于我不希望其他请求受到影响，因此我不愿意在托管我的应用程序的服务器上放置主机条目。这可以通过代码实现吗？我正在用 ruby​​ 编码并使用 net-http gem 进行 api 调用。也欢迎使用遏制 gem 的任何实现。

谢谢

-阿兹塔布

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T08:53:21.257

我认为实现您想要的最佳方法是使用带有 DNS 欺骗的代理。

[Charles 代理](http://www.charlesproxy.com/documentation/tools/dns-spoofing/)可以做到这一点，但也可能有其他工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-23T15:55:33.803

我能想到的一种方法（与 systho 建议的方法相同）是直接使用 IP 进行 api 调用，并在服务器上创建一个虚拟主机，该服务器直接在单独的端口上侦听。

这对我有用，纯粹是因为我可以访问托管 Web 服务的服务器。

# html - 在 Magento 中创建 phtml 文件的任何教程？

> ID：13985604
> 
> 赞同：-1
> 
> 时间：2012-12-21T06:54:24.573
> 
> 标签：html, magento, magento-1.7, php

有没有在 Magento 中创建 phtml 文件的教程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T06:57:18.733

参考这两个链接……这就足够了……而且只需要半个小时:)

[http://www.amicontech.com/blog/magento-hello-world-tutorial/](http://www.amicontech.com/blog/magento-hello-world-tutorial/)

[http://www.magentocommerce.com/knowledge-base/entry/magento-for-dev-part-5-magento-models-and-orm-b​​asics](http://www.magentocommerce.com/knowledge-base/entry/magento-for-dev-part-5-magento-models-and-orm-basics)

# objective-c - 单击行后立即使 pushViewController 转换

> ID：13985608
> 
> 赞同：0
> 
> 时间：2012-12-21T06:54:49.720
> 
> 标签：objective-c, ios, uitableview, pushviewcontroller

`viewController`我已经看到应用程序会在单击表项后立即推送到新视图，然后`activityIndicator`在加载新视图时显示一段时间。我知道如何将 activityIndi​​cator 添加到`ProfileViewController`，但是如何在单击项目后立即将表格推送到新控制器而不是等待内容加载？

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath 
*)indexPath
{
  ProfileViewController *profileViewController = [[ProfileViewController alloc] initWithNibName:@"ProfileViewController" bundle:nil];

  //profileViewController.title = [[news objectAtIndex:indexPath.row] objectForKey:@"name"];
  profileViewController.newsArticle = [news objectAtIndex:indexPath.row];
  [self.navigationController pushViewController:profileViewController animated:YES];
} 
```

任何帮助或指导都会很棒。谢谢你们！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:02:36.730

在 viewDidAppear 之前，您不要对新的视图控制器进行操作。然后你触发一些异步且不阻塞主线程的东西：

1.  viewDidLoad：设置活动指示器
2.  viewWillAppear：开始活跃度指标
3.  viewDidAppear：启动异步进程
4.  委托方法/通知/块：当流程完成时使用数据更新 UI

# c++ - QT quit 不调用 MainWindow 析构函数

> ID：13985617
> 
> 赞同：2
> 
> 时间：2012-12-21T06:55:40.123
> 
> 标签：c++, qt

在我的应用程序中，我有一个托盘图标，因此我覆盖了 closeEvent 以便应用程序在某些事情发生时“最小化”。但是，我确实希望在按下退出后，应用程序将完全退出。但是，在覆盖 closeEvent 并调用函数 quit() 之后，它似乎绕过了 MainWindow 析构函数，我在其中有一些代码。我在 closeEvent 中缺少什么来正确关闭应用程序以便调用 MainWindow 的析构函数，就像没有覆盖 closeEvent 的情况一样？

我试过使用

```
 QMainWindow::closeEvent(event); 
```

和其他一些东西，但从未调用析构函数。

我的关闭事件实现是：

```
void MainWindow::closeEvent(QCloseEvent * event)
{
    if(m_closeCompletely == false)
    {
        if (trayIcon->isVisible())
        {
            QMessageBox::information(this, tr("Hello"),
                                     tr("The program will keep running in the "
                                        "system tray. To terminate the program, "
                                        "choose <b>Quit</b> in the context menu "
                                        "of the system tray entry."));
        }
    }
    else
    {
        event->accept();
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-07-28T13:22:13.987

WA_DeleteOnClose 属性需要设置为在关闭事件上调用析构函数，否则小部件或窗口只是从视图中隐藏。将以下内容添加到类构造函数中：

```
this->setAttribute(Qt::WA_DeleteOnClose); 
```

这将导致在关闭事件上调用析构函数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T07:36:26.473

这完全取决于您在何处以及如何分配您正在使用的对象。如果您在堆上创建`QApplication`and `QMainWindow`，那么它们将潜伏直到操作系统清理内存。将 a发送`close()`给 a `QWidget`（并且`QMainWindow`是一个）只会将`close`它..从用户视觉上隐藏它。你可以`show()`稍后，`close()`不破坏它。

你可以使用这样的东西：

```
int main(int argc, char* argv[]) {

   QApplication app(argc, argv);

   MyMainWindow mw;
   mw.show();

   int rc = app.exec();

   // optional: do_cleanup();

   return rc;
} 
```

`app`并`mw`在堆栈上构建。`app`当调用返回`exec()`时（通常是发送`quit()`到） ，它们会以相反的顺序被销毁`QCoreApplication::instance()`。您甚至可以提供一个简单的清理功能，无需在 UI 的析构函数中添加任何内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T09:36:35.420

请记住，所有**应用程序资源**都由`QApplication`;

一旦`MainWindow`关闭，它就是`close`，也就是从屏幕上隐藏；

我想知道你为什么要析构你的`MainWindow`，似乎你已经做了一个系统托盘条目，所以我的建议只是**隐藏**但`MainWindow`要**析构**，因为有一个系统托盘，你可能想点击它来显示`MainWindow`。

希望有所帮助。:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-09T22:48:23.377

我刚刚遇到了同样的问题，这是因为我正在运行一个永远不允许应用程序关闭的无限循环。

```
forever
{
    _runGameLoop();
} 
```

我必须在关闭时`MainWindow`结束循环

```
while(!M->isClosed())
{
    _runGameLoop();
} 
```

当然我必须实施`isClosed()`

```
bool MainWindow::isClosed()
{
    return _isClosed;
}

void MainWindow::closeEvent(QCloseEvent*)
{
    _isClosed = true;
} 
```

# email - 没有收到自定义字段 woocommerce 的电子邮件

> ID：13985620
> 
> 赞同：1
> 
> 时间：2012-12-21T06:55:49.963
> 
> 标签：email, woocommerce

我正在使用`woocommerce`（免费插件）.. 我正在尝试向计费字段添加一个自定义字段..

这里是：

```
// ADDED HOW YOU GOT TO KNOW ABOUT OUR SERVICE FIELD
add_filter( 'woocommerce_checkout_fields' , 'About_Our_Service' );

// Our hooked in function - $fields is passed via the filter!
function About_Our_Service( $fields ) {
     $fields['billing']['billing_meat'] = array(
    'label'       => __('How you Got to Know About Our Service?', 'woocommerce'),
    'placeholder' => _x('', 'placeholder', 'woocommerce'),
    'required'    => false,
    'clear'       => false,
    'type'        => 'select',
    'options'     => array(        
        'google-ads' => __('Google', 'woocommerce' ),
        'google-search' => __('Yahoo', 'woocommerce' ),
        'warrior-forum' => __('Bing', 'woocommerce' ),
        'facebook' => __('Facebook', 'woocommerce' ),
        'other' => __('Other', 'woocommerce' ),
        )
    );

     return $fields;
} 
```

问题是：我没有在我的邮件中获得添加到计费字段的自定义字段的值。任何已经使用过的人都`woocommerce`可以帮助我...？

我已经创建了一些添加到结帐中的更多自定义字段（但这些字段没有与核心字段一起添加），对于这些字段，我可以在我的邮件中获取值..

顺便说一句，我检查了这个[线程](http://wcdocs.woothemes.com/snippets/tutorial-customising-checkout-fields-using-hooks-and-filters/)：但没有太多与邮件相关的信息..

请有人调查一下这个..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-08T08:43:32.067

对于未来的读者，自定义计费/运输字段将保存为订单发布的发布元数据。所以一般来说，您可以使用典型的 WordPress`get_post_meta()`功能检索它们。

但是在 WooCommerce 2.2 中，您不需要，因为您可以将字段名称直接传递给 WC 将在电子邮件中显示为列表的字段数组：

```
// pre-WooCommerce 2.3
function kia_email_order_meta_keys( $keys ) {
    $keys['Some field'] = '_some_field';
    return $keys;
}
add_filter('woocommerce_email_order_meta_keys', 'kia_email_order_meta_keys'); 
```

这个方法在 2.3 版本中已经被弃用了，可能这样翻译会更好。从 2.3 开始，您将需要针对不同的过滤器并发送稍微不同的数据。

```
// WooCommerce 2.3+
function kia_email_order_meta_fields( $fields, $sent_to_admin, $order ) {
    $fields['some_field'] = array(
                'label' => __( 'Some field', 'my-plugin-textdomain' ),
                'value' => get_post_meta( $order->id, '_some_field', true );
            );
    return $fields;
}
add_filter('woocommerce_email_order_meta_fields', 'kia_email_order_meta_keys', 10, 3 ); 
```

[我写了一个关于自定义 WooCommerce 结帐字段](http://www.kathyisawesome.com/517/woocommerce-customize-checkout-fields/)的教程

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-24T17:06:20.343

我相信法典中的这个答案是专门为此目的的：

[http://wcdocs.woothemes.com/snippets/add-a-custom-field-in-an-order-to-the-emails](http://wcdocs.woothemes.com/snippets/add-a-custom-field-in-an-order-to-the-emails)

我自己还没有实现，但这可能是你最好的选择。

# c# - 32 位机器中的 Adob e PDF IFilter

> ID：13985621
> 
> 赞同：0
> 
> 时间：2012-12-21T06:55:50.947
> 
> 标签：c#, ifilter

我正在`PDF`使用 PDF IFilter 6.0 为应用程序中的文件编制索引，但出现以下异常：

```
System.AccessViolationException: 
Attempted to read or write protected memory. 
This is often an indication that other memory is corrupt.    

at EPocalipse.IFilter.IFilter.Init(IFILTER_INIT grfFlags, Int32 cAttributes, IntPtr aAttributes, IFILTER_FLAGS& pdwFlags)    
at EPocalipse.IFilter.FilterLoader.LoadAndInitIFilter(String fileName, String extension)
at EPocalipse.IFilter.FilterLoader.LoadAndInitIFilter(String fileName)    
at EPocalipse.IFilter.FilterReader..ctor(String fileName) 
```

我正在使用 Win 7 32 位机器。PDF IFilter 是否适用于 Win 7？

我的应用程序是多线程的，Ifilter 是否适用于多线程？我也尝试过使用`STAThread`但得到了同样的例外。还尝试在实例化阅读器时加锁，但没有加锁。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T16:35:44.220

您不能多线程 Adob​​e IFilter，它是为单线程公寓设计的。

使用 IFilter Explorer 了解哪个 IFilter 是 STA：[http ://www.citeknet.com/Products/IFilters/IFilterExplorer/tabid/62/Default.aspx](http://www.citeknet.com/Products/IFilters/IFilterExplorer/tabid/62/Default.aspx)

如果您想让您的应用程序为其他过滤器保持多线程，您可以使用的解决方案是旋转一个专用于 STA IFilters 的线程，并在应用程序的整个生命周期内保留它。然后，您始终在同一线程中处理需要 STA 的文档。

# java - alertdialog 导致内存错误

> ID：13985622
> 
> 赞同：0
> 
> 时间：2012-12-21T06:55:51.803
> 
> 标签：java, android, android-alertdialog

我正在尝试使用下面的代码设置一个警报对话框，但应用程序在这一点上不断崩溃。有什么明显的错误吗？

```
AlertDialog alertDialog = new AlertDialog.Builder( 
    Crossword1.this).create(); 
    alertDialog.setTitle("Well done, the crossword is complete!");
    alertDialog.setMessage("well done cuz");
    alertDialog.setIcon(R.drawable.tick);
    alertDialog.setButton("OK", new DialogInterface.OnClickListener() { 
        public void onClick(DialogInterface dialog, int which) { 

        } 
    });
alertDialog.show(); 
```

下面的 Logcat 提到了内存，尽管我不明白为什么 alertdialog 框会导致内存错误（如果 alertdialog 被注释掉，应用程序运行良好）

```
 12-21 17:57:33.180: D/BounceScrollRunnableDefault(24966): start(1554.2593), mBounceExtent:0.0
    12-21 17:57:33.180: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -205.16223
    12-21 17:57:34.335: D/BounceScrollRunnableDefault(24966): start(0.0), mBounceExtent:-11.0
    12-21 17:57:34.335: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -11.0
    12-21 17:57:34.555: D/BounceScrollRunnableDefault(24966): start(0.0), mBounceExtent:-19.245642
    12-21 17:57:34.555: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -19.245642
    12-21 17:57:35.505: I/dalvikvm-heap(24966): Clamp target GC heap from 65.159MB to 64.000MB
    12-21 17:57:35.505: D/dalvikvm(24966): GC_FOR_ALLOC freed 580K, 2% free 64467K/65479K, paused 20ms
    12-21 17:57:35.505: I/dalvikvm-heap(24966): Forcing collection of SoftReferences for 2903056-byte allocation
    12-21 17:57:35.545: I/dalvikvm-heap(24966): Clamp target GC heap from 65.151MB to 64.000MB
    12-21 17:57:35.545: D/dalvikvm(24966): GC_BEFORE_OOM freed 9K, 2% free 64458K/65479K, paused 27ms
    12-21 17:57:35.545: E/dalvikvm-heap(24966): Out of memory on a 2903056-byte allocation. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:03:56.670

我认为您的问题可能来自您的操作方式。我从 android 文档中得到这个

```
// 1\. Instantiate an AlertDialog.Builder with its constructor
    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());

// 2\. Chain together various setter methods to set the dialog characteristics
    builder.setMessage(R.string.dialog_message)
       .setTitle(R.string.dialog_title);

// 3\. Get the AlertDialog from create()
    AlertDialog dialog = builder.create(); 
```

当您像这样创建它时，`AlertDialog alertDialog = new AlertDialog.Builder( Crossword1.this).create();`您并没有真正在其中设置任何东西。你应该最后创建。然后展示它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:04:36.177

在将视图分配给 UI 之前创建对话框。错误可能在这里::

```
AlertDialog alertDialog = new AlertDialog.Builder( 
    Crossword1.this).create(); 
```

这样做..

```
AlertDialog.Builder builder= new AlertDialog.Builder(
                    Crossword1.this)
                                        .setTitle("Well done, the crossword is complete!");
                                        .setMessage("....")
                    .setCancelable(false)
                    .setPositiveButton("Ok", new   DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog, int whichButton) {
                            //ur code
                        }
                    });
            return builder.create(); 
```

核实..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T07:08:19.530

***感谢@Andro Selva 的回答*** 内存问题是由图标引起的。如果我注释掉代码的图标行，那么对话框运行良好。

如果我像这样调整图标的大小，那么整个事情运行良好

```
 //---scales the alertdialog items to the right size---
    Bitmap bitmapOrg = BitmapFactory.decodeResource(getResources(), R.drawable.tick); 
    int width = bitmapOrg.getWidth(); 
    int height = bitmapOrg.getHeight(); 
    int newWidth = 200; 
    int newHeight = 200;

    // calculate the scale - in this case = 0.4f 
    float scaleWidth = ((float) newWidth) / width;
    float scaleHeight = ((float) newHeight) / height; 

    // create matrix for the manipulation
    Matrix matrix = new Matrix();  

    // resize the bit map
    matrix.postScale(scaleWidth, scaleHeight);

    // rotate the Bitmap
    matrix.postRotate(0);  

    // recreate the new Bitmap 
    Bitmap resizedBitmap = Bitmap.createBitmap(bitmapOrg, 0, 0, width, height, matrix, true);   

    // make a Drawable from Bitmap to allow to set the BitMap  // to the ImageView, ImageButton or what ever 
    BitmapDrawable bmd = new BitmapDrawable(resizedBitmap); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T07:08:34.693

试试这个代码..

```
AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(
                Crossword1.this);
               // set title
               alertDialogBuilder.setTitle("Well done, the crossword is complete!");
               // set dialog message
               alertDialogBuilder
                .setMessage("well done cuz")
                .setCancelable(false)
                .setPositiveButton("Yes",new DialogInterface.OnClickListener() {
                 public void onClick(DialogInterface dialog,int id) {
                  // if this button is clicked, 
                  // DO YOUR CODE HERE

                  //Here I start new activity
                  Intent i = new Intent(MainActivity.this, abcd.class);
                  startActivity(i);
                 }
                  })
                .setNegativeButton("No",new DialogInterface.OnClickListener() {
                 public void onClick(DialogInterface dialog,int id) {
                  // if this button is clicked, just close
                  // the dialog box and do nothing
                  dialog.cancel();
                 }
                });
                // create alert dialog
                AlertDialog alertDialog = alertDialogBuilder.create();
                // show it
                alertDialog.show(); 
```

更多细节[请参考这个博客](http://glorious-arvind.blogspot.in/2012/11/alert-dailog-in-android.html)

# regex - 提取百分比的正则表达式

> ID：13985628
> 
> 赞同：3
> 
> 时间：2012-12-21T06:56:01.033
> 
> 标签：regex, linux, shell

我有如下字符串：`blabla a13724bla-bla244 35%`

请注意，百分比之前总是有一个空格。我想`%`使用 Linux shell 从这些字符串中提取百分比数字（所以，没有 ）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T12:03:40.033

假设你有 GNU grep：

```
$ grep -oP '\d+(?=%)' <<< "blabla a13724bla-bla244 35%"
35 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T07:13:40.230

使用 sed：

```
echo blabla a13724bla-bla244 35% | sed 's/.*[ \t][ \t]*\([0-9][0-9]*\)%.*/\1/' 
```

如果您希望一行中有多个百分比，那么：

```
echo blabla 20% a13724bla-bla244 35% | \
   sed -e 's/[^%0-9 ]*//g;s/  */\n/g' | sed -n '/%/p' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T06:59:44.223

你可以试试这个

```
echo "blabla a13724bla-bla244 35%" | cut -d' ' -f3 | sed 's/\%//g' 
```

注意：假设输入始终采用这种格式，百分比是用空格分隔的第三个标记。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T06:58:18.603

你可以试试这个正则表达式：

```
/\s(\d+%)/ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-21T06:59:01.707

使用这个正则表达式：

```
\s(\d{1,3})% 
```

如果你在 shell 中需要它，你可以使用 sed 或这​​个 perl 单行：

```
echo "blah 35%" | perl -pe "s/.*\s(\d{1,3})%/\1/g"
35 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-21T07:11:59.010

如果您总是有许多连续的列，也许您应该尝试使用 awk 而不是常规表达式。

```
cat file.txt |awk '{print $3}'  |cut -d "%" -f 1 
```

使用此代码，您可以获得第三列。

# android - 最新 Android 支持库上的垂直 Viewpager 出现错误

> ID：13985631
> 
> 赞同：6
> 
> 时间：2012-12-21T06:56:18.353
> 
> 标签：android, android-viewpager, android-support-library, swipeview

我正在使用[Jake Wharton 的 VerticalViewpager，](https://github.com/JakeWharton/Android-DirectionalViewPager)但它在最新的 Android 支持库中出现错误：

```
package android.support.v4.view;

public final class VerticalViewPagerCompat {
private VerticalViewPagerCompat() {}

  public interface DataSetObserver extends PagerAdapter.DataSetObserver {}

  public static void setDataSetObserver(PagerAdapter adapter, DataSetObserver observer) {
    adapter.setDataSetObserver(observer);
  }
} 
```

错误是“PagerAdapter.DataSetObserver 无法解析为类型”。最新的支持库改变了 DataSetObserver 的行为，并且 Vertical Viewpager 不再工作。有谁知道如何解决这个问题？

# php - 我可以使用 $_POST 从数据库中获取信息吗？

> ID：13985635
> 
> 赞同：-2
> 
> 时间：2012-12-21T06:56:30.150
> 
> 标签：php, mysql, database, insert

我正在尝试从您在表单中输入的 ID 获取信息。ID 是 ID 的位置，它会从您在表单中输入 ID 的信息中获取信息。这是表单和 Mysql $row 部分..

```
<input type="text" class="DeathForms" name="userid" maxlength="4" /><br />

$result = mysql_query("SELECT name FROM users WHERE id='".$_POST['userid']."'") 
or die(mysql_error());
while($row = mysql_fetch_array( $result )) {
} 
```

现在我想要得到的部分是让它显示来自 $_POST['userid'] 的行。有可能这样做吗？这是我目前拥有的..

```
<?php
if ( isset ( $_POST['userid'] ) )
{
file_put_contents('deathlist_' . $id . '.txt', "\n" . '
   <table width="800" align="center" class="DeathTable">
 <tr>
<td width="200" align="center" class="DeathName"><a class="DeathName" href="user?id=' .     $_POST['userid'] .'">' . $row['name'] . '</a></td>
<td width="200" align="center" class="DeathLevel">' . $_POST['threat'] . '</td> 
</tr>
</table><br />' . file_get_contents ( 'deathlist_' . $id . '.txt' ) );
}

?>

          <?php
      if ( file_exists ( 'deathlist_' . $id . '.txt' ) )
      {
        echo  file_get_contents('deathlist_' . $id . '.txt') . '</span>';
      }
      ?> 
```

是否可以从 $_POST['userid'] 的 id 获取数据库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:03:34.603

第一个提示：假设这不是一些示例数据，您至少应该转义您在查询中使用的变量，或者最好使用 PDO 或 MySQLi。

我不完全确定我明白你在问什么。只要您在`while()`循环内正确引用列名（即`$row["column_name"]`）并将其回显，一切都应该没问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T06:58:17.277

你需要`echo`它（如果我理解你的问题）

```
echo $_POST['userid']; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T07:00:19.347

```
<?php
if ( isset ( $_POST['userid'] ) ){
    $result = mysql_query("SELECT name FROM users WHERE id='".$_POST['userid']."'") 
              or die(mysql_error());

    while($row = mysql_fetch_array( $result )) {
        echo $row['threat'];
    }
}
?> 
```

# oracle - 如何在 Oracle Directory Server 企业版中添加/启用 memberOf 属性

> ID：13985637
> 
> 赞同：0
> 
> 时间：2012-12-21T06:56:32.467
> 
> 标签：oracle, ldap, directory-server

我确认`MemberOf Plugin`已在 Oracle Directory Server 中启用，`memberOf`属性位于 Schema: Attributes 的 Standard Attributes 列表中。在 memberOf 属性的详细信息中，列表中有三个条目`Used as Allowed by`：`inetAdmin`、`inetUser`、`nsManagedPerson`。

但并非所有用户帐户都属于他们。相反，它们有 ObjectClass: `inetOrgPerson`, `organizationalPerson`, `person`, `top`。而且似乎我无法向用户添加额外的 ObjectClass。

如何为现有用户帐户启用或添加 memberOf 属性？它如何自动将组名或 DN 填充到所有用户帐户？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-04-29T11:03:52.213

正如 ixe013 指出的那样，ODSEE 将其属性命名为“isMemberOf”而不是“memberOf”。在 OpenLDAP 上，您的搜索将如下所示：

```
ldapsearch -x -w password -D "uid=abergin,ou=People,dc=odsee-qa,dc=qa,dc=abc,dc=com" -b "uid=abergin,ou=People,dc=odsee-qa,dc=qa,dc=abc,dc=com" '(objectclass=*)' "memberOf" 
```

对于 ODSEE，您将使用以下内容：

```
ldapsearch -x -w password -D "uid=abergin,ou=People,dc=odsee-qa,dc=qa,dc=abc,dc=com" -b "uid=abergin,ou=People,dc=odsee-qa,dc=qa,dc=abc,dc=com" '(objectclass=*)' "isMemberOf" 
```

它返回如下内容：

```
version: 1
dn: uid=abergin, ou=People, dc=odsee-qa,dc=qa,dc=abc,dc=com
isMemberOf: cn=QA Managers,ou=groups,dc=odsee-qa,dc=qa,dc=abc,dc=com
isMemberOf: cn=Accounting Managers,ou=groups,dc=odsee-qa,dc=qa,dc=abc,dc=com 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-23T12:17:38.627

我不再使用旧版 DSEE，但如果我没记错的话，该`memberOf`属性是由目录服务器根据组成员身份生成的，而不是添加到条目中。例如，如果一个组具有以下属性：

```
dn: cn=staff,ou=groups,dc=example,dc=com
objectClass: top
objectClass: groupOfUniqueNames
objectClass: posixGroup
description: The 'staff' group.
cn: staff
gidNumber: 50
memberUid: debianuser
memberUid: user1
uniqueMember: uid=user1,ou=people,dc=example,dc=com 
```

该条目`user1`具有以下属性：

```
dn: uid=user1,ou=people,dc=example,dc=com
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: shadowAccount
uid: user1
cn: my-common-name
sn: my-surname
loginShell: /bin/bash
userPassword: {SSHA512}SCMmLlStPIxVtJc8Y6REiGTMsgSEFF7xVQFoYZYg39H0nEeDuK/fWxxNZ
 CdSYlRgJK3U3q0lYTka3Nre2CjXzeNUjbvHabYP
homeDirectory: /home/user1
uidNumber: 1002
gidNumber: 50
shadowLastChange: 15645 
```

请求该`memberOf`属性会产生以下结果：

```
ldapsearch -LLLh localhost -p 1389 -D cn=RootDN -w xxxxxx -b uid=user1,ou=people,dc=example,dc=com -s base -l1 -z1 '(&)' memberOf
dn: uid=user1,ou=people,dc=example,dc=com
memberOf: cn=staff,ou=groups,dc=example,dc=com 
```

`memberOf`属性不是**物理**属性，而是**虚拟**属性。

如果 LDAP 客户端无法将`objectClass`属性添加到条目，可能有以下原因：

*   LDAP 客户端的授权状态不允许客户端修改条目
*   LDAP 客户端正在尝试将第二个结构 objectClass 属性添加到条目。多个结构对象类是非法的，但旧版 Sun DSEE 的一些损坏版本仍然允许这样做。

# c++ - 如何从方法返回动态指针数组

> ID：13985646
> 
> 赞同：1
> 
> 时间：2012-12-21T06:57:20.303
> 
> 标签：c++, visual-studio-2010, function, pointers, dynamic-arrays

请看下面的代码

**车辆管理器.h**

```
#pragma once
#include "Vehicle.h"

class VehicleManager
{
public:
    VehicleManager(int size);
    ~VehicleManager(void);

    bool add(Vehicle *v);
    void display();
    int getCount();
    Vehicle **getList();

private:
    int count;
    int maxVehicles;
    Vehicle** vehicles;
}; 
```

**车辆管理器.cpp**

```
//Other Code

Vehicle VehicleManager::**getList()
{
    return vehicles;
}

//Other Code 
```

在这里，我无法返回数组。如何从函数返回动态指针数组？请帮忙！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T07:01:04.890

将 应用于`**`返回类型：

```
Vehicle** VehicleManager::getList()
{
    return vehicles;
} 
```

但是你真正应该做的是使用`std::vector<Vehicle*>`if`VehicleManager`负责动态分配的生命周期`Vehicles`，或者`std::vector<std::unique_ptr<Vehicle>`如果调用者要获得所有权。在这两种情况下，您都可以按值返回它。

# php - 如何将 PHP 'GET' URL 变量传递给 AJAX？

> ID：13985648
> 
> 赞同：-4
> 
> 时间：2012-12-21T06:57:23.700
> 
> 标签：php, ajax, jquery, ajax-request

我正在尝试将 PHP GET 变量传递给 AJAX，以便根据传递的 ID 将适当的内容加载到同一页面上，但我不知道该怎么做。ID 由循环动态生成，ID 在下面的图像超链接中给出。因此，基本上，当他们单击包含链接及其传递的 id 的图像时，新内容将加载到同一页面上。

下面是代码。

```
<div id="myDiv">
  <h2>Let AJAX change this text</h2> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:04:37.000

尝试将参数放入您调用的函数中...

```
onclick='loadXMLDoc(".$row['ID'].")' 
```

或者您可以将 $row['ID'] 放在输入中并设置为隐藏，然后使用 ajax 检索值。

```
<input type="hidden" value="<?php echo $row['ID']; ?>" id="someid" /> 
```

取回

```
var ID = $('#someid').val(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:05:45.683

您想使用全局 $_GET 变量。

例子：

`www.some-url.com/script.php?id=1337`

并在脚本中访问它：

```
echo $_GET['id']
> 1337 
```

# ruby - 硒 webdiver 2 ruby 中的 Mouse Up

> ID：13985653
> 
> 赞同：3
> 
> 时间：2012-12-21T06:57:57.530
> 
> 标签：ruby, selenium-webdriver

我必须单击带有 selenium 的 jquery 下拉菜单。发现

```
MouseUp[xpath=//a[contains(text(),'itemname')] 
```

在IDE中工作。但是我很茫然，因为我无法在 ruby​​ webdriver 中模拟它。是否可以使用动作类来模拟它？如果有怎么办？请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T13:59:14.970

[查看 Selenium WebDriver 文档http://seleniumhq.org/docs/03_webdriver.jsp#user-input-filling-in-forms](http://seleniumhq.org/docs/03_webdriver.jsp#user-input-filling-in-forms)上的填写表单部分

这应该会引导您解决问题的正确方向。

# android - Android：在 TableRows 之间动态地将 TableRow 插入 TableLayout

> ID：13985665
> 
> 赞同：3
> 
> 时间：2012-12-21T06:58:40.910
> 
> 标签：android, android-layout, tablerow, android-tablelayout

在我的应用程序中，有四五行是我动态插入到 TableLayout 中的。在第三行中，有一个按钮可以捕捉照片，然后在按钮下方显示这张照片。

在此应用程序中，我还将根据此代码的上述选择从 TableLayout 中删除一些行

```
tableLayoutRow1.setVisibility(View.GONE); 
```

为了显示 Image 我正在为 Image 创建一个 TableRow 并通过以下代码在 TableLayout 中插入这一行：

```
tableLayout.addView(tableRowImages, 4, new TableLayout.LayoutParams(
            LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT)); 
```

在这里我提供 index = 4。这是第一次完美工作，但下次当我单击按钮时，此行不会显示在按钮下方。

# mysql - 如何在 CakePHP 的枚举类型列中保存数据

> ID：13985668
> 
> 赞同：0
> 
> 时间：2012-12-21T06:58:43.877
> 
> 标签：mysql, enums, cakephp-2.0

> **可能重复：**
> [CakePHP 2.0 - 使用带有表单助手的 MySQL ENUM 字段来创建选择输入](https://stackoverflow.com/questions/8600330/cakephp-2-0-use-mysql-enum-field-with-form-helper-to-create-select-input)

我的表单中有一个复选框。该复选框在数据库中有一个枚举类型列。如果选中该复选框，我需要在该列中保存 1 否则为 0。

我正在使用 CakePHP 的保存函数来保存所有表单值。当我选中该复选框时，该列更新为 1，但如果我取消选中然后按下提交按钮，它会更新为空值。

如何使用 CakePHP 中的复选框保存枚举类型值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T09:03:33.507

如果您没有定义任何内容，Enum 会将 Null 作为您的列的默认值。更新表定义并将“0”设置为默认值。它会解决你的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T11:01:13.973

或者您将列类型更改为 tinyint (0/1)（例如在 MySQL 中）：

```
ALTER TABLE users CHANGE COLUMN active active tinyint not null default 0; 
```

或者，验证该值是否通过（或检查），例如：

```
if($this->request->data['User']['active'] == null) {
    $this->request->data['User']['active'] = 0;
} 
```

# python - 从python中的内部函数修改函数变量

> ID：13985671
> 
> 赞同：4
> 
> 时间：2012-12-21T06:58:56.687
> 
> 标签：python, function, variables, scope

获取并打印外部函数变量就可以了`a`

```
def outer():
    a = 1
    def inner():
        print a 
```

获取外部函数数组`a`并附加一些东西也可以

```
def outer():
    a = []
    def inner():
        a.append(1)
        print a 
```

但是，当我尝试增加整数时，它引起了一些麻烦：

```
def outer():
    a = 1
    def inner():
        a += 1 #or a = a + 1
        print a

>> UnboundLocalError: local variable 'a' referenced before assignment 
```

为什么会发生这种情况，我怎样才能实现我的目标（增加整数）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T07:01:10.333

在 Python 3 中，您可以使用`nonlocal`关键字来执行此操作。`nonlocal a`在开头做`inner`标记`a`为非本地。

在 Python 2 中这是不可能的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T07:04:18.123

通常更清洁的方法是：

```
def outer():
    a = 1
    def inner(b):
        b += 1
        return b
    a = inner(a) 
```

Python 允许的很多，但非局部变量通常可以被认为是“脏”的（这里不再赘述）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-21T07:43:53.123

Python 2 的解决方法：

```
def outer():
    a = [1]
    def inner():
        a[0] += 1
        print a[0] 
```

# xpath - 如何在 xpath 中选择值

> ID：13985675
> 
> 赞同：1
> 
> 时间：2012-12-21T06:59:20.493
> 
> 标签：xpath

```
<DocumentList>
  <DocumentId>node1175251</DocumentId>
  <DocumentId>node1175254</DocumentId>
  <DocumentId>node1175385</DocumentId>
</DocumentList> 
```

我有这个`Xml`。我想选择 的值`DocumentId`。我需要**xpath**来选择值。有人帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T17:14:10.403

> 我想选择 DocumentId 的值。我需要 xpath 来选择值。有人帮我吗？

**这将选择所有`DocumentId` *元素*：**

```
/*/DocumentId 
```

**这将选择第一个`DocumentId`元素：**

```
/*/DocumentId[1] 
```

**这将选择第二个`DocumentId`元素：**

```
/*/DocumentId[2] 
```

**这将选择最后一个`DocumentId`元素：**

```
/*/DocumentId[last()] 
```

上述所有 XPath 表达式选择节点（元素）。

XPath 表达式不选择值。它可能会*产生*一个价值。此外，您实际要求的是特定元素的*字符串值：*`DocumentId`

**此 Xpath 表达式生成第一个`DocumentId`元素的字符串值：**

```
string(/*/DocumentId[1]) 
```

**此 Xpath 表达式生成第二个`DocumentId`元素**的字符串值：

```
string(/*/DocumentId[2]) 
```

**此 Xpath 表达式生成最后一个`DocumentId`元素的字符串值：**

```
string(/*/DocumentId[last()]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:03:00.960

```
/DocumentList/DocumentId

/DocumentList/DocumentId[1]  // for the first instance
/DocumentList/DocumentId[last()]  // for the last instance 
```

此外，`/DocumentList/`将确保 /DocumentId[1] 在 DocumentList 标记内

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-21T07:07:28.910

使用`.eq( index )` java脚本函数

使用索引作为参数获取xml节点的值

# python - 无法使用 monkeyrunner 识别文本

> ID：13985678
> 
> 赞同：1
> 
> 时间：2012-12-21T06:59:53.600
> 
> 标签：python, monkeyrunner

我有一个脚本可以找到一个文本视图，获取它的坐标并单击它。为了单击，我必须滚动并找到该文本视图。脚本如下，

```
text = 'abc'
self.device.drag((400,600), (300, 200), 0.01, 120)
tv = self.vc.findViewWithText(text)
if tv:
    (x, y) = tv.getXY()
    print >>sys.stderr, "Clicking TextView %s @ (%d,%d) ..." % (text, x, y)
    tv.touch()
else:
        print "Text is not found" %text 
```

它确实拖动。尽管存在文本“abc”，但它会打印“找不到文本”。

我删除了 drag() 方法，并手动进行了拖动，它工作正常（识别文本并单击）。

谁能知道我的 drag() 方法有什么问题。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-29T07:04:23.933

`AndroidViewClient.dump()`转储屏幕上当前显示的内容，因此如果您必须滚动以使其`TextView`可见，它将不会出现在第一个（隐式）转储中。因此，您必须在滚动后再次转储：

```
text = 'abc'
self.device.drag((400,600), (300, 200), 0.01, 120)
MonkeyRunner.sleep(3)
self.vc.dump()
tv = self.vc.findViewWithText(text)
if tv:
    (x, y) = tv.getXY()
    print >>sys.stderr, "Clicking TextView %s @ (%d,%d) ..." % (text, x, y)
    tv.touch()
else:
        print "Text is not found" %text 
```

或者

```
text = 'abc'
self.device.drag((400,600), (300, 200), 0.01, 120)
MonkeyRunner.sleep(3)
self.vc.dump()
self.vc.findViewWithTextOrRaise(text).touch() 
```

Also take into accout the point mentioned by [NRP](https://stackoverflow.com/users/1838878/nrp) about the sleep.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-24T10:25:05.757

MonkeyRunner 执行所有命令的速度非常快，因此在它开始查找视图之前，您必须有一段时间添加睡眠。所以你的代码会像。

```
text = 'abc'
self.device.drag((400,600), (300, 200), 0.01, 120)
MonkeyRunner.sleep(1)
tv = self.vc.findViewWithText(text)
if tv:
    (x, y) = tv.getXY()
    print >>sys.stderr, "Clicking TextView %s @ (%d,%d) ..." % (text, x, y)
    tv.touch()
else:
        print "Text is not found" %text 
```

# python - 如何在字典列表中找到公共键并按值排序？

> ID：13985686
> 
> 赞同：5
> 
> 时间：2012-12-21T07:00:40.377
> 
> 标签：python, list, sorting, dictionary

我想创建一个包含公共键和它们的值总和的 finalDic

```
myDic = [{2:1, 3:1, 5:2}, {3:4, 6:4, 2:3}, {2:5, 3:6}, ...] 
```

首先找到常用键

```
commonkey = [{2:1, 3:1}, {2:3, 3:4}, {2:5, 3:6}] 
```

然后求和并按它们的值排序

```
finalDic= {3:11, 2,9} 
```

我已经尝试过了，甚至没有关闭我想要的

```
import collections

myDic = [{2:1, 3:1, 5:2}, {3:4, 6:4, 2:3}, {2:5, 3:6}]

def commonKey(x):
    i=0
    allKeys = []
    while i<len(x):
        for key in x[0].keys():
            allKeys.append(key)
        i=i+1
    commonKeys = collections.Counter(allKeys)
    commonKeys = [i for i in commonKeys if commonKeys[i]>len(x)-1]
    return commonKeys

print commonKey(myDic) 
```

谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-21T07:13:31.673

这是我的做法：

```
my_dict = [{2:1, 3:1, 5:2}, {3:4, 6:4, 2:3}, {2:5, 3:6}]

# Finds the common keys
common_keys = set.intersection(*map(set, my_dict))

# Makes a new dict with only those keys and sums the values into another dict
summed_dict = {key: sum(d[key] for d in my_dict) for key in common_keys} 
```

或者作为一个疯狂的单线：

```
{k: sum(d[k] for d in my_dict) for k in reduce(set.intersection, map(set, my_dict))} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T07:10:42.063

只有一些指针：

*   从每个目录中获取密钥，然后将它们转换为 set() 并计算 intersection() 或所有密钥集。这将为您提供公共密钥。
*   现在迭代原始数据并总结每个字典的匹配值是直截了当的

实施留给 OP 作为练习。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T07:49:28.283

```
l = [{2:1, 3:1, 5:2}, {3:4, 6:4, 2:3}, {2:5, 3:6}]

new_dict = {}

def unique_key_value(a,b):
    return set(a).intersection(set(b))

def dict_sum(k, v):
    if k not in new_dict.keys():
        new_dict[k] = v
    else:
        new_dict[k] = new_dict[k] + v

for i in reduce(unique_key_value, l):
    for k in l:
        if i in k.keys():
            dict_sum(i, k[i])

print new_dict 
```

希望这可以帮助。:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-21T14:45:35.977

蟒蛇3.2

```
from collections import defaultdict
c=defaultdict(list)
for i in myDic:
     for m,n in i.items():
            c[m].append(n)
new_dic={i:sum(v) for i,v in c.items()if len(v)==len(myDic)}
print(new_dic) 
```

# yii - 如何显示天气相关信息？

> ID：13985689
> 
> 赞同：0
> 
> 时间：2012-12-21T07:00:44.027
> 
> 标签：yii, weather

我在 Yii-php 框架中工作。我正在创建功能，它将从某些天气网站（假设 weather.com）检索天气相关信息因此在 Yii 中，如何从某个站点接收天气相关信息并将其显示在视图中。我们可以为此使用网络服务吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:26:35.063

检查此扩展[NOAA 天气扩展](http://www.yiiframework.com/extension/noaaweather/)

NOAA Weather Extension 使用美国国家海洋和大气管理局 (NOAA) 和国家气象局 (NWS) 提供的数据。特点包括：

1.  项目清单

2.  预制的天气小部件，您可以快速添加到您的站点数据

3.  允许完全访问原始天气数据的提供商 智能

4.  下载重试和缓存行为与专有服务不同，所有天气数据都在公共领域

# c# - 如何一次读取一行 csv 文件并随时替换/编辑某些行？

> ID：13985700
> 
> 赞同：11
> 
> 时间：2012-12-21T07:01:29.167
> 
> 标签：c#, .net, parsing, csv

我有一个 60GB 的 csv 文件，我需要对其进行一些修改。客户希望对文件数据进行一些更改，但我不想重新生成该文件中的数据，因为这需要 4 天时间。

如何逐行读取文件（而不是将其全部加载到内存中！），并在进行时对这些行进行编辑，替换某些值等？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-21T07:15:15.260

该过程将是这样的：

1.  打开一个`StreamWriter`临时文件。
2.  打开一个`StreamReader`到目标文件。
3.  对于每一行：
    1.  根据分隔符将文本拆分为列。
    2.  检查要替换的值的列，然后替换它们。
    3.  使用分隔符将列值重新连接在一起。
    4.  将该行写入临时文件。
4.  完成后，删除目标文件，并将临时文件移动到目标文件路径。

关于第 2 步和第 3.1 步的注意事项：如果您对文件的结构有信心并且它足够简单，那么您可以按照所述开箱即用地完成所有这些操作（稍后我将包含一个示例）。但是，可能需要注意 CSV 文件中的一些因素（例如识别何时在列值中按字面意思使用分隔符）。您可以自己苦苦挣扎，或尝试[现有的解决方案](http://www.codeproject.com/Articles/9258/A-Fast-CSV-Reader)。

* * *

`StreamReader`仅使用and 的基本示例`StreamWriter`：

```
var sourcePath = @"C:\data.csv";
var delimiter = ",";
var firstLineContainsHeaders = true;
var tempPath = Path.GetTempFileName();
var lineNumber = 0;

var splitExpression = new Regex(@"(" + delimiter + @")(?=(?:[^""]|""[^""]*"")*$)");

using (var writer = new StreamWriter(tempPath))
using (var reader = new StreamReader(sourcePath))
{
    string line = null;
    string[] headers = null;
    if (firstLineContainsHeaders)
    {
        line = reader.ReadLine();
        lineNumber++;

        if (string.IsNullOrEmpty(line)) return; // file is empty;

        headers = splitExpression.Split(line).Where(s => s != delimiter).ToArray();

        writer.WriteLine(line); // write the original header to the temp file.
    }

    while ((line = reader.ReadLine()) != null)
    {
        lineNumber++;

        var columns = splitExpression.Split(line).Where(s => s != delimiter).ToArray();

        // if there are no headers, do a simple sanity check to make sure you always have the same number of columns in a line
        if (headers == null) headers = new string[columns.Length];

        if (columns.Length != headers.Length) throw new InvalidOperationException(string.Format("Line {0} is missing one or more columns.", lineNumber));

        // TODO: search and replace in columns
        // example: replace 'v' in the first column with '\/': if (columns[0].Contains("v")) columns[0] = columns[0].Replace("v", @"\/");

        writer.WriteLine(string.Join(delimiter, columns));
    }

}

File.Delete(sourcePath);
File.Move(tempPath, sourcePath); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-21T07:18:22.167

内存映射文件是 .NET Framework 4 中的一项新功能，可用于编辑大文件。在这里阅读[http://msdn.microsoft.com/en-us/library/dd997372.aspx](http://msdn.microsoft.com/en-us/library/dd997372.aspx) 或谷歌内存映射文件

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T07:23:28.380

只需使用 streamreader 逐行读取文件，然后使用 REGEX！世界上最神奇的工具。

```
using (var sr = new StreamReader(new FileStream(@"C:\temp\file.csv", FileMode.Open)))
        {
            var line = sr.ReadLine();
            while (!sr.EndOfStream)
            {
                // do stuff

                line = sr.ReadLine();
            }

        } 
```

# jquery-ui - Chrome 和 Firefox 的 jqueryui 可排序问题

> ID：13985707
> 
> 赞同：2
> 
> 时间：2012-12-21T07:01:53.097
> 
> 标签：jquery-ui, cross-browser, jquery-ui-sortable

我创建了一个带有排序功能的水平滚动容器。

有一些要求：

*   边界框是固定宽度
*   溢出时必须滚动，不换行

这是 JSFiddle： http: [//jsfiddle.net/6vXG2/](http://jsfiddle.net/6vXG2/)（拖动带有粉色标题的列）

这完美适用于：IE9、Opera、Safari

但不适用于：Chrome、Firefox

在 Chrome 和 Firefox 中，元素开始跳跃。（顺便说一句，Firefox 上的行为在 Windows 和 OSX 之间是不同的，使用完全相同的版本 - 17.0.1）

最初使用 设计它时`float:left`，所有浏览器的行为都正确，但由于没有包装要求，我不能使用它。

任何想法如何解决这一问题？或者这是一个 jqueryui 错误/问题？

谢谢

**编辑：**

如果我添加`border-collapse: collapse`它在 Chrome 中再次正常运行，但在 Opera 中会中断。

**编辑2：**

找到了一个“弱”的解决方法`float:left`：参见[http://jsfiddle.net/6vXG2/1/](http://jsfiddle.net/6vXG2/1/)。不理想，但目前还可以。仍然开放的建议。

# opencv - 给定两个视图中的 n 个点，如何恢复相机的旋转角度以实现第二个视图？

> ID：13985710
> 
> 赞同：3
> 
> 时间：2012-12-21T07:02:11.767
> 
> 标签：opencv, camera, computer-vision, computational-geometry, multiview

假设我们所拥有的只是两个视图中的对应图像点。从这些点，我可以计算出一个单应性/本质矩阵，但是不理解提取相机的旋转角度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T17:32:28.673

我不确定我是否误解了您的问题，但是如果您正在寻找两个相机坐标系之间的旋转矩阵并计算了基本矩阵，那么可以通过对基本矩阵进行 SVD 并执行一些简单的矩阵乘法。

该算法在[此处](http://en.wikipedia.org/wiki/Essential_matrix#Determining_R_and_t_from_E)列出。

# google-maps - 启用浏览器位置跟踪时谷歌地图随机崩溃，为什么？

> ID：13985711
> 
> 赞同：0
> 
> 时间：2012-12-21T07:02:17.930
> 
> 标签：google-maps, crash, geolocation

您可以访问[实时网站](http://mobiilivantaa.lightscreenmedia.com/list)以查看问题是如何发生的。

查看错误的步骤如下

1.  转到实时网站。
2.  启用浏览器的位置跟踪。
3.  单击一个地名，它将打开一个新选项卡。它将显示谷歌地图，并根据 URL 参数将地图居中在您单击的位置。

问题是有时它不是随机工作的，它显示的是纯灰色背景而不是显示地图。如果您尝试刷新或再次单击该地名。地图可能工作。但是如果你突然缩小，它就会崩溃。您需要单击标记或拖动地图，然后您可以毫无问题地缩小。

**当您关闭浏览器的位置跟踪时，所有这些问题都不会发生。**

尝试一下。

PS。不用担心参数的最后 2 或 3 位数字。和这个问题无关，我已经测试过几次了）。控制台日志也不会引发任何错误。

这是我启用浏览器位置跟踪时涉及的代码。我的完整代码在[JSFiddle](http://jsfiddle.net/jpC2v/)上。

```
function initialize() {
    var myOptions = { zoom: 12, mapTypeId: google.maps.MapTypeId.ROADMAP };
    map = new google.maps.Map(document.getElementById("map"), myOptions);
    var infoWindow2 = new google.maps.InfoWindow({ content: '<div style="overflow:hidden;" id="currentInfoWindow"><p>You are here !!!</p></div>' });

    // Try W3C Geolocation (Preferred)
    if(navigator.geolocation) { // BEGIN IF USER ENABLE
      browserSupportFlag = true;
      navigator.geolocation.getCurrentPosition(function(position) { //getCurrentPosition
        querystring = window.location.search.substr(1);
      console.log(querystring);
      element = querystring.split(",");

         if (querystring) {
        clickedLocation = new google.maps.LatLng(element[0],element[1]);
        map.setCenter(clickedLocation);
        map.setZoom(18);
      } else {
        initialLocation = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
      }
      //Set map center to be the user's location
      map.setCenter(initialLocation);

      //Place the marker of current position
      var markerCurrent = new google.maps.Marker({
        position: initialLocation,
        map: map,
        title:"You are here !!!",
        icon : 'assets/frontend/images/yourmarker.png'
      });

      // Attaching a click event to the current marker
      google.maps.event.addListener(markerCurrent, "click", function(e) {
        infoWindow.close();
        this.getMap().setCenter(this.getPosition());
        map.setZoom(12);
        infoWindow2.open(map, markerCurrent);
      });

// IF NOT SUPPORT OR ENABLE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
      } // End getCurrentPosition
        , function() { handleNoGeolocation(browserSupportFlag); });
    } // END IF Browser doesn't support Geolocation
     else { 
         //Other code here.
     } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T09:48:04.987

目前你永远不会遇到这个分支：

```
else {
initialLocation = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
} 
```

因为总有一个QUERY_STRING。

因为那个`initialLocation`没有设置，但是你用它作为`setCenter()`.

改变这一行：

```
clickedLocation = new google.maps.LatLng(element[0],element[1]); 
```

进入

```
initialLocation = new google.maps.LatLng(element[0],element[1]); 
```

...应该解决它。

# c# - MVC 部分视图中的空对象异常

> ID：13985731
> 
> 赞同：1
> 
> 时间：2012-12-21T07:03:47.163
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

我有一个名为 _News 的局部视图，当它自己调用时，它可以按预期工作。

当我使用以下代码从另一个视图调用它时：

```
<div>
  @html.Partial("_News");
</div> 
```

它抛出这个错误：

```
Object reference not set to an instance of an object 
```

在视图中的这行代码处：

```
@foreach (var item in Model) { 
```

视图引用模型的位置。我意识到这意味着视图没有从控制器传递模型，但我对为什么感到困惑。

Controller 称为 NewsController，位于 Controllers 中。该视图称为 _News，位于共享视图中。调用局部视图的视图是默认的主页/索引页面。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:07:19.073

如果您的部分需要访问模型中的数据，则需要将模型传递给`Partial()`方法：

```
@Html.Partial("_News", Model) 
```

MSDN：http: [//msdn.microsoft.com/en-us/library/system.web.mvc.html.partialextensions.partial%28v=vs.108%29.aspx](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.partialextensions.partial%28v=vs.108%29.aspx)

**编辑：**

根据您在下面的评论，我认为您实际上是在此之后： http: [//haacked.com/archive/2009/11/17/aspnetmvc2-render-action.aspx](http://haacked.com/archive/2009/11/17/aspnetmvc2-render-action.aspx) - 这使您可以调用控制器操作并将结果呈现为当前视图。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T07:28:26.637

*您的部分模型可以是主视图模型的子集或属性吗*？*我说*可以*是因为，就 Tieson 而言，您可以处理部分想要的模型和视图想要的模型之间的几乎任何差异......但是如果您的部分想要的模型与您的视图想要的模型相差甚远，那么我通常会认为这可能是我的两个模型没有彻底/正确冲洗掉的可能气味（基本上：“我是否试图在同一页面上表示太多事物或不相关的事物？”）。*

 *此外，如果您可以使您的局部模型成为主视图模型的属性，以便您可以将模型传递给局部，如下所示：

```
@Html.Partial("_News", Model.SomePropertyThatFulfillsTheDataSourceOfThePartial) 
```

然后，如果您需要提交表单，这也将使模型绑定更加容易。*

# f# - FSharp 和向上转换到接口似乎是多余的

> ID：13985733
> 
> 赞同：4
> 
> 时间：2012-12-21T07:03:54.987
> 
> 标签：f#, type-inference, upcasting

我有以下使用反应式扩展的代码片段：

```
 let value : 't = ...

    Observable.Create<'t>(fun observer ->
        let subject = new BehaviorSubject<'t>(value)
        let d0 = subject.Subscribe(observer)
        let d1 = observable.Subscribe(subject)
        new CompositeDisposable(d0, d1) :> IDisposable
    ) 
```

这行得通。但是，如果我将向上转换为 IDisposable，则代码将无法编译，并引用模棱两可的重载。然而 CompositeDisposable 是一个 IDisposable。为什么类型推理引擎无法解决这个问题？请注意，我几乎一直在 C# 中使用此模式，从 Observable.Create 返回 CompositeDisposable，而无需向上转换。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-21T07:23:46.073

正如@kvb 所说，函数不支持变化，因此接口和子类需要向上转换。

这是一个演示子类行为的小示例：

```
type A() =
    member x.A = "A"

type B() =
    inherit A()
    member x.B = "B"

let f (g: _ -> A) = g()

let a = f (fun () -> A()) // works
let b = f (fun () -> B()) // fails 
```

如果函数`f`是您编写的，添加类型约束可能会有所帮助：

```
// This works for interface as well
let f (g: _ -> #A) = g()

let a = f (fun () -> A()) // works
let b = f (fun () -> B()) // works 
```

否则，你必须按照你的例子描述的那样做一个小小的向上转换。

# cordova - Force.com REST API refresh_token 不起作用？

> ID：13985735
> 
> 赞同：1
> 
> 时间：2012-12-21T07:04:02.030
> 
> 标签：cordova, salesforce, force.com

我正在使用 PhoneGap、JQuery mobile 使用 force.com REST API 如果在 Github 中找到它，则使用 REST-API 工具包。我正在使用 ChildBrowser 进行身份验证。

我正在做的是首先我使用 ChildBrowser 登录并获取 access_token，refresh_token 将这些值保存为 cookie。如果我们下次打开应用程序将使用 access_token 直到它过期。当它过期时，我正在尝试使用刷新令牌

forcetk.js --> refreshAccessToekn 方法，通过设置我保存为 cookie 的 refresh_token 来实现。

但它抛出异常 {error: "Invalid_grant","error_description":"expired access/refresh token"}

请帮我一个。我不想每次打开移动应用程序时都使用子浏览器登录。只有在我尝试刷新令牌并使用它之后，它才应该是第一次。

# regex - 如何在同一个字符集中否定和选择

> ID：13985736
> 
> 赞同：1
> 
> 时间：2012-12-21T07:04:03.020
> 
> 标签：regex

这一定很简单，但我似乎找不到答案

假设想要的是使用字符集选择除 3 之外的所有数字

regx =`[0-9]`并`[^3]`同时喜欢`[0-9^3]`，但 regX 引擎不允许它

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:05:57.800

好吧，您可以为此使用负前瞻：

```
/(?!3)[0-9]/ 
```

...但通常更容易从 charclass 本身中排除不需要的字符：

```
/[0-24-9]/ 
```

当您实际上想要匹配任意数量的此类字符时，第二种方法更有益：比较这个...

```
/^[0-24-9]*$/ 
```

... 有了这个：

```
/^(?!.*3)[0-9]*$/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:05:37.893

做类似的事情

```
[0-24-9] 
```

这将包括除 3 之外的所有数字。

我认为您尝试的嵌套字符类仅在一些正则表达式中得到支持。例如在.net中你应该能够做类似的事情

```
[0-9-[3]] 
```

[请参阅正则表达式.info](http://www.regular-expressions.info/xmlcharclass.html)

# c# - Resharper C# Formatting Style 在切长行时在新行而不是同一行上显示“新”

> ID：13985739
> 
> 赞同：8
> 
> 时间：2012-12-21T07:04:30.440
> 
> 标签：c#, resharper, code-formatting

因此，Resharper 在重新格式化代码时在我的代码中的“新”之前放置了一个换行符，如下所示：

```
var foo = new Foo
{
    Bar = null,
    Baz =
        new Baz
        {
            Bap = null,
            Bork = null,
            Help =
                new PweaseHelp
                {
                    Korben = null,
                    Dallas = null,
                    Multipass = null
                },
            Me =
                new ClearlyMyAbilityToUnderstandResharperSettingsIs(
                    null),
        }
}; 
```

但我真的很喜欢这样做：

```
var foo = new Foo
{
    Bar = null,
    Baz = new Baz
    {
        Bap = null,
        Bork = null,
        Help = new PweaseHelp
        {
            Korben = null,
            Dallas = null,
            Multipass = null
        },
        Me = new ClearlyMyAbilityToUnderstandResharperSettingsIs(null),
    }
}; 
```

我已经深入研究了 .DotSettings 文件中的所有设置，但我无法弄清楚是什么原因造成的......任何帮助将不胜感激:)

**编辑 2（更新）**

以下是 R# 设置，似乎让我接近我列出的内容，除非您为“包装调用参数”选择“始终切碎”，否则您仍会在等号之后看到新行（使用列出的配置）和“包装对象和集合初始化程序”（如 Kristian 所建议的）。

“始终切碎”的问题在于，您将有非常短的方法调用和对象/集合初始化程序也一直在切碎，这看起来很糟糕，所以我认为我们想要的是：

*不要在方法调用/对象/集合初始化程序的等号之后添加新行*（但我在任何地方都找不到该设置，因此它可能是 R# 的错误或功能）。

我将尝试在 R# 论坛/支持上提出它并报告我的发现。

```
<s:Boolean x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/ALIGN_MULTILINE_ARRAY_AND_OBJECT_INITIALIZER/@EntryValue">False</s:Boolean>
<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/ANONYMOUS_METHOD_DECLARATION_BRACES/@EntryValue">NEXT_LINE</s:String>
<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/CASE_BLOCK_BRACES/@EntryValue">NEXT_LINE</s:String>
<s:Int64 x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/CONTINUOUS_INDENT_MULTIPLIER/@EntryValue">1</s:Int64>
<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/EMPTY_BLOCK_STYLE/@EntryValue">TOGETHER_SAME_LINE</s:String>
<s:Boolean x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/INDENT_ANONYMOUS_METHOD_BLOCK/@EntryValue">True</s:Boolean>
<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/INITIALIZER_BRACES/@EntryValue">NEXT_LINE</s:String>
<s:Int64 x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/KEEP_BLANK_LINES_IN_CODE/@EntryValue">1</s:Int64>
<s:Int64 x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/KEEP_BLANK_LINES_IN_DECLARATIONS/@EntryValue">1</s:Int64>
<s:Boolean x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/LINE_FEED_AT_FILE_END/@EntryValue">True</s:Boolean>
<s:Boolean x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/SPACE_AFTER_TYPECAST_PARENTHESES/@EntryValue">False</s:Boolean>
<s:Boolean x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/SPACE_BEFORE_TRAILING_COMMENT/@EntryValue">True</s:Boolean>
<s:Boolean x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/SPACE_WITHIN_SINGLE_LINE_ARRAY_INITIALIZER_BRACES/@EntryValue">True</s:Boolean>
<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/WRAP_ARGUMENTS_STYLE/@EntryValue">CHOP_IF_LONG</s:String>
<s:Int64 x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/WRAP_LIMIT/@EntryValue">150</s:Int64>
<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/WRAP_OBJECT_AND_COLLECTION_INITIALIZER_STYLE/@EntryValue">CHOP_IF_LONG</s:String>
<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/WRAP_PARAMETERS_STYLE/@EntryValue">CHOP_IF_LONG</s:String> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T09:37:58.767

如果您使用的是 R# 7.1，可能是因为新的[Code Formatting Improvements](http://blogs.jetbrains.com/dotnet/2012/11/code-formatting-improvements-in-resharper-71/)。所有这些行为都可以在 R# 选项下 ~~轻松配置：~~

![Resharper C# 格式化样式](../Images/ba9609a6979ffbeac559fdeb04868b67.png)

**编辑：**根据我的设置，我最接近您提出的解决方案是将*Wrap object and collection initializer*设置为*Chop always*，但是由于某种原因，它忽略了*Braces 布局下的**“Array and object initializer”*设置并将在同一行打开大括号，如下所示：

 *```
var foo = new Foo {
    Bar = null,
    Baz = new Baz {
        Bap = null,
        Bork = null,
        Help = new PweaseHelp {
            Korben = null,
            Dallas = null,
            Multipass = null
        },
        Me = new ClearlyMyAbilityToUnderstandResharperSettingsIs(null),
    }
}; 
```

可能是我的其他一些设置导致了这种情况，但对我来说，这看起来像是被窃听了。也许您应该联系[ReSharper 支持](http://www.jetbrains.com/support/resharper)并让他们看看...*

# jquery - 使用jquery向后遍历

> ID：13985751
> 
> 赞同：2
> 
> 时间：2012-12-21T07:04:58.420
> 
> 标签：jquery

我有如下代码

如果我单击“finallink”类，我想选择或显示与“level_”类匹配的所有先前元素，直到“父”类。有很多“级别”类，例如“level_1，level_2 ... level_n。

​</p>

```
<div class="parent">
    <a href="#" class="level_0">level 0 text</a>

    <div class="someclass">1</div>
    <div class="someclass">2</div>
    <div class="someclass">3</div>
    <div class="someclass">4</div>

    <h1 class="level_1">level 1 text</h1>

    <div class="someclass">1</div>
    <div class="someclass">2</div>
    <div class="someclass">3</div>
    <div class="someclass">4</div>

    <h2 class="level_2">level 2 text</h2>

    <a href="#" class="finallink">link</a>
</div>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

我尝试过这样的事情

```
$(".finallink").closest("h3").prevAll("level_1").css("background-color","yellow"); 
```

如何获得所有“level_”值。示例代码[jsfiddle](http://jsfiddle.net/xpuCb/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:06:52.510

如果标记类似于问题，其中`finallink`是最后一个元素，或者至少`_level`在同一个父级中没有任何具有其下类的元素，您可以首先获取与该类匹配的最接近的父`.parent`级，然后`find()`是所有匹配的元素`_level`班级：

```
$(".finallink").closest(".parent")
               .find("[class^='level_']")
               .css("background-color","yellow"); 
```

否则，你可以这样做：

```
$(".finallink").prevAll()
               .filter("[class^='level_']")
               .css("background-color","yellow");​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:10:41.110

您已经说过“以前的”级别，我指的是链接之前的级别。您已经说过“直到`parent`类”，因为那是*容器*，这意味着我们可以使用所有以前的兄弟姐妹，然后过滤到仅具有其中一个`level_x`类的兄弟姐妹：

```
$(".finallink").click(function() {
    var list = $(this).prevAll().filter(function() {
        return this.className.match(/\blevel_/);
    });

    // Use `list`
}); 
```

[实例](http://jsbin.com/etivuq/1)| [来源](http://jsbin.com/etivuq/1/edit)

即使您最终`level_1`在`<h2 class="something level_1" ...>`.

# xmpp - 如何将tigase连接到openfire？

> ID：13985755
> 
> 赞同：-1
> 
> 时间：2012-12-21T07:05:05.240
> 
> 标签：xmpp, openfire, tigase

我有两个`Xmpp server`，一个是`tigase`，另一个是`openfire`。现在我希望用户可以`communicated`在两台服务器之间相互连接，我该怎么办？如何修改配置`tigase`？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T09:04:21.090

您无需对配置执行任何操作。假设两台服务器上的域的 DNS 设置正确，它们应该自动使用默认 s2s 来相互连接和通信。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-24T06:43:31.790

只需确保在 Tigase 和 Openfire 中都启用 s2s 服务。

# list - ComponentOne.TrueDBGrid 绑定

> ID：13985758
> 
> 赞同：0
> 
> 时间：2012-12-21T07:05:14.277
> 
> 标签：list, generics, binding, componentone, truedbgrid

# 1 我正在使用 ComponentOne.TrueDBGrid；

# 2 我使用 UserList 作为数据源；

# 3 我需要这个网格的过滤栏和排序；

一些重要的代码如下： public class User{ public int UserID{get;set;} public string UserName{get;set;} public Company TheCompany{get;set;} }

公共类公司{公共覆盖ToString（）{返回公司名称；} 公共字符串 CompanyName{get;set;} }

列出用户列表

问题：

# 1 如何将 UserList 绑定到 TrueDBGrid 以显示这些列？

|用户ID|用户名|公司名| 我觉得这些数据域应该是 UserID , UserName, TheCompany.CompanyName，但是我看不到 CompanyName 是空的；

# 2 我需要在这个网格中更改公司，所以我需要为 CompanyName 添加 valueItems

```
 I think these datafields should be UserID , UserName, TheCompany，and override Company.ToString() = CompanyName 
   But I can't sorting the companyName column and can't change company because the datatype is string can't covert to Company; 
```

这些是解决这些问题的好方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-01T14:32:17.997

有点晚了，但是...

将只读字符串属性添加到返回 TheCompany.CompanyName 的 UserList。

# .htaccess - 如何使用 htaccess 为子域制作干净的 url

> ID：13985760
> 
> 赞同：0
> 
> 时间：2012-12-21T07:05:18.110
> 
> 标签：.htaccess, clean-urls

例如，我的域是 www.examples.com，子域是 test2.examples.com 我使用 url 变量来链接页面。egtest2.examples.com/index.php?page=registers 但我想要像 test2.examples.com/page/registers 这样的干净网址

如何使用 HTACCESS 文件执行此操作。我可以将 HTACCESS 用于子域还是不允许

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-21T09:37:55.560

您正在寻找 URL 重写，它将满足您的所有需求。请参阅此[URL 重写指南](http://httpd.apache.org/docs/2.0/misc/rewriteguide.html)

# magento - 扩展 Magento 目录数据库结构

> ID：13985762
> 
> 赞同：0
> 
> 时间：2012-12-21T07:05:35.567
> 
> 标签：magento

我正在为 Magento 认证做准备，这个问题真的让我陷入了困境。我不太明白如何扩展 Magento 的目录数据库结构，事实上，我并不完全理解这个问题。

有人可以对此有所了解吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-23T23:13:31.407

在第 7 节中没有此类问题的地方有一个更新和更深入的文档。在此处找到此文档以供下载：http: [//www.magentocommerce.com/certification/](http://www.magentocommerce.com/certification/)在资源选项卡中。

我可以在自我评估清单中看到您的问题，其中指出：

“故障排除、自定义和扩展 Magento 目录数据库结构”

由于这个问题没有在较新的文档中弹出，我的猜测是它并不那么重要。您应该对主数据库表以及它们如何归属以及如何在安装程序中向实体添加新属性有一个大致的了解。

我刚刚通过了认证开发人员考试，我不记得有任何问题询问有关自定义数据库结构的任何细节。

# plsqldeveloper - 具有 oracle 32 位/64 位客户端的 PL/SQL 开发人员

> ID：13985769
> 
> 赞同：17
> 
> 时间：2012-12-21T07:06:00.500
> 
> 标签：plsqldeveloper, oracleclient

我安装了 Oracle 64 位客户端以与我的 weblogic 应用程序一起运行。我了解到 pl-sql 开发人员不适用于 oracle 64 位客户端，所以现在我的机器上安装了 32 位和 64 位客户端，并且我的 ORACLE_HOME 变量指向 64 位客户端。

即使我在 pl-sql 开发人员版本 8.0.4 的工具->首选项中指定 32 位客户端，我也无法启动 pl/sql 开发人员。

我将我的 oracle 客户端更改为 32 位客户端，然后我能够启动 pl-sql 开发人员，但我的应用程序不起作用。

有没有一种方法可以在将 ORACLE_HOME 指向 64 位 oracle 客户端的同时运行 PL/SQL 开发人员。我不确定在 pl sql developer 的 Tools->Preferences 中明确指定 ORACLE_HOME （对于用户/默认以及系统首选项）有什么影响，因为它从我相信的环境变量中选择了 oracle home。

谢谢，阿迪西亚。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-25T11:40:54.803

您需要将这两个客户端安装到单独的 Oracle Home 位置，例如我已经去`C:\OracleHome`了`C:\OracleHome32`

然后设置一个名为 TNS_ADMIN 的环境变量，其中包含默认 TNSnames.ora 文件的文件夹作为值（对我来说是`C:\OracleHome\network\admin`）

在 PL/SQL Developer 中保留您的偏好，并确保您还指定了 OCI 库（我的是`C:\OracleHome32\oci.dll`）

最后，使用 regedit.exe，在 ORACLE ( `HKEY_LOCAL_MACHHINE\SOFTWARE\ORACLE`) 下添加第二个键。我已经调用了我的 KEY_OraClient11g_home1 和 KEY_OraClient11g_home2。在第二个键中创建相同的 4 个字符串，并对数据进行适当的更改（例如 ORACLE_HOME 应该具有`C:\OracleHome32`我的示例中的数据字段）

重新启动所有应用程序现在应该可以让您无缝使用 PL/SQL Developer，同时还默认为您的 weblogic 应用程序使用 64 位 Oracle 主目录。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-01-13T16:02:41.870

要解决此问题，请下载 32 位版本的**Oracle Instant Client**，将其解压缩到一个目录，例如`C:\instantclient`.

接下来，通过单击*Tools -> Preferences*将 PL/SQL Developer 配置为使用此版本。在*Connection -> Oracle Home*下，指向您提取 Instant Client 的位置 ( `C:\instantclient`)，在*Connection -> OCI library*下，指向同一目录中的 oci.dll 文件 ( `C:\instantclient\oci.dll`)。

重新启动 PL/SQL Developer，您应该能够连接。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-06-19T19:23:51.340

这是专门针对 64 位的 Oracle 19 即时客户端和 PLSQL Developer 13 的更新答案。

为了使 PL/SQL Dev 与客户端一起工作，我转到：配置 -> 首选项 -> Oracle\connection -> 将 oracle home 设置为新的主目录，在我的例子中是 c:\oracle\product\19.x。

对 OCI 执行相同操作：C:\oracle\product\19.x\instantclient_19_6\oci.dll

如果您从订单版本迁移，您可能已经在 tns_names.ora 中建立了一个数据库列表。这将不得不移到新的客户端目录树。

在 19.x 根目录下手动创建一个子目录 network\admin。重新启动后，“定义连接”下的数据库列表有我的列表。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-07-13T10:16:21.903

快速发布：我尝试使用 PL/SQL Developer 连接到 64 位 Oracle 数据库。尽管 ORACLE_HOME 设置了正确的值并且 oci.dll 可用，PL/SQL Developer 还是无法连接到数据库。

进一步探查表明，Oracle 安装的是 64 位的，PL/SQL Developer 无法加载 64 位版本的 oci.dll 文件。要解决此问题，请下载 32 位版本的 Oracle Instant Client，将其解压缩到 \instant_client 等目录。

接下来，通过单击 Tool menus -> Preferences 来配置 PL/SQL Developer 以使用此版本。在 Oracle Home 下，指向您提取 Instant 客户端的位置（在本例中为 \instant_client），在 OCI 库的位置下，指向您提取 Instant 客户端的位置中的 oci.dll 文件（\instant_client\oci .dll）。重新启动 PL/SQL Developer，您现在应该可以连接了。

打开给定的链接以下载 oci.dll 文件 [http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html](http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html)

* * *

# csv - Solr 索引和搜索阿拉伯语内容

> ID：13985770
> 
> 赞同：0
> 
> 时间：2012-12-21T07:06:02.013
> 
> 标签：csv, solr, lucene, notepad

我们有一个 solr 构建，目前仅使用英语，我们需要为其添加阿拉伯语支持 Solr Wiki 中没有太多关于如何开始的详细信息

这些是我做的以下步骤

将以下内容添加到**schema.xml**

```
<fieldType name="text_general_arabic" class="solr.TextField"     positionIncrementGap="100">
<analyzer type="index">
<tokenizer class="solr.StandardTokenizerFactory"/>
<filter class="solr.ArabicNormalizationFilterFactory"/>
<filter class="solr.ArabicStemFilterFactory"/>    
</analyzer>
<analyzer type="query">
<tokenizer class="solr.StandardTokenizerFactory"/>
<filter class="solr.ArabicNormalizationFilterFactory"/>
<filter class="solr.ArabicStemFilterFactory"/>    
</analyzer>
</fieldType> 
```

**在Schema.xml**中定义了一个字段

 **```
<field name="البرتغالية" type="text_general_arabic" indexed="true" stored="true"/> 
```

仅供参考，我从浏览器中的谷歌翻译复制了阿拉伯语文本并粘贴了它

后来我使用记事本作为 unicode 文件创建了一个 csv 文件，并将其保存为 Arabic.csv，其字段名称为

البرتغالية

当我尝试使用以下 cURL 命令索引文件时

```
D:\>curl http://localhost:8080/solr/coll9/update/csv -F "stream.file=D:\Arabic.csv" -F   "commit=true" -F "optimize=true"
-F "encapsulate="" -F "keepEmpty=true" 
```

我收到一个未定义的字段错误我不知道我在哪里做错了

更新：当我用 XML 文件而不是 csv 文件尝试同样的事情时，它正在工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:41:21.143

因此，首先，如果可能，我建议您将所有字段名称更改为英文。它避免了一些混乱。您还可以考虑遵循[此答案](https://stackoverflow.com/questions/5549880/using-solr-for-indexing-multiple-languages)中有关以不同语言对相同数据进行字段命名的建议。

[CSVLoaderBase::load() 函数](http://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_4_0/solr/core/src/java/org/apache/solr/handler/loader/CSVLoaderBase.java)在后台 使用 Java BufferedLoader() 类，并且没有指定编码。我猜默认编码可能与[此问题](https://stackoverflow.com/questions/2260325/why-is-java-bufferedreader-not-reading-arabic-and-chinese-characters-correctly)中所述的阿拉伯语不兼容。

在 Solr 4.0 中，schema.xml 带有每种语言的预定义字段类型。更多特定于语言的信息在[这里](http://wiki.apache.org/solr/LanguageAnalysis)。我认为所有这些过滤器在 3.6 中也可用。Solr4 schema.xml 示例在[此处](http://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_4_0/solr/example/solr/collection1/conf/schema.xml)。**

# c# - WP：MediaElement 永远不会播放

> ID：13985774
> 
> 赞同：1
> 
> 时间：2012-12-21T07:06:11.587
> 
> 标签：c#, silverlight, windows-phone-7

我有这个带有 C# 代码的应用程序，但 MP3 只是没有播放。

```
 music = new MediaElement();

 music.AutoPlay = false;
 music.Source = new Uri("/music/musicNormal.mp3", UriKind.Absolute);
 music.CurrentStateChanged += new RoutedEventHandler(music_CurrentStateChanged);
 music.MediaOpened += new RoutedEventHandler(music_MediaOpened); 
```

对于`currentStateChanged`事件，我给出了一个 MessageBox，但它从未触发。对于`MediaOpened`事件我给出一条线`music.Play()`，但它也从未触发

我有这些功能

```
private void changeMusic(bool normal)
    {
        music.Stop();
        if (normal)
            music.Source = new Uri("/music/musicNormal.mp3", UriKind.Absolute);
        else
            music.Source = new Uri("/music/musicFast.mp3", UriKind.Absolute);
    }

private void playMusic()
    {
        if (timeBar.Value <= 10 && music1)
        {
            timeNumber.Foreground = new SolidColorBrush(Colors.Red);
            changeMusic(false);
            music2 = true;
            music1 = false;
        }
        else if (timeBar.Value > 10 && music2)
        {
            timeNumber.Foreground = new SolidColorBrush(Colors.White);
            changeMusic(true);
            music1 = true;
            music2 = false;
        }
        if (musicEnabled) music.Play();
    } 
```

我试过了 ：

*   通过 MediaFailed 事件进行跟踪，但从未失败
*   将 UriKind 更改为 Relative 和 RelativeOrAbsolute
*   给出/去掉 URI 开头的斜线
*   试图将这两个分成 2 个 mediaElement
*   将 mp3 设置为资源、内容、嵌入资源

我知道的 ：

*   状态始终“关闭”
*   如果我在 XAML 中指定了 URI，它就可以工作。但我不想那样做。
*   所有功能都根据条件正常工作。只是音乐不会开始。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-24T08:42:17.893

找到答案！我不喜欢在 SOF 中进行更深入的搜索：stackoverflow.com/questions/7018335/... 在我们可以在代码中修改 MediaElement 之前，我们需要先在 XAML 中将其可视化。

# jquery - jQuery：在另一个完成后运行一个功能

> ID：13985775
> 
> 赞同：3
> 
> 时间：2012-12-21T07:06:15.257
> 
> 标签：jquery

```
$('#tab-featured').tap(function(){
    $('.home-section').fadeOut(function(){
        $('#home-featured').fadeIn();
    });
}); 
```

我正在尝试使用上面的代码`fadeIn()`在完成后调用`fadeOut()`。`fadeOut()`作品很好。我之前在其他人完成之后运行了函数，但是这次它不起作用，对于我的生活，我无法弄清楚为什么。

从他们的 CDN 运行最新的 jQuery。

代码：

```
<div id="home-mid" class="column-mid">
    <div id="home-featured" class="home-main home-section">
        <!--- Some Code --->
    </div>

    <div id="home-2" class="home-main home-section">
        <!--- Some Code --->
    </div>

    <div id="home-3" class="home-main home-section">
        <!--- Some Code --->
    </div>

    <div id="home-4" class="home-main home-section">
        <!--- Some Code --->
    </div>

    <div id="home-5" class="home-main home-section">
        <!--- Some Code --->
    </div>

    <div id="home-tabs">
        <div id="tab-featured" class="home-tab"></div>
        <div id="tab-2" class="home-tab"></div>
        <div id="tab-3" class="home-tab"></div>
        <div id="tab-4" class="home-tab"></div>
        <div id="tab-5" class="home-tab"></div>
    </div>
</div> 
```

**更新：**

`hide`用代替尝试过，`fadeOut`效果很好。不知道为什么`fadeOut`不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T07:10:08.430

动画函数的第一个参数是持续时间，回调是第二个：

```
$('.home-section').fadeOut(250, function(){
    $('#home-featured').fadeIn();
}); 
```

这是[文档](http://api.jquery.com/fadeOut/)。

这可能是`fadeOut()`/中的一个错误，`fadeIn()`因为您的 home-featured 也是一个 home-section。尝试像这样解决它：

```
$('.home-section').fadeOut(function(){
    setTimeout(function () { $('#home-featured').fadeIn(); }, 50);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:10:56.603

您需要通过持续时间

```
$('#tab-featured').live('tap',function(event) {
    $('.home-section').fadeOut(2000, function(){
        $('#home-featured').fadeIn(200);
    });
}); 
```

或者

```
$('#tab-featured').live('tap',function(event) {
    $('.home-section').fadeOut('slow', function(){
        $('#home-featured').fadeIn('fast');
    });
}); 
```

# asp.net - 我的项目中包含 web 服务文件时出错

> ID：13985777
> 
> 赞同：1
> 
> 时间：2012-12-21T07:06:28.973
> 
> 标签：asp.net, web-services

在我的项目中，我包含了 Webservice 文件，当我尝试运行时，在 Chrome 浏览器中出现此错误。

> 说明：在编译服务此请求所需的资源期间发生错误。请查看以下特定错误详细信息并适当修改您的源代码。

* * *

> 编译器错误消息：CS0029：无法隐式转换类型 'Unified.WebService.GetOrder [c:\Users\Venkatesh\AppData\Local\Temp\Temporary ASP.NET Files\root\417f2571\29df25a\assembly\dl3\1f05470e\0779ccf4_47dfcd01_0\ WasteManagement.DLL]' 到 'Unified.WebService.GetOrder [c:\Users\Venkatesh\Desktop\Venkateshwar\Company Related\Waste Management - Copy\WasteManagement\WasteManagement\App_Code\GetOrder.cs(8)]'

**源错误：**

```
 Line 43:         public GetOrder retrieveOrder(string orderNumber)
 Line 44:         {
                        //Calling Web service method in my class
 Line 45:/*ERROR*/      return connection.getOrder(orderNumber);
 Line 46:         }
 Line 47: 
```

当我点击`Compiler Warning Messages`时，所有通过 Web 服务的连接都显示错误。

如有必要，我也会分享代码。（由于我是 asp.net 的新手，我无法理解要共享哪一部分代码。因此，如果需要，请提及您想要哪一部分代码。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:09:43.580

您的 Web 服务应该是您解决方案中的独立项目。之后，您应该为其添加 Web Reference，然后您可以安全地调用它。

Web Service 不是您无法添加和使用的基本类 - 它是不同的东西，因此您不能简单地将其添加到您的`App_Code`文件夹中以使其工作。

来自 MSDN：

> Web 服务发现是客户端定位 Web 服务并获取其服务描述的过程。Visual Studio 中的 Web 服务发现过程涉及按照预定算法询问网站。该过程的目标是找到服务描述，这是一个使用 Web 服务描述语言 (WSDL) 的 XML 文档。
> 
> 服务描述描述了哪些服务可用以及如何与这些服务交互。**如果没有服务描述，就不可能以编程方式与 Web 服务交互。**

**编辑：**

是的，您可以`[WebMethod]`从 Web 服务声明中删除属性等，并像类一样临时使用它，但是之后您仍然需要添加一个 Web 引用才能像 Web 服务一样使用它。

# c# - 使用 C# 将 (Chrome HTML 文档 (.htm)) 文件的 Web 浏览器导航到 windows phone 7 的新页面

> ID：13985789
> 
> 赞同：0
> 
> 时间：2012-12-21T07:07:40.363
> 
> 标签：c#, windows-phone-7

我正在尝试使用网络浏览器导航将我的页面导航到新页面以加载文件，

```
this.NavigationService.Navigate(new Uri("/Eula.xaml", UriKind.Relative));
eula.loadfile(); 
```

在`loadfile()`，我给了字符串

```
filepaht = @"C:\Users\myfilename\...\EULA.htm";
webBrowser.Navigate(new Uri(filepaht, UriKind.Relative)); 
```

但我无法`Eula.htm`在相应页面中加载文件，我收到异常为`An unknown error has occurred. Error: 80004005`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:17:41.697

您无法`webBrowser`以`UriKind.Relative`. 尝试使用`UriKind.Absolute`.

WebBrowser 尝试查找具有如下 URL 的文件：

```
your.ap.domain/C:\Users\myfilename\...\EULA.htm 
```

当然，这是错误的并会产生错误。

# php - 检查以确保选择了一个选项列表

> ID：13985791
> 
> 赞同：0
> 
> 时间：2012-12-21T07:08:17.037
> 
> 标签：php, javascript, forms, validation

除了验证是否选择了选择菜单中的选项外，我的表单上的所有内容都在工作。它会显示错误，但一旦选择了某些内容就不会消失

html

```
<div id="budget_input">
                <label for="budget">Budget</label>
            <select name="mydropdown">
            <option value="" id="mydropdown"> -- choose one --</option>
            <option value="firstchoice">$0 - $1,000</option>
            <option value="secondchoice">$1,000 - $2,000</option>
            <option value="thirdchoice">$3,000 +</option>
            </select>
</div> 
```

php

```
$name = trim(stripslashes(htmlspecialchars($_POST['name'])));           
$email = trim(stripslashes(htmlspecialchars($_POST['email'])));
$mydropdown = trim(stripslashes(htmlspecialchars($_POST['mydropdown'])));  

$error_message = '';    
    $reg_exp = "/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,4}$/";

    if (!preg_match($reg_exp, $email)) {

                $error_message .= "<p>A valid email address is required.</p>";             
    }
    if (empty($name)) {

                $error_message .= "<p>Please provide your name.</p>";              
    }

    if (empty($mydropdown)) {

                $error_message .= "<p>Please select an item from the list.</p>";
    } 
```

js部分显示客户端

```
var valid = '';
var required = ' is required.';
var name = $('form #name').val();
var email = $('form #email').val();
var mydropdown = $('form #mydropdown').val();   

if (name == '' || name.length <= 2) {
        valid = '<p>Your name' + required +'</p>';  
    }

    if (!email.match(/^([a-z0-9._-]+@[a-z0-9._-]+\.[a-z]{2,4}$)/i)) {
        valid += '<p>Your email' + required +'</p>';                                                  
    }

    if (mydropdown == '') {
        valid += '<p>An item from the list' + required +'</p>';

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:11:24.450

请用这个替换您的代码，希望它会起作用。

```
<div id="budget_input">
                    <label for="budget">Budget</label>
                <select name="mydropdown" id="mydropdown">
                <option value="" > -- choose one --</option>
                <option value="firstchoice">$0 - $1,000</option>
                <option value="secondchoice">$1,000 - $2,000</option>
                <option value="thirdchoice">$3,000 +</option>
                </select>
    </div> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T07:13:09.320

更改您的标记

```
 <div id="budget_input">
            <label for="budget">Budget</label>
        <select id="mydropdown">
        <option value=""> -- choose one --</option>
        <option value="firstchoice">$0 - $1,000</option>
        <option value="secondchoice">$1,000 - $2,000</option>
        <option value="thirdchoice">$3,000 +</option>
        </select>
 </div> 
```

改变你的 JS 代码

```
var valid = '';
var required = ' is required.';
var name = $('form #name').val();
var email = $('form #email').val();
var mydropdown = $('form #mydropdown').val();   

if (name == '' || name.length <= 2) {
    valid = '<p>Your name' + required +'</p>';  
}

if (!email.match(/^([a-z0-9._-]+@[a-z0-9._-]+\.[a-z]{2,4}$)/i)) {
    valid += '<p>Your email' + required +'</p>';                                                  
}

if (mydropdown == '') {
    valid += '<p>An item from the list' + required +'</p>';

} 
```

只需添加您的选择框 ID，因为它用于在 Jquery 中检查是否选择了任何项目。

* * *

**编辑#1-添加截图**

![截图——你做错的地方](../Images/1d8af6359fde0a5b9985f2522215868b.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T07:12:24.870

你应该有 id=mydropdown 让 js 验证工作

```
 <select id="mydropdown"> 
```

现在您刚刚`name="mydropdown"`在选择框中设置了

# java - 给定正数的所有数字的总和

> ID：13985796
> 
> 赞同：6
> 
> 时间：2012-12-21T07:08:24.220
> 
> 标签：java, algorithm

**方法返回应该是如果输入一个数字，假设 345，那么输出应该是 3+4+5=12 --> 1+2 = 3。**我在这里做错了什么？

```
public class DigitSum
 {
    int  Sum=0;

    public int compute( int MethParam )
    {
        int rem = MethParam%10; 
        Sum+=rem;        

        MethParam = MethParam/10; 
        if(MethParam>10)
            compute(MethParam);

        return Sum+MethParam;  
    }

  public static void main(String[] args)
  {
    DigitSum ds  = new DigitSum();
    System.out.println(ds.compute(435));
  }
} 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-12-21T07:29:09.867

**O(1) 数字总和算法：**

取任何数字的模 9 将返回该数字的数字总和，直到获得单个数字。

如果数字是 9 的倍数，那么总和将为 9

一个班轮：

```
public int sumDigit(int n){
    return (n%9 == 0 && n != 0) ? 9 : n%9;
} 
```

替代实现：

```
public int sumDigit(int n){

      int sum = n % 9;
      if(sum == 0){
          if(n > 0)
               return 9;
      }
      return sum;
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-12-21T07:42:12.910

您正在寻找的是[**数字根**](http://en.wikipedia.org/wiki/Digital_root)。`wiki`因此，使用我链接的页面中的公式，这是一个更好的解决方案。

**没有递归： -**

```
public static int compute( int n ) {
    return n - 9 * ((n - 1) / 9);
} 
```

* * *

而且，以防万一你想要（我认为你不会），这里有*一个单行* **（使用递归）**： -

```
public static int compute( int n ) {
    return n < 10 ? n : compute(n % 10 + compute(n / 10));
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-12-21T07:21:30.687

```
 public int FindSumDigit(int number)
    {
        if (number < 10) return number;
        int sum = 0;
        while (number > 0)
        {
            sum += number % 10;
            number = number / 10;
        }
        return FindSumDigit(sum);
    } 
```

找到我的代码...... Poon 你没有添加整个数字.. 在中间你一直在添加最右边的数字。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-12-21T07:27:41.087

这里有很多错误的答案。这是OP想要的：

> 方法返回应该是如果输入一个数字，假设 345，那么输出应该是 3+4+5=12 --> 1+2 = 3。

这将完成这项工作：

```
public static int compute(int param) {
    int sum = 0;
    do {
        sum = 0;
        while (param > 0) {
            sum += param % 10;
            param /= 10;
        }
        param = sum;
    } while (sum >= 10);
    return sum;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-21T07:19:03.963

我将您的方法更改为此，然后它给出了请求的结果：

```
public int compute(int methParam) {
    int sum = 0;
    for (int i = 0; methParam > 10; i++) {
        int currentDigit = methParam % 10;
        methParam = methParam / 10;
        sum = sum + currentDigit;
    }
    if (sum + methParam > 10) {
        return compute(sum + methParam);
    } else {
        return sum + methParam;
    }
} 
```

请注意，我移动了`sum`方法内部的声明，而不是使其成为一个字段。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-12-21T07:29:34.043

在您的代码中，您没有正确返回值来调用您的递归方法。

```
 if ((MethParam >= 10)){
            return compute(MethParam);
        }else
            return Sum + MethParam; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-21T07:16:05.550

```
public int compute( int param )
{
    int x = param % 10;
    int y = param / 10;

    if (y > 0)
        return x + compute(y);

    return x;
}

public int computeNonRec(int param) {
    int result = 0;
    while (param > 0) {
        result += param % 10;
        param /= 10;
    }
    return result;
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-12-21T07:25:18.180

尝试

```
 public int sumDigit(int n) {
        int sum = 0;
        while (n > 0) {
            sum += n % 10;
            number = n / 10;
        }
        return sum;
    } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-12-21T07:34:42.747

这是一个字符串解决方案：

```
public int compute( int MethParam )
{
    int sum = 0; 
    string meth = MethParam.ToString();        

    for (char x in meth) {
        sum += int.Parse(x);
    }
    if (sum >= 10) {
        return compute(sum);
    }
    else {
        return sum;
    }
} 
```

这段代码是 C# 而不是 Java，所以认为它是伪代码。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-12-21T07:40:23.963

只是一种不同的方法，由于涉及转换，可能效率不高：

```
private static int getUltimateSum(int input) {
    String inputStr = String.valueOf(input);
    int sum = 0;
    for (int i = 0; i < inputStr.length(); i++) {
        int digit = Integer.valueOf(String.valueOf(inputStr.charAt(i)));
        sum += digit;
    }
    if(sum > 9)
        return getUltimateSum(sum);
    else
        return sum;
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2012-12-21T07:42:20.063

尝试

```
public class DigitSum {
int  Sum=0;
public int compute( int MethParam )
{
    int rem = MethParam%10; 
    Sum+=rem;        

    MethParam = MethParam/10; 
    if(MethParam>10)
        compute(MethParam);
    else
        Sum+=MethParam;

        if(Sum>=10){
        int temp=Sum;
        Sum=0;
        compute(temp);
    }

         return Sum;  
}

public static void main(String[] args){
    DigitSum ds= new DigitSum();
        System.out.println(ds.compute(435));
    }
} 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2012-12-21T08:07:15.160

最短的代码是 -

```
int compute(int n){
    while(n > 9){
        n = n - 9;
    }
    return n;
} 
```

其中 n 是您要计算其某些数字的数字。

**编辑：仅对小数字有效，例如 3 位数字。**

**编辑：测试了几个答案：**

```
public class Test {
    public static void main(String [] args){
        int i = 0x0fefefef;

        long st1 = System.nanoTime();
        int n1 = sumDigit(i);
        long t1 = System.nanoTime() - st1;

        long st2 = System.nanoTime();
        int n2 = FindSumDigit(i);
        long t2 = System.nanoTime() - st2;

        long st3 = System.nanoTime();
        int n3 = compute(i);
        long t3 = System.nanoTime() - st3;

        long st4 = System.nanoTime();
        int n4 = compute1(i);
        long t4 = System.nanoTime() - st4;

        System.out.println("Tested for: "+i);
        System.out.println(n1+": "+t1);
        System.out.println(n2+": "+t2);
        System.out.println(n3+": "+t3);
        System.out.println(n4+": "+t4);
    }

    public static int sumDigit(int n){
      int sum = n % 9;
      if(sum == 0){
          if(n > 0)
               return 9;
      }
      return sum;
    }

    public static int FindSumDigit(int n)
    {
        if (n < 10) return n;
        int sum = 0;
        while (n > 0)
        {
            sum += n % 10;
            n = n / 10;
        }
        return FindSumDigit(sum);
    }

    public static int compute( int n ) {
        return n - 9 * ((n - 1) / 9);
    }

    public static int compute1(int n){
        while(n > 9){
            n = n - 9;
        }
        return n;
    }
} 
```

这是上述测试的结果：

```
Tested for: 267382767
3: 2432
3: 1621
3: 810
3: 5354519 
```

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2012-12-21T07:11:08.007

使用我之前创建的一些 tymz 这个简单的 java 代码，这是用于添加正数和负数：

```
class SumDigit
{
public static void main(String args[])
{
int sum, i,a,d;
a = Integer.parseInt(args[0]);
sum = 0;
for(i=1;i< =10;i++)
{
d = a%10;
a = a/10;
sum=sum + d;
} 
System.out.println("Sum of Digit :"+sum);
}
} 
```

# spring - 在一个 Spring 上下文中使用两个调度程序

> ID：13985797
> 
> 赞同：6
> 
> 时间：2012-12-21T07:08:31.447
> 
> 标签：spring, quartz-scheduler

我用两个石英调度器创建了一个 Spring 应用程序，第一个有 3 个触发器，第二个有一个触发器。

所有这些触发器都设置为并发操作假。

当我运行它时，似乎只有第二个调度程序中的作业触发器被触发。triggerJobB 的执行时间也很短。

我的问题是，在一个 spring 上下文中使用两个调度程序会导致执行问题，以及这是否是一种好习惯。

```
<bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
        <property name="triggers">
            <list>
                  <ref bean="triggerJobA" />
                  <ref bean="triggerJobC" />
                  <ref bean="triggerJobD" />
            </list>
        </property>
</bean>

<bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
        <property name="triggers">
            <list>
                <ref bean="triggerJobB" />
            </list>
        </property>
</bean> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T11:10:02.483

您需要为每个调度程序设置名称，否则 spring 只会用第二个调度程序覆盖第一个调度程序。

```
 <bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
    <property name="schedulerName" value="SchedulerOne"/> 
    <property name="triggers">
        <list>
              <ref bean="triggerJobA" />
              <ref bean="triggerJobC" />
              <ref bean="triggerJobD" />
        </list>
    </property>
 </bean>

 <bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
     <property name="schedulerName" value="SchedulerTwo"/>
     <property name="triggers">
        <list>
            <ref bean="triggerJobB" />
        </list>
    </property>
 </bean> 
```

这样做的原因是：

> “作业执行者”实际上不是 SchedulerFactoryBean。它是由 SchedulerFactoryBean 提供的调度程序 bean（准确地说，调用它的 start 方法会调用触发 Trigger-s 的聚合 QuartzScheduler.start 方法）。事实上，这个调度器被存储（和查找）在调度器名称（如果没有明确设置，对于每个配置的调度器工厂bean具有相同的默认值）在调度器存储库单例（调度器Repository.getInstance（））下。
> 
> 除非您为 SchedulerFactoryBean-s 设置不同的 schedulerName，否则您将始终通过每个 SchedulerFactoryBean-s 获得相同的调度程序。

[http://forum.springsource.org/showthread.php?40945-Multiple-Quartz-SchedulerFactoryBean-instances](http://forum.springsource.org/showthread.php?40945-Multiple-Quartz-SchedulerFactoryBean-instances)

# android - 电源中断时Android强制关闭错误

> ID：13985798
> 
> 赞同：0
> 
> 时间：2012-12-21T07:08:33.293
> 
> 标签：android, andengine

我正在使用andengine 开发安卓游戏。问题是当电源中断或屏幕锁定时我强制关闭错误。我的代码 n logcat 错误如下：

```
 public class ScreenReceiver  extends BroadcastReceiver{

        @Override
        public void onReceive(Context context, Intent intent) {
             if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {
                 wasScreenOn=true;
             }else if (intent.getAction().equals(Intent.ACTION_USER_PRESENT )){
                 wasScreenOn=true;
             }
             if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {
                            wasScreenOn=false;
                               }
                            } 
```

//onresume方法

```
 protected void onResume() {
     if(wasScreenOn){
       RESUME GAME
                    }
           } 
```

LOGCAT 错误：

```
 12-21 12:26:07.016: ERROR/AndroidRuntime(1220): FATAL EXCEPTION: main
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.m2f.StepUpPuzzle/com.m2f.StepUpPuzzle.GameActivity}: java.lang.NumberFormatException: unable to parse 'null' as integer
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1740)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1759)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:2938)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at android.app.ActivityThread.access$1600(ActivityThread.java:155)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1003)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at android.os.Handler.dispatchMessage(Handler.java:130)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at android.os.Looper.loop(SourceFile:351)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at android.app.ActivityThread.main(ActivityThread.java:3826)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at java.lang.reflect.Method.invokeNative(Native Method)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at java.lang.reflect.Method.invoke(Method.java:538)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:969)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:727)
    12-21 12:26:07.016: ERROR/AndroidRuntime(1220):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:10:45.797

这个错误不是因为电源中断。这是因为您正在转换`null`为`integer`

将您的解析代码保留在尝试捕获中，然后验证..

我在这里展示`example`。检查这个

```
try{
    String str = "";
    if(!str.equals(""))
    {
        int n = Integer.parseInt(str);
        System.out.println(n);
    }
}
catch (Exception e) {
    e.printStackTrace();
} 
```

# vba - VBA - PowerPivot - 表名

> ID：13985800
> 
> 赞同：1
> 
> 时间：2012-12-21T07:08:34.933
> 
> 标签：vba, powerpivot

**如何在 VBA 中获取 PowerPivot 文件中的表（选项卡）列表？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-22T09:35:39.567

加内什，

如果我们谈论的是 Excel 2010 中的 PowerPivot，那么我会说它会很困难，尽管并非完全不可能。

问题是这个版本的 PowerPivot 不能由 VBA 正式控制，但这并不意味着它不能完成。[在这里](http://blog.gobansaor.com/)查看 Tom 的博客，因为他几乎是我认识的唯一一个真正掌握这一点的人。

另一个问题是你的最终目标是什么？假设通过 VBA 获得这个纯粹是实现其他目标的一种手段。

雅各布

# ios - 从iOS Xcode上的数组中的csv文件中删除一些行

> ID：13985801
> 
> 赞同：1
> 
> 时间：2012-12-21T07:08:44.853
> 
> 标签：ios, xcode, uitableview, opencsv

我是 iOS 新手，我有一个`tableview`从 csv 文件中获取数据的设备。我想做的不是在文件中显示一些行。这是文件的样子

> 1,1,1,事件名称
> ,id,列表顺序,姓氏,名字,组

我只想在 中显示`1,1,1,event Name`，`tableview`然后加载以 a 开头的任何内容`,`以显示在详细视图中。我该怎么做？

# c# - 动态添加文件上传控件会出错

> ID：13985806
> 
> 赞同：0
> 
> 时间：2012-12-21T07:09:10.737
> 
> 标签：c#, javascript, asp.net

我正在尝试按照本指南动态创建文件上传控件。

[http://humrahimcs.wordpress.com/2011/04/15/dynamically-create-multiple-file-upload-control-with-asp-net-c/](http://humrahimcs.wordpress.com/2011/04/15/dynamically-create-multiple-file-upload-control-with-asp-net-c/)

但是当我最终提交表单时，我收到一个连接重置错误，没有更多信息。我究竟做错了什么？

```
 function AddNewRow() {

        var rownum = 1;

        var div = document.createElement("div");

        var divid= "dv" + rownum;

        div.setAttribute("ID",divid);

        rownum++;

        var lbl = document.createElement("label");

        lbl.setAttribute("ID", "lbl" + rownum);

        lbl.setAttribute("class", "label1");

        lbl.innerHTML = "Imagen: ";

        rownum++;

        var _upload = document.createElement("input");

        _upload.setAttribute("type", "file");

        _upload.setAttribute("ID", "upload" + rownum);

        _upload.setAttribute("runat", "server");

        _upload.setAttribute("name","uploads"+rownum)

        rownum++;

        var hyp = document.createElement("a");

        hyp.setAttribute("style", "cursor:Pointer");

        hyp.setAttribute("onclick", "return RemoveDv('" + divid + "');");

        hyp.innerHTML = "Remover";

        rownum++;

        var br=document.createElement("br");

        var _pdiv = document.getElementById("Parent");

        div.appendChild(br);

        div.appendChild(lbl);

        div.appendChild(_upload);

        div.appendChild(hyp);

        _pdiv.appendChild(div);

    }

    function RemoveDv(obj) {

        var p = document.getElementById("Parent");

        var chld = document.getElementById(obj);

        p.removeChild(chld);

    }

</script> 
```

# android - 当某些条件触发时，是否必须使用 Android 蓝牙 API 通过蓝牙进行自动文件传输？

> ID：13985808
> 
> 赞同：0
> 
> 时间：2012-12-21T07:09:14.107
> 
> 标签：android, file, bluetooth

在我的应用程序中，我想通过蓝牙将文件或文本发送到另一个蓝牙设备（接收设备可能是 android、Nokia、LG 等）。每当服务器返回数据时，我都想发送一个文件。例如，如果气候水平低于任何特定的给定值，我正在检查天气。它自动地，需要通过蓝牙向接收设备发送数据。它不会允许用户发送。如何使用 android 蓝牙 API 实现它？

而且我还需要通过蓝牙传输任何文件，将其转换为字节数组。我已经通过蓝牙聊天示例。因为他们给出的缓冲区大小为 1024。如果文件大小超过 1024 字节意味着我应该如何传输。我是否必须每次发送每个 1024 字节并且必须在接收端合并它，或者还有其他更好的方法可用？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T20:29:21.830

据我了解，你问了三个问题。

1.  *如何在服务器返回数据时发送文件*：您基本上打开了与服务器的连接（例如`http`，但也可能是任何其他基于 TCP 或 UDP 的协议）。然后你监听传入的数据；一旦你收到数据，你就会触发你想要的任何动作。当您的服务器未使用时，这些是作为起点的一些相关调用`http`（未经测试，请参阅文档以获取详细信息和替代方案）：

    ```
    Socket s = new Socket('your.server.com', 47000);
    s.connect();
    SocketChannel c = s.getChannel();
    ByteBuffer buffer = new ByteBuffer(1);
    c.read(buffer); // blocks until bytes are available 
    ```

2.  *如何自动启动蓝牙连接*：获取目标设备的`BluetoothDevice`对象，然后连接到它 - 就像在 BluetoothChat 演示中一样。

3.  *如何通过蓝牙发送文件/超过 1024 字节*：是的，您必须在发送端将数据拆分为块并在接收端重新组合它们（注意在实际数据之前发送文件大小，以便接收器知道何时文件完整）。您还可以使用相当大的字节缓冲区。我建议使用 64 Kb 的最大块大小：这允许您重新发送块而不会花费太多（时间）成本并且不会消耗太多内存。

作为关于 3\. 的初学者，这样的东西可能是发送方的核心（未经测试且没有错误处理，只是为了给出想法）：

```
// Send the file size
OutputStream out = socket.getOutputStream();
ByteBuffer header = ByteBuffer.allocate(8);
header.putLong(file.length();
out.write(header.array());

// Send the file in chunks
byte buffer[1024];
InputStream in = new BufferedInputStream(new FileInputStream(file));
int length = in.read(buffer);
while (length > 0) {
    out.write(buffer, 0, length);
    if (length < 1024) break;
    length = in.read(buffer, 0, sizeof(buffer));
}; 
```

...和接收方：

```
// Receive and unmarshal the file size
InputStream in = socket.getInputStream();
ByteBuffer header = ByteBuffer.allocate(8);
byte buffer[1024];
in.read(buffer, 0, 8);
header.put(buffer);
long filesize = header.getLong();
long receivedBytes = 0;

// Receive the file
OutputStream out = new BufferedOutputStream(new FileOutputStream(file));
int length = in.read(buffer);
while ((receivedBytes < filesize) && (length > 0)){
    out.write(buffer, 0, length);
    receivedBytes += length;
    length = in.read(buffer);
}
if (receivedBytes != filesize) ... // Assure the transfer was successful 
```

# iphone - 导航栏中的多个 Barbutton 未在 iOS6 上显示

> ID：13985839
> 
> 赞同：1
> 
> 时间：2012-12-21T07:11:56.873
> 
> 标签：iphone, ipad, xcode4, uibarbuttonitem

我已经使用属性 rightBarButtonItems 向导航项添加了一系列条形按钮，它适用于 iOS5，当我在 iOS6 中测试时，只有一个条形按钮项可见。

```
UIBarButtonItem *updateButton          = [[UIBarButtonItem alloc]
                                          initWithTitle:@"Update"
                                          style:UIBarButtonItemStylePlain
                                          target:self
                                          action:@selector(updateData)];

UIBarButtonItem *refreshButton          = [[UIBarButtonItem alloc]
                                          initWithTitle:@"Refresh"
                                          style:UIBarButtonItemStylePlain
                                          target:self
                                          action:@selector(refresh)];

NSArray *arrBtns = [[NSArray alloc]initWithObjects:updateButton,refreshButton, nil];

self.navigationItem.rightBarButtonItems=arrBtns; 
```

iOS6 是否有任何新属性可以将条形按钮数组添加到导航项。

任何帮助将不胜感激，非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T14:49:17.613

如果要在 NavigationBar 的 rightBarButtonItems 上添加多按钮，请使用 rightBarButtonItems 上的 segmentController

```
UISegmentedControl *segmentedControl = [[UISegmentedControl alloc] initWithItems:
                                            [NSArray arrayWithObjects:@"Add",@"Delete",
                                             nil]];
    segmentedControl.frame = CGRectMake(0, 0, 80, 30);
    segmentedControl.segmentedControlStyle = UISegmentedControlStyleBar;
    [segmentedControl setWidth:35.0 forSegmentAtIndex:0];
    [segmentedControl setWidth:45.0 forSegmentAtIndex:1];

    [segmentedControl addTarget:self action:@selector(segmentAction:) forControlEvents:UIControlEventValueChanged];
    segmentedControl.momentary = YES;

    UIBarButtonItem *segmentBarItem = [[UIBarButtonItem alloc] initWithCustomView:segmentedControl];
    [segmentedControl release];

    self.navigationItem.leftBarButtonItem = segmentBarItem;
    [segmentBarItem release]; 
```

![在此处输入图像描述](../Images/cdd2e4d8e8789a4c58a29756560eaca8.png)

其次在第一个栏按钮的另一侧添加第二个按钮。

# iphone - 是否可以使用两个私钥/公钥关联证书？

> ID：13985844
> 
> 赞同：0
> 
> 时间：2012-12-21T07:12:29.580
> 
> 标签：iphone, xcode, certificate, provisioning

我在这里遇到了一个奇怪的情况；我在 2011 年使用 macbook（私钥：alida）开发了一个应用程序。然后几个月前在将证书迁移到另一台机器时遇到了一些问题，所以我决定撤销它并现在使用另一组私钥生成另一个证书（弗朗西斯科）

情况是，现在我拥有两个证书，使用钥匙串中的两个私钥（旧证书已过期）；

问题：有没有办法将两个私钥（francisco 和 alida）与钥匙串中的一个证书配对？还是我只需要留下我的一个应用程序？我已经在 Appstore 中的两个应用程序；

看看我的钥匙串（新机器）是什么样子的：

![在此处输入图像描述](../Images/d80de237a8fdefaa2019cfec8136abe0.png)

关于我应该怎么做的任何建议？有没有希望解决这个问题？

提前致谢。

[编辑]

钥匙串中“我的证书”选项卡的另一个屏幕截图；所以，基本上我丢失了一个我的应用程序（没有更新？）我想如果是这样的话，我将再次撤销当前证书并使用 2011 年的密钥更新它（第一个应用程序生成）并忘记另一个：/

![在此处输入图像描述](../Images/38eb329a10d5e3236660ba53fc49a94c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-22T13:56:58.183

在这种情况下，密钥成对出现：（公共，私有）。证书只是一个包含您的公钥和一些额外数据的文件，包括“主题”，这是将公钥与特定个人或实体（例如 DNS 地址）相关联的信息，最重要的是，来自签名机构的签名证明（因此称为“证书”）公钥归实体所有。这些密钥对是密不可分的：没有有意义的方法将私钥从一个密钥对关联到另一个密钥对的公钥/证书。

通常，签名者（例如本例中的 Apple）不会在不首先撤销较早的证书的情况下生成两个具有完全相同主题的证书。

如果您在 iTunes 商店中有使用已撤销证书签名的应用程序，则需要将其替换为由较新的未撤销证书签名的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:16:06.250

我认为没有办法将两个私钥配对。您现在应该使用新的私钥。

# magento - 如何在自定义模块 magento 中将自定义选项卡添加到 cms 页面选项卡面板

> ID：13985845
> 
> 赞同：0
> 
> 时间：2012-12-21T07:12:29.737
> 
> 标签：magento, magento-1.7

如何使用我的自定义模块在 cms 块的编辑页面上为 cms 选项卡菜单添加额外的选项卡。任何人都可以帮忙。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T11:57:57.100

您可以使用布局并将自己的块添加到选项卡：

```
<?xml version="1.0"?>
<layout version="0.0.1">
    <adminhtml_cms_page_edit>
        <reference name="cms_page_edit_tabs">
            <block type="module/cms_page_edit_tab_tags" name="cms_page_edit_tab_tags" after="cms_page_edit_tab_meta"/>                
            <action method="addTab"><name>tags_section</name><block>cms_page_edit_tab_tags</block></action>                                
        </reference>
    </adminhtml_cms_page_edit>
</layout> 
```

并阻止实施

```
class My_Module_Block_Cms_Page_Edit_Tab_Tags 
extends Mage_Adminhtml_Block_Widget_Form
implements Mage_Adminhtml_Block_Widget_Tab_Interface
{
    protected function _prepareForm()
    {
        $form = new Varien_Data_Form();
        $this->setForm($form);
        // your tab code here
        return parent::_prepareForm();
    }

    public function getTabLabel()
    {
        return Mage::helper('cms')->__('Cms Pages Products');
    }

    public function getTabTitle()
    {
        return Mage::helper('cms')->__('Cms Pages Products');
    }

    public function canShowTab()
    {
        return true;
    }

    public function isHidden()
    {
        return false;
    }
} 
```

查看 app/code/core/Mage/Adminhtml/Block/Cms/Page/Edit/Tab/* 和 app/design/adminhtml/default/default/layout/cms.xml 的实现

# reporting - 如何在报告中获取当前和上一年的详细信息

> ID：13985853
> 
> 赞同：0
> 
> 时间：2012-12-21T07:13:07.433
> 
> 标签：reporting, business-objects

嗨，我面临一个问题，在报告级别我将根据提示结果给出年度提示，我还应该获得上一年的详细信息任何建议都会有所帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T13:37:36.400

首先复制查询。对于第二个查询，您必须在 Universe 级别创建两个变量。这两个变量都将捕获提示值并进行年份减法。现在回到第二个查询，而不是提示，您应该使用这些先前创建的变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T15:36:15.843

如果您可以自己创建/修改查询，则可以使用日期算术，如果您不使用 SQL，可以在此处找到 SQL Server 中的一些示例：http: [//www.devx.com/dbzone/Article/34594](http://www.devx.com/dbzone/Article/34594)服务器，您可以通过谷歌搜索“日期算术 [您的数据库]”来查找数据库的特定功能。

# sql - 基于多对多关系的sql查询

> ID：13985859
> 
> 赞同：0
> 
> 时间：2012-12-21T07:13:51.997
> 
> 标签：sql, sql-server

我有 3 张桌子`Employee`和. 一个员工可以分配到多个项目，一个项目可以有多个员工。表保持员工和项目之间的多对多关系。我想要一个 sql server 中的 sql 查询，它返回一个曾经同时从事过多个项目的员工列表。`Project``Assignment``Assignment`

表的星形

**表员工**

```
EmpId,
EmpName 
```

**表项目**

```
ProjId,ProjName,ProjStartDate,ProjEndDate 
```

**任务**

```
AssignmentId,ProjId,EmpId,AssStartDate,AssEndDate 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:31:35.173

```
Select  EmpName,zt.* from
(
Select a.EmpId,Count(*) as cnt
from Assignment a 
Join Assignment b on a.EmpId=b.EmpId and a.ProjId<>b.ProjId
and 
(
(a.AssStartDate>=b.AssStartDate and a.AssStartDate<=b.AssEndDate) 
or 
(a.AssEndDate>=b.AssStartDate and a.AssEndDate<=b.AssEndDate) 
or
(b.AssStartDate>=a.AssStartDate and b.AssStartDate<=a.AssEndDate) 
or 
(b.AssEndDate>=a.AssStartDate and b.AssEndDate<=a.AssEndDate) 
)
Group by a.EmpId
Having Count(*)>1
) zt
join Employee e on e.EmpId=zt.EmpId 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:36:21.797

```
Select a.EmpId from Assignment a join Assignment b on 
a.EmpId = b.EmpId 
and
a.AssStartDate < b.AssEndDate
and
a.AssEndDate > b.AssStartDate 
```

# yii - 在资产目录 Yii 上创建随机文件夹

> ID：13985863
> 
> 赞同：4
> 
> 时间：2012-12-21T07:14:26.163
> 
> 标签：yii

有人能解释一下为什么在我的 Yii 项目的资产目录中创建随机文件夹吗？由于我使用 SVN 来控制版本，是否也需要提交这些文件夹？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-21T07:35:39.207

这些文件夹是各种小部件和 Yii 框架的其他部分所需的 js、css 和图像文件。你不想将它们提交到存储库，因为如果它们不存在，Yii 会自动重新生成一个新副本。

只需为其创建文件夹，如果您升级到新版本的小部件，则清除文件夹的内容，并且不要将它们添加到您的存储库中。

[http://www.yiiframework.com/wiki/148/understanding-assets/](http://www.yiiframework.com/wiki/148/understanding-assets/)

# sql - SQL Server 差异：Web 版与高级系列的 Express 版

> ID：13985866
> 
> 赞同：4
> 
> 时间：2012-12-21T07:15:05.913
> 
> 标签：sql, sql-server-2008, sql-server-2008-r2

我知道这听起来很愚蠢，但只是出于好奇，我这样问。

我正在使用高级服务（64 位）在 Microsoft SQL Server Express Edition 上开发一个 Web 应用程序。我的客户端有 SQL Server 2008 网络版。所以我只想知道两者之间的兼容性问题或任何功能差异，因为我必须在网络版上部署快速版。

请注意：我们没有任何高级功能实现，如报告、分析、BI。我们只有带有触发器和视图等的简单 CRUD 操作。我们可能会在我们的服务器上执行备份作业。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:24:25.357

Express 版和 Web 版是完全相同的代码库，完全相同的数据库文件格式 - 这里没有问题。

您可以：

*   使用 SQL 脚本针对新的 Web 版本数据库进行部署
*   或者您甚至可以将您的数据库从 Express 版备份/恢复到 Web 版服务器

更重要的一点是：它必须是**相同的版本**，例如**2008**或**2008 R2** - 不要混合使用！您不能将较新版本的备份恢复到较旧版本的 SQL Server（例如，您不能备份 SQL Server 2008 R2 Express 数据库，然后将其恢复到 SQL Server 2008 Web 版实例）。但是，使用 SQL 脚本的路径始终有效

# asp.net - 复制粘贴到输入文本将控制/不可打印字符提交到 Web 服务器和数据库

> ID：13985871
> 
> 赞同：2
> 
> 时间：2012-12-21T07:15:37.570
> 
> 标签：asp.net, .net

我刚刚意识到，在某些表单上，用户会复制粘贴数据（例如从 Word/Excel 复制到输入 [文本]）。该数据被提交，然后保存到数据库中。

控制字符和不可打印字符被保存并且用户看不到它，但我在应用程序中有一些文件报告/出站，这些包含奇怪的数据，例如：

> 英镑 ï¿½..

是这个（十六进制）的结果：

> 37 37 7c 47 42 50 **c2 a0 e2 80 93 c2 a0** 74 68 65

有没有办法在全局级别过滤掉这些特殊字符？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T13:56:32.893

您有几个实用程序方法附加到 char 类型（请参阅[http://msdn.microsoft.com/en-us/library/424s1h3z.aspx](http://msdn.microsoft.com/en-us/library/424s1h3z.aspx)）。

例如，要清理控制字符，您可以这样使用 linq：

```
public string CleanupControlsChars(string inString)
{
    return new string(inString.Where(ch => !char.IsControl(ch)).ToArray());
} 
```

# android - 如何使 TextView 的滚动在 android 中看起来更自然？

> ID：13985873
> 
> 赞同：0
> 
> 时间：2012-12-21T07:15:51.833
> 
> 标签：android, scroll, textview

这是使 TextView 可滚动的默认方式：-

```
TextView txtView = (TextView)findViewById(R.id.book_detail);
txtView.setMovementMethod(new ScrollingMovementMethod());
txtView.setText("someLongStringHere"); 
```

但我认为这不能正常工作，当手指离开屏幕时，它会停止滚动，这不能说是用户友好的设计。

有什么办法可以很好地做到吗？就像我们在 iOS verocity 滚动中所做的那样。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:41:08.897

用这个。

```
<ScrollView
    android:id="@+id/myScrollview"
    android:layout_width="match_parent"
    android:layout_height="250dp"">

    <TextView
        android:id="@+id/myTextview"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="@string/longString" />
</ScrollView> 
```

# sql - SQL Server - 如何更新论坛表中的子帖子数？

> ID：13985874
> 
> 赞同：1
> 
> 时间：2012-12-21T07:15:52.910
> 
> 标签：sql, sql-server, sql-server-2008

我需要更新一个跟踪论坛中“子”帖子数量的列。父帖子和子帖子都存储在同一个表中。架构是：

```
ForumPosts {
   PostID: bigint,
   ParentFK: bigint, -- if child, this will point to the parent
   AnswerCount: int
   ...
} 
```

如果帖子是子帖子，则**parentFK**指向**ForumPosts**表中的不同记录。

我想做这样的事情：

```
UPDATE ForumPosts 
SET AnswerCount = (
        SELECT COUNT(PostID) 
        FROM ForumPosts 
        WHERE ParentFK = ???
) 
```

...但它不起作用，因为 SELECT 需要引用正在更新的记录，我不知道该怎么做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:34:14.810

在子查询中使用*别名。*这样，您可以轻松地指定字段是属于子查询还是属于主更新查询。

```
UPDATE ForumPosts 
SET AnswerCount = (
        SELECT COUNT(sub.PostID) 
        FROM ForumPosts sub
        WHERE sub.ParentFK = ForumPosts.PostID
) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T07:34:37.503

你可以这样做：

```
UPDATE f
SET f.AnswerCount = t.Counts
FROM ForumPosts f
INNER JOIN
(
   SELECT ParentFk, COUNT(PostID) counts
   FROM ForumPosts
   GROUP BY ParentFK
) t ON f.PostId = t.ParentFK; 
```

**但是**，如果这些论坛帖子存储为层次结构，在这种情况下，您可以使用递归 CTE，如下所示：

```
DECLARE @parentID INT = 1;

WITH CTE
As
(
  SELECT PostId, ParentFK
  FROM ForumPosts
  WHERE parentFK = @parentId
  UNION ALL
  SELECT p.PostId, p.ParentFK
  FROM CTE c
  INNER JOIN ForumPosts p ON c.postId = p.parentFK
), WithCounts
AS
(
  SELECT ParentFk, Count(PostId) Counts
  FROM CTE
  GROUP BY ParentFK
)
UPDATE f
SET f.AnswerCount = t.Counts
FROM ForumPosts f
INNER JOIN WithCounts t ON f.PostId = t.ParentFK; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!3/f9f5f/2)

# matlab - 如何在matlab的“菜单”功能中插入图例？

> ID：13985877
> 
> 赞同：0
> 
> 时间：2012-12-21T07:15:58.710
> 
> 标签：matlab

例如，

k = 菜单('a','b','c');

然后我可以在弹出菜单中插入 a=amplitude

我基本上可以知道它是如何完成的吗？嗯……谢谢。

# iphone - Segue 未执行

> ID：13985883
> 
> 赞同：1
> 
> 时间：2012-12-21T07:16:35.277
> 
> 标签：iphone, ios, xcode, uiviewcontroller

我在应用程序的开头有一个登录视图控制器。然后，一旦用户登录成功，我就会将用户带到其中包含表格视图的视图。我已将表格视图嵌入到导航控制器中。我有一个将用户推送到详细视图的 segue。但是，只要单击行单元格，就会出现以下错误。

```
'Could not find a navigation controller for segue 'Event Details'. Push segues can only be used when the source controller is managed by an instance of UINavigationController.'' 
```

但正如我上面所说，有一个嵌入表格视图的导航视图控制器。是什么导致了这个错误？

该应用程序的流程如下

```
'->Login View     NavigatinViewController->(View with a table View inside)->Details' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:49:37.363

我认为在这里您不用`UINavigationController`作`RootViewController`.. 而您`UIViewController`用作 rootViewController.. 所以这个错误可能是这个问题

只需尝试按照此步骤进行输出..

1.  将一个新的导航控制器拖到您的故事板中 - 默认情况下，它将附加到一个 tableview 控制器

2.  删除 tableview 控制器右键单击导航控制器，并将“根视图控制器”属性连接到现有视图控制器

3.  将入口点箭头从视图控制器移动到根视图控制器

**更新：**

看看这个例子，你可以通过它进行验证并清楚地推送到你的详细视图中......

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([segue.identifier isEqualToString:@"AddPlayer"])
    {
        UINavigationController *navigationController = 
          segue.destinationViewController;
        PlayerDetailsViewController 
          *playerDetailsViewController = 
            [[navigationController viewControllers] 
              objectAtIndex:0];
        playerDetailsViewController.delegate = self;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:52:21.540

看起来您可能缺少视图控制器。

具体来说，你应该有类似的东西：

> 登录视图 > 导航控制器 > 表视图控制器 > 详细视图控制器

假设您正在创建故事板，可以通过选择表视图控制器并选择编辑器 > 嵌入 > 导航控制器来轻松添加导航控制器。

或者，如果您希望导航控制器仅用于嵌入在视图控制器对象中的表视图，我建议在视图控制器中创建一个容器视图以显示表视图和关联的导航控制器。

要完成后者，请将容器对象拖入视图控制器并调整其大小以适合您要显示的表格视图。删除容器视图自动创建的视图控制器。

接下来，创建一个表视图控制器并从容器视图中转到它。这个转场将是一个“嵌入”转场。最后，您可以将刚刚创建的表格视图控制器嵌入到导航控制器中，并将来自表格视图控制器的 push segue 添加到详细视图控制器中。

# php - 根据 CodeIgniter 中的权限显示菜单

> ID：13985887
> 
> 赞同：0
> 
> 时间：2012-12-21T07:16:50.070
> 
> 标签：php, codeigniter

无权访问菜单**主页、个人资料、画廊，请联系我们**。我有两种类型的用户，即**管理员**和**操作员**。例如，**管理员**只需在**主页**、**个人资料**和**联系我们**菜单中查看。而在**operator**中，只有**home**和**profile**菜单可见。如何区分codeigniter的权限？

请帮助我，谢谢:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:20:50.870

一种简单的方法是提供配置文件 ID 来区分用户。例如对于管理员 1 和操作员用户 2。当您在视图文件中显示菜单时，使用配置文件 ID 在菜单显示上设置一些条件。

请注意将配置文件 ID 与用户数据一起保存在会话数据中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T12:30:53.687

如果您从未设想拥有超过两种类型或需要一种管理员权限但不需要另一种管理员权限的人，则拥有不同的用户类型是可行的。一个更好的，或者更确切地说是面向未来的方法是通过角色来做到这一点。

创建一个角色表，其中包含您的不同角色，现在您将拥有管理员和用户角色供您使用。然后创建一个包含 RoleId 和 UserId 的连接表。当用户登录时，您创建一个会话变量并使用他们持有的不同角色的数组填充它，然后当您有一个需要保护的特定页面时，您只需检查该数组以获得所需的权限。

例如，假设您有一个商业站点，您需要用户登录、主管理员登录、销售登录和仓库登录。假设为了争论，销售和仓库需要编辑产品的能力，但不应允许仓库编辑价格。您当然可以分配不同的用户类型，然后在加载页面时检查这些用户类型，但是越来越多的权限需要得到的混乱。使用您为仓库和销售人员分配产品权限角色的角色，只有销售人员才能获得价格编辑权限。

正如我所说，如果您只需要两种不同的用户类型和两组不同的权限，那么基于角色的身份验证可能是矫枉过正的。但话虽如此，为您发现需要更多的情况进行计划和构建并没有什么坏处。

# c# - C# CS0079 事件处理编译错误

> ID：13985889
> 
> 赞同：3
> 
> 时间：2012-12-21T07:17:02.850
> 
> 标签：c#, .net, events, compiler-errors

我无法编译以下代码。

> *编译错误 CS0079：事件“CustomEvent”只能出现在 += 或 -= 的左侧*

```
if (CustomEvent != null)   //CS0079
    CustomEvent(null, null);  //CS0079 
```

我怎样才能使这项工作？

我的实现是这样的：

```
public delegate void EventHandler(object sender, EventArgs e);  
public static event EventHandler CustomEvent
{
    add    { CustomEvent += value; }
    remove { CustomEvent -= value; }
 }
private static void Func()
{
    if (CustomEvent != null)      //CS0079
        CustomEvent(null, null);  //CS0079
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-22T07:59:45.390

您的编辑显示了一个递归调用：您正在声明一个自定义事件，这意味着**您**要提供一个支持字段；例如：

```
private static EventHandler customEvent;
public static event EventHandler CustomEvent
{
    add    { customEvent += value; }
    remove { customEvent -= value; }
 }
private static void Func()
{
    var tmp = customEvent;
    if (tmp != null) tmp(null, null);
} 
```

请注意，`Func`我指的是***字段***( `customEvent`)，而不是***事件***( `CustomEvent`)。

但是，这更简单更好（线程安全）作为类似字段的事件：

```
public static event EventHandler CustomEvent;
private static void Func()
{
    var tmp = CustomEvent;
    if (tmp != null) tmp(null, null);
} 
```

类似字段的事件使用`event`关键字，但*省略*了访问器：编译器为您添加了许多样板文件（支持字段和线程安全的添加/删除实现）。此外，它允许*通过事件名称*（来自声明类型）访问支持文件，因此该行是如何`var tmp = CustomEvent;`工作的。

另外：对静态事件要非常小心；它们是意外保持大量对象存活的好方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T07:36:19.270

如果它是在当前类型中声明的类字段事件，则只能测试/调用*事件。*所以：有两种情况会导致这种情况：

1.  它不是类似字段的事件，但具有自定义`add`/`remove`访问器：在这种情况下，只有您的自定义代码知道委托的存储方式

2.  它没有在当前类型中声明，而是在基类型或一些不相关的对象中：在这种情况下，您需要获取声明类型来调用事件，通常通过`OnCustomEvent`方法。在基类型的情况下，约定是创建这个方法`protected virtual`，它允许子类调用事件*并*通过`override`

* * *

（评论）

> 它看起来像案例1。但是，我不明白如何解决这个问题。

如果您有自定义`add`/ `remove`，那么如何调用它是特定于实现的（如果我能看到`add`/ ，我可以告诉您更多信息`remove`），但让我们看一下两个常见的实现：

1a：支持代表：

```
private EventHandler someEvent;
public event EventHandler SomeEvent
{
    add { someEvent += value; }
    remove { someEvent -= value; }
} 
```

在这种情况下，“调用”实现将很简单：

```
if(someEvent != null) someEvent(this, EventArgs.Empty); 
```

或者如果您感到格外小心：

```
var handler = someEvent;
if(handler != null) handler(this, EventArgs.Empty); 
```

1b：an `EventHandlerList`（用于*稀疏*事件）：

```
private static readonly object SomeEventKey = new object();
public event EventHandler SomeEvent
{
    add { Events.AddHandler(SomeEventKey, value); }
    remove { Events.RemoveHandler(SomeEventKey, value); }
} 
```

在这种情况下，调用实现将是：

```
var handler = (EventHandler)Events[SomeEventKey];
if(handler != null) handler(this, EventArgs.Empty); 
```

# python - 与 Google 附近搜索的距离

> ID：13985894
> 
> 赞同：2
> 
> 时间：2012-12-21T07:17:29.270
> 
> 标签：python, google-maps-api-3

[我尝试使用以下代码从Google Nearby Search](https://github.com/slimkrazy/python-google-places)获取地点。

```
from googleplaces import GooglePlaces, types, lang

YOUR_API_KEY = 'AIzaSyAiFpFd85eMtfbvmVNEYuNds5TEF9FjIPI'

google_places = GooglePlaces(YOUR_API_KEY)

query_result = google_places.query(
        location='London, England', keyword='Fish and Chips',
        radius=20000, types=[types.TYPE_FOOD])

if query_result.has_attributions:
    print query_result.html_attributions

for place in query_result.places:
    # Returned places from a query are place summaries.
    print place.name
    print place.geo_location
    print place.reference

    # The following method has to make a further API call.
    place.get_details()
    # Referencing any of the attributes below, prior to making a call to
    # get_details() will raise a googleplaces.GooglePlacesAttributeError.
    print place.details # A dict matching the JSON response from Google.
    print place.local_phone_number
    print place.international_phone_number
    print place.website
    print place.url 
```

我得到了给定位置和半径的地点列表的 json 输出。我从 json 中检索了名称、地址、纬度、经度。我也需要那个地方的距离，但是找不到。有人请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:43:46.573

您可以使用[谷歌距离矩阵 API。](https://developers.google.com/maps/documentation/distancematrix/)

它会为您返回如下输出：

```
<?xml version="1.0" encoding="UTF-8"?> 
<DistanceMatrixResponse> 
<status>OK</status> 
<origin_address>Vancouver, BC, Canada</origin_address> 
<origin_address>Seattle, État de Washington, États-Unis</origin_address> 
<destination_address>San Francisco, Californie, États-Unis</destination_address> 
<destination_address>Victoria, BC, Canada</destination_address> 
<row> 
 <element> 
  <status>OK</status> 
  <duration> 
  <value>340110</value> 
  <text>3 jours 22 heures</text> 
  </duration> 
  <distance> 
   <value>1734542</value> 
   <text>1 735 km</text> 
  </distance> 
 </element>
 ...... 
```

# c# - 如何使用 C# 在 LAN 中查找可用的 IP 地址

> ID：13985895
> 
> 赞同：3
> 
> 时间：2012-12-21T07:17:31.280
> 
> 标签：c#, xaml, ip-address, lan

我正在尝试使用 XAML 和 C# 为 LAN (Windows Store App) 开发消息聊天应用程序。那么，首先我怎么能知道基于 IP 地址在 LAN 中可用的人？

任何示例代码或想法来实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T11:29:23.213

您不能使用 WinRT 依赖多播 :(

但是，您有 2 个解决方案：

1.  使用 IP 广播：将您的 bonjour 消息发送到 255.255.255.255
2.  添加服务器节点

请注意，解决方案 1 仅适用于 LAN，可能会受到路由器和网关配置的限制。

# jquery - jQuery：动态附加元素 + .on()

> ID：13985900
> 
> 赞同：1
> 
> 时间：2012-12-21T07:17:52.790
> 
> 标签：jquery, dom, href

我有一系列带有类的 HREF*购买*。单击时我会覆盖这些，如下所示：

```
$('.buy').on('click', function (e) {
     e.preventDefault();
     var me = $(this);
     // other stuff here... 
```

这按预期工作正常。当我将更多这些链接动态附加到 DOM 时，问题就来了。单击这些链接时，它们不会被捕获。我认为使用*.on()*方法进行绑定可以处理 JS 加载时 DOM 中不存在的项目。

不知道为什么，我似乎无法弄清楚。*正如预期的那样，使用带有.on*的标准点击捕获不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T07:18:39.987

```
$(document).on('click', '.buy', function(e){
     e.preventDefault();
     var me = $(this);
     // other stuff here...
}); 
```

该事件需要委托给静态元素，第二个参数是您希望函数运行的选择器。

您的方式虽然仍然保持不变，但不会将其附加到绑定到页面加载的静态元素上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T08:25:29.573

您也可以使用`.target`功能：

```
$(document).on('click', '.buy', function(e){
   e.preventDefault();
   var me = $(e.target);
   alert(me.attr('id'));
}); 
```

这个未经测试但可能有效：

```
$('.buy').on('click',function(e){     
   e.preventDefault();
   var me = $(e.target);
   alert(me.attr('id'));
}); 
```

# java - ImageLoader NullPointerException 对于屏幕外的 SlidingMenu 项目？

> ID：13985901
> 
> 赞同：-1
> 
> 时间：2012-12-21T07:17:53.290
> 
> 标签：java, android, asynchronous, actionbarsherlock, image-loading

我正在解析来自天气提要的 JSON 响应，并且我收到的数据包括与条件相对应的图标的 URL，然后我在 ImageView 中显示该图标。在将代码包移动到我的项目中之前，我能够在沙盒应用程序中完成这项工作。

在主项目中，我使用最新版本的[ActionBarSherlock](https://github.com/JakeWharton/ActionBarSherlock "动作条夏洛克")和[SlidingMenu](https://github.com/jfeinstein10/SlidingMenu "滑动菜单")进行导航，这两个应用程序都使用了[Android-Async-Http-Client](https://github.com/loopj/android-async-http "Android 异步 Http 客户端")但现在它在尝试在 ImageView 中显示来自该 url 的图标时出现致命的 NullPointerException。我不认为这是由任何库引起的。

我已经看到滑动菜单主要由某种类型的 ListView 组成，它使用适配器处理，我在滑动菜单的一部分中正在这样做。但我唯一的线索是它崩溃了，因为现在它是我正在尝试使用的屏幕外 UI 元素。我的滑动菜单中有一些不是由适配器处理的东西有关系吗？我无法想象还有什么不同，但也许你们对我缺少什么有所了解。希望这不是我刚刚忘记的基本内容……或者也许是:)

好的，谢谢你的任何想法。

![线框](../Images/15007c5e11cbe4bbbb49cb3042e09295.png)

```
public class MainActivity extends SlidingActivity implements
        ActionBar.OnNavigationListener {
    final String TAG = "MainActivity";
    private TextView mSelected;
    private String[] mLocations;
    ImageLoader imageLoader;
    ImageView weatherIcon;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        imageLoader = new ImageLoader(this);

        wireViews();

        getWeatherFeed();

        Context context = getSupportActionBar().getThemedContext();
        ArrayAdapter<CharSequence> list = ArrayAdapter.createFromResource(
                context, R.array.activities, R.layout.sherlock_spinner_item);
        list.setDropDownViewResource(R.layout.sherlock_spinner_dropdown_item);

        getSupportActionBar().setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);
        getSupportActionBar().setListNavigationCallbacks(list, this);
        getSupportActionBar().setDisplayShowTitleEnabled(false);

        // set the Behind View
        setBehindContentView(R.layout.menu_frame);

        // SlidingMenu
        SlidingMenu sm = getSlidingMenu();
        sm.setShadowWidthRes(R.dimen.shadow_width);
        sm.setShadowDrawable(R.drawable.shadow);
        sm.setBehindOffsetRes(R.dimen.slidingmenu_offset);
        sm.setFadeDegree(0.35f);
        sm.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);

        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
        setSlidingActionBarEnabled(false);

        ListView menuList = (ListView) findViewById(R.id.menuList);
        SlidingMenuItem[] data = new SlidingMenuItem[] {
                new SlidingMenuItem("Item1 Label", "Item1 Sub-label",getResources().getDrawable(R.drawable.item1)),
                new SlidingMenuItem("Item2 Label", "Item2 Sub-Label",getResources().getDrawable(R.drawable.item2)) };

        MenuAdapter adapter = new MenuAdapter(this, R.layout.sliding_menu_item,
                data);
        menuList.setAdapter(adapter);
    }

    private void updateWeatherUi(String degreeText, String descriptionText,
            String iconUrl) {
        Log.i(TAG, "Updating UI elements...");

        if (imageLoader != null) {
            Log.i(TAG, "IMAGE_LOADER NOT NULL!!!");
        }
        imageLoader.DisplayImage(iconUrl, weatherIcon);   // FIXME: FATAL CRASH HERE !!!
    }

    /** Build a Weather object from the JSON response.
     * @throws JSONException */
    private void buildWeatherObject(String rawResponse) throws JSONException {
        Log.i(TAG, "Building Weather ojbect...");

        JSONObject baseObject = new JSONObject(rawResponse);
        JSONObject data = new JSONObject(baseObject.getString(Key.DATA));

        JSONArray conditionArray = new JSONArray(
                data.getString(Key.CURRENT_CONDITION));

        for (int i = 0; i < conditionArray.length(); i++) {
            JSONObject conditionElement = new JSONObject(
                    conditionArray.getString(i));
            weather = new Weather();
            weather.tempMaxF = conditionElement.getString(Key.TEMP_F);

            JSONArray weatherDescriptionArray = new JSONArray(
                    conditionElement.getString(Key.W_WEATHER_DESC));
            for (int j = 0; j < weatherDescriptionArray.length(); j++) {
                JSONObject weatherDescriptionElement = new JSONObject(
                        weatherDescriptionArray.getString(j));
                weather.weatherDesc = weatherDescriptionElement
                        .getString(Key.VALUE);
            }

            JSONArray weatherIconArray = new JSONArray(
                    conditionElement.getString(Key.WEATHER_ICON_URL));
            for (int j = 0; j < weatherIconArray.length(); j++) {
                JSONObject weatherIconElement = new JSONObject(
                        weatherIconArray.getString(j));
                weather.weatherIconUrl = weatherIconElement
                        .getString(Key.VALUE);
                Log.i(TAG, weather.weatherIconUrl);
            }
            conditionElement = null;

            updateWeatherUi(weather.tempMaxF, weather.weatherDesc,
                    weather.weatherIconUrl);
        }
    }

    /** Asynchronously request and receive weather feed data. */
    private void getWeatherFeed() {
        Log.i(TAG, "Getting asynchronous JSON feed...");

        AsyncHttpClient client = new AsyncHttpClient();
        client.get(WEATHER_FEED_URL, new AsyncHttpResponseHandler() {
            @Override
            public void onSuccess(String response) {
                try {
                    buildWeatherObject(response);
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            }

            @Override
            public void onFailure(Throwable arg0, String arg1) {
                super.onFailure(arg0, arg1);
                showToast("Sorry, the weather forecast wasn't available just then.");
            }
        });
    }

    private void wireViews() {
        Log.i(TAG, "Wiring UI elements...");
        mSelected = (TextView) findViewById(R.id.text);
        mLocations = getResources().getStringArray(R.array.activities);
        weatherIcon = (ImageView) findViewById(R.id.weatherIconView);
    }

12-21 01:01:11.130: I/MainActivity(28502): Building Weather ojbect...
12-21 01:01:11.170: I/MainActivity(28502): http://www.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0001_sunny.png
12-21 01:01:11.170: I/MainActivity(28502): Updating UI elements...
12-21 01:01:11.170: I/MainActivity(28502): IMAGE_LOADER NOT NULL!!!
12-21 01:01:11.170: D/AndroidRuntime(28502): Shutting down VM
12-21 01:01:11.170: W/dalvikvm(28502): threadid=1: thread exiting with uncaught exception (group=0x4001d5a0)
12-21 01:01:11.180: E/AndroidRuntime(28502): FATAL EXCEPTION: main
12-21 01:01:11.180: E/AndroidRuntime(28502): java.lang.NullPointerException
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.eric.app.networkxml.ImageLoader.DisplayImage(ImageLoader.java:42)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.eric.app.MainActivity.updateWeatherUi(MainActivity.java:129)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.eric.app.MainActivity.buildWeatherObject(MainActivity.java:172)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.eric.app.MainActivity.access$0(MainActivity.java:137)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.eric.app.MainActivity$1.onSuccess(MainActivity.java:195)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.loopj.android.http.AsyncHttpResponseHandler.handleSuccessMessage(AsyncHttpResponseHandler.java:160)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.loopj.android.http.AsyncHttpResponseHandler.handleMessage(AsyncHttpResponseHandler.java:173)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.loopj.android.http.AsyncHttpResponseHandler$1.handleMessage(AsyncHttpResponseHandler.java:85)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at android.os.Handler.dispatchMessage(Handler.java:99)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at android.os.Looper.loop(Looper.java:150)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at android.app.ActivityThread.main(ActivityThread.java:4263)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at java.lang.reflect.Method.invokeNative(Native Method)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at java.lang.reflect.Method.invoke(Method.java:507)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
12-21 01:01:11.180: E/AndroidRuntime(28502):    at dalvik.system.NativeStart.main(Native Method) 
```

哎呀！我试图发布一个“片段”，但也许我应该发布完整的文件......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T21:32:12.940

将`updateWeatherUi()`逻辑放在末尾`buildWeatherObject()`为我解决了这个问题。

问题是我仍然不确定之前发生了什么。日志在我的原始代码中一直显示正确的数据，`imageLoader.DisplayImage(String, ImageView)`但我一直在那里崩溃`NullPointerException`。

# c# - 无法使用 OLEDB 驱动程序读取 Excel 工作表

> ID：13985904
> 
> 赞同：0
> 
> 时间：2012-12-21T07:18:09.573
> 
> 标签：c#, oledb

我有一个带有一个工作表的 excel 文件。我正在使用 MicroSoft.Office.Interop.Excel 读取此文件，然后执行进一步的执行。

这是我的代码：

```
 connString = "Provider=Microsoft.Jet.OLEDB.4.0; Data Source=" + strNewPath + ";Extended Properties=Excel 8.0;";
               conn = new OleDbConnection(connString);
                if (conn.State == ConnectionState.Closed)
                    conn.Open();
                System.Data.DataTable dt = null;
                dt = conn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null); 
```

但是，工作表不在数据表对象中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:27:27.083

您在哪里提到了表（工作表）名称？

```
 DataTable schemaTable = conn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables,
                                                       new object[] {null, null, null, "TABLE"});

//Get the First Sheet Name
        string firstSheetName = schemaTable.Rows[0][2].ToString(); 

        //Query String 
        string sql = string.Format("SELECT * FROM [{0}],firstSheetName); 
```

参考这里[MSDN](http://msdn.microsoft.com/en-us/library/system.data.oledb.oledbconnection.getoledbschematable%28v=vs.71%29.aspx)

如果您想玩，请参阅[从 C# 中读取 Excel 文件](https://stackoverflow.com/questions/15828/reading-excel-files-from-c-sharp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T11:08:49.700

即使你可以试试这个

```
var adapter = new OleDbDataAdapter("SELECT * FROM [workSheetNameHere$]", connectionString);
var ds = new DataSet();

adapter.Fill(ds, "NameHere");

DataTable data = ds.Tables["NameHere"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T10:33:28.437

OleDbConnection oconn = new OleDbConnection(@"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + fileName + "; Extended Properties=Excel 12.0;");

```
 //After connecting to the Excel sheet here we are selecting the data 
        //using select statement from the Excel sheet
        oconn.Open();
        DataTable dbSchema = oconn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
        if (dbSchema == null || dbSchema.Rows.Count < 1)
        {
            throw new Exception("Error: Could not determine the name of the first worksheet.");
        }
        string firstSheetName = dbSchema.Rows[0]["TABLE_NAME"].ToString();

        string tbstrat = "M1000";
        OleDbCommand cmd = new OleDbCommand();
        cmd.Connection = oconn;
        cmd.CommandText = "select * from [" + firstSheetName + "B8:" + tbstrat + "]";
        OleDbDataAdapter adap = new OleDbDataAdapter();
        DataTable dt = new DataTable();
        adap.SelectCommand = cmd;
        adap.Fill(dt);
        oconn.Close(); 
```

# objective-c - 多个异步 NSURLConnection 如何在内部处理

> ID：13985908
> 
> 赞同：2
> 
> 时间：2012-12-21T07:18:30.190
> 
> 标签：objective-c, ios, nsurlconnection

我很想知道多个异步`NSURLConnection`连接如何在内部处理？我知道他们使用内部后台线程来运行它，但可以说如果在代码中我`NSURLConnection`同时创建两个异步，这是否会在内部创建两个线程以并行运行它们，或者第二个连接将等待第一个完成？简而言之，请确认多个异步如何`NSURLConnection`实现并发？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:38:42.347

启动连接后，每个异步都`NSURLConnection`在自己的线程上运行（`NSURLConnection`必须在主线程上创建和启动异步！），并且在主线程上调用它们的委托和数据委托方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T08:07:13.570

您可以将其用作“NSOperationQueue”并使用 NSOperations 执行请求的其他选项。请参阅[http://www.icodeblog.com/2012/10/19/tutorial-asynchronous-http-client-using-nsoperationqueue/](http://www.icodeblog.com/2012/10/19/tutorial-asynchronous-http-client-using-nsoperationqueue/)了解更多详情。

谢谢，
吉姆

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T08:43:15.730

我猜它会并行运行。您可以查看有关网络编程的 WWDC 会议视频。

苹果工程师表示，逐个处理 url 请求很昂贵，并行运行它们更合理。原因是，为了处理一个请求，实际上大部分时间都花在了延迟上，而不是设备和服务器中的逻辑处理。因此，并行处理请求将有效减少延迟时间浪费。

所以我猜他们不会一一做异步 NSURLConnection 因为它与这个基本理论相矛盾。

此外，我尝试使用 NSURLConnection 异步下载图像。我曾经发出过几个请求。像

```
for ( i = 1 to 4) {
    send request i 
 } 
```

响应也不是按顺序的。

# javascript - 我们可以给一个带参数的回调吗？

> ID：13985910
> 
> 赞同：2
> 
> 时间：2012-12-21T07:18:33.153
> 
> 标签：javascript, callback, arguments

```
 function abc(arg1,arg2, callback){
        console.log(arg1 + arg2) // I am doing something really interesting
        if(callback){
        callback(arg1+ arg2)
        }
    }
    function add(){
            console.log("from call back " + arguments[0])
    }

    var a =10;
    abc(1,2, add) 
```

这很好，但是如果我们需要向回调发送一些额外的参数，我们应该怎么做？
在这里，除了`(arg1+ arg2)`我需要从`abc`回调 的调用者设置一些其他参数而且， 和
之间有什么区别？？ 谢谢 ：）`abc(1,2,add)``abc(1,2,add())`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-21T07:23:43.793

*   `abc(1,2,add)`=> 将函数参数作为“函数类型”。这就像给函数一个指针以便稍后调用它。

*   `abc(1,2,add())`=> 调用`add()`函数并将其返回值作为参数。

您需要回调支持的不仅仅是参数吗？由于 JavaScript 是一种动态语言，只需使用更多参数调用相同的回调函数：

*   `callback(1,2,3,4)`
*   `callback(1,2,3,4,5)`
*   `callback(1,2,3,4,5,6)`.

JavaScript 对函数签名并不严格：函数的参数与调用者提供的参数一样多。

例如，如果您有这样的回调函数：

```
function(a, b) {

} 
```

后来你这样称呼它：

```
function("hello"); // Where's the second argument?? 
```

JavaScript 不会抱怨。只是`b`将是未定义的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:23:40.097

add和add()的区别：add是一个函数，add()是函数的返回值。如果你想获得更多的函数参数。使用参数对象 每个函数都有一个参数对象 arguments[0] == 1 arguments[1] == 2 arguments[2] == add。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T07:28:26.790

您可以使用原始函数中的参数调用回调，也可以在函数调用中为回调提供参数：

```
function f1 (args, callback, params) {
    callback.apply(this, params); // Params needs to be an array
    callback.apply(this, [args]); // This would call callback with 1 param - args
    callback.call(this, args); // This is the same as the line above
}

function f2 () {
    for (item in arguments) {
        console.log(item);
    }
}

f1('arg', f2, [1, 2, 3]); 
```

如果您使用参数内的函数调用来调用函数，那么它将立即评估并且不会作为回调执行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T07:29:19.933

`abc(1,2,add)`和之间的区别在于`abc(1,2,add())`，在第二种情况下，它不是`abc`调用`add`. 结果是`add`执行得比预期的要快得多，而且没有任何参数。

将额外参数传递给回调的常用方法是创建一个关闭参数的匿​​名函数：

```
var a=10;
var b=20;
abc(a, b, function(text){
  add(a, b);
  console.log(text); //logs "abc"
}); 
```

# asp.net - 无法识别的配置部分

> ID：13985914
> 
> 赞同：12
> 
> 时间：2012-12-21T07:19:24.023
> 
> 标签：asp.net, .net, asp.net-mvc

我创建了一个自定义配置部分，如下所示

```
<configSections>
</configSections>
<Tabs>
    <Tab name="Dashboard" visibility="true" />
    <Tab name="VirtualMachineRequest" visibility="true" />
    <Tab name="SoftwareRequest" visibility="true" />
</Tabs> 
```

**自定义配置部分处理程序**

```
namespace EDaaS.Web.Helper
{
    public class CustomConfigurationHandler : ConfigurationSection
    {
        [ConfigurationProperty("visibility", DefaultValue = "true", IsRequired = false)]
        public Boolean Visibility
        {
            get
            {
                return (Boolean)this["visibility"];
            }
            set
            {
                this["visibility"] = value;
            }
        }
    }
} 
```

运行应用程序时抛出异常 **Unrecognized configuration section** Tabs。如何解决这个问题？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-12-21T08:26:03.163

您需要编写一个[`configuration handler`](http://msdn.microsoft.com/en-us/library/2tw134k3%28v=vs.100%29.aspx)来解析这个自定义部分。然后在您的配置文件中注册此自定义处理程序：

```
<configSections>
    <section name="mySection" type="MyNamespace.MySection, MyAssembly" />
</configSections>

<mySection>
    <Tabs>
        <Tab name="one" visibility="true"/>
        <Tab name="two" visibility="true"/>
    </Tabs>
</mySection> 
```

现在让我们定义相应的配置部分：

```
public class MySection : ConfigurationSection
{
    [ConfigurationProperty("Tabs", Options = ConfigurationPropertyOptions.IsRequired)]
    public TabsCollection Tabs
    {
        get
        {
            return (TabsCollection)this["Tabs"];
        }
    }
}

[ConfigurationCollection(typeof(TabElement), AddItemName = "Tab")]
public class TabsCollection : ConfigurationElementCollection
{
    protected override ConfigurationElement CreateNewElement()
    {
        return new TabElement();
    }

    protected override object GetElementKey(ConfigurationElement element)
    {
        if (element == null)
        {
            throw new ArgumentNullException("element");
        }
        return ((TabElement)element).Name;
    }
}

public class TabElement : ConfigurationElement
{
    [ConfigurationProperty("name", IsRequired = true, IsKey = true)]
    public string Name
    {
        get { return (string)base["name"]; }
    }

    [ConfigurationProperty("visibility")]
    public bool Visibility
    {
        get { return (bool)base["visibility"]; }
    }
} 
```

现在您可以访问设置：

```
var mySection = (MySection)ConfigurationManager.GetSection("mySection"); 
```

# php - MySQL & PHP：按英文字母顺序和非英文字符串长度对文本进行排序

> ID：13985915
> 
> 赞同：2
> 
> 时间：2012-12-21T07:19:24.010
> 
> 标签：php, mysql

我在 MySQL 数据库表中有一个文本字段，其中包含混合英语和非英语条目的文本值（假设以字母开头的字符串被视为英语）。

我想对值进行排序并在 HTML 下拉框中使用它。数据示例：

```
Banana
Apple
Juice
西瓜
水蜜桃
ピタヤピタヤ
ピーチ 
```

我想将其排序为：

```
Apple
Banana
Juice
西瓜
ピーチ
大水蜜桃
ピタヤピタヤ 
```

英文条目优先，按字母升序排列；然后是非英语条目，然后是字符串长度。我想我必须用 PHP 解决它，对吧？

PHP 伪代码

```
$result_set = ( get result set from database with MySQL query )
// perform array sort ( after identifying English & non-English
echo '<select>';
foreach($row in $result_set) {
  echo '<option value="{ some values here }">{ row text }</option>';
}
echo '</select>'; 
```

这里有2个问题：

1.  如何识别英文和非英文条目（在 PHP / MySQL 中）？
2.  是否可以仅在 MySQL 中解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:43:06.457

以下 ORDER BY 子句应该这样做：

```
ORDER BY IF(is_english(text), text, "zzzzzzzzz"), CHAR_LENGTH(text) 
```

您需要弄清楚如何实施`is_english()`. 一种简单的方法是向数据库中添加一列。或使用正则表达式查找任何非英文字母。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:27:57.863

使用这个查询，你只需要使用`COLLATE utf8_bin`它就会排序。

```
SELECT *
FROM Table1 
ORDER BY text COLLATE utf8_bin 
```

工作示例[http://sqlfiddle.com/#!2/46ba8/1](http://sqlfiddle.com/#!2/46ba8/1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T08:05:54.160

我觉得 MySQL 应该可以做到，但是我对 MySQL 没有经验，所以这里只能给出一个全 PHP 的解决方案：

（按照您的**“假设以字母开头的字符串被视为英语”**）：

```
$result_set=array(array("val"=>1,"text"=>"Banana"),array("val"=>2,"text"=>"Apple"),array("val"=>3,"text"=>"Juice"),array("val"=>4,"text"=>"西瓜"),array("val"=>5,"text"=>"大水蜜桃"),array("val"=>6,"text"=>"ピタヤピタヤ"),array("val"=>7,"text"=>"ピーチ"));

function isEng($str)
{
    $s=strtoupper(iconv_substr($str,0,1,"UTF-8"));
    if($s>="A" && $s<="Z") return true;
    else return false;
}
usort($result_set,function($a,$b){
    if(isEng($a["text"]))
    {
        if(isEng($b["text"]))
            return $a["text"]<$b["text"]?-1:($a["text"]>$b["text"]?1:0);
        else
            return -1;
    }
    else
    {
        if(isEng($b["text"]))
            return 1;
        else
            return iconv_strlen($a["text"],"UTF-8")-iconv_strlen($b["text"],"UTF-8");
    }
});

print_r($result_set); 
```

输出：

```
Array
(
    [0] => Array
        (
            [val] => 2
            [text] => Apple
        )

    [1] => Array
        (
            [val] => 1
            [text] => Banana
        )

    [2] => Array
        (
            [val] => 3
            [text] => Juice
        )

    [3] => Array
        (
            [val] => 4
            [text] => 西瓜
        )

    [4] => Array
        (
            [val] => 7
            [text] => ピーチ
        )

    [5] => Array
        (
            [val] => 5
            [text] => 大水蜜桃
        )

    [6] => Array
        (
            [val] => 6
            [text] => ピタヤピタヤ
        )

) 
```

# php - php/jquery-mobile：第二页未在两页表单上运行验证

> ID：13985917
> 
> 赞同：1
> 
> 时间：2012-12-21T07:19:37.297
> 
> 标签：php, forms, validation, jquery-mobile

我是 php 新手，正在尝试制作一个非常简单的两页表单。任何帮助或指导将不胜感激！

**问题：**

*   从第一页进入第二页时，第二页不会运行错误验证。
*   两个页面都正确运行错误验证 URL 直接输入

**设置：**

*   第 1 页是 HTML。它发布到第 2 页。
*   第 2 页是 php，第 1 页的数据存储在输入字段中

**现场示例：**

[http://www.linplusg.com/page1.html](http://www.linplusg.com/page1.html)

在 IE 中，来自第 1 页的第 2 页 URL 看起来不正确： [http ://www.linplusg.com/page1.html#/page2.php](http://www.linplusg.com/page1.html#/page2.php)

在 FF 和 Chrome 中，URL 看起来不错，但我认为发生了闪烁/刷新。

除了在对页面进行 POST 时打开页面之外，还会发生其他事情吗？某些值是否会存储在新字段中？我做错表格动作了吗？迷茫和迷茫...

非常感谢您的任何帮助或建议。我整晚都在寻找答案，我的大脑感觉像果冻。好像我错过了一些简单的东西？！

**第1页代码**

```
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>
        </title>
        <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="css/my.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.js">
        </script>
        <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.10.0/jquery.validate.min.js">
        </script>
        <script>
          $(document).ready(function(){
            $("#initialForm").validate();
            });
        </script>
    </head>
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-role="content">
              <form id="initialForm" method="post" action="page2.php">
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup" data-mini="true">
                        <label for="textinput3">
                            Zip Code
                        </label>
                        <input name="zip" id="zip" maxlength=5  value="" type="text" class="required" />
                    </fieldset>
                </div>
                <input type="submit" data-theme="e" value="Submit" />
              </form>  
            </div>
        </div>
    </body>
</html> 
```

**第 2 页代码**

```
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>
        </title>
        <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="css/my.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.js">
        </script>
        <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.10.0/jquery.validate.min.js">
        </script>    
        <script>
          $(document).ready(function(){
            $("#fullForm").validate();
            });
        </script>
    </head>
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-role="content">
              <form id="fullForm" method="get" action="">
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup" data-mini="true">
                        <input name="zip" id="zip"  value="<?php echo $_POST["zip"]; ?>" type="" />
                    </fieldset>
                </div>
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup" data-mini="true">
                        <label for="textinput3">
                            First Name
                        </label>
                        <input name="first_name" id="first_name" placeholder="" value="" type="text" class="required"/>
                    </fieldset>
                </div>
                <input type="submit" data-theme="e" value="Submit" />
              </form>  
            </div>
        </div>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T08:15:55.973

为了防止这种情况，您需要在 page1 的表单元素中指定 data-ajax="false"。

```
<form id="initialForm" method="post" action="page2.php" data-ajax="false"> 
```

有关详细信息，请参阅[http://jquerymobile.com/test/docs/forms/forms-sample.html](http://jquerymobile.com/test/docs/forms/forms-sample.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T08:06:11.947

如果没有 PHP 代码，我只能猜测，但也许是因为在第二种形式中你有一个`method="get"`而不是`method="post"`，而在 PHP 中你检查了`$_POST`变量？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T21:07:53.467

您可以保留 ajax 转换，并通过将脚本移动到具有数据角色“页面”的 div 内，仍然让您的 javascript 在第二页上执行。

在此处查看此答案：[https ://stackoverflow.com/a/6428127/2066267](https://stackoverflow.com/a/6428127/2066267)

# jquery - Jquery 最近找到 div 元素

> ID：13985918
> 
> 赞同：2
> 
> 时间：2012-12-21T07:19:39.247
> 
> 标签：jquery

按下按钮后，我想找到最接近它的 div。在下面的代码中，当我按下“myButton”按钮时，最近返回 id="outerDiv" 的 div，我有兴趣找到 id="innerDiv" 的 div。

据我了解，两个 div 都是按钮的父母，所以我不太明白我做错了什么。

这是我的代码：

```
<html>
<head>
<script src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>
<script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js'></script>
<script>
$(function()
{
   $(".buttons").click(function(e){
    alert(e.target.id)
    alert($(e.target).closest("div").attr("id"))    
    });    
});
</script>
</head>
<body>
<div id="outerDiv">
<table id="positions">
<div id="innerDiv">
<tr>
<th>name</th>
<th>id</th>
<th>button</th>
</tr>
<tr>
<td>omer</td>
<td>123</td>
<td><button id="myButton" class="buttons">Click</button></td>
</tr>
</div>
</table>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:39:57.643

你可以像这样制作你的结构（尽管你可以根据你的需要制作它）它只是一个演示：

```
<div id="outerDiv">
<table id="positions">
    <tr>
        <td>
            <div id='innerDiv1'>
                <table>
                    <tr>
                        <th>name</th>
                        <th>id</th>
                        <th>button</th>
                    </tr>
                    <tr>
                        <td>omer</td>
                        <td>123</td>
                        <td><button id='myButton1' class="buttons">Click</button></td>
                    </tr>

                </table>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div id='innerDiv2'>
                <table>
                    <tr>
                        <th>name</th>
                        <th>id</th>
                        <th>button</th>
                    </tr>
                    <tr>
                        <td>omer</td>
                        <td>123</td>
                        <td><button id='myButton2' class="buttons">Click</button></td>
                    </tr>

                </table>
            </div>
        </td>
    </tr>
</table> 
```

你可以在这里测试一下：http: [//jsfiddle.net/yH4YH/1/](http://jsfiddle.net/yH4YH/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:31:33.613

将 div 放在表格标签内是不合适的。如果您需要 id 为“innerDiv”的 div，请尝试

```
 $(function () {
        $(".buttons").click(function (e) {
            //alert(e.target.id)
            alert($(e.target).closest("table").find('div').attr("id"))
        });
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T07:28:22.257

```
<html>
    <head>
        <script src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>
        <script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js'></script>
        <script>
            $(function()
            {
               $(".buttons").click(function(e){
                alert(e.target.id)
                alert($(e.target).closest("div").attr("id"))    
                });    
            });
        </script>
    </head>
<body>
    <div id="outerDiv">
    </div>
    <div id="innerDiv">
        <table id="positions">
        <tr>
            <th>name</th>
            <th>id</th>
            <th>button</th>
        </tr>
        <tr>
            <td>omer</td>
            <td>123</td>
            <td><button id="myButton" class="buttons">Click</button></td>
        </tr>
        </table>
    </div>
</body>
</html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T08:08:58.093

您的 js 代码正在运行，只需通过移动对您的 html 代码进行验证

> `<table id="positions">`

和

> `</table>`

进入div。

# jquery - 使用幻灯片库时出现jquery冲突

> ID：13985922
> 
> 赞同：0
> 
> 时间：2012-12-21T07:19:55.863
> 
> 标签：jquery, slider, conflict

使用滑块库时，我无法在单击按钮时调用函数。当我从我的项目中删除所有滑块内容时，它工作正常。

```
 var dec_Options=[];
    var dec_Details=[];

    window.onload = function(){
        // fix height width of screen....
        var width=(parseInt($(document).width()));  
        var height=(parseInt($(window).height()));
        $('body').css({'height': height,'width':width});
        $('#page').css({'height': height,'width':width});       
    }   

    $(document).ready(function (){

       //slider initialize............
        $("#slider").easySlider({

                    continuous: true,
                    nextId: "slider1next",
                    prevId: "slider1prev"
        });

   //get data from ajax..............       
     syncDecorationDetails(function(decoOption,decoDetails){
        dec_Options = decoOption;
        //alert('inside------'+dec_Options);
        //options=dec_Options;
        dec_Details = decoDetails;
    }); 

 });

    //on click function called when button clicks...........
    function loadGalleryImage(){
         alert('fd');
    } 
```

HTML：

```
<!DOCTYPE HTML>
<html>
<head>
    <script src="js/jquery-1.8.3.js"></script>
    script src="js/syncData.js" type="text/javascript"></script>

// below script added is the file showqn above.............
    <script src="js/decor.js" type="text/javascript"></script>
//.........................

    <script type="text/javascript" src="sliderjs/easySlider1.7.js"></script>

<link href="css/screen.css" rel="stylesheet" type="text/css" media="screen" />
</head>

<body>
<div id="container">
    <div id="content">  
        <div id="slider">
            <ul>                
                <li><img src="chori1.jpg" /></a></li>
                <li><img src="chori2.jpg" /></a></li>

            </ul>
        </div>  
    </div>
</div>
<div>   
<button onclick="loadGalleryImage()">Try it</button>
</div>
</body>
</html> 
```

现在，如果我在此按钮之前的 div 内再添加一个按钮，那么它只能在 div 之外正常工作，而不是在 div 中。

```
<div id="decorationSelection" >
        <button onclick="loadGalleryImage()"></button>
</div>  
//...this button below work  but f  the above code of div and button inside is  there 
 <button onclick="loadGalleryImage()">Try it</button> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:28:29.690

错误在这里->

```
// below script added is the file showqn above.............
<script src="js/decor.js" type="text/javascript"></script>
//.........................
<script type="text/javascript" src="sliderjs/easySlider1.7.js"></script> 
```

你说那`decor.js`是引用`easySlider`函数的文件。*但是，在调用 easySlider 脚本之前，*您不会加载它。这永远不会奏效。只需将easySlider 脚本放在decor 脚本*上方*，您就不会再在控制台中收到有关缺少easySlider 功能的错误消息。

```
<script type="text/javascript" src="sliderjs/easySlider1.7.js"></script>
<script src="js/decor.js" type="text/javascript"></script> 
```

这就是它应该看起来的样子。

# mysql - bash脚本到一个班轮

> ID：13985928
> 
> 赞同：1
> 
> 时间：2012-12-21T07:20:44.553
> 
> 标签：mysql, linux, bash, shell, mysqldump

我的以下是我需要能够在一行上运行的 bash 脚本

```
### Setup dump directory ###
BAKRSNROOT=/.snapshots/tmp

#####################################
### ----[ No Editing below ]------###
#####################################
### Default time format ###
TIME_FORMAT='%H_%M_%S%P'

### Make a backup ###
backup_mysql_rsnapshot(){
        local DBS="$($MYSQL -u $MUSER -h $MHOST -p$MPASS -Bse 'show databases')"
        local db="";
        [ ! -d $BAKRSNROOT ] && ${MKDIR} -p $BAKRSNROOT
        ${RM} -f $BAKRSNROOT/* >/dev/null 2>&1
#       [ $VERBOSE -eq 1 ] && echo "*** Dumping MySQL Database ***"
#       [ $VERBOSE -eq 1 ] && echo -n "Database> "
        for db in $DBS
        do
                local tTime=$(date +"${TIME_FORMAT}")
                local FILE="${BAKRSNROOT}/${db}.${tTime}.gz"
#               [ $VERBOSE -eq 1 ] && echo -n "$db.."
                ${MYSQLDUMP} --single-transaction -u ${MUSER} -h ${MHOST} -p${MPASS} $db | ${GZIP} -9 > $FILE
        done
#               [ $VERBOSE -eq 1 ] && echo ""
#               [ $VERBOSE -eq 1 ] && echo "*** Backup done [ files wrote to $BAKRSNROOT] ***"
}

### Die on demand with message ###
die(){
        echo "$@"
        exit 999
} 
```

我很困惑的是我可以写：

```
DBS="$($MYSQL -u $MUSER -h $MHOST -p$MPASS -Bse 'show databases')"; for db in $DBS do mysqldump...morecode here 
```

或者那不可能？我需要能够在一行中执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T07:27:37.223

**是**的，你可以做到。

看我的例子：

```
~$ mysql -uroot -proot -Bse 'show databases'
information_schema
Company
UpdatedStructure
bd9199ce_7ccf_11e1_a561_3860779d10f7_db
checking
checkk
db_nagiosql_v32
demo
june14
mahi
midnms
mysql 
```

现在我将此输出存储在数组中：

```
:~$ mydbs="$(mysql -uroot -proot -Bse 'show databases')" 
```

这实际上是有效的：

```
:~$ for db in $mydbs; do echo $db;done;
information_schema
Company
UpdatedStructure
bd9199ce_7ccf_11e1_a561_3860779d10f7_db
checking
checkk
db_nagiosql_v32
demo
june14
mahi
midnms
mysql 
```

代替`for db in $mydbs; do echo "$db"; done;` 你可以这样写：

```
for db in $mydbs; do mysqldump -uroot -proot "$db" > "$db.sql" ; done; 
```

**在一行中做**：

```
$ DBs="$(mysql -uroot -proot -Bse 'show databases')" ; for db in $DBs; do echo $db;done;
information_schema
Company
UpdatedStructure
bd9199ce_7ccf_11e1_a561_3860779d10f7_db
checking
checkk
db_nagiosql_v32
demo
june14
mahi
midnms
mysql 
```

你也可以这样做：

```
:~$ for db in $(mysql -uroot -proot -Bse 'show databases'); do echo $db; done; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:27:51.673

单行 for 循环的正确语法是：

`for asdf in blah; do something; done`

注意额外的分号。

# eclipse - 哪些代码覆盖支持JDK1.7？

> ID：13985933
> 
> 赞同：2
> 
> 时间：2012-12-21T07:21:27.577
> 
> 标签：eclipse, java-7

> **可能重复：**
> [Testng、Emma、Cobertura、coverage 和 JDK 7 导致 ClassFormatError 和 VerifyError](https://stackoverflow.com/questions/7010665/testng-emma-cobertura-coverage-and-jdk-7-result-in-classformaterror-and-verif)

我最近将 JDK6 移动到 JDK7。在我的 Eclipse 中，我安装了用于代码覆盖的 emma 插件。它在 jdk1.6 中工作正常。现在我使用了 JDK7。但它不起作用。我已经用谷歌搜索并搜索了一些代码覆盖工具喜欢，

```
1.emma
2.Jacoco
3.cobertura 
```

但它们都不支持JDK1.7。

谁能告诉我哪个工具支持 Windows 和 linux 平台的 JDK1.7？

我认为与其他艾玛相比更好。但它不支持。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:58:09.313

根据[论文“EclEmma 2.0”](http://www.eclemma.org/devdoc/eclemma20.html)，[Jacoco](https://github.com/jacoco/jacoco)（你看过的）应该可以与 Java 1.7 一起使用。
（在这里查看所有[Jacoco 版本](http://www.eclemma.org/jacoco/index.html)）

> Java 运行时：由于 JaCoCo 需要 Java 1.5，因此运行 EclEmma 的 Eclipse 实例和被测应用程序需要相同的最低 JRE。
> 请注意，这不适用于被测试的 Java 类文件：**从 Java 1.0 到 1.7 的任何类文件版本都是可能的**。

最新的[变化历史提到](http://www.eclemma.org/jacoco/trunk/doc/changes.html)：

> ### 发布 0.6.0 (2012/10/06)
> 
> 新的功能
> 
> 对 Java 7 的全面支持，包括`INVOKEDYNAMIC`JaCoCo 现在基于 ASM 4.0 (GitHub #5)。

（此后，0.6.1，2012/12/19已经发布）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:39:00.253

我不使用代码覆盖率。但[Google CodePro AnalytiX](https://developers.google.com/java-dev-tools/download-codepro)可与 Eclipse 一起使用并包含代码覆盖率。显然基于 EMMA，我不知道它是否适用于 Java 7。但值得一试。

# wordpress - 侧边栏小部件未出现在我的网站中

> ID：13985935
> 
> 赞同：0
> 
> 时间：2012-12-21T07:21:38.100
> 
> 标签：wordpress

我有 2 个网站使用相同的模板.. 但是在我的一个网站中，侧边栏根本没有出现..（在侧边栏中，它已经有一些小部件，但不知道为什么它们没有在我的侧边栏中显示这些小部件）

**他们在这里：**

```
http://certifiedwelderservices.com/  //sidebar not getting
http://deputy-inspector.com/ 
```

我不明白为什么下面的代码是空的：（我在侧边栏中保留了 3 个小部件）

```
<div class="barsmall right" id="right_colum">
                            </div> 
```

侧边栏本身没有显示...

请有人调查一下。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:29:01.417

在开发第二个站点时，您是否只是复制了第一个完整站点？

意思是，开发人员站点 A，然后将设置移动到站点 B，然后有问题？

您是如何转移网站并更改 URL 的？可能是主题或小部件使用了序列化的 PHP 字符串，并且没有正确地进行域更改。

如果您知道自己在使用 WP 数据库做什么，则此搜索和替换工具非常有用。 [http://interconnectit.com/products/search-and-replace-for-wordpress-databases/](http://interconnectit.com/products/search-and-replace-for-wordpress-databases/)

# php - 如何使用 PHP 将日期数组转换为 3 级嵌套列表

> ID：13985937
> 
> 赞同：1
> 
> 时间：2012-12-21T07:21:45.850
> 
> 标签：php, loops, logic

我有一系列按时间降序排列的日期。当我遍历它们时，目前我正在拆分字符串并使用当前年份和月份并将其与上一个月份进行比较。

这是所需的输出（示例）：

```
<ul>
    <li><h1>2012</h1>
<ul>
<li><h2>Jan</h2>
    <ul>
    <li>Jan 1, 2012</li>
    <li>Jan 5, 2012</li>
    </ul>
</li>
<li><h2>Feb</h2>
    <ul>
    <li>Feb 3, 2012</li>
    <li>Feb 8, 2012</li>
    </ul>
</li>
</ul>
    </li>
    <li><h1>2011</h1>
<ul>
<li><h2>Jan</h2>
    <ul>
    <li>Jan 2, 2011</li>
    <li>Mar 2, 2011</li>
    </ul>
</li>
<li><h2>Feb</h2>
    <ul>
    <li>Feb 9, 2011</li>
    <li>Feb 20, 2011</li>
    </ul>
</li>
</ul>
    </li>
    </ul> 
```

* * *

这是我的尝试之一：

```
$archiveDateHTML = '<ul id="menu">';
$c = 0;

foreach ($ArchiveDates as $k=>$value){
$dateArray = split(' ', $value);

if($currentYear !== $dateArray[2] && $c+1 < count($ArchiveDates)){
    if($c > 0){ $archiveDateHTML .= '</ul>';}
    $archiveDateHTML .= '<h2 class="yearTitle">'.$dateArray[2].'</h2>';
    $archiveDateHTML .= '<ul class="yearList">';
    $newYear = 1;
}
if($currentMonth !== $dateArray[0] && $c+1 < count($ArchiveDates)){
    if($c > 0 && $newYear==0){ $archiveDateHTML .= '</ul>';}
    $archiveDateHTML .= '<h3 class="monthTitle">'.$dateArray[0].'</h3>';
    $archiveDateHTML .= '<ul class="monthList">';
    $newYear = 0;
}

$archiveDateHTML .= $value;

$currentYear = $dateArray[2];
$currentMonth = $dateArray[0];
$c++;
}
$archiveDateHTML .= '</ul>'; 
```

上面的代码有一些明显的问题。我不断接近，但无法完全理解逻辑。请协助并非常感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:28:34.373

这就是我将如何做到的。创建所需的输出数据结构，然后对其进行迭代以打印出 ul/li 元素。

不确定 HTML 是否有效，但您应该能够轻松解决该问题。在 PHP 中操作数据时，在第一次迭代期间同时进行操作和输出绝不是一个好主意。它使您的代码更加复杂。总是试图分解问题。

```
<?

$dates = array("2012 Jan 1","2012 Jan 2","2012 Feb 4");
$output = array();
foreach($dates as $date) {
    list($year, $month, $day) = split(' ', $date);
    $output[$year][$month][] = $day;
}

foreach($output as $year => $months) {
    print <<<HTML
    <ul>
    <li><h1>$year</h1>
<ul>
HTML;

    foreach($months as $month => $days) {
        print <<<HTML
        <li><h2>$month</h2>
    <ul>
HTML;

        print "<li>$month $day, $year</li>\n";

    print <<<HTML
    </ul>
</li>
HTML;

    }

    print <<<HTML
    </ul>
    </li>
    </ul>
HTML;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:42:04.033

与 paulgrav 类似，这是我的回答：

```
$dates = array(
  'Jan 1, 2012',
  'Jan 5, 2012',
  'Feb 3, 2012',
  'Feb 8, 2012',
  'Jan 2, 2011',
  'Mar 2, 2011',
  'Feb 9, 2011',
  'Feb 20, 2011');

$out = array();

foreach ($dates as $date) {
  list($m, $d, $y) = explode(" ", $date);
  $out[$y][$m][] = $date;
}

foreach ($out as $year => $group) {
  echo "<ul>\n";
  echo "  <li><h1>$year</h1>\n";
  echo "    <ul>\n";
  foreach ($group as $month => $dates) {
    echo "    <li><h2>$month</h2>\n";
    echo "      <ul>\n";
    foreach ($dates as $date) {
      echo "        <li>$date</li>\n";
    }
    echo "      </ul>\n";
    echo "    </li>\n";
  }
  echo "    </ul>\n";
  echo "  </li>\n";
  echo "</ul>\n";
} 
```

**输出**

```
<ul>
  <li><h1>2012</h1>
    <ul>
    <li><h2>Jan</h2>
      <ul>
        <li>Jan 1, 2012</li>
        <li>Jan 5, 2012</li>
      </ul>
    </li>
    <li><h2>Feb</h2>
      <ul>
        <li>Feb 3, 2012</li>
        <li>Feb 8, 2012</li>
      </ul>
    </li>
    </ul>
  </li>
</ul>
<ul>
  <li><h1>2011</h1>
    <ul>
    <li><h2>Jan</h2>
      <ul>
        <li>Jan 2, 2011</li>
      </ul>
    </li>
    <li><h2>Mar</h2>
      <ul>
        <li>Mar 2, 2011</li>
      </ul>
    </li>
    <li><h2>Feb</h2>
      <ul>
        <li>Feb 9, 2011</li>
        <li>Feb 20, 2011</li>
      </ul>
    </li>
    </ul>
  </li>
</ul> 
```

# java - 类及其对象

> ID：13985938
> 
> 赞同：1
> 
> 时间：2012-12-21T07:21:47.893
> 
> 标签：java, oop

```
public class A
{
    private void sub()
    {
        add();
    }

    private void add()
    { 
          -----
    }
} 
```

我可以像上面那样在 sub 中调用 add 方法，我可以像下面那样做

```
public class A
{
    private void sub()
    {
        A obj_A = new A();
        obj_A.add();
    }
    private void add()
    { 
           -----
    }
} 
```

我想知道它们之间的区别。谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T07:23:49.213

*   如果您使用第一个类创建 A 的实例并调用`sub()`，您将在方法范围内拥有一个 A 的实例。
*   如果您使用第二个类创建 A 的实例并调用`sub()`，您将在方法范围内拥有 2 个 A 实例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T09:02:25.710

Java 类定义了一个特殊的成员，称为[`this`](http://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html)引用当前对象。

[这个答案](https://stackoverflow.com/questions/3728062/what-is-the-meaning-of-this-in-java)会给你更多的细节[`this`](http://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T07:26:53.317

在第一个方法中，您正在调用`add`该类的同一实例的方法。在第二个示例中，您将创建该类的一个新实例并调用其`add`方法。

例如：

```
public class A
    {
        private int num = 3;

        private void sub()
        {
          num = 10;            
          add();
        }
        private void add()
        { 
              system.out.println(num);
        }
    }

public class A
{
    private int num = 3;

    private void sub()
    {
        A obj_A = new A();
        num = 10;      
        obj_A.add();
    }
    private void add()
    { 
           system.out.println(num);
    }
} 
```

在第一个示例中，它将打印 10。在第二个示例中，它将打印 3。这是因为在第一个示例中，您正在打印您之前修改过的实例本身的 num。在第二个示例中，您还修改了 num 值，但由于您正在调用您创建的新类的 add ，它将打印 3。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-21T07:24:16.017

```
private void sub()
{
  add();
} 
```

在调用方法`add()`的同一对象上调用`sub()`方法。

```
private void sub()
{
   A obj_A = new A();
   obj_A.add();
} 
```

创建类型 A 的新对象并`add()`在其上调用方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-21T07:24:45.107

通过第二种方法，调用 add 方法将创建两个对象，通过使用方法 1，我们只需创建一个对象即可访问 add 方法

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-21T07:25:06.713

在第二个方法中，我们正在创建对象。

第一种方法更好。

# objective-c - 如何以编程方式将 seachDisplayController 视图重置为原始状态

> ID：13985942
> 
> 赞同：4
> 
> 时间：2012-12-21T07:22:00.973
> 
> 标签：objective-c, uisearchdisplaycontroller, uisearchbardelegate

我的 UISearchDisplayController 页面视图如下（原始状态）

![在此处输入图像描述](../Images/f07eb90ff546406cf1e2da7c1bee0680.png)

单击搜索栏并输入一些搜索词后，我会在表格中获得结果列表

![在此处输入图像描述](../Images/e37ff539ff1a40d9115296503148140a.png)

单击表中的条目后，堆栈顶部会显示一个新的 viewController

![在此处输入图像描述](../Images/cfe8656b96a6e147bea76f25f0ce5dd9.png)

我的意图是单击取消按钮（在左上角），根视图将显示 searchDisplay 控制器的原始状态

![在此处输入图像描述](../Images/27711ab2b43e5dfeaafee9eeeed088ea.png)

这是我尝试过的

在我的取消方法中（当我点击左上角的取消按钮时触发）

```
- (void)cancel
{
  [self dismissViewControllerAnimated:YES completion:NULL];
  [self searchBarCancelButtonClicked:self.searchDisplayController.searchBar];
} 
```

在搜索栏委托方法中，我这样做了

```
- (void)searchBarCancelButtonClicked:(UISearchBar *)searchBar {
    self.searchBar.showsCancelButton = NO;

    [self.searchBar resignFirstResponder];
    self.searchBar.text = @"";
    searchDisplayController.searchResultsTableView.hidden = YES;
    [self searchDisplayControllerWillEndSearch:self.searchDisplayController];
} 
```

单击取消按钮后，我设法实现的就是这个

![在此处输入图像描述](../Images/291043adaaef52e7588007ba3dd31eb5.png)

原来的tableview似乎不见了（只有当我点击页面时才会出现）

如何修改我的方法以将搜索恢复到其原始状态？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-24T19:06:11.733

尝试`[searchDisplayController setActive:NO animated:NO]`

这应该隐藏搜索表。

# cordova - Google Analytics 插件不适用于 PhoneGap 2.1

> ID：13985946
> 
> 赞同：0
> 
> 时间：2012-12-21T07:23:08.067
> 
> 标签：cordova

我已将我的 phonegap 版本升级到 2.1，并且出现了很多错误。在 github 上没有讨论 2.1 的谷歌分析的部分。 [GitHub](https://github.com/purplecabbage/phonegap-plugins/tree/master/iOS)

关于如何让它们一起工作的任何想法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-22T23:08:21.113

如果这适用于 iOS，我最近将[这个](https://github.com/jelled/google-analytics-cordova-ios "https://github.com/jelled/google-analytics-cordova-ios")插件代码的 Git 放在一起，我用来让最新的 Google Analytics 与 Cordova 2.2.0 一起工作。请注意，最新的 Google Analytics SDK 使用不同的框架（SystemConfiguration 和 CoreData 而不是 libsqlite3.0.dylib），因此如果您要升级，请不要忘记将它们换掉。

如果这是 Android，虽然我自己没有测试过这两个 Git，但它们声称可以在 Android 上使用最新版本的 Cordova。

[https://github.com/DoersGuild/Cordova-Android-Analytics](https://github.com/DoersGuild/Cordova-Android-Analytics)

[https://github.com/Ranhiru/cordova-google-analytics/tree/master/Android](https://github.com/Ranhiru/cordova-google-analytics/tree/master/Android)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:25:44.047

在[README](https://github.com/purplecabbage/phonegap-plugins/blob/master/iOS/GoogleAnalytics/README.md)中，它说：

> 确保您正在运行 Cordova(PhoneGap) 1.5.0

简而言之，该插件不支持 PhoneGap 2.1 。

# mysql - MySQL 'if exists' error

> ID：13985950
> 
> 赞同：3
> 
> 时间：2012-12-21T07:23:32.810
> 
> 标签：mysql, exists

I got a error in my MySQL query:

```
if not exists(select * from tb_user where user_id=1) then
     select 'ok' as rul;
else
     select 'not' as rul;
end if; 
```

Where's my problem?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T07:28:03.663

The IF statement can only be used in stored functions. You can do what you want with the IF() function, as follows:

```
SELECT IF(EXISTS(select * from tb_user where user_id=1), 'ok', 'not') as rul; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T07:34:54.477

Another method: You may also use `case when`

```
Select case
when exists(select * from tb_user where user_id=1)
then 'Ok'
else 'Not'
end
; 
```

## * [SQLFiddle Demo](http://sqlfiddle.com/#!3/c070b/1)

Sample table:

```
ID  NAME
1   john
2   tim
3   jack
4   rose 
```

Query: renamed the columns as `Status`

```
Select case
when exists(select * from table1 where id=1)
then 'Ok'
else 'Not'
end as Status
; 
```

Results:

```
STATUS
Ok 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T07:33:54.307

```
SELECT IF(COUNT(*) > 0, 'ok', 'not') rul FROM tb_user WHERE user_id = 1; 
```

# javascript - 自动填充表单之类的扩展如何保存配置文件的表单数据

> ID：13985957
> 
> 赞同：2
> 
> 时间：2012-12-21T07:23:54.213
> 
> 标签：javascript, firefox-addon

我试图开发一个像自动填充表单这样的扩展。它看起来很简单，但是在实现时我被卡住了。我们如何存储永久创建的配置文件的数据。我尝试在 javaScript 中使用 localStorage 来保存数据，但它是临时的。任何指导都会非常有用。只要告诉我我到达目的地的方式

```
function count()
{
 var inputs = $("input:text").length;
    alert("inputs are = "+inputs);

 var cnt = document.forms.length;

 alert(cnt);

 for (var a=0;a<document.forms.length;a++)
 {
  var x=0;
  var elem = document.forms[a].elements;
     for (x=0;x<document.forms[a].elements.length;x++)
  {
   //elem[x].value="Hello";
   if(x==0)
   {
    localStorage.setItem('userName', elem[x].value);    
   }
  }
  alert("Your user is: " + localStorage.getItem('userName'));
 }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T07:39:23.680

使用 Preferences 服务将数据存储在用户的配置文件中。例如：

```
var prefService = Cc["@mozilla.org/preferences-service;1"].getService(Ci.nsIPrefService);
var prefs = prefService.getBranch("extensions.YOUREXTENSIONABBREVIATION.");

//elem[x].value = "Hello";
if (x==0) {
   prefs.setCharPref('userName', elem[x].value);
   prefService.savePrefFile(null);  
}
alert("Your user is: " + prefs.getCharPref('userName')); 
```

有关更多信息，请查看此处：

[https://developer.mozilla.org/en-US/docs/Adding_preferences_to_an_extension](https://developer.mozilla.org/en-US/docs/Adding_preferences_to_an_extension)

在扩展的“defaults/preferences”文件夹中包含一个“defaults.js”文件。初始化您将存储在首选项文件中的每个项目，以防您尝试在它存在之前检索它。

# android - Android TabActivity：如何仅从当前选项卡启动活动？

> ID：13985960
> 
> 赞同：0
> 
> 时间：2012-12-21T07:24:00.487
> 
> 标签：android, android-activity, android-tabhost

在我的活动中，我有一个`TabHost`.

我有 3 个标签和 3 个活动供他们使用。单击选项卡时如何启动相应的活动？

目前这三个活动都开始了……

如果我运行此代码，每个活动 ( `connected_upload`, `connected_download`, `connected_search`) 都会运行 " `onCreate`" 方法。

如何手动启动这些活动？我的意思是我只想在单击相应的选项卡时才开始活动......

```
public class connected extends TabActivity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.connected);

        Resources res = getResources(); // Resource object to get Drawables   
        TabHost tabHost = getTabHost();  // The activity TabHost  
        TabHost.TabSpec spec;  // Resusable TabSpec for each tab    
        Intent intent;  // Reusable Intent for each tab   

        intent = new Intent().setClass(this, connected_upload.class);      
        spec = tabHost.newTabSpec("Hoch").setIndicator("Hoch",res.getDrawable(R.drawable.freeftp)).setContent(intent); 
        tabHost.addTab(spec);   

        intent = new Intent().setClass(this, connected_download.class); 
        String str_path = getIntent().getStringExtra("path");
        String str_profil = getIntent().getStringExtra("profil");
        String str_server = getIntent().getStringExtra("server");
        String str_port = getIntent().getStringExtra("port");
        String str_user = getIntent().getStringExtra("user");
        String str_password = getIntent().getStringExtra("pw");

        intent.putExtra("path", str_path);
        intent.putExtra("profil", str_profil);
        intent.putExtra("server", str_server);
        intent.putExtra("port", str_port);
        intent.putExtra("user", str_user);
        intent.putExtra("pw", str_password);

        spec = tabHost.newTabSpec("Herunter").setIndicator("Herunter",res.getDrawable(R.drawable.freeftp)).setContent(intent); 
        tabHost.addTab(spec); 

        intent = new Intent().setClass(this, connected_search.class); 
        spec = tabHost.newTabSpec("Search").setIndicator("Search",res.getDrawable(R.drawable.freeftp)).setContent(intent); 
        tabHost.addTab(spec);

        tabHost.setCurrentTab(1);

        //Button Connect Server
        Button cmd_mainsite = (Button)findViewById(R.id.but_connected_mainsite);
        cmd_mainsite.setOnClickListener(new View.OnClickListener(){         
            public void onClick(View v){
                finish();
                Intent Intent_mainsite = new Intent(connected.this, Login.class);
                startActivity(Intent_mainsite); 
            }       
        });

    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-24T08:28:13.863

根据您的要求使用此代码

**MainActivity.java**

```
public class MainActivity extends TabActivity {

                        @Override
                        public void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            setContentView(R.layout.main);

                           Resources res = getResources();
                            TabHost th = getTabHost();

                            th.addTab(th.newTabSpec("").setIndicator("tab1",
                                    res.getDrawable(R.drawable.icon)).
                                    setContent(new Intent(this, firsttab.class)));
                            th.addTab(th.newTabSpec("").setIndicator("tab2")
                                    .setContent(new Intent(this, secondtab.class)));
                            th.addTab(th.newTabSpec("").setIndicator("tab3")
                                    .setContent(new Intent(this, thirdtab.class)));

    th.setCurrentTab(1);
                }
                } 
```

**主要的.xml**

```
<?xml version="1.0" encoding="utf-8"?>

    <TabHost xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@android:id/tabhost" 
        android:layout_width="match_parent"
        android:layout_height="match_parent">
            <LinearLayout 
            android:layout_width="match_parent" 
            android:id="@+id/linearLayout1" 
            android:layout_height="match_parent" 
            android:orientation="vertical">

                <FrameLayout 
                android:layout_width="match_parent"
                 android:layout_height="match_parent" 
                 android:id="@android:id/tabcontent"
                 android:layout_weight="1">

                </FrameLayout>
                 <TabWidget 
                android:layout_width="match_parent" 
                android:layout_height="wrap_content" 
                android:id="@android:id/tabs">
                </TabWidget>
            </LinearLayout>
        </TabHost> 
```

**firsttab.java**

```
public class firsttab extends Activity {

        /** Called when the activity is first created. */
        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);

            // TODO Auto-generated method stub
            TextView tv = new TextView(this);
            tv.setText("HI");
            tv.setTextSize(25);
            setContentView(tv);
        }

    } 
```

**secondtab.java**

```
public class secondtab extends Activity {

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // TODO Auto-generated method stub
        TextView tv = new TextView(this);
        tv.setText("Hello");
        tv.setTextSize(25);
        setContentView(tv);
    }

} 
```

**第三个tab.java**

```
public class thirdtab extends Activity {

        /** Called when the activity is first created. */
        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);

            // TODO Auto-generated method stub
            TextView tv = new TextView(this);
            tv.setText("How Are U?");
            tv.setTextSize(25);
            setContentView(tv);
        }

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T07:30:23.867

为单击特定选项卡时的打开活动编写下面的代码，如果您对此有任何疑问，请告诉我。

TabActivity.java:-

```
public class TabActivity extends TabActivity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.tab_screen);
        TabHost tabHost = getTabHost();

        Intent intent = new Intent().setClass(this, ActivityStack.class);
        TabHost.TabSpec spec = tabHost.newTabSpec("tabId").setIndicator("Temp", getResources().getDrawable(R.drawable.home));
        spec.setContent(intent);

        tabHost.addTab(spec);

        Intent intent1 = new Intent().setClass(this, ActivityStack.class);
        TabHost.TabSpec spec1 = tabHost.newTabSpec("tabId").setIndicator("Temp", getResources().getDrawable(R.drawable.invoice));
        spec1.setContent(intent1);

        tabHost.addTab(spec1);

        tabHost.setCurrentTab(0);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T08:17:50.523

```
public class connected extends TabActivity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.connected);

        Resources res = getResources(); // Resource object to get Drawables   
        TabHost tabHost = getTabHost();  // The activity TabHost  
TabSpec spec1= tabHost.newTabSpec("")
                .setIndicator("Hoch",res.getDrawable(R.drawable.freeftp))
                .setContent(new Intent(this, connected_upload.class));
        tabHost.addTab(spec1);

        TabSpec spec2 = tabHost.newTabSpec("")
                .setIndicator("Herunter",res.getDrawable(R.drawable.freeftp))
                .setContent(new Intent(this, connected_download.class));

        String str_path = getIntent().getStringExtra("path");
        String str_profil = getIntent().getStringExtra("profil");
        String str_server = getIntent().getStringExtra("server");
        String str_port = getIntent().getStringExtra("port");
        String str_user = getIntent().getStringExtra("user");
        String str_password = getIntent().getStringExtra("pw");

        intent.putExtra("path", str_path);
        intent.putExtra("profil", str_profil);
        intent.putExtra("server", str_server);
        intent.putExtra("port", str_port);
        intent.putExtra("user", str_user);
        intent.putExtra("pw", str_password);

        tabHost.addTab(spec2);

    TabSpec spec3= tabHost.newTabSpec("")
                .setIndicator("Search",res.getDrawable(R.drawable.freeftp))
                .setContent(new Intent(this, connected_search.class));
        tabHost.addTab(spec3);

      tabHost.setCurrentTab(1);

        //Button Connect Server
        Button cmd_mainsite = (Button)findViewById(R.id.but_connected_mainsite);
        cmd_mainsite.setOnClickListener(new View.OnClickListener(){         
            public void onClick(View v){
                finish();
                Intent Intent_mainsite = new Intent(connected.this, Login.class);
                startActivity(Intent_mainsite); 
            }       
        });

    }
} 
```

# asp.net-mvc - 路由约束不适用于 ASP.NET MVC

> ID：13985967
> 
> 赞同：5
> 
> 时间：2012-12-21T07:24:58.897
> 
> 标签：asp.net-mvc

为什么路线`http://localhost:2222/2012-adidas-spring-classic/37`不会从下面的路线匹配中获得？我收到 404 错误。

```
 public static void RegisterRoutes(RouteCollection routes)
        {
            routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
            routes.IgnoreRoute("{*vti_inf}", new { vti_inf = @"(.*/)?_vti_inf.html(/.*)?" });
            routes.IgnoreRoute("{*vti_rpc}", new { vti_rpc = @"(.*/)?_vti_rpc(/.*)?" });

            #region API

            routes.MapRouteLowercase(
             "NamedHomeEvent",
             "{year}-{name}/{Id}",
             new { controller = "Event", action = "Index", year = DateTime.Now.Year },
             new { year = @"\d{4}", Id = @"\d+" }
            );

   public virtual ActionResult Index(int? id, int? year, string name)
        { 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T09:11:01.350

路由引擎在这里无法为您提供帮助。您可以编写自定义路由来处理这种情况：

```
public class MyRoute : Route
{
    public MyRoute()
        : base(
            "{year-name}/{id}",
            new RouteValueDictionary(new { controller = "Event", action = "Index", id = UrlParameter.Optional }),
            new RouteValueDictionary(new { id = @"\d*" }),
            new MvcRouteHandler()
        )
    {
    }

    public override RouteData GetRouteData(HttpContextBase httpContext)
    {
        var routeData = base.GetRouteData(httpContext);
        if (routeData == null)
        {
            return null;
        }

        var yearName = (string)routeData.Values["year-name"];
        if (string.IsNullOrWhiteSpace(yearName))
        {
            return null;
        }

        var parts = yearName.Split(new[] { '-' }, 2, StringSplitOptions.RemoveEmptyEntries);
        if (parts.Length < 2)
        {
            return null;
        }

        var year = parts.First();
        int yearValue;
        if (!int.TryParse(year, out yearValue))
        {
            return null;
        }

        var name = parts.Last();

        routeData.Values.Add("year", year);
        routeData.Values.Add("name", name);

        return routeData;
    }
} 
```

然后注册这条路线：

```
public static void RegisterRoutes(RouteCollection routes)
{
    routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
    routes.IgnoreRoute("{*vti_inf}", new { vti_inf = @"(.*/)?_vti_inf.html(/.*)?" });
    routes.IgnoreRoute("{*vti_rpc}", new { vti_rpc = @"(.*/)?_vti_rpc(/.*)?" });

    routes.Add("NamedHomeEvent", new MyRoute());
} 
```

# jakarta-ee - 为什么使用动态页面生成

> ID：13985971
> 
> 赞同：0
> 
> 时间：2012-12-21T07:25:17.897
> 
> 标签：jakarta-ee, web

请检查以下网址

**https://XXX.com/admin/products/115717172**

当您打开它时，它会向您显示一个产品详细信息。所以我的问题是作为开发人员，如果我希望我的用户向某些产品展示其 url 类似于 **https://XXX.com/viewProducst.jsp?productId=xxx**

我在每个主要网站上都看到他们都在使用上面的 URL，或者只使用带有该 URL 的特定产品名称的 html 页面。

这是任何负载平衡技术吗？为什么他们使用这种技术而不是只传递一个特定的代码？

如果您对我要问的内容感到困惑，请不要关闭此问题。我的问题非常合乎逻辑，只是我无法在此处正确解释。即使我在这里保存问题，也会使用包含我的问题标题的特定 URL。

谢谢你米希尔帕雷克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T08:21:44.813

第一个示例很可能是通过 URL 重写完成的。完成 URL 重写是因为它对用户和搜索引擎机器人（SEO 优化）都更易于阅读（更清晰且描述更多）。这里有两个很好的链接，我认为它们涵盖了有关该主题的基础知识：

[http://www.addedbytes.com/articles/for-beginners/url-rewriting-for-beginners/](http://www.addedbytes.com/articles/for-beginners/url-rewriting-for-beginners/)

[http://coding.smashingmagazine.com/2011/11/02/introduction-to-url-rewriting/](http://coding.smashingmagazine.com/2011/11/02/introduction-to-url-rewriting/)

我还看到过内容或多或少是静态的情况，在这种情况下，不需要动态生成内容。在这种情况下，最终页面要么缓存在内存、数据库或磁盘上，以减轻服务器的负担。

# php - 获取所选项目的名称而不是值

> ID：13985980
> 
> 赞同：-2
> 
> 时间：2012-12-21T07:26:52.047
> 
> 标签：php, sql

我有一个在另一个文件中生成的下拉菜单，我想回显他们从下拉菜单中选择的项目的名称，而不是它的值（0、1、2、3 ...）。

这是在另一个文件中生成的下拉菜单的代码：

```
 <?php
        $selectedKey = $_GET['selected_key'];
        $query = "SELECT * FROM `1 selected` WHERE Key = '".$selectedKey."'";
        $run = mysql_query($query);
        $id1 = 0;
        while( $row = mysql_fetch_assoc( $run ) ) {
            echo "<option value='".$id1."'>".$row['Contract']."</option>";
        $id1++;
        }
   ?> 
```

这就是它在 index.php 中的样子：

```
<select id="text2" name="text2">

</select> 
```

现在，在他们提交数据后，我想回显他们选择的项目的名称，但是当我使用回显时，`$_REQUEST['text2'];`我得到了数字（值），但正如我所说的，我想得到名称。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T07:33:27.893

选择框只会将其选定的值索引发送到服务器，而不是您看到的值。因此，只需将`$row['Contract']`其用作要发送到服务器的值：

```
echo "<option value='".$row['Contract']."'>".$row['Contract']."</option>"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T07:36:22.950

问题是浏览器不向服务器提交显示文本，只提交值。不过有几种解决方法：

**选项 1**
将值设置为显示文本，而不是`$id1`。该值不必与显示文本不同。

**选项 2**
在值中使用分隔符并设置值和显示文本：

```
 echo "<option value='".$id1\. ';' . $row['Contract'] ."'>".$row['Contract']."</option>"; 
```

在分隔符上展开以获得两者：

```
list($value, $text) = explode(';', $_POST['text2']); 
```

**选项 3**
使用 Javascript，将表单的`onsubmit`事件设置为使用显示文本填充隐藏输入的函数。

# cmd - Windows CMD 中的 Ecraning 引号

> ID：13985982
> 
> 赞同：0
> 
> 时间：2012-12-21T07:26:54.947
> 
> 标签：cmd

我可以在变量中做类似 ecranning 引号之类的事情吗？例如，

```
if "%1"=="/?" goto :help 
```

如果参数是“将返回错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:37:26.413

试试`"%~1"`。波浪号修饰符将从 中去除引号`%1`（如果存在）。

不幸的是，没有通用的安全方法来处理批处理文件中带有特殊字符（引号、括号、插入符号）的字符串。无论你写什么，总有一些案例会炸毁。

# ios5 - 使用 ios 5 与蓝牙外围设备配对

> ID：13985995
> 
> 赞同：0
> 
> 时间：2012-12-21T07:27:55.453
> 
> 标签：ios5, proximity, core-bluetooth, cbperipheral, cbcentralmanager

我正在使用蓝牙技术 4.0 开发接近感应应用程序。我能够发现这些设备。但我无法与他们配对。我也不能调用`[peripheral readRssi]`方法。我想要实现这一点的方法是，如果中央扫描 10 台设备并在找到那么多设备后，它应该停止扫描，然后配对设备，然后不断读取 RSSI 值。

我的一段代码。

```
- (void) centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary *)advertisementData RSSI:(NSNumber *)RSSI
{
    BOOL (^test)(id obj, NSUInteger idx, BOOL *stop);
    test = ^ (id obj, NSUInteger idx, BOOL *stop) {
        if([[[obj peripheral] name] compare:peripheral.name] == NSOrderedSame)
            return YES;
        return NO;
    };

    PeripheralCell* cell;
    NSUInteger t=[peripherals indexOfObjectPassingTest:test];
    if(t!= NSNotFound)
    {
        cell=[peripherals objectAtIndex:t];
        cell.peripheral=peripheral;
        cell.rssi=RSSI;
        //NSLog(@"%@",RSSI);
        [scanResultTableView reloadRowsAtIndexPaths:[NSArray arrayWithObject:[NSIndexPath indexPathForRow:t inSection:0]] withRowAnimation:UITableViewRowAnimationNone];
    }
    else{
        cell=[[PeripheralCell alloc] init];
        [peripherals addObject: cell];
        [myPeripheral addObject: peripheral];
        cell.peripheral=peripheral;
        cell.rssi=RSSI;
        NSLog(@"UUID===%@",[peripheral UUID]);
        [scanResultTableView insertRowsAtIndexPaths:[NSArray arrayWithObject:[NSIndexPath indexPathForRow:[peripherals count]-1 inSection:0]] withRowAnimation:UITableViewRowAnimationNone];
        if([myPeripheral count]==3)
        {
            [manager stopScan];
            for(CBPeripheral *p in myPeripheral)
            {
                [manager connectPeripheral:p options:nil];      //this calls didConnectPeripheral but gets disconnected after some time 
                [p readRssi];     //this does not work even after connecting
            }
        }
    }
}

- (void)centralManagerDidUpdateState:(CBCentralManager *)central
{
    //self.cBReady = false;
    switch (central.state) {
        case CBCentralManagerStatePoweredOff:
            NSLog(@"CoreBluetooth BLE hardware is powered off");
            break;
        case CBCentralManagerStatePoweredOn:
            NSLog(@"CoreBluetooth BLE hardware is powered on and ready");
            //self.cBReady = true;
            break;
        case CBCentralManagerStateResetting:
            NSLog(@"CoreBluetooth BLE hardware is resetting");
            break;
        case CBCentralManagerStateUnauthorized:
            NSLog(@"CoreBluetooth BLE state is unauthorized");
            break;
        case CBCentralManagerStateUnknown:
            NSLog(@"CoreBluetooth BLE state is unknown");
            break;
        case CBCentralManagerStateUnsupported:
            NSLog(@"CoreBluetooth BLE hardware is unsupported on this platform");
            break;
        default:
            break;
    }
}

- (void)centralManager:(CBCentralManager *)central didConnectPeripheral:(CBPeripheral *)peripheral
{
    NSLog(@"connected peripheral");
}

- (void)centralManager:(CBCentralManager *)central didDisconnectPeripheral:(CBPeripheral *)peripheral error:(NSError *)error;
{
    NSLog(@"peripheral disconnected");
}

- (void)peripheralDidUpdateRSSI:(CBPeripheral *)peripheral error:(NSError *)error
{
    NSLog(@"updated rssi");
} 
```

如何配对设备...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-14T06:02:56.453

经过大量搜索和跟踪和错误，我发现我的代码是正确的。我只需要从 ipad 的设置中删除这些设备。

去`Settings > General > Bluetooth > Devices.`

通过单击附件指示器选择设备。在下一个屏幕中，只需单击“忘记此设备”。

再次运行应用程序解决了我的问题。