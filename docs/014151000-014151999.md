# StackOverflow 问答 14151000-14151999

# javascript - 元素上的 jQuery.offset() 提供了不正确的“顶部”值

> ID：14151003
> 
> 赞同：2
> 
> 时间：2013-01-04T04:16:59.600
> 
> 标签：javascript, jquery, html, css

FIDDLE 在[这里](http://jsfiddle.net/SCGdZ/2/)（记录到控制台）

这种情况是当页面以 a 开始时，其`<H1>`顶部边距大于在 上找到的边距`<body>`。

这会导致`<body>`在页面中被推低，但`$('body').offset().top`仍然设置为`<body>`的边缘顶部。这当然会导致我的调试元素（突出显示元素的位置）不正确，因为主体的虚拟元素现在位于错误的位置。

奇怪的是，其余的`$(elem).offset()`值对于`<body>`.

是否有一个解决方法，没有手动检查带有 while 循环的 body 的递归第一个孩子的边距顶部？

注意到 Safari 6 上的问题，但我怀疑我也会在 Chrome 上找到它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T04:46:56.023

使用偏移量加上元素高度的差`html`减去`body`元素可能会起作用。

console.log("body.offset().top = "+ ($('html').offset().top + $('html').height() - $('body').height() ));

* * *

更新：此解决方案仅在页面上没有边距底部时才有效。

您还可以在页面底部添加一个清晰的 div。

`$('body').append("<div style=\"clear: all;\">&nbsp;</div>");`

请注意，div 必须有内容才能工作。

[http://jsfiddle.net/SCGdZ/7/](http://jsfiddle.net/SCGdZ/7/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T04:30:08.627

[我发现了一篇 John Resig 的帖子，介绍了这里](http://ejohn.org/blog/getboundingclientrect-is-awesome/)`getBoundingClientRect`的速度和真棒......我想知道为什么它不用于 jQuery ！`offset()`

我将改用这种方法，希望它不会遇到同样的问题。

更新：看起来不错！（非整数顶部值是由于某种方式具有风格`-webkit-margin-before: 0.67em;`）

可以看到body有margin=8

![在此处输入图像描述](../Images/9750a2e807e66f3efebb04623f987ffd.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T17:13:41.067

jQuery 1.9.0 已经解决了这个问题。非常感谢，jQuery 很棒。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T05:21:49.510

[在这里找到](http://jsfiddle.net/SCGdZ/5/)

`a[0].style.marginTop`即使在 css 中声明它之后它仍然未初始化，这就是它什么都不返回的原因。

因此，我们必须注意初始化`a[0].style.marginTop`

# google-apps-script - 将文件上传到 Google 站点。Google Apps 脚本

> ID：14151004
> 
> 赞同：0
> 
> 时间：2013-01-04T04:17:01.177
> 
> 标签：google-apps-script, google-sites

我尝试将文件上传到我的“mysitename”谷歌站点。我使用这个脚本，但它不起作用

```
function doGet(e) {

  var app = UiApp.createApplication().setTitle("Upload");
  var formContent = app.createVerticalPanel();
  formContent.add(app.createFileUpload().setName('thefile'));
  formContent.add(app.createSubmitButton());
  var form = app.createFormPanel();
  form.add(formContent);
  app.add(form);
  return app;
}

function doPost(e) {
  try{
  var fileBlob = e.parameter.thefile;
  var pages = SitesApp.getSite('site', 'mysitename').getChildren();
  var attachments = pages[0].getAttachments();
  attachments[0].setFrom(fileBlob);
  }catch(e){
    Logger.log(e.message);
  }
} 
```

我捕获错误“无法调用未定义的方法“setFrom””最后一个模式窗口“遇到错误：发生意外错误”

其作品！但我不知道如何使用文档中的此通告“从 Blob 设置此附件的数据、内容类型和名称。为 Web 附件引发异常。” 这个“对网络附件抛出异常”是什么意思？我将被迫使用“try-catch-exception”

请帮我做！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T04:59:41.660

我认为错误就在这条线上

```
var pages = SitesApp.getSite('sites', 'mysitename').getChildren(); 
```

文件说

> 方法 getSite(domain, name) 获取具有给定域和名称的站点。使用“站点”作为消费者站点的域。

因此，如果您在域内，请使用您的域名称，否则使用“站点”而不是“站点”

# mysql - 照片关键字和数据库 - 哪个实现？

> ID：14151007
> 
> 赞同：0
> 
> 时间：2013-01-04T04:17:12.607
> 
> 标签：mysql, database-design

作为个人练习，我正在建立一个照片网站并实施关键字搜索。目前，我正处于设计过程的早期阶段，处于分叉阶段。

哪个更好

*   在照片表中有一个`keyword`字段并执行`FULLTEXT`搜索
*   单独的关键字表，每个单词都引用`n`图像

这可能是过早优化的情况，但我想要一些指导。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T04:27:46.280

我想不出使用这种方法可以改进数据库设计的单一`FULLTEXT`方法。单独的关键字表加快了搜索速度，允许将声明性关系完整性应用于关键字列表，使收集统计数据变得更加容易，并且更易于跨引擎移植。

# ios6 - 卡在 ios 设备上的社交框架

> ID：14151010
> 
> 赞同：1
> 
> 时间：2013-01-04T04:17:22.403
> 
> 标签：ios6, social-framework, slcomposeviewcontroller

我无法让社交框架在我的 ios 设备上正常运行，但是它在 iOS 模拟器中运行良好，但在我的 iPad 上却没有，任何人都可以就我可能出错的地方提出建议。提前致谢。

```
- (IBAction)sharefb:(id)sender {

if ([SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook]) {

    mySLComposerSheet = [[SLComposeViewController alloc] init];

    mySLComposerSheet = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeFacebook];

    [mySLComposerSheet setInitialText:@"Share this app with your friends"];

    [mySLComposerSheet addImage: [UIImage imageNamed:@"icon2.png"]];
    [self presentViewController:  mySLComposerSheet animated:
     YES completion:nil];

     }

[mySLComposerSheet setCompletionHandler:^
 (SLComposeViewControllerResult result) {

     NSString *output = [[NSString alloc] init];

     switch (result) {
         case SLComposeViewControllerResultCancelled:
             output = @"Post Cancelled";
             break;
           case SLComposeViewControllerResultDone:
             output = @"Posted successfully";
             break;

         default:
             break;
     }

 }]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T04:50:37.173

我只是将您的代码复制/粘贴到一个空白项目中并在我的 iPad 上成功运行，所以我不确定问题出在哪里，但您可以尝试以下几件事。

首先，您在代码中使用这两行：

```
mySLComposerSheet = [[SLComposeViewController alloc] init];

mySLComposerSheet = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeFacebook]; 
```

在 composer 之前调用 alloc/init 是不必要的，也是不明智的，`composeViewControllerForServiceType`因为它已经返回了一个 SLComposeViewController 对象。省略这两行中的第一行可以解决问题。

其次，您确定项目中存在“icon2.png”吗？这不应该引起问题，但是发生了更疯狂的事情。

第三，也不太可能，但`presentViewController`由于您的间距和换行位置，您可能会遇到一些奇怪的不可见元素，从而导致参数出现问题。尝试重写该行，使其看起来像这样：

```
[self presentViewController:mySLComposerSheet animated:YES completion:nil]; 
```

站点说明，您`NSString *output`正在创建内存泄漏，除非它用于您未包含在代码中的其他内容。这一切都与您的原始帖子无关，实际上并未具体说明问题。如果您可以更具体，我可能会更有帮助。

# java - 关于在JAVA中将子类转换为超类

> ID：14151013
> 
> 赞同：3
> 
> 时间：2013-01-04T04:18:03.700
> 
> 标签：java

```
public class Car {

    String color;

    public void thisIs(){
        System.out.println("Calling method from Car: the color is " + color);
    }

    public String getColor() {
        return color;
    }

    public void setColor(String color) {
        this.color = color;
    }
}

public class BMW extends Car {

    public void thisIs(){
        System.out.println("Calling method from BMW: the color is " + color);
    }
    public Car toCar(){
    Car newCar = new Car();
    newCar.setColor(this.color);
    return newCar;
}

}

public class AbstractTest {

    public static void main(String args[]){
        Car aCar = new Car();
        aCar.setColor("Red");
        aCar.thisIs();

        BMW aBMW = new BMW();
        aBMW.setColor("Black");
        aBMW.thisIs();

        //Car aaCar = new Car();
        //aaCar = (Car)aBMW;
        //aaCar.thisIs();

            Car aaCar = aBMW.toCar();
    aaCar.thisIs();
    }
} 
```

我希望结果是：

> 从 Car 调用方法：颜色为红色
> 
> BMW的调用方法：颜色为黑色
> 
> 从 Car 调用方法：颜色为黑色

但是，我得到的结果是：

> 从 Car 调用方法：颜色为红色
> 
> BMW的调用方法：颜色为黑色
> 
> BMW的调用方法：颜色为黑色

我哪里错了？以及如何使用超类中的方法来获取子类对象中的数据？我可以`toCar()`在 BMW 类中编写一个方法来做到这一点。但是，为什么铸造不起作用？提前谢谢！

好的！谢谢！

我知道为什么铸造不起作用。

所以，我在 BMW toCar() 中添加了一个方法来获得我想要的结果。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-04T04:25:56.453

铸造对象不会改变对象的性质。它仍然是宝马的对象；强制转换只是告诉编译器将其视为 Car 对象。

只要我们在继承的主题上：不需要将颜色变量或 get/setColor 方法放入超类和子类中。将它们放在汽车类中意味着它们可以在任何子类中使用；它们是多余的，在子类中有点混乱。我会把它们完全拿出来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T04:22:47.600

这是因为运行时多态性。最后一个陈述是因为即使你有一个指向 BMW 对象的汽车引用（通过强制转换你并没有​​修改对象的性质！BMW 仍然是 BMW 它不会成为 Car 对象！），最终它是 BMW 的 thisIs () 方法将被调用！这被称为[动态方法调度](http://www.java2all.com/1/1/11/56/Technology/CORE-JAVA/Inheritance/Dynamic-Method-Dispatch)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T04:25:26.387

即使您称其为汽车，BMW 仍然是BMW。

演员表不会改变对象是什么。它只是告诉编译器您打算如何处理它。你创建了一辆宝马，当你调用它的`thisIs`方法时它仍然是一辆。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T05:07:18.843

`explicitly cast`好吧，您不需要`BMW object`to a Car 类型，因为 a`BMW object`是 a `subclass of Car and a Car can be of any type`（宝马或任何东西）。因此，当您分配时`BMW object to a car the implicit casting is done`由编译器。在你的情况下，你是`explicitly asking the compiler to cast the BMW object to car type`。

此外，这种隐式转换并不意味着 BMW 对象将失去其`thisIs()`方法或任何其他属性。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-04T04:25:49.857

考虑以下代码：

```
public void someMethod(Car c) {
  c.thisIs(); 
} 
```

'c' 可以保存所有子类的引用。无论'c'持有哪个引用，都会调用该方法。它也称为运行时多态性。

# javascript - 可以将“粘贴图像”支持破解到 Firefox 中的文本区域吗？

> ID：14151018
> 
> 赞同：9
> 
> 时间：2013-01-04T04:18:33.833
> 
> 标签：javascript, firefox

我正在阅读[这篇](http://joelb.me/blog/2011/code-snippet-accessing-clipboard-images-with-javascript/)关于在 Chrome 和 Firefox 中粘贴图像的文章。

回顾一下，Firefox 不提供任何有关粘贴图像的信息，“粘贴”事件处理程序获取一个空`clipboardData`对象。

解决方法是，`div`在 DOM 中放置一个不可见的 contenteditable 并始终保持焦点，当粘贴内容时，它会触发超时，检查不可见 div 的内容以获取图像句柄。

有没有办法使用魔法 iframe 或其他什么东西来破解东西，除了用 contenteditable div 替换 textarea 来在 Firefox 中获得粘贴图像支持？

[（注意：Java 和 Flash 解决方案是不可能的）]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-20T09:32:45.177

```
<div id="paste" contenteditable="true"></div> 
```

将此项目插入到您的 html 中，然后调用以下命令

```
var pasteDiv = $("#paste")[0];
document.body.onpaste = function (event) {
    pasteDiv.focus();
    //do your magic firefox here
}; 
```

在这里`onpaste`触发是因为你有你的`contenteditable`div，然后你可以告诉 firefox 将这个剪贴板数据集中在哪里。（没有至少一项`contenteditable`不会`onpaste`触发的项目）

有关工作示例，请参见：[https ://gist.github.com/4577472](https://gist.github.com/4577472)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:20:28.393

不，没有别的办法。

*不可见的 contenteditable div 或在浏览器中运行的 Java Applet 是两种方法。

# python - 使用 IMAP 在 Twisted 中获取电子邮件

> ID：14151021
> 
> 赞同：0
> 
> 时间：2013-01-04T04:19:05.080
> 
> 标签：python, twisted

我正在尝试使用twisted在gmail帐户上获取电子邮件，至少可以说这很痛苦，查看电子邮件是它们的清晰解释和结构（充其量似乎是一起破解的）。我正在尝试获取附件，但附件在任何地方都看不到。

我正在使用来自扭曲和修改的示例 IMAP 客户端，我正在使用 fetchAll('1: *') 获取电子邮件，然后获取第一封电子邮件，但我找不到该电子邮件上的电子邮件附件（我检查了它在谷歌那里）。还有什么是 1:*而且我似乎找不到任何可以真正解释电子邮件的东西（好像没有人理解它）

所以 Stackoverflow，我错过了什么？

代码

```
#!/usr/bin/env python

# Copyright (c) Twisted Matrix Laboratories.
# See LICENSE for details.

"""
    Simple IMAP4 client which displays the subjects of all messages in a
    particular mailbox.
    """

import sys

from twisted.internet import protocol
from twisted.internet import ssl
from twisted.internet import defer
from twisted.internet import stdio
from twisted.mail import imap4
from twisted.protocols import basic
from twisted.python import util
from twisted.python import log

class TrivialPrompter(basic.LineReceiver):
    from os import linesep as delimiter

    promptDeferred = None

    def prompt(self, msg):
        assert self.promptDeferred is None
        self.display(msg)
        self.promptDeferred = defer.Deferred()
        return self.promptDeferred

    def display(self, msg):
        self.transport.write(msg)

    def lineReceived(self, line):
        if self.promptDeferred is None:
            return
        d, self.promptDeferred = self.promptDeferred, None
        d.callback(line)

class SimpleIMAP4Client(imap4.IMAP4Client):
    """
        A client with callbacks for greeting messages from an IMAP server.
        """
    greetDeferred = None

    def serverGreeting(self, caps):
        self.serverCapabilities = caps
        if self.greetDeferred is not None:
            d, self.greetDeferred = self.greetDeferred, None
            d.callback(self)

class SimpleIMAP4ClientFactory(protocol.ClientFactory):
    usedUp = False

    protocol = SimpleIMAP4Client

    def __init__(self, username, onConn):
        self.ctx = ssl.ClientContextFactory()

        self.username = username
        self.onConn = onConn

    def buildProtocol(self, addr):
        """
            Initiate the protocol instance. Since we are building a simple IMAP
            client, we don't bother checking what capabilities the server has. We
            just add all the authenticators twisted.mail has.  Note: Gmail no
            longer uses any of the methods below, it's been using XOAUTH since
            2010.
            """
        assert not self.usedUp
        self.usedUp = True

        p = self.protocol(self.ctx)
        p.factory = self
        p.greetDeferred = self.onConn

        p.registerAuthenticator(imap4.PLAINAuthenticator(self.username))
        p.registerAuthenticator(imap4.LOGINAuthenticator(self.username))
        p.registerAuthenticator(
                                imap4.CramMD5ClientAuthenticator(self.username))

        return p

    def clientConnectionFailed(self, connector, reason):
        d, self.onConn = self.onConn, None
        d.errback(reason)

def cbServerGreeting(proto, username, password):
    """
        Initial callback - invoked after the server sends us its greet message.
        """
    # Hook up stdio
    tp = TrivialPrompter()
    stdio.StandardIO(tp)

    # And make it easily accessible
    proto.prompt = tp.prompt
    proto.display = tp.display

    # Try to authenticate securely
    return proto.authenticate(password
                              ).addCallback(cbAuthentication, proto
                                            ).addErrback(ebAuthentication, proto, username, password
                                                         )

def ebConnection(reason):
    """
        Fallback error-handler. If anything goes wrong, log it and quit.
        """
    log.startLogging(sys.stdout)
    log.err(reason)
    return reason

def cbAuthentication(result, proto):
    """
        Callback after authentication has succeeded.

        Lists a bunch of mailboxes.
        """
    return proto.list("", "*"
                      ).addCallback(cbMailboxList, proto
                                    )

def ebAuthentication(failure, proto, username, password):
    """
        Errback invoked when authentication fails.

        If it failed because no SASL mechanisms match, offer the user the choice
        of logging in insecurely.

        If you are trying to connect to your Gmail account, you will be here!
        """
    failure.trap(imap4.NoSupportedAuthentication)
    return proto.prompt(
                        "No secure authentication available. Login insecurely? (y/N) "
                        ).addCallback(cbInsecureLogin, proto, username, password
                                      )

def cbInsecureLogin(result, proto, username, password):
    """
        Callback for "insecure-login" prompt.
        """
    if result.lower() == "y":
        # If they said yes, do it.
        return proto.login(username, password
                           ).addCallback(cbAuthentication, proto
                                         )
    return defer.fail(Exception("Login failed for security reasons."))

def cbMailboxList(result, proto):
    """
        Callback invoked when a list of mailboxes has been retrieved.
        """
    result = [e[2] for e in result]
    s = '\n'.join(['%d. %s' % (n + 1, m) for (n, m) in zip(range(len(result)), result)])
    if not s:
        return defer.fail(Exception("No mailboxes exist on server!"))
    return proto.prompt(s + "\nWhich mailbox? [1] "
                        ).addCallback(cbPickMailbox, proto, result
                                      )

def cbPickMailbox(result, proto, mboxes):
    """
        When the user selects a mailbox, "examine" it.
        """
    mbox = mboxes[int(result or '1') - 1]
    return proto.examine(mbox
                         ).addCallback(cbExamineMbox, proto
                                       )

def cbExamineMbox(result, proto):
    """
        Callback invoked when examine command completes.

        Retrieve the subject header of every message in the mailbox.
        """
    # FETCH ALL HEADERS? WHERE IS A ONE FOR AN ATTACHMENT
    return proto.fetchAll('1:*').addCallback(cbFetch, proto)

def cbFetch(result, proto):
    """
        Finally, display headers.
        """
    if result:
        keys = result.keys()
        keys.sort()
        k = keys[-1]
        proto.display('%s %s' % (k, result[k]))
    else:
        print "Hey, an empty mailbox!"

    return proto.logout()

def cbClose(result):
    """
        Close the connection when we finish everything.
        """
    from twisted.internet import reactor
    reactor.stop()

def main():
    hostname = raw_input('IMAP4 Server Hostname: ')
    port = raw_input('IMAP4 Server Port (the default is 143, 993 uses SSL): ')
    username = raw_input('IMAP4 Username: ')
    password = util.getPassword('IMAP4 Password: ')

    onConn = defer.Deferred(
    ).addCallback(cbServerGreeting, username, password
                  ).addErrback(ebConnection
                               ).addBoth(cbClose)

    factory = SimpleIMAP4ClientFactory(username, onConn)

    from twisted.internet import reactor
    if port == '993':
        reactor.connectSSL(hostname, int(port), factory, ssl.ClientContextFactory())
    else:
        if not port:
            port = 143
        reactor.connectTCP(hostname, int(port), factory)
    reactor.run()

if __name__ == '__main__':
    main() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T04:49:09.703

首先，imap4 是一个（可能是不必要的）复杂的邮件处理协议，并且为了完全支持该协议，twisted 的客户端实现（必然）很复杂。为了获得更多信息，您应该考虑花一些时间阅读解释协议的标准：[rfc3501](https://www.rfc-editor.org/rfc/rfc3501)和[twisted api](http://twistedmatrix.com/documents/12.1.0/api/twisted.mail.imap4.IMAP4Client.html)的相关部分。

也就是说，看起来您正在使用`IMAP4Client.fetchAll()`，但自相矛盾的是，它会获取“信封”数据、有关消息的标头和元数据。返回电子邮件正文的类似调用实际上也是`fetchFull()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-15T00:11:51.940

感谢 SingleNegationElimination 和 Jean-Paul 对 RFC3501 和 RFC822 的指针，我想我对如何实现这一点有了更好的理解。

我找到的解决`fetchSpecific` [方案](https://github.com/twisted/twisted/blob/trunk/src/twisted/mail/imap4.py#L4266)是`imap4`. 您可以指定要检索邮件的哪个“部分”（即收件箱中的邮件）。对于附件，附加文件的内容嵌入在`TEXT`零件中并使用 base64 编码。在我的特定示例中，邮件中有一个 pdf 附件，并且

```
proto.fetchSpecific(imap4.MessageSet(247), uid=True, headerType='TEXT').addCallback(cbViewAttachment, proto)

def cbViewAttachment(result, proto):
    for k, value in result.items():
        print(value[0][4][:400])
        ... 
```

给出类似的东西

```
------_CANON_2007111239350128_
Content-Type: Application/pdf;
 name="0128_20200711123935_001.pdf"
Content-Disposition: attachment;
 filename="0128_20200711123935_001.pdf"
Content-Transfer-Encoding: base64

JVBERi0xLjYKJeLjz9MNCjEgMCBvYmoKPDwgCi9DcmVhdGlvbkRhdGUgKEQ6MjAyMDA3MTEyMDM5
MThaMDAnMDAnKQovQ3JlYXRvciAoXDM3NlwzNzdcMDAwQ1wwMDBhXDAwMG5cMDAwb1wwMDBuXDAw
MCBcMDAwTVwwMDBGXDAwMDJcMDAwNFw 
```

一些快速的解释。上面的代码确实获取了`TEXT`UID = 247 的消息部分。调用成功后，将调用`fetchSpecific`,`cbDownloadAttachment`其中第一个参数是一个`TEXT`部分字典 - 每个指定消息的一个条目。在这种情况下，只指定了一条消息，因此`result`将只是一个字典，其中包含一个对应于 UID = 247 消息的条目。

实际的附件内容嵌入在`[0][4]`条目的值中。它看起来像上面。几乎很明显，该`JVB...`部分是 base64 编码的内容。我试图用它解码它的第一小部分，`base64`它看起来像

```
%PDF-1.6\n%\xe2\xe3 
```

这意味着这实际上是 PDF 文件的开头。

然后，您可以将内容写入本地文件，以便“下载”附件。在上面的例子中，它基本上是

```
with open('your/file/name', 'wb') as f:
    f.write(base64.urlsafe_b64decode(value[0][4][213:])) 
```

请注意，213 被硬编码为内容的开头。在现实世界的情况下，您绝对应该解析`TEXT`一下以找出它。

希望这对和我有类似情况的人有所帮助。

# c++ - 无法将 Mat 写入 JPG 或除 BMP 以外的任何其他图像格式，用于 OpenCV/C++

> ID：14151027
> 
> 赞同：1
> 
> 时间：2013-01-04T04:19:39.617
> 
> 标签：c++, image-processing, opencv

我无法使用函数 imwrite 将 Mat 写入图像文件。当我尝试将其写入 BMP 格式时它工作正常，但在尝试写入其他格式时它给了我一个未处理的异常。

```
 merge(yuv_channels,3,resImg);
        imshow("Result",resImg);
        imwrite("C:\\result.jpg",resImg); 
```

上面的代码是我保存到 jpg 的尝试。

```
 merge(yuv_channels,3,resImg);
        imshow("Result",resImg);
        imwrite("C:\\result.bmp",resImg); 
```

不过，当我将扩展名更改为 bmp 时，它工作正常。

任何帮助将不胜感激 。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T04:35:44.730

resImg 的内容可能格式不正确。对于 PNG、JPEG 2000 和 TIFF，只有 16 位无符号 (CV_16U)。如果格式、深度或通道顺序不同，请在保存前使用 Mat::convertTo() 和 cvtColor() 进行转换。见[http://docs.opencv.org/modules/highgui/doc/reading_and_writing_images_and_video.html?highlight=imwrite#imwrite](http://docs.opencv.org/modules/highgui/doc/reading_and_writing_images_and_video.html?highlight=imwrite#imwrite)

# sql - SQL Server 可以通过对聚合最大值或最小值的集合操作对行执行更新吗？

> ID：14151030
> 
> 赞同：1
> 
> 时间：2013-01-04T04:19:51.427
> 
> 标签：sql, sql-server, tsql, aggregate-functions

我是一位相当有经验的 SQL Server 开发人员，但这个问题让我很困惑。

我有一个功能。该函数正在引用一个类似这样的表......

```
PERFORMANCE_ID, JUDGE_ID, JUDGING_CRITERIA, SCORE  
--------------------------------------------------  
101, 1, 'JUMP_HEIGHT', 8   
101, 1, 'DEXTERITY', 7  
101, 1, 'SYNCHRONIZATION', 6  
101, 1, 'SPEED', 9  
101, 2, 'JUMP_HEIGHT', 6   
101, 2, 'DEXTERITY', 5  
101, 2, 'SYNCHRONIZATION', 8  
101, 2, 'SPEED', 9  
101, 3, 'JUMP_HEIGHT', 9   
101, 3, 'DEXTERITY', 6  
101, 3, 'SYNCHRONIZATION', 7  
101, 3, 'SPEED', 8  
101, 4, 'JUMP_HEIGHT', 7   
101, 4, 'DEXTERITY', 6  
101, 4, 'SYNCHRONIZATION', 5  
101, 4, 'SPEED', 8 
```

在此示例中，有 4 名评委（ID 分别为 1、2、3 和 4）根据 4 个不同的标准（JUMP_HEIGHT、DEXTERITY、SYNCHRONIZATION、SPEED）来评判表演 (101)。
（请记住，在我的真实数据中，有 10 多个标准和至少 6 位评委。）

我想通过 JUDGING_CRITERIA 将结果汇总为一个分数，然后通过求和将这些结果汇总为最终分数……像这样……

```
SELECT SUM (Avgs) FROM
(SELECT AVG(SCORE) Avgs 
  FROM PERFORMANCE_SCORES
  WHERE PERFORMANCE_ID=101
  GROUP BY JUDGING_CRITERIA) result 
```

但是...这不是我想要的，因为我想从 AVG 中排除每个 JUDGING_CRITERIA 分组的最高和最低值。那是我想不通的部分。AVG 应仅应用于 GROUPING FOR EACH JUDGING_CRITERIA 的中间值。JUMP_HEIGHT 的 HI 值和 LO 值不应包含在平均值中。DEXTERITY 的 HI 值和 LO 值不应包含在平均值中。等等。

我知道这可以通过将每个标准的 hi 和 lo 设置为 NULL 来完成。但这是一个功能，应该非常快。

我想知道是否有办法将其作为 SET 操作执行，但仍会自动从聚合中排除 HI 和 LO？

谢谢你的帮助。我有一种感觉，它可能可以用一些高级 SQL 语法来完成，但我不知道。

最后一件事。这个例子实际上是我试图解决的问题的简化。为了简单起见，我这里没有提到其他限制。

赛斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:14:32.393

编辑： - 将 WHERE 子句移到 CTE 内部。- 从分区中移除 JudgeID

这将是我的方法

```
;WITH Agg1 AS 
(
    SELECT   PERFORMANCE_ID
            ,JUDGE_ID
            ,JUDGING_CRITERIA
            ,SCORE
            ,MinFind    = ROW_NUMBER() OVER (   PARTITION BY     PERFORMANCE_ID
                                                                ,JUDGING_CRITERIA
                                                ORDER BY SCORE ASC  )
            ,MaxFind    = ROW_NUMBER() OVER (   PARTITION BY     PERFORMANCE_ID
                                                                ,JUDGING_CRITERIA
                                                ORDER BY SCORE DESC )
    FROM PERFORMANCE_SCORES
    WHERE PERFORMANCE_ID=101
)
SELECT AVG(Score)
FROM Agg1
WHERE MinFind > 1
AND MaxFind > 1
GROUP BY JUDGING_CRITERIA 
```

# php - 用ajax更新数据库

> ID：14151033
> 
> 赞同：0
> 
> 时间：2013-01-04T04:20:27.083
> 
> 标签：php, jquery, ajax

我想使用下拉菜单更新我的数据库 我能找到的大多数 ajax 都是为了检索数据。有人可以帮忙吗。

我的 php updatestatus.php 页面是

```
include 'includes/session.php';
include 'includes/db_connection.php';
include 'includes/functions.php';

$status = $_POST['status'];
$id = $_POST['id'];
$sql = "UPDATE orders SET
        status = '$status'
        WHERE id = $id"; 
```

我在 order.php 中的选择框是

```
<select name="status" id="id" onchange="updateStatus((this.value),<?php echo $row['id']; ?>)">
   <option value="<?php echo $row['status']; ?>"><?php echo $row['status']; ?></option>
   <option value="Order Placed">Order Placed</option>
   <option value="Processing">Processing</option>
   <option value="Dispatched">Dispatched</option>
</select> 
```

我在 order.php 中的 JavaScript 是

```
function updateStatus(status, id){
var url = "updatestatus.php";
if (window.XMLHttpRequest) { // branch for native XMLHttpRequest object
    req = new XMLHttpRequest();
    req.onreadystatechange = processReqChange;
    req.open('POST', url, true);
    req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    req.send(data);

}else if (window.ActiveXObject) { // branch for IE/Windows ActiveX version
    req = new ActiveXObject('Microsoft.XMLHTTP')
    if (req) {
        req.onreadystatechange = processReqChange;
        req.open('POST', url, true);
        req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        req.send(data);
    }
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T04:33:07.657

在行中：

```
 req.send(data); 
```

在哪里`data`定义？它必须是包含您的`id`和的 url 编码字符串`status`。 [这个问题](https://stackoverflow.com/questions/9713058/sending-post-data-with-a-xmlhttprequest)在我搜索的时候出现了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T04:36:16.760

定义`data`为：

```
var data = "status="+status+"&id="+id; 
```

还将您的sql更改为：

```
$sql = "UPDATE orders SET
        status = '".$status."'
        WHERE id =". $id; 
```

# c# - WPF 窗口应该是本机所有者窗口的模式，但不是

> ID：14151038
> 
> 赞同：4
> 
> 时间：2013-01-04T04:21:01.833
> 
> 标签：c#, wpf, window, native, owner

我在 WPF 项目中有以下 C# 代码：

```
private static void RunConfig(string owner)  
{  
    long ownerHandle;  
    var settingsWindow = new SettingsWindow();  
    if (long.TryParse(owner, out ownerHandle))  
    {  
        WindowInteropHelper helper = new WindowInteropHelper(settingsWindow);  
        helper.Owner = new IntPtr(ownerHandle);  
    }  
    settingsWindow.ShowDialog();  
} 
```

SettingsWindow 与所有者窗口的模式不正确（即，当 SettingsWindow 仍处于打开状态时，我可以专注于、与之交互甚至关闭所有者窗口）。我究竟做错了什么？

对于上下文，此代码是屏幕保护程序的一部分，所有者窗口是控制面板屏幕保护程序选择窗口（通过命令行参数传递句柄以用作所有者）。我知道 IF 语句正在评估真实并正确解析句柄。

我也尝试过使用`SetWindowLongPtr`来自`user32.dll`（为 x64 编译，因此不使用）的方法，[这里](https://github.com/steveniles/MandelZoom/blob/master/MandelZoom/Program.cs#L30)`SetWindowLong`简要描述并在此处使用中[显示](https://github.com/steveniles/MandelZoom/wiki/Handling-Control-Panel%27s-command-line-arguments)。此方法适用于 WinForms，但似乎不适用于 WPF。帮助我欧比旺克诺比，你是我唯一的希望。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-18T00:06:20.877

事实证明，使用`WindowInteropHelper`将本机窗口设置为 WPF 窗口的所有者*确实*有效，但它并不能完成整个工作。以这种方式设置时，WPF 窗口将在本机窗口顶部保持可见，即使本机窗口具有焦点。然而，这是获得的唯一效果。WPF Window 不会阻​​止与本机 Window 的交互，甚至可以关闭本机窗口，而 WPF Window 不会关闭或受到影响。

为了获得所需的其余行为，我们需要在调用 WPF 窗口之前使用[`EnableWindow`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646291.aspx)函数`user32.dll`来禁用本机窗口`ShowDialog`，并在 WPF 窗口关闭后再次重新启用它。

修改后的代码如下所示：

```
private static void RunConfig(string owner)
{
    long ownerHandle;
    var settingsForm = new SettingsWindow();
    if (long.TryParse(owner, out ownerHandle))
    {
        WindowInteropHelper helper = new WindowInteropHelper(settingsForm);
        helper.Owner = new IntPtr(ownerHandle);
        NativeMethods.EnableWindow(helper.Owner, false);
        settingsForm.ShowDialog();
        NativeMethods.EnableWindow(helper.Owner, true);
    }
    else
    {
        settingsForm.ShowDialog();
    }
} 
```

（注意：上面的代码大体上是正确的，但在屏幕保护程序的情况下是不完整的，这就是这段代码的实际用途。如果这段代码用于屏幕保护程序的配置窗口，则为所有者句柄传入的字符串不是要用作所有者的控制面板窗口的句柄，而是作为控制面板窗口的子控件的句柄。在这种情况下，额外的步骤是获取句柄该控件的父控件。我们可以通过在传入的句柄上调用[`GetParent`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633510.aspx), 也可以做到这一点`user32.dll`。这将返回我们想要用于所有者和`EnableWindow`调用的真实句柄。）

如果 Microsoft 的任何人发现了这一点，可能会考虑修改以在分配和使用`WindowInteropHelper`时正确设置所有这些，因为这是模式窗口的正确完整行为。`Owner``ShowDialog`

# ios - CLLocationManager 最佳实践

> ID：14151039
> 
> 赞同：0
> 
> 时间：2013-01-04T04:21:06.030
> 
> 标签：ios, mapkit, cllocationmanager

我正在使用`CLLocationManager`( `_locationManager`) 在我的选项卡应用程序中跟踪用户位置，以启用在后台跟踪移动。有一个记录按钮，当按下它时，它会开始跟踪并绘制用户动作的折线。在我的内部`[_locationManager startUpdatingLocation]`调用。当用户切换到另一个选项卡时（如果应用程序没有记录） ，告诉停止更新位置是最佳做法吗？还是我应该让它继续下去？我问的原因是因为如果在设置中启用，我会使用，而且我知道如果让其运行会出现电池问题。 `viewDidLoad``MapViewController``UITabBarController``_locationManager``kCLLocationAccuracyBestForNavigation`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T04:33:33.137

有一个基本规则：如果您需要数据，则将其打开，否则，将其关闭。

# css - CSS 流体垂直布局

> ID：14151041
> 
> 赞同：2
> 
> 时间：2013-01-04T04:21:30.953
> 
> 标签：css

如何编写这样的 CSS 布局？

```
+---------+
| header  |
+---------+
|         |
| fill    |
|         |
+---------+ 
```

在哪里：

*   整个布局跨越整个窗口
*   'header' 和 'fill' 是两个 div，一个在另一个之下
*   'header' 没有*固定*的高度（它的内容可能会改变）
*   'fill' 填满 'header' 留下的所有剩余空间，并在 'header' 调整大小时调整大小

我认为这是一个简单的解决方案，但无法理解它。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:39:04.090

您正在寻找的内容类似于“粘性页脚”所需的 CSS，因为您希望填充所有剩余的垂直空间，但仍允许它根据需要增长。有很多棘手的解决方案，但大多数在版本 8 之前不受 IE 支持（那时[`display: table;`](http://www.quirksmode.org/css/display.html#table)在 IE 中成为可能）。

这是我不久前整理的粘性页脚解决方案的**[jsFiddle 演示](http://jsfiddle.net/thirdender/jrcgz/)**，以及使布局在 IE7 中工作所需的 jQuery 代码。如果您不需要 IE7 支持，只需省略 Javascript 代码。由于您的特定情况不需要页脚，因此也只需省略页脚元素。最后 :-p`#header`元素在 CSS 中被赋予了一个固定的高度。从 CSS 中删除该行`height: 70pt;`以使标题高度可变。

在不久的将来，[CSS Flexible Box](https://developer.mozilla.org/en-US/docs/CSS/Using_CSS_flexible_boxes)模型将使这种布局变得更加容易，但目前浏览器的支持仍然非常少。在它变得更广泛可用之前，我建议改用`display: table;`格式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:06:19.533

而不是试图让内容跨越窗口的其余部分，而不是标题，而是让主体覆盖窗口，设置样式，并让你的内容是可变大小的。

我为你设置了一个简单的 jsfiddle：http: [//jsfiddle.net/xeP5M/](http://jsfiddle.net/xeP5M/)

```
<div id="container">
    <div id="header">

    </div>
    <div id="fill">
        this is where content goes        
    </div>
</div>​ 
```

和CSS：

```
html, body { height: 100%; }
div { width: 100%; }

#container { background: #ff0; min-height: 100%; position: relative; }
#header { background: #f0f; height: 200px; }
#fill { background: #0f0; min-height: 100%; } 
```

干杯。

​</p>

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T04:34:46.507

所以你将从一个容器开始

```
<div id="contain">
</div> 
```

然后我们将添加页眉和页脚以及样式

```
<div id="contain">
   <div id="header">
      Content from Header
   </div>
   <div id="fill">
      Content from Fill
   </div>
</div>
#contain {
width:100%;
}
#header{
width:100%;
}
#fill{
width:100%;
min-height:100px;
} 
```

填充会自动调整到标题的高度

[http://jsfiddle.net/burn123/gWkm8/](http://jsfiddle.net/burn123/gWkm8/)

# linux - 将脚本重命名从生成 A0 A1 A2 A3 更改为 A001 A002 A003

> ID：14151043
> 
> 赞同：0
> 
> 时间：2013-01-04T04:21:43.640
> 
> 标签：linux, shell, rename

如何将文件从 A0 A1 A2 A3 重命名为 A001 A002 A003 我有这样的重命名代码：

```
n=$(ls -1 | grep '^A' -c)             # find the number for A files
nfiles=$(ls -1 *.obj| grep -v '^A');  # list of all non-A files
for file in $nfiles;                  # for each of the non-A files
do
n=$(($n+1));
new_file=A$n.obj                   # new name with next available A file name
mv $file $new_file                 # rename with new file name
done 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T04:33:33.133

有一些变化：

```
n=$(ls [A]* | wc -l)
nfiles=$(ls [^A]*.obj)               # list of all non-A files
for file in $nfiles;                 # for each of the non-A files
do
  n=$(($n+1));
  new_file=$(printf "A%03d.obj" $n)  # new name with next available A file name
  echo mv $file $new_file            # rename with new file name
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:28:11.117

如果原始文件是另一个名称，例如。ant.obj dog.obj ，如何更改代码重命名为 A001 A002 A003 ....

# c++ - 错误：X 没有命名类型

> ID：14151048
> 
> 赞同：0
> 
> 时间：2013-01-04T04:22:21.627
> 
> 标签：c++

这段代码有什么问题：

```
class C {
  public:
  int h();
};

C he;          //Fine
he.h();        //Error: 'he' does not name a type

int main() {
  C me;           //Fine
  me.h();         //Fine
} 
```

使用 MinGW 4.6.2。

***注意***：我只是编译，而不是链接。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T04:24:51.957

在函数之外，您只能放置声明/定义。要执行类似的东西`he.h();`，该代码需要进入一个函数。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-04T04:30:37.123

在最上层，每个 C++ 翻译单元必须由声明组成

```
translation-unit: 
  declaration-seq[opt]

declaration-seq:
  declaration
  declaration-seq declaration 
```

Bur`he.h();`不是声明。因此错误。

您可以引入一个虚拟变量将其转换为声明

```
int dummy = he.h(); 
```

并且代码将编译。但是原版是非法的。

# php - 如何使用php中的函数返回多行

> ID：14151049
> 
> 赞同：0
> 
> 时间：2013-01-04T04:22:21.513
> 
> 标签：php, mysql

看下面的代码：

```
<?php

function getmangainfo($teamname)
{
    $rValue = "";
    $lValue = "";
    $query = ("SELECT pic, mn_title FROM table Where mn_team LIKE '%" . $teamname . "%' Limit 0,4 ");
    $row_data = mysql_query($query);
    while ($row_data = mysql_fetch_array($row_data)) {
        $rValue = $row['pic'];
        $lValue = $row['mn_title'];
        return "<a class='linksrepeated' href='" . $ABSPATH . "/" . $lValue . "/'> <img src='" . $rValue . "'/></a>";
    }
} 
```

这个函数没有返回任何东西！我在想这是因为 return 语句在 while 循环内。我尝试了很多事情，希望它能返回 4 个结果，但什么也没发生。SQL 查询工作 100%。问题出在我的功能上。请让我知道出了什么问题以及如何解决。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T04:26:02.823

在您的声明中更改`$row_data`为`$row``while`

```
while($row = mysql_fetch_array($row_data)) 
```

因为当我看到里面的代码`while`

```
$rValue = $row['pic'];
$lValue = $row['mn_title']; 
```

你得到你的数据，`$row`但你的`while`声明是`$row_data`

问题不在`while`循环上，因为执行到达`return`语句，执行指针将退出函数（当然在`while`语句中）

但是对我来说，让你的代码更干净，因为我看到你期望只有一行作为回报，拉出`return`你的 while 语句

```
$rValue = "";
 $lValue = "";
 while ($row_data = mysql_fetch_array($row_data)) {
        $rValue = $row['pic'];
        $lValue = $row['mn_title'];
        break; //just to make sure for one row return
 }
 return "<a class='linksrepeated' href='" . $ABSPATH . "/" . $lValue . "/'> <img src='" . $rValue . "'/></a>"; 
```

但正如其他人所说，您期望 4 行返回，您可以创建一个变量，将所有返回存储在单个字符串中

```
 $rValue = "";
     $lValue = "";
     $links = "";
     while ($row_data = mysql_fetch_array($row_data)) {
            $rValue = $row['pic'];
            $lValue = $row['mn_title'];
            $links .="<a class='linksrepeated' href='" . $ABSPATH . "/" . $lValue . "/'> <img src='" . $rValue . "'/></a>";
     }
     return $links 
```

**参考**： http: [//php.net/manual/en/function.mysql-fetch-array.php](http://php.net/manual/en/function.mysql-fetch-array.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T04:25:39.590

```
 function getmangainfo($teamname){
    $rValue = "";
    $lValue = "";
    $query = ("SELECT pic, mn_title FROM table Where mn_team LIKE '%".$teamname."%' Limit 0,4 ");
    $row_data = mysql_query($query);
    $output=array();
    while($row = mysql_fetch_array($row_data))
    {
    $rValue = $row['pic'];
    $lValue = $row['mn_title'];
    $output[]="<a class='linksrepeated' href='".$ABSPATH."/".$lValue."/'> <img src='".$rValue."'/></a>";
    }   
return $output;
} 
```

编辑：更新的变量名

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T04:29:17.253

它没有给出完整的结果集，因为您正在从循环中“返回”。尝试以下应该会有所帮助。

```
function getmangainfo($teamname){
    $rValue = "";
    $lValue = "";
    $query = ("SELECT pic, mn_title FROM table Where mn_team LIKE '%".$teamname."%' Limit 0,4 ");
    $row_data = mysql_query($query);
    $return = '';
    while($row_data = mysql_fetch_array($row_data))
    {
        $rValue = $row['pic'];
        $lValue = $row['mn_title'];
        $return .= "<a class='linksrepeated' href='".$ABSPATH."/".$lValue."/'> <img src='".$rValue."'/></a>";
    }
    return $return;
} 
```

# android - 当存在 WebView 时，三星的 ListView 在过度滚动时导致布局问题

> ID：14151050
> 
> 赞同：0
> 
> 时间：2013-01-04T04:22:31.337
> 
> 标签：android, android-listview, android-webview, samsung-mobile

三星进行了定制`ListView`，使其始终能够过度滚动，而忽略`setOverScrollMode()`. 这对我来说很好，直到现在我都有与之相关的布局问题。

我需要有一个`ListView`显示正常项目，并在某些预定义的行号插入一些行内广告，使用`WebView`. 为了能够重用代码，我创建了一个基本适配器，所有其他适配器都对其进行了扩展。

**InRowAdAdapter.java**

```
public class InRowAdAdapter extends BaseAdapter {
    private final Context mContext;
    private SparseArray<WebView> webViews;

    private OnInRowAdItemClickListener mListener = null;

    public void setOnInRowAdItemClickListener(
            OnInRowAdItemClickListener listener) {
        mListener = listener;
    }

    public interface OnInRowAdItemClickListener {
        public void onInRowAdItemClick(View v);
    }

    public InRowAdAdapter(Context context) {
        mContext = context;
        webViews = new SparseArray<WebView>();
    }

    @Override
    public int getCount() {
        return 0;
    }

    @Override
    public Object getItem(int position) {
        return null;
    }

    @Override
    public long getItemId(int position) {
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        final int adCount = webViews.size();
        for (int i = 0; i < adCount; i++) {
            ((ViewGroup) convertView)
                    .removeView(webViews.get(webViews.keyAt(i)));
        }

        if (AdManager.isAdRow(position)) { // If this row is pre-defined to show ads
            if (webViews.get(position) == null) {
                webViews.put(position, AdManager.addAd(mContext,
                        (ViewGroup) convertView, MyApp.URL_ROW_AD));
            } else {
                try {
                    AdManager.addAd((ViewGroup) convertView,
                            webViews.get(position));
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
            webViews.get(position).setVisibility(View.VISIBLE);
            convertView.setClickable(true);
            // To fix that onItemClick() is not working
            convertView.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    if (mListener != null)
                        mListener.onInRowAdItemClick(v);
                }

            });
        }
        return convertView;
    }

    protected Context getContext() {
        return mContext;
    }

} 
```

**AdManager.java**

```
public class AdManager {

    /**
     * Create a new WebView and add it to the supplied ViewGroup.
     * 
     * @return The created WebView
     **/
    public static WebView addAd(final Context context,
            final ViewGroup container, final String adUrl) {
        final WebView webView = new WebView(context);
        webView.setVisibility(View.GONE);
        webView.loadUrl(adUrl);
        WebSettings webSettings = webView.getSettings();
        webSettings.setJavaScriptEnabled(true);

        // webView.setInitialScale((Math.round(adHeight / BOTTOM_AD_MIN_HEIGHT
        // * 100)) + 2);
        webView.setClickable(true);
        webView.setWebViewClient(new WebViewClient() {

            @Override
            public boolean shouldOverrideUrlLoading(WebView view, String url) {
                Intent urlIntent = new Intent(
                        android.content.Intent.ACTION_VIEW, Uri.parse(url));
                urlIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                context.startActivity(urlIntent);
                return true;
            }

        });
        addAd(container, webView);
        return webView;
    }

    /**
     * Add the webView to the bottom of the supplied ViewGroup. If a
     * LinearLayout is passed to this function, please make sure that its
     * orientation is vertical.
     **/
    public static void addAd(final ViewGroup container, final WebView webView) {
        if (container instanceof RelativeLayout) {
            RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
                    LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
            params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
            params.addRule(RelativeLayout.BELOW,
                    container.getChildAt(container.getChildCount() - 1).getId());
            container.addView(webView, params);
        } else if (container instanceof LinearLayout) {
            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(
                    LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
            container.addView(webView, params);
        }
    }
} 
```

这就是我使用它的方式： **MyAdapter.java**

```
public class MyAdapter extends InRowAdAdapter {
    private final List<Product> products;

    public static class ViewHolder {
        public TextView vBrand;
        public TextView vProduct;
        public SmartImageView vImage;
        public TextView vDescription;
        public String id;
    }

    public MyAdapter(Context context, List<Product> products) {
        super(context);
        this.products = products;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder;
        if (convertView == null) {
            LayoutInflater inflater = (LayoutInflater) getContext()
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = inflater.inflate(
                    R.layout.adapter_product_new_arrival_list_item, null);
            holder = new ViewHolder();
            holder.vBrand = (TextView) convertView
                    .findViewById(R.id.brand_name);
            holder.vProduct = (TextView) convertView
                    .findViewById(R.id.product_name);
            holder.vImage = (SmartImageView) convertView
                    .findViewById(R.id.product_image);
            holder.vDescription = (TextView) convertView
                    .findViewById(R.id.description);
            convertView.setTag(holder);
        } else
            holder = (ViewHolder) convertView.getTag();

        holder.vBrand.setText(products.get(position).getBrandName());
        holder.vProduct.setText(products.get(position).getProductName());
        holder.vImage.setImageUrl(products.get(position).getImageUrl());
        holder.vDescription.setText(products.get(position).getDescription());
        holder.id = products.get(position).getProductId();
        // Let InRowAdAdapter handle the ads
        return super.getView(position, convertView, parent);
    }

    @Override
    public int getCount() {
        return products.size();
    }

    @Override
    public Object getItem(int position) {
        return products.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

} 
```

现在的问题是，通常它看起来像这样： ![在此处输入图像描述](../Images/4704b3229d73e86d422a8417bd5a96c1.png)

但是当过度滚动时：

![在此处输入图像描述](../Images/772d66d17984490fe74d7e514d05bfec.png)

所有行都正常移动，但由于一些奇怪的原因，我的 WebView 的内容没有被滚动。从截图中我们可以看出，WebView 的大小没有改变。这只发生在三星设备上。**到底发生了什么？**我该如何解决这个问题？我认为尝试禁用过度滚动不是一种选择，因为三星自己编写了`ListView`.

感谢您阅读这篇长文。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T04:27:29.807

您对三星`Overscroll`在他们的设备上进行定制是正确的。我在尝试编写`OverScrollScrollView`覆盖该`onOverScrolled()`方法的方法时遇到了类似的问题。

我不知道它是否会起作用，但是下载[SOURCE](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/1.5_r4/android/widget/ListView.java)`ListView`并在您的应用程序中使用它很可能会解决您的问题。

祝你好运！

# json - 将我的 chrome 扩展程序上传到 Chrome 网上应用店时，“清单文件无效”

> ID：14151058
> 
> 赞同：5
> 
> 时间：2013-01-04T04:24:33.933
> 
> 标签：json, google-chrome, google-chrome-extension, manifest

我一直在本地开发 chrome 扩展。我刚刚完成并想将其上传到 Chrome 网上应用店。当我上传它并告诉我：

```
An error occurred: Invalid manifest. If your manifest includes comments, please remove them as our gallery does not support them yet. 
```

我检查了 JSON 以确保它是有效的，并且据我所知它是完全有效的。我尝试以不同的方式命名并上传它，但它仍然无法正常工作。我也尝试更改编码，但没有奏效。清单如下

```
{
    "name": "Name",
    "version": "0.0.0.0.1",
    "manifest_version": 2,
    "description": "Description",
    "browser_action": {
        "default_icon": "icon.png",
        "default_popup": "popup.html"
    },
    "icons": { "128": "icon.png"},
    "permissions": [
        "tabs",
        "http://*/*",
        "webNavigation",
        "history",
        "storage"
    ],
    "content_scripts": [{
        "matches": ["http://*/*", "https://*/*"],
        "js": ["js/jquery.min.js", "js/tab.js"]
    }],
    "background": {
        "page": "background.html"
    }
} 
```

有没有人知道问题是什么？在最终完成扩展后得到这个真的很令人沮丧。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T04:38:25.777

使用你的 manifest.json，得到这个错误。

**无法从“/Users/jjperezaguinaga/samples/ext”加载扩展。必需的值“版本”缺失或无效。它必须是 1-4 个点分隔的整数，每个整数介于 0 到 65536 之间。**

我从您的版本中删除了一些 0，并且能够加载它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-29T05:58:38.703

代替

```
"version": "0.0.0.0.1" 
```

和

```
"version": "1.0" 
```

# maven - 使用 Sonar 分析 cpp 项目时出错

> ID：14151059
> 
> 赞同：1
> 
> 时间：2013-01-04T04:24:44.193
> 
> 标签：maven, sonarqube, linkageerror

分析 CPP 项目时出现以下错误。我用声纳 3.1 和 3.4 分析了这个项目。但是我在两个声纳版本中都遇到了同样的错误。请帮我找到并解决问题..

```
[ERROR] Failed to execute goal org.codehaus.sonar-plugins:maven-cpp-plugin:0.4:metrics (default-cli
) on project ConnectJet: Execution default-cli of goal org.codehaus.sonar-plugins:maven-cpp-plugin:
0.4:metrics failed: An API incompatibility was encountered while executing      
org.codehaus.sonar-plugins:maven-cpp-plugin:0.4:metrics: java.lang.LinkageError: JAXB 2.0 API is being loaded from the bootstrap classloader,   
but this RI (from jar:file:/C:/Users/Renjith.R/.m2/repository/com/sun/xml/bind/j
axb-impl/2.1.12/jaxb-impl-2.1.12.jar!/com/sun/xml/bind/v2/model   
/impl/ModelBuilder.class) needs 2.1
API. Use the endorsed directory mechanism to place jaxb-api.jar in the bootstrap   
classloader. (See http://java.sun.com/j2se/1.5.0/docs/guide/standards/) 
```

在此先感谢 Renjith.R

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T09:56:47.730

将评论作为答案移动，因为它有效......

该问题可能是由于`jaxb`java 提供的和 sonar 所需的 API 版本冲突。

将“jaxb-api.jar `in the`endorsed”目录作为 instructex 放置在错误消息中。

# ruby-on-rails - 资源与具有根路径集的资源

> ID：14151061
> 
> 赞同：0
> 
> 时间：2013-01-04T04:24:56.223
> 
> 标签：ruby-on-rails

如果我有

```
resources :projects 
root to: "projects#index" 
```

在我的路线文件中会更简洁吗

```
resource :projects
root to: "projects#index" 
```

或任何原因这不起作用，因为我没有看到任何人这样做

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T04:40:40.030

不，因为它们是两种不同的方法，可以做两种不同的事情。[`resources`](http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/Resources.html#method-i-resources)适用于当您拥有多个模型对象（*复数*资源）时，而[`resource`](http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/Resources.html#method-i-resource)适用于当它是*单一*资源时。因此， using`resource`不会创建`index`路由，并且所有路由都不会在 URL 中使用 ID 参数。引用[文档](http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/Resources.html#method-i-resource)：

> 有时，您有一个资源，客户端总是在不引用 ID 的情况下查找该资源。一个常见的例子，/profile 总是显示当前登录用户的个人资料。在这种情况下，您可以使用单一资源将 /profile（而不是 /profile/:id）映射到 show 操作：
> 
> ```
> resource :geocoder 
> ```

也就是说，无论如何我都不会真正考虑保存一个“更简洁”的角色。

# html - 默认移动浏览器仅在 Safari 和 IE 移动中缩放

> ID：14151064
> 
> 赞同：0
> 
> 时间：2013-01-04T04:25:37.873
> 
> 标签：html, css, mobile, safari, zooming

有谁知道为什么尽管使用了元视口标签，但如果将最小宽度分配给正文，Safari 和 IE 移动版仍然会在加载时放大页面？我搜索了很多，但我的具体案例似乎没有记录，所以我将详细介绍。

我已经在标题中有这个：

```
<meta name="Viewport" content="width=device-width, initial-scale=1"> 
```

我的页面在 Android 浏览器中完美缩放。在每个样式表中都有这段代码来强制比例，以防样式表被错误加载：

```
body {
    min-width:(whatever the minimum device width is for the media query);
} 
```

所以对于 iPhone 4 和其他高 DPI 显示器，我有：

```
body {
    min-width:640px;
} 
```

当我删除最小宽度时，比例在 iPhone 4 上出现大幅放大，但没有横向滚动，即文本很大，但宽度实际上不再溢出。与加载相同样式表并完美显示的 Android 相比，这是完全错误的。我可以通过将标签更改为读取来修复它：

```
<meta name="Viewport" content="width=device-width, initial-scale=0.5"> 
```

但这只会在所有其他浏览器中导致微小的文本缩放问题。造成大多数人的问题以迎合少数人。不好。

需要注意的是，一些移动浏览器会根据其默认缩放设置读取不同的媒体查询。以下是我的情况（简化媒体查询以节省空间）：

```
<link media="only screen and (min-device-width:0px) and (max-device-width:1280px)" href="webfiles/mob_default.css" />
<link media="only screen and (min-device-width:640px) and (max-device-width:1280px)" href="webfiles/mob_vhigh.css" />
<link media="only screen and (min-device-width:480px) and (max-device-width:639px)" href="webfiles/mob_high.css" />
<link media="only screen and (min-device-width:360px) and (max-device-width:479px)" href="webfiles/mob_mid.css" />
<link media="only screen and (min-device-width:0px) and (max-device-width:359px)" href="webfiles/mob_small.css" />
<link media="only screen and (-webkit-min-device-pixel-ratio : 2), only screen and (min-device-pixel-ratio : 2) and (min-device-width:640px)" href="webfiles/mob_vhigh.css" /> 
```

在使用默认 Android 浏览器的摩托罗拉 RAZR (540x800px) 上，默认缩放设置为：

*   'far'，它将加载 480-639px 宽的样式表。（正确的屏幕物理分辨率）
*   'mid'，它加载 360-479px 宽的样式表
*   'close' 加载 '0-359px 宽的样式表

虽然这实际上是一种处理缩放的更优雅的方式，而不是在页面上物理放大并需要横向滚动，但不知道如何处理默认缩放导致浪费大量时间试图找出为什么我的媒体查询“不起作用” '。

我提到所有这些的原因显然是没有选项可以调整 IE 移动设备或 Safari 上的默认缩放设置（我也在 iPhone 上的 Dolphin 中对此进行了测试，结果相同）。我想检查一下 Safari、Dolphin 和 IE mob 处理缩放的方式是否不同。由于我的问题最初是困扰 Android 并且在 Safari 和 Dolphin 中运行良好（在我添加 <meta="Viewport"...> 标记之前），默认缩放是我唯一的怀疑。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T04:35:57.773

对于 iPhone 4 和其他高分辨率显示器，将最小宽度设置为 320 像素以考虑 2:1 像素比。

# javascript - 保持本地文件恒定流的最佳方法？

> ID：14151072
> 
> 赞同：0
> 
> 时间：2013-01-04T04:26:42.043
> 
> 标签：javascript, jquery, setinterval

好的，所以我一直在尝试使用某种 Javascript 来不断刷新更改的文件以实时获取更新，而不必使用 node.js 或 socket.io，因为我没有能力将其添加到我的服务器。

我一直在使用以下代码来解决这个问题，但我认为这是一种荒谬的做法。

```
<script type="text/javascript">
var st = setInterval(function(){
    $.get("api.php",{user:1});
}, 1000);
</script> 
```

这只是其中的一个总和，在它停止并询问您是否还在那里之前，我有 25 个请求的限制。

如果没有服务器端插件，有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T04:36:57.177

假设文件单调增加，您可以向服务器询问差异。从偏移量 0 开始，获取返回文件的长度，将其添加到运行长度，然后请求从该位置开始的文件。这样，您不会尝试每秒传输一次整个文件，而只是在将它们附加在一起时添加到完整文件中的离散块。

另外，我不喜欢`setInterval`不知道长度的东西；我更喜欢自动刷新`setTimeout`（即在它完成它必须做的任何事情后将当前函数设置为超时）；这样，您可以在请求之间有 1 秒的延迟，而不是在请求的开始之间（如果延迟变得很大，这可能会开始重叠）。

```
var getFromApi = function() {
  $.get("api.php", { user: 1 }, function() {
    setInterval(getFromApi, 1000);
  };
};
getFromApi(); 
```

# android - Android USB OTG：以编程方式关闭端口电源

> ID：14151077
> 
> 赞同：24
> 
> 时间：2013-01-04T04:27:44.457
> 
> 标签：android, usb, usb-otg

假设我有一个 USB 供电的 LED 灯，通过 USB OTG 适配器连接到运行 Android 4.0.3 的 Toshiba Excite 10 平板电脑，该平板电脑提供电源。

我想通过应用程序以编程方式打开和关闭 USB OTG 主机端口的电源引脚。（理想情况下没有root，但我会尽我所能）。有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-07-13T03:28:39.487

您必须对 /sys 目录具有写权限。生根使该过程非常容易。只需root您的设备并发出正确的回显命令即可切换内核状态位，例如：

```
String[] command = { "/system/bin/sh", "-c", "echo xxx > /sys/bus/usb/devices/usb3/power/level", };
Runtime.getRuntime().exec(command); 
```

另一种方法是使用libusb，为切断电源的功能挖掘库。您可以使用 android.hardware.usb.UsbManager 为 libusb 请求适当的权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-14T15:58:57.517

As I know from here [https://askubuntu.com/questions/342061/power-on-off-usb-ports](https://askubuntu.com/questions/342061/power-on-off-usb-ports) "All of the previous answers talk about a USB suspend mechanism, i.e. a "logical power-off", they will never physically cut the VBUS +5V from the USB port.".

Maybe a hardware solution is bad idea, but I can advise you to use MOSFET transistor with programmed Atmega8U4 chip on PCB, that is programmed to cutoff power to led lamp.

# cisco-ios - 我们如何在 cisco 中使用双 wan 单 lan 为以下场景使用基于策略的路由

> ID：14151081
> 
> 赞同：-1
> 
> 时间：2013-01-04T04:28:04.210
> 
> 标签：cisco-ios

我们如何在 cisco 中针对以下场景使用基于策略的路由：

```
Wan 1 : 

  ip address : 10.10.10.2 
  subnetmask : 255.255.255.252
  gateway    : 10.10.10.1 
```

万2：

```
 ip address : 20.20.20.2 
  subnetmask : 255.255.255.252
  gateway    : 20.20.20.1 
```

兰：

```
 ip address : 172.168.0.4 
  subnetmask : 255.255.240.0 
```

我想允许 172.168.0.10、172.168.0.11、172.168.0.12 的 wan 10.10.10.2

和

我想允许 172.168.0.13、172.168.0.14、172.168.0.15 的 wan 20.20.20.2

使用访问列表

请帮我完成这个

提前致谢 ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-13T22:22:16.850

尝试这样的事情：例如与 IP 172.168.0.13 的接口

创建访问列表以告诉 PBR 不包括到内部网络的流量（您可以将其用于所有 PBR，也可以根据需要指定自己的）

> ip 访问列表扩展 ACL_FOR_PBR
> 拒绝 ip 任何 172.168.0.0 0.0.255.255
> 允许 ip 任何任何

接下来创建基于策略的路由规则 #1 ：

> route-map PBR_RULE_13 permit 1
> match ip address ACL_FOR_PBR
> set ip next-hop 20.20.20.2

接下来将规则应用到接口

> 接口 Fa0/13
> ip 策略路由映射 PBR_RULE_13

对其他接口执行相同操作。

# javascript - 每次参数更改时添加长轮询ajax请求

> ID：14151086
> 
> 赞同：0
> 
> 时间：2013-01-04T04:28:34.940
> 
> 标签：javascript, ajax, debugging, long-polling, duplicate-removal

```
function AjaxRequest(params, url) {
    if (params) {
        this.params = params;
        this.type = "GET";         
        this.url = url;
//      this.contentType = "multipart/form-data";
        this.contentLength = params.length;;
    }
}

AjaxRequest.prototype.createXmlHttpObject = function() {
    try {
        this.xmlHttp = new XMLHttpRequest();
    }
    catch (e) {
        try {
            this.xmlHttp = new ActiveXObject("Microsoft.XMLHttp");
        }
        catch (e) {}
    }

    if (!this.xmlHttp) {
        alert("Error creating XMLHttpRequestObject");
    }
}

AjaxRequest.prototype.process = function() {
    try {
        if (this.xmlHttp) {
            document.getElementById("loading"+this.params).innerHTML = "loading...";
            document.getElementById("loading"+this.params).className = "loading";
            this.xmlHttp.onreadystatechange = this.handleRequestStateChange();
            this.xmlHttp.open(this.type, this.url, true);
            this.xmlHttp.setRequestHeader("Content-Type", this.contentType);
            this.xmlHttp.setRequestHeader("Content-Length", this.contentLength);
            this.xmlHttp.send(this.params);
            }
        }
        catch (e) {
            document.getElementById("loading"+this.params).innerHTML = "";
            alert("Unable to connect to server");
        }
    }

AjaxRequest.prototype.handleRequestStateChange = function() {
    var self = this;
    return function() {
        try {
            if (self.xmlHttp.readyState == 4 && self.xmlHttp.status == 200) {
                self.handleServerResponse();
            }
        }
        catch (e) {
            alert(self.xmlHttp.statusText);
        } 
    };
}

AjaxRequest.prototype.handleServerResponse = function() {
    try {
        if(this.xmlHttp.responseText.length > 0){
            document.getElementById("loading"+this.params).innerHTML = this.xmlHttp.responseText;
        }
    }
    catch (e) {
        alert("Error reading server response");
    }
}

function CreateAjaxControl(params, url){
    var con = $("#"+params+" select").val();
    url += "?id="+params+"&con="+con;
    var ajaxRequest = new AjaxRequest(params, url);       
    ajaxRequest.createXmlHttpObject();
    ajaxRequest.process();
    ajaxRequest.count = 0;
    ajaxRequest.progress = CheckingProgress;
    ajaxRequest.progress(ajaxRequest, ajaxRequest.params, ajaxRequest.count);
    //var ajaxRequest = new AjaxRequest(params, url);
    //ajaxRequest.checking = setInterval(function(){CheckingProgress(ajaxRequest.params);}, 100);

}

//function Check(id){
//    var res = 0;
//    while( res != "done..."){
//        res = CheckingProgress(id, res);
//    }
//}

function CheckingProgress(obj, id, count){
    var self = obj;
    if (window.XMLHttpRequest){
        xmlhttp8 = new XMLHttpRequest();
    }else{
        xmlhttp8 = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp8.onreadystatechange = function(){
        if (xmlhttp8.readyState==4 && xmlhttp8.status==200){
            var result = xmlhttp8.responseText.split(',');
            document.getElementById("loading"+id).innerHTML = result[0] + " out of " + result[1];
            self.count = result[0];
            self.progress(self, self.params, self.count);
        }else if(xmlhttp8.status==404){
            document.getElementById("loading"+id).innerHTML = "done...";
            //return "done";
        }
    }
    xmlhttp8.open("GET","views/test2.php?id="+id+"&count="+count,true);
    xmlhttp8.send();
} 
```

我使用一个长轮询脚本来检查数据库中更新记录的数量，当还没有更新时它可以完美运行，但是当我更新数据库中的记录时，会创建一个新的 ajax 请求，并将新计数作为参数，并且第一个请求仍然保持不变。这里似乎有什么问题？这是我将长轮询方法附加到对象的方式吗？请帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-10T00:45:17.333

> CheckingProgress() 中的参数计数有什么意义？每次调用 CheckingProgress() 时，obj.count 与传入的参数 count 相同，因此函数末尾对 count 的引用可以替换为 self.count

# ssis - 使用 SSIS 2008 使用单个转换连接多个表

> ID：14151091
> 
> 赞同：2
> 
> 时间：2013-01-04T04:29:19.490
> 
> 标签：ssis

我是 SSIS 的新手，我的任务是`join multiple tables`将其插入目标表中。

源表来自 SQL Server，目标再次是 SQL Server。

所有的表都有关系，只需要重新连接和插入数据到 SQL Server 表中。

我想用`SINGLE transformation`SSIS 中的项目来做。

请给我实现这一目标的步骤。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T05:11:15.070

`oledb command`一种方法是通过映射列 ( `Column Mappings Tab`)直接使用并编写您的 sql

或者

您可以使用`merge join transformation`.Sort 您的 OLEDB 源。右键单击组件 转到`Show Advanced Editor` 并在`Input Output Properties`选择输出列之一中并`sort key option`从更改`0`为 `1`。现在使用合并连接组件并将公共列映射为连接键并选择列您需要作为输出。使用 an`OLEDB destination`映射上述组件的输出列并转储数据。

检查[这篇](http://beyondrelational.com/modules/2/blogs/101/posts/13416/ssis-97-when-merge-join-is-your-friend.aspx)文章

上述两种技术都只使用 1 个组件来执行连接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T15:10:36.170

如果源表位于 1 个 SQL Server 实例中，则应使用“OLEDB 源”或“SQL Server 源”。在数据访问方法列表框中，选择 SQL 命令并编写或构建您的连接查询。

此解决方案的性能比使用合并连接转换要好得多

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-15T00:14:13.933

我将从仅从您的事实/事务/最详细表中选择列的 OLE DB 源开始。

然后我会为每个引用表添加一个查找转换。

最后，我将添加一个 OLE DB 目标以将数据插入目标表（最好使用快速加载和表锁定）。

这种设计提供了最佳的运行时性能，并确保每个组件都简单快速。

# scope - 似乎无法使用匿名视图获得 ember.js 范围

> ID：14151092
> 
> 赞同：1
> 
> 时间：2013-01-04T04:29:33.863
> 
> 标签：scope, ember.js

我试图弄清楚看起来应该很容易。我有这个视图（使用火焰 - 我不知道这是否是它的一部分）。我要做的是显示一个基于 1 的编号链接列表，供用户单击并选择可用的图像。布局工作正常，所有 HTML 都是可以接受的，但是当我点击一个链接时，我得到

```
Uncaught TypeError: Object <(subclass of Ember.View):ember9452> has no method 'becomeKeyResponder' 
```

和

```
App.Router:ember3456> could not respond to event App.ControllerA.jumpToImage in state root.visualGlossary.defaultState. 
```

谷歌没有发现这些错误。

```
jumpToImage = Flame.View.extend({
    layout: {left: 0, top: 5, height: 26, width: 'auto'},
    classNames: 'image-links'.w(),

    handlebars: "\
        {{#each App.ControllerA.content.images}}\
            {{#view App.arrayIndexer contentBinding='this'}}\
               <a {{action 'App.controllerA.jumpToImage' }} {{bindAttr data-index='view._parentView.contentIndex'}}>{{view.test}}</a>\
               {{/view}}\
           {{/each}}\
        "
   }), 
```

这作为控制器A（相关部分）

```
App.controllerA = Em.ObjectController.extend({
    imageIndex: 0,
    //assume content.images is an valid enumerable

    jumpToIImage: function(e){
       this.set('imageIndex', $(e.target).data('index'));
    }
)} 
```

和控制器 B

```
Sylvius.arrayIndexer = Ember.View.extend({
   content: null,   
   test: function(){
      return this.getPath('_parentView.contentIndex') + 1
   }.property(),

  jumpToImage: function(e){
    Sylvius.vgDisplayController.set('imageIndex', $(e.target).data('index'));
  }
}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-15T18:35:38.123

这是一个相当老的问题，但为了完整性和将来检查这个问题的任何人：看起来你有一个错字！`jumpToIImage`在控制器 A 中有两个`I`，而不是一个。

# .net - 可移植类库的任何日志记录框架？

> ID：14151095
> 
> 赞同：17
> 
> 时间：2013-01-04T04:30:23.107
> 
> 标签：.net, logging, portable-class-library

是否有任何支持可移植类库的日志框架？我在 Nuget 上进行了搜索，但没有找到。

谢谢，

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-08T15:07:58.093

不确定，如果有直接针对可移植类库的日志框架，但没有什么能阻止您使用依赖注入在 PCL 中实现日志记录 - 为日志记录服务创建接口并使用您最喜欢的甚至不同的库分别在所有目标平台上实现它。然后，您可以更好地控制特定的日志记录设置 - 这是登录 .NET WPF 应用程序、WP8 应用程序或 Windows Store 应用程序的完全不同的方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-05-21T10:41:05.020

我会回答我自己的问题：

[Common.Logging](https://github.com/net-commons/common-logging)是一种广泛使用的 .NET 可移植日志抽象，在 2014 年初（大约 2.2.0 版）成为 PCL 兼容的。我在我的大多数库（PCL 和非 PCL）中都使用了 Common.Logging，它运行良好。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-10-10T12:15:58.730

查看[Splat](https://github.com/paulcbetts/splat)。

> 一个使东西跨平台的库，应该是

这是一个小型 PCL 库，包含一些有用的跨平台类，包括日志记录......

[https://github.com/paulcbetts/splat/blob/master/Splat/Logging.cs](https://github.com/paulcbetts/splat/blob/master/Splat/Logging.cs)

您可以从[NuGet](https://www.nuget.org/packages/Splat/)获取它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-09-01T06:24:34.493

因为我也没有找到解决方案，所以我在这里创建了自己的... [https://portilog.wordpress.com/](https://portilog.wordpress.com/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-01-29T22:32:25.053

我遇到了类似的情况，我需要以某种一致的方式在我的可移植库中执行日志记录。我之前看过 Splat 和 Common.Logging 并认为它们对于我的需求来说有点太重了（尽管它们实际上都是非常可靠的日志框架）。因此，如果您对更轻量级的东西感兴趣，我已经编写了一个框架，它支持所有可移植配置文件（截至撰写本文时为 344）并提供最小的占用空间。该框架作为可移植库运行，可将日志调用转发到选定的适配器库（当前在 NuGet 上有 NLog 和 log4net 适配器可用）。然后，您的平台入口点负责按照您通常的方式连接日志记录，

*   [框架](https://www.nuget.org/packages/Acrotech.PortableLogAdapter/)
*   [NLog 适配器](https://www.nuget.org/packages/Acrotech.PortableLogAdapter.NLogAdapter)
*   [log4net 适配器](https://www.nuget.org/packages/Acrotech.PortableLogAdapter.log4netAdapter/)
*   [来源](https://bitbucket.org/Acrotech/acrotech.portablelogadapter)

该项目不是很活跃，但这只是因为自上次更新以来我不需要添加任何东西。我写了另一个 android 适配器，但自从我写它之后就没有做任何 Xamarin 编码。代码非常少，只是使日志记录愉快和容易的必需品。这个框架甚至与 CF35 兼容（尽管它没有官方构建），如果有人真的需要它来运行到那种程度。

# laravel - 异常未在 Laravel 中呈现视图

> ID：14151097
> 
> 赞同：1
> 
> 时间：2013-01-04T04:30:29.393
> 
> 标签：laravel

## 问题摘要

我无法让 Laravel 使用 Response::error('500') 呈现 500 个默认错误页面 (views/error/500.php)。

## 重现代码（为本示例简化）

创建一个虚拟控制器并添加以下公共方法：

```
public function action_index()
{
    try
    {
        throw new Exception;    
    }
    catch(Exception $e)
    {
        Response::error('500');
    }
} 
```

运行此路由时，请注意您将收到一个空白页，并且标题状态为 200，而不是 500。

## 预期结果

我希望在views/error/500.php 中呈现默认的500 错误页面，并停止执行其余脚本（假设脚本较长）。

## 实际结果

标题状态为 200 的空白白页被发送到浏览器。

## 我的环境

*   Laravel 3.2.12
*   共享主机上的 PHP 5.3.13
*   Windows 7的
*   Chrome 23（在其他各种浏览器上的结果相同）

## 更多信息

还有什么我可以提供的，让这个问题更容易理解或排除故障。Laravel 论坛 (http://forums.laravel.io/viewtopic.php?id=2191) 上出现了一个类似的（相同的？）问题，不久前它被声明为已修复。

在 application/routes.php 我有 500 错误处理程序的以下代码：

```
Event::listen('500', function()
{
    return Response::error('500');
}); 
```

您可以在 GitHub 上的[https://github.com/laravel/laravel/blob/master/laravel/response.php](https://github.com/laravel/laravel/blob/master/laravel/response.php)中查看 Response 对象的源代码。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T04:31:38.450

你错过了“回报”。您必须始终“返回”。

```
public function action_index()
{
    try
    {
        throw new Exception;    
    }
    catch(Exception $e)
    {
        return Response::error('500');
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T04:36:35.370

你也可以返回事件，这会给你同样的东西，但允许你通过更改注册的事件在一个地方改变行为。

```
public function action_index()
{
    try
    {
        throw new Exception;    
    }
    catch(Exception $e)
    {
        return Event::first('500');
    }
} 
```

# iphone - 使用 libz.dylib 解压缩文件

> ID：14151098
> 
> 赞同：2
> 
> 时间：2013-01-04T04:30:29.247
> 
> 标签：iphone, ios, cocoa-touch, unzip, dylib

我正在创建一个压缩文件的应用程序，谷歌搜索后我发现我们可以使用 Cocoa touch 中已经可用的 libz.dylib。对我来说奇怪的是，我找不到 libs.dylib 的任何文件。谁能给我一些官方文件？而且如果我们要解压文件，大家都建议使用一些第三方库来解压文件。我们不能使用默认的 libz.dylib 吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T05:07:19.990

你可以这样做： -

[我在下面的这个链接下载和解压iOS](https://stackoverflow.com/questions/11333399/download-and-unzip-file-in-ios)中的文件的堆栈溢出中找到了一个很好的答案，请检查下面

我过去曾成功使用过[ZipArchive](http://code.google.com/p/ziparchive/)。它非常轻巧且易于使用，支持密码保护、ZIP 内的多个文件以及压缩和解压缩。

基本用法是：

```
NSString *filepath = [[NSBundle mainBundle] pathForResource:@"ZipFileName" ofType:@"zip"];
ZipArchive *zipArchive = [[ZipArchive alloc] init];
[zipArchive UnzipOpenFile:filepath Password:@"xxxxxx"];
[zipArchive UnzipFileTo:{pathToDirectory} overWrite:YES];
[zipArchive UnzipCloseFile];
[zipArchive release]; 
```

更多关于这个包的例子[在这里](http://transoceanic.blogspot.in/2011/07/compressuncompress-files-on.html)

我也在一些项目中尝试过**[SSZipArchive 。](https://github.com/samsoffes/ssziparchive/blob/master/SSZipArchive.h)**下面的行将解压缩您的 zip 文件。

```
[SSZipArchive unzipFileAtPath:path toDestination:destination]; 
```

另请检查示例希望它对您有所帮助:)

**编辑**

请访问：-

[libz.dylib 与 libz.1.2.3.dylib 与 libz.1.2.5.dylib](https://stackoverflow.com/questions/6932991/libz-dylib-versus-libz-1-2-3-dylib-versus-libz-1-2-5-dylib)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:08:06.987

您可以尝试[ZipArchive](https://github.com/mattconnolly/ZipArchive)，这是我在 iOS 和 MacOS 中用于压缩/解压缩事务的最简单的库。

# mysql - 如果 MySQL 中不存在标题 1，则选择标题 2

> ID：14151104
> 
> 赞同：0
> 
> 时间：2013-01-04T04:31:37.640
> 
> 标签：mysql, sql, select

我有以下查询：

```
SELECT i.title, j.title FROM table1 i JOIN table2 j ON i.id = j.table1_id 
```

现在我想要的是选择`i.title AS title`是否`i.title`存在，否则使用`j.title AS title`.

有什么想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T04:32:45.520

使用`LEFT JOIN`和`COALESCE`

```
SELECT COALESCE(i.title, j.title) title 
FROM   items i 
       LEFT JOIN table j 
           ON i.id = j.items_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T04:40:44.743

`IFNULL()`您可以在 MySQL中尝试：

```
SELECT IFNULL(i.title, j.title)
FROM table1 i 
JOIN table2 j ON i.id = j.table1_id 
```

`j.title`如果`i.title`为空，它将返回。

# javascript - jQuery/Javascript 根本不起作用……我迷路了

> ID：14151108
> 
> 赞同：-1
> 
> 时间：2013-01-04T04:31:52.810
> 
> 标签：javascript, jquery

出于某种原因，jQuery 和 Javascript 无法在我的网站上运行。

见这里：[http ://hellomynameisad.am/test.html](http://hellomynameisad.am/test.html)

有人可以顶一下，让我知道我错过了什么吗？我已经尝试了许多不同的 jQuery 剪辑器，但似乎没有任何效果。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T04:33:27.953

您需要将其放入 document.ready 以将 html 元素转换为 javascript 来执行，或者您可以将脚本放在正文的结束标记之前。

**[现场演示](http://jsfiddle.net/rajaadil/wAcYa/)**

```
$(document).ready(function(){
  $("#container").fadeOut(function() {
     $(this).text("World").fadeIn();
  });
}); 
```

**编辑：**我在 html 中发现了一些其他错误，如下所示。

1.  没有起始正文标记。
2.  将脚本放在头标签之间或就在正文标签关闭之前。
3.  在 javascript 脚本标签中添加类型属性。
4.  最好在 jquery 的 url 前面加上 http：

更改 HTML

```
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.js"></script>
      <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.js ">     </script>
      <title>Untitled Document</title>
      <style type="text/css"> </style>

<script type="text/javascript">

    $(document).ready(function(){
        $("#container").fadeOut(function() {
            $(this).text("World").fadeIn(); 
        });
    });    
</script>    
</head>
<body>
    <div id="container">Hello</div>​
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-01-04T04:47:00.907

请添加这个

```
<script>
  $(document).ready(function(){
     $("#container").fadeOut(function() {
        $(this).text("World").fadeIn();
     });
  });
</script> 
```

结束后的部分代码`</body>`并查看它运行。

# javascript - Mootools 计数器倒计时不起作用

> ID：14151110
> 
> 赞同：0
> 
> 时间：2013-01-04T04:32:01.870
> 
> 标签：javascript, mootools

我在[这里](http://mootools.net/forge/p/countdown)有一个 mootools 倒计时，但它看起来不起作用
我`Uncaught ReferenceError: PeriodicalExecuter is not defined`在 CountDown.js 第 36 行 ( `this.timer = new PeriodicalExecuter(this.update.bind(this), (this.options.frequency || 1000) / 1000);`) 中收到一条错误消息

该类`PeriodicalExecuter`似乎不包含在 mootools 中。希望有人有代码`PeriodicalExecuter`或知道我在哪里可以找到它。

该类`PeriodicalExecuter`至少应包括功能`stop()`和`registerCallback()`

这是CountDown.js的代码供您参考

```
/*
---
script: CountDown.js
license: MIT-style license.
description: CountDown - a mootools countdown implementation.
copyright: Copyright (c) 2008 Thierry Bela
authors: [Thierry Bela]

requires: 
  core:1.2.3: 
  - Events
  - Options
provides: [CountDown]
...
*/

var CountDown = new Class({

    /* 

        options: {

            onChange: $empty,
            onComplete: $empty,
            date: null,
            frequency: 1000 //define the update frequency (in ms), default to 1000
        },

        */
    Implements: [Options, Events],
    initialize: function (options) {

        this.setOptions(options);
        if(!this.options.date instanceof Date) this.options.date = new Date(this.options.date);

        this.timer = new PeriodicalExecuter(this.update.bind(this), (this.options.frequency || 1000) / 1000);
    },
    stop: function () {

        this.timer.stop();          
        return this
    },
    start: function () {

        this.timer.registerCallback();          
        return this
    },
    update: function () {

        var millis = Math.max(0, this.options.date.getTime() - new Date().getTime()),
        time = Math.floor(millis / 1000),
        stop = time == 0,
        countdown = {

            days: Math.floor(time / (60 * 60 * 24)), 
            time: time,
            millis: millis
        };

        time %= (60 * 60 * 24);

        countdown.hours = Math.floor(time / (60 * 60));
        time %= (60 * 60);
        countdown.minutes = Math.floor(time / 60);
        countdown.second = time % 60;

        this.fireEvent('onChange', countdown);

        if(stop) {

            this.timer.stop();
            this.fireEvent('onComplete');
        }
    }
}); 
```

**编辑**
我正在使用兼容的 Mootools 1.4.5 版

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T10:23:24.353

您可以更改类代码以使用标准方法。

看起来`.registerCallback`只是一个启动计时器的功能，即。`setInterval`. 明确`.stop`停止计时器，即。`clearInterval`.
该类似乎做的唯一一件事就是每次`PeriodicalExecuter`将实例化时给它的参数传递给调用。`setInterval`

这就是足够的信息来自己实现它:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T03:26:06.813

[https://code.google.com/p/pspygear/source/browse/trunk/trunk/PspyGear/html/osgata/scripts/PeriodicalExecuter.js?r=114](https://code.google.com/p/pspygear/source/browse/trunk/trunk/PspyGear/html/osgata/scripts/PeriodicalExecuter.js?r=114)
最后，我在上面的站点中找到了 js 文件

顺便说一句，谢谢@Reanimation。
源码和你说的差不多

# lotus-notes - Lotus Notes 6.5.1 中文档的最大大小是多少？

> ID：14151113
> 
> 赞同：3
> 
> 时间：2013-01-04T04:32:12.233
> 
> 标签：lotus-notes, lotus-domino

我在 Lotus Notes 6.5.1 中工作。我面临 32K 错误的问题。

问题 ：-

我在 6.5.1 服务器中有数据库。我有很多超过 32000 字节的文档。每当我打开并保存上述大小的文档时，我都无法打开该文档。它抛出 32k 错误。但是如果文档大小小于 32000 字节，那么我可以在保存后打开文档。我可以限制文档文档的大小。据我所知，文档长度没有限制。

[http://www.thenorth.com/northern.nsf/ac567d6535ab069785256a00004d66dc/4100857248b8b82185256d350058f7e4!OpenDocument](http://www.thenorth.com/northern.nsf/ac567d6535ab069785256a00004d66dc/4100857248b8b82185256d350058f7e4!OpenDocument)

只是我想知道，为什么会这样。由于这个问题，我的计划代理没有运行。GetNextDocument 未获取下一个文档。

一条信息：- 我的数据库磁盘空间已使用 96%。

文件大小是否与上述信息有关？或 Notes 文档有什么特定的功能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:42:38.420

听起来您已经达到了单个（摘要）字段的 32K 限制：

> Notes/Domino 6.x 和更高版本对摘要字段有以下限制：每个字段 32k，每个文档 64k。

有关更多信息和解决方法，请参阅[http://www-01.ibm.com/support/docview.wss?uid=swg21087474](http://www-01.ibm.com/support/docview.wss?uid=swg21087474)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T09:34:43.223

The answer was already given to subject. Here only solution for such problem.

You can avoid problem with those limits if you set flag Summary to false.

```
dim item as notesitem
set item = doc.getFirstItem('itemname')
item.IsSummary = false
call doc.save(true, false) 
```

and u 'do not do nothing' when you press Ctrl+s - u actually refresh document and then save it. I guess you have some computed fields on form that are refreshed and their size go up.

# jquery - jquery选择器找不到加载ajax的元素以使用灯箱

> ID：14151117
> 
> 赞同：0
> 
> 时间：2013-01-04T04:33:05.870
> 
> 标签：jquery, ajax, selector, lightbox

通过ajax加载内容时，我试图让smoothdivscroll与灯箱插件一起使用，但到目前为止我的努力都是徒劳的。这就是为什么我在这方面向你寻求帮助。

这是我的测试页面的链接： http: [//cablemodem.fibertel.com.ar/gustavolauro/](http://cablemodem.fibertel.com.ar/gustavolauro/)

并在代码下方，

```
<script type="text/javascript">
    $(document).ready(function () {
        $("#makeMeScrollable").smoothDivScroll({
        });
        $("#item-100").click(function(){
            $("#makeMeScrollable").smoothDivScroll("getAjaxContent", "retratos.html", "replace");
        });
        $("#item-101").click(function(){
            $("#makeMeScrollable").smoothDivScroll("getAjaxContent", "artistico.html", "replace");
        });
        $('a[rel*=lightbox]').lightBox();   
    });
</script> 
```

我正在使用 smoothdivscroll smoothdivscroll.com 和灯箱[http://leandrovieira.com/projects/jquery/lightbox/](http://leandrovieira.com/projects/jquery/lightbox/)

问题是 ajax 加载的内容不适用于灯箱，我认为这是因为选择器 a[rel*=lightbox] 找不到最近加载的内容，但即使我尝试了很多东西我也无法解决问题.

希望你能帮忙，提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T04:42:16.673

![在此处输入图像描述](../Images/862df6d91c677473dfe6f92630b13f6b.png)

Firebug 是你的朋友——学会爱它。

现在，当您加载 ajax 时，您必须确保绑定所有新内容，因为当您尝试将锚标签与灯箱绑定时，它最初不在页面上

就像是：

```
 <script type="text/javascript">
        $(document).ready(function () {
            $("#makeMeScrollable").smoothDivScroll({
                        addedAjaxContent : function(){
                           $("#makeMeScrollable").find('a[rel*=lightbox]').lightBox();
                        }
            });
            $("#item-100").click(function(){
                $("#makeMeScrollable").smoothDivScroll("getAjaxContent", "retratos.html", "replace");

            });
            $("#item-101").click(function(){
                $("#makeMeScrollable").smoothDivScroll("getAjaxContent", "artistico.html", "replace");
            });
            $('a[rel*=lightbox]').lightBox();   
        });
    </script> 
```

# c# - 如何通过 C#、Windows Phone 中的给定 ID 访问嵌套的 JSON 对象？

> ID：14151119
> 
> 赞同：0
> 
> 时间：2013-01-04T04:33:19.200
> 
> 标签：c#, json, windows-phone-7

我的 JSON 来自 url `http://192.168.1.50/vantaa/api/place`，它看起来像这样。
第一个问题是如何从这个 JSON 中获取数据。我需要在 xaml 列表页面中绑定它。

```
{
         places: [
            {
              id: "243",
              title: "Abrams ja Husbacka",
              latitude: "60.25627906773524",
              longitude: "24.842572314971903",
              www: ""
            },
            {
              id: "149",
              title: "Alkupamaus",
              latitude: "60.27657927084334",
              longitude: "24.848795039886454",
              www: ""
            }
         ]
} 
```

我需要在新的 xaml 页面中使用下面的 JSON。为了低于 JSON，url 看起来像这样`http://192.168.1.50/vantaa/api/place/243`

例如，有一个列表页面显示上述 JSON 的数据。一旦用户单击地点 id 243 的文本块。它将导航到新页面，然后显示地点 id 243 的绑定 JSON 数据，如下所示。（图像数组是动态的）。

```
{
     id: "243",
     title: "test 9 image",
     description: "test 9 image",
     latitude: "60.80943244516333",
     longitude: "26.14554653906248",
     www: "",
     phone: "",
     email: "",
     contact_person: "",
     address: {
     street: "asdf",
     postal_code: "12345",
     post_office: "Vantaa"
},
     images: [
          {
          id: "100",
          filename: "50c95e58b30db1.JPG",
          path: "assets/images/"
          },
          {
          id: "101",
          filename: "50c95e59207ad2.jpg",
          path: "assets/images/"
          },
          {
          id: "102",
          filename: "50c95e599076f3.jpg",
          path: "assets/images/"
          }
     ]
} 
```

关于这个问题有什么建议吗？

ps：我是WP和C#的新手，所以请简单解释一下。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:56:24.013

基于 JSON 创建对象。例如，一个 Place 对象将是：

```
public class Place
{
    public string id {get; set;}
    public string title {get; set; }
    public string latitude {get; set; }
    public string longitude {get; set; }
    public string www {get; set;}
} 
```

然后您可以将 JSON 转换为可以绑定页面的对象。使用 JSONConvert 或 JavaScriptSerializer

```
var somewhere = JsonConvert.DeserializeObject<Place>(json); 
```

JSONConvert 来自[JSON.NET](http://james.newtonking.com/projects/json-net.aspx)，是一个非常成熟的 Json 库。您还可以使用 NuGET 包管理器引用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:43:08.180

我会推荐 JSON.NET 库。您可以通过 NuGet 包管理器获取它。（在解决方案资源管理器中右键单击您的解决方案，然后单击管理 NuGet 包）

正如 Keifer 所说，您可以创建单独的类来解析 JSON。但是，如果您不希望 JSON 的每个部分都有一个类，则可以`dynamic`使用`var`. 您还需要下载 JSON，但我假设您已经这样做了，除非您需要我，否则我不会详细说明。

下载 JSON 后，您需要对其进行反序列化。像这样：我们假设您`jsonstring`在下载后将 JSON 命名为。

```
dynamic somewhere = JsonConvert.DeserializeObject(jsonstring); 
```

解析 JSON 并在反序列化后获取列表，您将使用

```
JObject o = JObject.Parse(jsonstring);
JArray items = (JArray)root["Places"]; 
```

# android - 支持所有平板电脑的 Android - 对可绘制对象和布局进行分类

> ID：14151121
> 
> 赞同：13
> 
> 时间：2013-01-04T04:33:30.257
> 
> 标签：android, screen-resolution, resourcebundle

我在 stackoverflow 中看到了很多讨论这个问题的线程（比如[this](https://stackoverflow.com/questions/9093194/supporting-all-android-tablets-resolutions)、[this](https://stackoverflow.com/questions/6148420/android-layouts-drawables-and-resolution-what-is-the-best-way)和[this](https://stackoverflow.com/questions/10293436/android-layouts-design-for-tablets-and-devices)），并且我已经阅读了有关支持多个屏幕和设计的文档。但我仍然不清楚drawables的文件夹结构和不同屏幕的布局

我正在开发一个支持安卓手机和平板电脑的应用程序。我的项目显示了一些图像，这些图像需要在所有可能的 android 设备中以高质量显示。我需要告诉我的设计师为所有这些分辨率进行设计。

从文档看来，我应该为以下分辨率添加可绘制对象（最后给出可绘制文件夹名称），

```
1) 240 x 320  - Phone LDPI  -> drawable-ldpi

2) 320 x 480  - Phone MDPI  -> drawable-mdpi

3) 480 x 800  - Phone HDPI  -> drawable-hdpi

//Now for tablets

4) 1024x600   - Tablet LDPI -> ??

5) 1280x800   - Tablet MDPI -> ??

6) 1536x1152  - Tablet HDPI -> ??

7) 2560x1600  - Tablet XHDPI-> ?? 
```

从支持[多屏幕文档](http://developer.android.com/guide/practices/screens_support.html)，看来我可以使用像这样的文件夹

```
1) drawable-sw600dp  ( a 7” tablet (600x1024 mdpi).)
2) drawable-sw720dp   (a 10” tablet (720x1280 mdpi, 800x1280 mdpi, etc). 
```

但是分辨率在 1536x1152、2560x1600 等范围内的平板电脑呢？10' 分辨率范围（720 x 1280 等）对他们来说似乎很小。我的客户有一个分辨率为 2560×1600 的 Nexus 10，我希望我的应用程序能够看起来很完美..

我知道，九个补丁图像，布局使用`wrap_content`和其他类似的良好实践。但是对于这个项目，我有一些图像，根据要求，应该在所有常见的屏幕上都能看到清晰锐利的图像，而且我至少在我的包中需要这些图像的多个版本。

那么我应该向设计师提及什么和什么决议呢？以及如何将它们分类为提供正确文件夹名称的捆绑包。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-04T04:42:09.500

实际上，平板电脑是按尺寸分类的，而不是按 dpi 分类的，即 7" 标签是`drawable-large`10" 标签`drawable-xlarge`。现在您可以再次按 dpi 进行分类，`drawable-large-hdpi`这意味着它是一个 7" 的标签，具有高密度。

您可以使用`SW`最小宽度概念来定位，请参阅[应用程序骨架以支持多个屏幕](https://stackoverflow.com/questions/12242111/application-skeleton-to-support-multiple-screen)并进行相同计算。

平板电脑 平板电脑分为两种尺寸。

> 7" (1024X(600-48(导航栏))) = 1024 X 552 (drawable-large)
> 10" (1280X(800-48(navigation bar))) = 1280 X 752 (drawable-xlarge)

对于 2560x1600，使用公式计算 SW dp

> px= 设备宽度
> dpi= 设备密度

给出的公式

```
px = dp * (dpi / 160) 
```

如果您有 px 的值，则交换公式

```
dp = px / (dpi / 160) 
```

所以 drawable-swxxxdp 将完成这项工作

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T04:52:17.450

AFAIK 设备显示有两种变量：像素密度和屏幕尺寸。两者在理论上都是独立的，尽管在市场上两者都从*低端*设备到*高端*设备有所不同。

不同位图分辨率和细节级别的像素密度要求（例如 36X36 到 96X96 图标）。

屏幕尺寸需要更好地利用房地产（例如手机的多活动布局，平板电脑的组合碎片布局）。不像像素密度那么重要，但拥有它很好，因为平板电脑用户可能会发现手机布局过于平淡，而且浪费了屏幕空间。

所以：

*   要覆盖大多数像素密度，您必须拥有不同 [版本的可绘制对象](http://developer.android.com/training/multiscreen/screendensities.html)：`ldpi,mdpi,hdpi and xhdpi`。更喜欢九个补丁的drawable，这些在任何地方都适合。

*   要覆盖大多数屏幕尺寸，您必须有不同的[布局安排](http://developer.android.com/training/multiscreen/adaptui.html)，以及值的[响应](http://en.wikipedia.org/wiki/Responsive_web_design) [式布局设计](http://developer.android.com/training/multiscreen/screensizes.html)。`small,large and xlarge`此外，有时可以使用不同的纵向和横向布局。

*   Android 也允许您混合配置组合。例如`drawable-large-hdpi`等。

*   不惜一切代价避免硬编码像素坐标和尺寸，使用密度或百分比。

*   拥有一个灵活的九个补丁绘图比为不同的屏幕尺寸拥有不同的绘图*更好。*

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-01T07:20:59.727

我们还可以将 xxhdpi 用于可绘制对象，例如 drawable-xxhdpi

xxhdpi（480dpi，Android 4.1 或更高版本）

或参考以下链接中的“Android 表格列”

[http://en.wikipedia.org/wiki/Smartphone](http://en.wikipedia.org/wiki/Smartphone)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-14T08:36:19.150

我开始使用的是：

*   一个布局文件夹（或第二个：layout-land）
*   一些带有dimens.xml（-hdpi、-large、-xlarge）的值文件夹，用于不同的大小、字体等。
*   drawables：-hdpi 与大多数图像，它们按比例缩小到所有手机；-large 用于 7 英寸平板电脑；-xlarge 用于 10 英寸平板电脑。或者只是-hdpi 和-large。

我可能会验证这种方法，即使用 -sw600dp 和 -sw720dp 但现在它可以工作。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-10-18T04:40:12.283

您好，我认为 android 可绘制分辨率是-

10" - 1280 X 800

7" - 1024 X 600

xhdpi - 960 x 720

高清画质 - 800 X 480

mdpi - 480 X 320

# jquery - jquery datepicker 在当前日期或选定日期

> ID：14151124
> 
> 赞同：0
> 
> 时间：2013-01-04T04:33:43.917
> 
> 标签：jquery, jquery-ui

我有一个 jquery datepicker，如果没有选择今天的日期，我想实现它。如果选中，则使用单个日期选择器选择日期。

```
var autodate=$('#datepicker').datepicker({ dateFormat: "yy-mm-dd" }).val();

                var choosendate='';

                $( "#datepicker" ).datepicker({            
                    dateFormat:'yy-mm-dd',
                    onSelect:function(){                            
                        choosendate=$('#datepicker').datepicker('getDate');
                        autodate=$.datepicker.formatDate('dd-mm-yy', choosendate);
                        //alert($.datepicker.formatDate('dd-mm-yy', choosendate));
                        //alert(autodate);
                    }
                }); 
```

这里发生的是，在我当前的代码中没有调用 onSelect 函数。如果没有选择，我应该如何实现它以获得今天的日期。如果选择，则选择日期。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-03-05T06:24:52.857

**HTML**

`<input id="from" /> <input id="to" />`

**js**

```
var date= new Date();
$("#from").datepicker();
$("#to").datepicker();

$("#from").val($.datepicker.formatDate("mm/dd/yy",date));
$("#to").val($.datepicker.formatDate("mm/dd/yy",date)); 
```

[试试这个演示](http://jsfiddle.net/tvshajeer/ak6af74p/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T04:50:56.723

我想你在这里问的是[defaultDate()](http://api.jqueryui.com/datepicker/#option-defaultDate)

```
 $( "#datepicker" ).datepicker({            
                dateFormat:'yy-mm-dd',
                defaultDate: Date.now();
            }); 
```

# jquery - Ajax/XML Parsing - 当孩子具有相同的属性时，如何仅获取父属性？

> ID：14151126
> 
> 赞同：0
> 
> 时间：2013-01-04T04:33:58.377
> 
> 标签：jquery, xml, ajax, parsing

```
<parent>
  <name></name>
  <color></color>
    <child>
      <name></name>
    </child>
</parent> 
```

我怎样才能只得到父母的名字而不是孩子的名字？

到目前为止，我有这个，但它返回两个名称属性。

```
function parseXml(xml)
{
  $(xml).find("parent").each(function()
  {
    $("#id").append($(this).find("name").text()+ "<br />");
  });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T04:35:39.547

使用[children()](http://api.jquery.com/children/)而不是 find()

```
function parseXml(xml)
{
  $(xml).find("parent").each(function()
    {
         $("#id").append($(this).children("name").text()+ "<br />");
    });
 } 
```

**更新**

这将删除子文本并仅返回父文本

```
$(xml).find("parent").each(function()
{
     alert($(this).clone().find("child").remove().end().text()+ "<br />");
});​ 
```

[**工作演示**](http://jsfiddle.net/W3D3f/)

# javascript - 实时 javascript 到服务器连接

> ID：14151129
> 
> 赞同：1
> 
> 时间：2013-01-04T04:34:09.530
> 
> 标签：javascript

我知道您可以使用 AJAX 调用 php/mysql，这是一种带有 javascript 的服务器端语言。但是，它的速度还不够快，无法在实时应用程序中使用。

当我说实时时，我的意思是服务器响应所需的时间应该低于 100 毫秒。

有什么办法吗？AJAX 调用有点太慢了。

图书馆还可以，如果有其他语言的解决方案，请告诉我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T04:37:10.673

我建议使用[Node.js研究](http://nodejs.org/)[Socket.IO](http://socket.io/)。它将在可用的情况下使用 Websockets，并在需要时很好地回退到其他传输。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T12:50:58.617

如果您考虑 .NET，我会查看 XSockets [http://xsockets.net](http://xsockets.net) - 自 2009 年以来一直使用 websockets 的成熟框架。

问候乌夫

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T04:40:52.837

在 ASP.NET 中有我测试过的 SignalR，我发现它很棒。使用 SignalR，您可以为实时目的创建应用程序。您的客户端可以是 javascript、Web 应用程序、桌面应用程序，甚至是控制台应用程序。

有关更多信息，请参阅[https://github.com/SignalR/SignalR](https://github.com/SignalR/SignalR)

# google-maps - Fusion Table 图层未显示在我的谷歌地图中？

> ID：14151131
> 
> 赞同：0
> 
> 时间：2013-01-04T04:34:36.033
> 
> 标签：google-maps, google-maps-api-3, google-fusion-tables

这是我第一次使用 Fusion Tables 制作地图，我希望在这张地图中显示两个图层，一个带有标记，另一个带有多边形，

我正在使用教程[https://developers.google.com/maps/documentation/javascript/layers#FusionTables](https://developers.google.com/maps/documentation/javascript/layers#FusionTables)中显示的样式进行尝试，但是

我不知道我做错了什么没有出现？

[http://www.missromi.com/maps/miami-test.html](http://www.missromi.com/maps/miami-test.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:08:14.640

当您设置他的地图属性时，地图上将显示一个图层。

`layer`您在第 55 行设置了 map-property ：

```
layer.setMap(map); 
```

...但是没有对象`layer`，对象是`layer1`和`layer2`。

您必须致电：

```
layer1.setMap(map);
layer2.setMap(map); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T19:41:04.807

我建议使用 Fusion Tables Layer 向导生成将两个地图分层的代码，然后从那里进行修改：

[http://fusion-tables-api-samples.googlecode.com/svn/trunk/FusionTablesLayerWizard/src/index.html](http://fusion-tables-api-samples.googlecode.com/svn/trunk/FusionTablesLayerWizard/src/index.html)

-丽贝卡

# objective-c - 在编辑模式下使用 UISearchBar 和 UITableView 时，搜索结果不在编辑模式下

> ID：14151133
> 
> 赞同：4
> 
> 时间：2013-01-04T04:34:47.773
> 
> 标签：objective-c, ios, xcode, uitableview, uisearchbar

我有一个实现 UISearchBarDelegate 和 UISearchDisplayDelegate 的表视图控制器。我有一个按钮来切换我的表格视图的编辑视图。在编辑模式下，用户可以选择许多行并复制、删除它们等。如果我尝试在搜索栏中输入内容，而表格视图处于编辑模式，shouldReloadTableForSearchString 方法将触发，然后我重新-使用更新的谓词从核心数据中获取我的数据，并从函数返回 YES，指示应该重新加载表视图。当过滤结果出现时，它们不处于编辑模式，即使在 cellForRowAtIndexPath 我可以看到 tableView isEditing 是 YES。我看不到多项选择的圆圈。我需要能够让用户过滤他们的列表以显着限制结果，

为什么结果没有在编辑模式下显示？

编辑模式，不使用搜索栏：

![编辑模式，不使用搜索栏](../Images/425e71e17267e8fa376b95e7908817a2.png)

在编辑模式下搜索会产生不处于编辑模式且未设置样式的结果：

![在编辑模式下搜索会产生未处于编辑模式且未设置样式的结果](../Images/c436841488fd93bf3029bdf933acce9d.png)

提前致谢， 亚历克斯

这是 shouldReloadTableForSearchString 方法：

```
 - (BOOL)searchDisplayController:(UISearchDisplayController *)controller shouldReloadTableForSearchString:(NSString *)searchString {
NSPredicate *predicate = nil;
if ([searchString length])
{
    NSArray* filteredTags = nil;
    if ([searchString length] < 3)
    {
        // Check for tags starting with 1 or 2 characters.
        filteredTags = [[tagResultsController fetchedObjects] filteredArrayUsingPredicate:[NSPredicate predicateWithBlock:^BOOL(TagEntity* te, NSDictionary *bindings)
        {
            if ([[[te.name lowercaseString] substringToIndex:[searchString length]] isEqualToString:[searchString lowercaseString]])
                return YES;

            return NO;
        }]];

    }
    else
    {
        // Check for tags with 3 or more consecutive characters anywhere in name
        filteredTags = [[tagResultsController fetchedObjects] filteredArrayUsingPredicate:[NSPredicate predicateWithBlock:^BOOL(TagEntity* te, NSDictionary *bindings)
        {
           if ([[te.name lowercaseString] rangeOfString:[searchString lowercaseString]].location != NSNotFound)
               return YES;

           return NO;
        }]];
    }

    //  OR ANY(self.tags) in %@
    predicate = [NSPredicate predicateWithFormat:
        @"ANY(self.songlists) in %@ AND (name contains[cd] %@ OR artist_name contains[cd] %@ OR number = %@ OR ANY(tag_entities) in %@)",
        currentSonglist.songs, searchString, searchString, searchString,filteredTags];

    [self.fetchedResultsController.fetchRequest setPredicate:predicate];

    NSError *error = nil;
    if (![[self fetchedResultsController] performFetch:&error]) {
        NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
        abort();
    }
    // Return YES to cause the search result table view to be reloaded.

}

return YES; 
```

}

这是 .h 文件中我的核心数据表视图的标题：

```
 @interface SonglistTVC : CoreDataTableViewController
<UISearchBarDelegate, 
UISearchDisplayDelegate,
UIPickerViewDataSource,
UIPickerViewDelegate,
UIActionSheetDelegate,
AddSongTVCDelegate,
ListSelectorDelegate> 
```

我知道它正在使用我的表视图控制器，因为 cellForRowAtIndexPath 和 didSelectRowAtIndexPath 都在触发。我可以在里面进行调试，并且在表格视图中将 isEditing 设置为 YES。但是表格视图并没有反映它正确的编辑模式样式。

这是 cellForRowAtIndexPath 在搜索框中输入字母后立即触发。

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
NSString *identifier = @"SongCell";
UITableViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:identifier];

Song* song = [self.fetchedResultsController objectAtIndexPath:indexPath];     

UILabel* artistLabel    = (UILabel*)[cell viewWithTag:ARTIST_NAME_TAG];
UILabel* songLabel      = (UILabel*)[cell viewWithTag:SONG_NAME_TAG];
UILabel* keyLabel       = (UILabel*)[cell viewWithTag:KEY_TAG];
UILabel* numberLabel    = (UILabel*)[cell viewWithTag:NUMBER_TAG];

//artistLabel.font = [UIFont systemFontOfSize:17];
[artistLabel setText:   song.artist_name];
[songLabel setText:     song.name];
//[songLabel setFont:[UIFont systemFontOfSize:16]];
[keyLabel setText:      song.key];
[numberLabel setText:   [NSString stringWithFormat:@"%@", song.number]];

UIView *backView = [[UIView alloc] initWithFrame:CGRectMake(0,0,320,61)];
UIView *selectedBackView = [[UIView alloc] initWithFrame:CGRectMake(0,0,320,61)];

CAGradientLayer *backGradient = [[CAGradientLayer alloc] init];
backGradient.frame = cell.layer.bounds;

CAGradientLayer *selectedGradient = [[CAGradientLayer alloc] init];
selectedGradient.frame = cell.layer.bounds;

if (song.status == [NSNumber numberWithUnsignedInt: 1])
{
    [backGradient setColors:[NSArray arrayWithObjects:
                           (id)[[UIColor colorWithRed:240.0f/255.0f green:200.0f/255.0f blue:200.0f/255.0f alpha:1.0f] CGColor],
                           (id)[[UIColor colorWithRed:1 green:1 blue:1 alpha:1.0f] CGColor],
                           nil]];
}
else if (song.status == [NSNumber numberWithUnsignedInt: 2])
{
    [backGradient setColors:[NSArray arrayWithObjects:
                         (id)[[UIColor colorWithRed:240.0f/255.0f green:240.0f/255.0f blue:200.0f/255.0f alpha:1.0f] CGColor],
                         (id)[[UIColor colorWithRed:1 green:1 blue:1 alpha:1.0f] CGColor],
                         nil]];
}
else if (song.status == [NSNumber numberWithUnsignedInt: 3])
{
    [backGradient setColors:[NSArray arrayWithObjects:
                         (id)[[UIColor colorWithRed:200.0f/255.0f green:240.0f/255.0f blue:200.0f/255.0f alpha:1.0f] CGColor],
                         (id)[[UIColor colorWithRed:1 green:1 blue:1 alpha:1.0f] CGColor],
                         nil]];
}
[selectedGradient setColors:[NSArray arrayWithObjects:
                     (id)[[UIColor colorWithRed:255.0f/255.0f green:160.0f/255.0f blue:60.0f/255.0f alpha:1.0f] CGColor],
                     (id)[[UIColor colorWithRed:1 green:1 blue:1 alpha:0.7f] CGColor],
                     nil]];

if (![self.tableView isEditing] )
{
    cell.backgroundView = backView;
    [cell.backgroundView.layer insertSublayer:backGradient atIndex:1];

    cell.selectedBackgroundView = selectedBackView;
    [cell.selectedBackgroundView.layer insertSublayer:selectedGradient atIndex:1];
}
else
{
    //cell.backgroundView = backView;
    //[cell.backgroundView.layer insertSublayer:backGradient atIndex:1];
    cell.selectedBackgroundView = backView;
    [cell.selectedBackgroundView.layer insertSublayer:backGradient atIndex:1];
}

for (NSIndexPath* ip in selectedIndexes)
{
    [self.tableView selectRowAtIndexPath:ip animated:YES scrollPosition:UITableViewScrollPositionNone];
}

[sortOrderPicker reloadAllComponents];
[self sendPickerDownAnimated:NO];

return cell; 
```

}

我使用分段控件内的按钮来打开/关闭编辑：

```
 - (IBAction)segmentChanged:(id)sender{
UISegmentedControl* sg = (UISegmentedControl*)sender;
if (sg.selectedSegmentIndex == 0)
{
    // Edit
    if (![self.tableView isEditing])
    {
        [self.tableView setEditing:YES animated:YES];
        [self.navigationController setToolbarHidden:NO animated:YES];
    }
    else
    {
        [self.tableView setEditing:NO animated:YES];
        [self.navigationController setToolbarHidden:YES animated:YES];
        selectedIndexes = nil;
    }
    [self.tableView reloadData];
}
else
{
    // Sort
    if (pickerShown)
        [self sendPickerDownAnimated:YES];
    else
        [self bringPickerUpAnimated:YES];
} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T18:01:00.217

问题在于 UISearchDisplayController 自动为您做了很多事情。它创建自己的表视图来显示搜索结果，并管理该表视图。您可以将自己设置为该表格视图的数据源和委托，默认情况下会自动为您完成，但它不是您的表格视图，您无法控制它。如果您想要更大的手来指定这是什么表视图，您需要设置搜索显示控制器的`searchResultsTableView`; 或者您可以在事情进行时获得对它的引用（例如，通过 UISearchDisplayController 自己的委托方法）。但即便如此，你也不会是管理结果表视图的 UITableViewController；这完全是 UISearchDisplayController 内部的。如果您不喜欢这样，一个简单的解决方案是：不要使用 UISearchDisplayController - 考虑另一个界面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-15T19:07:08.060

就像**马特**说的那样，在搜索模式下，UISearchDisplayController 有自己的 UITableView，所以要在编辑模式下在 UITableView 中保持相同的设计，你需要将你在 self.tableView 中设置的相同设计参数传递给它。

```
-(void)searchDisplayController:(UISearchDisplayController *)controller didLoadSearchResultsTableView:(UITableView *)tableView
{
    tableView.backgroundColor = self.tableView.backgroundColor;
    tableView.separatorColor = [UIColor redColor];
    tableView.separatorInset = UIEdgeInsetsMake(0, 0, 0, 0);
} 
```

# magento - 获取 Magento 过去 24 小时内的订单商品

> ID：14151134
> 
> 赞同：10
> 
> 时间：2013-01-04T04:34:58.843
> 
> 标签：magento

我正在尝试获取过去 24 小时内的所有订单商品。我已经锁定了查询，所以它给了我我需要的东西（一个 order_id 和 created_on 值）。

```
$order_items = Mage::getResourceModel('sales/order_item_collection')
    ->addAttributeToSelect('order_id')
    ->addAttributeToSelect('created_at')
    ->addFieldToFilter('sku', $membership_sku)
    ->toArray(); 
```

我已经搜索过了，看起来我需要添加另一个 ->addFieldToFilter() 属性，但我不太确定它应该如何构建。任何例子都会非常有帮助。

如果有帮助，我正在使用 Magento Enterprise v1.12.0.2

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-04T10:11:36.510

我认为你需要重新安排你的时间才能获得好的结果：

```
$time = time();
$to = date('Y-m-d H:i:s', $time);
$lastTime = $time - 86400; // 60*60*24
$from = date('Y-m-d H:i:s', $lastTime);
$order_items = Mage::getResourceModel('sales/order_item_collection')
    ->addAttributeToSelect('order_id')
    ->addAttributeToSelect('created_at')
    ->addAttributeToFilter('created_at', array('from' => $from, 'to' => $to))
    ->load(); 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-01-04T05:07:10.727

经过一些额外的研究，我在[这里找到](http://www.magentocommerce.com/wiki/1_-_installation_and_configuration/using_collections_in_magento)了文档。我决定使用 strtotime 因为它更容易，但是如果其他人有更好的解决方案，请告诉我。

```
->addFieldToFilter('created_at', array(
    'from'     => strtotime('-1 day', time()),
    'to'       => time(),
    'datetime' => true
)) 
```

# visual-studio-2010 - 附加到正在运行的进程时，为什么不加载符号？

> ID：14151136
> 
> 赞同：1
> 
> 时间：2013-01-04T04:35:32.963
> 
> 标签：visual-studio-2010, remote-debugging, visual-studio-debugging

我一直在尝试附加到远程机器上的进程来调试问题。我能够连接，但 VS 调试器警告说：

> 以下模块是在启用优化或没有调试信息的情况下构建的

现在我检查了 PDB 文件与我尝试调试的程序集位于同一位置。我已经设置了发布配置以输出调试符号并进行了重建以确保一切都是最新的。所以我坚持这一点，为什么调试器无法找到 PDB 文件？

为了排除远程调试器问题，我尝试附加到我的开发人员正在运行的进程。机器并收到相同的确切错误。我检查了，PDB 文件都在那里。谁能想到我可以检查的其他任何东西？

# c# - 仅搜索目录中的特定文件夹

> ID：14151137
> 
> 赞同：1
> 
> 时间：2013-01-04T04:35:36.020
> 
> 标签：c#

我需要搜索目录中的特定文件夹。

我不想去找文件，不需要搜索文件。

我可以搜索目录中的特定文件夹，但我必须去寻找文件的循环，比如

```
foreach (FileInfo f in dir.EnumerateFiles())
{
      //code
}
foreach (DirectoryInfo d in dir.EnumerateDirectories())
{
   Call function recursively
} 
```

我只需要搜索特定文件夹。因为我有很多文件，大约 20,000 ，所以如果我使用上面的代码，那么循环将遍历所有文件，并且需要更多时间。

但我只需要一些文件夹，比如

```
Regex.IsMatch(dir.FullName, @"1293.*T.*")) 
```

我怎么能做到这一点而不进入文件循环。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T04:45:06.387

如果重载提供的搜索模式`Directory.GetDirectory`不足以满足您的需求，您可以使用自定义方法。

```
static string SearchDirectory(string path, string pattern)
{
    var regex = new Regex(pattern);
    foreach (var d in Directory.GetDirectories(path))
    {
        var dirName = d.Substring(d.LastIndexOf('\\') + 1);
        if (regex.IsMatch(dirName)) return d;
        SearchDirectory(d, pattern);
    }
    return null;
    //Or throw an Exception
} 
```

您可能希望将`foreach`循环包围在一个`try/catch`块中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T04:40:07.167

您可以使用接受搜索模式的[System.IO.Directory.GetDirectories 重载。](http://msdn.microsoft.com/en-us/library/wz42302f.aspx)

例如：

```
string[] dirs = Directory.GetDirectories(@"c:\", "c*"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T04:46:21.250

您的问题非常令人困惑，但是您想获取与 Regex 模式匹配的目录吗？

```
foreach (DirectoryInfo d in dir.EnumerateDirectories().Where(d => Regex.IsMatch(dir.FullName, @"1293.*T.*")))
{

} 
```

# mysql - 将数据添加到 MySQL 数据库

> ID：14151144
> 
> 赞同：0
> 
> 时间：2013-01-04T04:35:56.603
> 
> 标签：mysql, sql, database, vb.net, visual-studio-2012

我是一名使用 VS2012 Ultimate Edition、Visual Basic.NET 的程序员，并且有一个关于向数据库添加记录的问题。

我看到有两种主要方法可以做到这一点：SQL 语句和 DDA。

这是一个链接，显示了将记录添加到数据库的两种方法：

[http://www.vistadb.net/tutorials/insertrows-vb.aspx](http://www.vistadb.net/tutorials/insertrows-vb.aspx)

我的问题是：这两种方法都可以用来向数据库添加记录吗？如果以一种方式添加数据，是否可以从另一种方式检索数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T04:40:17.453

是的，它们完全不同。因此，使用 Insert 语句将数据添加到 MySQL 服务器是可行的，并且使用 DDA 检索该信息绝对是可能的。

# windows - 是否可以命名一个名称超过 256 个字符的文件夹？

> ID：14151146
> 
> 赞同：0
> 
> 时间：2013-01-04T04:35:57.240
> 
> 标签：windows, vba, excel

我有一个小问题要处理，我需要创建一个文件夹层次结构，如 A/B/C/D，其中每个文件夹名称都是超过 256 个字符的文件夹。我知道 Windows 最多只允许 256 个字符，但我认为这里有人可以帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T04:44:12.963

我找到了这个答案，我想它回答了你的问题..

> 事实上，路径字符串的限制是 260 个字符。如今，底层操作系统可以支持更长的路径名，最多[32,767 个字符](http://msdn.microsoft.com/en-us/library/aa365247%28VS.85%29.aspx#maxpath)。为了用长名称命名路径，您需要使用神奇的 \?\ 前缀，并使用 API 的 Unicode 版本。
> 
> 但是，许多工具不支持这么长的名称。这种工具的一个典型例子是 Explorer，它不允许您创建名称超过 260 个字符的对象。因此，我强烈建议您避免创建如此长的名称 - 从长远来看，这样做会为您节省很多心痛。
> 
> [马克赎金](https://stackoverflow.com/users/5987/mark-ransom)

# visual-studio-2010 - 通过控制台应用程序实现 Windows 自动化

> ID：14151149
> 
> 赞同：0
> 
> 时间：2013-01-04T04:36:17.793
> 
> 标签：visual-studio-2010, winapi, console, automation, low-level-api

我是一名新手程序员，在创建控制台应用程序以自动化简单的数学应用程序时遇到了问题。

**控制台的要求是它必须使用低级 WinAPI 调用来自动化，它不能使用反射或任何其他 3rd 方库，包括 MS Visual Studio UI/测试自动化程序集。所有自动化都必须通过包装可执行应用程序并在运行时使用 user32.dll 中定义的 WinAPI 函数将其作为独立应用程序自动化来执行。**

*这让我想到了我的问题，这一切意味着什么？我不能在 Visual Studio 中构建控制台应用程序吗？有人可以解释低级 WinAPI 吗？包装应用程序并作为独立的自动化？这只是我从未做过的事情，而且这在当今发展世界的工作场所中是否有用？*

感谢任何建议和支持，而不是寻找代码答案，而只是解释如何、在哪里、什么和为什么？对于主要使用 Visual Studio 的初学者程序员，基本上用最简单的术语向我解释这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:32:01.870

您将需要使用 WinAPI 函数调用来自动化您的数学应用程序，而不是使用任何现成的工具（如 QTP 和其他测试自动化工具）。您可以使用任何语言（C++/C# 等）在 Visual Studio 中构建应用程序，但只能使用 WinApi 函数。因此，例如，如果数学应用程序显示一个窗口并接受用户输入，您的控制台应用程序将使用 WinApi 函数在相关字段中自动插入输入，然后单击确定或取消（或任何其他）按钮导航到下一个屏幕并为数学应用程序等待用户输入的所有后续区域。

# iphone - iPhone 耗电问题

> ID：14151152
> 
> 赞同：13
> 
> 时间：2013-01-04T04:36:53.750
> 
> 标签：iphone, ios, xcode, battery, batterylevel

我认为我的问题对其他人有用。我有电池耗尽的问题，想知道它在哪里。

我使用 xcode 仪器：输入配置文件 ![在此处输入图像描述](../Images/bceaf47c40036c1d08e39f96c80806bc.png) 然后能源诊断，但我在能源使用部分看不到任何东西。 ![在此处输入图像描述](../Images/1c7a3efea29a623b8bfe56f070de31a8.png)

如何在能源使用部分启用信息？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-01-07T12:22:41.303

能量分析有点棘手。你需要：

1.  通过设备的开发者设置启用能量记录
2.  断开设备与任何电源的连接（这当然意味着您无法在仪器中看到实时数据）
3.  通过设备开发者设置开始记录
4.  执行您想要分析的操作
5.  通过设备开发者设置停止记录
6.  将设备连接到 Mac，打开仪器并选择文件->从设备导入记录的数据

现在您将看到能源使用统计信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T17:25:29.223

您是否在 iPad 上启用了能源记录？

[https://developer.apple.com/library/ios/recipes/Instruments_help_articles/LoggingEnergyUsageinaniOSDevice/LoggingEnergyUsageinaniOSDevice.html](https://developer.apple.com/library/ios/recipes/Instruments_help_articles/LoggingEnergyUsageinaniOSDevice/LoggingEnergyUsageinaniOSDevice.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T16:34:21.183

您还可以尝试以编程方式记录功耗。

在 BatteryChart 项目中可以找到几种方法：[https ://github.com/nst/BatteryChart](https://github.com/nst/BatteryChart)

# android - 415 不支持的媒体类型错误

> ID：14151153
> 
> 赞同：0
> 
> 时间：2013-01-04T04:36:54.523
> 
> 标签：android, https

我正在使用 HTTPS POST 请求将照片上传到服务器。请求是多部分的，我正在使用此代码上传图片。

```
 public HttpResponse uploadPhoto(File imagePath) {

    try {

        HttpPost httppost = new HttpPost(
                "https://wbapi.cloudapp.net:443/api/Submission/UploadCompetitionEntry?folderName=photos");

        MultipartEntity multipartEntity = new MultipartEntity(
                HttpMultipartMode.BROWSER_COMPATIBLE);

        httppost.setHeader( "Content-Type", "multipart/form-data" );
        httppost.setHeader("Accept", "application/json");
        httppost.setHeader("Authorization", getAuth());
        multipartEntity.addPart("CompetitionID", new StringBody("84"));
        multipartEntity.addPart("UserId", new StringBody(""
                + LoginActivity.id_user));
        multipartEntity.addPart("Title", new StringBody(""
                + edit_title.getText().toString()));
        multipartEntity.addPart("Summary", new StringBody(""
                + edit_description.getText().toString()));
        multipartEntity.addPart("photos", new FileBody(imagePath,"image/jpeg"));
        multipartEntity.addPart("MediaType", new StringBody("Photo"));
        multipartEntity.addPart("Visibility", new StringBody("Public"));
        multipartEntity.addPart("DateCreated", new StringBody(
                "2013-01-04T10:07:46.9450000Z"));
        httppost.setEntity(multipartEntity);
        http = mHttpClient.execute(httppost);

    } catch (Exception e) {
        Log.v("Exception", "" + e.getMessage());
        e.printStackTrace();
    }
    return http;
} 
```

我的 HTTPClient 就是这个

```
mHttpClient = WinboutServerRequests.getHTTPClientObject(); 
```

这会处理带有 Helper 类的 HTTPS 证书内容。

当我执行请求时，我将 e.getMessage() 设为 null 并且在 StackTrace 中我得到了这个

我必须将这些实体发送到服务器

要求发送

## 要求

> curl -X POST "https://wbapi.cloudapp.net:443/api/Submission/UploadCompetitionEntry?folderName=photos" -F "Summary=我的描述" -F"CompetitionID=84" -F"Title=照片标题" -F "MediaType=Photo" -F"AuthorName=dog" -F"UserId=1251" -F"DateCreated=2013-01-04T10:07:46.9450000Z" -F"Visibility=Public" -F"photos=@ /Users/akshayhegde/Library/Application Support/iPhone Simulator/5.1/Applications/D8A03B97-B7CC-4655-8987-8A54AE3E5FFC/Documents/UserData/competitionEntry/photoEntryHeaderImage.jpg;type=application/octet-stream"

回答 ：

有这个授权必须添加到缺少的标题中。我添加了它，现在我没有收到 CientProtocolException。

添加实用程序函数以获取文件的 MIME 类型

```
public static String getMimeType(String url)
{
    String type = null;
    String extension = MimeTypeMap.getFileExtensionFromUrl(url);
    if (extension != null) {
        MimeTypeMap mime = MimeTypeMap.getSingleton();
        type = mime.getMimeTypeFromExtension(extension);
    }
    return type;
} 
```

但是我收到 415 Unsupported Media Type 错误，我们必须设置 ContentType 以上传图片吗？

**要发送的样品请求：**

内容处置：表单数据；名称=“比赛ID”

## 3

内容处置：表单数据；名称="用户ID"

## 1

内容处置：表单数据；名称="标题"

## 凯撒和希罗

内容处置：表单数据；名称=“摘要”

## 窗户

内容处置：表单数据；名称="媒体类型"

## 视频

内容处置：表单数据；名称="创建日期"

## 2012-06-07T02:17:57.09

内容处置：表单数据；名称="可见性"

## 公共/私人

内容处置：表单数据；名称="照片"; 文件名=IMG_9322.JPG

## 内容类型：应用程序/八位字节流

内容处置：表单数据；名称=“视频”；文件名=sample.avi

## 内容类型：应用程序/八位字节流

内容处置：表单数据；名称="音乐"; 文件名=sample.avi

## 内容类型：应用程序/八位字节流

内容处置：表单数据；名称="文字"; 文件名=sample.txt 内容类型：应用程序/八位字节流

# javascript - 切换 div = 加载内容，取消切换 div = 删除内容

> ID：14151159
> 
> 赞同：0
> 
> 时间：2013-01-04T04:37:45.973
> 
> 标签：javascript, jquery

在页面中有一个 div (#example_div)，当使用此代码单击它时，它会切换一个类：

```
$(document).ready(function() {
    $("#parent_div").on('click', '.current_style', function () {
    $(this).toggleClass("new_style");
    });
}); 
```

在 div #example_div 下方有一个名为`#load_content`.

我想找到一个解决方案，当访问者点击`#example_div`它时，它会像往常一样切换新样式，但同时我想`#load_content`从另一个页面加载一些内容。然后当 unggle 时`#example_div`，加载的内容被`#load_content`删除。

这可能吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:23:30.860

```
$(document).ready(function() {
 $("#parent_div").on('click', '.current_style', function () {
 $(this).toggleClass("new_style");
 if( $(this).hasClass("new_style")) {
    // load content eg: $("#load_content").html("xyz");
 }
 else{
     $("#load_content").html("");
 }
 });
}); 
```

# php - 为什么具有一个数组的多维数组与多个数组不同？

> ID：14151160
> 
> 赞同：0
> 
> 时间：2013-01-04T04:37:57.073
> 
> 标签：php, arrays, json, multidimensional-array

我不确定我的措辞是否正确，但基本上，我有两个数组（见下文）。第一个数组只有一个“段”数组，但是在执行 var_dump 时，它会显示它的子数组（或根本不显示）。

较大的数组有多个“段”数组，在 var_dump 中，您可以看到数组 (5)。

背景是我从我在 php 中解码的 json 字符串中获取这两个数组。

这是数组：Json：

```
{ "css": { "segment": { "type": "Body", "comments": "Launch Pad v4 theme.css", "rule": { "selector": "html", "declaration": [ { "property": "margin", "value": "0" }, { "property": "padding", "value": "0" }, { "property": "height", "value": "100%" }, { "property": "background", "value": "#fff url(body_bg.gif) repeat-x top" } ] } } } } 
```

大批：

```
 array(1) {
  ["css"]=>
  array(1) {
    ["segment"]=>
    array(3) {
      ["type"]=>
      string(4) "Body"
      ["comments"]=>
      string(23) " v4 theme.css"
      ["rule"]=>
      array(2) {
        ["selector"]=>
        string(4) "html"
        ["declaration"]=>
        array(4) {
          [0]=>
          array(2) {
            ["property"]=>
            string(6) "margin"
            ["value"]=>
            string(1) "0"
          }
          [1]=>
          array(2) {
            ["property"]=>
            string(7) "padding"
            ["value"]=>
            string(1) "0"
          }
          [2]=>
          array(2) {
            ["property"]=>
            string(6) "height"
            ["value"]=>
            string(4) "100%"
          }
          [3]=>
          array(2) {
            ["property"]=>
            string(10) "background"
            ["value"]=>
            string(34) "#fff url(body_bg.gif) repeat-x top"
          }
        }
      }
    }
  }
} 
```

杰森：

```
{ "css": { "segment": [ { "type": "Body", "comments": "Launch Pad v4 theme.css", "rule": [ { "selector": "html", "declaration": [ { "property": "margin", "value": "0" }, { "property": "padding", "value": "0" }, { "property": "height", "value": "100%" }, { "property": "background", "value": "#fff url(body_bg.gif) repeat-x top" } ] }, { "selector": "body", "declaration": [ { "property": "font", "value": "12px Arial, Helvetica, sans-serif" }, { "property": "line-height", "value": "1.35", "comments": "Specify default line height as a pure number value (no px/em)...adjusting the value as desired. This will allow the line-height to flex depending on what size the user specifies their text within the rich text editor" }, { "property": "color", "value": "#333" } ] } ] }, { "type": "Fonts/Typography", "comments": "Fonts/Typography" }, { "type": "Header" }, { "type": "Content" }, { "type": "Footer" } ] } } 
```

大批

```
array(1) {
      ["css"]=>
      array(1) {
        ["segment"]=>
        array(5) {
          [0]=>
          array(3) {
            ["type"]=>
            string(4) "Body"
            ["comments"]=>
            string(23) "theme.css"
            ["rule"]=>
            array(2) {
              [0]=>
              array(2) {
                ["selector"]=>
                string(4) "html"
                ["declaration"]=>
                array(4) {
                  [0]=>
                  array(2) {
                    ["property"]=>
                    string(6) "margin"
                    ["value"]=>
                    string(1) "0"
                  }
                  [1]=>
                  array(2) {
                    ["property"]=>
                    string(7) "padding"
                    ["value"]=>
                    string(1) "0"
                  }
                  [2]=>
                  array(2) {
                    ["property"]=>
                    string(6) "height"
                    ["value"]=>
                    string(4) "100%"
                  }
                  [3]=>
                  array(2) {
                    ["property"]=>
                    string(10) "background"
                    ["value"]=>
                    string(34) "#fff url(body_bg.gif) repeat-x top"
                  }
                }
              }
              [1]=>
              array(2) {
                ["selector"]=>
                string(4) "body"
                ["declaration"]=>
                array(3) {
                  [0]=>
                  array(2) {
                    ["property"]=>
                    string(4) "font"
                    ["value"]=>
                    string(33) "12px Arial, Helvetica, sans-serif"
                  }
                  [1]=>
                  array(3) {
                    ["property"]=>
                    string(11) "line-height"
                    ["value"]=>
                    string(4) "1.35"
                    ["comments"]=>
                    string(216) "Specify default line height as a pure number value (no px/em)...adjusting the value as desired. This will allow the line-height to flex depending on what size the user specifies their text within the rich text editor"
                  }
                  [2]=>
                  array(2) {
                    ["property"]=>
                    string(5) "color"
                    ["value"]=>
                    string(4) "#333"
                  }
                }
              }
            }
          }
          [1]=>
          array(2) {
            ["type"]=>
            string(16) "Fonts/Typography"
            ["comments"]=>
            string(16) "Fonts/Typography"
          }
          [2]=>
          array(1) {
            ["type"]=>
            string(6) "Header"
          }
          [3]=>
          array(1) {
            ["type"]=>
            string(7) "Content"
          }
          [4]=>
          array(1) {
            ["type"]=>
            string(6) "Footer"
          }
        }
      }
    } 
```

我的问题是，当“段”中只有 1 个数组时，如何强制数组，或者为什么会发生这种情况？

编辑：

我要问的是，为什么它在较小的数组中，只有一个“段”数组，我数了一下，显示为 3。它显示了“注释”、“类型”和数组“规则”都是“段”的孩子。现在在更大的数组中，有超过 1 个“segment”行，计数为 5，每个“segment”都有一个包含“comments”、“type”和数组“rules”的数组，而不是直接子代。

# python - 在 GQL (Google App Engine) 上获取 4 个不重复的最新结果

> ID：14151165
> 
> 赞同：2
> 
> 时间：2013-01-04T04:38:31.090
> 
> 标签：python, google-app-engine, google-cloud-datastore, gql

您好，我的 GAE 应用程序上有这个：

```
try:
    last = RegistroDescargas.gql("order by date DESC LIMIT 4")
except:
    last = None 
```

有了它，我可以获得定义如下的数据库（“RegistroDescagas”）的最后四行：

```
class RegistroDescargas(db.Model):
    '''Model para guardar el registro de vídeos descargados en la web'''
    date = db.DateTimeProperty(auto_now_add=True)
    urlOrig = db.StringProperty(required=True)
    urlImg = db.StringProperty(required=True)
    vidTit = db.StringProperty(required=True)
    vidDesc = db.TextProperty() 
```

但是，当然，如果一个或最后四个结果重复，只是显示我，我想要的是得到最后一个不重复的四行，我不知道我该怎么做......

有什么建议么？（我认为，如果最后这是可能的，可能会用一个完全不同的句子，但我不介意；））

非常感谢任何帮助..对不起我的英语..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T04:59:49.800

GQL 不支持 DISTINCT 查询。您可以做的就是将结果放入一个集合中，然后检查一个集合中有多少条目。如果少于四个，则查询其他记录。

这个答案更深入：[Python: DISTINCT on GQuery result set (GQL, GAE)](https://stackoverflow.com/questions/239258/python-distinct-on-gquery-result-set-gql-gae)

否则，需要预先计算这种不同的列表。GAE 遵循昂贵写入的原则，以实现超快速读取。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T07:42:13.560

DISTINCT 关键字是在[1.7.4 版中引入的。](http://googleappengine.blogspot.com/2012/12/app-engine-174-released.html).

[您可以在此处](https://developers.google.com/appengine/docs/python/datastore/gqlreference)找到更新的 GQL 参考（例如 Python）。

# ruby-on-rails - 用于嵌套路由的 rails 简单表单

> ID：14151166
> 
> 赞同：4
> 
> 时间：2013-01-04T04:38:45.813
> 
> 标签：ruby-on-rails, simple-form, nested-routes

我正在尝试为具有双重嵌套路由`simple_form_for`的 Rails 3.2构建一个，例如：`@objects`

```
/users/1/projects/2/objects 
```

表格是：

```
<%= simple_form_for @object, :url => user_project_objects_path(@user, @project), :html => { :class => 'form-horizontal' } do |f| %> 
```

在 routes.rb 中：

```
resources :users do
  resources :projects do
    resources :objects do
      collection { post :import }
    end
  end
end 
```

我的问题是：控制器`new`的`create`作用是什么？`Object`

到目前为止 - 我收到路由错误 - 我有：

```
def create
  @user = current_user
  @project = Project.find_by_user_id(@user)
  @object = @project.objects.build(params[:object])
  if @object.save
    flash[:notice] = "Object was successfully created"
    redirect_to user_project_objects_path
  else
    render 'new'
  end
end

def new
  @user = current_user
  @project = Project.find_by_user_id(@user)
  @object = @project.objects.build
end 
```

非常感谢任何建议。

### 回应格雷格 W：

```
No route matches {:action=>"edit", :controller=>"objects", :user_id=>#<Object id: 8, source_lang_id: 1, source_content: "Kaffehaus", target_lang_id: 2, target_content: "cafe", domain_id: 2, owner_id: nil, created_at: "2013-01-04 06:36:55", updated_at: "2013-01-04 06:36:55", project_id: 2>} 
```

（`owner_id`用户，即 current_user）未更新 - 这可能是问题（？）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:46:02.460

在您可以使用的表格中

```
simple_form_for([@user, @project, object]) do 
```

您可以使用关系来获取数据，例如

```
@project= current_user.projects 
```

代替

```
@project = Project.find_by_user_id(@user) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T12:39:10.490

在此期间我解决了它。也许这可能是其他人在双重嵌套路由上工作的常用指南，例如用户 -> 项目 -> 对象（has_many，has_many）

在对象控制器中新建操作：

```
@user = current_user
@project = Project.find(params[:project_id])
@object = Object.new 
```

在对象控制器中创建操作：

```
 @user = current_user
 @project = Project.find(params[:project_id])
 @object = @project.objects.build(params[:object])
 @object.owner_id = @user.id  #owner id maps to User 
```

路由错误是由于未指定所有对象、用户、项目和对象

```
user_project_objects_path(@project) 
```

# xcode - 编译 Mac 应用程序时出现 Xcode (clang) 错误

> ID：14151168
> 
> 赞同：0
> 
> 时间：2013-01-04T04:39:16.547
> 
> 标签：xcode, macos, clang

我正在尝试编译 Mac 应用程序，但 Xcode 给了我这个错误：

```
ProcessPCH /Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/PrecompiledHeaders/myproj-Prefix-epkmwajobvayuietjwkbptfdivuu/myproj-Prefix.pch.pth myproj/myproj-Prefix.pch normal x86_64 objective-c com.apple.compilers.llvm.clang.1_0.compiler
    cd /Users/pedrofranceschi/Desktop/TUDO/myproj
    setenv LANG en_US.US-ASCII
    /usr/bin/gcc-4.2 -x objective-c-header -arch x86_64 -fmessage-length=0 -std=gnu99 -fobjc-arc -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wreturn-type -Wno-implicit-atomic-properties -Wno-receiver-is-weak -Wduplicate-method-match -Wformat -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wempty-body -Wuninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wshorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -DDEBUG=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk -fasm-blocks -Wprotocol -Wdeprecated-declarations -mmacosx-version-min=10.7 -g -Wno-sign-conversion "-DIBOutlet=__attribute__((iboutlet))" "-DIBOutletCollection(ClassName)=__attribute__((iboutletcollection(ClassName)))" "-DIBAction=void)__attribute__((ibaction)" -iquote /Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/myproj.build/Debug/myproj.build/myproj-generated-files.hmap -I/Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/myproj.build/Debug/myproj.build/myproj-own-target-headers.hmap -I/Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/myproj.build/Debug/myproj.build/myproj-all-target-headers.hmap -iquote /Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/myproj.build/Debug/myproj.build/myproj-project-headers.hmap -I/Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Products/Debug/include -I/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -I/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -I/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -I/Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/myproj.build/Debug/myproj.build/DerivedSources/x86_64 -I/Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/myproj.build/Debug/myproj.build/DerivedSources -F/Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Products/Debug --serialize-diagnostics /Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/PrecompiledHeaders/myproj-Prefix-epkmwajobvayuietjwkbptfdivuu/myproj-Prefix.pch.dia -c /Users/pedrofranceschi/Desktop/TUDO/myproj/myproj/myproj-Prefix.pch -o /Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/PrecompiledHeaders/myproj-Prefix-epkmwajobvayuietjwkbptfdivuu/myproj-Prefix.pch.pth -MMD -MT dependencies -MF /Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/PrecompiledHeaders/myproj-Prefix-epkmwajobvayuietjwkbptfdivuu/myproj-Prefix.pch.d

i686-apple-darwin11-gcc-4.2.1: /Users/pedrofranceschi/Library/Developer/Xcode/DerivedData/myproj-ezqihosacfpbfbdsrtmsgtbnvjmk/Build/Intermediates/PrecompiledHeaders/myproj-Prefix-epkmwajobvayuietjwkbptfdivuu/myproj-Prefix.pch.dia: No such file or directory
cc1obj: error: unrecognized command line option "-Wno-implicit-atomic-properties"
cc1obj: error: unrecognized command line option "-Wno-receiver-is-weak"
cc1obj: error: unrecognized command line option "-Wduplicate-method-match"
cc1obj: error: unrecognized command line option "-Wno-deprecated-implementations"
cc1obj: error: unrecognized command line option "-Wno-sign-conversion"
cc1obj: error: unrecognized command line option "-fobjc-arc"
cc1obj: error: unrecognized command line option "-fserialize-diagnostics"
cc1obj: warning: -Wuninitialized is not supported without -O
Command /usr/bin/gcc-4.2 failed with exit code 1 
```

有任何想法吗？

问候，

佩德罗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T10:01:28.753

1.  您遇到的错误是由于项目设置。这很可能是一个较旧的项目，建立在比您当前运行的旧版本的 OS X / SDK 上。逐一查看错误并搜索导致每个错误的原因。例如，

    ```
    cc1obj: error: unrecognized command line option "-Wno-implicit-atomic-properties" 
    ```

    与项目设置中启用的隐式原子 Objective-C 属性 LLVM 编译器警告有关。尝试删除此设置并检查您是否仍然收到错误，等等。

2.  还要检查您的命令行工具是否安装正确，因为这似乎是命令行工具问题。它们是单独下载的。转到 XCode / Preferences / Downloads / Components ，您应该在列表中有一个名为 Command Line tools 的项目，其状态应为“已安装”。如果没有，请下载并安装它。希望这可以帮助。

# clojure - 当我尝试修改此记录时，为什么会收到一条错误消息，指出它是一个惰性序列？

> ID：14151169
> 
> 赞同：0
> 
> 时间：2013-01-04T04:39:37.430
> 
> 标签：clojure, lazy-evaluation

这是我正在使用的代码，我在其中创建记录，然后尝试修改它们：

```
(defrecord Record [Name Age Index ClassIndex])

(defn read-csv [fname count]
  (with-open [file (io/reader fname)]
    (doall (map #(str/split % #",") ;; doesn't work with commas in text fields
             (take count (line-seq file))))))

(defn make-record [idxs types row]
  (apply ->Record
    (map (fn [idx t]
           (let [value (nth row idx)]
             (case t
               :string value
               :int (Integer/parseInt value)
               :long (Long/parseLong value))))
             idxs types)))

(def records
  (doall (map (partial make-record
                [0 1 2 3]
                [:string :int :long :int])
           (read-csv "C:/Users/user/Documents/URECA/hi/lib/test.csv" 1))))

(reset! records
  (map #(assoc % :ClassIndex
         (+ (:Age %) (:Index %)) :Age (+ 1 :Age %))
    @records)) 
```

当我运行这段代码时，我得到了这个异常：

```
ClassCastException clojure.lang.LazySeq cannot be cast to
clojure.lang.IDeref  clojure.core/deref (core.clj:2080) 
```

为什么我会收到此错误？

**更新以回应评论：**

我有一张记录地图，我想更新这些记录。该类`:Index`将由`:Age`+的值确定`:Index`。`:Age`但是，和的初始值`:Index`将从文件中读取。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T00:20:39.077

“[我可以在 Clojure 记录中创建可变状态吗？](https://stackoverflow.com/q/5554178/244494) ”这个问题与您的问题密切相关。关键点是

1.  记录通常是不可变的。
2.  [该`reset!`函数对原子进行操作](http://clojuredocs.org/clojure_core/clojure.core/reset!)。

你得到这个异常`reset!`是因为你发现你给了它一个它无法处理的参数，而且你给它的参数是不可变的。解决潜在问题的最佳方法是确定您是否需要记录或可变数据结构，并适当地更改数据的表示。如果您确实继续使用记录（即，这将是不可变的，并且您只需关心在记录上设置一次值），您可以将更改移动到函数中`:Index`并`:Age`移入`make-record`函数中。但是，您最好使用对不可变数据结构的引用并在更新时更改引用。

# linux - 我将如何解析手册页以快速找到有关程序选项（“-I”）的信息？

> ID：14151173
> 
> 赞同：1
> 
> 时间：2013-01-04T04:40:26.783
> 
> 标签：linux

我正在尝试构建 freeglut，我只想调试一个 bash 脚本选项，我需要找出具体的功能`-I`和`-L`gcc 编译器选项。我不应该阅读 10,000 行该死的文字。

我刚刚尝试了以下

```
man gcc | cat > gcc.txt
grep "-I" gcc.txt 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T04:42:43.567

在大多数 Linux 工具中，您可以使用它`--`来表示参数的结束：

```
man gcc | grep -- -I 
```

（和 -I 和 -L 分别是头文件（包含文件）和库搜索目录）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T04:43:45.123

从`less(1)`手册页：

> ```
>  /pattern
>           Search forward in the file for the N-th line containing the pat‐
>           tern.  N defaults to 1\.  The pattern is a regular expression, as
>           recognized by the regular expression library  supplied  by  your
>           system.   The search starts at the first line displayed (but see
>           the -a and -j options, which change this). 
> ```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T05:04:49.533

你可以试试：

```
$ man gcc | egrep -A 3 -- '-L|-l' 
```

在 ( ) 匹配后打印 3 行`-A 3`，猜测选项的描述适合。

# php - php简单的dom解析器如何从类中获取iframe

> ID：14151175
> 
> 赞同：0
> 
> 时间：2013-01-04T04:40:36.250
> 
> 标签：php, parsing, dom

我在从网站获取正确的 iframe 时遇到问题。

这是我尝试使用的代码。我遇到的问题是这会返回内容类中的所有内容。我只想返回位于类中的 iframe。任何帮助，将不胜感激。谢谢你。

```
<?php
include_once('../../simple_html_dom.php');
$opts = array(
'http'=>array(
'method'=>"GET",
'header'=>"User-Agent: User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.52 Safari/536.5\r\n"
)
);

$context = stream_context_create($opts);

$html = file_get_html('http://www.tvshow7.eu/breaking-bad-season-1-episode-1-pilot/', false, $context);

foreach($html->find('.content') as $iframe) {

echo $iframe->outertext, PHP_EOL;
}

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-06T12:23:23.780

好的，所以我想通了。

```
<?php
include_once('../../simple_html_dom.php');

$html = file_get_html('http://www.tvshow7.eu/breaking-bad-season-1-episode-1-pilot/');

// find <p> and store varible
foreach($html->find('p') as $p)

// find iframe from within varibale $p
foreach($p->find('iframe') as $iframe)

echo $iframe->outertext . '<p>';

 // clean up memory
    $html->clear();
    unset($html);

?> 
```

# codeigniter - 在 codeigniter 中使用电子邮件或用户名登录

> ID：14151178
> 
> 赞同：1
> 
> 时间：2013-01-04T04:40:45.473
> 
> 标签：codeigniter

我对以下代码有疑问。我希望用户使用他们的用户名或电子邮件登录。当我使用用户名时，它工作得很好，但是当我使用电子邮件时，即使密码错误，我也可以登录。

```
public function can_login(){

    $user_mail = $this->input->post('user_mail');

    $this->db->where('email =', $user_mail);
    $this->db->or_where('username =', $user_mail); 

    $this->db->where('password',md5($this->input->post('password')));
    $this->db->where('status =', 'registered');
    $query=$this->db->get('user');

    if($query->num_rows()== 1) {
        return true; 
    } else {
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T11:15:15.753

尝试这个

```
$this->db->where("email = '$user_mail' or username = '$user_mail'"); 
$this->db->where('password', md5($this->input->post('password')));
$this->db->where('status', 'registered');
$query=$this->db->get('user'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T02:55:25.000

谢谢你们，这是我的解决方案，效果很好。

```
public function can_login(){
$user_mail = $this->input->post('user_mail');
$password= MD5($this->input->post('password'));
$this->db->select('username,email,password');
$this->db->where("(email = '$user_mail' OR username = '$user_mail') AND password = '$password' AND status = 'registered'");

  $query=$this->db->get('user');`

     if($query->num_rows()== 1)
     {
        return true; 
     }else 
     {
      return false;
     }

    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:30:00.707

您可以像这样使用[CodeIgniter 查询绑定](http://www.codeigniter.com/user_guide/database/results.html#result-helper-methods)：

**改变：**

```
 $this->db->where('email =', $user_mail);
         $this->db->or_where('username =', $user_mail); 

 $this->db->where('password',md5($this->input->post('password')));
 $this->db->where('status =', 'registered');
 $query=$this->db->get('user'); 
```

**至：**

```
$sql = "SELECT * FROM user WHERE (email = ? OR username = ?) AND password = ? AND status = 'registered' LIMIT 1";
$query = $this->db->query($sql, array($user_mail, $user_mail, md5($this->input->post('password'))); 
```

# ios - 从网站中提取文本的更快方法？

> ID：14151179
> 
> 赞同：0
> 
> 时间：2013-01-04T04:40:50.113
> 
> 标签：ios, concurrency, xml-parsing, nsstring, nsscanner

我的应用程序解析一个在线 XML 文件。我正在尝试添加一项功能，该功能将从 xml 中的每个项目的 LINK 中扫描某些关键字，并将它们返回给 NSString。当它使用以下方法解析时，我将其设置为执行此操作：

```
 NSString *string = [NSString stringWithContentsOfURL:[NSURL URLWithString:articleUrl] encoding:NSUTF8StringEncoding error:nil];
            NSMutableArray *substrings = [NSMutableArray new];
            NSScanner *scanner = [NSScanner scannerWithString:string];
            [scanner scanUpToString:@"Thought:" intoString:nil]; 
            while(![scanner isAtEnd]) {
                NSString *substring = nil;
                [scanner scanString:@"Thought:" intoString:nil]; 
                if([scanner scanUpToString:@"</body>" intoString:&substring]) {

                    [substrings addObject:substring];
                }
                [scanner scanUpToString:@"Thought:" intoString:nil]; 
            }
            [substrings release]; 
```

问题是 XML 有很多项目，这需要时间，并且 TableView 单元格直到此任务完成后才会出现。有没有更快的方法可以工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T02:47:27.730

更快将是非常相对的。（文件大小、要搜索的内容数量、使用的算法等...）您可以尝试其他一些方法。NSXMLParser 是另一个。NSRegularExpression 是另一个。首先捕获所有链接然后解析它们可能更有效。但同样，这是一个非常笼统的说法。

要在解析时保持 UI 响应，请创建 NSOperation 的子类并在后台使用该操作。让 NSOperation 子类在完成时（或为添加到数据结构的每个项目）在主线程上发送通知。让您的应用程序委托（或任何合适的控制器）成为通知的观察者。您可以有一个单独的完成通知，并利用它来提供进度指示器停止。

这为您提供了响应式 UI、回调和挂钩来更新。

# iphone - 代码崩溃并出现以下错误

> ID：14151183
> 
> 赞同：1
> 
> 时间：2013-01-04T04:41:10.873
> 
> 标签：iphone, ios, cocoa-touch, ios5, ios4

我的应用程序正在使用苹果连接库。我在 8 小时前启动了我的应用程序，然后当我从后台切换到前台应用程序时，它再次挂起并显示以下错误：

ACM 错误：已显示登录对话框：failedRefreshingACMTokenWithError：已显示登录对话框

# android - Android中的ItemizedOverlay类

> ID：14151190
> 
> 赞同：0
> 
> 时间：2013-01-04T04:42:41.700
> 
> 标签：android

我正在浏览一个使用 ItemizedOverlay 的示例。draw 方法被覆盖如下：

```
public void draw(Canvas canvas, MapView mapView, boolean shadow) {
    shadow = false;
    super.draw(canvas, mapView, shadow);
} 
```

在示例中，正在调用 populate()，而后者又调用 size() 和 createItem(int i)。

但是我的问题是，上面提到的draw方法是谁调用的，又是怎么调用的呢？特别是，调用者如何知道将哪个 MapView 对象作为参数传递？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:14:11.273

> 上面提到的draw方法是谁调用的，怎么调用的？

`invalidate()`方法强制视图绘制，这是在 View 类中实现的，每当您需要绘制视图时，您或系统都会调用 invalidate。

当您创建一个扩展覆盖的私有内部类时，覆盖了`draw method`几个参数。

*   第一个参数是 Canvas 实例的句柄，我们将使用它来绘制标记。

*   第二个是显示此叠加层的 MapView 实例。

*   第三个参数是一个布尔值，指示我们绘制的是实际图像还是阴影。

事实上，这个方法被调用了两次。一次绘制阴影，一次绘制您想要绘制的实际事物。

以下是对您有帮助的几个链接

[Android 如何绘制视图](http://developer.android.com/guide/topics/ui/how-android-draws.html)

[在 MapView 上绘制多个位置标记](http://androidcookbook.com/Recipe.seam;jsessionid=509EB1AD88ECB395598B6F1F5DC8361D?recipeId=2308)

[类叠加](https://developers.google.com/maps/documentation/android/v1/reference/com/google/android/maps/Overlay)

# css - 样式不适用于热邮件电子邮件模板

> ID：14151192
> 
> 赞同：0
> 
> 时间：2013-01-04T04:42:51.473
> 
> 标签：css, html, hotmail, email-templates

我的电子邮件模板中有一个表格。我应用样式来右对齐 td 中的文本。但是当我使用 hotmail 检查它们时，样式标签看起来是空的。我`align="right"`在 td. 但什么也没有发生。

html:

```
<table width="100%" border="0" cellpadding="0">
  <tr>
    <td style="text-align:right" >Test Content</td>
  </tr>
</table> 
```

如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T19:31:43.273

If I am not mistaken I believe most email services will strip out inline styles. Most likely you will have to do all of the styling with HTML and tables.

**Try this and see what happens:**

```
<table width="100%" border="0" cellpadding="0" align="right">
  <tr>
    <td>Test Content</td>
  </tr>
</table> 
```

All email services handle code differently so I would first look around google and see what kind of information you can find in regards to inline styles and Hotmail. Below are a couple links I found.

[http://www.startupcto.com/marketing-tech/html-email/tips-and-tricks](http://www.startupcto.com/marketing-tech/html-email/tips-and-tricks) [http://www.webknowhow.net/dir/HTML/CSS/0607CSSSupportineMail.html](http://www.webknowhow.net/dir/HTML/CSS/0607CSSSupportineMail.html)

# macos - NSCell 标题在请求之前不会更新

> ID：14151194
> 
> 赞同：0
> 
> 时间：2013-01-04T04:43:22.227
> 
> 标签：macos, cocoa, nstextfield, nscell

我正在尝试实现一个自定义的“NSTextField”，它会在用户插入文本时自动调整自身大小。

这是一个足够简单的任务，这是我正在使用的代码：

```
- (void)textDidChange:(NSNotification *)aNotification
{
    [super textDidChange:aNotification];    
    [self invalidateIntrinsicContentSize];
}

- (NSSize)intrinsicContentSize
{
    if ( ![self.cell wraps] ) {
        return [super intrinsicContentSize];
    }
    NSRect frame = [self frame];
    CGFloat width = frame.size.width;
    frame.size.height = CGFLOAT_MAX;
    NSString *cellTitle = ((NSCell *)self.cell).title;
    CGFloat height = [self.cell cellSizeForBounds: frame].height;
    return NSMakeSize(width, height);
} 
```

哪个工作。好奇的是，如果我评论调用`NSTextField`'s 单元格标题的行

```
NSString *cellTitle = ((NSCell *)self.cell).title; 
```

它停止工作。似乎该单元格在请求之前不会更新其标题。当然，如果单元格的标题没有改变，那么当用户输入文本时，文本字段就不能自行调整大小。

这种行为是功能还是错误？

正如我所说，上面的代码完成了这项工作，所以这更像是一种好奇心。唯一的烦恼是该行会产生警告，我想知道是否有更好的方法来做到这一点。

**编辑：**没关系，我发现如果我将行更改为`[(NSCell *)self.cell title];`编译器停止抱怨。尽管如此，对功能或错误的好奇心仍然存在。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:00:01.627

“返回接收视图的自然大小，仅考虑视图本身的属性。

*   (NSSize)内在内容大小

返回值 一个大小，指示接收视图基于其固有属性的自然大小。

讨论 自定义视图通常会显示布局系统不知道的内容。覆盖此方法允许自定义视图根据其内容与布局系统通信它想要的大小。这个**固有尺寸必须独立于内容框架**，因为没有办法根据改变的高度动态地将改变的宽度传达给布局系统”

所以当你打字的时候，你应该自己设置框架，如果你得到你输入的字符串的长度和字体，你可以得到字符串的高度也可以得到TextField的高度。但是有些字符你应该小心，比如'\n'。

# c# - 正则表达式匹配文本，但 c# 找不到匹配项

> ID：14151199
> 
> 赞同：0
> 
> 时间：2013-01-04T04:43:59.063
> 
> 标签：c#, regex, pattern-matching, match

我正在尝试将正则表达式与我从 PDF 创建的文本文件中的日期匹配。当我在 Regexhero 中构建它时，Regex 匹配，但在调试时我发现 c# 根本找不到匹配项。

关于为什么会发生这种情况的任何想法？

如果有帮助，我可以提供一些代码，但是我所有的其他正则表达式都匹配，并且代码非常健壮，涉及许多不同的类、公共变量和函数。这需要一些时间才能变得可读。

（在 c# 控制台应用程序中使用 vs 2012 pro）（Regex 与 regexhero 确认）

**正则表达式：**
*?((一月|二月|三月|四月|五月|六月|七月|八月|九月|十月|十一月|十二月) *\d{1,2}, *\d{4})\n.* ?\n. *?乔治亚电力公司

**文本文件片段：**

```
 Dec 26, 2012

GEORGIA POWER COMPANY
BIN #19999
21141 Ralph McGuiver Blvd.
Atlanta, GA 30308-3374

                         GI LANDING LLC
                         Customer***
                         PO BOX 1234
                         LOGAN UT 84323

                                                                                                                              Please Pay By                                Jan 10, 2013
                                                           Customer Name                                   Account Number     Total Due                                              $ 61.91
                                                           IV LANDING LLC                      19380-29341

             Service Address                                                                                 Service Period   Contact Us 24 hours a day, 7 days a week
             900 GI LANDING DR                                                        Nov 26, 2012 - Dec 25, 2012
             HSE A                                                                                                                      georgiapower.com
                                                                                                                                           Account Number             Web Access Code
             Billing Summary
                                                                                                                                           135130-530141              845089
             Previous Bill Amount                                                                                  $ 63.34                 Customer Service           Power Outage Reporting
             Payment Received On 12/06/12                                 Thank You! 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:02:22.797

您的模式中有一些错误。首先，第一个字符“*”之前没有应用于任何字符，并导致正则表达式抛出异常。此外，该`\n.?\n. *?`段假定唯一的行分隔符是`\n`，而在我们的例子中也有`\r`字符。

您的正确模式应该大约是：

```
\s*?((Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{1,2},\s\d{4})[\r\n]*GEORGIA POWER COMPANY 
```

但是，您可以对其进行调整以使其更具限制性。

如何使用它的示例：

```
var regex = new Regex(@"\s*?((Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{1,2},\s\d{4})[\r\n]*GEORGIA POWER COMPANY");
var input = @"your input here";
var match = regex.Match(input);
if (match.Success) { /*Operate*/ } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:05:44.207

您使用的正则表达式不正确。我用Expresso检查了它。

以下正则表达式将匹配您需要的日期。可以从组**DATE**中提取日期。

```
(?<DATE>(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)?\s+\d{1,2},\s+\d{4})\s+GEORGIA POWER COMPANY 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T18:32:18.073

我找到了一个有效的。您的所有回复都在 Expresso 和 regexhero 中有效，但是，我的特定控制台应用程序出于某种原因只喜欢这个。感谢您的回复。

正确的正则表达式："\s*((Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{1,2},\s\d{4} )\s*G"

# javascript - Javascript html从外部文件调用外部对象

> ID：14151203
> 
> 赞同：1
> 
> 时间：2013-01-04T04:44:54.657
> 
> 标签：javascript, html, scope

这有效...

.html 文件...

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="src/myJS.js"></script>
</head>
<body onload="myJS();">
</body>
</html> 
```

外部 javascript 文件的内容（为方便起见称为 myJS.js）...

```
myJS = function ()
{
    document.write("Hello world");
}; 
```

但是，这不起作用......

.html 文件...

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="src/myJS.js"></script>
</head>
<body onload="myJS.myFunction();">
</body>
</html> 
```

外部javascript文件...

```
myJS = function ()
{   
    myFunction = function()
    {
        document.write("Hello world");
    };  
}; 
```

为什么不？提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T04:51:53.673

在另一个函数中声明的函数不会成为该函数的属性。如果您希望 myJS 成为以 myFunction 作为方法的对象，您可以这样做

```
myJS = {    
    myFunction: function()
    {
        document.write("Hello world");
    }   
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T04:52:09.757

您的脚本创建了两个全局函数...

因此`myJS`创建了另一个函数，称为`myFunction`其中任何一个都可以独立调用。

看起来你想制作一个 JSON 对象

```
myJS = {   
    myFunction: function() {
        document.write("Hello world");
    }
} 
```

# .net - 可见性 = Collapsed 在 DockPanel 中不起作用

> ID：14151219
> 
> 赞同：0
> 
> 时间：2013-01-04T04:46:52.810
> 
> 标签：.net, wpf, vb.net, visibility

我试图让下面的 TextBlocks 折叠起来，但是它不起作用：

```
<DockPanel Grid.Column="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" LastChildFill="False" >
<DockPanel.Resources>
    <Style x:Key="ReferenceValues" TargetType="{x:Type TextBlock}">
        <Style.Triggers>
            <Trigger Property="Text" Value="">
                <Setter Property="Visibility" Value="Collapsed" />
            </Trigger>
            <Trigger Property="Text" Value="{x:Null}">
                <Setter Property="Visibility" Value="Collapsed" />
            </Trigger>
        </Style.Triggers>
    </Style>
</DockPanel.Resources>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropFullName}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropTitle}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropUserName}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropYear}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropEmailAddress}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropStartingPage}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropEndingPage}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropStartingDate}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropEndingDate}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropLastUpdate}" Margin="2,2,2,2"  Visibility="Visible"/>
<TextBlock Style="{StaticResource ReferenceValues}" FontFamily="Segoe UI Light" FontSize="14" DockPanel.Dock="Top" Text="{Binding PropFileFormat}" Margin="2,2,2,2"  Visibility="Visible"/>
...
</DockPanel> 
```

`null`当值为或时，它们仅显示为空白`""`。a 是否`DockPanel`自动不渲染未显示的控件？（只有 3 个`TextBlocks`可以适应 72 像素。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:21:11.040

每个上 Visibility 属性的显式设置都`TextBlock`覆盖了样式。删除该`Visibility="Visible"`属性，TextBlocks 将根据您的样式按预期呈现。

如果您希望默认 Visibility 为 Visible，则在样式中设置默认值：

```
<Style x:Key="ReferenceValues" TargetType="{x:Type TextBlock}">
    <Setter Property="Visibility" Value="Visible" />
    <Style.Triggers>
        <Trigger Property="Text" Value="">
            <Setter Property="Visibility" Value="Collapsed" />
        </Trigger>
        <Trigger Property="Text" Value="{x:Null}">
            <Setter Property="Visibility" Value="Collapsed" />
        </Trigger>
    </Style.Triggers>
</Style> 
```

# android - 在 webview 中使用 javascript 加载 html

> ID：14151223
> 
> 赞同：1
> 
> 时间：2013-01-04T04:48:20.137
> 
> 标签：android, android-webview

我正在尝试将 html 文件加载到 webview 中，但 webview 保持空白。有人可以帮我实现这一目标吗？

这是我的html

```
<script src="http://france.meteofrance.com/portlet/plugins/meteo/VignetteMeteoVille3.javascript?idLieu=431200" charset="UTF-8"></script> 
```

这是在创建方法上

//oncreate方法

```
protected void onCreate(Bundle savedInstanceState) {

    // TODO Auto-generated method stub

    super.onCreate(savedInstanceState);

    setContentView(R.layout.rss_feed);

     webcontent = (WebView)findViewById(R.id.webViewHistoire);

     webcontent.setWebViewClient(new NewsClient());

     webcontent.getSettings().setJavaScriptEnabled(true);

     webcontent.getSettings().setPluginsEnabled (true);

     webcontent.getSettings().setDomStorageEnabled(true);

     webcontent.loadUrl("file:///android_asset/home.html");

} 
```

//返回键

```
public boolean onKeyDown(int keyCode, KeyEvent event) {

    if ((keyCode == KeyEvent.KEYCODE_BACK) && webcontent.canGoBack()) {

        webcontent.goBack();    

        return true;

    }

    return super.onKeyDown(keyCode, event);

}

private class NewsClient extends WebViewClient {

    public boolean shouldOverrideUrlLoading(WebView view, String url) {

        return true;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:23:30.510

你的 html 文件代码是用`<html>`tag 写的吗？如果没有，请写如下：

> ```
> <html> 
>   <head>
>  <script language="JavaScript"  src="http://france.meteofrance.com/portlet/plugins/meteo/VignetteMeteoVille3.javascript?idLieu=431200" charset="UTF-8">
>  </script>
>  </head>
>   </html> 
> ```

并尝试在 webview 中加载它。

# python - PySQLPool 获取旧数据直到重新启动

> ID：14151226
> 
> 赞同：-1
> 
> 时间：2013-01-04T04:48:56.380
> 
> 标签：python

我面临一个问题，即使用 PySQLPool 从 MySQL 检索的数据在进程开始时返回，来自 python 或 MySQL 客户端的 INSERT 或 UPDATE 查询在杀死并重新运行 python 进程之前不会显示。

对此有任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:06:13.850

参考：[为什么有些mysql连接在删除+插入后选择mysql数据库的旧数据？](https://stackoverflow.com/questions/9318347/why-are-some-mysql-connections-selecting-old-data-the-mysql-database-after-a-del)

MySQL 的隔离级别导致了这种情况。不知何故，只有 python 客户端会受到影响，并且之前从未偶然发现过这个问题。这是一个有效的问题，并有详细的解决方案。我的问题是针对 python 和 pySQLPool 的，因为我没有想到 MySQL 可能是导致这种情况的原因。现在我的部署过程包括将 MySQL 的全局隔离级别更改为“READ-COMMITTED”的详细信息。

设置全球 tx_isolation='READ-COMMITTED';

# php - PHP POST var中的复杂javascript对象访问

> ID：14151234
> 
> 赞同：0
> 
> 时间：2013-01-04T04:49:54.583
> 
> 标签：php, javascript, jquery, ajax

我有一个复杂的 Javascript 对象，它使用 $.ajax 发送到 PHP 服务器：

对象看起来像：

```
var obj = 
{
  sellerId:"1234",
  buyerId:"5432",
  .
  .
  .
  items:[{id:"11",qt:"3"},{id:"22",qt:"5"},{id:"33",qt:"8"}...]
}; 
```

jquery 代码看起来像这样：

```
 $.ajax({
      type: "POST",
      url: "php.php",
      data: obj
      }).done(function( msg ) {
              alert( msg );
      }); 
```

在 PHP 端，以下代码将回显卖方 ID

```
<?php   
      echo $_POST['id'];  
?> 
```

我的问题是如何访问 items 数组及其对象属性？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:03:36.330

您好，您可以在 php 文件中使用以下代码检索该值。

```
foreach($_POST['items'] as $val){
    echo $val['id']."==".$val['qt'];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:12:58.807

根据您的问题，我稍微创建了一些代码供您开始（可能不是很好的代码，但是您可以从中学到一些东西）-

```
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript">
jQuery(document).ready(function(){
var path='getdata.php'; 
var obj = {
  sellerId:"1234",
  buyerId:"5432",
  items:[{id:"11",qt:"3"},{id:"22",qt:"5"},{id:"33",qt:"8"}]
};

jQuery("#test").click(function(){
jQuery.ajax({
        type: "GET",
        url: path,
        data: obj,
        success:function(results)
        {   
            jQuery('#venue').html(results);
        }
        });
});

});
</script>

<div id="test">This is my active div</div>

<div id="venue"></div> 
```

**getdata.php 中的 PHP 代码**

```
<?php
foreach($_GET['items'] as $myitem )
{
    foreach( $myitem as $key => $value )
    {
    echo "This is my key : ".$key." This is value of key ".$value."<br />";
    }
}
?> 
```

**结果**

![在此处输入图像描述](../Images/07ac18eb8311966c09f71903599d84f6.png)

# php - 将值回显到已经在 iframe 中的 iframe url

> ID：14151235
> 
> 赞同：0
> 
> 时间：2013-01-04T04:49:55.473
> 
> 标签：php, session, iframe, echo

无论如何将值回显到已经在 iframe 中的 iframe 中？

我需要从父 url 2 个阶段回显到第二个 iframe。父级中的值作为 php 会话保存。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T04:59:10.887

试试，喜欢

```
<?php
   $id=1;
?>
<iframe src="page.php?id='<?php echo $id; ?>'" style=""></iframe> 
```

在 page.php 中

```
<?php
$id= $_GET['id'];
?>
 <iframe src="pages.php?id='<?php echo $id; ?>'" style=""></iframe> 
```

# c++ - LR(1) 文法的状态、符号和规则数量的合理上限是多少？

> ID：14151239
> 
> 赞同：4
> 
> 时间：2013-01-04T04:50:19.920
> 
> 标签：c++, parsing, lr

我正在制作一个 LR(1) 解析器，并且在各个地方都遇到了性能瓶颈。

我想尝试优化解析器的数据结构，但为了做到这一点，我需要大致了解有多少状态、规则和终端符号对于（可能很复杂）计算机语言（如 C++）是合理的。

我的猜测是，复杂语言的典型语法将具有：

*   ≤ 100 个终端符号
*   ≤ 50 个符号/产品
*   ≤ 2,000 条规则
*   ≤ 10,000 个州

但我真的不知道它们有多正确。

请注意，我假设每个规则的形式*为非终结符*→*符号* *符号* *符号*...，因此看起来像的单个复合“规则”`foo: (bar | baz)+`实际上可能包含 5 条规则，而不仅仅是 1 条规则。

它们合理吗？如果没有，我在哪里可以找到这些数字？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T06:06:48.327

我每天开发的 DMS 系统在一台破旧的笔记本电脑上（刚刚在该笔记本电脑上测量）大约 7 秒内处理生产 IBM Enterprise COBOL 前端语法。

该语法有大约 500 个终端和 2500 个产生式，平均每个产生式大约 2.5 个标记。我们的产品与您描述的完全一样（没有 EBNF，只是买的东西不够重要，是的，我们是 DSL 的忠实拥护者。有时人们放入 DSL 的 geegaws 不值得）。解析器生成器产生 3800 个状态。（这些值也是刚刚测量的）。

DMS 具有完整的 C++11 语法，其中包含许多额外的东西来处理 GCC 和 MS 方言，以及 OpenMP。该语法有 457 个终端，大约 3000 个产生式，每个产生式平均有 2.3 个标记。解析器生成器产生 5800 个状态。需要更长的时间来生成：11 秒，在 i7 上。您可能会感到惊讶的是，生成词法分析器需要几十秒（实际上是多个词法分析器）；C++11 中的词法怪异比你想象的要多得多。

生成器是我们自己实现的 GLR 生成器。

我们没有做很多优化生成时间的工作。它可能会加速 10 倍或更多；我们没有像大多数关于 LR 解析器生成的论文中建议的那样进行复杂的循环检测优化。结果是生成表需要更长的时间，但功能上没有任何损失。我们从来没有足够的动力进行这种优化，因为除了担心解析器表的生成时间之外，语言前端还有很多其他事情要做。

如果设计合理，我怀疑数据结构是否很重要。我们不太担心规则、项目集或状态的大小；我们只使用动态数组，它们会照顾自己。我们确实将前瞻打包到密集的位向量中。

作为额外的背景数据，您可能会发现这篇论文很有用：[Tiago Alves 和 Joost Visser，SDF 语法的度量。技术报告，DI-Research.PURe-05.05.01，Departamento de Informática，Universidade do Minho，2005 年 5 月。](http://wiki.di.uminho.pt/twiki/pub/Personal/Tiago/Publications/DI-PURe-05-05-01.pdf)

解析器生成器不是您在语法方面遇到困难的地方。它正在为特定的实现获取*正确的语法规则。*

# python - Deque 在扩展时将字节更改为整数

> ID：14151245
> 
> 赞同：1
> 
> 时间：2013-01-04T04:51:14.033
> 
> 标签：python, python-3.x, int, byte, deque

```
from collections import deque

recvBuffer = deque()
x1 = b'\xFF'
recvBuffer.append(x1)
recvBuffer.extend(x1)
x2 = recvBuffer.pop()
x3 = recvBuffer.pop()
print(type(x1))
print(type(x2))
print(type(x3)) 
```

上面的代码打印以下内容`Python 3.2.3`

```
<class 'bytes'>
<class 'int'>
<class 'bytes'> 
```

为什么将extend()-ed 变为双端队列时字节变为int？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T05:06:03.160

`bytes`记录为整数序列[：](http://docs.python.org/3.3/library/functions.html#bytes)

> “bytes”对象，它是一个不可变的整数序列，范围为 0 <= x < 256

当你时`extend`，你迭代序列。当你迭代一个`bytes`对象时，你会得到整数。请注意，`deque`与此无关。您将`extend`在普通列表上使用或仅使用`for byte in x1`.

# sql - 在 SQL Server 2008 中添加时间

> ID：14151246
> 
> 赞同：0
> 
> 时间：2013-01-04T04:51:28.650
> 
> 标签：sql, sql-server, sql-server-2008, datetime

我想在 SQL Server 中添加时间。我`checktime`在数据库中有一个称为`datetime`数据类型的列。我想从列中添加时间`checktime`。我怎样才能做到这一点 ？？

我正在做这个计算来计算员工在指定日期工作的总小时数。

我的数据库看起来像这样。我想从`checktime`哪里添加时间`checktype = 1`，`checktype = 2`然后减去结果。（checktype = 1 表示签入，checktype = 2 表示签出）

我怎样才能做到这一点？？

```
 Id        EmpId              CheckTime                                CheckType
---------------------------------------------------------------------------------
  3           5             2013-01-03 09:00:15.000                         1 
  4           5             2013-01-03 11:00:00.000                         2 
  5           5             2013-01-03 11:30:00.000                         1 
  6           5             2013-01-03 13:00:00.000                         2 
  7           5             2013-01-03 13:30:00.000                         1 
  8           5             2013-01-03 16:00:00.000                         2 
  9           5             2013-01-03 16:30:00.000                         1 
 10           5             2013-01-03 18:00:00.000                         2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:19:19.740

如果我正确理解您的问题，这就是我要做的：

```
SELECT
    EmpId,
    CheckTime,
    CheckType,
    ROW_NUMBER() OVER(PARTITION BY EmpId, DATEADD(dd,DATEDIFF(dd,0,cin.CheckTime),0), CheckType ORDER BY CheckTime) AS Seq
INTO
    #PreparedTable
FROM
    SourceTable

SELECT
    cin.EmpId,
    DATEADD(dd,DATEDIFF(dd,0,cin.CheckTime),0) AS CheckDate,
    (SUM(DATEDIFF(ss,cin.CheckTime,cout.CheckTime)) / 3600.0) AS HoursWorked
FROM
    #PreparedTable cin
JOIN
    #PreparedTable cout
    ON  (cin.EmpId = cout.EmpID)
    AND (DATEDIFF(dd,cin.CheckTime,cout.CheckTime) = 0)
    AND (cin.Seq = cout.Seq)
    AND (cin.CheckType = 1)
    AND (cout.CheckType = 2) 
```

# hadoop - Hadoop 的容量调度程序 - 设置多个队列

> ID：14151251
> 
> 赞同：2
> 
> 时间：2013-01-04T04:51:55.883
> 
> 标签：hadoop, mapreduce

我尝试设置 2 个队列 - queue1、queue2。我将这些队列的名称添加到 mapred-site.xml

```
 <property>
        <name>mapred.queue.names</name>
        <value>queue1,queue2</value>
    </property> 
```

我配置了CapacityScheduler.xml，如下所示。

```
 <?xml version="1.0"?>
    <configuration>
         <property>
            <name>mapred.capacity-scheduler.maximum-system-jobs</name>
            <value>3000</value>   
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue1.capacity</name>
            <value>100</value>   
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue2.capacity</name>
            <value>100</value>   
         </property>

         <property>
            <name>mapred.capacity-scheduler.queue.queue1.maximum-capacity</name>
            <value>-1</value>
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue2.maximum-capacity</name>
            <value>-1</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.queue.queue1.supports-priority</name>
            <value>false</value>
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue2.supports-priority</name>
            <value>false</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.queue.queue1.minimum-user-limit-percent</name>
            <value>100</value>
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue2.minimum-user-limit-percent</name>
            <value>100</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.queue.queue1.user-limit-factor</name>
            <value>1</value>
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue2.user-limit-factor</name>
            <value>1</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.queue.queue1.maximum-initialized-active-tasks</name>
            <value>200000</value>
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue2.maximum-initialized-active-tasks</name>
            <value>200000</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.queue.queue1.maximum-initialized-active-tasks-per-user</name>
            <value>100000</value>
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue2.maximum-initialized-active-tasks-per-user</name>
            <value>100000</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.queue.queue1.init-accept-jobs-factor</name>
            <value>10</value>
         </property>
         <property>
            <name>mapred.capacity-scheduler.queue.queue2.init-accept-jobs-factor</name>
            <value>10</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.default-supports-priority</name>
            <value>false</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.default-minimum-user-limit-percent</name>
            <value>100</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.default-user-limit-factor</name>
            <value>1</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.default-maximum-active-tasks-per-queue</name>
            <value>200000</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.default-maximum-active-tasks-per-user</name>
            <value>100000</value>
         </property>

         <property>
            <name>mapred.capacity-scheduler.default-init-accept-jobs-factor</name>
            <value>10</value>
         </property>

         <!-- Capacity scheduler Job Initialization configuration parameters -->
         <property>
            <name>mapred.capacity-scheduler.init-poll-interval</name>
            <value>5000</value>
         </property>
         <property>
            <name>mapred.capacity-scheduler.init-worker-threads</name>
            <value>5</value>
         </property>
    </configuration> 
```

bin/start-all.sh 启动以下服务。

```
 17083 DataNode
    17557 TaskTracker
    17373 JobTracker
    16902 NameNode
    17279 SecondaryNameNode
    17703 Jps 
```

我能够查看 Jobtracker 的 WEB UI

```
 http://localhost:50030/ 
```

Tasktracker 的 WEB 用户界面

```
 http://localhost:50060/ 
```

显示“无法连接”。但几秒钟后，jobtracker 和 tasktracker 就会关闭。终端上的 jps 命令只显示

```
 17083 DataNode
    16902 NameNode
    17279 SecondaryNameNode
    17703 Jps 
```

可能是什么解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-16T16:58:14.787

both of your queues have a capacity of 100 , which makes the capacity scheduler to think there are couple of queues that each have a capacity of 100%. I suggest you change the setting to :

```
<?xml version="1.0"?>
<configuration>
     <property>
        <name>mapred.capacity-scheduler.maximum-system-jobs</name>
        <value>3000</value>   
     </property>
     <property>
        <name>mapred.capacity-scheduler.queue.queue1.capacity</name>
        <value>80</value> <!-- change here -->
     </property>
     <property>
        <name>mapred.capacity-scheduler.queue.queue2.capacity</name>
        <value>20</value> <!-- change here -->   
     </property>

     <property>
        <name>mapred.capacity-scheduler.queue.queue1.maximum-capacity</name>
        <value>-1</value>
     </property>
     <property>
        <name>mapred.capacity-scheduler.queue.queue2.maximum-capacity</name>
        <value>-1</value>
     </property> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-16T22:37:32.367

所有队列的总和必须始终且仅为 100（即 100%），您可以有两个队列分别为 100% 和 0% - 这是有效的。

此外，我认为始终有一个“默认”队列是一个好习惯，至少有一些分配。我不知道如果您在没有默认值的情况下不指定队列名称，调度程序会做什么。

# asp.net - 在不使用任何第三方 dll 的情况下以 pdf 格式导入网格数据

> ID：14151257
> 
> 赞同：1
> 
> 时间：2013-01-04T04:52:24.140
> 
> 标签：asp.net, pdf, export

我正在开发一个应用程序，如果用户需要，我想在其中支持将数据导出为 pdf，然后他可以将网格数据转换为 pdf。我尝试了很多方法，但没有奏效。它通过使用 itextsharp 第三方 dll 而不是直接工作。使用 :c# ,asp.net

```
protected void btnExportPDF_Click(object sender, EventArgs e)
{
    Response.ContentType = "application/pdf";
    Response.AddHeader("content-disposition",
     "attachment;filename=GridViewExport.pdf");
    Response.Cache.SetCacheability(HttpCacheability.NoCache);
    StringWriter sw = new StringWriter();
    HtmlTextWriter hw = new HtmlTextWriter(sw);
    GridView1.AllowPaging = false;
    GridView1.DataBind();
    GridView1.RenderControl(hw);
    StringReader sr = new StringReader(sw.ToString());
    Document pdfDoc = new Document(PageSize.A4, 10f,10f,10f,0f);
    HTMLWorker htmlparser = new HTMLWorker(pdfDoc);
    PdfWriter.GetInstance(pdfDoc, Response.OutputStream);
    pdfDoc.Open();
    htmlparser.Parse(sr);
    pdfDoc.Close();
    Response.Write(pdfDoc);
    Response.End(); 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:07:52.343

Pdf 代表可移植文档格式。由于它是一种标准格式，因此您必须仅以该格式放置数据。否则，它将是一个损坏的文件，不会被 pdf 阅读器赞美。您将不得不使用 3rd 方工具或自己动手。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T08:36:42.473

编写一个像样的 PDF 解析器是一项巨大的工作（我们说的是几年），所以大多数人发现它更具成本效益，因此许可 IText 或类似的库。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-04T10:43:13.087

如果你想用代码来做，你可以使用 isharptext 来做到这一点，而不是你必须编写 parser 。

# sql-server - SQL Server 中的日期时间转换

> ID：14151262
> 
> 赞同：1
> 
> 时间：2013-01-04T04:53:03.140
> 
> 标签：sql-server, datetime

```
declare @v1 datetime = getdate();
declare @v2 int = 2;
select @v1 + @v2;
---------------------------
2013-01-06 08:16:20.620 
```

但

```
declare @v1 datetime = getdate();
declare @v2 char(1) = '2';
select @v1 + @v2;
-------------------------- 
```

> *消息 241，级别 16，状态 1，第 5 行
> 从字符串转换日期和/或时间时转换失败。*

给出错误。但两者`int @v2`和`char @v2`具有相同的价值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:32:18.017

当组合两个不同类型的运算符时，您将进行隐式类型转换。转换的内容由[数据类型优先级](http://msdn.microsoft.com/library/ms190309.aspx)规则控制。

两者`char`和`int`的优先级都低于日期时间，因此您的查询相当于：

```
select @v1 + cast(@v2 as datetime); 
```

将 int 值`2`转换为一个`datetime`作品就好了，给你`1900-01-03 00:00:00.000`

但是，将 char 值`2`转换为 datetime 不起作用，因为该字符串`2`不能解释为有效的 datetime 值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:00:02.343

当 char 被转换为 datetime.. 它通常是 false..因为有些字符不能被转换为 datetime..并且可能溢出..就像'2'，'a'等。

你需要一个像'2013-01-04'这样的char值......它们可以正确转换......

# javascript - JavaScript Windows 8 如何在导航中为每页设置不同的背景？

> ID：14151266
> 
> 赞同：-1
> 
> 时间：2013-01-04T04:53:38.383
> 
> 标签：javascript, css, windows-8, navigation

我希望我制作的每一页都有不同的背景。我需要它能够刷新每个页面上的背景图像。我该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T04:55:50.360

把这个扔在你的脑海里：

```
<style type="text/css">
    body {
        background: url(imagegoeshere.jpg);
    }
</style> 
```

并在您想要的每一页上进行更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T04:56:37.423

在每个单独页面的正文中添加一个类。

```
 <body class=pageName>
 ...
 </body>

 .pageName {
      background: url(example.gif);
 } 
```

# php - 表单提交重定向到codeigniter的索引页面

> ID：14151267
> 
> 赞同：0
> 
> 时间：2013-01-04T04:53:43.000
> 
> 标签：php, codeigniter

当单击表单的我的提交按钮时，页面将重定向到索引页面，即 codigniter 的欢迎消息。但 url 显示请求的页面。. 我很困惑。

查看页面：

```
<form action='welcome/register' method='post'>
<table>......
......
</form> 
```

并且在控制器页面中我已经完成了验证，如果验证失败，它必须重定向到 register_new 页面，但重定向的页面是 codeignitor 的欢迎页面。. 但是网址没有问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:01:51.457

这就是您在 CodeIgniter 中使用表单的方式。不要尝试使用这样的 HTML 表单，只需使用 CodeIgniter 样式

[http://ellislab.com/codeigniter/user-guide/helpers/form_helper.html](http://ellislab.com/codeigniter/user-guide/helpers/form_helper.html)

将此添加到您的控制器（以加载表单助手）：

```
$this->load->helper('form'); 
```

在你看来

```
<?php echo form_open('controllername/functionname');?>
     <input type ...>
     //...more inputs
</form> 
```

如果未指定操作，它将重定向到原始页面。除非由第二个控制器指定，否则它不应该重定向到索引页面。

# python - Python：将列表附加到列表更改列表

> ID：14151268
> 
> 赞同：-1
> 
> 时间：2013-01-04T04:53:59.727
> 
> 标签：python, list

我正在循环中创建一个名为“temp”的列表，并将其附加到一个母列表“trouble”。当我在循环的第二次运行中将“temp”附加到“trouble”时，“trouble”本身似乎正在发生变化。为了清楚起见，我简化了代码以仅包含此实例。

```
award=[[['A',1],['B',1]],[['A',1],['C',1]],[['A',1],['C',1],['D',1]]]

trouble=[]
print '\n'
for n in range(len(award)-1):
    temp=[]
    for i in range(len(award[n])):
            temp.append(award[n][i])
    for i in range(len(award[n+1])):
            for k in range(len(temp)):
            if(temp[k][0]==award[n+1][i][0]):
                temp[k][1]+=award[n+1][i][1]
                break
        else:
            temp.append(award[n+1][i])

    print 'temp', temp
    trouble.append(temp)
    print '\tn   =   ',n, '\n\ttrouble'
    for i in range(len(trouble)):
        print trouble[i]
    print '\n' 
```

输出如下所示：

```
temp [['A', 2], ['B', 1], ['C', 1]]
    n   =    0 
    trouble
[['A', 2], ['B', 1], ['C', 1]]

temp [['A', 2], ['C', 2], ['D', 1]]
    n   =    1 
    trouble
[['A', 2], ['B', 1], ['C', 2]]
[['A', 2], ['C', 2], ['D', 1]] 
```

我不明白为什么 ['C',1] 在第一个附加实例之后（根据我）没有被触及，在第二个附加实例之后被更改。

任何帮助将不胜感激。

先感谢您。

阿纳迦马杜苏达南

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:13:10.450

我认为问题完全在于：

```
temp.append(award[n+1][i]) 
```

Award[1][1] 的引用两次添加了麻烦，因此添加了任何元素，所有值都会更改。将列表附加到母列表时，您应该进行深层复制。

```
award=[[['A',1],['B',1]],[['A',1],['C',1]],[['A',1],['C',1],['D',1]]]

trouble=[]
print '\n'
for n in range(len(award)-1):
    temp=[]
    for i in range(len(award[n])):
        tem = award[n][i][:] // deep copy
        temp.append(tem)
    for i in range(len(award[n+1])):
        for k in range(len(temp)):
            if(temp[k][0]==award[n+1][i][0]):
                temp[k][1]+=award[n+1][i][1]
                break
        else:
            tem = award[n+1][i][:] # deep copy
            temp.append(tem)

    print 'temp', temp
    trouble.append(temp)
    print '\tn   =   ',n, '\n\ttrouble'
    for i in range(len(trouble)):
        print trouble[i]
    print '\n'

# temp [['A', 2], ['B', 1], ['C', 1]]
    # n   =    0 
    # trouble
# [['A', 2], ['B', 1], ['C', 1]]

# temp [['A', 2], ['C', 2], ['D', 1]]
    # n   =    1 
    # trouble
# [['A', 2], ['B', 1], ['C', 1]]
# [['A', 2], ['C', 2], ['D', 1]] 
```

# json - 如何从与 Google Gson 兼容的 Java 类创建文档或 JSON 模式？

> ID：14151270
> 
> 赞同：5
> 
> 时间：2013-01-04T04:54:00.860
> 
> 标签：json, javadoc, gson

我目前正在实现一组旨在供 JavaScript 客户端使用的 Web 服务，并且正在使用 Google Gson 进行 JSON 序列化/反序列化。因此，我的服务合同是在 Java 类中定义的。我现在需要一种方法来生成这些消息接口的文档，以供 JavaScript 开发人员使用。

理想情况下，我想要一个类似于 JavaDoc 的工具，它可以生成我的类型的 JSON 示例、JSON 模式或其他对 Web 开发人员友好的文档，这些工具可以很容易地与 Maven 集成，从而为具有特定注释的类型生成基于 HTML 的文档。

我可以将它们指向生成的 JavaDoc，但它需要他们理解并搜索所有私有字段以找出如何格式化请求，并且也不考虑 Gson 类型转换器等。

该领域是否有任何相关工具可用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-23T07:48:59.497

我过去使用过 Swagger。它易于实现，但生成强大的 API 文档。

请查看此文档。我想这就是你要找的。

[http://petstore.swagger.wordnik.com/](http://petstore.swagger.wordnik.com/)

# eclipse - 在新计算机上导入时无法解决或不是字段错误

> ID：14151274
> 
> 赞同：1
> 
> 时间：2013-01-04T04:54:47.037
> 
> 标签：eclipse, subclipse

我刚刚在我的新笔记本电脑上安装了 eclipse。从 Subclipse SVN 导入项目后，我的项目出现“无法解决或不是字段”错误，这使我根本无法运行该项目。当我导入同一个项目时，我的旧笔记本电脑不会出现这种情况。我有 17 个错误都与此“无法解决或不是字段”错误有关。以下是错误的更多详细信息：

布局无法解析或不是字段
id 无法解析或不是字段
login_button 无法解析或不是字段
logout_button 无法解析或不是字段

我怀疑它与 Eclipse 设置有关。但是我配置了必要的设置：安装了 ADT 插件和 Subclipse。你知道出了什么问题吗？我需要为 Eclipse 设置任何环境变量吗？

# iphone - 无法将附件发送到另一个电子邮件地址

> ID：14151279
> 
> 赞同：2
> 
> 时间：2013-01-04T04:56:34.240
> 
> 标签：iphone, objective-c, ios, xcode

在我的应用程序中，使用`MFMailComposer`我无法将附件发送到另一个邮件地址。这些附件在链接中。

我正在使用这段代码：

```
 NSData *textData = [NSData dataWithContentsOfFile:self.fileString];
[mailView addAttachmentData:textData mimeType:@"text/plain" fileName:self.fileString]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:02:01.907

试试下面的代码在电子邮件中发送附件..

```
MFMailComposeViewController *picker = [[MFMailComposeViewController alloc] init];
picker.mailComposeDelegate = self;
[picker setSubject:@"Subject"];
NSData *textData = [NSData dataWithContentsOfFile:self.fileString];
[picker addAttachmentData:imageData mimeType:@"text/plain" fileName:@"rainy"];
[self presentViewController:picker animated:YES completion:nil];
[picker release]; 
```

您在 addAttachmentData 方法中所做的是将 fileName 中的 self.fileString 替换为我写的其他名称。让我知道它是否有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:14:56.857

我猜 fileName 是你的文本文件的路径。然后将此路径 (self.fileString) 传递给 -addAttachmentData:mimeType:fileName:。在邮件中使用附加数据是不正确的。您只需要设置一个纯字符串作为附件的文件名，也许@"attachText.txt" 会是一个不错的选择。

# c# - 获取另一个表中生成的确切 SessionID

> ID：14151281
> 
> 赞同：1
> 
> 时间：2013-01-04T04:56:48.587
> 
> 标签：c#, asp.net, sql, sql-server

我是 sql 新手。在我的聊天应用程序中，我在以下数据库表的帮助下存储消息。

* * *

```
SessionTable  -->  SessionID (PK)    Username1   Username2   Time 
```

* * *

```
MessagesTable -->  SessionID (FK)    Username    Message     StartTime 
```

* * *

第一个数据库表`SessionTable`用于生成一个`SessionID`(IDENTITY(1,1))，用户（仅限于两个）可以借助该表进行对话。每当用户向其他用户发送消息时，消息数据将存储在`MessagesTable`列中，列`Message`中包含相应用户的名称`Username`以及`Time`用户发送消息的时间。但是我面临的问题是如何获取要存储的确切 sessionID 以及在`MessagesTable`其中生成的消息`SessionTable`？

我的另一个问题是，当我将消息存储在单个数据库表中时，将来会出现性能问题吗？（我正在创建的项目将在最多 30 个成员中使用）并且还请建议我设计数据库表的方式是否是更好的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:08:59.210

`insert`进入行后，`SessionTable`您可以使用该[`Scope_Identity()`](http://msdn.microsoft.com/en-us/library/ms190315.aspx?ppud=4)功能将`SessionID`分配给新行。

至于性能，有太多因素无法提供有用的答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:09:13.340

**简而言之：**似乎您在 Session 表和 Message 表之间存在一对多的关系。因此，您正在尝试加入表抛出公共`SessionID`列。

根据消息传递应用程序的负载，您还需要考虑索引策略。换句话说，具有高强度读写的表通常会受到性能影响。

**解决方案 #1：**您肯定需要使用[**SCOPE_IDENTITY()**](http://msdn.microsoft.com/en-us/library/ms190315.aspx)。

```
DECLARE @SessionID INT;

INSERT INTO dbo.SessionTable  (Username1,   Username2,   Time)
SELECT 'User1', 'User2', GETDATE();

SELECT @SessionID = SCOPE_IDENTITY(); 
```

创建会话后，您需要使用`@SessionID`在 MessagesTable 中添加消息详细信息。像下面的代码示例：

```
INSERT INTO dbo.MessagesTable (SessionID, Username,  Message, StartTime)
SELECT @SessionID, 'User1', 'The sample text of the message' GETDATE();
GO 
```

**总之：**上面发布的代码示例中描述了总体原理。但是，我没有检查所有语法，因此您可能希望在此代码中进行一些语法更正 :)

# xcode - Cocoa 中的相互依赖导致编译错误

> ID：14151284
> 
> 赞同：0
> 
> 时间：2013-01-04T04:56:55.897
> 
> 标签：xcode, cocoa, header, inclusion

> **可能重复：**
> [如何在 Objective-C 类中通过双向依赖解决这个问题？](https://stackoverflow.com/questions/834955/how-can-i-solve-this-problem-with-bidirectional-dependencies-in-objective-c-clas)

为什么我会收到带有以下代码的“解析问题 - 预期类型”，我该怎么做才能解决它（不更改我的测试函数的 API）？

```
// ClassA.h

#define CLASSA_H

#import <Foundation/Foundation.h>
#ifndef CLASSB_H
#import "ClassB.h"
#endif

@interface ClassA : NSObject {}

- (void)test:(ClassB *)input;  // Compiler error: Expected ClassB to be a type

@end 
```

和

```
// ClassB.h

#define CLASSB_H

#import <Foundation/Foundation.h>
#ifndef CLASSA_H
#import "ClassA.h"
#endif

@interface ClassB : NSObject{}

- (void)test:(ClassA *)input;  // Compiler error: Expected ClassA to be a type

@end 
```

根据我读到的关于导入与包含的内容，我什至不必使用 CLASSA_H 和 CLASSB_H 宏来防止自包含，但无论我是否使用它们，我都会得到同样的错误。

我的实际代码比上面的示例更复杂，但归结为我有两个接口相互引用的类，因此要求每个标题都包含另一个标题，如上面的示例所示。这是 C 语言中的常见情况，我不明白我在这里缺少什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:18:24.807

您不需要包含任何一个标题。使用[前向声明](http://en.wikipedia.org/wiki/Forward_declaration)。

```
// ClassA.h

#import <Foundation/Foundation.h>

@class ClassB;

@interface ClassA : NSObject {}

- (void)test:(ClassB *)input;

@end 
```

和

```
// ClassB.h

#import <Foundation/Foundation.h>

@class ClassA;

@interface ClassB : NSObject {}

- (void)test:(ClassA *)input;

@end 
```

根据您的情况，您可能还需要`#import "ClassA.h"`inside of `ClassB.m`，反之亦然。但这不会引起任何额外的问题。

# mysql - MySQL 分层 IF 语句

> ID：14151286
> 
> 赞同：1
> 
> 时间：2013-01-04T04:57:20.107
> 
> 标签：mysql, if-statement, sql-order-by

我正在尝试完成这段代码：

```
ORDER BY IF(j.groups IS NULL OR j.groups = '',  IF(j.title IS NULL, i.title), j.groups) 
```

英文：如果存在则首先按 j.groups 排序，如果存在则按 j.title 排序，最后按 i.title 排序。但以上行不通。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:02:21.750

试试这个：

```
ORDER BY IF(j.groups IS NULL OR j.groups = '', IFNULL(j.title, i.title), j.groups); 
```

**或者**

```
ORDER BY COALESCE(j.groups, j.title, i.title); 
```

**或者**

```
ORDER BY IF(j.groups IS NULL OR j.groups = '', IF(j.title IS NULL, i.title, 1), j.groups); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:04:58.777

你忘记了你内在的*else*部分`IF`。试试这个：

```
ORDER BY IF(
  j.groups IS NULL OR j.groups = '',
  IF(
    j.title IS NULL,
    i.title,
    j.title -- this was missing
  ),
  j.groups
) 
```

但我发现这种语法更具可读性：

```
ORDER BY COALESCE(IF(j.groups = '', NULL, j.groups), j.title, i.title) 
```

# java - 刚刚创建android项目后“R无法解析为变量”？

> ID：14151287
> 
> 赞同：7
> 
> 时间：2013-01-04T04:57:24.487
> 
> 标签：java, android, eclipse

在创建新的 Android 应用程序项目后，我的 MainActivity.java 文件中出现错误“R 无法解析为变量”。

这是它的内容：

```
package com.example.firstapp;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

如果应用程序是由 Eclipse 选择所有默认选项创建的，为什么会出现此问题？我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T05:22:43.880

这可能是因为，您的 res 文件夹中可能存在一些问题，

*   主要原因可能是`R.java`. 所以删除，如果有的话`import android.R;`

*   可能有一些同名的图像，或者一些大写字母的文件，甚至你的 xml 文件中可能有一些错误，

*   尝试重建和清理您的项目。

对于这个问题的一些快速解决方案，看看这个，

[R.java 文件没有被创建](https://stackoverflow.com/a/14051970/1626878)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-04T05:03:17.860

首先尝试清理您的项目，然后通过 eclipse 构建它。如果此操作后问题仍然存在，则意味着它是因为您的 activity_main.xml

# c# - 农民需要通过自引用动物表循环的算法

> ID：14151289
> 
> 赞同：9
> 
> 时间：2013-01-04T04:57:47.670
> 
> 标签：c#, algorithm, design-patterns, database-design

**问题：**农场里有很多动物。每个动物都可以有任意数量的动物朋友，除了反社会动物——它们没有*属于*它们的朋友，但它们作为朋友属于其他正常动物。每只动物都和它最不快乐的动物朋友一样快乐，当然反社会动物除外。反社会动物的幸福水平可以是任何东西。

一天早上，所有动物醒来，发现一些反社会动物的情绪发生了变化。农夫如何算出每只动物的幸福感？

就农场工人而言（他们没有上过农民学校）：

![一对多自引用表](../Images/b6bb409fd47ccae4ae63387c5f6045fd.png)

```
DataTable animals = Select_All_Animals();
foreach (DataRow animal in animals.Rows)
{
    int worstMood = 10; //Super Happy!
    DataTable friendRecords = Select_Comp_Animal_AnimalFriend((int)animal["AnimalID"]);
    foreach (DataRow friend in friendRecords.Rows)
    {
        DataTable animalFriends = Select_AnimalFriend((int)friend["AnimalID_Friend"]);
        foreach (DataRow animalFriend in animalFriends.Rows)
        {
            int animalMood = Get_Animal_Mood((int)animalFriend["Mood"]);
            if (animalMood < worstMood)
            {
                worstMood = animalMood;
            }
        }
    }
} 
```

但这是行不通的，因为动物表没有按顺序遵循已形成的动物朋友层次结构。动物可以随时交朋友！所以 Animal(1) 可能有 Animal(4000) 作为朋友。Animal(1) 不会显示准确的情绪，因为它会在 Animal(4000) 的情绪自行更新之前检查 Animal(4000) 的情绪。每天都有新的动物被丢弃。我认为解决方案可能是一种常见的算法设计，但我一直无法找到它。我不相信我有正确的术语来准确搜索它。

非常感谢，很抱歉，如果这已经得到回答！

**添加：**

这是可能的关系的 ghetto Paint 图表：

![像一个无环图](../Images/2207d88290d76e3f37b33ec89f97fd6f.png)

反社会动物处于最底层，没有属于它们的朋友。正常的动物在上面的任何地方。正常的动物友谊没有确切的结构，除了（正如塞巴斯蒂安指出的那样）不可能有一个闭环（如果设计正确）。

每周将增加数十万只动物，处理速度是一个关键因素。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:01:09.663

首先抓住所有反社会动物，然后将它们从最不快乐到最快乐排序。将所有社交动物的快乐初始化为最大值（这使一切变得更容易，因为您不必检测以前不快乐的动物何时变得更快乐）。然后只需遍历列表并在友谊链上传播幸福水平：

```
void UpdateFarm()
{
    // Start with a list of antisocial animals from least to most happy.
    var antisocialAnimals = GetAntisocialAnimals().OrderBy(x => x.Happiness);

    // Initialise the social animals to the global maximum. Note the
    // global maximum is the happiest antisocial animal. This is done to
    // avoid the case where an antisocial animal's happiness has increased,
    // so some of the social animals are too unhappy.
    var maxHappiness = antisocialAnimals.Last().Happiness;
    var socialAnimals = GetSocialAnimals();
    foreach (var socialAnimal in socialAnimals)
        socialAnimal.Happiness = maxHappiness;

    // Now iterate from least to most happy, propagating up the friend chain.
    foreach (var antisocialAnimal in antisocialAnimals)
        UpdateFriends(antisocialAnimal);
}

// To propagate a happiness change, we just find all friends with a higher
// happiness and then lower them, then find their friends and so on.
void UpdateFriends(Animal animal)
{
    var friends = GetFriends(animal); // Friends with this animal, not friends of.

    foreach (var friend in friends.Where(x => x.Happiness > animal.Happiness))
    {
        friend.Happiness = animal.Happiness;

        // Since this friend's happiness has changed, we now need to update
        // its friends too.
        UpdateFriends(friend);
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-04T05:17:40.580

好问题。所以，如果我理解正确，你基本上有带循环的有向图。您可以将每个动物视为一个节点（顶点），它具有其情绪所依赖的动物的出边，以及它影响情绪的动物的传入边。显然，反社会动物只会有传入的边缘。

如果你这样想，你会注意到两件事

1）您可以设计一个迭代算法，它将扫描所有动物，检查每个动物是否有任何仅针对反社会或已处理动物的传出边缘，如果是，我们计算动物的情绪，并将其标记为已处理. 如果没有，我们就在本次迭代中跳过它。

2）因为你的图中可以有循环，所以这个算法不会总是完成。也就是说，您可能有动物 A 取决于 B，B 取决于 C 和 C 取决于 A。如果您有简单的逻辑，就像您的情况一样，最低情绪获胜，您可以通过分配给所有人来检测和解决这些循环循环中的动物 - 在这种情况下 A，B，C 最低的共同情绪。

希望能帮助到你！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T05:30:34.297

有趣的问题。如果我理解正确，如果是单向朋友（入站），每只动物的幸福就是所有人幸福的最小值。

如果是这样，那么挑战是动物的每个朋友的幸福都取决于他们的朋友等等，所以从哪里开始。

这是我乍一看的想法......

由于每天都有新的动物出现，所以您需要每天从新开始，并且需要从开始时幸福感最低的动物开始。很容易找到这些，然后将这种快乐传播给他们是朋友的所有动物，相应地调整这些快乐水平。然后取出所有调整过的动物并重复，直到没有更多的动物被调整过。一旦该幸福水平被完全传播，移动到下一个最高幸福水平并重复，直到处理完剩余的最高幸福水平。

一个有趣的观点是，如果有的话，哪些动物是反社会的并不重要。它们只是没有影响输入的动物，因此不会通过此过程进行调整。

我认为这会让你到达你想去的地方，而且编码应该一点也不难。

希望能帮助到你。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T06:20:12.217

*   如果反社会动物的情绪绝对最低，那么它的所有朋友和朋友的朋友都会继承其压倒一切的坏情绪。
*   如果反社会动物的情绪是第二绝对最低的，那么它的所有朋友和朋友的朋友都将继承它的情绪，前提是他们还不是绝对最低的朋友/朋友的朋友。情绪动物
*   ...

因此，这建议使用以下算法：

首先，将社交动物的情绪设置为 MAX_MOOD，然后循环遍历反社交动物以增加情绪并递归更新其所有朋友和朋友的朋友的情绪。如果在递归期间您没有更新情绪，那么您可以停止递归，这就是为什么您会按照情绪增加的顺序循环：尽可能多地“阻止”未来的递归。

这类似于 Sebastian K 的“标记为已处理”，尽管您不需要保留已处理内容的单独列表，因为情绪本身包含此信息。这也将实现他对循环问题的解决方案，因为递归将遍历循环一次并停止。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-04T06:43:29.457

已经有其他更合适的答案了，但我将把它作为一个有趣的思想实验扔出去——在数据库中做这件事会很麻烦，而且效率极低：

任何动物的幸福程度都是当前幸福的关系，被它的朋友“拉”或“推”。

因此，一只动物的幸福水平的变化会引起一波可能影响所有动物的调整浪潮。

将“友谊图”想象成一堆通过弹簧连接到其他盒子的盒子。盒子显然代表动物，弹簧对邻近动物产生“影响”。

拉一个盒子，一波运动从被移动的盒子里展开；这反过来最终会导致反向连锁反应——我让你更快乐，所以随着时间的推移，你最终会因为这种关系的影响让我更快乐（或更悲伤）。

“但它会永远自我调整，不会进入稳定状态！” 输入一个“摩擦”术语，它可以抵消微小的运动（比如在某个阈值下，“拉”不能克服悲伤/快乐的惯性）。

听起来很像 Craig whats-his-name 的 Boids 的集群行为。（需要参考） - 再次，我必须强调这对于你想要做的事情来说绝对不是最佳的，但我总是喜欢从多个角度看待一个问题。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-04T10:58:20.513

听起来像家庭作业，但我会尝试一下，我从其他人那里得到一两个想法：

```
public void MoodCalculator()
{

 /** Reasoning:
 * 
 * The unidirectional cyclic graph can be also expressed as multiple friend 
 * trees where
 * anti-social animal is the root node of a friend tree. Because a social animal's
 * mood is that of its lowest mood friend this means that regardless of the 
 * tree depth of an animal
 * it's mood is that of the mood of the lowest mood antisocial animal 
 * who's tree it is a member of.  
 * 
 * */

  SortedList<int, List<Animal>> moodGroups = new SortedList<int, List<Animal>>();

  HashSet<Animal> allAnimals = new HashSet<Animal>();

  //get all antisocial animals and group according to mood
  //work from low to high mood
  forach(Animal a in GetAllAntiSocialAnimalsFromDb()) 
  {
     if(!moodGroups.ContainsKey(a.Mood)) moodGroups.Add(a.Mood, new List<Animal>());
     moodGroups[a.Mood].Add(a);
  }

  foreach(var item in moodGroups)
  {
     //add our root antisocial animals to master group
     foreach(Animal a in item.Value) allAnimals.Add(a);

     //recurse over tree starting at antisocial animal roots
     TreeRecurse(item.Value, allAnimals, item.Key);
  }

 }

 public void TreeRecurse(List<Animal> children, List<Animal> allAnimals, int mood)
 {
    //can look for list as we are just grouping everything and don't care about tree 
    //structure
    //db call should only get unique/distinct animals
    List<Animal> parentAnimals = GetParentAnimalsOfChildAnimalListFromDb(children);
    //remove animals from from parents if they are already in the allAnimal set
    //working from low mood to high we can ignore animals that have appeared in a 
    //lower mood tree
    parentAnimals.RemoveAll(a => allAnimals.Contains(a));
    //add animals to allAnimals and set mood
    foreach (Animal a in parentAnimals)
    {
       a.Mood = mood;
       allAnimals.Add(a);
    }
    //end recurse
    if (parentAnimals.Count == 0) return;
    //recurse
    else TreeRecurse(parentAnimals, allAnimals, mood);
   } 
```

# telerik - Rad Grid 编辑表单控件验证

> ID：14151291
> 
> 赞同：0
> 
> 时间：2013-01-04T04:57:55.627
> 
> 标签：telerik, telerik-grid

我是 Teleriks 的新手。无论如何我想验证编辑表单中的文本框。我也想使用一些正则表达式。我该怎么做？有什么地方可以添加正则表达式吗？请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T15:55:25.737

如果您使用的是 radgrid，您可以在此处采取多种方式检查：

[http://www.telerik.com/help/aspnet-ajax/grid-validation.html](http://www.telerik.com/help/aspnet-ajax/grid-validation.html)

# android - android按钮点击事件对我不起作用

> ID：14151295
> 
> 赞同：0
> 
> 时间：2013-01-04T04:58:37.047
> 
> 标签：android, button, android-relativelayout

我有一个具有相对布局的android应用程序，我在其中放置了一个像这样的按钮控件

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >    
<Button
        android:id="@+id/btnCalc"
        style="?android:attr/buttonStyleSmall"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="708dp"
        android:layout_marginLeft="50dp"
        android:text="@string/btncalc" />
</RelativeLayout> 
```

为了测试事件，我在这个按钮的点击事件上放了烤面包，就像这样

```
btncalcu=(Button)findViewById(R.id.btnCalc);
        btncalcu.setOnClickListener(new Button.OnClickListener(){
            @Override
            public void onClick(View v)
            {
                Toast.makeText(getBaseContext(), "a", Toast.LENGTH_LONG).show();
                //calc();
            }

        }); 
```

问题是，当我运行应用程序时，没有错误或任何异常，但也没有显示任何内容`Toast`。任何可以猜出问题可能是什么。请帮助！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T05:01:02.367

只需尝试这种方式，看看它是否有效，

```
 btncalcu.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
             Toast.makeText(getBaseContext(), "a", Toast.LENGTH_LONG).show();

        }
    }); 
```

并确保您已导入以下内容，

```
import android.view.View.OnClickListener; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T05:15:50.913

试试这个。

```
btncalcu=(Button)findViewById(R.id.btnCalc);
btncalcu.setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        Toast.makeText(MainActivity.this, "Calculation Button clicked", Toast.LENGTH_LONG).show();
    }
}); 
```

并导入这一行

```
import android.view.View.OnClickListener; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T05:14:59.777

试试这种方式：

> ```
> btncalcu=(Button)findViewById(R.id.btnCalc);
>     btncalcu.setOnClickListener(new View.OnClickListener(){ <---Change `View.Onclick` instead of `Button`
>         @Override
>         public void onClick(View v)
>         {
>             Toast.makeText(YourActivity.this, "a", Toast.LENGTH_LONG).show();
>             //calc();
>         }
>     }); 
> ```

并确保您已导入以下内容，

`import android.view.View.OnClickListener;`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-11-18T19:29:56.603

只需1个小费

检查按钮是否启用

在xml中

> 机器人：启用=“假”

到

> 安卓：启用=“真”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T05:01:52.393

`YourActivity.this`用作上下文，不要使用`getBaseContext()`.

```
btncalcu=(Button)findViewById(R.id.btnCalc);
        btncalcu.setOnClickListener(new Button.OnClickListener(){
            @Override
            public void onClick(View v)
            {
                Toast.makeText(YourActivity.this, "a", Toast.LENGTH_LONG).show();
                //calc();
            }

        }); 
```

上下文用于告诉应用程序在哪里显示 Toast，因此建议使用当前活动。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-04T05:02:36.897

而不是使用`getBaseContext()`，使用您拥有的上下文`v.getContext()`。

解析度：

```
Toast.makeText(v.getContext(), "a", Toast.LENGTH_LONG).show(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-04T05:08:19.910

```
btncalcu=(Button)findViewById(R.id.btnCalc);
        btncalcu.setOnClickListener(new Button.OnClickListener(){
            @Override
            public void onClick(View v)
            {
                Toast.makeText(yourActivityclassname.this, "a", Toast.LENGTH_LONG).show();
                //calc();
            }

        }); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-04T05:11:33.983

像这样使用：

```
btncalcu..setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
             Toast.makeText(getApplicationContext(), "Clicked Button", Toast.LENGTH_LONG).show();

            // or

             Toast.makeText(YourActivityname.this, "Clicked Button",, Toast.LENGTH_LONG).show();
        }
    }); 
```

为我工作。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-01-04T05:18:18.347

解决这个问题的方法：

1.

```
btncalcu=(Button)findViewById(R.id.btnCalc);
        btncalcu.setOnClickListener(new OnClickListener(){
            @Override
            public void onClick(View v)
            {
                Toast.makeText(YourActivityname.this, "a", Toast.LENGTH_LONG).show();
                //calc();
            }

        }); 
```

2.

```
 btncalcu=(Button)findViewById(R.id.btnCalc);
            btncalcu.setOnClickListener(new OnClickListener(){
                @Override
                public void onClick(View v)
                {
                    Toast.makeText(getBaseContext(), "a", Toast.LENGTH_LONG).show();
                    //calc();
                }

            }); 
```

并且必须检查您是否导入了此导入：

```
android.view.View.OnClickListener; 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-01-04T05:30:17.633

使用`View.OnClickListener()`而不是`Button.OnClickListener()`. 它会解决你的问题

也`getBaseContext()`毫无疑问对你有用，但最好使用`ActivityName.this`for `Toasts`，以防止任何内存泄漏。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-02-01T08:38:17.490

如果您使用的是 listView，请检查是否对其应用了任何海拔。我做了同样的事情，并且在 listView 顶部有浮动按钮，因此该按钮从未被点击过。除非您检查 xml 文件，否则您无法弄清楚。我写的代码仅供您参考。

移除高程并执行 onClick。很合乎逻辑，在你这样做之后工作。

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <ListView
        android:id="@+id/fullListViewToDo"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:divider="#F3F3F3"
        android:dividerHeight="8.0sp"
        app:layout_behavior="@string/appbar_scrolling_view_behavior"
        android:drawSelectorOnTop="false"
        android:elevation="8dp">

    </ListView>

    <RelativeLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:id="@+id/todo_fragmentContainer">

    </RelativeLayout>

    <android.support.design.widget.FloatingActionButton android:id="@+id/fab"
        android:layout_width="wrap_content" android:layout_height="wrap_content"
        android:layout_gravity="bottom|end" android:layout_margin="@dimen/fab_margin"
        android:src="@android:drawable/ic_input_add"
        android:layout_alignParentEnd="true"
        android:layout_alignParentBottom="true" />

</RelativeLayout> 
```

# java - Selenium 有哪些替代品？

> ID：14151297
> 
> 赞同：3
> 
> 时间：2013-01-04T04:59:00.180
> 
> 标签：java, html, ruby, selenium, automation

有哪些可用的 Web UI 自动化框架？

我知道[这个问题](https://stackoverflow.com/questions/426190/selenium-alternatives)，但它是在 3 年前提出的，从那时起情况发生了很大变化。我只是想知道该问题的答案是否仍然相关，或者从那以后开发了更新更好的工具。

我再次问这个问题是因为在进行了一些谷歌搜索之后，我偶然发现了诸如[Geb](http://www.gebish.org/)和[Capybara](http://jnicklas.github.com/capybara/)之类的工具，这些工具在该问题中没有被提及作为答案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-12-13T13:44:11.110

> 从那以后，开发了更新更好的工具。

看一下[TestCafe](https://devexpress.github.io/testcafe/)测试框架。它在任何现代浏览器和任何设备上运行功能测试。不需要 WebDriver。

TestCafe 是一个纯 node.js 解决方案。

*   它可以很容易地安装（`npm install -g testcafe`就足够了）。
*   无需浏览器插件和其他配置即可工作。
*   用 ES6 和 ES7 JS 语法编写测试。
*   具有智能等待系统，因此无需额外等待即可快速运行异步测试。
*   可以轻松集成到您的 CI 系统中。
*   支持在远程机器、设备和云上运行测试。
*   [免费和开源](https://github.com/DevExpress/testcafe)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:11:34.383

您可以将[WATIR](http://watir.com/)与 Cucumber 一起使用。Infact facebook 使用[watir](http://watir.com/)进行 UI 自动化。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T08:36:52.150

我肯定会坚持使用 Selenium、[TestNG](http://testng.org/doc/index.html)（以及用于工业化的 Selenium Grid）。

如果你想要稍微低一点的东西，你也可以看看[HtmlUnit](http://sourceforge.net/projects/htmlunit/)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-07T14:03:24.277

IBM Rational Functional Tester（IE 和较旧的 firefox 构建）或 QA 向导。
RFT 在 Java/Eclipse 上运行。

[https://stackoverflow.com/a/13024991/423955](https://stackoverflow.com/a/13024991/423955)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-21T16:07:13.140

Sahi (http://sahi.co.in/) 应该是硒的最佳替代品。sahi 脚本可以使用 java 或 javascript，也可以使用 php 和 ruby​​ 驱动程序（没有使用 Ruby 或 php 的个人经验）。跨浏览器和跨平台非常有效。

一些可爱的功能是： 不需要明确的等待。对于元素识别 _near、_under、_in 等 ApI 非常有用。记录/报告，功能内置于 Sahi。运行 Sahi 脚本无需复杂的配置

# ruby - 在 Rack 应用程序中返回由换行符分隔的字符串

> ID：14151302
> 
> 赞同：2
> 
> 时间：2013-01-04T04:59:51.837
> 
> 标签：ruby, sinatra, rack

我有一个 Sinatra 应用程序和一个方法

```
get '/page123' do
  "string1\nstring2"
end 
```

如果我去`'/page123'`，我只会看到`string1 string2`它们之间没有换行符的一串。

我如何将它们显示为

```
string1
string2 
```

?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:12:19.930

由于`<br>`标签似乎对您不起作用，请尝试以下操作：

```
get '/page123' do
  content_type 'text/plain'
  "string1\nstring2"
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:42:06.333

如果您查看 HTML 的源代码，`string1 string2`实际上将是`string1\nstring2`，但正如预期的那样，`\n`除了它的换行符和开始一个新行的效果外，它是一个换行符并且不可见。

浏览器会掩盖（AKA 忽略）嵌入的回车符，而是只尊重像`<p>`and之类`<br>`的标签，除非文本嵌入在`<pre>`块内。尝试将以下内容复制到文本文件中并在浏览器中打开：

```
<html>
<body>
<pre>
string1
string2
</pre>
<p>string1<br>string2</p>
</body>
</html> 
```

它们都将在不同的行上以不同的字体显示这两个词。两者都是在 HTML 中强制换行的有效方法。

了解浏览器显示 HTML 的方式对您很有帮助。他们不将其视为文本，因为它不是。HTML 是浏览器解释并使用标签作为关于如何呈现文本的说明的语言。

# webdriver - 如何在 webdriver 中关注 javascript 动态窗口

> ID：14151308
> 
> 赞同：2
> 
> 时间：2013-01-04T05:01:05.500
> 
> 标签：webdriver, selenium-webdriver

光标如何在页面加载时专注于特定的输入框？

按钮是“添加新约会”，脚本是：

```
<input type="button" onclick="open_win()" value="add new appointment"/>

 WebElement ek = driver.findElement(By.xpath("//input[@value='add new appointment']"));
 jse.executeScript("arguments[0].click();", ek); 
```

这将打开一个弹出窗口。现在我需要专注于窗口。
Ajax 用于从此弹出窗口中检索信息。
我尝试了各个方面来专注于新的弹出窗口。输入 txt 字段是隐藏的，我尝试过的代码是：

```
jse.executeScript("window.focus();");

driver.switchTo().defaultContent();

driver.switchTo().activeElement().findElement(By.xpath("//*[@id='barge:bargeId:txtInput']"));

driver.switchTo().alert(); 
```

我想用以下代码关注文本字段：

```
jse.executeScript("document.getElementById('barge:bargeId:txtInput')[0].setAttribute('type', 'text');");
                driver.findElement(By.xpath("//*[@id='barge:bargeId:txtInput']")).sendKeys("suxs"); 
```

这也没有奏效。
甚至`jse.executeScript("document.title")`没有工作。
文本字段的代码

```
<span id="barge:bargeId:input">
  <input id="barge:bargeId:txtInput" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all inputbox doubleInputbox ui-state-hover" type="text" tabindex="" maxlength="17" accesskey="" name="barge:bargeId:txtInput" role="textbox" aria-disabled="false" aria-readonly="false" aria-multiline="false"/>
</span> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T15:40:06.190

1.  点击按钮，您可以简单地执行以下操作：`driver.findElement(By.xpath("//input[@value='add new appointment']")).click();`

2.  通过说“*这会打开一个弹出窗口*”，您是指像[这样](http://jqueryui.com/dialog/)或这样[的](http://www.primefaces.org/prime-ui/dialog.html)实际新窗口、新选项卡或对话框吗？

我认为它打开了`dialog`，在这种情况下，它通常只是页面上的另一个元素。在这种情况下，这应该有效：

```
driver.findElement(By.xpath("//*[@id='barge:bargeId:txtInput']")).sendKeys("suxs"); 
```

**更新：**
由于它是一个新窗口，因此可以切换到[此处描述](http://seleniumhq.org/docs/03_webdriver.jsp#moving-between-windows-and-frames)的新窗口：

```
driver.switchTo().window("windowName"); 
```

`open_win()`此外，检查javascript 函数的代码也会很有帮助。

# java - 如何将 StringTokenizers 中的分隔符添加到单独的字符串中？

> ID：14151309
> 
> 赞同：0
> 
> 时间：2013-01-04T05:01:07.593
> 
> 标签：java, string, tokenize

我正在输入一个字符串，我想将该字符串中的分隔符添加到另一个字符串中，我想知道您将如何做到这一点。这是我目前拥有的代码。

```
StringTokenizer tokenizer = new StringTokenizer(input, "'.,><-=[]{}+!@#$%^&*()~`;/?");
while (tokenizer.hasMoreTokens()){
      //add delimeters to string here
} 
```

任何帮助将不胜感激（：

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:30:47.060

这甚至可以处理分隔符的重复使用

```
String input = "adfhkla.asijdf.';.akjsdhfkjsda";
String compDelims = "'.,><-=[]{}+!@#$%^&*()~`;/?";
String delimsUsed = "";
for (char a : compDelims.toCharArray()) {
    if (input.indexOf(a) > 0 && delimsUsed.indexOf(a) == -1) {
         delimsUsed += a;
    }
}
System.out.println("The delims used are " + delimsUsed); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:18:34.210

我不认为 StringTokenizer 适合这个任务，试试

```
 StringBuilder sb = new StringBuilder();
    for(char c : input.toCharArray()) {
        if ("'.,><-=[]{}+!@#$%^&*()~`;/?".indexOf(c) >= 0) {
            sb.append(c);
        }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T05:25:18.590

我猜你想从字符串中提取所有分隔符并处理它们

```
String allTokens = "'.,><-=[]{}+!@#$%^&*()~`;/?";
StringTokenizer tokenizer = new StringTokenizer(input, allTokens, true);
while(tokenizer.hasMoreTokens()) {
    String nextToken = tokenizer.nextToken();
    if(nextToken.length()==1 && allTokens.contains(nextToken)) {
        //this token is a delimiter
        //append to string or whatever you want to do with the delimiter
        processDelimiter(nextToken);
    }
} 
```

创建一个 processDelimiter 方法，在该方法中将分隔符添加到不同的字符串或执行您想要的任何操作。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T05:07:33.097

如果要`StringTokenizer`返回它解析的分隔符，则需要向构造函数添加一个标志，如下[所示](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/StringTokenizer.html#StringTokenizer%28java.lang.String,%20java.lang.String,%20boolean%29)

```
StringTokenizer tokenizer = new StringTokenizer(input, "'.,><-=[]{}+!@#$%^&*()~`;/?", true); 
```

但是，如果您只搜索分隔符，我认为这不是正确的方法。

# ios - iOS：将旧应用程序更新为 Retina 图形 (TweeJump)

> ID：14151310
> 
> 赞同：2
> 
> 时间：2013-01-04T05:01:09.850
> 
> 标签：ios, cocos2d-iphone, 2d-games

我是该网站的新手，也是 iOS 开发的新手，但我有其他开发平台的经验。

我一直在研究和使用 TweeJump 源代码，我想将其更新为 Retina 图形，我自己制作了，但我不确定如何正确实现它们。这样做会切断对非视网膜 iPhone 的支持吗？

有些图像是精灵，我不熟悉。

如果我只是将所有图像都更改为高分辨率图像，会出现什么问题，我该如何解决？

请原谅我的初学者知识。我将非常感谢您提供的任何帮助。

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T11:32:50.153

如果您有图像的原始非光栅化（例如矢量）图形，则更新您的游戏以支持 Retina 显示很容易。只需将图形导出为 SD 图像的两倍大，然后附加`-hd`（或`-ipadhd`对于 iPad）到扩展名之前的文件名部分。只要确保您的应用程序委托调用`[[CCDirector sharedDirector] enableRetinaDisplay:YES]`，您就可以开始了。

> 这样做会切断对非视网膜 iPhone 的支持吗？

绝对不。只要您保留 SD 图像。

> 有些图像是精灵，我不熟悉。

你的意思是“精灵表”？这是您需要访问每个单独精灵的原始矢量图形的情况之一。另外，您需要使用精灵表编辑器来生成精灵表的高清版本。我推荐[TexturePacker](http://www.codeandweb.com/texturepacker)。

> 如果我只是将所有图像都更改为高分辨率图像，会出现什么问题，我该如何解决？

确保也保留 SD 版本。可能出现的问题之一是，如果您的 SD 版本的 spritesheet 大小大于 1024 x 1024。HD 版本的尺寸将大于 OpenGL ES 1.1 无法支持的 2048 x 2048。您需要将 spritesheet 分成更多部分或转换为 OpenGL ES 2.0（即转换为 cocos2d-iphone 2.x）。

# sharepoint - Linqpad 无法连接到 Sharepoint

> ID：14151312
> 
> 赞同：1
> 
> 时间：2013-01-04T05:01:12.657
> 
> 标签：sharepoint, dtd, linqpad

我正在尝试创建到 SharePoint Server 的列表服务的 LinqPad 连接。我已选择 WCF Data Services 5.1 (OData 3) 作为数据上下文，并选择[http://sharepoint.host.com/_vti_bin/Lists.asmx](http://sharepoint.host.com/_vti_bin/Lists.asmx)作为 URL

我收到以下错误：XmlException：出于安全原因，此 XML 文档中禁止使用 DTD。要启用 DTD 处理，请将 XmlReaderSettings 上的 DtdProcessing 属性设置为 Parse 并将设置传递给 XmlReader.Create 方法。

我是否使用凭据都没有关系。

这个错误的原因是什么？这个错误的根源是什么？我看不到如何更改 XmlReaderSettings 中的属性。这是服务器上的安全配置吗？这个问题有解决方案或解决方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T10:50:37.120

请尝试连接到 /_vti_bin/ListData.svc

# c++ - DirectX 10 绘制 .PNG

> ID：14151313
> 
> 赞同：1
> 
> 时间：2013-01-04T05:01:20.910
> 
> 标签：c++, visual-studio-2010, directx

我正在寻找有关如何使用 DirectX 10 绘制 .PNG 的教程，尽管我没有运气。有谁知道我在哪里可以找到有关此的更多信息？我想创建一个 2D 游戏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T14:09:25.493

您可以将 png 作为纹理加载并以与渲染其他图像相同的方式进行渲染。对于透明度，您可以使用通过 Renderstates 启用的 Alphablending。（[教程](http://www.rastertek.com/dx10tut11.html)，仅谷歌搜索未测试）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T22:51:11.487

您可以使用`D3DX10CreateShaderResourceViewFromFile`从 PNG 文件创建着色器资源视图。[本](http://takinginitiative.net/2008/11/29/directx-10-tutorial-3-textures/)教程解释了它是如何工作的。

简而言之：

*   创建着色器以绘制矩形
*   创建顶点布局
*   创建一个顶点缓冲区来存储矩形的顶点
*   创建一个采样器对纹理进行采样
*   创建纹理对象
*   绘制场景

# linux - Bash 脚本：“$(command)”和“command”之间的区别

> ID：14151314
> 
> 赞同：-1
> 
> 时间：2013-01-04T05:01:20.583
> 
> 标签：linux, bash, scripting, sh

> **可能重复：**
> [命令替换：反引号或美元符号/括号？](https://stackoverflow.com/questions/9405478/command-substitution-backticks-or-dollar-sign-paren-enclosed)

我想知道使用之间的区别

```
var="$(command)" 
```

和

```
var=`command` 
```

在 bash 脚本中，显然有两种方法可以获得相同的结果，但可能存在一些差异。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:04:52.177

第一个更好，因为您可以嵌套命令替换并且它不会变得尴尬。

[进一步阅读](http://www.c3.hu/docs/oreilly/unix/upt/ch45_31.htm)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:05:07.903

从[bash 手册页](http://www.gnu.org/software/bash/manual/bashref.html#Command-Substitution)：

> 当使用旧式反引号形式的替换时，反斜杠保留其字面含义，除非后面跟着“$”、“`”或“\”。前面没有反斜杠的第一个反引号终止命令替换。使用 $(command) 形式时，括号之间的所有字符组成命令；没有人受到特殊对待。

（那里有更多有趣的事情；请阅读整件事:)）

# php - 未定义字体：在 Fpdf 中

> ID：14151317
> 
> 赞同：8
> 
> 时间：2013-01-04T05:01:30.340
> 
> 标签：php, database, pdf, smarty, fpdf

我是 Fpdf 库的新手，我需要从 smarty 的数据库中创建一个 pdf。我检查了数据库中的数据很好，当传递字体名称时显示以下错误

```
Warning: in_array() expects parameter 2 to be array, null given in /var/www/html/irmt/library/class/fpdf/fpdf.php on line 526
<b>FPDF error:</b> Undefined font: helvetica B 
```

我的代码是

```
 $pdf->AddPage();
            $pdf->SetFont('Arial','B',14);
            $pdf->FancyTable($result);
            $pdf->Output(); 
```

请帮助我如何解决这个问题。谢谢

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-01-07T07:12:11.737

我认为您在 pdf 创建中的 __construct 有问题，试试这个

```
 require_once("fpdf.php");
    class pdf extends FPDF
    {
      function __construct()
       {
          parent::FPDF();
       }
    } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-11-13T01:36:56.690

那是因为您调用了 fpdf 库的构造函数，将 fpdf 库函数（参数）更改为 __ 构造（参数），然后将其从文件中传播。示例：文件：genpdf.php

```
<?php 
include('fpdf.php');
class Genpdf extends Fpdf{
    public function __construct()
    {
       parent::__construct();
    }
    public function build()
    {
       $this->AddPage();
       $this->SetFont('Arial','B',16);
       $this->Cell(40,10,'¡Hola, Mundo!');
       $this->Output();
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T05:17:01.300

尝试删除 $pdf->FancyTable($rs); 行 并检查您是否收到 PDF。

# asp.net - System.Web.dll 中的 StackOverlow 异常

> ID：14151318
> 
> 赞同：0
> 
> 时间：2013-01-04T05:01:40.137
> 
> 标签：asp.net, iis, system.web

所以我犯了一个愚蠢的错误，我调用了 myControl.Controls.Add(myControl);。很容易。有趣的是，这会导致 IIS 崩溃，并且在实际框架中抛出异常。我什至没有打破并让我调试，它就崩溃了。

.NET 框架似乎应该比以前更好地处理这件事。还是应该？这种预期的行为是这样的错误，还是调试器可以更优雅地处理它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:25:55.403

这是记录在案的行为 - 请参阅[MSDN 上的文档](http://msdn.microsoft.com/en-us/library/system.stackoverflowexception.aspx)

这是相关的报价：

> 从 .NET Framework 2.0 版开始，StackOverflowException 对象无法被 try-catch 块捕获，并且默认情况下会终止相应的进程。

**编辑：**
从调试的角度来看，显然没有堆栈跟踪，如果问题是可重现的，那么相关的代码演练（或在实际异常发生之前进行调试）可能会查明问题。另一种方法可能是使用[IIS 调试诊断工具](http://support.microsoft.com/kb/919789)并获取错误详细信息和故障转储。请参考这个[SO answer](https://stackoverflow.com/questions/4733878/how-to-debug-a-stackoverflowexception-in-net)，它似乎暗示了类似的方式。

# c# - Windows RT - 按钮单击事件是否在 UI 线程上执行？

> ID：14151322
> 
> 赞同：1
> 
> 时间：2013-01-04T05:02:02.873
> 
> 标签：c#, xaml, windows-8, windows-runtime, winrt-xaml

我的 xaml 中有一个按钮单击事件，该事件触发：

```
 private void Button_Click(object sender, Windows.UI.Xaml.RoutedEventArgs e){
     StoryBoardName.begin()
 } 
```

我很好奇我是否应该像这样包装这个“StoryBoardName.begin()：

```
var dispatcher = Windows.UI.Core.CoreWindow.GetForCurrentThread().Dispatcher;
dispatcher.RunAsync(CoreDispatcherPriority.Normal, () =>{
    StoryBoardName.Begin();
}); 
```

或者如果那只是多余的？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:10:29.827

是的。UI 引发的事件在 UI 线程上进行处理。

事实上，由于线程的设置方式 (SyncronizationContext)，您甚至可以使用[async/await](http://blogs.msdn.com/b/pfxteam/archive/2012/04/12/10293335.aspx)在其他线程上执行异步工作，但仍然可以根据需要在 UI 线程上运行 UI 代码，而不会增加太多复杂性。

```
private async void Button_Click(object sender, Windows.UI.Xaml.RoutedEventArgs e)
{
    StoryBoardName.Begin();
    IsEnabled = false;
    await webClient.GoGetAWebpageAsync();
    IsEnabled = true;
} 
```

# android - 广播接收器和服务有什么区别？

> ID：14151323
> 
> 赞同：2
> 
> 时间：2013-01-04T05:02:13.653
> 
> 标签：android

我为广播接收器和服务编写了程序，但我在清单文件中感到困惑，有一些注册服务和接收器的基础工作，有人能给我明确的想法吗？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:17:03.823

## 服务

*   当您想在后台做某事时使用它，任何长时间运行的进程都可以使用后台服务完成。

*   即使应用程序关闭，它也将始终在后台运行

*   例如，您想在应用程序关闭时播放音乐。在这种情况下，服务将在背景音乐中运行。

## 广播接收器

*   当您想在某些事件期间触发某些东西或代码时使用它。例如，事件可以在设备启动上。

*   通常系统会发送一些信息，如果您愿意，您的应用可以通过注册接收这些信息。当事情发生时，您可以使用 onReceive 方法做您想做的事情。示例是系统将在新短信到达或启动完成时发送 BroadcastReceiver

*   例如，如果您想在设备启动时执行某些操作，日期和时间更改等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:10:13.810

服务用于在没有用户交互的情况下执行长时间运行的操作或为其他应用程序提供功能。

```
A Service needs to be declared in the AndroidManifest.xml via  
a <service android:name="yourclasss"> </service> and the implementing class  
must extend the Service class or one of its subclasses.  

To start Services automatically after the Android system starts you can register  
a BroadcastReceiver to the Android android.intent.action.BOOT_COMPLETED system  
event. This requires the android.permission.RECEIVE_BOOT_COMPLETED permission. 
```

有关更多详细信息，请查看此[http://www.vogella.com/articles/AndroidServices/article.html#pre_broadcastreceiver](http://www.vogella.com/articles/AndroidServices/article.html#pre_broadcastreceiver)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T05:12:50.713

广播接收器是允许注册系统或应用程序事件的 Android 组件。一旦该事件发生，Android 将通知所有已注册的事件接收者。

服务是一个应用程序组件，它代表应用程序希望在不与用户交互的情况下执行更长时间运行的操作，或提供功能供其他应用程序使用。

在这里解释这一切会很长我有两个来自vogella的很棒的教程链接

[广播接收器](http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html)

[服务](http://www.vogella.com/articles/AndroidServices/article.html)

如果您在阅读教程后还有其他问题，请随时在评论中问我 :)

# autohotkey - SCITE4Autohotkey：按 F5 后重新加载脚本的热键？

> ID：14151324
> 
> 赞同：-1
> 
> 时间：2013-01-04T05:02:17.050
> 
> 标签：autohotkey

在 SCITE4auto 热键中，我知道您可以按 F5 来运行脚本。但完成此操作后，您不能再次按 F5 重新加载脚本。是否有可以随时重新加载脚本的热键？我不知道它是什么版本，但我记得有一个版本，我可以随时按 ctrl shift R，它会为我重新加载脚本。

但是在最新版本中，键盘快捷键可以做其他事情。有谁知道随时重新加载脚本的热键？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:21:30.850

这就是我使用的：Ctrl+Win+Alt+e = 编辑和 Ctrl+Win+Alt+r = 保存并重新加载。

```
^!#e::Edit   ; Edit the script by Alt+Ctrl+Win+e, set SCITE4 as default editor first

$^!#r::
Send, ^s
Sleep, 500
Reload ; Reload the script
Return 
```

# machine-learning - 需要用于欺诈检测的数据集

> ID：14151327
> 
> 赞同：23
> 
> 时间：2013-01-04T05:02:26.367
> 
> 标签：machine-learning, dataset, outliers, fraud-prevention

我有一个欺诈检测算法，我想检查它是否适用于真实世界的数据集。

我的算法表明索赔是否正常。

有没有可用的数据集？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-04T06:38:55.140

以下是我发现的一些可能相关的数据集。

### 信用欺诈

*   [德国信用欺诈](http://weka.8497.n7.nabble.com/file/n23121/credit_fruad.arff)数据集：采用 weka`arff`格式

### 电子邮件欺诈

*   [安然数据集](https://www.cs.cmu.edu/~./enron/)

### 信用审批

*   [德国信用](http://archive.ics.uci.edu/ml/datasets/Statlog+%28German+Credit+Data%29)数据集@UCI
*   [澳大利亚信贷审批](http://archive.ics.uci.edu/ml/datasets/Statlog+%28Australian+Credit+Approval%29)

### 入侵检测

*   [入侵检测](http://archive.ics.uci.edu/ml/databases/kddcup99/)kddcup99 数据集

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T05:22:48.430

我相信 KDD Cup 就是专门为这类任务而设的。他们有一些免费可用的数据集，通常用于各种欺诈检测论文。

查看[KDD Cup 数据集](http://www.sigkdd.org/kddcup/index.php)

# c++ - 如何正确退出可能正在等待 std::condition_variable 的 std::thread？

> ID：14151328
> 
> 赞同：5
> 
> 时间：2013-01-04T05:02:35.193
> 
> 标签：c++, multithreading, boost, c++11, circular-buffer

我有一个使用互斥锁和两个条件变量进行同步的线程生产者/消费者系统。当有物品要使用时，生产者向消费者线程发出信号，而消费者在消费完物品时向生产者线程发出信号。线程继续生产和消费，直到析构函数通过设置布尔变量要求它们退出。因为任何一个线程都可能在等待条件变量，所以我必须对 quit 变量进行第二次检查，这感觉是错误和混乱的......

我已将问题简化为以下（使用 g++4.7 在 GNU/Linux 上工作）示例：

```
// C++11and Boost required.
#include <cstdlib> // std::rand()
#include <cassert>

#include <boost/circular_buffer.hpp>

#include <atomic>
#include <chrono>
#include <condition_variable>
#include <iostream>
#include <mutex>
#include <thread>
#include <vector>

// Creates a single producer and single consumer thread.
class prosumer
{
    public:
        // Create the circular buffer and start the producer and consumer thread.
        prosumer()
            : quit_{ false }
            , buffer_{ circular_buffer_capacity }
            , producer_{ &prosumer::producer_func, this }
            , consumer_{ &prosumer::consumer_func, this }
        {}

        // Set the quit flag and wait for the threads to exit.
        ~prosumer()
        {
            quit_ = true;
            producer_.join();
            consumer_.join();
        }

    private:
        // Thread entry point for the producer.
        void producer_func()
        {
            // Value to add to the ringbuffer to simulate data.
            int counter = 0;

            while ( quit_ == false )
            {
                // Simulate the production of some data.
                std::vector< int > produced_items;
                const auto items_to_produce = std::rand() % circular_buffer_capacity;
                for ( int i = 0; i < items_to_produce; ++i )
                {
                    produced_items.push_back( ++counter );
                }

                // Get a lock on the circular buffer.
                std::unique_lock< std::mutex > lock( buffer_lock_ );

                // Wait for the buffer to be emptied or the quit flag to be set.
                buffer_is_empty_.wait( lock, [this]()
                        {
                            return buffer_.empty() == true || quit_ != false;
                        } );

                // Check if the thread was requested to quit.
                if ( quit_ != false )
                {
                    // Don't let the consumer deadlock.
                    buffer_has_data_.notify_one();
                    break;
                }

                // The buffer is locked by this thread. Put the data into it.
                buffer_.insert( std::end( buffer_ ), std::begin( produced_items ), std::end( produced_items ) );

                // Notify the consumer that the buffer has some data in it.
                buffer_has_data_.notify_one();
            }
            std::cout << "producer thread quit\n";
        }

        // Thread entry for the consumer.
        void consumer_func()
        {
            int counter_check = 0;

            while ( quit_ == false )
            {
                std::unique_lock< std::mutex > lock( buffer_lock_ );

                // Wait for the buffer to have some data before trying to read from it.
                buffer_has_data_.wait( lock, [this]()
                        {
                            return buffer_.empty() == false || quit_ != false;
                        } );

                // Check if the thread was requested to quit.
                if ( quit_ != false )
                {
                    // Don't let the producer deadlock.
                    buffer_is_empty_.notify_one();
                    break;
                }

                // The buffer is locked by this thread. Simulate consuming the data.
                for ( auto i : buffer_ ) assert( i == ++counter_check );
                buffer_.clear();

                // Notify the producer thread that the buffer is empty.
                buffer_is_empty_.notify_one();
            }
            std::cout << "consumer thread quit\n";
        }

        // How many items the circular buffer can hold. 
        static const int circular_buffer_capacity = 64;

        // Flag set in the destructor to signal the threads to stop.
        std::atomic_bool quit_;

        // Circular buffer to hold items and a mutex for synchronization.
        std::mutex buffer_lock_;
        boost::circular_buffer< int > buffer_;

        // Condition variables for the threads to signal each other.
        std::condition_variable buffer_has_data_;
        std::condition_variable buffer_is_empty_;

        std::thread producer_;
        std::thread consumer_;
};

int main( int argc, char **argv )
{
    (void)argc; (void) argv;

    prosumer test;

    // Let the prosumer work for a little while.
    std::this_thread::sleep_for( std::chrono::seconds( 3 ) );

    return EXIT_SUCCESS;
} 
```

如果查看 producer_func 和 consumer_func 线程函数，您可以看到它们循环直到退出变量由产消者析构函数设置，但它们在锁定循环缓冲区后还会再次检查退出变量。如果设置了退出变量，它们会相互发送信号以防止死锁。

我的另一个想法是在析构函数的条件变量上调用 notify_one()，这会是更好的解决方案吗？

有一个更好的方法吗？

更新 1：我忘了提到，在这种情况下，当线程被请求退出时，消费者不需要消耗循环缓冲区中的任何剩余数据，如果生产者也产生更多数据就可以了。只要他们都退出并且不陷入僵局，一切都会好起来的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T17:23:33.520

在我看来，在调用 join 之前在析构函数中的两个条件变量上调用 notify_one（或者更确切地说是 notify_all，如果你要将缓冲区扩展到多个生产者/消费者）将是首选解决方案，原因如下：

首先，这与通常使用条件变量的方式相匹配：通过设置 quit_，您可以更改生产者/消费者线程感兴趣并等待的状态，因此您应该通知它们状态更改。

此外， notify_one 不应该是一个非常昂贵的操作。

此外，在更实际的应用中，可能在两个元素的生成之间存在延迟；在这种情况下，您可能不想阻塞您的析构函数，直到消费者注意到它必须在下一个元素入队后立即取消；据我所知，在示例代码中，这不会发生。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T17:38:06.470

在我看来，有两个功能可以分开：

1.  消息传递和分发
2.  生产和消费

真正将它们分开确实是有意义的：“工作”线程只是处理可能意味着“退出”或“do_work”的“消息”。

通过这种方式，您可以创建一个*聚合*实际功能的通用“工人”类。和方法保持干净，`produce`类只关心保持工作的进行。`consume``worker`

# mysql - MySQL 查询将消息分组为对话

> ID：14151331
> 
> 赞同：1
> 
> 时间：2013-01-04T05:02:57.173
> 
> 标签：mysql, message, grouping

我需要在用户的收件箱中将消息显示为对话。按发件人分组并显示最后一条消息（从发件人收到的最后一条消息或我对该发件人的最新回复）。

到目前为止，我当前的 MySQL 查询只显示所有收到的消息，没有任何分组。

这是我的数据库结构：

```
+-----------------------------------------------------------------------------------+
|                                  users_messages                                   |
+-----------------------------------------------------------------------------------+
| message_ID | from_id | to_id | date | subject | body | unread | delete1 | delete2 |
+-----------------------------------------------------------------------------------+

+---------------------+
|        users        |
+---------------------+
| id | username | ... 
+----+----------+-----+ 
```

这是我当前的查询：

```
$result = $DB->query("SELECT p.*, p.sender as sender, m.*
FROM  " . DB_PREFIX . "messages p
LEFT JOIN " . DB_PREFIX . "members m ON p.sender=m.member_id
WHERE p.receiver='" . $SESSION->conf['member_id'] . "' AND delete2=0
ORDER BY p.senddate DESC
LIMIT " . (($page - 1) * $PREFS->conf['per_page']) . ", " . $PREFS->conf['per_page']); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T05:12:03.353

有点乱 - 但应该适合你：

```
SELECT 
    * 
FROM 
    user_messages 
WHERE 
    message_ID IN ( 
    SELECT 
        MAX(message_ID) 
    FROM 
        (SELECT 
            IF(m.from_id = <THE USER ID>, m.to_id, m.from_id) as other_user_id, 
            m.message_id 
        FROM 
            users_messages m 
        WHERE 
            m.from_id = <THE USER ID> OR m.to_id = <THE USER ID>) me 
    GROUP BY 
        other_user_id 
    ) 
ORDER BY 
    message_id DESC 
```

# java - 从java中的xmpp服务器vysper发送消息

> ID：14151333
> 
> 赞同：2
> 
> 时间：2013-01-04T05:03:12.550
> 
> 标签：java, xmpp, apache-vysper

我已经设置了简单的服务器和客户端，但我不知道如何将消息从 xmpp 服务器发送到客户端。请给我一些帮助。如果可能的话，建议我一些链接。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-11T21:03:21.817

这是 Vysper 经常遇到的一个问题。提出这个问题有几个原因，我认为一个特别的原因是 HTTP Web 服务器实际上以这样一种方式工作，即它创建内容（HTML、CSS 等）并将其发送到代理（即 Web 浏览器）。

在电子邮件和聊天等基于消息的协议中，这有点不同。

电子邮件由代理（即电子邮件客户端）创建和使用。服务器大多只充当消息代理 (http://en.wikipedia.org/wiki/Message_broker)，包括身份验证、过滤、存储等方面。它们很少自己生成自己的电子邮件消息。通常，少数中央帐户（例如 order@acme.com、support@acme.com）创建大部分电子邮件，这意味着实际消息由电子邮件客户端生成并由服务器代表客户端传递。（此外，email/SMTP 具有客户端直接向*接收者的*电子邮件服务器发送电子邮件的特性，这是一场名为 /spam/ 的噩梦。）

一般来说，XMPP 在这里没有什么区别。XMPP 聊天客户端连接并发送和接收消息。XMPP 服务器代理消息。因此，要回答您的问题，在大多数情况下，建议让一个中央帐户与所有其他帐户进行通信就足够了。这是最简单和最好的解决方案。

然而，XMPP 提供的不仅仅是聊天。它具有基于表单、发布/订阅和管理/命令的类似向导的工作流的扩展。

如果您确实需要，您可以添加自己的扩展程序：

例如，看看这里的 VCard 扩展：http: [//svn.apache.org/viewvc/mina/vysper/trunk/server/core/src/main/java/org/apache/vysper/xmpp/modules/扩展/xep0054_vcardtemp/](http://svn.apache.org/viewvc/mina/vysper/trunk/server/core/src/main/java/org/apache/vysper/xmpp/modules/extension/xep0054_vcardtemp/)

首先，我建议继承 org.apache.vysper.xmpp.modules.core.base.handler.DefaultIQHandler 这就像通过继承 DefaultServlet 来实现自己的 Servlet。它包含您要提供的 XMPP 节逻辑。

此外，您需要将处理程序插入服务器。这最好按照 VcardTempModule 中的示例来完成，该示例

1.  提供一个 Handler 实例并注册它
2.  初始化持久性（或您可能需要的任何其他后端连接）
3.  使您的扩展程序的命名空间为人所知，并在服务发现中宣布您的 IQ 内容

如果您需要持久性，请查看 VcardTempPersistenceManager。

剩下要做的就是让服务器知道你的模块。如果您使用 Spring，请在 Spring 配置中添加一行。如果您使用嵌入式方法，则需要调用等效于 server.addModule(new VcardTempModule()); 就像在 org.apache.vysper.xmpp.server.ServerMain 中完成的一样

现在，如果您想发出新的节（消息），而不是对通过服务器的其他节的反应，您还需要启动自己的能够创建和发送节的线程。

但同样，首选方法是让客户端创建所有消息。

# java - 使用java创建复杂的pdf

> ID：14151335
> 
> 赞同：5
> 
> 时间：2013-01-04T05:03:19.453
> 
> 标签：java, pdf-generation, itext

我有一个基于 Java/Java EE 的应用程序，其中我需要为将提供给用户的各种服务创建 PDF 证书。我正在寻找一种创建 PDF 的方法（目前不需要数字证书）。

这样做最简单方便的方法是什么？我努力了

1.  XSL 到 pdf 的转换
2.  使用 itext 将 HTML 转换为 PDF。
3.  粗略的java方式（使用PDFWriter、PdfPCell等）

摆脱这些的最好方法是什么，或者有没有其他更容易和方便的方法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-04T09:27:30.643

当您谈论证书时，我会想到对于证书的每个接收者来说看起来都相同的标准表，除了：

*   收件人姓名
*   接收者所遵循的课程
*   一个约会

如果是这种情况，我会使用任何允许您创建精美证书（Acrobat、Open Office、Adobe InDesign 等）并创建包含三个字段的静态表单（有时称为 AcroForm）的工具：名称, 当然, 日期。

然后，我将使用 iText 填写如下字段：

```
PdfReader reader = new PdfReader(pathToCertificateTemplate);
PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(pathToCertificate));
AcroFields form = stamper.getAcroFields();
form.setField("name", name);
form.setField("course", course);
form.setField("date", date);
stamper.setFormFlattening(true);
stamper.close();
reader.close(); 
```

从代码创建这样的证书是“艰难的方式”；从 XML 创建这样的证书是“痛苦的”（因为 XML 不太适合定义布局），使用 iText 的 XML Worker 可以从（HTML + CSS）创建证书，但所有这些解决方案都有缺点很难正确定位每个项目，以确保所有内容都适合同一页面，等等......

维护具有固定字段的模板要容易得多。这样，您只需编写一次代码。如果由于某种原因您想将字段移动到另一个地方，您只需更改模板，您不必担心代码、XML、HTML 或 CSS 乱七八糟。

有关更多信息，请参阅[http://www.manning.com/lowagie2/samplechapter6.pdf （第 6.3.5 节）。](http://www.manning.com/lowagie2/samplechapter6.pdf)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:08:22.493

尝试使用 Jasper Reports 伴侣。[在http://community.jaspersoft.com/](http://community.jaspersoft.com/)上查看

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T05:12:04.787

我推荐第一种方法：XSL到pdf的转换，这是最强大的。[我有使用Apache FOP](http://xmlgraphics.apache.org/fop/)优雅地生成大量 PDF 报告（每个都有数千页）的经验，我认为它已经足够好并且相当容易（但它需要一些[xsl-FO](http://en.wikipedia.org/wiki/XSL_Formatting_Objects)知识）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-11-07T10:56:56.317

Bruno Lowagie 指出了一种生成模板的好方法，该模板对于所有数据基本上都是相同的，并且需要填充。但是，Bruno Lowagie 建议使用 iText 作为库来填充字段。对我来说，就像 Ankit 一样，这个许可证是我不得不选择另一个库的一个问题。在下文中，我有一个分步指南如何使用 Apaches PdfBox 创建模板并用数据填充它

```
 <dependency>
        <groupId>org.apache.pdfbox</groupId>
        <artifactId>pdfbox</artifactId>
        <version>2.0.16</version>
    </dependency> 
```

1.  使用 LibreOffice Writer 创建模板。对于占位符，请使用 TextBoxes（查看 >> 工具栏 >> 表单控件）。这将按照 Bruno Lowagie 的建议使用 AcroForms 创建 PDF

2.  为每个文本框设置一个名称。将只读设置为 true。

3.  将文档另存为 PDF。

4.  使用 PdfBox 阅读 PDF 模板并设置文本框的值。

    ```
    InputStream is = getClass().getClassLoader().getResourceAsStream("Template.pdf");

    try {
        PDDocument pDDocument = PDDocument.load(is);
        PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();

        PDField fieldName = pDAcroForm.getField("name");
        fieldName.setValue("FirstName Surname"); // <-- Replacement

        pDDocument.save(outStream);
        pDDocument.close();
    } catch (IOException e) {
        e.printStackTrace();
    } 
    ```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-09-18T12:39:53.500

尽管这是一个老问题，但我认为它应该被回答。

要创建非常复杂的 pdf，例如证书、报告或付款单等。您绝对可以使用 Dynamic Reports 库。这个库依赖于 jasper 报告（这也是非常流行的老库）。动态报告将为您提供使用 java 代码设计文档的功能，以便您可以根据需要轻松操作或进行更改。

他们的网站上有很多示例，并且很容易从这些示例中学习。

下面是它的链接：

[http://www.dynamicreports.org/](http://www.dynamicreports.org/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-04T05:08:16.917

使用 iText pdf 库创建 pdf 您可以轻松地从该 api 生成 pdf。链接在这里

[http://itextpdf.com/](http://itextpdf.com/)

Text ® 是一个允许您创建和操作 PDF 文档的库。它使希望通过动态 PDF 文档生成和/或操作来增强 Web 和其他应用程序的开发人员。

开发人员可以使用 iText 来：

将 PDF 提供给浏览器

从 XML 文件或数据库生成动态文档

使用 PDF 的许多交互功能

添加书签、页码、水印等。

拆分、连接和操作 PDF 页面

自动填写 PDF 表单

将数字签名添加到 PDF 文件

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-26T00:20:22.337

您提到 PDF 可能很复杂。如果这与可变性或布局有关，提供相当复杂的基于模板的布局和控件的一个选项是[Docmosis](http://www.docmosis.com)。您为 Docmosis 提供 doc 或 odt 文件作为模板，因此它们很容易更改，并且调用 Docmosis 到邮件合并以创建 pdf 或其他格式。请不要我为创建 Docmosis 的公司工作。

希望有帮助。

# c# - Excel.Interop 的默认值和新值之间的区别

> ID：14151338
> 
> 赞同：0
> 
> 时间：2013-01-04T05:03:29.733
> 
> 标签：c#, excel-2007, com-interop

我正在尝试打开一个 excel 工作簿，但对创建 COM 对象之间`default`和`new`同时创建 COM 对象时的区别有疑问。

我只想知道两者之间的区别：

```
Excel.Workbook workbook = new Excel.Workbook; 
```

和

```
Excel.Workbook workbook = default(Excel.Workbook); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:11:56.783

您应该看到[默认关键字 - MSDN](http://msdn.microsoft.com/en-us/library/25tdedf5.aspx)

> 通用代码：指定类型参数的默认值。 **对于引用类型，这将是 null，**对于值类型，这将是零。

*   `default(Excel.Workbook);`会给你null，因为那是引用类型的默认值。
*   `new Excel.Workbook();`会给你一个类型的新实例`Excel.WorkBook`

# android - 如何提高 ViewPager 的性能？

> ID：14151348
> 
> 赞同：3
> 
> 时间：2013-01-04T05:04:58.047
> 
> 标签：android, android-viewpager

我想知道如何提高 ViewPager 的性能。我有 ViewPager，它有大约 25 次带有大图像的滑动。我已经做了[内存优化](http://developer.android.com/training/displaying-bitmaps/index.html)以避免 OutOfMemoryError。它工作正常。但刷卡时仍然存在延迟。我已将屏幕外页面限制设置为 2。如果我增加屏幕外页面限制。它将在内存中加载更多页面，我将再次以 OOM 结束。那么有什么建议可以避免刷卡时的延迟吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T06:13:37.270

您`ViewPager`不能缓存超过 2 页？听起来您需要更多地调整片段。例如，确保您[不拉伸背景图像](https://stackoverflow.com/a/10026317/832776)，并确保您的布局尽可能简单（即不要使用不需要的布局）。如果你能看到你的应用在这两个页面上使用了多少内存。

验证后，看看是否可以增加屏幕外页面限制。然后检查您[是否正确销毁了碎片](https://stackoverflow.com/a/9512630/832776)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-01T05:47:51.863

您可以使用[FragmentStatePagerAdapter](http://developer.android.com/reference/android/support/v4/app/FragmentStatePagerAdapter.html)而不是[FragmentPagerAdapter](http://developer.android.com/reference/android/support/v4/app/FragmentPagerAdapter.html)。

[这里](http://www.i-programmer.info/programming/android/7961-android-adventures-viewpager.html?start=1)给出更详细的解释。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-01T19:45:37.323

对于图像的另一种可能的解决方案是，您可以尝试将它们放在 drawable-hdpi 文件夹中，它们会加载得更快。您可以在[此处](https://stackoverflow.com/questions/15763407/android-viewpager-lag/18808645#18808645)查看答案。

# java - 将数据和列名作为数组传递给 jqgrid

> ID：14151365
> 
> 赞同：1
> 
> 时间：2013-01-04T05:07:52.770
> 
> 标签：java, arrays, jsp, servlets, jqgrid

我正在使用 JQGRID 以表格格式显示数据。我已经成功地从 servlet 访问了 jqgrid 中的数据。我使用 XML 作为数据类型。

我的问题是我应该如何将列名作为数组传递？到目前为止，我可以通过手动从 javascript 中为列命名来在 jqgrid 中进行 diaplya 记录。但我想从数据库中获取列名并将其作为数组传递给 jqgrid。

以下是我的代码片段：

```
<script language="javascript">
        function fillGridOnEvent()
        {
            $("#jQGrid").html("<table id=\"list\"></table><div id=\"page\"></div>");
            jQuery("#list").jqGrid({
                url:'<%=request.getContextPath()%>/JQGridServlet?q=1&action=fetchData',
                datatype: "xml",
                height: 250,
              colNames:['Sr. No.','Student Name','Student Std.','Student RollNo.',"Action"],
                colModel:[{name:'srNo',index:'srNo', width:90,sortable:true},
                          {name:'stdName',index:'stdName', width:130,sortable:false},
                          {name:'stdStd',index:'stdStd', width:100,sortable:false},
                          {name:'stdRollNo',index:'stdRollNo', width:180,sortable:false},
                          {name:'view',index:'view', width:100,sortable:false}
                          ],
                multiselect: false,
                paging: true,
                rowNum:10,
                rowList:[10,20,30],
                pager: $("#page"),
                loadonce:true,
                caption: "Table1"
            }).navGrid('#page',{edit:false,add:false,del:false});
        }
        jQuery().ready(function (){
            //fillGrid();
        });
    </script> 
```

小服务程序：

```
protected void showData(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException 
{    
    PrintWriter out = response.getWriter();
            response.setContentType("text/xml;charset=UTF-8");               
            String rows = request.getParameter("rows");
            int totalPages = 0;
            int totalCount = 15;
            if (totalCount > 0) 
            {
                if (totalCount % Integer.parseInt(rows) == 0) 
                {
                    totalPages = totalCount / Integer.parseInt(rows);
                } 
                else
                {
                    totalPages = (totalCount / Integer.parseInt(rows)) + 1;
                }
            } 
            else 
            {
                totalPages = 0;
            }
            out.print("<?xml version='1.0' encoding='utf-8'?>\n");
            out.print("<rows>");
            out.print("<page>" + request.getParameter("page") + "</page>");
            out.print("<total>" + totalPages + "</total>");
            out.print("<records>" + 15 + "</records>");
            int srNo = 1;
            for (int i=0;i<15;i++) 
            {
                out.print("<row id='" + i + "'>");
                out.print("<cell>" + srNo + "</cell>");
                out.print("<cell>ABCDEFG</cell>");
                out.print("<cell>ABC</cell>");
                out.print("<cell>125</cell>");
                out.print("</row>");
                srNo++;
    }
            out.print("</rows>");
} 
```

在上面的 servlet 中，我可以发送数据，但现在我也想从 servlet 中设置列​​名。有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T13:32:23.047

在初始化 jQgrid 和调用数据加载之前，您将不得不设置一个单独的进程/servlet 来传递列的名称。

将列名的数据传递到页面后，您可以设置一个包含列名的 var 数组并将其分配给`colNames:`属性。

# php - Ajax 代码在 IE 中不起作用。但在所有其他浏览器中都可以

> ID：14151371
> 
> 赞同：0
> 
> 时间：2013-01-04T05:08:22.827
> 
> 标签：php, javascript, ajax

> **可能重复：**
> [脚本在 Ajax 中不起作用返回值](https://stackoverflow.com/questions/14117694/script-not-working-in-ajax-returned-value)

我正在使用 ajax 来获取一些数据。有一个链接“显示此用户的项目”。当点击它时，它将调用一个带有参数 'userid' 的函数 'callfunc'。这个 ajax 函数将转到 getdetails.php 和将获取该相应用户的一些详细信息。

```
<tr><td colspan="6" align="right"><a href="javascript:callfunc(<?= $row5[user_id]; ?>)" style="font-size:10px;">Show items of this user</a></td></tr>

<script type="text/javascript">
function callfunc(str)
{

//alert(str);
if (str.length==0)
{ 
document.getElementById("result").innerHTML="";
return;
}
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange=function()
{
if (xmlhttp.readyState==4 && xmlhttp.status==200)
{
document.getElementById("result").innerHTML=xmlhttp.responseText;
}
}
xmlhttp.open("GET","getdetails.php?cid="+str,true);
xmlhttp.send();
} 
```

获取详细信息.php

```
<?php
require 'include/connect.php';
$cid=$_GET['cid'];
$sql="select * from table where status='Active' and user_id=$cid";
$res=mysql_query($sql); 
$tot=mysql_num_rows($res);
if($tot>0){
while($row=mysql_fetch_array($res))
{
echo '<tr class="detail9txt" height="30"> 
      <td width="2%"><input type="checkbox" name="item" id="item" value="'.$row[item_id].'"></td>
      <td align="center" width="12%" style="vertical-align:baseline;">
        <a href="detail.php?item_id='.$row[item_id].'" id="link3">'.$row['title'].'</a>
      </td> 
<td align="center" width="17%" style="vertical-align:baseline;">
'.substr($row['des'], 0, 20).'
</td></tr>';
}
?> 
```

此代码在 mozilla、chrome 和 opera 中正常工作。但在 IE 中无法正常工作。单击“显示此用户的项目”链接时，IE 中没有任何反应。知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:10:47.163

看看[`Jquery ajax()`](http://api.jquery.com/jQuery.ajax/)。它支持几乎所有浏览器。请注意，Jquery 的下一个版本 1.9 版将[放弃](http://blog.jquery.com/2012/06/28/jquery-core-version-1-9-and-beyond/)对 ie9 之前的所有 IE 浏览器的支持。

```
$.ajax({
  type: "GET",
  url: "getdetails.php",
  data: { cid : str }
}).done(function(response) {
  $('#result').text() = response;
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-04T05:47:21.143

```
 <script type="text/javascript">
    function callfunc(str)
    {
    try{
    var ox = ((window.XMLHttpRequest) ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP"));
            if (ox) {
                ox.open("GET", "getdetails.php?cid="+str);
                ox.setRequestHeader("Content-Type", "text/html");
                ox.setRequestHeader("Connection", "close");
                ox.onreadystatechange = function () {
                    if (ox.readyState == 4) {
                        if (ox.status == 200) {
                            eval(callback_function + "('" + escape(ox.responseText) + "')");
                        } else {
                           alert(ox.readyState);
                           alert(ox.stauts);
                        }
                    }
                }
                ox.send(null);
            }
    }catch(e){
    alert(e.Message);
    }

    }

</script> 
```

至少试试这段代码，它会在浏览器中为您提供状态或任何错误....

# sql-server - sql中的算术运算

> ID：14151372
> 
> 赞同：-1
> 
> 时间：2013-01-04T05:08:51.297
> 
> 标签：sql-server, sql-server-2008

前三个算术函数工作

```
select CreditLimit,'sum'=CreditLimit+Zip from Customers

select CreditLimit,'sub'=CreditLimit-Zip from Customers

select CreditLimit,'div'=CreditLimit/Zip from Customers 
```

最后两个算术函数或不工作显示错误

```
select CreditLimit,'mod'=CreditLimit%Zip from Customers

ERROR DISPALY: Arithmetic overflow error converting expression to data type smallmoney.

select CreditLimit,'mul'=CreditLimit*Zip from Customers

ERROR DISPALY:The data types smallmoney and nchar are incompatible in the modulo operator. 
```

提前谢谢朋友！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:21:37.857

我怀疑该列`ZIP`是一种`nchar`数据类型。您需要`smallmoney`在执行算术运算之前将其转换为

```
select CreditLimit,'mod'=CreditLimit%convert(smallmoney,Zip) from Customers 
```

# android - Android：取消选中按钮单击的复选框

> ID：14151380
> 
> 赞同：0
> 
> 时间：2013-01-04T05:09:23.233
> 
> 标签：android

我正在尝试在单击单个按钮时清除复选框的所有复选标记，代码对我来说似乎没问题，但它不起作用。复选框的布局不同...在我目前的活动中，我正在夸大复选框并执行 setChecked(false)（不起作用）..还有其他方法吗？

```
Button clearbtn1 = (Button) findViewById(R.id.clearbtn);
        clearbtn1.setOnClickListener(new OnClickListener() {
            @Override

            public void onClick(View v) {

                LayoutInflater inflater_example = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE); 
                View v1= inflater_example.inflate(R.layout.profile, null); 
                CheckBox checkBox = (CheckBox) v1.findViewById(R.id.checkBox1);
                checkBox.setChecked(false); 
        }
        }); 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:50:50.220

只需清除常量中的所有复选框状态并通知或重置适配器以反映更改。

```
Button clearbtn1 = (Button) findViewById(R.id.clearbtn);
    clearbtn1.setOnClickListener(new OnClickListener() {
        @Override

        public void onClick(View v) {
          for(int i=0;i < Constants.checkBoxState.length; i++)      
             Constants.checkBoxState[i] = false;

          listAdapter.notifyDataSetChanged();

    }
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:52:51.197

您的适配器具有您想要影响的这些视图。标准的 OOP 原则要求您使用*适配器*方法来解决它。从您的适配器技术以及它如何巧妙地`convertView`保持复选框状态来看，我认为该方法是不言而喻的。只需设置`boolean`确定其状态的标志并刷新适配器。这是一个示例适配器方法，您可以从按钮的`OnClickListener`

```
private void clearChecks() {
    for (int i = 0; i < Constants.checkBoxState.length; i++) {
        Constants.checkBoxState[i] = false;
    }
    notifyDataSetChanged();
} 
```

# java - 在 Spring mvc 应用程序中，@RequestBody 正在抛出 java.io.EOFException

> ID：14151383
> 
> 赞同：0
> 
> 时间：2013-01-04T05:09:37.573
> 
> 标签：java, jquery, ajax, spring, model-view-controller

```
 In the jsp i am passing the data as json,as in the controller method i am trying to map the data to  Personbean object using @RequestMapping. But its throwing an exception. 
```

@ResponseBody 工作正常，如果我删除 @ResponseBody 代码。请建议我做错了什么？我已经粘贴了代码以供参考。

```
//jsp    (added the data as json and also content type)
    <script>
        function abc(){
            alert('here!!');

            $.ajax({
                url:'anki',
                type:'GET',
                data:({name:"me"}),
                dataType: 'json',
                contentType: 'application/json',    
                success:function(data){
                alert('here gain');

                 $('#time').html(data.name);

            }
            });
        }
        </script>
    <input type="button" name="submit" title="submit" onclick="abc()"/>
    <div id="time"></div>

//PersonBean (Bean class)

package com.controller;

public class Personbean {
    private String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

}

    // controller method 
```

//（尝试在此方法中同时使用@ResponseBody 和@RequestBody）

```
 @RequestMapping(value="/anki",method=RequestMethod.GET)
        public @ResponseBody EmployeeBean hhh(@RequestBody Personbean pb){
            System.out.println(pb.getName());
            System.out.println("new method");
            EmployeeBean e=new EmployeeBean();
            e.setId("1001");
            e.setName("ankita");
            return e;
        }

//i have added the "jacksonMessageConverter" in the dispatcher servlet

    //dispatcher servlet

    <bean id="jacksonMessageConverter" class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter"></bean>
     <bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter">
    <property name="messageConverters">
      <list>
        <ref bean="jacksonMessageConverter"/>
         </list>
    </property>

//Exception stacktrace(For reference)

    java.io.EOFException: No content to map to Object due to end of input
        at org.codehaus.jackson.map.ObjectMapper._initForReading(ObjectMapper.java:2444)
        at org.codehaus.jackson.map.ObjectMapper._readMapAndClose(ObjectMapper.java:2396)
        at org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1662)
        at org.springframework.http.converter.json.MappingJacksonHttpMessageConverter.readInternal(MappingJacksonHttpMessageConverter.java:124)
        at org.springframework.http.converter.AbstractHttpMessageConverter.read(AbstractHttpMessageConverter.java:154)
        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.readWithMessageConverters(HandlerMethodInvoker.java:633)
        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveRequestBody(HandlerMethodInvoker.java:597)
        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveHandlerArguments(HandlerMethodInvoker.java:346)
        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:171)
        at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:436)
        at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424)
        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)
        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)
        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669)
        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:574)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:394)
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:243)
        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)
        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:57:31.713

试试这个

```
 $.ajax({
        url:'anki',
        type:'POST',
        data:JSON.stringify(eval({"name":"me"})),
        dataType: 'json',
        contentType: 'application/json',    
        success:function(data){
        alert('here gain');

       //  $('#time').html(data.name);

    }
    }); 
```

不要忘记在控制器中将方法更改为 POST

```
method=RequestMethod.POST 
```

# java - 24 小时模式下的 Vaadin DateField

> ID：14151395
> 
> 赞同：2
> 
> 时间：2013-01-04T05:10:33.293
> 
> 标签：java, vaadin

![在此处输入图像描述](../Images/2ae9331975e87cec6b105e6664fbdb0b.png)

有人可以帮我解决这个问题吗？我想在 24 小时模式下使用 Vaadin 的 DateField，而不是在上午和下午模式下。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:01:08.950

不幸的是，不支持将 12/24 小时时钟设置覆盖为 Locale 所说的其他内容。

要添加这样的服务，我将继承 InlineDateField 并添加用于覆盖 12-24 时钟设置的方法。在客户端，必须查看 VCalendarPanel.java 并将此设置添加到调用 getDateTimeService().isTwelveHourClock() 的 if 语句中。

另一方面 - 也许以某种方式为所有支持的语言环境定义自定义语言环境会更容易。

第三个骇人的替代方案是在 GWT 编译过程中覆盖 LocaleService.java 类并确保 isTwelveHourClock() 返回 false。

（没有测试任何这些方法）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T21:52:34.320

您可以使用 setLocale() 方法自定义日期格式的表示。

```
// German language specified with ISO 639-1 language
// code and ISO 3166-1 alpha-2 country code. 
date.setLocale(new Locale("de", "DE")); 
```

更多信息[在这里](https://vaadin.com/forum/-/message_boards/view_message/559334)和[这里](https://vaadin.com/book/-/page/components.datefield.html)。

# html - 如何使页面中的 iframe 仅垂直显示

> ID：14151400
> 
> 赞同：0
> 
> 时间：2013-01-04T05:10:59.170
> 
> 标签：html, css, iframe

我有一个宽度为 800 像素、高度为 200 像素的 iframe。我希望它仅以水平显示页面。表示 i 没有垂直内容。

```
<iframe src="recipelist/" width="800px" height="250px" scrolling="yes" class="iframe-class" frameborder="0"></iframe> 
```

iframe 的内容是一个动态生成的页面（博客文章），宽度为 100%，这意味着当新文章出现时它将继续水平显示。每个项目的高度为 200 像素，我显示：inline-block every item so它水平排列。

为了更好地理解，我只想在垂直线上显示项目。我需要对 iframe 或 iframe 内的页面进行编码吗？

如何使父页面水平显示？意味着没有垂直滚动？只显示一个最大宽度的 iframe？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:19:33.180

`<iframe src="www.google.com" class="iframe-class" frameborder="1" scrolling="no"></iframe>`

很有型

```
.iframe-class {
 overflow-x: hidden;
 height: 600px;  
 width: 200px;
 } 
```

# memory-management - AllegroGraph 占用填充磁盘空间

> ID：14151402
> 
> 赞同：2
> 
> 时间：2013-01-04T05:11:10.550
> 
> 标签：memory-management, cpu-usage, allegrograph

我们正在运行 AllegroGraph 4.9，我们已经向存储库添加了大约十亿个三元组。我们达到了磁盘空间的全部容量，因此我们停止了加载并将磁盘翻了一番（80G 到 200G），现在即使磁盘空间已满，尽管我们没有添加任何额外的三倍。

此外，内存得到充分利用，当没有查询运行时，内存也从最初的 16G 翻倍到 32G。而且，在运行一些查询时，CPU 利用率达到 100%，我们甚至没有得到响应。

首先，我想知道磁盘空间和内存增加的原因是什么。然后，在运行查询时深入到高 CPU 利用率的第二部分。

关于这个问题有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T18:58:37.037

I recommend emailing support@franz.com.

# .net - 使用实体框架进行读/写操作和视图的 MVC 控制器 - MVC 4.0 Ms VS 2012

> ID：14151413
> 
> 赞同：1
> 
> 时间：2013-01-04T05:12:31.700
> 
> 标签：.net, asp.net-mvc-4, visual-studio-2012

我正在 VS 2012 中开发一个 mvc 应用程序，所以我想在添加控制器时使用“具有读/写操作的 MVC 控制器并使用实体框架查看”。所以我创建了一个 edmx 文件，并且 tt 类代码中的实体 Person 为

```
 namespace App1.Models
  {
   using System;
   using System.Collections.Generic;

   public partial class Person
   {
   public int PersonId { get; set; }
   public string Name { get; set; }
   public Nullable<System.Guid> UserId { get; set; }
   }
} 
```

但是我有点困惑我接下来要做什么才能访问上述技术。什么是我需要做的数据上下文类。请在此处提供相同的帮助。提前致谢 ！！

**编辑**

是的，感谢您的回复。我想我还没有广泛解释我的问题，好吧，让我们这样做。我已经创建了数据库，现在我添加了一个 edmx 文件，它将创建 tt 类。现在，当我添加控制器时，有以下选项：[请单击此处](https://docs.google.com/open?id=0B0XGz1Ttx6wIQVRBR1JEMzlBcHc)

所以基本上我想知道我是如何实现的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:56:38.770

您需要添加一个数据库上下文，然后构建它。

然后选择添加控制器，给控制器起个名字，它会为你生成控制器和视图。

当您运行它时，将自动为您创建表。

看看这个教程： [http ://www.asp.net/mvc/tutorials/mvc-4/getting-started-with-aspnet-mvc4/intro-to-aspnet-mvc-4](http://www.asp.net/mvc/tutorials/mvc-4/getting-started-with-aspnet-mvc4/intro-to-aspnet-mvc-4)

这是另一个链接，解释了如何使用实体框架进行操作。 [http://msdn.microsoft.com/en-us/data/gg685489.aspx](http://msdn.microsoft.com/en-us/data/gg685489.aspx)

# mongodb - MongoDB：如何生成本地日期？

> ID：14151415
> 
> 赞同：1
> 
> 时间：2013-01-04T05:12:55.267
> 
> 标签：mongodb, date, localization

我在 MongoDB shell 中生成一个日期：

```
var d = new Date();
d 
```

但日期结果与我所在位置的时间不符

但是，javascript中的相同代码，`console.log(d)`可以在我的位置输出正确的时间

为什么？如何在 MongoDB 中生成本地时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:19:24.553

这将为您提供时区（您应该将其单独存储在应用程序中）。

```
var myDate = new Date();
document.write(myDate.getTimezoneOffset()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T08:29:41.223

默认情况下，MongoDB（包括控制台）将始终以 UTC 生成和存储，但是`ISODate`s 确实支持时区偏移（[http://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC](http://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC)）但是您需要管理它的创建从您的应用程序偏移。

正如@CRUSADER 所提到的，通常最好将用户偏移存储在行内，甚至根本不存储，特别是如果您的用户可以从具有许多不同时区的许多位置访问。在这种情况下，实际上可能会更好地修改客户端 JavaScript 中的日期，以处理他们当前访问页面的时区差异。

# ruby - 使用正则表达式匹配存储在哈希中的内容

> ID：14151417
> 
> 赞同：1
> 
> 时间：2013-01-04T05:13:01.510
> 
> 标签：ruby, regex, ruby-1.8.7

这是解释该问题的 Ruby 代码：

```
1.8.7 :018 > pattern[:key] = '554 5.7.1.*Service unavailable; Helo command .* blocked using'
 => "554 5.7.1.*Service unavailable; Helo command .* blocked using" 
1.8.7 :019 > line = '554 5.7.1 Service unavailable; Helo command [abc] blocked using dbl'
 => "554 5.7.1 Service unavailable; Helo command [abc] blocked using dbl" 
1.8.7 :020 > line =~ /554 5.7.1.*Service unavailable; Helo command .* blocked using/
 => 0 
1.8.7 :021 > line =~ /pattern[:key]/
 => nil 
1.8.7 :022 > 
```

正则表达式在直接用作字符串时有效，但在我将其用作哈希值时无效。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:15:03.787

```
line =~ /#{pattern[:key]}/ 
```

或者...

```
line =~  Regexp.new pattern[:key] 
```

如果要转义正则表达式特殊字符...

```
line =~ /#{Regexp.quote pattern[:key]}/ 
```

**编辑：**由于您是 ruby​​ 新手，我可以建议您这样做，无论在哪里`pattern`定义：

```
pattern[:key] = Regexp.new '554 5.7.1.*Service unavailable; Helo command .* blocked using' 
```

然后您可以简单地使用`Regexp`存储在`pattern`

```
line =~ pattern[:key] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T05:33:18.360

这本身不是一个 Ruby 问题，它是如何构建一个正则表达式模式来完成你想要的。

在“正则表达式”中，`/pattern[:key]/`意味着：

1.  找到`pattern`。
2.  接下来`pattern`寻找`:`、或`k`中的一个。`e``y`

Ruby 不会像 Perl 那样自动在字符串或正则表达式模式中插入变量，因此，我们必须标记变量在何处使用`#{...}`内联。

如果您仅用`/pattern[:key]/`作模式，请不要费心将其插入到模式中。相反，采用直接路径，让 Regexp 为您完成：

```
pattern[:key] = 'foo'
Regexp.new(pattern[:key])
=> /foo/ 
```

与以下结果相同：

```
/#{pattern[:key]}/
=> /foo/ 
```

但不会浪费 CPU 周期。

您的另一个尝试使用`.`,`[`和`]`，它们是模式中的保留字符，用于帮助定义模式。如果你需要使用这样的字符，你可以让 Ruby适当地`Regexp.escape`添加`\`转义字符，在字符串中保留它们的正常/字面含义：

```
Regexp.escape('5.7.1 [abc]')
=> "5\\.7\\.1\\ \\[abc\\]" 
```

其中，在现实生活中是`"5\.7\.1\ \[abc\]"`（当不在 IRB 中显示时）

要在正则表达式中使用它，请使用：

```
Regexp.new(Regexp.escape('5.7.1 [abc]'))
=> /5\.7\.1\ \[abc\]/ 
```

# objective-c - Objective-C 中未声明的标识符“L”

> ID：14151420
> 
> 赞同：1
> 
> 时间：2013-01-04T05:13:21.547
> 
> 标签：objective-c, string, macos

我正在为 Mac OS 开发一个应用程序，其中包括 C++ 中的跨平台库。有一个宏定义如下：

```
#define MY_GET(DataType,DataName,PtrFunName,DefaultVaule) \
DataType Get##DataName() \
{ \
    DataType dataTem = (DefaultVaule);\
    if (NULL == p) \
    { \
        return dataTem; \
    } \
    p->Get##PtrFunName(CComBSTR(L#DataName),&dataTem); \
    return dataTem; \
} 
```

编译时，编译器会产生以下错误：

```
Use of undeclared identifier 'L' 
```

它是从宏“MY_GET”扩展而来的。搜索后`CComBSTR(L`，我可以找到 L"String" 的其他用法。那么为什么`L`我的宏的扩展是未定义的，而其他`L`的却是成功编译的。

L"String" 在 Objective-C 中合法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:16:05.890

我似乎在这里需要预处理器“令牌连接”运算符`##`：

```
CComBSTR(L ## #DataName) 
```

代替

```
CComBSTR(L#DataName) 
```

Objective-C 文件中的以下代码编译并生成`wchar_t`字符串`L"abc"`：

```
#define LL(x) L ## #x
wchar_t *s = LL(abc); // expands to: L"abc" 
```

我不知道其他编译器的行为是否不同，但 Apple LLVM 4.1 编译器不允许`L`字符串之间有空格：

```
#define LL(x) L#x
wchar_t *s = LL(abc); // expands to: L "abc"
// error: use of undeclared identifier 'L' 
```

# c# - 如何将多行文本框的内容复制到 C# 中的剪贴板？

> ID：14151421
> 
> 赞同：11
> 
> 时间：2013-01-04T05:13:30.757
> 
> 标签：c#, .net, clipboard, copy-paste

我在多行文本框中有一些来自数据库的文本，如何将其复制到剪贴板以便用户可以将其粘贴到另一个窗口或文件中（例如，从我的应用程序到另一个文本框）？或者如果可能的话，记事本/word文件。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-04T05:27:19.603

```
Clipboard.Clear();    //Clear if any old value is there in Clipboard        
Clipboard.SetText("abc"); //Copy text to Clipboard
string strClip = Clipboard.GetText(); //Get text from Clipboard 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T07:19:15.533

使用（当然还有）将文本从单行或多行复制`TextBox`到剪贴板和从剪贴板复制没有区别。A仍将包含一个，无论它是否包含换行符。那只是眼睛糖果。`Clipboard.SetText()``Clipboard.GetText()``TextBox``String`

从限制的角度来看，您的`ClipBoard.SetText()`方法也将始终只接受一个字符串，其大小仅受给定时间的可用内存量限制。

无需特殊代码即可将此文本手动粘贴到记事本或 Word 等应用程序中。

`Clipboard.SetText(yourTextBox.Text);`是你所需要的全部。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-09-03T11:00:16.880

为了在文本中保存行，您应该将“\n”替换为换行符，例如：

```
 string textforClipboard = TextBox1.Text.Replace("\n", Environment.NewLine);
 Clipboard.Clear();
 Clipboard.SetText(textforClipboard); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T05:19:23.150

System.Windows.Forms.Clipboard.SetText(..)

[http://msdn.microsoft.com/en-us/library/system.windows.forms.clipboard.settext.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.clipboard.settext.aspx)

# ip - 带 /#number 的 IP 是什么意思？

> ID：14151424
> 
> 赞同：-1
> 
> 时间：2013-01-04T05:13:44.800
> 
> 标签：ip

任何人都可以用 /# 来解释 IP 的含义，它叫什么？

示例：55.11.65.20/2、212.63.89.33/2

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:18:16.087

网络前缀规范的现代标准形式是 CIDR 表示法，用于 IPv4 和 IPv6。它计算前缀中的位数并将该数字附加到斜杠 (/) 字符分隔符后的地址：

```
192.168.0.0, netmask 255.255.255.0 is written as 192.168.0.0/24
In IPv6, 2001:db8::/32 designates the address 2001:db8:: and its network prefix consisting of the most significant 32 bits. 
```

这种表示法是在 RFC 4632 中与无类域间路由 (CIDR) 一起引入的。在 IPv6 中，这是表示网络或路由前缀的唯一可接受的形式。

检查此链接以获取更多信息

[http://en.wikipedia.org/wiki/Subnetwork](http://en.wikipedia.org/wiki/Subnetwork)

[http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing](http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:18:16.350

**无类域间路由**
[http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing](http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing)

# python - 无法使用 python HTTPSConnection() 连接到 Web 服务器

> ID：14151425
> 
> 赞同：-3
> 
> 时间：2013-01-04T05:13:59.310
> 
> 标签：python, ssl, https, ssl-certificate

我正在尝试连接到使用 HTTPS 客户端证书身份验证的 Web 服务器。当我使用 curl 时它工作正常：

```
leo@leo-VirtualBox:~/development/pki-client$ curl --key admin.privkey.pem --cert admin.crt -k --url "https://ca.cloud.leotr.org/"
<!DOCTYPE html>
<html>
<head>
    <title>Welcome to CA</title>
    <link href="/static/bootstrap/css/bootstrap.min.css"  rel="stylesheet"/>
</head>
<body>

<div class="container">
    <h1>REMS CA server</h1>
    <p class="lead">Hello and welcome to REMS CA. Currently this page is
        almost empty. But you can download CA root certificate and install it
    into your browser ;)</p>
    <a class="btn btn-large btn-primary" href="/remspki/cacert/">Download CA certificate</a>
    <a class="btn btn-large" href="/admin/">Go to Admin site <i class="icon-arrow-right"></i>    </a>
</div>

</body>
</html> 
```

客户端私钥文件内容

```
leo@leo-VirtualBox:~/development/pki-client$ cat admin.privkey.pem
-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAtuyfxqDJghI9F0hyqTA2rl/RrBIL/B0oemxou0obC6xwIqdN
ggw/D70jEfc7dqc5ZIsek50aDHsWeLyP/uvBWYYWh55anF9Wu1ZUHhsqS3fmJtrg
EtRLyFFv3OB1sdflGAHRajL1jADvF52n6FUl67/z6bqGfvimszD2utdBk2H3B1qo
Ll7aBIpbugFew6TiGzCUnQNGTbfxJEF9K3tLjhHN06vJg++rqmTT4Lkg4Uoi6Hn2
XUUMOqi+/jFmiXjtTIGHPRzvm1OgjC/9Yr6IEUJyhs0V5XEGHVcUTfw+YfK1DTPi
/JR8dsm985c5KPLIxWVGK0VKC67catEY5j/70wIDAQABAoIBAAF+RwOhFmQIcBU7
kywMZ7XetGB6OTzSpBzzu5sjzLq4qqWtxfU00mL3gUzJPuQGE3Ldq986nhbR/mn3
6BkFpatsa8ypn0W9hYC8AK3KPPsmvGs+yCt/Lisxdv9PmcZc49LhWOtMBTMiYtFH
iTJdV5ToGT6kNirdLscxtCHsVe21EH2TMO4k06bK18UJFewswsyMN66FKX0wSF9w
yZ/9A9VJOaUOXo6Mos/tvyf9rjhOqb02DOqOuWVVFRWWax75+M2qKnacSuKfMPfc
21B3ulQRIcR7PjIVIMTZkLO+MjD7DBiywIcD50H1005cL05a8latjXdENY5Xeh9Z
duS4I5ECgYEA3BzbGf45gDzZWTeTjnfQ/9m3MuGmAzAG2zjStFQnquiMyH0IZzSB
/awKJxXcdO7cUXfjOWxIgA7nNj+ewOUXj5uQH9F+8cl+raxyEsixdPwfSzCyLcwD
Zp2SsoXKPRx12SrAbl5wQqePN6+pntLRmW8xfUKFZAhs5CtxQ6bymBkCgYEA1L+V
zas85TUITqZi0//lmdqWdfRhkHdIBkLsHxRE4RnEsfGqvy3XQZTQ0zLGjz4WtUSq
xjh0rK6jMGEGGypRM8G0kpfBpGFYu9Hy8hpFKDwnihfk/XnuaXBLiN82V8vVWGrl
tc5DrTHCxVbVW99W7IaVVLgY/D0kFI/195yYYMsCgYBGTIUBmTs+JLD6GJDs6IF8
pUkoW/8Md5NJAq3w4AvHPvxvr9c2NwPpQ7/+WbIOOpdtAZA1r8q784aOweTvEHvk
5rcyIlOb31GxIClSrHxYs4k/F29gxw6zAFJw59/+go90632IAmtyLlfEXjsbOZOt
oGC687rshvBYMzO6eqBySQKBgQCDG95x9Ql+J4SLE7br91PD0RXQc1587UWRtkRV
kuQv5PV2w/v5/YIehFt9DFmZhSXxZ/PmXHxqvuUKt4BP1XBdeQ6TGLrZVrScavJR
iSb9eLTVQYx5OV9X00B5hTW0PYWpC5esxwSmA3iIrM6n46dp9DarExkyuWs20NFA
W1z8qQKBgGD2XiB/N9QRVNW0CpuVgWx3HBllJpXT2QMeCx57AEeCmOnSkByyvYmR
Aszu2CQn2ynHO+3B46uJ+Sg2pmcEjvUrhERhRT23lpZY8VDGpfVjfQcqfVhwzrHQ
Y2kf6WV+C32klQ6bKOwwO9TavvKCloiENJfbRdLvGvswBVgnWlGW
-----END RSA PRIVATE KEY----- 
```

客户证书

```
leo@leo-VirtualBox:~/development/pki-client$ cat admin.crt
-----BEGIN CERTIFICATE-----
MIIDeTCCAmGgAwIBAgIBAzANBgkqhkiG9w0BAQUFADBRMRIwEAYKCZImiZPyLGQB
GRYCS1oxGDAWBgoJkiaJk/IsZAEZFghSQUlMV0FZUzEUMBIGCgmSJomT8ixkARkW
BFJFTVMxCzAJBgNVBAMTAkNBMB4XDTEyMTIyODIyNTI1MFoXDTE3MTIyNzIyNTI1
MFowbjESMBAGCgmSJomT8ixkARkWAktaMRgwFgYKCZImiZPyLGQBGRYIUkFJTFdB
WVMxFDASBgoJkiaJk/IsZAEZFgRSRU1TMSgwEgYDVQQDEwtMZW8gVHJ1YmFjaDAS
BgoJkiaJk/IsZAEBEwRBMDAxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
AQEAtuyfxqDJghI9F0hyqTA2rl/RrBIL/B0oemxou0obC6xwIqdNggw/D70jEfc7
dqc5ZIsek50aDHsWeLyP/uvBWYYWh55anF9Wu1ZUHhsqS3fmJtrgEtRLyFFv3OB1
sdflGAHRajL1jADvF52n6FUl67/z6bqGfvimszD2utdBk2H3B1qoLl7aBIpbugFe
w6TiGzCUnQNGTbfxJEF9K3tLjhHN06vJg++rqmTT4Lkg4Uoi6Hn2XUUMOqi+/jFm
iXjtTIGHPRzvm1OgjC/9Yr6IEUJyhs0V5XEGHVcUTfw+YfK1DTPi/JR8dsm985c5
KPLIxWVGK0VKC67catEY5j/70wIDAQABoz8wPTAMBgNVHRMBAf8EAjAAMA4GA1Ud
DwEB/wQEAwIC/DAdBgNVHQ4EFgQUbmKGUje1HCUQVd//jZjJmgYJ2mswDQYJKoZI
hvcNAQEFBQADggEBALJEtadF5zPh6pJzj0c2vLISnZ4jBi6aaCOvz1Ph2gFrI9te
mvXVnlFLe7JJxStDlLurQ+hLqY9Q8vIczAEp2r9uJyfBpeHsc0YP6UbOXg6WLHLl
fU0tKb9PqfcMwfKUH8Nb6Q6Kt5EuQzIraYweXHNyOiKSB3ZogjPVdZnoe5gXYUpG
5cE8k2SjGVEWxc94ygcbiN+ziaUz/jos+TwqgsBp+yel0frO3DKGqQjfuOLgeTpf
xaNlPXdzFfEn0VWva36skrRzHNwZESI/Dd626eyUfxuTLLq5+Gb1D8WZj5RRqu1n
I9cZs9gCmZswWQy2/cExRPhgSWbwUWOhOCQsFVo=
-----END CERTIFICATE----- 
```

Python代码：

```
leo@leo-VirtualBox:~/development/pki-client$ cat httpstest.py 
from httplib import HTTPSConnection
from config import ADMIN_CERT, ADMIN_KEY

h = HTTPSConnection(
    'ca.cloud.leotr.org', 443, key_file=ADMIN_KEY, cert_file=ADMIN_CERT)
h.request('GET', '/')
resp = h.getresponse()
print(resp.status)
print(resp.read()) 
```

输出：

```
leo@leo-VirtualBox:~/development/pki-client$ python httpstest.py 
400
<html>
<head><title>400 The SSL certificate error</title></head>
<body bgcolor="white">
<center><h1>400 Bad Request</h1></center>
<center>The SSL certificate error</center>
<hr><center>nginx/1.1.19</center>
</body>
</html> 
```

让我们尝试更多级别的 Python 代码

```
leo@leo-VirtualBox:~/development/pki-client$ cat ssltest.py 
from config import ADMIN_CERT, ADMIN_KEY
import socket
import ssl

sock = socket.create_connection(('ca.cloud.leotr.org', 443), None)
print('Admin key: ', ADMIN_KEY)
print('Admin cert', ADMIN_CERT)
sslsock = ssl.wrap_socket(
    sock, keyfile=ADMIN_KEY, certfile=ADMIN_CERT)
request = ('GET / HTTP/1.1',
           'Host: ca.cloud.leotr.org',
           'Accept: text/html',
           'Accept-Encoding: gzip,deflate,sdch')
request_body = '\n'.join(request) + '\n'*2
sslsock.write(request_body)
response = sslsock.read()
print response 
```

Python 结果

```
leo@leo-VirtualBox:~/development/pki-client$ python ssltest.py
('Admin key: ', 'admin.privkey.pem')
('Admin cert', 'admin.crt')
HTTP/1.1 400 Bad Request
Server: nginx/1.1.19
Date: Fri, 04 Jan 2013 04:59:52 GMT
Content-Type: text/html
Content-Length: 231
Connection: close

<html>
<head><title>400 The SSL certificate error</title></head>
<body bgcolor="white">
<center><h1>400 Bad Request</h1></center>
<center>The SSL certificate error</center>
<hr><center>nginx/1.1.19</center>
</body>
</html> 
```

所以我不明白出了什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:24:53.593

这里的问题是您正在尝试连接到不在默认 CA 列表中的 CA。由于 CA 站点的证书由 CA 签名，因此在您首先下载并安装证书之前，无法通过 SSL 访问该站点。

HTML 结果显示有“下载 CA 根证书并将其安装到浏览器中”的说明。如果您不这样做，您会从浏览器中收到一条错误消息，如下所示：

> **Safari 无法验证网站“ca.cloud.leotr.org”的身份。**
> 
> 本网站的证书无效。您可能正在连接到一个伪装成“ca.cloud.leotr.org”的网站，这可能会使您的机密信息面临风险。是否仍要连接到该网站？

同样，如果您尝试使用`curl`，您会得到相同的错误：

> curl: (60) SSL证书问题，验证CA证书是否OK。详细信息：错误：14090086：SSL 例程：SSL3_GET_SERVER_CERTIFICATE：证书验证失败更多详细信息：[http ://curl.haxx.se/docs/sslcerts.html](http://curl.haxx.se/docs/sslcerts.html)
> 
> curl 默认使用证书颁发机构 (CA) 公钥（CA 证书）的“捆绑”执行 SSL 证书验证。如果默认捆绑文件不够用，您可以使用 --cacert 选项指定备用文件。如果此 HTTPS 服务器使用捆绑包中表示的 CA 签名的证书，则证书验证可能由于证书问题而失败（证书可能已过期，或者名称可能与 URL 中的域名不匹配）。如果您想关闭 curl 对证书的验证，请使用 -k（或 --insecure）选项。

这样做的唯一原因是`curl`您已经指定了`-k`标志，也就是`--insecure`. 从手册页：

> -k，--不安全
> 
> (SSL) 此选项明确允许 curl 执行“不安全”的 SSL 连接和传输。尝试使用默认安装的 CA 证书包来确保所有 SSL 连接的安全。这使得所有被认为是“不安全”的连接都失败，除非使用 -k, --insecure。
> 
> 有关详细信息，请参阅此在线资源：http:
> [//curl.haxx.se/docs/sslcerts.html](http://curl.haxx.se/docs/sslcerts.html)

再一次，在你的 Python 代码中，你得到了同样的错误。

在所有三种情况下，解决方案都是相同的：下载 CA 的证书并将其放入您的证书存储区（或明确使用它来代替您的默认证书存储区）。

# r - 在R中逐个折叠数据

> ID：14151427
> 
> 赞同：2
> 
> 时间：2013-01-04T05:14:12.740
> 
> 标签：r, dataframe, collapse

我正在使用一个数据集，其中包含有关反人口贩运组织的信息。组织由组织名称或组织主页的 Web 地址标识。我想根据具体情况有条件地折叠此数据框，以便留下一组唯一的标识符（对于我的数据，组织名称或组织的网址）对于每个案例，以及这些案例的大约 1000 多个数字属性，这些数字属性是在崩溃之前标识符关联的行的最高或最低值。为了举例说明这一点，我想转：

```
> df1
x      y     z
Item1  0     3
Item1  1     4
Item2  1     2
Item3  1     3
Item2  1     5
Item3  1     2
Item4  0     2 
```

进入类似的东西

```
> df2
x     y      z
Item1  1     3
Item2  1     2
Item3  1     2
Item4  0     2 
```

当然，在这个例子中，我想保留 Var2 的最大值和 Var3 的最小值，并且只保留唯一的 Var1 值。

任何人都可以建议一种系统的方法来为大型数据集执行此操作吗？在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T05:19:13.967

一种选择是使用该`plyr`软件包：

```
library(plyr)
ddply(df, .(x), summarize, y=max(y), z=min(z))
      x y z
1 Item1 1 3
2 Item2 1 2
3 Item3 1 2
4 Item4 0 2 
```

或者，同样简单的是 package `data.table`。如果您的数据非常大，此选项可能会大大加快速度。

```
library(data.table)
data.table(df)[, list(y=max(y), z=min(z)), by=x]
       x y z
1: Item1 1 3
2: Item2 1 2
3: Item3 1 2
4: Item4 0 2 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T06:11:17.603

我认为您可能应该选择 Andrie 的，因为他为您提供了 data.table 方法，这种方法可以说更干净，当然也更快，但是在类别中处理不同结果的“经典”方法是使用`lapply(split(...))`：

```
> do.call(rbind, lapply( split(df1, df1$x) , function (d) data.frame(x=d$x[1], 
                                                          mx.y=max(d$y), mn.z=min(d$z)
             ) ) )

          x mx.y mn.z
Item1 Item1    1    3
Item2 Item2    1    2
Item3 Item3    1    2
Item4 Item4    0    2 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T06:31:27.930

由于`y`和`z`表示行数，因此本质上是正数，因此您可以使用这种简单的方法：

```
aggregate(cbind(y, -z) ~ x, df1, function(x) abs(max(x)))

      x y -z
1 Item1 1  3
2 Item2 1  2
3 Item3 1  2
4 Item4 0  2 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-04T05:26:39.850

```
library(plyr)
V1 <- sample(10, 100, replace=TRUE)
V2 <- sample(100, 100, replace=TRUE)
V3 <- sample(100, 100, replace=TRUE)

df <- data.frame(V1=V1, V2=V2, V3=V3)

ddply(df, "V1", function(x) c(max(x$V2), min(x$V3))) 
```

# php - 嵌入单个对象

> ID：14151428
> 
> 赞同：1
> 
> 时间：2013-01-04T05:14:23.503
> 
> 标签：php, symfony-2.0

我是 Symfony2.0 的新手。我正在从网站[http://symfony.com/doc/2.0/book/index.html](http://symfony.com/doc/2.0/book/index.html)学习它。我已经浏览了网站中给出的所有主题，但我没有得到主题“嵌入单个对象”的输出，该主题包含在表单主题 ( [http://symfony.com/doc/2.0/book /forms.html](http://symfony.com/doc/2.0/book/forms.html) )。我编写了他们为“嵌入单个对象”提供的所有代码，但它没有进入数据库。当我提交我的表格时，它给了我错误，我在下面说明。我可以在不使用嵌入目标代码的情况下进行输入。

> 错误：“可捕获的致命错误：传递给 Acme\TaskBundle\Entity\Task::setCategory() 的参数 1 必须是 Acme\TaskBundle\Entity\Category 的实例，给定数组，在 /opt/lampp/htdocs/kau 中调用。 symfony2.com/vendor/symfony/src/Symfony/Component/Form/Util/PropertyPath.php 在第 347 行并在 /opt/lampp/htdocs/kau.symfony2.com/src/Acme/TaskBundle/Entity/Task 中定义。 php 行 52"

我搜索了很多，但找不到解决方案。

文件路径：`Acme/TaskBundle/Form/Type/TaskType.php`

```
<?php
// src/Acme/TaskBundle/Form/Type/TaskType.php
namespace Acme\TaskBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;
class TaskType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder->add('task', 'text', array('max_length' => 20));
        $builder->add('address', 'textarea', array('required' => true, 'read_only' => false));
        $builder->add('dueDate', 'date');
        $builder->add('category', new CategoryType());    
    }

    public function getName()
    {
        return 'task';
    }
}
?> 
```

文件路径：Acme/TaskBundle/Resources/Views/Default/new.html.twig

```
<form action="{{ path('AcmeTaskBundle_newpage') }}" method="post" {{ form_enctype(form) }} novalidate>
    {{ form_errors(form) }}

<div>
    {{ form_errors(form.task) }}
    {{ form_label(form.task, 'Task Description', { 'label_attr': {'class': 'task_field' }}) }}
    {{ form_widget(form.task, { 'attr': {'class': 'task_field'} }) }}
</div>

<div>
    {{ form_errors(form.address) }}
    {{ form_label(form.address) }}
    {{ form_widget(form.address) }}
</div>

<div>
    {{ form_errors(form.dueDate) }}
    {{ form_label(form.dueDate) }}
    {{ form_widget(form.dueDate) }}
</div>

<h3>Category</h3>
<div class="category">
    {{ form_row(form.category.name) }}
</div>

    {{ form_rest(form) }}

    <input type="submit" />
</form> 
```

文件路径：`Acme/TaskBundle/Form/Type/CategoryType.php`

```
<?php
namespace Acme\TaskBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;

class CategoryType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder->add('name','text');
    }

    public function setDefaultOptions(OptionsResolverInterface $resolver)
    {
        $resolver->setDefaults(array(
            'data_class' => 'Acme\TaskBundle\Entity\Category',
        ));
    }

    public function getName()
    {
        return 'category';
    }
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:23:34.830

你能显示你的代码吗？因为那个错误告诉你你使用数组 - 当你应该使用类别对象的实例时

// 显示 /Acme/TaskBundle/Entity/Task.php plz :)

并尝试改变：

```
$builder->add('category', new CategoryType()); 
```

至

```
$builder->add('category', 'collection', array('type' => new CategoryType)); 
```

# jquery - Jquery fancybox 2.1.3 vimeo 问题

> ID：14151431
> 
> 赞同：0
> 
> 时间：2013-01-04T05:14:51.260
> 
> 标签：jquery, fancybox, vimeo, fancybox-2

我在这里实现了 jquery fancybox 2.1.3：http: [//n2lose.kodingen.com/homepage/test.html](http://n2lose.kodingen.com/homepage/test.html)

来源

```
<a href="http://vimeo.com/35400388" class="Video pull-left">
                <img src="background/Video.png" alt="video platform" />
            </a> 
```

脚本：

```
$('.Video').fancybox({
            openEffect  : 'none',
            closeEffect : 'none',
            helpers : {
                media : {}
            }
        }); 
```

我按照这里的例子：http: [//fancyapps.com/fancybox/#examples](http://fancyapps.com/fancybox/#examples)来做到这一点。我不知道为什么它不起作用，并看到控制台 firebug 错误：

> 未捕获的错误：语法错误，无法识别的表达式

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:44:40.397

[**jsFiddle 演示：Fancybox v2.1.3**](http://jsfiddle.net/j5zXV/2/)

Fancybox 网页上的该示例需要使用在此位置找到的附加 .js 文件：

```
http://fancyapps.com/fancybox/source/helpers/jquery.fancybox-media.js 
```

您还应该为要呈现的视频定义 a`width`和 a `height`，例如 `1280 x 656`. 要知道要使用的确切视频尺寸，为了保留视频的**纵横比**（因此黑条不会显示在顶部/底部或侧面），只需单击该视频 Vimeo 网页上的下载按钮。

**编辑：**另外，我也发现了这个[**iframed jsFiddle**](http://jsfiddle.net/L9HH5/)。

# javascript - 关于内容类型的两个问题

> ID：14151433
> 
> 赞同：1
> 
> 时间：2013-01-04T05:14:57.170
> 
> 标签：javascript, xmlhttprequest

XMLHttpRequest 的新手，这对我来说有些困惑：

1.  为什么在 xmlhttprequest 中使用 post 方法时必须设置内容类型？

    XHR.setRequestHeader("内容类型", "application/x-www-form-urlencoded");

2.  默认值 application/x-www-form-urlencoded 不是已经了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-10-05T08:05:24.057

这也是一个帮助您通过 application/x-www-form-urlencoded 传递参数的工具。[https://www.browserling.com/tools/url-encode](https://www.browserling.com/tools/url-encode)。另外我建议您先使用 Postman 工具检查 API 响应，然后在 JS 中使用 Ajax 调用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:42:46.327

> 为什么在 xmlhttprequest 中使用 post 方法时必须设置内容类型？

```
XHR.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); 
```

当您通过 AJAX 执行 HTTP/POST（或就此而言通过其他方式）时，HTTP/POST 不会要求该特定内容类型。这取决于您（以及处理它的服务器端程序）。阅读第二部分，了解为什么我们必须明确设置它。

很多时候，我们将表单序列化（百分位编码——a=b&c=d 格式）并将其发送到服务器。这种格式是`application/x-www-form-urlencoded`. 如果您要发送 XML，您将使用`application/xml`, 对于 JSON，您将使用`application/json`等等。

至于 GET 请求，没有正文，因此我们并不真正需要内容类型标头。

> 默认值 application/x-www-form-urlencoded 不是已经了吗？

我尝试在[这里](http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method)浏览默认的内容类型标题。我什么也找不到。但是，当我尝试通过 chrome 的控制台发出 HTTP/POST AJAX 请求时，我注意到 chrome 的默认值为`application/xml`.

只是一条建议——永远不要依赖默认行为，除非它明确说明和/或是标准的一部分。为什么不明确设置内容类型？

# android - 如果不在 Main Activity 中，Google Maps 会清空磁贴

> ID：14151440
> 
> 赞同：1
> 
> 时间：2013-01-04T05:15:11.957
> 
> 标签：android, google-maps, android-layout, android-intent

我正在尝试制作用户可以选择单击“在地图上查找”按钮的应用程序。如果用户单击“在地图上查找”按钮，我想开始包含谷歌地图的新活动。

我做了这个教程和地图显示。 [http://mobiforge.com/developing/story/using-google-maps-android](http://mobiforge.com/developing/story/using-google-maps-android)

但是，本教程在主要活动中显示了地图。这就是为什么我制作了与上面显示的教程中的主要活动完全相同的 ViewMap 活动。这就是我开始 ViewMap 活动的方式：

```
 findOnMapButton.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {

        // create an Intent to launch the ViewMap Activity
             Intent viewMap = new Intent(ViewCourse.this, ViewMap.class);
             startActivity(viewMap); // start the ViewContact Activity

            }
        }); 
```

这是 ViewMap.java：

```
 package com.ijankovic.exammanager;

    import android.os.Bundle;
    import com.google.android.maps.GeoPoint;
    import com.google.android.maps.MapActivity;
    import com.google.android.maps.MapController;
    import com.google.android.maps.MapView;

    public class ViewMap extends MapActivity {

private MapView mapView;
    private MapController mc;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.view_map);

     mapView = (MapView) findViewById(R.id.mapview);
     mc = mapView.getController();

     String coordinates[] = {"31.567615", "74.360962"};
     double lat = Double.parseDouble(coordinates[0]);
     double lng = Double.parseDouble(coordinates[1]);

     GeoPoint p = new GeoPoint(
     (int) (lat * 1E6),
     (int) (lng * 1E6));

    mc.animateTo(p);
     mc.setZoom(7);
     mapView.invalidate();
}

@Override
protected boolean isRouteDisplayed() {
    return false; // we are not displaying route information
}
} 
```

这是 view_map.xml：

```
 <?xml version="1.0" encoding="utf-8"?>
    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent" >

    <com.google.android.maps.MapView
        android:id="@+id/mapview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:apiKey="0jHJ3aWhSfOMZ1gjFMGc8xTf7mASBEtQcynZPOQ"
        android:clickable="true"
        android:enabled="true" />

    </RelativeLayout> 
```

我知道我的 API 密钥肯定有效，因为如果我将 ViewMap 作为主要活动，地图就会显示。但是，如果我尝试将其置于单击按钮时调用的活动中，地图会打开，但一切都是灰色的，并且不会加载图块。左下角有谷歌标志。

这是我的清单文件：

```
 <?xml version="1.0" encoding="utf-8"?>
    <manifest xmlns:android="http://schemas.android.com/apk/res/android"
        package="com.ijankovic.exammanager"
        android:versionCode="1"
        android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="10" />

<uses-permission android:name="android.premission.INTERNET" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@android:style/Theme.NoTitleBar" >
        <activity
            android:name="com.ijankovic.exammanager.MainActivity"
            android:configChanges="keyboardHidden|orientation|screenSize"
            android:label="@string/app_name"
            android:screenOrientation="portrait" >

        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
        </activity>
        <activity android:name=".ViewCourse"
            android:label="@string/app_name"></activity>
        <activity android:name=".ViewMap"
            android:label="@string/app_name"></activity>

        <uses-library android:name="com.google.android.maps" />
    </application>
</manifest> 
```

**问题：**

我的 Intent 和 ViewMap 活动调用有问题吗？

欢迎任何建议。提前致谢！

**编辑：**

我设法通过这个电话获得了谷歌地图：

```
 Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse("google.navigation:q=New+York+NY)); 
    startActivity(i); 
```

然而，这似乎启动了谷歌地图应用程序。它不是我的应用程序中显示的谷歌地图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:35:12.927

在您的清单文件中添加这两个权限在 Internet 权限之前：

```
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
 <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /> 
```

并确保你`API key`是正确的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:37:49.260

在清单文件中添加此权限。

> ```
> <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
> <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
> <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
> ```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:00:23.470

在您的地图活动中，您是否定义了 MapController ？您可能错过了 MapView 或 MapController 您可以在 mapactivity 类中使​​用以下代码来确认

```
 private MapView mapView;
     private MapController mc;

     /** Called when the activity is first created. */
     @Override
     public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.main);

     mapView = (MapView) findViewById(R.id.mapview1);
     mc = mapView.getController();

     String coordinates[] = {"31.567615", "74.360962"};
     double lat = Double.parseDouble(coordinates[0]);
     double lng = Double.parseDouble(coordinates[1]);

     GeoPoint p = new GeoPoint(
     (int) (lat * 1E6),
     (int) (lng * 1E6));

    mc.animateTo(p);
     mc.setZoom(7);
     mapView.invalidate();
     } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:27:51.900

只需将此类复制并粘贴到您的项目中即可。我已经在我的演示项目中进行了测试，它对我有用...希望它也对您有用.. :)

```
import com.google.android.maps.MapActivity;
import android.os.Bundle;
import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;
public class MyMapActivity extends MapActivity
{
    private MapView mapView;
    private MapController mc;
    private GeoPoint geoPoint;
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.view_map);

        mapView = (MapView) findViewById(R.id.mapview);
        mc = mapView.getController();
        mc.setZoom(16);

        geoPoint = new GeoPoint((int)(31.567615 * 1E6),(int)(74.360962 * 1E6));
        mc= mapView.getController();
        mapView.setBuiltInZoomControls(true);
        mapView.setStreetView(true);                       
        mc.animateTo(geoPoint);

    }

    @Override
    protected boolean isRouteDisplayed()
    {
        return false;
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T21:41:18.230

我弄清楚了问题所在！

我有什么：

```
 <uses-permission android:name="android.premission.INTERNET" /> 
```

它应该是什么：

```
 <uses-permission android:name="android.permission.INTERNET" /> 
```

所以我输入了权限而不是权限。我很惊讶 Eclipse 没有在 AndroidManifest.xml 文件中指出语法错误。

# java - 无法远程连接静态 IP 上的 MSQL

> ID：14151441
> 
> 赞同：0
> 
> 时间：2013-01-04T05:15:28.593
> 
> 标签：java, mysql, toad

我正在尝试从**java连接到****Mysql** 我使用的是**Mysql 5.5**，我可以在本地网络中远程访问它。但是当我将该系统放在**静态 Ip**上时，我无法远程连接到 Mysql。

 ******我能够连接到**Mysql 端口** ，并且我已经检查了防火墙是否阻止了该端口，但没有发现这样的问题。

我还使用 Toad 进行了检查。

任何特殊设置需要请帮助我..提前谢谢。

// 编辑错误信息

```
ERROR 2003 (HY000): Can't connect to MySQL server on 'Static_IP' (10061) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:21:28.687

嗨，你能分享一下异常的堆栈跟踪吗

尝试以下解决方案：

1.  确保 MySQL Conncetor for java 包含在您的类路径中。
2.  试试这个示例代码：

声明类变量：

```
static final String JDBC_DRIVER = "com.mysql.jdbc.Driver";
static final String DB_URL = "jdbc:mysql://ip_address:port_name/db_name";
static final String USER = "username";
static final String PASS = "password"; 
```

创建数据库连接的示例代码：

```
Connection conn = null;
Statement stmt = null;

// STEP 1: Register JDBC driver
Class.forName(JDBC_DRIVER);

// STEP 2: Open a connection
System.out.println("Connecting to database...");
conn = DriverManager.getConnection(DB_URL, USER, PASS);

// STEP 3: Execute a query
System.out.println("Creating statement...");
stmt = conn.createStatement();
String sql;
sql = "SELECT * FROM table_name";
ResultSet rs = stmt.executeQuery(sql); 
```

然后迭代 rs 以获取行******

# c++ - 如何通过 QSignalMapper 或其他方式将 QString 从 QMenu 传递到 Qt 插槽

> ID：14151443
> 
> 赞同：6
> 
> 时间：2013-01-04T05:15:30.193
> 
> 标签：c++, qt4, qstring, qmenu, qt-signals

我有一个带有许多子菜单的 QMenu。这些是动态创建的，即名称菜单来自数据库并在循环中创建。现在我想在单击菜单时触发相同的 slottrigger() 或类似的，但我需要将 QString 菜单名称传递给 slot，以便我可以执行特定于菜单的操作。我已经尝试[过](https://stackoverflow.com/questions/9187538/qt-how-to-add-a-list-of-qactions-to-qmenu-and-handle-them-with-a-single-slot)了，即将一个 QAction * 传递给触发的事件并使用了 setData 但我得到了运行时错误。

> object::connect: 没有这样的信号 QAction::triggered(QAction *)

```
for(int j=0; j<channelTypes[i].getNumChannels() ; j++){
        QAction *subMenuAct = subMenu->addAction(tr(c_name)); // c_name the menu name
        subMenuAct->setData(ch_name);
        connect(subMenuAct, SIGNAL(triggered(QAction *)), this, SLOT(playChannel(QAction *))); // playChannel is the slot
}

void <ClassName>::playChannel(QAction *channelAction)
{
     QString str = channelAction->data().toString();
    qDebug() << "Selected - " << str;
} 
```

或者，我也尝试过 QSignalMapper ，其中 signalMapper 是在构造函数中初始化的数据成员

```
signalMapper = new QSignalMapper(this); 
```

和

```
for(int j=0; j<channelTypes[i].getNumChannels() ; j++){
       QAction *subMenuAct = subMenu->addAction(tr(c_name));

       connect(subMenuAct, SIGNAL(triggered()), signalMapper, SLOT(map()));
       signalMapper->setMapping(subMenu, ch_name);
       connect(signalMapper, SIGNAL(mapped(QString)), this, SLOT(playChannel(QString)));
} 
```

在第二种情况下，我没有收到任何错误，但是插槽函数 playChannel 没有被调用。如果有人可以帮助解决它，我将不胜感激。

**更新 1：**我从其他示例中看到的唯一区别是，通常人们将*来自多个小部件的信号连接到一个插槽*（比如不同的按钮）。在我的情况下，我将*几个子菜单（具有不同的名称）连接到一个插槽*。这应该有什么不同吗？

**更新 2：**它在以下解决方案[中](https://stackoverflow.com/a/14157471/986760)为 QSignalMapper 建议的更正后工作。此外，我使用 SubMenu 作为 setMapping 的参数，而应该使用 MenuAction 项。但是现在我多次触发事件，即与所选子菜单类别的主菜单中的条目一样多。如果频道类型是英语（主菜单），有四个条目）、HBO、明星电影等（子菜单），并且我选择 HBO，则使用字符串 HBO 触发事件四次。如果我为每个子菜单创建一个单独的信号映射器，它工作正常。但我希望应该使用一个映射器，我在这里做错了。答案的评论中有更多细节。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T12:47:04.680

添加`QAction`到菜单后，您只需连接`QMenu`到插槽。您不会将每个操作单独连接到插槽：

```
for(int j=0; j<channelTypes[i].getNumChannels() ; j++){
    ch_name = <name from the database for the channel j>;
    QAction *subMenuAct = subMenu->addAction(tr(ch_name));
    subMenuAct->setData(ch_name);
}

connect(subMenu, SIGNAL(triggered(QAction *)), 
        this, SLOT(playChannel(QAction *)), Qt::UniqueConnection); 
```

因为我不知道如果您在`subMenu`每次填充动态菜单时删除，`Qt::UniqueConnection`确保插槽不会被多次重新连接。

* * *

对于信号映射器版本，您应该只将操作连接到循环中的映射器。从映射器到插槽的连接应该只进行一次。

```
for(int j=0; j<channelTypes[i].getNumChannels() ; j++){
   ch_name = <name from the database for the channel j>;
   QAction *subMenuAct = subMenu->addAction(tr(ch_name));
   connect(subMenuAct, SIGNAL(triggered()), signalMapper, SLOT(map()));
   signalMapper->setMapping(subMenuAct, ch_name);   
}
connect(signalMapper, SIGNAL(mapped(QString)), this, SLOT(playChannel(QString))); 
```

对于这种情况，插槽`playChannel`应该接受 a`QString`而不是 a `QAction*`。

# jquery - 在折线图中隐藏零值 Kendo ui

> ID：14151445
> 
> 赞同：2
> 
> 时间：2013-01-04T05:15:37.790
> 
> 标签：jquery, kendo-ui

无论如何要在折线图中隐藏零 (0) 值的数据点？我目前正在使用折线图（剑道），似乎找不到一种简单的方法来做到这一点。基本上一条线出现在图表上的 0 值处，我宁愿根本不显示这条线。线端值之一的数据绑定为零（我必须删除它）。示例数据如 [30,50,40 ,75,0]

这里我提供html代码

```
 $.ajax({
                type: "POST",
                contentType: "application/json;charset=utf-8",
                url: "dataVizWebService.asmx/GetSellInOfficeTrends",
                dataType: "json",
                success: function (data) {

                    $("#chart").kendoChart({
                        dataSource: {
                            data: data.d,
                            value: "#={0}>0"
                        },
                        legend: {
                            position: "bottom"
                        },
                        title: {
                            text: "Population"
                        },
                        series: [
                                    {
                                        type: "line",
                                        field: "Population2010",
                                        name: "Population2010",
                                        axis: "Year",
                                        color: "#4a7ebb"
                                    }, {
                                        type: "line",
                                        field: "Population2011",
                                        name: "Population2011",
                                        axis: "Year",
                                        color: "#be4b48"
                                    }, {
                                        type: "line",
                                        field: "Population2012",
                                        name: "Population2012",
                                        axis: "Year",
                                        color: "#98b954"
                                    }, {
                                        type: "line",
                                        field: "Population2013",
                                        name: "Population2013",
                                        axis: "Year",
                                        dashType: "dash",
                                        color: "#000000"
                                    }
                                    ],
                        valueAxis: [{
                            name: "Year",
                            title: { text: "Population in Millions" }
                        }],
                        categoryAxis: {
                            field: "Week",
                            majorTickType: "none",
                            labels: {
                                skip: 0
                            }
                        },
                        tooltip: {
                            visible: true
                        }
                    })
                }
            }); 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-11T11:28:16.403

Kendoui API 文档中有一个缺失值属性。您可以使用这些属性并检查对您有用的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T10:51:15.173

您可以连接到dataSource 的[parse()](http://docs.kendoui.com/api/framework/datasource#schemaparse-function)并在那里您可以更改将传递给图表的数据。例子：

```
function parse(items) {
  var item,
      result = [];

  for (var i = 0; i < items.length; i++) {
    item = items[i];
    if (item.value !== 0) {
      result.push(item);
    }
  }

  return result;
}

$(function() {
  var data = [{ value: 30 },{ value: 50 },{ value: 40 },{ value: 75 }, { value: 0 }];
  $("#chart").kendoChart({
    dataSource: {
      data: data,
      schema: {
        parse: parse
      } 
    },
    series: [{
      type: "line",
      field: "value"
    }]
  });
}); 
```

# ruby - 为什么 instance_eval 以特殊方式处理直接访问器？

> ID：14151448
> 
> 赞同：0
> 
> 时间：2013-01-04T05:16:05.363
> 
> 标签：ruby, instance-eval

为什么以下代码不会引发错误：

```
Object.new.instance_eval { some_accessor_that_does_not_exist= "a value" } 
```

正如您所料，以下内容会引发 NameError ：

```
Object.new.instance_eval { some_method_that_doesnt_exist } 
```

即使这样也会引发错误：

```
Object.new.instance_eval { self.some_accessor_that_does_not_exist= "a value" } 
```

我已经在 1.8.7-p352 和 1.9.3-p194 上尝试过，结果相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:17:52.127

```
Object.new.instance_eval { some_accessor_that_does_not_exist= "a value" } 
```

这被解释为创建新的本地 var 命名`some_accessor_that_does_not_exist`，而不是 setter 调用。当你使用带有隐式接收器的赋值时，ruby 不知道你是想创建一个本地变量还是调用一个方法，因为声明本地变量没有特殊的语法。因此它创建了一个本地变量。

但是，当您使用显式接收器 ( `self.some_accessor_that_does_not_exist`) 时，ruby 会将其解释为方法并失败。

# jnlp - java_web_start_IP_Hostname_specification

> ID：14151456
> 
> 赞同：0
> 
> 时间：2013-01-04T05:17:05.667
> 
> 标签：jnlp, java-web-start

我已经使用 JaNeLa 检查了我的 jnlp 文件并更正了错误。

有什么办法可以让我在 JNLP 文件中指定远程服务器的**IP**和**主机名**作为属性。

不知何故喜欢：

```
<property name="remoteIP" value="172.58.198.117"/>
<property name="hostname" value="rhel5"/> 
```

我的应用程序是一个 CORBA 应用程序，我从我的机器中的 tomcat 服务器部署它。但是 CORBA 服务器是远程 RHEL5 (Enterprise Linux 5) 机器。

在这个 web 启动场景中，当我仔细检查无法检测到远程 CORBA 服务器机器时，这就是发生所有这些错误和问题的原因。

在我的机器中，我已经在**“C:\WINDOWS\system32\drivers\etc\hosts”**文件中声明了 IP 和主机名条目。当我过去只使用批处理文件从 jar 运行 CORBA 应用程序时，可以通过读取主机文件轻松检测到服务器机器，并且应用程序工作正常。但在 Web Start 中，我需要采取特殊措施并以某种方式提供远程机器的**IP**和**主机名。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T17:51:40.957

在 jnlp 文件中，您可以使用

```
<application-desc main-class="Main">
    <argument>1.2.3.4</argument>
    <argument>hostname</argument>
</application-desc> 
```

[http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/syntax.html#application_desc](http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/syntax.html#application_desc)

然后你需要修改你的应用程序来处理这些参数。

另一个需要签名所有 jar 文件的替代方法是

在不受限制的模式下运行应用程序[doc](http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/syntax.html#security)，它应该能够读取文件系统上您想要的任何文件

```
<security>
   <all-permissions/>
</security> 
```

# php - mysql和mysqli的区别

> ID：14151458
> 
> 赞同：28
> 
> 时间：2013-01-04T05:17:08.453
> 
> 标签：php, mysql, mysqli

> **可能重复：**
> [php中的mysql vs mysqli](https://stackoverflow.com/questions/548986/mysql-vs-mysqli-in-php)

`mysql_* functions`和 和 有什么不一样 `mysqli_* functions`？我们不应该使用背后有什么技术原因`mysql_* functions`吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-04T05:22:29.157

“i”代表“改进”。可以在[此处](http://www.php.net/manual/en/mysqli.overview.php)找到改进列表。

MySQLi 是 MySQL 扩展的 OOP 版本。最后，MySQLi 和 MySQL 完成了同样的事情：它们是 PHP 与 MySQL 交互的扩展。很多人仍然使用原来的 MySQL 扩展而不是新的 MySQLi 扩展，因为 MySQLi 需要 MySQL 4.1.13+ 和 PHP 5.0.7+ 。

MySQLi 支持一些旧的 MySQL 扩展不支持的东西。诸如准备好的语句，多个语句和交易之类的事情在我头上。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-04T05:19:57.253

[http://php.net/manual/en/mysqli.overview.php](http://php.net/manual/en/mysqli.overview.php)应该解释所有的差异

# javascript - 如何显示 Popunder - 窗口模糊在 Firefox、Chrome 上不起作用

> ID：14151460
> 
> 赞同：3
> 
> 时间：2013-01-04T05:17:24.653
> 
> 标签：javascript, jquery, popup

我已经检查了过去的许多类似问题。那时有很多建议（比如[this](https://stackoverflow.com/questions/6400086/window-blur-not-working-with-firefox-4)、[this](https://stackoverflow.com/questions/2758608/window-focus-not-working-in-google-chrome)和[this](https://stackoverflow.com/questions/1255686/jquery-window-focus-blur-events-not-triggering-works-in-firefox-and-chrome)）。我现在需要构建一个需要显示弹出窗口的应用程序（这不是广告，而是网站实用程序的一部分）。

我尝试了那里的所有建议，但它似乎不再起作用。有没有人可以帮助我解决 setmp3.com 之类的网站如何继续显示 popunder 广告？我无法在源代码中找到实际的脚本

# java - 如何使用java代码检查邮件是否未发送

> ID：14151463
> 
> 赞同：0
> 
> 时间：2013-01-04T05:17:54.410
> 
> 标签：java

我正在使用以下代码发送邮件

```
public class Mail
{
    public static void main(String[] args)
    {
                String[] to={"abcd@xyz.co"};
                String[] cc={"pqrs@xyz.com"};
                String subject = "Subject";
                String body = "This is Body....!!";

        Mail.sendMail("From@gmail.com","Password","smtp.gmail.com","465","true",
       "true",true,"javax.net.ssl.SSLSocketFactory","false",to,cc,
       subject,body);             
    }

  public synchronized static boolean sendMail(String userName,String passWord,String host,String port,String starttls,String auth,boolean debug,String socketFactoryClass,String fallback,String[] to,String[] cc,String subject,String text)
{
            Properties props = new Properties();
            //Properties props=System.getProperties();
    props.put("mail.smtp.user", userName);
    props.put("mail.smtp.host", host);
            if(!"".equals(port))
    props.put("mail.smtp.port", port);
            if(!"".equals(starttls))
    props.put("mail.smtp.starttls.enable",starttls);
    props.put("mail.smtp.auth", auth);
            if(debug){
            props.put("mail.smtp.debug", "true");
            }else{
            props.put("mail.smtp.debug", "false");         
            }
            if(!"".equals(port))
    props.put("mail.smtp.socketFactory.port", port);
            if(!"".equals(socketFactoryClass))
    props.put("mail.smtp.socketFactory.class",socketFactoryClass);
            if(!"".equals(fallback))
    props.put("mail.smtp.socketFactory.fallback", fallback);

    try
    {
                    Session session = Session.getDefaultInstance(props, null);
        session.setDebug(debug);
        MimeMessage msg = new MimeMessage(session);
        msg.setText(text);
        msg.setSubject(subject);
        msg.setFrom(new InternetAddress("From@gmail.com"));
                    for(int i=0;i<to.length;i++){
        msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to[i]));
                    }
                    for(int i=0;i<cc.length;i++){
        msg.addRecipient(Message.RecipientType.CC, new InternetAddress(cc[i]));
                    }
        msg.saveChanges();
                    Transport transport = session.getTransport("smtp");
                    transport.connect(host, userName, passWord);
                    transport.sendMessage(msg, msg.getAllRecipients());
                    transport.close();
                    return true;
    }
    catch (Exception mex)
    {
        mex.printStackTrace();
                    return false;
    }
    } 
```

代码工作正常，消息已发送。但是如果消息尚未发送（例如当我尝试发送到 abcd@xyz.com 时，因为它的邮件 ID 无效），我想设置一个标志（例如 flag=false）。如果有人可以帮助我，我将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:29:59.070

您可能必须输入一封实际的电子邮件`msg.setFrom()`并检查其收件箱中的未[送达报告](http://en.wikipedia.org/wiki/Non_delivery_report)。

大多数服务器会在放弃之前尝试多次发送您的电子邮件，因此您无法确定电子邮件是否立即有效。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-04T05:21:00.993

您应该`Authenticator`在创建`Session`.

```
Session session = Session.getInstance(props,
          new javax.mail.Authenticator() {
            protected PasswordAuthentication getPasswordAuthentication() {
                return new PasswordAuthentication(username, password);
            }
          }); 
```

验证器 - 验证器对象，用于在需要用户名和密码时回调应用程序。

请找到带有解释的工作示例 -[链接](http://www.mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/)

# mysql - 导入大型数据库 - CPanel & MySQL & PHPMyAdmin

> ID：14151470
> 
> 赞同：1
> 
> 时间：2013-01-04T05:18:23.290
> 
> 标签：mysql, sql, database, phpmyadmin, cpanel

我有一个大小超过 100 MB 的数据库。它有 ，`.sql.gz`这意味着它是压缩的。当我尝试使用 PHPMyAdmin 导入它时，出现超时错误。我什至尝试了部分导入（*如果脚本检测到它接近 PHP 超时限制，则允许中断导入。（这可能是导入大文件的好方法，但它可能会破坏事务。）*）这不适用于我。鉴于我正在使用 CPanel 和 PHPMyAdmin 来完成工作。

怎样才能导入这个数据库？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-04T05:33:45.803

您可以为此使用[***BigDump***](http://www.ozerov.de/bigdump/)

1.  调整此文件中的数据库配置和字符集

2.  如果您的转储不包含“DROP TABLE”，则删除目标数据库上的旧表

3.  在您的 Web 服务器上创建工作目录（例如转储）

4.  通过 FTP 将 bigdump.php 和您的转储文件（.sql、.gz）上传到工作目录

5.  [通过http://www.yourdomain.com/dump/bigdump.php](http://www.yourdomain.com/dump/bigdump.php)等 URL 从浏览器运行 bigdump.php

6.  如果您启用 JavaScript，BigDump 可以自动启动下一个导入会话

7.  等待脚本完成，不要关闭浏览器窗口

8.  重要提示：从 Web 服务器中删除 bigdump.php 和您的转储文件

如果超时错误仍然发生，您可能需要调整`$linepersession`此文件中的设置。[阅读更多](http://www.ozerov.de/bigdump/usage/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-10-04T11:22:40.453

导入大型 mysql 数据库的非常简单有效的技术。

1.  **使用命令行控制台**

您可以使用 putty for server 访问命令行并执行以下命令

```
mysql -u 'database_user' -p'database_password' database_name < sql_file_name_with_full_path 
```

2.  **使用 Cron 作业 [如果控制台不可用]**

使用以下命令在 cpanel 中添加 cron 作业

```
mysql -u 'database_user' -p'database_password' database_name < sql_file_name_with_full_path 
```

**导入数据库后不要忘记删除 cron 作业。同时从服务器中删除 sql 文件。**

对于这两种技术命令是相同的

例子

```
mysql -u 'test_user' -p'123456' test_db < /home1/test/public_html/db.sql 
```

或者如果您没有密码

```
mysql -u 'test_user' test_db < /home1/test/public_html/db.sql 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-02-09T23:29:44.823

[根据我对hepsiawebhosting.com](http://hepsiawebhosting.com)服务器的看法和经验，在 WHM 设置（称为“Tweak setting”）下设置这些参数会更好更快。在 Tweak 设置下，您可以修改最大上传和最大发布，例如，您可以将上传更改为 120 MiB 并将发布更改为 125 MiB。

此外，在 WHM 下的 PHP 设置中，您可以更改默认套接字和 SQL 超时。您需要增加这些设置。

您还可以解压缩数据库并尝试将其作为简单的 .sql 文件上传。

我希望这能帮到您。

* * *

为什么没有发布，这里缺少什么？

# c# - Windows App Store - System.Net 命名空间 - 等效对象

> ID：14151494
> 
> 赞同：2
> 
> 时间：2013-01-04T05:20:56.133
> 
> 标签：c#, windows-8, windows-runtime, windows-networking

我知道 Windows App Store 应用程序对 System.Net 命名空间的支持有限。

我知道对于 TCP 和 UDP 协议，Windows.Networking 命名空间包含 StreamSocket、DataReader、DataWriter 等等价物。

我使用 System.Net 中的其他一些重要对象，我似乎无法在 WinRT 中找到等效对象。特别是这些：

```
MailAddress
ContentType
ContentDisposition
Thread 
```

有人知道这些的等价物吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:45:15.500

据我所知，WinRT 没有等效的对象。

你真的需要那些对象吗？

MailAddress 除了允许您设置显示名称和电子邮件地址之外，并没有真正添加任何值。显示名称为“发件人”的电子邮件的标题如下所示：

`From: Joe Dirt <joe.dirt@somegmail.com>`

如果您愿意，您可以轻松实现自己的 MailAddress，但您是直接从设备发送电子邮件吗？

ContentType，同样，这些只是您真正想要在 Windows 应用商店应用程序上发送/接收的少数内容类型。

json/xml/html，可能还有一些视频/音频媒体。但是根据您正在构建的内容，没有必要考虑 JSON 的标头值`application/json`或者`application/json; charset=utf-8`您是否想要包含编码。

# jquery - 每次加载页面时如何执行 Jquery 的功能？

> ID：14151496
> 
> 赞同：2
> 
> 时间：2013-01-04T05:21:00.133
> 
> 标签：jquery, load, refresh, setinterval, document-ready

当您进入底部时，我的网站会不断加载内容。我有下一个 Jquery（它的作用并不重要）

```
$(document).ready(function(){ 
    $(".info").each(function(e) { 
        $(this).html($(this).html().replace('o', 'e')); 
    }); 
}); 
```

该脚本将所有“o”替换为“e”。问题是它只执行一次，我希望每次浏览器加载某些内容时执行一次，在这种情况下，当您转到网站底部时。目前，我用这个

```
window.setInterval(function(){
    $(document).ready(function(){ 
        $(".info").each(function(e) { 
        $(this).html($(this).html().replace('ó', 'o')); 
        }); 
    });
}, 6000); 
```

每 6 秒执行一次该脚本，但不是最佳解决方案。我知道存在基于 PHP 的解决方案，但我还不了解 PHP。你知道解决办法吗？提前谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T09:39:11.573

如果您使用的是 jquery ajax 并呈现数据，那么，

```
 $(document).ready(function () {
        $(".info").each(function (e) {
            $(this).html($(this).html().replace('ó', 'o'));
        });

        $('#selector').click(function () {
            $.ajax({
                url: '/your_path', type: 'Get',
                data: {}, //Optional 
                success: function (data) {
                    $('body').append(data);

                    $(".info").each(function (e) {
                        $(this).html($(this).html().replace('ó', 'o'));
                    });
                }
            });
        });
    }); 
```

# ruby-on-rails - Rails 3：使用 rabl 生成视图

> ID：14151510
> 
> 赞同：0
> 
> 时间：2013-01-04T05:22:24.113
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, json, rabl

在我的 Rails 应用程序中，我有两个实例变量 @departments 和 @register

@部门=

```
{
    "users": [
        {
            "departmentid": "DP11"
        },
        {
            "departmentid": "DP12"
        },
        {
            "departmentid": "DP13"
        },
        {
            "departmentid": "DP10"
        }
    ]
} 
```

@注册=

```
{
    "attendance": [
        0,
        0,
        2,
        1
    ]
} 
```

@register 包含一个数组。

是否可以使用 rabl (attendancebydepartment.json.rabl) 视图显示如下格式

```
{
        "users": [
            {
                "departmentid": "DP11",
                "attendance"=0
            },
            {
                "departmentid": "DP12",
                "attendance"=0
            },
            {
                "departmentid": "DP13",
                "attendance"=2
            },
            {
                "departmentid": "DP10",
                "attendance"=1
            }
        ]
    } 
```

我的控制器看起来像

```
def attendancebydepartment
    @register = Array.new
    @departments = User.select('departmentid').uniq
    startdate = params[:startdate]
    enddate = params[:enddate]
    @count = @departments.count
    @departments.each do |d|
    @register << (Register.where(:date => startdate..enddate , :departmentid => d.departmentid).sum(:one))+(Register.where(:date => startdate..enddate , :departmentid => d.departmentid).sum(:two))
    end
  end 
```

是否可以将每个部门及其相应的出勤率添加到数组中，以便我可以显示预期的格式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:40:43.403

`OpenStruct`使用类似这样的方法在控制器中创建对象可能是最简单的，但我建议重新编写`attendancebydepartment`以不循环两次。

```
@users = []
@departments.each_with_index do |dep, index|      
  user = OpenStruct.new
  user.departmentid = dep.departmentid
  user.attendence = @register[index].attendence
  @users << user
end 
```

在视图中：

```
collection @users => :users
attribute :departmentid, :attendence 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:28:17.203

也许使用该`zip`方法创建一个新变量然后呈现它。

```
irb(main):001:0> departments = {'users' => [{'id' => 1}, {'id' => 2}]}
=> {"users"=>[{"id"=>1}, {"id"=>2}]}

irb(main):002:0> register = {'attendance' => [0,1]}
=> {"attendance"=>[0, 1]}

irb(main):004:0> departments['users'].zip(register['attendance'])
=> [[{"id"=>1}, 0], [{"id"=>2}, 1]] 
```

另一方面，看起来更简单的设计是拥有一个与 关联的`Department`模型。然后，您可以直接从.`has_many``Users``Department`

# ruby-on-rails - ruby on rails 给出没有路由匹配错误

> ID：14151512
> 
> 赞同：0
> 
> 时间：2013-01-04T05:22:37.597
> 
> 标签：ruby-on-rails

我正在遵循“使用 Rails 进行敏捷 Web 开发”一书中的示例并被卡住了。希望能在这里得到一些帮助。我创建了 depot 应用程序，然后搭建了产品资源：

rails 生成脚手架产品标题：字符串描述：文本 image_url：字符串价格：十进制

一切都很好。我可以点击“http://localhost:3000/products”并查看本书提供的具有漂亮 css 的产品。

我有几个小时没有接触该应用程序，并决定再次完成该示例。我不能再点击产品页面。我收到以下错误：

```
No route matches [GET] "/products" 
```

我没有改变任何东西。这本书建议我偶尔将所有事情都提交给 git。我已经取回了最后一次提交，但仍然是同样的错误。其他人也得到同样的错误并且在stackoverflow上有同样的问题，但我不明白答案。

以下是文件：

```
routes.rb
Depot::Application.routes.draw do
  resources :products 
```

路线命令：

```
rake routes
    products GET    /products(.:format)          products#index
             POST   /products(.:format)          products#create
 new_product GET    /products/new(.:format)      products#new
edit_product GET    /products/:id/edit(.:format) products#edit
     product GET    /products/:id(.:format)      products#show
             PUT    /products/:id(.:format)      products#update
             DELETE /products/:id(.:format)      products#destroy 
```

还尝试了几次重新启动服务器。同样的错误。我确信我没有改变任何东西。但作为一个完整的 Rails 新手，我可能会做错事。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:59:15.437

也许您正在运行另一个不是 depot 应用程序的 rails 服务器实例。尝试检查终端上的 Rails 服务器日志

与此线程相同的问题，[当路由存在时，为什么我会得到 No Route Matches [GET] "/products"？](https://stackoverflow.com/questions/10965608/why-do-i-get-a-no-route-matches-get-products-when-the-route-exists), ?

# objective-c - 我可以为此使用 NSPredicate 吗？

> ID：14151513
> 
> 赞同：0
> 
> 时间：2013-01-04T05:22:42.117
> 
> 标签：objective-c, ios

这是我的循环：

```
- (NSArray *)myArray
{
    if (!_myArray)
    {
        NSMutableArray *array = [NSMutableArray array];

        for (MyReport *report in self.helper.myReportType.reports)
        {
            [array addObject:report.nameString];
        }        
        _myArray = array;
    }

    return _myArray;
} 
```

这行得通（显然发生了一些铸造，这可能不是很好或不理想），但肯定有更好的方法来做到这一点。可以`NSPredicate`帮忙吗？（我还是新手`NSPredicate`，但我相信它主要是用于过滤数据，而不是构建这样的数组？）否则，我如何使用另一个 Apple 助手类重写它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:29:35.233

`NSPredicate`更多的是关于过滤数据，就像你说的。一个干净的方法是使用键值编码，当使用它时，它会`NSArray`调用`valueForKey:`它的每个对象的方法，并将结果作为一个返回`NSArray`：

```
_myArray = [self.helper.myReportType.reports valueForKey:@"nameString"]; 
```

请注意，此方法会自动转换`nil`为`NSNull`。更高级的 KVC-Collection 运营商信息可以在这里找到：http: [//nshipster.com/kvc-collection-operators/](http://nshipster.com/kvc-collection-operators/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:29:28.200

使用下面的代码 -

```
[self.helper.myReportType.reports valueForKey:@"nameString"]; 
```

它将从报告数组中返回您的 nameString 数组。

# actionscript-3 - 在 AIR 中使用 PHP 读取 MySQL 结果

> ID：14151516
> 
> 赞同：0
> 
> 时间：2013-01-04T05:22:57.747
> 
> 标签：actionscript-3, air

我想知道是否有人可以解释我如何在 AS3 中读取 MySQL 结果数组。

我在用：

```
var loader:URLLoader = new URLLoader();
var urlReq:URLRequest = new URLRequest("http://domain.com/get-api.php");
var urlVars:URLVariables = new URLVariables();
loader.dataFormat = flash.net.URLLoaderDataFormat.TEXT;
urlReq.method = URLRequestMethod.POST;
urlReq.data = urlVars;
urlVars.mySubmittedRateID = GlobalVariables.mySubmittedRateID;
urlVars.myPostcode = GlobalVariables.currentPostcode;
loader.addEventListener(flash.events.Event.COMPLETE, getDataOnComplete);
loader.load(urlReq); 
```

将参数（实际上是 2）传递给 get-api.php 文件。在文件中，我 PHP 读取参数和一个普通的 SQL select where 语句，该语句获取与参数匹配的所有结果。

我的 getDataOnComplete 函数是：

```
private function getDataOnComplete(event:flash.events.Event):void
{
    var loader:URLLoader = new URLLoader(event.target);
    var resultsArray:Array = JSON.decode(loader.data);
} 
```

我的PHP：

```
$row_array['done'] = "true";
return json_encode($row_array); 
```

错误：

```
Error: Error #2101: The String passed to URLVariables.decode() must be a URL-encoded query string containing name/value pairs.
at Error$/throwError()
at flash.net::URLVariables/decode()
at flash.net::URLVariables()
at flash.events::EventDispatcher/dispatchEventFunction()
at flash.events::EventDispatcher/dispatchEvent()
at flash.net::URLLoader/onComplete() 
```

出于某种原因，我什至无法使用 getDataOnComplete 函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:52:38.383

然后你的 php mysql 结果将是数组

在 php 方面，您需要将结果数组转换为 json_encode($result_array) 之类的

```
echo json_encode($result_array); //Note here not return statement; 
```

在 as3 侧

您可以使用具有本机 JSON 类（此处使用 AIR 类）或[as3corelib](https://code.google.com/p/as3corelib/)的最新 AIR SDK来解析 JSON 数据。

```
private function getDataOnComplete(event:flash.events.Event):void
{
  var resultObj:Object = event.target.data;
  var resultsArray:Object = JSON.stringify(resultObj);
} 
```

更多细节[pass-an-array-from-php-to-actionscript-3](https://stackoverflow.com/questions/3074043/how-can-i-pass-an-array-from-php-to-actionscript-3-flash)

# sencha-touch-2 - 在视口中创建面板

> ID：14151518
> 
> 赞同：0
> 
> 时间：2013-01-04T05:23:02.383
> 
> 标签：sencha-touch-2, viewport

我正在我的 app.js 文件中创建一个视口。我需要在这个视口内创建一个面板。关于如何做到这一点的任何想法？

```
//<debug>
Ext.Loader.setConfig({disableCaching:false});
Ext.Loader.setPath({
    'Ext': 'sdk/src'
});
//</debug>

Ext.application({
    name: 'SEPA',
    controllers: ["MainController"],
    requires: [
        'Ext.MessageBox'
    ],

    controllers:['MainController'],

    icon: {
        57: 'resources/icons/Icon.png',
        72: 'resources/icons/Icon~ipad.png',
        114: 'resources/icons/Icon@2x.png',
        144: 'resources/icons/Icon~ipad@2x.png'
    },

    phoneStartupScreen: 'resources/loading/Homescreen.jpg',
    tabletStartupScreen: 'resources/loading/Homescreen~ipad.jpg',
    fullscreen: false,
    //centered:true,
    // margin: 100,

    launch: function() {
        Ext.Viewport.setWidth(320);
        Ext.Viewport.setHeight(480);

        //Ext.Viewport.setCentered(false);
        // Ext.Viewport.setRight(2);

        // Destroy the #appLoadingIndicator element

    },

    onUpdated: function() {
        Ext.Msg.confirm(
            "Application Update",
            "This application has just successfully been updated to the latest version. Reload now?",
            function() {
                window.location.reload();
            }
        );
    }
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T11:03:21.953

`launch`在函数中添加这个

```
 var panel = Ext.create('Ext.Panel', {
       // fullscreen: true,
        html: 'Hello from your first Sencha Touch App made by Sencha Fiddle.'
    });

Ext.Viewport.add(panel); 
```

[工作示例](http://www.senchafiddle.com/#EN98f)

# linux - 函数 dentry_path_raw 有什么作用

> ID：14151521
> 
> 赞同：2
> 
> 时间：2013-01-04T05:23:26.377
> 
> 标签：linux, linux-kernel

请解释一下这个说法：

```
directory_path=dentry_path_raw(lower_dentry,buf,buflen); 
```

还举一个例子说明它是如何工作的

包含哪些字段`struct dentry`？`s_root`字段指向什么？字段`s_root`包含什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T05:40:03.623

您可以[在此处查看 dentry 的字段](http://lxr.free-electrons.com/source/include/linux/dcache.h#L103)。`dentry_path_raw`将目录条目的完整路径从文件系统的根目录放入`buffer`. `s_root` [是](http://lxr.free-electrons.com/source/include/linux/fs.h#L1233) `super block`定义在的成员`linux/fs.h`并且是文件系统的根，它是一个`dentry`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-23T06:56:38.460

```
char *dentry_path_raw(struct dentry *dentry, char *buf, int buflen) 
```

上述函数将文件系统根目录的完整路径名返回到缓冲区中。每个字段解释如下。

@dentry-dentry 要查找的文件

@buf-buffer 存储路径

@buf的@buflen长度

有关更多详细信息，请查看 fs/dcache.c 文件。

# javascript - 在jquery ui滑块中动态更改价格范围

> ID：14151524
> 
> 赞同：1
> 
> 时间：2013-01-04T05:23:37.170
> 
> 标签：javascript, jquery, ruby-on-rails, ruby-on-rails-3, jquery-ui

我正在尝试使用 jquery 滑块来调整价格范围，这就是它的工作原理，

当用户选择滑块并调整滑块的一侧时，滑块中的值传递给我的控制器并执行，它通过将参数添加到 url 并刷新页面。

出了什么问题：当用户调整滑块的任一侧时，参数正确运行并正确执行，但**刷新页面后，滑块范围值变为默认值，我不想要**，我希望它们根据到参数值（price_min，price_max）

```
var PropertyPriceFilter = { min:100000, max:10000000 };
     $("#filtered-price").val((PropertyPriceFilter.min) + " - " + (PropertyPriceFilter.max));

        $("#property_price").slider({

            range:true,
            min:PropertyPriceFilter.min,
            max:PropertyPriceFilter.max,

            values:[ 100000, 10000000 ], //dynamically change values using values present in the params["price_min"] & params["price_max"]
              slide:function (event, ui) {
                $("#filtered-price").val(("Rs." + ui.values[ 0 ]) + " - " + "Rs." + (ui.values[ 1 ]))
                PropertyPriceFilter.min = ui.values[ 0 ]
                PropertyPriceFilter.max = ui.values[ 1 ]

            window.location += '&price_min=' + PropertyPriceFilter.min + '&price_max=' + PropertyPriceFilter.max;
        }
    }); 
```

****__ *_ _* _**这是从参数改变值的if else条件，逻辑上是正确的，但仍然不起作用，我不知道为什么**

 **```
if ((params["price_min"] != null) || (params["price_max"] != null))
{

    if ((params["price_min"] != null) && (params["price_max"] = null)) {
        var price_min = parseInt(params["price_min"])
        var price_max = 10000000
    }
    else if ((params["price_min"]) = null && (params["price_max"]) != null) {
        var price_min = 100000
        var price_max = parseInt(params["price_max"])
    }
    else if ((params["price_min"]) != null && (params["price_max"]) != null) {
        var price_min = parseInt(params["price_min"])
        var price_max = parseInt(params["price_max"])
    }
}
else
{
    var price_min = 100000
    var price_max = 10000000
} 
```**

# android - 如何从安卓市场获取应用列表？

> ID：14151525
> 
> 赞同：3
> 
> 时间：2013-01-04T05:23:58.253
> 
> 标签：android, android-market-filtering

我将创建像 Google Play 商店这样的应用程序。我想从 Android Market 检索应用程序列表，如免费应用程序、付费应用程序、分类应用程序（社交、娱乐、商业等），并处理它以显示在我的应用程序屏幕上。

我不知道如何从 Google Play 商店获取应用详细信息列表。请提出想法、URL（指向指南）或代码片段以列出应用详细信息。

帮我。先感谢您。

我试过这样

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    try {

        login = (Button) findViewById(R.id.login);
        mailid = (EditText) findViewById(R.id.username);
        number = (EditText) findViewById(R.id.password);

        login.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) { // TODO Auto-generated
                email = mailid.getText().toString();
                password = number.getText().toString();

                try {
                    Backgroundprocess Task1 = new Backgroundprocess();
                    try {
                        Task1.execute();
                    } catch (Exception e) {
                        // TODO: handle exception
                        e.getStackTrace();
                    }

                } catch (Exception e) {
                    // TODO: handle exception
                    e.getStackTrace();
                    Log.d(tag1, e.toString());
                }

            }
        });

    } catch (Exception e) {
        // TODO: handle exception
        e.getStackTrace();
        Log.d(tag2, e.toString());

    }
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

private class Backgroundprocess extends AsyncTask<String, Void, Void> {

    protected void onPostExecute(final Void unused) {

    }

    @Override
    protected Void doInBackground(String... params) {
        // TODO Auto-generated method stub
        try {
            MarketSession session = new MarketSession();
            String android_id = Secure.getString(getBaseContext()
                    .getContentResolver(), Secure.ANDROID_ID);
            session.login(email, password);

            session.getContext().setAndroidId(android_id);
            String query = "maps";
            AppsRequest appsRequest = AppsRequest.newBuilder()
                    .setQuery(query).setStartIndex(0).setEntriesCount(2)
                    .setWithExtendedInfo(true).build();

            session.append(appsRequest, new Callback<AppsResponse>() {
                @Override
                public void onResult(ResponseContext context,
                        AppsResponse response) {
                    // Your code here
                    // response.getApp(0).getCreator() ...
                    // see AppsResponse class definition for more infos

                }
            });
            session.flush();

        } catch (Exception e) {
            // TODO: handle exception
            e.getStackTrace();
            Log.d(tag3, e.toString());
        }
        return null;
    }
} 
```

记录猫文件

```
01-04 12:00:08.015: D/AndroidRuntime(2668): >>>>>> AndroidRuntime START com.android.internal.os.RuntimeInit <<<<<<
01-04 12:00:08.015: D/AndroidRuntime(2668): CheckJNI is OFF
01-04 12:00:08.645: D/AndroidRuntime(2668): Calling main entry com.android.commands.pm.Pm
01-04 12:00:08.675: D/AndroidRuntime(2668): Shutting down VM
01-04 12:00:08.705: D/dalvikvm(2668): GC_CONCURRENT freed 101K, 78% free 464K/2048K, paused 0ms+1ms
01-04 12:00:08.705: D/dalvikvm(2668): Debugger has detached; object registry had 1 entries
01-04 12:00:08.715: I/AndroidRuntime(2668): NOTE: attach of thread 'Binder Thread #3' failed
01-04 12:00:09.285: D/AndroidRuntime(2681): >>>>>> AndroidRuntime START com.android.internal.os.RuntimeInit <<<<<<
01-04 12:00:09.285: D/AndroidRuntime(2681): CheckJNI is OFF
01-04 12:00:09.915: D/AndroidRuntime(2681): Calling main entry com.android.commands.am.Am
01-04 12:00:09.945: I/ActivityManager(167): START {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] 

flg=0x10000000 cmp=com.market/.MainActivity} from pid 2681
01-04 12:00:09.955: D/ViewRootImpl(167): pckname = com.market
01-04 12:00:10.015: D/AndroidRuntime(2681): Shutting down VM
01-04 12:00:10.035: D/dalvikvm(2681): GC_CONCURRENT freed 102K, 77% free 487K/2048K, paused 1ms+10ms
01-04 12:00:10.045: D/jdwp(2681): Got wake-up signal, bailing out of select
01-04 12:00:10.045: D/dalvikvm(2681): Debugger has detached; object registry had 1 entries
01-04 12:00:10.045: I/AndroidRuntime(2681): NOTE: attach of thread 'Binder Thread #3' failed
01-04 12:00:10.105: D/OpenGLRenderer(380): Flushing caches (mode 1)
01-04 12:00:10.115: D/OpenGLRenderer(380): Flushing caches (mode 0)
01-04 12:00:10.155: D/ViewRootImpl(2550): pckname = com.market
01-04 12:00:10.515: I/Process(167): Sending signal. PID: 2550 SIG: 3
01-04 12:00:10.515: I/dalvikvm(2550): threadid=3: reacting to signal 3
01-04 12:00:10.525: I/dalvikvm(2550): Wrote stack traces to '/data/anr/traces.txt'
01-04 12:00:10.555: I/ActivityManager(167): Displayed com.market/.MainActivity: +546ms
01-04 12:00:19.685: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:00:19.835: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:00:20.335: D/dalvikvm(337): GC_CONCURRENT freed 422K, 8% free 7932K/8583K, paused 2ms+7ms
01-04 12:00:43.885: D/dalvikvm(233): GC_CONCURRENT freed 430K, 9% free 7855K/8583K, paused 2ms+3ms
01-04 12:00:46.945: D/dalvikvm(1486): GC_CONCURRENT freed 459K, 11% free 7308K/8135K, paused 2ms+21ms
01-04 12:00:47.115: D/dalvikvm(167): GC_CONCURRENT freed 799K, 21% free 10373K/13127K, paused 4ms+8ms
01-04 12:00:55.965: D/dalvikvm(337): GC_CONCURRENT freed 544K, 9% free 7842K/8583K, paused 2ms+9ms
01-04 12:00:58.125: D/audio_hw_primary(86): start_output_stream: card:0, port:0, rate:44100
01-04 12:00:59.785: D/(2550): java.lang.RuntimeException: java.lang.RuntimeException: Response code = 400, msg = Bad 

Request
01-04 12:01:00.425: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:00.435: I/InputReader(167): Reconfiguring input devices.  changes=0x00000004
01-04 12:01:00.435: I/InputReader(167): Device reconfigured: id=2, name='ft5x_ts', surface size is now 800x480, mode is 1
01-04 12:01:00.445: I/ActivityManager(167): Config changed: {1.0 0mcc0mnc en_US layoutdir=0 sw480dp w800dp h432dp nrml 

land finger -keyb/v/h -nav/h s.16}
01-04 12:01:00.515: I/StatusBar.HeightReceiver(233): Resizing status bar plugged=false height=48 old=48
01-04 12:01:00.515: D/OpenGLRenderer(2550): Flushing caches (mode 0)
01-04 12:01:00.595: D/ViewRootImpl(2550): pckname = com.market
01-04 12:01:01.245: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:01.255: I/InputReader(167): Reconfiguring input devices.  changes=0x00000004
01-04 12:01:01.255: I/InputReader(167): Device reconfigured: id=2, name='ft5x_ts', surface size is now 800x480, mode is 1
01-04 12:01:01.835: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:03.425: D/dalvikvm(167): GC_EXPLICIT freed 256K, 22% free 10342K/13127K, paused 3ms+7ms
01-04 12:01:03.855: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:03.855: I/InputReader(167): Reconfiguring input devices.  changes=0x00000004
01-04 12:01:03.855: I/InputReader(167): Device reconfigured: id=2, name='ft5x_ts', surface size is now 800x480, mode is 1
01-04 12:01:03.875: I/ActivityManager(167): Config changed: {1.0 0mcc0mnc en_US layoutdir=0 sw480dp w480dp h752dp nrml 

port finger -keyb/v/h -nav/h s.17}
01-04 12:01:03.895: D/OpenGLRenderer(2550): Flushing caches (mode 0)
01-04 12:01:03.925: I/StatusBar.HeightReceiver(233): Resizing status bar plugged=false height=48 old=48
01-04 12:01:04.025: D/ViewRootImpl(2550): pckname = com.market
01-04 12:01:04.635: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:06.275: D/dalvikvm(167): GC_EXPLICIT freed 52K, 22% free 10326K/13127K, paused 3ms+7ms
01-04 12:01:14.545: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:17.315: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:18.805: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:41.905: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:45.685: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:46.975: D/dalvikvm(2313): GC_CONCURRENT freed 418K, 8% free 7430K/8007K, paused 2ms+2ms
01-04 12:01:49.535: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:01:59.605: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:02:04.005: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:02:07.505: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:02:12.595: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:02:16.305: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:02:20.565: I/WindowManager(167): MediaPlayer.is not PlayingVideo
01-04 12:02:23.825: I/WindowManager(167): MediaPlayer.is not PlayingVideo 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:26:08.240

抱歉，官方没有可用于从 Play 商店获取应用程序或任何数据的 API。

但这里有一个非官方的[Android Market API](http://code.google.com/p/android-market-api/)。

**更新：**

检查一些现有的线程：

1.  [来自 Google 的任何 Android Market API？](https://stackoverflow.com/questions/6469200/any-android-market-api-from-google)
2.  [Android 市场统计 API？](https://stackoverflow.com/questions/4244574/android-market-statistics-api)
3.  [安卓市场API](https://stackoverflow.com/questions/4483224/android-market-api)

# html - 在 HTML5 中对齐 iFrame 时遇到问题

> ID：14151529
> 
> 赞同：3
> 
> 时间：2013-01-04T05:24:47.543
> 
> 标签：html, google-maps, iframe, vertical-alignment

现在我做了一个网站，并把谷歌地图集成到其中。现在我在网页上将谷歌地图居中时遇到了麻烦。

这是我的代码：

```
 <iframe width="640"
            height="480"
            align="middle"
            frameborder="0"
            scrolling="no"
            marginheight="0"
            marginwidth="100"
            margin-top:100px;
            margin-left:140px;
           src="https://maps.google.ca/?ie=UTF8&amp;t=h&amp;ll=49.894634,-97.119141&amp;spn=27.26845,56.25&amp;z=4&amp;output=embed"></iframe> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:27:36.283

为什么不`margin:auto`用于 iframe 的左右两侧或其中的 div。

# php - PHP str_replace 用单词替换数字

> ID：14151531
> 
> 赞同：1
> 
> 时间：2013-01-04T05:25:21.520
> 
> 标签：php, str-replace

我有一个需要向用户显示电话号码的网站，而不是显示实际号码以供某人从源代码中获取，我想用相应的单词替换电话号码的每个数字。例如...

```
355-758-0384

Would become

three five five - seven five eight - zero three eight four 
```

这可以做到吗？抱歉，我没有要显示的代码，因为我什至不知道从哪里开始。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-04T05:30:09.990

```
$string="355-758-0384";
$search  = array(0,1,2,3,4,5,6,7,8,9);
$replace = array('zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine');
echo str_replace($search, $replace, $string); 
```

然后您也可以使用任何不同的字符串，而无需更新代码

编辑：

如果你想要最后的自动空格，那么你的 $replace 数组可以是

```
$replace = array('zero ', 'one ', 'two ', 'three ', 'four ', 'five ', 'six ', 'seven ', 'eight ', 'nine '); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:27:28.330

```
str_replace('  ', ' ', strtr($phone_number, array(
  '0' => ' zero ',
  '1' => ' one ',
  ...
))) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-21T01:23:48.727

```
$string = '355-758-0384';
$numbers = array(
  '0' => 'zero',
  '1' => 'one',
  '2' => 'two',
  '3' => 'three',
  '4' => 'four',
  '5' => 'five',
  '6' => 'six',
  '7' => 'seven',
  '8' => 'eight',
  '9' => 'nine',
);
$string = preg_replace_callback( '/[0-9]/', function ( $matches ) use ( $numbers ) {
  return $numbers[ $matches[0] ];
}, $string ); 
```

在首先尝试了其他解决方案之后，我正在使用这个解决方案，因为它的性能更高。我认为非正则表达式解决方案会更快，但在这种情况下并非如此。

我在 PHP 7.0.28 上使用 10k 交互的测试：

```
preg_replace_callback  0.00643s
str_replace w/strtr    0.01015s  57% slower
str_replace w/arrays   0.01123s  74% slower 
```

对于破折号周围的空格：

`$string = str_replace( '-', ' - ', $string );`

# asp.net - 如何在一个地方为整个 Web 应用程序设置 UseSubmitBehavior="False"

> ID：14151533
> 
> 赞同：1
> 
> 时间：2013-01-04T05:25:47.580
> 
> 标签：asp.net, asp.net-4.0, webforms

我希望我的 asp.net Web 表单应用程序中的所有按钮都具有 UseSubmitBehavior="False" 但我不想浏览我的所有页面，试图寻找每一个最后一个按钮并单独设置属性。

我希望有一种方法可以全局执行此操作，例如在 web.config 文件中。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:12:19.053

这*不是*页面属性或类似的东西

这是一个按钮属性，允许通过 `__doPostBack`

您不能通过 web.config （或以任何其他方式）全局执行此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T02:16:10.563

想要设置 UseSubmitBehavior="False" 的原因是在用户按下回车键时阻止表单提交。如果这是您的目标，那么您会对以下内容感兴趣：

另一种方法是使用 JavaScript。这会将 MikeSmithDev 建议的开销转移给客户端，根据您的情况，这可能更容易接受。

请注意，以下 JavaScript 使用了[jQuery](http://jquery.com/)库：

```
$(document).ready(function () {
    preventSubmitOnEnter();
});

function preventSubmitOnEnter() {
    $(window).keypress(function (e) {
        if (e.which == 13) {
            var $targ = $(e.target);

            if (!$targ.is("textarea") && !$targ.is(":button,:submit")) {
                return false;
            }
        }
    });
} 
```

# wpf - WPF 应用程序的 GUI 冻结

> ID：14151538
> 
> 赞同：0
> 
> 时间：2013-01-04T05:26:18.940
> 
> 标签：wpf, user-interface

整个 GUI 已加载。单击某个按钮后，GUI 没有响应：任何按钮都没有响应。如果我切换到其他应用程序并切换回来，GUI 立即就可以了。在点击的按钮后面，是一个向后端发送请求的句柄。我调试了应用程序，并且一直返回数据。由于该应用程序很大并且我不熟悉它，因此我无法提取发送请求和处理数据的简单模型。我想知道可能的原因，因为我现在不知道。

最好的祝福，

------添加更多-----

后端请求发送在一个线程池线程中；获取数据时，不会直接更新 UI 控件。只有演示者（视图模型）被更新，它们绑定到 UI 控件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:17:39.420

我认为正如[sa-ddam213](https://stackoverflow.com/users/1849109/sa-ddam213)所建议的那样，我也相信您正在后台执行代码块[Thread](http://msdn.microsoft.com/en-us/library/system.threading.thread.aspx)或[Task](http://msdn.microsoft.com/en-us/library/system.threading.tasks.task.aspx)。

**我认为问题在于**
- 单击按钮时，在后台开始执行。
- 您保留了一个标志，用于检查`CanExecute()`Button 的后台进程是否正在运行`Command`。
- 用户界面检查`CanExecute()`按钮`Command`一段时间，然后没有在这里的另一个问题中提到 - [Josh Smith 的 RelayCommand 实现是否有缺陷？](https://stackoverflow.com/questions/2281566/is-josh-smiths-implementation-of-the-relaycommand-flawed).
- 在后台处理退货。
- UI 不知道后台进程已完成，并且由于它已停止检查`CanExecute()`Button 的`Command`，UI 不会知道自己..（您需要告诉它）
- 因此 UI 没有响应，但是当用户单击某处时应用程序或按照您所说的进行输入输出，它将再次返回。

**解决方案**
- 通过使用[InvalidateRequerySuggested](http://msdn.microsoft.com/en-us/library/system.windows.input.commandmanager.invalidaterequerysuggested.aspx)方法，您可以在 UI 线程上调用命令 requery，以便 UI 将重新检查`CanExecute()`for each`Control`和/或`Button` `Command`.

```
// Forcing the CommandManager to raise the RequerySuggested event
CommandManager.InvalidateRequerySuggested(); 
```

> [InvalidateRequerySuggested](http://msdn.microsoft.com/en-us/library/system.windows.input.commandmanager.invalidaterequerysuggested.aspx)方法强制[CommandManager](http://msdn.microsoft.com/en-us/library/ms616838(v=vs.100).aspx)引发 RequerySuggested 事件。RequerySuggested 事件通知命令源查询与其关联的命令以确定该命令是否可以执行。

有关更多信息，请参阅：
- [CommandManager.RequerySuggested 如何工作？](https://stackoverflow.com/a/2764022/468718)
- [MSDN - CommandManager](http://msdn.microsoft.com/en-us/library/ms616838(v=vs.100).aspx)
- [MSDN - CommandManager.InvalidateRequerySuggested 方法](http://msdn.microsoft.com/en-us/library/system.windows.input.commandmanager.invalidaterequerysuggested.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:41:15.723

这只是一个疯狂的猜测，但尝试在点击事件中降低逻辑的优先级

例子

```
private void Button_Click(object sender, RoutedEventArgs e)
{
    Dispatcher.BeginInvoke(DispatcherPriority.Background, (Action)delegate
    {
        // all your code here.
    });
} 
```

# php - joomla 调用编码的 URL 值

> ID：14151546
> 
> 赞同：1
> 
> 时间：2013-01-04T05:26:54.290
> 
> 标签：php, joomla

我有一个使用 jquery 序列化时被编码的 url，如下所示：

```
index.php?city%5B%5D=METROPLOIS&city%5B%5D=GOTHAM 
```

应该是 index.php?city[]=METROPLOIS&city[]=GOTHAM

另一方面，我正在使用 joomla 从 url 中拉出一堆变量

```
$city = JRequest::getVar('city'); 
```

现在，另一个用户很好地向我指出了 PHP 中的这段代码，它将获取城市变量，然后将它们内爆到

```
$cities = $_GET['city'];

$str = "CITY='".implode("' OR CITY='",$city)."'"; 
```

`$cities = $_GET['city'];`相当于哪里`$city = JRequest::getVar('city');`

所以，我遇到了一个我不知道如何解决的挑战。如何在 Joomla 中解码 URL 以使其识别`city%5B%5D`为`city[]`或`city`.

我已经看到了：[http://php.net/manual/en/function.urldecode.php](http://php.net/manual/en/function.urldecode.php)，但这会拉下 URL 并将其放入字符串中。然后我将如何告诉 Joomla 从该字符串而不是 URL 中提取变量？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:41:47.923

使用[urldecode](http://php.net/manual/en/function.urldecode.php)对 url 进行解码

```
$decoded = urldecode('index.php?city%5B%5D=METROPLOIS&city%5B%5D=GOTHAM');
$query = parse_url($decoded, PHP_URL_QUERY);
parse_str($query, $params);
$city = $params['city'];
echo "CITY='".implode("' OR CITY='",$city)."'"; 
```

[**演示**](http://codepad.org/0Wnp04QY)

[http://php.net/manual/en/function.parse-url.php](http://php.net/manual/en/function.parse-url.php)
[http://php.net/manual/en/function.parse-str.php](http://php.net/manual/en/function.parse-str.php)

# tridion - Tridion Publisher 停止工作

> ID：14151554
> 
> 赞同：0
> 
> 时间：2013-01-04T05:27:55.637
> 
> 标签：tridion, tridion-2011

我正在使用 Tridion 2011 SP1 HR1。突然（听起来很傻，但我没有更改任何设置）我的发布停止工作。我记得做的唯一一件事是从“传入”文件夹中删除所有内容，假设 Tridion 会在其中重新创建它需要的所有内容。

我在事件查看器中看到的错误是：

```
Transport service failed to transport. <Summary state="Failed" referenceId="tcm:0-1317-66560"><Error>Transport failed for transaction: tcm:0-1317-66560\. Error while generating transaction summary.null</Error><Processing><Context topic="Content Delivery"><IsRollbackOnFailure /></Context></Processing><Target /></Summary>

Component: Tridion.ContentManager.Publishing
Errorcode: 0
User: NT AUTHORITY\SYSTEM

StackTrace Information Details:
   at Tridion.ContentManager.Publishing.Handling.DefaultPublishTransactionHandler.SendTransportPackage(TransportPackage package)
   at Tridion.ContentManager.Publishing.Handling.DefaultPublishTransactionHandler.HandlePublishRequest(PublishTransaction publishTransaction)
   at Tridion.ContentManager.Publishing.Handling.DefaultPublishTransactionHandler.ProcessPublishTransaction(PublishTransaction publishTransaction)
   at Tridion.ContentManager.Publishing.Publisher.QueueMessageHandler.HandleMessage() 
```

然后在检查 cd_transport.log 时，我看到以下内容：

```
2013-01-04 01:13:56,359 DEBUG DestinationController - Checking destination for transport metadata
2013-01-04 01:13:56,360 DEBUG TransportPoolManager - Returning a freely available and alive TransportConnector
2013-01-04 01:13:56,360 DEBUG FileTransportConnector - Retrieving notification file if present: c:\tridion\incoming\meta.xml
2013-01-04 01:13:56,362 DEBUG TransportPoolManager - Connector is registered for reuse: Local[Location[c:\tridion\incoming]] available: 1
2013-01-04 01:13:56,362 DEBUG DestinationController - Starting polling on destination: EkJ8TTiKBx4qU16og0f3wg==
2013-01-04 01:13:56,363 DEBUG TransportPoolManager - Returning a freely available and alive TransportConnector
2013-01-04 01:13:56,363 DEBUG FileTransportConnector - Retrieving notification file if present: c:\tridion\incoming\tcm_0-1319-66560.state.xml
2013-01-04 01:13:56,363 DEBUG FileTransportConnector - Retrieving notification file if present: c:\tridion\incoming\tcm_0-1317-66560.state.xml
2013-01-04 01:13:56,363 DEBUG FileTransportConnector - Retrieving notification file if present: c:\tridion\incoming\tcm_0-1318-66560.state.xml
2013-01-04 01:13:56,363 DEBUG TransportPoolManager - Connector is registered for reuse: Local[Location[c:\tridion\incoming]] available: 1
2013-01-04 01:13:56,363 DEBUG DestinationController - Polling attempt 17 for transaction: tcm:0-1318-66560 on destination: EkJ8TTiKBx4qU16og0f3wg==
2013-01-04 01:13:56,363 DEBUG DestinationController - Polling attempt 10 for transaction: tcm:0-1319-66560 on destination: EkJ8TTiKBx4qU16og0f3wg==
2013-01-04 01:13:56,363 DEBUG DestinationController - Polling attempt 53 for transaction: tcm:0-1317-66560 on destination: EkJ8TTiKBx4qU16og0f3wg==
2013-01-04 01:13:56,532 ERROR RollingStateRetriever - Unable to deserialize transaction
2013-01-04 01:13:57,538 ERROR RollingStateRetriever - Unable to deserialize transaction
2013-01-04 01:13:58,547 ERROR RollingStateRetriever - Unable to deserialize transaction
2013-01-04 01:13:59,552 ERROR RollingStateRetriever - Unable to deserialize transaction
2013-01-04 01:14:00,558 ERROR RollingStateRetriever - Unable to deserialize transaction 
```

cd_core.log 也显示错误：

```
ERROR RollingStateRetriever - Unable to deserialize transaction 
```

传入文件夹包含 Transactions、Zip 子文件夹 - 均为空文件和 meta.xml 文件。

有人可以建议为什么会发生此错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:46:27.730

这原来是重复的： [Tridion 2011 SP1 - 传输服务无法传输](https://stackoverflow.com/questions/11395886/tridion-2011-sp1-transport-service-failed-to-transport)

由于我的错误日志略有不同，因此我将其保留以供其他人将来参考。

# ruby-on-rails-3 - has_many :through 关系是对这些数据建模的正确方法吗？

> ID：14151555
> 
> 赞同：0
> 
> 时间：2013-01-04T05:28:05.237
> 
> 标签：ruby-on-rails-3, data-modeling

我有一个`Client`模型，需要每个客户端实例拥有并创建多个地址、email_ids、phone_numbers。一个简单的`has_many`关系不允许我扩展我认为所以我想我应该去建立一个`has_many :through`关系

我想使用 has_many :through 关系

```
class Client < ActiveRecord::Base
  has_one :profile
  has_many :addresses, :through => :profile
  has_many :emails, :through => :profile
  has_many :phonenumbers, :through => :profile
end

class Profile < ActiveRecord::Base
  belongs_to :client
  has_many :addresses
  has_many :emailids
  has_many :phonenumbers
end

class Address < ActiveRecord::Base
  belongs_to :profile
end

class EmailId < ActiveRecord::Base
  belongs_to :profile
end

class PhoneNumber < ActiveRecord::Base
  belongs_to :profile
end 
```

然后我是否能够执行以下查询：

`client.phonenumbers` `client.create_phonenumbers`ETC？

还是我应该坚持使用 has_many belongs_to 并将地址、电子邮件 ID 和电话号码放在个人资料关系中，然后说客户`has_many`资料？这对我来说听起来不对。我上面概述的富人协会有什么好处吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T09:12:55.077

我认为坚持使用has_many :through 似乎很好。因为我们不需要在客户端和其他表（即地址等）之间添加额外的关系，也不需要在这些表中添加额外的列 client_id。只有放置个人资料 ID 才会这样做。

# c++ - 以 .exe 模块导入表序号并找到导入模块函数名称？

> ID：14151556
> 
> 赞同：0
> 
> 时间：2013-01-04T05:28:07.937
> 
> 标签：c++, c, api, winapi, portable-executable

因此，我将 paltalk.exe 作为参数加载到我的 c++ 命令行程序中，并得到以下输出：

```
 [Walk_Imports]: Imported DLL [0] WSOCK32.dll 
--------------------------------------------------
 [Import_By_Ordinal]: address: 80000016 
 [Import_By_Ordinal]: address: 80000003 
 [Import_By_Ordinal]: address: 80000073 
 [Import_By_Ordinal]: address: 80000017 
 [Import_By_Ordinal]: address: 80000015 
 [Import_By_Ordinal]: address: 8000000B 
 [Import_By_Ordinal]: address: 80000014 
 [Import_By_Ordinal]: address: 8000000E 
 [Import_By_Ordinal]: address: 8000000A 
 [Import_By_Ordinal]: address: 80000034 
 [Import_By_Ordinal]: address: 80000011 
 [Import_By_Ordinal]: address: 80000013 
 [Import_By_Ordinal]: address: 80000010 
 [Import_By_Ordinal]: address: 80000009 
 [Import_By_Ordinal]: address: 80000002 
 [Import_By_Ordinal]: address: 80000008 
 [Import_By_Ordinal]: address: 8000006F 
 [Import_By_Ordinal]: address: 80000097 
 [Import_By_Ordinal]: address: 80000012 
 [Import_By_Ordinal]: address: 80000004 
 [Import_By_Ordinal]: address: 8000000F 
 [Import_By_Ordinal]: address: 8000000C 

 22 functions imported (22 ordinal) 
```

Paltalk 导入 wsock32.dll 好消息。我走过它的进口，我看到所有的序号。

如何获取这些导入序号名称并使用 c 或 c++ 加载 wsock32.dll 并遍历其导出表以将序号名称与相应的函数名称匹配？

我希望这是足够的信息来解决我的问题。如果没有，我可以添加更多信息。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T09:04:46.840

关于 Portable Executable 基础设施的如此广泛的问题，请查看 Matt Pietrek [http://www.wheaty.net](http://www.wheaty.net)以及他如何在 PEDUMP 中实现对此类细节的检索（提供的代码）。

# javascript - 使用 Modernizr 动态加载 jcarousel

> ID：14151560
> 
> 赞同：1
> 
> 时间：2013-01-04T05:28:18.617
> 
> 标签：javascript, dynamic, loading, jcarousel, modernizr

作为一名前端开发人员，我尽量保留所有 javascript 部分，因为我对一些后端人员的体验非常糟糕。所以我使用基于特定页面中存在的css“ID”的需要根据需要加载所有javascript依赖项。为此，我使用了 Modernizr，这样后端开发人员就不必担心他们需要在哪个页面加载特定的 javascript 文件，而哪些不需要。

最近，我尝试加载 jQuery Carousel，加载成功，得到了在 firebug 中显示的绑定。但它不起作用。

关联 -`http://59.160.209.51/websites/eamonreganirishart/code/ - Please copy/paste this link to the browser`

# 和 Modernizr 代码

 `> `Modernizr.addTest("car_0", $("#mycarousel").length > 0);
> Modernizr.load({ test:Modernizr.car_0, yep:[temp_path+"/css/skins/tango/skin.css", temp_path+"/js/libraries/jquery.jcarousel.min.js"], callback: function(){ if($.fn.jcarousel){ console.log("found"); jQuery('#mycarousel').jcarousel({ vertical: true, scroll: 2, auto:2 }); } } });`

 `我在这里缺少什么...另一件事，如果我加载所有的javascript以这种方式加载，该过程是否正确？如果这不是做到这一点的最佳方式，那么从前端的角度来看，更好的方式是什么？``

# sql - 高级查询日期分组难题

> ID：14151561
> 
> 赞同：2
> 
> 时间：2013-01-04T05:28:20.153
> 
> 标签：sql, ruby-on-rails, ruby, postgresql, activerecord

在我的 Rails 应用程序的 PostgreSQL 数据库中，记录了过去 10 年的每小时价格：

10 (24 x 365) 其中：“12/31/2012 01:00:00”、“11.99”

以下查询按天对价格进行分组，对这些每日分组中的价格进行平均以创建每日平均价格，并返回每一天的“天”、“每日平均”对：

```
 HourlyPrice.average(:price, :group => "DATE_TRUNC('day', date)") 
```

问题是，我的源数据中的每小时价格实际上反映了前一小时的价格。因此，在我的数据源 .CSV 中，这一天从 01:00:00 开始，到 24:00:00 结束。

这与 PostgreSQL 喜欢在其 DateTime 列中保存记录的方式相冲突。导入 CSV 数据后，PostgreSQL 将包含时间 24:00:00 的记录转换为第二天的 00:00:00。

这会影响我上面的平均查询的准确性。要修复查询，我仍然想按天分组，但偏移 1 小时。因此，平均范围从 01:00:00 开始，到第二天的 00:00:00 结束。

是否可以调整上述查询以反映这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:29:12.727

您可以在将函数应用到它`date`之前减去一小时，如下所示：`DATE_TRUNC`

```
HourlyPrice.average(:price, :group => "DATE_TRUNC('day', date - INTERVAL '1 hour')") 
```

# android - 将图像从 Activity 隐藏到 BaseAdapter

> ID：14151563
> 
> 赞同：0
> 
> 时间：2013-01-04T05:28:25.313
> 
> 标签：android, listview, adapter

我想隐藏图像`ListView`，这里我使用了自定义列表视图，`BaseAdapter` 请参见下图，单击`Edit btn` **图像 1**时应该可见，

**ListView 图片如下**

![列表视图图像](../Images/67ddd609f8bd6bdbce32cb73cd7eef65.png)

我已经从`Activity`点击完成了这段代码`button`

```
 ++btnClick;
            if (btnClick % 2 == 0) 
            {  
                textView.setText("Edit");
                baseAdapter.holder.imgPhoto.setVisibility(View.INVISIBLE);
            } else {
                textView.setText("Done");
                Log.e("call", "Done");
baseAdapter.holder.imgPhoto.setVisibility(View.VISIBLE);

            }; 
```

`baseAdapter`对象在哪里`BaseAdapter`，点击按钮时会发生什么，只有**最后一个按钮不可见**，因为它正在获得最后一个引用，我不想`BaseAdapter`再次重新加载。

**BaseAdapterFavotites.java**

```
public class BaseAdapterFavotites extends BaseAdapter {

private ArrayList<SearchResults> searchArrayList;
public ArrayList<String> getSchoolId, getSchoolName;
private LayoutInflater mInflater;
public ViewHolder holder;
Context context;
public String s;
HashMap<String, String> mapSchoolToLink = new HashMap<String, String>();;

public BaseAdapterFavotites(Context context,
    ArrayList<SearchResults> results, ArrayList<String> arrayId,
    ArrayList<String> arraySchoolName) {
    searchArrayList = results;
    mInflater = LayoutInflater.from(context);
    getSchoolId = arrayId;
    this.context = context;
    getSchoolName = arraySchoolName;
}

public int getCount() {
    return searchArrayList.size();
}

public Object getItem(int position) {
    return searchArrayList.get(position);
}

public long getItemId(int position) {
    return position;
}

public View getView(final int position, View convertView, ViewGroup parent) {

    if (convertView == null) {
        convertView = mInflater.inflate(R.layout.custom_row_for_favorites,
                null);
        holder = new ViewHolder();
        holder.txtSchoolNameList = (TextView) convertView
                .findViewById(R.id.schoolNameFav);

        holder.imgPhoto = (ImageView) convertView.findViewById(R.id.delete);

        convertView.setTag(holder);

    } else {
        holder = (ViewHolder) convertView.getTag();

    }

    holder.txtSchoolNameList.setText(searchArrayList.get(position)
            .getschoolNameFromList());

    Log.e("holder", searchArrayList.get(position).getschoolNameFromList());

    holder.imgPhoto.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            mapSchoolToLink.clear();
            searchArrayList.remove(position);
            getSchoolId.remove(position);
            getSchoolName.remove(position);
            notifyDataSetChanged();
            Log.e("inside base", searchArrayList.toString());
            Log.e("inside getSchoolId", getSchoolId.toString());

            for (int i = 0; i < getSchoolId.size(); i++) {
                mapSchoolToLink.put(getSchoolName.get(i),
                        getSchoolId.get(i));
            }

            SharedPreferences.Editor editor = context
                    .getSharedPreferences("mytest", 0).edit().clear();
            for (Entry<String, String> entry : mapSchoolToLink.entrySet()) {
                editor.putString(entry.getKey(), entry.getValue());
            }
            editor.commit();

        }
    });
    return convertView;
}

public class ViewHolder {
    TextView txtSchoolNameList;
    public ImageView imgPhoto;
}

} 
```

`Activity`我必须为此隐藏`BaseAdapter`任何解决方案的图像

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:50:57.833

您可以在适配器中设置一个字段变量，*而不是*在您的活动中，控制图像是否可见，调用它`inEditMode`。在`getView()`使用您的：

```
if(inEditMode) {
    holder.imgPhoto.setVisibility(View.GONE);
}
else {
    holder.imgPhoto.setVisibility(View.VISIBLE);
} 
```

每当您切换状态时，`inEditMode`您必须调用`notifyDatasetChanged()`以更新整个 ListView。

* * *

**添加**

```
public View getView(final int position, View convertView, ViewGroup parent) {
    // Recycling and View Holder code...

    holder.txtSchoolNameList.setText(searchArrayList.get(position)
            .getschoolNameFromList());

    Log.e("holder", searchArrayList.get(position).getschoolNameFromList());

    if(inEditMode) {
        holder.imgPhoto.setVisibility(View.GONE);
    }
    else {
        holder.imgPhoto.setVisibility(View.VISIBLE);
    }

    // Setting an OnClickListener that should happen in (convertView == null) { ... }
    return convertView;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:20:16.457

您可以使用标志来管理可见性并检查适配器中 getView 中的标志值。在这两种情况下 if(convertView==null) 和 else 部分也是。

并单击编辑按钮将标志值设置为 false 和`ListView.invalidate()`或`notifyDataSetChanged()`

# ruby-on-rails - 使用 DNSimple 的 ALIAS 记录时，heroku 上的裸域仍然不安全吗？

> ID：14151572
> 
> 赞同：5
> 
> 时间：2013-01-04T05:29:20.297
> 
> 标签：ruby-on-rails, heroku, dns, hosting, dnsimple

我们在 Heroku 上托管了一个 Rails 3 应用程序。[Heroku 建议](https://devcenter.heroku.com/articles/avoiding-naked-domains-dns-arecords)在使用其服务时将裸域 (example.com) 重定向到子域 (www.example.com)。这是因为他们更喜欢 CNAMES 而不是 A 记录（因为他们的 IP 地址可能偶尔会更改）。

但是，我个人更愿意为我们的网站使用裸域（而不是 www）。我们使用[DNSimple](http://dnsimple.com)来管理我们网站的 DNS。如果我们使用他们的[ALIAS 功能](http://blog.dnsimple.com/zone-apex-naked-domain-alias-that-works/)，这是否意味着我们应该能够毫无顾虑地将所有流量重定向到裸域？

[另外，在 Heroku 上使用裸域时，除了遵循有关 SSL 的建议](https://stackoverflow.com/questions/6701549/heroku-ssl-on-root-domain)之外，我们还应该注意什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T09:49:43.973

DNSimple ALIAS 记录消除了裸域通常遇到的问题，所以你会没事的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:37:44.410

我相信您可以设置一个通配符域以允许您的应用程序控制路由（如果有任何子域）... Heroku 是这样说的：[https ://devcenter.heroku.com/articles/custom-domains](https://devcenter.heroku.com/articles/custom-domains)

我不确定这种方式的安全性，但这可能是您的解决方案。

# jsf-2 - 添加操作后 PrimeFaces 数据表未正确刷新

> ID：14151574
> 
> 赞同：2
> 
> 时间：2013-01-04T05:29:20.827
> 
> 标签：jsf-2, primefaces

我有一个具有添加编辑删除和过滤操作的数据表。

所有操作在数据库上都可以正常工作，但是在添加操作后数据表没有正确更新。

它在第一次添加操作后正确更新。当我添加第二行时，数据表已更新，但首先添加的行被第二行添加的行替换，但在数据库中它们已正确更新。

同样，当我添加第三行时，第一行被第三行替换。

CRUD dataTable 应用程序中使用的软件堆栈是：- PrimeFace 3.4.2、JSF 2.1、NetBeans 7.2.1、Java 1.6.0_37 GlassFish 3.1.x、MySql 5.x

这是我的代码。

```
 **xhtml page**

 <html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://primefaces.org/ui">

 <h:head>
    <title>Prime Faces Data table</title>
 </h:head>
 <h:body>
    <h:form id="form1">

        <h:messages id="messages1"/>
        <br/>

        <p:commandButton id="Addbtn" value="Add" oncomplete="AddDialog.show()" 
         update=":addform"/>                
        <br/>

        <p:dataTable id="dtusers" value="#{userdataController.retrieveData()}" 
         var="item" 
                     rows="8" paginator="true" emptyMessage="No Records Found" 
                     paginatorAlwaysVisible="false">

            <p:column style="width:150px" filterMatchMode="contains" 
             filterBy ="#{item.id}">
                <f:facet name="header"> Id </f:facet>
                <h:outputText value="#{item.id}"/>
            </p:column>

            <p:column style="width:150px" filterMatchMode="contains" 
             filterBy="#{item.name}">
                <f:facet name="header"> Name </f:facet>
                <h:outputText value="#{item.name}"/>
            </p:column>     

            <p:column style="width:150px">  
                <p:commandButton id="editButton" update=":editform" 
                   oncomplete="EditDialog.show()" value="Edit">
                    <f:setPropertyActionListener value="#{item}" 
                     target="#{userdataController.selectedUser}"/>
                </p:commandButton>                       
            </p:column>

            <p:column style="width:150px">  
                <p:commandButton id="deleteButton" update=":deleteform" 
                   oncomplete="UserDialog.show()" value="Delete">
                    <f:setPropertyActionListener value="#{item}" 
                      target="#{userdataController.selectedUser}"/>
                </p:commandButton>    
            </p:column>                 

        </p:dataTable>
    </h:form>   
      <p:dialog header="Add User Data" resizable="false" id="AddDialog" 
        widgetVar="AddDialog" modal="true" showEffect="fade" hideEffect="fade" 
        position="center" >
        <h:form id="addform">
            <p:outputPanel id="AddDisplay">

                <p:panelGrid columns="2" >

                    <f:facet name="header">
                        Add Userdata
                    </f:facet>

                    <h:outputLabel for="Id" value="Enter Id:"/>
                    <p:inputText id="Id" value="#{userdataController.selected.id}" />

                    <h:outputLabel for="Name" value="Enter Name:"/>
                    <p:inputText id="Name" 
                      value="#{userdataController.selected.name}"/>

                    <p:commandButton  actionListener="#{userdataController.createdata}" 
                        update=":form1:dtusers :form1:messages1" value="Save"    
                      oncomplete="AddDialog.hide()" style="margin:0"/> 

                 </p:panelGrid>
                </p:outputPanel>
        </h:form>
        </p:dialog>   
         //similarly dialogs for delete and edit   

        </h:body>

         </html>

      **ManagedBean**

    @ManagedBean(name = "userdataController")
    @SessionScoped
    public class UserdataController implements Serializable {

    private Userdata current;
    private DataModel items = null;
    @EJB
    private PrimeFacesDb.session.UserdataFacade ejbFacade;
    private int id;
    private String name;
    private Userdata SelectedUser;

    public UserdataController() {
   }
 //getters setters for id,name and SelectedUser

  private UserdataFacade getFacade() {
    return ejbFacade;
  }
  public List retrieveData() {
    List result = getFacade().findAll();
    return result;
  }

   public void create() {
    try {
        getFacade().create(current);
        JsfUtil.addSuccessMessage("Userdata created successfully");
    } catch (Exception e) {
        JsfUtil.addErrorMessage(e, "Persistence Error occured");
    }
  }
 } 
```

# iphone - 链接器 ID 错误

> ID：14151576
> 
> 赞同：-2
> 
> 时间：2013-01-04T05:29:28.993
> 
> 标签：iphone

ld：/Users/masc/Library/Developer/Xcode/DerivedData/Magyar_ujsagok-gsevookpjgregagahzlabjccbmuv/Build/Intermediates/Magyar ujsagok.build/Debug-iphonesimulator/Magyar ujsagok.build/Objects-normal/i386/ASIFormDataRequest 中的重复符号_OBJC_CLASS_$_ASIFormDataRequest -36F91B6C474DB772.o 和 /Users/masc/Library/Developer/Xcode/DerivedData/Magyar_ujsagok-gsevookpjgregagahzlabjccbmuv/Build/Intermediates/Magyar ujsagok.build/Debug-iphonesimulator/Magyar ujsagok.build/Objec

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:35:05.253

你得到这个错误是因为在你使用时在你的项目中添加了一些框架`ASIHTTP`

**对于 ASIHTTP 请求，添加以下框架：**

*   libz.1.2.5.dylib
*   系统配置
*   UIKit
*   基础
*   核心图形
*   移动核心服务
*   CF网络

如果您在 iOS 5 或更高版本中使用 ASIHttp 类，则需要通过使用ASI API 类为`ASIHttpRequest`Project-> Build Phases -> Compile Sources 中的类关闭 ARC 。`-fno-objc-arc`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:37:57.760

这里有 2 种可能导致此错误，

1.  检查 NiravPatel 所说的这个文件文件在你的项目中是否可能是同名的 2
2.  否则会错过一些框架，所以添加我在下面发布的这些框架。

只需添加以下框架`Build Phases=>Link Binaries with Libraries =>`

添加以下这些框架

![包括](../Images/adb534c1105eaecea6901fd22e6042d0.png)

另请参阅与您的问题有关的答案[如何解决“_OBJC_CLASS_$_PLCrashReport”的错误，在 iphone 中引用](https://stackoverflow.com/questions/5561867/how-to-solve-the-error-of-objc-class-plcrashreport-referenced-in-iphone)

# unix - UNIX 在哪里存储每个文件的打开文件偏移量、权限和名称/链接列表？

> ID：14151584
> 
> 赞同：3
> 
> 时间：2013-01-04T05:30:12.520
> 
> 标签：unix

我有一些关于 UNIX 的问题。

1.  UNIX 在哪里存储与每个打开文件关联的偏移量？在 i 节点中？在数据块中？别的地方？
2.  UNIX 在哪里存储打开每个文件的权限（只读等）？
3.  UNIX 在哪里存储与 i 节点关联的名称/链接列表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-06T17:48:56.497

您似乎缺少一个重要的区别，更具体地说是磁盘数据和内存数据之间的区别：

*   目录和文件内容、访问权限、扩展属性和任何其他预期在系统重启后*持续存在*的内容都存储在永久存储的文件系统中，通常存储在 i 节点中。例如，文件的所有者、组和权限通常存储在 i 节点中。

*   *与文件系统当前操作*相关的任何内容，例如打开文件描述符、文件偏移量和缓存数据，都保存在计算机内存中的内核空间数据结构中。

就存储与 i-node 关联的名称而言，大多数 Unix 风格的文件系统没有特定的数据结构，允许在恒定时间内将 i-node 映射到名称。考虑到通常我们对有意义的反向映射（即名称到 i 节点）感兴趣。相反，每个目录的数据块包含每个文件和子目录的名称和关联的 i 节点标识符。如果想要一个*特定*i 节点的名称列表，他们通常必须遍历文件系统的整个目录树以寻找匹配项......

应该指出的是，现代文件系统倾向于模糊数据和元数据之间的界限。例如，扩展属性可以存储在数据块中，或者非常小的文件可以完全打包在它们自己的 i 节点中。一些文件系统甚至*没有*专用的数据块或 i 节点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-06T14:59:32.990

文件偏移存储在文件描述中，并且有一个全局（系统范围）文件描述表。每个进程中的文件描述符用于访问文件描述。不存储权限：仅在打开文件时检查权限。与 inode 关联的链接列表存储在文件系统的目录中。实际上，目录的合理定义是“指向 inode 的链接列表”。

# javascript - 访问对象时json解析不起作用

> ID：14151586
> 
> 赞同：0
> 
> 时间：2013-01-04T05:30:23.787
> 
> 标签：javascript, json, knockout.js

> **可能重复：**
> [从 JSON.parse 数组中获取数据](https://stackoverflow.com/questions/9129776/fetching-data-from-json-parse-array)

我是 json 的新手，甚至不知道问题标题是否正确

我在 obj 中有以下语句 'obj = ko.toJSON(viewModel)';viewmodel 是一个淘汰视图。

```
{
"activeColumns": [
    {
        "property": "delete",
        "display": "Delete",
        "checked": true,
        "readonly": true
    },
    {
        "property": "id",
        "display": "ID",
        "checked": false,
        "readonly": true
    },
    {
        "property": "name",
        "display": "Name",
        "checked": false,
        "readonly": false
    },
    {
        "property": "age",
        "display": "Age",
        "checked": false,
        "readonly": false
    }
],
"rows": [
    {
        "selectedFruits": [],
        "id": 1,
        "name": "Bob",
        "age": 44
    },
    {
        "selectedFruits": [],
        "id": 2,
        "name": "Ted",
        "age": 22
    },
    {
        "selectedFruits": [],
        "id": 3,
        "name": "Jane",
        "age": 55
    },
    {
        "selectedFruits": [],
        "id": 4,
        "name": "Sue",
        "age": 11
    }
],
"newName": "",
"lastSavedJson": "",
"newAge": "",
"newAttribute": "",
"males": 10,
"females": 90,
"val": 50,
"selectedValue": "select",
"selectedCategory": "select",
"availablecategory": [
    "select",
    "functional",
    "non-functional",
    "technical"
],
"tshirtoptions": [
    "select",
    "S",
    "M",
    "L",
    "XL",
    "XXL"
],
"availableparametertype": [
    "select",
    "range",
    "numeric",
    "percentage",
    "t-shirt"
]
} 
```

我正在使用 obj.activeColumns()[0] 访问第一个数组，但它显示未捕获的类型错误。如何访问不同的对象数组及其属性，然后在如何删除特定对象之后。谢谢...

# javascript - 打开新窗口的动画

> ID：14151593
> 
> 赞同：0
> 
> 时间：2013-01-04T05:30:53.783
> 
> 标签：javascript, jquery, html, css, animation

我想知道单击链接后是否有任何方法可以为新窗口的打开设置动画。我的意思是当用户点击一个链接时，当相应的链接打开时，它会在一些动画下这样做，而不是突然出现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:37:36.733

将此添加到`<head>`您的目标页面（链接指向的页面）：

```
<script type="text/javascript">
    $(document).ready(function() {
        $('body').hide().fadeIn('slow');
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:32:40.013

有一个 API，您可以遵循并为您的窗口设置动画

参考链接：[JQuery Aminate API](http://api.jquery.com/animate/)

# magento - 按产品属性过滤 Magento 类别集合？

> ID：14151594
> 
> 赞同：1
> 
> 时间：2013-01-04T05:31:02.800
> 
> 标签：magento

我有一个 Magento 站点，其中包含广泛的目录（10,000 种产品）和相当深的类别树。

所有产品的类别都源自顶级“所有产品”类别。
所有产品都有一个“品牌”下拉属性。

我想要做的是让访问者从类别树的顶部开始，并在*有或没有选择品牌的情况*下向下导航“所有产品”树。问题是我们**需要在每个级别显示下一级子类别，如果品牌不适用，我不想显示空类别。**

例如，如果树看起来像这样，并且其中一个在“螺丝刀页面”上，我们希望类型和长度类别都可见。

1.  所有产品

    *   螺丝刀
        *   菲利普斯
            *   2"
            *   3"
            *   5"
        *   平头
            *   1"
            *   3"
            *   5"

通过创建类别集合，我能够做到这一点*而不必*担心品牌过滤器：

```
 $_category  = $this->getCurrentCategory();
    $current_level = $_category->getLevel(); 
    $collection = $_category->getCollection(); 

    $collection->addAttributeToSelect('url_key')
                ->addAttributeToSelect('name')
                ->addAttributeToSelect('parent_id')
                ->addAttributeToFilter('is_active', 1)
                ->addAttributeToFilter('level',array('in'=>array($current_level+1,$current_level+2)))
                ->setOrder('position','ASC')
                ->load(); 
```

根据我的研究，似乎*不可能*通过产品属性直接过滤类别集合。

假设这是真的： **实现这一目标的最佳方法是什么？**我已经想到并初步尝试了几个想法：

*   创建一个按品牌过滤的*产品集合*并循环遍历它以获取所有相关类别并构建树（看起来这将非常低效）
*   尝试利用分层导航来输出类别（如果我们只查看一个级别，这将起作用 - 我无法获得过滤的“第二”级别。）
*   放弃过滤想法并在新的“按品牌浏览”类别下复制类别树（我想远离这个，以便更新产品不需要更新两个重复的树。）

提前感谢您的帮助。如果您需要对问题进行任何澄清，请告诉我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T16:52:18.377

如果有人在路上遇到类似的问题，我通过使用上面的第二个要点来实现这一点。

```
/* Get Current Filters by loading catalog/layer_view Block */
        $layout = Mage::getSingleton('core/layout');
        $block  = $layout->createBlock('catalog/layer_view');           
/*  Get Current Category  */
        $_category  = $this->getCurrentCategory();
        $current_level = $_category->getLevel();
/*  Get Layer Filter Category Model  */
        $category_filter = Mage::getModel('catalog/layer_filter_category');
/*  Generate the collection based on the current category  */
        $categories = $_category->getCollection();
        $categories->addAttributeToSelect('url_key')
                    ->addAttributeToSelect('name')
                    ->addAttributeToSelect('parent_id')
                    ->addAttributeToSelect('thumbnail')
                    ->addAttributeToFilter('is_active', 1)
                    ->addAttributeToFilter('path', array('like'=>'%/'.$_category->getId().'/%'))
                    ->addAttributeToFilter('level',array('in'=>array($current_level+1,$current_level+2)))
                    ->setOrder('position','ASC')
                    ->load();

/*  Using current filters, add product counts to collection so we can hide categories with 0 products  */
        $category_filter->getLayer()->getProductCollection()
            ->addCountToCategories($categories); 
```

在此之后，就是遍历集合并显示名称、类别的 URL 等问题。

这可能不是绝对最好的方法——我当然欢迎其他解决方案。

# git - 如何查看 GitHub 上的存储库

> ID：14151595
> 
> 赞同：0
> 
> 时间：2013-01-04T05:31:05.457
> 
> 标签：git, github

我的工作区中有一个 Java 项目，我正在尝试将其推送到 GitHub。

我是第一次使用 Git 的用户，还没有创建 GitHub 帐户。

这些是我遵循的步骤。

1.  最初从源代码文件夹中，我做了：

    `git --bare init`

2.  我再次运行`git init`命令：

    `git init`

3.  创建了一个远程存储库：

    `git remote add origin ssh://ravi.kiran.com/home/sai/workspace/Sai`

4.  然后，我将本地文件置于版本控制之下。

    `git add .`

5.  `git commit -a -m 'initialize repo'`

6.  然后我设置我的全局配置：

    `git config --global user.email "ravitest@gmail.com"` `git config --global user.name "ravikirantest"`

7.  结果`git config -l`：

    ```
    sai@ravikiran:~/workspace/Sai/src$ git config -l

    user.email=ravitest@gmail.com
    user.name=ravikirantest

    core.repositoryformatversion=0
    core.filemode=true
    core.bare=false
    core.logallrefupdates=true

    remote.origin.url=ssh://ravi.kiran.com
    remote.origin.fetch=+refs/heads/*:refs/remotes/origin/* 
    ```

请告诉我如何在 GitHub 中查看我的存储库！

在此之后，我什至使用上述指定的电子邮件和用户名创建了一个 GitHub 帐户，但我无法在 github.com 上查看我的文件。

**更新部分**

```
sai@ravikiran:~/workspace/Sai/src$ git push origin master

Username for 'https://github.com': ravikirantest

Password for 'https://ravikirantest@github.com': 

To https://github.com/ravikirantest/Chandrayan.git

 ! [rejected]        master -> master (non-fast-forward)

error: failed to push some refs to 'https://github.com/ravikirantest/Chandrayan.git'

hint: Updates were rejected because the tip of your current branch is behind

hint: its remote counterpart. Merge the remote changes (e.g. 'git pull')

hint: before pushing again.

hint: See the 'Note about fast-forwards' in 'git push --help' for details.

sai@ravikiran:~/workspace/Sai/src$ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T05:57:50.887

在 GitHub 上创建帐户后，您将能够从 GitHub Web 界面创建新的存储库。

创建此存储库后，您将看到（在存储库页面上的 GitHub 中有详细说明）它的 URI。然后，您可以将其设置为本地计算机的远程，然后推送到它。

您本地计算机上的过程如下：

```
git init
git add . 
git commit -m "initial commit"
git remote add origin https://github.com/[your account]/[your repository]
git push origin master 
```

我认为您的部分困惑可能是没有认识到作为版本控制系统的 Git 和作为托管项目服务的 GitHub 之间的区别。Git 将完全独立于 GitHub 工作。或者，您可以使用 GitHub 来托管您的核心存储库，如上所述。

# asp.net - 将 HTML 页面作为页眉和页脚嵌入到我的 HTML 页面（子域）？

> ID：14151600
> 
> 赞同：0
> 
> 时间：2013-01-04T05:32:00.497
> 
> 标签：asp.net, html, cross-domain, dotnetnuke

我正在做一个 DNN (asp .net) 网站，该网站预计将作为子域网站运行到在 PHP 上运行的父网站。为了用一个例子来解释它，我正在构建 subdomain.example.com，它是使用 asp .net 技术（DotNetNuke）构建的，example.com 在 PHP 上运行（我猜是 wordpress）。

我必须将标题（横幅部分[http://example.com/header_section_only](http://example.com/header_section_only)）和页脚（站点地图[http://example.com/footer_section_only](http://example.com/footer_section_only)）从父网站（example.com）嵌入到子域网站（子域.example.com）。由于横幅广告本质上是动态的，因此标题页的高度可能会随着日常偏差而变化。

我曾建议使用 IFrame 但页面大小可变会产生很多问题，是否有其他解决方案？任何人都可以建议我其他选择吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:55:29.240

### 你可以这样使用：

在您的`index.php`或主文件中，您可以包含`header_section_only`以下内容：

```
<body>
<?php
    echo file_get_contents("http://example.com/header_section_only");
?>
<!-- Body Contents -->
<?php
    echo file_get_contents("http://example.com/footer_section_only");
?>
</body> 
```

### 如果文件相对存在：

```
<body>
<?php
    include ("header.inc");
?>
<!-- Body Contents -->
<?php
    include ("footer.inc");
?>
</body> 
```

# c++ - 在 C++ 中映射两组值

> ID：14151602
> 
> 赞同：0
> 
> 时间：2013-01-04T05:32:13.250
> 
> 标签：c++

对于这样一个幼稚的问题，我深表歉意。我知道这很简单。但现在我什么都没有想到。

我正在使用 C++。我有点担心效率，因为这是针对处理能力和 RAM 非常少的嵌入式硬件。

我有 2 个整数数组，其中有 50 个函数本地成员。当指定第一个数组中的元素时，我需要确定第二个数组中的相应数字是多少，反之亦然。我知道提供给我用于查找的元素属于哪个数组，即数组 1 或数组 2。

前任 ：`Array1 => 500 200 1000 300 .....`

```
 Array2 => 250 170 500  400 ..... 
```

`Input 500 , Output will be 250`

`Input 400 , Output will be 300`

`input 200 , Output will be 170 and so on`

我认为数组查找效率最低。stl::map 是最佳选择还是我必须寻找任何有效的搜索算法？我想知道您是否必须这样做，您将选择哪个选项。

有什么想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:33:55.437

您可以使用 std::map 来提高可读性和一点效率，尽管在您的情况下效率是小问题

```
std::map<int,int> mapping;
.... //populate 
cout <<mapping[200]; //170 
```

不过，这只是一种方式（阵列 1 -> 阵列 2）。我不确定是否有其他更简单的方法，但创建第二张地图。

为了支持反向查找，或者从 (Array 2 -> Array 1) 开始，[反向映射查找](https://stackoverflow.com/questions/5749073/reverse-map-lookup)建议使用[Boost.Bimap](http://www.boost.org/doc/libs/release/libs/bimap/doc/html/index.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:19:18.873

根据我的说法，已经提出了两种方法；

1.  将两个数组作为键对值放入映射中并遍历映射以找到相应的值或键。

2.  遍历输入所在的数组并计算索引。在其他数组中获取该索引的值。

我会选择第二种解决方案，因为它更容易。此外，静态数组中只有 50 个元素，您无需担心性能。

# html - 为什么即使在容器中定义了宽度，文本也会在容器外运行

> ID：14151603
> 
> 赞同：0
> 
> 时间：2013-01-04T05:32:17.903
> 
> 标签：html, css, css-float

我有一个父容器，其中又放置了一个容器。子容器在 P 标签内有一个文本。即使宽度是为容器定义的。下面是 HTML 行

```
<div class="textareaPopupWrapper" style="background-color: black;">
  <div class="popupControl">
           <p>This is the text to be display on Popup opens.</p>
  </div> 
```

此元素的样式如下所示

```
.textareaPopupWrapper {
color: white;
display: block;
height: 100px;
left: 103%;
position: relative;
width: 100px;}

.popupControl {
color: red;
float: left;
height: auto;
position: absolute;
width: 90px;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:39:51.903

你忘了关闭主 div。只是检查，可能是它引起了问题。

# asp.net-mvc - Find 方法抛出的值不能为空。参数名称键实体框架

> ID：14151611
> 
> 赞同：0
> 
> 时间：2013-01-04T05:33:38.550
> 
> 标签：asp.net-mvc, entity-framework

我使用 EF 4。拥有此代码来测试我的模型的功能。

```
 using (var context = new CamelotDB())
    {
        Console.WriteLine("Starting User Repository Testing{0}",Environment.NewLine);
        Console.WriteLine("Creating Test User");
        DomainEntity userToAdd = new User()
        {
            EntityName = "Test User",
            EntityType = DomainEntity.eEntityType.User,
            Username = "TestUser",
            Password = "123",
            Email = "TestUser@Test.org",
            FirstName = "Test",
            LastName = "User",
            Phone = "123456789",
            EntityParentID = null,
        };

        Console.WriteLine("Saving user to database...");
        userToAdd = context.DomainEntities.Add(userToAdd);
        context.SaveChanges();

        Console.WriteLine("Fetching user from database...");
        int userID = userToAdd.EntityID;
        DomainEntity userToDelete = context.DomainEntities.Find(userID);

        Console.WriteLine("Removing the user...");
        context.DomainEntities.Remove(userToDelete);
        context.SaveChanges();

    } 
```

用户成功添加到数据库，我取回用户 ID。当我尝试使用该`Find()`方法时

```
DomainEntity userToDelete = context.DomainEntities.Find(userID); 
```

我收到以下错误：***值不能为空。参数名称键***

我事件试图调用以下内容：

```
DomainEntity userToDelete = context.DomainEntities.Find(2); 
```

知道用户 ID 2 存在于数据库中，但仍然得到相同的异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:52:51.840

以某种方式修复它...只是从 EDMX 中删除了关键属性并再次添加它以保存更改，一切都恢复正常猜测这与 EDMX 生成有关...

# cocoa - 如何更改 nsbutton 的禁用状态图像

> ID：14151612
> 
> 赞同：1
> 
> 时间：2013-01-04T05:33:42.193
> 
> 标签：cocoa, nsbutton

我是 mac 新手，我正在实现 nsbutton，我有两个图像，一个处于启用模式，另一个是禁用状态，我想根据启用和禁用 ([button setEnabled:YES]) 更改图像，我该怎么做,

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-04T06:21:04.997

类的使用`setImage:`方法`NSButton`。

```
[button  setImage:anImage]; 
```

# java - 如果字段相同，则共享对象的单个实例

> ID：14151615
> 
> 赞同：-1
> 
> 时间：2013-01-04T05:33:52.670
> 
> 标签：java, singleton

我熟悉静态变量和单例，但我没有看到任何关于此的信息：

```
public class MyImmutableClass {

    private final String string;

    public static final MyImmutableClass getInstance(String s) {

        if( a MyImmutableClass already exists with that string as its field)
            return (that instance);
        else
            return a new instance;

    }  

    ...

} 
```

不能存在 MyImmutableClass 的重复项。这是否有意义，如果是，**您将如何实施？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:40:00.833

```
public final class MyImmutableClass {
private MyImmutableClass(){}
private final String string;
private static Map<String,MyImmutableClass> map = new WeakHashMap<String,MyImmutableClass>();
public static final MyImmutableClass getInstance(String s) {

    if(map.containsKey(s))
        return (map.get(s));
    else{
        MyImmutableClass temp = new MyImmutableClass(s);
        map.put(s,temp);
        return  temp;
    }
}  

...

} 
```

像这样的东西应该适合你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:36:56.517

我认为您正在寻找的是[静态工厂](https://stackoverflow.com/a/4211307/61624)模式，而不是单例模式。Java 类本身就有很多这样的例子。例如，如果您调用方法[Integer.valueOf(myString);](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#valueOf%28java.lang.String%29) 它*可能*正在做类似的事情。如果你一遍又一遍地传入“1”，它可能每次都返回相同的 Integer 对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T05:40:52.887

这称为[享元模式](http://en.m.wikipedia.org/wiki/Flyweight_pattern)。

最简单的实现是：

*   实现同意的 hashCode() 和 equals()
*   使用您班级的密钥 Map 来确定您是否已经拥有一个并存储实例

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T05:40:17.757

例如，您需要保留一个包含您可能重用的对象的集合。主要的复杂性是，如果它天真地完成，您将阻止垃圾收集。

考虑使用 Wea​​kHashMap 以便可以自动删除您的引用。

在您提供的情况下，您会将 String 映射到对象。

# ruby-on-rails - 回形针将文件从 remote_url 上传到 S3 并需要令牌

> ID：14151628
> 
> 赞同：0
> 
> 时间：2013-01-04T05:35:41.187
> 
> 标签：ruby-on-rails, http, amazon-s3, paperclip, remote-access

我正在编写一个从远程服务到我们使用 S3 的应用程序的导入函数。我使用 OAuth 作为身份验证连接到 api，因此我发出的每个请求都需要在标头中附加令牌。附件必须复制到 S3 并且模型使用回形针。

我使用 GET 方法从 api（比如来源）读取文件，该方法返回一个响应，其中正文填充内容，标题包含文件名和其他信息。

**问：**现在我有了纯文本文件的正文，如何使用回形针将其存储在 S3（目标）中？

或者

**问：我可以使用远程 URL（如此**[处](https://github.com/thoughtbot/paperclip/wiki/Attachment-downloaded-from-a-URL)所述）将文件上传到 S3（目标），但是如何将令牌附加到回形针请求到（原始）api？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:32:20.647

您需要在 config 目录中创建一个 s3.yml...这是使用 rails 3 设置回形针的详细教程：http: [//doganberktas.com/2010/09/14/amazon-s3-and-paperclip-导轨-3/](http://doganberktas.com/2010/09/14/amazon-s3-and-paperclip-rails-3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T09:39:54.733

我建议您使用转换工具生成 PDF 或可编辑文档，然后将其上传到 s3...这是一个很好的 PDF gem：[http](http://ruby-pdf.rubyforge.org/pdf-writer/) ://ruby-pdf.rubyforge.org/pdf-writer/甚至一个 railscast 帮助：[http](http://railscasts.com/episodes/78-generating-pdf-documents) ://railscasts.com/episodes/78-generating-pdf-documents 这是一个 rtf gem：[https ://rubygems.org/gems/rtf](https://rubygems.org/gems/rtf)

因为你有应该工作的原始数据。

# javascript - 选定文本索引

> ID：14151630
> 
> 赞同：1
> 
> 时间：2013-01-04T05:35:46.093
> 
> 标签：javascript, jquery, html

我正在尝试使用 javascript/jquery 查找文本索引，但我没有得到确切的解决方案。

考虑文字是这样的......

```
 Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world.Hi all. hello world. Hi all. Hello world. 
```

如何在任何行上获得所选“Hello”单词的确切位置？我尝试了 indexOf，但它给了我第一个 hello 文本索引。请任何人为此提出解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:45:25.797

你可能想看看这个[http://help.dottoro.com/ljkstboe.php](http://help.dottoro.com/ljkstboe.php)

```
$(document).mouseup(function(){
    selection = window.getSelection();
    index = selection.anchorOffset;
    console.log(index);
}); 
```

演示：[http ://slackware.koding.com/getSelDemo.html](http://slackware.koding.com/getSelDemo.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:42:11.320

尝试这个

```
var foo="yourstring";
var pos = foo.indexOf("Hello");
while(pos > -1) {
   document.write(pos + "<br />");
   pos = foo.indexOf("Hello", pos+1);
} 
```

这是[小提琴](http://jsfiddle.net/JvRhj/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T05:50:49.893

我不确定为什么 indexOf 不适合你。同样为我工作。请检查下面的小提琴。

[HTML]

```
 <p id="demo">Click the button to locate where in the string a specifed value occurs.     </p>

 <input type="button" id="btn" value="click"/> 
```

[脚本]

```
$('#btn').click(function(){

 var str="Hello world, hello to the universe.";
 var n=str.indexOf("hello");
  alert(n)
}); 
```

[演示](http://jsfiddle.net/YWPYp/)

# mysql - SQL "IN" 结合 WHERE 子句中的 "="

> ID：14151631
> 
> 赞同：1
> 
> 时间：2013-01-04T05:35:51.470
> 
> 标签：mysql, sql

我正在为别人的代码而苦苦挣扎。WHERE 子句在以下 (MySQL) 语句中可以做什么？

```
 SELECT * FROM t1, t2 WHERE t1.id = t2.id IN (1,2,3) 
```

在我的情况下，它没有提供所需的结果，但我试图弄清楚原作者的意图。任何人都可以提供使用这样的 WHERE 子句的示例吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:42:53.557

此条件从右侧开始，计算`t2.id IN (1,2,3)`，得到结果（0 或 1），并将其用于与 连接`t1.id`。列表中的所有`t2`with行都连接到that has of one 的行；的所有其他行都与具有零的行连接。[这是sqlfiddle.com](http://sqlfiddle.com/)上的一个小演示：[链接](http://sqlfiddle.com/#!2/8815c/3)。`id``IN``t1``id``t2``t1``id`

然而，很难想象这是作者的意图：我认为更可能的检查是两个项目都在列表中，并且彼此相等。彼此相等很重要，因为看起来作者想要连接这两个表。

一种更现代的连接方式是使用 ANSI SQL 语法。这是您在 ANSI SQL 中的查询的等价物：

```
SELECT * FROM t1 JOIN t2 ON t1.id = t2.id IN (1,2,3) 
```

# android - android中的视频视图和日期和时间

> ID：14151632
> 
> 赞同：0
> 
> 时间：2013-01-04T05:36:01.153
> 
> 标签：android, date, time, android-videoview

我的应用程序中有一个模块，它显示视频的开始时间和结束时间。

我创建了一个视频视图，这些时间显示在视频视图上。这工作得很好。

现在，当我在笔记本电脑/台式机上运行此视频时，是否有可能显示视频的开始时间和结束时间？是否可以通过任何jar文件或其他东西。

这是我想知道的知识。是否可以？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:39:28.493

这正是你要找的链接：
[获取videoview下播放视频的进度时间？](https://stackoverflow.com/questions/7802645/in-android-how-to-get-the-progress-time-of-the-video-played-under-videoview)

它告诉您如何在视频进度条上显示时间。

# oracle - 工作中遵循的程序和程序包的顺序

> ID：14151633
> 
> 赞同：-1
> 
> 时间：2013-01-04T05:36:02.260
> 
> 标签：oracle, oracle11g, jobs

我有一个每天运行的预定工作。在该工作中，我从各种包中调用了一些存储过程。我想知道在 Oracle 中是否有一个序列，即我调用它们的序列或存储过程以任何随机顺序执行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:24:57.900

如果你说你有一份工作（每个 SP 有一份工作）调用像 begin pkgA.procA 这样的包；pkgB.procB；pkgC.procC; ... 结尾;

然后它们按照您在 pl/sql 匿名块中的顺序执行。

如果每个 API 调用都有 1 个作业，那么它们将并行执行或以任何随机顺序执行。

# bash - 将 bash 输入变量传递给 awk

> ID：14151634
> 
> 赞同：1
> 
> 时间：2013-01-04T05:36:05.610
> 
> 标签：bash, awk

尝试从用户输入将变量传递给 awk：

已经尝试了 awk -v 的变体，但出现错误说明“awk：无效 -v 选项”，即使该选项已在 man 文件中列出。

```
#! /bin/bash
read -p "Enter ClassID:" CLASS
read -p "Enter FacultyName:" FACULTY

awk '/FacultyName/ {print}' data-new.csv > $FACULTY.csv
awk -vclass=${CLASS} '/class/ {print}' data-new.csv >> $FACULTY.csv 

echo Class is $CLASS
echo Faculty member is $FACULTY 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-04T06:46:41.813

某些版本的 awk 需要`-v`在变量赋值和变量赋值之间有一个空格。此外，您应该将 bash 变量放在双引号中，以防止 shell 在将其传递给 awk 之前进行不必要的解析（例如，分词、通配符扩展）。最后，在 awk`/.../`中是一个常量正则表达式（即`/class/`会搜索字符串“class”，而不是变量“class”的值）。纠正所有这些后，这是我认为可以执行您想要的操作的 awk 命令：

```
awk -v class="${CLASS}" '$0 ~ class {print}' data-new.csv >> $FACULTY.csv 
```

现在，您有什么理由使用它而不是：

```
grep "$CLASS" data-new.csv >> $FACULTY.csv 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:47:33.203

我不清楚您的脚本，但这些都有效：

```
CLASS=ec123
echo | awk -vclass=$CLASS '{print class}'
echo | awk -vclass=${CLASS} '{print class}' 
```

# android - Ubuntu 12.4 中适用于 Android 的 Sencha Touch 2 原生打包

> ID：14151636
> 
> 赞同：1
> 
> 时间：2013-01-04T05:36:31.880
> 
> 标签：android, extjs, sencha-touch, sencha-touch-2

我知道堆栈溢出中有很多这样的问题，但是我想知道目前这个问题，这个问题还没有解决吗？

我看到了[这个](http://docs.sencha.com/touch/2-0/#!/guide/native_android)适用于 Android 的 Sencha Touch 2 Native Packaging 的文档，并在我的 Ubuntu 12.4 中进行了尝试。

`sencha package run android.json`当我在终端中运行这个命令时，我得到了

```
Sencha Cmd v3.0.0.250
[ERR] stbuild is not yet supported on linux 
```

然后我搜索并发现**“Linux 尚不支持本机打包，目前仅支持 OS X 和 Windows。”**

1) [sencha 相关论坛](http://www.sencha.com/forum/showthread.php?242390-2.1-beta3-sencha-generate-app-filed-on-linux64)

2) [sencha 相关论坛](http://www.sencha.com/forum/showthread.php?193336-Error-while-building-native-application-in-Linux&p=772801)

**我的环境是 Ubuntu 12.4，有什么解决办法吗？或者我需要更改环境（windows 或 mac 环境）。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:01:55.810

虽然，我还没有听说任何官方的关于在 Linux 中发布 Sencha Touch 2 的 Native Packaging 的通知，但是一个人声称在他的一个帖子中让它工作，你可以看看它，

[适用于 Linux 的 Sencha 2 命令](http://www.sencha.com/forum/showthread.php?185783-Sencha-2-command-for-Linux&p=752927&viewfull=1#post752927)。然而它是为了`Ubuntu 10.04 LTS`

# iphone - 在 ios5 中找不到社交框架

> ID：14151643
> 
> 赞同：0
> 
> 时间：2013-01-04T05:37:03.630
> 
> 标签：iphone, objective-c, ios, xcode

我在我的项目中添加了社交框架并将其作为可选内容。我的应用程序对于 ios5 也不会崩溃。 `But when i try to open my project in xcode 4.2,It shows me error on #import<Social/Social.h>`像 social.h 没有找到。

所以，我不能对旧的 xcode 版本进行任何编码。

我现在能做什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:47:46.800

社交框架可从 iOS 6 而非 iOS 5 获得，因此它会在 ios 5 中出现错误。Xcode 4.2 不兼容 iOS 6，xcode 4.5 或更高版本支持 iOS6，因此 Xcode 4.2 无法找到社交框架的位置，因此存在错误。

您还可以将框架设置为“可选”而不是“必需”。您可以通过转到“构建阶段”->“将二进制文件与库链接”来进行此更改。你必须通过编码检查框架类。

干杯!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:46:37.960

社交框架可从 iOS 6 而非 iOS 5 获得，因此它不适用于 ios 5。Xcode 4.2 不兼容 iOS 6，iOS6 在 xcode 4.5 或更高版本中受支持，因此 Xcode 4.2 无法找到社交框架的来源，所以它显示错误

# ruby - 从 Ruby 哈希数组中访问特定值

> ID：14151646
> 
> 赞同：2
> 
> 时间：2013-01-04T05:37:31.160
> 
> 标签：ruby

我有一个像这样结构的哈希数组

```
[{:payer_id=>1, :price=>20}, {:payer_id=>2, :price=>30}] 
```

等我如何访问给定特定的价格`payer_id`？我知道这个问题很基本，但我无法弄清楚。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:42:09.047

你可以这样做

```
payers = [{:payer_id=>1, :price=>20}, {:payer_id=>2, :price=>30}]
payer_id = 2

payers.detect { |payer| payer[:payer_id] == payer_id }.try(:[], :price)
# => 30 
```

我曾经[`detect`](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-detect)得到第一个匹配 id 的付款人，然后得到它的价格。如果没有匹配的付款人，您会被`nil`退回，因此您可以使用它[`try`](http://api.rubyonrails.org/classes/Object.html#method-i-try)来获取价格，这样即使没有找到付款人，代码也不会引发错误。
*※`try`是 ActiveSupport 的一部分，所以如果您不使用它，只需替换`.try(:[], :price)`为`[:price]`.*

# oracle10g - 无法初始化 OCI。错误-1。适用于 Oracle 10 和 Oracle 10g 的 Toad

> ID：14151647
> 
> 赞同：4
> 
> 时间：2013-01-04T05:37:33.660
> 
> 标签：oracle10g, toad

我正在尝试使用 toad 10 Commercial 从我的客户端 PC 连接 Oracle 10g 数据库服务器。我的 PC 上安装了 Oracle 10g。当我尝试连接时，它会给出错误 Can't initialize OCI.Error -1 。到目前为止，我能够对 oracle 服务器执行 tnsping。我的 tnsnames.ora 中有所有设置。任何建议都受到高度赞赏。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T07:10:46.613

自己找到了解决方案。问题在于 Windows 7 权限问题。我以管理员身份运行打开了 Toad，特权和问题得到了解决。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T03:15:09.917

取自[https://support.quest.com/SolutionDetail.aspx?id=SOL61710](https://support.quest.com/SolutionDetail.aspx?id=SOL61710)

解决方案 1：右键单击 Toad for Oracle 快捷方式并选择“以管理员身份运行”以避免错误。

解决方案 2：右键单击 Toad for Oracle 快捷方式 | 属性 | 兼容性标签 | 勾选“以兼容模式运行此程序” | 从下拉列表中选择“Windows XP Service Pack 3”。

解决方案 3：右键单击我的电脑 | 属性 | 高级选项卡 | 环境变量 | 在“系统变量”下（下部）| 检查您是否有 ORACLE_HOME 的条目。如果是，将其重命名为 ORACLE_HOME_OLD，然后重新测试问题。

解决方案 4：将您的 Oracle 客户端升级到 10.2.0.4 或更高版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-05T18:45:58.513

我有另一个决议。我在将 NLS_LANG 环境变量设置为 LATIN AMERICAN SPANISH 时遇到了这个问题。重新启动 windows7 时，TOAD 不会开始显示错误无法初始化 OCI。错误 -1 我不得不删除 NLS_LANG / NLS_LANGUAGE 环境变量。现在我必须在登录 TOAD 时设置 NLS_LANGUAGE 执行 ALTER SESSION。不再有 OCI 错误。

希望它停止。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-21T11:45:01.407

请按照以下步骤解决（无法初始化 OCI。错误 -1）标题问题。

1.  转到环境变量
2.  删除用户变量中的所有变量路径。
3.  还要检查权限。

谢谢阿南达拉杰

# android - 要添加到清单以拒绝 Kindle Fire 第一代

> ID：14151651
> 
> 赞同：1
> 
> 时间：2013-01-04T05:37:46.317
> 
> 标签：android, google-play, kindle-fire

我遇到了 inputType “numberSigned” 和 “numberDecimal” 相互抵消的问题，但仅限于 Kindle Fire 第一代。

我想确保 Play 存储中的用户收到“此设备不兼容”消息，以便他们无法购买该应用程序。我可以在清单中添加一些内容以确保 Kindle Fire 第一代无法购买该应用程序吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-14T19:12:06.577

Google Play 在 Kindle Fire 设备上不可用，因此您通过 Play 不会有问题。

对于 Amazon AppStore，您可以在上传应用程序时在开发人员门户中指定开发人员意图，以控制您是否需要 Kindle 1st Gen、Kindle Fire 2nd get、Fire HD7 或 Fire HD8.9（以及非亚马逊设备）

更新：此外，如果您将 Android API 版本限制为最低版本 10，您将排除基于 Gingerbread 的设备，但包括 ICS 设备

# mercurial - hg strip vs hg backout and hg revert

> ID：14151655
> 
> 赞同：83
> 
> 时间：2013-01-04T05:38:26.797
> 
> 标签：mercurial, tortoisehg

mercurial 命令有什么区别，

*   `hg strip`
*   `hg backout`
*   `hg revert`

所有这些命令基本上都用于恢复/撤消早期变更集的影响。

* * *

## 回答 #1

> 赞同：108
> 
> 时间：2013-01-04T11:35:50.497

`hg strip`从存储库中删除变更集及其所有后代。就好像这些变化从未存在过一样。在变更集上使用它时要小心，`public`因为它不会从任何其他存储库中删除它，并且下次拉取时会取回它们。

`hg backout`创建一个新的变更集来扭转早期变更集的影响。旧的变更集仍将保留在存储库中，但新的变更集也将保留以删除更改。

`hg revert`使用修订将工作副本更新为指定的修订。如果您随后提交该工作副本，它将具有恢复所有更改的效果。

其他答案以及有关还原和退出的更多信息：

*   [hg revert 和 hg backout 有什么区别？](https://stackoverflow.com/a/13763035).
*   [Mercurial — 恢复到旧版本并从那里继续](https://stackoverflow.com/a/2565996)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-19T10:29:27.947

在某个时刻，我不得不构建 Jenkins 管道，每次作业开始时都应该在其中恢复 POM 文件。我面临的问题是：如何反向还原所有 POM 文件。

由于这个答案是谷歌上的第一个答案，我想为有同样问题的人贡献我的解决方案

```
hg revert */pom.xml 
```

# python - 如果我使用 mod_wsgi 为应用程序提供服务，在哪里可以看到标准输出？

> ID：14151657
> 
> 赞同：3
> 
> 时间：2013-01-04T05:38:32.877
> 
> 标签：python, django, apache, mod-wsgi, pyramid

有时我需要检查 python web 应用程序的输出。

如果我直接执行应用程序，我可以从终端屏幕看到它。

但我不知道如何检查`mod_wsgi`. 它会出现在单独的日志中`apache`吗？还是我需要添加一些代码`logging`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:32:59.567

而不是`print "message"`，您可以使用`sys.stderr.write("message")`

使用[StreamHandler](http://docs.python.org/2/library/logging.handlers.html#streamhandler)登录到 stderr ：

```
import logging
handler = logging.StreamHandler(stream=sys.stderr)
log = logging.getLogger(__name__)
log.setLevel(logging.INFO)
log.addHandler(handler)

log.info("Message") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:07:40.413

[wsgilog](http://pypi.python.org/pypi/wsgilog)很简单，可以自动为您将标准输出重定向到日志文件。微风设置，我没有任何真正的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T05:44:16.820

> 任何声称可移植的 WSGI 应用程序组件都不应该写入标准输出。也就是说，应用程序不应该在没有将输出定向到某个备用流的情况下使用 Python 打印语句。应用程序也不应该直接写入 sys.stdout。（[ModWSGI 维基](http://code.google.com/p/modwsgi/wiki/ApplicationIssues)）

所以不要...相反，我建议使用像[sentry](https://github.com/getsentry/sentry)这样的日志聚合工具。它在开发时很有用，并且在生产中是必备的。

# python - wxPython：有没有办法改变 wx.ScrolledWindow 中滚动条的颜色？

> ID：14151659
> 
> 赞同：1
> 
> 时间：2013-01-04T05:38:44.267
> 
> 标签：python, wxpython

我发现如果我直接做一个，我可以通过函数`wx.ScrollBar`修改它的背景颜色。`SetBackgroundColour()`但是，我不确定当 Scrollbar 是`wx.ScrolledWindow`.

如何在 ScrolledWindow 中获取对 Scrollbar 的引用？

第二个问题是，有没有办法改变滚动条上的背景颜色？我正在尝试实现“夜间”模式，因此想要将所有颜色静音一点。在程序的其余部分执行此操作相当简单，但滚动条仍然是个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:27:44.490

您可以通过查询 scrolledwindow.GetChildren() 来获取对每个 ScrollBar（一个水平和一个垂直）的引用，例如：

```
sw = wx.ScrolledWindow(self)
for child in sw.GetChildren():
  if isinstance(child, wx.ScrollBar):
    print child
    child.SetBackgroundColour(...) 
```

关于你的第二个问题，有 SetForegroundColour()。您始终可以通过以下方式查看文档：

```
python
>>> import wx
>>> help(wx.ScrollBar) 
```

# android - 不幸的是，消息启动器已停止

> ID：14151660
> 
> 赞同：1
> 
> 时间：2013-01-04T05:38:49.130
> 
> 标签：android, android-emulator

我正在制作一个 Android 程序来*发送约会详细信息*以供将来约会，我已经完成了编码并获取了所有内容，但是每当我单击发送按钮时都会收到错误消息：

**不幸的是，消息启动器 [AppName] 已停止**

清单.xml：

```
 <?xml version="1.0" encoding="utf-8"?>
<manifest
xmlns:android="http://schemas.android.com/apk/res/android"
package="com.mamlambo.tutorial.sendmessage">
<application
    android:icon="@drawable/icon"
    android:label="@string/app_name"
    >
    <activity
        android:name="com.mamlambo.tutorial.sendmessage.FormActivity"
        android:label="@string/app_name">
        <intent-filter>
            <action
                android:name="android.intent.action.MAIN" />
            <category
                android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    </application>
    <uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:43:29.237

如果您在按钮单击时发送短信，则需要向`SEND_SMS`清单添加权限，

```
<uses-permission android:name="android.permission.SEND_SMS"/> 
```

这篇文章也将对您有所帮助，[在 Android 中发送短信](https://stackoverflow.com/a/11642921/1626878)

# android - 媒体播放器服务 Android

> ID：14151661
> 
> 赞同：15
> 
> 时间：2013-01-04T05:38:58.503
> 
> 标签：android, android-service, android-mediaplayer

我是安卓新手。我正在为媒体播放器创建服务，以便即使我关闭应用程序它也可以继续播放歌曲。我为媒体播放器创建了活动，它具有播放、暂停、下一个、上一个、搜索栏等所有功能，还包括 oncompletionlistener。一切都很好。但现在我希望一切都应该由服务管理。

我创建了 MyService 类：

```
public class MyService extends Service {

    public static MediaPlayer mp;

    @Override
    public IBinder onBind(Intent intent) {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public void onCreate() {
        mp = new MediaPlayer();     
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {  
        return START_STICKY;
    } 
```

但是在我的播放器活动中，我为 Songlist 创建了 ArrayList，我从中获取 currentsongIndex 并通过它维护所有功能，例如下一个、上一个和所有。现在在服务中，我如何获得我的活动中也需要的歌曲列表？ ? 我应该在哪里创建 MediaPlayer 对象意味着在服务或活动中？

对于 MediaPlayer，我参考了[http://www.androidhive.info/2012/03/android-building-audio-player-tutorial/](http://www.androidhive.info/2012/03/android-building-audio-player-tutorial/)。对于我的媒体播放器代码，您可以参考此站点。谢谢。请清除我的疑问。我感到很困惑。快回复我..

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-05T05:58:26.213

你在正确的轨道上。我改编自 SDK Samples；我就是这样做的，而且效果很好。从您的 ArrayList （在您的活动中不是来自服务）调用

```
onListItemClick 
```

并启动一个启动音乐服务的意图：

```
startService(new Intent(MusicService.ACTION_PLAY)); 
```

在您的清单中，您需要添加：

```
 <intent-filter>
            <action android:name="com.blah.blah.action.PLAY" />
           <xxx xxx> 
 </intent-filter> 
```

当然，在您的音乐服务中，您需要接收 Intent：

```
public int onStartCommand(Intent intent, int flags, int startId) {
    String action = intent.getAction();
    if (action.equals(ACTION_PLAY))
        processPlayRequest();
  } 
```

确保为跳过、倒带、停止等添加 Intent。如果这有帮助，请告诉我。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T05:58:44.640

让应用程序在后台运行应该由“服务”本身来处理。
试试这个例子[http://www.vogella.com/articles/AndroidServices/article.html](http://www.vogella.com/articles/AndroidServices/article.html)
服务被设计为在后台工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-28T17:27:53.163

我经历了完全相同的事情！开发一个非常棒的 mp3 播放器应用程序是一个漫长的过程。答案很长。

以下是一些真正帮助我的资源。Android 在他们的开发者文档中有一篇关于这件事的文章：

[http://developer.android.com/guide/components/services.html](http://developer.android.com/guide/components/services.html)

注意它在这篇长篇文章底部所说的关于绑定服务和在前台运行的内容。

此外，管理玩家状态是最让我头疼的问题。

您还需要了解线程，因为生成新服务仍将执行主 UI 线程上的所有内容，这听起来很疯狂，但确实如此。看一下用于管理线程池的 ExecutorService。我希望我能告诉你这更容易。

不幸的是，我的大部分正式培训来自网络，但使用 android 服务来自付费网站：

[http://www.pluralsight.com/training/Courses/TableOfContents/android-services](http://www.pluralsight.com/training/Courses/TableOfContents/android-services)

我认为这对所有程序员来说都是一个很好的资源，但它有很多关于 android 编程方面的精彩部分，这些部分仅在其他教程网站上简要介绍过。

Vogella 的资源也很好，如上所述。

# jquery - 单击按钮以显示相关内容

> ID：14151662
> 
> 赞同：2
> 
> 时间：2013-01-04T05:38:58.833
> 
> 标签：jquery

我有四个“了解更多”按钮，每个按钮都有一段相关的内容。每个段落都将在开始时隐藏，然后我想要它，以便在单击其中一个按钮时显示相关内容的段落。然后，如果单击了不同的按钮，则当前显示的段落将被隐藏，并且与单击的第二个按钮相关联的内容段落会显示出来。

我无法弄清楚使用 jQuery 完成此任务的最佳方法是什么。

这是HTML：

```
<button class="learn-more">Learn More</button>
<button class="learn-more">Learn More</button>
<button class="learn-more">Learn More</button>
<button class="learn-more">Learn More</button>

<p>First paragraph</p>
<p>Second paragraph</p>
<p>Third paragraph</p>
<p>Fourth paragraph</p> 
```

这是CSS：

```
p {
  display: none;        
} 
```

这是一个带有此代码的 JSFiddle：http: [//jsfiddle.net/cYFy3/3/](http://jsfiddle.net/cYFy3/3/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:41:35.993

```
$(document).ready(function() {
    var $b = $('button.learn-more'), $p = $('p');

    $b.click(function() {
        var i = $b.index(this);
        $p.hide().eq(i).show();
    })
}); 
```

[http://jsfiddle.net/swuTP/](http://jsfiddle.net/swuTP/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:53:34.437

```
<button class="learn-more" paragraph_id="p1">Learn More</button>
<button class="learn-more" paragraph_id="p2">Learn More</button>
<button class="learn-more" paragraph_id="p3">Learn More</button>
<button class="learn-more" paragraph_id="p4">Learn More</button>

<p class="hide_paragraph" id="p1">First paragraph</p>
<p class="hide_paragraph" id="p2">Second paragraph</p>
<p class="hide_paragraph" id="p3">Third paragraph</p>
<p class="hide_paragraph" id="p4">Fourth paragraph</p> 
```

js：

```
$(document).ready(function () {
     $('.learn-more').click(function(){
           $('.hide_paragraph').hide();
           $('#' + $(this).attr('paragraph_id')).show();            
     });

}); 
```

[http://jsfiddle.net/CwVU7/22/](http://jsfiddle.net/CwVU7/22/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T05:58:33.210

尝试这个

***代码***

```
<div class="btn">
<button class="learn-more">Learn More</button>
<button class="learn-more">Learn More</button>
<button class="learn-more">Learn More</button>
<button class="learn-more">Learn More</button>
</div>
<div class="pgf">
<p>First paragraph</p>
<p>Second paragraph</p>
<p>Third paragraph</p>
<p>Fourth paragraph</p>
</div> 
```

***JS代码***

```
$(document).ready(function () {
    $('.btn button').on('click', function(){
        var btnindex = $(this).index();
        $('.pgf p').siblings('p').css({'display':'none'});
        $('.pgf p').eq(btnindex).css({'display':'block'});   
    });
}); 
```

***CSS***

```
p {
  display: none;        
} 
```

**[演示](http://jsfiddle.net/cYFy3/4/)**

# html - 如果页面滚动，使 html 和 body 拉伸到 100% 高度甚至更多

> ID：14151663
> 
> 赞同：13
> 
> 时间：2013-01-04T05:39:03.623
> 
> 标签：html, css

如果页面不够高而不能保证滚动，我想让我的`<html>`和`<body>`标签成为视口的整个高度，或者如果它是网页的整个高度。

目前我正在使用这个 CSS：

```
html, body {
    height: 100%;
} 
```

如果网页的高度不足以让用户滚动，这很有效，但是在长网页上，它只会达到用户浏览器视口的高度。我也试过：

```
html, body {
    min-height: 100%;
} 
```

但这似乎与根本没有`height`声明具有相同的效果。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2015-09-03T20:10:44.467

听起来你的目标是让身体

*   始终覆盖屏幕（内容最少或没有内容）
*   能够伸展（如果有大量内容）

如果是这种情况，以下代码段应该会有所帮助

```
/* this looks like it should work

       html, body{
         min-height: 100%;
       }

    but this ↓ does the trick */

html, body{
  padding: 0;
  margin: 0;
}
html{
  height: 100%;
}
body{
  min-height: 100%;
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2017-03-16T15:28:39.853

你有没有尝试过：

```
min-height: 100vh; 
```

这应该将元素的高度设置为视口，如果超出，它将有一个滚动条，这是一个示例：

[http://codepen.io/r3plica/pen/jBaPYB](http://codepen.io/r3plica/pen/jBaPYB)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T05:41:53.963

一个起点：

```
body {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: auto;
} 
```

（或者如果您对某些浏览器有问题，请添加一个带有 ID 的容器 div 等。）

编辑：在下面添加完整的代码示例：

```
<body>
    <aside>Sidebar</aside>
    <div id="main">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </div>
</body> 
```

CSS：

```
* {
  font-size: 2em
}

aside {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 200px;
    background-color: pink;
}

#main {
    position: absolute;
    top: 0;
    left: 200px;
    right: 0;
    bottom: 0;
    overflow: auto;
    background-color: red;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-05-03T09:54:58.070

```
html, body {
 height: 100%;
}
div {
 min-height: 100%;
} 
```

如果页面滚动，这是使 html 和 body 拉伸到 100% 高度的解决方案

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-02-03T13:36:29.773

```
html
{
  height: 100%;
}
body
{
  max-height: 100%;
} 
```

在 body 元素中使用 max-height 会将内容包装在页面的可视大小内，并删除滚动或额外的空白。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-01-04T05:43:28.840

您需要指定`overflow`特定 div 的属性。即使页面滚动或内容更多，它也会确保显示您的内容。

```
div {
    overflow:scroll;
} 
```

# php - 从另一个控制器错误调用函数

> ID：14151664
> 
> 赞同：0
> 
> 时间：2013-01-04T05:39:04.253
> 
> 标签：php, cakephp

我有 2 个控制器：UsersController 和 AnalyticsController。

当我运行时：

```
//UsersController:
function dummyFunction(){
    $this->Analytic->_loadChartFromId($chart_id);
} 
```

输出是：

```
Query: _loadChartFromId 
```

警告（512）：SQL 错误：1064：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的“_loadChartFromId”附近使用正确的语法 [CORE\cake\libs\model\datasources\dbo_source.php，第 684 行]

该`_loadChartFromId()`函数将 $chart_id 作为参数并返回一个数组作为输出。我不知道为什么会`Query: _loadChartFromId`出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T09:21:28.410

I could have opted to close this question as an exact duplicate of at least 5 other questions (if you search for "cakephp another controller"). But the answers there are just terrible. They actually try to invoke new Dispatchers or requestAction().

So **if** your question is about another controller method:

The short answer is: You don't.

The long answer: You still dont. That's a typical beginners mistake. You should put the functionality into a component if it is mainly business logic. The component then can be accessed from multiple controllers.

If it is more like model data (as in your example), put the functionality into the model layer (in an appropriate model). this way you can also access it from anywhere in your application.

Also: Accessing protected methods from other objects is never a good idea. Use public methods if you intend to use it from "outside" the object.

**If** your question is about a model method: You need to include your model in your controller before you can use it. Either by using `public $uses` or by using `loadModel('ModelName')` or even `ClassRegistry::init('ModelName')`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T12:15:44.580

您不会从控制器调用其他控制器方法。

在您的用户控制器中，`$this->Analytic`是分析模型的实例，而不是 AnalyticsController。因此，CakePHP 认为您正在尝试调用`_loadChartFromId()`在分析模型上调用的公共方法，如您所知，该方法不存在。

您收到错误的原因是，如果您尝试调用模型的不存在方法，CakePHP 会尝试将其转换为其[Magic Find Types](http://book.cakephp.org/2.0/en/models/retrieving-your-data.html#magic-find-types)之一。当然，它也不是有效的 Magic Find 类型，所以会出现 SQL 错误。

**解决方案**

由于我们只有您的部分代码，因此很难提供完整的解决方案，但是您在编写应用程序的方式上可能违反了 MVC 的概念。

您需要做以下两件事之一：

1.  移动`_loadChartFromId()`到您的用户控制器。在我看来，这似乎是违反直觉的，因为它可能与用户无关。

2.  将该方法移至您的分析模型。您需要将其公开，以便控制器可以访问它，并且在您的用户控制器中，您需要确保已加载分析模型。

    ```
    class Analytic extends AppModel {

        public function _loadChartFromId($chart_id) {
           // ...
        }
    } 
    ```

    然后，您可以像以前一样从您的用户控制器调用该方法。

# iphone - 使用解析框架的 Facebook 集成

> ID：14151665
> 
> 赞同：1
> 
> 时间：2013-01-04T05:39:11.890
> 
> 标签：iphone, facebook, ios6, ios-simulator, xcode4.5

我使用解析框架与我的应用程序完成了 Facebook 集成，所以我如何添加注销按钮以及对用户的权限下面提到的图像是我的应用程序屏幕短以及如何在我的代码中获得*好的*按钮按下事件..？

![这是我登录后的应用程序主屏幕](../Images/4abbe7099c36b268b9fa8adb23a8907a.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-04T05:49:05.663

**登录**
在您的应用程序委托中，应该存在以下几行：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
[Parse setApplicationId:@"YOUR_APPLICATION_ID"
              clientKey:@"YOUR_CLIENT_KEY"];
[PFFacebookUtils initializeWithApplicationId:@"YOUR_FB_APP_ID"];

// Override point for customization after application launch.
return YES;
}

- (BOOL)application:(UIApplication *)application handleOpenURL:(NSURL *)url {
return [PFFacebookUtils handleOpenURL:url];
}

- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation {
return [PFFacebookUtils handleOpenURL:url];
} 
```

这将确保解析在启动时被初始化并与您的 facebook 应用程序连接。底部的两种方法使您的应用能够启动屏幕以登录 facebook 并请求权限。为了向用户实际展示该屏幕，只需要一个按钮，该按钮调用与此类似的方法：

```
-(IBAction)facebookLoginButtonPressed:(id)sender {
    [self loginWithFacebook];
}

-(void)loginWithFacebook {
    NSArray *permissionsArray = @[@"publish_actions", @"email", @"user_location"];

    // Login PFUser using Facebook
    [PFFacebookUtils logInWithPermissions:permissionsArray block:^(PFUser *user, NSError *error) {

        if (!user) {
            if (!error) {
                NSLog(@"Uh oh. The user cancelled the Facebook login.");
            } else {
                NSLog(@"Uh oh. An error occurred: %@", error);
            }
        } else {
            [self performSegueWithIdentifier:@"loginToFeed" sender:self];
        }
    }];
} 
```

ok 不需要事件回调，当`[PFFacebookUtils logInWithPermissions:block:]`返回时，它将执行您提供的块，使您能够继续使用不同`ViewControllers`的功能或显示不同的功能。

**注销**
将按钮添加到您想要控制注销的任何视图。然后`IBAction`为该按钮添加一个方法：

```
-(IBAction)logOutButtonPressed:(id)sender {
    [PFUser logOut];
    NSLog(@"User logged out!");
    [self dismissViewControllerAnimated:YES completion:^{}];
} 
```

# sencha-touch - IBM Worklight - Sencha Touch 应用程序显示白屏

> ID：14151669
> 
> 赞同：0
> 
> 时间：2013-01-04T05:39:42.207
> 
> 标签：sencha-touch, ibm-mobilefirst

我是 sencha touch 的新手，所以从它开始，我从给定的[链接](http://www.ibm.com/developerworks/forums/servlet/JiveServlet/download/2830-439413-14867203-380696/Sencha2DemoProj.zip)下载了一个 (sencha touch + worklight) 项目并在 eclipse 中导入。当我在工作灯控制台（即 localhost:8080/console）中运行它时，它正在构建和运行完美，但是当我在 android 模拟器中运行它时，它显示空白屏幕。并给出错误，我已经[在此处附加了日志文件](http://www.ibm.com/developerworks/forums/servlet/JiveServlet/download/2830-466828-14924769-384193/Sencha2DemoProj%20log.txt)，即使我尝试了更多项目，所有项目都显示空白屏幕。

我尝试在不同的 AVD 中运行它，即 Android 2.1、2.2、2.3，但我遇到了同样的问题。我不知道 Worklight 或 Sencha Touch 的问题出在哪里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-08T22:32:26.603

在自己遇到同样的问题并最终弄清楚如何解决它之后，我想我会分享。

您需要在构建和测试项目之前部署 Worklight Adapter。

方法如下：

1.  在 Eclipse 中打开 WorklightStarter_Sencha 项目，打开适配器文件夹并突出显示 WorklightStarterAdapter 文件夹。
2.  从菜单栏中选择运行 -> 运行方式 -> 部署 Worklight Adapter。
3.  现在构建并部署您的项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-16T08:25:44.103

最近已针对 Worklight 6.0 重新编写了 Worklight Starter 的 Sencha 版本。

您可以从这个位置尝试这个新版本：[http ://public.dhe.ibm.com/software/mobile-solutions/worklight/docs/v600/WorklightStarter_Sencha.zip](http://public.dhe.ibm.com/software/mobile-solutions/worklight/docs/v600/WorklightStarter_Sencha.zip)

看看这是否有助于指导您，而不是您链接到的非常过时的项目。

# asp.net-mvc-3 - ASP.NET MVC DisplayFormat 小时

> ID：14151671
> 
> 赞同：2
> 
> 时间：2013-01-04T05:39:50.743
> 
> 标签：asp.net-mvc-3

我的 Model 类中有以下 TimeSpan 变量：

```
[DisplayFormat(DataFormatString = "{0:HH-mm}", ApplyFormatInEditMode = true)]
public TimeSpan StartingHour { get; set; } 
```

但是当我从我的视图中调用它时，我得到了错误：

```
@Html.DisplayFor(modelItem => item.StartingHour) 
```

> System.FormatException：输入字符串的格式不正确。

变量的值为：“18:00:00”。

我的 DisplayFormat 初始化应该是什么？并且请对自己保持“将小时和分钟与时间分开”的建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:46:59.733

尝试：`DataFormatString = @"{0:hh\-mm}"`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T05:54:28.877

尝试使用：

```
DataFormatString ="{0:hh\\:mm}" 
```

谢谢。

# php - 使用 php 中三个查询中的第一个的插入 id

> ID：14151678
> 
> 赞同：1
> 
> 时间：2013-01-04T05:40:24.530
> 
> 标签：php, mysql, insert-update, lastinsertid

我想将来自几个 curl 调用的数据存储到初始表中，但是最后一个插入 id 插入了错误的信息

查询 1 将数据插入表中

表格1

```
 id name      email      valuereturn
   1   val     val@email.com       0 
```

然后我将数据发布到我的系统 3 次并记录下来

表2

```
 id  name    system  valuereturn
    1   val      5       0
    2   val      0       0
    3   val      0       0 
```

从我的系统返回的最大值我想更新表 1

```
update table1 
set valuereturn = '5' 
where id = LAST_INSERT_ID() 
```

不起作用，因为 table2 中的最后一个插入 id 是 3，我该如何使用类似的东西`last_insert_id(Table1)`？

我想更新我的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:46:58.837

**将 table1 的LAST_INSERT_ID()**存储在变量中，然后在更新查询中使用该变量。

```
INSERT INTO table1(name) values ('Saharsh');
SELECT LAST_INSERT_ID() INTO @table1Id;

INSERT INTO table2(name, table1id) values ('Saharsh', @table1Id);
UPDATE table1 SET valuereturn = '5' WHERE id = @table1Id; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:23:22.307

好吧，你不能。您必须在 PHP 变量中检索并记住它。

或者选择 Saharsh 的解决方案并将其记住在*MySQL*变量中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T06:27:12.823

### 在 PHP 中，我假设您使用以下代码：

```
<?php
  connect_db();
  insert_first_query_to_table1();
  insert_second_query_to_table2();
  update_query_setting(last_insert_id());
?> 
```

### 如果是这种情况，我建议您使用临时变量来存储`last_insert_id`.

```
<?php
  connect_db();
  insert_first_query_to_table1();
  $setVal = last_insert_id();
  insert_second_query_to_table2();
  update_query_setting($setVal);
?> 
```

希望这可以帮助。

*PS：这是一个伪代码！*

# magento - Magento 显示产品的动画 gif 图像

> ID：14151682
> 
> 赞同：7
> 
> 时间：2013-01-04T05:40:47.863
> 
> 标签：magento, caching, product, animated-gif

我想显示产品的动画 gif 图像。
上传 gif 图像是可能的，但在前端看不到相同的图像。
由于没有看到 magento 动画 gif 图像中的缓存，我看到了该功能。
我该如何实施？
检查[此](http://www.inkfruit.com/guys/guys-tshirts/led-tshirts/)链接以供参考。
提前致谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-04T05:45:31.927

你可以实现它。
尽管您的缓存功能不适用于动画 gif 图像。
**从复制文件**

**路径：** app/code/core/Mage/Catalog/Model/Product/Image.php **到**

**路径：** app/code/local/Mage/Catalog/Model/Product/Image.php **（如有必要，创建文件夹）**
找到行**public function getUrl()**并将函数替换为：

```
public function getUrl()
    {
        $baseDir = Mage::getBaseDir('media');
        $file = ('gif' == strtolower(pathinfo($this->_baseFile, PATHINFO_EXTENSION))) ? $this->_baseFile : $this->_newFile;
        $path = str_replace($baseDir . DS, "", $file);
        return Mage::getBaseUrl('media') . str_replace(DS, '/', $path);
    } 
```

希望这会帮助你。

# actionscript-3 - AIR 应用程序中的 ios/Android 目标推送通知

> ID：14151686
> 
> 赞同：0
> 
> 时间：2013-01-04T05:41:25.847
> 
> 标签：actionscript-3, air

我想知道是否可以在单个 AIR 应用程序中设置多个自定义推送通知。

我想要做的是允许用户根据他们希望收到的信息设置自定义警报，例如说用户 1 想知道什么时候在 DVD 上发布新动作或戏剧电影，用户 2 想知道什么时候有新喜剧已发行，用户 3 想知道任何新电影何时发行。

这是一个简单的示例，可能有 1000 个选项（邮政编码/邮政编码信息）。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:04:29.383

从技术上讲，没有什么不允许您这样做。不过，实现主要与后端相关，让我在这里快速起草一个设计；

1.  用户的设备在您的后端服务中注册推送通知。
2.  您的服务将用户的 id 存储在数据库中，并将设备令牌传递给相应的推送通知服务器。
3.  注册完成后，用户选择他希望收到通知的项目（当然，您的后端服务也必须知道此信息才能将其存储在数据库中）。
4.  一旦有新的动作电影（或用户注册的任何类型的信息）可用，您的服务就会在数据库中查找用户为该类型的电影注册的内容，并通过推送发送消息。

所以一个简单的数据库和一些服务器端脚本会让你继续前进。

# python - 只让用户在 Python 中执行一次功能？

> ID：14151690
> 
> 赞同：0
> 
> 时间：2013-01-04T05:41:42.060
> 
> 标签：python, variables, static

我对 Python 很陌生。在我等待我的 Pi 的一些东西时在 Windows 上运行。我正在编写一个游戏，用户通过文本输入穿过塔。

用户可以使用“a”“d”“w”环顾房间以收集 sutff。但如果用户已经查看过“a”（即“向左看”），我需要让他们知道他们已经去过那里。这是我的代码，但它有一个明显的缺陷。

```
#if user hits 'a' they look left
def roomOneLeft():
    print '-- You search some loose rubble and find some cloth'
    return roomOneMoves()

#where the user selects a movement
def roomOneMoves():
    left = 0
    move = raw_input("")
    if left == 1:
        print 'you have already looked here'
        return roomOneMoves()

    if move == "a":
        left = left + 1
        roomOneLeft() 
```

我可以将“左”设置为静态吗？和 ant 研究如何将它设置为像 java 一样的全局变量。这显然不起作用，因为当它返回时，它会将自己设置回 0。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:45:52.193

您可以将“左”定义为全局。像这样：

```
left = 0

#where the user selects a movement
def roomOneMoves():
    global left

    move = raw_input("")
    if left == 1:
        print 'you have already looked here'
        return roomOneMoves()

    if move == "a":
        left = left + 1
        roomOneLeft() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:46:37.580

要使变量成为全局变量，请在模块范围内声明，然后在函数中更改它，请使用`global`关键字。

```
left = 0
def some_func()
    global left
    left = 1 
```

这将允许您在函数内编辑全局变量。

为了解决您的`static`变量问题，我相信您不能在 python 中执行此操作。看到[这个](https://stackoverflow.com/q/592931/1907098)问题。

# jquery - SVG动画没有方法

> ID：14151700
> 
> 赞同：1
> 
> 时间：2013-01-04T05:42:28.073
> 
> 标签：jquery, svg, jquery-animate, transform

我有一个 SVG (html)：

```
 <div>
      <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
        <g id="radius-selector">
          <!-- Circle -->
          <circle id="radius-circle" cx="50%" cy="35%" r="25%" stroke="black" stroke-width="2" />
          <!-- Radius ring -->
          <circle id="radius-ring" cx="50%" cy="35%" r="12.5%" stroke="green" stroke-width="10" fill="none"/>
        </g>

      </svg>
    </div> 
```

我正在尝试转换 SVG，使用 JQuery 像这样选择它：

```
$('#radius-ring')[0].animate({fill: "#223fa3", stroke: "#000", "stroke-width": 80, "stroke-opacity": 0.5}, 2000); 
```

但我不断在控制台中收到错误：

```
TypeError: Object #<SVGCircleElement> has no method 'animate'
arguments: Array[2]
get message: function () { [native code] }
get stack: function () { [native code] }
set message: function () { [native code] }
set stack: function () { [native code] }
type: "undefined_method"
__proto__: Error 
```

我是否需要实际安装插件或库来为 SVG 设置动画？我以为你能做到这一点？如果是这样，我将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:04:44.750

实际上，您使用的是`DOM`对象而不是`jquery`对象。试试这个方法

```
 $('#radius-ring').animate({fill: "#223fa3", stroke: "#000", "stroke-width": 80, "stroke-opacity": 0.5}, 2000); 
```

代替

```
 $('#radius-ring')[0].animate({fill: "#223fa3", stroke: "#000", "stroke-width": 80, "stroke-opacity": 0.5}, 2000); 
```

# jquery - 如何让这个 jQuery 动画出现在它被点击的实际 div 上？

> ID：14151701
> 
> 赞同：2
> 
> 时间：2013-01-04T05:42:34.743
> 
> 标签：jquery, animation, jquery-animate, multiple-instances

您好，我目前正在制作一把剪刀剪出优惠券的动画...如果[页面上有一张优惠券](http://extremecouponnetwork.com/children-toys.html)但效果很好但有多个优惠券它会减慢速度并偶尔行动？

[多个示例](http://extremecouponnetwork.com/coupon-categories.html)

我正在努力做到这一点，以便当您单击“剪辑它！”时 在优惠券的底部...动画出现在那张优惠券上，而且只有那张优惠券！

更新：我已经做得更远了，但仍然无法让动画在网站上运行，因为它与提供的令人敬畏的示例略有不同......基本上我有多个带有 .item 类的 div 和示例只有1...

感谢您的帮助...我学到了一点！

这是我的 .js 文件中的代码：

```
 jQuery(function($){

    //try this
    $(window).load(function(){

    });

    $(".clip_it").click(clipIt);

    function clipIt(){

            $(".ToBeAnimated").fadeIn();
            animationLoop();
            // jfbc.opengraph.triggerAction('1','http://www.extremecouponnetwork.com<?php echo $this->item->link; ?>');
    }

    function animationLoop() {

        $(".ToBeAnimated").css({
            top: ($(".item .item-inner").offset().top - parseInt($(".ToBeAnimated").height()) / 2),
            left: ($(".item .item-inner").offset().left - parseInt($(".ToBeAnimated").width()) / 2)
        }).rotate(270);

        $(".ToBeAnimated").animate({
            top: $(".item .item-inner").offset().top + $(".item .item-inner").height() - $(".ToBeAnimated").height() / 2
        }, 1000, function() {
            $(this).animate({
                rotate: "180deg"
            },1000, function() {
                $(".ToBeAnimated").animate({
                    left: $(".item .item-inner").offset().left + $(".item .item-inner").width() - $(".ToBeAnimated").width() / 2
                }, 1000, function() {
                    $(this).animate({
                        rotate: "90deg"
                    }, function() {
                        $(".ToBeAnimated").animate({
                            top: $(".item .item-inner").offset().top - $(".ToBeAnimated").height() / 2
                        }, 1000, function() {
                            $(this).animate({
                                rotate: "0deg"
                            }, function() {
                                $(".ToBeAnimated").animate({
                                    left: $(".ToBeAnimated").width() / 2
                                }, 1000, function() {
                                    setTimeout(animationLoop, 1000);
                                });
                            });
                        });
                    });

                });
            });
        });
    }     
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:03:15.110

您应该为单击的特定元素设置动画。具体来说，我的意思是你只为单击“剪辑它”按钮的剪刀设置动画。`$(".ToBeAnimated")`将选择所有剪刀，无论它们被点击的天气如何。因此，您将改写 click 处理程序，如下所示：

```
function clipIt(){
    var $scissor = $(this).closest('.ToBeAnimated');
        $scissor.fadeIn();
        animationLoop($scissor);
}

function animationLoop($elem) {
    // only animate the intended scissors, not all of them
    $elem.css(...); // your animation code..
} 
```

同样，在您的动画代码中，您可能不想使用`$(".item .item-inner")`，因为这也不是特定的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:02:45.773

我认为你必须在动画循环函数中传递`object`和它：`index`

你可以在这里找到一个小提琴：http: **[//jsfiddle.net/zDJJT/](http://jsfiddle.net/zDJJT/)**

```
function animationLoop(it, index) {
            //---------^^--^^^^^----object and its index passed from click
    $(".ToBeAnimated").css({
        top: ($(".item ."+it).eq(index).offset().top - parseInt($(".ToBeAnimated").height()) / 2),
        left: ($(".item ."+it).eq(index).offset().left - parseInt($(".ToBeAnimated").width()) / 2)
    }).rotate(270);

    $(".ToBeAnimated").animate({
        top: $(".item ."+it).eq(index).offset().top + $(".item ."+it).eq(index).height() - $(".ToBeAnimated").height() / 2
    }, 1000, function() {
        $(this).animate({
            rotate: "180deg"
        },1000, function() {
            $(".ToBeAnimated").animate({
                left: $(".item ."+it).eq(index).offset().left + $(".item ."+it).eq(index).width() - $(".ToBeAnimated").width() / 2
            }, 1000, function() {
                $(this).animate({
                    rotate: "90deg"
                }, function() {
                    $(".ToBeAnimated").animate({
                        top: $(".item ."+it).eq(index).offset().top - $(".ToBeAnimated").height() / 2
                    }, 1000, function() {
                        $(this).animate({
                            rotate: "0deg"
                        }, function() {
                            $(".ToBeAnimated").animate({
                                left: $(".ToBeAnimated").width() / 2
                            }, 1000, function() {
                                setTimeout(animationLoop, 1000);
                            });
                        });
                    });
                });

            });
        });
    });
}

function clipIt() {
    $(".ToBeAnimated").css({"display":"block", "opacity":"0"}).animate({"opacity":1},800);
    animationLoop($(this).attr('class'), $(this).index());
    //------------^^passing curr obj^^---^^its index^^------passed in the function

}

$('.item-inner').click(clipIt); 
```

我在这里所做的是，无论您单击哪个都`.ToBeAnimated`将动画到该边界，只需将`class name`其传递`index`给`animationLoop(it, index);`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-13T17:04:05.240

您可以使用以下代码：

```
jQuery(function ($) {
  $(".clip_it").on("click", function () {
    animationLoop($(this).closest(".item-inner").eq(0),$(this).parent().find(".ToBeAnimated").eq(0));
  });
});
  function animationLoop(ctx,ctx2) {
    ctx2.fadeIn();
    ctx2.css({
      top: (0 - parseInt(ctx2.height()) / 2),
      left: (0 - parseInt(ctx2.width()) / 2),
      position:"absolute",
      "z-index":800
    }).rotate(270);
    ctx2.animate({
      top: ctx.height() - ctx2.height() / 2
    }, 1000, function () {
      ctx2.animate({
        rotate: "180deg"
      }, 1000, function () {
        ctx2.animate({
          left: ctx.width() - ctx2.width() / 2
        }, 1000, function () {
          ctx2.animate({
            rotate: "90deg"
          }, function () {
            ctx2.animate({
              top: 0-ctx2.height() / 2
            }, 1000, function () {
              ctx2.animate({
                rotate: "0deg"
              }, function () {
                ctx2.animate({
                  left: (0 - parseInt(ctx2.width()) / 2)
                }, 1000, function () {
                  setTimeout(animationLoop(ctx,ctx2), 1000);
                });
              });
            });
          });
        });
      });
    });
  } 
```

它的作用是它不依赖于 offsetTop 或 offsetLeft，因为将剪刀设置为绝对 [未固定]，将相对于包含父级 [优惠券本身；`.item-inner`]。因此，“0”的位置足以将任何剪刀放在优惠券的左上角。

使用单击传递到函数技巧，将单击和动画剪刀保留到内存中，以便每个剪刀的动画实例顺利发生。此外，这样，每个剪刀的对象已经为每个实例存储/选择，并且是不需要的[意味着不需要引用`$(".ToBeAnimated")`)]

*[演示](http://jsfiddle.net/bFkju/24/show/) **|** [来源](http://jsfiddle.net/bFkju/24/)*

**编辑：**

```
jQuery(function ($) {
$("body").on("click", ".clip_it", function () {
if ($(this).parent().find(".clip_it").length<1){
$(this).after('<a class="clip_it" href="javascript:void(0)" onclick="">CLIP IT!</a><img src="http://img.photobucket.com/albums/v29/wormholes201/animated-scissors.gif" class="ToBeAnimated">');
}
    animationLoop($(this).closest(".item-inner").eq(0),$(this).parent().find(".ToBeAnimated").eq(0));
  });
});
  function animationLoop(ctx,ctx2) {
    ctx2.fadeIn();
    ctx2.css({
      top: (0 - parseInt(ctx2.height()) / 2),
      left: (0 - parseInt(ctx2.width()) / 2),
      position:"absolute",
      "z-index":800
    }).rotate(270);
    ctx2.animate({
      top: ctx.height() - ctx2.height() / 2
    }, 1000, function () {
      ctx2.animate({
        rotate: "180deg"
      }, 1000, function () {
        ctx2.animate({
          left: ctx.width() - ctx2.width() / 2
        }, 1000, function () {
          ctx2.animate({
            rotate: "90deg"
          }, function () {
            ctx2.animate({
              top: 0-ctx2.height() / 2
            }, 1000, function () {
              ctx2.animate({
                rotate: "0deg"
              }, function () {
                ctx2.animate({
                  left: (0 - parseInt(ctx2.width()) / 2)
                }, 1000, function () {
                  setTimeout(animationLoop(ctx,ctx2), 1000);
                });
              });
            });
          });
        });
      });
    });
  } 
```

**Edit2：您的**[多演示页面](http://extremecouponnetwork.com/coupon-categories.html)中 似乎有[其他代码](http://extremecouponnetwork.com/templates/ja_wall/js/clip.js)无法正常运行：

这是一个修复：

```
/* Begin */
jQuery(function ($) {

    reloadMasonry = function () {
        $(document.body).addClass('masonry-relayout');
        $container.masonry('reload', function () {
            $(document.body).removeClass('masonry-relayout');
        });
    };

    /* When any "click_it" link is clicked in the body, method used since .live() is deprecated and removed in jQuery 1.9 */
    $("body").on("click", ".clip_it", function () {

        /* Checks to see if there is a scissors and adds one if there's not */
        if ($(this).parent().find(".clip_it").length < 1) {
            $(this).after('<a class="clip_it" href="javascript:void(0)" onclick="">CLIP IT!</a><img src="http://img.photobucket.com/albums/v29/wormholes201/animated-scissors.gif" class="ToBeAnimated">');
        }

        /* Starts the animation */
        animationLoop($(this).closest(".item-inner").eq(0), $(this).parent().find(".ToBeAnimated").eq(0));
    });

    /* Function that starts the animation queue, "ctx" is the container while "ctx2" is the sissors */
    function animationLoop(ctx, ctx2) {
        ctx2.fadeIn();
        ctx2.css({
            top: (0 - parseInt(ctx2.height()) / 2),
            left: (0 - parseInt(ctx2.width()) / 2),
            position: "absolute",
                "z-index": 800
        }).rotate(270);
        ctx2.animate({
            top: ctx.height() - ctx2.height() / 2
        }, 1000, function () {
            ctx2.animate({
                rotate: "180deg"
            }, 1000, function () {
                ctx2.animate({
                    left: ctx.width() - ctx2.width() / 2
                }, 1000, function () {
                    ctx2.animate({
                        rotate: "90deg"
                    }, function () {
                        ctx2.animate({
                            top: 0 - ctx2.height() / 2
                        }, 1000, function () {
                            ctx2.animate({
                                rotate: "0deg"
                            }, function () {
                                ctx2.animate({
                                    left: (0 - parseInt(ctx2.width()) / 2)
                                }, 1000, function () {
                                    /* Event queue is completed! The sissors should be back at it's default position */
                                    $container = $('#masonry-container');

                                    /* "$(this)" is actually "ctx" here */
                                    var jremove = ctx.closest('.item').hide();
                                    $container.masonry('remove', jremove);
                                    reloadMasonry();
                                    return false;
                                });
                            });
                        });
                    });
                });
            });
        });
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-11T19:57:28.637

如果剪刀是动态加载的（即每个优惠券有一把剪刀），您可以在 id 的末尾附加一个整数。所以你会有一个像 div id="scissors_245" 这样的主容器，其中 245 是优惠券 ID。然后，当您需要调用任何动画时，您总是在其前面加上父容器的 id。

```
$('#scissors_245 .leftside').animate(... 
```

然后您不必依赖最接近或元素的索引。如果它被移动或周围的其他人被移除，您仍然可以整天抓住它。

我还将这个动画的很多分割成单独的函数，所以一个函数会是这样的：

```
openShutScissors(id) 
```

打开和关闭剪刀，另一个是

```
moveScissors(id) 
```

其中 id 是您附加到实际 id 上的整数。然后在“剪辑它”按钮上调用

```
onClick="moveScissors(245)" 
```

触发 moveScissors() 然后触发 openShutScissors()

这样你就可以把所有的疯狂分开，一次只处理一件。

# ipad - UIView/UIButton 坐标翻转

> ID：14151706
> 
> 赞同：0
> 
> 时间：2013-01-04T05:42:54.003
> 
> 标签：ipad, uiview, ios6, core-plot

我有一个 coreplot 项目。viewcontroller 中视图的类已更改为 CPTGraphHostingView。

创建图表后（这工作正常），我添加一个按钮作为子视图，这会启动一个弹出窗口，显示的按钮是反转的。我在不同的视图控制器中具有相同的控件，并且工作正常。Popover 看起来也不错。

这是创建和添加 UIButton 的代码

```
 UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
[button addTarget:self
           action:@selector(monthSelection)
 forControlEvents:UIControlEventTouchDown];
[button setTitle:@"Change Month" forState:UIControlStateNormal];
button.frame = CGRectMake(330, 650, 111, 40);
[self.view addSubview:button]; 
```

[这是正在发生的事情的屏幕截图。UIButton 应该显示在弹出框下方的某个位置。我错过了什么。

![这是正在发生的事情的屏幕截图。 UIButton 应该显示在弹出框下方的某个位置。 我错过了什么。](../Images/e8fd98b4c08cc5f76ca98a025fbe96fb.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T00:11:40.020

不要将子视图添加到图形托管视图。相反，使其他视图成为宿主视图的兄弟，即将它们添加为同一父视图的子视图。

# iphone - 协议未被识别

> ID：14151708
> 
> 赞同：0
> 
> 时间：2013-01-04T05:42:55.383
> 
> 标签：iphone, objective-c

我尝试为某些配置设置设置协议，我知道我的协议没有被识别，因为我没有将委托设置为 self。但是我的问题来了，我有 2 个类：Manager 和 Configurator。

Manager 类将消息发送到自己定义的协议。Configurator 类采用协议并实现它。

经理类：

```
@protocol ManagerDelegate <NSObject>

- (NSDictionary *)getString:(NSString *)type;
@end
@property (nonatomic, assign) id<ManagerDelegate> delegate;

-(void)someMethod{
 NSSting *test = [self.delegate getString:@"protocol"]; 
```

配置类：

```
 @interface Configurator : NSObject <ManagerDelegate>
 ..... 
```

在 .m 文件中

```
 - (NSDictionary *)getString:(NSString *)type{
    return type;} 
```

我不想或不需要实例化 Configurator 类或 Manager 类，或者这是完全必要的？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:29:10.583

无需在这里创建委托。 `- (NSDictionary *)getString:(NSString *)type`是类中的方法，`Configurator`它是 的子类`NSObject`。您可以在 Manager 类中创建 Configurator 类的实例，并使用该实例访问 Configurator 类的方法。

```
 -(void)someMethod{
Configurator *objConfigurator = [[Configurator alloc] init];//Or You can declare instance in Configurator.h.
 NSSting *test = [objConfigurator getString:@"protocol"];
} 
```

我想这会对你有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T05:55:53.947

当你的`config`班级`alloc`是`manager`班级时，它需要说`[self.manager setDelegate: self]`否则`manager`班级不知道`config`班级是它的代表。
为了使用定义的任何方法或协议，这两个类都需要在某个地方实例化。

# iphone - 每个 TableView 单元格都有一个图像，有些是“隐藏的”，我如何测试它们是否都没有隐藏？

> ID：14151709
> 
> 赞同：0
> 
> 时间：2013-01-04T05:42:57.560
> 
> 标签：iphone, objective-c, ios, cocoa-touch, uitableview

在我的应用程序中，我有一个表格视图，每个行/单元格上都有一个 imageView。每个 imageView 已经分配了它的图像，每个 imageView 的`.hidden`属性都设置为，`YES`直到用户另外指定。我的问题是：我如何测试以查看是否有任何图像`hidden`/未隐藏。如果 1 个单元格有可见图像，我想调用一个方法。如果所有图像都消失了，我想采用不同的方法，有什么想法吗？

我正在尝试以下方式：

```
if ([self.hand.showBadge boolValue] == YES) {
    self.handView.hidden = YES;
}
else{
    self.handView.hidden = NO;
} 
```

但不幸的是它没有工作。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:10:13.033

一种方法是在单元格中标记 imageView，然后根据需要使用该标记遍历单元格。

在 tableView:cellForRowAtIndexPath 中，添加：

```
myImageView.tag = MY_CELL_IMAGEVIEW_TAG; 
```

或者，如果使用情节提要，您可以只在原型单元（或静态单元）中设置图像视图的标签。

然后，如果要检查可见单元格，请在要检查图像视图的位置插入以下代码。

```
BOOL cellImageViewsAreHidden = YES;

for (UITableViewCell *cell in self.tableView.visibleCells) {
  UIImageView *cellImageView = [cell viewWithTag:MY_CELL_IMAGEVIEW_TAG];
  if ([cellImageView isHidden] == NO) {
    cellImageViewsAreHidden = NO;
    break;
  }  
}

(cellImageViewsAreHidden) ? 'method for all hidden' : 'method for not all hidden' ; 
```

# android - 使用 phonegap 从图库中检索音频

> ID：14151712
> 
> 赞同：0
> 
> 时间：2013-01-04T05:43:13.917
> 
> 标签：android, cordova

嗨，在我的 android phonegap 应用程序中，我使用语音插件来录制音频并将其存储到“mnt/sdcard/DCIM/FolderName/”中。但是当我尝试从该文件夹中检索音频时，我只得到图像和视频。请帮忙我从画廊中检索音频。

这是我检索音频的代码：

```
navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality:
    50, destinationType: navigator.camera.DestinationType.FILE_URI, sourceType: source,
    mediaType: navigator.camera.MediaType.ALLMEDIA}); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:04:45.523

从这个链接获得帮助它可能会帮助你你需要什么..

[http://docs.phonegap.com/en/2.2.0/cordova_media_media.md.html#Media](http://docs.phonegap.com/en/2.2.0/cordova_media_media.md.html#Media)

// 从指定的源检索图像文件位置，如下所示..

```
navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50, 
        destinationType: destinationType.FILE_URI,
        sourceType: source }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T20:21:52.773

据我所知，Gallery 应用程序中没有显示音频数据。只有 Camera.getPicture() 允许您访问的图像和视频。

您能否提供有关“检索音频”的含义的更多信息？您只需要路径还是需要播放音频等？

# c# - 使用 C# 在 Windows Server 2003 上查询 EventLog

> ID：14151718
> 
> 赞同：4
> 
> 时间：2013-01-04T05:43:39.107
> 
> 标签：c#, .net, windows-server-2003, event-log

我现在正在构建一个 Windows 事件日志查看器，我们有很多 Window Server 2003 框。我正在使用 EventLogReader 类进行查询，但它需要 Vista+，因此无法在 Windows Server 2003 上运行。虽然 EventLog 类可用但速度很慢。我还有其他选择吗？

更新：我不是在查询所有的事件日志，而是在一个日期范围内查询事件日志，有没有办法让它更快，因为我们只需要事件日志属于一个范围？现在使用 EventLog 类即使对于本地盒子也非常慢，对于远程盒子来说是无法忍受的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-11T01:27:53.153

我刚刚玩了[一下 logparser](http://www.microsoft.com/en-us/download/details.aspx?id=24659)。我之前建议的 Log Parser Studio 是用于这些任务集的 UI。

这是一个日志解析器查询：

```
logparser.exe -i:EVT “SELECT TimeGenerated,EventID,EventType,EventTypeName,EventCategory,EventCategoryName,SourceName,
Strings,ComputerName,SID,Message FROM \\servername\Application WHERE TimeGenerated > ’2012-07-12 00:00:00′ AND EventType IN (1;2) ORDER BY TimeGenerated DESC” -o:CSV -q:ON -stats:OFF >> c:\temp\Events.csv 
```

将“\servername\Application”替换为您的服务器详细信息。

-i:EVT 告诉它查询事件日志。

这是我使用的快速[LogParser 参考](http://technet.microsoft.com/en-us/scriptcenter/dd919274.aspx)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-11T02:05:47.373

EventLog 类很慢。访问速度取决于事件日志的大小。在大多数服务器场景中，它们被允许在归档之前变得相当大。本机 Windows 事件查看器还支持远程日志查看，这使您可以演示远程日志查看的速度有多慢。

我认为 EventLog 的 Entries 属性很可能是按日期排序的。这意味着您可以实现条目的二进制搜索（Linq 默认情况下不这样做）以加快速度。下面是一个二进制搜索扩展的示例：[LINQ 可以在对集合进行排序时使用二进制搜索吗？](https://stackoverflow.com/questions/1766328/can-linq-use-binary-search-when-the-collection-is-ordered)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T00:37:16.757

如果或与[哪种方法在 C# 中读取 Windows 事件日志更好？WMI 或事件日志](https://stackoverflow.com/questions/5411384/which-approach-is-better-to-read-windows-event-log-in-c-wmi-or-eventlog)。

除了上面链接提供的信息之外，请考虑在日志文件事件翻转之前限制信息量。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-11T02:01:42.077

您可以查看我为 logparser 编写的[工具。](http://eventanalyser.appointmentsbook.com)它有一个类似 SQL 的创建屏幕，可以为您提供可以使用的良好查询示例。

如果您在应用程序中包含 LogParser，请注意如何部署它：[logparser binaries distribution](https://stackoverflow.com/questions/3737377/logparser-binaries-distribution)，您可以看到我单独包含它。

> #1 为什么我坚持使用 EventLog 类，因为 Win Server 2003 不支持 EventLogReader

[我建议你从Visual Log Parser](http://visuallogparser.codeplex.com/)借用代码。

> #2 它需要同时查询多个服务器

LogParser 非常适合查询多个服务器和多个日志。查看所有日志组合并按时间排序甚至按出现分组非常方便。

> #3 我不是在查询所有的事件日志，而是在一个日期范围内查询事件日志，有没有办法让它更快，因为我们只需要一个范围内的事件日志？

是的，LogParser 完全在飞行中，比疾驰的火车还快！以下是按 DateRange 查询 Evt 日志的方法：

```
SELECT Extract_FileName(EventLog) AS EventLog, RecordNumber, TimeGenerated, EventID, EventType, EventTypeName, EventCategoryName, SourceName, ComputerName, Message FROM
\\servername\Application
WHERE TimeWritten > '2011-01-25 12:01:00'
AND TimeWritten < '2012-01-25 12:01:00' 
```

> #4 我试过了，Log Parser Studio 似乎只适用于日志文件，而不适用于本地系统或远程服务器。

Log Parser Studio 只是 logparser 的 GUI，它应该可以工作，尝试这个原始查询（没有 LP Studio 直接使用 LogParser）来获取您域中的所有日志：

```
LogParser "SELECT SourceName,TimeGenerated,TimeWritten,Message INTO filename.csv FROM \\Server\Application where Message Like '%mydomain.com%'" -o:CSV 
```

# javascript - 从objective-c调用javascript函数的语法

> ID：14151719
> 
> 赞同：1
> 
> 时间：2013-01-04T05:43:41.343
> 
> 标签：javascript, objective-c, ios, cordova

我正在使用 phonegap/cordova 2.1.0 框架在 IOS 中制作应用程序。我想从objective-c调用驻留在index.html中的javascript函数。所以，首先我加载 index.html，然后尝试调用 javascript 函数。我的代码如下：

```
 NSString *path = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"www"];
    NSURL *baseURL = [NSURL fileURLWithPath:path];
    NSString *myFile = [path stringByAppendingPathComponent:@"index.html"];

//NSLog(@"base url= %@",myFile);

NSData *myFileData = [[NSData alloc] initWithContentsOfFile:myFile];
NSString* myFileHtml = [[NSString alloc] initWithData:myFileData encoding:NSASCIIStringEncoding];

[theWebView loadHTMLString:myFileHtml baseURL:baseURL];

// to call javascript function 
[theWebView stringByEvaluatingJavaScriptFromString:@"onDeviceReady()"]; 
```

倒数第二行加载 index.html，最后一行调用其中的函数。但是，不知何故，上面的代码不起作用。我在语法明智的地方出错了吗？

另外，由于 index.html 之前已经加载过，那么如何在不再次加载的情况下指定函数存在的文件名（即 index.html）？谢谢。

Javascript函数如下：

```
function onDeviceReady(callback) {

                var item = window.localStorage.getItem("key");
                var message = "deviceready localStorage.getItem('key')="+item+" localStorage.length="+window.localStorage.length;

                if( item == null){
                    item = "";
                }
                item = item + "value";

                window.localStorage.setItem("key", item);

                var value = window.localStorage.getItem("key");

                if ( deviceType == 'android' && gAppControl.loadScript == false ){
                    loadScript('iscroll.js');
                    gAppControl.loadScript = true;
                    document.addEventListener("backButton", backPressed, false);
                }

                var db = window.openDatabase(dbName, "1.0", gAppConfig.dbMessage, 200000);

                db.transaction(queryDB, errorCB , callback);

                // return
                return;
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T05:55:00.067

```
onDeviceReady() 
```

这是 phonegap API，如果设备没有准备好，你将无法调用任何 Phonegap 插件，那么 onDeviceReady() 函数的细节是什么？涉及任何phonegap插件吗？

代码似乎没有问题，这是我的[代码](https://github.com/meadlai/MDCommonWebView)，带有与 Objective-C 和 HTML-Javascript 通信的桥梁，

# c# - VS2008 无法访问 App_Code 中的类中的方法

> ID：14151720
> 
> 赞同：1
> 
> 时间：2013-01-04T05:43:42.303
> 
> 标签：c#, class, app-code

我在 VS2008 中创建了一个网站，在 App_Code 文件夹中我添加了一个类

```
namespace irfulabs
{
    [DataObject(true)]
    public static class fooDALC
    {
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public static IList<Screen> Getfoo()
        {

            //Do something
        }

        [DataObjectMethod(DataObjectMethodType.Insert, true)]
        public static void Insert(Screen src)
        {
            //Do something
        }
        [DataObjectMethod(DataObjectMethodType.Update, true)]
        public static void Update(Screen src)
        {
            //Do something
        }

        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public static void Delete(Screen src)
        {
            //Do something
        }
    }
} 
```

在页面加载事件中我调用该方法

```
using irfulabs;

GridView1.DataSource = fooDALC.Getfoo();
GridView1.DataBind(); 
```

我收到错误消息“CS0103：当前上下文中不存在名称‘fooDALC’”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T11:18:59.287

由于代码没有问题，在我的虚拟主机上设置应用程序文件夹和虚拟目录后，页面打开时没有错误。

# php - 在 MySQL 中更新后不会回显消息

> ID：14151724
> 
> 赞同：0
> 
> 时间：2013-01-04T05:44:27.717
> 
> 标签：php, mysql

我相信这段代码有效。但它不会回显确认或错误。

```
<?php

require 'config.php';

if($_SERVER["REQUEST_METHOD"] == "POST"){      

        $servername="localhost";
        $username="root";
        $conn=  mysql_connect($servername,$username)or die(mysql_error());

        mysql_select_db("web", $conn);

                    $mypassword=$_POST['pwd'];
                    $fname=$_POST['fname'];
                    $lname=$_POST['lname'];
                    $address=$_POST['address'];
                    $location=$_POST['location'];

                    $sqlsel="SELECT * FROM users WHERE username='$id' AND pwd='$mypassword' ";
                    $result=mysql_query($sqlsel,$conn) or die(mysql_error());  

                    $count=mysql_num_rows($result);

                    if($count==1){  
                        $sql="UPDATE users " .
                        "SET fname = '$fname', 
                        lname = '$lname',
                        address = '$address', 
                        location = '$location'" .
                        "WHERE pwd = '$mypassword'";

                        $res = mysql_query( $sql, $conn );
//IS THIS CORRECT TO REFRESH THE PAGE???
                        header("Location: edit.php?id=" . $id);
//IT WON'T ECHO....
                        echo 'Information updated.';
                        }

                    else {
//ALSO THIS ONE...
                    echo print "Invalid Password.";
                    }

                mysql_close($conn);
}
?> 
```

它似乎适用于我的其他表单，但不适用于此编辑表单。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:24:19.537

在标头位置之后，任何事情都不起作用。你能做的是

```
header("Location: edit.php?id=" . $id . "&msg=1"); 
```

然后在 edit.php 上得到 $_GET["msg"] 之类的

```
if isset($_GET["msg"])
echo 'Information updated.'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:45:57.120

在该浏览器开始重定向并且不回显之后，您已经发送了重定向标头。删除标头调用。

注释掉这部分

```
//header("Location: edit.php?id=" . $id); 
```

还

```
echo print "Invalid Password."; 
```

应该

```
echo "Invalid Password."; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T05:46:04.617

当标头位置被声明时，它只会在它的第一个 php/html 声明时重定向页面

之后的任何东西都无法工作或显示

# php - 在 php 或 mysql 中使用数字中的内部数组对数组进行排序

> ID：14151726
> 
> 赞同：4
> 
> 时间：2013-01-04T05:44:58.073
> 
> 标签：php, mysql, sql, sql-server, sorting

我有一个这样的数组，

array[0][0],[1][0],[2][0] 是问题，array[0][1],[1][1],[2][1] 是答案问题。
现在我想根据答案的数量对这个数组进行排序。
第一个问题只有一个答案，第二个问题有两个答案，第三个问题有三个答案。
排序后的数组应该按照该问题的答案数量降序排列。无论如何在sql中实现这一点？或者我们如何在php中排序？希望我的问题很清楚。先感谢您。

```
Array
(
    [0] => Array
        (
            [0] => Array
                (
                    [0] => 12
                    [1] => 110
                    [2] => Tom
                    [3] => Tom@gmail.com
                    [4] => Hello tom how are you?
                    [5] => 2013-01-03 14:54:07
                )

            [1] => Array
                (
                    [0] => Array
                        (
                            [0] => 12
                            [1] => Yes i am fine.
                            [2] => Arun
                            [3] => arun@gmail.com
                            [4] => 2013-01-03 14:55:22
                        )
                )
        )
    [1] => Array
        (
            [0] => Array
                (
                    [0] => 12
                    [1] => 110
                    [2] => Tom
                    [3] => Tom@gmail.com
                    [4] => Hello tom how are you.
                    [5] => 2013-01-03 14:54:07
                )

            [1] => Array
                (
                    [0] => Array
                        (
                            [0] => 12
                            [1] => Yes i am fine
                            [2] => Arun
                            [3] => arun@gmail.com
                            [4] => 2013-01-03 14:55:22
                        )
                    [1] => Array
                        (
                            [0] => 12
                            [1] => Yes i am fine
                            [2] => Arun
                            [3] => arun@gmail.com
                            [4] => 2013-01-03 14:55:22
                        )
                )
        )
    [2] => Array
        (
            [0] => Array
                (
                    [0] => 12
                    [1] => 110
                    [2] => Tom
                    [3] => Tom@gmail.com
                    [4] => Hello tom how are you.
                    [5] => 2013-01-03 14:54:07
                )
            [1] => Array
                (
                    [0] => Array
                        (
                            [0] => 12
                            [1] => Yes i am fine
                            [2] => Arun
                            [3] => arun@gmail.com
                            [4] => 2013-01-03 14:55:22
                        )
                    [1] => Array
                        (
                            [0] => 12
                            [1] => Yes i am fine
                            [2] => Arun
                            [3] => arun@gmail.com
                            [4] => 2013-01-03 14:55:22
                        )
                [2] => Array
                        (
                            [0] => 12
                            [1] => Yes i am fine
                            [2] => Arun
                            [3] => arun@gmail.com
                            [4] => 2013-01-03 14:55:22
                        )
                )
        ) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T05:59:20.850

这应该有效：

```
function cmp($a, $b)
{
    return count($a[1]) > count($b[1]) ? -1 : 1;
}

usort($data, 'cmp'); 
```

或者，如果您正在使用`PHP 5.3.0`或更高版本，您可以使用：

```
usort($data, function ($a, $b) {
    return count($a[1]) > count($b[1]) ? -1 : 1;
}); 
```

# php - ArrayObject 不允许我在迭代时取消设置值

> ID：14151727
> 
> 赞同：4
> 
> 时间：2013-01-04T05:45:10.130
> 
> 标签：php, spl, arrayobject

我收到了这个通知：

> ArrayIterator::next(): 数组在对象外部被修改，内部位置在 /var/www 中不再有效...

这是由这段代码在 foreach 循环开始时生成的。与通知一起，foreach 循环重新开始迭代。换句话说，只要发生这种情况，内部位置就会被重置。但根据 php 手册，ArrayObject 默认使用 ArrayIterator。

手册上说的是关于 ArrayIterator

> 此迭代器允许在迭代数组和对象时取消设置和修改值和键。

我在这里错过了什么吗？我发现了一些关于 ArratIterator 的错误报告，但不是这种。这是一个错误还是我的坏？

> 版本：PHP 版本 5.3.10-1ubuntu3.4

```
<?php
//file 1:
// no namespace
abstract class holder extends \ArrayObject{
    // abstract function init();

    public function __construct($init){
        parent::__construct($init, 1);
    }
}?>

<?php
//file 2:
namespace troops;
class holder extends \holder{
    public function __construct(){
        parent::__construct($this->init());
    }

    private function init(){
        return array( /*... some data from db ...*/ );
    }

    public function saveData(){
        foreach($this as $k  => $v){
            $this->save($v);
            if($v->number_of_items==0) {
                unset($k);
                // $this->offsetUnset($k); // tryed both 
            }
        }
    }
}
?> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-10T21:50:25.450

[ArrayObject](http://php.net/manual/en/class.arrayobject.php)实现了[IteratorAggregate](http://php.net/manual/en/class.iteratoraggregate.php)，这意味着它有一个名为[getIterator()](http://php.net/manual/en/iteratoraggregate.getiterator.php)的方法，该方法返回一个迭代器。

php 的 foreach 循环将通过调用 getIterator() 方法自动检索迭代器，以便您检索要迭代的迭代器。这很方便，但是您需要获取对该迭代器的引用才能在迭代器本身上调用[offsetUnset()方法。](http://php.net/manual/en/arrayiterator.offsetunset.php)这里的关键是您必须调用*迭代器*offsetUnset() 方法，而不是 ArrayObjects offsetUnset() 方法。

```
$ao = new ArrayObject();
$ao[] = 9;
$iter = $ao->getIterator();

foreach ($iter as $k => $v) 
    $iter->offsetUnset($k); // no error 
```

迭代器正在迭代的底层 ArrayObject*将*发生变异，因此如果您在同一个 Arrayobject 上同时有多个活动迭代器，您仍然会遇到相同的错误。

这样做的理由很可能是迭代器可以节省内存，而不必复制底层的 ArrayObject，因为副本是处理确定当前迭代器位置的复杂性的唯一简单解决方案。或从底层数组中删除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-18T06:45:05.430

如果您从数组中删除最后一条记录，则下一个 foreach 循环可能会失败（内部调用 $this->next() ）例如，当我有一个项目的数组并且我将取消设置它时，下一个 foreach 会失败。

所以它帮助我测试了有效性并在这种情况下打破了下一个循环。

```
deleteOffset = true;

foreach ($iterator as $key => $value)
    {
            if ($deleteOffset && $iterator->offsetExists($key) ) 
            {
                 $iterator->offsetUnset($key);                                       
            }                

        //if remove last record than the foreach ( $this->next() ) fails so 
        //we have to break in this case the next ->next call
        //after any ->offsetUnset calls

        if (!$iterator->valid()) break;

    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-29T19:41:26.673

这花了我这么长时间！我使用此页面上的配方（未成功）清除 ArrayObject 存储的内容，然后我发现了这个小笨蛋..

```
$this->exchangeArray(array()); 
```

魔法！

# c++ - 分支预测：编写代码来理解它；得到奇怪的结果

> ID：14151733
> 
> 赞同：17
> 
> 时间：2013-01-04T05:45:37.750
> 
> 标签：c++, branch-prediction

我试图通过测量运行带有可预测分支的循环与带有随机分支的循环的时间来很好地理解分支预测。

所以我写了一个程序，它采用以不同顺序排列的 0 和 1 的大数组（即全 0，重复 0-1，全 rand），并根据当前索引是 0 还是 1 迭代数组分支，做时间- 浪费工作。

我预计难以猜测的数组会花费更长的时间来运行，因为分支预测器会更频繁地猜测错误，并且无论时间长短，两组数组上运行之间的时间增量都将保持不变 -浪费工作。

然而，随着浪费时间的工作量增加，阵列之间的运行时间差异增加了很多。

![哟，这张图没有意义](../Images/3d41139218c7f1ce190699226b031ff8.png)

（X 轴是浪费时间的工作量，Y 轴是运行时间）

有人理解这种行为吗？您可以在以下代码中看到我正在运行的代码：

```
#include <stdlib.h>
#include <time.h>
#include <chrono>
#include <stdio.h>
#include <iostream>
#include <vector>
using namespace std;
static const int s_iArrayLen = 999999;
static const int s_iMaxPipelineLen = 60;
static const int s_iNumTrials = 10;

int doWorkAndReturnMicrosecondsElapsed(int* vals, int pipelineLen){
        int* zeroNums = new int[pipelineLen];
        int* oneNums = new int[pipelineLen];
        for(int i = 0; i < pipelineLen; ++i)
                zeroNums[i] = oneNums[i] = 0;

        chrono::time_point<chrono::system_clock> start, end;
        start = chrono::system_clock::now();
        for(int i = 0; i < s_iArrayLen; ++i){
                if(vals[i] == 0){
                        for(int i = 0; i < pipelineLen; ++i)
                                ++zeroNums[i];
                }
                else{
                        for(int i = 0; i < pipelineLen; ++i)
                                ++oneNums[i];
                }
        }
        end = chrono::system_clock::now();
        int elapsedMicroseconds = (int)chrono::duration_cast<chrono::microseconds>(end-start).count();

        //This should never fire, it just exists to guarantee the compiler doesn't compile out our zeroNums/oneNums
        for(int i = 0; i < pipelineLen - 1; ++i)
                if(zeroNums[i] != zeroNums[i+1] || oneNums[i] != oneNums[i+1])
                        return -1;
        delete[] zeroNums;
        delete[] oneNums;
        return elapsedMicroseconds;
}

struct TestMethod{
        string name;
        void (*func)(int, int&);
        int* results;

        TestMethod(string _name, void (*_func)(int, int&)) { name = _name; func = _func; results = new int[s_iMaxPipelineLen]; }
};

int main(){
        srand( (unsigned int)time(nullptr) );

        vector<TestMethod> testMethods;
        testMethods.push_back(TestMethod("all-zero", [](int index, int& out) { out = 0; } ));
        testMethods.push_back(TestMethod("repeat-0-1", [](int index, int& out) { out = index % 2; } ));
        testMethods.push_back(TestMethod("repeat-0-0-0-1", [](int index, int& out) { out = (index % 4 == 0) ? 0 : 1; } ));
        testMethods.push_back(TestMethod("rand", [](int index, int& out) { out = rand() % 2; } ));

        int* vals = new int[s_iArrayLen];

        for(int currentPipelineLen = 0; currentPipelineLen < s_iMaxPipelineLen; ++currentPipelineLen){
                for(int currentMethod = 0; currentMethod < (int)testMethods.size(); ++currentMethod){
                        int resultsSum = 0;
                        for(int trialNum = 0; trialNum < s_iNumTrials; ++trialNum){
                                //Generate a new array...
                                for(int i = 0; i < s_iArrayLen; ++i)  
                                        testMethods[currentMethod].func(i, vals[i]);

                                //And record how long it takes
                                resultsSum += doWorkAndReturnMicrosecondsElapsed(vals, currentPipelineLen);
                        }

                        testMethods[currentMethod].results[currentPipelineLen] = (resultsSum / s_iNumTrials);
                }
        }

        cout << "\t";
        for(int i = 0; i < s_iMaxPipelineLen; ++i){
                cout << i << "\t";
        }
        cout << "\n";
        for (int i = 0; i < (int)testMethods.size(); ++i){
                cout << testMethods[i].name.c_str() << "\t";
                for(int j = 0; j < s_iMaxPipelineLen; ++j){
                        cout << testMethods[i].results[j] << "\t";
                }
                cout << "\n";
        }
        int end;
        cin >> end;
        delete[] vals;
} 
```

Pastebin 链接：[http://pastebin.com/F0JAu3uw](http://pastebin.com/F0JAu3uw)

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-04T08:08:44.517

我认为您可能正在测量缓存/内存性能，而不是分支预测。您的内部“工作”循环正在访问越来越多的内存。这可以解释线性增长、周期性行为等。

我可能是错的，因为我没有尝试复制你的结果，但如果我是你，我会在计时其他事情之前考虑内存访问。也许将一个 volatile 变量与另一个变量相加，而不是在数组中工作。

另请注意，根据 CPU 的不同，分支预测可能比仅记录上次执行分支的时间要智能得多——例如，重复模式并不像随机数据那么糟糕。

好的，我在茶歇时进行了一个快速而肮脏的测试，它试图反映您自己的测试方法，但不会破坏缓存，如下所示：

![在此处输入图像描述](../Images/f061066c110474134f8adb77b39f8014.png)

是不是更符合你的预期？

如果我以后有空的话，还有其他我想尝试的东西，因为我还没有真正看过编译器在做什么......

**编辑：**

而且，这是我的最终测试——我在汇编程序中重新编码以删除循环分支，确保每条路径中的指令数量准确，等等。

![更多分支预测结果](../Images/c3f9b13a6a1c285766acd212f7ad48ec.png)

我还添加了一个 5 位重复模式的额外案例。似乎很难扰乱我老化的 Xeon 上的分支预测器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T15:43:43.013

除了 JasonD 指出的，我还要注意`for`循环内部有条件，这可能会影响分支预测：

```
if(vals[i] == 0)
{
    for(int i = 0; i < pipelineLen; ++i)
        ++zeroNums[i];
} 
```

**i < 管道长度；**是一个像你`if`的条件。当然编译器可能会展开这个循环，但是 pipelineLen 是传递给函数的参数，所以它可能不会。

我不确定这是否可以解释您的结果的波浪模式，但是：

> 由于 BTB 在 Pentium 4 处理器中只有 16 个条目长，因此对于长于 16 次迭代的循环，预测最终将失败。这个限制可以通过展开一个循环来避免，直到它只有 16 次迭代。完成此操作后，循环条件将始终适合 BTB，并且在循环退出时不会发生分支错误预测。以下是循环展开的示例：

阅读全文： http: [//software.intel.com/en-us/articles/branch-and-loop-reorganization-to-prevent-mispredicts](http://software.intel.com/en-us/articles/branch-and-loop-reorganization-to-prevent-mispredicts)

因此，您的循环不仅在测量内存吞吐量，而且还在影响 BTB。

如果您`0-1`在列表中传递了模式，但随后使用您的 BTB 执行了一个 for 循环，`pipelineLen = 2`则会填充类似的`0-1-1-0 - 1-1-1-0 - 0-1-1-0 - 1-1-1-0`内容，然后它将开始重叠，因此这确实可以解释您的结果的波浪模式（某些重叠会比其他重叠更有害）。

以此为例说明可能发生的情况，而不是字面解释。您的 CPU 可能具有更复杂的分支预测架构。

# php - 在不使用 array_reverse 的情况下在 PHP 中以反向顺序内爆

> ID：14151734
> 
> 赞同：2
> 
> 时间：2013-01-04T05:45:38.947
> 
> 标签：php, implode

如何以相反的顺序将数组内爆为字符串，但不使用 array_reverse？

例如：

```
$arrayValue = array(test1, test2, test5, test3); 
```

我想内爆上面的数组并得到输出，

测试3，测试5，测试2，测试1

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T05:52:02.250

```
$str = '';
while (($e = array_pop($arrayValue)) !== null)
  $str .= $e.',';
$str = substr($str, 0, -1); 
```

但

```
implode(',', array_reverse($arrayValue)) 
```

在各方面都更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:47:45.293

像这样：

```
$arrayValue = array(test1, test2, test5, test3);
$imploded_array = implode( ',', array_reverse($array_value)); 
```

好吧，没有array_reverse：

```
$imploded_array = '';
for( $i=0; $i<count( $arrayValue ); $i++ ) {
     $imploded_array .= $arrayValue[count( $arrayValue ) - $i];
     if( $i != count( $arrayValue ) ) $imploded_array .= ', ';
} 
```

# javascript - 绝对 div 内的绝对定位 img 未按预期定位

> ID：14151735
> 
> 赞同：0
> 
> 时间：2013-01-04T05:45:42.097
> 
> 标签：javascript, jquery, html, css, css-position

我有以下html

```
 <div class="banner_area_internal">
    <div class="banner_wrapper_internal" id="overlay_field">
        <img src="images/internal_banner_holder.png" />
        <img class="internal_banner" src="images/about-banner.jpg" />
        <div id="overlay">
        <img class="internal_banner_overlay" src="images/about-banner_hover.jpg" />
        </div>
    </div>
    </div> 
```

css

```
 .banner_area_internal {
margin-top:10px;
width:100%;
height:250px;}

   .banner_wrapper_internal {
height:250px;
width:1000px;
margin:0 auto}

   .banner_wrapper_internal p {
font-size:30px;
color:#ffffff;
font-weight:bold;
margin:0px 300px;
display:block}

   .internal_banner {
position:relative;
top:-235px;
left:15px;
z-index:-2;
}

   .internal_banner_overlay {
position:absolute;
top:-25px;
left:15px;
z-index:-2;
}

    #overlay{
position:absolute;
overflow:hidden;
width:340px;
height:200px;
z-index:-1;
border:2px #aeaeae solid;
     }

    #overlay_field
   {
position: relative;
width:1000px;
height:250px;
overflow:hidden;
    } 
```

以及@rkw 提到的以下脚本

```
 $(document).ready(function() {

 $("#overlay_field").hover(function(){

$("#overlay").show(); //Show tooltip
}, function() {
    $("#overlay").hide(); //Hide tooltip
})

  $('#overlay_field').mousemove(function(e){
$("#overlay").css({left:e.pageX-360, top:e.pageY-280});
  });

  }); 
```

我在这里想要达到的效果是：

图像以横幅“internal_banner”的形式出现

当鼠标悬停在此图像（或者更确切地说是“overlay_field”）上时，会出现一个跟随鼠标的小 div。现在 div 的内容是另一个图像“internal_banner_overlay”

我希望这个图像完全定位为“internal_banner”，即留在同一个地方，这样它看起来就像鼠标让你看到另一个底层图像。问题是图像不会停留在一个地方，它位于 div 内并随着鼠标而不是文档移动，即使它的位置设置为绝对。

简而言之，当鼠标移到横幅区域上时，它应该看起来像光标变成了一个小框，让您可以通过横幅看到另一个图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:59:12.710

只需在上部 div 中添加临时横幅，并在 mouseover 和 mouseout 事件中更改其不透明度。

```
<div class="banner_area_internal">
    <div class="banner_wrapper_internal" id="overlay_field">
        <img src="abcd.png" />
        <img class="internal_banner permBanner" src="permBanner.png" />
        <img alt="" src="tempBanner.jpg" id="temp" style="height: 250px; width: 1000px; opacity: 0; position: absolute">
    </div>
</div> 
```

JS：

```
 $(document).ready(function() {

 $("#overlay_field").hover(function(){

$("#overlay").show(); //Show tooltip
}, function() {
    $("#overlay").hide(); //Hide tooltip
})

  $('#overlay_field').mousemove(function(e){

  var width = 250;
  var height = 250;
  var left = parseInt(e.pageX)-parseInt(pageXOffset);
  var top = parseInt(e.pageY)-parseInt(pageYOffset);
  var a = document.getElementById("temp");
  a.style.opacity = 1;
  a.style.left = "0px";
  a.style.top = "0px";
  a.style.clip = "rect("+top+","+(left+100)+","+(top+100)+","+left+")";

  });
}); 
```

**风格**

```
 .banner_area_internal {
margin-top:10px;
width:100%;
height:250px;}
   .banner_wrapper_internal {
height:250px;
width:1000px;
margin:0 auto}
   .banner_wrapper_internal p {
    font-size:30px;
    color:#ffffff;
    font-weight:bold;
    margin:0px 300px;
    display:block;
}
   .internal_banner {
position:relative;
top:-235px;
left:15px;
z-index:-2;
}

   .internal_banner_overlay {
position:absolute;
top:-25px;
left:15px;
z-index:-2;
}

    #overlay{
position:absolute;
overflow:hidden;
width:250px;
height:250px;
border:2px #0000bb solid;
     }

    #overlay_field
   {
position: absolute;
width:1000px;
height:250px;
overflow:hidden;
    }​
    #temp{position:absolute;} 
```

**替代：** 或者，您可以在 mouseover 和 mouseout 事件上添加和删除临时横幅。

# css - 为什么第一个部分元素似乎包含在第 n 个孩子的兄弟姐妹计数中？

> ID：14151738
> 
> 赞同：0
> 
> 时间：2013-01-04T05:45:48.927
> 
> 标签：css, css-selectors

我专门针对 nth-child(2n)，但是具有给定类的兄弟姐妹的第一个、第三个等正在应用 css。

[http://jsfiddle.net/relitnosmoge/9HCnH/1/](http://jsfiddle.net/relitnosmoge/9HCnH/1/)

```
.grid > section.fifty:nth-child(2n) {
        background: red !important;
        margin-right: 0 !important;
        margin-left: 0 !important;
} 
```

```
<article class="block grid">
    <section class="block hundred"></section>
    <section class="block fifty"></section>
    <section class="block fifty"></section>
    <section class="block fifty"></section>
    <section class="block fifty"></section>
</article> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:26:58.130

使用

```
nth-child(even) 
```

或者

```
nth-child(2n+2) 
```

我猜会起作用的。你能试试吗？

将其与您的班级（即 50 班）一起使用将只选择 50 班而不是 100 班。

# c - sqrt、完美平方和浮点错误

> ID：14151740
> 
> 赞同：9
> 
> 时间：2013-01-04T05:45:55.887
> 
> 标签：c, haskell, floating-point

在`sqrt`大多数语言的函数中（尽管我对 C 和 Haskell 最感兴趣），是否有任何保证可以准确返回完美平方的平方根？例如，如果我这样做`sqrt(81.0) == 9.0`，那是安全的还是有机会`sqrt`返回 8.999999998 或 9.00000003？

如果不能保证数值精度，那么检查数字是否为完美正方形的首选方法是什么？取平方根，得到地板和天花板，并确保它们平方回到原来的数字？

谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-04T07:28:31.097

在 IEEE 754 浮点中，如果双精度值 x 是非负可表示数 y 的平方（即 y*y == x 并且 y*y 的计算不涉及任何舍入、上溢或下溢），然后 sqrt(x) 将返回 y。

这都是因为 IEEE 754 标准要求 sqrt 正确舍入。也就是说，对于*任何*x，sqrt(x) 将是最接近 x 的实际平方根的双精度数。sqrt 适用于完美正方形是这一事实的简单推论。

如果你想检查一个浮点数是否是一个完美的平方，这是我能想到的最简单的代码：

```
int issquare(double d) {
  if (signbit(d)) return false;
  feclearexcept(FE_INEXACT);
  double dd = sqrt(d);
  asm volatile("" : "+x"(dd));
  return !fetestexcept(FE_INEXACT);
} 
```

`asm volatile`我需要依赖的空块，`dd`否则你的编译器可能很聪明，并且“优化”了`dd`.

我使用了一些来自 的奇怪函数`fenv.h`，即`feclearexcept`和`fetestexcept`。看看他们的`man`页面可能是个好主意。

您可能可以使用的另一种策略是计算平方根，检查它是否在尾数的低 26 位中设置了位，如果有，请抱怨。我在下面尝试这种方法。

我需要检查是否为零，`d`否则它可以返回`true`.`-0.0`

**编辑**：Eric Postpischil 建议使用尾数进行修改可能会更好。鉴于上述`issquare`在另一个流行的编译器中不起作用`clang`，我倾向于同意。我认为以下代码有效：

```
int _issquare2(double d) {
  if (signbit(d)) return 0;
  int foo;
  double s = sqrt(d);
  double a = frexp(s, &foo);
  frexp(d, &foo);
  if (foo & 1) {
    return (a + 33554432.0) - 33554432.0 == a && s*s == d;
  } else {
    return (a + 67108864.0) - 67108864.0 == a;
  }
} 
```

加法和减法具有擦除尾数低 26 位的效果`67108864.0`。`a`我们会`a`在这些位一开始就清楚的时候回来。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-04T07:32:49.240

根据[这篇论文](http://download.intel.com/technology/itj/q21998/pdf/ieee.pdf)，讨论了证明 IEEE 浮点平方根的正确性：

> 二进制浮点算术的 IEEE-754 标准 [1] 要求除法或平方根运算的结果以无限精度计算，然后四舍五入为指定精度的两个最接近的浮点数之一围绕着无限精确的结果

由于可以用浮点数精确表示的完全平方是一个整数，而它的平方根是一个可以精确表示的整数，所以完全平方的平方根应该总是完全正确的。

当然，不能保证您的代码将使用符合 IEEE 的浮点库执行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T23:14:59.040

@tmyklebu 完美地回答了这个问题。作为补充，让我们看看在没有 asm 指令的情况下测试分数的完全平方的效率可能较低的替代方案。

假设我们有一个符合 IEEE 754 的 sqrt，它可以正确地舍入结果。
假设已经处理了异常值 (Inf/Nan) 和零 (+/-)。
让我们分解`sqrt(x)`成`I*2^m`其中`I`是一个奇数。
其中`I`跨越 n 位：`1+2^(n-1) <= I < 2^n`.

If `n > 1+floor(p/2)`where `p`is floating point precision (eg p=53 and n>27 in double precision)
Then `2^(2n-2) < I^2 < 2^2n`.
作为`I`奇数，`I^2`也是奇数，因此跨越 > p 位。
因此`I`，不是任何具有这种精度的可表示浮点的精确平方根。

但是考虑到`I^2<2^p`，我们可以说这`x`是一个完美的正方形吗？
答案显然是否定的。泰勒展开式将给出

```
sqrt(I^2+e)=I*(1+e/2I - e^2/4I^2 + O(e^3/I^3)) 
```

因此，`e=ulp(I^2)`直到`sqrt(ulp(I^2))`平方根被正确地四舍五入到`rsqrt(I^2+e)=I`...（四舍五入到最接近的偶数或截断或取整模式）。

因此，我们必须断言`sqrt(x)*sqrt(x) == x`。
但上面的测试是不够的，例如，假设IEEE 754双精度， `sqrt(1.0e200)*sqrt(1.0e200)=1.0e200`其中1.0e200正是99999999999999996973312221251036165947450327545502362648241750950346848435554075534196338404706251868027512415973882408182135734368278484639385041047239877871023591066789981811181813306167128854888448其第一个主要因素是`2^613`，几乎没有任何部分的完全平方...

所以我们可以结合这两个测试：

```
#include <float.h>
bool is_perfect_square(double x) {
    return sqrt(x)*sqrt(x) == x
        && squared_significand_fits_in_precision(sqrt(x));
}
bool squared_significand_fits_in_precision(double x) {
    double scaled=scalb( x , DBL_MANT_DIG/2-ilogb(x));
    return scaled == floor(scaled)
        && (scalb(scaled,-1)==floor(scalb(scaled,-1)) /* scaled is even */
            || scaled < scalb( sqrt((double) FLT_RADIX) , DBL_MANT_DIG/2 + 1));
} 
```

**编辑：** 如果我们想限制整数的情况，我们还可以检查`floor(sqrt(x))==sqrt(x)`或在 squared_significand_fits_in_precision 中使用脏位黑客...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T05:50:54.847

与其做`sqrt(81.0) == 9.0`，不如尝试`9.0*9.0 == 81.0`。只要平方在浮点幅度的范围内，这将始终有效。

**编辑：**我可能不清楚我所说的“浮点幅度”是什么意思。我的意思是将数字保持在可以保持而不会丢失精度的整数值范围内，对于 IEEE 双精度值小于 2**53。我还期望会有一个单独的操作来确保平方根是一个整数。

```
double root = floor(sqrt(x) + 0.5);  /* rounded result to nearest integer */
if (root*root == x && x < 9007199254740992.0)
    /* it's a perfect square */ 
```

# javascript - setTimeout 导致堆栈溢出

> ID：14151744
> 
> 赞同：2
> 
> 时间：2013-01-04T05:46:22.037
> 
> 标签：javascript, settimeout

我有以下代码。它会导致堆栈溢出异常。

知道我做错了什么吗？

```
var myApi = {    

      rawData: null,

      initData: function() {
               // ajax call to get data and populate myApi.rawData, max 10 seconds
      },

      waitForRawData: function(callback) {
              if(myApi.rawData === null || myApi.rawData.length ===0) {
                 window.setTimeout(myApi.waitForRawData(callback),1000); // complain this line stack overflow
              }else{
                     callback();
              }              
      },

      updateHtmlWithNewData: function() {
              // base on myApi.rawData update html element
      },
      workflow: function() {  // this function call is invoke from page
              myApi.initData();
              myApi.waitForRawData(myApi.updateHtmlWithNewData);
      }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T05:54:35.123

你有一个无限循环。

`setTimeout`期望第一个参数是一个回调函数 - 你实际上是在`waitForRawData`那时和那里调用该函数。它立即再次调用自己，它立即再次调用自己，这……你明白了。

做这个：

```
window.setTimeout(function() { myApi.waitForRawData(callback) },1000); 
```

当您将它作为函数传递时，超时可以在您告诉它时调用它 - 在您的情况下，一秒钟后。*在没有包装函数的情况下执行它现在*正在调用相同的代码。

# linux - Python Lib 在不使用 ssh 的情况下从 linux Box 执行远程 Windows 命令

> ID：14151751
> 
> 赞同：0
> 
> 时间：2013-01-04T05:47:11.023
> 
> 标签：linux, python-2.7, remote-access

这是我们项目的一个非常基本的要求。

我需要在不使用 ssh 的情况下从 linux 机器运行 Windows 命令，因为并非所有 Windows 机器都默认安装了 ssh。

我正在寻找一些可以完成这项工作的 python 库？

链接，教程，非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:04:45.847

一些替代方案：

*   [http://www.krenger.ch/blog/wmi-commands-from-linux/](http://www.krenger.ch/blog/wmi-commands-from-linux/)
*   [http://pypi.python.org/pypi/WMI/](http://pypi.python.org/pypi/WMI/)（在 wine 或 Windows 桥 VM 下）
*   [https://code.google.com/p/impacket/source/browse/trunk/examples/psexec.py](https://code.google.com/p/impacket/source/browse/trunk/examples/psexec.py)

# php - 连接表中的 SUM(table1.field) >= table2.field

> ID：14151755
> 
> 赞同：0
> 
> 时间：2013-01-04T05:47:28.520
> 
> 标签：php, mysql, codeigniter, join, group-by

我正在使用代码点火器。我想要一个 where 子句来获取 totalQuantity 小于 alterQuantity 的产品。我在 select 子句中使用 sum 来获取 totalQuantity。

```
$this->db->select("products.id as productid, products.code, products.name, products.unit, products.cost, products.price, sum(whs_products.quantity) as totalQuantity, products.alert_quantity as alertQuantity")
->from('products')
->where('alertQuantity <=', 'totalQuantity')
->join('whs_products', 'whs_products.product_id=products.id', 'left')
->group_by("products.id");
$this->db->get(); 
```

我不确定如何获得所需的产品:(如果尝试过，请编辑

```
->where('alertQuantity <=', 'totalQuantity') 
```

我得到了所有产品，但 ->where('alertQuantity <=', 'totalQuantity') 没有产品。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:17:44.130

尝试这个：

```
SELECT p.id AS productid, p.code, p.name, p.unit, p.cost, p.price, wp.quantity AS totalQuantity, p.alert_quantity AS alertQuantity
FROM products p 
LEFT JOIN (SELECT product_id, SUM(quantity) quantity 
              FROM whs_products GROUP BY product_id) wp ON wp.product_id = p.id AND p.alert_quantity <= quantity ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:27:19.037

尝试这个

```
$this->db->select("products.id as productid, products.code, products.name, products.unit, products.cost, products.price, sum(whs_products.quantity) as totalQuantity, products.alert_quantity as alertQuantity")
->from('products')
->join('whs_products', 'whs_products.product_id=products.id', 'left')
->where('alertQuantity <= totalQuantity')
->group_by("products.id");
$this->db->get();

echo $this->db->last_query();exit; //to check the query generated is  correct or not 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T05:51:04.113

只需在您的选择语句中添加 FALSE 并尝试

```
$this->db->select("products.id as productid, products.code, products.name, products.unit, products.cost, products.price, sum(whs_products.quantity) as totalQuantity, products.alert_quantity as alertQuantity",FALSE) 
```

> $this->db->select() 接受可选的第二个参数。如果您将其设置为 FALSE，CodeIgniter 将不会尝试使用反引号保护您的字段或表名。如果您需要复合选择语句，这很有用。

从[这里的文件](http://ellislab.com/codeigniter/user-guide/database/active_record.html#select)

# wordpress - 如何使用 Pods API 查询多对多关系中的所有相关项目？

> ID：14151757
> 
> 赞同：1
> 
> 时间：2013-01-04T05:47:43.737
> 
> 标签：wordpress, many-to-many, podscms

我有两个 Pod：

*   `course`
*   `participant`

Pod`course`有一个 PICK 字段，`participant.`该字段是一个多重关系字段。因此，每个`course`项目都有多个`participants.`

我想找到与`course`某个特定`participant`相关的所有项目。

所以，我猜像下面这样的 SQL 查询会做我想要的：

```
SELECT DISTINCT `t`.* FROM `wp_pods_course` AS `t` WHERE t.id IN 
   (SELECT DISTINCT r.item_id FROM wp_podsrel AS r WHERE r.related_item_id = '42') 
```

`42`是 a 的 id `participant`。

我试图弄清楚如何使用 Pods API 编写这样的 SQL 查询：

```
$pod = pods('course');
$participant_id = $participant->field('id');
$params['where'] = "t.id in (SELECT r.id FROM ??? WHERE ???)";
$pod->find($params); 
```

这是编写此类查询的正确方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T22:47:05.453

你把事情复杂化了，Pods 使用它最强大的功能之一，即字段遍历，自动为你完成所有连接。

尝试这个：

```
$pod = pods( 'course' );

// I use ->id() because it's always the right ID field, no matter what pod type
$participant_id = $participant->id();

$params = array(
    'where' => 'participants.id = ' . (int) $participant_id
);

$pod->find( $params ); 
```

您的关系字段名称在哪里`particpants`，id 是该相关对象上的字段 id。

# multithreading - 单子中的多线程

> ID：14151759
> 
> 赞同：4
> 
> 时间：2013-01-04T05:48:01.003
> 
> 标签：multithreading, haskell, concurrency

我需要在同一个 monad 的上下文中运行多个并发进程，例如`Connection`. 我希望像下面这样的东西会起作用：

```
main = runConnection connectionSettings $ do
  forkIO action1
  forkIO action2
  action3 
```

但`forkIO`需要在`IO`上下文中运行，并且也需要在其中执行操作`IO`。

假设这些动作有一个 type `:: Connection ()`，需要做什么来同时运行它们（要实现哪些实例等等）？

目前我正在解决这个问题，但显然这是不对的：

```
main = do
  forkIO $ runConnection connectionSettings action1
  forkIO $ runConnection connectionSettings action2
  runConnection connectionSettings action3 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T18:56:38.590

我发现了一个用于非常相似目的的漂亮的[“monad-parallel”](http://hackage.haskell.org/package/monad-parallel) 库，以及一个更强大的分支—— [“classy-parallel”](http://hackage.haskell.org/package/classy-parallel)。

为了使 monad 以可并行化的方式可用，它需要有一个类型类的实例[`Parallel`](http://hackage.haskell.org/packages/archive/classy-parallel/0.1.0.0/doc/html/Control-Monad-Parallel.html#t%3aParallel)。并且“classy-parallel”库已经为此目的提供了最重要类型的实例：`ResourceT IO`和`ReaderT`.

假设存在适当的实例，有问题的代码可以转换为以下内容：

```
import qualified Control.Monad.Parallel as Parallel

main = runConnection connectionSettings $ 
  Parallel.sequence [action1, action2, action3] 
```

`ResourceT`因为简单地分叉[`resourceForkIO`](http://hackage.haskell.org/packages/archive/resourcet/0.3.0/doc/html/Control-Monad-Trans-Resource.html#v%3aresourceForkIO)可能很有用。还有一个[“monad-fork”](http://hackage.haskell.org/package/monad-fork-0.1)`forkIO`库，它提供了一个简洁的概括，而不是在和之上的分叉`resourceForkIO`。

# css - Twitter Bootstrap输入宽度在无响应块内100％

> ID：14151760
> 
> 赞同：0
> 
> 时间：2013-01-04T05:48:04.150
> 
> 标签：css, twitter-bootstrap

`input`实现内部全宽`span3`（无响应设计）的最佳方法是什么？就像是`width: 100%;`

[http://jsfiddle.net/rq9FM/](http://jsfiddle.net/rq9FM/)

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T17:44:36.493

首先，在使用 Twitter Bootstrap 时，我喜欢在我的`<body>`标签中添加一个类，以便在需要时覆盖引导样式。

```
<body class="myclass"> 
```

**对于 CSS，我会做这样的事情..**

```
​.myclass .well {padding:19px 0;}

//UNRESPONSIVE
.myclass .form-search input {width:108px;}

//RESPONSIVE
.myclass .form-search input {width:43%;} 
```

需要从井中移除左右填充，从那里你应该做的就是改变`<input>`. 如果您的跨度将是固定宽度，那么无响应的示例应该适用于您的示例。如果跨度要改变大小，那么您只希望输入占据其容器的百分比。

# jquery - 使用 jquery masonry 在网格中间插入项目

> ID：14151766
> 
> 赞同：4
> 
> 时间：2013-01-04T05:48:39.830
> 
> 标签：jquery, jquery-masonry

我正在更新我的画廊网站，该网站使用砖石来布置所有图像。我想在点击联系链接时在砖石中间打开一个联系面板。

有没有办法在第三个 DIV 之后插入新砖，而不是简单地附加或预先添加它们？

这可能只用砖石，还是需要我改用同位素？

我尝试使用 .after 而不是 .prepend，但这似乎不是一个可行的选择：

[http://lilyinblue.com/gridtest.html](http://lilyinblue.com/gridtest.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T07:11:16.577

您可以插入内容，然后“重新加载”砌体。以下是您可以执行的操作的基本版本。你可以用这个替换你在连接接触按钮的地方。您可能希望在添加联系信息时设置一个标志，以便它不会被多次添加，或者提供删除联系信息的方法（如关闭按钮） - 这完全取决于您。

```
$(document).ready(function(){   
    $('#contactlink').click(function(){
        var $container = $('#container');
        var contactDiv = $('<div class="element">To contact me please call 555-8723</div>');
        contactDiv.insertAfter($container.find('.element').eq(3));
        $container.masonry('reload');
    });
}); 
```

# opengl - 如何在片段着色器中获取当前多边形的顶点？

> ID：14151767
> 
> 赞同：2
> 
> 时间：2013-01-04T05:48:46.250
> 
> 标签：opengl, glsl

我有一个着色器，可以在四边形内以程序方式生成几何形状。本质上，您在启用此片段着色器的情况下渲染一个四边形，它会计算哪些片段位于形状的边界以及`discard`其他所有片段。

问题是四边形的尺寸。目前，我必须将顶点数据传递两次，一次传递给 VBO，第二次作为`uniform`变量传递给着色器，因此它知道应该创建多大的形状。

当我在片段着色器中时，有什么方法可以只做一次，通过某种方法来获取当前四边形的左上角和右下角顶点的坐标，这样我就可以简单地给出顶点数据到 OpenGL 一次并让着色器计算适合四边形的最大形状？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T20:31:49.010

我想你可能想使用几何着色器。每个顶点将包含四边形的角位置（2-4 个值的向量）和四边形的大小（可以是单个值或最多 9 个，具体取决于您需要四边形的通用程度）。

几何着色器将为四边形生成额外的顶点并将大小传递给片段着色器。

根据您的具体操作，您还可以使用点精灵并使用它们所具有的隐式坐标 ( `gl_PointCoord`)。但是，点精灵有一个最大尺寸（可以通过`GL_POINT_SIZE_RANGE`和查询`GL_POINT_SIZE_GRANULARITY`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-14T15:20:40.040

你可以自己拉顶点。您可以使用顶点数据创建统一缓冲区或纹理缓冲区，然后在片段着色器中访问此缓冲区。在顶点着色器中，为了知道要输出什么顶点，您可以使用内置变量 gl_VertexID

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-05T09:54:24.393

我会将四边形的左上角和右下角顶点作为每个顶点的两个额外输入属性传递。四边形本身被渲染为三角形。

在顶点着色器中，将两个输出属性声明为平面（因此它们不会被插值）并将输入属性复制到这些输出。

# amazon-web-services - 诊断性能不佳/EC2 到 RDS（不同的可用区）

> ID：14151769
> 
> 赞同：1
> 
> 时间：2013-01-04T05:48:57.460
> 
> 标签：amazon-web-services, amazon-ec2

我们有 3 个 EC2 实例和 3 个 RDS 实例 - 每个 EC2 实例使用一个 RDS 实例，该实例与它的主数据库位于同一可用区。

rds 实例都具有相同类型的数据和数据库/表结构。

其中一张表包含（按需）导出为 JSON 并由 Web 应用程序使用的配置数据。

我有一个 PHP 程序，可以在其关联的本地数据库上编辑此配置参数表。我最近添加了代码，以便在保存编辑时将它们写入所有三个数据库。这些只是简单的表更新。代码打开第一个数据库 - 更新受影响的行，关闭数据库，打开第二个数据库，更新受影响的行等。

更新本地 RDS 实例大约需要**700 毫秒**才能完成。更新任一远程 RDS 实例**每个都需要将近一分钟**。

我在更新时使用 RDS 实例端点作为服务器名称。

我不知道如何开始解决问题。
建议/建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T16:54:36.670

我明白这个问题。那么，这三个位于不同地理位置的设置（EC2 + RDS）是加在一起还是只是同一位置的不同可用区？基本问题是本地设置是否需要不到一秒钟的时间；为什么更新远程设置需要 1 分钟。

我建议您首先从每个 EC2 到实例到其他 EC2 实例执行 ping 请求，并注意时间间隔和数据包丢失。这将使您对网络延迟有一个公平的了解。

您也可以使用 Unix 工具 MTR 来监控不同服务器之间的网络。

# java - 为什么execute() 在空表上返回true？

> ID：14151772
> 
> 赞同：0
> 
> 时间：2013-01-04T05:49:31.320
> 
> 标签：java, sql

通过以下代码段，我尝试运行一个查询，该查询要么更新数据，要么将新数据插入名为`JustPinged`. 该表包含一个名为`NodesThatJustPinged`and的列`LastPingedAt`。如果已经有一个*节点*，则更新`NodesThatJustPinged`以毫秒为单位的时间。`LastPingedAt`否则`node`插入新信息。

问题是，以下代码段无法将数据插入到数据库的表中。原因是声明：

```
boolean duplicateExists = searchToEliminateDuplicates.execute(); 
```

返回`true`开始。（最初表是空的）为什么这个语句返回true？根据[文档，](http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#execute%28%29)*如果第一个结果是 ResultSet 对象，*则返回true；*如果第一个结果是更新计数或没有结果，则返回 false。*所以这里的布尔值应该包含一个假值。但它包含一个`true`值，因此该`if`语句始终有效。（在`if`部分中，更新查询在没有任何更新时有效！）

```
String searchQuery = "select NodesThatJustPinged from JustPinged where NodesThatJustPinged = '" + nodeInfo + "'";
PreparedStatement searchToEliminateDuplicates = connection.prepareStatement(searchQuery);
boolean duplicateExists = searchToEliminateDuplicates.execute();

if(duplicateExists) {
    // update the LastPingedAt column in the JustPinged table 
    String updateQuery = "update JustPinged set LastPingedAt='" + pingedAt + "' where NodesThatJustPinged = '" + nodeInfo + "'";
    PreparedStatement updateStatement = connection.prepareStatement(updateQuery);
    updateStatement.executeUpdate();System.out.println("If statement");
} else {
    // make a new entry into the database
    String newInsertionQuery = "insert into JustPinged values('" + nodeInfo + "','" + pingedAt + "')";
    PreparedStatement insertionStatement = connection.prepareStatement(newInsertionQuery);
    insertionStatement.executeUpdate();System.out.println("else statement");              
} 
```

那么我应该如何编辑代码，以便更新重复值并插入新值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:51:50.373

您的 searchQuery 将返回 ResultSet。因此执行方法返回“真”。尝试改用 executeQuery。

所以你的代码会变成：

```
String searchQuery = "select NodesThatJustPinged from JustPinged where NodesThatJustPinged = '" + nodeInfo + "'";
    Statement searchToEliminateDuplicates = connection.createStatement();
    ResultSet duplicateExists = searchToEliminateDuplicates.executeQuery(searchQuery);

    if(duplicateExists.next()) {
        // update the LastPingedAt column in the JustPinged table 
        String updateQuery = "update JustPinged set LastPingedAt='" + pingedAt + "' where NodesThatJustPinged = '" + nodeInfo + "'";
        PreparedStatement updateStatement = connection.prepareStatement(updateQuery);
        updateStatement.executeUpdate();System.out.println("If statement");
    } else {
        // make a new entry into the database
        String newInsertionQuery = "insert into JustPinged values('" + nodeInfo + "','" + pingedAt + "')";
        PreparedStatement insertionStatement = connection.prepareStatement(newInsertionQuery);
        insertionStatement.executeUpdate();System.out.println("else statement");              
      } 
```

PS 如果您使用的是 PreparedStatement，请在查询中使用参数并调用 ps.setString 等。

聚苯乙烯。不要使用 execute() 方法。使用 executeQuery 或 executeUpdate。如果您事先不知道您的查询是 INSERT 还是 UPDATE，则使用 execute()。

PPPS 完成后立即关闭您的结果集和语句。

PPPPS 更好的方法是在 SQL 语句中使用 count 聚合函数，即

select count(NodesThatJustPinged) from JustPinged where NodesThatJustPinged = '" + nodeInfo + "'";

现在您可以检查 count 是 0 还是大于 1 并相应地分支您的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T05:53:46.873

返回零行的`SELECT`语句仍将返回一个`ResultSet`-- 只是一个在调用 next() 时立即返回 false 的语句。您需要检查返回的 ResultSet 中的行数。

# arrays - 将字符串/数组分解成更小的字符串/数组

> ID：14151773
> 
> 赞同：0
> 
> 时间：2013-01-04T05:49:46.070
> 
> 标签：arrays, string, vb6

在 Oracle 中，该`IN`子句不包含超过 1000 个条目，例如

```
Select Name From Student Where Student_ID IN (1,2,3,4,5,...1000,1001,1002,1003,...) 
```

是不可接受的，它被分解为

```
Select Name From Student Where Student_ID IN (1,2,3,4,5,...1000) OR 
Student_ID IN (1001,1002,1003,...) 
```

现在，我将这些 ID 作为逗号分隔的字符串，即`1,2,3,4,5,...1000,1001,1002,1003,...`. 将其分解成更小的部分的更快方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T17:22:16.220

`SELECT`首先，确定内部没有任何数据的语句的长度`IN`（我们将这些逗号分隔的数字称为 IN 字符串）

`Len ("Select Name From Student Where Student_ID IN ()")`

现在，你的极限是`1000- Len ("Select...")`

然后，`InStrRev("1,2,3,4,5...",",",limit)`从要插入的 IN 字符串中获取逗号分隔的数字的片段，`Select`并且它仍将低于 1000 个字符）。从 IN 字符串中删除插入的片段（不要忘记在重复循环之前从 IN 字符串中删除任何前导逗号）

然后你重复这个任务，直到你用完 IN 字符串。不要忘记更改第二次等运行的限制，因为它们不使用完全选择，而是使用`OR Student_ID IN`，但逻辑保持不变。

# git - 如何为 git 提交消息设置模式？

> ID：14151775
> 
> 赞同：9
> 
> 时间：2013-01-04T05:50:08.080
> 
> 标签：git

我想限制提交的人使用特定的提交消息格式，我该怎么做？

例如：`Pair_Name|Story_Number|Commit_Message`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-04T05:53:27.270

有一个`pre-commit-msg`or`commit-msg`钩子，你可以使用：

*   [http://www.kernel.org/pub/software/scm/git/docs/githooks.html](http://www.kernel.org/pub/software/scm/git/docs/githooks.html)

Git repos 带有示例钩子，例如，`commit-msg`下面的示例钩子会`git/hooks/commit-msg.sample`捕获重复的 Signed-off-by 行。

```
# This example catches duplicate Signed-off-by lines.

test "" = "$(grep '^Signed-off-by: ' "$1" |
    sort | uniq -c | sed -e '/^[   ]*1[    ]/d')" || {
    echo >&2 Duplicate Signed-off-by lines.
    exit 1
} 
```

要启用挂钩，请不要忘记使其可执行。

* * *

这是一些虚构的示例，它只接受`london|120|something ...`诸如此类的提交消息：

```
#!/usr/bin/env ruby
message_file = ARGV[0]
message = File.read(message_file)

# $regex = /\[ref: (\d+)\]/

PAIRS = ["london", "paris", "moscow"] # only these names allowed
STORIES = "\d{2,4}"                   # story must be a 2, 3 or 4 digit number
MESSAGE = ".{5,}"                     # message must be at least 5 chars long

$regex = "( (#{PAIRS.join('|')})\|#{STORIES}\|#{MESSAGE} )"

if !$regex.match(message)
  puts "[POLICY] Your message is not formatted correctly"
  exit 1
end 
```

使用中：

```
$ git ci -m "berlin|120"
[POLICY] Your message is not formatted correctly
$ git ci -m "london|120|XX"    
[POLICY] Your message is not formatted correctly
$ git ci -m "london|120|Looks good."    
[master 853e622] london|120|Looks good.
 1 file changed, 1 insertion(+) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:04:34.687

注意：这种限制也是[gitolite](https://github.com/sitaramc/gitolite)的一部分（一个[授权层](http://sitaramc.github.com/gitolite/auth.html)，允许在推送到 repo 时进行各种检查）

[您可以在“ git gitolite (v3) `pre-receive`hook for all commit messages](https://stackoverflow.com/questions/13087625/git-gitolite-v3-pre-receive-hook-for-all-commit-messages) ”中看到一个示例。

gitolite 的想法是，您可以轻松地为特定的用户组在特定的 repos 上部署该钩子。

# internet-explorer - 为什么谷歌云存储没有在 Internet Explorer 9 浏览器中打开

> ID：14151776
> 
> 赞同：0
> 
> 时间：2013-01-04T05:50:10.740
> 
> 标签：internet-explorer, google-cloud-storage

最近我尝试从 IE 9 (Internet Explorer 9) 登录 Google Cloud Storage，但它显示不支持的浏览器。我附上了屏幕截图供您参考。

我需要配置我的任何浏览器设置还是 Google 真的不允许从 IE 9 浏览器登录。

![不支持的浏览器](../Images/b7e001809c86d4740c9eaf563f280c50.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T22:13:16.867

Internet Explorer 不适用于 Google Cloud Storage 的网络用户界面。

Web UI 依赖于各种 HTML 5 功能，并非所有 Internet Explorer 9 都支持。[ProgressEvent](https://stackoverflow.com/questions/12866264/is-there-ajax-progress-event-in-ie-and-how-to-use-it)就是一个这样的例子。

# emacs - 如何清除 Emacs 缓冲区历史记录？

> ID：14151777
> 
> 赞同：3
> 
> 时间：2013-01-04T05:50:13.477
> 
> 标签：emacs

当我按下`C-x b`( `ido-switch-buffer`) 时，我得到了很多我不想看到的缓冲区。我想清除缓冲区历史记录。

我尝试评估这个表达式（使用`M-x eval-buffer`）：

```
(setq ido-buffer-history '()) 
```

并且生效了；我可以说，因为我用 . 查看了变量`C-h v ido-buffer-history`。但是，当我按下 时，更改并没有反映在 minibuffer 中`C-x b`。

我还应该做什么？还有其他我应该清除的变量吗？

**更新**：我看到的“额外”缓冲区*未*激活。有趣的是，`C-x C-b`( `ido-fallback-command`) 完全符合我的预期。这是我感兴趣的缓冲区历史记录。（有关更多上下文，请参阅`buffer-name-history`和`ido-buffer-history`变量。）

注意：也许提到我正在使用已`ido-ubiquitous`安装的 emacs-starter-kit 会有所帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:05:20.807

将以下内容添加到您的 init.el：`(setq ido-use-virtual-buffers nil)`

* * *

*为后代：*

这些是您会话中的所有活动缓冲区。您可以使用以下命令清理它们：

*   `M-x clean-buffer-list`将关闭您一段时间未使用的任何干净缓冲区
*   `M-x kill-some-buffers`将访问每个缓冲区并询问您是否要关闭它
*   `M-x kill-matching-buffers`将提示输入缓冲区名称的正则表达式，您可以将其留空

编辑：还有无聊的旧缓冲区菜单`C-x C-b`。在此菜单中，您可以按住`d`直到它标记每个缓冲区以进行删除，然后按`x`提交。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-04T06:59:18.877

感谢 Chris，我了解了 ido 的虚拟缓冲区。我不想`ido-use-virtual-buffers`完全禁用。我想根据需要清除历史记录；这些命令实现了这个目标：

```
(setq ido-virtual-buffers '())
(setq recentf-list '()) 
```

（请注意，清除`ido-virtual-buffers`是不够的——`recentf-list`还必须清除。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-08T21:58:11.727

我在 emacswiki 上找到[了这个条目。](http://emacswiki.org/emacs/MinibufferHistory)

存储您所指的缓冲区历史记录的变量是`buffer-name-history`

如果您运行`M-x describe-variable RET buffer-name-history RET`，您将看到所有不再存在的死缓冲区。wiki 建议创建一个钩子，当你杀死一个缓冲区时，它会从列表中删除缓冲区名称。

我已经做了：`M-x eval-expression RET (setq buffer-name-history '()) RET`

这似乎奏效了。下次我运行 Cx b 时，我只循环通过我*的真实*缓冲区。

也就是说，将变量设置为 nil 似乎完全禁用了该功能（一旦我打开更多缓冲区，该变量似乎不会被重新填充）。

# javascript - VBscript中Do while / Do until的区别

> ID：14151778
> 
> 赞同：4
> 
> 时间：2013-01-04T05:50:14.347
> 
> 标签：javascript, vbscript

**vbscript中的****Do while**和**Do until**循环有什么区别， **javascript**中的等价循环语句是什么？

 ***** * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T05:55:44.557

`do while`和之间的唯一区别`do until`是，只要条件为真，第一个循环，而只要条件为假，第二个循环。

在 Javascript 中，您使用`do {} while()`or `while() {}`。例子：

```
var cnt = 0;
do {
  cnt++;
} while (cnt < 10); 
```

和：

```
var cnt = 0;
while (cnt < 10) {
  cnt++;
} 
```

使用`!`运算符来否定条件以获得与`until`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T05:55:21.583

Do while，（在条件为真时重复代码）

```
Do While i>10
  some code
Loop 
```

或者

```
Do
  some code
Loop While i>10 
```

做直到，（重复代码直到条件变为真）

```
Do Until i=10
  some code
Loop 
```

或者

```
Do
  some code
Loop Until i=10 
```

javascript,

```
while ( i>10)
{
   some code
} 
```

或者，

```
do
{
   some code
} while (i>10); 
```

希望你有这个想法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T05:55:12.677

[谷歌是你的朋友](http://msdn.microsoft.com/en-us/library/eked04a7.aspx)。`do-while`循环执行**1 次或**多次，而`while`循环执行**0 次或**多次。

来自 MSDN：

```
While   Required unless Until is used. Repeat the loop until condition is False.
Until   Required unless While is used. Repeat the loop until condition is True. 
```****

# iphone - 类与键 navigationBar 的键值编码不兼容

> ID：14151793
> 
> 赞同：0
> 
> 时间：2013-01-04T05:51:25.460
> 
> 标签：iphone, xcode, uinavigationbar

我已将 UINavigationbar 和 UIscrollView 添加到 UIView(SecondView)。当我单击 firstView 中的按钮时，它应该将我带到 secondView。点击按钮：

```
 SecondView *secondview=[[SecondView alloc]initWithNibName:@"SecondView" bundle:nil];
 [self presentModalViewController: secondview animated:NO]; //error at this line 
 [secondview release]; 
```

在 secondView.h

```
@property(nonatomic,retain)IBOutlet UINavigationBar *navigationBar;
@property(nonatomic,retain)IBOutlet UIScrollView *testscroll; 
```

第二视图.m：

```
@synthesize navigationBar,testscroll; 
```

但我收到如下错误：

由于未捕获的异常“NSUnknownKeyException”而终止应用程序，原因：SecondView setValue:forUndefinedKey:]：此类与键导航栏的键值编码不兼容。

我的 secondView.xib 是这样的：

无法理解我哪里出错了？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-04T06:08:35.800

当您在 xib 中创建了一个出口然后错误地（或故意）删除了该 iboutlet 对象时，通常会出现此错误.. 反之亦然..

所以仔细检查你的xib的iboutlet连接..

我希望它会有所帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:05:42.853

检查拼写：

> @property(nonatomic,retain)IBOutlet UINavigationBar *navigationBar;
> 
> 由于未捕获的异常“NSUnknownKeyException”而终止应用程序，原因：SecondView setValue:forUndefinedKey:]：此类与键导航栏的键值编码不兼容。

注意 和 的区别`navigationBar`，`navigationbar`它区分大小写。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T06:01:08.977

您可以像这样使用导航栏呈现 ModelViweController：-

```
SecondView *objSecondView = [[SecondView alloc] initWithNibName:@"SecondView" bundle:nil];
UINavigationController *navbar = [[UINavigationController alloc] initWithRootViewController:objSecondView];

// add navigation bar image at hear

     UIImage *image = [UIImage imageNamed:@"nav_launcher.png"];
                [navbar.navigationBar setBackgroundImage:image forBarMetrics:UIBarMetricsDefault];
     navbar.navigationBar.tintColor=[UIColor whiteColor];

     [self presentModalViewController:navbar animated:YES]; 
```

您可以将一个视图推送到另一个视图，例如：-

```
SecondView *objSecondView =[[SecondView alloc]initWithNibName:@"SecondView" bundle:nil];
[self.navigationController pushViewController:objSecondView animated:YES]; 
```

**笔记**

有时它会发生错误，因为我们在这行代码中输入了错误的 Nib 名称：`initWithNibName:@"SecondView" bundle:nil];`

**更新**

无需在 SecondViewcontroller 添加导航栏锡图像，您可以添加所有听到的东西，如 barbuttonItem、tincolor、navigatin BackgroudnColor 等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:04:31.213

`pushViewController:`用于推送 UIViewController。看起来`SecondView`是 UIView，而不是 UIViewController。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T06:21:37.603

我认为您还没有将某些对象连接到该 UIViewController 的 xib 中的文件所有者...

检查一次我的朋友..

让我知道它是否有效！！！\

快乐编码！！！！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-04T07:54:32.983

我自己解决了。我什么都错了。一切都很好。我添加了一个新视图并建立了相同的连接并得到了它。不知道为什么这在 xcode 中经常发生。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-01-06T05:54:03.477

如果您再次遇到此问题，请尝试：选择 File's Owner 然后单击“Connection Inspector”（右窗格顶部的上方），您将看到所有插座。寻找任何像这样（！）的标志，您会在小圆圈上找到它，表明**缺少插座**，您所要做的就是正确连接它或移除插座。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-10-22T06:22:46.080

1.  对于错误的情况，Rakesh 提供了正确的答案（出口已被删除 - 需要准确检查您的 xib / 情节提要），并附有少量补充：这也可能是通过简单地“查找和替换”重命名出口引起的。在这种情况下，该出口在源代码中的所有位置都被重新命名，但不是在故事板中。在这种情况下，请确保您在故事板中也准确地重命名了插座，例如：

    grep -r --include "*.storyboard" 导航栏。

2.  一切看起来都还不错：XCode 缓存您的 xib，以修复该行为：
    *   干净的构建
    *   从设备/模拟器中删除应用程序
    *   重新启动应用程序可能还需要重新启动模拟器（对我来说，设备从来不需要）

# azure - Windows Azure 网站状态有限

> ID：14151795
> 
> 赞同：4
> 
> 时间：2013-01-04T05:51:42.677
> 
> 标签：azure, azure-web-app-service

我知道之前有人问过这个问题，但 Azure 状态仪表板显示所有服务都按预期运行。但是，我所有的网站都被标记为有限。我可以访问其中 1 个，但不能访问其他 3 个。为了测试问题，我在 azure 上创建了一个新网站，其状态设置为 Running。我的网站位于欧洲西部服务器。

是中断问题还是我的应用程序有问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T06:02:05.810

是的，Azure 网站出现中断 [部分降级]。查看[Windows Azure 服务仪表板](http://www.windowsazure.com/en-us/support/service-dashboard/)

![Azure 网站中断 - 东欧](../Images/ca3626067f318ef39fa24193ea1be6c8.png)

# symfony - symfony2 在更新时不验证文件上传

> ID：14151796
> 
> 赞同：0
> 
> 时间：2013-01-04T05:51:47.317
> 
> 标签：symfony, doctrine-orm, symfony-2.1, symfony-forms

我想使用 ajax 更新单个实体字段。基本上我没有表单，我只是通过单击传递 id 和 value 的链接来触发 ajax。但我有实体形式的多个文件字段。因此，当我更新实体**PrePersist**和**PostPersist**函数正在触发文件上传时。我不想在此更新中执行此操作。

我的控制器动作

```
public function ajaxupdateAction(Request $request){

        $data  =  $request->query->get('data');

        $id = $data['id'];

         $em = $this->getDoctrine()->getManager();
         $entry = $em->getRepository('RootContestBundle:Entry')->find($id);

        if (!$entry) {
            throw $this->createNotFoundException('Unable to find Entry entity.');
        }

        $form =  $this->createFormBuilder(array('id' => $id,'is_liked'=>true))
                    ->add('id', 'hidden')
                    ->add('is_liked','hidden')
                    ->getForm();      
        $entry->setIsLiked(true);
        $form->bind($this->getRequest());

        $em->persist($entry);

        $em->flush();

     return new JsonResponse(array('reverse'=>'dislike'));

    } 
```

我做错了什么，我该如何解决这个问题！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T15:28:22.137

在这里，您可以获得有关表单事件订阅者的文档：

[http://symfony.com/doc/2.0/cookbook/form/dynamic_form_generation.html](http://symfony.com/doc/2.0/cookbook/form/dynamic_form_generation.html)

1.  使用`postBind`事件。
2.  然后检查表格是否`isValid()`
3.  如果有效，请致电负责文件上传的服务。

我是这样做的：

```
public function postBind(FormEvent $event)
{
    $data = $event->getData();

    $form = $event->getForm();
    $file = $form->get('upload')->getData();
    if($file && $form->isValid())
    {
        $result = $this->upload->uploadFile($file);
        $data->setUpload($result);
    }
    $event->setData($data);
} 
```

我的方法具有由 DI 注入的上传服务并分配给 variable `$this->upload`。

# c# - 在 Windows 8 平板电脑中为增强现实应用程序创建世界矩阵

> ID：14151802
> 
> 赞同：-1
> 
> 时间：2013-01-04T05:52:17.950
> 
> 标签：c#, wpf, windows, windows-runtime

谁能建议如何在 Windows 8 平板电脑中为增强现实应用程序创建“世界矩阵”。windows phone 已经存在以下代码：

```
Matrix world = Matrix.CreateWorld(Vector3, Vector3,  Vector3); 
```

与 Windows Phone 不同，Windows 8 平板电脑不支持where `CreateWorld`is from which。`Microsoft.XNA.Framework.Matrix`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:27:55.183

这样的事情应该让你开始。

```
Vector3 position = new Vector3(0,0,0);
Vector3 forward = new Vector3(1,0,0);
Vector3 up = new Vector3(0,1,0);
Matrix world = Matrix.CreateWorld(position, forward, up); 
```

# ruby-on-rails - 没有选民模型的 Rails 简单投票 gem

> ID：14151806
> 
> 赞同：0
> 
> 时间：2013-01-04T05:52:35.077
> 
> 标签：ruby-on-rails, ruby, voting

我正在寻找可以进行超级简单投票的宝石。我要让任何人对记录进行投票，因为根本没有用户。我发现[了这个](https://github.com/medihack/make_voteable)和[这个](https://rubygems.org/gems/thumbs_up)，但他们似乎需要一个“投票者”模型（用户模型）来充当“投票者”。

有没有不需要“投票”模型的宝石？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:52:27.737

如果您需要一个简单的解决方案，为什么不自己制作一个呢？你可以有

```
class Record < ActiveRecord ::Base
  has_many :ratings, :through => :votes
end 
```

投票将是一个仅引用记录和投票值的模型。它可以简单地具有`record_id`和`value`字段。

要获得票数，您可以执行以下操作`record.ratings.count`

您还可以通过类似的方法很容易地找到平均值等：`record.ratings.sum(:value).to_f / record.ratings.count`

# python - TypeError：'int'对象不可调用：二次

> ID：14151814
> 
> 赞同：-3
> 
> 时间：2013-01-04T05:53:32.637
> 
> 标签：python, error-handling, python-2.7, quadratic

（在没有导入的二次方程中查找 x 的值。）每当我运行程序时，Python 都会停止`discriminant = (b ** 2) - 4(a * c)`并显示 TypeError: 'int' object is not callable。怎么了？

```
#------SquareRootDefinition---------#
def Square_Root(n, x):
if n > 0:
    y = (x + n/x) / 2
    while x != y:
        x = y
        return Square_Root(n, x)
    else:
        if abs(10 ** -7) > abs(n - x ** 2):
            return y
elif n == 0:
    return 0
else:
    return str(int(-n)) + "i"

#----------Quadratic Equation--------------#

a = input("Enter coefficient a: ")
while a == 0:
    print "a must not be equal to 0."
    a = input("Enter coefficient a: ")
b = input("Enter coefficient b: ")
c = input("Enter coefficient c: ")

def Quadratic(a, b, c):
    discriminant = (b ** 2) - 4(a * c)
    if discriminant < 0:
        print "imaginary"
    elif discriminant >= 0:
        Sqrt_Disc = Square_Root(discriminant)
        First_Root = (-b + Sqrt_Disc) / (2 * a)
        Second_Root = (-b - Sqrt_Disc) / (2 * a)

  return First_Root, Second_Root

X_1, X_2 = Quadratic(a, b, c) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T05:54:26.807

`4(a * c)`不是有效的 Python。你的意思是`4 * a * c`。您可以在数学符号中使用并列并省略乘法符号，但不能在 Python（或大多数其他编程语言）中使用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-04T05:54:36.103

您正在尝试`4`用作函数：

```
discriminant = (b ** 2) - 4(a * c) 
```

你错过了`*`：

```
discriminant = (b ** 2) - 4 * (a * c) 
```

此外，如果您的判别式低于 0，您将得到一个未绑定的本地异常：

```
>>> X_1, X_2 = Quadratic(2, 1, 1)
imaginary
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "<stdin>", line 9, in Quadratic
UnboundLocalError: local variable 'First_Root' referenced before assignment 
```

您需要在此处添加一个`return`，或者更好的是，引发异常：

```
def Quadratic(a, b, c):
    discriminant = (b ** 2) - 4(a * c)
    if discriminant < 0:
        raise ValueError("imaginary")
    elif discriminant >= 0:
        Sqrt_Disc = Square_Root(discriminant)
        First_Root = (-b + Sqrt_Disc) / (2 * a)
        Second_Root = (-b - Sqrt_Disc) / (2 * a)

    return First_Root, Second_Root 
```

您的`Square_Root()`函数缺少它的默认值`x`：

```
def Square_Root(n, x=1): 
```

通过这些更改，您的功能实际上可以工作：

```
>>> Quadratic(1, 3, -4)
(1, -4) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-04T05:54:32.157

你需要做`4 * (a * c)`或者只是`4 * a * c`因为 python 认为你正在尝试调用一个函数`4`

# c# - 一个应用程序的不同语言

> ID：14151818
> 
> 赞同：2
> 
> 时间：2013-01-04T05:54:00.977
> 
> 标签：c#, asp.net, vb.net

我正在为客户开发一个 asp.net(c#) 项目。他想再增加一名团队成员，而那个人想在 VB.net 中编写代码。那么对于同一个项目，我们有不同语言的页面有可能吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:02:21.990

有可能，有点。而不是说如何，我要说为什么这是一个糟糕的主意（通常）：

1.  当发现错误时，C# 程序员必须对 VB.Net 进行热身
2.  当在 C# 中发现错误时，VB.Net 程序员必须热身

当然，您可以假装每个程序员都将“拥有”代码并且永远不必处理另一种语言......但是然后

1.  你确定你需要另一个程序员

所以，在大多数情况下，不要那样做！相反，请选择其中之一。VB.Net 很好，C# 很好。但是将它们混合在同一个项目中是愚蠢的，只会导致混乱和沮丧

现在，话虽如此，但也有例外。Visual Studio 不允许在单个项目中使用其中一种混合语言，因此这基本上意味着您被迫将不同的语言部分设为单独的库。这在 Visual Studio 中被认为是一个缺点，但实际上，由于上​​述原因，这就是不支持（可能）的原因。

因此，如果您正在考虑使用两种不同的语言，请确保以下几点：

1.  它们足够分开，可以成为图书馆
2.  您实际上会从使用另一种语言中获得一些价值（例如，编写一个非常无状态和异步的库，将从 F# 中受益）
3.  如果不满足＃2，则确保一种语言的程序员很少需要接触另一种语言的库。（提示：通常情况并非如此）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:00:00.043

无法在单个项目中组合不同语言的文件。但是，您可以将不同 .NET 语言的项目添加到您的解决方案中。

如果您要添加打算从主项目中引用的实用程序代码，这可能是合适的。但是，这样做是为了扩展现有应用程序或网站的功能可能会让您非常头疼。

# vim - 如果文件的父路径树是 cookbooks/foo/recipes，我如何设置 Vim 的“路径”？

> ID：14151819
> 
> 赞同：2
> 
> 时间：2013-01-04T05:54:09.050
> 
> 标签：vim, chef-infra

我正在使用 MacVim 编辑 Chef 食谱，我真的很喜欢`gf`（转到文件）命令来打开同一食谱中的其他 Chef 食谱。

如果您的解决方案也可以在其他厨师食谱中打开食谱，则超级额外奖励积分。

所以给定这样的目录结构：

```
1\. cookbooks/mycookbook/recipes/default.rb
2\. cookbooks/mycookbook/recipes/foo.rb
3\. cookbooks/mycookbook/recipes/bar.rb
4\. cookbooks/apache2/recipes/default.rb
5\. cookbooks/apache2/recipes/mod-ssl.rb 
```

并`mycookbook/recipes/default.rb`包含这个：

```
include_recipe 'mycookbook::foo'
include_recipe 'mycookbook::bar'
include_recipe 'apache2'
include_recipe 'apache2::mod_ssl' 
```

我希望 Vim 的`gf`命令能够打开上面列出的食谱。

## 方法：

`path`基本上，如果当前 Ruby 文件的父目录结构类似于，我正在考虑对 Ruby 文件使用 setlocal 来设置变量`cookbooks/<cookbook name>/recipes/`，但我不知道该怎么做。

对于简单的解决方案，您只需将当前文件的父目录（recipes）添加到`path`当前文件的父路径为`cookbooks/<cookbook name>/recipes/`.

对于更全面的解决方案，您还需要添加`cookbooks/<all cookbooks>/recipes/`到`path`变量中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:35:45.297

所以在阅读了几个小时的 Vim 文档和谷歌搜索之后，我想出了这个 autocmd（为了便于阅读，分成两行：

```
" Make gf work on Chef include_recipe lines
" Add all cookbooks/*/recipe dirs to Vim's path variable
autocmd BufRead,BufNewFile */cookbooks/*/recipes/*.rb 
   \ setlocal path+=recipes;/cookbooks/**1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T16:29:03.993

如果您可以为模板做同样的事情，那不是很酷吗？例如：

```
template "/etc/sudoers" do
  source "sudoers.erb"
end 
```

sudoers.erb 上的 gf ，它将拉出 sudoers 模板，如果存在多个模板，则在拆分窗口中拉出它们！

# java - 尝试打印对象时出现空指针异常

> ID：14151820
> 
> 赞同：0
> 
> 时间：2013-01-04T05:54:20.883
> 
> 标签：java, android

下面是相关代码：

```
 WebPage obPage1 = new WebPage(null, null, 0);

          obPage1.setUrl(page1.substring(st + 4, en));

          System.out.println(obPage1.toString()); 
```

这给了我一个空指针异常，知道我哪里出错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:01:02.110

WebPage 是您编写的自定义类吗？

即使您没有实现 toString 方法，它仍应返回有效字符串，因为它将扩展 Object 的 toString 方法

```
getClass().getName() + '@' + Integer.toHexString(hashCode()) 
```

确定代码在做什么的最快方法是在调试器模式下运行它，这样您就可以知道 WebPage 中存储的内容。

从示例中也可以看出，您希望 toString 返回页面的 url。如果是这样，只需为 url 创建一个 getter。

# php - Twitter Bootstrap 弹出框在 Wordpress 循环中不起作用

> ID：14151822
> 
> 赞同：0
> 
> 时间：2013-01-04T05:54:24.393
> 
> 标签：php, html, wordpress, twitter-bootstrap

我一直试图让引导弹出框在 Wordpress 循环中工作但没有成功，这就是我到目前为止所拥有的：

```
<?php while($have_posts()): $the_post();
  $excerpt = strip_tags(get_the_excerpt());?>

  <a class="<?php echo the_ID()?>" href="<?php echo the_permalink();?>"><?php echo the_title();?></a>

  <script>
  jQuery('.<?php echo the_ID()?>').mouseenter(function(){
    jQuery(this).popover({
      html: true,
      title: '<?php echo the_title();?>',
      trigger: 'manual',
      placement:'top',
      content:'<?php echo $excerpt;?>'
    }).popover('show');
  });
  </script>
<?php endwhile;?> 
```

这打印出我的期望

```
<a class="5598" href="http://mysite.oom/post/">Post Title</a>

<script>
jQuery('.5598').mouseenter(function(){
  jQuery('.5598').popover({
    html: true,
    title: 'Post Title',
    trigger: 'manual',
    placement:'top',
    content:'Post Excerpt'
  }).popover('show');
});
</script>

etc... 
```

但是，悬停时弹出框没有显示，并且我没有收到任何脚本错误，所以我不知道为什么弹出框不起作用，我确实包含 jQuery、bootstrap.js 和 bootstrap.css页面加载。任何帮助将不胜感激！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:11:12.130

### 以数字开头的类和 ID 不起作用！

众所周知，当您将课程作为数字进行时：

```
<div class="1234">...</div> 
```

它不起作用。在你的情况下，它是这样的：

```
<script>
jQuery('.5598').mouseenter(function(){
  jQuery('.5598').popover({
    html: true,
    title: 'Post Title',
    trigger: 'manual',
    placement:'top',
    content:'Post Excerpt'
  }).popover('show');
});
</script> 
```

类是一个纯数字。`5598`. 不工作。所以尝试用类似的东西替换它：

```
<a class="p5598" href="http://mysite.oom/post/">Post Title</a>

<script>
jQuery('.p5598').mouseenter(function(){
  jQuery('.p5598').popover({
    html: true,
    title: 'Post Title',
    trigger: 'manual',
    placement:'top',
    content:'Post Excerpt'
  }).popover('show');
});
</script> 
```

* * *

我怀疑的另一件事是，它`.popover()`是一个函数，它可以像实例化一样使用。所以，不要在`.mouseenter()`. 以这种方式替换整个脚本：

```
<script>
jQuery(document).ready(function(){
  jQuery('.p5598').popover({
    html: true,
    title: 'Post Title',
    trigger: 'manual',
    placement:'top',
    content:'Post Excerpt'
  })
  jQuery('.p5598').hover(function() {
    jQuery('.p5598').popover('show');
  }, function(){
    jQuery('.p5598').popover('hide');
  });
});
</script> 
```

# javascript - 如何使日历始终在页面中可见并选择日期作为另一种方法的参数

> ID：14151829
> 
> 赞同：1
> 
> 时间：2013-01-04T05:54:40.720
> 
> 标签：javascript, html, calendar

当页面加载并选择日期并将其分配给变量时，我遇到了一个问题。选择日期后不应隐藏日历，因为用户可以根据需要选择另一个日期。

这是我的html：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Date</title>
<script type="text/javascript" src="cal.js"></script>

</head>
<body>
 <td width="65%" colspan="2" class="textfieldalign">                                                        
<input type="hidden" name="regddate" id="regddate" maxlength="10" >
<div id="datePi" ></div>
</td>
</body>
<script>

onLoadInitCalendar();
function onLoadInitCalendar(){     
scwShow(document.getElementById('datePi'),'onClick','');return false;
}

</script>     
</html> 
```

我用过`cal.js`这里的代码我无法通过。

这是日历应该是什么样子的示例。 ![在此处输入图像描述](../Images/6e7df639a91cbe10f140e39401e17a66.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:01:13.083

你需要看看[内联](http://jqueryui.com/datepicker/#inline)日期选择器

```
Eg: Assign it on a div :

$(function() {
    $( "#datepicker" ).datepicker( {
        dateFormat: "dd/mm/yy",
        onSelect: function(date, picker){
            funcCall(date);  //call you function here
        }
    });
});
function funcCall (date){
    alert('your function called with date= '+date);
} 
```

[小提琴](http://jsfiddle.net/fgMc3/4/)

# javascript - 暂时禁用响应性引导程序

> ID：14151832
> 
> 赞同：1
> 
> 时间：2013-01-04T05:55:04.653
> 
> 标签：javascript, html, css, twitter-bootstrap

我正在使用 Twitter Bootstrap 开发页面。在当前的开发阶段，更改为桌面以外的其他设备分辨率会严重破坏网站的布局。在我准备好为其开发之前，如何禁用引导程序的响应性方面？我想发布这个网站的桌面版本，如果它在不同的分辨率下中断，我就不能发布。我没有 bootstrap-responsive.css 文件，这些文件都包含在 bootstrap.css 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:57:50.757

### 移除 Bootstrap 响应式 CSS

在您的源代码中，找到样式声明：

```
<link href="assets/css/bootstrap.css" rel="stylesheet">
<link href="assets/css/bootstrap-responsive.css" rel="stylesheet"> 
```

只需删除第二个 CSS。只有这个：

```
<link href="assets/css/bootstrap.css" rel="stylesheet"> 
```

* * *

### 如果合并所有文件...

您需要查找并删除`@media`负责屏幕宽度的查询。删除所有`@media`查询，它们具有：

```
@media screen and
(min-width: X px) and
(max-width: X px)

@media screen and
(min-device-width: X px) and
(max-device-width: X px) 
```

# android - 如何为操作栏选项卡初始化（传递参数）片段？

> ID：14151835
> 
> 赞同：1
> 
> 时间：2013-01-04T05:55:14.500
> 
> 标签：android, tabs, android-actionbar

我跟着[http://developer.android.com/guide/topics/ui/actionbar.html#Tabs](http://developer.android.com/guide/topics/ui/actionbar.html#Tabs)

它使用以下代码添加选项卡。

```
Tab tab = actionBar.newTab()
            .setText(R.string.artist)
            .setTabListener(new TabListener<ArtistFragment>(
                    this, "artist", ArtistFragment.class));
    actionBar.addTab(tab); 
```

我想在第一次显示选项卡之前为片段的构造函数提供参数或在片段实例上调用 myInit(myVariableList) 方法。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T06:44:09.410

您可以使用`tab.setTag()`将任意对象链接到选项卡。如果可以放入`myVariableList`a `Bundle`，则可以通过执行以下操作来实现简单的解决方案-

```
Tab tab = actionBar.newTab()
            .setText(R.string.artist)
            .setTabListener(new TabListener<ArtistFragment>(
                    this, "artist", ArtistFragment.class));
    tab.setTag(myVariableBundle);
    actionBar.addTab(tab); 
```

然后，在你的`onTabSelected`回调中，`Bundle`当你实例化你的片段时发送——

```
mFragment = Fragment.instantiate(mActivity, mClass.getName(), (Bundle) tab.getTag()); 
```

然后，您应该能够`Bundle`在片段生命周期中使用`getArguments()`

# php - 如果没有差异，该功能将如何表现。通过的参数和没有。PHP 函数定义中定义的参数？

> ID：14151837
> 
> 赞同：0
> 
> 时间：2013-01-04T05:55:26.683
> 
> 标签：php

我是 PHP 的新手。我有以下函数调用：

```
UpdateUserTestStatus($user_id, $user_test['test_user_test_id'], $user_test['test_user_start_time'], $user_test_time); 
```

函数定义如下：

```
function UpdateUserTestStatus($user_id, $test_id, $user_test_start_time, $user_test_time, $test_pack_id) { 
        if($user_id!='' && $test_id!='') {
            $sql  = " UPDATE ".TBL_TESTS_USERS." SET test_user_status='present', ";
            $sql .= " test_user_start_time=".$user_test_start_time.", test_user_time_used=".$user_test_time;
            $sql .= " WHERE test_user_user_id='".$user_id."' AND test_user_test_id=".$test_id;
            $sql .= " AND test_pack_id='".$test_pack_id."' ";

            $this->mDb->Query($sql);

            return true;
        } else
            return false;
    } 
```

所以我的问题是，这在具有不同编号的 PHP 中是否有效。函数调用中的参数并且具有不同的编号。函数定义中存在的参数？请在这个问题上指导我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T05:59:09.523

如果**定义中的参数少于**调用中的参数，则将简单地忽略多余的参数。

如果**调用中的参数**少于定义中的参数，则会将缺少的参数设置为`null`并发出警告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:01:57.153

如果参数是可选的，则需要为其提供默认值。例如：

```
function full_name($firstname, $lastname, $middlenames = NULL) {
    $name = $firstname;
    if ($middlenames !== NULL) {
        $name .= ' '.$middlenames;
    }
    $name .= ' '.$lastname;
    return $name;
}
echo full_name('John', 'Doe'); // John Doe
echo full_name('John', 'Doe', 'Smith'); // John Smith Doe
echo full_name('John'); // Warning! 
```

如果您不给可选参数默认值，那么当您不使用该参数时会收到警告。

# java - NPE 与 Ibatis/Java/MySQL

> ID：14151842
> 
> 赞同：0
> 
> 时间：2013-01-04T05:55:46.633
> 
> 标签：java, mysql, ibatis

在使用 Java Character 和 Ibatis 进行参数映射时，我得到了一个 NPE：

```
 insert into activity(id, is_delete) values (#id#, #isDelete#) 
```

DataObject 中的属性“isDelete”是 java.lang.Character

```
 private Character isDelete; 
```

当我将“isDelete”更改为 java.lang.String 时，一切正常。
有什么问题？感谢帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:16:07.677

我似乎找不到支持的 Java 类型的完整列表，但在此页面[http://ibatisnet.sourceforge.net/DevGuide.html](http://ibatisnet.sourceforge.net/DevGuide.html)上的表 3 附近，您可以看到存在限制。相信如果它不支持开箱即用，您可以编写一个自定义类型处理程序来在需要时进行转换。

# ios - UITableViewCell 内存问题中的异步图像加载

> ID：14151843
> 
> 赞同：1
> 
> 时间：2013-01-04T05:55:50.427
> 
> 标签：ios, asynchronous, uitableview, uiimageview

在我的 iPhone 应用程序中，我有一个带有自定义图像视图的表格视图，并使用 AsyncImageView 类从远程位置加载图像。它工作得很好，但一个问题是，如果我滚动表格，单元格将出列，并且它再次尝试从服务器获取图像。因此，从 AsyncImageView 类加载图像的方法一次又一次地调用，从而增加了内存分配，最终导致应用程序崩溃。

这是我的代码：

```
- (UITableViewCell *) getCellContentView:(NSString *)cellIdentifier {

    CGRect CellFrame = CGRectMake(0, 0, 300, 40);

    CGRect userImageFrame = CGRectMake(5, 7, 36, 36);

    UIImageView *userImage;

    UITableViewCell *cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier] autorelease];
    [cell setFrame:CellFrame];

    userImage = [[UIImageView alloc]init];
    userImage.frame = userImageFrame;
    userImage.tag = 3;
    [cell.contentView addSubview:userImage];
    [userImage release];

    return cell;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if(cell == nil)
        cell = [self getCellContentView:CellIdentifier];
    else
        [[AsyncImageLoader sharedLoader] cancelLoadingImagesForTarget:cell.imageView];

    UIImageView *userImage = (UIImageView *)[cell viewWithTag:3];

    cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
    cell.selectionStyle = UITableViewCellSelectionStyleGray;
    NSString *url = [[NSString alloc]initWithFormat:@"%@%@", CommonImageURL,[AllUsersProfileImageArray objectAtIndex:indexPath.row]];
    NSURL *imageUrl =  [NSURL URLWithString:[url stringByAppendingFormat:@"?%i", rand()]];
    [url release];

    userImage.image = [UIImage imageNamed:@"defaultPerson.png"];
    userImage.imageURL = imageUrl;
    return cell;
} 
```

有没有办法解决这个问题？请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:00:34.657

最好的解决方案是缓存已经下载的图像并从那里显示它。

您需要为此编写代码，或者有一些提供此类功能的库：

1.  [HJCache](https://github.com/markofjohnson/HJCache)
2.  [SDWebImage](https://github.com/rs/SDWebImage)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:21:29.570

流行的[AFNetworking](http://afnetworking.com)库还包括一个 UIImageView 类别，用于从网络加载图像，这经常被忽视。我发现它在内存使用方面非常有效并且易于使用。

[http://afnetworking.github.com/AFNetworking/Categories/UIImageView+AFNetworking.html](http://afnetworking.github.com/AFNetworking/Categories/UIImageView+AFNetworking.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-25T17:48:04.107

我遇到了从服务器加载多个图像的内存泄漏问题。我的应用程序每次都需要新鲜的图像响应（功能因素）
  我使用 NSURLConnection 使用异步请求。我试过了

```
NSURLCache *sharedCache = [[NSURLCache alloc] initWithMemoryCapacity:0 diskCapacity:0 diskPath:0];
[NSURLCache setSharedURLCache:sharedCache]; // in DidFinishLoading & didFailWithError

receivedData=nil;  // at didReceiveResponse
receivedData=[[NSMutableData alloc] init]; 
```

但没有任何帮助，直到我删除了 cellForRowAtIndexPath 中的单元格 并为**每个新的**`[cell removeFromSuperview];`NSURL 请求 再次初始化它（如果条件在 cellForRowAtIndexPath 上附加，但确实得到了回报）。

 **可能 UIImageViews 从未被删除，并且随着响应获取而不断添加新的图像 n 数据。在我的情况下，为新的 NSURLRequest 删除旧的 UITableViewCell 是可行的。
  希望这可以帮助像我这样迷失在清理 NSURLCache 并且仍在增加内存的人。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-06T09:55:48.217

我在这里发布了一个自定义解决方案 [异步下载图像](https://stackoverflow.com/questions/9763979/download-image-asynchronously/22195250#22195250)。

我认为它工作正常并且只需要很少的代码。**

# c++ - 我可以要求用户重新输入命令行参数吗

> ID：14151845
> 
> 赞同：2
> 
> 时间：2013-01-04T05:55:55.977
> 
> 标签：c++, c, gcc, command-line-arguments

```
main(int argc, char *argv[])
{
if(argc != 3) {
printf("Invalid number of arguments\n");
exit(1);
}} 
```

**如果计数**与所需的参数数量不匹配，我将直接退出程序**。**

如果参数的数量与计数不匹配，有什么方法可以要求用户重新输入命令行参数？我**的意思是不退出程序..**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:04:31.550

尝试：

```
#include <iostream>
#include <string>
std::string askUser(std::string const& question)
{   
     std::cout << question << "\n";

     std::string result;
     std::getline(std::cin, result);

     return result;
}   
int main(int argc, char* argv[])
{   
    std::string  arg1;
    std::string  arg2;
    std::string  arg3;

    arg1   = (argc > 1) ? std::string(argv[1]) : askUser("Please Enter Arg1");
    arg2   = (argc > 2) ? std::string(argv[2]) : askUser("Please Enter Arg2");
    arg3   = (argc > 3) ? std::string(argv[3]) : askUser("Please Enter Arg3");
 } 
```

# objective-c - 具有灵活宽度和动态控件的多列 UITableView

> ID：14151846
> 
> 赞同：0
> 
> 时间：2013-01-04T05:56:11.827
> 
> 标签：objective-c, ios, xcode

我需要有多个列，`UITableView`但`UITableView`只支持一列。
我的应用程序需要为`tableView`特定项目存储员工详细信息（tableView 包含文本框、组合框、复选框、按钮），用户可以添加员工并编辑必要的详细信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:52:42.237

你可以尝试使用这个库：[https ://github.com/Eclair90/Scrollable-MultiColumnTable-for-iPad](https://github.com/Eclair90/Scrollable-MultiColumnTable-for-iPad)

# php - 存储 mysql 行的访问权限

> ID：14151849
> 
> 赞同：1
> 
> 时间：2013-01-04T05:56:22.910
> 
> 标签：php, mysql

我有一个数据结构类型的问题，我也不知道答案。本质上，我有四个权限控件（isSecret、canEdit、isActive 和 hasPage），我需要为许多不同的表存储它们。

我有两个解决方案，但我不确定哪个是最好的性能：

1.  将每个权限存储为每个表上的单独行。对我来说，这似乎是查询时访问数据的最快方式，但因为 PHP 将在 90% 的时间处理权限，所以它似乎效率低下。

2.  有一个*权限*列，其中权限名称（sec、edt、act、has）存储为逗号分隔的字符串。这使我将来可以灵活地引入新的/不同的权限，在我的数据库中看起来很整洁，并且在 PHP 和 mySQL 中都易于使用（我可以使用 IN 查找查询并分解字符串并将其作为数组使用PHP）。此列将是 40 个字符的 varchar，允许我存储多达 10 个不同的权限（3 个字母和一个逗号）

选项 2 是我的首选解决方案，直到我意识到 IN 命令可能会占用大量资源。我认为在我的表中的每一行上使用 IN 命令可能会影响性能，试图寻找不活动的页面来过滤掉。为了解决这个问题，我可以只获取列中的每一行，然后使用 PHP 过滤掉这些行，但同样，我不确定这会有多有效。

理想情况下，我认为在我的解决方案中，子列将是最好的解决方案（主权限列和我的每个权限的这 4 个子列），然后可以轻松查询（即，其中 permission.canEdit = 1）

结果最终将使用 memcache 缓存（当我能够弄清楚如何使用它以及清除它的有效方法时），但我不想依赖这个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T20:13:52.277

我认为[SET](http://dev.mysql.com/doc/refman/5.0/en/set.html)将是您所需要的

# ruby-on-rails - 如何在 carmen-rails 1.0.0.beta 3 中按字母顺序为 country_select 方法排序

> ID：14151852
> 
> 赞同：0
> 
> 时间：2013-01-04T05:56:35.577
> 
> 标签：ruby-on-rails, gem

我正在使用 carmen-rails 1.0.0.beta 3，为此我使用了以下代码：

```
<%= form_for(contact, remote: true, html: {class: 'popup-form'}) do |f| %>
    <%= f.label :country, t('country') %>
    <%= f.country_select :country, include_blank: "Select" %>
<% end %> 
```

这给出了这样的结果：奥兰岛，南极洲，阿富汗，......

但我希望阿富汗以字母顺序开始列表。任何人都可以解决这个排序问题。这会很有帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T14:37:25.347

他们已经修复了这个排序错误，但也许他们没有重新打包 gem 或其他东西。尝试在您的 gemfile 中指定 Git URL，我认为它对您有用。

`gem 'carmen-rails', git: 'https://github.com/jim/carmen-rails.git'`

# linux - 如何制作脚本以运行另一个脚本

> ID：14151855
> 
> 赞同：1
> 
> 时间：2013-01-04T05:56:52.887
> 
> 标签：linux, shell, move

我想运行包含所有文件的 obj2opengl.pl

> /用户/KanZ/桌面/项目/测试/模型/对象

这是名称 A001.obj A002.obj ... 运行脚本后，我会得到 A001.h A002.h ... 我想将这些文件移动到

> /Users/KanZ/Desktop/Project/Test/Model/Header

如何在下面修改此代码 *问题出在 A${i}.obj 和 A${i}.h

```
cd /Users/KanZ/Desktop/Project/Test/Model/Object
start=1
n=$(find . -name "*.obj" | wc -l)
end=$(($n));
for((i=$start;i<=$end;i++))
do
./obj2opengl.pl "A${i}.obj"
mv "A${i}.h" /Users/KanZ/Desktop/Project/Test/Model/Header
done 
```

如果我通过使用 if 语句来调整我的代码，我该如何修复此代码以获取正确的语法例如：

```
cd /Users/KanZ/Desktop/Project/Test/Model/Object
start=1
a=0
b=0
c=1
n=$(find . -name "*.obj" | wc -l)
end=$(($n));
for((i=$start;i<=$end;i++))
do
   ./obj2opengl.pl "A${a}${b}${c}.obj"
   mv "A${i}.h" /Users/KanZ/Desktop/Project/Test/Model/Header
   c++
if[$c > 9] then
   b++
   c=0
fi
if[$b>9] then
   a++
   b=0
   c=0
fi
done 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T12:01:32.930

bash 不是 C, `for`,`if`并且`[`都是命令，需要空格将它们与其他单词分开。

利用

```
cd /Users/KanZ/Desktop/Project/Test/Model/Object
for file in *.obj
do
    h=${file%.obj}.h
    ./obj2opengl.pl "$file"
    mv "$h" ../Header
done 
```

请参阅[bash 手册](http://www.gnu.org/software/bash/manual/bashref.html#Shell-Parameter-Expansion)以解释该`${file%.obj}`部分

如果要计数，请不要手动跟踪前导零，请使用`printf`：

```
max_width=${#end}
for ((i=$start; i<=$end; i++)); do
    printf -v n "%0*d" $max_width $i
    obj="A$n.obj"
    h="A$n.h"
    ./obj2opengl.pl "$obj" 
    mv "$h" ../Header
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:37:52.917

```
cd /Users/KanZ/Desktop/Project/Test/Model/Object

find . -name "A*.obj" -exec obj2opengl.pl {} \;
find . -name "A*.h" -exec mv {} /Users/KanZ/Desktop/Project/Test/Model/Header \; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T10:20:58.043

```
if[$c > 9] then
   b++ 
```

我认为这是语法错误。`[`是shell中的命令，它需要一个或多个args，最后一个arg必须是`[`，所以你必须使用空格分隔命令和args，并且在和之间也需要`if`空格`[`。

还有一个错误，shell不支持c风格`++`，可以用`b=$[b+1]`。

这是正确的代码：

```
cd /Users/KanZ/Desktop/Project/Test/Model/Object
start=1
a=0
b=0
c=1
n=$(find . -name "*.obj" | wc -l)
end=$(($n));
for((i=$start;i<=$end;i++))
do
   ./obj2opengl.pl "A${a}${b}${c}.obj"
   mv "A${i}.h" /Users/KanZ/Desktop/Project/Test/Model/Header
   c=$[c+1]
if [ $c > 9 ] then
   b=$[b+1]
   c=0
fi
if [ $b > 9 ] then
   a=$[a+1]
   b=0
   c=0
fi
done 
```

# javascript - 无法获取属性“0”的值：对象在 IE7 中为空或未定义

> ID：14151858
> 
> 赞同：1
> 
> 时间：2013-01-04T05:57:11.753
> 
> 标签：javascript, highcharts

我正在为饼图使用 highcharts。IE7 中的脚本有问题：

`SCRIPT5007: Unable to get value of the property '0': object is null or undefined highcharts.js, line 10 character 3841`

这是脚本中的代码行：

```
if(typeof a[0]==="number")
    this.x=a[0],this.y=a[1];
else if(d==="object"&&typeof a.length!=="number") {
    if(u(this,a),this.options=a,a.dataLabels)c._hasPointLabels=!0
}
else if(typeof a[0]==="string")
    this.name=a[0],this.y=a[1]; 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-30T18:38:09.957

这也发生在我身上。经过调试，我最终发现问题是因为我的系列数据数组的最后一个元素后面多了一个逗号“，”。

可以在此 JSFiddle 上找到该问题的一个示例：http: [//jsfiddle.net/lewisdavidcole/Be43c/14/](http://jsfiddle.net/lewisdavidcole/Be43c/14/)

该错误仅出现在 IE7 和 IE8 中。它在更宽容的 IE9、Chrome 和 Firefox 中运行良好。要解决此问题，请删除 JSFIddle 的第 266 行上的多余逗号，如下所示：

`}, //TO FIX, REMOVE THE EXTRA COMMA HERE WHICH CREATES PROBLEMS IN IE7 and IE8`

发生错误是因为在 IE7 和 IE8 中定义了像 Creates an issue 这样的数组

`var myArray = [1,2,3,4,5,];` ，它不应该以逗号结尾。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T14:19:26.470

这是一个常见的错误配置，因此我们在 Highcharts 中添加了一个修复程序。请参阅[http://jsfiddle.net/highcharts/sw5rY/](http://jsfiddle.net/highcharts/sw5rY/)。

```
series: [{
    data: [29.9, 71.5, 106.4, 129.2,],
    showInLegend: true
}] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:05:27.907

尝试这个：

```
if(a.length>0){
if(typeof a[0]==="number")
    this.x=a[0],this.y=a[1];
else if(d==="object"&&typeof a.length!=="number") {
    if(u(this,a),this.options=a,a.dataLabels)c._hasPointLabels=!0
}
else if(typeof a[0]==="string")
    this.name=a[0],this.y=a[1];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:00:39.090

请 alert(a[0]) 并查看该数组元素是否具有某些值如果没有，请在您的代码之前使用此条件：-

```
if(a.length>0){
//your code
} 
```

# php - 将日期转换为从给定日期开始的两天

> ID：14151859
> 
> 赞同：0
> 
> 时间：2013-01-04T05:57:12.130
> 
> 标签：php, date

我正在尝试将给定日期转换为比给定日期早两天的日期。我的代码如下：

```
$date = date('D, M n', strtotime('+2 days', 'Mon, Dec 31, 2012')); 
```

该代码有点正确。它与“1 月 1 日，星期三”相呼应。它得到正确的日期和月份的名称。但是，不是日期。我也尝试过另一条路线。

```
$d = new DateTime('Mon, Dec 31, 2012');
$d->modify('+2 days');
echo $d->format('D, M n'); 
```

那也没有用。有任何想法吗？

谢谢，

槊

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:01:31.957

`n`是月份月份的[格式标志](http://us1.php.net/manual/en/function.date.php)。之所以这么说，`1`是因为现在是一月份。改用`j`：

```
$d = new DateTime('Mon, Dec 31, 2012');
$d->modify('+2 days');
echo $d->format('D, M j'); //Wed, Jan 2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:03:07.417

```
$newdate = date("D, M n",strtotime($oldDate. ' + 2 day')); 
```

# android - ListView 和 LinearLayout 重叠

> ID：14151860
> 
> 赞同：0
> 
> 时间：2013-01-04T05:57:29.890
> 
> 标签：android, android-layout, android-widget

我有这样的布局在顶部我有 listView，在下面我有 LinearLayout（带有单选按钮 Add New Addess 的那个）。
现在问题是我的 listView 和 linearlayout 重叠。请帮助我。

![在此处输入图像描述](../Images/c007b48b5bbd3ceff8ba92d73971b397.png)

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:weightSum="1.0" >

    <RelativeLayout
        android:layout_width="fill_parent"
        android:layout_height="63dp"
        android:layout_weight="0.05" >

        <ImageView
            android:id="@+id/menu_icon"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerHorizontal="true"
            android:layout_centerVertical="true"
            android:src="@drawable/hs18_logo" />

        <ImageView
            android:id="@+id/setting_icon"
            android:layout_width="30dp"
            android:layout_height="30dp"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:layout_marginLeft="17dp"
            android:scaleType="fitCenter"
            android:src="@drawable/menu" />

        <ImageButton
            android:id="@+id/signin_icon"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_alignTop="@+id/setting_icon"
            android:layout_marginRight="20dp"
            android:background="@android:color/transparent"
            android:src="@drawable/signin"
            android:visibility="invisible" />
    </RelativeLayout>

    <TextView
        android:id="@+id/cart_checkout_title"
        android:layout_width="fill_parent"
        android:layout_height="35dp"
        android:background="@color/gray"
        android:gravity="center"
        android:text="Shipping Address"
        android:textStyle="bold" />

    <ListView
        android:id="@+id/shipping_addresses_listView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="0.90" >
    </ListView>

    <include layout="@layout/shipping_add_adresss" />

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="40dp"
        android:layout_weight="0.05"
        android:gravity="center" >

        <Button
            android:id="@+id/button1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/buttonshape_white"
            android:text="Cancel"
            android:textColor="@color/red" />

        <Button
            android:id="@+id/button2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="10dp"
            android:background="@drawable/buttonshape_red"
            android:text="Update Shipping Address"
            android:textColor="@color/white" />
    </LinearLayout>
</LinearLayout></ScrollView> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:01:51.090

使用`layout_above`列表视图的属性。

```
android:layout_above="@+id/linear_layout" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:57:41.277

@MohitSharma 永远记得

**永远不要在 ScrollView 中使用 ListView**

出于原因检查：

[ScrollView 中的 ListView 在 Android 上不滚动](https://stackoverflow.com/questions/6210895/listview-inside-scrollview-is-not-scrolling-on-android)

无论要求是什么，您都可以只使用其中一个（ListView 或 ScrollView）来做到这一点。

因此，对于您的情况，您可以执行以下两件事之一：

*   在您的 Layout.xml 中只有 ListView，您可以将那个巨大的布局设置为 ListView 的 FooterView。
*   如果要使用 ScrollView，请删除 ListView 并将这些列表项动态添加为普通布局（线性/相对布局）。

更推荐第一种方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:14:52.347

为你试试这项工作，我已经检查过了。

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:scrollbars="vertical" 
>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="match_parent"
android:orientation="vertical"
android:paddingBottom="5dp">
<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="63dp">

    <ImageView
        android:id="@+id/menu_icon"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:src="@drawable/hs18_logo" />

    <ImageView
        android:id="@+id/setting_icon"
        android:layout_width="30dp"
        android:layout_height="30dp"
        android:layout_alignParentLeft="true"
        android:layout_centerVertical="true"
        android:layout_marginLeft="17dp"
        android:scaleType="fitCenter"
        android:src="@drawable/menu" />

    <ImageButton
        android:id="@+id/signin_icon"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignTop="@+id/setting_icon"
        android:layout_marginRight="20dp"
        android:background="@android:color/transparent"
        android:src="@drawable/signin"
        android:visibility="invisible" />
</RelativeLayout>

<TextView
    android:id="@+id/cart_checkout_title"
    android:layout_width="fill_parent"
    android:layout_height="35dp"
    android:background="@color/gray"
    android:gravity="center"
    android:text="Shipping Address"
    android:textStyle="bold" />

<ListView
    android:id="@+id/shipping_addresses_listView"
    android:layout_width="match_parent"
    android:layout_height="fill_parent"
       >
</ListView>
</LinearLayout>
</ScrollView> 
```

＆如果您在 Listview 之后添加布局为滚动视图提供 id 并在滚动视图中添加布局，这对您来说非常适合。

# iphone - iOS 6 如何在 facebook 粉丝页面中发布图片

> ID：14151864
> 
> 赞同：1
> 
> 时间：2013-01-04T05:57:42.147
> 
> 标签：iphone, ios, xcode, facebook, ipad

你们中的任何人都知道是否在 iOS 6 facebook 集成中您可以在 facebook 粉丝页面上发布图片以及如何实现？

我会非常感谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:10:52.887

**希望 GitHub 项目能轻松解决您的问题。** [点击这里。](https://github.com/yashesh87/Social-Framework-iOS6)

# mysql - mysql union 无缘无故失败

> ID：14151867
> 
> 赞同：0
> 
> 时间：2013-01-04T05:57:57.633
> 
> 标签：mysql

这是我的查询：

```
SELECT m_title `title` from members UNION select n_title `title` FROM news 
```

尽管下一个查询成功，但此 sql 查询无明显原因失败：

```
SELECT id from members UNION select n_id `title` FROM news 
```

可能是什么问题呢？

**成员：**

```
id  int(11)         No  None    AUTO_INCREMENT    Change      Drop   More 
 2  member_id   int(150)            No  None          Change      Drop   More 
 3  m_title varchar(200)    utf8_unicode_ci     Yes NULL          Change      Drop   More 
 4  txtshortdetails text    utf8_unicode_ci     No  None          Change      Drop   More 
 5  txtfulldetails  text    utf8_unicode_ci     No  None          Change      Drop   More 
 6  video_src   varchar(200)    utf8_unicode_ci     No  None          Change      Drop   More 
 7  m_order int(11)         No  None          Change      Drop   More 
 8  m_cat   int(11)         No  None          Change      Drop   More 
 9  m_date  datetime            No  None          Change      Drop   More 
 10 m_change_date   date            No  None          Change      Drop   More 
```

**消息：**

```
n_id    int(10)         No  None    AUTO_INCREMENT    Change      Drop   More 
 2  n_title varchar(200)    utf8_general_ci     Yes NULL          Change      Drop   More 
 3  n_details   text    utf8_general_ci     Yes NULL          Change      Drop   More 
 4  n_pic   varchar(200)    utf8_general_ci     Yes NULL          Change      Drop   More 
 5  n_order int(11)         No  None          Change      Drop   More 
 6  n_date  date            Yes NULL          Change      Drop   More 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T19:03:12.200

谢谢大家的帮助。
问题出在两列的不同排序规则中。
第一个有：“utf8_general_ci”
，第二个有：“utf8_unicode_ci”
我让它们一样

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:04:03.427

### 试一试，给出`AS`关键字：

如果我错了，请纠正我。

```
SELECT `m_title` AS `title` FROM `members`
UNION
SELECT `n_title` AS `title` FROM `news` 
```

并确保列`m_title`和`n_title`存在于各自的表中。

# php - 按列出名称的字段排序

> ID：14151868
> 
> 赞同：-2
> 
> 时间：2013-01-04T05:57:59.003
> 
> 标签：php, zend-framework

我有一个这样的数据库

```
CREATE TABLE `xyz` (
  `id` int(10) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `name` varchar(100) DEFAULT NULL 
)

INSERT INTO `xyz` (`id`, `name`) VALUES
(1, 'train'),
(2, 'bus'),
(3, 'bus'),
(4, 'bus'),
(5, 'train'),
(6, 'train'),
(7, 'train'),
(8, 'car'),
(9, 'car'),
(10, 'car'); 
```

我想按名称排序示例火车正在选择火车，所有火车都是字段。如何在 zend-framework 中编写这个程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:02:13.557

```
SELECT * FROM `xyz` ORDER BY `name` 
```

# java - 在我的 Eclipse 项目中包含 SWT JAR 会破坏不使用 SWT 的代码

> ID：14151872
> 
> 赞同：0
> 
> 时间：2013-01-04T05:58:24.923
> 
> 标签：java, eclipse, swt

我在这里很困惑。我编写了一个非常基本的程序来测试我们一直在一个单独的 Eclipse 项目中处理的 MP3 抽象。MP3 类有 3 个依赖项，我将它们移至主项目，我们也复制了该类。但是，当尝试在新项目上播放歌曲时，代码突然停止工作。修复？移除 SWT 罐子。我不知道它为什么会起作用，但是删除 SWT 会使 MP3 播放，然后重新添加它会再次破坏它。swt.jar 中包含的唯一内容是`org.eclipse.swt`代码，通过 JD-GUI 反编译确认。问题是没有任何音频代码从 org.eclipse.swt 导入任何内容。知道如何添加 SWT 文件可以完全破坏 MP3 代码吗？

我的测试文件：

```
MP3 mp3 = new MP3(new File("four-chord-song.mp3"));

mp3.play(60);

Scanner in = new Scanner(System.in);
long lastTime = System.currentTimeMillis();
while (true) {
    in.nextLine();
    System.out.println(System.currentTimeMillis() - lastTime);
    lastTime = System.currentTimeMillis();
} 
```

还有 MP3 文件（有点乱，注意到挂在 SWT 的那一行）：

```
package com.partyrock.music;

import java.io.File;
import java.io.IOException;

import javax.sound.sampled.*;

public class MP3 extends Sound {

private File file;
private boolean isPaused;
private boolean isPlaying;
private AudioFileFormat fileFormat;
private Thread MP3Thread;
private SourceDataLine line;
private AudioInputStream din;
private MP3Player myMP3Player;
private double startTime = 0;

/**
 * Constructs an MP3 from a given file.
 * @param file The file
 */
public MP3(File file) {
    super();
    this.file = file;
    isPaused = false;

    if (!file.exists()) {
        System.err.println("MP3 constructed for non-existent file");
        return;
    }

    try {
        fileFormat = AudioSystem.getAudioFileFormat(file);
    } catch (UnsupportedAudioFileException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
}

public class MP3Player implements Runnable {

    private double startTime;
    boolean paused;

    public MP3Player(double var) {
        this.startTime = var;
        paused = false;
    }

    public void run() {
        din = null;
        try {
            AudioInputStream in = AudioSystem.getAudioInputStream(file);
            AudioFormat baseFormat = in.getFormat();
            AudioFormat decodedFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, baseFormat.getSampleRate(), 16, baseFormat.getChannels(), baseFormat.getChannels() * 2, baseFormat.getSampleRate(), false);
            din = AudioSystem.getAudioInputStream(decodedFormat, in);

            DataLine.Info info = new DataLine.Info(SourceDataLine.class, decodedFormat);
// ****** This is the line that breaks when SWT is included
            line = (SourceDataLine) javax.sound.sampled.AudioSystem.getLine(info);

            if (line != null) {
                line.open(decodedFormat);
                byte[] data = new byte[4096];

                // Start
                line.start();
                isPlaying = true;

                // Skip first startTime seconds
                int bytesToSkip = (int) (startTime
                        * (Integer) fileFormat.properties().get("mp3.bitrate.nominal.bps") / 8);
                din.skip(bytesToSkip);

                int nBytesRead;
                while ((data != null) && (din != null) && (nBytesRead = din.read(data, 0, data.length)) != -1
                        && isPlaying) {
                    // Skip first startTime seconds
                    if (isPaused == true) {
                        while (isPaused) {
                            Thread.sleep(100);
                        }
                    }
                    line.write(data, 0, nBytesRead);
                    // System.out.println(line.getMicrosecondPosition());
                }

                isPlaying = false;
                // Stop
                if (line != null && din != null) {
                    line.drain();
                    line.stop();
                    line.close();
                    din.close();
                }
            }

        } catch (Exception e) {
            System.out.println("Error!");
            e.printStackTrace();
        } finally {
            if (din != null) {
                try {
                    din.close();
                } catch (IOException e) {
                }
            }
        }
    }
}

@Override
public void play(double startTime) {
    this.startTime = startTime;
    myMP3Player = new MP3Player(startTime);
    MP3Thread = new Thread(myMP3Player);
    MP3Thread.start();

}

public void playthread(double startTime) {

}

@Override
public double getDuration() {
    // TODO Auto-generated method stub
    Long microseconds = (Long) fileFormat.properties().get("duration");
    double milliseconds = (int) (microseconds / 1000);
    double seconds = (milliseconds / 1000);
    return seconds;
}

@Override
public void pause() {
    // TODO Auto-generated method stub
    isPaused = true;
    // MP3Thread.suspend();
    myMP3Player.paused = true;
}

public void unpause() {
    // TODO Auto-generated method stub
    isPaused = false;
    myMP3Player.paused = false;
    // MP3Thread.resume();
}

@Override
public double getCurrentTime() {
    // TODO Auto-generated method stub
    System.out.println(line.getMicrosecondPosition());
    return startTime + (line.getMicrosecondPosition() / 1000);
}

/**
 * Returns the file associated with this MP3
 * @return The mp3 file
 */
public File getFile() {
    return file;
}

public void stop() {
    isPlaying = false;

    pause();
    MP3Thread = null;
    myMP3Player = null;

    isPaused = false;
    isPlaying = false;
    // fileFormat = null;
    MP3Thread = null;
    line = null;
    din = null;
    myMP3Player = null;
    startTime = 0;

    // Stop
    // line.drain();
    // line.stop();
    // line.close();
}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:29:47.460

我对如何操作感到很困惑，但是我重新下载了最新的 SWT，并且它起作用了，尽管我必须`-XstartOnFirstThread`在启动时添加参数或出现`***WARNING: Display must be created on main thread due to Cocoa restrictions.`错误。

# mahout - 创建 mahout 模型时出错

> ID：14151877
> 
> 赞同：4
> 
> 时间：2013-01-04T05:59:01.537
> 
> 标签：mahout

我正在为我的数据训练 mahout 分类器，按照我发出的命令创建 mahout 模型

```
./bin/mahout seqdirectory -i /tmp/mahout-work-root/MyData-all -o /tmp/mahout-work-root/MyData-seq

./bin/mahout seq2sparse -i /tmp/mahout-work-root/MyData-seq -o /tmp/mahout-work-root/MyData-vectors -lnorm -nv -wt tfidf

./bin/mahout split -i /tmp/mahout-work-root/MyData-vectors/tfidf-vectors --trainingOutput /tmp/mahout-work-root/MyData-train-vectors --testOutput /tmp/mahout-work-root/MyData-test-vectors --randomSelectionPct 40 --overwrite --sequenceFiles -xm sequential

./bin/mahout trainnb -i /tmp/mahout-work-root/Mydata-train-vectors -el -o /tmp/mahout-work-root/model -li /tmp/mahout-work-root/labelindex -ow 
```

当我尝试使用 trainnb 命令创建模型时，出现以下异常：

`Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 1 at org.apache.mahout.classifier.naivebayes.BayesUtils.writeLabelIndex(BayesUtils.java:119) at org.apache.mahout.classifier.naivebayes.training.TrainNaiveBayesJob.createLabelIndex(TrainNaiveBayesJob.java:152)`

这里可能是什么问题？

注意：[此处](https://cwiki.apache.org/confluence/display/MAHOUT/Twenty+Newsgroups)提到的原始示例可以正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:55:19.340

我认为这可能是您如何放置培训文件的问题。文件应按以下方式组织：

MyData-全部

\类A

```
 -file1
 -file2
 -... 
```

\类B

```
 -filex 
```

……

# perl - 如何使 Perl 的 Devel::Cover 忽略覆盖范围中的某些行？

> ID：14151880
> 
> 赞同：3
> 
> 时间：2013-01-04T05:59:18.650
> 
> 标签：perl, code-coverage

在某些代码覆盖率工具中，您可以从覆盖率工具中“隐藏”某些代码行，以便这些行不计入覆盖率总数。例如，某些代码可能仅在难以或无法测试的情况下运行（例如某些硬件故障）。因此，即使未执行某些代码，您也可能会报告 100% 的覆盖率。

暂且不说这是否明智，Perl 的这种事情可能`Devel::Cover`吗？

（`Devel::Cover`可以忽略整个*文件*，但我有兴趣忽略单个文件中的几行。）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T21:50:33.950

已经实现了许多可发现的代码功能，但由于我不确定接口，因此没有记录它们。然而，该领域的任何变化已经过去了几年。

了解如何使用这些功能的最简单方法可能是查看发行版中的测试/不可覆盖（请参阅[https://github.com/pjcj/Devel--Cover/blob/master/test/uncoverable](https://github.com/pjcj/Devel--Cover/blob/master/test/uncoverable)）。如果您不能或不想更改代码，您可以使用 .uncoverable 文件（请参阅[https://github.com/pjcj/Devel--Cover/blob/master/tests/.uncoverable](https://github.com/pjcj/Devel--Cover/blob/master/tests/.uncoverable)）和封面工具中提到的选项。

如果您这样做，请务必使用 basic_html 报告，如果您将构造标记为可发现但仍会执行，该报告会将构造标记为错误。

我真的应该把所有东西都整理好并记录下来。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T13:25:28.987

根据 CPAN 上的[TODO 文件](http://cpansearch.perl.org/src/PJCJ/Devel-Cover-0.99/docs/TODO)，目前不支持此功能，但开发人员认为这是一个有价值的补充：

> *   增强功能：
>     *   标记无法访问的代码 - 命令行工具和 gui。

该`cover`脚本提到了有希望的选项：`-add_uncoverable_point`和`-delete_uncoverable_point`.

# jquery - jquery attr（只读）函数不起作用

> ID：14151882
> 
> 赞同：2
> 
> 时间：2013-01-04T05:59:26.640
> 
> 标签：jquery, asp.net

我正在使用 AST.Net 和 jQuery 1.8.3。

我想让文本框的只读属性在页面加载时为真，在脚本运行时为假。我的代码是这样的：

```
 function showdiv() {

    $("#diviv").fadeIn("slow");
    $("#txtname").attr('readonly', false);
    $("#txtmobile").attr('readonly', false);
    $("#txtemail").attr('readonly', false);
} 
```

我想让这三个文本框的只读属性在函数`showdiv`运行时为假。我也在脚本运行时使 div 可见。但这并没有使它成为错误的。请给我一些建议如何让它运行并告诉我问题出在哪里。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-04T09:15:40.683

Readonly 是一个布尔属性，这意味着如果它存在，无论它有什么值，都会被设置。由于属性始终是字符串，因此您将其设置为“false”。改用道具。

```
 $("#txtname").prop('readonly', false); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:01:38.587

尝试这个

```
$("#txtmobile").prop('readonly', false); 
```

或者

```
$("#<%= txtname.ClientID %>").prop('readonly', false); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T06:01:52.040

`readonly`是一个布尔属性，这意味着如果它存在，无论它有什么值，都会被设置。由于属性始终是字符串，因此您将其设置为`"false"`. 改为使用`prop`。

```
$("#txtname").prop('readonly', false); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:05:33.953

您可以在 jquery 中使用 removeAttr 。

```
 $("#txtmobile").removeAttr('readonly'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T06:19:14.993

文本框的`readonly`属性不`true/false`作为值，您只需指定关键字`readonly`，如下所示，

```
<input type="text" id="txtName" readonly /> 
```

现在，要“禁用”此属性，您必须使用 jQuery 的`.removeAttr()`方法将其删除，

```
$("#txtName").removeAttr("readonly"); 
```

[测试链接](http://jsfiddle.net/7HK9s/1/)

# java - Java Class.isAssignableFrom 混淆

> ID：14151883
> 
> 赞同：11
> 
> 时间：2013-01-04T05:59:32.193
> 
> 标签：java, reflection

我发现原始类型问题

```
System.out.println("Integer.class.isAssignableFrom(int.class) = " + Integer.class.isAssignableFrom(int.class));
System.out.println("int.class.isAssignableFrom(Integer.class) = "+int.class.isAssignableFrom(Integer.class)); 
```

这两个语句都向调用者返回 false。所以这似乎拳击在这里不适用。我的问题是我的观察是否正确，或者是否有其他 API 可以正确进行此测试？

--------------------------------跟进---------------- -----------------------------------------

正如我所说，我主要想在使用反射时检查对象是否可分配给字段。我希望该机制在运行时可以更精确，所以我做了一个这样的实现。

```
 public static boolean isAssignableFrom(final Field field, final Object obj) {

        if (field.getType().equals(Integer.class) || field.getType().equals(int.class)) {
            return obj.getClass().equals(Integer.class) || field.getType().equals(int.class);
        } else if (field.getType().equals(Float.class) || field.getType().equals(float.class)) {
            return obj.getClass().equals(Float.class) || field.getType().equals(float.class);
        } else if (field.getType().equals(Double.class) || field.getType().equals(double.class)) {
            return obj.getClass().equals(Double.class) || field.getType().equals(double.class);
        } else if (field.getType().equals(Character.class) || field.getType().equals(char.class)) {
            return obj.getClass().equals(Character.class) || field.getType().equals(char.class);
        } else if (field.getType().equals(Long.class) || field.getType().equals(long.class)) {
            return obj.getClass().equals(Long.class) || field.getType().equals(long.class);
        } else if (field.getType().equals(Short.class) || field.getType().equals(short.class)) {
            return obj.getClass().equals(Short.class) || field.getType().equals(short.class);
        } else if (field.getType().equals(Boolean.class) || field.getType().equals(boolean.class)) {
            return obj.getClass().equals(Boolean.class) || field.getType().equals(boolean.class);
        } else if (field.getType().equals(Byte.class) || field.getType().equals(byte.class)) {
            return obj.getClass().equals(Byte.class) || field.getType().equals(byte.class);
        }
        return field.getType().isAssignableFrom(obj.getClass());
    }

} 
```

这似乎是我能做的最好的-_-！谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-05-11T14:35:37.120

我想，`ClassUtils.isAssignable(Class, Class, boolean)`来自 Apache commons-lang 是可以提供帮助的。

[JavaDoc](http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ClassUtils.html#isAssignable%28java.lang.Class,%20java.lang.Class,%20boolean%29)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-04T06:05:31.433

`int.class`并且`Integer.class`是两个独立的类对象。检查[`this`](https://stackoverflow.com/questions/7082997/does-int-class-equal-integer-class-or-integer-type-in-java)答案以获取更多详细信息

来自 Java 文档[`Class#isAssignableFrom`](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29)

> 确定此 Class 对象表示的类或接口是否与指定的 Class 参数表示的类或接口相同，或者是其超类或超接口。如果是，则返回 true；否则返回false。**如果此 Class 对象表示原始类型，则如果指定的 Class 参数正是此 Class 对象，则此方法返回 true；否则返回false。**

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-04T06:06:43.643

从[文档](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29)中`isAssignableFrom`：

> 此方法测试指定的 Class 参数表示的类型是否可以通过标识转换或扩展引用转换转换为此 Class 对象表示的类型。有关详细信息，请参阅 Java 语言规范，第 5.1.1 和 5.1.4 节。

`Integer`不能通过这种方式分配给一个`int`（反之亦然），因此您的方法将返回 false - 装箱和拆箱是在编译时完成的，而不是在运行时 - 请参阅[本文](http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html)以获取更多信息

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-11-16T09:13:31.420

只是提示，您在上面粘贴的代码中有一个错误。如果你用“field=int.class”调用方法，不管对象是什么类型，方法总是返回true。似乎是复制和粘贴错误；）

```
if (field.getType().equals(Integer.class) || field.getType().equals(int.class)) {
        return obj.getClass().equals(Integer.class) || field.getType().equals(int.class); 
```

更好的是：

```
if (field.getType().equals(Integer.class) || field.getType().equals(int.class)) {
        return obj.getClass().equals(Integer.class) || obj.getType().equals(int.class); 
```

# iphone - 以编程方式使用自动滚动平滑圆形 UIScrollview

> ID：14151884
> 
> 赞同：2
> 
> 时间：2013-01-04T05:59:41.663
> 
> 标签：iphone, objective-c, ios, uiscrollview

有什么方法可以根据自动计时器使 UIScrollview 循环。我在主页上有一些横幅需要显示自动滚动。

我添加了 NSThread 计时器，但是当 uiscroll 视图从最后一个到第一个矩形时，它显示不一致，看起来像跳转。我想让它平滑滚动。

# javascript - 如何从列表框中选择多个值

> ID：14151886
> 
> 赞同：2
> 
> 时间：2013-01-04T06:00:19.587
> 
> 标签：javascript, select, listbox

我有一个下面的代码，如果我选择一个值，它工作正常，但现在我需要这样，当我从列表框中选择多个值时，我必须获取所选值的值。我该怎么做？这是代码，

HTML 代码：

```
<select id="attributeNames" name="attributeNames" size="5" multiple="multiple"         
onchange="getUniqueValues(value)">
<option value="Apple"> Apple </option>
<option value="Mango"> Mango </option>
<option value="Orange"> Orange </option>
<option value="Banana"> Banana </option>                                            
</select> 
```

JavaScript：

```
function getUniqueValues(value){
alert(value);
} 
```

例如：如果我选择 Apple，那么我会收到警报说苹果，现在如果我选择苹果和芒果，我必须获得具有苹果和芒果值的警报。这里面临问题。

这是代码：http: [//jsfiddle.net/5VtE3/2/](http://jsfiddle.net/5VtE3/2/)

提前致谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:14:11.780

如果您不介意使用 jquery，-

```
function getUniqueValues(){  
    var k=0;  
    var selected_list = {};  
    $('#attributeNames option').is(':selected').each(function(){  
        selected_list[k++] = $(this).val();  
        });  
    alert(selected_list);  
    } 
```

或者

```
function getrUniqueValues(){  
    $('#attributeNames option').is(':selected').each(function(){  
        alert($(this).val());  
        });  
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:09:39.320

这是有关如何执行此操作的示例-

HTML -

```
<select id="attributeNames" name="attributeNames" size="5" multiple="multiple">
    <option value="Apple"> Apple </option>
    <option value="Mango"> Mango </option>
    <option value="Orange"> Orange </option>
    <option value="Banana"> Banana </option>                                            
</select> 
```

​JS-

```
window.onload = function () {
    var listbox = document.getElementById('attributeNames');
    listbox.onchange = function () {
        for(var index = 0; index < this.children.length; index++) {        
            if (this.children[index].selected) {
                console.log(this.children[index].value);
            }            
        }
    }​;
}; 
```

[现场演示](http://jsfiddle.net/3jnQs/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:08:30.350

您可能想尝试复选框

```
<input type="checkbox" name="fruit" value="apple">Apple<br/>
<input type="checkbox" name="fruit" value="banana">Banana 
```

或者你应该试着做：

```
<select id="attributeNames" name="attributeNames" size="5" multiple="multiple" onChange="getUniqueValues()" >
  <option value="Apple"> Apple </option>
  <option value="Mango"> Mango </option>
  <option value="Orange"> Orange </option>                                           
</select>

function getUniqueValues(){
var values = this;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:14:09.317

尝试这个：

```
<select id="attributeNames" onchange="getUniqueValues.call(this)" name="attributeNames" size="5" multiple="multiple">
    <option value="Apple"> Apple </option>
    <option value="Mango"> Mango </option>
    <option value="Orange"> Orange </option>
    <option value="Banana"> Banana </option>                                
</select>

function getUniqueValues(){
    for(var i = 0; i < this.options.length; i++){
        if(this.options[i].selected)
            alert(this.options[i].value);
    }
} 
```

jsfiddle：http: [//jsfiddle.net/5VtE3/7/](http://jsfiddle.net/5VtE3/7/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-15T06:30:17.803

```
function getValue(id) {
                    var retval = "";
                    var lstdatabase = document.getElementById(id);
                    for (var i = 0; i < lstdatabase.options.length; i++) {
                        if (lstdatabase.options[i].selected) {
                            if (retval == "") {
                                retval = lstdatabase.options[i].value;
                            }
                            else {
                                retval = retval + ',' + lstdatabase.options[i].value;
                            }
                        }
                    }
                    return retval;
                }
```

# c# - HttpClient 的 PostAsync 方法在 2-3 次超时请求后抛出 Aggregate 异常

> ID：14151891
> 
> 赞同：1
> 
> 时间：2013-01-04T06:00:50.677
> 
> 标签：c#, windows, c#-4.0, windows-8

我正在使用 HttpClient 进行网络请求，它涉及“超时”功能，除了超时功能外，一切正常

当请求被击中 2-3 次时会引发“聚合异常”（例如单击登录按钮并且请求超时）。

我试过“捕捉”异常，但它不起作用。

使用的代码：

```
 try
        {
            HttpClient httpClient = new HttpClient();

           //explicit timeout for testing

           TimeSpan requestTimeout = new TimeSpan(1000);
            httpClient.Timeout = requestTimeout;
            HttpContent httpContent = new StringContent(postJSON);
            httpContent.Headers.ContentType = new MediaTypeHeaderValue("application/json");
            HttpResponseMessage response = null;

            response = await httpClient.PostAsync(url, httpContent);
            if (response != null)
            {
                response.EnsureSuccessStatusCode();
                netResults = await response.Content.ReadAsStringAsync();
                Logger.Log("NetworkRequest:ResponseStream:Json result:" + netResults);
            }

            if (this.convertedType != null)
            {
                MemoryStream assetReader = GetMemoryStreamFromString(netResults);
                assetReader.Position = 0;
                object value = fromJSON(assetReader, this.convertedType);
                networkReqSuccessWithObjectCallback(this, value);
            }
            else
            {
                //Return netResult as string.
                networkReqSuccessWithStringCallback(this, netResults);
            }
        }

        catch (TaskCanceledException)
        {
            ErrorException ee = null;
            ee = new ErrorException("RequestTimeOut");
            NotifyNetworkDelegates(ee);
        }

        catch (WebException we)
        {
            // failure
            ErrorException ee = null;
            ee = ErrorException.fromJSON(we.Message);
            NotifyNetworkDelegates(ee);
        }

        catch (Exception e)
        {
             Do something.
        } 
```

关于这里出了什么问题的任何想法。（使用 C#+XAML+Win8）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:07:17.617

HttpClient 在后台使用 HttpWebRequest。您很可能达到了 HttpWebRequest 的 ServicePoint 的两个并发连接限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-29T14:57:03.863

[![在此处输入图像描述](../Images/0ce12ef5cb5bfffb61ed45b2777aaa1a.png)](https://i.stack.imgur.com/HmhZi.png)

对 package.appxmanifest > Capabilities 进行一些更改后，我遇到了同样的问题

-> 启用 Internet（客户端和服务器）选项

此应用程序工作正常后。

# realbasic - REALbasic：在不同的子类之间共享公共代码

> ID：14151895
> 
> 赞同：2
> 
> 时间：2013-01-04T06:01:14.297
> 
> 标签：realbasic, realstudio

我有两个单独的类（A = BevelButtom 的子类，B = PushButton 的子类）。A 和 B 都以完全相同的方式实现了许多相同的方法。由于两个子类的超类是不同的，并且由于 RB 不支持多重继承，所以我能做的就是将这些方法绑定在一起定义一个类接口，让两个子类都实现该接口，然后复制/粘贴每个子类中的方法体。

这冒犯了我的感情。RB 有没有办法在其他地方提取这种通用逻辑？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:47:07.853

使用模块方法中的[Extends](http://docs.realsoftware.com/index.php/Extends)语法来扩展类接口。您仍然需要使用类接口，但是这样所有的公共代码都可以放在模块中，而不是在多个类中重复。

```
Interface FooInterface
  Sub Foo()
End Interface

Class Foo
Implements FooInterface
  Sub Foo()
    MsgBox("Foo!")
  End Sub
End Class

Class Bar
Implements FooInterface
  Sub Foo()
    MsgBox("Bar!")
  End Sub
End Class

Module FooExtensions
  Sub Foobar(Extends FooImplementor As FooInterface)
    MsgBox("Foobar!")
  End Sub
End Module 
```

上面的 FooBar 方法将像任何实现 FooInterface 类接口的类的类方法一样被调用：

```
Dim myfoo As FooInterface = New Bar
myfoo.Foobar() 
```

请注意，当编译器决定给定类是否满足接口时，扩展方法*不计算在内。*

然而，这可能不可行，因为扩展方法只能访问接口而不是实际的类。

或者，您可以扩展`RectControl`该类，尽管这将包括所有桌面控件，而不仅仅是 PushButton 和 BevelButton。

第三种选择可能是专门使用 BevelButton 类。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T15:42:36.510

使用接口似乎是正确的方法，但与其将方法体复制到每个子类，我认为用公共代码创建一个新类（比如 CommonButtonStuff）更有意义。然后你可以在实现的方法中调用它：

```
CommonButtonInterface
  Sub Method1

Class CommonButtonHandler
  Sub DoMethod1
    MsgBox("Do it!")
  End Sub

Class A Inherits From PushButton, Implements CommonButtonInterface
  Private Property mCommonStuff As CommonButtonHandler

  Sub Constructor
    mCommonStuff = New CommonButtonHandler
  End Sub

  Sub Method1
    mCommonStuff.DoMethod1
  End Sub

Class B Inherits From BevelButton, Implements CommonButtonInterface
  Private Property mCommonStuff As CommonButtonHandler

  Sub Constructor
    mCommonStuff = New CommonButtonHandler
  End Sub

  Sub Method1
    mCommonStuff.DoMethod1
  End Sub 
```

# wordpress - mollom wordpress 插件验证码在 wordpress 中不起作用

> ID：14151897
> 
> 赞同：0
> 
> 时间：2013-01-04T06:01:19.180
> 
> 标签：wordpress

我为我的 wp 网站安装了 mollom wordpress 并像他们说的那样激活了插件..，其他功能正在工作，但验证功能不起作用

这是插件的链接[http://wordpress.org/extend/plugins/wp-mollom/](http://wordpress.org/extend/plugins/wp-mollom/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-09T08:05:19.210

作为插件的作者。我想提供一些有关 Mollom 插件状态的背景信息：稳定版本（v. 0.7.5）已经很长时间没有更新了。但是，WordPress 向后兼容性仍然允许此插件运行。直到最近，我一直在我自己的博客上使用它。

但是，Mollom 服务的情况已经取得了进展。最重要的是：有一个全新的[基于 REST 的 API](http://mollom.com/api)和许多改进。

目前，正在开发一个完全改进的插件版本。可以在 github 上跟踪此新版本的开发 + 文档：

[https://github.com/Mollom/wordpress-mollom](https://github.com/Mollom/wordpress-mollom)

我们很高兴欢迎任何形式的反馈。:-)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:15:08.200

我在我的网站中使用这个插件进行验证码请检查它，它工作正常。如果您想更改验证码插件，请查看此[插件链接](http://wordpress.org/extend/plugins/si-captcha-for-wordpress/screenshots/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-22T16:41:24.993

WordPress 的 Mollom 插件最近已经完全重写和重做——包括一个新的主页： [http ://wordpress.org/plugins/mollom/](http://wordpress.org/plugins/mollom/)

新插件和发布于今天刚刚在[http://daniel.kudwien.net/2013/07/stop-blog-spam-on-wordpress/上宣布](http://daniel.kudwien.net/2013/07/stop-blog-spam-on-wordpress/)

正如[常见问题解答](http://wordpress.org/plugins/mollom/faq/)所阐明的，您的主题需要使用 WordPress 核心 API 功能来打印评论表：

```
<?php comment_form(); ?> 
```

这将调用所需的挂钩回调，Mollom 插件正在使用该回调将 CAPTCHA 和其他元素添加到评论表单中。该功能是在 WordPress 3.0 中引入的。

`comment_form()`通过查看 WordPress 附带的默认主题，您可以找到有关如何以及在何处使用该功能的示例；例如，*二十一十二*主题（但也更早）。

# iframe - 使用 video.js 时，为什么全屏按钮在 iframe 中不起作用？

> ID：14151899
> 
> 赞同：8
> 
> 时间：2013-01-04T06:01:21.193
> 
> 标签：iframe, fullscreen, video.js

我使用 video.js 进行视频播放。*不*使用 iframe时，单击全屏按钮按预期工作。但是，当使用 iframe 时，全屏按钮不起作用。为什么是这样？

video.js 的主页是[http://videojs.com/](http://videojs.com/)

iframe页面的代码是：

```
<!DOCTYPE html>
<html>
<head>
  <title>Demo</title>
  <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
</head>
<body>
  <iframe src="sco01-m.htm" id="cw" name="cw" width="100%" height="1000px;"        scrolling="no" frameborder="0"></iframe>
</body>
</html> 
```

sco01-m.htm页面的代码是：

```
<!DOCTYPE html>
<html>
<head>
  <title>Demo</title>
  <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
  <link href="http://vjs.zencdn.net/c/video-js.css" rel="stylesheet">
  <script src="http://vjs.zencdn.net/c/video.js"></script>
<body>
  <div align="center">
    <video id="my_video_1" class="video-js vjs-default-skin" controls
      preload="auto" width="800" height="600" poster="1.jpg"
      data-setup="{}">
      <source src="A-2-4.mp4" type='video/mp4'>
      <source src="oceans-clip.webm" type='video/webm'>
    </video>
  </div>
</body>
</html> 
```

sco01-m.htm 页面可以使用全屏按钮，但是 iframe 页面不能使用。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-04T08:36:32.807

根据[W3 规范，](http://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html#security-and-privacy-considerations) *“只有通过`allowfullscreen`HTML iframe 元素的属性特别允许的嵌入内容才能全屏显示。这可以防止不受信任的内容全屏显示。”*

虽然浏览器对全屏的支持仍处于试验阶段，但您需要使用 Webkit 和 Mozilla 特定的属性`webkitallowfullscreen`，并且`mozallowfullscreen`：

```
<iframe … allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"> 
```

在不支持全屏 API 的浏览器（例如[Internet Explorer 10 和更低](https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode?redirectlocale=en-US&redirectslug=DOM%2FUsing_full-screen_mode#AutoCompatibilityTable)版本）上，全屏将无法工作。为了在这些浏览器中接近全屏，video.js 播放器会展开以填充浏览器窗口。但是，当播放器在 iframe 中时，它不能比 iframe 大。

如果有多个嵌套的 iframe，**所有**的父 iframe 也需要这些属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-26T13:46:27.853

如果您使用的是`iframe`.

```
allowfullscreen="true"

webkitallowfullscreen="true"

mozallowfullscreen="true" 
```

例如：

```
< iframe src="url" frameborder="0" width="100%" height="100%" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"> 
```

这将解决问题:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T22:13:29.450

[http://standupcomedy.me/tutorials/increaseplayersize](http://standupcomedy.me/tutorials/increaseplayersize) 使用 iframe，您可以将视频放置在 640x315 等浏览器中的固定边界内。在某些浏览器上，无论发生什么情况，周长都将保持 640x360。如果您有耐心为 1 个视频创建 2 个 html 页面，那么在所有浏览器上都有解决此问题的方法。创建一个完全相同的 html 页面并将其命名为 sco01-mlargeplayer.html。在大型播放器页面中，设置具有较大宽度和高度周长的 vid。现在在 /video 标签之后的原始页面播放器代码下实现一个外部链接按钮，该按钮打开一个新页面，读取类似“增加播放器大小”的内容。如果您不介意使用嵌入视频页面的人员，请使用 target="_parent" 属性在同一窗口中打开新页面。如果您想打开一个新页面，请阅读页面下方的“Google Chrome 标签说明”。

```
<!DOCTYPE html>
<html>
<head>
<title>Demo</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link href="http://vjs.zencdn.net/c/video-js.css" rel="stylesheet">
<script src="http://vjs.zencdn.net/c/video.js"></script>
<body>
<div align="center">
<video id="my_video_1" class="video-js vjs-default-skin" controls
  preload="auto" width="800" height="600" poster="1.jpg"
  data-setup="{}">
  <source src="A-2-4.mp4" type='video/mp4'>
  <source src="oceans-clip.webm" type='video/webm'>
</video>
<a href="http://standupcomedy.me/woggie/demoplayer"target="_parent">Increase PlayerSize</a> 
</div>
</body>
</html> 
```

如果您想在新页面中打开 - 谷歌 Chrome 浏览器很棘手。 [http://code.google.com/p/chromium/issues/detail?id=106780](http://code.google.com/p/chromium/issues/detail?id=106780) -“谷歌浏览器标签”的问题不在新标签中播放重复的视频。 - 让相同的视频在 2 谷歌浏览器中播放第二页在新选项卡中打开时的选项卡：更改第二页 sco01-mlargeplayer.html 上源视频的顺序。这样，Chrome 就会将视频识别为新视频。

```
Embedded player video source:
<source src="A-2-4.mp4" type='video/mp4'>
<source src="oceans-clip.webm" type='video/webm'>

New page video source
<source src="oceans-clip.webm" type='video/webm'>
<source src="A-2-4.mp4" type='video/mp4'> 
```

我正在开发一个播放器控制系统，该系统可与所有 html5 播放器一起用于踢球并在我的网站上播放视频。您可以在此处嵌入一个演示，该演示将在我处理它时进行更新。我称之为 Woggie 播放器.

```
 <iframe width="610" height="420" src="http://standupcomedy.me/woggie/movie" frameborder="0" allowfullscreen="true"  mozallowfullscreen="true" webkitallowfullscreen="true"></iframe> 
```

# javascript - Socket.IO 广播到特定数量的客户端

> ID：14151900
> 
> 赞同：1
> 
> 时间：2013-01-04T06:01:27.887
> 
> 标签：javascript, node.js, socket.io

我不知道是否有可能实现这一点，但我想向特定数量的客户发送消息。

例如，假设我有 100 个客户端连接到我的服务器。并且我想以这样一种方式发送消息，即 100 个客户端中只有 10 个（应该能够在消息中指定）应该接收到消息并且不接收，甚至丢弃它。

就像网络数据包的 TTL 值一样。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:57:17.077

Use rooms for that. When a client connect join him into a room. Then you can emit to that room.

See this link for details: [https://github.com/LearnBoost/socket.io/wiki/Rooms](https://github.com/LearnBoost/socket.io/wiki/Rooms)

# c++ - 为什么显式模板实例化的位置很重要

> ID：14151901
> 
> 赞同：6
> 
> 时间：2013-01-04T06:01:29.757
> 
> 标签：c++, templates, explicit

假设我声明了一个模板`A`类`a.h`

```
#include <iostream>

template<bool b>
class A { 
public:
  void print(std::ostream& out);
}; 
```

并在中定义 print 方法（使用and`a.cpp`的显式实例化）`true``false`

```
#include "a.h"

template<bool b>
void A<b>::print(std::ostream& out) {
  out << "A" << b;
}

template class A<true>;
template class A<false>; 
```

一个示例主程序`main.cpp`可以是

```
#include "a.h"

int main() {
  A<true> a;
  a.print(std::cout);
} 
```

上面的小项目编译得很好。

**问题**：如果我将显式实例化置于`print`方法定义之上（in 中`a.cpp`），代码将不再编译，并出现通常的`undefined reference to A<true>::print(...)`错误。

```
#include "a.h"

template class A<true>;
template class A<false>;

template<bool b>
void A<b>::print(std::ostream& out) {
  out << "A" << b;
} 
```

为什么会这样？

**编辑**：要编译的 Makefile

```
main : main.o a.o
    g++ main.o a.o -o main

main.o : main.cpp
    g++ -c main.cpp

a.o : a.cpp 
    g++ -c a.cpp 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-04T06:16:55.773

我不认为有一个很好的*自然*解释为什么会这样。显然，编译器可以看到成员函数的定义，即使它是在显式实例化之后提供的——因为它位于同一个文件中。

但是，编译器不需要这样做；事实上，标准明确禁止它：

> （第 14.7.2/9 节）命名类模板特化的显式实例化定义显式实例化类模板特化，并且是仅在实例化点已定义的那些成员的显式实例化定义。

我想这其中的原因包括以下几点：

*   *翻译单元后面的一些*成员函数可能有几个不同的显式特化；为了程序员的利益，有一个明确的规则来说明哪些将被实例化是有道理的；

*   当模板被*隐式*实例化时，只考虑在实例化点之前定义的特化；因此对于隐式和显式实例化规则是相同的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:06:39.750

```
template class A<true>;
template class A<false>; 
```

与通常期望在标头本身中定义模板代码的原因**相同。**要执行显式实例化，您（编译器）需要能够查看模板类**的完整定义**`main.cpp`，而您的.

但是`a.cpp`可以访问类的所有定义（这里是 print 方法），所以显式实例化在那里工作。

# sql-server - 通过忽略值字段中的前五位数字来更新列

> ID：14151904
> 
> 赞同：0
> 
> 时间：2013-01-04T06:01:48.933
> 
> 标签：sql-server, sql-update, insert-update

如何通过忽略值字段中的几个数字来更新列。
例如，我`BKIH-10A`在列中有值`SECTION-ID`。
我只想`10A`在那个领域，我怎样才能`BKIH-`从那个领域中删除。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:06:47.393

尝试这个 ：-

```
Declare @SECTION_ID varchar(20)
Set @SECTION_ID='BKIH-10A'
Select substring(@SECTION_ID,charindex('-',@SECTION_ID)+1,len(@SECTION_ID))

Result 
10A 
```

我假设您想要符号中的字符 `-`

或者

如果您可以硬编码子字符串表达式中起始字符串的位置

```
 substring(SECTION_ID,6,len(SECTION_ID) 
```

# android - 如果单独运行，Android 应用程序不会在真实设备上运行，但如果附加到系统（调试模式或运行模式），则可以在模拟器和设备上运行

> ID：14151913
> 
> 赞同：0
> 
> 时间：2013-01-04T06:02:14.813
> 
> 标签：android, service, handler, runnable

我真的很无奈，为什么我的应用程序会这样，以及如何弄清楚到底出了什么问题。

**AIM** :-`service`在用户登录后在后台运行（实际上完成`login activity`并启动 a `service`），然后根据某些条件从`service`.

**问题**：-如果我在调试模式或运行模式下在模拟器上运行此应用程序，那么如果通过连接电缆使用调试模式在手机上运行它，它会再次正常工作，当我断开电缆并从手机上启动它时会出现问题跳过所有条件并且不生成活动，我可以看到服务正在运行。

**测试**：-我已经在所有可能的模拟器上测试了它，没有任何失败。在我已经在*4.0.4 ICS*`2.3.6 Gingerbread`上测试过的设备上，它在两部手机上都失败了

 *我在用什么：-

```
android:minSdkVersion="8"
android:targetSdkVersion="16" 
```

服务 Runnables + Handlers 在特定时间间隔从服务中打开活动..

**代码 ：-**

**服务.java**

```
public class EgbaService extends Service {

@Override
public IBinder onBind(Intent intent) {
    // TODO Auto-generated method stub
    return null;
}

@Override
public void onCreate() {
    super.onCreate();

    ActivityInstances_VO.setApplication(getApplication());
    ActivityInstances_VO.setContext(getBaseContext());

    new EgbaTimerTask();

}

@Override
public void onDestroy() {
    super.onDestroy();
    Toast.makeText(this, "Service destroyed...", Toast.LENGTH_LONG).show();
} 
```

**TimerTask.java**

```
public class EgbaTimerTask  {

    //private CloseApplicationTask mCloseApplicationTask = null;

    private SQLHelper helper = null;

    public static boolean requestAdvertisementRun =false;
    private boolean requestMaintainApplicationRun =false;

    private long intervalcalculateTimeSpent = 60000;
    private long intervalShowAdvertisements = 0;

    private int TimeSpent = 0 ;

    private Handler handlerShowAdvertisements = new Handler();
    private Handler handlerCalculateTimespent = new Handler();

    Context mycontext;
    Activity myactivity;
    Application myapp;  

    public EgbaTimerTask()
    {
        this.mycontext=ActivityInstances_VO.getContext();
        this.myapp=ActivityInstances_VO.getApplication();
        this.intervalShowAdvertisements=Advertisements_VO.getInterval() * 60000;
        this.requestAdvertisementRun=true;
        this.requestMaintainApplicationRun=true;
        initializeDatabase();
        startTimerTask();

    }

    private void initializeDatabase() {
        // TODO Auto-generated method stub
        helper=new SQLHelper(mycontext);

        try{
            helper.createDataBase();
        }catch (IOException ioe) {
            throw new Error("Unable To Create Database");
        }
        try{
             helper.openDataBase();
        }catch (SQLException sqle) {
            throw sqle;
        }
    }

    public void startTimerTask()
    {
        handlerCalculateTimespent.postDelayed(runnablehandlerCalculateTimespent, intervalcalculateTimeSpent);
        handlerShowAdvertisements.postDelayed(runnableShowAdvertisements, intervalShowAdvertisements);
    }

    private Runnable runnableShowAdvertisements = new Runnable() {
       @Override
       public void run() {
          /* do what you need to do */
           //android.os.Debug.waitForDebugger();

           if(requestAdvertisementRun)
           {

           ShowAdvertisementActivity();
          /* and here comes the "trick" */

            handlerShowAdvertisements.postDelayed(this, intervalShowAdvertisements);
            //Log.i("Who's Running", "Running ShowAdvertisement");

           }
            /* if(i >= 4)
             {   

                 Log.i("Value of i inside check", String.valueOf(i));                 
                 handlerShowAdvertisements.removeCallbacks(runnableShowAdvertisements);
             }*/

       }
    };

    private Runnable runnablehandlerCalculateTimespent = new Runnable() {
           @Override
           public void run() {
              /* do what you need to do */
              /* and here comes the "trick" */

               if(requestMaintainApplicationRun)
               {               

                handlerShowAdvertisements.postDelayed(this, intervalcalculateTimeSpent);
                Log.i("Who's Running", "Calculating Time Spent by User"+String.valueOf(TimeSpent));
                TimeSpent++;
                //android.os.Debug.waitForDebugger();
                if(Registration_VO.getaccount_life()- TimeSpent == 5)
                {
                    Intent i=new Intent(mycontext,NotifyExpirationActivity.class);
                    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                    myapp.startActivity(i);
                    requestAdvertisementRun=false;
                }

                if(Registration_VO.getaccount_life()- TimeSpent == 3)
                {
                    Intent i=new Intent(mycontext,NotifyExpirationActivity.class);
                    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                    myapp.startActivity(i);
                }
                //android.os.Debug.waitForDebugger();
                if(Registration_VO.getaccount_life()- TimeSpent == 0)
                {
                    try
                    {
                        boolean ifSubmitted= false;
                        //check for admin authentication
                        helper.updateUserAccountLifeLeft(Registration_VO.getphoneNo(),0);

                        InternetControl.DisableInternet();
                        stopServicefunction();

                        requestAdvertisementRun=false;
                        requestMaintainApplicationRun=false;
                        handlerShowAdvertisements.removeCallbacks(runnableShowAdvertisements); 
                        handlerCalculateTimespent.removeCallbacks(runnablehandlerCalculateTimespent);

                    }
                    catch(SQLException e)
                    {
                        Log.e("EgbaTimerTask", e.toString());
                    }

                }
               }
           }
        };

        public void stopServicefunction()
        {
            Intent serviceIntent = new Intent();
            serviceIntent.setClass(mycontext, EgbaService.class);
            myapp.stopService(serviceIntent);
        }   

    public void ShowAdvertisementActivity()
    {
        Intent dialogIntent = new Intent(mycontext, ShowAdvertisementActivity.class);
        dialogIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        myapp.startActivity(dialogIntent);

    } 
```

**笔记**

*   runnable 在 1 分钟后运行。
*   这个类有两个runnable，都根据条件打开不同的activity
*   服务启动 timertask 来做所有需要的事情*

# python - python脚本访问winscard.dll

> ID：14151919
> 
> 赞同：1
> 
> 时间：2013-01-04T06:02:40.923
> 
> 标签：python, pointers, ctypes, loadlibrary, winscard

大家好我正在编写一个python脚本来访问windows的winscard.dll。

```
lib = cdll.LoadLibrary('winscard.dll')
hSC = c_long(0)
lRetval = lib.SCardEstablishContext(0,None,None,pointer(hSC)) 
```

以上返回值错误如下

```
Traceback (most recent call last):
  File "C:\Documents and Settings\sbritto\Desktop\OpenSSL\python\test.py", 
  line 17, in <module>
    lRetval = lib.SCardEstablishContext(0,None,None,pointer(hSC))
ValueError: Procedure called with not enough arguments (16 bytes missing) or 
wrong calling convention 
```

这种情况下的值错误表示参数错误。但我不知道还有什么可以作为输入来使它工作，我尝试了几种输入组合。

谢谢你们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T14:00:14.377

您对 DLL 使用了错误的调用约定：

```
lib = ctypes.WinDLL("winscard")
handle = ctypes.c_voidp()
lib.SCardEstablishConnection(0, None, None, ctypes.pointer(handle))
# returns 0, all is good
handle
# c_void_p(some address), handle got created 
```

PS确保`Smart Card`服务已启动。否则你会得到一个神秘的错误代码。

# encryption - 加密和解密数据集

> ID：14151924
> 
> 赞同：0
> 
> 时间：2013-01-04T06:03:15.530
> 
> 标签：encryption, rijndael

我正在将数据加载到 SQL Server 的数据集中。现在我希望这些数据以加密形式写入 XML 文件并将其保存在磁盘中的某个位置。

在将此 XML 读入数据集时，我想再次加密数据集。

我已经使用“ **RijndaelSimple**类来加密和解密数据集，但是它需要很长时间才能完成执行，因为它在数据集中逐行执行。我在数据集中有大约 50000 行。

还有其他选择我必须随时随地加密和解密数据集吗？

# subdomain - 设置一个无 cookie 的子域

> ID：14151926
> 
> 赞同：3
> 
> 时间：2013-01-04T06:03:18.410
> 
> 标签：subdomain, cdn, cookieless, cloudflare

以前我从这两个文件夹中为我的网站 (http://example.com) 提供图像：[http](http://example.com/images) ://example.com/images和[http://example.com/pics](http://example.com/pics)

现在我创建了一个子域 img.examole.com 并将这些文件夹移动到[http://img.example.com/pics](http://img.example.com/pics)和[http://img.example.com/images](http://img.example.com/images)位置。我还通过编辑 .htaccess 文件阻止了对[http://example.com/img](http://example.com/img)文件夹的访问，这样子域就不能作为主站点的目录访问。它只能作为[http://img.example.com访问](http://img.example.com)

如何使这个[http://img.example.com](http://img.example.com)子域成为少 cookie 的子域？或者我可以将此[http://img.example.com](http://img.example.com)子域添加到 cloudflare 吗？我不想将主域[http://example.com](http://example.com)添加到云闪现。当我尝试从我的 CPanel 将[http://example.com](http://example.com)添加到云耀斑时，它显示：

类型记录不能直接通过 CloudFlare 网络路由。相反，请单击此处并切换 img.example.com 的类型。到 CNAME

我在所有文章中都将图像位置更改为[http://img.example.com/pics 。](http://img.example.com/pics)如何解决这个问题？请帮助..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:18:54.490

无 cookie 并由 CDN 提供服务是域的不相关属性。

要为您的网站制作一些域 cookie，您根本不应该设置在该域上可见的 cookie，并确保您在您的网站上使用的任何其他第三方代码都不会这样做。

避免来自 example.com 的 cookie 在子域上不可见通常是不方便的（通常站点从两个位置 www.example.com 和 example.com 提供服务）。如果您可以只在 example.com 上使用 cookie - 请确保所有 set-cookie 标头都指定确切的域（“example.com”而不是“.example.com”），这样 cookie 在任何子域上都不会可见。另一种选择是将主站点移动到子域并在那里设置 cookie（即 www.example.com），而不是再次 cookie 不会“泄漏”到兄弟子域（即“img.example.com”）

将静态内容托管在完全独立的域名上可能是更好的主意 - 更容易控制 cookie 并可能为 CDN 提供更多可能性（即，在某些情况下，来自 CDN 的 HTTPS 流量可能需要对自定义域和 CDN 提供的域进行不同的操作）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-07T18:37:28.663

浏览器将以不同的方式查看 example.com 和 www.example.com。如果您在 example.com 上设置 cookie，那么它将在对 www.example.com 和 cookie-free.example.com 的请求中查找它们，我希望这就是您无法获得无 cookie 子域的原因（因为顶级有饼干）。最佳做法是使用 www.example.com 作为您的站点，并在其中设置 cookie，然后如果您使用 cookie-free.example.com（另一个子域，如 www），它将没有自上而下查找的 cookie浏览器。

有关详细信息，请参阅[http://developer.yahoo.com/performance/rules.html#cookie_free](http://developer.yahoo.com/performance/rules.html#cookie_free)。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-12-02T06:27:05.297

正如其他人所说，这里有两个不同（但相关）的问题：

1.  配置服务器/应用程序以提供来自无 cookie 子域的资产
2.  利用 CloudFlare 交付静态资产。

对于问题 #1，您需要确保没有将 cookie 分配给整个域（这就是建议使用 www. 的原因）。这里有关于如何做到这一点的很好的信息： [从无 Cookie 域提供静态内容](http://www.ravelrumba.com/blog/static-cookieless-domain/)和这里：从无[Cookie 子域提供静态内容的 4 个步骤](http://reginaldchan.net/serving-static-content-from-cookieless-subdomain/)- 这两篇文章也解决了关于“COOKIKE_DOMAIN”设置的 WordPress 问题。

本质上，您需要确保 Google Analytics 和 WordPress 等应用程序不会在域级别设置 cookie，而是将它们限制在 www 子域。

对于问题 #2，CloudFlare 自己声明他们将 cookie 分配给每个静态请求：

> CloudFlare 将向我们的服务代理的任何域或子域添加一个安全 cookie。此外，由于默认情况下 CloudFlare 已经缓存了您的静态内容，因此确实不需要无 cookie 域。

[KB - 我可以通过 CloudFlare 提供无 cookie 域或子域吗？](https://support.cloudflare.com/hc/en-us/articles/200169816-Can-I-serve-a-cookieless-domain-or-subdomain-through-CloudFlare-)

# c - 如何以更快、更准确的方式解决这个问题？

> ID：14151927
> 
> 赞同：3
> 
> 时间：2013-01-04T06:03:21.077
> 
> 标签：c, algorithm, dynamic-programming, greedy

这是问题：

> 拉穆是个懒惰的农民。他从父亲那里继承了一个相当大的农场和一所漂亮的房子。拉木将农田出租给他人，收入颇丰。他的父亲曾经在家里养一头水牛并卖掉它的牛奶，但水牛在他父亲死后几天就死了。
> Ramu 也想从水牛身上赚点钱，但方式完全不同。他决定他的未来在于投机水牛。在他村里的市场上，每天都有水牛买卖。价格在一年中波动，但在任何一天，价格总是一样的。
> 他决定在价格低的时候买水牛，在价格高的时候卖掉它们，在这个过程中积累大量的财富。不幸的是，他的房子只能容纳一头水牛，因此他在任何时候最多只能拥有一头水牛。
> 在他进入水牛市场之前，他决定检查一下过去几天水牛价格的变化，并确定他可以赚取的最大利润。假设，过去 10 天一头水牛的价格变化如下：
> 
> 10 12 8 11 11 10 12 15 13 10
> 
> Ramu 是一个懒惰的家伙，他估计在过去的 10 天内他最多愿意去市场 5 次（每次要么买卖一头水牛）。鉴于此，他可以赚取的最大利润是 9 卢比。为此，他在第 1 天买了一头水牛，第 2 天卖出，第 3 天再买一头，第 8 天卖出。如果他不那么懒惰，愿意去市场 6 次，那么他本可以赚更多的钱。他本可以在第 1 天买入，在第 2 天卖出，在第 3 天买入，在第 4 天卖出，在第 6 天买入并在第 8 天卖出，以赚取 10 卢比的利润。
> 你的任务是帮助 Ramu 计算他通过投机水牛可以赚取的最大金额，给定一段时期内每日水牛价格的历史记录以及 Ramu 在此期间愿意进入市场的次数的限制。
> 
> 输入格式 输入
> 的第一行包含两个整数 N 和 K，其中 N 是价格数据可用的天数，K 是 Ramu 愿意访问牛市的最大次数。接下来的 N 行（第 2、3、...、N+1 行）每行都包含一个正整数。第 i+1 行的整数 1 ≤ i ≤ N，表示水牛在第 i 天的价格。
> 
> 输出格式
> 一个单一的非负整数，表示如果 Ramu 最多 K 次进入市场，他可以赚取的最大利润。
> 您可以假设 N ≤ 400 和 K ≤ 400。
> 时间限制 = 3 秒。

如果我们没有约束 k，我们可以使用贪心方法解决这个问题，

```
 while c < N
   i = c
   while price[day i] > price[day i+1] increment i;
   j = i+1
   while price[day j] < price[day j+1] increment j;
   add price[day j] - price[day i] to out profit
   c = j+1 
```

但是我们不能在这里使用它，因为是否在特定日期访问取决于我们访问了多少天。这是我尝试过的

```
 //Store all the pairs generated in the previous algorithm in a linked list L, each
 //element has two attributes buy,sell
 while length of L > k/2
       find an element i in the list such the (L[i].sell- L[i-1].buy) - 
       (L[i-1].buy - L[i-1].sell) - (L[i].buy - L[i].sell) is maximized.
       Then set L[i-1].sell to L[i].sell and delete i from the list 
```

这是在线法官的一个问题，当我提交它时，我的一些测试用例超出了时间限制，一些测试用例的答案错误，只对一个测试用例进行了更正。

我的方法有什么问题，它怎么会变慢，因为它需要大约 O(NK) 时间，其中 N 和 K < 400。
如何改进我的算法以正确解决问题？

编辑：这不是家庭作业，我在这里发现了这个问题：http: [//opc.iarcs.org.in/index.php/problems/BUFFALOES](http://opc.iarcs.org.in/index.php/problems/BUFFALOES)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-05T23:49:06.173

我没有仔细分析过，但在我看来，你对懒惰的农民的想法有点过于贪婪了。我很难想象你的链表，或者它上面的操作。

我认为考虑这个问题的一个好方法，而不用担心效率，就是把它转换成一个图表，每天都是图表中的一个节点。

如果我们有一个勤奋的交易者愿意尽可能频繁地访问市场，它看起来像下面的图 1，我在你的例子的前几天取了这个例子。图中从每一天到每一天都画出弧线*，*弧线的权重如下：

*   连续的日子*必须*有一条弧线——要么用买入的利润加权，然后在第二天卖出，要么（如果这样的活动是亏损）加权为零
*   如果利润为正，非连续的日子只需要弧线。（虽然您可以为非盈利货币对绘制零权重弧线，但我已将它们隐藏在下方，以便图表可读。）

该图需要 O(N^2) 比较/减法来创建。一旦有了这张图，为农民找到最佳计划就相当于通过图找到最长的路径（例如，从第一天到最后一天弧值总和最大的路径）。通常，找到通过图的最长路径是 NP-Complete，但在这种情况下，我们有一个有向无环图——您可以简单地否定所有边权重，并使用 Dijkstra 算法在多项式时间内找到最短路径。

![图 1：非懒惰的农民](../Images/204939f062c15a34327dcfee6d344f58.png)

要对付懒惰的农民，您需要调整此图结构，使其“计算”非零弧。我们通过使图表更大来做到这一点。大了很多。如果农民愿意去市场进行 k 次旅行，他有 floor(k/2) 个买/卖对。让我们称这个数字为 X，然后每 X+1 次绘制图中的节点。

同一行中的每个连续弧（无论当天的利润如何）的权重为 0。正长度的弧被重定向到下面的行。图 2 显示了如果农民愿意去市场 4 次，总共有 2 个买入/卖出机会，情况会怎样。您还可以从每行的末尾免费添加一个虚拟“终端节点”。

您可以看到，通过确保每个获利机会从一行移动到另一行，这“计算”了利润弧，并且永远不会有机会多次使用同一行。同样，您可以找到找到正确答案的最长路径；并且该图再次是有向无环的，因此可以将其转换为最短路径问题并在多项式时间内求解。

坏消息是，节点和弧数已大大增加。如果 k=N，你可能有 O(N^2) 而不是 N 个节点。同样，不是 O(N^2) 弧，而是 O(N^3)。

![图 2：懒惰的农夫](../Images/9c40915f6236005547295d714ddd340b.png)

通过将问题转换为网格，您可以在时间和空间上做得更好，类似于最长公共子序列问题，但这至少说明了问题的结构。

# linux - 查找 nohup 命令运行的进程

> ID：14151928
> 
> 赞同：10
> 
> 时间：2013-01-04T06:03:23.897
> 
> 标签：linux, process, background, ps, nohup

我使用以下命令在 Centos 中运行服务器可执行文件`"nohup server &"`。现在我需要终止进程`"server"`。但是我尝试`"ps -a"`了命令来获取`PID`但我无法获取该过程。现在怎么杀了`"server"`现在？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-04T06:11:29.413

`ps auxwww|grep -i 'server'`应该返回其中包含的所有进程`server`。否则，服务器可能已经停止。

您应该能够确定 PID（并将其存储在文件中），如下所示：

```
nohup server &
print $! >> my_server.pid 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2014-08-20T15:44:20.317

如果创建了 nohup.out 文件，您可以在 bash 中运行：

```
# lsof nohup.out 
```

它将返回创建/正在运行文件的 pid

最好的祝福！

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-04T07:09:15.160

没有明确的方法可以在`ps`命令的帮助下捕获确切的过程，但您可以使用以下命令：

```
ps -a | grep "server" 
```

您将获得以“服务器”名称运行的所有进程的列表

或者，您也可以使用任何其他关键字来 grep ps 输出。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T06:09:36.420

在 centos 中启动服务器的最佳方式是使用 service 命令。

所以 `service httpd start`

您可能希望将程序编写为守护进程

> 守护程序（或服务）是一个后台进程，旨在自主运行，几乎不需要用户干预。Apache Web 服务器 http 守护程序 (httpd) 就是这样的守护程序示例之一。它在后台等待侦听特定端口，并根据请求的类型提供页面或处理脚本。

见[http://www.netzmafia.de/skripten/unix/linux-daemon-howto.html](http://www.netzmafia.de/skripten/unix/linux-daemon-howto.html)

# orientation - android活动方向改变整个应用程序方向

> ID：14151930
> 
> 赞同：1
> 
> 时间：2013-01-04T06:03:55.443
> 
> 标签：orientation, landscape, portrait

我已将活动 1 的方向设置为纵向。现在，当我从活动 1 开始活动 2 时，我的第二个活动方向变为纵向，并且不会变为横向。任何建议一定是错的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:07:06.173

每当您旋转屏幕时，在您的清单文件中添加以下内容会改变

```
<activity
            android:name=".Login"
            android:configChanges="keyboardHidden|orientation"

            >
        </activity>

android:screenOrientation=["unspecified" | "user" | "behind" |
                                     "landscape" | "portrait" |
                                     "reverseLandscape" | "reversePortrait" |
                                     "sensorLandscape" | "sensorPortrait" |
                                     "sensor" | "fullSensor" | "nosensor"] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:08:32.767

将此属性设置为清单中的第二个活动 android:screenOrientation="landscape"

[http://developer.android.com/guide/topics/manifest/activity-element.html](http://developer.android.com/guide/topics/manifest/activity-element.html)

# objective-c - 核心数据结构问题

> ID：14151934
> 
> 赞同：0
> 
> 时间：2013-01-04T06:04:07.497
> 
> 标签：objective-c, ios, database, xcode, core-data

我是 Core Data 的新手，我不知道如何为我的数据库建立正确的结构。

我有两个实体：**bank**和**person**。

我认为应该使用多对多的关系，因为会有很多银行，每个人都会在几家银行有账户。

*银行 #1： 1.John 2.Andrew 3.Nick*

*银行 #2：1.Andrew 2.Nick 3.John*

*银行#3：1.Nick 2.Henry*

正如我们所见，**银行**#1 有很多**人**。还有**人安德鲁在几家****银行**都有账户。

问题是：如何实现这样的结构，其中每**家银行的****人员**顺序很重要，我们不知道**银行**/**人的确切数量**

 ******* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:07:48.557

```
Bank  <<-- Account -->> Person 
```******

# python - 这个排序函数的算法复杂度是多少？

> ID：14151936
> 
> 赞同：2
> 
> 时间：2013-01-04T06:04:26.637
> 
> 标签：python, sorting, complexity-theory

我在玩乐高积木时设计了以下排序算法，其理念是始终将较小的部分堆叠在较大的部分之上，直到您遇到一个不适合堆栈两端的部分。

我最初的印象是，它的最佳情况是 O(n)，最坏情况是 O(n^2)，因为它类似于链排序，但是自从我在大学里做过算法分析以来已经很久了我不知道它的平均行为是什么。看起来它应该比链排序的平均 O(n^2) 更好，但我不知道如何证明它或它是什么。

我的实现使用链表来允许在两端插入，但双端队列也可以。以下为方便描述的 Python 代码，但 C++ 版本效率更高。

```
import math

def merge(x, y):
    output = []
    xp = 0
    yp = 0
    if len(y) == 0 or len(x) == 0 or y[0] > x[-1]:
        return x + y
    elif x[0] > y[-1]:
        return y + x
    while xp < len(x) and yp < len(y):
        if x[xp] < y[yp]:
            output.append(x[xp])
            xp = xp + 1
        else:
            output.append(y[yp])
            yp = yp + 1
    if xp < len(x):
        output = output + x[xp:]
    elif yp < len(y):
        output = output + y[yp:]
    return output

def treeMerge(heads, accum):
    currHead = 0
    while heads[currHead] is not None:
        accum = merge(heads[currHead], accum)
        heads[currHead] = None
        currHead = currHead + 1
    heads[currHead] = accum
    return heads

def legoSort(input):
    heads = [None] * int(math.log(len(input), 2) + 1)
    accum = []
    for i in input:
        # can be <= for speed at the cost of sort stability
        if len(accum) == 0 or i < accum[0]: 
            accum.insert(0,i)
        elif i >= accum[-1]:
            accum.append(i)
        else:
            heads = treeMerge(heads, accum)
            accum = [i]
    for i in heads:
        if i is not None:
            accum = merge(accum, i)
    return accum 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:12:49.610

研究用未知语言编写的未知代码是相当无聊的。您宁愿在分析结束时在这里[http://en.wikipedia.org/wiki/Merge_sort找到它](http://en.wikipedia.org/wiki/Merge_sort)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:24:16.310

看起来你有类似于 timsort 或自然合并的东西。

# checkout - 使用 Shopify 充电瓶存款

> ID：14151939
> 
> 赞同：0
> 
> 时间：2013-01-04T06:04:45.123
> 
> 标签：checkout, shopify

我对 Shopify 相对缺乏经验，所以我希望这样做不会太难。

我正在一家出售瓶装葡萄酒的 Shopify 商店工作。客户希望为每个订购的瓶子支付 10 美分的瓶子押金，以显示为单独的行项目。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T14:11:51.950

订单项是产品，因此您需要制作 10 美分的产品。确保购物车中的每个瓶子在结帐前都有匹配数量的瓶子存款。使用 Ajax API 很容易做到。请注意，理论上一个聪明的顾客可以从他们的购物车中删除这些讨厌的 10 美分的东西。

# database - Linux 中的 TNS 条目

> ID：14151943
> 
> 赞同：2
> 
> 时间：2013-01-04T06:04:55.940
> 
> 标签：database, linux, oracle, unix

我必须更新 Linux 服务器中的 TNS 条目。我正在尝试搜索 tnsname.ora 文件但无法搜索。“locate tnsname.ora”没有给我任何结果。“find $ORACLE_HOME -name tnsnames.ora”也没有给出任何结果。我去了路径 /usr/lib 然后做了 ls ，但我没有任何“oracle”目录，“/u01/app/oracle/product/10.2.0/db_1/NETWORK/ADMIN”的结果 - bash：/u01/app/oracle/product/10.2.0/db_1/NETWORK/ADMIN：没有这样的文件或目录

我在哪里可以更新 TNS 条目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:42:48.273

尝试使用 netca 或 netmgr 可执行文件（如果可用）。请务必了解 TNS_ADMIN 环境变量 - 如果已设置。network/admin 在 *nix 上是小写的（如果我的记忆力好的话）

# android - Android : 有没有办法使用浏览器或浏览器应用程序获取设备的 IMEI

> ID：14151950
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:05:30.790
> 
> 标签：android, imei

我想获得IMEI号码。适用于使用浏览器或浏览器应用程序的 Android 手机。任何人都可以为此建议我...请..在此先感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:15:12.270

这将为您提供您的 Android 手机需要许可的 IMEI 号码：`READ_PHONE_STATE`

```
TelephonyManager teleManager = 
    (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);  
String IMEI = teleManager.getDeviceId(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:10:09.883

您无法通过浏览器获取此类敏感信息，但请查看有关应用程序的此问题。[如何在android中以编程方式获取设备的IMEI/ESN？](https://stackoverflow.com/questions/1972381/how-to-programmatically-get-the-devices-imei-esn-in-android)

# php - facebook API照片分页不返回“上一个”链接

> ID：14151955
> 
> 赞同：2
> 
> 时间：2013-01-04T06:05:44.920
> 
> 标签：php, facebook-graph-api, pagination

参考以下文章：

[http://www.masteringapi.com/tutorials/how-to-create-a-user-photo-albums-browser-using-facebook-graph-api/77/](http://www.masteringapi.com/tutorials/how-to-create-a-user-photo-albums-browser-using-facebook-graph-api/77/)

我正在使用 Facebook Graph API 创建用户相册浏览器。一切正常，除了`Pagination`. 问题`$facebook->api`不在于返回“上一个”分页链接。

以下是我的代码：

```
$params = array();
    $params['offset'] = 0;
    if (isset($_GET['offset']))
        $params['offset'] = $_GET['offset']+25;
    if (isset($_GET['limit']))
        $params['limit'] = $_GET['limit'];
    $params['fields'] = 'name,source,images';
    $params = http_build_query($params, null, '&');        
    $album_photos = $facebook->api("/{$_GET['id']}/photos?$params");

    if (isset($album_photos['paging'])) {
        if (isset($album_photos['paging']['next'])) {
            $next_url = parse_url($album_photos['paging']['next'], PHP_URL_QUERY) . "&id=" . $_GET['id'];
        }
        if (isset($album_photos['paging']['previous'])) {
            $pre_url = parse_url($album_photos['paging']['previous'], PHP_URL_QUERY) . "&id=" . $_GET['id'];
        }
    } 
```

如果我正在打印，请在这里：

```
 echo '<pre>';
        print_r($$album_photos['paging']);
        exit; 
```

结果显示链接：

```
[paging] => Array
        (
            [next] => https://graph.facebook.com/133750480034063/photos?fields=name,source,images&offset=0&limit=25&after=MzI0ODMwNTYwOTI2MDUz
        ) 
```

这意味着`paging`数组返回链接仅用于`next`不用于`previous`。

我怎样才能得到`previous`链接。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T08:49:09.430

> 结果显示链接：

```
[next] => https://graph.facebook.com/133750480034063/photos?
          fields=name,source,images&offset=0&limit=25&after=MzI0ODMwNTYwOTI2MDUz 
```

> 这意味着分页数组只为下一个返回链接，而不是为上一个。

**偏移量为 0**时，显然*没有*要检索的先前数据集。

Facebook 去年年底改变了这一点，称他们现在只返回上一个/下一个 URL，如果实际上*有*更多数据要获取。（不是所有的连接，而是一些。）

这是一件好事，因为它使开发人员不必为了发现没有更多数据而发出另一个耗时的 HTTP 请求。

因此，如果它们存在并且您需要更多数据，请使用它们——如果它们不存在，则什么也不做。

# ruby-on-rails - Rails 与现有模型的关系

> ID：14151956
> 
> 赞同：1
> 
> 时间：2013-01-04T06:05:46.237
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我正在尝试将一些数据播种到我的数据库中，并且我有几个关于 Rails 关系的问题。

我正在尝试根据[http://guides.rubyonrails.org/association_basics.html提高我的理解](http://guides.rubyonrails.org/association_basics.html)

一个。具有has_many 和belongs_to 关系。可以用现有模型完成吗？

例如，我已经创建了 2 个模型主题和课程。要对关系建模，我是否只需将 subject_id 添加到课程中？或者，对于这种关系，我是否需要包含任何其他数据。

我环顾四周，并通过以下示例，他们与现有模型一起创建了嵌套模型。例如，他们在 contact_attributes 中植入了嵌套模型。 [如何分贝：种子模型及其所有嵌套模型？](https://stackoverflow.com/questions/4419672/how-to-dbseed-a-model-and-all-its-nested-models)

但是如果子模型之前已经创建过，我不太确定如何解决它，并且在我播种数据时添加父模型的 id 是否足以显示这种关系。

湾。has_and_belongs_to_many

使用 has_many_and_belongs_to 关系，来自 rails 指南，还有一个附加表。例如。科目和课程。我将不得不生成一个额外的表subjects_lessons。同样，如果我要创建这样的关系，是否将数据播种到该表中就足够了，还是有额外的步骤？

如果有人可以帮助我回答我的疑问，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:21:15.060

你最初的想法是正确的。给定如下关系，分配`subject_id`就足够了：

关系：

```
class Subject < ActiveRecord::Base
  has_many :lessons
end
class Lesson < ActiveRecord::Base
  belongs_to :subject
end 
```

种子数据.rb 示例：

```
class SeedData
  def self.run!
    @subject = Subject.create()
    @lesson = @subject.lessons.create
    # @lesson.subject == @subject
    # @subject.lessons == [@lesson]
  end
end 
```

耙文件：

```
require "seed_data"

desc "Seed database"
task :seed_data do
  SeedData.run!
end 
```

命令行：

```
rake seed_data 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:25:56.147

只需首先在种子文件中创建您的父项，然后将父项的 id 分配给子项...在创建子项之前，父项只需要先存在即可。播种数据将起作用，并且根据您的需要应该足够了。

# php - 'php' 未被识别为内部或外部命令

> ID：14151959
> 
> 赞同：0
> 
> 时间：2013-01-04T06:06:15.950
> 
> 标签：php, cakephp-2.1

> **可能重复：**
> [“php.exe”不是内部或外部命令、可运行程序或批处理文件](https://stackoverflow.com/questions/8464315/php-exe-is-not-recognized-as-an-internal-or-external-command-operable-program)

我正在尝试使用 WAMP 在我的计算机上安装 cakePHP。

我在尝试设置安装路径时遇到问题。这是我制作的路径条目。

```
F:\ProgrammingPoint\wamp\bin\php\php5.4.3;F:\ProgrammingPoint\wamp\www\cake\app\Console; 
```

分别为 PHP 和 cakePHP 安装。但是，当我尝试 cake bake 命令时：

```
F:\ProgrammingPoint\wamp\www\cake\app\Console cake bake 
```

我收到以下错误。

```
'php' is not recognized as an internal or external command. 
```

设置路径的输出是：

```
Path=C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files (x8
6)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\windows\system32;C:
\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;C:
\Program Files (x86)\Intel\OpenCL SDK\2.0\bin\x86;C:\Program Files (x86)\Intel\O
penCL SDK\2.0\bin\x64;C:\Program Files\Intel\Intel(R) Management Engine Componen
ts\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Progr
am Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files
(x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Lenovo\Bl
uetooth Software\;C:\Program Files\Lenovo\Bluetooth Software\syswow64;C:\Program
 Files\Intel\WiFi\bin\;C:\Program Files\Common Files\Intel\WirelessCommon\
PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC 
```

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2013-01-04T06:14:39.450

您必须在 php 可执行文件所在的位置安装 Cake php。

您的文件应该是（？）在`F:\ProgrammingPoint\wamp\apache\php_5.2.11`....

参考[这里](https://stackoverflow.com/questions/2920903/php-is-not-recognized-as-an-intern-command-using-windows)。

# sql - SQL 将 2 列拆分为多列

> ID：14151965
> 
> 赞同：-3
> 
> 时间：2013-01-04T06:06:47.090
> 
> 标签：sql, sql-server, reporting-services

抱歉，我在乘火车回家时用手机写了这些问题，所以我手头没有现有的代码。我已经弄清楚了一些，但仍然需要一些帮助

1）问题1：在每6位之后拆分，基本上我需要在每5位之后拆分我的列，以便123456创建列，12345和6，我尝试使用下面的代码没有结果。没有空格或符号，只有数字。

`substring(COA.UserCode2,5,charindex('',COA.UserCode2)) as Account`, `substring(COA.UserCode2,6,charindex('',COA.UserCode2)) as Project`

2）问题2：在每个 * 之后拆分，我可以让下面的第一个工作（基金）但是如果我有一个像 1234*34*500 这样的字符串，我的成本中心和来源基本上不起作用，我需要列有 1234 的资金（我已经得到了），我的成本中心说 34，我的来源说 500

`substring(COA.UserCode3, 1,charindex('*',COA.UserCode3)) as Fund,`
`substring(COA.UserCode3, 3,charindex('*',COA.UserCode3)+1) as CostCenter,`
`substring(COA.UserCode3, 1,charindex('*',COA.UserCode3)) as Source`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:54:59.887

对于问题 1，替换

```
charindex('',COA.UserCode2) 
```

和

```
len(COA.UserCode2) 
```

（或者只是硬编码长度）。

对于问题 2，您的第 2 列和第 3 列的 Substring Start 参数需要考虑您在前面的列中已经切掉的字符串的长度。我将使用嵌套的选择语句对此进行编码，以使代码不那么笨重。

# mysql - SQL MYSQL 选择记录，不包括存在任何重复的行

> ID：14151968
> 
> 赞同：1
> 
> 时间：2013-01-04T06:07:06.080
> 
> 标签：mysql, sql, group-by, updates

我有以下数据

```
 id |   bill_of_lading |  shipping_rate | 
____|__________________|________________|
   1|              8012|              90|
   2|              6045|              90|
   3|              6045|               0|
   4|              2423|               0|
   5|              5342|              90|
   6|              5643|              90|
   7|              5643|               0|
   8|              7545|               0|
   9|              9034|               0| 
```

我想返回仅出现 1 次 bill_of_lading 编号的行，并使用结果更新运费为零的记录上的 shipping_rate。

例如，我想在 ID {4、8、9} 上将运费设置为 ​​220，但在 ID {3、7} 上不设置

我完全不确定用于这样的场景的语法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:09:41.397

```
SELECT bill_of_lading, COUNT(*)
FROM t
GROUP BY bill_of_lading
HAVING COUNT(*) = 1 
```

在行动中看到它：[http ://sqlfiddle.com/#!2/842d0/2](http://sqlfiddle.com/#!2/842d0/2)

要使用结果来更新相应的行，只需加入它：

```
UPDATE t
JOIN (
    SELECT bill_of_lading, COUNT(*)
    FROM t
    GROUP BY bill_of_lading
    HAVING COUNT(*) = 1
) AS selection USING (bill_of_lading)
SET shipping_rate = 220 
```

看看那个在行动：[http ://sqlfiddle.com/#!2/87b61/1](http://sqlfiddle.com/#!2/87b61/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:12:45.763

试试这个：

```
UPDATE tablename 
SET shipping_rate = 220 
WHERE shipping_rate = 0 AND 
      id IN (SELECT id FROM (SELECT id FROM tablename 
             GROUP BY bill_of_lading HAVING COUNT(id) = 1) as A) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:09:02.540

试穿这个尺寸，其他人可能有更优雅的东西

```
SELECT *, COUNT(*) AS total FROM table_name GROUP BY bill_of_lading HAVING total = 1 
```

# google-app-engine - Google Go 不生成唯一标识符？

> ID：14151976
> 
> 赞同：3
> 
> 时间：2013-01-04T06:08:08.600
> 
> 标签：google-app-engine, google-cloud-datastore, go

我正在尝试持久化实体，并允许数据库生成密钥。不幸的是，我似乎无法从 API 中提取合成 ID ......这就是我正在做的事情：

```
case "POST":
    d,_ := ioutil.ReadAll( r.Body)
    participant := new(Participant)
    err := json.Unmarshal( d, &participant)
    if err != nil {
        serveError( c, w, err)
        return
    }

    var key *datastore.Key;
    if participant.ID == 0 {
        // no id yet .. create an incomplete key and allow the db to create one.
        key = datastore.NewIncompleteKey( c, "participant", parentKey)
    } else {
        // we have an id.  use that to update
        key = datastore.NewKey( c, "participant", "", participant.ID, parentKey)
    }
    // PERSIST!
    putKey, e := datastore.Put( c, key, participant)
    if e != nil {
         serveError( c, w, e)
         return
    }

    // Fetch back out of the database, presumably with my new ID
    if e = datastore.Get( c, putKey, participant); e != nil {
         serveError( c, w, e)
         return
    }

    // send to the consumer
    json,_ := json.Marshal( participant)
    w.Write( json) 
```

好吧，奇怪的是，ID 总是为零！详细信息被保留，但我得到多个值与相同的 ID 字段一起保留。对于咧嘴笑，这是对象定义：

```
type Participant struct {
    ID         int64
    LastName   string
    FirstName  string
    Birthdate  string
    Email      string
    Cell       string
} 
```

执行 GET 操作后，我会看到一个 ID 为零的实体列表（是的，我创建的实体，与我创建它们的次数一样多）。

```
[
 {"ID":0,"LastName":"Schmuck","FirstName":"Joe","Birthdate":"12-12-12","Email":"","Cell":""},
 {"ID":0,"LastName":"Schmuck","FirstName":"Jane","Birthdate":"12-12-12","Email":"","Cell":""},
 {"ID":0,"LastName":"Schmuck","FirstName":"Jane","Birthdate":"12-12-12","Email":"","Cell":""},
 {"ID":0,"LastName":"Schmuck","FirstName":"Jane","Birthdate":"12-12-12","Email":"","Cell":""},
 {"ID":0,"LastName":"Schmuck","FirstName":"Jane","Birthdate":"12-12-12","Email":"","Cell":""},
 {"ID":0,"LastName":"Schmuck","FirstName":"Jane","Birthdate":"12-12-12","Email":"","Cell":""}
] 
```

为了完整起见，我还尝试使用 ID 值为 0 的 NewKey()，但结果相同。关于 NewKey 的 API 文档说明了（字符串）名称和 ID 都为零创建一个不完整的密钥——我不确定如何使字符串为零，但 nil 不起作用。

一旦指出文档的正确部分，有人帮我弄清楚什么可能非常明显。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:36:27.157

我没有看到您在任何地方填充 ID 字段，因此它当然会为 0，因为这是该字段的零值。AppEngine 在存储它时不会修改您的结构。当您使用不完整的键时，您在放置结构时返回的新创建的键包含生成的 IntId()。我认为您的困惑是由于假设文档从未说过的话引起的。也就是说，AppEngine 会为您自动填充存储数据中的 ID 字段。

因为在您的情况下，您希望结构的 ID 字段存储密钥中使用的 id，您可能希望在创建密钥而不是使用不完整的密钥时生成您自己的唯一 ID。

当文档说字符串可以为零时，它指的是字符串类型的零值，即空字符串“”。您可以在此处阅读有关零值的更多信息：http: [//golang.org/ref/spec#The_zero_value](http://golang.org/ref/spec#The_zero_value)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:38:58.997

我没有看到您在 Put 之前实际更改 ID 值的位置？据我所知，它总是为 0。我本来希望看到如下内容：

```
// PERSIST!
putKey, e := datastore.Put( c, key, participant)
if e != nil {
    // ...
}
// ...
participant.ID = putKey.IntID()
putKey, e = datastore.Put(c, putKey, participant) 
```

未经测试，但你得到了图片......否则 ID 将始终为 0。

# android - 当前日期/时间的视频名称？

> ID：14151977
> 
> 赞同：0
> 
> 时间：2013-01-04T06:08:28.017
> 
> 标签：android, date, time, video-capture

我是安卓新手。我有视频录制应用程序，我在其中捕获视频并存储它，我需要将视频的名称与当前日期和时间一起存储。那么有没有办法做同样的事情。直到我知道视频名称不采用数字格式值..

```
String mediaFile;
        File mediaStorageDir = new File(
                Environment.getExternalStorageDirectory(), "/VideoLogger");
        if (!mediaStorageDir.exists()) {
            if (!mediaStorageDir.mkdirs()) {
                Log.d("VideoLogger", "failed to create directory");
                return null;
            }
        }
        String timeStamp = new SimpleDateFormat("yyyy-MM-dd_HH-mm-ss")
                .format(new Date());
        if (!sufix.equals("movie")) {
            mediaFile = mediaStorageDir.getPath() + File.separator + "output_"
                    + timeStamp + "_" + sufix + ".txt";
        } else {
            mediaFile = mediaStorageDir.getPath() + File.separator + "output_"
                    + timeStamp + ".mp4";

        }

        return mediaFile;
    }
} 
```

这是我用来命名我的视频文件的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:14:21.353

您可以使用以下代码：

```
SimpleDateFormat df = new SimpleDateFormat("yyyy-MM-dd HH.mm.ss");
                        String formattedDate = df.format(c.getTime()); 
```

注意：您可以将其更改为：`"yyyy-MM-dd HH.mm.ss"`您想要的任何内容，例如`"yyyy_MM_dd_HH-mm-ss"`

编辑：以防万一你需要添加这个

```
Calendar c = Calendar.getInstance(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:10:20.193

使用此代码

```
Date date=new Date();
filename="/rec"+date.toString().replace(" ", "_").replace(":", "_")+".mp4"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:34:23.667

SimpleDateFormat date = new SimpleDateFormat("dd/MM/yyyy");//给你当前日期 currentDate = date.format(new Date());SimpleDateFormat time = new SimpleDateFormat("hh:mm a");//给你当前时间 currentTime = time.format(new Date());//像这样存储 filename = currentDate +"-"+currentTime +".mp4";

# mysql - 将用户连接到 Rails 中的数据库条目

> ID：14151980
> 
> 赞同：0
> 
> 时间：2013-01-04T06:08:33.580
> 
> 标签：mysql, ruby-on-rails, ruby, database

我希望有人可以在我的申请中进一步帮助我。

这就是我所在的地方。我有具有“所有者”角色的一般用户，并且有具有“寻求者”角色的寻求者。现在，“所有者”创建一个帖子，而“寻求者”接受它。

我希望在 Rails 方面经验丰富的人可以提出最佳路径和结构来执行以下操作；

1.) 在创建帖子时将“所有者”连接到他们在数据库中的帖子

2.）将“寻求者”连接到他们接受的帖子。

因此，如果“owner1”创建了 10 个帖子，他应该链接到其中的 10 个帖子，而不是其他帖子。现在假设“seeker1”查看所有 10 个帖子，但只喜欢其中的 5 个，然后单击按钮接受他选择的 5 个。

我不确定如何让 Rails 自动连接所有东西，任何建议都会有所帮助。在 Stackoverflow 上还没有找到类似的东西。

* * *

只是想改写我的初始设置和功能。

在我的申请中，我有；

*   具有角色的用户可以创建职位描述帖子。他可以对其进行编辑、删除或将其标记为已完成。

*   我也有搜索者，他们浏览用户创建的所有帖子。求职者，如果他们喜欢该职位和职位描述，并且他们想做那项工作，他们点击“抓住它”按钮

所以我要创建的功能是；

1.) 将用户与他们的帖子联系起来。现在，任何用户都可以创建帖子并查看所有帖子。我希望他们在某个视图中只看到他们创建的帖子，而看不到其他帖子。

2.) 我还希望“求职者”能够将自己在数据库中与他们想要工作的职位联系起来。

现在从我对事物的整体理解来看，并且是新手。我猜我需要更新数据库并创建 2 个新表。1 x 所有者和 1 用于寻求者。

我卡在控制器上，如何在用户提交带有帖子详细信息的表单并将他绑定到该数据库对象后运行我的“def new”。

上面提到的第二步是在搜索者单击“抓住它”按钮时使用“def grabit”运行，并将搜索者也绑定到该帖子。

所以最后如果我运行@job = Joblisting.find(1)，我会得到数据库表，其中列“用户”显示创建此帖子的用户，表“搜索者”显示正在处理的搜索者的名称它。如果没有寻求者当然是零。

嗯 .. 只是想一想，用于识别人员的电子邮件地址是否可行且值得建议，或者您是否建议为每个注册用户做某种 ID。

对此的任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T11:38:04.097

每个帖子都有一个所有者，因此这将形成一个简单的一对多关系，其中一个用户拥有_many 个帖子，一个帖子属于一个用户。一个喜欢的帖子可以有很多“搜索者”，尽管它看起来像一个用户可以“搜索”很多帖子。这样就形成了HABTM关系。看起来像这样：

```
class User < ActiveRecord::Base 
  has_many :posts
  has_and_belongs_to_many :sought_posts, :class_name => 'Post', :join_table => 'posts_users'

class Post < ActiveRecord::Base
  belongs_to :user
  has_and_belongs_to_many :seekers, :class_name => 'User', :join_table => 'posts_users' 
```

我不知道“sought_posts”是否是最好的名字，但你（希望）明白我的意思。我也不是 100% 确定是否应该在此处指定 join_table，但它不会受到伤害，所以我想我会包含它。

HABTM 连接表的迁移如下所示：

```
class CreatePostUsers < ActiveRecord::Migration
  def change
    create_table :posts_users, :id => false do |t|
        t.references :post
        t.references :user
    end
    add_index :posts_users, [:post_id, :user_id]
    add_index :posts_users, [:user_id, :post_id]
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:30:06.187

我不是专家，但我认为像下面这样的东西会很好。
Posts 和 LikedPosts 都将包含一个 :user_id 列。
LikedPosts 也只会包含一个 :post_id。

然后可以调用帖子

```
User.posts.all
User.liked_posts.all 
```

这些模型将像这样相关：

```
class User < ActiveRecord::Base 
  has_many :posts
  has_many :liked_posts

class Post < ActiveRecord::Base
  belongs_to :user

class LikedPost < ActiveRecord::Base
  belongs_to :user
  has_many :posts 
```

希望有帮助。

# spring - 使用休眠以随机顺序初始化集合对象

> ID：14151982
> 
> 赞同：2
> 
> 时间：2013-01-04T06:08:47.200
> 
> 标签：spring, hibernate

我正在使用spring，带有hibernate和Mysql db。我有 Question 对象，它有一组 Answer 对象。

我的 question.hbm.xml 是

```
 <?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.gamesapp.model.Question" table="question" >
         <cache usage="read-write"/>
        <id name="questionId" type="java.lang.Long">
            <column name="question_id" />
            <generator class="identity" />
        </id>
        <property name="description" type="java.lang.String">
            <column name="description" length="500" not-null="true" />
        </property>
        <property name="difficultyLevel" type="java.lang.String">
            <column name="difficulty_level" length="6" not-null="true" />
        </property>
        <property name="isMixer" type="java.lang.String">
            <column name="is_mixer" length="5" not-null="true" />
        </property>
        <property name="status" type="java.lang.String">
            <column name="status" length="7" not-null="true" />
        </property>
        <set name="answers"  inverse="true"   >
         <cache usage="read-write"/>
            <key>
                <column name="question_id" not-null="true" />
            </key>
            <one-to-many class="com.gamesapp.model.Answer" />
        </set>

        <set name="questionAnswerUsers"  inverse="true" >
         <cache usage="read-write"/>
            <key>
                <column name="question_id" not-null="true" />
            </key>
            <one-to-many class="com.gamesapp.model.QuestionAnswerUser" />
        </set>
    </class>
</hibernate-mapping> 
```

我的 answer.hbm.xml 是

```
 <?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.gamesapp.model.Answer" table="answer" >
       <cache usage="read-write"/>
        <id name="answerId" type="java.lang.Long">
            <column name="answer_id" />
            <generator class="identity" />
        </id>
        <many-to-one name="question" class="com.gamesapp.model.Question" fetch="select">
            <column name="question_id" not-null="true" />
        </many-to-one>
        <property name="description" type="java.lang.String">
            <column name="description" length="100" not-null="true" />
        </property>
        <property name="dragPosition" type="java.lang.Short">
            <column name="drag_position" />
        </property>
        <property name="orderSequence" type="java.lang.Integer">
            <column name="order_sequence" not-null="true" />
        </property>
        <property name="isAnswer" type="java.lang.String">
            <column name="is_answer" length="5" not-null="true" />
        </property>

        <property name="askPercentage" type="java.lang.Double">
            <column name="ask_percentage"  not-null="true" />
        </property>
        <set name="questionAnswerUsers"  inverse="true">
           <cache usage="read-write"/>
            <key>
                <column name="answer_id" not-null="true" />
            </key>
            <one-to-many class="com.gamesapp.model.QuestionAnswerUser" />
        </set>
    </class>
</hibernate-mapping> 
```

现在我的问题是，我想以随机顺序获取问题列表。对于每个 Question 对象，我想使用休眠标准急切地获取答案集，并且答案集也应该随机初始化。

例如，说 Question 对象 questionOne 有一组答案，有四个 Answer object.say ans1、ans2、ans3 和 ans4。现在我第一次获取 questionOne，答案集应该初始化为 answer={ans1,ans2,ans3,ans4} 第二次获取 questionOne 对象我应该得到答案集为 answer={ans4,ans2,ans3,ans1}。

问题列表应该随机初始化。任何问题的答案集都应该使用休眠标准快速获取，每次都应该洗牌谁的项目。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:27:29.580

只需使用`Collections.shuffle()`来获得一个随机列表：

```
List<Question> questions = em.createQuery(...).getResultList();
Collections.shuffle(questions); 
```

在 Question 实体中：

```
public List<Answer> getShuffledAnswers() {
    List<Answer> result = new ArrayList<Answer>(this.answers);
    Collections.shuffle(result);
    return result;
} 
```

# javascript - Javascript 计时器用法

> ID：14151984
> 
> 赞同：0
> 
> 时间：2013-01-04T06:08:59.383
> 
> 标签：javascript, html, ajax, timer

我的页面中有一个案例，我有六个小部件（即 div），每个小部件在不同的时间间隔调用一个 ajax 函数（一个 div 间隔可能是 20 秒，另一个是 30 秒）。从服务器获取结果后，我将更新相应的面板。这是处理这种情况的最佳方法。为每个面板保留六个不同的 javascript 计时器是否是一个好习惯（例如：像 setInterval、setTimeout）。如果没有，最好的处理方法是什么这种情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:18:12.173

**解决方案：**

```
duration = 20;

(function getMoreData(divIndex) {
    console.log("Process First");

    // Get ajax data for first div
    $.ajax({
        url: url1,
        dataType: 'json',
        data: "",
        timeout: 5000,
        success: function(data) {
                dataFlag[divIndex]= true;

                // Process data...
                // Update "div 1"
            },
        error: function() {
                dataFlag[divIndex]= true;

                // Process error
            }
    });

    // Second div
    console.log("Process Second");

    // Get ajax data for second div
    $.ajax({
        url: url2,
        dataType: 'json',
        data: "",
        timeout: 5000,
        success: function(data) {
                dataFlag[divIndex]= true;

                // Process data...
                // Update "div 2"
            },
        error: function() {
                dataFlag[divIndex]= true;

                // Process error
            }
    });

    // Third div
    console.log("Process Third");

    // Get ajax data for second div
    $.ajax({
        url: url3,
        dataType: 'json',
        data: "",
        timeout: 5000,
        success: function(data) {
                dataFlag[divIndex]= true;

                // Process data...
                // Update "div 3"
            },
        error: function() {
                dataFlag[divIndex]= true;

                // Process error
            }
    });

    setTimeout(getMoreData, (duration * 1000));
})() 
```

# c++ - 尝试运行内核代码时，OpenCL（意外）冻结

> ID：14151988
> 
> 赞同：1
> 
> 时间：2013-01-04T06:09:31.193
> 
> 标签：c++, macos, opencl

好吧，我试过在苹果开发者论坛上提问，但没有人回应。我认为stackoverflow会更合适。这里是...

我有一些 OpenCL 内核，它遍历存储在帧缓冲区对象中的像素，并计算非黑色和非白色像素。它曾经在我的机器上运行良好，但我相信 Mac OS X 和/或 devtools 的更新可能会导致问题导致它停止。

与内核代码关联的内核对象附加到 QT 窗口，当窗口需要渲染更新时，内核代码会运行 n 次。此窗口在初始创建后会更新两次，这意味着 openCL 代码的序列最初不会引起问题。当我将窗口置于前台时，它需要再次更新并尝试再次运行内核代码 n 次。但在这些 n 次中间，它停止了。即，如果它需要运行 51 次，它会在迭代 26 处停止。看来对 clEnqueueReadBuffer 的调用会导致停止。

**除非绝对必要，否则我将省略有关为什么使用 openCL 代码的详细信息，因为这可能会使人们感到困惑**。我认为专注于 OpenCL 代码本身会很好。这里供参考：[http ://dl.dropbox.com/u/10838242/forumsquestion.cpp](http://dl.dropbox.com/u/10838242/forumsquestion.cpp)

这是 gdb 回溯：

```
#0  0x00007fff8e3a6122 in __psynch_mutexwait ()
#1  0x00007fff8955ad9d in pthread_mutex_lock ()
#2  0x000000010dd3acbd in gldFlushQueue ()
#3  0x000000010bbc193f in IOAccelContextFinishResourceSysMem ()    
#4  0x000000010bbcd5b0 in gpumAcquireFenceOnQueue ()
#5  0x000000010dd43fcd in gldCopyBufferDataWithQueue ()
#6  0x00007fff8ffa7e2e in GCC_except_table49 ()
#7  0x00007fff8ffc5f11 in clFinish ()
#8  0x00007fff936800b6 in _dispatch_client_callout ()
#9  0x00007fff93681723 in _dispatch_barrier_sync_f_invoke ()
#10 0x00007fff8ffc5ddb in clFinish ()
#11 0x00007fff8ffc25c2 in clSetEventCallback ()
#12 0x00007fff8ffb86e6 in clEnqueueReadBuffer ()
#13 0x0000000100020a31 in CLHandler::update (this=0x107683e20, tagged=@0x7fff5fbfb960, w=761, h=711) at clhandler.cpp:343
#14 0x000000010002f8c1 in CustomBladesGLWidget::render (this=0x1072b09e0, indexMode=true, offset=135288, numPnts=4416, blobID=25, bladeIdsIntersected=@0x7fff5fbfb960) at customBladesGLWidget.cpp:943 
```

在附件中，第 343 行（上面的粗体）对应于这个调用（在函数 CLHandler::update 中）：

```
//read data from buffer
status = clEnqueueReadBuffer(cqueue,hitbuffer,CL_TRUE,0,mNumBladeCells * sizeof(float),mBladesHit,0, NULL,&event);
handleError("clEnqueueReadBuffer","",status); 
```

现在，如果我要在对 clEnqueueWriteBuffer 的初始调用下方注释所有内容，它将改为在该函数调用处停止。我不知道为什么会这样。这不像我正在尝试使用互斥锁或任何东西。任何帮助是极大的赞赏。

系统规格：MacbookPro 8,2、Core i7 2.2 GHz、AMD Radeon HD 6750M、OS X 10.8.2。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T02:46:03.090

`glFinish`在使用 GL 对象的第一个 OpenCL API 调用之前应该有一个调用，`clFinish`在最后一个之后应该有一个调用。较弱的选项（即调用 Flush 而不是 Finish）可能适用于特定平台。

请参阅[OpenCL 1.2 扩展规范](http://www.khronos.org/registry/cl/specs/opencl-1.2-extensions.pdf)，第 9.7.6.1 节。

**更新。** 具体来说，在 Apple 平台上，最快的选择是`glFlushRenderApple`在第一个 OpenCL 调用之前和`clFinish`最后一个之后调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T22:52:41.053

如果您声明它正在阻止写入（第三个参数为真），为什么要将事件传递给**clEnqueueWriteBuffer/clEnqueueReadBuffer ？**由于这个原因，您也不需要对**clWaitForEvents(1, &event)进行任何调用。**

相反，我会将事件添加到**clEnqueueNDRangeKernel**。**并在clFlush()**之后等待它。因为**clFlush**仅触发执行，但不能保证在其调用之后所有先前排队的命令都将完成（与**clFinish**不同）。然后才调用**clEnqueueReleaseGLObjects**。但是，只要您的队列不是使用**CL_QUEUE_OUT_OF_ORDER_EXEC_MODE_ENABLE**标志创建的，您的情况也应该没问题。

您还可以指定哪些确切的行被注释/取消注释吗？

# project-management - 我们如何确保满足所有要求

> ID：14151989
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:09:33.127
> 
> 标签：project-management

这是我在一次采访中问到的一个项目管理问题。

```
If there are more than 1000 requirements ,how can you ensure all the requirements are delivered without missing. 
```

我知道这更像是一个讨论，但我正在寻找可交付成果的答案。我通过 JIRA 谈到了 sprint、客户演示和跟踪，但他对答案不满意。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T10:09:50.907

您首先需要定义：

*   *要交付*什么。**
**   *您如何*验证交货。*

 *传统方法和敏捷方法都必须回答这个问题，但它们来自不同的方向。

传统方案试图预先捕获尽可能完整的需求集。在这里，您将了解诸如工作分解结构或挣值管理之类的内容。从这个方向来看，“每个”需求在项目的整体结构中都占有一席之地。有必要非常严格地控制这组需求。在这样的方案中，工作分解结构中的每个项目都被编号、描述并给出了允许您将其视为“完成”的规则。通常这可能是一些客户接受计划或签收。

相反，敏捷获得了一组我们所想的，然后定期重新确定该组的优先级。无需尝试提前了解所有内容，您只需进行大量中途修正并依靠您的工具（例如 JIRA）来帮助您记住什么是什么。不利的一面是，很难提前估计一个非常大的项目可能会如何展开，或者你在其中取得了多大的进展。好处是，通过专注于增量建设，你可以提前结束一些能产生价值的事情。在敏捷中，您还必须提供某种方式来表示某个特性“已完成”——通常这采用某种自动化测试套件的形式。*

# facebook - 发送对话响应与提要对话响应

> ID：14151991
> 
> 赞同：0
> 
> 时间：2013-01-04T06:09:37.820
> 
> 标签：facebook, dialog, response, send, facebook-messages

[如文档](https://developers.facebook.com/docs/reference/dialogs/)中所述，我直接使用 url 尝试了“发送”和“提要”对话框。

**提要对话框：** 一切正常；我的 redirect_uri 是：

*   单击“取消”按钮时按原样调用 ( `http://my.redirect.uri`)
*   单击“共享”按钮时使用查询字符串“post_id=123456789”调用 ( `http://my.redirect.uri?post_id=123456789`)

然后我可以通过收到的 id 检查发布的链接（当然，如果我有“read_stream”权限）。

**发送对话框：** 响应不一样；我的 redirect_uri 是：

*   单击“取消”按钮时按原样调用 ( `http://my.redirect.uri`)
*   单击“共享”按钮时使用查询字符串“success=1”调用 ( `http://my.redirect.uri?success=1`)

我想阅读已发送的消息或相关线程（具有“read_mailbox”权限），但我不知道消息 ID。我可以在整个收件箱中查找这条消息，但这对我来说并不满意......

**我的问题：**

*   从 Facebook 发送对话框返回时，有没有办法获取此 ID？
*   为什么在redirect_uri 查询字符串中没有像在提要对话框中那样给出这个ID？（类似`http://my.redirect.uri?message_id=123456789`）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:44:18.093

> Is there a way to get this id when coming back from Facebook Send Dialog?

No. The Send dialog only reports success, but nothing else.

> Why isn't this id given in the redirect_uri query string like it is done with the feed dialog?

Because the Send dialog does not give that info at all, no matter how you call it. Using the JS SDK f.e., calling it with FB.ui, you also only get a true/false return value.

My guess is that this is by design; FB does not want you to know who the user sends messages to or what they contain.

# iphone - 在应用退出之前如何在标签上显示相同的值

> ID：14151995
> 
> 赞同：0
> 
> 时间：2013-01-04T06:09:43.170
> 
> 标签：iphone, uilabel, viewdidload

我有标签，我正在其中加载 viewDidLoad 中的文本值，并且我正在更改按钮单击时的值我希望单击按钮时更改的值在标签中保持不变，直到我们再次单击标签但是当我移动到下一个屏幕时然后又回到原来的状态，它显示值是在 viewDidLoad 中设置的，而不是更改后的值。

```
 -(void)viewDidLoad{

    testLabel.text=@"This is fine";

   }

  -(void)changeData{

    testLabel.text=@"changed data";

   }     

    -(IBAction)riskButtonAction{

   RiskViewController*targetContrlloer=[[RiskViewController alloc] init];
   [self.navigationController pushViewController:targetContrlloer animated:YES];

   } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:18:10.397

不要创建新对象使用此代码转到上一个屏幕

```
[self.navigationController popViewControllerAnimated: YES]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:19:32.630

试试下面的代码

```
 -(void)viewWillAppear:(BOOL)animated
    {
       NSString *checkFb=[[NSUserDefaults standardUserDefaults] valueForKey:@"someKey"];
       if(checkFb.lenght > 0)
       { 

        testLabel.text=checkFb;
        }

    }

   -(void)changeData{

      testLabel.text=@"changed data";
    [[NSUserDefaults standardUserDefaults] setObject: testLabel.text forKey:@"someKey"];
    [[NSUserDefaults standardUserDefaults] synchronize];

   } 
```

让我知道它是否有效！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T08:51:52.937

只需使用全局变量在 App Delegate 中声明它并将您的标签值分配给这个全局变量，您的问题将得到解决。

不过，如果你不明白，请随时问我，它是如此简单的伙伴

# javascript - 使用 Javascript 将 XML 转换为 CSV

> ID：14151999
> 
> 赞同：9
> 
> 时间：2013-01-04T06:10:01.583
> 
> 标签：javascript, csv, xml-parsing

我正在寻求一些帮助，尝试将从亚马逊产品 API 检索到的 XML 转换为 CSV（逗号分隔值）格式。

我在这里找到了一个类似的主题：[XML to CSV conversion issue](https://stackoverflow.com/questions/9241783/xml-to-csv-conversion-issue)但它使用 PHP，我想改用 javascript。

这是我所拥有的示例：

```
<?xml version="1.0" encoding="UTF-8"?>
<ItemLookupResponse xmlns="http://webservices.amazon.com/AWSECommerceService/2011-08-01">
  <OperationRequest>
    <RequestId>1k75f474-85ff-464a-al93-659ol460caee</RequestId>
    <Arguments>
      <Argument Name="Operation" Value="ItemLookup" />
      <Argument Name="Service" Value="AWSECommerceService" />
      <Argument Name="Signature" Value="lImNXr6R4c2t376ghMnMmjUPR4eY6755XzH41pXGH0P=" />
      <Argument Name="AssociateTag" Value="oiuig-20" />
      <Argument Name="ItemId" Value="B007EHI1DK" />
      <Argument Name="AWSAccessKeyId" Value="DIY7F4M00OF6I7TRD3VA" />
      <Argument Name="Timestamp" Value="2013-01-04T05:23:20Z" />
      <Argument Name="ResponseGroup" Value="Large" />
    </Arguments>
    <RequestProcessingTime>0.0359500000000000</RequestProcessingTime>
  </OperationRequest>
  <Items>
    <Request>
      <IsValid>True</IsValid>
      <ItemLookupRequest>
        <IdType>ASIN</IdType>
        <ItemId>B007EHI1DK</ItemId>
        <ResponseGroup>Large</ResponseGroup>
        <VariationPage>All</VariationPage>
      </ItemLookupRequest>
    </Request>
    <Item>
      <ASIN>B007EHI1DK</ASIN>
      <DetailPageURL>http://www.amazon.com/Panasonic-TY-ER3D4MU-Active-Shutter-Eyewear/dp/B007EHI1DK%3FSubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB007EHI1DK</DetailPageURL>
      <ItemLinks>
        <ItemLink>
          <Description>Technical Details</Description>
          <URL>http://www.amazon.com/Panasonic-TY-ER3D4MU-Active-Shutter-Eyewear/dp/tech-data/B007EHI1DK%3FSubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3DB007EHI1DK</URL>
        </ItemLink>
        <ItemLink>
          <Description>Add To Baby Registry</Description>
          <URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3DB007EHI1DK%26SubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3DB007EHI1DK</URL>
        </ItemLink>
        <ItemLink>
          <Description>Add To Wedding Registry</Description>
          <URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3DB007EHI1DK%26SubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3DB007EHI1DK</URL>
        </ItemLink>
        <ItemLink>
          <Description>Add To Wishlist</Description>
          <URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3DB007EHI1DK%26SubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3DB007EHI1DK</URL>
        </ItemLink>
        <ItemLink>
          <Description>Tell A Friend</Description>
          <URL>http://www.amazon.com/gp/pdp/taf/B007EHI1DK%3FSubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3DB007EHI1DK</URL>
        </ItemLink>
        <ItemLink>
          <Description>All Customer Reviews</Description>
          <URL>http://www.amazon.com/review/product/B007EHI1DK%3FSubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3DB007EHI1DK</URL>
        </ItemLink>
        <ItemLink>
          <Description>All Offers</Description>
          <URL>http://www.amazon.com/gp/offer-listing/B007EHI1DK%3FSubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3DB007EHI1DK</URL>
        </ItemLink>
      </ItemLinks>
      <SmallImage>
        <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL._SL75_.jpg</URL>
        <Height Units="pixels">50</Height>
        <Width Units="pixels">75</Width>
      </SmallImage>
      <MediumImage>
        <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL._SL160_.jpg</URL>
        <Height Units="pixels">107</Height>
        <Width Units="pixels">160</Width>
      </MediumImage>
      <LargeImage>
        <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL.jpg</URL>
        <Height Units="pixels">333</Height>
        <Width Units="pixels">500</Width>
      </LargeImage>
      <ImageSets>
        <ImageSet Category="primary">
          <SwatchImage>
            <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL._SL30_.jpg</URL>
            <Height Units="pixels">20</Height>
            <Width Units="pixels">30</Width>
          </SwatchImage>
          <SmallImage>
            <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL._SL75_.jpg</URL>
            <Height Units="pixels">50</Height>
            <Width Units="pixels">75</Width>
          </SmallImage>
          <ThumbnailImage>
            <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL._SL75_.jpg</URL>
            <Height Units="pixels">50</Height>
            <Width Units="pixels">75</Width>
          </ThumbnailImage>
          <TinyImage>
            <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL._SL110_.jpg</URL>
            <Height Units="pixels">73</Height>
            <Width Units="pixels">110</Width>
          </TinyImage>
          <MediumImage>
            <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL._SL160_.jpg</URL>
            <Height Units="pixels">107</Height>
            <Width Units="pixels">160</Width>
          </MediumImage>
          <LargeImage>
            <URL>http://ecx.images-amazon.com/images/I/31pKDguukTL.jpg</URL>
            <Height Units="pixels">333</Height>
            <Width Units="pixels">500</Width>
          </LargeImage>
        </ImageSet>
        <ImageSet Category="variant">
          <SwatchImage>
            <URL>http://ecx.images-amazon.com/images/I/31dSwH5PnjL._SL30_.jpg</URL>
            <Height Units="pixels">20</Height>
            <Width Units="pixels">30</Width>
          </SwatchImage>
          <SmallImage>
            <URL>http://ecx.images-amazon.com/images/I/31dSwH5PnjL._SL75_.jpg</URL>
            <Height Units="pixels">50</Height>
            <Width Units="pixels">75</Width>
          </SmallImage>
          <ThumbnailImage>
            <URL>http://ecx.images-amazon.com/images/I/31dSwH5PnjL._SL75_.jpg</URL>
            <Height Units="pixels">50</Height>
            <Width Units="pixels">75</Width>
          </ThumbnailImage>
          <TinyImage>
            <URL>http://ecx.images-amazon.com/images/I/31dSwH5PnjL._SL110_.jpg</URL>
            <Height Units="pixels">73</Height>
            <Width Units="pixels">110</Width>
          </TinyImage>
          <MediumImage>
            <URL>http://ecx.images-amazon.com/images/I/31dSwH5PnjL._SL160_.jpg</URL>
            <Height Units="pixels">107</Height>
            <Width Units="pixels">160</Width>
          </MediumImage>
          <LargeImage>
            <URL>http://ecx.images-amazon.com/images/I/31dSwH5PnjL.jpg</URL>
            <Height Units="pixels">333</Height>
            <Width Units="pixels">500</Width>
          </LargeImage>
        </ImageSet>
        <ImageSet Category="variant">
          <SwatchImage>
            <URL>http://ecx.images-amazon.com/images/I/31irEbzxdgL._SL30_.jpg</URL>
            <Height Units="pixels">20</Height>
            <Width Units="pixels">30</Width>
          </SwatchImage>
          <SmallImage>
            <URL>http://ecx.images-amazon.com/images/I/31irEbzxdgL._SL75_.jpg</URL>
            <Height Units="pixels">50</Height>
            <Width Units="pixels">75</Width>
          </SmallImage>
          <ThumbnailImage>
            <URL>http://ecx.images-amazon.com/images/I/31irEbzxdgL._SL75_.jpg</URL>
            <Height Units="pixels">50</Height>
            <Width Units="pixels">75</Width>
          </ThumbnailImage>
          <TinyImage>
            <URL>http://ecx.images-amazon.com/images/I/31irEbzxdgL._SL110_.jpg</URL>
            <Height Units="pixels">73</Height>
            <Width Units="pixels">110</Width>
          </TinyImage>
          <MediumImage>
            <URL>http://ecx.images-amazon.com/images/I/31irEbzxdgL._SL160_.jpg</URL>
            <Height Units="pixels">107</Height>
            <Width Units="pixels">160</Width>
          </MediumImage>
          <LargeImage>
            <URL>http://ecx.images-amazon.com/images/I/31irEbzxdgL.jpg</URL>
            <Height Units="pixels">333</Height>
            <Width Units="pixels">500</Width>
          </LargeImage>
        </ImageSet>
      </ImageSets>
      <ItemAttributes>
        <Binding>Electronics</Binding>
        <Brand>Panasonic</Brand>
        <CatalogNumberList>
          <CatalogNumberListElement>TYER3D4M</CatalogNumberListElement>
          <CatalogNumberListElement>TYER3D4MU</CatalogNumberListElement>
          <CatalogNumberListElement>TY-ER3D4MU</CatalogNumberListElement>
        </CatalogNumberList>
        <Color>One Color</Color>
        <Department>Electronics</Department>
        <EAN>0885170075207</EAN>
        <EANList>
          <EANListElement>0885170075207</EANListElement>
        </EANList>
        <Feature>Lightweight Active Shutter 3D Eyewear</Feature>
        <Feature>USB Rechargeable</Feature>
        <Feature>RF Compatible</Feature>
        <IsAutographed>0</IsAutographed>
        <IsMemorabilia>0</IsMemorabilia>
        <ItemDimensions>
          <Height Units="hundredths-inches">170</Height>
          <Length Units="hundredths-inches">340</Length>
          <Weight Units="hundredths-pounds">10</Weight>
          <Width Units="hundredths-inches">670</Width>
        </ItemDimensions>
        <Label>Panasonic</Label>
        <ListPrice>
          <Amount>7995</Amount>
          <CurrencyCode>USD</CurrencyCode>
          <FormattedPrice>$79.95</FormattedPrice>
        </ListPrice>
        <Manufacturer>Panasonic</Manufacturer>
        <Model>TY-ER3D4MU</Model>
        <MPN>TY-ER3D4MU</MPN>
        <NumberOfItems>1</NumberOfItems>
        <PackageDimensions>
          <Height Units="hundredths-inches">240</Height>
          <Length Units="hundredths-inches">690</Length>
          <Weight Units="hundredths-pounds">30</Weight>
          <Width Units="hundredths-inches">350</Width>
        </PackageDimensions>
        <PackageQuantity>1</PackageQuantity>
        <PartNumber>TY-ER3D4MU</PartNumber>
        <ProductGroup>CE</ProductGroup>
        <ProductTypeName>CONSUMER_ELECTRONICS</ProductTypeName>
        <Publisher>Panasonic</Publisher>
        <Size>One Size</Size>
        <SKU>292782</SKU>
        <Studio>Panasonic</Studio>
        <Title>Panasonic VIERA TY-ER3D4MU Active Shutter 3D Eyewear</Title>
        <UPC>885170075207</UPC>
        <UPCList>
          <UPCListElement>885170075207</UPCListElement>
        </UPCList>
      </ItemAttributes>
      <OfferSummary>
        <LowestNewPrice>
          <Amount>5400</Amount>
          <CurrencyCode>USD</CurrencyCode>
          <FormattedPrice>$54.00</FormattedPrice>
        </LowestNewPrice>
        <LowestUsedPrice>
          <Amount>4294</Amount>
          <CurrencyCode>USD</CurrencyCode>
          <FormattedPrice>$42.94</FormattedPrice>
        </LowestUsedPrice>
        <TotalNew>24</TotalNew>
        <TotalUsed>18</TotalUsed>
        <TotalCollectible>0</TotalCollectible>
        <TotalRefurbished>0</TotalRefurbished>
      </OfferSummary>
      <Offers>
        <TotalOffers>1</TotalOffers>
        <TotalOfferPages>1</TotalOfferPages>
        <MoreOffersUrl>http://www.amazon.com/gp/offer-listing/B007EHI1DK%3FSubscriptionId%3DIY7F4M00OF6I7TRD3VAS%26tag%3Daztag-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3DB007EHI1DK</MoreOffersUrl>
        <Offer>
          <OfferAttributes>
            <Condition>New</Condition>
          </OfferAttributes>
          <OfferListing>
            <OfferListingId>rkyW%2Bed7Qb8t28tJRRHkKizuk2CxNF4SI6W9XAnbXI8JX%2FJNpUY%2B8zqnnNRe3Vt2l%2B8rUMqypquQnAE66PYmf32dJeor6DifXvXKscwOqyrLwgFZORqmDg%3D%3D</OfferListingId>
            <Price>
              <Amount>5851</Amount>
              <CurrencyCode>USD</CurrencyCode>
              <FormattedPrice>$58.51</FormattedPrice>
            </Price>
            <AmountSaved>
              <Amount>2144</Amount>
              <CurrencyCode>USD</CurrencyCode>
              <FormattedPrice>$21.44</FormattedPrice>
            </AmountSaved>
            <PercentageSaved>27</PercentageSaved>
            <Availability>Usually ships in 24 hours</Availability>
            <AvailabilityAttributes>
              <AvailabilityType>now</AvailabilityType>
              <MinimumHours>0</MinimumHours>
              <MaximumHours>0</MaximumHours>
            </AvailabilityAttributes>
            <IsEligibleForSuperSaverShipping>1</IsEligibleForSuperSaverShipping>
          </OfferListing>
        </Offer>
      </Offers>
      <CustomerReviews>
        <IFrameURL>http://www.amazon.com/reviews/iframe?akid=AKIAIBT3ANF6TOEOKXVA&amp;alinkCode=xm2&amp;asin=B007EHI1DK&amp;atag=aztag-20&amp;exp=2013-01-05T05%3A23%3A21Z&amp;v=2&amp;sig=yz1U1nT8mWjFGauK3umnsOqp9BTzWwGOAAiLCyZ%2BEPM%3D</IFrameURL>
        <HasReviews>true</HasReviews>
      </CustomerReviews>
      <EditorialReviews>
        <EditorialReview>
          <Source>Product Description</Source>
          <Content>&lt;strong&gt;3D Playback Type:&lt;/strong&gt; Active Shutter 3D Method&lt;br /&gt;&lt;strong&gt;Transmittance Method:&lt;/strong&gt; RF (Bluetooth)/ Full HD 3D Glasses Standard Compatible&lt;br /&gt;&lt;strong&gt;Battery Type: &lt;/strong&gt;Lithium-ion Polymer Rechargeable Battery&lt;br /&gt;&lt;strong&gt;Battery Duration:&lt;/strong&gt; Approximately 30 hours of operation for a 30-minute full battery charge (Approximately 3 hours of operation for a 2-minute battery charge)&lt;em&gt; *The battery duration will change as per the total usage time with the number of charge/discharge cycles &lt;/em&gt;&lt;br /&gt;&lt;strong&gt;Package Included:&lt;/strong&gt; 1 Pair of Eyewear &lt;br /&gt;Note: These glasses are only compatible with 2012 VIERA HDTVs&lt;br /&gt;&lt;br /&gt; &lt;div style="text-align: left;"&gt;&lt;strong&gt;Accessory Compatibility Chart&lt;br /&gt;&lt;/strong&gt;&lt;/div&gt; &lt;img height="375" src="http://g-ecx.images-amazon.com/images/G/01/electronics/Cat500/Panasonic/2012/accessory_compatibility_2._V138249826_.gif" width="650" /&gt;&lt;br /&gt;&lt;br /&gt;</Content>
          <IsLinkSuppressed>0</IsLinkSuppressed>
        </EditorialReview>
      </EditorialReviews>
      <SimilarProducts>
        <SimilarProduct>
          <ASIN>B007K9P7H0</ASIN>
          <Title>Samsung SSG-4100GB 3D Active Glasses 2012 Models - Black</Title>
        </SimilarProduct>
        <SimilarProduct>
          <ASIN>B00752VKSC</ASIN>
          <Title>Panasonic VIERA TC-P55ST50 55-Inch 1080p 600Hz Full HD 3D Plasma TV</Title>
        </SimilarProduct>
        <SimilarProduct>
          <ASIN>B00752R4PK</ASIN>
          <Title>Panasonic DMP-BDT220 Integrated Wi-Fi 3D Blu-ray DVD Player</Title>
        </SimilarProduct>
        <SimilarProduct>
          <ASIN>B00752VKFA</ASIN>
          <Title>Panasonic VIERA TC-P55GT50 55-Inch 1080p 600Hz Full HD 3D Plasma TV</Title>
        </SimilarProduct>
        <SimilarProduct>
          <ASIN>B00752VL8G</ASIN>
          <Title>Panasonic VIERA TC-P60GT50 60-Inch 1080p 600Hz Full HD 3D Plasma TV</Title>
        </SimilarProduct>
      </SimilarProducts>
      <BrowseNodes>
        <BrowseNode>
          <BrowseNodeId>3224438011</BrowseNodeId>
          <Name>3D Glasses</Name>
          <Ancestors>
            <BrowseNode>
              <BrowseNodeId>172532</BrowseNodeId>
              <Name>Audio &amp; Video Accessories</Name>
              <Ancestors>
                <BrowseNode>
                  <BrowseNodeId>281407</BrowseNodeId>
                  <Name>Accessories &amp; Supplies</Name>
                  <Ancestors>
                    <BrowseNode>
                      <BrowseNodeId>493964</BrowseNodeId>
                      <Name>Categories</Name>
                      <IsCategoryRoot>1</IsCategoryRoot>
                      <Ancestors>
                        <BrowseNode>
                          <BrowseNodeId>172282</BrowseNodeId>
                          <Name>Electronics</Name>
                        </BrowseNode>
                      </Ancestors>
                    </BrowseNode>
                  </Ancestors>
                </BrowseNode>
              </Ancestors>
            </BrowseNode>
          </Ancestors>
        </BrowseNode>
        <BrowseNode>
          <BrowseNodeId>1288264011</BrowseNodeId>
          <Name>All product</Name>
          <Ancestors>
            <BrowseNode>
              <BrowseNodeId>1267878011</BrowseNodeId>
              <Name>Products</Name>
              <IsCategoryRoot>1</IsCategoryRoot>
              <Ancestors>
                <BrowseNode>
                  <BrowseNodeId>1267877011</BrowseNodeId>
                </BrowseNode>
              </Ancestors>
            </BrowseNode>
          </Ancestors>
        </BrowseNode>
        <BrowseNode>
          <BrowseNodeId>3545110011</BrowseNodeId>
          <Name>Home Entertainment</Name>
          <Children>
            <BrowseNode>
              <BrowseNodeId>3547652011</BrowseNodeId>
              <Name>Blu-Ray Players</Name>
            </BrowseNode>
            <BrowseNode>
              <BrowseNodeId>3547650011</BrowseNodeId>
              <Name>DVD Players</Name>
            </BrowseNode>
            <BrowseNode>
              <BrowseNodeId>6183878011</BrowseNodeId>
              <Name>Home Theater Projectors</Name>
            </BrowseNode>
            <BrowseNode>
              <BrowseNodeId>1294446011</BrowseNodeId>
              <Name>Televisions</Name>
            </BrowseNode>
            <BrowseNode>
              <BrowseNodeId>6183893011</BrowseNodeId>
              <Name>Television Tuners and Receivers</Name>
            </BrowseNode>
          </Children>
          <Ancestors>
            <BrowseNode>
              <BrowseNodeId>1294447011</BrowseNodeId>
              <Name>Electronics</Name>
              <Ancestors>
                <BrowseNode>
                  <BrowseNodeId>1267878011</BrowseNodeId>
                  <Name>Products</Name>
                  <IsCategoryRoot>1</IsCategoryRoot>
                  <Ancestors>
                    <BrowseNode>
                      <BrowseNodeId>1267877011</BrowseNodeId>
                    </BrowseNode>
                  </Ancestors>
                </BrowseNode>
              </Ancestors>
            </BrowseNode>
          </Ancestors>
        </BrowseNode>
        <BrowseNode>
          <BrowseNodeId>1293319011</BrowseNodeId>
          <Name>Electronics</Name>
          <Ancestors>
            <BrowseNode>
              <BrowseNodeId>1267879011</BrowseNodeId>
              <Name>Special Features</Name>
              <Ancestors>
                <BrowseNode>
                  <BrowseNodeId>1267877011</BrowseNodeId>
                </BrowseNode>
              </Ancestors>
            </BrowseNode>
          </Ancestors>
        </BrowseNode>
      </BrowseNodes>
    </Item>
  </Items>
</ItemLookupResponse> 
```

我正在尝试使用 Javascript 将此数据格式化为 CSV 格式的表格。

有人可以帮忙吗？

提前致谢！普拉尼

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2016-01-08T02:51:37.617

经过长时间的调查，我发现了一些可以帮助你的东西。

从重新发明轮子是一项如此愚蠢且耗时的任务这一点开始，我一直在寻找其他优秀程序员已经在互联网上构建的东西。

不幸的是，作为您在 PHP 中提供的示例，我无法找到从 XML 到 CSV 的直接转换器。

在我的工作示例中，XML 必须首先从 JSON 传递，如下所示：

*   xml2json => json2csv

我在这里和那里拿了一些东西，我将在这个答案的末尾添加我实际使用的所有代码片段的引用，这些代码片段用于构建演示。通过这种方式，您将能够获得一个漂亮而干净的文档，这将帮助您改进此工具。

这是一个简单的演示：

```
function xmlTocsv() {

    var data = $("#xmlArea").val();

    var xml = "";

    if (data !== null && data.trim().length !== 0) {

        try {
            xml = $.parseXML(data);
        } catch (e) {
            throw e;
        }

        var x2js = new X2JS();

        data = x2js.xml2json(xml);
        jsonTocsvbyjson(data);

    }
}

function jsonTocsvbyjson(data, returnFlag) {

    arr = [];
    flag = true;

    var header = "";
    var content = "";
    var headFlag = true;

    try {

        var type1 = typeof data;

        if (type1 != "object") {
            data = processJSON($.parseJSON(data));
        } else {
            data = processJSON(data);
        }

    } catch (e) {
        if (returnFlag === undefined || !returnFlag) {
            console.error("Error in Convert to CSV");
        } else {
            console.error("Error in Convert :" + e);
        }
        return false;
    }

    $.each(data, function(k, value) {
        if (k % 2 === 0) {
            if (headFlag) {
                if (value != "end") {
                    header += value + ",";
                } else {
                    // remove last colon from string
                    header = header.substring(0, header.length - 1);
                    headFlag = false;
                }
            }
        } else {
            if (value != "end") {
                var temp = data[k - 1];
                if (header.search(temp) != -1) {
                    content += value + ",";
                }
            } else {
                // remove last colon from string
                content = content.substring(0, content.length - 1);
                content += "\n";
            }
        }

    });

    if (returnFlag === undefined || !returnFlag) {
        $("#csvArea").val(header + "\n" + content);
    } else {
        return (header + "\n" + content);
    }
}

function processJSON(data) {

    $.each(data, function(k, data1) {

        var type1 = typeof data1;

        if (type1 == "object") {

            flag = false;
            processJSON(data1);
            arr.push("end");
            arr.push("end");

        } else {
            arr.push(k, data1);
        }

    });
    return arr;
}
```

```
<!DOCTYPE html>
<html>
<head>
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js'></script>
<script type='text/javascript' src="https://cdn.rawgit.com/abdmob/x2js/master/xml2json.js"></script>
<script type="text/javascript" src="script.js"></script>
</head>
<body>
    <h1>XML2CSV Demo</h1>
    <button id="convertToXmlBtn" onclick="xmlTocsv()">XML => CSV</button>

    <div>        
        <h4>XML:</h4>
        <textarea id="xmlArea" cols="55" rows="15"></textarea>
    </div>

    <div>
        <h4>CSV:</h4>
        <textarea id="csvArea" cols="55" rows="15"></textarea>
    </div>    
</body>
</html>
```

参考：

*   [XML转CSV转换器](http://codebeautify.org/xml-to-csv-converter)
*   [x2js - XML 到 JSON，反之亦然 JavaScript](https://github.com/abdmob/x2js)

实用程序：

*   [工作Plunkr](https://plnkr.co/edit/WbewzQyTFIcNS0TbWFRO?p=preview)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:14:09.207

尝试使用 jQuery 会更简单 - Ref Link : [Simple XML to HTML Table](http://daigo.org/2010/08/simple-xml-to-html-table-using-jquery/)