# StackOverflow 问答 13760000-13760999

# three.js - 在 three.js 中编辑 3D 动画

> ID：13760000
> 
> 赞同：0
> 
> 时间：2012-12-07T09:10:23.317
> 
> 标签：three.js

我正在研究这个例子 [http://mrdoob.github.com/three.js/examples/webgl_morphtargets_md2_control.html](http://mrdoob.github.com/three.js/examples/webgl_morphtargets_md2_control.html) 在这个网站上找到：http: [//mrdoob.github.com/three.js/](http://mrdoob.github.com/three.js/) 1）我应该改变什么在html文件中运行动画“跳转”？2) 我在哪里可以找到包含角色动画规则的文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:22:08.007

给出的示例是让用户通过键盘输入来控制移动。如果您仔细观察，您会看到一个事件监听器，它允许您通过按“W”来运行字符。

# python - 为什么某些 Flask 会话值在关闭浏览器窗口后会从会话中消失，但稍后会在我没有添加它们的情况下重新出现？

> ID：13760008
> 
> 赞同：8
> 
> 时间：2012-12-07T09:11:25.007
> 
> 标签：python, session, flask, session-cookies

所以我对 Flask 会话的理解是，我可以像字典一样使用它，并通过执行以下操作向会话添加值：

session['key name'] = '这里有一些值'

这很好用。

在我使用 AJAX 发布客户端调用的路由上，我为会话分配了一个值。它工作正常。我可以单击我网站的各个页面，并且该值保留在会话中。但是，如果我关闭浏览器窗口，然后返回我的站点，我在那里的会话值就消失了。

所以这很奇怪，你会认为问题是会话不是永久性的。我还实现了 Flask-Openid，它使用会话来存储信息，如果我关闭浏览器窗口并再次打开它，它*确实会持续存在。*在关闭浏览器窗口后，我还检查了 cookie，但在返回我的站点之前，cookie 确实仍然存在。

另一个奇怪的行为（可能相关）是，当我访问 AJAX 发布路由并分配正确的值时，我为测试目的而写入会话的一些值将消失。所以这很奇怪，但真正奇怪的是，当我关闭浏览器窗口并再次打开它，从而失去了我试图保留的价值时，我之前失去的价值实际上又回来了！它们没有被重新分配，因为我的 Python 文件中没有代码可以重新分配这些值。

这里有一些输出帮助帮助使其更清晰。它们都是从真实页面的路由输出的，而不是我上面提到的 AJAX 发布路由。

这是我分配了要存储在会话中的值后的输出。值键是 'userid' - 所有其他值都是我在尝试解决此问题时添加的虚拟值。'userid': 8 只要我不关闭浏览器窗口，就会留在会话中。我可以访问其他路线，并且价值将保持原样。

```
['session.=', <SecureCookieSession {'userid': 8, 'test_variable_num': 102, 'adding using before request': 'hi', '_permanent': True, 'test_variable_text': 'hi!'}>] 
```

如果我关闭浏览器窗口并返回站点，但不重做 AJAX 发布请求，我会得到以下输出：

```
['session.=', <SecureCookieSession {'adding using before request': 'hi', '_permanent': True, 'yo': 'yo'}>] 
```

'yo' 值不在第一个输出中。我不知道它是从哪里来的。我在我的代码中搜索了“yo”，但没有任何实例可以让我在任何地方分配该值。我想我可能在几天前​​将它添加到会话中。所以它似乎是持续存在的，但是在写入其他值时被隐藏了。

最后一个是我再次访问 AJAX 发布路由，然后转到使用调试打印出密钥的页面。与我在上面粘贴的第一个输出相同的输出，这是您所期望的，并且“yo”值再次消失（但如果我关闭浏览器窗口它会回来）

```
['session.=', <SecureCookieSession {'userid': 8, 'test_variable_num': 102, 'adding using before request': 'hi', '_permanent': True, 'test_variable_text': 'hi!'}>] 
```

我在 Chrome 和 Firefox 中都对此进行了测试。

所以我觉得这很奇怪，我猜这源于对会话如何工作的误解。我认为它们是字典，只要我将会话设置为永久并且 cookie 不会被删除，我就可以将字典值写入其中并在几天后检索它们。

任何想法为什么会发生这种奇怪的行为？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-07T22:12:24.690

原来问题出在多域 cookie 上。我在 127.0.0.1:5000 本地运行该站点，但有时该站点是在 localhost:5000 访问的 - 因此每个域都有一个单独的 cookie。这就解释了为什么数据会消失然后又重新出现。它只是与不同的域相关联。

**以下只是额外的细节**

这是因为 Facebook 不喜欢域名的 IP 地址。所以在本地开发时，我使用的是 127.0.0.1:5000，但 Facebook 回调 url 是 localhost:5000。这很好用，因为 Flask 会在两个 url 处接收请求并将它们视为相同 - 所有路由都按预期工作。除了与不同 url 相关联的会话 cookie。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-07T16:03:23.197

如果您没有设置`session.permanent = True`. 这就是烧瓶会话的定义方式，并在文档中有所提及。

但是，如果您确实将会话设置为永久，则默认为会话将​​持续的 31 天。您也可以通过 更改该默认值`session.permanent_session_lifetime`。这意味着即使您关闭浏览器，会话也将持续存在，当然，除非您手动删除 cookie 本身。

在您的情况下，我不确定您是如何使用 AJAX 调用的，但总的来说，以上对于默认烧瓶会话应该适用。

# jquery - 盒子绝对位于底部，如果盒子上方有内容，盒子会下降

> ID：13760012
> 
> 赞同：3
> 
> 时间：2012-12-07T09:11:36.463
> 
> 标签：jquery, html, css, position

我对 css 有问题，我制作了 html 布局，需要让 bluebox 位于搜索框上方的底部，如果 bluebox 上方有内容，则 bluebox 将下降，因此在 bluebox 和上面的内容之间存在间隙。但如果没有内容，蓝框将位于搜索框上方的底部。

你可以在这里看到html：

[http://projects.elixirbox.com/lanrex/test.html](http://projects.elixirbox.com/lanrex/test.html)

你可以在这里看到我的意思 - [http://projects.elixirbox.com/lanrex/view.png](http://projects.elixirbox.com/lanrex/view.png)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:18:27.957

我认为您需要使用“粘性页脚”技术，使用负边距。页脚（或在您的情况下为“行动号召”框）的唯一缺点需要具有固定的高度。

如果您需要动态高度，则需要涉及 javascript。但是使用具有一些默认高度的相同的粘性页脚 css，然后用 JS 调整它，所以它不仅仅是纯 JS。

[https://gist.github.com/1855032](https://gist.github.com/1855032) 或 [http://ryanfait.com/sticky-footer/](http://ryanfait.com/sticky-footer/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:28:55.320

我希望你看起来像这样：-

```
.greybox {
    background: none repeat scroll 0 0 lightgrey;
    padding: 20px;
}

.bluecorner {
    background: url("../images/bg_blue_corner.jpg") repeat scroll 0 0 transparent;
    color: #FFFFFF;
    margin-top: 20px;
    padding: 0;
    width: 315px;
} 
```

并且没有必要定义我们可以`position-absolute`根据`.bluecorner`您的图像通常使用margin-top获得所需的结果......

**请参阅参考图片我是如何做到的**......

![在此处输入图像描述](../Images/dc1bfebbcb2b149465790e4ad3bb9e43.png)

# c - 在 linux 内核中添加一个新的网络协议

> ID：13760017
> 
> 赞同：11
> 
> 时间：2012-12-07T09:12:11.433
> 
> 标签：c, linux, networking, linux-kernel, kernel

我知道在 linux 内核中我们可以在传输层添加我们自己的协议，类似于 TCP、UDP 等。

是否有任何钩子可以在网络层注册新协议，类似于 IP，ARP，可以将数据包传输到应用程序以及如何在 linux 内核中添加该协议？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-12-07T10:30:30.847

要处理从用户空间到您的协议的通信，请使用内核[套接字 API](https://elixir.bootlin.com/linux/v3.2/source/include/linux/net.h#L232)注册您的协议。这允许您从用户空间创建一个普通的套接字。

[查看相关代码示例](https://elixir.bootlin.com/linux/v3.2/source/net/bluetooth/rfcomm/sock.c#L1011)的蓝牙/RFCOM 套接字实现。

```
static const struct proto_ops rfcomm_sock_ops = {
     .family         = PF_BLUETOOTH,
     .owner          = THIS_MODULE,
     .bind           = rfcomm_sock_bind,
     .connect        = rfcomm_sock_connect,
     .listen         = rfcomm_sock_listen,
     .
     .
     .
     .accept         = rfcomm_sock_accept,

};

static const struct net_proto_family rfcomm_sock_family_ops = {
     .family         = PF_BLUETOOTH,
     .owner          = THIS_MODULE,
     .create         = rfcomm_sock_create
}; 
```

* * *

要注册协议，您必须填写[proto_ops](https://elixir.bootlin.com/linux/v3.2/source/include/linux/net.h#L161)结构。这种结构遵循内核内部其他地方观察到的[面向对象模式。](http://lwn.net/Articles/444910/)该结构定义了一个接口，供开发人员实现自己的套接字接口时遵循。

实现接口定义的函数，如绑定、连接、监听，并将函数指针分配给结构入口。为操作接口未涵盖的功能定义 ioctl。

您最终会得到一个结构，稍后您将嵌入到我们从 create 函数返回的[套接字结构中。](https://elixir.bootlin.com/linux/v3.2/source/include/linux/net.h#L138)

结构 net_proto_family[定义](https://elixir.bootlin.com/linux/v3.2/source/include/linux/net.h#L214)了一个新的协议族。这个结构包括 create 函数，你的函数实现应该填充一个用 proto_ops 结构填充的套接字结构。

之后使用[sock_register](https://elixir.bootlin.com/linux/v3.2/source/include/linux/net.h#L232)注册家庭，如果一切正常，您应该能够从用户空间创建适当的套接字。

在内部，该协议可能应该使用 skbuffs（参见[此处](http://www.skbuff.net/)和[此处](http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=2184DD93AFBBEB3666FE35A4690662E8?doi=10.1.1.81.7216&rep=rep1&type=pdf)）与网络设备进行通信。

skbuffs 是 linux 内核中处理网络数据包的通用方式。数据包被网卡接收，放入一些skbuffs，然后传递到网络堆栈，网络堆栈一直使用skbuff。

这是在 linux 内核中实现网络协议的基本数据结构和 io 路径。

我不知道从头到尾描述此过程的文档。来源与您同在。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-12-07T09:26:03.557

要实现该协议，请编写一个内核模块。

该模块应在`/dev`. 然后，应用程序可以`ioctl()`用来与您的模块对话，以指定目标主机、选项等内容。

有关如何在内核模块中实现的详细信息，[请参阅 The Linux Kernel Module Programming Guide 的第 7 章](http://linux.die.net/lkmpg/x892.html)`ioctl()`。

[这篇博](http://tuxthink.blogspot.ch/2011/01/creating-ioctl-command.html)文似乎也是对该主题的一个很好的介绍。

# excel - VBA 检查单元格的变化

> ID：13760020
> 
> 赞同：0
> 
> 时间：2012-12-07T09:12:23.567
> 
> 标签：excel, vba

我的情况如下：

我有一个插件调用，它使用单元格（1,1）中的公式查询服务器）。服务器发回响应，更改 cell(1,1) 的值。我的函数检测到这一点，然后调用一个显示函数，从 cell(6,1) 开始粘贴服务器发送到现金的数据。数据可能是 X 行和 Y 列大。

这就是我所拥有的：

```
Private Sub Workbook_SheetChange(ByVal Sh As Object, ByVal Target As Range)

    If Target.HasArray = False Then
        If Target = Sheets("My_Sheet").Cells(1, 1) Then
            If InStr(Target.Value, "ServerGettingData") = 0 Then
                Sheets("My_Sheet").Cells(6, 1).Formula = "=My_Display_Call(A1)"
                Sheets("My_Sheet").Cells(6, 1).Calculate
            End If
        End If
    End If

End Sub 
```

第一个 IF 语句是因为我在第二个 IF 语句中遇到类型不匹配，当时将数组数据粘贴到工作表中。但是，我仍然在同一行上遇到类型不匹配。

这一切都是为了通过两个异步调用来模拟同步活动。

编辑`instr`IF 语句的要点是仅在服务器返回数据时检测更改，而不是获取数据。获取数据时，单元格会显示“ServerGettingData”，一旦检索到数据，就会显示其他内容。我试图检测的是后者。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:17:21.167

在工作表模块中添加以下内容：

```
Private Sub Worksheet_Change(ByVal Target As Range)

    If Not Intersect(Target, Cells(1, 1)) Is Nothing Then

            If InStr(Target.Value, "ServerGettingData") = 0 Then
                Sheets("Cancelled").Cells(6, 1).Formula = "=My_Display_Call(A1)"
                Sheets("Cancelled").Cells(6, 1).Calculate
            End If

    End If

End Sub 
```

# unix - 'UNIX' 是否有类似 'dumpbin' 的命令

> ID：13760023
> 
> 赞同：1
> 
> 时间：2012-12-07T09:12:48.657
> 
> 标签：unix, aix

在 UNIX 或 AIX 上是否有可以像[dumpbin](http://support.microsoft.com/kb/177429?wa=wsignin1.0)（windows exe）一样运行的命令？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:27:54.980

'nm' 应该做你正在寻找的东西，抓取符号

[http://linux.about.com/library/cmd/blcmdl1_nm.htm](http://linux.about.com/library/cmd/blcmdl1_nm.htm)

ldd 也可能有助于获取共享对象需求

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:50:49.433

您可以使用 ldd 获取共享对象，使用 nm 获取符号。
hexdump 可以用于显示不同格式的输入（hexa，ascii ...）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T10:06:56.807

尝试以下命令的手册页：

`objdump` `nm` `ldd`

# c# - 在 asp.net 中分块文件上传

> ID：13760026
> 
> 赞同：2
> 
> 时间：2012-12-07T09:13:20.017
> 
> 标签：c#, asp.net, sql-server

我有一个网站，它允许文件上传高达 1gb，目前它将文件读入 Filestream，然后将其作为二进制内容写入 MSSQL 数据库。

我发现这越来越占用大量资源，所以我调查了“分块”文件，以便它进入 4mb 块。

我已经得到它，所以块进入数据库，但现在上传时间是从 FileUpload 控件到 FileStream 的两倍，一旦它开始将它以块的形式写入数据库。

理想情况下，我希望它直接从 FileUpload 分块，这样当 InputStream 中有 4mb 时，它开始写入数据库。这是我到目前为止测试过的内容：

```
 Stream fs = FileUpload.PostedFile.InputStream;

        int BUFFER_SIZE = 4000;
        byte[] chunk = new byte[BUFFER_SIZE];

        SqlConnection connection = new  SqlConnection(ConfigurationSettings.AppSettings["SQLConnection"]);
        connection.Open();
        SqlCommand cmd = new SqlCommand("UPDATE TABLENAME SET Content.WRITE(@data, NULL, 0) WHERE ID ='" + DocID + "'", connection);

        SqlParameter dataParam = cmd.Parameters.Add("@data", SqlDbType.VarBinary); // remaining as Update.WRITE
        SqlParameter lengthParam = cmd.Parameters.Add("@length", SqlDbType.Int);

        int cIndex = 0;
        int readBytes = 0;
        int fileSize = System.Convert.ToInt32(fs.Length);

        while (cIndex < fileSize)
        {
            if (cIndex + BUFFER_SIZE > fileSize)
                readBytes = fileSize - cIndex;
            else
                readBytes = BUFFER_SIZE;
            fs.Read(chunk, 0, readBytes);

            dataParam.Value = chunk;
            dataParam.Size = readBytes;
            lengthParam.Value = readBytes;

            cmd.ExecuteNonQuery();

            cIndex += BUFFER_SIZE;
        } 
```

所以澄清一下，我正在等待 PostedFile 完全上传文件，然后我才能开始将它发送到数据库。

```
 FileUpload.PostedFile.InputStream; 
```

谁能指出我正确的方向？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:50:19.013

由于 FileUpload 控件的工作方式，我认为这不能通过网络浏览器完成（它从请求中获取文件文件，如源代码所示）

```
public System.Web.HttpPostedFile PostedFile
{
    get
    {
        if !(this.Page == null) && (this.Page.IsPostBack) 
        {
            return this.Context.Request.Files.Item(this.UniqueID);
        }
        return null;
    }
} 
```

我曾经使用以下步骤使用本机客户端完成这项工作：

客户：

*   获取上传令牌
*   开始上传块（你喜欢的大小，虽然我建议最大文件大小/10，所以你可以给你的用户反馈已经上传了多少）

服务器：

*   提供令牌，存储在字典或类似的东西中
*   将接收到的块添加到以令牌为名称的文件中
*   如果文件/块已正确到达，则返回

希望这会以某种方式帮助你:)。

# javascript - jQuery inArray 返回选择元素的数量

> ID：13760028
> 
> 赞同：-1
> 
> 时间：2012-12-07T09:13:20.583
> 
> 标签：javascript, jquery, arrays

```
jQuery('#additional-channels-list select').live('change', function(){
    var current_id = parseInt(jQuery(this).val());
    select_values.push(current_id);
    console.log(select_values);
    console.log(jQuery.inArray(current_id, select_values));
}); 
```

我想在没有 ctrl 的情况下创建多项选择，所以我需要将值存储在数组中。当我尝试检查值`inArray`时，方法返回给我选择列表中选定元素的位置，而不是有关数组中当前值的信息。我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:18:07.950

使用从 inArray 返回的索引来获取 select_values 中的相应值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:24:12.063

InArray 返回项目索引，来自 jQuery 文档：

> $.inArray() 方法类似于 JavaScript 的原生 .indexOf() 方法，因为它在找不到匹配项时返回 -1。如果数组中的第一个元素与值匹配，则 $.inArray() 返回 0。

# php - Fileupload 包含带有特殊字符的文件的 zip 文件

> ID：13760037
> 
> 赞同：2
> 
> 时间：2012-12-07T09:14:09.820
> 
> 标签：php, jquery, file-upload, zip, special-characters

[[*看到最后的更新和结论，我仍然无法解释为什么*]]

* * *

所以，我在这里有一个奇怪的案例：

我有一个文件上传表单，用于上传 zip/rar 档案。但是，如果存档中的文件包含特殊字符，则有些会正确显示，而有些则不会。有一个包含字母的文件在上传和移动的 zipfile 中`È`变成了一个加号`+`，但包含该字母的文件`Ö`被正确保留。

上传前的 zip 文件：

```
Files.zip
    Some_file_with_È.pdf
    Some_file_with_Î.pdf
    Some_file_with_Ñ.pdf
    Some_file_with_Ö.pdf 
```

上传和移动后的 zip 文件：

```
Files.zip
    Some_file_with_+.pdf  <-- Altered
    Some_file_with_+.pdf  <-- Altered
    Some_file_with_Ñ.pdf
    Some_file_with_Ö.pdf 
```

我尝试在 UTF-8 和 ISO-8859-1 / ANSI 中对表单、.php 文件、.js 文件和所有标头进行编码，`AddDefaultCharset utf-8`在 Apache 配置中设置，但没有任何改变..

**表单 HTML：**

```
<!-- The form. Also tried accept-charset="UTF-8" -->
<form id="uploadzipform" accept-charset="ISO-8859-1">
    <input type="file" name="zipfile" id="zipfile">
</form>

<!-- The target iframe to handle fileupload -->
<iframe class="uploadframe" name="zipuploadframe" id="zipuploadframe"></iframe> 
```

**jQuery：**

```
$("#uploadzipform").attr(
{
    action: "/script/fileupload.php",
    method: "POST",
    enctype: "multipart/form-data",
    target: "zipuploadframe"
});

$("#uploadzipform").submit();
$("#uploadzipform").removeAttr("action method enctype target"); 
```

**文件上传.php：**

```
/* Irrelevant parts omitted */

$ext = strtolower(pathinfo($_FILES["zipfile"]["name"], PATHINFO_EXTENSION));

// Remove special chars from projectname to make filename
$project = preg_replace('/[^a-zA-Z0-9_ %\[\]\.\(\)%&-]/s', '', substr(utf8_decode($_POST['p']), 0, 9));
$now = date("d-m-Y H.i.s");
$filename = "{$project}_{$now}.{$ext}";

$old = $_FILES["zipfile"]["tmp_name"];
$new = $_SERVER['DOCUMENT_ROOT'] . "/zipfiles/" . $filename;

move_uploaded_file($old, $new); 
```

* * *

**zip中包含特殊字符的文件**怎么*可能被更改？*

 *## **编辑1**

忘了说服务器运行的是 Windows Server 2008

* * *

## **编辑2**

根据要求，解压缩上传的 zipfile 的代码（使用 7zip 命令行）：

```
$file = str_replace("/", "\\", $_POST['f']); // Path to the zipfile

$path = "C:\\pathtoextract";
mkdir("$path");
$cmd = 'C:\\7-Zip\\7z.exe x "' . $file . '" -aou -o' . $path;
    // x    = extract
    // -aou = append existing files with numbers
    // -o   = path to extract to
exec($cmd); 
```

* * *

# **更新**

我尝试了一些事情，这就是发生的事情：

案例1：公正`Ñ`和`Ö`

```
Before upload:              After upload:
 Files.zip                   Files.zip
    Some_file_with_Ñ.pdf        Some_file_with_-.pdf  <-- Altered (minus?)
    Some_file_with_Ö.pdf        Some_file_with_+.pdf  <-- Altered 
```

情况2：正常`E`和`I`+`Ñ`和`Ö`

```
Before upload:              After upload:
 Files.zip                   Files.zip
    Some_file_with_E.pdf        Some_file_with_E.pdf  <-- Not altered
    Some_file_with_I.pdf        Some_file_with_I.pdf  <-- Not altered
    Some_file_with_Ñ.pdf        Some_file_with_-.pdf  <-- Altered (minus?)
    Some_file_with_Ö.pdf        Some_file_with_+.pdf  <-- Altered 
```

案例 3：正常`I`+ `È`，`Ñ`和`Ö`

```
Before upload:              After upload:
 Files.zip                   Files.zip
    Some_file_with_È.pdf        Some_file_with_+.pdf  <-- Altered
    Some_file_with_I.pdf        Some_file_with_I.pdf  <-- Not altered
    Some_file_with_Ñ.pdf        Some_file_with_-.pdf  <-- Altered (minus?)
    Some_file_with_Ö.pdf        Some_file_with_+.pdf  <-- Altered 
```

案例 4: `Å`, `È`,`Ñ`和`Ö`

```
Before upload:              After upload:
 Files.zip                   Files.zip
    Some_file_with_Å.pdf        Some_file_with_+.pdf  <-- Altered
    Some_file_with_È.pdf        Some_file_with_+.pdf  <-- Altered
    Some_file_with_Ñ.pdf        Some_file_with_-.pdf  <-- Altered (minus?)
    Some_file_with_Ö.pdf        Some_file_with_+.pdf  <-- Altered 
```

案例 5：同样是第一个档案`È`, `Î`,`Ñ`和`Ö`

```
Before upload:              After upload:
 Files.zip                   Files.zip
    Some_file_with_È.pdf        Some_file_with_+.pdf  <-- Altered
    Some_file_with_Î.pdf        Some_file_with_+.pdf  <-- Altered
    Some_file_with_Ñ.pdf        Some_file_with_-.pdf  <-- Altered (minus?)
    Some_file_with_Ö.pdf        Some_file_with_+.pdf  <-- Altered 
```

*嗯..现在一切都改变了。*

`È`案例 6：使用、`Î`和创建新`Ñ`存档`Ö`

```
Before upload:              After upload:
 Files.zip                   Files.zip
    Some_file_with_È.pdf        Some_file_with_È.pdf  <-- Not altered
    Some_file_with_Î.pdf        Some_file_with_Î.pdf  <-- Not altered
    Some_file_with_Ñ.pdf        Some_file_with_Ñ.pdf  <-- Not altered
    Some_file_with_Ö.pdf        Some_file_with_Ö.pdf  <-- Not altered 
```

* * *

## **结论：不要编辑压缩文件，每次都创建一个新的......**

显然 php 不喜欢修改过的档案，它给出这样的结果仍然很奇怪。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:40:46.763

这是一个 zip 编码问题。在 unix 服务器上，zip 解码器认为存档中的文件名与服务器上的编码相同，而 Windows 使用 DOS (OEM) 编码，Mac OS - UTF-8。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T13:10:56.243

# 结论：不要编辑压缩文件，每次都创建一个新的......

显然 php 不喜欢修改过的档案，它给出这样的结果仍然很奇怪。*

# php - 管理面板 cms 的裁剪工具

> ID：13760039
> 
> 赞同：1
> 
> 时间：2012-12-07T09:14:16.480
> 
> 标签：php, javascript, image, crop

是否有任何工具（JS 和 PHP）可以根据我们指定的宽度和高度裁剪图像并上传和保存？

它们中的大多数仅用于调整大小而不是裁剪我们指定的插入宽度和高度。

有没有什么好的工具（JS & PHP）可以用于我的网络管理面板/CMS。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T15:33:15.097

这就是我要找的.. 完美！

[http://net.tutsplus.com/articles/news/working-with-the-jcrop-plugin/](http://net.tutsplus.com/articles/news/working-with-the-jcrop-plugin/)

# wpf - 如何通过多线程将 DataRow 添加到 Viewmodel 中的 DataTable

> ID：13760041
> 
> 赞同：1
> 
> 时间：2012-12-07T09:14:19.197
> 
> 标签：wpf, multithreading, mvvm, binding, datatable

我遇到了设计模式 MVVM 的问题。在我的视图中，我得到了一个绑定到我的视图模型中的数据表的 Datagrid。

```
 <WPF:BADataGrid Grid.Column="1" x:Name="dgStapelliste" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding Stapelliste, Mode=OneWay}"/> 
```

在视图模型的构造函数中，我加载了 ItemsSource。

```
 this.StapelListe = this._stapel.Get(); 
```

如果我在运行时通过按钮添加一些额外的行，一切正常。但我不想按下按钮来刷新数据网格，我希望它在线程或后台工作人员中自动发生。

这是一些测试示例：

```
 BackgroundWorker worker = new BackgroundWorker();
        worker.DoWork += delegate(object s, DoWorkEventArgs args)
        {
            while (true)
            {
                Thread.Sleep(5000);

                DataRow row = this.StapelListe.NewRow();
                row["StapelNr"] = 123456;
                this.StapelListe.Rows.Add(row);
            }
        }; 
```

这不起作用......我不知道为什么......这些行被添加到数据表“StapelListe”中，但数据网格不会自行刷新......

如果我在线程中更改数据表中的现有行，它会起作用！它只是不适用于从集合中添加或删除行。

有人知道为什么会发生这种情况和/或如何解决它？

亲切的问候...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:19:38.580

你犯了数据绑定的经典错误。如果您从不让您的 GUI 知道某些事情发生了变化，您应该如何假设您的屏幕更新。为此，您需要使用**NotifyPropertyChanged**接口。

从 INotifyPropertyChanged 接口实现您的视图模型。

这是您可以在工作中使用的代码片段

您不必使用线程来完成这项工作，只要您在更新集合后调用 NotifyProperyChanged 就可以了。

如果您不使用 ObservableCollection，则必须更新列表的引用，这对您的应用程序性能来说不会很痛苦

```
 BackgroundWorker worker = new BackgroundWorker();
        worker.DoWork += delegate(object s, DoWorkEventArgs args)
        {
            while (true)
            {
                Thread.Sleep(5000);
                DataRow row = this.StapelListe.NewRow();
                row["StapelNr"] = 123456;
                this.StapelListe.Rows.Add(row);
                Datatable dt=new datatable(); //new reference
                foreach (DataRow dr in StapelListe.Rows)
                {     
                 dt.Rows.Add(dr.ItemArray);
                }

                 StapelList=dt; //updating the reference of property
                 // when the above line executes your property setter fires
                 // and calls notifyproperty changed and then all done
        }; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:27:23.763

正如 MegaMind 所写，视图需要知道某些事情已经发生了变化。如果您要向现有 DataTable 添加新行，则视图永远不会收到已添加内容的通知。因此，您应该使用为此制作的集合：`ObservableCollection<T>`.

# android - 如何使用 javacv/opencv 在 android 中集成音频和视频？

> ID：13760053
> 
> 赞同：3
> 
> 时间：2012-12-07T09:15:08.503
> 
> 标签：android, audio, opencv, ffmpeg, javacv

对于我的应用程序，我通过在 android.but 中使用 javacv/opencv 从一组图像创建视频。但是该视频播放时没有声音。所以我想将我录制的音频（mp3 文件）添加到生成的视频中，我该如何实现它？

这是我的代码，用于从图像中获取视频，

```
 String path =SCREENSHOT_FOLDER2; 

            File folder = new File(path);

                listOfFiles = folder.listFiles();  
                if(listOfFiles.length>0)
                {

              iplimage = new opencv_core.IplImage[listOfFiles.length];

               for (int j = 0; j < listOfFiles.length; j++) {

                 String files="";       

               if (listOfFiles[j].isFile()) 
               {
               files = listOfFiles[j].getName();

                 }   

                String[] tokens = files.split("\\.(?=[^\\.]+$)");
               String name=tokens[0]; 

                System.out.println(" j " + name);

              iplimage[j]=cvLoadImage("/mnt/sdcard/images/"+name+".png");

               }

            } 

                File videopath = new File(SCREENSHOT_FOLDER3);
                videopath.mkdirs();
                 FFmpegFrameRecord recorder = new          
                    FFmpegFrameRecord(SCREENSHOT_FOLDER3+
                  "video"+System.currentTimeMillis()+".mp4",320,480);

                 try {
                     recorder.setCodecID(CODEC_ID_MPEG4); //CODEC_ID_MPEG4                            
                     //CODEC_ID_MPEG1VIDEO
                     recorder.setBitrate(sampleVideoBitRate);
                     recorder.setFrameRate(10);                     
                     recorder.setPixelFormat(PIX_FMT_YUV420P); //PIX_FMT_YUV420P

                     recorder.start();

                     int x = 0;
                     int y = 0;
                    for (int i=0;i< 300 && x<iplimage.length;i++)

                       {

                         recorder.record(image[x]);

                        if (i>(y+10)) {
                            y=y+1;
                            x++;
                        }

                        }
                     recorder.stop();
                    }
                 catch (Exception e){
                     e.printStackTrace();
                   } 
```

现在如何在此代码中集成音频文件（.mp3）文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:29:45.907

OpenCV 和随后的 JavaCV 不支持音频。

您必须为此使用不同的库。查看 Android 对视频/音频、第三方库或您可能认为有用的任何其他方式的支持。

但不要仅仅指望 OpenCV 能帮助你，因为它对音频的支持是 0%。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-09T16:53:15.837

我不会说 JavaCV 不支持音频，因为它集成了许多 opencv 不支持的库——例如 ffmpeg。检查这个[问题](http://code.google.com/p/javacv/issues/detail?id=160)的长线程。

# asp.net-mvc - 如何：多租户、单表、单模式、实体框架、MVC

> ID：13760054
> 
> 赞同：0
> 
> 时间：2012-12-07T09:15:10.733
> 
> 标签：asp.net-mvc, entity-framework, dependency-injection, multi-tenant

我一直在寻找围绕 EF 的多租户解决方案。我想使用单个表和单个模式（在所有表上使用 TenantID 的行隔离）。

我真的不想包装 EF（正如这篇文章[Entity Framework for Multi-tenant architecture - filters single table by tenant ID](https://stackoverflow.com/questions/9587814/entity-framework-for-multi-tenant-architecture-filterings-single-table-by-tena)的回答中所建议的那样），因为这将使访问 EF 中的所有好东西变得非常困难。

经过一些研究，我开始研究依赖注入，特别是 Autofac，但似乎无法将其付诸实践（或者可能只是不太了解 IoC，就像我想的那样）。

我正在努力做的事情可以实现吗？DI 能解决我的问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T12:25:26.993

依赖注入与 EF 或多租户无关。DI 是一种为使用它们的所有不同代码段提供依赖关系的方法。它与数据库无关。

如果我误解了您的意图，请澄清。

# iphone - 审查某些文字和图像

> ID：13760061
> 
> 赞同：2
> 
> 时间：2012-12-07T09:15:40.243
> 
> 标签：iphone, ios, xcode

我的问题是如何在我的应用程序上审查不良语言和裸露图像，是否有某种框架可以过滤用户介绍的内容？IOS 专家，你现在用什么来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T12:35:03.627

您的问题有两个部分：1）审查文本，2）审查图像。

对于文本，您可以存储字典并将用户输入与您想要审查的单词相匹配。但是，您如何定义不良语言？单词的含义取决于其上下文，而软件无法确定上下文。即是说有人喜欢吃西瓜的东西应该被审查？好吧，如果应用于某些人群，它可能会被视为种族主义。这是你的字典无法分辨的。

在图像的情况下，没有可靠的方法通过算法来辨别裸露。事实上，出于这个原因，所有进行图像审查的网站都使用人工对用户提供的图像进行分类和审查（据我所知，这并不是最好的工作）。甚至人类也会犯错。最近 FB 拒绝了一张女性洗澡的照片，因为他们误认为她的肘部是裸露的乳房。

# javascript - 如何提前排队？

> ID：13760062
> 
> 赞同：0
> 
> 时间：2012-12-07T09:15:46.650
> 
> 标签：javascript, html

我想让人们在尝试在我的网站上订票时排队，尤其是当很多人同时尝试时。

我想知道（假设地）人们是否有办法跳过这个队列并直接预订？

这是代码：

```
 <script type="text/javascript">
            var time_done = 263;
            var time_retry = 30;
            var time_todo = 7786;
    var todo_pix = 100;
    var done_pix = 0;
    var width = 100;
    var ppu = 0;
    var interval = 0;

    function progress_queue()
    {
        width = document.getElementById('contain').width;
        if(time_done > -1) 
        {
            if(!interval) 
            {
                ppu = width / (time_todo+time_done);
                update_qtime();
            }
            interval = (1000*time_todo)/todo_pix;
            document.getElementById('done').style.width = parseInt(done_pix) + 'px';
            document.getElementById('todo').style.width = parseInt(todo_pix) + 'px';
                document.getElementById('jhide').style.visibility = "visible";
            todo_pix--;
            done_pix++;
            if (time_retry > 3) setTimeout('progress_queue()', interval);
        }
    }

    function update_qtime()
    {
        time_todo--;
        time_done++;
        todo_pix = time_todo*ppu;
        done_pix = time_done*ppu;
        setTimeout('update_qtime()', 1000);
    }
</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T09:31:19.337

诸如票务队列之类的事情应该通过像 PHP 这样的服务器端语言来完成，而不是像 Javascript 这样的客户端语言。

如果我正确阅读了您的代码，他们需要做的就是禁用 Javascript 或在 Firebug（或其他）中设置断点，然后使用 Firebug/whatever 将#done 的可见性设置为可见。

# javascript - 基于 HTML5 画布点的缩放和平移的边缘校正

> ID：13760066
> 
> 赞同：0
> 
> 时间：2012-12-07T09:16:12.607
> 
> 标签：javascript, jquery, html, html5-canvas

我已经使用 stackoverflow [post](https://stackoverflow.com/questions/5189968/zoom-canvas-to-mouse-cursor)实现了基于点的缩放功能。

我无法将图像放入视图区域内。它无限期地平移。如何在平移图像时将此图像放入视口中？

# asp.net - Datapager 总是标记第 1 页

> ID：13760068
> 
> 赞同：0
> 
> 时间：2012-12-07T09:16:17.000
> 
> 标签：asp.net, vb.net, listview, datapager

我面临与 Listview 关联的两个 Datapager 的问题。这是我的页面：

```
<asp:DataPager ID="PagerTop" runat="server" PagedControlID="pp" QueryStringField="page" PageSize="30"></asp:DataPager>

<asp:ListView ID="pp" runat="server" ItemPlaceholderID="holder" EnableViewState="true" OnPagePropertiesChanging="PagePropertiesChanging">
...
</asp:ListView>

<asp:DataPager ID="PagerBottom" runat="server" PagedControlID="pp" QueryStringField="page" PageSize="30"></asp:DataPager> 
```

后面的代码如下

```
Private Sub Page_PreRender(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.PreRender
    Dim MyData As List(Of Product)
    MyData = ResultsManager.GetResults()
    pp.DataSource = MyData
    pp.DataBind()
End Sub

Private Sub PagePropertiesChanging(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.PagePropertiesChangingEventArgs)
    PagerTop.SetPageProperties(e.StartRowIndex, e.MaximumRows, False)
    PagerBottom.SetPageProperties(e.StartRowIndex, e.MaximumRows, False)
    pp.DataBind()
End Sub 
```

当我更改页面时，列表视图会更新并显示与指示页面对应的结果，并`PagerTop`显示所选页面。这就是他们应该如何工作。但是`PagerBottom`卡在第 1 页上并且永远不会改变！

我单击哪个寻呼机都没有关系，它`PagerTop`始终有效并且`PagerBottom`始终停留在第 1 页。

我没有什么好主意了……这里有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T13:40:39.670

这里给出了一个很好的例子 [http://www.c-sharpcorner.com/uploadfile/nipuntomar/datapager-in-Asp-Net-3-5/](http://www.c-sharpcorner.com/uploadfile/nipuntomar/datapager-in-Asp-Net-3-5/) 只需放置另一个具有不同ID的数据寻呼机而无需任何更改。我已经尝试过并且工作得很好。

# javascript - AngularJS 将数据传递给 $http.get 请求

> ID：13760070
> 
> 赞同：589
> 
> 时间：2012-12-07T09:16:20.300
> 
> 标签：javascript, angularjs, javascript-framework

我有一个执行 http POST 请求的函数。代码在下面指定。这工作正常。

```
 $http({
   url: user.update_path, 
   method: "POST",
   data: {user_id: user.id, draft: true}
 }); 
```

我有另一个用于 http GET 的功能，我想向该请求发送数据。但是我在get中没有那个选项。

```
 $http({
   url: user.details_path, 
   method: "GET",
   data: {user_id: user.id}
 }); 
```

的语法`http.get`是

**获取（网址，配置）**

* * *

## 回答 #1

> 赞同：956
> 
> 时间：2012-12-07T09:34:11.507

HTTP GET 请求不能包含要发布到服务器的数据。但是，您可以向请求中添加查询字符串。

angular.http 为其提供了一个名为`params`.

```
$http({
    url: user.details_path, 
    method: "GET",
    params: {user_id: user.id}
 }); 
```

请参阅：[http](http://docs.angularjs.org/api/ng.$http#get) ://docs.angularjs.org/api/ng.$http#get和[https://docs.angularjs.org/api/ng/service/$http#usage](https://docs.angularjs.org/api/ng/service/$http#usage)（显示`params`参数）

* * *

## 回答 #2

> 赞同：526
> 
> 时间：2013-08-29T18:07:23.243

您*可以*将参数直接传递给`$http.get()`以下工作正常

```
$http.get(user.details_path, {
    params: { user_id: user.id }
}); 
```

* * *

## 回答 #3

> 赞同：44
> 
> 时间：2015-12-28T07:04:06.087

从**AngularJS v1.4.8**开始，你可以使用 [**`get(url, config)`**](https://docs.angularjs.org/api/ng/service/$http#get) 如下：

```
var data = {
 user_id:user.id
};

var config = {
 params: data,
 headers : {'Accept' : 'application/json'}
};

$http.get(user.details_path, config).then(function(response) {
   // process response here..
 }, function(response) {
}); 
```

* * *

## 回答 #4

> 赞同：34
> 
> 时间：2015-12-11T15:39:39.903

有兴趣在 GET 请求中发送参数和标头的解决方案

```
$http.get('https://www.your-website.com/api/users.json', {
        params:  {page: 1, limit: 100, sort: 'name', direction: 'desc'},
        headers: {'Authorization': 'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='}
    }
)
.then(function(response) {
    // Request completed successfully
}, function(x) {
    // Request error
}); 
```

完整的服务示例将如下所示

```
var mainApp = angular.module("mainApp", []);

mainApp.service('UserService', function($http, $q){

   this.getUsers = function(page = 1, limit = 100, sort = 'id', direction = 'desc') {

        var dfrd = $q.defer();
        $http.get('https://www.your-website.com/api/users.json', 
            {
                params:{page: page, limit: limit, sort: sort, direction: direction},
                headers: {Authorization: 'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='}
            }
        )
        .then(function(response) {
            if ( response.data.success == true ) { 

            } else {

            }
        }, function(x) {

            dfrd.reject(true);
        });
        return dfrd.promise;
   }

}); 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2014-09-25T11:31:59.430

您甚至可以简单地将参数添加到 url 的末尾：

```
$http.get('path/to/script.php?param=hello').success(function(data) {
    alert(data);
}); 
```

与 script.php 配对：

```
<? var_dump($_GET); ?> 
```

导致以下 javascript 警报：

```
array(1) {  
    ["param"]=>  
    string(4) "hello"
} 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-05-18T07:32:16.157

这是在 ASP.NET MVC 中使用 angular.js 的带有参数的 HTTP GET 请求的完整示例：

**控制器：**

```
public class AngularController : Controller
{
    public JsonResult GetFullName(string name, string surname)
    {
        System.Diagnostics.Debugger.Break();
        return Json(new { fullName = String.Format("{0} {1}",name,surname) }, JsonRequestBehavior.AllowGet);
    }
} 
```

**看法：**

```
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
<script type="text/javascript">
    var myApp = angular.module("app", []);

    myApp.controller('controller', function ($scope, $http) {

        $scope.GetFullName = function (employee) {

            //The url is as follows - ControllerName/ActionName?name=nameValue&surname=surnameValue

            $http.get("/Angular/GetFullName?name=" + $scope.name + "&surname=" + $scope.surname).
            success(function (data, status, headers, config) {
                alert('Your full name is - ' + data.fullName);
            }).
            error(function (data, status, headers, config) {
                alert("An error occurred during the AJAX request");
            });

        }
    });

</script>

<div ng-app="app" ng-controller="controller">

    <input type="text" ng-model="name" />
    <input type="text" ng-model="surname" />
    <input type="button" ng-click="GetFullName()" value="Get Full Name" />
</div> 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-03-30T07:03:03.867

For sending get request with parameter i use

```
 $http.get('urlPartOne\\'+parameter+'\\urlPartTwo') 
```

By this you can use your own url string

# c# - 选择数据表的某些列

> ID：13760072
> 
> 赞同：29
> 
> 时间：2012-12-07T09:16:34.840
> 
> 标签：c#, datatable, ado.net

我有一个数据表，想知道我是否可以选择某些列并在表中输入数据。列如下所示

|col1 |col2 |col3|col4 |col5 |col6|col7 |col8 |col9 |col10 |col11 |

我想选择列 col1、col2、col6、col7、col3。并在数据表中行的网格视图中显示数据。目前我正在使用的代码在下面，并且只选择某些数据。我没有从 sql 中选择数据，它的数据是从存储在数据表中的另一个 excel 中选择的。但我也需要另一个区域中的其他列。这个数据正在被写入 word 表中

```
 for (int i = 1; i < table.Rows.Count; i++)
            {
                for (int j = 0; j < table.Columns.Count; j++)
                {
                    if (j == 0)
                    {
                        val = filteredData.Rows[row][col].ToString();
                    }
                    else
                    {
                        val = filteredData.Rows[row][col].ToString();

                        if (val == "-" || val == "")
                        {
                            val = filteredData.Rows[row][col].ToString();

                        }
                        else
                        {
                            val = Convert.ToString(Math.Round(Convert.ToDouble(filteredData.Rows[row][col]), MidpointRounding.AwayFromZero));

                        }
                    }

                    table[j, i].TextFrame.Text = val;
                    col++;
                } 
```

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2013-06-13T06:34:30.330

我们也可以这样尝试，

```
 string[] selectedColumns = new[] { "Column1","Column2"};

 DataTable dt= new DataView(fromDataTable).ToTable(false, selectedColumns); 
```

* * *

## 回答 #2

> 赞同：36
> 
> 时间：2012-12-07T09:41:15.647

首先将表存储在视图中，然后从该视图中选择列到新表中。

```
// Create a table with abitrary columns for use with the example
System.Data.DataTable table = new System.Data.DataTable();
for (int i = 1; i <= 11; i++)
    table.Columns.Add("col" + i.ToString());

// Load the table with contrived data
for (int i = 0; i < 100; i++)
{
    System.Data.DataRow row = table.NewRow();
    for (int j = 0; j < 11; j++)
        row[j] = i.ToString() + ", " + j.ToString();
    table.Rows.Add(row);
}

// Create the DataView of the DataTable
System.Data.DataView view = new System.Data.DataView(table);
// Create a new DataTable from the DataView with just the columns desired - and in the order desired
System.Data.DataTable selected = view.ToTable("Selected", false, "col1", "col2", "col6", "col7", "col3"); 
```

使用示例数据测试我发现的这种方法： [创建仅显示选定列的 ADO.NET 数据视图](https://stackoverflow.com/questions/1201255/create-ado-net-dataview-showing-only-selected-columns)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T09:27:47.010

我要问的问题是，如果不需要，为什么要在 DataTable 中包含额外的列？

也许您应该修改您的 SQL 选择语句，以便它在填充 DataTable 时查看您正在寻找的特定条件。

您还可以使用 LINQ 将您的 DataTable 查询为 Enumerable 并创建一个仅表示某些列的列表对象。

除此之外，隐藏您不需要的 DataGridView 列。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-07T10:29:27.773

这是匿名输出记录的工作示例，如果您有任何问题，请在下面发表评论：                    

```
public partial class Form1 : Form
{
    DataTable table;
    public Form1()
    {
        InitializeComponent();
        #region TestData
        table = new DataTable();
        table.Clear();
        for (int i = 1; i < 12; ++i)
            table.Columns.Add("Col" + i);
        for (int rowIndex = 0; rowIndex < 5; ++rowIndex)
        {
            DataRow row = table.NewRow();
            for (int i = 0; i < table.Columns.Count; ++i)
                row[i] = String.Format("row:{0},col:{1}", rowIndex, i);
            table.Rows.Add(row);
        }
        #endregion
        bind();
    }

    public void bind()
    {
        var filtered = from t in table.AsEnumerable()
                       select new
                       {
                           col1 = t.Field<string>(0),//column of index 0 = "Col1"
                           col2 = t.Field<string>(1),//column of index 1 = "Col2"
                           col3 = t.Field<string>(5),//column of index 5 = "Col6"
                           col4 = t.Field<string>(6),//column of index 6 = "Col7"
                           col5 = t.Field<string>(4),//column of index 4 = "Col3"
                       };
        filteredData.AutoGenerateColumns = true;
        filteredData.DataSource = filtered.ToList();
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-21T15:25:09.607

您可以创建如下所示的方法：

```
 public static DataTable SelectedColumns(DataTable RecordDT_, string col1, string col2)
    {
        DataTable TempTable = RecordDT_;

        System.Data.DataView view = new System.Data.DataView(TempTable);
        System.Data.DataTable selected = view.ToTable("Selected", false, col1, col2);
        return selected;
    } 
```

您可以返回尽可能多的列。只需将列添加为调用参数，如下所示：

```
public DataTable SelectedColumns(DataTable RecordDT_, string col1, string col2,string col3,...) 
```

并将参数添加到这一行：

```
System.Data.DataTable selected = view.ToTable("Selected", false,col1, col2,col3,...); 
```

然后简单地将函数实现为：

```
 DataTable myselectedColumnTable=SelectedColumns(OriginalTable,"Col1","Col2",...); 
```

谢谢...

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2018-02-26T15:54:29.310

```
DataView dv = new DataView(Your DataTable);

DataTable dt = dv.ToTable(true, "Your Specific Column Name"); 
```

dt 仅包含选定的列值。

# grails - gorm finder的奇怪行为

> ID：13760078
> 
> 赞同：2
> 
> 时间：2012-12-07T09:16:59.973
> 
> 标签：grails, grails-orm

在控制器中我有这个查找器

```
User.findByEmail('test@test.com') 
```

并且有效。

即使我写也有效

```
User.findByEmail(null) 
```

但如果我写

```
User.findByEmail(session.email) 
```

并且 session.email 没有定义（ergo 为空）它抛出异常

```
groovy.lang.MissingMethodException: No signature of method: myapp.User.findByEmail() is applicable for argument types: () values: [] 
```

这种行为对吗？

如果我评估“session.email”它给我 null 所以我认为它必须像我写 User.findByEmail(null) 时那样工作

## 更奇怪的是......

如果我在 groovy 控制台中运行此代码：

```
import myapp.User
User.findByEmail(null) 
```

它返回一个电子邮件为空的用户，但如果我再次运行相同的代码，它会返回

```
groovy.lang.MissingMethodException: No signature of method: myapp.User.findByEmail() is applicable for argument types: () values: [] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T12:25:14.717

您不能使用标准`findBySomething`动态查找器来搜索空值，您需要改用`findBySomethingIsNull`版本。尝试

```
def user = (session.email ? User.findByEmail(session.email)
                          : User.findByEmailIsNull()) 
```

请注意，即使`User.findByEmail(null)`每次都能正常工作，它也不一定会在所有数据库上为您提供正确的结果，因为它`findBySomething(null)`会转化为

```
WHERE something = null 
```

在底层 SQL 查询中，并且根据 SQL 规范`null`不等于其他任何东西（甚至不等于`null`）。您必须`something is null`在 SQL 中使用来匹配空值，这就是`findBySomethingIsNull()`转换为的内容。

您可以在类中编写一个静态实用程序方法`User`来将此检查收集到一个地方

```
public static User byOptEmail(val) {
  if(val == null) {
    return User.findByEmailIsNull()
  }
  User.findByEmail(val)
} 
```

然后`User.byOptEmail(session.email)`在您的控制器中使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T15:55:21.853

grails nabble 论坛的 Jeff Brown 发现了我的问题。这是一个 GORM 错误。[见吉拉](http://jira.grails.org/browse/GRAILS-3463)

[有关此线程](http://grails.1312388.n4.nabble.com/Strange-finder-behavior-td4638643.html)的更多信息

这个[jira](http://jira.grails.org/browse/GRAILS-9628)也是

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T10:18:09.973

我尝试使用调试器，它看起来应该可以正常工作，就像你写的那样。也许 groovy 本身在这里有点困惑，尝试以这种方式帮助它：

```
User.findByEmail( session['email'] ) 
```

# javascript - Onclick 事件反弹

> ID：13760086
> 
> 赞同：0
> 
> 时间：2012-12-07T09:17:27.650
> 
> 标签：javascript, onclick, onclicklistener

[http://www.lifechurch.org.uk/new-here/about/](http://www.lifechurch.org.uk/new-here/about/) http://www.lifechurch.org.uk/media/blog/

我想创建一个类似于这个的链接效果

我发现了以下内容：

```
$(document).ready(function() {
$("#button").click(function(){
$(".target").effect( "bounce", 
{times:3}, 300 );
});
});​ 
```

我被告知它使用图书馆，知道我可以从哪里获得这个吗？

谢谢科斯蒂

***更新***

我尝试将链接包装在要反弹的类中

```
<!doctype html>
<html>
<head><title>jQuery example</title></head>
<body>
<a href="#" id="button">Click me</a>
<div class="target">I will bounce</div>
<div class="target">I will bounce too, since I have the same class name</div>
<br>
<br>
<br>
<a href="#" id="button"><div class="target">Click me</div></a>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
<script>
    $(document).ready(function() {
            // Notice the .on instead of .click, it's the new style for events
            // in jQuery and the e argument
            $("#button").on('click', function (e) {
                e.preventDefault();
                $(".target").effect( "bounce", { times : 3 }, 300);
            });
        });
    </script>
</body> 
```

而且是不是很矛盾。我不确定您是否看过我希望重新创建的上述示例。但是作为链接的 H1 标题略微“弹跳”或缩进，这是我希望在 Wordpress 博客链接标题上重新创建的效果

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:20:17.500

此代码使用 JQuery ( [http://www.jquery.com](http://www.jquery.com) )，这是一个非常常见的 JavaScript 库。

“反弹”效果是名为 JQuery UI 的 JQuery 可选附加组件的一部分，请参阅[http://api.jqueryui.com/bounce-effect/](http://api.jqueryui.com/bounce-effect/)

编辑：Kirsty，如果你想了解 JavaScript 和 JQuery，[http://www.codecademy.com](http://www.codecademy.com)有一些关于这两个主题的很棒的免费互动课程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:23:01.617

将此行添加到您的 HTML 文档中：（在其他脚本之前）

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script> 
```

进而：

```
$(document).ready(function() {
    // Notice the .on instead of .click, it's the new style for events
    // in jQuery and the e argument
    $("#button").on('click', function (e) {
        e.preventDefault();
        $(".target").effect( "bounce", { times : 3 }, 300);
    });
});​ 
```

一些示例 HTML：

```
 <a href="#" id="button" class="target">Click me</a> 
```

这里有一个 jsFiddle 可以看到它的实际 效果：http: [//jsfiddle.net/fredrik/g8J3y/..fredrik](http://jsfiddle.net/fredrik/g8J3y/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T09:27:56.807

.effect 是 jquery-ui 的一部分

下载一个只有效果的自定义 min-js：

[http://jqueryui.com/download/](http://jqueryui.com/download/)

# xml - 为什么我们在 XML 文件中提及 XML 版本？

> ID：13760088
> 
> 赞同：0
> 
> 时间：2012-12-07T09:17:43.803
> 
> 标签：xml

有必要这样做吗？除了告诉该文件使用哪个版本的 XML 之外，它还有什么用途？我还读到有些程序需要解析 xml。所以，我猜这些程序需要知道版本。还有其他原因吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:19:29.587

> 有必要这样做吗？

如果您不这样做，则应用默认值。默认值通常很好。另请参阅[XML 新版本 - 新功能](https://stackoverflow.com/questions/1703627/xml-new-version-new-features)

> 除了告诉该文件使用哪个版本的 XML 之外，它还有什么用途？

没有任何。

> 我还读到有些程序需要解析 xml。

XML 不会有用，因为它没有被解析过。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:40:14.953

XML 版本是 XML 标题行的一部分，例如：

```
<?xml version="1.0" encoding="ISO-8859-1"?> 
```

根据标准，它是可选的，因此您不需要指定它（即使没有此行，您的 XML 也会形成良好的格式），但在这种情况下，解析器会做一些假设。至于版本 - 现在它不是那么重要，但您应该记住，如果您的 XML 文档不符合指定的版本，那么您的文档就会出错。因此，当将来引入新功能时，此文档可能无效，因为解析器的默认版本将是最新版本。

# php - zend 框架 2 AuthenticationService

> ID：13760089
> 
> 赞同：6
> 
> 时间：2012-12-07T09:17:45.763
> 
> 标签：php, authentication, zend-framework2

我的模块中有两个控制器，它们都需要查看用户是否登录。登录控制器使用 DbTable 对用户进行身份验证并将身份写入存储。

我正在使用 >Zend\Authentication\AuthenticationService；$auth = new AuthenticationService();

在控制器函数内部，但随后我在多个 pageAction() 上实例化它的实例

为此，我在 Module.php 中编写了一个函数

如下

```
public function getServiceConfig()
    {
        return array(
            'factories' => array(
                'Application\Config\DbAdapter' => function ($sm) {
                    $dbAdapter = $sm->get('Zend\Db\Adapter\Adapter');
                    return $dbAdapter;
                },
                 'Admin\Model\PagesTable' => function($sm){
                     $dbAdapter = $sm->get('Zend\Db\Adapter\Adapter');
                     $pagesTable = new PagesTable(new TableGateway('pages',$dbAdapter) );
                    return $pagesTable;
                },
                'Admin\Authentication\Service' => function($sm){
                    return new AuthenticationService();

                }
            ),
        );
    } 
```

正如你所看到的，我每次都返回新的 AuthenticationService() 我认为这是不好的。我找不到如何获取已经实例化的服务实例，或者我必须为此编写一个单例类。请告知任何具有更深入解释的示例代码片段将受到高度重视和赞赏，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T18:20:42.750

试试这个：

```
public function getServiceConfig()
{
    return array(
        'aliases' => array(
            'Application\Config\DbAdapter' => 'Zend\Db\Adapter\Adapter',
            'Admin\Authentication\Service' => 'Zend\Authentication\AuthenticationService',
        ),
        'factories' => array(
            'Admin\Model\PagesTable' => function ($serviceManager) {
                 $dbAdapter    = $serviceManager->get('Application\Config\DbAdapter');
                 $tableGateway = new TableGateway('pages', $dbAdapter);
                 $pagesTable   = new PagesTable($tableGateway);
                 return $pagesTable;
             },
        ),
    );
} 
```

主要注意根数组的“别名”部分，任何其他更改都只是装饰性的，您可能更喜欢按照您建议的方式进行操作（例如使用工厂检索 Zend\Db\Adapter\Adapter 实例而不是别名也）。

亲切的问候，

伊势

# jquery - 使用数据表 jquery 插件的网格

> ID：13760092
> 
> 赞同：0
> 
> 时间：2012-12-07T09:18:28.363
> 
> 标签：jquery, jquery-ui, datatables

我正在使用数据表插件创建一个网格。

我不能做的是，当数据表从中访问数据的数组中有一个负值时，该值应该以红色显示。只有该值的颜色应该是红色，而不是整个单元格。有人能告诉我怎么做吗

小提琴在[这里](http://jsfiddle.net/aryan7987/77c9G/2/)

就像在这个例子中一样，简单地显示了负值。我希望负值应该用红色表示。只有值应该以红色查看，而不是整个单元格

代码是

```
$(document).ready(function() {
    $('#example').dataTable({"sPaginationType": "full_numbers"});
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-09T00:05:20.910

您只想要版本列上的功能吗？不知道我是否真的得到你想要的，但在这里输入代码的代码应该适合你：

```
$(document).ready(function() {
  $('td:nth-child(4)').toArray().forEach( function (el) {
    $el = $(el);
    if ($el.html().length > 1 && $el.html()[0] === "-") {
      $el.css('color', 'red');
    }
  });
  $('#example').dataTable({"sPaginationType": "full_numbers"});
});​ 
```

# jquery - IE8、IE9、IE10 闪烁光标问题

> ID：13760093
> 
> 赞同：4
> 
> 时间：2012-12-07T09:18:28.983
> 
> 标签：jquery, internet-explorer, cursor, contenteditable

我正在制作一个在某些文本选择上显示工具栏的编辑器。我在 IE 中面临的问题是闪烁的光标仍然显示在工具栏上方。这特别发生在 IE 中。闪烁的光标出现在顶部。

这是此问题的示例：

```
$('.content').mouseup(function(e) {
  $('.shy').css({
    top: e.pageY - 30 + 'px',
    left: e.pageX - 30 + 'px'
  });
  $('.shy').show();
});
```

```
.content {
  height: 300px;
  width: 300px;
  border: 1px solid black;
  overflow: hidden;
  word-wrap: break-word;
  z-index: 1;
}
.shy {
  height: 100px;
  width: 100px;
  background-color: orange;
  z-index: 2;
  overflow: hidden;
  word-wrap: break-word;
  display: none;
  position: absolute;
}
```

```
<script src="http://code.jquery.com/jquery-1.8.3.js"></script>
<div contenteditable="true" class='content'>Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content</div>
<div class='shy'>
  <div>
```

将焦点移出不是一种选择，因为此应用程序中有更多组件，并且此修复程序不适用于这些情况。修复需要完全自主。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:24:49.197

只需添加

```
$('.shy').focus(); 
```

光标将在 IE7-IE10 上停止闪烁（已测试）

[http://jsfiddle.net/2QAxk/6/](http://jsfiddle.net/2QAxk/6/)

**UDP1** 抱歉没有看到您关于“焦点”的更新不是一个选项...

# java - Java - 动态更改日志记录级别

> ID：13760095
> 
> 赞同：8
> 
> 时间：2012-12-07T09:18:49.140
> 
> 标签：java, logging

我希望能够告诉 JVM 在执行链中的某个点停止记录某些级别的消息。在某些时候，我只想记录具有`SEVERE`级别的消息，所以我正在考虑这样做：

```
 for(Enumeration<String> loggerNames = logManager.getLoggerNames(); loggerNames.hasMoreElements();){
        String name = loggerNames.nextElement();
        Logger nextLogger = logManager.getLogger(name);
        if(nextLogger != null)
            nextLogger.setLevel(Level.SEVERE);
    } 
```

有没有更简洁的方法来实现相同的逻辑，即设置一个全局变量，除非严重，否则它将停止打印到日志？我需要区分控制台输出（测试中）和实时文件输出，所以我可以在处理程序（控制台和文件）上设置这些级别？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-07T10:53:36.740

回答我自己的问题：

这正是我所需要的：

```
Handler[] handlers =
  Logger.getLogger( "" ).getHandlers();
for ( int index = 0; index < handlers.length; index++ ) {
  handlers[index].setLevel( Level.SEVERE);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T10:00:11.750

要动态控制您的应用程序配置，一种常见的方法是使用 JMX。

JConsole 是 jdk 的一部分，允许您手动控制 MBean，但您也可以通过编程方式访问它们。

您可以使用 JMX 来控制 MBean，如[本页](http://www.jroller.com/ray/entry/managing_log4j_logging_levels_for)中所述。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T10:41:49.067

使用 log4j，您可以更改根记录器的级别。

这可能有效：

```
logManager.getLogger( "" ).setLevel(Level.SEVERE); 
```

或用于`Logger.getParent()`查找根记录器

# javascript - Internet Explorer 网站显示空白页

> ID：13760097
> 
> 赞同：1
> 
> 时间：2012-12-07T09:18:54.237
> 
> 标签：javascript, jquery, html, css, internet-explorer

我的网站有一个奇怪的问题，但仅限于 Internet Explorer！

当我打开网站时，即仅加载背景颜色，但如果我在键盘上按 F12 女巫打开开发人员工具，然后我刷新页面，网站正常显示没有任何问题......有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:24:25.167

我猜是因为您在代码中使用了 console.log

在 IE 中打开开发者工具后，console.log 可用。使用try catch；

```
try{
    console.log('log')
}
catch(err){
} 
```

# visual-studio - 是否可以通过命令行在 Visual Studio 中设置断点？

> ID：13760100
> 
> 赞同：4
> 
> 时间：2012-12-07T09:19:00.467
> 
> 标签：visual-studio, debugging, visual-studio-2012, command-line, breakpoints

有时，我使用 grep 查找所有源代码以查找某个符号（例如错误代码），并希望在每次出现此符号时在 Visual Studio 中设置一个断点。

目前，我手动浏览文件并点击`F9`我想要中断的每一行。

我也可以用**命令行**来做吗？

# asp.net - Telerik 窗口未显示

> ID：13760108
> 
> 赞同：0
> 
> 时间：2012-12-07T09:19:43.363
> 
> 标签：asp.net, telerik

我在弹出窗口中使用 Telerik 窗口控件。在某些情况下，当页面加载时，弹出窗口皮肤会丢失。仅显示窗口内的页面。我到处寻找答案，但找不到。

代码：

```
<telerik:RadWindowManager ID="RadWindowManagerUserAgreement" ShowContentDuringLoad="false"  VisibleStatusbar="false" ReloadOnShow="true" runat="server" EnableShadow="true"> 

   <Windows>  
      <telerik:RadWindow ID="UserRequestRadWindow" Title="<span style='margin- left:15px;'>Username  and Password Request</span>" runat="server" Width="400px" Height="300px" Behaviors="Close"  Skin="HCPro" EnableEmbeddedSkins="false">  
      </telerik:RadWindow> 
   </Windows>  

</telerik:RadWindowManager> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T15:15:58.067

如果你在 IE 下，你可能已经达到了这个浏览器的 31 个样式表的限制。将**RadStyleSheetManager**添加到您的页面以将请求合并到一个文件中。通过在 Firefox 或 Chrome 中进行测试来确认这一点。此外，请确保您的请求正常，您的样式表可能不会出现在页面上，以防您动态添加它们并且您的代码出现问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T19:22:19.103

请删除 Skin="HCPro" EnableEmbeddedSkins="false"。

HCPro 不是一个有效的 Telerik 皮肤，除非你自己实现了一个。

以下是来自 Telerik 的有效皮肤名称 -

黑色, 默认, 森林, Hay, Metro, MetroTouch, Office2007, Office2010Black, Office2010Blue, Office2010Silver, Outlook, 简单, Sitefinity, 日落, Telerik, 透明, Vista, Web20, WebBlue, Windows7

# python - EC2、bottle.py 连接

> ID：13760109
> 
> 赞同：2
> 
> 时间：2012-12-07T09:19:51.370
> 
> 标签：python, ubuntu, amazon-ec2, bottle

无法使用具有公共 IP 地址的 EC2 Ubuntu Linux 12.04 实例启动 bottle.py 服务器。该程序（hw.py）来自瓶子教程，即。

```
from bottle import route, run

@route('/hello')
def hello():
    return 'hello world'

run(host='xxx.xxx.xxx.xxx', port=80) 
```

运行为：

```
> python hw.py
or
> sudo python hw.py 
```

产生错误：

```
Traceback (most recent call last):
  File "hw.py", line 7, in <module>
    run(host='xxx.xxx.xxx.xxx', port=80)
  File "/usr/local/lib/python2.7/dist-packages/bottle.py", line 2700, in run
    server.run(app)
  File "/usr/local/lib/python2.7/dist-packages/bottle.py", line 2382, in run
    srv = make_server(self.host, self.port, handler, **self.options)
  File "/usr/lib/python2.7/wsgiref/simple_server.py", line 144, in make_server
    server = server_class((host, port), handler_class)
  File "/usr/lib/python2.7/SocketServer.py", line 408, in __init__
    self.server_bind()
  File "/usr/lib/python2.7/wsgiref/simple_server.py", line 48, in server_bind
    HTTPServer.server_bind(self)
  File "/usr/lib/python2.7/BaseHTTPServer.py", line 108, in server_bind
    SocketServer.TCPServer.server_bind(self)
  File "/usr/lib/python2.7/SocketServer.py", line 419, in server_bind
    self.socket.bind(self.server_address)
  File "/usr/lib/python2.7/socket.py", line 224, in meth
    return getattr(self._sock,name)(*args)
socket.error: [Errno 99] Cannot assign requested address 
```

EC2 公共 IP 地址未附加到任何其他进程。端口 80 未连接到另一个进程。

```
> sudo netstat -lp
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 *:ssh                   *:*                     LISTEN      629/sshd
tcp6       0      0 [::]:ssh                [::]:*                  LISTEN      629/sshd
udp        0      0 *:bootpc                *:*                                 463/dhclient3
Active UNIX domain sockets (only servers)
Proto RefCnt Flags       Type       State         I-Node   PID/Program name    Path
unix  2      [ ACC ]     STREAM     LISTENING     7190     667/dbus-daemon     /var/run/dbus/system_bus_socket
unix  2      [ ACC ]     STREAM     LISTENING     5888     1/init              @/com/ubuntu/upstart
unix  2      [ ACC ]     STREAM     LISTENING     7312     741/acpid           /var/run/acpid.socket
unix  2      [ ACC ]     SEQPACKET  LISTENING     26855    21843/udevd         /run/udev/control 
```

改为：run(host='xxx.xxx.xxx.xxx', port=8080)

错误是 socket.error: [Errno 99] 无法分配请求的地址。

更改为：运行（主机='0.0.0.0'，端口=8080）

...将服务器绑定到所有 IP/接口。在浏览器中输入 EC2 公共 IP 地址，无论是否使用 :8080 都会显示“此页面不可用”。

理想情况下，第一个选项即。run(host='xxx.xxx.xxx.xxx', port=80) 应该可以正常工作，因为这就是其他 Web 服务器的启动方式。任何人都知道如何解决这个问题？

编辑：从 strace -f 添加最后一组行：

```
write(2, "  File \"/usr/lib/python2.7/Socke"..., 70  File "/usr/lib/python2.7/SocketServer.py", line 419, in server_bind
) = 70
open("/usr/lib/python2.7/SocketServer.py", O_RDONLY) = 4
fstat(4, {st_mode=S_IFREG|0644, st_size=23321, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f434cbfe000
read(4, "\"\"\"Generic socket server classes"..., 4096) = 4096
read(4, "service) is to maintain an\nexpli"..., 4096) = 4096
read(4, "set()\n\n    def shutdown(self):\n "..., 4096) = 4096
read(4, "n't use serve_forever()\n    - fi"..., 4096) = 4096
write(2, "    ", 4    )                     = 4
write(2, "self.socket.bind(self.server_add"..., 38self.socket.bind(self.server_address)
) = 38
close(4)                                = 0
munmap(0x7f434cbfe000, 4096)            = 0
write(2, "  File \"/usr/lib/python2.7/socke"..., 57  File "/usr/lib/python2.7/socket.py", line 224, in meth
) = 57
open("/usr/lib/python2.7/socket.py", O_RDONLY) = 4
fstat(4, {st_mode=S_IFREG|0644, st_size=20485, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f434cbfe000
read(4, "# Wrapper module for _socket, pr"..., 4096) = 4096
read(4, "oo long.\"\n    errorTab[10064] = "..., 4096) = 4096
write(2, "    ", 4    )                     = 4
write(2, "return getattr(self._sock,name)("..., 39return getattr(self._sock,name)(*args)
) = 39
close(4)                                = 0
munmap(0x7f434cbfe000, 4096)            = 0
write(2, "socket", 6socket)                   = 6
write(2, ".", 1.)                        = 1
write(2, "error", 5error)                    = 5
write(2, ": ", 2: )                       = 2
write(2, "[Errno 99] Cannot assign request"..., 42[Errno 99] Cannot assign requested address) = 42
write(2, "\n", 1
)                       = 1
rt_sigaction(SIGINT, {SIG_DFL, [], SA_RESTORER, 0x7f434c7d1cb0}, {0x41d920, [], SA_RESTORER, 0x7f434c7d1cb0}, 8) = 0
close(3)                                = 0
exit_group(1)                           = ? 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T11:12:48.777

试试这个。我用它来测试网络。

```
from bottle import Bottle, run

app = Bottle()

@app.route('/')
def index():
    return 'Service Running'

run(
        app,                    # Run |app| Bottle() instance
        host     = '0.0.0.0',
        port     = 8080,
        reloader = True,        # restarts the server every time edit a module file
        debug    = True         # Comment out it before deploy
        ) 
```

在服务器后台运行此文件 (hw.py)：

```
$ cd path/to/your/file
$ nohup python server.py & 
```

那我想你现在可以参观了。

* * *

> 更改为：运行（主机='0.0.0.0'，端口=8080）
> 
> ...将服务器绑定到所有 IP/接口。在浏览器中输入 EC2 公共 IP 地址，无论是否使用 :8080 都会显示“此页面不可用”。

这个错误的情况下，我认为你需要`/hello`在你的根 URL 的末尾访问。

# opencv - 使用 OpenCV fitEllipse() 进行圆拟合

> ID：13760110
> 
> 赞同：7
> 
> 时间：2012-12-07T09:19:53.787
> 
> 标签：opencv, curve-fitting

使用 OpenCV [fitEllipse](http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=fitellipse#cv2.fitEllipse)进行圆形拟合是否有效。fitEllipse() 返回`cv::RotatedRect`如何平均宽度和高度以获得拟合圆半径？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-23T20:27:27.150

我认为`cv::fitEllipse`用于拟合圆的“有效性”取决于您对拟合所需的精度。

例如，您可以在测试集上运行您的算法，拟合点`cv::fitEllipse`并记录椭圆的两个轴的长度，然后查看两个轴的比率分布或主要和次要之间的差异轴; 您可以找到您假设的圆圈与圆圈有多少不同，然后评估您是否可以使用`cv::fitEllipse`.

`cv::RotatedRect`您可以取返回的宽度和高度的平均值来获得圆*直径*`cv::fitEllipse`的近似值（您写了*半径*，但我认为这是一个微不足道的错误）。

 **你可以看看这篇非常易读的文章 [UMBACH，Dale；JONES, Kerry N. 一些将圆拟合到数据的方法。*Instrumentation and Measurement, IEEE Transactions on* , 2003, 52.6: 1881-1885。](http://www.cs.bsu.edu/homepages/kerryj/kjones/circles.pdf)并编写自己的圆插值器。

如果您想最小化*几何误差*（从点到圆的距离的平方和，如文章简介中所述），您可能需要可靠地实现非线性最小化算法。

否则，您可以使用从 (II.8) 到 (II.15) 的公式编写一个简单的圆插值器（一种[封闭形式的解决方案](http://mathworld.wolfram.com/Closed-FormSolution.html)，可以最大限度地减少与几何错误不同的误差），并带有一些警告：

1.  从实现的角度来看，您必须注意通常关于舍入错误和截断错误的警告。
2.  在异常点的情况下，封闭形式的解决方案不够稳健，在这种情况下，您可能需要实现像[RANSAC](http://en.wikipedia.org/wiki/RANSAC)这样的稳健插值器（随机选择三个点，用 (25) 到 (34) 的公式用这三个点插值一个圆来自[Weisstein, Eric W. “Circle”。来自*MathWorld* --A Wolfram Web Resource](http://mathworld.wolfram.com/Circle.html)，计算共识并迭代）。此警告也适用于几何误差最小化的圆。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T15:18:06.507

有一个圆形拟合的功能：[minEnclosureCircle](http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=fitellipse#minenclosingcircle)**

# javascript - lineTo 不醒

> ID：13760111
> 
> 赞同：0
> 
> 时间：2012-12-07T09:19:55.987
> 
> 标签：javascript, html5-canvas

好的，我有这段代码，它应该是绘制一个简单的房子，但是当我运行它时，我什么也没得到，也没有警告它有问题。有谁知道为什么？

```
function onLoad() 
{ 
    var canvas; 
    var context;
function initialise () 
{
    canvas = document.getElementById('canvas'); 
    if (!canvas) 
    { 
        alert('Error: I cannot find the canvas element!'); 
        return; 
    }
    if (!canvas.getContext) 
    { 
        alert('Error: no canvas.getContext!'); 
        return; 
    }
    context = canvas.getContext('2d'); 
    if (!context) 
    { 
        alert('Error: failed to getContext!'); 
        return; 
    } 
}

function draw()
{
    context.beginPath();
    context.moveTo(150,100);
    context.lineTo(250,200);
    context.lineTo(250,300);
    context.lineTo(50,300);
    context.lineTo(50,200);
    context.lineTo(150,100);
    context.closePath();
    context.stroke();
}

initialise();
draw(); 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:26:06.053

代码应该可以正常工作，但我认为你忘记调用你的 onLoad() 函数，所以什么都不会发生

改变 onLoad() 与

```
window.onload = function () {
... //your code
} 
```

（它不会画房子，只是屋顶;-)）

# java - 如何设置“JOptionPane.showMessageDialog”的位置

> ID：13760117
> 
> 赞同：8
> 
> 时间：2012-12-07T09:20:11.667
> 
> 标签：java, swing, layout, position

我想让`JOptionPane.showMessageDialog`消息出现

*   屏幕上的任何位置。
*   相对于 JFrame。（不在 JFrame 的中心）

例如，这将在作为参数提供的 JFrame 的中心显示消息`thisFrame`

```
 JOptionPane.showMessageDialog(thisFrame, "Your message."); 
```

这将在屏幕中央显示与任何 JFrame 无关的消息。

```
JOptionPane.showMessageDialog(null, "Your message."); 
```

*   我想要的是在我想要的任何地方设置消息的位置

*   我想要的是设置消息相对于 JFrame 的位置（不在 JFrame 的中心）

如何？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-07T09:36:59.130

你需要的是

```
 final JOptionPane pane = new JOptionPane("Hello");
    final JDialog d = pane.createDialog((JFrame)null, "Title");
    d.setLocation(10,10);
    d.setVisible(true); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-07T09:36:36.920

```
import javax.swing.JDialog;
import javax.swing.JPanel;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JButton;

public class CustomDialog extends JDialog {
    private JPanel myPanel = null;
    private JButton yesButton = null;
    private JButton noButton = null;

    public CustomDialog(JFrame frame, boolean modal, String myMessage) {
    super(frame, modal);
    myPanel = new JPanel();
    getContentPane().add(myPanel);
    myPanel.add(new JLabel(myMessage));
    yesButton = new JButton("Yes");
    myPanel.add(yesButton);
    noButton = new JButton("No");
    myPanel.add(noButton);
    pack();
    //setLocationRelativeTo(frame);
    setLocation(200, 200); // <--
    setVisible(true);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:28:55.710

试试这个

```
JOptionPane pane = new JOptionPane(arguments);
pane.setBounds(x, y,width, height);   
pane.setVisible(true); 
```

# android - 根据数据库内部的图像路径在gridview中显示图像

> ID：13760118
> 
> 赞同：1
> 
> 时间：2012-12-07T09:20:13.723
> 
> 标签：android, database, sqlite, gridview, android-gridview

我在手机内保存了一些图像并将图像路径插入数据库。我想使用数据库中的图像路径并将其显示在 gridview 中。现在我可以创建一个网格视图来在画廊应用程序中显示图像。但我真的不知道如何根据数据库路径显示图像。如果可能的话，有人可以在这个问题上启发我吗？任何评论将不胜感激。

下面的代码用于在图库中显示图像。

```
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.phone_tab);

    final String[] columns = { MediaColumns.DATA, BaseColumns._ID };
    final String orderBy = BaseColumns._ID;
    Cursor imagecursor = managedQuery(
            MediaStore.Images.Media.EXTERNAL_CONTENT_URI, columns, null,
            null, orderBy);
    int image_column_index = imagecursor.getColumnIndex(BaseColumns._ID);
    this.count = imagecursor.getCount();
    this.thumbnails = new Bitmap[this.count];
    this.arrPath = new String[this.count];
    this.thumbnailsselection = new boolean[this.count];
    for (int i = 0; i < this.count; i++) {
        imagecursor.moveToPosition(i);
        int id = imagecursor.getInt(image_column_index);
        int dataColumnIndex = imagecursor.getColumnIndex(MediaColumns.DATA);
        thumbnails[i] = MediaStore.Images.Thumbnails.getThumbnail(
                getApplicationContext().getContentResolver(), id,
                MediaStore.Images.Thumbnails.MICRO_KIND, null);
        arrPath[i]= imagecursor.getString(dataColumnIndex);
    }
    GridView imagegrid = (GridView) findViewById(R.id.PhoneImageGrid);
    imageAdapter = new ImageAdapter();
    imagegrid.setAdapter(imageAdapter);
    imagecursor.close();

    final Button selectBtn = (Button) findViewById(R.id.select_btn);
    selectBtn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            final int len = thumbnailsselection.length;
            int cnt = 0;
            String selectImages = "";
            for (int i =0; i<len; i++)
            {
                if (thumbnailsselection[i]){
                    cnt++;
                    selectImages = selectImages + arrPath[i] + "|";
                }
            }
            if (cnt == 0){
                Toast.makeText(getApplicationContext(),
                        "Please select at least one image",
                        Toast.LENGTH_LONG).show();
            } else {
                Toast.makeText(getApplicationContext(),
                        "You've selected Total " + cnt + " image(s).",
                        Toast.LENGTH_LONG).show();
                Log.d("SelectedImages", selectImages);

                Intent input = new Intent(v.getContext(), InputScreen.class);
                input.putExtra("selectImages", selectImages+"");
                StringBuffer urlString = new StringBuffer();
                replaceContentView("InputScreen", input);

            }

        }

    });

} 
```

值 [2] 返回为 /mnt/sdcard/ImageFolder/Image1.jpg。

```
 String values[] = helper.get_user_image(useremail);
    String filepath = values[2]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T06:18:04.647

最好将图像路径而不是图像存储在数据库中。使用存储在数据库中的图像路径访问这些图像。

如果您必须在数据库中使用图像

*   请使用 Stream 而不是字节数组

以下资源可能对您有所帮助

*   [在android中使用光标显示来自sqlite数据库的图像](https://stackoverflow.com/questions/4342798/displaying-image-from-the-sqlite-database-using-cursor-in-android)
*   [如何显示数据库中的图像](https://stackoverflow.com/questions/9168427/how-to-display-images-from-database)
*   [http://www.tutorialforandroid.com/2009/10/how-to-insert-image-data-to-sqlite.html](http://www.tutorialforandroid.com/2009/10/how-to-insert-image-data-to-sqlite.html)

# c++ - getadapteraddresses 功能是否默认支持 mediasense 功能？

> ID：13760123
> 
> 赞同：1
> 
> 时间：2012-12-07T09:20:24.363
> 
> 标签：c++, windows, visual-c++

我正在尝试使用 getadapteraddresses 函数来显示 IPv4 和 IPv6 的所有适配器地址。我的目标是确保只有具有活动链接状态的适配器才应显示在 AdapterDialogScreen 中。但是，到目前为止，如果它们刚刚启用，则会显示所有适配器地址，尽管没有电缆连接到适配器/无线未连接。如何根据链路状态限制适配器信息的显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T13:07:31.843

[您可以检查 getadapteraddresses 返回的IP_ADAPTER_ADDRESSES 结构](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365915%28v=vs.85%29.aspx)的“OperStatus”成员。值“IfOperStatusUp”表示“接口已启动并能够传递数据包”。

# php - PHP mb_substr 除法错误 utf 8

> ID：13760124
> 
> 赞同：3
> 
> 时间：2012-12-07T09:20:25.847
> 
> 标签：php, string, unicode, substring, multibyte

我试图将一个字符串分成两列，每列 6 行。问题是如果最后一行包含 (Ø,Æ,Å)，即使第一行有空格，它也会跳到下一列。

似乎这是编码的问题，有人知道可能发生了什么吗？我用来生成列的代码是：

```
$iter = 6;
$str = $shortd;
$count_line = 0;
$str = $shortd;
for ($x=0; $x<$iter;){
  $pos = strpos($str,"<br />");
  $text = mb_substr ($str, 0, $pos + 6);
  $str = mb_substr ($str, $pos + 6);
  echo $text;
  $x++;
}
?>
</td>
<td>
<?
for ($x=$iter; $x<$iter + $iter;){
  $pos = strpos($str,"<br />");
  $text = mb_substr ($str, 0, $pos + 6);
  $str = mb_substr ($str, $pos + 6);
  echo $text;
  $x++;
}
?>
</td> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T09:25:35.900

strpos [()](http://php.net/strpos)函数不支持多字节。您应该改用[mb_strpos()](http://es1.php.net/mb_strpos)。否则，您在处理位置时会混合字节和字符。

# java - 在android中从站点加载XML

> ID：13760130
> 
> 赞同：0
> 
> 时间：2012-12-07T09:20:45.553
> 
> 标签：java, android

我尝试在我的 Android 应用程序中加载 xml 文件。当运行 userList.setInput(xmlUrl.openStream(), null); 我看到消息“应用程序已意外停止”。

```
URL xmlUrl = null;
                String tmp = "";
                 Log.d(LOG_TAG, "BUTTON IS ON");

                try {
                    xmlUrl = new URL("http://55.55.55.55/1.xml");
                    Log.d(LOG_TAG, "1");
                } catch (MalformedURLException e) {             
                    e.printStackTrace();
                }
                XmlPullParser userList = null;
                try {
                    userList = XmlPullParserFactory.newInstance().newPullParser();
                    Log.d(LOG_TAG, "2");
                } catch (XmlPullParserException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                try {
                    userList.setInput(xmlUrl.openStream(), null);
                    Log.d(LOG_TAG, "3");
                } catch (XmlPullParserException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                    Log.d(LOG_TAG, "3x");
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                    Log.d(LOG_TAG, "3y");
                } 
```

我做错了什么？在日志中我看到：

```
12-07 11:53:33.712: DEBUG/dalvikvm(263): GC_EXPLICIT freed 3K, 11% free 17590K/19719K, paused 3ms+4ms
12-07 11:53:33.892: INFO/ActivityManager(88): Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.example.hotdog_master/.MainActivity } from pid 263
12-07 11:53:33.892: WARN/WindowManager(88): Failure taking screenshot for (230x135) to layer 21005
12-07 11:53:33.952: INFO/ActivityManager(88): Start proc com.example.hotdog_master for activity com.example.hotdog_master/.MainActivity: pid=778 uid=10036 gids={3003}
12-07 11:53:35.682: INFO/ActivityManager(88): Displayed com.example.hotdog_master/.MainActivity: +1s746ms
12-07 11:53:36.714: DEBUG/dalvikvm(263): GC_EXPLICIT freed 7K, 11% free 17592K/19719K, paused 3ms+4ms
12-07 11:53:39.112: DEBUG/AndroidRuntime(778): Shutting down VM
12-07 11:53:39.112: WARN/dalvikvm(778): threadid=1: thread exiting with uncaught exception (group=0x40014760)
12-07 11:53:39.122: ERROR/AndroidRuntime(778): FATAL EXCEPTION: main
12-07 11:53:39.122: ERROR/AndroidRuntime(778): android.os.NetworkOnMainThreadException
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1077)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at dalvik.system.BlockGuard$WrappedNetworkSystem.connect(BlockGuard.java:368)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.net.PlainSocketImpl.connect(PlainSocketImpl.java:208)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.net.PlainSocketImpl.connect(PlainSocketImpl.java:431)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at java.net.Socket.connect(Socket.java:901)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnection.<init>(HttpConnection.java:75)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnection.<init>(HttpConnection.java:48)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnection$Address.connect(HttpConnection.java:304)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnectionPool.get(HttpConnectionPool.java:89)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getHttpConnection(HttpURLConnectionImpl.java:292)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.makeConnection(HttpURLConnectionImpl.java:274)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.retrieveResponse(HttpURLConnectionImpl.java:1038)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:523)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at java.net.URL.openStream(URL.java:645)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at com.example.hotdog_master.MainActivity.Xmlworker(MainActivity.java:72)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at com.example.hotdog_master.MainActivity$1.onClick(MainActivity.java:37)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at android.view.View.performClick(View.java:3110)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at android.view.View$PerformClick.run(View.java:11934)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at android.os.Handler.handleCallback(Handler.java:587)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at android.os.Handler.dispatchMessage(Handler.java:92)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at android.os.Looper.loop(Looper.java:132)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at android.app.ActivityThread.main(ActivityThread.java:4123)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at java.lang.reflect.Method.invokeNative(Native Method)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at java.lang.reflect.Method.invoke(Method.java:491)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
12-07 11:53:39.122: ERROR/AndroidRuntime(778):     at dalvik.system.NativeStart.main(Native Method)
12-07 11:53:39.142: WARN/ActivityManager(88):   Force finishing activity com.example.hotdog_master/.MainActivity
12-07 11:53:39.142: WARN/WindowManager(88): Failure taking screenshot for (230x135) to layer 21010
12-07 11:53:39.662: WARN/ActivityManager(88): Activity pause timeout for ActivityRecord{407709a8 com.example.hotdog_master/.MainActivity}
12-07 11:53:50.532: WARN/ActivityManager(88): Activity destroy timeout for ActivityRecord{407709a8 com.example.hotdog_master/.MainActivity} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:27:21.007

这个问题有两个解决方案，但第一个是很好的解决方案。

1）不要在主 UI 线程中编写网络调用，为此使用异步任务。

2）之后将以下代码写入您的 MainActivity 文件，`setContentView(R.layout.activity_main);`但这不是正确的方法。

```
if (android.os.Build.VERSION.SDK_INT > 9) {
    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
    StrictMode.setThreadPolicy(policy);
} 
```

并将下面的 import 语句放入您的 java 文件中。

```
import android.os.StrictMode; 
```

有关更多信息，请参见下面的链接。

[引起：android.os.NetworkOnMainThreadException](https://stackoverflow.com/questions/13136539/caused-by-android-os-networkonmainthreadexception)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:27:31.983

问题不在于您在主线程中进行解析，而在于您正在主线程上进行网络调用！使用异步任务或线程

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:24:18.357

尝试在除主线程之外的另一个线程上进行解析。您可以[`Async Task`](http://developer.android.com/reference/android/os/AsyncTask.html)在方法中使用和解析 xml来做到这一点`doInBackground()`。

# design-patterns - 在解决问题或更好地设计方面，了解哪些模式很有用？

> ID：13760132
> 
> 赞同：0
> 
> 时间：2012-12-07T09:20:49.483
> 
> 标签：design-patterns

我认为像 Façade、Adapter、Wrapper、Bridge 等模式描述了这些事情无论如何都会完成的方式。

我认为 Singleton 或 Factory 是微不足道的——我们大多数人都会在适当的时候弄清楚自己。

MVC 是有用的，但它通常通过一个框架使用，它不那么经常直接使用。

**那么哪些模式在帮助我们更好地解决问题或做出更好的设计（通过直接使用模式）方面是重要且有用的？**

观察者通常是盘子上的服务器，但知道它可以让你更容易想到它，而不是。

我目前正在与访问者模式作斗争，这似乎是一个不平凡的，并且有助于设计。

* * *

由于其他原因，了解像 Singleton 和 MVC 这样的模式当然很有用。如果你知道单例设计模式，你可以更好地沟通，并以标准的方式来做，这样代码更容易理解。

您还可以阅读有关它的问题，从而更好地编写代码。

同样了解 MVC 可以让你设计得更好，即使你没有使用 MVC。

上述原因不在问题范围内。

这个问题的背景是我经常看到带有*"Having used Patterns"*的工作规范。不是说我应该按字面意思回答，而是让我思考。我不能说我使用模式只是因为我所做的可以称为 Wrapper 或 Bridge，或者因为我使用了使用 Observer 或 MVC 的 GUI 框架。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:29:01.937

不要拘泥于某些模式来了解和使用。将[*SOLID*](http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29)设计原则应用于您的代码并进行重构以删除重复代码 - 这是所有设计模式的基础。此外，了解*SOLID*将使您清楚地了解每种模式解决的问题。稍后你会明白，当解决一些问题或删除重复代码时，你已经在你的系统中应用了 Strategy、Observer、Singleton 和 Adapter。

当你从另一面开始——首先学习设计模式，那么就像[你只有一把锤子，一切看起来都像钉子](http://en.wiktionary.org/wiki/if_all_you_have_is_a_hammer,_everything_looks_like_a_nail)。即使您真的不需要它们，您也肯定会尝试应用模式。你也会经常应用错误的模式。

我以*重构模式*结束（好吧，在 90% 的情况下）。例如，仅当我看到烦人的重复条件逻辑（即他们解决的问题）时，我才创建状态或策略*，*而不是因为我预见我的代码会发展并且我将需要 10 种算法的实现。否则，您可能会通过添加新的无用类来使代码过于复杂：[在编写 Hello World 程序时滥用设计模式](http://taskinoor.wordpress.com/2011/09/21/the-abuse-of-design-patterns-in-writing-a-hello-world-program/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:34:21.460

我认为这是学习设计模式的开发人员最常犯的错误之一：认为它们是一些需要学习的秘诀。虽然设计模式是解决某些问题的方法，但大多数时候你会发现自己在不知不觉中使用它们。

阅读和了解您可以找到的任何设计模式都是很好的，最重要的是了解它们解决了什么问题以及何时应用它们。很多模式都没有被很好地理解和错误地应用，仅仅因为它们存在并且它们可以解决问题并不意味着你必须在任何地方都使用它们。

此外，在某个特定时间，您只使用少数几种模式。最好的学习方法就是尽可能多地编写不同的软件，您将在此过程中学习所有需要的模式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:25:25.587

应用 Head First Design Patterns 策略来学习模式。先了解用途和限制，再了解实际模式。

1) 工厂和抽象工厂

2) 生成器

3) 模板

4) Null Object 但更喜欢**Google Guice**库`Optional`

5) 工厂方法

有一些对制作干净的设计很有用

**不要过早过度使用模式。首先在原则上建立坚实的把握。然后所有的模式都会自然而然地出现。**

# gettext - 如何在 po gettext 文件中将空翻译（msgstr）标记为已翻译？

> ID：13760137
> 
> 赞同：13
> 
> 时间：2012-12-07T09:21:13.837
> 
> 标签：gettext, po

我发现字符串 (msgid) 的翻译为空，所有 gettext 工具都会将该字符串视为未翻译。

有解决方法吗？我确实希望有一个空字符串作为该项目的翻译。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-19T12:16:15.210

由于这似乎是 gettext 规范中的一个重大设计缺陷，我决定 `Unicode Character 'ZERO WIDTH SPACE' (U+200B)`在这些字段中使用：

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-06-15T18:43:01.373

我意识到这是一个老问题，但我想指出另一种方法：

```
msgid "This is a string"
msgstr "\0" 
```

由于 gettext 使用嵌入的空值来表示字符串的结束，并且它正确地翻译了 C 转义序列，我猜这可能会起作用并导致空字符串翻译？它*似乎*在我的程序中工作（基于 GNU libintl），但我不知道这是否真的是标准/系统允许的。据我了解 gettext PO 没有正式指定，所以除了查看源代码之外可能没有权威的答案......

[https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html](https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html)

程序员将嵌入的空值放入事物中通常不是一件好事，但它可能适用于您的情况？可以说它没有零宽度空间技巧那么邪恶，因为它实际上会产生一个大小为零的字符串。

* * *

编辑：

基本上，可能发生的最糟糕的事情是运行时出现段错误/不良行为`msgfmt`，如果它对假定没有嵌入 null 的字符串的大小感到困惑，并在某处溢出缓冲区。

假设`msgfmt`可以容忍这一点，`libintl`则必须对其做正确的事情，因为它必须返回字符串的唯一方法是`char *`，因此最终应用程序无论如何只能看到空字符。

对于它的价值，我的 po-parser 库`spirit-po`明确支持这一点:)

[https://github.com/cbeck88/spirit-po](https://github.com/cbeck88/spirit-po)

* * *

编辑：在 gettext 文档中，他们似乎确实提到了在 MO 文件中嵌入空值的可能性，并说“这是激烈争论的”：

[https://www.gnu.org/software/gettext/manual/html_node/MO-Files.html](https://www.gnu.org/software/gettext/manual/html_node/MO-Files.html)

> 没有什么可以阻止 MO 文件在字符串中嵌入 NUL。但是，当前使用的程序接口已经假定字符串是 NUL 终止的，因此嵌入式 NUL 有点没用。但是 MO 文件格式足够通用，因此以后可以使用其他接口，例如，如果我们想在 MO 文件中实现宽字符，其中 NUL 字节可能会意外出现。（不，我们不想在 MO 文件中使用宽字符。它们会使文件变得不必要地大，并且 'wchar_t' 类型依赖于平台，MO 文件也依赖于平台。）
> 
> 这个特定的问题在 GNU gettext 开发论坛上已经引起了激烈的争论，并且可以预料 MO 文件格式会随着时间的推移而发展或改变。甚至有可能以后同时支持许多格式。但可以肯定的是，我们必须从某个地方开始，这里描述的 MO 文件格式是一个好的开始。没有什么是具体的，并且格式以后可能会相当容易地发展，所以我们应该对当前的方法感到满意。

所以，至少他们不会说“伙计，在消息字符串中嵌入空值？我们从来没想过！” 它很可能会起作用，如果`msgfmt`没有崩溃，那么我会认为它是犹太洁食。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-01-19T04:21:15.617

我有同样的问题很长时间了，实际上我认为你根本做不到。我最好的选择是插入评论，以便我可以从那里将其标记为“已翻译”：

```
# No translation needed / Translated
msgid "This is a string"
msgstr "" 
```

到目前为止，这是最好的解决方法：/如果您最终找到了方法，请发布！

# javascript - JQuery UI：在drag'n'dop中获取源元素的ID

> ID：13760138
> 
> 赞同：1
> 
> 时间：2012-12-07T09:21:20.510
> 
> 标签：javascript, jquery, jquery-ui, jquery-ui-draggable, jquery-ui-droppable

我正在实施一个拖放操作，您可以在其中将用户拖动到一个角色。我知道如何获取用户 ID 和目标角色 ID，但我不知道如何获取从中拖动用户的角色 ID！

```
<div id="role_1" class="role">
    <h5>Administrator</h5>
    <ul class="users">
        <li id="user_1">Foo</li>
        <li id="user_2">Bar</li>
    </ul>
</div>
<div id="role_2" class="role">
    <h5>Member</h5>
    <ul class="users">
        <li id="user_1337">Baz</li>
    </ul>
</div>

<script type="text/javascript">
$(function() {
    // Get roles and users lists
    var $templates = $(".role"),
        $users = $(".users");

    // let the user items be draggable
    $("li", $users).draggable({
        revert: "invalid", // when not dropped, the item will revert back to its initial position
        containment: "document",
        helper: "clone",
        cursor: "move"
    });

    // let the roles be droppable, accepting the user items
    $templates.droppable({
        accept: ".users > li",
        activeClass: "ui-state-highlight",
        drop: function(event, ui) {
            var $uid = ui.draggable.attr("id"),
                $targetRid = $(this).attr("id"),
                $sourceRid = ???;
                // snip
        }
    });
});
</script> 
```

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T09:26:09.977

挂钩[`start`事件](http://api.jqueryui.com/draggable/#event-start)，并获得最接近的`.role`：

```
$("li", $users).draggable({
    revert: "invalid", // when not dropped, the item will revert back to its initial position
    containment: "document",
    helper: "clone",
    cursor: "move",
    start: function() {
        var role = $(this).closest(".role").attr("id");
        // Here, role is either the id or undefined if no role could be found
    }
}); 
```

*如果您在删除*时需要该信息，则可以将其存储[`data`](http://api.jquery.com/data)在事件中使用的元素上`start`，然后在删除时检索它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T09:26:22.523

我认为您在启动拖动事件时需要记住此 id：

```
var srcId;
$("li", $users).draggable({
    revert: "invalid", // when not dropped, the item will revert back to its initial position
    containment: "document",
    helper: "clone",
    cursor: "move",
    start: function( event, ui ) {
        srcId = $(this).closest(".role").attr('id');
    }
}); 
```

# jquery - 相对于其父级定位工具提示

> ID：13760139
> 
> 赞同：0
> 
> 时间：2012-12-07T09:21:20.623
> 
> 标签：jquery, position

我有以下代码；

```
var posLeft = 170;
var posDown = e.pageY;

    $(this).next().css({'top':posDown, 'left':posLeft, 'position':'absolute'}).toggleClass('is-hidden');
}); 
```

和 HTML

```
<tr>
    <td><a href="#">123</a>
        <div class="pop-up is-hidden">
            <p>Type:<span>Code</span></p>
            <p>Number:<span>123</span></p>
            <p>Status:<span>Valid</span></p>
            <p>Sold In:<span>August</span></p>
            <p>Uploaded:<span>20/09/2012 10:34</span></p>
        </div>
    </td>
    <td>Code</td>
    <td>Valid</td>
    <td>Device is active</td>
</tr> 
```

jQuery`.pop-up`在悬停时显示 div，我遇到的问题是`.pop-up`. 它正确地坐在左边，但垂直定位不正确。我认为使用 pageY 将 div 相对于文档定位，当我希望它定位在锚点上时。

该表没有应用任何定位，因此我需要帮助以获取最佳方法以`.pop-up`使其出现在正确的位置。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:51:08.157

你的意思是像这个**[FIDDLE](http://jsfiddle.net/aanred/2zY8c/)**吗？

```
$("a.tooltip").mouseenter(function(e) {
    tooltip = $(this).parent().find(".is-hidden");
    tooltip
        .css("top",(e.pageY) + "px")
        .css("z-index","200002")
        .css("left",(e.pageX) + "px");

    tooltip.show();
}).mouseleave(function(e) {
    tooltip = $(this).parent().find(".is-hidden");
    tooltip.hide();
});​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:32:06.830

尝试在被点击的元素上使用[jquery position 方法。](http://api.jquery.com/position/)

例如`var posDown = $(this).position().top`

那应该给你正确的位置。

编辑 - 这是一个与 SubRed 非常相似的小提琴，但使用`position()`和 height 属性来定位工具提示[http://jsfiddle.net/FUS27/](http://jsfiddle.net/FUS27/)

# c++ - C++ 中的 TCHAR* 到 char* 转换

> ID：13760141
> 
> 赞同：2
> 
> 时间：2012-12-07T09:21:31.620
> 
> 标签：c++, conventions, type-conversion

我正在尝试将 TCHAR* 变量转换为 char* 变量。我这样做是因为这是必须的，也因为我很好奇这种转换将如何完成。如果您能帮助我，我将不胜感激。我是 C++ 初学者。

谢谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:39:57.800

[TCHAR](http://msdn.microsoft.com/en-us/library/office/cc842072.aspx)是根据您的项目设置定义的。如果您的项目使用多字节，它已经是一个字符。如果它是 unicode，您将使用[WideCharToMultiByte](http://msdn.microsoft.com/en-us/library/windows/desktop/dd374130%28v=vs.85%29.aspx)进行转换。您可以`#ifdef UNICODE`检查您的项目是多字节还是 unicode。IE：

```
#ifdef UNICODE
// TCHAR is unicode, convert to char
WideCharToMultiByte(...)
#else
// TCHAR is already char, do nothing
#endif 
```

# java - Java：向设备打开流以进行输入和输出

> ID：13760142
> 
> 赞同：4
> 
> 时间：2012-12-07T09:21:41.403
> 
> 标签：java, stream

我需要在 linux 环境中与来自 java 的小型标签打印机（通过一种 ESC/P 形式）进行交互。打印机可在 中作为字符设备使用`/dev/usb/lp0`。

发送数据效果很好：

```
FileOutputStream oStream = new FileOutputStream("/dev/usb/lp0");
BufferedOutputStream lp0out = new BufferendOutputStream(oStream);
byte[] data = new byte[]{0x1b, 0x40}; // ESC, @  = initialise printer
lp0out.write(data); 
```

现在要询问打印机状态，我还需要读取它对特定命令的响应。如何在输入和输出模式下打开设备？发送请求后是否需要关闭输出流，然后打开设备进行输入？

# ruby-on-rails - 登录在我的 Rails twitter 克隆上不起作用

> ID：13760143
> 
> 赞同：0
> 
> 时间：2012-12-07T09:21:41.810
> 
> 标签：ruby-on-rails, ruby-on-rails-3, authentication

我在 Twitter 克隆上的 Charles Max wood 教程上。我收到此错误`RuntimeError in HomeController#show`

```
undefined method `all_flits' for nil:NilClass 
```

但是当我在控制台上尝试时，该方法有效

与 raise session.inspect 我得到

```
{"return_to"=>"http://localhost:3000/sessions", "session_id"=>"2baca34a681d6a9e259991481891f7bf", "_csrf_token"=>"pKRBBE3m4+T+aTeBBFvqDsEsKxPaWG5AxF3hBiWlV2E="} 
```

我使用 Ryan Bates 漂亮的生成器登录。一直工作到现在。我不知道我在 show 方法中遇到了哪个错误。

登录的 URL 是 `http://localhost:3000/login`
我得到的错误是 `http://localhost:3000/sessions`
在登录时的 URL 我应该去`http://localhost:3000`
对应于 'home#index'

家庭控制器

```
class HomeController < ApplicationController
  before_filter :login_required

  def index
    @flits = current_user.all_flits
    @last_flits = current_user.flits.last
  end

     def show
        @user =  User.find_by_username(params[:username])
        @flits= @user.all_flits
      end

   def toggle_follow
        @user =  User.find_by_username(params[:username])
        if current_user.is_friend? @user
          flash[:notice] = "You are no longer following @#{@user.username}"
          current_user.remove_friend(@user)
        else
          flash[:notice] = "You are now following @#{@user.username}"
          current_user.add_friend(@user)
        end
        redirect_to show_path(@user.username)

     end
end 
```

显示.html.erb

```
<h1><%= image_tag @user.gravatar_url, :align => "top" %> <%= @user.username %></h1>

<%= form_tag  toggle_follow_path do  %>
  <% if current_user.is_friend? @user %>
     <%=h submit_tag "Following"  , :class => "button" %>
  <% else %>
     <%=h submit_tag "Not Following"  , :class => "button" %>
  <% end %>
<% end %>
<%=h render :partial => "flits_list", :locals => { :flits => @flits }%> 
```

模型用户.rb

```
class User < ActiveRecord::Base
  # new columns need to be added here to be writable through mass assignment
  attr_accessible :username, :email, :password, :password_confirmation

  # gravatastic
  include Gravtastic
  gravtastic 
  has_gravatar :size => 50

  attr_accessor :password
  before_save :prepare_password

  validates_presence_of :username
  validates_uniqueness_of :username, :email, :allow_blank => true
  validates_format_of :username, :with => /^[-\w\._@]+$/i, :allow_blank => true, :message => "should only contain letters, numbers, or .-_@"
  validates_format_of :email, :with => /^[-a-z0-9_+\.]+\@([-a-z0-9]+\.)+[a-z0-9]{2,4}$/i
  validates_presence_of :password, :on => :create
  validates_confirmation_of :password
  validates_length_of :password, :minimum => 4, :allow_blank => true

  has_many :flits, :dependent => :destroy

  has_many :friendships
  has_many :friends, :through => :friendships

   def add_friend(friend)
      friendship = friendships.build(:friend_id => friend.id)
       if !friendship.save
         logger.debug "User '#{friend.email}' already exists in the user's friendship list."
       end
   end

     def remove_friend(friend)
           friendship = Friendship.find(:first, :conditions  => ["user_id = ? and friend_id = ?", self.id, friend.id])
           # friendship = self.friendships.find(:friend_id => friend.id)
           if friendship
             friendship.destroy
           end
         end

         def is_friend?(friend)
           return self.friends.include? friend
         end

      def all_flits
           Flit.find(:all, :conditions => ["user_id in (?)", friends.map(&:id).push(self.id)], :order => "created_at desc")
      end

  # login can be either username or email address
  def self.authenticate(login, pass)
    user = find_by_username(login) || find_by_email(login)
    return user if user && user.password_hash == user.encrypt_password(pass)
  end

  def encrypt_password(pass)
    BCrypt::Engine.hash_secret(pass, password_salt)
  end

  private

  def prepare_password
    unless password.blank?
      self.password_salt = BCrypt::Engine.generate_salt
      self.password_hash = encrypt_password(password)
    end
  end
end 
```

路由文件

```
Flitter2::Application.routes.draw do

  root to: 'home#index'
  match 'user/edit' => 'users#edit', :as => :edit_current_user

  match 'signup' => 'users#new', :as => :signup

  match 'logout' => 'sessions#destroy', :as => :logout

  match 'login' => 'sessions#new', :as => :login

  match '/:username',       to: 'home#show', as: 'show'

 match '/:username/toggle_follow', to: 'home#toggle_follow', as: 'toggle_follow'

  resources :sessions

  resources :users

  resources :welcome

  resources :flits
end 
```

Ryan bates controller_authetication 模块

```
module ControllerAuthentication
  def self.included(controller)
    controller.send :helper_method, :current_user, :logged_in?, :redirect_to_target_or_default
  end

  def current_user
    @current_user ||= User.find(session[:user_id]) if session[:user_id]
  end

  def logged_in?
    current_user
  end

  def login_required
    unless logged_in?
      store_target_location
      redirect_to login_url, :alert => "You must first log in or sign up before accessing this page."
    end
  end

  def redirect_to_target_or_default(default, *args)
    redirect_to(session[:return_to] || default, *args)
    session[:return_to] = nil
  end

  private

  def store_target_location
    session[:return_to] = request.url
  end
end 
```

宝石文件

```
source 'https://rubygems.org'

gem 'rails', '3.2.8'

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'

gem 'sqlite3'

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes
  # gem 'therubyracer', :platforms => :ruby

  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails'

gem "nifty-generators", :group => :development
# To use ActiveModel has_secure_password
# gem 'bcrypt-ruby', '~> 3.0.0'

# To use Jbuilder templates for JSON
# gem 'jbuilder'

# Use unicorn as the app server
# gem 'unicorn'

# Deploy with Capistrano
# gem 'capistrano'

# To use debugger
# gem 'debugger'

gem "bcrypt-ruby", :require => "bcrypt"
gem "mocha", :group => :test

gem 'faker'
gem 'populator'
gem 'gravtastic' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-26T14:19:32.070

我也遇到了这个问题然后我可以解决一些步骤1.路线的优先顺序

```
match '/edit_current_user' => 'users#edit', :as => :edit_current_user, :via => :POST
match '/signup' => 'users#new', :as => :signup, :via => :GET
match '/logout' => 'sessions#destroy', :as => :logout, :via => :GET
match '/login' => 'sessions#new', :as => :login, :via => :GET 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:25:14.020

您想告诉我您是如何获得“current_user”变量的吗？我客人说这有问题。成功登录后，我在您的代码中看不到任何用于存储用户的行。

# ios - 在 iTunes Connect 中为团队创建应用程序

> ID：13760144
> 
> 赞同：2
> 
> 时间：2012-12-07T09:21:43.537
> 
> 标签：ios, app-store-connect

我有自己的开发者帐户，但目前我正在与一个客户合作，他们会将他们的应用程序上传到他们的帐户。我被设置为他们团队的管理员，我可以管理配置文件等，但我什至找不到尝试访问他们的 iTunes Connect 的“管理应用程序”部分的方法。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T06:49:02.183

事实证明，虽然单个帐户可以在开发人员门户中管理多个开发团队，但它只能附加到单个 itunesConnect 帐户。我不得不要求客户向 iTunes Connect 帐户添加不同的电子邮件。

# templates - Meteor 模板状态与全局会话

> ID：13760146
> 
> 赞同：4
> 
> 时间：2012-12-07T09:21:49.153
> 
> 标签：templates, state, meteor

我刚刚开始使用来自 Apache-Wicket 可重用组件的 webapp 开发的流星。

如果模板中使用的数据不是 mongodb 文档，则必须使用会话来存储状态信息，例如下拉选择。但是会话是全局的，如果模板被使用两次或多次，那么固定的会话属性“mySelection”将不起作用，因为所有模板实例都将共享/覆盖相同的会话值。Apache Wicket 解决方案是使用完全限定的模板路径为属性添加前缀，并为每个模板实例维护一个唯一的会话属性。

是否有通用的内置解决方案来维护流星中的“模板实例状态”？如果没有，也许模板实例本身可以通过模板函数以某种方式访问​​？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-24T14:01:29.687

我这样做的方式类似于您描述为 Apache Wicket 的解决方案，除了我会编写自己的代码来管理它。例如，使用与每个模板匹配的键来管理 Session 对象：

```
function setTemplateSession(key, value) {
  Session.set("template_" + key, value);
}
function getTemplateSession(key) {
  Session.get("template_" + key);
} 
```

在您的模板方法中：

```
Template.myList.selection = function() {
  return getTemplateSession("myList");
}

Template.myOtherList.selection = function() {
  return getTemplateSession("myOtherList");
} 
```

你显然可以进一步抽象这个。如果 Meteor 默认提供这种行为会很好，也许您可​​以编写一个智能包，将 Apache Wicket 的哲学贡献给 Meteor 的模板系统，而​​不是让 Meteor 做到这一点？

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-08T09:31:26.773

模板实例本身可以通过*this*访问。

请参阅[模板实例](http://docs.meteor.com/#template_inst)。

# git - Git合并同时切换到子模块

> ID：13760150
> 
> 赞同：5
> 
> 时间：2012-12-07T09:22:19.607
> 
> 标签：git, git-submodules, git-merge

我们在我们的应用程序中使用 Qooxdoo 框架。目前，它的副本存储在我们的 Git 存储库的根文件夹“qooxdoo”中。我们决定将其替换为直接指向 GitHub Qooxdoo 存储库的子模块，这样我们将来可以更轻松地签出新版本。

我基于 master 为这些更改创建了分支，称为 qooxdoo-update。完全删除旧文件夹并为 qooxdoo 添加子模块。

> git rm -r qooxdoo
> git 子模块添加 git://github.com/qooxdoo/qooxdoo.git qooxdoo

到目前为止，这工作得很好。然而，当我想将 master 合并到这个分支中以保持它更新直到其他开发人员可以测试他们的代码新版本时，就会出现问题。

虽然仍在 qooxdoo-update 分支中，但我发出命令：

> **git合并原点/主**
> 
> CONFLICT（文件/目录）：在 origin/master 中有一个名为 qooxdoo 的目录。将 qooxdoo 添加为 qooxdoo~HEAD

然后...

> **git status**
> 未合并的路径：（根据需要使用“git add/rm ...”来标记解析）
> 
> ```
>  added by us:        qooxdoo 
> ```

跑步...

> **git rm qooxdoo**
> qooxdoo: 需要合并
> rm 'qooxdoo'
> 取消文件 'qooxdoo' 的链接失败。我应该再试一次吗？（是/否）

或者...

> **git add qooxdoo**
> 错误：无法索引文件 qooxdoo
> 致命：更新文件失败

所以我不确定如何解决该冲突以成功完成合并。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-05-22T14:45:17.177

如果您想返回文件/目录的上一个最新版本，请执行：

```
git reset HEAD qooxdoo 
```

应该管用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-04T00:03:03.420

该`git rm -rf qooxdoo`命令应该在其自己的提交中完成，然后添加子模块。这将告诉 git（从 master 合并到分支时）有关意图。目前，被合并的同一个提交只是替换文件/内容——所以 git 会感到困惑。你有机会重播主提交吗？

# android - 如何停止线程中的http请求？

> ID：13760151
> 
> 赞同：0
> 
> 时间：2012-12-07T09:22:22.837
> 
> 标签：android, multithreading, httprequest

我已经阅读了很多答案，正确的方法可能是在`while`循环中设置一个标志，当标志成为`false`线程将停止。

```
public void run() {
        // TODO Auto-generated method stub
        while(flag){
            doSomething...
        }
} 
```

但是这里我在`run`方法中封装了一个http请求，我的代码中没有这样`while`的循环，如何正确停止它，我只停止线程可以吗，还是我必须做更多才能停止httprequest？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:42:26.067

```
HttpClient httpclient = new DefaultHttpClient();
HttpResponse response = httpclient.execute(new HttpGet(URL)); 
```

现在，如果您想关闭您的请求，请使用此语法

```
httpclient.getConnectionManager().shutdown(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:40:10.600

为什么不使用`AsyncTask`？这样，您可以调用`mTask.cancel();`以停止您的请求/您在此任务中运行的任何内容。

看看这个： http: [//developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html) 你还可以找到一个例子。

# php - 如何访问 CakePHP 2.x 中的 OAuth2 插件视图？

> ID：13760155
> 
> 赞同：2
> 
> 时间：2012-12-07T09:22:40.250
> 
> 标签：php, cakephp, oauth-2.0

我正在尝试在 cakephp 中实现 REST API。我下载 CakePHP OAuth2 服务器插件[https://github.com/seddonmedia/cakephp-oauth-server](https://github.com/seddonmedia/cakephp-oauth-server)

现在我正在尝试对其进行测试以了解它是如何工作的。我使用所有默认设置，并按照文档建议配置路由。我的问题是，每次我尝试访问使用 oauth 组件的视图时，我都会收到以下 json。{"error":"invalid_client","error_description":"未提供客户端 ID"}

我正在尝试访问登录页面（来自插件的默认登录视图）[oauth/login]，我收到相同的错误。

为什么 ？如何访问登录页面以填写用户凭据？有没有教程可以让我了解更多细节？

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-27T11:19:40.847

据我所知，这个插件需要你安装一个供应商，一个控制器组件，最后是它自己的插件。

完成后，请记住加载插件或加载 Config/bootstrap.php 文件中的所有插件。

```
CakePlugin::loadAll(); 
```

然后只需：http: [//yourwebsite.com/oauth](http://yourwebsite.com/oauth)

虽然，提供的 oauth 控制器就像一个演示，不打算让您以这种方式使用它，但您应该拥有自己的用户控制器，您应该在其中为您的 APP 流程拥有自己的登录和授权功能。

在插件之外，在您的用户控制器中加载组件：

```
public $components = array('OAuth.OAuth', 'Auth', 'Session', 'Security'); 
```

在 beforeFilter 中添加：

```
$this->OAuth->authenticate = array('fields' => array('username' => 'email')); 
```

**然后，您可以在插件的誓言控制器上复制登录功能。**

# android - Android ActionBar 操作项

> ID：13760159
> 
> 赞同：2
> 
> 时间：2012-12-07T09:22:50.110
> 
> 标签：android, android-actionbar, actionbarsherlock

我正在使用 Actionbar Sherlock，并且我有三个按钮

1.  使用 SearchView 进行搜索
2.  打开对话框片段的类别
3.  排序打开一个隐藏的下拉菜单

当我单击搜索按钮时，SearchView 文本会展开。当搜索视图展开时，我想隐藏操作栏中的所有其他图标，并且当我退出展开的 searchView 模式时它应该返回。

```
public class MainActivity extends SherlockFragmentActivity implements
        SearchView.OnQueryTextListener {
    protected static CharSequence[] _categories = { "Amusement Park",
            "Bird Sanctuary", "Wild Life", "River", "Hill Station", "Temple" };

    protected static boolean[] _selections = new boolean[_categories.length];
    public SearchView mSearchView;
    private TextView mStatusView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        super.onCreateOptionsMenu(menu);
        MenuInflater inflater = getSupportMenuInflater();
        inflater.inflate(R.menu.activity_main, menu);

        MenuItem searchItem = menu.findItem(R.id.action_search);
        MenuItem categoryItem = menu.findItem(R.id.action_category);
        MenuItem sortItem = menu.findItem(R.id.action_sort);
        mSearchView = (SearchView) searchItem.getActionView();
        setupSearchView(searchItem, categoryItem, sortItem);
        return true;
    }

    public boolean onOptionsItemSelected(MenuItem item) {

        switch (item.getItemId()) {
        /*
         * case R.id.action_go: Intent i = new Intent(MainActivity.this,
         * PlaceActivity.class); startActivity(i); break;
         */
        /*
         * case R.id.action_search: Toast.makeText(this, "Searh",
         * Toast.LENGTH_LONG).show(); break;
         */
        case R.id.action_category:
            showDialog();
            break;
        case R.id.action_sort_alpha_az:
            Toast.makeText(this, "Alpha AZ", Toast.LENGTH_LONG).show();
            break;
        case R.id.action_sort_alpha_za:
            Toast.makeText(this, "Alpha ZA", Toast.LENGTH_LONG).show();
            break;
        case R.id.action_sort_dist_nf:
            Toast.makeText(this, "Dist NF", Toast.LENGTH_LONG).show();
            break;
        case R.id.action_sort_dist_fn:
            Toast.makeText(this, "Dist FN", Toast.LENGTH_LONG).show();
            break;
        default:
            // return super.onOptionsItemSelected(item);
            break;
        }
        return true;
    }

    private void setupSearchView(MenuItem searchItem, MenuItem categoryItem,
            MenuItem sortItem) {
        mSearchView.setIconifiedByDefault(true);
        searchItem.setShowAsActionFlags(MenuItem.SHOW_AS_ACTION_ALWAYS
                | MenuItem.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW);
    }

    public boolean onQueryTextChange(String newText) {
        Log.i("Nomad", "onQueryTextChange");
        return false;
    }

    public boolean onQueryTextSubmit(String query) {
        Log.i("Nomad", "onQueryTextSubmit");
        return false;
    }

    public boolean onClose() {
        Log.i("Nomad", "onClose");
        return false;
    }

    protected boolean isAlwaysExpanded() {
        return false;
    }

} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-07T09:28:57.910

我正在做同样的事情：

```
private Menu mainMenu = null;

public boolean onCreateOptionsMenu(Menu menu) {
    super.onCreateOptionsMenu(menu);
    MenuInflater inflater = getSupportMenuInflater();
    inflater.inflate(R.menu.activity_main, menu);

    mainMenu = menu;

    MenuItem searchItem = menu.findItem(R.id.action_search);
    MenuItem categoryItem = menu.findItem(R.id.action_category);
    MenuItem sortItem = menu.findItem(R.id.action_sort);
    mSearchView = (SearchView) searchItem.getActionView();
    mSearchView.setOnSearchClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) { 
                //hide  action item
                if (mainMenu != null)   
                    mainMenu.findItem(R.id.quick_actions).setVisible(false);
        }
    });
    mSearchView.setOnCloseListener(new SearchView.OnCloseListener() {           
        @Override
        public boolean onClose() {
            //re-show the  action button 
                if (mainMenu != null)
                    mainMenu.findItem(R.id.quick_actions).setVisible(true);
            return false;
        }
    });
    //setupSearchView(searchItem, categoryItem, sortItem);
    return true;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-03T07:22:51.857

我的解决方案是：

```
@Override
public void onCreateOptionsMenu(final Menu menu, MenuInflater inflater)
{
    final MenuItem item = menu.add(0, MENU_SEARCH, 0, "Search");

    final SearchView searchView = new SearchView(getActivity());

    searchView.setOnQueryTextFocusChangeListener(new View.OnFocusChangeListener() 
    {
        @Override
        public void onFocusChange(View view, boolean queryTextFocused) 
        {
            if(!queryTextFocused) 
            {
                item.collapseActionView();
            }

            int count = menu.size();

            for (int i = 0; i < count; i ++)
            {
                MenuItem it = menu.getItem(i);
                it.setVisible(item.equals(it)) || !queryTextFocused);
            }
        }
    });

    item.setActionView(searchView);
    item.setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS | MenuItem.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-07T09:07:58.373

只需在菜单的 xml 中，将属性设置为 app:showAsAction="collapseActionView|ifRoom" 用于 seachview，其他菜单项将其设置为 app:showAsAction="ifRoom"。这将为您提供预期的结果。

# r - 在r中排序后如何保留矩阵的类

> ID：13760163
> 
> 赞同：3
> 
> 时间：2012-12-07T09:22:54.117
> 
> 标签：r, matrix

> **可能重复：**
> [R 和 1 行矩阵](https://stackoverflow.com/questions/12601692/r-and-matrix-with-1-row)

我有数百个矩阵，在一个 for 循环中，我正在对它们进行一些更改，包括对它们进行排序。问题在于只有一行的矩阵。因此，当我订购它们时，它们的类将从矩阵变为字符，如下所示：

```
> test1
 Gene ID  Gene Name Score(d) Fold Change q-value(%)
[1,] "g17035" "17035"   "-29.1"  "0.877"     "303.826" 
> class(test1)
[1] "matrix" 
```

并且在应用命令时它变成字符类：

> test1 <- test1[order(test1[, 5]), ]

```
> test1
Gene ID   Gene Name    Score(d) Fold Change  q-value(%) 
"g17035"     "17035"     "-29.1"     "0.877"   "303.826" 
> class(test1)
[1] "character" 
```

我什至使用了 as.matrix 但它以不需要的顺序更改了矩阵：

> test1 <-as.matrix(test1[order(test1[, 5]), ])

然后它会是这样的：

```
> test1
    [,1]     
Gene ID     "g17035" 
Gene Name   "17035"  
Score(d)    "-29.1"  
Fold Change "0.877"  
q-value(%)  "303.826" 
```

我该如何解决？先感谢您

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T09:29:54.063

您正在寻找的是不减少子集的维度，并且这样做的方法是`drop`使用`[`. 更多信息可在`?"["`.

```
# Demo matrix
> a <- matrix(1:9, 3, 3)
> a
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9

# With reduction
> a[1,]
[1] 1 4 7
> class(a[1,])
[1] "integer"

# Without reduction
> a[1,,drop=FALSE]
     [,1] [,2] [,3]
[1,]    1    4    7
> class(a[1,,drop=FALSE])
[1] "matrix" 
```

# android - 如何在android中使用自定义声音设置通知

> ID：13760168
> 
> 赞同：49
> 
> 时间：2012-12-07T09:23:16.630
> 
> 标签：android

我将mp3（kalimba.mp3）文件复制到`raw`文件夹中的`res`文件夹中。但是当通知被触发时，它会产生默认声音。

这就是我发出通知的方式：

```
protected void GenerateNotify() {

    NotificationManager myNotificationManager=(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);  
    Notification notification=new Notification(android.R.drawable.ic_btn_speak_now,"hi",100);
    Intent intent=new Intent(getApplicationContext(),as.class);
    PendingIntent contentintent=PendingIntent.getBroadcast(getApplicationContext(),0, intent, 0);
    notification.setLatestEventInfo(getApplicationContext(), "Hi","date", contentintent);
    notification.flags |= Notification.FLAG_AUTO_CANCEL;
    notification.sound = Uri.parse("android.resource://com.example.serviceproject/" + R.raw.kalimba);
    myNotificationManager.notify(NOTIFICATION_ID,notification);
} 
```

* * *

## 回答 #1

> 赞同：117
> 
> 时间：2012-12-07T09:36:14.330

```
notification.sound = Uri.parse("android.resource://" + getPackageName() + "/" + R.raw.notifysnd);
notification.defaults = Notification.DEFAULT_LIGHTS | Notification.DEFAULT_VIBRATE; 
```

> 如果定义了 DEFAULT_SOUND，则默认声音会覆盖任何声音

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-12-09T04:10:22.633

`R.raw.kalimba`是一个整数**资源 ID；**您想要其中的声音资源的*名称*`Uri`。所以试试：

```
notification.sound = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE
        + "://" + getPackageName() + "/raw/kalimba"); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-05-12T09:29:17.187

尝试这个：

```
Uri sound = Uri.parse("android.resource://" + context.getPackageName() + "/raw/notifysnd);
notification.setSound(sound); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-03-05T15:06:32.610

你应该替换这一行：

```
notification.sound = Uri.parse("android.resource://com.example.serviceproject/" + R.raw.kalimba); 
```

有了这个：

```
notification.setSound(Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + "://" + getPackageName() + "/raw/kalimba")); 
```

或在某些情况下：

```
notification.sound = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + "://" + getPackageName() + "/raw/kalimba"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-06-23T18:52:24.957

我在 HelperClass.java 中创建了这个静态函数

```
 public static void givenotification(Context context,String message) {
         NotificationManager notificationManager = (NotificationManager) context.getSystemService(context.NOTIFICATION_SERVICE);

         Intent notificationIntent = new Intent(context, DesireActivity.class);
         PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, notificationIntent, 0);

         Notification notification = new Notification();
         NotificationCompat.Builder builder;
         builder = new NotificationCompat.Builder(context);

         notification = builder.setContentIntent(pendingIntent)
            .setSmallIcon(R.mipmap.ic_launcher)
            .setTicker(context.getString(R.string.app_name)).setWhen(System.currentTimeMillis())
            .setAutoCancel(true).setContentTitle(context.getString(R.string.app_name))
            .setContentText(message).build();
         notification.sound = Uri.parse("android.resource://" + context.getPackageName() + "/" + R.raw.kalimba);
         notificationManager.notify(1, notification);
     } 
```

然后像 MainActivity `HelperClass.givenotification(MainActivity.this,"Your Notification Message");` 或片段 中的任何 Activity`HelperClass.givenotification(getActivity(),"Your Notification Message");`

希望这对某人有所帮助。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2019-03-18T07:35:04.583

我已经实现了这种方式来在我的应用程序中设置自定义通知声音。

```
 int notificationID=001;
        NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);

        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this);

        mBuilder.setSmallIcon(R.drawable.room);
        mBuilder.setContentTitle("Room Rent , Pay Room Rent");
        mBuilder.setContentText("Hi, Its time to pay your Room Rent!");
        mBuilder.setAutoCancel(true);
        mBuilder.setColor(getResources().getColor(R.color.colorViolet));
        mBuilder.setSound(Uri.parse("android.resource://com.roommanagement.app/" + R.raw.notification_sound));

        if (mNotificationManager!=null){
            mNotificationManager.notify(notificationID, mBuilder.build());
        } 
```

跳这会帮助你。谢谢...

# c++ - 替换向量中的子向量

> ID：13760174
> 
> 赞同：8
> 
> 时间：2012-12-07T09:23:37.403
> 
> 标签：c++, vector

我有

```
vector<int> my_vector;
vector<int> other_vector; 
```

和。`my_vector.size() == 20`_`other_vector.size() == 5`

给定`int n`, with `0 < n < 14`, 我想用 . 替换子向量 ( , `my_vector[n]`, `myvector[n+1]`..., `myvector[n+4]`)`other_vector`

肯定有愚蠢的代码

```
 for(int i=0; i<5; i++)
 {
      my_vector[n+i] = other_vector[i];
 } 
```

我已经完成了，但我想知道是否有更有效的方法来做到这一点。有什么建议吗？

（当然数字 20 和 5 只是一个例子，在我的情况下，我有更大的尺寸！）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-07T09:34:33.430

在 C++11 中，增加了一个友好的函数[`std::copy_n`](http://en.cppreference.com/w/cpp/algorithm/copy_n)，所以你可以使用它：

```
 std::copy_n(other_vector.begin(), 5, &my_vector[n]); 
```

在 C++03 中，您可以使用[`std::copy`](http://en.cppreference.com/w/cpp/algorithm/copy)已经提到的其他答案。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-07T09:30:37.943

你可以使用[`std::copy`](http://en.cppreference.com/w/cpp/algorithm/copy)：

```
// Get the first destination iterator
auto first = std::advance(std::begin(my_vector), n);

// Do the copying
std::copy(std::begin(other_vector), std::end(other_vector), first); 
```

尽管这基本上与您的幼稚解决方案相同。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-07T09:27:58.840

我不知道性能，但更清洁的版本将是使用`std::copy`

```
std::copy(other_vector.begin(),other_vector.end(),my_vector.begin()+n); 
```

对于最小-最大性能，也许（？）`memcpy`是答案..

```
memcpy(my_vector.begin()+n, other_vector.begin(), sizeof(int) *other_vector.size()); 
```

# javascript - 如何将对象属性作为参数传递？(JavaScript)

> ID：13760186
> 
> 赞同：34
> 
> 时间：2012-12-07T09:24:24.417
> 
> 标签：javascript, function, object, properties, parameters

我不确定标题是否适合我想要实现的目标

我将 JSON 结果映射到一个数组。因为我需要一遍又一遍地这样做，所以我想将代码放入一个函数中。

在以下示例中，我正在重复自己。我有名为 item.data1, item.data2 的属性，在第二个示例中 item.something1, item.something2 ...我如何将这些属性作为“通用”参数传递给新创建的函数以便在那里使用它们而不是重复自己返回那些地图？新函数应该可用于下面的两个示例以及属性可能具有不同名称的其他情况。

```
service.getData(function(data) {
    var map = {};
    map = $.map(data, function(item, i) {
        var entry = {};

        entry.key = item.data1;
        entry.value = item.data2;

        return entry;
    });
});

service.getSomething(function(data) {
    var map = {};
    map = $.map(data, function(item, i) {
        var entry = {};

        entry.key = item.something1;
        entry.value = item.something2;

        return entry;
    });
}); 
```

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2012-12-07T09:33:06.353

与字符串一起使用`[]`以动态地从对象中提取属性。

```
var a = { foo: 123 };
a.foo    // 123
a['foo'] // 123

var str = 'foo';
a[str]   // 123 
```

这意味着我们可以像这样重构您的方法，只需将您想要读取的属性的名称作为字符串传递。

```
var getKeyValueMap = function(data, keyPropName, valuePropName) {
  return $.map(data, function(item, i) {
    return {
      key:   item[keyPropName],
      value: item[valuePropName]
    }
  });
};

service.getData(function(data) {
  return getKeyValueMap(data, 'data1', 'data2');
});

service.getSomething(function(data) {
  return getKeyValueMap(data, 'something1', 'something2');
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-07T09:41:27.537

这可以使用`[]`运算符而不是`.`-notation来完成，[就像我为您创建的这个小提琴中一样：D](http://jsfiddle.net/5prnp/)：

```
 var data = [{
        data1: 'foo',
        data2: 'bar',
        something1: 'sparky',
        something2: 'arf arf!'},
    {
        data1: 'My name is',
        data2: 'What?',
        something1: 'my name is',
        something2: 'Who?!'}
    ];

    function test(data, prop) {
        var d_length = data.length;
        for (var i = 0; i < d_length; i++) {
            alert(data[i][prop]);
        }
    }

    test(data, 'data1'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T09:33:51.663

您需要将`item`对象和 item-keys 映射传递给 entry-keys。这可以是两个数组，一个元组数组或其他东西，或者一个对象。我能想到的最简单的方法是将描述符对象更改为条目本身：

```
function mapPropertyNames(source, dest) {
    for (var prop in dest)
        dest[prop] = source[dest[prop]];
    return dest;
}

// and use it like this:

var map = $.map(data, function(item, i) {
    return mapPropertyNames(item, {key:"something1", value:"something2"});
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-07T09:36:57.663

就像是

```
service.getData(function(data) {
    var map = {};
    var varNamePrefix = 'data';
    map = $.map(data, function(item, i) {
        return getProperties(item, varNamePrefix);
    });
});

service.getSomething(function(data) {
    var map = {};
    var varNamePrefix = 'something';
    map = $.map(data, function(item, i) {
        return getProperties(item, varNamePrefix);
    });
});

function getProperties(item, varNamePrefix) {
    var ret = {};
    ret.key = item[varNamePrefix + '1'];
    ret.value = item[varNamePrefix + '2'];
    return ret;
} 
```

可以帮忙吗？

基本上，您可以使用一个带有属性前缀的函数，并使用它来形成实际的属性名称以从项目中获取。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-12-07T09:33:50.787

试试这个：

```
service.getData(function(data, props) {// props is a property object
    var map = {};
    map = $.map(data, function(item, i) {
        var entry = {};

        for (var key in props) {
            entry[key] = item[key]
        }

        return entry;
    });
}); 
```

或使用属性数组

```
service.getData(function(data, props) {// props is like ['data1', 'data2']
    var map = {};
    map = $.map(data, function(item, i) {
        var entry = {};

        for (var j = 0, k = props.length; j < k; j++) {
            entry[props[j]] = item[props[j]]
        }

        return entry;
    });
}); 
```

# cocoa - 将离线 NSView 捕获到 NSImage

> ID：13760187
> 
> 赞同：0
> 
> 时间：2012-12-07T09:24:29.377
> 
> 标签：cocoa, drawing, core-animation, calayer, nsview

我正在尝试制作一个自定义动画来替换`NSView`另一个。出于这个原因，我需要`NSView`在它出现在屏幕上之前获取它的图像。

视图可能包含图层和`NSOpenGLView`子视图，因此标准选项`initWithFocusedViewRect`和`bitmapImageRepForCachingDisplayInRect`在这种情况下不能很好地工作（它们在我的实验中很好地分层或 OpenGL 内容）。

我正在寻找类似的东西`CGWindowListCreateImage`，它能够“捕获”`NSWindow`包括图层和 OpenGL 内容在内的离线内容。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T12:23:01.443

我为此创建了一个类别：

```
@implementation NSView (PecuniaAdditions)

/**
 * Returns an offscreen view containing all visual elements of this view for printing,
 * including CALayer content. Useful only for views that are layer-backed.
 */
- (NSView*)printViewForLayerBackedView;
{
    NSRect bounds = self.bounds;
    int bitmapBytesPerRow = 4 * bounds.size.width;

    CGColorSpaceRef colorSpace = CGColorSpaceCreateWithName(kCGColorSpaceSRGB);
    CGContextRef context = CGBitmapContextCreate (NULL,
                                                  bounds.size.width,
                                                  bounds.size.height,
                                                  8,
                                                  bitmapBytesPerRow,
                                                  colorSpace,
                                                  kCGImageAlphaPremultipliedLast);
    CGColorSpaceRelease(colorSpace);

    if (context == NULL)
    {
        NSLog(@"getPrintViewForLayerBackedView: Failed to create context.");
        return nil;
    }

    [[self layer] renderInContext: context];
    CGImageRef img = CGBitmapContextCreateImage(context);
    NSImage* image = [[NSImage alloc] initWithCGImage: img size: bounds.size];

    NSImageView* canvas = [[NSImageView alloc] initWithFrame: bounds];
    [canvas setImage: image];

    CFRelease(img);
    CFRelease(context);
    return canvas;
}

@end 
```

此代码主要用于打印包含分层子视图的 NSView。也能帮到你。

# asp.net - 使用 EF5、MVC4（使用 MVC3 AccountController）和 ASP.NET Membership 提供程序的其他用户信息

> ID：13760188
> 
> 赞同：0
> 
> 时间：2012-12-07T09:24:29.413
> 
> 标签：asp.net, asp.net-mvc, entity-framework

我正在尝试使用 MySQL 作为数据库并使用 asp.net System.Web.Providers、Entity Framework 5 和 Code First 方法构建一个 MVC 4 应用程序。到目前为止，它一直是地狱！我已经使用 MVC 3 AccountModel 使它工作（因为我的 mysql 连接器还不支持 SimpleMembership）。

到目前为止，可以创建用户，但我想了解更多关于存储在数据库中的用户的信息，例如他们撰写的帖子、他们的网站等。为此，我创建了一个 UserProfile 类来存储这些信息.

如何将我的 UserProfile 类与 asp.net auth-stuff 相关联，以便在有 MembershipUser 可用时获得额外的用户内容？

反过来可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-17T15:18:59.073

没有更多信息，很难回答您的问题。

一般来说，关于 MVC3 成员资格，听起来您最好查看自定义成员资格提供程序。试试这些寻求帮助

[代码项目 - 自定义成员资格提供程序](http://www.codeproject.com/Articles/165159/Custom-Membership-Providers)

[ASP.NET MVC 2 自定义成员资格提供程序教程](http://theintegrity.co.uk/2010/11/asp-net-mvc-2-custom-membership-provider-tutorial-part-1/)

[带有存储库注入的 ASP.Net MVC 3 自定义成员资格提供程序](http://www.danharman.net/2011/06/23/asp-net-mvc-3-custom-membership-provider-with-repository-injection/)

或者这个[StackOverflow 答案中的链接](https://stackoverflow.com/questions/9263537/sample-code-for-creating-custom-membership-provider)

[如果自定义成员资格看起来很重要，您可以尝试创建单独的模型，这些模型映射到this](https://stackoverflow.com/questions/10316981/asp-net-mvc-3-storing-additional-user-information-in-tables-using-entity-framewo?rq=1)和[this](https://stackoverflow.com/questions/6447313/how-do-i-integrate-membership-tables-with-entity-framework-asp-net?rq=1)中提到的 UserProfile 。

希望这会有所帮助。

# java - 在 MessageDrivenBeans 中动态设置激活配置属性

> ID：13760190
> 
> 赞同：3
> 
> 时间：2012-12-07T09:24:34.920
> 
> 标签：java, jms, message-driven-bean

我在尝试让我们的 MDB 在不同环境中使用动态加载的属性时遇到了一些困难。

```
@MessageDriven(activationConfig = {
@ActivationConfigProperty(propertyName = "providerURL", propertyValue = "localhost:7001"),
@ActivationConfigProperty(propertyName = "destinationType", propertyValue ="javax.jms.Queue") }, mappedName = "jms.MyQueue", name = "MyQueueReader")
public class QueueReaderBean implements MessageListener {

} 
```

我们希望在部署到不同环境时更改 providerURL。你有什么建议吗？

我们不想使用 ejb.xml，而是在构造函数或后构造方法中以编程方式进行。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T12:40:10.690

也许它与[从消息驱动 Bean (MDB) 连接到远程 JMS 提供程序的条目有关](https://stackoverflow.com/questions/4487615/connecting-to-a-remote-jms-provider-from-a-message-driven-bean-mdb)

并使用 jnp 协议的 url 可以完成这项工作：

@MessageDriven(activationConfig = { @ActivationConfigProperty(propertyName = "providerURL", **propertyValue ="jnp://hostname:1099"** ), @ActivationConfigProperty(propertyName = "destinationType", propertyValue ="javax.jms.Queue") }, mappedName = "jms.MyQueue", name = "MyQueueReader") 公共类 QueueReaderBean 实现 MessageListener {

}

# tinymce - TinyMCE：如何将编辑器设置为默认以纯文本模式启动？

> ID：13760193
> 
> 赞同：2
> 
> 时间：2012-12-07T09:24:44.603
> 
> 标签：tinymce

到目前为止，当我打开编辑器所在的页面时，它以所见即所得模式启动。我想更改它，以便在开始时显示纯文本模式。我该怎么做？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-09T11:02:51.723

```
Remove the editor instance when the page opens so that it opens in plain 
text mode.

You can add it later on. 
```

这是一个[演示](http://fiddle.tinymce.com/s1caab)

# clang - 如何在访问*方法中获取语句的基本块 ID

> ID：13760197
> 
> 赞同：1
> 
> 时间：2012-12-07T09:25:02.720
> 
> 标签：clang, static-analysis, llvm-clang

当我们覆盖 visit* 方法时，我们如何获取语句的基本块 ID（blockID）？

例如，对于下面给出的基本块，当访问 VisitIfStmt() 时，如何在此访问方法中获取 blockID？
[B4]
1: x == 0
T: 如果 [B4.1]
Preds (1): B6
Succs (2): B3 B2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-12-21T09:56:49.247

老问题，但我最近不得不回答同样的问题。您可以使用[`CFGStmtMap`](http://clang.llvm.org/doxygen/classclang_1_1CFGStmtMap.html)来查询语句的 BBL：

```
const FunctionDecl* FD = ...;
const CFG* cfg = ...;
std::unique_ptr<ParentMap> PM = llvm::make_unique<ParentMap>(FD->getBody());
std::unique_ptr<CFGStmtMap> CM = llvm::make_unique<CFGStmtMap>(cfg, PM.get());
// do your traversal and for a given Stmt `stmt` you can get
// its containing block:
CFGBlock* stmt_block = CM->getBlock(stmt);
const unsigned int block_id = stmt_block->getBlockID(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T10:10:57.587

您可以尝试使用 llvm::PHINode::getBasicBlockIndex ( const BasicBlock *BB)。

# javascript - 使用JS创建XML并转换为字符串

> ID：13760198
> 
> 赞同：0
> 
> 时间：2012-12-07T09:25:08.210
> 
> 标签：javascript, jquery, xml

我正在尝试将表单值转换为 XML。整个脚本在 Chrome 等中运行良好，但 IE8 不得不毁掉它，当然。我首先不得不更改我的代码，因为 IE 在 append 函数上抛出错误（显然我创建了 HTML 元素而不是 XML 元素。所以现在我认为这都是 XML 并且 IE 不再抱怨了。但是，当我试图将 XML 转换为字符串，Chrome 和 IE 都返回 undefined（chrome 实际上在控制台中显示一个空行。

我究竟做错了什么？

```
 function xmlToString(xmlData) { 

    var xmlString;
    //IE
    if (window.ActiveXObject){
    xmlString = xmlData.xml;
    }
    // code for Mozilla, Firefox, Opera, etc.
    else{
    xmlString = (new XMLSerializer()).serializeToString(xmlData);
    }
    return xmlString;
}   

function saveValues(thisB,formName){
       var xpath = $(thisB).attr("xpath");
       var returnToServer = $(thisB).attr("returnToServer");
       var version = $(thisB).attr("version");
       var now= Math.round(new Date().getTime() / 1000)
       var $root = $($.parseXML("<XMLDocument />").getElementsByTagName('*')[0]);
       var $valuesEl = $($.parseXML('<saveValues xpath="'+xpath+'" returnToServer="'+returnToServer+'" version="'+version+'"></saveValues>').getElementsByTagName('*')[0]);
           $("input").each(function(){
           var name = $(this).attr("name");
               if(name != 'xmlToPost'+formName && name != 'saveValuesButton'){
                   if( $(this).attr("type") == 'text'  || (($(this).attr("type") == 'checkbox' || $(this).attr("type") == 'radio') && $(this).is(":checked"))){
                       $valueEl = $($.parseXML('<value datetime="'+now+'" version="'+version+'" name="'+name+'"></value>').getElementsByTagName('*')[0]);
                       $valuesEl.append($valueEl);
                }
           }
       });

        $root.append($valuesEl);
        var valuesXML = xmlToString($root);
        var postToXMLContent = $("#xmlToPost"+formName).val();
        valuesXML = valuesXML.replace(/savevalues/gi,"saveValues");
        valuesXML = valuesXML.replace("returntoserver","returnToServer");
        //..rest of code
    } 
```

当我记录 $root 对象时，Chrome 给了我一个以 开头的大对象，`[<xmldocument>, context: <xmldocument>]`我可以展开它来查找包含 saveValues 等的子节点。IE 只显示`[object Object]`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:44:46.623

XML 序列化程序需要 XML 文档，而不是 jQuery 包装器（您可以在 Chrome 中看到它的记录）。所以使用`xmlToString($root[0]);`.

无论如何，由于 jQuery 显然似乎不是为使用 XML 而设计的，所以我只能推荐使用普通的 DOM 方法。它会使你的代码更短。

# c# - DataTemplate 中的 Storyboard 引用外部控件

> ID：13760199
> 
> 赞同：0
> 
> 时间：2012-12-07T09:25:12.590
> 
> 标签：c#, wpf, storyboard, datatemplate, itemscontrol

需要做出反应。当您按下**Popup**隐藏的**ItemsControl**上的按钮时。我做了一个布局，假设应该工作，但不工作，请帮忙。

 **```
<Style x:Key="gbListViewItemStyle"
         TargetType='{x:Type ListViewItem}' BasedOn='{StaticResource BaseListBoxItemStyle}'>
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid>
                            <ToggleButton x:Name="pupMenuButton" Command="{Binding Path=ActionCommand}" Style="{DynamicResource FlatToggleButtonStyle}">
                                <Grid>
                                    <TextBlock>text</TextBlock>
                                </Grid>
                            </ToggleButton>
                            <Popup Placement="Bottom" AllowsTransparency="True" StaysOpen="False"
                               PopupAnimation="Fade" x:Name="pupMenu" 
                                   IsOpen="{Binding ElementName=pupMenuButton, Path=IsChecked}">
                                <ItemsControl ItemsSource="{Binding Path=ListItems}" >
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <StackPanel/>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Button Content="{Binding Text1}" Command="{Binding Path=ActionCommand}" CommandParameter="{Binding}" Style="{DynamicResource ButtonStyleFlatBorder}">
                                                <Button.Triggers>
                                                    <EventTrigger RoutedEvent="ButtonBase.Click">
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <BooleanAnimationUsingKeyFrames Storyboard.TargetProperty="(ToggleButton.IsChecked)" Storyboard.TargetName="pupMenuButton">
                                                                    <DiscreteBooleanKeyFrame KeyTime="0" Value="False"/>
                                                                </BooleanAnimationUsingKeyFrames>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </EventTrigger>
                                                </Button.Triggers>
                                            </Button>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </Popup>
                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style> 
```

返回错误：“在命名空间“System.Windows.Controls.Button”中找不到名称“pupMenuButton”。” 故事板在这里不起作用，为什么？怎么做作业？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-09T05:35:24.517

在 xaml 中有名称范围的概念[http://msdn.microsoft.com/en-us/library/ms746659.aspx](http://msdn.microsoft.com/en-us/library/ms746659.aspx)。一个名称范围内的命名元素不知道另一个名称范围内的元素。在这种情况下，ItemTemplate 属性的 DataTemplate 是它自己的名称范围，因此绑定到元素名称 pupMenuButton 将不起作用。您可以在网格级别监听 click 事件，因为网格与您的 pupMenuButton ToggleButton 位于相同的名称范围内。这将表现相同，因为由数据模板创建的每个按钮都会引发最终到达网格的冒泡点击事件。

```
<Style x:Key="gbListViewItemStyle"
     TargetType='{x:Type ListViewItem}' BasedOn='{StaticResource BaseListBoxItemStyle}'>
<Setter Property="ContentTemplate">
    <Setter.Value>
        <DataTemplate>
            <Grid>
                <Grid.Triggers>
                    <EventTrigger RoutedEvent="ButtonBase.Click">
                        <BeginStoryboard>
                            <Storyboard>
                                <BooleanAnimationUsingKeyFrames Storyboard.TargetProperty="(ToggleButton.IsChecked)" Storyboard.TargetName="pupMenuButton">
                                    <DiscreteBooleanKeyFrame KeyTime="0" Value="False"/>
                                </BooleanAnimationUsingKeyFrames>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Grid.Triggers>
                <ToggleButton x:Name="pupMenuButton" Command="{Binding Path=ActionCommand}" Style="{DynamicResource FlatToggleButtonStyle}">
                    <Grid>
                        <TextBlock>text</TextBlock>
                    </Grid>
                </ToggleButton>
                <Popup Placement="Bottom" AllowsTransparency="True" StaysOpen="False"
                           PopupAnimation="Fade" x:Name="pupMenu" 
                               IsOpen="{Binding ElementName=pupMenuButton, Path=IsChecked}">
                    <ItemsControl ItemsSource="{Binding Path=ListItems}" >
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Button Content="{Binding Text1}" Command="{Binding Path=ActionCommand}" CommandParameter="{Binding}" Style="{DynamicResource ButtonStyleFlatBorder}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Popup>
            </Grid>
        </DataTemplate>
    </Setter.Value>
</Setter> 
```

呃等等我才意识到这是在做什么。您想要关闭弹出窗口以响应单击弹出窗口中的按钮。这将是使用 Restyled MenuItem 的好地方，因为这正是 Menu 的用途。**

# css - CSS 过渡隐藏元素

> ID：13760201
> 
> 赞同：1
> 
> 时间：2012-12-07T09:25:16.407
> 
> 标签：css, css-transitions

我正在创建一个 CSS 多维菜单。我正在使用过渡来淡入/淡出，以避免将鼠标移开 1 像素，从而最大限度地减少菜单问题。它可以工作，但是当您将鼠标移开时，如果子菜单中有多个项目，但第一个项目对于缓出过渡是不可见的。

相关代码：

```
ul.menu li>ul {
....
    overflow:hidden;
    visibility:hidden;
    opacity:0;
    transition:visibility 0s linear 0.5s, overflow 0s linear 0.5s, opacity 0.5s linear 0s;
}
ul.menu li:hover>ul {
    overflow:visible;
    visibility:visible;
    opacity:1;
    transition:visibility 0s linear 0s, overflow 0s linear 0.5s, opacity 0.5s linear 0s;
} 
```

Jsfiddle： http: [//jsfiddle.net/fGWzg/](http://jsfiddle.net/fGWzg/) 如何重现问题：将鼠标移到主栏中的第一个“hi”上，然后将其移开。只保留第一项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:33:27.247

我相信您在谈论 Firefox，因为 webkit 浏览器没有显示任何转换，您可能希望在 Chrome 或 Internet Explorer 中查看您的网站。您应该始终在 Chrome 中进行开发，它现在简直比 Firebug 优越。

至于你的问题：

```
ul.menu li > ul {
    height: 100%; /* delete */
    left: 0;
    margin: 0;
    opacity: 0;
    ...
} 
```

* * *

经过大量工作：

```
/* reset */
body {
    margin:0;
}
ol, ul {
    margin: 0;
    padding: 0;
}

/* global */
ul.menu,
ul.menu ul {
    list-style-type: none;
}
ul.menu,
ul.menu a {
    color: white;
}
ul.menu a {
    display: block;
    text-decoration: none;
}
ul.menu li {
    position: relative;
    height: 35px;
    line-height: 35px;
    font-weight: bold;
    text-align: center;
}
ul.menu li:hover {
    background-color: #11689E;
}

/* menu (just the first one) */
ul.menu {
    padding-left: 35px;
    background: #1BBFE0;
}
ul.menu > li {
    margin-right: 8px;
    display: inline-block;
    *display: inline;
    *zoom: 1;
    width: 5%;
    background-color: #1B94E0;
}

/* sub-menus (fading menus) */
ul.menu ul {
    position: absolute;
    width: 100%;
    background-color: #1B94E0;
    visibility: hidden;
    opacity: 0;
}
ul.menu li:hover > ul {
    visibility: visible;
    opacity: 1;
    -webkit-transition: opacity .5s linear;
       -moz-transition: opacity .5s linear;
         -o-transition: opacity .5s linear;
            transition: opacity .5s linear;
}

/* "pop out" sub-menus */
ul.menu li > ul ul {
    top: 0;
    right: -100%;
} 
```

[http://jsfiddle.net/654Ta/2/](http://jsfiddle.net/654Ta/2/)

适用于除 IE7 及以下的所有浏览器（由于`>`不支持选择器）。如果你替换它们，它将在 IE6 中工作。

干杯

# php - php IDE 与 ZEND 框架 2 一起使用

> ID：13760209
> 
> 赞同：1
> 
> 时间：2012-12-07T09:25:37.160
> 
> 标签：php, ide, zend-framework2

正如我们在这里看到的：[如何将 Zend 2 集成到 netbean](https://stackoverflow.com/questions/12405928/how-to-integrate-zend-framework-2-into-netbeans-7-2-ide)中，今天没有办法在 netbean 中使用 ZF2。

我对 php IDE 仍然不是很友好，但我正在寻找一个本机支持 ZF2 的免费 IDE。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-10T23:00:11.730

Eclipse PDT 有效，但您必须下载[Eclipse Juno](http://www.eclipse.org/juno/) ，然后在 Eclipse 中安装新软件并选择 PDT 3.1.1 www.zend.com/en/community/pdt 上提供的旧版本对我不起作用。

# iphone - 视网膜图形

> ID：13760211
> 
> 赞同：1
> 
> 时间：2012-12-07T09:25:40.820
> 
> 标签：iphone, objective-c

我正在使用将屏幕（如背景）填充到我的应用程序的图像。图像已经是视网膜尺寸，但我将其缩放以适合模拟器屏幕。因为它已经是 Retina 尺寸，我还需要添加带有 @2x 扩展名的副本吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:44:35.033

例如，不要忘记 iphone 5 作为背景图像。需要 3 张图片：`Background-568h.png` `Background.png` `Background@2x.png`

```
 if ([UIScreen mainScreen].bounds.size.height > 480.0f) {
    // for the iPhone 5
    self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"Background-568h.png"]];
} else {
    // for iphone 3.5 inch retina /non retina.
    self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"Background.png"]];
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T09:40:07.567

最好使用单独的图像，正常和正常@2x。如果您只使用单个图像，小图像会失真，而大图像会看起来被挤压。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T09:36:35.537

编译器需要命名符号来检测您的视网膜图像。如果您编写 image.png，编译器会查找 image@2x.png，然后查找 image.png，如果找不到它（对于视网膜显示器）。

因此，将所有图像命名为 xxx@2x.png 并为非视网膜设备提供 xxx.png。

另一方面，我会在你的应用程序中为不可拉伸的图像使用精确的图像尺寸。调整大小意味着额外的时间和自然额外的计算。另一方面，分数图像分辨率最终会导致图像模糊。

例如，对于 iphone 5 图像，您应该包括 Iphone5BackgorundIamge@2x.png 但在您的代码中调用 Iphone5BackgorundIamge.png。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-07T09:40:14.383

Iphone与图像尺寸无关，但它使用图像名称来检查它是用作ratina还是普通图像。您必须保留一个正常大小的图像，其名称如“image1.png”才能正常显示和ratina大小图像为“image1@2x.png”用于ratina显示。如果您使用的图像已经是ratina显示，则将其保留为@2x格式并放置一个具有正常名称的半尺寸图像。

# android - 在 PopupWindow 范围之外单击时无法取消

> ID：13760213
> 
> 赞同：3
> 
> 时间：2012-12-07T09:25:43.890
> 
> 标签：android, popupwindow

我有这个代码：

```
PopupWindow  myMenu = new PopupWindow(menuView, LayoutParams.FILL_PARENT,            LayoutParams.FILL_PARENT,true);  
myMenu.setOutsideTouchable(true);  
myMenu.setBackgroundDrawable(new BitmapDrawable());
myMenu.setTouchable(true);   
myMenu.setFocusable(true); 
myMenu.update(); 
```

如何定义弹出窗口？当 PopupWindow 弹出时，单击后退按钮可以将其取消。当我在 PopupWindow 的范围之外单击时，它不能被取消。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-06T12:47:04.627

> Popup 是一个窗口控件。它位于 android.widget.popupWindow 中。我们可以这样使用

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    final Button btnOpenPopup = (Button)findViewById(R.id.openpopup);
    btnOpenPopup.setOnClickListener(new Button.OnClickListener(){

@Override
   public void onClick(View arg0) {
    LayoutInflater layoutInflater 
     = (LayoutInflater)getBaseContext()
      .getSystemService(LAYOUT_INFLATER_SERVICE);  
    View popupView = layoutInflater.inflate(R.layout.popup, null);  
             final PopupWindow popupWindow = new PopupWindow(
               popupView, 
               LayoutParams.WRAP_CONTENT,  
                     LayoutParams.WRAP_CONTENT

);

         Button btnDismiss = (Button)popupView.findViewById(R.id.dismiss);
         btnDismiss.setOnClickListener(new Button.OnClickListener(){

 @Override
 public void onClick(View v) {
  // TODO Auto-generated method stub
  popupWindow.dismiss();
 }});

         popupWindow.showAsDropDown(btnOpenPopup, 50, -30);
          alertDialog.setCanceledOnTouchOutside(false);

 }});
    } 
```

> 这是 popup.xml 中 popupWindow 的布局

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" 
    android:background="@android:color/background_light">
     <LinearLayout 
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:orientation="vertical" 
      android:layout_margin="20dp">
      <TextView
          android:layout_width="fill_parent"
          android:layout_height="wrap_content"
          android:text="It's a PopupWindow" />
      <Button
          android:id="@+id/dismiss"
          android:layout_width="fill_parent"
          android:layout_height="wrap_content"
          android:text="Dismiss" />
      </LinearLayout>
 </LinearLayout> 
```

> 如果有任何疑问，请在评论中问我。为自己是安卓人而自豪:)

# ios - 来自 XML 的图像 URL

> ID：13760218
> 
> 赞同：0
> 
> 时间：2012-12-07T09:26:06.460
> 
> 标签：ios, objective-c, iphone, xcode, xml-parsing

嗨，我正在解析一个 Xml，并从描述标签中获取 NSSTring 中的数据，如下所示。

```
NSString *Descree= [eleme.description stringByTrimmingCharactersInSet:[NSCharacterSet characterSetWithCharactersInString:@" \n\t"]];
NSLog(@"Here- %@",Descree); 
```

我在控制台中找到以下结果。

```
<span style="float:left"><img src="http://www.thtfjhj.net/contents/albumsth/57.jpg" /></span><p ><b></b></p> 
```

从这里我需要单独提取图像 URL。

```
http://www.thtfjhj.net/contents/albumsth/57.jpg 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:33:54.567

您的 xml 中包含 html 内容。

所以如果你使用 html 解析来提取所需的字段会更好。

这是一个很棒的[教程](http://www.raywenderlich.com/14172/how-to-parse-html-on-ios)。

如果 html 包含多个 img 标签，您可以使用 html 解析获取每个内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-29T08:57:41.810

请使用 NSXMLParser 解析 xml 数据

# sessionid - 获取 webapp2 会话 ID

> ID：13760223
> 
> 赞同：1
> 
> 时间：2012-12-07T09:26:29.270
> 
> 标签：sessionid, webapp2

如何在 webapp2 中获取会话 ID？

它似乎没有记录在任何地方，对我来说也不是微不足道的。

我找到了一些解决方案，我在这个问题的答案中提出了这些解决方案，但也许有人会找到更简单或更好的解决方案。无论如何，我认为这对某人有用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:26:29.270

我的解决方案如下所示：

```
import webapp2
from webapp2_extras import sessions

class Test(webapp2.RequestHandler):
    def get(self):
        session_store = sessions.get_store(request=self.request)
        cookie_name = session_store.config['cookie_name']
        session_id = self.request.cookies[cookie_name]
        self.response.out.write('<html><body>')
        self.response.out.write('Session id: %s' % session_id)
        self.response.out.write("</body></html>") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T19:08:28.127

在您的示例中，您无法获取会话 ID，直到您刷新页面。您应该制作一个身份验证页面来创建会话。此外，您应该定义一个扩展 dispatch() 方法的基本处理程序，以启动会话存储并在请求结束时保存所有会话。阅读[文档](http://webapp2.readthedocs.io/en/latest/api/webapp2_extras/sessions.html?highlight=Sessions)查看示例：

```
class Main(main.BaseHandler):
    def get(self):
        if not self.session.get('user'):
            self.redirect("/authenticate",abort=True)
        session = self.request.cookies("session")
        #more stuff........

class Authenticate(main.BaseHandler):
    def get(self):
        if self.session.get('user'):
            self.redirect("/")
    else:
        self.render("authenticate.htm")

    def post(self):
        if self.session.get('user'):
            self.redirect("/",abort=True)

        post_param = {"username":self.request.get("username"),
                     "password":self.request.get("password")}

        if not post_param["password"] or not post_param["username"]:
            redirect("/authenticate") 

        mySql = dbLib.MySqlLib()
        try:
            mySql.query("SELECT password FROM users where username=%s", post_param["username"],))
            dbPassword = mySql.dbCur.fetchone()[0]
        except dbLib.ProgrmmgError as error:
            self.render("authenticate.htm",username = post_param["username"],
                                          errorMessage = "Password and/or Username\
        else:                                                  invalid")
            if bcrypt.hashpw(post_param["password"],dbPassword) == dbPassword:
                self.session['user'] = "root"
                self.redirect("/")
            else:
                self.render("authenticate.htm",username = post_param["username"],
                                               errorMessage = "Password and/or Username\
        mySql.close()

app = main.webapp2.WSGIApplication([('/', Main),
                                    ("/authenticate",Authenticate),
                                    (".*",main.Error_404)],
                                     debug=True) 
```

# iphone - UIImagepickercontrollerreferenceurl 返回 nil

> ID：13760224
> 
> 赞同：2
> 
> 时间：2012-12-07T09:26:29.363
> 
> 标签：iphone, ios, uiimagepickercontroller

从相机中选择图像后，此方法被调用。

```
- (void) imagePickerController: (UIImagePickerController *) picker
 didFinishPickingMediaWithInfo: (NSDictionary *) info {

[picker dismissModalViewControllerAnimated: YES];

//    cameraImage.image = [info objectForKey:
//                         UIImagePickerControllerOriginalImage];

NSLog(@"%@",info);

NSURL *url = [info valueForKey:UIImagePickerControllerReferenceURL];

NSLog(@"%@",url);
NSLog(@"%@",[info valueForKey:UIImagePickerControllerMediaURL]);
} 
```

我从 UIImagePickerControllerOriginalImage 获取图像。但是 UIImagePickerControllerReferenceURL 返回 nil。我不知道我做错了什么。请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-07T01:29:48.370

没有参考 URL，因为在您实际保存照片之前，该照片不存在于文件系统中。

MediaURL 仅用于电影。它是电影压缩版本的 URL，保存在临时文件夹中，可由您的应用程序访问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-16T11:47:16.750

我在获取所选照片的​​文件名时遇到了同样的问题。对于新拍摄的照片，UIImagePickerControllerReferenceURL 将返回 nil，因为 NSURL 不存在，所以我分配了一个默认名称。它 referenceUrl 存在我在照片框架中引入的 PHImageManager 的帮助下获取文件名。

```
 func imagePickerController(picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) {
    self.selectedIndex = 1
    var fileName = UIImage.defaultFileName()

    //Pic is comming from library so url exists
    if let referenceUrl = info[UIImagePickerControllerReferenceURL] as? NSURL, image = info[UIImagePickerControllerOriginalImage] as? UIImage  {
        if #available(iOS 8.0, *) {
            let phAsset = PHAsset.fetchAssetsWithALAssetURLs([referenceUrl], options: nil).lastObject as! PHAsset
            PHImageManager.defaultManager().requestImageDataForAsset(phAsset, options: PHImageRequestOptions(), resultHandler: { (imagedata, dataUTI, orientation, info) in
                if info!.keys.contains(NSString(string: "PHImageFileURLKey")) {
                    let path = info![NSString(string: "PHImageFileURLKey")] as! NSURL
                    fileName = path.lastPathComponent!
                }
                self.addDocumentDelegate?.tabBarControllerDidTakePicture(self, image: image, fileName: fileName)
                AppRoot.sharedInstance.dismissModalViewController(true, completion: nil)
            })
        } else {
            self.addDocumentDelegate?.tabBarControllerDidTakePicture(self, image: image, fileName: fileName)
            AppRoot.sharedInstance.dismissModalViewController(true, completion: nil)
        }
    } else if let image = info[UIImagePickerControllerOriginalImage] as? UIImage { //Pic is comming from Camera so url does not exists
        self.addDocumentDelegate?.tabBarControllerDidTakePicture(self, image: image, fileName: fileName)
        AppRoot.sharedInstance.dismissModalViewController(true, completion: nil)
    }
} 
```

# sql - 如何在不列出列的情况下对每一列执行相同的聚合？

> ID：13760230
> 
> 赞同：5
> 
> 时间：2012-12-07T09:27:01.463
> 
> 标签：sql, database, postgresql, relational-database

我有一个包含*N*列的表。让我们称它们为`c1`, `c2`, `c3`, `c4`, ... `cN`。`COUNT DISTINCT(cX)`在多行中，我想为[1, N] 中的每个 X获得一行。

```
c1 | c2 | ... | cn
0  | 4  | ... | 1 
```

有没有办法我可以做到这一点（在存储过程中），而无需手动将每个列名写入查询？

# 为什么？

我们遇到了一个问题，应用服务器中的错误意味着我们用稍后插入的垃圾来重写好的列值。为了解决这个问题，我存储了信息日志结构，其中每一行代表一个逻辑`UPDATE`查询。然后，当给出记录完成的信号时，我可以确定是否有任何值被（错误地）覆盖。

多行中单个正确记录的示例：每列最多有一个值。

```
| id | initialize_time | start_time | end_time |
| 1  | 12:00am         | NULL       | NULL     |
| 1  | 12:00am         | 1:00pm     | NULL     |
| 1  | 12:00am         | NULL       | 2:00pm   |

Reconciled row:
| 1  | 12:00am         | 1:00pm     | 2:00pm   | 
```

我要检测的不可调和记录的示例：

```
| id | initialize_time | start_time | end_time |
| 1  | 12:00am         | NULL       | NULL     |
| 1  | 12:00am         | 1:00pm     | NULL     |
| 1  | 9:00am          | 1:00pm     | 2:00pm   |   -- New initialize time => irreconcilable! 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T15:58:23.357

为此，您需要**动态 SQL**，这意味着您必须创建函数或运行[`DO`](http://www.postgresql.org/docs/current/interactive/sql-do.html)命令。由于您不能直接从后者返回值，因此它是一个**plpgsql 函数**：

```
CREATE OR REPLACE function f_count_all(_tbl text
                           , OUT columns text[], OUT counts bigint[])
  RETURNS record LANGUAGE plpgsql AS
$func$
BEGIN

EXECUTE (
    SELECT 'SELECT
     ARRAY[' || string_agg('''' || quote_ident(attname) || '''', ', ') || '], 
     ARRAY[' || string_agg('count(' || quote_ident(attname) || ')', ', ') || ']
    FROM ' || _tbl
    FROM   pg_attribute
    WHERE  attrelid = _tbl::regclass
    AND    attnum  >= 1           -- exclude tableoid & friends (neg. attnum)
    AND    attisdropped is FALSE  -- exclude deleted columns
    GROUP  BY attrelid
    )
INTO columns, counts;

END
$func$; 
```

称呼：

```
SELECT * FROM f_count_all('myschema.mytable'); 
```

回报：

```
columns       | counts
--------------+--------
{c1, c2, c3,} | {17 1,0} 
```

关于动态 SQL 和[这个相关问题](https://stackoverflow.com/a/7915100/939860)`EXECUTE`的更多解释和链接- 或者更多关于 SO 的解释和链接，[试试这个 serach](https://stackoverflow.com/search?q=%5Bplpgsql%5D%20%20%5Bdynamic-sql%5D%20%2bexecute&submit=search)。

非常类似于这个问题：
[postgresql - count (no null values) of each column in a table](https://stackoverflow.com/questions/9841568/postgresql-count-no-null-values-of-each-column-in-a-table)

您甚至可以尝试返回多态记录类型以动态获取单列，但这相当复杂和高级。可能为您的情况付出了太多努力。更多在[这个相关的答案](https://stackoverflow.com/a/11751557/939860)中。

# android - 如何确保从家中启动应用程序时启动器活动始终运行

> ID：13760231
> 
> 赞同：0
> 
> 时间：2012-12-07T09:27:03.747
> 
> 标签：android, android-launcher

我的应用中有 2 个活动。A 活动是启动器活动。当我第一次运行应用程序时，启动器活动运行，但是当我按下主页按钮并通过单击应用程序图标从那里重新启动应用程序时，我总是让 B 活动运行。
我想确保在启动应用程序时活动 A 应该始终运行。

这是清单代码：

```
 <application
        android:icon="@drawable/icon"
        android:label="@string/app_name" >
        <activity
            android:name="com.velosys.smsManager.Activities.a"
            android:clearTaskOnLaunch="true"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name="com.velosys.smsManager.Activities.b" />
</application> 
```

我为此搜索了很多，但没有得到任何线索。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:31:06.177

也许活动 B 上的 android:launchMode="singleInstance" 会完成它？

# python - Python - 我的循环和打印格式出现问题

> ID：13760232
> 
> 赞同：-1
> 
> 时间：2012-12-07T09:27:14.363
> 
> 标签：python

我试图让用户继续输入模块和成绩并将其存储为字典 {module:grades} 并将此字典存储在列表中。

我在这方面有 3 个问题。

1.  我无法在 F7 的第二个 raw_input 中使用 F6。
2.  其次，我正在使用“完成”来停止循环。当我打印信息时，它看起来像这样：

{完成：100} {完成：80}

等等..所以模块名称不断被“完成”这个词所取代。

1.  最后，我试图使打印出来的内容如下所示：（现在还没有变……）

成绩：计算机科学：100 计算机图形学：80

我已经完成了剩下的工作，而不是我坚持的这部分。任何帮助都深表感谢。太感谢了。

```
students = []

class Student:
    grades = {}

    def setGrades(self, grades):
        self.grades = grades

    def addStudent():
        while F6 != 'done':
            F6 = raw_input("Please enter module name. type 'done' to quit: ")
            if F6 == 'done':
                break
            F7 = raw_input("Please enter the grades for " ,F6, ':')

student.setGrades({F6:F7}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:33:31.897

对于初学者，您的代码（原样）应该看起来像这样

```
students = []

class Student:
    grades = {}

    def setGrades(self, grades):
        self.grades = grades

    def addStudent():
        while True:
            F6 = raw_input("Please enter module name. type 'done' to quit: ")
            if F6 == 'done':
                break
            F7 = raw_input("Please enter the grades for " ,F6, ':')
            student.setGrades({F6:F7}) 
```

在我看来，您还应该有一个更好的 api 来设置成绩。这样的事情就足够了imo：

```
def set_grades(self, lesson, grade):
    self.grades[lesson] = grade 
```

最后为了打印成绩，你应该有这样的方法：

```
def print_grades(self):
    for lesson, grade in grades.items():
        print lesson, grade 
```

最后但并非最不重要的是，在您的原始输入中，为了使用 F6，您必须执行以下操作：

```
F7 = raw_input("Please enter the grades for %s: " % F6) 
```

总而言之，如果我是你，我的代码将如下所示：

```
class Student:
    grades = {}

    def set_grades(self, lesson, grade):
        self.grades[lesson] = grade

    def addStudent():
        while True:
            F6 = raw_input("Please enter module name. type 'done' to quit: ")
            if F6 == 'done':
                break
            F7 = raw_input("Please enter the grades for %s: " % F6)
            student.setGrades(F6, F7)

    def print_grades(self):
        for lesson, grade in grades.items():
            print lesson, grade 
```

# windows-phone-8 - Windows Phone 8 - 在没有用户通知的情况下拨打电话

> ID：13760233
> 
> 赞同：1
> 
> 时间：2012-12-07T09:27:14.573
> 
> 标签：windows-phone-8, at-command

Windows Phone 8 应用程序是否可以在无需用户交互的情况下拨打电话、发送 SMS 和执行其他蜂窝网络活动？

根据这个答案[https://stackoverflow.com/a/7342769](https://stackoverflow.com/a/7342769)以某种方式可以执行 AT 命令以直接访问 Windows Phone 7 上的蜂窝功能（以非官方方式）。由于 Windows Phone 8 SDK 支持本机代码，我的问题是您是否可以利用它来发送所需的 AT 命令或以某种方式访问​​ RIL 层。

万一有人想知道我为什么需要这个：它不是要发布的应用程序，而是自动化测试过程所需要的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-01T10:29:02.310

你不能这样做，这在 windows phone 中是不可能的

# selenium - 在 Selenium 中使用文本单击按钮

> ID：13760234
> 
> 赞同：2
> 
> 时间：2012-12-07T09:27:16.873
> 
> 标签：selenium, selenium-rc, selenium-webdriver

嗨下面是我的代码，

```
<TR>
<TD ALIGN="LEFT" id=oldcontent>40_FDI12p_</TD>
<TD>..........</TD>
<TD>..........</TD>
<TD>
    <form action="get.do"  method="post"  style="margin:3px">
        <input type="submit" id="button" value="Edit"  />
    </form> 
</TD>   
</TR> 
```

我需要根据第一个 40_FDI12p_ 中存在的文本单击“编辑”按钮。有人可以帮我处理 xpath 吗？在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:29:15.110

```
"//td[contains(text(),'40_FDI12p_')]" 
```

将达到目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-11T10:45:29.497

我这样做（c#）：

```
public static void ClickButton(this ISearchContext searchContext, string text)
{
    searchContext.TagNames("button").First(x => x.Text == text).Click();
} 
```

和

```
public static ReadOnlyCollection<IWebElement> TagNames(this ISearchContext searchContext, string tagName)
{
    return searchContext.FindElements(By.TagName(tagName));
} 
```

# php - 使用数据库中的多个纬度和经度值在 Google 地图上标记路线

> ID：13760236
> 
> 赞同：1
> 
> 时间：2012-12-07T09:27:22.450
> 
> 标签：php, javascript, google-maps, google-maps-api-3

我编写了一个 PHP 和 javaScript 代码，它将从数据库中检索纬度和经度信息，并根据适当的位置在谷歌地图上放置标记（使用纬度和经度值）。这工作正常。

我需要加入这些标记并在地图上绘制路线。怎么做。

```
 <html>
   <head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
   <style type="text/css">
   body { font: normal 10pt Helvetica, Arial; }
    #map { width: 350px; height: 300px; border: 0px; padding: 0px; }
    </style>
   <script src="http://maps.google.com/maps/api/js?v=3&sensor=false" type="text/javascript"></script>
   <script type="text/javascript" src="js/jquery.js"></script>
   <script type="text/javascript">

   var icon = new    google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/micons/blue.png",
   new google.maps.Size(32, 32), new google.maps.Point(0, 0),
   new google.maps.Point(16, 32));
   var center = null;
   var map = null;
   var currentPopup;
   var bounds = new google.maps.LatLngBounds();

  function addMarker(lat, lng, info)
 {
   var pt = new google.maps.LatLng(lat, lng);
bounds.extend(pt);
var marker = new google.maps.Marker(
{
    position: pt,
    icon: icon,
    map: map
});
var popup = new google.maps.InfoWindow(
{
    content: info,
    maxWidth: 300
});

google.maps.event.addListener(marker, "click", function()
{
    if (currentPopup != null)
    {
        currentPopup.close();
        currentPopup = null;
    }
    popup.open(map, marker);
    currentPopup = popup;
   });
    google.maps.event.addListener(popup, "closeclick", function()
   {
    map.panTo(center);
    currentPopup = null;
   });
   }

function initMap()
{
 map = new google.maps.Map(document.getElementById("map"), {
center: new google.maps.LatLng(0, 0),
zoom: 14,
mapTypeId: google.maps.MapTypeId.ROADMAP,
mapTypeControl: false,
mapTypeControlOptions:
{
    style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR
},
navigationControl: true,
navigationControlOptions:
{
style: google.maps.NavigationControlStyle.SMALL
 }
 });

  $.getJSON('googlescript.php', function(items)
  {
   for (var i = 0; i < items.length; i++) {
      (function(item) {
        addMarker(item.lat, item.long, '<b>' + item.name + '</b><br />' + item.desc);
    })(items[i]);
   }
  });

  center = bounds.getCenter();
 map.fitBounds(bounds);

   }
   </script>
    </head>
   <body onload="initMap()" style="margin:0px; border:0px; padding:0px;">
   <div id="map"></div>
    </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-08T06:36:48.427

将您的 JSON 返回函数修改为如下所示：

```
$.getJSON('googlescript.php', function(items)
  {
   var routePoints = [];
   for (var i = 0; i < items.length; i++) {
      (function(item) {
        addMarker(item.lat, item.long, '<b>' + item.name + '</b><br />' + item.desc);
    })(items[i]);
    routePoints.push(new google.maps.LatLng(items[i].lat,items[i].long));
   }
   var route= new google.maps.Polyline({
    path: routePoints,
    strokeColor: "#FF0000",
    strokeOpacity: 1.0,
    strokeWeight: 2
  });

  route.setMap(map);

  }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:35:26.967

我想你在寻找折线对象，你可以在[谷歌地图文档中看到如何使用](https://developers.google.com/maps/documentation/javascript/overlays?hl=en#Polylines)

如果你有一个更大的项目，我可以建议使用 gmap2 和 .kml 文件。但是您应该能够轻松地使用 google 文档来实现您的目标。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-08T05:37:02.777

您将需要了解[POLYLINE ARRAYS](https://developers.google.com/maps/documentation/javascript/overlays?hl=en#PolylineArrays)以完成将所有标记与线连接。该文档很好地解释了它。

但是，折线数组使用 javascript 数组，因此如果您要从数据库中获取`lat` `lng`值，那么您应该寻找某种方法将从数据库中获取的 lat lng 数组传递给 JavaScript 函数。网站上已经有一篇文章展示了如何[使用 PHP/MySQL 和 Google 地图](https://developers.google.com/maps/articles/phpsqlajax_v3)。查看文章并学习使用折线数组，这应该对您有所帮助。

# cakephp-2.1 - 我如何在蛋糕 php 中使用 Like

> ID：13760238
> 
> 赞同：0
> 
> 时间：2012-12-07T09:27:22.063
> 
> 标签：cakephp-2.1

> **我想要上述查询的替代 cakephp 代码**

Select * from book where title like '%java%;

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:29:35.930

好的，假设您使用的是 find() 查询。

您可以按如下方式指定条件数组：

```
"conditions" => array("Book.title like" => "%java%") 
```

或者

```
"conditions" => array("Book.title like '%java%'") 
```

我认为两者都会起作用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:30:16.400

[文档复杂查找条件](http://book.cakephp.org/1.3/en/The-Manual/Developing-with-CakePHP/Models.html)

```
$this->Post->find('first', array (
    "Author.name" => "Bob", 
    "OR" => array (
        "Post.title LIKE" => "%magic%",
        "Post.created >" => date('Y-m-d', strtotime("-2 weeks"))
    )
)); 
```

# visual-studio-2010 - 无法为构建定义过程选项卡选择任何内容

> ID：13760243
> 
> 赞同：1
> 
> 时间：2012-12-07T09:27:44.150
> 
> 标签：visual-studio-2010, msbuild

我正在尝试创建构建定义，在“常规”选项卡中指定构建定义名称，指定触发器、工作区、我要使用的构建控制器、作为网络共享位置的放置文件夹、保留策略，但是当我转到“进程”选项卡我无法选择任何内容。有谁知道为什么我无法在“进程”选项卡中选择任何内容，看起来它未启用，无法按“显示详细信息”，因为未启用。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-08T17:01:34.173

在源代码管理资源管理器中查看项目的根级别。你有一个“BuildProcessTemplates”文件夹吗？

源代码管理资源管理器 > [服务器] > [项目] > BuildProcessTemplates

这通常包含 DefaultTemplate.xaml 和 UpgradeTemplate.xaml。如果此文件夹不存在，您可能必须从另一个项目复制此文件夹。

# java - JavaCV 示例不起作用 - 我错过了什么？

> ID：13760245
> 
> 赞同：2
> 
> 时间：2012-12-07T09:27:48.760
> 
> 标签：java, opencv, javacv

这是我学习 JavaCV 的第一天。这是我用来确保我的设置正确完成的第一个测试示例。不幸的是，我无法运行该示例，而且我几乎不了解代码和所有依赖项，因此我很难找出缺少的内容。下面我将发布我的项目设置以及我得到的错误。

我使用的示例也来自： http: [//ganeshtiwaridotcomdotnp.blogspot.com/2011/12/javacv-capture-save-flip-show-live.html](http://ganeshtiwaridotcomdotnp.blogspot.com/2011/12/javacv-capture-save-flip-show-live.html)

**代码**

```
import static com.googlecode.javacv.cpp.opencv_core.cvFlip;
import static com.googlecode.javacv.cpp.opencv_highgui.cvSaveImage;
import com.googlecode.javacv.CanvasFrame;
import com.googlecode.javacv.FrameGrabber;
import com.googlecode.javacv.VideoInputFrameGrabber;
import com.googlecode.javacv.cpp.opencv_core.IplImage;

public class GrabberShow implements Runnable
{
    //final int INTERVAL=1000;///you may use interval IplImage image;
    CanvasFrame canvas = new CanvasFrame("Web Cam");
    public GrabberShow()
    {
        canvas.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);
    }
    @Override
    public void run()
    {
        FrameGrabber grabber = new VideoInputFrameGrabber(0); // 1 for next camera
        int i = 0;
        try
        {
            grabber.start();
            IplImage img;
            while (true)
            {
                img = grabber.grab();
                if (img != null)
                {
                    cvFlip(img, img, 1);// l-r = 90_degrees_steps_anti_clockwise
                    cvSaveImage((i++) + "-aa.jpg", img); // show image on window
                    canvas.showImage(img);
                }
                //Thread.sleep(INTERVAL);
            }
        }
        catch (Exception e)
        {

        }
    }
} 
```

我使用`Eclipse`，似乎所有进口都在那里。

这是我的项目的打印屏幕，如下所示`Eclipse`：

![在此处输入图像描述](../Images/65b3a234f0377d1b45c929c09f0199bc.png)

这就是设置。我试图从中得到一些东西。当我右键单击该项目并尝试`Run`它时，`Java Application`会出现以下窗口：

![在此处输入图像描述](../Images/a632147ec4a1bdfa466e48920d4b2714.png)

您可以在窗口顶部看到我的选择。我得到一个错误窗口`A Java Exception has occurred`，这是我在控制台窗口中得到的错误的一部分：

```
Exception in thread "main" java.lang.UnsatisfiedLinkError: C:\Users\Xman\AppData\Local\Temp\javacpp4929678155627\jniopencv_core.dll: Can't find dependent libraries
at java.lang.ClassLoader$NativeLibrary.load(Native Method)
at java.lang.ClassLoader.loadLibrary0(Unknown Source)
at java.lang.ClassLoader.loadLibrary(Unknown Source)
at java.lang.Runtime.load0(Unknown Source)
at java.lang.System.load(Unknown Source)
at com.googlecode.javacpp.Loader.loadLibrary(Loader.java:422)
at com.googlecode.javacpp.Loader.load(Loader.java:372)` 
```

我已经阅读了错误，似乎问题是由于缺少库引起的，但我不确定，我也遵循了说明（实际上并没有那么多），并且从示例代码下面的评论看来它确实有效。所以我想问题出在某个地方——在我的项目、代码、设置中，但我找不到我遗漏或做错了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:57:37.840

当您的 opencv dll 未在系统路径中设置时，会发生此错误。如果您已在 C:\ 目录中提取了 opencv 文件夹，则将路径设置如下

对于 32 位：

```
C:\opencv\build\x86\vc10\bin;C:\opencv\build\common\tbb\ia32\vc10\ 
```

对于 64 位：

```
C:\opencv\build\x64\vc10\bin;C:\opencv\build\common\tbb\intel64\vc10\ 
```

如果您在不同的位置提取，则相应地更改路径。

为了设置路径，您可以转到控制面板 > 系统安全 > 系统 > 高级系统设置 > 环境变量。在系统变量中选择路径并单击编辑并插入上述位置并重新启动窗口。

[您可以在http://opencvlover.blogspot.in/2012/04/javacv-setup-with-eclipse-on-windows-7.html](http://opencvlover.blogspot.in/2012/04/javacv-setup-with-eclipse-on-windows-7.html)找到详细说明

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T10:57:49.317

下载并安装：Microsoft Visual C++ 可再发行包（32 位）： [vcredist_x86.exe](http://www.microsoft.com/download/en/details.aspx?id=5555)

# objective-c - iOS SDK：如何使用 Google Chart API 绘制带标记的折线图

> ID：13760252
> 
> 赞同：1
> 
> 时间：2012-12-07T09:27:58.073
> 
> 标签：objective-c, ipad, google-visualization, xcode4.5

我正在尝试在 iPad 上使用 Google Chart API 绘制折线图，​​如下所示：

![在此处输入图像描述](../Images/287375bb95de753eef213766294280c9.png)

我可以使用以下 URL 绘制一个简单的图表：

```
http://chart.apis.google.com/chart?chxl=0:%7CJan%7CFeb%7CMar%7CJun%7CJul%7CAug%7C1:%7C10%7C20%7C30%7C40%7C50&chxt=x,y&chs=600x400&cht=lc&chd=t:22,3,89,54,65,45&chg=25,50&chls=0.75,-1,-1%7C2,4,1&chm=o,FF9900,1,-2,8%7Cb,3399CC44,0,1,0 
```

现在我需要显示如下图所示 X 和 Y 相交的标记。

我怎样才能实现同样的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T12:49:17.507

最后我也能做到。贴出链接供参考。

对于符号表示法：

```
http://chart.apis.google.com/chart?chxl=0:%7CJan%7CFeb%7CMar%7CJun%7CJul%7CAug%7C1:%7C100%7C50%7C0&chf=bg,s,CCFFCC&cht=lc&chs=600x400&chxt=x,y&chxl=0:%7CTimeJan%7CFeb%7CMarch%7CApril%7CMay%7CJune%7CJuly%7C1:%7C0%7C10%7C20%7C30%7C40%7C50%7C60%7C70%7C80%7C90%7C100%7CScore&chd=t:20,50,70,90,45,50,80&chg=18,20&chdl=Score&chm=o,000000,0,-1,10.0 
```

对于数值，请参阅以下内容：

```
http://chart.apis.google.com/chart?chxl=0:%7CJan%7CFeb%7CMar%7CJun%7CJul%7CAug%7C1:%7C100%7C50%7C0&chf=bg,s,CCFFCC&cht=lc&chs=600x400&chxt=x,y&chxl=0:%7CTimeJan%7CFeb%7CMarch%7CApril%7CMay%7CJune%7CJuly%7C1:%7C0%7C10%7C20%7C30%7C40%7C50%7C60%7C70%7C80%7C90%7C100%7CScore&chd=t:20,50,70,90,45,50,80&chg=18,20&chdl=Score&chm=N,000000,0,-1,10.0 
```

# d3.js - 条形图中列的最大宽度

> ID：13760253
> 
> 赞同：11
> 
> 时间：2012-12-07T09:28:03.403
> 
> 标签：d3.js

我正在寻找一种限制图表中列宽的方法，我确信这应该相对容易，但我找不到这样做的方法。

我正在根据一些动态数据填充图表，其中列数可能变化很大 - 在 1 到 20 之间。

例如：csv 样本

```
Location,Col1
"Your house",20

Location,Col1,Col2,Col3,Col4,Col5
"My House",12,5,23,1,5 
```

这工作正常，并且列宽度是动态的，但是当数据中只有一列时，我最终得到一个宽度为 756 的条（整个图表），我不喜欢这种方式。

我想要做的只是有一个最大宽度为 100px 的列，而与数据列的数量无关。

下面是我的图表脚本

非常感谢，

```
<script>
var margin = {
    top : 40,
    right : 80,
    bottom : 80,
    left : 40
}, 
width = 960 - margin.left - margin.right, 
height = 500 - margin.top - margin.bottom;

var x = d3.scale.linear().range([ 0, width ]);

var y = d3.scale.linear().range([ height, 0 ]);

var x0 = d3.scale.ordinal()
    .rangeRoundBands([0, width], .05);

var x1 = d3.scale.ordinal();

var y = d3.scale.linear()
    .range([height, 0]);

var chart = d3.select("body").append("svg")
    .attr("class","chart")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var legendChart = d3.select("body").append("svg")
    .attr("class","chart")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

d3.csv("/sampledata.csv.txt", function(error, data) {
    // Use the first row of csv for header names 
    var reasonNames = d3.keys(data[0]).filter(function(key) {
        return key !== "Location";
    });
    //console.log(reasonNames);

    data.forEach(function(d) {
        d.reasons = reasonNames.map(function(name) {
            return {
                name : name,
                value : +d[name]
            };
        });
        //console.log(d.reasons);
    });

    x0.domain(data.map(function(d) {return d.Location; }));
    x1.domain(reasonNames).rangeRoundBands([0, x0.rangeBand()]);

    console.log(x0.rangeBand());

    y.domain([0, d3.max(data, function(d) { return d3.max(d.reasons, function(d) { return d.value; }); })]);

    var maxVal = d3.max(data, function(d) { return d3.max(d.reasons, function(d) { return d.value; }); });
    //console.log(maxVal);

    var xAxis = d3.svg.axis()
        .scale(x0)
        .orient("bottom");

    var yAxis = d3.svg.axis()
        .scale(y)
        .orient("left")
        //.tickFormat(d3.format(".2s"));

    chart.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    chart.append("g")
        .attr("class", "y axis")
        .call(yAxis);

    var location = chart.selectAll(".name")
        .data(data)
      .enter().append("g")
        .attr("class", "g")
        .attr("transform", function(d) { return "translate(" + x0(d.Location) + ",0)"; });

    location.selectAll("rect")
        .data(function(d) { return d.reasons; })
      .enter().append("rect")
        .attr("width", x1.rangeBand()-2)
        .attr("x", function(d) { return x1(d.name); })
        .attr("y", function(d) { return y(d.value); })
        .attr("height", function(d) { return height - y(d.value); })
        .style("fill", function(d,i) { return "#"+3+"9"+i; /*color(d.name);*/ });

    chart.selectAll("text")
        .data(data)
      .enter().append("text")
        .attr("x", function(d) { return x1(d.name)+ x.rangeBand() / 2; })
        .attr("y", function(d) { return y(d.value); })
        .attr("dx", -3) // padding-right
        .attr("dy", ".35em") // vertical-align: middle
        .attr("text-anchor", "end") // text-align: right
        .text("String");

    var legend = legendChart.selectAll(".legend")
        .data(reasonNames.slice().reverse())
        .enter()
        .append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")";
    });

    legend.append("rect")
        //.attr("x", width - 18)
        .attr("x", 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", function(d, i) {/*console.log(i);*/return "#" + 3 + "9" + i;
    });

    legend.append("text")
        //.attr("x", width - 24)
        .attr("x", 48)
        .attr("y", 9).attr("dy",".35em")
        //.style("text-anchor", "end")
        //.text(function(d,i) { return String.fromCharCode((65+i))+i; });
        .text(function(d) { return d; });
    });

</script> 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-07T11:11:32.220

实现这一目标的最简单方法是更改​​线路

```
.attr("width", x1.rangeBand()-2) 
```

至

```
.attr("width", Math.min(x1.rangeBand()-2, 100)) 
```

您可能还想调整起始位置和/或填充。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-01-14T11:44:37.107

如果有人卡在其上，则用于调整起始位置的代码：

```
.attr("x", function(d, i) { return x1(d.seriesName) + (x1.rangeBand() - 100)/2 ;}) 
```

PS：参考拉斯的回答。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-10-30T16:00:15.147

为列设置绝对最大宽度不允许正确呈现不同的屏幕分辨率、div 大小等。

就我而言，我只是希望当列数本身很少时列看起来不会那么大我发现通过更改最大宽度（所有列都适合的位置）来使用比例定义更容易、更直接，它们的内部和外部填充。

```
var w = 600
// var w = parseInt(d3.select(parentID).style('width'), 10) // retrieve the div width dynamically
var inner_padding = 0.1
var outer_padding = 0.8
var xScale = d3.scale.ordinal().rangeRoundBands([0, w], inner_padding, outer_padding) 
```

渲染绘图时，我只运行了一个 switch/if-else 语句，它分配了不同的填充值。要绘制的列数越少，我使用的 outer_padding（最终是内部填充）值就越大。

这样，我保持情节[响应](http://eyeseast.github.io/visible-data/2013/08/28/responsive-charts-with-d3/)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-03-19T02:33:16.183

为了完整起见，完整的答案如下所示：

```
svg.selectAll(".bar")
  .data(data)
  .enter().append("rect")
  .attr("class", "bar")
  .attr("x", (d) -> x1(d.name) + (x1.rangeBand() - d3.min([x1.rangeBand(), 100]))/2)
  .attr("width", d3.min([x1.rangeBand(), 100]))
  .attr("y", (d) -> y(d.grade) )
  .attr("height", (d)-> height - y(d.value) ) 
```

（咖啡脚本语法）

请注意，这包括完整答案、“宽度”和“x”设置。当 100 宽度不是最小值时，“x”设置也考虑在内。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-04-10T19:09:46.727

我可以使用上述答案更改条形的宽度。但不幸的是，当图表中有一个条形并且它使用最大宽度集时，我的 X 轴标签没有对齐。

```
var tradeGroup = svg.selectAll("g.trade")
            .data(trades)
            .enter()
            .append("svg:g")
            .attr("class", "trade")
            .style("fill", function (d, i) {
                return self.color(self.color.domain()[i]);
            })
            .style("stroke", function (d, i) {
                return d3.rgb(self.color(self.color.domain()[i])).darker();
            });

var aWidth = Math.min.apply(null, [x.rangeBand(), 100]);

// Add a rect for each date.
var rect = tradeGroup.selectAll("rect")
            .data(Object)
            .enter()
            .append("svg:rect")
            .attr("x", function (d) {                 
                return x(d.x);
            })
            .attr("y", function (d) { return y( (d.y || 0) + (d.y0 || 0)); })
            .attr("height", function (d) { return y(d.y0 || 0) - y((d.y || 0) + (d.y0 || 0)); })
            .attr("width", Math.min.apply(null, [x.rangeBand(), 100])); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-22T04:35:29.037

以为我会分享我对此提出的略有不同的答案。我不想硬编码最大条宽，因为 1）它不响应不同的屏幕尺寸，2）它还需要使用 x 坐标属性或接受一些不规则的间距。

相反，我只是根据条形变得太宽的点设置了最小数量的条形（在我的例子中，我发现少于 12 个条形使我的图表看起来很奇怪）。然后，我按比例调整 scaleBand 的范围属性，如果条数少于该数量。因此，例如，如果最小值设置为 12 并且数据中只有 5 个项目，而不是以全宽的 1/5 呈现每个项目，我将范围缩小到原始宽度的 5/12 .

基本上，是这样的：

```
// x is a scaleBand() that was previously defined, and this would run on update

var minBarSlots = 12;

if (data.length < minBarSlots) {
    x.range([0, width*(data.length/minBarSlots)])
}
else {
    x.range([0, width])
}` 
```

# php - WordPress在菜单中添加类别

> ID：13760259
> 
> 赞同：1
> 
> 时间：2012-12-07T09:28:38.147
> 
> 标签：php, wordpress

在我的菜单栏中的网站中，我有 4 个静态菜单项，其中一个需要是动态的。像

```
Home | About us | contact us| Services| Product 
```

在此菜单项列表中。我想要“产品”类别及其子类别作为子菜单。显示在菜单中。像

```
Product
 - sub product 1
     - sub product 1.1
 - sub product 2
 - sub product 3
     - sub product 3.1 
```

请建议我如何满足上述要求。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:33:46.557

添加菜单转到管理面板。在左侧蝙蝠中单击外观，然后单击菜单。从那里您可以添加菜单和 sud 菜单。对于主菜单下的子菜单拖动链接。您还可以从此处添加自定义链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:50:10.823

用于`wp_list_categories()`创建`<ul><li>`所有类别和样式的列表，使用 CSS 获取菜单。更多信息在`wp_list_categories()`这里：[http](http://codex.wordpress.org/Template_Tags/wp_list_categories) ://codex.wordpress.org/Template_Tags/wp_list_categories （见参数列表）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T12:56:05.083

利用 WordPress 菜单，它可以帮助您添加类别、页面和自定义链接。*如果您在创建时选中自动添加新的顶级页面*选项，WordPress 菜单也可以充当动态菜单。

参考：[在 WordPress 中添加多个菜单](http://www.thecreatology.com/multiple-navigation-menus-using-wordpress-menu-3-0-with-thesis-theme.html)

# jquery - JQuery获取下一个图像元素的宽度和高度

> ID：13760260
> 
> 赞同：0
> 
> 时间：2012-12-07T09:28:40.217
> 
> 标签：jquery

我对 JQuery 背景不太了解，所以做一个简单的事情有点困难。

我的 HTML 元素为：

```
<div id="content">
    <div class="box mosaic-block bar">
        <img src="images/products-mansonary/img1.jpg" />
        <div class="overlay_brand"></div>
    </div>
    <div class="box">
        <img src="images/products-mansonary/img2.jpg" />
    </div>
    <div class="box">
        <img src="images/products-mansonary/img3.jpg" />
    </div>
</div> 
```

我想用 id 内容循环这个 div，并获取图像的高度和宽度：

```
 $(document).ready(function() {
    $('#content').children('.box').each(function() {
        console.log($(this).html());
        var img_height = $(this).next("img").height();
        var img_width = $(this).next("img").width();
        //console.log($(this).children().width());
        //console.log(img_height + "    " + img_width)
        console.log($($(this).next('img').html()));
        return false;
    });

    //$(".overlay_brand")
}); 
```

目前，我返回 false 只运行一次循环。

当我说`console.log($(this).html())`我得到：

```
<img src="http://localhost:5643/Template/images/products-mansonary/img1.jpg"><div class="overlay_brand"></div> 
```

我希望我没有做傻事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:37:57.103

尝试 find() 而不是 next()

```
$('#content').children('.box').each(function() {
       console.log($(this).html());
       var img_height = $(this).find("img").height();
       var img_width = $(this).find("img").width();

       alert(img_height + "    " + img_width)

    }); 
```

[**演示**](http://jsfiddle.net/mBkLe/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:36:03.890

```
Remove the return false from the function

$(document).ready(function() {
$('#content').children('.box').each(function() {
    var img_height = $(this).find("img").height();
    var img_width = $(this).find("img").width();
    console.log("Image height "+img_height + " image width= " + img_width);    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:39:39.050

如果您在 div 标签（该特定类的）中查找 img ，请使用 find （在孩子中查找）而不是 next （在兄弟姐妹中查找）。

```
var img_height = $(this).find("img").height();
var img_width = $(this).find("img").width();
//console.log($(this).children().width());
//console.log(img_height + "    " + img_width)
console.log($($(this).find('img').html())); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T09:40:14.277

你得到的原因`'null'`是因为你`'img'`的孩子`'this'`需要做`$(this).children("img").width();`

# ios - iOS：使用 LineWidth 1px 在 UIView 上绘制文本

> ID：13760265
> 
> 赞同：3
> 
> 时间：2012-12-07T09:28:55.837
> 
> 标签：ios, drawrect, core-text, uibezierpath, drawtext

我有一个场景，我必须在 UIView 上绘制文本。我的代码是

```
- (void)drawRect:(CGRect)iRect {
    [super drawRect:iRect];
    CGContextRef aContext = UIGraphicsGetCurrentContext();
    CGContextSetFillColorWithColor(aContext, [[UIColor greenColor] CGColor]);
    [@"s" drawInRect:CGRectMake(0, 0, iRect.size.width, iRect.size.height) withFont:[UIFont systemFontOfSize:500] lineBreakMode:NSLineBreakByCharWrapping alignment:NSTextAlignmentCenter];
  } 
```

使用此代码，我可以实现：

![在此处输入图像描述](../Images/82828a6c3fb4a79c09ce5729f75c24b5.png)

但是，由于我使用的 FontSize 为 500，因此文本 lineWidth 很大。我想将 lineWidth 减小到 1px。

请就如何实现这一目标提出建议。

*   除了常规的，还有其他方法吗`drawInRect`？
*   CoreText 会帮我找到解决方案吗

谢谢。

**编辑**

使用 UIBezierPath 作为字形，我能够得到字符的路径。但是实现的路径是通过角色的边界。因此，我得到的文本为：

![在此处输入图像描述](../Images/72679df51fd12a28815e2c7474401861.png)

***这可以做成单行吗？***

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:37:05.610

即使看起来字母 S 好像被画成一条具有一定宽度的线，但事实并非如此。如果你仔细观察，你会发现线宽是变化的。它实际上是一个由其轮廓定义的复杂图形结构。如果您使用带有衬线的字体，则更加明显。因此，没有文本行宽之类的东西。

最好的解决方案可能是使用不同的字体，看起来好像是用一支细笔绘制的。我不确定 iOS 上是否预装了这样的字体。

# objective-c - 在 Objective-C 中以特定间隔增加 NSDateComponents 的最佳方法是什么？

> ID：13760267
> 
> 赞同：1
> 
> 时间：2012-12-07T09:28:58.553
> 
> 标签：objective-c, ios, nsdate, nsdatecomponents

我需要在特定时间段内从核心数据中获取对象；即`weekly`, `monthly`, `yearly`.

然后，我会将组件生成的日期输入`predicate`如下：

```
[NSPredicate predicateWithFormat:@"(date >= %@) AND (date <= %@", 
                                 intervalStartDate, intervalEndDate]; 
```

间隔/周期示例：

```
 start          end            start          end
weekly    Jan 2, 2012 to Jan 08, 2012,  Jan 9, 2012 to Jan 15, 2012,  etc.
monthly   Jan 1, 2012 to Jan 31, 2012,  Feb 1, 2012 to Feb 29, 2012,  etc.
yearly    Jan 1, 2011 to Dec 31, 2011,  Jan 1, 2012 to Dec 31, 2012,  etc. 
```

有了这些，我可以在那个时间段内获得特定的对象。

我的问题是，我不知道增加日期组件的最佳方法是什么。我必须考虑闰年等。

实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:39:44.043

只要您使用正确的 NSCalendar 并且只要您将每个日期计算相互独立地处理，结果日期就应该没问题。

```
NSDateComponents *dateOffset = [[NSDateComponents alloc] init];
[dateOffset setWeek:1]; // weekly
// [dateOffset setMonth:1]; // monthly
// [dateOffset setYear:1]; // yearly

NSDate *endDate = [gregorian dateByAddingComponents:dateOffset toDate:startDate options:0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:36:36.837

只要您使用`NSGregorianCalendar`, 例如

```
NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar]; 
```

您的日期计算应该利用该日历的微妙之处（真的，奇怪）。

例如：

```
//  get your start date
NSDateComponents *components = [NSDateComponents new];
components.day = 1;
components.month = 5;
components.year = 2012;

NSCalendar *gregorian = [[NSCalendar alloc]
                         initWithCalendarIdentifier:NSGregorianCalendar];
NSDate *date = [gregorian dateFromComponents:components];

//  add 7 days
NSDateComponents *addWeekComps = [NSDateComponents new];
components.day = 7;
NSDate *weekAddedDate = [gregorian dateByAddingComponents:addWeekComps toDate:date options:0]; 
```

# android - Android：如何检查文件是否为图像？

> ID：13760269
> 
> 赞同：23
> 
> 时间：2012-12-07T09:29:00.987
> 
> 标签：android, image, listview, imagemagick

> **可能重复：**
> [知道文件是否是 Java/Android 中的图像](https://stackoverflow.com/questions/9244710/know-if-a-file-is-a-image-in-java-android)

如果文件是图像，如何检查文件？如下所示：

如果（文件.isImage）....

如果标准库无法做到这一点，我该如何使用 MagickImage 库来做到这一点？

提前致谢！

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-12-07T09:41:44.163

我想如果你想检查一个文件是否是一个图像，你需要阅读它。图像文件可能不遵守文件扩展名规则。您可以尝试通过[BitmapFactory](http://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeFile%28java.lang.String,%20android.graphics.BitmapFactory.Options%29)解析文件，如下所示：

```
BitmapFactory.Options options = new BitmapFactory.Options();
options.inJustDecodeBounds = true;
Bitmap bitmap = BitmapFactory.decodeFile(path, options);
if (options.outWidth != -1 && options.outHeight != -1) {
    // This is an image file.
}
else {
    // This is not an image file.
} 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-12-07T09:38:59.470

试试这个代码。

```
public class ImageFileFilter implements FileFilter {

    private final String[] okFileExtensions = new String[] {
        "jpg",
        "png",
        "gif",
        "jpeg"
    };

    public boolean accept(File file) {
        for (String extension: okFileExtensions) {
            if (file.getName().toLowerCase().endsWith(extension)) {
                return true;
            }
        }
        return false;
    }

} 
```

它会正常工作的。

像这样使用 `new ImageFileFilter(pass file name)`;

# mysql - 为什么 Mysql 不使用 OR 在 WHERE 子句上使用索引？

> ID：13760275
> 
> 赞同：3
> 
> 时间：2012-12-07T09:29:17.700
> 
> 标签：mysql, sql, database

首先，我有以下表结构。

```
Table Document
  ## DocID ##  ## DocName## ## DuplicateID ##
      1              Doc1        null
      2              Doc2        null
      3              Doc3        null
      4              Doc4         1

Table FolderTree
  ## FolderID ##  ## MemberDocID ##
       1                1
       1                2
       1                3 
```

我有索引`DocID, DuplicateID and MemberDocID and FolderID`

我的查询是这样的：

```
SELECT d.* 
from Document d, FolderTree f 
WHERE (d.DocID = f.MemberDocID or d.DuplicateID = f.MemberDocID) and f.FolderID = 1 
GROUP BY d.DocID ; 
```

所以基本上我想从 id 为 1 的文件夹中检索所有文档以及表中的重复文档。group by 用于保持记录的唯一性，即没有文档将被检索两次。

此查询工作正常，但在大量记录中它变得更慢。这是解释输出。

* * *

```
| select type | table | type | possible_keys | key    | rows  |   extra         |

   simple        d     range   PRIMARY,...    PRIMARY   83168   Using temporary..
   simple        f     All     DuplicateIDInx Null      108787  Using join buffer 
```

我担心的是表 f 不使用 DuplicateID 上的索引。我的问题是，为什么会这样？有人可以在这件事上启发我。我正在使用 Mysql 5.x 谢谢 :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:43:17.897

您可以改用 in 子句，并使用 distinct 代替 group by。

```
SELECT distinct d.* 
from Document d
join FolderTree f on f.MemberDocID in (d.DocID, d.DuplicateID)
WHERE f.FolderID = 1 
```

根据[SQL Fiddle](http://www.sqlfiddle.com/#!2/e631f/1/2)，这并没有太大变化，除了使连接显式。

`duplicateid`但是，如果你改变你的

```
update document
set duplicateid = docid
where duplicateid is null 
```

并`duplicateid`仅选择

```
SELECT distinct d.* 
from Document d
join FolderTree f on f.MemberDocID = d.DuplicateID
WHERE f.FolderID = 1 
```

将使用索引`duplicateid`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:38:39.490

试试这个版本：

```
SELECT d.* 
FROM Document d 
WHERE EXISTS
      ( SELECT *
        FROM FolderTree f 
        WHERE ( d.DocID = f.MemberDocID OR d.DuplicateID = f.MemberDocID )
          AND f.FolderID = 1 
      ) ; 
```

而这个（已编辑）：

```
SELECT d.* 
FROM ( SELECT 1 AS FolderID
     ) AS Parameter
  CROSS JOIN 
     Document d 
WHERE EXISTS
      ( SELECT *
        FROM FolderTree f 
        WHERE f.MemberDocID = d.DocID
          AND f.FolderID = Parameter.FolderID
      ) 
   OR EXISTS
      ( SELECT *
        FROM FolderTree f 
        WHERE f.MemberDocID = d.DuplicateID
          AND f.FolderID = Parameter.FolderID
      ) ; 
```

我还会在`FolderTree (FolderID, MemberDocID)`.

如果您还没有索引`Document (DuplicateID)`，也添加一个。

通过在带有参数的存储过程中编写查询可能会更好地解决额外的要求。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T09:42:00.367

看起来没有适当的索引。您能否详细说明表结构和查询。

1.  关于“或 d.DuplicateID = f.MemberID”查询中使用的 f.MemberID 列
2.  explain 显示表 FolderTree 中的 DuplicateIDInx 索引名称。你能从表中提到确切的索引定义吗？

# android - 触摸屏幕上的任何位置时如何使对话框可见？

> ID：13760277
> 
> 赞同：2
> 
> 时间：2012-12-07T09:29:23.353
> 
> 标签：android, android-alertdialog

当我触摸显示屏上的任何位置时，我想让我的对话框可见。我有一个活动、一个视图和一个渲染器类。我在 View 类中编写了代码：

```
public boolean onTouchEvent(final MotionEvent event) {
        queueEvent(new Runnable() {....}} 
```

我发布了我的代码。（仅活动和视图）

```
public class MapEditorActivity extends Activity {
    private GLSurfaceView mGLSurfaceView;
    Region dialogRegion;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
                WindowManager.LayoutParams.FLAG_FULLSCREEN);
        this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
        // Create our Preview view and set it as the content of our
        // Activity
        mGLSurfaceView = new MapEditorView(this);
        setContentView(mGLSurfaceView);
    }

    @Override
    protected void onPause() {
        super.onPause();
        mGLSurfaceView.onPause();
    }

    @Override
    protected void onResume() {
        super.onResume();
        mGLSurfaceView.onResume();
    }
} 
```

我的视图类：

```
public class MapEditorView extends GLSurfaceView {
    private static final String LOG_TAG = "de.rwth.arlab.colofields.ui.MapEditorView";

    MapEditorRenderer editMapRenderer;

    // we have a maximum of 5 pointer
    private int[] coordsX = new int[5];
    private int[] coordsY = new int[5];

    // we have to save first touch for motion
    private int[] coordsXFirst = new int[5];
    private int[] coordsYFirst = new int[5];

    // offsets for view
    private float offX;
    private float offY;
    private float offZ;
    Context context;
    boolean zooming;

    public MapEditorView(Context context) {
        super(context);
        editMapRenderer = new MapEditorRenderer(context);
        setRenderer(editMapRenderer);

        // initialize as not present
        Arrays.fill(coordsX, Integer.MIN_VALUE);
        Arrays.fill(coordsY, Integer.MIN_VALUE);
        zooming = false;
    }

    public boolean onTouchEvent(final MotionEvent event) {
        queueEvent(new Runnable() {

            // TODO: Speak about this thing, this functions need API8
            @SuppressLint("NewApi")
            public void run() {

                switch (event.getAction() & MotionEvent.ACTION_MASK) {
                case MotionEvent.ACTION_DOWN:
                    offX = editMapRenderer.getxView();
                    offY = editMapRenderer.getyView();
                    coordsXFirst[0] = (int) event.getX(0);
                    coordsYFirst[0] = (int) event.getY(0);

                    startDialog(null);
                    break;
                case MotionEvent.ACTION_POINTER_DOWN:
                    offZ = editMapRenderer.getzView();
                    coordsXFirst[0] = (int) event.getX(0);
                    coordsYFirst[0] = (int) event.getY(0);
                    coordsXFirst[1] = (int) event.getX(1);
                    coordsYFirst[1] = (int) event.getY(1);
                    zooming=true;
                    break;
                case MotionEvent.ACTION_UP:
                    zooming=false;
                    break;

                default:

                    // track all touches
                    for (int i = 0; i < event.getPointerCount(); i++) {
                        int id = event.getPointerId(i);

                        // update all other pointer positions
                        coordsX[id] = (int) event.getX(i);
                        coordsY[id] = (int) event.getY(i);

                    }

                    // When only one finger
                    if (event.getPointerCount() == 1 && !zooming)
                        editMapRenderer.setPosition(offX
                                + (coordsX[0] - coordsXFirst[0])*editMapRenderer.getzView()*-1 / 1000.0f, offY
                                + (coordsYFirst[0] - coordsY[0])*editMapRenderer.getzView()*-1 / 1000.0f);
                    // When two fingers
                    float distanceOld = (float) FloatMath
                            .sqrt((coordsXFirst[1] - coordsXFirst[0])
                                    * (coordsXFirst[1] - coordsXFirst[0])
                                    + (coordsYFirst[1] - coordsYFirst[0])
                                    * (coordsYFirst[1] - coordsYFirst[0]));
                    float distanceNew = (float) FloatMath
                            .sqrt((coordsX[1] - coordsX[0])
                                    * (coordsX[1] - coordsX[0])
                                    + (coordsY[1] - coordsY[0])
                                    * (coordsY[1] - coordsY[0]));
                    float distanceMax = (float) FloatMath
                            .sqrt(getWidth()
                                    * getWidth()
                                    + getHeight()
                                    * getHeight());

                    if (event.getPointerCount() == 2) {
                        editMapRenderer.setZoom(offZ + (distanceNew
                                - distanceOld)/(distanceMax/10));

                    }
                    break;
                }

            }

                 public Dialog startDialog(Bundle savedInstanceState) {

                       final CharSequence[] items = new String[] { "#F5F6F6", "#FFC0CB", "#FF0000", 
                                "#C00000","#62492F","#DB3C00", "#98E01C" };

                       AlertDialog.Builder builder = new AlertDialog.Builder(this);
                       builder.setTitle("Pick a color");
                       builder.setItems(items, new DialogInterface.OnClickListener() {
                           public void onClick(DialogInterface dialog, int item) {
                               Toast.makeText((Context) getApplicationWindowToken(), items[item], Toast.LENGTH_SHORT).show();
                            }
                       });
                       AlertDialog alert = builder.create();
                 }
        });
        return true;
    }

    MapEditorRenderer mRenderer;

    public boolean onCreateOptionsMenu(Menu menu) {
        MenuInflater inflater =((Activity)context).getMenuInflater();
        inflater.inflate(R.layout.menu_save, menu);
        return true;
    }
 } 
```

我的问题是方法 startDialog()。这没用。我收到一个错误：

```
"The constructor AlertDialog.Builder(new Runnable(){}) is undefined" 
```

我该如何解决？

* * *

好的，我再次发布我的代码：

>

公共类 MapEditorActivity 扩展 Activity {

```
private GLSurfaceView mGLSurfaceView;

Region dialogRegion;

MapEditorRenderer editMapRenderer;

// we have a maximum of 5 pointer
private int[] coordsX = new int[5];
private int[] coordsY = new int[5];

// we have to save first touch for motion
private int[] coordsXFirst = new int[5];
private int[] coordsYFirst = new int[5];

// offsets for view
private float offX;
private float offY;
private float offZ;
Context context;
boolean zooming;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);
    this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
    // Create our Preview view and set it as the content of our
    // Activity
    mGLSurfaceView = new MapEditorView(this);

    setContentView(mGLSurfaceView);
    mGLSurfaceView.setOnTouchListener(MapEditorActivity.this);
}

@Override
protected void onPause() {
    super.onPause();
    mGLSurfaceView.onPause();
}

@Override
protected void onResume() {
    super.onResume();
    mGLSurfaceView.onResume();
}

public boolean onTouchEvent(final MotionEvent event) {
    queueEvent(new Runnable() {

        // TODO: Speak about this thing, this functions need API8
        @SuppressLint("NewApi")
        public void run() {

            switch (event.getAction() & MotionEvent.ACTION_MASK) {
            case MotionEvent.ACTION_DOWN:
                offX = editMapRenderer.getxView();
                offY = editMapRenderer.getyView();
                coordsXFirst[0] = (int) event.getX(0);
                coordsYFirst[0] = (int) event.getY(0);

                startDialog(null);
                break;
            case MotionEvent.ACTION_POINTER_DOWN:
                offZ = editMapRenderer.getzView();
                coordsXFirst[0] = (int) event.getX(0);
                coordsYFirst[0] = (int) event.getY(0);
                coordsXFirst[1] = (int) event.getX(1);
                coordsYFirst[1] = (int) event.getY(1);
                zooming=true;
                break;
            case MotionEvent.ACTION_UP:
                zooming=false;
                break;

            default:

                // track all touches
                for (int i = 0; i < event.getPointerCount(); i++) {
                    int id = event.getPointerId(i);

                    // update all other pointer positions
                    coordsX[id] = (int) event.getX(i);
                    coordsY[id] = (int) event.getY(i);

                }

                // When only one finger
                if (event.getPointerCount() == 1 && !zooming)
                    editMapRenderer.setPosition(offX
                            + (coordsX[0] - coordsXFirst[0])*editMapRenderer.getzView()*-1 / 1000.0f, offY
                            + (coordsYFirst[0] - coordsY[0])*editMapRenderer.getzView()*-1 / 1000.0f);
                // When two fingers
                float distanceOld = (float) FloatMath
                        .sqrt((coordsXFirst[1] - coordsXFirst[0])
                                * (coordsXFirst[1] - coordsXFirst[0])
                                + (coordsYFirst[1] - coordsYFirst[0])
                                * (coordsYFirst[1] - coordsYFirst[0]));
                float distanceNew = (float) FloatMath
                        .sqrt((coordsX[1] - coordsX[0])
                                * (coordsX[1] - coordsX[0])
                                + (coordsY[1] - coordsY[0])
                                * (coordsY[1] - coordsY[0]));
                float distanceMax = (float) FloatMath
                        .sqrt(getWidth()
                                * getWidth()
                                + getHeight()
                                * getHeight());

                if (event.getPointerCount() == 2) {
                    editMapRenderer.setZoom(offZ + (distanceNew
                            - distanceOld)/(distanceMax/10));

                }
                break;
            }

        }

             private int getHeight() {
            // TODO Auto-generated method stub
            return 0;
        }

            private int getWidth() {
            // TODO Auto-generated method stub
            return 0;
        }

            public Dialog startDialog(Bundle savedInstanceState) {

                   final CharSequence[] items = new String[] { "#F5F6F6", "#FFC0CB", "#FF0000", 
                            "#C00000","#62492F","#DB3C00", "#98E01C" };

                   AlertDialog.Builder builder = new AlertDialog.Builder(MapEditorActivity.this);
                   builder.setTitle("Pick a color");
                   builder.setItems(items, new DialogInterface.OnClickListener() {
                       public void onClick(DialogInterface dialog, int item) {
                           Toast.makeText((Context) getApplication(), items[item], Toast.LENGTH_SHORT).show();
                        }
                   });
                   AlertDialog alert = builder.create();

                return alert;

             }

    });
    return true;
}

private void queueEvent(Runnable runnable) {
    // TODO Auto-generated method stub

}

MapEditorRenderer mRenderer;

public boolean onCreateOptionsMenu(Menu menu) {
    MenuInflater inflater =((Activity)context).getMenuInflater();
    inflater.inflate(R.layout.menu_save, menu);
    return true;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:50:42.977

代替

```
AlertDialog.Builder builder = new AlertDialog.Builder(this); 
```

和

```
AlertDialog.Builder builder = new AlertDialog.Builder(MapEditorView.this.getContext()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:59:32.583

写在下面的代码行

```
builder.show(); 
```

代替

```
AlertDialog alert = builder.create(); 
```

它会解决你的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T14:22:56.680

好的，我已经更改了我的代码。这是最后一个版本。但我有同样的问题。公共类 MapEditorActivity 扩展 Activity 实现 OnTouchListener{

```
private GLSurfaceView mGLSurfaceView;

MapEditorRenderer editMapRenderer;
// we have a maximum of 5 pointer
    private int[] coordsX = new int[5];
    private int[] coordsY = new int[5];

    // we have to save first touch for motion
    private int[] coordsXFirst = new int[5];
    private int[] coordsYFirst = new int[5];

    // offsets for view
    private float offX;
    private float offY;
    private float offZ;
    Context context;
    boolean zooming;
Region dialogRegion;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);
    this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
    // Create our Preview view and set it as the content of our
    // Activity
    mGLSurfaceView = new MapEditorView(this);

    setContentView(mGLSurfaceView);
    mGLSurfaceView.setOnTouchListener(MapEditorActivity.this);

}

private void showDialog(){

    AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(this);
    final String[] color = { "#F5F6F6", "#FFC0CB", "#FF0000", 
            "#C00000","#62492F","#DB3C00", "#98E01C" };
    dialogBuilder.setTitle("pick one Color");
    dialogBuilder.setItems(color, new DialogInterface.OnClickListener() {

        public void onClick(DialogInterface dialog, int which) {

            Toast.makeText(getApplicationContext(),color[which], Toast.LENGTH_SHORT).show();
        }
    });
    AlertDialog alertDialog = dialogBuilder.create();
    alertDialog.show();
}
@Override
protected void onPause() {
    super.onPause();
    mGLSurfaceView.onPause();
}

@Override
protected void onResume() {
    super.onResume();
    mGLSurfaceView.onResume();
}

public boolean onTouch(View v, MotionEvent event) {

    switch (event.getAction() & MotionEvent.ACTION_MASK) {
    case MotionEvent.ACTION_DOWN:
        offX = editMapRenderer.getxView();
        offY = editMapRenderer.getyView();
        coordsXFirst[0] = (int) event.getX(0);
        coordsYFirst[0] = (int) event.getY(0);

        showDialog();
        break;
    case MotionEvent.ACTION_POINTER_DOWN:
        offZ = editMapRenderer.getzView();
        coordsXFirst[0] = (int) event.getX(0);
        coordsYFirst[0] = (int) event.getY(0);
        coordsXFirst[1] = (int) event.getX(1);
        coordsYFirst[1] = (int) event.getY(1);
        zooming=true;
        break;
    case MotionEvent.ACTION_UP:
        zooming=false;
        break;

    default:

        // track all touches
        for (int i = 0; i < event.getPointerCount(); i++) {
            int id = event.getPointerId(i);

            // update all other pointer positions
            coordsX[id] = (int) event.getX(i);
            coordsY[id] = (int) event.getY(i);

        }

        // When only one finger
        if (event.getPointerCount() == 1 && !zooming)
            editMapRenderer.setPosition(offX
                    + (coordsX[0] - coordsXFirst[0])*editMapRenderer.getzView()*-1 / 1000.0f, offY
                    + (coordsYFirst[0] - coordsY[0])*editMapRenderer.getzView()*-1 / 1000.0f);
        // When two fingers
        float distanceOld = (float) FloatMath
                .sqrt((coordsXFirst[1] - coordsXFirst[0])
                        * (coordsXFirst[1] - coordsXFirst[0])
                        + (coordsYFirst[1] - coordsYFirst[0])
                        * (coordsYFirst[1] - coordsYFirst[0]));
        float distanceNew = (float) FloatMath
                .sqrt((coordsX[1] - coordsX[0])
                        * (coordsX[1] - coordsX[0])
                        + (coordsY[1] - coordsY[0])
                        * (coordsY[1] - coordsY[0]));
        float distanceMax = (float) FloatMath
                .sqrt(getWidth()
                        * getWidth()
                        + getHeight()
                        * getHeight());

        if (event.getPointerCount() == 2) {
            editMapRenderer.setZoom(offZ + (distanceNew
                    - distanceOld)/(distanceMax/10));

        }
        break;
    }
    return false;
}

private int getHeight() {
    // TODO Auto-generated method stub
    return 0;
}

private int getWidth() {
    // TODO Auto-generated method stub
    return 0;
} 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T09:36:13.157

代替

```
 AlertDialog.Builder builder = new AlertDialog.Builder(this); 
```

和

```
 AlertDialog.Builder builder = new AlertDialog.Builder(getBaseContext()); 
```

你的问题就会得到解决。

# linux - copy_to_user 在哪里定义

> ID：13760278
> 
> 赞同：0
> 
> 时间：2012-12-07T09:29:28.853
> 
> 标签：linux

在 Linux 系统中，函数 copy_to_user 和 copy_from_user 到底是在哪里定义和实现的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T09:41:05.103

`asm/uaccess.h`例如，它在**/usr/src/linux-3.0.6-gentoo/include/asm-generic/uaccess.h**中定义：

```
static inline long copy_from_user(void *to,
                const void __user * from, unsigned long n)
{
        might_sleep();
        if (access_ok(VERIFY_READ, from, n))
                return __copy_from_user(to, from, n);
        else
                return n;
}

static inline long copy_to_user(void __user *to,
                const void *from, unsigned long n)
{
        might_sleep();
        if (access_ok(VERIFY_WRITE, to, n))
                return __copy_to_user(to, from, n);
        else
                return n;
} 
```

* * *

并且`__copy_to_user`：

```
#ifndef __copy_to_user
static inline __must_check long __copy_to_user(void __user *to,
                const void *from, unsigned long n)
{
        if (__builtin_constant_p(n)) {
                switch(n) {
                case 1:
                        *(u8 __force *)to = *(u8 *)from;
                        return 0;
                case 2:
                        *(u16 __force *)to = *(u16 *)from;
                        return 0;
                case 4:
                        *(u32 __force *)to = *(u32 *)from;
                        return 0;
#ifdef CONFIG_64BIT
                case 8:
                        *(u64 __force *)to = *(u64 *)from;
                        return 0;
#endif
                default:
                        break;
                }
        }

        memcpy((void __force *)to, from, n);
        return 0;
}
#endif 
```

# viewmodel - ViewModel 之间的 Caliburn 微通信

> ID：13760283
> 
> 赞同：0
> 
> 时间：2012-12-07T09:29:39.097
> 
> 标签：viewmodel, communication, caliburn.micro

希望你能帮助我。首先，让我解释一下我的问题是什么。

我有两个 ViewModel。第一个例如在几个文本框中存储了信息。

例如

```
private static string _tbxCfgLogfile;
    public string TbxCfgLogfile
    {
        get { return _tbxCfgLogfile; }
        set
        {
            _tbxCfgLogfile = value;
            NotifyOfPropertyChange(() => TbxCfgLogfile);
        }
    } 
```

另一个 ViewModel 有一个按钮，我想从文本框中保存这些数据。

它看起来像这样

```
public bool CanBtnCfgSave
    {
        get
        {
            return (new PageConfigGeneralViewModel().TbxCfgLogfile.Length > 0 [...]);
        }
    }

    public void BtnCfgSave()
    {
        new Functions.Config().SaveConfig();
    } 
```

我怎样才能让“CanBtnCfgSave”知道条件是否满足？

我的第一次尝试是

```
 private static string _tbxCfgLogfile;
    public string TbxCfgLogfile
    {
        get { return _tbxCfgLogfile; }
        set
        {
            _tbxCfgLogfile = value;
            NotifyOfPropertyChange(() => TbxCfgLogfile);
            NotifyOfPropertyChange(() => new ViewModels.OtherViewModel.CanBtnCfgSave);
        }
    } 
```

这没用。当我没记错时，我可以从每个 ViewModel 中获取数据，但我无法毫不费力地设置或通知它们。那正确吗？我必须使用“事件聚合器”来实现我的目标还是有其他更简单的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T11:29:24.360

不确定您在视图模型中在做什么 - 为什么要在属性访问器中实例化视图模型？

这条线在做什么？

```
return (new PageConfigGeneralViewModel().TbxCfgLogfile.Length > 0 [...]); 
```

我不能从你的设置中确定，因为你没有提到太多关于架构的事情，但是因为你应该有每个视图模型的实例，所以必须有一些东西来管理/管理这两者（或者一个管理另一个）

如果您有一个管理另一个并且您正在通过具体引用来实现这一点，您可以通过直接访问属性并挂钩`PropertyChanged`子事件以通知父级来从另一个视图模型中获取字段

```
class ParentViewModel : PropertyChangedBase
{
    ChildViewModel childVM;

    public ParentViewModel() 
    {
        // Create child VM and hook up event...
        childVM = new ChildViewModel();

        childVM.PropertyChanged = ChildViewModel_PropertyChanged;
    }

    void ChildViewModel_PropertyChanged(object sender, System.ComponentModel.PropertyChangedEventArgs e)
    {
         // When any properties on the child VM change, update CanSave
         NotifyOfPropertyChange(() => CanSave);
    }

    // Look at properties on the child VM
    public bool CanSave { get { return childVM.SomeProperty != string.Empty; } }

    public void Save() { // do stuff }
}

class ChildViewModel : PropertyChangedBase
{
    private static string _someProperty;
    public string SomeProperty
    {
        get { return _someProperty; }
        set
        {
            _someProperty = value;
            NotifyOfPropertyChange(() => SomeProperty);
        }
    }
} 
```

当然，这是一种非常直接的方法 - 如果可行，您可以`CanSave`在子 VM 上创建一个绑定，从而无需`CanSave`在父 VM 上创建属性

# search - SEO-设置网站以搜索动态数据

> ID：13760286
> 
> 赞同：0
> 
> 时间：2012-12-07T09:30:02.127
> 
> 标签：search, dynamic, seo

我想设置我的网站。它有许多动态的用户资料。例如[http://test.com?profile=2,http://test.com?profile=3](http://test.com?profile=2,http://test.com?profile=3)。我需要采取哪些步骤才能动态显示搜索引擎上的所有配置文件。

1) 我有一个谷歌网站管理员工具 2) 为该站点添加了站点地图和 robots.txt。

大约 1 个月后（索引已完成，我可以在网站管理员工具帐户上）如果我搜索个人资料（比如按名称），我在搜索中看不到用户个人资料。我也添加了 url 参数，例如这里的配置文件。我错过了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-08T15:09:32.797

您可以仅通过基本链接从主页访问个人资料吗？

搜索引擎希望能够自行找到您的网页。

首先进行更具体的搜索。例如，将 site:test.com 添加到您的搜索中，这样只有您的网站参与竞争。

检查您是否没有阻止 robots.txt 文件中的页面或通过页面上的机器人元标记。

# apache-flex - Flexmojos，Flexunit4：adl 返回意外的返回码 9

> ID：13760287
> 
> 赞同：1
> 
> 时间：2012-12-07T09:30:05.633
> 
> 标签：apache-flex, air, maven-3, flexmojos, flexunit4

运行 flexunit4 单元测试时出现问题

```
Flexmojos 4.2-beta
     Apache License - Version 2.0 (NO WARRANTY) - See COPYRIGHT file
Running tests /Users/mordesku/NetBeansProjects/way2learn/builder/target/test-classes/TestRunner.swf
[LAUNCHER] Using regular flashplayer tests
------------------------------------------------------------------------
Tests run: 0, Failures: 0, Errors: 0, Time Elapsed: 0 sec
------------------------------------------------------------------------
BUILD FAILURE
------------------------------------------------------------------------
Total time: 1:10.516s
Finished at: Fri Dec 07 09:53:52 CET 2012
Final Memory: 11M/213M
------------------------------------------------------------------------
Failed to execute goal org.sonatype.flexmojos:flexmojos-maven-plugin:4.2-beta:test-run (default-test-run) on project builder: Unexpected return code 9 - /Users/mordesku/NetBeansProjects/way2learn/builder/target/test-classes/TestRunner.swf -> [Help 1]

To see the full stack trace of the errors, re-run Maven with the -e switch.
Re-run Maven using the -X switch to enable full debug logging. 
```

当我从命令行（从目标目录）运行 adl 时，得到以下输出：

```
jablecznik:test-classes mordesku$ adl TestRunner.xml 
error while loading initial content
jablecznik:test-classes mordesku$ 
```

TestRunner.xml 的根节点如下所示：

```
<application xmlns="http://ns.adobe.com/air/application/2.6"> 
```

当我将其更改为

```
<application xmlns="http://ns.adobe.com/air/application/3.5"> 
```

从命令行测试正常运行。

有没有人和我一样的问题？如何配置 flexmojos 以输出不同版本的 airapplication 版本的 TestRunner.xml？

# php - 在 PHP 中将 XML 文件中的数据与 XSLT 合并

> ID：13760289
> 
> 赞同：0
> 
> 时间：2012-12-07T09:30:07.917
> 
> 标签：php, xml, xslt, xpath

我试图将来自一个 XML 文件和一个 Excel XML 文件的数据与 XSLT 结合起来。我无法让它工作，想知道我是否可以这样做？我没有设法获得任何输出，并且真的可以使用一些帮助。

```
<?php

$xsl = new DOMDocument();
$xsl->load("file1.xsl");
$inputdom = new DomDocument();
$inputdom->load("file1.xml");

$proc = new XSLTProcessor();
$xsl = $proc->importStylesheet($xsl);
$proc->setParameter(null, "", "");

$newdom = $proc->transformToDoc($inputdom);
print $newdom-> saveXML(); 
```

.xsl

如何使用 ss 前缀？

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0"
xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet">

<xsl:variable name="file2" select="document('file2.xml')">
</xsl:variable>

<xsl:template match="/Test">
    <Test>
    <xsl:copy-of select="*" />
    <xsl:copy-of select="$file2/Test/*" />
    </Test>

</xsl:template>

</xsl:stylesheet> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T13:35:19.907

在没有看到问题中的 XML 文件的情况下很难确定，但如果第二个文件是 Excel XML，那么根元素将是**Workbook**但您的 XSLT 正在寻找**Test**的根。

尝试替换此行....

```
<xsl:copy-of select="$file2/Test/*" /> 
```

有了这条线

```
<xsl:copy-of select="$file2/*" /> 
```

如果你想显式引用第二个文件中的元素，使用**ss**命名空间，你会做这样的事情

```
<xsl:copy-of select="$file2/ss:Workbook" /> 
```

# javascript - 为 Facebook 标签页设置自定义名称

> ID：13760291
> 
> 赞同：0
> 
> 时间：2012-12-07T09:30:15.527
> 
> 标签：javascript, facebook, facebook-graph-api

我已经尝试过这种方式，但在选项卡中我找到了与我的应用程序相同的名称

```
FB.api('/' + pageId + '/tabs', 'post', {
      access_token: token,
      app_id: BT.fbAppId,
      custom_name:'mycoolname'
    }, function(response){
        if(response===true){

        }
        else{
          alert('Error on insert tab');
        }
}); 
```

请问你能帮帮我吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T18:26:34.633

I realized reading better the doc that you have to update after the insert like:

```
FB.api('/' + data.page_id + '/tabs/app_'+BT.fbAppId, 'post', {
  access_token: data.token,
  custom_name:BT.current.title
  }, function(response){
    if(response===true){
    }
    else{
      alert('Error on update tab');
    }
}); 
```

# sql - 使用组合字符创建触发器

> ID：13760292
> 
> 赞同：0
> 
> 时间：2012-12-07T09:30:17.680
> 
> 标签：sql, oracle, triggers

我有这个工作代码。每次我运行`INSERT INTO "HR"."CITY" (CITY_ID) VALUES (0);`数据`CITY_ID`都会像这样增加一个`CT0001, CT0002 ... CT0015`。

```
 CREATE TABLE "HR"."CITY" 
   (    
    "CITY_ID" VARCHAR2(40 BYTE)
   ) ;

  CREATE OR REPLACE TRIGGER "HR"."PK_MAX_TRIGGER_CITY" 
BEFORE INSERT ON CITY
FOR EACH ROW
DECLARE
    CNT NUMBER;
    PKV CITY.CITY_ID%TYPE;
    NO NUMBER;
BEGIN
    SELECT COUNT(*)INTO CNT FROM CITY;

    IF CNT=0 THEN
        PKV:='CT0001';
    ELSE
        SELECT 'CT'||LPAD(MAX(TO_NUMBER(SUBSTR(CITY_ID,3,LENGTH(CITY_ID)))+1),4,'0') INTO PKV
        FROM CITY;
    END IF;
    :NEW.CITY_ID:=PKV;
END;
/
ALTER TRIGGER "HR"."PK_MAX_TRIGGER_CITY" ENABLE; 
```

我想做的是这个`E1, E2 ... E15`。

我将代码更改为：

```
 IF CNT=0 THEN
        PKV:='E1';
    ELSE
        SELECT 'E'||LPAD(MAX(TO_NUMBER(SUBSTR(CITY_ID,3,LENGTH(CITY_ID)))+1),4,'0') INTO PKV 
```

它第一次添加`E1`到数据库时有效，但第二次无效。括号内的内容让我难以消化。我希望这里的任何人都可以向我解释括号中实际发生的事情并帮助我解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:48:18.563

您需要做的是修改您的 Else 部分查询。

```
SELECT 'E'||(MAX(TO_NUMBER(SUBSTR(CITY_ID,2))+1)) INTO PKV
    FROM CITY; 
```

*说明* 每当您想查找括号中发生的事情时，请从内括号开始。

```
See the result of this query:  SELECT SUBSTR(CITY_ID,2) FROM CITY; 
```

在这里，您将提取 之后的字符串`E`，其中`E`始终位于第一个位置，因此我们将从`2nd position`. 然后

```
 SELECT TO_NUMBER(SUBSTR(CITY_ID,2)) FROM CITY ; 
```

--这是将字符串转换为数字。然后它将从表CITY中找到最大数字，并在其后加1

```
SELECT MAX(TO_NUMBER(SUBSTR(CITY_ID,2)))+1 FROM CITY ; 
```

最后在结果后面加上常数`E`。

```
SELECT 'E'||(MAX(TO_NUMBER(SUBSTR(CITY_ID,2))+1)) INTO PKV
    FROM CITY; 
```

但是接受我的建议，创建一个序列`city_id_seq`，这将是比你现在正在做的更好的解决方案。

```
CREATE SEQUENCE city_id_seq
MINVALUE 1
MAXVALUE 99999999999
START WITH 1
INCREMENT BY 1
CACHE 20;

CREATE OR REPLACE TRIGGER "HR"."PK_MAX_TRIGGER_CITY" 
BEFORE INSERT ON CITY
FOR EACH ROW
DECLARE
 v_city_id PLS_INTEGER;  
BEGIN
  SELECT city_id_seq.nextval INTO v_city_id  FROM DUAL;

 :NEW.CITY_ID :='E'||v_city_id  ;

/*  if you are using oracle 11g 
:NEW.CITY_ID:='E'||city_id_seq.nextval; 
*/

END;
/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:47:07.157

括号内的代码::

```
select LPAD(MAX(TO_NUMBER(SUBSTR('CT0015',3,LENGTH('CT0015')))+1),4,'0') from dual; 
```

实际上是将city_id的值从3位置剪切到字符串的末尾，然后将其转换为数字数据类型加1，然后在左侧填充零

所以在这种情况下 o/p 0016

# google-fusion-tables - 我需要迁移哪些融合表映射

> ID：13760294
> 
> 赞同：0
> 
> 时间：2012-12-07T09:30:26.647
> 
> 标签：google-fusion-tables

我不确定我过去几年创建的地图是否会在 Google SQL API 于 1 月 14 日关闭时工作。

我已阅读有关迁移过程的信息，并且我知道它应该很简单。我不这么认为。

我在哪里可以在代码中查看是否必须更改代码？

我在 FusionTablesLayer 向导的帮助下构建了一些地图。
我使用我找到并更改的地图和模板构建的其他地图。我已经让它工作了，但我不会说我理解代码中发生的一切。

我在我的地图代码中的任何地方都没有看到 api 密钥。这让我不确定我是否需要改变任何东西。

例如，这在 1 月 14 日之后会起作用 吗： [http](http://www.kaasogmulvad.dk/unv/fusion/test.html) ://www.kaasogmulvad.dk/unv/fusion/test.html 这个怎么样： [http ://www.kaasogmulvad.dk/unv/3f/projekter1.html](http://www.kaasogmulvad.dk/unv/3f/projekter1.html)

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T14:20:54.047

您引用的示例均未使用 FusionTables SQL API。这是一个用于访问存储在 FusionTables 中的数据的外部 API。您的两个示例都只使用 Google Maps API v3 中的 FusionTablesLayer。

# grails - Grails 远程表单文件下载

> ID：13760295
> 
> 赞同：0
> 
> 时间：2012-12-07T09:30:26.683
> 
> 标签：grails, download

嗨，我有这个远程表格。我有 2 个提交按钮，一个用于查看，一个用于下载。

```
 <g:formRemote id="myForm" name="myForm" on404="alert('not found!')" update="updateMe"
                      url="[controller: 'crawler', action:'viewdata']" 
                before="if( validateForm( this ) ) { " after="}"       > 
```

我试图让用户下载 excel 但我的 div 得到更新。

```
 response.setContentType("application/octet-stream") 
    response.setHeader("Content-disposition", "attachment;filename=${msg+".xls"}")
    response.outputStream << file.bytes 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T13:56:40.740

我要做的是将您切换`remoteForm`到经典，并使用标签`form`仅将预览操作添加为 Ajax 调用。`<g:submitToRemote update="updateMe" />`这样您要下载的文档就不会出现在您的`updateMe`div 中。

[submitToRemote](http://grails.org/doc/latest/ref/Tags/submitToRemote.html)上的文档。

# android - 如何使用 GPS 在 android 中生成交通警报？

> ID：13760297
> 
> 赞同：0
> 
> 时间：2012-12-07T09:30:33.017
> 
> 标签：android, geolocation

用户旅行时如何在android中生成交通警报？

通过使用 GPS，我可以获取用户位置，并且我必须生成自动交通警报，此警报仅适用于那些正在旅行的人，而不是其他人。那么我如何让用户在旅行中？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:37:47.677

您只能通过检查用户是否移动以及移动速度来假设用户正在旅行。您将获得速度以及`Location`对象中的当前位置。您可能会在一定时间内计算一些平均速度，例如 10 秒或 1 分钟以确保。

# javascript - 使用 JavaScript 时的动态 SVG 线性渐变

> ID：13760299
> 
> 赞同：6
> 
> 时间：2012-12-07T09:30:36.170
> 
> 标签：javascript, svg, linear-gradients

我可以在 html 正文中成功完成此工作，例如...

```
<div id="myContainer" style="float: left; background-color: Blue; height: 100px;
            width: 100px;">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%">
                <defs>
                    <lineargradient id="myLinearGradient" x1="0%" x2="0%" y1="0%" y2="100%">
                        <stop id="start" offset="50%" style="stop-color: White; stop-opacity: 1" />
                        <stop id="stop" offset="60%" style="stop-color: #99cd9f; stop-opacity: 1" />
                    </lineargradient>
                </defs>
                <circle cx="50px" cy="50px" r="50px" fill="url(#myLinearGradient)" />
            </svg>
        </div> 
```

但是，我需要使用 javascript 动态创建它。只创建圆圈效果很好，当我将圆圈的填充指向线性渐变时它会失败 - 我只是得到一个黑色圆圈。

我想我没有正确设置 stop 'style' 属性。我尝试了另一种方法无济于事，请参见下文...

我正在使用 Chrome，在此先感谢！

在正文标签内：

```
 <body>
<div style="float: left; background-color: Blue; height: 100px;
                width: 100px;">
                <svg id="Svg1" xmlns="http://www.w3.org/2000/svg">
                    <defs id="mydefs">
                    </defs>
                </svg>
            </div>
</body>

My script:
    <script>

                // lineargradient 
                var myLinearGradient = document.createElementNS("http://www.w3.org/2000/svg", "lineargradient");
                myLinearGradient.setAttribute("id", "myLGID");
                myLinearGradient.setAttribute("x1", "0%");
                myLinearGradient.setAttribute("x2", "0%");
                myLinearGradient.setAttribute("y1", "0%");
                myLinearGradient.setAttribute("y2", "100%");

                document.getElementById("mydefs").appendChild(myLinearGradient);

                //stops
                var stop1 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                stop1.setAttribute("id", "myStop1");
                stop1.setAttribute("offset", "70%");
                //stop1.setAttribute("style", "stop-color: White; stop-opacity: 1");
                stop1.setAttribute("stop-color", "White");
                document.getElementById("mydefs").appendChild(stop1);

                var stop2 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                stop2.setAttribute("id", "myStop2");
                stop2.setAttribute("offset", "80%");
                //stop2.setAttribute("style", "stop-color: #99cd9f; stop-opacity: 1");
                stop2.setAttribute("stop-color", "#99cd9f");
                document.getElementById("mydefs").appendChild(stop2);

                // Circle
                var myCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                myCircle.setAttribute("id", "idCircle");
                myCircle.setAttribute("cx", "50px");
                myCircle.setAttribute("cy", "50px");
                myCircle.setAttribute("r", "50px");

                myCircle.setAttribute("fill", "url(#myLGID)");

                document.getElementById("Svg1").appendChild(myCircle);
            </script> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-07T10:24:09.337

两件事情：

*   线性渐变的元素名称是`linearGradient`, not `lineargradient`。
*   您必须将停靠点附加到`linearGradient`元素，而不是`defs`元素。

[有关MIT 许可的](https://blog.codepen.io/legal/licensing/)示例，请参阅此[codepen](https://codepen.io/dfranklinau/pen/OVWLOd)：

```
// Store the SVG namespace for easy reuse.
var svgns = 'http://www.w3.org/2000/svg';

// Create <svg>, <defs>, <linearGradient> and <rect> elements using createElementNS to apply the SVG namespace.
// (https://developer.mozilla.org/en-US/docs/Web/API/Document/createElementNS)
var svg = document.createElementNS(svgns, 'svg');
var defs = document.createElementNS(svgns, 'defs');
var gradient = document.createElementNS(svgns, 'linearGradient');
var rect = document.createElementNS(svgns, 'rect');

// Store an array of stop information for the <linearGradient>
var stops = [
    {
        "color": "#2121E5",
        "offset": "0%"
    },{
        "color": "#206DFF",
        "offset": "100%"
    }
];

// Parses an array of stop information and appends <stop> elements to the <linearGradient>
for (var i = 0, length = stops.length; i < length; i++) {

    // Create a <stop> element and set its offset based on the position of the for loop.
    var stop = document.createElementNS(svgns, 'stop');
    stop.setAttribute('offset', stops[i].offset);
    stop.setAttribute('stop-color', stops[i].color);

    // Add the stop to the <lineargradient> element.
    gradient.appendChild(stop);

}

// Apply the <lineargradient> to <defs>
gradient.id = 'Gradient';
gradient.setAttribute('x1', '0');
gradient.setAttribute('x2', '0');
gradient.setAttribute('y1', '0');
gradient.setAttribute('y2', '1');
defs.appendChild(gradient);

// Setup the <rect> element.
rect.setAttribute('fill', 'url(#Gradient)');
rect.setAttribute('width', '100%');
rect.setAttribute('height', '100%');

// Assign an id, classname, width and height
svg.setAttribute('width', '100%');
svg.setAttribute('height', '100%')
svg.setAttribute('version', '1.1');
svg.setAttribute('xmlns', svgns);

// Add the <defs> and <rect> elements to <svg>
svg.appendChild(defs);
svg.appendChild(rect);

// Add the <svg> element to <body>
document.body.appendChild(svg); 
```

# munin - 可以更改 munin 图的更新间隔吗？

> ID：13760301
> 
> 赞同：5
> 
> 时间：2012-12-07T09:30:43.827
> 
> 标签：munin

我想在每两分钟后绘制一次图表以增加粒度。有一些链接指出它在某种程度上可能与 munin 2.0 ，知道怎么做吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T15:57:22.373

我没有尝试过，但[常见问题解答中的这个问题](http://munin-monitoring.org/wiki/faq#Q:CanIrunmuninatdifferenttimeintervalsthanthedefault)表明您不能：

> 默认情况下，Munin 在 debian 系统上每隔五分钟 (*/5) 运行一次。是否可以将此间隔更改为任意值？
> 
> 只需编辑 /etc/cron.d/munin。
> 
> 但是，这不会改变 Munin（或者更确切地说是 RRD）的粒度；所有 RRD 文件的构造都是为了创建 5 分钟的平均值，无论您多久更新一次 RRD 文件，输出都不会（太大）不同。Ticket #5 中已提议更改此（默认）行为。

但是，如果您查看[票 #5](http://munin-monitoring.org/ticket/5)，最后一个帖子（关闭它）是：

> 当前主干完全支持自定义 update_rate，并相应提高 .rrd 文件的分辨率。

因此，如果您使用的是相当新的 munin 版本，可能值得一试。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-03-23T13:46:17.587

增加 Munin 数据捕获的分辨率是**在插件级别完成的**，而不是 munin 核心级别。这意味着不可能简单地更改整个安装以提高分辨率。相反，每个插件都必须独立修改。

决定分辨率的两个关键插件配置值是

```
graph_data_size
update_rate # in seconds 
```

*   **graph_data_size**确定用于存储捕获数据的 RRD 文件的大小和结构。
*   **update_rate**表示预期新数据的频率。

由于 cron 将一分钟的下限作为其最严格的分辨率，因此这是最容易实现的。只需更新 cron 以每分钟运行一次并修改插件配置以包含这些值

```
graph_data_size custom 1d, 1m for 1w, 5m for 1t, 15m for 1y
update_rate 60 
```

亚分​​钟分辨率需要在 cron 运行和嵌入时间数据（自纪元以来的秒数）之间缓存数据点。我在这三个帖子中提供了完整的详细信息：

[http://software.danielwatrous.com/understanding-munin-plugins/](http://software.danielwatrous.com/understanding-munin-plugins/)

[http://software.danielwatrous.com/increase-munin-resolution-to-one-minute/](http://software.danielwatrous.com/increase-munin-resolution-to-one-minute/)

[http://software.danielwatrous.com/increase-munin-resolution-to-sub-minute/](http://software.danielwatrous.com/increase-munin-resolution-to-sub-minute/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-16T13:51:25.003

Munin 默认使用 cron 作业每 5 分钟运行一次。您可以在 crontab 中更改它。在我的 CentOS 系统上，它位于 /etc/cron.d/munin，如下所示：

```
#
# cron-jobs for munin
#

MAILTO=root

*/5 * * * *     /usr/bin/munin-cron 
```

我过去已将其更改为

```
*/1 * * * *     /usr/bin/munin-cron 
```

但是，自从使用 Amazon AWS 的监控系统后，我不再需要 Munin，现在在我使用它的服务器上保持 10 分钟。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-11-08T07:36:29.940

zeeshan 说：

> Munin 默认使用 cron 作业每 5 分钟运行一次。您可以在 crontab 中更改它。在我的 CentOS 系统上，它位于 /etc/cron.d/munin，如下所示：
> 
> #
> 
> # munin 的 cron 工作
> 
> #
> 
> MAILTO=root
> 
> */5 * * * * /usr/bin/munin-cron
> 
> 我过去已将其更改为
> 
> */1 * * * * /usr/bin/munin-cron
> 
> 但是，自从使用 Amazon AWS 的监控系统后，我不再需要 Munin，现在在我使用它的服务器上保持 10 分钟。

您是关于 munin-server 的，因为 munin-agent 没有 cron 作业。您的图表不会少于 5 分钟。

要更改图表周期（步骤），请查看此处： http://munin-monitoring.org/wiki/faq#Q: [CanImakeagraphshowvaluesperminuteinsteadofpersecond](http://munin-monitoring.org/wiki/faq#Q:CanImakeagraphshowvaluesperminuteinsteadofpersecond)

样本：

```
[server.example.com]
  address 10.0.0.1
  postfix_mailstats.graph_period second 
```

将图表周期设置为秒。但请确保您已更改 /etc/cron.d/munin 的最小时间间隔，例如 /etc/munin/munin.conf 中的 graph_period

# android - URL 值未传递给另一个活动

> ID：13760306
> 
> 赞同：1
> 
> 时间：2012-12-07T09:30:55.693
> 
> 标签：android, android-intent, android-activity, webview

这是一个获取 rss.xml 文件并在列表视图中显示主题标题的应用程序。当单击列表视图的项目（主题标题）时，它将在 Contenurl 活动的 web 视图中打开。但是页面是空白的。这意味着“feedUri”没有将值传递给 Contenturl.java 如果我将“feedUri”替换为[http://google.com](http://google.com)之类的任何地址，那么它工作正常。然后，如果我单击列表视图的任何项目，google.com 将在 webview 中打开（在我的应用程序中）。但是如何使用 "feedUri" 传递 url 值？我需要对 Contenurl.java 文件进行任何更改吗？请帮助

这是 MainActivity.java 的一部分

```
 @Override
 protected void onListItemClick(ListView l, View v, int position, long id) {

  Uri feedUri = Uri.parse(myRssFeed.getItem(position).getLink());
  Intent w = new Intent(this, Contenturl.class);
  w.putExtra(org.rss.mywindows.Contenturl.URL,feedUri);
  startActivity(w); 
```

这是 Contenturl.java

```
public class Contenturl extends Activity {

    public static final String URL = "";
    private static final String TAG = "WebscreenClass";

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.contenturl);

        String turl = getIntent().getStringExtra(URL);
        Log.i(TAG, " URL = "+turl);

        WebView webview = new WebView(this);
        setContentView(webview);

        // Simplest usage: No exception thrown for page-load error
        webview.loadUrl(turl);  

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:32:57.203

采用

```
w.putExtra(org.rss.mywindows.Contenturl.URL,feedUri.toString()); 
```

代替

```
w.putExtra(org.rss.mywindows.Contenturl.URL,feedUri); 
```

在您的 Contenturl 活动中

```
 @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.contenturl);

        String turl = getIntent().getStringExtra(URL);

        Uri feedUri = Uri.parse(turl); 
```

因为您从第一个 Activity 发送 Uri 并在另一个 Activity 中将其作为字符串接收。然后解决方案是从第一个活动中将其作为字符串发送

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:33:15.013

写下面的代码而不是你的`onListItemClick()`代码。

```
Uri feedUri = Uri.parse(myRssFeed.getItem(position).getLink());
Intent w = new Intent(this, Contenturl.class);
w.putExtra("Uri",feedUri);
startActivity(w); 
```

并使用下面的代码从第二个活动的意图中检索 url。

```
Bundle bdl = getIntent().getExtras();
mUri = bdl.getString("Uri"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:33:34.643

在活动中，您将空字符串作为键

```
String turl = getIntent().getStringExtra(URL);

public static final String URL = ""; 
```

# javascript - 使用存储在 txt 文件中的 JSON 输入创建下拉菜单

> ID：13760308
> 
> 赞同：1
> 
> 时间：2012-12-07T09:31:03.243
> 
> 标签：javascript, html, json, local-files

我正在尝试使用存储在 txt 文件中的 JSON 数据创建一个下拉列表。我的主要问题是读取数据（我将从 API 检索到的数据保存到 txt 文件中，因为它是大量数据，我希望不必每次数据都向 API 发出请求来节省时间需要）

*附带说明，不完全确定以 JSON 形式获取数据是最佳选择。此 API 支持的其他选项包括：CSV、JSONP、序列化 PHP 和 XML（如果其中之一更容易）

这是 JSON 数据的形式（在 classes.txt 中存储为字符串）：

```
{
    "classes": [
        {
            "cat_num": "0001",
            "field": "OEB",
            "number": "363",
            "title": "Plant Diversity and Evolution"
        },
        {
            "cat_num": "0002",
            "term": "FALL",
            "bracketed": false,
            "field": "OEB",
            "number": "364",
            "title": "Ecological Physiology of Microbes"
        }
    ]
} 
```

到目前为止，这是我尝试使用此 txt 文件填充下拉菜单的代码

```
$(document).ready(function(){  
    var url = "classes.txt";
    $.get(url, function(data) {
    var obj = eval('(' + data + ')');
    $.each(obj, function(i, option){    
        $('#department').append($('<option/>')
                        .attr("value",option.cat_num)
                        .text(option.field));
      );
  );

    }); 
```

我也意识到我需要以某种方式确保“字段”在我的下拉列表中是唯一的（即，如果 3 个类属于“OEB”字段，我只希望 OEB 出现在我的下拉列表中一次，而不是 3 次)

提前感谢您提供的任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:09:38.067

在这里，这可能会有所帮助

```
$(document).ready(function(){
    $.getJSON('classes.txt', function(data) {

      $.each(data, function(i, option){        
            console.log(option.title)
            $('#department').append($('<option/>').attr("value",option.cat_num).text(option.title));
      });
    });
}); 
```

# android - 如何拦截 WebView（android）中的 url 加载？

> ID：13760310
> 
> 赞同：11
> 
> 时间：2012-12-07T09:31:07.200
> 
> 标签：android, webview, android-webview

我有一个 WebView，我在其中加载了一个带有自定义链接的页面（如 app://action）。我在清单文件中注册了 url 方案，当我单击链接时，我的 Activity 的 onResume() 方法会使用正确的数据调用并且它工作正常。

我的问题是 WebView 仍然尝试加载链接，而我的 WebView 最终显示“网页不可用”消息。我不想要那个。

如何防止 WebView 加载 url？

这是我的代码：

```
WebView banner = ...
banner.setWebViewClient(new WebViewClient() {

    @Override
    public void onLoadResource(WebView view, String url) {

        if (url.startsWith("app://")) {

            Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(url), getContext(), Main.class);
            //startActivity(i);
        }
    }
}

banner.loadUrl("url_to_the_banner"); 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-12-07T09:46:17.297

请改用 WebViewClient.shouldOverrideUrlLoading。

```
public boolean shouldOverrideUrlLoading(WebView view, String url){
    // handle by yourself
    return true; 
} 
```

[WebViewClient 参考](http://developer.android.com/reference/android/webkit/WebViewClient.html#shouldOverrideUrlLoading(android.webkit.WebView,%20java.lang.String))

**更新：**方法[`shouldOverrideUrlLoading(WebView, String)`](https://developer.android.com/reference/android/webkit/WebViewClient.html#shouldOverrideUrlLoading(android.webkit.WebView,%20java.lang.String))在 API 级别 24 中已弃用。[`shouldOverrideUrlLoading(WebView, WebResourceRequest)`](https://developer.android.com/reference/android/webkit/WebViewClient.html#shouldOverrideUrlLoading(android.webkit.WebView,%20android.webkit.WebResourceRequest))改用。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-08-04T16:00:27.487

但它必须返回 false 否则，所以：

```
@Override
public boolean shouldOverrideUrlLoading(WebView view, String url){
    if(url.startsWith(myString){
        // handle by yourself
        return true;
    } 
    // ...
    return false;
} 
```

# liferay - Aperte 工作流程与 lifaray 6.1.1 CE 集成

> ID：13760312
> 
> 赞同：0
> 
> 时间：2012-12-07T09:31:19.743
> 
> 标签：liferay

我正在使用 liferay-portal-tomcat-6.1.1-ce-ga2。现在我想将 aperte 工作流程集成到门户中。我知道 aperte 捆绑包可用于 liferay 6.0.6。但我需要 Liferay 6.1.1 CE 的 aperte 工作流程。我怎么能做到这一点？帮帮我..提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-04T19:09:04.197

唯一的方法是获取 Aperte Workflow 代码库和具有 liferay 6.1 依赖项的 maven 构建。然后一一解决问题。几天前，我对此进行了研究并成功地使其工作。整个过程记录在我的博客上。这是链接， [http://rupalchatterjee.wordpress.com/2013/07/03/integrate-aperte-workflow-in-liferay-6-1/](http://rupalchatterjee.wordpress.com/2013/07/03/integrate-aperte-workflow-in-liferay-6-1/)

# python - 展平可变长度数组的列表

> ID：13760315
> 
> 赞同：1
> 
> 时间：2012-12-07T09:31:33.790
> 
> 标签：python

如何转换：

```
[2, 4, array([ 3.]), array([ 4.]), array([ 5.,  4.])] 
```

到

```
[2,4,3,4,5,4] 
```

我试过搜索，但解决方案适用于

```
[array([ 2.]), array([ 4.]), array([ 3.]), array([ 4.]), array([ 5.,  4.])] 
```

和

```
[[2],[4],[3],[4],[5,4]] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:56:31.970

```
import itertools

a = [2, 4, array([ 3.]), array([ 4.]), array([ 5.,  4.])]
list(itertools.chain.from_iterable(asarray(b).ravel() for b in a)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:23:19.220

我喜欢使用 sum 来扁平化事物。在您的情况下，您首先要将数组转换为列表，然后将数字转换为数字列表。因此，如果数组位于：

```
sum((list(x) if hasattr(x, '__iter__') else [x] for x in a), []) 
```

# xpath - 使用 x-path "|" 运算符

> ID：13760317
> 
> 赞同：2
> 
> 时间：2012-12-07T09:31:39.290
> 
> 标签：xpath

我可以使用`.//div/h1/text() | .//div/h2/text()`. 但是我想知道是否有一种方法可以在不明确写出两条路径共同的部分的情况下 - 在这种情况下`.//div/`- 每次都这样做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:04:34.900

至于快捷方式，在 XPath 2.0 中，您可以将 eg 缩短`//div/h1 | //div/h2`为 eg，`//div/(h1 | h2)`但在 XPath 1.0 中不允许使用这种语法。而且我认为 XPath 3.0 将引入一个`let`子句来定义变量。所以我认为你可以做例如`let $r := /html/body/div[3]/table[2]/tbody/tr[5] return ($r/span | $r/a)`。

或者对于您使用 XPath 2.0 更正的示例，您可以缩短`.//div/h1/text() | .//div/h2/text()`为`.//div/(h1/text() | h2/text())`. 但是对于 XPath 1.0，您所能做的就是使用`.//div/*[self::h1 | self::h2]/text()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T13:36:13.457

**使用**：

```
 .//div/*[self::h1 or self::h2]/text() 
```

**在 Xpath 2.0 中可以使用**：

```
 .//div/(h1|h2)/text() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T10:22:08.593

`.//div/*[(local-name() = 'h1') or (local-name() = 'h2')]/text()`

应该做的伎俩

# html - 如何制作嵌入的底部阴影或使其图像

> ID：13760319
> 
> 赞同：0
> 
> 时间：2012-12-07T09:31:50.347
> 
> 标签：html, css

html

```
 <div class="menu">
        <a href="">Menu1</a>
        <a href="">Menu2</a>
        <a href="">Menu3</a>
        <a href="">Menu4</a>
        <a href="">Menu5</a>
        <a href="">Menu6</a>
        <a href="">Menu7</a>
    </div> 
```

CSS：

```
header div.menu
{
    background: url('img/menu_bg.png') no-repeat;
    height: 42px;
    width: 930px;
}
header div.menu a
{
    font-family: 'Neo_medium';
    text-decoration: none;
    color: #323232;
    display: inline-block;
    height: 42px;
    line-height: 42px;
    padding-left: 15px;
    padding-right: 15px;
}
header div.menu a:hover
{
    /*box-shadow: inset 0 4px 2px 5px #b1defe;*/
        background: url('img/menu_item_bg.png') no-repeat;
} 
```

![在此处输入图像描述](../Images/ed0a8f7138169d4dadd491a99721d0b4.png)

所以我需要像这张图片一样，如果可能的话，我不知道如何通过图片或box-shadow inset来做到这一点，如果我使用背景图片作为蓝色阴影，它看起来并不好，它看起来很粗略，我认为最好通过 box-shadow 制作它，但是如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:43:29.603

```
.menu
{
color: white;
background-color: @action-btn-color;
background-image: -webkit-linear-gradient(#FDFDFD, #FFFFFF);
background-image: -moz-linear-gradient(#FDFDFD, #FFFFFF);
background-image: -o-linear-gradient(#FDFDFD, #FFFFFF);
background-image: linear-gradient(#FDFDFD, #FFFFFF);
border: solid 1px #B7B7B7;
text-align: center;
padding: 4px;
cursor: default;
} 
```

根据您的需要更改颜色。

# android - 操作栏显示在其选项卡下方

> ID：13760325
> 
> 赞同：5
> 
> 时间：2012-12-07T09:32:32.763
> 
> 标签：android, android-actionbar, actionbarsherlock

当我设置这些属性时：

```
 actionBar = getSupportActionBar();

    actionBar.setDisplayHomeAsUpEnabled(true);
    actionBar.setDisplayShowHomeEnabled(false);
    actionBar.setDisplayShowTitleEnabled(true);
    actionBar.setTitle("Title");
    actionBar.setLogo(null);

    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS); 
```

**ActionBar**位于其Tabs**下方**。

但如果我这样评论：

```
actionBar.setDisplayShowHomeEnabled(false); 
```

它工作正常。但我希望它为**假**的原因是，为了避免显示 appIcon。

谢谢你

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-07T09:48:40.167

我用谷歌搜索了这个问题，并在 gitub 上找到了这个线程：[https ://github.com/JakeWharton/ActionBarSherlock/issues/327](https://github.com/JakeWharton/ActionBarSherlock/issues/327)

您可以阅读该主题，但结论是：

> 你好。刚刚找到一个简单的解决方法。
> 
> 在您的 onCreate 方法中使用以下内容：
> View homeIcon = findViewById(android.R.id.home);
> ((View) homeIcon.getParent()).setVisibility(View.GONE);
> 这会完全折叠主页按钮。
> 
> PS：我使用的是标准的 ActionBar 但这应该是一样的

我希望这对你有所帮助，
丹尼尔。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-22T11:14:18.623

我用过这个，它对我有用

```
 ActionBar ab = getSupportActionBar();
    ab.setDisplayShowHomeEnabled(true);
    ab.setDisplayHomeAsUpEnabled(false);
    ab.setHomeButtonEnabled(false);
    ab.setLogo(null);

    View homeIcon = findViewById(
            Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB ? 
            android.R.id.home : R.id.abs__home);
    ((View) homeIcon.getParent()).setVisibility(View.GONE);
    ((View) homeIcon).setVisibility(View.GONE);

    ab.setDisplayShowTitleEnabled(false); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-13T12:05:48.913

上面的所有帖子都折叠了主页图标，但留下了空白。为了避免这种情况，您需要将徽标大小设置为零。下面添加了我的代码片段。它可能对其他遇到同样问题的人有所帮助。谢谢

```
 actionBar.setLogo(new ColorDrawable(Color.TRANSPARENT));

      View homeIcon = findViewById(
                Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB ? 
                android.R.id.home : R.id.abs__home);
        ((View) homeIcon.getParent()).setLayoutParams(new LayoutParams(0, 0));
        ((View) homeIcon).setVisibility(View.GONE); 
```

# sql - sql中的case语句

> ID：13760328
> 
> 赞同：0
> 
> 时间：2012-12-07T09:32:47.167
> 
> 标签：sql, loops, if-statement, case

我想在 SAS 企业指南中创建一个计算列，如果它满足某些条件，它将显示汽车项目。

*   有 75 个汽车项目 (T.TS_Items)，例如挡风玻璃、轮胎、方向盘等。

*   每个项目都有一个唯一的 ID (T.TS_NUM)，因此 T.TS_NUM =1 到 T.TS_NUM =75。

然后我想给每个新车项目一个标签，例如 labelNo_01 到 labelNo_75。

因此，如果车辆类型为 Honda (T.TS_F_NUM = 2)，类型为掀背车 (T.TS_TYPE = I) 且 T.TS_NUM =1，则新列名称为 LabelName_01，其中包含挡风玻璃等项目。

例如，如果车辆类型发生变化 - 车辆类型是 Toyota (T.TS_F_NUM = 1) 但其余部分相同，它将为我提供 Toyota 的 75 辆汽车项目。

我的代码：

```
PROC SQL;
CREATE TABLE WORK.MotorVehicle AS 
SELECT 
T.TS_VEHICLE_RDES, 
/* FI_Label_01 */
Case When 
T.TS_F_NUM in (1,2) And  
T.TS_TYPE = I And 
T.TS_NUM =1 Then T.T_Item
else T.T_Item
End
AS FI_Label_01
FROM T.T_ITEM 
WHERE  T.TS_F_NUM = 41 
ORDER BY T.TS_NUM ;
QUIT; 
```

以上内容很简单且有效，但我不确定如何添加 Else 或 Else if 语句。基本上，当我使用上面的代码并在 where 语句中将车辆类型硬编码为 1（丰田）时，它的工作方式和它只给了我丰田，但它也给了我所有的类型，而不仅仅是掀背车。我想添加一个条件，它只给出类型掀背车，但我不知道在上面的代码中它将如何或在哪里进入。

循环也会有所帮助，因此我不必为每种车辆类型重复该过程**。**希望这些信息有所帮助。

一些数据。

```
T.TS_F_NUM      T.TS_TYPE       T.T_Item           T.TS_NUM
1               I               windscreen        1
2               I               side mirror       2
1               C               Side mirror       3
2               C               passenger door    4
1               I               dashboard         5
2               I               gear box          6 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:42:33.433

是的，你很接近，我有一些类似的代码，我的代码看起来像这样并且可以工作:)
这显然有子子规则，但 ELSE 的所有原则都是相同的，我认为没有 ELSE IF。 ..

```
CASE WHEN
    RULE_1 = TRUE THEN 
        CASE WHEN RULE_2 = TRUE AND RULE_3 = TRUE THEN
            CASE WHEN 
                RULE_4 = TRUE
            THEN 
                ITEM_1
            ELSE 
                ITEM_2
            END
        ELSE
            CASE WHEN RULE_5 THEN
                ITEM_3
            ELSE
                CASE WHEN RULE_6 = TRUE THEN 
                    ITEM_4
                ELSE
                    ITEM_5
                END
            END 
        END
END 
```

# extjs - 重新加载整个树或单个节点

> ID：13760329
> 
> 赞同：1
> 
> 时间：2012-12-07T09:32:48.507
> 
> 标签：extjs, extjs4, extjs4.1

如何从节点范围内重新加载整个树和/或单个节点以及这些节点的所有子节点。

单节点目前这是通过扩展来完成的，但现在需要为整个网格和选定节点重新加载按钮。我查看了nodeinterface，没有什么比重新加载有用的了。该节点目前正在使用自动模型，这意味着没有创建显式模型。

**修订编辑**

我还尝试在树存储上调用 removeAll() 并在树上调用 removeAll()。第一个调用每个已删除节点的读取器方法，节点本身作为参数，然后导致错误，导致服务器以空结果回答所有无效请求。第二个删除所有但也有错误。

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:38:25.707

对于你的第二个问题：

您可以尝试调用树的**[removeAll()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.tree.Panel-method-removeAll)**而不是商店。

# google-app-engine - go - 如何在结构中存储结构？

> ID：13760331
> 
> 赞同：5
> 
> 时间：2012-12-07T09:32:49.603
> 
> 标签：google-app-engine, struct, go

我有两个结构（`New`和`DailyPrediction`），`DailyPrediction`结构作为结构的实体之一`New`：

```
type New struct {
    Id string
    DailyPrediction
}

type DailyPrediction struct {
    Prediction string
} 
```

我无法读取（或）写入数据存储区中的新结构。如果有人可以帮助我，那将很有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T19:25:10.433

[应用引擎不支持](https://groups.google.com/group/google-appengine-go/browse_thread/thread/ff5d413817aca2a4/cbd4c4895c7afca2?pli=1)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T18:49:38.930

从你的问题中我不清楚你到底在用结构做什么，以及它以什么方式失败。但是，当您通过不给它命名来将 DailyPrediction 结构嵌入到新结构中时，它仍然需要初始化。您可以在此处查看如何执行此操作的详细信息：http: [//golang.org/doc/effective_go.html#embedding](http://golang.org/doc/effective_go.html#embedding)

例如，为了初始化你的 New 结构，你可以使用这样的一行：

```
 n := New{"foo", DailyPrediction{"bar"}} 
```

这可能是缺少的吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-02T02:14:21.960

只是为了为未来的读者更新这篇文章......这个信息是旧的......现在支持嵌套结构

# android - 套接字，读取和写入线程

> ID：13760332
> 
> 赞同：2
> 
> 时间：2012-12-07T09:32:54.093
> 
> 标签：android, multithreading, sockets

使用套接字连接我需要有两个线程，一个用于读取，一个用于写入。我发现了有关套接字连接的其他问题，但我不明白如何在两个不同的线程中使用同一个套接字。
我必须在与 UI 线程不同的线程中创建一个套接字，所以我需要启动一个线程来创建套接字。我在哪里可以开始这两个线程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-04-07T09:57:20.157

示例代码结构给你一个想法。

```
public class SocketActivity extends Activity {
    Socket s;
    OutputStream dout;
    String ip = "127.0.0.1";
    int port = 8080;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        new Thread(new Runnable() {
            @Override
            public void run() {
                try {
                    s = new Socket(ip, port);
                    new Thread(new ReaderRunnable(s));
                    new Thread(new WriteRunnable(s));
                } catch (IOException e) {
                    e.printStackTrace();
                    //Handle error state
                }
            }
        });
    }

    // You can put this class outside activity with public scope
    class ReaderRunnable implements Runnable {
        Socket socket;

        public ReaderRunnable(Socket socket) {
            this.socket = socket;
        }

        @Override
        public void run() {
            if (socket != null && socket.isConnected()) {
                try {
                    OutputStream out = new BufferedOutputStream(socket.getOutputStream());
                    //Do reader code
                } catch (IOException e) {
                    e.printStackTrace();
                }

            } else {
                //Handle error case
            }
        }
    }

    // You can put this class outside activity with public scope
    class WriteRunnable implements Runnable {
        Socket socket;

        public WriteRunnable(Socket socket) {
            this.socket = socket;
        }

        @Override
        public void run() {
            if (socket != null && socket.isConnected()) {
                try {
                    InputStream out = new BufferedInputStream(socket.getInputStream());
                    //Do writer code
                } catch (IOException e) {
                    e.printStackTrace();
                }
            } else {
                //Handle error case
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:50:06.783

从你的问题来看，这是客户端。您不必在两个不同的线程中使用套接字本身。对于读取线程，您使用套接字的 InputStream，对于写入线程，您使用 OutputStream。这样您就不必仅为套接字创建单独的线程。读取和写入线程都可以从 UI 线程启动。对于创建线程，我建议您参考 Android 文档[进程和线程](http://developer.android.com/guide/components/processes-and-threads.html)。

# c++ - c++ 检查大括号是否匹配

> ID：13760336
> 
> 赞同：5
> 
> 时间：2012-12-07T09:33:03.113
> 
> 标签：c++

作为一项额外的编程挑战，我被要求查看大括号是否匹配这样的随机字符串或字符：{1+1} 这将返回 1，而 {1+1}) 将返回 0。这就是我所拥有的到目前为止，但它似乎没有做任何事情。任何帮助都会很棒？谢谢

```
//bonus.cpp
#include <iostream>
#include <string>
#include <queue>
#include <stack>

using namespace std;

int checkBraces (string s)
{
    //int myLength = s.length();
    std::stack<int> stack;
    char d;

    for (int i = 0; i < s.length(); i++)
    {
        char c = s[i];

        if (c == '(')
        {
            stack.push(c);
        }
        else if (c == '[') 
        {
            stack.push(c);
        }
        else if (c == '{')
        {
            stack.push(c);
        }

        else if (c == ')')
        {
            if (stack.empty())
            {
                return false;
            }
            else
            {
                d = stack.top();
                stack.pop();
                if (d != '(')
                {
                    return false;
                }
            }
        }

        else if (c == ']')
        {
            if (stack.empty())
            {
                return false;
            }
            else
            {
                d = stack.top();
                stack.pop();
                if (d != '[')
                {
                    return false;
                }
            }
        }
        else if (c == '}')
        {
            if (stack.empty())
            {
                return false;
            }
            else
            {
                d = stack.top();
                stack.pop();
                if (d != '{')
                {
                    return false;
                }
            }
        }
    }

    if (stack.empty()) return true;
    else return false;

}

int main()
{
    cout << "This program checks brace ([{}]) matching in a string." << endl;

    checkBraces ("{1+1}");

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-07T09:36:53.220

是什么让你觉得它什么都没做？确实如此。它检查大括号，但你没有对返回做任何事情`checkBraces`，顺便说一句，它应该返回 a `bool`，而不是 a `int`。

你的意思可能是这样的：

```
if (checkBraces ("{1+1}"))
   cout << "matching";
else
   cout << "not matching"; 
```

专业提示：**学习如何使用调试器**。在开始编写“hello world”以外的任何代码之前，您应该学习如何调试。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-07T10:01:16.317

作为已经说过的补充，我想说您可以减少代码量。无论如何，您将字符放入堆栈中，为什么不使用`std::stack<char>`?

您可以将大括号保存到另一个字符串中，以使用[std::algorithms之一自动比较它](http://en.cppreference.com/w/cpp/algorithm)

```
const std::string openingBraces("{[(");
const std::string closingBraces("}])");

if (std::find(openingBraces.begin(), openingBraces.end(), currentChar) != openingBraces.end())
    yourStack.push(currentChar);
else if (std::find(closingBraces.begin(), closingBraces.end(), currentChar) != closingBraces.end())
{
    // check if currentChar is matching the one on top of your stack
} 
```

我还没有写完所有东西，因为最好自己找到答案。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-07T09:38:24.247

您应该做的最低限度是打印 checkBraces 的结果。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-07T10:04:15.170

> but it doesn't seem to do anything

It does do something. It prints `This program checks brace ([{}]) matching in a string.`.

You are calling `checkBraces ("{1+1}")` but you aren't doing anything with the returned value. Since this call can be optimized away, you are in a sense correct that your program doesn't seem to do anything.

So make it do something. Print the string that is to be tested, then print the result of the test. Once you have done that, you should test, and when you're done with that, you should test some more. Don't just test easy cases such as `{i+1}`. Test convoluted cases that should pass, and also test cases that should fail.

Learning how to test and learning how to debug are just as important skills (if not more important skills) as is learning how to write code.

# cakephp - 在 cakephp 的控制器中检索 xmlhttprequest 发送的数据

> ID：13760338
> 
> 赞同：1
> 
> 时间：2012-12-07T09:33:09.387
> 
> 标签：cakephp, xmlhttprequest, cakephp-2.0

我想向 Posts 控制器发送一些数据（图像、文本、...）：

```
 $('#home').click(function (){
        var xhr = new XMLHttpRequest();
        xhr.open("POST","/Portfilo/posts/test",true);
        xhr.send("id=10");
        xhr.onreadystatechange=function()
        {
            if (xhr.readyState==4 && xhr.status==200)
            {
                alert(xhr.responseText);
            }
        }
    }); 
```

测试动作是：

```
 public function test()
    {
        $this->layout = 'ajax';
        //$id = $this->params['named']['id'];

        if($this->request->named){
            echo "Yesssssss";
        }
        else {
            echo 'Oh No';
        }

    } 
```

我如何从这个连接（xmlhttprequest）中检索这些数据。

我读[了这篇](http://book.cakephp.org/2.0/en/controllers/request-response.html) 文章，但是像这样的函数或属性：

```
// Passed arguments

$this->request->pass;

$this->request['pass'];

$this->request->params['pass']; 
```

或者

```
// named parameters

$this->request->named; 
```

返回给我***“哦 Noooo”***消息。

如何从这个请求中检索这些参数和数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T11:39:26.943

如果您通过`POST`方法向`test`动作发送数据，您可以使用`$this->request->data`数组检索它，该数组将包含由`POST`.

在你的情况下，你可以试试这个：

```
public function test(){
        $this->layout = 'ajax';

        if($this->request->data['id']){
            echo "Yesssssss";
        }
        else {
            echo 'Oh No';
        }
} 
```

# asp.net - asp.net mvc3 在本地主机上设置子域

> ID：13760339
> 
> 赞同：1
> 
> 时间：2012-12-07T09:33:11.417
> 
> 标签：asp.net, testing, localhost, subdomain

我正在尝试做类似于这篇文章[asp.net setting up subdomain on localhost](https://stackoverflow.com/questions/4745517/asp-net-setting-up-subdomain-on-localhost)

我在我的主机文件中添加了以下内容

```
127.0.0.1       localhost
::1             localhost
127.0.0.1       test1.localhost
127.0.0.1       test2.localhost 
```

如帖子中所述，我已取消选中 LAN 连接下的所有内容。然而，在 VS 2010 中，运行应用程序并转到 localhost:7217 可以。但是去 test1.localhost 仍然会出现错误“IE 找不到 test1.localhost”

该应用程序基于 MVC3，因此不确定是否应该向 global.ascx 添加与路由相关的更改。这是必需的吗？我还应该做什么才能使它起作用？
谢谢

# c# - HttpContext.Current.Error.InnerException 总是返回空值

> ID：13760341
> 
> 赞同：0
> 
> 时间：2012-12-07T09:33:18.353
> 
> 标签：c#, asp.net

`HttpContext.Current.Error.InnerException`总是返回空值，但我在`HttpContext.Current.Error`and中获取值`Server.GetLastError()`。

我的 web.config 文件是

```
 <customErrors mode="RemoteOnly" defaultRedirect="~/Error.aspx" redirectMode="ResponseRewrite" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:36:51.387

可能只是因为没有内部异常。

*描述导致当前异常的错误的 Exception 实例。InnerException 属性返回与传递给构造函数的值相同的值，或者如果内部异常值未提供给构造函数，则返回 null 引用（在 Visual Basic 中为 Nothing）*

[http://msdn.microsoft.com/en-us/library/system.exception.innerexception%28v=vs.100%29.aspx](http://msdn.microsoft.com/en-us/library/system.exception.innerexception%28v=vs.100%29.aspx)

# c# - 在c#中删除字符串中前导特殊字符的最快方法

> ID：13760343
> 
> 赞同：4
> 
> 时间：2012-12-07T09:33:20.757
> 
> 标签：c#, string

我正在使用 c# 并且我有一个字符串

```
-Xyz
--Xyz
---Xyz
-Xyz-Abc
--Xyz-Abc 
```

我只是想删除任何前导特殊字符，直到字母出现，**注意：**字符串中间的特殊字符将保持不变。最快的方法是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-07T09:35:35.747

您可以使用[`string.TrimStart`](http://msdn.microsoft.com/en-us/library/system.string.trimstart.aspx)并传入要删除的字符：

```
var result = yourString.TrimStart('-', '_'); 
```

但是，如果您要删除的特殊字符的数量众所周知且很少，这只是一个好主意。
如果不是这种情况，您可以使用正则表达式：

```
var result = Regex.Replace(yourString, "^[^A-Za-z0-9]*", ""); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:06:14.327

我更喜欢这两种方法：

```
List<string> strings = new List<string>()
{
    "-Xyz",
    "--Xyz",
    "---Xyz",
    "-Xyz-Abc",
    "--Xyz-Abc"
};

foreach (var s in strings)
{
    string temp;

    // String.Trim Method
    char[] charsToTrim = { '*', ' ', '\'', '-', '_' }; // Add more
    temp = s.TrimStart(charsToTrim);
    Console.WriteLine(temp);

    // Enumerable.SkipWhile Method
    // Char.IsPunctuation Method (se also Char.IsLetter, Char.IsLetterOrDigit, etc.)
    temp = new String(s.SkipWhile(x => Char.IsPunctuation(x)).ToArray());
    Console.WriteLine(temp);
} 
```

# python - 基于概率python的随机数

> ID：13760345
> 
> 赞同：0
> 
> 时间：2012-12-07T09:33:26.403
> 
> 标签：python, random, probability

嗨，我已经重新搜索，我相信当我结束这个线程时，我的方向是正确的：

[http://code.activestate.com/recipes/117241/](http://code.activestate.com/recipes/117241/)

> > 基本上我的问题是：链接中的代码逐行执行。如果您的解释使我能够满意地理解链接中的代码的作用，您可能会忽略我在下面写的所有内容。

我相信该链接上的代码会生成一个随机数，但随机数与概率直接相关。

在我自己的代码中，我试图获取一个“数字”及其出现的概率，并得到一个输出“数字”，它将根据概率出现。我知道这很令人困惑，但是如果您查看上面的链接，那么我希望很清楚我要做什么。我下面的代码参考了上面的链接。

所以在我的程序中，这些是我的全局变量：

```
HIGH= 3
MED= 2
LOW= 1 
```

这是我正在使用的列表：

```
n= [LOW,lowAttackProb).(MED,medAttackProb),(HIGH,highAttackProb)]
#lowAttackProb,med...,etc. are based on user input are just percents converted to decimals that add up to 1 in every case 
```

这就是我按照上面的链接实现随机代码的方式：

```
x= random.uniform(0,1)
for alevel,probability in n:
    if x<probability:
        break
    x=x-probability
return alevel 
```

我不确定 for 循环中到底发生了什么以及 x=x-probability 正在做什么。

假设 x=0.90

并且在我的列表中，第二个列表条目出现的机会是 0.60，然后，由于 x（小于）概率是 False（我不太确定如果 x（小于）概率甚至会怎样），代码会移动到 n=n 概率。

我真的希望这是有道理的。如果没有，请让我知道有什么不清楚的地方，我会尽力修复它。感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T09:55:20.947

此代码实现了将可能事件的概率考虑在内的事件选择。这是它背后的想法。

共有三个事件（或您称之为级别），`LOW`, `MED`, `HIGH`，每个事件都具有一定的非零概率，所有概率的总和恰好为 1。使用 Python 的标准方法可以生成 0 到 1 之间的随机数。那么如何我们将它们“映射”到彼此？让我们按照以下方式沿着数字线排列我们的概率（为简洁起见，我们称它们为 L、M 和 H）：

`0__________________L______________L+M_________________________L+M+H ( = 1)`

现在取我们随机生成的数字`x`，我们可以说

1.  如果 x 位于区间 [0, L] 中，则第一个事件发生。
2.  如果 x 位于半区间 (L, L+M] 中，则第二个事件发生。
3.  如果 x 位于半区间 (L+M, L+M+H] 中，则第三个事件发生。

您询问的代码仅匹配`x`其中一个间隔并返回相应的事件（或级别）。

# c# - 为什么缓存的实体会突然跳转？

> ID：13760349
> 
> 赞同：1
> 
> 时间：2012-12-07T09:33:42.673
> 
> 标签：c#, linq, entity-framework, caching, lambda

我有 ：

```
var c = cboCustomer.SelectedItem as Customer;
var t = cboTrailer.SelectedItem as Trailer;
using (var db = new CAPSContainer())
{
   db.Attach(c); --> Tracker has now 1 entity
   db.Attach(t); --> Tracker has now 2 entities
   c.Trailers.Remove(t); --> Tracker has now 29! entities loaded
   db.DeleteObject(t);
   db.SaveChanges();
} 
```

我试图了解这种加载/缓存是如何工作的，因为我遇到了一些与之相关的其他问题，任何想法为什么缓存量突然跳跃？

我正在使用 EF 5.0。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:03:28.667

您的默认配置可能设置了 LazyLoadingEnabled。所以子列表在被访问之前不会被加载，请参阅这篇文章以获得更详细的解释：

[http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-应用](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application)

顺便说一句，如果你只是想删除一个而不加载很多，那么你可以像 Boomer 所说的那样使用 DeleteObject 。

# php - Facebook登录未重定向

> ID：13760352
> 
> 赞同：2
> 
> 时间：2012-12-07T09:33:44.980
> 
> 标签：php, facebook, facebook-graph-api, facebook-php-sdk, facebook-login

为什么以下不起作用？

```
// Login or logout url will be needed depending on current user state.
if ($user) {

    $logoutUrl = $facebook->getLogoutUrl();

} else {

    $loginUrl = $facebook->getLoginUrl();
    header("Location: ".$login_url);

} 
```

使用 xdebug，我可以看到它正在浏览该`else`部分，但是当它到达文件末尾时，它会停留在当前页面上，而不是打开`login_url`应该显示 facebook 登录屏幕的新页面。

有人知道为什么它不去facebook页面吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:02:13.433

尝试这个：

```
$facebook = new Facebook(array(
  'appId'  => '', // app id
  'secret' => '', // the secret
));

// Get User ID
$user = $facebook->getUser();

// Login or logout url will be needed depending on current user state.
if ($user) {
  $logoutUrl = $facebook->getLogoutUrl();
} else {
  $loginUrl = $facebook->getLoginUrl();
  header("Location: ".$login_url); // the user is not logged in, redirect him to the login page
  exit();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:43:17.593

我在 php 中使用了这个解决方案：

```
$loginUrl = $facebook->getLoginUrl(array(
            'scope' => $scope,
            'redirect_uri' => $app_url,
            ));

            echo "<script type='text/javascript'>top.location.href = '$loginUrl';</script>"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T14:19:09.073

想通了问题。我有一个错字...我正在将 url 分配给`$logoutUrl`并试图从`$logout_url`...获取 url

谢谢

# android - 为什么布局不坚持指定的重量？

> ID：13760364
> 
> 赞同：4
> 
> 时间：2012-12-07T09:34:27.763
> 
> 标签：android, android-layout, layout, android-linearlayout

假设我有一个带有**weightSum = "5"的****LinearLayout** (width & height match_parent) ，然后以**水平方式**

 ****我将**5 个 TableLayout** (width & height wrap_content) 与**layout_weight = "1"**放在一起，因此每个 TableLayout 都是其父级的 1/5。

但是，在那之后，在每个**TableLayout**中，我放了一个**TextView**（宽度和高度 wrap_content）并且每件事都出错了（从我的角度来看）：

如果文本太长，那么它会**强制其父布局**（在我们的例子中为 TableLayout）展开，因此不再尊重来自其 LinearLayout 父级的 TableLayout 的 1/5 比例，即使我指定了 TextView,s ellipsize=" **end** ”。

好吧，在做了一些研究之后，我发现设置**layout_width**比其他所有属性都**强****（比如 weightSum）**。

在我的例子中，我设置了**TableLayout 的 width=wrap_content和****layout_weight="1"**但是因为它是 wrap_content，它倾向于在它的内容之后扩展而不是尊重权重。

谁能给我一些解决方案，我的表格布局如何尊重重量？（因为我不希望我的布局不尊重比例并在子文本视图的长度之后花费）。

谢谢你的好意。这是我的代码：

```
<!-- my code -->
< LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="horizontal"
            android:weightSum="5" >

            <!-- table 1 -->

            <TableLayout
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_weight="1">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:gravity="center_horizontal"
                    android:ellipsize="end" 
                    android:maxLines="1"
                    android:text="test1test2test3test4test5"
                    android:textSize="20dp"/>

               <TableLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">

                </TableLayout>
            </TableLayout>

            <!-- table 2 -->

            <TableLayout
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_weight="1">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="center_horizontal"
                    android:text="test"
                    android:textSize="20dp" />

                <TableLayout 
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">

                </TableLayout>
            </TableLayout>

            <!-- table 3 -->

            <TableLayout
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_weight="1" >

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="center_horizontal"
                    android:text="test"
                    android:textSize="20dp" />

                <TableLayout 
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">

                </TableLayout>
            </TableLayout>

            <!-- table 4 -->

            <TableLayout
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_weight="1">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="center_horizontal"
                    android:text="test"
                    android:textSize="20dp" />

                <TableLayout 
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">

                </TableLayout>
            </TableLayout>

            <!-- table 5 -->

            <TableLayout
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_weight="1" >

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="center_horizontal"
                    android:text="test"
                    android:textSize="20dp" />

                <TableLayout 
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">

                </TableLayout>
            </TableLayout>

        </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T09:45:35.137

对外部 TableLayouts 使用 android:layout_width="0dp" 而不是 android:layout_width="wrap_content"。

还要指定 android:layout_weight="1"。

删除 android:weightSum="5" 以自动调整大小。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:tools="http://schemas.android.com/tools"
  android:layout_width="fill_parent"
  android:layout_height="wrap_content"
  android:orientation="horizontal" >

  <!-- table 1 -->

  <TableLayout
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_weight="1" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:ellipsize="end"
        android:gravity="center_horizontal"
        android:text="test1 test2 test3 test4 test5"
        android:textSize="20dp" />

    <TableLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent" >
    </TableLayout>
  </TableLayout>

<!-- table 2 -->

  <TableLayout
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_weight="1" >

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:text="test"
        android:textSize="20dp" />

    <TableLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent" >
    </TableLayout>
  </TableLayout>

<!-- table 3 -->

  <TableLayout
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_weight="1" >

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:text="test"
        android:textSize="20dp" />

    <TableLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent" >
    </TableLayout>
  </TableLayout>

<!-- table 4 -->

  <TableLayout
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_weight="1" >

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:text="test"
        android:textSize="20dp" />

    <TableLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent" >
    </TableLayout>
 </TableLayout>

<!-- table 5 -->

  <TableLayout
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_weight="1" >

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:text="test"
        android:textSize="20dp" />

    <TableLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent" >
    </TableLayout>
  </TableLayout>

</LinearLayout> 
```

为什么 TableLayout 里面有空？如果您想查看整个文本，请设置 android:ellipsize="none"

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-07T09:49:56.410

`android:layout_width= "0dp"`对于所有五个父表布局，而不是“`wrap_content"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:39:13.967

将所有表格布局的 layout_height 和 layout_width 设置为“fill_parent”。你会做的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T09:46:12.627

您可以在一个表格布局中使用 Table Row 并在表格布局中使用 weight_sum

```
 ` <TableLayout
                        android:layout_width="wrap_content"
                        android:layout_height="match_parent"
                        android:weightSum="5"/>
            <TableRow 
                        your text 
             />
            <TableRow 
                        your text 
             />
        <TableRow 
                        your text 
             />
       <TableRow 
                        your text 
             />
       <TableRow 
                        your text 
             />
       </TableLayout>` 
```****

# permissions - KCFinder '您没有列出文件的权限。

> ID：13760367
> 
> 赞同：9
> 
> 时间：2012-12-07T09:34:39.277
> 
> 标签：permissions, kcfinder

我在 ckeditor 中集成 KCFinder 时遇到问题。我的 ckeditor 的版本是 4.0，另一个（KCFinder 版本）是 2.52-dev。

您好像这样配置ckeditor的config.js：

```
CKEDITOR.config.baseHref = "/ckeditor/";

CKEDITOR.editorConfig = function( config ) {
    // Define changes to default configuration here.
    // For the complete reference:
    // http://docs.ckeditor.com/#!/api/CKEDITOR.config

    config.contentsCss  = 'contents.css';
    config.language= 'it';
    config.height = '400px';
    config.uiColor = '#ffDC6E';

    //kcfinder per l'uoload delle immagini
    config.filebrowserBrowseUrl = 'kcfinder-2.51/browse.php?type=files';
    config.filebrowserImageBrowseUrl = 'kcfinder-2.51/browse.php?type=images';
    config.filebrowserFlashBrowseUrl = 'kcfinder-2.51/browse.php?type=flash';
    config.filebrowserUploadUrl = '../../../reserved/kcfinder-2.51/upload.php?type=files';
    config.filebrowserImageUploadUrl = '../../../reserved/kcfinder-2.51/upload.php?type=images';
    config.filebrowserFlashUploadUrl = '../../../reserved/kcfinder-2.51/upload.php?type=flash';    

    // Remove some buttons, provided by the standard plugins, which we don't
    // need to have in the Standard(s) toolbar.
    config.removeButtons = 'Subscript,Superscript';
    config.disableNativeSpellChecker = false;
    }; 
```

集成是的，但是当我单击“在服务器中显示文件”或当我上传图像时，系统会显示“您无权列出文件”，尽管权限是正确的。

问题是什么？Tks齐射

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-06-07T06:45:29.913

我认为问题在于您还需要在 KCFinder 中配置设置。您需要在 KCFinder 文件夹中找到 config.php，为此：

```
'disabled' => true 
```

将其更改为`false`然后您应该能够将文件上传到您的服务器。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-04-02T13:30:28.140

不是安全理由的最佳方法，因为在 config.php 中禁用它允许所有用户访问它，最好的方法是在 php 文件中添加下面的小代码，其中包括你的 textarea ：

```
$_SESSION['KCFINDER'] = array(
    'disabled' => false
); 
```

希望有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-18T00:02:12.690

来自 kcfinder 网站：默认情况下，KCFinder 是禁用的。如果您只是将此设置设置为 false，则所有公共访问者都可以上传和管理您网站上的文件。建议使用会话配置覆盖此设置，以便只有经过身份验证的用户才能使用 KCFinder。

# iphone - 将字符串与 xcode 中的 NSMutablearray 数据进行比较？

> ID：13760374
> 
> 赞同：0
> 
> 时间：2012-12-07T09:34:50.847
> 
> 标签：iphone, xcode, nsmutablearray

我有一个 NSMutableArray，我需要将其中的内容与 NSString 进行比较。但无法得到它？

我的阵列

```
(
{
  Code=Sunday;
},
{
 Code=Monday;
},
{
Code=Tuesday;
}
) 
```

我是这样比较的：

```
BOOL isTheObjectThere = [array containsObject:weekday];

if([arr count]==0 && isTheObjectThere==YES)
{
//do something
}
else
{
//do something
} 
```

这里 weekday 是 NSString ，其 value=Sunday

但是 isTheObjectThere 正在返回 NO..

我哪里错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:42:32.867

看这个例子

```
NSMutableArray* array = [NSArray arrayWithObjects:@"Sunday", @"Monday", @"Tuesday", nil];

NSPredicate *predicate = [NSPredicate predicateWithFormat:@"SELF IN %@", array];
BOOL isTheObjectThere = [predicate evaluateWithObject:@"Sunday"];
NSLog(@"isTheObjectThere %d",isTheObjectThere); 
```

它的工作正常并返回**是TheObjectThere 1**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:43:18.630

该数组包含字典元素，然后检索键（代码）的值。

```
 NSMutableArray *yourArray = [[NSMutableArray alloc] init];
    for (NSDictionary *dict in array) {
        [yourArray addObject:[dict valueForKey:@"Code"]];
    }
    BOOL isTheObjectThere = [yourArray containsObject:@"Sunday"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:51:27.580

```
BOOL isTheObjectThere = [array containsObject:weekday]; 
```

不行，最好试试下面的方法。

```
 NSMutableArray* inputArray = [NSArray arrayWithObjects:@"Sunday", @"Monday", @"Tuesday", nil];

for (NSString* item in inputArray)
{

if ([item rangeOfString:@"Sunday"].location != NSNotFound)

{
   //do something
  }

else

{
  //do something;
 } 

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T11:53:49.067

```
NSString *yourString = @"Monday";

for (NSString* item in inputArray){
if ([yourString rangeOfString:item].location != NSNotFound)
//Do something;

else
// Do the other Thing;
} 
```

# javascript - 如何在 aspx 页面中获取用户控件文本框的值？

> ID：13760376
> 
> 赞同：0
> 
> 时间：2012-12-07T09:34:57.793
> 
> 标签：javascript, jquery, asp.net

我有一个带有文本框的用户控件 ascx 文件

```
<asp:TextBox ID="textboxDate" runat="server" CssClass="FieldValue" MaxLength="10"
Columns="12" autocomplete="off" Style="padding-right: 18px; border: 1px solid #567890;" />
<ajaxToolkit:CalendarExtender ID="calendarExtenderDate" runat="server" TargetControlID="textboxDate"
PopupButtonID="textboxDate" /> 
```

我在我的 aspx 页面中添加了这个用户控件

```
 <uc:DateControl ID="dateControlStart" runat="server" RequiredErrorMessage="please enter date" /> 
```

我想要这个文本框的值。我如何使用 javascript 或 Jquery 来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T09:42:16.003

试试下面

```
$("input[id*=textboxDate]").val(); 
```

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:38:09.987

尝试在用户控件中有一个**公共属性**来访问文本框。

例子：

**在后面的用户控制代码中**

```
 public TextBox MyTextBox{
  get{return this.textboxDate;}

 } 
```

**在页面代码后面**

```
dateControlStart.MyTextBox.Text 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:42:01.337

由于 .NET 为控制器创建了自己的 id，这有点问题。但是有两种方法可以解决这个问题。

1，创建一个包含 div 的`id`.

```
// HTML
<div id="date-container">
    //.. .NET controllers
</div>

// Script
var container = document.getElementById('date-container'),
    input = container.getElementsByTagName('input')[0];

console.log(input.value); 
```

2，为你添加一个独特的css类asp：textbox并使用jQuery来检索它：

```
$('.date-input-unique').val(); 
```

# sql - SQL Server 存储过程 if 语句注入字符串

> ID：13760377
> 
> 赞同：2
> 
> 时间：2012-12-07T09:35:00.697
> 
> 标签：sql, sql-server, stored-procedures

使用 SQL Server 我试图基于 if 语句将字符串注入 SQL 语句，请注意我试图在存储过程中完成此操作。

我目前收到此代码的错误：

```
Declare @topString varchar(240)

IF @topRecords > 0
SET @topString = 'top 500'
ELSE
SET @topString = ''

SELECT @topString * FROM( //incorrect syntax near FROM

SELECT  top 500 c.Id as [Customer Id],....
    UNION
    SELECT  top 500 c.Id as [Customer Id],....
)as table1 
Order by 1 desc 
```

**编辑**

```
if somethingTrue
@whereCondition = '1 = 1 '
else 
@whereCondition = branch = @branch

select * from table 
where @whereCondition AND etc... 
```

**正确的**

对于 if 语句中的注入，请使用 Jodrell
，但如果您需要动态顶部，请使用 Kaf 建议的内容。
谢谢你们的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T09:50:01.070

如果您愿意`decide number of top records depending on @topRecords`，您可以使用`INT`或`BIGINT`根据所需记录的数量来执行此操作。

```
DECLARE @top INT --This is declared as an int here

IF @topRecords > 0
  SET @top = 500
ELSE
  SET @top = 5000000 --Make it more than records if you need all 
                              --or make it 0 if no records needed.
                              --@top has to be >=0

--How to use it
SELECT TOP (@top) * FROM YourTable 
```

**编辑：**您的问题最初只有一次注射。但是，如果您需要更多注射（根据您最近的问题编辑），那么我建议您使用动态查询`@Jordell's answer.`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-07T09:44:19.213

您不能将语句部分作为变量注入，但是您可以更改参数的大多数值。

让存储过程根据参数执行可能需要不同查询计划的操作是一个坏主意，此 SP 的结果可能会根据`@topRecords`参数的值而大不相同。您将需要使用该`RECOMPILE`选项来警告查询引擎，从而减少 SP 的大部分好处。您是否考虑过只有两个存储过程？

如果你想动态地做，你可以动态地构建整个语句，创建一个大字符串，然后执行它。

您应该调查使用`sp_executesql`来执行`string`/ `VarChar`。然后类似的查询将受益于查询计划重用。

一如既往，Sommarskog 是一个[很好的参考](http://www.sommarskog.se/dynamic_sql.html)。

* * *

像这样的东西

```
DECLARE @topString varchar(240);
DECLARE @statement varchar(max);

IF @topRecords > 0
    SET @topString = 'TOP 500';
ELSE
    SET @topString = '';

SET @statement = 'SELECT ' + @topString + ' * FROM
    (
        SELECT TOP 500 c.Id as [Customer Id], ....
        UNION
        SELECT TOP 500 c.Id as [Customer Id], ....
    ) table1 
    ORDER BY 1 DESC'

/* Then execute @statement */
EXEC sp_executesql @statement 
```

# quickblox - QuickBlox：GCDAsyncSocketErrorDomain 错误

> ID：13760381
> 
> 赞同：0
> 
> 时间：2012-12-07T09:35:21.163
> 
> 标签：quickblox

我正在尝试在我的应用程序中实现聊天模块。我已成功完成[简单聊天演示](http://quickblox.com/developers/SimpleSample-chat_users-ios)`Login`并将其`Register`处理到我的应用程序中。它还返回离线和在线用户的用户数组。

现在成功登录后，我得到以下日志：-

```
error:
2012-12-07 14:50:07.056 App[5324:790b] QBChatService/xmppStreamDidConnect
2012-12-07 14:50:08.285 App[5324:790f] QBChatService/xmppStreamDidAuthenticate
2012-12-07 14:51:08.291 App[5324:711f] QBChatService/xmppStreamDidDisconnect, error=Error Domain=GCDAsyncSocketErrorDomain Code=7 "Socket closed by remote peer" UserInfo=0xb982330 {NSLocalizedDescription=Socket closed by remote peer} 
```

而且我无法在我的应用程序中接收聊天消息。

有什么建议么 ？

编辑 ：-

在我的应用程序中，登录完成后，我将登录请求发送到 QuickBlox API

```
if(loginDone)
{
     NSString *userName = [_textUsername.text stringByReplacingOccurrencesOfString:@"@" withString:@"_"];
     NSString *userPass = [_textPassword.text stringByReplacingOccurrencesOfString:@"@" withString:@"_"];

     // Authenticate user
     [QBUsers logInWithUserLogin:userName password:userPass delegate:self context:userPass];
} 

 #pragma mark -
#pragma mark QBActionStatusDelegate

// QuickBlox API queries delegate
-(void)completedWithResult:(Result *)result  context:(void *)contextInfo
{    
    // QuickBlox User authentication result
    if([result isKindOfClass:[QBUUserLogInResult class]])
    {
        // Success result
        if(result.success)
        {
            QBUUserLogInResult *res = (QBUUserLogInResult *)result;

            // save current user
            [[DataManager shared] setCurrentUser: res.user];
            NSLog(@"%@",res.user);

            [[[DataManager shared] currentUser] setPassword:(NSString *)contextInfo];
            NSLog(@"%@",res.user);

            // Login to Chat
            [QBChat instance].delegate = self;
            [[QBChat instance] loginWithUser:[[DataManager shared] currentUser]];

            // Register as subscriber for Push Notifications
            [QBMessages TRegisterSubscriptionWithDelegate:nil];

            // send request for getting user's filelist
            PagedRequest *pagedRequest = [[PagedRequest alloc] init];
            [pagedRequest setPerPage:10];

            [QBContent blobsWithPagedRequest:pagedRequest delegate:self];

            [pagedRequest release];
        }
        else
        {
            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Errors"
                                                            message:[result.errors description]
                                                           delegate:self
                                                  cancelButtonTitle:@"Ok"
                                                  otherButtonTitles: nil];
            alert.tag = 1;
            //[alert show];
            [alert release];

            [HUD hide:YES];
            [self AfterLoginController];
        }
    }
}

-(void)completedWithResult:(Result *)result
{
    if([result isKindOfClass:[QBUUserLogInResult class]]) // QuickBlox User authentication result
    {
        // Success result
        if(result.success)
        {
            // If we are authenticating through Twitter/Facebook - we use token as user's password for Chat module
            [self completedWithResult:result context:[BaseService sharedService].token];
        }
    }
    else if ([result isKindOfClass:[QBCBlobPagedResult class]])
    {
        // Success result
        if(result.success){
            QBCBlobPagedResult *res = (QBCBlobPagedResult *)result;

            // Save user's filelist
            [DataManager shared].fileList = [[res.blobs mutableCopy] autorelease];

            AppDelegate *app = (AppDelegate *)[[UIApplication sharedApplication] delegate];
            [app startsendPresenceTimer];

            [HUD hide:YES];            
            [self AfterLoginController];
        }
    }
    else
    {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Errors"
                                                        message:[result.errors description]
                                                       delegate:self
                                              cancelButtonTitle:@"Ok"
                                              otherButtonTitles: nil];
        alert.tag = 1;
        //[alert show];
        [alert release];

        [HUD hide:YES];
        [self AfterLoginController];
    }
} 
```

现在在 AppDelegate 中：-

```
- (void) startsendPresenceTimer
{
    [QBChat instance].delegate = self;

    // send presence
    if(self.sendPresenceTimer == nil)
    {
        self.sendPresenceTimer = [NSTimer scheduledTimerWithTimeInterval:10 target:self selector:@selector(sendPresence) userInfo:nil
                                                                 repeats:YES];
    }

    if (self.requesAllUsersTimer == nil)
    {
        self.requesAllUsersTimer= [NSTimer scheduledTimerWithTimeInterval:10 target:self selector:@selector(updateUsers) userInfo:nil repeats:YES];
    }
    [self.requesAllUsersTimer fire];
}

// send presence
- (void)sendPresence{
    // presence in QuickBlox Chat
    [[QBChat instance] sendPresence];
    // presence in QuickBlox
    [QBUsers userWithExternalID:1 delegate:nil];
}

- (void)updateUsers
{
    // Retrieve all users
    PagedRequest* request = [[PagedRequest alloc] init];
    request.perPage = 100; // 100 users
    [QBUsers usersWithPagedRequest:request delegate:self];
    [request release];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:59:22.927

您是否定期发送出席信息？它需要因为聊天服务器必须知道你是在线还是离线。

查看[QuickBlox 聊天设置指南](http://quickblox.com/developers/SimpleSample-chat_users-ios#Login_to_Chat)，行

> 请记住，QuickBlox 它是简单的 XMPP 聊天，...

只写一行

```
[NSTimer scheduledTimerWithTimeInterval:30 target:[QBChat instance] selector:@selector(sendPresence) userInfo:nil repeats:YES]; 
```

应用程序将每 30 秒发送一次出席信息

# android - 使用用户名和密码从应用程序在 Web 浏览器中打开 URL

> ID：13760384
> 
> 赞同：2
> 
> 时间：2012-12-07T09:35:21.957
> 
> 标签：android

如何从我的 android 应用程序打开一个 URL 并传递保存的用户名和密码，这些用户名和密码将填写网站（如 facebook）的相应字段

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:44:39.807

```
StringBuffer buffer=new StringBuffer("http://yoururl/yourpage.xxx?");
buffer.append("?username="+URLEncoder.encode("xxxxxxx"));
buffer.append("&pass="+URLEncoder.encode("xxxxxxxx"));
webView.loadUrl(buffer.toString()); 
```

然后您可以在您的网页中捕获这些查询。

要登录 facebook，请查看 我在博客上写的这篇文章[http://talhakosen.com/2012/11/22/facebook-api-for-android/ 。](http://talhakosen.com/2012/11/22/facebook-api-for-android/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:54:11.577

AIK，它可以用于您的自定义网页，因为您有它的内容来知道在哪里传递用户名和密码，但是使用 facebook 和 gmail 你不能这样做。

您必须集成 facebook sdk 才能实现此类功能。并且用户可以输入他/她的用户名和密码。

希望你明白我的意思。

享受编码... :)

# iphone - 使用核心图绘制动态更新图

> ID：13760388
> 
> 赞同：0
> 
> 时间：2012-12-07T09:35:34.857
> 
> 标签：iphone, objective-c, ios, core-plot

我知道有一些与此相关的示例和讨论，但我不确定该怎么做才能实现这一目标。我尝试连续重新加载数据和其他一些技巧，但似乎没有任何效果。`reloadData`我正在使用的示例中的方法没有做任何事情。是否有我应该添加的特定内容以使其刷新数据？我应该怎么做才能实现动态更新图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T11:06:01.120

你做什么工作？

在调用图表上的重新加载数据之前，您必须更改数据源。

您还可以在 Core Plot 中看到一个名为“AAplot”的示例 - 他们在那里使用重新加载数据。

希望能帮助到你 ：）

# mysql - MySQL：帮助查找执行时间过长的查询

> ID：13760393
> 
> 赞同：2
> 
> 时间：2012-12-07T09:35:55.697
> 
> 标签：mysql, terminal, processlist

如何找到执行时间过长（超过 5 秒）的 MySQL 查询？

我尝试使用`PROCESSLIST`，但它显示的信息最少。我需要当前在服务器中运行的完整查询，因此我可以尝试优化查询以减少服务器负载。

是否有任何终端命令可用于查找当前正在处理的查询？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T19:16:16.137

如果您使用的是 MySQL 5.1+，则可以使用慢查询日志。[这里](http://dev.mysql.com/doc/refman/5.1/en/slow-query-log.html "这里")和[这里](https://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html "这里")是文档。配置和运行选项与 MySQL 版本有关。但我相信您可以按照与您的环境相关的说明来实现您的目标。

# groovy - Groovy/Grails GPARS：如何并行执行 2 个计算？

> ID：13760394
> 
> 赞同：7
> 
> 时间：2012-12-07T09:35:55.433
> 
> 标签：groovy, parallel-processing, gpars

我是 GPARS 库的新手，目前在我们的软件中实现它。

使用它代替普通的常规方法对我来说没问题

```
[..].each{..} 
-> 
[..].eachParallel{..} 
```

但我想知道如何并行化 2 个返回值的任务。

如果没有 GPARS，我会这样做：

```
List<Thread> threads = []
def forecastData
def actualData  
threads.add(Thread.start {
    forecastData = cosmoSegmentationService.getForecastSegmentCharacteristics(dataset, planPeriod, thruPeriod)
})

threads.add(Thread.start {
    actualData = cosmoSegmentationService.getMeasuredSegmentCharacteristics(dataset, fromPeriod, thruPeriodActual)
})

threads*.join()

// merge both datasets
def data = actualData + forecastData 
```

但是（如何）使用 GparsPool 可以做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-07T09:54:15.763

您可以使用数据流：

```
import groovyx.gpars.dataflow.*
import static groovyx.gpars.dataflow.Dataflow.task

def forecastData = new DataflowVariable()
def actualData = new DataflowVariable()
def result = new DataflowVariable()

task {
  forecastData << cosmoSegmentationService.getForecastSegmentCharacteristics( dataset, planPeriod, thruPeriod )
}

task {
  actualData << cosmoSegmentationService.getMeasuredSegmentCharacteristics( dataset, fromPeriod, thruPeriodActual )
}

task {
  result << forecastData.val + actualData.val
}

println result.val 
```

GPars 0.9 的替代方案：

```
import static groovyx.gpars.GParsPool.withPool

def getForecast = {
  cosmoSegmentationService.getForecastSegmentCharacteristics( dataset, planPeriod, }

def getActual = {
  cosmoSegmentationService.getMeasuredSegmentCharacteristics( dataset, fromPeriod, thruPeriodActual )
}

def results = withPool {
  [ getForecast.callAsync(), getActual.callAsync() ]
}

println results*.get().sum() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-07T11:21:50.727

```
import groovyx.gpars.GParsPool    

List todoList =[]

todoList.add {
    for(int i1: 1..100){
        println "task 1:" +i1
        sleep(300)
    }
}
todoList.add {
    for(int i2: 101..200){
        println "task 2:" +i2
        sleep(300)
    }
}

GParsPool.withPool(2) {
    todoList.collectParallel { closure->closure() }
} 
```

# php - onchange 函数参数中的 php 回显错误

> ID：13760399
> 
> 赞同：-2
> 
> 时间：2012-12-07T09:36:20.873
> 
> 标签：php, codeigniter

```
<?php echo form_dropdown('ord_id',$pacc_ord, $value['pac_cod'], 'id="IdPac" onchange="func1(this),func2(this, echo $value['prod_id'];);"')?> 
```

我需要 在我的函数参数中打印`$value['prod_id']`(number)的值。
但它不起作用

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:39:21.490

`<?php echo form_dropdown('ord_id',$pacc_ord, $value['pac_cod'], 'id="IdPac" onchange="func1(this),func2(this, '.$value['prod_id'].');"')?>`

将值作为参数传递时，您不必使用 echo。只需将（使用'..'）连接`prod_id`到最后一个参数中。

# ruby-on-rails - Rails]使用 Markdown 标记语言

> ID：13760401
> 
> 赞同：-1
> 
> 时间：2012-12-07T09:36:21.907
> 
> 标签：ruby-on-rails, markdown, markup

在我的 Rails 应用程序中，人们应该提交“帖子”。但是，在默认的脚手架中，文本输入存在一些问题：不允许HTML代码，换行不起作用等。据我所知，我需要使用markdown-markup语言来解决这个问题问题。是否有我可以遵循的指南来应用这种语言来解决我的问题？

更新：这是我的问题。

1）即使我放了一个行间距，每个句子也被组合成一行。

```
first line
second line 
```

变成

`first line second line`

2) 我无法将文本设为粗体、斜体或超链接。就像在 stackoverflow 中一样，用户应该轻松地放置`<b>`和制作粗体文本，`**`制作斜体等。并且 URL 地址应该自动转换为 href 链接。

为此，我认为我必须使用*降价*库。我可能弄错了，所以我需要有人指导我。[Markdown 上的 Railscasts](http://railscasts.com/episodes/272-markdown-with-redcarpet?view=asciicast)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:04:21.740

Well, yes, new lines in HTML have no meaning. You need to replace line breaks with `<br>` to preserve them in HTML. To *automatically* highlight links, you need to look for links in the text and wrap them in appropriate `<a>` tags. Finally, if you're not *filtering* HTML tags, they should still be in there. It all depends on what you're doing. Markdown is something entirely different, a special markup language that enables you to do the above while being easier to write than HTML. It depends on what you want to use.

# sharepoint - InfoPath 表单库的项目更新和项目更新事件接收者字段值为空

> ID：13760402
> 
> 赞同：1
> 
> 时间：2012-12-07T09:36:22.720
> 
> 标签：sharepoint, sharepoint-2007, workflow, infopath, event-receiver

我有一个 InfoPath 表单库和与之关联的自定义 Visual Studio 工作流。而且我还有一个用于图书馆的事件接收器。当我将列表项更新为以下代码部分时，事件接收器的项更新事件正在触发。

```
memoryStream = new MemoryStream(Encoding.UTF8.GetBytes(xmlDocument.OuterXml));
web.Lists[WorkflowProperties.ListId].GetItemById(WorkflowProperties.ItemId).File.SaveBinary(memoryStream); 
```

但是**After 属性**和**Before 属性**中的所有**字段都显示为 null**。 `properties.BeforeProperties["Name"]`

为什么此表单库的**Item Updated 事件**和**Item Updating 字段**值为 null？

我将 InfoPath 2007 和 Visual Studio 2008 与 SharePoint 2007 一起使用。

# php - 使用 PHP 排除 - 就 SEO 而言这很糟糕吗？

> ID：13760403
> 
> 赞同：2
> 
> 时间：2012-12-07T09:36:24.593
> 
> 标签：php, seo, head

抱歉我的愚蠢问题，但我刚刚开始处理 SEO。事情是这样的：我在 html-head 中有一个很长的元标记和链接列表。为了简化和集中维护，我想用 PHP 将整个 HEAD 排除到一个单独的文件中。

这是SEO方面的问题吗？

谢谢您的回答。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T09:38:37.753

**不**，你可以这样做，因为 php 是服务器端语言.. php 代码由带有 PHP 处理器模块的 Web 服务器解释，该模块生成生成的网页**PHP 文件作为纯 HTML 返回到浏览器**

> [**PHP 是 HTML 嵌入脚本语言：**](http://www.utexas.edu/learn/php/index.shtml)这意味着 PHP 语句和命令实际上嵌入在您的 HTML 文档中。当 Web 服务器在网页中看到 PHP 语句时，服务器会执行这些语句并将结果输出与 HTML 的其余部分一起发送。PHP命令由服务器解析

因此，无论是您自己包含标题还是通过 php 包含标题，两者都是相同的效果，并且对于 SEO 来说也是不错的做法。

这就是php的工作原理

![在此处输入图像描述](../Images/3b69ddb7dc132372f2a1e2bb3345e8e2.png)

[[[图片来源](http://www.html.net/tutorials/php/lesson1.php)]]

搜索引擎会看到他的 html 页面而不是 php，所以不用担心

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:38:32.707

只要最终的 HTML 代码保持不变，我根本看不到 SEO 会受到怎样的影响。

# linux - 如何在 Linux 上从 .so 中分出 C++ 类？

> ID：13760406
> 
> 赞同：2
> 
> 时间：2012-12-07T09:36:33.687
> 
> 标签：linux, loadlibrary, shared-libraries

我正在使用 ACE 库来做一些反应堆工作。在 linux 上，默认的 ACE 编译输出是 libACE.so。我通常使用 -lACE 编译选项来编译它，但这取决于我是否在 ld.so.conf.d 目录中配置了 libACE.conf。如果我想子类 ACE_Task，它可以从 ACE.so 导入，编译依赖于 libACE.so，如果我想动态加载 ACE.so，我该怎么做？我试过了，如果我使用 dlopen ，则会发生链接错误。那么，有什么方法可以动态加载 ACE.so 并且仍然可以像这样实现 ACE_Task 吗？

```
class test: public ACE_Task<ACE_MT_SYNCH>
{

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:06:28.613

子类化主要发生在编译时。您需要在某些头文件[s] 中适当地定义超类[es]。

在运行时，重要的是 vtable 和继承的成员函数（可能还有 RTTI）的可用性。

您可能希望将 链接`libACE.so`到您的共享对象（`dlopen`您正在构建的 -ed 事物）。这是可能的，例如`g++ -rdynamic -shared your*.pic.o -lACE -o yoursharedobject.so`

# google-drive-api - 我不知道 google drive 如何显示我的网站

> ID：13760411
> 
> 赞同：3
> 
> 时间：2012-12-07T09:36:50.227
> 
> 标签：google-drive-api

对不起，我的英语很基础。我是西班牙人，我在我的谷歌驱动器中创建了一个文件夹并上传了网站，但我看不到主页。

我的错误在哪里使它可见？谢谢你的帮助

我的网站是[http://gdriv.es/hermaja](http://gdriv.es/hermaja)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:08:07.990

当我点击 index.html.old 文件时，我看到了您的网站。但是你不能直接在谷歌驱动器上显示它，因为它只是文件存储服务。您至少需要自己的主机。

编辑：您也无法显示您的 index.php 文件，因为您的网站没有存储在适合 php 项目的环境中。

# iphone - 我如何为其他类的表格视图和 UIView 设置背景图片

> ID：13760418
> 
> 赞同：0
> 
> 时间：2012-12-07T09:37:04.530
> 
> 标签：iphone, ios, observer-pattern

当我的播放器开始播放时，我有一些带有图片的网址。我想为我的所有视图设置背景图片。我怎么能做到这一点？我需要示例代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:44:33.583

2 种方法

1）在ViewController上写一个分类，改变分类中的背景图片。

2）您可以设置主窗口的背景图像并将所有视图的背景图像设置为清晰的颜色。

我会选择第一种方法，它更优雅

# java - Tomahawk UploadedFile#getContentType() 为 ZIP 文件返回 application/octet-stream

> ID：13760423
> 
> 赞同：1
> 
> 时间：2012-12-07T09:37:27.030
> 
> 标签：java, file-upload, jsf-2, zip, tomahawk

我已经使用 Apache MyFaces Tomahawk 在 JSF 项目中利用文件上传。我已经成功检索了上传的文件，但是每次我尝试识别文件类型时，特别是对于 zip 文件，该`getContentType()`函数总是返回`application/octet-stream`. 为什么呢？

我想这是我的配置错误`web.xml`，以下是文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
    id="WebApp_ID" version="3.0">

    <display-name>Project 1</display-name>

    <context-param>
        <param-name>facelets.LIBRARIES</param-name>
        <param-value>/WEB-INF/el-taglib.xml</param-value>
    </context-param>
    <context-param>
        <param-name>org.apache.myfaces.CHECK_EXTENSIONS_FILTER</param-name>
        <param-value>true</param-value>
    </context-param>

    <servlet>
        <servlet-name>Faces Servlet</servlet-name>
        <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>Faces Servlet</servlet-name>
        <url-pattern>*.xhtml</url-pattern>
    </servlet-mapping>

    <filter>
        <filter-name>MyFacesExtensionsFilter</filter-name>
        <filter-class>org.apache.myfaces.webapp.filter.ExtensionsFilter</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>MyFacesExtensionsFilter</filter-name>
        <servlet-name>Faces Servlet</servlet-name>
    </filter-mapping>

    <mime-mapping>
        <extension>zip</extension>
        <mime-type>application/zip</mime-type>
    </mime-mapping>

</web-app> 
```

谁能帮我一把？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T18:18:08.293

Tomahawk[`UploadedFile#getContentType()`](http://myfaces.apache.org/tomahawk-project/tomahawk12/apidocs/org/apache/myfaces/custom/fileupload/UploadedFile.html#getContentType%28%29)方法的结果不是由服务器基于`web.xml`mime 映射设置，而是由客户端本身直接在`multipart/form-data`标头中设置，然后再将其发送到服务器。因此，它只是从请求正文中提取的。

如果它没有返回您期望或期望的值，那么您始终可以根据上传文件的文件扩展名检查 mime 类型[`ExternalContext#getMimeType()`](http://docs.oracle.com/javaee/6/api/javax/faces/context/ExternalContext.html#getMimeType%28java.lang.String%29)。

```
String contentType = externalContext.getMimeType(uploadedFile.getName()); 
```

但是请记住，客户端可以伪造文件扩展名（可能是`multipart/form-data`标题中的内容类型！），因此基于扩展名（以及检索/确定的内容类型！）的检测不一定足够强大。例如，客户端可能已重命名`foo.exe`为`foo.zip`左右。确定文件是否真的是 ZIP 文件的最佳方法是将文件作为 ZIP 文件打开并捕获任何引发的异常。标准 Java SE API[`ZipFile`](http://docs.oracle.com/javase/6/docs/api/java/util/zip/ZipFile.html)为此提供了构造函数。

假设您正在存储上传的文件，如下所示（`FilenameUtils`并且`IOUtils`来自 Apache Commons IO，您应该已经拥有它，因为它是 Tomahawk 所需的依赖项之一）：

```
String prefix = FilenameUtils.getBaseName(uploadedFile.getName()); 
String suffix = FilenameUtils.getExtension(uploadedFile.getName());
File uploadLocation = new File("/path/to/uploads"); // Make it configureable!
File file = File.createTempFile(prefix + "-", "." + suffix, uploadLocation);

InputStream input = uploadedFile.getInputStream();
OutputStream output = new FileOutputStream(file);

try {
    IOUtils.copy(input, output);
} finally {
    IOUtils.closeQuietly(output);
    IOUtils.closeQuietly(input);
} 
```

然后您应该能够确定它是否是有效的 ZIP 文件，如下所示：

```
try {
    new ZipFile(file);
} catch (ZipException e) {
    // Here, we know that it's not a valid ZIP file!
} 
```

### 也可以看看：

*   [浏览器何时将 application/octet-stream 作为 Content-Type 发送？](https://stackoverflow.com/questions/2426773/when-do-browsers-send-application-octet-stream-as-content-type)

# phpunit - 抛出错误异常的phpunit失败消息

> ID：13760426
> 
> 赞同：1
> 
> 时间：2012-12-07T09:37:43.113
> 
> 标签：phpunit, message

我正在使用 phpunit 进行 TDD 方法。目前，我已经编写的一些测试失败了，因为我在等待其他人赶上我的测试。因此，我想为现在失败的每个断言打印一个失败的断言消息，例如

```
$this->assertTrue($now_its_false, '> my friend should fix method X to return Y'); 
```

这适用于标准断言，但我不知道在测试异常时如何打印此类消息。例如，我测试了一个应该引发异常的方法，但它没有。我的代码如下所示：

```
public function testSomethingIncorrect() {
  $this->setExpectedException('SomeException');
  $object->doSomethingThatShouldRaiseException();
  $this->fail('This call should raise exception!');
} 
```

如何在此处打印测试失败消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:58:13.143

没有“明确”的方法来实现这一目标。您会注意到它`PHPUnit_Framework_Constraint_Exception`不采用任何描述参数。

无论如何，您可以“围绕”进行。

```
try {
    $object->doSomethingThatShouldRaiseException();
    $this->fail('This call should raise exception!');
} catch ('SomeException') {

} 
```

# c# - 如何解决以下 SQL 查询？

> ID：13760430
> 
> 赞同：-1
> 
> 时间：2012-12-07T09:37:59.713
> 
> 标签：c#, sql

```
select Preacher_Id , Name from Preacher_SkillDetail
where Preacher_Id not in (
      where Preacher_FK from Event_Preacher
      where (@newstartdate <= Start_Date and @newenddate >= Start_Date) 
      or (@newstartdate <= End_Date and @newenddate >= End_Date)
      or (@newstartdate >= End_Date and @newenddate  <= End_Date)
      or (@newstartdate <= Start_Date and @newenddate >= End_Date)
) 
```

我想要`bind the output`一个`ropdowncontrol`

我怎么能在 c#.net 中做到这一点？我有变量`newstartdate and newenddate as Date`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:42:40.157

```
DataTable GetData() {

    SqlConnection connection=new SqlConnection();
    connection.ConnectionString="Put your connection string";

    SqlCommand command = connection.CreateCommand();

    command.CommandText = "Your Sql Query Geos here";

    DataTable dt = new DataTable();

    try
    {
        command.Connection.Open();
        dt.Load(command.ExecuteReader());

    }
    catch (Exception ex)
    {

        // Log ur error;

    }
    finally {

        connection.Close();
    }
    return dt;
    } 
```

然后

```
Dropdownlist.Datasource=GetData();
Dropdownlist.DataBind(); 
```

在控件属性中指定您的 TextFiled 和 ValueField。

我认为这应该有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:15:40.430

您必须绑定下拉列表的 DataTextField 和 DataValueField。DataTextField 是向您显示下拉列表中的元素的字段。DataValueField 保存这些字段的 ID。如果您的查询返回类似 Peacher_id | 姓名 1 | 桃子 1 2 | 桃子 2 3 | Peacher 3 理想情况下，Peacher_Id 应该绑定到 DataValueField，Name 应该绑定到 DataTextField。您可以转到下拉列表属性并设置这些属性。之后，您只需要将数据源绑定到下拉列表。

下拉列表.DataSource = ds; 下拉列表.DataBind();

# wpf - 如何限制文本框中的焦点

> ID：13760434
> 
> 赞同：0
> 
> 时间：2012-12-07T09:38:17.023
> 
> 标签：wpf, c#-4.0, wpf-controls

我有一个带有少量控件的对话框。有一个`TextBox`名为*txtControl*和两个`Buttons` *Accept*和*Cancel*。我希望一旦焦点位于*txtControl*中，焦点就不会消失，直到我单击*Accept*或*Cancel*按钮。

如果我尝试单击任何其他控件而不单击*Accept*或*Cancel*按钮，则焦点应保留在*txtControl*中。此外，我不想禁用或灰显其他控件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:59:11.087

您可以在根目录中处理 OnPreviewMouseDown，只要焦点位于 txtControl 上，并且鼠标不在 txtControl、Accept 或 Cancel 上方；

```
void mainWindow_previewMouseDown(object sender, MouseEventArg e)
{

     if (txtControl.IsFocusWithin)         
     {
          if (txtControl.IsMouseOver == false ||
             accept.IsMouseOver ==false ||
             cancel.IsMouseOver ==false)
          {
              e.Handle = true;
          }
      }
} 
```

你也可以用 PreviewKeyDown 来查看 Tab 是否被按下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:02:26.223

这种限制不是一个好主意。

无法使用鼠标并使用 tab 键在控件之间移动的人将如何使用您的应用程序？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T11:01:49.957

您可以在根级别处理[PreviewLostKeyboardFocus 。](http://msdn.microsoft.com/en-us/library/system.windows.input.keyboard.previewlostkeyboardfocus.aspx)

在xml中

```
<Window ... PreviewLostKeyboardFocus="Win_PreviewLostKeyboardFocus"> 
```

在 C# 中

```
private void Win_PreviewLostKeyboardFocus(object sender, KeyboardFocusChangedEventArgs e)
    {
        // change focus behavior only when txtControl 
                          // is the element losing focus
        if (e.OldFocus != txtControl)
            return;

                          // if new element with focus is not Accept and is not Cancel, then disable the focus change
        if (e.NewFocus != Accept && e.NewFocus != Cancel)
            e.Handled = true;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T13:58:23.453

我会创建一个附加属性来寻找失去键盘焦点的文本框，然后再次将焦点重新回到文本框。

附加属性将是这样的。

```
 public class TextBoxExtras : DependencyObject
    {
        public static bool GetRetainsFocus(DependencyObject obj)
        {
            return (bool)obj.GetValue(RetainsFocusProperty);
        }

        public static void SetRetainsFocus(DependencyObject obj, bool value)
        {
            obj.SetValue(RetainsFocusProperty, value);
        }

        public static readonly DependencyProperty RetainsFocusProperty =
            DependencyProperty.RegisterAttached("RetainsFocus", typeof(bool), typeof(TextBoxExtras), new PropertyMetadata(false, new PropertyChangedCallback((s, e) =>
                {
                    TextBox textBox = s as TextBox;
                    if (textBox != null)
                    {
                        if (!(bool)e.NewValue && (bool)e.OldValue)
                            textBox.LostKeyboardFocus -= textBox_LostKeyboardFocus;
                        if ((bool)e.NewValue)
                        {
                            textBox.LostKeyboardFocus += textBox_LostKeyboardFocus;
                            textBox.Unloaded += textBox_Unloaded;
                        }
                    }
                })));

        static void textBox_LostKeyboardFocus(object sender, KeyboardFocusChangedEventArgs e)
        {
            TextBox textBox = sender as TextBox;
            if (textBox != null )
                if (textBox.Focusable)
                    textBox.Focus();
        }

        static void textBox_Unloaded(object sender, RoutedEventArgs e)
        {
            TextBox textBox = sender as TextBox;
            if (textBox != null)
            {
                textBox.LostKeyboardFocus -= textBox_LostKeyboardFocus;
                textBox.Unloaded -= textBox_Unloaded;
            }
        }
    } 
```

并像这样在 XAML 中使用它，第一个文本框是“保持焦点”的文本框

```
<Window x:Class="WpfApplication4.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WpfApplication4"
        Background="Black"
        Title="MainWindow" Height="350" Width="525">
    <Grid>
        <TextBox local:TextBoxExtras.RetainsFocus="True" Margin="10,10,387,283"/>        
        <TextBox HorizontalAlignment="Left" Height="23" Margin="10,37,0,260" Width="120" />
        <Button Content="Accept" HorizontalAlignment="Left" Margin="10,81,0,0" VerticalAlignment="Top" Width="75" />
    </Grid>
</Window> 
```

# javascript - 使用 acrobat javascript 编写文本文件

> ID：13760440
> 
> 赞同：6
> 
> 时间：2012-12-07T09:38:37.740
> 
> 标签：javascript, acrobat

尝试使用 AcroJS 写入带有 Adob​​e Acrobat Reader 的文本文件。

作为一个概念，我了解了如何在 Acrobat 中使用受信任的函数，但是当我尝试运行以下示例以使用 this.saveAs(..) 以不同的名称保存（与原始问题不同）的 pdf 表单时收到错误。我的问题有两个；

1-为什么我会收到“安全设置阻止访问此属性或方法”错误，我该如何摆脱它？

javascript 文件夹中的受信任函数是 follwos (copeid off the web)

```
 var mySaveAs = app.trustedFunction( function(cFlName)
   {
        app.beginPriv();
       try{
             this.saveAs(cFlName);
           }
         catch(e){
              app.alert("Error During Save " + e.message );
              }
         app.endPriv();
    }); 
```

我正在调用文档中的受信任函数作为 follwos 并期望在“C：/test”中生成一个名为 sample.pdf 的文件

```
 if(typeof(mySaveAs) == "function")
     { 
         mySaveAs("/C/test/sample.pdf");
     }
     else
     {
      app.alert("Missing Save Function");
     } 
```

2-如何写入文本文件？在这里，我想从 PDF 表单中提取一些字段值并将它们写入文本文件（或 XML）！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T18:00:07.347

1.  您可能已经猜到，这是一种防止恶意脚本造成破坏的安全措施。您需要关闭安全设置。为此，按 Ctrl+K 进入首选项，转到增强安全选项卡并禁用它。

    有关增强安全性的其他信息，请参阅：http: [//www.adobe.com/devnet-docs/acrobatetk/tools/AppSec/enhanced.html](http://www.adobe.com/devnet-docs/acrobatetk/tools/AppSec/enhanced.html)

2.  据我所知，没有任何函数可以让您将任意数据写入文本文件或 XML 文件。但是，您有几个选择：

    *   使用`Doc.exportAsText`（文本）和`Doc.exportAsFDF`（XML）从精心设计的字段中导出数据。这不是很简单而且有点尴尬，但它确实有效。

    *   Use `Net.HTTP.request` or `Net.SOAP` to send data to an ad-hoc local web server (eg: something simple, running Python or PHP) and let them handle the request. This allows you to do pretty much anything you want, but requires more work to setup the server.

    See: [Acrobat JS API Reference](http://livedocs.adobe.com/acrobat_sdk/10/Acrobat10_HTMLHelp/wwhelp/wwhimpl/js/html/wwhelp.htm)

# ruby - ruby on rails 中的 If 语句

> ID：13760443
> 
> 赞同：0
> 
> 时间：2012-12-07T09:38:51.877
> 
> 标签：ruby, ruby-on-rails-3.2

我的任务是列出学生的详细信息。我想根据姓名和城市进行搜索。如果`cityId==0 and name=''`，那么我想列出我所有的学生详细信息。我怎样才能做到这一点？我以错误的方式做到了这一点。控制器是：

```
 if(Student.where(params[:cityId])==0)
    studentcount = Student.count()
    @students = Student.limit(params[:jtPageSize]).offset(params[:jtStartIndex]).order(params[:jtSorting])
    @jtable = {'Result' => 'OK','Records' => @students.map(&:attributes), :TotalRecordCount => studentcount}
    else
    studentcount = Student.where("name LIKE ? AND city = ?", "%#{params[:name]}%", params[:cityId]).count()
    @students = Student.where("name LIKE ? AND city = ?", "%#{params[:name]}%", params[:cityId]).limit(params[:jtPageSize]).offset(params[:jtStartIndex]).order(params[:jtSorting])
    @jtable = {'Result' => 'OK','Records' => @students.map(&:attributes), :TotalRecordCount => studentcount} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:43:18.533

您的情况应如下所示：

```
 if( Student.where(:cityId => params[:cityId]).count == 0 ) 
```

您拥有的 if 语句测试 a`ActiveRecord::Relation`和 Integer 的相等性，这永远不会是真的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:14:35.730

```
if User.where(city_id: params[:cityId]).empty? 
```

# android - Android：单击通知应停止正在运行的服务

> ID：13760445
> 
> 赞同：1
> 
> 时间：2012-12-07T09:39:02.197
> 
> 标签：android, service, android-notifications

我有一个服务，它在启动时会在状态栏中发出持续通知，我的意图是当点击通知时，它将停止服务，并删除通知，

我只是想不出点击通知会破坏我的服务的部分。

这里有什么帮助吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:53:01.730

嘿，这是很简单的尝试

```
 notification.setItems(configFiles, new DialogInterface.OnClickListener(){
                @Override
                public void onClick(DialogInterface dialog, int which) {
                    try {
                        stopService()//put your method for stop the service
                    } catch (Exception e) {

                        e.printStackTrace();
                    }               
                }}); 
```

让我知道它对你有帮助。

# php - Mysql动态列与php

> ID：13760447
> 
> 赞同：1
> 
> 时间：2012-12-07T09:39:09.893
> 
> 标签：php, mysql

我有一个问题如何在mysql中存储一些数据。我有一个网站，当按下链接时，它会将一些数据传递给 php 文件，该文件使用 get 读取这些数据并写入数据库（mysql）。我正在传递campaign_id 和未知数量的参数。

```
http://domain.com/somefile.php?campaignid=1&parameter1=sometext1&parameter2=sometext2&parameter3=sometext3,....etc.. 
```

我不知道参数的实际数量，因为用户在某种 cms 中制作它们。我面临的问题是如何将它们存储在数据库中。我想像下面这样，但我不确定它是否是正确和最有效的方法：

```
Combinations Table
-combination_id (Primary key and auto increment)
-campaign_id
-parameter1
-parameter2
-parameter3
-parameter4
-parameter5
-parameter6
-parameter7
-parameter8
-parameter9
-parameter10 
```

在此示例中，我假设用户不会添加/使用超过 10 个参数（我认为这是蹩脚的，但我无法获得更好的解决方案）

另外，如果我使用这种设计，我假设我需要检查这个文件，如果每个参数都存在（如果它被传递），我需要从哪里获取它们并写入数据库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:42:36.430

您必须规范化您的架构。

假设以下表格：

```
Entity: id, campaign_id, other fields.
Parameter: id, entityId, parameterValue. 
```

这是一个多对一的关系。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:42:45.250

将所有参数作为 json 存储在一个表行中怎么样？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:42:43.113

你可以尝试这样的事情：

*   combination_id（主键自动递增）
*   Campaign_id（索引/外键/不能是唯一的！）
*   参数名称
*   参数值

您必须为获得的每个参数创建一个条目，但理论上您可以添加一千个或更多参数。

虽然可能不是最快的方法，并且可能有点难以使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T09:50:40.540

我认为这是 nosql 数据库的那种数据......至少，试图将它强制到 sql 数据库中总是以某种形式结束。（去过那里做...）

据我所知，您有三种不同的存储方式：

1.  正如你所提议的。可能是处理它的最简单方法，也可能是最有效的方法。但是，目前你得到了 11 个参数来解决主要问题......

2.  制作参数表 - parameter_id，-campaign_id 参数（可能的参数名称，如果重要的话） - 这为您提供了完全的灵活性 - 但除了搜索单个值之外，其他一切都变得更加困难，

3.  组合参数并将它们全部存储在文本或 varchar 字段中。这可能比 1 更有效，除了搜索单个参数值。

    如果我可以添加

4.  使用具有数组类型的数据库系统，例如 postgresql

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-07T09:54:58.977

如果您不知道将通过 url 传递的参数的实际数量，最好的选择是存储一个**campaign_id**的无限数量的值。

为此，您可以在表中创建多行。像，

```
insert into table_name values(<campaign_id>,<parameter1>,<sometext>)
insert into table_name values(<campaign_id>,<parameter2>,<sometext>)
insert into table_name values(<campaign_id>,<parameter3>,<sometext>)
insert into table_name values(<campaign_id>,<parameter4>,<sometext>) 
```

假设**campaign_id**在url 中是唯一的。

# java - 在表单表 apache 中保存复选框状态单击

> ID：13760449
> 
> 赞同：0
> 
> 时间：2012-12-07T09:39:16.693
> 
> 标签：java, click-framework

我有一个 apache 点击页面，其中包含一个带有操作链接和复选框的表格。表也​​有分页器。一旦用户通过选择复选框从表中选择了一些条目，他就可以通过选择表单上的提交按钮来执行操作。但是当用户从一个表格页面移动到另一个表格页面时，复选框不会保留其状态。我尝试将选定的条目保存在静态数组列表中，但它没有被填充。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-16T05:43:08.560

Try following steps:
1\. make a hidden field on java page. add it to the form.
2\. onclick of every checkbox set the value of hiddenfield using javascript function.
3\. add dummy form to you htm page with dummy hidden submit. like

```
<form name="dummyForm" action="" method="POST" >
<input type="hidden" name="dummyHiddenCBSelected" value="" />
</form> 
```

4\. on java page table paging link call the javascript function to submit the above dummy form. eg: table.getControlLink().setAttribute("onclick", "tableAction(this); return false;");

and javascript function like:

```
function tableAction(_anchorObj) {

  var linkHref;  
  linkHref = _anchorObj.getAttribute("href");

  //Set the value in hidden field
  var hiddenCBSelected = document.getElementById('your hiddenfield');
  document.getElementsByName("dummyHiddenCBSelected")[0].value = hiddenCBSelected.value;

  //Set the form href and submit form
  document.getElementsByName('dummyForm')[0].action = linkHref;
  document.getElementsByName('dummyForm')[0].submit();

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-08T23:08:05.640

Click 是一个无状态的框架。引用[文档](http://click.apache.org/docs/click-api/org/apache/click/Stateful.html)：

> Click 不会自动保存和恢复控件状态。相反，状态保存和恢复由开发人员通过公共 API 完全控制。

正如您从 Stateful interface 的文档中看到的那样，几个控件实现了该协定，并使用[“搜索表页面”示例](http://click.avoka.com/click-examples/source-viewer.htm?filename=WEB-INF/classes/org/apache/click/examples/page/table/SearchTablePage.java)作为参考，您可以实现您的用例。

H,

吉尔伯托

# pdf - 比较 2 个 pdf - 错误

> ID：13760454
> 
> 赞同：2
> 
> 时间：2012-12-07T09:39:30.010
> 
> 标签：pdf, delegates, compare, decode

我必须在视觉上比较两个 pdf 并获得输出 pdf。为此，我尝试了下面提到的其他链接中提到的步骤。

[两个pdf文件的比较](https://stackoverflow.com/questions/6704594/comparison-of-two-pdf-files/13758709#13758709)

我安装了 ImageMagick、pdftk、Ghostscript。在尝试比较时，使用上面提到的 cmd，

比较 \ -verbose \ -debug coder -log "%u %m:%l %e" \somewhere/firstpdf_page_001.pdf \somewhere/2ndpdf_page_001.pdf \ -compose src \somewhereelse/diff_page_001.pdf 我收到错误消息。

C:\pdftk\ImageMagick-6.7.3-Q16>compare -verbose -debug coder -log "%u %m:%l %e" "C:\Users\velprakashk\Desktop\Velu\test.pdf" "C :\Users\velprakashk\Desktop\Velu\ test2.pdf" -composite src "C:\Users\velprakashk\Desktop\Velu\rrr.pdf" Magick: 没有此图像格式的解码委托 C:\Users\velprakashk\Desktop \V elu\test.pdf'@错误/构成.c/ReadImage/532。Magick：此图像格式没有解码委托C:\Users\velprakashk\Desktop\V elu\test2.pdf'@error/constitute.c/ReadImage/532。

谁能指导我...我要比较的 2 个 pdf 只有 1 页...

# asp.net - 从 ashx 页面访问文本框值

> ID：13760457
> 
> 赞同：0
> 
> 时间：2012-12-07T09:39:39.477
> 
> 标签：asp.net, vb.net, master-pages, ihttphandler

这是我在母版页中的表单标签：

`<form id="form1" runat="server" action="Handler.ashx" method="POST" enctype="multipart/form-data">`

`TextBox`我的内容页面中有一个：

`<asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>`

我想访问页面`TextBox`中的值`Handler.ashx`或将`TextBox`值作为`action`属性中的查询字符串发送，如下所示`<form id="form1" runat="server" action="Handler.ashx?textBoxVal=SOMETHING" method="POST" enctype="multipart/form-data">`

这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:49:44.820

我相信问题将是访问 GenericHttpHandler 中文本框的 ID（ClientID 或 UniqueID）。

但是，如果您将**ClientIDMode="Static"**设置为 TextBox 属性，如果您使用***ASP.Net 4***并尝试以下代码，则有可能

```
 context.Request.Params("TextBox1") 
```

# build - 如何将 OLEDB 提供程序添加到基于 tfs 的持续集成中？

> ID：13760458
> 
> 赞同：0
> 
> 时间：2012-12-07T09:39:41.337
> 
> 标签：build, tfs, oledb, provider, continuous

每次我在 TFS 上开始构建时，都会收到一条错误消息，指出本地计算机上缺少 OLEDB 提供程序：

测试方法 BookLibrary.UnitTest.DatabaseCommunicationTest.AddBookTest 抛出异常：System.InvalidOperationException：“Microsoft.ACE.OLEDB.12.0”提供程序未在本地计算机上注册。

是否有任何选项可以将“Microsoft.ACE.OLEDB.12.0”提供程序添加到 TFS 连续构建中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T20:21:59.723

您是否尝试过登录构建机器并安装[Microsoft Access Database Engine 2010 Redistributable](http://www.microsoft.com/en-us/download/details.aspx?id=13255)

# com - 以编程方式卸载/清除 IE ActiveX 插件 (win32)

> ID：13760460
> 
> 赞同：0
> 
> 时间：2012-12-07T09:39:52.827
> 
> 标签：com, activex, cab, inf, ieaddon

我正在尝试清理 ActiveX IE 插件留下的痕迹。插件（COM DLL）是使用 cab 文件安装的。

手动，IE -> Manage Add-ons -> 打开插件，REMOVE 也无济于事。它会从 IE 中清除插件，但会留下注册表痕迹！此外，它会引发运行时错误！

> 程序：C:\Program Files\Internet Explorer\EInstal.exe
> 
> R6034：应用程序尝试错误地加载 C 运行时库。

所以，我认为用于安装的 inf 文件没有正确卸载插件的信息。我对吗？（%alluserappdata% 中的内容）

**从 IE 中删除附加组件时内部会发生什么？** - 它使用 inf 文件吗？或者它是否尝试在注册的 DLL 中调用 UnregisterServer 调用？

期待您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-05T08:49:49.873

[使用Registry funcions](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724875%28v=vs.85%29.aspx "注册表功能")清除所有留下的注册表项。

找不到任何其他解决方案。生成的cab文件在ini文件中没有卸载Add-on的任何信息。

# authentication - 用于登录网站的生物指纹

> ID：13760464
> 
> 赞同：4
> 
> 时间：2012-12-07T09:40:03.433
> 
> 标签：authentication, web, security, biometrics

有没有办法使用指纹对网站进行身份验证？

我在想下面的场景。

*   服务器具有所有有效用户的 ISO 19794-2 指纹模板。
*   客户端机器有一个指纹扫描仪。
*   客户在浏览器上打开网站
*   浏览器有 Java Applet/ActiveX 控件/HTML5 对象从扫描仪获取指纹模板并发送到网站。
*   网站根据指纹允许/禁止。

但是，这似乎很不安全。获取别人指纹的 jpg 并将其转换为相同的 ISO 19794-2 模板并不难。然后通过将用户 ID 和模板发送到网站来以编程方式登录网站。

是否有允许人们使用指纹登录网站的安全算法/设计？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T10:46:27.023

这是指纹扫描仪和您网站的验证逻辑之间的[可信路径问题。](http://en.wikipedia.org/wiki/Trusted_path)如果有人可以伪装成有效的客户并向您的应用程序提交登录请求，那么您的方案就会被破坏。

我认为你能做的最好的是使用两因素身份验证，我会请求用户密码，并将其作为输入提供给一些 PKDF，并用它加密登录请求，这样如果有人得到用户指纹，他就不会能够在不知道用户密码的情况下伪造登录请求。此外，生物识别主要是作为额外的身份验证因素完成的，而不是唯一的一个。

如果你不想这样做，你可以混淆应用程序代码，用一次性密钥发出它，这将在很短的时间内有效，以最大限度地减少逆向工程的风险，并用这个密钥签署请求，但它是不是很安全，它需要大量的工作而没有任何显着的安全性增加。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-10-23T03:20:58.097

从客户端读取指纹并进行身份验证是很有可能的。但这必须得到扫描仪制造商的支持。链接：[http](http://camsunit.com/application/javascript-based-fingerprint-scanner-for-website-authentication-and-attendance.html) ://camsunit.com/application/javascript-based-fingerprint-scanner-for-website-authentication-and-attendance.html共享用于与指纹扫描仪通信的 javascript API。其中一项操作是 CaptureAndVerify，它使用新捕获的模板验证加密的现有模板，并将响应直接传递给服务器，以确保安全地进行身份验证。

# jsp - 选中复选框后获取servlet中jsp行的更新值列表

> ID：13760465
> 
> 赞同：3
> 
> 时间：2012-12-07T09:40:04.723
> 
> 标签：jsp, servlets

当我在更新两个或更多行列并尝试进入 servlet 后尝试获取值时，我在 servlet 中只获得一个值，我必须发送两行或更多行，或者我们可以将更新的项目列表说给另一个 servlet 什么我正在尝试做我已经写了她请帮助我，我是 servlet 和 jsp 的新手

```
 <%@ page language="java" contentType="text/html; charset=ISO-8859-1"
        pageEncoding="ISO-8859-1"%>
    <%@ page import="com.nousinfo.tutorial.employee.service.model.bo.EmployeeProjectBO"%>
    <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
    <%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
    <%@page import="com.nousinfo.tutorial.employee.service.model.bo.EmployeeBO"%>
    <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
    <html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>Update Project</title>
    <link rel="stylesheet" href="css/style.css" type="text/css"></link>

</head>

    <body >

        <form action="ProjectUpdateServlet">
        <table border="1" width="500" id="tbl">
                <tr>
                    <td width="234"><b>click</b></td>   
                    <td width="119"><b>Employee Number</b></td>
                    <td width="234"><b>Project Code</b></td>
                    <td width="234"><b>Start Date</b></td>
                    <td width="234"><b>End Date</b></td>
                    <td width="234"><b>Role</b></td>

                </tr>

            <c:forEach var="employeeProjectBO" items="${sessionScope.projectList}">
                <tr>
                    <td><input type="checkbox"  value='${employeeProjectBO.projectCode}' name="projectCode"></td>
                    <td><input type="text" value='${employeeProjectBO.employeeNumber}' name="employeeNumber" readonly="readonly"/></td>
                    <td><input type="text" value='${employeeProjectBO.projectCode}' name="projectCode" readonly="readonly"/></td>
                    <td><input type="text" value='${employeeProjectBO.startDate}'name="startDate"/></td>
                    <td><input type="text" value='${employeeProjectBO.endDate}' name="endDate"/></td>
                    <td><input type="text" value='${employeeProjectBO.role}' name="role"/></td>
                        <td><input type="hidden" name="updateStatusProject" value="M" /></td>
                </tr>
            </c:forEach>
        </table>

                <p>&nbsp;</p>
                <br />
                <table width="200" border="0" align="center">
                    <tr>

                        <td><center>
                                <input type="submit" name="submit" value="update" onclick="self.close()">
                            </center></td>

                        <td><center>
                                <input type="button" name="cancle" value="cancle"
                                    onclick="self.close()"/>
                            </center></td>
                    </tr>
                </table>
                <hr size="1" width="786">
                <p>&nbsp;</p>
        </form>
        </body>
        </html> 
```

这是我的 servlet

```
 package com.nousinfo.tutorial;

import java.io.IOException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.nousinfo.tutorial.employee.service.model.bo.EmployeeProjectBO;

/**
 * Servlet implementation class ProjectUpdateServlet
 */
public class ProjectUpdateServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;

    /**
     * @see HttpServlet#HttpServlet()
     */
    public ProjectUpdateServlet() {
        super();
        // TODO Auto-generated constructor stub
    }

    protected void service(HttpServletRequest request,
            HttpServletResponse response) throws ServletException, IOException {
            String[] projectCode=   request.getParameterValues("checkedProject");
             for(int i=0; i<projectCode.length; i++) {
                    System.out.println(projectCode[i]);}
        System.out.println(request.getSession().getAttribute("projectList"));
        if (request.getParameter("submit") != null) {
            request.getSession().setAttribute("employeeProjectBO",
                    setEmployeeProject(request));
        }

    }

    public EmployeeProjectBO setEmployeeProject(HttpServletRequest request) {
        EmployeeProjectBO employeeProjectBO = new EmployeeProjectBO();
        String[] projectCode=   request.getParameterValues("checkedProject");

         for(int i=0; i<projectCode.length; i++) {

        employeeProjectBO.setUpdateStatus(request.getParameter("updateStatusProject").charAt(0));

        employeeProjectBO.setEmployeeNumber(Long.parseLong(request
                .getParameter("employeeNumber")));
        employeeProjectBO.setProjectCode(request.getParameter("projectCode"));
        employeeProjectBO.setStartDate(new java.sql.Date(getDate(
                request.getParameter("startDate")).getTime()));
        employeeProjectBO.setEndDate(new java.sql.Date(getDate(
                request.getParameter("endDate")).getTime()));
        employeeProjectBO.setRole(request.getParameter("role"));
        System.out.println(request.getParameter("role"));}
        return employeeProjectBO;
    }

    private static Date getDate(String source) {
        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd");
        try {
            return format.parse(source);
        } catch (ParseException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            return new Date();
        }
    }
} 
```

![在此处输入图像描述](../Images/d55de302867cd62f5ef55572e51c84cf.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T00:24:06.167

1) 您应该为复选框 name="projectCode" 创建不同的名称，例如将employeeProjectBO.projectCode 添加到此输入名称

2）在小服务程序中

```
for(int i=0; i<projectCode.length; i++) {
request.getParameterValues("checkedProject"+projectCode.getProjectCode);
…
} 
```

# elasticsearch - 无法在弹性搜索索引中的字符串中搜索字符串

> ID：13760468
> 
> 赞同：3
> 
> 时间：2012-12-07T09:40:10.290
> 
> 标签：elasticsearch

我正在尝试使用全名匹配和部分名称匹配为我的 elasticsearch 实例设置映射：

```
curl -XPUT 'http://127.0.0.1:9200/test/?pretty=1'  -d '{
  "mappings": {
    "venue": {
      "properties": {
        "location": {
          "type": "geo_point"
        },
        "name": {
          "fields": {
            "name": {
              "type": "string",
              "analyzer": "full_name"
            },
            "partial": {
              "search_analyzer": "full_name",
              "index_analyzer": "partial_name",
              "type": "string"
            }
          },
          "type": "multi_field"
        }
      }
    }
  },
  "settings": {
    "analysis": {
      "filter": {
        "swedish_snow": {
          "type": "snowball",
          "language": "Swedish"
        },
        "name_synonyms": {
          "type": "synonym",
          "synonyms_path": "name_synonyms.txt"
        },
        "name_ngrams": {
          "side": "front",
          "min_gram": 2,
          "max_gram": 50,
          "type": "edgeNGram"
        }
      },
      "analyzer": {
        "full_name": {
          "filter": [
            "standard",
            "lowercase"
          ],
          "type": "custom",
          "tokenizer": "standard"
        },
        "partial_name": {
          "filter": [
            "swedish_snow",
            "lowercase",
            "name_synonyms",
            "name_ngrams",
            "standard"
          ],
          "type": "custom",
          "tokenizer": "standard"
        }
      }
    }
  }
}' 
```

我用一些数据填充它：

```
curl -XPOST 'http://127.0.0.1:9200/_bulk?pretty=1'  -d '
{"index" : {"_index" : "test", "_type" : "venue"}}
{"location" : [59.3366, 18.0315], "name" : "johnssons"}
{"index" : {"_index" : "test", "_type" : "venue"}}
{"location" : [59.3366, 18.0315], "name" : "johnsson"}
{"index" : {"_index" : "test", "_type" : "venue"}}
{"location" : [59.3366, 18.0315], "name" : "jöhnsson"}
' 
```

执行一些搜索来测试， **全名：**

```
curl -XGET 'http://127.0.0.1:9200/test/venue/_search?pretty=1' -d '{
  "query": {
    "bool": {
      "should": [
        {
          "text": {
            "name": {
              "boost": 1,
              "query": "johnsson"
            }
          }
        },
        {
          "text": {
            "name.partial": "johnsson"
          }
        }
      ]
    }
  }
}' 
```

**结果：**

```
{
  "took": 3,
  "timed_out": false,
  "_shards": {
    "total": 5,
    "successful": 5,
    "failed": 0
  },
  "hits": {
    "total": 2,
    "max_score": 0.29834434,
    "hits": [
      {
        "_index": "test",
        "_type": "venue",
        "_id": "CAO-dDr2TFOuCM4pFfNDSw",
        "_score": 0.29834434,
        "_source": {
          "location": [
            59.3366,
            18.0315
          ],
          "name": "johnsson"
        }
      },
      {
        "_index": "test",
        "_type": "venue",
        "_id": "UQWGn8L9Squ5RYDMd4jqKA",
        "_score": 0.14663845,
        "_source": {
          "location": [
            59.3366,
            18.0315
          ],
          "name": "johnssons"
        }
      }
    ]
  }
} 
```

**部分名称：**

```
curl -XGET 'http://127.0.0.1:9200/test/venue/_search?pretty=1' -d '{
  "query": {
    "bool": {
      "should": [
        {
          "text": {
            "name": {
              "boost": 1,
              "query": "johns"
            }
          }
        },
        {
          "text": {
            "name.partial": "johns"
          }
        }
      ]
    }
  }
}' 
```

**结果：**

```
{
  "took": 3,
  "timed_out": false,
  "_shards": {
    "total": 5,
    "successful": 5,
    "failed": 0
  },
  "hits": {
    "total": 2,
    "max_score": 0.14663845,
    "hits": [
      {
        "_index": "test",
        "_type": "venue",
        "_id": "UQWGn8L9Squ5RYDMd4jqKA",
        "_score": 0.14663845,
        "_source": {
          "location": [
            59.3366,
            18.0315
          ],
          "name": "johnssons"
        }
      },
      {
        "_index": "test",
        "_type": "venue",
        "_id": "CAO-dDr2TFOuCM4pFfNDSw",
        "_score": 0.016878016,
        "_source": {
          "location": [
            59.3366,
            18.0315
          ],
          "name": "johnsson"
        }
      }
    ]
  }
} 
```

**名字中的名字：**

```
curl -XGET 'http://127.0.0.1:9200/test/venue/_search?pretty=1' -d '{
  "query": {
    "bool": {
      "should": [
        {
          "text": {
            "ame": {
              "boost": 1,
              "query": "johnssons"
            }
          }
        },
        {
          "text": {
            "name.partial": "johnssons"
          }
        }
      ]
    }
  }
}' 
```

**结果：**

```
{
  "took": 2,
  "timed_out": false,
  "_shards": {
    "total": 5,
    "successful": 5,
    "failed": 0
  },
  "hits": {
    "total": 1,
    "max_score": 0.39103588,
    "hits": [
      {
        "_index": "test",
        "_type": "venue",
        "_id": "UQWGn8L9Squ5RYDMd4jqKA",
        "_score": 0.39103588,
        "_source": {
          "location": [
            59.3366,
            18.0315
          ],
          "name": "johnssons"
        }
      }
    ]
  }
} 
```

正如你所看到的，我只得到了一个场地，那就是`johnssons`。我不应该同时得到`johnssons`并`johnsson`返回吗？我在设置中做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T12:01:47.690

您正在使用`full_name`分析作为该`name.partial`字段的搜索分析器。结果，您的查询被翻译为 term 的查询，该查询`johnssons`不匹配任何内容。

您可以使用[分析 API](http://www.elasticsearch.org/guide/reference/api/admin-indices-analyze.html)查看记录的索引方式。例如，这个命令

```
curl -XGET 'http://127.0.0.1:9200/test/_analyze?analyzer=partial_name&pretty=1' -d 'johnssons' 
```

将向您展示在索引字符串“johnssons”期间将被翻译成以下术语：“jo”、“joh”、“john”、“johns”、“johnss”、“johnsso”、“johnsson”。虽然这个命令

```
 curl -XGET 'http://127.0.0.1:9200/test/_analyze?analyzer=full_name&pretty=1' -d 'johnssons' 
```

将向您展示在搜索字符串“johnssons”期间被翻译成术语“johnssons”。如您所见，您的搜索词与此处的数据不匹配。

# iphone - 在 iPad mini 中使用语音听写时 100% iPhone 应用程序崩溃

> ID：13760473
> 
> 赞同：3
> 
> 时间：2012-12-07T09:40:17.830
> 
> 标签：iphone, ipad, crash, voice, dictation

以下步骤总是会使应用程序崩溃。

1.  从应用商店安装“iPhone 应用”到我的“iPad Mini”（通用应用除外）
2.  在应用程序上找到任何文本字段并开始使用它（然后弹出键盘）
3.  触摸键盘上的“语音听写”按钮

我猜这是 iPad mini 上的 iOS 错误。有人为此受苦吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T19:04:54.120

我遇到了同样的问题，但是在将我的 iPad mini 更新到最新的 iOS 版本（撰写本文时，版本 6.1.2）后，在安装在 mini 上的 iPhone 应用程序上使用语音命令不会导致应用程序崩溃。

# ruby-on-rails - 在 rails 中使用回形针 3.3.1 进行图像裁剪

> ID：13760474
> 
> 赞同：1
> 
> 时间：2012-12-07T09:40:25.227
> 
> 标签：ruby-on-rails, image-processing, paperclip

我遵循了裁剪教程[http://asciicasts.com/episodes/182-cropping-images](http://asciicasts.com/episodes/182-cropping-images)。一切正常，图像上传成功，但裁剪不起作用。当我选择要裁剪的某个区域然后单击裁剪按钮时，回形针裁剪头像然后将其删除。这个过程在一个永无止境的循环中重复。结果，我强行停止我的服务器以停止它。

**我的控制台输出：**

```
 Started POST "/users/change_img" for 127.0.0.1 at 2012-12-07 14:59:29 +0530
     Processing by UsersController#change_img as HTML
     Parameters: {"utf8"=>"✓",   "authenticity_token"=>"k5fMemUGLIgbpIjiguRQKL9eiZ=", 
     "user"=>{"crop_x"=>"230", "crop_y"=>"0", "crop_w"=>"249", "crop_h"=>"249"},        
     "commit"=>"Crop"}

[1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 36 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: identify -format %wx%h '/tmp/freedomking20121207-23324-1y5h619.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-1y5h619.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-1y5h619.jpg[0]'
Command :: convert '/tmp/freedomking20121207-23324-1y5h619.jpg[0]' -crop 249x249+230+0 -auto-orient -resize "x100" +repage '/tmp/freedomking20121207-23324-1y5h61920121207-23324-xzdzn7'
Command :: file -b --mime '/tmp/freedomking20121207-23324-1y5h61920121207-23324-xzdzn7'
Command :: identify -format %wx%h '/tmp/freedomking20121207-23324-1y5h619.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-1y5h619.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-1y5h619.jpg[0]'
Command :: convert '/tmp/freedomking20121207-23324-1y5h619.jpg[0]' -crop 249x249+230+0 -auto-orient -resize "500x500>" '/tmp/freedomking20121207-23324-1y5h61920121207-23324-z3d34f'

Command :: file -b --mime '/tmp/freedomking20121207-23324-1y5h61920121207-23324-z3d34f'
[paperclip] deleting /home/saurabh/Workspaces/eclipse/img_cropper_ws/paperclip_cropper /public/system/avatars/36/original/freedomking.jpg
[paperclip] deleting /home/saurabh/Workspaces/eclipse/img_cropper_ws/paperclip_cropper/public/system/avatars/36/small/freedomking.jpg
[paperclip] deleting /home/saurabh/Workspaces/eclipse/img_cropper_ws/paperclip_cropper/public/system/avatars/36/large/freedomking.jpg
  [1m[35m (0.7ms)[0m  UPDATE "users" SET "avatar_updated_at" = '2012-12-07 09:29:29.286191', "updated_at" = '2012-12-07 09:29:29.639348' WHERE "users"."id" = 36
Command :: identify -format %wx%h '/tmp/freedomking20121207-23324-1nreivu.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-1nreivu.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-1nreivu.jpg[0]'
Command :: convert '/tmp/freedomking20121207-23324-1nreivu.jpg[0]' -crop 249x249+230+0 -auto-orient -resize "x100" +repage '/tmp/freedomking20121207-23324-1nreivu20121207-23324-1l0osan'
Command :: file -b --mime '/tmp/freedomking20121207-23324-1nreivu20121207-23324-1l0osan'
Command :: identify -format %wx%h '/tmp/freedomking20121207-23324-1nreivu.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-1nreivu.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-1nreivu.jpg[0]'
Command :: convert '/tmp/freedomking20121207-23324-1nreivu.jpg[0]' -crop 249x249+230+0 -auto-orient -resize "500x500>" '/tmp/freedomking20121207-23324-1nreivu20121207-23324-1irzeiq'
Command :: file -b --mime '/tmp/freedomking20121207-23324-1nreivu20121207-23324-1irzeiq'
[paperclip] deleting /home/saurabh/Workspaces/eclipse/img_cropper_ws/paperclip_cropper/public/system/avatars/36/original/freedomking.jpg
[paperclip] deleting /home/saurabh/Workspaces/eclipse/img_cropper_ws/paperclip_cropper/public/system/avatars/36/small/freedomking.jpg
[paperclip] deleting /home/saurabh/Workspaces/eclipse/img_cropper_ws/paperclip_cropper/public/system/avatars/36/large/freedomking.jpg
  [1m[36m (0.3ms)[0m  [1mUPDATE "users" SET "avatar_updated_at" = '2012-12-07 09:29:29.648417', "updated_at" = '2012-12-07 09:29:29.639348' WHERE "users"."id" = 36[0m
Command :: identify -format %wx%h '/tmp/freedomking20121207-23324-f9rq0q.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-f9rq0q.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-f9rq0q.jpg[0]'
Command :: convert '/tmp/freedomking20121207-23324-f9rq0q.jpg[0]' -crop 249x249+230+0  -auto-orient -resize "x100" +repage '/tmp/freedomking20121207-23324-f9rq0q20121207-23324-1r94x6v'
Command :: file -b --mime '/tmp/freedomking20121207-23324-f9rq0q20121207-23324-1r94x6v'
Command :: identify -format %wx%h '/tmp/freedomking20121207-23324-f9rq0q.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-f9rq0q.jpg[0]'
Command :: identify -format %m '/tmp/freedomking20121207-23324-f9rq0q.jpg[0]'
Command :: convert '/tmp/freedomking20121207-23324-f9rq0q.jpg[0]' -crop 249x249+230+0 -auto-orient -resize "500x500>" '/tmp/freedomking20121207-23324-f9rq0q20121207-23324-m0brtm'
Command :: file -b --mime '/tmp/freedomking20121207-23324-f9rq0q20121207-23324-m0brtm' 
```

如您所见，控制台中有重复的`Update`查询，永无止境。

另请注意，`module Paperclip`教程中提到的内容不起作用，因此我进行了一些更改以使其正常工作。虽然它有效但导致了这种尴尬的问题。当我在强制终止服务器后检查图像时，我看到图像在文件夹中被成功裁剪。但随后也会在循环中被删除，并重复此操作。

**我的裁剪方法**

```
 def change_img  
      @user = current_user
      @user.update_attributes(params[:user])  
      flash[:notice] = "Successfully updated Image."  
      render :action => 'crop'  
   end 
```

在上述方法中，`update attribute`查询导致了问题，并且正在更新图像并循环删除它，正如您在我的控制台输出中看到的那样。

似乎是模块中的回形针处理器导致了这种情况。但我不知道为什么。

或者

这是模型中的东西吗`User`-

类用户 < ActiveRecord::Base

```
 has_attached_file :avatar, :path => ":rails_root/public/system/:attachment/:id/:style/:filename",
                    :url => "/system/:attachment/:id/:style/:filename", 
                    :processors => [:cropper], 
                    :styles  => { :small => "100x100#", :large => "500x500>" }  

  after_update :reprocess_avatar, :if => :cropping? 

  def cropping?  
    !crop_x.blank? && !crop_y.blank? && !crop_w.blank? && !crop_h.blank?  
  end  

  def avatar_geometry(style = :original)  
    @geometry ||= {}  
    @geometry[style] ||= Paperclip::Geometry.from_file(avatar.path(style))  
  end  

  private  
  def reprocess_avatar  
    avatar.reprocess!  
  end 
```

结尾

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T20:38:38.723

调用 avatar.reprocess！来自控制器以避免递归。

# php - php数组最后一个索引

> ID：13760476
> 
> 赞同：2
> 
> 时间：2012-12-07T09:40:31.220
> 
> 标签：php

> **可能重复：**
> [如何获取数组中的最后一个键？](https://stackoverflow.com/questions/2348205/how-to-get-last-key-in-an-array)

我有一个数组

```
$arr=Array
  (
   [0] = Array
       (
           [groupid] = 1
           [groupname] = Oxy
           [members] = Array
               (
                   [0] = Array
                       (
                           [id] = 9
                           [name] =&gt; Anith
                       )

                   [1] = Array
                       (
                           [id] = 12
                           [name] = sanjay
                       )

                   [3] =Array
                       (
                           [id] = 13
                           [name] = Sooraj K
                       )

               )

       ) ) 
```

这里`$arr[0]['members'][2]`未设置。我想找到`$arr[0]['members']`这里的最后一个索引是 3 ..我怎样才能找到这个最后一个索引

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T09:42:49.843

```
$last = end($arr[0]['members']); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T10:46:33.350

这对你有用。

```
end($arr[0]["members"]);
$key = key($arr[0]["members"]); 
```

它将返回您 3。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-07T09:59:35.947

您可以简单地计算数组，即

```
$count = count($arr[0]['members']); 
```

这将给出索引的总数。然后去取它，你可以去

```
$last_array = $arr[0]['members'][$count-1]; 
```

我还建议检查它是否大于 0。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-12-07T09:47:41.587

`$last = max(array_keys($arr[0]['members']));`

当然，这意味着排序数组。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-12-07T09:45:51.567

喜欢：

```
<?php

$arr_keys = array_keys($arr[0]['members']);
$last_index = $arr_keys[count($arr_keys)-1];

?> 
```

# javascript - TinyMCE：退格问题

> ID：13760478
> 
> 赞同：1
> 
> 时间：2012-12-07T09:40:54.430
> 
> 标签：javascript, jquery, tinymce, angularjs, django-tinymce

假设在 TinyMCE 的文本区域中已经有一个文本 say `Hello World`。现在我删除 Hello 和 World 之间的空格并制作它`HelloWorld`。我立即在 Hello 和 World 之间添加一个空格以获取`Hello World`.（预期输出）

经过上述过程，我保存了文本。保存的文本是`HelloWorld`（无空格）。预期的是`Hello World`什么，但得到的是什么`HelloWorld`。

有没有人遇到过这个？如果是这样，请告诉我如何解决这个问题。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-08T21:01:27.847

没有看到实际代码就很难回答，而且我对 Angular 还是很陌生，但是由于您已经注意到您正在使用自己的包装器，因此我建议您使用更正式的解决方案，它往往不太容易出错。

看看这个： [http ://angular-ui.github.com/#directives-tinymce](http://angular-ui.github.com/#directives-tinymce)

真的希望它有帮助

# nunit - 通过 NUnit 从托管 DLL 调用 COM 时出错

> ID：13760480
> 
> 赞同：1
> 
> 时间：2012-12-07T09:41:04.087
> 
> 标签：nunit

我有一个用 C# 编写的单元测试用例，其中我必须调用一个 COM 对象。单独运行时，测试用例工作正常。通过 NUnit (v-2.5.9) 尝试时相同，但失败并出现以下异常：

```
System.ArgumentException: Could not convert argument 0 for call to StartInstall.
   at System.Dynamic.ComRuntimeHelpers.CheckThrowException(Int32 hresult, ExcepInfo& excepInfo,     UInt32 argErr, String message)
at CallSite.Target(Closure , CallSite , ComObject , String , String , String , Object )
at CallSite.Target(Closure , CallSite , Object , String , String , String , Object ) 
```

关于这种奇怪行为的任何线索？

# jquery - 如何将json结果分配给struts 2中的jsp datepickers？

> ID：13760483
> 
> 赞同：1
> 
> 时间：2012-12-07T09:41:19.857
> 
> 标签：jquery, struts2, struts2-jquery, struts2-json-plugin

我正在调用一个动作，它在 JSP 页面中返回 json 作为结果。我的问题是，如何将此 json 结果设置为我的 datepickers 名称变量。我的代码是这样的。

```
<s:url id="datePickerUrl" action="jsonReloadDatePickerAction" />
<sj:div href="%{datePickerUrl}">
     <sj:datepicker id="idStartDate" name="startDate" displayFormat="dd-mm-yy" showOn="focus"/>
     <sj:datepicker id="idEndDate" name="endDate" displayFormat="dd-mm-yy" showOn="focus" />
</sj:div> 
```

struts.xml 代码是 -

```
<action name="jsonReloadDatePickerAction"  class="com.ebhasin.fitnessbliss.actions.GraphsAction" method="reloadDatePicker">
     <result   type="json" name="success">
        <param name="includeProperties">startDate,endDate</param>
     </result>
</action> 
```

我在 JSP 页面上得到这个。

```
{"endDate":"18-11-2012","startDate":"07-12-2012"} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T21:45:08.557

将您的 datepicker-s 放入 JSP 页面（例如`dates.jsp`）并更改您的操作以返回此页面而不是 json 结果。

```
<action name="jsonReloadDatePickerAction" class="com.ebhasin.fitnessbliss.actions.GraphsAction" method="reloadDatePicker">
  <result>path_to_your_dates.jsp</result>
</action> 
```

当然，您需要在您的操作`startDate`中使用 getter/setter。`endDate``GraphsAction`

# selectonemenu - p:selectOneMenu 不显示当前选择的值，而是显示第一个值

> ID：13760487
> 
> 赞同：1
> 
> 时间：2012-12-07T09:41:34.227
> 
> 标签：selectonemenu

我对 ap:treeTable 列中的 p:selectOneMenus 有疑问。

```
<p:treeTable id="configTree" value="#{catalogBean.root}" var="element"
            expanded="true"> 
```

当前选择的值存储在 hashMap 中。在 selectOneMenu 中选择一个值后，hashMap 是正确的。当我刷新页面时，hashMap 仍然正确，但 selectOneMenu 显示默认（第一个）值，而不是 hashMap 条目的值。

```
<p:selectOneMenu rendered="#{catalogBean.hasNoLeaves(element) and catalogBean.isZeroOne(element) and element.isActivated}"
   value="#{configurationBean.map[element]}" effect="fold" style="min-width:200px;" valueChangeListener="#{configurationBean.processValueChange}" immediate="true">
    <f:selectItem itemLabel="keine Auswahl" itemValue="" />
    <f:selectItems value="#{catalogBean.getCharacteristics(element)}" var="aus"
        itemLabel="#{aus.characteristic}" itemValue="#{aus}}"/>
    <f:ajax render="@form"/>
</p:selectOneMenu> 
```

哈希映射：

```
private Map<AbstractProductStructureElement, List<AbstractProductStructureElement>> map = new HashMap<AbstractProductStructureElement, List<AbstractProductStructureElement>>(); 
```

谁能帮我解决这个问题？

# blackberry-webworks - 为黑莓网络工程应用程序创建 .p12 认证时出错？

> ID：13760489
> 
> 赞同：0
> 
> 时间：2012-12-07T09:41:39.140
> 
> 标签：blackberry-webworks

使用命令提示符和图形工具也出现此错误，如何解决，请帮助我。

```
Exception in thread "main" java.lang.NoSuchMethodError: sun.security.x509.CertAndKeyGen.getSelfCertificate(Lsun/security/x509/X500Name;Ljava/util/Date;J)Ljava/security/cert/X509Certificate;
at net.rim.device.codesigning.keytool.KeyTool.a(Unknown Source)
at net.rim.device.codesigning.keytool.KeyTool.if(Unknown Source)
at net.rim.device.codesigning.keytool.KeyTool.a(Unknown Source)
at net.rim.device.codesigning.keytool.KeyTool.main(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-10T15:10:29.327

您运行的是 32 位还是 64 位 java jdk？如果它是 64 位，那很可能是问题的一部分（如果不是全部）。

# asp.net - 从 Azure Blob 加载未编译的用户控件/页面

> ID：13760492
> 
> 赞同：1
> 
> 时间：2012-12-07T09:41:47.907
> 
> 标签：asp.net, azure, azure-blob-storage

我已经在 azure 上发布了网站。假设我有一个新的客户端订阅，所以我想要添加一个自定义页面 (aspx&aspx.cs) 或用户控制文件，然后我会将其上传到 azure blob 存储。该发布文件然后从 blob 下载该页面或用户控件并显示它。

有什么办法吗？

# templates - Joomla！3 安装模板有限制吗？

> ID：13760497
> 
> 赞同：0
> 
> 时间：2012-12-07T09:42:11.947
> 
> 标签：templates, joomla, joomla3.0

我有一个项目需要提供 250 个模板。所以最终用户可以在后端更改模板。

我的问题是关于模板的数量。250 是一个很大的数字（也许毫无意义），但却是目标。

任何人都知道如果 Joomla! 对此有什么限制吗？唯一的方法是一个一个安装？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T12:13:11.580

您可以将每个文件解压缩到“模板”文件夹中，然后在 Joomla 后端中，转到：

```
Extensions >> Extension Manager >> Discover 
```

然后点击右上角的“发现”按钮，然后将显示所有未正确安装的提取模板。全部选择它们，然后单击“安装”。

这将使生活变得更轻松，我会想的更快。

正如 Valentin Despa 所说，Joomla 3.0 是短期版本，因此如果您想要一个需要 250 个模板的大型网站，我建议您使用 Joomla 2.5，因为它是长期版本且更稳定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T11:13:30.863

我真的不知道任何强加的限制，所以你需要测试它。也许也可以重命名相同的模板并多次安装它可以解决问题。

我想强调 Joomla! 3.0 是一个短时间的版本。这意味着通过 3.0、3.1、3.2 和 3.5 版本维护 250 个模板并非易事。

双关语平衡优点/缺点。

期待其他意见。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T00:48:27.640

您可以使您的任务更容易为同一模板添加不同的样式。您可以为模板的每个版本构建不同的 CSS 文件，并让您的客户选择。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-02T22:15:58.737

没有固有的限制。问题是它是否明智。它可能包含大量文件，但您也许可以为您的 javascript 设置共享空间。最喜欢的是，正如其他人所说，您最好使用模板样式，因为很难想象 250 个不同的 index.php 文件的用例，但如果您使用 250 个不同的 css 集，当然很容易想象一个用例正在运行有很多非常不同的子站点的东西。尤其是很容易做到的引导程序。

# android - 我们可以使用 android 中的 WebSettings 在移动视图中转换不是为移动设备创建的网站吗

> ID：13760498
> 
> 赞同：1
> 
> 时间：2012-12-07T09:42:13.337
> 
> 标签：android

我有一个网站“http://aptapp.mobi/”，当我访问它时....通过我的代码

```
 WebView browser = ( WebView ) findViewById ( R.id.webkit );
    browser.loadUrl("http://aptapp.mobi"); 
```

它是桌面版本（不是为手机创建的），但是当我使用android 提供的**WebSettings**时...

```
 WebSettings web = browser.getSettings();
    web.setUserAgent(0); 
```

但它没有转换成，移动视图使用这个......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T12:29:12.593

你不能这样做。您可以在移动设备中查看桌面视图，但无需为特定网络创建移动版本，您无法在移动设备视图的浏览器中查看。

这就是为什么许多公司和社区为他们的网站制作移动版网站的原因。

因此，如果不专门创建它，就不可能在移动版本视图中拥有它。

希望你明白我的意思。

# java - 如何简化标签打印对齐配置？

> ID：13760500
> 
> 赞同：2
> 
> 时间：2012-12-07T09:42:20.687
> 
> 标签：java, jsp, pdf, printing, jasper-reports

使用 JSP 和 Jasper Reports，我制作了一个打印 A4 标签页的应用程序。

我必须根据不同的页面（2×5、2×7、3×10 和 3×11 网格）、不同的打印机（京瓷、OKI 和 HP）配置我的应用程序（在要生成的 PDF 页面上设置对齐方式）和不同的 PDF 查看器（Adobe、Foxit 和 Nitro）。

***示例：我在 Jasper Reports 中设置了一个 2×5 网格的 A4 页面，拥有 Foxit Reader 的用户将在京瓷上打印。如果另一个用户也有 Kyocera 但正在使用 Adob​​e Reader，则列之间的空间会变小。但是，如果用户有 Foxit Reader 但要在 OKI 上打印，则整个文档会向左走，甚至会被剪切。***

配置每个单独的标签页面是不可避免的，但我是否可以不必为特定的 PDF 查看器或打印机（至少其中一个）设置页面对齐方式？它可以是一种跳过 PDF 生成或所有打印机都会解释的常规配置的方法 - 让我的页面打印完全相同，无论 PDF 查看器或打印机如何。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T15:58:28.457

您确定这不是 Foxit Reader 和/或 Adob​​e Reader 中导致问题的设置吗？

我知道在 Adob​​e 阅读器中的打印对话框中有一个设置`Page Sizing & Handling`。他们应该使用`Actual Size`以便不对图像进行任何缩放或操作。

![Adobe Reader - 页面大小和处理](../Images/2bd346ad39bec48307b5d2901c4aedc1.png)

在福昕阅读器中，它位于`Print Handling`. 您需要将缩放类型设置为`None`。默认似乎是`Fit to Printer Margins`.

![福昕阅读器 - 打印处理](../Images/b4e7d24f1f1266a567e4b540de74c5ea.png)

您不必为每个 PDF 阅读器和/或每个版本和打印机组合做任何不同的事情。这是一个维护噩梦，你不应该尝试接受它。每次他们购买新打印机时，您都必须进行更改，并且可能在他们的阅读器升级时进行更改。

最好的办法是弄清楚他们为什么会产生不同的结果，然后解决这个问题，而不是蛮力解决这个问题。我很确定这更多是您的用户的培训问题，告诉他们这些设置应该可以解决问题。

* * *

**更新：**经过更多挖掘后，似乎可以在导出时设置打印缩放的值。创建后，`JRPdfExporter`您需要设置[`JRPdfExporterParameter.PRINT_SCALING`](http://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/export/JRPdfExporterParameter.html#PRINT_SCALING)为[`JRPdfExporterParameter.PRINT_SCALING_NONE`](http://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/export/JRPdfExporterParameter.html#PRINT_SCALING_NONE)：

```
exporter.setParameter(JRPdfExporterParameter.PRINT_SCALING, JRPdfExporterParameter.PRINT_SCALING_NONE); 
```

我不知道这是否也适用于 Foxit Reader，但我认为它会。

# macos - 在 mac 命令行上生成特定频率的音调

> ID：13760504
> 
> 赞同：10
> 
> 时间：2012-12-07T09:42:26.517
> 
> 标签：macos, audio, terminal

我需要在命令行上生成给定频率的音符

这是音符频率的列表[http://www.phy.mtu.edu/~suits/notefreqs.html](http://www.phy.mtu.edu/~suits/notefreqs.html)

例如：

```
$ some-app -frequency 523.25 -timeinseconds 3 
```

它可以是本机 mac、python 或 ruby​​ 工具。我需要安装的库越少越好。也许我可以用 mac 做点什么：say 还是 afplay？

这将用于发送音符的其他项目，我想在使用它时听到它。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2015-12-18T10:29:37.277

[SoX](http://sox.sourceforge.net/sox.html)非常适合这个目的，它可以在 brew 中使用：

```
$ brew install sox
$ play -n synth 3 sin 523.25 
```

您还可以将声音保存到文件中：

```
$ play -n out.wav synth 3 sin 523.25 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-12-07T10:14:51.563

它简单、陈旧且无人维护，但请查看[https://github.com/psycotica0/tone-generator](https://github.com/psycotica0/tone-generator)

```
$ brew install sdl
$ git clone https://github.com/psycotica0/tone-generator.git
$ cd tone-generator && make
$ ./generator 2600 2 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-12-07T11:55:45.863

```
$ say "do ray me fa so la te do" 
```

大声笑。

# winforms - 窗口中的控制边距

> ID：13760508
> 
> 赞同：0
> 
> 时间：2012-12-07T09:42:37.850
> 
> 标签：winforms

我创建一个这样的控件：

```
public class MyTextBoxControl : System.Windows.Forms.TextBox
{
} 
```

我将 MyTextBoxControl 拖放到窗口窗体，默认边距为“3, 3, 3, 3”

我的问题是“将控件拖放到表单时可以更改默认边距吗？”

我想将默认边距设置为“5、5、5、5”，当我将控件拖放到表单时，边距为“5、5、5、5”。不是“3、3、3、3”

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:54:36.087

您需要将[DefaultValueAttribute](http://msdn.microsoft.com/en-us/library/system.componentmodel.defaultvalueattribute.aspx)应用于您类中的属性，但我认为您不能，因为该属性[不是 virtual](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.margin.aspx)。

# javascript - 如何将JS添加到django

> ID：13760511
> 
> 赞同：1
> 
> 时间：2012-12-07T09:42:38.500
> 
> 标签：javascript, html, django

我在“mysite\templates\admin”文件夹中有一个名为“default.html”的 html 表单，并且我在 setting.py 中设置了 TEMPLATE_DIR。然后我想为default.html添加一个JS，我该怎么做？

例如，我在“mysite_new\mysite\static\admin\js”中放置了一个名为“example.js”的 JS 文件，如何链接该 js 文件。

```
#defaul.html
<!DOCTYPE html>
<html>
<head>
<script class="xxxxx" src="xxxxxxxxxxxxxx"></script>

</head>
<body>
<fieldset>
          <legend>{{ Title_name }}</legend>
          <div>
              <label>
                <input type="checkbox" name="col" value="summary" checked="checked" />
                Name
              </label>
                      </div>
        </fieldset>
  </fieldset>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:03:04.757

您需要将您的**example.js**作为来自另一台服务器的静态文件服务器或使用 Django 本身设置静态文件服务（检查此[链接](https://docs.djangoproject.com/en/dev/howto/static-files/)）。我必须说不建议让 django 服务器静态文件

# redirect - Struts：重定向回空表单

> ID：13760515
> 
> 赞同：3
> 
> 时间：2012-12-07T09:42:42.567
> 
> 标签：redirect, mapping, struts, struts-1, struts1

我有一个表单提交到我有一个按钮的详细信息页面。我在我的映射文件中放置了一个动作，以将一个动作链接到该按钮，该按钮应该将用户发送回表单并将其清空。

我可以正确重定向它，但表单仍然显示发送的值。

```
<action
   ...
   <forward name="goBack" path="/form.jsp" />
</action> 
```

那么，我怎样才能回到带有动作映射标签的空表单呢？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T19:07:48.530

如果我正确理解您的问题，这就是您想要做的：当用户单击按钮时，您想向用户显示一个空表单。在从方法返回之前，您可以尝试在您的操作类中将表单设置为 null。

因此，当您单击按钮时，如果它在您的操作类中调用方法 emptyForm()，并且您的表单名称是 myForm，请执行以下操作

```
public ActionForward emptyForm(ActionMapping a, ActionForm myForm, HttpServletRequest Req, HttpservletResponse res){

myForm=null; 
...
..
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T10:09:32.780

您可以重定向到导致带有表单的 jsp 的操作。一个指向该操作的简单链接应该可以工作：

```
<a href="actionWithForm"> GoBack </a> 
```

# .htaccess - 简单的 .htaccess 重写以传递 1 个参数

> ID：13760521
> 
> 赞同：4
> 
> 时间：2012-12-07T09:42:56.210
> 
> 标签：.htaccess, url, mod-rewrite

有人可以告诉我我的 .htaccess 文件应该包含什么来创建以下重写：

```
http://www.example.com/success 
```

打电话

```
http://www.example.com/index.php?q=success 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T09:51:38.780

尝试：

```
RewriteEngine On
RewriteBase /

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ /index.php?q=$1 [L] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-08T14:32:26.293

以下代码用于我的网站

```
RewriteEngine On

RewriteRule ^([a-zA-Z0-9_-]+)$ index.php?q=$1

RewriteRule ^([a-zA-Z0-9_-]+)/$ index.php?q=$1 
```

或者你可以写以下

```
RewriteEngine On

RewriteRule ^(.+)$ index.php?q=$1

RewriteRule ^(.+)/$ index.php?q=$1 
```

# sql - Sql Server 仅在大于 0 时才显示小数？

> ID：13760522
> 
> 赞同：0
> 
> 时间：2012-12-07T09:43:01.297
> 
> 标签：sql, sql-server, database, sql-server-2008, tsql

我有这个选择：`select isnull(Pricea,0)-isnull(Priceb,0) as Differences` 列的格式是十进制（12,4）。我的问题是：只有当它们大于 0 时，我才能以某种方式返回小数？如果结果将是例如 4.0000 似乎令人困惑，所以我只想在小数大于 0 时才显示小数。这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:06:07.023

当天花板（Num）=地板（Num）时，数字为整数

```
select case when ceiling(Num) = floor(Num) 
       then      CONVERT(varchar, CAST(Num as decimal))
       else      CONVERT(varchar, Num) 
       end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T10:06:05.710

它只是在 MangementStudio 中为数据类型显示的那种蜜蜂。为了调整显示类型，您可以执行类似的操作

```
Declare @a table  (a decimal(12,4),b decimal(12,4))
insert into @a Values(12.45,10.45)
insert into @a Values(12.45,10.4512)
insert into @a Values(12.4512,10.4500)

Select Cast(Case when a-b<>Floor(a-b) then Cast(a-b as float) else  a-b end as Varchar(30)) as Diff
from @a 
```

# mercurial - TeamCity 7.x 在构建期间收集提交消息 - 发行说明

> ID：13760523
> 
> 赞同：2
> 
> 时间：2012-12-07T09:43:07.100
> 
> 标签：mercurial, release-management, teamcity-7.0

我们的 TeamCity 构建了一个完整的安装程序包，其中包括多个 Web 应用程序、控制台应用程序和 win 表单应用程序。它构成了一个应用程序套件。这些应用程序中的每一个都有自己的 Mercurial 存储库。

我们希望能够自动为每个版本提供发行说明。当将鼠标悬停在构建更改上时，TeamCity 已经在 Web 界面中显示 Mercurial 提交消息。是否有可能在构建期间以某种方式捕获这些消息并将它们提取到代理工作文件夹中的文本文件中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T10:22:55.423

我不知道 TeamCity，但我有一个简单的方法来获取一些软件的提交并将其格式化为一个整洁的历史日志，我想这就是你所追求的。也许您可以接受并修改它以满足您的需要 - 它仅使用 mercurial 命令，因此您可以将其添加为构建的依赖项（我的 VC++ 项目有一个构建后步骤，它运行命令并输出到文本文件）。

我有一个像这样的简单模板：

```
$ cat history.template
changeset = '{tags} {rev}\t{desc|fill68|strip|tabindent}\n'
start_tags = '\n'
tag = '{tag},'
last_tag = '{tag} : {node|short} @ {date|shortdate}\n' 
```

当我使用以下`hg`命令创建可用的历史日志时：

```
hg log --style history.template -r "reverse(::.) & !desc('Added tag')" 
```

该命令获取工作目录所有祖先的提交注释，输出标签和变更集哈希，以及标签的创建日期，然后是所有相关的更改。`hg log -G`这是一个测试 repo的示例输出，显示了`default`和`release`分支：

```
@  21[tip]:18   c676cfe95284   2012-12-12 10:12 +0000   rob
|    Added tag 0.0.5 for changeset d0869f1c84ba
|
| o  20   7618cafcfc5d   2012-11-26 17:23 +0000   rob
| |    More changes indeed
| |
| o  19:17   ffc8bef85a2e   2012-11-26 17:22 +0000   rob
| |    Some additional files were needed
| |
o |  18[0.0.5]:15,17   d0869f1c84ba   2012-11-22 17:25 +0000   rob
|\|    Releasing
| |
| o  17   a41d817184ea   2012-11-22 17:25 +0000   rob
| |    Made the last change
| |
| o  16:13   e790e9022e70   2012-11-22 17:24 +0000   rob
| |    Made some changes using "record"
| |
o |  15   15f21a6f554a   2012-11-13 17:03 +0000   rob
| |    Added tag 0.0.4 for changeset c316b232c95c
| |
o |  14[0.0.4]:10,13   c316b232c95c   2012-11-13 17:03 +0000   rob
|\|    Merging, eh?
| |
| o  13   ba00c7045a23   2012-11-13 17:02 +0000   rob
| |    Modified revset selection for logging
... 
```

显示的模板和命令输出以下内容：

```
0.0.5 : d0869f1c84ba @ 2012-11-22
 18     Releasing
 17     Made the last change
 16     Made some changes using "record"

0.0.4 : c316b232c95c @ 2012-11-13
 14     Merging, eh?
 13     Modified revset selection for logging
 12     When logging history select only ancestors of the working directory
 11     Added history logging
... 
```

如果您想对命令行或模板进行一些解释，请添加注释。

# css - 浮动内容会破坏页面上的其他浮动内容

> ID：13760526
> 
> 赞同：0
> 
> 时间：2012-12-07T09:43:14.210
> 
> 标签：css, css-float

我正在处理[此页面上的“关于我们”标题](http://sela.netgendns.co.za/about-us/)

基本上，带有图像和蓝色“关于我们”块的小 div 是图像，但出于 SEO 目的，我现在将其替换为可以使用`<h1>...</h1>`标签的结构。

如您所见，图像和标题标签的布局完美无缺，但它被推到了页面的右列内容下方。

我已经检查过，并仔细检查过，看起来所有的浮点数都被正确包含（除非我错过了什么）所以我不知道如何解决这个问题。

谁能告诉我我在这里做错了什么？

的HTML：

```
<div class="page_header">
    <div>
        <img src="http://sela.netgendns.co.za/wp-content/uploads/2012/11/sela-about-us-1.jpg">
        <img src="http://sela.netgendns.co.za/wp-content/uploads/2012/11/sela-about-us-2.jpg" alt="" />
        <img src="http://sela.netgendns.co.za/wp-content/uploads/2012/11/sela-about-us-3.jpg" alt="" />
        <h1>About Us</h1>
    </div>
</div> 
```

CSS：

```
/* Page Headers
----------------------------*/
.page_header div {
   overflow: hidden;
    min-width: 665px;
}

.page_header img, .page_header h1 {
 float: left;
 margin: 10px 10px 0 0;        
}

.page_header img:nth-child(2) {
    clear:right;
}

.page_header h1.about-us {
 line-height: 90px;
 background: #00f;
 color: #fff;
 padding: 0 42px;
} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:49:43.897

那是因为您`<div id="sidebar-parimary">`应该驻留在`<div id="main">`元素内。

目前是：

```
 <div id="main">
    <div id="content">...</div>
  </div>

  <div id="sidebar-primary">..</div> 
```

它应该是：

```
 <div id="main">
    <div id="content">...</div>
    <div id="sidebar-primary">..</div>
  </div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:07:07.540

嘿 Ortund 实际上以不恰当的方式编写了一个 HTML 标记，所以你应该这样写：-

```
<div id="main">
<div id="content">
<div id="sidebar-primary">
</div> 
```

通过此方法查看附件图像其工作正常：-

![在此处输入图像描述](../Images/f0051ebe3128250f27f9a0fd73ede20b.png)

# ios - UITextField 确实会自动更改其宽度

> ID：13760531
> 
> 赞同：2
> 
> 时间：2012-12-07T09:43:19.217
> 
> 标签：ios, layout, uitextfield

这是我在这里的第一个问题，我无法通过在该网站上搜索来回答自己。

`UITextField`我的 iPhone 应用程序的左侧和右侧都有一个布局。

当我在其中输入一些文本并且文本超出了它可以在该视图上显示的范围时，它会在调用`UITextField`之后自动更改它的宽度。`textFieldShouldReturn`

有谁知道为什么会这样？

# html - 如何设置通知警报的高度和宽度

> ID：13760533
> 
> 赞同：0
> 
> 时间：2012-12-07T09:43:19.140
> 
> 标签：html, css

我有一个注册页面。当我完成注册并单击保存按钮时，我会收到“注册成功”通知。我正在使用 bigbox.css 和 humane.js 作为通知。我很容易收到通知，但问题是通知有其默认的 height 和 width 。我如何自定义它的高度和重量？

```
 var ratPack = $.sammy(function() {
        this.post('#/cart', function() {
           var firstname = this.params['firstName'];
    var lastname = this.params['lastName'];
    var organisation = this.params['organisation'];
    var email = this.params['email'];
    var password = this.params['password'];
    var confirmPassword = this.params['confirmPassword'];
    var baseurl = this.params['url'];
           $.ajax({
        type : 'POST',
        url :'/costing-
     tool/api/registration/'+firstname+'/'+lastname+'/'+email,
        success : function() {
         document.getElementById('light').style.display='none';
             document.getElementById('fade').style.display='none';
             humane.log("Registration Successful");//humane used here
                    },
        error:function(){
            alert($('#emailError'));
            $('#emailError').text("This E-Mail is already registered")
        }
   });
});
  });

bigbox.css

 html,
  body {
   min-height: 100%;
  }
.humane,
.humane-bigbox {
 position: fixed;
 -moz-transition: all 0.3s ease-out;
 -webkit-transition: all 0.3s ease-out;
-ms-transition: all 0.3s ease-out;
-o-transition: all 0.3s ease-out;
 transition: all 0.3s ease-out;
 z-index: 100000;
 filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);
  }
 .humane,
 .humane-bigbox {
  font-family: Ubuntu, Verdana, sans-serif;
  line-height: 40px;
  font-size: 20px;
  top: 25%;
   left: 25%;
   opacity: 0;
   width: 50%;
   min-height: 40px;
  padding: 30px;
  text-align: center;
   background-image: 
    url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1
   AAAABmJLR0QA/wD/AP+gvaeTAAAAc0lEQVQokb2RQQ6EMAwDx/7/n80BtIEC3RYh
   LlXrVLGTAYiBWBIGtkPSP01SfreTVoV5re9Rcee1scwDk9NurbR6
  2sZJcpzy9O+2X5KsXabyPaQFYNuvkqkRviDTp9Vs8opC0TpkHvJtVjeReW/
  5kEyX1gKeLEKE9peeWAAAAABJRU5ErkJggg==');
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #000),
   color-stop(1, rgba(0,0,0,0.9))) no-repeat;
 background: -moz-linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;
 background: -webkit-linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;
 background: -ms-linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;
 background: -o-linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;
 background: linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;
*background-color: #000;
 color: #fff;
-moz-border-radius: 15px;
-webkit-border-radius: 15px;
 border-radius: 15px;
 text-shadow: 0 -1px 1px #ddd;
 -moz-box-shadow: 0 15px 15px -15px #000;
 -webkit-box-shadow: 0 15px 15px -15px #000;
  box-shadow: 0 15px 15px -15px #000;
 -moz-transform: scale(0.1);
 -webkit-transform: scale(0.1);
 -ms-transform: scale(0.1);
 -o-transform: scale(0.1);
 transform: scale(0.1);
 }
  .humane p,
  .humane-bigbox p,
  .humane ul,
  .humane-bigbox ul {
   margin: 0;
   padding: 0;
   }
   .humane ul,
   .humane-bigbox ul {
   list-style: none;
    }
     .humane.humane-bigbox-info,
     .humane-bigbox.humane-bigbox-info {
      background-image:  url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA
         EAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVQokW
         NgYEj5z8TAwPCfiYGBgQGVIEKMTG2DTYwRVez/IHIaNcUGyBnYg
         pORel6gpvFEJhBqpxIaG8/AAADsKDq/HhYQ2AAAAABJRU5ErkJggg==');
        background: -webkit-gradient(linear, left top,
      left bottom, color-stop(0, #000064),   color-stop(1, rgba(0,0,100,0.9))) no-
     repeat;
     background: -moz-linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-
      repeat;
     background: -webkit-linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no- 
      repeat;
      background: -ms-linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-
     repeat;
     background: -o-linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-repeat;
     background: linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-repeat;
     *background-color: #030;
       }
      .humane.humane-bigbox-success,
       humane-bigbox.humane-bigbox-success {
      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUg
       AAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAP
      klEQVQokWNgSGH4z8TAACEYUAkixMjUNsjEGFHF/g8ip1FVbGC
      cgS04GannBaoaT1wCwWkvmXbQ2HgGBgYA8Yw6v+m4Kh8AAAAASUVORK5CYII=');
       background: -webkit-gradient(linear, left top, 
     left bottom, color-stop(0,       #006400), color-stop(1, rgba(0,100,0,0.9))) no-
     repeat;
     background: -moz-linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-
     repeat;
    background: -webkit-linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-
    repeat;
     background: -ms-linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-repeat;
     background: -o-linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-repeat;
     background: linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-repeat;
    *background-color: #030;
    }
    .humane.humane-bigbox-error,
    .humane-bigbox.humane-bigbox-error {
     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA
       AEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAA
       AAPklEQVQokWNIYWD4z8QAJRhQCSLEyNQ2uMQYUcX+DyKnUVd
     sQJyBLTgZqecF6hpPVALBaS+ZdtDYeAYGBgYA9vA6v4OR3MkAAAAASUVORK5CYII=');
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #640000),
     color-stop(1, rgba(100,0,0,0.9))) no-repeat;
     background: -moz-linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-
     repeat;
      background: -webkit-linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-
      repeat;
      background: -ms-linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) 
     no-repeat;
      background: -o-linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-repeat;
     background: linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-repeat;
    *background-color: #300;
   }
   .humane.humane-animate,
   .humane-bigbox.humane-bigbox-animate {
    opacity: 1;
    -moz-transform: scale(1);
    -webkit-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
    }
    .humane.humane-animate:hover,
    .humane-bigbox.humane-bigbox-animate:hover {
     opacity: 0.6;
     -moz-transform: scale(0.8);
     -webkit-transform: scale(0.8);
    -ms-transform: scale(0.8);
    -o-transform: scale(0.8);
     transform: scale(0.8);
     }
     .humane.humane-js-animate,
      .humane-bigbox.humane-bigbox-js-animate {
      opacity: 1;
     -moz-transform: scale(1);
     -webkit-transform: scale(1);
      -ms-transform: scale(1);
       -o-transform: scale(1);
      transform: scale(1);
       }
      .humane.humane-js-animate:hover,
       .humane-bigbox.humane-bigbox-js-animate:hover {
       opacity: 0.6;
       filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=60);
     } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T11:39:06.330

我看到您对 CSS 非常陌生，但您可以更改为父元素宽度的 50% 的 bigbox 宽度。关于 bigbox 高度，默认设置为 auto（这就是您现在看不到它的原因），并且您将 min-height 设置为 40px，以防 bigbox 内没有列表或文本。

```
.humane-bigbox {
   font-family: Ubuntu, Verdana, sans-serif;
   line-height: 40px;
   font-size: 20px;
   top: 25%;
   left: 25%;
   opacity: 0;
   width: 50%; <- This is the width value
   min-height: 40px;
   ...
} 
```

### 进一步阅读：

*   [https://stackoverflow.com/questions/132587/the-best-css-tutorial-site-blog-book](https://stackoverflow.com/questions/132587/the-best-css-tutorial-site-blog-book)
*   [如何轻松学习 CSS？](https://stackoverflow.com/questions/418075/how-can-i-learn-css-easily|)
*   [你会如何推荐新手开始使用 CSS？](https://stackoverflow.com/questions/218161/how-would-you-recommend-a-novice-get-started-using-css)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:01:49.993

请参阅您的行代码：

```
humane.log("Registration Successful");//humane used here 
```

用这个改变：

```
humane.log("Registration Successful").css('width',
   'WRITE WIDTH').css('height','WRITE Height');//humane used here 
```

希望它有效....祝你好运

# ftp - 从服务器下载文件列表的最佳方法是什么？

> ID：13760534
> 
> 赞同：0
> 
> 时间：2012-12-07T09:43:23.347
> 
> 标签：ftp, download, wget

我有一个想要下载到我的电脑的 SWF 文件列表。有没有一种快速的方法可以从我的服务器上执行此操作，例如使用 WGET 或类似的东西。每个文件行列表都是一个新行：

```
http://super.xx-cdn.com/730_silvxxxen/v/v.swf
http://super.xx-cdn.com/730_sixxxxheen/73xxxxversheen.swf
http://super.xx-cdn.com/730_rxxxd/v/v.swf 
```

有数千行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:50:54.677

如果您使用 ssh over putty 访问您的服务器，您可以轻松地`winscp`从 putty使用

否则你也可以使用`pscp`

如果您没有安装腻子，请获取它并为您的服务器组成一个 ssh

下载它们的另一种简单方法是获取`FTP client`并通过 FTP 下载它们

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:53:30.403

如果我正确理解您的问题，您可以使用简单的 SH 脚本：

```
#!/bin/sh
while IFS= read -r line
do
    wget $line
done < "urls.txt" 
```

# joomla - Joomla 2.5 getUserStateFromRequest 加载错误

> ID：13760537
> 
> 赞同：0
> 
> 时间：2012-12-07T09:43:30.837
> 
> 标签：joomla, joomla2.5

我正在按照[示例](http://docs.joomla.org/How_to_add_custom_filters_to_component_admin)在 Joomla 2.5 管理组件中实现自定义过滤器。

但是我在模型`populateState`方法中遇到错误：

> 调用未定义的方法 somecompModelsomecomp::getUserStateFromRequest()。

```
$app = JFactory::getApplication('administrator');
// Load the filter state.
$search = $this->getUserStateFromRequest($this->context.'.filter.search', 'filter_search'); 
```

`getUserStateFromRequest`如果我使用以下方法调用，错误就会消失`$app`：

```
$app->getUserStateFromRequest($this->context.'.filter.search', 'filter_search'); 
```

所以有什么问题？在默认的 Joomla 组件中，我看到它使用相同的方法并且可以正常工作。也许我错过了我的模特课上的一些东西？

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T09:55:12.680

发生这种情况是因为`$app`它是您的应用程序类的对象。正如您在代码中定义的那样。

`$app = JFactory::getApplication('administrator');`

和`getUserStateFromRequest`方法是在那个应用程序类中定义的。所以如果你想访问这个方法，你必须像这样使用它。

```
$app->getUserStateFromRequest($this->context.'.filter.search', 'filter_search'); 
```

对于您的信息`$this`变量是您的本地对象。

# sql - 连接包含历史数据的多个表

> ID：13760541
> 
> 赞同：2
> 
> 时间：2012-12-07T09:43:46.843
> 
> 标签：sql, oracle, optimization, join, timestamp

我有多个包含历史数据的表，因此 id 之间没有 1 对 1 的关系。

我必须加入 id 和指示数据何时处于活动状态的时间戳，如果数据仍然处于活动状态或从未为旧数据设置过，则 TO_TIMESTMP 可以为空。

一些分组后我的主表输出如下：

```
TABLE_A
AID   USER_ID   AMOUNT  FROM_TIMESTMP        TO_TIMESTMP         
1     1         2       11/21/2012 00:00:00  12/04/2012 11:59:00  
1     2         3       11/24/2012 12:00:00  null                 
2     1         2       11/21/2012 01:00:00  null 
```

然后我有另一个表，我用它来进一步链接

```
TABLE_B
AID   CID   FROM_TIMESTMP        TO_TIMESTMP          HIST_ID
1     3     11/01/2012 00:00:00  null                 1
1     3     11/21/2012 00:00:00  12/04/2012 11:59:00  2
1     3     11/24/2012 12:00:00  null                 3
2     4     11/21/2012 00:59:59  null                 4 
```

我的第三张桌子看起来像这样：

```
TABLE_C
CID   VALUE   FROM_TIMESTMP        TO_TIMESTMP          HIST_ID
3     A       11/01/2012 00:00:00  null                 1
3     B       11/21/2012 00:00:00  11/24/2012 11:59:00  2
3     C       11/24/2012 12:00:00  null                 3
4     D       11/21/2012 01:00:01  null                 4 
```

如果我想将表 A 与表 C 到表 B 的值组合起来，我的预期输出是：

```
AID   USER_ID  AMOUNT  FROM_TIMESTMP        TO_TIMESTMP          VALUE
1     1        2       11/21/2012 00:00:00  12/04/2012 11:59:00  B
1     2        3       11/24/2012 12:00:00  null                 C
2     1        2       11/21/2012 01:00:00  null                 D 
```

除了表 A 中的 AMOUNT 和表 C 中的 VALUE 之外，所有内容都有索引，我使用以下 SQL 提取数据。

```
SELECT a.AID, a.USER_ID, a.AMOUNT, a.FROM_TIMESTMP, a.TO_TIMESTMP, c.VALUE from 
(SELECT AID, USER_ID, SUM(AMOUNT), FROM_TIMESTMP, TO_TIMESTMP from TABLE_A GROUP BY AID, USER_ID, FROM_TIMESTMP, TO_TIMESTMP) a
inner join TABLE_B b on b.HIST_ID in (select max(HIST_ID) from TABLE_B
where AID = a.AID and FROM_TIMESTMP <= a.FROM_TIMESTMP+1/2880 and (TO_TIMESTMP>= a.FROM_TIMESTMP or TO_TIMESTMP is null))
inner join TABLE_C c on c.HIST_ID in (select max(HIST_ID) from TABLE_C
where CID = b.CID and FROM_TIMESTMP <= a.FROM_TIMESTMP+1/2880 and (TO_TIMESTMP>= a.FROM_TIMESTMP or TO_TIMESTMP is null)); 
```

由于保存数据的时间存在一些不一致，我在比较开始时间戳时添加了 30 秒的宽限期，以防它们大约在同一时间创建，**有没有办法改进我这样做的方式？**

我选择了具有 MAX(HIST_ID) 的那个，因此 TABLE_A 中的 AID=1 和 USER_ID=2 之类的情况只能从其他表中获取与 id/timestamp 匹配的最新行。

在我的真实数据中，我内部加入了 4 个这样的表（而不仅仅是 2 个），并且它在我的本地测试数据上运行良好（当询问所有数据时，在 11 秒内拉出超过 42000 行）。

但是，当我尝试在数据量更接近生产的测试环境中运行它时，即使我通过设置 FROM_TIMESTMP 必须在两个日期之间将我在第一个表中查询的行数限制为大约 6000 行，它的运行速度也会变慢。

**有没有办法通过另一种方式来提高我加入表的性能？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T11:34:20.883

避免 max() 重复子查询的一项简单更改是：

```
select a.aid,a.user_id,a.amount,a.from_timestmp,a.to_timestmp,a.value
  from (select a.aid,a.user_id,a.amount,a.from_timestmp,a.to_timestmp,c.value, 
       row_number() over (partition by a.aid,a.user_id order by b.hist_id desc, c.hist_id desc) rn
  from (select aid,user_id,sum(amount) amount,from_timestmp,to_timestmp
          from table_a
         group by aid,user_id,from_timestmp,to_timestmp) a
       inner join table_b b
               on b.aid = a.aid
              and b.from_timestmp <= a.from_timestmp + (1 / 2880)
              and ( b.to_timestmp >= a.from_timestmp or b.to_timestmp is null)
       inner join table_c c
               on c.cid = b.cid
              and c.from_timestmp <= a.from_timestmp + (1 / 2880)
              and ( c.to_timestmp >= a.from_timestmp or c.to_timestmp is null)) a
 where rn = 1
  order by a.aid, a.user_id; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T13:16:51.787

您的查询在一种环境中运行得更快而在另一种环境中运行得更慢的原因可能有很多。很可能是因为优化器定义了两个不同的计划，一个运行得更快。可能是因为统计数据略有不同。

您当然可以优化查询以使用索引，但我认为您的主要问题在于数据和/或数据模型。如果数据不好，你会一次又一次地遇到这类问题。

将数据归档到同一个表中是很常见的，它可以用来表示需要历史查询的瞬态数据。但是，归档数据不应该让您忘记有关数据库设计的基本规则。

在您的情况下，您似乎有三个相关的表：它们将在您的实体关系模型中链接。但是，在设计过程中的某个地方，他们丢失了这个链接，所以现在您无法可靠地识别哪一行依赖于哪一行。

我建议如下：

*   如果您的 ER 模型中有两个表相关，请添加外键。这将确保您可以在需要时随时加入他们。外键只在 DML 操作中增加了一点成本（并且只对主键进行了 INSERT、DELETE 和更新（？！））。如果您的数据插入一次并多次查询，则性能影响可以忽略不计。

    在您的情况下，如果 ( `AID`, `FROM_TIMESTAMP`) 是您的主键，则在reference的主键列`TABLE_A`中具有相同的列。您可能需要并且if和（似乎无关）具有不同的更新方案。`TABLE_B``TABLE_A``FROM_TIMESTAMP_A``FROM_TIMESTAMP_C``A``C`

*   如果你不遵循这个逻辑，你将不得不以不同的方式构建你的查询。如果 A、B 和 C 均在历史上存档但未完全引用，则您将只能使用单个时间点参考来回答问题，例如“TS 时 DB 的状态是什么”之类的问题：

    ```
    SELECT *
      FROM A
      JOIN B on A.aid = B.aid
      JOIN C on C.cid = B.cid
     WHERE a.timestamp_from <= :TS
       AND nvl(a.timestamp_to, DATE '9999-12-31') > :TS 
       AND b.timestamp_from <= :TS
       AND nvl(b.timestamp_to, DATE '9999-12-31') > :TS
       AND c.timestamp_from <= :TS
       AND nvl(c.timestamp_to, DATE '9999-12-31') > :TS 
    ```

# javascript - jQuery .index() 奇怪

> ID：13760543
> 
> 赞同：0
> 
> 时间：2012-12-07T09:43:59.260
> 
> 标签：javascript, jquery

我绝不是 jQuery（或 JavaScript）专家，所以如果我误解或忽略了某些东西，请原谅我。我有以下 HTML：

```
<html>
    <body>
        <div class="ted">Ted</div>
        <div class="ted">Ted</div>
        <div class="tim">Tim</div>
        <div class="ted">Ted</div>
        <div class="tim">Tim</div>
    </body>
</html> 
```

以及以下JS：

```
$('.ted').click(function() {
    alert($(this).index());
}); 
```

当我单击带有该类`'.ted'`的 div 时，警报应显示该 div 的索引`div`。

单击第一个 div 警报“0”（预期），第二个 div 警报“1”（预期）。但是，单击最后一个`'.ted'` `div`（列表中的第四个）警报“3” - 为什么它没有给出索引 2？（因为 JS 数组是基于 0 的），这是**第三个** `'.ted'` `div`？

好像`$('.ted')`实际上是带回了列表中的所有 div？

这里的例子：http: [//jsfiddle.net/nha2f/6/](http://jsfiddle.net/nha2f/6/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T09:46:41.237

[`.index()`方法文档](http://api.jquery.com/index/)清楚地说明了这种行为。以下是相关部分（重点添加）：

> 如果没有参数传递给该`.index()`方法，则返回值是一个整数，指示 jQuery 对象中的第一个元素**相对于其兄弟元素**的位置。

由于与选择器匹配的第三个元素实际上是其父元素的第四个子元素，因此它的索引为 3。

继续阅读文档以找到问题的解决方案：

> 如果选择器字符串作为参数传递，则`.index()`返回一个整数，指示原始元素**相对于选择器匹配的元素**的位置。

因此，您可以将相同的选择器传递给`.index()`它，它将返回元素相对于匹配集的索引：

```
alert($(this).index(".ted")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:47:59.870

`.index()`返回被点击元素在其父元素中的索引，相对于它的兄弟元素。没有与其他`div`具有相同事件侦听器/类/id的s相比。你的第三个`'.ted'` `div`是你的第四个孩子`body`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:48:14.867

要获得您想要的行为，请在您的`index`调用中添加一个选择器：[Fiddle](http://jsfiddle.net/nha2f/17/)

```
$('.ted').click(function() {
    alert($(this).index(".ted"));
}); 
```

当您将选择器传递给 时[`index`](http://api.jquery.com/index)，它会告诉 jQuery 在*该*集合中查找元素。如果你不这样做，它会查看它相对于*所有*兄弟元素的位置。

或者，记住 ted 元素的列表，然后反转事物：[Fiddle](http://jsfiddle.net/nha2f/18/)

```
var teds = $(".ted");
teds.click(function() {
    alert(teds.index(this));
}); 
```

当您将元素传递给 时`index`，它会告诉 jQuery 在集合中查找该元素。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T09:50:57.623

索引是父项中的子项。如果你想枚举`.ted`元素试试这个：

```
$('.ted').each( function( i, a ){
    $(a).click( function(){
       alert( i ); // <- should be 0, 1 or 2.
    } );
} ); 
```

# java - 尝试连接和发送 telnet 命令时的 NPE

> ID：13760546
> 
> 赞同：0
> 
> 时间：2012-12-07T09:44:00.530
> 
> 标签：java, android, tcp, android-asynctask, telnet

我希望你们都可以在这里帮助我。

基本上我的应用程序遇到了一些问题。我之前在 Stack 上的问题现在都已经解决了，感谢所有帮助我的人。

我现在正在获得 NPE，但不知道为什么。

基本上我的代码是：

1.  连接到设备（来自意图的 IP 地址和固定端口 32）
2.  一旦连接发送命令“root/r/n”两次。（这是设备登录而不是实际连接，连接不受保护。
3.  一旦返回“SNX_COM>”或“SCX_COM>”等待命令。
4.  然后我希望能够通过单击按钮向他们发送命令。

我遇到的问题是我无法激活初始连接。如果有人可以帮助我，将不胜感激。

Java类：

```
package com.smarte.smartipcontrol;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.io.PrintWriter;
import java.net.InetAddress;
import java.net.Socket;
import java.net.UnknownHostException;

import android.app.Activity;
import android.content.Intent;
import android.os.AsyncTask;
import android.os.Bundle;
import android.view.View;

public class IPControl extends Activity {

private Socket socket;
private static final int REDIRECTED_SERVERPORT = 32;
public PrintWriter out;
public BufferedReader in;
public String data;
public Object pd;
//get the message from intent
Intent intent = getIntent();
 String actu_ip = intent.getStringExtra(IPEntry.ACTUALSMARTIP);

public void getModel(View view) {
    try {
        out.println("[m\r\n");
        //System.out.print("root\r\n");
        while(!in.ready());
        String textStatus = readBuffer();

    } catch(IOException e) {
        e.printStackTrace();
    }
}

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.act_ipcontrol);

    try {
        new AsyncAction().execute();
    } catch(Exception e) {
        e.printStackTrace();
    }
}

private class AsyncAction extends AsyncTask<String, Void, String> {
    protected String doInBackground(String... args) { 
        try {
            InetAddress serverAddr = InetAddress.getByName(actu_ip);
            socket = new Socket(serverAddr, REDIRECTED_SERVERPORT);
            OutputStreamWriter osw = new OutputStreamWriter(socket.getOutputStream());
            BufferedWriter bw = new BufferedWriter(osw);
            out = new PrintWriter(bw, true); 
            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));
            while (! in .ready());
            readBuffer();
            out.println("root\r\n");
            while (! in .ready());
            readBuffer();
            out.println("root\r\n");
            while (! in .ready());
            String msg = "";
            while ( in .ready()) {
                msg = msg + (char) in .read();
            }
            out.println("[c,l#,i5,o*\r\n");
            while (! in .ready());
            readBuffer();
        } catch (UnknownHostException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        return null;//returns what you want to pass to the onPostExecute()
    }

    protected void onPostExecute(String result) {

        //results the data returned from doInbackground

        IPControl.this.data = result;

    }
}

private String readBuffer() throws IOException {
    String msg = "";

    while(in.ready()) {
        msg = msg + (char)in.read();
    }
    //System.out.print(msg);
    if(msg.indexOf("SNX_COM> ") != -1) return msg.substring(0, msg.indexOf("SNX_COM> "));
    else if(msg.indexOf("SCX_COM> ") != -1) return msg.substring(0, msg.indexOf("SCX_COM> "));
    else return msg;
}
} 
```

日志猫：

```
12-07 09:29:24.596: E/AndroidRuntime(772): FATAL EXCEPTION: main
12-07 09:29:24.596: E/AndroidRuntime(772): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.smarte.smartipcontrol/com.smarte.smartipcontrol.IPControl}: java.lang.NullPointerException
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2106)
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.app.ActivityThread.access$600(ActivityThread.java:141)
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.os.Handler.dispatchMessage(Handler.java:99)
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.os.Looper.loop(Looper.java:137)
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.app.ActivityThread.main(ActivityThread.java:5039)
12-07 09:29:24.596: E/AndroidRuntime(772):  at java.lang.reflect.Method.invokeNative(Native Method)
12-07 09:29:24.596: E/AndroidRuntime(772):  at java.lang.reflect.Method.invoke(Method.java:511)
12-07 09:29:24.596: E/AndroidRuntime(772):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
12-07 09:29:24.596: E/AndroidRuntime(772):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
12-07 09:29:24.596: E/AndroidRuntime(772):  at dalvik.system.NativeStart.main(Native Method)
12-07 09:29:24.596: E/AndroidRuntime(772): Caused by: java.lang.NullPointerException
12-07 09:29:24.596: E/AndroidRuntime(772):  at com.smarte.smartipcontrol.IPControl.<init>(IPControl.java:29)
12-07 09:29:24.596: E/AndroidRuntime(772):  at java.lang.Class.newInstanceImpl(Native Method)
12-07 09:29:24.596: E/AndroidRuntime(772):  at java.lang.Class.newInstance(Class.java:1319)
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.app.Instrumentation.newActivity(Instrumentation.java:1054)
12-07 09:29:24.596: E/AndroidRuntime(772):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)
12-07 09:29:24.596: E/AndroidRuntime(772):  ... 11 more 
```

先谢谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:15:30.067

阻止您的应用启动的问题在于以下两行：

```
Intent intent = getIntent();
String actu_ip = intent.getStringExtra(IPEntry.ACTUALSMARTIP); 
```

我不能`getIntent()`在初始化中使用，你应该把它移到`onCreate()`：

```
Intent intent;
String actu_ip;

@Override
public void onCreate(Bundle savedInstanceState) {
    ....
    Intent intent = getIntent();
    String actu_ip = intent.getStringExtra(IPEntry.ACTUALSMARTIP);
    ....
} 
```

问候。

# android - 检查sqlite数据库在android中是打开还是关闭

> ID：13760547
> 
> 赞同：6
> 
> 时间：2012-12-07T09:44:03.247
> 
> 标签：android, sqlite, android-sqlite

我的`DBDriver`课堂上有两种方法`open`，`close` `sqlite database`如下所示。

```
private SQLiteDatabase database;

/**
     * Open Database to read and write.
     * 
     * @throws SQLException
     */
    public void open() throws SQLException {
        database = dbHelper.getWritableDatabase();

    }

    /**
     * Close opened database.
     */
    public void close() {
        dbHelper.close();
    } 
```

我在我的其他类中使用上述方法来打开和关闭`sqlite database`。

我想确定数据库是打开还是关闭。我怎么能这样做？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-12-07T09:48:12.790

你可以`isOpen()`用来检查，所以在你的情况下，那将是

```
database.isOpen() 
```

只是一个提示，在使用基于 Java 的 API（或与此相关的任何 API）时，学习使用 API 的文档是关键。文档将告诉您哪些方法可用于任何给定的类。例如，您有一个 SQLiteDatabase 类的实例。检查下面的 javadocs

[http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html)

识别您正在寻找的方法非常简单。

# json - 在 yii 如何 json_encoded 多条记录

> ID：13760548
> 
> 赞同：1
> 
> 时间：2012-12-07T09:44:03.650
> 
> 标签：json, yii

我正在 yii+extjs 中创建项目。我有 pollid 和 pollQuestion 的投票表。选项表有 pollid 和选项。现在，在发布问题期间，我正在从投票表中检索问题，并从选项表中检索该问题的选项。并以 json_encoded 格式发送此数据。我将功能设计为-

```
public function actionCreate()
{
    $model=new poll();
    $model->pollId=4;
    $record1=poll::model()->findByPk($model->pollId); 
    //$data = $record1->getAttributes();
    $data= $record1->getAttributes(array('pollId','pollQuestion'));
     foreach ($record1->polloptions as $option) 
     { 
        $data = array_merge($data, $option->with('pollId')-                      >getAttributes());
     }
      //echo $data;
      echo CJSON::encode($data);
} 
```

选项表对同一问题有多个选项。但是通过上述方法，它只显示选项表中插入的最后一个选项，而不是显示同一问题的所有选项。那么如何显示同一问题的所有选项。请帮助我....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:39:02.063

也许你可以尝试：

```
public function actionCreate()
{
    $model=new poll();
    $model->pollId=4;
    $record1=poll::model()->findByPk($model->pollId); 
    //$data = $record1->getAttributes();
    $data= $record1->getAttributes(array('pollId','pollQuestion'));
     foreach ($record1->polloptions as $option) 
     { 
        $optionArray = $option->getAttributes()
        //if the 2 arrays havn't the same indexes
        //this way u keep the key indexes
        $data = $data + $optionArray;
        //if the 2 arrays could have the same indexes
        $data = array_push($data, $optionArray);
     }
      //echo $data;
      echo CJSON::encode($data);
} 
```

# java - 从文本文件中读取数据

> ID：13760554
> 
> 赞同：0
> 
> 时间：2012-12-07T09:44:17.927
> 
> 标签：java, file-io, java.util.scanner

我正在尝试将文本文件用作从用户那里收集的一些数据的数据库，这是我正在使用的构造函数

```
public DatabaseOperations(String name,double newWeight) throws FileNotFoundException, ParseException{
    f= new File (removeSpaces(name)+".txt");
    if (!f.exists()){
        System.out.println("This user dosen't exist");
        return;
    }
    try {
        out= new PrintWriter (f);
    } catch (FileNotFoundException e) {
        System.out.println("Error, You don't say");
    }
    // This section is used to initialize a new object from Customer with values in the excising file
    cust = new Customer();
    in=new Scanner(f);
    in.next();
    in.next();
    cust.setName(in.next());
    in.next();
    in.next();
    in.next();
    cust.setStartingDate(in.next());
    in.next();
    in.next();
    cust.setAge(Integer.parseInt(in.next()));
    in.next();
    in.next();
    in.next();
    cust.setStartingWeight(Double.parseDouble(in.next()));
    in.next();
    in.next();
    cust.setHeight(Double.parseDouble(in.next()));
    in.next();
    in.next();
    in.next();
    cust.setBMI(Double.parseDouble(in.next()));
    in.next();
    in.next();
    in.next();
    cust.setTargetWeight(Double.parseDouble(in.next()));
    in.next();
    in.next();
    in.next();
    cust.setTargetDate(in.next());
    //----------------------------------------------------------------
    // check this for errors !!!
    cust.setWeight(newWeight);
    out.println(form.format(cust.getCurrentDate())+"\t"+df.format(cust.getWeight())+"\t\t"+cust.getBMI()+"\t\t"+cust.percentDone()+"\t"+cust.timePassed());
    out.close();
} 
```

这些很多 in.next() 是用来跳过一些我不需要的数据，我使用的文件结构是这样的

```
Name :kkkk  Started at :06/12/2012
Age :19 Starting Weight :85.0
Height :1.86        Starting BMI :24.57
Target Weight :75.5 Target Date :15/12/2012 
```

问题是编译器抛出 NoSuchElementException 并将我指向第一个 (in.next()) 另一个问题是，一旦我调用此构造函数，文件就会变为空！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T09:47:47.203

```
String name,date,age,wight,height,....;
LineNumberReader  lnr = new LineNumberReader(new FileReader(new File("File1")));
lnr.skip(Long.MAX_VALUE);
List<String> list = new ArrayList<String>();
while(file.hasNextLine()) {
String str = file.nextLine();
String[] str1 = str.split(" ");
list.add(str1[1]);
list.add(str1[str1.length() - 1]);
}
cust.setAge(list.get(0));
.....
..... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T09:47:58.787

`java.util.Properties`如果您想使用文本文件而不是数据库，我强烈建议您使用该类。无需使用`next()`，您可以使用键/值对解决此问题：http: [//docs.oracle.com/javase/6/docs/api/java/util/Properties.html](http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html)

```
Properties prop = new Properties();

try {
  prop.load(new FileInputStream(removeSpaces(name)+".txt"));
  cust.setAge(Integer.parseInt(prop.getProperty("age")));
} catch (IOException e) {
  e.printStackTrace();
} 
```

属性文本文件看起来像这样

```
age=19
name=kkkk
started_at=06/12/2012
starting_weight=85.0 
```

# aem - AuthenticationHandler：吊索总是重定向到gemotrix登录页面

> ID：13760555
> 
> 赞同：4
> 
> 时间：2012-12-07T09:44:23.363
> 
> 标签：aem, sling

我正在使用 Custom AuthenticationHandler 为我的网站实现登录功能。当我提供凭据并提交表单时，AuthenticationHandler 总是重定向到 geometrix 站点并询问 geometrix 凭据。

即使我尝试在我的作者实例中停用 geometrix，再次登录我的站点后，它也会重定向到 felix 控制台站点。

如何限制我的应用程序页面以外的内容？

任何帮助都是非常可观的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-20T02:48:43.413

您可以从 felix 控制台更改默认登录页面

```
http://localhost:4503/system/console/configMgr 
```

配置`Day CQ Login Selector Authentication Handler`，将默认登录页面设置为您自定义登录页面的路径

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T12:12:37.207

我猜 Day CQ 根映射 servlet 会将您重定向到它配置的根映射目标。

看看crxde里面的/libs/cq/core/config.publish/com.day.cq.commons.servlets.RootMappingServlet。rootmapping servlet 的配置目标是/content.html，它被解析为/content。将其重定向到您的内容，或者如果它必须共存，则创建一个额外的 JcrResourceResolverFactoryImpl 配置。

`config.publish/org.apache.sling.jcr.resource.internal.JcrResourceResolverFactoryImpl` 只需使用 jcr:primaryType sling:OsgiConfig在应用程序中的应用程序下方 创建一个节点`/apps/<yourappp>/config.publish/org.apache.sling.jcr.resource.internal.JcrResourceResolverFactoryImpl`，然后将 resource.resolver.mapping 添加到您的应用程序中，如下面的示例所示。resource.resolver.mapping="[/-/,/content/intranet/-/intranet-/, ....]" />

# sql - 当项目是文本时，使用 SQL 对数据库中的项目进行排序

> ID：13760557
> 
> 赞同：1
> 
> 时间：2012-12-07T09:44:30.797
> 
> 标签：sql, sqlite

我正在编写一个 Iphone 应用程序并使用 sqlite 作为我的数据库。我有 10 个对象，我需要按它们的类别 ID 对它们进行排序。所有的 id 都是数字（从 1 到 10）。

sql 语句如下所示：`SELECT * FROM PACKAGE ORDER BY CATEGORYID ASC`

当我查询时，结果显示 1,10,2,3,4....9。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T09:51:11.527

也许是因为 categoryID 是`TEXT`

```
SELECT * FROM PACKAGE ORDER BY CAST(CategoryID as INTEGER) ASC; 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!7/9daac/3)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T09:52:30.137

问题似乎与类别 id 的数据类型有关，如果它的字符，那么您将获得如上所示的顺序。但如果数据类型是数字，您将使用正确的格式

# java - 使用 AST (JDT Eclipse) 解析 java 代码并添加方法

> ID：13760565
> 
> 赞同：3
> 
> 时间：2012-12-07T09:45:00.957
> 
> 标签：java, eclipse, parsing, abstract-syntax-tree, eclipse-jdt

我有一个 .java 文件，其中包含一个类。我想为该类添加一个方法，但找不到真正有用的“HOWTO”或示例。我正在使用 Eclipse 及其用于 AST 的 JDT 插件。我尝试了从项目创建 ICompilationUnit 的代码

```
IProject project = ResourcesPlugin.getWorkspace().getRoot().getProject("ProjName");
IJavaProject javaProject = JavaCore.create(project);
IPackageFragment package1 = javaProject.getPackageFragments()[0];
ICompilationUnit unit = package1.getCompilationUnits()[0]; 
```

然后用 astrewrite 添加一个方法。但它似乎只有在我作为插件项目而不是简单的 Java 应用程序运行时才有效。我需要用java编写一个“简单”解析java文件并将方法添加到它的类的应用程序。我应该做的是：1）直接从我要解析的.java文件中创建一个ICompilationUnit（最终位于我自己的项目目录中）2）使用另一种方式

这两种情况我都不能走得更远。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-12-09T11:38:23.983

当您需要通过向编译单元**添加**某些内容来进行更改时，您将不得不使用 CompilationUnit 提供的函数来创建新节点。

要将方法添加到“单元”，您必须：

*   使用您的编译单元创建一个 MethodDeclaration 节点：

`MethodDeclaration md = unit.getAST().newMethodDeclaration();`

*   根据您的要求自定义此方法声明：

`md.setName( unit.getAST().newSimpleName( "newMethod" ) ); md.setBody( unit.getAST().newBlock() );`

这将产生：`void newMethod() {}`

*   从 "unit" 获取 TypeBinding ：

`TypeDeclaration typeDeclaration = ( TypeDeclaration )unit.types().get( 0 );`

*   将新创建的 MethodDeclaration 添加到正文声明中：

`typeDeclaration.bodyDeclarations().add( md );`

TypeDeclaration 上有一个名为 getMethods() 的方法，但它不返回 MethodDeclarations 的实时列表，因此您不能直接修改它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T12:54:38.380

`}`将源文件作为文本读取并用方法声明加上替换最后一个非常容易`}`。显然，如果有人将多个顶级类放在一个文件中，这是行不通的（这非常罕见，我怀疑你会遇到问题）。

# java - 如何根据 solr 中的运算符在同一字段上执行精确搜索和词干搜索

> ID：13760567
> 
> 赞同：0
> 
> 时间：2012-12-07T09:45:16.027
> 
> 标签：java, solr

我以 java 对象的形式获得搜索请求，从中构造 SOLR 查询对象并查询索引。

例如，假设用户想要对名为 title 的字段进行精确搜索。他会发送表格查询

```
 Field = "title", value = "Algebra", Operator = "EQUALS" 
```

当我看到运算符为“EQUALS”时，构造一个这样的 solr 查询

```
 title:Algebra 
```

对于通配符或词干搜索，请求将是这样的，

```
 Field = "title", value = "Algebra", Operator = "LIKE" 
```

由于运算符是“LIKE”我正在构建的 solr 查询是，

```
 title:*Algebra* 
```

这里的问题是通配符和其他词干选项工作标题字段在我的 schema.xml 中定义为 text_general 和 text（通过复制字段选项），所以当我使用运算符“：”时，它会进行词干搜索并检索我的结果在标题字段中有代数词，我期望的输出只是标题为代数的记录。

我知道一种解决方案，我需要在配置文件中将标题字段更改为“字符串”。但这会影响我的词干搜索和通配符搜索选项。

所以基本上我想要一个字段支持词干搜索（和所有其他 text_general 字段选项）以及基于我传递给它的运算符的精确匹配。有没有可能。如果是这样，请指导我如何完成同样的事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:01:05.500

You'll have to have two fields, one for the stemmed / processed version, and one for the clean string version. Use <copyField> to make sure that both gets populated when indexing.

While there are no "global" conventions for this, I'd suggest adopting a naming convention for the field name depending on it's processing. If you have fieldname as string, you have fieldname_stemmed as the text field (or fieldname_text), if you see Operator = 'LIKE', append _stemmed or _text to the fieldname. You can also do it the other way around, have the regular fieldname be stemmed and processed, while you have fieldname_clean as the exact version.

# iphone - 在下一步操作之前删除视图

> ID：13760575
> 
> 赞同：0
> 
> 时间：2012-12-07T09:45:44.623
> 
> 标签：iphone

我正在开发一个应用程序。我想在下一步操作之前从主视图中删除子视图。我编写了如下代码。

```
 [subview removeFromSuperview];
   [self start]; 
```

但是现在视图在启动操作完成后被删除。所以请告诉我如何首先从主视图中删除子视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:04:32.503

您可以在操作开始时删除视图

```
 for(UIView *subview in [self.view subviews]) {
            [subview removeFromSuperview];
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T11:01:32.350

你可以这样使用，

```
[subview removeFromSuperview];
[self performSelector:@selector(start) withObject:nil afterDelay:1]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T11:02:43.497

您可以使用上面 Rose 所说的代码。它应该工作。如果没有，那么试试这个额外的位。在编写的代码下方触发一个 NSTimer 实例。

```
 for(UIView *subview in [self.view subviews]) {
            [subview removeFromSuperview];
        }

        [NSTimer scheduledTimerWithTimeInterval:0.3 target:self selector:@selector(start:) userInfo:nil repeats:NO];

-(void)start:(NSTimer *)timer
{
    [timer invalidate];
    timer    = nil;

    [self start];
} 
```

这样，就有足够的时间完成删除所有子视图，然后开始新的操作。

# windows-xp - 无法格式化日志字符串

> ID：13760580
> 
> 赞同：0
> 
> 时间：2012-12-07T09:45:58.493
> 
> 标签：windows-xp, net-snmp, snmptrapd

在 linux 系统上接收 snmptrap 时...一切正常，但在 windows server 和 XP 中我得到了`Could not format log-string`。任何人请帮我解决这个问题。我正在为 Windows 服务器使用 Net-SNMP-5.6.1.1。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:18:18.833

这是因为使用提供 `snprintf()`的而不是`sprintf()`限制检查字符串长度。或者因为`Void debugmsg_hex(const char *token, const u_char * thedata, size_t len)`不能接受超过`LOGLENGTH==1024`。解决：验证`snmp_logging.c`并删除检查。
[代码](http://www.net-snmp.org/dev/agent/snmp__logging_8c_source.html)

* * *

什么是完整的错误信息。我需要打印的代码。

# c# - MVC3 IPolicyViolationHandler“拒绝访问！” 弹出

> ID：13760585
> 
> 赞同：0
> 
> 时间：2012-12-07T09:46:25.933
> 
> 标签：c#, asp.net, asp.net-mvc-3

我有一个使用 FluentSecurity 的 mvc3 应用程序，其中使用 IPolicyViolationHandler 处理策略违规

公共类 DefaultPolicyViolationHandler : IPolicyViolationHandler { 公共字符串 ViewName = "AccessDenied";

```
public ActionResult Handle(PolicyViolationException exception)
{

    if (SecurityHelper.UserIsAuthenticated())
    {

        return new ViewResult { ViewName = ViewName };
    }
    else
    {
        return new RedirectResult(LoginURL);
    }
} 
```

}

现在它会打开一个新页面，其中包含我的 Shared View AccessDenied。我的问题是如何打开一个弹出窗口而不是一个新页面来显示“访问被拒绝消息”。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T13:34:27.953

取而代之的是 RedirectResult，您可以使用如下模型返回 PartialView。

在您的控制器中......

```
Model.Test M = new Model.Test();
M.Access = "Denied";
return PartialView("ViewName",M); 
```

在你看来……

```
 @model eStorage.Models.Test

 <input type="hidden" id="hdnAccess" value ="@Model.Access" />

<script>
  var Type = $("#hdnAccess").val();
  if(Type == "Denied")
  {
    //window.open    code here
    // or  
    // Use Jquery Dialog
   }

 </script> 
```

# facebook-comments - 从 Facebook 评论插件导入评论并导出到 disqus

> ID：13760591
> 
> 赞同：3
> 
> 时间：2012-12-07T09:46:51.487
> 
> 标签：facebook-comments, disqus

我正在将我网站现有的评论系统从 fb 迁移到 Disqus。现在的问题是我会丢失所有评论，有没有办法可以“迁移它们”？

如何导入脸书评论？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-10T22:28:54.597

无法直接将 Facebook 评论导入 Disqus，但可以通过一些开发工作来实现。最好的方法是从 Facebook 图表中导出评论，然后将其格式化为此处记录的自定义 Disqus WXR 文件：http: [//help.disqus.com/customer/portal/articles/472150](http://help.disqus.com/customer/portal/articles/472150)

# java - groovy 类的 Maven 编译在混合 java-groovy 应用程序中失败

> ID：13760594
> 
> 赞同：2
> 
> 时间：2012-12-07T09:47:09.343
> 
> 标签：java, maven, groovy, intellij-idea

我有一个带有 Groovy 和 Java 类的应用程序。在 IDEA 11 下编译工作**正常**，但是当我尝试使用 Maven 编译时它**失败**了。

项目结构：*src/main/groovy* - 用于 groovy 类，*src/main/java* - 用于 java 类。例如，类 TemplateWriter 尝试使用 groovy 类 AbstractTemplate。

```
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\io\TemplateWriter.java:[16,29] cannot find symbol
symbol  : class AbstractTemplate 
```

类似的答案[在这里](https://stackoverflow.com/questions/4139665/groovy-application-classes-and-java-unit-tests)。但没有任何帮助:(

我的 pom.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>adapter-builder</groupId>
    <artifactId>adapter-builder</artifactId>
    <version>1.0</version>

    <dependencies>
        <dependency>
            <groupId>org.codehaus.groovy</groupId>
            <artifactId>groovy-all</artifactId>
            <version>2.0.5</version>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.7</version>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.16</version>
        </dependency>
    </dependencies>

   <build>
       <plugins>
           <plugin>
               <groupId>org.apache.maven.plugins</groupId>
               <artifactId>maven-compiler-plugin</artifactId>
               <version>3.0</version>
               <configuration>
                   <source>1.5</source>
                   <target>1.5</target>
               </configuration>
           </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-jar-plugin</artifactId>
                <version>2.4</version>
            </plugin>
           <plugin>
               <groupId>org.codehaus.gmaven</groupId>
               <artifactId>gmaven-plugin</artifactId>
               <version>1.4</version>
               <executions>
                   <execution>
                       <phase>compile</phase>
                   </execution>
               </executions>
           </plugin>
       </plugins>
   </build>    
</project> 
```

maven:compile 的全部输出

```
"C:\Program Files (x86)\Java\jdk1.6.0_31\bin\java" -Dclassworlds.conf=C:\apache-maven-2.2.1\bin\m2.conf -Dmaven.home=C:\apache-maven-2.2.1 -Didea.launcher.port=7535 "-Didea.launcher.bin.path=C:\Program Files (x86)\JetBrains\IntelliJ IDEA 11.0\bin" -Dfile.encoding=UTF-8 -classpath "C:\apache-maven-2.2.1\boot\classworlds-1.1.jar;C:\Program Files (x86)\JetBrains\IntelliJ IDEA 11.0\lib\idea_rt.jar" com.intellij.rt.execution.application.AppMain org.codehaus.classworlds.Launcher --no-plugin-registry --fail-fast --no-plugin-updates --strict-checksums --update-snapshots -f D:\Projects\SMEV\_Generator\adapter-builder\pom.xml compile
+ Enabling strict checksum verification on all artifact downloads.
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Building Unnamed - adapter-builder:adapter-builder:jar:1.0
[INFO]    task-segment: [compile]
[INFO] ------------------------------------------------------------------------
[INFO] [resources:resources {execution: default-resources}]
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory D:\Projects\SMEV\_Generator\adapter-builder\src\main\resources
[INFO] [compiler:compile {execution: default-compile}]
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[INFO] Compiling 37 source files to D:\Projects\SMEV\_Generator\adapter-builder\target\classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[7,0] package com.itransition.smev.builder.templates does not exist
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\io\TemplateWriter.java:[3,45] package com.itransition.smev.builder.templates does not exist
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\io\TemplateWriter.java:[16,29] cannot find symbol
symbol  : class AbstractTemplate
location: class com.itransition.smev.builder.io.TemplateWriter
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[23,8] cannot find symbol
symbol  : class VarTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[23,35] cannot find symbol
symbol  : class VarTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[38,8] cannot find symbol
symbol  : class WsXwikiSetDocTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[38,45] cannot find symbol
symbol  : class WsXwikiSetDocTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[46,8] cannot find symbol
symbol  : class WsXwikiSetDocRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[46,52] cannot find symbol
symbol  : class WsXwikiSetDocRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[57,8] cannot find symbol
symbol  : class WsXwikiSetDocResponseTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[57,53] cannot find symbol
symbol  : class WsXwikiSetDocResponseTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[68,8] cannot find symbol
symbol  : class WsXwikiGetSignRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[68,53] cannot find symbol
symbol  : class WsXwikiGetSignRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[79,8] cannot find symbol
symbol  : class WsFoivRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[79,45] cannot find symbol
symbol  : class WsFoivRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[89,8] cannot find symbol
symbol  : class TplRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[89,42] cannot find symbol
symbol  : class TplRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[99,8] cannot find symbol
symbol  : class TplResponseTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[ERROR] \Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[99,43] cannot find symbol
symbol  : class TplResponseTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
[INFO] 19 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Compilation failure

\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[7,0] package com.itransition.smev.builder.templates does not exist
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\io\TemplateWriter.java:[3,45] package com.itransition.smev.builder.templates does not exist
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\io\TemplateWriter.java:[16,29] cannot find symbol
symbol  : class AbstractTemplate
location: class com.itransition.smev.builder.io.TemplateWriter
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[23,8] cannot find symbol
symbol  : class VarTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[23,35] cannot find symbol
symbol  : class VarTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[38,8] cannot find symbol
symbol  : class WsXwikiSetDocTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[38,45] cannot find symbol
symbol  : class WsXwikiSetDocTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[46,8] cannot find symbol
symbol  : class WsXwikiSetDocRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[46,52] cannot find symbol
symbol  : class WsXwikiSetDocRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[57,8] cannot find symbol
symbol  : class WsXwikiSetDocResponseTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[57,53] cannot find symbol
symbol  : class WsXwikiSetDocResponseTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[68,8] cannot find symbol
symbol  : class WsXwikiGetSignRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[68,53] cannot find symbol
symbol  : class WsXwikiGetSignRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[79,8] cannot find symbol
symbol  : class WsFoivRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[79,45] cannot find symbol
symbol  : class WsFoivRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[89,8] cannot find symbol
symbol  : class TplRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[89,42] cannot find symbol
symbol  : class TplRequestTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[99,8] cannot find symbol
symbol  : class TplResponseTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator
\Projects\SMEV\_Generator\adapter-builder\src\main\java\com\itransition\smev\builder\core\AdapterFileGenerator.java:[99,43] cannot find symbol
symbol  : class TplResponseTemplate
location: class com.itransition.smev.builder.core.AdapterFileGenerator

[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2 seconds
[INFO] Finished at: Fri Dec 07 04:57:10 VET 2012
[INFO] Final Memory: 12M/33M
[INFO] ------------------------------------------------------------------------

Process finished with exit code 1 
```

# jquery - 为什么 jquery/css 需要 top 属性的“px”，而不需要 width 或 height 属性？

> ID：13760595
> 
> 赞同：8
> 
> 时间：2012-12-07T09:47:21.857
> 
> 标签：jquery, css

我有以下一段 javascript/jquery 代码：

```
 var some_div = $('<div>', {});

 some_div.
    css('position', 'absolute').
    css('width' , '100').
    css('height', '100').
    css('top'   , '100px').
    css('background-color', '#ddf');

 some_div.appendTo('body'); 
```

它按预期工作，因为它位于`some_div`距离身体顶部 100 像素的位置，并将其宽度和高度设置为 100 像素。

如果我将带有`top`属性的行更改为`css('top' , '100').`ie 如果我省略了`px`，那么该框将忽略指定的属性。显然，`px`需要 top 属性才能生效。

我想知道为什么我不必指定`px`盒子的宽度和高度。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-07T11:16:54.550

仔细阅读源代码后，它看起来像是一个 jQuery 怪癖，而不是浏览器或 CSS 怪异。[jQuery 的 css 函数对您在此函数](https://github.com/jquery/jquery/blob/0877d424e08d57e6f0d1da9a86289fb10d0ee136/src/css.js#L161-L218)中提供的值进行大部分预处理。

该函数以各种方式处理某些 CSS 异常和输入异常。一种方法是通过添加“px”将数字转换为字符串。这永远不会适用于您的情况，因为您提供了字符串。

jQuery 还有一组钩子，在将 CSS 值设置到 DOM 节点之前调用它们。[您的宽度和高度值在这里](https://github.com/jquery/jquery/blob/0877d424e08d57e6f0d1da9a86289fb10d0ee136/src/css.js#L507-L514)被增加，以考虑到[IE5.5 的盒子模型](http://www.quirksmode.org/css/box.html)和`setPositiveNumber()`.

结论：从您的顶部、底部、左侧、右侧、宽度和高度样式中省略“px”是无效的 CSS。由于 jQuery 正在修改您的属性以支持过时的浏览器和数值，因此您可以通过省略“px”来避免在宽度和高度属性中使用无效的 CSS！

以下将起作用：

```
css('top' , 100) 
```

# ios - 有没有像 CSS text-transform:uppercase for iOS UILabel 这样的东西

> ID：13760600
> 
> 赞同：2
> 
> 时间：2012-12-07T09:47:44.890
> 
> 标签：ios, cocoa-touch, uinavigationbar

我有一个`UINavigationBar`标题，我想将所有字母大写，这样“单词”就变成了“单词”。

我想对这个导航栏中的按钮做同样的事情。

我想知道是否有类似 CSS`text-transform:uppercase;`属性的东西可以改变单词的视觉外观，但是一旦检索到它的值，它仍然返回它的原始值。

先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T09:57:44.997

这实际上比你想象的要简单。您可以使用 NSString`uppercaseString`来实现这一点。

```
[myLabel setText:[myString uppercaseString]]; 
```

或者，更适合您的需求：

```
for (UIBarButtonItem *button in self.navigationItem.rightBarButtonItems) { //Your nag bar
    [button setTitle:[[button title] uppercaseString]];
} 
```

**编辑：**字符串不改变的例子。

```
NSString *myString = @"hello";
NSString *mySecondString = @"world!";

UIBarButtonItem *item1 = [[UIBarButtonItem alloc] initWithTitle:[myString uppercaseString] style:UIBarButtonItemStyleBordered target:self action:nil];
UIBarButtonItem *item2 = [[UIBarButtonItem alloc] initWithTitle:[mySecondString uppercaseString] style:UIBarButtonItemStyleBordered target:self action:nil];
[self.navigationItem setRightBarButtonItems:[NSArray arrayWithObjects:item1,item2, nil]];

NSLog(@"%@ | %@",myString,mySecondString);//this will output the same as when it was originally created. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:05:04.953

As using `[myString uppercaseString]` has the downside of returning an uppercase string (well, it is not actually a downside ..) and not the original string, one option would be to set a UILabel with an all-caps font (*Copperplate* is just an example of an all-caps font, you will likely find a better one):

```
int height = navigationController.navigationBar.frame.size.height;
int width = navigationController.navigationBar.frame.size.width;

UILabel *navLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, width, height)];
navLabel.backgroundColor = [UIColor clearColor];
navLabel.textColor = [UIColor whiteColor];
navLabel.shadowColor = [UIColor colorWithWhite:0.0 alpha:0.5];
navLabel.font = [UIFont fontWithName:@"Copperplate" size:18];
navLabel.textAlignment = UITextAlignmentCenter;

self.navigationItem.titleView = navLabel; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:57:51.537

有 ！

```
NSString *myLowercaseString = @"a lowercase string";
NSString *myUppercaseString = [myLowercaseString uppercaseString]; 
```

如果你`NSLog (@"%@", myUppercaseString);`，你会得到以下输出：

> 小写字符串

然后，您可以将按钮或导航栏的文本属性设置为您的字符串。

# visual-studio-2010 - 在 Windows Phone 8 中获取“System.IO.FileNotFoundException”

> ID：13760603
> 
> 赞同：0
> 
> 时间：2012-12-07T09:47:55.003
> 
> 标签：visual-studio-2010, windows-phone-7, visual-studio-2012, windows-phone-8

我正在尝试使用 Windows Phone 8 中的 ScheduledAgent 运行后台任务。一切都得到正确编译，但是当我在 Emulator/Device 上运行应用程序时，我得到一个崩溃说

**“System.Windows.ni.dll 中发生了‘System.IO.FileNotFoundException’”**

相同的代码在 Windows Phone 7 中正常运行。

对于 Windows Phone 8，我使用的是 Visual Studio 2012

对于 Windows Phone 7，我使用的是 Visual Studio 2010

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T05:31:35.753

这是因为我错过了在主应用程序中添加后台代理 dll。一旦我补充说一切似乎都很好:-)

# java - 使用 hockeyapp 在 cocos2dx 中的 C++ 崩溃报告

> ID：13760610
> 
> 赞同：1
> 
> 时间：2012-12-07T09:48:11.743
> 
> 标签：java, c++, macos, debugging, crash-reports

我正在使用 cocos2dx 并在其中集成 hockeyapp 以实现崩溃报告功能。但我发现我只能通过 android hockeyApp 发送在 java 中生成的崩溃。由于 cocos2dx 也涉及 c++，因此 c++ 中发生的崩溃不会被 hockeyApp lib 处理。谁能指导我如何在 c++ 中实现此功能？

问候， Qaiser Butt

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-29T08:16:12.790

不幸的是，曲棍球应用程序不支持 C++，[这](http://support.hockeyapp.net/discussions/problems/33390-hockeyapp-integration-for-chtmljs-windows-app)让我非常难过。

曲棍球应用程序 + JNI (NDK) [在这里](http://support.hockeyapp.net/kb/client-integration-android-other-platforms/hockeyapp-for-android-ndk-early-access)

但是，可以将 breakpad 生成的转储或类似的格式转换为适合曲棍球应用程序的格式，如此[处所做](https://keithjohnston.wordpress.com/2014/01/08/windows-crash-reporting-with-hockeyapp/)

# unity3d - unity3d中的网格碰撞器

> ID：13760613
> 
> 赞同：1
> 
> 时间：2012-12-07T09:48:19.933
> 
> 标签：unity3d

我是编程新手，并且正在按照一本书的指示在 javascript 中编写一个简单的代码。

var Nnet：游戏对象；var theNet= Nnet.AddComponent(MeshCollider);

我在这里尝试将网格对撞机添加到游戏对象。

它显示错误。

我如何向这个游戏对象添加网格对撞机。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:38:07.057

您将 BoxCollider 组件添加到 GameObject Nnet。如果要添加 Mesh Collider，请尝试：

```
var theNet= Nnet.AddComponent(MeshCollider); 
```

如果要使用对撞机与其他对撞机发生碰撞，还必须设置网格对撞机（这里是 theNet）的 sharedMesh。我建议您首先在编辑模式下将网格对撞机添加到游戏对象。选择一个带有网格的游戏对象，然后尝试 Menu->Component->Physics->Mesh Collider。一旦你熟悉了它，你就可以轻松地玩代码了。

# google-chrome - 什么有助于 Chrome 开发人员工具中本机内存快照中的“其他”部分？

> ID：13760614
> 
> 赞同：0
> 
> 时间：2012-12-07T09:48:21.827
> 
> 标签：google-chrome, google-chrome-devtools

随着我将更多数据加载到我的应用程序中，“其他”部分在我的 Web 应用程序中不断增长。这是什么意思？我检查了我的代码是否有内存泄漏，但找不到任何内存泄漏。此外，我在应用程序中保存的对象对于应用程序来说是非常需要的。

瓦伦库马尔·纳加拉扬

![本机内存快照](../Images/9f9536bfd52162187b094d7911f4c455.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T13:09:09.683

你如何检查你的应用程序是否有泄漏？

你见过[追踪 JavaScript 内存泄漏的工具吗](https://stackoverflow.com/questions/11969062/tool-to-track-down-javascript-memory-leak/12061206#12061206)

本机内存快照是一项实验性功能，目前不能用于检测内存泄漏。

# javascript - ajax aspx 脚本参数波兰（特殊）字符

> ID：13760618
> 
> 赞同：2
> 
> 时间：2012-12-07T09:48:32.170
> 
> 标签：javascript, asp.net, ajax, character-encoding

我正在使用 ajax 调用 aspx 服务器端脚本来发送电子邮件。这是我的ajax发送功能：

```
//global variables-------------------------------------------------------
var html_dir = "/Html/"
var net_dir = "/Net/"
//ajax request-----------------------------------------------------------
function ajaxRequest(url, cfunc, asynch)
{
    // code for IE7+, Firefox, Chrome, Opera, Safari
    if (window.XMLHttpRequest)
{
    response = new XMLHttpRequest();
}
// code for IE6, IE5
else
{
    response = new ActiveXObject("Microsoft.XMLHTTP");
}

    //send request
    response.onreadystatechange = cfunc;
    response.open("GET", url, asynch);
    response.send();
}
//----------------------------------------------------------------------- 
```

这就是我运行此功能的方式：

```
ajaxRequest(net_dir + "SendForm.aspx?emailBody=" + emailBody, formSent, true); 
```

它工作正常，但我对波兰语字符有问题（łńóąę 等）。在电子邮件和 SendForm.aspx 脚本中（调试时）有一些奇怪的字符而不是波兰字母。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T11:33:11.937

您很可能需要对参数进行[百分比编码](http://en.wikipedia.org/wiki/Percent-encoding)`emailBody`：

```
ajaxRequest(net_dir + "SendForm.aspx?emailBody=" + encodeURIComponent(emailBody), formSent, true); 
```

届时将

```
encodeURIComponent("łńóąę") === "%C5%82%C5%84%C3%B3%C4%85%C4%99" 
```

在 url 中使用是安全的。

在服务器端，如果没有自动完成，则需要对其进行解码：

```
string emailBody = HttpUtility.UrlDecode( Request.QueryString["emailBody"], 
                             Encoding.UTF8 );
                          //Javascript's encodeURIComponent is always UTF8 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T11:03:28.707

我之前也遇到过同样的问题。您可以将特殊字符替换为某些分隔符“-”或“，”。当您收到回复时，使用您的特殊字符更新您的字符串并发送邮件。

它可能会帮助你。

# android - android proguard 发送邮件失败

> ID：13760625
> 
> 赞同：0
> 
> 时间：2012-12-07T09:48:45.703
> 
> 标签：android, proguard

我在 Windows 上的 Eclipse 中有一个项目，其中包含服务和 btoadcastreceivers 列表......它工作正常！现在，我决定对它进行 Proguard ......所以，我在*project.properties*中添加了这样的行......

```
target=android-8
proguard.config=C:\\Program Files\\Android\\android-sdk\\tools\\proguard\\proguard-android.txt 
```

我有*proguard-android.txt* ...

```
 # This is a configuration file for ProGuard.
    # http://proguard.sourceforge.net/index.html#manual/usage.html

-dontusemixedcaseclassnames
-dontskipnonpubliclibraryclasses
-verbose
-libraryjars C:\Program Files\Java\jdk1.6.0_26\jre\lib\rt.jar(java/**,javax/security/**,javax/activation/**)
# Optimization is turned off by default. Dex does not like code run
# through the ProGuard optimize and preverify steps (and performs some
# of these optimizations on its own).
-dontoptimize
-dontpreverify
# Note that if you want to enable optimization, you cannot just
# include optimization flags in your own project configuration file;
# instead you will need to point to the
# "proguard-android-optimize.txt" file instead of this one from your
# project.properties file.

-keepattributes *Annotation*
-keep public class com.google.vending.licensing.ILicensingService
-keep public class com.android.vending.licensing.ILicensingService

# For native methods, see http://proguard.sourceforge.net/manual/examples.html#native
-keepclasseswithmembernames class * {
native <methods>;
}

# keep setters in Views so that animations can still work.
# see http://proguard.sourceforge.net/manual/examples.html#beans
-keepclassmembers public class * extends android.view.View {
   void set*(***);
   *** get*();
}

# We want to keep methods in Activity that could be used in the XML attribute onClick
-keepclassmembers class * extends android.app.Activity {
   public void *(android.view.View);
}

# For enumeration classes, see         http://proguard.sourceforge.net/manual/examples.html#enumerations
-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

    -keep class * implements android.os.Parcelable {
  public static final android.os.Parcelable$Creator *;
}

-keepclassmembers class **.R$* {
    public static <fields>;
}

# The support library contains references to newer platform versions.
# Don't warn about those in case this app is linking against an older
# platform version.  We know about them, and they are safe.
-dontwarn android.support.** 
```

在添加行之前我有 247 个错误 ###-libraryjars C:\Program Files\Java\jdk1.6.0_26\jre\lib\rt.jar(java/ **,javax/security/** ,javax/activation/**) ## # TO *proguard-android.txt* .... 修改后没有错误。Projects by Export with key make..... 但是应用程序不能完全运行......更准确地说，统计信息不会发送到邮件......每次它必须发送 - 应用程序不发送......只是应该把它放在sd上......你能帮忙吗？有什么事？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:43:19.733

我已将**project.propertis**修改为 ...

```
target=android-8
#proguard.config=C:\\Program Files\\Android\\android-sdk\\tools\\proguard\\proguard-android.txt
progurd.config=proguardbest.cfg 
```

并将**proguardbest.cfg**添加到我的项目中...

```
-optimizationpasses 5
#When not preverifing in a case-insensitive filing system, such as Windows. Because this tool unpacks your processed jars, you should then use:
-dontusemixedcaseclassnames
#Specifies not to ignore non-public library classes. As of version 4.5, this is the default setting
-dontskipnonpubliclibraryclasses
-libraryjars C:\Program     Files\Java\jre6\lib\rt.jar(java/**,javax/security/**,javax/activation/**)
#Preverification is irrelevant for the dex compiler and the Dalvik VM, so we can switch it off with the -dontpreverify option.
-dontpreverify
#Specifies to write out some more information during processing. If the program terminates with an exception, this option will print out the entire stack trace, instead of just the exception message.
-verbose
#The -optimizations option disables some arithmetic simplifications that Dalvik 1.0 and     1.5 can't handle. Note that the Dalvik VM also can't handle aggressive overloading (of     static fields).
#To understand or change this check http://proguard.sourceforge.net/index.html#/manual/optimizations.html
-optimizations !code/simplification/arithmetic,!field/*,!class/merging/*
#To repackage classes on a single package
#-repackageclasses ''
#Uncomment if using annotations to keep them.
#-keepattributes *Annotation*
#Keep classes that are referenced on the AndroidManifest
-keep public class * extends android.app.Activity
-keep public class * extends android.app.Application
-keep public class * extends android.app.Service
-keep public class * extends android.content.BroadcastReceiver
-keep public class * extends android.content.ContentProvider
-keep public class com.android.vending.licensing.ILicensingService
#To remove debug logs:
-assumenosideeffects class android.util.Log {
public static *** d(...);
public static *** v(...);
}
#To avoid changing names of methods invoked on layout's onClick.
# Uncomment and add specific method names if using onClick on layouts
#-keepclassmembers class * {
# public void onClickButton(android.view.View);
#}
#Maintain java native methods 
-keepclasseswithmembernames class * {
native <methods>;
}
#To maintain custom components names that are used on layouts XML.
#Uncomment if having any problem with the approach below
-keep public class custom.components.package.and.name.**

#To maintain custom components names that are used on layouts XML:    
-keep public class * extends android.view.View {
public <init>(android.content.Context);
public <init>(android.content.Context, android.util.AttributeSet);
public <init>(android.content.Context, android.util.AttributeSet, int);
public void set*(...);
}
-keepclassmembers class * extends android.content.Context {
public void *(android.view.View);
public void *(android.view.MenuItem);
 }
 -keepclasseswithmembers class * {
public <init>(android.content.Context, android.util.AttributeSet);
}
-keepclasseswithmembers class * {
public <init>(android.content.Context, android.util.AttributeSet, int);
}
#Maintain enums
-keepclassmembers enum * {
public static **[] values();
public static ** valueOf(java.lang.String);
}
#To keep parcelable classes (to serialize - deserialize objects to sent through Intents)
 -keep class * implements android.os.Parcelable {
public static final android.os.Parcelable$Creator *;
}
#Keep the R
-keepclassmembers class **.R$* {
public static <fields>;
}

#Uncomment if using Serializable 
-keepclassmembers class * implements java.io.Serializable {
private static final java.io.ObjectStreamField[] serialPersistentFields;
private void writeObject(java.io.ObjectOutputStream);
private void readObject(java.io.ObjectInputStream);
java.lang.Object writeReplace();
java.lang.Object readResolve();
} 
```

# sh - 如何对当前目录中的所有文件执行 sh

> ID：13760632
> 
> 赞同：0
> 
> 时间：2012-12-07T09:49:26.693
> 
> 标签：sh

sh checkemp.sh *

每次执行此命令时，它只会检查一个文件。

其中 checkemp.sh 只有一个变量 filename=$1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T13:02:35.277

你可以这样做：

```
for file in checkemp.sh *; do sh $file; done 
```

如果您想同时运行它们，请尝试：

```
for file in checkemp.sh *; do $file & done 
```

这将执行`sh $file`file 迭代 `checkemp.sh`目录中的值和所有其他文件的命令。我不清楚你到底想做什么`checkemp.sh`。也许您正在寻找：

```
for file in *; do sh checkemp.sh $file; done 
```

不过，老实说，您最好`checkemp.sh`使用解释器行编写并执行以下操作：

```
checkemp.sh * 
```

并遍历脚本中的参数。

# .htaccess - 重写不同的url

> ID：13760638
> 
> 赞同：0
> 
> 时间：2012-12-07T09:49:48.420
> 
> 标签：.htaccess, mod-rewrite

我是 med_rewrite 的新手，到目前为止，我还没有运气将一个特定地址指向另一个地址。我想做的是点（301重定向）

[http://roskilde-open.dk/?p=708](http://roskilde-open.dk/?p=708) 到 [http://canopysound.dk/index.php/blog/festivalanlaeg-batteri/](http://canopysound.dk/index.php/blog/festivalanlaeg-batteri/)

我不想制定任何一般规则，因为我只需要重定向这个特定页面。

到目前为止，这一直很令人头疼:(

最好的问候维克托

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:00:27.917

这应该有效：

```
RewriteEngine On
RewriteBase /
RewriteCond %{QUERY_STRING} ^.*p=708.*$
RewriteCond %{HTTP_HOST} ^roskilde-open.dk$
RewriteRule .*  http://canopysound.dk/index.php/blog/festivalanlaeg-batteri? [L, R=301] 
```

**更新**

我更新以确保只有查询`p=708`触发重定向。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:03:29.683

最简单的解决方案（没有任何正则表达式、通配符或类似的东西）：

```
RedirectPermanent <olduri> <newuri> 
```

在你的情况下：

```
RedirectPermanent /?p=708 http://canopysound.dk/index.php/blog/festivalanlaeg-batteri/ 
```

“永久”自动返回 301（永久移动）。

(Note: newuri has to be a full uri including domain name) Take a look at: [http://www.gnc-web-creations.com/301-redirect.htm](http://www.gnc-web-creations.com/301-redirect.htm)

# sql - SQL 不同的行和计数

> ID：13760640
> 
> 赞同：1
> 
> 时间：2012-12-07T09:49:54.703
> 
> 标签：sql, count, row, distinct

我有一张这样的桌子：

```
Id  CookieId
--------------------------------
4   13ab1dc1bac-ef74565ea9ff5ba8
4   13b474728b3-6cf7bf445e311c59
4   13b474728b3-6cf7bf445e311c59
4   13a1b545ebf-20c86b23c91ad2c5
4   13a1b545ebf-20c86b23c91ad2c5 
```

结果应该只是不同的行：

```
Id  CookieId
--------------------------------
4   13ab1dc1bac-ef74565ea9ff5ba8
4   13b474728b3-6cf7bf445e311c59
4   13a1b545ebf-20c86b23c91ad2c5 
```

如果我能得到行数，更多的也会很好。

```
Id      count(CookieId)
-----------------------
4       3 
```

我怎样才能达到这两个结果？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T09:52:05.440

要获得结果中的唯一记录，请使用以下命令：

```
SELECT DISTINCT ID, CookieId
FROM Table1 
```

结果：

```
| ID |                     COOKIEID |
-------------------------------------
|  4 | 13ab1dc1bac-ef74565ea9ff5ba8 |
|  4 | 13b474728b3-6cf7bf445e311c59 |
|  4 | 13a1b545ebf-20c86b23c91ad2c5 | 
```

要获得这样的函数内部唯一`CookieId`使用的计数：`DISTINCT``COUNT`

```
SELECT ID, COUNT(DISTINCT CookieId) AS `COUNT`
FROM Table1
GROUP BY ID 
```

结果：

```
| ID | COUNT |
--------------
|  4 |     3 | 
```

### [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/bc870d/5)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T09:53:22.867

首先选择不同的值使用

```
SELECT DISTINCT CookieId, Id 
FROM YourTable;
GO 
```

这仅起作用，因为您在两列中有重复项。要获取这些值的计数，请使用

```
SELECT Id, COUNT(DISTINCT CookieId)
FROM YourTable;
GROUP BY Id;
GO 
```

我希望这有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T09:52:13.990

你可以试试这个查询

```
select Id,count(CookieId) from table_name group by CookieId; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T09:53:12.930

```
select Id, CookieId, count(1) as Amount
from Table1 group by Id, CookieId 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-07T09:55:13.877

```
 SELECT  DISTINCT(`CookieId`),Id, COUNT(CookieId) FROM
 `tablename` GROUP BY `CookieId` 
```

# jquery - http://arshaw.com/fullcalendar/docs - 当我点击上一个按钮时，我怎么能回到三个月前

> ID：13760648
> 
> 赞同：0
> 
> 时间：2012-12-07T09:50:04.693
> 
> 标签：jquery, fullcalendar

当我按下 arshaw full calendar 的 prev 按钮时，我的要求是回到最后第三个月，例如如果当前月份是 12 月，那么我想在点击 fullcalendar 的上一个按钮时回到 9 月。

同样，当按下下一个按钮时，我想显示下一个第三个月，即三月。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T21:45:37.680

您也可以`$(".fc-button-prev")`用自己的按钮替换按钮（在构建日历后），然后响应点击：

```
yourcal.fullCalendar('gotoDate', back3); 
```

（查看[XDate](http://arshaw.com/xdate/) addMonths）。

# xslt - 如果未设置，则在特定字段之前排序，然后使用另一个

> ID：13760654
> 
> 赞同：0
> 
> 时间：2012-12-07T09:50:19.387
> 
> 标签：xslt, sorting, xslt-1.0

我试图在 PublishingStartDate 之前对我的结果进行排序，如果此日期未设置，则由 Modified 设置。

到目前为止我写的是这个

```
<xsl:for-each select="$Rows">
    <xsl:sort order="descending" select="ddwrt:FormatDateTime(string((@Modified|@PublishingStartDate[normalize-space() != ''])[last()]) ,1043 ,'yyyyMM')"/> 
```

但它所做的是它总是按 Modified 属性排序。你能告诉我我做错了什么吗？

谢谢。

EDIT1：输入 XML，希望按 PublishingStartDate 降序排序

```
<dsQueryResponse>
<Rows>
    <Row PublishingStartDate="13-1-2013 0:00:00" Modified="2012-12-07 09:35:16">
</Rows> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:18:13.777

您的选择表达式将匹配源中最后出现的两个属性中的任何一个，而不是该表达式中最后出现的那个。

尝试更换：

```
(@Modified|@PublishingStartDate[normalize-space() != ''])[last()]) 
```

和

```
(@Modified[not(../@PublishingStartDate[normalize-space() != ''])]|@PublishingStartDate[normalize-space() != '']) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T11:46:36.713

使用 Flynn1179 我能够运行它，更正的 xslt 在这里

```
<xsl:sort order="descending" select="ddwrt:FormatDateTime(string((@Modified[not(../@PublishingStartDate[normalize-space() != ''])]|@PublishingStartDate[normalize-space() != ''])) ,1043 ,'yyyyMM')"/> 
```

# memory - 在 GDB 中打印内存访问

> ID：13760657
> 
> 赞同：-1
> 
> 时间：2012-12-07T09:50:34.570
> 
> 标签：memory, gcc, gdb, trace

我是 gdb 的新手。我想打印在执行 ac 程序期间与实际序列一起使用的内存地址。让我们用一个例子来解释我的问题。假设我们有以下带有两个函数 main() 和 test() 的 c 代码。我知道，在gdb里面，我可以使用“disassemble main”来反汇编main()函数，或者“disassemble test”来分别反汇编test()函数。我的问题是，如何将这两个函数分解为一个代码；这样，我就可以看到执行期间使用的所有内存地址及其访问顺序？具体来说，由于 main() 正在调用 test() 并且 test() 也在多次调用自身，所以我想看到类似示例 2 的内容。我也在徘徊，gdb 反汇编程序中显示的地址，它们是虚拟内存地址还是物理内存地址？任何帮助或指导将不胜感激。

示例 1：

```
#include "stdio.h"

int test(int q)
{
    if(q<16)
    test(q+5);

    return q;
}

void main()
{
    unsigned int a=5;
    unsigned int b=5;
    unsigned int c=5;

    test(a);
} 
```

示例 2：

```
<Memory Address> <assembly instruction> <c instructions>

0x12546a    mov //for unsigned int a=5;
0x12546b    mov //for unsigned int b=5;
0x12546c    mov //for unsigned int c=5;    
0x12546d    jmp //for test(q=a=5);
0x12546e    cmpl //for if(q<16)
0x12546f    jmp //for test(q+5);
0x12546d    jmp //for test(q=10);
0x12546e    cmpl //for if(q<16)
0x12546f    jmp //for test(q+5);
0x12547a    jmp //for test(q=15);
0x12547b    cmpl //for if(q<16)
0x12547c    jmp //for test(q+5);
0x12547d    jmp //for test(q=20);
0x12547e    cmpl //for if(q<16)
0x12547f    jmp //return q);
0x12548a    jmp //return q);
0x12548b    jmp //return q);
0x12548c    jmp //return q); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T18:29:37.303

我想你可能对 valgrind 有更多的运气。如果没有现有的工具可以这样做，则可以添加您自己的工具来报告内存访问（不仅如此），或者更改现有的工具。

例如见[http://valgrind.org/docs/manual/lk-manual.html](http://valgrind.org/docs/manual/lk-manual.html)

--trace-mem= [默认值：否]

启用后，Lackey 会打印程序进行的几乎每个内存访问的大小和地址。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:56:40.550

真的没有很好的方法来做到这一点。您只需要逐步执行代码：

```
(gdb) stepi
(gdb) x/i $pc
(gdb) info registers
(gdb) stepi
(gdb) x/i $pc
(gdb) info registers
..... 
```

您可以编写脚本，以便它快速完成并将数据转储到文件中，但仅此而已。

# ajax - 关于成功的 HTML 表单 Ajax 帖子

> ID：13760662
> 
> 赞同：0
> 
> 时间：2012-12-07T09:50:42.943
> 
> 标签：ajax, forms, jquery, django-views

如下所示，我使用“表单”和“AJAX”将文本区域的内容发布到我网站内的 URL。我看到 POST 确实有效并将 conetn 发布到服务器，成功后我试图在页面上找到要附加它的元素，尽管它不起作用。

你能给些建议么？。调用的函数成功部分应该是我指定目的地的地方，尽管我如何附加这些数据，在目标页面 html 中放置一些 ajax，加载等？

```
<form id="test" onclick="submitForm();">{% csrf_token %}
    <textarea id="red_content" name="content"></textarea>
    <p>
        <input type="submit" value="Publish" name="send">
    </p>
</form>

function submitForm()
{
$.ajax({
url: "http://127.0.0.1:8000/Test/Trial",
data: $('#test'),
type: 'POST',
dataType: 'html',
success: function(data)
{
//$('.content-container5').setFocus();
$('.content-container5').html(data);

}

}); 
```

非常感谢，

汤姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T17:05:53.193

我不太熟悉通过 ajax 提交单个字段（或者在您的情况下是 jQuery 的 ajax 函数）。然而，我确实必须在我最近的一个项目中执行类似的功能。

我找到了这个插件：

[jQuery Ajax 表单提交](http://www.malsup.com/jquery/form/)

它似乎工作得很好。您可能还想为您的项目研究这个。在这种情况下，将提交表单，而不是提交您的一个字段。这可能更容易，因为您不必自己映射字段。您可以将表单发布到同一页面并进行处理或将其发布到给定的 url。

希望这可以帮助。

# javascript - 替换 td 中的部分文本

> ID：13760664
> 
> 赞同：0
> 
> 时间：2012-12-07T09:50:47.500
> 
> 标签：javascript, jquery

我有一个`td`这种格式：

```
<td>
    Business Owner - Delivery Director <br>
    <a href="mailto:me@business.com">me@business.com</a>
</td> 
```

我怎样才能只`"Business Owner - Delivery Director"`用其他东西替换文本？

使用 this.text() 获取`Business Owner - Delivery Director`and `me@business.com`，但我只想要 `Business Owner - Delivery Director.`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-07T09:53:58.407

您可以使用该[`childNodes`](https://developer.mozilla.org/en-US/docs/DOM/Node.childNodes)属性选择第一个文本节点并更改其值：

```
$('td')[0].childNodes[0].nodeValue = "New content"; 
```

这是一个演示：http: [//jsfiddle.net/dpyNy/](http://jsfiddle.net/dpyNy/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T09:54:13.067

用于[`.contents()`](http://api.jquery.com/contents/)获取文本节点（带有[`CharacterData`interface](https://developer.mozilla.org/en-US/docs/DOM/CharacterData)），然后操作其内容：

```
$("td").contents()[0].data = "Businees Owner (CEO)"; 
```

[jsfiddle.net 上的演示](http://jsfiddle.net/z28Ts/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T09:53:07.267

使用*该*结构，您必须使用以下方法进行字符串操作`split`：

```
var td = $("selector_for_the_td_element");
var text = td.html().split("<br>");
text[0] = "new content";
td.html(text.join("<br>")); 
```

...或使用`indexOf`and `substring`：

```
var td = $("selector_for_the_td_element");
var text = td.html();
var index = text.indexOf("<br>");
text = "new content" + text.substring(index);
td.html(text); 
```

现在，如果您可以将 HTML 结构更改为：

```
<td>
    <span>Business Owner - Delivery Director</span><br>
    <a href="mailto:me@business.com">me@business.com</a>
</td> 
```

...它变得容易多了：

```
$("selector_for_the_td_element > span").text("new content"); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-07T09:59:59.033

如果 html 结构正是您发布的内容，您可以这样实现：

```
this.childNodes[0].nodeValue = 'hello'; //this is the td element 
```

# javascript - jQuery Flot 图未加载（JSON 数据）

> ID：13760666
> 
> 赞同：1
> 
> 时间：2012-12-07T09:50:51.697
> 
> 标签：javascript, jquery, json, flot

在将 Flot 用于图表时，我遇到了以下问题。图的输入是 JSON，从服务器检索。

获取数据的ajax调用是：

```
$.ajax({
    url: 'graphdata.do',
    dataType: 'json',
    success: function (retData) {
        renderGraph(retData);
    }
}); 
```

和 renderGraph 功能：

```
function renderGraph(datasets)
{
    var data = [];
    console.log(datasets);
    $('.cbScenarioSelected').each(function(index) {
        if($(this).is(':checked')){
            var id = $(this).prop("id"); //this works, right id is returned
            data.push(datasets[id]);
        }
    });

    $.plot($("#graph1"), data, {
        yaxis: { min: 0 },
        xaxis: { tickDecimals: 0 }
    });
} 
```

服务器返回的数据：

```
{
    "1": {
        "label": "Name1",
        "data": "[[133,64.8000030517578],[134,64.8099975585938],[135,65.0999984741211],[136,66.0699996948242],[137,66.129997253418],[138,66.2600021362305],[139,66.6699981689453],[140,66.9400024414063],[141,67.4100036621094],[142,68.0599975585938],    [143,68.0800018310547],[144,68.3600006103516],[145,68.8699951171875],    [146,69.4899978637695],[147,69.6500015258789],[148,70.0999984741211],    [149,70.7400054931641],[150,70.9199981689453],[151,71.1500015258789],    [152,71.7000045776367],[153,72.0899963378906],[154,72.4799957275391],    [155,73.2700042724609],[156,73.3000030517578],[157,73.4599990844727],    [158,73.5100021362305],[159,74.6799926757813],[160,77.5200042724609],    [161,77.8399963378906],[162,78.8300018310547]]"
    },
    "2": {
        "label": "Name2",
        "data": "[]"
    },
    "3": {
        "label": "Name3",
        "data": "[]"
    }
} 
```

显示图形容器，标签也是如此。图中的线条未显示。有人有想法吗？我认为这与返回数据中“数据”标签周围的引号有关，但我不知道如何修复它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T09:58:34.487

在您的 JSON 中，数据部分是字符串，因为它们是用引号封装的。

事实上，json 应该看起来像（不带引号）

```
 {
    "1": {
        "label": "Name1",
        "data": [
            [
                133,
                64.8000030517578
            ],
            [
                134,
                64.8099975585938
            ],
            [
                135,
                65.0999984741211
            ],
            [
                136,
                66.0699996948242
            ],
            [
                137,
                66.129997253418
            ],
            ...
        ]
    },
    "2": {
        "label": "Name2",
        "data": []
    },
    "3": {
        "label": "Name3",
        "data": []
    }
} 
```

# ruby - 为什么我的 http POST 请求不顺利？

> ID：13760677
> 
> 赞同：1
> 
> 时间：2012-12-07T09:51:56.797
> 
> 标签：ruby, post, neo4j

我正在尝试用 ruby​​ 发出这个[POST 请求](http://docs.neo4j.org/chunked/stable/rest-api-configurable-auto-indexes.html#rest-api-create-an-auto-index-for-nodes-with-specific-configuration)。但回来 `#<Net::HTTPUnsupportedMediaType:0x007f94d396bb98>`我尝试的是：

```
require 'rubygems'
require 'net/http'
require 'uri'
require 'json'

auto_index_nodes =URI('http://localhost:7474/db/data/index/node/')

request_nodes = Net::HTTP::Post.new(auto_index_nodes.request_uri)
http = Net::HTTP.new(auto_index_nodes.host, auto_index_nodes.port)

request_nodes.add_field("Accept", "application/json")

request_nodes.set_form_data({"name"=>"node_auto_index",
                            "config" => {
                            "type" => "fulltext",
                            "provider" =>"lucene"} ,
                            "Content-Type" => "application/json"
                            })

response = http.request(request_nodes) 
```

试图写这部分：

```
"config" => {
             "type" => "fulltext",
             provider" =>"lucene"} ,
             "Content-Type" => "application/json"
            } 
```

像那样：

```
"config" => '{
              "type" => "fulltext",\
              "provider" =>"lucene"},\
              "Content-Type" => "application/json"\
              }' 
```

这次尝试也没有帮助：

```
request_nodes.set_form_data({"name"=>"node_auto_index",
                            "config" => '{ \
                            "type" : "fulltext",\
                            "provider" : "lucene"}' ,
                            "Content-Type" => "application/json"
                            }) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T11:01:52.507

试试这个：

```
require 'rubygems'
require "net/http"
require "uri"
require "json"

uri = URI.parse("http://localhost:7474/db/data/index/node/")

req = Net::HTTP::Post.new(uri.request_uri)
req['Content-Type'] = 'application/json'
req['Accept'] = 'application/json'

req.body = {
  "name" => "node_auto_index",
  "config" => { "type" => "fulltext", "provider" => "lucene" },
}.to_json    

res = Net::HTTP.start(uri.hostname, uri.port) do |http|
  http.request(req)
end 
```

这是[API 文档和对 Net::HTTP 的简短介绍](http://ruby-doc.org/stdlib-1.9.3/libdoc/net/http/rdoc/Net/HTTP.html)

`Content-Type`and是标头，因此`Accept`您需要将它们作为标头发送，而不是在正文中。JSON 内容应该在请求正文中，但您需要将 Hash 转换为 JSON，而不是将其作为名称/值对中的表单数据发送。

# performance - Slow performance of UIPageViewController in iPhone 4

> ID：13760682
> 
> 赞同：3
> 
> 时间：2012-12-07T09:52:08.127
> 
> 标签：performance, ios6, iphone-4, uipageviewcontroller

This is bit unclear question, but I think it's my final resort.

I've got app that utilizes UIPageViewController. It is working fine on iPhone 3GS, 4S and 5\. But on iPhone 4 it is very laggy, unresponsive and animations are very slow.

This is the same build of the application, and each device is using the same iOS version (6.0.1)

Do you know anything that can cause this issue?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-08T03:19:29.363

iPhone 4 is bit problematic when it comes to rendering, as it contains a very high resolution display with a not very good GPU. So when it comes to pushing view-heavy animations, it can slow down a lot. The 3GS is technically slower, but it only has to push a 480x320 resolution, so it is much less stressful.

I would recommend optimizing your views, setting as many of them as possible to opaque and playing with the animation options to lower the performance cost as much as possible.

# php - 包含一个 php 文件而不显示其内容

> ID：13760686
> 
> 赞同：1
> 
> 时间：2012-12-07T09:52:19.293
> 
> 标签：php

是否可以包含一个 php 文件而不包含其内容？我只想访问该文件中的函数和变量而不显示任何内容。我试过这个

```
<?
    ob_start();
    include('$file');
    ob_end_clean();
?> 
```

但这只会隐藏 php 标签中的内容。我也想知道如何隐藏别人。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-07T09:54:30.277

如何隐藏？重新设计您的解决方案并分离您的顾虑！不要将逻辑与 UI 等混为一谈。

也许您应该应用 MVC 或类似模式。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-07T10:04:23.473

虽然我完全同意彼得的回答

我只是尝试过这个，因为我以前从未尝试过..

文件`toinclude.php`：

```
<p>Loads of text</p>
<?php
    function my_test()
    {
        echo 'Hello';
    }
?>
<a href="doesntmatterwhere.php">Ooh a link</a> 
```

文件`includer.php`：

```
<?php
    ob_start();
    include('toinclude.php');
    ob_end_clean();
    my_test();
?> 
```

它确实有效！

输出：

```
Hello 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T09:57:01.393

不，你不能。

包含意味着执行文件中的所有内容，没有办法阻止执行文件的某些部分。唯一的方法是编辑包含的文件。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-07T10:00:04.830

如果您的文件没有打印任何输出，您可以尝试`eval($fileContent)`.

# mysql - 避免使用 mysqldump 阻塞 mysql 和 PC

> ID：13760688
> 
> 赞同：0
> 
> 时间：2012-12-07T09:52:25.427
> 
> 标签：mysql, mysqldump

我有一个 mysql 服务器的 root 访问权限，我需要转储服务器内的所有数据库。我尝试了一个简单的 mysqldump，但由于数据库和表的大小，服务器和 pc 似乎被阻塞了。我可以“优化”这个 DUMP 避免锁定服务器（和 PC）吗？

太感谢了！

**编辑：**

我想从 Mysql 服务器中导出所有数据库。我需要了解将哪些选项传递给 mysqldump 以避免阻塞：

1.  Mysql 服务器 <---- 它**不能**关闭
2.  将要执行此 DUMP 的 PC

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:34:44.273

从命令行触发转储命令。：

```
mysqldump <other mysqldump options> --routines > outputfile.sql 
```

如果我们只想备份存储过程和触发器，而不是 mysql 表和数据，那么我们应该运行类似：

```
mysqldump --routines --no-create-info --no-data --no-create-db --skip-opt <database> > outputfile.sql 
```

如果您需要将它们导入到另一个数据库/服务器，则必须运行以下命令：

```
mysql <database> < outputfile.sql 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T11:10:45.640

您可以禁用锁定：

```
mysqldump --skip-lock-tables 
```

当然，您将无法以这种方式创建一致的转储，因此我不建议使用该选项。

当仅使用 MyISAM 和 ARCHIVE 表时，您可能需要考虑使用 mysqlhotcopy（包含在常规 mysql 包中）。其他表引擎（如 InnoDB）也有类似的软件可用。

另一种选择是使用复制从属设备进行备份。

# java - 如何找到'|' java中字符串中的模式？

> ID：13760690
> 
> 赞同：3
> 
> 时间：2012-12-07T09:52:36.937
> 
> 标签：java, regex, pattern-matching

我想拆分字符串。

例如）

```
str1=str\|2|str3=str4 
```

结果）

```
str1=str\|2
str3=str4 
```

如何在java中使用模式拆分它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:09:10.470

使用此正则表达式拆分

```
(?<=\\|\\d)\\|
            --
             |
             |->kept | out so it doesnt get included in the result! 
```

在[这里查看](http://ideone.com/dEAoCX)

# playframework-2.0 - 具有多个 Akka.futures 的多个 DB 访问 VS 在单个 Future 中包装 DB 访问

> ID：13760698
> 
> 赞同：2
> 
> 时间：2012-12-07T09:53:22.947
> 
> 标签：playframework-2.0, akka

当我第一次使用 Play 2 进行开发时，我发现我在我的控制器中做了很多这样的事情（其中一个更简单的例子）：

```
 val promUser = Akka.future(UserService.findByUsername(access.username))
  Async(
    promUser.map {
      _.map{
        user => {
          val promService = Akka.future(ServiceService loadOnlyWithUser (id,user.id.get))
          Async(
            promService.map { _.map { service =>
              Ok(toJson(service))
            }.getOrElse(BadRequest("not accessible"))}
          )
        }
      }.getOrElse {
        BadRequest("unauthorised")
      }
    }
  ) 
```

有一个单一的未来会更好吗？例如：

```
val promService = Akka.future{
    val userOption = UserService.findByUsername(access.username)
    userOption.map( user => {
      ServiceService loadOnlyWithDeveloper (id,user.id.get)
    }).getOrElse(None)

  }
  Async(
    promService.map { _.map { service =>
      Ok(toJson(service))
    }.getOrElse(BadRequest("unauthorised"))}
  ) 
```

我在想，一方面，控制器的许多期货/回报可能会增加开销，另一方面，将调用分组到一个未来将更具可读性，但会导致在 Akka 系统中运行更大的“线程”。对于更大的工作，我有一个额外的 Akka 系统，所以这些可能最多只包含 4 个 SQL 事务。就我可以从 apache bench 中解决的问题而言，上面的示例之间没有任何区别......我有什么遗漏吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T23:59:55.040

您的示例在性能上没有任何差异，因为它们是等效的。

当你写：

```
val promUser = Akka.future(UserService.findByUsername(access.username)) 
```

它不会开始评估它`Future`，它只会在您映射它时执行。

据我了解，您需要考虑期货组合。这是一个非常好的文档，我会推荐：[http ://docs.scala-lang.org/sips/pending/futures-promises.html](http://docs.scala-lang.org/sips/pending/futures-promises.html)

那么，为了回答您的问题，如果您需要按顺序执行一堆查询，我认为如果您有多个期货，每个数据库访问一个期货，这不会有什么不同。例如检索一条记录，然后将其删除。

您可以利用 Futures 的地方（除了使您的应用程序非阻塞）是利用 for-comprehension 语法，以便您可以同时运行两个或多个异步 Futures，例如

```
for {
  authUser <- User.findById(request.authUserId)
  otherUser <- User.findById(id)
} yield (authUser, otherUser) 
```

另外，我建议使用`flatMap`将您的 Futures 组合在一起，而不是使用多个`Async{}`块。这样，您将有效地将多个 Future 扁平`Future[Future[Result]]`化为一个可以是`AsyncResult`.

# jquery - 使用 jQuery 限制 TextArea 长度的代码中是否存在任何缺陷？

> ID：13760700
> 
> 赞同：0
> 
> 时间：2012-12-07T09:53:47.737
> 
> 标签：jquery

我必须将 TextArea 的长度限制为 2 个字符。我找到了很多答案。阅读这些答案，我已经达到了以下代码。它具有“keydown”和“keyup”的事件处理程序。

1.  你认为这是正确的和足够的吗？
2.  它可以在所有主流浏览器中运行吗？

[http://jsfiddle.net/Lijo/VAYze/1/](http://jsfiddle.net/Lijo/VAYze/1/)

1.  注意：我不需要显示错误消息。因此，正则表达式验证对我来说不是一个好的选择。
2.  注意：我正在寻找基于现有代码的答案——而不是一个全新的答案
3.  注意：关键代码来自[http://www.asquare.net/javascript/tests/KeyCode.html](http://www.asquare.net/javascript/tests/KeyCode.html)和[http://www.asquare.net/javascript/tests/KeyCode.html](http://www.asquare.net/javascript/tests/KeyCode.html)

**更新**

要将文本处理`dragged`到文本区域，我没有看到 jQuery 解决方案。我打算`regular expression validator`用`EnableClientScript`=“false”做一个。它将仅在服务器端进行验证。这是为了处理绕过现有 jQuery 操作的任何内容。 [多行文本框的 ASP 正则表达式验证器](https://stackoverflow.com/questions/7094997/asp-regular-expression-validator-for-multi-line-textbox)

**jQuery**

```
$(document).ready(function () {

var maxLength = 2;

$('.multiline').keydown(function (e) {

    var existingText = $(this).val();
    var existingLength = existingText.length;

    if (existingLength >= maxLength) 
    {
        if (maxLength > 0) 
        {

            if (!checkSpecialKeys(e)) 
            {
                $(this).val(existingText.substring(0, maxLength));
                 $(this).css('color','red');

                //Newly entered character not rendered since false is returned
                e.preventDefault();
            }
        }
    }

  });

//To trim the text if a paste happens
$('.multiline').keyup(function (e) {

    var newText = $(this).val();
    var newLength = newText.length;

    if (newLength > maxLength) {
        if (maxLength > 0) {
            $(this).val(newText.substring(0, maxLength));
            $(this).css('color','red');
        }
    }

});

}
);

function checkSpecialKeys(e) 
{
if (e.keyCode >= 48 && e.keyCode <= 90) 
{
    return false;
}

if (e.keyCode >= 96 && e.keyCode <= 111) 
{
    return false;
}

else 
{
    return true;
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:09:47.063

~~根据您的要求，我只能说您应该在 textarea 上使用 maxlength 属性。这可以节省您的 JavaScript 代码，处理特殊情况，例如将文本拖到输入中。由于它是浏览器功能，因此速度更快。所有支持 textarea 的浏览器都支持它。~~

例子：

```
<textarea maxlength="2"></textarea> 
```

 ~~maxlength 是 textarea 的一个新属性。并非所有浏览器都支持它......（[来源](http://www.w3schools.com/tags/att_textarea_maxlength.asp)）

对不起~~

# php - PHP SOAP 传递 ComplexType 参数

> ID：13760703
> 
> 赞同：0
> 
> 时间：2012-12-07T09:54:01.840
> 
> 标签：php, soap, wsdl, soap-client

我正在尝试从我的网络应用程序调用 SOAP 服务。我创建了一个没有问题的肥皂客户端，但我在调用 SOAP 方法 GetCustomer 时遇到了问题。我收到以下 SOAP 错误

```
SOAP-ERROR: Encoding: object hasn't 'any' property. 
```

我认为问题出在提供的参数上。参数是类型的`ComplexType`，我不确定我是否直接从 PHP 传递它。这是来自 GetCustomer 方法的 WSDL：

```
<s:element name="GetCustomer">
    <s:complexType>
        <s:sequence>
            <s:element minOccurs="0" maxOccurs="1" name="user" type="s:string"/>
            <s:element minOccurs="0" maxOccurs="1" name="password" type="s:string"/>
            <s:element minOccurs="0" maxOccurs="1" name="xmlParams">
                <s:complexType mixed="true">
                    <s:sequence>
                        <s:any/>
                    </s:sequence>
                </s:complexType>
            </s:element>
        </s:sequence>
    </s:complexType>
</s:element> 
```

我发现[这篇文章](http://leifmadsen.wordpress.com/2009/08/04/consuming-soap-complextype-webservice-with-php/)解决了这个问题，当我将它应用于我的代码时，我得到了上述错误。这是我的PHP代码：

```
$params = new StdClass();
$params->user = '****';
$params->password = '****';
$params->xmlParams = new StdClass();

$soap_options = array('trace' => 1, 'exceptions'  => 1 );
$wsdl = "https://web-icdev.saop.si/iCenter_WS/SAOPWS_Customer.asmx?WSDL";
$client = new SoapClient($wsdl, $soap_options);

try {
    $result = $client->GetCustomer($params);
    var_dump($result);
} 
catch (SOAPFault $f) {
    echo $f->getMessage();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-23T17:06:01.347

您必须创建 3 个文件：

1.GetCustomer.class.php

```
<?php 
class GetCustomer{ 
var $user; 
var $password;
var $xmlParams;
} 
```

2.xmlParams.class.php

```
<?php 
class xmlParams{ 
} 
```

2.ServiceConsumer.php

```
 <?php
 include_once 'GetCustomer.class.php';
 include_once 'xmlParams.class.php';

 $objGetCust = new GetCustomer();
 $objGetCust->user = '****';
 $objGetCust->password = '****';
 $objGetCust->xmlParams = new xmlParams();

 $soap_options = array('trace' => 1, 'exceptions'  => 1 );
 $wsdl = "https://web-icdev.saop.si/iCenter_WS/SAOPWS_Customer.asmx?WSDL";
 $client = new SoapClient($wsdl, $soap_options);

 try {
    $result = $client->GetCustomer($params);
    var_dump($result);
 }catch (SOAPFault $f) {
        echo $f->getMessage();
 } 
```

这是我使用这些 web 服务的方式，您也可以将 GetCustomer 和 xmlParams 类放在文件**ServiceConsumer.php**中，或者可能将两者放在同一个文件中。

但我更喜欢在不同的文件中使用 all。

此致。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T20:23:37.217

尝试这个：

```
$params = new StdClass();

$params->user = '****';

$params->password = '****';

$foo = new StdClass();

$foo->any = $yourXML;

$param->xmlParams = $foo;

$soap_options = array('trace' => 1, 'exceptions'  => 1 );

$wsdl = "https://web-icdev.saop.si/iCenter_WS/SAOPWS_Customer.asmx?WSDL";

$client = new SoapClient($wsdl, $soap_options);

try {
    $result = $client->GetCustomer($params);
    var_dump($result);
} 
catch (SOAPFault $f) {
    echo $f->getMessage();
} 
```

# jsf - 如何阻止在primefaces中显示p：咆哮消息

> ID：13760709
> 
> 赞同：0
> 
> 时间：2012-12-07T09:54:23.787
> 
> 标签：jsf, primefaces

我`p:growl`在我的`xhtml`页面中定义了一个这样的：

```
<p:growl id="growl" showDetail="true" />. 
```

当提交我的表单时，当它们为空时，必填字段显示错误消息。它用红色边框突出显示必填字段。所以我需要突出显示部分但不想显示`p:growl`。但是`p:growl`组件用于其他目的。`p:growl`当必填字段为空时，如何阻止显示 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-08-14T11:55:48.217

Jens 的变种使咆哮不显示所有消息。下一个解决方案对我有用：

```
<p:growl id="growl" showDetail="true" rendered="#{not facesContext.validationFailed}"/> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T11:05:51.537

如果我正确理解您的问题，您只想在`p:growl`没有验证错误时显示。

为此，您可以向咆哮组件添加渲染属性：

```
<p:growl id="growl" showDetail="true" rendered="#{empty facesContext.messages}"/> 
```

只有在没有验证错误的情况下才会发出咆哮声。

编辑：我删除`not`了 el.

# python - 如何在python中迭代具有字符串值的整数

> ID：13760712
> 
> 赞同：1
> 
> 时间：2012-12-07T09:54:39.337
> 
> 标签：python

我有一个来自我的班级属性的电影标题和时间列表。我已经显示了这个列表：

```
for i in range(0, len(films)):
     print(i, films[i].title, films[i].time) 
```

这给了我一个标题的数量和时间列表。

现在我想获取标题中的任何项目，以便我可以根据座位数的选择进行计算。

我试过这个：

```
i = int(input("Please select from our listings :"))
while i <= films[i].title:
    i = input("Please select from our listings :")
    if i in films[i].title:
        print("You have selected film: ",films[i].title)
        print("Regular seat: ", choice[regular], "\nVip Seat: ", choice[vip], "\nDiamond Seat: ", choice[diamond], "\nPlatinum Seat: ", choice[platinum], "\nDisability Regular Seat: ", disabilityRegular, "\nDisability Vip Seat: ", disabilityVip, "\nDisability Diamond Seat", disabilityDiamond, "\nDisability Platinum Seat", disabilityPlatinum )
        seatType = input("\nSelect your seat from these list: ")
        seating = int(input("How many seats: "))

        if seating == items in choice:
            total = seating*altogether[seatType]
            print(total) 
```

运行时显示如下：（注意列表从 0 开始）：

```
29 End of Watch 20:00
30 Gremlins 19:30
31 The Twilight Saga: Breaking Dawn part 2 20:00

Please select from our listings :6
Please select from our listings :4

Traceback (most recent call last):
  File "C:/Python32/cin.py", line 91, in <module>
    if i in films[i].title:
TypeError: 'in <string>' requires string as left operand, not int 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:13:19.653

```
if i in films[i].title: 
```

尝试匹配字符串中的整数。您必须先将整数转换为字符串：

```
if str(i) in films[i].title: 
```

但这会匹配`2`到名字之类`'... part 2'`的，而且也是`'1492: Conquest of Paradise'`。

如果要查找电影的编号，请尝试以下操作：

```
for i, film in enumerate(films):
     print('{0:3} {1:30} {2:5}'.format(i, film.title, film.time))

while True:
    try:
        film = films[int(input("Please select from our listings :"))]
    except (ValueError, IndexError), e:
        # input is not an integer between 0 and len(films)
        continue

    # now we have a valid film from the list
    print("You have selected film: ",film.title)
    # ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T11:05:19.680

如果您使用电影 ID 作为键，则可能值得使用字典而不是列表来存储您的电影。这样您就可以使用“in”来检查您的电影 ID 键是否存在于字典中，而不必担心超出范围的异常。

```
class Film(object):
    def __init__(self, title, time):
        self.title = title
        self.time = time

films = {}
films[29] = Film("End of Days", "20:00")
films[30] = Film("Gremlins", "19:30")
films[31] = Film("The Twilight Saga: Breaking Dawn part 2", "20:30")

for k,v in films.iteritems():
    print (k, v.title, v.time)

while True:
    i = int(input("Please select from our listings:"))
    if i in films:
        print ("You have selected film: ", films[i].title)
        # select seat here
    else:
        continue 
```

# android - 从一组点计算边界框

> ID：13760713
> 
> 赞同：0
> 
> 时间：2012-12-07T09:54:46.340
> 
> 标签：android, gesture-recognition

我真的找不到任何资源来知道如何计算一组点的边界框。

我有一个浮点/整数数组，我希望为其计算边界框（我想知道边界框矩形的所有四个角）。我该如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:02:36.850

您可以遍历数组：

```
int minX = Integer.MAX_VALUE, minY, maxX, maxY = Integer.MAX_VALUE;

for (int i=0;i<myArray.length;i++){
    if (myArray[i].x > maxX){
        maxX = myArray[i].x;
    } else if (myArray[i].x < minX) {
        minX = myArray[i].x;
    } else if (myArray[i].y > maxY){
        maxY = myArray[i].y;
    } else (myArray[i].y < minY) {
        minY = myArray[i].y;(
    }
} 
```

您没有说您使用的是哪种列表（点数组或其他），因此您需要根据需要进行`myArray[i].y`调整`maxY = Integer.MAX_VALUE`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T19:12:39.613

计算 AABB（轴对齐边界框）相当简单。只需对每个轴上的点进行排序，找到每个轴上的最小最大值。这些点的 4 条线的交点是您的 AAB 矩形。

计算 OBB（定向边界框）并不简单。幸运的是，GestureUtils 上有一个方法可以做到这一点，即：

[GestureUtils.computeOrientedBoundingBox(float[] 点)](http://developer.android.com/reference/android/gesture/GestureUtils.html#computeOrientedBoundingBox%28float%5B%5D%29)

把你的浮点数组传递给它，生活就很好:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-08-05T01:09:31.610

尽管您没有真正指定您所指的点类型，但这段代码应该仍然有效。我用它来围绕模型的顶点创建一个边界框。还应该注意的是，旋转应该与加载顶点分开发生。我实际上相当确定除非明确说明或使用顶点数据序列化，否则您无法检测到旋转。此外，从数学角度来看，AABB 和 OBB 在技术上是相同的，正如我在这里证明的那样：[https](https://stackoverflow.com/a/63094985/3214889) ://stackoverflow.com/a/63094985/3214889 。因此，即使您的问题特别说明了定向边界框，以下代码也适用于两者。但是，之后您需要旋转盒子；除非你以某种方式序列化旋转。

```
 public void FromVertices(Vertex[] vertices)
        {
            // Calculate Bounding Box
            float minX = float.PositiveInfinity;
            float maxX = float.NegativeInfinity;
            float minY = float.PositiveInfinity;
            float maxY = float.NegativeInfinity;
            float minZ = float.PositiveInfinity;
            float maxZ = float.NegativeInfinity;
            for (int i = 0; i < vertices.Length; i++)
            {
                Vector3 vertex = vertices[i].Location;
                // Check for maximum
                if (vertex.X > maxX)
                {
                    maxX = vertex.X;
                }
                if (vertex.Y > maxY)
                {
                    maxY = vertex.Y;
                }
                if (vertex.Z > maxZ)
                {
                    maxZ = vertex.Z;
                }
                // Check for Minimum
                if (vertex.X < minX)
                {
                    minX = vertex.X;
                }
                if (vertex.Y < minY)
                {
                    minY = vertex.Y;
                }
                if (vertex.Z < minZ)
                {
                    minZ = vertex.Z;
                }
            }
            this.Minimum = new Vector3(minX, minY, minZ);
            this.Maximum = new Vector3(maxX, maxY, maxZ);
        } 
```

# iphone - 如果应用程序在后台运行，如何获取当前位置的纬度和经度？

> ID：13760715
> 
> 赞同：0
> 
> 时间：2012-12-07T09:54:45.580
> 
> 标签：iphone, objective-c, cocoa-touch, ios4

我正在与 CLLocation 经理合作，

我已经实现`startUpdatingLocation`了获取当前位置纬度和经度的方法。

如果应用程序运行前台，我得到当前位置的纬度和经度，但是当应用程序在后台运行时它不起作用。

如果应用程序在后台运行，请建议我如何获得当前位置的纬度和经度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:00:07.297

我刚刚从这个链接在stackoverflow中找到了答案：-

[如何在我的 iOS 应用程序中每 n 分钟更新一次后台位置？](https://stackoverflow.com/questions/6347503/how-do-i-get-a-background-location-update-every-n-minutes-in-my-ios-application/6465280#6465280)

在 Apple Developer Forums 的帮助下找到了实现此功能的解决方案。我做了以下事情：

*   指定位置背景模式
*   通过使用`NSTimer`在后台使用`UIApplication:beginBackgroundTaskWithExpirationHandler:`
*   万一`n`比`UIApplication:backgroundTimeRemaining`它工作得好，万一`n`更大，位置管理器应该在没有剩余时间之前再次启用（和禁用）以避免后台任务被杀死。这确实有效，因为 location 是三种允许的后台执行类型之一。

**注意**：通过在模拟器中测试它而放松了一些时间，它不起作用，在我的手机上工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:01:25.753

在后台获取当前位置 在 plist 中指定位置后台模式。

# jquery - plupload asp.net 处理程序不完整的文件

> ID：13760719
> 
> 赞同：2
> 
> 时间：2012-12-07T09:54:57.387
> 
> 标签：jquery, asp.net, handler, ashx, plupload

当我将运行时设置为“html4”时，一切正常。所有其他运行时（更好，因为您可以一次选择多个文件）似乎工作正常，除了文件没有完全上传。几 kb (42 / 28 / 50) 后显示“100% 完成”。文件已存储且不完整。有任何想法吗？

```
$("#uploader").plupload({
// General settings
runtimes : 'gears,flash,silverlight,browserplus,html5',
url : 'upload.ashx',
max_file_size : '10mb',
chunk_size : '1mb',
unique_names : true,

// Resize images on clientside if we can
resize : {width : 320, height : 240, quality : 90},

// Specify what files to browse for
filters : [
    {title : "Image files", extensions : "jpg,gif,png"},
{title : "Zip files", extensions : "zip"}
    ],

    // Flash settings
    flash_swf_url : 'js/plupload.flash.swf',

    // Silverlight settings
    silverlight_xap_url : 'js/plupload.silverlight.xap'
});

// Client side form validation
$('form').submit(function(e) {
    var uploader = $('#uploader').plupload('getUploader');

    // Files in queue upload them first
    if (uploader.files.length > 0) {
        // When all files are uploaded submit form
        uploader.bind('StateChanged', function() {
            if (uploader.files.length === (uploader.total.uploaded + uploader.total.failed)) {
                $('form')[0].submit();
            }
        });

        uploader.start();
    } else
        alert('You must at least upload one file.');

    return false;
}); 
```

上传.ashx：

公共类上传：实现 IHttpHandler

```
Public Sub ProcessRequest(ByVal context As HttpContext) Implements IHttpHandler.ProcessRequest
    Dim chunk As Integer = If(context.Request("chunk") IsNot Nothing, Integer.Parse(context.Request("chunk")), 0)
    Dim fileName As String = If(context.Request("name") IsNot Nothing, context.Request("name"), String.Empty)

    Dim fileUpload As HttpPostedFile = context.Request.Files(0)

    Dim uploadPath = context.Server.MapPath("uploads")
    Using fs = New FileStream(Path.Combine(uploadPath, fileName), If(chunk = 0, FileMode.Create, FileMode.Append))
        Dim buffer = New Byte(fileUpload.InputStream.Length - 1) {}
        fileUpload.InputStream.Read(buffer, 0, buffer.Length)

        fs.Write(buffer, 0, buffer.Length)
    End Using

    context.Response.ContentType = "text/plain"
    context.Response.Write("Success")
End Sub

Public ReadOnly Property IsReusable() As Boolean Implements IHttpHandler.IsReusable
    Get
        Return False
    End Get
End Property 
```

# windows-phone-7 - 如何在 wp7 mediaLibrary 中下载和保存音频和视频？

> ID：13760728
> 
> 赞同：0
> 
> 时间：2012-12-07T09:55:42.903
> 
> 标签：windows-phone-7, mediaelement, media-library

你能告诉我如何将示例音频和视频保存或存储到 mediaLibrary。如果我长按图片，我会从我的应用程序中获得一个保存图片选项，该选项将图片保存在 MediaLibrary 中保存的图片类别下。同样，我如何保存 mp3 和 mp4 文件。

我可以直接在模拟器上下载内容并播放音频，但无法将任何 mp3 文件从网络保存到 MediaLibrary。有没有其他方法可以将歌曲添加到 MediaLibrary？

请帮我。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-09T09:08:28.603

Windows Phone 7 API 不允许将音频和视频保存到媒体库，只能保存在应用程序本身的隔离存储中。

这与图片形成对比，就像您说的那样，您可以将其保存到媒体库中。

# c# - 在 c# 中将 char 键码转换为字节 IBM AT 样式键盘

> ID：13760730
> 
> 赞同：1
> 
> 时间：2012-12-07T09:56:02.267
> 
> 标签：c#, styles, at-command, keycode

我必须从 c# 中的 keyEventArgs 读取一个键码（来自 KeyDown 事件的 e.keyCode）并将其解析为 IBM AT-Style KeyCode，（例如，'a' 字符键码是 65，但在 IBM AT-Style 键盘中是 30）任何人知道我该如何解析它？

谢谢和最好的问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:35:17.453

不知道你在做什么，但可以用字典来解决吗？

```
var keyToIBMATCode = new Dictionary<Keys, int> 
{
        { Keys.Q, 16 },
        { Keys.W, 17 },
        { Keys.E, 18 },
        { Keys.R, 19 },
        { Keys.T, 20 },
        { Keys.Y, 21 },
        { Keys.U, 22 },
        { Keys.I, 23 },
        { Keys.O, 24 },
        { Keys.P, 25 },
        { Keys.A, 30 },
        { Keys.S, 31 },
        { Keys.D, 32 },
        { Keys.F, 33 },
        { Keys.G, 34 },
        { Keys.H, 35 },
};

int IBMCode = keyToIBMATCode[Keys.A]; 
```

# joomla - 从网站后端添加内容时，如何在 joomla 中查找更改的文件/文件夹

> ID：13760731
> 
> 赞同：0
> 
> 时间：2012-12-07T09:56:05.833
> 
> 标签：joomla, joomla1.5, joomla2.5

当管理员从站点的后端添加内容时，我需要知道哪些所有文件或文件夹可以在 joomla 中更改。如果可能，列出这些文件夹/文件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:28:37.800

Joomla！使用数据库存储所有内容。

除了媒体文件、日志文件、tmp 文件和缓存之外，Joomla! 不在文件/文件夹中存储任何其他内容。

也许你可以更清楚地暴露你的问题。你到底想做什么？

# report - 为什么要将报告导出到 CSV/Excel？

> ID：13760732
> 
> 赞同：0
> 
> 时间：2012-12-07T09:56:10.690
> 
> 标签：report

我正在开发一个网络平台，它将使用 highchart 显示数据表和图表。此外，还有一个导出功能供用户下载 csv/excel 文件。

但我在想我为什么要做这个。导出 csv 或 excel 可能是标准。但是有什么优势吗？

我想我可以改为导出 html 文件，页面将是交互式的，并且比 excel 文件好得多。有人知道这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:00:24.540

CSV 允许用户更好地控制他们如何显示数据 - 如果您允许他们访问这些数据，您可能会从用户那里看到一些很棒的可视化。

很可能，实际使用 CSV 的人（这将是一小部分）无论如何都会抓取数据 - 因此提供它们可以节省带宽并增加用户群的幸福感，因为他们不必经历写作的努力刮刀。

不过，这一切都取决于数据的类型。

# ember.js - Ember.js - 使用 Handlebars 助手检测子视图是否已呈现

> ID：13760733
> 
> 赞同：8
> 
> 时间：2012-12-07T09:56:16.890
> 
> 标签：ember.js

有许多问题以一种或另一种方式提出：“在呈现视图的某些部分后，我该如何做某事？” （[这里](https://stackoverflow.com/questions/11234937/in-an-ember-view-whats-the-best-way-to-run-code-after-the-rerendering-of-an-in)、[这里](https://stackoverflow.com/questions/10236467/ember-js-subviews-and-didinsertelement-event)和[这里](https://stackoverflow.com/questions/9510634/is-there-an-after-view-change-hook-much-like-didinsertelement?rq=1)只是给出一些）。答案通常是：

1.  用于在*最初*呈现`didInsertElement`视图时运行代码。
**   如果您需要访问已创建的 DOM 元素，则用于在刷新视图更改后*运行*`Ember.run.next(...)`您的代码。**   在加载所需的*数据*后，使用观察者`isLoaded`或类似的属性来做某事。**

 ***令人恼火的是，它会导致一些看起来非常笨拙的事情：

```
didInsertElement: function(){
    content.on('didLoad', function(){
        Ember.run.next(function(){
            // now finally do my stuff
        });
    });
} 
```

当您使用 ember-data 时，这甚至不一定有效，因为`isLoaded`可能已经是真的（如果之前已经加载了记录并且没有再次从服务器请求）。所以要正确排序是很困难的。

最重要的是，您可能已经在您的视图模板中观看 isLoaded，如下所示：

```
{{#if content.isLoaded}}
    <input type="text" id="myTypeahead" data-provide="typeahead">
{{else}}
    <div>Loading data...</div>
{{/if}} 
```

并在您的控制器中再次执行此操作似乎是重复的。

我想出了一个稍微新颖的解决方案，但它要么需要工作，要么实际上是个坏主意……这两种情况都可能是真的：

我编写了一个名为 Handlebars 的小助手`{{fire}}`，它会在执行包含的把手模板时触发一个具有自定义名称的事件（即，每次重新渲染子视图时都应该这样做，对吧？）。

这是我*很早*的尝试：

```
Ember.Handlebars.registerHelper('fire', function (evtName, options) {
    if (typeof this[evtName] == 'function') {
        var context = this;
        Ember.run.next(function () {
            context[evtName].apply(context, options);
        });
    }
}); 
```

像这样使用：

```
{{#if content.isLoaded}}
    {{fire typeaheadHostDidRender}}
    <input type="text" id="myTypeahead" data-provide="typeahead">
{{else}}
    <div>Loading data...</div>
{{/if}} 
```

这基本上可以按原样工作，但它有几个我已经知道的缺陷：

1.  它调用控制器上的方法......至少*能够*将“事件”发送到祖先视图对象可能会更好，甚至可能使其成为默认行为。我试过`{{fire typeaheadHostDidRender target="view"}}`了，但没有用。我还看不到如何从传递给助手的内容中获取“当前”视图，但显然`{{view}}`助手可以做到。
2.  我猜有比我在这里做的更正式的方式来触发自定义事件，但我还没有学会。jQuery`.trigger()`似乎不适用于控制器对象，尽管它可能适用于视图。有没有“Ember”的方式来做到这一点？
3.  可能有些事情我不明白，例如会触发此事件但视图实际上不会添加到 DOM 的情况......？

正如您可能猜到的，我正在使用 Bootstrap 的 Typeahead 控件，并且我需要在`<input>`渲染后连接它，这实际上只发生`{{#if}}`在我的模板中的几个嵌套块评估为 true 之后。我也使用 jqPlot，所以我经常需要这种模式。这似乎是一个可行且有用的工具，但可能是我遗漏了一些使这种方法变得愚蠢的大图景。或者也许还有另一种方法没有出现在我的搜索中？

有人可以为我改进这种方法或告诉我为什么这是一个坏主意吗？

## 更新

我已经弄清楚了一些问题：

1.  我可以通过 ...obvious 获得第一个“真实”包含视图`options.data.view.get('parentView')`，但我认为它不会那么简单。
2.  您实际上可以`obj.trigger(evtName)`在任意对象上执行 jQuery 样式...但是该对象必须扩展`Ember.Evented`mixin！所以我认为这是在 Ember 中发送这种事件的正确方法。只需确保预期的目标扩展`Ember.Evented`（视图已经扩展）。

这是迄今为止的改进版本：

```
Ember.Handlebars.registerHelper('fire', function (evtName, options) {
    var view = options.data.view;
    if (view.get('parentView')) view = view.get('parentView');

    var context = this;
    var target = null;
    if (typeof view[evtName] == 'function') {
        target = view;
    } else if (typeof context[evtName] == 'function') {
        target = context;
    } else if (view.get('controller') && typeof view.get('controller')[evtName] == 'function') {
        target = view.get('controller');
    }

    if (target) {
        Ember.run.next(function () {
            target.trigger(evtName);
        });
    }
}); 
```

现在我所缺少的只是弄清楚如何传入预期的目标（例如控制器或视图——上面的代码试图猜测）。或者，找出是否存在破坏整个概念的意外行为。

还有其他输入吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-13T10:28:08.717

## 更新

**为 Ember 1.0 final 更新，我目前在 Ember 1.3.1 上使用此代码。**

好吧，我想我已经弄清楚了。这是“完整”的车把助手：

```
Ember.Handlebars.registerHelper('trigger', function (evtName, options) {
    // See http://stackoverflow.com/questions/13760733/ember-js-using-a-handlebars-helper-to-detect-that-a-subview-has-rendered
    // for known flaws with this approach

    var options = arguments[arguments.length - 1],
        hash = options.hash,
        hbview = options.data.view,
        concreteView, target, controller, link;

    concreteView = hbview.get('concreteView');

    if (hash.target) {
        target = Ember.Handlebars.get(this, hash.target, options);
    } else {
        target = concreteView;
    }

    Ember.run.next(function () {
        var newElements;
        if(hbview.morph){
            newElements = $('#' + hbview.morph.start).nextUntil('#' + hbview.morph.end)
        } else {
            newElements = $('#' + hbview.get('elementId')).children();
        }
        target.trigger(evtName, concreteView, newElements);
    });
}); 
```

我将名称从`{{fire}}`更改`{{trigger}}`为更接近 Ember.Evented/jQuery 约定。这个更新的代码基于内置的 Ember`{{action}}`帮助程序，并且应该能够接受`target="..."`模板中的任何参数，就像现在一样`{{action}}`。它的不同之处`{{action}}`在于（除了在渲染模板部分时自动触发）：

1.  默认情况下将事件发送到视图。默认情况下发送到路由或控制器没有多大意义，因为这可能主要用于以视图为中心的操作（尽管我经常使用它将事件发送到控制器）。
2.  使用 Ember.Evented 样式事件，因此要将事件发送到任意非视图对象（包括控制器），该对象必须扩展 Ember.Evented，*并且*必须注册一个侦听器。（要清楚，它不会在`actions: {…}`哈希中调用某些东西！）

请注意，如果您向 Ember.View 的实例发送事件，您所要做的就是实现一个同名的方法（请参阅[文档](http://emberjs.com/api/classes/Ember.View.html#toc_method-implementation)、[代码](https://github.com/emberjs/ember.js/blob/06e8200619cc7a29ee0d3fea42f496ea826a0099/packages/ember-views/lib/views/view.js#L163)）。但是如果您的目标不是视图（例如控制器），您必须在对象上注册一个监听器`obj.on('evtName', function(evt){...})`或`Function.prototype.on`扩展。

所以这是一个真实的例子。我有以下模板的视图，使用 Ember 和 Bootstrap：

```
<script data-template-name="reportPicker" type="text/x-handlebars">
    <div id="reportPickerModal" class="modal show fade">
        <div class="modal-header">
            <button type="button" class="close" data-dissmis="modal" aria-hidden="true">&times;</button>
            <h3>Add Metric</h3>
        </div>
        <div class="modal-body">
            <div class="modal-body">
                <form>
                    <label>Report Type</label>
                    {{view Ember.Select 
                        viewName="selectReport" 
                        contentBinding="reportTypes"
                        selectionBinding="reportType"
                        prompt="Select"
                    }}
                    {{#if reportType}}
                        <label>Subject Type</label>
                        {{#unless subjectType}}
                            {{view Ember.Select 
                                viewName="selectSubjectType" 
                                contentBinding="subjectTypes"
                                selectionBinding="subjectType"
                                prompt="Select"
                            }}
                        {{else}}
                            <button class="btn btn-small" {{action clearSubjectType target="controller"}}>{{subjectType}} <i class="icon-remove"></i></button>
                            <label>{{subjectType}}</label>
                            {{#if subjects.isUpdating}}
                                <div class="progress progress-striped active">
                                    <div class="bar" style="width: 100%;">Loading subjects...</div>
                                </div>
                            {{else}}
                                {{#if subject}}
                                    <button class="btn btn-small" {{action clearSubject target="controller"}}>{{subject.label}} <i class="icon-remove"></i></button>
                                {{else}}
                                    {{trigger didRenderSubjectPicker}}
                                    <input id="subjectPicker" type="text" data-provide="typeahead">
                                {{/if}}
                            {{/if}}
                        {{/unless}}
                    {{/if}}
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="#" class="btn" data-dissmis="modal">Cancel</a>
            <a href="#" {{action didSelectReport target="controller"}} class="btn btn-primary">Add</a>
        </div>
    </div>
</script> 
```

我需要知道这个元素什么时候在 DOM 中可用，所以我可以附加一个 typeahead 到它：

```
<input id="subjectPicker" type="text" data-provide="typeahead"> 
```

所以，我`{{trigger}}`在同一个块中放了一个助手：

```
{{#if subject}}
    <button class="btn btn-small" {{action clearSubject target="controller"}}>{{subject.label}} <i class="icon-remove"></i></button>
{{else}}
    {{trigger didRenderSubjectPicker}}
    <input id="subjectPicker" type="text" data-provide="typeahead">
{{/if}} 
```

然后`didRenderSubjectPicker`在我的视图类中实现：

```
App.ReportPickerView = Ember.View.extend({
    templateName: 'reportPicker',

    didInsertElement: function () {
        this.get('controller').viewDidLoad(this);
    }
    ,
    didRenderSubjectPicker: function () {
        this.get('controller').wireTypeahead();
        $('#subjectPicker').focus();
    }

}); 
```

完毕！现在，当（且仅当）模板的子部分最终呈现时，预输入会被连接。注意实用程序的差异，在`didInsertElement`渲染*主*视图（或者可能是“具体”是正确的术语）视图时使用，而在渲染视图`didRenderSubjectPicker`的子部分时运行。

如果我想直接将事件发送到控制器，我只需将模板更改为：

```
{{trigger didRenderSubjectPicker target=controller}} 
```

并在我的控制器中执行此操作：

```
App.ReportPickerController = Ember.ArrayController.extend({
    wireTypeahead: function(){
        // I can access the rendered DOM elements here
    }.on("didRenderSubjectPicker")
}); 
```

完毕！

**需要注意**的是，当视图子部分已经在屏幕上时（例如，如果重新渲染父视图），这可能会*再次发生。*但在我的情况下，再次运行 typeahead 初始化无论如何都很好，如果需要的话，它会很容易检测和编码。在某些情况下可能需要这种行为。

我将此代码作为公共领域发布，不提供任何保证或承担任何责任。如果您想使用它，或者 Ember 的人们想将它包含在基线中，请继续！（我个人认为这是一个好主意，但这并不奇怪。）***

# jquery - jquery在一页中有多个滚动窗格

> ID：13760734
> 
> 赞同：0
> 
> 时间：2012-12-07T09:56:22.350
> 
> 标签：jquery, jquery-ui, slider, jscrollpane

是否可以在一页上有多个 jquery 滚动窗格？目前我有，但我猜是因为`".scroll-pane"`当我拖动一个滑块时，同一个类都在移动。

对此有什么想法吗？谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:47:35.560

在同一页面上使用多个滚动窗格是可能且简单的。

**html**

```
<div class="scroll-pane">
 <p>your content here</p>
 <p>your content here</p>
 <p>your content here</p>
 <p>your content here</p>
</div> 
```

**CSS**

```
.scroll-pane {
 width: 100%;
 height: 200px;
 overflow: auto;
}

.horizontal-only {
 height: auto;
 max-height: 200px;
}​ 
```

**Javascript**

```
$('.scroll-pane').jScrollPane();​ 
```

[在这里](http://jsfiddle.net/agriboz/e88D5/1/)查看演示

如果您还有其他问题，最好提供链接。

# hibernate - Hibernate Criteria 获取关联对象进行集合

> ID：13760736
> 
> 赞同：0
> 
> 时间：2012-12-07T09:56:32.673
> 
> 标签：hibernate, hibernate-criteria, lazy-initialization

我有以下 Hibernate 实体：用户、角色和团队。还有一个 UserTeamRole 实体，它基本上是用户、他的角色和他所在的团队之间的连接：

```
@Entity
@Table(name = "user_team_role")
public class UserTeamRole {

    private Long id;
    private User user;
    private Role role;
    private Team team;
    [...]  
} 
```

在我的 JSF 托管 bean 中，我需要为我在表单中获得的特定用户指定名称获取用户和所有 UserTeamRoles。我在 UserDAO 中这样做：

```
public User getUserByDn(String dn) {
        User result = (User) getSessionFactory().getCurrentSession()
                .createCriteria(User.class)
                .setFetchMode("userTeamRoles", FetchMode.JOIN)
                .add(Restrictions.like("dn", dn)).uniqueResult();
        return result;
    } 
```

我使用了 FetchMode，否则我会在 bean 中得到一个 LazyInitializationException，因为会话在我需要访问集合的时候关闭了。

但是，在此之后，我还需要遍历这个 User.userTeamRoles 集合并获取每个角色的名称。

当我这样做时：

```
 if (null != u.getUserTeamRoles()) {
        for (UserTeamRole urt : u.getUserTeamRoles()) {
            // here get role for every UserTeamRole

            grAuth.add(new SimpleGrantedAuthority(urt.getRole().getName()));
        }
   } 
```

我得到一个例外：

**原因：org.hibernate.LazyInitializationException：无法初始化代理 -**角色实体没有会话。

所以我的问题是我怎样才能像我在 .setFetchMode("userTeamRoles", FetchMode.JOIN) 中所做的那样获得每个 UserTeamRole 的角色`getUserByDn`。

我尝试“链接”对 FetchMode 的调用，但它不起作用。我看到您可以对关联成员进行链接查询，但我不需要查询，我只需要初始化角色，以便进一步使用它。

我正在使用 Hibernate 4、Spring 3、JSF 2。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T10:27:19.357

您需要创建一个别名：

```
Criteria c = getSessionFactory().getCurrentSession().createCriteria(User.class, "user");
c.setFetchMode("user.userTeamRoles", FetchMode.JOIN);
c.createAlias("user.userTeamRoles", "utr", CriteriaSpecification.LEFT_JOIN);
c.setFetchMode("utr.role", FetchMode.JOIN);
c.add(Restrictions.like("dn", dn)); 
```

相应的 HQL 查询非常相似，但更容易阅读和理解 IMO：

```
select distinct user from User user
left join fetch user.userTeamRoles utr
left join fetch utr.role
where user.dn like :dn 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-04T07:44:40.060

现在发布答案，以便有人可以获得与 Criteria api 获取关联的惰性集合相关的帮助。我正在使用 hibernate-4.3.11.Final

以下条件查询有效：

```
Criteria c = getSessionFactory().getCurrentSession().createCriteria(User.class, "user");
c.setFetchMode("user.userTeamRoles", FetchMode.JOIN);
c.createAlias("user.userTeamRoles", "utr", JoinType.LEFT_OUTER_JOIN);
c.setFetchMode("utr.role", FetchMode.JOIN);
c.createAlias("utr.role", "role", JoinType.LEFT_OUTER_JOIN);
c.add(Restrictions.like("dn", dn));
c.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY); // optional. 
```

# c# - C# - 来自方法的自动委托类型

> ID：13760744
> 
> 赞同：3
> 
> 时间：2012-12-07T09:56:57.337
> 
> 标签：c#, methods, delegates, invoke

`MyMethodDelegate`有什么方法可以避免在这种情况下明确声明？

```
bool MyMethod(string x)
{
    //...
}

BeginInvoke(new MyMethodDelegate(MyMethod), x); 
```

我知道 lambdas a-la `()=>MyMethod(x)`，但是有时我想避免它们，因为它们会破坏编辑并继续。

**编辑**：只是`BeginInvoke(MyMethod, x)`不起作用：

```
The best overloaded method match for 'System.Windows.Forms.Control.BeginInvoke(System.Delegate, params object[])' has some invalid arguments
Argument 1: cannot convert from 'method group' to 'System.Delegate'
Argument 2: cannot convert from 'string' to 'object[]' 
```

BeginInvoke 定义如下：

```
public IAsyncResult BeginInvoke(Delegate method, params object[] args); 
```

它没有指定任何特定的委托类型，因此编译器无法检测从哪个委托类型实例化`BeginInvoke(MyMethod. x)`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T10:27:26.860

对于 framework >= 3.5，您可以使用预定义的委托 Action<> 和 Func<> （在您的情况下）

```
 BeginInvoke(new Func<int, bool>(MyMethod), x); 
```

Func 文档 [http://msdn.microsoft.com/ru-ru/library/bb549151.aspx](http://msdn.microsoft.com/ru-ru/library/bb549151.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-07T09:58:31.610

您可以经常使用简化版

```
MyMethod 
```

当需要委托时。关键字**通常**是.

但是，如果编译器无法确定要将方法组转换为哪种类型的委托，您将不得不帮助进行显式转换

当您希望传递尚未定义且在代码的其他位置不需要的函数时，Lambda 可以派上用场。然后 Lambdas（以及一般的匿名函数）将非常方便，因为您可以在需要的地方简单地定义函数。

在 BeginInvoke 的情况下，您是正确的，如注释中所述，您不能通过强制转换或分配将方法组显式转换为委托

```
Func<int,bool) m = MyMethod;
BeginInvoke(m,x);
BeginInvoke((Func<inte,bool>)MyMethod,x); 
```

将编译，或者您可以传入一个 lambda，因为它被解释为 Func

```
BeginInvoke(a=>MyMethod(a),x); 
```

# c - 当您在基于开关的函数中投射 void 指针时，有什么方法可以避免重复代码？

> ID：13760747
> 
> 赞同：2
> 
> 时间：2012-12-07T09:57:24.957
> 
> 标签：c

[基于对将变量类型作为函数参数传递](https://stackoverflow.com/questions/6658593/passing-variable-type-as-function-parameter)的问题的答案：

我可以写这样的东西：

```
enum {
    TYPEA,
    TYPEB,
    TYPEC,
    TYPED
} TYPE;

void foo(TYPE t, void* x){
    switch(t){
        case TYPEA:
            struct A* y = (struct A*)x;
                            //do something with a member named "next"   
            break;
        case TYPEB:
            struct B* y = (struct B*)x;
                            //do something with a member named "next" 
         ...
    }
} 
```

有什么办法可以避免多次重写“有一个名为 next 的成员的东西”？

我们假设 A 和 B 中的“下一个”在每个结构中的相对内存位置不同。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T12:53:11.417

假设枚举的项目没有给定自定义数字，您可以通过使用函数指针来执行 switch 语句的紧凑版本。

```
enum {
    TYPEA,
    TYPEB,
    TYPEC,
    TYPED,

    TYPE_N // number of enum items
} TYPE;

typedef void(*type_func_t)(void*);

static void TYPEA_specific (void* x) 
{
  struct A* y = x;

  // specific stuff related to TYPEA here

  do_something_with_next(y->next);
}

static void TYPEB_specific (void* x) 
{
  struct B* y = x;

  // specific stuff related to TYPEB here

  do_something_with_next(y->next);
}

static const type_func_t TYPE_HANDLER [TYPE_N] = 
{
  TYPEA_specific,
  TYPEB_specific
  ...
};

inline void foo (TYPE t, void* x)
{
  TYPE_HANDLER[t](x);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T15:09:13.140

此解决方案使用宏：

```
#include <stdio.h>

#define POLYCAST_AB(etype, target, member) \
  *((etype) == TYPEA ? &((struct A *)(target))->member :  \
    (etype) == TYPEB ? &((struct B *)(target))->member : 0)

enum TYPE {
   TYPEA,
   TYPEB
};

struct A {
   int next;
} a = {42};

struct B {
   int i;
   int next;
} b = {43, 44};

static void foo(enum TYPE t, void *x) {
   POLYCAST_AB(t, x, next) += 100;  // <-- most other answers can't do this
   printf("next=%d\n", POLYCAST_AB(t, x, next));
}

int main(void) {
   foo(TYPEA, &a);   
   foo(TYPEB, &b);   
   return 0;
} 
```

如果你不需要左值，你可以在宏定义中省略额外的`*`和（也省略所有都具有相同类型`&`的假设）。`next`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T10:03:10.983

当然，C 没有结构成员的动态查找。

节省最多击键的解决方案可能是使用宏。

此外，从`void *`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T12:40:58.313

在每个`case`中，您可以获取 with 的地址，`next`然后`&y.next`将其传递给函数或将控制权转移到使用指针执行某些操作的代码`next`。这假定`next`在 each 中具有相同的类型`struct`，尽管它可能位于不同的位置。

以下是三个例子：

```
// Example 0:  Functional call.
switch(t)
{
    case TYPEA:
        MyFunction(&(struct A *)x->next);
        break;
    case TYPEB:
        MyFunction(&(struct B *)x->next);
        break;
}

// Example 1: Code after the switch.
TypeOfNext *next;
switch(t)
{
    case TYPEA:
        next = &(struct A *)x->next;
        break;
    case TYPEB:
        next = &(struct B *)x->next;
        break;
}
… code that uses next…

// Example 2: Code in the switch, with goto.
switch(t)
{
    TypeOfNext *next;
    case TYPEA:
        next = &(struct A *)x->next;
        goto common;
    case TYPEB:
        next = &(struct B *)x->next;
    common:
        … code that uses next…
        break;
} 
```

# database - （全文）搜索和数据库设计

> ID：13760748
> 
> 赞同：2
> 
> 时间：2012-12-07T09:57:25.497
> 
> 标签：database, database-design, solr, full-text-search

这是一个关于使用（关系）数据库设计全文搜索的系统架构问题。我使用的特定软件是 Solr 和 PostgreSQL，仅供参考。

假设我们正在建立一个有两个用户 Andy 和 Betty 的论坛——

```
Post ID | User  | Title             | Content
--------|-------|-------------------|---------------------------
1       | Andy  | Dark Knight rocks | Dark Knight rocks blah
2       | Betty | I love Twilight   | Twilight blah blah
3       | Andy  | Twilight sucks    | Twilight sucks blah
4       | Betty | Andy sucks        | Twilight rocks, Andy sucks 
```

当帖子表在 Solr 中被索引时，我们可以轻松地将按相关性排序的帖子返回到“?q=twilight”或“?q=dark+night”。

现在我们要添加一个新功能来搜索用户而不是帖子。一个简单的实现会简单地索引用户名并将“Andy”返回到“?q=a”，将“Betty”返回到“?q=b”，但是如果我们想让我们的系统更智能同时考虑到用户怎么办在“Andy”**之前**发帖并返回“Betty”到“?q=twilight”，因为 Betty 比 Andy 更多地提到 Twilight。

您将如何设计系统以有效处理数十万用户和数百万帖子的用户搜索功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T13:52:25.943

Faceting on`User`将返回每个用户的结果数。如果 Andy 写了 15个与 Twilight 匹配的**帖子**，而 Betty 写了 10 个，则分面将返回它们。

但如果两人都写了 15 篇关于暮光之城的帖子，那也无济于事，但安迪的应该更相关；即使您分页仅查看（例如）前 5 个结果并且 Andy 制作了其中 4 个，您也会看到所有方面计数（在这种情况下为 15、15）。

* * *

如果上述解决方案还不够好，请考虑编写以下文件的后台作业

```
type: suggest_user_type (so you can distinguish them by a `fq`)
user: Andy (the user)
concatted_posts: "I think Twilight.." (concatenate the users latest 50 posts) 
```

每星期一次。如果你

```
fq=type:suggest_user_type&
q=concatted_posts:twilight&
fl=user 
```

你会得到一个基于相关性的用户排序`concatted_posts`列表`twilight`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:58:52.203

我相信词频包含在全文搜索排名中。[它是称为信息检索](http://en.wikipedia.org/wiki/Information_retrieval)的研究领域的一部分。还有另一个值称为[逆文档频率](http://en.wikipedia.org/wiki/Tf%E2%80%93idf)，它会过滤掉常用术语。

还有其他常见的文本排名步骤，如果您有兴趣，可以查看[OpenNLP项目。](http://opennlp.apache.org/)

在数据库设计方面，一篇文章要涵盖的内容太多了，我不是写它的人。普遍的共识似乎是对于非常大的系统，他们的关键是构建一个高效的索引，然后将其分布在多台机器上以扩展性能。我建议您阅读[Page Rank](http://en.wikipedia.org/wiki/PageRank)以及 Google 如何开发其系统作为起点。

# php - 分层数据到数组

> ID：13760750
> 
> 赞同：1
> 
> 时间：2012-12-07T09:57:29.637
> 
> 标签：php

我一直在寻找这个几天，但似乎无法找到答案。我有一个像

```
$startArray = Array(array('name' => 'A', 'hierarchy' => '1'),
    array('name' => 'B', 'hierarchy' => '1.2'),
    array('name' => 'C', 'hierarchy' => '1.3'),
    array('name' => 'D', 'hierarchy' => '1.3.1')
); 
```

我想去

```
$endResult = 
    array(
          array('name' => 'A', 
            'children' => array(
               array('name'=> 'b'), 
               array('name'=> 'c', 
                 'children' => array('name' => 'D')
               )
            )
    ); 
```

有什么建议么？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T12:16:48.437

好的，这是一个很长的解决方案，您可能希望将其包装到一个函数中。只需将其复制并粘贴到空白文档中，然后在浏览器中检查结果。

```
<pre>
<?php

    $orig = array(
        array('name' => 'A', 'hierarchy' => '1'),
        array('name' => 'B', 'hierarchy' => '1.2'),
        array('name' => 'C', 'hierarchy' => '1.3'),
        array('name' => 'D', 'hierarchy' => '1.3.1')
        //,array('name' => 'E', 'hierarchy' => '1.2.1')
        //,array('name' => 'F', 'hierarchy' => '2.1')
    );

    function special_sort($arr1,$arr2) {
        $h1 = $arr1['hierarchy'];
        $h2 = $arr2['hierarchy'];
        $ch1 = count($h1);
        $ch2 = count($h2);
        if ($ch1 < $ch2) return -1;
        if ($ch1 > $ch2) return 1;
        return $h1 > $h2 ? 1 : ($h1 < $h2 ? -1 : 0);
    }
    // this first checks lengths and then values
    // so 1.3 gets -1 against 1.2.1 whereas
    // 1.3.2 still gets 1 against 1.3.1

    $temp = $orig;
    // temporary array to keep your original untouched
    foreach ($temp as &$arr) {
        $arr['hierarchy'] = explode('.',$arr['hierarchy']);
        // turn hierachy numbers into arrays for later
        // sorting purposes
    }
    unset($arr);
    // get rid of the reference used in the loop
    usort($temp,'special_sort');
    // sort by the sort function above

    echo '<h2>$orig</h2>'; print_r($orig);
    echo '<h2>$temp</h2>'; print_r($temp);
    // for you to see what it looks like now

    $res = array();
    // our final array

    // by the following loop we're using the hierarcy
    // numbers as keys to push into the result array
    foreach ($temp as $arr) {
        $h = $arr['hierarchy'];
        if (count($h) == 1) {
        // this is for those with single hierarchy
        // numbers such as 1, 2, etc.
            $res[$h[0]] = array('name'=>$arr['name']);
            continue;
        }
        if (!isset($res[$h[0]]))
            $res[$h[0]] = array('name'=>'');
        // if, say this is 2.1 but there is no 2 in the array then
        // we need to create that. see the last commented item in
        // the original array. uncomment it to see why I wrote this
        $newLoc =& $res[$h[0]];
        // reference of the new place in result
        // array to push the item
        for ($i = 1; $i < count($h); $i++) {
            if (!isset($newLoc['children']))
                $newLoc['children'] = array();
            // create children array if it doesn't exist
            if (!isset($newLoc['children'][$h[$i]]))
                $newLoc['children'][$h[$i]] = array();
            // create children[hierarch key] array if it doesn't exist
            $newLoc =& $newLoc['children'][$h[$i]];
            // update reference
        }
        $newLoc = array('name'=>$arr['name']);
        // assign the new name to this reference
        unset($newLoc);
        // get rid of the reference
    }

    unset($temp);
    // get rid of the array now that we're done with it

    echo '<h2>$res</h2>'; print_r($res);

    function fix_keys($array) {
        foreach ($array as $k => $val) {
            if (is_array($val)) $array[$k] = fix_keys($val);
        }
        if(is_numeric($k)) return array_values($array);
        return $array;
    }
    // function courtesy of Lobos,
    // http://stackoverflow.com/a/12399408/913097

    $endRes = fix_keys($res);
    // create the end result array. this is actually
    // a copy of the $res array except the numeric
    // keys were reset.

    unset($res);
    // get rid of the last unused array

    echo '<h2>$endRes</h2>'; print_r($endRes);

?>
</pre> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:04:41.700

you do not have the correct array, the values ​​will be rewritten. You need approximately the:

```
$arr = array(
  array('name' => 'a', 'hierarchy' => '1'),
  array('name' => 'b', 'hierarchy' => '1.2'),
); 
```

# sql - SQL Oracle：如何在列中查找与特定 id 匹配的记录

> ID：13760753
> 
> 赞同：3
> 
> 时间：2012-12-07T09:57:39.547
> 
> 标签：sql, oracle, oracle11gr2

我的查询是：

```
select A.* 
  from (select r.role_id, 
               r.role_name, 
               r.active, 
               decode( r.entity_type_id, 1000, m.name, 3000, cour.name, 4000, 'Ensenda' ) companyName,
               LISTAGG(p.permission_id, ' | ') WITHIN GROUP (ORDER BY r.role_id) permission_id, 
               LISTAGG(p.permission_name, ' | ') WITHIN GROUP (ORDER BY r.role_id) permission_name, 
               row_number() over (order by r.created_ts desc) as RN, 
               count(*) over () as TOTAL_ROWS, 
               r.created_ts roleCreated 
          from t_role r
          left join t_role_permission rp ON r.role_id = rp.role_id
          left join t_permission p ON rp.permission_id = p.permission_id
          left join merchant m on r.entity_id = m.merchantkey 
          left join courier cour on r.entity_id = cour.courierkey 
         where 1=1
         --and p.permission_id =301446
         group by r.role_id, r.role_name, r.active, r.created_ts,
               decode( r.entity_type_id, 1000, m.name, 3000, cour.name, 4000, 'Ensenda' ) 
      ) A 
where RN between 1 and 100 order by roleCreated desc 
```

我的结果是：

![在此处输入图像描述](../Images/60f94717bfef2b1f237b754fba32d0e7.png)

现在我想以`permission_id`这样一种方式过滤列表，我想要在permission_id 列中与该permission_id 匹配的所有记录的列表。

例如：假设我为`permission_id= 301446`. 我想要以下结果

![在此处输入图像描述](../Images/161506256d058326948326430bc087fc.png)

PS：`p.permission_id=301446`在 where 子句中添加 and 不会产生预期的结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:01:30.390

对于您要查找的permission_id 值不常见的大型数据集，查询整个数据集然后对聚合结果进行过滤将非常低效，并且看起来像是逻辑上不正确的结果。

您要查找的不是权限 ID 列表包含特定值的角色列表，而是包含特定权限的角色的权限 ID 列表。从逻辑上讲，它最终的结果是一样的，但是更准确地匹配所提出的问题的逻辑实现似乎总是带来可读性和（奇怪的）性能优势。

无论如何，我相信您最好过滤到包含所需权限的角色，然后仅为他们运行查询：

```
 select A.* 
   from (select r.role_id, 
                r.role_name, 
                r.active, 
                decode( r.entity_type_id, 1000, m.name, 3000, cour.name, 4000, 'Ensenda' ) companyName,
                LISTAGG(p.permission_id, ' | ') WITHIN GROUP (ORDER BY r.role_id) permission_id, 
                LISTAGG(p.permission_name, ' | ') WITHIN GROUP (ORDER BY r.role_id) permission_name, 
                row_number() over (order by r.created_ts desc) as RN, 
                count(*) over () as TOTAL_ROWS, 
                r.created_ts roleCreated 
           from t_role r
           left join t_role_permission rp ON r.role_id = rp.role_id
           left join t_permission p ON rp.permission_id = p.permission_id
           left join merchant m on r.entity_id = m.merchantkey 
           left join courier cour on r.entity_id = cour.courierkey 
          where 1=1
            and r.role_id in (
                select role_id
                from   t_role_permission
                where  permission_id =301446)
          group by r.role_id, r.role_name, r.active, r.created_ts,
                decode( r.entity_type_id, 1000, m.name, 3000, cour.name, 4000, 'Ensenda' ) 
       ) A 
 where RN between 1 and 100 order by roleCreated desc 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T11:06:54.047

基于 PasserBy 评论的答案

```
select A.* from(select r.role_id, r.role_name, r.active, 
decode( r.entity_type_id, 1000, m.name, 3000, cour.name, 4000, 'Ensenda' ) companyName,
LISTAGG(p.permission_id, ' | ') WITHIN GROUP (ORDER BY r.role_id) permission_id, 
LISTAGG(p.permission_name, ' | ') WITHIN GROUP (ORDER BY r.role_id) permission_name, 
row_number() over (order by r.created_ts desc) as RN, count(*) over () as TOTAL_ROWS, r.created_ts roleCreated 
from t_role r
left join t_role_permission rp ON r.role_id = rp.role_id
left join t_permission p ON rp.permission_id = p.permission_id
left join merchant m on r.entity_id = m.merchantkey 
left join courier cour on r.entity_id = cour.courierkey 
where 1=1

group by r.role_id, r.role_name, r.active, r.created_ts,
decode( r.entity_type_id, 1000, m.name, 3000, cour.name, 4000, 'Ensenda' ) 
)A where RN between 1 and 100 
and REGEXP_LIKE(a.permission_id,'(^|\s)301446(\s|$)')
order by roleCreated desc; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T13:10:16.197

作为`regexp_like`路由的替代方案，您可以使用分析查询来实现此目的，特别是 的[分析版本`listagg()`](http://docs.oracle.com/cd/E14072_01/server.112/e10592/functions087.htm)，并使用`dense_rank()`来生成您的限制“行号”值：

```
select distinct role_id, role_name, active, companyName, permission_id,
    permission_name, rn, total_rows, roleCreated
from (
    select *
    from (
        select r.role_id, 
            r.role_name, 
            r.active, 
            decode(r.entity_type_id, 1000, m.name, 3000, cour.name,
                4000, 'Ensenda') companyName,
            p.permission_id as raw_permission_id,
            listagg(p.permission_id, ' | ')
                within group (order by p.permission_id)
                    over (partition by r.role_id) permission_id, 
            listagg(p.permission_name, ' | ')
                within group (order by p.permission_id)
                    over (partition by r.role_id) permission_name, 
            dense_rank() over (order by r.created_ts desc) as rn,
            count(distinct r.role_id) over () as total_rows, 
            r.created_ts roleCreated
        from t_role r
        left join t_role_permission rp ON r.role_id = rp.role_id
        left join t_permission p ON rp.permission_id = p.permission_id
        left join merchant m on r.entity_id = m.merchantkey 
        left join courier cour on r.entity_id = cour.courierkey 
    )
    where raw_permission_id = 301446
)
where rn between 1 and 100
order by roleCreated desc; 
```

如果您自己运行内部查询，您将看到每个`role_id`;的多个结果。每个都有`listagg`组件，但也将包括（临时）各个`permission_id`值，我将其别名为`raw_permission_id`.

然后，下一个查询可以过滤您感兴趣的确切权限对于单个权限，正如您在此处所拥有的，这将最多为每个角色提供一行，但如果您正在寻找一系列中的一个权限，那么您可能会得到重复（如果一个角色匹配多个）。因此，外部查询排除`raw_permission_id`和添加`distinct`以抑制任何重复。

# cocoa - 如何获取 NSRunningApplication 的窗口

> ID：13760760
> 
> 赞同：9
> 
> 时间：2012-12-07T09:57:57.893
> 
> 标签：cocoa, nsapplication, nsworkspace, nsrunningapplication

我想获取正在运行的应用程序的窗口列表。我可以从中获取正在运行的应用程序列表`[[NSWorkspace sharedWorkspace] runningApplications]`，但窗口列表仅在`NSApplication`. 有什么方法可以从`NSRunningApplication`to转换`NSApplication`，或者有什么方法可以更直接地获取窗口列表？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-07T15:35:05.613

您需要查看 CoreGraphics 调用`CGWindowListCopyWindowInfo`。

你这样称呼它

```
 CFArrayRef windowList = CGWindowListCopyWindowInfo(kCGWindowListOptionOnScreenOnly | kCGWindowListExcludeDesktopElements, kCGNullWindowID); 
```

然后遍历窗口信息数组，找到来自您感兴趣的应用程序的信息，然后用它做您想做的事情。

# database - 如何连接到 Oracle 应用程序表达式数据库

> ID：13760765
> 
> 赞同：1
> 
> 时间：2012-12-07T09:58:20.873
> 
> 标签：database, oracle, express, connect

我已注册 Oracle Application Express 用于学校教育（我需要免费的 Oracle 数据库托管）。我正在开发 Web 应用程序，我希望将其连接到 Oracle 为我提供 App Express 的数据库。我的问题是我不知道从哪里获取此数据库的连接字符串，或者是否有可能获取。

非常感谢你 ：）

问候，巴库亚

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T20:34:31.780

如果我理解您的问题，您是否正在尝试将 apex.oracle.com 提供的数据库用作标准 Oracle 数据库，并使用它作为后端数据库构建您自己的独立 Web 应用程序？如果是这样，你不能。apex.oracle.com 设置纯粹是为学习和试验 apex 而设计的。

这在此处得到确认

[https://forums.oracle.com/forums/thread.jspa?threadID=905176](https://forums.oracle.com/forums/thread.jspa?threadID=905176)

如果我理解你的问题！

除了从 Oracle 下载免费版本并在您自己的计算机上托管之外，我不知道有任何免费的 Oracle 托管。

# java - 在 Java EE 应用程序中找不到 Log4j.xml 抛出文件

> ID：13760766
> 
> 赞同：1
> 
> 时间：2012-12-07T09:58:22.147
> 
> 标签：java, xml, log4j

我正在尝试通过以下方式在我的 Java EE 应用程序中使用 log4j 进行日志记录，其中我在应用程序中定义了 log4j.xml。

我正在尝试使用

```
 DOMConfigurator.configure( "src/log4j.xml");
   logger.warn( "Login Process has started a warning message" ); 
```

但它不断抛出以下错误

** 编辑错误信息

```
log4j:ERROR Could not parse file [src/log4j.xml].
 java.io.FileNotFoundException: D:\src\log4j.xml (The system cannot find the path s     pecified)
at java.io.FileInputStream.open(Native Method)
at java.io.FileInputStream.<init>(FileInputStream.java:120)
at java.io.FileInputStream.<init>(FileInputStream.java:79)
at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:70)
at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:161)
at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)
at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:208)
at org.apache.log4j.xml.DOMConfigurator$1.parse(DOMConfigurator.java:749)
at org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:866)
at org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:755) 
```

当我提供绝对路径时，一切正常。

那么实现这一点的方法是什么？我正在使用 1.2.16.jar 版本的 log4j

每次构建应用程序时都会收到以下警告

```
log4j:WARN No appenders could be found for logger     (org.springframework.web.context.ContextLoader).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info. 
```

编辑：应用程序结构

```
Myapp
  src
  conf
  target 
```

我已经在文件夹 src 下放置了 log4j.xml

log4j.xml 文件

```
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
<appender name="console" class="org.apache.log4j.ConsoleAppender">
    <param name="Target" value="System.out" />
    <layout class="org.apache.log4j.PatternLayout">
        <param name="ConversionPattern" value="%-5p %c{1} - %m%n" />
    </layout>
</appender>
   <appender name="Log" class="org.apache.log4j.FileAppender">
    <param name="File" value="Web.log" />
    <param name="Append" value="true" />
    <layout class="org.apache.log4j.PatternLayout">
        <param name="ConversionPattern" value="%d{DATE} %-5p %-15c{1}: %m%n" />
    </layout>
</appender>

<logger name="com.web" additivity="false">
    <level value="info" />
    <appender-ref ref="Log" />
</logger>

</log4j:configuration> 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:30:25.793

像这样配置 web.xml 文件。

```
 <!-- these are at the top of the xml configuration file -->
    <context-param>
        <param-name>log4jConfigLocation</param-name>
        <param-value>WEB-INF/conf/log4j.xml</param-value>
    </context-param>

    <context-param>
        <param-name>webAppRootKey</param-name>
        <param-value>api.root</param-value>
    </context-param> 

    <listener>
        <listener-class>org.springframework.web.util.Log4jConfigListener</listener-class>
    </listener>
    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>

    <!-- ... --> 
```

这可能对您有所帮助：http: [//forum.springsource.org/showthread.php?30800-SpringMVC-XML-Log4j-Logging-not-functioning](http://forum.springsource.org/showthread.php?30800-SpringMVC-XML-Log4j-Logging-not-functioning)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:03:48.223

最好放在`src/main/resources`文件夹里。

您也可以将其重命名为`log4j.properties`，具体取决于您的文件格式。
你应该有`log4j.jar`，或者如果你使用 maven 将依赖项添加到`pom.xml`文件中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T10:05:37.910

尝试改变

```
DOMConfigurator.configure( "src/log4j.xml"); 
```

到

```
DOMConfigurator.configure( "/src/log4j.xml"); 
```

# elasticsearch - 弹性搜索 has_child 查询

> ID：13760771
> 
> 赞同：1
> 
> 时间：2012-12-07T09:58:47.403
> 
> 标签：elasticsearch

我们在弹性搜索中有一个父子（一对多）关系，我们想要检查所有父对象的子对象属性（child_attr）在其中有任何值。

我们正在生成 json 查询，如下所示：

1) 对于有值条件。

```
{
                "has_child" : {
                  "query" : {
                    "filtered" : {
                      "query" : {
                        "match_all" : { }
                      },
                      "filter" : {
                        "and" : {
                          "filters" : [ {
                            "exists" : {
                              "field" : "child_attr"
                            }
                          }, {
                            "not" : {
                              "filter" : {
                                "term" : {
                                  "child_attr" : ""
                                }
                              }
                            }
                          } ]
                        }
                      }
                    }
                  },
                  "type" : "child"
                }
              } 
```

2) For 无值条件

```
{
                "has_child" : {
                  "query" : {
                    "filtered" : {
                      "query" : {
                        "match_all" : { }
                      },
                      "filter" : {
                        "or" : {
                          "filters" : [ {
                            "missing" : {
                              "field" : "child_attr"
                            }
                          }, {
                            "term" : {
                              "child_attr" : ""
                            }
                          } ]
                        }
                      }
                    }
                  },
                  "type" : "child"
                }
              } 
```

这些查询仅返回所有子对象都具有某些值或所有子对象都没有搜索属性值的父对象。

它不会返回部分满足此条件的任何内容，该条件涵盖了大部分数据。

我还玩弄了关键字分析器来索引这个 child_attribute 但没有乐趣。

期待您的专家建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T11:37:03.387

你得到了意想不到的结果，因为查询

```
"missing" : {
    "field" : "child_attr"
} 
```

匹配在 中用空字符串索引的`child_attr`记录和`child_attr`缺失的记录。

查询

```
"exists" : {
    "field" : "child_attr"
} 
```

与第一个查询完全相反，它匹配使用非空`child_attr`字段索引的所有记录。

查询

```
"term" : {
    "child_attr" : ""
} 
```

不匹配任何东西。

# html - Internet Explorer 中的 HTML 视频标签

> ID：13760774
> 
> 赞同：0
> 
> 时间：2012-12-07T09:58:56.473
> 
> 标签：html

HTML 视频标签在 IE 浏览器中是否有效。我[这里](http://jsfiddle.net/oamiamgod/X3fcA/3/)有一个小演示。它在 Firefox 中工作。我还需要让它在 Internet Explorer 中工作。

```
<div class="content flowplayer is-splash is-closeable" id="vid1">
    <video id="mainVideo" src="http://www.w3schools.com/html/movie.webm" tabindex="0">    
    <source type="video/mp4" src="http://www.w3schools.com/html/movie.mp4"></source>
    <source type="video/webm" src="http://www.w3schools.com/html/movie.webm"></source>
</video>    
</div> 
```

你有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:27:28.010

Webm 应该在 Iexplorer 9 及更高版本中运行。[除非您使用Google Chrome Frame](https://developers.google.com/chrome/chrome-frame/)（或任何类似的东西），否则它不适用于旧版 Iexplorer 。另一种选择是使用 Flash 作为后备选项。

如果这不是问题，一些服务器需要一个 .htaccess 文件来在线播放视频。htaccess 文件应包含：

```
AddType video/ogg .ogv
AddType video/mp4 .mp4
AddType video/webm .webm 
```

如果这不是问题，请检查 Webm 是否正常。您可以使用[Miro Video Converter](http://www.mirovideoconverter.com/)它免费又快又好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T10:04:53.067

You need [Google Chrome Frame](https://developers.google.com/chrome/chrome-frame/) to work in IE 6,7,8

For IE9 you need [WebM](https://tools.google.com/dlpage/webmmf) support

Check [this](http://www.youtube.com/html5) out

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T10:13:16.713

您可能会将[http://www.flowplayer.org](http://www.flowplayer.org)视为替代的本地支持，但随后会根据浏览器和版本回退

# android - Android 使用 dotnet Webservice

> ID：13760778
> 
> 赞同：0
> 
> 时间：2012-12-07T09:59:16.530
> 
> 标签：android, wcf

我有一个具有原始 GetData 合同的测试 WCF Webservice。由我的 Winform 测试工具发布和使用正常。我的 Android 体验极少，我的 Android 消费尝试（Eclipse IDE 和 Emulator 以及基于*Android App Development: Calling Web Services by Mina Samyon 25\. May, 2011 in Android, Tutorials* ）似乎正在到达网络服务，但响应有一个错误我已经从 LogCat 中复制了出来。

> 12-07 08:37:42.888: I/wsTest(5635): Call made 结果是：ActionNotSupportedThe message with Action 'http://wsticketor.org/GetData' 无法在接收端处理，因为 ContractFilter 不匹配端点调度程序。这可能是因为合约不匹配（发送方和接收方之间的操作不匹配）或发送方和接收方之间的绑定/安全不匹配。检查发送方和接收方是否具有相同的合同和相同的绑定（包括安全要求，例如消息、传输、无）。
> 
> 成功的 microsoft 客户端正在使用 BasicHttpBinding。app.config 片段（URL 已更改）。

```
<endpoint address="http://www.oursite.co.nz:nnnn/MyDir/Mywcf.svc"
            binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_ITicketor1"
            contract="TicketorwcfExternal.ITicketor" name="BasicHttpBinding_ITicketor1" /> 
```

在这里进行的最佳方式是什么？“简单 SOAP”方法对 Android 使用点网 Web 服务有效吗？我尝试过使用 ksoap2 HttpTransportSE androidHttpTransport = new HttpTransportSE(URL) 和朋友的其他代码，但它总是抛出异常。如果这是正确的方法，很高兴回到它并坚持下去。不能真正摆弄 web 服务，因为这个测试是消费我无法控制的生产 web 服务的前兆。

# reporting-services - 页面内容的垂直对齐

> ID：13760781
> 
> 赞同：3
> 
> 时间：2012-12-07T09:59:34.603
> 
> 标签：reporting-services, ssrs-2008, vertical-alignment

是否可以在 SQL Reporting Services 中集中垂直对齐所有页面内容？

*更多的信息：*

我有一个分组的 tablix，它设置为不跨页。然而，因此它会在页面上留下大块的空白。我希望在页面中心垂直对齐生成的表格，而不是顶部。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T11:40:30.787

我相信*这是不可能的*，至少没有“标准”方式/属性来处理这个问题。您可以获得的最接近的方法是`Top`为您的内容设置某个值，但如果内容是动态的，这将无济于事，因为您[无法为 location properties 设置表达式](https://stackoverflow.com/a/2726926/419956)。

# php - 如何从 html 中使用 preg_replace 删除匹配的注释标签

> ID：13760783
> 
> 赞同：0
> 
> 时间：2012-12-07T09:59:38.933
> 
> 标签：php, html, preg-replace

我删除这个标签的问题`<!-- comment -->`看起来太那个标签中的空白。如何删除它并将其更改为空字符而不是空间使用`preg_replace()`

解决了

只需使用以下语法：

`$content = "hello <!--- comment --> world";`

`$html = preg_replace('/<!-- comment -->/i','',$content);`

输出

`hello world`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:08:55.790

使用 preg_replace 或任何其他文本工具来操作 HTML 是很危险的！到目前为止的答案是可怕的，并且可能导致 HTML 以多种方式中断。对 HTML 使用 DOM，DOMDocument 可以 loadHTML() 然后你可以简单地删除评论节点，或者那些以/是“分页符”开头的评论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:04:38.353

dont use preg_replace(), you can simply do:

```
 $html = str_replace("<!-- pagebreak -->", "<!--pagebreak-->", $html); 
```

# javascript - TinyMCE UndoManager。获取要触发的事件

> ID：13760784
> 
> 赞同：2
> 
> 时间：2012-12-07T09:59:43.583
> 
> 标签：javascript, tinymce

我制作了一个使用 TinyMCE 编辑器的网络表单。当用户单击链接离开页面时，如果他仍有未保存的更改，我希望显示一条消息。为此，我正在考虑使用 TinyMCE undoManager，[http: //www.tinymce.com/wiki.php/API3:class.tinymce.UndoManager](http://www.tinymce.com/wiki.php/API3:class.tinymce.UndoManager)

本质上，我希望触发 onAdd、onUndo、OnRedo 事件。然后，我将跟踪自上次保存以来的更改次数（如果有）。但是我怎样才能让他们开火呢？我在哪里设置它们？

此外，在我的 javascript 代码的其余部分中访问 hasUndo 方法会很好。再次，不确定从哪里开始？

不确定这是否重要，但我正在使用 Django。

编辑：我试过

```
tinyMCE.init({
    ...,
    setup : function(ed) {        
        ed.UndoManager.onAdd(function(ed) {   
        ed.windowManager.alert('added.');  
        });
    }      
}); 
```

这给了我一个错误：无法获取属性“onAdd”的值：对象为空或未定义

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T11:17:22.273

我为此创建了一个tinym fiddle：http: [//fiddle.tinymce.com/H0caab](http://fiddle.tinymce.com/H0caab)。解决方案是使用`oninit`设置并解决`onAdd.add`：

```
tinyMCE.init({
    ...
    setup : function(ed) {

      ed.onInit.add(function(ed) {

        ed.undoManager.onAdd.add(function(ed) {   
           alert('added.');  
        });

      });
    }

}); 
```

# google-apps-script - Google Apps 脚本 - 如何更新附加到许多电子表格的脚本？

> ID：13760786
> 
> 赞同：0
> 
> 时间：2012-12-07T09:59:47.990
> 
> 标签：google-apps-script

我为电子表格模板编写了一个脚本。我的用户从电子表格模板和附加的脚本中复制。电子表格和脚本都有很多这样的实例。当我更新电子表格模板的脚本时，我（或我的用户）必须手动更新附加到电子表格的所有脚本。所有的脚本都是一样的。有没有办法自动同步脚本更新？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T17:13:31.887

您可以做的是维护一个**独立**的脚本并将其作为库发布，而不是将其驻留在电子表格模板中。这样，您只需在一处更改脚本。要使用 onOpen、onEdit 等触发器，您可以在电子表格模板中使用 shell 函数。就像是

```
function onOpen(e){
  LibraryName.onOpen(e);
} 
```

# pointers - 游览何时不使用指针指向变量中的结构字面量

> ID：13760793
> 
> 赞同：12
> 
> 时间：2012-12-07T10:00:04.790
> 
> 标签：pointers, go

根据 Go [tour 第 28](http://tour.golang.org/#28)页和[第 53 页](http://tour.golang.org/#53)

它们显示了一个变量，该变量是指向结构文字的指针。为什么这不是默认行为？我对C不熟悉，所以很难理解它。我唯一能看到使用指针可能不是更有益的情况是结构文字是唯一的，并且不会用于其余程序，因此您希望尽快将其作为垃圾收集. 我什至不确定像 Go 这样的现代语言是否可以这样工作。

我的问题是这个。何时应将指向结构文字的指针分配给变量，何时应将结构文字本身分配？

谢谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-07T10:17:12.770

在以下情况下使用指针而不是结构文字会很有帮助

*   结构很大，你把它传过来
*   您想共享它，即所有修改都会影响您的结构而不是影响副本

在其他情况下，只需使用结构文字就可以了。`int`对于一个小型结构，您可以像使用 an或 an一样考虑这个问题`*int`：大多数时候 int 很好，但有时您传递一个指针，以便接收者可以修改您的 int 变量。

在您链接到的 Go tour 练习中，Vertex 结构很小，并且具有与任何数字大致相同的语义。在我看来，直接将它用作 struct 并像这样在[#53](http://tour.golang.org/#53)`Scaled`中定义函数会很好：

```
func (v Vertex) Scaled(f float64) Vertex {
    v.X = v.X * f
    v.Y = v.Y * f
    return v
} 
```

因为有

```
v2 := v1.Scaled(5) 
```

会创建一个新的顶点，就像

```
var f2 float32 = f1 * 5 
```

创建一个新的`float`.

这类似于如何处理标准`Time`结构（[在此处](http://golang.org/src/pkg/time/time.go)定义），它通常保存在 type`Time`和 not的变量中`*Time`。

但是没有明确的规则，根据用途，我很可能同时保留`Scale`和`Scaled`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-09T00:37:49.000

大多数时候你想要指针可能是对的，但我个人认为需要显式刷新指针。它使之成为`int`和之间没有区别`MyStruct`。他们的行为方式相同。

如果您将此与 C#（一种实现您所建议的语言）进行比较，我会发现它的语义令人困惑：

```
static void SomeFunction(Point p)
{
    p.x = 1;
}
static void Main()
{
    Point p = new Point();
    SomeFunction(p);
    // what is p.x?
} 
```

取决于是否`Point`定义为 a`class`或 a `struct`。

# c# - 如何将 PSCredential 对象从 C# 代码传递到 Powershell 函数

> ID：13760795
> 
> 赞同：7
> 
> 时间：2012-12-07T10:00:07.550
> 
> 标签：c#, powershell

我在 C# 中有一个 PSCredential 对象，并希望将其作为此 PowerShell 脚本的参数传递

这是 PSCredential 对象

```
 PSCredential Credential = new PSCredential ( "bla" , blasecurestring) 
```

这是我想在 C# 中运行的脚本

```
powershell.AddScript("$s = New-PSSession -ComputerName '" + serverName + "' -Credential " + Credential); 
```

我无法理解此处提供的解决方案[Pass a Parameter object (PSCredential) inside a ScriptBlock in programmatically in C#](https://stackoverflow.com/questions/3961192/pass-a-parameter-object-pscredential-inside-a-scriptblock-programmatically-in)

编辑：这东西正在工作

```
powershell.AddCommand("New-PSSession").AddParameter("ComputerName", serverName).AddParameter("Credential", Credential); 
```

但是如何将会话信息保存在变量中？我需要它们来执行以下命令：

```
powershell.AddScript(@"Invoke-Command -Session $s -ScriptBlock {" + cmdlet + "}"); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-14T09:43:15.477

我现在找到了解决方案。当您知道自己在做什么时，这很容易...

```
powershell.AddCommand("Set-Variable");
powershell.AddParameter("Name", "cred");
powershell.AddParameter("Value", Credential);

powershell.AddScript(@"$s = New-PSSession -ComputerName '" + serverName + "' -Credential $cred");
powershell.AddScript(@"$a = Invoke-Command -Session $s -ScriptBlock {" + cmdlet + "}");
powershell.AddScript(@"Remove-PSSession -Session $s");
powershell.AddScript(@"echo $a"); 
```

其中 Credential 是 C# PSCredential 对象

# java - 我们是否必须在 java.io.File 路径中使用系统相关的文件分隔符？

> ID：13760798
> 
> 赞同：0
> 
> 时间：2012-12-07T10:00:16.703
> 
> 标签：java

我们真的需要在 java.io.File 路径表达式中提供正确的文件分隔符吗？换句话说，编写`path + File.separator + fileName`而不是 `path + "/" + fileName`任何操作系统有什么区别吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:01:41.403

有些人可能会从技术上说是的，但实际上由于 windows 可以使用 \ 或 /，因此只需使用 unix 文件分隔符就可以了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:07:37.817

我通常坚持 File.seperator 。

但是我注意到 Java 足够聪明，可以在任何操作系统上正确处理“/”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T13:37:03.840

您可能不知道您的应用程序会在哪个版本的 Windows 中使用，因此我建议您始终使用 System.getProperty(file.separator);

# 3d - export 3d object from website

> ID：13760799
> 
> 赞同：0
> 
> 时间：2012-12-07T10:00:20.127
> 
> 标签：3d, export, three.js, blender, 3dsmax

I'm so new at three.js and 3d. I want to create a 3d shape at my website and give some modifiable attributes, so user can modify some parts of this shape(I did this part). Now I want to give user a link to download this modified shape as file which can open at Blender or 3dsmax. I linger on this part. How can I develop such functionality?

Thanks very much for your help

Sorry for my bad English

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T17:37:16.757

完整的答案可能超出了 StackOverflow 的范围，因为要使其正常工作，您需要做的*是*开发一个 Web 服务——而不仅仅是一个网页。服务器端部分可能需要执行操作的文件传输部分。

您是否熟悉[http://www.3dtin.com/](http://www.3dtin.com/)，它提供了一些类似的通用建模功能？

如果模型不是很大，解决这个问题的一个有点丑陋的方法可能是在您的网页中包含一些可能包含 OBJ 或 STL 等导出格式的文本。他们可以复制粘贴该文本。

# javascript - Light box background color should cover the whole screen using CSS

> ID：13760803
> 
> 赞同：5
> 
> 时间：2012-12-07T10:00:33.120
> 
> 标签：javascript, css, styles

This is my page URL

[http://sample.com/mytest.php](http://sample.com/mytest.php)

In this page, if we click a Sign In button it will display a popup screen with black background. But if we zoom out the page, then it reduces the size of a background color. But i want to cover background the whole screen if we zoom out. I used the code below in my page.

```
.black_overlay{
  display: none;
  position: absolute;
  top: 0%;
  left: 0%;
  width: 100%;
  height: 2000%;
  background-color: black;
  z-index:1001;
  -moz-opacity: 0.8;
  opacity:.80;
  filter: alpha(opacity=80);
} 
```

But in a test page the below code is used for cover the whole background. It works fine.

```
<style type="text/css">
  /*give the body height:100% so that its child
    elements can have percentage heights*/
  body{ height:100% }
  /*this is what we want the div to look like*/
  div.fullscreen{
    display:block;
    /*set the div in the top-left corner of the screen*/
    position:absolute;
    top:0;
    left:0;
    background-color: black;
    /*set the width and height to 100% of the screen*/
    width:100%;
    height:100%;
    color: white;
  }
</style>

<div class="fullscreen">
  <p>Here is my div content!!</p>
</div> 
```

How can i do the same for my login page background i don't know. Anyone can please help me to solve this problem.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T10:08:24.083

尝试

```
div.fullscreen{
    position:fixed
    ...
} 
```

**absolute**：元素相对于其第一个定位（非静态）祖先元素定位
**fixed**：元素相对于浏览器窗口定位

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-07T10:09:23.217

您必须在正文标记结束之前或正文标记开始之后放置以下代码

```
<div class="black_overlay" id="fade" style="display: block;"></div> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-07T10:08:45.753

您需要将弹出窗口和背景移到任何其他块元素之外，可能就在`</body>`. 背景正在拉伸以填充其容器的 100%，即表格单元格而不是正文。这意味着您将不得不更改位置（左右）。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-12-07T10:24:37.750

问题是它`div.black_overlay`在表格内部，所以你不能使用`widht:100%`and `height:100%`。只需移出`div.black_overlay`表格并添加`z-index: 1;`. 我已经使用 Firebug 进行了测试，它可以工作！

# javascript - How to take a snapshot of HTML5-JavaScript-based video player?

> ID：13760805
> 
> 赞同：37
> 
> 时间：2012-12-07T10:00:43.590
> 
> 标签：javascript, html, web, html5-video, snapshot

Actually, i have a HTML5 page with JavaScript function that allow me to play a wmv video file. I need to take a snapshot when the video is playing (with pause or without) and saved in any image format JPG or BMP whatever. Any help will appreciate. Thank you.

```
<!DOCTYPE HTML>

    <html>
        <head>
            <title>HTML5 video</title>        
    <script type="text/javascript">
        function checkPlay() {
            var myVideo = document.getElementById("myVid");
            var ytStr = '<iframe width="500" height="500" src="C:\XA0002.wmv" frameborder="0" allowfullscreen></iframe>';
            try {
                var canPlay = document.getElementsByTagName('video')[0].canPlayType("video/wmv");
                if ((canPlay == "no") || (canPlay == "")) {
                    myVideo.innerHTML = ytStr;
                }
                new MediaElement(v, { success: function (media) { media.play(); } });
            } catch (err) {
                myVideo.innerHTML = ytStr;
            }
        }
    </script>
        </head>
        <body onload="checkPlay()">
          <div id="myVid"/>

      </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：83
> 
> 时间：2012-12-07T14:46:33.900

将视频帧复制到图像文件涉及正确加载视频、将图像复制到画布并将其导出到文件。这是完全可能的，但是有几个地方你会遇到麻烦，所以让我们一步一步来。

1) 加载视频

要捕获像素，您需要将视频加载到`<video>`标签中，而不是`iframe`or`object`或`embed`。并且文件需要来自网络服务器，这与网页本身所在的服务器相同（除非您使用[跨域标头](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image)，这很复杂并且可能无法在您的浏览器中运行。这受到浏览器安全性的限制原因。您的代码从本地文件系统加载视频，这是行不通的。

您还需要加载正确的文件格式。IE9+ 可以播放 WMV，但其他浏览器不太可能。如果可以，请使用 webm、mp4 和理想的 ogg/theora加载[多个源。](https://developer.mozilla.org/en-US/docs/Using_HTML5_audio_and_video)

```
var container = document.getElementById("myVid"),
    video = document.createElement('video'),
    canCapture = true;
if (!video.canPlayType('video/wmv')) {
    /* If you don't have multiple sources, you can load up a Flash fallback here
       (like jPlayer), but you won't be able to capture frames */
    canCapture = false;
    return;
}
video.src = 'myvideo.wmv';
container.appendChild(video);
video.play(); //or put this in a button click handler if you want your own controls 
```

2) 接下来，创建画布和绘图上下文。实际上，您甚至不需要将其附加到 DOM，但您确实需要将其设置为您想要保存结果图像的大小。对于此示例，我们假设您有一个固定尺寸，但如果您愿意，您可以将其设置为视频尺寸的倍数。只需确保您在视频的“已加载元数据”事件中运行它，因为视频尺寸不会立即可用。

```
var canvas = document.createElement('canvas');
canvas.width = 640;
canvas.height = 480;
var ctx = canvas.getContext('2d');
// if you want to preview the captured image,
// attach the canvas to the DOM somewhere you can see it. 
```

3）将图像捕获到画布并将其保存到文件中。将此代码`onclick`放在按钮上的事件中或计时器内 - 但是您想决定何时捕获图像。使用 drawImage 方法。（[这篇文章]提供了很好的解释，包括安全问题。视频和图像一样。）

```
//draw image to canvas. scale to target dimensions
ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

//convert to desired file format
var dataURI = canvas.toDataURL('image/jpeg'); // can also use 'image/png' 
```

4) 导出图像文件

jpg 文件现在保存为[Data URI](http://en.wikipedia.org/wiki/Data_Uri)，它是一个长的 javascript 字符串，表示完整二进制文件的编码版本。由你决定如何处理它。您只需将其设置为 src: 即可将其直接放入`img`元素中`myImage.src = dataUri;`。

如果要将其保存到文件中，则几乎需要将其上传到服务器。这是一个关于如何做到这一点的[好教程。](http://www.re-cycledair.com/html-5-canvas-saving-to-a-file-with-php)

像往常一样，以上所有内容都仅限于支持它的浏览器。如果您要坚持使用 wmv 视频，那么您几乎只能使用 Internet Explorer 9+。6-8 不支持视频标签或画布。如果您可以添加更多视频格式，您可以使用 Firefox (3.5+) 和 Chrome。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-04-09T07:10:59.380

```
<html>
<body>

  <video controls>
    <source src="C:/Users/ganesha/Desktop/Aararum.mp4" type="video/mp4"></source>
  </video>
  <canvas id="canvas" width="640" height="480"></canvas>
  <button id="snap" onclick="snap()">Snap Photo</button>

  <!-- start the script ... within that declare variables as follows... -->
  <script>
  var video=document.querySelector('video');
  var canvas=document.querySelector('canvas');
  var context=canvas.getContext('2d');
  var w,h,ratio;

  //add loadedmetadata which will helps to identify video attributes

  video.addEventListener('loadedmetadata', function() {
    ratio = video.videoWidth/video.videoHeight;
    w = video.videoWidth-100;
    h = parseInt(w/ratio,10);
    canvas.width = w;
    canvas.height = h;
  },false);

  function snap() {
    context.fillRect(0,0,w,h);
    context.drawImage(video,0,0,w,h);
  }
  </script>

</body>
</html> 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2012-12-07T10:06:38.103

您可以使用该`drawImage()`功能获取当前视频的副本并将其存储在画布元素中。

我有一个完整的示例，您可以在[视频/画布屏幕截图](http://html5multimedia.com/code/ch9/video-canvas-screenshot.html)中查看其代码，这应该让您走上正轨。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-10-31T12:00:30.373

```
Sample code:
<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"> 
</script>

</head>
<body>
<h2>Upload,Save and Download video </h2>
<form method="POST" action="" enctype="multipart/form-data">
<input type="file" name="video" id="upload"/>
</...>

<script>
var input = document.getElementById('upload');

input.addEventListener('change', function(event){
var file = this.files[0];
var url = URL.createObjectURL(file);

var video = document.createElement('video');
video.src = url;

var snapshot = function(){
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');

    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
    var img_data = canvas.toDataURL('image/jpg');
    var filename = file.name;
    var filename = filename.split('.').slice(0, -1).join('.');

    document.getElementById("thumb").value = filename;
    $.post("thumb-saver.php", { 
        base:img_data, 
        output:"thumbnails/"+ filename +  '.jpg'
    }, function( data ) {
            //alert(data);
    });

    video.removeEventListener('canplay', snapshot);
 };

video.addEventListener('canplay', snapshot);
});
</script> 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2018-10-02T17:54:09.260

视频首先包含在画布标签中。

像这样;

```
<canvas id="target-canvas">
    <video id="video-for-thumbs" autoplay src="http://.....></video> 
</canvas> 
```

和这样的js

```
setTimeout(function(){
    var canvas=$('#target-canvas')[0];
    canvas.getContext('2d').drawImage($('#video-for-thumbs')[0],0,0,1000,300);
    var f=canvas.toDataURL();
    console.log(f);

},200); 
```

数据将以 base64 呈现

如果你想在视频中间获取帧，你可以增加延迟时间来运行js。

另外的

您可以添加播放速率以提高视频的速度，以缩短仅用于缩略图的屏幕截图的等待时间

```
$('#video-for-thumbs')[0].playbackRate=9; 
```

# javascript - 如何在 ContentFlow 中禁用图像缩放？

> ID：13760823
> 
> 赞同：1
> 
> 时间：2012-12-07T10:02:06.210
> 
> 标签：javascript, image, contentflow

我正在将[ContentFlow](http://jacksasylum.eu/ContentFlow/index.php)与 gallery2 插件一起使用。

我不喜欢gallery2的默认图像缩放，所以我想修改这个插件，但首先我想关闭幻灯片中的图像缩放。

我该怎么做？

# objective-c - 执行 popViewControllerAnimated 时无法显示导航栏

> ID：13760824
> 
> 赞同：5
> 
> 时间：2012-12-07T10:02:07.263
> 
> 标签：objective-c, ios, cocoa-touch, uinavigationcontroller

我有两个 viewControllers ，我从 FirstView 导航到 SecondView ，通过

将 SecondView 推送到导航控制器。因为我不想要导航栏

要在 SecondView 中显示，我执行以下操作

```
self.navigationController.navigationBar.hidden=YES; 
```

然后我从 secondView 回到 FirstView 如下

```
[self.navigationController popViewControllerAnimated:YES]; 
```

但是现在导航栏也没有显示在 FirstView 中，因为我将它隐藏在

第二视图。我正在 FirstView 中尝试以下操作

```
-(void)viewWillAppear:(BOOL)animated
{

       [super viewWillAppear:YES];

       self.navigationController.navigationBar.hidden=NO;
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-07T10:07:43.377

试试这个：

```
- (void) viewWillAppear:(BOOL)animated
{
    [self.navigationController setNavigationBarHidden:NO animated:NO];
    [super viewWillAppear:animated];
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-07T10:06:07.150

您设置 initWithNib 或 viewDidLoad 方法并运行它

```
-(void)viewDidLoad
 {
      self.navigationController.navigationBar.hidden=NO;
 } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-07T10:10:49.583

在弹出第二个视图控制器之前尝试显示导航栏，如下所示：

```
self.navigationController.navigationBar.hidden=NO;
[self.navigationController popViewControllerAnimated:YES]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-07T10:13:54.503

试试下面的方法：

```
-(void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:YES];
    self.navigationController.navigationBar.hidden=NO;
} 
```

但对我来说，它应该在 viewWillAppear 中工作。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-04-18T06:08:46.423

将下面的代码放在第二个视图中

```
-(void)viewWillDisappear:(BOOL)animated{
self.navigationController.navigationBarHidden=NO; 
```

}

# eclipse - 使用 Eclipse 创建 AVD：内存选项、内部存储、SD 卡

> ID：13760828
> 
> 赞同：2
> 
> 时间：2012-12-07T10:02:14.620
> 
> 标签：eclipse, android-emulator, avd

我正在**Eclipse**和 Android dev 中创建一个新的**AVD 。** 工具 21.0，如果对“**内存选项**”（RAM 和 VM 堆）、“**内部存储**”和“ **SD 卡**”有一些解释，那就太好了。 （很抱歉，由于我是新用户，我不允许发布快照图像）

 ******我需要：
-**含义**
-度量**单位**（不显示 RAM 和 VM 堆）
-选择值的**标准**

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-29T18:52:55.380

首先要澄清一些可能的混淆，Eclipse 并没有自己的 AVD 创建机制。它有一个插件，可以调用 Android 虚拟设备管理器。AVD 管理器也可以使用“android avd”从命令行访问，它是 Android SDK 的一部分（所以这个问题不是 Eclipse 用户特有的）。

至于定义：

*   **内部存储器**
    *   内置的、不可移动的文件存储容量。操作系统和大多数应用程序都将安装在这里。当您看到宣传为 8GB 或 16GB 的设备时，这就是该数字所指的内容。
    *   AVD 管理器允许您选择 Gigabyte 或 Megabyte。
    *   选择取决于您的需求和硬盘驱动器上的空间量，但您可能至少需要 200MB。2GB 可能绰绰有余。如果空间不足，您可以随时添加更多文件或将文件移动到 SD 卡。
*   **SD卡**
    *   类似于*Internal storage*，但指的是 Android 设备可以访问的可移动存储卡（与数码相机使用的卡类型相同）上的存储空间。这是存储用户文件的地方，包括文档、音乐和视频，但有些应用程序是为了存储在这里而构建的。
    *   AVD 管理器允许您选择 Gigabyte、Megabyte 或 Kilobyte。
    *   同样，这会使用计算机硬盘驱动器上的空间，但此值是完全可选的。在您需要测试您的应用程序如何使用外部存储之前，您可以放心地将其留空。
*   **内存选项 - RAM**
    *   操作系统和任何正在运行的应用程序使用的可用工作内存。这直接影响可以同时加载多少个应用程序。
    *   AVD 管理器需要一个以 MB 为单位的值。
    *   这会使用您计算机的 RAM，这是一种有限的资源，因此您不想使用太多。我想说当前的播放范围是 256MB 到 2024MB，所以你的最佳位置可能是 512 或 1024。
*   **内存选项 - VM 堆**
    *   这是一个更高级的主题，超出了初学者问题的范围。为简单起见，我只想说 RAM 与正在运行的应用程序的总和有关，而堆与每个单独的应用程序可用的内存有关。
    *   AVD 管理器在这里也需要一个以 MB 为单位的值。
    *   有关合理的值，请参阅列出实际值的问题：[Android heap size on different phone/devices and OS versions](https://stackoverflow.com/questions/5350465/android-heap-size-on-different-phones-devices-and-os-versions)
    *   有关内存的更多信息，请参阅 Android 开发者网站 ( [http://developer.android.com/training/articles/memory.html](http://developer.android.com/training/articles/memory.html) )******

# javascript - 如何添加点击事件 div runat 服务器

> ID：13760831
> 
> 赞同：2
> 
> 时间：2012-12-07T10:02:40.467
> 
> 标签：javascript, asp.net

我在会议上遇到困难，在带有 runat =“server”的 div 标签上添加一个事件。这在 IE 上完美运行，但不适用于 chrome、mozilla .. 搜索错误:-)

这是我尝试过的代码

**JAVASCRIPT：**

```
function showAlertAnomalie() {
   alert("Handler test");
} 
```

**ASP：**

```
<div id="btn_alert_anomalie" class="alertAnomalieClass" runat="server"  onclick="showAlertAnomalie" >
   <asp:Label runat="server" Text="Alert annomaly" Font-Bold="true" Font-Size="12" ForeColor="White" style="cursor:pointer;"></asp:Label>
</div> 
```

**我也试过这个但没有用..：**

```
$("#btn_alert_anomalie").click(function () {
   alert("Handler test");
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:05:37.583

尝试`class`使用`div`as

```
$(".alertAnomalieClass").click(function () {
   alert("Handler test");
}); 
```

这是[小提琴](http://jsfiddle.net/yRBbB/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T10:08:14.557

内联`onclick`属性应该包含点击处理程序的*主体*，而不是它的名称。试试这个：

```
onclick="showAlertAnomalie();" 
```

这是一个演示：http: [//jsfiddle.net/UgcEQ/](http://jsfiddle.net/UgcEQ/)

问题是这样做：

```
onclick="showAlertAnomalie" 
```

相当于这样做：

```
var btn = document.getElementById('btn_alert_anomalie');
btn.onclick = function(){
    showAlertAnomalie
} 
```

这并没有真正做任何事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T10:07:11.920

尝试 ：

```
$('#<%=btn_alert_anomalie.ClientID%>').click(function () {
 alert("Handler test");
}); 
```

# c# - 如何获取 datetimepicker 检查属性？

> ID：13760832
> 
> 赞同：-4
> 
> 时间：2012-12-07T10:02:42.743
> 
> 标签：c#, .net, winforms, datetimepicker

winforms .net 的 datetimepicker 控件中有一个复选框。如果用户单击日期时间选择器，则应保存日期，否则应将空值存储在数据库中。有什么出路吗？

我正在使用以下代码：

```
if (dateDOB.Checked == true)
        {
            cmd.Parameters.AddWithValue("@dob", dateDOB.Value.ToString());
        }
        else
        {
            cmd.Parameters.AddWithValue("@dob", DBNull.Value);
        } 
```

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-12-08T22:27:58.697

我会通过 dateDob.Value.Date 去掉时间部分。

# shell - 如何在 shell 脚本中检查 diff 命令的输出？

> ID：13760834
> 
> 赞同：1
> 
> 时间：2012-12-07T10:02:48.937
> 
> 标签：shell

我必须将一个文件与 3 个不同的黄金文件使用`diff`. `exit 0`如果测试文件与三个黄金文件中的任何一个相同，我需要退出脚本。

我尝试了以下方法：

```
#!/bin/sh
one=`diff -q NEW_GOLDEN_OUTPUT_ASYNC_1 /tmp/tmp_last_lines.log`
two=`diff -q NEW_GOLDEN_OUTPUT_ASYNC_2 /tmp/tmp_last_lines.log`
three=`diff -q NEW_GOLDEN_OUTPUT_ASYNC_3 /tmp/tmp_last_lines.log`

if [[ $one || $two || $three ]]; then
  exit 0
else
  exit 1
fi 
```

但它`exit 0`在所有情况下都会返回。我正在使用 /bin/ksh 外壳。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:23:47.967

您的代码查看输出，`diff`但您应该查看退出代码。试试这个：

```
#!/bin/sh
diff -q NEW_GOLDEN_OUTPUT_ASYNC_1 /tmp/tmp_last_lines.log && \
diff -q NEW_GOLDEN_OUTPUT_ASYNC_2 /tmp/tmp_last_lines.log && \
diff -q NEW_GOLDEN_OUTPUT_ASYNC_3 /tmp/tmp_last_lines.log 
```

`&&`如果前一个命令成功，则只会执行下一个命令。

或者，使用`set -e`（如果命令以非零状态退出，则立即退出。）：

```
#!/bin/sh
set -e
diff -q NEW_GOLDEN_OUTPUT_ASYNC_1 /tmp/tmp_last_lines.log
diff -q NEW_GOLDEN_OUTPUT_ASYNC_2 /tmp/tmp_last_lines.log
diff -q NEW_GOLDEN_OUTPUT_ASYNC_3 /tmp/tmp_last_lines.log 
```

# internet-explorer - windows phone 7 或 7.5 是否可以更新到 IE10？

> ID：13760835
> 
> 赞同：0
> 
> 时间：2012-12-07T10:02:54.400
> 
> 标签：internet-explorer, windows-phone-7, internet-explorer-10, placeholder

我想知道是否可以在 windows phone 7 上更新您的 IE？

因为我在 IE9 上显示表单的占位符时遇到问题，所以该版本不支持它。

我不是 Windows Phone 用户，所以我问你们。

是否可以在 windows phone 7 或 7.5 上将 IE9 更新为 IE 10？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T11:00:41.457

不，这是不可能的。

微软宣布，即使更新到 WP7.8，也将只有 IE9，因为 IE10 使用硬件加速，而 WP7 设备的硬件不支持这种加速。

# c - 如何根据数据大小有条件地编译 C 代码？

> ID：13760844
> 
> 赞同：0
> 
> 时间：2012-12-07T10:03:36.990
> 
> 标签：c

我定义了以下数据类型：

```
typedef int MyInt; 
```

然后我希望根据 MyInt 的大小定义一个新的数据类型，类似于下面的代码，但我找不到解决方案。

```
#if sizeof(MyInt) == 2
    typedef long MyLong;
#else
    typedef short MyLong;
#endif 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T10:11:19.287

评估不是预处理器的工作`sizeof`，这是由编译器完成的，这是该过程的后期阶段。评估`sizeof`需要深入的 C 知识，而预处理器根本没有。

您可以（理论上）将预处理器视为一个单独的步骤，*它只进行文本*转换，实际上将“foo.c”转换为“foo-preprocessed.c”。后一个文件不会留下任何`#include`or `#if`s，它们都被预处理器评估和替换。实际的编译器永远不会看到它们。

您应该考虑使用`<stdint.h>`已知精度​​类型（`uint16_t`和朋友）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-07T10:09:15.417

您可以使用宏的值`UINT_MAX`来确定基础类型的大小。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T10:09:58.037

您可以使用`UINT_MAX`- 它可以为您提供有关整数大小的线索。

```
#if (UINT_MAX <= 65536)
    typedef long MyLong;
#else
    typedef short MyLong;
#endif 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T11:08:05.327

足够新的 GCC（我认为是 4.3）具有预定义的标识符，例如`__SIZEOF_LONG__`，但`limits.h`按照其他人的建议使用常量更简单。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-07T12:04:31.643

尽管我和 C 预处理器是不共戴天的敌人，但我们有时需要彼此 ;)。所以我建议：

```
#if SIZEOF_MYINT == 2
#   define MYLONG_T long
#elif SIZEOF_MYINT == 4
#   define MYLONG_T short
#endif

typedef MYLONG_T MyLong; 
```

在其他地方（在全局配置头文件中）你有你的架构依赖

```
#define SIZEOF_MYINT 2 
```

# java-me - 如何处理 j2me 中的图像，如 .dat 格式

> ID：13760845
> 
> 赞同：0
> 
> 时间：2012-12-07T10:03:38.150
> 
> 标签：java-me

我正在用 j2me 开发游戏。如何处理 .dat 格式的图像。

我下载了一些游戏并提取了 jar ，发现了一些 dat 格式的图像并且无法打开该图像并且图像大小也非常小..我需要使用什么工具？

参考链接 [在此处输入链接描述](https://www.coderanch.com/t/227519/JME/Mobile/Images-Games)

找不到解决办法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T22:20:45.093

正如 mr_lou 所说，.dat 扩展名确实没有什么特别之处。

重新编译文件的步骤通常从在十六进制编辑器中打开文件开始，然后查看文件中的第一部分信息。然后，您基本上可以从那里重新编译“正常”程序解释文件所需的数据。特别是，前 8-16 个字节通常对于确定它“应该”是什么类型的文件非常有帮助。

如果您正在查看 png 文件（这是我通常更喜欢用于艺术资产的文件），那么您可以参考[http://en.wikipedia.org/wiki/Portable_Network_Graphics](http://en.wikipedia.org/wiki/Portable_Network_Graphics)以查看“正常”png 的外观。当您调整以保存字节时，您通常会从 png 标头（诸如辅助块之类的东西）中删除不必要的字段并使用通用调色板。

但是，请记住，它不一定是图像数据。它可能是关卡数据、声音、默认统计数据或任何特定数量的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-10T17:56:53.600

dat 文件可以是任何东西。取决于开发人员的感受。

一些开发人员选择从他们的头文件中去除 PNG 文件，然后在代码中重新添加头文件。这样做部分是为了节省一些字节（因为它们在当时很重要），部分是因为这样做的挑战，部分是因为它确保所有图像都使用完全相同的调色板。

所以这是一种可能性，但它真的可以是任何东西。

# php - php中某些页面上的Gzip内容编码错误

> ID：13760847
> 
> 赞同：0
> 
> 时间：2012-12-07T10:04:01.207
> 
> 标签：php, apache, compression

我在 php 中使用 Gzip 压缩方法。最初，只要我登录，它就可以在我的网站上正常工作，但出现内容编码错误。

我知道当 PHP 中有一些错误时，我们会在 FF 中遇到这种类型的错误，但我也检查了，我的 php 代码中没有错误。

那么，为什么它在这个页面上特别给出错误？

谢谢

# java - 从 Tomcat 获取资源时出现 FileNotFoundException

> ID：13760849
> 
> 赞同：0
> 
> 时间：2012-12-07T10:04:05.150
> 
> 标签：java, url, tomcat

我正在运行 Tomcat 5.0，但从 Java 的 tomcats 'webapps' 获取资源时遇到问题。有一个 html 文件，我在服务器启动后检查它是否可用

```
 tomcat_folder/webapps/myProject/site.html 
```

在 Java 中，我在服务器启动时运行此代码：

```
 URL url = new URL("http://localhost:8080/myProject/site.html");
  URLConnection con = url.openConnection();
  Object content = con.getContent(); 
```

getContent() 抛出 FileNotFoundException。

但是当我将“http://localhost:8080/myProject/site.html”放入浏览器时，网站显示没有问题。

此外，我在 4 台机器上进行了测试——在 2 台机器上一切都很好，在其他 2 台 FileNotFoundException 上。

我认为这可能是一些文件夹安全访问问题或用户权限，但最终我没有任何线索。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:09:21.547

假设你在窗户上。您可能需要将 java.exe 添加到您的病毒扫描程序/防火墙中，以允许它建立出站网络连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:23:50.803

如果您的代码在 servlet 中，那么您可以获得 servlet 的真实路径，然后将文件名附加到它。

```
String servletPath = getServletContext().getRealPath("/");
URL url = new URL(servletPath+"site.html"); 
```

对于普通的 java 应用程序，您将需要您的 tomcat 安装的 webapps 文件夹的完整路径。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-08T19:43:19.373

您的代码似乎是正确的。
但是您错过了实际连接
con .connect();
在尝试获取内容之前

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-10T12:58:09.583

我找到了解决我的问题的方法。

原因是使用端口 8080 的 Windows 服务，Tomcat 也在使用该端口。资源可以通过浏览器获得，但不能通过 Java 代码获得。停止冲突服务后，一切正常。

# c++ - c++错误C2065：未声明的标识符

> ID：13760850
> 
> 赞同：0
> 
> 时间：2012-12-07T10:04:12.143
> 
> 标签：c++, class, identifier

----编辑解决方案找到，错误的类命名空间。这篇文章可能就是一个例子

我收到了这个错误，所以我很困惑我到底做错了什么。在 some.cpp 我声明：

**.cpp：**

```
#include "header1.hpp"
#include "header2.h"

using namespace wre;
namespace awq
{
  //somethings
  void function()
  {
      std::vector<classW>::iterator it1; //I mean class upr::classW
      std::map<int, classQ> map1; //I mean class pwe::classQ
      //iterations which don't work
  }
} 
```

**header1.hpp**

```
namespace upr
{
class classW
   {
        //things
   }
} 
```

**header2.h**

```
namespace wre
{
   class classQ
   {
      //things
   }
} 
```

为什么它看不到这个classW？结果 it1 的大小未知......所以有两个愚蠢的错误。

classQ - 没有问题。

这里有什么意义，有人知道吗？（我对各种命名空间进行操作，如果有必要，我可以将其添加到这篇文章中）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:26:51.800

我猜你正在做的是：

header1.h

```
namespace N{
  class classW{ };
} 
```

header2.h

```
namespace M{
  class classQ{ };
} 
```

一些.cpp

```
#include "header1.h"
#include "header2.h
std::vector<classW>::iterator it1;
std::map<int, classQ> map1; 
```

从这里，您会收到未定义的 classW/classQ 错误，因为编译器无法从全局命名空间中找到 classW/classQ。

你可以实现 some.cpp 像：

```
 #include "header1.h"
 #include "header2.h
 std::vector<N::classW> v1;
 std::vector<N::classW>::iterator it1;
 std::map<int, M::classQ> map1; 
```

但这只是我的猜测，需要查看更多代码才能了解代码中真正发生了什么。

# matlab - matlab中矩阵的所有组合

> ID：13760851
> 
> 赞同：4
> 
> 时间：2012-12-07T10:04:12.963
> 
> 标签：matlab, matrix, combinations

我试图找到一个 n×n 矩阵的所有组合而不重复。

例如，我有一个这样的矩阵：

```
A = [321 319 322; ...
     320 180 130; ...
     299 100 310]; 
```

我想要以下结果：

> (321 180 310)
> (321 130 100)
> (319 320 310)
> (319 139 299)
> (322 320 100)
> (322 180 299)

我尝试过使用`ndgrid`，但它需要行或列两次。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T19:34:43.973

这是一个更简单的（本机）解决方案，其中[`perms`](http://www.mathworks.com/help/matlab/ref/perms.html)and [`meshgrid`](http://www.mathworks.com/help/matlab/ref/meshgrid.html)：

```
N = size(A, 1);
X = perms(1:N);                    % # Permuations of column indices
Y = meshgrid(1:N, 1:factorial(N)); % # Row indices
idx = (X - 1) * N + Y;             % # Convert to linear indexing
C = A(idx)                         % # Extract combinations 
```

结果是一个矩阵，每一行包含不同的元素组合：

```
C =

   321   180   310
   319   320   310
   321   130   100
   319   130   299
   322   320   100
   322   180   299 
```

此解决方案也可以缩短为：

```
C = A((perms(1:N) - 1) * N + meshgrid(1:N, 1:factorial(N))) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:08:38.207

`ALLCOMB`是你问题的关键

例如，我不在 MATLAB 机器前，所以我从网上获取了一个样本。

```
x = allcomb([1 3 5],[-3 8],[],[0 1]) ;
ans
1 -3 0
1 -3 1
1 8 0
...
5 -3 1
5 8 0
5 8 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T12:12:20.847

您可以使用`perms`如下排列列：

```
% A is given m x n matrix
row = 1:size( A, 1 );
col = perms( 1:size( A, 2 ) );

B = zeros( size( col, 1 ), length( row )); % Allocate memory for storage

% Simple for-loop (this should be vectorized)
% for c = 1:size( B, 2 )
%     for r = 1:size( B, 1 )
%         B( r, c ) = A( row( c ), col( r, c ));
%     end
% end

% Simple for-loop (further vectorization possible)
r = 1:size( B, 1 );
for c = 1:size( B, 2 )
    B( r, c ) = A( row( c ), col( r, c ));
end 
```

# python - 如何在 Windows 上的 Python 中进行 SOAP 调用？

> ID：13760852
> 
> 赞同：1
> 
> 时间：2012-12-07T10:04:13.453
> 
> 标签：python, soap, windows-7

我使用 Python 3.2。我有一个使用 SOAP 的 API。我需要执行一些 SOAP 调用来修改数据库中的某些对象。我正在尝试安装一个 SOAP 库，它可以与 Python 3.2（或 2.7，如果需要的话）一起工作，以完成我的任务。

如果有人能给我一些指导如何安装什么库以及如何安装，我将不胜感激。我将能够继续我的其余开发。

注意：我听说过 SOAPy，但它看起来已经停产了。我已经下载了一个可执行文件，它要求我指出我想要安装它的位置，但我别无选择......

我有点失落。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-07-10T10:23:49.987

1.  打开你的命令提示符（如果已经安装了 python 并且你已经在环境变量中设置了 python 路径）然后
2.  c:> pip install zeep
3.  c:> pip install lxml==3.7.3 zeep
4.  c:> pip install zeep[xmlsec]
5.  c:> pip install zeep[异步]

现在您已准备好使用 python 1 创建 SOAP 调用。 c:/> Python 2\. >>> from zeep import Client 3\. >>> client = Client('your WSDL URL'); 4\. result = client.service.method_name(参数如果需要) 5\. >>> print (result)

# dwr - Dwr issues on latest browser version like firefox 16+

> ID：13760854
> 
> 赞同：0
> 
> 时间：2012-12-07T10:04:15.443
> 
> 标签：dwr

i wrote the java application making use of DWR to filter and populate some filds eg continent to countries, the application works fine with Firefox 14 but when i do upgrade my Firefox version it does not work also on google chrome it doesnt work. any help please...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T13:19:05.057

很奇怪，我对 FF 16 或 17 没有问题。你有什么 DWR 版本？

您可以粘贴您的应用程序的一些代码。

# php - 如何通过 php 和 MySQL 创建 xml 文件

> ID：13760860
> 
> 赞同：2
> 
> 时间：2012-12-07T10:04:25.857
> 
> 标签：php, mysql, xml

我在 XML 文件中有问题。我在互联网上搜索并找到了很多关于我的问题的示例，但我不是 XML 文件方面的专家，也无法解决我的问题。我想做 XML 文件并像 RSS FEED 一样工作。因此，我从数据库中获取数据并尝试创建 xml 代码。这是我的 php 文件中的内容（由于这个问题，它没有得到验证：未定义的根元素：通道）

```
<?php
include "connection.php";
//create the table with the fields
  $rss_table = array(); 
  $query = mysql_query("SELECT * FROM rssfeeds");
    while($values_query = mysql_fetch_assoc($query))
    {
        $rss_table [] = array(
        'title' => $values_query['title'],
        'description' => $values_query['summary'],
        'link' => $values_query['link']
        );
    }

$doc = new DOMDocument(); 
$doc->formatOutput = true;
$doc->encoding = "utf-8";

$r = $doc->createElement( "channel" ); 
$doc->appendChild( $r ); 

   //$i=0;
    foreach( $rss_table as $rss ) 
    { 
    $b = $doc->createElement( "item" );
        $title = $doc->createElement( "title" ); 
        $title->appendChild( 
        $doc->createTextNode( $rss['title'] ) 
        ); 
    $b->appendChild( $title ); 

    $description = $doc->createElement( "description" ); 
    $description->appendChild( 
    $doc->createTextNode( $rss['description'] ) 
    ); 
    $b->appendChild( $description );

    $link = $doc->createElement( "link" ); 
    $link->appendChild( 
    $doc->createTextNode( $rss['link'] ) 
    ); 
    $b->appendChild( $link );

    $r->appendChild( $b );
    }
echo $doc->saveXML();
$doc->save("rssfeeds.xml") 
?> 
```

我想要标题 - 链接 - 描述 简单的一个......仅此而已

这是我在 rssfeeds.xml 文件中得到的内容：

```
<?xml version="1.0" encoding="utf-8"?>
<channel>
  <item>
    <title>winter week</title>
    <description>You can come as you are! </description>
    <link>http://tdm2000international.org/tdm2000international/news.php</link>
  </item>
  <item>
    <title>Greek night</title>
    <description>elliniki bradua sto magazi</description>
    <link>http://tdm2000international.org/tdm2000international/news.php</link>
  </item>
  <item>
    <title>event website</title>
    <description>first of december, how is it going?</description>
    <link>http://tdm2000international.org/tdm2000international/news.php</link>
  </item>
</channel> 
```

很好的格式，但它有问题。我不明白问题出在哪里。任何帮助，将不胜感激

（我也检查这个网站的任何解决方案，但我找不到我的解决方案..所以，很抱歉这篇文章，如果它已经存在）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-10T11:11:26.523

好的，我找到了一种方法..我通过 php 使用 FILES 完成了它：如果有人需要帮助，这就是代码：

```
<?php
include "connection.php";
$myFile = "rss.xml";
$fh = fopen($myFile, 'w') or die("can't open file");

$rss_txt .= '<?xml version="1.0" encoding="utf-8"?>';
$rss_txt .= "<rss version='2.0'>";
$rss_txt .= '<channel>';
    $query = mysql_query("SELECT * FROM rssfeeds");
    while($values_query = mysql_fetch_assoc($query))
    {
        $rss_txt .= '<item>';

        $rss_txt .= '<title>' .$values_query['title']. '</title>';
        $rss_txt .= '<link>' .$values_query['link']. '</link>';
        $rss_txt .= '<description>' .$values_query['summary']. '</description>';

        $rss_txt .= '</item>';
    }
$rss_txt .= '</channel>';
$rss_txt .= '</rss>';

fwrite($fh, $rss_txt);
fclose($fh);
?> 
```

# objective-c - 每“X”秒触发一次 NSThread

> ID：13760862
> 
> 赞同：0
> 
> 时间：2012-12-07T10:04:30.393
> 
> 标签：objective-c, nstimer, nsthread

我对 NSThread 有一个问题，我不太了解..

如何很好地创建一个 NSThread：

```
- (id)initWithTarget:(id)target selector:(SEL)selector object:(id)argument 
```

然后...

我对 NSThread 和他的所有方法有点困惑。

我想创建一个 NSThread 并每 5 分钟触发一次（当然还要继续使用我的应用程序而不会延迟 :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:14:00.163

你可以设置一个 NSTimer 来运行一个方法来启动你的线程

```
 // Put in a method somewhere that i will get called and set up.
 [NSTimer timerWithTimeInterval:10 target:self selector:@selector(myThreadMethod) userInfo:nil repeats:YES]; 
```

或者

```
 [NSTimer scheduledTimerWithTimeInterval:10 target:self selector:@selector(myThreadMethod) userInfo:nil repeats:YES]; 
```

您还可以将其设置为 NSTimer，以便您可以设置计时器的功能。比如开始和结束。

```
 - (void)myThreadMethod
 {
      [NSThread detachNewThreadSelector:@selector(someMethod) toTarget:self withObject:nil];
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T10:32:17.030

或者使用带有 GCD 的调度源，因为 Apple 建议从`NSThread`使用中迁移。

假设存在以下 ivar：

```
dispatch_source_t _timer; 
```

然后，例如：

```
dispatch_queue_t backgroundQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
_timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, backgroundQueue);
dispatch_source_set_timer(_timer, DISPATCH_TIME_NOW, 2 * NSEC_PER_SEC, 0.05 * NSEC_PER_SEC);
dispatch_source_set_event_handler(_timer, ^{
    NSLog(@"periodic task");
});
dispatch_resume(_timer); 
```

它将每 2 秒在后台队列上触发一个小任务，并留有很小的余地。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T10:14:04.747

我建议为您的目的使用**NSTimer + NSThred**

```
[NSTimer scheduledTimerWithTimeInterval:300 target:self selector:@selector(triggerTimer:) 
userInfo:nil repeats:YES];

-(void) triggerTimer:(NSTimer *)theTimer 
{
    //Here perform the thread operations
   [NSThread detachNewThreadSelector:@selector(myThreadMethod) toTarget:self withObject:nil];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T10:18:39.780

您可以尝试使用 NSTimer 来实现它。在主线程中注册一个 NSTimer：

```
NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:300 target:self selector:@selector(doSomething) userInfo:nil repeats:YES]; 
```

你可以让 -doSomething 启动一个线程来完成你的实际工作：

```
-(void) doSomething {
    dispatch_queue_t doThings = dispatch_queue_create("doThings", NULL);
    dispatch_async(doThings, ^{

       //Do heavy work here...

       dispatch_async(dispatch_get_main_queue(), ^{
           //Here is main thread. You may want to do UI affair or invalidate the timer here.
       });
   });
} 
```

您可以参考[NSTimer 类](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/nstimer_Class/Reference/NSTimer.html)和[GCD](https://developer.apple.com/library/mac/#documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html)了解更多信息。

# ruby-on-rails - With Ruby Spreadsheet gem, can I format a cell as currency?

> ID：13760865
> 
> 赞同：2
> 
> 时间：2012-12-07T10:04:34.463
> 
> 标签：ruby-on-rails, ruby, export, spreadsheet, xls

The relevant code within the action is below:

```
# XLS
book = Spreadsheet::Workbook.new
sheet1 = book.create_worksheet
currency_format = Spreadsheet::Format.new :number_format => '0.00'

sheet1.row(0).concat 'Example header', 'Example header 2', 'Example header 3'

    @transactions.each_with_index do |tx, index|

      row = sheet1.row(index + 1)
      row.push tx.attr1, tx.attr2, tx.attr3      
      row.set_format(1, currency_format)
      row.set_format(2, currency_format)

    end

data = StringIO.new '';
book.write data

respond_to do |format|
  format.xls { send_data data.string, :disposition => "attachment; filename=transactions.xls" }
end 
```

It exports okay, and I can format the cells as numbers, but Excel (on the Mac) is not allowing me to total up the values in the number formatted column. Can I choose *currency* format?

Thanks

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-23T08:04:07.250

用作`'$#,###.##'`数字格式。有关更多信息，请参阅[使用电子表格 gem 的货币数字格式](https://stackoverflow.com/questions/9973297/currency-number-format-using-spreadsheet-gem)。

# jquery - 有人能告诉我为什么会这样吗？

> ID：13760870
> 
> 赞同：1
> 
> 时间：2012-12-07T10:04:53.317
> 
> 标签：jquery

我只想提醒最后一个值而不是所有点击的类示例

```
$(document).ready(function(){
$(".a").click(function(){
 var a = $(this).children(".b").val();
    $("#b").click(function(){
       alert(a);            
    });
}); 
```

});​</p>

[这是代码](http://jsfiddle.net/3dnDj/1/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:07:10.000

您正在堆叠点击事件。

用于[`.unbind()`](http://api.jquery.com/unbind/)移除之前添加的点击事件`$("#b")`

改成：

```
$(document).ready(function(){
$(".a").click(function(){
 var a = $(this).children(".b").val();
    $("#b").unbind("click");
    $("#b").click(function(){
       alert(a);            
    });
});
});​ 
```

[**-- 见工作演示 --**](http://jsfiddle.net/3dnDj/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T10:07:22.563

您可以在处理程序之外定义一个变量并对其进行更新。

```
$(document).ready(function() {
    var cur = 0;
    $(".a").click(function() {
        cur = $('.b', this).val();
    });
    $("#b").click(function() {
        alert(cur);
    });
}); 
```

[http://jsfiddle.net/GVqHE/](http://jsfiddle.net/GVqHE/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T10:07:24.393

试试这个

```
$(document).ready(function(){
     var a = "" ;
    $(".a").click(function(){
    a= $(this).children(".b").val();

    });
    $("#b").click(function(){
           alert(a);            
        });
}); 
```

[http://jsfiddle.net/3dnDj/2/](http://jsfiddle.net/3dnDj/2/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T10:07:56.777

使用 :eq 选择器从元素列表中选择特定子元素，例如`$('.a:eq(2)')`选择第三个元素。

见：[http ://api.jquery.com/eq/](http://api.jquery.com/eq/)

# php - 使用 fopen() 将文件写入子目录

> ID：13760873
> 
> 赞同：5
> 
> 时间：2012-12-07T10:05:01.750
> 
> 标签：php, directory, fopen

我已经看过[这个](https://stackoverflow.com/questions/9837337/trying-to-write-a-file-to-a-different-directory-using-fopen)StackOverflow 问题，但没有帮助（类似标题）。

我正在从我的 Android 应用程序中传递一个图像。如果我输入

```
$file = fopen('test.jpg', 'wb'); 
```

它工作正常并且图像上传；但是，我想允许从 android 手机多次上传，所以我想随机化 .jpg 文件的名称，以便我可以将每个新上传保存为不同的名称。我在下面尝试这个：

```
$destination =  time() + rand(1, 1000) . ".jpg";
$url_destination = "/project_images/" . $destination;

$file = fopen($url_destination, 'wb');
fwrite($file, $binary);
fclose($file); 
```

但是，它不会将文件写入服务器。我在那里尝试了 URL 的不同变体 - 使用“project_images/”、“/project_images/”，甚至尝试了完整的 URL（前面提到的 StackOverflow 帖子纠正了我），但我仍然无法编写它。

project_images 文件夹的权限设置为允许将文件写入其中。有任何想法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-07T10:08:09.147

你的问题是`"/project_images"`这是一个错误的绝对路径。

为了让它工作，将其更改为`"project_images/"`or `dirname(__FILE__).'/project_images/'`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-06-13T06:27:29.690

对于那些在 Windows 上使用 XAMPP 的人：`DIRECTORY_SEPARATOR`改用`/`

```
dirname(__FILE__).DIRECTORY_SEPARATOR.'project_images'.DIRECTORY_SEPARATOR 
```

# r - Why does the default S3 method gets called when I pass a vector to the method and the vector S3 method is implemented?

> ID：13760876
> 
> 赞同：1
> 
> 时间：2012-12-07T10:05:15.717
> 
> 标签：r, generics, r-s3

I have defined the following in R:

```
plotWaterfall         <- function(x, ...) UseMethod("plotWaterfall")
plotWaterfall.default <- function(x, ...) {print("Default method does nothing")}
plotWaterfall.vector  <- function(x, ...) {print("Vector method does something")} 
```

Now if I test the following example:

```
x<-c(1,2,3)
plotWaterfall(x) 
```

it will print "Default method does nothing" indicating that the S3 framework matches the default method instead of the vector method. Now why is that?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:14:42.813

这是因为你的向量的类是`numeric`. 所以你必须这样做：

```
plotWaterfall.numeric  <- function(x, ...) {print("Numeric vector")}

plotWaterfall(x)
[1] "Numeric vector" 
```

* * *

您可以使用以下函数确定对象的类`class()`：

```
class(x)
[1] "numeric" 
```

* * *

帮助中描述了此行为`?UseMethod`：

> 方法分派基于泛型函数的第一个参数的类或作为 UseMethod 的参数提供的对象的类

# android - Why does datetime('now') return 2 hours before real time in SQLite?

> ID：13760881
> 
> 赞同：1
> 
> 时间：2012-12-07T10:05:51.567
> 
> 标签：android, sqlite, datetime, utc

I need that every time I make a change to a certain record from a table in SQLite, in the column lastChangedDate to set the time from France. Here is the structure of my table :

```
CREATE TABLE name(
    id VARCHAR(36) PRIMARY KEY
    , pos_report_id VARCHAR(36)
    , path_name VARCHAR(64)
    , photo_name VARCHAR(64)
    , from_scratch INTEGER DEFAULT 0
    , lastChangedDate DATETIME DEFAULT (DATETIME('now', 'utc', '1 hours'))
) 
```

I see that `DATETIME('now')` returns 2 hours before my real time and `DATETIME('now', 'utc', '1 hours')` returns with 3 hours before my time. Why is happening this? I need the application to work in more countries, so I cannot use `localtime`.

Any idea how to solve this?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-04-08T16:59:39.787

我有同样的问题（在 Raspbarry Pi 上使用 sqlite）。'utc' 显然只根据位置和时区计算差异。我让它像这样运行：

```
select datetime(datetime('now', 'localtime'), 'utc'); 
```

另请查看我的 VIEW [NOW] 的其他变体以用于传感器记录。

```
CREATE VIEW [NOW] AS 
SELECT datetime('now', 'localtime') as LOCAL,
datetime(datetime('now', 'localtime'),'utc') as UTC, 
substr(datetime('now', 'localtime'),1,17)||'00' as TimeSlot_1min, 
substr(datetime('now', 'localtime'),1,15)||'0:00' as TimeSlot_10min, 
substr(datetime('now', 'localtime'),1,14)||'00:00' as TimeSlot_1h; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T10:08:45.697

尝试 datetime('now','localtime') 而不是 DATETIME('now', 'utc', '1 hours') 好的，不要使用 lastChangedDate 的默认时间

```
CREATE TABLE name(
    id VARCHAR(36) PRIMARY KEY
    , pos_report_id VARCHAR(36)
    , path_name VARCHAR(64)
    , photo_name VARCHAR(64)
    , from_scratch INTEGER DEFAULT 0
    , lastChangedDate DATETIME)
) 
```

然后当您想将记录添加到表中时，您可以计算法国的时间并将此值添加到您的数据库中

```
//Calendar cal = Calendar.getInstance();
//Log.v("hata",String.valueOf(cal.get(Calendar.HOUR)));

Calendar c = Calendar.getInstance();

// It is local time
Log.v("time",String.valueOf(c.getTime()));

TimeZone z = c.getTimeZone();       
int offset = z.getRawOffset();

if(z.inDaylightTime(new Date())){
    offset = offset + z.getDSTSavings();
}

// france is GMT2 
int offsetHrs = offset / 1000 / 60 / 60;
int offsetMins = offset / 1000 / 60 % 60;

// Offsets
Log.v("time",String.valueOf(offsetHrs));
Log.v("time",String.valueOf(offsetMins));

c.add(Calendar.HOUR_OF_DAY, (-offsetHrs));
c.add(Calendar.MINUTE, (-offsetMins));

// FRANCE time
Log.v("time",String.valueOf(c.getTime())); 
```

# android - droid: How is a trial+unlock app downloadable to other devices?

> ID：13760882
> 
> 赞同：0
> 
> 时间：2012-12-07T10:05:53.213
> 
> 标签：android, in-app-purchase, trial, unlock

If I implement in app purchasing to unlock my app, how does that work with the purchasers downloading to second devices? If they install the trial on a second phone/tablet, will clicking the 'unlock' button in my app find the already bought unlock and unlock the app?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:14:47.560

如果您使用**托管和订阅类型的产品**实施应用内**计费，****则购买者 ID 由谷歌维护**

 ****当他们在其他设备上**安装相同的应用程序**并尝试使用之前使用的相同 ID 购买产品时，他们将看到**您已经拥有该项目或项目已购买的对话框。**

如果您使用**非托管产品类型**，则**不会维护**购买者 ID ，并且对于每个设备安装，或者一旦用户卸载应用程序并再次将其安装在同一设备上，他就必须再次购买同一产品。****

# json - 未编组的 JSON 不返回任何内容

> ID：13760884
> 
> 赞同：0
> 
> 时间：2012-12-07T10:05:58.510
> 
> 标签：json, go

我有以下结构：

```
type Translation struct{
  Data string
  Translations []struct{
    TranslatedText string
    SourceLanguage string
  }
}
type InputText struct {
  PlainText string
  TargetLanguage string
  Values url.Values
} 
```

以及一个点击 Google Translate API 并返回我想要 UnMarshal 的 JSON 字符串的方法：

```
func (i *InputText) TranslateString() (*Translation, error){
  if len(i.PlainText) == 0 {
    log.Fatal("No text specified")
  }
  if len(i.TargetLanguage) == 0 {
    log.Fatal("No target language specified")
  }

  i.Values = make(url.Values)
  var v = i.Values
  v.Set("target", i.TargetLanguage)
  v.Set("key", API_KEY)
  v.Set("q", i.PlainText)

  u := fmt.Sprintf("%s?%s", api, v.Encode())
  getResp, err := http.Get(u)  
  if err != nil{
    log.Fatal("error", err)
    return nil, err
  }
  defer getResp.Body.Close()  
  body, _ := ioutil.ReadAll(getResp.Body)
  t := new(Translation)
  json.Unmarshal(body, &t)

  return t, nil

}

func main(){
  input := &InputText{"My name is John, I was born in Nairobi and I am 31 years old", "ES", nil}
  translation, _ := input.TranslateString()
  fmt.Println(translation)
} 
```

当我运行这段代码时，我得到的所有内容都被`&{[]}`打印出来了，我认为 JSON 没有被返回，但是当我在 TranslateString() 方法中尝试这个时：

```
fmt.Println(string(body)) 
```

它打印出来：

```
{
 "data": {
  "translations": [
   {
    "translatedText": "Mi nombre es John, nació en Nairobi y tengo 31 años de edad",
    "detectedSourceLanguage": "en"
   }
  ]
 }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T11:45:39.347

上面的代码是对的，有一个错误，我的结构全错了！！它应该是：

```
type Translation struct{
    Data struct {
        Translations []struct {
            TranslatedText string
            DetectedSourceLanguage string
        }
    }
} 
```

# java - 无法彻底停止我的线程

> ID：13760885
> 
> 赞同：0
> 
> 时间：2012-12-07T10:06:00.243
> 
> 标签：java, multithreading

我创建了一个扩展 Thread 的类。

这个类定义了几个方法，其中一些使用 Process 和 IO 流来下载文件（有时需要几分钟）。

我还有一个用于停止线程的 JButton，它有一个 ActionListener，它当前执行 ClassName.this.stop(); 这完美地工作。

在“public void run()”方法中，我执行其中一些方法并启动线程。

我的问题是，如何用中断（）替换我已弃用的​​ Thread.stop() 方法，并使用它干净地停止线程？

我看过一些解决方案，建议使用布尔标志来检查线程是否已被中断，但是看到 run() 方法只是执行了一系列方法，直到所有方法都执行完循环才会评估，即便如此，我得到一个“InterrupedException”，然后循环再次开始。

另一个问题是，如果正在下载，下载完成以及下一次检查线程是否已中断可能需要几分钟。我希望一切都停止并让对象“删除自身及其中的所有内容”，这就是 Thread.stop() 当前正在正确执行的操作。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T10:08:30.417

不要使用额外的布尔哨兵标志，完全依赖中断机制。在不花时间在可中断阻塞方法上的长时间运行的任务中；如果. `Thread.interrupted()`_ `true`如果您的循环在 之后继续`InterruptedException`，则修复此行为。这方面完全掌握在你的手中。不要忽略异常；通过减少工作和结束方法来做出反应。

# fullcalendar - 如何更改全日历中的列时间格式？

> ID：13760889
> 
> 赞同：6
> 
> 时间：2012-12-07T10:06:08.400
> 
> 标签：fullcalendar

我正在尝试将时间格式更改为全日历的 24 小时手表。

我试图在[这里](http://arshaw.com/fullcalendar/docs/)找到它，但无法弄清楚。

![在此处输入图像描述](../Images/10ec47fe37fe10b75ac5cce1041c536e.png)

这里的代码片段：

```
jQuery('#calendar').fullCalendar({
    header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,agendaWeek,agendaDay'
    },
    editable: false,
    weekends: true,
    timeFormat: 'H:mmtt{-H:mmtt }', 
```

请看一下**并**帮助我。谢谢...

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-07T20:27:57.377

您可以使用`axisFormat: 'HH:mm'`来完成此操作。让我知道这是否有帮助。

* * *

只是为了补充：在 2.4.0 版本中，这个方法被重命名为[slotLabelFormat](http://fullcalendar.io/docs/agenda/slotLabelFormat/)。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2019-07-11T00:13:20.167

我使用 FullCalender V4.2.0 为我工作：

```
 slotLabelFormat: [
        {
            hour: '2-digit',
            minute: '2-digit',
            hour12:false
        }
        ], 
```

# android - Galaxy S3 上的共享首选项位置

> ID：13760896
> 
> 赞同：0
> 
> 时间：2012-12-07T10:06:46.200
> 
> 标签：android, sharedpreferences

我为我的应用程序开发了导入/导出功能，因此用户可以导出数据库和共享首选项以在另一部手机中使用。这一直很好，直到我给自己买了一个 S3 并尝试这样做。

经过一些工作，我得到了数据库导入/导出工作（决斗 SCdards 问题），但共享首选项仍然给我带来麻烦。

在新安装时，导入失败，因为手机上没有共享首选项文件。一旦我更新了一个选项，就会创建文件（添加到检查手机上的文件是否存在）

这是创建它

```
this.sharedprefs = context.getSharedPreferences("sharedprefres.xml", Activity.MODE_PRIVATE); 
```

这个检查文件是否存在

```
File sharedPrefencesFileOnPhone = new File(/data/data/PACKAGE_NAME/shared_prefs/, "sharedprefres.xml");

        if (sharedPrefencesFileOnPhone.exists()) 
            Log.d(DEBUG_TAG, "SP : Running Copy"); 
```

然后副本似乎消失了，但没有更新任何选项。

这一切都适用于模拟器，没有问题

只有在我更新了选项并创建了文件后，该检查才有效，这让我相信共享首选项已保存。

S3 是否将共享首选项隐藏在其他地方，如果是，是否有一些代码可以让我追踪它，这些代码可以在多部手机上使用

谢谢你的时间

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:18:51.997

尝试

`/dbdata/databases/package.name/shared_prefs/package.name_preferences.xml`（如果存在，请使用它）

否则

```
new File(getFilesDir(), "../shared_prefs"); 
```

或者

```
/data/data/package.name/shared_prefs/package.name_preferences.xml 
```

# php - 未找到 Kohana URL

> ID：13760897
> 
> 赞同：1
> 
> 时间：2012-12-07T10:06:56.277
> 
> 标签：php, webserver, kohana

嗨，我的 kohana 代码有问题，它给了我同样的错误，我认为 htaccess 或引导程序有问题

它安装在我的根目录中，而不是作为子文件夹。

```
Kohana_HTTP_Exception [ 404 ]: The requested URL / was not found on this server.

SYSPATH/classes/Kohana/Request/Client/Internal.php [ 79 ]

74          if ( ! class_exists($prefix.$controller))
75          {
76              throw HTTP_Exception::factory(404,
77                  'The requested URL :uri was not found on this server.',
78                  array(':uri' => $request->uri())
79              )->request($request);
80          }
81 
82          // Load the controller using reflection
83          $class = new ReflectionClass($prefix.$controller);
84 

    SYSPATH/classes/Kohana/Request/Client.php [ 114 ] » Kohana_Request_Client_Internal->execute_request(arguments)

    SYSPATH/classes/Kohana/Request.php [ 990 ] » Kohana_Request_Client->execute(arguments)

    DOCROOT/index.php [ 109 ] » Kohana_Request->execute() 
```

这是我的 htaccess 代码

```
# Turn on URL rewriting
RewriteEngine On

# Installation directory
RewriteBase /

# Protect hidden files from being viewed
<Files .*>
    Order Deny,Allow
    Deny From All
</Files>

# Protect application and system files from being viewed
RewriteRule ^(?:application|modules|system)\b.* index.php/$0 [L]

# Allow any files or directories that exist to be displayed directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Rewrite all other URLs to index.php/URL
RewriteRule .* index.php/$0 [PT]

#-SetEnv KOHANA_ENV "production" 
```

在引导程序中，我将 site_url 设置为“/”

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-11T21:12:34.403

当我将 kohana 从 localhost 移动到 linux 托管时，我遇到了同样的问题。

尝试用大写字母重命名控制器文件。在引导路线中保留小写字母。

它帮助了我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-12T18:33:45.163

请尝试尽可能多地发布 bootstrap.php 文件。您可能没有默认的根集。

在文件中搜索看起来像的代码块

```
Route::set('default', '(<controller>(/<action>(/<id>)))')
    ->defaults(array(
        'controller' => 'default',
        'action'     => 'index',
    )); 
```

关键字是`Route::set('default', '(<controller>(/<action>(/<id>)))')`

您的应用程序托管在哪里？它是在 www 上还是在 www 的子文件夹中？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-05T18:41:53.230

您看到的是当您没有[将环境设置为第一次运行以使用 clean urls](http://kohanaframework.org/3.3/guide/kohana/tutorials/clean-urls)时引发的错误。做这个：

1.  进入您的`.htaccess`文件并设置正确的路径，`RewriteBase` 如果您的本地主机路径 where `localhost/my/site`，您的 htaccess 应该是：

    `RewriteBase /localhost/my/site/`

    （确保重命名文件，使其仅被调用`.htaccess`）

2.  进入你的 bootstrap.php 文件并确保`Kohana::init`有：

    `'base_url' => '/localhost/my/site/'`在它的数组中。

3.  在`/application/classes/Controller/`目录中，添加您的控制器文件名，使第一个字母为大写（即`Welcome.php`），在控制器中，确保您的控制器内容正确写入。

    `/application/classes/Controller/Welcome.php`

这是解决问题的良好开端。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T18:15:04.987

由于找不到控制器，因此引发了此异常。默认情况下，'/' URI 表示调用`action_index()`. `Controller_Welcome`见`bootstrap.php`，`Route::set('default', ...)`。

我认为，可能有以下原因之一：

1.  您有默认路线，并`application/classes/Controller/Welcome.php`已被删除。
2.  在将 Kohana 版本升级到 v3.3 时，您没有将`application`文件夹替换为新文件夹。所以，你有`application/classes/controller/welcome.php`而不是`application/classes/Controller/Welcome.php`.
3.  您已使用不存在的控制器更改了默认路由。请注意，Kohana v3.3 具有新的[文件/类命名约定](http://kohanaframework.org/3.3/guide/kohana/upgrading#psr-0-support-fileclass-naming-conventions)。

# php - laravel 会话返回 null 尽管设置它

> ID：13760900
> 
> 赞同：4
> 
> 时间：2012-12-07T10:06:59.487
> 
> 标签：php, session, laravel

只是原生 php 中的一个简单函数

```
protected function some_function(){
    session_start();
    if(!isset($_SESSION['a']))
    {
        $_SESSION['a'] = 'some value';
        return true;
    } else {
        return $_SESSION['a'];
    }
 } 
```

在第一次运行时，它将返回 bool(true)，然后`"some value"`按预期返回。

将相同的应用于 laravel 会话，

```
protected function some_function(){ 
    $a = Session::get('abc');
    if(is_null($a)){
        Session::put('abc', 'some value');
        //return Session::get('abc');
        return true;
    } else {
        return $a;
    }
 } 
```

按照逻辑，在第一次运行时， $a 将是`null`. 然后`"some value"`输入`abc`key 并按预期返回 bool(true) 。

**但是**，在随后的访问中，`Session::get('abc')` **每次都返回 null。**所以每次尝试都会返回 bool(true)。

我认为可能是会话没有正确写入，所以我在设置后立即检查了获取键值。

通过注释掉上面代码中的行，它返回我输入的任何值`Session::put('abc')`。**所以写入数据没有错误。**

**这里的问题**是尝试检索始终返回的值，`null`尽管我在第一个请求之后设置。

我在这里错过了什么吗？

* * *

## 编辑

使用数据库作为驱动程序，会话不会保存在数据库中。没有错误输出。文档中描述的会话表模式的数据库实现是正确的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-27T13:24:38.023

在通过许多论坛解决相同的问题后，我通过将会话驱动程序设置为数据库来解决它。

```
 'driver' => 'database', 
```

并在数据库中创建表

```
 CREATE TABLE `sessions` (
  `id` varchar(40) NOT NULL,
  `last_activity` int(10) NOT NULL,
  `data` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:15:03.160

试试这个片段。未经测试，但很确定它有效。

```
if(Session::has('abc'))
{
    return Session::get('abc');
} else {
    Session::put('abc', 'some value');
    return true;        
} 
```

# extjs - 龙卷风网络服务器中的 json rpc

> ID：13760901
> 
> 赞同：0
> 
> 时间：2012-12-07T10:07:03.360
> 
> 标签：extjs, extjs4, rpc, tornado, json-rpc

我正在使用带有javascript客户端的tornado Web服务器（使用extjs）在python中实现Web应用程序。在此类应用程序中实现 rpc 的最佳框架是什么？

在搜索过程中，我发现[了 tornadorpc](http://code.google.com/p/tornadorpc/)库，但我担心它不会有用，因为它太旧了（2 年前最后一次提交，邮件列表中有四封邮件）和需要 Twisted 的[高速公路](http://autobahn.ws/python)（Twisted 的 websockets 比 Tornado 慢，这是我也很重要）。

有什么帮助吗？:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-10T10:04:12.950

你想从 tornado-rpc 服务器得到什么？如何衡量有用性？

[Tornado RPC](https://github.com/joshmarshall/tornadorpc)可以正常工作。它支持jsonrpc。你可以分叉和改进它。

你也可以将twisted 和tornado 结合起来，将twisted 用于rpc 和tornado 用于websockets。

# c# - 如何摆脱此错误：并非所有代码路径都返回值？

> ID：13760905
> 
> 赞同：3
> 
> 时间：2012-12-07T10:07:18.727
> 
> 标签：c#, xcode, monodevelop, syntax-error

```
int search(string [][]mat, int n, string x){
//set indexes for top right element
    for(int i = 0; i<n; i++)
    {
        for(int j = n-1; j>=0; j--)
        {
                     if ( mat[i][j] == x )
              {
                 Debug.Log(x +""+"Found at "+i +" "+j);
                // int[] n2 = new int[] {2, 4, 6, 8};
                // int [] xyz = new int [] {i, j};
                           return i;

              }

        }
    }} 
```

如何摆脱此错误：并非所有代码路径都返回值？

**错误：** * *Assets/Scripts/Chess/Bishop.cs(237,22)：错误 CS0161：`Bishop.search(string[][], int, string)'：并非所有代码路径都返回值**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-07T10:10:14.980

如果您永远找不到 ，请计算出您想要发生的事情`x`，并在方法结束时返回。例如：

```
// Fixed naming conventions and indentation...
// Why do we need n here at all? Why not just use the length of the array?
int Search(string[][] mat, int n, string x)
{
    //set indexes for top right element
    for (int i = 0; i < n; i++)
    {
        // Why are we looking backwards here?
        for (int j = n - 1; j >= 0; j--)
        {
            if (mat[i][j] == x)
            {
                // More readable formatting...
                Debug.Log(string.Format("{0} found at {1}, {2}", x, i, j));
                return i;   
            }   
        }
    }
    // Not found: return -1 to indicate failure. Or you could throw an exception
    return -1;
} 
```

更一般地说：编译器错误消息在这里相当清楚 - 有一种方法可以让您在不返回任何内容的情况下到达方法的末尾。值得退后一步，试着想想为什么你不能自己解决这个问题。您是否对编译器错误消息给予了足够的关注？您是否考虑过该方法在所有情况下可能会做的所有事情？下次你怎么能更好地处理这个问题？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T10:09:45.597

您需要`return`在循环之外添加一个。
想一想：如果您将 -1 传递给`n`怎么办？循环永远不会执行，因此`return`永远不会到达当前存在的循环。如果`mat`数组不包含`x`.

```
int search(string [][]mat, int n, string x)
{
    for(int i = 0; i<n; i++)
    {
        for(int j = n-1; j>=0; j--)
        {
            if ( mat[i][j] == x )
            {
                Debug.Log(x +""+"Found at "+i +" "+j);
                return i;
            }
        }
    }

    return -1; // <----
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T10:11:45.150

您不会在循环之外返回任何内容。这是因为您收到此错误消息。像这样使用它；

```
int Search(string [][]mat, int n, string x)
{
    //set indexes for top right element
    for(int i = 0; i<n; i++)
    {
        for(int j = n-1; j>=0; j--)
        {
            if (mat[i][j] == x)
            {
                Debug.Log(x +""+"Found at "+i +" "+j);
                // int[] n2 = new int[] {2, 4, 6, 8};
                // int [] xyz = new int [] {i, j};
                return i;

            }   
        }
    }
    return -1;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T10:11:32.220

发生这种情况是因为代码的所有可能执行路径都没有返回值。尝试从 for 循环中返回一些值，如下所示：

```
int search(string [][]mat, int n, string x){
        //set indexes for top right element
            for(int i = 0; i<n; i++)
            {
                for(int j = n-1; j>=0; j--)
                {
                             if ( mat[i][j] == x )
                      {
                         Debug.Log(x +""+"Found at "+i +" "+j);
                        // int[] n2 = new int[] {2, 4, 6, 8};
                        // int [] xyz = new int [] {i, j};
                                   return i;

                      }

                }         
            }
      return -1;
    } 
```

# python - 从 HTML 页面动态提取数据

> ID：13760909
> 
> 赞同：2
> 
> 时间：2012-12-07T10:07:28.213
> 
> 标签：python, class, html-parser

我正在编写一个脚本以使用此自定义类从 HTML 文档（在本例中为 Nagios 状态页面）中提取一些字符串/数据：

```
## tagLister.py

from sgmllib import SGMLParser
class TAGLister(SGMLParser):

    def reset(self):
        SGMLParser.reset(self)
        self.urls = []

    def start_td(self, attrs):
        CLS = [ v for k, v in attrs if k == 'class' ]
        if CLS:
            self.urls.extend(CLS) 
```

每当找到 <td> 标记时，SGMLParser 就会被调用`start_td`并查找该`CLASS`属性。

```
>>> import urllib, tagLister
>>> usock = urllib.urlopen("http://www.someurl.com/test/test_page.html")
>>> parser = tagLister.TAGLister()
>>> parser.feed(usock.read())  
>>> for url in parser.urls: print url
>>> ... 
```

上面列出了在`<td>`标签中找到的所有*CLASS*属性值。有没有办法动态分配`td`位（in `start_td`）和`class`（作为 的值`k`），以便使用`optparse`，它可以动态分配，如下所示：

```
tagLister.py -t td -k class 
```

而不是静态编码？我打算将此类用于命令行中的任何标记（例如`<a>`等`<div>`）和相关属性（例如`href`等`id`）。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T10:27:36.327

一种选择是切换到`lxml.html`并使用 XPath - 结果已经是一个列表......（并且由于 XPath 表达式只是一个字符串 - 它比使用类继承更容易制定）

```
>>> tag = 'a'
>>> attr = 'href'
>>> xpq = '//{}/@{}'.format(tag, attr)
>>> a = '<a href="test-or-something">hello</a><a>No href here</a><a href="something-else">blah</a>'
>>> import lxml.html
>>> lxml.html.fromstring(a).xpath(xpq)
['test-or-something', 'something-else'] 
```

**如果你必须使用 stdlib - 那么你可以用 HTMLParser 做类似的事情**

```
from HTMLParser import HTMLParser

class ListTags(HTMLParser):
    def __init__(self, tag, attr):
        HTMLParser.__init__(self)
        self.tag = tag
        self.attr = attr
        self.matches = []
    def handle_starttag(self, tag, attrs):
         if tag == self.tag:
            ad = dict(attrs)
            if self.attr in ad:
                self.matches.append(ad[self.attr])

>>> lt = ListTags('a', 'href')
>>> lt.feed(a)
>>> lt.matches
['test-or-something', 'something-else'] 
```

# java - 大量注释代码会影响类文件的大小吗？

> ID：13760911
> 
> 赞同：3
> 
> 时间：2012-12-07T10:07:38.787
> 
> 标签：java, class, comments

我有一个代码，因为不再需要它而将其注释掉。

大约有 1000 行。

所以只是想知道将该代码保留在我的java文件中是否会影响已编译类文件的大小？

我看到了我的类文件大小，但我不确定它是否减小了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T10:08:19.550

不，在创建类文件之前删除注释。我不了解 java，但在 C 语言中，这项工作是由预处理器完成的。预处理器负责用它们的替换替换宏并删除注释。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-07T10:11:02.370

不，不会的。但是保留如此大量的注释行并不是最佳实践。你没有修订系统吗？这比保留大量您不使用的注释代码要好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T10:19:22.230

javac 编译器将丢弃所有注释。所以文件大小应该更小。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-07T10:11:27.957

注释代码不再是 Java 代码的一部分，因此当生成编译的类文件时，其中没有任何注释代码。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-07T10:12:19.967

> 所以只是想知道将该代码保留在我的java文件中是否会影响已编译类文件的大小？

不，注释代码不是类文件的一部分。

但是，如果您使用的是版本控制系统，您还应该删除注释以增强可读性和可维护性。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-07T10:14:39.450

不，它不包含在java中...只是为了自己验证，您可以创建一个类文件并使用任何反编译器来检查.class文件...

就我而言，我创建了以下文件

```
/**
 * This file is just to check whether this comment is part of class file.
 * @author ICEME048
 *
 */

public class A {

    public void changeB(B b){
    }

    public static void main(String[] args) {
    }

 } 
```

它.class文件的内容如下

```
import java.io.PrintStream;

public class A
{
  public void changeB(B b)
  {
  }

  public static void main(String[] args)
  {
  }
} 
```

我有反编译器来检查类文件的内容。

# c - 将 linux 设备驱动程序与虚拟 PCI 设备连接

> ID：13760912
> 
> 赞同：3
> 
> 时间：2012-12-07T10:07:42.223
> 
> 标签：c, linux-device-driver, emulation, pci-e

我有一个模拟 PCI 设备的用户空间程序。我已经下载了使用 NVMe 标准与 PCI 设备交互的 nvme linux 设备驱动程序。我必须验证我的用户空间程序是否与标准兼容。

nvme.c（Linux 设备驱动程序）包含 nvme_probe() 函数，该函数将在插入设备时调用。由于我没有该设备，所以我想我会将探测功能合并到 nvme_init() 函数中。

现在我在互联网上进行了大量研究以了解如何模拟 PCI 设备，如 [安装 PCI 驱动程序而不连接到设备](https://stackoverflow.com/questions/12714555/installing-linux-pci-driver-without-connecting-the-device)、 [在 linux 上模拟](http://www.linuxquestions.org/questions/linux-kernel-70/how-to-emulate-a-pci-device-in-linux-901554/)PCI 设备等帖子 我不知道如何将填充的 struct pci_dev 返回到中`nvme_probe()`的函数调用`pci_set_drvdata(pdev, dev);`

如果您可以建议一个教程，关于如何使用虚拟设备配置和用户空间程序函数指针的内存地址手动填充 pci_dev 结构，以模拟与 nvme 驱动程序的交互。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-08T18:02:50.807

我认为用标准的 linux 内核不可能伪造这样的东西。

因为在 module_init() 中，当系统中存在某个设备（通过 id_table）时，您告诉内核的**PCI SUBSYSTEM加载操作处理程序（又名 - 通过函数指针的回调）。**

因此，每当您安装模块时，内核的**PCI SUBSYTEM**就会知道只要将匹配 vid/pid 的设备插入 PCIe 插槽就加载您的驱动程序。操作如下 -

*   当在 module_init 或 _init 中找到这个 {vid/pid} pci 设备时，告诉内核加载 {my_driver.ko}
*   内核知道后，只要有匹配的 {vid/pid} 设备连接到系统，就会调用 {my_driver.ko} 的**.probe**函数回调
*   您可以初始化设备（对于真实设备）或只返回 true 以告诉内核已正确初始化设备。您还可以从此探测函数注册新的驱动程序类型（用于读/写）。

我不确定任何会导致**PCI SUBSYTEM**始终加载驱动程序的魔术 VID/PID 编号。

但是您可以通过使用实际的 PCI 设备来实际加载 PCI 驱动程序。

只需为真正的 PCI 设备删除适当的驱动程序。并使用它的 VID 和 PID 作为您的驱动程序的 VID PID。然后**PCI SUBSYTEM**将加载您的驱动程序，然后您还可以测试您的驱动程序以模拟 PCI 设备。

希望这可以帮助，

问候。

# android - 将 RelativeLayout 左右两个图像与匹配整个可用空间的中心元素对齐

> ID：13760914
> 
> 赞同：2
> 
> 时间：2012-12-07T10:07:55.430
> 
> 标签：android, android-layout, android-relativelayout

我正在开发一个Android应用程序（与android 2.3及更高版本兼容），我需要制作一个coverflow，两个导航箭头在coverflow的左右对齐

我尝试了很多东西，但无法弄清楚让左箭头在布局左侧对齐，右箭头在布局右侧对齐。

即使我没有指定填充或边距，我也总是有边距

这是一个截图：[http ://accessdev.s3.amazonaws.com/temp/layout_madness_android.jpg](http://accessdev.s3.amazonaws.com/temp/layout_madness_android.jpg)

我使用黑色背景以显示大小正确（父级的 100%），但我们可以看到箭头未左/右对齐。

我检查了一下，问题不在于图像本身。

这是我的布局代码，将不胜感激:)

```
 <RelativeLayout
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/BonsPlans_coverFlowAndArrows"
            android:layout_width="match_parent"
            android:layout_height="145px"
            android:layout_gravity="left"
            android:layout_marginLeft="0dip"
            android:layout_marginRight="0dip"
            android:background="#ff000000"
            android:paddingLeft="0px"
            android:paddingRight="0px"
             >

            <ImageView
                android:id="@+id/bonsplans_fleche_gauche"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_alignParentLeft="true"
                android:layout_marginLeft="0dip"
                android:paddingLeft="0px"
                android:paddingRight="0px"
                android:src="@drawable/fleche_gauche" />

            <ImageView
                android:id="@+id/bonsplans_fleche_droite"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_alignParentRight="true"
                android:layout_marginRight="0dip"
                android:paddingLeft="0px"
                android:paddingRight="0px"
                android:layout_toRightOf="@drawable/fleche_gauche"
                android:src="@drawable/fleche_droite" />

            <pl.polidea.coverflow.CoverFlow
                xmlns:coverflow="http://schemas.android.com/apk/res/com.accessdev.tellmeplus"
                android:id="@+id/BonsPlans_coverflow"
                android:layout_width="match_parent"
                android:layout_height="145px"
                android:layout_centerInParent="true"
                android:layout_marginLeft="0dip"
                android:layout_marginRight="0dip"
                android:layout_marginTop="0dip"
                android:layout_toLeftOf="@+id/bonsplans_fleche_droite"
                android:layout_toRightOf="@+id/bonsplans_fleche_gauche"
                coverflow:imageHeight="125px"
                coverflow:imageWidth="150px" />
        </RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:12:44.357

你不能使用线性布局。为左右图像设置固定宽度，例如

```
android:layout_width="30dp" 
```

对于中心一（它会自行调整大小）

```
android:layout_weight="1"
android:layout_width="0dp" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T10:31:11.180

删除以下行：

```
android:layout_toRightOf="@drawable/fleche_gauche" 
```

从您的**bonsplans_fleche_droite**视图

从中心视图：

```
android:layout_toLeftOf="@+id/bonsplans_fleche_droite"
android:layout_toRightOf="@+id/bonsplans_fleche_gauche" 
```

# android - 标签主机越过右边框

> ID：13760926
> 
> 赞同：0
> 
> 时间：2012-12-07T10:08:24.823
> 
> 标签：android, android-tabhost, android-tabs

我创建了选项卡主机并添加了几个选项卡。一切正常，但是当我向右滚动时，它会继续越过最后一个选项卡边框进入未定义的黑暗空间，直到选项卡主机变得完全不可见。向左滚动效果很好。对这个问题有任何想法吗？

谢谢你。

编辑：

```
 <TabHost android:id="@android:id/tabhost"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        >

        <LinearLayout android:orientation="vertical"
            android:layout_width="fill_parent" android:layout_height="wrap_content">
            <View android:layout_width="fill_parent" android:layout_height="0.5dip"
                android:background="#000" />

            <LinearLayout android:orientation="horizontal"
            android:layout_width="fill_parent" android:layout_height="wrap_content"
            android:background="#000000">
                <HorizontalScrollView 
                    android:layout_height="wrap_content"
                    android:layout_width="wrap_content"
                    android:scrollbars="none"
                    >

                    <TabWidget android:id="@android:id/tabs"
                        android:layout_width="wrap_content" android:layout_height="wrap_content"
                        />

            </HorizontalScrollView>
            </LinearLayout> 

            <View android:layout_width="fill_parent" android:layout_height="4dp"
                android:background="#696969" />

            <FrameLayout android:id="@android:id/tabcontent"
                android:layout_width="0px" android:layout_height="0px" />
        </LinearLayout>
    </TabHost> 
```

# bash - 无法创建我需要创建的 md5sum 文件。手动操作太费力了

> ID：13760928
> 
> 赞同：0
> 
> 时间：2012-12-07T10:08:26.557
> 
> 标签：bash, shell, md5, md5sum, md5-file

我需要为目录中的所有文件以及该目录的所有子目录中的所有文件创建/重新创建一个 md5sum 文件。

我正在使用需要有效 md5sum 文档的 Rockettheme 模板，并且我对文件进行了更改，因此最初包含的 md5sum 文件不再有效。

有超过 300 个文件需要校验和，并将 md5hash 添加到单个文件中。

该文件的基本结构如下：

```
1555599f85c7cd6b3d8f1047db42200b admin/forms/fields/imagepicker.php
8a3edb0428f11a404535d9134c90063f admin/forms/fields/index.html
8a3edb0428f11a404535d9134c90063f admin/forms/index.html
8a3edb0428f11a404535d9134c90063f admin/index.html
8a3edb0428f11a404535d9134c90063f admin/presets/index.html
b6609f823ffa5cb52fc2f8a49618757f admin/presets/preset1.png
7d84b8d140e68c0eaf0b3ee6d7b676c8 admin/presets/preset2.png
0de9472357279d64771a9af4f8657c2a admin/presets/preset3.png
5bda28157fe18bffe11cad1e4c8a78fa admin/presets/preset4.png
2ff2c5c22e531df390d2a4adb1700678 admin/presets/preset5.png
4b3561659633476f1fd0b88034ae1815 admin/presets/preset6.png
8a3edb0428f11a404535d9134c90063f admin/tips/index.html
2afd5df9f103032d5055019dbd72da38 admin/tips/overview.xml
79f1beb0ce5170a8120ba65369503bdc component.php
caf4a31db542ca8ee63501b364821d9d css/grid-responsive.css
8a3edb0428f11a404535d9134c90063f css/index.html
8697baa2e31e784c8612e2c56a1cd472 css/master-gecko.css
0857bc517aa15592eb796553fd57668b css/master-ie10.css
a4625ce5b8e23790eacb7704742bf735 css/master-ie8.css 
```

这只是一个片段，但逻辑就在那里。

哈希路径/到/文件/相对/到/MD5SUM_file

谁能帮我编写一个 shell 脚本（bash shell），我可以将它添加到我的路径中，该路径将执行并生成一个名为“MD5SUM_new”的文件？我希望输出文件名为“MD5SUM_new”，以便在发出 mv MD5SUM_new MD5SUM 之前查看内容

仅供参考，MD5SUM_new 文件需要保存在模板的根级别。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:49:15.713

这很容易，真的。哈希当前目录下的所有文件：

```
find . -type f | xargs md5sum > md5sums 
```

然后，您可以确保它是正确的：

```
md5sum -c md5sums 
```

# codeigniter - 使用 codeigniter 传递多个查询以查看

> ID：13760934
> 
> 赞同：0
> 
> 时间：2012-12-07T10:08:52.967
> 
> 标签：codeigniter

我正在尝试使用 Codeigniter 建立一个论坛。

到目前为止，我已经根据创建动态新闻教程显示了论坛本身和线程。

但那是 2 个不同的页面，我显然需要将它们显示在一个页面中，如下所示：

```
Forum 1
- thread 1
- thread 2
- thread 3 
Forum 2
- thread 1
- thread 2 
etc. 
```

然后下一步显然是在一个线程中显示所有帖子。很可能正在进行一些分页。但那是以后的事了。

现在我有论坛控制器（精简版）：

```
<?php
class Forum extends CI_Controller {

    public function __construct()
    {
        parent::__construct();
        $this->load->model('forum_model');
        $this->lang->load('forum');
        $this->lang->load('dutch');
    }

    public function index()
    {
        $data['forums'] = $this->forum_model->get_forums();

        $data['title'] = $this->lang->line('title');
        $data['view'] = $this->lang->line('view');

        $this->load->view('templates/header', $data);
        $this->load->view('forum/index', $data);
        $this->load->view('templates/footer');
    }

    public function view($slug)
    {
        $data['forum_item'] = $this->forum_model->get_forums($slug);

        if (empty($data['forum_item']))
        {
            show_404();
        }

        $data['title'] = $data['forum_item']['title'];

        $this->load->view('templates/header', $data);
        $this->load->view('forum/view', $data);
        $this->load->view('templates/footer');
    }

}
?> 
```

还有forum_model（也瘦了）

```
<?php
class Forum_model extends CI_Model {

    public function __construct()
    {
        $this->load->database();
    }

    public function get_forums($slug = FALSE)
    {
        if ($slug === FALSE)
        {
            $query= $this->db->get('forum');
            return $query->result_array();
        }

        $query = $this->db->get_where('forum', array('slug' => $slug));
        return $query->row_array();
    }

        public function get_threads($forumid, $limit, $offset)
    {
            $query = $this->db->get_where('thread', array('forumid', $forumid), $limit, $offset);
            return $query->result_array();
    }

}
?> 
```

和视图文件

```
<?php foreach ($forums as $forum_item): ?>

    <h2><?=$forum_item['title']?></h2>
    <div id="main">
        <?=$forum_item['description']?>
    </div>
    <p><a href="forum/<?php echo $forum_item['slug'] ?>"><?=$view?></a></p>

<?php endforeach ?> 
```

现在是最后一个，我想要这样的东西：

```
<?php foreach ($forums as $forum_item): ?>

    <h2><?=$forum_item['title']?></h2>
    <div id="main">
        <?=$forum_item['description']?>
    </div>
    <?php foreach ($threads as $thread_item): ?>

    <h2><?php echo $thread_item['title'] ?></h2>
    <p><a href="thread/<?php echo $thread_item['slug'] ?>"><?=$view?></a></p>

    <?php endforeach ?>

<?php endforeach ?> 
```

**但问题是，我如何让模型像对视图的双重查询一样返回，以便它包含论坛和每个论坛中的线程。**

我试图在 get_forum 函数中创建一个 foreach 循环，但是当我这样做时：

```
public function get_forums($slug = FALSE)
    {
        if ($slug === FALSE)
        {
            $query= $this->db->get('forum');
            foreach ($query->row_array() as $forum_item)
            {
                $thread_query=$this->get_threads($forum_item->forumid, 50, 0);
            }
            return $query->result_array();
        }

        $query = $this->db->get_where('forum', array('slug' => $slug));
        return $query->row_array();
    } 
```

我得到了错误

```
A PHP Error was encountered

Severity: Notice

Message: Trying to get property of non-object

Filename: models/forum_model.php

Line Number: 16 
```

希望大家给点好的建议，谢谢！

莱尼

********编辑****** ******

 **感谢您的反馈。

我一直很困惑，现在这似乎可行:)

```
 $query= $this->db->get('forum');
        foreach ($query->result() as $forum_item)
        {
            $forum[$forum_item->forumid]['title']=$forum_item->title;
            $thread_query=$this->db->get_where('thread', array('forumid' => $forum_item->forumid), 20, 0);
            foreach ($thread_query->result() as $thread_item)
            {
                $forum[$forum_item->forumid]['thread'][]=$thread_item->title;
            }
        }
        return $forum;
    } 
```

接下来是如何使用 foreach 语句在视图中显示这个多维数组......

有什么建议么 ？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:17:06.030

您正在使用`row_array()`因此您的错误，将您的 get_forums() 更改为：

```
 $thread_query=$this->get_threads($forum_item['forumid'], 50, 0); 
```

但我相信您实际上应该使用`result_array()`，因为您想要所有论坛的列表。**

# java - 在 Mac OS X Lion 中运行 RMI Hello world 失败

> ID：13760936
> 
> 赞同：2
> 
> 时间：2012-12-07T10:09:07.353
> 
> 标签：java, osx-lion, rmi

我一直在尝试执行命令来运行 RMI Hello world 示例，但我失败了！

我的执行步骤取自这里：[http ://docs.oracle.com/javase/1.5.0/docs/guide/rmi/hello/hello-world.html](http://docs.oracle.com/javase/1.5.0/docs/guide/rmi/hello/hello-world.html)

命令是：

*   `javac`：工作正常，我得到类文件
*   `rmiregistry &`: 我得到类似的东西`[1] 17122`
*   `java -Djava.rmi.server.codebase=file:/users/ha/RMI/ example.hello.Server`：

给我一条错误信息

> 线程“main”中的异常 java.lang.NoClassDefFoundError: example/hello/Server 原因是：java.lang.ClassNotFoundException: example.hello.Server at java.net.URLClassLoader$1.run(URLClassLoader.java:202) at java。 security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:190) at java.lang.ClassLoader.loadClass(ClassLoader.java:306) at sun.misc.Launcher$AppClassLoader.loadClass( Launcher.java:301) 在 java.lang.ClassLoader.loadClass(ClassLoader.java:247)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-16T21:05:14.967

我确实通过在新的终端窗口上运行每个命令来解决这个问题。首先，我从 .java 文件的 javac 开始，然后运行命令 rmiregistry &。

其次，我打开了一个新的终端窗口并为 Server 类运行命令 java。

第三，我打开了一个新的终端窗口并为 Client 类运行命令 java。

它适用于我！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:24:52.507

在 Mac 上，根目录中的 Users 目录用大写字母书写。

你写了：

> 文件：/**用户**/ha/RMI/

文件：/**用户**/ha/RMI/ 将是正确的。**这仅适用于已明确设置为忽略大小写（不区分大小写）的文件系统。至少下面的评论是这么说的。我自己无法验证这一点。**

在许多情况下也需要类路径。这取决于您的依赖项。但是，如果您需要 Windows 中的类路径，您将需要在 Mac 上类似的路径。

根据您的 .class 文件所在的位置，我会将类路径添加到您的调用中。

```
java -Djava.rmi.server.codebase=file:/users/ha/RMI/ -cp=/Users/ha/RMI example.hello.Server 
```

当然，这假设类文件位于 /Users/ha/RMI/example/hello

只需查看目录内部以验证类文件是否存在。它应该是您在 javac 命令和 -d 参数之后指定的目录。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-10-06T03:41:15.910

我使用三个终端窗口来执行 rmiregistry 程序。

1.使用此终端窗口编译所有文件（javac 文件名.java）并使用命令“rmiregistry &”这是“启动 rmiregistry”的 windows 等效命令。（注意：'start' 命令在 macOS 上不起作用）

2.使用它来运行java文件，即。服务器文件（即 java RMI_Server）

3.使用它来运行客户端文件，即。客户端文件（即 java RMI_Client 127.0.0.1）

是的，它对我有用。（注意：Directory 应该在终端中正确设置）

# objective-c - Gps 航向 iOS

> ID：13760947
> 
> 赞同：0
> 
> 时间：2012-12-07T10:09:34.153
> 
> 标签：objective-c, ios

我是 ios 编程的初学者，我想使用 gps 获得方向，我知道指南针的功能，但这不是我要找的，我正在寻找一个函数或公式来给出我的位移方向（标题）。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T10:12:25.807

[位置感知编程指南](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/LocationAwarenessPG/GettingHeadings/GettingHeadings.html)应该会有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T11:34:49.177

您需要使用[CLLocationManager](https://developer.apple.com/library/ios/#documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html)的标题方法注册更新。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-07T15:53:00.517

谢谢蒂洛，这里有详细信息：

```
- (void)locationManager:(CLLocationManager *)manager
didUpdateToLocation:(CLLocation *)newLocation
       fromLocation:(CLLocation *)oldLocation {

    double direction = newLocation.course;

} 
```

# symfony - Symfony 2.0/Doctrine2 自动增量唯一文本字段

> ID：13760953
> 
> 赞同：0
> 
> 时间：2012-12-07T10:09:50.813
> 
> 标签：symfony, doctrine-orm

在我的 Symfony 2.0 应用程序中，我必须从 csv 文件导入和创建用户。

我这样做没有问题，但我还需要为每个用户生成一个唯一的电子邮件（因为我的应用程序中有一个网络邮件，所以我需要创建一个内部邮件地址）

我想知道是否有任何最佳实践来自动增加唯一文本字段（`john.doe@mydomain.com`，`john.doe_1@mydomain.com`...）的重复值

我的第一个想法是在 prepersist 事件中进行验证，但也许有更好的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T21:04:26.400

如果事务有暂停或延迟，简单的自动增量可能会出现并发问题。

添加纳秒时间戳将有效地保证唯一性，但如果没有别名或自动完成，电子邮件地址将变得笨拙。

或者，您可以发起一项社交活动，以消除整个人口中的重复姓名。这可能需要几千个月。

# php - 如何停止 yii 默认错误页面

> ID：13760959
> 
> 赞同：3
> 
> 时间：2012-12-07T10:10:18.287
> 
> 标签：php, yii

我是 Yii 框架的新手，我正在做一个小项目，但是如果数据库出现任何错误，它会抛出错误页面。

请帮助我如何停止这些错误页面并显示一些自定义的错误页面

我一直在努力得到这个，所以任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-07T10:13:03.357

尝试在 index.php 中注释该行

`defined('YII_DEBUG') or define('YII_DEBUG',true);`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-07T10:17:13.927

要自定义错误页面修改视图：`/protected/views/site/error`- “站点”是您的默认控制器。

您可以通过以下方式更改它`/protected/config/main.php`：

```
'errorHandler'=>array(
    'errorAction'=>'myController/error',
), 
```

在您的控制器中，您可以执行以下操作：

```
public function actionError()
{
    if($error=Yii::app()->errorHandler->error)
    {           
        if(Yii::app()->request->isAjaxRequest) {
        echo $error['message'];
    }
    else
        $this->render('error', $error);
    }
} 
```

所以你可以做任何你想做的事。

# magento - 如何在快速查看弹出窗口中添加产品选项？

> ID：13760961
> 
> 赞同：2
> 
> 时间：2012-12-07T10:10:33.157
> 
> 标签：magento, view, product

我正在开发一个产品快速查看 Megnto 模块。我唯一的问题是如何在弹出窗口中显示产品选项？在产品视图页面中，我们如何称呼它：

```
<?php if ($_product->isSaleable() && $this->hasOptions()):?>
        <?php echo $this->getChildChildHtml('container2', '', true, true) ?>
<?php endif;?> 
```

你能帮助我吗 ？谢谢

# asp.net - 自动登录到另一个网站并在我的网站页面上的 iframe 中运行该网站？

> ID：13760962
> 
> 赞同：0
> 
> 时间：2012-12-07T10:10:46.913
> 
> 标签：asp.net

我正在我的网站中创建一个页面，我的页面上有不同的链接供不同的网站登录。我想通过单击链接登录到不同的网站，响应网站显示在我网站页面的 iframe 中。请帮助我实现这一目标。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:32:39.900

将您的链接作为您希望应用打开的*iframe的目标？*

# c# - 按单个元素分组，将某行放入列表中

> ID：13760966
> 
> 赞同：0
> 
> 时间：2012-12-07T10:10:56.353
> 
> 标签：c#, linq

我有一个创建对象列表（现在是 9 个元素）的 linq，例如：

```
Object 1:   Title: Title1
            Value: Marco

Object 2:   Title: Title2
            Value: Paolo

Object 3:   Title: Title3
            Value: Giovanni

Object 4:   Title: Title1
            Value: Edoardo

Object 5:   Title: Title2
            Value: Chris

Object 6:   Title: Title3
            Value: John

Object 7:   Title: Title1
            Value: Manuel

Object 8:   Title: Title2
            Value: Lorenz

Object 9:   Title: Title3
            Value: Ernest 
```

而不是这 9 个对象，我只想返回 3 个对象（按标题分组），每个对象的值是每个分组上每个值的联合列表。所以结果应该是这样的：

```
Object 1:   Title: Title1
            Value[]: Marco, Edoardo, Manuel

Object 2:   Title: Title2
            Value[]: Paolo, Chris, Lorenz

Object 3:   Title: Title3
            Value[]: Giovanni, John, Ernest 
```

在Linq上可以吗？或者我需要迭代我的列表并手动管理它？

PS注意这只是一个例子！在我的场景中，对于每个对象，我有比 Title 和 Value 更多的元素，例如 10 个元素。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T10:13:00.410

```
var query = objects.GroupBy(o => o.Title)
                   .Select(g => new  
                   {
                       Title = g.Key,
                       Value = g.Select(x => x.Value).ToArray()
                   }); 
```

或者使用查询语法：

```
var query = from o in objects
            group o by o.Title into g
            select new 
                   {
                       Title = g.Key,
                       Value = g.Select(x => x.Value).ToArray()
                   }); 
```

*更新*考虑使用简单的分组 - 这将返回按标题分组的对象

```
var query = objects.GroupBy(o => o.Title); 
```

# machine-learning - 机器学习与大数据

> ID：13760967
> 
> 赞同：38
> 
> 时间：2012-12-07T10:10:57.910
> 
> 标签：machine-learning, bigdata

一开始，我想描述一下我目前的职位和我想达到的目标。

我是一名研究机器学习的研究员。到目前为止，已经完成了几门涵盖机器学习算法和社交网络分析的理论课程，因此获得了一些对实现机器学习算法和输入真实数据有用的理论概念。

在简单的示例中，算法运行良好并且运行时间是可以接受的，而如果尝试在我的 PC 上运行算法，大数据代表一个问题。关于软件，我有足够的经验来实现文章中的任何算法，或者使用任何语言或 IDE 设计我自己的算法（到目前为止已经使用了 Matlab、Java 和 Eclipse、.NET ......）但到目前为止还没有太多的设置经验向上的基础设施。我已经开始学习 Hadoop、NoSQL 数据库等，但考虑到学习时间限制，我不确定哪种策略是最好的。

**最终的目标是能够建立一个分析大数据的工作平台，专注于实现我自己的机器学习算法，并将所有这些放在一起投入生产，准备通过处理大数据来解决有用的问题。**

由于主要关注实现机器学习算法，我想问一下是否有现成的运行平台，提供足够的 CPU 资源来输入大数据，上传自己的算法并简单地处理数据，而不考虑分布式处理。

尽管如此，无论是否存在这样的平台，我都希望获得足够大的图景，以便能够在一个团队中工作，该团队可以将根据特定客户需求定制的整个系统投入生产。例如，零售商想要分析日常采购，因此必须将所有日常记录上传到一些基础设施，这些基础设施足以使用自定义机器学习算法处理数据。

将以上所有内容归结为一个简单的问题：**如何针对现实生活中的问题设计一个定制的数据挖掘解决方案，主要关注机器学习算法并将其投入生产，如果可能的话，使用现有的基础设施，如果没有，设计分布式系统（通过使用 Hadoop 或任何框架）。**

对于书籍或其他有用资源的任何建议或建议，我将非常感谢。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-05-03T22:46:32.300

首先，您的问题需要更清楚地定义大数据的意图。

事实上，大数据是一个流行词，可以指代各种规模的问题。我倾向于将大数据定义为数据大小或计算时间足够大以致“硬件抽象被破坏”的问题类别，这意味着如果没有对计算和内存的密切关注，单个商品机器就无法执行计算.

因此，数据成为大数据的规模阈值尚不清楚，并且对您的实施很敏感。您的算法是否受硬盘带宽的限制？它必须进入记忆吗？您是否尝试避免不必要的二次成本？你有没有努力提高缓存效率等。

从多年运行中型大型机器学习挑战（最多 250 百台商品机器）的经验来看，我坚信许多看似需要分布式基础设施的问题，如果问题表达出来，实际上可以在单个商品机器上运行正确。例如，您提到零售商的大规模数据。几年来我一直在研究这个确切的主题，并且我经常设法使所有计算在一台机器上运行，并提供一些优化。我的公司一直在研究简单的自定义数据格式，它允许将来自一家非常大的零售商的所有数据中的一年存储在 50GB 内，这意味着单个商品硬盘驱动器可以保存 20 年的历史。你可以看看例如：[https://github.com/Lokad/lokad-receiptstream](https://github.com/Lokad/lokad-receiptstream)

根据我的经验，花时间尝试优化算法和内存是值得的，这样您就可以避免求助于分布式架构。确实，分布式架构带来了三倍的成本。首先，强烈的知识要求。其次，它在代码中带来了很大的复杂性开销。最后，分布式架构具有显着的延迟开销（本地多线程分发除外）。

从从业者的角度来看，能够在 30 秒内执行给定的数据挖掘或机器学习算法是提高效率的关键因素之一。我注意到，当一些计算（无论是顺序的还是分布式的）需要 10 分钟时，我的注意力和效率往往会迅速下降，因为快速迭代和快速测试新想法变得更加复杂。许多分布式框架引入的延迟开销使得您将不可避免地处于这种低效率的场景中。

如果问题的规模如此之大，以至于即使付出很大的努力也无法在单台机器上执行，那么我强烈建议求助于现成的分布式框架，而不是构建自己的框架。最著名的框架之一是 MapReduce 抽象，可通过 Apache Hadoop 获得。Hadoop 可以在 10000 个节点的集群上运行，这可能比您需要的要多得多。如果您不拥有硬件，则可以“租用”Hadoop 集群，例如通过 Amazon MapReduce。

不幸的是，MapReduce 抽象并不适合所有机器学习计算。就机器学习而言，MapReduce 是一个死板的框架，许多案例已证明难以适应该框架或效率低下：

– MapReduce 框架本身与函数式编程有关。Map 过程独立地应用于每个数据块。因此，MapReduce 框架不适用于将 Map 过程应用于某些数据块需要以其他数据块的相同过程的结果为前提的算法。换句话说，当不同数据段之间的计算不是独立的并且强加特定的时间顺序时，MapReduce 框架不适合。

– MapReduce 旨在提供 map 和 reduce 步骤的单一执行，并且不直接提供迭代调用。因此，它不直接适用于暗示迭代处理（期望最大化（EM）、信念传播等）的众多机器学习问题。在 MapReduce 框架中实现这些算法意味着用户必须设计一个解决方案来组织多次迭代的结果检索和调度，以便在前一次迭代的 reduce 阶段完成后启动每次映射迭代，因此每次映射迭代都是使用前一次迭代的 reduce 阶段提供的结果。

– 大多数 MapReduce 实现旨在满足生产需求和稳健性。因此，该框架的主要关注点是处理硬件故障并保证计算结果。因此，这些可靠性约束部分降低了 MapReduce 效率。例如，在某些情况下，计算结果在硬盘上的序列化被证明是相当昂贵的。

– MapReduce 不适合异步算法。

对 MapReduce 框架的质疑导致了更丰富的分布式框架，其中更多的控制权和自由留给了框架用户，代价是该用户更加复杂。在这些框架中，GraphLab 和 Dryad（均基于计算的直接无环图）是众所周知的。

因此，不存在“一刀切”的框架，例如不存在“一刀切”的数据存储解决方案。

要开始使用 Hadoop，您可以查看[Tom White 的书 Hadoop: The Definitive Guide](https://rads.stackoverflow.com/amzn/click/com/1449311520)

如果您对大规模框架如何适应机器学习要求感兴趣，您可能会对我的博士论文的第二章（英文）感兴趣，可在此处获取：http: [//tel.archives-ouvertes.fr/docs/00 /74/47/68/ANNEX/texfiles/PhD%20Main/PhD.pdf](http://tel.archives-ouvertes.fr/docs/00/74/47/68/ANNEX/texfiles/PhD%20Main/PhD.pdf)

如果您对要处理的特定挑战（算法类型、数据大小、时间和资金限制等）提供更多见解，我们可能会为您提供更具体的答案。

编辑：另一个可能被证明是有趣的参考：[扩展机器学习](https://rads.stackoverflow.com/amzn/click/com/0521192242)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-05-21T19:28:34.193

我还必须实现一些数据挖掘算法才能使用 BigData，最后我使用了 Hadoop。我不知道您是否熟悉 Mahout ( [http://mahout.apache.org/](http://mahout.apache.org/) )，它已经有几种可供 Hadoop 使用的算法。

尽管如此，如果您想实现自己的算法，您仍然可以将其适应 Hadoop 的 MapReduce 范式并获得良好的结果。这是一本关于如何将人工智能算法应用于 MapReduce 的优秀书籍：

海量数据集的挖掘 - [http://infolab.stanford.edu/~ullman/mmds.html](http://infolab.stanford.edu/~ullman/mmds.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-07-08T05:14:29.233

这似乎是一个老问题。但是，考虑到您的用例，专注于大数据领域机器学习的主要框架是 Mahout、Spark (MLlib)、H2O 等。但是，要在大数据上运行机器学习算法，您必须将它们转换为基于 Map Reduce 范式的并行程序。这是一篇不错的文章，简要介绍了主要（不是全部）大数据框架：

[http://www.codophile.com/big-data-frameworks-every-programmer-should-know/](http://www.codophile.com/big-data-frameworks-every-programmer-should-know/)

我希望这将有所帮助。

# magento-1.7 - socolissimoflexibilite（法国）承运人不支持免费送货购物车规则

> ID：13760969
> 
> 赞同：0
> 
> 时间：2012-12-07T10:11:00.753
> 
> 标签：magento-1.7, shipping, carrier

我试图了解为什么我刚刚创建的免费送货 carrule 不适用于所有可用的送货方式。我有一种免费送货方式，另一种 ( `socolissimoflexibilite`) 不变。

有人可以给我一个提示、解释或一些配置/数据/代码来检查`socolissimoflexibilite`运输方式吗？我的第一次调查将我引向了`sales/quote_address_rate`收藏：一个费率很好地更改为 0.00 欧元，但不是另一个。

我还检查了报价送货地址：它的`free_shipping`字段设置为 1。

帮助 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-10T10:01:55.987

好的，我找到了答案：我们有一个 module( `socolissimoflexibilite`) 扩展了该模块`socolissimosimplicite`。 `socolissimoflexibilite`重写`collectRates()`函数，`freeShipping`不再支持。我不得不自己重写这部分。对于使用此模块遇到相同问题的人，这里是诀窍：

在`Addonline_SoColissimoFlexibilite_Model_Carrier_ShippingMethod`类中，该`collectRates()`函数必须替换为以下代码：

```
public function collectRates(Mage_Shipping_Model_Rate_Request $request)
{
    $rates = parent::collectRates($request);
    $shippingAddress = Mage::getSingleton('checkout/session')->getQuote()->getShippingAddress();

    if ($shippingAddress && $shippingAddress->getData('soco_product_code') == 'RDV') {
        foreach ($rates->getAllRates() as $rate) {
            if ($rate->getCarrier()===$this->_code) {
                $rate->setPrice($rate->getPrice()+(int)Mage::getStoreConfig('carriers/socolissimoflexibilite/rdv_fees'));
            }
        }
    }
    if($shippingAddress->getFreeShipping()) {
        foreach ($rates->getAllRates() as $rate) {
            if($rate->getCarrier() === $this->_code) {
                $rate->setPrice(0) ;
                $rate->setCost(0) ;
            }
        }
    }
    return $rates;
} 
```

现在，freeShipping 规则将得到支持`socolissimoflexibilite`！

# django - 更改表单中的主键会在 DB 中创建两个条目，一个具有旧主键，另一个具有新主键

> ID：13760980
> 
> 赞同：0
> 
> 时间：2012-12-07T10:12:10.207
> 
> 标签：django, django-models, django-forms

代码：

模型：

```
class Machines(models.Model):
    name = models.CharField(max_length=100, verbose_name="hostname", help_text="Host name of the machine")
    ip_addr = models.CharField(max_length=50, primary_key=True, help_text="IP address of the machine")
.... have many other fields. 
```

表单：使用 forms.ModelForm 创建表单

看法：

```
def save(request):
if request.method == "POST":
        ip = request.POST.get("ip")
        machine = get_object_or_404(Machines, ip_addr=ip)
        form = MachineForm(instance=machine, data=request.POST)
        if form.is_valid():
            if form.has_changed():
                form.save()
                context = {"message": "Updated successfully"}
            else:   
                context = {"message": "No data to update"}
    return render_to_response("edit.html", context, context_instance=RequestContext(request)) 
```

如果我更改“名称”字段，form.save() 会正确更新当前对象。但是，如果我更改作为主键的“ip_addr”字段，form.save() 会创建两个条目，一个带有旧主键，另一个带有新主键。

如果我们在 MySQL 中做同样的事情（顺便说一句，我使用 MySQL 作为数据库）

```
update machines_table set ip_addr="10.1.1.1" where ip_addr="10.1.1.2"; 
```

它工作正常，不会有任何重复的条目。

你能帮帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T10:20:04.477

您正在做的是更新私钥。在这种情况下，Django 会创建新实例。这实际上是 Django 的复制记录的方式。非查询由 ORM 执行`INSERT`。`UPDATE`

如果您将代码更改为：

```
class Machines(models.Model):
    …
    ip_addr = models.CharField(max_length=50, unique=True, …
    … 
```

Django will interprete your edit action correctly as the primary key won't change.

Next time use `django-debug-toolbar` to see what query is performed by Django ORM.

# android - 关于在 Android 应用程序中加载图像

> ID：13760987
> 
> 赞同：1
> 
> 时间：2012-12-07T10:12:24.683
> 
> 标签：android, shell

我开发了一个 Android 应用程序。输入密码后，我的应用程序将检查客户是否在数据库中，然后我的应用程序继续。在此过程中，我想保持加载图像不在静止位置。我给了这样的代码

```
login_btn.setOnClickListener(new View.OnClickListener() {
public void onClick(View v) {

//ProgressDialog progressDialog = new ProgressDialog(context);
// progressDialog.setMessage("Loading...");
// progressDialog.setCancelable(true);
//progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
// progressDialog.setProgress(0); // set percentage completed to 0%
// progressDialog.show();               

DAO dbObj = DAO.getInstance(context); 
```

但现在问题是在我的应用程序开始运行后加载图像正在运行。但是，我想在登录和应用程序启动之间运行加载图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T10:16:06.017

您必须在应用程序初始化结束时隐藏/关闭/禁用 progresDialog。它不会自行消失。它怎么知道你已经完成了？

# c# - Web客户端和语言

> ID：13760988
> 
> 赞同：1
> 
> 时间：2012-12-07T10:12:26.150
> 
> 标签：c#, web-scraping, webclient

我想用德语抓取谷歌建议：

```
string url = "http://google.de/complete/search?output=toolbar&q=" + txtResults.Lines[i].Replace(" ", "%20%");
WebClient client = new WebClient();
client.Headers.Add("User-Agent", "Mozilla/5.0 (Windows NT 6.2; WOW64; rv:17.0) Gecko/17.0 Firefox/17.0");
client.Headers.Add("Accept-Encoding:", "gzip, deflate");
client.Headers.Add("Connection:", "keep-alive");
doc.Load(client.OpenRead(url), System.Text.Encoding.UTF8, true); 
```

但我总是得到国际结果，而在浏览器中，我通过给定的 .de url 得到德语结果。所以我添加了标题：

```
client.Headers.Add("Accept-Language:", "de-de,de;q=0.8,en-us;q=0.5,en;q=0.3"); 
```

但现在我得到错误： *指定的值具有无效的 HTTP 标头字符*

我还尝试通过以下方式设置我的应用程序的语言

```
Thread.CurrentThread.CurrentCulture = new CultureInfo("de-DE"); 
```

但这也无济于事。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T15:57:26.693

尝试从标题名称中删除冒号 (:)：

```
client.Headers.Add("Accept-Language", "de-de,de;q=0.8,en-us;q=0.5,en;q=0.3"); 
```

# iphone - 低功耗蓝牙 (BLE 112) BGAPI 和 BGScript 之间的区别

> ID：13760990
> 
> 赞同：0
> 
> 时间：2012-12-07T10:12:32.467
> 
> 标签：iphone, xcode, core-bluetooth, bluetooth-lowenergy

BGAPI 和 BGScript 有什么区别？

如果我们为 BG 配置文件编写任何代码，那么我们如何在 BLE 112 中烧录它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-10T06:57:49.693

BGAPI 接口定义了用于通过 USB 或串行链路与模块通信的协议。

当不使用 USB 或串行链接时，BGScript 是在模块处理器本身上运行的东西。

我有加密狗 BLED112，它与带有 USB 连接器的 BLE112 相同，并且使用标准 USB DFU 接口将代码“烧录”到它。

可以使用以下几种方法将代码下载到 BLE112：

(1) 从模块中取出 DD、DC 调试接口引脚并使用 CC-Debugger（digikey 部件 296-30207-ND，55 美元）。这每次都有效。如果您有 DKBLE112 套件，CC-Debugger 安装在右下角的 10 针 .050 连接器上。您可以通过这种方式“烧录”任何固件和任何堆栈。效果很棒。

(2) 希望CC2540上的当前固件有串口引导程序，并使用UART加载新固件（希望也包含串口引导程序）。TI 有工具，但对我来说确实很复杂，我没有尝试过。

# php - PHP 中的 if elseif 语句

> ID：13760991
> 
> 赞同：0
> 
> 时间：2012-12-07T10:12:32.937
> 
> 标签：php, if-statement

if 和 elseif 语句同时工作。

```
 while($answerResult = mysql_fetch_assoc($answers))
  {
    if($reportResult != 0 && $this->CheckAnswer($questionId,$answerResult['id'],$reportResult))
    {
       echo '<input type="radio" name="question['.$questionId.']" value="'.$answerResult['id'].'" checked/>'.$answerResult['name'].'aaa&nbsp;&nbsp';
    }
    elseif($sampleResult != 0 && $this->CheckAnswer($questionId,$answerResult['id'],$sampleResult))
    {
       echo '<input type="radio" name="question['.$questionId.']" value="'.$answerResult['id'].'" checked/>'.$answerResult['name'].'hee&nbsp;&nbsp';
    }
    else
    {
       echo '<input type="radio" name="question['.$questionId.']" value="'.$answerResult['id'].'" />'.$answerResult['name'].'&nbsp;&nbsp';
    }
  } 
```

如果我的第一个陈述为真，那么我正在尝试执行其他条件，但如果我的第一个条件为假，则检查 elseif 条件。

但是，即使第一个 if 条件为真，我的 elseif 条件仍然有效。

我把'hee'和'aaa'放在'echo'的末尾，看看哪个在打印。

结果：

首先，如果语句正在工作并使用“aaa”打印，然后查看 elseif 语句并检查并打印“hee”。

所以，我不知道我错过了什么，也找不到任何解决方案，有什么建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T10:17:08.693

, `if`, `elseif`and`else`在一个语句中是排他的，所以这不应该发生。

整个语句在一个while循环中......你确定它不是`if`在第一次迭代`elseif`中执行并且在第二次迭代中执行吗？

# lotus - 避免 Lotus Notes 中的执行安全警报

> ID：13760992
> 
> 赞同：0
> 
> 时间：2012-12-07T10:12:36.883
> 
> 标签：lotus

我在笔记电子邮件正文中创建了一个用于投票的按钮，然后将其发送给一组成员进行投票。当用户投票时，他们会为脚本的每个操作获得执行安全警报。以下是放置在“**是”**按钮中的代码。

```
Dim session As New notessession
Dim ws As New notesuiworkspace
Dim db As notesdatabase
Dim doc_poll As NotesDocument
Set db = session.getDatabase("Server Name", "ApplicationTesting/Polling.nsf")

Set doc_poll = db.CreateDocument()

Dim uidoc As NotesUIDocument

Set uidoc = ws.CurrentDocument

Dim doc As notesdocument
Set doc = uidoc.Document
If doc.temp(0) <> "yes" Then
    v_val=  ws.Prompt(3,"Family member count","No of Members ?")
    Call doc.ReplaceItemValue("temp","yes")
    Call doc.Save(True,True)
    Call doc.Sign
    Call doc.Save(True,True)
    doc_poll.Form = "Fo-PollReport"
    Call doc_poll.ReplaceItemValue("etxtUserName", session.CommonUserName   )

    Call doc_poll.ReplaceItemValue("etxtMembers", Cint(v_val))
    Call doc_poll.save(True,False)

    Messagebox"Your voting has been sent to HR", 64,"Voting"
Else
    Messagebox  "Your voting is already been sent to HR. Please contact HR directly,in case of any change in voting ",16, "Voting"
End If 
```

如何避免执行安全警报？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T11:17:23.490

为了避免 ECL 警报，代码签名的签名需要在其 ECL 列表中，并允许触发警报的相关命令。

您可以通过策略（安全设置 IIRC）下推该签名。

# mysql - 是否将 TEXT/BLOB 存储在同一张表中？

> ID：13760998
> 
> 赞同：17
> 
> 时间：2012-12-07T10:13:03.293
> 
> 标签：mysql, performance, text, storage, blob

在通过 SO 进行搜索时，我发现了两个相互矛盾的答案（甚至还有一个评论），但没有明确的答案：

问题是：如果将 TEXT/BLOB 字段存储在表之外，是否有任何性能优势？

我们猜测：

*   您选择正确（如果需要，仅选择 TEXT/BLOB，不选择 *）
*   表在有意义的地方被正确索引（所以这不是“如果你索引它”的问题）
*   数据库设计并不重要。这是一个在这种特殊情况下识别 MySQL 行为的问题，而不是解决某些数据库设计问题。假设这个数据库只有一个表（或两个，如果 TEXT/BLOB 被分开）
*   使用的引擎：innoDB（其他引擎也会很有趣，如果他们获取不同的结果）

* * *

这篇文章指出，将 TEXT/BLOB 放入单独的表中，只有在您已经以错误的方式进行 SELECT 时才会有所帮助（即使没有必要也总是选择 TEXT/BLOB） -**基本上说明，TEXT/BLOB 在同一张表基本上是更好的解决方案**（复杂性更低，不会影响性能等），因为 TEXT/BLOB 无论如何都是单独存储的

> 将 TEXT 列移动到另一个表中唯一会带来任何好处的情况是，如果它倾向于通常从表中选择所有列。这只是引入了第二种不良做法来弥补第一种不良做法。不言而喻，二错不等于三左。

[带有 TEXT 列的 MySQL 表](https://stackoverflow.com/questions/1849269/mysql-table-with-text-column#1854998)

* * *

然而，这篇文章指出：

> 当表有 TEXT 或 BLOB 列时，该表不能存储在内存中

这是否意味着在表中包含 TEXT/BLOB 已经足以影响性能？

[MySQL varchar（2000）与文本？](https://stackoverflow.com/questions/5053658/mysql-varchar2000-vs-text#5053773)

* * *

我的问题基本上是：正确答案是什么？

如果`SELECT`正确的话，是否将 TEXT/BLOB 存储到单独的表中真的很重要吗？

或者甚至在表中包含 TEXT/BLOB 是否会产生潜在的性能影响？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-12-17T15:49:11.027

*更新：自 5.7 版以来，梭子鱼是默认的 InnoDB 文件格式。*

如果在您的 MySQL 版本上可用，请使用 InnoDB Barracuda 文件格式

```
innodb_file_format=barracuda 
```

`ROW_FORMAT=Dynamic`在您的 MySQL 配置中并使用（或）设置您的表`Compressed`以实际使用它。

这将使 InnoDB 在行页面之外存储 BLOB、TEXT 和更大的 VARCHAR，从而使其效率更高。有关更多信息，请参阅[此 MySQLperformanceblog.com 博客文章](http://www.mysqlperformanceblog.com/2010/02/09/blob-storage-in-innodb/)。

据我了解，出于性能原因，使用梭子鱼格式将使将 TEXT/BLOB/VARCHAR 存储在单独的表中不再有效。但是，我认为记住适当的数据库规范化总是好的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-23T22:35:03.867

一个性能提升是拥有一个具有固定长度记录的表。这意味着没有可变长度字段，如 varchar 或 text/blob。对于固定长度的记录，MySQL 不需要“寻找”记录的结尾，因为它知道大小偏移量。它还知道加载 X 条记录需要多少内存。具有固定长度记录的表不太容易出现碎片，因为从已删除记录中获得的可用空间可以完全重用。MyISAM 表实际上从固定长度记录中获得了一些其他好处。

假设您使用的是 innodb_file_per_table，将 tex/blob 保存在单独的表中将增加使用文件系统缓存的可能性，因为该表会更小。

也就是说，这是一个微优化。您还可以做很多其他事情来获得更大的性能提升。例如，使用 SSD 驱动器。当您的表变得如此之大以至于您必须实施分片时，它不会给您带来足够的性能提升来推迟计算的日子。

您不再听说使用“原始文件系统”的数据库，尽管它可以更快。“原始”是指数据库直接访问磁盘硬件，绕过任何文件系统。我认为甲骨文仍然支持这一点。但这不值得增加复杂性，您必须真正知道自己在做什么。在我看来，将您的文本/blob 存储在单独的表中并不值得为可能的性能提升而增加复杂性。你真的需要知道你在做什么，以及你的访问模式，才能利用它。

# jquery - 检查数据表是否为空

> ID：13760999
> 
> 赞同：6
> 
> 时间：2012-12-07T10:13:06.563
> 
> 标签：jquery, datatable

我尝试构建一个同时是 JQuery 树表和 JQuery 数据表的表。请注意，我的问题不在于如何同时使用它，如果我填写“表格”，我可以毫无问题地查看。

但是当我将一个空数组发送到我的树表构建代码时，我得到了错误。

以下是问题行：

```
$('#table tbody tr').each(function(){
                        console.log(this);
                        if(mytable.fnGetData(mytable.fnGetPosition(this))[4]){
                            console.log('in set child before');
                            $(this).addClass('child-of-'+mytable.fnGetData(mytable.fnGetPosition(this))[4]);
                            console.log('in set child after');
                        }
                        $(this).attr('id', mytable.fnGetData(mytable.fnGetPosition(this))[0]);
                    }); 
```

当我不填充表格时，尽管我希望，该过程会进入上述循环，并且

`console.log(this)`打印出来：

```
<tr class="odd"><td valign="top" colspan="4" class="dataTables_empty">No data available in table</td></tr> 
```

所以它会产生错误，因为行数据不是预期的。

我想问，如果它是填充的“数据”还是空的警告行，最优雅的控制方式是什么？检查“dataTables_empty”的“类”是否合适？

或者如果表为空，是否有任何其他方法可以不通过上述循环。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2017-07-25T22:57:49.640

如何知道 Datatable 是否为空

```
var table = $('#idTable').DataTable();

if ( ! table.data().any() ) {
    alert( 'Empty table' );
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-06-14T22:39:03.203

您还可以使用 page.info() 来检查 dataTable 是否为空，如[stackoverflow post](https://stackoverflow.com/questions/31163428/how-to-get-filtered-row-count)中所述。例如。

```
 //gives the total number of filtered records
    var totalDisplayRecord = $(".dTable").DataTable().page.info().recordsDisplay
(totalDisplayRecord === 0)? alert("table is empty") : alert("table is not empty"); 
```

或者

```
//gives the total number of records in table
var totalRecords =$(".dTable").DataTable().page.info().recordsTotal;
//test if dataTable is empty
(totalRecords === 0)? alert("table is empty") : alert("table is not empty"); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-04-06T15:03:42.387

另一种方式

```
var count = $("table.dTable").dataTable().fnSettings().aoData.length;
if (count == 0)
{
   alert("Please enter the Data");
}else{
   alert("Table contains " + count + ' rows');
}
```

```
<table class="dTable"></table>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.16/js/jquery.dataTables.min.js"></script>
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-05-18T08:44:03.897

从[论坛](https://datatables.net/forums/discussion/15474/how-to-check-data-table-is-empty-or-not)这可能是您正在寻找的：

```
table.fnSettings().aoData.length 
```

为您提供表中数据的长度。因此，如果它等于 0，则没有数据。

```
 if(table.fnSettings().aoData.length===0) {
        alert('no data');
    } else {
        alert('data exists!');
    } 
```