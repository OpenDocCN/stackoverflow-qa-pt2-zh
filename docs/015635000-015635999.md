# StackOverflow 问答 15635000-15635999

# scala - 如何使这个特征协变

> ID：15635000
> 
> 赞同：2
> 
> 时间：2013-03-26T10:41:21.293
> 
> 标签：scala, generics, covariance, typeclass

我想使以下特征协变，知道它`DistTraversableLike`的两个类型参数都是协变的：

```
trait TraversableNumOps[T, Repr] extends DistTraversableLike[T, Repr] {

  private def min(a: T, b: T)(implicit num: Numeric[T]) =
    if (num.compare(a, b) <= 0) a else b
  private def max(a: T, b: T)(implicit num: Numeric[T]) =
    if (num.compare(a, b) > 0) a else b

  def maxD(implicit num: Numeric[T]): Option[T] =
    reduceD((a, b) => if (a >= b) a else b)
  def minD(implicit num: Numeric[T]): Option[T] =
    reduceD((a, b) => if (a < b) a else b)
  def sumD(implicit num: Numeric[T]): Option[T] =
    reduceD(_ + _)
  def productD(implicit num: Numeric[T]): Option[T] =
    reduceD(_ * _)

} 
```

但是，我无法在不破坏它的情况下管理它。问题是我想支持`Numeric[T]`在 T 中不是协变的。

如何修改此特征以在`T`and中变得协变`Repr`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:37:47.213

`Repr`应该不是问题，因为它没有作为任何方法参数的类型出现。

但是，`T`确实发生在逆变位置。您可以通过在and上添加`private[this]`修饰符来修改它。这将确保这些方法仅在当前对象内使用，并且编译器可以在当前对象范围内检查差异违规。`min``max`

For`maxD`和其他人，考虑让它们采用 的超类型`T`：

```
def maxD[U >: T](implicit num: Numeric[U]): Option[U] 
```

这解决了方差问题，因为没有办法使用超类型`U`和`T`违反方差（例如，您不能将它分配给对象的字段，因为`TraversableNumOps`不能有类型的字段`U`）。

# android - 从单独的广播接收器更新活动，如何？

> ID：15635002
> 
> 赞同：1
> 
> 时间：2013-03-26T10:41:23.527
> 
> 标签：android, user-interface, android-activity, broadcastreceiver

我正在编写一个从 bt 耳机捕获媒体按钮点击的应用程序。但是，由于清单文件中说明了我的接收器，我突然不再控制我的活动，我真正想做的是当有人按下耳机按钮时“按下”活动上的软件按钮.

我尝试了几种解决方案，但没有任何工作。这是我目前的状态

```
package com.siriforreq.activities;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
public class MediaButtonReceiver extends BroadcastReceiver{
    private boolean gotMessage = false;

    public MediaButtonReceiver(){
        super();
    }

    public boolean isMessage(){
        return this.gotMessage;
    }
    @Override
    public void onReceive(Context context, Intent intent) {
        System.out.println("IN ON RECEIVE1");
         if (Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {

                System.out.println("GOT MEDIA BUTTON");
                Intent startBroadcastIntent = new Intent(context, NetworkActivity.class);
                startBroadcastIntent.setAction("com.siriforerq.activities.ACTION_LOL");
                startBroadcastIntent.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);
                System.out.println("...sending broadcast");
                context.sendBroadcast(startBroadcastIntent); 

         }
    }

    } 
```

在上面的接收器中，我确实抓住了媒体按钮。但是从现在开始我应该去哪里更新我的活动呢？我现在要做的是发送另一个自定义广播并在活动中的另一个接收器中捕获它，但它似乎不起作用。这是我的活动：

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_network);

    mMediaReceiverCompName = new ComponentName(getPackageName(), MediaButtonReceiver.class.getName());
    mAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);

    IntentFilter btCommunicationFilter = new IntentFilter();
    btCommunicationFilter.setPriority(1000);
    btCommunicationFilter.addAction("com.siriforerq.activities.ACTION_LOL");
    catchButtonEvent = new BroadcastReceiver(){
        @Override
        public void onReceive(Context context, Intent intent) {
            System.out.println("Got broadcast yes");
            //startTalkInteraction(); <- this is the method I want to    call in the activity           
        }       
    };
    registerReceiver(catchButtonEvent, btCommunicationFilter);

}

public void onResume() {
    super.onResume();

    mAudioManager.registerMediaButtonEventReceiver(mMediaReceiverCompName); 
    socketNetworkHelper = SocketNetworkHelper.getSocketNetworkHelper(ip, port);
    setButtonStatus(true);

} 
```

在上面的匿名接收器中，从 MediaButtonReceiver 发送的广播永远不会被调用，这是我现在的问题。我应该以另一种方式思考还是为什么我的 onReceive 在匿名接收器类触发器中没有？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T10:48:09.060

从文档中可以看出，您正在使用为特定组件[`Intent(class,context)`](http://developer.android.com/reference/android/content/Intent.html)创建一个构造函数。`Intent`相反，您应该`Intent`像这样构建您的：

```
Intent startBroadcastIntent = new Intent();
startBroadcastIntent.setAction("com.siriforerq.activities.ACTION_LOL");
startBroadcastIntent.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES); 
```

# .htaccess - 强制php文件到子域

> ID：15635006
> 
> 赞同：-1
> 
> 时间：2013-03-26T10:41:35.987
> 
> 标签：.htaccess, mod-rewrite

我的域上有一个名为 video.php 的文件，但希望它在我的子域中。

现在就像`www.domain.com/video.php?id=parameter&fewotherparamer=1233`

我想把它改成

```
video.domain.com/video.php?id=parameter&fewotherparamer=1233 
```

这怎么可能？我已经尝试在这里使用谷歌和搜索功能找出答案，但没有找到重点。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T14:13:08.157

将这些指令添加到 domain.com 根目录（或虚拟主机配置）中的 .htaccess 文件中，并确保启用了 mod_rewrite 模块

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^(www\.)?domain.com$ [NC]
RewriteRule ^video.php$ http://video.domain.com/video.php [R=301,NC,L ] 
```

# multithreading - Scala：唤醒睡眠线程

> ID：15635011
> 
> 赞同：1
> 
> 时间：2013-03-26T10:41:42.390
> 
> 标签：multithreading, scala

在scala中，我怎么能告诉一个线程：sleep t seconds，或者直到你收到一条消息？即最多睡眠 t 秒，但在 t 未结束且您收到特定消息时醒来。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T12:19:34.040

答案很大程度上取决于信息*是*什么。如果您正在使用 Actors（旧变体或[Akka 变](http://doc.akka.io/docs/akka/snapshot/scala/actors.html)体），那么您可以简单地在接收时声明一个超时值。（在收到消息之前，React 并没有真正运行，因此您不能对其设置超时。）

```
// Old style
receiveWithin(1000) {
  case msg: Message => // whatever
  case TIMEOUT =>      // Handle timeout
}

// Akka style
context.setTimeoutReceive(1 second)
def receive = {
  case msg: Message =>   // whatever
  case ReceiveTimeout => // handle timeout
} 
```

否则，您所说的“消息”到底是什么意思？

发送消息的一种简单方法是使用专为此类事情制作的 Java 并发类。例如，您可以使用 a`java.util.concurrent.SynchronousQueue`来保存消息，并且接收者可以调用`poll`需要超时的方法：

```
// Common variable
val q = new java.util.concurrent.SynchronousQueue[String]

// Waiting thread
val msg = q.poll(1000)

// Sending thread will also block until receiver is ready to take it
q.offer("salmon", 1000) 
```

An`ArrayBlockingQueue`在这些情况下也很有用（如果您希望发送者能够将消息打包在缓冲区中）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T10:53:21.663

查看[等待](http://www.scala-lang.org/archives/downloads/distrib/files/nightly/docs/library/index.html#scala.concurrent.Await%24)。如果您有一些[Awaitable](http://www.scala-lang.org/archives/downloads/distrib/files/nightly/docs/library/index.html#scala.concurrent.Awaitable)对象，那么这就是您所需要的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T10:56:29.053

或者，您可以使用条件变量。

```
val monitor = new AnyRef
var messageReceived: Boolean = false

// The waiting thread...

def waitUntilMessageReceived(timeout: Int): Boolean = {
    monitor synchronized {
        // The time-out handling here is simplified for the purpose
        // of exhibition. The "wait" may wake up spuriously for no
        // apparent reason. So in practice, this would be more complicated,
        // actually.
        while (!messageReceived) monitor.wait(timeout * 1000L)
        messageReceived
    }
}

// The thread, which sends the message...

def sendMessage: Unit = monitor synchronized {
    messageReceived = true
    monitor.notifyAll
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T10:46:05.667

与其让它在给定的时间内休眠，不如让它只在 Timeout() 消息时唤醒，然后如果您希望它“唤醒”，您可以提前发送此消息。

# haskell - Haskell Zip 解析错误

> ID：15635012
> 
> 赞同：-3
> 
> 时间：2013-03-26T10:41:48.100
> 
> 标签：haskell

我正在尝试使用 Haskell 中的 zip 函数将两个列表连接在一起。**可以**按如下方式定义列表和收集信息：

```
 priority <- getLine    
 let priorityList = []
 priority : priorityList

 name<- getLine
 let nameList = []
 name : nameList 
```

收集信息后，预期的输出将是 priorityList = [1,2,3] & nameList = [test1, test2, test3]。但是，这对于问题的目的并不重要，可以假设这两个列表采用以下格式：

```
 priorityList = [1,2,3]
  nameList = [test1, test2, test3] 
```

我需要将列表和打印与以下功能结合起来。但是，我收到错误“输入“zip”时出现解析错误”

```
printList :: IO ()
printList = do putStrLn "Printed Combined List"
               zip [nameList][priorityList] 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-26T11:19:41.210

```
printList :: IO ()
printList = do putStrLn "Printed Combined List"
    zip [NameList][PriorityList] 
```

这段代码有很多问题。

您看到的解析错误是因为 do 块没有正确对齐。最后`zip`一行的 必须与`putStrLn`前一行的 对齐。所以要么

```
printList :: IO ()
printList = do putStrLn "Printed Combined List"
               zip [NameList][PriorityList] 
```

或者

```
printList :: IO ()
printList = do
    putStrLn "Printed Combined List"
    zip [NameList][PriorityList] 
```

但这仍然行不通。`printList`被声明为一个 IO 动作，这意味着 do 块的最后一行也必须是一个 IO 动作......但`zip`会产生一个列表。你可能是这个意思：

```
printList :: IO [(String, Int)]
printList = do
    putStrLn "Printed Combined List"
    return (zip [NameList][PriorityList]) 
```

但这只会在您直接从 ghci 提示符运行时打印出结果。最好明确地打印出来：

```
printList :: IO ()
printList = do
    putStrLn "Printed Combined List"
    print (zip [NameList][PriorityList]) 
```

但它仍然不会做你想做的事！因为`NameList`并且`PriorityList`大概是列表。你想要拉链在一起。但这不是您要提供的`zip`：您要提供`zip`两个新的单元素列表。毫无疑问，您只是打算直接通过列表。

```
printList :: IO ()
printList = do
    putStrLn "Printed Combined List"
    print (zip NameList PriorityList) 
```

哦，但它仍然无法正常工作。甚至不会编译。为什么是这样？因为变量名必须以小写字母（或下划线）开头。`NameList`而且您已经开始`PriorityList`使用大写字母。这就是为什么您的第一个代码块显然无法工作的一个原因。

```
printList :: IO ()
printList = do
    putStrLn "Printed Combined List"
    print (zip nameList priorityList) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-27T09:24:44.213

使用上述帮助，我已经能够构建一个函数（如下）来实现成功的 ZIP（不包括信息收集）。

```
printList :: IO ()
printList = do
    let nameList = ["test1", "test2", "test3"]
    let prioirtyList = [1, 2, 3]
    putStrLn "Printed Combined List"
    print (zip nameList prioirtyList) 
```

我的输出如下：

```
*Main> printList
 Printed Combined List
 [("test1",1),("test2",2),("test3",3)] 
```

# jquery - 如果选择了一个类别，如何在产品树中隐藏其他类别

> ID：15635014
> 
> 赞同：0
> 
> 时间：2013-03-26T10:41:53.877
> 
> 标签：jquery, css, asp.net-mvc, jquery-ui, jquery-plugins

购物车有产品类别树，如

```
Category1
  Subcategory11
  Subcategory12
  ...
Category2
  Subcategory21
  Subcategory22
  ...
Category3
  Subcategory31
  Subcategory32
  ... 
```

它位于屏幕的左侧。最初它以折叠形式显示

截图1：

```
Toggle show all categories
Category1
Category2
Category3 
```

用户可以通过单击打开某个节点。在这种情况下（例如在 Category2 中单击）其他类别应从屏幕中删除，以便仅此类别及其子类别可见：

截图2：

```
Toggle show all categories
Category2
  Subcategory21
  Subcategory22 
```

`Toggle show all categories`链接应切换单个类别和类别列表视图：第一次单击应再次显示折叠的类别列表，如屏幕截图 1。之后`Toggle show all categories`再次点击应该只显示最后打开的类别，如 Screenshot2。这是在[http://www.officeday.ee/Buuro-pohitoovahendid/](http://www.officeday.ee/Buroo-pohitoovahendid/)

如何实施？是否有一些 jquery 或 jquery-ui 插件，或者 jqgrid 可以为此定制吗？

如果选择了某个类别，我发现的所有树都会离开主类别列表，例如

```
Category1
Category2
  Subcategory21
  Subcategory22
Category3 
```

如果选择 Category2，Category1 和 Category3 必须消失，如屏幕截图 2 所示

目前使用 ASP.NET/Mono MVC2、jquery、jquery-ui 和 jqgrid treegrid。如果这导致解决方案，jquery-ui 和 jqgrid 可以替换为其他内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:40:06.943

为类别提供一个通用类，例如`.hidden`和`commonClass`

```
hidden{display:none}

$('.category').click(function(){
 $(this).css('display','block')
 $('.commonclass').addClass('hidden')

}); 
```

像这样的东西你可以试试...

# highcharts - 为什么我在 Highcharts 中的相反 y 轴的标签没有显示？

> ID：15635015
> 
> 赞同：5
> 
> 时间：2013-03-26T10:41:54.200
> 
> 标签：highcharts, axis

我很困惑为什么我的 Highcharts 图表中的第二个 y 轴显示，但没有任何值。我的两个图表仍然绑定到第一个 y 轴。无法将其中之一归因于第二个 yaxis。这是[一个小提琴](http://fiddle.jshell.net/luftikus143/24XAM/2/)。

感谢您的任何提示！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T11:16:35.273

图表选项区分大小写。当它应该是“yAxis”时，您指定了“yaxis”。我花了一段时间才发现！

```
series: [{
        yAxis: 1,
        data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]        
    },{
        yAxis: 0,
        data: [19.9, 21.5, 6.4, 29.2, 44.0, 76.0, 35.6, 48.5, 16.4, 94.1, 95.6, 54.4]        
    }] 
```

# mysql - MYSQL 表：问题开始发生之前的合理大小？

> ID：15635022
> 
> 赞同：2
> 
> 时间：2013-03-26T10:42:16.467
> 
> 标签：mysql

这有点模棱两可，我认为更多地依赖于您自己的个人经验，因此欢迎任何意见。

我有一个数据库 X，在 X 中是表 Y。表 Y 已经变得非常大（110 万行），它已经无法重构了。

**所以......根据您的经验，在我开始看到问题（如果有的话）发生之前，这张表还能增长多少，这些问题可能是什么？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T10:46:22.413

为什么只有 110 万行会引起问题？大多数（如果不是全部）RDBMS 可以处理很多很多（比如数十亿），只要存储等就足够了，并且只要分区可以处理相当大的文件（例如 Fat32 仅支持每个文件最多 2GB例子）。

还; 在说“在我开始看到问题（如果有）之前”时，您需要更具体地说明您所指的内容。什么样的问题？如果您没有使用正确的索引，例如可能会减慢查询速度，您可能已经遇到问题。这*可能*是一个问题，但在某些情况下也可以。

另一个实际上*可能*是问题的问题是类型（无符号）的自动增量主键字段之类的东西，`int`它可能会在大约 2.1（有符号）或 42 亿行（无符号）处溢出，但由于您目前有 110 万行，那就是*现在*不用担心什么了。（当然，有符号和无符号的确切值分别是 2 ^(31) -1 和 2 ^(32)`int` -1 ）。在这种情况下，您将不得不考虑`bigint`为您的 PK 使用类似或其他类型（甚至可能是 (var)char 等）。

这里唯一有趣的是，特别是对于 MySQL，*可能*是：您使用的是 InnoDB 还是 MyISAM？我不知道确切的细节，因为我通常不使用 MySQL，但我似乎记得 MyISAM 可能会导致麻烦（可能在旧版本中，例如 <5.0 或其他版本）。~~如我错了请纠正我。~~编辑：在[这里](https://stackoverflow.com/a/2716470/215042)阅读。MyISAM 支持最大。显然是 2 ^(32)行，除非使用特定选项编译。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T10:52:53.930

这取决于所使用的操作系统。对于旧系统，典型问题是最大文件大小。旧版本的操作系统所使用的文件系统（例如 FAT32）的最大`32 bit`寻址不能超过`2GB`.

请参阅[最大表大小](http://dev.mysql.com/doc/refman/4.1/en/full-table.html)文档。

# android - 无法在 Ubuntu 12.10 上为 Android SDK Manager 设置代理

> ID：15635023
> 
> 赞同：2
> 
> 时间：2013-03-26T10:42:20.230
> 
> 标签：android, ubuntu, sdk, proxy

我已经从 Windows 切换到 Ubuntu 12.10，并且在通过 sdk 管理器下载 android sdks 时遇到问题，当我尝试打开 sdk 管理器时，我得到了

获取 URL 失败，原因：未知主机 dl-ssl.google.com 获取 URL 失败，原因：IO 未知主机 dl-ssl.google.com 错误.....

我也在stackoverflow上搜索过答案，但没有一个帮助我解决问题，

发现了一个问题，他说我需要设置 sdk 管理器代理，但我无法在我的 sdk 管理器上看到这些选项.. 像选项->设置我跟着这个问题[Android SDK 和 AVD 管理器在哪里设置菜单？](https://stackoverflow.com/questions/2195264/android-sdk-and-avd-manager-where-is-settings-menu/2204065#2204065)

*请注意我在代理下

任何帮助是极大的赞赏...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-27T05:57:52.377

此问题已通过使用代理和端口编辑 androidtools.cgf 文件得到解决。IE

```
sdkman.force.http=true
http.proxyPort=(port here)
http.proxyHost=(ip here) 
```

这个文件可以在主文件夹的 .android 文件夹下找到

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-17T19:17:12.577

我也有同样的问题。我的主文件夹/.android 下没有 androidtools.cfg。我用代理手动添加了一个，SDK 管理器仍然无法获取 URL。

[更新]文件名是“androidtool.cfg”，在那里设置代理后，它对我有用。

# python - 如何将假彩色图像映射到为每种颜色分配的特定标签

> ID：15635025
> 
> 赞同：0
> 
> 时间：2013-03-26T10:42:28.107
> 
> 标签：python

我有一个假彩色图像，如下所示。我想将此图像转换为一个数组，我可以在其中为每个假色区域分配一个标签。因此，我可以仅使用该标签值访问图像。我尝试使用

```
 r_channel = image[:, :, 0]
    g_channel = image[:, :, 1]
    b_channel = image[:, :, 2]
    label_map = (0.2989) * (r_channel) + (0.5870) * g_channel + (0.1140) * b_channel
    label_map = label_map * 500 / 255
    label_map = np.round(label_map).astype(int) 
```

但问题是在这种情况下我得到了重复的标签。我希望每个区域都有一个唯一的标签，最好从 1 开始按升序排列。

![在此处输入图像描述](../Images/c360c5d019c712f5043eb91ee8e4d871.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:42:03.067

给定一个值数组，其中非零值被视为“对象”，零值被视为“背景”，您可以使用[scipy.ndimage.label](http://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.measurements.label.html)函数标记对象：

```
import scipy
from scipy import ndimage
import numpy as np

fname='/tmp/splotches.png'
arr = scipy.misc.imread(fname) 
print(arr.shape)
# (160, 240, 3)

r, g, b = np.rollaxis(arr, axis = -1)
label_map = 0.2989 * r + 0.5870 * g + 0.1140 * b
label_map = label_map * 500 / 255
label_map = np.round(label_map).astype(int)
print(label_map.shape)
# (160, 240)

seen = set()
region = {}
i = 1
for val in label_map.flat:
    if val not in seen:
        seen.add(val)
        mask = (label_map == val)
        labeled, nr_objects = ndimage.label(mask) 
        for label in range(1, nr_objects+1):
            assert np.any(labeled==label)
            region[i] = labeled==label
            i += 1

print(len(region))
# 382 
```

使用`scipy.ndimage.label`，找到了 382 个区域。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T10:31:49.950

我找到了获取标签的独特方式。这就是我所做的：

```
 r_channel = image[:, :, 0]
    g_channel = image[:, :, 1]
    b_channel = image[:, :, 2]
    label_map = 1000000 * (r_channel) + 1000 * g_channel + b_channel
    label_map = np.round(label_map).astype(int) 
```

因此，现在我得到了每个超像素区域的唯一标签。

# android - 需要将数据库回滚到以前的状态

> ID：15635028
> 
> 赞同：1
> 
> 时间：2013-03-26T10:42:33.297
> 
> 标签：android, rollback, ormlite, autocommit

这是我使用 ORMLITE 保存在 sqlite db 中的模型类。

```
public class Site{
                 ...
                 ...
                 Collection<Visit> visits;
                 }

public class Visit{
                 ...
                 ...
                 Collection<Pic> pics;
                 }

public class Pic{
                 ...
                 ...

                 } 
```

现在在一个视图中，我从这三个表中添加、编辑或删除。我认为有一个按钮可以取消更改（添加、编辑、删除）。所以我需要回滚到数据库的先前状态。

我怎样才能使用带有android的ormlite实现回滚到三个表的某个状态？

我已经阅读了有关**DAO.SetAutoCommit()**和**startThreadConnection()**方法的 ormlite 文档。我想我可以通过使用这两个来做到这一点。但无法弄清楚如何使用它们。请建议我怎么做。

这是我的 DBHelper 类：

```
public class DatabaseHelper extends OrmLiteSqliteOpenHelper {
// name of the database file 
private static final String DATABASE_NAME = "Test.db";

private static final int DATABASE_VERSION = 1;

private Dao<Site, Integer> siteListDao = null;
private Dao<Visit, Integer> visitDao= null;
private Dao<Pic,Integer> picDao=null;

    public DatabaseHelper(Context context) {
    super(context, DATABASE_NAME, null, DATABASE_VERSION);
}

@Override
public void onCreate(SQLiteDatabase database,ConnectionSource connectionSource) {
    try {
        TableUtils.createTable(connectionSource, Site.class);
        TableUtils.createTable(connectionSource, Visit.class);
        TableUtils.createTable(connectionSource, Pic.class);
                 } catch (SQLException e) {
        Log.e(DatabaseHelper.class.getName(), "Can't create database", e);
        throw new RuntimeException(e);
    } catch (java.sql.SQLException e) {
        e.printStackTrace();
    }

}

    public Dao<Visit, Integer> getVisitDao() {
    if (null == visitDao) {
        try {
            visitDao = getDao(Visit.class);
        }catch (java.sql.SQLException e) {
            e.printStackTrace();
        }
    }
    return visitDao;
}
    .....
     ..... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T10:48:00.133

嗯，不知道有什么方法可以自动为您执行此操作。如果你真的想自动完成，你也可以查看 Transactions。它们具有内置控件，可在失败时回滚。不完全是你想要的，但也许可以调整。

您也可以手动进行更多操作，并将 1 个（最后一个）对象保存在内存中，即您要删除的对象。如果有人想“撤消”更改，您可以使用 ORMLite 重新添加该对象。可能比其他选项容易得多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T12:19:30.587

是的，我大多同意@Stefan。我认为您需要在您的应用程序内部执行此操作，而不是依赖数据库构造来返回之前的状态。

关闭自动提交（[ORMLite](http://ormlite.com/)使用 Sqlite 下的事务）或直接使用事务*不是*这样做的。事务旨在允许您对数据库进行多项更改，然后在一次数据库更改失败时将它们全部回滚。它们不打算在等待用户输入的几秒钟内保持打开状态。

*   您可以在数据中包含已提交的布尔字段或类似的字段，以便通过删除所有对象`committed = false`或类似的对象来更轻松地“恢复”数据库。
*   您可以有单独的表，以便将对象存储到会话表中，然后在用户提交工作时复制到主表中。

# javascript - 如何使用keyarrows在javascript中获取元素的焦点

> ID：15635035
> 
> 赞同：0
> 
> 时间：2013-03-26T10:42:58.390
> 
> 标签：javascript, html, css

我的 html 包含元素列表。我想使用箭头键来选择元素。

这是我的代码：`[http://jsfiddle.net/T8S7c/]`

我想要的是预置焦点需要在所选元素中的键，例如悬停效果。（例如，如果我第一次按下向下键，Ambaji 必须处于焦点）

我知道按键事件的代码，但我不知道如何将焦点放在按键上。

任何人都可以帮助我吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:04:27.680

我解决这个问题的策略是通过链接数组指定焦点顺序，以及使用一些变量指定哪个链接应该成为焦点。

```
var order = new Array("l1", "l2", "l3", "l4");
var current = -1;

function updateCurrent(inc) {
    current = (current + inc) % order.length;
    current = Math.max(current, 0);
}

document.onkeydown = function(evt) {
    evt = evt || window.event;

    switch (evt.keyCode) {
        case 38:
            updateCurrent(-1);
            document.getElementById(order[current]).focus();
            break;
        case 40:
            updateCurrent(1);
            document.getElementById(order[current]).focus();
    }
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:13:05.317

更新了你的脚本。看看这个。小提琴：http: [//jsfiddle.net/T8S7c/6/](http://jsfiddle.net/T8S7c/6/)

```
var myLinks = document.getElementsByTagName("a");
var myLinksIndex = 0;
myLinks[myLinksIndex].focus();
document.onkeydown = function(evt) {
    evt = evt || window.event;
    switch (evt.keyCode) {
        case 38: // Up arrow
            if(myLinksIndex > 0){myLinks[-- myLinksIndex].focus();}
            break;
        case 40:// Down arrow
           if(myLinksIndex < myLinks.length){myLinks[++ myLinksIndex].focus();}
            break;
    }
}; 
```

# html - Jsoup 如何解析单击按钮（图像）后显示的元素？

> ID：15635036
> 
> 赞同：1
> 
> 时间：2013-03-26T10:43:05.800
> 
> 标签：html, parsing, onclick, jsoup

我在网站源中有这个 div，点击后它会显示更多数据。

```
 <div class=infogroup>
                <div onClick=requestAjax(); style=cursor:pointer; class=infoheading>Your Panels (Click to load results)<img style=float:right; src="/images/plus_sign.png" width=20 height=20></div>
                <div id=resultsPanels style=display:none;>
                    <table width=100%>
                        <tr>
                            <td>
                                <center>Loading your results...</center>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <center><img src=/images/ajaxloader.gif></center>
                            </td>
                        </tr>
                    </table>
                </div>
            </div> 
```

当我单击它并执行“检查元素”女巫铬时，当我复制 xpatch 时，我可以在源网站中看到它，有趣字段的 xpatch 是：

```
//*[@id="resultsPanels"]/div/table/tbody/tr[3]/td[3] 
```

我如何在 Jsoup 中选择它？

我试过这样但它不起作用：

```
elements = doc.select("//*[@id=\"resultsPanels\"]/div/table/tbody/tr[2]/td[3]"); 
```

这是我单击按钮时 mozzila 所做的： ![在此处输入图像描述](../Images/2a7ddc4dd8b7927720b337d5640b5558.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:30:31.833

Jsoup**不支持** *javascript / ajax*，但您可以为此使用外部库（我在[此处](https://stackoverflow.com/questions/13666453/trying-to-parse-html-hidden-by-javascript/14715242#14715242)列出了一些示例）。

顺便提一句。正在使用*CSS / jQuery*选择器语法，而不是*XPath*。所以这个语法很可能会失败。

您可以在此处获得有关 Jsoups 选择器的概述：[使用选择器语法查找元素](https://stackoverflow.com/questions/13666453/trying-to-parse-html-hidden-by-javascript/14715242#14715242)

# java - 如何使命令按钮调用两种方法将数据插入到jsf页面中的两个不同表中

> ID：15635037
> 
> 赞同：-2
> 
> 时间：2013-03-26T10:43:11.387
> 
> 标签：java, jsf

我必须将这两个命令按钮组合成单个保存按钮，该按钮应将数据插入一个表并将图像插入另一个表。

```
<h:commandButton value="Save" action="#{user.addUser()}"></h:commandButton> 
```

我通过在 managedbean 中获取值并将值全局保存在变量中然后将数据插入到一个表中并最后调用另一种方法将图像插入到另一个表中之后解决了这个问题。这为我完成了这项工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T10:45:17.680

这根本不应该是 JSF 或表示层的一部分。将您的业务逻辑封装在服务类中并在那里执行所有操作。根本不要让您的按钮知道数据库中的表。最后，这两个动作可能应该在一个事务中，这是不这样做的另一个原因，这是糟糕的设计。

# java - 如何在 Tomcat 上处理多个 Web 应用程序中的共享本机库

> ID：15635039
> 
> 赞同：3
> 
> 时间：2013-03-26T10:43:26.643
> 
> 标签：java, jakarta-ee, tomcat

我们在 Tomcat 6.0.35 上的两个 Web 应用程序需要一个库（jar 文件）。jar 文件中的一个类需要本地库才能运行。

正如预期的那样，我遇到了异常

```
java.lang.UnsatisfiedLinkError：本机库 my-native-library.so
已经在另一个类加载器中加载

```

如果两个应用程序同时被延迟。

在 jar 文件中，使用静态块加载本机库

```
静止的
{
    尝试
    {           
        System.loadLibrary("my-native-library.so");

    } 捕捉（UnsatisfiedLinkError e）
    {
        e.printStackTrace();
    }
}

```

并且使用本机库的类可以使用 xml 进行配置。

jar库是我们自己搭建的搜索引擎，需要的时候可以重新构建。

所以我的问题是我们如何告诉 Tomcat my-native-library.so 已被另一个 Web 应用程序加载，并且该应用程序可以忽略静态块。

编辑：jar 库和 web 应用程序都使用 maven。

谢谢。

编辑：据我了解：

搜索引擎库需要 my-native-library.jar 文件才能构建到 jar 库中。然后搜索引擎 jar 库托管在我们的存储库中，并使用 maven 构建到我们的 Web 应用程序中。当服务器启动时，LD_LIBRARY_PATH 和具有共享库路径的 JAVA_OPTS 被暴露，服务器只能加载一次 my-native-library.so。但是，这两个 Web 应用程序都包含搜索引擎 jar，并且 my-native-library.jar 将位于 WEB_INF/lib 中，并且异常。

要从 WEB_INF/lib 中删除 my-native-library.jar，需要在没有必要依赖项的情况下重建搜索引擎库 (my-native-library.jar)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T10:57:52.877

在这种情况下，我会将库加载到 Tomcat 的共享类加载器中，这样它只会在系统中加载一次。查看 Tomcat 类加载器文档以获取更多详细信息：

[http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html](http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html)

# android - 怎么播放sd卡里的视频

> ID：15635043
> 
> 赞同：1
> 
> 时间：2013-03-26T10:43:36.117
> 
> 标签：android

我正在尝试播放我在我的 SD 卡中的视频，但它显示无法播放视频的错误。我的代码是

```
public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.main);
        mVideoView = (VideoView) findViewById(R.id.surface_view);

        mPath = (EditText) findViewById(R.id.path);

        mPath.setText("mnt/sdcard/music/jelly jamm.3gp"); 
```

谁能帮助我..我尝试了堆栈溢出中的所有帖子，但仍然遇到相同的错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T10:46:34.313

```
 Intent intent = new Intent();
             intent.setAction(Intent.ACTION_VIEW);
             Uri imgUri = Uri.parse("file://mnt/sdcard/music/jelly jamm.3gp");
             intent.setDataAndType(imgUri, "video/mp4");
             startActivity(intent); 
```

试试这样。希望这会给你一些解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T10:56:41.167

如果您发布您遇到的错误，我们可以帮助您...

可能是您的视频与 Android 不兼容。尝试使用不同的视频。像任何 .mp4 视频一样，绝对适用于 Android。如果该视频有效，而您的视频无效，则您的视频与 Android 不兼容。并在设备上进行测试。在模拟器上播放视频需要太多电量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T10:49:19.897

使用此代码从 sdcard 播放视频

```
 VideoView vv = (VideoView)findViewById(R.id.videoView1);

    File root;
    root = Environment.getExternalStorageDirectory();
    Log.d("FILEPATH1", root.toString());

    String path =root.toString()+"/music/jelly jamm.3gp";

    MediaController mc= new MediaController(getApplicationContext());

    vv.setVideoPath(path);

    vv.setMediaController(mc);

    vv.requestFocus();

    vv.start(); 
```

# qt - QGraphicsScene 到 HTML？

> ID：15635045
> 
> 赞同：2
> 
> 时间：2013-03-26T10:43:52.953
> 
> 标签：qt, pyqt, pyside, qgraphicsscene

使用 Qt，我正在开发一个在`QGraphicsScene`. 项目既是多边形又是`QGraphicsTextItems`. 后者可以包含超链接。

*问题*：我正在尝试导出图表，并且希望保持超链接处于活动状态。

使用`QImage`渲染器可以生成漂亮的 PNG，但（显然）没有超链接。 `QSvgRenderer`生成也不嵌入超链接的 SVG。

`QPrinter`允许生成完成这项工作的 PDF（或多或少） - 超链接*是*可点击的，这就是我原则上需要的。除了我想在网络上发布图表，所以 PDF 对我来说并不是一个真正的选择。

我找不到任何方法`QGraphicsScene`以 HTML 表单呈现。我错过了什么？有没有办法做到这一点？

谢谢

**编辑**

代码示例：

```
from PySide import QtGui, QtCore
app = QtGui.QApplication([])

scene = QtGui.QGraphicsScene()
view = QtGui.QGraphicsView(scene)

item = QtGui.QGraphicsTextItem()
item.setOpenExternalLinks(True)
item.setHtml('<a href="http://stackoverflow.com">Hello</a>')
item.setTextInteractionFlags(QtCore.Qt.LinksAccessibleByMouse)

scene.addItem(item)

view.show()
app.exec_() 
```

此示例显示带有可单击超链接的场景（打开默认系统应用程序的链接）。在我的应用程序中，场景还包含一些图形项目，但我认为这足以理解：我希望在 HTML 中呈现（或打印或导出）这个场景，以便链接保持可点击状态。

以下代码将导出为 PDF：

```
pdf_printer = QPrinter()
pdf_printer.setOutputFormat(QPrinter.PdfFormat)
pdf_printer.setPaperSize(rect.size().toSize(), QPrinter.Point)
pdf_printer.setFullPage(True)
pdf_printer.setOutputFileName(filename)
pdf_painter = QPainter()
pdf_painter.begin(pdf_printer)
scene.render(pdf_painter, source=rect)
pdf_painter.end() 
```

生成的 PDF 确实包含活动的超链接 - 这就是让我认为所有机制都在那里的原因。我只是找不到导出 HTML 而不是 PDF 的方法。

# delphi - Delphi/TZipFile：如何恢复文件的原始时间戳？

> ID：15635047
> 
> 赞同：2
> 
> 时间：2013-03-26T10:43:55.927
> 
> 标签：delphi, zip

使用 TZipFile 类（我正在使用 ExtractAll 方法）从 zip 中提取的文件将系统日期时间作为创建/修改文件的日期，但我需要恢复原始时间戳，就像 winzip/winrar 一样。TZipFile 类也可以这样做，还是我必须在之后更改文件时间戳？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:02:03.000

恐怕您对内置的邮政编码不走运。创建 ZIP 文件时，它会记录修改后的时间戳。但解压时不恢复。而且没有办法让它这样做。

我认为您最好的选择是使用第三方 ZIP 组件。例如，我推荐支持此功能的[tpAbbrevia 。](http://sourceforge.net/projects/tpabbrevia/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-15T15:40:53.010

自 Delphi XE6 以来，[TZipFile](http://docwiki.embarcadero.com/Libraries/Berlin/en/System.Zip.TZipFile)类自动保存提取文件 ( [QC](http://qc.embarcadero.com/wc/qcmain.aspx?d=120635) ) 的时间戳和属性。所以最简单的解决方案是将您的 Delphi 升级到 XE6 或更新版本。

如果无法升级，则需要在提取后恢复时间戳和属性。原始时间戳和属性在[TZipFile.FileInfos](http://docwiki.embarcadero.com/Libraries/Berlin/en/System.Zip.TZipFile.FileInfos)属性（[TZipHeader](http://docwiki.embarcadero.com/Libraries/Berlin/en/System.Zip.TZipHeader)数组）中可用。

# xcode - Cocoa Crash Reporter 框架

> ID：15635048
> 
> 赞同：4
> 
> 时间：2013-03-26T10:43:59.023
> 
> 标签：xcode, macos, cocoa, crash-reports, crash-dumps

似乎大多数崩溃报告框架不再维护：

UKCrashReporter ILCrashReporter SmartCrashReporter

唯一似乎得到维护的是plcrashreporter。但我正在寻找一个框架，它只给我 os x 本身生成的崩溃日志，而不是像这样的进程内崩溃报告框架。

有没有支持 10.6-10.8 的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T14:33:01.507

iTunesConnect 仅在您达到某个阈值后才会提供崩溃报告，而且该阈值似乎相当高，因为我认识的人从来没有收到过崩溃报告。 [FeedBackReporter](https://github.com/tcurdt/feedbackreporter)是一个选项，但它也有一段时间没有更新了。不过，上次我检查时，它在 10.8 上工作。

我发现的最佳选择是[HockeyApp](http://hockeyapp.net)。定价从 10 美元/月开始，但只要您签署可执行文件并正确配置权利，它就会在服务器上报告符号并与 MAS 兼容。对我来说它物有所值。

# mysql - Mysql Cluster：删除行后未释放磁盘空间

> ID：15635049
> 
> 赞同：-1
> 
> 时间：2013-03-26T10:43:58.980
> 
> 标签：mysql

我已经删除了具有磁盘数据表的 mysql 集群表中的所有行。它仍然显示使用的范围 ....??? 我怎样才能释放那些使用的范围......如果我使用截断表而不是只释放范围，否则在使用 DELETE 语句删除行后它们仍然被占用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T15:32:54.233

向表中添加新行时应重复使用该空间

# c# - 将 C# 字符串传递给 C++/CLI 不会在 CPP 程序中显示字符串值

> ID：15635050
> 
> 赞同：1
> 
> 时间：2013-03-26T10:43:59.553
> 
> 标签：c#, c++, c++-cli

我想通过 CLI/C++ 从 C++ 调用 C# 函数。

C# 代码

```
private string _text = " ";

public void setText(string text)
{
    // _text = text;
    _text = "HI World";
} 
```

理想情况下，setText 应该只有注释行。_text = "HI World" 就是一个例子。

```
public string getText()
{
    return _text;
} 
```

C++/CLI 代码

标题：

```
gcroot<Bridge> _managedObject;

virtual void setText(std::string text);
virtual std::string getText(); 
```

文件

```
std::string CStringBridge::getText()
{ 
```

// _managedObject = gcnew Bridge(); 返回 (marshal_as(_managedObject->getText())); }

```
void CStringBridge::setText(std::string text)
{ 
```

// _managedObject = gcnew Bridge(); _managedObject->setText(gcnew System::String(text.c_str())); }

```
IStringBridgeWrapper* IStringBridgeWrapper::CreateInstance(void)
{
return ((IStringBridgeWrapper *)new CStringBridge());
} 
```

注意：当我使用以下代码时

```
virtual void setText(System::String^ text);
virtual System::String^ getText(); 
```

我收到以下***错误 3395***

*__declspec(dllexport) 不能应用于具有 __clrcall 调用约定的函数*

，所以我坚持使用 std::string

当我使用 C++/CLI 代码中的库并从我的 C++ 程序中调用时，应该打印“Hi World”；相反，什么都没有打印出来

C++ 控制台应用程序

```
IStringBridgeWrapper *pBridge = IStringBridgeWrapper::CreateInstance();

pBridge->setText(std::string("I am here"));
pBridge->getText(); 
```

我认为字符串没有被正确传递。

任何解决它的想法都将不胜感激。

**编辑**

我在评论后更新了代码，但没有任何显示。

gcroot 创建一个句柄，但不为其分配内存。但是由于 Bridge 没有分配内存，因此应用程序无法运行。我的代码在本文的同一行中 - [http://www.codeproject.com/Articles/10020/Using-managed-code-in-an-非托管应用程序](http://www.codeproject.com/Articles/10020/Using-managed-code-in-an-unmanaged-application)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T15:28:45.063

> 我想通过 CLI/C++ 从 C++ 调用 C# 函数。

等等……你想从 C# 调用一个 C++ 函数，对吧？这就是 C++/CLI 的优点。包装 C++ 代码以在托管环境中访问。如果你*真的*想从 C++ 调用 C# 代码，你应该查看 COM 注册你的 C# 代码。如果您为此使用 C++/CLI，您的整个 C++ 程序将被拖入 .NET 世界，您可以从一开始就使用 C#。

在 C++/CLI 中，ref (.NET) 类的整个公共类接口应该只包含托管类型。那将`System::String^`不是`std::string`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T16:58:38.177

COM 是你的朋友：

在 C# 中创建一个接口

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Runtime.InteropServices;

namespace CsharpLibrary
{
   // Since the .NET Framework interface and coclass have to behave as 
   // COM objects, we have to give them guids.
   [Guid("56A868B1-0AD4-11CE-B03A-0020AF0BA770"),
    InterfaceType(ComInterfaceType.InterfaceIsDual)]
   public interface IStringHolder
   {
      String GetText();
      void SetText(String s);
   }
} 
```

实现 C# 接口：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Runtime.InteropServices;

namespace CsharpLibrary
{
   [Guid("C6659361-1625-4746-931C-36014B146679")]
   public class MyStringHolder : IStringHolder
   {
      String _text;

      public String GetText()
      {
         return this._text;
      }

      public void SetText(String value)
      {
         _text = value;
      }

   }
} 
```

从 C++ 创建和调用 C# 对象

```
#include <windows.h>
#include <stdio.h>

#pragma warning (disable: 4278)

// To use managed-code servers like the C# server, 
// we have to import the common language runtime:
#import <mscorlib.tlb> raw_interfaces_only

#pragma warning (disable: 4278)

// To use managed-code servers like the C# server, 
// we have to import the common language runtime:
#import <mscorlib.tlb> raw_interfaces_only

#import "..\CsharpLibrary\bin\Debug\CsharpLibrary.tlb" no_namespace named_guids

int main(int argc, char* argv[])
{
   HRESULT hr = S_OK;

   IStringHolder *pStringHolder = NULL;

   //
   // Initialize COM and create an instance of the InterfaceImplementation class:
   //
   CoInitialize(NULL);

   hr = CoCreateInstance(   __uuidof(MyStringHolder),
                           NULL,
                           CLSCTX_INPROC_SERVER,
                           __uuidof(IStringHolder),
                           reinterpret_cast<void**>(&pStringHolder));

   if(SUCCEEDED(hr))
   {
      _bstr_t sHelloWorld = SysAllocString( L"Hello, World" );

      hr = pStringHolder->SetText(sHelloWorld);

      SysFreeString(sHelloWorld);
   }

   //
   // Be a good citizen and clean up COM
   //
   CoUninitialize();

   return hr;
} 
```

在 C# 方面，您必须生成类型库并通过构建后事件注册类：

生成类型库："$(FrameworkSDKDir)bin\NETFX 4.0 Tools\tlbexp.exe" "$(TargetPath)" /out:"$(TargetDir)$(TargetName).tlb"

注册类：C:\Windows\Microsoft.NET\Framework\v4.0.30319\RegAsm.exe "$(TargetPath)"

享受！

# maven - 如何使用 Maven 组合 jar？

> ID：15635052
> 
> 赞同：2
> 
> 时间：2013-03-26T10:44:17.043
> 
> 标签：maven, maven-3

**以下代码段创建了 2 个 JARS：**

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-jar-plugin</artifactId>
    <version>2.4</version>
    <executions>
        <execution>
            <id>build-dependency</id>
            <phase>compile</phase>
            <goals>
                <goal>jar</goal>
            </goals>
            <configuration>
                <classifier>dependency</classifier>
                <classesDirectory>${project.build.directory}\dependency</classesDirectory>
                <includes>
                    <include>${dependancyInclude}</include>
                </includes>
            </configuration>
        </execution>
        <execution>
            <phase>compile</phase>
            <goals>
                <goal>jar</goal>
            </goals>
            <configuration>
                <classifier>module</classifier>
                <classesDirectory>${project.build.directory}\classes</classesDirectory>
            </configuration>
        </execution>
    </executions>
</plugin> 
```

**我想使用程序集插件将这两个 JAR 合并为一个，目前我有以下内容：**

```
<plugin>
    <artifactId>maven-assembly-plugin</artifactId>
    <version>2.2</version>
    <executions>
        <!-- Combine all the JARs in the /target folder into one JAR -->
        <execution>
            <id>make-assembly</id>
            <phase>compile</phase>
            <goals>
                <goal>single</goal>
            </goals>
            <configuration>
                <attach>true</attach>
                <descriptorRefs>
                    <descriptorRef>jar-with-dependencies</descriptorRef>
                </descriptorRefs>
                <finalName>${project.artifactId}-${project.version}</finalName>
                <appendAssemblyId>true</appendAssemblyId>
            </configuration>
        </execution>
    </executions>
</plugin> 
```

**目前只有两个 JARS 之一包含在由程序集插件创建的最终 JAR 中。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T12:32:56.533

如果我理解正确，您实际上是想将 jar 文件合并到一个大 jar 文件中。这可以使用 maven-shade-plugin（而不是 maven-assembly-plugin）来实现。

例如：

```
<project>
  ...
  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-shade-plugin</artifactId>
        <version>2.0</version>
        <configuration>
           <!-- Put your configuration here, if you need any extra settings.
                (You should be okay with the defaults). -->
        </configuration>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>shade</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  ...
</project> 
```

# android - 在 android 中使用 CursorLoader、AutocompleteTextView、CursorAdapter、ContentProvider 进行分页过滤

> ID：15635056
> 
> 赞同：2
> 
> 时间：2013-03-26T10:44:23.510
> 
> 标签：android, pagination, filtering, android-cursorloader

我在使用时遇到了一些麻烦`CursorLoader`......但是，我想从inet API逐页下载数据；

1.  我也想对列表视图进行分页。这意味着当到达列表视图的末尾时，应该逐页下载数据。

2.  我还想过滤输入约束文本的列表视图`AutocompleteTextView`。

当我单独使用它们时，这些功能中的每一个都可以正常工作，但是当我想将它们一起使用时，它的效果并不好。我想实现这样的场景：如果我在`AutocompleteTextView`列表视图中输入的过滤文本无效（工作正常）并且下载过程将开始，直到列表视图大小达到屏幕末尾。

问题是我不知道如何组织游标更新`CursorLoader`，什么时候应该重新启动加载程序，什么时候不应该？我应该仅在设置过滤器（setFilterQueryProvider，方法 runQuery（CharSequence 约束））时重新启动加载程序，还是应该在从 inet 提供新数据部分时重新启动加载程序？

现在，当进程开始时，我发现回调 onLoadFinished 没有被调用，listview 也没有更新......

也许有人给我一些工作的例子......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T22:16:22.723

您可以更改 AsyncTaskLoader 的 CursorLoader 以在根据过滤条件未找到记录时获取新信息。使用 AsyncTaskLoader，您可以处理 DB 和 UI 操作来管理 Activity 在下载数据或在本地查询时的状态。

希望能帮助到你。

# api - Prestashop PayPal 模块：单击“使用贝宝付款”后未加载

> ID：15635057
> 
> 赞同：0
> 
> 时间：2013-03-26T10:44:30.193
> 
> 标签：api, paypal, connection, prestashop

在选择付款方式的页面上，paypal 无法正常工作。它曾经有效，实际上我在 3 月 18 日星期一收到了付款。但是现在当我点击“使用贝宝付款”时，页面不断加载并最终将此消息发送给客户；

> 请尝试联系商家：
> PayPal回复：
> 
> ->

所以该模块实际上之前工作过，但突然卡住工作了。Prestashop 1.4.7.3，贝宝 3.4.6

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T16:43:36.660

试试这个：在 modules/paypal/api/paypal_connect.php 中，查找“verbose”，并将其设置为“false”而不是“true”。

它应该工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T20:33:21.800

让我们阅读有关相同问题的内容：

“当您没有任何错误消息时，这是因为 PayPal 没有发送任何响应。当您的服务器 IP 被 PayPal 禁止时，此错误会附加。此错误通常发生在您在共享托管平台上，因为黑客尝试但出于同样的原因，它也可能发生在专用主机上”（[http://forge.prestashop.com/browse/PNM-1199?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#issue-tabs](http://forge.prestashop.com/browse/PNM-1199?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#issue-tabs) )

尝试使用具有另一个 IP 的另一个服务器。有一个人说它有效（[http://forge.prestashop.com/browse/PSCFV-8608?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#issue-tabs](http://forge.prestashop.com/browse/PSCFV-8608?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#issue-tabs)）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-15T14:20:04.703

这个错误是因为里面的两个函数都没有返回

```
paypal/api/paypal_connect.php 

_connectByFSOCK

_connectByCURL 
```

这两个函数都返回 false 可能是证书和签名之间的差异，但请记住签名是访问 PayPal API 的[首选方式](https://stackoverflow.com/questions/5256316/java-paypal-api-call-certificate-is-requierd/5668166#5668166)。

您应该检查上图中的 $url 和 #host 可能不再可用.. 在我的情况下，我将模式更改为正常工作，但仍处于测试模式无法正常工作......我认为因为 PayPal API 不工作

![在此处输入图像描述](../Images/aae9910a728abbd23be44f17f7849f7c.png)

# nhibernate - nHibernate - 使用 namedQuery 填充映射函数

> ID：15635058
> 
> 赞同：0
> 
> 时间：2013-03-26T10:44:32.563
> 
> 标签：nhibernate, fluent-nhibernate-mapping

我将 Fluent`nHibernate`用于我的数据层，并且我有一个主要通过`nHibernate/LINQ`但在一些高级用法中填充的类，需要由存储过程填充。

我遇到的问题是类映射包含一个公式。当我调用一个`nHibernate/LINQ`函数时，底层变量按预期填充；当我调用该`GetNamedQuery()`函数时，它会引发错误：
**值不能为空。参数名称：字段名**

对于 a`NamedQuery`来说，没有填充 Formula 字段是完全合乎逻辑的（显然我希望在这里有一个子查询，而不是为返回的每条记录运行 SQL 语句！），但我希望能够从存储过程——或者至少是查询不抛出错误。

这可能吗？

**地图**

```
public class QuoteMap : ClassMap<Quote>
{
    public QuoteMap()
    {
        Id(x => x.Id).GeneratedBy.GuidComb();
        ...
        Map(x => x.ResponseCount).Formula("(SELECT COUNT(*) FROM QuoteResponse WHERE QuoteResponse.QuoteId = Id and QuoteResponse.Status = " + (int)QuoteResponseRepository.Status.Live + ")");
    }
} 
```

**存储库**

```
// Works fine
public ICollection<Quote> GetAllByStatus(Status status)
{
    using (ISession session = NHibernateHelper.OpenSession())
    {
        var quoteQuery = (from quote in session.Query<Quote>()
                            where quote.Status == (int)status
                            select quote).ToList();

        return quoteQuery;
    }
}

// Dies horribly
public ICollection<Quote> GetListPendingByCompany(Guid companyId, Status status)
{
    using (ISession session = NHibernateHelper.OpenSession())
        return session.GetNamedQuery("QuoteGetListPendingByCompany")
                .SetGuid("Company_Id", companyId)
                .SetInt32("QuoteStatus", (int)status)
                .List<Quote>();
} 
```

**SQL**

```
CREATE PROCEDURE [dbo].[QuoteGetListPendingByCompany] 
    @CompanyId uniqueidentifier,
    @QuoteStatus int
AS
BEGIN
    SET NOCOUNT ON;

    SELECT
            Quote.*,
            (
                SELECT 
                        COUNT(*) 
                FROM    QuoteResponse
                WHERE   QuoteResponse.QuoteId = Quote.Id
            ) AS ResponseCount  -- Needs to populate what is currently a formula field
    FROM    Quote
    -- ... code removed
END 
```

**StoredProcsMap.hbm.xml**

```
<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" auto-import="true" assembly="QMP.Data" namespace="QMP.Data.Model">
        <sql-query name="QuoteGetListPendingByCompany" callable="true">
        <return class="QMP.Data.Model.Quote, QMP.Data" />
        <![CDATA[ 
        exec dbo.QuoteGetListPendingByCompany @CompanyId=:Company_Id,@QuoteStatus=:QuoteStatus
        ]]>
    </sql-query>
</hibernate-mapping> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:05:22.793

好的，在您进行编辑后，我现在可以看到您要执行的操作，我不确定是否可能，`FORMULA`如果使用`NamedQuery`调用 SP 的列，您想忽略该列吗？

如果指定 ResultTransformer 会发生什么？

```
return session.GetNamedQuery("QuoteGetListPendingByCompany")
                .SetGuid("Company_Id", companyId)
                .SetInt32("QuoteStatus", (int)status)
                .SetResultTransformer(new AliasToBeanResultTransformer(typeof(Quote)))
                .List<Quote>();
} 
```

虽然我怀疑它仍然会呕吐。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:00:01.087

你不应该把公式放在流利的映射中，因为你在你的命名查询中有它：

```
 Map(x => x.ResponseCount).Formula("(SELECT COUNT(*) FROM QuoteResponse WHERE QuoteResponse.QuoteId = Quote.Id and QuoteResponse.Status = " + (int)QuoteResponseRepository.Status.Live + ")"); 
```

只需像映射任何其他字段一样映射该字段，就可以了：

```
Map(x => x.ResponseCount); 
```

# windows - Mail::IMAPClient 没有电子邮件内容

> ID：15635063
> 
> 赞同：2
> 
> 时间：2013-03-26T10:44:45.310
> 
> 标签：windows, perl, imap

这就是我使用 yo GMail 连接的方式`Mail::IMAPClient`

```
sub connectGMail
{
    my $socket = IO::Socket::SSL->new
    (  
       PeerAddr => 'imap.gmail.com',  
       PeerPort => 993, 
       SSL_verify_mode => SSL_VERIFY_NONE
    )  
    or die "socket(): $@";  

    my $client = Mail::IMAPClient->new
    (
        User     => 'whateverUser',
        Password => 'aG00dP455w0rd'
        Socket   => $socket
    )
    or die "Cannot connect  ($@)\n";
    return $client;
} 
```

然后我将此客户端对象传递给`processEmails`子程序

```
sub processEmails
{
    my $client = shift;

    if ($client->IsAuthenticated())
    {
        $client->select('Pruebas');
        my @messages = $client->messages();
        my $mime_parser = getMIMEParser();
        my $filer = MIME::Parser::FileInto->new();
        mkdir(EXTRACT_DIR);

        for(@messages)
        {
            my $msg_body = $client->message_string($_);
            my $msg_subject = Encode::decode('MIME-Header', $client->subject($_));
            if ($msg_body)
            {
                my $dir = EXTRACT_DIR . "/" . $msg_subject;
                $filer->init($dir);
                mkdir($dir);
                $mime_parser->filer($filer);
                my $ok = parseEmail($mime_parser, $msg_body);
                if ($ok)
                {
                    print(STDERR "Email \"$msg_subject\" parsed OK\n");
                }
            }
            else
            {
                print(STDERR "No body for message with subject $msg_subject\n");
            }
        }
    }
    else
    {
        print(STDERR "Something nasty happened\n");
    }
} 
```

问题是`$msg_body`（使用 检索[`message_string`](https://metacpan.org/module/Mail%3a%3aIMAPClient#message_string)）对于所有消息都是空的，但是`$msg_subject`是正确的，这意味着连接正常。这是输出：

```
No body for message with subject íQuÚ pasa!
No body for message with subject Prueba con formateo HTML 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T10:38:44.707

一般来说，我认为如果您尝试包含可运行的代码示例，这将非常有帮助。

我稍微更改了您的代码，对我来说它工作得非常好。我的代码库中有非常相似的代码。

```
use Mail::IMAPClient;
use MIME::Parser::Filer;

my $client = Mail::IMAPClient->new(
    Server   => 'imap.gmail.com',
    User     => 'test@gmail.com',
    Password => 'test-pass',
    Ssl      => 1,
    Uid      => 1,
) or die "Cannot connect  ($@)\n";

$client->select('INBOX');
my @messages = $client->messages();
my $filer    = MIME::Parser::FileInto->new();
print "There are " . scalar @messages . " messages waiting.\n";

for (@messages) {
    print "Processing...\n";
    my $msg_body = $client->message_string($_);

    my $msg_subject = Encode::decode( 'MIME-Header', $client->subject($_) );
    if ($msg_body) {
        print "$msg_body\n";
        print( STDERR "Email \"$msg_subject\" parsed OK\n" );
    }
    else {
        print( STDERR "No body for message with subject $msg_subject\n" );
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-29T18:08:35.033

遇到了同样的问题，并能够通过以下方式解决它：

`$client->Ignoresizeerrors(1)`

# ios - 如何为每个设备生成唯一标识符？

> ID：15635064
> 
> 赞同：0
> 
> 时间：2013-03-26T10:45:01.753
> 
> 标签：ios

大家好，如何为每个长度为 15 个字符的 iphone 设备创建唯一标识符？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T10:49:05.067

通常开发人员使用*CFUUIDRef*

```
 CFUUIDRef uuidRef = CFUUIDCreate(kCFAllocatorDefault);

 NSString *uuidString = (NSString *)CFUUIDCreateString(NULL,uuidRef);

 CFRelease(uuidRef); 
```

如果你需要正好 15 个？

您可以剪切此字符串：

```
NSString *resultString = [uuidString substringWithRange: NSMakeRange (0, 15)]; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-26T10:50:25.063

Apple 几天前宣布，如果应用程序继续使用旧的已弃用的 uniqueidentifier 方法，将被拒绝：

```
[[UIDevice currentDevice] uniqueIdentifier]; 
```

必须改为：

```
 CFUUIDRef uuid = CFUUIDCreate(NULL);
   CFStringRef uuidStr = CFUUIDCreateString(NULL, uuid);
   CFRelease(uuid); 
```

# c++ - 什么是 C++ 的最佳 Lua 包装器？

> ID：15635070
> 
> 赞同：3
> 
> 时间：2013-03-26T10:45:15.927
> 
> 标签：c++, lua

我正在寻找一个类来将我的 c++ 函数和类导出到 lua 并从 lua 调用 C++ 函数。

我发现很少，但我对用户对可用性/稳定性/社区支持的印象感兴趣。

因此，如果您使用了这样的包装器，请提供帮助。

*   luabind
    *   看起来不错
*   托鲁阿/托鲁阿++
    *   [http://www.tecgraf.puc-rio.br/~celes/tolua/](http://www.tecgraf.puc-rio.br/~celes/tolua/)
    *   [http://www.codenix.com/~tolua/](http://www.codenix.com/~tolua/)
    *   2009 年最新更新
*   月神

    *   [http://lua-users.org/wiki/LunaWrapper](http://lua-users.org/wiki/LunaWrapper)
    *   小（53行）
*   luawrapper

    *   [https://code.google.com/p/luawrapper/](https://code.google.com/p/luawrapper/)
    *   测试版？够稳定吗？

使用 boost 不是问题，因为我的项目中已经使用了 si。

# c# - IE的圆角问题

> ID：15635072
> 
> 赞同：2
> 
> 时间：2013-03-26T10:45:20.930
> 
> 标签：c#, asp.net, ajax, internet-explorer, rounded-corners

我有一个网站[孟买当地火车时刻表](http://www.MumbaiLocalTrainTimeTable.Net)。

我正在使用 asp.net Ajax dll 3.5。我在其中使用圆角扩展。我看到 IE 没有显示圆角。它适用于 Chrome 和 Firefox。

我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:03:58.620

您还没有指定您正在测试的 IE 版本，这是一个重要的细节，但无论如何我会尽力提供帮助。

首先 IE8 及更早版本不支持`border-radius`圆角的 CSS 样式。因此，如果您使用 IE8 或更早版本进行测试（或者如果您需要支持正在使用它们的用户），那么您没有设置圆角也就不足为奇了。

有两种选择：

*   忽略它，让老 IE 版本的用户活在方形角落里。（这不是世界上最糟糕的事情......而且它不会影响网站的可用性，所以为什么不）
*   使用[CSS3Pie](http://css3pie.com/)之类的 javascript 工具，该工具将该`border-radius`功能实现到旧版本的 IE 中。

如果您使用的是 IE9 或 IE10，但仍然没有看到`border-radius`，那么问题很可能是浏览器正在进入兼容模式，或者更糟糕的是，Quirks 模式。

Quirksmode 可以通过`<!DOCTYPE>`在页面顶部设置有效来解决。我注意到你确实有一个 doctype，但我也注意到你上面有一个空行。
**重要提示**：文档类型*必须*是页面中的第一件事。即使是一点空白或上面的注释也会导致 IE 忽略它并退回到怪癖模式。你真的不想要那个。

兼容模式：如果是这个问题，通常可以通过在文档中添加元标记来解决，如下所示：

```
<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
```

我希望这会有所帮助。

# c# - 如何访问子窗体类（c＃）私有的基本窗口窗体类变量或函数

> ID：15635073
> 
> 赞同：0
> 
> 时间：2013-03-26T10:45:33.470
> 
> 标签：c#

我正在用 C# 编写一个 Windows 窗体应用程序。我将设计更改为有菜单。我有每个菜单项的基类和几个子类。我的问题是在我的基类中，我正在访问一个 GUI 元素并将其值存储在一个公共变量中。现在我想从我的子班访问这个。

```
public partial class x: Form

{
 # calling this public method from child class to to get the variable value 
      public string Getlogpath()
           {
               Console.WriteLine(this.logpath);
               return logsdirectory.Text;
           }
     private void reportFromLogsToolStripMenuItem_Click(object sender, EventArgs e)
            {                       
               Form2 child1 = new Form2();                  
               this.LayoutMdi(System.Windows.Forms.MdiLayout.Cascade);                        
               child1.Show();            

          }
 public void browse_Click(object sender, EventArgs e)
       {
           FolderBrowserDialog fbd = new FolderBrowserDialog();
           fbd.SelectedPath = (@"\\comprion02\ots\SHARED\T\COMPRION SIMfony\Log-Files");
           fbd.ShowDialog();
           logsdirectory.Text = fbd.SelectedPath;
           logpath = logsdirectory.Text;
           # this print i get value i need
           Console.WriteLine(logpath);
       }
}

#child form class

 public partial class Form2 : Form
{
 private void button1_Click(object sender, EventArgs e)
        {
            string data;
            x obj = new x();           
            data = obj.Getlogpath();

           #got nothing for this print
           Console.WriteLine(x);
        }
 } 
```

有人可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T10:53:27.533

为什么不使用关键字protected 而不是private 或public。在此处查看更多信息 - [http://msdn.microsoft.com/en-us/library/wxh6fsc7(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/wxh6fsc7(v=vs.71).aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T10:50:01.410

用这个`Console.WriteLine(Form.Getlogpath());`代替`Console.WriteLine(x);`

或者创建你的`Form`类的对象而不是`X`类：

```
 Form obj = new Form();
           Console.WriteLine(obj.Getlogpath()); 
```

# html - 使用哪些 HTML5 标记将定义和示例包装在字典中？

> ID：15635078
> 
> 赞同：0
> 
> 时间：2013-03-26T10:45:47.927
> 
> 标签：html

HTML5ify 的最佳方法是什么？

```
follow: Go or come after (a person or thing proceeding ahead); move or travel behind.

"She went back into the house, and Ben followed her." 
```

这个？

```
<article>
<dfn>follow</dfn>: Go or come after (a person or thing proceeding ahead); move or travel behind.
<q>"She went back into the house, and Ben followed her."</q>
</article> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:02:34.557

除非您的定义更广泛，如百科全书文章（例如，wiki），否则我不会称它为文章，因为`<article>`标签：

```
Represents a section of a page that consists of a composition that forms an     
independent part of a document, page, or site. This could be a forum post, 
a magazine or newspaper article, a Web log entry, a user-submitted comment, 
or any other independent item of content. 
```

对于书籍或白皮书的附录中可能包含的一系列简短定义，我建议使用数据定义列表：`<dl>`宽度`<dt>`和`<dd>`分别标记术语和定义。

参考：[http ://html5doctor.com](http://html5doctor.com)

有很多关于如何最好地使用 HTML5 标签的讨论，使阅读变得有趣。

**我如何设计这个**

如果我要为词汇表制作一个简单的定义列表，我可能会从以下内容开始：

```
<dl>
   <dt><dfn>follow</dfn>:</dt>
    <dd>
        <p>Go or come after (a person or thing proceeding ahead); move or travel
            behind.</p>
        <q>She went back into the house, and Ben followed her.</q>
    </dd>
</dl> 
```

并应用如下样式：

```
dl {
    border: 1px solid #989898;
    border-radius: 10px;
    padding: 1.00em;
}
dt {
    margin-left: 1.00em;
}
dfn {
    font-weight: bold;
    font-size: 1.25em;
}
dd {
    margin-left: 2.00em;
    margin-bottom: 3.00em;
}
dd p {
    margin: 0 0 0.50em 0;
}
dd q {
    display: block;
    margin: 0 0 0.50em 0;
    font-style: italic;
} 
```

这只是说明您对布局中的各种元素有多大的灵活性和控制力。

小提琴参考：http: [//jsfiddle.net/audetwebdesign/H6593/](http://jsfiddle.net/audetwebdesign/H6593/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:00:03.610

不需要 HTML5 元素，这是旧的`dl`,`dt`和`dd`.

例如

```
<dl>
    <dt>Thing one</dt>
    <dd>
        <p>This defines thing one.</p>
    </dd>

    <dt>Thing two</dt>
    <dd>
        <p>This defines thing two.</p>
    </dd>
</dl> 
```

`dl`是定义列表，`dt`是定义术语，`dd`是定义描述。

# c# - 使用 AutoMapper 将视图模型映射到模型接口

> ID：15635081
> 
> 赞同：0
> 
> 时间：2013-03-26T10:45:56.667
> 
> 标签：c#, asp.net-mvc-4, automapper-2

我在下面创建了一个 AutoMapper 映射配置类代码：

```
public static class MilitaryBrochureViewModelMapper
{
    public static void Configure()
    {
        ConfigureMilitaryBrochureMapping();
    }

    private static void ConfigureMilitaryBrochureMapping()
    {
        Mapper.CreateMap<IBrochureModel, MilitaryBrochureViewModel>().ForMember(dest => dest.Rank, opt => opt.MapFrom(src => src.JobTitle));
    }
} 
```

当我导航到 MilitaryBrochureViewModel 时，我将 MilitaryBrochureViewModel 中的字段 Rank 映射到 IBrochureModel 界面中的变量 JobTitle 它告诉我我尚未完全实现该界面是否需要在视图模型或界面或两者中放置任何东西来告诉他们我使用 AutoMapper 在这两个变量之间创建映射？

以下是我正在使用的 ViewModel 和接口：

**视图模型**

```
public class MilitaryBrochureViewModel : IBrochureModel
{
    [Key]
    public int Id { get; set; }

    public virtual int TestMode { get; set; }

    [DataType(DataType.Text)]
    [Required(AllowEmptyStrings = false, ErrorMessageResourceName = "required", ErrorMessageResourceType = typeof(Mui))]
    [Display(Name = "Salutation", Description = "Salutation_Description", GroupName = "Personal", ResourceType = typeof(Mui))]
    public string Salutation { get; set; }

    [DataType(DataType.Text)]
    [Required(AllowEmptyStrings = false, ErrorMessageResourceName = "required", ErrorMessageResourceType = typeof(Mui))]
    [Display(Name = "First_Name", Description = "First_Name_Description", GroupName = "Personal", ResourceType = typeof(Mui))]
    [RegularExpression(@"^([\u00c0-\u024f]|[A-z]|[']|[ ]|[\-]){2,20}$", ErrorMessageResourceName = "FirstNameRegExError", ErrorMessageResourceType = typeof(Mui))]
    public string FirstName { get; set; }

    [DataType(DataType.Text)]
    [Required(AllowEmptyStrings = false, ErrorMessageResourceName = "required", ErrorMessageResourceType = typeof(Mui))]
    [Display(Name = "Last_Name", Description = "Last_Name_Description", GroupName = "Personal", ResourceType = typeof(Mui))]
    [RegularExpression(@"^([\u00c0-\u024f]|[A-z]|[']|[ ]|[\-]){2,20}$", ErrorMessageResourceName = "LastNameRegExError", ErrorMessageResourceType = typeof(Mui))]
    public string LastName { get; set; }

    [Required(AllowEmptyStrings = false, ErrorMessageResourceName = "required", ErrorMessageResourceType = typeof(Mui))]
    [DataType(DataType.EmailAddress)]
    [Display(Name = "Email", Description = "Email_Description", GroupName = "Personal", ResourceType = typeof(Mui))]
    [RegularExpression(@"^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$", ErrorMessageResourceName = "EmailInputValidatorError", ErrorMessageResourceType = typeof(Mui))]
    public virtual string Email { get; set; }

    [Required(AllowEmptyStrings = false, ErrorMessageResourceName = "required", ErrorMessageResourceType = typeof(Mui))]
    [DataType(DataType.Text)]
    [Display(Name = "Military_Rank", Description = "Military_Rank_Description", GroupName = "Personal", ResourceType = typeof(Mui))]
    [StrMinLen(5)]
    [StrMaxLen(50)]
    public string Rank { get; set; }

    [Required(AllowEmptyStrings = false, ErrorMessageResourceName = "required", ErrorMessageResourceType = typeof(Mui))]
    [DataType(DataType.Text)]
    [Display(Name = "Company", Description = "Company_Description", GroupName = "Personal", ResourceType = typeof(Mui))]
    public string Company { get; set; }

    [Required]
    [Display(Name = "Do_Not_Pass_On", Description = "Do_Not_Pass_On_Description", GroupName = "Company", ResourceType = typeof(Mui))]
    public bool DoNotPassOn { get; set; }

    [DataType(DataType.Text)]
    [Required(AllowEmptyStrings = false, ErrorMessageResourceName = "required", ErrorMessageResourceType = typeof(Mui))]
    [Display(Name = "Lead_Source", GroupName = "Terms", Description = "Lead_Source_Description", ResourceType = typeof(Mui))]
    public string LeadSource { get; set; }
} 
```

**界面**

```
public interface IBrochureModel
{
    int TestMode { get; set; }

    string Salutation { get; set; }
    string FirstName { get; set; }
    string LastName { get; set; }
    string Email { get; set; }
    string Company { get; set; }
    string JobTitle { get; set; }
    string LeadSource { get; set; }
    bool DoNotPassOn { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:03:31.620

您的接口需要 member `string JobTitle { get; set; }`。您在 上没有任何此类成员`MilitaryBrochureViewModel`。C# 编译器不关心 AutoMapper 将一个道具转换为另一个道具，它只是出错，因为您有一个正在实现接口但缺少一个接口成员的类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T12:26:06.950

将以下行添加到您的视图模型中。

```
public string JobTitle { get; set; } 
```

这样，您的视图模型将具有**Rank**和**Jobtitle。**

您可以控制查看要显示的 JobTitle 或 Ran 字段

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T12:30:08.447

已更改为我在此应用程序的先前版本中将等级更改为职位的方式，唯一的区别是显示名称，因为等级和职位都作为职位发送到数据库。

```
 [Required(AllowEmptyStrings = false, ErrorMessageResourceName = "required", ErrorMessageResourceType = typeof(Mui))]
    [DataType(DataType.Text)]
    [Display(Name = "Military_Rank", Description = "Military_Rank_Description", GroupName = "Personal", ResourceType = typeof(Mui))]
    [StrMinLen(5)]
    [StrMaxLen(50)]
    public string JobTitle { get; set; } 
```

# php - 在 PHP 中传递错误消息

> ID：15635090
> 
> 赞同：7
> 
> 时间：2013-03-26T10:46:30.063
> 
> 标签：php, redirect

我的网站上有一个登录表单，用于检查提交的用户名/密码。如果不匹配，则将用户发送回登录页面并显示相应的错误消息。这个重定向的调用是这样的：

```
header("location:../login.php?error_message=$error_message"); 
```

这很好用，但在浏览器的地址栏中确实看起来很乱（尤其是描述性错误消息）。有没有办法在不使用 $_GET 变量的情况下进行这种自动重定向？我曾考虑使用 $_SESSION 变量，但这似乎不是最佳编码实践。

谢谢阅读。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-26T10:51:10.653

如果有一个更简单的 GET 变量呢？

```
// something.php
header ("Location: foo.php?err=1"); 
```

然后在处理错误的页面中：

```
// foo.php
$errors = array (
    1 => "Hello, world!",
    2 => "My house is on fire!"
);

$error_id = isset($_GET['err']) ? (int)$_GET['err'] : 0;
if ($error_id != 0 && in_array($error_id, $errors)) {
    echo $errors[$error_id];
} 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T10:52:09.117

如果您不想使用会话，则可以使用错误代码：

```
header('Location: ../login.php?error=' . urlencode($error_code)); 
```

然后，在里面`login.php`：

```
if (isset($_GET['error'])) {
    switch ($_GET['error']) {
        case 123: // ...
            break;
    }
} 
```

您可以使用查找数组代替笨重的开关，而不是使用查找数组来获取错误消息（可能取决于语言）。

顺便说一句，不建议在标头重定向中使用相对 URI，最好使用绝对（例如`/login.php`）或完全限定的 URI（例如`http://example.org/login.php`）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T10:57:39.690

对于表单验证，您有 3 个选项：

1.  使用 AJAX 进行验证 - 因此，根本不需要重定向。
2.  使用重定向和会话将错误消息与输入的数据**一起存储。**
3.  使用重定向作为POST/ Redirect [/GET模式的一部分](https://stackoverflow.com/a/7215138/285587)

我个人会为我的表格实施（1）和（3）。（1）为了普通用户的方便，（3）为了向后兼容像我这样的偏执狂。

对于基于重定向的验证，使用会话确实是一种最简洁的方式，因为它在任何情况下都不会在历史记录中留下任何 POST 页面。但是，在存在基于 AJAX 的验证的情况下，这似乎有点矫枉过正

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T10:49:10.287

您可以使用基于会话的 Flash 消息。

看这个例子： http: [//mikeeverhart.net/php/session-based-flash-messages/](http://mikeeverhart.net/php/session-based-flash-messages/)

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2013-03-26T10:51:30.610

使用会话是一个不错的选择。一旦显示错误，您就可以清除会话值。但是，如果您不想使用会话，您可以修改您的网址，如下所示。

```
// login failed
header("location:../login.php?status=0"); 
```

我更喜欢使用会话。

# php - MySQL存储过程中OUT的目的是什么？

> ID：15635092
> 
> 赞同：4
> 
> 时间：2013-03-26T10:46:37.647
> 
> 标签：php, mysql, stored-procedures

`OUT`MySQL存储过程的目的是什么？

如果我有一个如下所示的简单存储过程：

```
DELIMITER $$

CREATE DEFINER=`root`@`localhost` PROCEDURE `new_routine`(
    IN iID int
)
BEGIN
    select * from table1 where id = iID;
END 
```

这将通过运行为我提供我想要的所有结果：

```
call new_routine(7); 
```

那么我为什么要/需要使用`OUT`？

```
DELIMITER $$

CREATE DEFINER=`root`@`localhost` PROCEDURE `new_routine`(
    IN iID int,
    OUT vName varchar(100)
)
BEGIN
    select name into vName from table1 where id = iID;
END 
```

并这样称呼它

```
call new_routine(7, @name);
select @name; 
```

哪个只会给我名称而不是返回的行中的所有内容？

我试过谷歌搜索，但显然没有向谷歌询问正确的问题以获得明确的答案。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-26T10:49:52.680

正如 MySQL doc 所引用的那样[**`PROCEDURE`**](http://dev.mysql.com/doc/refman/5.0/en/create-procedure.html)

> 对于每个 OUT 或 INOUT 参数，在调用过程的 CALL 语句中传递一个用户定义的变量，以便在过程返回时获取其值。如果从另一个存储过程或函数中调用该过程，还可以将例程参数或局部例程变量作为 IN 或 INOUT 参数传递。

* * *

后来，一个例子：

```
mysql> CREATE PROCEDURE simpleproc (OUT param1 INT)
    -> BEGIN
    ->   SELECT COUNT(*) INTO param1 FROM t;
    -> END//
Query OK, 0 rows affected (0.00 sec) 
```

* * *

```
mysql> delimiter ; 
```

* * *

```
mysql> CALL simpleproc(@a);
Query OK, 0 rows affected (0.00 sec) 
```

* * *

```
mysql> SELECT @a;
+------+
| @a   |
+------+
| 3    |
+------+
1 row in set (0.00 sec) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-26T11:01:52.117

是的，你是对的，第二次调用你现在只会得到名字本身。

对于许多人来说，Out-Parameters 通常被认为是不好的做法，但如果您想要一个可以在调用后使用的值（显然也可以通过函数计算），它们会很方便。在大多数情况下，有一种更好的方法可以在不使用 out-parameters 的情况下实现你想要的。

但是，如果您愿意，唯一的“优势”是您在变量中而不是结果集中有一个值，如果您决定在 sql 或任何您想使用它的地方进一步使用该值，这可能看起来更方便。

所以在大多数情况下，你真的不应该使用 out-parameters，而是使用函数。如果您有返回结果集和输出参数的过程，请尝试将它们分解为更小的函数/过程以避免输出参数，因为阅读和维护并不好；）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-26T10:49:45.090

一些文档：[http](http://dev.mysql.com/doc/refman/5.0/en/call.html) ://dev.mysql.com/doc/refman/5.0/en/call.html也许它会有所帮助，引用：

> 要使用 OUT 或 INOUT 参数从过程中取回值，请通过用户变量传递参数，然后在过程返回后检查变量的值。（如果您从另一个存储过程或函数中调用该过程，您还可以将例程参数或局部例程变量作为 IN 或 INOUT 参数传递。）对于 INOUT 参数，在将其传递给过程之前初始化其值。以下过程有一个 OUT 参数，该过程设置为当前服务器版本，以及一个 INOUT 值，该过程从其当前值递增 1：

```
CREATE PROCEDURE p (OUT ver_param VARCHAR(25), INOUT incr_param INT)
BEGIN
  # Set value of OUT parameter
  SELECT VERSION() INTO ver_param;
  # Increment value of INOUT parameter
  SET incr_param = incr_param + 1;
END; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T10:50:01.417

OUT关键字的使用在下面的文章中说明

[13.2.1\. 调用语法](http://dev.mysql.com/doc/refman/5.0/en/call.html)

> CALL 可以使用声明为 OUT 或 INOUT 参数的参数将值传回给它的调用者。

# cocos3d - Cocos3d：纹理不显示

> ID：15635094
> 
> 赞同：0
> 
> 时间：2013-03-26T10:46:40.050
> 
> 标签：cocos3d

我创建了一个 Cocos3d iOS 项目并面临纹理显示问题。我的项目一直保存在这个链接下-> [https://www.yousendit.com/download/UVJpWmdzTkwzMW40WjhUQw](https://www.yousendit.com/download/UVJpWmdzTkwzMW40WjhUQw) 如果我们运行这个项目，我们可以看到一个示例房屋模型输出，其中屋顶在房屋中显示为纯白色。但是，实际上我已经在搅拌机中添加了屋顶纹理，并在 pod 中进行了转换。我不知道为什么在模拟器中运行代码时屋顶纹理显示不显示。请下载我的示例项目[https://www.yousendit.com/download/UVJpWmdzTkwzMW40WjhUQw](https://www.yousendit.com/download/UVJpWmdzTkwzMW40WjhUQw)并建议我。此项目源还包含其使用的 .blend、.dae、.pod 文件。

```
CC3PODResourceNode* podRezNode = [CC3PODResourceNode nodeWithName: @"RobotPODRez"];
podRezNode.resource = [IntroducingPODResource resourceFromFile: @"DieCube.pod"];

// If you want to stop the robot arm from being animated, uncomment the following line.
//  [podRezNode disableAllAnimation];

podRezNode.shouldCullBackFaces = NO;
podRezNode.location = cc3v(0.0, 0.0, 0.0);
podRezNode.isTouchEnabled = YES;
[self addChild: podRezNode]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:29:43.730

您的 DAE 文件不引用任何纹理：

**TestHouse.dae：**

```
 <library_images/> 
```

所以，你一定没有从 Blender 中导出它们。

# java - 使用 JRE 5/6 运行 Axis2 v. 1.6.2 生成的客户端需要哪些 jar？

> ID：15635098
> 
> 赞同：3
> 
> 时间：2013-03-26T10:47:00.123
> 
> 标签：java, jar, axis2

运行生成的 WebService 客户端需要**Axis2**发行版（版本**1.6.2** ）中的哪些 jar ？

二进制分发的库文件夹中有几个jar，但没有通知，需要哪些，在什么情况下？答案[Axis2 客户端的最小类路径是什么？](https://stackoverflow.com/questions/320178/whats-the-minimum-classpath-for-an-axis2-client/3581131#3581131)已过时 - 它是关于 1.5 版的，问题本身是关于 1.4 版的。

那么来自 1.6.2 发行版的 jar 是：

*   在 Java 1.6 及更高版本下需要？
*   Java 1.5 还需要
*   可选，仅在使用特定功能时？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-26T17:46:46.307

对于我们的 Axis2 客户端，我们包含这些 jar。我们使用 JDK 1.7，因此对于 JDK 1.5，您可能需要更多。您可能还需要其他 jars，具体取决于您使用的绑定（我们使用 xmlbeans）。

```
axiom-api-1.2.13.jar
axiom-impl-1.2.13.jar
axis2-adb-1.6.2.jar
axis2-kernel-1.6.2.jar
axis2-transport-local-1.6.2.jar
axis2-transport-http-1.6.2.jar
axis2-xmlbeans-1.6.2.jar
httpcore-4.0.jar
neethi-3.0.2.jar
wsdl4j-1.6.2.jar
XmlSchema-1.4.7.jar

```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T16:36:56.347

通常，对于这个问题的答案，您可以查看[Axis2 WAR 发行版](http://axis.apache.org/axis2/java/core/docs/installationguide.html#servlet_container)。这是一个 WAR 文件，您可以下载（或自己构建）。一切准备就绪，可以部署在 Tomcat 或其他 Web 应用程序容器中。

原则上，您可以在 tomcat 中部署一次 Axis2.war，然后在 Axis2 环境中部署单独的 AAR 文件（Axis2 服务）。因此，axis2.war 只提供了 Axis2 运行时环境。

# web-services - SoapUI：不返回响应的模拟服务

> ID：15635103
> 
> 赞同：2
> 
> 时间：2013-03-26T10:47:06.687
> 
> 标签：web-services, soap, mocking, soapui

是否有可能创建不返回响应但只是关闭连接的 SoapUI Mock 服务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T17:35:00.913

我很确定 SoapUI MockServices 无法满足您的要求。有一些涉及脚本的广泛可能性，甚至可以访问底层的 javax.servlet.http.HttpServletRequest 和 Response 对象。在这里查看详细信息：

[http://www.soapui.org/Service-Mocking/creating-dynamic-mockservices.html](http://www.soapui.org/Service-Mocking/creating-dynamic-mockservices.html)

使用脚本，可以在 SoapUI 中编写一个像这样的模拟服务请求处理程序，它只是重置和关闭输出流：

```
mockRequest.getHttpResponse().reset();
mockRequest.getHttpResponse().getOutputStream().close(); 
```

但是客户端仍然会看到 servlet 容器生成的这样的 HTTP 响应标头：

```
HTTP/1.1 200 OK
Content-Length: 0
Server: Jetty(6.1.x) 
```

通常不可能从 servlet 内部立即中止连接（这是 SoapUI 模拟服务的构建基础）。在这里查看有关此主题的信息：

[如何从 HttpServlet 关闭 HTTP 连接](https://stackoverflow.com/questions/3107631/how-to-close-a-http-connection-from-the-httpservlet)

我会使用与 SoapUI 完全不同的东西，很可能是 PHP 或 Perl 之类的脚本技术来实现您的要求。

# ektron - Ektron 错误日志

> ID：15635105
> 
> 赞同：7
> 
> 时间：2013-03-26T10:47:17.703
> 
> 标签：ektron

在 Ektron 中，如何处理错误或异常。有什么方法可以处理吗？Ektron DB 中的任何表都存储错误或异常。我们如何使用 Ektron.Cms.EkException 类处理事件？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T08:36:09.570

您可以使用 Ektron.Cms.Instrumentation 类中的辅助函数。您需要在配置文件中启用一些设置才能使用这些功能。

Web.config：将 LogLevel 更新为“4”

> ```
> <!-- Determines the level of messages that are logged
>     1 = Error:  Only Errors are logged.
>     2 = Warning:  Only warnings and Errors are logged.
>     3 = Information:  Only Informationals, Warnings, and Errors are logged.
>     4 = Verbose:  Everything is logged.
>     
>     NOTE: you can configure where each message level is logged using the instrumentation.config.
>   -->
>         <add name="LogLevel" value="4"/> 
> ```

Instrumentation.config：

将“跟踪”添加到“详细”

> ```
> <add switchValue="All" name="Verbose">
>   <listeners>
>     <add name="Event Log" />
>     <add name="Trace" />
>   </listeners>
> </add> 
> ```

一旦在配置文件中进行了这些更改，您就可以使用辅助函数。

例如，

> 异常 ex=new Exception("测试异常");
> 
> Ektron.Cms.Instrumentation.Log.WriteError(ex);

（探索 Ektron.Cms.Instrumentation 类了解更多细节）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-27T11:45:56.013

默认情况下，错误会记录到事件查看器中。在“应用程序”下

# security - 如何使用没有密码的证书

> ID：15635106
> 
> 赞同：1
> 
> 时间：2013-03-26T10:47:18.450
> 
> 标签：security, certificate

我有一个使用 2 类数字证书来下载一些文件的应用程序。我知道这不是一个好主意，但应用程序会自动处理密码的输入。

现在一个新客户想要这个应用程序，但他们不想给我密码，因为他们害怕我可以用他们的证书+密码做任何事情。

有什么办法可以：

*   使用证书下载文件而无需知道密码。

或者

*   获取第二个证书，它只能让我从某个 URL 下载文件。

任何有关这些主题的帮助将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T14:55:08.850

> 使用证书下载文件而无需知道密码。

不可能的。密码用于加密私钥材料。由于不知道密码，不知道私钥，因此无法使用证书进行身份验证。

但是，请注意，密码的熵比密钥少得多。如果您的客户没有想到一个好的密码，那么通过蛮力猜测它可能相对容易。[该网站](http://boredwookie.net/index.php/blog/certificate-password-recovery-tool/)声称您每天可以进行大约 3000 万次密码尝试。然后，假设密码为 28 字节的熵（即 2^28 种组合），您可以在一两周内猜出密码。

![密码熵](../Images/9d42f3918f5c5c941198272c510550af.png)

> 获取第二个证书，它只能让我从某个 URL 下载文件。

这部分问题取决于服务器接受哪些证书......

# html - 文本框问题中奇怪的 Chrome 呈现文本

> ID：15635111
> 
> 赞同：1
> 
> 时间：2013-03-26T10:47:35.390
> 
> 标签：html, google-chrome

![在此处输入图像描述](../Images/45825c0301e50b4a67d812c4ee13a195.png)

正如您在这张图片中看到的，我有一个文本框，当用户单击文本框并开始输入时，占位符会消失，您开始输入。尽管你在第一行输入了什么，文本以一种奇怪的方式呈现。

![在此处输入图像描述](../Images/6224f95ac7de4db9e0d5cecf3104dad4.png)

如果您仔细查看屏幕截图，您会看到 g 周围的白线以及沿线的白线，一旦您放下一条线，这些白线就会消失，所以这与占位符有关吗？

在此处查看实际操作 [http://joshhornby.co.uk/typewriter/](http://joshhornby.co.uk/typewriter/)

# java - 等待阻塞队列时中断

> ID：15635114
> 
> 赞同：0
> 
> 时间：2013-03-26T10:47:46.320
> 
> 标签：java, multithreading, concurrency, executorservice

我有一个`Runnable`从`Executor`.
可运行对象被阻塞在`SychronousQueue.take`. 我怎样才能确保`take`我这样做时会被打断`executor.shutdown`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T12:10:00.047

+1 给@Eugene。 `ExecutorService.shutdown()`关闭线程池，但任何提交的作业将继续运行，直到完成。如果你改用[`shutdownNow()`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html#shutdownNow%28%29)它，它实际上会中断线程。这并不意味着它们会立即停止，但它确实意味着如果它们被阻塞`queue.take()`或下一次调用`queue.take()`它会抛出一个`InterruptedException`这样线程就可以退出。

引用 Javadocs：

> 尝试停止所有正在执行的任务，停止等待任务的处理，并返回等待执行的任务列表。
> 
> 除了尽最大努力停止处理正在执行的任务之外，没有任何保证。例如，典型的实现将通过 Thread.interrupt() 取消，因此任何未能响应中断的任务可能永远不会终止。

当您的线程调用`queue.take()`时，它们应该具有类似于以下代码的内容：

```
 try {
      work = queue.take();
      ...
  } catch (InterruptedException e) {
      // re-interrupt the thread which is always a good pattern
      Thread.currentThread().interrupt();
      // quit the processing thread
      return;
  } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-26T10:59:15.817

你可以做这样的事情可能吗？

```
 executor.shutdown();
    if (!executor.awaitTermination(SHUTDOWN_TIME)) {
        executor.shutdownNow();
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T11:03:27.620

正如[take 的 javadoc 中](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/SynchronousQueue.html#take%28%29)`InterruptedException`所指定的，当线程等待被中断时，它会抛出一个。因此，您需要确保您的执行程序实现将调用[Thread.interrupt()](http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#interrupt%28%29)在它拥有的所有线程上`shutdown`。

# d3.js - D3Js 折线图 - 将数据点与刻度对齐

> ID：15635119
> 
> 赞同：0
> 
> 时间：2013-03-26T10:48:10.983
> 
> 标签：d3.js

如果您注意到 x 轴刻度线（小时）和数据点（圆圈）未正确对齐，请在图表[http://jsbin.com/edikeg/98/edit中。](http://jsbin.com/edikeg/98/edit)有人可以让我知道如何对齐这些。

谢谢，拉吉

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T15:17:41.690

您必须更具体地说明如何发现它们未对齐。

![标尺覆盖在图形上以检查对齐情况](../Images/63d9efdffacef4b61b8c11fc8536b678.png)

# c# - 使用 Fluent Validation 验证输入字符串的某些部分

> ID：15635120
> 
> 赞同：5
> 
> 时间：2013-03-26T10:48:11.893
> 
> 标签：c#, asp.net, asp.net-mvc-3, asp.net-mvc-4, fluentvalidation

我正在使用`ASP.NET 4`和`Fluent Validation`。

我正在尝试设置一个规则来检查我的用户名是否以“adm”开头。

我有以下内容，给我错误。我尝试按照在线示例进行操作，但它不起作用：

```
RuleFor(x => x.UserName)
     .NotNull()
     .WithMessage("Required")
     .Must(x => x.UserName.StartsWith("adm"))
     .WithMessage("Must start with ADM"); 
```

我不认为我做得对吗？

我已经尝试过：

```
.Must(x => x.UserName.Substring(0, 3) == "adm") 
```

两者的错误：

```
Delegate 'System.Func<MyProject.ViewModels.LogOnViewModel,string,bool>' does not take 1 arguments 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-26T10:54:25.410

尝试`.Must(str => str.StartsWith("adm"))`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-01-18T14:05:37.480

```
RuleFor(f => f.UserName).NotNull();
RuleFor(f => f.UserName).Must((f, t) => f.UserName.StartsWith("adm")).WithMessage("Must start with ADM"); 
```

我是这样解决的。

# python - 通过 node.js 将任务传递给 python

> ID：15635121
> 
> 赞同：0
> 
> 时间：2013-03-26T10:48:12.020
> 
> 标签：python, node.js

嗨，我计划在 node.js 中开发一个用于我们公司内部的 webapp。该应用程序将主要执行批量 xml 文件修复任务。我希望我的用户只需上传一个包含应用程序将处理的所有 xml 文件的 zip 文件，然后将其发送回他们以供下载。是否可以将此 xml 文件修复任务传递给 python（主要是因为 lxml 模块）。在 python 完成任务后，它会告诉 node.js 输出的位置，然后 node.js 会通知用户。

我打算这样做`exec('python fix.py someOptions', callback)`。这种方法有副作用吗？

PS：我正在使用带有cygwin的Windows XP

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:32:37.303

我已经在 Windows XP（官方二进制文件）上使用 node.js v0.8.18 对此进行了测试

```
var spawn = require('child_process').spawn,
    pythonProcess = spawn('python', ['fix.py', 'someOptions']);

pythonProcess.stdout.on('data', function(data) {
   console.log('stdout: ' + data);
});

pythonProcess.stderr.on('data', function (data) {
  console.log('stderr: ' + data);
});

pythonProcess.on('close', function (code) {
  console.log('child process exited with code ' + code);
}); 
```

# jquery - 如何在 MVC 3 视图中的 JS 中获取模型项数据？

> ID：15635123
> 
> 赞同：0
> 
> 时间：2013-03-26T10:48:14.363
> 
> 标签：jquery, asp.net-mvc, asp.net-mvc-3

我正在开发一个 MVC 应用程序。我在索引视图/表格中显示数据。

我在最后一列中添加了额外的复选框。当用户单击该复选框时，我想从该选定/选中行的特定列中获取值。

我试图在 JS 的警报窗口中显示该值，但它没有显示。

怎么做。

```
 @model PagedList.IPagedList<PaymentAdviceEntity.PaymentAdvice>

            <table class="table table-striped">
                <tr>
                    <th>Company
                    </th>
                    <th>
                       Amount
                    </th>
               </tr>

         @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Company.Name)
                        </td>
                        <td>
                             @Html.DisplayFor(modelItem => item.SanctionedAmount,"sAmount","sAmount")
                        </td>
                        <td>

    @Html.CheckBox("IsPaid", (bool)item.IsPaid, new { @value=item.Id,@class="IsPaid-"+item.Id})

                   </td>
                    </tr>
    </table>

<script type="text/javascript">

           $("input[type='checkbox']").click(function () {

                if ($(this).is(":checked"))
                {
                    var nPaid = $("#sAmount").val();
                    alert(nPaid);
                }

               });
        </script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T10:59:22.707

您应该包装 js 代码以准备好文档。

```
 <script type="text/javascript">
       $(function(){
         //TO DO smt
         });
       });
    </script> 
```

你需要使用不同`id`的`foreach`. 例如

```
 @Html.DisplayFor(modelItem => item.SanctionedAmount, string.Format("sAmount{0}", item.Id),"sAmount") 
```

或使用 $(this).parent 更改您的 jquery 选择器...

所有代码将是：

```
 @model PagedList.IPagedList<PaymentAdviceEntity.PaymentAdvice>

        <table class="table table-striped">
            <tr>
                <th>Company
                </th>
                <th>
                   Amount
                </th>
           </tr>

     @foreach (var item in Model)
            {
                <tr>

                    <td>
                        @Html.DisplayFor(modelItem => item.Company.Name)
                    </td>

                    <td>
                         @Html.DisplayFor(modelItem => item.SanctionedAmount,"sAmount",new {id = string.Format("sAmount{0}", item.Id)})
                    </td>

                    <td>

@Html.CheckBox("IsPaid", (bool)item.IsPaid, new { @value=item.Id,@class="IsPaid-"+item.Id})

                 </td>
                </tr>
</table>

<script type="text/javascript">
$(function() {
    $("input[type='checkbox']").click(function () {
        if ($(this).is(":checked")) {
            var v = parseInt($(this).val(), 10);
            var s = 1;
            var nPaid = $("#sAmount" + v).val();
            alert(nPaid);
        }
    });
}) 
```

# css - Css / HTML5 - 需要帮助让 youtube 弹出窗口出现使用 fancybox2

> ID：15635127
> 
> 赞同：0
> 
> 时间：2013-03-26T10:48:26.027
> 
> 标签：css, html, fancybox-2

我一直在努力使用“fancybox”让一个 youtube 视频在 HTML5 中作为弹出窗口播放。只有我不能让它弹出！相反，它似乎总是打开页面本身，这完全违背了这一点。我可以就如何解决这个问题提出一些建议，你能帮忙吗？我查看了堆栈溢出，但没有找到这个用例的明确答案。

```
 <!DOCTYPE HTML>
<html>
    <head>
        <!--fancy box-->
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
        <!-- /fancy box-->
        <!--fancy box-->
        <script type="text/javascript" src="fancybox/jquery.fancybox.pack.js"></script>
        <link rel="stylesheet" href="fancybox/jquery.fancybox.css" type="text/css" media="screen" />
        <script>
            $(document).ready(function() {

            /* This is basic - uses default settings */
            $("a#single_image").fancybox();
            /* Using custom settings */
            $("a#inline").fancybox({
                'hideOnContentClick': true
            });
            /* Apply fancybox to multiple items */
            $("a.group").fancybox({
                'transitionIn'  :   'elastic',
                'transitionOut' :   'elastic',
                'speedIn'       :   600, 
                'speedOut'      :   200, 
                'overlayShow'   :   false
            });

        });
        </script>
        <!-- /fancy box-->

    </head>
    <body>

                            <a class="fancybox-media" href="http://www.youtube.com/watch?v=opj24KnzrWo&autoplay=1">Youtube</a><br>
                            <a class="iframe" href="http://www.youtube.com/watch?v=opj24KnzrWo&autoplay=1">This goes to iframe</a><br >
                            <a class="iframe" href="http://www.example.com">This goes to iframe</a><br>
                            <a class="various iframe" href="http://www.youtube.com/embed/L9szn1QQfas?autoplay=1">Youtube (iframe)</a>

    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T13:02:37.060

好的，试试这个：确保脚本和 css 的链接是正确的。在我的情况下，子文件夹是 js 和 css。

第一个链接包括一个 youtube 视频 第二个链接是一个图像。

```
<!DOCTYPE HTML>
<html>
<head>
    <!--fancy box-->
    <script type="text/javascript" src="js/jquery-1.9.0.js"></script>
    <!-- /fancy box-->
    <!--fancy box-->
    <script type="text/javascript" src="js/jquery.fancybox.js"></script>
    <link rel="stylesheet" href="css/jquery.fancybox.css" type="text/css" media="screen" />
    <script>
        $(document).ready(function() {

        $(".various").fancybox({
            maxWidth    : 800,
            maxHeight   : 600,
            fitToView   : false,
            width       : '70%',
            height      : '70%',
            autoSize    : false,
            closeClick  : false,
            openEffect  : 'none',
            closeEffect : 'none'
        });

    });
    </script>
    <!-- /fancy box-->

</head>
<body>

    <ul class="list">

        <li>
            <a class=" various fancybox.iframe" href="http://www.youtube.com/embed/L9szn1QQfas?autoplay=1">youtube</a>
        </li>
        <li>
            <a class="various" href="http://androidactivist.org/wp-content/uploads/2012/03/draw-something-koopa.jpg" title="Lorem ipsum dolor sit amet"><img src="http://androidactivist.org/wp-content/uploads/2012/03/draw-something-koopa.jpg" alt="" /></a>
         </li>
    </ul> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:01:36.380

您必须使用与fancybox 用于iframe 的类相同的类：“fancybox.iframe”

还使用嵌入的 youtube 链接。然后一切正常。

```
<a class="various fancybox.iframe" href="http://www.youtube.com/embed/usiOu1ZKJ4o">Youtube (iframe)</a> 
```

.

```
 $(".various").fancybox({
                maxWidth    : 800,
                maxHeight   : 600,
                fitToView   : false,
                width       : '70%',
                height      : '70%',
                autoSize    : false,
                closeClick  : false,
                openEffect  : 'none',
                closeEffect : 'none'
            }); 
```

使用最新的 jquery 库，现在最新的是 1.9 你使用的是 1.4。

并且还使用 fancybox.js 而不是 fancybox.pack.js。这应该够了吧！！并且还使用fancybox.iframe作为一个类结合另一个类来触发fancybox功能

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T10:54:05.077

您正在从 javascript 中选择不存在的元素，请检查锚标签的 ID 和类...例如，“ **a#single_image ”应该引用属性为****id='single_image'**的锚标签，但不存在,fancybox 无法初始化。同样适用于**a#inline**和**a.group**（它期望锚中的 class='group' ）

# forms - 使用 onclick 操作发送变量

> ID：15635128
> 
> 赞同：0
> 
> 时间：2013-03-26T10:48:30.520
> 
> 标签：forms, onclick

当用户单击图像时，我想通过 onclick 事件发送我的变量。

Netbeans 说以下错误消息：

> 未报告的异常 java.security.spec.InvalidKeySpecException; 必须被抓住或宣布被扔掉

这是代码：

```
 HTMLCode+="<td width='40' style='border:1px solid #99a1ba' align='center'><img     src='../images/";
 HTMLCode+="empty.png'</td>";
 HTMLCode+="onclick=\"window.open('availability.jsp?";
 HTMLCode+=TMAXSSProtect.encrypt("user="+person.getPersonID()+"&clickeddate="+today2.get(Calendar.DATE))+"','_self')\"></td>";

 today2.add(today2.DATE, 1);
 HTMLCode+="</td>"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:01:59.643

尝试围绕您的代码编写一个“try catch”。也许这有帮助

# actionscript-3 - 播放声音时动画停止

> ID：15635132
> 
> 赞同：1
> 
> 时间：2013-03-26T10:48:42.107
> 
> 标签：actionscript-3, flash

当我播放声音时，通常是第一次，但有时在随后的时间里，我的应用程序的当前播放动画会停止。

我将所有 Sound 对象存储在名为 Jukebox 的类中的静态变量中。在我的代码中的任何地方，我都需要播放声音，我调用了名为 playSfx() 的 Jukebox 的静态方法。

以下是相关代码：

```
public static function
playSfx( snd:Sound, vol:Number = 1 ):void
{
    _channelSfx = snd.play();
    _transform = _channelSfx.soundTransform;
    _transform.volume = vol;
    _channelSfx.soundTransform = _transform;
} 
```

任何帮助将不胜感激。干杯!

# hibernate - 在 Hibernate 中使用查询作为实体属性

> ID：15635133
> 
> 赞同：1
> 
> 时间：2013-03-26T10:48:44.520
> 
> 标签：hibernate, annotations

我有一个实体，其字段声明为：

```
@OneToMany(mappedBy="xxxx")
private List<MyObject> myObjects; 
```

我想添加一个属性，该属性将是该列表的单个元素。是否可以直接使用注释来做到这一点？

就像是 ：

```
@Query("FROM XXXX WHERE effectivityDate=currentDate")
private MyObject mySpecificObject; 
```

这可能还是我必须创建一个经典的 DAO 查询？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T10:56:20.003

你为什么要这样做？您在 List 上有该信息（但使用 Set 会更好）。您可以使用 Open-session-in-view 模式从视图层访问*mySpecificObject*属性（或创建 MySpecificObjectDetails 类并将每个 mySpecificObject 的信息保存在 Set 上）。

# clojure - func 的惯用用例，它返回一个 func

> ID：15635137
> 
> 赞同：0
> 
> 时间：2013-03-26T10:49:00.053
> 
> 标签：clojure

```
(defn sort-map-by-value
  "Given a map return a sorted map, in which the sort is done on the map's values, instead of keys.
   Takes a function as an input, which will be used  for sorting"
  [cf kf]
  (fn [m]
    (->> m
         map-invert
         (into (sorted-map-by #(cf (kf %1) (kf %2))))
         map-invert)))

(defn date-time-comparator
  "Predicate function for comparing two date-time's"
  [time1 time2]
  (before? time1 time2))

(defn get-time-value
  "Function for extracting the date-time from the value of the given map."
  [v]
  (-> v first :time))

(def sort-map-by-date (sort-map-by-value date-time-comparator get-time-value))

(sort-map-by-date {"3-19-2013" [{:time (date-time 2013 3 19 12 14 45)}]
                         "3-9-2013" [{:time (date-time 2013 3 9 16 46 49)}]
                         "2-25-2013" [{:time (date-time 2013 2 25 2 38 15)}]
                         "3-14-2013" [{:time (date-time 2013 3 14 7 19 23)}]
                         "2-8-2013" [{:time (date-time 2013 2 8 12 44 47)}]
                         }) 
```

我试图了解使用高阶函数的惯用模式是什么。专门针对返回函数的函数。第一个函数 sort-map-by-value，以 2 个 fns 作为参数并返回一个以 map 作为参数的函数。

上述函数也可以将这三个函数、2 个函数和映射作为参数。所以在这种情况下不需要创建一个返回另一个函数的函数。需要它的情况是什么。或者换句话说，引入返回函数的函数的惯用模式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T06:07:09.270

I agree with the previous response about `partial`. And then there's `comp` which takes multiple fn's as input and returns the composition of them as output.

Here's an example that might help, although the output isn't quite a fn. I wanted to have background threads repeatedly executing some tasks in regular intervals. Each background thread executes one specific task, but the task differs from one thread to the next. So it made sense to have a HOF that takes a fn representing the task to repeat and returns a Thread, where the Thread is created that performs the input fn incessantly. The input fn is made to execute non-stop inside the Thread by being wrapped within a `repeatedly` form.

`partial` is the most likely way in which a HOF where the input and output are both a single fn each. The example I gave is what happens when the input fn is needed only for its side effects, so there's no point for the HOF's output to be a fn, if there the HOF has an output at all.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:25:25.570

如果函数也将地图作为参数，则可以使用部分函数应用程序来实现所示的示例。

基本上，返回函数的函数是部分应用程序的特定情况，即您不会将所有参数传递给函数，作为回报，您会得到一个函数，该函数将获取剩余的参数并执行原始函数。我个人喜欢使用部分应用程序使用`partial`或使用匿名函数来创建部分函数（例如：）`#(map inc %)`。

为什么我们需要它们？一方面，当您使用函数组合进行编程时，它们充当粘合剂。例如：

您想编写一个函数，递增向量中的每个数字，然后将其反转。

您可以在没有函数组合的情况下编写它：

```
(defn foo [v]
   (reverse (map inc v))) 
```

使用函数组合：

```
(def foo (comp reverse (partial map inc))) 
```

这可能不是最好的例子，但我希望你能明白。

另一个例子可能是包装函数。他们将输入作为一个函数并返回另一个函数（它与原始函数具有相同数量的参数）并在执行原始函数之前或之后执行某些操作（例如：Ring 中间件）

# authentication - MVC4、UnitOfWork + DI和SimpleAuthentication..如何解耦？

> ID：15635139
> 
> 赞同：0
> 
> 时间：2013-03-26T10:49:03.990
> 
> 标签：authentication, asp.net-mvc-4, dependency-injection, unit-of-work, simplemembership

我目前正在开发一个 MVC4 项目，如果 Ninject 将 UnitOfWork 注入到我的控制器中，我会使用它，并且我正在使用 UnitOfWork + Generic Repository 模式。

我不喜欢 VS2012 MVC4 模板，因为它直接使用数据库访问（例如数据库初始化）。

我的项目分为：

*   带有表单身份验证的 UI 项目（mvc4 应用程序）

*   一个域项目（数据库实体、存储库、UnitOfWork 接口加上两个 UnifOfWork 实现，一个带有 MOQ，一个带有 EF；它们通过 Ninject 注入 UI 控制器）。

我看了这个例子：

[http://kevin-junghans.blogspot.it/2013/03/decoupling-simplemembership-from-your.html](http://kevin-junghans.blogspot.it/2013/03/decoupling-simplemembership-from-your.html)

与这个问题有关

[SimpleMembership - 有人让它对 n 层友好吗？](https://stackoverflow.com/questions/15006532/simplemembership-anyone-made-it-n-tier-friendly/15162535#15162535)

现在我有一个问题：

*   我怎样才能在这里注入我的 UoW？WebSecurity 类是静态的，没有构造函数，它直接实例化 UoW 以在 db 上执行活动......

*   我总是必须初始化 WebMatrix 才能直接访问数据库？这段代码：

    ```
     public static void Register()
    {
        Database.SetInitializer<SecurityContext>(new InitSecurityDb());
        SecurityContext context = new SecurityContext();
        context.Database.Initialize(true);
        if (!WebMatrix.WebData.WebSecurity.Initialized)
            WebMatrix.WebData.WebSecurity.InitializeDatabaseConnection("DefaultConnection",
                "UserProfile", "UserId", "UserName", autoCreateTables: true);
    } 
    ```

打破了我与域的解耦.. 例如，我如何使用我的 UnitOfWork 制作 WebSecurity？最佳做法是什么？

*   我如何存储其他数据（例如，EmailAddress 等）并检索它，而无需在每次必须访问用户配置文件时执行数据库查询？类似于旧的 CustomPrincipal ... [ASP.NET MVC 中的自定义主体](https://stackoverflow.com/questions/3763221/custom-principal-in-asp-net-mvc)

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-27T15:09:23.587

你有很多问题在这里 Marco。让我对他们刺一下。

**如何注入 UOW**

[正如本 QA 所指出的，](https://stackoverflow.com/questions/3228368/injecting-a-dependency-into-a-static-class)静态类和依赖注入不能很好地混合。正如您引用的文章中所讨论的那样，当我第一次进行 SimpleMembership 解耦练习时，我的注意力只是与域解耦。这只是第一步，还可以改进，包括使依赖注入更容易。我讨论过是否将 WebSecurity 设为静态并选择了静态，因为这就是原始 SimpleMembership 的实现方式，使其成为[SimpleSecurity用户的更无缝过渡](https://simplesecurity.codeplex.com/). SimpleSecurity 是一个开源项目，欢迎贡献。使它成为非静态的并不困难，从长远来看可能是有意义的。一旦它变成非静态的，我们就可以使用工厂模式来创建 UnitOfWork 并注入适当的工厂。

**为什么我必须注册 WebSecurity？**

SimpleSecurity 只是需要初始化的 WebMatrix WebSecurity 类的包装器。Register 方法只是确保 WebMatrix 已初始化并初始化我们的数据库。我不同意在 Globa.asax 中调用此方法会以任何方式将其与域耦合。让它与您的 UnitOfWork 一起工作应该与应用程序域无关，或者与在应用程序启动时必须调用注册方法无关。

**我如何存储其他数据（例如：电子邮件）并检索它，而无需每次都执行数据库查询？**

这实际上在 .NET 4.5 中通过使用[ClaimsPrincipal](http://msdn.microsoft.com/en-us/library/system.security.claims.claimsprincipal.aspx)很容易完成。.NET 4.5 中的所有主体都继承自 ClaimsPrincipal，这允许您将信息作为声明存储在主体中。声明基本上是键值对，可让您在用户上存储任何类型的数据。例如，在 ASP.NET 中，用户的角色存储为声明。要添加您自己的声明，您需要执行一些称为[声明转换](http://leastprivilege.com/2012/04/04/identity-in-net-4-5part-2-claims-transformation-in-asp-net-beta-1/)的操作。然后要检索信息，您可以[创建自定义声明主体](http://leastprivilege.com/2012/10/08/custom-claims-principals-in-net-4-5/)。将此添加到[SimpleSecurity](https://simplesecurity.codeplex.com/)将是一个不错的功能。

# windows - Windows 程序的系统调用

> ID：15635151
> 
> 赞同：0
> 
> 时间：2013-03-26T10:49:34.400
> 
> 标签：windows, operating-system, system-calls

是否可以记录指定程序进行的所有系统调用？例如，我有一个 GUI 工具，包装了一些基于命令行的工具。我需要知道它是如何启动命令行程序的，它在做什么文件操作。实际上，我想在集成目的中重复此操作。

**UPD：** [API Monitor](http://www.rohitab.com/apimonitor)完成了这项工作

CreatePorocessA API 调用 - 显示所选进程正在调用的外部程序和参数

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T10:53:36.153

这些东西可以派上用场，以防万一...

[http://j00ru.vexillium.org/?p=1010](http://j00ru.vexillium.org/?p=1010)

[http://billauer.co.il/blog/2010/07/strace-ltrace-win32-api-dll/](http://billauer.co.il/blog/2010/07/strace-ltrace-win32-api-dll/)

第二个在其他情况下帮助了我..让我知道它是否适合您...！

# internet-explorer-8 - Internet Explorer 8中标题标签中的角度表达式不起作用

> ID：15635157
> 
> 赞同：3
> 
> 时间：2013-03-26T10:50:00.067
> 
> 标签：internet-explorer-8, angularjs

我想显示通过角度呈现的标题。它在 chrome 或 firefox 等浏览器以及互联网 9 和 10 中运行良好。

ng-app 在 html 标签中定义。

标题标签如下所示：

```
<title>    
{{resultListQuery.selectedPropertiesSummary}} in {{resultListQuery.geoCodingResult.locationName}}
</title> 
```

任何人都可以帮助我吗？您需要有关该应用程序的更多信息吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-06-26T18:51:26.273

您可以使用`$window.document.title`来设置您的标题而无需绑定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-02T18:16:08.617

这是跨浏览器解决方案。ng-bind 和 ng-bind-template 永远不会工作，因为它们使用 element.text()，它永远不会在 IE8 上工作。

```
myModule.run(function($interpolate, $window) {
   ...
   $rootScope.$watch(function() {
      return $interpolate(myTitleTemplate)($myScope);
   }, function(title) {
      $window.document.title = title;
   })
   ...
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T13:48:35.670

你必须使用：

```
<title ng-bind-template="foo {{pageTitle}} bar"></title> 
```

或者，您也可以使用`ng-bind`，但`ng-bind-template`还有一个额外的优势，即它允许您在其中拥有多个`{{}}`表达式。

# java - jasper 向主报告报告子报告

> ID：15635168
> 
> 赞同：0
> 
> 时间：2013-03-26T10:50:15.777
> 
> 标签：java, jasper-reports

我正在尝试对先前开发的 Web 应用程序的报告进行一些更改，我已经使用了两个`.jrxml`文件`.jasper`来编辑这些文件：

```
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JasperCompileManager;
public class CompileReport {

public static void main(String[] args) {
    try {
....  
JasperCompileManager.compileReportToFile("C:\\Users\\rohinkumar\\workspace\\  \\src\\resources\\\\old.jrxml","C:\\Users\\rohinkumar\\workspace\\\\WebContent\\old.jasper");
                } 
catch (JRException e) {
    e.printStackTrace();
        }
    }
} 
```

当我尝试在 ireport 中编辑主报告并构建它时，我可以在日志中看到错误评估表达式错误。

我认为主报告无法访问从子报告传递的参数

# opencv - 如何计算opencv中Mat的列差？

> ID：15635171
> 
> 赞同：3
> 
> 时间：2013-03-26T10:50:24.390
> 
> 标签：opencv, computer-vision, mat

是否有任何函数来计算 Size(width,1) Mat 差异的列，例如： `mat.at(i+1,1)-mat.at(i,1);` 非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:26:49.367

尝试这个： `mat.col(i+1) - mat.col(i)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:04:22.050

您可以`Mat`从原始的创建两个。第一个从第 1 列到`cols`，第二个从第 0 列到`cols - 1`，并使用正常减法，`mat1 - mat2`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-21T05:55:42.803

@Barshan Das 的回答效果很好！只是一个小小的补充，对于**整个 Mat 结构**，为了得到 i+1 和 i 列的差异，我发现这很有用

```
mat.colRange(1, im.size().width) - mat.colRange(0, im.size().width - 1); 
```

# memory - Ncurses 'new_item' 函数内存泄漏或我做错了什么？

> ID：15635180
> 
> 赞同：1
> 
> 时间：2013-03-26T10:50:42.773
> 
> 标签：memory, dictionary, memory-leaks, ncurses

我在 Ncurses 中制作日历，这意味着我必须动态分配和释放内存。问题是 Valgrind --leak-check=full 在 new_item 函数中显示内存泄漏。这是我的代码。我究竟做错了什么？

```
unordered_map<int, ITEM**> 

void NcurInterface::printMenu(GUIITEMS menu, GUIITEMS win)
{   
    typedef ITEM *items;
 // Create items
    int i;
    items *mitem = (ITEM**)new items[manager->getNmbMenuItems(menu) + 1];
    for(i = 0; i < manager->getNmbMenuItems(menu); i++) {
        mitem[i] = new_item(manager->getMenuItemsString(menu, false, i).c_str(), manager->getMenuItemsString(menu, true, i).c_str());
    }
    mitem[i] = ((char)NULL);
    setMenuItems(menu, mitem); // Insert in map
}

void NcurInterface::freeMenuItems(GUIITEMS menu)
{   
    items *clr = menuItems[menu];
        for(unsigned char i = 0; i < manager->getNmbMenuItems(menu) + 1; i++) {
            free_item(clr[i]);
        }
    menuItems.erase(menu);
    delete[] clr;
} 
```

Valgrind 输出

> 2 个块中的 1,056（192 直接，864 间接）字节在 0x4C282B8 处的 92 个丢失记录 62 中肯定丢失：calloc（在 /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so 中）由 0x5491226：new_item（在 /usr /lib/x86_64-linux-gnu/libmenu.so.5.9) by 0x4137BC: NcurInterface::printMenu(GUIITEMS, GUIITEMS) (NcurInterface.cpp:220) by 0x413467: NcurInterface::updateMenu(GUIITEMS, GUIITEMS, GUIITEMS) (NcurInterface .cpp:185) 由 0x417810: 主要 (NcurInterface.cpp:754)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-03T22:17:18.607

OP写道：

> 问题解决了！菜单必须先取消发布，然后才能释放，最后才能释放项目。没有更多的内存泄漏！

# android - 布局显示在模拟器上但未完全显示在手机上

> ID：15635181
> 
> 赞同：0
> 
> 时间：2013-03-26T10:50:44.060
> 
> 标签：android, layout

我有一个嵌套的线性布局。在我的模拟器上，完整的布局是可见的。但在我的手机上，布局并没有完全显示出来。它被夹在中间。它不显示最底部的元素。

如何使布局完全适合我的屏幕？

它在我手机上的外观截图：

![它在我手机上的外观截图：](../Images/05d3123af836ed7310da339f2d26a7a6.png)

这是我的代码：

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@raw/bg1"    
    android:orientation="vertical">

    <LinearLayout
        android:layout_marginTop="20dp"
        android:layout_marginLeft="20dp"
        android:layout_marginRight="20dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"         
        android:orientation="horizontal">

        <ImageView
        android:id="@+id/imageView1"
        android:layout_width="60dp"
        android:layout_height="60dp"       
        android:src="@drawable/logo" />

        <TextView
        android:id="@+id/textView1"
        android:layout_marginLeft="10dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" 
        android:layout_gravity="center"       
        android:text="Large Text"
        android:textAppearance="?android:attr/textAppearanceLarge" />    

    </LinearLayout>

     <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:layout_marginTop="30dp"
        android:layout_centerHorizontal="true"        
        android:text="Button" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="30dp"
        android:layout_marginLeft="20dp"
        android:layout_marginRight="20dp" 
        android:orientation="horizontal">

        <EditText
        android:id="@+id/editText1"
        android:background="#33FFFFFF"
        android:layout_width="200dp"
        android:layout_height="200dp"   />

        <ImageButton
        android:id="@+id/imageButton1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10dp"
        android:layout_marginTop="65dp"       
        android:src="@drawable/ic_talk" />

    </LinearLayout>

    <Button
        android:id="@+id/button2"
        style="?android:attr/buttonStyleSmall"
        android:layout_gravity="center"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Button" />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:05:20.183

如果您使用权重，无论屏幕大小如何，您都会得到相同的结果。在这种情况下，我认为这是您的问题。在此页面上进行了解释：http: [//developer.android.com/training/basics/firstapp/building-ui.html](http://developer.android.com/training/basics/firstapp/building-ui.html)

例如：

```
<EditText android:id="@+id/edit_message"
        android:layout_weight="1"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:hint="@string/edit_message" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:02:16.450

这是因为您将元素的宽度、高度和边界声明为静态数字。您的设备和模拟器的尺寸必须不同，并且您具有硬编码值，使其能够在模拟器上正确显示，但不能在任何其他设备上显示。阅读[本文](http://developer.android.com/guide/topics/ui/declaring-layout.html)以了解如何正确制作布局。

# gwt - 使用要在跨上下文属性中检查的请求参数保护 GWT 应用程序

> ID：15635184
> 
> 赞同：0
> 
> 时间：2013-03-26T10:50:56.970
> 
> 标签：gwt, spring-security, cross-context

我的应用程序应该收到一个名为*sessionId*的请求参数，该参数应该用于查找交叉上下文属性。

我正在寻找 Spring Security 来实现这一点，我认为我的 AuthenticationProvider 已经有一个很好的实现：

```
public Authentication authenticate(Authentication authentication) throws AuthenticationException {
HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();
ServletContext servletContext = request.getSession().getServletContext();
String sessionId = request.getParameter("sessionId");
if (sessionId != null) {
    ServletContext sc = request.getSession().getServletContext();
    Object obj = sc.getContext("/crosscontext").getAttribute(sessionId);

    if (obj != null) {
        // return new Authentication
    }
} else {
    logger.error("No session id provided in the request");
    return null;
}
if (!GWT.isProdMode()) {
        // return new Authentication
} else {
    logger.error("No session id provided in the request");
    return null;
}
} 
```

现在，我想做的是将 Spring Security 配置为不提示输入用户名和密码，让它到达这个身份验证提供程序调用 authenticate 方法。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T11:45:56.313

我通过审查我的安全设计并寻求更接近 Spring Security 已经提供的预身份验证机制来解决我的问题。

我扩展了 Spring Security 的 2 个组件。第一个是AbstractPreAuthenticatedProcessingFilter，通常他的作用是提供headers中提供的principal。就我而言，我检索标头值并在 2 个应用程序之间共享的上下文中搜索与该标头对应的属性并将其作为主体返回：

```
public class MyApplicationPreAuthenticatedProcessingFilter extends AbstractPreAuthenticatedProcessingFilter {

private static final Logger logger = Logger.getLogger(MyApplicationPreAuthenticatedProcessingFilter.class);

@Override
protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {

    if (MyApplicationServerUtil.isProdMode()) {
        String principal = request.getHeader("MY_HEADER");
        String attribute = (String) request.getSession().getServletContext().getContext("/crosscontext").getAttribute(principal);
        logger.info("In PROD mode - Found value in crosscontext: " + attribute);
        return attribute;
    } else {
        logger.debug("In DEV mode - passing through ...");
        return "";
    }
}

@Override
protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {
    return null;
}

} 
```

另一个组件是 AuthenticationProvider ，当它以 prod 模式 (GWT prod) 运行时，它将检查身份验证是否包含主体：

```
public class MyApplicationAuthenticationProvider implements AuthenticationProvider {

private static final Logger logger = Logger.getLogger(MyApplicationAuthenticationProvider.class);

public static final String SESSION_ID = "sessionId";

@Override
public Authentication authenticate(Authentication authentication) throws AuthenticationException {

    if (MyApplicationServerUtil.isProdMode()) {
        if (StringUtils.isNotEmpty((String) authentication.getPrincipal())) {
            logger.warn("Found credentials: " + (String) authentication.getPrincipal());
            Authentication customAuth = new CustomAuthentication("ROLE_USER");
            customAuth.setAuthenticated(true);
            return customAuth;
        } else {
            throw new PreAuthenticatedCredentialsNotFoundException("Nothing returned from crosscontext for sessionId attribute ["
                    + (String) authentication.getPrincipal() + "]");
        }
    } else {
        Authentication customAuth = new CustomAuthentication("ROLE_USER");
        customAuth.setAuthenticated(true);
        return customAuth;
    }
}

@Override
public boolean supports(Class<?> authentication) {
    return PreAuthenticatedAuthenticationToken.class.isAssignableFrom(authentication);
}

} 
```

我知道它可能不是最安全的应用程序。但是，它已经在一个安全的环境中运行。但是，如果您有改进的建议，欢迎他们！

# sql - SQL Server 将 2 行合并为 1

> ID：15635193
> 
> 赞同：12
> 
> 时间：2013-03-26T10:51:32.673
> 
> 标签：sql, sql-server, sql-server-2008, pivot

是否可以在 SSRS 2008 中将 2 行合并为一行？每个部分都会有每个站点的记录

```
+---------------+-------+-------+
|Part Number    |Cost   |Site   |
+---------------+-------+-------+
|1              |2.4    |Site 1 |
|1              |68.8   |Site 2 |
+---------------+-------+-------+ 
```

期望的结果

```
+-----------+-------+-------+
|Part Number|Site 1 |Site 2 | 
+-----------+-------+-------+
| 1         |2.4    |68.8   |
+-----------+-------+-------+ 
```

谢谢

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-26T11:09:32.863

如果您知道您的站点编号/名称不会动态更改，则可以使用`CASE WHEN`：s

```
SELECT PartNumber,
MAX(CASE WHEN Site=1 THEN Cost ELSE NULL END) AS Site1_Cost,
MAX(CASE WHEN Site=2 THEN Cost ELSE NULL END) AS Site2_Cost
FROM Parts
GROUP BY PartNumber 
```

通过分组，我们消除了一个 NULL 值......

这里[链接](http://sqlfiddle.com/#!3/335b6/4)到 SQL Fiddle 示例

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-26T12:05:40.790

在 SSRS 中，您需要使用`MATRIX`报告将行转换为列而不使用`PIVOT operator`

假设你有一张桌子`SSRSPivot`

```
Create table SSRSPivot
(PartNumber int ,Cost decimal(18,2),Site varchar(max))

Insert into SSRSPivot
values
(1,2.4,'Site 1'),
(1,68.8,'Site 2' ) 
```

数据格式如下

```
+---------------+-------+-------+
|PartNumber    |Cost   |Site   |
+---------------+-------+-------+
|1              |2.4    |Site 1 |
|1              |68.8   |Site 2 |
+---------------+-------+-------+ 
```

创建一个新的空白报表并将其命名为。`PIVOT`创建一个数据源并在数据集中编写查询

```
 Select PartNumber ,Cost,Site from SSRSPivot 
```

![在此处输入图像描述](../Images/202cd3b897df33f31ea3b66c64c19769.png)

将`matrix`工具箱中的 a 拖到 SSRS 设计器上。对于`Rows`选择`PartNumber`。对于列选择`Site`，对于数据选择`Sum(Cost)`

![在此处输入图像描述](../Images/4973f554b010cc857a54d3c096a806d8.png)

当您执行上述步骤时，您将获得如下所示的详细`row`信息`column`

![在此处输入图像描述](../Images/0c3fb7982f1776f8d32cc68c0111e810.png)

最终结果看起来像

![在此处输入图像描述](../Images/494fe57c09c38700da10818fce05d043.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T11:21:35.427

这种类型的数据转换称为[`PIVOT`](http://msdn.microsoft.com/en-us/library/ms177410%28v=sql.105%29.aspx). 从 SQL Server 2005 开始，有一个函数可以为您将数据转换为列。

如果您有已知数量的`Site`要转换为列的值，则可以对查询进行硬编码：

```
select part_number, [Site 1], [Site 2]
from 
(
  select part_number, cost, site
  from yourtable
) src
pivot
(
  sum(cost)
  for site in ([Site 1], [Site 2])
) piv; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/9e333/1)

但是如果您有未知数量的值，那么您将需要使用动态 SQL 来生成要在查询中使用的列列表：

```
DECLARE @cols AS NVARCHAR(MAX),
    @query  AS NVARCHAR(MAX)

select @cols = STUFF((SELECT distinct ',' + QUOTENAME(site) 
                    from yourtable
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT part_number,' + @cols + ' 
             from 
             (
                select part_number, cost, site
                from yourtable
            ) x
            pivot 
            (
                sum(cost)
                for site in (' + @cols + ')
            ) p '

execute(@query) 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/9e333/4)。两者都会给出结果：

```
| PART_NUMBER | SITE 1 | SITE 2 |
---------------------------------
|           1 |    2.4 |   68.8 | 
```

# c++ - 未定义的参考（链接错误）

> ID：15635195
> 
> 赞同：0
> 
> 时间：2013-03-26T10:51:34.550
> 
> 标签：c++, eclipse, mingw

尝试编译 cpp 程序时遇到以下链接错误：

```
11:42:55 **** Incremental Build of configuration Debug for project mrconv ****
Info: Internal Builder is used for build
g++ "-IC:\\Users\\Jesse\\Documents\\Work\\Research\\FiberTracking\\Software\\mrtrix\\source\\mrtrix-0.2.11\\lib" "-IC:\\Users\\Jesse\\Programs\\gtk+\\lib" "-IC:\\Users\\Jesse\\Programs\\gtk+\\bin" "-IC:\\Users\\Jesse\\Programs\\gtk+\\include\\glib-2.0" "-IC:\\Users\\Jesse\\Programs\\gtk+\\lib\\glib-2.0\\include" "-IC:\\gtkmm64\\include\\glibmm-2.4\\glibmm" "-IC:\\gtkmm64\\include\\glibmm-2.4" "-IC:\\gtkmm64\\lib\\glibmm-2.4\\include" "-IC:\\gtkmm64\\include\\sigc++-2.0" "-IC:\\gtkmm64\\lib\\sigc++-2.0\\include" "-IC:\\Program Files (x86)\\GnuWin32\\include" "-IC:\\Program Files (x86)\\GnuWin32\\include\\gsl" -O0 -g3 -Wall -c -fmessage-length=0 -o "src\\mrconvert.o" "..\\src\\mrconvert.cpp" 
g++ "-LC:\\GnuWin32\\lib\\" -o mrconv.exe "src\\mrconvert.o" -llibgsl 
src\mrconvert.o: In function `main':
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:119: undefined reference to `MR::App::run(int, char**)'
src\mrconvert.o: In function `ZN5MyApp7executeEv':
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:123: undefined reference to `MR::parse_floats(std::string const&)'
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:167: undefined reference to `MR::DataType::parse(std::string const&)'
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:174: undefined reference to `MR::Image::parse_axes_specifier(MR::Image::Axes const&, std::string const&)'
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:201: undefined reference to `MR::parse_ints(std::string const&, int)'
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:225: undefined reference to `MR::ProgressBar::init(unsigned int, std::string const&)'
src\mrconvert.o: In function `_static_initialization_and_destruction_0':
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:55: undefined reference to `MR::Argument::End'
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:95: undefined reference to `MR::Option::End'
src\mrconvert.o: In function `ZNK2MR9Exception7displayEv':
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:187: undefined reference to `MR::Exception::level_offset'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:187: undefined reference to `MR::error'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:188: undefined reference to `MR::Exception::level_offset'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:188: undefined reference to `MR::info'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:189: undefined reference to `MR::debug'
src\mrconvert.o: In function `ZN2MR11ProgressBar3incEv':
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:451: undefined reference to `MR::ProgressBar::current_val'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:451: undefined reference to `MR::ProgressBar::current_val'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:452: undefined reference to `MR::ProgressBar::display'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:452: undefined reference to `MR::ProgressBar::stop'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:453: undefined reference to `MR::ProgressBar::multiplier'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:453: undefined reference to `MR::ProgressBar::stop_watch'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:453: undefined reference to `Glib::Timer::elapsed() const'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:453: undefined reference to `MR::ProgressBar::current_val'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:453: undefined reference to `MR::ProgressBar::multiplier'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:454: undefined reference to `MR::ProgressBar::percent'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:455: undefined reference to `MR::ProgressBar::percent'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:456: undefined reference to `MR::ProgressBar::display_func'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:458: undefined reference to `MR::ProgressBar::stop'
src\mrconvert.o: In function `ZN2MR11ProgressBar4doneEv':
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:461: undefined reference to `MR::ProgressBar::display'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/mrtrix.h:461: undefined reference to `MR::ProgressBar::done_func'
src\mrconvert.o: In function `ZN2MR5Image6ObjectD1Ev':
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/image/object.h:49: undefined reference to `MR::info'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/image/object.h:49: undefined reference to `MR::Image::Mapper::unmap(MR::Image::Header const&)'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/image/object.h:49: undefined reference to `MR::Image::Mapper::~Mapper()'
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/image/object.h:49: undefined reference to `MR::Image::Mapper::~Mapper()'
src\mrconvert.o: In function `ZN2MR5Image6Object3mapEv':
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/image/object.h:57: undefined reference to `MR::Image::Mapper::map(MR::Image::Header const&)'
src\mrconvert.o: In function `ZNK2MR7ArgBase9get_imageERNS_5Image6HeaderE':
C:/Users/Jesse/Documents/Work/Research/FiberTracking/Software/mrtrix/source/mrtrix-0.2.11/lib/args.h:201: undefined reference to `MR::Image::Object::create(std::string const&, MR::Image::Header&)'
src\mrconvert.o: In function `ZN5MyAppC1EiPPcPPKcPKN2MR8ArgumentEPKNS5_6OptionEPKjS3_S3_':
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:119: undefined reference to `MR::App::App(int, char**, char const**, MR::Argument const*, MR::Option const*, unsigned int const*, char const*, char const*)'
src\mrconvert.o: In function `ZN5MyAppD1Ev':
C:\Users\Jesse\workspace\mrconv\Debug/../src/mrconvert.cpp:119: undefined reference to `MR::App::~App()'
collect2.exe: error: ld returned 1 exit status

11:42:57 Build Finished (took 1s.854ms) 
```

看起来这些是内部链接错误？我该如何寻找这些错误的根源？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:15:05.087

您需要编译所有文件并将它们链接在一起。它要么缺少 cpp 文件或库

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:17:27.020

这可能是问题所在。您需要使用`-L`来指定库文件的位置。`-I`是指定包含文件的位置。

```
g++ "-IC:\\Users\\Jesse\\Documents\\Work\\Research\\FiberTracking\\Software\\mrtrix\\source\\mrtrix-0.2.11\\lib" "-IC:\\Users\\Jesse\\Programs\\gtk+\\lib" "-IC:\\Users\\Jesse\\Programs\\gtk+\\bin" "-IC:\\Users\\Jesse\\Programs\\gtk+\\include\\glib-2.0" "-IC:\\Users\\Jesse\\Programs\\gtk+\\lib\\glib-2.0\\include" "-IC:\\gtkmm64\\include\\glibmm-2.4\\glibmm" "-IC:\\gtkmm64\\include\\glibmm-2.4" "-IC:\\gtkmm64\\lib\\glibmm-2.4\\include" "-IC:\\gtkmm64\\include\\sigc++-2.0" "-IC:\\gtkmm64\\lib\\sigc++-2.0\\include" "-IC:\\Program Files (x86)\\GnuWin32\\include" "-IC:\\Program Files (x86)\\GnuWin32\\include\\gsl" -O0 -g3 -Wall -c -fmessage-length=0 -o "src\\mrconvert.o" "..\\src\\mrconvert.cpp" 
```

我认为其中一些应该更改为`-L`. 例如

```
"-IC:\\Users\\Jesse\...lib" 
```

应该

```
-L"C:\\Users\\Jesse\...lib" 
```

并且应该走联动线。即链接所有内容的第二行。

# sql - 包，缺少右括号

> ID：15635196
> 
> 赞同：0
> 
> 时间：2013-03-26T10:51:37.920
> 
> 标签：sql, oracle, package

谁能告诉我我在这里做错了什么，我在这个 SQL 查询中不断收到以下错误！？

SQL 语句：

```
SELECT * 
FROM (test_pkg.Fn_GetData('10'
     ,TO_DATE('01/04/2011', 'DD/MM/YYYY')
     ,TO_DATE('30/04/2011', 'DD/MM/YYYY')) AS result
); 
```

错误信息：

```
ORA-00907: missing right parenthesis 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T10:57:45.283

尝试这个：

```
SELECT test_pkg.Fn_GetData(
         '10',
         TO_DATE('01/04/2011', 'DD/MM/YYYY'),
         TO_DATE('30/04/2011', 'DD/MM/YYYY')) AS result
FROM   DUAL; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:03:13.053

我不知道您可以在 Oracle 中将函数用作表，但最后一个括号似乎放错了位置。它应该是：

```
SELECT * 
FROM (test_pkg.Fn_GetData('10'
     ,TO_DATE('01/04/2011', 'DD/MM/YYYY')
     ,TO_DATE('30/04/2011', 'DD/MM/YYYY'))) AS result; 
```

尽管我在此查询中看不到“作为结果”的意义。

# python - GStreamer-CRITICAL 缓冲区

> ID：15635198
> 
> 赞同：1
> 
> 时间：2013-03-26T10:51:47.343
> 
> 标签：python, buffer, gstreamer, pipeline, loopback

当我执行 gstreamer-1.0 管道时：

```
gst-launch-1.0 -evm videotestsrc ! v4l2sink device=/dev/video1 
```

`v4l2loopback`对于使用版本 0.6.3的视频环回，它会出现以下错误：

```
"(gst-launch-1.0:17157): GStreamer-CRITICAL **: gst_buffer_get_meta: assertion `buffer != NULL' failed. 
```

行为不一致；在 5 次尝试中，此错误至少出现 3 次。

系统环境，Ubuntu 12.10, 32bit, 3.5.0-26-generic kernel。

v4l2loopback 元素看起来有些问题，因为当我用 fakesink 替换 v4l2lopback 时，它没有抛出任何错误。

# php - 迁移 OpenCart 问题

> ID：15635199
> 
> 赞同：0
> 
> 时间：2013-03-26T10:51:47.387
> 
> 标签：php, migration, opencart

我刚刚将我的 OpenCart 商店迁移到另一台服务器。我已经更改了 root 和 admin 文件夹中的 config.php 文件。我可以访问主页和管理后端，但是当我转到产品时，它会显示 404 file not found 错误。

你可以[看看这里](http://test.scienceontheweb.net/farmaciagimeno/)。

我必须改变什么？我还缺少其他配置文件吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T10:58:09.187

我发现了问题。我只需要在我的 .htaccess 中添加一个重写规则：

```
RewriteRule sitemap.xml /farmaciagimeno/index.php?route=feed/google_sitemap
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^?]*) /farmaciagimeno/index.php?_route_=$1 [L,QSA] 
```

# c# - 打开新的winform

> ID：15635204
> 
> 赞同：4
> 
> 时间：2013-03-26T10:51:55.237
> 
> 标签：c#

我有每个节点标记包含表单名称的树视图，当我单击节点时我打开表单我的代码如下

```
 private void treeView1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)
        {
            NodeClick(Convert.ToString(e.Node.Tag));
        }

    public void NodeClick(string formName)
    {
       switch (formName)
        {

            case "frmPartMaster":
                frmPartMaster partMaster = null;
                if ((partMaster =   
                   (frmPartMaster)Globale.IsFormAlreadyOpen(typeof(frmPartMaster)))  
                        == null)
                {
                    partMaster = new frmPartMaster();
                    partMaster.Show(this);

                }
                else
                {
                    partMaster.Activate();
                    partMaster.WindowState = FormWindowState.Normal;
                    partMaster.BringToFront();
                }
                break;
        }
    } 
```

这段代码工作正常，但我有 1000 个表格，对于每个表格，我必须正确区分代码。如果我通过它打开它的表格，是否有可能像在单一情况下一样打开它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T10:59:16.630

您可以通过调用 Activator.CreateInstance 创建表单类的实例

```
public void OpenOrActivateForm(string formType)
{
  var formType = Type.GetType(formType);
  var form = Globale.IsFormAlreadyOpen(formType);

  if(form == null)
  {
    form = Activator.CreateInstance(formType);
    from.Show(this);
  }
  else
  {
    form.Activate();
    form.WindowState = FormWindowState.Normal;
    form.BringToFront();
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T08:43:39.617

为什么不直接在节点的标签中引用一个表单，然后直接使用它

```
private void treeView1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)
        {
            NodeClick(e.Node.Tag as Form);
        }

public void NodeClick(Form theForm)
{
   if(theForm == null) return;

   if(theForm.Visible == false)
   {
        theForm .Show(this);
   }

   theForm .Activate();
   theForm .WindowState = FormWindowState.Normal;
   theForm .BringToFront();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:01:21.903

您可以使用这种方法：

像这样定义字符串和动作的字典

```
Dictionary<string, Action> dic = new Dictionary<string,Action>();
dic.Add("frmPartMaster", OpenPartMaster);
..... 
```

添加适当的动作

```
private void OpenPartMaster()
{
   frmPartMaster partMaster = null;
   if ((partMaster =   
               (frmPartMaster)Globale.IsFormAlreadyOpen(typeof(frmPartMaster)))  
                    == null)
   {
                partMaster = new frmPartMaster();
                partMaster.Show(this);

   }
   else
   {
                partMaster.Activate();
                partMaster.WindowState = FormWindowState.Normal;
                partMaster.BringToFront();
   }
} 
```

当您需要调用该表单而不是无限开关时，请使用

```
dic[formName].Invoke(); 
```

通过这种方式，您有一个集中点，您可以在请求特定表单时添加要执行的特定操作，并保留所有已编写的功能。
当然，您需要在不同的方法中重构 switch case。

如果您的表单有不同的操作（案例）而不是总是相同的重复代码序列，那么这种方法很有趣。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T10:56:21.643

您应该能够将表单添加到节点，节点应该有一个字段，我认为它是对象类型的标签。在那里添加您的表单，然后从标签中提取它。这样您就不必使用 case 语句，而是使用适用于所有表单的 1 个单一语句。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-26T10:57:49.050

`Activator.CreateInstance`您可以使用方法，而不是为每个表单使用 switch case 。

请参阅此[MSDN 文章](http://msdn.microsoft.com/en-us/library/d133hta4%28v=vs.100%29.aspx)。

您可以在标签中存储**完全限定名称**并使用它来实例化适当的表单。

# java - Unix Java 问题

> ID：15635206
> 
> 赞同：1
> 
> 时间：2013-03-26T10:52:04.453
> 
> 标签：java, unix, ubuntu, websphere

好的，我正在尝试在我的 Ubuntu 12.04 LTS 服务器上安装 Websphere（来自 IBM）。

但是在安装*.bin*时，它说在服务器上找不到 Java VM，但是当我获得 Java 版本时就很好了。

这是我运行此命令时得到的响应：

```
$ sudo path/*.bin

Preparing to install ...
Extracting the installation resources from the installer archive..
Configuring the installer for this system's environment...
no Java virtual machine could be found from your PATH environment variable. You must install a VM prior to running this program.

$ java -version

java version "1.6.0"
Java(TM) SE Runtime Environment (build pxi3260sr12-20121025_01(SR12))
IBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 Linux x86-32 jvmxi3260sr12-20121024_126067 (JIT enabled, AOT enabled)
J9VM - 20121024_126067
JIT - r9 20120914_26057
GC - 20120925_AA)
JCL - 20121014_01

$ cat /etc/environment

JAVA_HOME="/opt/ibm/java-i386-60"
JRE="$JAVA_HOME/jre"
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/opt/imb/java-i386-60/bin:/opt/ibm/java-i386-60/jre/bin" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T10:53:41.777

使用`sudo`时，命令以当前用户身份运行`root`，而不是以当前用户身份运行。您需要配置`root`'s`$PATH`以包含 Java。

尝试`sudo java -version`查看是否为 Java 配置了属性`root`（听起来不是）。

# openerp - OpenERP 7 在浏览器中加载错误

> ID：15635209
> 
> 赞同：1
> 
> 时间：2013-03-26T10:52:11.643
> 
> 标签：openerp

我在 Cent OS Final 6.4 和 Python 2.6.6 i=with static ip 中安装了 OpenERP 7

我使用互联网从外部网络访问它运行良好

但是我在网络内访问它会引发错误

未捕获的错误：QWeb2：找不到模板“WebClient”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-04T13:39:56.930

现在我使用的版本是 odoo 9.0 和 ubuntu 15.10 和 python 2.7.10 我也遇到了这个问题。并稍后发布问题。利用

```
ajax.loadXML('/web_editor/static/src/xml/snippets.xml', qweb); 
```

加载这个 xml 文件，sinppets.xml 可能像这样

```
<?xml version="1.0" encoding="utf-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="web_editor.snippets">
        <div id='oe_snippets' class="hidden-xs o_open">
            <div id="o_arrow">
                <span class="fa fa-angle-double-right fa-1x" style="top: 10px;">
                </span>
                <div>Insert Blocks</div>
                <span class="fa fa-angle-double-right fa-1x" style="bottom: 10px;">
                </span>
            </div>
            <div id="o_left_bar">
                <span class='snippets_loading'>Snippets are loading...
                </span>
            </div>
        </div>
    </t>
</templates>

var ajax = require('web.ajax');
var core = require('web.core');
var Widget = require('web.Widget');   
var qweb = core.qweb;

ajax.loadXML('/web_editor/static/src/xml/snippets.xml', qweb);
var BuildingBlock = Widget.extend({
    template: 'web_editor.snippets',
    init: function (parent, $editable) {
        this._super.apply(this, arguments);
    },
    start: function() {....
  }
}); 
```

现在，没有问题。祝你好运~

# sql - Sql将记录与两列中的其他记录进行比较

> ID：15635211
> 
> 赞同：0
> 
> 时间：2013-03-26T10:52:22.263
> 
> 标签：sql, sql-server-2008

这对你来说可能很简单（但我是初学者）。

我有一个用以`Table_1`下列命名的表：

```
[id]
[command]
[verify_date]
[data_interval_start]
[data_interval_end] 
```

表中的数据如下所示：

```
id  command     verify_date  data_interval_start   data_interval_end
--------------------------------------------------------------------
1   123456      2013-02-01   2013-05-01            2013-05-06 
2   234513      2012-05-02   2013-01-01            2013-03-01 
3   221342      2013-05-04   2011-01-01            2011-01-02 
```

我想检查是否`verify_date`在每个`data_interval_start`和之间`data_interval_end`；所以取第一个值并在和`verify_date`之间的所有记录之间检查它。`data_interval_start``data_interval_end`

我试过这个查询但没有结果：

```
SELECT command from Table_1 
WHERE verify_date IN (data_interval_start, data_interval_end)

SELECT command from Table_1 
WHERE verify_date between data_interval_start AND data_interval_end 

SELECT command from Table_1 
WHERE verify_date = data_interval_start OR verify_date = data_interval_end 
```

任何帮助表示赞赏:)。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:16:29.973

假设您的日期是`DATE type fields`，您可以使用`CASE`如下；

```
select id, command, case when verify_date between  
                              data_interval_start and  data_interval_end 
                         then 'Yes'
                         else 'No' 
                    end isBetween
from table1 
```

如果您的日期是字符串类型字段，则将它们放入`ISO format`( `yyyymmdd`) 并转换为 DATE 进行比较，如下所示；

```
select id, command, case when convert(date,replace(verify_date,'-','')) between  
                              convert(date,replace(data_interval_start,'-','')) 
                              and convert(date,replace(data_interval_end,'-',''))  
                         then 'Yes'
                         else 'No' 
                    end isBetween
from table1 
```

**编辑：**如果您需要比较给定的日期，您可以按如下方式进行。（请注意 between 是包含的。因此，如果您需要排除`data_interval_start`and `data_interval_end`，则使用`<`and`>`运算符）

```
--say this is the date you need to compare your records with
declare @verify_date date = '20130201'

select id, command
from table1
where @verify_date between convert(date, data_interval_start) 
                              and convert(date, data_interval_end) 
```

要做所有的`varify_date`，你可以使用`cross join`下面的。

**[Sql-Fiddle-Demo](http://sqlfiddle.com/#!3/1fe82/5)**

```
select t1.id, t1.command, t2.verify_date
from table1 t1 cross join table1 t2
where t2.verify_date between convert(date, t1.data_interval_start) 
                              and convert(date, t1.data_interval_end)

| ID | COMMAND | VERIFY_DATE |
------------------------------
|  2 |  234513 |  2013-02-01 |
|  1 |  123456 |  2013-05-04 | 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:00:47.263

我猜你正在比较两个字符串尝试将它们转换为`DATE`

像那样

```
 select command from Table_1 where convert(CHAR(10),verify_date,111) 
     between convert(CHAR(10),data_interval_start,111)  AND convert(CHAR(10),data_interval_end,111) 
```

[这里如何转换日期](http://www.w3schools.com/sql/func_convert.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:32:02.317

您的第二个查询将为您工作

```
SELECT command from Table_1 
WHERE verify_date between data_interval_start AND data_interval_end 

id  command     verify_date  data_interval_start   data_interval_end
--------------------------------------------------------------------
1   123456      2013-02-01   2013-05-01            2013-05-06 
2   234513      2012-05-02   2012-01-01            2013-03-01 
3   221342      2013-05-04   2011-01-01            2011-01-02 
```

现在检查上述数据

# iphone - 不让 UIButton 拖到 Circle 外

> ID：15635212
> 
> 赞同：0
> 
> 时间：2013-03-26T10:52:23.983
> 
> 标签：iphone, ios, uibutton, drag

我是ios新手。

我有一个视图，其中我使用 Quarts 核心画了一个圆圈。

我在那个圈子里放了一个 UIButton 并给了 Funcnality 以拖放那个按钮。

现在我想要约束按钮不能被拖出那个圆圈区域。

Button 的 TouchDragOutSide 事件是

```
- (void) draggedOut: (UIControl *) c withEvent: (UIEvent *) ev
{
    if([viewCanvas pointInside:[[[ev allTouches] anyObject] locationInView:viewCanvas ] withEvent:ev])
        c.center = [[[ev allTouches] anyObject] locationInView:viewCanvas ];

} 
```

此时按钮不能拖出矩形视图区域。

感谢帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:32:13.250

我已经使用这个方程通过方程求解。

```
(x-center_x)^2 + (y - center_y)^2 < radius^2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:08:26.800

尝试这个..

```
if([viewCanvas pointInside:[[[ev allTouches] anyObject] locationInView:viewCanvas ] withEvent:ev])
{
UITouch *touch = [[ev touchesForView:c] anyObject];

CGPoint location = [touch locationInView:c];

if((location.x<(viewCanvas.frame.origin.x+viewCanvas.frame.size.width))&&(location.y<(viewCanvas.frame.origin.y+viewCanvas.frame.size.height)))
{
  c.center = [[[ev allTouches] anyObject] locationInView:viewCanvas ];

}
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T13:54:06.660

你有圆心（x，y）和半径。取按钮的中心并检查它是否在 x+ 半径 - 宽度/2 内，如果它在 x 方向移动，y+ 半径 - 高度/2 如果它在 y 方向移动。检查 4 个方向并给出正确的 + / -

# eclipse - 在重命名实例成员时重命名getter？

> ID：15635214
> 
> 赞同：0
> 
> 时间：2013-03-26T10:52:33.343
> 
> 标签：eclipse, eclipse-plugin, refactoring, getter, getter-setter

在 Eclipse 中，可以为实例成员生成一个 getter，它看起来像这样：

```
private String abc;

// generated using Source - Generate Getters and Setters
public String getAbc() {
    return abc;
} 
```

现在，当我重命名`abc`为时`def`，吸气剂也必须重命名为`getDef()`. 然而，这并不是 Eclipse 自动完成的。有没有办法使用 Eclipse 来做到这一点？有这样的插件吗？

感谢您的任何提示！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:30:11.793

您仅使用“快速重命名”。当您开始使用 重命名字段`Ctrl``Alt``R`时，点击弹出窗口右侧的小三角形并选择“打开重命名对话框”，或`Ctrl``Alt``R`再次点击。然后，您将获得一个重命名重构对话框，其中重命名 getter/setter 方法显示为附加选项。

# qt - 无法启动 qlocalserver

> ID：15635215
> 
> 赞同：10
> 
> 时间：2013-03-26T10:52:37.690
> 
> 标签：qt, ipc, qlocalsocket

我在 IPC 解决方案中使用 Qlocalsocket，我能够启动服务器并接受来自 QLocalSocket 客户端的连接并进行良好的通信，这没有问题。

但是我的问题发生在我杀死服务器的进程时，我不能让 QLocalServer 再次在同一个地方监听，我必须更改服务名称才能再次启动它，这在运行时环境中是不可能的。

那么如何让前面的流程释放那个名字呢？

这是我启动服务器的方式：

```
m_server = new QLocalServer(this);
if (!m_server->listen("serviceUniqueName")) {
    qDebug() << "Not able to start the Server";
    return;
} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-08-20T10:05:42.150

正如 Amartel 指出的，如果服务器死了，您需要删除套接字文件。最好的方法是调用[bool QLocalServer::removeServer ( const QString & name )](http://qt-project.org/doc/qt-4.8/qlocalserver.html#removeServer)：

```
m_server = new QLocalServer(this);
QString serverName("serviceUniqueName");
QLocalServer::removeServer(serverName);
if (!m_server->listen(serverName)) {
    qDebug() << "Not able to start the Server";
    return;
} 
```

这样，您的聆听电话将永远不会失败。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-26T11:37:00.260

Qt帮助：

> 在 Unix 上，如果服务器在没有关闭的情况下崩溃，监听将失败并显示 AddressInUseError。要创建新服务器，应删除该文件。在 Windows 上，两台本地服务器可以同时监听同一个管道，但任何连接都将转到其中一台服务器。

所以，如果你使用*nix，你应该删除文件“/tmp/socket_name”。

# php - 在 Magento 中以编程方式设置块的位置

> ID：15635216
> 
> 赞同：0
> 
> 时间：2013-03-26T10:52:40.360
> 
> 标签：php, magento, magento-layout-xml

我想在 Magento 中以编程方式设置块的位置。

例如，我希望可以将块的位置设置为：

1.  在产品查看页面的“内容”下方

2.  在侧边栏中（左/右）

3.  在任何其他块之前/之后。

请建议这样做的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T09:22:44.297

我已经找到了解决方案。您可以使用观察者动态设置块位置。首先创建`Observer.php`in`<Namespace>/<Module>/Model`目录。在此文件中写入以下代码：

```
class <Namespace>_<Module>_Model_Observer
{
    public function set_block($observer)
    {
        $action = $observer->getEvent()->getAction();
        $fullActionName = $action->getFullActionName();
        $position = 'right';
        $sub_position = 'before="cart_sidebar"';

        $myXml = '<reference name="'.$position.'">';
        $myXml .= '<block type="obc/obc" name="obc" template="obc/obc.phtml" '.$sub_position.' />';
        $myXml .= '</reference>';
        $layout = $observer->getEvent()->getLayout();
        if ($fullActionName=='catalog_product_view') {  //set any action name here
            $layout->getUpdate()->addUpdate($myXml);
            $layout->generateXml();
        }
    }
} 
```

现在`config.xml`写下以下几行来调用观察者：

```
<events>
    <controller_action_layout_generate_blocks_before>
        <observers>
            <module_block_observer>
                <type>singleton</type>
                <class><Namespace>_<Module>_Model_Observer</class>
                <method>set_block</method>
            </module_block_observer>
        </observers>
    </controller_action_layout_generate_blocks_before>     
</events> 
```

现在您可以使用观察者在页面上的任何位置设置块的位置。

# perl - 在perl中创建不同长度的向量

> ID：15635218
> 
> 赞同：0
> 
> 时间：2013-03-26T10:52:43.830
> 
> 标签：perl

我编写了以下程序：

```
use strict;
use warnings;
use 5.010;

my $nodesNumber = 100 ;
my $communitiesNumber = 10;
my $prob_communities = 0.3;

for my $i (1 .. $nodesNumber){
    for my $j (1 .. $communitiesNumber){
        my $random_number=rand();
        if ($prob_comunities > $random_number){
            say "$i $j";
        }
    }
} 
```

这个程序给出一个两列整数的列表作为输出：

```
1 2
1 4
2 2
2 5
2 7
... 
```

我想创建一个向量，其中左列中的第一个元素计算一次，右列元素表示向量组件的值。我希望输出看起来像：

```
vector[0][0]= 1
vector[0][1]= 2
vector[0][2]= 4
vector[1][0]= 2
vector[1][1]= 2
vector[1][2]= 5
vector[1][3]= 7 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:46:28.623

```
#!/usr/bin/env perl
# file: build_vector.pl

use strict;
use warnings;

my @vector;       # the 2-d vector
my %mark;         # mark the occurrence of the number in the first column
my $index = -1;   # first dimensional index of the vector

while (<>) {
    chomp;
    my ($first, $second) = split /\s+/;
    next if $second eq '';
    if (not exists $mark{$first}) {
        $mark{ $first } = ++$index;
        push @{ $vector[$index] }, $first;
    }
    push @{ $vector[$index] }, $second;
}

# dump results
for my $i (0..$#vector) {
    for my $j (0..$#{ $vector[$i] }) {
        print "$vector[$i][$j] ";
    }
    print "\n";
} 
```

该脚本将处理脚本的输出并在`@vector`. 如果您的脚本有 filename `generator.pl`，您可以调用：

```
$ perl generator.pl | perl build_vector.pl 
```

**更新：**

```
use strict;
use warnings;

my $nodesNumber = 100 ;
my $communitiesNumber = 10;
my $prob_communities = 0.3;

my @vector;       # the 2-d vector
my %mark;         # mark the occurrence of the number in the first column
my $index = -1;   # first dimensional index of the vector

for my $i (1 .. $nodesNumber){
    for my $j (1 .. $communitiesNumber){
    my $random_number=rand();
        if ($prob_communities > $random_number){
            if (not exists $mark{$i}) {
                $mark{ $i } = ++$index;
                push @{ $vector[$index] }, $i;
            }
            push @{ $vector[$index] }, $j;
        }
    }
}

# dump results
for my $i (0..$#vector) {
    for my $j (0..$#{ $vector[$i] }) {
        print "$vector[$i][$j] ";
    }
    print "\n";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:21:19.310

```
#!/usr/bin/env perl

use 5.010;
use strict;
use warnings;

use Const::Fast;
use Math::Random::MT;

const my $MAX_RAND => 10;

my $rng = Math::Random::MT->new;

my @v = map {
    my $l = $rng->irand;
    [ map 1 + int($rng->rand($MAX_RAND)), 0 .. int($l) ];
} 1 .. 5;

use YAML;
print Dump \@v; 
```

# php - “需要授权”使用 PHP 和 cURL 连接到自定义 API

> ID：15635220
> 
> 赞同：1
> 
> 时间：2013-03-26T10:52:51.263
> 
> 标签：php, api, rest, curl

我正在创建我的第一个 API，合作伙伴需要使用 cURL 从他们的服务器访问该 API。因此，在创建它时，我使用服务器 #1 来创建测试连接脚本，并使用服务器 #2 来托管 API。在服务器 #1 我有：

```
<?php

$url = "http://example.net/api/";

$data['api_key'] = "AFsASfafasasf";
$data['api_secret'] = "faskakfokfl3a";

$ch = curl_init($url);

curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);

$result = curl_exec($ch);
curl_close($ch);

echo $result;

?> 
```

在服务器 #2 上，API 文件，我有这个（只是为了测试连接）：

```
<?php

echo "Testing API...";
echo $_POST['api_key'];
echo $_POST['api_secret'];

?> 
```

问题是，当我在服务器 #1 上运行测试脚本时，我得到了这个：

“需要授权

此服务器无法验证您是否有权访问所请求的文档。要么您提供了错误的凭据（例如，错误的密码），要么您的浏览器不了解如何提供所需的凭据。

此外，在尝试使用 ErrorDocument 处理请求时遇到 401 Authorization Required 错误。”

这肯定与 cURL 相关联，因为 Server #1 可以与任何其他基本 PHP 脚本一起使用。

我在网上看到的所有示例似乎都不需要授权......所以它是我需要设置的 CURLOPT 字段中的内容，还是 .htaccess 或其他我缺少的地方？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T10:59:26.673

当服务器需要某种身份验证才能访问网页并且在大多数情况下是基本身份验证时，就会出现 401 错误。

您能否确认您的服务器#1 上是否配置了基本身份验证？如果服务器 #1 需要基本身份验证，则浏览器将第一次询问它，然后它将存储凭据并在每个后续请求中传递它。

如果配置了基本身份验证，则以下将使用 cURL 传递凭据

curl_setopt($ch, CURLOPT_USERPWD, $username . ":" . $password);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-05T03:50:06.943

当我尝试在运行 API 的同一台服务器上运行 cURL 命令时，我遇到了同样的错误。

我终于弄清楚 httpd.conf 中的虚拟主机设置是为单个网关 IP 设置的，而不是 127.0.0.1。

因此，假设 apache，我认为服务器 #2 可能以与 #1 上的 apache 设置冲突的方式调用服务器 #1。

1.  检查服务器 #2 上的 /etc/hosts 文件，以确定它是直接通过其内部 IP 调用服务器 #1，还是默认情况下仅在 LAN 外部发送。

2.  检查服务器 #1 上的 httpd.conf 设置，特别是在解析域时为哪些 IP 地址配置 NameVirtualHost 和 VirtualHost。需要将它们配置为允许从服务器 #2 调用的 IP 地址。

# ios - 暂停已经执行的任务 NSOperationQueue

> ID：15635222
> 
> 赞同：1
> 
> 时间：2013-03-26T10:52:53.490
> 
> 标签：ios, objective-c, nsoperationqueue

我在暂停当前正在执行的任务时遇到问题，我试图设置`NSOperationQueue` `setSuspended=YES`暂停和`setSuspended=NO`恢复进程。

根据[苹果文档](http://developer.apple.com/library/mac/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationObjects/OperationObjects.html) ，我不能暂停已经执行的任务。

> 如果要暂时停止操作的执行，可以使用 setSuspended: 方法暂停相应的操作队列。暂停队列不会导致已经执行的操作在其任务中间暂停。它只是防止新操作被安排执行。您可能会暂停队列以响应用户暂停任何正在进行的工作的请求，因为期望用户最终可能希望恢复该工作。

如果互联网不可用，我的应用程序需要暂停上传操作的时间，并在互联网可用后最终恢复相同的操作。有什么解决方法吗？或者我只需要从零开始当前正在执行的任务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T14:20:34.430

您是否可以恢复或暂停操作队列不是您的问题......如果它像您想象的那样工作，当您重新为 TCP 连接提供服务时，它很可能处于糟糕的状态，它可能已经超时，远程关闭......您将想要找出您的服务器支持的内容并使用 REST（或类似）服务的部分来恢复在全新连接上停止的上传。

如果你还没有，把它打印出来[贴](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html)在你的立方体的墙上，为你的家人制作 T 恤……也许把它添加为屏幕保护程序？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T14:13:35.490

我认为你需要从零开始。否则会出现两个问题。如果您恢复当前的上传，您不能保证您不会错过任何数据包。同时如果连接时间过长，服务器可能会因为操作不完整而删除您之前上传的数据。

# c++ - 如何将 C++ 静态库与依赖于标准库的 XCode 链接？

> ID：15635224
> 
> 赞同：1
> 
> 时间：2013-03-26T10:52:54.650
> 
> 标签：c++, xcode4.5, static-libraries

我已经为 iOS SDK 6.0 交叉编译了 exiv2 库。

我使用 lipo -i 确认库中确实存在 i386（模拟器）和 arm7 代码。

exiv2 的头文件 (.hpp) 使用 std。XCode 找不到 C++ 标准库。

这是我的设置：

我有一个针对 iOS SDK 6.0 的 XCode 项目。

在其中，有一个名为 exiv2 的文件夹，它包含一个标头和 lib 文件夹。exiv2 标头和 .a 库位于这些文件夹中。

当我编译时，我得到一个错误，在（一个给定的文件）

`#include <string>`： 没有这样的文件或目录

关于如何在 XCode 中的这种设置下链接 C++ std 的任何想法？

非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-05-02T03:12:23.927

您可以转到项目设置，选择“构建阶段”，然后选择“将二进制文件与库链接”。对于标准 C++ 库，您可以添加 (+) "libc++.tbd" 或 "libstdc++.tbd"

# x86 - 在 x86 汇编语言中将寄存器移动到数组的索引中

> ID：15635225
> 
> 赞同：1
> 
> 时间：2013-03-26T10:52:57.477
> 
> 标签：x86, masm

我正在尝试将`bl`寄存器移动到 x86 汇编语言中的字节数组中，但是以下语句会从 masm 汇编器中生成错误消息。

`mov arr[2], bl`产生输出`1>p4.asm(48): error A2101: cannot add two relocatable labels`。

是否可以将寄存器移动到 x86 汇编语言中的数组中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T12:27:26.913

基本上，以下内容应该适用于硬编码的索引值：

```
mov byte ptr [arr + 2], bl  ;store bl 
```

这些`[]`是可选的：[MASM32 中令人困惑的括号](https://stackoverflow.com/questions/25129743/confusing-brackets-in-masm32)

对于更通用的方式：

```
mov si, 2                ;your index
mov al, bl               ;bl = byte value from your question
mov bx, offset arr
mov byte ptr [bx+si], al 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T08:15:23.623

如果我们使用带有立即操作数的指令，那么我们必须指定我们的操作数将获得多少字节。因此，我们必须使用**byte**、**word**或**dword**之类的关键字来通知汇编器我们想要访问 ram 位置的后续字节数。

```
mov byte ptr[bx+si], 01h
mov word ptr[bx+si], 0001h
mov dword ptr[bx+si], 00000001h 
```

但是如果我们使用寄存器作为操作数（它在字节中是已知的），那么我们不需要它来指定（为了成为一个更小的列表，更容易概述）。

```
mov [bx+si], al
mov al, [bx+si]

mov [bx+si], ax
mov ax, [bx+si] 
```

**MASM 和 DWORD 寄存器作为操作数的**例外。****

 **```
mov dword ptr[bx+si], eax
mov eax, dword ptr[bx+si] 
```

短剑**

# c# - Windows Forms C# 创建控件类别列表

> ID：15635235
> 
> 赞同：0
> 
> 时间：2013-03-26T10:53:32.613
> 
> 标签：c#, .net, winforms, controls

我在 C# 项目下使用 Windows 窗体创建了自己的控件。我使用设置来更改控件属性，例如：

```
[Category("Settings")]
public Color BorderColor { get; set; } 
```

在我的表单中，我只是通过从列表中选择另一个来更改 BorderColor。

但是现在我想在 Form 中创建 NewList（字符串），然后将我的 ListString 属性绑定到我的 NewList。

在我的控制下，它看起来像：

```
[Category("Settings")]
public List<string> ListString { get; set; } 
```

在我的表格中，它看起来像

```
public List<string> NewList = new List<string>() { "1", "2" }; 
```

# kendo-ui - Kendo DataSource：如何在不发送两个 httprequest 的情况下在获取之前设置过滤器

> ID：15635245
> 
> 赞同：10
> 
> 时间：2013-03-26T10:54:03.480
> 
> 标签：kendo-ui, datasource, odata

环境：

*   剑道版本：2013.1.319
*   数据源：

    ```
    productsDataSource = new kendo.data.DataSource({
        type: "odata",
        transport: {
            read: "http://www.mydomain.com/odata.svc/products",
            dataType: "json",
            contentType: "application/json"
        }
        schema: {
            type: "json",
            data: function(data){
                return data.value;
            },
            total: function(data){
                return data['odata.count'];
            },
            model: product
        },
        pageSize: 50,
        serverPaging: true,
        serverFiltering: true,
        serverSorting: true
    }); 
    ```

*   获取数据：

    productsDataSource.filter([{ field: "Id", operator: "eq", value: 5 }]); //这将发送一个http请求

    productsDataSource.fetch(function (e) { tempDataStorage = e.items; //处理数据的更多逻辑; });

*   问题：

    1.  需要使用dataSource的fetch方法进行数据处理（widget初始化、数据绑定...等）；
    2.  在 fetch 之前设置过滤器时避免发送两个 httprequest；
    3.  过滤条件需要在运行时更改。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-08-09T08:28:20.893

```
productsDataSource._filter = { logic: 'and', filters: [
{ field: "Id", operator: "eq", value: 5 }]}; 
```

我发现这行得通。将内部属性设置为完整的过滤器对象。然后您可以在之后调用 fetch 。但是，我还没有找到一种在不触发提取的情况下更改页面大小的方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-26T11:00:36.363

您可以[`filter`](http://docs.kendoui.com/api/framework/datasource#configuration-filter.operator-String)在`DataSource`配置中使用。`DataSource`这应该只发出一个具有您在配置中指定的过滤条件的请求。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-09-27T17:12:24.190

在 dataSource 中设置 _filter 字段使用`productsDataSource._filter = [{ field: "Id", operator: "eq", value: 5 }];`，然后在准备好使用时手动发起对远程数据的请求`productsDataSource.read();`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-08-10T07:29:25.753

尽管这是一个老问题，但它出现在谷歌搜索结果中。所以即使不知道对剑道版本是否有效：2013.1.319，但目前有一种方法

```
dataSource.query({
  sort: { field: "ProductName", dir: "desc" },
  page: 3,
  pageSize: 20
}); 
```

这可以在一次调用中设置多个选项，如排序、过滤分页等，并返回一个承诺。

[http://docs.telerik.com/kendo-ui/api/javascript/data/datasource#methods-query](http://docs.telerik.com/kendo-ui/api/javascript/data/datasource#methods-query)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-21T14:19:38.420

将事件侦听器绑定到初始化小部件的数据源，然后使用过滤器方法。

```
datasource.one('requestEnd', function(){
   // initialize or/and bind widget
});
datasource.filter({ /*your filter*/ }) 
```

# wpf - 在 WPF 按钮中显示相同的内容两次

> ID：15635251
> 
> 赞同：1
> 
> 时间：2013-03-26T10:54:19.607
> 
> 标签：wpf, button, styles, contentcontrol

我们想要为 wpf 按钮设置样式，以便按钮中设置的内容显示两次。这样做的原因是我们要实现按钮内容的投影效果。最终的想法是在 Button 样式中有两个 ContentControl，如下所示：

```
<ContentControl x:Name="ContentControl" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" ContentStringFormat="{TemplateBinding ContentStringFormat}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
<ContentControl Content="{TemplateBinding Content}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Foreground="White" Margin="0,1,0,0" /> 
```

因此，一个 ContentControl 用于显示真实内容，一个 ContentControl 用于显示相同的内容，并留有一点边距，这样它就可以产生阴影效果。问题是它没有在两个内容控件中显示内容。其中只有一个显示内容。如何在两个内容控件中成功显示内容？

此外，阴影效果不是一个选项，因为按钮的内容变得模糊。

感谢帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:34:42.610

**带有嵌套内容的按钮**：

```
<Style x:Key="ShadowButton"
        TargetType="{x:Type Button}">
  <Setter Property="Template">
    <Setter.Value>
      <ControlTemplate TargetType="{x:Type Button}">
        <Grid>
          <Rectangle Width="{Binding ActualWidth,
                                      ElementName=presenter}"
                      Height="{Binding ActualHeight,
                                      ElementName=presenter}">
            <Rectangle.Fill>
              <VisualBrush AlignmentX="Left"
                            Stretch="None"
                            Visual="{Binding ElementName=presenter}" />
            </Rectangle.Fill>
            <Rectangle.RenderTransform>
              <TranslateTransform X="3"
                                  Y="3" />
            </Rectangle.RenderTransform>
          </Rectangle>
          <!-- You can replace the following line to a ContentControl if you absolutely have to -->
          <ContentPresenter x:Name="presenter"
                            ContentSource="Content" />
        </Grid>
      </ControlTemplate>
    </Setter.Value>
  </Setter>
</Style> 
```

然后使用可以是动态的，例如：

```
<Button HorizontalAlignment="Center"
        VerticalAlignment="Center"
        FontSize="36"
        Style="{StaticResource ShadowButton}">
  <StackPanel>
    <Button Margin="2"
            Content="A" />
    <Button Margin="2"
            Content="B" />
    <TextBox Margin="2"
             Text="Blah" />
  </StackPanel>
</Button> 
```

通过使用您的样式中`VisualBrush`没有 2 `ContentControl`/`ContentPresenter`并且只是将一个渲染为 a`Brush`以填充一个矩形并获得您的效果。

**使用模板复制可视化树**

尝试`UserControl`做这个而不是`Button`首先。如果您想以您的风格复制可视化树，则需要使用模板。

```
<Style x:Key="ShadowButton"
        TargetType="{x:Type Button}">
  <Setter Property="Template">
    <Setter.Value>
      <ControlTemplate TargetType="{x:Type Button}">
        <Grid>
          <ContentControl x:Name="shadow"
                          ContentTemplate="{TemplateBinding ContentTemplate}"
                          Foreground="SpringGreen">
            <ContentControl.RenderTransform>
              <TranslateTransform X="50"
                                  Y="50" />
            </ContentControl.RenderTransform>
          </ContentControl>
          <ContentControl x:Name="presenter"
                          ContentTemplate="{TemplateBinding ContentTemplate}"
                          Foreground="SlateBlue" />
        </Grid>
        <ControlTemplate.Triggers>
          <Trigger SourceName="presenter"
                    Property="IsMouseOver"
                    Value="True">
            <Setter TargetName="shadow"
                    Property="Foreground"
                    Value="Teal" />
            <Setter TargetName="presenter"
                    Property="Foreground"
                    Value="Red" />
          </Trigger>
        </ControlTemplate.Triggers>
      </ControlTemplate>
    </Setter.Value>
  </Setter>
</Style> 
```

和用法：

```
<Button HorizontalAlignment="Center"
        VerticalAlignment="Center"
        Style="{StaticResource ShadowButton}">
  <Button.ContentTemplate>
    <DataTemplate>
      <StackPanel>
        <Button Margin="2"
                Content="A"
                Foreground="{Binding RelativeSource={RelativeSource FindAncestor,
                                                                    AncestorType={x:Type ContentControl}},
                                      Path=Foreground}" />
        <TextBox Margin="2"
                  Foreground="{Binding RelativeSource={RelativeSource FindAncestor,
                                                                      AncestorType={x:Type ContentControl}},
                                      Path=Foreground}"
                  Text="Blah" />
      </StackPanel>
    </DataTemplate>
  </Button.ContentTemplate>
</Button> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T14:24:27.733

我在一个小的虚拟应用程序中尝试了这个，它工作得很好。看看这是不是你想要的。

```
 <Window.Resources>
        <Style x:Key="test" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Grid>
                            <ContentControl Content="{TemplateBinding Content}" 
                                            ContentTemplate="{TemplateBinding ContentTemplate}" 
                                            ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}"/>
                            <ContentControl Foreground="DarkGray" 
                                            Content="{TemplateBinding Content}" 
                                            ContentTemplate="{TemplateBinding ContentTemplate}" 
                                            ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}">
                                <ContentControl.RenderTransform>
                                    <TranslateTransform Y="2" X="2"/>
                                </ContentControl.RenderTransform>
                            </ContentControl>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid>
        <Button Style="{StaticResource test}">
            Test
        </Button>
    </Grid> 
```

# css - Chrome 不想显示 CSS 块

> ID：15635252
> 
> 赞同：0
> 
> 时间：2013-03-26T10:54:24.047
> 
> 标签：css, google-chrome, html

**大家好，我有一个小问题，chrome 不想显示 div 块。**

对于 Firefox、Opera 甚至 IE，它都很好用，对于 chrome - 不。问题可能出在哪里？

**CSS**

```
div#content div.ad_box{
float: left;
width: 247px;
height: auto;
border-radius: 4px;
background: #646d6e; 
```

}

**HTML**

```
<div class="ad_box">
        <div style="text-align: center;">
            <img src="style/style_images/ad_2.jpg" alt="AD1" />
        </div>
 </div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T10:58:18.133

根据类名，我的猜测是它被 AdBlock 扩展（或类似的东西）阻止了。这是 StackOverflow 上常见的 Chrome*问题*。

禁用广告拦截扩展并重新加载页面，它现在应该正在显示。

# vb.net - 将双精度转换为时间格式

> ID：15635254
> 
> 赞同：3
> 
> 时间：2013-03-26T10:54:25.783
> 
> 标签：vb.net, type-conversion

我有一堆数字，它们类似于`1.567`or `22.654`，`220.123`我想将它们转换为时间`00:00:00.000 (hours/Minutes/Seconds.Miliseconds)`

关于如何有效地实现这一目标的任何建议？没有太多的摆弄。

在可能的情况下，我需要一个 vb.net 解决方案。

我在这里先向您的帮助表示感谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-26T10:56:59.793

使用`DateTime.AddHours`方法。它将`double`值作为参数：

```
Dim d as DateTime = (new DateTime()).AddHours(1.567) 
```

结果是`{0001-01-01 01:34:01}`

然后您可以使用`DateTime.ToString()`方法以所需的格式获取时间：

```
Dim s as String = d.ToString("HH:mm:ss.fff") 
```

结果是`"01:34:01.200"`

它适用于从`0`到的所有值`23.99`

**更新**

如果您的输入值代表小时并且它们可以大于 24，您可以使用`TimeSpan`而不是`DateTime`：

```
Dim d as TimeSpan = TimeSpan.FromHours(220.123)
Dim s As String = string.Format("{0}:{1}:{2}.{3}", CInt(d.TotalHours), d.Minutes, d.Seconds, d.Milliseconds) 
```

# c# - 隐藏水晶报表的背景图片

> ID：15635255
> 
> 赞同：1
> 
> 时间：2013-03-26T10:54:26.657
> 
> 标签：c#, crystal-reports, background-image

我有水晶报告，我在上面添加了背景图片，比如水印图片。我想设置它的可见性取决于条件真或假。如何在加载报告时从 c# 代码中隐藏图像。我已经尝试过但没有工作。有什么解决办法吗？

```
((PictureObject)MyReport.ReportDefinition.ReportObjects["Picture2"]).Dispose(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:48:21.517

更简洁的方法是在报表中添加一个参数，并根据参数值抑制图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:42:50.457

我得到了解决方案。通过将图像的宽度和高度设置为0。

```
((PictureObject)reprt_changed.ReportDefinition.ReportObjects["Picture2"]).Width=0;
((PictureObject)reprt_changed.ReportDefinition.ReportObjects["Picture2"]).Height = 0; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T13:56:00.493

将图像添加到它自己的部分，将部分的属性设置为'underlay following section'，然后根据需要抑制部分。

# android - 安卓发送彩信

> ID：15635256
> 
> 赞同：1
> 
> 时间：2013-03-26T10:54:28.357
> 
> 标签：android, mms

我在以下链接中找到了彩信发送示例

[http://androidbridge.blogspot.in/2011/03/how-to-send-mms-programmatically-in.html](http://androidbridge.blogspot.in/2011/03/how-to-send-mms-programmatically-in.html)

在这里，我注意到主题字段已被提及为

```
private void SetMessage(MMMessage mm) {
        mm.setVersion(IMMConstants.MMS_VERSION_10);
        mm.setMessageType(IMMConstants.MESSAGE_TYPE_M_SEND_REQ);
        mm.setTransactionId("0000000066");
        mm.setDate(new Date(System.currentTimeMillis()));
        mm.setFrom("+919560008648/TYPE=PLMN"); // doesnt work, i wish this
                                                // worked as it should be
        mm.addToAddress("+919990048184/TYPE=PLMN");
        mm.setDeliveryReport(true);
        mm.setReadReply(false);
        mm.setSenderVisibility(IMMConstants.SENDER_VISIBILITY_SHOW);
        **mm.setSubject("This is mms subject");**
        mm.setMessageClass(IMMConstants.MESSAGE_CLASS_PERSONAL);
        mm.setPriority(IMMConstants.PRIORITY_HIGH);
        mm.setContentType(IMMConstants.CT_APPLICATION_MULTIPART_MIXED);
} 
```

但是没有办法随图片一起发送消息，有时我发现彩信是以链接的形式发送的。如果您以前这样做过，那么您的帮助将非常显着。

# android - 当我尝试在 Facebook (FQL) 中使用我的应用程序的访问令牌时，它不起作用

> ID：15635261
> 
> 赞同：3
> 
> 时间：2013-03-26T10:54:43.663
> 
> 标签：android, facebook-graph-api, access-token

我正在使用`FQL`（如下所述）检索朋友签到，当我在图形浏览器上尝试查询时，它工作正常并提供所需的结果，因此这意味着我的查询没有问题，但是当我在我的应用程序中尝试相同的查询时为此，使用我的应用程序中的访问令牌会给出空数组，

我已授予以下权限，

```
 friends_status  
   user_status 
```

虽然我也尝试过其他权限。

`FQL`我正在使用的是：

```
SELECT checkin_id FROM checkin WHERE author_uid IN (SELECT uid2 FROM friend WHERE uid1 = me()) and timestamp > 1362787200. 
```

我想在发出批处理请求时使用它，从该 FQL 中获取检查 ID，然后使用它们在相关查询中获取信息。我有其他解决方案，但它们需要时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T17:40:57.147

您的访问令牌可能已过期。跟上访问令牌可能很棘手，因此请尝试让用户使用 a 登录`Session`并管理其状态。它会自动为您跟踪访问令牌。然后您可以`Request`通过 3.0 SDK 执行并指定“fql”作为参数。

如果用户登录过一次，如果您在应用启动时打开会话，它将使用刷新的令牌自动登录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-21T12:42:32.620

您是否在应用程序中使用了令牌？

我遇到了同样的问题，为了解决这个问题，我不得不手动过期我当时使用的令牌，而且我还没有从 facebook 应用程序控制台向 facebook 应用程序 itslef 添加权限。

# performance - 如何解释 visualvm cpu 样本和从中创建的快照之间的不一致？

> ID：15635263
> 
> 赞同：1
> 
> 时间：2013-03-26T10:54:46.417
> 
> 标签：performance, profiling, visualvm

为了找到性能瓶颈，我使用了 visualvm 的 cpu 采样器来记录我的应用程序的行为。我可以在实时热点视图中看到一些有趣的结果，但是当我从实时视图中拍摄快照以供以后工作时，该快照中的热点完全不同。这张图片很好地解释了它：[http ://tinypic.com/view.php?pic=auhx0j&s=6](http://tinypic.com/view.php?pic=auhx0j&s=6)

这种不一致怎么可能？也许我不明白什么是实时取景和快照，有人可以澄清一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-11-06T16:36:17.133

我也在寻找采样器和快照热点之间存在不一致的原因。由于我在这里或其他任何地方都找不到解释，所以我试图自己弄清楚。

**tl;博士**

快照视图的可视化很可能是一个错误，因为它似乎没有完全尊重`sun.*`启动采样器时默认设置的排除包等。

**我是怎么得出我的结论的？**

好吧，我玩了不同的包排除设置，全部关闭，一些打开等等，并且总是查看采样器和快照视图来比较它们。尽管我排除了`java.*, sun.*`软件包，但它们仍显示在快照视图中，但不在采样器视图中。我仍然没有得到的是，当我删除所有包排除项时，快照和采样器视图与每个人所期望的相同，无论哪些包被排除在外。

到目前为止我的两分钱。取样愉快！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T15:40:45.280

看起来很奇怪。如果您可以提供如何重现它的步骤，我将很乐意对其进行调查。

# garbage-collection - JRockit 类加载器没有被垃圾收集

> ID：15635264
> 
> 赞同：1
> 
> 时间：2013-03-26T10:54:47.903
> 
> 标签：garbage-collection, jvm, classloader, jrockit

我创建了一个自定义类加载器的实例，并且我想检查一旦没有更多对它的引用，它是否会被垃圾收集。这个类加载器加载实例化对象的自定义类。没有对这些对象或类加载器内的类的外部引用。此外，当我想测试垃圾收集时，没有更多对类加载器的引用。

为了测试类加载器是否被垃圾回收，我使用了对它的弱引用。

现在，在**HotSpot 1.7**上，一切正常，而在**jrockit_160_24_D1.1.2-4**上却不行（当我调用`get()`弱引用时，我取回了对象）。

有人知道为什么会这样吗？

# php - 随机选择一组没有任何重复的行

> ID：15635267
> 
> 赞同：0
> 
> 时间：2013-03-26T10:54:55.097
> 
> 标签：php

**如何显示一组随机的问题（从 Wordpress 中提取）而没有任何重复？**

这是我尝试过的：

```
<?php 
$amount = get_field('select_number_of_questions');
$rand_max = count(get_field('step_by_step_test')) -1;
$rand = rand($amount,$rand_max); 
$i = 0;

while(has_sub_field('step_by_step_test')):
    if($rand == $i):
        echo the_sub_field('question');
    endif;
    $i++;
endwhile;
?> 
```

目前它只显示 1 个随机问题。

这都是动态的，例如总共可以有 10、20、31 个问题等。要选择的问题总数由下式定义`get_field('select_number_of_questions');`

`count(get_field('step_by_step_test')) -1;`正在获取可供选择的问题总数。

所以总而言之，我希望它`get_field('select_number_of_questions');`从总数中选择定义的问题数量，`count(get_field('step_by_step_test')) -1;`而没有任何重复。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T10:59:02.937

老实说，我不确定如何在 WordPress 中具体实现这一点，但您的工作流程应该是这样的：

1.  将所有问题放入一个数组中。
2.  随机选择一个问题（使用`array_rand()`）。
3.  从数组中删除该问题（使用`unset($array[$question_you_selected])`）。
4.  再次选择。
5.  冲洗并重复，直到你有你想要的问题数量。你不会有重复的。

# bash - 将主机的 ip 添加到 hosts.allow

> ID：15635268
> 
> 赞同：0
> 
> 时间：2013-03-26T10:54:57.127
> 
> 标签：bash, cron

我使用具有动态 ip 和 dyndns 的机器来管理其他远程机器。我想做的是让远程机器检查 dyndns 主机名的 ip，即

```
dig +short unix.stackexchange.com 
```

并将生成的 ip 添加到 hosts.allow 中的行尾，使用 bash 脚本，这样我就可以每 24 小时运行一次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:18:11.187

这里的主要挑战是确保你也删除前一个，所以我会在 hosts.allow 中添加一些标志以及你的 IP。类似于“我的 DynDNS 服务器”。因此，在您的脚本中，您将首先删除标记的行（确保没有其他行！）：

```
grep -v "My DynDNS Server" /etc/hosts.allow > /tmp/hosts.allow
mv /etc/hosts.allow /etc/hosts.allow.old
mv /tmp/hosts.allow /etc/hosts.allow 
```

然后添加新的：

```
echo $service : `dig +short unix.stackexchange.com` : allow "# My DynDNS Server" >> /etc/hosts.allow 
```

希望能帮助到你！

# java - Java泛型，类型变量范围

> ID：15635269
> 
> 赞同：4
> 
> 时间：2013-03-26T10:55:00.377
> 
> 标签：java, generics, compareto

有什么区别：

```
public <E>int  compareTo(E e) // first line (compilation error) 
```

和

```
public int compareTo(E e) // second line (OK) 
```

只有在第二行我才能通过编译器。这是否意味着需要确保该特定元素在类中被普遍声明？否则，您可以放入任何元素并且没有多大意义。我是否以正确的方式看待它？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T10:59:27.273

将类型参数声明放在返回类型之前：

```
public <E> int compareTo(E e) 
```

你也可以有一个类级别的`<E>`类型参数，但是方法级别的参数会影响它。[在这个问题](https://stackoverflow.com/q/10151077/1276804)中阅读更多关于它的信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:01:13.767

```
public <E extends String> int compareTo(E o) {  //1
} 
```

您可以考虑任何课程，而不是`String`根据您的编程需要。

对于正在实现`Comparable`接口的类，考虑了上述场景。

```
class SimpleClass<E> {  // 2
    E var;  
    public <E> int compareTo(E o) {         
        return 0;
    }
} 
```

如果我们不实现`Comparable`接口，上面 //2 的类将起作用。**E**不需要扩展字符串（任何其他类）。

# jquery - jquery创建的下拉菜单的奇怪行为

> ID：15635270
> 
> 赞同：0
> 
> 时间：2013-03-26T10:55:03.603
> 
> 标签：jquery

对于我个人的使用，我用 HTML、CSS 和 jquery 开发了一个小的下拉菜单。当我运行脚本时，菜单会进进出出。有一些我无法弄清楚的小错误。这是我的代码。任何人都可以看看并告诉我如何解决它。

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
<style type="text/css">
    a#plinkp
    {
        background: #CCC;
        padding: 10px;
        cursor: pointer;
        margin-left: 600px;
        margin-top: 200px;
        position: absolute;
    }

    a#testll
    {
        background: #CCC;
        padding: 10px;
        cursor: pointer;
        margin-left: 600px;
        margin-top: 250px;
        position: absolute;
    }

    div#HoverSubmenu
    {
        background: #fff;
        position: absolute;
        top: -12px;
        left: -20px;
        z-index: 100;
        width: 165px;
        display: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.45);
        border:5px solid;
        border-color:#F1F2F2;
        z-index:9999;
    }

    div#HoverSubmenu li a
    {
        color: #555555;
        display: block;
        font-family: arial;
        font-weight: bold;
        padding: 6px 15px;
        cursor: pointer;
        text-decoration: none;
    }

    div#HoverSubmenu li a:hover
    {
        background: #39B54A;
        color: #FFFFFF;
        text-decoration: none;
    }

    .HoverRoot
    {
        list-style: none;
        margin: 0px;
        padding: 0px;
        padding: 11px 0 0 0px;
        border-top: 1px solid #dedede;
    }
</style>
    <script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('[id*=link]').click(function () {
                //$("#link").click(function () {
                $('#HoverSubmenu').insertAfter($('[id*=link]'));
                $('#HoverSubmenu').css({ left: $(this).offset().left + 'px',
                    top: ($(this).offset().top + $(this).outerHeight()) + 'px',
                    position: "absolute"
                });
                toggleVisibility();
                false;
            });

            $("html").click(
            function (e) {
                if ($(e.target).not("[id*='link']")
                && e.target.id != "HoverSubmenu"
                && e.target.className != "HoverRoot"
                && e.target.className != "HoverLI" 
                && e.target.className != "atag") {
                    //alert(e.target.id);
                        $('div#HoverSubmenu').fadeOut();
                }
            });

            function toggleVisibility() {
                var submenu = $('div#HoverSubmenu');
                if (submenu.is(":visible")) {
                    submenu.fadeOut();
                } else {
                    submenu.fadeIn();
                }
            }
        });
    </script>
</head>
<body>
    <form id="form1" runat="server">
    <a id="plinkp">About</a>
    <a id="testll">My Test</a>
    <%--Hover UPS Menu start--%>
    <div id="HoverSubmenu">
        <ul  class="HoverRoot">
            <li class="HoverLI"><a class="atag" href="http://www.bba-reman.com">Ship with UPS</a></li>
            <li class="HoverLI"><a class="atag" href="http://www.bba-reman.com">Ship with FedEx</a></li>
        </ul>
    </div>
    <%--Hover UPS Menu end--%>
    </form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:04:37.180

`'[id*=link]'`尝试在单击处理程序的末尾更改此行：

```
false; 
```

...成为

```
return false; 
```

演示：http: [//jsfiddle.net/nnnnnn/tdq3d/](http://jsfiddle.net/nnnnnn/tdq3d/)

也许您拥有它的方式只是您遗漏了该`return`部分的错字？无论如何，*它* `return false;`可以防止单击事件通过 DOM 传播，这意味着它不会到达您绑定到的单击处理程序`'html'`。*如果没有*点击确实会`return false;`向上传播，然后第二次点击处理程序会隐藏弹出菜单。

同样在`'html'`点击处理程序中，`if`测试并没有按照您的想法进行。第一部分：

```
 if ($(e.target).not("[id*='link']")
            && // etc 
```

...将始终是真实的，因为该[`.not()`方法](http://api.jquery.com/not/)不返回布尔值，它返回一个 jQuery 对象（并且任何对象都是真实的）。`.not()`您可以通过测试该对象的属性来测试是否返回了一个空的 jQuery 对象`length`（零长度将是错误的）：

```
 if ($(e.target).not("[id*='link']").length
            && // etc 
```

我认为这也可以解决您的问题，如下所示：http: [//jsfiddle.net/nnnnnn/RAGNJ/3/](http://jsfiddle.net/nnnnnn/RAGNJ/3/)

# java - 我们可以使用 String.format() 用所需长度的字符填充/前缀吗？

> ID：15635273
> 
> 赞同：12
> 
> 时间：2013-03-26T10:55:12.820
> 
> 标签：java, string, format

可`java.lang.String.format(String str, String str1)`用于添加特定字符的前缀。

我可以为以下数字执行此操作：

```
int sendID = 202022;
String usiSuffix = String.format("%032d", sendID); 
```

它的 a`String`长度为 32 并用 0s 填充：`00000000000000000000000000202022`

当 sendID`String`类似于：

```
String sendID = "AABB"; 
```

我想要一个像这样的输出：`0000000000000000000000000000AABB`

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-26T11:10:37.983

您可以使用这种骇人听闻的方式来获取输出：

```
String sendID = "AABB";
String output = String.format("%0"+(32-sendID.length())+"d%s", 0, sendID); 
```

### 演示：http: [//ideone.com/UNVjqS](http://ideone.com/UNVjqS)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-26T11:03:02.477

如果您真的想使用，您可以执行以下操作`String.format`，

```
String sendID = "AABB";
String.format("%32s", sendID ).replace(' ', '0') 
```

除了你可以[在这里](https://stackoverflow.com/questions/4051887/how-to-format-a-java-string-with-leading-zero)`String.format`找到许多解决方案。

**编辑**：感谢布赖恩指出问题。以上不适用于带空格的输入。您可以尝试如下。但我不会建议下面的操作，因为它有太多的字符串操作。

```
String sendID = "AA BB";
String suffix = String.format("%32s", "").replace(' ', '0') + sendID;
sendID = suffix.substring(sendID.length()); 
```

您也可以尝试使用[StringUtils.leftPad](http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#leftPad%28java.lang.String,%20int,%20char%29)

```
StringUtils.leftPad(sendID, 32 - sendID.length(), '0'); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-26T11:04:05.520

您不能使用`String.format()`任意字符填充。也许 Apache Commons [StringUtils.leftPad()](https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#leftPad(java.lang.String,%20int))将用于简洁的解决方案？注意还有一个`StringUtils.rightPad()`。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-03-25T10:15:11.827

如果将来有人需要，我只是添加一些 Java 8 代码：

```
public class App {
    public static void main(String[] args) {
        System.out.println(leftpad("m m", 2, '@'));
        System.out.println(leftpad("m m", 5, '@'));
    }

    static String leftpad(String s, int nb, char pad) {
        return Optional.of(nb - s.length())
                .filter(i -> i > 0)
                .map(i-> String.format("%" + i + "s", "").replace(" ", pad + "") + s)
                .orElse(s);
    }

} 
```

此版本支持添加任何字符作为填充

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-15T07:35:52.237

这就是我使用基本 jdks String.format 函数解决此问题的方法

```
String sendId="AABB";
int length=20;
String.format("%"+length+"s",sendId).replaceAll(" ","0") 
```

# javascript - 使图像向其中心缩放

> ID：15635274
> 
> 赞同：0
> 
> 时间：2013-03-26T10:55:14.140
> 
> 标签：javascript, html, image, scale, center

我最近发布了一个关于如何使用 input type="range" 元素缩放图像的问题。[我从用户Prisoner](https://stackoverflow.com/users/475125/prisoner)那里得到了很好的回答：

```
<input id="ranger" type="range" min="1" max="100" value="100" />
<hr />
<img id="image" src="http://google.com/images/logo.png" width="275" height="95" />

var ranger = document.getElementById('ranger'),
image =  document.getElementById('image'),
width = image.width,
height = image.height;

ranger.onchange = function(){
image.width = width * (ranger.value / 100);
image.height = height * (ranger.value / 100);
} 
```

然而！这会将图像向左上角缩放，我需要一个向其中心缩放的图像。我如何实现这一目标？似乎无法使用 text-align:center 或任何东西让它工作......

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:25:01.753

是的。假设您的图像以全宽开始，您只需要考虑图像中心，然后在尺寸变化时重新定位图像。

添加到CSS： `img{ position: relative; }`

并像这样修改你的函数：

```
ranger.onchange = function(){
image.width = width * (ranger.value / 100);
image.height = height * (ranger.value / 100);

image.style.left=(width/2-image.width/2+"px");
image.style.top=(height/2-image.height/2+"px");    
} 
```

这是一个工作的[jsFiddle](http://jsfiddle.net/opherv/avVHn/)

顺便说一句，您是否打算允许将图像缩小到 ~ 1pX1px 大小？那有什么意义呢？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:06:31.037

使用 img 标签的 align 选项。

```
 <img id="image" src="http://google.com/images/logo.png"  align="middle" width="275" height="95" /> 
```

# artificial-intelligence - 权重如何适用于不同的集合？

> ID：15635278
> 
> 赞同：1
> 
> 时间：2013-03-26T10:55:23.037
> 
> 标签：artificial-intelligence, neural-network

我正在阅读有关神经网络的内容，但无法理解这一点-如果仅更新权重以适应特定的输入-输出对，它如何工作？我的意思是，另一组的权重可能完全不同。它将针对特定情况进行调整，但需要根据另一种情况的输出比较进行重新调整。我只是看不到“魔术”......一个简单的输入示例将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T14:24:16.510

一个容易理解的例子是简单的[曲线拟合](http://en.wikipedia.org/wiki/Curve_fitting)（看看这个维基百科页面上的动画）。这是一项也可以通过神经网络完成的任务。“魔力”在于，您的网络模拟了一个关于您的训练数据（输入-输出对）的近似**函数。**训练期间未出现的新案例可以可视化为训练数据点之间的点。

现在尝试想象更一般的情况，您不仅有 1 个输入值和 1 个输出值，而且都是多变量的。例如，使用具有 10 个输出神经元的[MNIST 手写数字数据集的 28x28 = 784 像素。](http://yann.lecun.com/exdb/mnist/)每个输出神经元模拟给定示例属于每个数字 0..9 的概率。在训练期间，您的网络将学习**特征**. 这意味着它可以检测输入数据中的相关性，从而可以进行抽象（有时您也可以将其想象为一种“压缩”）。因此，第一个隐藏层中的每个神经元都模拟了一个特定的特征。您可以通过将第一个隐藏神经元的权重视为灰度图像来可视化这些特征，并使用任意图像库（如 python 的 matplotlib）对其进行绘制。尝试在上面链接的 mnist 数据库上训练神经网络并查看这些功能，这应该可以阐明其工作原理。

你的神经网络更深的隐藏层现在接受前一层的激活并学习*更高层次的*特征。这意味着他们正在结合前一层的特征来获得更抽象的输入表示。这对随后的每一层都进行，直到你最终得到 10 个输出神经元，对抽象信息“在给定的输入图像上可见零”进行建模。

显然，如果你有足够多的训练数据覆盖很多情况，你最终会得到很多特征。即使给定的输入与您在训练期间使用的情况不同（例如，稍微失真的新零），这些功能也将起作用。

自然，网络的*泛化性能*取决于您的训练数据涵盖了多少不同的一般情况。但是还有其他关于你的神经网络架构的因素会影响泛化性能。提到一些关键字，你应该看看 L1 和 L2 正则化、权重衰减、卷积神经网络、dropout 等——它们都是进一步提高泛化性能的技术。

# c++ - Eclipse ODS 索引器找不到正确的包含 .h 文件，但请参阅外部项目的参考 .h 包含

> ID：15635290
> 
> 赞同：0
> 
> 时间：2013-03-26T10:56:20.847
> 
> 标签：c++, eclipse, indexing, include, ods

有问题的：

大 C++ 项目代码，有很多 ouside 项目的相关参考。使用 Eclipse ODS 的索引。

当我在头文件中进行非轻微更改（添加新函数，类的新成员数据）然后我在我的 cpp 代码中使用它们时会发生问题，但是在它之后，即使我在索引器中重新构建，索引器也无法引用不再向右包含标题，特别是，我所有新添加的变量或函数都无法解决。并且该标头中的所有其他功能都无法在项目中引用此包含，但索引器会从外部引用中搜索另一个原始包含。

我试过：重新配置项目，在索引器中重建刷新。或关闭 proejct——重新打开它，删除这个 Eclipse 项目并使用相同的代码创建一个新项目。ETC...

但所有都未能索引到正确的包含标题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T09:15:15.797

我想我解决了这个问题。

我们需要对此进行修改：在项目的属性--C/C++ 常规--路径和符号--包含--语言选项中有三个（虽然我在其中更改了每个）。

我删除了列表中重复的 exterier 的 .h 文件，并在其中手动添加了项目的正确包含的路径。

然后重新索引它。（或再次关闭日食，重新打开）

在它之后，它可以正确地引用标题。

完毕！

# c# - C# 数学应用程序的数字类型是什么？

> ID：15635296
> 
> 赞同：1
> 
> 时间：2013-03-26T10:56:37.997
> 
> 标签：c#, .net, math, double, decimal

我编写了一个区间分析 C# 应用程序，所以我必须处理非常大或非常小的数字。我认为 double 是一种非常好的数据类型（因为浮点运算）。用户可以使用以下正则表达式定义任何可以检测其中数字的函数：

```
([0-9]+)|([0-9]+.[0-9]+) 
```

这是一个反之亦然的进展，应用程序计算了一些数据，我也必须在计算的数据上匹配正则表达式。我的问题是，在某些关键情况下，双重使用科学缩写，例如 1E-9，但我想使用上面正则表达式中定义的格式。我认为对于这种情况，十进制是一种很好的类型，但常见的数学函数使用双输入，所以我必须在任何地方进行转换。

有没有一种好的和有效的方法来处理这个问题？（对不起我的英语不好）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-26T10:59:10.900

`double`在您将其呈现为字符串之前，不会使用任何特定的文本格式。*然后*，您可以通过指定[标准格式说明符](http://msdn.microsoft.com/en-gb/library/dwhawy9k.aspx)或[自定义格式说明符](http://msdn.microsoft.com/en-us/library/0c899ak8.aspx)来选择要执行的操作。所以*告诉它*你想要什么。广泛的示例显示在[`double.ToString(string)`](http://msdn.microsoft.com/en-us/library/kfsatb94.aspx)

# coding-style - 样式锚中的填充与行高

> ID：15635302
> 
> 赞同：0
> 
> 时间：2013-03-26T10:57:14.343
> 
> 标签：coding-style, anchor, padding, css

在css样式元素中使用填充顶部/底部而不是固定高度和垂直居中与行高时是否有任何规则/建议？

什么是更好/更通用的解决方案（从任何角度来看）？

这个

```
a {
    padding: 0 15px;
    height: 40px;
    line-height: 40px;
} 
```

或这个

```
a { 
    padding: 10px 15px;
} 
```

演示[在这里](http://jsfiddle.net/pavhan/PCGDW/)。

谢谢你的经验

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:00:01.063

当您的文本仅限于一行时，我认为使用它们中的任何一个（填充，行高）都没有太大区别。但是当文本超过一行时，您可能会被迫不使用行高。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-03-26T11:51:06.417

我不确定你的问题

填充和行高完全不同

**填充**

CSS 填充属性定义元素边框和元素内容之间的空间。

**线高**

line-height 属性指定行高。

# xslt - xslt 中的选择

> ID：15635303
> 
> 赞同：1
> 
> 时间：2013-03-26T10:57:15.043
> 
> 标签：xslt

嗨，我有以下 xml

```
 <primaryie>
  <content-style font-style="bold">VIRRGIN system 7.204, 7.205</content-style> 
  </primaryie> 
```

通过应用下面的 xslt，我可以选择数字。

```
<xsl:value-of select="current()/text()"/> 
```

但在以下情况下

```
 <primaryie>
  <content-style font-style="bold">VIRRGIN system</content-style> 
  7.204, 7.205 
  </primaryie> 
```

如何选择号码？我想要使​​用 xslt:parent of content style 之类的东西。

我也有一些情况，两个 xmls 都在一起。如果两种情况都存在，请告诉我如何选择号码。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T14:42:10.997

**使用**：

```
<xsl:template match="primaryie/text()">
  <!-- Processing of the two numbers here -->
</xsl:template> 
```

**为确保选择执行的模板**，您可以使用一个`xsl:apply-templates`选择想要的文本节点，并且它本身位于选择执行的模板中。

**例如**：

```
<xsl:template match="primaryi">
  <!-- Any necessary processing, including this: -->
  <xsl:apply-templates select="text()"/>
</xsl:template> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T14:01:51.487

```
<xsl:template match="content-style">
  <xsl:value-of select="parent::*/text()"/>
</xsl:template> 
```

或者，或者，

```
<xsl:template match="content-style">
  <xsl:value-of select="../text()"/>
</xsl:template> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T13:45:41.380

我认为使用类似于下面的模板设计应该会有所帮助：

```
<xsl:template match="primaryie">
    <!-- Do some stuffs here, if needed -->
    <!-- With the node() function you catch elements and text nodes (* just catch elements) -->
    <xsl:apply-templates select="node()"/>
</xsl:template>

<xsl:template match="content-style">
    <!-- Do some stuffs here, if needed -->
    <!-- same way -->
    <xsl:apply-templates select="node()"/>
</xsl:template>

<!-- Here you got the template which handle the text nodes. It's probably better to add the ancestor predicate to limit its usage to the only text nodes we need to analyze ('cause the xslt processor often has some silent calls to the embedded default template <xsl:template match="text()"/> and override it completely could have some spectacular collaterall damages). -->
<xsl:template match="text()[ancestor::primaryie]">
   <!-- Do your strings 'cooking' here -->
</xsl:template> 
```

# c# - 根据用户级输入更新 SQL Server 表

> ID：15635310
> 
> 赞同：0
> 
> 时间：2013-03-26T10:57:42.997
> 
> 标签：c#, sql, sql-server

我正在将表的内容读入我的 C# 应用程序，最终用户将能够在其中编辑数据。然后我希望将这些新信息发送回数据库。

```
DataTable Table = new DataTable("TestTable");
            using (SqlConnection _con = new SqlConnection(connectionString))
            {
                string queryStatement = "SELECT * FROM dbo.usr_Table ORDER BY code ASC";

                using (SqlCommand _cmd = new SqlCommand(queryStatement, _con))
                {
                    SqlDataAdapter _dap = new SqlDataAdapter(_cmd);

                    _con.Open();
                    _dap.Fill(Table);
                    _con.Close();
                }
            }

            dataGridView1.DataSource = Table; 
```

我对 SQL 有足够的信心来编写一条 UPDATE 语句，内嵌在我的 C# 代码中，但这是最好/最有效的方法吗？

我将不得不根据新应用程序端的每一行进行更新，我可以有这样的东西吗？

```
SqlCommand sqlCmd = new SqlCommand("UPDATE usr_Table SET description= @description, subject = @subject, text = @text, status = @status WHERE code = @code", connectionString); 
```

如果是这样，如何将 C# 表中的值分配给变量？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:12:26.797

我个人会使用 LINQ 来执行这种过程，但是如果您想要或需要滚动自己的 SQL 查询，如何：

```
SqlCommand sqlCmd = new SqlCommand("UPDATE usr_Table SET description= @description, subject = @subject, text = @text, status = @status WHERE code = @code", connectionString);
sqlCmd.Parameters.Add(new SqlParameter("description", newDescription));
sqlCmd.Parameters.Add(new SqlParameter("subject", newSubject));
sqlCmd.Parameters.Add(new SqlParameter("text", newText));
sqlCmd.Parameters.Add(new SqlParameter("status", newStatus));
sqlCmd.Parameters.Add(new SqlParameter("subject", newSubject));
sqlCmd.Parameters.Add(new SqlParameter("code", code));

sqlCmd.ExecuteNonQuery(); 
```

这将为查询提供所有命名参数以及新值。

# winforms - form1的textBox的值必须出现在form2的textBox中

> ID：15635312
> 
> 赞同：0
> 
> 时间：2013-03-26T10:57:44.893
> 
> 标签：winforms, visual-studio, visual-c++, textbox, c++-cli

在按下菜单中的选项（即打开子表单）后，我需要在 Form2（子）的 textBox2 中显示 Form1（父）的 textBox1 的值。基本上是亲子沟通问题。我试图修改[它](http://blog.iandreev.com/?p=194)来做我需要的，但没有运气，我得到：

```
Used_values.h(30) : warning C4101: 'HERE' : unreferenced local variable
Used_values.h(560) : error C2065: 'HERE' : undeclared identifier 
```

在这里您可以找到我的代码的相关部分：

表格 1（父级）：

```
#pragma once
#include "Used_values.h"

namespace Vp_vs_gasconcentration_WindowsForm {

    using namespace System;
    using namespace System::ComponentModel;
    using namespace System::Collections;
    using namespace System::Windows::Forms;
    using namespace System::Data;
    using namespace System::Drawing;

    public ref class Form1 : public System::Windows::Forms::Form
    {
    public:
        Form1(void)
        {
            InitializeComponent();
        }

    protected:
        ~Form1()
        {
            if (components)
            {
                delete components;
            }
        }
    private: System::Windows::Forms::MenuStrip^  menuStrip1_generalMenu;
    private: System::Windows::Forms::ToolStripMenuItem^  usedValues_ToolStripMenuItem;
    private: System::Windows::Forms::TextBox^  textBox1_waterDepth;
    //(more code...)

    private:
        System::ComponentModel::Container ^components;

#pragma region Windows Form Designer generated code
        void InitializeComponent(void)
        {
            //(more code...)
            this->textBox1_waterDepth = (gcnew System::Windows::Forms::TextBox());
            //(more code...)
            // 
            // textBox1_waterDepth
            // 
            this->textBox1_waterDepth->Font = (gcnew System::Drawing::Font(L"Segoe UI", 10));
            this->textBox1_waterDepth->Location = System::Drawing::Point(336, 185);
            this->textBox1_waterDepth->Name = L"textBox1_waterDepth";
            this->textBox1_waterDepth->Size = System::Drawing::Size(100, 25);
            this->textBox1_waterDepth->TabIndex = 1;
            this->textBox1_waterDepth->Text = L"2170";
            this->textBox1_waterDepth->TextAlign = System::Windows::Forms::HorizontalAlignment::Right;
            this->textBox1_waterDepth->TextChanged += gcnew System::EventHandler(this, &Form1::textBox1_waterDepth_TextChanged);
            //(more code...)
        }

#pragma endregion
    //(more code...)
    private: System::Void usedValues_ToolStripMenuItem_Click(System::Object^  sender, System::EventArgs^  e) {
                 Used_values^ used_values = gcnew Used_values();
                 used_values->StartPosition = FormStartPosition::CenterParent;
                 used_values->ShowDialog();
                 used_values->HERE = textBox1_waterDepth->Text;
             }
    //(more code...)
};
} 
```

used_values（孩子）：

```
#pragma once

using namespace System;
using namespace System::ComponentModel;
using namespace System::Collections;
using namespace System::Windows::Forms;
using namespace System::Data;
using namespace System::Drawing;

namespace Vp_vs_gasconcentration_WindowsForm {

    public ref class Used_values : public System::Windows::Forms::Form
    {
    public:
        Used_values(void)
        {
            InitializeComponent();
            String ^HERE;
        }

    protected:
        ~Used_values()
        {
            if (components)
            {
                delete components;
            }
        }
    private: System::Windows::Forms::TextBox^  textBox1_waterDepthUsedValues;
    //(more code...)

    private:
        System::ComponentModel::Container ^components;

#pragma region Windows Form Designer generated code
        void InitializeComponent(void)
        {
            //(more code...)
            this->textBox1_waterDepthUsedValues = (gcnew System::Windows::Forms::TextBox());
(more code...)
            // 
            // textBox1_waterDepthUsedValues
            // 
            this->textBox1_waterDepthUsedValues->Location = System::Drawing::Point(435, 10);
            this->textBox1_waterDepthUsedValues->Name = L"textBox1_waterDepthUsedValues";
            this->textBox1_waterDepthUsedValues->Size = System::Drawing::Size(100, 25);
            this->textBox1_waterDepthUsedValues->TabIndex = 1;
            this->textBox1_waterDepthUsedValues->TextAlign = System::Windows::Forms::HorizontalAlignment::Right;
            this->textBox1_waterDepthUsedValues->TextChanged += gcnew System::EventHandler(this, &Used_values::textBox1_waterDepthUsedValues_TextChanged);
            //(more code...)
        }
#pragma endregion

private: System::Void textBox1_waterDepthUsedValues_TextChanged(System::Object^  sender, System::EventArgs^  e) {
             textBox1_waterDepthUsedValues->Text = HERE;
         }
};
} 
```

因此，它应该出现在 Form2 的 textBox (Used_values) 中的是 2170（Form1 中 textBox 的默认值）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:01:36.710

在构造函数中传递引用`Used_values`

```
#pragma once

using namespace System;
using namespace System::ComponentModel;
using namespace System::Collections;
using namespace System::Windows::Forms;
using namespace System::Data;
using namespace System::Drawing;

namespace Vp_vs_gasconcentration_WindowsForm {

public ref class Used_values : public System::Windows::Forms::Form
{
public:
    Used_values(System::String^ here)
    {
        InitializeComponent();
        HERE = here;
    }

protected:
    ~Used_values()
    {
        if (components)
        {
            delete components;
        }
    }
private: System::Windows::Forms::TextBox^  textBox1_waterDepthUsedValues;
         System::String^ HERE;
//(more code...)

private:
    System::ComponentModel::Container ^components;

#pragma region Windows Form Designer generated code
    void InitializeComponent(void)
    {
        //(more code...)
        this->textBox1_waterDepthUsedValues = (gcnew System::Windows::Forms::TextBox());
        (more code...)
        // 
        // textBox1_waterDepthUsedValues
        // 
        this->textBox1_waterDepthUsedValues->Location = System::Drawing::Point(435, 10);
        this->textBox1_waterDepthUsedValues->Name = L"textBox1_waterDepthUsedValues";
        this->textBox1_waterDepthUsedValues->Size = System::Drawing::Size(100, 25);
        this->textBox1_waterDepthUsedValues->TabIndex = 1;
        this->textBox1_waterDepthUsedValues->TextAlign = 
        System::Windows::Forms::HorizontalAlignment::Right;
        this->textBox1_waterDepthUsedValues->TextChanged += 
        gcnew System::EventHandler(this, &Used_values::textBox1_waterDepthUsedValues_TextChanged);
        //(more code...)
    }
#pragma endregion

 private: System::Void textBox1_waterDepthUsedValues_TextChanged(System::Object^  sender, System::EventArgs^  e) {
         textBox1_waterDepthUsedValues->Text = HERE;
     }
};
}

Used_values(System::String^ here)
    {
        InitializeComponent();
        String ^HERE = here;
    } 
```

并且不要`void`用作参数，这是`C`-style！

**编辑**

```
#pragma once
#include "Used_values.h"

namespace Vp_vs_gasconcentration_WindowsForm {

using namespace System;
using namespace System::ComponentModel;
using namespace System::Collections;
using namespace System::Windows::Forms;
using namespace System::Data;
using namespace System::Drawing;

public ref class Form1 : public System::Windows::Forms::Form
{
public:
    Form1()
    {
        InitializeComponent();
    }

protected:
    ~Form1()
    {
        if (components)
        {
            delete components;
        }
    }
private: System::Windows::Forms::MenuStrip^  menuStrip1_generalMenu;
private: System::Windows::Forms::ToolStripMenuItem^  usedValues_ToolStripMenuItem;
private: System::Windows::Forms::TextBox^  textBox1_waterDepth;
//(more code...)

private:
    System::ComponentModel::Container ^components;

#pragma region Windows Form Designer generated code
    void InitializeComponent(void)
    {
        //(more code...)
        this->textBox1_waterDepth = (gcnew System::Windows::Forms::TextBox());
        //(more code...)
        // 
        // textBox1_waterDepth
        // 
        this->textBox1_waterDepth->Font = (gcnew System::Drawing::Font(L"Segoe UI", 10));
        this->textBox1_waterDepth->Location = System::Drawing::Point(336, 185);
        this->textBox1_waterDepth->Name = L"textBox1_waterDepth";
        this->textBox1_waterDepth->Size = System::Drawing::Size(100, 25);
        this->textBox1_waterDepth->TabIndex = 1;
        this->textBox1_waterDepth->Text = L"2170";
        this->textBox1_waterDepth->TextAlign = System::Windows::Forms::HorizontalAlignment::Right;
        this->textBox1_waterDepth->TextChanged += gcnew System::EventHandler(this, &Form1::textBox1_waterDepth_TextChanged);
        //(more code...)
    }

#pragma endregion
//(more code...)
private: System::Void usedValues_ToolStripMenuItem_Click(System::Object^  sender, System::EventArgs^  e) {
             Used_values^ used_values = gcnew Used_values();
             used_values->StartPosition = FormStartPosition::CenterParent;
             used_values->ShowDialog();
             used_values->HERE = textBox1_waterDepth->Text;
         }
//(more code...)
};
} 
```

used_values（孩子）：

```
#pragma once

using namespace System;
using namespace System::ComponentModel;
using namespace System::Collections;
using namespace System::Windows::Forms;
using namespace System::Data;
using namespace System::Drawing;

namespace Vp_vs_gasconcentration_WindowsForm {

public ref class Used_values : public System::Windows::Forms::Form
{
public:
    Used_values()
    {
        InitializeComponent();
    }

String ^HERE; //declared HERE as public

protected:
    ~Used_values()
    {
        if (components)
        {
            delete components;
        }
    }
private: System::Windows::Forms::TextBox^  textBox1_waterDepthUsedValues;
//(more code...)

private:
    System::ComponentModel::Container ^components;

#pragma region Windows Form Designer generated code
    void InitializeComponent(void)
    {
        //(more code...)
        this->textBox1_waterDepthUsedValues = (gcnew System::Windows::Forms::TextBox());
  (more code...)
        // 
        // textBox1_waterDepthUsedValues
        // 
        this->textBox1_waterDepthUsedValues->Location = System::Drawing::Point(435, 10);
        this->textBox1_waterDepthUsedValues->Name = L"textBox1_waterDepthUsedValues";
        this->textBox1_waterDepthUsedValues->Size = System::Drawing::Size(100, 25);
        this->textBox1_waterDepthUsedValues->TabIndex = 1;
        this->textBox1_waterDepthUsedValues->TextAlign = System::Windows::Forms::HorizontalAlignment::Right;
        this->textBox1_waterDepthUsedValues->TextChanged += gcnew System::EventHandler(this, &Used_values::textBox1_waterDepthUsedValues_TextChanged);
        //(more code...)
    }
 #pragma endregion

private: System::Void textBox1_waterDepthUsedValues_TextChanged(System::Object^  sender, System::EventArgs^  e) {
         textBox1_waterDepthUsedValues->Text = HERE;
     }
};
} 
```

[据此](http://blog.iandreev.com/?p=194)更改内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:36:29.007

最后我找到了解决方案！感谢 bash.d 的所有支持 =)

1.  更改子窗体的构造函数以接收 String 参数：

    ```
    public:
        Form2(String^ text)
        {
            InitializeComponent();
            this->textBox2->Text = text;
        } 
    ```

2.  在父表单中单击按钮时显示子表单：

    ```
    private: System::Void button1_Click(System::Object^  sender, System::EventArgs^  e) {
         Form2^ form = gcnew Form2(this->textBox1->Text);
         form->Show();
     } 
    ```

# java - jaxb @XmlIDREF @XmlID 工作得非常好

> ID：15635318
> 
> 赞同：3
> 
> 时间：2013-03-26T10:57:57.167
> 
> 标签：java, jaxb, annotations

jaxb @XmlIDREF @XmlID 工作得非常好

**我的 xml 输入是**

```
<dept>
    <courses>
        <course id="1" units="4" level="UNDERGRAD" name="Fundamentals of Programming"/>
        <course id="2" units="3" level="UNDERGRAD" name="Advanced Programming">
            <pre>1</pre>
        </course>
        <course id="3" units="3" level="UNDERGRAD" name="Discrete Mathematics">
            <pre>1</pre>
        </course>
        <course id="4" units="3" level="UNDERGRAD" name="Data Structures"/>
        <course id="5" units="3" level="UNDERGRAD" name="Database Systems">
            <pre>4</pre>
            <pre>2</pre>
        </course>
        <course id="6" units="3" level="UNDERGRAD" name="Internet Engineering">
            <pre>4</pre>
            <pre>2</pre>
            <co>5</co>
        </course>
        <course id="7" units="3" level="GRAD" name="Formal Methods"/>
        <course id="8" units="3" level="GRAD" name="Advanced Networks"/>
        <course id="9" units="3" level="UNDERGRAD" name="Fundamentals of Management"/>
        <course id="10" units="3" level="UNDERGRAD" name="Fundamentals of IT"/>
        <course id="11" units="3" level="UNDERGRAD" name="Multimedia"/>
        <course id="12" units="3" level="UNDERGRAD" name="Network Security"/>
        <course id="13" units="3" level="UNDERGRAD" name="Elearning"/>
    </courses>
    <profs>
        <prof firstName="Ramtin" id="1"/>
        <prof firstName="Ahmad" id="2"/>
        <prof firstName="Hesham" id="3"/>
        <prof firstName="Fatemeh" id="4"/>
        <prof firstName="Mahmood" id="5"/>
        <prof firstName="Mahmoudreza" id="6"/>
        <prof firstName="Fattaneh" id="7"/>
        <prof firstName="Azadeh" id="8"/>
        <prof firstName="Siamak" id="9"/>
    </profs>
    <terms>
        <term id="1">
            <offering id="1" prof="6" course="1" section="1" time="1" capacity="10"/>
            <offering id="2" prof="1" course="2" section="1" time="1" capacity="10"/>
            <offering id="3" prof="9" course="3" section="1" time="2" capacity="10"/>
            <offering id="4" prof="3" course="4" section="1" time="3" capacity="10"/>
            <offering id="5" prof="1" course="7" section="1" time="6" capacity="10"/>
        </term>
        <term>
            <offering id="6" prof="1" course="2" section="1" time="5" capacity="10"/>
            <offering id="7" prof="9" course="3" section="1" time="6" capacity="10"/>
            <offering id="8" prof="4" course="8" section="1" time="6" capacity="10"/>
            <offering id="9" prof="2" course="1" section="1" time="1" capacity="10"/>
        </term>
    </terms>
    <students>
        <student firstName="Gholam" lastName="Patoobaf" program="1" id="810190420">
            <studyrec grade="9.0" offering="1" status="FAILED"/>
            <studyrec grade="0.0" offering="9" status="INPROGRESS"/>
        </student>
        <student firstName="Ghamar" lastName="Aghrabparast" program="1" id="810190421">
            <studyrec grade="16.0" offering="1" status="PASSED"/>
            <studyrec grade="0.0" offering="6" status="INPROGRESS"/>
            <studyrec grade="0.0" offering="7" status="INPROGRESS"/>
        </student>
    </students>
</dept> 
```

* * *

我的元素 java 类：**提供**

```
import javax.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
public class Offering {
    @XmlAttribute
    @XmlID
    private String id;
    @XmlAttribute
    @XmlIDREF
    private Prof prof;
    @XmlAttribute
    @XmlIDREF
    private Course course;
    @XmlAttribute
    private String section;
    @XmlAttribute
    private String time;
    @XmlAttribute
    private int capacity;

    public void setCapacity(int capacity) {
        this.capacity = capacity;
    }

    public int getCapacity() {
        return capacity;
    }

    public void setCourse(Course course) {
        this.course = course;
    }

    public Course getCourse() {
        return course;
    }

    public void setId(String id) {
        this.id = id;
    }

    public String getId() {
        return id;
    }

    public void setProf(Prof prof) {
        this.prof = prof;
    }

    public Prof getProf() {
        return prof;
    }

    public void setSection(String section) {
        this.section = section;
    }

    public String getSection() {
        return section;
    }

    public void setTime(String time) {
        this.time = time;
    }

    public String getTime() {
        return time;
    }    

    @Override
    public boolean equals(Object t) {
        if (t instanceof Offering) {
            if(((Offering)t).getId().equals(this.id)) {
                return true;
            }
        }
        return false;
    }

} 
```

* * *

我的元素java类：**Prof**

```
import javax.xml.bind.annotation.*;
@XmlAccessorType(XmlAccessType.FIELD)
public class Prof {
    @XmlAttribute
    private String firstName;   
    @XmlAttribute
    @XmlID
    private String id;

    public void setId(String id) {
        this.id = id;
    }

    public void setFirstname(String firstname) {
        this.firstName = firstname;
    }

    public String getFirstname() {
        return firstName;
    }

    public String getId() {
        return id;
    }

} 
```

* * *

因此，如果我只是将输入文件加载并保存到另一个文件中，我会惊奇地看到：在提供 prof id 小于 6 的元素时，prog 属性未显示并且在 java 上下文中为空，但提供的 prof id 为 6 或更多具有正确的 prof 属性

此事件也发生在提供的课程属性中，但为 9 而不是 6，正如您在下面看到我的部分输出：

```
...
 <offering id="1" prof="6" section="1" time="1" capacity="10"/>
 <offering id="2" section="1" time="1" capacity="10"/>
 <offering id="3" prof="9" section="1" time="2" capacity="10"/>
 <offering id="4" section="1" time="3" capacity="10"/>
 <offering id="5" section="1" time="6" capacity="10"/>
... 
```

它没有规则，例如 jaxb 对这个输入 xml 正常工作，而不仅仅是对于大于 6 的 id：

```
<offering id="1" prof="3" course="1" section="1" time="1" capacity="10"/>
<offering id="2" prof="3" course="2" section="1" time="1" capacity="10"/>
<offering id="3" prof="9" course="3" section="1" time="2" capacity="10"/>
<offering id="4" prof="8" course="4" section="1" time="3" capacity="10"/>
<offering id="5" prof="6" course="7" section="1" time="6" capacity="10"/> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T20:21:39.367

我的问题通过实施 IDResolver 解决了

# oracle - pl sql触发器。插入和删除表

> ID：15635319
> 
> 赞同：0
> 
> 时间：2013-03-26T10:58:06.407
> 
> 标签：oracle, plsql, triggers

在触发触发器时，在 sql server 中，会创建 2 个临时表。一个是插入的表，其中包含触发器所属的原始表的行，其中发生了插入或更新（它包含 :NEW 值）；另一个是已删除的表，它同样包含 OLD 值。

在 sql Server 中，可以在触发器中使用这些表，以便获取有关 OLD 和 NEW 值的信息。（做一个简单的例子：可以在触发器内部进行“SELECT * FROM INSERTED”，以便选择所有已进行更新的行或所有插入的行以防插入）。

很酷的一点是，可以动态调用:NEW.value 和:OLD.value，如果像我的情况一样，我想在更多表上使用相同的触发器（它们也彼此不同）。

Oracle pl sql有类似的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:56:42.340

我认为您正在考虑审计表，请找到对插入、更新和删除进行审计的触发器

编辑：`phantom`建议您需要在插入审计表之前检查每一列的新旧值。这样您可以实现哪些列值发生变化。但是为此，如果多列已更新，您需要将多行插入审计表相同的记录。

我的想法是在更新/删除/插入审计表之前创建同一记录的副本。当你想要更改时，根据 source_action/source_rowid 与审计表中的先前记录进行比较

```
 CREATE TABLE table_for_audit
    (
       col1       NUMBER,
       col2       NUMBER,
       col3       NUMBER,
       cre_date   DATE,
       cre_user   VARCHAR2 (200)
    );

    CREATE TABLE audit_table
    (
       col1            NUMBER,
       col2            NUMBER,
       col3            NUMBER,
       cre_date        DATE,
       cre_user        VARCHAR2 (200),
       source_action   VARCHAR2 (1),
       source_rowid
    );

    CREATE OR REPLACE TRIGGER trg_table_audit
       BEFORE INSERT OR UPDATE OR DELETE
       ON table_for_audit
       REFERENCING NEW AS NEW OLD AS OLD
       FOR EACH ROW
    DECLARE
       v_source_action   VARCHAR2 (1);
    BEGIN
       IF INSERTING
       THEN
          v_source_action := 'I';
          v_source_rowid := :NEW.ROWID;
       ELSIF UPDATING
       THEN
          v_source_action := 'U';
          v_source_rowid := :OLD.ROWID;
       ELSIF DELETING
       THEN
          v_source_action := 'D';
          v_source_rowid := :OLD.ROWID;
       END IF;

       IF INSERTING OR UPDATING
       THEN
          INSERT INTO audit_table (col1,
                                   col2,
                                   col3,
                                   cre_date,
                                   cre_user,
                                   source_action,
                                   source_rowid)
               VALUES (:NEW.col1,
                       :NEW.col2,
                       :NEW.col3,
                       SYSDATE,
                       SYS_CONTEXT ('USERENV', 'CURRENT_USER'),
                       v_source_action,
                       v_source_rowid);
       ELSIF DELETING
       THEN
          INSERT INTO audit_table (col1,
                                   col2,
                                   col3,
                                   cre_date,
                                   cre_user,
                                   source_action,
                                   source_rowid)
               VALUES (:OLD.col1,
                       :OLD.col2,
                       :OLD.col3,
                       SYSDATE,
                       SYS_CONTEXT ('USERENV', 'CURRENT_USER'),
                       v_source_action,
                       v_source_rowid);
       END IF;
    END;
    / 
```

如果我的理解有误，请纠正。谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T12:56:36.687

您想对触发器使用`referencing`子句。官方图在[这里](http://docs.oracle.com/cd/E11882_01/appdev.112/e25519/create_trigger.htm#BABEBAAB)，但我发现[这个页面](http://www.plsql-tutorial.com/plsql-triggers.htm)解释得更好一些。

基本上，您可以这样创建触发器：

```
CREATE OR REPlACE TRIGGER trigger_name
AFTER DELETE OR INSERT OR UPDATE
ON table_name
REFERENCING OLD AS oldAlias AND NEW AS newAlias
... 
```

现在您可以将触发前值和触发后值引用为`:oldAlias.column_name`和`:newAlias.column_name`。

例如，这将检查 person_type 值是否从 1 更新为 2：

```
IF :oldAlias.personnel_type = 1 AND :newAlias.personnel_type = 2 THEN 
  -- do something
END IF ; 
```

据我所知，听起来您想创建一个触发器来监控多个表。Oracle 触发器不是这样工作的。您要监视的每个表都必须有自己的单独触发器。但是，您可以：

*   从触发器调用一个过程/函数，将有问题的值传递给它（只要确保不要卡在递归/变异触发器中）
*   使用自己的触发器创建单独的审计表。当您的源表更新时，您将更改/数据（例如表名或列）推送到审计表。然后审计表的触发器可以按照您的意愿处理。

# linux - 获取两个特殊字符之间的字符串

> ID：15635321
> 
> 赞同：4
> 
> 时间：2013-03-26T10:58:08.933
> 
> 标签：linux, bash, scripting, sed, awk

如何在a`sed`中获取每行字符的第一次出现`grep``awk``tr``bash script`

```
'      and      . 
```

从这个文件。（字符是单引号和句点）。这真的很难，我喜欢你甚至在尝试。

这样命令产生：

理想输出：

```
orinak
pchovi
orinak

xpt

moon 
```

在以下文件上：

```
class GI_DnConstants {
        const BO_DOMAIN_NAME = 'orinak.backoffice.domain.com';
        const EX_DOMAIN_NAME = 'pchovi.extranet.domain.com';
        const WS_DOMAIN_NAME = 'orinak.www.domain.com';
        const PT_DOMAIN_NAME = '.partner.domain.com';
        const PTS_DOMAIN_NAME = 'xpt.partners.domain.com';
        const WS_SECURE_DOMAIN_NAME = '.secure.domain.com';
        const IMG_DOMAIN_NAME = 'moon.images.domain.com';
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T11:12:39.973

如果不需要输出中的空行，则此带有“环视”的 grep 将提供您想要的：

```
grep -Po "(?<=')[^.']*(?=\.)" file 
```

刚刚看到你用**awk标记了这个问题**

**然后在输出中使用**这些空行尝试这个 awk ：

```
awk -F"['.]" 'NF>2{print $2}' file 
```

（示例中的 awk 单行代码适用于您的输入）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:02:12.667

尝试这个：

```
sed -n "s/.*'\([^\.]*\)\..*/\1/p" input_file.txt 
```

跑：

```
$ sed -n "s/.*'\([^\.]*\)\..*/\1/p"  input_file.txt
orinak
pchovi
orinak

xpt

moon

$ sed --version
GNU sed version 4.2.1
Copyright (C) 2009 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE,
to the extent permitted by law.

GNU sed home page: <http://www.gnu.org/software/sed/>.
General help using GNU software: <http://www.gnu.org/gethelp/>.
E-mail bug reports to: <bug-gnu-utils@gnu.org>.
Be sure to include the word ``sed'' somewhere in the ``Subject:'' field. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:07:54.670

又快又脏：

```
egrep -o "'[^\.,;]+" file | cut -c2- 
```

注意：这不会打印空行。

# python - 集成中的循环

> ID：15635326
> 
> 赞同：0
> 
> 时间：2013-03-26T10:58:23.017
> 
> 标签：python, loops

我有一个具有周期性上限的积分，它取决于变量“l”。代码如下所示：

```
Gamma = 0

for l in R:
    ln = l*MPC/4.1
    while l <= RS:
        for i in R:
            j = i*MPC/4.1
            Results = integrate.tplquad(J_nu, 0.0, np.pi, lambda theta: ln, lambda theta: sqrt(ln**2 + j**2 - 2 * ln * j * cos(theta)), lambda theta, s: nuth, lambda theta, s: np.inf)
            Gamma += Results[0] 
```

对于 l 的每个值，我需要计算然后对沿 R 的每个点的所有积分求和（这就是我使用另一个 i-loop 的原因）。

有没有办法在没有多个循环的情况下重写这段代码？因为，即使对于一个 l 值，Python 也需要非常多的时间来计算这个积分。

# ember.js - PUT 请求中的数据格式

> ID：15635328
> 
> 赞同：0
> 
> 时间：2013-03-26T10:58:27.143
> 
> 标签：ember.js

我正在准备我的服务器端应用程序来处理`PUT`来自客户端的请求`emberjs`（使用`ember-data`）。客户端应用程序尚未准备好，因此我无法看到真正的请求（这在另一个开发人员手中）。尽管如此，我还是想实现服务器端。我在哪里可以找到有关`PUT`请求详细格式的信息？我需要两件事：

1.  `emberjs`应用程序将在请求的`URL`,`headers`和中发送什么`body`？
2.  `emberjs`应用程序期望什么作为对`PUT`请求的回复？

[在这里](http://emberjs.com/guides/models/the-rest-adapter/)您可以找到`emberjs`假设的 REST 接口的描述，但我一直无法找到有关`PUT`请求的详细信息。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T11:51:14.807

假设您使用的是 ember-data 的默认 RESTAdapter，以下是默认格式：

假设您正在更新具有以下属性的帖子：

```
id: 50,
title: 'PUT requests'
body: 'Ember-data has a lot of potential'
isPublished: false 
```

`PUT`请求将发送到 URL：'/posts/50' 。

请求中提交的有效载荷`PUT`将采用以下格式：

```
{
  "post": {
    "id": 50,
    "title": "PUT requests",
    "body": "Ember-data has a lot of potential",
    "is_published": false
  }
} 
```

RESTAdapter 期望响应采用与上述相同的格式。

# php - 避免重复条目 MySQL 和 PHP

> ID：15635329
> 
> 赞同：0
> 
> 时间：2013-03-26T10:58:30.680
> 
> 标签：php, mysql, transactions, mysqli, duplicates

我在工作场所开发了一个网络票务系统，但遇到了一个奇怪的麻烦。

所有提出的票都存储在一个 mysql 表中。未分配票证由“已分配”列标识，其中“假”是未分配票证的默认值。然后工程师单击网页上的“获取工单”按钮，并根据优先级将工单分配给工程师。

该工具运行良好，然而，由于过去 2-3 天，当工单流量增加时，有 2 或 3 个工程师一起按下“获取工单”按钮，并且他们都被分配了同一个工单。

谁能帮助我避免此类错误的最佳方法是什么。

我什至试图锁定数据库，但没有奏效。我正在寻找 MySQL 事务，但我认为这可能会减慢应用程序的速度。

请帮忙提出任何建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:07:34.140

你应该在你的 PHP 代码中使用 MySQL 事务

有用的链接[PHP + MySQL 事务示例](https://stackoverflow.com/questions/2708237/php-mysql-transactions-examples)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:13:28.523

如果您的数据库结构包含

*   门票的唯一标识符
*   “分配”标志
*   用户 ID 的“assigned_to”列
*   工单创建时间戳和/或工单更新时间戳

您可以通过原子更新和更新上的限制子句来解决此问题：

```
UPDATE  tickets
    SET
        assigned = TRUE,
        updated_at = NOW(),
        assigned_to = @current_user_id
    WHERE assigned = FALSE
    LIMIT 1; 
```

然后，您可以使用选择“获取”已分配给您当前用户 ID 的打开票证：

```
SELECT *
    FROM tickets
    WHERE assigned_to = @current_user_id
    ORDER BY updated_at DESC
    LIMIT 1; 
```

这利用了任何更新子句的原子性质。由于您的更新工作不需要分解为多个语句，因此您不需要事务。

如果更新更复杂，需要您从各个地方选择数据并在之后将其组合为更新，那么您当然*需要*事务。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T11:01:59.770

您需要使用事务。数据库环境中的事务在同时访问数据库的程序之间提供隔离。如果不提供这种隔离，则程序的结果可能是错误的。

# android - Android中最顶级的容器是什么？

> ID：15635331
> 
> 赞同：0
> 
> 时间：2013-03-26T10:58:45.567
> 
> 标签：android

嗨，如果您查看 java，最顶层的容器可能是“window”或“JFrame”，我们将在其中布置所有其余的 gui 组件。在 Android 中，对于每个活动，我们将在 xml 中定义一个布局以与 tthis 活动一起使用。所以当这个活动被加载时，它会加载相关的布局。那么这个布局是在哪里绘制的。我的意思是它首先会创建一个默认窗口并开始在其上绘制布局，或者这是如何发生的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:04:04.023

最顶层的容器是一个内部类`DecorView`，它是`FrameLayout`. [你可以在这里](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.1_r1/com/android/internal/policy/impl/PhoneWindow.java#PhoneWindow.DecorView)找到一些关于它的信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:04:48.987

让我们假设以下是您的 xml 布局：

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

    <ImageView  
        android:layout_width="fill_parent" 
        android:layout_height="fill_parent" 

        android:scaleType="center"
        android:src="@drawable/golden_gate" />

    <TextView
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:layout_marginBottom="20dip"
        android:layout_gravity="center_horizontal|bottom"

        android:padding="12dip"

        android:background="#AA000000"
        android:textColor="#ffffffff"

        android:text="Golden Gate" />

</FrameLayout> 
```

对于此 xml，将创建以下视图层次结构：

![在此处输入图像描述](../Images/1076ae4860e37fb726201d19da391c5a.png)

直到当前的`DecorView`android 版本实际上是一个`FrameLayout`

此信息取自 Roman Guy 博客，查看[此链接](http://www.curious-creature.org/2009/03/01/android-layout-tricks-3-optimize-part-1/)了解更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:01:18.630

您可以使用 Hierarchy Viewer ( [http://developer.android.com/tools/help/hierarchy-viewer.html](http://developer.android.com/tools/help/hierarchy-viewer.html) ) 或调试代码轻松发现它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T11:02:29.300

我认为一个活动的内容（你用 设置`setContentView`）嵌入在`FrameLayout`你可以像这样访问的内容中：

```
View root = findViewById(android.R.id.content); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-26T11:03:18.387

层级查看器在独立中已弃用，请使用[监视器](https://developer.android.com/tools/help/monitor.html)

# jsp - URL 未随最新页面更改而更新

> ID：15635338
> 
> 赞同：0
> 
> 时间：2013-03-26T10:59:13.703
> 
> 标签：jsp, url, redirect

我有一个与此非常相似的问题：[如何在 JSF 中导航？如何使 URL 反映当前页面（而不是上一个页面）](https://stackoverflow.com/questions/15521451/how-to-make-url-reflect-the-current-page-and-not-the-previous-one)

这实际上是同一个问题，但发生在不同的情况下，当我使用`<jsp:forward>`标签时

为了让您处于这种情况，我有一个表单，要求用户输入并通过执行登录。这将重定向到执行检查、更新会话的新页面 (checklogin.jsp)，如果一切正常，则如下所示：

```
 if (con.comprobarUserPass(passmd5)) { // We check everything is OK
           sesion.setAttribute("conexion", con);
           sesion.setAttribute("pass", passmd5);
  %>
  <jsp:forward page="index.jsp"/> //forwards to the index
  <%
  } else {
  %>
  <jsp:forward page="login.jsp"> // user/pass error, goes back to the login.jsp page
     <jsp:param name="error" value="<strong><span style=\"color:red;\">Usuario y/o clave incorrectos. <br>Vuelve a intentarlo.</span></strong>"/>
  </jsp:forward>
  <%               }
  } catch (userPassIncorrectoException e) {
  %>
  <jsp:forward page="login.jsp">
     <jsp:param name="error" value="<strong><span style=\"color:red;\">Usuario y/o clave incorrectos. <br>Vuelve a intentarlo.</span></strong>"/>
  </jsp:forward>
  <%                       }
  %> 
```

好吧，问题出现在这里，即使我被重定向到 index.jsp 页面或 login.jsp 页面，我的 url 是：

`http://localhost:8084/myContext/checklogin.jsp`

任何想法为什么会发生这种情况？它使调试过程变得比应有的更加困难。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T09:01:34.420

`response.sendRedirect("pageToGo");`通过在表单提交和提交后我需要去的实际页面之间使用和插入页面解决了我的问题。

这样，表单将调用仅重定向到用户在提交表单后必须看到的页面的中间网络。

# ipython - 在循环中运行 ipython 笔记本的一部分/使用不同的输入参数

> ID：15635341
> 
> 赞同：33
> 
> 时间：2013-03-26T10:59:17.117
> 
> 标签：ipython, ipython-notebook

我写了一个 ipython notebook，它分析了一个数据集。现在我想用这段代码循环不同的数据集。

代码分为大约 50 个单元格（包括注释、降价解释……）。有没有办法循环运行笔记本的一部分或运行具有不同输入参数的整个笔记本？

我不想将所有单元格合并到一个函数中或将代码下载为 python 脚本，因为我真的很喜欢通过仅执行某些单元格来运行（和试验）部分分析。

基本上它将脚本的部分重构为一个函数并循环调用该函数，只是“脚本的部分”是笔记本单元格。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-26T12:25:17.680

我通常在这些场景中做的是将重要的单元格包装为函数（您不必合并其中的任何一个），并有一个特定的主单元格来迭代参数列表并调用这些函数。例如，这是我的一个笔记本中“主单元”的样子：

```
import itertools
# parameters
P_peak_all = [100, 200]
idle_ratio_all = [0., 0.3, 0.6]
# iterate through these parameters and call the notebook's logic
for P_peak, idle_ratio in itertools.product(P_peak_all, idle_ratio_all):
    print(P_peak, idle_ratio, P_peak*idle_ratio)
    print('========================')
    m_synth, m_synth_ns = build_synth_measurement(P_peak, idle_ratio)
    compare_measurements(m_synth, m_synth_ns, "Peak pauser", "No scheduler", file_note="-%d-%d" % (P_peak, int(idle_ratio*100))) 
```

您仍然可以在整个笔记本中拖动一些数据（即使用您的数据调用单元格底部的每个函数），以便能够为单个单元格实时测试内容。例如，某些单元格可能会声明：

```
def square(x):
    y = x**2
    return y
square(x) # where x is your data running from the prior cells 
```

这使您可以进行现场实验，并且仍然可以从主单元调用通用功能。

我知道使用函数重构笔记本是一些额外的工作，但我发现它实际上增加了我的笔记本的可读性，当你在较长时间后返回它时很有用，并且如果它更容易将其转换为“正确的”脚本或模块必要的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-06-16T13:00:30.437

一个便宜但快速的技巧是在一种 while 循环中使用“运行所有单元格”：

[Ipython/Jupyter - 我们可以编写一个“运行上面的所有单元格”吗？](https://stackoverflow.com/questions/32267540/ipython-jupyter-can-we-program-a-run-all-cell-above)

更改参数

***你的代码***

把它放在你的最后一个单元格中：

显示(Javascript('IPython.notebook.execute_all_cells()'))

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-07-26T13:13:41.610

`papermill.execute_notebook`设计用于执行此任务：

```
import papermill as pm

pm.execute_notebook(
   'path/to/input.ipynb',
   'path/to/output.ipynb',
   parameters=dict(alpha=0.6, ratio=0.1)
) 
```

更多信息：[文档](https://papermill.readthedocs.io/en/latest/usage-execute.html)| [例子](https://github.com/nteract/papermill/tree/main/binder/cli-simple)。

# plugins - 为 Acrobat Dialogue 返回值设置 outASPathNames

> ID：15635344
> 
> 赞同：2
> 
> 时间：2013-03-26T10:59:25.980
> 
> 标签：plugins, acrobat, acrobat-sdk

我正在为 Adob​​e Acrobat 编写插件并遇到一些问题我正在设置`AVAppOpenDialog`变量的对话实现

```
*outASPathNames 
```

在底部的代码中。它在方法中说这个变量是

```
ASPathName** 
```

这是我的设置方式。即使该文件名为*file.jpg*，它有时也会显示不同的名称，例如*A9R5D8F.tmp*或根本不起作用。我怀疑我没有正确设置变量，但是当你没有被告知出了什么问题时，黑盒测试非常困难。谁能从下面的代码中看到我可能做错了什么

```
ASPathName asPathName;
char *filePath = "C:\\Test\\file1.jpg";
ASFile asFile;
ASPathName* arrays[] = {&asPathName};

asPathName = ASFileSysCreatePathFromDIPath(0, filePath, 0);
ASFileSysOpenFile64(0, asPathName, ASFILE_READ, (ASFile *)&asFile);

*outASPathNames = &asPathName; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T13:16:44.653

```
`*outASPathNames` 
```

根据 Acrobat API 是一个路径名数组。因此，对于初学者，您需要使用数组而不是 ASPathName 的地址。

其次，您需要确保分配此数组内存，否则会抛出异常。1 这里是数组的大小。

```
*outASPathNames = (ASPathName*)ASmalloc(sizeof(ASPathName) * 1); 
```

然后你可以填充

```
**outASPathNames = asPathName 
```

# vala - 这个不可理解的行为

> ID：15635345
> 
> 赞同：0
> 
> 时间：2013-03-26T10:59:26.267
> 
> 标签：vala

我在处理 vala 类中的这种行为时几乎没有问题。

这是我的代码：（build_and_send1 和 build_and_send2 是按下按钮发出的信号）

```
using GLib;
using Gtk;

public class Main : Object 
{

    /* 
     * Uncomment this line when you are done testing and building a tarball
     * or installing
     */
    //const string UI_FILE = Config.PACKAGE_DATA_DIR + "/" + "gtk_httpclient.ui";
    const string UI_FILE = "src/gtk_httpclient.ui";

    /* ANJUTA: Widgets declaration for gtk_httpclient.ui - DO NOT REMOVE */

    private Builder builder;

    public Main ()
    {

        try 
        {
            this.builder = new Builder ();
            this.builder.add_from_file (UI_FILE);
            this.builder.connect_signals (this);

            var window = this.builder.get_object ("window") as Window;
            /* ANJUTA: Widgets initialization for gtk_httpclient.ui - DO NOT REMOVE */
            window.show_all ();

            stderr.printf ("constructor:\n");
            stderr.printf ("this: %p\n", this);
            stderr.printf ("builder: %p\n", this.builder);
        } 
        catch (Error e) {
            stderr.printf ("Could not load UI: %s\n", e.message);
        } 

    }

    [CCode (instance_pos = -1)]
    public void on_destroy (Widget window) 
    {
        Gtk.main_quit();
    }

    public void build_and_send1 (Widget button)
    {
        stderr.printf ("\nbuild_and_send1:\n");
        stderr.printf ("this: %p\n", this);
        stderr.printf ("builder: %p\n", this.builder);
    }

    [CCode (instance_pos = -1)]
    public void build_and_send2 (Widget button)
    {
        stderr.printf ("\nbuild_and_send2:\n");
        stderr.printf ("this: %p\n", this);
        stderr.printf ("builder: %p\n", this.builder);
    }

    static int main (string[] args) 
    {
        Gtk.init (ref args);
        new Main ();

        Gtk.main ();

        return 0;
    }
} 
```

我有这个输出：

```
constructor:
this: 0x1a524a0
builder: 0x1a6a230

build_and_send1:
this: 0x1aa2030
builder: 0x5a4fe823

build_and_send2:
this: 0x1a524a0
Program has been terminated receiving signal 11 (Segmentation fault) 
```

我假设如果我想在我的信号中使用相同的 Main 实例，它们必须以 [CCode (instance_pos = -1)] 开头。但是**builder.connect_signals (this)的目标是什么？**?

为什么 this.builder 在**build_and_send2**而不是在**构造函数**中引发分段错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:36:53.670

我更了解这是如何工作的。

在我的项目中，我创建了一个 UIHandler 类来处理 UI 事件。

当我在其构造函数内连接此类的实例时，它不起作用，但如果我在类外部连接实例，它工作正常。

错误：这将因分段错误而终止。

```
// Constructor
public UIHandler (Builder builder) {
    var button = builder.get_object ("send-button") as Button;
    Object (button: button);

    bulder.connect_signals (this);
}
...
[CCode (instance_pos = -1)]
public void activate (Entry location) {
    this.button.clicked ();
} 
```

正确：这会起作用。

主类：

```
public Main ()
{

    try 
    {
        var builder = new Builder ();
        builder.add_from_file (UI_FILE);

        builder.connect_signals (new UIHandler (builder));

        var window = builder.get_object ("window") as Window;

        /* ANJUTA: Widgets initialization for gtk_http_client.ui - DO NOT REMOVE */
        window.show_all ();
    } 
    catch (Error e) {
        stderr.printf ("Could not load UI: %s\n", e.message);
    } 

} 
```

UIHandler 类：

```
// Constructor
public UIHandler (Builder builder) {
    var button = builder.get_object ("send-button") as Button;
    Object (button: button);
}
...
[CCode (instance_pos = -1)]
public void activate (Entry location) {
    this.button.clicked ();
} 
```

这种行为解决了我原来的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T21:51:59.623

最有可能的结果`new Main()`是在构建后超出范围并被垃圾收集。将其分配给一个变量。

# mysql - 这个sql查询有什么问题？

> ID：15635353
> 
> 赞同：1
> 
> 时间：2013-03-26T10:59:47.883
> 
> 标签：mysql, sql

我无法理解错误，因为一切都是正确的。OCN 是数据库的名称。我在 MySQL 控制台上检查了这个查询，它在那里运行良好。但是在功能代码中它给出了错误。谁能帮我消除错误？提前致谢。

这是我的 sql 查询：

```
DELETE 
      OCN.practice_sheet_set, 
      OCN.practice_sheet_questions 
FROM 
      OCN.practice_sheet_set AS practice_sheet_set, 
      OCN.practice_sheet_questions AS practice_sheet_questions  
WHERE    
      practice_sheet_set.practice_sheet_set_id = practice_sheet_questions.practice_sheet_set_id 
      AND practice_sheet_set.practice_sheet_id=2 
```

MySQL错误：

> 1109（MULTI DELETE 中的未知表 'practice_sheet_set'）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T11:06:36.477

大概应该是

```
DELETE 
      practice_sheet_set, 
      practice_sheet_questions 
FROM 
      OCN.practice_sheet_set AS practice_sheet_set, 
      OCN.practice_sheet_questions AS practice_sheet_questions 
```

与`AS`语句一样（他们在这个查询中的意义是什么？）`OCN`迷路了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:17:13.573

此查询应该有效

```
DELETE 
      pss, 
      psq 
FROM 
      OCN.practice_sheet_set AS pss, 
      OCN.practice_sheet_questions AS psq  
WHERE    
      pss.practice_sheet_set_id = psq.practice_sheet_set_id 
      AND pss.practice_sheet_id=2 
```

只需删除“AS”，或者如果您打算使用它，那么删除应该使用表引用而不是表名

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:28:19.460

你可以试试这个

```
DELETE
    OCN.practice_sheet_set,OCN.practice_sheet_questions
FROM OCN.practice_sheet_set AS practice_sheet_set
where practice_sheet_set.practice_sheet_set_id in
     (select practice_sheet_questions.practice_sheet_set_id
      from OCN.practice_sheet_questions AS practice_sheet_questions
      where practice_sheet_set.practice_sheet_set_id=practice_sheet_questions.practice_sheet_set_id
       AND practice_sheet_set.practice_sheet_id=2); 
```

# java - 将字符串转换为日期并比较日期

> ID：15635357
> 
> 赞同：0
> 
> 时间：2013-03-26T10:59:51.543
> 
> 标签：java, sql, sql-server-2008

我有一个数据库，其中日期列保存为 nvarchar 类型，日期格式为`dd/mm/yyyy`（英国）。我正在尝试执行选择查询来搜索两个日期之间发布的数据。

查询是：

```
SELECT * FROM table 
  WHERE CONVERT(datetime,postdate,103) BETWEEN ? AND ? 
```

我已将我的字段转换为日期时间，但每当我尝试运行查询时，我都会收到错误

> java.lang.Exception：com.microsoft.sqlserver.jdbc.SQLServerException：
> 将 nvarchar 数据类型转换为 datetime 数据类型导致值超出范围

当我运行 isDate 查询时：

```
SELECT * FROM table WHERE ISDATE(postdate)=0 
```

显示带有日期的行`18/02/2013`。如果我没记错的话，这意味着**18**被视为一个月。

如何基本上将我的字段转换为有效日期并比较日期？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:09:07.660

第一个问题是您将日期存储在字符串列中。你为什么不使用`DATE`or `DATETIME`？如果您这样做是为了保留 d/m/y 格式，请停止这样做。格式是表示层的责任，不应影响存储。另外，你为什么用`NVARCHAR`？您预计在需要 Unicode 的日期文字中会出现什么样的符号？

接下来是您没有适当的验证，并且错误的数据最终出现在您的列中。您可以按如下方式识别此不良数据：

```
SET DATEFORMAT DMY;

SELECT * FROM dbo.table
  WHERE ISDATE(postdate) = 0; 
```

现在，修复该数据，方法是在您知道它是什么时更新它，或者将这些行设置为`NULL`，直到查询返回 0 行。

*请注意，您可能有像 11/13/2013 这样的数据，这显然不在 D/M/Y 格式中，如果是这种情况，您也可能拥有**看似**有效但输入 06/09 的用户的数据/2013 是指 6 月 9 日还是 9 月 6 日？你怎么能确定？*

防止明天再次发生此问题的最安全方法可能是添加新列，移动数据，删除旧列，并在所有层*停止*使用字符串。

```
ALTER TABLE dbo.table
  ADD d DATE;

UPDATE dbo.table 
  SET d = CONVERT(DATETIME, postdate, 103);

ALTER TABLE dbo.table
  DROP COLUMN postdate;

EXEC sp_rename N'dbo.table.d', N'postdate', N'COLUMN'; 
```

您可以在不进行所有这些交换的情况下内联执行此操作，如下所示：

```
SET DATEFORMAT DMY; -- the key you missed in your attempt I think
ALTER TABLE dbo.table ALTER COLUMN postdate DATE; 
```

如果您无法修复该列本身，那么至少考虑在该列周围添加一个检查约束和一些验证，这样明天就不会出现错误数据。例如：

```
ALTER TABLE dbo.table
  ADD CONSTRAINT prevent_bad_dates
  CHECK (CONVERT(DATE, postdate, 103) >= '19000101'); 
```

假设您在执行插入的存储过程中使用 varchar 参数，甚至在插入之前进行验证：

```
ALTER PROCEDURE dbo.whatever
  @postdate NVARCHAR(10), -- assuming here
  @other_params...
AS
BEGIN
  SET NOCOUNT ON;
  SET DATEFORMAT DMY;

  IF ISDATE(@postdate) = 0
  BEGIN
    RAISERROR('Incorrect format for date: %s.', 11, 1, @postdate);
    RETURN;
  END

  ... perform insert...
END 
```

这*仍然*无法帮助您理解输入的用户是`06/09/2013`指 6 月 9 日还是 9 月 6 日。因此，我敦促您从用户那里拿走这种徒手的临时条目，并强制他们使用日历控件或日期选择器或其他东西，这样*您*就可以完全控制格式。如果您需要将字符串文字发送到 SQL Server，最安全的格式将是`YYYYMMDD`. 此外，您应该注意使用`BETWEEN`而不是开放式范围的潜在问题。请阅读以下帖子：

*   [BETWEEN 和魔鬼有什么共同点？](https://sqlblog.org/2011/10/19/what-do-between-and-the-devil-have-in-common)

*   [要改掉的坏习惯：错误处理日期/范围查询](https://sqlblog.org/2009/10/16/bad-habits-to-kick-mis-handling-date-range-queries)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-26T11:07:59.730

当您从数据库中检索日期时，您将获得 java.sql.date 格式的日期！

您现在需要将其转换为 java.util.date！

可以使用以下代码来完成

```
java.util.Date utilDate = new java.util.Date(SQLDate.getTime()); 
```

试试吧，它会完成的！

# php - php 中的 Var_dump 没有打印刚刚显示的全部内容

> ID：15635359
> 
> 赞同：4
> 
> 时间：2013-03-26T10:59:56.503
> 
> 标签：php

我的要求是读取 php 文件的内容并在前端显示内容。为此，我使用了

```
$section = file_get_contents('test.php');
var_dump($section);
?> 
```

但它正在打印值，经过一些字符后，它只是打印......不是完整的内容。我试图通过 echo 和 print_r 方法打印，但无论如何我都没有得到完整的内容。

我的 app.php 是这样的：

```
<?php
$data =  array(
        array('id' => 1, 'first' => "abc", 'last' => 'def', 'email' => 'abc@def.com'),
        array('id' => 2, 'first' => "ghi", 'last' => 'jkl', 'email' => 'abc@def.com'),
        array('id' => 3, 'first' => "mno", 'last' => 'pqr', 'email' => 'abc@def.com'),
        array('id' => 4, 'first' => "stu", 'last' => 'vwx', 'email' => 'abc@def.com'),
        array('id' => 5, 'first' => "Y", 'last' => 'Z', 'email' => 'abc@def.com'),
       );
    echo json_encode(array(
            'success'   => true,
            'message'   => 'loading data',
            'data'      => $data
        ));
?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T11:02:09.377

您需要[转义](http://www.php.net/manual/en/function.htmlentities.php)字符，例如`<`and`>`到`&lt;`and `&gt;`。

```
var_dump(htmlentities($section)); 
```

或者：

```
echo htmlentities($section); 
```

如果您在浏览器中执行“查看源代码”，您会看到其余部分实际上都在那里，但您的浏览器正试图将文本解释为 HTML。

另请注意，`file_get_contents`不是`execute`PHP（在您的示例中为 test.php）；它只是像读取文本文件一样读取文件。如果您希望实际执行文件中的代码，您可能需要查看[include](http://www.php.net/manual/en/function.include.php)、[include_once](http://www.php.net/manual/en/function.include-once.php)、[require](http://www.php.net/manual/en/function.require.php)或[require_once 。](http://www.php.net/manual/en/function.require-once.php)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-26T11:06:43.493

您尝试回显代码，它将尝试解析它，因此通过 htmlspecialchars($source) 传递它，它应该可以工作。

像这样的东西：

```
<?php
echo "<pre>";
echo htmlspecialchars(file_get_contents('test.php'));
echo "</pre>"; 
```

?>

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-08-13T00:32:20.277

嘿，我知道它有点晚了，但我希望有人能从这里得到帮助......

这些是 php.ini 中的可配置变量：

尝试去找`; XDEBUG Extension`

```
zend_extension = "your path to php/zend_ext/php_xdebug-2.2.3-5.4-vc9-x86_64.dll"

[xdebug]
xdebug.var_display_max_depth = 10 
```

当然，这些也可以在运行时通过 设置`ini_set()`，如果您不想修改 php.ini 并重新启动 Web 服务器但需要快速检查更深入的内容，这很有用。

```
ini_set('xdebug.var_display_max_depth', 10); 
```

希望这对某人有帮助！

# ios - ios - 使用 openframeworks 导入并使用它 glview

> ID：15635361
> 
> 赞同：0
> 
> 时间：2013-03-26T11:00:01.020
> 
> 标签：ios, ipad, opengl-es, openframeworks, glsles

只是一个想法，是否可以使用 openframeworks 导入一些 3d 对象，然后将其从 ios 传递给 glview，然后与 glsl 混淆？我目前正在使用 of_ios_074，根据进一步阅读，似乎还没有移植到 Opengles 2.0，这意味着我们还不能使用 glsl 对吗？

# java - 将 Mockito 注释与 spring 一起使用

> ID：15635365
> 
> 赞同：8
> 
> 时间：2013-03-26T11:00:07.053
> 
> 标签：java, spring, mockito

我在我的应用程序中使用 spring，我想为我的所有类编写单元测试。我从我的应用程序中调用了几个外部 Web 服务，并且我想使用 Mockito 来模拟它们，因为我只想测试我的功能。

假设我有以下情况

这是我的网络服务接口

```
public interface MyWebService {
    public String getSomeData(int id);
} 
```

我以这种方式使用上述服务

```
public interface MyService {
    int doSomethingElse(String str);
}

public class MyServiceImpl implements MyService {

    private MyWebService myWebService;

    int doSomethingElse(String str) {
        .....
        myWebService.getSomeData(id);
        ...
    }
}

public interface MyService1 {
    Stirng methodToBeTested();
}

public class Class1 implements MyService1{
    @Resource
    private MyService myService;

    public Stirng methodToBeTested() {
        myService.doSomethingElse("..");
    }
} 
```

我写了如下的uint测试用例。我在这里监视 MyService 以便运行单元测试。

```
public class class1Test {

    @Spy
    MyService myService;

    @Resource
    @InjectMocks
    Class1 class1;

    public void setUPTest() {
        MockitoAnnotations.initMocks(this);
    Mockito.doReturn(123).when(myService).doSomethingElse("someString");
    }

    @Test
    public void methodToBeTestedTest() {
        this.setUPTest();
            ...
            class1.methodToBeTested();
    }

} 
```

当我运行测试时，我看到的是，我从 web 服务中获得了我在存根时提到的值。

谁能帮我这个？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-29T07:55:38.027

我通过使用spring java config解决了这个问题。我在我的测试配置文件中扩展了我的默认配置文件。

```
 @Configuration
    public class TestConfig extends DefaultConfig {

      @Bean
      public MyService myService() {
        return Mockito.spy(new MyServiceImpl());
      }
    } 
```

现在我的测试课是这样的

```
public class class1Test {

    @Resource
    MyService myService;

    @Resource
    Class1 class1;

    public void setUPTest() {
        MockitoAnnotations.initMocks(this);
    Mockito.doReturn(123).when(myService).doSomethingElse("someString");
    }

    @Test
    public void methodToBeTestedTest() {
        this.setUPTest();
            ...
            class1.methodToBeTested();
    }

} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-26T11:03:34.250

A`@Spy`用于监视调用服务时发生的情况（并且对例如断言传递方法调用的存在或不存在很有用），您想要的是`@Mock`注释：

```
public class class1Test {
    @Mock MyService myService;
    ... 
```

这将导致所有方法返回 null，除非您使用/`myService`覆盖那些方法。`doReturn``when`

顺便说一句，`setUpTest()`您应该使用`@Before`.

干杯，

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-26T11:46:28.693

要在某些测试中用模拟替换您的 Bean，请使用[Springockito](https://bitbucket.org/kubek2k/springockito/wiki/Home)或更好[的 Springockito-annotations](https://bitbucket.org/kubek2k/springockito/wiki/springockito-annotations)。

像这样的东西应该工作：

```
@ContextConfiguration(loader = SpringockitoContextLoader.class,
    locations = "classpath:/context.xml")
public class SpringockitoAnnotationsMocksIntegrationTest extends AbstractJUnit4SpringContextTests {

    @WrapWithSpy
    private MyService innerBean;

    @Resource  
    Class1 class1;

    public void setUPTest() {        
        Mockito.doReturn(123).when(myService).doSomethingElse("someString");
    }

    @Test
    public void methodToBeTestedTest() {
    this.setUPTest();
        ...
        class1.methodToBeTested();
    } 
```

}

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-26T11:10:29.457

您是指方法中的*anyString()*而不是“someString”`setUp`吗？`eq("someString")`如果您使用特定字符串调用方法，也可能出现这种情况。

根据我对 Mockito 的理解，我不使用间谍，因为它们可能表明存在类设计问题。你为什么不`@Mock`整个`MyService`，所以；

```
@Mock MyService myService;

public void setUpTest() {
    MockitoAnnotations.initMocks(this);
    when(myService.doSomethingElse(anyString)).thenReturn(123);
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-26T11:13:23.817

修改的，

```
 public class class1Test {

    @Mock
    private MyService myService;

    private Class1 class1;

    @Before
    public void onceBeforeEachTest() {
        MockitoAnnotations.initMocks(this);
         this.class1 = new Class1(myService); 
        Mockito.when(myService).doSomethingElse(anyString()).thenReturn(123);
    }

    @Test
    public void methodToBeTestedTest() {
            class1.methodToBeTested();
    }
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-26T11:09:14.190

这应该适合您的需要：

```
@RunWith(MockitoJunitRunner.class)
public class class1Test {

    @Mock
    private MyService myService;

    private Class1 class1;

    @Before
    public void setUp() {
        this.class1 = new Class1(myService); // creates this constructor.
    }

    @Test
    public void methodToBeTestedTest() {
        this.class1.methodToBeTested();
        Mockito.verify(this.myService).doSomethingElse(/* put expected arg here */);
    }
} 
```

另见[官方文档](https://code.google.com/p/mockito/w/list)。

# internet-explorer - 用于打开 Mozilla Firefox 的 VBA 宏

> ID：15635371
> 
> 赞同：1
> 
> 时间：2013-03-26T11:00:24.923
> 
> 标签：internet-explorer, vba, firefox

嗨，我想出了一个代码，它将打开 Internet Explorer，导航到一个网站，输入用户 ID 和密码，最后单击登录按钮。

代码是：

```
Public Sub LOGIN()

    Dim objIE As SHDocVw.InternetExplorer 
    Dim htmlDoc As MSHTML.HTMLDocument 
    Dim htmlInput As MSHTML.HTMLInputElement
    Dim htmlColl As MSHTML.IHTMLElementCollection

    Set objIE = New SHDocVw.InternetExplorer

    With objIE
        .Navigate "https://website.co.in" ' Main page
        .Visible = 1
        Do While .READYSTATE <> 4: DoEvents: Loop
        Application.Wait (Now + TimeValue("0:00:02"))

        Set htmlDoc = .document
        Set htmlColl = htmlDoc.getElementsByTagName("INPUT")
        Do While htmlDoc.READYSTATE <> "complete": DoEvents: Loop
        For Each htmlInput In htmlColl
            If htmlInput.Name = "UserName" Or htmlInput.Type = "text" Then
                htmlInput.Value = "Adidas"
            Else
               If htmlInput.Name = "password" Then
                 htmlInput.Value = "Daddy123"

                End If
            End If
        Next htmlInput

        Set htmlDoc = .document
        Set htmlColl = htmlDoc.getElementsByTagName("input")
        Do While htmlDoc.READYSTATE <> "complete": DoEvents: Loop
        For Each htmlInput In htmlColl
            If Trim(htmlInput.Type) = "submit" Then
                htmlInput.Click
                Exit For
            End If
        Next htmlInput
    End With
End Sub 
```

但由于我创建此脚本的网站不支持 Internet Explorer，我想在 Firefox 中打开它。我一无所知，到目前为止我还没有尝试过任何事情。请帮帮我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T11:38:47.900

Firefox 不公开 COM 对象，因此无法像控制 IE 一样控制它。不过，您也许可以使用其他一些自动化工具来实现您的目标，例如[Selenium](http://www.seleniumhq.org/)或[AutoIt](http://www.autoitscript.com/site/autoit/)。

另一种选择可能是使用[Fiddler](http://www.fiddler2.com/)之类的东西嗅探身份验证流量（即单击“登录”按钮时发生的通信） ，然后使用 VBScript 通过[XMLHTTPRequest](http://msdn.microsoft.com/en-us/library/windows/apps/hh453379.aspx)自动登录：

```
Set req = CreateObject("MSXML2.XMLHTTP.6.0")
req.open "POST", "http://www.example.org/", False
req.setRequestHeader "Content-Type", "application/x-www-form-urlencoded"
req.send "field1=foo&field2=bar&..." 
```

# c# - 将 C# byte[] 传递给 VARBINARY SQL 字段

> ID：15635385
> 
> 赞同：0
> 
> 时间：2013-03-26T11:00:57.377
> 
> 标签：c#, sql-server, sql-server-2008

我有一个 SQL Server 2008 表，其中一个字段声明为 VARBINARY (8000)

存储过程用于写入该表，它需要一个参数 VARBINARY (8000)

C# 代码调用存储过程，传入一个 byte[] 作为此参数。

在某些情况下，由于字段太大，会引发 SQL 异常。

这似乎是一个简单的问题，但到目前为止我一直无法找到答案

我的 byte[] 多大才能不溢出 SQL 字段？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T15:54:25.710

Problem caused by a trigger on the table. The work done by the trigger was throwing the exception. It was nothing to do with data being written to the table.

Thanks all or your help

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:04:13.507

您的 byte[] 最多可以为 8000 以不溢出该字段。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:04:37.193

> 我有一个 SQL Server 2008 表，其中一个字段声明为 VARBINARY (8000)

...

> 我的 byte[] 多大才能不溢出 SQL 字段？

这*感觉*像是一个棘手的问题，但这里的“明显”答案是：8000 字节。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T11:15:10.733

在您的情况下它是 8000，但为什么不使用最大允许大小，使用`VARBINARY(MAX)`它将能够存储 2^31-1 字节，请参阅[MSDN 上的二进制和 varbinary](http://msdn.microsoft.com/en-us/library/ms188362%28v=sql.105%29.aspx)

# python - 并发程序中的 Python time.time() 可靠性

> ID：15635386
> 
> 赞同：5
> 
> 时间：2013-03-26T11:01:01.043
> 
> 标签：python, multithreading, time, concurrency, timer

我正在为令牌环 LAN 编写一个模拟，并尝试在我的主程序的单独线程中运行一个计时器，以检查从监视器接收“活动状态”是否超时。我在其他节点之前启动监视器程序，它们在发送和“活动状态”或开始选择新监视器之前都有相同的等待时间，但节点程序似乎在监视器之前超时。

这只是python中的并发问题还是我的代码更有可能出现问题？

这是线程运行的函数，如果您需要更多信息，请询问

```
def timer():
    global reset
    global ismonitor
    global mToSend
    global dataToSend
    reset = time.time()
    send_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    while 1:
        timer = time.time()
        elapsed = timer - reset
        if elapsed > 5:
            if ismonitor:
                mToSend = "110000" ## send around a token with a monitor alive flag on the broadcast channel
                mToSend += maddr
                dataToSend = True
                reset = time.time()
            else:
                holdelection()
                reset = time.time() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:07:17.700

由于 Python 的全局解释器锁 (GIL) 线程永远不会同时执行。相反，当所有其他线程都被锁定（它们不执行任何代码）时，一个线程会获得一段执行时间。这就是为什么对 time.time() 的调用仅与分配给线程的最小时间片一样准确。

看看 David Beazley 的工作，以更好地了解 Python 中线程的工作原理：[http](http://www.dabeaz.com/GIL/) ://www.dabeaz.com/GIL/他表明，根据您使用的 Python 版本，线程可能会在几秒钟前被阻塞他们可以重新获得 GIL。在这种情况下，您的 time.time() 调用将关闭相同的时间。

如果您想要更高的准确性，您应该考虑使用进程而不是线程。在多处理模块的帮助下，它们的使用并不比 Python 中的线程复杂：http: [//docs.python.org/3.3/library/multiprocessing.html](http://docs.python.org/3.3/library/multiprocessing.html)

# google-apps-script - 对 SpreadsheetApp 的调用非常慢

> ID：15635393
> 
> 赞同：0
> 
> 时间：2013-03-26T11:01:25.623
> 
> 标签：google-apps-script

我在获取电子表格数据的速度方面存在巨大问题。

```
SpreadsheetApp.openById([0AhKzbVoTxxxxxxRdDlOVC1zazFNNVE]) [33.219 seconds]
Spreadsheet.getSheetByName([bellijst]) [132.543 seconds] 
```

// 然后有一个用户在做一些工作，而值在屏幕上，然后用户提交一个表单，然后我们继续：

```
SpreadsheetApp.openById([0AhKxxxxxxRG9TalVRdDlOVC1zazFNNVE]) [37.516 seconds]
Spreadsheet.getSheetByName([bellijst]) [0.043 seconds]
ScriptProperties.getProperty([ID]) [0.017 seconds]
Sheet.getLastRow() [0.023 seconds]
Sheet.getRange([1, 2, 258]) [0.023 seconds]
Range.getValues() [0.031 seconds] 
```

132秒很多，为什么会这样？

这些工作表中只有 1 或 2 个人在工作，并且脚本由最多 3 个人同时调用......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:26:56.947

有什么价值`['Bellijst']`？

通常您只需按名称调用电子表格，如下所示：

```
Spreadsheet.getSheetByName('sheetName') 
```

正如您在[文档中所读到的](https://developers.google.com/apps-script/class_spreadsheet#getSheetByName)

# php - PHP PDO-FETCH_INTO，$this。填充预实例化的对象

> ID：15635394
> 
> 赞同：0
> 
> 时间：2013-03-26T11:01:30.440
> 
> 标签：php, pdo

我正在尝试使用 PDO 填充用户对象。

我已经稍微简化了我的代码（SQL 等），但基本上我有这个：

```
 Class User
    {       
        protected $id;  
        protected $email;
        protected $password;

        public function tokenCheck()
        {
            $sql = 'SELECT * FROM blah LIMIT 1';

            $STH = $this->DBH->prepare($sql);
            $STH->setFetchMode(PDO::FETCH_INTO, $this);
            $STH->execute();

            $result = $STH->fetch();
        }

    } 
```

我打电话给：

```
$User->tokenCheck(); 
```

当我 var dump 我的用户对象时，我得到：

```
object(User)#1 (7) { ["id":protected]=> NULL [ ["email"]=> NULL ["password":protected]=> NULL ["token":protected]=> NULL } 
```

我尝试将我的所有财产都设置为公开，结果相同。所有值都保持为 NULL。

[这个](https://stackoverflow.com/questions/3296092/pdos-fetch-into-this-class-does-not-working)SO 答案对我也不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:21:25.343

你有没有尝试过

```
$STH->fetchAll(PDO::FETCH_CLASS, "User"); 
```

它将实例化一个用您的数据填充的 User 类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-13T20:11:25.673

问题是你试图在你的用户类中选择 id、电子邮件和密码，但它们受到保护，你甚至可以将属性排除在外，因为列名将定义属性名。

```
Class User
{       
    PUBLIC $id;  
    PUBLIC $email;
    PUBLIC $password;

    public function tokenCheck()
    {
        $sql = 'SELECT * FROM blah LIMIT 1';

        $STH = $this->DBH->prepare($sql);
        $STH->setFetchMode(PDO::FETCH_INTO, $this);
        $STH->execute();

        $STH->fetch();
    }

} 
```

# c# - 使用 Excel 作为 Asp.Net MVC Site 的客户端

> ID：15635395
> 
> 赞同：1
> 
> 时间：2013-03-26T11:01:33.887
> 
> 标签：c#, asp.net, asp.net-mvc, excel

我在 Asp.Net MVC 框架上编写内部站点。有许多不同的词典。所以我必须编写（或如果可能的话生成）许多相同的代码。但是，我不想这样做:)

**那么，我可以将 Microsoft Excel 连接到我的站点并更改我的字典中的数据吗？**

为什么选择 Excel？Excel 有很多重要的功能：

*   复制/粘贴效果很好；
*   筛选;
*   排序；
*   复制数据；

和许多其他人。

我尝试使用 odata 协议，但它具有与 excel 集成的硬接口（许多模式窗口，许多参数）。我想要更简单的，例如sharepoint intergation（excel中的更改列表）或TFS（可以创建和修改任务、bug和其他人认为的）。

请问你能写出什么技术可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-24T11:20:17.897

您不能使用 Excel 在运行时动态更改已编译应用程序中的硬编码字典值。你不能使用*任何东西*来做到这一点。

但是，如果您的字典从数据库中提取数据，您*可以*使用 Excel 来修改数据库值（这实际上是 TFS 所做的）。

要在 Excel 中构建自定义应用程序来执行此操作，您需要考虑使用[Visual Studio Tools for Office (VSTO)](http://msdn.microsoft.com/en-us/office/hh133430.aspx)。

**但是**，听起来您真正需要的只是从数据库中提取字典数据。这里有一些链接：

[http://support.microsoft.com/kb/314145](http://support.microsoft.com/kb/314145)

[http://www.worldbestlearningcenter.com/index_files/csharp-Sample-Dictionary-database-connection.htm](http://www.worldbestlearningcenter.com/index_files/csharp-Sample-Dictionary-database-connection.htm)

# php - 从mysql获取数据显示空字符串

> ID：15635398
> 
> 赞同：0
> 
> 时间：2013-03-26T11:01:39.063
> 
> 标签：php, mysql

我从 mysql 获取数据并将其转换为 JSON，但结果收到一个空数组：`[]`

我想选择类别=给定变量的所有数据：

```
$flu = $_POST['searchCode'];
$query = mysql_query("SELECT * From catalog_Master WHERE  category='%$flu%'");

$rows = array();
while($row = mysql_fetch_assoc($query)) {
    $rows[] = $row;
}
echo json_encode($rows); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T11:03:53.363

要`%`在 MySQL 中工作，您需要[`LIKE`](http://dev.mysql.com/doc/refman/5.0/en/string-comparison-functions.html)：

```
$query=mysql_query("SELECT * From catalog_Master WHERE category LIKE '%$flu%'"); 
```

您还可以匹配开头或结尾：

```
$query=mysql_query("SELECT * From catalog_Master WHERE category LIKE '$flu%'");
$query=mysql_query("SELECT * From catalog_Master WHERE category LIKE '%$flu'"); 
```

如果您想要完全匹配，请丢失`%`和`LIKE`：

```
$query=mysql_query("SELECT * From catalog_Master WHERE category='$flu'"); 
```

此外，您应该验证您的`$_POST`变量（至少使用`mysql_real_escape_string`，最好使用[mysqli](http://php.net/manual/en/book.mysqli.php)或[PDO](http://php.net/manual/en/book.pdo.php)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:06:20.900

尝试这个

```
$query =mysql_query("SELECT * From catalog_Master WHERE  category like '".$flu."%'"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:23:51.733

尝试这个 ：

```
$flu = $_POST['searchCode'];
$query = mysql_query("SELECT * From catalog_Master WHERE  category LIKE '%".$flu.%"'");

$rows = array();
while($row = mysql_fetch_assoc($query)) {
    $rows[] = $row;
}
echo json_encode($rows); 
```

# android - 如何以编程方式访问 Android 操作系统的私有字符串？

> ID：15635403
> 
> 赞同：8
> 
> 时间：2013-03-26T11:02:01.160
> 
> 标签：android, string, root, private, localizable.strings

## 背景

我想以编程方式获取 Android 操作系统的所有字符串（包括所有字符串），包括那些被认为是私有的字符串。

例如，我想获得 packageManager 应用程序的那些，如此[处](https://android.googlesource.com/platform/packages/apps/PackageInstaller/+/refs/tags/android-11.0.0_r16/res/values/strings.xml)所示。

## 问题

使用 android.R.string 只返回一小部分字符串。

## 我试过的

我找到[了这个链接](http://www.41post.com/4941/programming/android-get-string-resource-at-another-xml-namespace)，它显示了下一个代码，但我不确定要在参数中添加什么：

```
private String GetAttributeStringValue(Context context, AttributeSet attrs, String namespace, String name, String defaultValue) 
    {
        //Get a reference to the Resources
        Resources res = context.getResources();
        //Obtain a  String from the attribute
        String stringValue = attrs.getAttributeValue(namespace, name);
        //If the String is null 
        if(stringValue == null)
        {
            //set the return String to the default value, passed as a parameter
            stringValue = defaultValue;
        }
        //The String isn't null, so check if it starts with '@' and contains '@string/'
        else if( stringValue.length() &gt; 1 && 
                 stringValue.charAt(0) == '@' && 
                 stringValue.contains("@string/") ) 
        {
            //Get the integer identifier to the String resource
            final int id = res.getIdentifier(context.getPackageName() + ":" + stringValue.substring(1), null, null);
            //Decode the string from the obtained resource ID
            stringValue = res.getString(id);
        } 
        //Return the string value
        return stringValue;
    } 
```

过去我见过一些应用程序可以列出其他应用程序的各种资源，包括系统本身的资源（示例[**here**](https://play.google.com/store/apps/details?id=com.gmail.heagoo.apkeditor.parser)）。

后来我发现了如何从您希望的任何应用程序中获取字符串，但它假设您知道标识符的名称，并且不让您列出它们：

```
fun getStringFromApp(context: Context, packageName: String, resourceIdStr: String, vararg formatArgs: Any): String? {
    try {
        val resources = context.packageManager.getResourcesForApplication(packageName)
        val stringResId = resources.getIdentifier(resourceIdStr, "string", packageName)
        if (stringResId == 0)
            return null
        return resources.getString(stringResId, *formatArgs)
    } catch (e: Exception) {
        return null
    }
} 
```

例如，如果要获取“more”的字符串（key为“more_item_label”），可以使用：

```
val moreString = getStringFromApp(this,"android", "more_item_label") 
```

## 问题

这样的事情可能吗？如果没有，是否可以使用root来完成？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:52:34.627

您的链接显示如何从首选项屏幕获取资源并说：

```
 The goal of this example was to show how to obtain the correct String resource outside the Android XML namespace 
```

链接描述了您可以通过其他方式获取资源，而不仅仅是通过 R.string。

我使用另一个自定义命名空间和自定义按钮标签创建了一个演示项目，但不幸的是我无法将字符串资源从一个项目显示到另一个项目。

# javascript - 渲染后的 AngularJS 和 jQuery 插件

> ID：15635405
> 
> 赞同：3
> 
> 时间：2013-03-26T11:02:05.257
> 
> 标签：javascript, jquery, angularjs

我正在构建一个滑块，并且正在使用 ng-repeat 指令迭代（RESTful）服务以在滑块中创建幻灯片。

我已经将滑块包装在自定义指令中，以便在完成时对其进行初始化（即在链接函数中）。

```
var swiper = angular.module('ng-swiper', ['qbusService'])
 .directive('swiper', function(){

 return {
   link : function(scope, element, attrs) {
     $(element).swiper({});
   }
 };

}); 
```

但是滑块没有正确初始化，我错过了什么吗？

HTML：

```
<div class="swiper-container" swiper>
  <div class="swiper-wrapper">

    <!-- for each group -->
    <div class="swiper-slide" ng-repeat="group in groups">

      <ul class="small-block-grid-2">
        <li ng-model="output"
            ng-repeat="output in group.Outputs"
            ng-switch on="output.TypeName"
            class="tile {{output.TypeName}}">
          <a href="" data-reveal-id="outputModal{{output.ID}}">
            <i class="foundicon-idea block" ng-switch-when="dimmer1t"></i>
            <i class="foundicon-idea block" ng-switch-when="dimmer2t"></i>
            <i class="foundicon-clock block" ng-switch-when="timer1"></i>
            <i class="foundicon-smiley block" ng-switch-default></i>
            <h2>{{output.CustomName}}</h2>
          </a>
          <!-- Output Modal Box -->
          <div id="outputModal{{output.ID}}"
               class="reveal-modal xlarge"
               ng-switch on="output.TypeName">

            <h2>{{output.CustomName}}</h2>

            <i class="foundicon-idea block" ng-switch-when="dimmer1t"></i>
            <i class="foundicon-idea block" ng-switch-when="dimmer2t"></i>
            <i class="foundicon-clock block" ng-switch-when="timer1"></i>
            <i class="foundicon-smiley block" ng-switch-default></i>

            <div class="switch large">
              <input id="x" ng-click="turnOff(output)" name="switch-x" type="radio" checked>
              <label for="x">Off</label>

              <input id="x1" ng-click="turnOn(output)" name="switch-x" type="radio">
              <label for="x1">On</label>

              <span></span>
            </div>

            <a class="close-reveal-modal">&#215;</a>
          </div>
        </li>
      </ul>

    </div>

  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T13:04:00.800

您可以让您的 swiper 在事件中启动（或更新）：

```
var swiper = angular.module('ng-swiper', ['qbusService'])
 .directive('swiper', function(){

 return {
   link : function(scope, element, attrs) {
     element.swiper({});
     scope.$on("swiper-update", function(){
       element.swiper({});
     })
   }
 };

}); 
```

并让每张幻灯片触发它（有效地为每张新幻灯片更新滑块）或仅在 ng-repeat 完成时触发它（使用 ng-repeat 的 $scope 中的 $last 属性）。

或者，您不需要为此创建指令，只需使用 ng-init 运行更新函数，例如：

```
<div class="swiper-slide" ng-repeat="group in groups" ng-init="updateSwiper($last)"> 
```

并在父作用域上有相应的功能：

```
var swiper = angular.module('ng-swiper', ['qbusService'])
 .directive('swiper', function(){

 return {
   link : function(scope, element, attrs) {
     scope.updateSwiper = function(bool){
       if (bool) element.swiper({});
     }
   }
 };

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T12:13:37.207

尝试用 jQuery 的就绪事件来包装它

```
var swiper = angular.module('ng-swiper', ['qbusService'])
 .directive('swiper', function(){

 return {
   link : function(scope, element, attrs) {
     $(function() {
        $(element).swiper({});
     });
   }
 };

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T12:10:32.673

一旦角度编译过程完成，尝试换行`$timeout`让浏览器有机会完成绘制 DOM：

```
var swiper = angular.module('ng-swiper', ['qbusService'])
 .directive('swiper', function($timeout){

 return {
   link : function(scope, element, attrs) {
        $timeout(function(){
          $(element).swiper({});
        },10)
   }
 };

}); 
```

# c# - 将树视图节点列表转换为组合记录

> ID：15635407
> 
> 赞同：0
> 
> 时间：2013-03-26T11:02:08.260
> 
> 标签：c#, linq, treeview, ilist, radtreeview

在这种情况下我没有示例代码，因为我不知道从哪里开始并且它杀死了我！

基本上我有一个 RadTreeView 节点集合，这些节点被检查并且这些被返回为

```
IList<RadTreeNode> nodeCollection = RadTreeView1.CheckedNodes; 
```

这些值的格式如下，

> 001001009001, 001001009002, 001001009003, 001001009004, 001001009005, 001001010002, 001001010003

这可能看起来很复杂，但每组 3 个数字都指一个元素，例如 001 001 009 001

我总共有 5 个特权，这些特权由最后三个字符反映，如果它们不在列表中，则可以选中或不选中它们，我希望输出中的值为 0，否则为 1。其他组是指位置

> 示例输出：001,001,009,1,1,1,1,1（因为在这种情况下，所有五个 privs 都已检查） 001,001,010,0,1,1,0,0（因为仅检查了 2 和 3）

任何帮助是极大的赞赏！！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:46:35.150

```
static void Show()
{
    IEnumerable<string> lst = new string[]{"001001009001", "001001009002", 
       "001001009003", "001001009004", "001001009005", "001001010002", 
       "001001010003" };
    var res = Process(lst);
    forech(string str in res)
    {
        Console.WriteLine(str);
    }
}
static List<string> Process(IEnumerable<string> input)
{
    Dictionary<string, int[]> elements = new Dictionary<string,int[]>();

    foreach (var str in input)
    {
        string element = str.Substring(0, 9);
        int privelegeNumber = int.Parse(str.Substring(9, 3));
        if (!elements.ContainsKey(element))
        {
            elements.Add(element, Enumerable.Repeat(0, 5).ToArray());
        }
        elements[element][privelegeNumber - 1] = 1;
    }
    List<string> result = new List<string>();
    foreach (var element in elements)
    {
        StringBuilder sb = new StringBuilder(21);
        sb.Append(element.Key.Substring(0, 3));
        sb.Append(",");
        sb.Append(element.Key.Substring(3, 3));
        sb.Append(",");
        sb.Append(element.Key.Substring(6, 3));
        foreach (int privelege in element.Value)
        {
            sb.Append(",");
            sb.Append(privelege);
        }
        result.Add(sb.ToString());
    }
    return result;
} 
```

# c - 使用类似函数的marcos，有什么问题吗？

> ID：15635413
> 
> 赞同：1
> 
> 时间：2013-03-26T11:02:20.063
> 
> 标签：c, optimization

```
gcc 4.7.2
c89 
```

你好，

类函数宏只是文本替换，我知道有些程序员更喜欢内联函数。我想知道我所做的是否有什么问题。

需要注意几点，我没有使用 do...while(0) 或花括号来换行，因为我会得到 isdn_channel 的未声明错误。

```
#define ISDN_CHANNEL_GET(channel)                                       \
    module_isdn_channel_t *isdn_channel = NULL;                         \
    isdn_channel = channel->base.imp->isdn_channels[channel->isdn_id];  \
    if(!isdn_channel) {                                                 \
        LOG(CRITICAL, "Failed to get channel data");                    \
        return FALSE;                                                   \
    } 
```

在我的源代码中，我像这样使用它，没有添加分号：

```
ISDN_CHANNEL_GET(channel)
isdn_channel->base.sync_answer |= SIP_CONNECTED; 
```

一切正常，但我只是想检查一下，因为我刚刚开始编写这些类似函数的宏。

非常感谢您的任何建议，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:06:53.190

请不要在宏中使用 return。

正如我们所知，宏告诉预处理器替换 #define.. 之后的任何内容。

所以你可能会在不知不觉中返回一个函数

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-26T11:06:54.513

只要您不执行以下操作就没有问题： if (condition) ISDN_CHANNEL_GET(channel)

用 do...while(0) 包装你的宏以避免这个问题。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-26T14:26:09.597

在 jbgs 和 Manimehalai 提到的问题之后，这里还有其他问题：

*   宏参数的多重评估（这里你使用它两次）
*   运算符优先级（始终在参数周围使用括号）
*   缺乏打字（尽可能多地使用打字，编译器是你的朋友）

前两个是杀手，只要您将更复杂的表达式作为参数传递，也可能包含副作用。当您传递一个指向具有相同名称字段的结构的指针时，第三个将字节给您，例如，但做一些完全不同的事情。

您的示例确实是编写`inline`具有相同功能的函数是微不足道的。如果您愿意，编译器可以帮助您调试代码，始终使用编译器而不是反对它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-26T11:05:40.713

每次你使用`call`这个类似函数的宏时，它都会被扩展 - 你优化时间而不是空间:-)。编译时它肯定会扩展您的应用程序的大小。

我的第一定律：“你可以优化空间或优化时间——但不能同时优化空间和时间”

# jquery - 单击它时绘制元素的边界框 RaphaelJS

> ID：15635419
> 
> 赞同：2
> 
> 时间：2013-03-26T11:02:34.153
> 
> 标签：jquery, raphael

所以我尝试对元素/集合使用 getBBox() 方法，并使用 x、y、width 和 height 属性来定义一个矩形。但是，该元素附加了一个拖动事件，每次触发拖动事件时，它都会绘制一个新的边界框。

我尝试在我的拖动功能之后使用 element.remove 来摆脱元素，但我似乎遇到了一个元素未定义的错误。

```
foo.click(function(){
    console.log(foo.getBBox());
    var herpaderp = drawBBox(foo.getBBox());
    console.log(herpaderp);
    dragsymbolsoncanvas(foo,herpaderp);
});
function dragsymbolsoncavas(foo,herpaderp){
    function dragger(){
        this.dx = this.dy = 0;
    };
    function mover(s){
        return function(dx, dy){
            if(this.data("candrag")=="true"){
                (s||this).translate(dx-this.dx,dy-this.dy);
                this.dx = dx;
                this.dy = dy;
            }
        }
    };
    foo.drag(mover(foo), dragger);
    herpaderp.remove();
}; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T13:59:40.130

**JSFiddle 示例：http:** [//jsfiddle.net/hu8dd/](http://jsfiddle.net/hu8dd/)

```
var Paper = Raphael("test",500,500);
var foo = Paper.circle(100,100,50).attr({fill: "#aa5555"});

var onstart = function(){
            if(this.rect == undefined){
               var coords = this.getBBox();
               this.rect = Paper.rect(coords.x, coords.y, coords.width, coords.height)
                                .attr({fill: "none", stroke: "#aaaaaa", "stroke-width": 1});
            }else{
               this.rect.show();
            }

        };
        var onmove = function(dx,dy){
                    this.transform(this.trans+'T'+(dx)+','+(dy));
                    this.rect.transform(this.rtrans+'T'+(dx)+','+(dy));

        };
        var onend = function(){
            this.rect.hide();
            this.trans = this.transform();
            this.rtrans = this.rect.transform();
        }

        foo.drag(onmove, onstart, onend); 
```

# php - mysqli_connect：防止 127.0.0.1 更改为“localhost”

> ID：15635429
> 
> 赞同：0
> 
> 时间：2013-03-26T11:03:14.997
> 
> 标签：php, mysql, localhost

我的主机阻止了“localhost”，所以我必须改用 127.0.0.1。当我尝试运行连接 php 脚本时，我收到此错误“用户 'xxx'@'localhost' 的访问被拒绝（使用密码：YES）”。是否有一个 php 函数来保留 IP 地址而不是“localhost”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:36:16.350

```
Access denied for user 'xxx'@'localhost' (using password: YES) 
```

此消息通常表示用户名/密码错误。

也尝试使用 127.0.0.2 而不是 127.0.0.1

*我不明白如何阻止 localhost 但允许 127.0.0.1 可以提高安全性..*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-25T12:50:08.423

在 mysqld 中禁用主机名查找是提高其性能的步骤之一。权衡是使用主机名而不是 ip 的帐户将不再起作用。我自己也遇到了这个问题。唯一的解决方案似乎是在 mysql 中再次启用查找。

# android - 从 AsyncTask 返回数据而不阻塞 UI

> ID：15635436
> 
> 赞同：15
> 
> 时间：2013-03-26T11:03:39.503
> 
> 标签：android, android-asynctask

我有一个与类有关的概念问题`AsyncTask`。我们使用`AsyncTask`这样主 UI 不会被阻塞。但是假设，我想从设备的内存中检索一些数据，为此我使用 AsyncTask 类。相关代码行如下（假设返回的数据类型为String）：

```
 //code
    String data = new ExtendedAsyncTask().execute(param1, param2).get();
  //use this returned value. 
```

上面的行不会阻塞用户界面，破坏使用的目的`AsyncTask`吗？如果是，那么如何在不阻塞 UI 的情况下获取相关数据？我想补充一点，下一行代码将需要这些数据来执行某些任务，因此取决于返回的值。

谢谢

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-26T11:06:38.860

`get() method will block the UI thread`. 要获取相关数据，您需要从 doInBackground 返回值并捕获 onPostExecute 参数中的值。

> doInBackground 返回的值被 onPostExecute 方法捕获

例子：

```
public class BackgroundTask extends AsyncTask<String, Integer, String >{
       private ProgressDialog mProgressDialog;
       int progress;
       public BackgroundTask() {
           mProgressDialog = new ProgressDialog(context);
             mProgressDialog.setMax(100);
             mProgressDialog.setProgress(0);
    }

       @Override
    protected void onPreExecute() {
           mProgressDialog =ProgressDialog.show(context, "", "Loading...",true,false);
        super.onPreExecute();
    }
     @Override
     protected void onProgressUpdate(Integer... values) {
     setProgress(values[0]);
  }

    @Override
    protected String doInBackground(String... params) {
            String data=getDatafromMemoryCard();    

        return data;  // return data you want to use here
    }
    @Override
    protected void onPostExecute(String  result) {  // result is data returned by doInBackground
        Toast.makeText(context, result, Toast.LENGTH_LONG).show();
        mProgressDialog.dismiss();
        super.onPostExecute(result);
    }
   } 
```

* * *

> 如果您在单独的类中使用 asynctask，请使用带有回调接口的 AsyncTask，如下所示

这是我之前提供的关于[带有回调的相同 AsyncTask的答案](https://stackoverflow.com/questions/14253421/how-one-interface-can-be-used-for-different-background-android-tasks/14376233#14376233)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:11:53.863

当一个异步任务被执行时，任务会经过 4 个步骤：

```
1.onPreExecute(), invoked on the UI thread before the task is executed. use this to diaply progress dialog.

2.doInBackground(Params...), invoked on the background thread immediately after onPreExecute() finishes executing. Can also use publishProgress(Progress...) to publish one or more units of progress. These values are published on the UI thread, in the onProgressUpdate(Progress...) step.

3.onProgressUpdate(Progress...), invoked on the UI thread after a call to publishProgress(Progress...). Used to publish progress.

4.onPostExecute(Result), invoked on the UI thread after the background computation finishes. The result of the background computation is passed to this step as a parameter. 
```

在您的活动 onCreate()

```
 TextView tv;
   @Override
   protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);  
    setContentView(R.layout.activity_main);
    tv= (TextView)findViewById(R.id.textView);
    new TheTask().execute();

  }
class TheTask extends AsyncTask<Void, Void,String> {

  protected void onPreExecute() {
  //dispaly progress dialog
 }

 protected String doInBackground(Void... params) {
   //do network operation
     return "hello"; 
 }

 protected void onPostExecute(String result) {  
  //dismiss dialog. //set hello to textview
      //use the returned value here.
     tv.setText(result.toString());
 }
 } 
```

进行异步调用，在 ui 线程上通知。

更新： AsyncTask 已弃用。切换到 kotlin 协程。[https://developer.android.com/kotlin/coroutines](https://developer.android.com/kotlin/coroutines)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:09:28.677

你不会以这种方式得到结果。有关示例，请参见此链接：[https ://github.com/levinotik/ReusableAsyncTask/tree/master/src/com/example](https://github.com/levinotik/ReusableAsyncTask/tree/master/src/com/example)

基本上，这是您需要做的：

*   定义您的活动实现的接口（= 侦听器）
*   在 asynctask 中设置监听器
*   在 onPostExecute 中调用 yourListener.yourMethod()

# jquery - jQuery函数无法正常工作

> ID：15635439
> 
> 赞同：0
> 
> 时间：2013-03-26T11:03:48.253
> 
> 标签：jquery

再次问候 SO 社区。

这段代码有什么问题吗：

```
(function ($) {
jQuery.fn.submitAsync = function (adHocOpts, addFormObserver, skipValidation) {        
    $.each(this, function (i, form)
    {
        if (!$(form).data('submitOptions') && addFormObserver)
            $(form).trigger('formLoad');

        $(form).data('adHocOptions', $(form).data('submitOptions'));

        $(form).mergeOptions('adHocOptions', adHocOpts);

        var options = $.extend($(form).data('adHocOptions'),
        {
            type: form.method,//.attr('method'),
            url: form.action,//.attr('action'),
            data: $(form).serialize()
        });

        if (skipValidation)
            options.validation = [];            
        setTimeout($.ajax(options), 10);

    });
};})(jQuery); 
```

我不断收到意外的标识符错误，并且执行已停止。有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:06:24.310

编辑：以前的答案不正确，试试这个：

```
setTimeout(function() {$.ajax(options)}, 10); 
```

我使用这个小提琴[http://jsfiddle.net/vasRL/2/](http://jsfiddle.net/vasRL/2/)来解决错误，发现它是在 setTimeout 函数上触发的。

# magento-1.7 - Magento 管理员表单

> ID：15635455
> 
> 赞同：1
> 
> 时间：2013-03-26T11:04:46.660
> 
> 标签：magento-1.7

我正在尝试在 adminhtml 表单中添加国家下拉列表和区域下拉列表。

理想情况下，区域下拉列表将根据所选国家通过 Ajax 填充。

下面是我的初始代码：

```
$fieldset->addField('country_code', 'select', array(
     'name'      => 'country_code',
     'label'     => Mage::helper(my_module)->__('Country'),
     'values'    =>     Mage::getModel('adminhtml/system_config_source_country')->toOptionArray(), 
```

));

```
$fieldset->addField('region_code', 'select', array(
     'name'      => 'region_code',
     'label'     => Mage::helper('my_module')->__('Region'),
     'values'    => ?????,
     'class'   => 'ajax', 
```

));

我不是很擅长magento。请帮忙..！！！谢谢..！！

# database - 使用 Delphi XE2 DBgrid 如何显示备注字段

> ID：15635470
> 
> 赞同：1
> 
> 时间：2013-03-26T11:05:21.557
> 
> 标签：database, delphi, delphi-xe2, dbgrid

如何使用 Delphi XE2 在 DBgrid 中显示 ADO 数据库备注字段？谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-26T11:18:19.250

[这](http://delphi.about.com/library/weekly/aa030105a.htm)是来自 DelphiAbout.com 的一个很好的例子，展示了如何实现`OnGetText`事件。

# virtuemart - 如何仅显示购物车中的产品数量 Virtuemart

> ID：15635472
> 
> 赞同：0
> 
> 时间：2013-03-26T11:05:35.543
> 
> 标签：virtuemart

我正在运行 Virtuemart 2.0.18 和 Joomla 1.5。我需要完成的只是用“10”之类的数字显示购物车中的产品总数。我有一张购物车图片，想把它放在图片旁边。

我发现了类似的问题——但是，答案并不适用——也不适用于我的情况。

我确实在 stackoverflow 上找到了这个线程：[在 2.5 上显示购物车中的商品数量？](https://stackoverflow.com/questions/15006030/display-the-number-of-items-in-the-cart-on-virtuemart-joomal-2-5)

这并没有解决我的问题：

```
<?php 
    $array = unserialize($_SESSION['__vm']['vmcart']); 
    $total = 0;
    foreach($array->products as $product){
        $total += $product->amount;
    }
    echo "Total Products: " . $total;
?> 
```

这只适用于我的购物车（因为购物车是由 cookie 运行的）。如果我添加一些产品，则 php 也无法正常工作，数字计数已关闭。基本上整个代码根本不起作用。

是否有 JavaScript 可以访问 cookie 并检索购物车中的产品数量，或者是否有类似的方法可以使用 PHP 执行此操作？

提前感谢您的帮助，我真的很感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T06:13:49.857

感谢 Virtuemart 论坛的人们，我决定复制一个 joomla 模块。我复制了 Virtuemart 购物车模块，然后删除了一些代码和 CSS 类，现在我有了一个模块，它只显示购物车中的产品总数！

这是该软件包的链接-您可以随意使用它：http: [//forum.virtuemart.net/index.php?topic=114256.0](http://forum.virtuemart.net/index.php?topic=114256.0)

# android - 解析 JSON 数据并将它们放入 gridview

> ID：15635473
> 
> 赞同：2
> 
> 时间：2013-03-26T11:05:36.253
> 
> 标签：android, json, android-arrayadapter, android-gridview

我正在开发一个应用程序，我必须在其中解析`JSON`数据并将它们放在 custom 中`gridview`。这是它应该是什么样子。

![如何显示网格视图？](../Images/b4f63c903d1be4a9c5fe08c641da49cc.png)

到目前为止，我已经在 asynctask 中解析了我的 JSON 数据并获取了这些值。这是我的代码：

```
private class getRedeemData extends AsyncTask<String, Void, String> {

    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        pdia = new ProgressDialog(AllPerksActivity.this);
        pdia.setMessage("Loading products. Please wait...");
        pdia.show();
    }

    @Override
    protected String doInBackground(String... args) {
        HttpParams params = new BasicHttpParams();
        params.setParameter(CoreProtocolPNames.PROTOCOL_VERSION,
                HttpVersion.HTTP_1_1);
        HttpClient httpClient = new DefaultHttpClient(params);
        HttpPost post = new HttpPost(
                "MY API HERE..!!");

        post.setHeader("Content-Type", "application/x-www-form-urlencoded");

        try {
            post.setEntity(new StringEntity("client_id=" + client_id + "&"
                    + "client_secret=" + clientSecretKey, HTTP.UTF_8));

            HttpResponse response = httpClient.execute(post);
            int i = response.getStatusLine().getStatusCode();
            System.out.println("HTTP Post status AllPerk Redeemption API: "
                    + i);

            BufferedReader in = new BufferedReader(new InputStreamReader(
                    response.getEntity().getContent()));

            // SB to make a string out of the inputstream
            StringBuffer sb = new StringBuffer("");
            String line = "";
            String NL = System.getProperty("line.separator");
            while ((line = in.readLine()) != null) {
                sb.append(line + NL);
            }
            in.close();

            // the json string is stored here
            String result = sb.toString();
            System.out.println("Result Body: " + result);
            return result;

        } catch (Exception e) {
            // TODO: handle exception
        }
        return null;
    }

    @Override
    protected void onPostExecute(String result) {
        JSONObject jObject;
        try {
            jObject = new JSONObject(result);

            JSONArray jSearchData = jObject.getJSONArray("rewards");

            for (int i = 0; i < jSearchData.length(); i++) {

                JSONObject objJson = jSearchData.getJSONObject(i);

                String rewardID = objJson.getString("rewardID");
                String rewardType = objJson.getString("rewardType");
                String rewardTitle = objJson.getString("rewardTitle");

                System.out.println("Reward ID: " + rewardID);
                System.out.println("Reward Type: " + rewardType);
                System.out.println("Reward Tittle: " + rewardTitle);
            }
        } catch (Exception e) {
            // TODO: handle exception
        }
        pdia.dismiss();
    }
} 
```

这是我的 Gridview 的 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<GridView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/grid"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:horizontalSpacing="10dp"
android:numColumns="2"
android:scrollbarStyle="outsideOverlay"
android:scrollbars="vertical"
android:verticalScrollbarPosition="right"
android:verticalSpacing="10dp" >
</GridView> 
```

有人可以告诉我如何使用适配器来解决这个问题。

任何形式的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:10:29.983

您将 JSON 数据保存在某个数组中，然后

```
gridView.setAdapter(new ImageAdapter(this, MOBILE_OS)); 
```

请参阅此链接以获取带有自定义适配器的 Gridview

[http://www.mkyong.com/android/android-gridview-example/](http://www.mkyong.com/android/android-gridview-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:09:38.497

解析 JSON 数据后，将数据存储在一个集合中（ArrayList 即可），创建一个适配器并使用`setAdapter`网格视图的方法将其与您的 GridView 绑定

检查[开发者文档](http://developer.android.com/guide/topics/ui/layout/gridview.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-24T10:29:49.383

使用

```
import org.json.JSONArray;
import org.json.JSONObject; 
```

可以轻松搞定。使用 json 数据检查参考[Android gridview](http://devsbucket.com/android/json-object-using-gridview-adnroid/)

# java - 如果我增加内存参数，Eclipse 不会启动

> ID：15635476
> 
> 赞同：0
> 
> 时间：2013-03-26T11:05:46.460
> 
> 标签：java, eclipse, memory, heap-memory

为了消除我的 java 堆空间错误，我将 eclipse.ini 中的参数设置为：

```
old param : 
-Xms40m
-Xmx512m

new param
-Xms40m
-Xmx2000m 
```

我试图增加一点空间，但我仍然得到相同的堆空间错误，所以我想进一步增加它，但后来 eclipse 无法开始说

```
FAILED TO CREATE THE JAVA VIRTUAL MACHINE 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:09:00.513

您通过 -Xmx 请求的大小必须可由操作系统作为单个块进行分配。如果这是可能的，可用的最大值取决于操作系统和虚拟机的实现细节。

对于 32 位系统，请参阅[http://publib.boulder.ibm.com/infocenter/javasdk/tools/index.jsp?topic=%2Fcom.ibm.java.doc.igaa%2F_1vg00014884d287-11c3fb28dae-7ff6_1001.html](http://publib.boulder.ibm.com/infocenter/javasdk/tools/index.jsp?topic=%2Fcom.ibm.java.doc.igaa%2F_1vg00014884d287-11c3fb28dae-7ff6_1001.html) “确切”的限制。他们在那里指出，在 64 位系统上，限制仅取决于操作系统在理论上和实践中可以支持的内容（最大连续可用块是上限）。

# c# - 文件系统观察程序 - 多个文件夹

> ID：15635477
> 
> 赞同：1
> 
> 时间：2013-03-26T11:05:47.600
> 
> 标签：c#, .net, filesystemwatcher

我想使用 filesystemwatcher 来监控多个文件夹，如下所示。我下面的代码只监视一个文件夹：

```
public static void Run()
{
     string[] args = System.Environment.GetCommandLineArgs();

     if (args.Length < 2)
     {
          Console.WriteLine("Usage: Watcher.exe PATH [...] [PATH]");
          return;
     }
     List<string> list = new List<string>();
     for (int i = 1; i < args.Length; i++)
     {
          list.Add(args[i]);
     }

     foreach (string my_path in list)
     {
          WatchFile(my_path);
     }

     Console.WriteLine("Press \'q\' to quit the sample.");
     while (Console.Read() != 'q') ;
}

private static void WatchFile(string watch_folder)
{
    watcher.Path = watch_folder;

    watcher.NotifyFilter = NotifyFilters.LastWrite;
    watcher.Filter = "*.xml";
    watcher.Changed += new FileSystemEventHandler(convert);
    watcher.EnableRaisingEvents = true;
} 
```

但是上面的代码监控一个文件夹，对另一个文件夹没有影响。这是什么原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:10:22.310

单个`FileSystemWatcher`只能监控单个文件夹。你需要有**多个** `FileSystemWatchers`才能实现这一点。

```
private static void WatchFile(string watch_folder)
{
    // Create a new watcher for every folder you want to monitor.
    FileSystemWatcher fsw = new FileSystemWatcher(watch_folder, "*.xml");

    fsw.NotifyFilter = NotifyFilters.LastWrite;

    fsw.Changed += new FileSystemEventHandler(convert);
    fsw.EnableRaisingEvents = true;
} 
```

请注意，如果您想稍后修改这些观察者，您可能希望`FileSystemWatcher`通过将其添加到列表或其他东西来维护对每个创建的引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:12:35.350

`EnableRaisingEvents`是默认`false`的，你可以尝试把它放在 Changed amd 之前为每个文件夹创建一个新的观察者：

```
FileSystemWatcher watcher = new FileSystemWatcher();
watcher.Path = watch_folder;
watcher.NotifyFilter = NotifyFilters.LastWrite;
watcher.Filter = "*.xml";
watcher.EnableRaisingEvents = true;
watcher.Changed += new FileSystemEventHandler(convert); 
```

# ios - 从 iOS 中的滚动视图中删除子视图后减小滚动视图的大小

> ID：15635479
> 
> 赞同：0
> 
> 时间：2013-03-26T11:05:55.580
> 
> 标签：ios, uiview, scrollview

我想从滚动视图中删除子视图，并看到了这篇文章：[如何从滚动视图中删除子视图？](https://stackoverflow.com/questions/1310723/how-to-remove-subviews-from-scrollview)

我正在使用此代码删除子视图：

```
NSArray *subviews = [[scroller subviews] copy];
for (UIView *subview in subviews) {
    [subview removeFromSuperview];
} 
```

但是我需要减小滚动视图的大小吗？

我怎么做？

这就是我删除特定视图的方式：

```
 NSArray *subviews = [[menuScrollView subviews] copy];

        for (UIView *subview in subviews)
        {
            NSLog(@"subview.name is %i",subview.tag);
            if(subview.tag == 1001)
            {
                [subview removeFromSuperview];
                break;
            }

        } 
```

编辑：

我试过这个：

```
[mScrollView setContentSize:CGSizeMake(mScrollView.frame.size.width,mScrollView.frame.size.height-subview.frame.size.height)]; 
```

但它仍然无法正常工作......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:14:05.103

试试下面的代码

```
[[scrollVw subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)]; 
```

你会成功的

# wso2 - wso2 dataservice serviceGroup 未从 .dbs 文件设置

> ID：15635480
> 
> 赞同：0
> 
> 时间：2013-03-26T11:06:00.107
> 
> 标签：wso2, wso2carbon

我创建了一些我想在 serviceGroup 下捆绑的 DataService。我手动添加了属性 serviceGroup="MyServiceGroup"。

但是，当我上传 dbs 文件时，serviceGroup 没有得到尊重；DataServices 为 service 和 serviceGroup 注册了相同的值。

我在 DataServices 4.0.2 (Carbon 4.0.2) 中尝试过。

以下是 dbs 文件的片段：

顾客：

```
<data name="Customer_DS" serviceGroup="Participants_DS"     serviceNamespace="urn:XYZ:entities:participants">
<config id="default">
    <property name="carbon_datasource_name">XYZ_DB</property>
</config>
...
</data> 
```

教练：

```
<data description="multiple services per each table" enableBatchRequests="false" enableBoxcarring="false" name="Coach_DS" serviceGroup="Participants_DS" serviceNamespace="urn:XYZ:entities:participants" serviceStatus="active">
   <config id="default">
      <property name="carbon_datasource_name">XYZ_DB</property>
   </config>
    ...
</data> 
```

合同：

```
<data name="Contract_DS" serviceGroup="Participants_DS" serviceNamespace="urn:XYZ:entities:participants">
   <config id="default">
      <property name="carbon_datasource_name">XYZ_DB</property>
   </config>
...
</data> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T16:55:51.473

如果您参考此代码。

```
 /* In the context of dataservices one service group will only contain one dataservice.
            *  Hence assigning the service group as the service group name */ 

 String serviceGroupName = serviceHierarchy +
                    this.getServiceNameFromDSContents(deploymentFileData.getFile()); 
```

您可以理解为什么按原样分配它。（名称 + 服务层次结构）。这似乎是一个限制。

完整来源在[这里](https://svn.wso2.org/repos/wso2/carbon/platform/branches/4.0.0/components/data-services/org.wso2.carbon.dataservices.core/4.0.2/src/main/java/org/wso2/carbon/dataservices/core/DBDeployer.java)

# html - 如何在不跨越它的情况下在 td 中有两种背景颜色？

> ID：15635482
> 
> 赞同：0
> 
> 时间：2013-03-26T11:06:04.433
> 
> 标签：html

嗨，先生/女士，我想在 td 的顶部和底部有不同的背景，即前半部分应该是绿色，后半部分是红色......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:10:30.480

使用 CSS 渐变。在您的情况下，CSS 将是：

```
background-image: linear-gradient(bottom, rgb(0,255,0) 50%, rgb(255,0,0) 50%);
background-image: -o-linear-gradient(bottom, rgb(0,255,0) 50%, rgb(255,0,0) 50%);
background-image: -moz-linear-gradient(bottom, rgb(0,255,0) 50%, rgb(255,0,0) 50%);
background-image: -webkit-linear-gradient(bottom, rgb(0,255,0) 50%, rgb(255,0,0) 50%);
background-image: -ms-linear-gradient(bottom, rgb(0,255,0) 50%, rgb(255,0,0) 50%);

background-image: -webkit-gradient(
    linear,
    left bottom,
    left top,
    color-stop(0.5, rgb(0,255,0)),
    color-stop(0.5, rgb(255,0,0))
); 
```

使用此站点生成更多： http: [//gradients.glrzad.com/](http://gradients.glrzad.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:10:35.633

要直接执行此操作，您可以将具有此功能的图像设置为背景。就像是

```
style="background-image:url(twocolor.png);" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:10:28.227

尝试渐变：

```
td {
    background: #00ff00;
    background: -moz-linear-gradient(top,  #00ff00 0%, #00ff00 49%, #ff0000 50%, #ff0000 100%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#00ff00), color-stop(49%,#00ff00), color-stop(50%,#ff0000), color-stop(100%,#ff0000));
    background: -webkit-linear-gradient(top,  #00ff00 0%,#00ff00 49%,#ff0000 50%,#ff0000 100%);
    background: -o-linear-gradient(top,  #00ff00 0%,#00ff00 49%,#ff0000 50%,#ff0000 100%);
    background: -ms-linear-gradient(top,  #00ff00 0%,#00ff00 49%,#ff0000 50%,#ff0000 100%);
    background: linear-gradient(to bottom,  #00ff00 0%,#00ff00 49%,#ff0000 50%,#ff0000 100%);
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ff00', endColorstr='#ff0000',GradientType=0 );
} 
```

要编辑此渐变，请使用[此](http://www.colorzilla.com/gradient-editor/#00ff00+0,00ff00+49,ff0000+50,ff0000+100;Gradient).

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T11:14:20.443

以防你不喜欢渐变（只是为了好玩）。[http://codepen.io/anon/pen/mqdvB](http://codepen.io/anon/pen/mqdvB)

# wso2esb - 我想在 wso2 esb 中将普通时间戳转换为 long(epoc)，我不知道 java 如何在脚本调解器中编写 javascript 任何人都可以帮助我吗？

> ID：15635484
> 
> 赞同：0
> 
> 时间：2013-03-26T11:06:15.073
> 
> 标签：wso2esb

```
 <inSequence xmlns="http://ws.apache.org/ns/synapse" onError="fault">
   <property name="CONTENT_TYPE" value="application/json" scope="axis2" type="STRING"/>
   <property name="HTTP_METHOD" value="POST" scope="axis2" type="STRING"/>
   <payloadFactory>
      <format>
         <getalert xmlns=""/>
      </format>
   </payloadFactory>
   <send receive="Get_Alert_Mobile_seq">
      <endpoint>
         <address uri="http://localhost:9764/services/tlog_DataService//" format="soap11"/>
      </endpoint>
   </send>
   <script language="js">
      <![CDATA[var x="2012-04-04 17:19:48+05:30".tostring();var y=x.split("T");var z=y[0].tostring().split("-");var a=y[1].tostring().split(":");var d=new date(z[0],z[1],z[2],a[0],a[1],a[2],a[3].tostring().split("+")[0]);]]></script>
      <log level="custom">
         <property name="TIMESTAMP" expression="get-property('newdate')"/>
      </log>
      <property name="ERROR_MESSAGE" expression="get-property('ERROR_MESSAGE')" scope="axis2" type="STRING"/>
      <property name="ERROR_CODE" expression="get-property('ERROR_CODE')" scope="axis2" type="STRING"/>
      <property name="FORCE_ERROR_ON_SOAP_FAULT" value="true" scope="default" type="STRING"/>
      <log level="full"/>
   </inSequence> 
```

我正在使用我也内联编写的脚本调解器，我的时间戳在 DB 中是这样的 2012-04-04 17:19:48+05:30

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T18:54:08.667

我认为以下喜欢会帮助你。 [在javascript中将UTC字符串转换为纪元时间](https://stackoverflow.com/questions/5680025/converting-utc-string-to-epoch-time-in-javascript)

但是为 WSO2 ESB 编写自定义中介来完成这项工作会更容易。这是一个简单的java类。以下链接将帮助您编写自定义调解器。[http://docs.wso2.org/wiki/display/ESB460/Writing+a+WSO2+ESB+Mediator](http://docs.wso2.org/wiki/display/ESB460/Writing+a+WSO2+ESB+Mediator)

您可以将日期字符串设置为消息属性。然后从自定义中介访问它并将其转换为毫秒的长值。然后将 long 值设置为另一个消息属性。

# c# - 货币值到文本表示 - C#

> ID：15635485
> 
> 赞同：-4
> 
> 时间：2013-03-26T11:06:18.243
> 
> 标签：c#

我正在寻找一种将我拥有的货币价值（以英镑为单位）转换为纯文本表示的方法。例如，我需要能够转换它：

399,994.71 英镑

至

三十九万九千九百九十四磅七十一便士

.NET 中有什么可以为我做到这一点吗？或者可能有任何现有的代码来做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:07:09.670

我创建了这个 Gist，请查看： [https ://gist.github.com/h22/5244967](https://gist.github.com/h22/5244967)

# xml - Flex Stacked ColumnChart 未显示

> ID：15635489
> 
> 赞同：0
> 
> 时间：2013-03-26T11:06:24.460
> 
> 标签：xml, apache-flex, linechart, stackedbarseries

我有以下xml结构：

```
<root>
   <day name="Sun" values="21,22,25,26"/>
   <day name="Mon" values="27,20,22,25"/>
</root> 
```

我希望它在带有堆积条的柱形图中表示。第一列将由相互堆叠的列组成，其值 21、22、25 和 26 对应于星期日。每次更新数据提供者时，值的长度可能会发生变化。所以我写了这样的代码：

```
var columnChart:ColumnChart = new ColumnChart();
columnchart.type="stacked";
var yAxisData:String = "@values";
var xAxisData:String = "@name";
var dp:XMLListCollection = new XMLListCollection(xmlFile.day); 
columnchart.dataProvider = dp;

var valueLength:int = dp[0][yAxisData].toString().split(",").length;
for(var count:int = 0;count<valueLength;count++){
var bSeries:ColumnSeries = new ColumnSeries();
bSeries.dataProvider = dataProvider;
bSeries.xField = xAxisData;
bSeries.yField = yAxisData+"["+count+"]";
columnchart.series.push(bSeries);
}
var hAxis:CategoryAxis = new CategoryAxis();
hAxis.dataProvider = dp;
hAxis.categoryField = xAxisData ;   
CartesianChart(columnchart).horizontalAxis = hAxis; 
```

但是图表出来是空的。我哪里做错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:43:37.163

下面的代码可以帮助你： -

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
               xmlns:s="library://ns.adobe.com/flex/spark" 
               xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600">
    <fx:Declarations>
        <!-- Place non-visual elements (e.g., services, value objects) here -->
        <fx:XML format="e4x" id="xmlFile">
            <root>
                <day name="Fri" values="11,22,33,44,55,66"/>
                <day name="Sat" values="10,20,30,40,50,60"/>
                <day name="Sun" values="21,22,25,26,56,76"/>
                <day name="Mon" values="5,10,15,20,25,30"/>
            </root>
        </fx:XML>
    </fx:Declarations>
    <fx:Script>
        <![CDATA[
            import mx.charts.CategoryAxis;
            import mx.charts.ColumnChart;
            import mx.charts.Legend;
            import mx.charts.chartClasses.CartesianChart;
            import mx.charts.chartClasses.Series;
            import mx.charts.series.ColumnSeries;
            import mx.charts.series.ColumnSet;
            import mx.collections.ArrayCollection;
            import mx.collections.XMLListCollection;

            private function createChart():void
            {
                var columnChart:ColumnChart = new ColumnChart();
                var dp:XMLListCollection = new XMLListCollection(xmlFile.day);  
                var stackedData:ArrayCollection = new ArrayCollection();

                var yAxisData:String = "@values";
                var xAxisData:String = "@name";

                var horizontalCategoryAxis:CategoryAxis = new CategoryAxis();
                horizontalCategoryAxis.categoryField = "name";
                columnChart.horizontalAxis = horizontalCategoryAxis;

                var columnSet:ColumnSet = new ColumnSet();
                columnSet.type = "stacked";

                for(var row:int=0; row < dp.length; row++){
                    var arrayData:Array = dp[row][yAxisData].toString().split(",");

                    var seriesArray:Array = new Array();

                    var obj:Object = new Object();
                    obj.name = dp[row][xAxisData].toString();

                    for(var j:int=0; j < arrayData.length; j++)
                    {
                        obj["xValues"+j] = arrayData[j].toString();
                    }
                    stackedData.addItem(obj);
                }

                for(var col:int=0; col < arrayData.length; col++){
                    var colmSeries:ColumnSeries = new ColumnSeries();
                    colmSeries.yField = "xValues"+col;
                    colmSeries.displayName = "Value at "+col;
                    seriesArray.push(colmSeries);
                }

                columnSet.series = seriesArray;
                columnChart.series = [columnSet];

                columnChart.dataProvider = stackedData;
                columnChart.percentWidth = 70;
                columnChart.percentHeight = 70;
                columnChart.showDataTips = true;

                var legend:Legend = new Legend();
                legend.direction = "horizontal";
                legend.dataProvider = columnChart;

                container.addElement(columnChart);
                container.addElement(legend);
            }

        ]]>
    </fx:Script>

    <s:VGroup id="container" width="100%" height="100%" creationComplete="createChart()"/>
</s:Application> 
```

# google-maps - 无法将 kml 线串文件导入谷歌地图中的“我的地点”

> ID：15635500
> 
> 赞同：2
> 
> 时间：2013-03-26T11:06:59.203
> 
> 标签：google-maps, import, kml

我无法再将 kml 文件导入 Google 地图中的“我的地点”，即使是过去可以使用的文件。我什至尝试从[How to draw a path on a map using kml file? 中复制一个示例？](https://stackoverflow.com/questions/3109158/how-to-draw-a-path-on-a-map-using-kml-file?rq=1) 但收到错误“我们无法完成上传您的文件”。

所以我不再认为这是一个 kml 语法问题，而是一个谷歌地图错误 - 请帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T01:11:21.397

我遇到了同样的问题。我使用的是 Firefox 19.0.2。刚刚用IE8试了一下，效果很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T07:42:03.757

我刚刚发现该怎么做我得到了同样的错误，因为我的 kml 文件超过了 3MB

这对我有用。

1.  我将文件（gpx 或 kml）导入我计算机上的 Google 地球
2.  然后我选择了导入的文件并单击以将文件保存在我的桌面上。这导致 Google 地球将我的大文件“转换”为一个 .kml 文件，该文件包含所有点但要小得多

3.  最后，由 Google 地球创建的较小文件，轻松快速地上传到我的地点

# javascript - 如何从 UIWebView 获取内容？

> ID：15635507
> 
> 赞同：0
> 
> 时间：2013-03-26T11:07:12.510
> 
> 标签：javascript, ios, xcode, uiwebview, nsstring

我需要从`UIWebView`. 我怎样才能得到这个？

我还有一个用于正则表达式检测的代码，但它给出了段落类名称而不是段落内容：

```
NSError *error = NULL;
NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@"(<p\\s[\\s\\S]*?=\\s*?['\"](.*?)['\"][\\s\\S]*?>)+?"
                             options:NSRegularExpressionCaseInsensitive
                             error:&error];

[regex enumerateMatchesInString:html
                        options:0
                        range:NSMakeRange(0, [html length])
                        usingBlock:^(NSTextCheckingResult *result, NSMatchingFlags flags, BOOL *stop) {

    NSString *img = [html substringWithRange:[result rangeAtIndex:2]];
    NSLog(@"img src %@",img);
}];

NSString *classs=[webView stringByEvaluatingJavaScriptFromString:@"document.getElementbyClassName(img)"]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T12:40:45.820

最可靠的方法是在 Web 视图的上下文中执行一些 javascript 代码，该代码定位文档中的第一个段落元素并返回其文本。您可以使用`UIWebView`'`stringByEvaluatingJavaScriptFromString`方法执行此操作。

下面的代码首先检索文档中带有标记名称 P 的所有元素的数组（假设您要查找的文本在这些元素中，否则您将有更多工作要做）。然后它检查是否至少有一个段落元素，如果有，则返回其文本内容。否则，它返回空字符串。

```
- (void)webViewDidFinishLoad:(UIWebView *)_webView
{
    NSString *code = @"var paragraphs = document.getElementsByTagName('P');"
                      "paragraphs.length > 0 ? paragraphs[0].innerText : '';";
    NSString *text = [_webView stringByEvaluatingJavaScriptFromString: code];
    // ... do something with text ...
} 
```

如果要检查或更改文档的其他方面，可以在 Web 视图的上下文中运行任意 javascript 代码。

# c# - 使用 Oracles OracleConnection 但不是系统时登录凭据无效

> ID：15635509
> 
> 赞同：0
> 
> 时间：2013-03-26T11:07:16.863
> 
> 标签：c#, oracle

我使用以下代码连接到 Oracle 数据库：

```
using (Oracle.DataAccess.Client.OracleConnection cn =
           new Oracle.DataAccess.Client.OracleConnection(
               "Data Source=abcSource;User Id=abcUserId;Password=abcPassword;"));
{ 
    cn.Open(); 
} 
```

但我得到这个错误 

> 无效的登录凭证

如果我尝试以下代码，我会成功。

```
using (System.Data.OracleClient.OracleConnection cn = 
           new System.Data.OracleClient.OracleConnection(
               "Data Source=abcSource;User Id=abcUserId;Password=abcPassword;"));  
{  
   cn.Open();  
} 
```

我不明白，这是怎么回事？

# jmx - 通过 JConsole 进行多对象监控

> ID：15635511
> 
> 赞同：0
> 
> 时间：2013-03-26T11:07:21.513
> 
> 标签：jmx, jconsole

我正在尝试通过 JConsole 中的 JMX 监视我的应用程序的对象。但是在 JConsole 中我看不到同一个类的多个对象。这是我的代码：

```
ApplicationCache cache1 = new ApplicationCache();
MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();
ObjectName name = new ObjectName("org.javalobby.tnt.jmx:type=ApplicationCacheMBean1");
mbs.registerMBean(cache1, name);
imitateActivity(cache1);

ApplicationCache cache2 = new ApplicationCache();
mbs = ManagementFactory.getPlatformMBeanServer();
ObjectName name2 = new ObjectName("org.javalobby.tnt.jmx:type=ApplicationCacheMBean2");
mbs.registerMBean(cache2, name2);
imitateActivity(cache2); 
```

在 JConsole UI 中，我只能看到的信息`ApplicationCacheMBean1`。没有关于 的信息`ApplicationCacheMBean2`。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:26:43.023

我会`type=`变成`name=`. 如果您查看[`ObjectName`javadocs](http://docs.oracle.com/javase/6/docs/api/javax/management/ObjectName.html)，他们的所有示例都具有`name=`我认为 jconsole 用于显示 bean 的内容。可能是您有两个基本上具有空名称的 bean 并且它们相互覆盖。它可能使用对象的类作为名称。

```
new ObjectName("org.javalobby.tnt.jmx:name=ApplicationCacheMBean1");
new ObjectName("org.javalobby.tnt.jmx:name=ApplicationCacheMBean2"); 
```

如果您在 Jconsole 中将其拉起并单击 bean 名称，它应该会显示`ObjectName`它正在使用的名称。您可能会在那里看到一个推断的名称。

顺便说一句，我的[SimpleJMX 包](http://256stuff.com/sources/simplejmx/)强制创建 ObjectName 的问题：

```
@JmxResource(domainName = "j256", beanName = "LookupCache")
public class LookupCache { 
```

这将创建`ObjectName`： `j256:name=LookupCache`

# jquery - jQuery隐藏（和显示）父元素中的元素

> ID：15635516
> 
> 赞同：0
> 
> 时间：2013-03-26T11:07:34.057
> 
> 标签：jquery

好吧，也许是天太晚了！我已经尝试了大多数相关问题，我相信这很简单，但这里有：

这是 HTML 结构：

```
<article>

<div class="info-wrap">
<p>blah blah</p>
<a href="#" class="info-close">Close div!</a>
</div>

<a href="#" class="info-show">Show div!</a>

</article> 
```

将有上述结构的多个实例（Wordpress 循环），因此它应该只显示该实例中的 div（不是全部）。到目前为止，这是我的 jQuery：

```
$("a.info-show").click(function(){
     $(this).parent('article').find('.info-wrap').animate({ opacity: 'show' }, "slow");
    return false;
}); 
```

不工作。我在这里想念什么？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:10:47.283

尝试这个：

```
$(document).ready(function(){
    $("a.info-show").click(function(e){
        e.preventDefault();
        $(this).parents('article').find('div.info-wrap').animate({ opacity: 1 }, "slow");
        return false;
    });
}); 
```

或使用：

```
$(document).ready(function(){
    $("a.info-show").click(function(e){
        e.preventDefault();
        $(this).parents('article').find('div.info-wrap').fadeIn('slow');
        return false;
    });
}); 
```

阅读[http://api.jquery.com/fadeIn/](http://api.jquery.com/fadeIn/)和[http://api.jquery.com/animate/](http://api.jquery.com/animate/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:29:03.153

您可以使用创建的示例

```
$("a.info-show").click(function(e){

$(this).parents('article').find('.info-wrap').fadeIn('slow');
    $("a.info-show").hide('slow');
    return false;
});

$("a.info-close").click(function(e){

$(this).parents('article').find('.info-wrap').fadeOut('slow');
 $("a.info-show").show('slow');
    return false;
}); 
```

并使用[小提琴链接](http://jsfiddle.net/liyakat/Fgs5Y/)来测试你的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:18:37.107

尝试：

```
$("a.info-show").click(function(e){
    $(this).closest("article").find("div.info-wrap").fadeIn(500);
}); 
```

还要确保在 jquery 初始化时这些类确实存在。如果您为此使用 ajax，将`bind`这些添加到父节点可能是个好主意

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T11:20:07.563

你的代码对我来说看起来不错。我能想到的唯一问题是您没有将点击功能绑定到事件（如 document.ready()）。这是一个适合您的工作[JSFiddle](http://jsfiddle.net/WpsSj/)。

### JS

```
$(document).ready(function(){
    $('.info-show').click(function(){
        var info = $(this).parent().find('.info-wrap > p');
        info.animate({ opacity: 1 }, "slow");
    });
    $('.info-close').click(function(){
        var info = $(this).parent().find('p');
        info.animate({ opacity: 0 }, "slow");
    });
}); 
```

还要确保您最初将不透明度设置为 0 以使其正常工作。

### CSS

```
article .info-wrap > p {
   opacity: 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-26T11:20:43.700

尝试`.prev()`：

```
$("a.info-show").click(function () {
   $(this).prev('.info-wrap').fadeIn();
   return false;
}); 
```

### [结帐小提琴](http://jsfiddle.net/EpdVU/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-26T11:17:40.200

确保您的脚本在 onready 内部运行，除此之外看起来还不错。

```
$(function(){
    $("a.info-show").click(function(){
        $(this).siblings('.info-wrap').animate({ opacity: 'show' }, "slow");
        return false;
    });
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/HJQ6a/)

# clojure - 如何在 Compojure 中获取重复请求参数

> ID：15635518
> 
> 赞同：8
> 
> 时间：2013-03-26T11:07:34.157
> 
> 标签：clojure, compojure

我可以通过以下方式轻松获取请求参数：

```
(:foo params) 
```

但是，当我有这样的请求时：

```
/api?foo=1&foo=2&foo=3 
```

`"3"`我只在我期待一个数组的时候回来`["1","2","3"]`。

我不确定为什么会发生这种情况，因为当我查看以下代码时：

[https://github.com/ring-clojure/ring-codec/blob/master/src/ring/util/codec.clj#L128](https://github.com/ring-clojure/ring-codec/blob/master/src/ring/util/codec.clj#L128)

似乎调用`assoc-conj`which 应该将多个同名参数转换为包含值的向量。

我在这里遗漏了什么还是这是一个错误？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-02T02:49:42.203

使用标准的 Clojure 解构形式：

```
(GET "/api" {{:strs [foo]} :query-params} (str foo))

curl "http://localhost:3000/api?foo=1&foo=2&foo=3" 
==> ["1" "2" "3"] 
```

文档：[https ://github.com/weavejester/compojure/wiki/Destructuring-Syntax](https://github.com/weavejester/compojure/wiki/Destructuring-Syntax)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T02:22:34.530

我自己从来没有遇到过这个问题，但是如果确实不可能在不自己手动解析 URL 的情况下获取多个值，那么听起来值得在[https://github.com/weavejester提交错误报告/作曲/](https://github.com/weavejester/compojure/)。（除非它是一个功能。Compojure 和 Clout 中还有一些其他的东西有点不标准，但非常方便。）

# java - 路径必须包含项目和资源名称/错误

> ID：15635526
> 
> 赞同：0
> 
> 时间：2013-03-26T11:07:50.497
> 
> 标签：java, eclipse, git, maven

我已经使用以下选项在 Eclipse 中检查了一个 Maven 项目：

```
Import > Maven > Check out Maven Projects from SCM 
```

当我尝试使用以下方法构建项目时：

```
Project > Clean 
```

我收到以下错误：

```
Problems occurred when invoking code from plug-in: "org.eclipse.core.resources". 
```

堆栈跟踪：

```
java.lang.IllegalArgumentException: Path must include project and resource name: /
    at org.eclipse.core.runtime.Assert.isLegal(Assert.java:63)
    at org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:2163)
    at org.eclipse.core.internal.resources.Container.getFolder(Container.java:222)
    at org.sonatype.m2e.mavenarchiver.internal.AbstractMavenArchiverConfigurator.mavenProjectChanged(AbstractMavenArchiverConfigurator.java:178)
    at org.sonatype.m2e.mavenarchiver.internal.AbstractMavenArchiverConfigurator.mavenProjectChanged(AbstractMavenArchiverConfigurator.java:170)
    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.mavenProjectChanged(ProjectConfigurationManager.java:905)
    at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.notifyProjectChangeListeners(ProjectRegistryManager.java:732)
    at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.applyMutableProjectRegistry(ProjectRegistryManager.java:855)
    at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:279)
    at org.eclipse.m2e.core.internal.project.registry.MavenProjectManager.refresh(MavenProjectManager.java:58)
    at org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:87)
    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:726)
    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:199)
    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:239)
    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:292)
    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:295)
    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:351)
    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:374)
    at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:143)
    at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:241)
    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:53) 
```

会话数据：

```
eclipse.buildId=M20130204-1200
java.version=1.7.0_17
java.vendor=Oracle Corporation
BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os linux -ws gtk -arch x86_64 -product org.eclipse.epp.package.java.product 
```

我看不出配置有任何问题。其他人已经检查了这个项目而没有这个错误。我不知道当它说“路径必须包括...”时它指的是什么我在哪里可以配置这个路径？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T04:05:16.973

这是由本地定义的名为 $BROOT 的环境变量引起的，该变量设置在 ~/.bashrc 中，然后由 maven pom.xml 拾取。环境变量把项目的输出目录放到了eclipse工作区之外，这不是Eclipse喜欢做的事情。

解决方案是取消设置环境变量。这就是它在 Windows 中工作的原因，因为 Windows 对 ~/.bashrc 一无所知。

# mysql - SQL - 慢子查询

> ID：15635528
> 
> 赞同：2
> 
> 时间：2013-03-26T11:07:53.653
> 
> 标签：mysql, sql

首先，我为这个问题的“新手”性质道歉。我在堆栈交换上看到了许多其他慢子查询问题，但我不确定如何将修复程序应用于我的问题。除了简单的选择、插入等之外，我对任何 SQL 都很陌生。

我有一个打印机监控系统，它每五分钟将其结果记录到 MySQL 表 (trends_uint) 中，用于一系列设备。它记录：设备 id (itemid)、时间戳 (clock) 和打印的页面 (value_avg)。从 PhpMyAdmin 我可以看到表索引是 itemid 和时钟的组合，我猜它们一起提供了一个独特的值。到目前为止，该表大约有 200 万行。

我的查询如下：

```
SELECT
     tu1.itemid AS trends_uint_itemid,
     tu1.clock AS time_value,
     tu1.value_avg AS pages
FROM
     trends_uint tu1
WHERE
    (tu1.clock = (
                     SELECT max(tu2.clock)
                     FROM trends_uint tu2
                     WHERE tu1.itemid = tu2.itemid
                  )
    )
ORDER BY tu1.clock DESC; 
```

我想要做的是为每个设备（itemid）选择最新的值（即最高时钟的 value_avg），这样我就有希望绘制出每台打印机迄今为止打印的页数。

我尝试为返回以下内容的查询运行 EXPLAIN：

```
id  select_type         table   type    possible_keys   key         key_len     ref                 rows        Extra
1   PRIMARY             tu1     ALL     NULL            NULL        NULL        NULL                1527815     Using where; Using filesort
2   DEPENDENT SUBQUERY  tu2     ref     PRIMARY         PRIMARY     8           zabbix.tu1.itemid   115301      Using index 
```

任何帮助，将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:15:09.730

这样的查询怎么样：

```
SELECT ...
FROM trends_uint t
INNER JOIN (
    SELECT MAX(clock) AS clock, itemid
    FROM trends_uint
    GROUP BY itemid
) x ON x.itemid = t.itemid AND t.clock = x.clock 
```

假设您的表中有一个复合索引：（`itemid + clock`按此特定顺序）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:24:26.027

如果使用显式子查询会有所不同吗？

```
SELECT
     tu1.itemid AS trends_uint_itemid,
     tu1.clock AS time_value,
     tu1.value_avg AS pages
FROM
     trends_uint tu1
JOIN

(
     SELECT 
         itemid as theItem
         ,max(tu2.clock) AS LatestTime
     FROM trends_uint tu2
     GROUP BY itemid
) LatestClockForEachItem

ON tu1.itemid = LatestClockForEachItem.theItem
AND tu1.clock = LatestClockForEachItem.LatestTime

ORDER BY tu1.clock DESC; 
```

PS。SQL小提琴在这里：[http ://sqlfiddle.com/#!2/bac3b/2](http://sqlfiddle.com/#!2/bac3b/2)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:16:39.247

问题在于子查询的类型为“DEPENDENT SUBQUERY”。这意味着 MySQL 为主查询的每个匹配行运行一次该子查询。如果您说该表有 200 万行，这意味着大约 200 万次。

尝试使用 Group By 运算符或使用连接将子查询的逻辑向上移动到主查询。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T14:02:08.060

你的查询没问题。你需要一个关于`trends_uint(itemid, clock)`.

您还可以将子查询表述为：

```
tu1.clock = (
                     SELECT tu2.clock
                     FROM trends_uint tu2
                     WHERE tu1.itemid = tu2.itemid
                     order by tu2.clock desc
                     limit 1
                  ) 
```

To ma，这种形式更清楚地说明了如何使用索引（进入项目的索引，选择最后一个时钟值）。

我还建议您在表中包含一个自动递增的 id 作为主键。这可以帮助您加快查询速度，以获取表中的最新行。

# css - CSS 在 AJAX 加载中不起作用

> ID：15635529
> 
> 赞同：0
> 
> 时间：2013-03-26T11:07:54.253
> 
> 标签：css, ajax, load

基本上，我有一个 AJAX 加载函数，可以将 content.html 文件中的内容加载到内容 div 中。

我网站的每个页面都从同一个 content.html 文件中获取信息。

CSS 类通过它自己的 content.css 文件链接到这个 content.html 文件。

网站：www.crookedcartoon.co.uk

对于我的第一页（Print.html），所有从 content.html 文件加载到其中的内容，并且所有 CSS 都完好无损，并且运行良好。

当我进入第二页（Design.html）时，css 不起作用。

在本地打开 content.html 文件时，css 对所有内容都完全正常，一旦 AJAX 将其加载到 div 中，它就会停止工作，但仅在第二页上。

任何人都可以帮忙吗？这让我发疯，我似乎无法找到为什么它不起作用，我什至尝试将第二页的所有内容移动到一个新的 content2.html 文件并从中加载它，但问题仍然存在。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:23:43.180

很难准确地说出您所看到的或遇到的问题。但是，这是我注意到的：

1.  这实际上只是“盐城”子页面上的一个问题。其余的看起来都很好。
2.  你有`class='content-header2'`相关`class='content-text2'`的“盐城”div。其余的使用`content-header`and `content-text`。如果你改变它，它工作正常。

注意：DID 工作正常。当我回去仔细检查时，链接被破坏了。我假设您正在修补它，这就是习惯上在 jsfiddle、jsbin 或其他类似站点上包含指向问题示例的链接的部分原因。

# android - GPS启用时如何调用方法

> ID：15635534
> 
> 赞同：1
> 
> 时间：2013-03-26T11:08:09.120
> 
> 标签：android, android-location

我想在 GPS 状态启用时调用一个方法。我写了这个，但它不起作用。

```
private LocationManager locManager;
private GpsStatus mStatus;

locManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
locManager.addGpsStatusListener(this);

@Override
public void onGpsStatusChanged(int event) 
{
    mStatus = locManager.getGpsStatus(null);
    switch (event) {
        case GpsStatus.GPS_EVENT_STARTED:
            myMethod1();
            break;

        case GpsStatus.GPS_EVENT_STOPPED:
            myMethod2();
            break;

        case GpsStatus.GPS_EVENT_FIRST_FIX:
            break;

        case GpsStatus.GPS_EVENT_SATELLITE_STATUS:
            break;
    }
} 
```

谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:10:00.633

```
@Override
    public void onLocationChanged(Location location) {
    }

    @Override
    public void onProviderDisabled(String provider) {

            // GPS Enable
    }

    @Override
    public void onProviderEnabled(String provider) {
    }

    @Override
    public void onStatusChanged(String provider, int status, Bundle extras) {
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:19:00.583

您可以通过以下方式检测 GPS 的状态。

查看[GpsStatus.Listener](http://developer.android.com/reference/android/location/GpsStatus.Listener.html)。使用 locationManager.addGpsStatusListener(gpsStatusListener) 注册它。

另请检查此 SO[链接](https://stackoverflow.com/questions/13524164/how-to-get-notified-when-the-gps-in-disabled-by-the-user-in-android)以获得更好的理解。

# visual-studio - 如何让 Visual Studio 知道他应该采用引用的 DLL 的新版本？

> ID：15635539
> 
> 赞同：0
> 
> 时间：2013-03-26T11:08:27.427
> 
> 标签：visual-studio, dll, compilation

我有两个项目的解决方案。一个引用另一个。当我对第二个进行更改并对其进行编译时，第一个似乎并没有意识到这一点。因为它链接到它的旧版本。

有没有办法告诉 VS2012 检查引用的 DLL 文件自上次将它们复制到本地文件夹后是否已更改？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T11:14:03.263

我终于发现出了什么问题。它是包含斜杠“/”而不是反斜杠“\”的参考路径。似乎我部分地在这种路径上工作，但并非总是如此。

![在此处输入图像描述](../Images/857c36d1ee36339d5210b55e797b8e17.png)

PS：*我输入这个以防将来对某人有所帮助。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:13:33.583

当您引用第二个项目时，请确保将其引用为“项目引用”。这告诉 VS 在该项目更改时更新引用。如果您使用 DLL 引用，则假定该引用是对外部 DLL 的引用，因此它希望您维护这些版本。

# cakephp - CakePHP 在哪里存储模型实例？

> ID：15635543
> 
> 赞同：0
> 
> 时间：2013-03-26T11:08:30.220
> 
> 标签：cakephp

CakePHP 在哪里存储模型实例，或者我如何获取已经加载的所有模型的列表？

我知道

```
App::objects('model'); 
```

但这只是列出了所有可用的模型......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:01:58.553

`ClassRegistry`保存加载的模型实例。所以[ClassRegistry::keys()](http://api.cakephp.org/2.3/class-ClassRegistry.html#_keys)就是你要找的。

# couchdb - 在不重复逻辑的情况下查询影响视图输出范围的更改

> ID：15635545
> 
> 赞同：1
> 
> 时间：2013-03-26T11:08:40.617
> 
> 标签：couchdb

假设我有一个存储日志消息的数据库。每条消息都包含*优先级*、*日期*和*消息*的信息。应用程序应该能够查询日志消息，可能受优先级限制，按日期排序。所以我可以创建一个`by_priority`键为的视图`[doc.priority, doc.date]`，然后我可以很容易地查询所有优先级值至少为的消息，`$X`请求如下：

`GET $database/_design/$design/_view/by-priority?startkey=[$X]&endkey=[{}]`

现在我想扩展应用程序以在新消息到达时自动获取具有给定标准的新消息。我可以通过添加一个名为的过滤器`min_priority`来选择优先级至少为`$X`（与查询参数一起传递`prio`）的消息并发出以下请求：

`GET $database/_changes?filter=$design/max_priority&prio=$X`

但这意味着我必须在服务器（通过过滤器功能）和客户端（通过构造 and 的值）上复制选择逻辑（最小值、最大值、优先级范围、按优先级和*日期*）。`startkey``endkey`

真的有必要两次实现相同的逻辑吗？

或者至少可以在视图和过滤器函数之间共享为文档生成键值对的代码？这样，我可以为每个调用视图函数并接受`startkey`and`endkey`参数的视图拥有一个通用过滤器函数。我还需要一种方法来访问 CouchDB 的算法来比较密钥。有没有我可以从 JavaScript 访问的函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T13:49:54.073

我认为目前不可能在视图和/或过滤器之间删除重复代码，尽管当然可以想象一个查询服务器可以让您访问这些功能。

# javascript - ExtJS 4.2.0 RowExpander 动态加载数据

> ID：15635546
> 
> 赞同：3
> 
> 时间：2013-03-26T11:08:40.613
> 
> 标签：javascript, plugins, extjs

我想使用 ExtJs 插件“RowExpander”，但是，我会在事件 expandbody 被触发时加载数据。我试过这段代码，但我不知道如何设置 rwoBody Expanded 的内容：

```
this.GridPrincipal.getView().addListener('expandbody', function (rowNode, record, expandRow, eOpts) {

        Ext.Ajax.request({
            url: 'getData/' + record.get('id'),
            method: 'POST',
            success: function (result, request) {
            // retrive the data
            var jsonData = Ext.util.JSON.decode(result.responseText);
            //code to change the text of the RowBody
                            //....
            },
            failure: function (result, request) {
            Ext.MessageBox.alert('Failed', result.responseText);
            return false;
            }
            });

    }); 
```

非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-18T11:09:46.070

您可以将任何数据甚至其他组件呈现到扩展器中的一种解决方案是为其分配一个 div。

```
plugins: [{
        ptype: 'rowexpander',
        rowBodyTpl: ['<div id="ux-row-expander-box-{id}"></div>'],
        expandOnRender: true,
        expandOnDblClick: true
    }] 
```

其中“id”是您商店的 id 字段。

接下来在expandbody 事件中，您可以使用例如Ajax 请求获取您的数据，然后使用renderTo 配置将包含数据的面板或网格等渲染到此div 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T14:17:39.670

我也有同样的问题。我的解决方案是：

```
Ext.get(expandRow).setHTML('New Text'); 
```

我很想知道是否有更好的方法。

# regex - Solr - 自定义片段

> ID：15635548
> 
> 赞同：2
> 
> 时间：2013-03-26T11:08:53.313
> 
> 标签：regex, highlighting, solr4

我想在我的 solr 突出显示功能中使用 Regexp Fragmenter 来自定义我的片段。

根据要求，我们需要在突出显示术语之前和之后返回 25 个单词。

下面是一个示例高亮片段。

`Some polls show a major gender gap between men and women when it comes to gun control. A Washington Post/ABC News poll in January showed that <span class="highclass">women</span> supported a semi-automatic gun ban by 20 more points than men. They favored a ban on high-capacity magazines by 15 points.`

为此，我制作了下面的正则表达式

```
((?:\w+\W*){25})\b(span class)\b((?:\W*\w+){25}) 
```

这个正则表达式可以很好地处理简单的字符串。(tested) ，但是在将它与 solr 一起使用时，它似乎无法正常工作。

很少有亮点很好，但是对于很少的亮点，亮点术语出现在突出显示片段的开头。

我不确定，那个正则表达式碎片器可以做什么，我需要什么。还有其他方法可以满足这个要求吗？

有人可以建议我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-24T09:39:04.337

**[占有量词](http://www.regular-expressions.info/possessive.html)**（一个额外的“+”）可以解决问题：

```
((?:\w++\W*+){25})\b(span class)\b((?:\W*+\w++){25}) 
```

# c++ - 多边形顶点减少库保持几乎相同的形状

> ID：15635550
> 
> 赞同：1
> 
> 时间：2013-03-26T11:08:57.493
> 
> 标签：c++, polygon

我正在使用多边形裁剪库[Clipper](http://sourceforge.net/projects/polyclipping/)的 c++ 版本，我想减少多边形中的顶点数量，保持几乎相同的形状。

作为附加要求，我必须“仅向外”近似我的多边形：生成的简化多边形必须与原始多边形一致。

我想过：

*   凸包，它满足“仅向外”的条件，但它过于简化了我的多边形
*   [Ramer-Douglas-Peucker 算法](http://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm)，这很好，因为它让我选择错误但它不满足“仅向外”条件。

然后我看了一下[psimpl 库](http://psimpl.sourceforge.net)，最接近我要求的算法似乎是[Opheneim 算法](http://psimpl.sourceforge.net/opheim.html)，它

> 使用最小和最大距离容差来约束搜索区域

但最小距离不能为 0。

这个问题有什么可能的解决方案吗？你知道任何解决它的 c++ 库吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:12:25.813

您可以尝试围绕多边形进行迭代并执行以下操作：

1.  如果顶点是凹的并且到线的距离，连接相邻顶点 < `tolerance`，则将其删除。

2.  如果顶点是凸的，则考虑前一段位于 line 上`L1`，进一步迭代，同时`L1`与包含下一段的线相交，在`P`多边形外的点和`P`到多边形 <`tolerance`的距离，以及段的起点到`L1`<的距离`tolerance`。当该迭代停止时（不是在第一次迭代时），删除中间点，插入交点（如果当前在多边形内，则为上一个，如果在边界上，则为当前）。

继续迭代多边形，同时进行简化。还要确保保留旧点以检查容差（例如，您可以枚举顶点，并在简化时删除索引，但在检查容差时，也要检查中间索引）

它不是超快速算法，但可以满足您的需求。

![例子](../Images/af427e06ea782d383848da2543dde342.png)

# vbscript - VbScript - 我有 10 个 excel 文件。想把所有 10 个文件合并到一个 excel 中

> ID：15635552
> 
> 赞同：0
> 
> 时间：2013-03-26T11:09:05.783
> 
> 标签：vbscript

VbScript - 我有 10 个 excel 文件。想将所有 10 个文件合并到一个 excel 中。下面的代码需要很多时间。有没有更快的方法来做事。我是 Vbscript 的新手，所以我无法优化代码。

```
Sub proc_A
Dim Totfiles(2) 'array of 3 files
Dim FinalFile

Totfiles(0)="C:\POC4.xls"
Totfiles(1)="C:\POC5.xls"
Totfiles(2)="C:\POC6.xls"
'Totfiles(3)="D:\FileD.xls"
FinalFile= "C:\Alerts1.xls"

Call MergeFile(Totfiles,FinalFile)

End Sub    

Function MergeFile(Totfiles,FinalFile)

Dim RowNumber,rowcount
Dim wbookA,wbookD
Dim wsheetA,wsheetD
Dim FinalFileCount  ' To store the row count of final file
'Dim FirstFlag 'To check if the Column name has been copied to final File
'FirstFlag=0  ' IF value is 1 then the Column names will not be copied

set xapp=createobject("excel.application")

For mainloop=0 to Ubound(Totfiles)

  If (mainloop=0) Then  ' This loop is for first file only as it copies Column name
    set wbookA= xapp.workbooks.open(Totfiles(mainloop))
    set wsheetA=wbookA.sheets(1)

    rowcnt=wsheetA.usedrange.rows.count
    colcnt=wsheetA.usedrange.columns.count
    set wbookD= xapp.workbooks.open(FinalFile)
    set wsheetD=wbookD.sheets(1)
    For i=1 to rowcnt
      For j=1 to colcnt

        wsheetD.cells(i,j).value=wsheetA.cells(i,j).value
        wbookD.save

      Next
    Next

  End if

  If (mainloop>0) Then ' This loop is for rest of files. it doesnt copies Column name

aaa= Totfiles(mainloop)
    set wbookB= xapp.workbooks.open(Totfiles(mainloop))
    set wsheetB=wbookB.sheets(1)
    'reading the value from cell

    rowcntB=wsheetB.usedrange.rows.count
    colcntB=wsheetB.usedrange.columns.count
    RowNumber=1
    rowcount=0
    set wbookD= xapp.workbooks.open(FinalFile)
    set wsheetD=wbookD.sheets(1)
    call wsheetD.cells.clear
      Do while(Trim(wsheetD.cells(RowNumber,3).value) <> "")
        log.Message(Trim(wsheetD.cells(RowNumber,3).value))
        RowNumber=RowNumber+1
        rowcount=rowcount+1
      Loop 

    FinalFileCount=rowcount

    for i=1 to rowcntB
      for j=1 to colcntB
        k=FinalFileCount+i
        wsheetD.cells(k,j).value=wsheetB.cells(i+1,j).value
        wbookD.save
      Next
    Next

  End IF

Next  ' End For for main Loop
wbookD.save
wbookD.Close
wbookB.close
set wsheetD =nothing
set wbookD =nothing
set wsheetB =nothing
set wbookB =nothing
set xapp =nothing
MergeFile=True
End Function 
```

# android - 在项目中使用共享库并使用 Ant 构建它

> ID：15635557
> 
> 赞同：0
> 
> 时间：2013-03-26T11:09:13.177
> 
> 标签：android, ant

我有一个项目 A，它使用项目 B 作为其库。我应该怎么做才能使用 ant 创建构建？我试图在我的 android 项目中使用它，而不使用 eclipse 的向导为我做这件事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T14:41:28.847

为项目 A 创建一个依赖于项目 B 的目标。

```
<target name="projectB" description="Builds project B">
    <!-- all the tasks to build project B -->
    ...
</target>

<target name="projectA" depends="projectB" description="Builds project A">
    <!-- all the tasks to build project A -->
    ...
</target> 
```

# saml - 如何区分收到的身份验证和注销 SAML 响应

> ID：15635566
> 
> 赞同：0
> 
> 时间：2013-03-26T11:09:40.657
> 
> 标签：saml, saml-2.0

如何区分 AuthetnicationResponse 和 LogOutResponse SAML 消息？

我在 SAMLP 标记中看不到任何特定标志。

在这两种情况下，我都收到了这样的消息，仅此而已。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T17:57:59.103

在我对 ADFS 的跟踪中，AuthnResponse 开始：

```
<samlp:Response ID="_8e126050-b9d2-4da6-9b25-1e9eb02eb61b"
                Version="2.0"
                IssueInstant="2012-11-08T00:55:26.375Z" 
```

而 LogoutResponse 开始：

```
<samlp:LogoutResponse ID="_37f28ec7-1420-4f15-b7d3-ec8c62a156ab"
                      Version="2.0"
                      IssueInstant="2012-11-08T00:58:28.348Z" 
```

# unix - 如何使 find 返回 hpux 中符号链接的目标？

> ID：15635572
> 
> 赞同：2
> 
> 时间：2013-03-26T11:10:08.723
> 
> 标签：unix, find, sysadmin, hp-ux

我想执行 find 命令，但我希望它返回目标而不是符号链接本身。

在 HP-UX 中可以这样做吗？

例如，使用：

`security -> /dev/vg_irp_ist/rlv_IRP1_security`

我想回来`/dev/vg_irp_ist/rlv_IRP1_security`而不是`security`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T12:12:14.537

```
#!/bin/ksh
 name=$(find /path/to/dir -type l -name whatever -exec ls -l {} \; |awk -F '>' '{print $2}') 
```

HPUX 没有 readlink 命令。如果您安装了 GNU coreutils，请使用 readlink。否则，您将被上述问题困扰。

这是 backwrds 版本 - 给定实际的文件名，通过链接查找它。注意链接中的相对路径：即`../../foo/filename`

```
export filename="xz.exe"
find . -type l -exec ls -l {} \; | 
     awk '{print $(NF)}') | grep -q "$filename" && echo $val 
```

# jung - 如何在图像中可视化来自 JUNG 的图表？

> ID：15635573
> 
> 赞同：1
> 
> 时间：2013-03-26T11:10:11.797
> 
> 标签：jung

我刚刚开始使用 JUNG 来创建和显示图表。我已经看到了各种可视化图表的示例，例如在 JFrames 中。是否有可能代替 JFrame 我能够在图像中可视化我的图表？像 .jpg 或 postScript 等？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T13:52:22.090

你试过[GraphViz](http://www.graphviz.org/)吗？在我的项目中，我使用 GrpahViz 来渲染漂亮的图表，并使用 JUNG 作为当前“正在建设”图表的某种快速且廉价的实时视图。

# svn - 哈德逊颠覆@HEAD

> ID：15635576
> 
> 赞同：1
> 
> 时间：2013-03-26T11:10:18.910
> 
> 标签：svn, hudson

我们使用带有 SVN 插件 2.3.8 的 Hudson 2.2.1。颠覆服务器本身是 1.6.11 。

最近，我们更改了我们的 SVN 存储库以使用 SSL 和 LDAP 凭证，即 URL 已从`http://sunversion.url:8080/repo/trunk`to更改`https://sunversion.url:8443/repo/trunk`，我们现在有一个用于匿名 SVN 结帐的 AD 帐户。

为了强制 Hudson 检出我们添加`@HEAD`到 url 中的 head 修订，例如`http://sunversion.url:8080/repo/trunk@HEAD`.

此外，我们将项目设置为每 2 分钟轮询一次 SVN 更改。

这在更改之前运行良好，即轮询将接收更新通知并开始构建。在构建期间，将下载更新。

更改为 SSL 后，民意调查似乎中断了。构建仍然使用 url 获得头部修订，`@HEAD`但对更改的轮询没有收到任何通知，即日志显示“没有更改”。

从 url 中删除`@HEAD`会使民意调查再次起作用，但现在我们不能确定它实际上是将在构建中使用的主要修订版。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:35:45.203

似乎全局配置发生了变化，现在允许配置默认更新策略：`Subversion Revision Policy`配置。

从文档中：

> **将使用基于构建计划时间创建的**队列时间修订，默认值。** 将使用基于构建运行时间创建的
> 
> **构建时间修订。****头部修订** 将使用 HEAD 修订。**

 ****这仍然不能解释为什么`@HEAD`不再起作用，但似乎解决了我们的问题。我希望这会帮助遇到类似问题的其他人。****

# java - 删除字符串（java）中相邻的重复字符，即输入：aaaabbbccdbbaae 输出：abcdbae

> ID：15635585
> 
> 赞同：5
> 
> 时间：2013-03-26T11:10:46.513
> 
> 标签：java, string

我的代码没有给出预期的输出，但是空运行正常。请看看问题出在哪里

```
public static StringBuffer singleOccurence(String s)
{
 StringBuffer sb = new StringBuffer(s);
 int length=s.length();

 for(int i=0; i< length ; i++)
 {
  for(int j=i; i<length&&j<length ; j++)
  {
    if(sb.charAt(i)!=sb.charAt(j+1)) 
         i=j+1;
    else
    sb.deleteCharAt(j+1);
   } 
 }

 return sb;
} 
```

还给出了 StringIndexOutOfBounds

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T11:20:09.493

你的方法做了很多不必要的工作。

该问题可以通过遍历字符串一次并将每个字符与其前面的字符进行比较来解决：

```
public static StringBuilder singleOccurence(String s)
{
    StringBuilder sb = new StringBuilder();
    if (s.length() > 0) {
        char prev = s.charAt(0);
        sb.append(prev);
        for (int i = 1; i < s.length(); ++i) {
            char cur = s.charAt(i);
            if (cur != prev) {
                sb.append(cur);
                prev = cur;
            }
        }
    }
    return sb;
} 
```

该方法具有线性时间复杂度。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-26T11:16:10.077

我会使用正则表达式：

```
String input = "aaaabbbccdbbaae";
String regex = "(.)(\\1)+"; // matches any character followed by the same one(s)
String output = input.replaceAll(regex, "$1");
System.out.println(output); // abcdbae 
```

你的方法是：

```
public static String singleOccurence(String s) {
    return s.replaceAll("(.)(\\1)+", "$1");
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-26T11:24:45.053

最简单的方法是从头到尾遍历字符串：

```
public static StringBuffer singleOccurence(String s)
{
    StringBuffer sb = new StringBuffer(s);        
    for (int i = sb.length() - 2; i >= 0; i--)
        if (sb.charAt(i) == sb.charAt(i + 1))
             sb.deleteCharAt(i + 1);
    return sb;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-26T11:19:52.077

听起来很像我的负面展望：

```
 String input = "aaaaabbbbccccddd";
    Pattern p = Pattern.compile("(.)(?!\\1)");
    Matcher m = p.matcher(input);

    while(m.find()){
        System.out.println(m.group(1));
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-08-06T09:33:49.230

尝试这个：

```
 String reg;
    String input;
    String output;
    reg    = "(.)(\\1)+";
    input  = "aaaabbbccdbbaae";
    output = input.replaceAll(reg,"$1");
    System.out.println("Input :"+input);
    System.out.println("Output:"+output); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-04-07T01:47:50.073

你可以使用`replaceAll`方法`regex`

```
string result = myString.replaceAll(/([a-z])\1+/ig, "$1"); 
```

它的作用是匹配由部件触发的`regex`任何重复的字母字符`[a-z]``\1+`

正则表达式中的标志（在 last 之后`/`）表明它应该搜索整个字符串（`g`标志）并且应该忽略大小写（`i`标志）。您可能不需要该`g`标志，因为我们在这里使用`replaceAll`.

在这里，我们替换为`$1`which 表示，替换为第一个匹配的组。因为我们在 周围有括号`[a-z]`，所以`$1`将是匹配的字符。

这一切最终意味着，在字符串中找到重复的字符，同时忽略大小写并将它们替换为该字符。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-03-14T12:59:38.313

公共类 RemoveAdjacentLetters {

```
public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    System.out.print("Enter any word: "); // Inputting the word
    String str = scanner.nextLine();
    for (int i = 1; i < str.length(); i++) { // from 2nd letter
        if (str.charAt(i) == str.charAt(i - 1)) { // comparing adjacent
                                                    // letters

            str = str.substring(0, i - 1) + str.substring(i + 1); // eliminating
                                                                    // 1st
                                                                    // duplicates
            System.out.println(str);
            i = 0;                // i=0 because I need to check for all possible adjacent letters.. 

        }
    }
    if (str.length() == 0) {
        System.out.println("Empty String");
    } 
    scanner.close();
} 
```

}

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-04-20T16:49:25.407

这在 Java 中很容易解决。你只需要一个StringBuffer。这是完整的代码：

```
public class Test3 {
public static void main(String[] args) {
    String str = "aaaabbbccdbbaae";
    StringBuffer sbr = new StringBuffer();
    int i = 0 ;
    while(i < str.length()) {
        if(sbr.length() == 0 ) sbr.append(str.charAt(i));
        if(str.charAt(i) == sbr.charAt(sbr.length() -1)) {i++ ;}
        else {sbr.append(str.charAt(i)); i++;}
    }//while
System.out.println(sbr);
}

}//end1 
```

这是 Python 中的完整解决方案：（不同的想法）

```
def lis(a):
    list1 = [] 
    # put the characters in the list
    [list1.append(ch)  for ch in a]
    print(list1)
    # moving backwards from last element i.e.len(a) -1 to first element 0 and step is -1
    for i in range(len(list1) - 1 , 0 , -1):
        # delete the repeated element
        if list1[i] == list1[i - 1]: del list1[i]

    return ''.join(list1)    

a = "Protiijaayii"
# output Protijayi
print(lis(a)) 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-09-06T07:48:52.993

导入 java.util.Arrays；导入 java.util.Scanner；

公共类 ReverseSkip {

```
public static void main(String[] args) {
    String str;
    Scanner in = new Scanner(System.in);
    System.out.println("Enter the Word or Sentence");
    str =in.nextLine();
    String revStr ="null";

    char [] chars = str.toCharArray();
    char [] reversedChars = new char[chars.length];

    reversedChars[reversedChars.length - 1] = chars[0];

    int r = reversedChars.length - 2;
    for(int i = 1 ; i < chars.length ; i++ ){
        if(chars[i] != chars[i-1]){
            reversedChars[r] = chars[i];
            r--;
        }
    }

    revStr = new String(Arrays.copyOfRange(reversedChars, r+1, reversedChars.length));

    System.out.println(revStr);
} 
```

}

# c - 这个宏有什么问题？

> ID：15635588
> 
> 赞同：12
> 
> 时间：2013-03-26T11:10:56.343
> 
> 标签：c, macros

我面临一个宏的问题，我不知道为什么。

这是宏：

```
#define WAIT(condition, max_time)               \
   do {                                         \
      int int_loop_wait=0;                      \
      while(1)                                  \    
      {                                         \           
        if(condition) { break; }                \
        sleep(1);                               \
        if(int_loop_wait>=max_time) { break; }  \
        int_loop_wait++;                        \
      }                                         \
    } while(0)                                  \ 
```

我得到了错误

> “预期声明”行“ if(condition) { break; }”

有人理解这个错误吗？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-26T11:47:58.317

问题是反斜杠后面跟着一个空格被一起识别为一个转义序列，它实际上取消了反斜杠。Visual C++ 10 甚至`error C2017: illegal escape sequence`在那里发出。

代码片段中的某些行（例如带有 的行`while(1)`）在反斜杠之后包含一个或多个空格。一旦反斜杠被视为转义序列并被编译器删除，宏定义就会在该行被截断，并且剩余的代码被编译为好像它不属于宏定义一样。

```
#define WAIT(condition, max_time)               \
   do {                                         \
      int int_loop_wait=0;                      \
      while(1)                                  \    <<<<<WHITESPACES
      {                                         \<<<this line doesn't belong to macro
        if(condition) { break; }                \<<<and neither does this 
        sleep(1);                               \
        if(int_loop_wait>=max_time) { break; }  \
        int_loop_wait++;                        \
      }                                         \
    } while(0)                                  \ 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-26T11:14:59.873

`\`从最后一行删除

我的意思是改变这条线

```
 } while(0)                                                     \ 
```

经过

```
 } while(0) 
```

并删除之后的所有空格`\`

你有一些包含空格的行`\`：

```
while(1)                                  \    
      {                                         \ 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-26T11:24:18.040

罪魁祸首是`\`. 删除它们将解决。

如果行以 结尾`\`，但不以空格`或任何其他字符结尾，则宏定义继续。`

 ````
#define WAIT(condition, max_time)                                  \
   do {                                                            \
      int int_loop_wait=0;                                         \
      while(1){                                                    \
        if(condition) { break; }                                   \
        sleep(1);                                                  \
    if(int_loop_wait>=max_time) { break; }                         \
      }                                                            \
    } while(0) 
````

# ember.js - 如何每 x 秒重新加载数据？

> ID：15635589
> 
> 赞同：2
> 
> 时间：2013-03-26T11:11:03.477
> 
> 标签：ember.js, ember-data

我想每隔几秒提取一组数据（这里无需讨论拉取与推送的优缺点）。据我了解`ember-data`，应该用`reload`. 这是我`app.js`尝试触发就绪功能的拉动。但它不起作用。我怎样才能实现想要的重新加载？

```
App = Ember.Application.create({
  ready: function() {
    setInterval(function() {
      App.Switchboard.find(switchboard_id).reload
    }, 2000);
  }
});

App.Router.map(function() {
  this.resource('switchboard', { path: '/' });
});

App.SwitchboardRoute = Ember.Route.extend({
  model: function() {
    return App.Switchboard.find(switchboard_id);
  }
});

App.Store = DS.Store.extend({
  revision: 11
});

App.Switchboard = DS.Model.extend({
  name: DS.attr('string'),
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T12:26:37.720

重新加载应该可以工作...不确定是否只是发布时的拼写错误，但是您是否需要添加括号才能重新加载？

`App.Switchboard.find(switchboard_id).reload()`

如果它不起作用，请尝试：

```
App = Ember.Application.create({
  ready: function() {
    var switchboard = App.Switchboard.find(switchboard_id);
    setInterval(function() {
      switchboard.reload();
    }, 2000);
   }
}); 
```

# r - R xts 将数字转换为字符串 - 为什么？

> ID：15635590
> 
> 赞同：4
> 
> 时间：2013-03-26T11:11:06.470
> 
> 标签：r, format, xts

当我转换为 xts 对象时，R 将值从数字更改为字符串，这会导致问题：

```
timeseries <- xts(timeseries,as.POSIXct(timeseries$Date))
timeseries <- timeseries[endpoints(timeseries,ts_ret_freq)] 
```

这是有问题的代码。为什么会这样？不应该。

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-26T11:12:59.757

因为`xts`对象本质上是`matrix`对象。因此，xts 的所有列将始终具有相同的数据类型（类）

# c# - 应用/取消按钮事件逻辑

> ID：15635591
> 
> 赞同：0
> 
> 时间：2013-03-26T11:11:15.917
> 
> 标签：c#, winforms, visual-studio-2010, logic

我有一个类 XMLProfile，它具有将数据写入/编辑/删除数据到 xml 文件中的方法。在 Visual C# 的列表视图中读取并显示此数据

```
public void xmlwriter(string path)
        {
            XmlDocument xdoc = new XmlDocument();                
            xdoc.Load("C:\\product.txt);
            XmlNode fold = xdoc.CreateElement("Folder");
            XmlNode name = xdoc.CreateElement("Name");
            XmlNode rec = xdoc.CreateElement("Recurse");
            name.InnerText = path;
            rec.InnerText = "true";
            fold.AppendChild(name);
            fold.AppendChild(rec);
            xdoc.SelectSingleNode("//Folders").AppendChild(fold);
            xdoc.Save("C:\\product.txt");
        } 
```

写方法（向xml添加新数据）如上图，删除如下图

```
public void delete(string snode)
        {
            XmlDocument xdoc = new XmlDocument();
            xdoc.Load("C:\\product.txt");
            foreach (XmlNode node in xdoc.SelectNodes("BackupProfile/Folders/Folder"))
            {
                string temp = node.SelectSingleNode("Name").InnerText;
                if (temp == snode)
                {
                    node.ParentNode.RemoveChild(node);
                }
            }
            xdoc.Save("C:\\product.txt");
        } 
```

类似的 Edit 和 Reset 方法。

Fromm 我的主程序表单我使用按钮单击调用这些方法

```
private void button8_Click(object sender, EventArgs e)
        {
            this.folderBrowserDialog1.ShowNewFolderButton = false;
            this.folderBrowserDialog1.RootFolder = System.Environment.SpecialFolder.MyComputer;
            DialogResult result = this.folderBrowserDialog1.ShowDialog();
            if (result == DialogResult.OK)
            {
                // user selected folder will be added to the XML Profile for backup
                string path = this.folderBrowserDialog1.SelectedPath;
                XMLProfile xml = new XMLProfile();
                xml.xmlwriter(path);
                listView1.Items.Add(path);
            }
        } 
```

上述方法用于添加新数据，从 XMLProfile 类调用 xmlwriter 方法。

一切正常，但现在我意识到在更改完成并保存之前只有一个应用按钮是正确的。

我该如何实施？我使用了这个链接[StackOverflow](https://stackoverflow.com/questions/876473/is-there-a-way-to-check-if-a-file-is-in-use)但它对我不起作用实际上不知道如何在我的项目中实现它。除了应用按钮，我还有一个取消按钮。取消：很明显不应该保存更改，而只是重新加载 xml 文件回到以前保存的版本。

任何帮助表示赞赏，如果需要任何进一步的信息，请询问。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:14:06.387

您可以将应用按钮设置为禁用，并仅在保存成功后启用它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T14:33:11.650

您能否`ApplyButtonClick`在此处粘贴您的事件处理程序以获得更准确的答案？但我想你需要这样的东西

```
public void OnApplyButtonClick(object sender, EvenArgs e)
{
this.ApplyBtn.Enabled = false;
//Your logic Here
}

public void xmlwriter(string path)
        {
btnApply.Enabled = false;
            XmlDocument xdoc = new XmlDocument();                
            xdoc.Load("C:\\product.txt);
            XmlNode fold = xdoc.CreateElement("Folder");
            XmlNode name = xdoc.CreateElement("Name");
            XmlNode rec = xdoc.CreateElement("Recurse");
            name.InnerText = path;
            rec.InnerText = "true";
            fold.AppendChild(name);
            fold.AppendChild(rec);
            xdoc.SelectSingleNode("//Folders").AppendChild(fold);
            xdoc.Save("C:\\product.txt");
btnApply.Enabled = true;
        }

public void DeleteNode(string snode)
        {
this.ApplyBtn.Enabled = false;
            XmlDocument xdoc = new XmlDocument();
            xdoc.Load("C:\\product.txt");
            foreach (XmlNode node in xdoc.SelectNodes("BackupProfile/Folders/Folder"))
            {
                string temp = node.SelectSingleNode("Name").InnerText;
                if (temp == snode)
                {
                    node.ParentNode.RemoveChild(node);
                }
            }
            xdoc.Save("C:\\product.txt");
this.ApplyBtn.Enabled = true;
    } 
```

# kendo-ui - 剑道图表值轴将在点击事件时更改

> ID：15635592
> 
> 赞同：3
> 
> 时间：2013-03-26T11:11:17.183
> 
> 标签：kendo-ui, kendo-treeview, kendo-dataviz

我有带有多值轴和剑道树视图的剑道图表。我想根据复选框选择显示值轴。例如，我们将选中“KM”复选框，然后图表将显示 KM 值轴。

可能吗？

这是我的图表代码：

```
function createChart() {
    $("#chart").kendoChart({

        legend: {
            position: "top"
        },
        series: [{
            type: "column",
            data: [20, 40, 45, 30, 50],
            stack: true,
            name: "on battery",
            color: "#003c72"
        }, {
            type: "column",
            data: [20, 30, 35, 35, 40],
            stack: true,
            name: "on gas",
            color: "#0399d4"
        }, {
            type: "area",
            data: [30, 38, 40, 32, 42],
            name: "mpg",
            color: "#642381",
            axis: "mpg"
        }, {
            type: "area",
            data: [7.8, 6.2, 5.9, 7.4, 5.6],
            name: "l/100 km",
            color: "#e5388a",
            axis: "l100km"
        }],
        valueAxes: [{
            title: { text: "miles" },
            min: 0,
            max: 100
        }, {
            name: "km",
            title: { text: "km" },
            min: 0,
            max: 161,
            majorUnit: 32
        }, {
            name: "mpg",
            title: { text: "miles per gallon" },
            color: "#642381"
        }, {
            name: "l100km",
            title: { text: "liters per 100km" },
            color: "#e5388a"
        }],
        categoryAxis: {
            categories: ["Mon", "Tue", "Wed", "Thu", "Fri"],

            axisCrossingValues: [0, 0, 10, 10]
        }
    });
}

$(document).ready(function() {
    setTimeout(function() {
        createChart();

        $("#example").bind("kendo:skinChange", function(e) {
            createChart();
        });
    }, 400);
}); 
```

我的 jsbin：http: [//jsbin.com/eyibar/4/edit](http://jsbin.com/eyibar/4/edit)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T17:17:04.717

如果您只想隐藏图表侧面的值轴标签，则需要添加一个函数来处理复选框更改时的处理。然后在复选框更改处理程序中，在图表的 valueAxis 数组中找到匹配的对象，并在其上设置以下 2 个属性：

```
valueAxes: [{
    ...
    visible: false,
    title: { visible: false },
    ...
}] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T05:37:42.643

首先，您需要将图表分配给树视图的 on-change 事件事件中的变量，否则树视图无法识别图表及其值轴，并且通过 valueAxes 的名称，您需要检查树视图节点和然后推动 valueAxes。

```
$("#treview").on("change", function (e) {
                var chart = $("#chart").data("kendoChart");
                var checkedSeries = [];
                if ($("#treeview").find(":checked").length !== 0) {
                    $("#treeview").find(":checked").each(function () {
                        var nodeText = $(this).parent().parent().text();
                        $.each(valueAxes, function (index, valueAxes) {
                            if (valueAxes.name == nodeText) {
                                checkedSeries.push(valueAxes);
                                checkedSeries.visible = true;
                            }
                        });
                    });
                    createChart(checkedSeries);
                }
                else {
                    createChart(checkedSeries);
                }
            }); 
```

# typo3 - 在 Typo3 流体模板中创建 ViewHelpers

> ID：15635593
> 
> 赞同：0
> 
> 时间：2013-03-26T11:11:18.093
> 
> 标签：typo3, fluid, typo3-flow

我想使用 Fluid 从头开始​​构建 Typo3 模板。我是这个 CMS 的新手，但对使用类似 MVC 方法的 Zend Framework 有一定的了解。我不知道将 ViewHelpers 放在我的模板中的什么位置。

我有以下目录结构：

```
typo3/fileadmin/
    projectname/
        templates/
            assets/
                images
                js
                styles/
                    css/
                    less/
            layouts/
                single.html
                2col.html
                3col.html
            partials/
                breadcrumb.html
            default.html
        tsconfig/
        typoscript/
            constants.ts
            setup.ts 
```

我在网上找到的所有教程都是在 Typo3 扩展中使用 Fluid 的。我想为我的类注册一个新的命名空间，为自动加载器定义一个目录，并在我的模板中使用 viewhelpers，而不是在扩展中（例如`<my:formatMyWay>`）

模板中有类似的东西吗？还是我必须为此创建自己的 Typo3 扩展？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T22:29:55.573

你是对的，你必须创建自己的 TYPO3 扩展才能拥有自己的查看器。您可以使用[extension_builder](http://typo3.org/extensions/repository/view/extension_builder)启动一个空扩展。然后在下面添加您的 viewhelper`typo3conf/ext/my_ext/Classes/ViewHelpers/`并将此命名空间添加到模板的顶部：`{namespace my=Tx_MyExt_ViewHelpers}`. [这个简单的指南](http://www.t3node.com/blog/writing-a-basic-fluid-viewhelper-for-typo3/)还可以帮助您创建 viewhelper 本身。一个优点是您可以很好地打包 viewhelper 并在多个项目中使用它们。

# java - 如何访问 Java 中的硬件按钮

> ID：15635596
> 
> 赞同：6
> 
> 时间：2013-03-26T11:11:27.670
> 
> 标签：java, events, button, hardware

我有一台运行 windows7 的工业触摸屏平板设备（这个[）](http://www.motioncomputing.com/products/tablet_pc_f5.asp)。它具有集成的 RFID/条形码扫描仪和摄像头。两者都可以通过硬件按钮启动。我想知道，每当按下这些按钮之一。我用 GlobalKeyEventListener 编写了一个小型测试应用程序，但是当按下其中一个按钮时，没有触发任何事件。所有正常的键盘事件都会被触发。有谁知道，是否以及如何在 Java 中访问这些类型的按钮事件？在告诉客户这是不可能的之前，我还应该尝试什么。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:22:42.407

将有一些用于侦听这些按钮的编程接口，并且不太可能与内置的 Java 虚拟机建立连接。我会考虑编写一个程序/服务/任何侦听这些按钮的东西，我可以编译成 Windows DLL，然后我会从 Java 程序中调用 DLL。Windows DLL 可以监听事物，Java 类可以将自己注册为来自 DLL 的事件的监听器。这不太可能是微不足道的，对我来说最难的部分是 DLL 程序本身（那里没有 java、C 或 C# 或 Microsoft 喜欢的东西），其次是 Java Native Interface 或 API 或任何调用 DLL 的东西。

如果你走得那么远，我会推荐一个我不记得名字的产品；它允许您在根本不使用任何 JNI '胶水' 代码的情况下调用 DLL，也就是说，过去您必须使用一组非常特定的规则编写 C 代码才能从 Java 调用，而这个其他产品很好地完全消除了这种情况。

祝你好运。

# php - 更新双向多对多关系symfony2-doctrine的正确方法

> ID：15635599
> 
> 赞同：4
> 
> 时间：2013-03-26T11:11:43.560
> 
> 标签：php, symfony, doctrine-orm, many-to-many, bidirectional

我做了一些研究，在阅读[了这个](https://stackoverflow.com/questions/13426653/updating-from-the-inverse-side-bidirectional-many-to-many-relationships-in-doc)和[这个](https://stackoverflow.com/questions/7044864/symfony2-doctrine-manytomany-relation-is-not-saved-to-database)（以及所有相关问题）之后，我仍然无法确定在 Symonfy 2 Doctrine 中更新多对多关系的正确方法。感觉应该有一个很简单的方法，我还没有找到。

我有这两个实体：

```
class student_main
{
/**
* @ORM\ManyToMany(targetEntity="support_log", inversedBy="student_main")
* @ORM\JoinTable(name="support_log_student")
**/
private $support_log; 
```

和

```
class support_log
{
/**
* @ORM\ManyToMany(targetEntity="student_main", mappedBy="support_log")
**/
private $student; 
```

我想从`support_log`. 在控制器中，在更新操作中，我有类似的东西：

```
if ($editForm->isValid()) {        
  //add the relationship the user added
  foreach($students as $student){
    if(!$em->getRepository('mybundle:student_main')->hasSupportLog($entity,$student)){
        $entity->addstudent_main($student);//*
        }
    }
    $em->persist($entity);
    $em->flush();
    return $this->redirect($this->generateUrl('support_log_edit', array('id' => $id)));
} 
```

当然，正如教义文档所说，我相应地更改了该函数（addstudent_main）：

```
public function addstudent_main(student_main $student)
{
    $student->addsupport_log($this); // the important addition
    $this->student[] = $student;
} 
```

这很好用，我的问题更多是关于删除关系。在表单中有一个多选，用户可能会选择一些已经相关的学生和一些不相关的学生。感觉应该有一种自动的方式来做到这一点，但我不得不做很多代码。

在控制器中，略高于我之前编写的代码，我输入：

```
//delete all old relationship
foreach($idsldstudents as $idst){ //I take Id's because the doctrine collection is updating always..
            $stu=$em->getRepository('MyBundle:student_main')->find($idst);
            $stu->deletesupport_log($entity);//I had to create that method (in the entity, I do "$this->support_log->removeElement($support_log)")
            $em->persist($stu);
            $em->flush();
        } 
```

我删除了相关实体的所有关系（当然，要注意这是双向关系，所以必须先在另一边删除它），然后添加用户选择的关系。

还有其他方法可以做到这一点，但我还没有找到任何简单的方法。在所有这些中，我都有同样的问题：

*   我需要一直检查关系是否存在
*   我需要获取旧关系（这很困难）并与用户指示的新关系进行比较，并相应地删除或创建

有没有办法自动解决这两个问题？（我有一种强烈的感觉，一定有——也许有更好的关系声明？——这就是我问的原因）。

提前致谢

编辑：我的表单没有什么特别的，我想我什至没有触摸生成的代码。它显示了我想要的多选，Symfony2 的默认设置，你必须使用`ctrl`key 来选择多个。这是代码：

```
public function buildForm(FormBuilder $builder, array $options)
{
    $builder           
        ->add('student')
        ... 
        ;
} 
```

关键靠这里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T00:34:08.950

到目前为止，（为了避免永远没有答案的问题），看起来没有“我还没有找到的简单方法”来做到这一点。根据评论，这将是我问题的答案。

但是由于最后评论的改进，可以改进代码并使其更加优雅。如果在实体级别我们有：gist.github.com/3121916（来自评论）

然后，控制器中的代码可以减少一点：

```
$editForm->bindRequest($request);
  if ($editForm->isValid()) { 
  //delete all old relationships, we can go from student:    
  foreach($em->getRepository('mybundle:student_main')->findAll() as $oldstudent)
  {
     $oldstudent->removeSupportLog($entity);
     //if they are related, the relationship will be deleted. 
     //(check the code from the url)  
  }  
  //add the relationship the user added in the widget
  $students=$entity->getStudent();
  foreach($students as $student) 
  {
     $entity->addstudent_main($student);
  }
  $em->persist($entity);
  $em->flush();
  return $this->redirect($this->generateUrl('support_log_edit', array('id' => $id)));
} 
```

它仍然不是我所期望的“神奇”的 symfony 解决方案，但到目前为止我能做到的最好（也许将这段代码组合到存储库中的一个函数中，以使其更优雅）。

如果你有更好的想法，我会全力以赴。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-24T19:57:31.043

我向所有正在寻找解决方案的人介绍我的解决方案。

我使用 Symfony 2.5。

我的“发布”实体具有多对多双向功能。

控制器：

```
public function editPostAction(Post $post, Request $request)
{
    $form = $this->createForm(new NewPost(), $post, [
            'action' => $this->generateUrl('admin_edit_post', ['id' => $post->getId()])
        ]);

    $form->handleRequest($request);

    if( $form->isSubmitted() )
    {
        $this->get('post.repository')->update();
    }

    return $this->render('BlogJakonAdminPanelBundle:Post:post-edit.html.twig', array(
            'form' => $form->createView(),
            'errors' => $form->getErrors(true)
        ));
} 
```

我通过以下路由绑定我的实体：

```
admin_edit_post:
    path:     /post/edit/{id}
    defaults: { _controller: BlogJakonAdminPanelBundle:Post:editPost } 
```

我的存储库：

```
public function update()
{
    try {
        $this->getEntityManager()->flush();
    } catch (\Exception $e) {
        $this->getEntityManager()->getConnection()->rollback();
        return false;
    }

    return true;
} 
```

表格类：

```
class NewPost extends AbstractType
{

    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder
            [...]
            ->add('categories', 'entity', array(
                    'class' => 'BlogJakon\PostBundle\Entity\Category',
                    'property'     => 'name',
                    'multiple'     => true,
                    'expanded'     => true)
            )
            ->add(
                'save',
                'submit',
                [
                    'label' => 'Add post'
                ]
            )
            ->getForm();

    }

    public function setDefaultOption(OptionsResolverInterface $resolver)
    {
        $resolver->setDefaults(
            [
                'data_class'      => 'BlogJakon\PostBundle\Entity\Post',
                'csrf_protection' => true
            ]
        );
    }

    public function getName()
    {
        return 'newPost';
    }
} 
```

值得一提的是，Symfony 可以通过在路由中只添加 id 来找到给定的实体（Post）：

> /post/edit/{id}

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-03-20T21:04:59.317

根据条令文档，它只会检查关联的拥有方是否有更改。

[http://doctrine-orm.readthedocs.org/en/latest/reference/unitofwork-associations.html](http://doctrine-orm.readthedocs.org/en/latest/reference/unitofwork-associations.html)

因此，最好的方法是不断更新拥有方实体关联。

在这种情况下，您必须在添加和删除方法中删除和添加学生主目录中的 support_log

```
class support_log
{
/**
* @ORM\ManyToMany(targetEntity="student_main", mappedBy="support_log")
**/
private $student;

public function addStudent($student) {
  $this->student[] = $student;
  $student->addSupportLog($this);
}

public function removeStudent($student) {
  $student->removeSupportLog($this);
  $this->student->removeElement($student);
} 
```

这一切都不需要修改控制器动作。 **重要的是在关联的反面实现这一点！**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-02-16T23:28:07.123

注释上带有 indexBy 属性的 ManyToMany Bidirectional 为我解决了这个问题

学生班级注释应该是

```
class student_main
{
    /**
     * @ORM\ManyToMany(targetEntity="support_log", mappedBy="student_main")
     **/
    private $support_log; 
```

支持类注释应该是

```
 class support_log
    {
        /**
         * @ORM\ManyToMany(targetEntity="student_main", inversedBy="support_log", indexBy="id")
         * @ORM\JoinTable(name="support_log_student",
         *  joinColumns={@ORM\JoinColumn(name="support_log_id",referencedColumnName="id")},
         *  inverseJoinColumns={@ORM\JoinColumn(name="student_id", referecedColumnName="id")}
         * )
         **/            
        private $student; 
```

现在 symfony 2 Form 应该是

```
 public function buildForm(FormBuilder $builder, array $options)
    {
        $builder
        ->add('student', 'entity', array(
                'class' => '<<ENTER YOUR NAMESPACE PATH TO ENTITY>>\Entity\Student',
                'property' => 'Name', //property you want to display on the select box
                'label' => 'Belongs to Students',
                'multiple' => true,
                'constraints' => array(
                    new NotBlank(array('message' => 'Please choose atleast one student'))
                )
            ))
        ....
        ;
    } 
```

通常在 Action 内提交表单

```
 if ($editForm->isValid()) {
            $entity = $editForm->getData(); 
            $em->persist($entity); //this should take care of everything saving the manyToMany records 
            $em->flush();
            return $this->redirect($this->generateUrl('support_log_edit', array('id' => $id)));
        } 
```

请注意：我没有测试过这段代码。我重写了这段代码以适应问题中提到的场景。

# internet-explorer-10 - 在父元素中滚动后，相对位置消失的 IE 10 元素

> ID：15635601
> 
> 赞同：3
> 
> 时间：2013-03-26T11:11:58.533
> 
> 标签：internet-explorer-10, css-position

在特定情况下，位于大表格中的表格单元格内的*position: relative*元素在 Windows 7 上的 Internet Explorer 10 中消失：

1.  向下滚动页面
2.  向右滚动*div#scroller*
3.  滚动到顶部
4.  所有浏览器都按预期工作，IE10 显示空白表格单元格

此时，调整 IE10 窗口大小将触发单元格内容的正确显示。

大表，所有单元格相同：

```
<td><div>Foo bar</div></td> 
```

CSS：

```
td div {
  position:relative;
 } 
```

这是一个非常简化的演示：http: [//jsfiddle.net/86BaU/](http://jsfiddle.net/86BaU/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-14T10:01:58.883

这是 IE10 中已知和报告的错误。但是，MS 似乎不愿意对此做任何事情：

[https://connect.microsoft.com/IE/feedback/details/817099/ie-10-elements-with-relative-position-disappearing-when-scrolling-in-parent-element-on-windows-7](https://connect.microsoft.com/IE/feedback/details/817099/ie-10-elements-with-relative-position-disappearing-when-scrolling-in-parent-element-on-windows-7)

hack 似乎迫使 IE 使用硬件加速（或以其他方式通过切换强制重绘`display:none`）。这对我有用：

```
-ms-transform: scale(1);
transform: scale(1); 
```

希望这对你有用！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-27T21:55:14.140

实际上是 position:relative 导致它消失吗？当你改变时会发生什么

```
position:relative 
```

回到

```
position: static 
```

作为一个侧面的想法，当您说重新调整 IE 10 窗口的大小将触发单元格内容的正确显示时，这可能是一个内存不足的问题。您可以尝试重新启动计算机或在其他计算机上的 IE 10 中查看它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-07T13:17:58.460

我们的项目中有类似的问题，前端团队通过以下方式解决了这个问题：

```
opacity: 0.99; 
```

很简单，看看这个！

[http://jsfiddle.net/86BaU/106/](http://jsfiddle.net/86BaU/106/)

# android - 需要帮助将数据发送到文本视图

> ID：15635602
> 
> 赞同：0
> 
> 时间：2013-03-26T11:12:00.627
> 
> 标签：android, sqlite

此代码将在正确的 TextView 中显示一个空白字符串，但是当我尝试显示我的数据库的内容时，我收到一个错误，任何人都可以看到我注释掉的代码有问题吗？

```
public String getData() {
    String data = "";
    String[] columns = new String[] {KEY_ROWID, KEY_EXERCISE, KEY_WEIGHT, KEY_SETS};

    /*Cursor c = ourDatabase.query(DATABASE_TABLE, columns, null, null, null, null, null);
            int iRow = c.getColumnIndex(KEY_ROWID);
            int iExercise = c.getColumnIndex(KEY_EXERCISE);
            int iWeight = c.getColumnIndex(KEY_WEIGHT);
            int iSets = c.getColumnIndex(KEY_SETS);
            for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()){
                data = data + c.getString(iRow) + " " + c.getString(iExercise) + " " + c.getString(iWeight)
     + " "  + c.getString(iSets) + "\n";
        }*/
    return data;
} 
```

下面是处理 TextView 的类

```
public class TheView extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.theview);
        TheHandler i = new TheHandler(this);
        i.open();
        String data = i.getData();
        TextView tv =  (TextView) findViewById(R.id.tvResults);
        tv.setText(data);

    }
} 
```

如果需要，我可以提供更多代码完整的处理程序类

```
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;

public class TheHandler {
    public static final String KEY_ROWID = "_id";
    public static final String KEY_EXERCISE = "theexercise";
    public static final String KEY_WEIGHT = "theweight";
    public static final String KEY_SETS = "thesets";
    private static final String DATABASE_NAME = "TheHandledb";
    private static final String DATABASE_TABLE = "TheHandleTable";
    private static final int DATABASE_VERSION = 2;
    private DbHelper ourHelper;
    private  final Context ourContext;
    private SQLiteDatabase ourDatabase;

    private static class DbHelper extends SQLiteOpenHelper{

        public DbHelper(Context context) {
            super(context, DATABASE_NAME, null, DATABASE_VERSION);

        }

        @Override
        public void onCreate(SQLiteDatabase db) {
            String CREATE_CONTACTS_TABLE = "CREATE TABLE " + DATABASE_TABLE + "("
                    + KEY_ROWID + " INTEGER PRIMARY KEY," + KEY_EXERCISE + " TEXT,"
                    + KEY_WEIGHT + " TEXT" + KEY_SETS + " TEXT" + ")";
            db.execSQL(CREATE_CONTACTS_TABLE);

        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            // TODO Auto-generated method stub
             db.execSQL("DROP TABLE IF EXISTS " + DATABASE_TABLE);

                // Create tables again
                onCreate(db);
        }

    }

    public TheHandler(Context c) {
        ourContext = c;
    }
    public void open() {
        ourHelper = new DbHelper(ourContext);
        ourDatabase = ourHelper.getWritableDatabase();
        // TODO Auto-generated method stub

    }

    public long createEntry(String theExercise, String theWeight, String theSets) {
        ContentValues cv = new ContentValues();
        cv.put(KEY_EXERCISE, theExercise);
        cv.put(KEY_WEIGHT, theWeight);
        cv.put(KEY_SETS, theSets);
        return ourDatabase.insert(DATABASE_TABLE, null,cv);
    }

    public void close() {
        ourHelper.close();

    }
    public String getData() {
        String data = "";
        String[] columns = new String[] {KEY_ROWID, KEY_EXERCISE, KEY_WEIGHT, KEY_SETS};

        /*Cursor c = ourDatabase.query(DATABASE_TABLE, columns, null, null, null, null, null);
        int iRow = c.getColumnIndex(KEY_ROWID);
        int iExercise = c.getColumnIndex(KEY_EXERCISE);
        int iWeight = c.getColumnIndex(KEY_WEIGHT);
        int iSets = c.getColumnIndex(KEY_SETS);
        for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()){
            data = data + c.getString(iRow) + " " + c.getString(iExercise) + " " + c.getString(iWeight)
 + " "  + c.getString(iSets) + "\n";
    }*/
        return data;
    }

} 
```

我的日志猫

```
03-26 12:19:43.988: I/Database(471): sqlite returned: error code = 1, msg = no such column: thesets
03-26 12:19:43.998: D/AndroidRuntime(471): Shutting down VM
03-26 12:19:43.998: W/dalvikvm(471): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
03-26 12:19:44.078: E/AndroidRuntime(471): FATAL EXCEPTION: main
03-26 12:19:44.078: E/AndroidRuntime(471): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.anothersql/com.example.anothersql.TheView}: android.database.sqlite.SQLiteException: no such column: thesets: , while compiling: SELECT _id, theexercise, theweight, thesets FROM TheHandleTable
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.os.Looper.loop(Looper.java:123)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.app.ActivityThread.main(ActivityThread.java:4627)
03-26 12:19:44.078: E/AndroidRuntime(471):  at java.lang.reflect.Method.invokeNative(Native Method)
03-26 12:19:44.078: E/AndroidRuntime(471):  at java.lang.reflect.Method.invoke(Method.java:521)
03-26 12:19:44.078: E/AndroidRuntime(471):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
03-26 12:19:44.078: E/AndroidRuntime(471):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
03-26 12:19:44.078: E/AndroidRuntime(471):  at dalvik.system.NativeStart.main(Native Method)
03-26 12:19:44.078: E/AndroidRuntime(471): Caused by: android.database.sqlite.SQLiteException: no such column: thesets: , while compiling: SELECT _id, theexercise, theweight, thesets FROM TheHandleTable
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteCompiledSql.compile(SQLiteCompiledSql.java:91)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteCompiledSql.<init>(SQLiteCompiledSql.java:64)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:80)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteQuery.<init>(SQLiteQuery.java:46)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:42)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1345)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1229)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1184)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1264)
03-26 12:19:44.078: E/AndroidRuntime(471):  at com.example.anothersql.TheHandler.getData(TheHandler.java:77)
03-26 12:19:44.078: E/AndroidRuntime(471):  at com.example.anothersql.TheView.onCreate(TheView.java:16)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
03-26 12:19:44.078: E/AndroidRuntime(471):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
03-26 12:19:44.078: E/AndroidRuntime(471):  ... 11 more
03-26 12:19:47.530: I/Process(471): Sending signal. PID: 471 SIG: 9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:30:58.713

在您的方法 getData() 中，我看到您设置了 String data = ""; 并返回相同的空字符串。你确定返回数据没有返回空字符串吗？

# javascript - 使用 jQuery 添加 fb:like-box 标记不起作用

> ID：15635604
> 
> 赞同：0
> 
> 时间：2013-03-26T11:12:08.563
> 
> 标签：javascript, jquery, facebook

我试图`fb:like-box`通过 jQuery 向我的主页添加一个带有一些属性的标签，但它会导致一个没有任何属性的标签。

这是我在加载 facebook Javascript SDK 后添加的代码：

```
$('<fb:like-box>', {
    'href' : 'http://www.facebook.com/platform',
    'width' : '292',
    'height' : '230',
    'show_faces' : 'true',
    'stream' : 'false',
    'border_color' : '#FFF',
    'header' : 'false'
}).appendTo('#aDiv'); 
```

结果是：

`<div id="aDiv"><fb:like-box></fb:like-box></div>`

似乎 jQuery 不喜欢 facebook 标签，所以有人知道一些解决方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:17:26.817

好吧，我假设您已经在页面上初始化了[JavaScript SDK](https://developers.facebook.com/docs/reference/javascript/)，因为它是解析任何 XFBML 标记所必需的。

`FB.init()`初始化页面上任何现有 XFBML 标记的初始调用：

```
FB.init({
  appId      : 'YOUR_APP_ID', // App ID from the App Dashboard
  status     : true, // check the login status upon init?
  cookie     : true, // set sessions cookies to allow your server to access the session?
  xfbml      : true  // parse XFBML tags on this page?
}); 
```

对于初始化后添加的任何其他元素（如您的情况），您需要执行[`FB.XFBML.parse()`function](https://developers.facebook.com/docs/reference/javascript/FB.XFBML.parse/)。这将渲染或重新渲染 XFBML 标签并显示您的喜欢框。

至于属性，你有两个选择

*   你可以在一个字符串中附加新的like框，
*   或者您可以使用`prop()`/ `attr()`jQuery 函数来设置这些非标准属性。

```
var likeBox = $('<fb:like-box />');
likeBox.prop('show_faces','true');
likeBox.attr('href','http://www.facebook.com/platform');
$("#foo").append(likeBox); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:15:53.063

尝试这个：

```
var html = $('#aDiv').html();
$('#aDiv').html(html + '<fb:like-box href='http...' width="292" ect...>');

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:18:01.483

你为什么不把整个东西都附加起来

```
$("#aDiv").append('< fb:like-box 
    href="http://www.facebook.com/platform"
    width="292"
    height="230"
    show_faces="true"
    stream="false"
    border_color="#FFF"
    header="false"
    />'); 
```

# c# - 带有 unicode url 的 httpWebRequest Referer 异常

> ID：15635609
> 
> 赞同：0
> 
> 时间：2013-03-26T11:12:33.000
> 
> 标签：c#, httpwebrequest, http-referer

我有一些代码使用 httpWebRequest 发布数据，但是当我在 Referer 中使用 unicode 文本时，它总是显示异常：“指定的值具有无效的控制字符。”

```
 CookieContainer cookieContainer = new CookieContainer();
            HttpWebRequest httpWebRequest = (HttpWebRequest)WebRequest.Create(url);
            httpWebRequest.Headers["Accept-Encoding"] = "gzip, deflate";
            httpWebRequest.AutomaticDecompression = (DecompressionMethods.GZip | DecompressionMethods.Deflate);
            httpWebRequest.Timeout = this.Timeout;
            httpWebRequest.CookieContainer = cookieContainer;
            httpWebRequest.Method = method;
            httpWebRequest.KeepAlive = this.KeepAlive;
            httpWebRequest.ContentType = this.ContentType;
            httpWebRequest.Accept = this.Accept;
            httpWebRequest.UserAgent = this.UserAgent;
            httpWebRequest.Referer = this.Referer;
            httpWebRequest.ProtocolVersion = HttpVersion.Version11;
            httpWebRequest.AllowAutoRedirect = true;
            httpWebRequest.ServicePoint.Expect100Continue = false;
            httpWebRequest.AllowWriteStreamBuffering = false;
            httpWebRequest.Credentials =  CredentialCache.DefaultCredentials;
            httpWebRequest.Proxy = WebRequest.DefaultWebProxy; 
```

url 为：`somewhere.com/index?1yyezksvrgzkelork□=rgu{z5iihy5zvreiihy&1iutlomLork=gjsot5otjk~` Referer：`somewhere.com/index?1yyezksvrgzkelork□=rgu{z5iihy5zvreiihy&1iutlomLork=gjsot5otjk~` 如果只使用 url 则运行正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:26:03.827

尝试使用 HttpUtility.UrlEncode(...) 对您的推荐人进行编码

# ruby-on-rails - 如何将对象 id 传递给另一个控制器 rails 3

> ID：15635611
> 
> 赞同：1
> 
> 时间：2013-03-26T11:12:36.850
> 
> 标签：ruby-on-rails, ruby, activerecord, devise, ransack

我有问题我将对象ID传递给一个控制器到另一个控制器之间我使用devise gem执行sign_in操作，当sign_in完成后下一页显示错误“活动记录::RecordNotFound BookingController#index”和“找不到没有空间an id" ## 我在步骤 1 中执行操作：当我浏览到 "guest_search" 页面时，我使用 "Ransack gem" 执行搜索操作，当搜索完成时，我使用 params[:id] 获取特定 id 并发送到另一个控制器文件房间控制器.rb

2：发送另一个控制器时执行“before_filter :authenticate_user！” 在新控制器上，如果用户 sing_in 并呈现新控制器操作会给出错误“活动记录::RecordNotFound BookingController#index”和“找不到没有 id 的房间”

房间控制器.rb

```
class RoomsController < ApplicationController   
  def guest_search 
  @search = Room.search(params[:q])
  @roome = @search.result(:distinct => true)
  @room= @roome.where("status IS ?", true).order("room_type_id desc")
 end  
end 
```

guest_search.html.erb

```
<%= search_form_for @search, url: guest_search_rooms_path, html: {:method =>:post} do |f| %>

  <%= f.label :start_date_eq , "Start Date"%>   
  <%= f.text_field :start_date_eq, class: 'release_date' %>   

  <%=f.label :end_date_lteq, "End Date" %>   
  <%= f.text_field :end_date_lteq, class: 'release_date' %>   

  <%= f.label :Location %>
  <%= f.collection_select :location_id_eq, Location.all, :id, :locationname, :include_blank => true %>

  <%= f.label :RoomType %>
  <%= f.collection_select :room_type_id_eq, RoomType.all,:id,:room_type, :include_blank => true %>

  <%= f.submit "search" %>
  <% end %>

<table class="table table-bordered" border=1 align="center">
  <tr>
      <th style="width: 5%">No.</th>
          <th style="width: 20%">room_no</th>     
      <th style="width: 20%">status</th>      
      <th style="width: 10%">room_type</th> 
      <th style="width: 20%">StartDate</th>   
      <th style="width: 10%">EndDate</th>  
          <th></th>
  </tr>

<% $i=0 %>
<% @room.each do |room| %>

   <tr class="<%= cycle('odd','even') %>"> 
         <td><%= room.room_no %></td>
         <td><%= room.status %></td>         
         <td><%= room.room_type.room_type %></td>
         <td><%= room.start_date %></td>
         <td><%= room.end_date %></td>      
                 <td><%= link_to("Book Now", bookings_path(@room) ,:class=> "btn btn-info") %></td>             
  </tr> 
<% end %>
</table> 
```

BookingController.rb

```
class BookingsController < ApplicationController

def index
@room = Room.find(params[:id])
end
end 
```

index.html.erb

```
<h2>Welcome to booking</h2>
<%= @room.id %> 
```

# html - HTML5 和 Css3 - 页脚重叠 - - 响应式网页设计

> ID：15635613
> 
> 赞同：0
> 
> 时间：2013-03-26T11:12:43.807
> 
> 标签：html, css, twitter-bootstrap, responsive-design

我目前正在使用响应式网页设计技术设计一个网站，以便从手持设备访问时它也可以看起来不错。我使用 Bootstrap 来定位元素，并使用一些自定义 css 来设置导航栏、页脚等的样式。大多数元素包括导航栏都可以正常工作，除了我的页脚在缩小 web 时会与其他元素重叠-垂直页面。看看下面的代码。任何帮助将不胜感激。谢谢。

```
html
{      
    margin: 1%;
    padding: 0;
}
html, body
{
    height: 95%;
}

#body
{
    height: 82%;
}
header, footer, nav, section
{
    display: block;
}

footer
{
    width: 100%;
    list-style: inline-block;
    position: static;
    white-space: nowrap;
    border-radius: 4px;
    padding-top: 2px;
    padding-left: 5px;
    vertical-align: baseline;
}

footer p
{
    padding: 0.2em;
    color: White;
}
#image
{
    padding: 0.2em;
}

.nav
{
    position: relative;
    margin: 20px 0;
    width: 100%;
    border-radius: 4px;
}
.nav ul
{
    margin: 0;
    padding: 0;
}
.nav li
{
    margin: 10px 5px 10px 0;
    padding: 0;
    display: inline-block;
    list-style: none;
}
.nav a
{
    padding: 3px 12px;
    text-decoration: none;
    color: white;
    line-height: 100%;
}
.nav a:hover
{
    border: 1px solid #acdd4a;       
    font-weight: normal;
    color: #ffffff;
    text-decoration: none;
}
.nav a:active
{
    border: 1px solid #acdd4a;

    font-weight: normal;
    color: #ffffff;
}
.nav .current a
{
    border: 1px solid #acdd4a;
    color: #fff;
    border-radius: 5px;
} 
```

下面是我的标记

```
<!DOCTYPE html>
<html lang="en">
<head>       
</head>
<body>
    <header>
        <div class="row-fluid">
            <div class="span2">
                <p>
                   Title of webpage
                </p>
            </div>
            <div class="span8">
            </div>
            <div id="image" class="span2">

            </div>
        </div>
    </header>
    <nav class="nav">
            <ul>
                <li>@Html.ActionLink("Home", "Index", "Home")</li>
                <li><a href="#">Admin</a></li>
                <li>@Html.ActionLink("Help", "Contact", "Home")</li>
            </ul>      
    </nav>
    <div class="row-fluid" id="body">
        <section>
            @RenderBody()
        </section>
    </div>
    <footer>
        <div class="row-fluid">
            <div class="span4">
                <p>@User.Identity.Name</p>
            </div>
            <div class="span5">
            </div>
            <div class="span3">
                <p>
                    &copy; @DateTime.Now.Year</p>
            </div>
        </div>
    </footer>      
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:33:18.367

尝试这个：

CSS：

```
 /* Sticky footer styles
  -------------------------------------------------- */

  html,
  body {
    height: 100%;
    /* The html and body elements cannot have any padding or margin. */
  }

  /* Wrapper for page content to push down footer */
  #wrap {
    min-height: 100%;
    height: auto !important;
    height: 100%;
    /* Negative indent footer by it's height */
    margin: 0 auto -60px;
  }

  /* Set the fixed height of the footer here */
  #push,
  #footer {
    height: 60px;
  }
  #footer {
    background-color: #f5f5f5;
  }

  /* Lastly, apply responsive CSS fixes as necessary */
  @media (max-width: 767px) {
    #footer {
      margin-left: -20px;
      margin-right: -20px;
      padding-left: 20px;
      padding-right: 20px;
    }
  } 
```

HTML：

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    @Styles.Render("~/Content/bootstrap")
</head>
<body>
    <div id="wrap">
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <nav class="nav-collapse collapse">
                        <ul class="nav">
            <li>@Html.ActionLink("Home", "Index", "Home")</li>
            <li><a href="#">Admin</a></li>
            <li>@Html.ActionLink("Help", "Contact", "Home")</li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="container-fluid">
                <section>
                    @RenderBody()
                </section>
            </div>
        </div>
        <div id="push"></div>
    </div>
    <div id="footer">
       <div class="clearfix">
        <div class="pull-left">
            <p>@User.Identity.Name</p>
        </div>
        <div class="pull-right">
            <p>&copy; @DateTime.Now.Year</p>
        </div>
       </div>
    </div>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
</body>
</html> 
```

参考：[http://twitter.github.com/bootstrap/examples/sticky-footer.html][Twitter Bootstrap Sticky Footer]

# iphone - 在邮件正文中打开 url

> ID：15635627
> 
> 赞同：0
> 
> 时间：2013-03-26T11:13:38.990
> 
> 标签：iphone, ios, objective-c

在我的 iPhone 应用程序中，我可以发送邮件。在邮件正文中，我有 url。代码如下。

```
- (IBAction)sendEmailClick:(UIButton *)sender{
    if ([MFMailComposeViewController canSendMail]) {

        NSString* message = @"Click link below to reach the shared file(s).<br /><br /> http://google.com <br /><br /> Do you want to try our product? Please visit <a href=\"http://www.test.com/\">http://www.test.com/</a>";        

        MFMailComposeViewController* controller = [[MFMailComposeViewController alloc] init];
        [controller setSubject:@"Shared file from App"];
        [controller setMessageBody:message isHTML:YES];
        controller.mailComposeDelegate = self;
        controller.navigationBar.tintColor = self.navigationController.navigationBar.tintColor;
        [self presentModalViewController:controller animated:YES];
    } else {
        UIAlertView* alertView = [[UIAlertView alloc] initWithTitle:NSLocalizedString(@"App", nil) message:NSLocalizedString(@"Your phone is not currently configured to send mail.", nil) delegate:nil cancelButtonTitle:NSLocalizedString(@"OK", nil) otherButtonTitles:nil];
        [alertView show];
    }
} 
```

我已经启用了 javascript，但是在我点击邮件中的 url 后，它没有用浏览器打开。

# multithreading - 如何在openmp中的多个线程之间分配任务？

> ID：15635628
> 
> 赞同：0
> 
> 时间：2013-03-26T11:13:39.367
> 
> 标签：multithreading, openmp

我想使用 Openmp 在四个线程之间分配任务。我有 20x20 矩阵，任务应该平均分布在四个线程中，以下程序给出错误结果。我认为它需要在 for 循环中更改参数，任何人都可以帮助我。

```
#include<stdio.h>
    #include<omp.h>
    #include "head.h"
    //int sum=0;
    int c[20][20];
    //#include<conio.h>
        int main(void) {
            int A[20][20],B[20][20],C[20][20];
            int i;
            static int j,e;
            static sum=0;
            FILE *fp;
            unsigned long long a,b,c,d;

            int threadno;
            fp=fopen("m2.txt","w");
            //    printf("\n%d \n",h[20][20]);
                #pragma omp parallel shared(a,b,c,d)
            {
            threadno=omp_get_thread_num();

            if(threadno==0)
            {       
                for (i=0;i<5;i++)
                {
                for (j=0;j<5;j++)
                {
                    A[i][j]=i*j;
                    B[i][j]=i*j;
                }
                }

                for (i=0;i<5;i++)
                {
                for (j=0;j<5;j++)
                {
                    for (e=0;e<5;e++)
                    {
                    sum+=A[i][e]*B[e][j];
                            C[i][j]=sum;
                    }
                }
                }
            }

            else if(threadno==1)
            {   
                for (i=5;i<10;i++)
                {
                for (j=5;j<10;j++)
                {
                    A[i][j]=i*j;
                    B[i][j]=i*j;
                }
                }

                for (i=5;i<10;i++)
                {
                for (j=5;j<10;j++)
                {
                    for (e=5;e<10;e++)
                    {
                    sum+=A[i][e]*B[e][j];
                            C[i][j]=sum;
                    }
                }
                }
            }

            else if(threadno==2)
            {   
                for (i=10;i<15;i++)
                {
                for (j=10;j<15;j++)
                {
                    A[i][j]=i*j;
                    B[i][j]=i*j;
                }
                }

                for (i=10;i<15;i++)
                {
                for (j=10;j<15;j++)
                {
                    for (e=10;e<15;e++)
                    {
                    sum+=A[i][e]*B[e][j];
                            C[i][j]=sum;
                    }
                }
                }
            }

            else if(threadno==3)
            {   
                for (i=15;i<20;i++)
                {
                for (j=15;j<20;j++)
                {
                    A[i][j]=i*j;
                    B[i][j]=i*j;
                }
                }

                for (i=15;i<20;i++)
                {
                for (j=15;j<20;j++)
                {
                    for (e=15;e<20;e++)
                    {
                    sum+=A[i][e]*B[e][j];
                            C[i][j]=sum;
                    }
                }
                }
            }       

            for (i=0;i<20;i++){
                for (j=0;j<20;j++) {
                    fprintf(fp,"%d \t",C[i][j]);
                }
            }
    }
    fclose(fp); 
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T03:29:38.433

我必须使用 4 个线程来执行此操作，根据漫游登录，它使用单个 for 循环工作，但我想在 4 个线程之间分配任务。我按照 Raxman 进行了更改，一些代码没有更改，因为我必须使用 4 个线程这里。我修改后的代码是：

```
#include<stdio.h>
#include<omp.h>
#include "head.h"
//int sum=0;
int c[20][20];
//#include<conio.h>
    int main(void) {
        int A[20][20],B[20][20],C[20][20];
        int i;
        static int j,e;
        int sum;
        FILE *fp;
        unsigned long long a,b,c,d;

        int threadno;
        fp=fopen("m2.txt","w");
         for (i=0;i<20;i++)
            {
            for (j=0;j<20;j++)
            {
                A[i][j]=i*j;
                B[i][j]=i*j;
            }
            }
        //    printf("\n%d \n",h[20][20]);
            #pragma omp parallel shared(a,b,c,d)
        {
        threadno=omp_get_thread_num();

        if(threadno==0)
        {       

            for (i=0;i<5;i++)
            {
            for (j=0;j<5;j++)
            {
                sum=0;
                for (e=0;e<5;e++)
                {
                sum+=A[i][e]*B[e][j];
//                          C[i][j]=sum;
                }
             C[i][j]=sum;
            }
            }
        }

        else if(threadno==1)
        {   
    /*      for (i=5;i<10;i++)
            {
            for (j=5;j<10;j++)
            {
                A[i][j]=i*j;
                B[i][j]=i*j;
            }
            }*/

            for (i=5;i<10;i++)
            {
            for (j=5;j<10;j++)
            {
                sum=0;
                for (e=5;e<10;e++)
                {
                sum+=A[i][e]*B[e][j];
                //        C[i][j]=sum;
                }
             C[i][j]=sum;
            }
            }
        }

        else if(threadno==2)
        {   
          /*  for (i=10;i<15;i++)
            {
            for (j=10;j<15;j++)
            {
                A[i][j]=i*j;
                B[i][j]=i*j;
            }
            }*/

            for (i=10;i<15;i++)
            {
            for (j=10;j<15;j++)
            {
                sum=0;
                for (e=10;e<15;e++)
                {
                sum+=A[i][e]*B[e][j];
                    }
             C[i][j]=sum;
            }
            }
        }

        else if(threadno==3)
        {   
        /*    for (i=15;i<20;i++)
            {
            for (j=15;j<20;j++)
            {
                A[i][j]=i*j;
                B[i][j]=i*j;
            }
            }*/

            for (i=15;i<20;i++)
            {
            for (j=15;j<20;j++)
            {
                sum=0;
                for (e=15;e<20;e++)
                {
                sum+=A[i][e]*B[e][j];
                        //C[i][j]=sum;
                }
             C[i][j]=sum;
            }
            }
        }       

        for (i=0;i<20;i++){
            for (j=0;j<20;j++) {
                fprintf(fp,"%d \t",C[i][j]);
            }
        }
}
fclose(fp); 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T14:55:48.350

使用此功能。将浮点数更改为整数。

```
void matrix_mult_scalar_openmp(const float*A , const float* B, float* C, const int N, const int M, const int K) {
    #pragma omp parallel for
    for(int i=0; i<N; i++) {
        for(int j=0; j<K; j++) {
            float tmp = 0;
            for(int l=0; l<M; l++) {
                tmp += A[M*i+l]*B[K*l+j];
            }
            C[K*i + j] = tmp;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:51:17.123

每个线程仅在对角线周围产生 25 个值。那是你的意图吗？您的矩阵有 400 个条目，但实际上您只初始化了 4*25 = 100 个条目，因此除了对角线周围之外，最后的打印输出大部分都是垃圾。

您的所有线程也在访问该变量`sum`而没有任何锁定/同步，因此您从 sum 中读取的值是完全不确定的。

如果您真的打算编写矩阵*矩阵乘法：那么您应该首先编写您打算编写的三重嵌套循环。也许是这样的：

```
for (int i=0; i<20; i++) {
  for (int j=0; j<20; j++) {
    for (int e=0; e<20; e++) {
      // some work
    }
  }
} 
```

然后在 4 个线程之间划分最外层循环：

```
for (int i = 5*omp_get_thread_num(); i < 5*(omp_get_thread_num()+1); i++) {
  for (int j=0; j<20; j++) {
    ... 
```

或者更好的是让 openMP 为您分担工作。（我不是 openMP 专家，但我认为您就是这样做的。）

```
#pragma omp parallel
{
  #pragma omp for
  for (int i=0; i<20; i++) {
    for (int j=0; j<20; j++) {
      ...
} 
```

# c# - 从 MVCMailer 4.5 中的电子邮件地址更改

> ID：15635629
> 
> 赞同：2
> 
> 时间：2013-03-26T11:13:39.910
> 
> 标签：c#, asp.net-mvc-4, mvcmailer

有谁知道如何更改代码中的发件人电子邮件地址以覆盖 web.config 设置。

我正在尝试做的是允许某人填写在线表格，当收件人收到电子邮件时，它将来自发件人的电子邮件地址。

但目前它只是在 web.config 中显示默认值。

-----------------Web.config----------

```
<smtp from="some-email@gmail.com" deliveryMethod="SpecifiedPickupDirectory">
                <network host="localhost" />
                <specifiedPickupDirectory pickupDirectoryLocation="c:\temp\"/>
            </smtp> 
```

* * *

```
public virtual MvcMailMessage DirectotyEmail(string emailTo, string fromName, string arrivalDate, string departureDate, string message)
            {
            ViewBag.FromName        = fromName;
            ViewBag.ArrivalDate     = arrivalDate;
            ViewBag.DepartureDate   = departureDate;
            ViewBag.Message         = message;
            return Populate(x =>
            {
                x.Subject = "Accommodation Enquery form";
                x.ViewName = "DirectoryEmail";
                x.To.Add(emailTo.ToString());
                //x.From.Address("test@email.com");
                x.IsBodyHtml = true;
            });
            } 
```

* * *

```
X-Sender: some-email@gmail.com << Need this to be the email that user entered when submitting form
X-Receiver: test@mail.com
MIME-Version: 1.0
From: some-email@gmail.com << Need this to be the email that user entered when submitting form
To: test@mail.com
Date: 26 Mar 2013 11:08:57 +0000
Subject: Accommodation Enquery form
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: quoted-printable 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T11:38:52.690

您可以使用该属性覆盖 Web 配置提供的发件人，`Sender`并使用该属性覆盖发件人地址`From`。两个属性都需要一个`MailAddress`对象，因此您需要编写：

```
return Populate(x =>
{
    x.Subject = "Accommodation Enquery form";
    x.ViewName = "DirectoryEmail";
    x.To.Add(emailTo.ToString());
    x.From = new MailAddress("test@email.com");
    x.Sender = new MailAddress("test@email.com");
    x.IsBodyHtml = true;
}); 
```

# iphone - 目标c中@[]的用途是什么

> ID：15635630
> 
> 赞同：4
> 
> 时间：2013-03-26T11:13:48.790
> 
> 标签：iphone, objective-c, ios5, ios6, nsarray

我见过

```
NSArray *objectsToShare = @[objects]; 
```

在查看一些示例代码时。

这里是什么意思`@[objects]`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-26T11:15:08.057

```
NSArray *objectsToShare = @[objects]; 
```

是相同的

```
NSArray *objectsToShare = [NSArray arrayWithObjects:objects count:count]; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-26T11:24:11.760

# 它在 Objective-C 中也称为 Literals

```
Examples
Immutable array expression:
NSArray *array = @[ @"Hello", NSApp, [NSNumber numberWithInt:42] ]; 
```

使用 Apple`LLVM`编译器时，也可以使用文字语法而不是方法来创建`4.0 or later`数组、字典和数字。 [22] `(NSArray, NSDictionary, NSNumber classes)`文字语法使用**@ 符号**与`[], {}, (),`.

**没有文字的例子：**

```
NSArray *myArray = [NSArray arrayWithObject:someObject];
NSDictionary *myDictionary = [NSDictionary dictionaryWithObject:someObject forKey:@"key"];
NSNumber *myNumber = [NSNumber numberWithInt:myInt]; 
```

**文字示例：**

```
NSArray *myArray = @[ someObject ];
NSDictionary *myDictionary = @{ @"key" : someObject };
NSNumber *myNumber = @(myInt);

objc-at-expression : '@' (string-literal | encode-literal | selector-literal | protocol-literal | object-literal)
                   ;

object-literal : ('+' | '-')? numeric-constant
               | character-constant
               | boolean-constant
               | array-literal
               | dictionary-literal
               ;

boolean-constant : '__objc_yes' | '__objc_no' | 'true' | 'false'  /* boolean keywords. */
                 ;

array-literal : '[' assignment-expression-list ']'
              ;

assignment-expression-list : assignment-expression (',' assignment-expression-list)?
                           | /* empty */
                           ;

dictionary-literal : '{' key-value-list '}'
                   ;

key-value-list : key-value-pair (',' key-value-list)?
               | /* empty */
               ;

key-value-pair : assignment-expression ':' assignment-expression
               ; 
```

有关更多信息，请[阅读本教程](http://clang.llvm.org/docs/ObjectiveCLiterals.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:15:00.920

它使用一个对象创建一个数组，即对象“对象”

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T22:09:06.073

这是添加到 LLVM 编译器的新功能。您可以创建一个数组

```
NSArray *array = @[object1, ...]; 
```

请注意，您不能创建可变数组，并且您不需要以 . 结尾的对象列表`nil`。观看 WWDC 2012 视频“LLVM 的新功能”。

# mysql - 当我在我的 Ruby on rails 应用程序中转储 MySQL 表中的数据时，为什么它会显示特殊字符？

> ID：15635631
> 
> 赞同：0
> 
> 时间：2013-03-26T11:13:52.570
> 
> 标签：mysql, ruby-on-rails, ruby, ruby-on-rails-3, special-characters

在我的 ruby​​ on rails 应用程序中，

当我将数据从文件中转储到我的数据库中时，它会像在我的生产数据库中一样`(CSV, txt, XLS)`显示特殊字符。`D�e�m�o`但在我的文件中，数据是`"Demo"`. 那么为什么会发生。看起来我的实时数据已损坏。

我在用，

```
Ruby 1.9.2p180 
Rails 3.0.5 
Phusion Passenger version 3.0.13
Mysql 
```

它仍然显示在我的浏览器中：

![在此处输入图像描述](../Images/9076080164cd667ba20e8ffa5adae498.png)

为什么会发生？

请帮忙

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:15:39.720

您可能为您的表（请参见[此处](http://dev.mysql.com/doc/refman/5.1/en/charset-table.html)）、连接（请参见[此处](http://dev.mysql.com/doc/refman/5.0/en/charset-connection.html)）使用了不正确的字符集，或者您根本没有指定一个字符集。此外，文件（例如 CSV、TXT 或 XLS）可能采用特定编码并以另一种（不正确的）编码方式读取（例如“解释”）。

在您开始更改内容、猜测要使用的正确字符集之前，您应该阅读[每个软件开发人员绝对、肯定必须了解 Unicode 和字符集（没有任何借口！）的绝对最低要求](http://www.joelonsoftware.com/articles/Unicode.html)，以免让自己头疼和沮丧。

# autohotkey - 如何在 AutoHotKey 中使用 UTF-8？

> ID：15635635
> 
> 赞同：30
> 
> 时间：2013-03-26T11:14:13.317
> 
> 标签：autohotkey

我试图让两个连字符触发一个短破折号，三个连字符触发一个长破折号；喜欢

```
:*?:---=::—
:*?:--=::– 
```

除了工作。这是我到达的地方：

```
:*?:11::

SendLevel 1

Send 2

return

SendLevel 0

:*?:21::3 
```

这有效（11 产生 2，111 产生 3）

```
:*?:--::

SendLevel 1

Send –

return

SendLevel 0

:*?:–-::— 
```

这是相同的脚本，但是 '1' 被替换为 '-'，'2' 被替换为 '-'，并且 '3' 被替换为 '-'——“--” 应该产生“-”和“---”应该产生“-”，但它不起作用，因为我使用的版本不完全支持 Unicode（来自 autohotkey.com 的 AutoHotKey_L v1.1.09.04）。

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2016-09-07T22:22:13.737

> .ahk 文本文件需要使用**UTF8-BOM**编码而不是 UTF8进行保存

[正如此评论](https://stackoverflow.com/questions/15635635/how-do-i-use-unicode-in-autohotkey/28448693#comment65092875_16035408)中所指出的，张贴作为提高知名度的答案。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-06-13T12:04:36.233

单击`Save as`，更改编码方案，如下图：

[![在此处输入图像描述](../Images/6a2f6d78fa9e5fd6822360aeaa3383c5.png)](https://i.stack.imgur.com/MUIyP.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-02-11T07:24:21.623

编辑：**不要费心阅读我的答案，按照 Udo Klein 的说明进行操作，它更容易并且可以正常工作。**

如何使用最后一个自动热键版本发送 unicode 字符？（无需以前的 unicode 兼容版本即可工作）

很难找到明确的信息。所以要让初学者（像我一样）清楚：

1.  复制/粘贴脚本末尾的“代码 A”（它应该以 ANSI 编码）
2.  复制/粘贴脚本顶部的“代码 B”
3.  在这里找到你的 unicode 字符代码[http://www.utf8-chartable.de/unicode-utf8-table.pl](http://www.utf8-chartable.de/unicode-utf8-table.pl)
4.  复制U+后的4个数字
5.  在代码 B 中（在脚本顶部）：更改您需要的密钥（在“::”之前）
6.  在代码 B 中（在脚本的顶部）：过去您在 2 上找到的 unicode。在 0x 之后（而不是“2260”）
7.  保存你的脚本
8.  双击脚本的图标，它将替换/更新以前的版本

代码 A：

```
SendUnicodeChar(charCode)
{
VarSetCapacity(ki, 28 * 2, 0)
EncodeInteger(&ki + 0, 1)
EncodeInteger(&ki + 6, charCode)
EncodeInteger(&ki + 8, 4)
EncodeInteger(&ki +28, 1)
EncodeInteger(&ki +34, charCode)
EncodeInteger(&ki +36, 4|2)

DllCall("SendInput", "UInt", 2, "UInt", &ki, "Int", 28)
}

EncodeInteger(ref, val)
{
DllCall("ntdll\RtlFillMemoryUlong", "Uint", ref, "Uint", 4, "Uint", val)} 
```

代码 B：

```
!+^D::  ; when press CTRL+ALT+SHIFT will output "≠"
{ 
SendUnicodeChar(0x2260) 
}
return 
```

**（注意空间！）**

**需要改进：**

不知何故，这个脚本不适用于这个网站[http://unicode-table.com/](http://unicode-table.com/)给出的所有 unicode ，但是有人可能会告诉我们为什么有些 unicode 可以工作而其他的不行，也许是如何使其适用于本网站的任何 unicode 字符。这个例如[http://unicode-table.com/en/0609/](http://unicode-table.com/en/0609/)不起作用。知道为什么吗？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-16T11:10:36.827

我从[AutoHotKey 论坛](http://www.autohotkey.com/board/topic/41210-easy-unicode-functions/)复制了以下代码：

```
;IMPORTANT, you must save this script as UTF-8 to make it work.

::!?::
::?!::
PutUni("‽")
Return

::neko::
PutUni("猫")
Return

:?:damn::
PutUni("✩☠#‼")
Return

;Paste UTF8 string (Hex encoded or not) as unicode.
;If you don't use Hex encoding, you must save your script as UTF8
PutUni(DataIn)
{
    SavedClip := ClipBoardAll
    ClipBoard =
    If RegExMatch(DataIn, "^[0-9a-fA-F]+$")
    {
        Loop % StrLen(DataIn) / 2
        UTF8Code .= Chr("0x" . SubStr(DataIn, A_Index * 2 - 1, 2))
    }
    Else
        UTF8Code := DataIn

    Transform, ClipBoard, Unicode, %UTF8Code%
    Send ^v
    Sleep 100 ;Generous, less wait or none will often work.
    ClipBoard := SavedClip
    Return
} 
```

该`PutUni`函数会将所需的输入“转换”为所需的 Unicode 输出。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-09-19T13:14:15.607

引自[为什么我的脚本中的非 ASCII 字符显示或发送不正确？](https://www.autohotkey.com/docs/FAQ.htm#nonascii)：

> **简短回答：将脚本另存为带有 BOM 的 UTF-8。**
> 
> 尽管 AutoHotkey 支持 Unicode 文本，但它已针对向后兼容性进行了优化，这意味着默认为 ANSI 编码，而不是国际上更推荐的 UTF-8。AutoHotkey 不会自动识别 UTF-8 文件，除非它以字节顺序标记开头。

有关如何使用 UTF-8 BOM 编码保存文件，请参见[此处](https://stackoverflow.com/a/40365121/7881859)。

# flash - 修复运行时闪存泄漏

> ID：15635636
> 
> 赞同：0
> 
> 时间：2013-03-26T11:14:13.997
> 
> 标签：flash, memory-leaks, garbage-collection

有一个 Flash 应用程序在运行时使用了我数百 MB 的内存。是否有可能以某种方式手动清除此内存？

例如注入一些

```
System.gc() 
```

成整体`libflashplayer.so`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T05:23:57.857

GC 已经自行定期运行，所以如果 GC 没有为您释放内存，那么您的 Flash 应用程序有问题。

如果一个对象即使不再需要也没有被 GC，您应该手动检查代码，以便该对象应该释放所有事件侦听器。也许你忘记了删除一个`TimerEvent.TIMER`监听器，或者其他地方的任何其他监听器。如果您打算不再使用该实例，请确保正确取消引用所有对象。这包括从您仍然需要的父对象的显示列表中删除您不再需要的对象（但不包括清空该对象的显示列表，就好像它会被取消引用一样，它的显示列表将不再算作有效嵌套对象的链接，以便它们也可以被收集），并删除所有没有`useWeakReference`在从该对象及其所有内容添加时标志设置为 true（未弱引用的侦听器算作有效链接）。基本上，您应该始终完全控制将哪个侦听器附加到哪个对象，以及何时添加或删除侦听器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T13:10:36.853

不在调试模式之外。如果您在垃圾收集方面遇到严重问题，请查看此处的主题以及该主题中链接的文章：

[为什么 AS3 垃圾收集器不捡起这个？](https://stackoverflow.com/questions/14238300/why-isnt-the-as3-garbage-collector-picking-this-up)

# c# - 比较 2 列表后删除重复对象

> ID：15635640
> 
> 赞同：0
> 
> 时间：2013-03-26T11:14:24.667
> 
> 标签：c#, linq

我在删除 2 个列表中的重复对象时遇到问题

```
public class Pump
{
    public int PumpID { get; set; }
    public string PumpName { get; set; }
    public string LogicalNumber { get; set; }
}

public void LoadPump()
{
    var pumps = _pumpRepository.GetAll(); // 2 Pump
    var pumpsActive = _pumpRepository.GetAllActive(); // 1 Pump Active (Pump 1)
    //i try like this
    List<Pump> pumpsNonActive = pumps.Except(pumpsActive).ToList(); // Result 2
    //if like this
    List<Pump> pumpsNonActive = pumpsActive.Except(pumps).ToList(); // Result 1 (Pump 1)
} 
```

我只想在 pumpNonActive 中获得 1 个结果（结果 = Pump 2）。任何人都可以帮助我：/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:22:34.447

实施[`.Equals(object)`](http://msdn.microsoft.com/en-us/library/bsc2ak47.aspx)和[`.GetHashCode()`](http://msdn.microsoft.com/en-us/library/system.object.gethashcode.aspx)。

```
public class Pump
{
    public int PumpID { get; set; }
    public string PumpName { get; set; }
    public string LogicalNumber { get; set; }

    public override bool Equals(object o)
    {
        var casted = o as Pump;
        if (casted == null)
            return false;

        return PumpID == o.PumpID;
    }

    public override int GetHashCode()
    {
        return PumpID.GetHashCode();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:23:23.823

您可以覆盖`Equals`，也可以尝试以下操作：

```
 List<Pump> pumpsNonActive = pumps.Where(r => !pumpsActive
                                             .Any(t => t.PumpID == r.PumpID))
                                  .ToList(); 
```

这适用于以下数据集：

```
List<Pump> pumps = new List<Pump>()
{
    new Pump() { PumpID = 1, LogicalNumber = "SomeName", PumpName="PumpName1"},
    new Pump() {PumpID = 2, LogicalNumber = "Number", PumpName = "PumpName2"},
    new Pump(){PumpID = 3, LogicalNumber = "Number", PumpName = "PumpName3"},
};

List<Pump> pumpsActive= new List<Pump>()
{
    new Pump() { PumpID = 1, LogicalNumber = "2", PumpName="3"},
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:19:08.410

实施

```
public class Pump: IEquatable<Pump>
{
     public bool Equals(Pump other)
     {
          ...
     }
} 
```

# php - Zend Framework 中 Doctrine ORM 使用的问题

> ID：15635642
> 
> 赞同：0
> 
> 时间：2013-03-26T11:14:25.867
> 
> 标签：php, zend-framework, orm, doctrine

我已经在我的 ZendFramework 应用程序中安装了 Doctrine，并将它保存在应用程序的 Library 文件夹中。但是当我尝试运行应用程序时，我收到以下错误：

> 警告：require_once（Doctrine/Doctrine.php）：无法打开流：第 7 行的 /var/www/square-06/application/Bootstrap.php 中没有此类文件或目录致命错误：require_once（）：打开失败需要' Doctrine/Doctrine.php' (include_path='/var/www/square-06/application/../library:/var/www/square-06/library:.:/usr/share/php:/usr/share /pear') 在第 7 行的 /var/www/square-06/application/Bootstrap.php

将 Doctrine 提取到我的应用程序中后，我还有什么需要做的吗？

我使用以下链接从 Github安装[了启用了 Bisna Doctrine2 的教义 ZF1 框架项目。](https://github.com/guilhermeblanco/zendframework1-doctrine2)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T15:46:41.393

看看你的 ..\library\Doctrine 目录，看看 Doctrine.php 是否真的存在。我怀疑是这样。

我有一个我使用的骨架：[https ://github.com/bubba-h57/secret-skeleton](https://github.com/bubba-h57/secret-skeleton)

如果您查看（[https://github.com/bubba-h57/secret-skeleton/blob/master/public/index.php](https://github.com/bubba-h57/secret-skeleton/blob/master/public/index.php)）文件，您会看到我在哪里设置了一些路径以确保可以找到 Doctrine并自动加载。像这样的东西：

```
// Define application environment
defined('APPLICATION_ENV')
|| define('APPLICATION_ENV', (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV') : 'production'));

// Define path to application directory
defined('APPLICATION_PATH')
|| define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/../application'));

 // Define path to Zend library directory
defined('ZEND_LIB_PATH')
|| define('ZEND_LIB_PATH', realpath(dirname(__FILE__) .    '/../library/vendor/zend/framework/1.11.12/library'));

// Define path to the user library directory
defined('USER_LIB_PATH')
|| define('USER_LIB_PATH', realpath(dirname(__FILE__) . '/../library'));

// Define path to the user resource directory
defined('USER_RES_PATH')
|| define('USER_RES_PATH', realpath(dirname(__FILE__) . '/../resources'));

// Define path to the zf1-doctrine2 library directory
defined('ZF1D2_LIB_PATH')
|| define('ZF1D2_LIB_PATH', realpath(dirname(__FILE__) . '/../library/vendor/zf1-d2/library'));

// Ensure library/ is on include_path
set_include_path(implode(PATH_SEPARATOR, array(
ZEND_LIB_PATH,
USER_LIB_PATH,
ZF1D2_LIB_PATH,
)));

/** Zend_Application */
require_once 'Zend/Application.php';

// Create application, bootstrap, and run
$application = new Zend_Application(
APPLICATION_ENV,
APPLICATION_PATH . '/configs/application.ini'
);
$application->bootstrap()
        ->run(); 
```

您可能还想查看： [http ://www.thecodehouse.com/2011/03/25/installing-doctrine-orm-in-a-zend-framework-application/](http://www.thecodehouse.com/2011/03/25/installing-doctrine-orm-in-a-zend-framework-application/) [http://phphints.wordpress.com/ 2011/07/10/getting-bisna-to-work-with-doctrinecommon-2-1-0/](http://phphints.wordpress.com/2011/07/10/getting-bisna-to-work-with-doctrinecommon-2-1-0/)

# c# - 模型中文本框的默认值

> ID：15635643
> 
> 赞同：3
> 
> 时间：2013-03-26T11:14:26.620
> 
> 标签：c#, model

我想为模型添加默认值，如下所示：

```
public class Model1 {
    [DefaultValue("dasdas")]
    public string Test { get; set; }
} 
```

有没有办法做到这一点？

**更新**：这里的代码，它不工作：

```
 readonly IProfilesProvider _profilesProvider = new ProfilesProvider();

    public ChangeSettingsInputModel()
    {
        FirstName = _profilesProvider.GetProfileGroup("Name", "First").ToString();
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:15:55.760

您可以在类的构造函数中为您的属性设置默认值，这将在您每次创建新实例时应用`Model1`：

```
public class Model1
{
    public Model1()
    {
        Test = "some default value";
    }

    public string Test { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-26T11:16:00.817

在构造函数中：

```
public Model1(){
   Test="DefaultValue";
} 
```

# devise - 如何设置设计以使用来自两个不同应用程序的相同用户表

> ID：15635647
> 
> 赞同：0
> 
> 时间：2013-03-26T11:14:36.020
> 
> 标签：devise, ruby-on-rails-3.2

如何设置 Devise 以使用来自两个不同应用程序的相同用户表。我们将在同一个数据库中拥有两个应用程序表。它们不会共享相同的会话详细信息，因为它们很可能位于不同的根域中。任何想法？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T13:39:14.107

我通过在 github 上使用`connection_ninja`gem 友好地结帐 [connection_ninja来做到这一点](https://github.com/cherring/connection_ninja)

# cordova - 禁用放大phonegap

> ID：15635649
> 
> 赞同：1
> 
> 时间：2013-03-26T11:14:42.920
> 
> 标签：cordova

我正在使用 window.open("page.aspx") 在 Phonegap 中打开一个 ASPX 页面。开的不错 但是如何禁用该页面的缩放？我试过使用 **但这没有帮助。这是我的 index.html**

 **```
 <!DOCTYPE html>
   <html>
   <head>
    <title>InAppBrowser.close Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum- scale=1.0, user-scalable=no" />

    <script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"></script>
    <script type="text/javascript" charset="utf-8">

    document.addEventListener("deviceready", onDeviceReady, false);
    function onDeviceReady() {
         var ref = window.open('http://google.com/', '_blank', 'location=no');

    }
   </head>
   <body>
   </body>
   </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-07T23:50:05.937

<meta> 标签中的值，

> 用户可扩展=否

应该禁用缩放。它还确保正确形成属性值。例如：

`maximum-scale=1.0`

代替

> 最大尺度=1.0

这可能会导致视口属性无法渲染。使用

`<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">`

应在 inAppBrowser 中禁用滚动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-27T12:19:30.430

如果您显示的页面没有禁用缩放，则无法使用 inAppBrowser 执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-08T16:24:01.700

这对我有用：

```
document.ontouchmove = function(event){
    event.preventDefault();
} 
```

我想这会阻止触摸事件到达最顶层元素。

它也停止了“弹跳”**

# c# - ASP.net 创建此表的最佳方法是什么？

> ID：15635650
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:14:47.450
> 
> 标签：c#, asp.net

我正在尝试设置一个网站以在从 Web 服务接收数据时显示此内容。

[![例子](../Images/6817ea5a45fe925aa953d23a829ccbf6.png)](https://i.stack.imgur.com/YKQ3t.png)

显示此表的最佳方式是什么？一开始我有一个gridview，但后来我想在第三列中有很多信息，在第四列中有两个按钮而不是1。

品牌、价格和产品名称的数据来自我对 Web 服务的调用，因此我需要为从该 Web 服务调用中收到的每件商品重复这些行。

编辑 - 我在下面的回答是关于我是如何做到的，我最终只是在后面的代码中创建了 html，而不是按照我想要的方式显示它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T10:47:07.583

事实证明，像我在图像中显示的那样显示的最佳方法是从代码隐藏创建一个 html 表，并用所需的数据填充所需的部分。

我摆了一张桌子

```
<asp:Table Width="100%" ID="tblQuotes" runat="server">  
<asp:TableHeaderRow ID="Headers" runat="server">  
    <asp:TableHeaderCell>Brand</asp:TableHeaderCell>  
    <asp:TableHeaderCell>Price</asp:TableHeaderCell>  
    <asp:TableHeaderCell>Information</asp:TableHeaderCell>  
    <asp:TableHeaderCell>Purchase</asp:TableHeaderCell>  
 </asp:TableHeaderRow>  
 </asp:Table> 
```

然后从后面的代码中添加到单元格和行中。

例如

```
row.Cells.Add(colBrand);                      
Image logo = new Image();
logo.ImageUrl = imageUrl;
colProvider.Controls.Add(logo); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:36:59.097

我认为最简单的方法是使用数据源，或者这不是您的选择吗？

```
Repeater1.DataSource = values;
Repeater1.DataBind(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:37:57.937

如果您从 api 返回任何通过 IEnumerable 接口确认的内容，则不必这样做。

例如，您可以在数据表或列表中生成 api 结果。他们都用 IEnumerable 接口确认。然后，您可以简单地将这些对象绑定到中继器或网格。

另一种选择是使用 asp.net 文字控制。它会给你一个占位符。至于现在，我可以看到您不需要保留此页面的状态，因此字面量在这里也可以做得很好。但是，要使用文字控件，您可能必须动态生成 html。但是，它可以让您完美控制生成的 html。

# lotus-notes - 没有服务器参数的 getDatabase 在 R8 上不起作用

> ID：15635656
> 
> 赞同：0
> 
> 时间：2013-03-26T11:15:01.730
> 
> 标签：lotus-notes, lotusscript

我有一个这样的脚本`getDatabase("", "PATH/DATABASE.nsf")`，它可以在 Notes R7 客户端上运行。但在 Notes R8 客户端中，它尝试从本地获取数据库。是否有数据库属性或类似的东西来告诉它关闭的脚本看起来与运行数据库脚本的服务器相同。我知道我可以在第一个参数中设置服务器名称。但是我的数据库中有很多这些脚本，我不想更正所有这些脚本。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T12:06:44.660

你看错了你的问题。

您的代码运行良好，并且自 Notes 5 以来功能没有改变（Lotus Notes 不需要担心向后兼容性）。

此代码在“当前”服务器上查找数据库。所以如果它在服务器上运行它应该可以工作，但**如果你手动运行它会失败**。因为当您在客户端中运行此代码时，“当前服务器”是本地的。

安排代理（我假设）并等待它运行并确认这一点。

如果您在获取数据库时遇到困难，我鼓励您检查路径、大小写和“/”与“\”，看看它们是否都正确。

编辑：如果您的代码在本地运行时可以在 LN 7 上运行，那么您的数据库位于**本地**LN7 /data/PATH/DATABASE.n​​sf

# mongodb - 如何检查一个数组字段是否是 MongoDB 中另一个数组的一部分？

> ID：15635658
> 
> 赞同：4
> 
> 时间：2013-03-26T11:15:07.607
> 
> 标签：mongodb

在这个[问题](https://stackoverflow.com/questions/5366687/how-to-check-if-an-array-field-contains-a-unique-value-or-another-array-in-mongo)中，Jeff the Bear 解释了如何使用数组搜索文档

```
contains 'tag1'
contains ['tag1','tag2'],
contains any of ['tag3', 'tag4'] 
```

但是，如果我想使用属于另一个数组的数组来搜索文档，我该怎么办？

```
post1.tags = ['tag1']
post2.tags = ['tag1','tag3']
post3.tags = ['tag2','tag4']
post4.tags = ['tag1','tag2','tag3','tag4'] 
```

我想得到 post1 和 post3 因为它们有标签

```
contained in ['tag1', 'tag2', 'tag4'] 
```

我不想得到 post2 和 post4，因为 tag3 不存在`['tag1', 'tag2', 'tag4']`

换句话说，选择可以在另一个条件数组中找到其标签数组中的所有元素的帖子

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T22:57:49.440

您可以使用聚合框架来执行此操作。鉴于以下数据

```
> db.post.find()
{ "_id" : 1, "tags" : [ "tag1" ] }
{ "_id" : 2, "tags" : [ "tag1", "tag3" ] }
{ "_id" : 3, "tags" : [ "tag2", "tag4" ] }
{ "_id" : 4, "tags" : [ "tag1", "tag2", "tag3", "tag4" ] } 
```

聚合查询

```
db.post.aggregate({
  $project: {
    _id: 1,
    tags: 1,
    killFlag: {
      $const: [true, false]
    }
  }
}, {
  $unwind: "$tags"
}, {
  $unwind: "$killFlag"
}, {
  $match: {
    $nor: [{
        tags: {
          $in: ['tag1', 'tag2', 'tag4']
        },
        killFlag: true
      }
    ]
  }
}, {
  $group: {
    _id: "$_id",
    tags: {
      $addToSet: "$tags"
    },
    killFlag: {
      $max: "$killFlag"
    }
  }
}, {
  $match: {
    killFlag: false
  }
}, {
  $project: {
    _id: 1,
    tags: 1
  }
}) 
```

会给你

```
{
  "result": [{
      "_id": 3,
      "tags": [
          "tag4",
          "tag2"
      ]
    }, {
      "_id": 1,
      "tags": [
          "tag1"
      ]
    }
  ],
  "ok": 1
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-08-12T15:38:05.333

7年后......我找到了这个解决方案，基于[这个](https://stackoverflow.com/questions/28819332/setissubset-for-regular-queries-in-mongo/28820495)主题。

我不确定这在性能方面是否是一个好的解决方案，但它看起来比公认的解决方案更干净。

```
db.collection.find({
  tags: {
    "$not": {
      "$elemMatch": {
        "$nin": [
          "tag1",
          "tag2",
          "tag4"
        ]
      }
    }
  }
}) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-10-22T17:33:18.267

我有一个类似的任务，什么对我有用：

```
db.collection.find({ tags: { "$all":[ tag1", tag2", "tag4"] }}) 
```

也许对于某人来说，这将是一个有用的解决方案，基于文档[https://docs.mongodb.com/manual/tutorial/query-arrays/#specify-multiple-criteria-for-array-elements](https://docs.mongodb.com/manual/tutorial/query-arrays/#specify-multiple-criteria-for-array-elements)

# sql - Java EE 项目的 JPQL 查询

> ID：15635667
> 
> 赞同：1
> 
> 时间：2013-03-26T11:15:40.447
> 
> 标签：sql, jakarta-ee, jpa, ejb, jpql

我是 JPQL 查询的初学者，但我不明白如何在 JPQL 查询中翻译 SQL 查询：

我有 2 张桌子：

*   客户( **idCustomer** ,..., *idMacroMarket* )
*   MacroMarket( **idMacroMarket** , *nameMacroMarket* ...)

这些表与@ManytoOne（针对客户）和@OneToMany（针对MacroMarket）的关系链接。

**SQL查询：**

```
SELECT nameMacroSegment FROM Macro_market m
INNER JOIN Customer c ON c.idMacroMarket = m.idMacroMarket
WHERE idCustomer = id; 
```

**JPQL 查询：**

```
SELECT nameMacroSegment FROM Macro_market m
...
...
WHERE idCustomer = :id 
```

**实体**

```
 @Entity
    @Table(name="macro_market")
    public class Macro_market implements Serializable {

        private static final long serialVersionUID = 1L;

        /** ATTRIBUTES **/

        @Id
        @GeneratedValue( strategy = GenerationType.IDENTITY)
        private Long idMacroMarket;

        private String nameMacroSegment;
        private String nameMarketSegment;

        @OneToMany(mappedBy="macMar")
        private List<Customer> customers;
        ...
        ...

    @Entity
    @Table(name="customer")
    public class Customer implements Serializable {

        private static final long serialVersionUID = 1L;

        @Id
        @GeneratedValue( strategy = GenerationType.IDENTITY)
        private Long idCustomer;

        ...     
        ...
        /** RELATIONS **/
        // CUSTOMER - MACRO_MARKET
        @ManyToOne(cascade=CascadeType.ALL)
        @JoinColumn(name="idMacroMarket",referencedColumnName="idMacroMarket")
        private Macro_market macMar; 
```

谢谢您的回答。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T15:38:13.703

经过深思熟虑，我认为这个查询应该有效。在我在评论中写的查询中，我错过了`JOIN`声明。

```
SELECT m.nameMacroSegment FROM Macro_market m JOIN m.customers
WHERE c.idCustomer = :id 
```

至于何时以及如何将新客户添加到列表中的问题 - 如果您有一个`MakroMarket`实体`market`和一个`Customer` `customer`，您可以将它们添加到关系的双方，如下所示：

```
market.getCustomers().add(customer);
customer.setMarket(market);
customer = entityManager.merge(customer); //save the changes to both entites with cascade 
```

如果你创建了一个新的`Customer`，你还必须坚持它而不是合并，使用`em.persist(customer);`.

我希望这回答了你的问题。

# actionscript-3 - 如果加载到另一个动画中，3D 透视图无法正确显示

> ID：15635670
> 
> 赞同：2
> 
> 时间：2013-03-26T11:15:46.503
> 
> 标签：actionscript-3, flash, 3d, loader

在过去的一周里，我一直在尝试使 3D 透视图正常工作，但没有运气。我有一个“父”.swf 和另一个“子”.swf 加载到父级中。其中两个“子”.swf 包含 3D 透视/3D 补间。父级的舞台大小为 1000x600 像素，子级为 700x500 像素。加载器非常简单。

```
var loader:Loader=new Loader();
var mcExternal:MovieClip;
this.addChild(loader);
loader.load(new URLRequest("ani.swf"));
loader.contentLoaderInfo.addEventListener(Event.COMPLETE,swfIn);
function swfIn(e:Event):void {
    mcExternal=loader.content as MovieClip; 
} 
```

这是加载动画的样子：[http](http://andrewk.wz.cz/test/test.html) ://andrewk.wz.cz/test/test.html 这是加载前的动画：http: [//andrewk.wz.cz/test/ani.html](http://andrewk.wz.cz/test/ani.html) 任何 ide

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T14:13:37.497

也许[透视投影中心](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/geom/PerspectiveProjection.html#projectionCenter)已关闭。对于 700x500，默认值位于中间：350,250，因此您可以尝试以下操作：

```
this.transform.perspectiveProjection.projectionCenter = new Point(350,250); 
```

或在准备好时从加载的内容中设置它：

```
function swfIn(e:Event):void {
    mcExternal=loader.content as MovieClip; 
    this.transform.perspectiveProjection.projectionCenter = mcExternal.transform.perspectiveProjection.projectionCenter
} 
```

没有测试过自己，但听起来这可能是你的问题

# c# - Flex AIR 中的 Flex 视频聊天/会议解决方案

> ID：15635671
> 
> 赞同：0
> 
> 时间：2013-03-26T11:15:49.737
> 
> 标签：c#, wcf, apache-flex, air, video-streaming

我们正在开发一种产品，我们需要 2 到 3 人之间的视频通话。我们需要付费或开源的解决方案。我们在前端使用 Flex/AIR，在后端使用 C#、WCF 服务。任何建议或想法或任何链接将不胜感激。我们需要用户状态（在线、离开、忙碌等）呼叫警报（用户正在呼叫接受、拒绝、呼叫被拒绝等）呼叫记录和请求回放。

平台：桌面、Web、平板电脑

# google-chrome - Chrome扩展注入远程JS文件？

> ID：15635677
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:15:59.730
> 
> 标签：google-chrome, ssl

好的，我已经搜索了几天，是时候让步并寻求帮助了。

我刚刚开始尝试找出 Chrome 扩展程序，现在正处于开发的初始阶段。我对这一切都不太了解，所以我停留在第一级。

我需要我的 background.html 或 background.js 文件，或我的内容脚本。哪个更适合这项工作 - 加载我的服务器上保存的外部脚本。http 或 https。

所以我尝试使用清单文件添加“匹配”以及安全性和权限，但无济于事。我可以向您展示我的清单文件，但我有一万个版本试图找出它为什么不起作用。

我还尝试将其添加到 background.html 文件中 - 再次出现安全错误和/或无法加载文件。

所以我在哪里：我有一个清单文件版本 2，我有一个 background.html - 它加载到我的内容脚本中我有一个执行 console.log 的内容脚本，所以我知道它可以工作。

我只想将我的远程 JS 文件加载到 :( 并做任何事情。

谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-10-09T06:22:58.933

我做了类似的事情，我在这里给出了一些代码片段，看看是否可以帮助你

清单.json

```
"content_scripts": [
{
  "matches": ["*://*/*"],   
  "js": ["content_script.js"]
} 
```

],

在 content_script.js 我以这种方式加载外部 js 文件

```
 //inject script
      (function() {
        var myjs = document.createElement('script');
        myjs.type = 'text/javascript';
        myjs.async = true;
        myjs.src = 'http://mylocalhost/wrapper.js';
        document.body.appendChild(myjs);

      })(); 
```

# actionscript-3 - 访问库中动态创建的对象之间的变量

> ID：15635682
> 
> 赞同：1
> 
> 时间：2013-03-26T11:16:09.780
> 
> 标签：actionscript-3, flash, air

欢迎，

我创建了简单的 FLA 项目（AIR 3.6 for iOS -[来源](http://www73.zippyshare.com/v/84635555/file.html)）：

```
var k1:kloc1 = new kloc1();
var k2:kloc2 = new kloc2();

k1.x = 0;
k1.y = 0;
k2.x = 150;
k2.y = 150;

addChild(k1);
addChild(k2); 
trace("k2 name main timeline: " + k2.name);  
trace("k2 demo_tekst before: " +  MovieClip(root).k2.demo_tekst);  
k2.demo_tekst = 'podmieniony tekst';  
trace("k2 demo_tekst after: " +  MovieClip(root).k2.demo_tekst); 
```

kloc2 在库中，继承自 MovieClip，仅包含 demo_tekst 变量：

```
var demo_tekst:String = "oryginalny tekst"; 
```

并且 kloc1 也在库中，继承自 MovieClip 并且仅包含侦听器和跟踪指令：

```
addEventListener(MouseEvent.CLICK, onClick);
function onClick(e:MouseEvent):void {
    trace("k2 name from k1 obj: " + MovieClip(root).k2.name);
    trace(MovieClip(root).k2.demo_tekst);
} 
```

当我测试上面的代码时，通过单击 k1，控制台上的结果是：

```
k2 name main timeline: instance3
k2 demo_tekst before: null
k2 demo_tekst after: podmieniony tekst
k2 name from k1 obj: instance3
oryginalny tekst 
```

正如我所料，最终结果是“oryginalny tekst”，而不是“podmieniony tekst”。同样在创建 k2 对象之后，通过 new()，demo_tekst 为空（？！）。我在调试模式下检查它，k2 在创建时和跟踪结果期间具有相同的实例。两个地方的对象名称相同。有人可以解释一下发生了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T15:16:29.247

**k2 名称主时间线：instance3**

这对于动态创建的对象是预期的。您需要在创建实例时为其命名，否则它会为您生成一个。由于这是舞台上的第三个对象，因此它成为“instance3”。

*解决方案：*

```
var k2:kloc2 = new kloc2();
k2.name = "myK2";
trace("My k2.name = " + k2.name);  // My k2.name = myK2 
```

* * *

**k2 demo_tekst 之前：空**

编写`MovieClip(root)`简单的数据类型根作为 MovieClip 对象（它已经是）。您可以通过编写来简化这一点：

```
root.k2.demo_tekst 
```

但是，虽然您的根对象（又名 MainTimeline）上可能有一个名为“k2”的属性，但您没有该名称的 DisplayList 对象。[DisplayList](http://www.adobe.com/devnet/flash/quickstart/display_list_programming_as3.html)和对象的属性是两个截然不同的东西。在您的情况下，root 上有一个名为“k2”的属性指向您的 MovieClip，但 name 属性留空，因此其自动名称为“instance3”。

这个看似方便的指针的原因是因为默认情况下 Flash IDE启用了“[自动声明阶段实例”。](http://blog.ickydime.com/2008/07/as3-notes-automatically-declare-stage.html)看到您已创建库对象，指向您的 MovieClip 的属性已自动在根目录中创建。

如果您在运行时手动创建了对象，这不是一个选项。通常，您需要手动声明这些以使用 dot.notation 语法。

```
k2.name = "k2";
root.addChild(k2);
root[k2.name] = k2; 
```

相反，您可以使用[`root.getChildByName("k2")`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/DisplayObjectContainer.html#getChildByName%28%29)并放弃在根对象中创建指针。在许多情况下，这将是正确的做法，虽然有点麻烦。

* * *

**k2 demo_tekst 之后：podmieniony tekst**

如果您来自 Flash IDE 和 AS2，您可能习惯于直接在每个从属对象的时间轴上创建 ActionScript。不要在 AS3 中这样做。

我相信`demo_tekst`变量没有被初始化是因为 MovieClip 没有被播放，所以`k2.demo_tekst`直到你通过写入在你的 MovieClip 对象之外动态创建它之前没有初始化因为`k2.demo_tekst = 'podmieniony tekst';` MovieClip 是动态的，你可以在没有冲突的情况下生成这些变量（不是这样与 Sprite 或 Shape 等非动态对象）。

考虑完全动态地创建您的 MovieClip，如下所示：

```
var k1:MovieClip = new MovieClip();
k1.name = "kloc1";
k1.demo_text = "replacement text";
addChild(k1);
trace(k1.name + ".demo_text = " + k1.demo_text);
// outputs:  kloc1.demo_text = replacement text 
```

* * *

**来自 k1 obj 的 k2 名称：instance3**

**原始测试**

第一行是预期的（因为您从未命名 k2 对象），但这是时间线代码中操作顺序变得有趣的地方（强烈建议不要这样做）。在将影片剪辑作为 MainTimeline 的父级后，最终运行您的子影片剪辑的时间线内的代码，然后覆盖内部属性`demo_tekst`。

我希望这可以澄清事情。同样，如果您想保持简单，我强烈建议您将所有代码编写在一个文档中。您可以在第一帧上执行此操作，或者将其写入外部并[`include`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/statements.html#include)在您的时间轴中。

如果您准备好超越基础知识，请考虑创建自己的[类对象](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/Class.html)并[导入它们](http://www.adobe.com/devnet/actionscript/learning/as3-fundamentals/packages.html)。这使您能够在自定义对象上创建复杂的属性和函数（这似乎是您的初衷）。

# c - C：从标准输入读取，直到按两次 Enter

> ID：15635686
> 
> 赞同：6
> 
> 时间：2013-03-26T11:16:23.910
> 
> 标签：c, io, stdin

考虑一个简单的程序。它必须从标准输入中获取 5 个数字的序列并打印它们的总和。没有说明将采用多少行输入，但如果换行符被输入两次（或按两次 Enter），程序必须终止。

例如，

输入：

```
1 1 1 1 1
2 2 2 2 2
3 3 3 3 3/n
/n 
```

输出：

```
5
10
15

#include <stdio.h>

int main()
{
    int n1, n2, n3, n4, n5;
    int sum;
    while (/*condition*/)
    {
        scanf ("%d %d %d %d %d\n", &n1, &n2, &n3, &n4, &n5);
        sum = n1 + n2 + n3 + n4 + n5;
        printf ("%d\n", sum);
    }
    return 0;
} 
```

唯一的问题是我不知道while循环中必须有什么条件。一点帮助将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-26T11:28:56.713

使用`getc(stdin)`( [man page](http://pubs.opengroup.org/onlinepubs/007908799/xsh/fgetc.html) ) 从 中读取单个字符`stdin`，如果它不是换行符，您可以使用`ungetc(ch, stdin)`( [man page](http://pubs.opengroup.org/onlinepubs/007908799/xsh/ungetc.html) ) 将其放回并`scanf`用于读取您的号码。

```
int main() {
    int sum = 0;
    int newlines = 0;
    int n = 0;
    while(1) {
        int ch = getc(stdin);
        if(ch == EOF) break;
        if(ch == '\n') {
            newlines++;
            if(newlines >= 2) break;
            continue;
        }

        newlines = 0;
        ungetc(ch, stdin);
        int x;
        if(scanf("%d", &x) == EOF) break;
        sum += x;
        n++;
        if(n == 5) {
            printf("Sum is %d\n", sum);
            n = 0;
            sum = 0;
        }
    }
} 
```

在线演示：http: [//ideone.com/y99Ns6](http://ideone.com/y99Ns6)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:21:21.710

好吧，您可以简单地将 scanf 调用置于条件中，并检查它是否成功设置了您的变量。

```
#include <stdio.h>

int main()
{
    int n1, n2, n3, n4\. n5;
    int sum;
    while (scanf ("%d %d %d %d %d\n", n1, n2, n3, n4, n5) != EOF)
    {
        sum = n1 + n2 + n3 + n4 + n5;
        printf ("%d\n", sum);
    }
    return 0;
} 
```

（无法自己测试此代码）

# java - 向 Dropwizard 添加其他指标

> ID：15635692
> 
> 赞同：11
> 
> 时间：2013-03-26T11:16:35.577
> 
> 标签：java, dropwizard

如何将自定义指标添加到 Dropwizard 在管理端口 (8081) 上提供的默认内容？除了添加健康检查之外，我在文档中找不到任何内容。我很想合并从 MongoDB 检索到的一些统计信息，并且宁愿将其与 8081 上的管理资源一起保存，也不愿在端口 8080 上创建自定义指标页面。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T13:17:03.517

Dropwizard 的所有指标都使用[Metrics](http://metrics.codahale.com/)库。Metric 的[入门部分](https://dropwizard.github.io/metrics/3.1.0/getting-started/)包含您开始添加自己的所需的一切。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-17T21:08:32.763

这是一个例子。该 jvm 实例中的每个指标都通过 JMX 公开。您还可以注册指标报告器，它们会将所有指标转储到日志间隔，或发送到石墨。

```
 //this creates or returns the metrics, basically every metric is only created once and registered in a registry
    private final Timer timerCanMakeHold = 
                Metrics.newTimer(MyClass.class, "METRICNAME", TimeUnit.MILLISECONDS, TimeUnit.SECONDS);

        final TimerContext timerContex = timerCanMakeHold.time();
        try{    
             doSomeWork()//this is what you are timing
        }finally{
            timerContex.stop();
        } 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-07-18T23:33:25.227

如果您希望您的指标与 Dropwizard 项目中包含的指标 servlet 一起显示，您必须使用与 servlet 相同的 MetricRegistry 对象并将您的指标注册到其中。

您可以从应用程序中的 Environment 获取正确的 MetricRegistry 实例；或从在启动期间传递给其 initilaize 方法的 Bootstrap 对象。

Dropwizard 文档没有提到 MetricRegistry 的范围和它包含的对象。这意味着您只需创建自己的 MetricRegistry。这适用于独立的“入门”应用程序，但该文档是关于将指标添加到现有的 Dropwizard 应用程序，而不是新的独立应用程序。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-09-18T07:53:02.070

我还没有测试过，但也许这会有所帮助：

```
 final Graphite graphite = new Graphite(new InetSocketAddress("graphite.url.example", 2003));
    MetricRegistry metrics = new MetricRegistry();
    GraphiteReporter reporter = GraphiteReporter.forRegistry(metrics)
                      .convertRatesTo(TimeUnit.SECONDS)
                      .convertDurationsTo(TimeUnit.MILLISECONDS)
                      .build(graphite);
    reporter.start(1, TimeUnit.SECONDS);
    Counter counter = metrics.counter("nameOfCounter");
    counter.inc(); 
```

对于常春藤，您必须将其添加到您的 ivy.xml：

```
 <dependency org="io.dropwizard" name="dropwizard-metrics" rev="0.7.1"/>
        <dependency org="io.dropwizard" name="dropwizard-metrics-graphite" rev="0.7.1"/> 
```

如果你把它放到你的 config.yml 中，

```
metrics:
  reporters:
    - type: console
      timeZone: UTC
      output: stdout
      durationUnit: milliseconds
      rateUnit: seconds
      frequency: 120 seconds
    - type: graphite
      host: localhost
      port: 9090
      prefix: test.prefix 
```

您还可以在 run 方法中调用 MetricsFactory：

```
 MetricRegistry metrics = new MetricRegistry();
        MetricsFactory mfac = configuration.getMetricsFactory();
        mfac.configure(environment.lifecycle(), metrics);
        Counter counter = metrics.counter("nameOfCounter");
        counter.inc();
        counter.inc();
        counter.inc();
        counter.inc();
        counter.inc(); 
```

如果您构建自己的套接字侦听器，那么您可以每 xxx 秒看到此行传入：

```
test.prefix.nameOfCounter.count 5 1411562372 
```

# linux - xmodmap 清除命令

> ID：15635696
> 
> 赞同：11
> 
> 时间：2013-03-26T11:16:48.040
> 
> 标签：linux, xmodmap

我很难理解 xmodmap clear 命令，这是[一个示例](http://efod.se/writings/linuxbook/html/caps-lock-to-ctrl.html)：

```
 keycode 66 = Control_L
    clear Lock
    add Control = Control_L
    keycode 117 = Caps_Lock
    add Lock = Caps_Lock 
```

1.  Control_L已经映射到66了，为什么还要在第3行加上Control呢？
2.  为什么我在实际添加 Control 时必须清除 Lock？
3.  为什么在我实际添加 Caps_Lock 之前不清除 Lock？

这真是令人费解。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-07-27T06:31:28.660

xmodmap 中重要的是区分键码（来自键盘的原始数字）、键符（键的最终*含义*）和修饰符标志，它们是键上的标志（不是键符）。说“我说的这个东西是shift键应该修改其他键为shift键”

让我们用这些“类型”注释您的示例

```
keycode **(keycode)**66 = **(keysym)**Control_L
clear **(modifier)**Lock
add **(modifier)**Control = **(keysym)**Control_L
keycode **(keycode)**117 = **(keysym)**Caps_Lock
add **(modifier)**Lock = **(keysym)**Caps_Lock 
```

现在我们可以更好地了解每一行的作用：

`keycode 66 = Control_L`
将大写锁定键与控制键的含义相关联（但不作为修饰符）

`clear Lock`
将删除以前具有修饰符的任何键的修饰符标志`Lock`（如代码 66 所代表的大写锁定键最有可能具有）

`add Control = Control_L`
将 control 修饰符添加到与 keysym 关联的键`Control_L`（可能是键码 66 和原始左控制键）

`keycode 117 = Caps_Lock` 将键码为 117 的键分配为大写锁定（我不确定 117 是什么，我的键盘没有。）

`add Lock = Caps_Lock`使用闪亮的新绑定 117 键码将`Lock`修饰符重新 添加到键符上。`Caps_Lock`

所以，直接回答你的问题：

> 1、Control_L已经映射到66了，为什么还要在第3行加上Control？

您需要修饰符和键符才能使修饰键正确地充当修饰符。（对我来说似乎有点奇怪，但就是这样）

> 2\. 为什么我在实际添加Control时必须清除Lock？

因为与 keycode 66 关联的键仍然会`Lock`设置修饰符。修饰符不会被覆盖，您必须清除它们。

> 3\. 为什么在我真正添加 Caps_Lock 之前不清除 Lock？

你也可以这样做，它同样可以很好地工作，因为`Lock`目标是修饰符，当你弄乱键盘符号时它不会改变。

* * *

xmodmap 可能是一个非常难以配置的野兽，以下是我在尝试理解它时使用的一些链接：

1.  [http://cs.gmu.edu/~sean/stuff/n800/keyboard/old.html](http://cs.gmu.edu/%7Esean/stuff/n800/keyboard/old.html)
2.  [http://www.jwz.org/xkeycaps/man.html](http://www.jwz.org/xkeycaps/man.html)
3.  [http://www.in-ulm.de/~mascheck/X11/xmodmap.html](http://www.in-ulm.de/%7Emascheck/X11/xmodmap.html)

如果有什么我可以尝试更清楚的，请告诉我。

# perl - 在循环中使用文件中的变量

> ID：15635698
> 
> 赞同：1
> 
> 时间：2013-03-26T11:16:53.677
> 
> 标签：perl

我在这段代码上撞了两天没有成功：我需要做的是从一长串网络中以这种格式获取IP地址列表：

网络 NUMBER_OF_HOSTS
192.168.1.0 512

我在 Net:IP 模块中发现了这组代码，似乎非常适合我的需求：

```
my $ip = new Net::IP ('192.168.1.0 + 512');
        do {
             print $ip->ip(), "\n";
        } while (++$ip); 
```

使用明确声明的 NETWORK 和 HOST 值，该片段可以完美地工作，当我在 while 循环中使用它时，通过变量传递数据，问题就开始了。经过多次尝试，我将列表修改如下：

'192.168.150.0 + 512'

这是生成的脚本：

```
#!/usr/bin/perl

use strict;
use warnings;
use Net::IP;

open(MYFILE, "ips.txt") or die "$0: Can't open input file $input: $!\n";

while (<MYFILE>){

        chomp $_;
        my $ip = new Net::IP ($_);
        do {
             print $ip->ip(), "\n";
        } while (++$ip);
}

close(MYFILE); 
```

当我尝试执行时，它给了我以下错误：

> 无法对 ./iplist.pl 第 14 行第 1 行的未定义值调用方法“ip”。

如果我在while循环中`print $_,"\n";`打印变量，它会正确打印变量，那么我错在哪里？任何帮助表示赞赏。

UPDATE1：ips.txt 的 od 输出

```
0000000   '   4   1   .   5   7   .   1   1   6   .   0       +       1
0000020   0   2   4   '  \n   '   4   1   .   5   7   .   1   9   2   .
0000040   0       +       1   6   3   8   4   '  \n   '   4   1   .   6
0000060   6   .   1   9   2   .   0       +       1   6   3   8   4   '
0000100  \n   '   4   1   .   7   4   .   8   0   .   0       +       4
0000120   0   9   6   '  \n   '   4   1   .   7   5   .   4   8   .   0
0000140       +       4   0   9   6   '  \n   '   4   1   .   7   6   .
0000160   2   4   .   0       +       2   0   4   8   '  \n   '   4   1
0000200   .   7   7   .   6   4   .   0       +       2   0   4   8   '
0000220  \n   '   4   1   .   7   8   .   4   0   .   0       +       1
0000240   0   2   4   '  \n 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:56:41.800

*字符串文字*（即*Perl 代码*）

```
'192.168.1.0 + 512' 
```

产生*字符串*

```
192.168.1.0 + 512 
```

至于`readline`( `<$fh>`)，它产生文件的一行。忽略你咬掉的换行符，它返回字符串

```
'192.168.1.0 + 512' 
```

这与前面的字符串不同，因为它有额外的引号。从文件中删除引号。

# android - 简单 HttpPost 上的 NullPointerException

> ID：15635700
> 
> 赞同：2
> 
> 时间：2013-03-26T11:16:59.010
> 
> 标签：android, http-post, httprequest, getjson, httpexception

如果用户名和密码正确，则必须显示“SUCCESS”，否则必须显示“FAILED”。我正在使用`BasicNameValuePair`. 以及它`NullPointerException`在这条线上的显示`int code = pres.getStatusLine().getStatusCode();`

```
public class MyPostActivity extends Activity {
    DefaultHttpClient client;
    HttpPost post;
    HttpResponse res;
    HttpEntity ent;
    Button b;
    List<NameValuePair> pairs;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        b = (Button) findViewById(R.id.button1);
        client = new DefaultHttpClient();
        post = new HttpPost(
                "http://somesite.com/abc");
        b.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                List<NameValuePair> pairs = new ArrayList<NameValuePair>(3);
                pairs.add(new BasicNameValuePair("Email", "avinash"));
                pairs.add(new BasicNameValuePair("password", "avinash2"));

                try {
                    post.setEntity(new UrlEncodedFormEntity(pairs));
                } catch (UnsupportedEncodingException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

                HttpResponse pres = null;
                try {
                    pres = client.execute(post);
                } catch (ClientProtocolException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                int code = pres.getStatusLine().getStatusCode();
                if (code == 200) {
                    Toast.makeText(getApplicationContext(), "Successful",
                            Toast.LENGTH_SHORT).show();
                } else {
                    Toast.makeText(getApplicationContext(), "Failed!",
                            Toast.LENGTH_SHORT).show();
                }
            }
        });

    }

} 
```

![在此处输入图像描述](../Images/68642b7a536fbd2babfb13309148c2aa.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T11:24:50.540

您应该将 Internet 权限添加到该`AndroidManifest.xml`文件。此外，您不应在`UI Thread`. 事实上，这`Http execute`将导致`UI Thread`挂起等待来自服务器的响应。这将导致`ANR`（应用程序没有响应）。我建议你阅读以下[文章](http://android-developers.blogspot.it/2009/05/painless-threading.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:33:20.257

请将此权限也添加到您的清单并尝试

```
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" >
    </uses-permission> 
```

和 AsyncTask 代码

```
private class SignInService extends AsyncTask<Void, Void, Void> {

    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        try {
            progressDilaog = ProgressDialog.show(MainActivity.this, "",
                    "Loading", true, false);

        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    protected Void doInBackground(Void... params) {

        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost(url);

        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(5);
        nameValuePairs.add(new BasicNameValuePair("username", "abc"));
        nameValuePairs.add(new BasicNameValuePair("password", "bcd"));

        try {
            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

            try {
              HttpResponse response = httpclient.execute(httppost);

              int responsecode = response.getStatusLine().getStatusCode();

            } catch (ClientProtocolException e) {
              e.printStackTrace();
            } catch (IOException e) {
              e.printStackTrace();
            }
         } catch (UnsupportedEncodingException e) {
           e.printStackTrace();
         }

        return null;
    }

    @Override
    protected void onPostExecute(Void result) {
        super.onPostExecute(result);
        progressDilaog.dismiss();

    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:25:58.777

```
 try {
            pres = client.execute(post);
        } catch (ClientProtocolException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        int code = pres.getStatusLine().getStatusCode(); 
```

好吧，空指针异常发生是因为您可能在您的行中遇到异常`client.execute`并注意到它（您只需捕获它）。这就是为什么`pres`为空。您应该打印异常以找到您真正的问题。

# android - 谷歌分析报告不止一个屏幕来自一项活动

> ID：15635701
> 
> 赞同：0
> 
> 时间：2013-03-26T11:17:01.627
> 
> 标签：android, google-analytics

如何从我的主要活动报告多个屏幕？我有一个活动，其中我有视图翻转器，当我从一个视图翻转到另一个视图时，我想报告我现在看到的视图？

我试过这样：

```
private List<Tracker> trackers; 
```

然后从我做的每一个观点

```
Tracker tracker=mGaInstance.getTracker("UA-mynumver-"+id_viewa); 
```

当我加载一个视图时，我会这样报告：

```
trackers.get(0).sendView("name_of_view"); 
```

我也有这样的简单跟踪器：

```
public void onStart(){
    super.onStart();
    EasyTracker.getInstance().activityStart(this);      
}

@Override
  public void onStop() {
    super.onStop();
    EasyTracker.getInstance().activityStop(this); 
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T08:16:43.707

找到解决方案我不应该使用多个跟踪器，我只需要一个，总是在我打开新视图时做

```
tracker.sendView("name_of_view"); 
```

# android-activity - 无法从实例调用 Activity 类方法

> ID：15635703
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:17:02.377
> 
> 标签：android-activity, instance

我开始学习 android 开发，但我不明白，为什么我不能从实例调用 Activity 类方法，例如：

此代码不起作用：

```
public class MainActivity extends Activity {
    public void test(){
        Activity a = new Activity();
        a.onCreate(savedInstanceState);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:29:22.200

简单的解释是，由于`a`在一般情况下可能是一个类型`Activity` *或任何子类*，`Activity`并且*类方法不是任何接口的一部分*，编译器在编译时无法知道 Activity 的所有子类实际上都实现了 OnCreate 所以它实际上是可调用的.

`a`您可能会争辩说，在这种特殊情况下，编译器可以进行静态分析并找出类型，但是如果您重构代码以从函数中获取值或作为参数传入，它会使代码变得无效。

# c++ - QWebView：打印问题

> ID：15635706
> 
> 赞同：5
> 
> 时间：2013-03-26T11:17:08.113
> 
> 标签：c++, qt

我正在尝试通过 QWebView 创建报告，通过 QPrintPreviewDialog 显示并打印它。假设我想创建一个 100 行的表，分成几页，并将当前行号添加到每页的页脚（我实际任务的抽象变体）。我的代码：

```
 void MainWindow::preview(){
    QPrinter printer;
    printer.setPageSize(QPrinter::A4);
    printer.setOrientation(QPrinter::Portrait);
    printer.setPageMargins(10,10,10,10,QPrinter::Millimeter);

    QPrintPreviewDialog print_preview(&printer, this);
    print_preview.setWindowState(Qt::WindowMaximized);
    connect(&print_preview, SIGNAL(paintRequested(QPrinter*)), this, SLOT(paint_pages(QPrinter*)));
    print_preview.exec();
}

void MainWindow::paint_pages(QPrinter *printer){
    QList<QWebView*> pages;
    QWebView *current = 0;
    QPainter painter(printer);
    int i = 0;
    while(i <= 100){
        current = new QWebView();
        pages << current;
        i = populate_web(current, printer, i);
    }
    int pc = pages.count();
    for(i = 0; i < pc; i++){
        if(i != 0) printer->newPage();
        pages.at(i)->render(&painter);
    }
    for(i = 0; i < pc; i++)
        delete pages.at(i);
}

int MainWindow::populate_web(QWebView *pg, QPrinter *printer, int n){
    QString html = "<html><body>";
    html += "<table cellspacing=0 border = 1 style='border-collapse: collapse'>";
    int page_height = printer->paperRect(QPrinter::Point).height();
    for(++n; n <= 100; n++){
        html += QString("<tr><td width=200>%1</td><td width=200>%2</td><td width=300>%3</td></tr>").arg(n).arg(n*n).arg(n*n*n);
        QString html2 = html + "</table></body></html>";
        pg->setHtml(html2);
        int content_height = pg->page()->mainFrame()->contentsSize().height();
        if(content_height + 20 > page_height){
            html += "</table>";
            html += QString("<p>Current value: %1</p>").arg(n);
            break;
        }
    }
    if(n > 100) html += "</table>";
    html += "</body></html>";

    pg->setHtml(html);
    return n;
} 
```

所以，我希望得到整张纸上的表格，除了 10 毫米的边距。但不是它，我得到了一些奇怪的东西（[图片在这里](http://cs323419.vk.me/v323419008/77a2/aveo_YRqMC0.jpg)）；更重要的是 - 滚动条不会出现在第一页上，只是从第二页开始。我该怎么做才能用我的表格填充整个页面并从滚动条释放页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-05T07:04:59.297

After line:

```
html += "</body></html>"; 
```

Add this line:

```
pg->setFixedSize(QSize(printer->width(),printer->height())); 
```

# c# - 动态创建 imageButton Click 事件？不可调用的错误

> ID：15635709
> 
> 赞同：1
> 
> 时间：2013-03-26T11:17:14.613
> 
> 标签：c#, .net

我关注了这个类似的帖子。但是，它没有用，并且给了我一个错误。

[如何在动态按钮上创建动态按钮单击事件？](https://stackoverflow.com/questions/6187944/how-can-i-create-dynamic-button-click-event-on-dynamic-button)

错误是：“不可调用的成员 'System.Web.UI.WebControls.ImageButton.OnClientClick' 不能像方法一样使用。”

我正在尝试的代码是：

```
ImageButton appIcon2 = new ImageButton();
appIcon2.OnClientClick(){ } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:10:59.117

在客户端点击采用 javascript 功能，即`myImgButton.OnClientClick="return confirm('Are you sure?');";`

如果你想做“点击”功能就这样做

```
ImageButton appIcon2 = new ImageButton();
appIcon2.Click  += new System.Web.UI.ImageClickEventHandler(appIcon2_Click);

void appIcon2_Click(object sender, ImageClickEventArgs e)

    {

       // Your Code here

    } 
```

如果您想访问此图像按钮，您可以将发件人转换为图像按钮，如下所示

```
void appIcon2_Click(object sender, ImageClickEventArgs e)

    {

       ImageButton imgBtn= sender as ImageButton;
       string id= imgBtn.ID;

    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:20:17.050

`OnClientClick`接受一个字符串值，即它应该指向一个javascript代码块。

你可以这样做。

```
appIcon2.OnClientClick = "alert('s')"; 
```

或者

```
appIcon2.OnClientClick = "myMethod()"; 
```

html或页面`myMethod()`中定义的javascript函数在哪里？`head``body`

```
function myMethod(){
   alert('s');
} 
```

至于您发布的链接，它只是说明了如何直接将事件处理程序添加到按钮。IE

```
protected void Page_Load(object sender , EventArgs)
{
   ImageButton appIcon2 = new ImageButton();
   appIcon2.Click += new System.Web.UI.ImageClickEventHandler(btn_Click);
}

void btn_Click(object sender, System.Web.UI.ImageClickEventArgs e)
{
   //your logic
} 
```

请注意，这`Click`是一个[事件](http://msdn.microsoft.com/en-us/library/aa720049%28v=vs.71%29.aspx)。它与服务器端控件相关联

# c# - 带有 ref/out 参数的方法的异步版本的元组与自定义结构

> ID：15635710
> 
> 赞同：3
> 
> 时间：2013-03-26T11:17:15.323
> 
> 标签：c#, async-await, c#-5.0, out, ref

考虑一个具有*out*或*ref*参数的方法的 C# API，例如：

```
Person FindPerson(string name, out int searchTime); 
```

让我们不要注意 out 和 ref 参数通常是一种设计气味，假设这是一个遗留 API，我们无法更改其现有方法的签名。但我们需要扩展 API 以支持异步执行（Windows Phone、WinRT 应用程序）。这是一个无法编译的实现：

```
Task<Person> FindPersonAsync(string name, out int searchTime)
{
    return Task.Factory.StartNew(() => this.FindPersonAsync(name, out searchTime));
} 
```

*由于out*参数，此实现不会编译。所以我们必须更改 API 签名。一种方法是将结果从 task-of-person 更改为 task-of-tuple-of-person-and-int，即委托实现将返回 Person 和 int 的元组。第二种选择是定义自定义结构。

**元组优势**：使用元组提供了一种非常正式的方法，可用于轻松定义任何 API 的异步版本。可预测的实现（未定义新名称）。使用自定义结构需要为每个此类情况发明新的类型和成员。

**自定义结构的优势：使用元组的客户端代码需要使用***Item1*和*Item2*名称来引用 Tuple 元素。这是晦涩难懂的。

我没有找到任何建议，暂时决定使用元组。但我想知道在使用异步支持扩展 API 时是否有处理此类方法的推荐做法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-09T08:09:25.407

我不知道有关此事的任何最佳做法或建议；但从我自己的经验来看，这`Tuple`让代码变得丑陋且毫无意义——`Item1`当你看到代码时意味着什么？

我总是使用自定义类并遵守一些约定：

*   自定义类的名称以`Result`like结尾`FindPersonResult`。
*   将类设计为 POCO，在构造函数中没有特殊逻辑。当您使用系统的其他部分和其他 API（尤其是在序列化和反序列化时）时，这可以防止任何意外。
*   始终将集合字段/属性（数组、列表等）的初始值设置为不为空的空值。这在很多情况下也有帮助。

请记住，这些只是我在这件事上的个人经验，对我来说是无缝的。

# java - 自定义对象比较器

> ID：15635714
> 
> 赞同：2
> 
> 时间：2013-03-26T11:17:30.767
> 
> 标签：java, collections, treeset

我会尽量直截了当。

我有我的自定义节点对象，它具有成本属性。我想按属性 Cost 按升序对这些 Node 对象进行排序。

我可以`PriorityQueue<Node> = new PriorityQueue<Node>(10000, new NodeComparator());`使用 . 无论如何，如果我的构造函数看起来像这样`TreeSet<Node> = new TreeSet<Node>(new NodeComparator());`，程序似乎会跳过大量的 Node 对象，似乎将它们视为相同的对象。他们不是。我假设可能存在一些 hashCode 问题，但我不确定，目前我不知道如何解决它。

简而言之，我只希望 TreeSet 中的节点按成本属性升序排列。这是我的 NodeComparator 类：

```
public class NodeComparator implements Comparator<Node> {

    @Override
    public int compare(Node n1, Node n2) {
        // TODO Auto-generated method stub
        if(n1.cost > n2.cost) return 1;
        else if(n1.cost < n2.cost) return -1;
        else return 0;
    }

} 
```

这是我的节点类：

```
public class Node{

    public State state;
    public int cost;

    public Node(State s, int Cost){
        this.state = s;
        this.cost = Cost;
    }

    public State getState(){

        return this.state;
    }

    public int getCost(){
        return this.cost;
    }
} 
```

我也会为您提供我的州级课程。

```
public class State {

    public int lamp;

    public ArrayList<Integer> left;

    public State(ArrayList<Integer> Left, int Lamp){
        lamp = Lamp;
        left = Left;
    }

    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        result = prime * result + lamp;
        result = prime * result + ((left == null) ? 0 : left.hashCode());
        return result;
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj)
            return true;
        if (obj == null)
            return false;
        if (getClass() != obj.getClass())
            return false;
        State other = (State) obj;
        if (lamp != other.lamp)
            return false;
        if (left == null) {
            if (other.left != null)
                return false;
        } else if (!left.equals(other.left))
            return false;
        return true;
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T11:43:12.687

`TreeSet` [用于`TreeMap`](http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/TreeSet.java?av=f#140)[存储](http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/TreeSet.java?av=f#254)值。您的问题是`TreeMap`使用`equals` [比较器的结果](http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/TreeMap.java?av=f#528)来检查元素是否已经在地图中。因此，您需要在方法中包含`steate`字段状态，例如`compare`

```
@Override
public int compare(Node n1, Node n2) {
    // TODO Auto-generated method stub
    if(n1.cost > n2.cost) return 1;
    else if(n1.cost < n2.cost) return -1;
    else return ( n1.equals(n2)? 0 : 1);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:25:22.547

`Set`默认情况下**会消除重复项**。您需要在您的班级中覆盖您的`equals()`& 。`hashCode()``Node`

# oracle - 使用 xml 内容在 Dynamic Sql 中创建语句

> ID：15635716
> 
> 赞同：0
> 
> 时间：2013-03-26T11:17:35.920
> 
> 标签：oracle, plsql, oracle11g

我如何在动态 SQL 中编写查询，我收到下面给出的错误。

```
 EXECUTE IMMEDIATE 
 'CREATE TABLE SAMPLE
  SELECT EXTRACT (VALUE (d), '''//row/text()''').getstringval () 
  FROM (SELECT XMLTYPE (   '''<rows><row>'''
  || REPLACE ('''venkat,vijay,bylla,12''', ''',''', '''</row><row>''')
   || '''</row></rows>'''
    ) AS xmlval
     FROM DUAL) x,
   TABLE (XMLSEQUENCE (EXTRACT (x.xmlval, '''/rows/row'''))) d'; 
```

错误是：

```
Error(118,34): PLS-00103: Encountered the symbol "/" when expecting
one of the following:     ( - + case mod new null <an identifier>    
<a double-quoted delimited-identifier> <a bind variable> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:32:29.443

你的引号是错误的，你需要给列加上别名..例如：

```
SQL> begin
  2  EXECUTE IMMEDIATE
  3   'CREATE TABLE SAMPLE AS
  4    SELECT EXTRACT (VALUE (d), ''//row/text()'').getstringval () a
  5    FROM (SELECT XMLTYPE (   ''<rows><row>''
  6    || REPLACE (''venkat,vijay,bylla,12'', '','', ''</row><row>'')
  7     || ''</row></rows>''
  8      ) AS xmlval
  9       FROM DUAL) x,
 10     TABLE (XMLSEQUENCE (EXTRACT (x.xmlval, ''/rows/row''))) d';
 11  end;
 12  /

PL/SQL procedure successfully completed.

SQL> select * from sample;

A
--------------------------------------------------------------------------------
venkat
vijay
bylla
12 
```

但是你为什么要在 oracle 中动态创建表？如果您正在考虑在代码中动态创建表，这是一种不好的做法，在 oracle 中应避免使用（如果需要，请使用全局临时表）。

# visual-c++ - 当 shellexecute 命令在 MFC 中执行批处理文件时显示进度条

> ID：15635717
> 
> 赞同：2
> 
> 时间：2013-03-26T11:17:36.053
> 
> 标签：visual-c++, mfc, visual-studio-2005

我正在做的是通过 shellexecute 命令执行一个批处理文件，现在我想要的是显示一个进度条或只是一个状态为“进行中”并禁用对话框上的所有其他控件。我们如何在 MFC 中实现这一点。

目前我所做的只是使用**WaitForSingleObject(ShExecInfo.hProcess,INFINITE);** 在批处理文件完成之前，这显示我的应用程序处于挂起状态（实际上并非如此）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:24:04.600

您需要创建一个工作线程来管理批处理文件的执行，并在准备好后将消息发布到主 (GUI) 线程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T05:55:06.750

*   一旦用户启动操作 - 禁用所有控件（所有需要的控件）。并启动一个线程。
*   该线程将调用`ShellExecute`[ `Ex`] 或`CreateProcess`. 握住进程的把手，`WaitForSingleObject`随`INFINITE`时间调用。
*   一旦 WFSO 返回，通知窗口（对话框，表单 - 无论如何），该过程已经完成。

为了通知窗口*完成*，您可能必须定义一个自定义消息代码：

```
#define WM_PROCESS_FINISHED (WM_APP + 10) 
```

`WM_PROCESS_FINISHED`在消息循环或消息映射中写入条目。

从线程中，只需使用目标窗口的句柄和此消息代码调用`PostMessage`（或）：`SendMessage`

```
PostMessage(hTargetWnd, WM_PROCESS_FINISHED); 
```

# javascript - 在 jquery-photowall.js 上以相反顺序显示图像的最简单方法

> ID：15635721
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:17:57.330
> 
> 标签：javascript, jquery, html, css

我目前在我的一个项目中使用 jquery-photowall.js。它工作得很好，但它显示在照片墙底部上传的最新图像。有人可以推荐一种将最近上传的图像显示在照片墙顶部的方法吗？

照片墙可以在[这里](https://github.com/creotiv/jquery-photowall)。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:52:35.557

让图像以相反的顺序显示更改

`var photos = {}`至`var photos = []`

2.

```
 photos[id] = {id:id,img:bsrc,width:bw,height:bh,th {src:t1src,width:t1w,height:t1h,zoom_src:t2src,zoom_factor:1.5}}; 
```

至

```
photos.push( {id:id,img:bsrc,width:bw,height:bh,th:{src:t1src,width:t1w,height:t1h,zoom_src:t2src,zoom_factor:1.5}}); 
```

3. `PhotoWall.load(PhotosArray)`到`PhotoWall.load(PhotosArray.reverse())`

这是一个有效的[jsfiddle 示例](http://jsfiddle.net/opherv/k3B7s/)

# sql - 具有 2 个范围的 SQL 参考表

> ID：15635722
> 
> 赞同：0
> 
> 时间：2013-03-26T11:17:58.017
> 
> 标签：sql, design-patterns, search, reference

我有一个包含两个数字列的参考表，它们定义了一个范围，例如一个帐户的员工，对于每个员工范围，我得到一个公司规模：

```
employeeMin   employeeMax   Size
1             100           small
101           2000          medium
2001          10000         medium-large
10001         100000        large 
```

...等等

我需要在给定参数的情况下返回大小，比如 110 会返回“中等”，因为你看到第二列总是 = 第一列+1

所以我想知道用两列在上面的sql中实现它是否更好，或者我应该只使用employeeMax并且可能订购并返回第一条记录？我希望存在一种模式？也许自我加入或类似？我做了一些研究，但找不到...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-27T17:29:26.157

这一切都取决于您的目标，例如：

**可维护性**- 如果您不经常阅读或使用任何类型的优化（例如物化视图），请使用 1 列

```
employeeMax   Size
100           small
2000          medium
10000         medium-large
100000        large

select *
from accounts a
join (      
    select
        cs1.emploeeAbove,
        coalesce(min(cs2.emploeeAbove), 999999999) employeeMax,
        Size
    from company_sizes cs1
    left join company_sizes cs2
        on cs2.employeeAbove > cs1.employeeAbove
    group by cs1.employeeAbove, Size
) cs
    on a.emploees > cs.employeeAbove
    and a.employees <= cs.employeeMax 
```

**更快的连接**- 如果您有数百万条记录并且您不知道如何优化以前的方法，请使用 2 列设计

```
employeeAbove   employeeMax   Size
0               100           small
100             2000          medium
2000            10000         medium-large
10000           100000        large

select *
from accounts a
join company_sizes cs
    on a.emploees > cs.employeeAbove
    and a.employees <= cs.employeeMax 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T16:17:28.073

我建议仅使用该`employeeMin`列，然后删除`employeeMax`. 这样，对于您将来可能拥有的“x-large”尺寸，最大尺寸是开放的。

```
 SELECT Size FROM yourtable WHERE employeeMin <= 110 ORDER BY employeeMin DESC LIMIT 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-27T16:43:12.983

我肯定会使用一列，无论是最小值还是最大值。除其他外，这可确保您的范围之间没有任何差距。假设最大值，您的表格将如下所示：

```
employeeMax   Size
100           small
2000          medium
10000         medium-large
100000        large 
```

您获取实际范围的查询将类似于：

```
select 
     coalesce((select max(employeeMax) 
               from CompanySize b 
               where b.employeemax < a.employeemax),
              0) as employeeMin
     a.employeeMax, 
     a.size
from CompanySize 
```

如果您的数据库支持分析功能，您可以稍微简化一下：

```
select 
     coalesce(lag(employeeMax) over (order by employeemax asc),
              0) as employeeMin
     a.employeeMax, 
     a.size
from CompanySize 
```

# android - 更改微调器弹出窗口的背景，Android 4.0

> ID：15635724
> 
> 赞同：0
> 
> 时间：2013-03-26T11:18:09.457
> 
> 标签：android, background, spinner, customization

我想更改单击微调器后出现的弹出窗口的背景。我查看了论坛并查看了android源代码，但对我没有任何帮助，背景仍然是灰色的，因为它是默认的。到目前为止，我已经对单击操作栏的溢出时出现的弹出窗口进行了自定义，并且一切正常，但是我在使用此 Spinner 小部件时遇到了问题。到目前为止，我已经尝试过：

```
<style name="AppTheme.Dark" parent="@android:style/Theme.Holo">

<item name="android:spinnerStyle">@style/SpinnerDropDownItem</item>

</style>

    <style name="SpinnerDropDownItem" parent="@android:style/Widget.Spinner">
      <item name="android:popupBackground">@drawable/menu_dropdown_panel_actinonbarstyle</item>
  </style> 
```

以及我在源代码中搜索的其他组合。有人可以通过代码示例帮助我，我该怎么做，因为我真的被卡住了。我正在为 Android 4.0 及更高版本开发我的应用程序。谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T13:07:39.923

![在此处输入图像描述](../Images/de8bf851bbc2c98b13d2b00bf740f7bc.png)

我不确定这个答案，您可以接受或忽略它。

我认为通过主题更改无法实现此要求。因为 Spinner 构造函数仅在您在布局 xml 中编写时才在 popupBackground attr 上分配值，否则它将使用默认主题值。如下所示：

```
 <Spinner
    android:id="@+id/spinner1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:popupBackground="@android:color/holo_green_dark" /> 
```

我附上了微调器构造函数的源代码，所以你会得到更好的知识。

```
 /**
 * Construct a new spinner with the given context's theme, the supplied attribute set,
 * and default style. <code>mode</code> may be one of {@link #MODE_DIALOG} or
 * {@link #MODE_DROPDOWN} and determines how the user will select choices from the spinner.
 *
 * @param context The Context the view is running in, through which it can
 *        access the current theme, resources, etc.
 * @param attrs The attributes of the XML tag that is inflating the view.
 * @param defStyle The default style to apply to this view. If 0, no style
 *        will be applied (beyond what is included in the theme). This may
 *        either be an attribute resource, whose value will be retrieved
 *        from the current theme, or an explicit style resource.
 * @param mode Constant describing how the user will select choices from the spinner.
 * 
 * @see #MODE_DIALOG
 * @see #MODE_DROPDOWN
 */
public Spinner(Context context, AttributeSet attrs, int defStyle, int mode) {
    super(context, attrs, defStyle);

    TypedArray a = context.obtainStyledAttributes(attrs,
            com.android.internal.R.styleable.Spinner, defStyle, 0);

    if (mode == MODE_THEME) {
        mode = a.getInt(com.android.internal.R.styleable.Spinner_spinnerMode, MODE_DIALOG);
    }

    switch (mode) {
    case MODE_DIALOG: {
        mPopup = new DialogPopup();
        break;
    }

    case MODE_DROPDOWN: {
        DropdownPopup popup = new DropdownPopup(context, attrs, defStyle);

        mDropDownWidth = a.getLayoutDimension(
                com.android.internal.R.styleable.Spinner_dropDownWidth,
                ViewGroup.LayoutParams.WRAP_CONTENT);
        popup.setBackgroundDrawable(a.getDrawable(
                com.android.internal.R.styleable.Spinner_popupBackground));
        final int verticalOffset = a.getDimensionPixelOffset(
                com.android.internal.R.styleable.Spinner_dropDownVerticalOffset, 0);
        if (verticalOffset != 0) {
            popup.setVerticalOffset(verticalOffset);
        }

        final int horizontalOffset = a.getDimensionPixelOffset(
                com.android.internal.R.styleable.Spinner_dropDownHorizontalOffset, 0);
        if (horizontalOffset != 0) {
            popup.setHorizontalOffset(horizontalOffset);
        }

        mPopup = popup;
        break;
    }
    }

    mGravity = a.getInt(com.android.internal.R.styleable.Spinner_gravity, Gravity.CENTER);

    mPopup.setPromptText(a.getString(com.android.internal.R.styleable.Spinner_prompt));

    mDisableChildrenWhenDisabled = a.getBoolean(
            com.android.internal.R.styleable.Spinner_disableChildrenWhenDisabled, false);

    a.recycle();

    // Base constructor can call setAdapter before we initialize mPopup.
    // Finish setting things up if this happened.
    if (mTempAdapter != null) {
        mPopup.setAdapter(mTempAdapter);
        mTempAdapter = null;
    }
} 
```

# spring - 无法配置 CookieLocaleResolver 和 CookieThemeResolver

> ID：15635729
> 
> 赞同：0
> 
> 时间：2013-03-26T11:18:23.000
> 
> 标签：spring, spring-mvc, internationalization

我在我的 spring 项目中配置了基于 cookie 的主题解析器和语言环境解析器。本地化在以下配置下正常工作。

```
<mvc:interceptors>
        <ref bean="localeChangeInterceptor"/>
        <ref bean="themeChangeInterceptor" />
    </mvc:interceptors>

    <bean id="localeChangeInterceptor" class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor">
        <property name="paramName" value="language"/>
    </bean>

    <bean id="localeResolver" class="org.springframework.web.servlet.i18n.CookieLocaleResolver">
        <property name="defaultLocale" value="en"/>
        <property name="cookieName" value="locale"/>
        <property name="cookieMaxAge" value="86400"/>
    </bean>

    <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basenames">
            <list>
                <value>/WEB-INF/i18n/labels</value>
                <value>/WEB-INF/i18n/messages</value>
            </list>
        </property>
        <property name="defaultEncoding" value="UTF-8"/>
    </bean> 
```

我还使用以下配置配置了主题解析器。

```
<bean id="themeSource"
    class="org.springframework.ui.context.support.ResourceBundleThemeSource">
        <property name="basenamePrefix"  value="resources.theme-"/>
    </bean>

    <bean id="themeChangeInterceptor"
        class="org.springframework.web.servlet.theme.ThemeChangeInterceptor">
        <property name="paramName" value="theme" />
    </bean>

    <bean id="themeResolver"
        class="org.springframework.web.servlet.theme.CookieThemeResolver">
        <property name="defaultThemeName" value="orange" />
        <property name="cookieName" value="theme"/>
        <property name="cookieMaxAge" value="86400"/>
    </bean> 
```

在我的 JSP 中，我使用以下代码行来加载正确的 CSS。

```
<link href='${pageContext.servletContext.contextPath}<spring:theme code="css_theme_style"/>' rel="stylesheet" type="text/css"/> 
```

文件theme-orange的内容如下。

```
css_theme_style=/resources/template/template1/css/style.css 
```

而且我无法在 themeResolver bean 中加载默认主题设置为橙色的主题。当我请求我的主页时，它会尝试使用语言环境 en 查找主题文件。但据我说，它不应该使用语言环境加载主题的属性文件。

我收到以下异常。

```
org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspTagException: Theme 'orange': No message found under code 'css_theme_style' for locale 'en'.
    at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:549)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:455)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:690)
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:479)
    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:402)
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)
    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)
    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:264)
    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1208)
    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:992)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:939)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:915)
    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:811)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:796)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:690)
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:479)
    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:402)
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)
    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:457)
    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:328)
    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:419)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:191)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1001)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619) 
```

当我将配置更改为 SessionThemeResolver 时，一切正常。但我只想用 cookie 来做。

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-18T22:49:24.573

看起来您的 theme.properties 文件由于某种原因无法访问。尝试将您的 theme.properties 文件放入文件夹中，`/src/main/webapp/WEB-INF/classes`即如果您使用 Maven `src/main/resources`（在构建项目时它们将被复制到那里）。

# silverlight - 如何将 Silverlight PivotViewer 控件连接到 Analysis Services 多维数据集？

> ID：15635731
> 
> 赞同：1
> 
> 时间：2013-03-26T11:18:33.580
> 
> 标签：silverlight, ssas, pivotviewer

如何将[Silverlight PivotViewer 控件](http://msdn.microsoft.com/en-us/library/system.windows.controls.pivot.pivotviewer%28v=vs.95%29.aspx)连接到 Analysis Services 多维数据集？[根据http://msdn.microsoft.com/en-us/library/gg492140.aspx](http://msdn.microsoft.com/en-us/library/gg492140.aspx)上的说明，我有一个“http 泵”

这是一个示例泵（来自另一个供应商）[http://demos.telerik.com/olap/msmdpump.dll](http://demos.telerik.com/olap/msmdpump.dll)

# php - zend 验证消息不显示

> ID：15635736
> 
> 赞同：0
> 
> 时间：2013-03-26T11:18:49.787
> 
> 标签：php, zend-framework

下面的代码不显示验证消息，我应该在任何地方打印任何变量。请指教。

```
$username = new Zend_Form_Element_Text('username', array('autocomplete' => 'off'));
        $username->setLabel('Username')
                ->setDecorators($elementDecoration)
                ->setRequired(true)
                ->addFilter('StripTags')
                ->addFilter('StringTrim')
                ->addValidator('NotEmpty', true, array('messages'=>'Cannot be empty'));

$elementDecoration = array(

            'ViewHelper',
            'Description',
            'Errors',
            array(array('data'  => 'HtmlTag'), array('tag' => 'td')),
            array('Label', array('tag' => 'td', 'placement' => 'prepend')),
            array(array('row'   => 'HtmlTag'), array('tag' => 'tr')),
        ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:28:22.340

尝试这个

```
$username->setLabel('Username')
                ->setDecorators($elementDecoration)
                ->setRequired(true)
                ->addErrorMessage('Cannot be empty')
                ->addFilter('StripTags')
                ->addFilter('StringTrim'); 
```

确保使用的装饰器是正确的。

```
$element->setDecorators(array(
    'ViewHelper',
    'Description',
    'Errors',
    array(array('elementDiv' => 'HtmlTag'), array('tag' => 'div')),
    array(array('td' => 'HtmlTag'), array('tag' => 'td')),
    array('Label', array('tag' => 'td')),
)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:38:34.430

您想`setRequired`从元素中删除该功能。这个函数覆盖了`NotEmpty`验证器。由于您正在检查`NotEmpty`，您可以删除`setRequired`以显示您自己的消息。

# plsql - 存储计算折扣的代码的位置

> ID：15635738
> 
> 赞同：0
> 
> 时间：2013-03-26T11:19:04.257
> 
> 标签：plsql

理论上有人问过我这个问题：您想创建一个 PL/SQL 代码块来计算客户订单的折扣。此代码将从多个地方调用，但仅在程序单元 ORDERTOTAL 内调用。存储计算折扣的代码的最合适位置是什么。

我回答“程序单元 ORDERTOTAL 主体中的一段代码”。这是不正确的。正确的一个是“在程序单元 ORDERTOTAL 中定义的本地子程序”。为什么会这样？我认为这个 ORDERTOTAL 本身就是一个子程序（过程/函数），事实并非如此。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T15:02:25.147

“在程序单元 ORDERTOTAL 中定义的本地子程序”是正确的，因为问题是“将从多个地方调用此代码”。换句话说，我们有一个像

```
create function foo
  return number
is
  v_one number := 200;
  v_two number := 10;
begin

  v_one := some complex math operation;

  -- some other code

  v_two := the same complex math operation;

  -- etc..
end;
/ 
```

因此，为了节省重复该数学运算（这是您给出的解决方案..函数本身中的一段代码，根据需要重复），我们可以这样做：

```
create function foo
  return number
is
  v_one number := 200;
  v_two number := 10;

  function calc_math(p_var number)
    return number
  is
  begin
    return complex math operation;
  end calc_math;
begin

  v_one := calc_math(v_one);

  -- some other code

  v_two := calc_math(v_two);

  -- etc..
end;
/ 
```

从而避免代码重复。

# php - 如何在 Symfony2 项目中正确集成 3rd 方库

> ID：15635739
> 
> 赞同：2
> 
> 时间：2013-03-26T11:19:05.160
> 
> 标签：php, symfony, symfony-2.1, symfony-2.2

我正在开发一个 Symfony 2.2 项目，我需要将视频上传到 Vimeo。我正在通过[Vimeo.php（Vimeo 的官方库）使用高级 Vimeo API](https://github.com/vimeo/vimeo-php-lib)

我设法将命名空间添加到库中，并将其添加到包中的实体文件夹中，因为这是项目检测库的唯一方式。

```
<?php
**namespace MediaBundle\Entity;**

use Symfony\Component\Security\Core\Exception\InvalidCsrfTokenException as Exception;

class Vimeo
{
    .... Vimeo.php Code ....
}
?> 
```

我正在尝试找到一种更好的方法来将此库集成到我的代码中。我试图放置在 vendor/vimeo 文件夹中并从 app/autoload.php 自动加载它

**没有命名空间：**

```
$loader->registerPrefixes(array(
    'Vimeo_' => __DIR__.'/../vendor/vimeo/lib',
)); 
```

**使用命名空间：**

```
$loader->registerNamespaces(array(
    'Vimeo' => __DIR__.'/../vendor/vimeo/lib',
)); 
```

控制器中仍然无法识别该类。

为了自动化我尝试使用作曲家包[dukt/vimeo](https://github.com/dukt/vimeo)的过程，它基本上是同一个库，只是包装到作曲家中。它将它放在 autoload_namespaces.php 中，但我仍然无法在任何控制器中使用它。总是找不到。

也许我没有提出正确的使用声明。autoload_namespaces.php 代码是：

```
'Dukt\\Vimeo' => $vendorDir . '/dukt/vimeo/src/', 
```

有一个 Vimeo.php`/dukt/vimeo/src`类`namespace Dukt;`。我在控制器中的使用语句应该是什么？

请让我知道将 3rd 方库集成到我的 Symfony2 项目中的最佳方式是什么。我将继续通过实体使用它，但我遇到了一些错误，我认为由于回调路径错误，API 无法从实体正常工作。不过我可能是错的。尽管如此，我还是想正确地包含它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:21:29.810

通过 Composer安装[wrapper 包。](https://packagist.org/packages/dukt/vimeo)它将处理所有自动加载的东西。

# iphone - 将用户数据传输到我服务器上的 .csv 文件

> ID：15635740
> 
> 赞同：0
> 
> 时间：2013-03-26T11:19:07.660
> 
> 标签：iphone, xcode, ipad, csv

我喜欢将用户统计信息添加到我的应用程序中。我喜欢将 iOS 版本和 iDevice 模型传输到我服务器上的 .csv 文件。我知道如何获取 iOS 版本和型号名称，但不知道如何将数据写入 .csv 文件

获取 iOS 版本：`[UIDevice currentDevice]. systemVersion;`

获取模型名称：`[UIDevice currentDevice]. model;`

有谁知道如何将 iOS 系统版本写入 csv 文件，如下所示：

苹果手机，6.1

iPad，5.1

iPod，4.3

这是我现在使用的代码，但字符串未写入 .csv 文件：

```
NSString *userinfopath = @"http://idoodler.de/userdata.csv";

    NSURL *userinfo = [NSURL URLWithString:userinfopath];

    if (![[NSFileManager defaultManager] fileExistsAtPath:userinfopath]) {
        [[NSFileManager defaultManager] createFileAtPath: userinfopath contents:nil attributes:nil];
        NSLog(@"Route creato");
    }

    NSMutableString *writeString = [NSMutableString stringWithFormat:@"%@ ,%@",[UIDevice currentDevice]. model,[UIDevice currentDevice]. systemVersion];

    NSLog(@"writeString :%@",writeString);

    NSFileHandle *handle;
    handle = [NSFileHandle fileHandleForWritingAtPath: userinfopath ];
    //say to handle where's the file fo write
    [handle truncateFileAtOffset:[handle seekToEndOfFile]];
    //position handle cursor to the end of file
    [handle writeData:[writeString dataUsingEncoding:NSUTF8StringEncoding]]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:28:03.053

使用此代码

```
- (IBAction)saveAsFileAction:(id)sender {

    if (![[NSFileManager defaultManager] fileExistsAtPath:[self dataFilePath]]) {
        [[NSFileManager defaultManager] createFileAtPath: [self dataFilePath] contents:nil attributes:nil];
        NSLog(@"Route creato");
    }

    NSMutableString *writeString = [NSMutableString stringWithFormat:@"%@ ,%@",[UIDevice currentDevice]. model,[UIDevice currentDevice]. systemVersion]; 

    NSLog(@"writeString :%@",writeString);

    NSFileHandle *handle;
    handle = [NSFileHandle fileHandleForWritingAtPath: [self dataFilePath] ];
    //say to handle where's the file fo write
    [handle truncateFileAtOffset:[handle seekToEndOfFile]];
    //position handle cursor to the end of file
    [handle writeData:[writeString dataUsingEncoding:NSUTF8StringEncoding]];

} 
```

# android - 如何检测歌曲播放完成？

> ID：15635746
> 
> 赞同：3
> 
> 时间：2013-03-26T11:19:23.910
> 
> 标签：android, audio, audio-player, android-music-player

我正在使用以下代码在 Media Player 的帮助下播放歌曲，

```
mediaPlayer = new MediaPlayer();
mediaPlayer.setDataSource( "sound_file_filepath" );
mediaPlayer.prepareAsync();
mediaPlayer.setOnPreparedListener(new OnPreparedListener() 
{
    @Override
    public void onPrepared(MediaPlayer mp) 
    {
        mediaPlayer.start();
    }
}); 
```

现在我的 .xml 文件中有一个切换类型的图像，它首先显示一个播放图像。单击/触摸播放图像后，它将开始播放歌曲并用停止图像替换图像。

现在我的问题是我怎么知道我的声音已经播放完了？我非常了解 isPlaying() 方法，如果歌曲正在运行，则返回 true，否则返回 false。但是我应该何时何地检查此条件以再次显示播放图像？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-26T11:21:25.867

我相信这样的事情会有所帮助，

```
mediaPlayer.setOnCompletionListener(this);
// When song is ended then media player automatically called onCompletion method.
    public void onCompletion(MediaPlayer arg0) 
{
    // Write your code
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-26T13:59:33.767

使用以下代码语法 -

```
Audio_object=document.getElementById('audio_tag_id');
if(Audio_object.currentTime==Audio_object.duration)
//the audio object has completely played. 
```

`audio_tag_id`是 - 元素的 id `<audio>`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:22:21.613

像 OnPrepared 侦听器一样，您有 OnCompletion 侦听器，如下所示

```
mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {

        @Override
        public void onCompletion(MediaPlayer mp) {
            // TODO Auto-generated method stub

        }
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T11:25:32.310

检查这个：

```
mediaPlayer.setOnCompletionListener(new OnCompletionListener() {
    public void onCompletion(MediaPlayer mp) {
        Log.i("Completion Listener","Song Complete");
    }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-31T12:41:06.283

```
MediaPlayer mp = new MediaPlayer();

mp.setOnCompletionListener(new OnCompletionListener() {     
    @Override
    public void onCompletion(MediaPlayer mp) {
        //Do the work after completion of audio
    }
}); 
```

# javascript - 使用 javascript 发布到用户社交流、LinkedIn API

> ID：15635747
> 
> 赞同：0
> 
> 时间：2013-03-26T11:19:31.193
> 
> 标签：javascript, json, cordova, post, linkedin

我正在尝试向 LinkedIn Share API 发送 POST 请求以发布到用户的社交流。我已经拥有用户发布到他/她帐户的权限。

我想知道如何构建对这个 URL 的 POST 请求：

[http://api.linkedin.com/v1/people/~/shares](http://api.linkedin.com/v1/people/~/shares)

我需要发布什么值？如何发布用户的验证码？

我将用户的身份验证代码保存为本地存储变量。我的应用程序包含在 Phonegap iOS 应用程序中。

谢谢你的帮助！

如果您需要我澄清任何事情，请告诉我。这是[LinkedIn 文档](https://developer.linkedin.com/documents/share-api)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-07T10:27:50.470

你可以试试这个： [https ://developer.linkedin.com/documents/share-linkedin](https://developer.linkedin.com/documents/share-linkedin)

我试过[如何在PhoneGap的LinkedIn墙上分享短信？](https://stackoverflow.com/questions/14598851/how-to-share-text-message-in-linkedin-wall-in-phonegap)但没有成功。

# c# - 实体框架代码优先表层次结构

> ID：15635755
> 
> 赞同：1
> 
> 时间：2013-03-26T11:19:58.323
> 
> 标签：c#, entity-framework, code-first

在我们的数据库中，我们有名为 LookUps 的表（通用，没有名为 lookups 的表）- 1\. MaritalStaus(LookUpId, description)。2\. TypeOfRelations(LookUpid, description) 3\. Title (LookUpid, description)

为这种表定义模型的最佳方法是什么。我在想，如果我创建一个通用类

```
public class LookUp<T>
{
//where T is one of lookup kind
}

public class MaritalStatus : LookUp
{
 // no field
} 
```

// 标题和关系类型相同。

但我很困惑如何将它们放在一起 1\. 我是否必须将所有类型与表等匹配以进行配置？2\. Generic lookup 数据库中没有表？欢迎任何好的教程或建议。谢谢， 达尔吉特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:49:39.977

我想你在混合一些概念。我相信您打算仅使用以下方案中的一个类来访问您的查找表：

```
var maritalStatus = new Lookup<MaritalStatus>();
var typeOfRelations = new Lookup<TypeOfRelations>(); 
```

然后让 EF 弄清楚如何使用泛型`Lookup<T>`类处理从数据库读取数据和从数据库写入数据的问题。这种方法对于 EF 是不可能的，因为不`DbSet<T>`存在泛型类型，因为 EF 不会事先知道要从哪些表中读取和写入（T 可以是任何东西）。

解决此问题的一种方法是在 EF 上使用 Table per Type 继承。如果您可以更改数据库架构，那么您可以创建一个父 LookUp 表并让其他 LookUps 都从父级下降，那么您可以使用 EF 的 Table per Type 功能并`.OfType<T>`在查询期间调用扩展方法。

查看 Morteza Manavi 的文章，了解如何做到这一点： [http ://weblogs.asp.net/manavi/archive/2010/12/28/inheritance-mapping-strategies-with-entity-framework-code- first-ctp5-part-2-table-per-type-tpt.aspx](http://weblogs.asp.net/manavi/archive/2010/12/28/inheritance-mapping-strategies-with-entity-framework-code-first-ctp5-part-2-table-per-type-tpt.aspx)

如果您无法更改数据库架构，那么您可以使用 Table per Concrete class 方法，该方法无需父类的具体表即可通过，在 Morteza Manavi 的文章中也有描述：http: [//weblogs.asp.net/manavi /archive/2011/01/03/inheritance-mapping-strategies-with-entity-framework-code-first-ctp5-part-3-table-per-concrete-type-tpc-and-choosing-strategy-guidelines.aspx](http://weblogs.asp.net/manavi/archive/2011/01/03/inheritance-mapping-strategies-with-entity-framework-code-first-ctp5-part-3-table-per-concrete-type-tpc-and-choosing-strategy-guidelines.aspx)

祝你好运。

# metadata - 如何使用 WebAPI 检索链接到给定页面的维基百科页面列表？

> ID：15635769
> 
> 赞同：0
> 
> 时间：2013-03-26T11:20:41.293
> 
> 标签：metadata, wikipedia-api

我正在尝试检索链接到给定维基百科页面的页面列表。谁能建议如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-17T21:04:32.660

[https://en.wikipedia.org/w/api.php?action=query&list=backlinks&bltitle=Main%20Page&bllimit=5&blfilterredir=redirects](https://en.wikipedia.org/w/api.php?action=query&list=backlinks&bltitle=Main%20Page&bllimit=5&blfilterredir=redirects)等。请参阅[https://www.mediawiki.org/wiki/API:Backlinks](https://www.mediawiki.org/wiki/API:Backlinks)以获取完整信息文档。

# c# - 更新数据网格

> ID：15635774
> 
> 赞同：0
> 
> 时间：2013-03-26T11:20:55.507
> 
> 标签：c#, wpf, binding, observablecollection

我有一个`DataGrid`，它从一个`ObservableCollection`.

我的`ObservableCollection`：

```
public ObservableCollection<CodeElement> _codeElementList;
public ObservableCollection<CodeElement> codeElementList
{
    get { return _codeElementList; }
    set
    {
        if (value != _codeElementList)
        {
            _codeElementList = value;
            OnPropertyChanged("codeElementList");
        }
    }
} 
```

我也测试`ObservableCollection`过：

```
public ObservableCollection<CodeElement> codeElementList { get; set; } 
```

分配

```
 public MainWindow()
        {
            InitializeComponent();

            codeElementList = DBAnbindung.LoadCodeList();

            dtGCode.ItemsSource = codeElementList;
        } 
```

`ObservableCollection`从`database`. _ 当我启动程序时，我可以看到所有条目。现在我选择一个`codeElement`并删除它。中`codeElement`删除了，`database`但我`DataGrid`的是空的。

```
 CodeElement code = dtGCode.SelectedItem as CodeElement;
            DBAnbindung.DeleteCode(code);
            codeElementList.Clear();
            codeElementList = DBAnbindung.LoadCodeList(); 
```

我究竟做错了什么？如果你想看看我是如何加载的`data`，`ObservableCollection`告诉谦虚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:24:24.913

嗨尝试添加而不是分配新列表

```
codeElementList.AddRange(DBAnbindung.LoadCodeList()); 
```

**或者**

```
foreach(var item in DBAnbindung.LoadCodeList())
     codeElementList.Add(item); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:30:06.327

问题出在这一行

```
 codeElementList = DBAnbindung.LoadCodeList(); 
```

您正在`ObservableCollection`为`codeElementList`so 分配另一个，`dtGCode.ItemsSource`并且 new`codeElementList`不会指向内存中的同一个对象。然后，当您对`codeElementList`实际进行更改时，您并没有更改 `dtGCode.ItemsSource`.

# vba - 如何将数字（0 到 10000）编码为 5 个字母的唯一单词？

> ID：15635780
> 
> 赞同：0
> 
> 时间：2013-03-26T11:21:16.500
> 
> 标签：vba, character-encoding, uniqueidentifier

我需要知道如何用 5 个字母的单词对数字进行编码；

**从编码字母中不应该知道序列；**

我将 VBA 用于 Excel。

例如

*   1 => AOPASE
*   2 => AOWPQL
*   第839章

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:40:03.763

您可以为此目的实现哈希函数：

[http://www.cs.auckland.ac.nz/~jmor159/PLDS210/hash_func.html](http://www.cs.auckland.ac.nz/~jmor159/PLDS210/hash_func.html)

# android - 从资产文件夹中读取图像文件

> ID：15635782
> 
> 赞同：1
> 
> 时间：2013-03-26T11:21:20.357
> 
> 标签：android, android-widget

我的资产文件夹中有一张图片（welcome_image.jpg）。并使用此代码从资产中读取。

```
Bitmap bit = null;
String url = "/assets/welcome_image.jpg";
bit = BitmapFactory.decodeFile(url); 
```

但位为空并抛出错误

```
03-26 16:42:15.303: D/Image exisits....(21547): Image url : /assets/welcome_image.jpg
03-26 16:44:39.853: E/BitmapFactory(21547): Unable to decode stream: java.io.FileNotFoundException: /assets/welcome_image.jpg: open failed: ENOENT (No such file or directory) 
```

请告诉我如何实现这一目标。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:24:22.027

您可以使用它的方法`AssetManager`来获取，然后使用方法来获取位图。`InputStream``open()``decodeStream()``BitmapFactory`

```
private Bitmap getBitmapFromAsset(String strName)
{
    AssetManager assetManager = getAssets();
    InputStream istr = null;
    try {
        istr = assetManager.open(strName);
    } catch (IOException e) {
        e.printStackTrace();
    }
    Bitmap bitmap = BitmapFactory.decodeStream(istr);
    return bitmap;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:24:30.400

检查此代码

```
AssetManager assetManager = getAssets();
            InputStream istr;
            try {
                istr = assetManager.open("ceo.jpg");
                Bitmap bitmap = BitmapFactory.decodeStream(istr);
                imageView.setImageBitmap(bitmap);
                istr.close();
            } catch (IOException e) {
                e.printStackTrace();
            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:24:38.603

尝试如下：

> ```
>  InputStream bitmap=null;
>   try {
>       bitmap=getAssets().open("welcome_image.jpg");
>      Bitmap bit=BitmapFactory.decodeStream(bitmap);
>     img.setImageBitmap(bit);
>   } catch (IOException e) {
>       e.printStackTrace();
> } finally {
>    if(bitmap!=null)
>     bitmap.close();
>   } 
> ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T11:24:54.497

尝试这个：

```
 InputStream bitmap=null;

  try {
bitmap=getAssets().open("welcome_image.jpg");
Bitmap bit=BitmapFactory.decodeStream(bitmap);
img.setImageBitmap(bit);
} catch (IOException e) {
e.printStackTrace();
 } finally {
if(bitmap!=null)
bitmap.close();
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-26T11:23:06.083

您应该使用以下路径：

```
Bitmap bit = null;
bit = BitmapFactory.decodeFile("file:///android_asset/welcome_image.jpg"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-26T11:26:36.863

```
AssetManager assetManager = getAssets();

    InputStream istr = assetManager.open(fileName);
    Bitmap bitmap = BitmapFactory.decodeStream(istr); 
```

# jquery - 紧凑的悬停功能

> ID：15635786
> 
> 赞同：0
> 
> 时间：2013-03-26T11:21:29.293
> 
> 标签：jquery

我有一堆做同样的悬停功能

```
$('#101').mouseover(function () {
        $('#p1_101').stop().animate({"fill-opacity": 1}, 200);
    }).mouseout(function () {
        $('#p1_101').stop().animate({"fill-opacity": .7}, 200);
});
$('#102').mouseover(function () {
        $('#p1_102').stop().animate({"fill-opacity": 1}, 200);
    }).mouseout(function () {
        $('#p1_102').stop().animate({"fill-opacity": .7}, 200);
});
$('#103').mouseover(function () {
        $('#p1_103').stop().animate({"fill-opacity": 1}, 200);
    }).mouseout(function () {
        $('#p1_103').stop().animate({"fill-opacity": .7}, 200);
}); 
```

如何在一个函数中写这个？？

html

thwre 是一个带有 , , ... 的表。

和 svg 路径有 , , 并且每个都不同，这里不可能展示出来

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:09:55.197

如果如您显示的代码中所示，要设置动画的元素的 id 总是`"p1_"`加上被悬停的元素的 id，那么您可以将相同的函数绑定到所有元素，然后只获取当前元素的 id通过`this.id`在函数中使用悬停元素：

```
$('#101,#102,#103').mouseover(function () {
        $('#p1_' + this.id).stop().animate({"fill-opacity": 1}, 200);
    }).mouseout(function () {
        $('#p1_' + this.id).stop().animate({"fill-opacity": .7}, 200);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:29:23.007

像这样怎么样：

```
 function myFunction(var str){
    $('#'+str).mouseover(function () {
      $('#p1_'+str).stop().animate({"fill-opacity": 1}, 200);
    }).mouseout(function () {
      $('#p1_'+str).stop().animate({"fill-opacity": .7}, 200);
    });
  }

  myFunction('101');
  myFunction('102');
  myFunction('103'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:31:00.413

```
$.each([1, 2, 3], function (index, value) {
    $('#10' + value).hover(
    function () {
        $('#p1_10' + value).stop().animate({"fill-opacity": 1}, 200);
    },
    function () {
        $('#p1_10' + value).stop().animate({"fill-opacity": .7}, 200);
    });
}); 
```

**更新**

```
$.each(['01', '02', '03'], function (index, value) {
    $('#1' + value).hover(
    function () {
        $('#p1_1' + value).stop().animate({"fill-opacity": 1}, 200);
    },
    function () {
        $('#p1_1' + value).stop().animate({"fill-opacity": .7}, 200);
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T11:34:38.403

我将对标记和 javascript 进行一些调整

HTML（基于给定案例的示例）

```
<div class="my-el" pel="#p1_101">101</div>
<p id="p1_101">p1</p>

<div class="my-el" pel="#p1_102">102</div>
<p id="p1_102">p2</p>

<div class="my-el" pel="#p1_103">103</div>
<p id="p1_103">p3</p>

<div class="my-el" pel="#p1_104">104</div>
<p id="p1_104">p4</p> 
```

脚本

```
$(function(){
    $('.my-el').mouseover(function () {
        $($(this).attr('pel')).stop().animate({"fill-opacity": 1}, 200);
    }).mouseout(function () {
        $($(this).attr('pel')).stop().animate({"fill-opacity": .7}, 200);
    });
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/t697L/)

# django - 如何在Django中计算数据库表中的行数

> ID：15635790
> 
> 赞同：24
> 
> 时间：2013-03-26T11:21:43.697
> 
> 标签：django, django-models, django-database

我有由 Django 模型创建的数据库，其中和`status`是表的字段。`id``username``Messages`

我需要计算`status value= 0`特定`username`.

这是我不完整的代码：

```
Message_me = Messages.objects.get(username='myname') 
```

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-03-26T11:25:12.920

试试这个代码：

```
Message_me = Messages.objects.filter(username='myname', status=0).count() 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-26T11:31:55.177

根据您的要求，您可以使用 Python`len()`或在任何查询集上使用该方法。`count()`另请注意， using`len()`将评估查询集，因此使用提供的`count()`方法总是可行的。

它可以按如下方式使用：

```
message_count = models.Messages.objects.filter(username='username', status=0).count() 
```

或者，（如果您不担心性能）您也可以使用`len()`：

```
message_count = len(models.Messages.objects.filter(username='username', status=0)) 
```

您还应该阅读[QuerySet API 文档](https://docs.djangoproject.com/en/dev/ref/models/querysets/)以获取更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-13T12:57:02.873

要计算您的数量，可以使用模型

```
// In models.py
class A(models.Model):
    name = models.CharField(max_length=200)

// In views.py
from .models import A
def index(View):
    c = A.objects.filter(username='myname', status=0).count()
    print c // This will give you the count of the rows 
```

# javascript - Nodejs MySQL连接查询返回值到函数调用

> ID：15635791
> 
> 赞同：2
> 
> 时间：2013-03-26T11:21:49.473
> 
> 标签：javascript, mysql, node.js

我正在尝试从数据库中获取价值。通过演示示例进行尝试。但我在同步调用时遇到问题，尝试使用回调函数。我是 node.js 的初学者，所以不知道这是否正确。

文件 1：app.js

```
var data;

var db = require('./db.js');

var query = 'SELECT 1 + 1 AS solution';

var r = db.demo(query, function(result) { data = result; });

console.log( 'Data : ' + data); 
```

文件 2：db.js

```
var mysql      = require('./node_modules/mysql');

var connection = mysql.createConnection({
    host     : 'localhost',
    user     : 'root',
    password : 'root',
});

module.exports.demo = function(queryString, callback) {
    try {
        connection.connect();
        console.log('Step 1');

        connection.query(queryString, function(err, rows, fields) {
            console.log('Step 2');
            if (err) {
                console.log("ERROR : " + err);
            }
            console.log('The solution is: ', rows[0].solution);

            callback(rows[0].solution);

            return rows[0].solution;
        });
        callback();

        connection.end();
        console.log('Step 3');
    }
    catch(ex) {
        console.log("EXCEPTION : " + ex);
    }
}; 
```

输出 ：

```
Step 1
Step 3
Data : undefined
Step 2
The solution is:  2 
```

也提到了这个问题，但它没有解决我的问题： [nodeJS return value from callback](https://stackoverflow.com/questions/9651046/nodejs-return-value-from-callback)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:41:23.760

问题是这样的：

```
var r = db.demo(query, function(result) { data = result; });

console.log( 'Data : ' + data); 
```

将`console.log`在回调函数被调用之前运行，因为`db.demo`它是异步的，这意味着它可能需要一些时间才能完成，但下一行代码`console.log`将一直执行。

如果要访问结果，需要等待回调函数被调用：

```
var r = db.demo(query, function(result) { 
  console.log( 'Data : ' + result);
}); 
```

这就是大多数处理 I/O 的代码在 Node 中的运行方式，因此了解它很重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-30T15:57:53.793

这是我的解决方案

在文件 db.js 中

```
 require('dotenv').config();
const mysql = require('mysql');

const con = mysql.createConnection({
  user: process.env.SQL_USER,
  host: process.env.SQL_HOST,
  database: process.env.SQL_DB,
  password: process.env.SQL_PSWD,
  port: 3306,
});

async function connect() {
  try {
    await con.connect();
    console.log("Connected to MySql!");
  } catch (err) {
    console.log(err);
  }
}

module.exports = { connect }; 
```

然后在另一个文件 index.js

```
const db = require("./data/db");

db.connect(); 
```

# css - CSS 列在顶部未对齐

> ID：15635794
> 
> 赞同：3
> 
> 时间：2013-03-26T11:21:59.103
> 
> 标签：css

我注意到 Google Chrome 和 IE 10 中的 CSS 列并不总是在顶部统一对齐。

![在此处输入图像描述](../Images/6ce86c6174e3d9fd2f2adb901bb1690c.png)

页面来源是

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Test Headings in CSS Columns</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
    <style type="text/css">
      #container {
        column-count: 2;
        -moz-column-count: 2;
        -webkit-column-count: 2;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <h2>Lorem</h2>
      <p>
        ipsum dolor sit amet, consectetuer adipiscing elit, sed diam
        nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam
        erat volutpat. Ut wisi enim ad minim veniam, quis nostrud
        exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex
        ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit
        in vulputate velit esse molestie consequat, vel illum dolore eu
        feugiat nulla facilisis at vero eros et accumsan et iusto odio
        dignissim qui blandit praesent luptatum zzril delenit augue duis
        dolore te feugait nulla facilisi. Nam liber tempor cum soluta
        nobis eleifend option congue nihil imperdiet doming id quod
        mazim placerat facer possim assum. Typi non habent claritatem
        insitam; est usus legentis in iis qui facit eorum claritatem.
        Investigationes demonstraverunt lectores legere me lius quod
        ii legunt saepius. Claritas est etiam processus dynamicus, qui
        sequitur mutationem consuetudium lectorum. Mirum est notare
        quam littera gothica, quam nunc putamus parum claram,
        anteposuerit litterarum formas humanitatis per seacula quarta
        decima et quinta decima. Eodem modo typi, qui nunc nobis
        videntur parum clari, fiant sollemnes in futurum.
      </p>
      <h2>Sed ut</h2>
      <p>
        perspiciatis, unde omnis iste natus error sit voluptatem
        accusantium doloremque laudantium, totam rem aperiam eaque ipsa,
        quae ab illo inventore veritatis et quasi architecto beatae
        vitae dicta sunt, explicabo. Nemo enim ipsam voluptatem, quia
        voluptas sit, aspernatur aut odit aut fugit, sed quia consequuntur
        magni dolores eos, qui ratione voluptatem sequi nesciunt,
        neque porro quisquam est, qui dolorem ipsum, quia dolor sit
        amet, consectetur, adipisci[ng] velit, sed quia non numquam [do]
        eius modi tempora inci[di]dunt, ut labore et dolore magnam
        aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum
        exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid
        ex ea commodi consequatur? Quis autem vel eum iure reprehenderit,
        qui in ea voluptate velit esse, quam nihil molestiae consequatur,
        vel illum, qui dolorem eum fugiat, quo voluptas nulla pariatur?
        At vero eos et accusamus et iusto odio dignissimos ducimus,
        qui blanditiis praesentium voluptatum deleniti atque corrupti,
        quos dolores et quas molestias excepturi sint, obcaecati cupiditate
        non provident, similique sunt in culpa, qui officia deserunt
        mollitia animi, id est laborum et dolorum fuga. Et harum quidem
      </p>
    </div>
  </body>
</html> 
```

如果删除 h2 元素并合并段落，则列顶部的错位仍然存在。

这种错位是否有充分的理由，还是 CSS 实现中的错误/故障？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:35:10.867

应用这个 CSS

```
 h2
{
    margin:0;
} 
```

所以基本上你需要重置你的`h2`标签

工作[密码笔](http://codepen.io/manishmishra256/pen/pjsKu)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:25:28.930

`</p>`将 a 添加到第二列是否有帮助

```
 <div id="container">
      <h2>Lorem</h2>
      <p>
        ipsum dolor sit amet, consectetuer adipiscing elit, sed diam
        nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam
        erat volutpat. Ut wisi enim ad minim veniam, quis nostrud
        exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex
        ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit
        in vulputate velit esse molestie consequat, vel illum dolore eu
        feugiat nulla facilisis at vero eros et accumsan et iusto odio
        dignissim qui blandit praesent luptatum zzril delenit augue duis
        dolore te feugait nulla facilisi. Nam liber tempor cum soluta
        nobis eleifend option congue nihil imperdiet doming id quod
        mazim placerat facer possim assum. Typi non habent claritatem
        insitam; est usus legentis in iis qui facit eorum claritatem.
        Investigationes demonstraverunt lectores legere me lius quod
        ii legunt saepius. Claritas est etiam processus dynamicus, qui
        sequitur mutationem consuetudium lectorum. Mirum est notare
        quam littera gothica, quam nunc putamus parum claram,
        anteposuerit litterarum formas humanitatis per seacula quarta
        decima et quinta decima. Eodem modo typi, qui nunc nobis
        videntur parum clari, fiant sollemnes in futurum.
      </p>
      <h2>Sed ut</h2>
      <p>
        perspiciatis, unde omnis iste natus error sit voluptatem
        accusantium doloremque laudantium, totam rem aperiam eaque ipsa,
        quae ab illo inventore veritatis et quasi architecto beatae
        vitae dicta sunt, explicabo. Nemo enim ipsam voluptatem, quia
        voluptas sit, aspernatur aut odit aut fugit, sed quia consequuntur
        magni dolores eos, qui ratione voluptatem sequi nesciunt,
        neque porro quisquam est, qui dolorem ipsum, quia dolor sit
        amet, consectetur, adipisci[ng] velit, sed quia non numquam [do]
        eius modi tempora inci[di]dunt, ut labore et dolore magnam
        aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum
        exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid
        ex ea commodi consequatur? Quis autem vel eum iure reprehenderit,
        qui in ea voluptate velit esse, quam nihil molestiae consequatur,
        vel illum, qui dolorem eum fugiat, quo voluptas nulla pariatur?
        At vero eos et accusamus et iusto odio dignissimos ducimus,
        qui blanditiis praesentium voluptatum deleniti atque corrupti,
        quos dolores et quas molestias excepturi sint, obcaecati cupiditate
        non provident, similique sunt in culpa, qui officia deserunt
        mollitia animi, id est laborum et dolorum fuga. Et harum quidem
      </p>
    </div>
  </body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:38:35.567

尝试这个

```
 <h2 style="margin:0;">Lorem</h2> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-03T22:07:55.763

我相信这是一个错误。CSS 列在不同的浏览器中有很多问题。

[http://zomigi.com/blog/deal-breaker-problems-with-css3-multi-columns/](http://zomigi.com/blog/deal-breaker-problems-with-css3-multi-columns/)

对我来说，我发现在容器底部添加填充可以解决问题。我做了添加`padding-bottom: 0.02px`似乎解决了 Chrome 中的问题。

# jsf - 如何在 JSF url 中转义/避免 & 符号

> ID：15635796
> 
> 赞同：3
> 
> 时间：2013-03-26T11:22:12.460
> 
> 标签：jsf, url, special-characters, html-escape-characters

我`window.open(url,"selectWindow","status=no,width=610,height=480,scrollbars=no")`在 JSF 中使用。网址看起来像这样：

```
/abcxyz.jsf?param1=value1&amp;param2=value2 
```

这将显示在弹出窗口中，如：

```
/abcxyz.jsf?param1=value1&param2=value2 
```

问题是，这`value2`是一个字符串，其中有一个`&`。说，`value2 = ab&12`。我如何确保`value2`读取为`ab&12`并且不会`ab`因为`&`符号而中断？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:41:39.497

您需要对其进行[URL 编码](http://en.wikipedia.org/wiki/Percent-encoding)。在普通的Java中，那将是

```
String encodedValue2 = URLEncoder.encode(value2, "UTF-8"); 
```

`&`应该这样变成`%26`。字符集应该与服务器配置为用于解码传入的 HTTP 请求 URI 相同（但通常默认为 ISO-8859-1）。

JSF在和[`<f:param>`](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/f/param.html)中使用时也会这样做，但是它们在为 生成 URL 时没有帮助，因此您确实需要在支持 bean 的帮助下执行此操作或创建[自定义 EL 函数](https://stackoverflow.com/questions/7079978/how-to-create-a-custom-el-function/7080174#7080174)。如果您碰巧使用 JSF 实用程序库[OmniFaces](http://omnifaces.org)，那么您可以使用它。[`<h:outputLink>`](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/h/outputLink.html)[`<h:link>`](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/h/link.html)`window.open()``URLEncoder`[`#{of:encodeURL()}`](http://showcase.omnifaces.org/functions/Strings)

### 也可以看看：

*   [查询字符串参数的 Java URL 编码](https://stackoverflow.com/questions/10786042/java-url-encoding)

# jquery - 如果在 jqgrid treegrid 中选择了某个级别行，如何隐藏其他级别

> ID：15635798
> 
> 赞同：2
> 
> 时间：2013-03-26T11:22:21.580
> 
> 标签：jquery, asp.net-mvc, jquery-plugins, asp.net-mvc-2, jqgrid

如果在 jqgrid treegrid 中选择了某行，则所有其他行都将折叠但仍然可见。如何隐藏它们。

例如，如果树结构是

```
Category1
  Subcategory11
  Subcategory12
  ...
Category2
  Subcategory21
  Subcategory22
  ...
Category3
  Subcategory31
  Subcategory32
  ... 
```

最初它在 jqgrid 中以折叠形式显示

```
Toggle view
Category1
Category2
Category3 
```

用户可以通过单击打开某个节点。在这种情况下（例如在 Category2 中单击）其他类别应从屏幕中删除，以便仅此类别及其子类别可见：

```
Toggle view
Category2
  Subcategory21
  Subcategory22 
```

`Toggle view`链接应切换单个类别和类别列表视图：第一次单击应再次显示折叠的类别列表。之后`Toggle show all categories`再次点击应该只显示最后打开的类别，如上面的屏幕截图所示。

如何实施？

树网格定义为

```
 var treegrid = $("#tree-grid");
        treegrid.jqGrid({
            loadComplete: function (data) {
                $('.tree-leaf', $(this)).css('width', '0px');
            },
            url: '/Store/GridData',
            datatype: "json",
            mtype: "POST",
            height: "auto",
            loadui: "disable",
            treeGridModel: "adjacency",
            colModel: [
                    { name: "id", width: 1, hidden: true, key: true },
                    { name: "menu", classes: "treegrid-column", label: "Tootepuu" },
                    { name: "url", width: 1, hidden: true }
                ],

            gridview: true,
            autowidth: true,
            treeGrid: true,
            ExpandColumn: "menu",
            rowNum: 2000,
            ExpandColClick: true,
            onSelectRow: function (rowid) {
                var treedata = treegrid.jqGrid('getRowData', rowid);
                window.location = treedata.url;
            }
        }
                );
        treegrid.parents("div.ui-jqgrid-view").children("div.ui-jqgrid-hdiv").hide(); 
```

目前，如果选择了某个类别，则它会离开，而主类别列表也可见

```
Category1
Category2
  Subcategory21
  Subcategory22
Category3 
```

如何为此定制jqgrid？或者可以使用其他一些树插件或 ASP.NET MVC2 控件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T13:35:38.897

[您可以像这里](https://stackoverflow.com/questions/9178682/jqgrid-treegrid-catch-expand-collaps-events)描述的那样捕获扩展事件

并使用

```
$("#"+someRow).css('display') == 'none' 
```

隐藏您想要的所有行。

# iphone - 如何在 iphone 应用程序中将 2D 图像转换为 3D

> ID：15635800
> 
> 赞同：-4
> 
> 时间：2013-03-26T11:22:29.170
> 
> 标签：iphone, ios, opengl-es, 3d, cocos2d-iphone

**输入：**二维图像

**输出：** 3D 图像

**平台：** IOS

我需要在我的 ios 应用程序中将 2D 图像转换为 3D。如何在我的 ios 应用程序中执行此操作？我需要使用哪些框架？OpenGL-es 会对此有所帮助吗？或者IOS中有任何其他软件包可以做到这一点？将 2D 图像制作为 3D 需要遵循哪些步骤？

项目描述：我需要做一个类似于这个“ [Morfo](http://www.morfoapp.com) ”或“ [Photo Speak](https://play.google.com/store/apps/details?id=com.motionportrait.PhotoSpeak&feature=related_apps#?t=W251bGwsMSwxLDEwOSwiY29tLm1vdGlvbnBvcnRyYWl0LlBob3RvU3BlYWsiXQ..) ”的应用程序。在这些应用程序中，我相信他们正在将 2D 图像转换为 3D 图像，这就是我在这里发布一些启动和帮助的原因。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T11:59:57.190

我强烈建议你看看下面的书

*   “[计算机视觉中的多视图几何](http://www.robots.ox.ac.uk/~vgg/hzbook/)”，作者：Richard Hartley 和 Andrew Zisserman

搜索“单视图 3d 重建”一词产生了[这个网站](http://ai.stanford.edu/~asaxena/reconstruction3d/)。也许

从 2D 图像重建 3D 图像非常具有挑战性，而且通常是不可能的，除非您可以应用一些关于风景的额外知识，例如曼哈顿世界假设，它假设世界的大部分是建立在笛卡尔网格上的。

如果您对同一场景有多个视图（最好是在创建不同视图期间未更改的静态场景），您可以获得更好的结果。

我建议您搜索“单/多视图 3d 重建”并返回一个更集中的问题 :-)

其他建议的搜索词是：

*   单目深度估计
*   3D计算机视觉
*   阴影形状
*   面部动画（*问题更新后添加*）

现在更具体地回答您的问题：

1.  我不知道您将如何在您的 iOS 应用程序中执行此操作，但我不想阻止您，只是知道这非常困难。
2.  我不知道有什么框架可以为您开箱即用地解决这个问题。那里有许多计算机视觉框架。[OpenCV](http://opencv.org/)是一个非常流行的版本，它有一个适用于 iOS 的版本。
3.  OpenGL-ES 用于在“嵌入式​​系统”（ES）上显示 3D 场景
4.  您可能必须自己实现大部分算法。
5.  为了将 2D 图像转换为 3D 图像，您需要恢复深度信息，这是非常重要的。

# c - inet_ntoa 的分段错误

> ID：15635803
> 
> 赞同：9
> 
> 时间：2013-03-26T11:22:33.503
> 
> 标签：c

```
 #include <stdio.h> 
    #include <string.h> /* for strncpy */ 
    #include <sys/types.h> 
    #include <sys/socket.h> 
    #include <sys/ioctl.h> 
    #include <netinet/in.h> 
    #include <net/if.h> 

    int 
    main() 
    { 
     int fd;  
     struct ifreq ifr; 

     fd = socket(AF_INET, SOCK_DGRAM, 0);  

     /* I want to get an IPv4 IP address */ 
     ifr.ifr_addr.sa_family = AF_INET; 

     /* I want IP address attached to "eth0" */ 
     strncpy(ifr.ifr_name, "eth0", IFNAMSIZ-1); 

     ioctl(fd, SIOCGIFADDR, &ifr); 

     close(fd); 

     /* display result */ 
     char* ipaddr; 
     ipaddr = inet_ntoa(((struct sockaddr_in *)&(ifr.ifr_addr))->sin_addr); 
     printf("%s\n", ipaddr); 

     return 0; 
    } 
```

对于这一行：

```
 ipaddr = inet_ntoa(((struct sockaddr_in *)&(ifr.ifr_addr))->sin_addr); 
```

我明白了

```
iptry.c: In function ‘main’:
iptry.c:31:9: warning: assignment makes pointer from integer without a cast [enabled by default] 
```

并且对于

```
 printf("%s\n", ipaddr); 
```

我得到分段错误。

这有什么问题？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-26T15:53:00.363

`inet_ntoa`在 header 中定义`<arpa/inet.h>`，
需要`#include`，否则会出错

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-26T11:27:23.267

`inet_ntoa`不需要指针，但需要值

```
 char* ipaddr; 
 ipaddr = inet_ntoa(((struct sockaddr_in)(ifr.ifr_addr))->sin_addr); 
```

如果`sin_addr`是指针，则需要取消引用它。

`inet_ntoa`如果有错误将返回`NULL`，因此尝试`printf`NULL 将导致分段错误...

[在此处](http://www.beej.us/guide/bgnet/output/html/multipage/inet_ntoaman.html)查找信息，[在此处](http://linux.die.net/man/3/inet_ntoa)查找手册页。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T11:46:29.043

如果您不想看到警告，只需转换 inet_ntoa 的返回值

```
ipaddr = (char *) inet_ntoa(((struct sockaddr_in *)&(ifr.ifr_addr))->sin_addr); 
```

分段错误可能是因为之前的某些函数返回错误（空值）而您没有检查它

相同的代码在我的 Linux Box 中工作。

# android - Android 提醒打盹的问题

> ID：15635805
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:22:40.577
> 
> 标签：android, reminders, snoop

我已经创建了一个带有打盹选项的提醒应用程序.. 当只为一个提醒激活打盹时一切都很好.. 当我添加第二个提醒时，第一个被第二个重复（覆盖）.. 我在这里附加了代码. 请帮帮我..

```
reminButton.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            contentTitle = nameEdit.getText().toString();
            contentText = descEdit.getText().toString();
            contentSnooze = snoozeEdit.getText().toString();

            ContentValues details = new ContentValues();
            details.put("Name", contentTitle);
            details.put("Description", contentText);
            details.put("SnoozeTime", contentSnooze);

            db.insert("snoozetable", null, details);

            Toast.makeText(getApplication(), "Successfully Saved", Toast.LENGTH_LONG).show();

            if (dateFlag == true && timeFlag == true) {
                notificationCount = notificationCount + 1;
                dateFlag = false;
                timeFlag = false;
                time = mYear + "-" + mMonth + "-" + mDay + " " + mHour
                        + "-" + mMinute;
                SimpleDateFormat df = new SimpleDateFormat(
                        "yyyy-MM-dd hh-mm");
                Date dt = null;
                try {
                    dt = df.parse(time);
                } catch (ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (java.text.ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                long when = dt.getTime();
                /*contentTitle = nameEdit.getText().toString();
                contentText = descEdit.getText().toString();*/
                AlarmManager mgr = (AlarmManager) mContext
                        .getSystemService(Context.ALARM_SERVICE);
                Intent notificationIntent = new Intent(mContext,
                        ReminderAlarm.class);
                notificationIntent.putExtra("Name", contentTitle);
                notificationIntent.putExtra("Description", contentText);
                notificationIntent.putExtra("NotifyCount",
                        notificationCount);
                PendingIntent pi = PendingIntent.getBroadcast(mContext,
                        notificationCount, notificationIntent,
                        PendingIntent.FLAG_UPDATE_CURRENT);
                mgr.set(AlarmManager.RTC_WAKEUP, when, pi);
                Toast.makeText(mContext, contentTitle +" Reminder Activated" + notificationCount,
                        Toast.LENGTH_LONG).show();
                contentTitle = "";
                contentText = "";
                descEdit.setText("");
                snoozeEdit.setText("");

            }

reminButton.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            contentTitle = nameEdit.getText().toString();
            contentText = descEdit.getText().toString();
            contentSnooze = snoozeEdit.getText().toString();

            ContentValues details = new ContentValues();
            details.put("Name", contentTitle);
            details.put("Description", contentText);
            details.put("SnoozeTime", contentSnooze);

            db.insert("snoozetable", null, details);

            Toast.makeText(getApplication(), "Successfully Saved", Toast.LENGTH_LONG).show();

            if (dateFlag == true && timeFlag == true) {
                notificationCount = notificationCount + 1;
                dateFlag = false;
                timeFlag = false;
                time = mYear + "-" + mMonth + "-" + mDay + " " + mHour
                        + "-" + mMinute;
                SimpleDateFormat df = new SimpleDateFormat(
                        "yyyy-MM-dd hh-mm");
                Date dt = null;
                try {
                    dt = df.parse(time);
                } catch (ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (java.text.ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                long when = dt.getTime();
                /*contentTitle = nameEdit.getText().toString();
                contentText = descEdit.getText().toString();*/
                AlarmManager mgr = (AlarmManager) mContext
                        .getSystemService(Context.ALARM_SERVICE);
                Intent notificationIntent = new Intent(mContext,
                        ReminderAlarm.class);
                notificationIntent.putExtra("Name", contentTitle);
                notificationIntent.putExtra("Description", contentText);
                notificationIntent.putExtra("NotifyCount",
                        notificationCount);
                PendingIntent pi = PendingIntent.getBroadcast(mContext,
                        notificationCount, notificationIntent,
                        PendingIntent.FLAG_UPDATE_CURRENT);
                mgr.set(AlarmManager.RTC_WAKEUP, when, pi);
                Toast.makeText(mContext, contentTitle +" Reminder Activated" + notificationCount,
                        Toast.LENGTH_LONG).show();
                contentTitle = "";
                contentText = "";
                descEdit.setText("");
                snoozeEdit.setText("");

            }
reminButton.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            contentTitle = nameEdit.getText().toString();
            contentText = descEdit.getText().toString();
            contentSnooze = snoozeEdit.getText().toString();

            ContentValues details = new ContentValues();
            details.put("Name", contentTitle);
            details.put("Description", contentText);
            details.put("SnoozeTime", contentSnooze);

            db.insert("snoozetable", null, details);

            Toast.makeText(getApplication(), "Successfully Saved", Toast.LENGTH_LONG).show();

            if (dateFlag == true && timeFlag == true) {
                notificationCount = notificationCount + 1;
                dateFlag = false;
                timeFlag = false;
                time = mYear + "-" + mMonth + "-" + mDay + " " + mHour
                        + "-" + mMinute;
                SimpleDateFormat df = new SimpleDateFormat(
                        "yyyy-MM-dd hh-mm");
                Date dt = null;
                try {
                    dt = df.parse(time);
                } catch (ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (java.text.ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                long when = dt.getTime();
                /*contentTitle = nameEdit.getText().toString();
                contentText = descEdit.getText().toString();*/
                AlarmManager mgr = (AlarmManager) mContext
                        .getSystemService(Context.ALARM_SERVICE);
                Intent notificationIntent = new Intent(mContext,
                        ReminderAlarm.class);
                notificationIntent.putExtra("Name", contentTitle);
                notificationIntent.putExtra("Description", contentText);
                notificationIntent.putExtra("NotifyCount",
                        notificationCount);
                PendingIntent pi = PendingIntent.getBroadcast(mContext,
                        notificationCount, notificationIntent,
                        PendingIntent.FLAG_UPDATE_CURRENT);
                mgr.set(AlarmManager.RTC_WAKEUP, when, pi);
                Toast.makeText(mContext, contentTitle +" Reminder Activated" + notificationCount,
                        Toast.LENGTH_LONG).show();
                contentTitle = "";
                contentText = "";
                descEdit.setText("");
                snoozeEdit.setText("");

            }

reminButton.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            contentTitle = nameEdit.getText().toString();
            contentText = descEdit.getText().toString();
            contentSnooze = snoozeEdit.getText().toString();

            ContentValues details = new ContentValues();
            details.put("Name", contentTitle);
            details.put("Description", contentText);
            details.put("SnoozeTime", contentSnooze);

            db.insert("snoozetable", null, details);

            Toast.makeText(getApplication(), "Successfully Saved", Toast.LENGTH_LONG).show();

            if (dateFlag == true && timeFlag == true) {
                notificationCount = notificationCount + 1;
                dateFlag = false;
                timeFlag = false;
                time = mYear + "-" + mMonth + "-" + mDay + " " + mHour
                        + "-" + mMinute;
                SimpleDateFormat df = new SimpleDateFormat(
                        "yyyy-MM-dd hh-mm");
                Date dt = null;
                try {
                    dt = df.parse(time);
                } catch (ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (java.text.ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                long when = dt.getTime();
                /*contentTitle = nameEdit.getText().toString();
                contentText = descEdit.getText().toString();*/
                AlarmManager mgr = (AlarmManager) mContext
                        .getSystemService(Context.ALARM_SERVICE);
                Intent notificationIntent = new Intent(mContext,
                        ReminderAlarm.class);
                notificationIntent.putExtra("Name", contentTitle);
                notificationIntent.putExtra("Description", contentText);
                notificationIntent.putExtra("NotifyCount",
                        notificationCount);
                PendingIntent pi = PendingIntent.getBroadcast(mContext,
                        notificationCount, notificationIntent,
                        PendingIntent.FLAG_UPDATE_CURRENT);
                mgr.set(AlarmManager.RTC_WAKEUP, when, pi);
                Toast.makeText(mContext, contentTitle +" Reminder Activated" + notificationCount,
                        Toast.LENGTH_LONG).show();
                contentTitle = "";
                contentText = "";
                descEdit.setText("");
                snoozeEdit.setText("");

            } 
```

提醒活动.java

```
reminButton.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            contentTitle = nameEdit.getText().toString();
            contentText = descEdit.getText().toString();
            contentSnooze = snoozeEdit.getText().toString();

                time = mYear + "-" + mMonth + "-" + mDay + " " + mHour
                        + "-" + mMinute;
                SimpleDateFormat df = new SimpleDateFormat(
                        "yyyy-MM-dd hh-mm");
                Date dt = null;
                try {
                    dt = df.parse(time);
                } catch (ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (java.text.ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                long when = dt.getTime();

                AlarmManager mgr = (AlarmManager) mContext
                        .getSystemService(Context.ALARM_SERVICE);
                Intent notificationIntent = new Intent(mContext,
                        ReminderAlarm.class);
                notificationIntent.putExtra("Name", contentTitle);
                notificationIntent.putExtra("Description", contentText);
                notificationIntent.putExtra("NotifyCount",
                        notificationCount);
                PendingIntent pi = PendingIntent.getBroadcast(mContext,
                        notificationCount, notificationIntent,
                        PendingIntent.FLAG_UPDATE_CURRENT);
                mgr.set(AlarmManager.RTC_WAKEUP, when, pi);
                Toast.makeText(mContext, contentTitle +" Reminder Activated" + notificationCount,
                        Toast.LENGTH_LONG).show();

        } 
```

提醒警报.java

```
public void onReceive(Context context, Intent intent) {

    mNotificationManager = (NotificationManager) context
            .getSystemService(Context.NOTIFICATION_SERVICE);
    CharSequence name = intent.getStringExtra("Name");
    CharSequence desc = intent.getStringExtra("Description");
    notificationCount = Integer.parseInt(intent.getExtras().get("NotifyCount")
            .toString());

    sound = new Sound(context);
    sound.play();

    Intent notifyIntent = new Intent(context, ReminderPopup.class);
    notifyIntent.putExtra("Name", name);
    notifyIntent.putExtra("Description", desc);
    notifyIntent.putExtra("NotifyCount", notificationCount);
    PendingIntent contentIntent = PendingIntent.getActivity(context, notificationCount,
            notifyIntent, 0);

    notification = new Notification(R.drawable.ic_launcher, "Notification",
            System.currentTimeMillis());
    notification.setLatestEventInfo(context, name, desc, contentIntent);
    notification.flags |= Notification.FLAG_AUTO_CANCEL;

    mNotificationManager.notify(
            Integer.parseInt(intent.getExtras().get("NotifyCount")
                    .toString()), notification); 
```

ReminderPopup.java

```
public void onClick(DialogInterface dialog, int which) {
            if (minute != 0) {

                cal = Calendar.getInstance();
                mYear = cal.get(Calendar.YEAR);
                mMonth = cal.get(Calendar.MONTH) + 1;
                mDay = cal.get(Calendar.DATE);
                mHour = cal.get(Calendar.HOUR_OF_DAY);
                mMinute = cal.get(Calendar.MINUTE);
                snooze = mYear + "-" + mMonth + "-" + mDay + " " + mHour
                        + "-" + (mMinute + minute);
                SimpleDateFormat df = new SimpleDateFormat(
                        "yyyy-MM-dd hh-mm");
                Date dt = null;
                try {
                    dt = df.parse(snooze);
                } catch (ParseException e) {
                    e.printStackTrace();
                } catch (java.text.ParseException e) {
                    e.printStackTrace();
                }
                when = dt.getTime();

                AlarmManager mgr = (AlarmManager) getApplicationContext()
                        .getSystemService(Context.ALARM_SERVICE);
                Intent notificationIntent = new Intent(
                        getApplicationContext(), ReminderAlarm.class);
                notificationIntent.putExtra("Name", name);

                notificationIntent.putExtra("Description", desc);

                notificationIntent.putExtra("NotifyCount",
                        notificationCount);
                PendingIntent pi = PendingIntent.getBroadcast(
                        getApplicationContext(), notificationCount,
                        notificationIntent,
                        PendingIntent.FLAG_UPDATE_CURRENT);
                mgr.set(AlarmManager.RTC_WAKEUP, when, pi);
                Toast.makeText(getApplicationContext(),
                        name +" Reminder Snoozed for " + minute + " Minutes " + notificationCount,
                        Toast.LENGTH_LONG).show();
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T09:30:05.037

我找到了这个问题的答案。我使用“android:theme="@style/Theme_Dialog_Translucent">”将 ReminderPopup Activity 设置为透明活动。当我设置打盹时，只有 AlertDialog 会消失，而不是 ReminderPopup（透明）活动。所以当我设置下一个打盹时，它会更新现有的。在 AlertDialog 的末尾为 Positive 和 Negative 按钮添加 finish() ..

# c# - Fluent API，定义主键为外键

> ID：15635806
> 
> 赞同：0
> 
> 时间：2013-03-26T11:22:41.413
> 
> 标签：c#, entity-framework, ef-code-first, foreign-keys, primary-key

我有这两个模型：

```
//Primary AND Foreign key 1
public int UserID {get; set;}

//Primary AND Foreign key 2
public int ProductID {get; set;} 
```

我不知道如何将这两列同时设置为主键和外键！你能帮助我吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:42:01.757

可能你正在寻找这个

```
 //Primary AND Foreign key 1
[Key]
 public int UserID {get; set;}
[ForeignKey("UserID")]
public virtual IEnumerable<UserProfile> users;

    //Primary AND Foreign key 2

public int ProductID {get; set;}
[ForeignKey("ProductID")]
public virtual IEnumerable<Product> products; 
```

这将允许您从用户导航到产品。

如果这不是您要找的，请提供有关您需要的更多详细信息

# sift - 如何使用kd树找到最近的邻居？

> ID：15635811
> 
> 赞同：0
> 
> 时间：2013-03-26T11:23:15.803
> 
> 标签：sift, descriptor, nearest-neighbor, kdtree, euclidean-distance

我在一张图像上应用了 SIFT 并获得了描述符，然后我使用欧几里德距离来查找相似的描述符，现在我想使用 kd 树来查找哪些描述符更相似并在数据结构中重新处理它们。请帮助我如何做到这一点。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:43:33.980

[OpenSIFT](http://robwhess.github.com/opensift/) - 这是一种流行的 SIFT 实现，提供了一个方便的`match`命令行工具来比较一对图像，同时使用 kd-tree 预先计算关键点对应关系（又名比率测试）。

您绝对应该参考[match.c#L55](https://github.com/robwhess/opensift/blob/master/src/match.c#L55)以获取有关如何继续的更多详细信息。

# objective-c - 从 CCScene 呈现/删除 UIViewController？

> ID：15635815
> 
> 赞同：1
> 
> 时间：2013-03-26T11:23:40.383
> 
> 标签：objective-c, cocos2d-iphone

我在 ccscene 中展示了一个地址簿：

```
picker = [[ABPeoplePickerNavigationController alloc] init];
     picker.peoplePickerDelegate = self;
    [[CCDirector sharedDirector]presentModalViewController:picker animated:YES]; 
```

它运作良好。

当我想回到上一个场景并关闭它时，我会：

```
 [[CCDirector sharedDirector] dismissModalViewControllerAnimated:NO];
    [[CCDirector sharedDirector] replaceScene:[CCTransitionFade transitionWithDuration:0.1f scene:[Home scene]]]; 
```

它确实消失了，我确实看到了我的场景 0.3 秒，然后它消失了，我有一个黑屏（带有一些消息：无法通过标签删除孩子-我不会在下一个场景中删除任何孩子，只需加载背景)

那么，我将如何解除它并安全地回到下一个场景？

多谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:57:00.263

当关闭模态视图时，它需要时间，所以如果我加载下一个场景并且操作还没有完成，它也会取出下一个场景。

需要做的是等到它完成而不是加载下一个视图：（使用块）

```
 [[CCDirector sharedDirector] dismissViewControllerAnimated:YES completion:^
{
   [[CCDirector sharedDirector] replaceScene:[CCTransitionFade transitionWithDuration:0.4f scene:[Home scene]]];

}]; 
```

比块完成后，它会加载下一个场景，并且一切都很完美！我还没有找到任何其他方法，但我很高兴知道一个。

# javascript - Javascript JSON函数不显示

> ID：15635818
> 
> 赞同：1
> 
> 时间：2013-03-26T11:23:50.673
> 
> 标签：javascript, json

抱歉，开始时缺乏知识...

我们网站上有一个页面显示价格取决于用户选择的尺寸宽度和数量不幸的是动态计算器没有显示价格，即使脚本似乎正在计算价格......

谁能帮我哪里出错:-(

当我在控制台中调试时，它会正确显示信息但只是不显示！！！

编辑：应该输出价格的 javascript 是

```
 <script>
$(function() {
    $('#inputqty').keyup(function() {
        var inputqty = $('#inputqty').val();
        var sku = $('#selSKU').val();
        $.getJSON('pricecheck.cfc?method=getPrice&returntype=JSON&sku='+sku+'&qty='+inputqty, function(data) {
            $("#divPrice").html(data.displayPrice);
        });
    });

});

    function qtyChanged(){
        var inputqty = $('#inputqty').val();
        var sku = $('#selSKU').val();
        $.getJSON('pricecheck.cfc?method=getPrice&returntype=JSON&sku='+sku+'&qty='+inputqty, function(data) {
            $("#divPrice").html(data.displayPrice);
        });

    };
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:59:51.797

看起来结果[`http://www.xxxxxxxx.co.uk/pricecheck.cfc?method=getPrice&returntype=JSON&sku=2947&qty=7`](http://www.xxxxxxxxxx.co.uk/pricecheck.cfc?method=getPrice&returntype=JSON&sku=2947&qty=7)包含错误。

```
//{"displayPrice":"£2.87 excl. VAT<\/strong>
(£3.44 incl VAT)<\/span>"} 
```

请注意 JSON 前缀的注释（双斜杠）。

如果 JSON 包含语法错误，看起来 $.getJSON 也会静默失败：[为什么 $.getJSON 静默失败？](https://stackoverflow.com/questions/5492838/why-does-getjson-silently-fail)

# performance - 如何在 BDB 事务中调整读锁

> ID：15635819
> 
> 赞同：0
> 
> 时间：2013-03-26T11:23:51.090
> 
> 标签：performance, transactions, berkeley-db

我已经发布了一个帖子[https://forums.oracle.com/forums/thread.jspa?messageID=10459458饂](https://forums.oracle.com/forums/thread.jspa?messageID=10459458&#10459458)，但没有答案。

再次，来自[http://docs.oracle.com/cd/E17076_02/html/programmer_reference/transapp_tune.html](http://docs.oracle.com/cd/E17076_02/html/programmer_reference/transapp_tune.html)

> **读锁**在事务之外或以隔离度执行所有读操作通​​常可以显着提高应用程序吞吐量。此外，限制非事务游标的生命周期将减少持有锁的时间长度，从而提高并发性。

所以对于 TDS，我想知道在从数据库读取数据时是否不进行事务处理？性能能从这个过程中受益吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T14:42:24.040

听起来正确。您是否尝试过构建单元测试进行比较？

# java - Java 垃圾收集和原子事件/停止 gc 暂停中断一系列函数调用

> ID：15635823
> 
> 赞同：7
> 
> 时间：2013-03-26T11:24:05.307
> 
> 标签：java, performance, garbage-collection, jvm-hotspot

我有一个复杂的大型多线程应用程序，我正在向其引入新功能。

我添加了一个对专业硬件的调用（通过供应商提供的 JNI 库）。然而，在调用（非常快的）函数之前，需要预先完成一些工作来填充发送给它的数据结构。

然而，应用程序的 GC 配置文件非常不稳定/糟糕，并且这些填充步骤中的一些似乎被 GC 打断了。这很重要，因为在这些事件中的第一个和移交给硬件资源之间的时间需要保持恒定或尽可能恒定。

有没有办法说“为 GC 同步”，这些操作不会在停止世界 GC 暂停期间被阻止？

在 RHL5.5 上使用 64 位 1.7 JDK

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T12:21:24.567

如果实际上是在完整垃圾收集期间您遇到了问题，那么问题是您可以做些什么来降低这些完整垃圾收集扫描的频率。

首先，尝试分析什么情况下会触发这些全扫描，你的堆空间是否普遍不足？如果是这样，为什么您经常在堆上运行不足（某处是否存在潜在泄漏？）

此外，在次要（更快）垃圾收集期间，对象会从年轻代（伊甸园和幸存者 1）移动到幸存者 2。如果它不适合幸存者 2，它们将被移动到终身，如果没有空间够长，你触发全扫。所以，如果你的年轻代很大，并且你有一定数量的长时间运行的对象，这可能会导致问题。

归根结底，您必须对其进行分析。分析您的应用程序，并确定您看到完整垃圾收集的时间和原因，然后调整您的应用程序以降低它们的频率或潜在地确保它们非常罕见，您可以“控制”它们何时发生。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-27T02:57:55.843

如果您正在构建一个新的时间敏感任务，并且无法使用该任务修复 JVM 的 GC 行为，那么另一种选择是您*可以*将任务移至单独的 JVM。

进程间/机器通信意味着有更高的最低性能，但在进行 JNI 通信的单独 JVM 实例中，您可以比在父进程中更自由地调整 GC，从而更好地控制波动。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-26T21:18:22.593

为了完整起见，您还可以使用实现**实时 Java** (RTSJ) 的 JVM。

在实时 JVM 中，您可以在**不会**被 任何**GC 活动****中断**的线程中执行对**时间敏感的任务**。不幸的是，现在可用的 RT JVM 并不多。

 ******* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-26T11:56:33.250

GC 行为不是确定性的，因此您无法确保同步。

我想到了三个选项：

*   您是否创建了大量对象来填充每个调用的数据结构？也许您可以重复使用它们来避免填充堆和 GC 自动调用。
*   运行具有更多预分配内存的 VM 以分隔 gc 调用。
*   当对您的应用程序无害时，您自己调用 System.gc()。这个调用只是一个建议（JVM可以忽略它），但我会试一试。

无论如何，满足您需求的最佳选择是使用真正的实时语言实现而不是 Java******

# http - nagios 302 Found - 找不到字符串

> ID：15635834
> 
> 赞同：0
> 
> 时间：2013-03-26T11:24:15.607
> 
> 标签：http, nagios

我正在尝试使用 nagios 监控网站，但我喜欢这个可以帮助我 rsvp 的答案

```
/usr/lib/nagios/plugins/check_http -H www.medcom.com.tn -I @IP -s "Tunis"
HTTP CRITICAL: HTTP/1.1 302 Found - string not found - 421 bytes in 0,105 second response time |time=0,105379s;;;0,000000 size=421B;;;0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-30T11:09:08.857

你的问题确实不是很清楚。但是据我从您的命令中可以看出，您正在尝试检查字符串 Tunis 在网站 www.medcom.com.tn 上是否可用。检查返回一个[HTTP 302 状态代码](http://en.wikipedia.org/wiki/HTTP_302)，这是一种重定向。您应该查看[check_http 上的手册页，](http://nagiosplugins.org/man/check_http)了解如何根据您的需要正确使用此插件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T19:14:43.450

它返回一个 302 重定向，它肯定不会包含您的字符串“Tunis”。

为了实现我认为你想要的，在你的命令中添加“-f follow”，让 check_http 跟随重定向并检查实际的内容页面。

# jquery - 使用 jQuery 或其他方法将表单结果转换为数组

> ID：15635837
> 
> 赞同：1
> 
> 时间：2013-03-26T11:24:23.427
> 
> 标签：jquery, forms, jsp, web

我正在尝试将表单结果放入数组，以便下一个 JSP 页面可以处理它。

目前我有这个代码：

```
$("seguimiento").submit(function(){
        var labels = new Array();
        var val = new Array();
        $(":input").each(function(){
           if ($(this).val() >0) {
              labels.push($(this).attr('name'));
              val.push($(this).val());
           }
        });
        console.log("ya hemos rellenado los arrays");
       $.post("enviar.jsp", {"etiquetas": labels.join(','), "valores": val.join(',')});
     }); 
```

但它根本不起作用，我什至没有在控制台上看到调试消息。

当然我的表格有`name="seguimiento"`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:34:12.453

只需[serialize()](http://api.jquery.com/serialize/)或[serializeArray()](http://api.jquery.com/serializeArray/)

```
$.post("enviar.jsp",$("form").serialize(),function(d){}); 
```

获取控制台消息

```
$("form[name='seguimiento']").submit(function(e){
        e.preventDefault();
        var values = $(this).serializeArray();//this contains the array you want
        console.log(values);
        $.post('enviar.jsp',values,function(d){
             //d is the output of enviar.jsp
             console.log(d);
        });
     }); 
```

根据数据，您可以考虑使用`window.location`重定向到 enviar.jsp 并将数据作为 url 变量发送。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-26T11:28:43.523

您不能传递 javascript 数组，而不是发送数组传递逗号分隔的字符串，您可以使用 join 从数组中生成逗号分隔的字符串。

*改变*

```
$.post("enviar.jsp", {etiquetas: labels, valores: val}); 
```

*至*

```
$.post("enviar.jsp", {"etiquetas": labels.join(','), "valores": val.join(',')}); 
```

# php - AMFPHP如何访问amfphp之外的类

> ID：15635844
> 
> 赞同：0
> 
> 时间：2013-03-26T11:24:39.920
> 
> 标签：php, actionscript-3, class, amfphp

我的班级日志在目录中：

```
www/includes/classes/log.php 
```

用一种方法

```
public function add($type){
    if($type!=''){
        $this->addRow($type);
    }
} 
```

AmfPHP 类 abc 存在于目录中

```
www/game/r1/amfphp-file/serv/xyz.php 
```

它有一个像这样调用上述方法的函数

```
$log = new log();
$log->add('gameStart'); 
```

问题出现在我的 Flash 游戏 AS3 中：NetConnection.Call.BadVersion

当我删除这些行时，游戏运行良好（没有任何问题）：

```
//$log = new log();
//$log->add('gameStart'); 
```

我发现我的外部课程无法访问或......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T08:32:02.900

“错误版本”意味着您可能正在输出一些 PHP 错误消息。这会破坏您的退货数据。

请参阅 www.silexlabs.org/amfphp/documentation/troubleshooting-and-debugging-your-project/ 特别是什么是“NetConnection.Call.BadVersion”？

# jquery - 通过 javascript 代码以编程方式添加按钮后，在按钮上应用 JQuery 移动样式

> ID：15635845
> 
> 赞同：4
> 
> 时间：2013-03-26T11:24:45.053
> 
> 标签：jquery, html, css, jquery-mobile, jquery-mobile-button

当我尝试在 jquery 移动按钮下面添加时，抛出 jquery 代码：

```
 // insert new button to bf div (breackfast div)
      $("#bf").html('<a href="FoodCat/FilterIndex?TimeId=2&CurDate=0" data-role="button" > Add new </a> '); 
```

它并不意味着 Jquery 移动风格 (data-role="button") ??

下面是html：

```
 <div data-role="collapsible-set" data-theme="i" data-split-icon="gear" data-split-theme="e">
      <div data-role="collapsible">

        <h3> Breackfast   </h3>
                 <div id="bf"  style="margin:0 !important;padding:0 !important; display:inline !important"> 
             <ul data-role="listview" data-theme="i" ">
              <li>

                <input type="button" tabindex="@ViewBag.CurInt" id="bdelete" value="DeleteFood" onclick="bfd();"/>
                 </li>
                  </ul>
                </div>
             </div>
          </div> 
```

下面是 JQuery 代码（PLZ 注意：它调用服务并执行删除，但问题仅在于没有将按钮呈现为 jquery 移动样式）

```
 <script type="text/javascript">
                    function bfd() {
                       var fp = '/api/service?prsnIduser1&MealTime=2&CurDate='+ $("#bdelete").attr("tabindex");
                      $.ajax({
                            url: fp,
                            type: 'Delete',
                            dataType: 'json',
                            contentType: 'application/json;  charset=utf-8',
                        success: function () {

                          $("#bf").html('<a href="FoodCat/FilterIndex?TimeId=2&CurDate=0" data-role="button" > Add new </a> ');
                      $("#bf a").buttonMarkup();

                             });
                            }
                   </script> 
```

我在 google 和 stackoverflow 上进行了很多搜索，但我在下面尝试但没有成功：

```
 $("div[data-role=collapsible]").collapsible({refresh: true });
         // or even add :
           $("#bf").page();
          // or
           $("#bf a").buttonMarkup(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T11:31:52.860

如果我理解正确，您希望动态创建一个**`jQuery Mobile`**按钮并正确设置它的样式。

这是一个工作**`jsFiddle`**示例：http: [//jsfiddle.net/Gajotres/m4rjZ/](http://jsfiddle.net/Gajotres/m4rjZ/)

```
$(document).on('pagebeforeshow', '#index', function(){    
    // Add a new button element
    $('[data-role="content"]').append('<a id="button" href="FoodCat/FilterIndex?TimeId=2&CurDate=0" data-role="button">Button</a>');
    // Enhance new button element
    $('#button').button();
}); 
```

要了解有关 jQuery Mobile 如何处理动态添加的内容以及如何对其进行增强的更多信息，请查看这篇**[文章](http://www.gajotres.net/jquery-mobile-and-how-to-enhance-the-markup-of-dynamically-added-content/)**，或在**[此处](https://stackoverflow.com/a/14550417/1848600)**找到它。

这是官方 jQuery Mobile 按钮**[文档](http://api.jquerymobile.com/button/)**的链接。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-26T11:36:35.623

`button()`正如 Gajotres 建议的那样，您可以通过调用该方法“手动”创建一个按钮小部件。

`create`但是，如果您想要一个不依赖于小部件类型的通用解决方案，您可以通过触发祖先元素上的事件让 jQuery Mobile “赶上”新标记。

例如：

```
$("#bf").html('<a href="FoodCat/FilterIndex?TimeId=2&CurDate=0" data-role="button">Add new</a>')
        .trigger("create"); 
```

# java - 如何在 BoxAndWhiskerChart 中添加一条线？

> ID：15635858
> 
> 赞同：0
> 
> 时间：2013-03-26T11:25:21.917
> 
> 标签：java, charts, jfreechart

使用 JFreeChart 我想在 BoxAndWhiskerChart 中添加一条直线，因此结果如下所示：

```
7  |  -   - 
6  |  x       -
5  |      x   x
4  |  -   -  
3  |          -
2  |------------  <- ?
1  |
0  +------------
      A   B   C 
```

这本质上是我创建图表的代码：

```
DefaultBoxAndWhiskerCategoryDataset dataset = new DefaultBoxAndWhiskerCategoryDataset();
//adding data to dataset...
BoxAndWhiskerRenderer rnd = new BoxAndWhiskerRenderer(); 
CategoryPlot plot = new CategoryPlot(dataset, x, y, rnd);
JFreeChart chart = new JFreeChart(plot); 
```

有没有一种简单的方法可以在图表中添加一条线？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:52:02.760

是的 - 您需要将一个 Marger 添加到 Range Axis。[你可以在这里](http://www.java2s.com/Code/Java/Chart/JFreeChartMarkerDemo1.htm)找到一个例子

尝试添加此代码：

```
final Marker valueMarker= new ValueMarker(2.0);
valueMarker.setPaint(Color.green);
plot.addRangeMarker(valueMarker); 
```

# c# - 串口尝试连接时 C# UI 冻结

> ID：15635862
> 
> 赞同：0
> 
> 时间：2013-03-26T11:25:26.653
> 
> 标签：c#, wpf, dispatchertimer

我有一个关于为什么我的 C# 接口在串行端口连接期间冻结的问题。如果我连接到有效的串行端口（我的设备发送我期望的字节数），则接口不会冻结。但是，如果用户尝试连接到计算机上的另一个端口或我的设备型号错误，则程序在发送“？”时不会收到任何数据。字符等第一行： message[i] = (byte)port.BaseStream.ReadByte(); 导致超时并落入我的陷阱并尝试连接 3 次，然后提醒用户连接失败。完成三个尝试后，UI 工作正常，但是当它们进行时，UI 没有响应。有任何想法吗？在此先感谢，以下是我的代码。

```
public void windowLoop(object sender, EventArgs e)
    {
        if (Global.connecting)
        {
            try
            {
                if (i == 0) { port.BaseStream.Flush(); port.BaseStream.WriteByte(63); }
                message[i] = (byte)port.BaseStream.ReadByte();
                if (i == 6)
                {
                    connectAttempts = 1;
                    i = 0;
                    String result = Encoding.ASCII.GetString(message);
                    if (result == "ASUTTON")
                    {
                        //connection succeeded
                        Global.connecting = false;
                        Global.receiving = true;
                        setDisplay(2);
                    }
                    else
                    {
                        //connection failed
                        Global.connecting = false;
                        disconnect();
                        MessageBox.Show(radio, "You are not connection to an Agent (Radio Version)", "Connection Failed", MessageBoxButton.OK, MessageBoxImage.Information);
                    }
                }
                else
                {
                    i++;
                }
            }
            catch
            {
                if (connectAttempts >= connectAttemptsLimit)
                {
                    connectAttempts = 1;
                    Global.connecting = false;
                    disconnect();
                    MessageBox.Show(radio, "Your device failed to connect to the program.", "Connection Failed", MessageBoxButton.OK, MessageBoxImage.Information);
                }
                else
                {
                   connectAttempts++;
                }
            }
        }
        else if (Global.sending)
        { 
```

以上是我的代码，它通过设置为每 10 毫秒运行一次的 DispatcherTimer 对象连续运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:28:45.547

为了保持应用程序的响应，建议使用线程。与串行端口的通信是一个阻塞调用，它会在确定端口不工作之前等待超时。

理想的解决方案是使用后台工作组件并让它尝试连接到串行端口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:41:10.410

您可以使用 a`Thread`或使用[`Task`](http://msdn.microsoft.com/en-us/library/system.threading.tasks.task.aspx)TPL。您还可以在 SerialPort 类上使用一些事件，例如[`DataReceived`](http://msdn.microsoft.com/en-us/library/system.io.ports.serialport.datareceived.aspx)

如何将其从 更改`Read`为[`BeginRead`](http://tech.pro/tutorial/878/csharp-tutorial-asynchronous-stream-operations)。然后你就可以使用`AsyncCallback`.

```
byte[] received = new byte[port.BytesToRead];
result = port.BaseStream.BeginRead(received 
            , 0, port.BytesToRead, new AsyncCallback(ReadCallBack), port.BaseStream);

private void ReadCallBack(IAsyncResult ar)
    {            
        Stream stream = (Stream)ar.AsyncState;

        // Do reading here?
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T11:28:47.447

您可以尝试将通过串行端口的通信移动到单独的线程，或设置较低的超时时间。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-26T11:29:52.143

根据 MSDN 的[DispatcherTimer是：](http://msdn.microsoft.com/it-it/library/system.windows.threading.dispatchertimer.aspx)

> 一个集成到 Dispatcher 队列中的计时器，它以指定的时间间隔和指定的优先级进行处理。

这意味着它在 Dispatcher pupms 消息所在的同一线程上运行。因此，在您的计时器请求过程中，它将停止执行或处理队列中的其他内容。

[要解决此问题，请使用System.Timers.Timer](http://msdn.microsoft.com/it-it/library/system.timers.timer%28v=vs.110%29.aspx)类事件中连接到 serail 端口的代码，这些事件在单独的线程上运行，因此`UI`在执行期间不会阻塞。

# c# - 虽然批量插入到 Mongodb WriteConcern 检测到错误'E11000 重复键错误索引

> ID：15635876
> 
> 赞同：2
> 
> 时间：2013-03-26T11:26:42.407
> 
> 标签：c#, mongodb, mongodb-.net-driver

我正在创建一个`List<MyCollectionItem>` 并使用 insertbatch 方法来插入列表。( `_collection.InsertBatch(entities)`)

我没有为 MyCollectionItem 对象设置 id。我希望 mongo 设置 id。

它抛出异常 **无法将数据写入传输连接：现有连接被远程主机强制关闭。** 当我查看写问题时，我看到此错误**WriteConcern 检测到错误“E11000 重复键错误索引：**

但是我发送给方法的项目数和数据库中插入的项目是相同的......似乎它成功插入了所有数据......

我怎样才能解决这个问题？我应该在哪里检查？

索引信息在这里...

```
{MongoDB.Driver.IndexInfo}
DroppedDups: false
IsBackground: false
IsSparse: false
IsUnique: false
Key: { "_id" : 1 }
Name: "_id_"
Namespace: "MyDB.MyCollection"
RawDocument: { "v" : 1, "key" : { "_id" : 1 }, "ns" : "MyDB.MyCollection", "name" : "_id_" }
TimeToLive: {10675199.02:48:05.4775807}
Version: 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T11:18:08.140

这是一个通过驱动程序更新修复的错误。如果您看到此错误 **，请将您的驱动程序更新到最新版本**。

您可能需要查看这些 jira 问题以获取更多信息。

[https://jira.mongodb.org/browse/CSHARP-715](https://jira.mongodb.org/browse/CSHARP-715)

[https://jira.mongodb.org/browse/CSHARP-725](https://jira.mongodb.org/browse/CSHARP-725)

# jquery - JQuery 发送对象的问题（OPTIONS 请求而不是 POST）

> ID：15635882
> 
> 赞同：2
> 
> 时间：2013-03-26T11:27:11.313
> 
> 标签：jquery, asp.net-mvc, json, web-services

我有一个接收 JSON 对象 Prueba 的 Web 服务

```
public class Prueba
{
  public string valor1 { get; set; }
  public string valor2 { get; set; }
}

public JsonResult Pruebas(Prueba item)
{
   string metodo = Request.HttpMethod;
   return Json("error", JsonRequestBehavior.AllowGet);
} 
```

我想用 JQuery 调用 Web 服务：

```
$.ajax({
            type: 'Post',
            dataType: 'json',
            url: 'http://localhost:24780/Api/Pruebas',
            data:'{"valor1":"a","valor2":"b"}',
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                console.debug(data);
            },
            error: function (data) {
                console.debug(data);
            }
        }); 
```

问题是 Request.method 取值 OPTION 而不是 POST。对象值也为空。

我已经用 SOAP UI 测试了 web 服务没有问题，但我找不到为什么它不能与 JQuery 一起使用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T06:05:18.300

您正在通过在对象周围使用单引号将对象作为字符串。这就是你没有得到对象价值的原因

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-01T19:29:43.673

您试图发送一个字符串而不是一个对象。这就是为什么在服务器错误时您检索到任何内容但不是对象的原因。尝试替换这个：

```
data:'{"valor1":"a","valor2":"b"}', 
```

对此：

```
data:{"valor1":"a","valor2":"b"}, 
```

# css - 漂浮在体内

> ID：15635885
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:27:19.767
> 
> 标签：css

我不明白，为什么我的浮动不起作用。有[网站](http://lab.gio.lt)- 正如你所看到的，浮动不想工作。它有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:34:11.283

有用。它在它的父级上下文中浮动，即`<div id="content">`. 您需要将它（在 HTML 代码中）放在`<div class="side_bar">`左浮动的之前，如下所示：

```
<div id="content">
    <div class="news_block">
        the floating to the right side - don't want to work
    </div>
    <div class="side_bar">
        sidebar
    </div>
</div> 
```

或者，例如，如果您的脚本需要它，您想将左侧的所有内容包装到 side_bar DIV，这是唯一一个让 CSS 浮动在左侧的 DIV。也许你没有注意到它，但你有：

```
<div id="content">
    <div class="side_bar"> <!-- floats left -->
        sidebar
    </div>
    <div> facebook thing </div> <!-- doesn't float -->
    <div> ads </div> <!-- doesn't float -->
    <div> whatever </div> <!-- doesn't float -->
    <div class="news_block"> <!-- floats right-->
        the floating to the right side - don't want to work
    </div>
</div> 
```

`float`当您在它们之间有非浮动元素时，您不能指望已定义的两个 DIV正确浮动。

# python - GAE：开发服务器重启后数据丢失

> ID：15635888
> 
> 赞同：0
> 
> 时间：2013-03-26T11:27:35.883
> 
> 标签：python, google-app-engine, google-cloud-datastore

我在 OS X 上使用 Python 2.7 运行 App Engine。一旦我停止开发服务器，数据存储中的所有数据都会丢失。当我尝试部署我的应用程序时，也会发生同样的事情。什么可能导致这种行为以及如何解决它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:40:43.497

通常本地数据存储会不时重置，如果您不希望这种行为，您应该在`--datastore_path`从命令行启动开发服务器时设置。像这样的东西会起作用：

```
dev_appserver.py /path/to/project --datastore_path=/path/to/project/datastore 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-26T15:30:19.957

这是已回答的问题，但要进一步解释一下 - 本地数据存储区，默认情况下会写入您计算机上的临时文件系统。默认情况下，每当您重新启动计算机时，临时文件都会被清空，因此您的数据存储也会被清空。如果您不重新启动计算机，您的数据存储应该会保留。

# vb.net - 使用 ByRef 和 ByVal

> ID：15635892
> 
> 赞同：0
> 
> 时间：2013-03-26T11:27:41.013
> 
> 标签：vb.net, byref, byval

我对编程很陌生，有人告诉我应该使用 ByRef 和 ByVal 传递东西，但是当我这样做时，我收到一条错误消息：

```
Error   3   Method 'Private Sub Activate_Click(ByRef intIDToChange As Integer, sender As Object, e As System.EventArgs)' 
cannot handle event 'Public Event Click(sender As Object, e As System.EventArgs)' because they do not have a compatible signature.  
F:\Dropbox\Gooby Backup\School Work\Computing\Unit 4\Room Booking Client\WindowsApplication1\ActivateDeactivate\Activate Deactivate.vb  32  129 WindowsApplication1 
```

我开始我的子：

```
Private Sub Activate_Click(ByRef intIDToChange As Integer, sender As System.Object, e As System.EventArgs) Handles Activate.Click 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:29:02.217

您无法`Activate.Click`使用您的方法处理，因为您有`Integer`与事件签名不兼容的附加参数。

**事件签名**

```
Click(sender As Object, e As System.EventArgs) 
```

**你的方法**

```
Activate_Click(ByRef intIDToChange As Integer, sender As System.Object, e As System.EventArgs) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:32:37.930

听起来您在此处声明的事件处理程序 (Activate_Click) 与 ActivateClick 的事件定义不匹配。

尝试更改为：

```
Private Sub Activate_Click(ByVal intIDToChange As Integer, ....) Handles Activate.Click 
```

ByVal 通过参数发送变量的值，而 ByRef 发送变量（这意味着子例程中所做的更改会影响调用例程变量）。

更详细的答案在这里： [http ://social.msdn.microsoft.com/Forums/en-US/vbgeneral/thread/07b9d3b9-5658-49ed-9218-005564e8209e/](http://social.msdn.microsoft.com/Forums/en-US/vbgeneral/thread/07b9d3b9-5658-49ed-9218-005564e8209e/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:29:26.090

您必须将您的方法定义为

`Private Sub Activate_Click(ByVal sender As Object, ByVal e As System.EventArgs) Handles Activate.Click`

因为按钮点击事件只需要两个参数。

如果您想使用该变量`intIDToChange`，请将其作为类级别变量提供，例如

`private intIDToChange as Integer`并在`Activate_Click`.

# hibernate - 使用 @JoinColumnsOrFormulas 加载 OneToMany 映射

> ID：15635894
> 
> 赞同：2
> 
> 时间：2013-03-26T11:27:54.700
> 
> 标签：hibernate, multi-tenant

以下是我希望创建连接的两个实体：

```
public class CustomFieldValue {
private Integer           id;
private Integer           identifier;
private String            entityName;
private String            name;
private String            value;

public CustomFieldValue() {
}

@Id
@GeneratedValue(strategy = IDENTITY)
@Column(name = "id", unique = true, nullable = false)
public Integer getId() {
    return this.id;
}

public void setId(Integer id) {
    this.id = id;
}

@Column(name = "identifier", nullable = false)
public Integer getIdentifier() {
    return identifier;
}

public void setIdentifier(Integer identifier) {
    this.identifier = identifier;
}

@Column(name = "entity_name", nullable = false)
public String getEntityName() {
    return entityName;
}

public void setEntityName(String entity) {
    this.entityName = entity;
}

@Column(name = "name")
public String getName() {
    return value1;
}

public void setName(String name) {
    this.name = name;
}

@Column(name = "value")
public String getValue() {
    return value;
}

public void setValue(String value) {
    this.value = value;
}
}

class Order 
{
    int id;
    ...
    Set<CustomFieldValue> customFieldValues;

@Id
@GeneratedValue(strategy = IDENTITY)
@Column(name = "id", unique = true, nullable = false)
public Integer getId() {
    return this.id;
}

public void setId(Integer id) {
    this.id = id;
}

public void setCustomFieldValues(Set<CustomFieldValue> customFieldValues) {
    this.customFieldValues = customFieldValues;
}

@OneToMany(fetch = FetchType.EAGER)
@JoinColumnsOrFormulas({
        @JoinColumnOrFormula(column = @JoinColumn(name = "identifier", referencedColumnName = "id", insertable = false, updatable = false)),
        @JoinColumnOrFormula(formula = @JoinFormula(value = "entityName='Order'")) })
public Set<CustomFieldValue> getCustomFieldValues() {
    return customFieldValues;
}
} 
```

当 CustomFieldValue 中的标识符等于 Order id 并且 entityName 为“Order”时，我想创建一个连接。我在这一行收到一个错误：

```
@JoinColumnOrFormula(formula = @JoinFormula(value = "entityName='Order'")) 
```

它说“在实体 Order 中找不到逻辑名称”，@JoinFormula 注释中唯一存在的其他属性是 referencedColumnName，我无法提供。

有什么想法可以实现吗？

# html - HTML5 从路径读取文件

> ID：15635895
> 
> 赞同：1
> 
> 时间：2013-03-26T11:28:02.743
> 
> 标签：html

好吧，使用 HTML5 文件处理 api 我们可以通过 inpty 类型文件的协作来读取文件。像 /images/myimage.png 等带有 pat 的准备好的文件怎么样？

任何形式的帮助表示赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T12:26:00.520

是的，如果它是铬！使用文件系统，您将能够做到这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T12:14:20.053

简单的答案是；不。当您`HTML/CSS/images/JavaScript`下载到客户端时，您正在脱离服务器。

**简单的流程图**

*   用户在浏览器中请求 URL（例如；`www.mydomain.com/index.html`）
*   服务器读取并获取所需的文件 ( `www.mydomain.com/index.html`)
*   index.html 和它的链接资源将被下载到用户的浏览器
*   用户的浏览器将呈现 HTML 页面
*   *   用户的浏览器只会获取请求附带的文件（images/someimages.png 和 scripts/jquery.js 之类的东西）

**解释**

您在这里面临的问题是，当 HTML 在本地呈现时，它不再与服务器链接，因此请求`/images/`包含文件的内容在逻辑上不具有可比性，因为它驻留在服务器上。

**解决方法**

你可以做什么，但这会忽略问题的原因，是在 JSP/PHP/ASP/等中制作一个服务器端脚本。然后，此脚本将遍历您想要的目录。在 PHP 中，您可以使用`opendir()`( [http://php.net/opendir](http://php.net/opendir) ) 来执行此操作。

通过 XHR/AJAX 调用，您可以请求 PHP 页面返回目录列表。最简单的方法是`$.post()`结合使用 jQuery 的函数和 JSON。

**警告！**

您需要记住，如果您使用解决方法，您将存储一个链接，以便所有人都能看到您请求的在线目录中的内容（例如`http://www.mydomain.com/my_image_dirlist.php`，然后将返回所有内容的字符串列表（或更少基于某些服务器端脚本中的规则）在`http://www.mydomain.com/images/`.

**笔记**

*   [http://www.html5rocks.com/en/tutorials/file/filesystem/](http://www.html5rocks.com/en/tutorials/file/filesystem/)（似乎只在 Chrome 中工作，但仍然不是你想要的）
*   如果您不需要文件夹中的所有文件，而只需要 URL 请求中已下载到浏览器缓存中的那些文件；您可以尝试在线搜索访问当前加载页面的浏览器缓存（下载的文件）。或者制作一个 DOM-walker 和 CSS 阅读器（正则表达式？）来查看所有文件关系的位置。

# ruby-on-rails - 对数组进行分组并获得总和

> ID：15635897
> 
> 赞同：10
> 
> 时间：2013-03-26T11:28:12.887
> 
> 标签：ruby-on-rails, ruby

我有以下设置。

```
Invoice has_many Jobs has_many Tasks belongs_to user 
```

我想获得所有有任务`User`的 s`Invoice`并总结它们的数量

```
class Invoice < ActiveRecord::Base
  has_many :jobs
end

class Job < ActiveRecord::Base
  belongs_to :invoice 
  has_many :tasks      
end

class Task < ActiveRecord::Base
  belongs_to :job                   
  belongs_to :user     
end 
```

这是我得到的

```
@invoice = Invoice.find(params[:id])
jobs = @invoice.jobs.joins(:tasks)
        .select('tasks.user_id, (sum(tasks.quantity)*jobs.price) as total')
        .group('tasks.user_id, jobs.id')
        .order('tasks.user_id') 
```

我明白了，这与我想要的很接近

```
- !ruby/object:Job
  attributes:
    user_id: '1'
    total: '60.00'
- !ruby/object:Job
  attributes:
    user_id: '1'
    total: '50.00'
- !ruby/object:Job
  attributes:
    user_id: '2'
    total: '120.00'
- !ruby/object:Job
  attributes:
    user_id: '2'
    total: '100.00' 
```

我如何将`user_id`其分组并总结总数，以便我有这样的东西？

```
user_id: 1
total: 110
user_id: 2
total: 220 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-27T08:19:32.323

谢谢你的回答。

我设法解决了这个问题

```
user_totals = jobs.to_a.group_by(&:user_id).map{ |user_id,jobs| {:user_id => user_id.to_i, :total => jobs.sum {|j| j.total.to_f} }} 
=> [{:user_id=>1, :total=>110.0}, {:user_id=>2, :total=>220.0}] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T16:36:17.937

利用`group_by`

```
Hash[jobs.group_by(&:user_id).map {|user_id, jobs|  [user_id, jobs.reduce{ |m, job| m+job.total] }] 
```

类似的东西（我没有测试过，所以它可能无法正常工作）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T16:20:27.193

也许只是一个简单的每个循环创建一个哈希就可以了？

```
user_totals = Hash.new(0)
jobs.each do |job|
  user_totals[job.user_id] += job.total
end 
```

这会给你：

```
user_totals =  {"1":110, "2":220} 
```

# java - Jackson：在自定义反序列化器中获取任意节点的值

> ID：15635898
> 
> 赞同：0
> 
> 时间：2013-03-26T11:28:14.967
> 
> 标签：java, json, jackson

美好时光！

比如说，有一个 json string: `{id:'a', type:'b', category:'c'}`，并且业务逻辑是为了构建一个类别对象，我需要知道类别名称（'c'）和类型（'b'）。显然我需要`@JsonDeserialize(using = CategoryCustomDeserializer.class)`为类别编写一个自定义反序列化`jsonParser.getCodec().readTree(jsonParser)`器（ `null`.

请提出正确的方法。

**编辑**：这是反序列化器：

```
 public class CategoryNameDeserializer extends JsonDeserializer<Category> {

     @Override
     public Category deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {
        if (jp.getCurrentToken() != JsonToken.END_OBJECT) {
           String categoryName = jp.getText();
           String type = ?????? <------------------------ How to do it
           return Service.getInstance().getCategory(categoryName, type);
        }

        return null;
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T08:59:46.253

嗯，我找到了答案。这是一种解决方法，但它有效。可以使用以下方法重置解析器：

```
private JsonParser getResetParser(JsonParser jp) throws IOException {
    JsonFactory factory = jp.getCodec().getFactory();

    StringReader inputSource = (StringReader) jp.getInputSource();
    inputSource.reset();

    BufferedReader br = new BufferedReader(inputSource);
    String source = br.readLine();

    return factory.createJsonParser(source);
} 
```

接着：

```
private String findTokenText(JsonParser jp, String fieldName) throws IOException {
    JsonParser parser = getResetParser(jp);
    while (true) {
        parser.nextToken();
        if (parser.hasCurrentToken()) {
            switch (parser.getCurrentToken()) {
                case END_ARRAY:
                case END_OBJECT:
                case NOT_AVAILABLE:
                case START_ARRAY:
                case START_OBJECT:
                case VALUE_EMBEDDED_OBJECT:
                case VALUE_FALSE:
                case VALUE_NUMBER_FLOAT:
                case VALUE_NUMBER_INT:
                case VALUE_TRUE:
                    // do nothing
                    break;
                case FIELD_NAME:
                    String currentName = parser.getCurrentName();
                    if (fieldName.equals(currentName)) {
                        parser.nextToken();
                        return parser.getText();
                    }
                    break;
            }
        } else {
            return null;
        }
    } 
```

我不明白的是为什么尽管在方法内执行`inputSource.reset();`代码（只是在调试模式下尝试过）返回“C”，就好像阅读器没有重置一样。谁能解释一下，为什么会这样？`jp.getText()``findTokenText`

另一个变体是避免自定义并使用[这篇](http://djna.wordpress.com/2010/03/12/json-strings-no-rest-using-the-jackson-parser/)文章中的建议。

# iphone - 页面控制点没有改变

> ID：15635904
> 
> 赞同：0
> 
> 时间：2013-03-26T11:28:44.907
> 
> 标签：iphone, ios, objective-c, uipagecontrol

我正在尝试使用`page control`. 这就是我所做的。我已经在我的视图中添加了一个`storyboard`。

然后在我的`ViewDidLoad`

```
 images = [[NSMutableArray alloc]initWithObjects:[UIImage imageNamed:@"img1.jpg"],[UIImage imageNamed:@"img2.jpg"],[UIImage imageNamed:@"img3.jpg"],[UIImage imageNamed:@"img4.jpg"], nil];
    pagecontrol = [[UIPageControl alloc]init];
    self.imageIndex = 0;
    [pagecontrol setNumberOfPages:images.count];
    [pagecontrol setCurrentPage:imageIndex]; 
```

就像你可以看到我有四个图像的数组。我在图像视图上添加了一个页面控件。我还在 imageView 上添加了两个滑动手势（左右）。我现在想要做的是，当我刷卡时：

*   图片变了
*   点已更新为数组中的正确位置

这是我的右滑代码：

```
- (void)next:(UITapGestureRecognizer *)recognizer {
    if(imageIndex == images.count-1){
        imageIndex = images.count-1;
    }else{
        imageIndex++;
    }
    [UIView transitionWithView:self.imgGallery
                      duration:1.0f
                       options:UIViewAnimationOptionTransitionCrossDissolve
                    animations:^{
                        self.imgGallery.image = [images objectAtIndex:imageIndex];

                    } completion:nil];
    [pagecontrol setCurrentPage:imageIndex];
} 
```

**问题**

我的图像正在正确更改。但是我的 pagecontrol 点没有更新，而且它只显示 3 个点。

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:38:16.057

1.  在滚动视图中启用分页

[self.scrollView setPagingEnabled:YES];

2.  将委托设置为您的滚动视图

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:35:26.167

您在哪里定义一个 pageControll

```
 [_tutorialPageControll addTarget:self action:@selector(changPage) forControlEvents:UIControlEventValueChanged];
_tutorialPageControll.currentPage = 0;
    _tutorialPageControll.numberOfPages = TutorialArray.count; 
```

并在您想要更改页面的地方

```
_tutorialPageControll.currentPage = imageIndex; 
```

# ios - 如何使标题标签适合 UInavigation 控制器的后退按钮：XCode

> ID：15635906
> 
> 赞同：2
> 
> 时间：2013-03-26T11:28:45.533
> 
> 标签：ios, objective-c, xcode, uinavigationcontroller, back-button

我在我的一个应用程序中使用导航控制器，我对导航控制器后退按钮的标题感到不安。我想

**解决方案1：**使标题标签适合后退按钮区域（类似于`adjustsFontSizeToFitWidth=YES`：）

**或者**

**解决方案2：**使后退按钮足够大以容纳文本。

(更优选方案1)。

有关更多信息，我在此处提供图像...

* * *

![在此处输入图像描述](../Images/42edde87545f711763b3717363991519.png)

图 1：适合短标题文本。

图 2：标题因长文本而被截断。

图3：使文本自我调整。

图4：使按钮足够大以容纳文本。

* * *

提前致谢... ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T12:00:05.737

在 IOSX 中，到目前为止，苹果还没有提供在导航控制器中自定义后退按钮的权限，为了满足您的要求，您可以使用您的自定义按钮，因为我们没有更改后退按钮框架的权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T12:10:40.433

将以下代码放入您的 .m 文件按钮将自动调整标题大小

```
-(void)viewDidAppear:(BOOL)animated
{
     self.navigationController.navigationBar.backItem.title = @"Back";//put here your title
} 
```

你会成功的

# javascript - $http 和流？

> ID：15635908
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:28:52.780
> 
> 标签：javascript, angularjs

我想阅读[App.net 公共流](http://developers.app.net/docs/resources/post/streams/#retrieve-the-global-stream)。但是，当我使用简单的时候，`$http.get()`我只会得到一个响应。

```
$http
  .get('https://alpha-api.app.net/stream/0/posts/stream/global')
  .success(function (results) {
    console.log('received results', results);
  })
; 
```

如何在 AngularJS 中连接到 http 流？
有没有办法或者我必须使用 WebSockets 之类的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:08:55.267

`$http`只是一个请求。对于长轮询，请使用 定期调用它`$interval`。

```
function MyCtrl($scope, $timeout) {
  function poll() {
    $http.get('...').success(function(data) {
      $scope.posts = data;
    });
    $timeout(poll, 10000);
  }

  poll();
} 
```

你也可以创建一个服务来封装这个逻辑，但是你需要一个固定的数据结构来更新，而不是改变结果。像[这样](https://stackoverflow.com/a/14945305/179138)的东西。

# python - 在python中编写二进制文件以供C读取

> ID：15635912
> 
> 赞同：7
> 
> 时间：2013-03-26T11:29:00.480
> 
> 标签：python, c, binary

我必须使用用 C 编写的程序以这种方式从二进制文件中读取数据

```
nCnt = 0;
for (i=0;i<h.nsph;++i) {
    fread(&gp,sizeof(struct gas_particle),1,fp);
    if (bGas) {
        kd->p[nCnt].iOrder = nCnt;
        for (j=0;j<3;++j) kd->p[nCnt].r[j] = gp.pos[j];
        ++nCnt;
        }

    } 
```

上面的代码不是我正在使用的程序的全部代码，而只是与我的问题相关的部分。我需要读取`nCnt`粒子的位置，即每个粒子的坐标。我在 python 数组中有这些位置，看起来像这样

```
 pos=array([[[ 0.4786236 ,  0.49046784,  0.48877147],
    [ 0.47862025,  0.49042325,  0.48877267],
    [ 0.47862737,  0.49039413,  0.4887735 ],
    ..., 
    [ 0.4785084 ,  0.49032556,  0.48860968],
    [ 0.47849332,  0.49041115,  0.48877266],
    [ 0.47849161,  0.49041022,  0.48877176]]]) 
```

我应该如何在二进制文件中写入这个数组，以便 C 代码可以很好地读取它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-26T11:35:30.863

使用 python 模块`array`及其[tofile() 方法](http://docs.python.org/2/library/array.html#array.array.tofile)以 C 可以读取的格式写入数据，[如果使用 numpy 则使用 IO 例程](http://docs.scipy.org/doc/numpy/reference/routines.io.html)。

有了位数，`'f'`格式（浮点数）应该可以工作。

在 C 中，您可以像这样读取每一行：

```
float values[3];
fread( values, sizeof( float ), 3, fh ); 
```

# sql-server-2005 - 在 SQL Server 2005 中使用 MAX 返回所有行而不是最后一行

> ID：15635916
> 
> 赞同：0
> 
> 时间：2013-03-26T11:29:03.197
> 
> 标签：sql-server-2005

我有一个名为`tblMsg`用于存储消息的表。我想获取发件人发布的最后一条消息（表中的一列`Message`）。

这是我的查询

```
Select 
   Max(MsgId), Sender, Receiver, Contents, 
   convert(nvarchar(20), SendTime, 120) as SendTime
from 
   dbo.tblMessage 
where 
   Sender = @userName 
group by 
   Sender, Receiver, Contents, SendTime 
```

这里的问题是我没有收到最后一条消息，而是收到了发件人发布的所有消息

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:34:12.847

问题是您按所有列分组，而实际上您只想按 SenderID 列分组。这是一种方法，使用 CTE 和窗口函数获取最后一条消息或*每个用户：*

```
;WITH x AS 
(
  SELECT MsgId, Sender, Receiver, Contents, 
     SendTime = CONVERT(CHAR(20), SendTime, 120),
     rn = ROW_NUMBER() OVER (PARTITION BY Sender ORDER BY SendTime DESC)
  FROM dbo.tblMessage
)
SELECT MsgId, Sender, Receiver, Contents, SendTime
  FROM x
  WHERE rn = 1; 
```

当然，如果您一次只跟踪一个发件人，您可以完全不分组：

```
SELECT TOP (1) MsgId, Sender, Receiver, Contents,
  SendTime = CONVERT(CHAR(20), SendTime, 120)
FROM dbo.tblMessage
WHERE Sender = @userName
ORDER BY SendTime DESC; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:31:55.833

```
SELECT TOP 1 MsgId,Sender,Receiver,Contents,convert(nvarchar(20),SendTime,120) as SendTime
FROM dbo.tblMessage
WHERE Sender=@userName
ORDER BY MsgId DESC 
```

# ios - Xcode 上的白色视图 - 它不加载标签和图像

> ID：15635917
> 
> 赞同：0
> 
> 时间：2013-03-26T11:29:06.960
> 
> 标签：ios, objective-c, xcode, viewcontroller

我的 View in 有一些问题`Xcode`。我有一个`view`电话`"dettagliCampeggioVC"`，我从 2 个不同的角度来称呼它。

每次我调用它时，我都会使用以下代码：

`[self presentViewController:dettagliCampeggioVC animated:YES completion:nil];`

这是模拟器显示的：

[http://imageshack.us/f/843/schermata032456378alle1.png/](http://imageshack.us/f/843/schermata032456378alle1.png/)

这就是模拟器应该显示的内容：

[http://imageshack.us/f/21/schermata032456378alle1.png/](http://imageshack.us/f/21/schermata032456378alle1.png/)

谢谢你的帮助。

**编辑：问题**已解决 我只是忘记在 IB 上将 NibName 设置为“DettagliCampeggioVC”，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:32:05.047

@gabboSonc，可能是您尚未实例化 dettagliCampeggioVC 类。

使用如下：

```
ViewController *mvc=[self.storyboard instantiateViewControllerWithIdentifier:@"dettagliCampeggioVC"];
    [self presentViewController:mvc animated:YES completion:nil]; 
```

在您的故事板中为 dettagliCampeggioVC 类提供“dettagliCampeggioVC”作为 id。

# ruby - 如果我将 Foundation V3 升级到 V4，V3 项目仍然可以编译

> ID：15635929
> 
> 赞同：0
> 
> 时间：2013-03-26T11:29:34.167
> 
> 标签：ruby, gem, sass, zurb-foundation

我目前正在使用 Zurb Foundation V3。有人知道如果我将 Foundation V3 升级到 V4，V3 项目是否仍会使用 V3 gems/sass 进行编译？两个版本的 Foundation 是否可以在同一台计算机上用于不同的项目，或者如果我升级，我是否必须将所有现有项目迁移到 V4？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:37:45.557

Zurb 的网站上记录了[迁移指南。](http://foundation.zurb.com/migration.php)你的设计不会改变，至少不应该改变，因为事情仍然几乎一样。但是您肯定必须更改一些标记。以网格的类为例，它可以说是 Foundation 的核心。

关于使用不同的版本，是的，我认为只要您只为一个项目使用特定版本，它就应该起作用，它们是否在一台计算机上并不重要。

# php - 在上一个 DIV 中打开超链接

> ID：15635930
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:29:37.120
> 
> 标签：php, javascript, html, hyperlink

我在尝试打开上一个 div 中的超链接时遇到问题，该超链接由 php 中的 ECHO 生成。我的网站的目的是输出单词的定义，每个单词在一个单独的 div 中。有些词有 2 个或更多接受建议 *请参阅此处进行现场演示... [http://verbum.xtrweb.com/verbumpost.php?word=casa&word0=hola](http://verbum.xtrweb.com/verbumpost.php?word=casa&word0=hola) * 。单击任何接受将打开定义，而不会在新选项卡上*更改样式。*我需要*像示例中的 HOLA 一样将这个新选项卡替换为普通 div*

谢谢！也许可以帮助您的代码...

```
<?php
    $words = array('word','word0','word1','word2','word3','word4','word5','word6','word7','word7','word9','word10','word11','word12','word13','word14','word15');
    function url_decode($string){
    return urldecode(utf8_decode($string));
    }

    $baseUrl = 'http://lema.rae.es/drae/srv/search?val=';

    // string to replace in the head.
    $cssReplace = <<<EOT

    <style type="text/css">
    //style

    </style>
    </head>
    EOT;

    $spanRemove = '<span class="f"><b>.</b></span>';

    $resultIndex = 0;

    foreach($words as $word) {

    if(!isset($_REQUEST[$word]))
    continue;

    $contents = file_get_contents($baseUrl . urldecode(utf8_decode($_REQUEST[$word])));

    $contents = preg_replace('/(search?[\d\w]+)/','http://lema.rae.es/drae/srv/',     $contents);

    echo "<div id='results' style='
      //style
     ", (++$resultIndex) ,"'>", $contents,
        "</div>";
    }
        ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:35:54.693

如果要在 dom 元素中加载页面，则需要将其加载到 iframe（或任何框架）而不是 div 中。div 元素不能作为超链接或表单的目标。

# android - 动态壁纸引擎中未调用运行方法

> ID：15635932
> 
> 赞同：0
> 
> 时间：2013-03-26T11:29:43.813
> 
> 标签：android, live-wallpaper

我是 android 新手，开始使用 Wallpaper Engine 进行动态壁纸开发。我的问题是 Runnable 中的 run() 方法没有被调用，不知道为什么......我错过了什么吗？

这是我的代码：

```
public class Hearts extends WallpaperService {
    public static boolean LANDSCAPE;
    public static Paint backgroundPaint;
    public static Point backgroundSize;
    public static Point globalCanvasSize;
    public static boolean landscapeMode = false;
    public static int maxScreenSize;
    Bitmap background;
    private final Handler mHandler = new Handler();

    public void onCreate() {
        super.onCreate();
    }

    public WallpaperService.Engine onCreateEngine() {
        return new HeartsEngine();
    }

    public void onDestroy() {
        super.onDestroy();
    }

    class HeartsEngine extends Engine {
        private final int amountOfFlakes = 40;
        private final Paint backgroundPaint = new Paint();
        private Canvas c;
        public Flake[] flakeArray = new Flake[40];
        final SurfaceHolder holder = getSurfaceHolder();
        private final Runnable mDrawCube = new Runnable() {

            @Override
            public void run() {
                Log.d("tag", "Inside Run Called");
                drawFrame();
            }
        };
        float mXOffset;
        float mYOffset;
        private float oldScreen;
        Random random = new Random();
        Resources res = Hearts.this.getResources();

        HeartsEngine() {

            super();
            Log.d("tag", "Constructyor");
        }

void drawFrame() {
            Log.d("tag", "drawFrame");
            this.oldScreen -= this.mXOffset;
            Flake.scrollSpeed = 48.0F * this.oldScreen;
            this.oldScreen = this.mXOffset;
            this.c = null;
            this.c = this.holder.lockCanvas();
            try {
                if (this.c != null)
                    this.c.drawBitmap(Hearts.this.background, 0.0F, 0.0F, null);
                for (int i = 0;; i++) {
                    if (i >= 40) {
                        this.holder.unlockCanvasAndPost(this.c);
                        Hearts.this.mHandler.postDelayed(this.mDrawCube, 16L);

                    }
                    this.flakeArray[i].updateFlake(this.random, this.res,
                            this.c);
                }
            } catch (IllegalArgumentException localIllegalArgumentException) {
                // break label94;
                localIllegalArgumentException.printStackTrace();
                return;

            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:39:28.647

你`drawFrame()`只在`mDrawCube` `Runnable`. 所以没有一个`first time call`for`drawFrame()`方法

# php - 正则表达式过滤某些类型的 url

> ID：15635940
> 
> 赞同：0
> 
> 时间：2013-03-26T11:30:01.310
> 
> 标签：php, regex, url, web-crawler

我正在编写和学习一个简单的爬虫脚本来读取网站中的所有链接。我的模式有问题，我不明白为什么这不起作用。

链接在网站的源代码中如下所示：

```
<a  href="?ObjectPath=/Shops/154567062/Categories/Handlauf/%22Handlauf%20Holz%22">Handlauf Holz  </a> 
```

我的模式和功能如下所示：

```
preg_match_all( '/ObjectPath.*"/', $contentrow, $output, PREG_SET_ORDER 
```

它适用于前半部分，但之后它会破坏输出。这是一个输出的示例，其中它被破坏了：

ObjectPath=/Shops/15456062/Categories">- **GESAMTANGEBOT** -Handläufe

ObjectPath=/Shops/15456062/Products/%22Handlauf%20Edelstahl%20DS01%22/SubProducts/%22Handlauf%20Edelstahl%20DS%2001%20014%22&#ProductRatings"

ObjectPath=/Shops/15456062/Categories/CustomerInformation"

ObjectPath=/Shops/15456062/Products/%22Handlauf%20Edelstahl%20DS01%22/SubProducts/%22Handlauf%20Edelstahl%20DS%2001%20014%22&ChangeAction=SelectSubProduct" method="post"

源代码中的部分，即该部分的来源，如下所示：

```
<a class="BreadcrumbItem" href="?ObjectPath=/Shops/345456456/Categories">-GESAMTANGEBOT-</a><a class="BreadcrumbItem" href="?ObjectPath=/Shops/1234346q/Categories/Handlauf">Handläufe</a><a class="BreadcrumbItem" href="?ObjectPath=/Shops/15456062/Categories/Handlauf/%22Handlauf%20Edelstahl%22">Handläufe Edelstahl</a> 
```

我不明白，为什么将部分 -GESAMTANGEBOT- 纳入模式。“应该完成吗？

谢谢！

这里是完整的脚本：

```
 <?php
header('Content-Type: text/html; charset=utf-8');
function getPage($url){      

  // Prüfung ob cURL installiert ist?   
  if (!function_exists('curl_init')){             
    die('Curl not initialed');       
  }

  // Array mit den cURL-Einstellungen
  $options = array(        
      CURLOPT_RETURNTRANSFER => true,      
      CURLOPT_HEADER         => false,
      CURLOPT_ENCODING       => "",        

      CURLOPT_CONNECTTIMEOUT => 120,
      CURLOPT_TIMEOUT        => 120,
      CURLOPT_FOLLOWLOCATION => true,
      CURLOPT_AUTOREFERER    => true,
      CURLOPT_MAXREDIRS      => 10 
  );

  $ch      = curl_init( $url );    
  curl_setopt_array( $ch, $options );     

  $content = curl_exec( $ch );    
  $err     = curl_errno( $ch );    
  $errmsg  = curl_error( $ch );    
  $header  = curl_getinfo( $ch );    

  curl_close( $ch );     

  $header['errno']   = $err;    
  $header['errmsg']  = $errmsg;    
  $header['content'] = $content;    

  return $header;
}

$url = "http:/domain.com/epages/23455467.sf/de_DE/?ObjectPath=/Shops/15456062/Products/%22Handlauf%20Edelstahl%20DS01%22/SubProducts/%22Handlauf%20Edelstahl%20DS%2001%20014%22";
$domain = 'http://www.domain.com/epages/452563456.sf/de_DE/?';

$content = getPage($url);
$i=0;
foreach ($content as $contentrow) {
    //go through content and look for links
    if (preg_match_all( '/ObjectPath(.*)"/', $contentrow, $output, PREG_SET_ORDER )) {
        $i++;
        echo '<h1>'.$i.'</h1>';
        foreach ($output as $row) {
            $url= $domain.$row[0];
            //echo '<a href="'.$url.'">'.$url.'</a>';
            echo $url;
            echo '<br /><h2>onerow</h2><br />';
        }
    }
}

//print_r($content); 
```

我忘了提一下，我在输出上方收到了这个警告：

警告：preg_match_all() 期望参数 2 是字符串，数组在第 48 行的 C:\xampp\htdocs\scripts\readratings.php 中给出

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T16:51:36.697

如果我理解正确，你有类似的东西：

```
<a class="BreadcrumbItem" href="?ObjectPath=/Shops/345456456/Categories">-GESAMTANGEBOT-</a><a class="BreadcrumbItem" href="?ObjectPath=/Shops/1234346q/Categories/Handlauf">Handläufe</a><a class="BreadcrumbItem" href="?ObjectPath=/Shops/15456062/Categories/Handlauf/%22Handlauf%20Edelstahl%22">Handläufe Edelstahl</a> 
```

你想要所有这些部分：

```
ObjectPath=/Shops/345456456/Categories
ObjectPath=/Shops/1234346q/Categories/Handlauf
ObjectPath=/Shops/15456062/Categories/Handlauf/%22Handlauf%20Edelstahl%22 
```

虽然我不知道你为什么会有这个奇怪的输出，但你应该能够使用[惰性](http://www.regular-expressions.info/repeat.html)运算符获得你想要的东西。这应该做你想要的：

```
/ObjectPath(.*?)"/ 
```

因为它将停在第一个“。在这种情况下，它相当于：

```
/ObjectPath([^"]*)"/ 
```

虽然不是一般情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:38:25.027

利用

```
$contentrow = '<a  href="?ObjectPath=/Shops/154567062/Categories/Handlauf/%22Handlauf%20Holz%22">Handlauf Holz  </a>';
preg_match_all( '/ObjectPath(.*)"/', $contentrow, $output, PREG_SET_ORDER);
print_r($output); 
```

输出：

```
Array
(
    [0] => Array
        (
            [0] => ObjectPath=/Shops/154567062/Categories/Handlauf/%22Handlauf%20Holz%22"
            [1] => =/Shops/154567062/Categories/Handlauf/%22Handlauf%20Holz%22
        )

) 
```

# javascript - 通过单击查找下一个 ID

> ID：15635941
> 
> 赞同：-2
> 
> 时间：2013-03-26T11:30:01.387
> 
> 标签：javascript, jquery, html-table

我有一些像这样的td

```
<td id="first">first</td>
<td id="second">second</td>
<td id="third">third</td>
<td id="fourth">fourth</td> 
```

通过单击一个 td，我想找出其下两个 td 的 id。当我点击“第一”时，我需要获得“第二”和“第三”的值。

如何使用 JQuery 或 Javascript 实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:31:58.087

## jQuery

如果您单击最后一个单元格，这将警告“未定义”。

[jsFiddle](http://jsfiddle.net/x3QxF/)

```
$('td').click(function () {
    alert($(this).next().attr('id'));
}); 
```

## JavaScript

这个方法有点老套，因为 .nextSibling 返回一个不包含`id`属性的文本节点对象（不是节点）。它从它的 中获取兄弟姐妹列表`parentNode`，然后我们遍历它们直到我们得到匹配，下一个索引是下一个兄弟姐妹。

[jsFiddle](http://jsfiddle.net/Qb253/)

```
var tds = document.getElementsByTagName('td');

for (var i = 0; i < tds.length; i++) {
    tds[i].onclick = function () {
        var siblings = this.parentNode.children;
        var i = 0;
        while (siblings[i] != this) { i++; }
        if (i < siblings.length)
            alert(siblings[i + 1].id);
    };
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:32:26.293

您可以使用`next(`) 两次。您将不得不检查下一个是否带来了一个元素，因为倒数第二个您不会获得第二个，最后您不会获得第一个和第二个下一个元素。

**[现场演示](http://jsfiddle.net/yJxsY/)**

```
$('td').click(function () {
    first = $(this).next('td');
    second = first.next('td');
    if (first.length) alert(first.text() );
    else alert("No next");

    if (second.length) alert(second.text());
    else alert("No next");
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:34:00.873

JQuery 有兄弟选择器和函数，您可以使用它们：

[http://api.jquery.com/next-siblings-selector/](http://api.jquery.com/next-siblings-selector/)

[http://api.jquery.com/siblings/](http://api.jquery.com/siblings/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T11:35:24.197

```
$('td').click(function(e) {
    e.preventDefault();
    var id = $(this).next().attr('id');
    if (id) alert(id);
}); 
```

# javascript - 使用 ActiveX 获取工作表名称列表到 javaScript 中的数组

> ID：15635942
> 
> 赞同：1
> 
> 时间：2013-03-26T11:30:05.577
> 
> 标签：javascript, excel, activex, activexobject

如何使用 ActiveX 对象获取我的 excel 文件的所有可用工作表名称的列表？

我知道这段代码`Excel.ActiveWorkBook.Sheets`会返回工作表......但是我怎样才能在数组中获取这些工作表的名称？

```
function getTabs()
{

    var w =new ActiveXObject("Excel.Application");                      
    var book = w.Workbooks.Open(excelFile);  
    alert(book.name); //here I get the filename of my xls file and it displays ok
    var ExcelSheet= book.Sheets;
    alert(ExcelSheet); //This alerts to 'undefined' 

    w.Quit();
    w=null;             

} 
```

这是我现在的代码......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T13:53:14.320

好的，经过大量的反复试验，我得出了一个可行的答案：

```
 var w =new ActiveXObject("Excel.Application");                      
    var book = w.Workbooks.Open(excelFile);  
    var ExcelSheet= book.Sheets;
    var sheetCount  = ExcelSheet.Count;
    var arrayOfSheets  = new Array();;
    for(var i=0;i<sheetCount;i++){
        alert("Read sheets from file :"+ExcelSheet.Item(i+1).Name);
        arrayOfSheets [i] =ExcelSheet.Item(i+1).Name;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:53:49.337

由于 Sheets 或 Worksheets 集合中没有很多简单的选项，您可以做一个简单的循环：

```
declare string array with Excel.ActiveWorkBook.Worksheets.Count items.

foreach (Worksheet WS in Excel.ActiveWorkBook.Worksheets)
{
    Add the WS.Name to the array.
} 
```

# sql - 如何按月分解sql中的日期范围

> ID：15635943
> 
> 赞同：1
> 
> 时间：2013-03-26T11:30:05.873
> 
> 标签：sql, date, range, datediff, dateadd

我有两个 sql 表。它们适用于公司的员工。一个表有通常的详细信息（id、name、surname），另一个表有他们的休假信息（empid *外键到员工表中的 id、datefrom、dateto）

我需要分解休假结构，以便我们可以显示日期。在输出中，我们将有： DateFrom DateT 18-01-2013 19-01-2013

现在，如果员工休假超过一个月（即从 29 到 5），我将打印如下值： DateFrom DateT 29-01-2013 31-01-2013 01-02-2013 05-02-2013

为了打印这个，我[按月分解了一个日期范围，](https://stackoverflow.com/questions/6269889/breaking-up-a-date-range-by-month) 这有助于分解它，谢谢你的回答。但是我如何显示哪个员工得到了所有的假期？正如我所说，这些表是链接的。我尝试使用

```
select
    e.Firstname,
    e.Surname,
    e.MobileNum,
    convert(varchar(11),case when DateFrom > MonthStart then DateFrom else MonthStart end) as BeginDate,
    convert(varchar(11),case when DateTo < MonthEnd then DateTo else MonthEnd end) as EndDate

from(
    select l.*,
    (
        dateadd(month,datediff(month,0,l.datefrom)+v.number,0)
    ) as MonthStart,
    DATEADD(day,-1,
        dateadd(month,datediff(month,0,l.datefrom)+v.number+1,0)
    ) as MonthEnd

from EmployeeLeave l, Employees E
     inner join master..spt_values v on v.type='P' 
     and v.number between 0 and DATEDIFF(month,l.datefrom,l.dateto)
) s 
```

但我收到错误消息，无法绑定多部分标识符。我找不到地方说

```
where l.empid = e.empid 
```

所以有人可以告诉我如何解决这个问题。希望看到正在休假的员工

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:35:57.393

您在这里加入 EmployeeLeave 和员工：

```
from EmployeeLeave l inner join Employees E
on l.empid = e.id
 inner join master..spt_values v on v.type='P' 
 and v.number between 0 and DATEDIFF(month,l.datefrom,l.dateto) 
```

您在此处从员工中选择字段：

```
from(
select l.*, e.FirstName, e.Surname, e,MobileNum
(
    dateadd(month,datediff(month,0,l.datefrom)+v.number,0)
) as MonthStart,  etc 
```

然后，改变这个：

```
select e.Firstname, e.Surname, e.MobileNum 
```

对此

```
select s.Firstname, s.Surname, s.MobileNum 
```

原因是您从一个名为 s 的派生表中进行选择，而不是从实际的雇员表中进行选择。

# java - JAVA/JNI - 加载具有循环依赖的本机 DLL

> ID：15635945
> 
> 赞同：0
> 
> 时间：2013-03-26T11:30:06.437
> 
> 标签：java, java-native-interface, unsatisfiedlinkerror, cyclic-dependency

我尝试使用 JNI 在我的 Java 项目中加载 C++ 代码。我有许多要加载的 DLL，不幸的是**，它们之间存在循环依赖关系**：dll A 需要 dll B，而后者又需要 dll A！我知道在 DLL 之间具有循环依赖关系是一种糟糕的编程设计，但在我的项目中，C++ 代码对我来说是一个黑匣子。

**有没有办法加载具有循环依赖的DLL**？

我的代码很简单：

```
System.loadLibrary("myDLLA"); // needs dll B to be loaded!
System.loadLibrary("myDLLB"); // needs dll A to be loaded!
System.loadLibrary("myDLLC"); // needs dll B
// then call my native method implemented in dll C 
```

Java 库路径没有问题，并且包含两个 DLL（它作为 VM 参数给出，我将其转储并在运行时检查它）。循环依赖由 Dependency Walker 确认。

错误是：

```
java.lang.UnsatisfiedLinkError: E:\...\myDLLA.dll: Can't find dependent libraries
at java.lang.ClassLoader$NativeLibrary.load(Native Method)
at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1928)
at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1854)
at java.lang.Runtime.loadLibrary0(Runtime.java:845)
at java.lang.System.loadLibrary(System.java:1084) 
```

我的项目是在 Eclipse (Helios) 中作为部署在 tomcat 6 服务器上的动态 Web 项目开发的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:45:55.110

在 Windows 上，DLL 加载程序将遵循 PATH 来解析外部引用。您可以将 myDLLB.dll 的目录全局添加到 PATH（通过系统属性-> 高级），或者在启动 Java 应用程序（set 或 xset）的命令行上，或者从您的 Java 代码中添加。

# javascript - 将参数传递给asp.net页面中的javascript函数

> ID：15635950
> 
> 赞同：0
> 
> 时间：2013-03-26T11:30:26.863
> 
> 标签：javascript, asp.net, function, parameters

我想将参数传递给 JavaScript 函数以在 document.getElementByID() 中使用，如下所示：

```
function PrinGridView(GridViewname)
{

 var TableRow= document.getElementByID("GridViewname").getElementsBytagName("tr");

 var td= TableRow.item(0).getElementsBytagName("th");

 if(td.length>0)
   alert('done');

} 
```

在我的 asp 页面中，我有一个图像按钮事件：

```
onClicke="PrinGridView("<%=MyGrideView.ClientID%>")"; 
```

但它不能很好地工作。

如何将 GridView 传递给函数？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:53:15.613

Javascript**区分大小写**；它`getElementById`不是`getElementByID`，`getElementsByTagName`不是`getElementsBytagName`等。

还有其他错别字；F12 在您的浏览器和错误/控制台将显示脚本错误。

您需要混合引号，因为以下内容无效，除了拼写错误之外，它不是可解析的字符串，因为引号已损坏：

```
onClicke="PrinGridView("<%=MyGrideView.ClientID%>")"; 
```

改成

```
onClick="PrinGridView('<%=MyGrideView.ClientID%>')"; 
```

在你引用的函数中可能应该是参数，从

```
var TableRow = document.getElementByID("GridViewname") 
```

至

```
var TableRow= document.getElementById(GridViewname) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:34:15.887

你有一个错字，onClicke。这是错误的，应该是onClick。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T11:46:51.590

像这样试试

onClick="PrinGridView(this)"

```
function PrinGridView(obj)
{
var gridName = obj.id;
 var TableRow= document.getElementByID(gridName).getElementsBytagName("tr");

 var td= TableRow.item(0).getElementsBytagName("th");

 if(td.length>0)
   alert('done');

} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-06-26T21:00:26.267

这非常适合内联代码

OnClientClick='<%#String.Format("buttonstatus(""{0}"",""{1}"",""{2}"",""{3}"");return false;" , Eval("listingid"), "D", "归档", Eval("EndDate"))%>'

# mysql - MYSQL查询数据和合并、分组和排序结果

> ID：15635953
> 
> 赞同：0
> 
> 时间：2013-03-26T11:30:40.760
> 
> 标签：mysql, sorting

我无法让仅查询 1 个表的查询有效工作。以下是表格数据的示例：

```
ID    NAME     PARENT_ID    SORT_ORDER
1     Home     NULL         1
2     Contact  NULL         3
3     Service  NULL         2
4     Service1 3            0
5     Service3 3            2
6     Service2 3            1 
```

我想要做的是从该表返回数据，其结果具有 PARENT_ID 出现在具有该 ID 的结果下，然后所有结果都显示在它们的 SORT_ORDER 中。这是我希望查询生成上述数据的方式：

```
ID   NAME     PARENT_ID    SORT_ORDER
1    Home     NULL         1
3    Service  NULL         2
4    Service1 3            0
6    Service2 3            1
5    Service3 3            2
2    Contact  Null         3 
```

非常欢迎为实现这一目标提供任何反馈。

亲切的问候，

保罗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:33:24.143

如果我正确理解你的逻辑，你可以使用这个：

```
SELECT
  t1.*
FROM
  yourtable t1 LEFT JOIN yourtable t2
  ON t1.PARENT_ID = t2.ID
ORDER BY
  COALESCE(t2.SORT_ORDER, t1.SORT_ORDER),
  t1.PARENT_ID IS NOT NULL,
  SORT_ORDER 
```

请[在此处](http://sqlfiddle.com/#!2/0bcd8/1)查看小提琴。

# unix - 使用awk比较unix中的两个文件

> ID：15635957
> 
> 赞同：-1
> 
> 时间：2013-03-26T11:30:57.677
> 
> 标签：unix, awk, compare

我需要比较两个文件。Unix 中的 File1.txt 和 File2.txt。File1.txt 中而不是 File2.txt 中存在的值必须写入 diff.txt。我想我们只能使用 awk 来实现。谁能指导我实现这一目标？

文件1.txt

```
apple
bat
cat 
```

文件2.txt

```
apple
cat 
```

差异文件

```
bat 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-26T11:33:45.143

试试这个单行：

```
awk 'NR==FNR{a[$0];next}!($0 in a)' file2 file1 > diff.txt 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:34:41.477

```
diff file2 file1 | perl -lne 'print $1 if(/^\> (.*)/)' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-26T23:03:44.327

这是创建“comm”的工作：

```
comm -23 file1 file2 
```

男人通讯了解详情。需要注意的是，输入文件必须像您的那样进行排序。

# knockout.js - 使用淘汰赛/杜兰达尔将无效字段标记为红色

> ID：15635958
> 
> 赞同：3
> 
> 时间：2013-03-26T11:30:57.923
> 
> 标签：knockout.js, breeze, durandal

我正在学习淘汰赛、Durandal 和 Breeze，感谢**John Papa 的 JumpStart SPA 视频，**这是一种乐趣。所以我检查了这个项目的代码，现在我正在尝试更改验证机制。

此时，在保存更改时，如果保存失败，我们会收集错误并显示带有错误恢复的 toast。

![在此处输入图像描述](../Images/d08b741b7f6f657f91b35ec776bb8eec.png)

我想要实现的是：

*   能够在视图中以红色（背景色）标记无效字段

*   当显示带有验证错误恢复的吐司时（例如：'保存失败：需要事务Nr'）我想用更友好的名称替换属性名称（例如'保存失败：需要事务编号'）

这是 datacontext.js 中验证的部分代码：

```
var saveChanges = function () {
    return manager.saveChanges()
        .then(saveSucceeded)
        .fail(saveFailed);

    function saveSucceeded(saveResult) {
        log('Saved data successfully', saveResult, true);
    }

    function saveFailed(error) {
        var msg = 'Save failed: ' + getErrorMessages(error);
        logError(msg, error);
        error.message = msg;
        throw error;
    }
};

function getErrorMessages(error) {
    var msg = error.message;
    if (msg.match(/validation error/i)) {
        return getValidationMessages(error);
    }
    return msg;
}

function getValidationMessages(error) {
    try {
        //foreach entity with a validation error
        return error.entitiesWithErrors.map(function (entity) {
            // get each validation error
            return entity.entityAspect.getValidationErrors().map(function (valError) {
                // return the error message from the validation
                return valError.errorMessage;
            }).join('; <br/>');
        }).join('; <br/>');
    }
    catch (e) { }
    return 'validation error';
} 
```

有人能指出我正确的方向吗？

提前致谢。

* * *

编辑：

要重现该问题：单击左侧边栏上的 Transports + recherche avancee + 列表中的任何项目 + 在右侧：清除一些输入（如 Numero d'affaire 如下截图所示），然后单击“Enregistrer”。然后调用保存按钮。在那里我需要检查 ko.validation.group 是否有无效输入，但它不起作用。

![在此处输入图像描述](../Images/0c536305c9e0f216dab4ccbd11e5ab5f.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-26T14:39:58.917

前段时间，我发布了一个辅助函数，它扩展了 observable 属性以添加基于微风验证器的验证。使用该助手，您可以在无效输入上实现红色：

[翻译微风验证消息](https://stackoverflow.com/questions/14316454/translate-breeze-validation-messages)

第二个问题我无法帮助您，我知道您可以自定义验证消息，但我认为使用默认验证器您无法设置友好名称以显示在消息上。

更新：

我要做的第一件事是创建一个公开函数的辅助模块（更新版本）：

```
define([],
function () {
"use strict";
var foreignKeyInvalidValue = 0;

function addValidationRules(entity) {
    var entityType = entity.entityType,
        i,
        property,
        propertyName,
        propertyObject,
        validators,
        u,
        validator,
        nValidator;

    if (entityType) {
        for (i = 0; i < entityType.dataProperties.length; i += 1) {
            property = entityType.dataProperties[i];
            propertyName = property.name;
            propertyObject = entity[propertyName];
            validators = [];

            for (u = 0; u < property.validators.length; u += 1) {
                validator = property.validators[u];
                nValidator = {
                    propertyName: propertyName,
                    validator: function (val) {
                        var error = this.innerValidator.validate(val, { displayName: this.propertyName });
                        this.message = error ? error.errorMessage : "";
                        return error === null;
                    },
                    message: "",
                    innerValidator: validator
                };
                validators.push(nValidator);
            }
            propertyObject.extend({
                validation: validators
            });
        }

        for (i = 0; i < entityType.foreignKeyProperties.length; i += 1) {
            property = entityType.foreignKeyProperties[i];
            propertyName = property.name;
            propertyObject = entity[propertyName];

            validators = [];
            for (u = 0; u < property.validators.length; u += 1) {
                validator = property.validators[u];
                nValidator = {
                    propertyName: propertyName,
                    validator: function (val) {
                        var error = this.innerValidator.validate(val, { displayName: this.propertyName });
                        this.message = error ? error.errorMessage : "";
                        return error === null;
                    },
                    message: "",
                    innerValidator: validator
                };
                validators.push(nValidator);
            }
            propertyObject.extend({
                validation: validators
            });
            if (!property.isNullable) {
                //Bussiness Rule: 0 is not allowed for required foreign keys
                propertyObject.extend({ notEqual: foreignKeyInvalidValue });
            }
        }
    }
}

return {
    addValidationRules: addValidationRules
};
}); 
```

然后，我为每个微风实体类型（[http://www.breezejs.com/documentation/extending-entities](http://www.breezejs.com/documentation/extending-entities)）定义了一个初始化程序。例子：

```
define(['app/validatorHelper', 'knockout'],
function (vHelper, ko) {
"use strict";
var constructor = function () {
},

    initializer = function indicadorInitializer(entity) {
        vHelper.addValidationRules(entity);
    };

return {
    constructor: constructor,
    initializer: initializer
};
}); 
```

最后，在某个地方（我在我的数据服务模块内的 init 函数上执行此操作），我正在注册初始化程序（[http://www.breezejs.com/documentation/extending-entities](http://www.breezejs.com/documentation/extending-entities)）：

```
//store comes from: manager = breezeconfig.createManager(),
//    store = manager.metadataStore,
store.registerEntityTypeCtor("Palanca", domain.palanca.constructor, domain.palanca.initializer); 
```

在获取元数据之前，我正在完成所有这些工作。

我希望这会对你有所帮助。

更新 2：

我发现了问题，你的淘汰验证版本不是最后一个。

在从[http://ericmbarnard.github.com/Knockout-Validation/](http://ericmbarnard.github.com/Knockout-Validation/)下载的文件中，第 349 行是：

```
exports.rules[ruleName] = ruleObj; 
```

在您的文件中，等效行（函数 addAnonymousRule ）是：

```
ko.validation.rules[ruleName] = {
    validator: ruleObj.validator,
    message: ruleObj.message || 'Error'
}; 
```

我认为最新版本应该可以工作。

更新 4：

这是要保存的代码：

```
vmAddPalanca.prototype.saveChangesCmd = ko.asyncCommand({
    execute: function (palanca, complete) {
        var validationErrors = ko.validation.group(palanca);
        if (validationErrors().length === 0) {
            dataservice.saveChanges()
            .then(saveChangesSuccess)
            .fail(saveChangesFail)
            .fin(complete);
        } else {
            validationErrors.showAllMessages(true);
            toastr.error("Debe corregir los errores antes de poder guardar");
            complete();
        }
    },
    canExecute: function (isExecuting) {
        return !isExecuting && dataservice.hasChanges();
    }
}); 
```

# .net - 是否可以仅使用引用 DLL 而不是 .NET Framework？

> ID：15635962
> 
> 赞同：0
> 
> 时间：2013-03-26T11:31:03.883
> 
> 标签：.net, vb.net, visual-studio, dll

我开发了 VB.NET 应用程序。我想在没有 .NET Framework 的情况下运行我的应用程序。我有谷歌它，许多开发人员说你不能。然后我想如果我只使用我使用的 DLL。例如。我只使用**System.Windows.Forms**

如果可能的话，我只使用那个 DLL？我在“参考”选项卡中找到了“复制本地”（将其设置为“真”）。但我不知道它是如何工作的。我试过但失败了。得到“应用程序失败...”。是的，我知道这一点，因为尚未安装 .NET Framework。

这个我想问：

*   如果可能的话，我是否只使用该 DLL 而不是安装 .NET Framework？
*   我对“复制本地”做错了吗？

我有谷歌这个话题，但我没有找到任何解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:33:46.567

> 如果可能的话，我只使用那个 DLL？

不。因为您*不*只是在使用`System.Windows.Forms`程序集……您几乎肯定在使用`System`程序集，而且您*肯定*会使用`mscorlib`……并且`System.Windows.Forms`可能取决于一堆其他程序集。

除此之外，您首先使用的是 CLR（运行时）......这就是*理解*这样的 DLL 而不仅仅是具有本机代码的 DLL。基本上你*确实*需要.NET。

您很可能能够针对某些特定版本的框架的客户端配置文件，这样用户就不需要安装太多......但从根本上讲，您需要某种形式的 .NET 框架。

有一些完全安装的替代方案，例如[VMware ThinApp](http://en.wikipedia.org/wiki/VMware_ThinApp) - 但我建议在*大多数*情况下，做这样的事情会增加维护的麻烦，因为然后你在一个与那个略有不同的环境中运行大多数 .NET 开发人员设想。

# vtiger - 将线索分配给供应商？

> ID：15635963
> 
> 赞同：0
> 
> 时间：2013-03-26T11:31:04.677
> 
> 标签：vtiger

我想知道如何将潜在客户分配给供应商。实际上我有一个提供运输服务的供应商。因此，我想将潜在客户分配给运输供应商。

请帮助我在 vtiger 中实现这一目标。让我知道是否有其他方法可以做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:56:55.190

[这](https://discussions.vtiger.com/index.php?p=/discussion/comment/1173978#Comment_1173978)是答案。

现在没有像我在 vtiger 中想要的那样的支持，但总是存在替代解决方案。

所以只是在这里发帖，这样对其他人会有所帮助。

# jquery - jquery重新加载ajax请求

> ID：15635964
> 
> 赞同：0
> 
> 时间：2013-03-26T11:31:05.573
> 
> 标签：jquery

我有一种特殊情况，如果调整浏览器窗口的大小，插件将无法轻松调整。因此，我没有试图强迫它这样做，而是决定使用 jQuery 从 ajax 发布请求中调用实际的插件。就最初将其加载到我的页面上而言，这对我来说非常有效。

但是我想要做的是取消绑定ajax请求，从当前页面中删除外部代码并重新加载ajax请求以再次显示插件内容（以调整后的屏幕尺寸，即每次某个 $(window).width () 设置为 320px、480px 和 800px 宽度的屏幕尺寸）。

寻找一个基本概念

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:39:29.133

您可以使用`resize function`Like `jquery` ：

```
$(window).resize(function(){
     // do your code here
}); 
```

文档[http://api.jquery.com/resize/](http://api.jquery.com/resize/)

您还可以`media`在`css3` 查看网址 [http://www.css3.info/preview/media-queries/](http://www.css3.info/preview/media-queries/)和 [http://css-tricks.com/css-media-queries/中使用](http://css-tricks.com/css-media-queries/)

在此处阅读响应式设计[http://webdesignerwall.com/tutorials/responsive-design-with-css3-media-queries](http://webdesignerwall.com/tutorials/responsive-design-with-css3-media-queries)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:37:01.370

像这样的东西会起作用吗？

```
$(document).ready(function() {
  $(window).resize(function() {
    // Do your ajax call here...
  });
}); 
```

# gwt - GWT MVP 导航侧边栏

> ID：15635965
> 
> 赞同：3
> 
> 时间：2013-03-26T11:31:07.067
> 
> 标签：gwt

我正在使用 GWT 编写一个 Web 应用程序，并遵循 GWT 网站上的[MVP 教程](https://developers.google.com/web-toolkit/articles/mvp-architecture)（即[`History`](https://developers.google.com/web-toolkit/doc/latest/DevGuideCodingBasicsHistory)用于导航）。

我对使用侧边栏进行导航的最佳方式有点困惑（即单击导航链接会更改主窗口中的内容。见下文）

```
--------------------
|     |            |
| nav |   main     |
|     |    window  |
|     |            |
|     |            |
-------------------- 
```

我看到的一种可能的方法是`<div>`在 HTML 中声明两个标签用于导航和内容。例如：

```
@Override
public void onValueChange(ValueChangeEvent<String> event) {

    ...

    if (token.equals("navigation")) {
        presenter = new NavigationPresenter(rpcService, eventBus, new NavigationView());
        presenter.go(RootPanel.get("navigation"));
    }

    ...

    if (token.equals("content")) {
        presenter = new ContentPresenter(rpcService, eventBus, new ContentView());
        presenter.go(RootPanel.get("content"));
    }

    ...
} 
```

我不确定这是否是解决此问题的最佳方法。（我猜导航面板和内容窗口之间的双向通信可以通过一个来完成`EventBus`？这种方法在更改 UI 时是否灵活（例如移动网站））

我想知道人们会建议什么是解决这个问题的最佳方式。我已经阅读并经常讨论有关[活动和地点](https://developers.google.com/web-toolkit/doc/latest/DevGuideMvpActivitiesAndPlaces)的讨论，但据我了解，这些与 MVP 架构有些不同（活动和地点对于[浏览器历史管理](https://stackoverflow.com/questions/15193909/model-view-presenter-with-google-web-toolkit-gwt)很有用，尽管我认为我的使用`History`涵盖了（？））

任何建议，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T15:42:15.867

是的，你是对的：`Activies and Places`是关于历史和导航管理的，里面有一个框架`GWT`。`MVP`只是一种架构设计模式。您可以`MVP`使用您链接的文章中所示的框架来实现。

在您的示例中，您可以按照您说的做，但我会让每个视图都成为（惰性）单例，以避免任何潜在的昂贵的重新创建。我个人不喜欢这种方式，你最终`Display`会根据（这么多）`HasXxx`接口来定义你的 s 。

我认为，如果历史管理很重要，那么选择`Activities and Places`几乎是一件轻而易举的事（至少对我来说，至少要定义应用程序的骨架）。[在这里](http://tbroyer.posterous.com/gwt-21-activities)，您可以找到一篇非常好的文章来帮助您入门。您将看到您的用例有多常见：您必须定义显示区域（导航和主要区域），这些区域将对位置更改做出反应（感谢活动管理器）并创建/重新启动将反过来更新 UI 的活动. 通过这种方式，您可以实现某种应用程序范围`MVP`，其中演示者是活动。

就`MVP`目前而言，没有*最好的方法*：[第 1](https://developers.google.com/web-toolkit/articles/mvp-architecture)部分、[第 2 部分](https://developers.google.com/web-toolkit/articles/mvp-architecture-2)和[带有 A&P](https://developers.google.com/web-toolkit/doc/latest/DevGuideMvpActivitiesAndPlaces)的 MVP 只是实现相同目标的不同方法：分离表示和业务逻辑，以及纯 junit 测试。只需选择您喜欢的。请参阅[此](https://groups.google.com/d/topic/google-web-toolkit/f20FbM04usU/discussion)关于群组的帖子以供参考。

希望能帮助您入门。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T20:28:34.827

对于我的应用程序，我使用 ClientFactory，就像在 GWT 文档中一样，使用单例作为视图。

这样，应用程序结构（包括菜单）也是 ClientFactory 中引用的单例，因此每个其他视图都可以通过其接口直接访问它。

例如，某些视图可能会在标题中推送一些图像，隐藏菜单以显示视频，或者您需要的任何内容。大多数时候，应用程序的结构不需要单独的活动/位置来将其状态“持久”在历史堆栈中......

我知道大多数人不喜欢视图相互调用，我也是，唯一的例外是应用程序的结构视图，这是一种特定的视图：它有一个不是活动的演示者，以及视图本身永久显示。

通过通知在您的应用程序结构和其他视图之间进行通信将使您的应用程序成为意大利面碗恕我直言。我曾使用过像 PureMVC 这样的框架，它们在很大程度上依赖于事件/通知在视图之间进行通信，并且分离具有很高的成本：可维护性和代码可读性。

# ios - 计算uitableviewcell的动态高度

> ID：15635966
> 
> 赞同：1
> 
> 时间：2013-03-26T11:31:08.200
> 
> 标签：ios, iphone, uitableview, ios6

我正在搜索太多与增加身高有关的问题，`UITableViewCells`但我无法得到我想要的。

我必须计算的动态高度`UITableViewCell`。但是，问题是在我的单元格中有一个动态数量的按钮，范围从 1 到 100。我不知道事先会显示多少个按钮。那么我们如何计算高度呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T12:48:33.230

One way you could do is that you can have a global variable, for ex: cellHeight, and then change the cellHeight dynamically when you are customising your cell.

finally, return the cellHeight

```
- (CGFloat) tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
    return cellHeight;
}` 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T11:49:16.180

有**两种**获取大小的方法`UITableViewCell`

```
1) cell.bounds.size.height 
2) cell.contentView.frame.size.height 
```

这取决于您实际需要哪个。

# xamarin.ios - Monotouch 自定义 UIView

> ID：15635967
> 
> 赞同：0
> 
> 时间：2013-03-26T11:31:13.290
> 
> 标签：xamarin.ios

我希望有人可以帮助解决我在 xib 文件中使用 monotouch 的问题。

我正在尝试创建一个从 uiview 派生的子视图。在 IB 中，我创建了一个类，将其类型设置为我的自定义类的类型，然后将所有 IBOutlets 链接到自定义类（我认为这可能是错误所在，因为我怀疑这应该是文件所有者）。

IB .h 文件示例是

```
@interface ActivityUtilityView : UIView {
UILabel *_ActivityLabel;
UILabel *_CaptionLabel;
}

@properrty (nonatomic, retain) IBOutlet UILabel * ActivityLabel;
@properrty (nonatomic, retain) IBOutlet UILabel * CaptionLabel;

@End 
```

在应用程序代码中，这个视图需要在运行时使用。

```
var intptr = NSBundle.MainBundle.LoadNib("ActivityUtilityView",parent_controller,null).ValueAt(0);
m_ActivityView = new ActivityView(intptr); 
```

第一个问题是没有任何 IBOutlets 被实例化。

第二个问题是视图被创建了两次，据我所知。

请问有人可以帮忙吗？

编辑

我发现一半的问题是在显示视图之前没有实例化插座。

那么如何强制显示子视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T07:35:09.217

我找到了一个可行的解决方案。

```
m_ActivityView = Activator.CreateInstance<ActivityUtilityView>();
var view = NSBundle.MainBundle.LoadNib("ActivityUtilityView",m_ActivityView,null);
m_ProgressView = Runtime.GetNSObject(views.ValueAt(0) as ActivityUtilityView; 
```

在显示视图之前，使用 IntPtr 构造函数创建视图不会实例化 IBOutlets。这种方法似乎。

为了澄清由于后台工作线程上的竞争条件而导致的问题。

# python - PyQt4 QWebView 外部资源内容

> ID：15635972
> 
> 赞同：0
> 
> 时间：2013-03-26T11:31:28.220
> 
> 标签：python, qt, webkit, qtwebkit

```
class Browser(QWebView):
    def __init__(self):
        QWebView.__init__(self)
        self.loadFinished.connect(self._result_available)
        self.loadStarted.connect(self._load_started)
        self.page().frameCreated.connect(self.onFrame)
    # ...     

browser = Browser()
browser.setHtml('<html>...</html>', baseUrl=QUrl('http://www.google.com/')) 
```

之后，我需要捕获**QWebView**加载的所有外部资源的内容。我需要获取所有 CSS/Javascript 文件的内容。我怎样才能做到这一点 ？相关问题：[问题1](https://stackoverflow.com/questions/1205419/writing-a-qnetworkreply-to-a-file)、[问题2](https://stackoverflow.com/questions/2426053/how-to-get-response-in-qtwebkit)

我知道我需要以某种方式使用[QNetworkAccessManager](http://pyqt.sourceforge.net/Docs/PyQt4/qnetworkaccessmanager.html)，但我没有任何示例可以使用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-08T16:44:59.637

我们需要制作自定义**QNetworkReply**类并在**readyRead**事件结果中获取结果。

# android - 有密钥库密码，丢失了签署 Android 应用程序的密钥

> ID：15635974
> 
> 赞同：0
> 
> 时间：2013-03-26T11:31:32.700
> 
> 标签：android, keystore, android-keystore

我看过很多关于丢失密钥库密码的帖子，但我*有*我的密钥库密码但丢失了私钥密码。现在，我无法使用更新我的应用程序所需的密钥进行签名。有什么我可以做的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:33:44.230

不，你无能为力。

apk 必须使用密钥库中完全相同的密钥库和配置文件进行签名。您不能简单地使用相同的密码和详细信息生成另一个。不起作用。

您必须使用新的密钥库和不同的包名称再次发布您的应用程序，或者记住您的密码。

# powershell - EWS $mail.body.text.toString() - 空值

> ID：15635975
> 
> 赞同：0
> 
> 时间：2013-03-26T11:31:34.597
> 
> 标签：powershell, exchangewebservices

我正在尝试使用 EWS 和 Powershell 3.0 阅读电子邮件正文。一切正常，但是，当正文不包含 tekst 时，我得到一个 You cannot call a method on a null-valued expression。有什么办法可以检查邮件正文是否为空？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:57:46.970

您可以测试 text 属性是否等于 null，或者测试邮件文本的长度。

# iphone - 我如何在 ciimage iOS 中绘制方形或圆形环绕眼睛和嘴巴

> ID：15635976
> 
> 赞同：1
> 
> 时间：2013-03-26T11:31:40.047
> 
> 标签：iphone, draw, face-detection, ciimage

我是 iOS 编程新手，我搜索了很多核心图片链接、答案和教程，但我仍然不完全理解。我有一个测试应用程序，它有按钮，简单的东西，当我按下某个过滤器按钮时，我有图像，它会生成过滤器并显示它。

```
CIImage *inputImage = [[CIImage alloc]initWithImage:[UIImage imageNamed:@"pic1.JPG"]];
    CIFilter *colorControls = [CIFilter filterWithName:@"CIColorControls"];
    [colorControls setValue:inputImage forKey:@"inputImage"];
    [colorControls setValue:[NSNumber numberWithFloat:0.5f] forKey:@"inputSaturation"];
    [colorControls setValue:[NSNumber numberWithFloat:0.8f] forKey:@"inputContrast"];
    [colorControls setValue:[NSNumber numberWithFloat:0.4f] forKey:@"inputBrightness"];
    CIImage *outputImage = [colorControls valueForKey:@"outputImage"];
    CIContext *context = [CIContext contextWithOptions:nil];
    theImageView.image = [UIImage imageWithCGImage:[context createCGImage:outputImage fromRect:outputImage.extent]]; 
```

现在我想要一个按钮，它可以检测眼睛和嘴巴并在其周围绘制矩形或圆圈，无论什么颜色和什么颜色都没有关系。我来了，直到

```
- (IBAction)detectFace:(id)sender
{
    CIImage *inputImage = [[CIImage alloc]initWithImage:[UIImage imageNamed:@"pic1.JPG"]];
    CIDetector* detector = [CIDetector detectorOfType:CIDetectorTypeFace
                                              context:nil options:[NSDictionary dictionaryWithObject:CIDetectorAccuracyHigh forKey:CIDetectorAccuracy]];
    NSArray* features = [detector featuresInImage:inputImage];
   for (CIFaceFeature *faceFeature in features){}
} 
```

现在我有一个问题（我不确定这是否是正确的开始）。请帮助我想知道下一步该怎么做..提前谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T13:52:22.607

怎么样（还没有编译它，但应该很接近）：

```
for (CIFaceFeature *faceFeature in features){
        CGRect faceRect = faceFeature.bounds;

    CGContextRef context = UIGraphicsGetCurrentContext();

    CGContextSetLineWidth(context, 1.0);

    CGContextAddRect(context, faceRect);
    CGContextDrawPath(context, kCGPathStroke);
} 
```

# html - Hotmail 错误地“拉伸”HTML/CSS 签名

> ID：15635980
> 
> 赞同：1
> 
> 时间：2013-03-26T11:31:54.583
> 
> 标签：html, css, email, hotmail

我一直致力于使签名 (CSS+HTML) 在多个平台上工作，并且在 Hotmail 中遇到了困难。出于某种原因，当将此签名发送到我的 Hotmail 地址时，它会被垂直拉伸。似乎 Hotmail 出于某种原因在每个表格单元格的文本下方添加了大量空白？

这张图清楚地说明了这个问题：http: [//www.madculture.es/images/test.jpg](http://www.madculture.es/images/test.jpg) 那里的第一个签名是预期的输出。我在#2 上添加了边框，以更好地突出问题。签名三是在 Hotmail 中收到时的外观！:(

此签名在 Outlook 2003-2013、Gmail、Lotus Notes 中可以正常工作，但在 Hotmail 中则不行。

有谁知道可能是什么原因？我一无所知，已经试验了好几天了。

这是签名的完整代码：

```
<div>
 <table border="1" cellspacing="0" cellpadding="1" height="50" style="font-family: Verdana, Arial, sans-serif; font-size: 1em;">
  <tr>
   <td rowspan="4">
    <img src="mc2.png" nosend="1" width="170" height="86" />
   </td>
   <td style="padding-top: 2px;">
    John D. Doe
   </td>
  </tr>
  <tr>
   <td style="font-size: 0.85em; font-weight: bold; color: #932D1F; padding-bottom: 2px;">
    Marketing & analytics
   </td>
  </tr>
  <tr>
   <td style="display: block;">
    <a href="mailto:johnd@doe.com" style="color: #666; text-decoration: none; font-size: 0.9em;">johnd@doe.com</a>
   </td>
  </tr>
  <tr>
   <td style="font-size: 1.05em; font-weight: bold; color: #444; padding-top: 1px;">
    Madrid
   </td>
  </tr>
 </table>
</div> 
```

我希望有人能帮帮忙...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T11:51:18.493

尝试慢慢移除元素并在每个阶段重新测试。作为开始：

*   您的桌子设置的高度小于您的主图像
*   使用嵌套表，而不是`rowspan`为了更好的电子邮件客户端支持
*   避免`padding`并改用设定的高度
*   不要设置你`td`的`display: block`
*   将字体样式直接添加到`td`s（而不是`table`）以使 Outlook 正常工作

# c# - 在 C# 中使用参数为类方法赋值

> ID：15635984
> 
> 赞同：0
> 
> 时间：2013-03-26T11:31:58.837
> 
> 标签：c#, com, vbscript, .net-assembly, backwards-compatibility

我正在用 C# 编写一个程序集，它将替换注册为 COM 的旧 DLL。旧 DLL 允许启用 COM 的应用程序（如 VB 或 Perl）或执行以下 VBS 示例中的操作：

```
dim All_Domains
set All_Domains = WScript.CreateObject("MailServerX.LocalDomains")

dim Specific_Domain
set Specific_Domain = All_Domains.Items(3)

dim Domain_Aliases
set Domain_Aliases = WScript.CreateObject("MailServerX.Lines")
Domain_Aliases.Add "one.com"
Domain_Aliases.Add "two.com"

Specific_Domain.Domain_Aliases = Domain_Aliases
All_Domains.Items(3) = Specific_Domain 
```

正如您在最后一行中看到的，在传递参数“3”时正在分配属性/方法 LocalDomains.Items。

我需要在新程序集中维护相同的接口，以保持与访问旧 DLL 的所有现有脚本的兼容性。我有这个（非常总结的）C# 类：

```
public class LocalDomains
{
    private List<LocalDomain> itemsList = new List<LocalDomain>();
    # Assume the list is now loaded
    public LocalDomain Items(int index)
    {
        return itemsList[index];
    }
} 
```

如何在类 LocalDomains 中编写 Items 方法，以便它不仅可以从列表中返回一个值，而且还可以接收一个值分配，以便它可以对 itemsList[index] 进行一些处理，包括为其分配新值？

我的意思是，保持我的第一个代码块的最后一行对新代码有效。

提前感谢您的任何建议！

# android - 滚动视图中的列表视图仅显示一个列表项？如何显示所有列表项

> ID：15635987
> 
> 赞同：2
> 
> 时间：2013-03-26T11:32:02.667
> 
> 标签：android, android-listview, android-scrollview

```
<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >
    <TextView
        android:id="@+id/section_one_header"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="18dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="10dp"
        android:singleLine="true"
        android:text="Summary"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:textColor="#51556C"
        android:textSize="13sp"
        android:textStyle="bold" />

    <ListView
        android:id="@+id/section_list_view"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="5dp" >
    </ListView>

    <TextView
        android:id="@+id/section_two_header"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="18dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="10dp"
        android:singleLine="true"
        android:text="Data"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:textColor="#51556C"
        android:textSize="13sp"
        android:textStyle="bold" >
    </TextView>

    <LinearLayout
        android:id="@+id/eve_det"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="5dp"
        android:background="@layout/style_evedetail"
        android:orientation="vertical" >

        <TextView
            android:id="@+id/section_two_data"
            android:layout_width="fill_parent"
            android:layout_height="100dp"
            android:layout_marginBottom="10dp"
            android:layout_marginLeft="10dp"
            android:layout_marginRight="10dp"
            android:layout_marginTop="10dp"
            android:scrollbars="vertical"
            android:textSize="10sp" >
        </TextView>

        <EditText
            android:id="@+id/section_two_edit_text"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="10dp"
            android:layout_marginLeft="10dp"
            android:layout_marginRight="10dp"
            android:layout_marginTop="10dp"
            android:focusableInTouchMode="true"
            android:imeActionId="@+id/done_button"
            android:imeActionLabel="done"
            android:singleLine="true" />
    </LinearLayout>

    <TextView
        android:id="@+id/section_three_header"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="18dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="10dp"
        android:text="Attachment"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:textColor="#51556C"
        android:textSize="13sp"
        android:textStyle="bold" >
    </TextView>
    <ListView
        android:id="@+id/attachment_list_view"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="20dp"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp" />
</LinearLayout> 
```

这是滚动视图下的代码。在这里，我需要显示 Header 和相应的 ListView，然后是带有 Edit Text 的 TextView，然后是 header 和 ListView。任何人都可以帮助我如何在两个列表视图中显示所有列表项，或者如果有人有其他想法可以帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T11:35:40.333

**是的，因为列表视图具有默认的可滚动功能**。如果您将列表视图放置在另一个可滚动视图中（例如 Scroll-view ）。列表滚动会妨碍。

***为了避免这种情况，列表视图具有页眉和页脚视图的概念。***

您可以在列表中添加 n 个页眉和页脚。

下面是一个示例代码片段，如何通过向其中添加任何 xml 布局来添加页眉/页脚

```
LayoutInflater inflater = activity.getLayoutInflater();
LinearLayout listFooterView = (LinearLayout)inflater.inflate(
            R.layout.footer_layout, null);

list.addFooterView(listFooterView);

LinearLayout listHeaderView = (LinearLayout)inflater.inflate(
                R.layout.header_layout, null);

    list.addHeaderView(listHeaderView); 
```

# javascript - 替换 gmail 聊天中的文本的 Chrome 扩展程序

> ID：15635991
> 
> 赞同：0
> 
> 时间：2013-03-26T11:32:26.133
> 
> 标签：javascript, jquery, google-chrome-extension

我使用 Chrome 内容脚本来注入这个脚本：

```
$('textarea').keyup(function(evt){
   var txt = $(this).val();
   $(this).val(txt.replace(/:\u06CC\s|:\u064A\s/g, ":D "));  
}); 
```

这必须适用于用户想要聊天后出现的聊天文本区域，但 chrome 在“document_end”之间和 window.onload 事件触发后立即注入脚本。

所以它不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:53:45.957

我不确定，但由于 Gmail 中的所有内容都是动态的，您可能应该执行以下操作：

```
$(document).on("keyup", "textarea",function(evt){
   var txt = $(this).val();
   $(this).val(txt.replace(/:\u06CC\s|:\u064A\s/g, ":D "));  
}); 
```

# sql - 如何从表中找到唯一值

> ID：15635993
> 
> 赞同：1
> 
> 时间：2013-03-26T11:32:27.940
> 
> 标签：sql, sql-server

下面是我的表叫`companies`

```
company_id        Status
1001                OFF
1002                OFF
1003                OFF
1003                ON 
```

`company_id`如果有的话，我需要避免`status 'ON'`

我需要像下面这样

```
company_id        Status
1001                OFF
1002                OFF 
```

我如何为此编写查询

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T11:34:20.020

```
SELECT  *
FROM    tableName
WHERE   company_ID NOT IN
        (
            SELECT company_ID 
            FROM    tableName
            WHERE   Status = 'ON'
        ) 
```

或通过使用`LEFT JOIN`

```
SELECT  a.*
FROM    tableName a
        LEFT JOIN
        (
            SELECT company_ID 
            FROM    tableName
            WHERE   Status = 'ON'
        ) b ON a.company_ID = b.company_ID
WHERE   b.company_ID IS NULL 
```

*   [SQLFiddle 演示（*两个查询*）](http://www.sqlfiddle.com/#!3/fbc82/1)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-26T11:34:48.320

```
SELECT Company_Id, Status FROM Companies C 
WHERE NOT EXISTS(SELECT * FROM Companies 
WHERE Company_Id = C.Company_id AND Status = 'ON') 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-26T11:38:21.577

```
SELECT company_ID, MAX(Status) AS Status FROM companies
GROUP BY company_ID
HAVING MAX(Status) = 'OFF' 
```

您可以使用 MIN 和 MAX 函数对字符串值进行排序。在这种情况下，MAX 将在 OFF 之前返回 ON。

# php - 使用带有 PHP SOAP 的固定 WSDL 文件

> ID：15635994
> 
> 赞同：0
> 
> 时间：2013-03-26T11:32:28.847
> 
> 标签：php, soap, nusoap

我正在使用 php`nusoap`库开发 Soap 服务器，但是，我不需要使用由 生成的动态生成W **​​SDL**文件功能，我只想告诉 nuSoap 使用由另一个团队手动编写的 Fixed WSDL 文件**。**`nusoap`

 **你有什么建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T13:43:26.283

我的建议——放弃。我不完全确定你可以做你想做的事。

如您所知，NuSOAP**仅从**您指定的函数动态创建 WSDL，然后在请求时返回结果 WSDL。

如果您*可以*使用外部固定的 WSDL，如果稍后在您不知情的情况下更改它会发生什么？对未由您的某个函数处理的 SOAP 方法的调用可能会提供未知结果，并且需要由调用机器以一种不错的、不影响客户的方式处理。相反，如果您提供了新功能，但其他团队不会为您调整 WSDL，您会怎么做？尝试将其插入其他功能？

尝试将您的函数与预定义的 WSDL 匹配而没有错误将远远超出您可以获得的任何好处。

坚持使用“on-the-fly”一代，以保持一致性和不让人头疼。使用预先生成的 WSDL 作为参考，但不要费心研究是否可以使用它

另外，我同意@chrfin。如果它们在您的服务器上可用，请考虑使用本机 PHP SOAP 函数 - 它们明显比 NuSOAP 快，因为它们是编译的而不是解释的。我首先使用 NuSOAP 的唯一原因是（大约 5 年前）本机 SOAP 在与我需要的提供者通信时出现问题（不正确的变量类型等）。不过现在，我将把我的所有代码重构为原生 PHP SOAP**

# cluster-computing - 带有 JobStoreCMT 的集群石英 - 两个数据源还是一个？

> ID：15635996
> 
> 赞同：2
> 
> 时间：2013-03-26T11:32:31.460
> 
> 标签：cluster-computing, quartz-scheduler

我正在尝试在具有至少 3 个节点的集群上设置 Quartz。

到目前为止，我设法发现我需要使用[JobStoreCMT](http://quartz-scheduler.org/documentation/quartz-2.1.x/configuration/ConfigJobStoreCMT)。JobStoreCMT[需要两个数据源](http://www.mastertheboss.com/jboss-quartz/quartz-2-tutorial-on-jboss-as-7/page-2)：

*   托管数据源
*   非托管数据源

据我了解，托管 DS 用于调用 API（添加作业、删除作业等）。非托管 DS 用于调度程序实例的调用（锁定作业、更新状态等） -[请参阅此 SO question](https://stackoverflow.com/questions/7422738/why-does-quartz-schedulerjobstorecmt-require-the-use-of-two-datasources)。

**问题1**：正确吗？

**问题 2**：有人可以向我指出某种文档，这解释了为什么我需要两个数据源？

**最有趣的问题是**：为什么有这么多使用 JobStoreCMT 的[教程](http://www.mastertheboss.com/jboss-quartz/quartz-2-tutorial-on-jboss-as-7/page-2)，使用相同的 DS 两次？

# symfony - Symfony2 - 具有可选文件上传的实体

> ID：15635998
> 
> 赞同：2
> 
> 时间：2013-03-26T11:32:32.190
> 
> 标签：symfony, file-upload, doctrine-orm

我遵循以下链接中列出的所有步骤： [http](http://symfony.com/doc/current/cookbook/doctrine/file_uploads.html) ://symfony.com/doc/current/cookbook/doctrine/file_uploads.html 以创建一个能够使用生命周期回调上传文件的实体。当我上传新文件以及编辑当前文件时，它可以正常工作，用新文件替换旧文件。实体不仅包含对文件的引用，还包含其他数据（标题、文本...）。但是，我想让文件字段可选，这意味着，有时我需要在创建新实体时上传文件，有时不需要，将其留空。但无论我做什么，创建或编辑，我都无法在不指定文件的情况下保存其余数据。我的意思是，我不能将文件表格留空。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T13:43:57.333

```
$form = $this->createFormBuilder($document)
        ->add('name')
        ->add('file', 'file', array('required'=>false)
        ->getForm()
    ; 
```

您可能还需要在您的实体上指定该字段可以为空

```
/**
 * @ORM\Column(name="file", type="string", nullable="true")
 */
 protected $file; 
```

# wordpress - 带有付款选项的wordpress注册

> ID：15635999
> 
> 赞同：-2
> 
> 时间：2013-03-26T11:32:34.520
> 
> 标签：wordpress

我正在使用 wordpress 开发一个网站，我希望用户在其中注册并按月付款

使用贝宝的订阅费。

我想为他们分配一个特定的角色，以便他们可以创建帖子。

现在，如果用户通过贝宝取消订阅，我该如何自动停用用户会员资格。有没有办法从贝宝收到通知到我的 wordpress 网站，以便我检查

并触发失活过程。

请帮忙...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T16:27:48.377

1.  您需要使用贝宝 API [https://developer.paypal.com/集成贝宝](https://developer.paypal.com/)
2.  您可以使用此插件[http://wordpress.org/extend/plugins/adminimize/管理每个角色](http://wordpress.org/extend/plugins/adminimize/)