# StackOverflow 问答 14931000-14931999

# mysql - 从所有表中选择 - MySQL

> ID：14931001
> 
> 赞同：22
> 
> 时间：2013-02-18T06:58:10.977
> 
> 标签：mysql, sql

我有一个名为 mySQL 的数据库`listDB`，其中包含多个具有列名`Product`等的表。我想`SELECT`从 Product Like %XYZ% 的所有表中获取，并在单独的表中显示搜索结果。

我试过这个：

```
SELECT * FROM * WHERE Product LIKE %XYZ% 
```

但它不起作用。为此目的，正确的查询是什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-18T07:07:59.590

您可以使用以下语句获取包含列产品的所有表：

```
SELECT DISTINCT TABLE_NAME 
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE COLUMN_NAME IN ('Product')
        AND TABLE_SCHEMA='YourDatabase'; 
```

然后您必须在这些表上运行[光标](http://dev.mysql.com/doc/refman/5.0/en/cursors.html)，以便每次选择：

```
Select * from OneTable where product like '%XYZ%' 
```

结果应该输入到第三个表或视图中，看看[这里](https://stackoverflow.com/questions/25969/sql-insert-into-values-select-from)。

注意：这只有在所有表的结构相似的情况下才有效，否则 aou 将必须查看所有这些表的哪些列是联合的，并创建您的结果表/视图以仅包含这些列。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-09-25T17:16:55.830

```
SELECT product FROM Your_table_name WHERE Product LIKE '%XYZ%'; 
```

上面的语句将显示单个表的结果。如果要添加更多表，只需使用 UNION 语句。

```
SELECT product FROM Table_name_1 
WHERE Product LIKE '%XYZ%'  
UNION  
SELECT product FROM Table_name_2 
WHERE Product LIKE '%XYZ%'  
UNION  
SELECT product FROM Table_name_3 
WHERE Product LIKE '%XYZ%' 
```

... 等等

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-20T19:09:06.980

为什么您不只是转储 mysql 数据库，而是在没有 --single-transaction 的情况下运行时扩展，您将中断与其他客户端的连接：

```
mysqldump --host=hostname.de --port=0000 --user=username --password=password --single-transaction --skip-add-locks --skip-lock-tables --default-character-set=utf8 datenbankname > mysqlDBBackup.sql 
```

之后读出文件并搜索你想要的......在字符串中......

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-18T07:07:55.403

正如 Suhel Meman 在评论中所说：

```
SELECT column1, column2, column3 FROM table 1
UNION
SELECT column1, column2, column3 FROM table 2
... 
```

会工作。

但是你所有的`SELECTS`都必须包含相同数量的列。并且因为您在一个结果表中显示它，所以它们应该包含相同的信息。

您可能想要做的是在产品 ID 上加入 JOIN 或类似的东西。这样你会得到更多的列，这在大多数情况下更有意义。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2020-10-20T16:26:41.653

改进为@inno 答案

```
delimiter //

DROP PROCEDURE IF EXISTS get_product;  
CREATE PROCEDURE get_product()
BEGIN
   DECLARE i VARCHAR(100); 
   DECLARE cur1 CURSOR FOR SELECT DISTINCT table_name FROM information_schema.columns WHERE COLUMN_NAME IN ('Product');
   OPEN cur1;

   read_loop: LOOP
       FETCH cur1 INTO i;

       SELECT i; -- printing table name

       SET @s = CONCAT('select * from ', i, ' where Product like %XYZ%'); 
       PREPARE stmt1 FROM @s;
       EXECUTE stmt1;
       DEALLOCATE PREPARE stmt1;

   END LOOP read_loop;

   CLOSE cur1;
END//

delimiter ;

call get_product(); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-02-18T07:14:05.130

您可以从 information_Schema.columns 获取所有具有“产品”列的表

```
SELECT DISTINCT table_name FROM information_schema.columns WHERE column_name ="Product"; 
```

也不创建程序

```
delimiter //
CREATE PROCEDURE curdemo()
BEGIN
  DECLARE a varchar(100); 
  DECLARE cur1 CURSOR FOR SELECT DISTINCT table_name FROM information_schema.columns WHERE column_name ="Product";
  OPEN cur1;

  read_loop: LOOP
    FETCH cur1 INTO a;

    SELECT * FROM a;

  END LOOP;

  CLOSE cur1;
END;

delimiter ;

call curdemo(); 
```

# jquery - 使用带有 jQ uery.when() 的延迟数组

> ID：14931004
> 
> 赞同：1
> 
> 时间：2013-02-18T06:58:23.527
> 
> 标签：jquery, jquery-deferred, .when

我`$.when`用来在其他一些逻辑之前运行 2 个函数。现在，在某些情况下，我需要在执行相同的逻辑之前运行一组不同的函数，所以我想将一组函数传递给`$.when`，但无法使其运行。

就像是：

```
function funcA(){
    console.log("funcA");
}
function funcB(){
    console.log("funcB")
}
var funcArr = [funcA, funcB];

$.when(funcArr).then(function(){
    console.log("DONE!");
}); 
```

但这不起作用，写入控制台的唯一内容是“完成！”。我阅读了以下内容[如何使用 jQuery Deferreds 数组？](https://stackoverflow.com/questions/4878887/how-do-you-work-with-an-array-of-jquery-deferreds)，但以下行为相同：

```
$.when.apply($, funcArr).then(function(){
    console.log("DONE!")
}); 
```

那里有什么问题？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:10:04.410

您的输入`$.when`不是 type `Deferred`，这是函数的预期输入类型 - [http://api.jquery.com/jQuery.when/](http://api.jquery.com/jQuery.when/)

在最简单的级别上，您可以`Deferred`使用函数作为`beforeStart`构造参数来构造类型。像：

```
var funcArr = [$.Deferred(funcA), $.Deferred(funcB)]; 
```

这是一个工作小提琴：http: [//jsfiddle.net/6MeM5/](http://jsfiddle.net/6MeM5/)

**此外：**

如果您只是尝试执行函数数组中的每个函数，则无需`Deferred`参与。只需使用 迭代数组`$.each`，例如：

```
$.each(funcArr, function(){
    this();
}); 
```

# android - 启动不带 .class 的 Android 服务

> ID：14931006
> 
> 赞同：4
> 
> 时间：2013-02-18T06:58:33.863
> 
> 标签：android, android-intent, android-service

我正在寻找一种在没有课程的情况下启动 Android 服务的方法。我发现了很多例子，比如：

```
startService(new Intent(this, TheService.class)); 
```

我不想将服务类放入其中并且在我手动停止它之前仍然让服务运行。

我不需要服务的接口，因为它只应该打开一些没有任何参数的套接字。

服务运行时间不应依赖于应用程序的运行时间：第一个需要服务的应用程序应该启动它，然后它应该运行直到它被手动停止。

所以我不能使用`BroadcastReceiver`，因为它们的寿命很短。绑定到服务将导致取消绑定，从而停止服务（我不想要）。

有没有办法在没有服务的 .class 的情况下使用启动服务？替代方案：有没有办法绑定到不将生命周期链接到已启动应用程序的服务？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T07:06:05.567

您可以按名称启动它。像这样：

```
public static void startYourService(Context context) {
    Intent i = new Intent("com.whatever.servicename.YOUR_ACTION_NAME");
    i.setPackage(context.getPackageName());
    context.startService(i);
} 
```

您需要使用该服务向 apk 添加一个意图过滤器：

```
<service
    android:name="com.whatever.servicename"
    android:exported="true">
    <intent-filter>
        <action android:name="com.whatever.servicename.YOUR_ACTION_NAME" />
    </intent-filter>
</service> 
```

# c++ - 如何在 XCode 的 cocos2d-x 项目中使用 sqlite3

> ID：14931013
> 
> 赞同：3
> 
> 时间：2013-02-18T06:59:18.193
> 
> 标签：c++, xcode, sqlite, cocos2d-x

[我从这里](http://www.sqlite.org/download.html)下载 SQLite 的 C/C++ 接口。我得到 4 个源文件`shell.c`,`sqlite3.c`和.`sqlite3.h``sqlite3ext.h`

现在我将所有这 4 个文件添加到我的 cocos2d-x 项目中，并使用以下代码进行测试：

```
#include "sqlite/sqlite3.h"

sqlite3 *pDB = NULL;
char * errMsg = NULL;
std::string sqlstr;
int result;

result = sqlite3_open("save.db", &pDB);
if( result != SQLITE_OK )
    CCLog( "failed，status_code:%d ，error_msg:%s\n" , result, errMsg );

sqlite3_close(pDB); 
```

然后我运行它。但它构建失败，错误如下所示：

> 重复符号 _main 在：
> 
> /Users/tangyue/Library/Developer/Xcode/DerivedData/CrossKaiser-bkepfijxelboxkchsxvcmpozrwlt/Build/Intermediates/CrossKaiser.build/Debug-iphonesimulator/CrossKaiser.build/Objects-normal/i386/main.o
> 
> /Users/tangyue/Library/Developer/Xcode/DerivedData/CrossKaiser-bkepfijxelboxkchsxvcmpozrwlt/Build/Intermediates/CrossKaiser.build/Debug-iphonesimulator/CrossKaiser.build/Objects-normal/i386/shell.o
> 
> ld：架构 i386 的 1 个重复符号 clang：错误：链接器
> 
> 命令失败，退出代码为 1（使用 -v 查看调用）

`main`我认为这些文件中肯定有一个，会出现这个错误。我`main`在文件中找到了方法`shell.c`。因为我没有在我的测试代码中包含这个文件，所以我将它从项目中删除。

然后我再次运行它。这次构建成功，但值为`result`NOT **，** `SQLITE_OK`为14( `SQLITE_CANTOPEN`)，表示“无法打开数据库文件”。

现在我应该怎么做才能正确运行程序？该`shell.c`文件的用途是什么，我将其从项目中删除是错误的吗？

[**更新**]

* * *

我喜欢它使用以下代码：

```
string dbPath = CCFileUtils::sharedFileUtils()->getWriteablePath();
dbPath.append("save.db");

CCLog("%s", dbPath.c_str());

result = sqlite3_open_v2(dbPath.c_str(), &pDB, SQLITE_OPEN_CREATE | SQLITE_OPEN_READWRITE, NULL); 
```

代替

```
result = sqlite3_open("save.db", &pDB); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:12:29.147

从您的项目中删除 shell.c。它是使用 sqlite 数据库的 cli 工具。它定义 main() 因为它是可执行的。

关于你的问题[sqlite3_open 的第二部分：“无法打开数据库文件”](https://stackoverflow.com/questions/11250870/sqlite3-open-unable-to-open-database-file)

# templates - Kendo 模板中的 Switch 语句

> ID：14931017
> 
> 赞同：7
> 
> 时间：2013-02-18T06:59:36.650
> 
> 标签：templates, switch-statement, kendo-ui

我使用**剑道模板**，我能够创建一个条件语句（IF 语句），如文档中所述。这是我的代码。

```
#if ((item.ControlType) == "tbx"){#
   @(Html.Kendo().AutoComplete()
   .Name("#=ctrlid#")
   .ToClientTemplate())
#}# 
```

这工作正常。

但我想要的是一个**Switch Case** 语句。我已经尝试过了，但它不起作用。它说“无效的模板”。

```
# switch (item.ControlType) {#
  # case "tbx": #
     @(Html.Kendo().AutoComplete()
       .Name("#=ctrlid#")
       .ToClientTemplate())
  # break; #
  # }# 
```

我错过了什么吗？还是说 Kendo Template 无法解释 Switch Case 语句？（关于后者，我不这么认为..我肯定错过了一些东西）

任何人都可以帮助我吗？谢谢！^^

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-18T17:09:48.477

我检查了您的情况，并找到了错误的原因。基本上，为了保持 JavaScript 有效，您只需要在 switch 语句和第一个 case 语句周围使用一对 # 符号。

例如

代替：

```
# switch (item.ControlType) {#
# case "tbx": # 
```

采用：

```
# switch (item.ControlType) {
  case "tbx": # 
```

为了演示它，这里是一个[jsbin](http://jsbin.com/orawuw/2/edit)。如果将开关与 MVC 包装器生成的一些小部件结合使用，基本上应该不会有问题。如果有，请告诉我。

# jquery - 从标签中获取价值

> ID：14931018
> 
> 赞同：1
> 
> 时间：2013-02-18T06:59:40.290
> 
> 标签：jquery

我有这样的html结构：

```
<div class="dk_options">
   <ul class="dk_options_inner">
      <li class="dk_option_current"><a data-dk-dropdown-value="">Select State</a></li>
      <li class=""><a data-dk-dropdown-value="1">AK</a></li>
      <li class=""><a data-dk-dropdown-value="2">AL</a></li>
      <li class=""><a data-dk-dropdown-value="3">AR</a></li>
      <li class=""><a data-dk-dropdown-value="4">AZ</a></li>
      <li class=""><a data-dk-dropdown-value="5">CA</a></li>
      <li class=""><a data-dk-dropdown-value="6">CO</a></li>
   </ul>
</div> 
```

我想获取标签属性 data-dk-dropdown-value 的值。我的代码总是显示为空

```
var a=jQuery('#dk_container_businessState .dk_options ul li a').attr('data-dk-dropdown-value');
alert(a); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:03:04.070

尝试这个：

```
jQuery('#dk_container_businessState .dk_options li').each(function(){
  var a = jQuery(this).find('a').attr('data-dk-dropdown-value');
  alert(a);
}); 
```

而是使用`.data()`更好的用途：

```
var a = jQuery(this).find('a').data('dk-dropdown-value'); 
```

[**读取 data-* 自定义属性**](http://html5doctor.com/html5-custom-data-attributes/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:04:01.850

看到这个：http: [//jsfiddle.net/gUYX6/](http://jsfiddle.net/gUYX6/)

```
 jQuery('#dk_container_businessState .dk_options li').each(function(){
  var a = jQuery(this).find('a').data('dk-dropdown-value');
  alert(a);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:06:57.373

不要使用 attr，有一个[数据](http://api.jquery.com/data/)函数。选择元素数据的正确方法是：

```
var val = $('.dk_options ul li a').data('dk-dropdown-value'); 
```

设置数据使用：

```
$('.dk_options ul li a').data('dk-dropdown-value', 'value'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T08:18:37.867

尝试这个，

```
$(document).ready(function() {
    $('.dk_options .dk_options_inner li a').each(function(){
       alert($(this).attr('data-dk-dropdown-value'));
    });
}); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-18T07:03:36.020

您的选择器正在收集列表中的所有元素，但 .data() 方法仅作用于第一个匹配的元素。该元素的 data-dk-dropdown-value 属性的值为 ""。

如果您想要每个匹配元素的所有值，请尝试以下操作：

```
var a=[];
jQuery('#dk_container_businessState .dk_options ul li a').each(function () {
  a.push($(this).data('dk-dropdown-value'));
});
alert(a); 
```

# batch-file - Findstr 命令和多字符串搜索

> ID：14931019
> 
> 赞同：0
> 
> 时间：2013-02-18T06:59:43.087
> 
> 标签：batch-file, window

伙计们，如果我想做很多次 findstr 它只是不显示行中的 2 和 3 的值，请纠正我

```
>summary.txt (
  for %%F in (*chkpackage*) do findstr %1 "%%F" nul || echo %%F:N/A  && findstr %2 "%%F"  &findstr %3 "%%F"
) 
```

我也想搜索字符串 2 和 3，但是为什么在我运行这个字符串 2 和 3 后不显示

我是否使用了错误的语法？

就像我的资源文本文件中有“

```
aaa 111 
bbb 222 
ccc 333 
DDD 444 
eee 555 
aaa 666 
```

sting1 用于 aaa
sting2 用于 ccc
sting3 用于 eee

结果 summary.txt 就像

```
filename.txt : aaa 111 : ccc 333 : eee 555 
filename.txt : aaa 666 : ccc 333 : eee 555 
```

谢谢你的任何回答

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T00:46:52.260

也许这就是你想要的？

```
@echo off
for %%F in (*chkpackage*) do (
   for /F "delims=" %%a in ('findstr %1 "%%F"') do (
      for /F "delims=" %%b in ('findstr %2 "%%F"') do (
         for /F "delims=" %%c in ('findstr %3 "%%F"') do (
            echo %%F : %%a : %%b : %%c
         )
      )
   )
) 
```

# java - java处理unicode用户区有什么限制吗？

> ID：14931020
> 
> 赞同：1
> 
> 时间：2013-02-18T06:59:54.350
> 
> 标签：java, unicode, fonts

我在私人使用区域有一个带有许多字形的自定义字体。当我这样做时`drawString("\ue21f",…);`，没有打印任何内容，但字符*位于*此代码点。如果我打印一个简单`A`的，我会从我的字体中得到正确的 A。Java 中的 unicode 用户代码区域是否有任何限制……？

# php - 可以添加到 wordpress 博客或页面的“[]”功能的名称是什么？

> ID：14931026
> 
> 赞同：0
> 
> 时间：2013-02-18T07:00:31.403
> 
> 标签：php, wordpress

请随意格式化问题标题。

我一直在编写一些插件，我想要一个可以直接从页面或博客文章调用的插件。

我已经看到很多插件在页面/博客编辑器上实现了“[]”，我正在尝试复制这种行为。

例如：我想要写一篇博文的功能，并调用这个回显“Hello world！”的函数。

* * *

```
Hello this is a page. [hello] 
```

* * *

输出将是：

* * *

你好，这是一个页面。你好世界！

* * *

这个功能叫什么，如果我能得到一个关于如何编码的例子？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:04:56.167

短代码

这是文档：

[http://codex.wordpress.org/Shortcode_API](http://codex.wordpress.org/Shortcode_API)

最简单的形式是：

```
function foobar_func( $atts ){
 return "foo and bar";
}
add_shortcode( 'foobar', 'foobar_func' ); 
```

然后`[foobar]`在任何帖子/页面中调用，都会调用定义的函数`foobar_func`。

# maven-2 - 在从不同的关系源下载存储库时需要帮助

> ID：14931030
> 
> 赞同：0
> 
> 时间：2013-02-18T07:01:11.690
> 
> 标签：maven-2, nexus

我是 Nexus 和 Maven 的新手，尝试一个示例，我必须从三个不同的来源下载三个不同的存储库，源 1\. Maven 存储库，即 maven 的网站。2\. 在我的本地机器上安装并运行本地 Nexus， 3\. Nexus 的另一个私有来源，第三方 jar 可以从该来源从部署在其他服务器上的私有 nexus 下载。

请帮助我或给我一个可以做到这一点的方向。我对setting.xml和pom.xml的修改略知一二。我可以通过配置 settings.xml 和 pom.xml 从我的本地关系下载存储库。

问候，亚什。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:36:17.307

我得到了我的问题的答案，这可以通过在 repositories 标签中的 maven 存储库的 pom.xml 中添加不同的 nexus 存储库来完成，例如

```
<repository>
        <id>repositryID</id>
        <name>repositoryName</name>
        <url>http://NexusserverRepositoryHOST1:PORT/nexus/content/repositories/thirdparty/</url>
        <releases>
            <enabled>true</enabled>
        </releases>
        <snapshots>
            <enabled>true</enabled>
        </snapshots>
    </repository>
<repository>
        <id>repositryID</id>
        <name>repositoryName</name>
        <url>http://NexusserverRepositoryHOST2:PORT/nexus/content/repositories/thirdparty/</url>
        <releases>
            <enabled>true</enabled>
        </releases>
        <snapshots>
            <enabled>true</enabled>
        </snapshots>
    </repository> 
```

# macos - 如何在mac上找到.pkg文件的md5

> ID：14931032
> 
> 赞同：0
> 
> 时间：2013-02-18T07:01:22.913
> 
> 标签：macos, package, md5

我尝试使用以下命令在 mac 上查找包的 md5：

```
md5 filename.pkg 
```

它给了我这个错误：

```
filename.pkg is a directory 
```

有人可以帮我纠正`md5`mac上的包或任何指向该主题的指针吗？我曾经用相同的方法查找`md5`文件`.app`，根据我的理解 .app 也是一个目录。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:39:12.773

您可以计算目录的校验和。更多信息可以在[这里找到](https://stackoverflow.com/questions/1657232/how-can-i-calculate-an-md5-checksum-of-a-directory)

# git - 当提交历史不直接而是由几个程序员合并时如何 git rebase

> ID：14931043
> 
> 赞同：1
> 
> 时间：2013-02-18T07:01:57.330
> 
> 标签：git, rebase

我有一个提交历史，例如： ![在此处输入图像描述](../Images/a77c0adf061377bafbdac823486822ad.png)，并且我希望它类似于![在此处输入图像描述](../Images/7c1d48e8ec736cb3d7201e4650762f2e.png). **编辑**：历史从底部开始，顶部是较新的提交。

我想把`rebase/squash`所有这些提交到“这里”。或者“这里”之前的那个也是可以接受的。

**编辑：**我所做的是：

1.  我现在在提交“A”
2.  `git rebase -i here`
3.  将单词设置为“squash”，保持第一个“pick”不变
4.  它说`error: could not apply c148 ...`。

奇怪的是，在第 2 步之后，弹出的编辑器`git rebase`只列出了蓝线的提交，而红线的提交不存在。

我应该如何解决这个问题？

PS：我认为[这个答案](https://stackoverflow.com/a/9958215/707580)可能有用。任何人都可以做一个图形解释吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:47:19.513

您可以像这样使用交互式变基：

```
git rebase -i here^ 
```

在弹出的编辑器中，将`pick`每次提交前的文本更改为`s`. 只保留最上面的 commit( `here`) 不变——它需要有`pick`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:35:14.210

您的历史从顶部开始？将您的分支重新定位到“这里”应该可以工作。也许你应该跳过两个已经合并的提交。

如果这不起作用，我们需要更多细节。特别是你图片中的哪个提交是c148 ......

* * *

关于您的链接，您也可以在“这里”创建一个新分支，然后挑选您的功能分支的四个剩余提交。

* * *

**编辑：**

当您想要将所有提交压缩到“此处”之外，您必须检查您的主分支（或其他分支）并以交互方式将其重新定位到“此处”。在编辑器中为壁球选择“s”。

```
git checkout master
git rebase -i here 
```

* * *

PSS抱歉添加答案，只是将我所有的声誉都花在我自己的问题上，并且不再允许发表评论。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T10:51:26.933

重新调整合并提交将是一件无聊的事情。我想`git reset`会更方便。

尝试这个：

```
git reset --hard A
git reset --soft here
git commit -m -C here  // assume this is new-A 
```

正如您在评论中所说，假设您在 A 之后有几个新提交，现在`B`在`master`分支中。

然后您可以执行以下操作：

```
git rebase --onto new-A A B
git checkout master
git reset --hard HEAD@{1} 
```

# javascript - 具有默认值的 SQLite 数据库

> ID：14931048
> 
> 赞同：1
> 
> 时间：2013-02-18T07:02:22.300
> 
> 标签：javascript, sql, sqlite, cordova

我将 sqlite 数据库用于 phonegap 应用程序。

我尝试这样的事情：

在应用程序第一次启动时创建表：

```
tx.executeSql('CREATE TABLE IF NOT EXISTS SETTINGS (id unique,data)'); 
```

之后我会得到第一行项目：

```
var returnwert = results.rows.item(0).data; 
```

该代码将产生以下错误：

```
Item index is out of range! 
```

我知道为什么，因为它在表中没有默认值。

如何创建具有 dafult 值的表？

像这样的东西：

```
 tx.executeSql('CREATE TABLE IF NOT EXISTS SETTINGS (id unique 1, 2, 3,data defaultvalue="test")'); 
```

一个名为 SETTINGS 的 3 行表如下所示：

```
id = 0 data = test
id = 1 data = test
id = 2 data = test 
```

有人可以帮助我吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:17:24.617

你可能意味着这样的事情来创建表：

```
CREATE TABLE IF NOT EXISTS settings (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    data VARCHAR(128)
) 
```

要使用一些值填充表，请使用以下语句：

```
REPLACE INTO settings VALUES (1, 'test');
REPLACE INTO settings VALUES (2, 'test');
REPLACE INTO settings VALUES (3, 'test'); 
```

如果您第一次运行它，将创建 id 1、2、3 的行。

如果您第二次运行它，id 1,2,3 的行将被覆盖。

如果您不想覆盖，请`INSERT OR IGNORE`像这样使用：

```
INSERT OR IGNORE INTO settings VALUES (1, 'test');
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:17:02.510

问题在于您的 sqlite 表的创建。

```
 tx.executeSql('CREATE TABLE "SETTINGS" ("id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT    NULL , "DATA" TEXT NOT NULL);',
                  null,
                  function(){/* to do on success */},
                  function(){/* to do on fail */}
); 
```

然后在插入时你应该使用这个查询：

```
tx.executeSql("INSERT INTO \"book\" VALUES(1,'test');",null,function(){/* to do on success */},function(){/* to do on fail */});
tx.executeSql("INSERT INTO \"book\" VALUES(2,'test');",null,function(){/* to do on success */},function(){/* to do on fail */});
tx.executeSql("INSERT INTO \"book\" VALUES(3,'test');",null,function(){/* to do on success */},function(){/* to do on fail */}); 
```

你可以随时参考[phonegap的纪录片](http://docs.phonegap.com/en/2.4.0/cordova_storage_storage.md.html#Storage)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T09:46:19.573

请尝试以下代码打开一个新数据库，从中插入和读取值。

```
<!DOCTYPE html>
<html>
  <head>
    <title>Storage Example</title>

    <script type="text/javascript" charset="utf-8" src="cordova-2.4.0.js"></script>
    <script type="text/javascript" charset="utf-8">

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Populate the database 
    //
    function populateDB(tx) {
        tx.executeSql('DROP TABLE IF EXISTS DEMO');
        tx.executeSql('CREATE TABLE IF NOT EXISTS DEMO (id unique, data)');
        tx.executeSql('INSERT INTO DEMO (id, data) VALUES (1, "First row")');
        tx.executeSql('INSERT INTO DEMO (id, data) VALUES (2, "Second row")');
    }

    // Query the database
    //
    function queryDB(tx) {
        tx.executeSql('SELECT * FROM DEMO', [], querySuccess, errorCB);
    }

    // Query the success callback
    //
    function querySuccess(tx, results) {
  console.log("Returned rows = " + results.rows.length);
  // this will be true since it was a select statement and so rowsAffected was 0
  if (!results.rowsAffected) {
    console.log('No rows affected!');
    return false;
  }
  // for an insert statement, this property will return the ID of the last inserted row
  console.log("Last inserted row ID = " + results.insertId);
    }

    // Transaction error callback
    //
    function errorCB(err) {
        console.log("Error processing SQL: "+err.code);
    }

    // Transaction success callback
    //
    function successCB() {
        var db = window.openDatabase("Database", "1.0", "Cordova Demo", 200000);
        db.transaction(queryDB, errorCB);
    }

    // Cordova is ready
    //
    function onDeviceReady() {
        var db = window.openDatabase("Database", "1.0", "Cordova Demo", 200000);
        db.transaction(populateDB, errorCB, successCB);
    }

    </script>
  </head>
  <body>
    <h1>Example</h1>
    <p>Database</p>
  </body>
</html> 
```

# multithreading - R中可以创建多少个线程？

> ID：14931049
> 
> 赞同：1
> 
> 时间：2013-02-18T07:02:24.123
> 
> 标签：multithreading, r, dll

我已经构建了一个 DLL，其中在函数 HelloWorld 中创建了 50 个线程。

然后我尝试在 R 中调用 HelloWorld。`(dyn.load("...dll"); .C("HelloWorld");`
在`R 2.11.1`中，就可以了。但在 中`R i386 2.15.2`，它因内存不足错误而失败。它在第 23 个线程失败。

是一个错误`R2.15`吗？

# google-app-engine - 如何回滚 Google App Engine SDK 的本地安装

> ID：14931056
> 
> 赞同：0
> 
> 时间：2013-02-18T07:02:55.423
> 
> 标签：google-app-engine

我安装了适用于 Python SDK 的 Google App Engine，一切都很好。我最近更新到最新版本并且事情正在打破。

最容易追查的是，`add`在`Index`课堂上被替换为`put`. 这是一个相当大的问题，因为我们要在`_pre_put_hook`.

我看到[了 Feb 13 的发行说明](http://code.google.com/p/googleappengine/wiki/SdkReleaseNotes)，但没有看到重大更改文档或任何内容。我也不确定这些问题何时会传播到生产环境中，因为应用程序似乎在生产中运行时没有问题。

所以我有两个问题：

1.  如何将本地 SDK 回滚到 1.7.4。我检查了[svn repo](http://code.google.com/p/googleappengine/)，但我不知道如何处理它。

2.  我应该期望这些更改何时在生产中生效？我是否错过了文档的某些部分或某些频道/组，我可以在其中了解这些内容的最新信息？在过去的几周里，#appengine 频道 Freenode 确实很有帮助，但我希望有一个更官方的地方来跟踪新闻。

**更新**：我发现[这个帖子](https://groups.google.com/forum/?hl=en&fromgroups=#!topic/google-appengine/Z6XN_64cA7w)说 Stack Overflow 不是官方的支持渠道。希望这意味着这个问题将得到更快的解决:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-27T17:16:52.190

这可能有点旧，但旧的响应不再起作用，所以以防万一有人遇到我的情况并需要旧的 SDK（尚未从 python 2.5 升级），有这个页面：[https://commondatastorage .googleapis.com/appengine-sdks/](https://commondatastorage.googleapis.com/appengine-sdks/)。您可以浏览页面并将斜线后的所有内容替换为所需 SDK 的正确链接。

例如，我需要为 MAC OS 下载 SDK 1.6，所以我最终使用了这个链接（在地址栏中）：[https ://commondatastorage.googleapis.com/appengine-sdks/deprecated/160/GoogleAppEngineLauncher-1.6.0 .dmg](https://commondatastorage.googleapis.com/appengine-sdks/deprecated/160/GoogleAppEngineLauncher-1.6.0.dmg)，我通过在 XML 页面中搜索 dmg 找到的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T17:01:33.907

1）您可以在此处下载 1.7.4 SDK（但我建议您不要）：http: [//googleappengine.googlecode.com/files/google_appengine_1.7.4.zip](http://googleappengine.googlecode.com/files/google_appengine_1.7.4.zip)

2) 在发布给我们之前，生产实际上已更新到新的 SDK（以及部分推出）。这是为了在进行大规模发布之前测试可能存在的错误等。您可以在[google-appengine 组中了解最新的 SDK 版本](https://groups.google.com/forum/?hl=en&fromgroups=#!forum/google-appengine "谷歌应用引擎")

此 SDK 的部分发行说明提到，搜索 API 中的某些功能已从 SDK 中删除，并将在下一个版本中从生产中删除。我假设这包括您的代码所依赖的功能。您还使用了一个不能保证保持向后兼容的“实验”类，因此当进行此类更改时，您必须能够快速适应代码中的更改。修改代码以解决这些更改并在下一个 SDK 最终确定之前推出它可能符合您的最大利益（确切日期未知，但将在上面链接的组中给出“预发布”公告）。如果您确实需要此功能，也可以尝试在问题跟踪器上打开问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T17:14:08.083

Rmove 1.7.5 并下载并安装旧版本。它们仍然可用。

[https://developers.google.com/appengine/downloads](https://developers.google.com/appengine/downloads)

只需查看您正在使用的操作系统的实际下载链接即可。不要只是单击 URL，而是复制链接并将其粘贴到新的浏览器窗口中，然后更改版本号。

我个人遇到过几次 SDK 升级的痛苦。我通常将 sdk 安装到一个名为 google_appengine 的文件夹中。在安装新的之前，我会定期将旧的重命名为备用名称（即 google_appengine_1_7_4）。如果我遇到麻烦，我只需重命名周围的文件夹，以便新版本变为 google_appengine_1_7_5 并将旧版本重命名回 google_appengine。很简单。

# php - 解析错误：语法错误，文件意外结束

> ID：14931059
> 
> 赞同：-3
> 
> 时间：2013-02-18T07:03:12.583
> 
> 标签：php

我只是在开发一个将表单注入我的数据库的系统，但它没有用。

这是我的代码：

```
<?php

if(isset($_POST['submit']))
{

$con = mysql_connect("CENSORED","PRIVATE","REALLY PRIVATE");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

mysql_select_db("EVEN MORE PRIVATE", $con);

$sql="INSERT INTO data (email, user)
VALUES
('$_POST[email]','$_POST[username]')";

if (!mysql_query($sql,$con))
  {
  die('Error: ' . mysql_error());
  }
echo "1 record added";

mysql_close($con);

?> 
```

我正在创建一个邀请系统，仅供参考。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:04:38.147

引号中缺少

```
$con = mysql_connect("CENSORED,"PRIVATE","REALLY PRIVATE"); 
```

更改为：

```
$con = mysql_connect("CENSORED","PRIVATE","REALLY PRIVATE"); 
```

**注意：**
1\. mysql_* 函数已弃用，使用 mysqli_* 或 PDO
2\. 您的查询容易受到 sql 注入的影响，请确保其安全。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:07:24.953

```
$con = mysql_connect("CENSORED,"PRIVATE","REALLY PRIVATE"); 
```

改成

```
$con = mysql_connect("CENSORED","PRIVATE","REALLY PRIVATE"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T17:37:49.673

第一个大括号当前没有右大括号。您忘记了代码中某处的右大括号......可能在您发布的代码的末尾。

代替：

```
mysql_close($con);

?> 
```

和：

```
mysql_close($con);
}
?> 
```

# html - 使用 HTML 4 而不是 HTML 5 有什么好处？

> ID：14931060
> 
> 赞同：-3
> 
> 时间：2013-02-18T07:03:16.143
> 
> 标签：html, html4

是否有任何理由使用 HTML 4 而不是 HTML 5？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:06:47.220

HTML5 不受支持或不受支持。

它甚至还不是一个完整的规范。浏览器可能支持也可能不支持某些 HTML5 功能。旧版浏览器可能根本不支持 HTML5 引入的新功能。只要您不使用 HTML5 中引入的任何新功能，您的文档也将与旧版浏览器兼容。

如果您计划使用旧版浏览器不支持的一些新功能，同时使它们与您的网站兼容，您需要选择不同的方法来显示您的内容。

如果你想让 HTML5 兼容大多数浏览器，我建议你使用一些好的工具，比如 Boilerplate 和 Modernizr。

另外，我真的建议阅读有关 HTML 5 的说明。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:11:45.280

坚持仅使用 HTML 4 的标记和功能可确保向后兼容大量旧客户端。

就是这样。在实践中，您很少需要支持这样的旧客户端（除非您知道自己是谁）和/或您可以使用 Javascript 垫片将旧客户端拉入 HTML 5 时代。鉴于此，坚持使用 HTML 4 通常没有实际好处。

# blender - 为什么文件，添加，帮助选项没有显示在我的搅拌机 2.65 for 64 位的顶部？

> ID：14931066
> 
> 赞同：1
> 
> 时间：2013-02-18T07:03:31.653
> 
> 标签：blender

我是新的 Blender 3d 游戏开发者。我已经为 windows 7、64 位安装了 Blender 2.65。但有些选项没有显示。例如添加、文件、帮助等。我无法将它们带回来。请帮我。

当前视图：我已将问题部分标记为红色。 ![在此处输入图像描述](../Images/0f8653d9c6ffe3c1ac28ee62cc508338.png)

我想要的视图是这样的：我已标记为绿色。

![在此处输入图像描述](../Images/02749a79eda7affd4745bb3d1360be74.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:03:37.047

看看左上角：在第一张图片中，您看到一个立方体，即*3D View*的符号。在第二个中，显示了一个包含字母*i*的图标，用于*信息视图*。单击它并再次选择*信息视图*，就是这样。

此外，您可能对如何[安排界面](http://wiki.blender.org/index.php/Doc:2.6/Manual/Interface/Window_system/Arranging_frames)感兴趣。

# vba - 从excel将多个范围导入PowerPoint幻灯片

> ID：14931080
> 
> 赞同：0
> 
> 时间：2013-02-18T07:04:27.267
> 
> 标签：vba, excel, powerpoint

我是宏观开发的新手。我有一个宏，它将每个工作表中的特定范围（B4：J40）导入到单独的 ppt 幻灯片中，作为特定位置的图像。这一切都很好，我想要实现的是这个宏应该从同一张幻灯片上的同一张工作表中导入两个范围（比如 B4:D40 和 E4:J40）作为不同位置的图像。然后这个循环应该为当前工作簿中的每个工作表继续（就像现在一样）。

以下是我目前正在使用的代码：

```
Sub WorkbooktoPowerPoint()

    'Step 1:  Declare your
    Dim pp As Object
    Dim PPPres As Object
    Dim PPSlide As Object
    Dim xlwksht As Worksheet
    Dim MyRange As String
`
    'Step 2:  Open PowerPoint, add a new presentation and make visible
    Set pp = CreateObject("PowerPoint.Application")
    Set PPPres = pp.Presentations.Add
    pp.Visible = True

    'Step 3:  Set the ranges for your data and
    MyRange = "B4:J25"

    'Step 4:  Start the loop through each worksheet
    For Each xlwksht In ActiveWorkbook.Worksheets
    xlwksht.Select
    Application.Wait (Now + TimeValue("0:00:1"))

    'Step 5:  Copy the range as picture
    xlwksht.Range(MyRange).CopyPicture _
    Appearance:=xlScreen, Format:=xlPicture

    'Step 6:  Count slides and add new blank slide as next available slide number
    '(the number 12 represents the enumeration for a Blank Slide)
    SlideCount = PPPres.Slides.Count
    Set PPSlide = PPPres.Slides.Add(SlideCount + 1, 12)
    PPSlide.Select

    'Step 7:  Paste the picture and adjust its position
    PPSlide.Shapes.Paste.Select
    pp.ActiveWindow.Selection.ShapeRange.Align msoAlignCenters, True
    pp.ActiveWindow.Selection.ShapeRange.Top = 65
    pp.ActiveWindow.Selection.ShapeRange.Left = 7.2
    pp.ActiveWindow.Selection.ShapeRange.Width = 700

    'Step 8:  Add the title to the slide then move to next worksheet
    Next xlwksht

    'Step 9:  Memory Cleanup
    pp.Activate
    Set PPSlide = Nothing
    Set PPPres = Nothing
    Set pp = Nothing
End Sub 
```

请为我修改它，因为我不了解编码语言。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:36:36.673

```
 Sub WorkbooktoPowerPoint()

    'Step 1: Declare your variables
    Dim pp As Object
    Dim PPPres As Object
    Dim PPSlide As Object
    Dim xlwksht As Worksheet
    Dim MyRange As String
    Dim MyRange1 As String 'Define another Range
    Dim MyTitle As String

    'Step 2: Open PowerPoint, add a new presentation and make visible
    Set pp = CreateObject("PowerPoint.Application")
    Set PPPres = pp.Presentations.Add
    pp.Visible = True

    'Step 3: Set the ranges for your data and title
    MyRange = "B4:D7"
    MyRange1 = "E4:J7"
    'Step 4: Start the loop through each worksheet
    For Each xlwksht In ActiveWorkbook.Worksheets
    xlwksht.Select Application.Wait(Now + TimeValue("0:00:1"))
    'Step 5: Copy the range as picture
    xlwksht.Range(MyRange).CopyPicture Appearance:=xlScreen, Format:=xlPicture
    'Step 6: Count slides and add new blank slide as next available slide number '(the number 12 represents the enumeration for a Blank Slide)
    SlideCount = PPPres.Slides.Count
    Set PPSlide = PPPres.Slides.Add(SlideCount + 1, 12)
    PPSlide.Select
    'Step 7: Paste the picture and adjust its position
    PPSlide.Shapes.Paste.Select
    pp.ActiveWindow.Selection.ShapeRange.Align msoAlignTops, True
    pp.ActiveWindow.Selection.ShapeRange.Top = 65
    pp.ActiveWindow.Selection.ShapeRange.Left = 7.2
    pp.ActiveWindow.Selection.ShapeRange.Width = 700
    'Step 8: Add the title to the slide then move to next worksheet
    xlwksht.Range(MyRange1).CopyPicture Appearance:=xlScreen, Format:=xlPicture
    PPSlide.Shapes.Paste.Select
    pp.ActiveWindow.Selection.ShapeRange.Align msoAlignBottoms, True
    'You can set the second image prostion here
    pp.ActiveWindow.Selection.ShapeRange.Top = 765
    pp.ActiveWindow.Selection.ShapeRange.Left = 7.2
    pp.ActiveWindow.Selection.ShapeRange.Width = 700

    Next xlwksht

    'Step 9: Memory Cleanup 
    pp.Activate
    Set PPSlide = Nothing
    Set PPPres = Nothing
    Set pp = Nothing

    End Sub 
```

# php - 从bash运行PHP文件的多个实例并将结果附加到文件？

> ID：14931088
> 
> 赞同：2
> 
> 时间：2013-02-18T07:05:13.967
> 
> 标签：php, bash, concurrency

我有一个名为 iter.php 的 php 文件。我可以通过 bash 输入轻松地运行它：

```
php iter.php >> result.txt 
```

我可以通过重复它来连续运行它多次。但是，我需要同时运行它们。因此，换句话说，如果我连续运行两个实例，它们应该或多或少同时完成并在彼此之后立即输出，而不是在彼此之后运行。

我可以在 bash 中完成这个吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T07:07:19.267

通过使用`&`：

```
php iter.php >> result.txt & php iter.php >> result.txt 
```

你可以测试这是通过

```
php iter.php >> result.txt & sleep 10000 & php iter.php >> result.txt 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T07:35:42.097

```
!#/bin/bash

seq $1 | while read num do
    php iter.php >> $2 &
done 
```

上面的 bash 脚本应该同时运行`$1`（第一个脚本参数）进程，并在`$2`（第二个 bash 参数）中输出结果。

请注意，如果您的 PHP 脚本执行得非常快，您实际上可能看不到并发运行的结果，而是看到顺序运行的结果。这取决于是否：

*   您的系统是单核或多核：您更有可能在以后获得并发结果，
*   在单核上，脚本执行花费的时间超过一个调度“周期”，以及在该周期之后，bash 进程是否会控制 CPU（假设所述周期具有固定的持续时间，这不一定是真的），
*   对输出的访问可以是并发的（在所有条件相同的情况下，shell 重定向应该允许这样做）

# ruby-on-rails - redmine - 网络服务认证

> ID：14931090
> 
> 赞同：0
> 
> 时间：2013-02-18T07:05:49.963
> 
> 标签：ruby-on-rails, web-services, authentication, redmine

我正在研究 Rails 2.3.5。在我的 redmine 应用程序中，我正在为 iphone 提供网络服务。如何从 iphone 验证用户身份以及登录后我的 rails 应用程序如何将我识别为已登录用户。我是否需要在登录后提供任何令牌并使用令牌进一步请求 API 调用。请建议我为 iphone 应用程序实施身份验证的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T12:00:21.017

[redmine wiki](http://www.redmine.org/projects/redmine/wiki/Rest_api#Authentication)本身提供了有关 rest API 的深入文档。甚至连 Iphone 的 redmine 应用程序都已经存在

# javascript - 将“内容”从 ArrayController 传递到另一个 Route/Controller

> ID：14931091
> 
> 赞同：0
> 
> 时间：2013-02-18T07:05:51.960
> 
> 标签：javascript, ember.js

将“内容”从一个 ArrayController (Route) 传递到另一个 Controller (Route) 的正确模式是什么？甚至可以在第三个控制器中使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:14:23.750

在控制器/路由中，所有控制器都可用。这可以通过 controllerFor 访问。因此，无需将一个控制器的属性传递给另一个控制器。

在一个控制器中，可以像这样访问另一个控制器的内容： var sampleContent = this.controllerFor('sampleArray').get('content');

[http://emberjs.com/api/classes/Ember.Route.html#method_controllerFor](http://emberjs.com/api/classes/Ember.Route.html#method_controllerFor)

# android - 使用 android 发出 HTTP 请求并获得响应，然后比较结果

> ID：14931092
> 
> 赞同：0
> 
> 时间：2013-02-18T07:05:55.743
> 
> 标签：android, http

我正在为 SMS 网关开发一个应用程序。我想计算收件箱短信并将其与 getway 发送短信的服务器进行比较，如果收件箱短信和服务器短信相等，那么我想备份我的收件箱短信，然后删除收件箱短信。在这个应用程序中，我可以计算、备份和删除收件箱短信，但我不知道如何发出 Http 请求并将我的收件箱短信与服务器进行比较。请帮助我，我是一个学习者。我的代码在这里：

```
TextView view = new TextView(this);

    Uri uriSMSURI = Uri.parse("content://sms/inbox");
    long now = System.currentTimeMillis();
    long last24 = now - 24*60*60*1000;//24h in millis
    String[] selectionArgs = new String[]{Long.toString(last24)};
    String selection = "date" + ">?";
    String[] projection = new String[]{"date"};
    Cursor cur = getContentResolver().query(uriSMSURI, projection, selection, selectionArgs,null);

    String sms = String.valueOf(cur.getCount());

     view.setText("Total incoming today SMS  "+sms);

    setContentView(view); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:35:24.920

好的，所以在评论之后看起来你只需要一个 HTTP 请求并让它解析返回的 JSON。看看[这里](https://stackoverflow.com/questions/5933839/android-java-json-http-request)和链接的文章。请记住，HTTP 请求必须在 AsyncTask 或线程上完成。

# database - 我无法将我的 XCode 项目与我的 SQLite3 数据库链接起来

> ID：14931093
> 
> 赞同：0
> 
> 时间：2013-02-18T07:05:56.093
> 
> 标签：database, xcode, sqlite

```
#import "AddEandM.h"
#import "Questions.h"
#import "sqlite3.h"

@interface AddEandM ()

@end

@implementation AddEandM

@synthesize Topic, Question, Answer1, Answer2, Answer3, CorrectAnswer, status;

-(IBAction) backgroundTouched:(id)sender {
    [Topic resignFirstResponder];
    [Question resignFirstResponder];
    [Answer1 resignFirstResponder];
    [Answer2 resignFirstResponder];
    [Answer3 resignFirstResponder];
    [CorrectAnswer resignFirstResponder];

}

-(IBAction) textfieldReturn:(id)sender {
    [sender resignFirstResponder];
}

- (void) saveData
{
    sqlite3 * Questions;
    sqlite3_stmt    *statement;
    const char *dbpath = [databasePath UTF8String];

    if (sqlite3_open(dbpath, &Questions) == SQLITE_OK)

    {

        NSString *insertSQL = [NSString stringWithFormat:

                      @"INSERT INTO DATABASE (Topic, Question, Answer1, Answer2, Answer3, CorrectAnswer) VALUES (\"%@\", \"%@\", \"%@\", \"%@\", \"%@\", \"%@\")",Topic.text, Question.text, Answer1.text, Answer2.text, Answer3.text, CorrectAnswer.text];

    const char *insert_stmt = [insertSQL UTF8String];

     sqlite3_prepare_v2 (Questions, insert_stmt, -1, &statement, NULL);

    if (sqlite3_step(statement) == SQLITE_DONE)

            {
            status.text = @"Question/Answers Added";
                                                    Topic.text = @" ";
                                                    Question.text = @" ";
                                                    Answer1.text = @" ";
                                                    Answer2.text = @" ";
                                                    Answer3.text = @" ";
                                                    CorrectAnswer.text = @" ";

                                        } else {

                        status.text = @"Failed to add Question/Answers";
                                                        }
                                        sqlite3_finalize(statement);
                                        sqlite3_close(Questions);

}
}

-(IBAction)Back:(id)sender {
    Questions *second = [[Questions alloc] initWithNibName:nil bundle:nil];
    [self presentModalViewController:second animated:YES];

}
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad {
    NSString *docsDir;
    NSArray *dirPaths;

    sqlite3 * Questions;

    dirPaths = NSSearchPathForDirectoriesInDomains(
            NSDocumentDirectory, NSUserDomainMask, YES);

    docsDir = [dirPaths objectAtIndex: 0];

    databasePath = [[NSString alloc]
                    initWithString: [docsDir stringByAppendingPathComponent:
                                     @"Questions"]];
    NSFileManager *filemgr = [NSFileManager defaultManager];

    if ([filemgr fileExistsAtPath:databasePath ] == NO)

    {
        const char *dbpath = [databasePath UTF8String];

        if (sqlite3_open(dbpath, &Questions) == SQLITE_OK)

        {

            char *errMsg;
            const char *sql_stmt = "Create Table If Not Exists Questions (QuestionNo Integer AutoIncrement, Question Text, Answer1 Text, Answer2 Text, Answer 3 Text, Correct Answer Text)";
            if (sqlite3_exec(Questions, sql_stmt, NULL, NULL, &errMsg) != SQLITE_OK)

            status.text = @"Failed to Create Table";
                }

                sqlite3_close(Questions);
                } else {
    status.text  =@"Failed to open/create database";
                }

    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

    @end 
```

**我正在为我的计算机科学课程创建一个修订应用程序，我对 Xcode/Ob C 编程的知识非常有限，谁能帮助我并告诉我这里出了什么问题？我的数据库名为“问题”，包含 2 个表：“EasyandMedium”和“Hard”，但是，我无法让我的程序将数据保存到该数据库 - 请帮助！**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T14:28:48.870

你到底有什么问题？你知道你的`fileExistsAtPath`电话是否成功吗？`sqlite3_open`调用成功了吗？

有很多在 Xcode 中使用 SQLite3 的示例，例如[我无法将我的 XCode 项目与我的 SQLite3 数据库链接](https://stackoverflow.com/questions/14931093/i-am-having-trouble-linking-my-xcode-project-with-my-sqlite3-database)。我建议检查一下，因为它们是一个很好的起点。

# python - 如果字典可用，则从字典类中复制字典

> ID：14931096
> 
> 赞同：0
> 
> 时间：2013-02-18T07:06:01.863
> 
> 标签：python, python-2.7

如果字典类中可用，我只想复制字典

测试文件夹/dict.py

```
 one={
    "one1":"one1Data",
    "one2":"one2Data",
    "one2":"one3Data"}

    two={
    "two1":"two1Data",
    "two2":"two2Data",
    "two2":"two3Data"} 
```

测试.py

```
 import testfolder.dict as dictRef

   print dictRef.two # it prints the dictionary) 
```

但我想做的是复制字典（如果 dictRef 可用）

```
 a='two' 
    if hasattr(dictRef, a): # this will not work but searching some alternate way to do..
    c = dictRef.a # Jus trying to achieve this
    print c # should print dictRef.two 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:07:14.660

怎么样：

```
c = getattr(dictRef, 'two') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T09:16:15.433

或者您可以尝试：

```
if dictRef.has_key(key): 
```

我想这就是你要找的！

# java - 使字符串看起来像 TableModel 中的 url

> ID：14931100
> 
> 赞同：1
> 
> 时间：2013-02-18T07:06:31.133
> 
> 标签：java, string, swing, url, tablemodel

您好，我正在制作程序并使用`TableModel`. 我有 6 列用字符串归档。我希望第六列字符串使它看起来像 URL。当我的意思是看起来像 URL 时，我的意思是把它变成蓝色并加下划线。有可能这样做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:51:18.173

您需要为您的 jtable 编写自定义 TableCellRenderer。请参阅此[链接](http://java-swing-tips.blogspot.com/2009/02/hyperlink-in-jtable-cell.html)。这可能对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:11:40.480

我很确定您可以简单地创建一个包含

```
<html>...</html> 
```

它会起作用。只需像在 html 中一样在 html 标记中编码您的链接。如果您希望它显示为蓝色，则只需添加额外的代码。我认为：

```
<font color='blue'> 
```

会做的

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:50:13.337

Sun 有一个关于创建 jtable的非常好的教程 ( [http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#modelchange )。](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#modelchange)在你开始之前通过它。希望本教程对您有所帮助。但以下是我的建议。

```
("<html><b><u>link</u></html>");

<html><b><a href="link">bold</a></b></html> 
```

类似的东西

但是，我不建议仅仅为了显示效果而更改模型中的数据。相反，我会创建一个自定义单元格渲染器来完成此效果并将其设置在桌子上。您可以将文本包装在 HTML 中，也可以在渲染器上手动设置字体颜色和样式属性以模仿 html。

现在，即使您要在 html 中包含 url，您仍然无法单击它。表中没有组件。单击 url 时，您并不想进入编辑模式。您只想打开该链接。为此，您将向表本身添加鼠标侦听器。当您收到点击事件时，您将通过编程确定它结束的单元格，返回您的模型并获取 url，最后使用其他 Java API 调用打开该 url。

# ios - Skpsmtpm 消息 API

> ID：14931101
> 
> 赞同：0
> 
> 时间：2013-02-18T07:06:44.270
> 
> 标签：ios, api, appstore-approval

我的应用程序需要在后台发送邮件而不显示任何邮件撰写屏幕，所以我得到了 skpsmtpmessage api 的建议。我是否应该将此 api 用于我的应用程序以及使用此 api 的任何苹果拒绝。我是 ios 应用程序开发的新手，所以告诉我在没有苹果拒绝的情况下在应用程序中使用第三方 api 的方法。任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:08:13.417

如果不使用撰写屏幕或应用内撰写屏幕 (g-mail) 发送后台电子邮件，您将收到 Apple 拒绝。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:10:38.463

是的，您的申请将被苹果拒绝，因为在没有显示邮件撰写屏幕或没有用户交互的情况下发送后台电子邮件是非法的......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:19:58.933

正如 Sudha 和 MarJamRob 回答的那样，如果您在后台发送邮件，您的应用程序可能会被拒绝，但有一个解决方法。

您可以创建一个 Web 方法，该方法将邮件 ID 和要邮寄的内容作为输入和邮件发送到预期的电子邮件 ID。使用适当的参数从您的 iOS 应用程序中调用此方法。通过这种方式，您可以实现您的目的而不会有被拒绝的风险，因为您的应用程序不是在后台发送邮件，而您只是在调用远程方法！

# pypdf - Python PyPDF - 未找到 EOF 标记

> ID：14931105
> 
> 赞同：2
> 
> 时间：2013-02-18T07:07:02.383
> 
> 标签：pypdf

我看过其他文章谈到做一些类似的事情：

```
fileOpen = file(file_name,'a')
fileOpen.write("%%EOF")
file.close() 
```

但这对我不起作用。有人知道为什么会这样吗？我一直在这个网站和其他网站上搜索，但还没有找到答案。我在 Backtrack Linux 中使用 Python 顺便说一句。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T13:53:30.713

对于任何好奇的人，我只是忘记了 pyPDF 只支持 PDF 文件，这就是为什么当我尝试从其他文件获取元数据时它会产生此错误的原因。我的愚蠢部分。

# drop-down-menu - primefaces 数据表 livescroll 中的下拉菜单

> ID：14931116
> 
> 赞同：1
> 
> 时间：2013-02-18T07:07:43.353
> 
> 标签：drop-down-menu, primefaces, datatable

我正在使用 primefaces 的数据表并使用它的 livescroll 功能。但我面临一个奇怪的问题。当我向下滚动时，数据会以完美的方式加载到屏幕上，但下拉菜单（使用 p:selectOneMMeny）除外。下拉和实时滚动是否存在问题。请帮忙。PFB我的代码..同样的..

```
<p:dataTable id="searchTable" var="student" value="#{dataBean.students}"
   scrollRows="10" scrollable="true" scrollHeight="200" liveScroll="true" >

   <p:column styleClass="colum8" style="text-align: center; background-color:#dcdcdc; width: 150px;padding: 4px;">
        <f:facet name="header">
                 <h:outputText value="#{msgs.mpromo_buscar_estatus}" />
        </f:facet>  

        <p:selectOneMenu styleClass="DropDownBuscarStyle" id="promoEstatusDD" value="#{promo.estatusID}" valueChangeListener="#{buscarMB.estatusChangeListener}" disabled="#{sessionScope['UserDetails'].perfil ne 'MKT'}"  onchange="setSpanValueOfDropDown(this);">
    <f:selectItem itemLabel="#{msgs.mpromo_buscar_select}" itemValue="-1"></f:selectItem>
    <f:selectItems value="#{buscarMB.estatusSelectList}" />                 <p:ajax event="change"  listener="#{buscarMB.changeStatus}" oncomplete="changeStatusComplete();" update="@this :buscarForm:isEstatusChangeDeniedId :buscarForm:divError editLinkId">                            </p:ajax>
    </p:selectOneMenu>
    </p:column>
    </p:datatable> 
```

# html - CSS 句子案例

> ID：14931117
> 
> 赞同：12
> 
> 时间：2013-02-18T07:07:45.127
> 
> 标签：html, css

有没有办法格式化“SENTENCE CASE”？例如“这是句子 1。这是句子 2。这是句子 3。更改为 -> 这是句子 1。这是句子 2。这是句子 3。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-18T07:12:28.557

您可以使用`id/class:first-letter`属性来实现这一点。

取自上述重复的问题：

```
p {
    text-transform: lowercase;
}
p:first-letter {
    text-transform: uppercase;
} 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-18T07:11:25.500

只有三个 CSS 属性。

```
text-transform: capitalize;
text-transform: lowercase;
text-transform: uppercase; 
```

他们都不会像你想要的那样输出。您可以使用小写文本转换，他们使用 JavaScript 将每个句子的第一个单词大写。

[**小提琴**](http://jsfiddle.net/cTXzg/2/)

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-02-18T07:10:44.370

CSS 可以转换每个单词的首字母，但不能转换每个句子的首字母。可能你需要在这里使用 Javascript：

```
<html>
  <head>
    <script language="javascript">
<!--
function fixCapitalsText (text)
{
  result = "";

  sentenceStart = true;
  for (i = 0; i < text.length; i++)
  {
    ch = text.charAt (i);

    if (sentenceStart && ch.match (/^\S$/))
    {
      ch = ch.toUpperCase ();
      sentenceStart = false;
    }
    else
    {
      ch = ch.toLowerCase ();
    }

    if (ch.match (/^[.!?]$/))
    {
      sentenceStart = true;
    }

    result += ch;
  }

  return result;
}

function fixCapitalsNode (node)
{
  if (node.nodeType == 3 || node.nodeType == 4) // Text or CDATA
  {
    node.textContent = fixCapitalsText (node.textContent);
  }

  if (node.nodeType == 1)
    for (i = 0; i < node.childNodes.length; i++)
      fixCapitalsNode (node.childNodes.item (i));
}
// -->
    </script>
  </head>
  <body onload="fixCapitalsNode (document.body);">
    THIS IS FIRST SENTENCE.
    THIS IS SECOND SENTENCE.
    This Is Third Sentence.
  </body>
<html> 
```

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2013-02-18T07:09:28.383

你可以使用 css`text-transform:capitalize;`属性

# visual-studio-2012 - Windows 应用商店应用程序中的启动画面

> ID：14931137
> 
> 赞同：3
> 
> 时间：2013-02-18T07:09:04.967
> 
> 标签：visual-studio-2012, windows-8, windows-store-apps, splash-screen

我正在使用 VS2012 为平板电脑开发 Windows 应用商店应用程序。现在我正在为我的应用程序创建启动画面。我的要求是**启动画面应该在我的应用程序中全屏显示**。但它作为屏幕的中心工作。任何人都可以帮助解决这个问题...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T13:52:50.097

答案是没有办法创建一个全屏的官方启动画面。启动画面必须使用 620 x 300 像素的图像，它是普通启动画面或[扩展启动画面](http://msdn.microsoft.com/en-us/library/windows/apps/hh700390.aspx)。但是，您可以将初始屏幕周围的背景颜色与初始屏幕图像的颜色相匹配（使用[您已经找到的说明](http://msdn.microsoft.com/en-in/library/windows/apps/hh465346.aspx)），这使它看起来像全屏图像，即使其中大部分只是颜色。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T07:14:54.760

AFAIK 启动画面必须居中，但可能有效的解决方法是创建一个起始页（常规 xaml），并在启动画面消失后立即将其显示为初始屏幕。但这意味着您的启动时间必须非常快。

也许这是你的一个选择。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T07:20:14.837

*   打开“package.appxmanifest”清单文件。清单应在 Microsoft Visual Studio Express 2012 for Windows 8 Manifest Designer 中自动打开。

*   打开 Application UI 选项卡并向下滚动到 Splash Screen 部分。如果您仍在使用项目默认设置，您应该会在“启动画面”字段中看到“images\splashscreen.png”路径。如果您在文本编辑器中打开“package.appxmanifest”，您应该会看到 SplashScreen 元素是 VisualElements 元素的子元素。例如，清单文件中的默认启动屏幕标记如下所示：

XML

> `{ <SplashScreen Image="images\splashscreen.png" /> }`

*   使用 Browse... 按钮更改初始屏幕图像，并确认该图像已添加到您的 Visual Studio 项目中。重要 您选择的初始屏幕图像必须为 620 x 300 像素，使用 1x 缩放因子。
*   在启动画面部分的背景颜色字段中，设置背景颜色以与启动画面图像一起显示。您可以输入颜色名称或“#”以及颜色的十六进制值。
*   为初始屏幕设置背景颜色是可选的。如果未指定颜色，则初始屏幕背景颜色默认为平铺背景颜色（应用程序 UI 选项卡中平铺部分的背景颜色字段中的颜色）。如果您在文本编辑器中打开 package.appxmanifest，则 Tile 背景颜色是通过 VisualElements 元素的 BackgroundColor 属性指定的。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-05-06T18:45:57.613

我的解决方法是制作带有 alpha 背景的 620x300 初始 .png 图像，因此它不是完整的 620x300 图像。图像本身只是一个 300x300 的徽标。我的建议是制作一个小的中心图像（您的应用程序徽标或其他内容）并使其与背景混合（渐变或 alpha）

# php - 如何向客户端发送格式良好的 HTML 文档？

> ID：14931140
> 
> 赞同：0
> 
> 时间：2013-02-18T07:09:29.557
> 
> 标签：php, html, xml, dom, domdocument

嗨，我想做以下事情：

```
$string_foo = "Hello world!";

if (is_not_fully_html( $string_foo )) {

   $show = "<!doctype><html><head></head><body>{$string_foo}</body></html>";

}

$dom = new DOMDocument();
$dom->loadHTML( $show );

echo $dom->saveHTML(); 
```

但是，如果`$string_foo`是：

```
$string_foo = "<html>Hello world!</html>"; 
```

或者

```
$string_foo = "<body>Hello world!</body>"; 
```

或者

```
$string_foo = "<head></head><body>Hello world!</body>"; 
```

或者

```
$string_foo = "<head></head>Hello world!"; 
```

或者

```
$string_foo = "<body>Hello world!"; 
```

**¿ $show = ......................... {$string_foo} ...... 如何返回格式良好的 HTML？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:13:05.810

有一个名为**PHP Simple HTML Dom Parser 的库。**它工作得很好，它绝对可以帮助您验证 HTML。

[PHP 简单的 HTML DOM 解析器](http://simplehtmldom.sourceforge.net/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:54:22.140

尝试这个

[KvzHTML 库](http://github.com/kvz/kvzlib)

教程

[使用 PHP 生成 HTML](http://kvz.io/blog/2009/10/11/generate-html-with-php/)

# java - 为什么注释属性的值应该是常量表达式？

> ID：14931143
> 
> 赞同：10
> 
> 时间：2013-02-18T07:09:45.087
> 
> 标签：java, annotations

我有以下代码

```
 @UIUnitTimeout(8*60*1000) // works
 @UIUnitTimeout(TimeUnit.MINUTES.toMillis(8)) // does not work 
```

我知道根据 JLS，只允许常量表达式作为注释属性的值。但为什么？为什么数据类型匹配还不够？如果要在运行时评估表达式，是否有任何可能出错的地方？每个规范背后都有逻辑推理吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-18T07:13:14.897

注释就像类型扩展或关于类型的元数据。

因为 java 是一种静态类型语言（意味着在编译时知道类型），所以在编译时也知道注释属性数据（元数据）似乎是合理的——您正在定义/声明有关注释（扩展）的数据。

作为一个纯粹的实用点，对于[注释处理](http://docs.oracle.com/javase/6/docs/technotes/guides/apt/index.html)，这是一个编译时（可选）步骤，属性数据*必须*在编译时知道 - 你还没有进入运行时环境，但你需要属性数据。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T07:17:21.420

注释预处理需要在执行注释代码之前知道注释的值。此外，Annotation 定义本身使用@Retention 进行注释，其值为[RetentionPolicy](http://javasourcecode.org/html/open-source/jdk/jdk-6u23/java/lang/annotation/RetentionPolicy.html)（如果未指定，则默认为 CLASS）。

因此有 3 种不同的“种类”注解，只有那些声明为 RUNTIME 的注解在程序执行时才可用。（但它们的值必须是常量，以便它们在不执行相关代码的情况下保持定义。）

> CLASS 注释将由编译器记录在类文件中，但不需要在运行时由 VM 保留。
> 
> RUNTIME 注解将由编译器记录在类文件中，并在运行时由 VM 保留，因此可以反射性地读取它们。
> 
> SOURCE 注解将被编译器丢弃。

.

# ios - 从 plist 中获取选定的 MapAnnotation 详细信息

> ID：14931151
> 
> 赞同：3
> 
> 时间：2013-02-18T07:10:15.433
> 
> 标签：ios, objective-c, mkmapview, plist

我正在尝试获取`MapAnnotation`用户单击的特定详细信息。详细信息是从`plist`文件中获取的。对于我在使用此功能`- (void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view;` 时使用过的此功能。当我单击特定时，它会从as `annotation`获取位置详细信息，并且它不会检查我的 plist 值。即使在我将这些值作为 plist 中的属性作为每个位置的 latlong 给出之后。任何人都可以解决我的问题？`Map``"Pune, Maharashtra, India @ <+18.50565666,+73.85559082> +/- 0.00m"`

我的 plist 文件详细信息：

```
2013-02-18 12:16:56.039 MapView[9407:13d03] {
contents = "This Fish will be Found Rarely in South Asia";
imagesName = "kfish.jpg";
latlong = "Bangalore, Karnataka, India @ <+12.98333330,+77.58333330> +/- 0.00m";
listName = kFish;
location = "Bangalore, Karnataka, India";
}
2013-02-18 12:16:56.039 MapView[9407:13d03] {
contents = "This Fish will be Found Rarely in South Asia";
imagesName = "wallfish.png";
latlong = "Delhi, India @ <+28.59100531,+77.08826373> +/- 0.00m";
listName = WallFish;
location = "Delhi, India";
}
2013-02-18 12:16:56.039 MapView[9407:13d03] {
contents = "This Fish will be Found Rarely in South Asia";
imagesName = "fish.jpg";
latlong = "Chennai, Tamil Nadu, India @ <+13.07983465,+80.24625757> +/- 0.00m";
listName = Fish;
location = "Chennai,TamilNadu,India";
}

2013-02-18 12:16:56.039 MapView[9407:13d03] {
contents = "This Fish will be Found Rarely in South Asia";
imagesName = "bluefish.jpg";
latlong = "Mumbai, Maharashtra, India @ <+18.99460885,+72.82287598> +/- 0.00m";
listName = BlueFish;
location = "Mumbai, Maharashtra, India";
}

2013-02-18 12:16:56.040 MapView[9407:13d03] {
contents = "This Fish will be Found Rarely in South Asia";
imagesName = "Rarefish.jpg";
latlong = "Chennai, Tamil Nadu, India @ <+13.07983465,+80.24625757> +/- 0.00m";
listName = RareFish;
location = "Chennai,TamilNadu,India";
} 
```

我的编码：

```
- (void)geocodeRequest
{
CLGeocoder *geocoder = [[CLGeocoder alloc]init];
for (int i = 0; i < total; i++) {
    NSString *address = [allValues objectAtIndex:i] ;

            [geocoder geocodeAddressString:address completionHandler:^(NSArray *placemarks, NSError *error) {
                        CLPlacemark *geocodedPlacemark = [placemarks objectAtIndex:0];
                        MKPlacemark *placemark = [[MKPlacemark alloc] initWithCoordinate:geocodedPlacemark.location.coordinate addressDictionary:geocodedPlacemark.addressDictionary];

                        int zoomLevel=20;
                        MKCoordinateRegion region=MKCoordinateRegionMake(geocodedPlacemark.location.coordinate, MKCoordinateSpanMake(zoomLevel,zoomLevel));
                        [self.mapView addAnnotation:placemark];
                        [self.mapView setRegion:region animated:YES];
                        [self.mapView setZoomEnabled:YES];
                                  }];

}

-(void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view{
    total = self.arrayImages.count;
NSArray *newIndex = [mapView selectedAnnotations];
NSLog(@"sel :%@",newIndex);

    for (index = 0; index < total; index++) {
        dict = [self.arrayImages objectAtIndex:index];
        NSLog(@"%@",dict);

        if (latlong == newIndex) {

            CGRect rec = CGRectMake(0, 0, 250, 250);
            [self setView:[[[UIView alloc] initWithFrame:rec] autorelease]];
            [[self view] setBackgroundColor:[UIColor whiteColor]];
            UIImage *img = [UIImage imageNamed:[dict objectForKey:@"imagesName"]];

            UIImageView *im = [[UIImageView alloc] initWithImage:img];
            UILabel *lab1 = [[UILabel alloc] init];
            UITextView *detailsView = [[UITextView alloc] init];
            lab1.text = [NSString stringWithFormat:[dict objectForKey:@"listName"]];
            detailsView.text = [NSString stringWithFormat:[dict objectForKey:@"contents"]];
            detailsView.editable = NO;
            detailsView.bounds = CGRectMake(20, 20, 150, 150);
            detailsView.frame = CGRectMake(210, 720, 390, 350);
            detailsView.font = [UIFont systemFontOfSize:24];

            lab1.bounds = CGRectMake(20, 20, 150, 150);
            lab1.frame = CGRectMake(360, 600, 90, 50);
            lab1.font = [UIFont systemFontOfSize:24];
            im.bounds = CGRectMake(10, 10, 50, 50);
            im.frame = CGRectMake(200, 120, 370, 450);

        [UIView transitionWithView:[self view] duration:1.5
                           options:UIViewAnimationOptionTransitionCurlUp
                        animations:^ { [[self view] addSubview:im];
                                       [[self view] addSubview:lab1];
                                       [[self view] addSubview:detailsView];

         }completion:nil];
        }
    }

} 
```

MapView 工作正常。但仅在获取所选位置时它不起作用。谁能帮我我哪里出错了？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T08:24:40.503

在您的`didSelectAnnotationView`方法中，您似乎正在遍历您`arrayImages`的`latlong == newIndex`. 几个想法：

1.  使用相等运算符`==`来比较对象通常不是一种谨慎的技术。您无法保证地图视图的注释是同一个对象（如果它们的属性使用`copy`，则它不会相等，因为您的对象的地址和它们的地址可能不同）。即使它确实发生了，它也不是非常可靠的工作方式。

2.  无论如何，如果我遵循你的逻辑，我并不完全符合你的逻辑，即使相等运算符确实有效，因为`geocodeRequest`你正在制作一个 new `MKPlacemark`, from `allValues`，但`didSelectAnnotationView`你正在将它与`arrayImages`. 并且您的`if`声明`didSelectAnnotationView`正在查看`latlong`和`newIndex`（前者我没有看到您设置，后者是一组注释）。这对我来说没有意义。我看不出他们怎么可能匹配。

3.  但是前面的两点是无关紧要的，因为正确的解决方案是不要将您添加`MKPlacemark`到您的地图中，然后在寻找匹配项时遍历您的列表`didSelectAnnotationView`，而是使用您想要的所有属性创建您自己的注释类能够在用户点击注释视图时检索。或者，至少，拥有您自己的注释子类并定义一个属性，您可以使用该属性从您的数组中查找特定的详细信息。任何一种方法都有效。但关键是不要尝试遍历您的对象以寻找匹配项，而是定义一个自定义注释，其中包含您立即找到它所需的一切。

    有关自定义注释的示例，请参阅*位置感知编程指南的*[定义自定义注释对象](http://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/LocationAwarenessPG/AnnotatingMaps/AnnotatingMaps.html#//apple_ref/doc/uid/TP40009497-CH6-SW2)部分。一旦您使用您认为需要的所有额外属性定义了自己的注释子类，您将 (a) 更改您以创建新注释子类的实例，而不是; (b) 将您的更改为仅从（这是 的属性）中获取必要的数据。这样，它就完全消除了遍历可能的注释列表以寻找匹配项的麻烦。*`geocodeRequest``MKPlacemark``didSelectAnnotationView``annotation``annotationView`*

 *仅供参考，在另一个[SO 答案](https://stackoverflow.com/questions/14608687/learn-about-the-nsxmlparser-in-ios/14619356#14619356)中，我给出了一些关于处理标注、弹出框等选项的示例，所以也许那里有一些对你有帮助的背景知识。我不在那里使用自定义注释，但也许它会给你一些关于与 MapKit 集成的想法。

* * *

让我来说明一下这种做法。假设我们想要注释我们的地图，但想要跟踪其他属性。首先，我将定义一个具有我的附加属性的注释自定义类。（我将把它从子类化`MKPointAnnotation`，让我的生活更轻松一些。）

```
@interface CustomAnnotation : MKPointAnnotation

@property (nonatomic) NSUInteger index;
@property (strong, nonatomic) NSString *property1;
@property (strong, nonatomic) NSString *property2;
@property (strong, nonatomic) NSString *property3;

@end 
```

现在，当我想将注释添加到我的地图视图时，我将使用我的自定义注释类，确保设置我想要的任何属性。您可以将数字索引保存在数组中，或保存您关心的实际属性，或两者兼而有之：

```
CustomAnnotation *annotation = [[CustomAnnotation alloc] init];

// set the MKPointAnnotation standard properties

annotation.title = item.name;
annotation.coordinate = item.placemark.coordinate;

// set my custom properties

annotation.index = idx;
annotation.property1 = ...;
annotation.property2 = ...;
annotation.property3 = ...;

// now add the annotation to the map view

[annotations addObject:annotation]; 
```

或者，如果您想利用 a 的所有属性`MKPlacemark`，您可以执行以下操作：

```
@interface CustomAnnotation : MKPlacemark

@property (strong, nonatomic) NSString *title; // MKPlacemark doesn't have title, so let's add our own property for that
@property (nonatomic) NSUInteger index;
@property (strong, nonatomic) NSString *property1;
@property (strong, nonatomic) NSString *property2;
@property (strong, nonatomic) NSString *property3;

@end 
```

您可以像创建 一样创建注释`MKPlacemark`，但再次设置我们的自定义属性：

```
CustomAnnotation *annotation = [[CustomAnnotation alloc] initWithPlacemark:item.placemark];

// set my custom properties

annotation.title = item.name;
annotation.index = idx;
annotation.property1 = ...;

[annotations addObject:annotation]; 
```

现在，当我选择注释视图时，我可以相应地处理：

```
- (void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view
{
    if ([view.annotation isKindOfClass:[CustomAnnotation class]])
    {
        CustomAnnotation *annotation = view.annotation;

        // note, I don't have to iterate through any arrays to figure out which
        // annotation I'm dealing with; I can just look at my custom properties

        NSLog(@"index = %d; property1 = %@", annotation.index, annotation.property1);

        // now do whatever you want with that annotation; I could look up the
        // annotations's details by using the custom `index` property I defined,
        // or if I defined my annotations to store all of the detail properties
        // I needed, I can just access them directly
    }
} 
```

* * *

`didSelectAnnotationView`顺便说一句，您可能希望采用更标准的行为，而不是使用`MKMapView`，并显示标准标注气泡，设置正确的标注气泡附件，然后处理单击该标注附件：

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id<MKAnnotation>)annotation
{
    if (![annotation isKindOfClass:[CustomAnnotation class]])
        return nil;

    MKAnnotationView *annotationView = [[MKPinAnnotationView alloc] initWithAnnotation:annotation
                                                                       reuseIdentifier:@"CustomAnnotationView"];
    annotationView.canShowCallout = YES;
    annotationView.rightCalloutAccessoryView = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];

    return annotationView;
}

- (void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view calloutAccessoryControlTapped:(UIControl *)control
{
    if (![view.annotation isKindOfClass:[CustomAnnotation class]])
        return;

    CustomAnnotation *annotation = view.annotation;

    // note, I don't have to iterate through any arrays to figure out which
    // annotation I'm dealing with; I can just look at my custom properties

    NSLog(@"index = %d; property1 = %@", annotation.index, annotation.property1);

    // now do whatever you want with that annotation; I could look up the
    // annotations's details by using the custom `index` property I defined,
    // or if I defined my annotations to store all of the detail properties
    // I needed, I can just access them directly
} 
```*

# iphone - Tableview 更新'NSInternalInconsistencyException'，原因：'无效更新：无效的行数？

> ID：14931152
> 
> 赞同：8
> 
> 时间：2013-02-18T07:10:19.353
> 
> 标签：iphone, ios, uitableview

是的，在类似的问题标题上，有很多关于堆栈溢出的问题。我读了所有这些，但我从来没有看到我的问题等同于它们。现在我的问题是，如果我在第 0 节上单击 headerview 时更新表第 0 节有 3 行，然后我再次单击相同的标题以从第 0 节中删除所有 3 行，这对我来说很好。但是如果我打开（用 3 行更新第 0 部分）然后我点击另一个标题部分（我想在第 0 部分之后打开的另一个部分）我的应用程序崩溃了。我的意思是，如果我单击其他部分，那么我的其他部分应该打开，并且之前打开的部分应该关闭。查看我的插入和删除部分和行的代码，

```
 -(void)sectionHeaderView:(TableHeaderView*)sectionHeaderView sectionOpened:(NSInteger)section{

self.sectionOpen = YES;
//Create an array containing data of rows and section which to be inserted in tableView.
NSMutableArray *dataInsertArray = [NSMutableArray arrayWithArray:[self.tableDataSourceDictionary objectForKey: [self.sortedKeys objectAtIndex:section]]];
NSInteger countOfRowsToInsert = [dataInsertArray count];

NSMutableArray *indexPathsToInsert = [[NSMutableArray alloc] init];
for (NSInteger i = 0; i < countOfRowsToInsert; i++) {
    [indexPathsToInsert addObject:[NSIndexPath indexPathForRow:i inSection:section]];
}
[self.tableContents setObject:dataInsertArray forKey:[self.sortedKeys objectAtIndex:section]];

//Create an array containing data of rows and section which to be delete from tableView.
NSMutableArray *indexPathsToDelete = [[NSMutableArray alloc] init];
NSInteger previousOpenSectionIndex = self.openSectionIndex;
if (previousOpenSectionIndex != NSNotFound )  {

    self.sectionOpen = NO;
    [previousTableHeader toggleOpenWithUserAction:NO];
    NSInteger countOfRowsToDelete = [[self.tableContents objectForKey: [self.sortedKeys objectAtIndex:section]] count];
    for (NSInteger i = 0; i < countOfRowsToDelete; i++) {
        [indexPathsToDelete addObject:[NSIndexPath indexPathForRow:i inSection:previousOpenSectionIndex]];
    }

    [self.tableContents removeObjectForKey:[self.sortedKeys objectAtIndex:previousOpenSectionIndex]];
}

// Apply the updates.
[self.tableView beginUpdates];
[self.tableView deleteRowsAtIndexPaths:indexPathsToDelete withRowAnimation:UITableViewRowAnimationFade];
[self.tableView insertRowsAtIndexPaths:indexPathsToInsert withRowAnimation:UITableViewRowAnimationFade];
[self.tableView endUpdates];

self.openSectionIndex = section;
self.previousTableHeader = sectionHeaderView;
} 
```

还有我的数据源方法，

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
NSInteger numberOfSection = [self.sortedKeys count];
return numberOfSection;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
NSArray *listData =[self.tableContents objectForKey: [self.sortedKeys objectAtIndex:section]];
NSInteger numberOfRows = [listData count];
return numberOfRows;
} 
```

我的崩溃报告， **-[UITableView _endCellAnimationsWithContext:] 中的断言失败，/SourceCache/UIKit_Sim/UIKit-2372/UITableView.m:1070 2013-02-18 11:44:49.343 ManageId[1029:c07] 由于未捕获的异常而终止应用程序'NSInternalInconsistencyException'，原因：'无效更新：第 0 节中的行数无效。更新后现有节中包含的行数 (0) 必须等于更新前该节中包含的行数 (3 )，加上或减去从该节插入或删除的行数（0 插入，1 删除），加上或减去移入或移出该节的行数（0 移入，0 移出）。**

简单地假设我的 2 个部分包含 3 - 3 行，那么它将工作文件但是如果 2 个部分包含 3 - 2 行，那么它会崩溃。我想切换两个部分，单击更新这些部分中行数不一致的部分的标题。

比

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T07:24:06.230

我发现请将您的代码中的代码替换为该代码。您必须使用旧索引而不是当前索引删除数据.... 注释行是您的，请检查...

```
if (previousOpenSectionIndex != NSNotFound){
 self.sectionOpen = NO; 
 [previousTableHeader toggleOpenWithUserAction:NO];

//NSInteger countOfRowsToDelete = [[self.tableContents objectForKey: [self.sortedKeys objectAtIndex:section]] count];
NSInteger countOfRowsToDelete = [[self.tableContents objectForKey: [self.sortedKeys objectAtIndex:previousOpenSectionIndex]] count];   

for (NSInteger i = 0; i < countOfRowsToDelete; i++) {
[indexPathsToDelete addObject:[NSIndexPath indexPathForRow:i inSection:previousOpenSectionIndex]];
 }

[[self.tableContents objectForKey: [self.sortedKeys objectAtIndex:previousOpenSectionIndex]] removeAllObjects];  
} 
```

# wordpress - 如何在自定义帖子类型中创建自定义字段

> ID：14931157
> 
> 赞同：0
> 
> 时间：2013-02-18T07:10:47.217
> 
> 标签：wordpress, custom-post-type, custom-fields

我有一个自定义的帖子类型“视频”，并且我已经启用了自定义字段。我需要创建三个自定义字段，1\. 视频文件，2\. 视频 url，3\. 视频代码。我在 tutsplus 和其他网站上尝试了几个教程，但没有按照我的需要开始工作。任何人都可以提供帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:39:54.540

Wordpress 有一个内置的 api 函数[add_meta_box](http://codex.wordpress.org/Function_Reference/add_meta_box)，您可以使用它来为您的帖子元输出表单字段。在 post_type 参数中，您需要输入“视频”

为了捕获表单输入，您需要使用 save_post 操作，看看[这里](https://stackoverflow.com/questions/5151409/wordpress-save-post-action-for-custom-posts)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:48:29.650

最简单的方法是使用像[Advanced Custom Fields](http://wordpress.org/extend/plugins/advanced-custom-fields/)这样的插件。您将有一个很好的界面来添加您的自定义字段并选择显示它们的帖子类型。

# javascript - 简单的 Javascript - HTML5 音频，在 .ended 前 20 秒调用函数

> ID：14931159
> 
> 赞同：0
> 
> 时间：2013-02-18T07:10:56.367
> 
> 标签：javascript, html, audio

我试图在音频剪辑结束之前的特定时间（此处为 20 秒）调用一个函数（现在只是一个警报）。由于某种原因它不起作用，经过一段时间的故障排除后，我仍然不知道为什么它不起作用。这是我的代码[http://jsfiddle.net/QUkHQ/](http://jsfiddle.net/QUkHQ/)

```
<audio id="track" src="http://upload.wikimedia.org/wikipedia/commons/a/a9/Tromboon-    sample.ogg"
       ontimeupdate="document.getElementById('tracktime').innerHTML = this.currentTime     + ' / ' + this.duration;">
    <p>Your browser does not support the audio element</p>
</audio>
<span id="tracktime" style="display:block;width:100px;">0 / 0</span>  
<button onclick="document.getElementById('track').play();">Play</button>
<button onclick="document.getElementById('track').pause();">Pause</button>
<button onclick="document.getElementById('track').currentTime = 10;">skip</button>
<span id="time" onclick="this.innerHTML = document.getElementById('track').currentTime     ;"> n/a </span>
<script>
document.getElementById("track").addEventListener('timeupdate',checkdif,false)

x=document.getElementById('track');

function checkdif()
{
// alert(document.getElementById('track').currentTime);
document.getElementById('time').innerHTML = x.duration-x.currentTime};
if (x.duration-x.currentTime<20)
{
alert(); 
}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T14:19:53.067

# 示例：http: [//jsfiddle.net/howderek/Y2BCP/](http://jsfiddle.net/howderek/Y2BCP/)

问题出在条件：`if (x.duration-x.currentTime<20)`，当我存储一个变量`currentTime`然后检查它是否小于 20 时，我得到了预期的结果。另外，我没有看到单独的`ontimeupdate`and的用途`addEventListener`，所以我将所有内容都移到了一个由事件侦听器调用的函数中。

此外，我建议将您的脚本移动到外部文件中，这样您的 HTML 就不会因脚本而臃肿。

# Javascript（确保它在头部）：

```
var alertSent = false;
var obj = document.getElementById('track');
document.getElementById("track").addEventListener('timeupdate', checkTime, false)

function checkTime() {
    document.getElementById('tracktime').innerHTML = obj.currentTime + ' / ' + obj.duration;
    var timeRemaining = obj.duration - obj.currentTime;
    document.getElementById('time').innerHTML = timeRemaining;
    if (timeRemaining < 20 && !alertSent) {
        alert("Hello");
        alertSent = true;
    }
} 
```

# HTML：

```
<audio id="track" src="http://upload.wikimedia.org/wikipedia/commons/a/a9/Tromboon-sample.ogg">
    <p>Your browser does not support the audio element</p>
</audio>
<span id="tracktime" style="display:block;width:100px;">0 / 0</span>

<button onclick="document.getElementById('track').play();">Play</button>
<button onclick="document.getElementById('track').pause();">Pause</button>
<button onclick="document.getElementById('track').currentTime = 10;">skip</button>
<span id="time"> n/a </span> 
```

# java - 如何在 Android 应用中实现智能栏？

> ID：14931161
> 
> 赞同：-7
> 
> 时间：2013-02-18T07:11:04.050
> 
> 标签：java, android

如何在 android 应用程序中创建与 facebook 应用程序相同的幻灯片抽屉。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:23:18.580

创建 XML 布局

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".MainActivity" >
<LinearLayout
    android:id="@+id/menu"
    android:layout_width="match_parent"
    android:layout_height="fill_parent"
    android:background="#51d7ff"
    android:orientation="vertical" >
    <ListView
        android:id="@+id/ListView01"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="#51d7ff"
        android:cacheColorHint="#51d7ff" >
    </ListView>
</LinearLayout>
<LinearLayout
    android:id="@+id/app"
    android:layout_width="match_parent"
    android:layout_height="fill_parent"
    android:background="#033333"
    android:orientation="vertical" >
    <Button
        android:id="@+id/BtnSlide"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/menu" />
    <ListView
        android:id="@+id/list"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="#758fb1"
        android:cacheColorHint="#758fb1" >
    </ListView>
</LinearLayout> 
```

主要活动

```
public class MainActivity extends Activity implements AnimationListener
{

Button Slide_Button;
View menu;
View app;
boolean menuOut = false;
AnimParams animParams = new AnimParams();
@Override
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    menu = findViewById(R.id.menu);
    app = findViewById(R.id.app);

    Slide_Button=(Button)findViewById(R.id.BtnSlide);
    Slide_Button.setOnClickListener(OnClick_slide);

    ListView listView = (ListView) app.findViewById(R.id.list);
    ViewUtils.initListView(this, listView, "Itemwa ", 30, android.R.layout.simple_list_item_1);

    ListView listView1 = (ListView) menu.findViewById(R.id.ListView01);
    ViewUtils.initListView(this, listView1, "Itemwana ", 10, android.R.layout.simple_list_item_1);
}

Button.OnClickListener OnClick_slide=new Button.OnClickListener()
{

    @Override
    public void onClick(View arg0)
    {
        // TODO Auto-generated method stub
        System.out.println("onClick " + new Date());
        MainActivity me = MainActivity.this;

        Animation anim;

        int w = app.getMeasuredWidth();
        int h = app.getMeasuredHeight();
        int left = (int) (app.getMeasuredWidth() * 0.8);

        if (!menuOut)
        {

            anim = new TranslateAnimation(0, left, 0, 0);
            menu.setVisibility(View.VISIBLE);
            animParams.init(left, 0, left + w, h);
        } 
        else 
        {

            anim = new TranslateAnimation(0, -left, 0, 0);
            animParams.init(0, 0, w, h);
        }

        anim.setDuration(500);
        anim.setAnimationListener(me);

        anim.setFillAfter(true);

        app.startAnimation(anim);
    }

};

void layoutApp(boolean menuOut) 
{
    app.layout(animParams.left, animParams.top, animParams.right, animParams.bottom);

    app.clearAnimation();

}

@Override
public void onAnimationEnd(Animation animation) 
{
    menuOut = !menuOut;
    if (!menuOut) 
    {
        menu.setVisibility(View.INVISIBLE);
    }
    layoutApp(menuOut);
}

@Override
public void onAnimationRepeat(Animation animation) 
{

}

@Override
public void onAnimationStart(Animation animation)
{

}

static class AnimParams 
{
    int left, right, top, bottom;

    void init(int left, int top, int right, int bottom) 
    {
        this.left = left;
        this.top = top;
        this.right = right;
        this.bottom = bottom;
    }
} 
```

ViewUtils.java

```
 public class ViewUtils
 {
 public static void setViewWidths(View view, View[] views) 
 {
    int w = view.getWidth();
    int h = view.getHeight();
    for (int i = 0; i < views.length; i++) 
    {
        View v = views[i];
        v.layout((i + 1) * w, 0, (i + 2) * w, h);
    }
 }

public static void initListView(Context context, ListView listView, String prefix, int numItems, int layout) 
{
    // By using setAdpater method in listview we an add string array in list.
    String[] arr = new String[numItems];
    for (int i = 0; i < arr.length; i++)
    {
        arr[i] = prefix + (i + 1);
    }
    listView.setAdapter(new ArrayAdapter<String>(context, layout, arr));
    listView.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> parent, View view, int position, long id)
        {

        }
    });
    } 
 } 
```

我希望你得到你的答案。

# iphone - 从数组中分离值

> ID：14931162
> 
> 赞同：1
> 
> 时间：2013-02-18T07:11:13.250
> 
> 标签：iphone, xcode

我从服务器获得的这个字符串响应。

```
2001,wooza,0420224346,J Wratt ,+61417697070,2013-55-1803-55-54.jpg,No<br />2002,wooza,0420224346,J Wratt ,+61417697070,2013-56-1803-56-17.jpg,No<br />2003,testing,9894698946,ggh hjj,9894598945,2013-11-1811-11-40.jpg,Yes<br /> 
```

我将每条记录分开`"br"`并将其存储在一个数组中。如何访问`(2013-55-1803-55-54.jpg)`数组中的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:20:43.427

你可以通过`objectAtIndex`方法。

最好保留自定义类的所有相关数据并将其存储在数组中。

大多数情况下，您在显示期间需要多个值。在这种情况下，只需从数组中获取对象并通过对象引用显示相关信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:34:51.313

从不同数组中的预期元素中获取逗号分隔的字符串，并使用 NSPredicate 获取其中包含 .jpg 的字符串。

# emacs - Emacs：如何在没有鼠标的情况下将光标直接移动到（交互式命令行？）

> ID：14931163
> 
> 赞同：1
> 
> 时间：2013-02-18T07:11:17.497
> 
> 标签：emacs

如何在此处直接移动光标

![我想将光标移动到哪里](../Images/ed1c6906165a6e98dcfc8bef88cc310a.png)

没有鼠标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:39:59.990

在您目前的情况下，您可以使用`M-minus``C-x``o`，或按`C-x``o`两次。`C-x``o`调用将`other-window`光标移动到下一个窗口的函数，在它前面加上将光标移动到上一个窗口`-`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T12:34:48.617

这是选择 minibuffer 的更好方法，无论您现在从哪里设置点，并且在实际上没有 minibuffer 时不会做任何事情。

我实际上从[Trey Jackson那里复制了](https://superuser.com/users/1474/trey-jackson)[答案](https://superuser.com/a/132454)（因为这是一个重复的问题）

```
(defun switch-to-minibuffer-window ()
  "switch to minibuffer window (if active)"
  (interactive)
  (when (active-minibuffer-window)
    (select-window (active-minibuffer-window))))

(global-set-key (kbd "<f7>") 'switch-to-minibuffer-window) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T20:17:57.700

如果启用，则只需根据需要多次`(windmove-default-keybindings)`键入（切换到您所在的窗口下方的窗口）即可选择迷你缓冲区。`S-<down>`

# java - “不能从静态上下文引用非静态变量”的解决方法是什么？

> ID：14931165
> 
> 赞同：-1
> 
> 时间：2013-02-18T07:11:26.873
> 
> 标签：java, oop, javabeans, static-methods, idioms

以某种方式将方法或匿名内部类放入驱动程序类的主要方法中有一个特殊的习惯用法：

```
package net.bounceme.dur.misc;

import net.bounceme.dur.misc.Foo;

public class StaticRef {

    Foo f = Foo.INSTANCE;

    public static void main(String[] args) throws Exception {

        f.connect();  //move this to inside "run"
        /*
        public void run(){
           StaticRef sf = new StaticRef();
           //do stuff here
        }
         */
    }
} 
```

以防止出现以下错误：

```
init:
Deleting: /home/thufir/NetBeansProjects/nntp/build/built-jar.properties
deps-jar:
Updating property file: /home/thufir/NetBeansProjects/nntp/build/built-jar.properties
Compiling 1 source file to /home/thufir/NetBeansProjects/nntp/build/classes
/home/thufir/NetBeansProjects/nntp/src/net/bounceme/dur/misc/StaticRef.java:11: non-static variable f cannot be referenced from a static context
        f.connect();  //move this to inside "run"
1 error
/home/thufir/NetBeansProjects/nntp/nbproject/build-impl.xml:626: The following error occurred while executing this line:
/home/thufir/NetBeansProjects/nntp/nbproject/build-impl.xml:245: Compile failed; see the compiler error output for details.
BUILD FAILED (total time: 0 seconds) 
```

但是，到目前为止我找不到任何东西。我在线程示例中看到类似的东西，但不能完全理解语法。

以下主要是我想要的，但我认为它不太正确：

```
package net.bounceme.dur.misc;

public class StaticRef {

    Foo f = Foo.INSTANCE;

    public static void main(String[] args) throws Exception {

        StaticRef sf = new StaticRef();
        sf.f.connect();
    }
} 
```

我想要的是将 sf 的实例化放入......我不太确定。也许以上是正确的和“好的”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:23:47.373

你有一些选择：

*   进入`Foo`范围`main`
*   声明`Foo`为静态变量

    ```
    static Foo f = Foo.INSTANCE; 
    ```

*   创建一个实例`StaticRef`并使用该对象

    ```
    new StaticRef().f.connect(); 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:25:26.590

您的实例变量无法从静态上下文中引用。你需要一个类的对象来获取（引用）它的内容。

你可以写一个单例模式：

```
public class SingletonDemo {
    private static SingletonDemo instance = null;

    private SingletonDemo() {       }

    public static SingletonDemo getInstance() {
            if (instance == null) {
                instance = new SingletonDemo ();
            }
            return instance;
    } 
```

}

如果线程安全是一个问题，您可以使用枚举：

```
public enum Singleton{
    INSTANCE;
    private Singleton(){ ... }
} 
```

或者

```
public class Singleton{
    private final static Singleton instance = new Singleton();
    private Singleton(){ ... }
    public static Singleton getInstance(){ return instance; }
} 
```

看[这里](https://stackoverflow.com/questions/3635396/pattern-for-lazy-thread-safe-singleton-instantiation-in-java)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T07:25:40.377

抱歉，还不能发表评论，所以我必须将其发布为答案。

更新后的代码很好，但由于 Foo.INSTANCE 似乎是对[Singleton 模式](http://en.wikipedia.org/wiki/Singleton_pattern)的使用，因此将其定义为 static 并像在第一个示例中一样使用它是有意义的。最多只有一个 Foo.INSTANCE 值，因此让每个 StaticRef 实例都有自己对 Foo.INSTANCE 的引用是没有意义的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T08:31:41.843

如果此代码“错误”或违反任何 OOP 原则，请发表评论：

```
package net.bounceme.dur.misc;

public class StaticRef {

    private Foo f = Foo.INSTANCE;

    public StaticRef() throws Exception {
        f.connect();
    }

    public static void main(String[] args) throws Exception {
        new StaticRef();
    }
} 
```

我听说这种方法的理由是，为了重用，StaticRef 可以很容易地修改为充当 Java Bean，只需删除该`main`方法。请发表评论。 [另请参阅此答案，以获取类似的解决方案](https://stackoverflow.com/a/14546163/262852)，或[此其他答案](https://stackoverflow.com/a/4226774/262852)。

# android - 下面给出的是soap对象的响应我如何从这个响应中获取特定的属性，比如Message

> ID：14931166
> 
> 赞同：0
> 
> 时间：2013-02-18T07:11:33.543
> 
> 标签：android, xml, web-services

```
 anyType
    {schema=anyType
    {element=anyType
    {complexType=anyType
    {choice=anyType
    {element=anyType
    {complexType=anyType
    {sequence=anyType
    {element=anyType{}; 
    element=anyType{};
    element=anyType{}; }; }; }; }; }; }; }; 
    diffgram=anyType
    {DocumentElement=anyType
{Login=anyType{Message=Success-95eb38fa-1bb4-4971-a7e0-d504690cda2e; AccountCount=17; LeadCount=11; 
}; }; }; } 
```

我想获取属性 Message 的值

# php - 具有不同列的数据库设计

> ID：14931172
> 
> 赞同：-1
> 
> 时间：2013-02-18T07:11:56.450
> 
> 标签：php, mysql

我正在尝试找出设计数据库的最佳方法，希望你们能帮助我解决我遇到的一个特定问题。

我有一个酒店表下的酒店列表。
我在房间信息表下有每家酒店的房间列表

现在我想弄清楚如何设置一个价格表，我可以在其中插入每个酒店每个房间的价格。

它当前设置为：
Rates Table
Date
Column，其名称为 hotel 的 Hotel ID
列，其名称为 hotel 的 Hotel ID
。
.
.
.

在这些列中的每一列下是每个房间的费率和它们各自的 ID 排列在一个数组中。前任。1,2,3,4,5-100,110,120,130,140

这张桌子的设计让我很不舒服，我觉得它太草率了，我相信有更好的设计方法。

希望你们能帮帮我。

斯科特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:34:23.430

我会使用这样的示意图：

```
// Hotels Table
// (as it is)

// Room Information Table
// (as it is)

// Rooms of Hotel Table (connection the two tables by crossrefference)
HotelID
RoomID

// Rates Table (you can use either RoomID oder HotelID or both, depending on, 
// if you want to rate just rooms or just Hotels or leave an option to rate 
// either or both of them)
Date
RoomID
HotelID
Rating
Comment
... 
```

现在您有以下内容：

```
Rating -> Room -> Hotel
or
Rating -> Hotel
// Each Rating is connected to the other two tables and can be called by using 
// eiter HotelID or RoomID 
```

# c - 不使用点运算符访问结构成员

> ID：14931174
> 
> 赞同：3
> 
> 时间：2013-02-18T07:12:07.413
> 
> 标签：c

我什至不知道，我问的是不是愚蠢的。我不是要您为我编写任何代码，而是要以更好的方式做某事的想法。

我有一个包含大量这样的项目的结构：

```
typedef struct _myStruct
{
    int int1;
    char char1;
    int int2;
    :
    :
    int int50;
}myStruct; 
```

我有另一个枚举，它对 myStruct 中的每个项目都有一个条目。

```
enum
{
   eINT1,
   eCHAR1,
   eINT2,
   :
   :
   eINT50
} PARAMETER_ID; 
```

我想为每种数据类型编写一个函数[比如一个用于 int，一个用于 char，一个用于 string 等]，`myStruct`当`PARAMETER_ID`作为输入给出时，它返回一个成员的值。

例如，我需要一个`int GetInt(PARAMETER_ID)`函数，它返回`int1`eINT1 作为参数传递时的值。同样，我将拥有`char GetCharacter(PARAMETER_ID)`等`float GetFloat(PARAMETER_ID)`。

结构中的项目数可能很大。因此，为每个项目使用 switch-case 将不是一个可行的选择。

我能想到的唯一其他选择是使用结构变量和`offsetof()`函数的地址来计算参数的地址，然后`memcpy`将所需的字节放入变量中。在这种情况下，我需要将每个参数的偏移量保留在某个地方，但这不是问题。

我正在寻找替代方案来做到这一点。任何帮助将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T07:25:14.557

大型`switch`是一个很好的可行选择。

您还可以玩预处理器技巧。

你可以有一个`mystruct.def`文件包含

```
 INTFIELD(int1)
 CHARFIELD(char1)
 INTFIELD(int2) 
```

等等......然后你会包括它几次; 声明结构：

```
 struct _myStruct {
 #define INTFIELD(F) int F;
 #define CHARFIELD(F) char F;
 #include "mystruct.def"
 #undef INTFIELD
 #undef CHARFIELD
 }; 
```

声明枚举（使用`e_int1`代替`eINT1`）

```
 enum field_en {
 #define INTFIELD(F) e_##F,
 #define CHARFIELD(F) e_##F,
 #include "mystruct.def"
 #undef INTFIELD
 #undef CHARFIELD
 }; 
```

要实现访问器，

```
 int get_int(struct _myStruct*s, enum field_en f)
 {
    switch (f) {
 #define INTFIELD(F) case e_##F: return s->F;
 #define CHARFIELD(F) /*nothing*/
 #include "mystruct.def"
 #undef INTFIELD
 #undef CHARFIELD
    default: return 0;
 }} 
```

我并不声称这是更好或更易读的代码，但这种编程风格确实出现在某些 C 或 C++ 程序中（例如 GCC 内部及其`gcc/tree.def`.

如果你的代码是一个非常大的代码库，并且你准备好花费数天的时间工作（例如，因为你有很多这样的东西`struct`并且不想玩这样的技巧）你可以考虑使用[MELT](http://gcc-melt.org/)制作一个 GCC 扩展（一个高级域特定语言来扩展 GCC）来帮助你；您可能可以制作一个 MELT 扩展来为您生成访问器功能。

您还可以说服您的老板从一个特别的描述文件（使用，或其他）生成`struct`、 the和访问器函数。GCC 为其选项文件做了这样的技巧，例如`enum``awk``python``gcc/common.opt`

最后，如果包含 的标题`_myStruct`非常神圣以至于不允许您触摸它，并且如果它的格式非常干净，您可以制作一个临时（例如`awk`）脚本来获取该声明并处理它。

请注意，一个好的编译器会将密集`switch`语句优化为需要恒定时间的索引跳转，即使对于数百个案例也是如此。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T09:01:53.387

```
#include <stddef.h>
#include <stdio.h>

struct S
{
 int  int1;
 char char1;
 int  int2;
 char char2;
 long long1;
} myStruct = {12345, 'A', 321, 'B', -1L};

enum
{
 eINT1  = offsetof(struct S, int1),
 eCHAR1 = offsetof(struct S, char1),
 eINT2  = offsetof(struct S, int2),
 eCHAR2 = offsetof(struct S, char2),
 eLONG1 = offsetof(struct S, long1),
} PARAMETER_ID;

char GetChar(int para_id)
{
  return *((char*)((char *)&myStruct + para_id));
}

int GetInt(int para_id)
{
  return *((int*)((char *)&myStruct + para_id));
}

long GetLong(int para_id)
{
  return *((long*)((char *)&myStruct + para_id));
}

void main(void)
{
  printf("offsetof int1  = %d\n", eINT1);
  printf("offsetof char1 = %d\n", eCHAR1);
  printf("offsetof int2  = %d\n", eINT2);
  printf("offsetof char2 = %d\n", eCHAR2);
  printf("offsetof long1 = %d\n", eLONG1);

  printf("int1  = %d\n",  GetInt (eINT1));
  printf("char1 = %c\n",  GetChar(eCHAR1));
  printf("int2  = %d\n",  GetInt (eINT2));
  printf("char2 = %c\n",  GetChar(eCHAR2));
  printf("long1 = %ld\n", GetLong(eLONG1));
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T07:59:47.923

你部分回答了你自己的问题，`offsetof`就是为了这个目的。您必须考虑结构填充/对齐。我认为您正在寻找类似的东西：

```
#include <stddef.h>  // size_t, offsetof
#include <string.h>  // memcpy
#include <stdio.h>

typedef struct
{
  int  int1;
  char char1;
  int  int2;
  int  int50;
} myStruct;

typedef enum
{
  eINT1,
  eCHAR1,
  eINT2,
  eINT50,
  ITEMS_IN_STRUCT
} myEnum;

static const size_t MYSTRUCT_MEMBER_OFFSET [ITEMS_IN_STRUCT] =
{
  offsetof(myStruct, int1),
  offsetof(myStruct, char1),
  offsetof(myStruct, int2),
  offsetof(myStruct, int50),
};

static const myStruct MS;
static const size_t MYSTRUCT_MEMBER_SIZE [ITEMS_IN_STRUCT] = 
{
  sizeof(MS.int1),
  sizeof(MS.char1),
  sizeof(MS.int2),
  sizeof(MS.int50)
};

void myStruct_get_member (void* result, const myStruct* ms, myEnum id)
{
  memcpy (result, 
          (char*)ms + MYSTRUCT_MEMBER_OFFSET[id], 
          MYSTRUCT_MEMBER_SIZE[id]);
} 
```

# android - Android 中 mdpi 和 ldpi 中的图像

> ID：14931175
> 
> 赞同：2
> 
> 时间：2013-02-18T07:12:07.757
> 
> 标签：android, image, drawable

在我的 Android 应用程序中，我将一些图像保留在**"mdpi"**中并保留在**"ldpi"**中。然后我的应用程序也可以在各种设备（虚拟设备和移动设备）上正常运行。图像不是假设是根据设备的分辨率获取的。怎么会显示？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:14:29.423

mdpi 和 ldpi 是覆盖。如果android通过名称找到一个drawable，它会使用它，但是如果存在多个不同分辨率的图像，它将选择最接近的一个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:15:08.517

默认情况下，Android 会缩放您的**位图可绘制对象** *（.png、.jpg 和 .gif 文件）*和[九补丁](http://developer.android.com/tools/help/draw9patch.html)可绘制对象**（.9.png 文件）**，以便它们在每个设备上以适当的物理尺寸呈现。

*例如，*`baseline`如果您的应用程序只为,提供位图可绘制对象`medium screen density (mdpi)`，那么系统在***高密度屏幕上时会放大它们，而在******低密度***屏幕上时会缩小它们。这种缩放会导致位图中出现伪影。为确保您的位图看起来最好，您应该包含针对不同屏幕密度的不同分辨率的替代版本。

可用于密度特定资源的配置限定符是`ldpi (low), mdpi (medium), hdpi (high), and xhdpi (extra high)`. *例如，*高密度屏幕的位图应该放在`res/drawable-hdpi`.

有关屏幕的更多信息，您应该参考[这个](http://developer.android.com/guide/practices/screens_support.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T07:34:52.550

Android 有一个非常具体的算法来选择正确的可绘制对象。这是它的样子：

![Android 可绘制选择](../Images/0fa5da1dc1646b5a83e5ea85a1057cdb.png)

这里有详细解释：

[http://developer.android.com/guide/topics/resources/providing-resources.html#BestMatch](http://developer.android.com/guide/topics/resources/providing-resources.html#BestMatch)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:27:05.087

场景如下：

**布局：-**

```
res/layout/my_layout.xml             // layout for normal screen size ("default") (320 * 480)
res/layout-small/my_layout.xml       // layout for small screen size (240 * 320)
res/layout-large/my_layout.xml       // layout for large screen size (480 * 800/854)
res/layout-xlarge/my_layout.xml      // layout for extra large screen size (720/800 * 1280) 
```

**可绘制对象：-**

```
res/drawable-mdpi/my_icon.png        // bitmap for medium density, used by layout-small & layout
res/drawable-hdpi/my_icon.png        // bitmap for high density, used by layout-large
res/drawable-xhdpi/my_icon.png       // bitmap for xtra-high density, used by layout-xlarge 
```

希望它有所帮助。如果有任何困惑，请询问。请同时阅读一次[Screens Support APIs](http://developer.android.com/about/versions/android-3.2.html#api)

谢谢。

# asp.net-mvc-3 - 在 MVC3 环境中传递 AJAX 请求

> ID：14931177
> 
> 赞同：1
> 
> 时间：2013-02-18T07:12:08.227
> 
> 标签：asp.net-mvc-3, jquery

我将 MVC3 与 AJAX 一起使用。我在另一个 AJAX 中使用 AJAX。对于第一个 AJAX 请求，它会正确地向控制器发送数据。但是从 AJAX 请求返回后，我再次将相同的数据发布到另一个操作。但是第二次数据到达控制器时为空。请帮我解决这个问题。

**代码**

```
 $(document).ready(function () {
    $('.deleteitems').live('click', function (e) {
        var items = [];
        $('.checkall').each(function () {
            if ($(this).is(':checked'))
                items.push($(this).attr("Id"));
        });
        var json = JSON.stringify(items);
        var perm = $("#Permission").val();
        if (items.length != 0) {
            if (perm == "True") {

                $.ajax({
                    url: '/ItemControl/ItemControl/Catalogue_Check',
                    type: 'POST',
                    dataType: 'json',
                    data: json,
                    contentType: 'application/json; charset=utf-8',
                    success: function (data) {
                        if (data == "S") {

                            DelBibsAlso();

                        }
                        else {

                            DelItemsonly();
                        }

                    }
                });
            }
            else {
                $("#divMes").removeClass("Success");
                $("#divMes").addClass("Error");
                showError("Sorry you dont have Permission!");
            }
        }
        else {
            alert("Select any Items to delete");
            e.preventDefault();
        }
    });
});

function DelItemsonly() {
    var items2 = [];
    $('.checkall').each(function () {
        if ($(this).is(':checked'))
            items2.push($(this).attr("Id"));
    });
    var itemjson = JSON.stringify(items2);
    var val = confirm("Are you sure you want to delete these records?");
    if (val) {
        $.ajax({
            url: '/ItemControl/ItemControl/DeleteItems',
            type: 'POST',
            dataType: 'json',
            data: { "id": itemjson, "DelBib": 0 },
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                e.preventDefault();
                $(".t-grid .t-refresh").trigger('click');
                $("#divMes").removeClass("Error");
                $("#divMes").addClass("Success");
                showError("Data Successfully Deleted");
            }
        });
    }
    else {
        e.preventDefault();
    }
}

function DelBibsAlso() {
    var items1 = [];
    $('.checkall').each(function () {
        if ($(this).is(':checked'))
            items1.push($(this).attr("Id"));
    });
    var bibjson = JSON.stringify(items1);
    var value = confirm("Do you also want to delete the catalogue record?");
    var cond = 0;
    if (value) {
        var cond = 1;
    }
    else {
        cond = 0;
    }
    var val = confirm("Are you sure you want to delete these records?");
    if (val) {
        $.ajax({
            url: '/ItemControl/ItemControl/DeleteItems',
            type: 'POST',
            dataType: 'json',
            data: { "id": bibjson, "DelBib": cond },
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                e.preventDefault();
                $(".t-grid .t-refresh").trigger('click');
                $("#divMes").removeClass("Error");
                $("#divMes").addClass("Success");
                showError("Data Successfully Deleted");
            }
        });
    }
    else {
        e.preventDefault();
    }
} 
```

**控制器代码**

```
 public ActionResult Catalogue_Check(string[] id)
    {
        DeleteItem weed = new DeleteItem();
        int[] ints = id.Select(x => int.Parse(x)).ToArray();
        var Matched_BibID = (from asd in Db.Items
                             where ints.Contains(asd.Id)
                             select asd.BibId).ToList();

        foreach (var idd in ints)
        {
            var bibid = (from bib in Db.Items where bib.Id == idd select bib.BibId).Single();
            var checkbib = (from bibchk in Db.Items where bibchk.BibId == bibid && !ints.Contains(bibchk.Id) select bibchk.Id).Count();
            if (checkbib == 0)
            {
                return Json("S", JsonRequestBehavior.AllowGet);
            }

        }

        return Json("N", JsonRequestBehavior.AllowGet);

    }

    public JsonResult DeleteItems(string[] id, int? DelBib)
    {
        //var newid = id.Split(',');
        DeleteItem weed = new DeleteItem();
        int[] ints = id.Select(x => int.Parse(x)).ToArray();
        foreach (var a in id)
        {
            int sel = Convert.ToInt32(a);
            Item item = Db.Items.Single(i => i.Id == sel);

            int Sess = Convert.ToInt16(Session["AccId"]);
            string AdminName = User.Identity.Name;
            bool Exist = Db.RouteOuts.Any(itm => itm.ItemId == item.Id);

            if (!Exist)
            {
                weed.DeleteIt(item, Sess, AdminName);
                var bibid = (from bib in Db.Items where bib.Id == item.Id select bib.BibId).Single();
                var checkbib = (from bibchk in Db.Items where bibchk.BibId == bibid && !ints.Contains(bibchk.Id) select bibchk.Id).Count();
                if (checkbib == 0)
                {
                    Db.ExecuteStoreCommand("update Bibs set Status= 'D' where Id={0}", item.BibId);
                    Db.SaveChanges();
                }
            }
        }
        return Json("S", JsonRequestBehavior.AllowGet);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T07:10:37.387

```
function Test() {
    var items1 = [];
    $('.checkall').each(function () {
        if ($(this).is(':checked'))
            items1.push($(this).attr("Id"));
    });
    //var bibjson = JSON.stringify(items1); **** Loose this line ****
    var value = confirm("Do you also want to delete the catalogue record?");
    var cond = 0;
    if (value) {
        var cond = 1;
    }
    else {
        cond = 0;
    }
    var val = confirm("Are you sure you want to delete these records?");
    if (val) {
        $.ajax({
            url: '/ItemControl/ItemControl/DeleteItems',
            type: 'POST',
            dataType: 'json',
            data: JSON.stringify({ "id": items1, "DelBib": cond }), // **** Items are stringified before posting ****
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                e.preventDefault();
                $(".t-grid .t-refresh").trigger('click');
                $("#divMes").removeClass("Error");
                $("#divMes").addClass("Success");
                showError("Data Successfully Deleted");
            }
        });enter code here
    }
    else {
        e.preventDefault();
    } 
```

# entity-framework - 为什么每个人都想用实体框架做单元测试而不是集成测试

> ID：14931179
> 
> 赞同：1
> 
> 时间：2013-02-18T07:12:11.257
> 
> 标签：entity-framework, unit-testing, integration-testing

与使用真实数据库的集成测试相比，我在谷歌中读到的许多人都在努力使用所谓的内存数据库对存储库类进行单元测试。

做后者的问题在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:03:02.433

如果您使用的是 EF，则不必编写测试来查看 EF 是否正确保存数据。所以你不需要一个真正的数据库来进行测试，你只需要测试你的代码逻辑和内存数据库最适合这种情况，它有助于分离关注点，灵活，易于运行并且运行速度比使用真实的数据库。

此外，使用真实数据库运行集成测试非常复杂。它在运行之前需要一些配置（连接字符串、删除和重新创建数据库...），这可能需要一些时间。测试可能由于配置错误（例如在测试期间使用共享数据库）而失败，并且需要时间来调试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:08:53.810

无论您是针对内存数据库还是真实数据库进行测试，您都没有进行单元测试——两​​者都是集成测试。两者都将实际测试某种形式的连接和提供者实现。

我会看到使用内存数据库与真实数据库的主要好处是

*   权限 - 使用真实数据库通常需要更高级别的权限和连接性。就像文件写入权限或对数据库服务器的访问一样。内存数据库可能不需要相同级别的权限。
*   速度 - 启动和拆除内存数据库比真正的数据库更快

根据您的模式（即，如果您使用的是工作单元），您甚至可能不需要数据库来测试您的存储库。

# extjs - 在运行时启用/禁用系列提示（在图表中）

> ID：14931180
> 
> 赞同：1
> 
> 时间：2013-02-18T07:12:21.840
> 
> 标签：extjs, charts, series

我有一个图表-->系列-->提示

如何在运行时禁用/隐藏提示？根据用户的意愿（启用/禁用）

# r - 整数变量与 R 中回归的因子变量相同

> ID：14931189
> 
> 赞同：0
> 
> 时间：2013-02-18T07:13:05.473
> 
> 标签：r

我想知道R中是否有整数类型的值，我们如何在回归中使用？行为是否类似于定性因子变量或整数的行为会有所不同。如果整数类似于月数，我不知道是否应该将月数转换为数字。响应是一个连续变量。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:05:24.500

如果一个变量的类是整数，则只会产生一个系数。该系数将是一个单位变化的估计结果差异。`factor`如果您希望将变量视为多项式，您可以选择在公式中环绕变量。如果该类是无序因子，则会产生 n-1 个系数。因子类变量系数将是单个水平与参考水平相比的平均值之差。

# php - PHP Preg 引擎中的错误：环顾 Unicode 问题

> ID：14931192
> 
> 赞同：7
> 
> 时间：2013-02-18T07:13:15.380
> 
> 标签：php, regex

为什么要遵循js码字：

```
"آرد@".replace(/(?=.)/g,'!'); // returns: ""!آ!ر!د"" 
```

但它的 php 等效返回`'!�!�!�!�!�!�'`？

```
preg_replace('/(?=.)/u', '!', 'آرد'); //returns '!�!�!�!�!�!�' 
```

这仅适用于 4.3.5 - 5.0.5、5.1.1 - 5.1.6 版本。

见：http: [//3v4l.org/jrV0W](http://3v4l.org/jrV0W)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:25:40.740

如果您只是添加`/u`修饰符，则该模式应该被视为`utf-8`. 第二个示例有效，因为：

1.  从 PHP 5.1 开始，您可以使用`\p{L}`可以翻译为：**“是来自任何语言的任何类型的字母”。**
2.  除了标准符号之外，\p{L}、Java、Perl、PCRE 和现在的**PHP**都允许您使用简写`\pL`。速记仅适用于单字母 Unicode 属性。

* * *

**更新：**为什么`preg_replace('/(?=.)/u', '!', 'آرد'); //returns '!�!�!�!�!�!�'??`

正如@MarkFox 所说，原因是因为在它的上下文中`preg_replace()`假设每个字符一个字节，而您“RegExing”的字符是多字节的。这就是为什么您的替换输出具有您期望的双倍匹配，它匹配每个字符的每个字节（我推断为两个字节） -

无论您对文档编码做什么，都需要使用[Unicode 字符属性](http://php.net/manual/en/regexp.reference.unicode.php)才能使其正常工作。

**那个奇怪的符号呢？**

当您看到“内部带有问号的奇怪方形符号”（也称为替换字符）时，通常表明您有一个 80-FF (128-255) 范围内的字节并且系统正在尝试渲染它在`UTF-8`.

整个字节范围对于 中的单字节字符无效`UTF-8`，但在西方编码中都很常见，例如`ISO-8859-1`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T12:57:37.407

现在测试了一些字符串后，我认为 PREG 引擎中存在错误。前三行输出符合预期，但第四行出现故障。

```
<?php
echo preg_replace('/./'       , '#', 'آرد')   . PHP_EOL; //✓
echo preg_replace('/./u'      , '#', 'آرد')   . PHP_EOL; //✓
echo preg_replace('/(?=.)/'   , '#', 'آرد')   . PHP_EOL; //✓
echo preg_replace('/(?=.)/u'  , '#', 'آرد')   . PHP_EOL; //✗
echo preg_replace('/(?=\pL)/' , '#', 'آرد')   . PHP_EOL; //?
echo preg_replace('/(?=\pL)/u', '#', 'آرد')   . PHP_EOL; //? 
```

输出：

```
######
###
#�#�#�#�#�#�
#�#�#�#�#�#�
#آ#ر#د
#آ#ر#د 
```

# html - 页脚始终位于底部；内容和页脚的背景图像

> ID：14931207
> 
> 赞同：0
> 
> 时间：2013-02-18T07:14:51.767
> 
> 标签：html, css

我的 html 页面顶部有标题和菜单，菜单下有内容部分，底部有页脚。无论内容大小如何，页脚都必须始终位于窗口底部（除非内容高于窗口，在这种情况下，页脚必须位于内容下方）。我有实现这一点的标记和 CSS 规则（如下）。

但我还需要在内容和页脚上显示背景图像。也就是说，图像必须覆盖整个屏幕，但标题/菜单区域除外。我不知道如何做到这一点。在下面的代码中（以及[http://jsfiddle.net/EGj54/](http://jsfiddle.net/EGj54/)的 jsfiddle 上），我已将背景附加到整个页面，但我希望它仅显示内容和页脚。

有人可以帮我吗？

```
<div id="main">
    <div id="navbar">
        <div id="caption"><span>Test</span></div>
        <ul id="sections">
            <li><span>current</span></li>
            <li><a href="">next</a></li>
        </ul>
    </div>
    <div id="content">content</div>
    <div class="push"></div>
</div>
<div id="footer">footer</div>

* {
    margin: 0;
}
html, body {
    height: 100%;
}
ul {
    list-style-type: none;
}
ul li {
    display: inline;
}
#caption {
    font-weight: bold;
}
#footer, .push {
    color: white;
    height: 25px;
}
#sections {
    background-color: #aaaaaa;
}
#main {
    height: auto !important;
    margin: 0 auto -25px; /* bottom margin is negative value of #footer height */
    min-height: 100%;
}
#main {
    background-image: url('http://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Clouds_over_the_Atlantic_Ocean.jpg/800px-Clouds_over_the_Atlantic_Ocean.jpg');
    background-size: cover;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:25:57.307

您可以设置`background-position`图像的

```
#main {
    background-image: url('yourimage.jpg');
    background-size: cover;

    background-position: 0 100px; // 100px or whatever the height of your navbar is
} 
```

或者，您可以像这样作弊；）

```
#content {
    height: 100px;
    background: url('yourimage.jpg') top;
}
#footer {
    height: 50px;
    background: url('yourimage.jpg') bottom;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:27:48.787

自从您将页脚与 div 放在最后之后，您的页脚将保持在底部，只要您不使用`float`或绝对定位就没有问题。在后台移动您的样式`body`以解决您的问题：

```
body {
    background-image: url('http://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Clouds_over_the_Atlantic_Ocean.jpg/800px-Clouds_over_the_Atlantic_Ocean.jpg');
    background-size: cover;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:27:54.843

你能简单地调整背景图像的垂直位置吗？

```
background-position: left 20px; 
```

# java - 通过 iBATIS 将数据插入 PostgreSQL 数据库不起作用

> ID：14931208
> 
> 赞同：0
> 
> 时间：2013-02-18T07:14:52.983
> 
> 标签：java, postgresql, ibatis

[使用iBATIS](http://ibatis.apache.org/)将数据插入 PostgreSQL 数据库不起作用并且没有给出任何异常。请帮助我摆脱困境。

这段代码工作了一段时间，但不是每次都有效。并且代码被正确执行，我们没有收到任何异常或错误。

以下代码用于将数据插入数据库：

```
public void insert() {
    map.put("customer", customer);
    map.put("created_by", created_by);
    map.put("created_date", created_date);
    map.put("modified_by", modified_by);
    map.put("last_modified", last_modified);
    map.put("total_cost", total_cost);
    map.put("tax", tax);
    map.put("bill_number", bill_number);
    map.put("date_of_sale", date_of_sale);
    try {
        SqlMapClient mapClient=GetDBConnection.sqlMapClientForLedger;
        mapClient.insert("insertTaxDiscountMemosbyanil", map);
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:55:08.813

尝试添加交易。

```
try {
   mapClient.startTransaction()
   mapClient.insert("insertTaxDiscountMemosbyanil", map);
   mapClient.commitTransaction();
 } 
finally {
   mapClient.endTransaction();
} 
```

# javascript - 如何将此 jquery 代码转换为“原始”javascript

> ID：14931213
> 
> 赞同：0
> 
> 时间：2013-02-18T07:15:13.357
> 
> 标签：javascript, jquery

有人可以帮我将此 jquery 代码转换为 javascript（不需要 jquery 库）吗？

```
var console={
    panel:$(parent.document.body),
    log:function(m){
        this.panel.find("#something").append(m)
    }
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:18:19.903

```
var console = {
    panel : parent.document.body || document.body,
    log : function(m){
        this.panel.getElementById("something").appendChild( document.createTextNode(m));
    }
}; 
```

# treegrid - JQuery EasyUI TreeGrid 表格列宽

> ID：14931217
> 
> 赞同：0
> 
> 时间：2013-02-18T07:15:26.740
> 
> 标签：treegrid, jquery-easyui

我是 jQuery 新手，不知道这是怎么发生的，但我已经提到数据选项中的宽度仍然得到宽度 = 10000px

```
 <script type="text/javascript">
            $('#tt').treegrid({     url:'treegrid3_getdata.php',
                                    animate: true,
                                    idField:'id',
                                    treeField:'name',
                                    columns:[[      {title:'Folder Name',field:'name',width:180},  
                                                    {field:'description',title:'description',width:100},
                                                    {field:'level',title:'Level',width:80},
                                                    {field:'created',title:'Created',width:80}
                                            ]]
            });
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:42:35.440

您是否`fitColumns`在代码中的某处将网格选项设置为 true？这将覆盖为列指定的宽度并将表格扩展到容器的宽度。

**免责声明：**我似乎没有足够的声誉将其作为对原始问题的评论发布，或者我不知道该怎么做。道歉。

# c - RSA_generate_key() 使用 prngd 而不是 /dev/random 或 /dev/urandom

> ID：14931218
> 
> 赞同：5
> 
> 时间：2013-02-18T07:15:38.300
> 
> 标签：c, cryptography, openssl, rsa, hp-ux

我想`RSA_generate_key()`在 HP-UX 11.11 上使用。但是hp-ux 11.11没有提供/dev/random或者/dev/urandom，所以需要使用openssl prngd。

请让我知道如何在 C 代码中默认使用它。我安装了 openssl 并且 prngd 可用。

```
$ ls /opt/openssl/prngd/prngd  
/opt/openssl/prngd/prngd 
```

如果您需要更多信息，请与我们联系。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T22:33:05.563

请注意 prngd 使用与 EGD 相同的界面，请[查看此处](http://www.openssl.org/docs/crypto/RAND_egd.html)的说明。感兴趣的报价是：

> 在没有从内核提供熵的 /dev/*random 设备的系统上
> 
> 或者，可以使用与 EGD 接口兼容的守护进程 PRNGD。
> 
> 当通过 RAND_bytes() 请求熵或第一次通过 RAND_status() 检查状态时，OpenSSL 会自动查询 EGD，如果套接字位于 /var/run/egd-pool、/dev/egd-pool 或 /etc /egd 池。

因此，当您运行 prngd 时，将其作为`prngd /dev/egd-pool`其他替代方案之一运行

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T22:22:28.673

prngd 通过网络连接模拟“/dev/random”和“/dev/urandom”。它支持基于 Unix 流的域套接字（“/var/run/egd-pool”）或（如果配置为）或使用 TCP 端口 708 或 4840 的 IP（默认值---可以更改）。

因此，在使用 Unix 域套接字时，它看起来像：

```
#include <string.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <sys/un.h>

int devrandom(void)
{
  union 
  {
    struct sockaddr    sa;
    struct sockaddr_un path;
  } location;
  int sock;               

  memset(&location,0,sizeof(location));
  location.path.sun_family = AF_UNIX;
  strcpy(location.path.sun_path,"/var/run/egd-pool");

  sock = socket(AF_UNIX,SOCK_STREAM,0);
  if (sock < 0)
    return -1; 

  if (connect(sock,&location.sa,sizeof(struct sockaddr_un)) < 0)
    return -1;

  return sock;
} 
```

这将返回一个文件描述符，您可以将其传递给 read() 以获得随机数据（注意：此代码未经测试）。基于 TCP/IP 的连接涉及更多，需要将套接字绑定到本地地址并连接到远程地址，但 Internet 上有大量此类代码的示例。

# php - DIBS 定期付款，没有错误消息，根本不工作

> ID：14931220
> 
> 赞同：1
> 
> 时间：2013-02-18T07:15:40.173
> 
> 标签：php, payment-gateway, credit-card, recurring-billing, dibs

我正在使用以下代码工作，但它不工作

```
 require('DIBSFunctions.php');

     //Define input variables (here simply static variables)
  $Merchant     = "123456";
  $OrderID      = "AHJ798123AH-BH";
  $Currency     = "208"; //DKK
  $Amount       = "30000"; //In smallest possible unit 30000 Øre = DKK 300 
  $CardNo       = "5019100000000000"; //DIBS test Dankort values
  $ExpMon       = "06"; //DIBS test Dankort value
  $ExpYear      = "13"; //DIBS test Dankort value
  $CVC          = "684"; //DIBS test Dankort value
  $MD5['K1']    = "~.(S96%u|(UV,~ifxTt.DAKSNb&SKAHD"; //K1 and K2 MUST be gathered through
  $MD5['K2']    = "qJuH6vjXHLSDB*%¤&/hbnkjlBHGhjJKJ"; //ones DIBS admin-webinterface.

//Call function DIBSAuth to authorise payment
  $RES = DIBSAuth($Merchant,$Amount,$Currency,$CardNo,$ExpMon,$ExpYear,$CVC,$OrderID,$MD5);

  echo '<pre>';
  print_r($RES);

//Check the response (the DIBS API returns the variable transact on success)
  if ( $RES['transact'] != "" ) 
  {
    printf ("Authorisation successful! TransaktionID = %s",$RES['transact']);   

//Call function DIBSCapt to capture payment
    $RES2 = DIBSCapt($Merchant, $Amount, $RES['transact'], $OrderID);

    if ( $RES2['status'] == "ACCEPTED" ) 
    {
      printf ("Transaction completed");
    } else {
      printf ("Capture failed!");  
    }
  } else {
    printf ("Authorisation failed");
  } 
```

这是代码输出 Array ( [reason] => 2 [status] => DECLINED ) 授权失败

```
 require('DIBSFunctions.php'); 
```

这个文件包含用户名和密码，我提供。例如

```
 function http_post($host, $path, $data, $auth="") {
        $auth['username']       = '123456';
        $auth['password']       = '987656656';
       //rest of the code
    } 
```

如果有人想查看“DIBSFunctions.php”文件，可以从这里下载[http://tech.dibspayment.com/toolbox/downloads/dibs_php_functions/](http://tech.dibspayment.com/toolbox/downloads/dibs_php_functions/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T04:31:01.393

我联系了技术支持并得到以下答案：

您遇到的问题是由于您试图向我们发送真实的卡号（测试或实时）。这种集成形式需要对您的系统进行 PCI 认证。

大多数客户使用所谓的托管解决方案，您使用我们的付款窗口。有关文档，请参阅 tech.dibs.dk。

# r - 如何使用 R-base 在堆积条形图中标记百分比值

> ID：14931221
> 
> 赞同：0
> 
> 时间：2013-02-18T07:15:47.023
> 
> 标签：r

我是 R 新手。我希望其他人向我解释如何使用基本的 R 绘图功能（R 基）以一致的方式在各个堆叠条内添加绝对值。我尝试使用 R 基数绘制堆积条形图，但这些值以不一致/不合逻辑的方式出现，以至于每个村庄的值应该是 100%，但它们的总和不等于 100%。以下是正在处理的数据：

```
Village     100          200    300 400     500
Male    68.33333      53.33333   70 70      61.66667
Female  31.66667      46.66667   30 30      38.33333 
```

综上所述，共有 5 个村，数据显示了按性别访问的户主。

我使用以下命令绘制图形：

```
barplot(mydata,col=c("yellow","green")
x<-barplot(mydata,col=c("yellow","green")
text(x,mydata,labels=mydata,pos=3,offset=.5) 
```

请帮助在每个栏中分配正确的值谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T08:32:02.450

您需要使用 计算高度`cumsum`。像这样的东西：

```
heights =c(cumsum(dat[,1])-dat[,1]/2,cumsum(dat[,2])-dat[,2]/2), 
```

我假设你的数据是，但同样的方法也可以应用于翻译，

```
 dat
        Male   Female
100 68.33333 31.66667
200 53.33333 46.66667
300 70.00000 30.00000
400 70.00000 30.00000
500 61.66667 38.33333 
```

例如我这样做：

```
midpts <- barplot(dat,col=rainbow(5),beside=F)
legend(2, 320, rownames(dat), cex=1, angle = c(135, 45),  fill =rainbow(5))
text(x= rep(midpts,each=5),
y =c(cumsum(dat[,1])-dat[,1]/2,cumsum(dat[,2])-dat[,2]/2),
label = round(unlist(dat),2),cex=1.2) 
```

![在此处输入图像描述](../Images/4e3198f0c51d173edf89830b5bffc786.png)

# iphone - 文件 ios 问题 - 无法识别的选择器

> ID：14931222
> 
> 赞同：0
> 
> 时间：2013-02-18T07:15:49.627
> 
> 标签：iphone, ios, file, unrecognized-selector

这是我的代码：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    textBox = [[UITextField alloc] initWithFrame:CGRectMake(10, 50, 300, 40)];
    [textBox setDelegate:self];
    [self.view addSubview:textBox];
    [textBox release];
    UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    [button addTarget:self action:@selector(saveText) forControlEvents:UIControlEventTouchUpInside];
    [button setTitle:@"Save" forState:UIControlStateNormal];
    button.frame = CGRectMake(80.0, 210.0, 160.0, 40.0);
    [self.view addSubview:button];

    NSFileManager *filemgr;
    NSString *dataFile;
    NSString *docsDir;
    NSArray *dirPaths;

    filemgr = [NSFileManager defaultManager];

    // Identify the documents directory
    dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

    NSLog(@"PATH--->  %@",dirPaths);

    docsDir = [dirPaths objectAtIndex:0];

    // Build the path to the data file
    dataFile = [docsDir stringByAppendingPathComponent: @"datafile.dat"];

    // Check if the file already exists
    if ([filemgr fileExistsAtPath: dataFile])
    {
        // Read file contents and display in textBox
        NSData *databuffer;
        databuffer = [filemgr contentsAtPath: dataFile];

        NSString *datastring = [[NSString alloc] initWithData: databuffer encoding:NSASCIIStringEncoding];

        textBox.text = datastring;
        [datastring release];
    }

    [filemgr release];
    [super viewDidLoad];

}

- (BOOL)textFieldShouldReturn:(UITextField *)textField
{
    [textField resignFirstResponder]; 
    return YES; 
}

- (void)saveText:(id)sender
{ 
    NSLog(@"Text saved");
} 
```

如果我尝试执行此操作，我会收到一条错误消息

> “2013-02-18 12:43:46.194 FileExample[1475:207]-[FileExampleViewController saveText]：无法识别的选择器发送到实例 0x682e730”

我是 iOS 新手，无法识别、理解或首次出现此错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:20:47.640

改变你的这一行

```
[button addTarget:self action:@selector(saveText) forControlEvents:UIControlEventTouchUpInside]; 
```

有了这个

```
 [button addTarget:self action:@selector(saveText:) forControlEvents:UIControlEventTouchUpInside]; 
```

或者

做这个

```
- (void)saveText // removed  " :(id)sender "
 { 
    NSLog(@"Text saved");
 } 
```

# ios - 如何获取 NSDocumentDirectory 中的目录列表？

> ID：14931224
> 
> 赞同：5
> 
> 时间：2013-02-18T07:16:06.367
> 
> 标签：ios, objective-c, nsfilemanager, nsdocumentdirectory

我在 NSDocumentDirectory 中创建了一些目录

```
if (![tbxCreateFolder.text isEqualToString:@""]) {
NSArray  *arrPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectoryStr = [arrPaths objectAtIndex:0]; // Get documents folder
NSString *dataPath = [documentsDirectoryStr stringByAppendingPathComponent:[NSString stringWithFormat:@"/%@",tbxCreateFolder.text]];

if (![[NSFileManager defaultManager] fileExistsAtPath:dataPath]){

    NSError* error;
    if([[NSFileManager defaultManager] createDirectoryAtPath:dataPath withIntermediateDirectories:NO attributes:nil error:&error]){

        NSLog(@"success");
        //Perfrom DB Insertation
    }
    else
    {
        NSLog(@"[%@] ERROR: attempting to write create MyFolder directory", [self class]);
        NSAssert( FALSE, @"Failed to create directory maybe out of disk space?");
    }
} 
```

}

现在我想获取我在文件夹中创建的目录列表，但响应是

```
NSArray *arrPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *basePathString = ([arrPaths count] > 0) ? [arrPaths objectAtIndex:0] : nil;
NSLog(@"dirContents %@",basePathString); 
```

回应是：

```
/Users/amir/Library/Application Support/iPhone Simulator/6.1/Applications/7003E8D5-CCBB-4E54-896B-F4BD2F4D2CB1/Documents 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T07:29:31.827

这是代码：

```
NSString *documentDirPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
// create directory named "test"
[[NSFileManager defaultManager] createDirectoryAtPath:[documentDirPath stringByAppendingPathComponent:@"test"] withIntermediateDirectories:YES attributes:nil error:nil];
// retrieved all directories
NSLog(@"%@", [[NSFileManager defaultManager] contentsOfDirectoryAtPath:documentDirPath error:nil]);

 NSArray *paths = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:documentDirPath error:nil];
 BOOL isDir = NO;
 for (NSString *path in paths) {
     if ([fileManager fileExistsAtPath:path isDirectory:&isDir] && isDir) {
         // path is directory
     }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T07:35:47.110

您始终可以使用如下方式枚举顶级目录的内容`-fileExistsAtPath:isDirectory:`：

```
NSFileManager *sharedFileManager = [NSFileManager defaultManager];
NSDirectoryEnumerator *files = [sharedFileManager enumeratorAtPath:yourPath];

for (NSString *path in files) {
    BOOL isDirectory = NO;
    [sharedFileManager fileExistsAtPath:path isDirectory:&isDirectory];
    if (isDirectory) {
        // you found a directory, so do what you will with it
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:31:49.953

你可以用几行简单的代码来做到这一点

```
NSString *documentDirectoryPath = // Initialize with Documents path
BOOL isDir = NO;
NSFileManager *fileManager = [NSFileManager defaultManager];
NSArray *files = [fileManager contentsOfDirectoryAtPath:documentDirectoryPath error:NULL];

NSMutableArray *directoriesPaths = [NSMutableArray array];
for (NSString *filePath in files) {
    if ([fileManager fileExistsAtPath:filePath isDirectory:&isDir] && isDir) {
        [directoriesPaths addObject:filePath];
    }
}

NSLog(@"directories %@", directoriesPaths); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:51:29.763

试试这个，

```
 NSArray *arrPath = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
 NSString *strFilePath = [[arrPath objectAtIndex:0] 
[[NSFileManager defaultManager] createDirectoryAtPath:[strFilePath stringByAppendingPathComponent:@"Sample"] withIntermediateDirectories:YES attributes:nil error:nil]; 
```

# android - JQueryMobile Autocomplete 的垂直滚动条在 Android 上不起作用

> ID：14931225
> 
> 赞同：0
> 
> 时间：2013-02-18T07:16:06.773
> 
> 标签：android, jquery

我在我的 jQUeryMobile 应用程序上使用 jQuery Autocomplete。它工作完美。现在我试图显示垂直滚动条来滚动查找项目列表。滚动条显示在桌面浏览器上，但不在 Android 设备上。我的CSS看起来像这样：

.ui-autocomplete { 最大高度：100px; 溢出-y：自动；/* 防止水平滚动条 */ overflow-x: hidden; }

有人可以帮忙吗，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:17:42.690

尝试将溢出属性设置为自动..

```
overflow: auto; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T09:53:07.137

```
Resolved by using jscrollpane. see below code:

<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>
    <link rel="stylesheet" href="css/jquery-ui.css" />

    <script type="text/javascript" src="Scripts/jquery.min.js"></script>

    <script type="text/javascript" src="Scripts/jquery-ui.min.js"></script>

    <link rel="stylesheet" href="http://jscrollpane.kelvinluck.com/style/jquery.jscrollpane.css" />

    <script type="text/javascript" src="http://jscrollpane.kelvinluck.com/script/jquery.jscrollpane.min.js"></script>

    <script type="text/javascript">
        $(function() {
            var availableTags = [{
                real_value: 1,
                label: "c++"
            },
                {
                    real_value: 1,
                    label: "ActionScript"
                },
                {
                    real_value: 2,
                    label: "AppleScript"
                },
                {
                    real_value: 3,
                    label: "Asp"
                },
                {
                    real_value: 4,
                    label: "BASIC"
                },
                {
                    real_value: 5,
                    label: "C"
                },
                {
                    real_value: 6,
                    label: "C++"
                },
                {
                    real_value: 7,
                    label: "Clojure"
                },
                {
                    real_value: 8,
                    label: "COBOL"
                },
                {
                    real_value: 9,
                    label: "ColdFusion"
                },
                {
                    real_value: 10,
                    label: "Erlang"
                },
                {
                    real_value: 11,
                    label: "Fortran"
                },
                {
                    real_value: 12,
                    label: "Groovy"
                },
                {
                    real_value: 13,
                    label: "Haskell"
                },
                {
                    real_value: 14,
                    label: "Java"
                },
                {
                    real_value: 15,
                    label: "JavaScript"
                },
                {
                    real_value: 16,
                    label: "Lisp"
                },
                {
                    real_value: 17,
                    label: "Perl"
                },
                {
                    real_value: 18,
                    label: "PHP"
                },
                {
                    real_value: 19,
                    label: "Python"
                },
                {
                    real_value: 20,
                    label: "Ruby"
                },
                {
                    real_value: 21,
                    label: "Scala"
                },
                {
                    real_value: 22,
                    label: "Scheme"
                }
            ];

            $("#tags").autocomplete({
                source: availableTags,
                open: function(event, ui) {
                    $('.ui-autocomplete')
                        .addClass('scroll-pane')
                        .jScrollPane();

                    $('.jScrollPaneContainer').css({
                        'position': 'absolute',
                        'top': ($(this).offset().top +
                   $(this).height() + 5) + 'px',
                        'left': $(this).offset().left + 'px'
                    });
                },
                close: function(event, ui) {
                    $('.scroll-pane').jScrollPaneRemove();
                },
                select: function(event, ui) {
                    alert(ui.item.label);
                    alert(ui.item.real_value);
                }
            });
        });
    </script>

    <style>
        .ui-autocomplete
        {
            max-height: 100px;
            overflow: auto;
        }
    </style>
</head>
<body>
    <div>
        <input type="text" id="tags" />
    </div>
</body>
</html> 
```

# android - Android afreechart-如何为xyplot设置panlimits

> ID：14931227
> 
> 赞同：1
> 
> 时间：2013-02-18T07:16:27.423
> 
> 标签：android

我正在为我的应用程序使用 afreechart api 创建一个图表。我使用 xyplot 和时间序列来显示不同时间和日期的胰岛素水平。图表工作正常，但现在我想设置它应该的范围和域轴的限制滚动时不要转到负值。谁能帮助我，如何设置 afreechart api 的平移限制？
我使用了 panRangeAxis(percent,info,source)。但它对我不起作用。

# c# - 如何组合 Web 或文件系统的地址？

> ID：14931231
> 
> 赞同：0
> 
> 时间：2013-02-18T07:16:37.117
> 
> 标签：c#, asp.net, winforms, path

在 C# 中，我必须创建一个接收 webPath 或 fileSystemPath 以及文件名作为参数的方法。考虑到这个方法将从 asp.net 和 windows 窗体项目中调用。这是我认为可能的情况，以及我到目前为止编写的代码：

```
string webPath1 = "//someaddress";
string webPath2 = "//someaddress/";
string fsPath1 = @"\\somefolder";
string fsPath2 = @"\\somefolder\";
string filename = "somefilename.txt";

string WebPathFileName1 = System.IO.Path.Combine(webPath1, filename);
string WebPathFileName2 = System.IO.Path.Combine(webPath2, filename);
string s1 = Path.GetFullPath(WebPathFileName1);

string FsPathFileName1 = System.IO.Path.Combine(fsPath1, filename);
string FsPathFileName2 = System.IO.Path.Combine(fsPath2, filename);
string s2 = Path.GetFullPath(FsPathFileName1); 
```

如果您测试代码，您将看到 WebPathFileName1 返回“ `//someaddress\\somefilename.txt`”，但我应该以“ `//someaddress//somefilename.txt`”作为响应。

输入路径可以结束或不结束`\` 我可以使用哪些其他方法来组合路径？谢谢。

据我所知，我可能会从我的项目负责人那里得到更多细节。这个想法是，正如我所说，这个方法将从两种项目中调用。所以它应该组成一个 Web 路径或文件系统路径。

# linux - E138: 无法写入 viminfo 文件 $HOME/.viminfo

> ID：14931233
> 
> 赞同：9
> 
> 时间：2013-02-18T07:16:46.647
> 
> 标签：linux, shell, command-line, opensuse

我在生产环境中使用 opensuse。我以“test”用户身份登录并尝试使用“vi”编辑文件，但是当我要保存该文件时，它显示以下错误

**

> E138: 无法写入 viminfo 文件 /home/test/.viminfo

**

在“测试”用户下，所有文件和文件夹都会自动变为只读。我正在尝试使用“root”用户更改权限，但无法更改。我也寻找像“〜/ .viminf *”这样的临时文件，但没有这样的东西。

不知道该怎么做请帮忙....任何知道这个问题的人

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-18T07:27:19.490

修复您的主目录所有者和权限。

```
sudo chown -R test /home/test

sudo chmod u+rw -R /home/test 
```

最后检查是否没有留下旧的临时文件（例如 ~/.viminf*），并且您可以在 .viminfo 文件的目录中写入。

# javascript - HTML5 画布事件在 IE 中无法正常工作

> ID：14931243
> 
> 赞同：0
> 
> 时间：2013-02-18T07:17:24.007
> 
> 标签：javascript, html, html5-canvas, dom-events

下面的代码功能类似于 MSpaint 的铅笔工具，下面的代码适用于除 IE 之外的所有浏览器，它在 IE 中没有错误，因为我包含了一个脚本文件以使画布标签在 IE 中运行，在 IE 中绘制手绘线是无法正常工作，因为它在其他浏览器中工作。如果我缓慢移动鼠标，它会工作一段时间，但即使在 IE 中单击并移动鼠标，它也会停止绘制。我应该做出哪些改变？

-init 方法在加载 body 标签时被调用

```
var canvas;
var ctx;
var canX;
var canY;
var rltvX;
var rltvY;
var x = "black";
var flag = false;
var w, h;
function findxy(res, e) 
{

    if (res == 'down') 
    {
        canX = e.clientX - canvas.offsetLeft - 10;
        canY = e.clientY - canvas.offsetTop - 35;
        flag = true;
        dot_flag = true;
        if (dot_flag) 
        {
            ctx.beginPath();
            ctx.fillStyle = x;
            ctx.fillRect(canX, canY, 2, 2);
            ctx.closePath();
            dot_flag = false;
        }
    }
    if (res == 'up' || res == "out") 
    {
        flag = false;
        flag = false;
    }
    if (res == 'move') 
    {
        if (flag) {
            rltvX = canX;
            rltvY = canY;
            canX = e.clientX - canvas.offsetLeft - 10;
            canY = e.clientY - canvas.offsetTop - 35;
            ctx.beginPath();
            ctx.moveTo(rltvX, rltvY);
            ctx.lineTo(canX, canY);
            ctx.strokeStyle = x;
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.closePath();
        }
    }
}

function init() 
{

    canvas = document.getElementById("canvas");
    ctx = canvas.getContext("2d");
    w = canvas.width;
    h = canvas.height;

    if (canvas.addEventListener) 
    {
        canvas.addEventListener("mousemove", function(e) {
            findxy('move', e);
        }, false);
        canvas.addEventListener("mousedown", function(e) {
            findxy('down', e);
        }, false);
        canvas.addEventListener("mouseup", function(e) {
            findxy('up', e);
        }, false);
        canvas.addEventListener("mouseout", function(e) {
            findxy('out', e);
        }, false);

    } else {

        canvas.attachEvent("onmousemove", function(e) {findxy('move', e);});
        canvas.attachEvent("onmousedown", function(e) {findxy('down', e);});
        canvas.attachEvent("onmouseup", function(e) {findxy('up', e);});
        canvas.attachEvent("onmouseout", function(e) {findxy('out', e);});

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T12:03:28.160

```
<html>
<head>
<script type="text/javascript" src="jquery-1.9.1.js"></script>
<!--[if IE]><script type="text/javascript" src="excanvas.js"></script><![endif]-->

<style>
body{ background-color: ivory; }
canvas{border:1px solid red;}
</style>

<script>
var flag = false;
$(function(){

var canvasOffset=$("#canvas").offset();
var offsetX=canvasOffset.left;
var offsetY=canvasOffset.top;

var ctx;
var canvas;
var canMouseX;
var canMouseY;
var rltvX;
var rltvY;
var x = "black";

//ctx = $("#canvas").getContext("2d");
canvas = document.getElementById("canvas");
ctx = canvas.getContext("2d");

function handleMouseDown(e){
  canMouseX=parseInt(e.clientX-offsetX);
  canMouseY=parseInt(e.clientY-offsetY);
  $("#downlog").html("Down: "+ canMouseX + " / " + canMouseY);

  // Put your mousedown stuff here
    flag = true;
    dot_flag = true;
    if (dot_flag) {
        ctx.beginPath();
        ctx.fillStyle = x;
        ctx.fillRect(canMouseX, canMouseY, 2, 2);
        ctx.closePath();
        dot_flag = false;
    }   
}

function handleMouseUp(e){
  canMouseX=parseInt(e.clientX-offsetX);
  canMouseY=parseInt(e.clientY-offsetY);
  $("#uplog").html("Up: "+ canMouseX + " / " + canMouseY);

  // Put your mouseup stuff here
  flag = false;
}

function handleMouseOut(e){
  canMouseX=parseInt(e.clientX-offsetX);
  canMouseY=parseInt(e.clientY-offsetY);
  $("#outlog").html("Out: "+ canMouseX + " / " + canMouseY);

  // Put your mouseOut stuff here
  flag = false;
}

function handleMouseMove(e){
    //canMouseX=parseInt(e.clientX-offsetX);
    //canMouseY=parseInt(e.clientY-offsetY);
   $("#movelog").html("Move: "+ canMouseX + " / " + canMouseY);

  // Put your mousemove stuff here
    if (flag) {

        rltvX = canMouseX;
        rltvY = canMouseY;

        canMouseX=parseInt(e.clientX-offsetX);
        canMouseY=parseInt(e.clientY-offsetY);           

        ctx.beginPath();
        ctx.moveTo(rltvX, rltvY);
        ctx.lineTo(canMouseX, canMouseY);
        ctx.strokeStyle = x;
        ctx.lineWidth = 2;
        ctx.stroke();
        ctx.closePath();
    }
}

$("#canvas").mousedown(function(e){handleMouseDown(e);});
$("#canvas").mousemove(function(e){handleMouseMove(e);});
$("#canvas").mouseup(function(e){handleMouseUp(e);});
$("#canvas").mouseout(function(e){handleMouseOut(e);});

}); // end $(function(){});
</script>

</head>

<body>

<p id="downlog">Down</p>
<p id="movelog">Move</p>
<p id="uplog">Up</p>
<p id="outlog">Out</p>
<canvas id="canvas" width=300 height=300></canvas>

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T00:21:35.053

抱歉，我无法让您的任何代码在 3 种主要浏览器中的任何一种中运行。

这是在画布上“铅笔”绘图的基本策略：

在 mousedown 处理程序中：

-- 保存鼠标落下时的lastX和lastY位置

--设置一个标志，表示鼠标已按下

在 mousemove 处理程序中：

-- 如果 mousedown 标志为假，则什么也不做。

--如果 mousedown 标志为真：

----从lastX/lastY到当前鼠标x/y画一条线

----设置lastX/lastY为当前鼠标x/y

在 mouseup 和 mouseout 处理程序中：

--清除mousedown标志

这是代码和小提琴：http: [//jsfiddle.net/m1erickson/hJ9Lt/](http://jsfiddle.net/m1erickson/hJ9Lt/)

```
<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<!--[if IE]><script type="text/javascript" src="../excanvas.js"></script><![endif]-->

<style>
    body{ background-color: ivory; }
    canvas{border:1px solid red;}
</style>

<script>
$(function(){

    var canvas=document.getElementById("canvas");
    var ctx=canvas.getContext("2d");
    var lastX;
    var lastY;
    var strokeColor="red";
    var strokeWidth=2;
    var canMouseX;
    var canMouseY;
    var canvasOffset=$("#canvas").offset();
    var offsetX=canvasOffset.left;
    var offsetY=canvasOffset.top;
    var isMouseDown=false;

    function handleMouseDown(e){
      canMouseX=parseInt(e.clientX-offsetX);
      canMouseY=parseInt(e.clientY-offsetY);
      $("#downlog").html("Down: "+ canMouseX + " / " + canMouseY);

      // Put your mousedown stuff here
      lastX=canMouseX;
      lastY=canMouseY;
      isMouseDown=true;
    }

    function handleMouseUp(e){
      canMouseX=parseInt(e.clientX-offsetX);
      canMouseY=parseInt(e.clientY-offsetY);
      $("#uplog").html("Up: "+ canMouseX + " / " + canMouseY);

      // Put your mouseup stuff here
      isMouseDown=false;
    }

    function handleMouseOut(e){
      canMouseX=parseInt(e.clientX-offsetX);
      canMouseY=parseInt(e.clientY-offsetY);
      $("#outlog").html("Out: "+ canMouseX + " / " + canMouseY);

      // Put your mouseOut stuff here
      isMouseDown=false;
    }

    function handleMouseMove(e){
      canMouseX=parseInt(e.clientX-offsetX);
      canMouseY=parseInt(e.clientY-offsetY);
      $("#movelog").html("Move: "+ canMouseX + " / " + canMouseY);

      // Put your mousemove stuff here
      if(isMouseDown){
          ctx.beginPath();
          ctx.moveTo(lastX,lastY);
          ctx.lineTo(canMouseX,canMouseY);
          ctx.stroke();     
          lastX=canMouseX;
          lastY=canMouseY;
      }
    }

    $("#canvas").mousedown(function(e){handleMouseDown(e);});
    $("#canvas").mousemove(function(e){handleMouseMove(e);});
    $("#canvas").mouseup(function(e){handleMouseUp(e);});
    $("#canvas").mouseout(function(e){handleMouseOut(e);});

}); // end $(function(){});
</script>

</head>

<body>

    <p id="downlog">Down</p>
    <p id="movelog">Move</p>
    <p id="uplog">Up</p>
    <p id="outlog">Out</p>
    <canvas id="canvas" width=300 height=300></canvas>

</body>
</html> 
```

# c# - 如何在 C# 中将 LParam 转换为 Struct

> ID：14931251
> 
> 赞同：2
> 
> 时间：2013-02-18T07:17:53.480
> 
> 标签：c#, lparam

我有以下 c++ 结构

```
typedef struct {
    char    szAccountNo[11];        
    char    szAccountName[40];      
    char    act_pdt_cdz3[3];        
    char    amn_tab_cdz4[4];        
    char    expr_datez8[8];         
    char    granted;                
    char    filler[189];            
}ACCOUNTINFO;

typedef struct {
    char    szDate          [14];   
    char    szServerName    [15];   
    char    szUserID        [8];    
    char    szAccountCount  [3];    
    ACCOUNTINFO accountlist [999];  
}LOGININFO;

typedef struct{
    int       TrIndex;
    LOGININFO *pLoginInfo;
}LOGINBLOCK; 
```

并转换为 C# 类

```
[StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
        public class ACCOUNTINFO
        {
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 11)]
            public string szAccountNo;      
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 40)]
            public string szAccountName;        
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 3)]
            public string act_pdt_cdz3;     
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 4)]
            public string amn_tab_cdz4;     
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 8)]
            public string expr_datez8;          
            public char granted;                
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 189)]
            public string filler;           
        };
        [StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
        public class LOGININFO
        {
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 14)]
            public string szDate;   
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 15)]
            public string szServerName; 
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 8)]
            public string szUserID; 
            [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 3)]
            public string szAccountCount;   
            [MarshalAs(UnmanagedType.Struct, SizeConst = 99)]
            public ACCOUNTINFO[] accountlist;   
        };
        [StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
        public class LOGINBLOCK
        {
            [MarshalAs(UnmanagedType.I4)]
            public int TrIndex;
            [MarshalAs(UnmanagedType.Struct, SizeConst = 1)]
            public LOGININFO pLoginInfo;
        }; 
```

我使用以下两种方法在 WndProc 中转换 LParam。

```
1\. TrStruct.LOGINBLOCK lb = new TrStruct.LOGINBLOCK();
                        lb = (TrStruct.LOGINBLOCK)m.GetLParam(typeof(TrStruct.LOGINBLOCK));

2\. TrStruct.LOGINBLOCK lb = (TrStruct.LOGINBLOCK) Marshal.PtrToStructure(m.LParam, typeof(TrStruct.LOGINBLOCK)); 
```

但是，它没有成功，也没有发出常规错误消息，而是在“输出”窗口中收到消息“mscorlib.dll 中发生'System.TypeLoadException'类型的第一次机会异常”。谁能告诉我我的转换有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:31:14.307

您的代码的第一个明显问题在于`CharSet.Unicode`. 您在非托管代码中结构的字段都定义为`char`单字节字符。你应该使用你`CharSet.Ansi`的所有结构。

第二个问题在`LOGININFO`. 它被定义为

```
[MarshalAs(UnmanagedType.Struct, SizeConst = 99)]
public ACCOUNTINFO[] accountlist; 
```

但在您的非托管代码中，它是

```
ACCOUNTINFO accountlist [999]; 
```

该`SizeConst`参数应更改为`999`。

# c# - 如何在 windows phone 中显示 Toast 消息？

> ID：14931252
> 
> 赞同：1
> 
> 时间：2013-02-18T07:17:55.960
> 
> 标签：c#, wpf, windows-phone-7

我是 Windows Phone 开发的新手。我需要显示 Toast 消息 3 秒钟。我试过下面的代码

```
ShellToast toast = new ShellToast();
        toast.Title = "My title";
        toast.Content = " my message";
        toast.Show(); 
```

它不适合我。如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T10:43:16.493

你可以使用[Coding 4 有趣的库](http://coding4fun.codeplex.com/)，它有一个 ToastPromt 并且非常易于使用！

# vb.net - VB.NET“不支持异常”？

> ID：14931253
> 
> 赞同：0
> 
> 时间：2013-02-18T07:18:00.083
> 
> 标签：vb.net, notsupportedexception

有人知道我如何解决这个“不支持的异常”吗？

```
'Amends label2 to file name as text (works in conjunction with PART 00-AB form1)...
    Label2.Text = "Project: " & Form1.Label5.Text & " could not be found"

    'sugesting other related files in the folder...
    Dim di As New IO.DirectoryInfo("v:\" & Label2.Text & "\Tekeningen\Tekenwerk De Mar\Definitief\" & Label2.Text & ".PDF")
    Dim diar1 As IO.FileInfo() = di.GetFiles()
    Dim dra As IO.FileInfo

    For Each dra In diar1
        If System.IO.Path.GetExtension(dra.Name).ToLower() = "pdf" Then
            ListBox1.Items.Add(dra)
        End If
    Next
End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:15:38.157

这意味着该类不支持您提供的路径`DirectoryInfo`。我必须是一个目录，看来您正在尝试使用 PDF 文件。

也许你想要这样的东西：

```
Dim di As New IO.DirectoryInfo("v:\" & Label2.Text & "\Tekeningen\Tekenwerk De Mar\Definitief\") 
```

而且，顺便说一句，您可以使用它以更快的方式仅获取 PDF 文件，而无需检查文件夹中的所有文件：

```
DIm diar1 As IO.FileInfo() = di.GetFiles("*.pdf") 
```

# raphael - 如何将 3D 添加到我的 raphael.js 应用程序？我可以将 raphael.js 与 webgl 结合使用吗？

> ID：14931257
> 
> 赞同：1
> 
> 时间：2013-02-18T07:19:14.280
> 
> 标签：raphael, webgl

我已经使用 raphael.js 编写了一个 2D 可视化，但现在我需要在这个可视化中添加一些 3D 功能。有没有办法在我的 rapahel 应用程序中使用 3D 库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:28:03.407

由于 raphael 对象是 DOM 元素，根据您需要 3D 项目的位置，您可以使用可以使用 WebGL 渲染到画布元素的[three.js 。](https://github.com/mrdoob/three.js/)显然，您需要考虑堆叠顺序，因为画布需要位于您的 raphael 内容下方以避免遮挡它。

# c# - ColorGrid exception while panning or zooming with CenteredPoints = true

> ID：14931258
> 
> 赞同：0
> 
> 时间：2013-02-18T07:19:19.797
> 
> 标签：c#, .net, teechart

Good morning,

I am using Steema TeeChart for .NET 2012 Evaluation 4.1.2012.02284, and I am programming in MSVS 2010 C#...

I set up a ColorGrid, but when I set MyColorGrid.CenteredPoints = true, I sometimes get an exception when I zoom in, or pan, using the mouse. Is there a downloadable version in which this phenomenon does not occur, or is there something I can do to fix this problem?

Please feel free to let me know if I have left out any important details....

Thank you.

JDDK

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:27:45.063

我制作了一个简单的代码并在最新版本中使用下一个代码，我没有出现异常：

```
 Steema.TeeChart.Styles.ColorGrid colorgrid1;
        private void InitializeChart()
        {
            tChart1.Aspect.View3D = false;
            colorgrid1 = new ColorGrid(tChart1.Chart);
            colorgrid1.FillSampleValues();
            colorgrid1.CenteredPoints = true;

        } 
```

出于这个原因，我建议您下载 TeeChartFor.Net 的 1 月 31 日内部版本号 4.1.2012.01310 的最新评估版本，您可以[在此处](http://www.steema.com/download/net)下载，然后再次检查问题是否在您的应用程序中仍然存在。如果您的问题仍然存在，请尝试修改我的代码，因为可以在这里重现问题并尝试为您找到一个好的解决方案。

谢谢，

# jaxb - JaxB XmlSeeAlso, XmlElementRef, newInstance with Classes

> ID：14931261
> 
> 赞同：1
> 
> 时间：2013-02-18T07:19:42.983
> 
> 标签：jaxb, moxy

The answer to my question

*   [JaxB reference resolving](https://stackoverflow.com/questions/13914372/jaxb-reference-resolving)

led me to further pursue the details of the issue regarding the use of XmlSeeAlso, XmlElementReference and the specification of classes involved in JaxbContext.newInstance.

I started with trying to answer the question:

*   [Is it possible to @XmlSeeAlso on a class without no-args constructor which has @XmlJavaTypeAdapter?](https://stackoverflow.com/questions/8292427/is-it-possible-to-xmlseealso-on-a-class-without-no-args-constructor-which-has)

i created the Junit test below. To do so I came accross:

*   [@XmlJavaTypeAdapter w/ Inheritance](https://stackoverflow.com/questions/3107548/xmljavatypeadapter-w-inheritance)
*   [@XmlSeeAlso alternative](https://stackoverflow.com/questions/8318231/xmlseealso-alternative/8318490#8318490)

In this state the code is compilable and runs - it marshals o.k. but does not umarshal as expected. The marshal result is:

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Message>
    <BasicInfo ref="id001"/>
</Message> 
```

Unmarshalling does not create a BasicInfo as would be expected from the code in the Adapter:

```
 public BasicInfo unmarshal(BasicInfoRef info) throws Exception {
     BasicInfo binfo=new BasicInfo();
     binfo.id=info.ref;
     return binfo;
   } 
```

I find this all very confusing - things seem to be somewhat contradictory and mostly do not work as I'd expect regarding the JaxB settings involved. Most combinations do not work, those that do work do not give the full result yet. I assume that is also depending on the version and implementation being used.

1.  What nees to be done to get this working?
2.  What is a minimal set of XmlElementRef,XmlSeeAlso and JaxbContext newInstance referencing of the necessary classes?
3.  How can I check which JaxB Implementation is being used? I am using EclipseLink 2.3.2? and I'm not sure whether this uses MoxY or not.

**Update:** after consideration of:

1.  [JAXB xsi:type subclass unmarshalling not working](https://stackoverflow.com/questions/11219074/jaxb-xsitype-subclass-unmarshalling-not-working)
2.  [http://www.java.net/node/654579](http://www.java.net/node/654579)
3.  [http://jaxb.java.net/faq/#jaxb_version](http://jaxb.java.net/faq/#jaxb_version)
4.  [http://www.eclipse.org/eclipselink/documentation/2.4/moxy/type_level003.htm](http://www.eclipse.org/eclipselink/documentation/2.4/moxy/type_level003.htm)
5.  [Can JAXB marshal by containment at first then marshal by @XmlIDREF for subsequent references?](https://stackoverflow.com/questions/7587095/can-jaxb-marshal-by-containment-at-first-then-marshal-by-xmlidref-for-subsequen/7587727#7587727)

The modified code below is close to what is intended.

Errors that showed up while trying were:

```
javax.xml.bind.MarshalException
 - with linked exception:
[com.sun.istack.SAXException2: unable to marshal type "com.bitplan.storage.jaxb.TestRefId$BasicInfo$BasicInfoRef" as an element because it is missing an @XmlRootElement annotation]
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:323) 
```

The code has quite a few comments which can be commented in and out to find out what happens if one tries ... I still have no clue what the optimal solution would be to avoid superfluous annotations.

modified code:

```
package com.bitplan.storage.jaxb;

import static org.junit.Assert.*;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.io.StringReader;
import java.io.StringWriter;
import java.util.ArrayList;
import java.util.List;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Marshaller;
import javax.xml.bind.Unmarshaller;
import javax.xml.bind.annotation.XmlAttribute;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlElementWrapper;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlSeeAlso;
import javax.xml.bind.annotation.adapters.XmlAdapter;
import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlAccessType;

import org.eclipse.persistence.oxm.annotations.XmlDiscriminatorNode;
import org.eclipse.persistence.oxm.annotations.XmlDiscriminatorValue;
import org.junit.Test;

/**
 * Test the Reference/Id handling for Jaxb
 * 
 * @author wf
 * 
 */
public class TestRefId {

    @XmlDiscriminatorNode("@reforid")
    @XmlAccessorType(XmlAccessType.FIELD)
    @XmlJavaTypeAdapter(RefOrId.Adapter.class)
    public static class RefOrId {
        @XmlAttribute(name = "reforid")
        public String reforid;

        public RefOrId() {
        }

        @XmlAttribute
        public String id;

        @XmlAttribute
        public String ref;

        public static class Adapter extends XmlAdapter<RefOrId, RefOrId> {

            @Override
            public RefOrId marshal(RefOrId idref) throws Exception {
                if (idref == null)
                    return null;
                System.out.println("marshalling " + idref.getClass().getSimpleName()
                        + " reforid:" + idref.reforid);
                if (idref instanceof Ref)
                    return new Id(((Ref) idref).ref);
                return idref;
            }

            @Override
            public RefOrId unmarshal(RefOrId idref) throws Exception {
                System.out.println("unmarshalling " + idref.getClass().getSimpleName()
                        + " reforid:" + idref.reforid);
                return idref;
            }
        }
    }

    @XmlDiscriminatorValue("id")
    @XmlAccessorType(XmlAccessType.FIELD)
    public static class Id extends RefOrId {
        public Id() {
            reforid = "id";
        }

        public Id(String pId) {
            this();
            this.id = pId;
        }

    }

    @XmlDiscriminatorValue("ref")
    @XmlAccessorType(XmlAccessType.FIELD)
    public static class Ref extends RefOrId {
        public Ref() {
            reforid = "ref";
        }

        public Ref(String pRef) {
            this();
            this.ref = pRef;
        }
    }

    /*
     * https://stackoverflow.com/questions/8292427/is-it-possible-to-xmlseealso-on-a
     * -class-without-no-args-constructor-which-has
     */
    @XmlRootElement(name = "BasicInfo")
    public static class BasicInfo {
        public BasicInfo() {
        };

        public BasicInfo(String pId, String pInfo) {
            this.id = new Id(pId);
            this.basic = pInfo;
        }

        // @XmlTransient
        public RefOrId id;
        public String basic;
    }

    @XmlRootElement(name = "SpecificInfoA")
    // @XmlJavaTypeAdapter(BasicInfo.Adapter.class)
    public static class SpecificInfoA extends BasicInfo {

        public SpecificInfoA() {
        };

        public SpecificInfoA(String pId, String pInfo, String pInfoA) {
            super(pId, pInfo);
            infoA = pInfoA;
        }

        public String infoA;
    }

    @XmlRootElement(name = "Message")
    @XmlAccessorType(XmlAccessType.FIELD)
    @XmlSeeAlso({ SpecificInfoA.class, BasicInfo.class })
    public static class Message {

        public Message() {
        };

        public Message(BasicInfo pBasicInfo) {
            basicInfos.add(pBasicInfo);
        }

        // @XmlJavaTypeAdapter(BasicInfo.Adapter.class)
        // @XmlElement(name="basicInfo",type=BasicInfoRef.class)
        @XmlElementWrapper(name = "infos")
        @XmlElement(name = "info")
        public List<BasicInfo> basicInfos = new ArrayList<BasicInfo>();
    }

    /**
     * marshal the given message
     * 
     * @param jaxbContext
     * @param message
     * @return - the xml string
     * @throws JAXBException
     */
    public String marshalMessage(JAXBContext jaxbContext, Message message)
            throws JAXBException {
        Marshaller jaxbMarshaller = jaxbContext.createMarshaller();
        // output pretty printed
        jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        StringWriter sw = new StringWriter();
        jaxbMarshaller.marshal(message, sw);
        String xml = sw.toString();
        return xml;
    }

    /**
     * test marshalling and umarshalling a message
     * 
     * @param message
     * @throws JAXBException
     */
    public void testMessage(Message message) throws JAXBException {
        @SuppressWarnings("rawtypes")
        Class[] classes = { Message.class, SpecificInfoA.class, BasicInfo.class }; // BasicInfo.class,};
        // https://stackoverflow.com/questions/8318231/xmlseealso-alternative/8318490#8318490
        // https://stackoverflow.com/questions/11966714/xmljavatypeadapter-not-being-detected
        JAXBContext jaxbContext = JAXBContext.newInstance(classes);

        String xml = marshalMessage(jaxbContext, message);
        System.out.println(xml);

        Unmarshaller u = jaxbContext.createUnmarshaller();
        Message result = (Message) u.unmarshal(new StringReader(xml));
        assertNotNull(result);
        assertNotNull(message.basicInfos);
        for (BasicInfo binfo : message.basicInfos) {
            RefOrId id = binfo.id;
            assertNotNull(id);
            System.out.println("basicInfo-id " + id.getClass().getSimpleName()
                    + " for reforid " + id.reforid);
            // assertEquals(message.basicInfo.id, result.basicInfo.id);
        }

        xml = marshalMessage(jaxbContext, result);
        System.out.println(xml);
    }

    /**
     * switch Moxy
     * 
     * @param on
     * @throws IOException
     */
    public void switchMoxy(boolean on) throws IOException {
        File moxySwitch = new File(
                "src/test/java/com/bitplan/storage/jaxb/jaxb.properties");
        if (on) {
            PrintWriter pw = new PrintWriter(new FileWriter(moxySwitch));
            pw.println("javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory");
            pw.close();
        } else {
            moxySwitch.delete();
        }
    }

    @Test
    public void testStackOverflow8292427() throws JAXBException, IOException {
        boolean[] moxyOnList = { false };
        for (boolean moxyOn : moxyOnList) {
            switchMoxy(moxyOn);
            System.out.println("Moxy used: " + moxyOn);
            Message message = new Message(new BasicInfo("basicId001",
                    "basicValue for basic Info"));
            message.basicInfos.add(new SpecificInfoA("specificId002",
                    "basicValue for specific Info", "specific info"));
            message.basicInfos.add(new SpecificInfoA("specificId002",
                    "basicValue for specific Info", "specific info"));
            testMessage(message);
        }
    }

} 
```

This is the Junit Test as mentioned above (before update):

```
 package com.bitplan.storage.jaxb;
    import static org.junit.Assert.*;
    import java.io.StringReader;
    import java.io.StringWriter;   
    import javax.xml.bind.JAXBContext;
    import javax.xml.bind.JAXBException;
    import javax.xml.bind.Marshaller;
    import javax.xml.bind.Unmarshaller;
    import javax.xml.bind.annotation.XmlAttribute;
    import javax.xml.bind.annotation.XmlElementRef;
    import javax.xml.bind.annotation.XmlElementRefs;
    import javax.xml.bind.annotation.XmlRootElement;
    import javax.xml.bind.annotation.XmlSeeAlso;
    import javax.xml.bind.annotation.adapters.XmlAdapter;
    import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;
    import javax.xml.bind.annotation.XmlAccessorType;
    import javax.xml.bind.annotation.XmlAccessType;

    import org.junit.Test;

    // Test the Reference/Id handling for Jaxb
    public class TestRefId {

    /* 
     * https://stackoverflow.com/questions/8292427/is-it-possible-to-xmlseealso-on-a-class-without-no-args-constructor-which-has
     */
    @XmlRootElement(name="BasicInfo")
    @XmlJavaTypeAdapter(BasicInfo.Adapter.class)
    public static class BasicInfo {

       @XmlRootElement(name="BasicInfo")
         @XmlAccessorType(XmlAccessType.FIELD)
         public static class BasicInfoRef {
          @XmlAttribute(name = "ref")
              public String ref;
         }

         public static class Adapter extends  XmlAdapter<BasicInfoRef,BasicInfo>{

            @Override
            public BasicInfoRef marshal(BasicInfo info) throws Exception {
                BasicInfoRef infoRef = new BasicInfoRef();
                infoRef.ref=info.id;
                return infoRef;
            }

            @Override
            public BasicInfo unmarshal(BasicInfoRef info) throws Exception {
                BasicInfo binfo=new BasicInfo();
                binfo.id=info.ref;
                return binfo;
            }

         } // Adapter
         public String id;
         public String basic;
    }

    @XmlJavaTypeAdapter(BasicInfo.Adapter.class)
    public static class SpecificInfoA extends BasicInfo {
        public String infoA;
    }

    @XmlRootElement(name="Message")
    @XmlAccessorType(XmlAccessType.FIELD)
    @XmlSeeAlso({SpecificInfoA.class,BasicInfo.class})
    public static class Message {
        // https://stackoverflow.com/questions/3107548/xmljavatypeadapter-w-inheritance
        @XmlElementRefs({
           @XmlElementRef(name="basic", type=BasicInfo.class),
           // @XmlElementRef(name="infoA", type=SpecificInfoA.class)
        })
    public BasicInfo basicInfo;
    }

    @Test
    public void testStackOverflow8292427() throws JAXBException {
        Message message=new Message();
        SpecificInfoA info=new SpecificInfoA();
        info.id="id001";
        info.basic="basicValue";
        info.infoA="infoAValue";
        message.basicInfo=info;
        @SuppressWarnings("rawtypes")
        Class[] classes= {Message.class,SpecificInfoA.class,BasicInfo.class,BasicInfo.BasicInfoRef.class}; // BasicInfo.class,};
        // https://stackoverflow.com/questions/8318231/xmlseealso-alternative/8318490#8318490
        JAXBContext jaxbContext = JAXBContext.newInstance(classes);

        Marshaller jaxbMarshaller = jaxbContext.createMarshaller();
        // output pretty printed
        jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        StringWriter sw = new StringWriter();
        jaxbMarshaller.marshal(message, sw);
        String xml=sw.toString();
        System.out.println(xml);

        Unmarshaller u = jaxbContext.createUnmarshaller();
        Message result = (Message) u.unmarshal(new StringReader(xml));
        assertNotNull(result);
        assertNotNull("basicInfo should not be null",result.basicInfo);
        assertEquals("id001",result.basicInfo.id);
       } 
    } 
```

# api - 如何根据日期范围在 Stripe 中获取费用（交易）详细信息

> ID：14931264
> 
> 赞同：21
> 
> 时间：2013-02-18T07:19:57.220
> 
> 标签：api, stripe-payments

我想根据我指定的日期范围获取费用（交易）列表，即我指定的开始日期和结束日期之间的所有交易。

但在**CHARGES** API 中，我看不到任何开始日期或结束日期参数。

我怎样才能得到这个？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-03-05T21:19:36.260

通过在线聊天与Stripe工作人员聊天，发现有一种方法可以根据日期范围获取费用列表。

Stripe Charges API 实际上有一些尚未在其文档中列出的参数。

可以使用`created[lte]`和Unix 时间戳等参数，就像事件 API 调用一样。`created[gte]`

例如：`https://api.stripe.com/v1/charges?created[gte]=1362171974&created[lte]=1362517574`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-08-23T10:27:30.823

试试这个。它对我有用

```
$pcharges = Charge::all(
            array(
                'limit'   => 100,
                'created' => array(
                    'gte' => strtotime('-15 day'),
                    'lte' => strtotime('-1 day')
                )
            )
        ); 
```

这将返回过去 15 天的数据，不包括今天的交易。您可以根据需要设置自定义日期范围。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-25T20:40:45.520

这是一个基于 Ruby 的 hack

```
Stripe.api_key = ENV['STRIPE_SECRET']

stripe_charges = []
first_charge = Stripe::Charge.all(limit: 1).data[0].id
charge_index = first_charge
*a lot of*.times do 
  new_charges = Stripe::Charge.all(limit: 100, starting_after: charge_index).data
  stripe_charges << new_charges
  charge_index = new_charges.last.id
  stripe_charges.flatten!
end 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-11-06T21:08:07.043

今天正在研究它，这是我发现的
[https://stripe.com/docs/api/curl#list_charges](https://stripe.com/docs/api/curl#list_charges)

`curl https://api.stripe.com/v1/charges?limit=3 \ -u sk_test_BQokikJOvBiI2HlWgH4olfQ2:`

这是条纹卷曲示例，他们的网站上有更多示例。

——詹姆斯·哈灵顿

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-02-19T11:45:05.413

获取特定日期数据代码就像

```
$mydata= \Stripe\Charge::all(array('limit'=>50,'starting_after'=>null ,"created" => array("gt" => strtotime("2020-02-17"),"lt" => strtotime("2020-02-19"))));

print_r($mydata); 
```

它将为您提供`2020-02-18`带限制的数据`50`，如果您想要更多记录，请在starting_after 参数中添加最后一次收费ID

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-06-02T17:30:15.363

如果有人在使用 Ruby on Rails 并正在寻找一种解决方案来列出在 Unix 时间戳之后创建的所有退款，使用`created.gte`语法，这是我从 Stripe Support 获得的一个工作示例。

```
Stripe::Refund.list({limit: 100, created: {gte: 1614045880}}) 
```

您可以更改该 Unix 时间戳以适应您的情况。

资源：[Stripe API 参考、列出所有退款](https://stripe.com/docs/api/refunds/list?lang=ruby#list_refunds-created-gte)和[Stripe 支持](https://support.stripe.com/)

# ios - 从 iPhone 中的纬度和经度获取当前位置的天气

> ID：14931268
> 
> 赞同：4
> 
> 时间：2013-02-18T07:20:12.567
> 
> 标签：ios, weather-api

我有当前位置纬度`[17.382042000000000000]`和经度`[78.481727299999990000].`

有没有办法根据这些纬度和经度找出天气？
是否有任何第三方免费 API 可以根据这些值查找天气？
任何人都可以为我提供一些有关此问题的指南或 URL 吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-03T18:28:50.667

另外，我建议检查[OpenWeatherMap API](http://openweathermap.org/API)。您可以免费使用它，我认为它可以帮助您。例如，在您的情况下，URL 可能如下所示：

```
api.openweathermap.org/data/2.5/weather?lat=17.38&lon=78.48 
```

它将返回 JSON 格式的数据。有关更多详细信息，请查看 API 文档。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T07:31:39.043

您可以使用以下网址。根据您的要求更改纬度和经度。

[http://api.wunderground.com/auto/wui/geo/GeoLookupXML](http://api.wunderground.com/auto/wui/geo/GeoLookupXML) /index.xml?query=17.3820420000000000006,78.48172729999999000

要获取当前天气状况，您可以使用以下 API 端点。您唯一需要从他们的站点生成 API 密钥。- [http://www.wunderground.com/weather/api](http://www.wunderground.com/weather/api)

这是端点： [http ://api.wunderground.com/api/API_KEY/conditions/forecast/alert/q/17.382042000000000000,78.48172729999999000.json](http://api.wunderground.com/api/API_KEY/conditions/forecast/alert/q/17.382042000000000000,78.48172729999999000.json)

用您生成的 API 密钥替换 API_KEY。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:32:04.137

```
+(NSDictionary*)getWeatherForLocation:(CLLocation*)location
{
 NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];

 NSString *stringURL=[NSString stringWithFormat:@"http://api.wunderground.com/api/yourAPIKey/geolookup/forecast10day/q/%f,%f.json",location.coordinate.latitude,location.coordinate.longitude];

 [request setURL:[NSURL URLWithString:stringURL]];

 NSURLResponse * response = nil;
 NSError * error = nil;
 NSData * data = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];
 NSString *stringData = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];

 NSDictionary *dictionary=[stringData objectFromJSONString];

 locationDic=[[NSDictionary alloc] initWithDictionary:[dictionary valueForKey:@"location"]];
 NSLog(@"locations is %@",locationDic);

 return [dictionary valueForKey:@"forecast"];
} 
```

您可以通过传递 lat long 直接使用 api

[http://api.wunderground.com/api/APPKey/geolookup/forecast10day/q/37.785834,-122.406417.json](http://api.wunderground.com/api/APPKey/geolookup/forecast10day/q/37.785834,-122.406417.json)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:24:07.623

是的，有一些 API 可用于此。查看其他一些 StackOverflow 问题：

[通过 html5 地理位置获取天气](https://stackoverflow.com/questions/9464415/get-weather-by-html5-geolocation)

例如 Weather bug 有一个 API 方法，它可以获取 lat / long 位置：

[http://developer.weatherbug.com/docs/read/WeatherBug_API_JSON](http://developer.weatherbug.com/docs/read/WeatherBug_API_JSON)

我相信还有更多。只需尝试几个，看看哪一个适合你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T07:24:56.743

yahoo 提供天气服务 - 在 iPhone 上你需要

```
1) get your longitude & latitude using CoreLocation
2) use

http://query.yahooapis.com/v1/public/yql?q=select+place+from+flickr.places+where+lat=%f+and+lon=%f

to get a woeid (WhereOnEarth ID)

1)use

    http://weather.yahooapis.com/forecastrss?w=%@&u=c 
```

获取您的天气报告

# php - 如何使用 ajax 在 WordPress 中调用外部 php 文件

> ID：14931270
> 
> 赞同：2
> 
> 时间：2013-02-18T07:20:18.267
> 
> 标签：php, ajax, wordpress, jquery

我在使用 ajax 调用 WordPress 插件中的文件时遇到了一点问题。我有这个脚本：

```
<script type="text/javascript">
function setVal()
{
    var val = jQuery('#custom_text_message').val()
    alert('Setting the value to "' + val + '"')
    jQuery.post('session.php', {value: val})
    alert('Finished setting the value')
}
jQuery(document).ready(function() {
    jQuery('#custom_text_message').blur(function() {setVal()});
//setTimeout('setVal()', 3000);
});
</script> 
```

但是当这个函数被调用时，它会在找不到控制台文件中显示错误。我想知道这是否是在 WordPress 中使用 ajax 的正确方法。如果没有，我如何调用站点名称 session.php 的根文件夹中的文件？我对 WordPress 很陌生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:36:04.040

在 WordPress 中，应该对 Ajax 请求进行`http://your-wordpress-site/wp-admin/admin-ajax.php`- 可以使用`admin_url( 'admin-ajax.php' )`- 并且您应该使用`action`参数来指定要调用的函数。您可以通过[本地化](https://codex.wordpress.org/Function_Reference/wp_localize_script)`admin-ajax`将路径传递给您的 javascript 文件。

[将脚本加入队列](https://codex.wordpress.org/Function_Reference/wp_enqueue_script)后，添加到插件 PHP 文件中：

```
 wp_localize_script( 'your-script', 'js_obj', array('ajax_url' => admin_url( 'admin-ajax.php' ) ); 
```

在您的 javascript 中：

```
jQuery.post(js_obj.ajax_url, {value: val, action: 'run-my-ajax'}) 
```

处理插件 PHP 文件中的 ajax 的函数：

```
function call_my_ajax(){
  // do stuff
  exit;
}

add_action('wp_ajax_run-my-ajax', 'call_my_ajax');
add_action('wp_ajax_nopriv_run-my-ajax', 'call_my_ajax'); 
```

阅读更多：[https ://codex.wordpress.org/AJAX_in_Plugins](https://codex.wordpress.org/AJAX_in_Plugins)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T06:49:20.783

我已经自己解决了我的问题。首先我在我的主题中定义了 ajaxurl，*`function.php`*如下所示：

```
<?php
add_action('wp_head','pluginname_ajaxurl');
function pluginname_ajaxurl() {
?>
<script type="text/javascript">
var ajaxurl = '<?php echo admin_url('admin-ajax.php'); ?>';
</script>
<? }
?> 
```

我把下面的脚本放在我的插件文件的顶部。

```
<script type="text/javascript">
function setVal()
{
    var val = jQuery('#custom_text_message').val()
    var data = {
        action: 'my_action',
        value: val,
    };

    jQuery.post(ajaxurl, data, function(response) {
       alert('Got this from the server: ' + response);
    });
}

jQuery(document).ready(function() {
    jQuery('#custom_text_message').blur(function() {setVal()});
    //setTimeout('setVal()', 3000);
});
</script> 
```

这是我试图在我的插件中做的领域。

```
<textarea name="custom_text_message"  id="custom_text_message"></textarea> 
```

然后我把我调用我的脚本的动作放在*`function.php`*.

```
add_action('wp_ajax_my_action', 'my_action_session');

function my_action_session() {
    global $wpdb; // this is how you get access to the database

    session_start();

    $_SESSION['cus_msg'] = $_POST['value'];

    die(); // this is required to return a proper result
} 
```

然后将我的会话值调用到我的函数中。这就是我所做的一切并为我工作，我希望这对其他人有所帮助。

**注意：**`wp_ajax_your_action`如果您需要在前端使用该操作，则 该操作适用于管理员，操作将是`wp_ajax_nopriv_your_action`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:05:53.150

WordPress 使用绝对路径，使用完整的 URL 而不是相对 URL：

```
jQuery.post('session.php', {value: val}) 
```

使用类似的东西：

```
jQuery.post('<?php bloginfo('url');?>/wp-content/plugins/plugin_folder_name/session.php', {value: val}) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T08:38:42.053

```
<script type="text/javascript">
function setVal()
{
    jQuery.ajax({url:"<?php bloginfo('url');?>/wp-content/plugins/plugin_folder_name/session.php",success:function(result){alert(result);}}
}
</script> 
```

# android - 带有部分的 Android 自定义 ListView

> ID：14931273
> 
> 赞同：2
> 
> 时间：2013-02-18T07:20:32.377
> 
> 标签：android, android-layout

![在此处输入图像描述](../Images/84900a34d88fa0cc28d93c4491adf479.png) 我想制作一个如下所示的 ListView。ListItems 将被分组，不同的部分有不同的项目数。我该如何开始？

**注意我想要侧面的部分标题。我还可以提一下，这些项目是从数据库中查询的，而部分现在是根据表中的一列计算的。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:25:41.077

我想我已经找到了你需要的东西。在我向您展示的这个特定示例中，您需要为 sectionItem 和 EntryItem 实现单独的适配器。

假设您知道如何处理适配器和 ListItems（使用您自己的自定义`item.xml`），[这是一个关于如何制作部分和条目的完整教程。（解决方案 #2）](http://bartinger.at/listview-with-sectionsseparators/)

在本教程中，还给出了 xml 布局的代码，但您可以为部分和条目项制作自己的自定义布局。它非常简单明了。

所以它会像这样脱落：

![自定义列表视图](../Images/7284a8630fe96bb8de43434cf67aa59a.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:27:39.487

使用可扩展的列表视图，这里是示例[http://android-adda.blogspot.in/2011/06/custom-expandable-listview.html](http://android-adda.blogspot.in/2011/06/custom-expandable-listview.html)更多信息请参阅[http://developer.android.com/reference/android/widget /ExpandableListView.html](http://developer.android.com/reference/android/widget/ExpandableListView.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:28:11.300

你应该使用[ExpandableListView](http://developer.android.com/reference/android/widget/ExpandableListView.html)

这里还有一些例子：

[链接](http://myandroidsolutions.blogspot.co.il/2012/08/android-expandable-list-example.html) [1 链接2](http://androidtrainningcenter.blogspot.co.il/2012/07/android-expandable-listview-simple.html)

# python - 无法在 Eclipse 中运行解释器

> ID：14931276
> 
> 赞同：0
> 
> 时间：2013-02-18T07:20:53.023
> 
> 标签：python, django, eclipse, virtualenv

我无法在 Eclipse 中运行解释器。 我制作了一个新的解释器，它从虚拟环境中加载 *python2.7 。*当我运行 *manage.py* 文件时，它给了我错误，因为它无法加载模块。

如果我从终端执行它，它工作正常，但是当我从 eclipse 运行命令时它给我错误。

错误：

```
Traceback (most recent call last):
  File "/home/workspace/tms/manage.py", line 8, in <module>
    from django.core.management import execute_from_command_line
ImportError: No module named django.core.management 
```

我是因为 Ubuntu 11.0 而面临这个问题，还是有其他问题？

任何人都可以帮助我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:31:18.260

听起来您的口译员设置不正确。我建议配置一个新的。当您选择新解释器的位置时，请确保您使用 virtualenv（而不是系统）中的 python 可执行文件，这可能是`/path/to/your/virtualenv/bin/python`.

当您到达 eclipse 邀请您将文件夹添加到您的 python 路径时，单击“全选”可能是最简单的。这应该包括您的虚拟环境中的所有包（例如 django）。

然后在您的项目上使用这个新的解释器，eclipse 应该能够找到该`django.core.management`模块（以及您项目中使用的所有其他模块）。

# java - java中的cURL命令

> ID：14931277
> 
> 赞同：3
> 
> 时间：2013-02-18T07:21:21.183
> 
> 标签：java, rest, curl

如何使用 cURl 命令

> curl [https://na1.salesforce.com/services/data/v20.0/query?q=SELECT+name+from+Account](https://na1.salesforce.com/services/data/v20.0/query?q=SELECT+name+from+Account) -H“授权：Bearer access_token”-H“X-PrettyPrint：1”

在 Java 中调用销售人员休息 Web 服务

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:23:54.697

Java 具有`URLConnection Class`与 cURL 类似的功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:44:34.077

与salesforce API交互，最好使用客户端库，不要自己实现，见[http://blog.palominolabs.com/2011/03/03/a-new-java-salesforce-api-图书馆/](http://blog.palominolabs.com/2011/03/03/a-new-java-salesforce-api-library/)例如。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:04:15.220

最简单的方法是下载 cURL java 包装器，如[https://github.com/pjlegato/curl-java](https://github.com/pjlegato/curl-java)并直接在您的代码中使用 cURL。

第二种方法是使用`Runtime.getRuntime().exec("crul...")`“模式”并将 curl 作为正常进程运行。

# mysql - 使用 UNION ALL 查询多个表时，AS 关键字仅适用于第一个表

> ID：14931278
> 
> 赞同：4
> 
> 时间：2013-02-18T07:21:21.900
> 
> 标签：mysql, sql

我有一个查询：

```
 (SELECT col1 AS table1 FROM table1 WHERE col3 IS NOT NULL)
    UNION ALL
    (SELECT col1 AS table2 FROM table2 WHERE  col3 IS NOT NULL)
    UNION ALL
    (SELECT col1 AS table3 FROM table3 WHERE col3 IS NOT NULL) 
```

但是，当我使用 PDO 和`fetchAll(PDO::FETCH_ASSOC);`命令处理它时，生成的数组的键都以 table1 的形式出现，而不管它们实际来自哪个表。

我的语法不正确吗？谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T07:26:12.060

您的查询返回*单个*列。单个列只能有一个名称/别名。在 UNION 查询中，第一个子查询定义结果集的列名。

如果要指定每个值来自哪个表，请添加另一列，例如：

```
(SELECT col1, 'table1' AS src FROM table1 WHERE col3 IS NOT NULL)
UNION ALL
(SELECT col1, 'table2'        FROM table2 WHERE col3 IS NOT NULL)
UNION ALL
(SELECT col1, 'table3'        FROM table3 WHERE col3 IS NOT NULL) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T07:22:46.397

这就是 SQL 规范：结果集的列名取自第一个选择。
就是这样。

当您考虑它时，在后续选择中使用不同的列名是没有意义的，因为列名不能在结果集的一部分中更改 - 为（整个）结果集定义（一次）列名。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T07:23:07.177

是的，这是它的工作方式，联合值将具有第一个查询中列的别名。引用自[**`UNION`**](http://dev.mysql.com/doc/refman/5.0/en/union.html)文档页面：

> 第一个 SELECT 语句中的列名用作返回结果的列名。

如果您不需要，请为该列指定您想要的别名。

# php - mysql结合两个选择查询

> ID：14931279
> 
> 赞同：0
> 
> 时间：2013-02-18T07:21:29.500
> 
> 标签：php, mysql

我知道这可能会令人困惑，但请多多包涵。

我有两个稍有不同的 SELECT 查询，它们返回几乎相同的结果集。

```
SELECT products_id,options_values_id
    FROM products_attributes pa
    LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id )
    WHERE products_id ='574' and pa.options_id!=6
    and pa.options_id!=3
    AND products_options_type = 6
    GROUP BY products_id,options_values_id
    ORDER BY products_id,products_options_sort_order,options_id 
```

第二个查询在`products_options_type`

```
SELECT products_id,options_values_id
    FROM products_attributes pa
    LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id )
    WHERE products_id ='574' and pa.options_id!=6
    and pa.options_id!=3
    AND products_options_type = 2
    GROUP BY products_id,options_values_id
    ORDER BY products_id,products_options_sort_order,options_id 
```

他们返回的结果是

```
574|193
574|204 
```

和

```
574|25
574|3 
```

我希望输出为

```
574|193|25
574|204|3 
```

我尝试的是：

```
SELECT pa.products_id,pa.options_values_id,ord.options_values_id
        FROM products_attributes pa
        LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id )

        LEFT JOIN(SELECT products_id,options_values_id
        FROM products_attributes pa
        LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id )
        WHERE products_id ='574' and pa.options_id!=6
        and pa.options_id!=3
        AND products_options_type = 2
        GROUP BY products_id,options_values_id
        ORDER BY products_id,products_options_sort_order,options_id)ord ON pa.products_id=ord.products_id

        WHERE paproducts_id ='574' and pa.options_id!=6
        and pa.options_id!=3
        AND products_options_type = 2
        GROUP BY pa.products_id,pa.options_values_id
        ORDER BY pa.products_id,products_options_sort_order,options_id 
```

然而这会返回

```
574|193|25
574|204|25 
```

我不太擅长加入，所以知道是否以及如何做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:27:06.247

试试下面的查询，这里我参加了`product_options`两次，一次参加`po.products_options_type = 6`，第二次参加`po1.products_options_type = 2`

```
SELECT pa.products_id,po.options_values_id,po1.options_values_id
FROM products_attributes pa
LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id and po.products_options_type = 6)
LEFT JOIN products_options po1 ON ( pa.options_id = po1.products_options_id and po.products_options_type = 2)
WHERE pa.products_id ='574' and pa.options_id!=6
and pa.options_id!=3
GROUP BY products_id,po1.options_values_id,po1.options_values_id
ORDER BY products_id,products_options_sort_order,options_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:27:24.063

替代解决方案：

```
select v1,v2,v3, v4 from (SELECT products_id v1,options_values_id v2
    FROM products_attributes pa
    LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id )
    WHERE products_id ='574' and pa.options_id!=6
    and pa.options_id!=3
    AND products_options_type = 6
    GROUP BY products_id,options_values_id
    ORDER BY products_id,products_options_sort_order,options_id) t1,    
(SELECT products_id v3,options_values_i v4
    FROM products_attributes pa
    LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id )
    WHERE products_id ='574' and pa.options_id!=6
    and pa.options_id!=3
    AND products_options_type = 2
    GROUP BY products_id,options_values_id
    ORDER BY products_id,products_options_sort_order,options_id) t2
where t1.products_id=t2.products_id 
```

您可以轻松地对其进行排序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:52:26.413

试试这个

```
SELECT a.products_id,a.options_values_id, b.options_values_id
FROM (SELECT @rownum:=@rownum+1 'rw', products_id, options_values_id
FROM (SELECT @rownum:=0) r, products_attributes pa
LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id )
WHERE products_id ='574' and pa.options_id!=6
and pa.options_id!=3
AND products_options_type = 6
GROUP BY products_id,options_values_id
ORDER BY products_id,products_options_sort_order,options_id) a,
(SELECT @rownum:=@rownum+1 'rw', products_id,options_values_id
FROM (SELECT @rownum:=0) r, products_attributes pa
LEFT JOIN products_options po ON ( pa.options_id = po.products_options_id )
WHERE products_id ='574' and pa.options_id!=6
and pa.options_id!=3
AND products_options_type = 2
GROUP BY products_id,options_values_id
ORDER BY products_id,products_options_sort_order,options_id) b
WHERE a.products_id=b.products_id and a.rw=b.rw; 
```

希望这可以帮助。

# c++ - 自己的输出流（模拟 cout）

> ID：14931280
> 
> 赞同：2
> 
> 时间：2013-02-18T07:21:30.430
> 
> 标签：c++, io, std, ostream

这是一个示例 C++ 代码

```
ostream& log = cout;
ostream& getLog() { return log; }

// somewhere in code
getLog() << "Message"; 
```

执行此代码时，将打印“消息”。

**问：**丢弃这些消息的最简单方法是什么（不打印，不保存）？`getLog`客户端仍然必须使用，但可能会返回一些吞下所有消息的模拟输出流......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T07:30:12.213

你可以做以下恐怖：

```
ostream nullstream(0);
ostream& log = nullstream; 
```

将null 传递给 的构造函数`ostream`将设置`badbit`标志并因此丢弃所有写入。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:26:18.130

有一个[类似的帖子试图这样做](http://www.velocityreviews.com/forums/t284398-is-there-a-null-ostream-like-dev-null-in-cpp.html)- 模拟重定向到的 cpp 方式`/dev/null`

> > 实施起来容易吗？
> 
> 是的。从 std::streambuf 派生一个类并覆盖受保护的虚函数溢出，如下所示
> 
> int溢出（int c）{返回c；}
> 
> 然后，您可以使用标准 istream 并将其流缓冲区设置为使用 rdbuf 的 streambuf 类的实例。或者，您可以定义自己的派生 ostream 类，该类会自动使用您的 streambuf 类的实例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:44:56.607

**快速脏：**

定义一个派生自 std::ostream 的类，并为什么`<<`都不做的任何 T 实现运算符。

不幸的是，这在某些情况下可能不起作用：`<<`运算符 in`std::ostream`不是多态的（不是虚拟的），因此只有当流类型是而不是`<<`时才会调用您的覆盖。`yourstream&``std::ostream&`

**更有礼貌**：

派生`std::streambuf`，具有没有缓冲区的类，并且通过**始终返回 0来覆盖****[溢出](http://en.cppreference.com/w/cpp/io/basic_streambuf/overflow)**。

 **然后创建一个`std::ostream`与该缓冲区关联的缓冲区，并从您的 getLog() 中返回它；

这将`ostream`发挥它的作用：将值转换为文本并将字符发送到缓冲区。缓冲区只会吃掉它们而不做任何事情。

对库有礼貌，效率不高，`ostream`在任何情况下都是调用值到文本的例程。

**最有效的**：

是使日志语句的编译有条件：比如

```
#ifdef DEBUG
#define DBG(x) x
#else
#define DBG(x)
#endif

// Your entire code here

#undef DBG 
```

并将日志记录为

```
DBG(std::cout << logging_variables_and_text << std::endl); 
```

`DEBUG`未定义时，将清除所有内容（`DBG`不再花费 CPU 周期）**

# javascript - 转义 javascript 中的特定特殊字符

> ID：14931282
> 
> 赞同：0
> 
> 时间：2013-02-18T07:21:33.507
> 
> 标签：javascript, jsp, escaping, special-characters

在javascript中是否无法转义特定的特殊字符，如`#`, `%`, `&`, `+` `<`, `>`, `'`, `"`, ？`?`我试图找出来，但没有找到逃避这些特殊字符的方法。

情况是这样的 - 我有一个接受输入（包括所有特殊字符）并添加到普通 JavaScript 数组的字段列表。然后我`JSON.stringify()`对获得的数组进行处理并传递给另一个 JSP，该 JSP 正在使用`com.google.gson`包类访问数组。问题是，在传递字符串化数组时，我使用`?`,`&`等特殊字符作为分隔参数的分隔符。这就是我需要转义上述特殊字符的原因

我的代码适用于除上述字符之外的所有特殊字符。

我也尝试了下面的代码。但是没用——

```
function escapeRegExp(str) {
    return str.replace(/[\-\[\]\/\{\}\#\%\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
} 
```

# xslt - XSLT 转换。相乘然后相加

> ID：14931283
> 
> 赞同：0
> 
> 时间：2013-02-18T07:21:38.000
> 
> 标签：xslt, xslt-1.0, xslt-2.0

我需要通过添加订单价格总和将我的 XML 从一种格式转换为另一种格式。计算是`Sum total (itemPrice*itemQty)`。我的请求 XML 如下

```
 <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
       <soap:Body>
          <ns2:fetchOrderListResponse xmlns:ns2="http://impl.lob.xyz.com/">
             <return>
                <customerOrderNumber>1</customerOrderNumber>
                <orderDetails>
                   <itemPrice>2.0</itemPrice>
  <itemQty>1</itemQty>
                   <orderDetailsId>37516016-D71B-4790-951F-55D00B0CC159</orderDetailsId>
                </orderDetails>
                <orderDetails>
                   <itemPrice>5.0</itemPrice>
                   <itemQty>3</itemQty>
                   <itemUnit>0</itemUnit>
                </orderDetails>
                <orderId>84EC371D-40CA-455E-A0FA-7EA733E9BFD3</orderId>
             </return>
             <return>
                <customerOrderNumber>1</customerOrderNumber>
                <deliverydate>2013-02-06T00:00:00+05:30</deliverydate>
                <orderDetails>
                   <itemPrice>7.0</itemPrice>
                   <itemQty>1</itemQty>
                   <orderDetailsId>9A5030BE-F95F-4C62-B5A2-41FF85423218</orderDetailsId>
                </orderDetails>
                <orderDetails>
                   <itemPrice>9.0</itemPrice>
                   <itemQty>5</itemQty>
                   <orderDetailsId>65A8B3BE-D407-43D8-8754-EA1E26AA56E4</orderDetailsId>
                </orderDetails>
                <orderId>0BDCB222-0117-47A9-8813-DF03A1D19E5E</orderId>
             </return>
          </ns2:fetchOrderListResponse>
       </soap:Body>
    </soap:Envelope> 
```

***在计算广告添加后，我需要将其转换为以下格式吗？使用 XSLT 的元素。转换后的 XML 应如下所示。请在这里提供帮助。***

```
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns2:fetchOrderListResponse xmlns:ns2="http://impl.lob.xyz.com/">
         <return>
            <customerOrderNumber>1</customerOrderNumber>
            <orderDetails>
               <itemPrice>2.0</itemPrice>
               <itemQty>1</itemQty>
               <orderDetailsId>37516016-D71B-4790-951F-55D00B0CC159</orderDetailsId>
            </orderDetails>
            <orderDetails>
               <itemPrice>5.0</itemPrice>
               <itemQty>3</itemQty>
            </orderDetails>
            <orderId>84EC371D-40CA-455E-A0FA-7EA733E9BFD3</orderId>
            **<ordertotal>17.0</ordertotal>**
         </return>
         <return>
            <customerOrderNumber>1</customerOrderNumber>
            <deliverydate>2013-02-06T00:00:00+05:30</deliverydate>
            <orderDetails>
               <itemPrice>7.0</itemPrice>
               <itemQty>1</itemQty>
               <orderDetailsId>9A5030BE-F95F-4C62-B5A2-41FF85423218</orderDetailsId>
            </orderDetails>
            <orderDetails>
               <itemPrice>9.0</itemPrice>
               <itemQty>5</itemQty>
               <orderDetailsId>65A8B3BE-D407-43D8-8754-EA1E26AA56E4</orderDetailsId>
            </orderDetails>
            <orderId>0BDCB222-0117-47A9-8813-DF03A1D19E5E</orderId>
            **<ordertotal>52.0</ordertotal>**
         </return>
      </ns2:fetchOrderListResponse>
   </soap:Body>
</soap:Envelope> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:40:56.497

XSLT 2.0 解决方案是：

```
<xsl:stylesheet version="2.0"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <xsl:output method="xml" indent="yes" />

    <!-- Identity template : elements and attributes are copied by default -->
    <xsl:template match="*|@*">
        <xsl:copy>
            <xsl:apply-templates select="*|@*" />
        </xsl:copy>
    </xsl:template>

    <!-- When matching return we add the order total as its last child -->
    <xsl:template match="return">
        <xsl:copy>
            <xsl:copy-of select="@*|*" />
            <ordertotal>
                <xsl:value-of select="sum(orderDetails/(itemPrice*itemQty))" />
            </ordertotal>
        </xsl:copy>
    </xsl:template>

</xsl:stylesheet> 
```

* * *

如果您使用的是 XSLT 1.0（没有扩展功能），您必须使用递归来实现您想要的：

```
<xsl:stylesheet version="1.0"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <xsl:output method="xml" indent="yes" />

    <xsl:template match="*|@*">
        <xsl:copy>
            <xsl:apply-templates select="*|@*" />
        </xsl:copy>
    </xsl:template>

    <xsl:template match="return">
        <xsl:copy>
            <xsl:copy-of select="@*|*" />
            <ordertotal><xsl:call-template name="calculate-total" /></ordertotal>
        </xsl:copy>
    </xsl:template>

    <!-- Recursive template -->
    <xsl:template name="calculate-total">
        <!-- Select by default the set of orderDetails from the current context -->
        <xsl:param name="orderDetails"
                   select="orderDetails" />
        <!-- Param which is going to keep track of the result step by step -->
        <xsl:param name="total"
                   select="'0'" />

        <xsl:choose>
            <!-- If we have remaining order details, recurse -->
            <xsl:when test="$orderDetails">
                <xsl:call-template name="calculate-total">
                    <!-- Remove the current element for the next step -->
                    <xsl:with-param name="orderDetails"
                                    select="$orderDetails[position() > 1]" />
                    <!-- Do the partial operation for the current element, and continue to the next step -->
                    <xsl:with-param name="total"
                                    select="$total + ($orderDetails[1]/itemPrice * $orderDetails[1]/itemQty)" />
                </xsl:call-template>        
            </xsl:when>
            <!-- Output the result -->
            <xsl:otherwise>
                <xsl:value-of select="$total" />
            </xsl:otherwise>
        </xsl:choose>

    </xsl:template>

</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:40:17.260

您已经标记了问题 XSLT2.0，这意味着可以直接进行求和。假设您位于**返回**元素上，您只需执行此操作即可获得 ordertotal

```
<ordertotal>
   <xsl:value-of select="sum(orderDetails/(itemPrice * itemQty))"/>
</ordertotal> 
```

所有其他元素将通过 XSLT 身份转换简单地复制。

这是完整的 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>

   <xsl:template match="return">
      <xsl:copy>
         <xsl:apply-templates select="@*|node()"/>
         <ordertotal>
            <xsl:value-of select="sum(orderDetails/(itemPrice * itemQty))"/>
         </ordertotal>
      </xsl:copy>
   </xsl:template>

   <xsl:template match="@*|node()">
      <xsl:copy>
         <xsl:apply-templates select="@*|node()"/>
      </xsl:copy>
   </xsl:template>
</xsl:stylesheet> 
```

这应该为您提供第一个返回元素的订单总数为 17，第二个**返回**元素为 52。

# cocos2d-android - 如何在 Cocos2d android 中使用 CCTimer 类？

> ID：14931285
> 
> 赞同：0
> 
> 时间：2013-02-18T07:21:46.987
> 
> 标签：cocos2d-android

我想`CCTimer`为 Timer 使用类，但我无法解决。之后我使用手动为此创建了一个函数但似乎没有效果。

```
protected GameLayer(ccColor4B color)
{
    super(color);

            schedule(new UpdateCallback() {
        @Override
        public void update(float d) {
            countTime(d);
        }
      },0.99f);

}

public void countTime(float scr) {
    if(_label != null){
        this.removeChild(_label,true);
    }
    j=j-(int)scr;

    CGSize winSize = CCDirector.sharedDirector().displaySize();
    _label = CCLabel.makeLabel("Time Left :" + j, "Verdana", 20);
    _label.setColor(ccColor3B.ccGREEN);
    _label.setPosition(155f, winSize.height - 15);
    addChild(_label);

    if(j<=0){
        CCDirector.sharedDirector().pause();
    }

} 
```

它从 1 运行到我要停止的点... !!!

我应该怎么做才能使用`CCTimer`类来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T10:41:41.727

CCTimer 可用，但我之前没有尝试过，但你可以通过 Timer 类来做这件事：

```
Timer timer = new Timer();
timer.scheduleAtFixedRate( new TimerTask(){
public void run() {
    updateTimeLabel();
}

public void updateTimeLabel() {
        float time += 1;
        String string = CCFormatter.format("%02d:%02d", (int)(time /60) , (int)time % 60 );
        CCBitmapFontAtlas timerLabel = (CCBitmapFontAtlas) getChildByTag(TIMER_LABEL_TAG) ;
        timerLabel.setString(string);
} 
```

# analysis - html5test.com 是如何工作的，代码分析？

> ID：14931286
> 
> 赞同：-1
> 
> 时间：2013-02-18T07:21:52.257
> 
> 标签：analysis, html5test

我的老师想让我做一个关于 html5test.com 的演讲。我知道这是一个关于您的浏览器如何支持 html5 的测试。我在github上得到了源代码，但我就是看不懂。如何在自己的代码编程中使用 html5test？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:28:09.283

好吧，他们测试您的浏览器中对 HTML 功能（或 API）的支持，并据此对您的浏览器进行评分。

要在您自己的项目中使用类似的东西，您可以查看 Modernizr。它更简单，并且具有更多功能。

[Modernizr - 特征检测库](http://modernizr.com/)

# codeigniter - codeigniter - 如何为视频文件生成缩略图

> ID：14931287
> 
> 赞同：0
> 
> 时间：2013-02-18T07:21:59.223
> 
> 标签：codeigniter, thumbnails

你好..

我在codeigniter工作。我在为视频文件创建缩略图时遇到了问题。如果有的话可以给我使用codeigniter为视频文件生成缩略图的代码。我使用以下代码为图像生成了缩略图

```
$config_manip = array(
'image_library' => 'gd2',
'source_image'  => "uploads/image_gallary/".$img,
'new_image'     => "uploads/image_gallary/thumbnails/thumb_".$img,
'maintain_ratio'=> TRUE ,
//'create_thumb'  => TRUE ,
'thumb_marker'  => '_thumb',
'width'         => 100,
'height'        => 100 
);
$this->load->library('image_lib', $config_manip);
$this->image_lib->resize(); 
```

上面的编码不能正常工作。让我解释如何为视频文件创建缩略图。请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:59:54.407

要生成视频缩略图，您可以使用以下

```
shell_exec("ffmpeg -i ".$video_url."  -y -an -sameq -f image2 -s 400x270 path/of/thumb/mythumb.jpg"); 
```

您可以根据需要更改参数

# c# - 导航和打印 sql 数据库

> ID：14931288
> 
> 赞同：0
> 
> 时间：2013-02-18T07:22:00.860
> 
> 标签：c#

我正在编写一个应用程序，让您可以查看和打开数据库中的表格。我想通过用户输入一个数字（列表索引）来打开表格并打印出所选表格中的内容。我试过了：

```
 using (NorthwindDataContext db = new NorthwindDataContext())
        {
            List<System.Data.Linq.Mapping.MetaTable> tables = db.Mapping.GetTables().ToList();

            for (int i = 0; i < tables.Count(); i++)
            {
                var s = tables[i].TableName;
                Console.WriteLine(i+". "+s);
            }
            Console.WriteLine("Choose index to open");
            string str = Console.ReadLine();
            int number = Convert.ToInt32(str);  
}    } 
```

我需要一个根据索引选择正确表的查询。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:28:53.307

使用相同的方式阅读它（tables[index]）：

```
"SELECT * from " + tables[number].TableName 
```

# c# - 如何通过 Webmatrix.Data.Database.Query 将表值参数传递给存储过程

> ID：14931289
> 
> 赞同：2
> 
> 时间：2013-02-18T07:22:08.790
> 
> 标签：c#, sql-server-2008, webmatrix, table-valued-parameters

下面的 c# 代码是不言自明的。我想通过 WebMatrix.Data.Database.Query 将 DataTable 作为表值参数传递给 SQL Server 2008 中的存储过程，但在下面的 c# 代码的最后一行（即 appDatabase.Query）中抛出异常

> “表类型参数 '0' 必须具有有效的类型名称。”

```
public JsonResult GetUserListForRoles(int[] RoleIds)
            {
                using (Database appDatabase = Database.Open("DefaultConnection"))
                {
                    DataTable roleIdsTable = new DataTable();
                    roleIdsTable.Columns.Add("RoleId", typeof(int));

            foreach(int role in RoleIds)
            {
                roleIdsTable.Rows.Add(role);
            }

            List<UserNameIdModel> userNameIdModelList = new List<UserNameIdModel>();

 var userNameIdList = appDatabase.Query("EXEC dbo.sp_GetUserListForRoles @roleIdsList=@0", roleIdsTable); 
```

在数据库中，我使用这一位 TSQL 创建了一个用户定义的表类型

```
CREATE TYPE dbo.RoleIdsList AS TABLE (RoleId int) 
```

它执行得很好，并显示在 SQL Server Management Studio 的类型/用户定义的表类型下

这是存储的过程（仅添加相关部分以表明我已将正确的类型分配给 @roleIdsList 参数，并将其标记为 READONLY，这是表值参数所必需的）

```
ALTER PROCEDURE [dbo].[sp_GetUserListForRoles] 
    -- Add the parameters for the stored procedure here
    @roleIdsList dbo.RoleIdsList READONLY 
```

我进行了大量搜索，但找不到处理 WebMatrix.Data.Database 的解决方案...我找到的所有解决方案都涉及 SqlCommand 和 SqlParameter。我在整个应用程序中都使用了 WebMatrix.Data.Database 并且需要保持一致。

请注意：我不使用 WebMatrix IDE。我只是在我的控制器中使用这个命名空间在我的 MVC4 应用程序中进行数据库交互。

急切地等待有这方面专业知识的人的指导。提前非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:02:51.620

根据[文档](http://msdn.microsoft.com/en-us/library/bb675163.aspx)`TypeName`，您必须使用 a 的属性为表值参数指定类型名称`SqlParameter`。`WebMatrix.Data.Database`帮助程序不提供用于指定参数的任何方面的 API，除了它的值。它不是为存储过程而设计的——它最初是为仅与普通 SQL 一起使用而设计的。因此，您别无选择，只能在此实例中使用普通的 ADO.NET，这样您就可以`SqlParameter`自己设置所需的属性。

# chef-infra - 我如何在 Chef 中使用模板、数据包和环境？

> ID：14931290
> 
> 赞同：5
> 
> 时间：2013-02-18T07:22:19.950
> 
> 标签：chef-infra, chef-recipe

我有带变量的模板。这些变量位于数据包中，并且取决于环境。例子：

```
# Template
address =$foo

# Environment:
develoment

# Databag:
$foo = "sdfsdf" 
```

我如何结合所有这些？，我不知道将信息放在哪里。

在模板中

```
address = "Http://ffff/dfg/" 
```

我需要在这里放一个变量

```
address = $pepe 
```

在我的数据包中，根据环境有以下数据：

```
 $pepe = "Http://ffff/dfg/"
 $pepep ="Http://ffff/dewrwerw/ 
```

我不知道我应该在食谱上写什么。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-18T11:29:53.160

模板：

```
address = <%= @pepe %> 
```

资料袋：

```
{
  "_default": {
    "pepe": "Http://ffff/dfg/"
  },
  "staging": {
    "pepe": "Http://ffff/staging"
  },
  "production": {
    "pepe": "Http://ffff/prod"
  }
} 
```

食谱：

```
data = data_bag_item( 'databagname', 'itemname' )

template '/path/to/file' do
  variables( pepe: data[node.chef_environment]['pepe'] )
end 
```

# perl - 执行 while 循环后将值（字符串或数字）存储到数组中

> ID：14931299
> 
> 赞同：0
> 
> 时间：2013-02-18T07:23:16.213
> 
> 标签：perl

我在下面有一个while循环：

```
while (<>)
{
    my $line = $_;
    if ($line =~ m/ERROR 0x/)
    {
        $error_found +=1;
    }
} 
```

在while循环完成后，我将匹配“错误...”之类的内容，我想将它们存储到数组或列表或哈希中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:53:04.760

只需将数据推送到数组中。

```
my @errors;
while (<>)
{
    my $line = $_;
    if ($line =~ m/ERROR 0x/)
    {
        push @errors, $line;
    }
} 
```

稍微清理一下：

```
my @errors;
while (my $line = <>)
{
    if ($line =~ /ERROR 0x/)
    {
        push @errors, $line;
    }
} 
```

或者甚至可能

```
my @errors;
while (<>)
{
    if (/ERROR 0x/)
    {
        push @errors, $_;
    }
} 
```

最后，意识到这`grep`在这里会做得很好：

```
my @errors = grep { /ERROR 0x/ } <>; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:32:00.640

```
my @arr;
while (<>)
{
    my $line = $_;
    if ($line =~ m/ERROR 0x/)
    {
        push(@arr,$line) ;
    }
}

print "$_\n" for @arr; 
```

# php - WAMP 入门

> ID：14931312
> 
> 赞同：0
> 
> 时间：2013-02-18T07:24:58.753
> 
> 标签：php, mysql, apache, wampserver

我是新人，我有三个新人类型的问题。我已经完成了 HTML、CSS，并且刚刚完成了一些 JavaScript 的学习。我已经在我的机器上安装了[WAMP 。](http://en.wikipedia.org/wiki/WAMP)

1.  我知道微软有“MVC”作为一种方法；AMP 应用程序有类似的东西吗？我什么时候使用什么技术？一本书或好的介绍教程将不胜感激。
2.  是否有适合 AMP 开发的 IDE？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:29:58.460

首先，欢迎来到AMP开发。

是的，有很多 MVC 框架，比如[CakePHP](http://en.wikipedia.org/wiki/CakePHP)、 CodeIgniter 、[Zend Framework](http://en.wikipedia.org/wiki/Zend_Framework)、[Yii](https://en.wikipedia.org/wiki/Yii)等。选择一个你觉得舒服和好的工作。

IDE 有很多，例如[NetBeans](http://en.wikipedia.org/wiki/NetBeans)、[Dreamviewer](https://en.wikipedia.org/wiki/Adobe_Dreamweaver)、[Eclipse](http://en.wikipedia.org/wiki/Eclipse_%28software%29)等。同样，请使用您熟悉的那个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:31:01.683

1.  是的，但是您可以选择十几个框架来提供它。[Zend 框架](http://en.wikipedia.org/wiki/Zend_Framework)、[CakePHP](http://en.wikipedia.org/wiki/CakePHP)、[Yii](https://en.wikipedia.org/wiki/Yii)、[Symphony](http://en.wikipedia.org/wiki/Symfony)等等。

2.  我在编写 PHP 代码时使用了[NetBeans](http://en.wikipedia.org/wiki/NetBeans)、[Eclipse](http://en.wikipedia.org/wiki/Eclipse_%28software%29)、[Aptana Studio](https://en.wikipedia.org/wiki/Aptana#Aptana_Studio)、[PhpStorm](https://en.wikipedia.org/wiki/PhpStorm)和[Sublime Text中的所有内容。](http://en.wikipedia.org/wiki/Sublime_Text)选择一个最适合你的。

# iphone - 一个蓝牙设备可以同时连接多少个iphone设备？

> ID：14931313
> 
> 赞同：0
> 
> 时间：2013-02-18T07:24:59.130
> 
> 标签：iphone, bluetooth

我找到了很多与此类似的问题的答案，但所有答案都不同。我想知道一个蓝牙设备可以同时连接多少个 iPhone 设备？以及在哪些版本中可以使用此功能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:30:19.120

这可能取决于设备的类型。我相信您可以连接尽可能多的设备，但使用这些设备中的每一个都取决于类型。

例如，我们正在使用 BLE 设备，我已将多达 10 个连接到我们的应用程序并且它们都同时工作，而据我所知，您只能连接 2 个传统 BT 设备，例如键盘或耳机，并且只能连接一次使用 1 个。

我很确定您可以与尽可能多的设备配对（尽管我没有特定的数字，例如最多 20 个）。

## 编辑

**如果 iPhone 是 Master，那么您只能将 1 个 iPhone 连接到 Slave BT 外围设备。**

## 更新

我刚刚从 Apple 蓝牙邮件列表中读到，支持 7 到 8 台设备，即使在这个数量上，您也会受到带宽等限制。所以要记住这一点。

# maven - 当内部回购无法访问时，退回到公共回购

> ID：14931315
> 
> 赞同：1
> 
> 时间：2013-02-18T07:25:15.057
> 
> 标签：maven

我有一个内部 maven 存储库，当我在公司网络上时，我希望所有流量都通过，但是当我不在网络上时，我想尽可能使用公共存储库。我有什么办法可以在带有镜子的 settings.xml 中执行此操作吗？我想让内部回购“镜像”外部回购，但是当无法回退到外部回购时。

我想避免使用配置文件，除非它们可以自动检测和回退。我宁愿不使用特殊标志来启用/禁用内部使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:31:02.827

如果您对存储库具有“某些”控制权，则可以将公司存储库的“存储库”配置为公共存储库的代理。（我使用 Nexus，但在工件上应该没有太大的不同）。

然后，按照正确的顺序（首先是公司，其次是公共），将公司回购和公共回购放入您的存储库列表中。

# java - JLabel ToolTip 干扰 MouseListener

> ID：14931323
> 
> 赞同：8
> 
> 时间：2013-02-18T07:25:49.220
> 
> 标签：java, swing, tooltip, jlabel, mouselistener

我有 Java Swing 应用程序`ToolTipMouseTest`

临界线是`label.setToolTipText("label" + i);`。一旦它被注释掉，点击`2 mousePressed`控制台中产生的标签。启用此行后，单击标签不会产生任何结果。

**这是预期的行为还是错误？**我的目标是在不禁用`MouseListener`工作的情况下显示工具提示。

几乎是 SSCCE，但没有进口：

```
public class ToolTipMouseTest {

public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
        @Override
        public void run() {
            new ToolTipMouseTest();
        }
    });
}

public ToolTipMouseTest() {
    JFrame frame = new JFrame();
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.setLayout(new BorderLayout());

    JLayeredPane lpane = new JLayeredPane() {
        @Override
        public Dimension getPreferredSize() {
            return new Dimension(600,400);
        }
    };

    MouseAdapter1 mouseAdapter1 = new MouseAdapter1();
    lpane.addMouseListener(mouseAdapter1);

    frame.add(lpane);

    JPanel panel1 = new JPanel();
    panel1.setSize(new Dimension(600, 400));
    panel1.setOpaque(false);

    lpane.add(panel1, JLayeredPane.PALETTE_LAYER);

    JPanel panel2 = new JPanel();
    for (int i = 0; i < 5; i++) {
        JLabel label = new JLabel("Label " + i);
        panel2.add(label);
        label.setToolTipText("label" + i); //HERE!!
    }

    JScrollPane spane = new JScrollPane(panel2) {
        private static final long serialVersionUID = 1L;

        @Override
        public Dimension getPreferredSize() {
            return new Dimension(300, 200);
        }
    };

    MouseAdapter2 mouseAdapter2 = new MouseAdapter2();
    spane.addMouseListener(mouseAdapter2);

    panel1.add(spane);

    frame.pack();
    frame.setVisible(true);
}

private class MouseAdapter1 extends MouseAdapter {
    @Override
    public void mousePressed (MouseEvent me) {
        System.out.println("1 mousePressed");
    }
}

private class MouseAdapter2 extends MouseAdapter {
    @Override
    public void mousePressed (MouseEvent me) {
        System.out.println("2 mousePressed");
    }
}
} 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-18T08:51:29.063

它按预期工作。让我解释一下为什么。

*   当组件没有监听器时，鼠标事件将被传播。

*   当任何组件上至少有一`MouseListener`组时 - 它会**消耗任何**鼠标进入/退出/单击/按下/释放事件，以免在组件层次结构中下降。

    对于任何监听器都是一样的，例如`MouseMotionListener`鼠标拖动/移动。

*   当您向组件添加工具提示时（`JLabel`在您的情况下），组件会自动接收一个新的 MouseListener 和一个`MouseMotionListener`from `ToolTipManager`。类中的`registerComponent`方法`ToolTipManager`执行此操作（由 调用`setToolTipText`）：

    ```
    public void registerComponent(JComponent component) {
        component.removeMouseListener(this);
        component.addMouseListener(this);
        component.removeMouseMotionListener(moveBeforeEnterListener);
        component.addMouseMotionListener(moveBeforeEnterListener);
        component.removeKeyListener(accessibilityKeyListener);
        component.addKeyListener(accessibilityKeyListener);
    } 
    ```

在您的情况下 - `JLabel`s 正在消耗鼠标事件和鼠标运动事件，因此可以防止将事件传播到，`JLayeredPane`因为当在组件上`ToolTipManager`设置工具提示（）时，侦听器添加了自身`setToolTipText`。

为了解决此问题，请注册一个将向下传递事件的侦听器。您可以使用工具提示将该侦听器添加到每个组件，该工具提示应该向下传递鼠标事件（例如，传递到 a `JLayeredPane`、 a`JScrollPane`等）。

这是一个如何做到这一点的小例子：

```
var destinationComponent = // the JLayeredPane, JScrollPane, etc with mouse listeners

componentWithToolTip.addMouseListener(new MouseAdapter() {
    public void mousePressed(MouseEvent event) {
        destinationComponent.dispatchEvent(
                SwingUtilities.convertMouseEvent(
                        event.getComponent(), // the component with the tooltip 
                        event,
                        destinationComponent
                )
        );
    }

    // implements other mouse* handlers as required.
}); 
```

在该设置`componentWithToolTip`中将有 2 个侦听器，一个来自 ToolTipManager，另一个是传播的。当`componentWithToolTip`它的所有侦听器将被触发时，传播的侦听器将分派到声明的目标组件`destinationComponent`。这样`destinationComponent`侦听器也可以接收鼠标事件。

# php - 我可以选中 HTML 输入标签之外的复选框吗？

> ID：14931324
> 
> 赞同：0
> 
> 时间：2013-02-18T07:25:54.047
> 
> 标签：php, html, forms, checkbox

我正在编写一个带有一系列复选框的表单的 php 站点。我将从一个文件中加载一个数组，我想在加载表单时默认检查一些框。

这是一个例子：

```
<form action="mypage.php">
    <label for="option1">Option 1</label>
    <input type="checkbox" name="option1" value="option1" />
    <label for="option2">Option 2</label>
    <input type="checkbox" name="option2" value="option2" />
    <label for="option3">Option 3</label>
    <input type="checkbox" name="option3" value="option3" />
</form>

<?php
    $array = array("option1", "option3");
    //  for loop to check boxes 1 and 3.
?> 
```

这可能吗？最好的方法是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:28:38.257

您应该在 HTML 部分之前填充您的数组。进而：

```
<input type="checkbox" name="option1" value="option1" <?php if (in_array("option1", $array)) { echo 'checked="checked"'; } /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:29:38.677

试试这个 ：

```
<?php
    $array = array("option1", "option3");
    //  for loop to check boxes 1 and 3.
?>

<form action="mypage.php">
    <label for="option1">Option 1</label>
    <input type="checkbox" name="option1" value="option1" <?php if(in_array("option1",$array)){?> checked="checked"<?php}?> />
    <label for="option2">Option 2</label>
    <input type="checkbox" name="option2" value="option2" <?php if(in_array("option2",$array)){?> checked="checked"<?php}?> />
    <label for="option3">Option 3</label>
    <input type="checkbox" name="option3" value="option3" <?php if(in_array("option3",$array)){?> checked="checked"<?php}?> />
</form> 
```

# c# - 使用 Google Analytics API C# 查询某个页面

> ID：14931327
> 
> 赞同：1
> 
> 时间：2013-02-18T07:25:59.473
> 
> 标签：c#, google-analytics, google-analytics-api

我只想知道某个页面/网址的页面浏览量。有没有办法将 url 添加到 Google 查询中？Baseurl 似乎不起作用。

```
DataQuery PageViewQuery = new DataQuery(DataFeedUrl)
{
    Ids = ProfileID,
    Dimensions = "ga:date",
    Metrics = "ga:pageviews",
    Sort = "ga:date",
    GAStartDate = (DateTime.Now).AddDays(-7).ToString("yyyy-MM-dd"),
    GAEndDate = (DateTime.Now).ToString("yyyy-MM-dd")
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:08:26.863

您可以尝试 ga:pagePath（加上 ga:hostname 如果您需要检索完整的 URL），或者如果您有唯一的页面标题 ga:pageTitle 应该是一个有效的解决方法。

维度和指标的完整文档在这里：[https](https://developers.google.com/analytics/devguides/reporting/core/dimsmets) ://developers.google.com/analytics/devguides/reporting/core/dimsmets 。

# asp.net - Facebook评论社交插件+墙贴到Facebook

> ID：14931331
> 
> 赞同：1
> 
> 时间：2013-02-18T07:26:19.553
> 
> 标签：asp.net, asp.net-mvc, facebook-comments

我创建了 Facebook 应用程序并使用应用程序 ID 在我的 asp.net mvc 网站上使用了 Facebook 评论社交插件

现在的问题是，当我使用评论插件评论时，勾选了复选框帖子到墙上，我想在我的墙上显示我的应用程序徽标和该评论。

所以，如果你能帮助我解决上述问题，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T13:01:55.310

请将打开的图元标记放在标题部分。

```
<meta property="og:image" content="logo path" /> 
```

# codeigniter - CodeIgniter 中的 URL 中有特殊字符

> ID：14931335
> 
> 赞同：0
> 
> 时间：2013-02-18T07:26:37.183
> 
> 标签：codeigniter, url, encoding, routing, special-characters

我想要像这样的网址

> [http://www.example.com/](http://www.example.com/) (*.)

但是 CodeIgniter 不允许我这样做。当我尝试访问某些 URL 时，我收到 404 错误（并且请求的页面存在）。

我知道我可以在 URL 中设置允许的字符，但我考虑过对其进行编码。但是，如果我这样做：

```
http://www.example.com/<?php echo rawurlencode(string) ?> 
```

甚至：

```
http://www.example.com/<?php echo rawurlencode(rawurlencode(string)) ?> 
```

我仍然得到 404。这是为什么呢？'%' 是允许的字符，为什么它不起作用？我能做些什么来解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:23:29.617

**您可以通过config/config.php**和`permitted_uri_chars`密钥允许某些标志。

但是，尽管我不完全确定，但我相信这些默认情况下会受到限制以提高安全性。正如相关解释所暗示的：

```
/*
|--------------------------------------------------------------------------
| Allowed URL Characters
|--------------------------------------------------------------------------
|
| This lets you specify with a regular expression which characters are permitted
| within your URLs.  When someone tries to submit a URL with disallowed
| characters they will get a warning message.
|
| As a security measure you are STRONGLY encouraged to restrict URLs to
| as few characters as possible.  By default only these are allowed: a-z 0-9~%.:_-
|
| Leave blank to allow all characters -- but only if you are insane.
|
| DO NOT CHANGE THIS UNLESS YOU FULLY UNDERSTAND THE REPERCUSSIONS!!
|
*/ 
```

例如，当前设置的巧妙之处在于，您只允许很少的 uris 来解析 ID，而不会冒险让它们受到 .`''`或`""`类似的影响。当然有自动和手动`$this->db->escape()`，但这只是增加了更多的故障保护。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:59:42.210

当尝试将`urlencoded`字符串传递给`URI`它时，如果编码的字符串有 a ，它将产生错误`/`，codeigniter 将尝试将其解析为一个段，从而呈现 a `404`，您需要使用的是查询字符串。

`$string = rawurlencode(string)`

`http://www.example.com/class/method/?string=$string`

然后在你的方法上

利用`get`

```
function method()
{
   $this->input->get('string');

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T17:39:07.900

如果您想`/`在 URL 中使用斜杠，请使用双原始编码。例如：

```
$string = rawurlencode(rawurlencode('/sth/sth')); 
```

# c# - 如何使用 Arraylist 将数据从 Textbox 显示到 Gridview？

> ID：14931336
> 
> 赞同：1
> 
> 时间：2013-02-18T07:26:41.530
> 
> 标签：c#, asp.net, arraylist, generic-list, generic-collections

我在 Visual Studio 2010 上使用 C# 创建了两个文本框，用于在基于 Web 的 ASP.NET 应用程序中输入员工的名字和姓氏。有一个按钮。当我单击它时，我在 TextBoxes 中输入的值应该显示在 Gridview 中，而这些值不会存储在数据库中。我已经使用 DataTables 实现了它，如下所示。但现在我想使用 ArrayList 来实现它。我怎样才能做到这一点？您能否提供一个示例代码来执行上述功能？

如何调整下面给出的代码，以使用 ArrayList 而不是 DataTables 来实现功能？

**

```
protected void Page_Load(object sender, EventArgs e)
{
        DataTable dt = new DataTable();
        DataColumn dc1 = new DataColumn("FIRST NAME");
        DataColumn dc2 = new DataColumn("LAST NAME");
        dt.Columns.Add(dc1);
        dt.Columns.Add(dc2);
        DataRow dr1 = dt.NewRow();
        GridView1.DataSource = dt;
        GridView1.DataBind();
}
protected void Button1_Click(object sender, EventArgs e)
{
    DataRow dr1 = dt.NewRow();
    dr1[0] = TextBox1.Text;
    dr1[1] = TextBox2.Text;
    dt.Rows.Add(dr1); 
    GridView1.DataSource = dt;
    GridView1.DataBind();
} 
```

**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:30:58.360

我会建议使用*类型化*列表`List<T>`，而不是使用`ArrayList`它来避免代码中的大量类型转换。[您可以在此处](http://msdn.microsoft.com/en-us/library/b5bx6xee%28v=vs.80%29.aspx)阅读有关使用类型列表的优势的更多信息。创建一个类，让我们说 Employee 与数据成员 FirstName，LastName 等，并制作员工列表并将其绑定到`GridView`.

```
public class Employee
{
    public FirstName {get; set;}
    public LastName {get; set;}
    public Address {get; set;}
}

List<Employee> employees = List<Employee>();
employees.Add(new Employee{FirstName: "john", LastName: "Thunder", Address: "addr"});
gridView1.DataSource = employees;
gridView1.DataBind(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:35:59.187

您可以通过本文了解如何将 datagrid 绑定到 arraylist。

[http://www.akadia.com/services/dotnet_arraylist_datagrid.html](http://www.akadia.com/services/dotnet_arraylist_datagrid.html)

# c - 清除屏幕和缓冲区

> ID：14931337
> 
> 赞同：1
> 
> 时间：2013-02-18T07:26:53.830
> 
> 标签：c, linux

我有这个示例程序。它清除屏幕和回滚缓冲区。

```
#include <stdio.h>
int
main(void)
{
  printf("\ec");
  return 0;
} 
```

但是我读过

> 并非所有终端都采用 ANSI/VT100+ 转义序列。

所以我想使用像`erase();`Gilles [建议](https://stackoverflow.com/a/3646333)的东西。不过`erase`和朋友好像只清屏不清缓冲区。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T09:10:20.540

如果你使用 Windows，你可以使用这个

```
#include <stdio.h>

int main(void)
{
  system("cls"); //call to system function to clear screen.
  return 0;
} 
```

[该线程](http://osdir.com/ml/gnu.screen.user/2006-01/msg00029.html)有以下建议：

在要删除其回滚的窗口中，将回滚设置为零，然后将其恢复为正常值（在您的情况下为 15000）。

如果需要，可以将其绑定到一个键：

```
bind / eval "scrollback 0" "scrollback 15000" 
```

你也可以在会话中发出`scrollback 0`命令，在输入`C-a :`. HTH。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T09:09:47.410

C 没有屏幕或回滚缓冲区的概念，因此仅使用 C 无法解决此问题。您的系统可能会提供实现所需效果的方法，本质上使您的程序不再是 C 程序，而是为“*使用 Frobozz Magic V1.42 中的 C 实现而编写的程序，使用 Frobniz 编译器并与 CleanScreen 库工具包链接*”。将自己从非便携式编程的噩梦中解救出来，忘记这个想法。尝试解决*有用*的问题，例如在 C 中实现算法，忘记屏幕清除等无用的 chrome。（如果你真的必须，链接到一个 termcap 库并调用适当的函数）。

# javascript - Javascript（jQuery）像菜单一样隐藏和显示css文件

> ID：14931338
> 
> 赞同：0
> 
> 时间：2013-02-18T07:27:00.083
> 
> 标签：javascript, jquery, css, if-statement, menu

我正在尝试使用 display:none 和 display:block 制作菜单。老实说，我不确定最好的方法是什么。它们必须是图像，因为它们是我在 Photoshop 中使用的不同字体。这是我的 HTML。

```
<div id="wrap">
    <div>
        <img class="difficulty-rally"src="assets/images/difficulty-rally.png">
        <div class="difficulties">
            <img class="difficulty-easy"src="assets/images/easy-green.png">
            <img class="difficulty-medium"src="assets/images/medium-green.png">
            <img class="difficulty-hard"src="assets/images/hard-green.png">
            <img class="difficulty-insane"src="assets/images/insane-green.png">
        </div>
    </div>
</div> 
```

这是我的 CSS

```
@import 'reset.css';
/*///////////////////MAIN/////////////////////////*/
#wrap{
    height: 500px;
    width:  800px;
    display: block;
    margin: 0 auto;
    border: 1px solid black;
    background-color: black;
    z-index: -900000;
    position: relative;
    overflow: hidden;
}
#main{
    position: relative;
}
#header{
    height: 52px;
    width: 295px;
    margin: 0 auto;
}
.title{
    margin-top: 20px;
    height: 52px;
    width: 295px;
    background-image: url(../images/title.png);
}
.difficulty-rally{
    position: absolute;
    z-index: -1000;
}
.diificulties{
    position: absolute;
    z-index: 20;
    height: 230px;
    width: 150px;
    margin-top: 157px;
    margin-left: 335px;
}
.difficulty-easy{
    position: absolute;
    z-index: 30;
    display: none;
}
.difficulty-medium{
    position: absolute;
    z-index: 30;
    top: 62px;
    left: 2px;
    display: block;
}
.difficulty-hard{
    position: absolute;
    z-index: 30;
    bottom: 62px;
    left: 3px;
    display: none;
}
.difficulty-insane{
    position: absolute;
    z-index: 30;
    bottom: 1px;
    left: 2px;
    display: none;
} 
```

这是我的 JavaScript（jQuery）

```
$(document).ready(function(){
    $(document).on('keyup', function(e){
        if(e.keyCode === 27){
            window.location = 'minigame.php';
        }   
    })

    var easy = $('.difficulty-easy');
    var medium = $('.difficulty-medium');
    var hard = $('.difficulty-hard');
    var insane = $('.difficulty-insane');

    $(document).on('keyup', function(e){
        if(e.keyCode === 40 && medium.css('display') == "block"){
            medium.css({'display' : 'none'});
            hard.css({'display' : 'block'})
        }
        if(e.keyCode === 38 && medium.css('display') == "block"){
            medium.css({'display' : 'none'});
            easy.css({'display' : 'block'})
        }
        if(e.keyCode === 40 && easy.css('display') == "block"){
            easy.css({'display' : 'none'});
            medium.css({'display' : 'block'})
        }
        if(e.keyCode === 38 && easy.css('display') == "block"){
            easy.css({'display' : 'none'});
            insane.css({'display' : 'block'})
        }
    })

}); 
```

编辑：对不起，我忘了解释这个问题，基本上当我点击媒体时，它变得疯狂而不是简单！

我知道我还没有完成一些选择，但感觉它们不起作用我会在这里发布。

编辑x2：

```
easy.hide();
hard.hide();
insane.hide();
medium.show();

$(document).on('keyup', function(e){
    if(e.keyCode === 40 && medium.show();){
        medium.hide();
        hard.show();
    }
    if(e.keyCode === 40 && hard.show();){
        hard.hide();
        insane.show();
    }
}) 
```

**回答：**

```
 var current = 1;
    var difficulties = $('#difficulties > img');

    $(document).on('keyup', function(e){
        if(e.keyCode === 40){
            current = current + 1;
        }
        if(e.keyCode === 38){
            current = current - 1;
        }

        var selectedIndex = current % difficulties.length; //so you can click enter and do something

        if(e.keyCode === 13){
            alert($(difficulties.get(selectedIndex)).text()) //example of what you can do
        }

        $(difficulties.get(current % difficulties.length)).show().siblings().hide();
    })

}); 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-18T07:30:48.407

使用 JQuery，您可以`.hide()`用来隐藏和`.show()`显示它们而不是弄乱 css

将您的 keyup 处理程序更改为：

```
var current = 1;
var difficulties = $('#difficulties > img');

$(document).on('keyup', function(e){
    if(e.keyCode === 40){
        current = current + 1;
    }
    if(e.keyCode === 38){
        current = current - 1;
    }

    var selectedIndex = current % difficulties.length; //so you can click enter and do something

    if(e.keyCode === 13){
        alert($(difficulties.get(selectedIndex)).text()) //example of what you can do
    }

    $(difficulties.get(current % difficulties.length)).show().siblings().hide();
}) 
```

# html - 是否可以在标题属性中设置某些文本的样式？

> ID：14931352
> 
> 赞同：1
> 
> 时间：2013-02-18T07:28:01.060
> 
> 标签：html, css

假设我有一个链接`<a href="#" title="Hello, World!">`。我想设置工具提示属性的*部分样式。*`title`例如，我想让`Hello`零件加粗。我不想**同时**设计`Hello`and `World`，只是`Hello`部分。

我尝试将 HTML 标记放在属性内，但它们似乎没有效果（如果我输入`<a href="#" title="<b>Hello,</b> World!">`，标题文本会打印出来`<b>Hello,</b> World!`，这不是我想要的。我已经做了一个[JSFiddle 演示](http://jsfiddle.net/CWPrZ/)来说明发生了什么。

**是否可以使用纯 CSS**来做到这一点？

 **另外，我看到[了这个，](https://stackoverflow.com/q/2011142)但这不是我想要的。然而，它很接近。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:45:32.783

您不能将 HTML 放在属性标题中，它不是有效代码，但我相信您可以使用**hint.css**库：[http](http://kushagragour.in/lab/hint/) ://kushagragour.in/lab/hint/ 。完全基于 css 且易于使用：

```
<a href="http://somewhere/" class="hint  hint--bottom" data-hint="Hello" title="Hello world">Your link</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:34:45.150

我认为你实现你想要的唯一方法是用你想要的样式制作一个 div，隐藏它，然后悬停 - 显示它。**

# jquery - 在 jQuery 中，如果没有 alert()，则不会选择 select 中的选项

> ID：14931356
> 
> 赞同：0
> 
> 时间：2013-02-18T07:28:19.427
> 
> 标签：jquery

我的 jquery 中有以下代码片段。`update_obj['events']`保存我想要选择的选项的值。我有一组`select`元素，它们的 id 以`event_drop_down_`. 这段代码工作正常。但是如果我评论这些`alert(v)`选项不会在`select`元素中被选中。`select`与元素相关的唯一其他事件是`.change()`。我评论了它并尝试了，但问题仍然存在。任何克服这个问题的帮助/建议都非常感谢。

```
 var i =0;
$(update_obj['events']).each(function(v){
        alert(v);
    $('#event_drop_down_' + i + ' option[value=' + update_obj['events'][v] + ']').attr('selected', 'selected');
    i = i+1;
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:34:32.410

尝试这个

```
$(update_obj['events']).each(function(i,v){
    alert(i);
   $('#event_drop_down_' + i + ' option[value=' + update_obj['events'][i] + ']').attr('selected', 'selected');
   i = i+1;
}); 
```

**或者**

```
$(update_obj['events']).each(function(i,v){
    alert(i);
   $('#event_drop_down_' + i + ' option[value=' + v + ']').attr('selected', 'selected');
   i = i+1;
}); 
```

# ios - Jquery Mobile Button 颜色不变

> ID：14931362
> 
> 赞同：2
> 
> 时间：2013-02-18T07:29:02.097
> 
> 标签：ios, html, css, jquery-mobile

我正在将 Jquery mobile 用于我的应用程序。

```
<input data-mini="true" data-inline="true" data-theme="d" value="Login" type="submit" /> 
```

在ios中，如果我单击按钮颜色没有改变..如果我按住按钮几秒钟意味着颜色改变..有什么问题。

注意：按下按钮颜色不会改变......而长按颜色会改变..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:28:32.227

请尝试此代码

```
<input type="button" value="Button element" data-icon="delete" data-theme="b"> 
```

使用以下链接作为参考

[http://jquerymobile.com/test/docs/widgets/forms/#&ui-state=dialog](http://jquerymobile.com/test/docs/widgets/forms/#&ui-state=dialog)

# java - 在 Java 密钥库中存储 X.509 证书

> ID：14931363
> 
> 赞同：0
> 
> 时间：2013-02-18T07:29:08.270
> 
> 标签：java, keystore, x509, rampart

我正在尝试将代理 X.509 证书存储到密钥库中。证书是使用 bouncycastle 库生成的，问题是我没有证书的密钥，据我了解，要将其存储在 Java 密钥库中，我需要密钥。此外，我似乎无法将证书转换为 Java 自己的实现。我想将它存储在密钥库中，以便 Axis2 的 Rampart 可以根据我们自己的安全架构将它附加到 SOAP 消息中。如果有人可以向我解释是否有办法做到这一点，或者如果我错过了一些重要的事情，我将不胜感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T23:14:52.257

> 据我了解，要将其存储在 Java 密钥库中，我需要密钥

不，您不需要私钥来存储证书。你只需要为你自己的证书。只需使用`keytool -import.`

# .htaccess - 阻止链接在 Opencart 中被索引

> ID：14931365
> 
> 赞同：0
> 
> 时间：2013-02-18T07:29:25.690
> 
> 标签：.htaccess, opencart, robots.txt

最近我似乎从 Google 网站管理员工具中收到了很多 404 错误。有没有办法禁止此类链接被索引？他们来自哪里？

感谢您能否对此事有所了解。提前致谢。

我在 opencart 1.5.4.1 上。

这些是 404 错误

```
http://mydomain.com/product/search&filter_tag=Purse&sort=rating&order=ASC&limit=25
http://mydomain.com/product/search&sort=p.price&order=DESC&filter_tag=&limit=25
http://mydomain.com/cart?qty=1&id_product=323&token=bfcf19e76ed4a88abd8508e8dc097a70&add 
```

我还在我的 robots.txt 中包含以下条目，但无济于事

```
User-agent: Googlebot

User-agent: *
Disallow: /cgi-bin
Disallow: /*?limit
Disallow: /*&limit
Disallow: /*?sort
Disallow: /*&sort
Disallow: /*?route=checkout
Disallow: /*?route=account
Disallow: /*?route=product/search
Disallow: /*?route=affiliate
Disallow: /*&keyword
Disallow: /*?page=1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T11:18:35.300

看起来您正在使用一个扩展程序，该扩展程序试图将丑陋的 url 重写为更好/更友好的 url——或者在某一时刻。如果可以的话，您应该使用 .htaccess 将错误的 URL 重写为正确的 URL，而不是仅仅阻止页面。这将有助于您的网站

# android - 如何根据升序整数对 sqlite 表进行排序？

> ID：14931371
> 
> 赞同：1
> 
> 时间：2013-02-18T07:29:51.770
> 
> 标签：android, sqlite, listview

我在 android sqlite 中遇到了 ORDER BY 的一些问题。

我正在使用此查询重新排序我的列表视图：

```
Select * From tbl_name ORDER BY WithOrder asc 
```

其中 WithOrder 是一个整数类型的列。我希望的预期行为是 sqlite 会将行重新排序为 ....8,9,10,11,12.... 但它根据第一个数字将列表重新排序为 ....10 ,11,8,9....

请帮助我用整数的升序值重新排序表...我不能选择任何其他列或数据类型来重新排序，因为当用户重新排序列表时，我严重依赖 WithOrder 进行一般计算。

谢谢！

帕尔瓦兹·巴斯卡

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:36:58.247

数字是根据其数值排序的，而字符串是按字典顺序排序的，从第一个字符开始。特别是，字符`1`小于字符`8`，因此任何以`1`（例如`11`）开头的字符串都排在任何以 开头的字符串之前`8`。

重新创建您的表，使该`WithOrder`列具有类型`INTEGER`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:44:15.110

```
Cursor c =  SQLiteDatabase_OBJ.query("Table_name", null, null, null, null, null, "WithOrder ASC"); 
```

试试这个

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-28T07:16:02.050

试试这个`ORDER BY CAST(WithOrder AS INTEGER) ASC`

# java - BouncyCastle 没有这样的提供商例外

> ID：14931379
> 
> 赞同：0
> 
> 时间：2013-02-18T07:30:22.807
> 
> 标签：java, cryptography, bouncycastle, provider

我有一个现在可以完美运行的应用程序！但现在它`No such a provider`在这行代码上引发了异常：

```
Cipher.getInstance("AES/CBC/PKCS5Padding", "BC"); 
```

BouncyCastle 安装正确，奇怪的是只有在这个应用程序中它会创建异常！在其他情况下，它可以在具有相同 JRE 的同一台机器上同时工作！！！

问题是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:49:56.933

Ubuntu 软件更新系统可能已更改您的 Java 配置。

使用 -verbose 标志查看是否所有类都从您期望的位置加载。

# tomcat - 从 apache tomcat 服务器获取日期和时间的 Lua 脚本

> ID：14931384
> 
> 赞同：1
> 
> 时间：2013-02-18T07:31:00.230
> 
> 标签：tomcat, lua

如何编写脚本以从 Lua 中的 Apache Tomcat 服务器检索当前日期和时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:06:41.903

您所需要的只是[LuaSocket](http://w3.impa.br/~diego/software/luasocket/)，这样您就可以连接到您的服务器。它不必是 Tomcat 服务器。尝试运行此代码：

```
local http = require "socket.http" -- import the socket.http module
local body, httpcode, headers = http.request("http://www.google.com")
local date = headers.date -- LuaSocket makes all header names lowercase
print(date) --> "Mon, 18 Feb 2013 09:03:13 GMT" in my case 
```

# iphone - 可达性概率 ios6

> ID：14931387
> 
> 赞同：3
> 
> 时间：2013-02-18T07:31:10.653
> 
> 标签：iphone, ios6

在应用程序中显示 ios6 中的可达性错误。任何人都可以帮我解决可达性 ios6 中的这个错误，请做必要的事情。

```
@implementation Reachability
 static void ReachabilityCallback(SCNetworkReachabilityRef target, SCNetworkReachabilityFlags flags, void* info)
 {
#pragma unused (target, flags)
NSCAssert(info != NULL, @"info was NULL in ReachabilityCallback");
NSCAssert([(NSObject*) info isKindOfClass: [Reachability class]], @"info was wrong class in ReachabilityCall9back");

//We're on the main RunLoop, so an NSAutoreleasePool is not necessary, but is added defensively
// in case someon uses the Reachablity object in a different thread.

Reachability* noteObject = (Reachability*) info;
// Post a notification to notify the client that the network reachability changed.
[[NSNotificationCenter defaultCenter] postNotificationName: kReachabilityChangedNotification object: noteObject];

  }

 - (BOOL) startNotifier
 {
BOOL retVal = NO;
SCNetworkReachabilityContext    context = {0, self, NULL, NULL, NULL};
if(SCNetworkReachabilitySetCallback(reachabilityRef, ReachabilityCallback, &context))
{
    if(SCNetworkReachabilityScheduleWithRunLoop(reachabilityRef, CFRunLoopGetCurrent(), kCFRunLoopDefaultMode))
    {
        retVal = YES;
    }
}
return retVal;
  } 
```

错误：

```
 Cast of C pointer type 'void *' to Objective-C pointer type 'NSObject *' requires a bridged cast 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T07:43:07.523

```
id objInfo = (__bridge id)info;
NSCAssert([objInfo isKindOfClass: [Reachability class]], @"info was wrong class in ReachabilityCall9back");
Reachability* noteObject = (Reachability*) objInfo ; 
```

# python-2.7 - 在另一个函数中调用一个函数的局部变量

> ID：14931391
> 
> 赞同：0
> 
> 时间：2013-02-18T07:31:20.550
> 
> 标签：python-2.7

我在 python 中创建了一个设置窗口，其中我有一些路径设置必须是一次设置。这是示例演示代码，

```
import wx
import os
class SettingWindow(wx.Frame):
    def __init__(self, parent, id, title):
        wx.Frame.__init__(self, parent, id, title)
        panel= wx.Panel(self,-1)
        font = wx.Font(8, wx.DEFAULT, wx.NORMAL, wx.BOLD)
        field1 = wx.TextCtrl(panel,pos=(120,25),size=(170,20))
        vsizer = wx.BoxSizer(wx.VERTICAL)
        field1_sz=wx.BoxSizer(wx.HORIZONTAL)
        field2_sz=wx.BoxSizer(wx.HORIZONTAL)
        field1_lbl=wx.StaticText(panel,-1, label='Repo URL path:', pos=(25, 25))
        field1_lbl.SetFont(font)
        field1_sz.AddSpacer(50)
        field1_sz.Add(field1_lbl)
        field1_sz.AddSpacer(5) # put 5px of space between
        field1_sz.Add(field1)
        field1_sz.AddSpacer(50)

        vsizer.AddSpacer(50)
        vsizer.Add(field1_sz)
        vsizer.AddSpacer(15)
        vsizer.Add(field2_sz)
        vsizer.AddSpacer(50)

        btn1 = wx.Button(panel, label='Browse',pos=(300,25),size=(60,20))
        btn1.Bind(wx.EVT_BUTTON, self.opendir)

    def opendir(self, event):
        dlg = wx.DirDialog(self, "Choose a directory:", style=wx.DD_DEFAULT_STYLE | wx.DD_NEW_DIR_BUTTON)
        if dlg.ShowModal() == wx.ID_OK:
            field1.SetValue("%s",dlg.GetPath())

        dlg.Destroy()

class MyApp(wx.App):
    def OnInit(self):
        frame= SettingWindow(None,-1,'Setting Window')
        frame.Show()
        self.SetTopWindow(frame)
        return True
app= MyApp(0)
app.MainLoop() 
```

我想在 textCtrl 中显示从 opendir 获得的路径。我发现如下错误，Traceback（最近一次调用最后一次）：文件“D:\PROJECT\SettingWindow.py”，第 58 行，在 opendir 返回（field1 ) NameError: 全局名称 'field1' 未定义

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:50:43.607

使用 self.field1 而不是变量 field1：

```
self.field1 = wx.TextCtrl(panel,pos=(120,25),size=(170,20))

self.field1.SetValue(dlg.GetPath()) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T11:23:12.717

此代码用于在单击复选框时隐藏 TextCtrl 字段

```
def OnCheckBox(self,event):
    if self.checkbox.Value==False:
        self.field.Enable(True)
    else:
        self.field.Enable(False) 
```

# html - 表格边框应覆盖单元格边框

> ID：14931393
> 
> 赞同：1
> 
> 时间：2013-02-18T07:31:29.460
> 
> 标签：html, css, border

表格的外边框应该在单元格边框之前。我如何实现这一目标？我想要不同的颜色，但外边框一致。第一个例子描述了这个问题：

```
<table style="border: 1px solid red; border-collapse: collapse">
    <tr>
        <td style="border-right: 1px solid blue">1</td>
        <td>2</td>
        <td>3</td>
    </tr>
    <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
    </tr>
</table>

<br />

<table style="border: 1px solid red" cellspacing="0">
    <tr>
        <td style="border-right: 1px solid blue">1</td>
        <td>2</td>
        <td>3</td>
    </tr>
    <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
    </tr>
</table> 
```

![边框折叠与单元格间距](../Images/17b0fdea6b73f690f57bd3c257bb0764.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:37:25.523

几年前我在 Stackoverflow 上找到了答案。你可以很容易地做到这一点，但有点hacky。如果没有它不起作用，您还必须将`<tbody>`标签添加到您的表格中。

```
tbody { 
    display: block; 
    margin: -1px; 
} 
```

# java - 在 Java 中创建数据可视化/分析仪表板

> ID：14931394
> 
> 赞同：10
> 
> 时间：2013-02-18T07:31:32.437
> 
> 标签：java, spring, analytics, data-visualization, dashboard

我正在开发一个网站，我需要在其中显示包含后端数据的仪表板。数据可视化的外观和感觉需要像谷歌分析仪表板。

我想知道是否有任何免费的 API/库/项目可以让我这样做。该项目也使用Java（SpringMVC）。

任何指导/帮助表示赞赏。非常感谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T07:53:58.827

鉴于 Google 分析布局，我建议您使用 Twitter 引导程序，因为：

*   鉴于 twitter bootstrap 的机制，您将可以轻松管理网格布局
*   您可以使用默认 css 快速创建 UI（然后根据需要自定义 css），
*   您将拥有一个用于响应式设计的便携式 CSS（我怀疑在这种监控工具的情况下，当您的用户将使用经典的桌面浏览器版本时，他们会要求您已经拥有的平板电脑或智能手机版本:-))

推特引导：http: [//twitter.github.com/bootstrap/](http://twitter.github.com/bootstrap/)

至于数据可视化，我强烈建议您使用 d3.js ( [http://d3js.org/](http://d3js.org/) )，因为您可以生成各种各样的图表（参见示例：[https ://github.com/ mbostock/d3/wiki/画廊](https://github.com/mbostock/d3/wiki/Gallery)）。

您可以先查看以下提供的 SpringMVC 和引导示例：[https ://github.com/priyatam/springmvc-twitterbootstrap-showcase](https://github.com/priyatam/springmvc-twitterbootstrap-showcase)

# java - 比较器未按 PriorityQueue 的预期运行

> ID：14931396
> 
> 赞同：0
> 
> 时间：2013-02-18T07:31:38.673
> 
> 标签：java, priority-queue, comparator

我编写了这个比较器函数以与优先级队列一起使用。这种方式效果很好，它在我 poll() 时给出频率最低的单词。

但这是频率，我希望他们以相反的方式表现。我交换了返回值 -1 和 +1，这导致 poll() 上的结果无序和混合。

为什么会发生这种情况，以及如何解决？另外，为什么必须在构造函数中指定比较器时始终指定 PriorityQueue 的初始大小？它有什么我看不到的效果吗？

```
public class StringFrequencyComparator implements Comparator<Word>
{
    public int compare(Word x, Word y)
    {
        if (x.frequency() < y.frequency())
        {
            return -1;
        }

        if (x.frequency() > y.frequency())
        {
            return +1;
        }
        return 0;
    }
} 
```

更新：我犯了一个错误。我在 PriorityQueue 中插入值，然后更新它们的频率。但是，我很困惑，因为尽管出现了这个错误，但这些命令对于比较器来说是完美的，并且只有在我交换 -1s 和 1s 值时才会混淆，这迫使我相信比较器有问题。我仍然想知道它是如何完美的。

# java - 为什么我尝试启动新 Intent 时会出现异常？

> ID：14931402
> 
> 赞同：0
> 
> 时间：2013-02-18T07:32:07.410
> 
> 标签：java, android

我对 Android 很陌生，但遇到这样的异常：

```
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.simplepay.hellomobile/com.simplepay.hellomobile.CardPayment}: android.os.NetworkOnMainThreadException 
```

堆栈跟踪在这里：

```
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
        at android.app.ActivityThread.access$600(ActivityThread.java:141)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
        at android.os.Handler.dispatchMessage(Handler.java:99)
        at android.os.Looper.loop(Looper.java:137)
        at android.app.ActivityThread.main(ActivityThread.java:5039)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:511)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
        at dalvik.system.NativeStart.main(Native Method)
        Caused by: android.os.NetworkOnMainThreadException
        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1117)
        at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:163)
        at libcore.io.IoBridge.recvfrom(IoBridge.java:513)
        at java.net.PlainSocketImpl.read(PlainSocketImpl.java:488)
        at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:46)
        at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:240)
        at org.apache.http.impl.io.AbstractSessionInputBuffer.fillBuffer(AbstractSessionInputBuffer.java:103)
        at org.apache.http.impl.io.SocketInputBuffer.isStale(SocketInputBuffer.java:109)
        at org.apache.http.impl.AbstractHttpClientConnection.isStale(AbstractHttpClientConnection.java:205)
        at org.apache.http.impl.conn.AbstractClientConnAdapter.isStale(AbstractClientConnAdapter.java:185)
        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:336)
        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:653)
        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:627)
        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:616)
        at juspay.services.WalletService.makeServiceCall(WalletService.java:283)
        at juspay.services.WalletService.getCardTokens(WalletService.java:237)
        at com.simplepay.hellomobile.CardPayment.addContentTo(CardPayment.java:107)
        at com.simplepay.hellomobile.CardPayment.setUpLayoutAndActionListeners(CardPayment.java:81)
        at com.simplepay.hellomobile.CardPayment.onCreate(CardPayment.java:56)
        at android.app.Activity.performCreate(Activity.java:5104)
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144) 
```

请注意，所有网络调用都是使用该方法完成的，`AsyncTask`并放置在该`doInBackground`方法中。代码是：

```
protected JSONObject doInBackground(Void... voids)  
{
    JSONObject initOrderResponse = walletService.initOrder(this.amount);
    return initOrderResponse;
} 
```

where`initOrder`是一个普通的 java 方法，它有如下一行：

```
responseBody = httpClient.execute(post,responseHandler); 
```

但我仍然收到此错误。

不知道我在哪里犯了错误。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:34:51.743

> 引起：android.os.NetworkOnMainThreadException

您正在尝试在 UI 线程上进行网络调用。

因此，使用 AsyncTask 来完成这些任务。

在 Android 3.0 + 版本中，任何可能阻塞 UI 的网络调用或操作都必须在后台线程上完成。

**编辑：**

试试这个`onCreate()`

```
StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
StrictMode.setThreadPolicy(policy); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:01:03.690

我见过有人`AsyncTask`这样执行。`new MyAsyncTask().doInBackground();`而不是`new MyAsyncTask().execute();`. 请确保您不是无意中犯了这个错误。

# windows-7 - Windows 7 服务快捷方式和 Windows 中的不同服务视图

> ID：14931404
> 
> 赞同：8
> 
> 时间：2013-02-18T07:32:26.133
> 
> 标签：windows-7, windows-services

1.  Windows 7 中服务的快捷方式是什么？

2.  我可以通过两种方式获得服务：

    一种。启动任务管理器 > 单击服务选项卡
    b。Windows 资源管理器 - 右键单击​​“计算机”-“管理”-“服务和应用程序”-“服务”

    使用选项 b 我可以启动和停止服务，但使用选项 a - 我不能

    那么两者有什么区别呢？选项 b 有快捷方式吗？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-18T07:44:51.537

在选项 1 中，您可以通过右键单击每个服务来启动/停止服务。

要为服务创建快捷方式，

*   右键单击桌面 -> 新建 -> 选择快捷方式。
*   输入“services.msc”
*   单击下一步，然后单击完成。

另一种方法是，按“Win+R”并输入“services.msc”。

要永久禁用服务，

*   按“赢+R”。
*   键入“msconfig”。转到服务选项卡。
*   取消选中您要禁用的服务。单击“应用”和“确定”。

您可能需要重新启动计算机才能生效。

# php - 当我尝试将脚本包含在另一个目录中时出现错误：为什么会这样？

> ID：14931408
> 
> 赞同：1
> 
> 时间：2013-02-18T07:32:39.750
> 
> 标签：php, namespaces

以下脚本位于名为 的目录中`package_1`：

```
<?php
namespace ashaar;
class Ghazal {
    public function nameIt() {
        echo "Dekh to dil ke jaan se utha hai <br />";
    }
} 
```

并且以下脚本位于名为的目录中`package_2`：

```
<?php
namespace package_1\ashaar;
require 'first.php';
$obj = new Ghazal();
$obj->nameIt(); 
```

当我运行上面的脚本时*（在目录包 2 中）*我得到一个错误：

```
Warning: require(\package_1\first.php): failed to open stream: No such file 
or directory in /opt/lampp/htdocs/package_2/second.php on line 3

Fatal error: require(): Failed opening required '\package_1\first.php'
(include_path='.:/opt/lampp/lib/php') in /opt/lampp/htdocs/package_2/second.php
 on line 3 
```

这是为什么 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:34:43.740

将位置更改为：

```
require '..\package_1\first.php'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:40:46.200

将位置更改为

```
include_once("..\package_1\first.php"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T12:02:17.570

*第一个.php*

```
<?php
namespace ashaar;
class Ghazal {
    public function nameIt() {
        echo "Dekh to dil ke jaan se utha hai <br />";
    }
} 
```

*第二个.php*

```
<?php
namespace ashaar;
require_once('../package_1/first.php');
$obj = new Ghazal();
$obj->nameIt(); 
```

`package_1\ashaar`当您将其包含在内时`first.php`，您做了什么`package_1`。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-18T08:05:55.847

我认为你必须使用这样的命名空间。

首先.php...

```
<?php
namespace package_1\ashaar;
class Ghazal {
    public function nameIt() {
        echo "Dekh to dil ke jaan se utha hai <br />";
    }
} 
```

第二个.php...

```
<?php

namespace package_2;
require '../package_1/first.php';
use package_1\ashaar\Ghazal;

$obj = new Ghazal();
$obj->nameIt(); 
```

请参阅`use`在另一个命名空间中使用代码所必需的关键字。

# css - 任何屏幕分辨率的中心消息框

> ID：14931410
> 
> 赞同：3
> 
> 时间：2013-02-18T07:33:04.517
> 
> 标签：css, styles, center

请帮助我将消息框置于适合任何屏幕分辨率的中心。你能显示我可以使用的 CSS 或样式、边距、左、右吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-18T08:13:07.460

# 水平居中

要使 div 水平居中，您可以使用`margin: auto auto; width: 500px`宽度为您想要的任何宽度的位置。

[JS小提琴](http://jsfiddle.net/andho/bD9vu/)

HTML：

```
<div id="content">
    Some content
</div> 
```

CSS：

```
#content {
    width: 200px;
    margin: auto auto;
    background-color: #CCC;
} 
```

# 固定尺寸的中心屏幕

如果您可以修复内容的高度和宽度，则可以仅使用 css 将 div 水平和垂直居中。这是通过将您的内容包装在另一个 div 中来实现的，然后定位您的内容 div `top: 50%`，然后从中减去它的边距的一半高度：`margin-top: -100px`假设高度为 200 像素。请参见下面的示例：

[JS小提琴](http://jsfiddle.net/andho/6gwPT/)。

HTML：

```
<div id="wrapper">
    <div id="content">
        Some content
    </div>
</div> 
```

CSS：

```
#wrapper {
    position: relative;
    background-color: #EEE;
    width: 200px;
    height: 200px;
    font-size: 10px;
}
#content {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 80px;
    height: 80px;
    margin-top: -40px;
    margin-left: -40px;
    background-color: #DDD;
} 
```

# 假装它是垂直居中的

您也可以给定一个 fixed `margin-top`（或`top`with `position: absolute`），使其在大多数台式机和笔记本电脑屏幕中看起来垂直居中。

[JS小提琴](http://jsfiddle.net/andho/3RfBa/)

HTML：

```
<div id="content">
    Some content
</div> 
```

CSS：

```
#content {
    width: 200px;
    margin: 100px auto;
    background-color: #CCC;
} 
```

# 使用 Javascript

仅使用 css 无法以任意高度垂直居中内容。在这种情况下，您将需要使用 Javascript 来定位 div。：

基本思想是：

*   您在需要显示内容或加载内容时计算内容的高度。
*   然后更改许多 css 属性中的任何一个以将 div 定位在垂直中心。

我个人的偏好是你`position: absolute`与`top`财产一起使用。您也可以使用`margin-top`，但如果页面上有其他内容，您可能不希望此 div 占用盒子模型中的空间。

[JS小提琴](http://jsfiddle.net/andho/bD9vu/)

```
<html>
<head>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(function() {
    var windowWidth = document.documentElement.clientWidth;
    var windowHeight = document.documentElement.clientHeight;
    var el = $('#content');
    var elWidth = el.width();
    var elHeight = el.height();

    el.css({
        position: 'absolute',
        top: (windowHeight / 2) - (elHeight / 2),
        left: (windowWidth / 2) - (elWidth / 2),
    });
});
</script>
<style>
#content {
    width: 200px;
    height: 200px;
    background-color: #CCC;
}
</style>
</head>
<body>
<div id="content">
    Some content
</div>
</body>
</html> 
```

# 使用许多可用的 Javascript“插件”中的任何一个

网络上有大量的 CSS 框架，它们提供了我们在大多数网站上使用的样板 CSS。其中一些还有助于解决小型 Javascript 插件的此类常见演示问题。就我个人而言，我知道[Twitter Bootstrap](http://twitter.github.com/bootstrap/)提供了一个[Modal 插件](http://twitter.github.com/bootstrap/javascript.html#modals)，您可以将其用于此目的。还有许多 jQuery 插件仅用于将页面中的内容居中。

# 结论

尽管有很多选择可以实现这一点，但我很遗憾地看到 CSS 仍然不支持这样做。也许在不同的情况下很难做到，我不知道。从我上面提到的选项中，我认为 Javascript 选项是最通用的，并且以今天的浏览器速度，以及没有人会在他们的浏览器上禁用 Javascript 的可能性，这将是最好的方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-04T22:36:36.307

[我刚刚在CSS 技术](http://dhirajkumarsingh.wordpress.com/2013/12/01/css-techniques-absolute-horizontal-and-vertical-centering-in-css/)页面上阅读了如何做一个之后才看到这一点。

基本上，定义一点 CSS：

```
.Absolute-Center {
  margin: auto;
  position: absolute;
  top: 0; left: 0; bottom: 0; right: 0;
} 
```

## 优点：

*   跨浏览器（包括IE8-10）

*   没有特殊的标记，最少的样式

*   响应百分比和最小值/最大值

*   使用一个类来居中任何内容

我没有时间测试它，但我想在这里发布它，希望它可以帮助其他人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:36:29.920

这是您正在搜索的内容[http://tutorialzine.com/2010/03/centering-div-vertically-and-horizo​​ntally/](http://tutorialzine.com/2010/03/centering-div-vertically-and-horizontally/)

您可以使用 jquery 轻松实现！或者使用本网站提供的 CSS 解决方案！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:37:05.363

您应该向我们提供您尝试过的代码。假设您有如下 HTML 代码：

```
<div id="message">
   Hello World!
</div> 
```

CSS 代码：

```
#message {
   width: 100px;
   height: 100px;
   margin: 50px auto;
} 
```

然后，您的消息框将距离屏幕顶部 100x100 和 50px，并自动与屏幕中心对齐。

# javascript - 延迟 Javascript 或 div 直到页面加载

> ID：14931412
> 
> 赞同：1
> 
> 时间：2013-02-18T07:33:05.900
> 
> 标签：javascript, html, settimeout, delay, pageload

我一直在寻找解决方案，尝试了一些建议，但似乎没有一个适用于我拥有的脚本或无法正确理解解决方案，因此希望有人可以提供帮助。

在 head 标签中，我有下面的 javascript 脚本。它将页面上的第 8 个 div 从底部向上滑动到页面中。但是，当您访问该页面时，您可以快速浏览一下该 div（文本块）在其结束位置的内容，然后再滑入该页面。如何摆脱这种快速预览并在加载主图像时让文本块 div 滑入？

网站链接：http: [//www.estilosalon.com.au/estilo-salon-philosophy2.html](http://www.estilosalon.com.au/estilo-salon-philosophy2.html)

```
<script type="text/javascript">
i=-700;
var c;
function f(){
    c=setInterval(function(){inv()},5)
}
function inv()
{
    if(i!=0)
    {
        i+=5;
        document.getElementsByTagName("div")[8].style.bottom=i+"px";
    }
    else
    {
        clearInterval(c);
        document.getElementsByTagName("button")[0].parentNode.removeChild(document.getElementsByTagName("button")[0]);
    }
}
</script> 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:27:15.310

您可以尝试以下方法：

`<html>`当没有 js 时，将一个类添加到您的标签中作为后备：

```
<html xmlns="http://www.w3.org/1999/xhtml" class="no-js"> 
```

通过将此代码放在行之前，将类替换为`no-js`类`js``i=-700;`

```
var html = document.documentElement;
html.className=html.className.replace(/\bno-js\b/,'') + 'js'; 
```

将此添加到您的样式表

```
html.js #text_box_philosophy{
    bottom: -700px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:13:52.167

您可以将函数附加到主体的加载事件`<body onload="f()">`并将 div[8] 设置为`display: none`您的 css 中，然后将其设置为`document.getElementsByTagName("div")[8].style.display = "block"`in `f()`。

但是，我会强烈考虑使用 jQuery 和该[`$().animate`](http://api.jquery.com/animate/)函数来为 div 设置动画，为 div 分配一个 id（如果`div`在它之前添加更多元素，您的代码将中断），并使用 jQuery 的`$(document).ready()`函数来触发初始代码而不是使用`<body onload="">`. 采取这些步骤将有助于您的代码在多个浏览器中统一执行。

# android - 如何使用图像滑块在 android 中实现类似画廊视图并在 android 中查看 Pager

> ID：14931413
> 
> 赞同：0
> 
> 时间：2013-02-18T07:33:07.727
> 
> 标签：android, android-layout, android-widget, android-viewpager, android-gallery

海我在可绘制文件夹中有图像列表。我需要实现图像从左到右一一滑动。当用户单击任何一个图像时，我需要显示大图像。我在单击时遇到问题显示大图像的监听器。下面我发布了代码和屏幕截图我需要的是任何人都可以帮助我。

```
 public class MainActivity extends Activity {

LinearLayout myGallery;

public final Integer[] mThumbIds = { R.drawable.blue_snow_icon,
        R.drawable.coffee_fireworks_icon, R.drawable.blue_snow_icon,
        R.drawable.coffee_fireworks_icon, };
ImageView img;
HorizontalScrollView scrool;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    myGallery = (LinearLayout) findViewById(R.id.mygallery);
    scrool = (HorizontalScrollView) findViewById(R.id.horizantalScrool);
    scrool.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            Toast.makeText(MainActivity.this, v.getId(), 
                  Toast.LENGTH_SHORT)
                    .show();

        }
    });

    img = (ImageView) findViewById(R.id.imageView1);
    for (int i = 0; i < mThumbIds.length; i++)
        myGallery.addView(insertPhoto(mThumbIds[i]));
}

View insertPhoto(Integer mThumbIds2) {
    Bitmap bm = decodeSampledBitmapFromUri(this.getResources(), mThumbIds2,
            220, 220);

    LinearLayout layout = new LinearLayout(getApplicationContext());
    layout.setLayoutParams(new LayoutParams(250, 250));
    layout.setGravity(Gravity.CENTER);

    ImageView imageView = new ImageView(getApplicationContext());
    imageView.setLayoutParams(new LayoutParams(220, 220));
    imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
    imageView.setImageBitmap(bm);
    imageView.setId(mThumbIds2);
    imageView.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
        }
    });

    layout.addView(imageView);
    return layout;
}

public Bitmap decodeSampledBitmapFromUri(Resources res, Integer resId,
        int reqWidth, int reqHeight) {

    // First decode with inJustDecodeBounds=true to check dimensions
    final BitmapFactory.Options options = new BitmapFactory.Options();
    options.inJustDecodeBounds = true;
    BitmapFactory.decodeResource(res, resId, options);

    // Calculate inSampleSize
    options.inSampleSize = calculateInSampleSize(options, reqWidth,
            reqHeight);

    // Decode bitmap with inSampleSize set
    options.inJustDecodeBounds = false;
    return BitmapFactory.decodeResource(res, resId, options);
}

public int calculateInSampleSize(

BitmapFactory.Options options, int reqWidth, int reqHeight) {
    // Raw height and width of image
    final int height = options.outHeight;
    final int width = options.outWidth;
    int inSampleSize = 1;

    if (height > reqHeight || width > reqWidth) {
        if (width > height) {
            inSampleSize = Math.round((float) height / (float) 
                                                                         reqHeight);
        } else {
            inSampleSize = Math.round((float) width / (float) 
                                        reqWidth);
        }
    }

    return inSampleSize;
}

  }

  and my xml file

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<HorizontalScrollView
    android:id="@+id/horizantalScrool"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >

    <LinearLayout
        android:id="@+id/mygallery"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal" />
</HorizontalScrollView>

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="300dp"
    android:layout_height="300dp"
    android:layout_below="@+id/horizantalScrool"
    android:src="@drawable/ic_launcher" />

   </RelativeLayout> 
```

![当我单击顶部图像时，我需要显示大图像，如下面的屏幕所示](../Images/e595a14e1216713593ac0c9d2803e1b3.png)

当我单击顶部图像时，我需要显示大图像，如下面的屏幕所示。谁能帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-29T14:49:15.437

```
img = (ImageView) findViewById(R.id.imageView1);
imageView.setOnClickListener(new OnClickListener() {
@Override
public void onClick(View v) {
    img.setImageBitmap(bm);
    img.setId(mThumbIds);
} 
```

# jquery - 如果使用浮动 CSS 属性，JQueryUI 手风琴将不会调整大小

> ID：14931414
> 
> 赞同：0
> 
> 时间：2013-02-18T07:33:15.790
> 
> 标签：jquery, css, jquery-ui

我正在尝试使用 JQuery UI 创建手风琴。我使用了一种布局，其中手风琴向左浮动，而另一个侧边栏向右浮动。（见下面的小提琴：http: [//jsfiddle.net/MEJYu/](http://jsfiddle.net/MEJYu/)）

```
#container {
    border: 1px solid black;
    width:50%;
    height:100%;
}

#accordion {
    float:left;
}

#sidebar { 
    float:right;
} 
```

当我使用 float 或 display:table/table-cell 配置时，手风琴不会正确调整大小以适应父 div。（我正在使用 heightStyle:fill）。

当我取消浮动属性时，手风琴按预期显示。

有谁知道我做错了什么？

谢谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:07:59.873

您必须设置属性 autoHeight。设置为真。

```
$("#accordion").accordion({autoHeight: true}) 
```

[http://jsfiddle.net/MEJYu/3/](http://jsfiddle.net/MEJYu/3/)

# html - 使用 li + li 进行导航分隔符清除 第一项后的背景

> ID：14931418
> 
> 赞同：0
> 
> 时间：2013-02-18T07:33:54.567
> 
> 标签：html, css

我正在使用 a 进行水平导航，并且感谢问题：[Separators For Navigation](https://stackoverflow.com/questions/5688791/separators-for-navigation/5688928)，我读到了一种使用`li + li`（伪？）选择器设置基于图像的项目分隔符的好方法。

在我的代码中，我为`<li>`标签定义了一个背景图像，但是一旦我添加了`li + li`代码，分隔符就会出现，但是第`li`一个标签之后的所有标签的背景都消失了。如果我删除`#nav-items li+li`代码，所有项目的背景都会恢复（但显然我没有分隔符）

（截屏） ![列表项背景消失的截图](../Images/39ebf7cc3dc1aff3dfd6fc8b47f3b038.png)

我的代码如下所示：

```
<ul id="nav-items">
  <li class="nav-item"><a href="#" title="Home">Home</a></li>
  <li class="nav-item"><a href="#" title="About Us">About Us</a></li>
  etc...
</ul> 
```

和我的CSS：

```
#nav-items {
    list-style-type: none;
}

.nav-item {
    display: list-item; 
    float:left;
    width: 150px;
    height: 39px;
    background: url('../images/top-nav-bg.png');
    background-repeat: repeat-x;
    padding: 9px 20px;
    color: #fff;
    font-family: 'Oxygen', sans-serif;
    letter-spacing: 1px;
    font-weight: 300;
}

#nav-items li+li {
    background:url('../images/top-nav-separator.png') no-repeat top left; 
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:21:15.117

```
#nav-items li+li:before{
    background:url('../images/top-nav-separator.png') no-repeat top left; 
    content:"";
    position:absolute;
    left:0;
    top:0;
    display:block;
    width:3px   /* your image width */
    height:57px   /* your image height */
} 
```

# java - 使用 Izpack 将用户输入文件类型复制到安装目录中的某个位置

> ID：14931426
> 
> 赞同：1
> 
> 时间：2013-02-18T07:34:33.407
> 
> 标签：java, izpack

我使用 IZpack 创建了一个安装程序。

现在我们需要获取一些文件作为用户输入并放在安装目录中的某个位置。

我在互联网上搜索了很多，但不知道如何处理文件类型用户输入以在安装时复制到安装目录中。

我真的很感激，如果有人做过类似的事情。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:38:59.610

使用 IZPack 的[自定义操作](http://izpack.org/documentation/custom-actions.html)功能，它允许在安装期间运行任意预打包的 Java 代码。您将能够弹出自己的输入对话框，获取用户输入并在需要的地方进行复制。

# ios - 在 iOS / Cydia 上运行应用程序“作为服务”

> ID：14931427
> 
> 赞同：3
> 
> 时间：2013-02-18T07:34:35.457
> 
> 标签：ios, service, background, jailbreak, cydia

我目前正在尝试创建一个应该在后台运行的小应用程序。它应该从系统或跳板开始并运行直到设备关闭。我搜索了那里的教程，但没有发现任何真正有用的东西。如果有人能帮助我，那就太好了。

此致

**编辑**：我确信在为应用商店设计的应用中不可能，但我正在寻找一种适用于越狱设备的变体。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T09:45:18.430

[ColinE 的回答是错误的](https://stackoverflow.com/a/14931454/119114)。[SuperDev 是正确的](https://stackoverflow.com/a/14960826/119114)。你当然可以在 iOS 上创建服务，就像在 OS X 上一样。

作为另一个参考，我在这个主题上找到的最好的教程是[Chris Alvares 的关于创建 iOS Launch Daemon 的博客文章](http://chrisalvares.com/blog/7/creating-an-iphone-daemon-part-1/)。（*Launch Daemon*是您所描述的正确 iOS 术语）

[您可以在Apple Docs](http://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html) for Launch Daemons中找到其他有用的信息，或者搜索**OS X**信息，而不仅仅是 iOS，它需要越狱（因此使用较少）。

Cydia 有很多应用程序是启动守护程序，或者包含启动守护程序（可能除了 UI 应用程序之外）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T15:13:35.217

你读过启动守护进程吗？你可以使用其中之一。一个很棒的 cydia 开发人员[rpetrich](http://github.com/rpetrich/)没有跟踪一个例子。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T07:37:03.230

这是不可能的，您不能创建“服务”类型的应用程序：

[iOS：让应用程序像服务一样运行](https://stackoverflow.com/questions/11044095/ios-keep-an-app-running-like-a-service)

这是设计使然。Apple 会限制您的应用程序的功能，以确保良好的用户体验。如果每个人都可以创建后台服务，它很快就会降低用户的手机速度——就像一台 Windows PC！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:37:28.577

你试过阅读`Mobile Substrate`吗？它让您可以为跳板构建扩展。这样你就可以在后台运行应用程序。

# java - 需要帮助更改我的标签主机的背景颜色

> ID：14931435
> 
> 赞同：0
> 
> 时间：2013-02-18T07:35:13.583
> 
> 标签：java, xml, colors, tabs

我一直在尝试更改选项卡主机中选项卡的背景颜色但未能成功，我对 java 非常陌生（实际上编码很好）并且对此感到困惑。任何简明的帮助都非常感谢。

活动代码（其中一些）

```
@SuppressWarnings("unused")
Resources res = getResources();     // Resource object to get Drawables    
TabHost tabHost = getTabHost();     // The activity TabHost   
TabHost.TabSpec spec;                   Intent intent;                      

// Create an Intent to launch an Activity for the tab (to be reused)    
intent = new Intent().setClass(this, jobActivity.class);    

// Initialise a TabSpec for each tab and add it to the TabHost    
spec = tabHost.newTabSpec("job").setIndicator(" Job Details ")                   

        .setContent(intent);    
tabHost.addTab(spec); 
```

和相关的 XML 文件

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@color/background_color">
<TabHost 
android:id="@android:id/tabhost"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
>

    <LinearLayout        
    android:orientation="vertical"        
    android:layout_width="fill_parent"        
    android:layout_height="fill_parent"        
    android:padding="5dp"
    > 
       <HorizontalScrollView 
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:fillViewport="true"
            android:scrollbars="none"
            >

            <TabWidget
                android:id="@android:id/tabs"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                />

     </HorizontalScrollView>
            <FrameLayout            
            android:id="@android:id/tabcontent"           
            android:layout_width="wrap_content"       
            android:layout_height="fill_parent" 
            android:padding="5dp"
           >  

         </FrameLayout>
     </LinearLayout>

</TabHost>
</LinearLayout> 
```

对于某人来说，这应该是一个很好的简单答案；我希望！

提前谢谢了

****** *** ** *** ****编辑 - 已更新但仍无法正常工作的代码***** ** *** ** *** ** *** ****** 现在有了以下工作代码 - 但似乎 setTabColors 方法不起作用（甚至当然，因为它被称为日志的注释从未见过）**

 **```
 public class EPCTabNotesActivity extends TabActivity{

public static final String LOG_TAG = "dbtest";

 public void onCreate(Bundle savedInstanceState) {   
super.onCreate(savedInstanceState);    

setContentView(R.layout.maintab);    

@SuppressWarnings("unused")
Resources res = getResources();     // Resource object to get Drawables    
TabHost tabHost = getTabHost();     // The activity TabHost   

TabHost.TabSpec spec;               
Intent intent;                          

// Create an Intent to launch an Activity for the tab (to be reused)    
intent = new Intent().setClass(this, jobActivity.class);    

// Initialise a TabSpec for each tab and add it to the TabHost    
spec = tabHost.newTabSpec("job").setIndicator(" Job Details ")                   

        .setContent(intent);  

tabHost.addTab(spec);    

// Do the same for the other tabs    

// ..... More tabs

      setTabColors(tabHost);    // need to call setTabColors AFTER all the tabs are added to     thetab spec, else the For loop fails as its empty (therefore = 0)
tabHost.setCurrentTab(0);

}

private void setTabColors(TabHost tabHost) {
// TODO Auto-generated method stub
for(int i=0;i<tabHost.getTabWidget().getChildCount();i++)
{   
      tabHost.getTabWidget().getChildAt(i).setBackgroundColor(Color.RED); //unselected tab

      Log.v(LOG_TAG,    "tab color " );
}
 }
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:09:22.103

你可以试试这个：

```
 tabHost.getTabWidget().getChildAt(i).setBackgroundColor(Color.RED); 
```

i ：指要设置颜色的选项卡。例如：下面的片段将改变第一个选项卡的颜色。

```
 tabHost.getTabWidget().getChildAt(0).setBackgroundColor(Color.RED); 
```

将此代码放在活动文件中。**

# c# - TableLayoutPanel 因自动调整大小和/或嵌套 TableLayoutPanel 而变慢？

> ID：14931455
> 
> 赞同：1
> 
> 时间：2013-02-18T07:37:04.733
> 
> 标签：c#, winforms, tablelayoutpanel

我有一些 TableLayoutPanel，其中第一个“层”有 1 列和 10 行，其中一些行包含 UserControl 或另一个具有 2 或 3 列和一些行的 TableLayoutPanel。其中一两个包含另一个 TableLayoutPanel，但仅此而已。因此，嵌套 TableLayoutPanel 最多有 3 个“级别”。其中大部分设置为自动调整大小，因为某些 UserControls 可能会更改其大小。当包含这样一个嵌套 TableLayoutPanel 的表单时，UserControls “闪烁”，看起来它们加载非常缓慢。

*   我是否使用了太多的自动调整大小？
*   还是我的面板太嵌套了？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T22:18:38.003

我认为闪烁与“自动调整大小”或“嵌套面板”无关。

请参考另一个“SO”链接：[如何避免在 c#.net 中的 TableLayoutPanel 中闪烁](https://stackoverflow.com/questions/6677533/how-to-avoid-flickering-in-tablelayoutpanel-in-c-net)

暂停布局，直到您添加了所有控件。

```
TableLayoutPanel panel = new TabelLayoutPanel();

panel.SuspendLayout();

// NOW add controls (including nested-controls) -- do autosizing etc

panel.ResumeLayout(); 
```

还要看看使用双缓冲。您必须创建`TableLayoutPanel`. 看一个[例子](http://www.richard-banks.org/2007/09/how-to-create-flicker-free.html)。

希望这可以帮助。

# iphone - 如何为具有不同背景颜色的两列自定义 UITableView？

> ID：14931457
> 
> 赞同：0
> 
> 时间：2013-02-18T07:37:07.157
> 
> 标签：iphone, uitableview, border, customization

我为具有不同背景颜色和背景图像的两列自定义了 UITableView。

我使用了三张图片，第一张图片是顶部单元格 bg，第二张是中间单元格 bg，第三张是底部单元格 bg 用于圆形边框。

但是列中的文本内容可以是多行的，并且表格必须有圆形矩形边框。

请参阅示例图像。

![我想实现这个表](../Images/156f780c20f12b815201b0adaa4031d4.png)

我尝试为此自定义单元格。但是第一个和圆形单元格没有圆形边框。

请参阅自定义单元格图像。（它没有圆形边框。）

![自定义单元格，但没有圆形边框](../Images/eb592369f690d75e0892fde39e19fd2c.png)

如何在不使用多个背景图像的情况下自定义 UITableViewCell 以实现该图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:39:14.750

您可以简单地使用自定义 UITableViewCell

检查本教程： http: [//www.appcoda.com/customize-table-view-cells-for-uitableview/](http://www.appcoda.com/customize-table-view-cells-for-uitableview/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:40:09.527

创建自定义 UITableViewCell 并按照您的意愿制作并更改大小并使用文本标签。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:04:36.150

嘿，请查看以下场景以获取更多信息。

检查此屏幕截图。

![在此处输入图像描述](../Images/7e7c133b0b93794f1994f5ac9a61110d.png)

和代码风格一样。

两个 Imageview 和两个 UIlabels 在每个单元格内。

所以需要创建一个自定义单元格并添加到 UITableView 中，

请查看此自定义单元格有用链接：[博客链接](http://jainmarket.blogspot.in/2009/05/creating-custom-table-view-cell.html)

如果您需要更多与代码相关的信息，请告诉我。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:41:57.307

您可以创建一个扩展类 UITableViewCell 的自定义类。使用所需的框架在其中插入两个图像视图。使它们成为一个属性，然后在方法**cellForRowAtIndexpath:**中为它们分配预期的图像或背景颜色。如果您只需要提供不同的背景颜色而不是图像，则无需使用 UIImageView。一个简单的 UIView 也将完成任务

# android - Android 菜单溢出但不是操作栏

> ID：14931460
> 
> 赞同：0
> 
> 时间：2013-02-18T07:37:31.833
> 
> 标签：android, menu, overflow, android-actionbar, visibility

关于如何让我的应用程序在 android 3.0+ 上运行的任何指针仅在溢出栏上而不在操作栏上显示旧菜单？

一直试图在网上找到这个，但没有结果！

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:44:26.640

您可以使用`showAsAction`属性 for`MenuItem`并将其设置`never`为将菜单项放置在溢出菜单中。

# c# - MVVM 的通用接口

> ID：14931463
> 
> 赞同：2
> 
> 时间：2013-02-18T07:37:45.053
> 
> 标签：c#, mvvm, interface

嗨，如果我错过了一些有用的界面，有人可以告诉我吗？有缺点吗？

**对于模型：**

*   `IEditableObject`
*   `IClonable`
*   `INotifyPropertyChanging`,`INotifyPropertyChanged`如果后端有一些模型更新
*   ？？？

**对于视图模型：**

*   `INotifyPropertyChanging`
*   `INotifyPropertyChanged`
*   `IDataErrorInfo`
*   `IDisposable`
*   ？？？

**对于视图：**

*   ？？？（我听说过`IView (DataContext {set;})`）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:42:40.573

是的，您拥有框架本身提供的所有通用接口。这些应该足以让您成为 MVVM 忍者！

如果您需要其他任何东西，我建议您在需要时创建自己的接口。

关于一般接口，请参阅我回答的相关问题：

[我担心我添加了太多接口](https://stackoverflow.com/questions/8944229/im-worried-im-adding-too-many-interfaces)

> 如果我创建一个`IView`接口，我会单独通过该接口引用我的类吗？即是否会有我纯粹通过接口公开的单个属性与我的类交互的上下文？
> 
> 此外，您能否考虑与此`IView`接口的多个实现交互的上下文？
> 
> 如果这两个问题的答案都是“否”，那么界面就没有多大用处。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T07:55:12.773

在 MVVM (ViewModel) 中创建 RelayCommand 是一种常见的做法，您必须在其中实现 ICommand。

# android - onDialogClosed 的 onDialogClosed 监听器

> ID：14931471
> 
> 赞同：0
> 
> 时间：2013-02-18T07:38:30.583
> 
> 标签：android

我有`DialogPreference`对话框实例。我如何在`onDialogClosed`. 我想在`Ok`单击按钮时执行一些代码。

这可能与实例有关`DialogPreference`吗？

我知道我可以做到

```
@Override
protected void onDialogClosed(boolean positiveResult) {
    if (positiveResult) {
      String text=MyEditText.getText();
    }
    else {
     // cancel hit
    }
} 
```

但我没有延长`DialogPreference`。我只是一个例子。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:41:28.090

使用preference.getDialog().setOnDismissListener(listener);

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:41:46.300

如果你有 的实例`DialogPreference`，那么你可以`onPreferenceChangedListener`为`DialogPreference`.

```
myDialogPreference
            .setOnPreferenceClickListener(
                    new OnPreferenceClickListener() {

                        @Override
                        public boolean onPreferenceClick(
                                Preference preference) {
                                // Your code here
                    }); 
```

# iphone - 滚动视图滚动动态图像和垂直/水平滚动，但一次一个

> ID：14931473
> 
> 赞同：4
> 
> 时间：2013-02-18T07:38:45.660
> 
> 标签：iphone, ios, ios6, uiscrollview, uiimageview

我能够通过动态添加图像来实现水平滚动，还可以无限滚动和延迟加载图像。

实际上，对于显示的水平图像如何进行图像的垂直滚动，我有点卡住了。

例如：我从服务器上下载了一些图片，这些是随机图片，这些图片与我服务器上用户的一些相册相关联。

因此，当用户从左到右（水平）滚动时，scrollview 应该显示所有下载的图像，但是当用户向上/向下滚动时，scrollview 应该显示与当前图像专辑相关的其他图像（从水平模式）。假设我下载了图像 1、2、3 和 4。当我向上/向下滚动然后说索引 2 时，它应该显示 2.1、2.2 等，这只是与专辑相关联。

我有垂直和水平屏幕的json。但是，我不确定如何使用专辑视图修改我的当前流程（无限滚动+延迟加载）。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:35:26.373

在水平 ScrollView 中创建垂直 ScrollView。每个垂直的 ScrollView 代表一个专辑。将该相册中的所有图像填充到此垂直 ScrollView。将所有 ScrollView 的方向锁定设置为 yes。整个结构应该如下所示。

```
 -------------      -------------
      |           |      |           |
      |  -------  |      |  -------  |  > Vertical ScrollViews
      |  |     |  |      |  |     |  |     with images inside
      |  |     |  |      |  |     |  |
      |  |     |  |      |  |     |  |
      |  |     |  |      |  |     |  |
      |  -------  |      |  -------  | 
      |           |      |           |
-------------------------------------------------------------------------------
|     |           |      |           |                                        |
|     |  -------  |      |  -------  |                                        |
|     |  |     |  |      |  |     |  |                                        |
|     |  |     |  |      |  |     |  |                                        |
|     |  |     |  |      |  |     |  |            Horizontal ScrollView       |
|     |  |     |  |      |  |     |  |            with vertical Scrolls       |
|     |  -------  |      |  -------  |                                        |
|     |           |      |           |                                        |
|     -------------      -------------                                        |
------------------------------------------------------------------------------- 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-18T07:51:40.080

为了解决这个问题，您必须为水平滚动创建触摸方法并根据触摸更新垂直滚动Scrollview数据。如果您需要，我还发布了一些代码提示。

```
 if(CGRectContainsPoint([imgView frame], [touch locationInView:scrollView]))
    {
        [self ShowDetailView:imgView];
        break;
    }
} 
```

}

```
-(void)ShowDetailView:(UIImageView *)imgView

{

 selectOther_ImageView.image = imgView.image;       
} 
```

# c++ - 有没有办法将一块分配的内存标记为只读？

> ID：14931477
> 
> 赞同：52
> 
> 时间：2013-02-18T07:39:08.720
> 
> 标签：c++, c, memory-management, malloc, heap-corruption

如果我分配一些内存使用`malloc()`有没有办法将它标记为只读。那么如果有人尝试写入 memcpy() 会失败吗？

这与错误的 api 设计有关，在这种设计中，用户错误地使用了一个方法返回的 const 指针，该方法 `GetValue()`是大内存结构的一部分。由于我们希望避免复制大块内存，因此我们在具有特定格式的结构化内存中返回实时指针。现在的问题是，一些用户发现黑客可以通过直接写入该内存并避免 SetValue() 调用来进行分配并正确处理我们开发的内存二进制格式。尽管有时会发生黑客攻击，但有时会由于对已被用户覆盖的控制标志的错误解释而导致内存访问冲突。

教育用户是一项任务，但现在让我们说我们希望那里的代码失败。

我只是想知道我们是否可以简单地防止这种情况。

打个比方，假设有人从 sqlite 语句中得到一个 blob 列，然后写回它。虽然在 sqlite 的情况下它没有意义，但在我们的情况下这有点发生。

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2013-02-18T07:43:06.470

在大多数硬件架构上，您只能更改整个[内存页面](http://en.wikipedia.org/wiki/Page_%28computer_memory%29)的保护属性；您不能将页面的片段标记为只读。

相关的 API 是：

*   [`mprotect()`](http://linux.die.net/man/2/mprotect)在 Unix 上；
*   [`VirtualProtect()`](http://msdn.microsoft.com/en-us/library/aa366898%28VS.85%29.aspx)在 Windows 上。

您需要确保内存页面不包含您不想设为只读的任何内容。为此，您要么必须使用 过度分配，要么使用不同的分配 API ，`malloc()`例如或。`mmap()``posix_memalign()``VirtualAlloc()`

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2013-02-18T07:44:26.280

取决于平台。在 Linux 上，您可以使用 mprotect() ( [http://linux.die.net/man/2/mprotect](http://linux.die.net/man/2/mprotect) )。

在 Windows 上，您可以尝试 VirtualProtect() ( [http://msdn.microsoft.com/en-us/library/windows/desktop/aa366898(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366898(v=vs.85).aspx) )。不过我从来没用过。

编辑：这不是 NPE 答案的重复。NPE 最初有不同的答案；后来对其进行了编辑，并添加了 mprotect() 和 VirtualProtect()。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-19T13:08:12.707

> 错误的 api 设计，其中用户未使用 GetValue() 方法返回的 const 指针，该方法是大型内存结构的一部分。由于我们希望避免复制大块内存，因此我们在具有特定格式的结构化内存中返回实时指针

这*显然*不是一个错误的 API 设计。API 是一种契约：您承诺您的类将以特定方式运行，该类的客户承诺以适当的方式使用 API。像这样的肮脏技巧`const_cast`是不恰当的（在某些但并非所有情况下，具有[未定义的行为](https://stackoverflow.com/q/11053982/545127)）。

如果使用导致安全问题，那*将是错误的 API 设计。*`const_cast`在这种情况下，您**必须**复制内存块，或重新设计 API。[这是 Java 中的规范](https://stackoverflow.com/a/12000702/545127)，它[没有等效于`const`](https://stackoverflow.com/q/2735736/545127)(尽管`const`是 Java 中的保留字)。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-07-09T23:02:40.747

混淆指针。即返回给客户端的指针加上一个偏移量，现在他们不能直接使用指针。每当指针通过官方 API 传递给您的代码时，减去偏移量并照常使用指针。

# java - 是否可以制作一个在拍摄照片的同时录制音频的 Android 应用程序？

> ID：14931481
> 
> 赞同：1
> 
> 时间：2013-02-18T07:39:40.730
> 
> 标签：java, android, windows, audio, camera

我在某处读到，在 Android 手机上使用相机功能时仍然无法录制音频。但是这个来源有点过时了。我也读过，这在 Iphone 上是可能的。但我需要这个功能才能让 Android 创建一个应用程序。

有人可以说更多吗？Android上是否有可能将其存档在应用程序中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:47:54.630

我不明白为什么不。它们不共享相同的硬件。即使没有，您也可以通过录制视频（也录制声音）并仅将视频的第一张静止图像作为您的照片来轻松伪造它。

# iphone - 如何在 iOS 6 中获取压缩视频的原始音量

> ID：14931488
> 
> 赞同：6
> 
> 时间：2013-02-18T07:40:16.660
> 
> 标签：iphone, objective-c, ios6, mpmovieplayercontroller, avfoundation

我正在使用下面的代码来压缩视频。

```
- (void)convertVideoToLowQuailtyWithInputURL:(NSURL*)inputURL
                                   outputURL:(NSURL*)outputURL
                                     handler:(void (^)(AVAssetExportSession*))handler
{

    [[NSFileManager defaultManager] removeItemAtURL:outputURL error:nil];
    AVURLAsset *asset = [AVURLAsset URLAssetWithURL:inputURL options:nil];
    AVAssetExportSession *exportSession = [[AVAssetExportSession alloc] initWithAsset:asset presetName:AVAssetExportPresetMediumQuality];
    exportSession.outputURL = outputURL;
    exportSession.outputFileType = AVFileTypeQuickTimeMovie;

    [exportSession exportAsynchronouslyWithCompletionHandler:^(void)
     {

         if (exportSession.status == AVAssetExportSessionStatusCompleted)
         {

             printf("completed\n");
             NSLog(@"outputurl is %@",outputURL);

         }
         else
         {
             printf("error\n");
             NSLog(@"error is %@",exportSession.error);

         }

     }];

} 
```

压缩后视频在 iOS6 中的声音非常低，但在 iOS 5 中我得到了完整的原始音量，那么如何在 iOS 6 中获得原始音量。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T06:58:12.983

iOS 6 有一些声音问题。希望下面的 URL 可以帮助你。

[https://discussions.apple.com/thread/4339660?start=90&tstart=0](https://discussions.apple.com/thread/4339660?start=90&tstart=0)

# python - 如何访问python函数内部声明的变量

> ID：14931491
> 
> 赞同：0
> 
> 时间：2013-02-18T07:40:22.037
> 
> 标签：python, function, variables, configparser

我有以下代码读取配置文件并将结果作为列表存储在一些变量中

```
import ConfigParser

def read_config_file():
    config = ConfigParser.ConfigParser()
    cnf_path = 'config_files/php.sr'
    config.read(cnf_path)
    if config.has_section('basic'):
        if config.has_option('basic', 'basic'):
            php_bsc_mdls = config.get('basic', 'basic').split(',')
    if config.has_section('advance'):
        if config.has_option('advance','advance'):
            php_adv_mdls = config.get('advance', 'advance').split(',') 
```

现在我想获取结果变量`php_bsc_mdls`并`php_adv_mdls`从函数中获取类似`read_config_file.php_bsc_mdls`或`read_config_file.php_adv_mdls`

那么是否可以从 python 函数访问/获取变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:42:34.423

你只需要退回它们。当函数结束时，它们不再存在。

```
def read_config_file():
    config = ConfigParser.ConfigParser()
    cnf_path = 'config_files/php.sr'
    config.read(cnf_path)
    if config.has_section('basic'):
        if config.has_option('basic', 'basic'):
            php_bsc_mdls = config.get('basic', 'basic').split(',')
    if config.has_section('advance'):
        if config.has_option('advance','advance'):
            php_adv_mdls = config.get('advance', 'advance').split(',')

    if php_bsc_mdls and php_adv_bls:
        return php_bsc_mdls,php_adv_mdls
    elif php_bsc_mdls:
        return php_bsc_mdls, None 
```

其他方法是将它们保存到类变量中的类。然后从类而不是函数中获取这些值。

或者像这样：

```
def read_config_file():
    php_bsc_mdls = None
    php_adv_mdls = None
    config = ConfigParser.ConfigParser()
    cnf_path = 'config_files/php.sr'
    config.read(cnf_path)
    if config.has_section('basic'):
        if config.has_option('basic', 'basic'):
            php_bsc_mdls = config.get('basic', 'basic').split(',')
    if config.has_section('advance'):
        if config.has_option('advance','advance'):
            php_adv_mdls = config.get('advance', 'advance').split(',')

    return php_bsc_mdls, php_adv_mdls 
```

无论哪种情况，您都需要在调用函数的位置检查返回值。如果这些值是无或不是。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:00:05.190

```
def read_config_file():
  php_bsc_mdls, php_adv_mdls = None, None # Init to None.
  ...
  return php_bsc_mdls, php_adv_mdls # Return at end.

# Get results
basic, advanced = read_config_file() 
```

或者，您可以为此开设一个课程。

```
class Config:
  php_adv_mdls = None
  php_bsc_mdls = None
  @staticmethod
  def read_config_file():
    if not Config.php_adv_mdls and not Config.php_bsc_mdls:
      # Load the data here.
      config = ConfigParser.ConfigParser()
      ...
      Config.php_adv_mdls = config.get...
      Config.php_bsc_mdls = config.get... 
```

使用类变量和静态方法*一次*加载您的配置文件。

```
Config.php_adv_mdls # None
Config.read_config_file() # Loads the data from config.
Config.read_config_file() # Will only attempt another load if either 
                          # class variable in not valid.
Config.php_bsc_mdls       # If successful, will be initialize with data. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:33:14.067

正如人们所说，这样做是合理的。

但...

在 python 中，函数是对象，所以你可以这样做：

```
def a():
    a.x = 10

a()
print a.x    # >> 10 
```

最后一个虽然不是好的代码示例，但在这种情况下。

# jquery - 自动完成多个字段值

> ID：14931493
> 
> 赞同：1
> 
> 时间：2013-02-18T07:40:30.607
> 
> 标签：jquery, autocomplete

一般来说，我对 Jquery 的经验有限，这是我第一次尝试使用自动完成功能。我已经按照下面定义了就绪事件（请注意，我在示例中使用了虚拟 url）。

```
 $(document).ready(function() {
    $("#ELEMENTID").autocomplete({
    source: "example.asp",
    minLength: 3
    });
 }); 
```

如果我的 example.asp 返回一个简单的数组：`["val1", "val2", val3"]`

这很好用，ID为“ELEMENTID”的文本框也会相应更新。我实际上将其用作郊区/邮政编码/州验证器。用户将进入郊区，在做出选择后，我还想自动填充邮政编码和郊区字段。如何在我的 example.asp 中传递这些额外的值，以及

然后，我如何通过拨打电话的页面访问它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:11:24.637

您可以像这样准备字典列表：

```
[{"label":"some_label", "value":"val1", "postcode": "some_postcode"},
 {"label":"some_label2", "value":"val2", "postcode": "some_postcode2"},
 {"label":"some_label3", "value":"val3", "postcode": "some_postcode3"}] 
```

并使用[选择事件](http://api.jqueryui.com/autocomplete/#event-select)设置适当的值：

```
$(document).ready(function() {
    $("#ELEMENTID").autocomplete({
        source: "example.asp",
        minLength: 3,
        select: function(event, ui) {
            $('#id_postcode').val(ui.item.postcode);
        }
    });
}); 
```

# sql - 在具有约束的类中选择不同的成员

> ID：14931496
> 
> 赞同：3
> 
> 时间：2013-02-18T07:40:47.883
> 
> 标签：sql, sql-server

我有一个名为“Patients”的表，看起来像这样

> ```
> > PatientName      DateOftest    Eye     L1    L2    L3    L4     L5
> >     Mike         17-02-2009     L      23    25    40    32     30
> >     Mike         17-02-2009     R      25    30    34    35     24
> >     Ryan         18-03-2012     R      12    18    27    39     40
> >     Bill         08-03-2006     L      20    24    30    24     25
> >     Bill         08-03-2006     R      18    25    27    30     24   
> >     Chan         03-08-2009     L      18    21    28    35     12 
> ```

不，我必须从患者只有一个（左眼记录或右眼记录测试）的患者中选择 *.. 结果将是

> ```
> Ryan         18-03-2012     R      12    18    27    39     40
> Chan         03-08-2009     L      18    21    28    35     12 
> ```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:42:51.737

你可以这样做：

```
SELECT *
FROM Patients
WHERE PatientName IN(SELECT PatientName 
                     FROM Patients
                     GROUP BY PatientName 
                     HAVING COUNT(*) = 1); 
```

[**SQL 小提琴演示**](http://www.sqlfiddle.com/#!3/02a0e/1)

这会给你：

```
| PATIENTNAME | DATEOFTEST | EYE | L1 | L2 | L3 | L4 | L5 |
-----------------------------------------------------------
|        Ryan | 18-03-2012 |   R | 12 | 18 | 27 | 39 | 40 |
|        Chan | 03-08-2009 |   L | 18 | 21 | 28 | 35 | 12 | 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:09:01.220

[EXISTS](http://msdn.microsoft.com/en-us/library/ms188336.aspx)运算符的另一种选择

```
SELECT *
FROM Patients p1
WHERE EXISTS (
              SELECT 1
              FROM Patients p2
              WHERE p1.PatientName = p2.PatientName
              HAVING COUNT(*) = 1
              ) 
```

SQLFiddle上的演示[**@Mahmoud**](http://sqlfiddle.com/#!3/0de25/1) Gamal 感谢 DDL Schema；)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:44:15.153

```
SELECT  a.*
FROM    tableName a
        INNER JOIN
        (
            SELECT  PatientName
            FROM    tablename
            GROUP   BY PatientName
            HAVING  COUNT(Eye) = 1
        ) b ON a.PatientName = b.PatientName 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/79c2b/2)

为了获得更快的性能，请添加一个`INDEX`on 列`PatientName`。

`COUNT(Eye)``eye`对于有相同记录但不同的患者会做得最好`DateOftest`。

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/5b8bc/5)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:46:25.093

你可以试试这个

```
SELECT PatientName, 
       DateOftest, 
       MIN(Eye) AS Eye, 
       MIN(L1) AS L1, MIN(L2) AS L2, MIN(L3) AS L3, MIN(L4) AS L4, MIN(L5) AS L5
FROM patients
GROUP BY PatientName, DateOftest
HAVING COUNT(Eye) = 1 
```

结果

```
| PATIENTNAME | DATEOFTEST | EYE | L1 | L2 | L3 | L4 | L5 |
-----------------------------------------------------------
|        Chan | 03-08-2009 |   L | 18 | 21 | 28 | 35 | 12 |
|        Ryan | 18-03-2012 |   R | 12 | 18 | 27 | 39 | 40 | 
```

[sqlfiddle](http://www.sqlfiddle.com/#!3/02a0e/5)

# actionscript-3 - Flex 列集未正确显示

> ID：14931497
> 
> 赞同：0
> 
> 时间：2013-02-18T07:40:50.243
> 
> 标签：actionscript-3, apache-flex, flex4.5, parsley, flex-charts

我正在开发一个图表，其中我需要有多个列集，但 flex 给了我奇怪的结果。我正在使用**欧芹框架**。

这是我的 mxml 代码

```
 <mx:ColumnChart id="columnChart" 
            width="100%" height="100%"
            dataProvider="{myPM.myData}" 
            showDataTips="true"                         
            click="handleChartClick(event)"
            backgroundElements="{backgroundGrids}"                                  
            dataTipFunction="{myPM.formatColumnChartToolTipData}"   
            type="clustered"                            
            >

                <mx:horizontalAxis>
                    <mx:CategoryAxis id="hAxis" 
                             categoryField="{myPM.xFieldLabel}"
                             title="{myPM.xAxisDisplayLabel}"/>
                </mx:horizontalAxis>                                

                <mx:verticalAxis>
                    <mx:LinearAxis id="vAxis" 
                               title="{myPM.yAxisDisplayLabel}"/>
                </mx:verticalAxis>

                <mx:series> 
**works perfecly fine if i change type="clustered"**                
                    <mx:ColumnSet series="{myPM.columnSeries}"                                
                              type="stacked"
                              verticalAxis="{vAxis}"
                                      >
                    </mx:ColumnSet>
                    <mx:ColumnSet>
                        <mx:ColumnSeries xField="{myPM.xFieldLabel}" 
                                 yField="{myPM.yFieldLabel}"
                                 displayName="year"/>
                    </mx:ColumnSet>                                              
                </mx:series>

    </mx:ColumnChart> 
```

在我的演示模型中，我返回列系列，在以下代码中显示

```
public class MyPM
{

public var columnSeries:Array;

public void init()
{
        columnSeries=getColumnSeries();
}
public function getColumnSeries():Array
{
    var series:Array = new Array();
    var columnSeries:ColumnSeries;

    columnSeries=new ColumnSeries();
    //columnSeries.xField=xFieldLabel;
    columnSeries.yField="quarter1_profit_count";
    columnSeries.displayName="quarter1_title";                  
    series.push(columnSeries);

    columnSeries=new ColumnSeries();
    //columnSeries.xField=xFieldLabel;
    columnSeries.yField="quarter2_profit_count";
    columnSeries.displayName="quarter2_title";
    series.push(columnSeries);

    columnSeries=new ColumnSeries();
    //columnSeries.xField=xFieldLabel;
    columnSeries.yField="quarter3_profit_count";
    columnSeries.displayName="quarter3_title";
    series.push(columnSeries);

    columnSeries=new ColumnSeries();
    //columnSeries.xField=xFieldLabel;
    columnSeries.yField="quarter4_profit_count";
    columnSeries.displayName="quarter4_title";
    series.push(columnSeries);

    return series;  

}   
} 
```

The problem i am getting here is "In first column there should be 4 stacked column series but flex drops 1 out of 4 stacked column series ( i am able to see only 3 or 2 columns it drops remaining one). I have debugged my code and the data is coming perfectly fine. If i remove all the column sets and write like then it gives me correct result for the first stacked column. But as i want the second column also which will have summation of all data at one place. for e.g. 1st stacked column will be showing quarterwise profit amounts and the second column i want to have to display total profit throughout the year."

You can see the charts here

**- without using columnsets and binding series directly in definition** ![without using columnsets and binding series directly in <mx:columnchart> definition](../Images/b6ab1a3e2bad5006192d1a633606895a.png) **- as you can see the quarters are dropped here. in both the charts data source is same** ![as you can see the quarters are dropped here. in both the charts data source is same](../Images/83a367afd9e35f884bae2d021e1621aa.png)

> I am not knowing what i am doing wrong here. Any kind of help will be appreciated. Thanks in advance.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-06T10:09:05.577

After a lot of effort i come to the solution. Here is the code for that.

```
public function getColumnSeries():Array
{
    var series:Array = new Array();

    var set1:ColumnSet =new ColumnSet();
    set1.type="stacked";

    var set2:ColumnSet=new ColumnSet();
    set2.type="stacked";

    var columnSeries:ColumnSeries;

    columnSeries=new ColumnSeries();
    //columnSeries.xField=xFieldLabel;
    columnSeries.yField="quarter1_profit_count";
    columnSeries.displayName="quarter1_title";                  
    series.push(columnSeries);

    columnSeries=new ColumnSeries();
    //columnSeries.xField=xFieldLabel;
    columnSeries.yField="quarter2_profit_count";
    columnSeries.displayName="quarter2_title";
    series.push(columnSeries);

    columnSeries=new ColumnSeries();
    //columnSeries.xField=xFieldLabel;
    columnSeries.yField="quarter3_profit_count";
    columnSeries.displayName="quarter3_title";
    series.push(columnSeries);

    columnSeries=new ColumnSeries();
    //columnSeries.xField=xFieldLabel;
    columnSeries.yField="quarter4_profit_count";
    columnSeries.displayName="quarter4_title";
    series.push(columnSeries);

    set1.series=series;

    //similarly for set2

    series=new Array();

    //add columnseries to series 

    set2.series=series;

    var temp:Array=new Array();
    temp.push(set1);
    temp.push(set2);

    return temp;  
} 
```

Also along with this make sure that you calculate max and min values for the y axis otherwise it will not render propery. This was also one of the reason why my chart was not getting displayed in the way i wanted.

Here is the updated markup

```
 <mx:ColumnChart id="columnChart" 
            width="100%" height="100%"
            dataProvider="{myPM.myData}" 
            showDataTips="true"                         
            click="handleChartClick(event)"
            backgroundElements="{backgroundGrids}"                                  
            dataTipFunction="{myPM.formatColumnChartToolTipData}"   
            type="clustered"                            
            series={myPM.series}
            >

                <mx:horizontalAxis>
                    <mx:CategoryAxis id="hAxis" 
                             categoryField="{myPM.xFieldLabel}"
                             title="{myPM.xAxisDisplayLabel}"/>
                </mx:horizontalAxis>                                

                <mx:verticalAxis>
                    <mx:LinearAxis id="vAxis" 
                               title="{myPM.yAxisDisplayLabel}"/>
                </mx:verticalAxis>

    </mx:ColumnChart> 
```

# android - Android的热像仪应用程序？

> ID：14931498
> 
> 赞同：0
> 
> 时间：2013-02-18T07:41:13.307
> 
> 标签：android, camera

我想为android制作热像仪应用程序，但我不知道如何制作。该应用程序看起来像（[热像仪示例](https://play.google.com/store/apps/details?id=com.fingersoft.thermalvisioncamera)）。请帮我怎么做。以及如何开始工作。因为这种类型的应用程序中使用了任何库？我从某个地方找到了这段代码，但我无法理解

```
 NativeYUVDecode.ntialize();
NativeYUVDecode.decodeYUV(Bitmap paramBitmap, int[] paramArrayOfInt, byte[] paramArrayOfByte, int Int1, int Int2, int Int3, int Int4, int Int5, int Int6); 
```

我们会在这个应用程序中使用一个简单的相机库吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:45:38.010

恐怕你在这方面偏离了轨道。

[热像仪](http://en.wikipedia.org/wiki/Thermal_infrared)使用光谱的不同部分，这是典型的 Android 设备所不具备的。

您可能能够实现的最佳效果是能够看到“近红外”（遥控器和夜间运行的 CCD 安全摄像头使用的光，但那不是热红外（“暖”发出的“光”）身体）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:54:26.367

这个应用程序是**假**的，如果没有外部硬件，您就无法拥有真正的热应用程序，类似于使用[红外温度传感器的](http://en.wikipedia.org/wiki/Infrared_thermometer)[IR-Blue](http://www.kickstarter.com/projects/andyrawson/ir-blue-thermal-imaging-smartphone-accessory)

# xml - XPath 表达式查找标签名称包含“名称”的元素

> ID：14931499
> 
> 赞同：27
> 
> 时间：2013-02-18T07:41:25.713
> 
> 标签：xml, xpath, contains

我是 XPath 的新手。

我正在寻找一种方法来获取标签名称包含特定字符串的所有元素。

例如，如果我有像下面这样的 XML，我想获取其标签名称包含单词“名称”的所有元素。即，我想获取以下元素：`<SquareName>`、`<RectangleName>`和`<ParallelogramName>`.

我尝试了 等的一些组合`name()`，`contains()`但没有奏效。请建议。

```
<Objects>
 <Four-Sided>
   <Square>
      <SquareName>ABCD</SquareName>
      <Length>4</Length>
      <Height>4</Height>
      <Colour>Blue</Colour>
   </Square>
   <Rectangle>
      <RectangleName>EFGH</RectangleName>
      <Length>10</Length>
      <Height>6</Height>
      <Colour>Brown</Colour>
   </Rectangle>
   <Parallelogram>
      <ParallelogramName>WXYZ</ParallelogramName>
      <Length>12</Length>
      <Height>4</Height>
      <Colour>Black</Colour>
   </Parallelogram>
</Four-Sided>
</Objects> 
```

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-02-18T09:18:27.660

对于 XPath 解决方案：

```
//*[contains(local-name(), 'Name')] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-10-19T07:11:06.287

由于没有命名空间前缀，你也可以使用

```
//*[contains(name(), 'Name')] 
```

# facebook - 来自其自己的 ios 应用程序的应用程序的一个 Facebook 页面的 Facebook Like 按钮

> ID：14931501
> 
> 赞同：1
> 
> 时间：2013-02-18T07:41:31.030
> 
> 标签：facebook, facebook-graph-api, ios6, facebook-like, facebook-page

我正在寻找要在我的 ios 本机应用程序中显示的 Like Button，该应用程序的用户已经通过 facebook 帐户连接到应用程序。

stackoverflow 上有几个与 Facebook Like Button 相关的问题，但这些问题并不特定于应用程序的授权单个 Facebook 页面。

根据 facebook 的官方文档，无法通过内置操作或 open graph api 点赞 facebook 页面。

但是，当用户点击“赞”按钮时，只希望该应用的一个官方 Facebook 页面被用户点赞。我不希望用户离开应用程序或在网络视图中再次登录以喜欢 Facebook 页面。

是否可以在不促进用户再次登录 webveiw 的情况下喜欢应用程序的 Facebook 页面？

## 编辑

**发现**

**1\.** [https://stackoverflow.com/a/5837036/1632984](https://stackoverflow.com/a/5837036/1632984)

**2.** [华莱士的评论](https://stackoverflow.com/a/6036378/1632984)

“普遍的共识似乎是你不能代表用户喜欢一个页面，但是我只是代表我有一个喜欢页面的 ios 游戏。Extreme Road Trip 成功地让你喜欢他们自己的页面。我希望我现在做的时候能多加注意……”——华莱士

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T22:20:25.320

这仍然不能直接使用图形 api 来完成（据我所知）。您可以做的是打开您希望用户喜欢的页面的 web 视图。如果您奖励他们喜欢您的应用程序或其他东西，当他们关闭 web 视图（您必须提供关闭按钮）时，您可以使用图形 api 检查他们是否喜欢您的应用程序页面。据我所知，这是目前最好的解决方案——而且似乎是手机游戏所采用的方法。

也就是说，我还没有使用[Facebook SDK 3](https://developers.facebook.com/ios/)，所以其中可能有一些东西可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T13:44:11.290

代表用户点赞页面似乎仍然是不可能的。我浏览了[iOS SDK Reference](https://developers.facebook.com/docs/reference/ios/3.1)，似乎没有内置机制可以喜欢任何东西。

但是，在阅读您链接到的其他帖子之一时，并记住 Facebook 打开了`Like`打开图形操作，因此应用程序开发人员可以允许他们的用户喜欢他们的应用程序生成的内容......我发现这个关于[内置操作的链接（喜欢）](https://developers.facebook.com/docs/technical-guides/opengraph/built-in-actions/likes/)。

根据该链接，您可以通过使用参数向您的`Like`用户发布操作（在这种情况下，您希望代表用户喜欢的打开图形对象 URL 是您的页面的 url。例如 www.facebook.com/yourpage ）和（显然，对于您的用户）。`POST``https://graph.facebook.com/<user_id>/og.likes``POST``object``access_token`

我并不完全相信这会奏效。尽管这是可以想象的。我的第二个想法是为您的页面创建一个开放图形对象，并让您的所有用户都喜欢。不过，这有点不太理想，因为它消除了人们在 Facebook 上找到您的页面的可能性，并且需要您付出更多努力通过您的网站、应用程序等获得对该页面的喜欢。

希望对你有帮助，祝你好运。

# sql - SQL Server 加入和查询问题

> ID：14931502
> 
> 赞同：2
> 
> 时间：2013-02-18T07:41:34.157
> 
> 标签：sql, sql-server, database

我有一个表 billing_history 包含以下字段

```
CREATE TABLE [dbo].[BILLING_HISTORY2](
[ID] [int] IDENTITY(1,1) NOT NULL,
[READING_MONTH_YEAR] [date] NULL,
[READING] [int] NULL,
[CONSUMER_ID] [int] NULL,
[payment_status] [bit] NOT NULL
) 
```

[http://www.sqlfiddle.com/#!3/892e0/5](http://www.sqlfiddle.com/#!3/892e0/5)

以下查询返回消费者的 MAX Paid 和 Max Unpaid Values

```
SELECT MAX(READING) AS 'MAXIMUM_PAID_READING',consumer_id from billing_history2
where payment_status=0 GROUP BY consumer_id;

SELECT MAX(READING) AS 'MAXIMUM_UNPAID_READING',consumer_id from billing_history2
where payment_status=1 GROUP BY consumer_id; 
```

但是，当我加入它们以从 MAXIMUM_UNPAID_READING 中减去 MAXIMUM_PAID_READING 以获得当前读数时，通过加入上述两个查询，它会导致返回所有具有匹配 consumer_id 的记录。因此，如果消费者尚未支付任何账单，则 ID 将在 PAID_READING 中省略，因此 INNER JOIN 不会返回任何结果。如果我使用 FULL OUTER JOIN，它会返回所有记录，但将差异设置为 NULL。

我需要通过从以前的未付 USAGE 中减去客户的当前 USAGE 来找出它。

我如何以这样一种方式加入这两个查询，以便无论该人过去是否支付过帐单，都可以找到结果差异。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:46:16.077

不要加入他们。

```
SELECT
    MAX(CASE WHEN payment_status=0 THEN READING ELSE NULL END) AS 'MAXIMUM_PAID_READING',
    MAX(CASE WHEN payment_status=1 THEN READING ELSE NULL END) AS 'MAXIMUM_UNPAID_READING',

    MAX(CASE WHEN payment_status=0 THEN READING ELSE NULL END)
     - MAX(CASE WHEN payment_status=1 THEN READING ELSE NULL END)
        AS 'DIFF_READING',

    consumer_id from billing_history2
GROUP BY consumer_id; 
```

如果要处理来自 MAX 函数的 NULL 值，请使用 ISNULL 函数：

```
SELECT
    ISNULL(MAX(CASE WHEN payment_status=0 THEN READING ELSE NULL END),0) AS 'MAXIMUM_PAID_READING',
    ISNULL(MAX(CASE WHEN payment_status=1 THEN READING ELSE NULL END),0) AS 'MAXIMUM_UNPAID_READING',

    ISNULL(MAX(CASE WHEN payment_status=0 THEN READING ELSE NULL END),0)
     - ISNULL(MAX(CASE WHEN payment_status=1 THEN READING ELSE NULL END),0)
        AS 'DIFF_READING',

    consumer_id from billing_history2
GROUP BY consumer_id; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:48:47.987

可以使用左外连接，但在最大值上使用 isnull 。

前任：

```
max(...) - isnull(max(...),0) as ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:50:37.773

在您的情况下，有必要使用[CASE](http://msdn.microsoft.com/en-us/library/ms181765.aspx)表达式

```
SELECT CONSUMER_ID,
       MAX(CASE WHEN payment_status = 0 THEN READING ELSE 0 END) AS 'MAXIMUM_PAID_READING',
       MAX(CASE WHEN payment_status = 1 THEN READING ELSE 0 END) AS 'MAXIMUM_UNPAID_READING', 
       MAX(CASE WHEN payment_status = 0 THEN READING ELSE 0 END) - 
       MAX(CASE WHEN payment_status = 1 THEN READING ELSE 0 END) AS diff
FROM billing_history2
GROUP BY consumer_id 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/892e0/15)上的演示[](http://sqlfiddle.com/#!3/892e0/15)

# mod-rewrite - YiiBoilerplate Url 重写 - php yii

> ID：14931503
> 
> 赞同：1
> 
> 时间：2013-02-18T07:41:38.147
> 
> 标签：mod-rewrite, yii

当我们配置 YiiBoilerplate 时。我们通过这些 url 使用它的前端

```
http://localhost/YiiBoilerplate-master/frontend/www/index.php/site/ 
```

我想更改此 url 并像访问它一样访问 `http://localhost/YiiBoilerplate-master/site/index.` 它`mod_rewrite`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T10:16:38.783

将`.htaccess`文件添加到您的网络服务器根目录：

```
RewriteEngine on
RewriteRule ^/YiiBoilerplate-master/(.*) /YiiBoilerplate-master/frontend/www/index.php/$1 
```

这使您可以通过较短的 URL 访问您的应用程序，但应用程序内的链接仍保持较长的形式。要更新应用程序中的 URL，请`baseUrl`在`urlManager`组件中更新：

```
'components' =>
    'urlManager' => array(
        'baseUrl' => '/YiiBoilerplate-master',
        'urlFormat' => 'path',
        ... 
```

**注意：我强烈建议设置一个虚拟主机。**

# testing - gtihub、jenkins 和自动化测试

> ID：14931509
> 
> 赞同：2
> 
> 时间：2013-02-18T07:42:20.390
> 
> 标签：testing, github, jenkins

我在 Github 上有几个项目，我想将它们链接到 Jenkins，以便自动化测试并提高代码质量。

有没有免费的在线方法可以做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T09:14:04.000

[git jenkins 插件](https://wiki.jenkins-ci.org/display/JENKINS/Git+Plugin)允许您将Jenkins 作业链接到 git 存储库（包括 GitHub）。然后使用自定义操作来运行单元测试。

# android - Android - 特定视图上的手势检测（向上/向下滑动）

> ID：14931510
> 
> 赞同：28
> 
> 时间：2013-02-18T07:42:22.037
> 
> 标签：android, swipe, gesture-recognition, onfling

我正在尝试在 Android 中实现 OnGestureListener。
我的布局中有三个 TextView。
我想要实现的是为两个 textViews 设置 Gesture Listener 。
这是**布局**-

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/rlMain"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" >

    <TextView
        android:id="@+id/tvOne"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="10dp"
        android:layout_marginTop="5dp"
        android:gravity="center"
        android:text="One" />

    <TextView
        android:id="@+id/tvTwo"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/tvOne"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="10dp"
        android:layout_marginTop="5dp"
        android:gravity="center"
        android:text="Two" />

    <TextView
        android:id="@+id/tvThree"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/tvTwo"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="10dp"
        android:layout_marginTop="5dp"
        android:gravity="center"
        android:text="Three" />

</RelativeLayout> 
```

这是**活动**

```
 import android.app.Activity;
    import android.os.Bundle;
    import android.util.Log;
    import android.view.GestureDetector;
    import android.view.GestureDetector.OnGestureListener;
    import android.view.MotionEvent;

    public class TimeActivity extends Activity implements OnGestureListener {

    GestureDetector gestureScanner;

    @SuppressWarnings("deprecation")
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.wheelview);
        gestureScanner = new GestureDetector(this);

    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        // TODO Auto-generated method stub
        return gestureScanner.onTouchEvent(event);
    }

    @Override
    public boolean onDown(MotionEvent e) {
        // TODO Auto-generated method stub
        return true;
    }

    @Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
            float velocityY) {
        // TODO Auto-generated method stub
        Log.i("Test", "On Fling");
        return true;
    }

    @Override
    public void onLongPress(MotionEvent e) {
        // TODO Auto-generated method stub

    }

    @Override
    public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX,
            float distanceY) {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public void onShowPress(MotionEvent e) {
        // TODO Auto-generated method stub

    }

    @Override
    public boolean onSingleTapUp(MotionEvent e) {
        // TODO Auto-generated method stub
        return false;
    }
} 
```

目前，所有三个文本视图的 Fling 都被调用。
有什么方法可以**为布局中的某些特定视图设置手势侦听器**。
任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-02-18T07:52:14.340

在您的`onCreate`方法中执行此操作。

```
findViewById(R.id.tvOne).setOnTouchListener(new View.OnTouchListener() { 
            @Override
           public boolean onTouch(View v, MotionEvent event){
                return gestureScanner.onTouchEvent(event);
           }
  }); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-18T07:47:33.580

您可以将`OnTouchListener`s 设置为单个`TextView`s。

```
findViewById(R.id.tvOne).setOnTouchListener(new OnTouchListener() {

    @Override
    public boolean onTouch(View view, MotionEvent event) {
         // Your code here
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-02-21T09:11:48.677

## 一条建议

如果您不想检测所有手势，请尝试这个类： 我自己创建的[SimpleGestureListener 。](https://gist.github.com/CoXier/066da346bdf19c519457300f7c7988f6/revisions)

现在这里有一些关于这个类的用法的片段。

## 用法

```
public class MainActivity extends AppCompatActivity {
    private static final String TAG = "MainActivity";
    private GestureDetector mDetector;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        SimpleGestureListener simpleGestureListener = new SimpleGestureListener();
        simpleGestureListener.setListener(new SimpleGestureListener.Listener() {
            @Override
            public void onScrollHorizontal(float dx) {
                Log.i(TAG,"horizontal = " +dx);
            }

            @Override
            public void onScrollVertical(float dy) {
                Log.i(TAG,"vertical = " +dy);
            }
        });
        mDetector = new GestureDetector(this, simpleGestureListener);
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        mDetector.onTouchEvent(event);
        return super.onTouchEvent(event);
    }
} 
```

它可用于检测滑动手势：

*   左还是右
*   上或下

# ios - 在标签栏控制器中弹回根视图控制器的问题

> ID：14931525
> 
> 赞同：1
> 
> 时间：2013-02-18T07:43:09.327
> 
> 标签：ios, uinavigationcontroller, uitabbarcontroller

我正在导航到带有来自 RootViewController 的 6 个选项卡的选项卡栏控制器...我在左侧导航栏项目中创建了后退按钮方法，该方法将所有选项卡视图弹出到 RootViewController...当我尝试弹出第 5 个或第 5 个选项卡视图时出现问题。 . 后退按钮在 MoreViewController、第 5 个选项卡和第 6 个选项卡中根本不起作用...

以下是有效的方法： 1) 从 1 到 4 个选项卡弹出回 RootView

2）从更多视图弹出回RootView（仅在第一次工作时）

3）从第 5/第 6 视图弹回更多视图（仅在第一次工作时）

这是不起作用的：1）不会从 MoreView 弹回 RootView

我究竟做错了什么？

```
- (void)viewDidLoad
{
...
   self.tabBarController.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc] initWithTitle:@"Back" style:UIBarButtonSystemItemDone target:self action:@selector(goBack)];
...
} 
```

每个选项卡中编写的 goBack 方法代码

```
-(void)goBack{

    [self.navigationController popToRootViewControllerAnimated:NO];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:44:19.603

试试这个..也许它会帮助你

```
NSArray *viewContrlls=[[self navigationController] viewControllers];
    for( int i=0;i<[ viewContrlls count];i++)
    {
        id obj=[viewContrlls objectAtIndex:i];
        if([obj isKindOfClass:[rootController class]])
        {
            [[self navigationController] popToViewController:obj animated:YES];

            return;
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:45:53.177

我想出了问题所在，所以我要回答我自己的问题...我在每个选项卡中都写了 popToRootViewController .. 所以当我进入第 5 个选项卡并按回时，它会回到更多视图选项卡并忘记关于根视图.. 所以我从每个选项卡中删除了 popToRootViewController 并编写了用于在根视图页面中的选项卡栏声明时弹出视图的代码......例如。标签栏声明，然后设置标签栏导航按钮返回调用一些方法......在那个方法中我写了popToRootViewController......

# asp.net - 使用会话显示用户名 (ASP.NET)

> ID：14931530
> 
> 赞同：1
> 
> 时间：2013-02-18T07:43:33.397
> 
> 标签：asp.net, sql, vb.net, visual-studio-2010, oledb

我正在`Visual Studio 2010`用作我的 IDE 并使用我不知道是否可能创建一个简单的网站`Visual Basic`，但我可以使用会话将刚刚登录到我的 LoginForm 的用户名显示到其他表单吗？

我还不够好，无法理解它，但谁能告诉我，这是在会话中包含值的正确方法吗？，我怎样才能将它显示到另一种形式？

```
Protected Sub ImageButton1_Click(ByVal sender As Object, ByVal e As System.Web.UI.ImageClickEventArgs) Handles ImageButton1.Click
        Dim connect As String = "Provider=Microsoft.ACE.OleDb.12.0;" & _
        "Data Source=C:\Users\cleanfuel\Documents\Visual Studio 2010\Projects\FinalProject4a2p\FinalProject4a2p\bin\DBFinalProject.accdb"
        Dim query As String
        query = "Select Count(*) From tblAccount Where Username = ? And UserPass = ?"
        Dim result As Integer = 0
        Using conn As New OleDbConnection(connect)
            Using cmd As New OleDbCommand(query, conn)
                cmd.Parameters.AddWithValue("", TxtUser.Text)
                cmd.Parameters.AddWithValue("", txtPass.Text)
                conn.Open()
                result = DirectCast(cmd.ExecuteScalar(), Integer)
            End Using
        End Using

        If result > 0 Then
            Response.Redirect("Menus.aspx")
            Session("User") = TxtUser.Text
            Session("Pass") = txtPass.Text
        Else
            Response.Write("<td>")
            Response.Write("<div align=""center"">")
            Response.Write("<font color='white'>")
            Response.Write("Unable to Login, Invalid Username or Password! </font>")
            Response.Write("</div>")
            Response.Write("</td>")
        End If
    End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:47:19.943

在您的母版页中设置标签（如果有），将会话中的用户名分配给标签，它将出现在所有页面中。如果您没有母版页，则可以在页面中设置标签（您希望显示用户名），然后将标签`Text`属性设置为会话中的值。

您在会话中存储值的方式是正确的，`Menu.aspx`一旦值存储在会话中，您应该重定向到：

```
If result > 0 Then
            Session("User") = TxtUser.Text
            Session("Pass") = txtPass.Text
            Response.Redirect("Menus.aspx")

.... 
```

要访问它们，您可以执行以下操作：

```
labelUserName.Text = Session("User").ToString() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:02:37.717

使用`FormsAuthentication`，然后您可以简单地`LoginName`在表单上放置一个控件，或者从中获取 UserName`HttpContext.Current.User.Identity.Name`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T06:53:04.317

其他用户提供的答案也可以使用，但我找到了这个并成功获得了我想要的结果。

这是我的代码：

```
Protected Sub ImageButton1_Click(ByVal sender As Object, ByVal e As System.Web.UI.ImageClickEventArgs) Handles ImageButton1.Click
        Dim connect As String = "Provider=Microsoft.ACE.OleDb.12.0;" & _
        "Data Source=C:\Users\cleanfuel\Documents\Visual Studio 2010\Projects\FinalProject4a2p\FinalProject4a2p\bin\DBFinalProject.accdb"
        Dim query As String
        query = "Select Count(*) From tblAccount Where Username = ? And UserPass = ?"
        Dim result As Integer = 0
        Using conn As New OleDbConnection(connect)
            Using cmd As New OleDbCommand(query, conn)
                cmd.Parameters.AddWithValue("", TxtUser.Text)
                cmd.Parameters.AddWithValue("", txtPass.Text)
                conn.Open()
                result = DirectCast(cmd.ExecuteScalar(), Integer)
            End Using
        End Using

        If result > 0 Then
            Dim myCookie As HttpCookie = New HttpCookie("USER")
            myCookie.Value = TxtUser.Text
            Response.Cookies.Add(myCookie)

            Response.Redirect("Menus.aspx")
        Else
            Response.Write("<td>")
            Response.Write("<div align=""center"">")
            Response.Write("<font color='white'>")
            Response.Write("Unable to Login, Invalid Username or Password! </font>")
            Response.Write("</div>")
            Response.Write("</td>")
        End If

    End Sub 
```

我使用 HTTPcookie 而不是 session 因为我不能满足自己，因为它没有显示我想要显示的值，并且它总是一遍又一遍地向我显示相同的错误。

以下是要显示的代码：

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As EventArgs) Handles Me.Load
        If Request.Cookies("USER") Is Nothing Then
            Label7.Text = "No Account Logged In"
        Else
            Dim aCookie As HttpCookie = Request.Cookies("USER")
            Label7.Text = Convert.ToString(Server.HtmlEncode(aCookie.Value))
        End If
    End Sub 
```

# c# - 我的任何实体的通用 ObservableCollection

> ID：14931531
> 
> 赞同：2
> 
> 时间：2013-02-18T07:43:41.663
> 
> 标签：c#, wpf, mvvm, observablecollection

我`Entity Framework`用来访问我的数据`SQL Server`，我需要在`WPF DataGrid`. 我知道如何为我的任何实体做到这一点：我创建了一个`View`with `DataGrid`：

```
<DataGrid ItemsSource="{Binding Rows}" SelectedItem="{Binding Row}" /> 
```

并`ViewModel`作为`ObservableCollection<PERSONS>`公共财产：

```
public class DictionaryViewModel : ViewModelBase
{
    private ObservableCollection<PERSONS> rows;
    public ObservableCollection<PERSONS> Rows
    {
         get
         {
              return rows;
         }
         set
         {
              rows = value;
              RaisePropertyChanged("Rows");
         }
    }

    public DictionaryViewModel()
    {
        Rows = new ObservableCollection<PERSONS>(myDataContext.PERSONS);
    }
} 
```

我的问题是**我如何为*任意*实体**做到这一点？实体有通用类型吗？写这样的东西会很好：

```
public class DictionaryViewModel : ViewModelBase
{
    private ObservableCollection<GenericType> rows;
    public ObservableCollection<GenericType> Rows
    {
         get
         {
              return rows;
         }
         set
         {
              rows = value;
              RaisePropertyChanged("Rows");
         }
    }

    public DictionaryViewModel(GenericType type)
    {
        Rows = new ObservableCollection<type>(...);
    }
} 
```

我真的不想`ViewModel`为我拥有的每个实体创建一个单独的实体。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:35:58.550

为什么不简单地在你的类中引入一个通用参数呢？

```
public class DictionaryViewModel<T> : ViewModelBase
{
    private ObservableCollection<T> _rows;
    public ObservableCollection<T> Rows
    {
         get
         {
              return _rows;
         }
         set
         {
              _rows = value;
              RaisePropertyChanged("Rows");
         }
    }
} 
```

您只需创建 2 个实例（一个用于`Person`，一个用于`Department`）并实现网关逻辑以绑定正确的源。

编辑：
如果你想使用一个不同类型的实例......算了吧！为您定义公共属性的地方引入一个基类，`Person`并将`Department`这个新类型用作您的泛型约束。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:00:10.140

是的，你可以这么做。您只需要使用 Object 代替 Generic Type。您的代码可能如下所示

```
public class ViewModelBase
{
    // base class code
}

public class DictionaryViewModel : ViewModelBase
{

    public DictionaryViewModel()
    {
        Rows = new ObservableCollection<Object>();
    }

    private ObservableCollection<Object> rows;
    public ObservableCollection<Object> Rows
    {   
        get
        {
            return rows;
        }
        set
        {
            rows = value;
            RaisePropertyChanged("Rows");
        }
    }
} 
```

现在 Rows 可以包含任意实体。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:47:41.540

是的，有一个通用的`ObservableCollection<T>`.

**[`ObservableCollection<T> Class`](http://msdn.microsoft.com/en-us/library/ms668604.aspx)**

```
public class DictionaryViewModel<T> : ViewModelBase
{
    private ObservableCollection<T> rows;
    public ObservableCollection<T> Rows
    {
         get
         {
              return rows;
         }
         set
         {
              rows = value;
              RaisePropertyChanged("Rows");
         }
    }

    public DictionaryViewModel(IEnumerable<T> collection)
    {
        Rows = new ObservableCollection<T>(collection);
    }
} 
```

用法

```
DictionaryViewModel<Person> model =
                 new DictionaryViewModel<Person>(dataContext.Persons); 
```

# facebook-graph-api - 检索 Facebook 封闭组成员的个人资料信息

> ID：14931534
> 
> 赞同：1
> 
> 时间：2013-02-18T07:43:59.993
> 
> 标签：facebook-graph-api

我属于一个封闭的 Facebook 群组。我想检索组成员的信息，例如（电子邮件、位置等）以与移动应用程序集成。

使用 Graph API 并且目前正在使用 Graph 资源管理器进行测试，我能够查看该组的成员列表以及他们的姓名。但我无法查看电子邮件、位置等信息，即使我已选择它作为回复的一部分。

- 我需要额外的权限才能查看会员的额外信息吗？- 我需要一个 facebook 应用程序来实现这一点吗？如果是这样，它将如何与移动应用程序交互？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-09T12:23:47.027

group_id/members 端点返回具有属性的成员列表 - id、name、administrator。如果您想获得有关这些成员的更多详细信息，则必须为每个成员再次查询图形 API。

# php - 卷曲回显仅在代码结束时打印

> ID：14931536
> 
> 赞同：0
> 
> 时间：2013-02-18T07:44:04.080
> 
> 标签：php, curl

再会，

我正在尝试使用 curl 在 cmd 上运行 php 脚本（我已经安装了 curl 的 windows 版本）。问题是，我所有的 echo 调用 print..但只有在脚本结束之后。脚本中有一个 while 循环，我需要跟踪它正在打印的内容。无论如何我可以让它输出吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:46:45.237

HTTP 状态代码类似于以下内容：

```
curl -s -o /dev/null -w "%{http_code}" http://www.example.org/ 
```

在脚本中更容易使用，因为它不需要任何解析:-)

可能会添加该参数`-I`以提高响应负载性能。此参数仅请求响应的状态/标头，没有下载响应正文。（%{http_code} 返回 HTTP 有效负载的第一行）

IE：

```
curl -s -o /dev/null -I -w "%{http_code}" http://www.example.org/ 
```

# codeigniter - 显示数据库搜索结果，但单击页面链接 2 时分页链接不起作用？

> ID：14931537
> 
> 赞同：0
> 
> 时间：2013-02-18T07:44:04.783
> 
> 标签：codeigniter

显示数据库搜索结果，但单击页面链接 2 时分页链接不起作用？这里是我的控制器函数 pagesearch，它从我的视图文件中获取 search_term，它是要搜索的单词的输入文本字段

```
<?php
class Pagesearch extends CI_Controller {

    public function __construct()
    {
        parent::__construct();
        $this->load->model('searchmodel');
                $this->load->helper('url');
        // Load Pagination
        $this->load->library('pagination');
    }

         public function execute_search($offset=0)

        {

               $search_term = $this->input->post('tsd');
                echo $search_term;
               $pagination_per_page = 3;
        // Config setup
                $config['base_url'] = site_url('pagesearch/execute_search');

               $config['per_page'] = $pagination_per_page;
               $config['total_rows'] = count($this->searchmodel->get_results($search_term));

                $config['uri_segment'] = 2;
        $config['use_page_numbers'] = TRUE;           
        $this->pagination->initialize($config);

          $data['deals_data'] = $this->searchmodel->get_results($search_term, $pagination_per_page, (($offset != 0)?( $pagination_per_page * ($offset - 1)): 0));
          $this->load->view('deals/jsonsearch',$data);

        }
      }

here it is my model  for like query where $search    
class Searchmodel extends CI_Model {

    public function __construct()
    {
        $this->load->database();

    }

        public function get_results($search_term, $limit, $offset=0)
    {

      $this->db->select('*');
    $this->db->like('name',$search_term);

      $query = $this->db->get('deals',$limit,$offset);

         return $query->result_array();

    }

}   

here it is view code look like this

<div id="dealsData">
    <?php foreach ($deals_data as $data): ?>
          //some code
    <?php endforeach ?>

    <div id="pagination">
        <?php echo $this->pagination->create_links(); ?>
    </div>

</div> 
```

请指导我自己尝试这么多但没有得到正确的结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T10:16:52.787

使用 codeigniter 应用程序搜索的最佳方法是我发现非常有用的以下关于 nettuts 的教程，您可以使用多个字段来搜索记录和分页真的很容易看看它

[搜索结果](http://net.tutsplus.com/tutorials/php/codeigniter-from-scratch-search-results-without-query-strings-2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T15:16:31.670

这是一个例子，我是如何实现的

在控制器中

```
function index()
{
  $this->load->library('pagination');

$config = array();
$config["base_url"] = base_url() . "city/index";
$config["total_rows"] = $this->city_model->record_count();
$config["per_page"] = 20;
$config["uri_segment"] = 4;

$this->pagination->initialize($config);

$page = ($this->uri->segment(4)) ? $this->uri->segment(4) : 0;
$data["city"] = $this->city_model->get_cities($config["per_page"], $page);
$data["links"] = $this->pagination->create_links();
} 
```

在模型中

```
function record_count() 
{
   return $this->db->count_all("city");
}

function get_cities($limit,$start)
{       

   $this->db->limit($limit,$start);
   $this->db->select('*');
   $this->db->from('city');
   $this->db->order_by('city_name');
   $query = $this->db->get();

   if ($query->num_rows() > 0) {
       foreach ($query->result() as $row) {
        $data[] = $row;
   }

 return $data;
}

 return false;

} 
```

# php - 转换 ToMoney 功能不起作用

> ID：14931538
> 
> 赞同：0
> 
> 时间：2013-02-18T07:44:07.373
> 
> 标签：php, currency

函数不适用于带有 8[任何数字] 的前缀。

输入：970 输出：9.70 美元
输入：870 输出：870 美元
输入：800 输出：800 美元

```
function toMoney( $val, $symbol = '$', $r = 2 ) {
    $n = $val; 
    $c = is_float($n) ? 1 : number_format( $n , $r );
    $d = '.';
    $t = ',';
    $sign = ( $n < 0 ) ? '-' : '';
    $i = $n = number_format( abs( $n ), $r ); 
    $j = ( ( $j = $i.length ) > 3 ) ? $j % 3 : 0; 

   return  $symbol.$sign .( $j ? substr( $i, 0, $j) + $t : '').preg_replace('/(\d{3})(?=\d)/',"$1" + $t,substr($i,$j)) ;
} 
```

功能取自：[货币兑换无效](https://stackoverflow.com/questions/6369887/how-we-can-use-money-format-function-in-php-on-windows-platform)

上面的错误在下面得到纠正

```
 function toMoney( $val, $symbol = '$', $r = 2 ) {
        $n = $val; 
        $c = is_float($n) ? 1 : number_format( $n , $r );
        $d = '.';
        $t = ',';
        $sign = ( $n < 0 ) ? '-' : '';
        $i = $n = number_format( abs( $n ), $r ); 
        $j = ( ( $j = strlen($i) ) > 3 ) ? $j % 3 : 0; 

       return  $symbol.$sign .( $j ? substr( $i, 0, $j) + $t : '').preg_replace('/(\d{3})(?=\d)/',"$1" + $t,substr($i,$j)) ;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:46:37.300

```
setlocale(LC_MONETARY, 'en_US');
echo '$' . money_format('%i', $number/100) . "\n"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:52:16.517

如果我理解得很好，你希望最后两个数字是美分吗？

那么为什么不这样做：

```
$val = number_format(intval(substr($val,0,strlen($val)-2)),).'.'.substr($val,-2); 
```

第一个`substr`将忘记最后两位数字，然后将仅使用千位分隔符进行格式化。第二个`substr`只取最后两个数字。

# javascript - 页面刷新后的RequireJS Uncaught ReferenceError: $ is not defined

> ID：14931541
> 
> 赞同：0
> 
> 时间：2013-02-18T07:44:15.937
> 
> 标签：javascript, requirejs

我最近开始使用需要 js 的机智，但我遇到了问题。

每件事都加载得很完美，但是有时当我刷新页面时，我会收到以下错误

```
Uncaught ReferenceError: $ is not defined 
```

如果我再次刷新它就消失了，如果我再次刷新它就在那里。

这是我的结构

```
requirejs.config({
    baseUrl: siteUrl + "assets/js",

    paths: {
        "jquery": "./libs/jquery",
        "jquery-ui": "libs/jquery-ui",
        "bootstrap": "libs/bootstrap",
        "scripts": "scripts",
        "plugins": "plugins",
    }, 

    shim: {

    'jquery-ui': {
        deps: [ 'jquery' ],
        exports: 'jquery-ui'
    },
    'bootstrap': {
        deps: [ 'jquery' ],
        exports: 'bootstrap'
    },

    'plugins/controls': {
        deps: [ 'jquery', 'plugins/dialog2'],
        exports: 'plugins/controls'
    },

    'plugins/form': {
        deps: [ 'jquery'],
        exports: 'plugins/form'
    },

    'plugins/dialog2': {
        deps: [ 'jquery' ],
        exports: 'plugins/dialog2'
    },

     'plugins/chosen': {
        deps: [ 'jquery' ],
        exports: 'plugins/chosen'
    },

     waitSeconds: 25,
}
});

/*
    loading libs for every page
*/
requirejs(['jquery', 'jquery-ui', 'bootstrap', 'plugins/chosen'],
function($, chosen){
/*
    loading global selectors and variables
*/ 
$(function () {
   $('.chzn-select').chosen();  
});

}); 
```

所以我是一个非常大的初学者，请有人给我一个提示，或者解释我为什么会收到这个错误？为什么会在页面刷新时发生这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:16:01.480

这肯定已经是个问题了：

```
requirejs(['jquery', 'jquery-ui', 'bootstrap', 'plugins/chosen'],
function($, chosen){
... 
```

你想加载插件`chosen`，但实际上它是`jquery-ui`。由于您不使用它，请删除参数（但不要从数组中删除）。

我怀疑您的插件`plugins/chosen`（以及其他插件）的`shim`导出值错误。

这些插件是你写的吗？如果是这样，只需将它们的代码包装在一个`define`块中，您就不需要再填充它们了：

```
define(['jquery'], function ($) {...}); 
```

更多[在这里](https://stackoverflow.com/a/11890239/1916258)。

# javascript - asp.net 无法加载 css3 饼图

> ID：14931551
> 
> 赞同：0
> 
> 时间：2013-02-18T07:44:57.090
> 
> 标签：javascript, asp.net, css, css3pie

我尝试了所有可能的方法来提供 PIE.js 的路径，我正在使用 asp.net，这与在 java+tomcat 中的工作方式相同。我试着像这样给予

1）文件： **css/home.css**、 **css/pie/PIE.js**

在 home.css 行为中： url('pie/PIE.js');

不工作

2）文件： **css/home.css**、 **css/PIE.js**

在 home.css 行为中： url('PIE.js');

还是行不通

请有人帮忙。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-13T22:22:36.963

您将 htc 文件添加到行为

例子：

```
.btn {
  display: inline-block;
  margin-bottom: 0;
  font-weight: normal;
  text-align: center;
  vertical-align: middle;
  -ms-touch-action: manipulation;
      touch-action: manipulation;
  cursor: pointer;
  background-image: none;
  border: 1px solid transparent;
  white-space: nowrap;
  padding: 8px 12px;
  font-size: 14px;
  line-height: 1.42857143;
  border-radius: 4px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  behavior:url("/Library/CSS3PIE/PIE.htc");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:37:16.940

它不应该`PIE.htc`在css中还是包含`PIE.js`在你的html中？[在此处](http://css3pie.com/documentation/getting-started/)阅读有关使用 PIE的更多信息

# javascript - 如何弹出上下文菜单并单击 Chrome 扩展程序中的一个菜单项？

> ID：14931552
> 
> 赞同：0
> 
> 时间：2013-02-18T07:44:58.710
> 
> 标签：javascript, google-chrome-extension

我正在开发一个 Chrome 扩展程序，我需要自动弹出一个上下文菜单，然后单击它上面的一个菜单项。有没有办法做到这一点？我没有找到任何 api 来处理这个问题。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:40:44.163

api url [chrome.contextMenus.create](https://developer.chrome.com/extensions/contextMenus.html#method-create)

演示 url[上下文菜单示例（带有事件页面）](https://developer.chrome.com/extensions/examples/api/contextMenus/event_page.zip)

希望能帮到你:)

# c - 在 C 中声明一个全局多维数组

> ID：14931558
> 
> 赞同：2
> 
> 时间：2013-02-18T07:45:47.170
> 
> 标签：c, pointers, multidimensional-array, global-variables, declaration

因此，我试图全局声明一个 3 维整数数组，以便两个单独的函数可以使用它。

最初，我尝试过这个（`solns`作为 3D 数组的名称）：

```
static int*** solns; 
```

但是，虽然三重指针`solns`确实在函数之间存在，但我放置在其中的信息却没有。当第二个函数尝试访问第一个函数放入的数据时，这给了我一个段错误`solns`。

我应该如何声明这样才能保留里面的信息？我试过了

```
static int solns[][][]; 
```

除其他外，但 gcc 不喜欢我尝试的其他任何东西。

编辑：函数 1 中的这段代码将数据放入数组中：

```
solns[k] = realloc(solns[k],sizeof(solns[k])/sizeof(int*)+sizeof(int*));
solns[k][l] = realloc(solns[k][l],sizeof(int)*4*sC);
    for(i=0;i<sC*4;i++)
    {
        solns[k][l][i] = row[i];
    }
    l++; 
```

这个片段是函数 2 尝试读取该数据的地方：

```
if(solns[i][j][m*4+1]!=solns[i+1][n][m*4+2])
    break; 
```

但是`solns[i]`此时是一个空指针，因为指向的数据`solns`不会结转。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:47:04.517

当您`static`在全局范围内使用该术语时，这意味着该对象/变量的实例对于每个编译单元都是本地的。

这意味着每个`.cpp`文件将具有上述变量的不同版本。因此，如果您的函数位于 2 个不同的文件中，它将不起作用。

要解决此问题，请在文件中定义此变量`.cpp`并将其声明为`extern`头文件中的 a。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:03:21.977

如果使用`static int ***solns`，则必须为数组分配内存。在这种情况下，分配的所有内容都是一个指向包含`int **`. 如果你使用`static int solns[][][]`你需要给一个大小，如`static int solns[4][5][3]`

# python - Python Regex - 字典中的字典

> ID：14931563
> 
> 赞同：0
> 
> 时间：2013-02-18T07:46:25.453
> 
> 标签：python, regex, dictionary

我想根据这些数据创建字典：

**输入**

```
1234STUD 
```

**输出**

```
{'student': {'id': '1234', 'name': 'STUD'}} 
```

**这是我对正则表达式所做的事情：**

```
import re
rule = '(?P<student>((?P<id>\d{4})(?P<name>\w{4})))'
text = '1234STUD'
m = re.search(rule, text)
m.groupdict() 
```

**对于当前输出**（*不是我想要*的）：

```
{'id': '1234', 'name': 'STUD', 'student': '1234STUD'} 
```

*谁能告诉我我应该怎么做才能得到我想要的输出？*

*笔记：*

这只是我的项目的一个例子，数据比这更复杂，所以如果我用上面的方法（使用`m.groupdict()`）有什么办法，它会产生我想要的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:53:21.877

您不能仅使用正则表达式创建嵌套字典。您需要对数据进行后处理以创建嵌套结构。

```
import re
rule = '(?P<id>\d{4})(?P<name>\w{4})'
text = '1234STUD'
m = re.search(rule, text)
result = {'student': m.groupdict()} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:58:08.997

您应该创建一个函数来构建您想要的 dict 并返回它。这应该使用预编译的正则表达式模式来提高速度。

```
import re

_pat_student_parser = re.compile(r'((?P<id>\d{4})(?P<name>\w{4}))')

def nested_dict_from_text(text):
    m = re.search(_pat_student_parser, text)
    if not m:
        raise ValueError
    d = m.groupdict()
    return { "student": d }

result = nested_dict_from_text('1234STUD')
print(result) 
```

# c++ - 链表，指针操作

> ID：14931572
> 
> 赞同：2
> 
> 时间：2013-02-18T07:47:06.003
> 
> 标签：c++, pointers

我附在下面的代码中，`head_insert`以在链表的头部插入一个新节点。使用 调用该函数`head_insert(head)`。

我不确定函数的第一个参数的语法，我期待的`NodePtr` 是因为它已经是一个指针，见下文。

为什么代码使用`NodePtr &head`而`NodePtr head`不仅仅是因为 head 已经是一个指针？

```
void head_insert(NodePtr & head, int the_number)
{
  NodePtr temp_ptr;
  temp_ptr=new Node;
  temp_ptr->data=the_number;
  temp_ptr->link=head;
  head=temp_ptr;
}

struct Node
{
  int data;
  Node *link;
};

typedef Node* NodePtr; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T07:52:49.550

> 为什么代码只使用“NodePtr &head”而不是“NodePtr head”，因为 head 已经是一个指针？

原因是它需要函数所做的任何更改`head`才能对调用者可见。

如果`head`通过值 ( `NodePtr head`) 而不是引用 ( `NodePtr& head`) 传递，则情况并非如此：当函数分配`temp_ptr`给 时`head`，此更改不会传播回调用者。`head`通过引用传递解决了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:54:12.940

乍一看，您的 typedef 有点令人困惑。在 C 中，您应该传递一个`struct Node ** head`参数并将其值分配给新创建的节点 : `*head = temp_ptr;`。这是它的样子：

```
void head_insert(struct Node **head, int the number)
{
    struct Node *new_head = NULL;
    // Alloc memory for new_head, etc..
    new_head->data = the_number;
    new_head->link = *head;
    *head = new_head;
} 
```

因此，要进行分配`*head = new_head`，您需要有一个指向列表头的指针，该指针也是一个指针。否则，在函数中执行的更新将保持在本地。在您的代码中，您引用了一个指针，这与传递“双”指针的效果相同。

# php - 字符串和隐藏字符串之间的间距

> ID：14931573
> 
> 赞同：0
> 
> 时间：2013-02-18T07:47:06.560
> 
> 标签：php

我已经尝试了一切，现在我需要做的是在 $results 之间放置一个空格

```
 echo "<p><h3>".$results['cname'].$results['csurname']."</h3>" .$results['msisdn']."</p>" 
```

Betweeb cname 和 csurnname 我需要一个间距，我还需要隐藏 msisdn 不显示在屏幕上，但它需要工作我的页面

任何建议将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:49:09.350

```
echo "<p><h3>".$results['cname'].' '.$results['csurname']."</h3></p>" 
```

就是这样。您应该仍然可以`$results['msisdn']`在您的页面上使用 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:49:24.393

试试这个 ：

```
echo "<p><h3>".$results['cname']." ".$results['csurname']."</h3><span style='display:none;'>" .$results['msisdn']."</span></p>" 
```

这将隐藏您的内容：

```
<span style='display:none;'> content will be hidden </span> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T07:49:29.923

您可以使用空白引号简单地放置空格，例如

```
echo "<p><h3>".$results['cname']." ".$results['csurname']."</h3>" .$results['msisdn']."</p>"; 
```

但是，您可以`$results['msisdn']`在脚本中的任何位置使用。如果您想在表单中使用它，请将其用作

```
<input type='hidden' name='msisdn' value="<?php echo $results['msisdn']; ?>" /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:50:19.590

```
echo "<p><h3>"." ".$results['cname']." ".$results['csurname']."</h3></p>";
echo "<input type='hidden' name='msisdn' value=$results['msisdn']>"; 
```

# c# - 在代码中使用 SevenZipSharp 排除文件

> ID：14931577
> 
> 赞同：1
> 
> 时间：2013-02-18T07:47:33.053
> 
> 标签：c#, .net, compression, sevenzipsharp

我目前正在进行一个小项目，我必须定义几个需要压缩到一个 zip 文件中的路径。

现在是以下情况：其中一个路径是一个目录，它应该被递归压缩（包括它包含的所有文件和子文件夹）。在我压缩之前，我检查了几件事，包括权限。如果要压缩的当前用户没有文件或文件夹的权限，则应将其排除。

现在如何才能在递归模式下排除多个文件和目录？

我已经尝试过这样的事情，但争论似乎只存在于cmd中。

```
compressor.CustomParameters.Add("-x", "@C:\\Users\\******\\Desktop\\exclude.txt"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T16:27:55.020

我没有发现使用 SevenZipSharp 排除文件的任何可能性。相反，我现在使用 DotNetZip，它具有删除文件的好方法： `ZipFile.RemoveEntry()`例如`ZipFile.RemoveEntries()` ：

```
foreach (string removePath in Verifier.ExcludePaths)
{
    try
    {
        // Remove files and directories to be excluded
        zipFile.RemoveEntry(removePath);
    }
    catch (Exception)
    {
        Logger.Warn("Could not exclude path \"{0}\".",removePath);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-06T00:49:28.877

我发现 SevenZipSharp 可以排除文件：

```
SevenZipCompressor sevenZipCompressor = new SevenZipCompressor();
sevenZipCompressor.ModifyArchive(archiveName, dictionary);
// string archiveName: archive name
// Dictionary<int Index, string NewFileName>: NewFileName or Null value to delete the corresponding index. 
```

# css - 按用户代理过滤 CSS 样式

> ID：14931580
> 
> 赞同：3
> 
> 时间：2013-02-18T07:47:36.183
> 
> 标签：css, user-agent

CSS 配置可以根据@media 或其他参数（例如“@media screen and (min-width:1000px)”）等条件进行过滤。

我的问题是：CSS 也可以按用户代理过滤吗？我在想一些看起来像这样的东西：

@media 屏幕和（用户代理：Safari 或其他）。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-02-24T00:07:22.903

如果您能够使用 Javascript，则可以获取用户代理并将正文设置为具有相同名称的类。然后你可以`body.[user_agent]`在 CSS 中定位。

# c++ - 多个图像拼接 - 添加第三个图像

> ID：14931582
> 
> 赞同：3
> 
> 时间：2013-02-18T07:47:43.520
> 
> 标签：c++, opencv, image-processing, homography, image-stitching

我试图在将两个图像拼接在一起后拼接第三个图像，但它似乎不起作用。

[为了详细说明，我使用opencv文档（ http://docs.opencv.org/doc/tutorials/features2d/feature_homography/feature_homography.html](http://docs.opencv.org/doc/tutorials/features2d/feature_homography/feature_homography.html) ）中给出的代码成功地将两张图像拼接在一起并获得了这张图像。 [http://i.stack.imgur.com/gqQjV.jpg](https://i.stack.imgur.com/gqQjV.jpg)

然后，在大量阅读和 ROI 问题之后，我删除了图像的黑色部分以获得该图像。 ![在此处输入图像描述](../Images/169b4d2d494577a582e36167f93df21d.png)

现在，我正在尝试使用相同的代码将第三张图像 ( [http://i.stack.imgur.com/nXD86.jpg](https://i.stack.imgur.com/nXD86.jpg) ) 缝合到此，但缝合不起作用。特征匹配完美。

![在此处输入图像描述](../Images/42eae1f9ad0915ea75e51e2fddc948d6.png)

但是在执行程序之后，我获得了具有更大黑色区域（由于 ROI）并且没有第三张图像的相同图像。（输出：http: [//i.stack.imgur.com/WzZA0.jpg](https://i.stack.imgur.com/WzZA0.jpg)）

我认为它与拼接图像末端的黑色小条有关，因此 WarpPerspective 语句不会映射拼接区域。编码 ：

```
Mat result;
warpPerspective(img_scene, result, H, Size(img_scene.cols*2, img_scene.rows*2), INTER_CUBIC);
Mat final(Size(img_scene.cols + img_object.cols, img_scene.rows*2),CV_8UC3);

Mat roi1(final, Rect(0, 0,  img_object.cols, img_object.rows));
Mat roi2(final, Rect(0, 0, result.cols, result.rows));
result.copyTo(roi2);
img_object.copyTo(roi1); 
```

warpperspective 的结果给出了黑色图像而不是剩余区域。

有人可以告诉我哪里可能出错以及如何解决吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T22:41:25.713

首先你的

```
Mat final(Size(img_scene.cols + img_object.cols, img_scene.rows*2),CV_8UC3); 
```

必须成为

```
Mat final(Size(img_scene.cols + img_object.cols, img_scene.rows),CV_8UC3); 
```

因为你不必增加高度。

现在要使用 ROI 进行复制，请确保不要覆盖。这会起作用吗？

```
Mat roi2(final, Rect(img_object.cols, 0, img_object.cols + result.cols, img_object.rows)); 
```

# ruby-on-rails - 如何让 jQuery UI 自动完成和 Zurb Foundation 与 Rails 资产管道一起工作

> ID：14931590
> 
> 赞同：0
> 
> 时间：2013-02-18T07:48:09.917
> 
> 标签：ruby-on-rails, jquery-ui, asset-pipeline, modernizr, zurb-foundation

我见过这个问题[Zurb Foundation 与 jQuery UI 自动完成冲突？](https://stackoverflow.com/questions/12666114/zurb-foundation-conflicts-with-jquery-ui-autocomplete)，但我希望获得一些关于如何最好地配置 rails 资产管道、gem 需要什么等的详细说明。一个答案包括

> 所以我从foundation.min.js 中删除了jQuery 代码，并为jQuery 添加了Google CDN。

但我不确定我会怎么做，或者这是否是最好的方法。问题是`$.fn.autocomplete`未定义。

**问题：** 我怎样才能在同一个页面中访问工作的 jQuery、Modernizr、Zurb Foundation 元素和 jQuery UI 自动完成功能？

* * *

现在我使用以下宝石：

```
gem 'jquery-rails'
gem 'jquery-ui-rails'
gem 'modernizr'
gem 'zurb-foundation' 
```

这是我的`application.js`清单文件：

```
//= require jquery
//= require jquery_ujs
//= require jquery.textchange
//= require foundation
//= require jquery.ui.autocomplete
//= require_tree . 
```

我读过 Zurb Foundation 包括 Modernizr 和 jQuery，所以不确定 jquery 是否需要。在此先感谢您提供的任何和所有提示

# java - ObjectInputStream.read() 返回 -1，但 readObject 返回对象

> ID：14931596
> 
> 赞同：1
> 
> 时间：2013-02-18T07:48:45.020
> 
> 标签：java, serialization, deserialization, ehcache, objectinputstream

我要序列化一个对象并反序列化该对象，但我得到：

1.  0 为可用（）
2.  -1 表示读取（）
3.  readByte() 的 EOFException

    ```
    public static Element getCacheObject(String key, String cacheName, String server) throws IOException, ClassNotFoundException, ConnectException {
        String url = StringUtils.join(new String[] { server, cacheName, key}, "/");
        GetMethod getMethod = new GetMethod(url);
        ObjectInputStream oin = null;
        InputStream in = null;
        int status = -1;
        Element element = null;
        try {
            status = httpClient.executeMethod(getMethod);
            if (status == HttpStatus.SC_NOT_FOUND) { // if the content is deleted already               
                return null;
            }
            in = getMethod.getResponseBodyAsStream();
            oin = new ObjectInputStream(in);
            System.out.println("oin.available():" + oin.available()); // returns 0
            System.out.println("oin.read():" + oin.read()); // returns -1
            element = (Element) oin.readObject(); // returns the object
        }
        catch (Exception except) {
            except.printStackTrace();
            throw except;
        }
        finally {
            try {
                oin.close();
                in.close();
            }
            catch (Exception except) {
                except.printStackTrace();
            }
        }

        return element;
    } 
    ```

我在这里想念什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:59:57.857

我认为您会看到这种行为，因为您首先创建`ObjectInputStream`from`InputStream`然后才`available`检查`InputStream`. 如果您检查构造函数，`ObjectInputStream`您可以看到以下内容：

```
public ObjectInputStream(InputStream in) throws IOException {
    verifySubclass();
    bin = new BlockDataInputStream(in);
    handles = new HandleTable(10);
    vlist = new ValidationList();
    enableOverride = false;
    readStreamHeader();
    bin.setBlockDataMode(true);
} 
```

有一种方法`readStreamHeader`可以从输入流中读取标头。`InputStream`因此，有可能在构建过程中读取所有数据`ObjectInputStream`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:55:36.200

您正在调用变量，但`available and read`在变量上。`in``readObject``oin`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T09:09:26.547

你在 EOS 上告诉你的信息流。`available()`没有阻塞地读取零字节；`read()`返回 -1 表示 EOS；`readLine()`将返回 null；并`readXXX()`为任何其他指示 EOS 的 XXX 抛出 EOFException；并`readObject()`返回一个`Object`因为您正在读取`ObjectInputStream`缓冲的 ，而不是您调用所有其他方法的流。注意，您不应该`read()`只是为了测试 EOS 而打电话；并且`available()`首先不是对 EOS 的有效测试：请参阅 Javadoc。

# javascript - 检测 Javascript 中的操作系统版本并重定向

> ID：14931598
> 
> 赞同：2
> 
> 时间：2013-02-18T07:48:54.103
> 
> 标签：javascript, jquery, redirect, mobile

再会

我做了一些研究，发现您可以使用以下 javascript 来检测用户操作系统，无论是 Android、iOS、Windows 等：

```
var OSName="Unknown OS";
if (navigator.appVersion.indexOf("Win")!=-1) OSName="Windows";
if (navigator.appVersion.indexOf("Mac")!=-1) OSName="MacOS";
if (navigator.appVersion.indexOf("X11")!=-1) OSName="UNIX";
if (navigator.appVersion.indexOf("Linux")!=-1) OSName="Linux";

document.write('Your OS: '+OSName); 
```

现在我想做的是根据他的操作系统将用户重新定位到苹果 Appstore 或谷歌 Play 商店，如下所示：

HTML：

```
<a href="" id="redirect">Download our App</a> 
```

和相关的 JS

```
if (OSName="MacOS" ){
$("#redirect").attr("href", "http://www.itunes.com/myapp")
}

elseif (OSName="Linux"){
$("#redirect").attr("href", "http://www.play.google.com/")
}
  (Linux is for Android right? ) 
```

这是正确/最好的方法吗/我的代码可以工作吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T08:26:42.583

您的代码可以简化：

```
var playStoreUrl = "http://www.play.google.com/",
    appStoreUrl  = "http://www.itunes.com/myapp",
    platform     = navigator.platform;

if (/mac/i.test(platform))
    $("#redirect").attr("href", appStoreUrl);
else if (/linux/i.test(platform))
    $("#redirect").attr("href", playStoreUrl);
else
    // Handle the case where the OS is neither MacOS nor Linux 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T07:54:08.333

是的，它会工作..你也可以使用这个库。

[检测移动浏览器 JS](http://detectmobilebrowsers.com/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T07:51:05.823

```
return {
     isMac105: /Mac OS X 10_5/.test(userAgent),
     isMac106: /Mac OS X 10_6/.test(userAgent),
     isMac107: /Mac OS X 10_7/.test(userAgent),
     isMac108: /Mac OS X 10_8/.test(userAgent),
 }; 
```

mac的用户代理，例如

```
Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_1) AppleWebKit/536.25 (KHTML, like Gecko) Version/6.0 Safari/536.25

Macintosh; U; Intel Mac OS X 10_5_8; ru) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5 
```

# regex - “*.txt”正则表达式如何与 ls 命令一起使用？

> ID：14931604
> 
> 赞同：-1
> 
> 时间：2013-02-18T07:50:06.423
> 
> 标签：regex, shell, unix, ls

我有一个文件名

> 文本文件

我正在运行这个命令

> ls *.txt

理想情况下，它应该匹配。带有 'a' 和 * 的字符为零，但它返回的文件如下

> a.txt，b.txt

为什么这里 ls 正在治疗。作为文字点，比正则表达式的任何字符都更重要。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T07:53:42.180

它称为[文件通配符](http://en.wikipedia.org/wiki/Glob_%28programming%29)，而不是[正则表达式](http://en.wikipedia.org/wiki/Regular_expression)。

虽然两者都支持“?”、“*”等通配符，但它们有不同的方案。

例如，glob 中的“a*”匹配任何以“a”开头的*文件名*，但在正则表达式中，它匹配任何包含 0 个或多个字母“a”的*字符串。*另一个区别是通配符“？” 正则表达式中的“*”必须有一个前面的元素，而在通配符中则不需要。

至于你的最后一个问题，一个点“。” 在 globbing 中没有特殊含义，它始终是字面上的点。要在通配符中准确匹配一个未知字符，可以使用“？”。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-18T07:51:57.523

它不是正则表达式，它的[通配符](http://en.wikipedia.org/wiki/Wildcard_character)，其中`*`表示任何字符，`.txt`这就是为什么你要获取所有带有扩展名的文件`.txt`

[文件和目录 - 通配符](http://en.wikipedia.org/wiki/Wildcard_character#Files_and_directories)

> 在 CP/M、DOS、Microsoft Windows 和类 Unix 操作系统中指定文件名（或路径）时，星号字符 ("*") 替代零个或多个字符。在类 Unix 操作系统中，问号 ("?") 只替换一个字符

# java - 同时从多个线程调用的 shell 脚本

> ID：14931605
> 
> 赞同：0
> 
> 时间：2013-02-18T07:50:08.003
> 
> 标签：java, shell, jakarta-ee, unix, aix

我正在使用 Runtime.exec 方法从 java 调用 aix shell 脚本。shell 脚本将文件名作为输入。根据文件名写入脚本内部的操作。shell的输出取决于输入参数。

如果多个java线程同时并行调用shell脚本，会不会产生问题？（每个 java 线程可能会调用具有不同文件名的脚本。）我是否必须为每个并行执行编写单独的 shell 脚本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T08:21:47.470

只要 shell 脚本本身可以并行运行而不干扰其他调用，这不会产生问题。

对于脚本的每次调用，都会产生一个单独的进程（在 aix 级别上）。

# objective-c - 游戏暂停时停止动画然后在 cocos2d 中恢复

> ID：14931607
> 
> 赞同：3
> 
> 时间：2013-02-18T07:50:14.980
> 
> 标签：objective-c, cocos2d-iphone

根据我在互联网上所做的研究，我想出了这段代码来暂停和恢复游戏：

```
-(void)pauseGame:(UIApplication *)application{
[[CCDirector sharedDirector] pause];
//do other actions necessary}

-(void)resumeGame:(UIApplication *)application{
[[CCDirector sharedDirector] resume];
//do other actions} 
```

这工作正常，但我的问题是如果游戏暂停，关闭然后重新打开。通常，如果您暂停游戏，然后关闭它，当您打开它时，一切仍应暂停。经过一些研究，我最终在 Appdelegate 中得到了这段代码：

```
-(void) applicationDidEnterBackground:(UIApplication*)application{
if( [navController_ visibleViewController] == director_ )
    [director_ stopAnimation];

RandomScene *s = [RandomScene node];
if(s.layer.gameStatus == FALSE)
{
    [[CCDirector sharedDirector]pause];
    [[CCDirector sharedDirector]stopAnimation];
    [s.layer stopAllActions];
}} 
```

使用此代码，当我重新打开游戏时，计时器仍会与所有触摸事件一起暂停。但是，我的动画仍在工作，所以我的精灵仍在不应该移动的时候移动。重新打开游戏时如何完全停止动画？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:23:18.290

为此，我建议您手动控制您的精灵。在主游戏场景中创建一个方法，该方法将暂停您的游戏。`pauseSchedulersAndActions`您可以使用精灵对象上的方法暂停精灵和动画。并在您的 GameScene 中的 resumeMethod 中恢复这些操作。

通过使用 CCDirector 获取 runningScene 的引用，从 AppDelegate 调用这些方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T06:48:21.470

经过进一步研究，我设法通过[这篇文章](https://stackoverflow.com/questions/14761735/how-to-pause-and-resume-in-cocos2d)找到了解决问题的方法。我在我的 pauseGame 和 resumeGame 方法中删除了 CCDirector 暂停和恢复，然后添加了这个：

```
//pause
[sprite.actionManager pauseTarget:sprite];

//resume
[sprite.actionManager resumeTarget:sprite]; 
```

即使游戏关闭然后重新打开，这也会停止动画并保持“暂停”状态，我什至不需要玩 AppDelegate 类:)。我希望这对其他人也有帮助。

更新：以防万一其他人使用循环创建精灵，这是我设法为其创建暂停和恢复功能的方法：

```
[sprite.actionManager pauseAllRunningActions];
[sprite.actionManager resumeTargets:[NSSet setWithArray:spriteArray]]; 
```

请注意两者之间的区别（resumeTarget 和 resumeTargets），然后因为 resumeTargets 会要求 NSSet，所以我只需使用上述代码将数组对象传递给 NSSet。

# ios - 来自facebook api的评论，带有objective-c的graph api

> ID：14931612
> 
> 赞同：1
> 
> 时间：2013-02-18T07:50:37.990
> 
> 标签：ios, objective-c, json, facebook-graph-api

我正在尝试使用图形 api 获取 facebook 帖子的评论。现在我有以下方法。

```
+(NSArray *)getCommentsWithParam:(NSString *)Param
{
    NSString *request = [NSString stringWithFormat:@"https://graph.facebook.com/comments/?ids=%@",Param];
    NSLog(@"request is %@",request);
    NSString *vfk = [NSString stringWithFormat:@"comments.data"];
    return [[self executeGenkFetch:request] valueForKey:vfk];
} 
```

`executeGenkFetch`只是要解析 json 并将`NSDictionary`结果返回给我。但是现在当我读到这样的结果时。

```
-(void)getComments{
    NSArray *comments           = [GenkData getCommentsWithParam:_commentsUrl];
    NSLog(@"Comments are %@", comments);
} 
```

我总是得到（空）。这就是json的样子。

```
{
   "http://www.krcgenk.be//nl/nieuws/show/krc-genk-speelt-1-1-gelijk-op-vfb-stuttgart/1329": {
      "comments": {
         "data": [
            {
               "id": "412008348889230_2723627",
               "from": {
                  "name": "Put Patrick",
                  "id": "1090951059"
               },
               "message": "Proficiat mannen",
               "can_remove": false,
               "created_time": "2013-02-15T00:10:12+0000",
               "like_count": 4,
               "user_likes": false
            },
            {
               "id": "412008348889230_2723878",
               "from": {
                  "name": "Benny Froyen",
                  "id": "1095529244"
               },
               "message": "Knap resultaat voor Genk. Alles blijft open voor de terugwedstrijd in Genk. Leuk!",
               "can_remove": false,
               "created_time": "2013-02-15T02:25:51+0000",
               "like_count": 1,
               "user_likes": false
            }
 ],
         "paging": {
            "next": "https://graph.facebook.com/412008348889230/comments?limit=25&offset=25&__after_id=412008348889230_2725492"
         }
      }
   }
} 
```

# c# - 更改自定义 WPF ComboBox 的背景

> ID：14931618
> 
> 赞同：4
> 
> 时间：2013-02-18T07:51:36.307
> 
> 标签：c#, wpf, custom-controls

我有一个自定义组合框，它应该对一些依赖属性的值做出反应。（例如验证）。现在，我只是不知道如何在控件模板的触发器中更改组合框控件的背景...我可以更改下拉菜单，但还没有找到如何更改整个控件的背景. 依赖属性设置正确，这里是 XAML：

```
 <ControlTemplate x:Key="ComboBoxToggleButton" TargetType="ToggleButton">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition Width="20" />
        </Grid.ColumnDefinitions>
        <Border
              x:Name="Border" 
              Grid.ColumnSpan="2"
              CornerRadius="2"
              Background="{StaticResource NormalBrush}"
              BorderBrush="{StaticResource NormalBorderBrush}"
              BorderThickness="1" />
        <Border 
              Grid.Column="0"
              CornerRadius="2,0,0,2" 
              Margin="1" 
              Background="{StaticResource WindowBackgroundBrush}" 
              BorderBrush="{StaticResource NormalBorderBrush}"
              BorderThickness="0,0,1,0" />
        <Path 
              x:Name="Arrow"
              Grid.Column="1"     
              Fill="{StaticResource GlyphBrush}"
              HorizontalAlignment="Center"
              VerticalAlignment="Center"
              Data="M 0 0 L 4 4 L 8 0 Z"/>
    </Grid>
    <ControlTemplate.Triggers>
        <Trigger Property="ToggleButton.IsMouseOver" Value="true">
            <Setter TargetName="Border" Property="Background" Value="{StaticResource DarkBrush}" />
        </Trigger>
        <Trigger Property="ToggleButton.IsChecked" Value="true">
            <Setter TargetName="Border" Property="Background" Value="{StaticResource PressedBrush}" />
        </Trigger>
        <Trigger Property="IsEnabled" Value="False">
            <Setter TargetName="Border" Property="Background" Value="{StaticResource DisabledBackgroundBrush}" />
            <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource DisabledBorderBrush}" />
            <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}"/>
            <Setter TargetName="Arrow" Property="Fill" Value="{StaticResource DisabledForegroundBrush}" />
        </Trigger>
    </ControlTemplate.Triggers>
</ControlTemplate>

<ControlTemplate x:Key="ComboBoxTextBox" TargetType="TextBox">
    <Border x:Name="PART_ContentHost" Focusable="False" Background="{TemplateBinding Background}" />

</ControlTemplate>

<Style x:Key="{x:Type local:ErgoDentComboBox}" TargetType="ComboBox" BasedOn="ComboBox">
    <Setter Property="SnapsToDevicePixels" Value="true"/>
    <!--<Setter Property="OverridesDefaultStyle" Value="true"/>-->
    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
    <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
    <Setter Property="ScrollViewer.CanContentScroll" Value="true"/>
    <Setter Property="MinWidth" Value="120"/>
    <Setter Property="MinHeight" Value="20"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type local:ErgoDentComboBox}">
                <Grid>
                    <ToggleButton 
                        Name="ToggleButton" 
                        Template="{StaticResource ComboBoxToggleButton}" 
                        Grid.Column="2" 
                        Focusable="false"
                        IsChecked="{Binding Path=IsDropDownOpen,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}"
                        ClickMode="Press">
                    </ToggleButton>
                    <ContentPresenter
                        Name="ContentSite"
                        IsHitTestVisible="False" 
                        Content="{TemplateBinding SelectionBoxItem}"
                        ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                        ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                        Margin="3,3,23,3"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Left" />
                    <TextBox x:Name="PART_EditableTextBox"
                            Style="{x:Null}" 
                            Template="{StaticResource ComboBoxTextBox}" 
                            HorizontalAlignment="Left" 
                            VerticalAlignment="Center" 
                            Margin="3,3,23,3"
                            Focusable="True" 
                          Background="Transparent"
                            Visibility="Hidden"
                            IsReadOnly="{TemplateBinding IsReadOnly}"/>
                    <Popup 
                            Name="Popup"
                            Placement="Bottom"
                            IsOpen="{TemplateBinding IsDropDownOpen}"
                            AllowsTransparency="True" 
                            Focusable="False"
                            PopupAnimation="Slide">
                        <Grid 
                                  Name="DropDown"
                                  SnapsToDevicePixels="True"                
                                  MinWidth="{TemplateBinding ActualWidth}"
                                  MaxHeight="{TemplateBinding MaxDropDownHeight}">
                            <Border 
                                x:Name="DropDownBorder"
                                Background="{StaticResource WindowBackgroundBrush}"
                                BorderThickness="1"
                                BorderBrush="{StaticResource SolidBorderBrush}"/>
                            <ScrollViewer Margin="4,6,4,6" SnapsToDevicePixels="True">
                                <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                            </ScrollViewer>
                        </Grid>
                    </Popup>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="HasItems" Value="false">
                        <Setter TargetName="DropDownBorder" Property="MinHeight" Value="95"/>
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="false">
                        <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}"/>
                    </Trigger>
                    <Trigger Property="IsGrouping" Value="true">
                        <Setter Property="ScrollViewer.CanContentScroll" Value="false"/>
                    </Trigger>
                    <Trigger SourceName="Popup" Property="Popup.AllowsTransparency" Value="true">
                        <Setter TargetName="DropDownBorder" Property="CornerRadius" Value="4"/>
                        <Setter TargetName="DropDownBorder" Property="Margin" Value="0,2,0,0"/>
                    </Trigger>
                    <Trigger Property="IsEditable"
           Value="true">
                        <Setter Property="IsTabStop" Value="false"/>
                        <Setter TargetName="PART_EditableTextBox" Property="Visibility"    Value="Visible"/>
                        <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden"/>
                    </Trigger>
                    <!-- THIS ISN'T WORKING -->
                    <Trigger Property="IsValidationError" Value="False">
                        <Setter Property="BorderBrush" Value="DarkGreen" />
                        <Setter Property="Background" Value="Green" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
    <Style.Triggers>
    </Style.Triggers>
</Style> 
```

在控件的代码中，我可以轻松设置背景，我将如何在触发器中执行此操作？

谢谢

丹尼

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T13:58:55.253

对于您真正想要更改的内容，我仍然有些困惑。我假设它是 ToggleButton 背景。

由于 ToggleButton 有一个单独的 ControlTemplate `TemplateBinding`，如果要将颜色从 ComboBox 模板触发器传递到 ToggleButton 模板，我建议您使用。相同的方法将适用于更改边框颜色。

在您的组合框模板中：

```
<ToggleButton Name="ToggleButton" Template="{StaticResource ComboBoxToggleButton}" 
              Grid.Column="2" Focusable="false" ClickMode="Press"
              IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
              Background="{StaticResource WindowBackgroundBrush}"/> <!-- notice this line -->

 <Trigger Property="IsValidationError" Value="False">
     <Setter TargetName="DropDownBorder" Property="Background" Value="Yellow" /> <!-- changing dropdown background -->
     <Setter TargetName="ToggleButton" Property="Background" Value="Yellow" /> <!-- changing togglebutton background -->
 </Trigger> 
```

在您的切换按钮模板中：

```
 <Border Grid.Column="0" CornerRadius="2,0,0,2" Margin="1" 
         BorderBrush="{StaticResource NormalBorderBrush}" BorderThickness="0,0,1,0"
         Background="{TemplateBinding Background}" /> <!-- notice this line --> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:12:08.907

我认为您应该尝试为您的 ContentSite 设置 Background 属性（内容演示者，因为它是显示组合框内容的人）。否则，一个解决方法的想法 - 用边框包裹内容演示者并设置为免费。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T10:36:04.740

Background 属性只会更改 WPF 组合框的编辑和下拉箭头区域。要更改弹出背景和突出显示颜色等其他颜色，您必须向资源字典添加一些画笔，映射到系统颜色：

```
var combo = new Combobox(); 
combo.Background = Brushes.Yellow;
combo.Foreground = Brushes.Blue;
combo.Resources.Add(SystemColors.WindowBrushKey, Brushes.Yellow);
combo.Resources.Add(SystemColors.HighlightBrushKey, Brushes.Red);

<Combobox Background="Yellow" Foreground="Blue">
   <Combobox.Resources>
      <SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}" Color="Yellow" />
      <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="Red" />
   </Combobox.Resources>
</Combobox> 
```

资源：[链接] [http://www.codeproject.com/Tips/84637/TIP-Change-background-of-WPF-Combobox](http://www.codeproject.com/Tips/84637/TIP-Change-background-of-WPF-Combobox)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T13:47:40.910

这就是我所做的......在你有“ContentPresenter”的地方，我用“边框”包裹了我的，并为它分配了一个“名称”值，例如

```
<Border Name="presenterBorder"
    Background="White"
    BorderThickness="0"
    BorderBrush="Transparent"
    Margin="0"
    Grid.Column="0" >

    <ContentPresenter
        Name="ContentSite"
        IsHitTestVisible="False" 
        Content="{TemplateBinding SelectionBoxItem}"
        ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
        ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
        Margin="3,3,23,3"
        VerticalAlignment="Center"
        HorizontalAlignment="Left" />
</Border> 
```

然后，改变你的触发器......在我的例子中，因为我没有你拥有的相同属性，我只是通过“IsMouseOver”进行模拟。我改变了颜色，但关键是“TargetName”。您想要更改名为“presenterBorder”的控件的背景和边框，这是您包装文本内容演示者的边框。

```
<Trigger Property="IsMouseOver" Value="True" >
    <Setter Property="BorderBrush" Value="Red" TargetName="presenterBorder" />
    <Setter Property="Background" Value="Maroon" TargetName="presenterBorder" />
</Trigger> 
```

# mysql - MySQL 无法创建表 (errno: 150) - 表没有外键

> ID：14931620
> 
> 赞同：1
> 
> 时间：2013-02-18T07:51:40.487
> 
> 标签：mysql, runtime-error

1-我知道这个问题已经被问过好几次了。2- 我都读了 3- 它没有解决我的问题 4- 我知道这与外键关系有关

我只想创建一个没有外键的表，但仍然出现此错误

```
Can't create table 'pwp.decision_nodes' (errno: 150) 
```

这是表创建语句

```
CREATE TABLE IF NOT EXISTS `decision_nodes` (
  `id` BIGINT(45) NOT NULL AUTO_INCREMENT,
  `decision_node_id` BIGINT(50) NOT NULL,
  KEY pk_index(`id`),
  PRIMARY KEY (`id`)
) ENGINE=INNODB AUTO_INCREMENT=125 DEFAULT CHARSET=utf8; 
```

我什至试过

```
SET FOREIGN_KEY_CHECKS = 0; 
```

并运行 create 语句但无济于事。

MySQL版本

```
'5.5.21-log' 
```

我不太确定，但我认为以前（很久以前）数据库中有一个同名的表，它可能被重命名或删除。这可以是一个提示吗？

该历史表（重命名或删除）与其他两个表具有外键关系， `help_entity`并且 `ref_cancer_type`

```
CREATE TABLE `help_entity` (
  `id` bigint(50) NOT NULL AUTO_INCREMENT,
  `type` int(50) NOT NULL,
  `comments` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=171 DEFAULT CHARSET=utf8

CREATE TABLE `ref_cancer_type` (
  `id` char(3) NOT NULL,
  `description` varchar(100) DEFAULT NULL,
  `is_active` tinyint(4) NOT NULL,
  `display_order` decimal(10,0) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 
```

这能证明任何意义吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:14:22.347

我认为您的其他一些表具有对您现在要创建的该表的外键引用。

见[http://dev.mysql.com/doc/refman/5.1/en/innodb-foreign-key-constraints.html](http://dev.mysql.com/doc/refman/5.1/en/innodb-foreign-key-constraints.html)

```
If you re-create a table that was dropped, it must have a definition that conforms to the foreign
key constraints referencing it. It must have the right column names and types, and it must have 
indexes on the referenced keys, as stated earlier. If these are not satisfied, MySQL returns error 
number 1005 and refers to error 150 in the error message. 
```

# php - 隐藏活动菜单项的下拉菜单

> ID：14931622
> 
> 赞同：1
> 
> 时间：2013-02-18T07:51:49.443
> 
> 标签：php, jquery, css

我正在尝试做类似financial.yahoo.com 的菜单的事情，它会阻止它在活动菜单项处下拉。我已经应用 jQuery 添加`addclass()`到添加`.active`类，但现在我只想在活动类中停止下拉。

我在哪里尝试过这段代码但不起作用

```
$('#menu > ul > li > a.active').parent('div').hide(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:54:04.573

使用[最接近（）](http://api.jquery.com/closest/)而不是[parent（）](http://api.jquery.com/parent/)，因为`div`它不是`a`. 最接近的将通过测试元素本身并遍历其在 DOM 树中的祖先来查找与选择器匹配的第一个元素

```
$('#menu > ul > li > a.active').closest('div').hide(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:54:40.443

绑定到`.mouseleave()`事件。如同

```
$('.main_menu_container').mouseleave( function () {
    $(this).children('.submenu').hide();
}); 
```

# symfony - 属性“groups”在“Backend\UsuariosBundle\Entity\Usuario”类中不公开。也许您应该创建方法“setGroups()”？

> ID：14931624
> 
> 赞同：0
> 
> 时间：2013-02-18T07:51:56.387
> 
> 标签：symfony, fosuserbundle

我有这个问题，我无法解决。我是 Symfony 2 的新手。我解释了我的问题。我有一个 Usuario 类和 Group 类。我已经覆盖了 RegistrationForm 以向用户添加组。

这是我的代码

```
<?php

namespace Backend\UsuariosBundle\Form\Type;

use Symfony\Component\Form\FormBuilderInterface;
use FOS\UserBundle\Form\Type\RegistrationFormType as BaseType;

class RegistrationFormType extends BaseType
{
    public function buildForm(FormBuilderInterface $builder, array $options)
    {

        // agrega tu campo personalizado
        $builder->add('name', 'text', array('label'=>'Nombre Completo de usuario:'));

        parent::buildForm($builder, $options);

        // agrega tu campo personalizado
        $builder->add('roles', 'choice', 
                            array('label' => 'Elige un Rol para el usuario', 'required' => true, 
                                'choices' => array( 1 => 'ROLE_ADMIN', 2 => 'ROLE_USER'), 
                                'multiple' => true))
                ->add('groups', 'entity', array(
                            'label' => 'Asociar al Grupo de',
                            'empty_value' => 'Elija un grupo para el usuario',
                            'class' => 'BackendUsuariosBundle:Group',
                            'property' => 'name',
                        ))

        ;
    }

    public function getName()
    {
        return 'mi_user_registration';
    }
} 
```

我的 Usuario 课程是这样的：

```
<?php

namespace Backend\UsuariosBundle\Entity;

use FOS\UserBundle\Entity\User as BaseUser;
use Doctrine\ORM\Mapping as ORM;
use Symfony\Component\Validator\Constraints as Assert;
use Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity;
use \FOS\UserBundle\Model\GroupInterface;
use Doctrine\Common\Collections\ArrayCollection;

/**
 * @ORM\Entity
 * @ORM\Table(name="Usuario")
 * @UniqueEntity(fields="username")
 * @UniqueEntity(fields="email")
 */
class Usuario extends BaseUser
{

    /**
     * @ORM\Column(type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $id;

    /**
     * @ORM\Column(type="string", length=50)
     *
     * @Assert\NotBlank(message="Por favor, introduce tu nombre.", groups={"Registration", "Profile"})
     * @Assert\MinLength(limit="3", message="El nombre es demasiado corto.", groups={"Registration", "Profile"})
     * @Assert\MaxLength(limit="50", message="El nombre es demasidado largo.", groups={"Registration", "Profile"})
     */
    protected $name;

    /**
     * @ORM\ManyToMany(targetEntity="Backend\UsuariosBundle\Entity\Group")
     * @ORM\JoinTable(name="fos_user_user_group",
     *      joinColumns={@ORM\JoinColumn(name="user_id", referencedColumnName="id")},
     *      inverseJoinColumns={@ORM\JoinColumn(name="group_id", referencedColumnName="id")}
     * )
     */
    protected $groups;

    public function __construct() {
        $this->groups = new ArrayCollection();
        parent::__construct();
    }

    /**
     * Set name
     *
     * @param string $name
     * @return Usuario
     */
    public function setName($name)
    {
        $this->name = $name;

        return $this;
    }

    /**
     * Get name
     *
     * @return string 
     */
    public function getName()
    {
        return $this->name;
    }

    /**
     * Agrega un rol al usuario.
     * @throws Exception
     * @param Rol $rol 
     */
    public function addRole( $rol ) {
        $this->roles = array();
        if($rol == 1) {
          array_push($this->roles, 'ROLE_ADMIN');
        }
        else if($rol == 2) {
          array_push($this->roles, 'ROLE_USER');
        }
    }

    /**
     * Get id
     *
     * @return integer 
     */
    public function getId()
    {
        return $this->id;
    }

    /**
     * Add groups
     *
     * @param \FOS\UserBundle\Entity\Group $groups
     * @return Usuario
     */
    public function addGroup(GroupInterface  $groups)
    {
        $this->groups[] = $groups;

        return $this;
    }

    /**
     * Remove groups
     *
     * @param \FOS\UserBundle\Model\GroupableInterface $groups
     */
    public function removeGroup(GroupInterface  $groups)
    {
        $this->groups->removeElement($groups);
    }

    /**
     * Get groups
     *
     * @return \Doctrine\Common\Collections\Collection 
     */
    public function getGroups()
    {
        return $this->groups;
    }
} 
```

表单显示正确，但保存时显示此错误： *属性“组”在类“Backend\UsuariosBundle\Entity\Usuario”中不公开。也许您应该创建方法“setGroups()”？*

为什么？一些帮助/想法？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:03:09.093

我想您的经验不足可能会扩展到 PHP 和一般编程。
但是，我们在这里为您提供帮助。

正如错误对你说的那样（当错误真的在说话时，这是一个幸运的情况）你错过了一个名为的方法`setGroups()`

您应该通过以下方式实现它

```
 /**
     * Set groups
     *
     * @param Doctrine\Common\Collections\ArrayCollection $groups
     * @return Usuario
     */

    public function setGroups(ArrayCollection  $groups)
    {
        $this->groups = $groups;

        return $this;
    } 
```

此方法与您的类的现有方法有很大不同，称为`addGroup`; 扩展`addGroup`现有的组数组，而`setGroups()`将所有组放入 ArrayCollection 中，如果之前关联了其他组，它们将被覆盖。

Symfony2 表单引擎将默认使用`setXXXX`（其中 XXXX 是您要添加的属性）方法，因此对于实现它们至关重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-11T09:47:49.250

@DonCallisto 有点正确，但是您的问题更容易解决并且原因不同。

此外，如果您添加一个 setGroup()，那么您可能会在以后遇到与`ArrayCollection`vs a相关的问题`PersisitentCollection`。对此的修复变得混乱。

Symfony 在这里期望的是，你拥有方法`addGroups()`和`removeGroups()`. *复数*。你有`addGroup()`和`removeGroup()`。

我相信如果你在添加这些行之前生成 getters/setters/adders 会发生这种情况，这会告诉 Symfony 以倍数处理它：

```
public function __construct() {
    $this->groups = new ArrayCollection();
} 
```

基本上，它认为您一次只能期待一个组，因此它以语法方式设置了 getter/setter。这已更改，Symfony 的语法用法也已更改，但方法名称保持不变。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-18T08:03:15.580

它是自动映射，也许您可​​以添加：

```
 /**
     * Add groups
     *
     * @param \FOS\UserBundle\Entity\Group $groups
     * @return Usuario
     */
    public function setGroup(GroupInterface  $groups)
    {
        $this->groups[] = $groups;

        return $this;
    } 
```

# php - PHP代码计算两个单词中的重复字母

> ID：14931631
> 
> 赞同：-2
> 
> 时间：2013-02-18T07:52:26.523
> 
> 标签：php, on-duplicate-key

嗨，我是 php 的新手，我想问一下如何编写一个代码，将重复字母的数量放在两个单词中。例如：“apple”和“ball”总共有 7 个相同的字母（a、a、p、p、l、l、l）提前谢谢你 :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:58:32.810

不是最有效但可以说很简单：

```
$word1 = "apple";
$word2 = "ball";
print_r(array_count_values(str_split($word1.$word2))); 
```

输出：

```
Array
(
    [a] => 2
    [p] => 2
    [l] => 3
    [e] => 1
    [b] => 1
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:00:06.483

你可以做这样的事情。

```
$a = 'apple';
$b = 'ball';

$duplicates = array_count_values(array_merge(str_split($a), str_split($b)));

// Array ( [a] => 2 [p] => 2 [l] => 3 [e] => 1 [b] => 1 )
print_r($duplicates); 
```

如果你想获得单词之间的匹配总数，你可以这样做。

```
$totalMatches = 0;

foreach($duplicates as $count) {
    if($count > 1)
        $totalMatches += $count;
}

// 7 matches!
echo $totalMatches . ' matches!'; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:01:03.610

可能是这样的：

```
$a= "apple";
$a.=  "ball";
print_r(array_count_values(str_split($a))); 
```

输出：

```
Array
(
    [a] => 2
    [p] => 2
    [l] => 3
    [e] => 1
    [b] => 1
) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-18T08:02:24.237

```
$str1   = "apple";
$ar1    = str_split($str1);

$str2   = "ball";
$ar2    = str_split($str2);

$res    = array_merge($ar1,$ar2);
$count  = array_count_values($res);

print_r($count); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T07:57:30.143

尝试[str_split](http://www.php.net/manual/en/function.str-split.php)从字符串创建数组，然后比较数组本身和其他数组以查找重复条目。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-18T08:11:01.463

```
<?php

$str1 = 'applle';
$str2 = 'ball';
$str1arr = str_split($str1);
$str2arr = str_split($str2);
$all = array_merge($str1arr, $str2arr);
$countall = count($all) - count(array_intersect($str1arr, $str2arr));
echo "count of similar charactors (overall) =".($countall);//7!

?> 
```

# assembly - 将 Int13h 与 FreeDos 调试一起使用

> ID：14931633
> 
> 赞同：0
> 
> 时间：2013-02-18T07:52:45.760
> 
> 标签：assembly, x86, dos, interrupt, bios

我正在做一些组装，作为学校项目的一部分，我正在使用 Int 13h 08 来读取当前磁盘参数，但我搞砸了。我在 VirtualBox 中使用 FreeDOS，并使用 Debug。

我的代码是：

```
MOV AH,08
MOV DL,80
INT 13
MOV AH,4C
INT 21 
```

无论终止部分如何，我所知道的都没有被退回/打印。我需要想出某种类型的打印代码吗？我也不确定这个命令读取的任何信息会去哪里，

我的想法是代码执行后其中一个寄存器会保存一个指针，我只需要从该指针开始读取即可查看信息。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:00:24.830

如果您在中断方面需要任何帮助，[Ralf Browns 中断列表](http://www.ctyme.com/intr/rb-0621.htm)是您的朋友。（是的，如果你想在屏幕上显示信息，你必须自己想出一些打印代码）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-07-25T13:48:20.013

这是在 lDebug（FreeDOS Debug 的一个分支）中使用您的代码的示例会话。我正在逐步执行代码，直到调用中断 13h 之后。

```
-a
18BD:0100 mov ah, 8
18BD:0102 mov dl, 80
18BD:0104 int 13
18BD:0106
-r
AX=0000 BX=0000 CX=0000 DX=0000 SP=FFFE BP=0000 SI=0000 DI=0000
DS=18BD ES=18BD SS=18BD CS=18BD IP=0100 NV UP EI PL ZR NA PE NC
18BD:0100 B408              mov     ah, 08
-t
AX=0800 BX=0000 CX=0000 DX=0000 SP=FFFE BP=0000 SI=0000 DI=0000
DS=18BD ES=18BD SS=18BD CS=18BD IP=0102 NV UP EI PL ZR NA PE NC
18BD:0102 B280              mov     dl, 80
-
AX=0800 BX=0000 CX=0000 DX=0080 SP=FFFE BP=0000 SI=0000 DI=0000
DS=18BD ES=18BD SS=18BD CS=18BD IP=0104 NV UP EI PL ZR NA PE NC
18BD:0104 CD13              int     13
-
AX=0000 BX=0000 CX=FE3F DX=FE04 SP=FFFE BP=0000 SI=0000 DI=0000
DS=18BD ES=18BD SS=18BD CS=18BD IP=0106 NV UP EI PL ZR NA PE NC
18BD:0106 0000              add     [bx+si], al                      DS:0000=CD
- 
```

此时，您可以使用另一个答案链接的中断列表条目来确定寄存器中的结果是什么意思：[http ://www.ctyme.com/intr/rb-0621.htm](http://www.ctyme.com/intr/rb-0621.htm)

# php - 阿波罗 activemq ack

> ID：14931641
> 
> 赞同：0
> 
> 时间：2013-02-18T07:53:13.947
> 
> 标签：php, activemq, stomp, apollo

嗨，我使用 Apollo Activemq Broker 和 Stomp。
我编写了两种方法，一种用于将消息发送到代理，另一种用于从队列中读取消息。
当我向 borker 发送一条消息然后我阅读它时，一切正常，我可以阅读并确认消息，当我多次运行发送消息并且队列中有很多消息时，我的问题出现了，当我尝试每次我只收到来自队列的第一条消息时阅读并确认消息。另外，如果我运行一个循环“

```
while ($con->HasFrame) {  
     $msg = $con->readFrame();
         $con->ack($msg);
} 
```

一切正常，我可以阅读并确认队列中的所有消息。

更新：当从 PHP 接收到 ack 时，ActiveMQ 不会从队列中删除消息。Ack 返回 true 但消息仍在队列中。

更新：我的问题似乎是“prefetchSize”，默认值为 1000，我想将其设置为 1，我使用 stomp 与经纪人交互，请给我一个提示，如果我将该值从 1000 更改为 1。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-23T09:41:14.157

尝试`activemq.prefetchSize:1`在 SUBSCRIBE 框架中添加标题。

# jwplayer - 如何禁用 jwplayer 时间滑块

> ID：14931644
> 
> 赞同：5
> 
> 时间：2013-02-18T07:53:26.653
> 
> 标签：jwplayer, jwplayer6

我有 jwplayer 6，我想禁用 jwplayer 时间滑块。有谁知道我如何禁用它的功能

![这是 jwplayer 的工具栏快照](../Images/0379c3f7b3b4ac0a191b7bc68879482d.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-23T08:45:50.023

我们可以创建新皮肤或编辑当前自定义皮肤以移除时间滑块。

以下`xml`元素处理时间滑块。

```
<element name="timeSliderRail" src="timeSliderRail.png" />
<element name="timeSliderBuffer" src="timeSliderBuffer.png" />
<element name="timeSliderProgress" src="timeSliderProgress.png" />
<element name="timeSliderThumb" src="timeSliderThumb.png" /> 
```

我们可以根据需要修改它们。

# android - 如何显示自定义键盘

> ID：14931651
> 
> 赞同：0
> 
> 时间：2013-02-18T07:53:40.713
> 
> 标签：android, keyboard, android-edittext

我有 EditText，当用户单击此 EditText 时，我需要显示我的自定义键盘。（我不需要将此键盘设置为默认，只需使用我的editView显示一次）如何制作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:55:54.100

在xml中，设置如下

```
android:inputMethod="com.myapp.mykeyboard" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:00:14.043

为你的键盘做一个布局，然后在你的 oncreate 方法中做这样的事情

```
 setContentView(R.layout.main);
        // adjusting key regarding window sizes
        setKeys();
        setFrow();
        setSrow();
        setTrow();
        setForow();
        mEt = (EditText) findViewById(R.id.xEt);
        mEt.setOnTouchListener(this);
        mEt.setOnFocusChangeListener(this);
        mEt1 = (EditText) findViewById(R.id.et1);

        mEt1.setOnTouchListener(this);
        mEt1.setOnFocusChangeListener(this);
        mEt.setOnClickListener(this);
        mEt1.setOnClickListener(this);
        mLayout = (RelativeLayout) findViewById(R.id.xK1);
        mKLayout = (RelativeLayout) findViewById(R.id.xKeyBoard);

@Override
public boolean onTouch(View v, MotionEvent event) {
    if (v == mEt) {
        hideDefaultKeyboard();
        enableKeyboard();

    }
    if (v == mEt1) {
        hideDefaultKeyboard();
        enableKeyboard();

    }
    return true;
}
private void hideDefaultKeyboard() {
    getWindow().setSoftInputMode(
            WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);

}
private void enableKeyboard() {

    mLayout.setVisibility(RelativeLayout.VISIBLE);
    mKLayout.setVisibility(RelativeLayout.VISIBLE);

}

// Disable customized keyboard
private void disableKeyboard() {
    mLayout.setVisibility(RelativeLayout.INVISIBLE);
    mKLayout.setVisibility(RelativeLayout.INVISIBLE);

} 
```

# c# - 两种不同方法中的参数名称相同

> ID：14931653
> 
> 赞同：1
> 
> 时间：2013-02-18T07:53:52.563
> 
> 标签：c#, visual-studio-debugging

请注意这张图片 ![在此处输入图像描述](../Images/275437ec7f33ce088a32307af1b328a0.png) ，我在顶部方法中设置了断点。但是如果查看底部方法的参数，您可以看到顶部方法的值。我知道这是因为命名但我想知道为什么？与`CLR`或编译器有关？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:58:18.457

Visual Studio 识别您悬停的符号。它将找到字符串“会议”。为了显示该值，调试器将在当前范围内查找具有该名称的符号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T07:58:35.203

这只是与**调试器**相关的东西，而不是 CLR 或其他任何东西。在任何给定范围内，只有一个具有指定名称的可访问变量或对象，因此调试器不会尝试区分出现在不同位置的相同名称。

将鼠标悬停在*名称*上相当于在调试器的监视窗口中为变量添加*监视。*你从哪里取的*名字*并不重要。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:00:31.400

程序执行适用于`stack`程序推送的位置`values`及其`instructions`上。

因此，*观察窗口*查询*名称与值*的“哈希表”并向您显示结果。

在这个具体的例子中，你有 2 个同名的变量，其中一个已经在堆栈中可用，所以*监视窗口*只显示它的结果。

# mysql - 使用 group by 每 2 分钟对数据进行分组

> ID：14931654
> 
> 赞同：2
> 
> 时间：2013-02-18T07:53:58.180
> 
> 标签：mysql, sql

我有一个数据库，可以找到每分钟的总位数，并使用该`group by`语句对它们进行分组。我想知道，如何使用相同的`group by`语句`totalBits`对每 2 分钟进行一次分组和求和？

这是我每分钟分组的一组查询

```
SELECT SUM(totalBits ) AS totalBits,
EXTRACT( YEAR FROM timeStampID ) AS YEAR,
EXTRACT( MONTH FROM timeStampID ) AS MONTH ,
EXTRACT( DAY FROM timeStampID ) AS DAY ,
EXTRACT( HOUR FROM timeStampID ) AS HOUR ,
EXTRACT( MINUTE FROM timeStampID ) AS MINUTE ,
EXTRACT( SECOND FROM timeStampID ) AS SECOND FROM  `ipByteReceive1`
WHERE  `timeStampID` >  '2013-01-21 08:58:55'
GROUP BY YEAR, MONTH , DAY , HOUR, MINUTE 
```

这就是我得到的：

```
totalBits | YEAR | MONTH | DAY | HOUR | MINUTE
----------+------+-------+-----+------+--------
459       | 2013 | 1     | 21  | 8    | 58
2         | 2013 | 1     | 21  | 8    | 59
17        | 2013 | 1     | 21  | 9    | 00 
```

这就是我想要得到的：

```
totalBits | YEAR | MONTH | DAY | HOUR | MINUTE
----------+------+-------+-----+------+--------
461       | 2013 | 1     | 21  | 8    | 58
17        | 2013 | 1     | 21  | 9    | 00 
```

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:02:55.483

只需更改提取分钟的方式，也可以按 2 进行分组，然后删除第二个（因为它不再意味着任何东西）。

```
SELECT SUM(totalBits ) AS totalBits,
EXTRACT( YEAR FROM timeStampID ) AS YEAR, 
EXTRACT( MONTH FROM timeStampID ) AS MONTH ,
EXTRACT( DAY FROM timeStampID ) AS DAY , 
EXTRACT( HOUR FROM timeStampID ) AS HOUR , 
EXTRACT( MINUTE FROM timeStampID ) - MOD(EXTRACT( MINUTE FROM timeStampID ), 2) AS MINUTE , 
WHERE  `timeStampID` >  '2013-01-21 08:58:55'
GROUP BY YEAR, MONTH , DAY , HOUR, MINUTE 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-18T08:01:47.630

您应该分组`MINUTE - MOD(MINUTE,2)`（因此选择它而不是您当前选择的列）。

# perl - 使用 Perl 我想比较两个文件，如何从第一个文件中保留唯一行，从第二个文件中丢弃匹配和重复的条目？

> ID：14931656
> 
> 赞同：0
> 
> 时间：2013-02-18T07:53:59.957
> 
> 标签：perl

我有两个文件。

例如，文件#1 的内容是：

```
dynSamp/dgenExp
dynSamp/dgenLod
dynSamp/dgenStm
dynSamp/dgenUpd
dynSamp/dmlnodExp
dynSamp/dmlnodLod
dynSamp/dmlnodStm
dynSamp/dmlnodUpd
dynSamp/dmndynLod
dynSam/dmndynStm
dynSamp/dmndynUpd
sample/genExp
sample/genLod
sample/genStm
sample/genUpd
sample/mlnodExp
sample/mlnodLod
sample/mlnodStm
sample/mlnodUpd
sample/mndynLod
sample/mndynStm
sample/mndynUpd
sample/genLod
dynSamp/dgenLod
dynSamp/dmlnodLod
dynSamp/dmndynLod
sample/mndynLod
sample/mlnodLod 
```

文件#2的内容是：

```
dynSamp/dgenExp
dynSamp/dgenLod
dynSamp/dgenStm
dynSamp/dgenUpd
dynSamp/dmlnodStm
dynSamp/dmndynStm
dynSamp/dthrdsUpd_unix
dynSamp/dthrdsUpd_win
sample/genExp
sample/genLod
sample/genStm
sample/genUpd
sample/mlnodStm
sample/mndynStm
sample/thrdsUpd_unix
sample/thrdsUpd_win
sample/genLod
dynSamp/dgenLod
dynSamp/dmndynStm
dynSamp/dthrdsUpd_win 
```

我想整理一下这两个文件。结果应该是第一个文件的唯一内容减去第二个文件的唯一/重复内容。

以下应该是文件＃的所有剩余部分：

```
dynSamp/dmlnodExp
dynSamp/dmlnodLod
dynSamp/dmlnodUpd
dynSamp/dmndynLod
dynSamp/dmndynUpd
sample/mlnodExp
sample/mlnodLod
sample/mlnodUpd
sample/mndynLod
sample/mndynUpd 
```

谁能帮我解决这个问题？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T08:02:26.327

你没有问任何问题，所以我认为你在提出算法时遇到了问题。这是一个：

1.  打开第二个文件。
2.  对于第二个文件中的每一行，
    1.  在由该行键入的哈希中创建一个元素。
3.  打开第一个文件。
4.  对于第一个文件中的每一行，
    1.  如果散列没有该行作为键的元素，
        1.  在由该行键入的哈希中创建一个元素。
        2.  打印那行。

该算法保留了第一个文件的记录顺序。

* * *

由于编写代码相当简单，我不妨也提供它。

```
my %skip;
{
   open(my $fh, '<', $ARGV[1])
      or die("Can't open \"$ARGV[1]\": $!\n");
   while (<$fh>) {
      chomp;
      ++$skip{$_};
   }
}

{
   open(my $fh, '<', $ARGV[0])
      or die("Can't open \"$ARGV[0]\": $!\n");
   while (<$fh>) {
      chomp;
      print "$_\n" if !$skip{$_}++;
   }
} 
```

用法：

```
script file1 file2 >file.out 
```

或排序：

```
script file1 file2 | sort >file.out 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:27:15.367

我想你想要这样的东西......

```
dogface@computer ~
$ cat sortit.pl
#!/usr/bin/perl -w
use strict;

my $file1 = 'file1';
my $file2 = 'file2';

my %bad;
my %good;

open BAD, "<$file2";
while (<BAD>) {
        chomp;
        $bad{$_} = 1;
}
close BAD;

open GOOD, "<file1";
while( <GOOD> ) {
        chomp;
        next if $bad{$_};
        $good{$_} = 1;
}
close GOOD;

open OUT, ">file3";
foreach my $key ( keys %good ) {
        print OUT $key . "\n";
}
close OUT;

dogface@computer ~
$ cat file1
dynSamp/dgenExp
dynSamp/dgenLod
dynSamp/dgenStm
dynSamp/dgenUpd
dynSamp/dmlnodExp
dynSamp/dmlnodLod
dynSamp/dmlnodStm
dynSamp/dmlnodUpd
dynSamp/dmndynLod
dynSam/dmndynStm
dynSamp/dmndynUpd
sample/genExp
sample/genLod
sample/genStm
sample/genUpd
sample/mlnodExp
sample/mlnodLod
sample/mlnodStm
sample/mlnodUpd
sample/mndynLod
sample/mndynStm
sample/mndynUpd
sample/genLod
dynSamp/dgenLod
dynSamp/dmlnodLod
dynSamp/dmndynLod
sample/mndynLod
sample/mlnodLod

dogface@computer ~
$ cat file2
dynSamp/dgenExp
dynSamp/dgenLod
dynSamp/dgenStm
dynSamp/dgenUpd
dynSamp/dmlnodStm
dynSamp/dmndynStm
dynSamp/dthrdsUpd_unix
dynSamp/dthrdsUpd_win
sample/genExp
sample/genLod
sample/genStm
sample/genUpd
sample/mlnodStm
sample/mndynStm
sample/thrdsUpd_unix
sample/thrdsUpd_win
sample/genLod
dynSamp/dgenLod
dynSamp/dmndynStm
dynSamp/dthrdsUpd_win

dogface@computer ~
$ ./sortit.pl

dogface@computer ~
$ cat file3
sample/mndynLod
dynSamp/dmlnodUpd
dynSamp/dmlnodLod
dynSamp/dmlnodExp
sample/mndynUpd
sample/mlnodUpd
sample/mlnodLod
dynSamp/dmndynLod
dynSamp/dmndynUpd
sample/mlnodExp
dynSam/dmndynStm

dogface@computer ~
$ 
```

哦，如果您想对 file3 进行排序，请改用以下内容：

```
foreach my $key ( sort keys %good ) {
        print OUT $key . "\n";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:43:59.900

它在 awk 中有点直截了当：

```
awk 'FNR==NR{a[$0];next}{if(!($0 in a))print $0}' temp2 temp | sort -u 
```

我认为`dynSam/dmndynStm,`也应该根据您的要求包含在您的输出中。

```
> awk 'FNR==NR{a[$0];next}{if(!($0 in a))print $0}' temp2 temp | sort -u
dynSam/dmndynStm,
dynSamp/dmlnodExp,
dynSamp/dmlnodLod,
dynSamp/dmlnodUpd,
dynSamp/dmndynLod,
dynSamp/dmndynUpd,
sample/mlnodExp,
sample/mlnodLod,
sample/mlnodUpd,
sample/mndynLod,
sample/mndynUpd,
> 
```

# jsf - 内部 JSF 唯一 ID

> ID：14931664
> 
> 赞同：-1
> 
> 时间：2013-02-18T07:54:25.833
> 
> 标签：jsf, jsf-2

在 JSF 2.0 中如何在里面添加一个唯一的 id

```
<p:panelGrid>       
<p:inputText id="unq1" value="{...}" />

<unique id for all components below>
...
...
</unique id for all components below> // till here
</p:panelGrid> 
```

我里面确实有一些组件`<p:panelGrid>`，我希望里面的所有 JSF 组件都有一个唯一的 ID，除了第一个组件是`id="unq1"`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:34:37.847

如果你想更新一组元素，为什么不包装然后用

```
<h:panelGroup id="someId" 
```

并使用

```
<p:ajax update="someId" 
```

或者为什么不将它们全部分配为唯一`styleClass="myUniqueStyleClass"`并使用

```
<p:ajax update="@(.myUniqueStyleClass)" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:09:30.793

实现此目的的一种方法是创建一个自定义标签以生成随机字符串（将其存储在变量中），然后将其用作 panelGrid 内的子/子组件的前缀。

例如：

```
<p:panelGrid>
<p:inputText id="unq1" value="{...}" />

<myTag:createId var="myNewId"/>  --> Generate and Store the Id in Var

<h:inputText id="#{myNewId}-text"/> -->Use the var as prefix and create new id's.
...
...
</panelGrid> 
```

注意：这不是最好的方法，因为它仍然可能导致冲突。

# c# - Nunit --数据插入测试问题

> ID：14931666
> 
> 赞同：1
> 
> 时间：2013-02-18T07:54:28.217
> 
> 标签：c#, asp.net, unit-testing, nunit

我是 Nunit 测试的新手。我正在尝试为在数据库中插入数据的方法编写测试方法。

我的代码是这样的：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using NUnit.Framework;
using MBT.Entities;

[TestFixture]
public class TagStoreTest
{
    private Tag testTag;

    public TagStoreTest()
    {
      this.testTag = new Tag();
    }

[Test]
public void InsertTagTest()
{
    TagStore tagSt = new TagStore();
    bool isInserted = tagSt.InsertTag(this.testTag);

    Assert.IsTrue(isInserted);
}

[SetUp]
public void Setup()
{
    this.testTag.TagName = "testtagthroughNunit";
}

     [TearDown]
     public void TearDown()
     {

     }

 } 
```

实际的 TagStore 代码就像

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using MBT.Datastore;
using System.Data;

using MBT.Entities;

  public class TagStore
 {
   private string _connectionString = string.Empty;

   public TagStore()
   {
    this._connectionString = SqlHelper.GetConnectionString();
    }

    public bool InsertTag(Tag tag)
   {
     bool isInserted = false;

     using (DatabaseHelper helper = Utility.DbHelper)
     {
        int tagsAdded = helper
            .AddInputParameter("@Tag", tag.TagName)
            .AddInputParameter("@ParentTagId", tag.ParentTagId)
            .ExecuteNonQuery("Proc_InsertTags", CommandType.StoredProcedure);

        if (tagsAdded > 0)
        {
            isInserted = true;
        }
    }
    return isInserted;
 }
} 
```

当我运行测试时出现错误：`TagStoreTest.InsertTagTest: System.NullReferenceException : Object reference not set to an instance of an object.`

代码行`TagStore tagSt = new TagStore();`以红色突出显示。

我不知道出了什么问题，因为我的项目构建成功，但是在运行测试时出现错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:01:23.113

我看到您的 TagStore 构造函数正在设置 connectionString 成员。尝试调试返回的内容

```
SqlHelper.GetConnectionString(); 
```

您的 SqlHelper 可能在耍花招。

我还建议尝试使用某种模拟技术来隔离测试。例如，您可以模拟始终返回所需连接字符串的 SqlHelper 对象。有很多框架，例如 Moq。

# android - android中单选按钮的选择

> ID：14931669
> 
> 赞同：0
> 
> 时间：2013-02-18T07:54:59.013
> 
> 标签：android, radio-button, data-conversion

我正在开发一个应用程序，其中我有一个活动，其中有三个单选按钮。这是我的 .xml 代码...

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" >

    <EditText
        android:id="@+id/editText1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="32dp"
        android:hint="@string/hint"
        android:ems="10" />

    <RadioGroup
        android:id="@+id/radioGroup"
        android:layout_width="100dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="200dp"
        android:layout_marginLeft="30dp"
        android:gravity="center" >

         <RadioButton
             android:id="@+id/rad1"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginLeft="10dp"
             android:text="@string/rad1" />

         <RadioButton
             android:id="@+id/rad2"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginLeft="8dp"
             android:text="@string/rad2" />

          <RadioButton
            android:id="@+id/rad3"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/rad3" 

            android:layout_marginLeft="8dp" />

    </RadioGroup>

</RelativeLayout> 
```

我想将 edittext 的输入转换为 Text 、 Hexadecimal 、 Decimal 格式。默认情况下，它是文本值。当用户选择十六进制单选按钮时，文本应转换为十六进制。之后，当用户选择十进制时，应该将十六进制转换为十进制...我的问题是当用户输入单一格式时如何转换为其他两种格式..我有转换的逻辑...请帮助我……谢谢……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:10:47.287

它很简单，只需更改单击侦听器上的单选按钮上的编辑文本输入类型

```
 radio_bt_1.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                  et_note_title.setInputType(InputType.TYPE_NUMBER_FLAG_DECIMAL);
                    }
        });

          radio_bt_2.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                            et_note_title.setInputType(InputType.TYPE_CLASS_TEXT);
                    }
        }); 
```

并相应地更改您的输入类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T17:09:19.990

我们现在开始......在一天结束时......终于

```
import android.os.Bundle;
import android.app.Activity;
import android.text.InputType;
import android.view.Menu;
import android.widget.EditText;
import android.widget.RadioGroup;
import android.widget.RadioGroup.OnCheckedChangeListener;

public class MainActivity extends Activity {

    private EditText et;
    private RadioGroup rg;
    int var=1 ;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        et = (EditText) findViewById(R.id.editText1);
        rg = (RadioGroup) findViewById(R.id.radioGroup);
        //rg.check(R.id.rad1);

        rg.setOnCheckedChangeListener(new OnCheckedChangeListener() {

            @Override
            public void onCheckedChanged(RadioGroup arg0, int arg1) {

                //D to T

                if(arg1==R.id.rad1)
                {
                    if(var==2)
                    {
                        char msg;
                        int num=0;
                        String str =et.getText().toString();
                        et.setText("");
                        String[] str1= str.split(" ");
                        String stringToAppend= "";

                        for(int i=0;i<str1.length;i++)
                        {
                             num=Integer.parseInt(str1[i]);
                             msg=(char) num;
                             String out = Character.toString(msg);
                             stringToAppend += out ;
                        }

                            et.setText(stringToAppend);
                          //  stringToAppend="";

                        var=1;

                    }

                    //H to T

                    if(var==3)
                    {
                        String string;
                        string = et.getText().toString();
                        et.setText("");
                        String[] str1=string.split(" ");
                        StringBuilder sb= new StringBuilder();
                        String strAppend="";
                        int a=0;
                        for(int i=0;i<str1.length;i++)
                        {
                            int hex = Integer.parseInt(str1[i], 16);
                            sb.append(hex + " ");

                        }

                        char msg;
                        int num=0;
                        String str =sb.toString();
                        String[] str2= str.split(" ");
                        String stringToAppend= "";

                        for(int i=0;i<str2.length;i++)
                        {
                             num=Integer.parseInt(str2[i]);
                             msg=(char) num;
                             String out = Character.toString(msg);
                             stringToAppend += out ;
                         }
                             et.setText(stringToAppend);

                        var=1;

                    }

                    //var=0;

                }

                if(arg1== R.id.rad2)
                {
                    // T to D
                    if(var==1)
                    {
                        try
                        {
                            String myString=et.getText().toString();
                            et.setText("");
                            String stringToAppend ="";
                            for(char item : myString.toCharArray())
                            {
                                stringToAppend += ( (int)item) + " ";
                            }
                            et.setText(stringToAppend);
                             //stringToAppend="";
                             var=2;

                        }

                        catch(NumberFormatException e)
                        {
                            e.printStackTrace();
                        }

                    }

                    if(var==3)
                    {
                        //H to D
                        String str;
                        str = et.getText().toString();
                        et.setText("");
                        String[] str1=str.split(" ");
                        StringBuilder sb= new StringBuilder();
                        String strAppend="";
                        int a=0;
                        for(int i=0;i<str1.length;i++)
                        {
                            int hex = Integer.parseInt(str1[i], 16);
                            sb.append(hex + " ");

                        }
                        et.setText("" + sb);
                        //sb.setLength(0);
                        var=2;

                    }

                }

                if(arg1==R.id.rad3)
                {
                    //T to H
                    if(var==1)
                    {
                        String str;
                        str = et.getText().toString();
                        et.setText("");
                        char[] chars = str.toCharArray();
                        StringBuffer strBuffer = new StringBuffer();
                        for (int i = 0; i < chars.length; i++) {
                            strBuffer.append(Integer.toHexString((int) chars[i]) + " ");
                        }

                        et.setText("" + strBuffer + "");
                        //strBuffer.setLength(0);
                        var=3;

                    }

                    //D to H
                    if(var==2)
                    {
                        String str =et.getText().toString();
                        et.setText("");
                        String[] str1= str.split(" ");
                        String stringToAppend ="";
                        for(int i=0;i<str1.length;i++)
                        {
                            stringToAppend += Integer.toHexString(Integer.parseInt(str1[i])) + " ";
                        }

                        et.setText(stringToAppend);
                        // stringToAppend="";
                         var=3;
                    }

                }
            }
        });
    }

} 
```

完整的解决方案...

# java - 使用随机数制作损坏系统

> ID：14931676
> 
> 赞同：-3
> 
> 时间：2013-02-18T07:56:11.970
> 
> 标签：java, string, random, system, subtraction

我正在尝试为学校制作一个项目，我想通过做一些我以前从未做过的事情来真正让这个项目脱颖而出。

我想创建一个系统，从你自己的健康和你的对手的健康中减去 100 或 1000 中的随机数，这取决于轮到谁。这是一个简单的弹出式游戏，因此它不必太复杂，带有健康栏等。请记住，数字是字符串，而不是整数。

我到处寻找可以做到这一点的某种指南，但我似乎无法在任何地方找到它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:00:46.727

```
Random rand = new Random();

getCurrentPlayer().modifyHealth(-rand.nextInt(901) + 100); 
```

恐怕这里没有更多帮助，因为您没有粘贴任何代码或其他详细信息。

# shell - 正则表达式匹配和提取

> ID：14931677
> 
> 赞同：0
> 
> 时间：2013-02-18T07:56:16.863
> 
> 标签：shell, scripting, sed, awk

我正在编写一个 shell 脚本，在其中我需要一些帮助来匹配和提取模式

```
ALARM_TYPE contain string 'Exception Type - timeOverThreshold Description - High CPU eHealth Alarm ID - 1000001' 
```

我需要在`Description -`前后提取字符串`Alarm ID`并将其存储在一个新的变量中......特别是在我正在寻找的这个例子中`High CPU eHealth`

我怎么能简单地做到这一点`awk`，`sed`工作或任何其他简单的事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:10:06.490

这是您想要使用的内容的直译`GNU grep`：

```
var=$(grep -oP "(?<=Description - ).*(?= Alarm ID)" file) 
```

或与`sed`：

```
var=$(sed 's/.*Description - \(.*\) Alarm ID.*/\1/' file) 
```

测试：

```
echo "$var" 
```

结果：

```
High CPU eHealth 
```

* * *

[您可以在此处](http://www.regular-expressions.info/lookaround.html)阅读有关前瞻和后瞻断言的更多信息。HTH。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T10:03:42.547

```
sed 's/.*Description\(.*\)Alarm.*$/\1/g' 
```

# javascript - 来自 int8Array 的 EXIF

> ID：14931679
> 
> 赞同：6
> 
> 时间：2013-02-18T07:56:35.847
> 
> 标签：javascript, exif

从包含我的图像数据的 int8array 获取 EXIF 信息的最佳方法是什么。我知道这个问题太简单了，但我真的被困住了

我正在考虑使用这个库：[https](https://github.com/vjeux/jDataView) ://github.com/vjeux/jDataView 或者修改这个库：http: [//blog.nihilogic.dk/2008/05/reading-exif-data-with-javascript.html](http://blog.nihilogic.dk/2008/05/reading-exif-data-with-javascript.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T17:28:30.723

您必须对该脚本进行少量修改，因为它会创建自己的字节数组，但这正是您想要的：

[https://github.com/jseidelin/exif-js](https://github.com/jseidelin/exif-js)

```
<html>
<head>
<script type="text/javascript" src="../binaryajax.js"></script>
<script type="text/javascript" src="../exif.js"></script>
</head>
<body>

Click the images to read Exif data. The first image tests reading single tags, while the other two simply show all available data.
<br/><br/>
<img src="DSCN0614_small.jpg" id="img1" />
<br/>
<img src="Bush-dog.jpg" id="img2" />
<br/>
<img src="dsc_09827.jpg" id="img3" /><br/>
<script>
document.getElementById("img1").onclick = function() {
    EXIF.getData(this, function() {
        var make = EXIF.getTag(this, "Make"),
            model = EXIF.getTag(this, "Model");
        alert("I was taken by a " + make + " " + model);
    });
}

document.getElementById("img2").onclick = function() {
    EXIF.getData(this, function() {
        alert(EXIF.pretty(this));
    });
}

document.getElementById("img3").onclick = function() {
    EXIF.getData(this, function() {
        alert(EXIF.pretty(this));
    });
}

</script>

</body>
</html> 
```

# javascript - 每次点击时一个一个地显示 3 个 div

> ID：14931684
> 
> 赞同：-1
> 
> 时间：2013-02-18T07:57:12.903
> 
> 标签：javascript, html, css

当我每次点击链接时，我需要一个帮助来逐个显示 3 个 div ，在显示第 3 个 div 后`+ Add More`链接也会`+ Add more`消失。请帮我

```
<input size="20" id="high_light1" type="text" /> 
 <span><a href="#" id="add"> + Add more</a></span>
 <div style="display:none;"><input size="20" id="high_light2" type="text" /></div>
 <div style="display:none;"><input size="20" id="high_light3" type="text" /></div>
 <div style="display:none;"><input size="20" id="high_light4" type="text" /></div> 
```

注意：我不想生成新的 div，我需要`display:block`在每次点击时生成现有的 div。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:08:25.243

如果您将使用 jQuery：

```
$('#add').click(function () {
    $('.toAdd').each(function () {
        if ($(this).css('display') == 'none') {
            $(this).css('display', 'block');
            return false;
        }
    });
    var i = 0;
    $('.toAdd').each(function () {
        if ($(this).css('display') != 'none') {
            i++;
        }
    });

    if (i == 3) $('#add').hide();
}); 
```

在这里查看：http: [//jsfiddle.net/SFRgz/](http://jsfiddle.net/SFRgz/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:24:08.273

纯 Javascript 解决方案（不依赖 jQuery）：

[演示](http://jsfiddle.net/LBEUT/3/)

```
var divCount = 1;

window.onload = function(){
    document.getElementById("add").onclick = function(){

        if(divCount < 4)
        {
            divCount++;

            var input = document.getElementById("high_light" + divCount);
            input.parentNode.style.display = "";

            if(divCount == 4)
            {
                this.style.display = "none";   
            }
        }

    };
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:02:36.090

您可以使用 JQuery 获得流畅的动画，使用`fadeIn()`方法（请参阅[http://api.jquery.com/fadeIn/](http://api.jquery.com/fadeIn/)），然后使用方法使您的按钮消失`fadeOut()`。

如果您不想使用 JQuery，请尝试使用`document.getElementById(id).style.visibility="hidden" || "visible";`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T08:08:38.163

在这里你可以看到我是怎么做到的

```
<div class="input-fields">
<input size="20" id="high_light1" type="text" /> 
 <span><a href="#" id="add"> + Add more</a></span>
 <div style="display:none;"><input size="20" id="high_light2" type="text" /></div>
 <div style="display:none;"><input size="20" id="high_light3" type="text" /></div>
 <div style="display:none;"><input size="20" id="high_light4" type="text" /></div>
</div> 
```

和 js var i = 0;

```
$('#add').click(function() {
    if(i===0){
        $('.input-fields div:nth-of-type(1)').css("display","block");
        i++;
    }
    else if(i===1){
        $('.input-fields div:nth-of-type(2)').css("display","block");
        i++;
    }
    else if(i===2){
        $('.input-fields div:nth-of-type(3)').css("display","block");
        $('#add').hide();
    }
}); 
```

[jsFiddle](http://jsfiddle.net/qSGBP/1/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T08:52:27.627

最简单最短的（用jQuery）

```
$("#add").on("click", function () {
    var div = $(".wrapper div").filter(":hidden");
    var hid = div.size(); // current number of hidden div
    div.first().fadeIn(); // show the first hidden
    hid == 1 ?  $(this).fadeOut() : null; // if we show the last
}); 
```

...**请注意**，我将 hidden 包装`div`在父`.wrapper`选择器中（为了具体起见）。

这种方法的好处是你不需要预先设置多少隐藏`div`存在

**注意**：`.on()`需要 jQuery 1.7+

见**[JSFIDDLE](http://jsfiddle.net/n3qhv/)**

# php - 在 Zillow 和其他 API 网站中解析 XML 数据

> ID：14931685
> 
> 赞同：6
> 
> 时间：2013-02-18T07:57:21.710
> 
> 标签：php, xml, api

我有下面的代码从 zillow.com 的 url 字符串中提取数据（例如）。由于隐私和安全原因，zws-id 未粘贴到 url 字符串中，但页面正确返回了州、城市和社区的所有 api xml 数据。问题是如何提取特定的数据而不是所有数据。

```
<?php
$url = "http://www.zillow.com/webservice/GetDemographics.htm?zws-id=<my_api_id>&state=WA&city=Seattle&neighborhood=Ballard";
echo json_encode(simplexml_load_string(file_get_contents($url)));
?> 
```

这将返回一个充满数据的页面，并且显然是混乱的，因为它没有以任何方式被解析或组织。

返回内容的一小段摘录： `"state":"Washington","city":"Seattle","neighborhood":"Ballard","latitude":"47.668328","longitude":"-122.384536",...`

我将如何解析这个并得到我需要的东西？如果我只想要纬度，我怎么能使用`$.parseJSON(data)`或正确的语法来拉那个特定的项目（纬度）？

当然，我知道那是 WAY... 但我在 API、xml、json 方面是全新的，我不知道是否有标准的方法可以做到这一点，或者它是否特定于我所在的公司使用 API。

Zillow.com 提供诸如“示例 API 输出”之类的信息，就像我见过的其他一些网站一样，但我将如何利用这些信息？它是否有益，因为它显示了每个项目将被调用的标签？ [http://www.zillow.com/howto/api/GetDemographics.htm](http://www.zillow.com/howto/api/GetDemographics.htm)

只是一个简单的跳跃开始就会有很大帮助。谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T22:41:28.133

我希望这能够帮到你。

**在 PHP 中处理代码：**

我注意到代码以 PHP 开头，所以让我从那里开始。如果您想查看 XML 对象在 PHP 中的样子，请使用`print_r()`如下方式：

```
<?php
    $url = "http://www.zillow.com/webservice/GetDemographics.htm?zws-id=<my_api_id>&state=WA&city=Seattle&neighborhood=Ballard";

    $data = simplexml_load_string(file_get_contents($url));

    print_r($data); 
```

这应该会给你这样的结果：

```
SimpleXMLElement Object
(
    [response] => Object
    {
        [region] => Object
        {
            [id] => WA,
            [state] => Seattle,
            [city] => Ballard,
            [neighborhood] => Ballard,
            [latitude] => 47.668304,
            [longitude] => -122.384601
        }
    }
) 
```

我已经截断了很多响应以使其更易于阅读。通过这样做，我可能已经从实际的 Zillow API 响应中弄乱了它，但希望它可以帮助你。因此，要从该响应中获取经度和纬度，您可以这样做：

```
<?php
    $latitude = $data->response->region->latitude;
    $longitude = $data->response->region->longitude; 
```

**用 Javascript 处理代码**

您问题的第二部分包括 javascript 代码`$.parseJSON(data)`。要将代码从 PHP 转换为 Javascript，您必须`echo`像这样：

```
<?php
    $url = "http://www.zillow.com/webservice/GetDemographics.htm?zws-id=<my_api_id>&state=WA&city=Seattle&neighborhood=Ballard";

    $data = json_encode(simplexml_load_string(file_get_contents($url))); 
```

然后在您的 html 中执行以下操作：

```
<script>
    var data = $.parseJSON('<?php echo $data ?>');

    console.log(data); // you can look at the data in your browser console
</script> 
```

我希望这会有所帮助！

# javascript - three.js 上的相机和地形碰撞

> ID：14931687
> 
> 赞同：0
> 
> 时间：2013-02-18T07:57:29.117
> 
> 标签：javascript, three.js, collision-detection, collision, collada

我有一个使用sketchup 创建的建筑模型，导出为collada 文件并使用colladaloader 加载到three.js。一切正常，除了相机可以穿过墙壁。我该如何防止这种情况？到目前为止，我已经尝试过使用 Raycasting，但我认为有问题。

这就是模型的加载方式

```
loader.options.convertUpAxis = true;
loader.load( 'model/cityhall.dae', function ( collada ) {

dae = collada.scene;
skin = collada.skins[ 0 ];
model_geometry = collada.scene.children[ 0 ].children[0].geometry;
model_material = collada.scene.children[ 0 ].children[0].material;

dae.scale.x = dae.scale.y = dae.scale.z = 1;
dae.updateMatrix();
scene.add( dae );
dae.traverse(function (child) {
if (child instanceof THREE.Mesh) {
                        objects.push(child);
                    }
                });
            }); 
```

光线投射器

```
 rayFloor = new THREE.Raycaster();
            rayFloor.ray.direction.set( 0, -1, 0 );

            rayWall = new THREE.Raycaster();
            rayWall.ray.direction.set(0,0,1); 
```

这是动画

```
 function animate() {
            requestAnimationFrame( animate );

            controls.isOnObject( false );
                            controls.isWallCollision( false);

            rayFloor.ray.origin.copy( controls.getObject().position );
            rayFloor.ray.origin.x -= 10;

            rayWall.ray.origin.copy( controls.getObject().position );
            rayWall.ray.origin.y -= 8;

            var intersections = rayFloor.intersectObjects( objects );
            var intersections2 = rayWall.intersectObjects( objects );

            if ( intersections.length > 0 ) {
                //console.log('floor' + intersections);

                var distance = intersections[ 0 ].distance;
                if ( distance > 0 && distance < 10 ) {
                    controls.isOnObject( true );
                }

            }

            if ( intersections2.length > 0 ) {
                //console.log('wall' + intersections);

                var distance = intersections2[ 0 ].distance;
                if ( distance > 0 && distance < 10 ) {
                    controls.isWallCollision( true );
                }

            }
            controls.update( Date.now() - time );
            render();

            time = Date.now();
        } 
```

问题是它无法正确检测墙壁和地板。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T01:41:53.707

这是使用 Raycaster 进行碰撞检测的工作示例的链接：

[http://stemkoski.github.com/Three.js/Collision-Detection.html](http://stemkoski.github.com/Three.js/Collision-Detection.html)

希望能帮助到你！

# objective-c - 如何使应用程序 UISlider 活泼？

> ID：14931690
> 
> 赞同：0
> 
> 时间：2013-02-18T07:57:54.580
> 
> 标签：objective-c, cocoa-touch

这就是我目前的做法

```
- (IBAction)sliderDistanceChanged {
    CGFloat sliderPosition = self.sliderDistance.value;
    NSUInteger sliderIndex = [BGDistanceFilterStop indexForFilterEffect:sliderPosition];

    self.distanceFilterForCatalog = @([BGDistanceFilterStop numberValueOfDistance:sliderIndex]);
    //self.distanceFilterForCatalog= @(self.sliderDistance.value).roundWithForDistanceFilter;
    //[self.distanceFilter setTitle:self.distanceFilterForCatalog.distanceForm forState:UIControlStateNormal];
    [self.distanceFilter setTitle:[BGDistanceFilterStop stringValueOfDistance:sliderIndex] forState:UIControlStateNormal];

}
- (IBAction)SliderNoLongerTouched:(id)sender {
    CGFloat sliderIndex = [BGDistanceFilterStop sliderSnappedPosition:self.sliderDistance.value];
    self.sliderDistance.value=sliderIndex;
} 
```

基本上它会检测 self.sliderDistance.value ，然后根据它在舍入后设置报告的值。

一旦用户不再触摸，我改变 self.sliderDistance.value 的位置

没事儿。

但是，我想在用户修改之前更改 self.sliderDistance.value。但是，它与 iOS 用于跟踪手的位置和滑块值的变量相同。

那么如何在不更改 self.sliderDistance.value 的情况下安排按钮捕捉到正确的位置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T12:48:50.773

我假设这些操作中的每一个都与相关的 UISlider 相关联。第一个由 触发，`valueChanged`第二个由触发`touchUpInside`。

在这种情况下，首先将您的签名更改为这些

```
- (IBAction)sliderDistanceChanged:(UISlider*)sender;
- (IBAction)sliderNoLongerTouched:(UISlider*)sender; 
```

这样您就可以使用`sender`而不是`self.sliderDistance`（更简单，更独立）来引用滑块。

调整`sliderDistanceChanged`

```
 - (IBAction)sliderDistanceChanged:(UISlider*)sender;
          //allocate the raw slider value to a variable
          CGFloat rawValue = sender.value; 

          //calculate the snapped value
          CGFloat snappedValue = [BGDistanceFilterStop sliderSnappedPosition:sender.value];

          //snap the slider in position
          sender.value = snappedValue;

         //now do the rest of your processing 
         //using rawValue if you want the raw value, 
         //snappedValue if you want the snapped value

       } 
```

简化`sliderNoLongerTouched`

```
 - (IBAction)sliderNoLongerTouched:(id)sender {
    sender.value = [BGDistanceFilterStop sliderSnappedPosition:sender.value];
} 
```

（你现在实际上不需要这个，因为值在 中就位`sliderDistanceChanged`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-20T19:18:21.000

![在此处输入图像描述](../Images/f8f4d8493cccfa3c944f008d6bee85d3.png)

```
(IBAction)sliderDistanceChanged {
    CGFloat sliderPosition = self.sliderDistance.value;
    NSUInteger sliderIndex = [BGDistanceFilterStop indexForFilterEffect:sliderPosition];

    self.distanceFilterForCatalog = @([BGDistanceFilterStop numberValueOfDistance:sliderIndex]);
    //self.distanceFilterForCatalog= @(self.sliderDistance.value).roundWithForDistanceFilter;
    //[self.distanceFilter setTitle:self.distanceFilterForCatalog.distanceForm forState:UIControlStateNormal];
    [self.distanceFilter setTitle:[BGDistanceFilterStop stringValueOfDistance:sliderIndex] forState:UIControlStateNormal];

}
- (IBAction)SliderNoLongerTouched:(id)sender {
    CGFloat sliderIndex = [BGDistanceFilterStop sliderSnappedPosition:self.sliderDistance.value];
    self.sliderDistance.value=sliderIndex;
} 
```

基本上它会检测`self.sliderDistance.value`并在舍入后根据该值设置报告值。

一旦用户不再触摸，我改变位置`self.sliderDistance.value`

没事儿。

何

# boost - Boost msm 中的线程安全

> ID：14931691
> 
> 赞同：2
> 
> 时间：2013-02-18T07:57:59.690
> 
> 标签：boost, thread-safety, boost-msm

我是提升元状态库的新手。我正在构建一个应用程序，我必须在其中使用 msm。

我的应用程序有两个线程，它们使用相同的 msm 对象作为共享资源。现在，如果两个线程都在同一个 msm 对象上调用 process_event，那么 msm 会是线程安全的吗？

欢迎任何想法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-19T16:35:51.277

引用 Christophe Henry 的话，当你在 Boost.Users 列表中提出这个问题时，他回答了这个问题：

> msm 与 STL 容器一样是线程安全的：它不是。不同的线程不应该在同一个状态机对象上调用 process_event。这意味着您必须通过同步机制对对象的调用进行序列化。

# vb6 - 管理软件的演示版本

> ID：14931692
> 
> 赞同：3
> 
> 时间：2013-02-18T07:58:05.797
> 
> 标签：vb6, software-design, demo, trial

我有一个用 VB6 编写的软件产品。这是一款付费软件产品，有1个月的demo版。demo版没有单独的安装文件。输入产品密钥的软件将demo变成完整版。我以前在注册表中写信息来跟踪演示版的 1 个月后，该软件将无法运行。此外，如果 windows 用户不是管理员，则无法将注册表写入 HKLM。如果我将注册表写入 HKCU，用户可以创建新用户并通过安装来重用该软件。那么如何将演示版管理到 1 个月，并且用户在 1 个月后不购买密钥就无法使用它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T11:10:18.293

我原以为您需要创建一个许可证密钥文件并将其与 .exe 文件一起存储。它应该以某种方式加密，并保存它的创建时间和在什么机器上等详细信息。你可能会绕过它，但它肯定会足够强大以满足你的要求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T11:56:07.840

如果您担心用户创建新用户帐户来重新启动演示，那么您需要写入全球位置。如果您在设置期间设置了适当的位置，则可以将其写入 HKLM 作为标准。

请注意，如果用户能够/愿意每 30 天创建一个新用户帐户，那么也没有注册表项会阻止他们。

没有中央激活服务的最佳选择是以某种重要的方式调整演示版本，以阻止它们长时间使用。

我们软件的演示版会在 30 分钟后关闭，但他们可以注册一个（过时的）试用密钥，允许完全访问，到期后退回到演示版。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T09:37:43.850

最好的方法是让您的软件连接到您的服务器，并在那里注册其安装日期，并让它在每次启动时连接到您的服务器

这需要您的软件可以访问您的服务器，因此它可能应该可以访问互联网，这可能并不总是正确的

这种方法的另一个优点是您的软件可以检查服务器上的可用更新

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T14:22:10.980

另一个想法，虽然我从未尝试过：

您可以让您的应用程序检查您的应用程序 exe 的文件属性并将其与当前日期/时间进行比较

当然，用户总是可以在未来设置他的日期/时间，然后安装您的应用程序，或者在当前日期/时间安装它，并在运行之前将其日期/时间更改为过去

我不知道您的应用程序是否可以访问它自己的属性，但是当我运行 exe 并单击文本框时，运行它会提供一些数据：

```
'1 form with
'    1 textbox : name=Text1    multiline=true

Option Explicit

Private Sub Form_Resize()
  Text1.Move 0, 0, ScaleWidth, ScaleHeight
End Sub

Private Sub Text1_Click()
  Dim intFile As Integer
  Dim strFile As String
  Dim lngSize As Long
  Dim dateMod As Date
  Dim fs As New Scripting.FileSystemObject
  Dim f As File
  Text1.Text = ""
  ' length of file
  strFile = App.Path & "\FileProp.exe"
  intFile = FreeFile
  Open strFile For Input As #intFile
    lngSize = LOF(intFile)
  Close intFile
  Text1.SelText = "LOF : " & CStr(lngSize) & vbCrLf
  ' last modified
  dateMod = FileDateTime(strFile)
  Text1.SelText = "FileDateTime : " & CStr(dateMod) & vbCrLf
  ' filesystemobject
  Set f = fs.GetFile(strFile)
  Text1.SelText = "fs.DateCreated : " & f.DateCreated & vbCrLf
  Text1.SelText = "fs.DateLastAccessed : " & f.DateLastAccessed & vbCrLf
  Text1.SelText = "fs.DateLastModified : " & f.DateLastModified & vbCrLf
End Sub 
```

# java - 无穷大错误 - Project Euler # 26 - 倒数循环

> ID：14931698
> 
> 赞同：0
> 
> 时间：2013-02-18T07:58:34.333
> 
> 标签：java

尝试从 Project Euler 解决问题 #26 时，我在 Eclipse 中收到错误消息。

我不想要解决方案！请。

如果您只能就为什么我收到“无穷大”作为输出给我一个建议，请填写我。我已经尝试过谷歌搜索，但很难不意外地看到解决方案，我宁愿在很少帮助的情况下做到这一点尽可能。

无穷大误差在 p=309 之后。这可能根本不是一个“错误”，也许它只是截断了一些东西。我已经尝试过 long 和 BigInteger，但它似乎没有帮助。

这是 PE # 26 中提出的问题：

这是我的代码：

```
public class Reciprocal_Cycles {

    public static void main(String[] args) {
        double b = 10;
        double p;
        for (p = 1; p < 1000; p++) {
            if (p % b != 0)

            System.out.println(((Math.pow(b, p - 1) - 1)) / p + "       " + p);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:03:39.150

> 无穷大误差在 之后`p=309`。

a 可以表示的最大数`double`约为`1.8e+308`，并且`Math.pow(10, 309)`大于此数。当浮点计算像这样溢出时，你会得到`+inf`.

`p % b != 0`另外，在使用浮点变量时我会小心。

# vba - 如何通过 vba 代码 Cells.Find 在 excel 列中查找值

> ID：14931700
> 
> 赞同：35
> 
> 时间：2013-02-18T07:58:36.087
> 
> 标签：vba, excel

我必须在 Excel 表中找到一个值**celda**。我正在使用这个 vba 代码来找到它：

```
Set cell = Cells.Find(What:=celda, After:=ActiveCell, LookIn:= _
    xlFormulas, LookAt:=xlWhole, SearchOrder:=xlByRows, SearchDirection:= _
    xlNext, MatchCase:=False, SearchFormat:=False)

If cell Is Nothing Then
    'do it something

Else
    'do it another thing
End If 
```

**问题是当我必须仅在 excel 列**中找到值时。我用下一个代码找到它：

```
 Columns("B:B").Select
    Selection.Find(What:="VA22GU1", After:=ActiveCell, LookIn:=xlFormulas, _
        LookAt:=xlWhole, SearchOrder:=xlByRows, SearchDirection:=xlNext, _
        MatchCase:=False, SearchFormat:=False).Activate 
```

但我不知道如何使其适应第一个 vba 代码，因为我必须使用 value `nothing`。

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2013-02-18T08:02:21.840

只需使用

```
Dim Cell As Range
Columns("B:B").Select
Set cell = Selection.Find(What:="celda", After:=ActiveCell, LookIn:=xlFormulas, _
        LookAt:=xlWhole, SearchOrder:=xlByRows, SearchDirection:=xlNext, _
        MatchCase:=False, SearchFormat:=False)

If cell Is Nothing Then
    'do it something

Else
    'do it another thing
End If 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-07-31T18:07:16.473

只是为了完整起见，您也可以对 Excel 表使用上述相同的技术。

在下面的示例中，我正在查找名为“tblConfig”的 Excel 表格的任何单元格中的文本，将其放置在通常设置为隐藏的名为 Config 的工作表中。我接受 Find 方法的默认值。

```
Dim list As ListObject
Dim config As Worksheet
Dim cell as Range

Set config = Sheets("Config")
Set list = config.ListObjects("tblConfig")

'search in any cell of the data range of excel table
Set cell = list.DataBodyRange.Find(searchTerm)

If cell Is Nothing Then
    'when information is not found
Else
    'when information is found
End If 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2019-07-29T20:48:11.397

I'd prefer to use the `.Find` method directly on a range object containing the range of cells to be searched. For original poster's code it might look like:

```
Set cell = ActiveSheet.Columns("B:B").Find( _
    What:=celda, _
    After:=ActiveCell _
    LookIn:=xlFormulas, _
    LookAt:=xlWhole, _
    SearchOrder:=xlByRows, _
    SearchDirection:=xlNext, _
    MatchCase:=False, _
    SearchFormat:=False _
)

If cell Is Nothing Then
    'do something
Else
    'do something else
End If 
```

I'd prefer to use more variables (and be sure to declare them) and let a lot of optional arguments use their default values:

```
Dim rng as Range
Dim cell as Range
Dim search as String

Set rng = ActiveSheet.Columns("B:B")
search = "String to Find"
Set cell = rng.Find(What:=search, LookIn:=xlFormulas, LookAt:=xlWhole, MatchCase:=False)

If cell Is Nothing Then
    'do something
Else
    'do something else
End If 
```

I kept `LookIn:=`, `LookAt::=`, and `MatchCase:=` to be explicit about what is being matched. The other optional parameters control the order matches are returned in - I'd only specify those if the order is important to my application.

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2016-08-16T00:54:55.023

```
Dim strFirstAddress As String
Dim searchlast As Range
Dim search As Range

Set search = ActiveSheet.Range("A1:A100")
Set searchlast = search.Cells(search.Cells.Count)

Set rngFindValue = ActiveSheet.Range("A1:A100").Find(Text, searchlast, xlValues)
If Not rngFindValue Is Nothing Then
  strFirstAddress = rngFindValue.Address
  Do
    Set rngFindValue = search.FindNext(rngFindValue)
  Loop Until rngFindValue.Address = strFirstAddress 
```

# gwt - 访问小部件上的值并发送到服务器

> ID：14931701
> 
> 赞同：0
> 
> 时间：2013-02-18T07:58:37.387
> 
> 标签：gwt, gwt2, gxt

我有一个从 GXT 2.2.5 库创建的界面，现在我需要从 TextField 获取用户输入的值并将其发送到服务器。如何从文本字段中获取此用户输入的值？这里是示例代码：

```
package kz.bimash.client;

import com.extjs.gxt.ui.client.widget.LayoutContainer;

import com.extjs.gxt.ui.client.widget.LayoutContainer;
import com.extjs.gxt.ui.client.widget.Slider;
import com.extjs.gxt.ui.client.widget.VerticalPanel;
import com.extjs.gxt.ui.client.widget.button.Button;
import com.extjs.gxt.ui.client.widget.layout.FlowLayout;
import com.extjs.gxt.ui.client.widget.layout.FormData;
import com.extjs.gxt.ui.client.widget.layout.FormLayout;
import com.google.gwt.i18n.client.NumberFormat;
import com.google.gwt.user.client.Element;

public class Form extends LayoutContainer {

private VerticalPanel vp;

private FormData formData;

@Override
protected void onRender(Element parent, int index) {
    super.onRender(parent, index);
    formData = new FormData("-20");
    vp = new VerticalPanel();
    vp.ensureDebugId("vps");
    vp.setSpacing(10);
    //createForm1();
    createForm2();
    add(vp);
}

private void createForm2() {
    FormPanel form2 = new FormPanel();
    form2.ensureDebugId("pan");
    form2.setFrame(true);
    form2.setHeading("Simple Form with FieldSets");
    form2.setWidth(350);
    form2.setLayout(new FlowLayout());

    FieldSet fieldSet = new FieldSet();
    fieldSet.setHeading("User Information");
    fieldSet.setCheckboxToggle(true);

    FormLayout layout = new FormLayout();
    layout.setLabelWidth(75);
    fieldSet.setLayout(layout);

    TextField<String> firstName = new TextField<String>();

    firstName.setFieldLabel("First Name");
    firstName.ensureDebugId("firstName");
    firstName.setValue("olzheke");
    firstName.setAllowBlank(false);
    fieldSet.add(firstName, formData);

    TextField<String> lastName = new TextField<String>();
    lastName.setFieldLabel("Last Name");
    lastName.setValue(firstName.getItemId());
    fieldSet.add(lastName, formData);

    TextField<String> company = new TextField<String>();
    company.setFieldLabel("Company");
    fieldSet.add(company, formData);

    TextField<String> email = new TextField<String>();
    email.setFieldLabel("Email");
    fieldSet.add(email, formData);

    form2.add(fieldSet);
    fieldSet = new FieldSet();
    fieldSet.setHeading("Phone Numbers");
    fieldSet.setCollapsible(true);

    layout = new FormLayout();
    layout.setLabelWidth(75);
    fieldSet.setLayout(layout);

    TextField<String> field = new TextField<String>();
    field.setFieldLabel("Home");
    fieldSet.add(field, formData);

    field = new TextField<String>();
    field.setFieldLabel("Business");
    fieldSet.add(field, formData);

    field = new TextField<String>();
    field.setFieldLabel("Mobile");
    fieldSet.add(field, formData);

    field = new TextField<String>();
    field.setFieldLabel("Fax");
    fieldSet.add(field, formData);

    form2.add(fieldSet);
    form2.setButtonAlign(HorizontalAlignment.CENTER);
    form2.addButton(new Button("Save"));
    form2.addButton(new Button("Cancel"));

    vp.add(form2);
}

} 
```

这是 EntryPoint 实现的类，我将在其中发送：

```
package kz.bimash.client;

import com.extjs.gxt.ui.client.widget.Document;
import com.extjs.gxt.ui.client.widget.MessageBox;

import com.extjs.gxt.ui.client.widget.form.FieldSet;
import com.extjs.gxt.ui.client.widget.form.TextField;
import com.extjs.gxt.ui.client.widget.layout.FlowLayout;
import com.extjs.gxt.ui.client.widget.layout.FormData;
import com.extjs.gxt.ui.client.widget.layout.FormLayout;
import com.google.gwt.core.client.EntryPoint;
import com.google.gwt.core.client.GWT;
import com.google.gwt.event.dom.client.ClickEvent;
import com.google.gwt.event.dom.client.ClickHandler;
import com.extjs.gxt.ui.client.widget.form.FormPanel;
import com.google.gwt.user.client.rpc.AsyncCallback;
import com.google.gwt.user.client.ui.*;

public class GWTSample implements EntryPoint {
private UserServiceAsync prox;
private HTML label1, button1;

public void onModuleLoad() {
    prox = GWT.create(UserService.class);
   // Window.enableScrolling(false);
  //  Window.setMargin("0px");
    Form form = new Form();

    form.setVisible(true);
  Button btn = new Button("Click me!");
   // final RootPanel root=RootPanel.get();
    final RootLayoutPanel root = RootLayoutPanel.get();

    btn.addClickHandler(new ClickHandler() {
        @Override
        public void onClick(ClickEvent event) {
            prox.getMsq(new AsyncCallback<String>() {
                @Override
                public void onFailure(Throwable caught) {
                  //To change body of implemented methods use File | Settings | File Templates.
                }

                @Override
                public void onSuccess(String result) {

                   // MessageBox.info("testing","this is ext gwt",null);
                }
            });
        }
    });

    TextField<String> tf = (TextField<String>) form.getItemByItemId("firstName");
    Label lab = new Label();
    //lab.setText(tf.getValue());
   // root.add(lab);
    root.get().add(form);

    root.get().add(btn);
    //Document.get().getElementByID()
}

} 
```

单击按钮时，我需要从 Texfield 检索值并将其发送到服务器，我如何访问这些值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:31:25.913

声明你`tf` 的顶部（全局变量） `TextField<String> tf`；

稍后分配值

```
tf = (TextField<String>) form.getItemByItemId("firstName"); 
```

on 按钮单击处理程序：

```
 btn.addClickHandler(new ClickHandler() {
        @Override
        public void onClick(ClickEvent event) {
        String value =tf.getValue();
....... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:34:47.123

为什么不在 Form 类中创建一个方法？

```
public class Form extends LayoutContainer {

    TextField<String> firstName;

    public String getFirstName(){
      return firstName.getValue();
    }
  ...
} 
```

然后在 onModuleLoad()

```
public void onModuleLoad() {
    ...
    final Form form = new Form();

    ...

    btn.addClickHandler(new ClickHandler() {
        @Override
        public void onClick(ClickEvent event) { 
            String firstName =form.getFirstName();
         }
      ...
    }
} 
```

# java - JSP 页面中定义的调用函数

> ID：14931702
> 
> 赞同：0
> 
> 时间：2013-02-18T07:58:50.523
> 
> 标签：java, jsp, jstl

我在jsp页面的顶部定义了一个类似下面的函数

```
<%!
  public boolean isSkillSelcted(String Skill1)
  {
     ...
     .. 
     . 
     return true;
  }
%> 
```

现在我想调用复选框中的函数，如下所示

```
<input name="chkSkills" type="checkbox" id="chkJava" value="Java" 
       <c:if test='${isSkillSelcted("Java") == true}'>Checked</c:if>>Java 
```

如果函数返回true，那么复选框将被标记为选中。它的显示异常如下。

```
 org.apache.jasper.JasperException: /EditUser.jsp(73,71) 
The function isSkillSelcted must be used with a prefix when a default namespace is not specified 
```

当我在开头附加 fn 时 fn:isSkillSelected 它的抱怨函数未定义

![在此处输入图像描述](../Images/18820d0e6a0b5f96c3804a4358978112.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T12:04:11.130

该语句`${isSkillSelcted("Java")}`是对表达式语言函数的调用。当你使用表达式语言函数时，你必须在一个`.tld`文件中声明它，并指定一个前缀来使用它们。这是解释[here](http://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaiq)。

如果你在 JSP 页面中声明你的函数，你必须这样调用它：

```
 <input name="chkSkills" type="checkbox" id="chkJava" value="Java" 
  <% if (isSkillSelcted("Java")) { %>Checked<% } %> > 
```

# java - 如何将字符串转换为字节

> ID：14931704
> 
> 赞同：0
> 
> 时间：2013-02-18T07:58:52.217
> 
> 标签：java, string, byte

我正在尝试将字符串转换为字节，但我变成了`NumberFormatException`.

```
String s = "SYNC";
Byte b = Byte.valueOf(s);
System.out.println(b); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:10:08.953

```
 String example = "This is an example";
  byte[] bytes = example.getBytes(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:17:47.590

Java 中的字节范围为 [-128;127]。编码为 ASCII 字符值 83、89、78、67 的“SYNC”字符串。您如何不将 4 个值的序列转换为仅 1 个值？

调用顺序：Byte.valueOf(str) => Byte.parseByte(str, 10) => Integer.parseInt(str, 10)

1.  因此，您尝试使用字符串作为基数为 10 的数字。此字符串中的所有字符都大于 10（此基数的最大值），因此将抛出 NumberFormatException。

2.  如果您的字符串中的所有字符都有效，则以 10 个字符为基数。如字符串“546”，paseInt 将正确完成。但是 parseByte 会检查字节范围 [-127:128]。如果值不在 NumberFormatException 范围内。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:00:59.357

尝试使用`.getBytes()`

```
String s = "SYNC";
byte[] lst = s.getBytes();
for(byte b : lst ){
 System.out.println(b);
} 
```

如果您要查找的是给定字符串中的单个字符，则可能要`.charAt()`改用。（或者您可以简单地将 byte 转换为 char 使用`(char)`）。

```
System.out.println(s.charAt(0)); //Prints first character from given string 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T08:01:02.817

字符串只能转换为字节序列。

此外，正如文档所说，字符串中的字符必须都是十进制数字，或者参数被解释为表示有符号的十进制字节，如 API`java.lang.Byte`所说。

> 返回一个 Byte 对象，该对象保存由指定 String 给出的值。该参数被解释为表示一个带符号的十进制字节，就像将该参数提供给 parseByte(java.lang.String) 方法一样。结果是一个 Byte 对象，它表示字符串指定的字节值。

如下所示，

```
String s = "SYNC";
byte[] b = s.getBytes(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T08:01:38.870

数字必须在字节范围内，否则会抛出 NumberFormatException。

```
 byte[] bytes = s.getBytes(); 
```

尝试这个：

# c++ - Microsoft C++ HTTP 服务器 API (httpapi.lib) HttpReceiveClientCertificate 函数返回 ERROR_NOT_FOUND (1168)

> ID：14931705
> 
> 赞同：1
> 
> 时间：2013-02-18T07:58:53.473
> 
> 标签：c++, ssl, https

用于 HTTPS 的 Microsoft C++ HTTP 服务器 API (httpapi.lib)

我想通过 Microsoft http server api [http://msdn.microsoft.com/en-us/library/windows/desktop/aa364510(v=vs.85).aspx在 C++ 中创建 https 服务器](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364510(v=vs.85).aspx)

我按照下面提到的这些步骤

[http://www.codeproject.com/Articles/24027/SSL-with-Self-hosted-WCF-Service?msg=3930582#xx3930582xx](http://www.codeproject.com/Articles/24027/SSL-with-Self-hosted-WCF-Service?msg=3930582#xx3930582xx)

1.  makecert -sv SignRoot.pvk -cy authority -r signroot.cer -a sha1 -n "CN=Dev 证书颁发机构" -ss my -sr localmachine

成功

1.  makecert -iv SignRoot.pvk -ic signroot.cer -cy end -pe -n CN="localhost" -eku 1.3.6.1.5.5.7.3.1 -ss my -sr localmachine -sky exchange -sp "Microsoft RSA SChannel Cryptographic提供者”-sy 12

成功

1.  [根据http://msdn.microsoft.com/en-us/library/ms733791.aspx](http://msdn.microsoft.com/en-us/library/ms733791.aspx)配置 https

netsh http 添加 sslcert ipport=127.0.0.1:4443 certash=9eb4919ea794d783a348a0469474c4cf45d65fb3 appid={F8C3E640-D91E-11D2-9944-8F3C3FD5C32F} sslctlstorename=MY clientcertnegotiation=enable

SSL 证书已成功添加

结果 ：

> ```
> IP:port                 : 127.0.0.1:4443
> Certificate Hash        : 9eb4919ea794d783a348a0469474c4cf45d65fb3
> Application ID          : {f8c3e640-d91e-11d2-9944-8f3c3fd5c32f} 
> Certificate Store Name  : (null) 
> Verify Client Certificate Revocation    : Enabled
> Verify Revocation Using Cached Client Certificate Only    : Disabled
> Usage Check    : Enabled
> Revocation Freshness Time : 0 
> URL Retrieval Timeout   : 0 
> Ctl Identifier          : (null) 
> Ctl Store Name          : MY 
> DS Mapper Usage    : Disabled
> Negotiate Client Certificate    : Enabled 
> ```

这是完整的示例代码

```
#include "stdafx.h"
#include <stdio.h>
#include <iostream>
#include <cstdlib>
#include <conio.h>
#include <iostream> 
#include <tchar.h>

using namespace std;

#ifndef _WIN32_WINNT
#define _WIN32_WINNT 0x0600
#endif

#ifndef WIN32_LEAN_AND_MEAN
#define WIN32_LEAN_AND_MEAN
#endif

#include <http.h>
#pragma comment(lib, "httpapi.lib")

//
// Macros.
//
#define INITIALIZE_HTTP_RESPONSE( resp, status, reason )    \
do                                                      \
{                                                       \
    RtlZeroMemory( (resp), sizeof(*(resp)) );           \
    (resp)->StatusCode = (status);                      \
    (resp)->pReason = (reason);                         \
    (resp)->ReasonLength = (USHORT) strlen(reason);     \
} while (FALSE)

#define ADD_KNOWN_HEADER(Response, HeaderId, RawValue)               \
do                                                               \
{                                                                \
    (Response).Headers.KnownHeaders[(HeaderId)].pRawValue =      \
                                                      (RawValue);\
    (Response).Headers.KnownHeaders[(HeaderId)].RawValueLength = \
        (USHORT) strlen(RawValue);                               \
} while(FALSE)

#define ALLOC_MEM(cb) HeapAlloc(GetProcessHeap(), 0, (cb))

#define FREE_MEM(ptr) HeapFree(GetProcessHeap(), 0, (ptr))

//
// Prototypes.
//
DWORD DoReceiveRequests(HANDLE hReqQueue);

DWORD SendHttpResponse(HANDLE hReqQueue, PHTTP_REQUEST pRequest, USHORT StatusCode, PSTR pReason, PSTR pEntity);

DWORD SendHttpPostResponse(HANDLE hReqQueue, PHTTP_REQUEST pRequest);

/*******************************************************************/

int __cdecl wmain(int argc, wchar_t * argv[])
{   
    HTTPAPI_VERSION HttpApiVersion = HTTPAPI_VERSION_1;

    ULONG ret = NO_ERROR;
    HRESULT hr = S_OK;
    HTTPAPI_VERSION ver = HTTPAPI_VERSION_1;

    ret = HttpInitialize(ver,HTTP_INITIALIZE_SERVER|HTTP_INITIALIZE_CONFIG,NULL);
    if(ret!=NO_ERROR)
        return 0;

    ULONG           retCode;
    HANDLE          hReqQueue      = NULL;  //request queue handle
    int             UrlAdded       = 0;

    retCode = HttpInitialize( 
                HttpApiVersion,
                HTTP_INITIALIZE_SERVER ,
                NULL                     
                );

    if (retCode == NO_ERROR)
    {  
        retCode = HttpCreateHttpHandle(&hReqQueue,// Req Queue
                    0                  // Reserved
                    );   
        if (retCode == NO_ERROR)
        {    
             retCode = HttpAddUrl(
                            hReqQueue,    // Req Queue
                            L"https://127.0.0.1:4443/",// Fully qualified URL
                            NULL          // Reserved
                            );
            if (retCode == NO_ERROR)
            {            
              DoReceiveRequests(hReqQueue);
            }      
        }
    }            
    return retCode;
}//main

/*******************************************************************++

Routine Description:
The function to receive a request. This function calls the  
corresponding function to handle the response.

Arguments:
hReqQueue - Handle to the request queue

Return Value:
Success/Failure.

--*******************************************************************/
DWORD DoReceiveRequests(IN HANDLE hReqQueue)
{
ULONG              result;
HTTP_REQUEST_ID    requestId;
DWORD              bytesRead;
PHTTP_REQUEST      pRequest;
PCHAR              pRequestBuffer;
ULONG              RequestBufferLength;

//
// Allocate a 2 KB buffer. This size should work for most 
// requests. The buffer size can be increased if required. Space
// is also required for an HTTP_REQUEST structure.
//
RequestBufferLength = sizeof(HTTP_REQUEST) + 2048;
pRequestBuffer      = (PCHAR) ALLOC_MEM( RequestBufferLength );

if (pRequestBuffer == NULL)
{
    return ERROR_NOT_ENOUGH_MEMORY;
}

pRequest = (PHTTP_REQUEST)pRequestBuffer;

//
// Wait for a new request. This is indicated by a NULL 
// request ID.
//

HTTP_SET_NULL_ID( &requestId );

for(;;)
{
    RtlZeroMemory(pRequest, RequestBufferLength);

    result = HttpReceiveHttpRequest(
                hReqQueue,          // Req Queue
                requestId,          // Req ID
                0,                  // Flags
                pRequest,           // HTTP request buffer
                RequestBufferLength,// req buffer length
                &bytesRead,         // bytes received
                NULL                // LPOVERLAPPED
                );
          if(NO_ERROR == result)
    {

        DWORD answer = 0;
        HTTP_SSL_CLIENT_CERT_INFO sslClientCertInfo;
        ULONG bytesReceived;
        answer = HttpReceiveClientCertificate(hReqQueue, pRequest->ConnectionId, 0,
                &sslClientCertInfo, sizeof( HTTP_SSL_CLIENT_CERT_INFO ), &bytesReceived, NULL );

        if (answer != NO_ERROR)
        {
          result = SendHttpResponse(hReqQueue, pRequest, 401, "Unauthorized request", "Unauthorized request");
        }
        else
        {
          result = SendHttpResponse(hReqQueue, pRequest, 200, "OK", "OK");
        }

        if (result != NO_ERROR)
        {
          break; //if failed to send response, stop listening for further incoming requests
        }
        //
        // Reset the Request ID to handle the next request.
        //
        HTTP_SET_NULL_ID( &requestId );
    }
    else
    {
        break;
    }

}
if(pRequestBuffer)
{
    FREE_MEM( pRequestBuffer );
}

return result;
}

/*******************************************************************++

Routine Description:
The routine sends a HTTP response

Arguments:
hReqQueue     - Handle to the request queue
pRequest      - The parsed HTTP request
StatusCode    - Response Status Code
pReason       - Response reason phrase
pEntityString - Response entity body

Return Value:
Success/Failure.
--*******************************************************************/

DWORD SendHttpResponse(
IN HANDLE        hReqQueue,
IN PHTTP_REQUEST pRequest,
IN USHORT        StatusCode,
IN PSTR          pReason,
IN PSTR          pEntityString
)
{
HTTP_RESPONSE   response;
HTTP_DATA_CHUNK dataChunk;
DWORD           result;
DWORD           bytesSent;

INITIALIZE_HTTP_RESPONSE(&response, StatusCode, pReason);
ADD_KNOWN_HEADER(response, HttpHeaderContentType, "text/html");

if(pEntityString)
{
    // 
    // Add an entity chunk.
    //
    dataChunk.DataChunkType           = HttpDataChunkFromMemory;
    dataChunk.FromMemory.pBuffer      = pEntityString;
    dataChunk.FromMemory.BufferLength = 
                                   (ULONG) strlen(pEntityString);

    response.EntityChunkCount         = 1;
    response.pEntityChunks            = &dataChunk;
}

result = HttpSendHttpResponse(
                hReqQueue,           // ReqQueueHandle
                pRequest->RequestId, // Request ID
                0,                   // Flags
                &response,           // HTTP response
                NULL,                // pReserved1
                &bytesSent,          // bytes sent  (OPTIONAL)
                NULL,                // pReserved2  (must be NULL)
                0,                   // Reserved3   (must be 0)
                NULL,                // LPOVERLAPPED(OPTIONAL)
                NULL                 // pReserved4  (must be NULL)
                ); 

if(result != NO_ERROR)
{
    wprintf(L"HttpSendHttpResponse failed with %lu \n", result);
}

return result;
} 
```

我的问题是 HttpReceiveClientCertificate Return 1168 ERROR_NOT_FOUND

该函数找不到客户端证书。即使 HTTPCFG 配置了 /f 2 [Negotiate Client Cert]，也不能保证客户端证书可用。

[http://msdn.microsoft.com/en-us/library/windows/desktop/aa364494(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364494(v=vs.85).aspx)

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T06:09:05.373

我不知道您为什么会收到错误 1168。但如果您真正的问题是：我如何获得客户端证书，那么答案是：您的 HTTP_REQUEST 中有一个副本：

```
ULONG sz = pRequest->pSslInfo->pClientCertInfo->CertEncodedSize;
unsigned char *ptr = pRequest->pSslInfo->pClientCertInfo->pCertEncoded;
const CERT_CONTEXT * cp = CertCreateCertificateContext(
                PKCS_7_ASN_ENCODING|X509_ASN_ENCODING,ptr,sz);
const CERT_INFO *ci = cp->pCertInfo;
char ibuf[500], sbuf[500];
CertNameToStr(X509_ASN_ENCODING,(PCERT_NAME_BLOB)&ci->Issuer,CERT_SIMPLE_NAME_STR,ibuf,sizeof(ibuf));
CertNameToStr(X509_ASN_ENCODING,(PCERT_NAME_BLOB)&ci->Subject,CERT_SIMPLE_NAME_STR,sbuf,sizeof(sbuf));
//these are FileTime instances...
//ci->NotBefore
//ci->NotAfter
CertFreeCertificateContext(cp); 
```

# testing - 具有内存消耗约束的 Java 单元测试

> ID：14931706
> 
> 赞同：1
> 
> 时间：2013-02-18T07:59:17.537
> 
> 标签：testing, memory, junit, constraints, consumption

我希望能够在一组性能测试中编写一个单元测试，该测试与模拟问题并失败的快速功能测试不同，纠正问题以使测试通过。例如，当执行时间限制为 20 毫秒时，如果超过 20 毫秒，则测试必须失败，否则通过。如果我想设置内存消耗限制并且如果消耗超过限制，那么测试必须失败。我是否可以编写具有内存消耗约束的测试？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T17:08:03.930

一个程序的总使用/空闲内存可以在程序中通过`java.lang.Runtime.getRuntime()`.

运行时有几个与内存相关的方法。

以下编码示例演示了它的用法。

```
package test;

import java.util.ArrayList;
import java.util.List;

public class PerformanceTest {
  private static final long MEGABYTE = 1024L * 1024L;

  public static long bytesToMegabytes(long bytes) {
    return bytes / MEGABYTE;
  }

  public static void main(String[] args) {
    // I assume you will know how to create a object Person yourself...
    List<Person> list = new ArrayList<Person>();
    for (int i = 0; i <= 100000; i++) {
      list.add(new Person("Jim", "Knopf"));
    }
    // Get the Java runtime
    Runtime runtime = Runtime.getRuntime();
    // Run the garbage collector
    runtime.gc();
    // Calculate the used memory
    long memory = runtime.totalMemory() - runtime.freeMemory();
    System.out.println("Used memory is bytes: " + memory);
    System.out.println("Used memory is megabytes: "
        + bytesToMegabytes(memory));
  }
} 
```

用于`System.currentTimeMillis()`获取开始时间和结束时间并计算差值。

```
class TimeTest1 {
  public static void main(String[] args) {

    long startTime = System.currentTimeMillis();

    long total = 0;
    for (int i = 0; i < 10000000; i++) {
      total += i;
    }

    long stopTime = System.currentTimeMillis();
    long elapsedTime = stopTime - startTime;
    System.out.println(elapsedTime);
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T10:46:53.513

对于时序约束，您可以使用`@org.junit.rules.Timeout`（尽管它可能不是规则的含义）或编写您自己的变体。对于内存限制，您可以编写一个`org.junit.rules.TestRule`比较测试前后的内存使用情况。衡量内存使用情况的两种方法是`java.lang.Runtime`类和 JMX。

由于性能取决于许多因素（CI 服务器的负载、已jit 多少代码等），因此结果是否足够具有决定性/稳定性还有待观察。多次运行测试并比较平均值可能是个好主意。

# windows-8 - Caliburn Micro WinRT 状态处理

> ID：14931709
> 
> 赞同：3
> 
> 时间：2013-02-18T07:59:37.123
> 
> 标签：windows-8, windows-runtime, caliburn.micro

在 WinRT 版本的 Caiburn Micro 中是否支持暂停和恢复？如果答案是肯定的，我如何使用此架构实现挂起/恢复功能。我不相信像 caliburn micro 这样的成熟架构不支持状态处理。

还有我如何在停用时保持导航，比如 Windows Phone 的导航行为。

请任何人帮我解决这个问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-18T15:20:27.927

有几页关于这方面的文档 - 自从我使用 caliburn.micro 以来已经有一段时间了，所以我不确定这些是否能完全回答你的问题，但你去吧：

[屏幕、导体和组成](http://devlicio.us/blogs/rob_eisenberg/archive/2010/10/08/caliburn-micro-soup-to-nuts-part-6a-screens-conductors-and-composition.aspx)

其要点是“从屏幕继承”。这将为您提供覆盖`OnActivate()`的`OnDeactivate()`方法等。您可以使用它们来暂停和恢复您的应用程序。

此外，在 caliburn.micro 中通过`StorageHandler`s 对 WP7 提供了“墓碑”支持——也许相应的类也可用于 WinRT。以下是关于这些的一些文档：

[使用 Windows Phone 7 v1.1](http://caliburnmicro.codeplex.com/wikipage?title=Working%20with%20Windows%20Phone%207%20v1.1&referringTitle=Documentation)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-21T20:10:47.063

正如另一个答案中提到的，我认为 OnActivate() 和 OnDeactivate() 不是在 WinRT 中处理“墓碑”的理想解决方案。这些覆盖只会在 View 变为 Active 或销毁时触发一次，而不是每次 View 失去焦点并返回时触发。

我还没有遇到 Caliburn.Micro WinRT 中的暂停/恢复功能。

但这可以通过 .NET 基础架构轻松实现。按照这个[msdn](http://blogs.msdn.com/b/mspfe/archive/2013/06/17/suspend-and-resume-in-winrt.aspx)链接了解完整的详细信息。

简而言之，

处理导航离开和返回（应用程序最小化和恢复）在 ViewModels 中使用以下事件：

```
Window.Current.VisibilityChanged += OnVisibilityChanged; 
```

在 App 类中处理 Suspend/Resume 覆盖 OnSuspending 和 OnResuming。

# proxy - WebSocket 服务器和防火墙

> ID：14931714
> 
> 赞同：3
> 
> 时间：2013-02-18T07:59:59.850
> 
> 标签：proxy, websocket, firewall, url-redirection

我有两个 WebSocket 服务器都运行在 80 和 443 之外的不同端口上。这两个服务器在防火墙后面运行，防火墙只打开了 80 和 443 端口。

```
WebSocket Server A:800 |
                       |-----|FireWall:80 & 443|-----> INTERNET
WebSocket Server B:801 | 
```

我正在寻找的是一种让我的客户在不知道他们的端口的情况下连接到 WebSocket 服务器的方法，并且无需我为任何其他端口而不是 80 和 443 打开防火墙。

所以我在想也许我的防火墙和 WebSocket 服务器之间的中间服务器（或代理服务器）可以配置为当客户端请求`www.mywebsite.com/a`端口 80 或 443（通过防火墙）时，中间服务器将客户端连接到 WebSocket 服务器A. 当客户端在端口 80 或 443 上请求时`www.mywebsite.com/b`，中间服务器将他连接到 WebSocket 服务器 B。这可能吗？如果是这样，您可能知道是否有任何服务器实现了此功能？

换一种说法（可能差别不大），[TCP打孔器](http://en.wikipedia.org/wiki/TCP_hole_punching)和我上面解释的方法有什么区别？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T16:55:40.457

这称为“WebSockets 反向代理”。您将需要防火墙和 WebSocket 服务器之间的另一个逻辑或物理节点。您可能在同一系统上运行所有三个节点，这就是我提到“逻辑”的原因。

这个领域正在迅速变化，解决方案还相当不成熟。对于您的情况，最好的选择可能是使用[HAProxy for WebSocket reverse proxy](http://blog.silverbucket.net/post/31927044856/3-ways-to-configure-haproxy-for-websockets)。搜索“WebSocket 反向代理”以获取更多信息。[这篇文章](http://www.exratione.com/2012/07/proxying-websocket-traffic-for-nodejs-the-present-state-of-play/)有点老了，但应该给你一个合理的选项概述。

**更新**：看起来 WebSocket 代理支持昨天刚刚登陆 Nginx：[新闻稿](http://nginx.com/news/nginx-websockets.html)，[提交示例](http://trac.nginx.org/nginx/changeset/5073/nginx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:31:53.133

感谢@kanaka 在他的回答中提供的[链接](http://blog.silverbucket.net/post/31927044856/3-ways-to-configure-haproxy-for-websockets)，我设法配置 HAProxy 以根据 URI 重定向我的请求。所以这就是我所做的：

一旦你`make`有了 HAProxy，你就可以在`usr/local/sbin`. 该脚本使用`-f`配置文件的标志运行。查看`/etc/`并以防万一您没有任何`haproxy.cfg`简单`mkdir -p /etc/haproxy`然后`vi /etc/haproxy.cfg`粘贴您的配置。[此处](http://cbonte.github.com/haproxy-dconv/configuration-1.5.html#2.1)描述了 1.5 版的配置文件，其中包含可以使用的所有参数。这是我的`haproxy.cfg`文件的样子：

```
global
    log  127.0.0.1 local0
    log  127.0.0.1  local1 notice
    maxconn  4096
    uid  99
    gid  99
    daemon

defaults
    log global
    mode  http
    option  httplog
    option  dontlognull
    retries  3
    option  redispatch
    option  http-server-close
    maxconn  2000
    contimeout  5000
    clitimeout  50000
    srvtimeout  50000

frontend public
    bind *:80
    acl is_websocket1 path_beg -i /a # if the path starts with /a
    acl is_websocket2 path_beg -i /b # if the path starts with /b
    use_backend ws1 if is_websocket1
    use_backend ws2 if is_websocket2
    default_backend www

backend www
    timeout server 30s
    server www1 127.0.0.1:8001 # the port we have our webserver running on

backend ws1
    timeout server 600s
    server ws1 127.0.0.1:800 # the port we have our websocket server 1 running on

backend ws2
    timeout server 600s
    server ws2 127.0.0.1:801 # the port we have our websocket server 2 running on 
```

# c++ - Qt TcpSockets - 一次接收多个发送

> ID：14931722
> 
> 赞同：0
> 
> 时间：2013-02-18T08:00:16.343
> 
> 标签：c++, qt, sockets, tcp, delay

使用 TCP 套接字，我的客户端/服务器会遇到这样一种情况，即从客户端发送消息，而服务器正在接收它们并将它们写入文件。我遇到的问题是由于某种原因，即使我将消息分开，它们都在一条线上被接收。

因此，例如..说我使用以下命令逐行发送文本文件：

```
socket->write(msg.toUtf8().constData());
    socket->waitForBytesWritten(5000); 
```

服务器有时会同时接收多条消息。

所以如果文本文件说：

你好，

这是客户

有时服务器会收到“你好，这是客户端”，当它们应该分开时一起接收两个消息。

有人可能会说我当时编码错了，但奇怪的是，如果我在本地测试客户端/服务器，一切都很完美。一旦我通过网络进行操作，这个问题就会开始发生。我做了一些测试，增加了发送消息之间的延迟。这也解决了问题，但只有在我将延迟增加到每条消息近 1 秒之后。如果需要发送大量消息，这是一个问题，每个 1 秒最终需要很长时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:01:39.283

请记住，TCP 是一种*流*协议。没有自然的消息边界，数据只是字节流。

如果你想分离消息，你必须在 TCP 之上添加一个包含这些边界的协议。对于文本，换行符是一个自然边界，并在许多基于文本的协议中使用。

# angularjs - angularjs + persistencejs + $q（延迟）

> ID：14931724
> 
> 赞同：2
> 
> 时间：2013-02-18T08:00:23.293
> 
> 标签：angularjs, persistence, deferred

当使用 angularjs 提供的 deferred 方法并查询数据库本地存储时，“resolve”似乎不起作用。请参阅以下示例。"then" 动作永远不会被触发。当尝试使用 setTimeout 而不是“Person.all()”指令时，它可以工作。

```
var defer = $q.deferred();

Person.all().list(null, function (persons) {
   defer.resolve(persons);
});

defer.promise.then(function (persons) {
   console.log('resolved');
}); 
```

感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:14:26.490

对于 Angularjs 的承诺，`then`只在摘要循环中触发。

如果你的`Person`对象在你的服务中，你可以注入`$rootScope`并调用`$apply()`它来`then`触发它。

# javascript - Javascript 事件处理历史

> ID：14931727
> 
> 赞同：3
> 
> 时间：2013-02-18T08:00:42.740
> 
> 标签：javascript, jquery, html, dom

虽然我确实了解点点滴滴的 Javascript 事件处理，但我想了解它背后的完整历史，例如事件处理的实际实现方式（可能在标记中使用它，例如`<a onClick="callFunc()">`）

以及它后来如何更新为其他东西，比如从 JS 调用它（不显眼的 JS）

现在如何使用 jQuery 实现它？

我只是想了解每个阶段的优势以及事件冒泡/捕获等

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:48:05.880

好吧，没什么。或者，真的，任何与它有关的事情都发生在很久以前。

`.addEventListener`只要 CSS 就已经存在了。这就是 DOM-Level2 与我们在一起的时间（我认为大约 13 年）。

这不是 JS 如何变得更高级的问题，而是 JS-writers 如何***没有***的问题。

我认识的将 JS 编写为“二级”或“三级”角色的程序员*仍然*使用内联处理程序。自从这是一个特别好的想法以来，已经有十多年了。

至于“不引人注目”，这不一定与事件侦听器直接相关。
它是，如果你打算以任何方式与用户交互，但它更多的是分离关注点的问题，就像我们不再为元素设置样式一样`<p><font color=red>red text</font></p>`。

DOM-0 事件处理程序（如`button.onclick = function () {}`）存在这么久并且仍然经常使用的部分原因可能是因为 Microsoft`attachEvent`和 W3C之间的战争`addEventListener`。

如果您想在 IE6-8 中支持跨浏览器事件，您要么使用 jQuery（或其他库），要么手动编写事件管理函数，以支持`.attachEvent`IE 和`.addEventListener`其他所有人，或者您直接使用事件属性 ( `.onclick = function () {}`)。它们的好处是得到了当今使用的几乎每一个浏览器的支持。
它们的缺点是只有一个可分配的功能（如果您需要添加更多功能，这会导致丑陋的处理）：

```
(function () {
    var button = document.getElementById("button"),
        old_func = button.onclick;

    button.onclick = function (e) {
        e = e || window.event;
        doStuff();
        if (old_func) { old_func(); }
    }
}()); 
```

...现在想象 8 个不同的程序员以这种方式将侦听器添加到同一个按钮。

至于冒泡与捕获……
这从来都不是一场真正的战斗（后网景）。
微软支持气泡，W3C 两者都支持。没有人真正将捕获用于任何事情，因为在事件实际发生之前，甚至在目标知道它正在发生之前，您很少想知道它（并且因为使用捕获的唯一方法是使用 addEventListener，这意味着您的活动无法在 IE 上运行...）

jQuery 带来的不是“新”事件或“更好”事件——它所做的就是让每个人都可以编写跨浏览器事件。
许多 AJAX 库都以此为主要目标：规范化`addEventListener`and `attachEvent`（这是一个已解决的问题，在 jQuery 之前）和 and 之间`XMLHttpRequest`的差异`ActiveXObject("MSXML2.XMLHTTP.6.0")`，（再次，解决了 pre-jQuery）。

jQuery 刚刚成为大众的最爱，Resig 用它做了一些好事（而 jQuery 用户用它做了一些可怕的事情，迫使 Resig 和朋友们成为超人，以防白痴的 DOM 遍历和事件委托和其余的）。

在过去的大约 6 年里，我们中的一些人在活动委托等方面做得更好，因为像 Douglas Crockford 和 Nicholas Zakas 这样的人在社会领域占据了统治地位，写了好书和关于专业、高级的精彩演讲性能 JS。

在过去的几年里，越来越多的人进入了设计模式，这些设计模式在其他语言中看到了企业使用。

当谈论 Web 应用程序的客户端异步编程时，诸如 promises/deferreds/futures ( `$.Deferred`/ ) 之类的东西是 JS 工程的未来。`$.when`

这并不是说它看起来会 100% 像今天一样，而是说保持 DOM 事件正常是一个已解决的问题——让它们与随时可能发生的所有异步内容保持一致，在页面上的任何小部件中...
...这就是 Promises 派上用场的地方。

然后你有主持人/观察员来保持模块间通信的安全和解耦。
这些可能是“自定义事件”，或者可能是“发射者”......或“发布者/订阅者”。
您可以倾听并采取行动的事情。
它们可能由实际的浏览器事件触发，也可能在代码中触发。

同样，jQuery 并没有发明或完善这一点，但您在 jQuery 中订阅的任何事件都是在幕后做这些事情之一。

同样`$.ajax`——它并不是真正使用 DOM 事件，它是在传递 Promises，你可以订阅它。它使用的唯一 DOM 事件是实际从服务器检索数据的事件。在那之后，这一切都是惯例。

在过去的几年里，我们在 JS 可以做什么以及我们如何处理交互和异步性方面取得了巨大的飞跃。

`addEventListener`这与如何变得更好或 jQuery 如何帮助我们弥合 IE8 和其他浏览器之间的差距几乎没有任何关系。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T09:19:45.717

根据我的理解 1\. Javascript 与 html 的交互是通过事件来处理的。这表明特定时刻发生在浏览器窗口或文档中。这些事件可以由侦听器处理。2.event bubbling表示-event从事件被触发的位置开始并向上流动到文档级别。即-div-body-html-document。示例： 1\. 这里的事件监听函数将有一个本地默认对象，称为事件。这将说明触发的事件类型。2\. 这里说的是事件目标元素。

event.preventDefault() 方法阻止元素的默认操作发生。

分类事件组：用户交互事件/焦点事件/鼠标事件/滚轮事件/文本事件/键盘事件。这些事件会因移动设备而异。

# linux - 如何运行一个shell start linux os？

> ID：14931730
> 
> 赞同：-1
> 
> 时间：2013-02-18T08:00:53.280
> 
> 标签：linux, shell

我想知道如何配置在 linux 操作系统上自动运行的 shell 脚本。我建立

> 'test.sh' 脚本文件

然后我尝试了两种方法

第一种方法是

> rc.local 文件中的 bin/bash /home/user/test.sh 或 bin/sh /home/user/test.sh

第二种方法是

> /usr/share/application/test.background 和 /ect/xdc/startup/test.backgrou

这不行。我该怎么做呢？我正在使用 ubuntu

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:12:30.660

如果要在启动时运行脚本，请将脚本复制到`/etc/init.d`目录中，使其可执行

```
chmod a+x /etc/init.d/test.sh 
```

然后将其链接到适当的运行级别

```
update-rc.d test.sh defaults 
```

您的脚本应具有以下结构

```
#! /bin/sh

case "$1" in
start)
    # this is run at startup
    echo "Starting script test.sh"
    echo "Could do more here"
    ;;
stop)
    # this is run at shutdown
    echo "Stopping script test.sh"
    echo "Could do more here"
    ;;
*)
    echo "Usage: /etc/init.d/test.sh {start|stop}"
    exit 1
    ;;
esac

exit 0 
```

有关详细信息，另请参阅[SystemAdministration](https://help.ubuntu.com/community/SystemAdministration)和[UpstartHowto](https://help.ubuntu.com/community/UpstartHowto)。

# jquery - 无论有多少元素，该脚本如何将一个类应用于所有指定的 HTML 元素？

> ID：14931731
> 
> 赞同：0
> 
> 时间：2013-02-18T08:00:55.230
> 
> 标签：jquery

在以下示例中，此脚本以稳定的速率随机地将“green”类应用于所有“span”HTML 元素。

```
var items = $('span').get();
var interval = setInterval(function() {
    var random_number = Math.floor(Math.random() * items.length);
    $(items[random_number]).addClass('green');
    items.splice(random_number, 1);
    if (items.length === 0) {
        clearInterval(interval);
      }
     }, 10); 
```

[http://jsfiddle.net/DUbQB/](http://jsfiddle.net/DUbQB/)

我已经对其进行了更新，使其每个间隔更改 2 个元素，只需调用该函数两次即可。

```
var items = $('span').get();
var interval = setInterval(function() {

    function rand(random_number) {
    var random_number = Math.floor(Math.random() * items.length);
    $(items[random_number]).addClass('green');
    items.splice(random_number, 1);
    }

    rand(1);
    rand(2);

    if (items.length === 0) {
        clearInterval(interval);
    }
}, 500); 
```

[http://jsfiddle.net/DUbQB/3/](http://jsfiddle.net/DUbQB/3/)

我只想知道，有没有办法让这个脚本同时随机将所有元素变为绿色**，**而不管有多少元素？

例如，[http://jsfiddle.net/DUbQB/3/](http://jsfiddle.net/DUbQB/3/)以十个间隔完成，因为有二十个元素并且随机函数被调用了两次。

但如果有 40 个元素，脚本将需要 20 个间隔，因此长度会增加一倍。不管有多少元素，这个脚本怎么能总是花费相同的时间来完成？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:19:27.887

我不是 JS 开发人员，但这吸引了我尝试（我第一次尝试 JSFiddle，它真的很酷）。

这是一个解决方案，即使存在舍入差异，也会产生恒定的步数。

```
function DoTransition() {
    var items = $('span').get();
    var steps = 10;
    var residuum = 0;
    var interval = setInterval(function() {

        function rand() {
            var random_number = Math.floor(Math.random() * items.length);
            $(items[random_number]).addClass('green');
            items.splice(random_number, 1);
        }

        var localSteps = items.length / steps + residuum;
        residuum = localSteps - Math.round(localSteps);
        localSteps = Math.round(localSteps);
        for (var i = 0; i < localSteps; i++) {
            rand();
        }

        steps--;

        if (items.length === 0) {
            clearInterval(interval);
        }
    }, 500);
}

DoTransition();
```

更新：修复了少量项目的问题......只是缺少对 Math.round 的调用。现在有中间步骤，如果需要，更新了 0 个项目。为了测试，我创建了一个新版本，它使用 localSteps 变量 ( [http://jsfiddle.net/vQDhf/](http://jsfiddle.net/vQDhf/) ) 更新星号。

UPDATE2：现在是一个数学上正确的过渡，在时间线上平均分布。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:09:07.573

您只需进行少量数学计算即可确定运行区间的速度或每个区间要更改的元素数量。

例如，如果您希望它在 5000 毫秒内完成，那么您只需执行以下操作：

```
var items = $('span').get();
var intervalTime = 5000 / items.length; 
```

然后`intervalTime`在`setInterval()`通话中使用它。无论有多少跨度，这将在 5000 毫秒内完成操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:10:12.293

*“以相同的速率”*是指每间隔数的操作数相同。换句话说，您当前正在执行的操作（2 elem/interval）是一个恒定速率。相反，您要求的是*相同数量的间隔*。这也是可行的，但请注意，它需要预定义数量的间隔，并且会根据元素的数量改变速率。

```
var numIntervals = SOME_PREDEFINED_VALUE; // e.g. always use 4 intervals
var items = $('span').get();

var elemsPerInterval = Math.floor(items.length/numIntervals);
var extraElems = elemsPerInterval * numIntervals;

var interval = setInterval(function() {

    function rand() {
        var random_number = Math.floor(Math.random() * items.length);
        $(items[random_number]).addClass('green');
        items.splice(random_number, 1);
    }

    // do one extra element per iteration to account
    // for residuals due to rounding
    int j = extraElems-- > 0 ? -1 : 0;

    while ( j < elemsPerInterval ) {
        rand();
        j++;
    }

    if (items.length === 0) {
        clearInterval(interval);
    }
}, 500); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T09:31:50.837

[http://jsfiddle.net/CA97a/](http://jsfiddle.net/CA97a/)

谢谢@JWH 给它一个计时器[http://jsfiddle.net/CA97a/5/](http://jsfiddle.net/CA97a/5/)

我认为更改计时器间隔会更简单

```
<div class="container">
</div>

<script>
// Use for test
for (var i=0; i < 20 /*Count*/; i++) {
    $(".container").append("<span> "+i+" </span>");
}

// Script start
var items = $('span').get();
var interval = setInterval(function() {
    var random_number = Math.floor(Math.random() * items.length);
    $(items[random_number]).addClass('green');
    items.splice(random_number, 1);

    if (items.length <= 0) {
        clearInterval(interval);
    }
}, 5000/items.length); // Finish in 5 sec
</script> 
```

我还有一个想法，这样时间会更准确，我在火狐10K测试过，不觉得太卡 [http://jsfiddle.net/LmE6J/](http://jsfiddle.net/LmE6J/)

```
$("span").each(function () {
    function closure(s) {
        return function () {
            $(s).addClass("green");
        };
    }
    setTimeout(closure(this), (Math.random()*Math.floor(5000)));
}); 
```

# c - 如何在c中用字符串拆分字符串

> ID：14931737
> 
> 赞同：0
> 
> 时间：2013-02-18T08:01:10.040
> 
> 标签：c, string

我有一个字符串

字符 *str = 1000000sep0002006sep736794eesep13610015741sep-1seplocal

我想用“sep”分割字符串，我需要像这样的ans

```
String1 =1000000
String2 =0002006
String3 =736794ee
String4 =13610015741
String5 =-1
String6 =local 
```

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:08:10.967

您可以通过重复调用来自己标记它`strstr`。一个简单的函数来包装它并安全地处理 NULL 怎么样：

```
char *next_token( char *str, const char *tok )
{
    if( str == NULL ) return NULL;
    char *s = strstr(str, tok);
    if( s == NULL ) return NULL;
    *s = 0;
    s += strlen(tok);
    return s;
} 
```

那么它只是：

```
char *string1 = str;
char *string2 = next_token( string1, "sep");
char *string3 = next_token( string2, "sep");
// etc... 
```

但我更倾向于使用数组。

```
char * strings[6] = { str, 0 };
for( int i = 1; i < 6; i++ ) {
    strings[i] = next_token( strings[i-1], "sep" );
} 
```

* * *

**[编辑]**

正如用户在评论中*展开*提到的那样，您不能像这样标记字符串文字。如果您需要对字符串文字进行操作，那么您需要一个标记化来提取子字符串而不修改原始字符串。这对你来说是一个练习。但是如果你想绕过它，只需将你的字符串变成一个`char`数组：

```
char str[] = "1000000sep0002006sep736794eesep13610015741sep-1seplocal"; 
```

您可以修改它，因为它不是指向字符串文字的指针。相反，它是一个用字符串文字的副本初始化的数组。

好吧，我已经说了足够多的“字符串文字”了......

# c# - 区域设置小数分隔符

> ID：14931741
> 
> 赞同：0
> 
> 时间：2013-02-18T08:01:26.367
> 
> 标签：c#

我编写了一个仅适用于美国和英国用户的程序。但是，我的一位客户安装了 Windows 7 Enterprise 和西班牙语操作系统。所以我的程序使用逗号作为小数分隔符而不是小数点，因此我的程序搞砸了！

我尝试通过将他机器中的区域设置更改回英语（英国）来为他修复它，但它仍然无法正常工作！程序还是用逗号作为小数点！

我应该如何解决它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T08:05:11.503

您可以在引导应用程序时设置文化：

```
Thread.CurrentThread.CurrentCulture = new CultureInfo("en-GB"); 
```

这是用于 UI，在 init 组件之前

```
Thread.CurrentThread.CurrentUICulture = new CultureInfo("en-GB"); 
```

# python - 面料 - 有没有办法扩展外壳变量？

> ID：14931743
> 
> 赞同：2
> 
> 时间：2013-02-18T08:01:37.917
> 
> 标签：python, fabric

我正在尝试从远程主机下载文件，其远程路径取决于 shell 变量。

```
>>> with settings(host_string = 'user@server.com'):
    get('$ORACLE_HOME/network/admin/tnsnames.ora') 
```

它抛出一个错误：

```
Fatal error: get() encountered an exception while downloading '/home/user/$ORACLE_HOME/network/admin/tnsnames.ora'

Underlying exception:
    No such file 
```

有没有办法要求shell变量扩展？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:28:25.653

您可以使用[`fabric.operations.run()`](http://docs.fabfile.org/en/1.5/api/core/operations.html#fabric.operations.run)：

```
from fabric.operations import run

oracle_path = run('echo $ORACLE_PATH', shell=True)

with settings(host_string = 'user@server.com'):
    get(os.path.join(oracle_path, 'network/admin/tnsnames.ora')) 
```

# c# - 使用 SqlDataReader 将值插入 SQL Server 表

> ID：14931747
> 
> 赞同：0
> 
> 时间：2013-02-18T08:01:50.837
> 
> 标签：c#, asp.net, sql-server

这就是我编写一个 select 语句来检查数据库中是否有值的方式。

```
bool userIsPresent=false;
string sqlQuery = string.Format("SELECT * FROM Person WHERE Name = '{0}'", name);

SqlCommand s = new SqlCommand(sqlQuery, con);
con.Open();

SqlDataReader sqlread = s.ExecuteReader();
userIsPresent = sqlread.HasRows;
con.Close(); 
```

但现在我需要将一些值保存到数据库中。我怎样才能做到这一点 ？我认为我不应该使用`SqlDataReader`，那么如何保存并确认数据是否保存到数据库中？

```
public static bool saveToDb(string name1,string nam2, DateTime dat)
{
    bool ok=false;
    string sqlQuery = string.Format("INSERT into NumbersTable values ('{0}', '{1}','{2}')",name1,nam2,dat );

    SqlCommand s = new SqlCommand(sqlQuery, con);

    con.Open();
    SqlDataReader sr = s.ExecuteReader(); // MIGHT BE WRONG
    ok = sr.HasRows;

    con.Close();
    return ok;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T08:02:43.073

您需要[ExecuteNonQuery](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executenonquery.aspx)在数据库中插入记录。

```
s.ExecuteNonQuery(); 
```

*（使用[参数化查询](http://www.dotnetperls.com/sqlparameter)来防止 SQL 注入）*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T10:22:37.790

好的，所以您要做的是插入数据库而不是从中读取，因此您必须简单地对数据库执行 sql 查询，而不是读取从中选择的任何数据。为此，您需要使用 ExecuteNonQuery 语句而不是 sqlDataReader。结果看起来像这样

```
public static bool saveToDb(string name1, string nam2, DateTime dat)
{
  bool ok = false;
  string sqlQuery = "INSERT INTO NumbersTable VALUES (@name1, @nam2, @dat)";
  //This is the sql query we will use and by placing the @ symbol in front of words
  //Will establish them as variables and placeholders for information in an sql command
  //Next we create the sql command
  SqlCommand cmd = new SqlCommand(sqlQuery, con);
  //Here we will insert the correct values into the placeholders via the commands
  //parameters
  cmd.Parameters.AddWithValue("name1", name1);
  //This tells it to replace "@name1" with the value of name1
  cmd.Parameters.AddWithValue("nam2", nam2);
  cmd.Parameters.AddWithValue("dat", dat);
  //Finally we open the connection
  con.Open();
  //Lastly we tell the sql command to execute on the database, in this case inserting
  //the values
  int i = cmd.ExecuteNonQuery();
  //Here we have the results of the execution stored in an integer, this is because
  //ExecuteNonQuery returns the number of rows it has effected, in the case of this
  //Insert statement it would effect one row by creating it, therefore i is 1
  //This is useful for determining if your sql statement was successfully executed
  //As if it returns 0, nothing has happened and something has gone wrong
  con.Close();
} 
```

我希望这对您有所帮助，如果您需要其他任何内容，请随时询问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:14:53.213

在你的代码中添加这个：

```
con.open();
S.executeNonQuery(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T11:26:54.780

试试看...此代码将给出正确的消息..
name1、name2、dat 是数据库中数据表中的列名

> public static void saveToDb()
> {
> string sqlQuery="INSERT into NumbersTable (name1,name2,dat) values ('Princee', 'Singhal','18/02/2012');
> SqlCommand s = new SqlCommand(sqlQuery, con) ;
> con.Open();
> int i=s.ExecuteNonQuery();
> if(i>=1)
> {
> MessageBox.Show("已插入记录");
> }
> else
> {
> MessageBox.Show("可能出现问题！") ;
> }
> con.Close();
> }

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-18T08:30:36.177

只需要更正现有代码中的某些内容，这绝对会对您有所帮助：

```
 public static bool executeMyQuery(string sqlQuery)
      {
        try
        {        con.Open();
                 SqlCommand s = new SqlCommand(sqlQuery, con);
                 s.ExecuteNonQuery();
                 con.Close();
                 return true;
         } 
       catch()
        {
          return false;
        }

    And use the above function[executeMyQuery()] anywhere you want to insert like and check whether record is inserted or not like below:

     bool isInserted = false;
     // give dummy value or get it what u want to inser on name1,nam2,dat
     string rawQuery = string.Format("INSERT into NumbersTable values ('{0}', '{1}','{2}')",name1,nam2,dat );

    isInserted = myExecuteQuery(rawQuery);

  if(isInserted)
    { 
      // lblStatus i am taking only to make you understand
      // lblStatus.text = "Record inserted succesfully";
    }
  else
    {
       // lblStatus.text = "Record insertion failed";
    } 
```

# java - 如何在 Java 中使用 sendmail？

> ID：14931751
> 
> 赞同：-2
> 
> 时间：2013-02-18T08:02:06.657
> 
> 标签：java, spring, sendmail

目前我的公司正在使用 3rd Party 服务发送电子邮件，而不是决定使用[sendmail](http://www.sendmail.com/)。这是基于 Java、Spring、Ibatis 构建的 Web 应用程序。我是 sendmail 的新手，我需要了解以下详细信息：

*   如何在 Java中使用**sendmail ？**
*   是否可以通过 Spring使用**sendmail ？**
*   [请指出我的任何教程，因为我在sendmail](http://www.sendmail.com/)网站上没有找到任何相关内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:08:06.847

Sendmail 实现了 SMTP 协议，因此任何电子邮件处理库（例如[javamail](http://www.oracle.com/technetwork/java/javamail/index.html)或[Apache Commons Email](http://commons.apache.org/email/)）都应该可以工作。

# jquery-ui - jQuery sortable 不在附加的 li 上发布

> ID：14931752
> 
> 赞同：1
> 
> 时间：2013-02-18T08:02:08.080
> 
> 标签：jquery-ui, jquery

我有一个从 php ajax 响应附加到**ul的表单**

```
 $('#page-form form').submit(function() {

        var data = $(this).serialize();
        //alert(data);

        $.ajax({
            type: "POST",
            url: "newPage.php",
            data: data,
            cache: false,
            success: function(html)
            {
                $('.item1 ul').append(html).slideDown();
            }
        });
    }); 
```

并使用 .sortable 订购**li**并保存位置

```
$(function() {
    $(".item1 ul").sortable({ revert:true, update: function() {
        var order = $(this).sortable("serialize") + '&action=updateRecordsListings';
        $.post("pageOrder.php", order, function(theResponse){

        });
    }
    });
}); 
```

问题是附加的 html 没有发布到 pageOrder.php

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:05:57.807

你应该试试这个。

```
$('#page-form form').submit(function()
{
    var data = $(this).serialize();
    $.ajax({
        type: "POST",
        url: "newPage.php",
        data: data,
        cache: false,
        success: function(html)
        {
            $('.item1 ul').append(html).slideDown();
            $(".item1 ul").sortable(
            {
                revert:true,
                update: function()
                {
                    var order = $(this).sortable("serialize") + '&action=updateRecordsListings';
                    $.post("pageOrder.php", order, function(theResponse){  });
                }
            });
        }
    });
});
```

这样，因为您正在追加新`dom`的，`.item ul`所以`newly appended DOM`没有`event`分配给他们。

安装[**FireQuery**](http://firequery.binaryage.com/)一个用于 jQuery 开发的 Firebug 扩展，它允许您查看附加到`dom`.

# javascript - 访问从 HTML PAGE 获取 JS 文件时出现 Wamp 403 fobidden

> ID：14931753
> 
> 赞同：0
> 
> 时间：2013-02-18T08:02:11.663
> 
> 标签：javascript, wamp, wampserver

我在 wamp 中有一个 WWW 网站，一个简单的 HTML 文件，其中包含一个对 JS 文件的调用。在我在 Chrome 中进行 www 测试的本地机器上，我收到错误 403 fobidden。

我曾尝试在 Windows Explorere 中设置权限，但没有成功。

任何想法？谢谢

# python - 如何获得n个二进制值的所有组合？

> ID：14931769
> 
> 赞同：43
> 
> 时间：2013-02-18T08:02:40.843
> 
> 标签：python, list, math, python-2.7

在 Python 中，如何获得`n`二进制值`0`和的所有组合`1`？

例如，如果`n = 3`，我想拥有

```
[ [0,0,0], [0,0,1], [0,1,0], [0,1,1], ... [1,1,1] ]  #total 2^3 combinations 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：82
> 
> 时间：2013-02-18T08:05:26.710

采用[`itertools.product`](http://docs.python.org/2/library/itertools.html#itertools.product)

```
import itertools
lst = list(itertools.product([0, 1], repeat=3)) 
```

这将产生一个元组列表（见[这里](http://ideone.com/rXZsIG)）

您可以轻松地将其更改为使用变量`repeat`：

```
n = 3
lst = list(itertools.product([0, 1], repeat=n)) 
```

如果您需要列表列表，则可以使用该`map`功能（感谢@Aesthete）。

```
lst = map(list, itertools.product([0, 1], repeat=n)) 
```

或者在 Python 3 中：

```
lst = list(map(list, itertools.product([0, 1], repeat=n)))
# OR
lst = [list(i) for i in itertools.product([0, 1], repeat=n)] 
```

请注意，使用`map`或列表推导意味着您不需要将产品转换为列表，因为它将遍历`itertools.product`对象并生成列表。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-02-18T08:44:35.073

无需使用任何内置功能或智能技术，我们就可以得到这样的结果。

```
def per(n):
    for i in range(1<<n):
        s=bin(i)[2:]
        s='0'*(n-len(s))+s
        print (map(int,list(s)))
per(3) 
```

输出

```
[0, 0, 0]
[0, 0, 1]
[0, 1, 0]
[0, 1, 1]
[1, 0, 0]
[1, 0, 1]
[1, 1, 0]
[1, 1, 1] 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-18T08:05:57.027

以下将为您提供所有此类组合

```
bin = [0,1]
[ (x,y,z) for x in bin for y in bin for z in bin ] 
```

# many-to-many - 如何在具有权限转移的关系数据库中对用户-用户组进行建模？

> ID：14931774
> 
> 赞同：0
> 
> 时间：2013-02-18T08:02:58.253
> 
> 标签：many-to-many, relational-database, acl, rdbms, foreign-key-relationship

我在设计一个简单的 ACL 系统时遇到了这个问题：

*   `Person 1`从`Team A`可以编辑`Item X`
*   `Person 1`从 转移`Team A`到`Team B`
*   `Team B`无法编辑`Item X`
*   由于历史原因，我们仍然允许`Person 1`编辑`Item X`

这是 RDBMS 中的典型模型：

*   `Person`表与表具有多对多关系`Team`
*   有 ACL 表，如下所示：
    `object_type | object_id | item_type | item_id | deny_or_allow`

像我描述的那样处理团队间的转移

*   我应该添加一个额外*的*规则`Person 1`吗？
*   当有一天我们拒绝整个`Team A`（包括前成员）编辑时会发生什么`ItemX`？
*   我们是否也应该保留人员转移历史记录表？
*   所以要决定 ACL 规则，我们必须遍历很多东西，也许我什至错过了一些

这个问题的复杂性随着 ACL 和人员调动的不断发生而增加。为此在关系数据库中设计模型的最佳实践是什么？这类事情有通用术语或主题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T14:08:11.117

典型的表驱动安全使用基于[角色的安全](https://dba.stackexchange.com/questions/12046/what-is-a-basic-model-for-making-a-database-with-users-and-groups/12107#12107)模式。

如果您想保留已离开角色的人员的访问权限，则需要在角色成员和角色权限上添加有效和到期日期/时间。这将允许您说诸如“人员 2”在“项目 X”存在之前离开“团队 A”之类的内容，因此他们看不到它。

# xslt - 查询 XSLT 返回为“stan”过滤的名称

> ID：14931777
> 
> 赞同：0
> 
> 时间：2013-02-18T08:03:08.917
> 
> 标签：xslt

```
<xsl:template match="country[@name]">
    <xsl:value-of select="."/>
    <xsl:if test="country=[*stan"]" >
    </xsl:if> </xsl:template> 
```

有人可以告诉我这个查询哪里出错了。我应该只返回带有“stan”的国家的名称（土库曼斯坦等）。XML 数据包括国家/地区、名称、人口。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:21:20.900

您的代码中有两处错误：

1.  if 语句上的 XPath 表达式，这是错误的，因为它不遵循 XPath 的语法。如果要在 if 语句中检查国家/地区名称是否包含 stan，则 XPath 表达式应为：

    ```
     country[contains(@name, 'stan')] 
    ```

2.  即使进行了更正，样式表也不会匹配其中包含“stan”的国家/地区名称，因为匹配表达式匹配具有名称属性 (country[@name]) 的所有国家/地区，然后您使用 value-of 输出国家/地区名称模板内。

修复代码的一种解决方案是将 value-of 元素更改为 if 元素，并将 XPath 表达式从我之前指定的表达式中更改。

但是，在输入模板之前匹配条件要简单得多。所以解决方案是：

```
<xsl:template match="country[contains(@name, 'stan')]">
    <xsl:value-of select="@name" />
</xsl:template> 
```

# agile - 更有成效的美容课程

> ID：14931780
> 
> 赞同：0
> 
> 时间：2013-02-18T08:03:19.767
> 
> 标签：agile, scrum, requirements

我正在寻找一种方法来让我们的 Scrum Grooming 会议更有效率。目前，感觉我们需要很长时间来创建用户故事和验收标准。对于一小时的会议，我们通常会以 2 到 4 个用户故事结束，包括验收标准。到达那里的过程感觉很痛苦，需要很长时间。

参与者包括来自 Dev + Architecture、QA、BA、客户、产品负责人（我）、可用性的成员。

我看到的问题是我们进行了很好的讨论，但是故事的措辞过程——尤其是验收标准——需要非常长的时间。

由于我们是一个分布式团队，我们必须通过电话、屏幕共享和协作编辑环境来完成这项工作。这肯定会影响生产力，因为我们不在同一个房间，但我仍然觉得我们的流程可以改进。

一些问题：

*   在一次梳理会议之后，您通常会完成多少个故事？
*   您是在梳理会议中创建验收标准，还是在外部创建？
*   您如何创建用户故事以及适合您的流程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T12:08:36.983

**询问团队！**

公平，我的回答很短，所以让我解释一下。团队比这里的任何人都更了解您的技术、问题、文化和产品；因此，他们是最好的答案。这是一个典型的话题，你应该在回顾中提出并本着持续改进的精神——检查和适应。不断适应和尝试，直到事情开始好转。

因此，在您的下一次复古中，提出并检查问题并承认它是无效的。寻找适应机会并做到这一点。

一些技巧（但不是作为 Scrum Master）

*   Scrum 建议将 10% 的容量用于修饰
*   没有规定每个人都应该在会议上这样做
*   召开会议以管理需要更正式讨论的例外或领域
*   尝试一些配对修饰
*   记住故事是沟通的占位符，而不是合同
*   获取核心验收标准，在规划会议和冲刺中构建其余部分

> 在一次梳理会议之后，您通常会完成多少个故事？

以准时制的态度完成接下来的两个冲刺就足够了

> 您是在梳理会议中创建验收标准，还是在外部创建？

既是与 PO 的正式会话中的关键业务接受标准，也是会话之外的功能性标准。验收标准应始终添加，即使在 sprint 计划和 sprint 中也是如此。避免将它们视为合同。

> 您如何创建用户故事以及适合您的流程？

我通常从满足业务需求的业务焦点故事开始。在修饰中，我们使用动作/动词或用例模型将其分解为功能性故事。这些可以写成故事。在一个典型的 1 小时会议中，您可以轻松地以高水平集思广益 50 多个需求。随着实施冲刺的临近，您可以将它们分解为 INVEST 故事；但在功能层面报告。

# xsl-fo - 没有 Java 的 Windows 上的 XSL-FO

> ID：14931781
> 
> 赞同：0
> 
> 时间：2013-02-18T08:03:19.983
> 
> 标签：xsl-fo

我正在开发一个 .NET Web 项目，需要从 XSL-FO 生成 PDF。我尝试过[FO.NET](http://fonet.codeplex.com/)，但是当我尝试将其应用于我们的输入并生成（视觉上）损坏的 PDF 时，它会吐出各种“尚未实现”的警告。我们的情况是，在我们所有的服务器上运行 Java 成本太高，所以我们不能使用任何 Java 库来代替 FO.NET。我找到[了 xmlroff](http://www.xmlroff.org/)，但我不确定它是否可以在 cygwin 上正确构建/运行。

一种可能性是拥有一个托管 Java Web 服务的专用服务器，该服务运行一个 XSL-FO 库，这当然意味着服务器和管理成本。

有谁知道任何在 Windows 上本机运行且没有 Java 的 XSL-FO 库？或者，除了我提到的 Web 服务之外，还有其他可行的解决方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-14T18:16:06.970

认为我的反应很晚，但尽管如此。

你有来自 Ibex 的 Ibex pdf 创建器。它们同时支持 .NET 和 Java。

[野山羊](http://www.xmlpdf.com/downloads-net.html)

我们在我们的项目中使用它，它很有魅力。

希望这可以帮助

增值税

# javascript - 如何在不删除跨度的情况下更改 html 段落内容？

> ID：14931782
> 
> 赞同：1
> 
> 时间：2013-02-18T08:03:20.637
> 
> 标签：javascript, jquery, html, jquery-ui, jquery-selectors

在 jquery UI 的以下示例中，我们有一个警告框：

```
<div class="ui-widget">
    <div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">
        <p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
        Alert: something went wrong</p>
    </div>
</div> 
```

我希望能够在不删除处理警报图标的部分的情况下编辑警报文本......但也无需在 javascript 中编写所有小部件 html。

如果我做类似`$('p').html("new alert")`的事情，它会删除跨度（图标）部分。如果我使用`$('p').text("new alert")`.

知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:07:13.470

您可以使用内部 div 元素并在其上放置文本

```
<div><span></span><div id="innerDiv"></div></div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:07:29.737

试试这个[http://jsfiddle.net/euFUL/](http://jsfiddle.net/euFUL/)

HTML

```
<div class="ui-widget">
    <div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">
        <p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
            <span id="ErrorMsg">Alert: something went wrong</span>
        </p>
    </div>
</div> 
```

JS

```
$(function () {
    $('#ErrorMsg').text("new alert");
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:09:09.180

您可以更改您的 html 结构，但如果您不想这样做，请尝试以下操作：

```
var $p = $('p');
$p.find('span').appendTo($p.html('Not an alert anymore')); 
```

[http://jsfiddle.net/tRMyq/](http://jsfiddle.net/tRMyq/)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-18T08:05:47.343

使用 jQuery 特殊选择器`:not()`

# java - Lucene - 返回按匹配字段数排序的结果

> ID：14931788
> 
> 赞同：1
> 
> 时间：2013-02-18T08:03:45.000
> 
> 标签：java, lucene

我有一个包含许多字段的 Lucene 索引。我想用它来查找按匹配字段数排序的文档，并让结果表明匹配的字段数。

在我的特定示例中，Lucene 索引中的文档代表网页，字段包括标题、元描述、h1 文本等。

如果我搜索“自行车”之类的术语，我希望返回在任何字段中包含“自行车”一词的所有文档。但是，我希望相关性分数表明包含关键字“自行车”的字段数。例如，如果文档在标题和元描述中包含“自行车”，我希望该文档的排名高于仅在标题中包含“自行车”的文档。我还希望能够确定第一个文档包含两个匹配项，而第二个文档只包含一个匹配项。关键字在特定字段中出现的频率无关紧要。我只关心是否匹配。

我知道我可以使用 a`BooleanQuery`在单个字段上查找匹配项，并且可以将它们组合起来在多个字段上执行 AND 或 OR 但我不知道如何执行一个查询，该查询将返回与任何字段匹配但也返回的文档有多少字段匹配的一些指标。

任何帮助将非常感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T03:19:42.533

在 Lucene 中，可以通过形成查询来完成[对字段的搜索，](http://lucene.apache.org/core/old_versioned_docs/versions/2_9_1/queryparsersyntax.html#Fields)`title:a web page`例如. 假设您像上面一样为 n 个字段创建查询 q1、q2、.. qn。使用这些查询进行搜索将返回您存储在列表 l1、l2、.. ln 中的文档 ID。现在，您将它们合并到一个集合 S 中。对于 S 中的每个项目，您检查该项目所属的列表（或哪些列表）。如果我理解正确，那应该可以解决您的问题。

# java - JpcapCaptor.getDeviceList() 返回一个空数组

> ID：14931789
> 
> 赞同：1
> 
> 时间：2013-02-18T08:03:59.370
> 
> 标签：java, linux, networking, network-programming, jpcap

我是 Jpcap 的新手。我在用着

```
NetworkInterface[] arr=JpcapCaptor.getDeviceList();
System.out.println(arr.length); 
```

从 Jpcap 获取设备。但它返回一个空数组。当我打印数组的长度时，它是 0。我使用 ubuntu 11.10 并使用`sudo apt-get install libpcap-dev`. 我的类路径中有 jpcap.jar。我不明白为什么我没有得到任何网络设备。有人能帮我吗。

编辑：当我`ifconfig`在终端运行时，我得到了这个输出。

> eth0 链路封装：以太网 HWaddr 18:a9:05:cb:8d:fb
> UP BROADCAST MULTICAST MTU:1500 指标：1 RX 数据包：0 错误：0 丢弃：0 超限：0 帧：0 TX 数据包：0 错误：0 丢弃:0 超限:0 载波:0 冲突:0 txqueuelen:1000 RX 字节:0 (0.0 B) TX 字节:0 (0.0 B) 中断:17
> 
> lo Link encap:Local Loopback
> inet addr:127.0.0.1 Mask:255.0.0.0 inet6 addr:::1/128 Scope:Host UP LOOPBACK RUNNING MTU:16436 Metric:1 RX packet:758 errors:0 dropped:0 overruns:0帧：0 TX 数据包：758 错误：0 丢弃：0 超限：0 载波：0 冲突：0 txqueuelen：0 RX 字节：27296 (27.2 KB) TX 字节：27296 (27.2 KB)
> 
> wlan0 Link encap:Ethernet HWaddr 00:26:c6:14:6c:68
> inet addr:192.168.2.55 Bcast:192.168.3.255 Mask:255.255.252.0 inet6 addr:fe80::226:c6ff:fe14:6c68/64 范围： Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX 数据包:11385 错误:0 丢弃:0 超限:0 帧:0 TX 数据包:6088 错误:0 丢弃:0 超限:0 运营商:0 冲突:0 txqueuelen:1000 RX字节：4582447 (4.5 MB) 发送字节：1203113 (1.2 MB)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T15:46:44.853

我在 Ubuntu 11.10 和 netbeans 中运行时遇到了问题。当我尝试使用终端（具有 sudo 权限）运行 jar 文件时，它起作用了。我认为问题在于linux中的权限。

在终端中运行 .jar 文件`sudo java -jar YourJarFile.jar`将解决他的问题。

# django - 通过 Nginx 和 SEO 优化提供未过期的内容

> ID：14931791
> 
> 赞同：0
> 
> 时间：2013-02-18T08:04:05.097
> 
> 标签：django, caching, nginx, seo

我通过 Webfaction 中的 Apache 和 Nginx 提供我的内容。Webfaction 仅支持其 Nginx 服务器的所有静态内容（图像、css 文件、js 等）的“epxires_max”指令。

我尝试了 Google [PageSpeed](https://developers.google.com/speed/pagespeed/) Tool，它说：

> 以下可缓存资源具有较短的新鲜生命周期。为以下资源指定至少一周后的到期时间：

然后列出它认为我需要指定其到期时间的大约 50 张图像。

所以我的问题是：

(a) 通过（Apache 和）Nginx（不包括 expires_max 指令）提供内容并使用 memcached，我是否还*需要*为我的静态内容指定更多过期信息？

(b) 除了 'expires_max' 我还有其他选择吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T08:20:30.797

如果您使用 NGINX 来提供所有静态内容，那么在 server 块中添加它应该可以解决问题：

```
location ~* \.(?:css|js|gif|jpe?g|png)$ {
    expires max;
    add_header Cache-Control public;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T19:09:44.833

`Expires`基本上，过期信息是通过使用 http 标头来指定的，特别是,`Cache-Control`和可能的`Etag`和的某种组合``Last-Modified`。例如，请参阅[http://www.mnot.net/cache_docs/](http://www.mnot.net/cache_docs/)以获取有关缓存如何工作以及标头含义的更多信息。

设置这些标头通常是您在网络服务器配置中执行的操作：

*   对于 Apache，您可以将必要的配置添加到您的主 apache 配置（如果您有权访问），或者通过 .htaccess 文件。您可以在这些 .htaccess 文件中添加哪些指令取决于[AllowOverride](https://httpd.apache.org/docs/2.2/mod/core.html#allowoverride)指令在主配置中的配置方式。
*   Nginx 需要访问主服务器配置文件，没有类似于 .htaccess 的机制（请参阅[http://wiki.nginx.org/LikeApache-htaccess](http://wiki.nginx.org/LikeApache-htaccess)了解原因）

换句话说，您需要联系 webfaction 支持（如果不在他们的常见问题解答中）并找出对您开放的选项：

*   你可以自己在主配置中添加东西吗？（我从对马特回答的评论中没有收集到）
*   如果通过票证要求，他们是否愿意将配置位添加到您的虚拟主机的配置中？
*   Apache 的 AllowOverride 设置为什么？因此，您可以为自己设置什么？（请参阅上面链接的 apache 文档）

# xpages - agent.runWithDocumentContext(document) 检索文档“正文”字段

> ID：14931792
> 
> 赞同：0
> 
> 时间：2013-02-18T08:04:07.800
> 
> 标签：xpages, lotus-notes, lotus-domino, lotus

在我们的一个 XPage 应用程序中，我们使用该类
`agent.runWithDocumentContext(document)`

我们必须使用它而不是将 XPage 直接绑定到 Notes Document，因为用户无法直接访问继承 Document 源的数据库。因此，在代理运行后，我们从返回的文档上下文中获取所需的字段信息，并将这些值设置为 XPages 对话框中的控件。一切都很好，但源文档还有 Lotus Notes Richtext 格式或 Mime 的 Body 字段。

现在我们关心的是：
1\. 我们如何`body`从文档上下文中手动拉取文档字段并将其显示到富文本中？2\. 我们如何从文档上下文中提取所有附件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:58:19.363

您是否尝试将文档批量复制到响应中？

```
call secretDoc.copyAllItems(contextDoc) 
```

这应该使您可以访问所需的一切。您还可以考虑一个“工作数据库”，用户有权访问，您的代理将文档复制到那里，您使用它，然后代理选择您需要写回的更改并将其从工作数据库中删除。只是不时重新创建数据库。

# python - 找到 django/contrib/admin/templates

> ID：14931793
> 
> 赞同：14
> 
> 时间：2013-02-18T08:04:12.337
> 
> 标签：python, django, ubuntu, django-templates

我看不到 django/contrib/admin/templates 文件夹。似乎它隐藏在 /usr/lib/python2.7/dist-packages/ 文件夹中， ctrl+h 无济于事（似乎所有 django 文件都被隐藏了）。终端中的“locate django/contrib/admin/templates”显示了一堆文件，但我如何在 GUI 中查看这些文件？我使用 Ubuntu 12.10 在此先感谢

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-11-24T03:54:05.427

要查看 django 安装所在的位置，请在命令行中运行：

```
python -c "
import sys
sys.path = sys.path[1:]
import django
print(django.__path__)" 
```

在我的系统上，这会返回

```
['/usr/local/lib/python2.7/site-packages/django'] 
```

来源：[Django 文档](https://docs.djangoproject.com/en/1.6/intro/tutorial02/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T08:11:30.890

您不应该弄乱系统特定的 python 设置，因为它被用作其他程序（使用 python）的依赖项。例如，手动更新 /usr/lib/python2.7/site-packages/ 中的包可能会破坏程序并且还需要 root 权限。

相反，您应该创建一个[virtualenv](http://virtualenv.org)并在其中安装 django：

```
# create an isolated python environment
virtualenv ~/your_env

# activate this environment, this means that you don't need to mess with your /usr system anymore
source ~/your_env/bin/activate

# use python's standard package manager to install django in the virtualenv
# does not require special permissions
pip install Django

# it will install in: ~/your_env/lib/python2.7/site-packages/ 
```

virtualenvs 是隔离的、安全的，并且可以使用您的常规用户权限。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:06:33.363

我想你应该进去看看`site-packages`。假设您使用的是 django 1.4，它应该是 -

```
/usr/lib/python2.7/site-packages/django/contrib/admin/templates 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T08:07:05.343

应该在这里：`/usr/lib/python2.7/site-packages/django/contrib/admin/templates`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T08:08:21.280

既然大家都在贴我的评论建议，不如自己贴吧。尝试查看：

`/usr/lib/python2.6/site-packages/django/`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-11-23T17:55:34.327

如果您使用的是 Python3，Django 位于您的 venv。在我的情况下，模板位于`<project_root>/venv/lib/python3.5/site-packages/django/contrib/admin/templates/`.

# php - Laravel 4 - 工匠错误 SQLSTATE [42000]

> ID：14931802
> 
> 赞同：5
> 
> 时间：2013-02-18T08:05:08.163
> 
> 标签：php, laravel

我正在尝试为我的 users 表创建一个新的迁移，我有以下架构：

```
 Schema::create('users', function($t) {
            $t->increments('id');
            $t->string('username', 16);
            $t->string('password', 64);
            $t->integer('role', 64);
            $t->timestamps();
    }); 
```

当我尝试从终端运行 php artisan migrate 时，出现以下错误：

> [异常]
> SQLSTATE [42000]：语法错误或访问冲突：1075 表定义不正确；只能有一个自动列，并且必须将其定义为键（SQL：创建表`users`（`id`int unsigne d not null auto_increment primary key，`username`varchar(16) not null， `password`varchar(64) no t null，`role`int not null auto_increment primary键，`created_at`时间戳默认 0 不为空，`updated_at`时间戳默认 0 不为空））（绑定：数组（
> ））

该错误与“角色”字段有关，因为当它被删除时，它似乎运行良好。

提前感谢您的任何帮助或见解。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-18T08:13:11.030

for的第二个参数`integer`是一个自动增量标志。

```
public function integer($column, $autoIncrement = false, $unsigned = false) 
```

[https://github.com/laravel/framework/blob/5.4/src/Illuminate/Database/Schema/Blueprint.php#L510](https://github.com/laravel/framework/blob/5.4/src/Illuminate/Database/Schema/Blueprint.php#L510)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-01T17:48:26.650

```
$t->integer('role', false); 
```

这解决了它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-22T17:08:23.317

整数的长度属性是不允许的。删除它并尝试。

# objective-c - 我的 NSDictionaries 数组返回只有键而没有值的字典。我怎样才能解决这个问题？

> ID：14931804
> 
> 赞同：0
> 
> 时间：2013-02-18T08:05:16.247
> 
> 标签：objective-c, nsmutablearray, nsdictionary

我有一个 NSDictionaries 数组。现在，为了简单起见，这个数组只包含两个字典。

当我单步执行代码时，每个`NSDictionary`都正确创建并**包含预期值**......我通过以下方式访问这个数组（填充在我的模型中）：

`@property (nonatomic, retain) NSMutableArray *sDictionaries;`

我通过以下方式访问控制器中的此属性：

`NSArray *array = [[NSArray alloc]initWithArray:sLocator.sDictionaries]`但是当我查看内部`array`时，它只包含键而**不是**值（在我的模型中创建字典时我已经看到了）。

`NSDictionary`非常感谢将这个对象数组从我的模型传递到我的控制器的任何帮助！

编辑：这是我遍历一些接收到的数据并将其放置在`NSDictionary`对象中的代码。

```
NSMutableArray *arrayOfObjects = [[NSMutableArray alloc]initWithCapacity:0];
sDictionaries = [[NSMutableArray alloc]initWithCapacity:0];

int i = 0;
//iterate through each element, get the string, then add to the array
//I know for this example I am receiving 10 element objects which are NSStrings. 
//The first string is the key of the dictionary and the next 4 strings are the values.
//Then all the objects are removed from arrayOfObjects and a new dictionary is made
for(Element *element in nodes)
{
    [mArray addObject:[element content]];

    if(i%5 != 0)
    {
        [arrayOfObjects addObject:[element content]];
    }

    if(i%5 == 0)
    {   
        [idArray addObject:[element content]];
    }

    if([arrayOfObjects count] >= 4)
    {
       //Here is where the dictionary is created then added to the array. 
        NSDictionary *dictionary = [NSDictionary dictionaryWithObject:arrayOfObjects forKey:[idArray lastObject]];
        [sDictionaries addObject:dictionary];

        [arrayOfObjects removeAllObjects];
    }

    i++;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T00:26:10.410

我觉得这条线很烂。 `NSDictionary *dictionary = [NSDictionary dictionaryWithObject:arrayOfObjects forKey:[idArray lastObject]];`

您将 allObjects`removeAllObjects`添加到字典后删除了它，因此删除了它自己的对象。尝试将该行更改为

`NSDictionary *dictionary = [NSDictionary dictionaryWithObject:[NSArray arrayWithArray:arrayOfObjects] forKey:[idArray lastObject]];`

# java - 删除 iPlanetDirectoryPro cookie

> ID：14931807
> 
> 赞同：0
> 
> 时间：2013-02-18T08:05:24.623
> 
> 标签：java, session, openam

我正在尝试使用以下代码在注销时删除 iPlanetDirectoryPro cookie。

```
 cookie.setMaxAge(0);
       cookie.setValue("");
       response.addCookie(cookie); 
```

但它仍然没有被删除。删除它的其他选项是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T10:23:09.077

您应该使用与创建 cookie 相同的 cookie 域来清除 cookie（并且可能具有相同的路径）。

# extjs - 设置默认值后，Extjs 表单脏了

> ID：14931809
> 
> 赞同：1
> 
> 时间：2013-02-18T08:05:40.380
> 
> 标签：extjs

我对 extjs 4.1 中表单组件的 isDirty() 方法有疑问。通过设置表单中字段的默认值后

> Ext.getCmp(id).setValue(value)

`form.isDirty()`返回 false 就好像它已被修改。我不知道如何在设置默认值后清理表单，只是调用`isDirty()`以提醒用户表单在设置默认值后已被弄脏。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T08:13:39.453

你在找[`trackResetOnLoad`](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.Basic-cfg-trackResetOnLoad)吗？

# java - Namenode的恶魔启动时挂断

> ID：14931814
> 
> 赞同：0
> 
> 时间：2013-02-18T08:06:02.293
> 
> 标签：java, linux, unix, hadoop, mapreduce

我在配置 core-site.xml 文件中将端口更改为 5000 上的 9000 并启动了一个脚本

```
./hadoop namenode 
```

结果我收到了以下消息（我只给出了从屏幕上看到的部分，因为在日志文件中没有注册）

```
13/02/17 22:42:39 INFO http.HttpServer: Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
13/02/17 22:42:40 INFO http.HttpServer: dfs.webhdfs.enabled=false
13/02/17 22:42:40 INFO http.HttpServer: Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1\. Opening the listener on 50070
13/02/17 22:42:40 INFO http.HttpServer: listener.getLocalPort() returned 50070 webServer.getConnectors()[0].getLocalPort() returned 50070
13/02/17 22:42:40 INFO http.HttpServer: Jetty bound to port 50070
13/02/17 22:42:40 INFO mortbay.log: jetty-6.1.26
13/02/17 22:42:52 INFO mortbay.log: Started SelectChannelConnector@0.0.0.0:50070

13/02/17 22:42:52 INFO namenode.Namenode: Web-server up at: 0.0.0.0:50070
13/02/17 22:42:52 INFO ipc.Server: IPC Server Responder: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server listener on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 0 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 1 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 9 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 8 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 7 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 6 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 5 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 4 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 3 on 5000: starting
13/02/17 22:42:52 INFO ipc.Server: IPC Server handler 2 on 5000: starting 
```

它的进程停止了，并且已经挂了几个小时。上次已经是这样了，我删除了它对 Ctrl+Z 的点击，但结果是在下次运行 Namenode 的恶魔的情况下，在帮助下

```
./hadoop namenode 
```

我收到了[有关 Namenode 恶魔启动错误](https://stackoverflow.com/questions/14926077/error-of-start-of-the-demon-of-namenode/14926140#14926140)的消息。我该怎么办：停止进程（但是需要重置虚拟机并且可以更改端口，并且长期不清楚 - 下次是否会挂起）或等待？但在任何情况下，同时情况令人绝望（关于 Namenode 启动），因此我希望提供替代选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T18:51:56.717

如何更好地理解/分析您的错误的几件事：

1.  `./hadoop namenode &> out`从这里您可以阅读完整的错误堆栈跟踪（STDIN 和 STDOUT 都被重定向到`out`文件中）

2.  按 Ctrl-Z 将进程置于后台（您不会杀死它们）。因此，您收到“端口已在使用”错误。您需要杀死当前正在运行的应用程序并重新启动）

3.  在运行命令之前，请确保端口是否尚未在使用中

# url-rewriting - 符号链接不适用于 xampp 中的 htaccess

> ID：14931818
> 
> 赞同：1
> 
> 时间：2013-02-18T08:06:13.060
> 
> 标签：url-rewriting, xampp, symlink

几天来，我试图弄清楚符号链接如何与 htaccess rewriterule 一起工作，
为此我创建了一个新项目来帮助我在
我工作的一个网站中应用这些规则，因此上下文是：
在我的 xampp 文件夹中在本地主机上，我有一个主页**index.php**，我想将其称为“主页”
，在此页面中，我有两个页面的 URL 链接，分别称为**Objective.php**和**news.php**，我希望在未来的网站中加载动态内容

这是我的**index.php代码**

```
<p><a href="objectives.php?menu=corporate-objectives">  
Corporate objectives - load page content for this item from objectives table</a></p>  
<p>Functional objectives ...</p>  
<p>Unit objectives ...<p>  
<p><a href="news.php?article=meeting-news">  
Meeting news - load content from news table for meeting</a></p>  
<p>Press release news ...</p>  
<p>Other news ...<p> 
```

这是其他两个页面的代码：
**objectives.php**

```
$pages = $_REQUEST['menu'];  
echo "This is Corporate objectives -objectives.php here I load content  
according to this menu item value"."<br>";  
echo "Menu item value: ".$pages; 
```

**新闻.php**

```
$pages = $_REQUEST['article'];  
echo "This is Meeting news - news.php here I load news content  
for this article value from news table "."<br>";  
echo "Article value: ".$pages; 
```

我之前读过的是，使用 htaccess 中的 RewriteRule 我可以将 url 更改为符号或友好，例如：
**/MyTest_proj/objectives.php?**
menu=corporate-objectives 我想在
**/MyTest_proj/corporate-objectives**
和
**/ MyTest_proj/news.php?article=meeting-news**
in
**/MyTest_proj/meeting-news**
所以我已经在我的**.htaccess**中完成了：

```
Options +FollowSymLinks  
RewriteEngine on  
RewriteRule ^([-a-zA-Z0-9]+)?$ objectives.php?menu=$1  
RewriteRule ^([-a-zA-Z0-9]+)?$ news.php?article=$1 
```

问题是......没有任何反应，所以我试图改变一些东西来测试
主页上的 url 链接：

```
<a href="corporate-objectives"> ...</a>  
<a href="meeting-news">...</a> 
```

它只适用于**objectives.php**，因为我重写了规则，第二页
加载在同一页面而不是**news.php**
我已经尝试了多种方式来更改规则但没有任何工作..几次
，最常见的错误是错误 401
我对冗长的内容表示歉意，请告诉我可以做些什么毕竟
谢谢！

# jquery - 谷歌地图在隐藏的 div 中不显示

> ID：14931819
> 
> 赞同：2
> 
> 时间：2013-02-18T08:06:19.657
> 
> 标签：jquery, google-maps, google-maps-api-3, responsive-design, enquire.js

我知道这是本网站和其他地方报告的常见问题，例如

*   [http://blog.codebusters.pl/en/entry/google-maps-in-hidden-div](http://blog.codebusters.pl/en/entry/google-maps-in-hidden-div)
*   [http://dougmolineux.com/wp/?p=242](http://dougmolineux.com/wp/?p=242)

但我无法解决我的问题。

因此，我首先建立了一个响应式站点，首先是移动设备，并且我正在尝试使自适应地图解决方案正常工作，即移动视口获取静态 Google 地图图像，而对于非移动视口，则使用完整的 Google 地图 API，这一切都必须自行更新当视口不仅在页面加载时调整大小时。基于此：[http](http://codepen.io/bradfrost/pen/tLxAs) ://codepen.io/bradfrost/pen/tLxAs 。

我正在使用[**这个库**](http://wicky.nillia.ms/enquire.js/)。

我仅在需要时（非移动视口）通过 jQuery`$.getScript`以及库`setup()`和`defer()`函数有条件地加载 Maps API。

因此，在我使用 jQuery 的每个视口中只有正确的地图渲染，`hide()`因此`show()`API 地图不会完全加载自身（只有 1 个图块），如果页面在非移动视口加载，它确实可以正常加载大小，这是当您将移动视口大小调整回非移动视口大小时，因为这是该`show()`方法启动的时候。其他一切正常。

这是我的代码：

**HTML**

```
<div class="map">
    <div class="map__static">
        <img src="http://maps.google.com/maps/api/staticmap?center=-33.867487,151.20699&zoom=15&markers=-33.867487,151.20699&size=650x405&sensor=false">
    </div>
</div> 
```

默认情况下会加载静态地图图像，因为该站点首先是 Mobile 构建的。

**JS**

```
var mapContainer = $('.map'),
mapStaticContainer = $('.map__static');
mapDynamicContainer = $('<div class="map__dynamic"/>');

// Start Enquire library
enquire.register('screen and (min-width: 40em)', {

    deferSetup: true,

    setup: function setup() {
        mapContainer.prepend(mapDynamicContainer);
        mapDynamicContainer.load('/includes/scripts/adaptive-google-map.php', function() {
            $.getScript('https://maps.googleapis.com/maps/api/js?key=AIzaSyAywjPmf5WvWh_cIn35NwtIk-gYuwu1I2Q&sensor=false&callback=initialize');
        });
    },

    // Not mobile size viewport
    match: function() {
        mapStaticContainer.hide();
        mapDynamicContainer.show();
    },

    // Mobile size viewport
    unmatch: function() { 
        mapStaticContainer.show();
        mapDynamicContainer.hide();
    }

}, true).listen(); 
```

这是**'/includes/scripts/adaptive-google-map.php'**的内容，它是通过 jQuery 进行 AJAX 处理的`load()`。

```
<div id="map_canvas"></div>
<script>
    function initialize() {
    var myLatlng = new google.maps.LatLng(-33.867487,151.20699);
    var myOptions = {
      zoom: 15,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      scrollwheel: false
    }
    map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
    var marker = new google.maps.Marker({
        position: myLatlng,
        map: map,
        animation: google.maps.Animation.DROP
    });
    var contentString = 
        '<div class="infowindow">'+
            '<div>'+
                    '<p class="flush"><strong>SALES OFFICE:</strong><br>1/16 M. 5<br>Sydney<br>NSW, 83110.</p>'
            '</div>'+
        '</div>'
    ;
    var infowindow = new google.maps.InfoWindow({
        content: contentString
    });
    google.maps.event.addListener(marker, 'click', function() {
        infowindow.open(map,marker);
    });
    // Center Google Maps (V3) on browser resize (http://stackoverflow.com/questions/8792676/center-google-maps-v3-on-browser-resize-responsive)
    var center;
    function calculateCenter() {
        center = map.getCenter();
    }
    google.maps.event.addDomListener(map, 'idle', function() {
        calculateCenter();
    });
    google.maps.event.addDomListener(window, 'resize', function() {
        map.setCenter(center);
    });
    }
</script> 
```

这解决了问题：

```
mapDynamicContainer.show(function () {
    setTimeout(function() {
    initialize(); 
}, 100);
 }) 
```

但是会抛出一个 JS 错误：`Uncaught ReferenceError: initialize is not defined`. ppl 建议的另一个常见修复方法。正在应用这个：`google.maps.event.trigger(map, 'resize');`但是当我把它放在之后：`mapDynamicContainer.show();`在`match()`函数中我得到这个 JS 错误：`Uncaught ReferenceError: google is not defined`。

运气不太好:(

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-20T13:17:41.450

好的，所以基本上“调整大小”仍然是你的答案。

我刚刚将您的匹配修改为这段代码：

```
match: function() {
    mapStaticContainer.hide();
    mapDynamicContainer.show();
    if( typeof(map) != 'undefined'){
        var center = map.getCenter();
        google.maps.event.trigger(map, "resize");
        map.setCenter(center);
    }
 }, 
```

它正在工作。不知道您的代码中是否还有其他内容。我使用了您提供的 html、js 和 Adaptive-google-map.php 的内容，它可以正常工作。

# angularjs - 像在angularjs中使用的打字稿命名参数？

> ID：14931824
> 
> 赞同：16
> 
> 时间：2013-02-18T08:06:52.950
> 
> 标签：angularjs, typescript

我正在尝试同时学习 typescript 和 angularjs（因此我是菜鸟，因此学习 javascript）

通过 angularjs 教程，我看到他们做了这样的事情：

在普通的 javascript 中：

```
 //for full example, see the "Wire up a backend" project.js example 
//on the main page of http://angularjs.org 
            function CreateCtrl($scope, $location, Project){
        //do stuff
        } 
```

更重要的是，这些参数可以按任何顺序排列（或根本不存在），而 Project 实际上是用户定义的变量/类型。angularjs 框架能够将参数映射到实际对象。

那么现在到 Typescript，我怎样才能重新创建这种类型的功能呢？我实际上想以某种方式描述 angularjs 的行为，让我将其包装在 typescript 中，（强烈键入这种灵活的属性注入）

有任何想法吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-18T09:28:30.150

绝对类型上有一个[AngularJS 类型定义](https://github.com/borisyankov/DefinitelyTyped/tree/master/angularjs)，可让您使用来自 TypeScript 的 Angular。

如果我正在为诸如此类的现有函数创建定义（在没有命名参数的情况下），我可能会以特定顺序定义它们（即使我知道它们*可以*在纯 JavaScript 中以不同的顺序传递）或创建一组与我想要公开的可能性相匹配的函数重载，如下所示：

```
interface Example {
    ($scope: bool, $location: string, Project: number): void;
    ($location: string, $scope: bool, Project: number): void;
    (Project: number, $scope: bool, $location: string): void;
}

declare var example: Example; 
```

当我尝试调用时，`example(`我会使用三个选项获得智能感知，如果我不使用这些组合之一，我会收到编译器警告。

在 JavaScript 中，命名参数通常是用一个对象创建的，所以如果我正在编写一个可以以这种方式接受参数的新方法，我会这样做......

```
interface ExampleArguments {
    scope: bool;
    location: string;
    project: number;
}

var example = function (exampleArguments: ExampleArguments) {

};

example({ scope: true, project: 4, location: 'hi' }); 
```

这是在 TypeScript 中静态输入和检查的。

# iphone - 奇怪的内存泄漏

> ID：14931825
> 
> 赞同：1
> 
> 时间：2013-02-18T08:07:02.073
> 
> 标签：iphone, ios, ipad

我的 iPad 应用程序几乎没有内存泄漏。这是屏幕截图和代码。我每秒钟都在重新加载表格数据以显示进度。所以我怎样才能得到这个修复。

当我重新加载表时总是会发生这种情况

```
// Customize the appearance of table view cells.
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
   static NSString* Identifier = @"OrderCustomCell";
    UserCustomCell* cells =(UserCustomCell*) [tableView dequeueReusableCellWithIdentifier:Identifier];

    if (cells == nil)
    {
        NSArray* topLevelObjects=[[NSBundle mainBundle] loadNibNamed:@"UserCustomCell" owner:self options:nil];
        for(id currentObject in topLevelObjects)
        {
            if([currentObject isKindOfClass:[UITableViewCell class]])
            {
                cells=(UserCustomCell *)currentObject;
                break;
            }
        }
    }

        NSDictionary* dic = [tableDataArray objectAtIndex:indexPath.row];
        cells.selectionStyle = UITableViewCellEditingStyleNone;
        cells.brandName.text = [dic objectForKey:@"brandname"];
        [cells.msyncBtn setTag:indexPath.row];

        NSString* status = [dic objectForKey:@"status"];
        if ([status isEqualToString:@""])
        {
            cells.status.text = [NSString stringWithFormat:@"0%@ Completo",@"%"];
        }
        else
        {
            cells.status.text = [NSString stringWithFormat:@"%@%@ Completo",status,@"%"];
        }

        NSString* syncDate = [dic objectForKey:@"syncDate"];
        if ([syncDate isEqualToString:@""])
        {
            cells.syncDate.text = [NSString stringWithFormat:@"Não sincronizado"];
        }
        else
        {
            cells.syncDate.text = [NSString stringWithFormat:@"%@",syncDate];
        }

        NSString* totalloaded = [dic objectForKey:@"totalloaded"];
        if ([totalloaded isEqualToString:@""])
        {
            cells.totalLoaded.text = [NSString stringWithFormat:@""];
        }
        else
        {
            cells.totalLoaded.text = [NSString stringWithFormat:@"%@",totalloaded];
        }
    return cells;
} 
```

请检查此图像

![截图 1](../Images/105e09f3fe982141f3850956e07f665d.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:24:43.980

尝试这个

```
if (cells == nil)
{
NSAutoreleasePool *pool = [[NSAutoreleasePool alloc]init];
    NSArray* topLevelObjects=[[NSBundle mainBundle] loadNibNamed:@"UserCustomCell" owner:self options:nil];
    for(id currentObject in topLevelObjects)
    {
        if([currentObject isKindOfClass:[UITableViewCell class]])
        {
            cells=(UserCustomCell *)currentObject;
            break;
        }
    }
[pool drain];
} 
```

# matlab - matlab中的直方图平铺值

> ID：14931826
> 
> 赞同：0
> 
> 时间：2013-02-18T08:07:02.280
> 
> 标签：matlab, histogram, threshold

我正在做一个关于“时刻保持阈值”的项目。在进行某些操作后，我们得到了 p(p0,p1,p2,p3...) 的某些值，并且从直方图中找到了输出（阈值）图像，选择阈值作为 P0-tile .. p(p0,p1,p2...) 的值是小于 1 的分数（比如 0.34,0.46）我的问题是我怎样才能找到这种分数值的值- 直方图中的图块..

PS：我在MAT实验室做这个

我是堆栈溢出的新手，所以我无法发布图像..有人可以帮助我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:15:01.430

您需要使用累积分配

```
[n x] = hist( I(:), 1000 ); % 1000 bin histogram
density = n/sum(n);
cdf     = cumsum(density); % sums to one
% Choosing a thershold such that fraction p of the pixels are below it
thri = find( cdf >= p , 1, 'first' );  % edit here from < to >=
thr = x( thri ); 
```

# java - Java：确切的异常类型有多重要

> ID：14931829
> 
> 赞同：1
> 
> 时间：2013-02-18T08:07:07.897
> 
> 标签：java, exception, exception-handling

异常类型的确切类型（实际上在编程语言中）有多重要？假设我有一本书的章节层次结构，并且我使用一种方法来访问这些章节。一种是：

```
public void chapterSearch(int chapter) {
    try {
    chapterString = this.hierarchy.get(chapter).getText();
    } catch(IndexOutOfBoundsException e) {
    throw new....
        }
} 
```

第二个是这样的：

```
public void chapterSearch(String chapterString) {
    for(int i = 0; i < this.hierarchy.size(); i++) {
    if(chapterString.equals(this.hierarchy.get(i).getText())) {
        break;
    } else if(i == this.hierarchy.size() - 1) {
        throw new IllegalArgumentException...
        }
    }
} 
```

在第一种方法中，很明显会抛出一个新的`IndexOutOfBoundsException`. 但是还有`IllegalArgumentException`你可以使用的，根据javadoc是

> 抛出以指示方法已传递了非法或不适当的参数。

这似乎也很适合这种情况。我的意思是，在没有这样的章节号的情况下传递一个非常大的章节号对我来说似乎很*不合适*。或者，如评论中所述，我可以抛出我自己的新异常，`ChapterNotFoundException`. 但这可能很麻烦，而且我可能不会多次使用此异常 - 看起来使用预先存在的异常可能更合适。

但总的来说，即使在这种情况下`IndexOutOfBoundsException`仍然是最合适的，或者如果您更愿意，`ChapterNotFoundException`异常类型的选择通常有多大关系？

我想一旦你经常使用它，创建你自己的异常类型就会很有意义，但如果你不是呢？

编辑：一个很好的相关答案，虽然下面的答案也很好，在[这里](https://stackoverflow.com/a/77361/1154376)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T08:21:32.990

我认为这取决于您要如何处理异常。如果您希望程序失败，然后再深入研究日志，我会投票

```
throw new IllegalArgumentException("Unexpected chapter: \"" + chapterString + "\""); 
```

如果你想捕获异常并处理它，那么创建一个`ChapterNotFoundException`更有意义。然而，如果你想在你的代码中处理它，你应该考虑创建一个布尔方法来检查章节是否存在，并且完全避免处理异常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:14:49.133

根据良好的编码指南，捕获确切的异常（尽可能）非常重要。

原因如下

1.  在某些情况下，您需要处理异常并在出现异常时进行一些修复工作。如果出现不同的异常，您所做的修复工作可能会有所不同，并且不能有通用的处理方式。因此，在这些情况下，您可以在适当的异常捕获块中处理特定情况。
2.  第二个原因是，如果有人试图调用你的方法，如果他们知道一组可能抛出的异常，那么这对第三部分谁将重用你的方法很有帮助。如果您只是简单地抛出 "Exception" 或 "Throwable" ，那么它在天空下变得太笼统而无法处理。

直截了当地说，总比拐弯抹角好

# css - 内联 CSS 是否会覆盖页面底部的样式表？

> ID：14931830
> 
> 赞同：2
> 
> 时间：2013-02-18T08:07:11.817
> 
> 标签：css

我正在构建一个 javascript 插件/CSS 表，它必须覆盖页面的原始样式（该插件使任何静态站点都具有响应性）。

目前，如果我有类似的东西：

```
<body id="home">
    <div style="width:900px; background:green; height:500px; margin:0 auto;">
        <div style="width:400px; background:blue; height:300px;"
            <p>Hello hello hello hello hello hello</p> 
        </div>
    </div>  
    <div style="width:800px; background:green; height:500px;">
        <div style="float:left; width:400px; background:blue; height:300px;"
            <p>blah blah blah blah blah</p> 
        </div>
    </div>
    <link rel="stylesheet" href="css/jq_responsive.css" >
    <script src="js/main.js"></script>
</body> 
```

我的 jq_responsive.css 样式不优先于内联样式。如果我将内联样式放在文档的`<style>`标签中`<head>`，则应用指向 jq_responsive.css 文件应覆盖的所述样式的类。但是，这不是我的目的的选择。

是`!important`我可以在这里覆盖的唯一方法吗？如果可能的话，我想避免这种情况。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T08:17:07.493

特异性新月顺序

以下选择器列表是通过增加特异性：

*   通用选择器
*   类型选择器
*   类选择器
*   属性选择器
*   伪类
*   ID 选择器
*   内联样式

[https://developer.mozilla.org/en-US/docs/CSS/Specificity](https://developer.mozilla.org/en-US/docs/CSS/Specificity)

!important 可能是 CSS 中唯一的方法，或者您可以使用 JavaScript 删除内联 CSS

# php - 文件中的 CodeIgniter 西里尔文名称

> ID：14931832
> 
> 赞同：0
> 
> 时间：2013-02-18T08:07:15.070
> 
> 标签：php, codeigniter, file-upload

```
$config['upload_path'] = './uploads/logo/';
$config['allowed_types'] = 'gif|jpg|png';
$config['max_size'] = '0';
$config['max_width']  = '0';
$config['max_height']  = '0';

$this->load->library('upload', $config);

if ( ! $this->upload->do_upload('image_bg'))
{
    //$error = array('error' => $this->upload->display_errors());

    //$this->load->view('upload_form', $error);
    echo 'fail';
}
else
{
    //some actions
} 
```

当我上传带有西里尔文名称的文件时，它们看起来更糟，如何在将文件名上传到 codeigniter 中的服务器后将其转换为 windows-1251 unicode？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:21:20.320

```
 $config[0]['upload_path'] = './uploaded_files/banner';
    $config[0]['allowed_types'] = 'gif|jpg|png';
    $config[0]['file_name'] = $image_id."_ipad";
    $config[0]['remove_spaces'] = TRUE;
    $config[0]['overwrite'] = TRUE;

    //Loading Library - File Uploading
    $this->load->library('upload');
    $this->upload->initialize($config[0]);

    $this->upload->do_upload('banner_image_ipad');
    $data = array('upload_data' => $this->upload->data());
   $banner_image_ipad = $data['upload_data']['file_name']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:17:32.690

在配置文件中设置文件名。

```
$config['file_name'] = 'image_' . time(); 
```

# javascript - HTML 中的 Body 和 Div 对齐

> ID：14931838
> 
> 赞同：0
> 
> 时间：2013-02-18T08:07:57.613
> 
> 标签：javascript, html, css

我给 body 和 div 相同的高度，宽度。我的CSS是

```
 body {
background-repeat: no-repeat;
background-color: maroon;
width: 1280px;
height: 670px;
margin: 0; 
```

}

```
div {
background-color: yellow;
width: 1280px;
height: 670px; 
```

}

我的html是

```
<body>
<div   id='slider4' class='swipe'>
<div>
<div style='display:block' >1</div>
<div style='display:none'><div>2</div></div>
</div> 
```

```
</body> 
```

但是当我在Firefox中打开它时，它会像这样显示，我不知道

html的大小=body的大小=div的大小

然后红色也超出黄色。

![在此处输入图像描述](../Images/ccf237a61a364d9ebdeecfe596f45c7d.png) ![在此处输入图像描述](../Images/d8b7dd919e678fa70e418ae3dea09a0d.png) ![在此处输入图像描述](../Images/c23d1b986aafadd2e3fe3c6f370aceaa.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:21:20.453

栗色显示是因为出于向后兼容性的原因，默认情况下 html 元素从 body 元素中获取其背景色，而视口从 html 元素中获取其背景色。

[CSS 2.1 规范](http://www.w3.org/TR/CSS2/colors.html#background)说：

> 对于根元素是 HTML "HTML" 元素或 XHTML "html" 元素的文档，其 'background-color' 的计算值为 'transparent' 和 'background-image' 的计算值为 'none'，用户代理必须改为使用为画布绘制背景时，从该元素的第一个 HTML“BODY”元素或 XHTML“body”元素子元素计算的背景属性值，并且不得为该子元素绘制背景。

和

> 根元素的背景成为画布的背景并覆盖整个画布

您可以将 html 元素的背景颜色设置为“白色”，以阻止栗色区域超出 body 元素的高度。

# css - 无法更改评论部分，在 Drupal 7 的 IE7 中提交按钮文本颜色样式

> ID：14931840
> 
> 赞同：0
> 
> 时间：2013-02-18T08:08:06.070
> 
> 标签：css, forms, drupal-7

我正在尝试为评论表单提交按钮添加自定义样式

```
.form-actions .form-submit {
    color: #FFFFFF !important;
    background-color: #CC0000;
    height: 40px;
} 
```

它适用于所有浏览器，但在 IE7 中不起作用。一些覆盖文本颜色#A0A0A0 也来了。

## 即 7

![在此处输入图像描述](../Images/a0329563de0df9e69e1419b03568f041.png)

## 其他浏览器

![在此处输入图像描述](../Images/0ba53090cf82f73476c763a2a2b876d5.png)

注意：所有其他提交按钮样式都可以正常工作，仅在评论表单提交按钮中。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T12:14:43.457

尝试`_color: #FFFFFF !important;`

# mysql - 日期之间的查询也返回前几个月的行

> ID：14931843
> 
> 赞同：1
> 
> 时间：2013-02-18T08:08:08.533
> 
> 标签：mysql, sql, select

我有以下 where 子句

```
AND  DATE_FORMAT( l.created_on,  "%d/%m/%Y" )  BETWEEN '06/02/2013' AND '07/02/2013' 
```

`created_on`时间戳在哪里。

现在由于某种原因，查询也返回了前几个月的行。有谁知道为什么？

**笔记 ：**

**我需要采用特定格式的日期**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:12:02.030

Mysql 字符串日期格式遵循模式 yyyy-mm-dd。如果您有时间戳，请勿转换为日期，只需比较时间戳即可。

```
WHERE l.created_on 
BETWEEN UNIX_TIMESTAMP('2012/02/06') AND UNIX_TIMESTAMP('2013/02/07') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:09:46.213

如果`created_on`已经是日期（*数据类型*），

您可以使用直接查询它，

```
WHERE created_on  BETWEEN '2013-02-06' AND '2013-02-07' 
```

但如果日期是一个字符串，使用`STR_TO_DATE`

```
WHERE STR_TO_DATE(l.created_on,  '%d-%m-%Y')  BETWEEN '2013-02-06' AND '2013-02-07' 
```

**更新 1**

由于您不想更改输入日期的格式，因此您需要使用`STR_TO_DATE`

```
WHERE l.created_on  BETWEEN STR_TO_DATE('06/02/2013','%d/%m/%Y') AND 
                            STR_TO_DATE('07/02/2013','%d/%m/%Y') 
```

# html - 隐藏和显示 HTML5 元素而不丢失样式

> ID：14931846
> 
> 赞同：0
> 
> 时间：2013-02-18T08:08:15.300
> 
> 标签：html, gwt

我正在寻找一种隐藏 HTML5 元素的方法，当我展示它们时，它们将位于相同的位置并具有相同的样式。

我尝试将它们从 RootPanel 中删除并重新添加，但它们没有重新出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T13:49:04.240

```
// before

$("#myElement").css({"visibility":"hidden"});

// after

$("#myElement").css({"visibility":"visible"}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T03:46:19.457

不应更频繁地添加和删除元素。它是一个性能问题。每次添加和删除一些元素时，浏览器都会执行[链接中提到的一些操作](http://taligarsiel.com/Projects/howbrowserswork1.htm#The_rendering_engine)

因此，显示/隐藏元素的最佳方法是使用 CSS display: None 或 visibility: hidden 属性。

风格=“显示：无”；或风格=“可见性：隐藏”；

# math - 像素灰度背后的方程

> ID：14931848
> 
> 赞同：0
> 
> 时间：2013-02-18T08:08:23.543
> 
> 标签：math, graphics

我有一张灰度和彩色形式的图像，我想知道像素灰度方程？所以我在两个图像上追踪相同的像素

红色=119 绿色=198 蓝色=122
红色=169 绿色=169 蓝色=169

红色=0 绿色=133 蓝色=184
红色=119 绿色=119 蓝色=119

红色=119 绿色=74 蓝色=180
红色=94 绿色=94 蓝色=94

方程是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T09:17:24.777

以下等式产生相同的结果（四舍五入到最接近的整数）：

```
 gray = 0.1313*r + 0.6781*g + 0.1566*b; 
```

（使用[此站点](http://www.1728.org/unknwn3.htm)解决 Nikita 评论中建议的 3 个未知方程）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:15:05.630

[“灰度：将颜色转换为灰度”](http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale)

![灰度方程](../Images/1fef7ef73169700b19bdc0cbab47300d.png)

请注意，0.299、0.587 和 0.114 是每种颜色权重的绝对值，因为它们都有不同的亮度。简单来说，绿色比红色和蓝色浅，蓝色是三种颜色中最暗的。更多信息可以在[这里](http://www.had2know.com/technology/rgb-to-gray-scale-converter.html)找到。

# actionscript-3 - 将图像保存在 sharedObject 中

> ID：14931851
> 
> 赞同：3
> 
> 时间：2013-02-18T08:08:34.467
> 
> 标签：actionscript-3, apache-flex, flex4, flex4.6

如何将图像保存到`SharedObject`? 我正在使用`SharedObject`保存应用程序状态，它适用于文本对象并且运行`UIComponent` 良好，但保存了`Image`创建问题。它不会引发任何错误。

```
 userdiagram.imageData = zorder.getItemAt(i) as mx.controls.Image
   userdiagram.x        = (zorder.getItemAt(i)).x;
   userdiagram.y        = (zorder.getItemAt(i) ).y;
   userdiagram.height   = (zorder.getItemAt(i)).height
   userdiagram.width    = (zorder.getItemAt(i)).width 
```

这里 userdiagram 是类，imageData 是图像类型变量。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T08:28:29.347

您必须使用 byteArray 将图像保存在 sharedObject 中。

您可以在这里阅读更多信息：[http ://www.kirupa.com/forum/showthread.php?306972-Saving-bitmaps-to-a-shared-object](http://www.kirupa.com/forum/showthread.php?306972-Saving-bitmaps-to-a-shared-object)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T11:59:14.940

我将图像保存为 Abhinav 的建议链接：

```
var data:BitmapData = new BitmapData((zorder.getItemAt(i) as mx.controls.Image).width, (zorder.getItemAt(i) as mx.controls.Image).height);
                data.draw((zorder.getItemAt(i) as mx.controls.Image));
                var encoder:JPGEncoder = new JPGEncoder();
                var bytes:ByteArray = encoder.encode(data);

                userdiagram.x         = (zorder.getItemAt(i)).x;
                userdiagram.y         = (zorder.getItemAt(i) ).y;
                userdiagram.height    = (zorder.getItemAt(i)).height
                userdiagram.width     = (zorder.getItemAt(i)).width
                userdiagram.rotation    = (zorder.getItemAt(i)).rotation
                userdiagram.bytes = bytes;
                saveState.addItem(userdiagram) 
```

但是当我从`sharedObject`创建图像类型对象中检索图像并使用以下代码时：

```
var v:Object = _saveIn.data.value1.readObject();
p.source   = (v as ArrayList).getItemAt(i).bytes; 
```

这里 p 是 Image 类对象，`(v as ArrayList).getItemAt(i)`是保存的字节数组位置。

# iphone - iPhone中的iCloud实现应用程序？

> ID：14931854
> 
> 赞同：1
> 
> 时间：2013-02-18T08:08:40.240
> 
> 标签：iphone, image, icloud

我需要开发一个应用程序来将图像存储在 iCloud 中。在我的情况下，我有四个类别及其专辑，我需要为每个专辑添加图像，并将其存储在 iCloud 中，并且我将在应用程序中显示它以及图像详细信息。这里我需要开发应用程序的建议。iCloud 有三种类型的存储。

1.Key值存储

2.基于文档的存储

3.基于核心数据的存储

在那我应该使用哪些类型？请帮我。

我在谷歌搜索了很多并分析了更多关于我仍然无法决定的信息。因为我是 iPhone 应用程序开发的初学者。而且我不知道核心数据的概念。但这里的大多数示例应用程序仅基于文档。没有基于核心数据的示例应用程序来将图像存储在 iCloud 中。

提供一些关于在 iCloud 中存储更多图像的完整教程和链接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:18:44.857

您应该使用基于文档的 iCLoud 实现，因为它适合您的需要。有关更多指南，请参阅这些链接 [http://developer.apple.com/library/ios/#documentation/FileManagement/Conceptual/FileSystemProgrammingGUIide/iCloud/iCloud.html](http://developer.apple.com/library/ios/#documentation/FileManagement/Conceptual/FileSystemProgrammingGUide/iCloud/iCloud.html)

[http://www.raywenderlich.com/6015/beginning-icloud-in-ios-5-tutorial-part-1](http://www.raywenderlich.com/6015/beginning-icloud-in-ios-5-tutorial-part-1)

[https://developer.apple.com/icloud/documentation/](https://developer.apple.com/icloud/documentation/)

[https://developer.apple.com/library/ios/#documentation/General/Conceptual/iCloudDesignGuide/Chapters/Introduction.html](https://developer.apple.com/library/ios/#documentation/General/Conceptual/iCloudDesignGuide/Chapters/Introduction.html)

[https://developer.apple.com/library/ios/#documentation/DataManagement/Conceptual/DocumentBasedAppPGiOS/Introduction/Introduction.html](https://developer.apple.com/library/ios/#documentation/DataManagement/Conceptual/DocumentBasedAppPGiOS/Introduction/Introduction.html)

# java - java.lang.ClassCastException: java.lang.String JSON Tokener android

> ID：14931856
> 
> 赞同：0
> 
> 时间：2013-02-18T08:08:50.657
> 
> 标签：java, android, json, casting, classcastexception

以下是我的代码。它在模拟器上运行良好。但是当我在我的 android 设备上运行它时，它在下面标记的行处以 java.lang.ClassCastException: java.lang.String 崩溃。我找不到选角出错的地方。任何帮助将不胜感激！:)

 `````
 public static MatrixCursor getRespAsCursor(String query) {
    String url = (String)(API_URL + "?api_key=" + API_KEY + "&" + query);
    System.out.println(url);
    String resp = (String)getAPIResp(url);
    JSONObject reply;
    MatrixCursor emptyCursor = new MatrixCursor(new String[0]);

    try {
        reply = (JSONObject) new JSONTokener(resp).nextValue();//CRASHES HERE
        String statusCode = (String)reply.getString("statusCode");
        if(!statusCode.equals("200")) {
            return emptyCursor;
        }
        int count = Integer.parseInt(reply.getString("count"));
        if(count < 1) {
            return emptyCursor;
        }

        JSONArray data = reply.getJSONArray("data");

        //Get keys in String[] format
        Iterator<String> keys = data.optJSONObject(0).keys();
        List<String> copy = new ArrayList<String>();

        //Add "_id" as adapters need it for traversal
        copy.add("_id");

        //copy rest of the keys
        while (keys.hasNext())
            copy.add(keys.next());
        String[] sKeys = new String[copy.size()];
        copy.toArray(sKeys);

        int len = data.length();

        //Create Cursor with JSON keys as columns
        MatrixCursor resultCursor = new MatrixCursor(sKeys, len);

        //Add rows to Cursor
        for(int i = 0; i < len; i++) {
            JSONObject d = data.optJSONObject(i);
            List<Object> values = new ArrayList<Object>();
            for(String key: copy) {
                if(key.equals("_id")) {
                    values.add(Integer.toString(i));
                }
                else {
                    values.add(d.opt(key));
                }
            }
            resultCursor.addRow(values);
        }

        return resultCursor;
    }
    catch(JSONException e) {
        return emptyCursor;
    }

} 
````  `* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T08:12:28.657

你已经展示了选角出错的地方——它在这里：

```
reply = (JSONObject) new JSONTokener(resp).nextValue(); 
```

`nextValue()`正在返回 a `String`，而您将其转换为`JSONObject`.

我怀疑 JSON 不是你所期望的那样——它不是一`statusCode = "value"`对；这只是价值。

您应该检查您返回的 JSON，或者更改为转换为字符串，或者如果您希望能够处理两种形式的 JSON，请`instanceof`在转换前检查结果：

```
Object reply = new JSONTokener(resp).nextValue();
if (reply instanceof String) {
   ...
} else if (reply instanceof JSONObject) {
   ...
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:17:23.147

你可能想看看[JSONTokener javadoc](http://www.json.org/javadoc/org/json/JSONTokener.html#nextValue%28%29)

医生说`nextValue()`

> 获取下一个值。该值可以是 Boolean、Double、Integer、JSONArray、JSONObject、Long 或 String 或 JSONObject.NULL 对象。

你可能会得到`ClassCastException`你的代码行

```
 reply = (JSONObject) new JSONTokener(resp).nextValue();//CRASHES HERE 
```

不返回 JSONObject。

您可能希望在类型转换之前检查返回对象的实例类型。例如，

```
Object obj = new JSONTokener(resp).nextValue();
if(obj instanceof JSONObject){
  reply = (JSONObject)obj;
} else {
  //Handle otherwise,
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:12:12.293

```
 reply = (JSONObject) new JSONTokener(resp).nextValue();//CRASHES HERE 
```

如果你得到一个`ClassCastException`是因为`Object`返回的`nextValue()`不是 JSONObject （可能是一个`String`实例）``

# jquery - 使用 jquery 触发图像褪色的多个翻转列表项的问题

> ID：14931858
> 
> 赞同：1
> 
> 时间：2013-02-18T08:08:55.570
> 
> 标签：jquery, fade, rollover

我正在尝试获取多个翻转项目，这些项目会导致单个图像淡入其他几个潜在图像，具体取决于当时由鼠标悬停或悬停事件触发的翻转项目。我已经搜索了 stackoverflow 和无数其他教程网站，但由于某种原因，我根本找不到一种可行的方法。我花了一整天的时间试图让它发挥作用，此时我只是把头发拉出来。任何帮助将不胜感激！

我试图修改这个 SO 问题的答案：[Smooth image fade out, change src, and fade in with jquery](https://stackoverflow.com/questions/9959926/smooth-image-fade-out-change-src-and-fade-in-with-jquery) 我主要只是将点击事件更改为悬停事件，然后为每个翻转列表项复制该函数：

```
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
$('#album01').hover(function() {
    $('#homeimg').fadeOut(500, function() {
        $(this).attr('src', 'photo01.jpg').bind('onreadystatechange load', function(){
            if (this.complete) $(this).fadeIn(500);
        });
    });
});
$('#album02').hover(function() {
    $('#homeimg').fadeOut(500, function() {
        $(this).attr('src', 'photo02.jpg').bind('onreadystatechange load', function(){
            if (this.complete) $(this).fadeIn(500);
        });
    });
});
$('#album03').hover(function() {
    $('#homeimg').fadeOut(500, function() {
        $(this).attr('src', 'photo03.jpg').bind('onreadystatechange load', function(){
            if (this.complete) $(this).fadeIn(500);
        });
    });
});
});
</script>
<body>
<div id="menu">
    <ul>
        <li id="album01"><a href="http://www.website.com/album01">album 3</a></li>
        <li id="album02"><a href="http://www.website.com/album02">album 2</a></li>
        <li id="album03"><a href="http://www.website.com/album03">album 2</a></li>
    </ul>
</div>
<div id="content">
    <img id="homeimg" src="images/home.jpg" alt="home"/>
</div>
</body> 
```

并且以防万一我的样式中有一些东西妨碍我提供它：

```
a:link, a:active, a:visited {
display:block;
color: #000000;
text-decoration: none;
}
ul li a:hover {
display:block;
padding: 5px;
color: #FFFFFF;
background-color: #000000;
text-decoration: none;
}
#menu {
background: #FFFFFF;
width: 200px;
height 700px;
top: 50%;
padding: 0px 20px 450px 20px;
margin: -350px 0px 0px 0px;
overflow: auto;
position: fixed;
z-index: 2;
}
#content {
position: absolute;
height: 574px;
margin: -277px 0px 0px 0px;
padding: 0px 200px 0px 240px;
top: 50%;
overflow-x: hidden;
white-space: nowrap; 
```

据我所知，这段代码应该可以正常运行，但 #content div 中的图像根本没有任何反应。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:27:16.447

jQuery`.stop`会帮助你。

`stop()`停止动画

`margin: -350px 0 0;`从 css 中删除`#menu`并尝试。

# mongodb - 如何在没有程序集完全限定名的情况下在 MongoDb 中存储对象

> ID：14931860
> 
> 赞同：0
> 
> 时间：2013-02-18T08:09:04.337
> 
> 标签：mongodb, mongodb-.net-driver

我存储的项目包含像字典这样的字段在 mongo 这个字段有 _t = System.Collections.Generic.Dictionary`2[System.String,[Namespace.MyType, Namespace, Version=1.0.0.0, Culture=neutral, PublicKeyToken=89b48272fdae8cae] ]

我不需要 Version 和 PublicKeyToken 并且这对下一个版本的程序集来说是个问题如何使用 System.Collections.Generic.Dictionary`2[System.String,[Namespace.MyType]] 之类的 _t 属性存储数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T18:01:02.190

类型鉴别器用于继承并将声明的类型解析为存储类型。如果您有一个具有具体属性的具体类，则不需要鉴别器。

假设你有一个类的属性：

```
public class Foo : MyBase{
   ...
   public string Title {get;set;}
}

public class Bar: MyBase{
   ...
   public string Title {get;set;}
} 
```

驱动程序可能能够将该 IN 映射到字符串数组并存储在 mongodb {_id: ..., Title: "Hello" }

但是，在 OUT 的路上，驱动程序必须决定 BSON 阵列将变成什么。如果没有类型鉴别器，它是否应该生成一个实例：Foo？酒吧？我的基地？

如果您有一个具有具体字典而不是字典的类，则可以避免很多这种情况。

# python - django admin 中 save_model 和 save_formset 之间的区别是什么

> ID：14931865
> 
> 赞同：7
> 
> 时间：2013-02-18T08:09:20.130
> 
> 标签：python, django, django-admin

我正在从这里阅读 django admin 中的`save_model`and`save_formset`

[https://docs.djangoproject.com/en/1.5/ref/contrib/admin/#django.contrib.admin.ModelAdmin.save_model](https://docs.djangoproject.com/en/1.5/ref/contrib/admin/#django.contrib.admin.ModelAdmin.save_model)

但我对何时`save_formset`调用感到困惑。

不应该在 期间保存表单集`save_model`吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2016-01-22T19:58:12.537

该[文档](https://docs.djangoproject.com/en/1.9/ref/contrib/admin/)可以使用一些说明。

*   `save_model`在添加或更改期间调用以保存基本模型。它特别*不*打算保存相关或内联模型。
*   `save_related`完成后调用（一次）`save_model`以保存所有相关/内联模型。
*   `save_formset`在每次添加/更改期间可能会被调用多次，每次在您的`ModelAdmin`. 它由 的基类实现调用`save_related`。

如果您查看 的代码`admin.ModelAdmin`，您可以看到这一点`save_model`并`save_related`一个接一个地发生：

```
class ModelAdmin(BaseModelAdmin):
    def changeform_view(...):
        # ...
        if all_valid(formsets) and form_validated:
            self.save_model(request, new_object, form, not add)
            self.save_related(request, form, formsets, not add) 
```

并且`save_related`有一个简单的实现来调用`save_formset`每个内联：

```
class ModelAdmin(BaseModelAdmin):
    # ...
    def save_related(self, request, form, formsets, change):
        form.save_m2m()
        for formset in formsets:
            self.save_formset(request, form, formset, change=change) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-11-30T05:59:22.753

`save_model`保存每个特定内联的主模型 `save_related`保存`ManyToMany`和调用`save_formset`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:13:34.507

save_model 用于正在编辑的模型，即您注册 ModelAdmin 的任何模型

save_formset 用于保存表单集（ModelAdmin.inlines）

# jquery - jquery可折叠插件有问题

> ID：14931866
> 
> 赞同：1
> 
> 时间：2013-02-18T08:09:30.017
> 
> 标签：jquery, collapsable

我无法让脚本执行。我正在使用 jquery 可折叠插件。

[http://jsfiddle.net/VzqJK/46/](http://jsfiddle.net/VzqJK/46/)

有人可以帮我确定问题所在吗？

出于某种原因，在 jsfiddle 中粘贴代码时，它现在可以工作了。但我想要实现的是

1.  有一个默认项目默认打开或激活
2.  展开一个项目时，所有其他项目都折叠起来
3.  展开项目并加载子菜单项时，它会保留其当前状态。

**前任：**

父母 1 父母 2 --child a --child b 父母 3 --child c

如果我单击子 b，它会将“ `class=current`”应用于子 b 的标签并将“ `class=active`”应用于父 2 `<li> tag`。

非常感谢您在这件事上的帮助。

谢谢！

研发

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T15:07:59.487

该[api](http://www.snyderplace.com/demos/collapsible.html)提供`defaultOpen: '',`了选择哪些元素在加载时打开。您可能需要切换到 #2 的 Accordion 插件，或者编写一些自定义代码。我不太确定#3 是关于什么的。

# list - sencha touch 按距离排序列表

> ID：14931871
> 
> 赞同：0
> 
> 时间：2013-02-18T08:09:46.720
> 
> 标签：list, model-view-controller, sorting, sencha-touch, distance

我想按距离对位置列表进行排序（显示在列表中）。我已经有一个可以工作的代码，但是由于我对整个 mvc 东西还是那么陌生，所以我不确定将它放在哪里才能使它工作。

也许有人可以帮助我：

```
 var geocoder = new google.maps.Geocoder();
 var geo = Ext.create('Ext.util.Geolocation',{
autoUpdate: false,
listeners: {
    locationupdate:{
        scope: this,
        fn: function(geo){
            var haversindeDistance = function(lat1,lon1,lat2,lon2){
                if(typeof(Number.prototype.toRad)=="undefined"){
                        Number.prototype.toRad = function(){
                            return this * Math.PI/180;
                        }
                }
                var R = 6371; //km
                var dLat = (lat2-lat1).toRad();
                var dLon = (lon2-lon1).toRad();
                var lat1 = lat1.toRad();
                var lat2 = lat2.toRad();

                var a = Math.sin(dLat/2)*Math.sin(dLat/2)+
                        Math.sin(dLong/2)*Math.sin(dLon/2)*Math.cos(lat1)*Math.cos(lat2);
                var c = 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));
                var d = R*c;
                // KM or MIles
                //return d*0.621371192; //MIles
                return d;
            };
        var store = Ext.getStore('locationsstore');
        store.suspendEvents(true);
        store.each(function(location){
            var lat2 = parseFloat(location.get(geocoder.geocode( { 'address': sAddress}, function(results, status) { })))||0;
            var lon2 = parseFloat(location.get(geocoder.geocode( { 'address': sAddress}, function(results, status) { })))||0;
            //var lat2 = parseFloat(location.get('lat'))||0;//try to put geocode on this ish
            //var lon2 = parseFloat(location.get('lon'))||0;
            if(lat2 && lon2){
                var distance = haversineDistance(geo.getLatitude(),geo.getLongitude(),lat2,lon2);
                location.set('distance',distance);
            }
        }, this);
        store.resumeEvents();
        store.filter('distance',/\d/);
        store.sort('distance');//check if it is not done or can not be done somewhere else
        list.setMasked(false);
    }
},
    locationerror:{
        scope: this,
        fn:function(geo,bTimeout,bPermissionDenied,bLocationUnavailable,message){
        console.log([geo,bTimeout,bPermissionDenied,bLocationUnavailable,message]);
        if(bTimeout){
            Ext.Msg.alert('Timed out getting your location.');
        }else{
            Ext.Msg.alert('Error getting location. Please make sure location services are enabled on your Device.');
        }
        list.setMask(false);
        }
    }
    }
 });
 geo.updateLocation(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:59:06.403

我找到了解决方案。只需在导航/列表视图中添加一个监听器就可以了。我在控制器中有太多东西，所以我决定将它直接放入视图中。

# java - []int 和 int[] 有什么区别

> ID：14931874
> 
> 赞同：1
> 
> 时间：2013-02-18T08:10:03.557
> 
> 标签：java, c++, arrays

当我想在 C++ 中实现一个函数时，在以下情况下接收 int 数组是否重要？

```
void fn1(int []a) {
  a[0] = 1;
}

void fn2(int a[]) {
  a[0] = 1;
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-18T08:12:14.340

在 Java 中，没有语义差异。

在 C++ 中，第一种语法无效。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:13:31.557

好吧，这个问题还不清楚.. 是否接收 int 数组，这取决于你的方法的逻辑。在 Java 中最好写一个 []，但你可以写任何一种方式。

另外，请看这里 -[将数组传递给方法 Java](https://stackoverflow.com/questions/1610757/pass-array-to-method-java)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T08:13:47.697

在 Java 中，声明是相同的……但在 C++ 中，`fn1()`声明需要不同

# android - 添加 WebView 时，我的 ListView 的 onItemClickListener() 不起作用？

> ID：14931881
> 
> 赞同：3
> 
> 时间：2013-02-18T08:10:30.187
> 
> 标签：android, webview, android-listview, focus, onitemclicklistener

当我附加`WebView`到`ListView`然后我`onItemClickListener()`的`WebView`停止工作。我知道这是焦点问题`WebView`。但我设置：

*   在 xml 中`WebView`：

    ```
    android:clickable="false"  
    android:focusable="false"  
    android:focusableInTouchMode="false" 
    ```

*   以及在适配器类中：

    ```
    webview.setFocusable(false);     
    webview.setFocusableInTouchMode(false); 
    webview.versedata.setEnabled(false); 
    webview.setClickable(false); 
    ```

*   也在主要活动中：

    ```
    listview.setItemsCanFocus(false); 
    ```

但我仍然`onItemClickListener()`无法正常工作。请问有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-08-12T06:07:10.490

```
to add your xml main layout

android:descendantFocusability="blocksDescendants" 

Example:
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:auto="http://schemas.android.com/apk/res-auto"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:descendantFocusability="blocksDescendants">

<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content">
<WebView  
    android:layout_width="fill_parent"`
    android:layout_height="wrap_content" />
</LinearLayout>

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T10:02:05.297

尝试在从 BaseAdapter 类派生的类中的方法中`setOnClickListener`实现`getView()`

```
public View getView(int position, View convertView, ViewGroup parent)
{
    convertView.setOnClickListener(new OnClickListener()
    {
        @Override
        public void onClick(View v)
        {
            //your code
        }
    });

    return convertView; 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-10T07:44:17.967

根据此[链接](https://code.google.com/p/android/issues/detail?id=3414)，事实证明，对于具有可以处理单击事件或可以获得焦点的视图的列表项，将永远不会收到列表项单击事件。

尝试在活动中插入这两行（不要将属性放在布局中）

wv.setFocusable(false); wv.setClickable(false);

# google-chrome - 为什么 chrome.bookmarks.search 不搜索文件夹

> ID：14931886
> 
> 赞同：3
> 
> 时间：2013-02-18T08:11:09.713
> 
> 标签：google-chrome, google-chrome-extension

我正在尝试使用“chrome.bookmarks.search”搜索文件夹书签，但未找到任何内容。

```
 chrome.bookmarks.search('My folder', function(children) {
  children.forEach(function(child) {
    console.log(child)
    $('#grid').append(child.title);
}); 
```

为什么此代码仅搜索书签而不搜索文件夹。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T10:24:40.013

有一个已知的错误\功能请求，用于搜索文件夹名称、[检查详细信息](https://groups.google.com/a/chromium.org/forum/?fromgroups=#!topic/chromium-extensions/h1M2Ns7JbS0)和[一些讨论](http://productforums.google.com/forum/#!category-topic/chrome/give-feature-feedback-and-suggestions/3ZfozokD2q4)

# 工作。

[使用chrome.bookmarks.getTree](https://developer.chrome.com/extensions/bookmarks.html#method-getTree)检索整个书签树并过滤缺少 URL 属性的文件夹。

# c# - 设置 ninject 比较规则 I+"Somevalue" = Somevalue

> ID：14931893
> 
> 赞同：1
> 
> 时间：2013-02-18T08:11:47.440
> 
> 标签：c#, .net, ninject

您好，我的问题可能有点愚蠢，但如果有人能帮助我，我将非常感激。

所以我的问题是：如何`I+"Class" = "Class"`使用ninject将自动类设置为与规则进行接口比较？

让我们想象一下，我们在一个项目中有很多类，它是接口。

```
Class class1 : Iclass1{..}
Class class2 : Iclass2{..}
Class class3 : Iclass3{..} 
```

马马虎虎......有一百个类和它的接口。

为每个类绑定规则编写一个非常烦人的，我知道应该有一种自动的方式来绑定它，就像在温莎城堡中一样。

多谢。我是 Ninject 的新手。

如果有人会提供一个例子，特别感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:26:36.963

您不需要映射规则：

```
I+“Somevalue” = Somevalue 
```

相反，您可以使用反射来查找每个类的接口，下面的代码假设所有类型都在执行程序集并且您的类的名称以“Class”开头，方法很像：

```
var types = Assembly.GetExecutingAssembly().GetTypes()
                     .Where(t => t.Name.StartsWith("Class"));

foreach (var type in types)
{
    var interfaceType = type.GetInterfaces()
                            .Single();

    kernel.Bind(type).To(interfaceType);
} 
```

但是很容易，您可以根据约定更改过滤类型的方式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:37:31.180

您可以使用[Ninject.Extensions.Conventions](https://github.com/ninject/ninject.extensions.conventions/wiki)`IFoo` - 它具有将所有s绑定到 s 的默认绑定器`Foo`，当然您可以定义更强大的约定。

简单的例子：

```
using Ninject;
using Ninject.Extensions.Conventions;

namespace NinjectConventionsDemo
{
    public interface ITool { }
    public class Tool : ITool { }

    internal class Program
    {
        private static void Main()
        {
            IKernel kernel = new StandardKernel();
            kernel.Bind(convention => convention
                                          .FromThisAssembly()
                                          .SelectAllClasses()
                                          .BindAllInterfaces()
                );
            var tool = kernel.Get<ITool>();
        }
    }
} 
```

# c# - Ultrachart 基础设施

> ID：14931894
> 
> 赞同：2
> 
> 时间：2013-02-18T08:11:48.643
> 
> 标签：c#, asp.net, infragistics

我有一个 asp .net 应用程序，它使用 infragistics Ultrachart 作为雷达图。现在图表如下

![在此处输入图像描述](../Images/add4d31bd0e6ad21811116b4bc7dd076.png)

是否可以在下面的弧度和级别旁边添加文本？请问有什么例子吗？

![在此处输入图像描述](../Images/4fa986e7397d0e963b6c9b48cfcae68e.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T10:57:49.800

是的。有可能的。我专门为您制作了小样本（WinForm 和 ASP 应用程序）。您可以在 Infragistics 社区找到它：http: [//www.infragistics.com/community/forums/p/78069/394223.aspx](http://www.infragistics.com/community/forums/p/78069/394223.aspx)

如果您有任何问题，请告诉我。！

# android - 如何在后台检测来电

> ID：14931896
> 
> 赞同：0
> 
> 时间：2013-02-18T08:11:52.530
> 
> 标签：android, background, broadcastreceiver, phone-call

我正在尝试在应用程序上创建。我需要检测我是否接到任何电话然后获取号码，但这所有过程都应该在后台发生。
后台工作是后半部分，但现在我正在尝试启动我的应用程序，但它崩溃了。
你能告诉我如何在后台调用broadcastreciver吗？这是我的 MainActivity.java

```
public class MainActivity extends Activity
{
@Override
public void onCreate(Bundle savedInstancestate)
{
    super.onCreate(savedInstancestate);
    setContentView(R.layout.activity_main);

}
public void broadcastIntent(View view)
{
      Intent intent = new Intent();
    intent.setAction("com.app.callrecord.MyBroadcastReceiver");
    sendBroadcast(intent);
} 
} 
```

广播接收器.java

```
public class MyBroadcastReceiver extends BroadcastReceiver {
@Override
public void onReceive(Context context, Intent intent) {
   Bundle bundle = intent.getExtras();
   if (bundle == null)
      return;
   String phoneNumber = null;

   // Incoming call
   String state = bundle.getString(TelephonyManager.EXTRA_STATE);
   if ((state != null) &&  (state.equalsIgnoreCase(TelephonyManager.EXTRA_STATE_RINGING))) {
       phoneNumber = bundle.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);  
      // callToast(phoneNumber);

   }
   // Outgoing call
   else if (state == null) {        
       Intent i = new Intent(context,RecordHistory.class);  
       intent.putExtra("phonenumber", phoneNumber);
       i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);  
       context.startActivity(i);  
      // Here: do something with the number
   }  
 }
} 
```

这是我的清单文件

```
 <application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <receiver android:name="com.app.callrecord.MainActivity">
<intent-filter>
    <action android:name="android.intent.action.PHONE_STATE"></action>
    <action android:name="android.intent.action.NEW_OUTGOING_CALL"></action>
</intent-filter> 
```

```
 <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name=".RecordHistory"></activity>
</application> 
```

这是我的异常日志

```
 02-18 13:36:17.240: E/AndroidRuntime(9397): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.app.callrecord/com.app.callrecord.MyBroadCastReciever}: java.lang.ClassNotFoundException: com.app.callrecord.MyBroadCastReciever
 02-18 13:36:17.240: E/AndroidRuntime(9397):    at  android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)
 02-18 13:36:17.240: E/AndroidRuntime(9397):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2278)
 02-18 13:36:17.240: E/AndroidRuntime(9397):    at android.app.ActivityThread.access$600(ActivityThread.java:142)
02-18 13:36:17.240: E/AndroidRuntime(9397):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1280) 
```

给我任何参考。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:15:30.540

您的清单中有错误。以下行错误地引用了活动：

```
<receiver android:name="com.app.callrecord.MainActivity"> 
```

它应该指的是接收者：

```
<receiver android:name="SOME_PACKAGE_HERE.MyBroadcastReceiver"> 
```

编辑：

如果广播接收器没有被呼叫，您可能没有权限检测来电和去电。您需要清单中`android.permission.READ_PHONE_STATE`的`android.permission.PROCESS_OUTGOING_CALLS`权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:17:13.140

我认为问题在于您在清单中声明了错误的名称。您已将其声明为

```
<receiver android:name="com.app.callrecord.MainActivity"> 
```

而它应该是

```
<receiver android:name="com.app.callrecord.MyBroadCastReciever"> 
```

# actionscript-3 - 如何在 MovieClip(root) 中使用“this”

> ID：14931899
> 
> 赞同：0
> 
> 时间：2013-02-18T08:12:07.000
> 
> 标签：actionscript-3, flash

我有这个

```
function fl1(floor)
{
this.("fl"+floor).visible=true;
} 
```

如果对象在“MovieClip(root)”中的位置，如何显示它

我试试这个，但不工作......（对不起我的英语不好）

```
function fl1(floor)
{
this.("MovieClip(root).fl"+floor).visible=true;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:24:13.033

你应该做

```
this["fl" + floor].visible = true 
```

一般来说，如果你想通过实例名来访问属性，那么你应该直接在对象上使用数组下标运算符（[]）而不使用点（.）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:24:37.667

传递给函数 fl1 的 floor 的变量类型是什么？

如果它是 String 并且您构造了要更改其可见性的对象的名称，则需要使用 getChildByName。

```
var myFloor:* = parentObject.getChildByName(floor);
if(myFloor)myFloor.visible = true; 
```

要访问所谓的根，您可以使用添加到显示列表的任何对象的阶段属性。

```
var root = this.stage; 
```

如果 floor 已经是对象，您只需：

```
floor.visible = true; 
```

# backbone.js - Backbone.js：将集合数组绑定到函数

> ID：14931901
> 
> 赞同：0
> 
> 时间：2013-02-18T08:12:10.330
> 
> 标签：backbone.js, backbone-events

我有一个集合数组（coll_array）。所有集合都绑定到所有事件的相同函数 (process_coll)。这意味着，对数组中任何集合的任何更改都会导致执行相同的函数。我的问题是如何识别发生事件的集合。如果我可以将参数传递给目标函数，我可以传递集合的标识，但据我所知，在 Backbone 事件中没有办法做到这一点。

```
initialize: function(){
    _(this).bindAll('process_coll');
    coll_array ; //array of collections 
    for(var i=0;i<coll_array.length;i++)
        coll_array[i].bind('all', this.process_coll);
        coll_array[i].fetch();
}

process_coll: function(){
    //some code here 
    //how do I get the specific collection which resulted in execution of this function?
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T14:11:12.283

您最好听听[特定的事件](http://backbonejs.org/#Events-catalog)。

```
initialize: function(){
    coll_array ; //array of collections 
    for(var i=0;i<coll_array.length;i++)
        coll_array[i].bind('reset', this.reset_coll);
        coll_array[i].bind('add', this.add_coll);
        coll_array[i].bind('remove', this.remove_coll);
        coll_array[i].fetch();
}

reset_coll: function(collection, options){
    // collection argument is the one you want
}
add_coll: function(model, collection, options){
    // collection argument is the one you want
}

remove_coll: function(model, collection, options){
    // collection argument is the one you want
} 
```

# python - 使用 Python 从 Excel 中提取列

> ID：14931906
> 
> 赞同：3
> 
> 时间：2013-02-18T08:12:31.320
> 
> 标签：python, excel, xlrd

我有一个带有 ff: row/col 结构的 Excel 文件

```
ID   English   Spanish   French
 1   Hello     Hilo      Halu
 2   Hi        Hye       Ghi
 3   Bus       Buzz      Bas 
```

我想读取 Excel 文件，提取行和列值，并基于英语、西班牙语和法语列创建 3 个新文件。

所以我会有类似的东西：

英文文件：

```
"1" = "Hello"
"2" = "Hi"
"3" = "Bus" 
```

我一直在使用 xlrd。我可以打开、阅读和打印文件的内容。但是，这是我使用此命令得到的结果（Excel 文件已经打开）：

```
for index in xrange(0,2):
    theWord = '\n' + str(sh.col_values(index, start_rowx=index, end_rowx=1)) + '=' + str(sh.col_values(index+1, start_rowx=index, end_rowx = 1))
    print theWord 
```

输出：

```
[u'Parameter/Variable/Key/String']=[u'ENGLISH'] <-- is this a list?, didn't the str() use to strip it out? 
```

你在**那里**做什么？如何删除方括号？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:36:06.920

这`u`意味着它是一个 unicode 字符串，当您调用`str()`. 如果您将字符串写入文件，它将不存在。你得到的是列中的 1 行。这是因为您正在使用`end_rowx=1`它返回一个包含一个元素的列表。

尝试获取列值列表：

```
ids = sh.col_values(0, start_rowx=1)
english = sh.col_values(1, start_rowx=1)
spanish = sh.col_values(2, start_rowx=1)
french = sh.col_values(3, start_rowx=1) 
```

然后您可以`zip`将它们放入元组列表中：

```
english_with_IDS = zip(ids, english)
spanish_with_IDS = zip(ids, spanish)
french_with_IDS = zip(ids, french) 
```

形式为：

```
("1", "Hello"),("2", "Hi"), ("3", "Bus") 
```

如果要打印对：

```
for id, word in english_with_IDS:
       print id + "=" + word 
```

`col_values`返回列值列表，如果您想要单个值，您可以调用`sh.cell_value(rowx, cellx)`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T09:22:33.120

```
import xlrd

sh = xlrd.open_workbook('input.xls').sheet_by_index(0)
english = open("english.txt", 'w')
spanish = open("spanish.txt", 'w')
french = open("french.txt", 'w')
try:
    for rownum in range(sh.nrows):
        english.write(str(rownum)+ " = " +str(sh.cell(rownum, 0).value)+"\n")
        spanish.write(str(rownum)+ " = " +str(sh.cell(rownum, 1).value)+"\n")
        french.write(str(rownum)+ " = " +str(sh.cell(rownum, 2).value)+"\n")
finally:
    english.close()
    spanish.close()
    french.close() 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T08:41:09.227

使用[熊猫](http://pandas.pydata.org/)：

```
In [1]: import pandas as pd

In [2]: df = pd.ExcelFile('test.xls').parse('Sheet1', index_col=0) # reads file

In [3]: df.index = df.index.map(int)

In [4]: for col in df.columns:
   ...:     column = df[col]
   ...:     column.to_csv(column.name, sep='=')  # writes each column to a file                                                    
   ...:                                          # with filename == column name

In [5]: !cat English  # English file content
1=Hello
2=Hi
3=Bus 
```

# apache-flex - Flex 中的“包不能嵌套”错误

> ID：14931924
> 
> 赞同：0
> 
> 时间：2013-02-18T08:14:06.363
> 
> 标签：apache-flex

我想使用 Adob​​e 的 SoundFacade 类。（[这里](http://livedocs.adobe.com/flex/3/html/help.html?content=Working_with_Sound_23.html)，来自[github](https://gist.github.com/ts310/555731)）。我简单地创建了一个“ActionScript 文件”并粘贴了所有代码。但是当我想编译我的应用程序时，出现以下错误：

> 1037: 包不能嵌套。

我能猜到的唯一原因是包必须以某种方式放入项目或其他东西中。

编辑：即使我只是放了一个简单的空包，我也得到了错误：

```
package {

} 
```

如何重现错误？

*   创建一个新的 Flex 移动项目。
*   单击新建 > 动作脚本文件
*   类型包{}
*   在您的视图中包含新软件包

代码：

```
<fx:Script source="../SoundFacade.as" /> 
```

你会得到错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T13:24:00.973

我找到了解决方案。我实际上不知道包命名规则。这是这个问题的答案：[http ://forums.adobe.com/message/4299377](http://forums.adobe.com/message/4299377)

> 该标签会将您的 SoundFacade.as 文件插入到 MXML 文件中（类似于 C/C++ 中的包含）。这将导致无效的语法。
> 
> 给你的包一个名字（在这种情况下它应该被称为 SoundFacade，因为这是它所在文件夹的名称），然后在你的脚本标签中使用 import 语句。确保遵守推荐的文件、命名空间、包和类命名结构。这通常是反向 DNS 样式：com.adobe.utils.bla.bla.bla。
> 
> 如果包名为空且源在默认文件夹中，则无需导入。

# c# - 根据另一个表的 id 将数据插入到两个表中

> ID：14931927
> 
> 赞同：0
> 
> 时间：2013-02-18T08:14:20.467
> 
> 标签：c#, sql-server, winforms

我有一个名为 customers 的表包含 custID、custName，另一个名为 products 的表包含 proID、proName、price，第三个表 Cust_PRo​​ 包含 id、custID、proID。我用这样的数据填充产品：

```
proID  proName  price
1      potato   100
2      cotton   600
3      rice     200 
```

在另一种形式中，我有组合框，我用产品名称和文本框填充它以写入客户名称和网格视图以显示数据，并且有两个按钮一个用于将值添加到网格中，第二个用于将其保存到数据库中。当我写下客户名称并选择产品时，数据会出现在网格中，如下所示：

```
custName  ProName
john      potato
john      cotton 
john      rice 
```

如您所见，一位客户可以使用许多产品，问题是将值添加到我想要的数据库中，当用户单击保存按钮时，数据将像这样插入数据库：

第一个客户表：

```
custID custName
1       john 
```

第二个 Cust_PRO 表：

```
id  custID  ProID
1    1       1
2    1       2
3    1       3 
```

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T10:30:16.890

我将值添加到数据表，然后使用 SqlBulkCopy 类将这些值插入数据库

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:34:17.203

我不确定我能 100% 得到你，但我认为你需要一些算法或其他东西.. 无论如何

首先，您需要`CustID`为您的新客户生成一个，为此您需要`CustID`从表中获取最大值`Customers`并将其添加到 1 以避免主键违规。

```
select max(CustID) from Customers 
```

那么，你就可以走了。你有（CustID 和 ProdID 来自`comboBox1.SelectedValue;`）

# linux - 在linux上安装jdk的正确方法是什么

> ID：14931932
> 
> 赞同：15
> 
> 时间：2013-02-18T08:14:31.443
> 
> 标签：linux, java

我正在运行基于 debian 的 Crunchbang linux 系统，我想在我的系统上安装**Oracle JDK**（不是 openjdk）。

我花了一些时间在谷歌上搜索它，但我找不到关于如何安装（和配置）它的清晰描述。所以这是我的问题：

安装下载的 JDK 的正确/最佳位置在哪里？（大多数人更喜欢类似的东西`usr/lib/jvm`。为什么？

当我安装了 jvm（`jdk<version>.tar.gz`即将文件的内容复制到所选位置时，我必须设置我的系统以引用 jdk。

在这里我可以使用例如：`sudo update-alternatives --install "/usr/bin/java" "java" \ "/usr/lib/jvm/jdk<version>/bin/java" 1`. 我也必须这样做`javac`吗？

最后我必须通过添加以下行来设置 JAVA_HOME 变量：

```
JAVA_HOME=/usr/lib/jvm/jdk<version>/
export JAVA_HOME 
```

到`.bashrc`文件。

但问题是：这样，每当我升级我的 jdk 时，我总是必须更新我的替代方案，对吗？我该如何解决这个问题？任何人都可以清楚地描述如何以聪明和正确的方式在linux系统上安装jdk吗？

谢谢你

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-18T08:26:14.073

您可以安装最新的 Oracle Java 7 并保持最新，您所要做的就是手动将 PPA 存储库添加到软件源。

来自[http://www.webupd8.org/2012/06/how-to-install-oracle-java-7-in-debian.html](http://www.webupd8.org/2012/06/how-to-install-oracle-java-7-in-debian.html)：

```
su -
echo "deb http://ppa.launchpad.net/webupd8team/java/ubuntu precise main" | tee -a     /etc/apt/sources.list
echo "deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu precise main" | tee -a /etc/apt/sources.list
apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886
apt-get update
apt-get install oracle-java7-installer
exit 
```

对于 Ubuntu，[http://www.webupd8.org/2012/01/install-oracle-java-jdk-7-in-ubuntu-via.html](http://www.webupd8.org/2012/01/install-oracle-java-jdk-7-in-ubuntu-via.html)。有了这个，我已经设法在我的 ubuntu 服务器上安装了 JDK。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-18T08:18:35.513

第一步：打开应用>>附件>>终端

第2步：键入命令行如下...

```
 sudo apt-get install openjdk-6-jdk 
```

第3步：键入命令行如下...

```
 apt-cache search jdk 
```

（注：此处象征性使用openjdk-6-jdk，您可以根据需要选择jdk版本。）

如何在 Ubuntu(Linux) 中为“Open jdk”设置“环境变量”？

第 4 步：对于“JAVA_HOME”（环境变量）键入命令，如下所示，在“终端”中使用您的安装路径...

```
 export JAVA_HOME=/usr/lib/jvm/java-6-openjdk 
```

（注意：“/usr/lib/jvm/java-6-openjdk”在这里象征性地用于演示，您应该根据您的安装使用您的路径。）

第5步：对于“PATH”（环境变量）类型命令，如下所示，在“终端”中使用您的安装路径...

```
 export PATH=/usr/lib/jvm/java-6-openjdk/bin 
```

（注意：“/usr/lib/jvm/java-6-openjdk”在这里象征性地用于演示，您应该根据您的安装使用您的路径。）

第6步：检查“open jdk”安装，只需在“终端”中键入命令，如下图java

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T08:37:10.187

只需创建一个`/usr/lib/jvm/jdk`指向`/usr/lib/jvm/jdk<version>`. 那么在更新 JDK 之后，您所要做的就是更新符号链接以指向新位置。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-03-29T17:58:45.523

**在 2020 年，这就是我们前进的方式！**

**注意：这也适用于 Linux 系统上的命令行。**

[在这里](https://www.javahelps.com/2015/03/install-oracle-jdk-in-ubuntu.html)向这位哥们点赞

**第 1 步：** 从这个官方网站下载最新的 JDK（jdk-8u231-linux-x64.tar.gz）。使用这个

```
 wget -c --header "Cookie: oraclelicense=accept-securebackup-cookie" http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u231-linux-x64.tar.gz 
```

因为我们正在远程安装，如果不只是从[这里下载](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)

**第2步：** 打开终端（Ctrl + Alt + T）并输入以下命令。

```
sudo mkdir /usr/lib/jvm 
```

**第三步：** 输入以下命令更改目录。

```
cd /usr/lib/jvm 
```

**第 4 步：** 使用此命令在该目录中提取 jdk-8u231-linux-x64.tar.gz 文件。

```
sudo tar -xvzf ~/Downloads/jdk-8u231-linux-x64.tar.gz 
```

*根据此命令，JDK 文件名为 jdk-8u231-linux-x64.tar.gz，位于 ~/Downloads 文件夹中。如果您下载的文件位于任何其他位置，请根据您的路径更改命令。*

**第五步：** 输入以下命令打开环境变量文件。

```
sudo nano /etc/environment 
```

在打开的文件中，将以下 bin 文件夹添加到现有的 PATH 变量中。（在我的情况下，文件是空的，所以我只是添加内容并保存）。

```
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/jvm/jdk1.8.0_231/bin:/usr/lib/jvm/jdk1.8.0_231/db/bin:/usr/lib/jvm/jdk1.8.0_231/jre/bin"
J2SDKDIR="/usr/lib/jvm/jdk1.8.0_231"
J2REDIR="/usr/lib/jvm/jdk1.8.0_231/jre"
JAVA_HOME="/usr/lib/jvm/jdk1.8.0_231"
DERBY_HOME="/usr/lib/jvm/jdk1.8.0_231/db" 
```

*这就是你的文件在修改后的样子......*

保存更改并关闭 gedit。

**第 7 步：** 输入以下命令以通知系统 Java 的位置。根据您的 JDK 版本，路径可能会有所不同。

```
sudo update-alternatives --install "/usr/bin/java" "java" "/usr/lib/jvm/jdk1.8.0_231/bin/java" 0

sudo update-alternatives --install "/usr/bin/javac" "javac" "/usr/lib/jvm/jdk1.8.0_231/bin/javac" 0

sudo update-alternatives --set java /usr/lib/jvm/jdk1.8.0_231/bin/java

sudo update-alternatives --set javac /usr/lib/jvm/jdk1.8.0_231/bin/javac 
```

**第 8 步：** 要验证设置，请输入以下命令，并确保它们打印您在上一步中提供的 java 和 javac 的位置。

```
update-alternatives --list java

update-alternatives --list javac 
```

**步骤 9：** 重新启动计算机（或只是注销并登录）并再次打开终端。（我不得不这样做，因为第 10 步已经完成）

**第十步：** 输入以下命令。

```
java -version 
```

**第11步：** 享受！！！

# javascript - 将弹出窗口中的文本插入文本区域

> ID：14931934
> 
> 赞同：0
> 
> 时间：2013-02-18T08:14:42.913
> 
> 标签：javascript

我正在尝试将弹出窗口中的输入文本插入页面上的文本区域，从光标位置定义。

这个想法是，用户单击一个按钮，一个弹出窗口打开，用户可以在输入框中输入文本，然后单击一个按钮将该文本插入到光标位置所在的文本区域。

```
position = null;

function cursorPosition () {
 if(!window.getSelection)
 {
  position = document.selection.createRange().duplicate();
 }
 else 
 {
  position = window.getSelection();
 }
}

function insertAtCaret (text)
{
 position.text = text;
} 
```

在弹出窗口中，我有：

```
function onclose(text)
{
 var newtext= text;
 opener.insertAtCaret(newtext);
 window.close();
} 
```

不能让它在 chrome 中工作，只有 IE....每次我得到一个

> 未捕获的类型错误：对象 [object Window] 的属性“insertAtCaret”不是函数

任何想法让它在所有浏览器中工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:32:11.210

下面的代码接受来自输入框的输入，并根据需要将其添加到文本区域。它将输入框值附加到文本区域。

```
<!DOCTYPE html>
<html>
<body>

<p>Click the button to demonstrate the prompt box.</p>

<button onclick="myFunction()">Try it</button>

<textarea id="demo" cols="30" rows="5">
</textarea>

<script>
function myFunction()
{
var x;

var name=prompt("Please enter your name","Harry Potter");

if (name!=null)
  {
  x = document.getElementById("demo").value; 
  x = x + " Hello " + name + "! How are you today?"; // textarea value is appended here.
  document.getElementById("demo").value=x;
  }
}
</script>

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:21:04.307

我认为 FF\Chrome 中的 insertAtCaret 存在问题，您可能需要检查[一下](https://stackoverflow.com/questions/946534/insert-text-into-textarea-with-jquery/946556#946556)。

# delphi - 将对象转换为没有 TInterfacedObject 作为基类的接口类型

> ID：14931940
> 
> 赞同：9
> 
> 时间：2013-02-18T08:15:16.427
> 
> 标签：delphi, interface, delphi-xe2

我需要一个没有引用计数的类实现接口。我做了以下事情：

```
 IMyInterface = interface(IInterface)
      ['{B84904DF-9E8A-46E0-98E4-498BF03C2819}'] 
      procedure InterfaceMethod;
  end;

  TMyClass = class(TObject, IMyInterface)
  protected
      function _AddRef: Integer;stdcall;
      function _Release: Integer;stdcall;
      function QueryInterface(const IID: TGUID; out Obj): HResult;stdcall;
  public
      procedure InterfaceMethod;
  end;

  procedure TMyClass.InterfaceMethod;
  begin
      ShowMessage('The Method');
  end;

  function TMyClass.QueryInterface(const IID: TGUID; out Obj): HResult;
  begin
      if GetInterface(IID, Obj) then
          Result := 0
      else
          Result := E_NOINTERFACE;
  end;

  function TMyClass._AddRef: Integer;
  begin
      Result := -1;
  end;

  function TMyClass._Release: Integer;
  begin
      Result := -1;
  end; 
```

缺少引用计数可以正常工作。但我担心的是我不能`TMyClass`使用`IMyInterface`using`as`运算符：

```
var
  MyI: IMyInterface; 
begin
  MyI := TMyClass.Create as IMyInterface; 
```

我被给

> [DCC 错误] E2015 运算符不适用于此操作数类型

当`TMyClass`源自`TInterfacedObject`- 即我可以在没有编译器错误的情况下进行此类转换时，问题就会消失。显然我不想使用 TInterfacedObject 作为基类，因为它会使我的类引用计数。为什么不允许这种铸造以及如何解决它？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-18T08:32:30.310

您不能`as`在代码中使用的原因是您的类没有`IInterface`在其支持的接口列表中明确列出。即使您的接口派生自`IInterface`，除非您实际列出该接口，否则您的类不支持它。

所以，简单的解决方法是像这样声明你的类：

```
TMyClass = class(TObject, IInterface, IMyInterface) 
```

您的类需要实现的原因`IInterface`是编译器依赖它来实现强制转换`as`。

我想说的另一点是，一般来说，您应该避免使用接口继承。总的来说，它没有什么用处。使用接口的好处之一是您可以摆脱实现继承带来的单一继承约束。

但无论如何，所有 Delphi 接口都会[自动继承，`IInterface`](http://docwiki.embarcadero.com/RADStudio/en/Object_Interfaces#IInterface_and_Inheritance)因此在您的情况下，没有必要指定它。我会这样声明你的界面：

```
IMyInterface = interface
  ['{B84904DF-9E8A-46E0-98E4-498BF03C2819}'] 
  procedure InterfaceMethod;
end; 
```

更广泛地说，你应该尽量不要在你的接口中使用继承。通过采用这种方法，您将鼓励减少耦合并带来更大的灵活性。

# wpf - WPF 元素绑定

> ID：14931944
> 
> 赞同：1
> 
> 时间：2013-02-18T08:15:31.890
> 
> 标签：wpf, xaml, binding

我有两个控件，我`UserControl`使用元素绑定绑定到完全相同的对象：

```
AllowNext="{Binding ElementName=MainGrid, Path=DataContext.CanContinue}" 
```

在第一个控件上它工作正常，但在第二个控件上我得到一个绑定异常：

```
System.Windows.Data Error: 4 : Cannot find source for binding with reference 'ElementName=MainGrid'. BindingExpression:Path=DataContext.CanContinue; DataItem=null; target element is 'WizardPage' (Name='DeductionPage'); target property is 'AllowNext' (type 'Boolean') 
```

我还尝试`RelativeSource`在第二个控件上使用绑定：

```
AllowNext="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Grid}}, Path=DataContext.CanContinue}" 
```

但这也给了我一个错误。

有谁知道这可能是什么？

--

这是简化的控制：

```
<Grid Name="MainGrid">
    <w:Wizard Name="MyWizard" w:Designer.PageIndex="1" DataContext="{Binding ElementName=MainGrid, Path=DataContext.Policy}" >
        <w:WizardPage Header="Main Member" MaxHeight="600" AllowNext="{Binding ElementName=MainGrid, Path=DataContext.CanContinue}" Name="MainPage">
        </w:WizardPage>
        <w:WizardPage Name="DeductionPage" Header="Policy Details" AllowBack="False" AllowNext="{Binding ElementName=MainGrid, Path=DataContext.CanContinue}">
        </w:WizardPage>
    </w:Wizard>
</Grid> 
```

现在正如我所提到的，MainPage 绑定得很好，而 DeductionPage 根本没有绑定并得到提供的错误。MainGrid 的 DataContext 是从后面的代码中设置的：

```
 public void SetDataContext(object o)
{
  MainGrid.DataContext = o;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:31:16.130

我敢打赌，作为绑定源的 MainGrid 不在绑定目标的逻辑树中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:40:01.103

这绝对是绑定元素的问题。但是，您没有提供源代码，因此您想对其进行调试并解决问题。

请参阅下面的 url 和“ `Cannot find source for binding with reference`”部分，其中清楚地解释了如何调试和解决它。

[http://www.codeproject.com/Articles/244107/Debugging-WPF-data-bindings](http://www.codeproject.com/Articles/244107/Debugging-WPF-data-bindings "参考链接")

# oracle - Oracle 10G 外表错误

> ID：14931946
> 
> 赞同：-1
> 
> 时间：2013-02-18T08:15:37.867
> 
> 标签：oracle, external-tables

我在 Oracle 10G 上创建了以下外部表。

```
 connect system/password as SYSDBA
 create or replace directory ext_tab as 'C:\Suman\External_Tables';
 CREATE TABLE emp_ext_3( 
    empno NUMBER(4), first_name CHAR(20), last_name CHAR(20), dob     CHAR(10))
    ORGANIZATION EXTERNAL( 
    TYPE ORACLE_LOADER DEFAULT DIRECTORY ext_tab
    ACCESS PARAMETERS
    ( 
    RECORDS DELIMITED BY NEWLINE 
    NOBADFILE
    NOLOGFILE
    SKIP 1    
    FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"'  LRTRIM  
    MISSING FIELD VALUES ARE NULL  
    REJECT ROWS WITH ALL NULL FIELDS 
    (empno INTEGER EXTERNAL (4),
    first_name CHAR(20),
    last_name CHAR(20),
    dob CHAR(10) DATE_FORMAT DATE MASK "dd/mm/yyyy") 
    ) 
    LOCATION ('employee1.dat')
    )
    PARALLEL 
    REJECT LIMIT 0; 
```

现在，如果我尝试执行 select 命令，则会出现以下错误。

```
SQL> select * from "SYSTEM"."EMP_EXT_3";
select * from "SYSTEM"."EMP_EXT_3"
*
ERROR at line 1:
ORA-29913: error in executing ODCIEXTTABLEOPEN callout
ORA-29400: data cartridge error
KUP-04040: file employee1.dat in EXT_TAB not found
ORA-06512: at "SYS.ORACLE_LOADER", line 19 
```

但我在“C:\Suman\External_Tables”中有文件“employee1.dat”。有人可以帮我解释为什么我会收到这个错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:42:37.163

Oracle 服务器正在以下位置查找文件：“C:\Suman\External_Tables”。该目录位于 Oracle 服务器计算机上，而不是本地 Windows 客户端计算机上。

# iphone - MPMoviePlayerController - 切换视图时出现黑屏

> ID：14931949
> 
> 赞同：2
> 
> 时间：2013-02-18T08:15:42.723
> 
> 标签：iphone, ios, video, mpmovieplayercontroller

背景图像是动画天空

在设置页面（静态图像）和主页（动画图像）之间切换时，屏幕动画经常掉线并变成单个黑色图像

任何人都可以提出原因或解决方案吗？

谢谢！

亨利色觉应用

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    self.mp = [[MPMoviePlayerController alloc] initWithContentURL:[NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"iPhone4" ofType:@"mov"]]];
    mp.repeatMode = MPMovieRepeatModeOne;
    [mp.view setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    mp.scalingMode = MPMovieScalingModeFill;
    [mp setFullscreen:YES];
    mp.controlStyle = MPMovieControlStyleNone;
    [self.view addSubview:mp.view];
    [self.view sendSubviewToBack:mp.view];
    [mp prepareToPlay];
}

- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];

    [self.mp play];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-20T14:05:50.523

尝试为您的播放器添加一个观察者。像这样：

```
- (void)viewDidLoad
{
    ///...
    self.mp = [[MPMoviePlayerController alloc] initWithContentURL:[NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"iPhone4" ofType:@"mov"]]];
    [[NSNotificationCenter defaultCenter] addObserver:self
                                          selector:@selector(moviePlaybackComplete:)
                                              name:MPMoviePlayerPlaybackDidFinishNotification
                                            object:self.mp];
     ///...
} 
```

然后你可以得到什么是错的：

```
- (void)moviePlaybackComplete:(NSNotification *)notification
{
   NSLog(@"Movie Finished.");

   int reason = [[[notification userInfo] valueForKey:MPMoviePlayerPlaybackDidFinishReasonUserInfoKey] intValue];
   if (reason == MPMovieFinishReasonPlaybackError) {
      NSDictionary *notificationUserInfo = [notification userInfo];
      NSError *mediaPlayerError = [notificationUserInfo objectForKey:@"error"];
      if (mediaPlayerError)
      {
         NSLog(@"playback failed with error description: %@", [mediaPlayerError localizedDescription]);
      }
      else
      {
         NSLog(@"playback failed without any given reason");
      }
   }    

   [[NSNotificationCenter defaultCenter] removeObserver:self name:MPMoviePlayerPlaybackDidFinishNotification object:self.mp]; 
```

}

# android - 应用在片段内的 Android Google 地图 API V2

> ID：14931955
> 
> 赞同：2
> 
> 时间：2013-02-18T08:16:25.590
> 
> 标签：android, android-maps-v2

我有一个 Activity，里面有 A、B 片段。然后我有一堆 C、D、E、F 等片段，可以与 A 和 B 片段交换。

现在在其中一个片段中，F 说，我想包含一个 Google 地图 V2。从教程中，它只教如何在活动中包含地图片段...链接： [https ://developers.google.com/maps/documentation/android/start](https://developers.google.com/maps/documentation/android/start)

由于我无法在片段中打开片段（即在我的片段 F 中包含地图片段，会提示错误），我应该如何克服这个问题？

非常感谢！！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:21:43.627

将地图作为布局中的视图和片段 F：

```
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {

View view = inflater.inflate(R.layout.map_layout, container,
            false);
GoogleMap map = getFragmentManager()
        .findFragmentById(R.id.map)).getMap();

} 
```

**map_layout.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<fragment
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/map"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    class="com.google.android.gms.maps.MapFragment" /> 
```

# ruby-on-rails - rvm install 1.9.3 权限被拒绝

> ID：14931958
> 
> 赞同：-1
> 
> 时间：2013-02-18T08:16:33.610
> 
> 标签：ruby-on-rails, rvm

当我运行 rvm install 1.9.3 时，我得到一长串权限被拒绝：

```
macbook:~ macbook$ rvm install 1.9.3
Searching for binary rubies, this might take some time.
No binary rubies available for: osx/10.6/i386/ruby-1.9.3-p385.
Continuing with compilation. Please read 'rvm mount' to get more information on binary rubies.
rm: /Users/macbook/.rvm/src/yaml-0.1.4/aclocal.m4: Permission denied
rm: /Users/macbook/.rvm/src/yaml-0.1.4/config/config.guess: Permission denied
rm: /Users/macbook/.rvm/src/yaml-0.1.4/config/config.sub: Permission denied
rm: /Users/macbook/.rvm/src/yaml-0.1.4/config/depcomp: Permission denied
rm: /Users/macbook/.rvm/src/yaml-0.1.4/config/install-sh: Permission denied
rm: /Users/macbook/.rvm/src/yaml-0.1.4/config/ltmain.sh: Permission denied
rm: /Users/macbook/.rvm/src/yaml-0.1.4/config/missing: Permission denied
More... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:25:43.597

```
sudo rm -rf /Users/macbook/.rvm/src/yaml-0.1.4
rvm install 1.9.3 
```

# maps - 无法使用谷歌地图 api v3 和 geoxml3 显示来自 kml 文件的图像

> ID：14931961
> 
> 赞同：0
> 
> 时间：2013-02-18T08:16:45.440
> 
> 标签：maps, kml

我尝试使用 geoxml3 将我的 kml 文件放在谷歌地图上。这是代码`

```
<script src="https://maps.googleapis.com/maps/api/js?&sensor=false"></script>
<script type="text/javascript" src="http://geoxml3.googlecode.com/svn/branches/polys/geoxml3.js"></script> 
```

```
<script>
  function initialize() {
    var myLatlng = new google.maps.LatLng(-3.899540, 104.463014);
    var mapOptions = {
      zoom: 4,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }

    var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

    myParser = new geoXML3.parser({map: map});
    myParser.parse('bpnsumsel.kml');

  }
</script>
` 
```

但什么也没有出现。任何想法？

更新：

我的 kml 文件看起来像这样

```
<?xml version="1.0" encoding="utf-8"?><kml xmlns="http://earth.google.com/kml/2.0"><GroundOverlay><name> MapInfo Saved View</name><visibility>1</visibility><Icon><href>Peta BPN Sumsel.JPG</href></Icon><LatLonBox><north>-3.378408</north><south>-4.506592</south><east>105.590007</east><west>103.723993</west><rotation>0</rotation></LatLonBox></GroundOverlay></kml> 
```

是的。我不包括 ProjectedOverlayed.js 是否有完整代码示例的好教程？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T12:45:04.630

根据[文档](http://code.google.com/p/geoxml3/wiki/Usage)：

> geoxml3 库专门设计用于容纳一系列用例，涵盖从初学者到高级的开发人员需求。在所有情况下，您都需要从该站点下载 geoxml3.js（和 ProjectedOverlay.js，如果您需要地面覆盖）的副本，并从您自己的主机将它们提供给您的地图页面，如下所示：

```
 <script type="text/javascript" src="geoxml3.js"></script>
[ <script type="text/javascript" src="ProjectedOverlay.js"></script> ] 
```

# c++ - 数组作为参数

> ID：14931963
> 
> 赞同：5
> 
> 时间：2013-02-18T08:16:58.740
> 
> 标签：c++

当我将数组作为参数传递时，我想知道其中哪一个是最好的？

```
void function(int arr[]) {...}; 
```

或者

```
void function(int* arr) {...}; 
```

你能告诉我你的理由吗？你可能会参考哪本书？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:44:20.480

由于这个问题被标记为[c++](/questions/tagged/c%2b%2b "显示标记为“c++”的问题")，所以我都不会使用。如果你*必须*使用它，两者都是等价的。

但是由于您使用 C++，因此更好的方法是使用 a`std::vector`来完成此类任务

```
void function(std::vector<int> &arr) {...} 
```

或者，如果您不修改数组/向量

```
void function(const std::vector<int> &arr) {...} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T08:27:12.597

如果您只想传递任何数组（包括动态分配的），它们是等价的。

如果你的函数需要一个实际的固定大小的数组，你可以这样做：

```
template <size_t N>
void function(char (&str)[N]) { ... } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:18:06.370

它们在语义上是相同的。

#1 稍微好一点（在我看来），因为它明确表明您正在传递一个数组。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-18T08:44:57.090

你问选哪个

```
void function(int arr[]) {...}; 
```

和

```
void function(int* arr) {...}; 
```

后者允许您将指针本身声明为`const`，而前者仅允许您将项目声明为`const`。然而，对读者来说，它`[]`表示一个数组，而不是一个指向单个对象的指针。就我个人而言，我认为 提供的约束`const`比 提供的阵列性指示更实际有用`[]`。

对于更高级别的代码，请使用`std::vector`或`std::array`，以更合适的为准。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T08:20:41.977

将数组作为参数传递的最佳方法实际上是：

`void function(type_t* array, int amountOfElts, int arrayAllocatedElts);`

对于某些情况（例如传递字符串时），您通常可以跳过这两个参数。但无论哪种方式，它们都可能有用，例如在对字符串执行一些操作时，或者它们可以为您节省一两个 strlen 调用。

在我看来，在函数参数中使用 [] 选项会造成混淆，应该避免。但我不认为这是一个约定。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-18T08:53:52.097

根据您要提供的抽象层，您应该在 Olaf 的方法或 STL 使用的高级方法之间进行选择：

```
template <class Iter>
void function(Iter first, Iter last)
{
    // for example, to get size:
    std::size_t size = std::distance(first, last);
    // for example, to iterate:
    for ( Iter it = first; it != last; ++it )
    {
        // *it to get the value, like:
        std::cout << *it << std::endl;
    }
} 
```

这样，您不仅可以将函数用于数组，还可以用于各种 STL 类型：向量、列表、队列、堆栈等。

```
int tab[4] = {1,2,3,4};
function(tab, tab+4);

std::vector<int> vec;
// fill vector with something
function(vec.begin(), vec.end()); 
```

# xml - jhbuild 无法为 libxslt 和 libxml2 依赖项构建 yelp-xsl

> ID：14931966
> 
> 赞同：1
> 
> 时间：2013-02-18T08:17:13.890
> 
> 标签：xml, xslt, gtk, gnome, jhbuild

我正在尝试通过[jhbuild](http://developer.gnome.org/jhbuild/unstable/jhbuild-and-gnome.html.en)编译 yelp -xsl （ libyelp 和 yelp 使用的核心 XSLT 样式表[）](http://projects.gnome.org/yelp/)。

我正在使用从今天开始完全更新的 Ubuntu Raring 13.04。

我也安装了[为 Ubuntu](https://live.gnome.org/JhbuildDependencies/Ubuntu)推荐的[所有依赖](https://live.gnome.org/JhbuildDependencies/)项和相关的开发包：

```
$ dpkg -l libxslt* | grep dev; dpkg -l libxml2* | grep dev
un  libxslt-dev                                   <none>                                                       (no description available)
ii  libxslt1-dev                                  1.1.27-1ubuntu1                                 i386         XSLT 1.0 processing library - development kit
ii  libxml2-dev:i386                              2.9.0+dfsg1-4ubuntu1                            i386         Development files for the GNOME XML library 
```

但是运行编译我得到一个失败的结果：

```
$ jhbuild build yelp-xsl
*** Verificando itstool *** [1/2]
*** Omitiendo itstool (paquete y dependencias no actualizados) *** [1/2]
*** Verificando yelp-xsl *** [2/2]
git remote set-url origin git://git.gnome.org/yelp-xsl
git remote update origin
Fetching origin
git pull --rebase
Current branch master is up to date.
*** Configurando yelp-xsl *** [2/2]
./autogen.sh --prefix /opt/gnome --libdir '/opt/gnome/lib'  --disable-static --disable-gtk-doc
autoreconf: Entering directory `.'
autoreconf: configure.ac: not using Gettext
autoreconf: running: aclocal --force -I m4 ${ACLOCAL_FLAGS}
autoreconf: configure.ac: tracing
autoreconf: configure.ac: not using Libtool
autoreconf: running: /opt/gnome/bin/autoconf --force
autoreconf: configure.ac: not using Autoheader
autoreconf: running: automake --add-missing --copy --force-missing
doc/yelp-xsl/Makefile.am:12: filter-out %db2html-suppressed.xsl,                        \
doc/yelp-xsl/Makefile.am:12:    $(sort $(patsubst ./%, %,                                       \
doc/yelp-xsl/Makefile.am:12:      $(foreach dir,$(xsldoc_dirs: non-POSIX variable name
doc/yelp-xsl/Makefile.am:12: (probably a GNU make extension)
doc/yelp-xsl/Makefile.am:12: wildcard $(dir: non-POSIX variable name
doc/yelp-xsl/Makefile.am:12: (probably a GNU make extension)
doc/yelp-xsl/Makefile.am:15: sort $(foreach xsl,$(xsldoc_xsls: non-POSIX variable name
doc/yelp-xsl/Makefile.am:15: (probably a GNU make extension)
doc/yelp-xsl/Makefile.am:15: basename $(notdir $(xsl: non-POSIX variable name
doc/yelp-xsl/Makefile.am:15: (probably a GNU make extension)
doc/yelp-xsl/Makefile.am:16: patsubst %, C/%.page, $(xsldoc_base: non-POSIX variable name
doc/yelp-xsl/Makefile.am:16: (probably a GNU make extension)
doc/yelp-xsl/Makefile.am:24: filter %/$(basename $(notdir $@: non-POSIX variable name
doc/yelp-xsl/Makefile.am:24: (probably a GNU make extension)
doc/yelp-xsl/Makefile.am:36: wildcard C/*.page: non-POSIX variable name
doc/yelp-xsl/Makefile.am:36: (probably a GNU make extension)
xslt/docbook/html/Makefile.am:30: wildcard db*.xsl: non-POSIX variable name
xslt/docbook/html/Makefile.am:30: (probably a GNU make extension)
autoreconf: Leaving directory `.'
configure: WARNING: unrecognized options: --disable-static, --disable-gtk-doc
checking for a BSD-compatible install... /home/shakaran/.local/bin/install-check
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for gawk... (cached) gawk
checking for itstool... itstool
checking for pkg-config... /opt/gnome/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking for YELP_XSL... no
configure: error: Package requirements (
        libxml-2.0 >= 2.6.12
        libxslt    >= 1.1.8
) were not met:

No package 'libxml-2.0' found
No package 'libxslt' found

Consider adjusting the PKG_CONFIG_PATH environment variable if you
installed software in a non-standard prefix.

Alternatively, you may set the environment variables YELP_XSL_CFLAGS
and YELP_XSL_LIBS to avoid the need to call pkg-config.
See the pkg-config man page for more details.
*** Error durante la fase configure de yelp-xsl: ########## Error de ejecución ./autogen.sh --prefix /opt/gnome --libdir '/opt/gnome/lib'  --disable-static --disable-gtk-doc  *** [2/2] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:38:06.160

在 irc.gnome.org的*#gnome-hackers中提问。*有人告诉我该错误是由以前使用*jhbuild bootstrap*产生的。这可能会产生冲突，因为有可能安装了自己的 pkg-config，它不知道 multiarch ubuntu 目录。

所以运行：

```
$ pkg-config --modversion libxml-2.0 libxslt 
```

报告*2.9.0*和*1.1.27*版本，但正在运行：

```
$ jhbuild run pkg-config --modversion libxml-2.0 libxslt
Package libxml-2.0 was not found in the pkg-config search path.
Perhaps you should add the directory containing `libxml-2.0.pc'
to the PKG_CONFIG_PATH environment variable
No package 'libxml-2.0' found
Package libxslt was not found in the pkg-config search path.
Perhaps you should add the directory containing `libxslt.pc'
to the PKG_CONFIG_PATH environment variable
No package 'libxslt' found 
```

解决此问题的唯一解决方案是完全擦除*/opt/gnome/*文件夹，然后重试。然后一切正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-05T10:34:36.330

可能是因为你没有安装开发者版本的libxml2和libxslt？

[http://tara24.de/fix-configure-error-package-requirements-libxslt-met/](http://tara24.de/fix-configure-error-package-requirements-libxslt-met/)

试试这个：

```
$ sudo apt-get install libxml2-dev libxslt1-dev 
```

看看你的问题是否解决了？

# user-interface - 如何修改imperia cms用户界面？

> ID：14931968
> 
> 赞同：0
> 
> 时间：2013-02-18T08:17:21.237
> 
> 标签：user-interface, content-management-system, updates

如何在不丢失下一次更新或修补程序的更改的情况下更改**imperia 9 CMS 的用户界面？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:17:21.237

有一种相当安全的方法可以做到这一点。

假设*C:/imperia/dev/*是您**imperia 开发系统的路径，然后您在***C:/imperia/dev/site/view/imperia*中找到 imperia 默认视图。*您可以在C:/imperia/dev/site/view/mycustomviews*旁边的目录中创建自己的视图。

现在将视图从 /view/imperia 树复制*到*/ *view/mycustomviews*树，保留结构和文件名，并根据需要更改内容。

*为了让 imperia 知道如何找到您的视图，您必须在系统配置文件system.conf*中定义您的视图模板目录。

```
"VIEW_TEMPLATE_DIRS" = "C:/imperia/dev/site/view/siau/mycustomviews" 
```

### 更新

这种方式相当安全，因为您**不会**更改默认值。这很重要。不要触摸*C:/imperia/dev/site/view/imperia*中的文件。您可能会在下次更新时丢失您的更改。

但是您应该知道，您可能不会参与有关此视图的修复或更改。让我们考虑一下对默认视图的优化（可能是对当前浏览器中的行为）。使用您自己的视图覆盖默认值，您**不会**在 GUI 中获得更改。

### 发展

在开发新视图时，您应该将以下行添加到您的*system.conf*：

```
"IMPVIEW_ERRORS" = "HTML,JS,STDERR"
"IMPVIEW_DEVTOOLS" = "1"     
"IMPVIEW_CACHE_POLICY" = "timestamp" 
```

使用*IMPVIEW_ERRORS*您可以控制视图错误的显示位置。

*IMPVIEW_DEVTOOLS*将一些开发方法添加到您的视图（例如转储）。

并且将*IMPVIEW_CACHE_POLICY*设置为*时间戳*，您的视图将不再被缓存。这对开发非常有用，但是您应该将其删除以进行生产使用。（另外两个也是。）

如果出现问题并且您得到未预期的结果，请评论*VIEW_TEMPLATE_DIRS*行。然后您返回默认视图，您可以尝试重现该问题。

# smartgwt - 使用 smartGwt 在屏幕上动态突出显示特定文本

> ID：14931971
> 
> 赞同：0
> 
> 时间：2013-02-18T08:17:26.510
> 
> 标签：smartgwt, smartgwt-pro

我已经实现了一个搜索屏幕，就像它在 Windows 中所做的那样，但我无法突出显示进行搜索的文本。

我尝试使用 window.find () 但它在 smartgwt 中不可用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T17:14:52.470

如果我有这样的要求，我可能会使用 jsni 函数和类似这样的代码[.....](https://stackoverflow.com/questions/857079/search-text-in-other-text-and-highlight-it-using-javascript)或者使用 javaScript text [higlighting](http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html) jQuery 插件。我认为 gwt 或 smartgwt 中都没有这样的功能......

# session - 使用 SAML 在单次注销中终止会话

> ID：14931972
> 
> 赞同：2
> 
> 时间：2013-02-18T08:17:31.910
> 
> 标签：session, single-sign-on, logout, saml-2.0

假设我们有一个用户正在使用`Single sign-on`. 单击注销时，可以识别并终止与当前 Sp 的会话。

在这里，有责任`IdP`将用户从其他两个服务中注销。我的问题是如何获得和终止与剩余两项服务的会话？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T08:35:02.803

Idp 向其他两个 SP 发送一个 LogoutRequest，其中包含要注销的用户的 sessionIndex。然后，SP 负责终止他们一方的会话。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-09T12:20:12.883

在 SSO 期间，IDP 向 SP 发送包含 AuthnStatement 的 SAML 断言。此 AuthnStatement 的属性之一是 SessionIndex，它标识用户与 IDP 的会话。

在 SLO 期间，SP 发送 SAML 注销请求，其中包含标识 IDP 必须终止的用户（与 IDP）会话的 SessionIndex。IDP 然后检索参与当前用户会话的 SP 列表。IDP 向这些 SP 中的每一个发送 SAML 注销请求。

为此，IDP 需要跟踪参与当前用户会话的 SP（即，在当前用户会话期间收到 IDP 发出的 SAML 断言的 SP）。

# php - 需要一个好的库来绘制曲线

> ID：14931973
> 
> 赞同：-2
> 
> 时间：2013-02-18T08:17:32.220
> 
> 标签：php, jquery, graph, curve

我正在寻找类似[http://www.flotcharts.org/flot/examples/tracking/index.html](http://www.flotcharts.org/flot/examples/tracking/index.html)的东西。唯一的问题是我需要 y 轴来显示高度和 x 轴来显示一天中的时间。我怎样才能做到这一点; 我可以使用 php 或 jquery 来完成这项工作，因此我们将不胜感激任何建议。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:21:18.493

看一下

> highcharts.com

可能会有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T08:26:11.303

或者也许你在这个库中找到了一些东西。

[http://d3js.org/](http://d3js.org/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T08:29:01.913

您可以通过设置使用 Flot 插件来做到这一点：

```
xaxis: {
    mode: "time",
    timeformat: "%Y/%m/%d"
} 
```

您也可以通过其他选项进行调整。看看这个： [https ://github.com/flot/flot/blob/master/API.md#time-series-data](https://github.com/flot/flot/blob/master/API.md#time-series-data)

**- - 编辑 - -**

给你：http: [//jsfiddle.net/ZDt7h/7/](http://jsfiddle.net/ZDt7h/7/)

```
$(function(){
    var $placeholder = $('#placeholder');
    var start = 1361399340000;   
    var serie = [[start, 1],[start+60E3, 2],[start+120E3, 3],[start+180E3, 2]];

    var myplot = $.plot($placeholder, [serie], {
        xaxis: {
            mode: 'time',
            timeformat: '%H:%M:%S'
        },
        series: {
            'shadowSize': 0,
            'points': {
                'show': true
            },
            'lines': {
                'show': true
            }
        },
        crosshair: { 'mode': 'x' },
        grid: { 'hoverable': true, 'autoHighlight': true }
    });

    $('#update').click(function(){
        serie.push([start+(serie.length)*60E3, Math.floor(Math.random()*10)]);
        myplot.setData([serie]);
        myplot.setupGrid();
        myplot.draw();
    });
}); 
```

# c# - 长c#文件分解

> ID：14931975
> 
> 赞同：-2
> 
> 时间：2013-02-18T08:17:38.120
> 
> 标签：c#, code-readability

我有一个窗口窗体应用程序项目。目前我所有的代码都在 Form1.cs 文件中，这是默认文件。现在我在这个单个文件中有大约 1300 行代码。我想把这个文件代码分解成几个文件，以增加可读性和易于处理。有没有办法做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:20:53.060

使用重构。用鼠标右键选择部分代码->重构->提取方法。或 Ctrl+M 组合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T08:21:01.263

是的，一点没错。您可以使用[Partial 类](http://msdn.microsoft.com/en-us/library/wa80x488%28v=vs.110%29.aspx)来实现这一点。

这不仅与代码的*可读性*有关，因为它甚至可以在单个文件中（这取决于我的意思）。*但是，在不同的文件*之间拆分相同的代码将使您在使用源代码管理时在组开发中更加灵活。

因此，多个团队成员可以处理同一个`Form`类，但由于他们处理基于某种逻辑划分的不同 IO 工件（文件），因此他们不会（尽可能多地）陷入冲突。

也想想这个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:22:23.190

如果您不想做任何剧烈的事情，您可以使用 partial 关键字拆分您的类，并将每个部分放在自己的文件中。

```
public partial class Form1 { // file1.cs }
public partial class Form1 { // file2.cs } 
```

请参阅[http://msdn.microsoft.com/en-us/library/wa80x488(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/wa80x488(v=vs.80).aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T08:24:15.420

将所有代码放在一个类中通常不是一个好习惯。我建议您应用关注点分离原则，并根据他们的关注点将单个类分解为多个类。

[http://en.wikipedia.org/wiki/Separation_of_concerns](http://en.wikipedia.org/wiki/Separation_of_concerns)

关于组织代码：通常人们以 1 个文件包含 1 个类的方式组织代码。如果那个类太大（并且不能被撕开），你仍然可以使用 C# 的部分类特性将同一个类组织成多个文件。

# kendo-ui - 如何强制 kendoui mobile 使用适用于 Android 的 ios 主题

> ID：14931977
> 
> 赞同：1
> 
> 时间：2013-02-18T08:17:44.250
> 
> 标签：kendo-ui

有没有办法强制 kendoui 移动设备对 iOs 和 android 使用我的应用程序的相同 ios 主题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T11:51:03.043

查看 Kendo UI Mobile[文档](http://docs.kendoui.com/getting-started/mobile/application#forcing-platform-styles)以了解如何强制使用平台样式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-25T00:26:40.673

主题可以在应用初始化中设置。

```
 var app = new kendo.mobile.Application(document.body, 
    {
        platform: "android"
    }); 
```

根据[http://docs.telerik.com/kendo-ui/api/mobile/application#configuration-platform](http://docs.telerik.com/kendo-ui/api/mobile/application#configuration-platform)

# ssis - SSIS：从自定义管道组件中访问包变量和连接

> ID：14931980
> 
> 赞同：0
> 
> 时间：2013-02-18T08:17:49.553
> 
> 标签：ssis

我正在创建一个 SSIS 包，它将从 sql 数据库中的表中获取数据并将这些数据作为包变量存储在数据集中。包含平面文件源的数据流任务将从文本文件中读取数据。这个源组件将提供我的自定义组件，该组件将访问数据集变量以处理一些查找和其他操作。然后，自定义组件为相关的插入语句创建 sqlcommands。我遇到的问题是我不确定如何从我的自定义管道组件访问这些包变量。

***进一步澄清：***

我创建自定义组件的原因是因为源组件的输出只会在运行时知道，因为平面文件源会发生变化，它的列也会发生变化。然后，我在 sql 数据库中查找“映射表”以确定哪些平面文件列将映射到数据库中表中的字段。

我将创建一个脚本组件，该组件创建数据源并将其输出映射到自定义组件。自定义组件将使用查找数据来创建必要的插入语句。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T23:46:24.173

由于您的自定义组件将从[PipelineComponent](http://msdn.microsoft.com/en-us/library/microsoft.sqlserver.dts.pipeline.pipelinecomponent.aspx)继承，因此它将可以访问[VariableDispenser](http://msdn.microsoft.com/en-us/library/microsoft.sqlserver.dts.pipeline.pipelinecomponent.variabledispenser.aspx)属性以及[AcquireConnections](http://msdn.microsoft.com/en-us/library/microsoft.sqlserver.dts.pipeline.pipelinecomponent.acquireconnections.aspx)和[ReleaseConnections](http://msdn.microsoft.com/en-us/library/microsoft.sqlserver.dts.pipeline.pipelinecomponent.releaseconnections.aspx)方法。

# c++ - 在 C++11 中同步整个类

> ID：14931982
> 
> 赞同：2
> 
> 时间：2013-02-18T08:17:56.947
> 
> 标签：c++, c++11, synchronization, mutex, iostream

看看这个简单的日志类（这里只有相关部分）：

```
class Logger {
public:
    void log(string& msg){
        //lock for all instances
        cout << "[" << tag << "] " << msg;
        //unlock
    }
private:
     string tag;

}; 
```

同步整个类（不是实例）的最简单方法是什么，以便`Logger`（在不同线程中）的单独实例`cout`顺序写入（不是一次全部）？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T08:26:16.883

通常的方式，使用互斥锁：

```
#include <mutex>

class Logger {
public:
    void log(string& msg)
    {
        // Lock for all instances
        std::lock_guard<std::mutex> lock(coutMutex);

        cout << "[" << tag << "] " << msg;

        // Unlocking happens automatically since the lock
        // gets destroyed here.
    }

private:
    string tag;
    static std::mutex coutMutex; // Don't forget to define this somewhere.
}; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T15:15:03.130

短版：写一个同步的包装器， wrap `std::cout`，然后使用 synchronized`cout`来写。

长版：

```
#include <mutex>

template<typename T>
struct Synchronized {
  explicit Synchronized(T& t_):t(t_) {}

  template<typename Functor>
  auto operator()( Functor&& f ) const->decltype(f(t)) {
    std::lock_guard<std::mutex> guard(myMutex);
    return f(t);
  }
// I could implement these, but I'm lazy:
  Synchronized& operator=(Synchronized const&) = delete;
  Synchronized& operator=(Synchronized &&) = delete;
  Synchronized(Synchronized const&) = delete;
  Synchronized(Synchronized &&) = delete;
private:
  mutable T& t;
  mutable std::mutex myMutex;
};

// in "sync_cout.h"
extern Synchronized<std::ostream> sync_cout;

// in "sync_cout.cpp"
Synchronized<std::ostream> sync_cout(std::cout);

// In "logger.h"

// #include "sync_cout.h"
class Logger {
public:
  void log(string& msg){
    sync_cout( [&](std::ostream& os) {
      os << "[" << tag << "] " << msg;
    });
  }
private:
   string tag;

}; 
```

[（从Herb](http://channel9.msdn.com/Shows/Going+Deep/C-and-Beyond-2012-Herb-Sutter-Concurrency-and-Parallelism)偷来的。以上任何错误都是我自己的，不是 Herb 的。）

为了获得卓越的性能，上述链接还包括一个非阻塞异步包装器。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T08:28:18.917

最简单的方法：

```
class Logger {
public:
   void log(std::string& msg){
   //lock for all instances
   {  std::unique_lock<std::mutex> locker(_mut); // or std::lock_guard<std::mutex> locker(_mut);
      std::cout << "[" << tag << "] " << msg;
   } //unlock
private:
   std::string tag;
   static std::mutex _mut;
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-27T06:11:30.637

```
//use c++ 11 mutex

class CircularQueue
{
protected:
    int * data;
    int head;
    int tail;
    int size;
    std::mutex queueMutex;
public:
    CircularQueue(void);
    int dequeue();
    void enqueue(int x);
    void initialize(int size);
    virtual ~CircularQueue(void);
};

CircularQueue::CircularQueue(void)
{
    data = 0x0;
    head = -1;
    tail = -1;
    size=0;
}

int CircularQueue::dequeue()
{
    if(tail == head)
    {
        throw "empty queue!";
    }
    std::lock_guard<std::mutex> lock(queueMutex);

    int result = data[head];
    head ++;
    if(head >= size) 
    {
        head =head % size;
    }

    return result;
}

void CircularQueue::enqueue(int x)
{

    std::lock_guard<std::mutex> lock(queueMutex);
    data[tail] = x;
    tail ++;
    if(tail >= size)
    {
        tail = tail % size;
    }
    if(tail == head)
    {
        throw "overflow!";
    }
}

void CircularQueue::initialize(int size)
{
    data = new int[size]; 
    head = 0;
    tail = 0;
    this->size = size;
}

CircularQueue::~CircularQueue(void)
{
    delete [] data;
} 
```

# javascript - IE 9 - 对象不支持属性或方法“格式”

> ID：14931984
> 
> 赞同：0
> 
> 时间：2013-02-18T08:18:05.407
> 
> 标签：javascript, jquery, asp.net

这里需要一点帮助。

我决定将我的一些 javascript 函数转移到一个 .js 文件中。这些功能在除 IE 之外的其他浏览器中正常工作。

**注意：** 下面的代码存储在单独的 js 文件“ **my_js.js** ”中

```
var dialogConfirmed = false;

function DialogConfirmation(obj, title, dialogText) {
    if (!dialogConfirmed) {
        $('body').append("<div id='dialog' title='" + title + "'>'" + dialogText + "'</div>");            
        $('#dialog').dialog
        ({
            height: 150,
            modal: true,
            resizable: false,
            draggable: false,
            close: function(event, ui) { $('body').find('#dialog').remove(); },
            buttons:
            {
                'Yes': function() {
                    $(this).dialog('close');
                    dialogConfirmed = true;
                    if (obj) obj.click();
                },
                'No': function() {
                    $(this).dialog('close');
                }
            }
        });
    }

    return dialogConfirmed;
} 
```

**用法**

```
<asp:Button ID="btnAlert" runat="server" Text="Alert" OnClientClick="return DialogConfirmation(this, 'Popup Header', 'Popup Body Message');" onclick="btnAlert_Click" /> 
```

单击按钮时，它会抛出并指向方法“**格式**”的错误

```
**Microsoft JScript runtime error: Object doesn't support property or method 'Format'** 
```

但检查我的代码不使用“**格式**”。对错误有任何想法吗？我在我的工作站上使用 EI 9。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:45:01.997

我已将您的 Javascript 代码移动到单独的文件中，并且在 IE 9 中一切正常。您可能错过了在代码中添加 jQuery-ui.js 文件。请参阅下面的工作代码。

```
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="WebForm1.aspx.cs" Inherits="WebApplication8.WebForm1" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <script src="Scripts/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="Scripts/jquery-ui-1.10.1.custom.js" type="text/javascript"></script>
    <script src="Scripts/my_js.js" type="text/javascript"></script>
</head>
<body>
    <form id="form1" runat="server">
    <div>
        <asp:Button ID="btnAlert" runat="server" Text="Alert" OnClientClick="javascript:return DialogConfirmation(this, 'Popup Header', 'Popup Body Message');" />
    </div>
    </form>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T10:36:16.367

我已经编写了相同的代码并且 itz 工作正常。请尝试一次。谢谢。

```
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="WebForm1.aspx.cs" Inherits="WebApplication8.WebForm1" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <script src="Scripts/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="Scripts/jquery-ui-1.10.1.custom.js" type="text/javascript"></script>
    <script type="text/javascript">

        var dialogConfirmed = false;

        function DialogConfirmation(obj, title, dialogText) {
            if (!dialogConfirmed) {
                $('body').append("<div id='dialog' title='" + title + "'>'" + dialogText + "'</div>");
                $('#dialog').dialog
        ({
            height: 150,
            modal: true,
            resizable: false,
            draggable: false,
            close: function (event, ui) { $('body').find('#dialog').remove(); },
            buttons:
            {
                'Yes': function () {
                    $(this).dialog('close');
                    dialogConfirmed = true;
                    if (obj) obj.click();
                },
                'No': function () {
                    $(this).dialog('close');
                }
            }
        });
            }
            return dialogConfirmed;
        }

    </script>
</head>
<body>
    <form id="form1" runat="server">
    <div>
        <asp:Button ID="btnAlert" runat="server" Text="Alert" OnClientClick="javascript:return DialogConfirmation(this, 'Popup Header', 'Popup Body Message');" />
    </div>
    </form>
</body>
</html> 
```

# c++ - 屏幕尺寸的 Marmalade Sdk 分辨率

> ID：14931989
> 
> 赞同：1
> 
> 时间：2013-02-18T08:18:24.313
> 
> 标签：c++, ios, mobile, marmalade

我是 Marmalade 的新手机游戏开发者。所以我想获得不同屏幕尺寸分辨率的屏幕**高度**和**宽度**。`Iw2DGetSurfaceWidth()`和之间有什么区别`IwGxGetScreenWidth()`，是完全一样的还是如果不是哪个更好？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T16:19:36.240

IwGx 及其子组件使用三种不同类型的表面。

1.  设备，它保存设备的宽度和高度，而不用担心屏幕方向。

2.  屏幕，与设备相同，但在设备方向改变时切换宽度和高度。

3.  Surface，由程序员制作。创建表面由您决定。一个屏幕可以有多个表面，或者根本没有，比如图像。它是一个用于 UI 的矩形对象。

有关更多信息，您可以在文档中查找：

[http://docs.madewithmarmalade.com/native/api_reference/iwgxapidocumentation/iwgxapioverview/screenmanipulation.html](http://docs.madewithmarmalade.com/native/api_reference/iwgxapidocumentation/iwgxapioverview/screenmanipulation.html)

和

[http://docs.madewithmarmalade.com/native/api_reference/iw2dapidocumentation/iw2dapioverview/usingsurfaces.html](http://docs.madewithmarmalade.com/native/api_reference/iw2dapidocumentation/iw2dapioverview/usingsurfaces.html)

# google-apps-script - Google Apps 滚动面板未更新信息

> ID：14931990
> 
> 赞同：0
> 
> 时间：2013-02-18T08:18:31.640
> 
> 标签：google-apps-script

我的脚本正在遍历一些电子表格信息。我阅读了文档，滚动面板只允许一个孩子。因此，我将水平面板信息包装在滚动面板中，但由于某种原因，滚动面板永远不会只显示彩色背景的内容。任何想法为什么会这样？

```
 var myscrollpanel = app.createScrollPanel().setPixelSize(100, 100);
  myscrollpanel.setWidth("100%");
  myscrollpanel.setStyleAttribute("background", "silver");
  var vpanel = app.createVerticalPanel();

 for (i=1; i <= mylastrow;++i)
{

 var cellsname= mydatarange.getCell(i,1).getValue().toLowerCase();
// Browser.msgBox(cellsname );
// Browser.msgBox(searchstr.toString());
 if (cellsname.toString() == searchstr.toString()) 
 {

   var panelrow = app.createHorizontalPanel();
   var ddate = app.createTextBox();
   var sbehavior = app.createTextBox();
   var sconsequence = app.createTextBox();
   var scomment = app.createLabel();
   var steacher = app.createTextBox();
   ddate.setText(mydatarange.getCell(i,5).getValue());
   sbehavior.setText(mydatarange.getCell(i,8).getValue());
   sconsequence.setText(mydatarange.getCell(i,6).getValue());
   scomment.setText(mydatarange.getCell(i,10).getValue());
   steacher.setText(mydatarange.getCell(i,7).getValue());
   panelrow.add(ddate);
   panelrow.add(sbehavior);
   panelrow.add(sconsequence);
   panelrow.add(steacher);
   panelrow.add(scomment);
   vpanel.add(panelrow);
   app.add(panelrow);

   cnt = ++cnt;

 }

 }  

//  Browser.msgBox(cnt);     

 myscrollpanel.add(vpanel);
app.add(myscrollpanel);
// return myscrollpanel;

return app    ;// update UI 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T10:02:30.960

您的代码中有一些“异常”可能会导致一些问题，我建议进行一些更改（参见下面的代码）。

另一点是循环读取电子表格不是一个好主意，一次读取整个范围然后使用数组值进行迭代肯定会更有效。这是一个代码提案，我没有对其进行测试（它可能需要一些调试），但添加了一些注释来解释更改。

```
 var myscrollpanel = app.createScrollPanel()//.setPixelSize(100, 100);// 100 pixel is quite small to put all the items you add !!
  myscrollpanel.setWidth("100%");// 
  myscrollpanel.setStyleAttribute("background", "silver");// this will not affect the widgets you add to the panel...
  var vpanel = app.createVerticalPanel();

  var data = mydatarange.getValues();// get all data in an array

 for (i=0; i <data.length;++i)  // and work directly with array values (indexed to 0 instead of cells indexed to 1)
{

 var cellsname= data[i][0].toString().toLowerCase();
 if (cellsname == searchstr.toString()){
   var panelrow = app.createHorizontalPanel();
   var ddate = app.createTextBox();
   var sbehavior = app.createTextBox();
   var sconsequence = app.createTextBox();
   var scomment = app.createLabel();
   var steacher = app.createTextBox();
   ddate.setText(data[i][4].getValue());
   sbehavior.setText(data[i][7].getValue());
   sconsequence.setText(data[i][5].getValue());
   scomment.setText(data[i][9].getValue());
   steacher.setText(data[i][6].getValue());
   panelrow.add(ddate);
   panelrow.add(sbehavior);
   panelrow.add(sconsequence);
   panelrow.add(steacher);
   panelrow.add(scomment);
   vpanel.add(panelrow);// add only to the panel, not to the app or the row will be outside the panel
   cnt = ++cnt;
   }
 }  
  myscrollpanel.add(vpanel);
  app.add(myscrollpanel);
  return app    ;// update UI
} 
```

# iphone - iphone phonegap 谷歌地图内存警告

> ID：14931996
> 
> 赞同：1
> 
> 时间：2013-02-18T08:18:43.577
> 
> 标签：iphone, cordova, memory, maps

我有一个用 Cordova (Phonegap) 2.3.0 编写的应用程序。我使用 Jquery 1.8.2 和 jquerymobile 1.2.0 和谷歌地图 v3。XCode 4.6 版

在一个页面上，我加载了一堆坐标并创建了不同的折线添加到地图中。地图中添加了 37 条折线，每条折线包含 20 到 200 个坐标。地图上总共有大约 1700 个坐标。我也有20个标记。

该应用程序从一开始就运行良好，我可以放大和缩小并且地图响应良好，但是如果我重新加载地图，我有时会开始在 XCode 中收到诸如“收到内存警告”之类的消息，并且地图不会再更新，有时应用程序克拉施。

这是我在添加更新数据之前调用的清晰例程：function clearOverlays() {

```
try {

    if (polyLinesArray != null) {
        for (var i = 0; i < polyLinesArray.length; i++) {
            polyLinesArray[i].setMap(null);
            polyLinesArray[i] = null;

        }
        polyLinesArray.length = 0;
    }

}

catch(e) {
    handleError(e, "clearOverlays");
} 
```

}

polyLinesArray 是一个数组，在将所有折线添加到地图后，我会将它们推送到其中。

所以问题是，我怎样才能以一种好的方式清除地图以防止内存警告（和泄漏？）？

我在折线上也有鼠标点击监听器，我需要在更新之前清除它们吗？

当我导航到应用程序中的另一个 html 页面时，也会发生同样的情况。前后几次后，地图将不再更新。在我导航到其他页面之前，我首先调用我的清晰例程。

完成了另一个简单的测试：我只是加载地图，添加我的折线和其他一些标记。放大和缩小几次，然后出现“收到内存警告”。我没有做任何其他事情，只是让谷歌地图处理缩放和平移。

问候亨里克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T09:42:04.123

我遇到了同样的问题，发现它与 Google Maps API 绘制叠加层的方式有关。由于某种原因，这从 API 3.7 及更高版本开始变得过于占用内存。幸运的是，在 3.12（当前的实验版本）中，这似乎再次得到解决。至少在我的情况下。

如果您在 URL 中使用 &v=3.exp 调用 maps api，您的问题也可能会得到解决。

# windows - 通过代码编辑文件夹的安全设置

> ID：14931998
> 
> 赞同：1
> 
> 时间：2013-02-18T08:18:45.017
> 
> 标签：windows, batch-file, file-permissions

我正在尝试通过代码将我的 SQL Server 数据库附加到服务器实例。它给出了一个错误，即包含这些文件的文件夹没有我需要通过右键单击文件夹并编辑证券来提供的“完全控制”。

我希望通过代码来做到这一点。请告知是否可以使用 Netsh 命令或任何其他方式。

![在此处输入图像描述](../Images/e93deecd8f7404a6e412b4d9667866de.png)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:09:13.593

您可以使用 xCacls 更改 NTFS 权限...

[http://support.microsoft.com/kb/318754](http://support.microsoft.com/kb/318754)

"xcacls 文件名 [/T] [/E] [/C] [/G user:perm;spec] [/R user] [/P user:perm;spec [...]] [/D user [. ..]] [/Y]

其中文件名指示通常应用 ACL 或访问控制条目 (ACE) 的文件或文件夹的名称。可以使用所有标准通配符。"

上面的链接给出了其余的语法和几个例子。