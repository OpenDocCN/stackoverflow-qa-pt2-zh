# StackOverflow 问答 15264000-15264999

# c++ - 将 std::bind 与成员函数一起使用，是否为该参数使用对象指针？

> ID：15264003
> 
> 赞同：64
> 
> 时间：2013-03-07T05:46:57.170
> 
> 标签：c++, c++11, language-lawyer

用于`std::bind`绑定成员函数时，第一个参数是对象`this`指针。但是，它可以将对象作为指针而不是作为指针传递。

例如，请参见以下程序：

```
#include <iostream>
#include <functional>

struct foo
{
    void bar(int v) { std::cout << "foo::bar - " << v << '\n'; }
};

int main()
{
    foo my_foo;

    auto f1 = std::bind(&foo::bar, my_foo, 1);
    auto f2 = std::bind(&foo::bar, &my_foo, 2);

    f1();
    f2();
} 
```

clang 和 GCC 都毫无怨言地编译了这个，结果对两个绑定都有效：

```
富::酒吧 - 1
富::酒吧 - 2

```

我一直在尝试围绕规范（第 20.8.9 节）展开思考，但这是我不清楚的地方之一。

应该只有一个是正确的，还是两个都正确？

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-03-07T05:56:05.140

两者都是正确的。20.8.9.1.2 转发到 20.8.2 以描述您调用的要求和效果`bind`。20.8.2 是：

> ### 20.8.2 要求 [func.require]
> 
> ¹按如下方式定义*INVOKE ：*`(f, t1, t2, ..., tN)`
> 
> — `(t1.*f)(t2, ..., tN)`when`f`是指向类的成员函数的指针，`T`并且`t1`是类型对象`T`或对类型对象的`T`引用或对派生于的类型对象的引用`T`；
> 
> — `((*t1).*f)(t2, ..., tN)`when`f`是指向类的成员函数的指针，`T`并且`t1`不是上一项中描述的类型之一；
> 
> —`t1.*f`当`N == 1`and`f`是指向类的成员数据的指针`T`并且`t1`是类型对象`T`或对类型对象的`T`引用或对派生于的类型对象的引用时`T`；
> 
> — `(*t1).*f`when`N == 1`和`f`是指向类的成员数据的指针，`T`并且`t1`不是上一项中描述的类型之一；
> 
> —`f(t1, t2, ..., tN)`在所有其他情况下。

前两个选项允许引用和指针。

这里要注意的重要一点是，措辞并不*局限于*简单的指针。您可以使用一个或其他一些智能指针来使您的实例在绑定时保持活动状态，并且无论它是什么（当然，假设它是可能的），`std::shared_ptr`它仍然可以与取消引用`std::bind`一样工作。`t1`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-07-18T08:49:14.903

添加到正确答案（两种形式都允许）。

我认为这两个绑定选项类似于函数参数声明，可能是“按值传递”或“按引用传递”。

在`f1`（又名`my_foo`“按值”传递）的情况下，结果不会“看到”`my_foo`对绑定点之后所做的任何更改。这可能不是所希望的，尤其是在`my_foo`进化的情况下。“按值”绑定具有对复制构造函数的（多次）调用的额外“成本”。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-10-16T22:43:18.963

它们是有区别的。正如 rytis 提出的，按值传递不会看到对 my_foo 所做的更改。例如，如果 my_foo 是一个类，按值传递不会看到对 my_foo 的成员数据所做的更改。

# java - 如何在 ScrolledComposite 中获得包含 FlowLayout 的 Composite 以垂直而不是水平增长？

> ID：15264006
> 
> 赞同：1
> 
> 时间：2013-03-07T05:47:01.050
> 
> 标签：java, swt, composite, flowlayout, scrolledcomposite

我正在尝试在 ScrolledComposite 内创建一个包含 FlowLayout 的 Composite，以便 Composite 从 ScrolledComposite 继承其宽度，但高度会动态增长。我已经搜索了一些片段，但我没有让它们工作；我只能让它变宽，这是不可取的。

我要做的是创建一个包含一堆缩略图的视图，以在宽度上填充窗口/周围的复合材料并在高度上滚动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T14:26:23.060

您将需要覆盖复合的 computeSize 方法，或 FillLayout 以始终​​报告给定的宽度提示，除非宽度提示可能小于单个缩略图的宽度，在这种情况下您可能希望显示水平滚动）。

您还可以向 ScrollComposite 添加调整大小侦听器并继续调用`ScrollComposite#setMinSize()`以确保内部的复合仅垂直增长。

您还在 FillLayout 上使用正确的类型吗？

# pentaho - JSON FileInput 中的 pentaho 错误 64k 限制

> ID：15264013
> 
> 赞同：-1
> 
> 时间：2013-03-07T05:47:22.853
> 
> 标签：pentaho, kettle

![在此处输入图像描述](../Images/fe7187b396e440a3c77279cc838f1e17.png)我创建了一个从 Web 服务中提取 json 数据的作业。它可以在我的 PC 上运行，但当我将其导出到我的开发人员时却不行。服务器（Ubuntu 服务器 x64）。请帮助我。

错误

> “原因：sun.org.mozilla.javascript.EvaluatorException：编译脚本时遇到代码生成错误：为方法生成的字节码超过 64K 限制。（＃1）”

JSON格式

"[{ "firstName": "John", "lastName": "Smith", "age": 25, "address": { "streetAddress": "21 2nd Street", "city": "New York", " state": "NY", "postalCode": xxxxx }, "phoneNumber": [ { "type": "home", "number": "xxx xxx-xxxx" }, { "type": "fax", " number": "xxx xxx-xxxx" } ] }, { "firstName": "John", "lastName": "david", "age": 28, "address": { "streetAddress": "23 2nd Street" , "city": "New York", "state": "NY", "postalCode": xxxxx }, "phoneNumber": [ { "type": "home", "number": "xxx xxx-xxxx" }, { "type": "fax", "number": "xxx xxx-xxxx" } ] }, { "firstName": "Jondy", "lastName": "rodes", "age": 25, "address": { "streetAddress": "21 2nd Street", "city": "Kenucky", "state": "KY", "postalCode": xxxxx }, "phoneNumber": [ { "type": "home",“号码”：“xxx xxx-xxxx”}，{“类型”：“传真”，“号码”：“xxx xxx-xxxx”}]}]”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:18:34.500

在此处查看此论坛帖子：

[http://forums.pentaho.com/showthread.php?89304-Job-runs-fine-in-Spoon-but-not-in-Kettle-Exceeds-64K-in-Json-Input-step](http://forums.pentaho.com/showthread.php?89304-Job-runs-fine-in-Spoon-but-not-in-Kettle-Exceeds-64K-in-Json-Input-step)

建议似乎是使用 javascript 步骤然后关闭优化选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-28T06:05:25.013

64k limit problem with jvm lower versions. Upgrade your java to 1.7 version. Problem will be solve.

# c# - 如何验证 CodeDOM 中的命名空间名称？

> ID：15264018
> 
> 赞同：2
> 
> 时间：2013-03-07T05:48:09.760
> 
> 标签：c#, namespaces, codedom, validating

我使用 SE 中的 CodeDOM 找到了类名验证方法并使用了它：

`System.CodeDom.Compiler.CodeGenerator.IsValidLanguageIndependentIdentifier(string value)`

通过此链接：[是否有 .NET 函数来验证类名？](https://stackoverflow.com/questions/92841/is-there-a-net-function-to-validate-a-class-name)

但是，类名不允许使用 '.' （OEM 时期）其中命名空间可以是： `System.Linq`例如允许“.”。在使用类似`Regex`或循环来验证命名空间名称的选项之前，我想知道 .NET 中是否有任何方法可用于此任务。

编辑：

实际情况是，我有一个来自。用户可以从文本框中给出类名和命名空间。对于那个类名和命名空间，我将给出一个生成的代码。如果用户输入 SomeClass 作为类名和 Some.Namespace 作为命名空间，则生成的代码将是：

```
namespace Some.Namespace   
{   
  class SomeClass{}   
} 
```

为此，我需要验证用户输入的这两个名称。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-11T08:43:29.870

我尝试了一种不同的方法，它对我有用。

```
public bool IsValidNamespace(string input)  
        {  
            //Split the string from '.' and check each part for validity  
            string[] strArray = input.Split('.');  
            foreach (string item in strArray)  
            {                  
                if (! CodeGenerator.IsValidLanguageIndependentIdentifier(item))  
                    return false;  
            }  
            return true;   
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T13:04:19.610

你可以使用[`CodeGenerator.ValidateIdentifiers()`](http://msdn.microsoft.com/en-us/library/system.codedom.compiler.codegenerator.validateidentifiers.aspx)它。

如果您不想检查整个树，只检查一个命名空间名称，您可以为此创建一个临时对象：

```
CodeGenerator.ValidateIdentifiers(new CodeNamespace(namespaceName)); 
```

根据文档，如果标识符无效，该方法将抛出`ArgumentException`.

# python - 适用于 Python 的 Google-App-Engine-Like 数据存储

> ID：15264030
> 
> 赞同：1
> 
> 时间：2013-03-07T05:48:55.503
> 
> 标签：python, database, google-app-engine, nosql, google-cloud-datastore

是否有任何软件库像 Google App Engine Datastore 那样提供用于存储和查询数据的接口，但使用本地文件或服务而不是在 App Engine 上运行？

我正在寻找的具体功能是：

*   将数据存储为具有命名属性的实体
*   查询支持
*   原子事务
*   Python 语言绑定
*   在我的本地机器上运行
    *   要么存储到单个文件
    *   或连接到本地数据库服务
*   免费和开源

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:23:21.757

您还可以检查[MongoDB](http://www.mongodb.org)。它是一个开源的面向文档的数据库系统。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T18:29:45.493

您可能还想查看 Appscale ( [http://www.appscale.com](http://www.appscale.com) )。它允许您在 Google 之外（在您的笔记本电脑、本地集群/防火墙后面或 Amazon EC2 中）运行您的 App Engine 应用程序而无需修改。AppScale 满足您在此处列出的每个要求。它会自动安装/配置/管理数据存储服务（以及所有其他 API/服务）供您的应用程序使用，因此您不必这样做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:10:45.997

看看 ZODB - 不完全相同但相似[http://www.zodb.org/](http://www.zodb.org/)

从文档

ZODB 为您带来的一些功能：

*   Python 对象的透明持久性
*   完全兼容 ACID
*   事务支持（包括保存点） 历史/撤消能力
*   对二进制大对象 (BLOB) 的高效支持
*   可插拔存储
*   可扩展架构

# python - 如果 Python VM 执行字节码，非导入模块的字节码在哪里？

> ID：15264032
> 
> 赞同：0
> 
> 时间：2013-03-07T05:49:15.347
> 
> 标签：python

我根据以下链接了解了一些事情（我可能是错的！）：

[http://docs.python.org/2/glossary.html#term-bytecode](http://docs.python.org/2/glossary.html#term-bytecode)

1.  `.pyc`是一个缓存文件，只有在模块被导入到其他地方时才会生成

2.  `.pyc`是帮助加载性能，而不是执行性能。

3.  running`python foo.py`不会生成`foo.pyc`，除非`foo`在某处导入。

4.  Python有一个字节码编译器（用于生成`.pyc`）

5.  Python 的虚拟机执行字节码。

那么，当我运行时`python foo.py`，如果`foo.py`没有在任何地方导入，Python 是否真的会创建内存字节码？

失踪`.pyc`似乎打破了 Python VM 的想法。

这个问题扩展到 Python 解释器（`python`在终端中运行）中的代码执行。我相信 CPython（或几乎任何语言实现）不能做纯粹的解释。

我认为问题的核心是：VM 是否真的读取了`.pyc`文件？我假设 VM 将其加载`.pyc`到执行环境中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T08:41:16.373

您的第 1 到第 5 点是正确的，但第 4 点除外（如果我们准确的话）。Python 解释器有一个称为字节码编译器的部分，它将源代码转换为`<code object at 0x...>`，您可以通过键入`f.__code__`任何函数来检查它`f`。这是被解释的真实字节码。然后，这些代码对象可以作为一个单独的步骤保存在`.pyc`文件中。

以下是更详细的操作。当您加载`foo.py`它导入的每个模块时，字节码编译器每个模块只运行一次。这不是一个太长的操作，但仍然需要一些时间，特别是如果您的模块导入了很多其他模块。这是`.pyc`文件进入图片的地方。在`import`语句调用字节码编译器后，它会尝试将结果保存在`<code object>`文件`.pyc`中。下一次，如果`.pyc`文件已经存在并且`.py`文件没有被修改，`<code object>`则从那里重新加载。这只是一种优化：它避免了调用字节码编译器的成本。在这两种情况下，结果都是一样的： a`<code object>`是在内存中创建的，并且将被解释。

它仅适用于`import`语句，例如不适用于主模块（即`foo.py`命令行中的`python foo.py`）。这个想法并不重要——字节码编译器在典型的大中型程序中会浪费时间的地方在于编译所有直接和间接导入的模块，而不仅仅是编译`foo.py`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:05:06.420

有趣...我做的第一件事就是要求`--help`

```
$ python --help
usage: python [option] ... [-c cmd | -m mod | file | -] [arg] ...
Options and arguments (and corresponding environment variables):
-B     : don't write .py[co] files on import; also PYTHONDONTWRITEBYTECODE=x
... 
```

我看到的第一个选项是在导入时禁用自动 pyc 和 pyo 文件生成，尽管这可能导致其按字母顺序排列。

让我们运行一些测试

```
$ echo "print 'hello world'" > test.py
$ python test.py 
hello world
$ ls test.py*
test.py
$ python -c "import test"
hello world
$ ls test.py*
test.py     test.pyc 
```

所以它只在导入时生成pyc文件。

现在为了检查正在使用哪些文件，我将使用类似于 linux truss 的 OS X dtruss 进行完整跟踪...

```
$ echo '#!/bin/sh 
 python test.py' > test.sh 
$ chmod a+x test.sh
$ sudo dtruss -a ./test.sh 2>&1 | grep "test.py*"
975/0x5713:    244829       6      3 read(0x3, "#!/bin/sh \npython test.py\n\b\0", 0x50)         = 26 0
975/0x5713:    244874       4      2 read(0xFF, "#!/bin/sh \npython test.py\n\b\0", 0x1A)        = 26 0
977/0x5729:    658694       6      2 readlink("test.py\0", 0x7FFF5636E360, 0x400)        = -1 Err#22
977/0x5729:    658726      10      6 getattrlist("/Users/samyvilar/test.py\0", 0x7FFF7C0EE510, 0x7FFF5636C6E0 = 0 0
977/0x5729:    658732       3      1 stat64("test.py\0", 0x7FFF5636DCB8, 0x0)        = 0 0
977/0x5729:    658737       5      3 open_nocancel("test.py\0", 0x0, 0x1B6)      = 3 0
977/0x5729:    658760       4      2 stat64("test.py\0", 0x7FFF5636E930, 0x1)        = 0 0
977/0x5729:    658764       5      2 open_nocancel("test.py\0", 0x0, 0x1B6)      = 3 0 
```

从外观上看，python 甚至根本没有触及 test.pyc 文件！

```
$ echo '#!/bin/sh 
 python -c "import test"' > test.sh
$ chmod a+x test.sh
$ sudo dtruss -a ./test.sh 2>&1 | grep "test.py*"
$ sudo dtruss -a ./test.sh 2>&1 | grep "test.py*"
1028/0x5d74:    654642       8      5 open_nocancel("test.py\0", 0x0, 0x1B6)         = 3 0
1028/0x5d74:    654683       8      5 open_nocancel("test.pyc\0", 0x0, 0x1B6)        = 4 0
$ 
```

好吧，这很有趣，它看起来像是打开了 test.py 然后 test.pyc

当我们删除 pyc 文件时会发生什么。

```
$ rm test.pyc
$ sudo dtruss -a ./test.sh 2>&1 | grep "test.py*"
1058/0x5fd6:    654151       7      4 open_nocancel("/Users/samyvilar/test.py\0", 0x0, 0x1B6)        = 3 0
1058/0x5fd6:    654191       6      3 open_nocancel("/Users/samyvilar/test.pyc\0", 0x0, 0x1B6)       = -1 Err#2
1058/0x5fd6:    654234       7      3 unlink("/Users/samyvilar/test.pyc\0", 0x1012B456F, 0x1012B45E0)        = -1 Err#2
1058/0x5fd6:    654400     171    163 open("/Users/samyvilar/test.pyc\0", 0xE01, 0x81A4)         = 4 0 
```

它首先打开 test.py 然后它“尝试”打开 test.pyc 返回错误然后它调用 unlink 并再次生成 pyc 文件......有趣，我认为它会检查。

如果我们删除原始的 py 文件会怎样。

```
$ sudo dtruss -a ./test.sh 2>&1 | grep "test.py*"
1107/0x670d:    655064       4      1 open_nocancel("test.py\0", 0x0, 0x1B6)         = -1 Err#2
1107/0x670d:    655069       8      4 open_nocancel("test.pyc\0", 0x0, 0x1B6)        = 3 0 
```

毫不奇怪，它无法打开 test.py 但它仍然继续，直到今天我不确定这是否真的“好的” python 应该发出某种警告，我被这个烧了几次，不小心删除了我的文件，运行了我的测试并在它们通过时松了一口气，但当我似乎无法找到源代码时开始大汗淋漓！

在此测试之后，我们假设 python 仅在调用时直接使用 pyc 文件， `python test.pyc`或者在导入时间接使用，否则它似乎不使用它们。

据说 CPythons 编译器被设计得相当快，它不做太多类型检查，它可能会生成非常高级的字节码，所以大部分工作负载实际上是由虚拟机完成的......它可能只通过一次, lexing->compiler->byte-code 一次完成，它每次都会这样做，它从命令行读取一个 python 文件，或者在导入时没有 pyc 文件，在这种情况下它会创建它。

这可能就是为什么其他一些实现更快的原因，因为它们需要更多时间来编译，但会生成可以很好优化的更原始的字节码。

构建一个虚拟机来高效地做纯解释是极其困难的......

这一切都与平衡有关，您的字节码越强大，您的编译器就越简单，但您的虚拟机必须越复杂和越慢，反之亦然......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:13:33.680

Python 不能直接执行源代码（不像其他一些执行临时解析的脚本语言，例如 Bash）。所有 Python 源代码都*必须*编译为字节码，无论源代码是什么。（这包括例如通过`eval`和运行的代码`exec`）。生成字节码相当昂贵，因为它涉及运行解析器，因此缓存字节码（如 .pyc）通过避免解析阶段来加速模块加载。

`import foo`和之间的区别`python foo.py`只是后者不缓存生成的字节码。

# asp.net - 逗号出现在 ASP.net 中谷歌浏览器的文本框中和弹出日历中

> ID：15264033
> 
> 赞同：0
> 
> 时间：2013-03-07T05:49:19.977
> 
> 标签：asp.net, ajax, google-chrome, asp.net-ajax

我有一个非常奇怪的问题。我在更新面板内有一个文本框和日期选择器，在面板内有一个按钮，当我在文本框中输入一些文本并选择日期并按“输入”按钮时，会调用事件处理并在回调文本框内容复制和连接之后“逗号”与日期选择器的问题相同。这个有什么解决办法吗？？

```
 <asp:UpdatePanel ID="pnlPickIt" runat="server" UpdateMode="Conditional" ChildrenAsTriggers="False">
                <Triggers>
                   <asp:AsyncPostBackTrigger ControlID="btnGo" EventName="Click" />
                    <asp:AsyncPostBackTrigger ControlID="btnRcpnt" EventName="Click" />
                    <asp:AsyncPostBackTrigger ControlID="btnRcpntDiffDate" EventName="Click" />
                    <asp:AsyncPostBackTrigger ControlID="btnNewOrder" EventName="Click" />
                </Triggers>
                <ContentTemplate>
                    <asp:Panel ID="pnlPickZip" runat="server" DefaultButton="btnGo" meta:resourcekey="pnlPickZipResource">
                        <table cellpadding="0" cellspacing="0" class="pickItHeading">
                            <tr>
                                <td colspan="4" class="hdgPickIt enabledl">
                                <table><tr><td>
                                    <h2 style="font-size: 13px; font-weight: bold;">
                                        <asp:Literal ID="litDivStoreFinderMessage" runat="server" meta:resourcekey="litDivStoreFinderMessageResource"></asp:Literal>
                                        <asp:LinkButton ID="lnkShowOtherCountries" runat="server" meta:resourcekey="lnkShowOtherCountriesResource"></asp:LinkButton>
                                        <asp:Localize ID="lclOtherCoutriesText" runat="server" meta:resourcekey="lclOtherCoutriesTextResource"></asp:Localize>
                                    </h2>
                                </td>
                                <td>
                                    <input type="button" id="btnAddressBook1" value='<%=Getlocalresourceobject("ResourceAddBook") %>' onclick="ShowAddressBook('<%= txtZip.ClientID %>', '<%= hdnContactID.ClientID %>', this, 'Right');" style='display: <%=IIF(Utility.Generic.IsID(CType(Session("UserSessionState"), BO.UserSessionState).UserID), "", "none") %>; width:131px; font-size:12px;' />
                                </td>
                                </tr></table>

                                </td>

                            </tr>
                            <tr>
                                <td style="width: 138px"><asp:TextBox ID="txtZip" onfocus="ZipVal=this.value;" onblur="this.value=fixZipAndPostalCode(this.value); $('[id^=dverr]').hide();ForcebtnGoClick(this.value);" CssClass="txtPickIt" Style="width: 100px" MaxLength="7" WaterMarkText='<%#GetLocalResourceObject("ZipPostalCodeWaterMarkText") %>' runat="server" meta:resourcekey="txtZipResource"></asp:TextBox></td>
                                <td style="width: 107px"><asp:TextBox ID="txtDate" onfocus="$('#dverr4').hide();" onblur="$('[id^=dverr]').hide();" CssClass="txtPickItCal" WaterMarkText='<%#GetLocalResourceObject("DateWaterMarkText") %>' Width="70px" runat="server" meta:resourcekey="txtDateResource"></asp:TextBox></td>
                                <td align="left" style="width: 55px"><asp:Button ID="btnGo" OnClientClick="$('#divZipNotFound').fadeOut();hideShipmentArrangements();HideZipFinder(); return ValidateZip();" onblur="$('#dverr4').hide();" CssClass="PickITGo" runat="server" meta:resourcekey="btnGoResource" /></td>
                                <td align="left" style="width:160px"><table><tr><td><a id="lnkStoreFinder" style="font-size:11px;" href="javascript:void(0);" onclick="document.getElementById('hdnZipTextBoxID').value = '<%= txtZip.ClientID %>';ShowZipFinder(this, -367);return false;"><%=GetLocalResourceObject("lclFindResource.Text").ToString.Replace("**ZipCode**", GetZipCodeTextByCountry())%></a></td><td><asp:ImageButton id="btnGoBack" runat="server" ImageUrl='<%# ImagePage & "bn/btn_goBackSmall.jpg" %>' /></td></tr></table></td>
                            </tr>
                        </table>
                        <div runat="server" visible="False" id="divZipState" style="position: absolute; font-size: 11px;height: 12px; color: #666666;"><asp:Literal ID="litZipState" runat="server" meta:resourcekey="litZipStateResource"></asp:Literal></div>
                    </asp:Panel>
                    <div id="dverr6" class="validatorMsgBig" style="position: absolute; display: none; height: 45px; width: 440px; padding: 5px;">
                        <a id="A6" href="#"><img id="img6" style="float: right; border-width: 0px;" onclick="return HideErrorMsg('dverr6');" src="<%= ImagePage %>btn_cross_l.jpg" /></a>
                        <table>
                            <tr>
                                <td><img src="<%= ImagePage %>icon_order_error_big_yelowbg.jpg" /></td>
                                <td align="left" style="padding-left: 10px;"><span style="font-family: Arial; font-size: 16px; font-weight: bold; color: #383433;"><asp:Literal ID="litErrorMsg" runat="server" meta:resourcekey="litErrorMsgResource"></asp:Literal></span></td>
                            </tr>
                        </table>
                    </div>
                </ContentTemplate>
            </asp:UpdatePanel> 
```

# asp.net-mvc - ASP .Net 自定义路由不起作用

> ID：15264035
> 
> 赞同：0
> 
> 时间：2013-03-07T05:49:22.533
> 
> 标签：asp.net-mvc, asp.net-mvc-3, asp.net-mvc-routing, global-asax

ASP .Net 自定义路由不起作用。

```
 public static void RegisterRoutes(RouteCollection routes)
    {
        routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
        //default route
        routes.MapRoute(
            "Default", // Route name
            "{controller}/{action}/{id}", // URL with parameters
            new { controller = "Account", action = "LogOn", id = UrlParameter.Optional } // Parameter defaults
        );

       //custom route
        routes.MapRoute(
         "Admin",
         "Admin/{addressID}",// controller name with parameter value only(exclude parameter name)
         new { controller = "Admin", action = "address" }
       new { addressID = @"\d+" }
     );
    }

    protected void Application_Start()
    {
        AreaRegistration.RegisterAllAreas();

        RegisterGlobalFilters(GlobalFilters.Filters);
        RegisterRoutes(RouteTable.Routes);
    }

    public ActionResult address(int addressID = 0)
    {
     //code and redirection
    } 
```

在这里，如果可能，我想隐藏 url 中的所有内容......就像我想尽可能隐藏操作名称和参数名称和值......建议我这样做的可能方法

就像我想要这样的 URL（基于优先级）
1.http://localhost:abcd/Admin
或 2.http://localhost:abcd/Admin/address
或 3.http://localhost:abcd/Admin/1
或 4.http://localhost:abcd/Admin/address/1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:30:43.300

供快速参考。

*   自定义路由应该出现在默认路由之前。
*   尝试将您的自定义路由命名为 null。 `routes.MapRoute( null, // Route name...`
*   检查您的调用是否正确。
*   如果您正在处理在初始加载时未收到参数的操作（例如分页），请确保您的参数可以为空 `address(int? addressID)` ，并且在您的自定义路由上应该是这样的

* * *

```
//custom route
    routes.MapRoute(
     null, //<<--- set to null
     "Admin/{addressID}",// controller name with parameter value only(exclude arameter name)
     new { controller = "Admin", action = "address" }
   //new { addressID = @"\d+" } <<--- no need for this because based from your example " 2.http: //localhost:abcd/Admin/address" the parameter can be null.
 ); 
```

谢谢

# java - Errai 对 GAE 平台的支持

> ID：15264036
> 
> 赞同：13
> 
> 时间：2013-03-07T05:49:30.903
> 
> 标签：java, google-app-engine, gwt, errai

基于此 JIRA 问题：

[https://issues.jboss.org/browse/ERRAI-68](https://issues.jboss.org/browse/ERRAI-68)

GAE 对 Errai 的支持是不可行的。

这不是真的可行还是有一种解决方法：

*   Errai UI 肯定会工作，因为这是用于 GWT
*   但是 Errai 总线是否有解决方法可以使其正常工作。像包装纸之类的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-06-21T03:51:25.557

我能够在 Google AppEngine Flex 环境中毫无问题地运行 Errai，但是我没有使用 100% 的 Errai 框架。尽管 eraiframework.org 声明最新版本 (4.0.0.Final) 在 JEE7 上运行，但我必须使用 Java 8 进行编译才能使其正常工作（Marshalling 等类在 Java 8 中编译），因此 AppEngine Flex 环境而不是标准。

此列表（可在此处找到：[https](https://developer.jboss.org/thread/233098) ://developer.jboss.org/thread/233098 ）对于了解 AppEngine 可能支持和不支持的内容也非常有帮助。具有“不依赖服务器”的项目应该可以工作，因为它主要是与客户端/GWT 相关的库。

*   Errai Bus：任何 Servlet 2.x 容器（或 3.0 用于异步调度）
*   Errai CDI 容器（无分布式事件）：无服务器依赖
*   Errai CDI 分布式事件：Weld >= 1.1.5 和 < 2.0（目前是 Weld 的硬性要求，而不是其他 CDI 实现）
*   Errai Cordova 包装器：无服务器依赖性
*   Errai 数据绑定：无服务器依赖
*   Errai IOC 容器：无服务器依赖 杰克逊兼容模式下的 Errai JAX-RS：无服务器依赖
*   Errai JAX-RS 和 Errai Marshalling：任何 JAX-RS 实现加上 errai-jaxrs-provider
*   Errai JPA：不依赖服务器
*   Errai JPA 数据同步：任何 JPA 2.0 或 2.1 实现
*   Errai 导航：不依赖服务器 Errai 验证：不依赖服务器
*   Errai UI 模板：不依赖服务器

# java - 如何使用java从推特上抓取推文

> ID：15264041
> 
> 赞同：0
> 
> 时间：2013-03-07T05:49:44.397
> 
> 标签：java, eclipse, twitter, web-scraping

我需要抓取名人的推文。可以这样做吗？我能够使用 JSoup 从维基百科中抓取数据。我对 twitter 尝试了同样的方法，结果出现了以下错误。我想我没有这样做的权限。我可以使用不同的 API 吗？我是网络抓取的新手。请帮忙。

```
Exception in thread "main" javax.net.ssl.SSLHandshakeException:   
sun.security.validator.ValidatorException: PKIX path building failed: 
sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid
certification path to requested target
at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Unknown Source)
at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(Unknown Source)
at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Unknown Source)
at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Unknown Source)
at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(Unknown Source)
at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(Unknown Source)
at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Unknown Source)
at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Unknown Source)
at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-10-06T20:57:22.340

查看[微博代理服务器](https://github.com/vitaldatalink/microblog/tree/master/server/src/main/java/microblog/provider/twitter)的 Java 源代码，这是一个解析来自 Twitter 的消息和图像的 Web 服务。它使用**twitter4j**作为私人 Twitter。对于公共 Twitter，它使用**Jsoup**进行网页抓取。

# activerecord - ActiveRecord / ActiveModel 属性区分大小写

> ID：15264042
> 
> 赞同：0
> 
> 时间：2013-03-07T05:49:49.470
> 
> 标签：activerecord, activemodel

我正在将一个遗留应用程序从 MS-SQL 移动到使用 Rails 访问数据的 Postgres。

MS-SQL 中的列是大写的，在使用 activerecord-sql-server-adapter 时，它们的读取方式如下：

`var something = my_model.SomeAttribute`

尽管它是恒定的，但它似乎并不重要，因为应用程序只从 MSSQL 数据库中读取数据。

我现在遇到的问题是在迁移到 postgres 之后，它将所有列名等转换为小写（因为 SQL 并不区分大小写）。现在，当我尝试访问`SomeAttribute`我的模型时，它会引发一个，`ActiveModel::MissingAttributeError`因为它现在是小写的。

症状的一些例子：

```
p.SomeAttribute
=> ActiveModel::MissingAttributeError: missing attribute: SomeAttribute

p.read_attribute(:SomeAttribute)
=> nil

p.has_attribute?(:SomeAttribute)
=> false

p.read_attribute(:someattribute)
=> 'expected value' 
```

有什么方法可以让 ActiveRecord/ActiveModel 在尝试检索属性名称之前将它们转换为小写？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-06T22:02:17.657

我目前正在处理两个不同的项目，使用 Rails 连接到旧版 MS SQL Server 数据库……表名和列名与 Rails 期望的不匹配。

在我最近的项目中，我想我刚刚找到了金蛋 :-) 那就是根本不改变 Rails 方面的任何东西以使事情正常进行——金蛋是使用 SQL 视图来“转换”遗留表转换成 Rails 理解的东西——我目前在 dev 中有一个项目，我正在研究它工作得非常好，而且我不必尝试在 Rails 端为任何表或列名称加上别名，因为一切看起来当它到达我的 Rails 应用程序时很漂亮。我现在发布这个是因为我的第一个项目有很多问题要解决，我认为这可能会让其他许多人的生活更轻松，而且我还没有在其他任何地方找到这个解决方案。

因此，例如，假设您在 Microsoft SQL Server 2008R2 中有一个名为“Contact-Table”的旧表，它具有如下奇怪的列名：

```
Contact-Table:
    ID_Primary
    First Name
    Last Name 
```

使用 MS SQL 表视图，您可以“重新创建”同一张表。基于 Legacy-Table 创建一个视图；将视图命名为您希望在 Rails 中调用“表”的任何名称，并使用列别名来重命名列。因此，在这里我们可以创建一个名为“联系人”的视图（与 Rails 约定一致），其中包含以下列：

```
contacts:
    id             (alias for ID_Primary)
    first_name     (alias for First Name)
    last_name      (alias for Last Name) 
```

然后在您的 Rails 模型中，您需要做的就是链接到 MS SQL 中的“联系人”表，并且您的列名可以按预期使用。到目前为止，我已经完成了这项工作，它适用于 tiny-tds gem 和 free-tds。我可以查询、创建和更新记录，Rails 关联（has_many/belongs_to 等）也能正常工作。我对使用 MS SQL 表视图而不是我以前使用的其他方法让 Rails 与遗留数据库对话感到非常兴奋！我很想听听其他人的想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T02:55:02.880

免责声明：这是一个*非常*临时的解决方案 - 绝对不是“正确”的事情！

像这样创建视图：

```
CREATE VIEW mymodel AS
    SELECT
        at.someattribute
        , at.someattribute AS "SomeAttribute"
    FROM actual_table at 
```

在 SQL 中使用双引号可以保留大小写。

# php - PHP 文件上传 - .htaccess 允许的文件类型

> ID：15264043
> 
> 赞同：1
> 
> 时间：2013-03-07T05:49:52.327
> 
> 标签：php, image, .htaccess

我有一个网站，允许用户上传图片 - png、jpg、jpeg、gif。我被告知在站点根目录的 .htaccess 文件中包含以下代码（例如：允许与站点有关的所有内容）。这是解决这个问题的最好方法吗？

```
deny from all
<Files ~ "^\w+\.(gif|jpe?g|png)$">
order deny,allow
allow from all
</Files> 
```

基本上我想为上传的文件类型添加一些额外的保护。我知道它不是万无一失的，只是多一点保护……想法？

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:05:38.710

[您可以使用 GD 的函数getimagesize](http://php.net/manual/en/function.getimagesize.php)或[getimagesizefromstring](http://www.php.net/manual/en/function.getimagesizefromstring.php)检查文件何时是图像。然后对于正在上传的每个文件，您检查尺寸。如果您使用的函数返回`false`，则该文件不是图像。

您还可以检查 mime 类型，因此`getimagesize`您可以将图像限制为特定类型。

# ios - UISplitview 控制器在 iOS 4.3 和 5.x 中不旋转。它在 iOS 6.0 上运行良好

> ID：15264047
> 
> 赞同：1
> 
> 时间：2013-03-07T05:50:02.313
> 
> 标签：ios, objective-c, uisplitviewcontroller

我使用 XCode 4.6 中的 Master-Detail Application 模板从模板创建了一个新项目。默认情况下，XCode 4.6 为 iOS 6.x 创建了该项目。

我将部署目标更改为 iOS 4.3 并更改了 .xib 文件，以便它们与 iOS 4.3 一起使用。

当我在 iOS 4.3/5.x 上运行它时，应用程序保持纵向模式并且不会旋转。弹出框（用于 masterViewController）也不会出现在纵向模式中。

请注意，这只发生在 iOS 4.3 和 5.x 上。它在 iOS 6.x 上运行良好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:05:40.377

为了处理 ios 6 以下版本的方向，您需要处理

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation 
```

方法。

我们针对 ios 6 方向的委托方法在早期版本中不会触发。

# meteor - Meteor：如何在多个表中显示一个集合，其中每个表是一组具有相同键值的对象？

> ID：15264048
> 
> 赞同：0
> 
> 时间：2013-03-07T05:50:13.350
> 
> 标签：meteor, collections

假设你有一堆博客文章，每个文章都有一个“标题”和“类别”。您将如何在单个页面上呈现所有帖子标题，其中每组具有相同“类别”值的帖子都有一个表格？

我从按类别排序开始，因此同一类别中的帖子在光标中分组在一起：

```
Template.postLists.posts = function() {
  return Posts.find({}, {sort:{category:1}});
} 
```

但是我正在努力通过 {{#each}} 在模板中迭代这个列表，并使用 Handlebars 来检测我何时到达一个新的“类别”，这样我就可以开始一个新的，然后在我' m 在类别的末尾。

我是以错误的方式来的，还是有一种简单的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T19:33:53.020

我采用的解决方案是，在我的模板处理程序中，我没有使用 Posts.find() 返回游标，而是创建了一个 JSON 对象，该对象具有可以由把手模板处理的结构（一个类别对象数组，其中每个类别有一系列帖子）：

```
Template.postLists.categorizedPosts = function() {
    var allPosts = Posts.find({}, {sort:{category:1}}).fetch();

    // Then I iterate over allPosts with a loop, 
    // creating a new array of this structure:
    // for ...
    var catPosts = [ { category:"cat1", posts: [ {post1}, {post2} ] },
                     { category:"cat2", posts: [ {post3}, {post4}, {post5} ] },
                     // etc... 
                   ];
    // end loop
    return catPosts; 
```

模板是这样的（但使用表格而不是 UL，只是在这里使用 UL 进行更清晰的演示）：

```
{{#each categorizedPosts}}
  {{category}}  
  <ul> 
    {{#each posts}}
    <li>{{posts.title}}</li>
    {{/each}}
  </ul>
{{/each}} 
```

请注意，当您返回这样的对象（而不是 Posts.find() 返回的光标对象）时，Meteor 的模板引擎将失去智能检测集合中只有一个对象何时发生更改的能力，并改为修补 DOM完全重新渲染模板。所以在这种情况下，即使在数据库中更新了单个 Posts 对象，模板也会完全重新呈现。这就是缺点。但好处是它有效；）

# android - 在 android 中向上滚动完整布局的键盘弹出窗口

> ID：15264049
> 
> 赞同：2
> 
> 时间：2013-03-07T05:50:16.367
> 
> 标签：android

我想在将文本焦点编辑到弹出键盘时向上滚动完整布局。我没有找到任何解决方案。我想喜欢 facebook 应用程序。当edittext焦点键盘弹出全屏滚动到顶部时，facebook android应用程序登录页面如下图所示：

键盘弹出前如下图：

![在此处输入图像描述](../Images/c1550067f3d16621eaf061f923f9ae7e.png)

键盘弹出后滚动屏幕向上

![在此处输入图像描述](../Images/9eede02e2177ecd228c4ee77c0cf9233.png)

谁能帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T05:53:50.517

您可以在方法中使用此代码`onCreate()`：

```
getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN); 
```

在 Activity 对应的 android manifest 文件中试试这个。

```
 android:windowSoftInputMode="adjustResize" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-06-07T07:10:01.360

将此代码添加到清单文件中，在您的活动中：

```
android:windowSoftInputMode="adjustPan" 
```

# select - 如何在带有 ng-options 的 select 中使用 ng-class

> ID：15264051
> 
> 赞同：41
> 
> 时间：2013-03-07T05:50:18.490
> 
> 标签：select, angularjs, ng-class

我有一个 Person 对象数组

```
var persons = [
{Name:'John',Eligible:true},
{Name:'Mark',Eligible:true},
{Name:'Sam',Eligible:false},
{Name:'Edward',Eligible:false},
{Name:'Michael',Eligible:true}
]; 
```

我正在使用带有 ng-options 的 select，如下所示：

```
<select ng-model="Blah" ng-options="person.Name for person in persons"></select> 
```

我想用红色显示Eligible **:** **false**的记录。所以问题是我如何使用in来实现这一点？由于我们没有使用任何标签，因此如果我只是添加元素本身，它将无法工作。**`ng-class``select``option``ng-class``select`**

 *** * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-03-07T18:03:16.543

您可以创建一个在处理 ngOptions 指令后处理选项的指令，该指令使用适当的类更新它们。

**更新**：旧代码有一些错误，自从我回答了这个问题后，我学到了一些东西。[这是一个在 1.2.2 中重做的 Plunk（但也应该在 1.0.X 中工作）](http://plnkr.co/edit/rbc4GWBffi4eFYhbvS6u?p=preview)

此处*更新（2013 年 11 月 30 日 3:17）*代码：

```
app.directive('optionsClass', function ($parse) {
  return {
    require: 'select',
    link: function(scope, elem, attrs, ngSelect) {
      // get the source for the items array that populates the select.
      var optionsSourceStr = attrs.ngOptions.split(' ').pop(),
      // use $parse to get a function from the options-class attribute
      // that you can use to evaluate later.
          getOptionsClass = $parse(attrs.optionsClass);

      scope.$watch(optionsSourceStr, function(items) {
        // when the options source changes loop through its items.
        angular.forEach(items, function(item, index) {
          // evaluate against the item to get a mapping object for
          // for your classes.
          var classes = getOptionsClass(item),
          // also get the option you're going to need. This can be found
          // by looking for the option with the appropriate index in the
          // value attribute.
              option = elem.find('option[value=' + index + ']');

          // now loop through the key/value pairs in the mapping object
          // and apply the classes that evaluated to be truthy.
          angular.forEach(classes, function(add, className) {
            if(add) {
              angular.element(option).addClass(className);
            }
          });
        });
      });
    }
  };
}); 
```

以下是您在标记中使用它的方式：

```
<select ng-model="foo" ng-options="x.name for x in items" 
        options-class="{ 'is-eligible' : eligible, 'not-eligible': !eligible }">
</select> 
```

它的工作方式与 ng-class 类似，不同之处在于它是基于集合中的每个项目。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-03-07T10:12:17.900

`ng-repeat`在这种情况下，只有在使用选项标签时才能应用 ng-class ：

```
<select ng-model="Blah">
  <option ng-repeat="person in persons" ng-class="{red: person.Eligible}">
    {{person.Name}}
  </option>  
</select> 
```

这将为您的“合格”人员提供自定义类，但 CSS 不会在浏览器中始终如一地工作。

[笨蛋](http://plnkr.co/edit/WMbyQvfeMnp4YPn6uH9L)。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-12-11T12:35:25.283

I wanted to comment on the accepted answer, but because I don't have enough reputation points, I must add an answer. I know that this is an old question, but comments where recently added to the accepted answer.

For angularjs 1.4.x the proposed directive must be adapted to get it working again. Because of the breaking change in ngOptions, the value of the option isn't anymore the index, so the line

```
option = elem.find('option[value=' + index + ']'); 
```

won't work anymore.

If you change the code in the plunker to

```
<select ng-model="foo" ng-options="x.id as x.name for x in items" 
        options-class="{ 'is-eligible' : eligible, 'not-eligible': !eligible }">
</select> 
```

As result the value of the option tag will now be

`value="number:x"` (x is the id of the item object)

Change the directive to

```
option = elem.find('option[value=\'number:' + item.id + '\']'); 
```

to get it working again.

Of course this isn't a generic solution, because what if you have not an id in your object? Then you will find `value="object:y"` in your option tag where y is a number generated by angularjs, but with this `y` you can't map to your items.

Hopes this helps some people to get their code again working after the update of angularjs to 1.4.x

I tried also to use the `track by` in `ng-options`, but didn't get it to work. Maybe people with more experience in angularjs then me (= my first project in angularjs)?

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-09-23T08:25:37.460

接受的答案对我不起作用，所以我找到了一个没有自定义指令的替代方法`track by`：

```
<select ng-model="foo" ng-options="x.name for x in items track by x.eligible"></select> 
```

现在每个选项都获得值 x.eligible。在 CSS 中，您可以使用 value = true 设置选项的样式（我认为 true 必须是一个字符串）。CSS：

```
option[value="true"]{
    color: red;
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-11-22T09:37:26.887

该指令是一种方式，但我使用了自定义过滤器。如果你知道如何选择你的元素，你应该没问题。挑战是在选择中找到当前的选项元素。我本可以使用“包含”选择器，但选项中的文本对于项目可能不是唯一的。为了按值查找选项，我注入了范围和项目本身。

```
<select ng-model="foo" ng-options="item.name|addClass:{eligible:item.eligible,className:'eligible',scope:this,item:item} for item in items"></select> 
```

在js中：

```
var app = angular.module('test', []);

app.filter('addClass', function() {
  return function(text, opt) {
    var i;
    $.each(opt.scope.items,function(index,item) {
      if (item.id === opt.item.id) {
        i = index;
        return false;
      }
    });
    var elem = angular.element("select > option[value='" + i + "']");
    var classTail = opt.className;
    if (opt.eligible) {
      elem.addClass('is-' + classTail);
      elem.removeClass('not-' + classTail);
    } else {
      elem.addClass('not-' + classTail);
      elem.removeClass('is-' + classTail);
    }
    return text;
  }
})

app.controller('MainCtrl', function($scope) {
  $scope.items = [
    { name: 'foo',id: 'x1',eligible: true},
    { name: 'bar',id: 'x2',eligible: false}, 
    { name: 'test',id: 'x3',eligible: true}
  ];
 }); 
```

在这里你可以[看到它的工作](http://plnkr.co/edit/pvXT4pNDOXT3b8Zdcm1c?p=preview)。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-04-12T14:27:31.813

如果您不仅想以红色显示它们，还想阻止用户选择选项，您可以使用`disable when`：

```
<select 
    ng-model="Blah"
    ng-options="person.Name disable when !person.Eligible for person in persons">
</select> 
```

然后，您可以使用 CSS 设置禁用选项的颜色。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-05-24T05:12:54.240

我知道我参加聚会有点晚了，但对于那些想用纯 CSS 解决这个问题的人，不使用指令你可以像这样创建一个 css 类：

```
select.blueSelect option[value="false"]{
    color:#01aac7;
} 
```

这个 css 规则说：在每个具有类“blueSelect”的“select”中查找 value = false 和标签名称“option”的所有元素，并使文本颜色 #01aac7; （一抹蓝色）

在您的情况下，您的 HTML 将如下所示：

```
<select class="form-control blueSelect" name="persons" id="persons1"
        ng-options="person as person.name for person in $ctrl.persons track by person.Eligible"
        ng-model="$ctrl.selectedPerson" required>
    <option disabled selected value="">Default value</option>
</select> 
```

ng-options 中的 track by 将保存跟踪选项的内容，或每个选项的“值”字段。请注意，根据您的项目需求，您可能需要进行一些调整才能根据您的要求进行这项工作。

但是，当 Eligible 字段有多个具有相同值的选项时，这将无法正常工作。因此，为了完成这项工作，我们创建了一个复合表达式来跟踪，这样我们就可以在每个选项中拥有唯一的值来跟踪。在这种情况下，我们结合了 Name 和 Eligible 这两个字段

所以现在我们的 html 看起来像这样

```
<select class="form-control blueSelect" name="persons" id="persons2"
        ng-options="person as person.name for person in $ctrl.persons track by (person.name + person.Eligible)"
        ng-model="$ctrl.selectedPerson" required>
    <option disabled selected value="">Default value</option>
</select> 
```

和我们的CSS：

```
select.blueSelect option[value*="False"]{
    color:#01aac7;
} 
```

注意 value 旁边的 *，这是一个正则表达式，意思是在 option 元素的 value 字段中的某处找到单词“False”。

**快速编辑** 您还可以使用 ng-options 表达式中的“disable when”来选择禁用 Eligible = False 的选项，例如：

**通过trackexpr**禁用**数组***轨道****中的***值***时***标签***禁用***

 *********我将在您的情况下留下如何使用它，让您了解;-)

这适用于简单的 css 修改，对于更复杂的东西，您可能需要指令或其他方法。经过铬测试。

我希望这可以帮助那里的人。:-)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-02-04T06:16:20.043

由于声誉问题，我无法将其写为评论，但我已经更新了 plunker 以获得可接受的答案以与 Angular 1.4.8 一起使用。感谢 Ben Lesh 的原始答案，它对我帮助很大。不同之处似乎在于较新的 Angular 会生成如下选项：

```
<option class="is-eligible" label="foo" value="object:1">foo</option> 
```

所以代码

```
option = elem.find('option[value=' + index + ']'); 
```

将无法找到该选项。我的更改解析 ngOptions 并确定用于标签的 item 字段，并根据该字段而不是 value 找到选项。看：

[http://plnkr.co/edit/MMZfuNZyouaNGulfJn41](http://plnkr.co/edit/MMZfuNZyouaNGulfJn41)

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2018-04-09T13:42:12.093

我发现了另一种比添加指令或过滤器更容易的解决方法，即为应用样式的 onfocus 事件添加处理程序。

```
angular.element('select.styled').focus( function() {
  angular.element(this).find('option').addClass('myStyle');
}); 
```***********

# diff - 内存耗尽：对于使用 diff 的大文件

> ID：15264062
> 
> 赞同：12
> 
> 时间：2013-03-07T05:50:54.087
> 
> 标签：diff, patch, large-files

我正在尝试使用两个大型文件夹（~7GB）创建一个补丁。

这是我的做法：

```
$ diff -Naurbw . ../other-folder > file.patch 
```

但可能由于文件大小的原因，没有创建补丁并给出错误：

```
diff: memory exhausted 
```

我尝试使空间超过 15 GB，但问题仍然存在。有人可以帮我解决我应该使用的标志吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2015-02-16T10:19:31.997

最近，当我需要区分两个大文件（每个文件 > 5Gb）时，我也遇到了这个问题。

我尝试使用具有不同选项的“差异”，但即使`--speed-large-files`没有效果。其他方法（例如将文件拆分为较小的`xdelta`文件、按照[此建议](https://unix.stackexchange.com/questions/2150/diffing-two-big-text-files)使用或排序文件）也无济于事。我什至得到了一个非常强大的虚拟机（> 72Gb RAM），但仍然出现此`memory exhausted`错误。

我终于通过在`sysctl.conf`( `sudo vim /etc/sysctl.conf`) 中添加以下参数来开始工作：

```
vm.overcommit_memory=1 
```

`vm.overcommit_memory`具有三个值（0,1,2）并设置内核虚拟内存记帐模式。从[proc(5) 手册页](http://man7.org/linux/man-pages/man5/proc.5.html)：

> 0：启发式过度使用（这是默认设置）
> 1：总是过度使用，从不检查
> 2：总是检查，从不过度使用

为确保确实应用了该参数，您可以运行

```
sudo sysctl -p 
```

完成后不要忘记将这个参数改回来！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-06-25T02:23:05.947

`bsdiff`速度慢且需要大内存，`xdelta`为大文件创建大增量。

为大文件尝试 HDiffPatch：[https ://github.com/sisong/HDiffPatch](https://github.com/sisong/HDiffPatch)

*   支持大型二进制文件或目录之间的差异；
*   可以运行在：Windows、macOS、Linux、Android
*   diff 和 patch 都支持使用限制内存运行；

使用示例：

*   创建补丁：`hdiffz -s-256 [-c-lzma2] old_path new_path out_delta_file`
*   应用补丁：`hpatchz old_path delta_file out_new_path`

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2018-05-31T08:35:28.120

试试`sdiff`。它是某些 Linux 发行版中的预构建工具。

```
sdiff a.txt b.txt --output=c.txt 
```

将显示要修改的文件。

这对我来说非常有效。

# javascript - 引导工具提示手动触发器不起作用

> ID：15264063
> 
> 赞同：0
> 
> 时间：2013-03-07T05:50:56.897
> 
> 标签：javascript, jquery, html, css, twitter-bootstrap

我在这里面临一个严重的困境，我在输入标签上使用引导工具提示进行表单验证，即当出现表单验证错误时，工具提示会自动出现在输入标签周围，问题是

1）工具提示仅在第二次调用onBlur时出现或触发，虽然它应该在光标第一次离开输入标签时出现，代码是

```
$("input#formName").each(function() {
     $("#formName").on("blur",this, function(){
        var x=document.getElementById("formName").value;
        //
        if (x==null || x=="")
        {
          var error = "Name Must Not Be Empty"; 
          $('#formName').tooltip({
            trigger: 'manual',
            title: error
            }).on({
                blur: function() {
                    $(this).tooltip('show');
                },
                focus: function() {
                    $(this).tooltip('hide');
                }
            });
        }else{
            $('#formName').data('tooltip',false);
        }

    });

        $("#formName").on("blur",this, function(){
            var y=document.getElementById("formName").value;
            if (y.length < 6){
                var error2 = "Length of Name Must Br Greater than 6";
                $('#formName').tooltip({
                trigger: 'manual',
                title: error2
                }).on({
                    blur: function() {
                        $(this).tooltip('show');
                    },
                    focus: function() {
                        $(this).tooltip('hide');
                    }
                });
            }else{
                $('#formName').data('tooltip',false);
            }
        })

}); 
```

2）我在这里有两个检查，上面的代码只工作一次，而不是每次光标离开特定输入标签时，如代码中那样，即如果第二个条件被触发，然后我把它留空，它应该触发第一个函数即“名称不得为空”，而是与“长度不得大于6”一起使用

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T11:41:55.947

我会将您的覆盖更改为这样的：

```
$("input#formName").each(function() {
     var $this = $(this);
     $this.on("blur",this, function(){
        var x = $this.val();
        var error;

        if (x==null || x=="") { error = "Name Must Not Be Empty"; }
        elseif (x.length < 6) { error = "Length of Name Must Br Greater than 6"; }

        $this.tooltip({
            trigger: 'manual',
            title: error
            }).on({
                blur: function() {
                    $(this).tooltip('show');
                },
                focus: function() {
                    $(this).tooltip('hide');
                }
        });
    });
}); 
```

并将所有输入更改为使用 class( `.formName`) 而不是 id( `#formName`)

# git - Git-daemon - 如何更新克隆的 repo>？

> ID：15264068
> 
> 赞同：1
> 
> 时间：2013-03-07T05:51:20.980
> 
> 标签：git, git-daemon

我需要允许匿名访问一些存储库。我阅读了一些关于 git-daemon 的操作指南和文档，它们使用该`git clone clone --bare`方法并使用 git-daemon 为克隆的 repo 提供服务。这工作正常，通过 aptitude 安装它，它作为 /etc/srv/git-daemon 中的服务运行愉快。

我的问题是，一旦 devel 有更多提交，您如何更新和同步用作公共存储库的克隆实例？

此外，这个 repo 似乎也是可写的（很明显，但肯定并不总是想要），是否可以让 git-daemon 以只读方式服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:01:37.143

要使存储库对所有人只读，仅对某些用户可写，最简单的方法是添加像[gitolite这样的](https://github.com/sitaramc/gitolite)[授权层](http://gitolite.com/gitolite/auth.html)。

您可以将其插入 gitweb，或者只是插入 http(s) 访问，就像我在这个[Apache 配置](https://github.com/VonC/compileEverything/blob/master/apache/env.conf.tpl#L49-L132)中所做的那样，可以设置为需要身份验证。

因此，您可以保留当前的 ​​git-daemon 以进行只读访问，但您可以添加（经过身份验证的）https 访问以用于写入目的，从而允许您精确控制谁可以对哪些 repos 执行什么操作（通过 gitolite）。

您还可以`post-receive`在可写上游仓库中添加一个挂钩，以便将该挂钩连接`cd`到另一个只读仓库，然后执行`git fetch`.

```
#!/bin/bash
export GIT_DIR=/path/to/bare/read-only-repo.git/
cd $GIT_DIR
git fetch --all 
```

# php - 返回数组元素而不创建变量

> ID：15264071
> 
> 赞同：1
> 
> 时间：2013-03-07T05:51:50.767
> 
> 标签：php, arrays

问这个问题我觉得很愚蠢，因为它看起来很基本，但它真的让我很烦。

我有一个方法可以返回一个包含单个元素的数组。我只希望它返回未包含在数组中的元素。我试过这个。

```
return $f->getValue()[0]; 
```

它给出了一个错误，但如果我将它保存到一个变量中，它工作正常。

```
$v = $f->getValue();
return $v[0]; 
```

我想不通……

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T05:58:48.677

它仅从 PHP 5.4 开始可用： http: [//codepad.viper-7.com/VHOW0o](http://codepad.viper-7.com/VHOW0o)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T06:00:22.187

您正在尝试执行的操作称为[数组取消引用](http://php.net/manual/en/language.types.array.php#example-88)，并且仅在 PHP 5.4 版本中才有可能（如果您在我链接到的文档文章中向上滚动几行，您会看到它被提及）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T06:03:16.000

使用[reset()](http://php.net/manual/en/function.reset.php)。

```
<?php return reset( $f->getValue() ); ?> 
```

**编辑：** reset() 可能优于 current()，因为它还确保内部指针被重置，尽管如果数组只包含一个元素，它并没有太大区别。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T05:56:37.833

据我所知，因为您要返回一个数组，所以您只能得到一个数组。您可以改为将数组保存到类中的变量（可通过 访问`$f->myArray`），然后仅返回字符串部分。或者另一种选择是执行第二个示例并返回数组并从中检索字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T06:11:03.310

你试过这个吗

```
 <?php
           return array_shift(array_values($array));
         ?> 
```

[获取数组的第一个元素](https://stackoverflow.com/questions/1921421/get-first-element-of-an-array)

# java - 关于在 system.exit 情况下执行 finally 块也可以通过添加 shutdownhook

> ID：15264076
> 
> 赞同：0
> 
> 时间：2013-03-07T05:52:27.573
> 
> 标签：java, exception

我已经开发了一个程序，其中在 try 块或 catch 块中返回语句的情况最后执行 finally 块但是当我在这种情况下在 try 块中编写 system.exit 时，finally 块没有执行但我仍然想执行，您能否建议我是否需要在这种情况下添加`Runtime.getRuntime().addShutdownHook`我需要添加在任何情况下都应该执行的代码，即使调用 system.exit 也是如此。请指教，下面是我的课

```
public class Hello {
    public static void hello(){
        try{
            System.out.println("hi");
            System.exit(1);
           // return;

            }catch(RuntimeException e)
            {       //return;
        }
        finally{
            System.out.println("finally is still executed at last");
        }
    }
    public static void main(String[] args){
        Hello.hello();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:01:24.053

1) in general you do need a shutdown hook if you want to execute some code after exit

```
public static void main(String[] args) throws Exception {
    Runtime.getRuntime().addShutdownHook(new Thread() {
        @Override
        public void run() {
            System.out.println("bye");
        }
    });
    hello();
} 
```

2) in this concrete case there's no need for shutdown hook, just remove exit from the code

```
public static void hello() {
    try{
        System.out.println("hi");
    } catch (RuntimeException e) {
        //
    } finally{
        System.out.println("finally is still executed at last");
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:03:06.907

when you are calling System.exit(1)

it exits your program and JVM stops the execution of your program by force .

so why would you use System.exit(1) if you want some code to execute after the exit

simply apply some condition within yout try block to exit try block , which leads to finnaly block in every case

# c# - 如何使用 mvc 和 ajax 格式将错误消息服务器端传递到客户端

> ID：15264077
> 
> 赞同：1
> 
> 时间：2013-03-07T05:52:29.727
> 
> 标签：c#, ajax, asp.net-mvc, exception, error-handling

我需要一些工作如下：

1.  我将一些值客户端传递到服务器端（使用 ajax 的 mvc 格式）
2.  在某些操作后检查我的控制器中的值，它需要返回在我的客户端中找不到的检查 id（这是第一个错误消息）。
3.  如果此条件为真，则意味着在下一步中检查另一个条件。
4.  在这种情况下，请检查该值是否为客户提供消息，例如“您是否愿意为同一个学生执行 id '是'对所有人都是''否''对所有人都没有'。
5.  使用此单击操作，我将执行下一个操作。

[我对第 4 步和第 5 步很困惑]。我只是下面给出的示例代码括号，请转发你的大知识。我知道这是凝灰岩之一。谢谢

我的代码：

```
 public ActionResult Action(parameters)
     {
            foreach (var seletedid in id)
            {
                // my code
            }    

            if (1st condition )
            {    
                return Json(new { success = false }); 
                // 1st error message i use like this
                // after that the preform goes to the end
            }
              try
            {                   
                foreach (some code)
                {                      
                  // my code
                    if (2nd condtion (3 point))
                    {
                     // using this i perform the some action herer 
                     }    
                }
           }
              catch (Exception ex)
              {    
                  return null;
              }
              return null;
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:17:00.097

在第一个按钮上单击下面的调用函数：

```
 function MyFunction() {
        $.post('@Url.Action("Action", "Controller")', { pareter1: value1, pareter2:     value2 }, function (json) {
            if (json.Status) {
                var confirm = confirm("would you like perform the id for same student?");
            if (confirm) {
                $.post('@Url.Action("SecondAction", "Controller")', { pareter3: value3, pareter4: value4 }, function (result) {
                    //check the condition and proceed here, if needed.
                });
            }
        });

    }
</script> 
```

如果您正在使用：

```
Ajax.BeginForm("Action", "ControllerName", new AjaxOptions { OnSuccess = "SuccessNotification" }) 
```

然后做：

```
function SuccessNotification(json) {
        if (json.Status) {
            var confirm = confirm("would you like perform the id for same student?");
            if (confirm) {
                $.post('@Url.Action("SectionAction", "Controller")', { pareter3:     value3, pareter4: value4 }, function (result) {
                    //check the condition and proceed here, if needed.
                });
            }
        }

    } 
```

当服务器端返回某些内容时，将调用 SuccessNotification。在这里您可以检查返回数据，并根据您的情况调用下一个方法。

# php - 用于操作系统磁盘和网络路径的 php 文件/文件夹树视图

> ID：15264079
> 
> 赞同：0
> 
> 时间：2013-03-07T05:52:41.340
> 
> 标签：php, filetree

我正在尝试在 CentOS/Linux 中制作 Intranet 应用程序，它允许用户浏览和选择放置在服务器或网络路径上任何位置的文件。

我只需要选择文件，这样我就可以获得放置它的完整路径。用户必须能够像浏览文件夹一样浏览文件夹

```
file --> open --> browse ... 
```

路径可能是..

```
/home/username/
/datadrive/  --> mapped drive etc. 
```

我目前的选择是编码资源管理器[在此处输入链接描述](http://encode-explorer.siineiolekala.net/?lang=en)

但我希望它在`/var/www/html`文件夹外工作。我有什么选择？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T12:34:36.417

在 Encode Explorer index.php 中，根据所需的基本目录编辑第 350 行。

请注意，在 www 文件夹之外工作可能需要您删除可能由 php.ini 或 .htaccess 引入的 open_basedir 限制。

# java - JSF Request Scope Bean 将为每个请求创建新的 bean

> ID：15264080
> 
> 赞同：-1
> 
> 时间：2013-03-07T05:52:44.173
> 
> 标签：java, jsf, concurrency, scope, request

我有一个范围类型为“请求”的 bean 类。

我的是一个单页应用程序，我已经定义了我需要在托管 bean 的类级别的页面上显示的所有属性/属性。例如，这就是我的班级的样子：

```
public class OfferTableContent {

    public String callingApplication;
    public String numberOfOffers;   
    public Offer offer
    public offerLabel
    public HtmlDataTable offerTable;

} 
```

据我所知，如果在类级别定义属性会产生并发问题。

但是，在我的例子中，由于托管 bean 的范围类型是“请求”，我假设每个新请求都会创建一个新的 bean 实例，因此不会遇到并发问题。我的假设是否正确？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:10:51.013

是的，请求范围的 bean 是线程安全的，因为为不同的请求创建了单独的实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:15:50.867

每个 CDI bean 都是线程安全的，这意味着第二个线程需要等待第一个线程终止才能访问该 bean。

但是，@RequestScoped bean 甚至没有这个问题，因为它会在请求结束时被销毁。

# plot - 在它们之间执行数学运算后从两个文件中绘制数据

> ID：15264081
> 
> 赞同：14
> 
> 时间：2013-03-07T05:52:46.567
> 
> 标签：plot, gnuplot

我有

FileSFC1：包含某些数据
FileSFC2：包含某些其他数据

现在我需要做的是将 FileSFC1 的第二列与 FileSFC2 的第二列相除，然后绘制这个结果。所以某种形式的东西：

```
plot ( FileSFC1 using 1:1 / FileSFC2 using 1:1 ) * 100 
```

所以基本上情节将是两个文件中列的百分比。请帮忙。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-07T12:45:35.687

Gnuplot 只能操作来自同一“文件”或数据流的数据列。你可以做的是使用`plot '< bash command'`建筑。当参数以发生的情况`plot`开头时，参数`<`的其余部分被解释为 bash 命令，并且该命令的输出就是绘制的内容。所以：

```
plot '< paste FileSFC1 FileSFC2' u (100*$2/$4) 
```

这假设两个文件都有两列，并且您想要绘制每个文件中第二列的百分比。要对数据列执行操作，语法是将参数括`using`在括号中，并在列号前面加上美元符号。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-02T09:20:40.160

Andyras 的答案就是您要找的答案。

我只是想用这个结构补充一点，你不能使用 bash 的进程替换`<(`，这很遗憾，因为在大多数情况下，你必须做额外的流处理（grepping 或删除行等）

为此，您需要[Gnuplot 和 Bash process-substitution](https://stackoverflow.com/questions/19290333/gnuplot-and-bash-process-substitution)这个问题的答案，我将在这里简要举例说明：

```
# Will concatenante FileSFC1 with the first 200 lines of FileSFC2
plot '< exec bash -c "paste <(cat FileSFC1) <(head -n 200 FileSFC2)"' u (100*$2/$4) 
```

# java - 使用 OpenCMIS 从 Alfresco 搜索任何文档之王的内容

> ID：15264091
> 
> 赞同：1
> 
> 时间：2013-03-07T05:53:26.120
> 
> 标签：java, alfresco, opencmis

在搜索任何类型文档的内容时，是否需要对 Alfresco 的文档进行索引？

因为我正在使用带有 IN_FOLDER('ID') 和 IN_TREE('ID') 的 OpenCMIS 查询来搜索内容，但我只收到 .TXT 文件类型的响应。

我从除 .TXT 之外的所有文件中都找到了 null。这是我从文件夹和树中搜索的代码。

从文件夹：

```
String query ="select * from cmis:document where IN_FOLDER('"+ folder.getId() +"') AND CONTAINS('ABC')"; 
```

从树：

```
String query ="select * from cmis:document where IN_TREE('"+folder.getId()+"') AND CONTAINS('ABC')"; 
```

# android - 崩溃 JSON 解析 Android 应用程序

> ID：15264095
> 
> 赞同：0
> 
> 时间：2013-03-07T05:53:49.967
> 
> 标签：android, json, parsing, crash, android-asynctask

我试图创建一个从 url 获取 json 对象的应用程序。这被证明是不必要的令人沮丧，因为它一直在应该加载和解析 json 对象的活动上崩溃。它只是弹出消息“不幸的是，（AppName）已停止。” 然后退出应用程序。JSON 中的数据永远不会显示在屏幕上。这是带有活动和 JSON 解析的代码

```
package com.example.Accomplist;

import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.RemoteException;
import android.widget.TextView;
import android.widget.Toast;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.util.EntityUtils;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.io.IOException;

/**
 * Created with IntelliJ IDEA.
 * User: DESAI_628IL
 * Date: 3/1/13
 * Time: 7:34 PM
 * To change this template use File | Settings | File Templates.
 */
public class MainScreen extends Activity{
    TextView myTextView;
   // HttpClient client;
    // url to make request
    final static String url = "http://accomplist.herokuapp.com/api/v1/sharedevent/2/?format=json";

    private static final String TAG_EVENT="event"; //A JSON object within the JSON object that will be returned by JSONParse()
    private static final String TAG_DESCRIPTION="description"; //A JSON tag within the JSON object EVENT
    private static String eventString="Yo";
    static JSONObject json;
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main_screen);
        new JSONParse().execute(url);
    }
private class JSONParse extends AsyncTask<String, String, String> {
    HttpClient client;
    JSONObject jsonObj= null;
    @Override
    protected String doInBackground(String... jsonurl) {
        StringBuilder url= new StringBuilder(String.valueOf(jsonurl));
        HttpGet get= new HttpGet(url.toString());
        HttpResponse r= null;
        try {
            r = client.execute(get);
        } catch (IOException e) {
            e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.
        }
        int status= r.getStatusLine().getStatusCode();
        if (status==200){
            HttpEntity e=r.getEntity();
            String data= null;
            try {
                data = EntityUtils.toString(e);
            } catch (IOException e1) {
                e1.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.
            }
            try {
                jsonObj = new JSONObject(data);
            } catch (JSONException e1) {
                e1.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.
            }
            try {
                JSONObject eventJson= jsonObj.getJSONObject(TAG_EVENT);
                eventString= eventJson.getString(TAG_DESCRIPTION);
            }
            catch (JSONException e1) {
                eventString="Couldn't Parse Data";
            }
            return eventString;
        }
        else{
            return eventString;
        }
    }
    protected void onProgressUpdate(String... progress) {
        Toast loadingToast= Toast.makeText(getApplicationContext(), "Loading", Toast.LENGTH_LONG);
        loadingToast.show();
    }
    protected void onPostExecute(String result) {
        eventString=result;
        myTextView = (TextView)findViewById(R.id.textView1);
        myTextView.setText(eventString);
    }
}
} 
```

我希望有人能帮帮忙。我被困在这个问题上的时间最长。我尝试了很多东西。我尝试了从 url 获取 JSON 对象的不同方法，将解析代码放在不同的类中，以及许多其他小事情。任何帮助，将不胜感激。这是 LogCat 错误报告

```
02-26 12:18:46.691: ERROR/ThrottleService(324): problem during onPollAlarm: java.lang.IllegalStateException: problem parsing stats: java.io.FileNotFoundException: /proc/net/xt_qtaguid/iface_stat_all: open failed: ENOENT (No such file or directory)
02-26 12:19:53.601: WARN/dalvikvm(4073): threadid=11: thread exiting with uncaught exception (group=0x40a71930)
02-26 12:19:55.121: WARN/dalvikvm(4073): threadid=12: thread exiting with uncaught exception (group=0x40a71930)
02-26 12:19:57.632: WARN/InputMethodManagerService(324): Got RemoteException sending setActive(false) notification to pid 4073 uid 10048
02-26 12:20:03.452: WARN/dalvikvm(4094): threadid=11: thread exiting with uncaught exception (group=0x40a71930)
02-26 12:20:04.744: ERROR/AndroidRuntime(4094): FATAL EXCEPTION: AsyncTask #1
        java.lang.RuntimeException: An error occured while executing doInBackground()
        at android.os.AsyncTask$3.done(AsyncTask.java:299)
        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:352)
        at java.util.concurrent.FutureTask.setException(FutureTask.java:219)
        at java.util.concurrent.FutureTask.run(FutureTask.java:239)
        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
        at java.lang.Thread.run(Thread.java:856)
        Caused by: java.lang.IllegalArgumentException: Illegal character in path at index 0: [Ljava.lang.String;@40d12070
        at java.net.URI.create(URI.java:727)
        at org.apache.http.client.methods.HttpGet.<init>(HttpGet.java:75)
        at com.example.Accomplist.MainScreen$JSONParse.doInBackground(MainScreen.java:84)
        at com.example.Accomplist.MainScreen$JSONParse.doInBackground(MainScreen.java:78)
        at android.os.AsyncTask$2.call(AsyncTask.java:287)
        at java.util.concurrent.FutureTask.run(FutureTask.java:234)
        ... 4 more
02-26 12:20:10.512: WARN/InputMethodManagerService(324): Got RemoteException sending setActive(false) notification to pid 4094 uid 10048
02-26 12:20:24.401: WARN/dalvikvm(4111): threadid=11: thread exiting with uncaught exception (group=0x40a71930)
02-26 12:20:24.441: ERROR/AndroidRuntime(4111): FATAL EXCEPTION: AsyncTask #1
        java.lang.RuntimeException: An error occured while executing doInBackground()
        at android.os.AsyncTask$3.done(AsyncTask.java:299)
        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:352)
        at java.util.concurrent.FutureTask.setException(FutureTask.java:219)
        at java.util.concurrent.FutureTask.run(FutureTask.java:239)
        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
        at java.lang.Thread.run(Thread.java:856)
        Caused by: java.lang.IllegalArgumentException: Illegal character in path at index 0: [Ljava.lang.String;@40d12038
        at java.net.URI.create(URI.java:727)
        at org.apache.http.client.methods.HttpGet.<init>(HttpGet.java:75)
        at com.example.Accomplist.MainScreen$JSONParse.doInBackground(MainScreen.java:84)
        at com.example.Accomplist.MainScreen$JSONParse.doInBackground(MainScreen.java:78)
        at android.os.AsyncTask$2.call(AsyncTask.java:287)
        at java.util.concurrent.FutureTask.run(FutureTask.java:234)
        ... 4 more
02-26 12:20:29.411: WARN/InputMethodManagerService(324): Got RemoteException sending setActive(false) notification to pid 4111 uid 10048 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:06:32.423

试试这个

```
new JSONParse().execute(""); 
```

代替

```
new JSONParse().execute(url); 
```

您可以粘贴您的 logcat 消息，以便我可以更准确地帮助您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:07:38.833

尝试这样的事情..

```
HttpClient client = new DefaultHttpClient();
        // Perform a GET request for a JSON list
        HttpUriRequest request = new HttpGet("https://somejson.json");
        // Get the response that sends back
        HttpResponse response = null;
        try {
            response = client.execute(request);
        } catch (ClientProtocolException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        } catch (IOException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:11:53.903

中的参数`doInbackgroud()`像数组一样工作，因此您可以在调用方法时将多个参数传递给该`execute`方法`AsyncTask`。第一个传递的参数将存储在`0th`位置上，依此类推。由于您只将一个参数传递给执行方法，因此该参数将存储在`0th`位置...所以您需要从中获取 URL`jsonurl[0]`

尝试

```
StringBuilder url= new StringBuilder(String.valueOf(jsonurl[0])); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T06:12:08.850

将您的 doInBackground 方法更改为：

```
 @Override
    protected String doInBackground(String... jsonurl) {
     StringBuilder url= new StringBuilder(String.valueOf(jsonurl[0]));
      HttpGet get= new HttpGet(url.toString());
      HttpResponse r= null; 
```

目前您传递了错误的 url 来获取数据表单 web 服务。请参阅以下内容以了解我们如何从 doInBackground 方法中的[varargs获取值](http://java.sun.com/j2se/1.5.0/docs/guide/language/varargs.html)

[参数列表中的“...”是什么意思？doInBackground（字符串...参数）](https://stackoverflow.com/questions/3960236/what-does-the-mean-in-a-parameter-list-doinbackgroundstring-params)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T06:16:14.483

你还没有得到你的 Http 客户端

放

`HttpClient httpClient = new DefaultHttpClient()`; 在你的 doInBackGround()

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T06:17:06.957

你有2个错误

```
1\. StringBuilder url= new StringBuilder(String.valueOf(jsonurl[0])); 
  // jsonurl[0]

2\. client = new DefaultHttpClient();                                
   // Add this line too 
```

# python - 在 Mac OS X 10.6.8 中使用 python virtualenv

> ID：15264098
> 
> 赞同：0
> 
> 时间：2013-03-07T05:53:56.290
> 
> 标签：python, django, virtualenv

我正在学习 Django（使用 1.4.5 版，bitnami 堆栈）和 Python（2.7.3），并第一次尝试使用 virtualenv（1.8.4 版）。我已经使用 pip 安装了 virtualenv，它似乎安装得很好。但是，当我尝试创建一个新的 virtualenv 环境时，我似乎遇到了问题。这是我得到的错误：

尝试1：

```
$ python virtualenv.py ENV
/Applications/djangostack-1.4.5-0/python/bin/.python2.7.bin: can't open file 'virtualenv.py'
[Errno 2] No such file or directory. 
```

尝试2：

```
$ virtualenv venv --distribute
dyld: Library not loaded: /bitnami/djangostack-osx-x64/output/python/lib/libpython2.7.dylib
Referenced from: /Applications/djangostack-1.4.5-0/python/bin/.python2.7.bin
Reason: image not found
Trace/BPT trap 
```

我搜索了virtualenv.py，发现它位于：/Applications/djangostack-1.4.5-0/python/lib/python2.7/site-packages/

尝试 3：我可以从命令行 cd 到这个文件夹并运行以下命令在 myproject_dir 文件夹中创建一个新环境：

```
$ python virtualenv.py myproject_dir 
```

与尝试 1 和 2 不同，尝试 3 实际上似乎有效，但不是最佳的。所以，我的结论是，不知何故，对于尝试 1 和 2 中的命令，系统正在寻找错误的位置。我的感觉是需要在某处更改设置以指向 virtualenv.py 文件的正确位置，但我不确定在哪里查看以及如何实际进行更改？我查看了该站点和 Google 上的其他解释，但仍然不确定我对问题的诊断是否正确以及如何实际解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:14:57.110

尝试一个，不要那样做，这样做：

```
virtualenv ENV 
```

尝试两次表明您的 python 路径像@Thai Trans 所说的那样混乱。我会确保你从 virtualenv 调用正确的 python

```
virtualenv -p /path/to/bitnami/python ENV 
```

`--distribute`在您正常`virtualenv`工作之前不要担心标志。

# system - 客房预订系统 - 想法（非技术性）

> ID：15264104
> 
> 赞同：0
> 
> 时间：2013-03-07T05:54:20.513
> 
> 标签：system

需要关于房间预订系统的建议。发布它是因为我在 SO 中找不到类似的问题。

**问题：**我可以使用 wordpress 并使用 php/mysql 创建自己的插件来实现非常简单直接的房间预订系统（4 页工作流程）吗？如果不是什么是possibilites，请建议。

如果帖子不在正确的论坛中，请随时关闭它或重定向我。

**背景：**我在一家非营利组织兼职（我没有得到报酬，这只是在我空闲时间为社区服务）。他们拥有一处拥有约 20-30 间客房的小型物业，并使用 Google 驱动器手动管理他们的客房预订。

我建议他们建立一个在线预订门户。这是一个服务项目，以增强我的技术简历并帮助某人。

**我的技术能力**——HTML、CSS、VB、SQL、PL-SQL（很久以前），我是一名自动化测试人员，编程技能非常好。

**项目截止日期**- 4 到 6 个月。（我每周花费大约 15 小时）

PS：如果这超出了我的能力，我会要求他们外包。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T01:31:09.967

您是否查看过 SourceForge 等，看看您是否可以免费获得现成的系统？

您可能需要对其进行一些调整，但它可能仍然是启动和运行某些东西的最快和最简单的方法。不过，您的技能似乎还不错（VB 适合 Windows 应用程序，您需要 PHP 用于基于 Web 的应用程序）。

看一眼

*   [会议室预订系统](http://mrbs.sourceforge.net/)是一个免费的 GPL 网络应用程序，使用 PHP 和 MySQL/pgsql 来预订会议室或其他资源。
*   [会议室预订系统](http://sourceforge.net/projects/reservation/)，一个用于学习目的的模拟项目。
*   [phpScheduleIt](http://sourceforge.net/projects/phpscheduleit/)，一个基于网络的资源调度系统
*   [OpenRoom](http://sourceforge.net/projects/openroom/)为管理和预订房间提供了一个简单的在线界面
*   RoomTimes 是一个 php 编写的应用程序，您可以使用它管理任何组织的房间

或者你可能想[为其他人谷歌](https://www.google.com.sg/#q=freeware+room+reservation)

# terminal - 解释 Bash 命令 ${PATH}：

> ID：15264107
> 
> 赞同：0
> 
> 时间：2013-03-07T05:54:30.793
> 
> 标签：terminal, .bash-profile

为了使命令行功能的快捷方式使其在我的 mac 中随处可用，我通常在`~/.bash_profile`

要包含一个终端执行文件，我通常使用：`alias yiic='~/Script/Yii/1.1.13/yiic'`
`yiic`是终端执行文件。

然后现在我有来自另一个站点的示例：`export PATH=${PATH}:/development/sdk/android-sdk-macosx/tools`

我理解这个命令就像导入目录中的所有执行文件`tools`，但它的含义是`${PATH}:`什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T04:42:52.813

`${PATH}`是您的计算机将查看的其他文件夹。它由您的操作系统自动设置。如果您在终端中执行以下命令，您将看到您的计算机查找的所有文件夹：

```
echo $PATH 
```

# javascript - 更新骨干集合

> ID：15264108
> 
> 赞同：1
> 
> 时间：2013-03-07T05:54:35.877
> 
> 标签：javascript, jquery, backbone.js

我有一个返回 JSON 对象数组的 Restful 服务。该服务允许用户指定最大结果和数据分页。我将此服务映射到一个集合，并将 max_result 默认设置为 10 和第 1 页。我现在想从下一页获取数据并更新/更改集合中的模型我该怎么做。骨干集合：

```
define(['backbone','models/Video'],function(Backbone,Video) {
return Rock = Backbone.Collection.extend ({
    model:Video,
    url:"/root/max_result/page"
});
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:23:12.230

所以 url 看起来像`'/root/10/2'`第 2 页？

```
define(['backbone','models/Video'],function(Backbone,Video) {
  return Videos = Backbone.Collection.extend ({
    model:Video,
    initialize: function(models, options){
        // get options.genre or use 'rock' as default
        this.genre = options && _.has(options, 'genre') ? options.genre : 'rock';
    },
    fetch: function(options){
       // make sure we have options object
       options = options ? _.clone(options) : {};

       // if no url in options, create url using options.page
       if(!_.has(options, 'url')){
         options.url = "/" + this.genre + "/10/" + options && _.has(options, 'page') ? options.page : 1;
       }

       return Backbone.Collection.prototype.fetch.apply(this, [options]);
    }
  });
});

// fetch page 3
var rock = new Videos(null, {genre: 'rock'});
rock.on('reset', function(){
    // each time you fetch, this will be called.
});
rock.fetch({page:3}); 
```

# ios - 如何避免在 NSNumberFormatter 中四舍五入

> ID：15264109
> 
> 赞同：12
> 
> 时间：2013-03-07T05:54:41.823
> 
> 标签：ios, trim, nsnumberformatter, decimal

我正在尝试使用最大 2 位小数精度的数字字符串，而其余小数只是修剪掉而不是四舍五入。例如：

`I have: 123456.9964`

`I want: 123456.99 -> Just want to trim rest of the decimal places`

我尝试过的是：

```
NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];
[numberFormatter setNumberStyle: NSNumberFormatterDecimalStyle];
[numberFormatter setMaximumFractionDigits:2];
NSString *numberAsString = [numberFormatter stringFromNumber:[NSNumber numberWithFloat: 123456.9964]];
 NSLog(@"%@", numberAsString); 
```

没有什么可以将舍入模式设置为“无”。我还能做些什么来保持十进制样式格式以及修剪的十进制数字？任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-07T06:34:24.690

以下对我有用：

```
NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];
[numberFormatter setNumberStyle:NSNumberFormatterDecimalStyle];
[numberFormatter setMaximumFractionDigits:2];
// optional - [numberFormatter setMinimumFractionDigits:2];
[numberFormatter setRoundingMode:NSNumberFormatterRoundDown];
NSNumber *num = @(123456.9964);
NSString *numberAsString = [numberFormatter stringFromNumber:num];
NSLog(@"%@", numberAsString); 
```

输出为：123,456.99

您的部分问题是使用 of`numberWithFloat:`而不是`numberWithDouble:`. 您的号码的位数过多`float`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:35:00.350

你可以用这个

```
NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];
[numberFormatter setRoundingMode:NSNumberFormatterRoundDown];
[numberFormatter setMaximumFractionDigits:2];
NSString *numberAsString = [numberFormatter stringFromNumber:[NSNumber numberWithDouble: 123456.9964]];
NSLog(@"%@", numberAsString); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:06:10.897

```
[numberFormatter setRoundingMode: NSNumberFormatterRoundDown]; 
```

使用此代码。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-04-05T15:24:39.767

您也可以只使用 round() 然后将其转换为字符串

```
var y = round(100 * 123456.8864) / 100

var x:String = String(format:"%.2f", y)
println("x: \(x)") 
```

将打印 x: 123456.89，将 8 舍入为 9。

# java - java中的正则表达式解析字符串

> ID：15264114
> 
> 赞同：2
> 
> 时间：2013-03-07T05:54:57.990
> 
> 标签：java, regex

我正在使用 Java。我需要使用 regex 解析以下行：

```
<actions>::=<action><action>|X|<game>|alpha 
```

它应该给我标记`<action>`, `<action>`,`X`和`<game>`

什么样的正则表达式会起作用？

我正在尝试类似的东西：`"<[a-zA-Z]>"`但这并不关心`X`or `alpha`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T06:18:32.087

你可以尝试这样的事情：

```
String str="<actions>::=<action><action>|X|<game>|alpha";
str=str.split("=")[1];
Pattern pattern = Pattern.compile("<.*?>|\\|.*?\\|");
Matcher matcher = pattern.matcher(str);
while (matcher.find()) {
    System.out.println(matcher.group());
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:16:04.727

你应该有这样的东西：

```
String input = "<actions>::=<action><action>|X|<game>|alpha";
Matcher matcher = Pattern.compile("(<[^>]+>)(<[^>]+>)\\|([^|]+)\\|(<[^|]+>)").matcher(input);
while (matcher.find()) {
     System.out.println(matcher.group().replaceAll("\\|", ""));
} 
```

您没有指定是否要返回*alpha*，在这种情况下，它不会返回它。

`|\\w*`您可以通过添加到我写的正则表达式的末尾来返回 alpha 。

这将返回：

```
<action><action>X<game> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:08:23.370

从原始模式来看，不清楚你的意思是否真的有 <> 在模式中，我会接受这个假设。

```
String pattern="<actions>::=<(.*?)><(.+?)>\|(.+)\|<(.*?)\|alpha"; 
```

对于 java 代码，您可以使用 Pattern 和 Matcher：这是基本思想：

```
 Pattern p = Pattern.compile(pattern, Pattern.DOTALL|Pattern.MULTILINE);
   Matcher m = p.matcher(text);
   m.find();
   for (int g = 1; g <= m.groupCount(); g++) {
      // use your four groups here..
   } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T06:20:52.763

您可以使用以下 Java 正则表达式：

```
Pattern pattern = Pattern.compile
       ("::=(<[^>]+>)(<[^>]+>)\\|([^|]+)\\|(<[^>]+>)\\|(\\w+)$"); 
```

# c# - 无法使用编码 UI 识别 Winforms 2000 应用程序上的 WinTable

> ID：15264117
> 
> 赞同：1
> 
> 时间：2013-03-07T05:55:13.323
> 
> 标签：c#, winforms, automation, coded-ui-tests

我正在为我们在 WinForms 2000 中开发的一个应用程序开发一个自动化测试套件。我已经能够或多或少地使用除 WinTable 之外的每个控件。当我使用 Coded UI Test Builder 时，我无法识别该表。唯一被识别的对象是控件类型为客户端的父控件。

我想要任何可以使用的建议或解决方法。

我确实读过一个解决方法来让它工作，是创建一个自定义控件并实现所需的可访问性。我还没有能够做到这一点。

我很乐意为您提供任何帮助。

干杯。

# c# - 在不创建单独项目的情况下使用 Nunit

> ID：15264118
> 
> 赞同：5
> 
> 时间：2013-03-07T05:55:14.453
> 
> 标签：c#, asp.net, unit-testing, nunit

我正在创建一个 Web 应用程序，其结构如下图所示：

![结构](../Images/edfbc969e2959455a73a21778b71cec1.png)

我在文件夹中有所有实体和数据存储文件`App_Code`。即没有创建单独的项目层。我想使用 Nunit 进行单元测试。但是对于我需要的 NUnit 测试`projectname.dll`，我的 Web 应用程序不会创建 dll，我不知道如何测试我的方法。

如果我为单元测试创​​建一个单独的项目，我无法引用该项目中的数据存储和其他文件。请建议我在这种情况下如何使用 Nunit。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T05:59:41.247

请检查：[单元测试 ASP.net 网站项目代码存储在 App_Code 中](https://stackoverflow.com/q/1198555/297114)。

您还可以创建另一个项目，仅用于单元测试目的。创建它时，只需将所有必需的文件（在 中`App_Code`）[作为链接](https://stackoverflow.com/a/15132039/297114)包括在内。这样您将创建快捷方式，因此如果您修改项目中的一个文件，您创建的另一个项目将反映更改。

# github - 如何从 github 存储库获取更新？

> ID：15264119
> 
> 赞同：1
> 
> 时间：2013-03-07T05:55:18.723
> 
> 标签：github

我已经安装`GitHub Client`到我的系统上。

我很容易将我的更改提交到存储库。但是我的同事试图获取我的更新，他无法从存储库中获取应用程序。

我们有 GitHub 私有存储库。

请让我知道以解决此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:03:57.380

[在点击此链接](https://stackoverflow.com/questions/7244321/how-to-update-github-forked-repository)之前已经提出了类似的问题，希望它可以帮助您。

基本流程是这样的。

```
# clone the repository (from github, for example)
git clone git@github.com:username/reponame.git
cd reponame    

# edit some files

# add them to the index
git add file1.txt
git add file2.gif

# review your changes
git status    

# commit the changes
git commit -m "Decription of my change"

# push them back to the remote repository
git push origin master 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:46:41.577

如果您的同事应该：

*   访问您的私人仓库
*   能够直接向该私人仓库回馈（git push）

您应该将他/她添加到该项目的合作者列表中：请参阅“ [GitHub 帮助页面](https://help.github.com/articles/how-do-i-add-a-collaborator)”。

请注意，用户始终可以在私有存储库上进行协作，即使是免费计划也是如此。
即，如果用户有一个 GitHub 帐户（甚至是免费帐户），他/她可以被添加到*私有*存储库中。

# php - smarty 从 while/section 循环中发布数据

> ID：15264127
> 
> 赞同：0
> 
> 时间：2013-03-07T05:56:06.927
> 
> 标签：php, templates, loops, smarty

我有一个智能页面，它遍历数据库中的一个表。对于每一行，我都有一个提交按钮。如果我单击提交按钮，它应该只回发该行的数据。问题是它每次都回发最后一行。它无法区分每行的差异。有任何想法吗？

这是我的代码：

```
 <!--{section name=ct  loop=$data}-->
    <tr>
    <td><center><!--{$data[ct].id}--></center></td>
    <td><!--{$data[ct].name}--></td>
    <td><!--{$data[ct].cars}--></td>
    <td><!--{assign var=key value=$data[ct].id}-->       
    <input type="hidden"  name="id" value="<!--{$key}-->">
    <a href="javascript:;" 
onclick="javascript:erase();return false;">DELETE</a>
    </tr>
    <!--{/section}--> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:23:14.160

由于您有多个具有相同名称的输入字段，它始终会覆盖前一个字段，因此您始终会获得最后一个字段的值。

解决方案 ：

```
<a href="server_page.php?id={$key}" onclick="javascript:erase();">DELETE</a> 
```

在您的服务器页面中获取此 ID，`$id= $_GET['id'];`在您的数据库中使用并删除。

# c# - windows server 2008 r2 上的远程用户日志信息

> ID：15264129
> 
> 赞同：1
> 
> 时间：2013-03-07T05:56:19.900
> 
> 标签：c#, wmi, windows-server-2008-r2

目前我们有一台装有 Windows Server 2008 r2 操作系统的服务器。现在有很多人从远程位置使用此服务器。现在我对 WMI 类有了一些了解，它提供了有关用户登录 (Win32_LogonSession) 的信息，但它没有提供我想要的信息。就像我想要用户登录时间、注销时间、远程位置 IP 地址（这样我就可以猜测它是否是理想的位置）。

如果我能在 WMI 的帮助下做到这一点，请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T05:59:54.357

使用 PowerShell 扫描远程事件日志，这里有一篇推荐 Get-WinEvent 而不是 Get-EventLog 的文章：

[http://blogs.technet.com/b/heyscriptingguy/archive/2011/01/24/use-powershell-cmdlet-to-filter-event-log-for-easy-parsing.aspx](http://blogs.technet.com/b/heyscriptingguy/archive/2011/01/24/use-powershell-cmdlet-to-filter-event-log-for-easy-parsing.aspx)

Get-WinEvent 显然在通过网络提取结果之前在远程计算机上进行过滤，这应该更快。但是 Get-WinEvent 需要 Vista 或更高版本。

引用自[http://social.technet.microsoft.com](http://social.technet.microsoft.com)

# function - 用于查找弹簧组合的 For-Loop？

> ID：15264137
> 
> 赞同：0
> 
> 时间：2013-03-07T05:57:04.190
> 
> 标签：function, matlab, for-loop

我需要在函数中使用 for 循环，以便找到所有可能的串联和并联弹簧组合的弹簧常数。我有 5 个带有数据的弹簧，因此我通过使用 polyfit 找到斜率（使用 F=Kx）在新矩阵中找到了每个弹簧的弹簧常数 (K)。

我创建了一个这样做的函数，但是它返回的数据不是矩阵，而是作为单独的输出。所以不是 KP (Parallel)= [1 2 3 4 5] 它说 KP=1、KP=2、KP=3 等。因此，只有最终输出存储在我的工作区中。这是我为该功能提供的代码。请记住，我需要在 for 循环中为 b 使用 +2 的原因是因为我的原始矩阵 K 具有所有弹簧常数是十列，每个奇数都是 0。例如：K=[1 0 2 0 3 0 4 0 5] --- 这是因为我找到 K（斜率）的原始数据集是十列宽。

```
function[KP,KS]=function_name1(K)
L=length(K);
c=1;
for a=1:2:L
    for b=a+2:2:L
        KP=K(a)+K(b)
        KS=1/((1/K(a))+(1/K(b)))
    end
end
c=c+1; 
```

然后是一个调用该函数的程序

[KP,KS]=函数名1(K);

我尝试了什么： - 抑制和解除抑制代码行（不成功）

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:45:18.767

嗯……

您的代码似乎可行，但您没有以最实际的方式处理事情

我将开始重新调整 K 的尺寸以使其有意义，即它的宽度为 5 个空格，而不是您当前的 10 个空格 - 您将在一分钟内了解原因。

然后我将 KP 和 KS 调整到你想要的大小（我将做一个 5X5，因为这会给出所有的排列 - 现在看起来你正在做一些三角形的事情，我不会太担心关于空间，除非您要为 50,000 个左右的弹簧常数执行此操作）

所以我的代码看起来像这样

```
function[KP,KS]=function_name1(K)
L=length(K);
KP = zeros(L);
KS = zeros(l);
c=1;
for a=1:L
    for b=1:L
        KP(a,b)=K(a)+K(b)
        KS(a,b)=1/((1/K(a))+(1/K(b)))
    end
end
c=c+1; 
```

那么当你想要弹簧 1 和 4 的平行组合时，KP(1,4) 或 KP(4,1) 就可以了

# javascript - 验证复选框

> ID：15264138
> 
> 赞同：0
> 
> 时间：2013-03-07T05:57:14.767
> 
> 标签：javascript, validation

我正在尝试验证表单，以便用户必须选择至少 2 个夏季活动，如果没有，将显示一个弹出窗口。[这是我的代码](http://jsfiddle.net/U8EhW/1/)。

我的java脚本代码是：

```
function ValidateForm(f) {

    var summer = document.getElementsByName("summer[]");
    var checked = 0;
    for (var i = 0; i < summer.length; i++) {
        if (winter[i].checked) {
            alert("Please select at least 2 summer activities");
        }
        return false;
    }

} 
```

如果有人知道，我的 javascript 有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:04:06.680

试试这个 ：

```
var Checked = $('input:checkbox:checked').length; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:04:40.400

使用此代码，检查它是否适合您：

```
function ValidateForm(f) {

    var summer = document.getElementsByName("summer[]");
    var checked = 0;
    for (var i = 0; i < summer.length; i++) {
        if (winter[i].checked) {
   checked=checked+1            

        }

    }
if(checked<2)
{
alert("Please select at least 2 summer activities");
return false;
}
return true;

} 
```

目前，您只是在测试是否选中了任何复选框，然后返回 false..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:35:55.037

使用 JavaScript 1.6 的数组过滤函数怎么样？

```
var summer =  document.getElementsByName("summer[]"); 
             // or document.querySelectorAll('[name="summer[]"]');

var checked = [].filter.call( summer , function( v ){
    return v.checked;
});

if ( checked.length < 2 ) {
   alert('Please select at least 2 summer activities');
   return false;       
}

return true; 
```

# java - Java ME：如何水平/垂直翻转 svg 图像？

> ID：15264139
> 
> 赞同：0
> 
> 时间：2013-03-07T05:57:39.193
> 
> 标签：java, java-me, matrix, svg

google 最有帮助的结果是[this](http://www.tinyline.com/forum/index.php?topic=59.0)，但在 JavaME 的 SVGMatrix 类中没有`scale()`两个参数可以与此类似：

```
TinyMatrix transform = (TinyMatrix) node.getAttribute(SVG.ATT_TRANSFORM);
transform.scale(-(1<<Tiny2D.DFIX_BITS), 1<<Tiny2D.DFIX_BITS ); 
```

可能可以通过定义我自己的矩阵进行翻转然后使用`mMultiply()`方法来做一些事情，但我也无法在 net.xml 中找到示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:03:57.070

好的，我自己解决了，可以使用嵌入的 SVG 属性进行翻转：

```
SVGImage svgImage = (SVGImage) this.frames.elementAt(i);
Document doc = svgImage.getDocument();
SVGSVGElement svg = (SVGSVGElement) doc.getDocumentElement();
SVGElement image = (SVGElement) doc.getElementById("image");
SVGElement group = (SVGElement) doc.createElementNS(SVG_NAMESPACE_URI, "g");
group.appendChild(image);
group.setTrait("transform", "translate(200,200) scale(-1,1)");
svg.appendChild(group); 
```

# ios - 使用 glDrawElements (iOS) 重用相同的缓冲区

> ID：15264140
> 
> 赞同：1
> 
> 时间：2013-03-07T05:57:40.077
> 
> 标签：ios, opengl-es, vbo

是否可以创建一个**VBO**`glDrawElements`并在同一渲染周期的调用之间重用它？（我尝试并获得了奇怪的结果）。下面的示例缺少绑定等。

**初始化代码（只执行一次）** * *:* *

```
glGenBuffers(...)

glBufferData(...) 
```

**渲染帧代码（每帧执行）：**

```
glMapBufferOES(...)
//... Update buffer from index 0 to X
glDrawElements(...)
//... Update buffer from index 0 to Y
glDrawElements(...)
[context presentRenderbuffer:GL_RENDERBUFFER_OES]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:09:58.780

您需要在绘制缓冲区之前取消映射。如果您不取消映射，这可能就是您使用`glDrawElements`.

[http://www.opengl.org/sdk/docs/man/xhtml/glMapBuffer.xml](http://www.opengl.org/sdk/docs/man/xhtml/glMapBuffer.xml)

调用后`glDrawElements`，您可以重新映射缓冲区并再次填充它。

通过不立即重用缓冲区，您可能会获得更好的性能。抽签后立即重新映射可能会阻塞，直到抽签完成。

# javascript - 查找图像的最常见颜色

> ID：15264142
> 
> 赞同：8
> 
> 时间：2013-03-07T05:57:55.830
> 
> 标签：javascript, html, canvas

我在一个页面上有一堆具有 200x200 图像的产品。我的第一次运行是获取每个像素的数据（嵌套 for 循环，一个用于 x，一个用于 y），然后将 rgb 转换为十六进制，并将它们存储在一个数组中，然后获取最常见的一个。此脚本需要一次在每页上运行 96 个项目。

目前，它创建一个画布并将产品图像放入该画布中，然后执行上述操作。

是否有某种平均算法可以使这更快？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-07T06:26:22.190

是的！

Lokesh Dhakar 创建了一个名为“color thief”的脚本，用于计算图像的主色。它使用改进的中值切割量化算法 (MCCQ) 来快速聚类颜色并确定主色（甚至整个调色板）。

这里有一个演示：http: [//lokeshdhakar.com/projects/color-thief/](http://lokeshdhakar.com/projects/color-thief/)并且脚本在 github 上可用：[https ://github.com/lokesh/color-thief](https://github.com/lokesh/color-thief)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-01T20:06:43.417

我知道这听起来很容易使用库，但我找到了一个更简单的解决方案，几乎可以达到目的。当您应用模糊滤镜时，它的作用是取像素强度的平均值。因此，如果您对具有相当高像素值的图像应用模糊，例如

```
filter:blur(30px); 
```

或者

```
filter:blur(50px); 
```

或任何适合的东西，它会平均整个图像，并为您提供纯色背景色，这在大多数情况下是图像中的突出颜色。

它的操作要简单得多，并且几乎总是可以工作。只需尝试修改模糊量。

还要记住将 overflow-y 设置为隐藏，因为高模糊会导致图像外部出现白色填充。隐藏溢出将解决这个问题。

希望有帮助:)

# php - 如何根据要求在浏览器的两个输出文件中显示服务器发送的socket数据？

> ID：15264145
> 
> 赞同：0
> 
> 时间：2013-03-07T05:58:04.067
> 
> 标签：php, javascript, sockets, websocket

我正在使用 websockets 在 php 中设计一个聊天程序。在客户端，我想在两个不同的输出字段中显示聊天和在线用户。由于聊天消息和在线用户是使用相同的 socket_send() 方法从服务器发送的，那么当我在客户端收到套接字的数据时，如何在客户端区分服务器是否发送了在线用户或聊天消息，以便我可以在两个不同的输出字段中显示它们。

希望你能明白我想说什么。我在客户端使用javascript。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T13:35:57.747

在您的情况下，WebSocket 连接类似于现实世界中的空气。WebSocket 消息对应于声音。当人们发出声音时，这些声音会通过空气传播到其他人的耳朵。

但是，为了让我们理解其他人的声音是什么意思，我们开发了一种可以称为通信协议的东西。我们开发了单词并给了它们发音。因此，发声者能够将他们的想法转化为声音。接收者能够将这些声音转换回意义。

到目前为止，您的客户端和服务器之间有空气，即 WebSocket。你可以发出声音（发送消息）。但到目前为止，两者都缺少一个通信协议，一个共同的理解。你必须提供那个。没办法。你会意识到这可能成为一项相当复杂的任务。

尽管如此，在含义、声音（在您的情况下为“消息”）和反之亦然之间扮演上帝并设计转换规则是很有趣的。

所以，继续，发明一个协议。这是其他人说的。您应该想出某些对象类型，例如`User`and `Message`，您将为消息分配属性，例如`sender`and `recipient`。然后，您很可能会以某种形式对这些对象进行编码，将它们放入消息中并在客户端和服务器之间发送这些消息。

客户端**和**服务器都需要了解您的基本对象类型，并且需要知道对象在这些消息中是如何编码的。

# javascript - jQuery .load 页面然后使用标签导航到锚点

> ID：15264154
> 
> 赞同：0
> 
> 时间：2013-03-07T05:58:56.307
> 
> 标签：javascript, jquery

我需要一个 jQuery 函数的帮助，它允许我使用主题标签滚动到 .load() 页面上的锚点。

基本上有人点击主页链接，它会打开一个模型窗口，他们用它来浏览网站的其余部分。然后，此窗口使用相同的代码打开站点上的任何其他链接。我知道这些链接的格式不是最佳的，但这是我需要使用的。

我有以下代码显示在模型窗口中。

```
<div id="pop-top-menu">
  <p class="p_text">
    <a href="javascript:pop('properties.php#<?php echo strip_tags($_GET['property']); ?>');">Go Back</a> |
    <a href="javascript:pop('properties.php');">View by Resorts</a> |
    <a href="javascript:pop('private-homes.php');">View our Private Homes</a> |
    <a href="javascript:pop('rental-coupons.php');">View our Properties with Discount Coupons</a></p>
</div> 
```

当有人单击其中一个链接时，它将通过以下代码：

```
function pop(id) {
        $("#body-cover").fadeIn(1000);
        $("#slide-content").load(id).slideDown(1000);
        $("#slide-content-close").delay(2000).fadeIn(1000);
    } 
```

所以我需要让访问者点击**properties.php#property_id**并加载页面 properties.php 然后导航到锚标记。不是所有的链接都会有锚点，但很多会有。

请注意，这不是基于锚的导航。这是加载一个链接，然后导航到提供的锚点（如果存在）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:34:55.227

未经测试，但是当我正确理解您的问题时，您可以像这样修改 pop 函数：

```
function pop(id) {
    // Expression to test if id has a hashtag
    var hasHash = /(#([^ ]*)/, 
        $hashID;
    $("#body-cover").fadeIn(1000);
    $("#slide-content").load(id).slideDown(1000);
    $("#slide-content-close").delay(2000).fadeIn(1000);
    if(hasHash.test(id)!== false) {
        // hasfound - grep it, and make a jQuery Object
        $hashID = $('#' + id.split('#')[1]);
        if($hashID.length) {
            // if it is found, scroll to this element with an animation
            // in case you just want a jump, simply set scrollTop 
            // and remove the animate method
            $('html, body').animate({
                 scrollTop: $hashID.offset().top
            }, 2000);
        }
    }
} 
```

# php - PHP：如何获取被点击链接的 URL 而不是引用站点的 URL？

> ID：15264161
> 
> 赞同：2
> 
> 时间：2013-03-07T05:59:34.247
> 
> 标签：php, redirect, request, http-referer

如何使用 PHP 获取点击链接的 URL，而不是引用站点的 URL？

我知道这`$_SERVER['HTTP_REFERER']`会给我引荐页面的 URL，但是如何获取在页面上单击的链接的 URL？

例如：

如果您在 google 上并且您得到了一个带您访问的搜索结果，`example.com/search_results_link.php`我如何将其`example.com/search_results_link.php`作为您单击以访问我的网站的 URL，而不仅仅是作为`google.com`from using的引用域`$_SERVER['HTTP_REFERER']`？

# jquery - 如何仅更改具有其他 div 的 div 内的文本

> ID：15264163
> 
> 赞同：5
> 
> 时间：2013-03-07T05:59:40.537
> 
> 标签：jquery, html

我有下面的html。我想做什么取决于一些条件。我想继续更改文本，即`Sometitle`.

```
<div id="header">
    Sometitle
    <div>
        <div>
            aa
        </div>
        <div>
            bb
        </div>
    </div>
</div> 
```

我尝试在下面使用 Jquery，但它也删除了其他 div。

```
$("#header").text("Its a thrusday today !"); 
```

我该怎么做？在任何情况下我都不能修改这个 HTML。我只需要使用 jquery 来完成这件事。

这是我创建的一个 jsfiddle：http: [//jsfiddle.net/qYUBp/](http://jsfiddle.net/qYUBp/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:07:53.917

该文本`Sometitle`是一个孤立节点，您将要在它周围包裹一个元素以正确操作它

```
<div id="header">
    <span>Sometitle</span>
    <div>
        <div>
            aa
        </div>
        <div>
            bb
        </div>
    </div>
</div> 
```

**编辑**

但是由于您很遗憾无法更改 html，您可以按照[另一篇文章](https://stackoverflow.com/questions/4106809/in-jquery-how-can-i-change-an-elements-text-without-changing-its-child-elements#4106910)中的解决方案建议进行操作。他们有一个错字，我在这里更正了：

```
var your_div = document.getElementById('header');
var text_to_change = your_div.childNodes[0];
text_to_change.nodeValue = 'new text'; 
```

检查您[更新的 JsFiddle](http://jsfiddle.net/qYUBp/5/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T06:20:53.427

如果您不希望它在一行中。

```
var tmp=$("#header>div").html();
$("#header").text("its thursday").append('<div>'+tmp+'</div>'); 
```

[jsfiddle](http://jsfiddle.net/arjuncc/qYUBp/6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:09:15.483

试试这个

```
$("#header").html($("#header").html().replace("Sometitle","Its a thrusday today !")); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T06:25:40.543

仅在这种情况下，在呈现到浏览器时

```
var new_s = "Its a thrusday today !";
var s = $("#header").children(":first").html();
$("#header").text(new_s+"<div>"+s+"</div>"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T06:49:39.373

你能检查一下吗

```
headerClone = $("#header").clone();
$(headerClone).find('div').remove();
var currentText = $(headerClone).html().replace(/(\r\n|\n|\r|\t)/gm,"");

newHtml = $("#header").html().replace(currentText,"Gotcha");
$("#header").html(newHtml); 
```

[JSFIDDLE](http://jsfiddle.net/PCXNv/)

# ios - 如何在 iOS 中同步不同的社交网络？

> ID：15264165
> 
> 赞同：0
> 
> 时间：2013-03-07T05:59:47.573
> 
> 标签：ios, objective-c, facebook, twitter, google-plus

我正在开发一个 iOS 应用程序，该应用程序具有许多要集成的社交网络，例如 Facbook、Twitter、Google+、LinkedIn、Tumblr、Wordpress、FourSquare。我的客户需要的是，成员应该在创建他的帐户。一旦他完成了注册过程以及上述步骤，他将获得一个可以登录的帐户。一旦他使用他的用户名和密码登录到应用程序，他就可以在他的应用程序应该共享给所有网络，而不需要相应社交网络的任何其他身份验证对话框。

例如，如果用户 A 已登录应用程序，他的帖子必须分享到他所有的社交网络帐户（例如：A@facebook.com、A@Twitter.com、A@google.com 等），而不需要任何当时的SN对话框，如果用户B已经登录应用程序，他的帖子必须分享到他所有的社交网络账户（例如：B@facebook.com，B@Twitter.com，B@google.com等.) 以类似的方式没有任何 SN 对话框。

有没有办法做到这一点？提前致谢。

-------------------------------------------------- - - - - -更新 - - - - - - - - - - - - - - - - - - - - --------------------- 场景在同一设备中：

第 1 步：用户（比如 A）开始创建帐户 > 验证每个 SDK > 退出

第 2 步：另一个用户（例如 B）开始创建帐户 > 验证每个 SDK > 退出

第 3 步：用户 A > 在应用程序中登录 > 发布一些东西 > 它使用他的帐户发布到所有 SDK

第 4 步：用户 B > 在应用程序中登录 > 发布一些东西 > 它使用他的帐户发布到所有 SDK

所以我的问题是在第 3 步的情况下，SDK 如何知道帖子应该发送到 A 的经过身份验证的社交网络帐户？

与 B 的情况下的步骤 4 类似。

在第 3 步和第 4 步时，用户不应该有身份验证框。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:05:09.253

所以你正在构建一个类似于广播应用程序的东西。你想要的都是可能的。

当您告诉您的用户使用 oAuth 在不同的社交网络中进行身份验证时，请确保获得代表他/她发帖的权限。这样，当用户在您的应用上发布内容时，您将有权代表他发布到各种网络。

我无法帮助您了解具体细节，因为需要研究每个网络的 oAuth 的 API 实现，但我认为您明白了。它相当容易做到。

**更新：**回答你的问题。在您的后端服务器中，您维护用户与其所有社交帐户之间的一对多映射，这本质上是他的 userID->（不同的 oAuth 令牌）。现在，当用户 A 发布内容时，因为您在后端知道他的用户 ID，您可以轻松地获取他用于不同网络的 oAuth 令牌。这不是你想要的吗？希望能解决它。

# oracle - rfc2047 multiple encoded-word in email subject

> ID：15264168
> 
> 赞同：2
> 
> 时间：2013-03-07T05:59:55.927
> 
> 标签：oracle, email

I need to send an email with the Subject containing cyrillic letters. But my recipients sometimes receive incorrect letters due to some problems with mail server and/or client. I always send emails in `windows-1251` encoding, but sometimes a mail client shows letter's Subject and Sender in another encoding (`KOI-8R`) and our users can't understand the message. I tried to use an encoded-word tag as described in RFC 2047 Standard. For example, my Subject field in the email now looks like:

```
Subject: =?WINDOWS-1251?B?wiDt5eTw4PUg8vPt5PD7IOL75PD7IOIg4+Xy8OD1IPL78P/yIOIg4uXk8OAg/+Tw?=
=?WINDOWS-1251?B?4CDq5eTw4C4gwvvw4uDiIPEg4vvk8Psg4iDy8+3k8OUg4+Xy?=
=?WINDOWS-1251?B?8PssIOL78vDzIOL75PDu6SD/5PDgIOrl5PDgLCDi+/Lw8yDj?=
=?WINDOWS-1251?B?5fLw7ukg4vvk8OUg7O7w5PMsIP/k8OAg4iDi5eTw4Cwg4vvk?=
=?WINDOWS-1251?B?8PMg4iDy8+3k8PMu?= 
```

These lines was generated by Oracle function `UTL_ENCODE.MIMEHEADER_ENCODE`.

All mail clients (Lotus Notes, gmail.com) show only the first line of such email subject (only first 48 symbols). What is the problem with my mail subject?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-08-12T14:46:29.847

问题是，根据 RFC 2822，您没有正确折叠。要在标题中创建多行字段，每行必须以空格开头。

你需要做的是：

```
replace(UTL_ENCODE.MIMEHEADER_ENCODE(subject, 'UTF8', UTL_ENCODE.BASE64), UTL_TCP.CRLF, UTL_TCP.CRLF || ' ') 
```

这应该可以解决您的问题。

# jquery - I am not able open dialog box on clicking a button here is the code

> ID：15264169
> 
> 赞同：1
> 
> 时间：2013-03-07T05:59:59.553
> 
> 标签：jquery, asp.net, dialog

asp.net code

```
 <asp:Button ID="btnnext" runat="server" Text="Update" onclick="btnnext_Click"  />

<div id= "DisplayEnteredDetails" >

<asp:GridView ID="grdDisplayEnteredDetails" runat="server"   >
                    </asp:GridView> 
</div> 
```

calling function

```
 <script type="Text/javascript">
    $(function () {
     $('#DisplayEnteredDetails').dialog({
                autoOpen: false,
                width: 600,
                height: 500,
                hide: 'Transfer',
                open: function (type, data) {
                    $(this).parent().appendTo("form");
                }
            });
     // Dialog button
            $('#ctl00_Main_btnnext').click(function () {
                $('#DisplayEnteredDetails').dialog('open');
                return false;
            });

        });   
    </script> 
```

i gave the link in master page like

```
<link rel="stylesheet" type="text/css" href="~/styles/StyleSheet.css" />
    <link href="jquery/css/jquery.ui.all.css" rel="stylesheet" type="text/css" /> 
```

same code works in other project but not in my application

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:10:12.180

替换`<script type="Text/javascript">`为just`<script>`并检查。脚本标签应全部为小写字母。所以，`<script type="text/javascript">`或者只是`<script>`应该工作。

否则您可能忘记在 html 中添加 jquery Ui 引用。（假设，因为它在您提供的代码中不可见）

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" ></script> 
<script type="text/javascript" src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:42:15.030

要使用 jQuery 显示对话框，您需要做两件事：

1.  [下载 jQuery](http://code.jquery.com/jquery-1.9.1.js)
2.  [下载 jQuery UI](http://code.jquery.com/ui/1.10.1/jquery-ui.js)

将这两个文件放在您的项目中，并在页面/母版页上添加对它们的引用：

```
<script src="Scripts/jquery-1.9.1.js" type="text/javascript"></script>
<script src="Scripts/jquery-ui.js" type="text/javascript"></script> 
```

这是一个有效的完整示例：

PS：记得把脚本中按钮的id改成正确的值

```
<head runat="server">
    <title>Dialog</title>
    <script src="Scripts/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="Scripts/jquery-ui.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            $('#DisplayEnteredDetails').dialog({
                autoOpen: false,
                width: 600,
                height: 500,
                hide: 'Transfer',
                open: function (type, data) {
                    $(this).parent().appendTo("form");
                }
            });
            // Dialog button
            $('#ctl00_Main_btnnext').click(function () {
                $('#DisplayEnteredDetails').dialog('open');
                return false;
            });
        });  
    </script>
</head>
<body>
    <form id="form1" runat="server">
    <asp:Button ID="ctl00_Main_btnnext" runat="server" Text="Update" OnClick="btnnext_Click" />
    <div id="DisplayEnteredDetails" style="border:1px solid #2d2d2d;">
        <asp:GridView ID="grdDisplayEnteredDetails" runat="server">
        </asp:GridView>
    </div>
    </form>
</body> 
```

# spring - Not able to put text on image in table while creating PDF using XMLWorker

> ID：15264170
> 
> 赞同：1
> 
> 时间：2013-03-07T06:00:04.323
> 
> 标签：spring, css, itext

I am have html file and giving that to XMLWorkerHelper to parse it, so that it can generate PDF.

In Html. In table cell I can put text on image. but when I do

worker.parseXHtml(pdfWriter, document, isr);
it does not put text on image,

isr - it is ByteArrayInputStream of mockHttpServletResponse.

I have used all different kind of styling in html. but it is not working.

Please let me know how can I do this.

# c# - Load my WPF Window application using command prompt

> ID：15264173
> 
> 赞同：0
> 
> 时间：2013-03-07T06:00:15.163
> 
> 标签：c#, wpf, cmd

When we type "Notepad" in "Windows > Run" the Notepad is launched.

In the same way, I would like to load my WPF window Application when a user types the program name in "Windows > RUN" or in command prompt(cmd).

What should I do to make this happen?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:08:50.207

简单输入的原因`notepad`，并且您不需要输入完整路径`C:\Windows\notepad`是因为`C:\Windows\`它在`PATH`环境变量中。

因此，为了让 Windows 在您键入时能够找到您的程序`myProgram`，并且不需要您的用户键入`C:\Program Files\myProgram\myProgram`，程序的位置必须在`PATH`环境变量中。

要从安装程序中的代码执行此操作，请参阅[如何在 C# 中获取和设置环境变量？](https://stackoverflow.com/questions/185208/how-do-i-get-and-set-environment-variables-in-c).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:02:56.637

Check this thread:

[Run Windows application from Command Prompt](http://social.msdn.microsoft.com/forums/en-US/vblanguage/thread/3b844e35-7788-45b0-a040-c6887f78bb13/)

Regards

# javascript - Swapping using Knockout js sortable

> ID：15264174
> 
> 赞同：0
> 
> 时间：2013-03-07T06:00:16.340
> 
> 标签：javascript, knockout.js, swap

I have a square grid with 5*5 squares inside it. I want to swap two squares (ie) when i drag a square and drop it on another square both the squares should get swapped changing their positions. But since am using sortable some other squares positions are getting changed. Is this behaviour possible in knockout js ???

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T14:39:56.340

该`sortable`绑定接受一个`beforeMove`回调，该回调传递一个包含`sourceParent`、`sourceIndex`、`targetParent`和的对象`targetIndex`。您可以使用它们自己进行交换。

此外，您可以设置`arg.cancelDrop = true;`为指示您将自己处理。

这是一个示例：http: [//jsfiddle.net/rniemeyer/c7NLz/](http://jsfiddle.net/rniemeyer/c7NLz/)

# jackson - jackson 将引用的对象字段序列化为根

> ID：15264179
> 
> 赞同：8
> 
> 时间：2013-03-07T06:00:49.940
> 
> 标签：jackson

我正在研究由 js MVC 框架使用的球衣 REST 服务的 POC。在其中一种表单上，我需要返回 UserProfile 对象（由 Jackson 序列化为 JSON），该对象将用于预填充 HTML 表单。在提交表单时，只有一部分字段必须发送到服务器（因为像“角色”这样的一些字段是只读的，不能更改），因此输入 JSON 将被映射到 UserProfileUpdateRequest 对象。从服务器代码维护的角度来看，我想在这两个对象之间建立关系，因为 UserProfileUpdateRequest 将是 UserProfile 的子集，所以我的第一选择是使用组合：UserProfile 包含 UserProfileUpdateRequest。问题是当杰克逊将UserProfile序列化为JSON时，引用的 UserProfileRequest 实例的所有属性都将包含在 userProfileRequest 字段中——这似乎很自然，但对于 JS 人员来说是不可接受的（或者至少我被告知这是不可接受的）。有什么办法可以强制杰克逊“扁平化”根对象并指出哪些引用对象的属性必须在根目录下序列化？一个小例子

```
class UserProfileRequest{
private String a;
private String b;
...
}

class UserProfile{
private String role;
...
private UserProfileRequest userProfileRequest;
} 
```

因此，当 UserProfile 被序列化时，我得到了：

```
{"role":"admin",...,"userProfileRequest":{"a":"...","b":"...",...}} 
```

但想得到

```
{"role":"admin",...,"a":"...","b":"...",...} 
```

我正在使用杰克逊 1.9.7。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-07T08:59:48.897

我认为您正在寻找[@JsonUnwrapped](http://fasterxml.github.com/jackson-annotations/javadoc/2.1.0/com/fasterxml/jackson/annotation/JsonUnwrapped.html)注释。

```
class UserProfile{
    private String role;
    ...
    @JsonUnwrapped
    private UserProfileRequest userProfileRequest;
} 
```

编辑：这是[Jackson 1.9.9 中@JsonUnwrapped](http://jackson.codehaus.org/1.9.9/javadoc/org/codehaus/jackson/annotate/JsonUnwrapped.html)的链接，因此它也应该在 1.9.7 中可用。

# java - ClassCastException：java.lang.Object[] 无法转换为 java.lang.String[] android

> ID：15264182
> 
> 赞同：58
> 
> 时间：2013-03-07T06:01:12.070
> 
> 标签：java, android, arrays, arraylist

在我的应用程序中，我需要将我的 arraylist 转换为数组的字符串。但是，我收到一个错误：

```
ClassCastException: java.lang.Object[] cannot be cast to java.lang.String[] android 
```

在`listofurls`我收到错误的那一行：`listofurls = (String[])image_urls.toArray();`

这是完整的代码：

```
public class Test2 extends AsyncTask<Void, Void, Void> 
{
  String[] listofurls ;
  private static final String url = "http://www.tts.com/album_pro/array_to_encode";
  JSONParser jParser = new JSONParser();
  ArrayList<String> image_urls = new ArrayList<String>();

  protected void onPreExecute() {
    //Log.e(LOG_CLASS, "in side assyntask");
  }

  protected Void doInBackground(Void... voids) {
    Log.v("Async","Async");
    JSONObject json = jParser.getJSONFromUrl(url);

    try {
      JSONObject seo = json.getJSONObject("SEO");
      JSONArray folio = seo.getJSONArray("Folio");

      // JSONArray image_urls1 = new JSONArray();
      //String s1=seo.getString("Folio");

      for(int i=0;i<folio.length();++i) {
        String m = folio.getString(i);
        Log.v("M"+i,m);
        image_urls.add(m);
        Log("test-url"+image_urls);
      }
    } catch(Exception e) {
      e.printStackTrace();
    }

    listofurls = (String[])image_urls.toArray();  //ERROR OCCURS HERE

    return null;
  }

  private void Log(String string) {
    Log.v("Test",string);
  }

  protected void onProgressUpdate(Integer... progress) { }

  protected void onPostExecute(Void result) {
    mAdapter = new ImagePagerAdapter(getSupportFragmentManager(),listofurls.length );
    mAdapter.setImageurls(listofurls);
    mPager.setAdapter(mAdapter);
  } 
```

* * *

## 回答 #1

> 赞同：125
> 
> 时间：2013-03-07T06:03:55.890

尝试

```
listofurls = image_urls.toArray(new String[image_urls.size()]); 
```

注意：我建议将 listofurls 重命名为 arrayOfURLs

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2013-03-07T06:09:01.997

您应该`toArray`如上所述使用，但不能那样使用。

首先初始化数组并填充它：

```
String[] urlArray = new String[image_urls.size()];
image_urls.toArray(urlArray); 
```

之后，`urlArray`将包含来自 的所有字符串`image_urls`，或者传入一个长度为零的字符串数组：

```
listofurls = (String[]) image_urls.toArray(new String[0]); 
```

请参阅[`toArray()`](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collection.html#toArray(java.lang.Object[])).

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-07T06:21:26.443

您只需要在数组中获取arraylist 的内容，对吗？

你不能这样吗？

```
 for(int i=0;i<folio.length();++i)
        {
            String m = folio.getString(i);
            Log.v("M"+i,m);
            image_urls.add(m);
            Log("test-url"+image_urls);

            listofurls[i] = m ;
        } 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-07-25T11:35:26.773

```
listofurls = image_urls.toArray(new String[0]); 
```

即使您不知道结果数组的大小，这也应该适用于所有情况。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-07T06:08:46.913

试试这个：

```
ArrayList<String> stock_list = new ArrayList<String>();
stock_list.add("stock1");
stock_list.add("stock2");
String[] stockArr = new String[stock_list.size()];
stockArr = stock_list.toArray(stockArr);
for(String s : stockArr)
    System.out.println(s); 
```

直接取自这里：[链接](https://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string)

# c# - How to send an HTML form in asp.net c# by email?

> ID：15264193
> 
> 赞同：1
> 
> 时间：2013-03-07T06:02:15.083
> 
> 标签：c#, javascript, asp.net, pdf, snapshot

In my ASP.Net C# website, I got an order form which I want to be send via email by submitting it. The form elements are HTML and the calculations are done by JavaScript in client-side, and it has lots of form elements.

I want to be able to send the form and its filled contents by user, as PDF or JPG via email.

Maybe the form should be captured as a snapshot from client-side as an image or a print file, then maybe the file can be send from server-side by email.

I'd highly appreciate if you give me a practical described solution. Here is some parts of code as sample:

```
 <div id="cblDomain">
    <input id="cblDomain_1" value="10" onchange="subsumDomain()" type="checkbox" name="cblDomain" checked="checked"><label for="cblDomain_1">com - 10</label><br>
    <input id="cblDomain_2" value="10" onchange="subsumDomain()" type="checkbox" name="cblDomain"><label for="cblDomain_2">net - 10</label><br>
    <input id="cblDomain_3" value="5" onchange="subsumDomain()" type="checkbox" name="cblDomain"><label for="cblDomain_3">info - 5</label><br>
    <input id="cblDomain_4" value="10" onchange="subsumDomain()" type="checkbox" name="cblDomain"><label for="cblDomain_4">me - 10</label>
   </div>

<select name="ddlDomainPeriod" onchange="subsumDomain()" id="ddlDomainPeriod">
    <option value="1">1 yr</option>
    <option value="2">2 yrs</option>
    <option value="3">3 yrs</option>
    <option value="4">4 yrs</option>
    <option value="5">5 yrs</option>
</select>
 <div name="sum" id="sumDomain">10</div>

<script type="text/javascript">
    function subsumDomain() {
        var _sum = 0;
        var _cblDomain = document.getElementsByName('cblDomain');
        for (i = 0; i < _cblDomain.length; i++) {
            if (_cblDomain[i].checked == true)
                _sum += Number(_cblDomain[i].value);
        }
        var _domainPeriod = Number(document.getElementById('ddlDomainPeriod').options[document.getElementById('ddlDomainPeriod').selectedIndex].value);
        document.getElementById('sumDomain').innerHTML = moneyConvert(_sum * _domainPeriod);

        subTotal();
    }

    function subsumHost() {
        var _hostPrice = Number(document.getElementById('ddlHost').options[document.getElementById('ddlHost').selectedIndex].value);
        var _hostPeriod = Number(document.getElementById('ddlHostPeriod').options[document.getElementById('ddlHostPeriod').selectedIndex].value);
        _hostDiscount = 0;
        if (_hostPeriod > 1)
            _hostDiscount = (_hostPrice * _hostPeriod) * 0.2;
        document.getElementById('sumHost').innerHTML = moneyConvert((_hostPrice * _hostPeriod) - _hostDiscount);

        subTotal();
    }
</script> 
```

Any kind help would be highly appreciated (^_^)

Kardo

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:11:04.960

听起来是一个漫长的过程。提交、转换为 pdf、保存到硬盘、附加到电子邮件、发送电子邮件。你可以这样做，但我会考虑发送 HTML 电子邮件。您只需将数据（订单）存储在您的数据库中，然后在预先形成的电子邮件模板上发送电子邮件。让最终用户将其打印到 pdf 或纸张等...

如果你真的想做 pdf 的事情，你需要像已经建议的那样找到一个像样的库。

好吧，这就是您发送电子邮件的方式。我喜欢创建一个可重复使用的电子邮件类。如果这不符合您的需求，您不必这样做。但是，嘿，如果你要创建一个电子邮件，为什么不把它变成一个对象呢？

```
using System.Net.Mail;
public class Email
    {

        public MailAddress From { get; set; }
        public MailAddress To { get; set; }
        public string Password { get; set; }
        public string Subject { get; set; }
        public string Body { get; set; }
        public string Host { get; set; }
        public int Port { get; set;}
        public List<Attachment> attachmentsList = new List<Attachment>();

        public void send()
        {
            //send email
            var smtp = new SmtpClient
            {
                Host = Host,
                Port = Port,
                EnableSsl = true,
                DeliveryMethod = SmtpDeliveryMethod.Network,
                Credentials = new NetworkCredential(From.Address, Password),
                Timeout = 120000 //2mins
            };

            MailMessage message = new MailMessage(From.Address, To.Address);
            message.Subject = Subject;
            message.Body = Body;
            message.IsBodyHtml = true;

            foreach(Attachment attachment in attachmentsList){
                if (attachment != null)
                {
                    message.Attachments.Add(attachment);
                }                
            }

            try
            {
                smtp.Send(message);
            }
            catch(Exception e){

                throw e;
            }
        }
    } 
```

然后你需要创建你的 pdf 或任何你选择的东西。将它保存到您的硬盘驱动器的某个地方。创建您的电子邮件并将文件附加为电子邮件附件（或仅发送 html 正文。使用 stringReplace() 替换电子邮件模板中的值。（#price #address #companyname 等）。

```
Email newMail = new Email();

newMail.From = new MailAddress("someone@somewhere.com", "Your Name");
newMail.Password = "your outgoing mail password");
newMail.To = new MailAddress("someone@somewhere.com", "Recipient Name");
newMail.Subject = "Your Subject";
newMail.Body = "Your email body";
newMail.Host = smtp.example.com;
newMail.Port = 123;

//add the attachments (example)
 foreach (string fileLocation in AttachmentsList)
 {
 newMail.attachmentsList.Add(new Attachment(fileLocation));
 }

 newMail.send(); 
```

我希望在某种程度上有所帮助......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:31:46.220

如果您想获取 html 表单并生成 PDF，我最喜欢的工具是[wkhtmltopdf](http://code.google.com/p/wkhtmltopdf/)。不过，您必须在您的服务器上安装它（我很想知道其他人是否找到了 wkhtmltopdf 的 .net 库！:]）。

安装后，它的命令行非常简单：

```
wkhtmltopdf www.myhomepage.com output.pdf 
```

从 .net 调用它也很简单，例如： [Calling wkhtmltopdf to generate PDF from HTML](https://stackoverflow.com/questions/1331926/calling-wkhtmltopdf-to-generate-pdf-from-html)

还有像[iTextSharp](http://itextpdf.com/)这样的 .net 库，可用于生成 pdf 和其他静态输出类型。

# jquery - How to select an image from mobile device and set it as the background image, using jquery mobile?

> ID：15264197
> 
> 赞同：1
> 
> 时间：2013-03-07T06:02:37.287
> 
> 标签：jquery, css, jquery-mobile, fullcalendar

I am creating a mobile application based on fullcalendar feature. i need to set the background image for that calendar page and which can be chosen by the user manually.Can you help me? Thanks in Advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T21:23:43.927

所以这不是一个“fullcalendar”主题，我建议使用 jQuery 的 css 解决方案——无论如何你已经包含了。

根据文档，您有一个完整的日历目标

```
<div id='calendar'></div> 
```

和背景选择列表

```
<h2>Choose Background :</h2>
<ul id="calendar-background">
    <li data-color="yellow">Yellow</li>
    <li data-color="red">Red</li>
    <li data-color="green">Green</li>
</ul> 
```

像这样使用 jQuery 事件：

```
jQuery("#calendar-background li").click(function(){      
    // current li
    var li = jQuery(this);
    // target color
    var color = li.data("color");
    // put color to fullcalendar
    jQuery("#calendar").css("background-color", color);
}); 
```

您可以根据需要轻松调整此示例，例如更改背景图像 (background-image:url(yellow.gif)) 或使用按钮、链接....

# windows-phone-7 - Windows Phone App Memory Consumption

> ID：15264201
> 
> 赞同：0
> 
> 时间：2013-03-07T06:02:46.240
> 
> 标签：windows-phone-7

I am developing app for Windows Phone. My application is a little game for children which is based on silverlight animation. In app I can navigate to 1 to 3 pages and when the whole game logic completed It again goes to the start screen at the end of game and you can start again. When I complete 3 or four rounds, I saw that my application is consuming more than 80 MB (or more) of Phone RAM. Is there any chances of app rejection from Windows Phone app store if it is consuming such amount of memory???

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:53:01.213

对于内存不足的设备，Silverlight 应用程序的最大内存限制是 WP7 的 90MB 和 WP8 的 150MB。

因此，随着轮数的增加，您的应用程序可能会遇到性能问题。

我想你知道 Visual Studio 中的性能分析测试，如果不检查这个：[Windows Phone 应用程序的内存分析技术](http://www.developer.nokia.com/Community/Wiki/Techniques_for_memory_analysis_of_Windows_Phone_apps)

您可以按照此处提到的建议进行操作：[Windows Phone 的应用程序性能注意事项](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff967560%28v=vs.105%29.aspx)

# unit-testing - What do I have to import for SpringMVC3.2 unit testing?

> ID：15264202
> 
> 赞同：7
> 
> 时间：2013-03-07T06:02:48.943
> 
> 标签：unit-testing, spring-mvc, import

I am writing SpringMVC3.2 unit test and I imported classes:

```
import static org.hamcrest.Matchers.containsString;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;
import static org.springframework.test.web.servlet.setup.MockMvcBuilders.*;
import static org.springframework.test.web.servlet.setup.MockMvcBuilders.webAppContextSetup;

this.mockMvc.perform(post("/maps.do").accept(MediaType.APPLICATION_JSON)
                .param("mobileno", "111111")
                .param("fromdate", "22-02-2013").param("fromtime", "07:37")
                .param("todate", "22-02-2013").param("totime", "08:17")
        .andDo(print())
        .andExpect(status().isOk())
        .andExpect(content().mimeType(MediaType.APPLICATION_JSON)
        .andExpect(jsonPath("$.name").value("Lee")); 
```

But print() and mimeType() still are not resolved. I have been searching but I could not find correct answer.

Thanks.

EDITED I tried to

```
import static org.springframework.test.web.server.result.MockMvcResultHandlers.print; 
```

but it could not be resolved. What library am I missing and dependency do I add? Above is misspell and below is correct.

```
import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print; 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-08-15T18:53:17.840

```
org.springframework.test.web.servlet.result.MockMvcResultHandlers 
```

来自我工作区中的 spring-test-3.2.3.RELEASE.jar

# iphone - 如何设置 GridTableView

> ID：15264203
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:02:49.097
> 
> 标签：iphone, ios, ipad

```
 static NSString *CellIdentifier = @"Cell";

        tblcell = (tablecellView*)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        if (tblcell == nil)
        {
            NSArray *outlets;
            if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone)
            {
                outlets = [[NSArray alloc] initWithArray:[[NSBundle mainBundle] loadNibNamed:@"tablecellView" owner:nil options:nil] ] ;

            }
            else
            {
                outlets = [[NSArray alloc] initWithArray:[[NSBundle mainBundle] loadNibNamed:@"tablecellView_ipad" owner:nil options:nil] ] ;

            }

            for (id currentObject in outlets)
            {
                if ([currentObject isKindOfClass:[UITableViewCell class]])
                {
                    tblcell = (tablecellView *) currentObject;
                    break;
                }
            }

        }
        i = indexPath.row*4;

        if (i < [imagearray count])
        {
            tblcell.viewa.hidden=FALSE;
            tblcell.viewa.layer.borderColor = [UIColor colorWithRed:191.0f/255.0f green:191.0f/255.0f blue:191.0f/255.0f alpha:1.0f].CGColor;
             tblcell.viewa.layer.borderWidth=1.0f;
            NSURL *urla;

            urla = [NSURL URLWithString:[NSString stringWithFormat:@"%@",[imagearray objectAtIndex:i]]];

            [tblcell.imga setImageWithURL:urla placeholderImage:[UIImage imageNamed:@"ncam.png"]];
            [tblcell.btna.titleLabel setText:[NSString stringWithFormat:@"%d",i]];
            [tblcell.btna addTarget:self action:@selector(btnimage:) forControlEvents:UIControlEventTouchUpInside];
        }
        i++;

        if (i < [imagearray count])
        {
            tblcell.viewb.hidden=FALSE;
            tblcell.viewb.layer.borderColor = [UIColor colorWithRed:191.0f/255.0f green:191.0f/255.0f blue:191.0f/255.0f alpha:1.0f].CGColor;
             tblcell.viewb.layer.borderWidth=1.0f;
            NSURL *urlb;

            urlb = [NSURL URLWithString:[NSString stringWithFormat:@"%@",[imagearray objectAtIndex:i]]];

            [tblcell.imgb setImageWithURL:urlb placeholderImage:[UIImage imageNamed:@"ncam.png"]];
            [tblcell.btnb.titleLabel setText:[NSString stringWithFormat:@"%d",i]];
            [tblcell.btnb addTarget:self action:@selector(btnimage:) forControlEvents:UIControlEventTouchUpInside];
        }
        i++;

        if (i < [imagearray count])
        {
            tblcell.viewc.hidden=FALSE;
             tblcell.viewc.layer.borderColor = [UIColor colorWithRed:191.0f/255.0f green:191.0f/255.0f blue:191.0f/255.0f alpha:1.0f].CGColor;
             tblcell.viewc.layer.borderWidth=1.0f;
            NSURL *urlc;

            urlc = [NSURL URLWithString:[NSString stringWithFormat:@"%@",[imagearray objectAtIndex:i]]];
            [tblcell.imgc setImageWithURL:urlc placeholderImage:[UIImage imageNamed:@"ncam.png"]];
            [tblcell.btnc.titleLabel setText:[NSString stringWithFormat:@"%d",i]];
            [tblcell.btnc addTarget:self action:@selector(btnimage:) forControlEvents:UIControlEventTouchUpInside];
        }
        i++;

        if (i < [imagearray count])
        {
            tblcell.viewd.hidden=FALSE;

            tblcell.viewd.layer.borderColor = [UIColor colorWithRed:191.0f/255.0f green:191.0f/255.0f blue:191.0f/255.0f alpha:1.0f].CGColor;
            tblcell.viewd.layer.borderWidth=1.0f;

            NSURL *urld;
            urld = [NSURL URLWithString:[NSString stringWithFormat:@"%@",[imagearray objectAtIndex:i]]];

            [tblcell.imgd setImageWithURL:urld placeholderImage:[UIImage imageNamed:@"ncam.png"]];
            [tblcell.btnd.titleLabel setText:[NSString stringWithFormat:@"%d",i]];
            [tblcell.btnd addTarget:self action:@selector(btnimage:) forControlEvents:UIControlEventTouchUpInside];
        }
        i++;

        return tblcell;

    } 
```

==============行数

```
if (tableView == GridTableview)
        {

            return (imagearray.count/4)+1;
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:09:11.023

根据需要检查以下链接

[在这里检查](http://www.cocoacontrols.com/platforms/ios/controls/nrgridview--2)

希望对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:21:45.540

您必须使用 UICollectionView 而不是 UITableView。下面显示的链接将帮助您解决这个问题->

[http://www.appcoda.com/ios-programming-uicollectionview-tutorial/](http://www.appcoda.com/ios-programming-uicollectionview-tutorial/)

[http://skeuo.com/uicollectionview-custom-layout-tutorial](http://skeuo.com/uicollectionview-custom-layout-tutorial)

[http://mobile.tutsplus.com/tutorials/iphone/uicollectionview-layouts/](http://mobile.tutsplus.com/tutorials/iphone/uicollectionview-layouts/)

[http://adoptioncurve.net/archives/2012/09/a-simple-uicollectionview-tutorial/](http://adoptioncurve.net/archives/2012/09/a-simple-uicollectionview-tutorial/)

[http://maniacdev.com/2012/09/tutorial-how-to-create-an-ios-6-uicollectionview-using-storyboards/](http://maniacdev.com/2012/09/tutorial-how-to-create-an-ios-6-uicollectionview-using-storyboards/)

祝一切顺利...

# amplifyjs - 使用 amplifyjs 在“请求有效负载”中发送数据

> ID：15264212
> 
> 赞同：0
> 
> 时间：2013-03-07T06:03:18.457
> 
> 标签：amplifyjs

我有一个 javascript 对象要发送到服务器，如下所示：

```
var input = {a: 'aaa', b: 'bbb', c: 'ccc'}; 
```

我想像这样在 url中发送**“a”属性**

```
http://localhost/rest/customer/aaa 
```

使用 amplifyjs 中的 url 替换功能很好，如下所示：

```
amplify.request.define('update-customer', 'ajax', {
    url : 'rest/customer/{a}',
    dataType: 'json',
    type : 'PUT'
    contentType : 'application/json; charset=utf-8;
});

amplify.request('update-customer', { a : input.a, data : input }); 
```

我正在努力解决的问题是，我想将 b 和 c 属性作为 json 格式的表单数据作为“请求有效负载”发送，但是由于表单数据发送如下而失败：

```
Request Payload :
  data : {b : 'bbb', c : 'ccc'} 
```

所以我想要实现的是删除“请求有效负载”中的**“数据”**键，如下所示：

```
Request Payload :
 {b : 'bbb', c : 'ccc'} 
```

我在 REST 客户端程序中对此进行了测试并成功了。

结束我的问题，如何使用**amplifyjs**在没有键名的情况下发送请求正文中附加的数据？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T18:59:04.667

尝试：

```
amplify.request.define('update-customer', 'ajax', {
  url: 'rest/customer/{a},
  dataType: 'json',
  type: 'PUT',
  contentType: 'application/json; charset=utf-8',
  data: {
    b : '{b}',
    c : '{c}'
  }
});

amplify.request('update-customer', { a : input.a, data : input }); 
```

如果 input.b 或 input.c 为空，此解决方案会出现问题。[检查此帖子以获取更多详细信息](https://stackoverflow.com/questions/15978690/how-to-build-request-with-optional-data-using-amplifyjs)

# compare - Sybase 的“选择计数”未正确显示，试图比较两个表

> ID：15264220
> 
> 赞同：0
> 
> 时间：2013-03-07T06:03:41.183
> 
> 标签：compare, sybase

我正在从 table1 进行计数，其记录/行在 table2 中不存在

这是查询：

```
select count(1) from table1
where not exists (select 1 from table2 where
                  table1.col1 = table2.col1
                  and table2.id=1) 
```

我需要查看 table2 中缺少的记录，其 id 在 table2=1 中，并且这些记录应该在 table1 中可用。这里的PK是col1。

查询返回 0。但是，如果我通过将两个表都删除到 excel 来进行 excel 表比较。我可以找到 table1 中缺少的 1591 条记录，这些记录在 table2 中可用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:37:32.560

您的查询工作正常。

您查询查找存在`table1`但不存在的记录`table2`

您发现 Excel 记录中不存在`table1`和存在于`table2`

如果您想使用 SQL 查找这些记录，那么您的查询应该是：

```
select count(1) from table2 
where table2.id=1 and table2.col1 not in (select col1 from table1) 
```

或不存在此查询的版本：

```
select count(1) from table2 
where table2.id=1 and 
      not exists (select 1 from table1 where table1.col1=table2.col1) 
```

我没有测试查询。

# javascript - 如何防止用户在 Angular 中观察输入字段上的错误输入？

> ID：15264227
> 
> 赞同：1
> 
> 时间：2013-03-07T06:03:57.753
> 
> 标签：javascript, angularjs

我在带有分页的网格上有一个观看的输入字段。类似于 X of 28 Pages 的东西。

我希望用户能够更改该输入，但我也想防止输入错误。

我的检查是 >= 1 或 <= Max Pages（在这种情况下为 28）。输入默认为 1。

我通过将新值与这些约束进行比较来实现这一点，如果失败，则恢复为旧值。当有人想输入 20 时，问题就来了。这要求他们删除 1，然后输入 20。一旦他们删除 1，它就会使约束失效并恢复为 1，从而无法输入 20。

有没有办法在不将其从 $watch 中删除的情况下完成此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:51:02.377

您可以使用具有事件`<input type="number">`解析器和侦听器的指令的组合和您自己的指令`blur`。这样，您的手表只会在页码是有效页面时执行，或者`null`在输入无效时执行一次，但用户可以输入任何内容，直到触发模糊事件。像这样的东西：

```
<!doctype html>
<html ng-app="myApp">
<head>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.angularjs.org/1.0.5/angular.min.js"></script>
    <script>
    angular.module('myApp', []).controller('Ctrl', function($scope) {
        $scope.pageNumber = 1;
    })
    .directive('myPagenumber', function() {
        return {
            require: 'ngModel',
            link: function($scope, elem, attrs, ctrl) {
                $scope.$watch(attrs.ngModel, function(val) {
                    console.log('ng-model value: ' + val);
                });

                var parsePage = function(val) {
                    var num = parseInt(val, 10);
                    if (isNaN(num)) {
                        return null;
                    } else if (num > 28 || num < 1) {
                        return 1;
                    } else {
                        return num;
                    }
                }

                ctrl.$parsers.push(function(val) {
                    return parsePage(val);
                });

                elem.bind('blur', function() {
                    var page = parsePage(elem.val());
                    if (page === null) 
                        page = 1;

                    $scope.$apply(function() {
                        ctrl.$setViewValue(page);
                        ctrl.$render();
                    });
                });
            }
        };
    });
    </script>
</head>
<body ng-controller="Ctrl">
    <input type="number" ng-model="pageNumber" my-pagenumber>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-07T06:32:37.140

我为你写了一个例子：

```
var min = 1;
var max = 28;
$('.page').live('keydown', function (e){      
      var currentVal = $(this).val();
      //enter,tab, shift
      if(e.which == 37 || e.which == 39 || e.which == 9 || e.which == 8) {
          return;
      // key up
      } else if(e.which == 38){
          if(currentVal < max){
             currentVal++;
          }
          $(this).val(currentVal);
      //key down    
      } else if( e.which == 40) {
        if(currentVal > min){
             currentVal--;
          }
          $(this).val(currentVal);
      //only numbers    
      } else if(e.which >= 48 && e.which <= 57){
        var val = e.which - 48;
        if(e.target.selectionEnd == e.target.selectionStart) {
          val = currentVal.insert(e.target.selectionEnd, val);
        } else {
          val = currentVal.replace(currentVal.substr(getSelectionStart(e.target),getSelectionEnd(e.target)),val);
        }
        if(min<=val && val <= max) {
          $(this).val(val);
        }
      }
      e.preventDefault();
});

// utility functions
//get the start index of the user selection
function getSelectionStart(o) {
    if ( typeof o.selectionStart != 'undefined' )
      return o.selectionStart;

    // IE And FF Support
    o.focus();
    var range = o.createTextRange();
    range.moveToBookmark(document.selection.createRange().getBookmark());
    range.moveEnd('character', o.value.length);
    return o.value.length - range.text.length;
};
//get the end index of the user selection
function getSelectionEnd(o) {
    if ( typeof o.selectionEnd != 'undefined' )
      return o.selectionEnd;

    // IE And FF Support
    o.focus();
    var range = o.createTextRange();
    range.moveToBookmark(document.selection.createRange().getBookmark());
    range.moveStart('character', - o.value.length);
    return range.text.length;
};
/*
* Insert Text at a index
*/
String.prototype.insert = function (index, string) {
  if (index > 0)
    return this.substring(0, index) + string + this.substring(index, this.length);
  else
    return string + this;
}; 
```

动画示例：http: [//jsfiddle.net/PVxqe/1/](http://jsfiddle.net/PVxqe/1/)

# java - FileNotFoundException 虽然 canRead() 和 exists() 返回 true

> ID：15264239
> 
> 赞同：0
> 
> 时间：2013-03-07T06:04:35.767
> 
> 标签：java, file, exception, filereader

我这样做并将一些内容写入该文件。

```
fileSymbol = new File("D:\\TempFiles\\SymbolFile.xml");
fileSymbol.createNewFile();
prSymbol = new PrintWriter(fileSymbol);
while(//condition goes here){
   prSymbol.write(text);
} 
```

然后我尝试从这个文件中读取，

```
FileReader fr = new FileReader(fileSymbol);
BufferedReader br = new BufferedReader(fr);
String line = br.readLine(); 
```

当我尝试运行时，它给出了以下异常

```
java.io.FileNotFoundException: fileSymbol (The system cannot find the file specified) 
```

当我尝试

```
fileSymbol.canRead();
fileSymbol.exists(); 
```

两者都返回 true。

尽管我已经创建了文件，但我不明白为什么会出现此错误。当我手动检查位置时，我可以看到我创建的文件。

PS：我刚刚提供了我的代码的代码片段。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T06:09:23.840

在阅读文件之前添加以下内容

```
 prSymbol.close(); 
```

关闭前不需要调用flush()。参考[JavaDoc](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/Writer.html#close%28%29) - close()

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T06:22:35.413

> java.io.FileNotFoundException: fileSymbol (系统找不到指定的文件)

如果您准确地转录了该消息，则只能表示您使用`"fileSymbol"`的是文件名，而之前您使用的是`"D:\\TempFiles\\SymbolFile.xml"`.

`createNewFile()`NB在创建输出流或写入同一文件之前调用该行完全是浪费时间。

# java - 使用 SLF4J 设置动态控制台日志记录级别

> ID：15264240
> 
> 赞同：0
> 
> 时间：2013-03-07T06:04:37.057
> 
> 标签：java, logging, slf4j

我在 jdk 内置记录器上使用 slf4j 日志记录外观。我很困惑如何使用 SLF4J 的 ConsoleHandler 设置日志记录级别。

```
public Class foo(){
   Logger log = Logger.getLogger(foo.class()) //logger from SLF
   public void run(){
       log.info("info")
    }
   private static void main(String[] args){
     ConsoleHandler con = new ConsoleHandeler(); //from java.util.logging
     con.setLevel(Level.OFF)
     run()
    }
   }

  >INFO: info 
```

信息不应该被关闭吗？我不想设置日志记录属性文件，因为我希望用户从命令行界面输入他们想要的日志记录级别。我只关心控制台附加。是不是和这个类似：[Using java.util.logging to log on the console](https://stackoverflow.com/questions/9199598/using-java-util-logging-to-log-on-the-console)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T12:17:32.330

不要混合使用 SLF4J 和日志记录实现。SLF4J 的想法是你可以通过替换一个 jar 和一个配置文件来切换记录器的实现。您的代码中不会引用任何日志记录实现（lkog4j、util logging 等）。由于 SLF4J 是一个日志外观，您将只能控制日志级别和正在记录的内容。处理程序等是日志记录实现的一部分。
您应该让用户决定在哪里记录，记录什么级别等。

除此之外；在 util logger 中禁用控制台日志记录。做

获取根记录器`Logger logger = Logger.getLogger("");`
获取其所有处理程序`logger.getHandlers();`
迭代并检查是否`instanceof ConsoleHandler`
为该处理程序设置了任何级别`con.setLevel(Level.OFF)`

在您的`main`方法中，您刚刚创建了一个新的 ConsoleHandler。它与任何记录器无关，因此不会发生任何事情。

# matlab - 从循环中绘制

> ID：15264251
> 
> 赞同：0
> 
> 时间：2013-03-07T06:05:42.427
> 
> 标签：matlab, plot

```
for t=0:0.1:10;
VS=3*exp(-t/3).*sin(t*pi);

    if VS>0
        VL(t+1)=VS;
    else 
        VL(t+1)=0;

    end
end

plot(0:100,VL);
xlabel('Time(s)')
ylabel('Across Voltage(V)')
title('Across Voltage Vs Time') 
```

如何根据 VL（基于与上面所示表达式的 VS 的关系）与 t（从 0 到 10，增量 0.01）绘制此图？

总是从 matlab 得到错误“下标索引必须是真正的正整数或逻辑。”

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:35:53.427

你的脚本有问题。请注意，t 以 0.1 的间隔定义。因此，它是一个实变量，不能用作下标索引。

解决这个问题的一种方法是

1) 写 cont=0; 在循环之前。

2) 在循环的开头写 cont=cont+1

3) 在循环内的两个地方用 VL(cont) 替换 VL(t+1)

# c++ - 如何从复制构造函数委托到通用复制构造函数模板？

> ID：15264252
> 
> 赞同：1
> 
> 时间：2013-03-07T06:05:42.873
> 
> 标签：c++, c++11, constructor, copy-constructor

如果我想编写一个通用的复制构造函数（一个可以接受任何参数类型的构造函数），这很容易做到：

```
class Widget {
public:
  template<typename T> Widget(T&& other);
}; 
```

这不会阻止编译器生成传统的复制构造函数，所以我想自己编写并委托给模板。但是我该怎么做呢？

```
class Widget {
public:
  template<typename T> Widget(T&& other);
  Widget(const Widget& other): ??? {}         // how delegate to the template?
}; 
```

我试图用这种方式编写委托构造函数，

```
Widget(const Widget& other): Widget<const Widget&>(other){} 
```

但是 VC11、gcc 4.8 和 clang 3.2 都拒绝它。

如何编写我正在尝试编写的委托复制构造函数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-29T06:33:30.140

您不能为构造函数模板指定模板参数；你仅限于扣除。也许您可以从[我的一篇旧帖子中调整](https://stackoverflow.com/q/9287250/1010226 "Conflict between copy constructor and forwarding constructor")[答案](https://stackoverflow.com/a/9311802/1010226)：

```
// NOT Tested!
#include <utility>

class Widget
{
    enum fwd_t { fwd };

    // Your true master constructor
    template< typename T >  Widget( fwd_t, T &&t );

public:
    template < typename T >
    Widget( T&& other );
        : Widget( fwd, std::forward<T>(other) )
    {}
    Widget( const Widget& other )
        : Widget( fwd, other )
    {}
}; 
```

两个单参数构造函数转发到一个双参数兄弟构造函数。

# html - 纯 HTML 和 CSS 中具有水平滚动内容的页眉和页脚

> ID：15264255
> 
> 赞同：0
> 
> 时间：2013-03-07T06:05:52.510
> 
> 标签：html, css

我正在尝试仅使用 HTML 和 CSS 创建布局，这样我就没有使用 Javascript 进行布局的额外复杂性。

布局如下，由三部分组成：页眉、主要内容和页脚。

![样本布局](../Images/df5e355a492fb564f43f5d7ec901662e.png)

页眉和页脚应该是相同的高度，并且应该始终可见。在调整大小时，页眉、内容和页脚应相应地扩展/收缩，但有一些例外。首先，当达到主要内容的最大高度时，主要内容不应该再扩大，而是应该扩大页眉和页脚。其次，当主要内容的最小高度被击中时，任何部分都不应再收缩，并且视图应该是可滚动的。

至于主要内容，它可以水平滚动，视口的主滚动条位于屏幕底部，而页眉和页脚应保持在原位。

到目前为止，我已经弄清楚了如何通过填充整个视口的绝对定位容器 div 来实现水平可滚动的主要部分，但我似乎无法弄清楚任何元素的垂直大小。我能想到的唯一方法是挂钩 on resize 事件，我想避免这种情况，因为它感觉很hacky。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:45:19.223

```
<body>
  <div class="header">header</div>
  <div class="content">content

 </div>

 <div class="footer"></div> 
```

和CSS

```
.header, .content, .footer {
    position: absolute;
}
.header{
    top: 0;
    width: 100%;
    height: 50px;
    background-color: #99CC00;
    left: 0;
    right: 0;
}
.content {
    top: 50px;
    left: 0;
    right: 0;
    bottom: 50px;
    background-color: #FF6600;
}
.footer {
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 50px;
    background-color: #6600CC;
} 
```

和 [dabblet 上的例子](http://dabblet.com/gist/5088158)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:09:40.417

在你的问题中，我只会使用固定定位的页眉和页脚，然后是一个简单的水平内容 div .. 看看我制作的[**小提琴**](http://jsfiddle.net/2uJtD/)

**HTML**

```
<div id="header">Header</div>
<div id="content">Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content Content  </div>
<div id="footer">Footer</div> 
```

**CSS**

```
*{
    padding:0;
    margin:0;
}
html{
    overflow-y:hidden;
}
#header,#footer {
    width:100%;
    position:fixed;
    height:50px;
    left:0;
    background:#404040;
    z-index:9999;
}
#header{top:0;}
#footer{bottom:0;}
#content{
    position:absolute;
    background:gray;
    top:50px;
    left:0;
    min-width:100%;
    bottom:50px;
    float:left;
    display:block;
    width:5000px; /*your content width but 5000 for testing*/
} 
```

如果您希望页眉和页脚缩放，您可以使用**[这个小提琴](http://jsfiddle.net/2uJtD/1/)**

**Css3 方式**
您可以使用新的 css3 属性 flex-box：

**[有关示例](http://umaar.github.com/css-flexbox-demo/)**，请参见以下链接

关于 flexbox 的更多信息：**[Tutsplus](http://net.tutsplus.com/tutorials/html-css-techniques/an-introduction-to-css-flexbox/)**

Flex-box 正是解决这个问题的方法

**但**它不会在 IE9 中得到支持......
所有新的浏览器都将拥有它，包括 IE10：
[caniuse](http://caniuse.com/flexbox)

# c# - winforms中的数据转发器控件

> ID：15264256
> 
> 赞同：3
> 
> 时间：2013-03-07T06:05:56.507
> 
> 标签：c#, .net, winforms

我在数据转发器中绑定数据，但我也想在绑定时绑定控件可见性数据。我该怎么做。

```
DataTable dtCourse = new DataTable();
dtCourse.Columns.Add("Course_ID");
dtCourse.Columns.Add("Visibility");
dt.Rows.Add("1","True");
dt.Rows.Add("2","False");
dt.Rows.Add("3","True");
lbl_CourseName.DataBindings.Add("Text", dtCourse, "Course_ID");
btnViewExam.DataBindings.Add("Visible", dtCourse, "Visibility");
dr_Course.DataSource = dtCourse; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:14:42.180

你的代码工作得很好。仅重命名`dt`为`dtCourse`：

```
DataTable dtCourse = new DataTable();
dtCourse.Columns.Add("Course_ID");
dtCourse.Columns.Add("Visibility");
dtCourse.Rows.Add("1", "True"); // here
dtCourse.Rows.Add("2", "False"); // here
dtCourse.Rows.Add("3", "True"); // here
lbl_CourseName.DataBindings.Add("Text", dtCourse, "Course_ID");
btnViewExam.DataBindings.Add("Visible", dtCourse, "Visibility");
dr_Course.DataSource = dtCourse; 
```

结果：

![在此处输入图像描述](../Images/80d5c76dfdf0d0730c217e296cc7cea8.png)

# actionscript-3 - flash 11.6 使用某些颜色（如蓝色、黑色）显示不正确的文本

> ID：15264262
> 
> 赞同：0
> 
> 时间：2013-03-07T06:06:30.770
> 
> 标签：actionscript-3, textfield

在新版本的 Flash 播放器 11.6 中，有时文本颜色（使用 Textfield 制作）无法正确显示。照片中的示例（照片上的文字颜色应为黑色）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:33:30.463

[http://helpx.adobe.com/flash-player/kb/enable-system-flash-player-google-chrome.html](http://helpx.adobe.com/flash-player/kb/enable-system-flash-player-google-chrome.html) 解决了！在 Flash Player 官方论坛中。

# iphone - 我们可以动态更改应用程序的产品名称/默认图像吗？

> ID：15264264
> 
> 赞同：0
> 
> 时间：2013-03-07T06:06:35.933
> 
> 标签：iphone, ios, objective-c, xcode

是否可以从代码动态更改应用程序的`Product name`/ `default image`（启动画面）..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:14:10.543

iphone 应用程序的默认图像必须是捆绑包中的固定图像文件。您不能动态更改它。

但是，您可以在启动图像后加载应用程序时显示动态图像。您可以使用动画进行设置，或者每次都选择随机图像。

您需要查看此[链接](https://stackoverflow.com/questions/1959080/dynamic-default-png-splashscreen-in-3-0-iphone-sdk)和[link2](http://www.weston-fl.com/blog/?p=2134)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:15:58.170

产品名称：我不确定你是否可以这样做。苹果不允许。上传应用程序后，您将无法更改产品名称。

启动画面：在这里你可以做一些小的操作。就像，让你的应用启动视图控制器只是一个`UIImageView`. 显示几秒钟并将用户推送到您的第一个屏幕。并且可以实现闪屏的效果。

# wordpress - webconfig文件上的重定向问题

> ID：15264266
> 
> 赞同：0
> 
> 时间：2013-03-07T06:06:42.543
> 
> 标签：wordpress, redirect, url-rewriting

请检查 sfveinaesthetics.com/index.php 打开但[http://sfveinaesthetics.com/](http://sfveinaesthetics.com/)不.. 它是 iis7 服务器中的 wordpress 站点。

内页工作[http://sfveinaesthetics.com/about-us/](http://sfveinaesthetics.com/about-us/)很好..

请尽快给我解决方案。网络配置就像

```
<system.webServer>
    <rewrite>
        <rules>
            <rule name="Main Rule" stopProcessing="true">
                <match url=".*" />
                <conditions logicalGrouping="MatchAll">
                    <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                    <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
                </conditions>
                <action type="Rewrite" url="index.php/{R:0}" />
            </rule>
        </rules>
    </rewrite>
</system.webServer> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T12:07:56.237

不确定是否是导致问题的原因，但 Wordpress 的默认重写规则不包括`/{R:0}`重写操作中的部分。通常是：

```
<action type="Rewrite" url="index.php" /> 
```

# java - java bordlayout中如何删除南北面板之间的间隙

> ID：15264267
> 
> 赞同：0
> 
> 时间：2013-03-07T06:06:45.450
> 
> 标签：java, swing, jpanel, border-layout, gaps-in-visuals

我用`BorderLayout`，我在北边放东西，在南边放东西，但这两个面板（南北）之间总是有一条白线，如何删除这条线？

我已经尝试`setVGap`设置`HGap`并`BorderLayout`尝试设置父框架的背景颜色，但这也不起作用

感谢您的帮助，现在我在这里放了一些代码，也许您会发现有问题。

公共类 MediaSelector 扩展 JPanel{

```
public MediaSelector() {

    setBorder(new EmptyBorder(-1, -1, 0, -2));
    setBackground(Color.red);
    setLayout(new BorderLayout());
    JPanel panel1 = new JPanel();
    panel1.setBackground(new Color(home_screen_r,home_screen_g,home_screen_b));
    panel1.setLayout(null);

    JPanel buttonPane = new JPanel();
    GridBagLayout gridbag = new GridBagLayout();
    buttonPane.setLayout(gridbag);
    buttonPane.setBackground(new Color(footer_r, footer_g, footer_b));

    add("North", panel1);
    add("South", buttonPane);
}
main(){
    mediaSelectorPane = new MediaSelector();
    mediaSelectorPane.setOpaque(true); // content panes must be opaque
    frame.setContentPane(mediaSelectorPane);
    if (isFullScreen) {
        frame.dispose();
        frame.setUndecorated(true);
        frame.getGraphicsConfiguration().getDevice()
                .setFullScreenWindow(frame);
        frame.setVisible(true);
} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:15:46.493

实际上，对我来说效果很好。一定是你在做的其他事情。

![在此处输入图像描述](../Images/f41d34762109041bc25a3acc7afa75c0.png)

```
public class TestLayout19 {

    public static void main(String[] args) {
        new TestLayout19();
    }

    public TestLayout19() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JPanel north = new TestPane(Color.RED);
                JPanel center = new TestPane(Color.GREEN);
                JPanel south = new TestPane(Color.BLUE);

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(north, BorderLayout.NORTH);
//                frame.add(center, BorderLayout.CENTER);
                frame.add(south, BorderLayout.SOUTH);
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public class TestPane extends JPanel {

        public TestPane(Color bg) {
            setBackground(bg);
        }

        @Override
        public Dimension getPreferredSize() {
            return new Dimension(100, 100);
        }

    }

} 
```

在您询问之前，您需要先分享一个代码示例，然后我们才能进一步帮助您

# iphone - 我的应用因元数据而被拒绝

> ID：15264270
> 
> 赞同：0
> 
> 时间：2013-03-07T06:07:05.167
> 
> 标签：iphone, app-store-connect

我已在 iTune Connect 上上传了我的应用程序，但由于元数据而被拒绝。我的应用程序使用用户名和密码登录。而且我没有在元数据中提供演示用户名和密码。

Ao apple 拒绝了我的应用程序并要求提供演示用户名和密码。这很好，但我的问题是。我在没有更新元数据的情况下单击（错误地）在 iTune Connect 上提交元数据按钮，现在我的应用程序再次`waiting for review`处于状态。而且我看不到如何重新提交我的元数据。

所以我必须等待一段时间，以便苹果再次拒绝我的应用程序，我可以重新提交元数据，或者我可以通过其他方式重新提交元数据。是的，我已经向苹果发送了关于这个问题的邮件。并等待他们的答复。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:09:36.040

1.  是的，您可以重新提交元数据。您可以编辑当前的元数据。
2.  不要等待苹果拒绝您的应用程序。
3.  在 iTunes 连接中有部分“查看注释（可选）”将您的演示用户名和密码放在那里。并重新提交应用程序。
4.  如果您等待苹果拒绝该应用程序，那么您将失去至少 7 天。
5.  继续并再次提交元数据。

# printing - 可缩放字体是否可以在 Zebra MZ 320 打印机中使用

> ID：15264272
> 
> 赞同：0
> 
> 时间：2013-03-07T06:07:05.817
> 
> 标签：printing, label, zebra-printers, printers, thermal-printer

我正在使用 CPCL 命令在 Zebra MZ 320 打印机中打印标签。我想在我的 CPCL 代码中使用 SCALABLE_TEXT 命令。但是打印机不打印任何东西。SCALABLE-TEXT 命令可以在 Zebra MZ 320 打印机中使用吗？以及如何在 Zebra MZ 320 打印机中安装 .csf 类型的字体？

这是我的 CPCL 代码：

```
! 0 200 200 300 1
CENTER
SCALE-TEXT PLL_LAT.CSF 10 10 0 10 10 POINT FONT
FORM
PRINT 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T13:41:23.437

CPCL 看起来不错；事实上，看起来你是直接从 CPCL 手册中获取的：https: [//support.zebra.com/cpws/docs/comtec/PROMAN-CPCL_RevY.pdf](https://support.zebra.com/cpws/docs/comtec/PROMAN-CPCL_RevY.pdf)。您需要确保您引用的字体在打印机上。您可以发送以下命令来查看打印机上当前的所有文件。如果您没有看到列出的 PLL_LAT，那么很可能字体不在打印机上：

！U1 getvar "file.dir"

*   请注意，您必须在此命令之后包含一个新行，并且它区分大小写

本文介绍了如何将其他字体下载到打印机： [https ://km.zebra.com/kb/index?page=answeropen&type=open&searchid=1362663129066&answerid=16777222&iqaction=5&url=https%3A%2F%2Fkm.zebra.com %2Fkb%2Findex%3Fpage%3Dcontent%26id%3DSO7889%26actp%3Dsearch%26viewlocale%3Den_US&highlightinfo=6292308,67,81#](https://km.zebra.com/kb/index?page=answeropen&type=open&searchid=1362663129066&answerid=16777222&iqaction=5&url=https%3A%2F%2Fkm.zebra.com%2Fkb%2Findex%3Fpage%3Dcontent%26id%3DSO7889%26actp%3Dsearch%26viewlocale%3Den_US&highlightinfo=6292308,67,81#)

# python - django south - 列不存在

> ID：15264281
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:07:56.293
> 
> 标签：python, django, migration, django-south

我无法使用南方迁移。问题是这样的：

我创建了一个模型，然后我做了 schemamigration app --auto，然后 migrate app，很好。后来，我在这个模型中添加了另一个字段，然后再次执行了这两个命令，但现在它说，“无”列不存在。我想，这是因为我有一个外键字段并且没有默认值，我添加了一些空字符串默认值，然后再次执行命令，它说同样的错误，现在我删除了模型并进行了架构迁移和迁移应用程序，但它仍然不断给出这个错误。

这是我的模型：

```
class User(models.Model):
  registerdate = models.CharField(max_length=400,default='')
  vorname = models.CharField(max_length=100,default='')
  nachname = models.CharField(max_length=100,default='')
  email = models.EmailField(max_length=100,default='')
  strasse = models.CharField(max_length=100,default='')
  hausnr = models.CharField(max_length=100,default='')
  stadt = models.CharField(max_length=100,default='')
  land = models.CharField(max_length=100,default='')
  ##for confirm mails - the hash 
  unique = models.CharField(max_length=400,default='')

  kennwort = models.CharField(max_length=200,default='')
  username = models.CharField(max_length=200,default='')

  locations = models.CharField(max_length=10, default='') 
```

有人可以帮帮我吗？

多谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:19:02.617

```
field_name = models.CharField(max_length=400, blank=True) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-26T20:07:10.597

您将不得不编辑您的迁移文件，或使用有效的默认值重新生成它。您对无效默认值的假设是正确的。

# android - 在 android opengl 方法中是否可以在 onDrawFrame 函数中声明循环或线程

> ID：15264282
> 
> 赞同：0
> 
> 时间：2013-03-07T06:07:59.023
> 
> 标签：android, multithreading, opengl-es, android-animation

我制作了这段代码，用于在时钟和逆时针方向上旋转一个正方形，实际上这是在 jayway 教程中旋转的示例代码。代码不起作用。提前谢谢。:) 英语也很抱歉..:)

```
public void onDrawFrame(final GL10 gl) {

Thread t = new Thread(new Runnable() {

        @Override
        public void run() {
            // TODO Auto-generated method stub
            try{

                gl.glClear(GL10.GL_COLOR_BUFFER_BIT | GL10.GL_DEPTH_BUFFER_BIT);
                gl.glLoadIdentity();
                gl.glTranslatef(0.0f, 4.9f,-9.3f);
                //gl.glTranslatef(2.0f, 0.0f,0.0f);
                gl.glPushMatrix();
                gl.glRotatef(-angle, 0, 0, 1);  

                gl.glScalef(1.0f, 1.0f, 1.0f);
                square.draw(gl);
                gl.glPopMatrix();
                angle++;
                  Thread.sleep(5000);

            }
            catch(InterruptedException e){
            } 
           // To do
            gl.glClear(GL10.GL_COLOR_BUFFER_BIT | GL10.GL_DEPTH_BUFFER_BIT);
            gl.glLoadIdentity();
            gl.glTranslatef(0.0f, 4.9f,-9.3f);
            //gl.glTranslatef(2.0f, 0.0f,0.0f);
            gl.glPushMatrix();
            gl.glRotatef(angle, 0, 0, 1);   

            //gl.glScalef(1.0f, 1.0f, 1.0f);
            square.draw(gl);    
            gl.glPopMatrix();
            angle++;
}   
});t.start(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T22:02:17.780

OpenGL 函数必须从 GLThread 调用。这意味着您的 opengl 函数必须由 3 种方法调用：

```
> onDrawFrame
> onSurfaceChanged 
> onSurfaceCreated 
```

# 关于你的例子

> 您可以直接更新角度并绘制正方形**而无需创建新线程**，因为 onDrawFrame 将被 GLThread 调用重复。

```
public void onDrawFrame(final GL10 gl) {
    glClear(GL10.GL_COLOR_BUFFER_BIT);

    mAngle++; // update angle

    // draw with clockwise rotation
    glPushMatrix();
    {
        glTranslatef(100, 100, 0);
        glRotatef(+mAngle, 0, 0, 1);
        drawSquare();
    }
    glPopMatrix();

    // draw with anti clockwise rotation
    glPushMatrix();
    {
        glTranslatef(100, 200, 0);
        glRotatef(-mAngle, 0, 0, 1);
        drawSquare();
    }
    glPopMatrix();
} 
```

> **如果您仍想创建一个新线程进行更新，请参见以下示例：**

```
float mAngle = 0;
boolean mExit = false;

@Override
public void onSurfaceCreated(GL10 gl, EGLConfig config) {
    Thread updateThread = new Thread(new Runnable() {
        @Override
        public void run() {
            while (!mExit) {
                mAngle++;
                SystemClock.sleep(20);
            }
        }
    });
    updateThread.start();
}

public void onDrawFrame(final GL10 gl) {
    glClear(GL10.GL_COLOR_BUFFER_BIT);

    // clockwise rotation
    glPushMatrix();
    {
        glTranslatef(100, 100, 0);
        glRotatef(mAngle, 0, 0, 1);
        drawSquare();
    }
    glPopMatrix();

    // anti clockwise rotation
    glPushMatrix();
    {
        glTranslatef(100, 200, 0);
        glRotatef(-mAngle, 0, 0, 1);
        drawSquare();
    }
    glPopMatrix();
} 
```

# java - 用数字和“-”嵌套for循环

> ID：15264284
> 
> 赞同：0
> 
> 时间：2013-03-07T06:08:16.310
> 
> 标签：java

这就是问题：

编写一个名为 printDesign 的方法，该方法产生以下输出。使用嵌套的 for 循环来捕获图形的结构。

```
-----1-----
----333----
---55555---
--7777777--
-999999999- 
```

这就是我所拥有的：

```
public static void printDesign() {

    for(int dashAmt= 5; dashAmt >= 1; dashAmt--){
        for(int dash = 1; dashAmt <= dash; dash++){
            System.out.print("-");
        }
        System.out.println();
        for(int numAmt = 1; numAmt <= 9; numAmt+=2) {
            for(int num = 1; num1 <= numAmt; num++) {
                System.out.print(num);
            }
            System.out.println();
        }
    }
} 
```

我的问题是如何将破折号与数字放在同一行，以便我可以得到：

```
-----1-----
----333----
---55555---
--7777777--
-999999999- 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:18:32.423

`System.out.println();`从每个循环中取出 2`for`并放入外`for`循环。

```
for(int dashAmt= 5; dashAmt >= 1; dashAmt--){
        for(int dash = 1; dashAmt <= dash; dash++){
            System.out.print("-");
        }
//        System.out.println(); // Removed
        for(int numAmt = 1; numAmt <= 9; numAmt+=2) {
        for(int num = 1; num <= numAmt; num++) { // Its num and not num1 - typo by you
                System.out.print(num);
            }
//            System.out.println(); // Removed
        }
      System.out.println(); // Put it here.
    } 
```

**注意：**这只能解决您的`sysout`问题。尽管如此，你的逻辑是错误的，我没有解决这个问题。做你的作业。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-04T16:56:23.873

```
 public class PrintDesign {
        public static void main (String args[]) {
           printDesign();
        }

          public static void printDesign() {
           int b = 0;
           for (int i = 1; i <= 9; i += 2) {
                for (int k = 0 ; k < 5 - b; k++) {
                  System.out.print("-");
                }
                    for (int j = 1; j <= i; j++) {
                    System.out.print(i);
               }
                    for (int k = 0 ; k < 5 - b; k++) {
                        System.out.print("-");
                    }
                    System.out.print(" ");
                    System.out.print("");
                    System.out.println("");
                    b ++;
         }
      }
   } 
```

# sql - 如何在不自动增加 ID 列的情况下插入行

> ID：15264287
> 
> 赞同：0
> 
> 时间：2013-03-07T06:08:23.597
> 
> 标签：sql, sql-server

我有一个具有强制自动递增列的表。但有时我必须明确插入值。为此，我将身份设置为打开，但它不起作用

这是代码：

```
SET IDENTITY_INSERT [menu_code] on

INSERT INTO [dbo].[menu_code]
VALUES('', '', '', '', '',
       1  -- Auto Generated Identity column
        ,'', '') 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:20:45.287

错误消息清楚地说明了问题的原因：

> ***只有在使用列列表**并且 IDENTITY_INSERT 为 ON时，才能为表 'dbo.menu_code' 中的标识列指定显式值*

您需要**明确定义**要向其中插入值的列！

```
SET IDENTITY_INSERT [menu_code] ON

INSERT INTO [dbo].[menu_code] (Col1, Col2, Col3, Col4, Col5, IdentityCol, Col6, Col7)
VALUES('', '', '', '', '',
       1  -- Auto Generated Identity column
        ,'', '')

SET IDENTITY_INSERT [menu_code] OFF 
```

无论如何，我建议始终这样做 - 如果您省略列列表（包括 on`INSERT`和`SELECT`statements），那么您将在路上遇到令人讨厌的惊喜。是的，它需要更多的输入 - 一次，当您创建查询时 - 但它会为您节省无数小时的头痛并试图找到令人讨厌的错误......只需**明确****定义**您想要使用的列列表， 每时每刻。

 ****更新：**如果您要从另一个表中插入这些值，我**强烈**`INSERT`建议您在 和 中使用明确的列名列表`SELECT`：

```
SET IDENTITY_INSERT [menu_code] ON

INSERT INTO [dbo].[menu_code] (Col1, Col2, Col3, Col4, Col5, IdentityCol, Col6, Col7)
   SELECT Col1, Col2, Col3, Col4, Col5, IdentityCol, Col6, Col7
   FROM DM_LUBRICANTS.dbo.menu_code 

SET IDENTITY_INSERT [menu_code] OFF 
```**

# python - 如何使用装饰器修改可变类变量？

> ID：15264290
> 
> 赞同：1
> 
> 时间：2013-03-07T06:08:35.977
> 
> 标签：python, inheritance, decorator

我有以下代码：

```
class X(object):
    items = []

class Y(X):
    pass

class Z(X):
    pass 
```

我正在尝试创建一个装饰器，它只会将一个对象添加到 Y 的“项目”列表中。所以下面的代码，

```
@addItems
class Y(X):
    pass 
```

应该在 Y.items 上附加一些东西（例如，假设是整数 1），但不能修改 X.items、Z.items 或 X 的任何其他子类。基本上，Y.items 应该只有`items = [1]`X.items 和 Z .items 都应该有`items = []`. 这是我创建的应该实现该目标的装饰器函数定义：

```
def addItems(cls):
    cls.items.append(1)
    return cls 
```

但这不起作用 - 当我使用装饰器时，它最终会修改 X 和 X 的所有其他子类的“项目”列表。什么给出了？我知道 Python 中的类属性在 X 的所有实例之间共享，但是，我不知道子类受到影响。也许这种行为只发生在可变属性上？

实现我的目标的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:15:48.487

问题不在于装饰器。`items`您对属性的存储 位置/方式有误解。`Y`并且`Z`没有自己的`items`属性。相反，只有一个`items`属性。您在 上定义了它`X`，如果您这样做`Y.items`（或`Z.items`），由于在子类上找不到该属性，因此会在超类上动态查找它。如果你这样做`X.items is Y.items`，你会看到它评估为 True --- 只有一个`items`列表。这意味着当您修改它时，所有类都会看到修改。

如果你想给每个类一个自己的`items`列表，你必须给每个类一个自己的`items`列表：

```
class X(object):
    items  = []

class Y(object):
    items  = []

class Z(object):
    items  = [] 
```

除非你告诉它，否则 Python 从不复制任何东西。仅仅因为您定义了一个从具有属性的类继承的子类，这并不意味着 Python 会为子类创建一个新的属性副本。它只是重复使用超类中的相同对象。

如果您想“神奇地”为每个类赋予其自己的 items 属性，您可以在装饰器中执行此操作：

```
def addItems(cls):
    cls.items = []
    cls.items.append(1)
    return cls 
```

这首先将类设置`items`为一个空列表。这实际上是在它所操作的特定类上设置属性，而不是在任何子类或超类上。现在，当您访问它时，它将按您的预期工作。

# android - Android：将文本视图文本推向左侧而不是右侧

> ID：15264291
> 
> 赞同：0
> 
> 时间：2013-03-07T06:08:35.930
> 
> 标签：android, textview

直线前进。我有一个文本视图，它将在运行时填充其他文本。当我添加新文本时，它会被附加，但它显示为“...”。

例如：“文本视图中的一些文本......”

我想要实现的是，显示新文本并将旧文本显示为“...”

例如：“...这是运行时新添加的文本”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:15:02.567

在您的 TextView 中，如果您通过 XML 布局实例化它，请将 ellipsize 标签添加到您的 TextView：

```
android:ellipsize="start" 
```

这将导致文本的开头被省略，而不是结尾。

如果您在代码中创建 TextView，请使用：

```
myTextView.setEllipsize(TextUtils.TruncateAt.START); 
```

# javascript - 使用 nicEdit 在 javascript 中打开对话框时遇到问题？

> ID：15264294
> 
> 赞同：0
> 
> 时间：2013-03-07T06:08:49.517
> 
> 标签：javascript, nicedit

我`nicEdit`用来显示内容。在此我从 jqGrid 获取内容。使用第一次打开`nicEdit`对话框`javascript`时，`nicEdit`显示空无内容。

并关闭对话框并重新打开它显示的内容。第二次打开对话框时，萤火虫会抛出错误

```
TypeError: b.removeInstance is not a function 
```

我将如何解决此错误以及如何在第一次打开对话框时获取内容值？

这是我在 Javascript 中使用的一些代码

```
$(".nicEdit-main").empty();       
$(".nicEdit-main").append(JopInlinetext);        
jQuery("#addInLineItem").dialog("open");     
new nicEditor({maxHeight : 220}).panelInstance('lineItemId'); 
```

# java - 在 do-while 循环中为整数添加值

> ID：15264296
> 
> 赞同：0
> 
> 时间：2013-03-07T06:08:58.090
> 
> 标签：java, loops, if-statement, do-while

我无法让 do-while 循环成功地将整数更改为 if 语句中的值。如果我输入' **y** '或' **n** '，它将正确退出循环，但整数的值将保持为0。

我使用子字符串来允许用户输入诸如“ **yes** ”或“ **YEs** ”之类的内容，甚至“ **Y3$ir** ”，并且仍然等同于java的“ **y ”。**

**代码：**

```
import java.util.Scanner;
public class aTaskforAll
{
    public static void main (String [] args)
    {
        Scanner scan = new Scanner(System.in);
        String readAll;

        int readAllOption = 0;

        do {
            System.out.print("Do you want the words printed? (y/n) ");
            readAll = scan.nextLine();
            System.out.println(readAll.substring(0));

            if ((readAll.substring(0) == "y") || (readAll.substring(0) == "Y"))
                readAllOption = 1;
            else if ((readAll.substring(0) == "n") || (readAll.substring(0) == "N"))
                readAllOption = 2;
        }
        while (readAllOption != 0);

        System.out.println(readAllOption);    //Tester

        //Go on to do task in response to readAllOption = 1 or 2
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:10:37.850

该[`String.substring(int)`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#substring%28int%29)方法不会像您认为的那样做。

以下是文档中的内容：

> 返回一个新字符串，它是该字符串的子字符串。子字符串以指定索引处的字符开始并延伸到该字符串的末尾。

所以，`readAll.substring(0)`会给你一个子字符串，它基本上包含原始字符串中的所有字符。

您的用例的正确方法是[`String.substring(int,int)`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#substring%28int,%20int%29).

从文档

> 返回一个新字符串，它是该字符串的子字符串。子字符串从指定的 beginIndex 开始并延伸到索引 endIndex - 1 处的字符。因此子字符串的长度是 endIndex-beginIndex。

所以，`readAll.substring(0, 1)`会给你一个只有第一个字符的子字符串。

[`String.startsWith(String)`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#startsWith%28java.lang.String%29)或者使用方法会更好（更清洁）

```
if (readAll.startsWith("y") || readAll.startsWith("Y"))
    //... 
```

* * *

另一个问题是使用`==`对象（在您的情况下为字符串）相等性检查：

```
//...
if ((readAll.substring(0) == "y") || (readAll.substring(0) == "Y"))
//...
else if ((readAll.substring(0) == "n") || (readAll.substring(0) == "N"))
//... 
```

不要使用`==`, 使用`.equals`method 代替进行相等性检查。`==`用于身份检查，这意味着只是比较参考。

* * *

`readAllOption`此外，您应该在每次迭代开始时重置 的值：

```
do {
    readAllOption = 0; 
```

退出循环。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:11:47.580

首先，您的终止条件是倒退的。

你要

```
do {
  stuff...
}
while (readAllOption  == 0) 
```

正如所写，它只会在 readAllOption == 0 时退出循环。您需要在每个循环开始时将其设置为 0。

其次，`readAll.subString(0)`返回整个字符串。您想要`readAll.charAt(0)`，并将其与字符“Y”或“N”进行比较。

我不知道这段代码是如何远程为你工作的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T06:12:40.403

对于字符串，您需要使用`.equals("y")`not`==`并且您没有子字符串的结束索引。像这样

```
if (readAll.substring(0, 1).equals("y")){} 
```

正如Bhesh Gurung所说

> 此外，您应该在每次迭代开始时重置 readAllOption 的值：
> 
> 做{ readAllOption = 0;

也正如用户 user949300 所说

> 你的终止条件是倒退的。
> 
> 你要
> 
> do { stuff... } while (readAllOption == 0) 正如写的那样，它只会在 readAllOption == 0 时退出循环

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T06:12:44.900

在比较字符串时使用`.equals()`而不是。`==`

只获取第一个字符也可以（而且效率更高）：

`readAll.charAt(0) == 'y'`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T06:33:53.630

让你的代码像这样。保持它的完整性。

```
import java.util.Scanner;
public class aTaskforAll
  {
  public static void main (String [] args)
    {
    Scanner scan = new Scanner(System.in);
    String readAll;

    int readAllOption = 0;

    do {
        System.out.print("Do you want the words printed? (y/n) ");
        readAll = scan.nextLine();
        System.out.println(readAll.substring(0));

        if ("y".equals(readAll.substring(0,1).toLowerCase())
            readAllOption = 1;
        else if ("n".equals(readAll.substring(0,1).toLowerCase())
            readAllOption = 2;
        }
    while (readAllOption != 0);

    System.out.println(readAllOption);    //Tester

    //Go on to do task in response to readAllOption = 1 or 2
   }
} 
```

# java - 阻塞队列消费者和竞争条件

> ID：15264297
> 
> 赞同：2
> 
> 时间：2013-03-07T06:09:00.787
> 
> 标签：java

我有一个应用程序可以不断地从外部系统接收股票价格。

价格将由 stockID 键入。

当价格到达时，它们将被送入阻塞队列。

会有一个线程池从这个队列中消费和处理，并将价格放入缓存中（股票 ID 和价格的哈希图）。

困扰我的是，如果队列有重复股票 id 的价格，当线程处理这些时，旧价格可能会在新价格之后写入缓存。

有没有办法绕过这种情况？

如何确保最后处理最新的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:04:21.167

您可以使用自动递增的序列号标记每个传入的价格更新。写入缓存时，您可以删除序列号低于该股票缓存中已存在序列号的每个更新。

或者，您可以跨线程划分股票世界，这意味着给定股票的更新始终由同一线程处理。

# python - Python：浮点数失去精度？

> ID：15264301
> 
> 赞同：3
> 
> 时间：2013-03-07T06:09:06.073
> 
> 标签：python, printing, floating-point

我有一个需要浮动的程序。比如说，这个数字是`1353118103.108893381`。该数字是传入的较大字符串的一部分，每个参数由空格分隔。例如`Arg1 Arg2 1353118103.108893381 Arg3`，将是传递到程序中的全部内容。该程序将输入存储到一个字符串`inps`中。然后，我使用 . 将每个参数拆分为一个列表`inps.split(' ')`。

所以我现在有类似的东西`finput = ['Arg1', 'Arg2', '1353118103.108893381', 'Arg3']`。我现在想玩浮点数。但是，浮点数目前是字符串，所以我想将其转换为浮点数类型。我用`rinput = float(finput[2])`. 但是，当我这样做时`print "%.9f" % rinput`，输出给了我`1353118103.108893394`（最后 2 个数字关闭）。任何想法为什么程序会这样做？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:20:45.867

在浮点表示中，每个位要么用于表示整数部分，要么用于表示数字的小数部分。整数部分（绝对值）越大，表示它所需的位数越多，因此您剩下的分数位数越少，从而有失去精度的风险。

尝试分别存储整数部分和小数部分，或使用[小数](http://docs.python.org/2/library/decimal.html)

# ocaml - Coq 的提取机制生成 "failwith "AXIOM TO BE REALIZE""

> ID：15264305
> 
> 赞同：0
> 
> 时间：2013-03-07T06:09:11.517
> 
> 标签：ocaml, coq, coq-extraction

我在这个模块中有一个模块结构我声明了一个用于内部某些函数的变量`module A`。

```
Module A.

  Variable a : nat.   

End A. 
```

然后我使用提取机制。

```
Extraction Language Ocaml.   
Set Extraction Optimize.
Set Extraction AccessOpaque.
Extraction A. 
```

要不就

```
Extraction A. 
```

它为我生成了带有警告的代码：“必须在提取的代码中实现以下公理：Aa”

```
type nat =
| O
| S of nat

module A = 
 struct 
  (** val a : nat **)

  let a =
    failwith "AXIOM TO BE REALIZED"
 end 
```

在这里，我收到`a`了`failwith "AXIOM TO BE REALIZED"` 我无法成功运行我的功能，因为这个`failwith`

因为我必须使用`a`模块内部的变量。`failwith`我想知道有没有办法定义提取后不会生成的模块？还是与不会生成此`failwith`功能的提取有关？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:45:15.400

Well, at some point you'll have to provide a value for `A.a`. If you want to abstract `A` with respect to `a`, I guess that the most convenient way is to use a functor, which is directly translated as such in OCaml:

```
Module Type Param.
  Variable x: nat.
End Param.

Module A (Import P: Param).

  Definition a:=P.x.   

End A.

Extraction Language Ocaml.   
Set Extraction Optimize.
Set Extraction AccessOpaque.

Extraction "test.ml" A. 
```

(Of course, you must instantiate the resulting OCaml functor `A` to run a computation).

# arrays - 在3d数组访问vba中循环不返回所有结果

> ID：15264312
> 
> 赞同：0
> 
> 时间：2013-03-07T06:09:33.033
> 
> 标签：arrays, vba, ms-access

我有一个项目，其中 4 个预定付款与 4 个“合同”日期相关联，存储在 tblPaySch 但是，有时我们会在不同日期（“实际”）日期收到不同金额的付款（存储在 tblTrans）

我正在尝试定义 4 个日期（由 ID 1 - 4 标识）和预期金额的数组，然后将其与 tblTrans 进行比较，以查看是否已超过预期付款，如果是，则将该交易日期标记为“实际日期。

要么我的数组有问题，要么我的循环有问题，因为我可以获得 ID1 的结果（即，员工的预期工资和满足它的交易日期），但无法获得其他 3 个 ID。

我在使用 GetDate(prjID) 的查询中调用它以将 prjId 传递给函数。

这是我的代码：

```
'This function is a multidimensional array that can hold multiple values
Public Function GetDate(intID As Long) As Variant

    Dim intTot As Long
    Dim i As Integer
    Dim i2 As Integer

    'Define recordset to get expected payment data
    Dim rsPrj As DAO.Recordset 
    Set rsPrj = CurrentDb.OpenRecordset("SELECT * FROM tblPaySch WHERE PrjID =" & intID, dbOpenSnapshot)

    'Define recordset to get transaction data
    Dim rs As DAO.Recordset
    Set rs = CurrentDb.OpenRecordset("Select * from tblTrans where PrjID=" & intID, dbOpenSnapshot)

    'Store milestone payments in RA
    Dim RA(0 To 4, 0 To 4, 0 To 4) As Variant
    RA(0, 0, 0) = rsPrj!MSCdbID 'payment Id, 4 of which are associated with each PrjID
    RA(0, 1, 0) = rsPrj!PayIncGST 'expected payment amount, of 4 different totals
    RA(0, 0, 1) = rs!RefDate 'Actual date from tblTrans
    intTot = 0

    Do While rs.EOF
        intTot = intTot + rs!Amt 'refers to the amount of the transaction
        '-----Check for milestone exceeded
        For i = 0 To 4
            For i2 = 0 To 4
                If IsNull(RA(i, i2, 1) And RA(i, i2, 0) <= intTot) Then
                        RA(i, i2, 1) = rs!RefDate
                 End If
            Next i2
        Next i

    Loop

    GetDate = RA(0, 0, 1)

    Debug.Print RA(1, 0, 0)
    Debug.Print RA(0, 1, 0)
    Debug.Print RA(0, 0, 1)

End Function 
```

提前谢谢你，请原谅任何明显的新手错误，这是我的第一个数组函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T16:24:45.780

好的，我想我明白你在做什么。让我们看看我们是否可以简化一下。

首先你有你的表结构（DatePaid 是你想要更新的值？）：

**tblPaySch 是：**

```
PrjID    PayID    ExpectedAmt    DatePaid(trying to find from tblTrans) 
1          1         $100 
1          2         $150 
1          3         $100 
1          4         $200 
```

**tblTrans 是：（** 假设日期格式为 DD/MM/YYYY 并且始终按时间顺序排序）

```
PrjID AmtPaid   PayDate 
1       $250    12/03/12
2       $765    05/05/12
3       $150    06/05/12
1       $200    07/06/12
1       $100    08/07/12 
```

我假设可能需要多次交易才能达到预期的付款金额，但付款也可能比预期的要多。我使用您在示例数据中提供的列名作为字段名。

我希望在代码中添加了足够多的注释，它会对您有用。

```
Private Function GetDate(intID As Long) As Variant
    Dim intTot As Long
    Dim i As Integer
    Dim i2 As Integer
    Dim loopCounter As Integer

    'Define recordset to get expected payment data
    Dim rsPrj As DAO.Recordset
    Set rsPrj = CurrentDb.OpenRecordset("SELECT * FROM tblPaySch WHERE PrjID =" & intID)

    'Define recordset to get transaction data
    Dim rs As DAO.Recordset
    Set rs = CurrentDb.OpenRecordset("Select * from tblTrans where PrjID=" & intID, dbOpenSnapshot)

    ' get rs.recordcount and go back to the beginning
    rs.MoveLast
    rs.MoveFirst

    ' Only need to store the records returned and the 2 fields Payment amount and payment date
    Dim RA() As Variant
    ReDim RA(0 To rs.RecordCount - 1, 0 To 1)

    ' Populate the array with the transaction records
    i = 0
    Do Until rs.EOF
        RA(i, 0) = rs!AmtPaid
        RA(i, 1) = rs!PayDate
        If rs.RecordCount <> 0 Then
            rs.MoveNext
            i = i + 1
        End If
    Loop

    intTot = 0
    loopCounter = 0 ' This will ensure we don't check transactions more than once

    ' First we're going to loop through the payment schedule and see at which payment from table transaction
    ' the scheduled payment is met
    Do Until rsPrj.EOF
        ' First we check if the last payment was enough to make this scheduled payment to and if so mark it paid
        ' otherwise check for the next transaction that gives us enough
        If intTot < rsPrj!ExpectedAmt Then
            For i = loopCounter To UBound(RA)
                intTot = intTot + RA(i, 0)
                If intTot >= rsPrj!ExpectedAmt Then ' if the current payment is = or greater than expected set the date
                    rsPrj.edit
                    rsPrj!DatePaid = RA(i, 1)
                    rsPrj.Update
                    intTot = intTot - rsPrj!ExpectedAmt  ' update our remainder
                    loopCounter = loopCounter + 1 ' increase this so we don't double check a transaction
                    Exit For ' exit loop and move to the next expected payment
                End If
            Next i
        Else
            rsPrj.edit
            rsPrj!DatePaid = RA(i, 1)
            rsPrj.Update
            intTot = intTot - rsPrj!ExpectedAmt
        End If
        If rsPrj.RecordCount <> 0 Then
            rsPrj.MoveNext
        End If
    Loop
End Function 
```

# android - 在android中检测图像的方向

> ID：15264315
> 
> 赞同：0
> 
> 时间：2013-03-07T06:09:40.393
> 
> 标签：android, android-imageview, android-image, android-orientation

我正在访问服务器并获取将显示在画廊中的图像。在此之前，我想获得图像的方向，这样如果图像处于横向模式，我就可以将它们转换为纵向。我能够旋转使用矩阵，但我无法获得方向。我尝试使用 ExifInterface 但这需要存储图像的路径。我尝试了一个带有可绘制图像的演示。但是当我这样做时

```
orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL); 
```

但是总是将值设为 0。请提出建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:13:17.563

也许您可以比较图像的高度和宽度？（即宽度 > 高度 = 横向，宽度 < 高度 = 纵向）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:15:59.470

某些设备不支持 Exif 信息功能。[您可以在此处查看](https://stackoverflow.com/a/11084765/969325)有关如何实施的示例和更长的讨论。

# android - 用于嵌入超链接支持的 android pdf 查看器 sdk

> ID：15264316
> 
> 赞同：2
> 
> 时间：2013-03-07T06:09:42.293
> 
> 标签：android, pdf

我打算开发一个支持带有超链接支持的 pdf 阅读功能的 android 应用程序。意味着我想在 pdf 中显示嵌入的超链接，并且用户单击该超链接我的应用程序需要重定向到浏览器。我不想使用谷歌文档。我找到了一些开源 pdf sdk，但我无法为超链接提供支持。如果有任何开源 sdk 也提供超链接支持，请建议我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-14T06:52:12.717

这可以通过 WebView 或通过下载 PDF 并打开已安装应用程序的 Intent 来完成。但是，我使用的是第三方 API，它无法打开超链接 PDF。我上面描述的两种方式可以通过

```
if (!canDisplayPdf()) {
Intent i = new Intent(getBaseContext(), WebActivity.class);
i.putExtra("url", alist.get(position).toString());
//alist.get(position).toString() is hyperlinked pdf url
startActivity(i);
}
else
{
try
{
Toast.makeText(getBaseContext(), "Opening PDF... ", Toast.LENGTH_SHORT).show();
Intent inte = new Intent(Intent.ACTION_VIEW, Uri.parse(alist.get(position).toString()));
//inte.setDataAndType(Uri.parse(alist.get(position).toString()), "application/pdf");
startActivity(inte);
}
catch (ActivityNotFoundException e)
{
Log.e("Activity Not Found", e.getMessage());
}

// If canDisplayPDF function() will ensure whether device has PDF application or not.

public boolean canDisplayPdf() {
PackageManager packageManager = getApplication().getPackageManager();
Intent testIntent = new Intent(Intent.ACTION_VIEW);
testIntent.setType("application/pdf");
if (packageManager.queryIntentActivities(testIntent, PackageManager.MATCH_DEFAULT_ONLY).size() > 0) {
return true;
}
else
{
return false;
}
} 
```

# c# - LINQ to Entities 无法识别方法“System.TimeSpan Subtract(System.DateTime)”方法

> ID：15264319
> 
> 赞同：38
> 
> 时间：2013-03-07T06:09:54.103
> 
> 标签：c#, linq, entity-framework, linq-to-sql, linq-to-entities

我尝试在当前日期选择 60 天 30 天 20 天不同的数据库中的记录。

请在下面查看此查询。

```
 var uploads = (
                from files in _fileuploadRepository.Table
                join product in _productRepository.Table on files.Event equals product.Id
                where
                    (
                product.EventDate != null &&
                    (product.EventDate.Subtract(DateTime.Now).Days <= 60 && product.EventDate.Subtract(DateTime.Now).Days >= 60) ||
                    (product.EventDate.Subtract(DateTime.Now).Days <= 30 && product.EventDate.Subtract(DateTime.Now).Days >= 30) ||
                    (product.EventDate.Subtract(DateTime.Now).Days <= 20 && product.EventDate.Subtract(DateTime.Now).Days >= 20))
                    &&
                files.IsSkiped == false
                select files;
            ).ToList(); 
```

但是这个查询发生了错误。

![在此处输入图像描述](../Images/4b285132fc4e17a471ee166f98141ab3.png)

我一无所知。请帮忙。

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2013-03-07T06:16:58.517

您可以使用该`EntityFunctions.DiffDays`方法

```
EntityFunctions.DiffDays(product.EventDate, DateTime.Now) //this will return the difference in days 
```

**更新**

EntityFunctions 现在已过时，因此您应该改用 DBFunctions。

```
System.Data.Entity.DbFunctions.DiffDays(product.EventDate, DateTime.Now) 
```

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2013-03-07T06:16:24.687

最简单的方法是在执行查询*之前*计算出边界：

```
// Only evaluate DateTime.Now once for consistency. You might want DateTime.Today instead.
DateTime now = DateTime.Now;
DateTime nowPlus60Days = now.AddDays(60);
DateTime nowPlus30Days = now.AddDays(30);
DateTime nowPlus20Days = now.AddDays(20);

var query = ...
            where product.EventDate <= nowPlus60Days
            ... 
```

请注意，您当前的查询甚至没有真正意义，因为每个“或”子句都说明给定的计算既小于或等于一个值*又*大于或等于同一值。如果您想要简单的“等于”，请使用它。如果不是，则不清楚您*要做*什么。

如果您尝试将值存储为“小于 20”、“20-30”、“30-60”、“超过 60”，则需要使用某种形式的分组。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-06-03T09:23:58.630

这应该有效：

```
using System.Data.Entity.SqlServer;

where (int)SqlFunctions.DateDiff("day", product.EventDate, DateTime.Now) <= 60 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-01-07T17:41:08.843

为了补充 Scartag 的答案，

DbFunctions.DiffDays的[MSDN 文档](https://msdn.microsoft.com/en-us/library/system.data.entity.dbfunctions.diffdays%28v=vs.113%29.aspx#M:System.Data.Entity.DbFunctions.DiffDays%28System.Nullable%7BSystem.DateTime%7D,System.Nullable%7BSystem.DateTime%7D%29)没有直接提到 DiffDays() 返回的值是否以及何时为负数，所以我想我会在此处提供该信息：

当参数 1 的日期大于（即相对于）参数 2 的日期时，结果将为负数。

例如，给定一个`Deliveries`具有非空字段的表，该字段`ScheduledDeliveryDate`可以具有相对于当前日期的过去和未来的值，此查询将获取当前日期的 2 天内交货日期/时间的所有记录/时间（过去和未来）：

```
DateTime now = DateTime.Now;
var results = from d in Deliveries
    where (DbFunctions.DiffDays(d.ScheduledDeliveryDate, now) < 2
        && DbFunctions.DiffDays(d.ScheduledDeliveryDate, now) > -2)
    select d; 
```

# eventbrite - 414 请求 URI 太大

> ID：15264323
> 
> 赞同：1
> 
> 时间：2013-03-07T06:10:19.423
> 
> 标签：eventbrite

尝试创建具有丰富描述的事件时，我收到“414 Request-URI Too Large”错误。我想这是意料之中的，因为 event_new 是一个 GET 请求，它一定会发生。

最好的解决方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T19:12:36.443

> 注意：我在 Eventbrite 的平台团队工作

目前，我们的网络服务器实施了一个硬性限制。因此，就近期而言，没有解决办法。

如前所述，通过 GET 创建新事件或更新现有事件是不理想的，我们正在积极构建一种更 RESTful 且不存在此类问题的新 API。

我将研究为我们的 api 服务器增加缓冲区大小限制的可能性。

# ejb - 为什么无状态和有状态会话 bean 的行为不如预期

> ID：15264325
> 
> 赞同：0
> 
> 时间：2013-03-07T06:10:23.613
> 
> 标签：ejb, stateless, stateful

```
public class Test1(){  
  public vod method1(){  
    try{  
        Hashtable<String, String> env = new Hashtable<String, String>();  
        env.put(Context.INITIAL_CONTEXT_FACTORY, EJB_JNDI_FACTORY);  
        env.put(Context.PROVIDER_URL, EJB_URL);  
        InitialContext ctx = new InitialContext(env);             
        LogSearchRemote logSearchRemote = (LogSearchRemote) ctx.lookup(LOG_SEARCH_EJB_BINDNAME);  
        System.out.println("logSearchRemote = " + logSearchRemote);  
        logSearchRemote.setTest(5);  
        System.out.println("logSearchRemote.getTest() = " + logSearchRemote.getTest());  
        System.out.println("logSearchRemote.getTestAgain() = " + logSearchRemote.getTestAgain());  
        LogSearchRemote logSearchRemote2 = (LogSearchRemote) ctx.lookup(LOG_SEARCH_EJB_BINDNAME);  
        System.out.println("logSearchRemote2 = " + logSearchRemote2);  
        System.out.println("logSearchRemote2.getTest() = " + logSearchRemote2.getTest());  
        System.out.println("logSearchRemote2.getTestAgain() = " + logSearchRemote2.getTestAgain());  
        this.session = session;  
        session.setAttribute("LogSearchEJB", logSearchRemote);  
        System.out.println("logSearchRemote = " + logSearchRemote);  
    }catch(Exception e){  
        e.printStackTrace();  
    }  
  // if @stateless, throw exception "$Proxy53 cannot be cast to hk.gov.ehr.service.tch.als.admin.logsearch.ejb.LogSearchRemote"  
  // if @stateful, no error!!  
LogSearchRemote logSearchRemote = (LogSearchRemote)session.getAttribute("LogSearchEJB");  
  //.....  
  }  
} 
```

1) 对于上面的代码，如果 LogSearchRemote 实现 bean 是有状态的，那么

```
 LogSearchRemote logSearchRemote = (LogSearchRemote)session.getAttribute("LogSearchEJB"); 
```

没有错误，但是如果 LogSearchRemote implementation bean 是**stateless**，则抛出异常“$Proxy53 cannot be cast to hk.gov.ehr.service.tch.als.admin.logsearch.ejb.LogSearchRemote”，为什么？

2) 对于**有状态会话 bean**，我每次都发现

```
LogSearchRemote logSearchRemote = (LogSearchRemote) ctx.lookup(LOG_SEARCH_EJB_BINDNAME); 
```

返回**不同**的 logSearchRemote 实现 bean，
但如果是**无状态**会话 bean，则每次

```
LogSearchRemote logSearchRemote = (LogSearchRemote) ctx.lookup(LOG_SEARCH_EJB_BINDNAME); 
```

返回**相同**的bean！
为什么会这样？
**我希望无状态会话 bean 不应该保持状态，并且每个查找应该返回一个不同的实现 bean。**

```
@Stateless(name = "AlsAdminLogSearch_1_0", mappedName = "ejb/AlsAdminLogSearch_1_0")  
public class LogSearchBean implements LogSearchRemote{  

    private int test;

    @Override  
    public void setTest(int value){  
        test = value;  
    }  

    @Override  
    public int getTest(){  
        return test;  
    }  

    @Override  
    public int getTestAgain(){  
        return test;  
    }  

//...methods  

} 
```

3）当我打电话时

```
logSearchRemote.setTest(5);  
System.out.println("logSearchRemote.getTest() = " + logSearchRemote.getTest());  
System.out.println("logSearchRemote.getTestAgain() = " 
logSearchRemote.getTestAgain()); 
```

对于无状态会话 bean，getTest() 和 getTestAgain() 可以记住之前方法调用中的实例变量“test”！！

为什么会记住？无状态会话 bean 不应该为每个方法调用调用不同的 EJB 实例吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-16T16:35:32.360

无状态会话 Bean 应该“以无状态方式”使用，但实际上服务器保留了一个实例池（取决于供应商策略）。因此，您*可能*会在多次查找中收到完全相同的实例，但这绝不是保证。相反，不同的线程和客户端实例可能会获得相同的无状态 EJB 实例，从而有效地共享这个无状态 EJB 实例。这就是为什么无状态 EJB 不应在内部保持任何“业务逻辑状态”，因为您不知道下一个客户端是哪个客户端。尽管不推荐，但无状态 EJB 当然可能拥有一些内部技术状态，这可能使其能够在实例重用时更快地访问外部“无状态”资源。（请参阅 Web 和书籍中提供的 EJB 生命周期图。）

另一方面，有状态会话 Bean 应该“以有状态方式”使用，即它们旨在在一段时间内保持状态并跨越多个客户端请求。因此，客户端可以保证在查找时接收到“新实例”，并且由于容器无法确定是否有任何实现在最后一个使用周期结束后“忘记”旧状态信息，因此容器在将有状态 EJB 与客户端分离后简单地销毁它们并在查找时创建一个新实例。

这样做的问题是，有状态 EJB 的客户端*必须*在整个计划的使用周期内持有并保持其对 EJB 的引用，因为在丢失（最后一个）引用之后，有状态 EJB 会丢失在空间中并被容器清理。另一方面，EJB ref 是不可序列化的（据我所知），因此要求客户端在其 EJB 使用周期期间*不*序列化，以保持其 EJB ref 处于活动状态。

此外，我不知道任何与 HttpSession 属性查找相当的查找机制，以在一段时间后找到任何现有的有状态 EJB：有状态 EJB 要么实际上绑定到正在运行的客户端，要么“不存在”。

因此，在一个使用有状态 EJB 来保存一些用户会话信息的项目中，我们决定使用 HttpSession 属性对象来保存有状态 EJB 引用。因此，应用程序可以在 HttpSession 中查找“EJB 持有者”对象，然后重用 Stateful EJB。但是，如果 Web 容器决定序列化 HttpSession 属性对象（“EJB 持有者”），这显然会失败，因为 EJB ref 无法在序列化后继续存在。下次在 HttpSession 范围内查找“EJB 持有者”时，它会被 Web 容器反序列化，但有状态 EJB 被切断其 ref 并且不能再使用。

# parsing - 解析远程计算机上的文件

> ID：15264328
> 
> 赞同：0
> 
> 时间：2013-03-07T06:10:37.957
> 
> 标签：parsing, remote-access, mount

我有两个系统。现在我在一个系统上有一些定期生成的日志文件（比如每小时）。现在我想从另一个系统解析这些文件。一种方法是复制文件然后解析它们。但这一次会消耗大量带宽（复制时），如果我在原始系统上解析文件，那么它会增加我不想要的 CPU 利用率。有人可以建议我以尽可能最佳的方式实现这一目标。简而言之，我想要的是：我有一个系统 A，并且来自 A，我想解析位于远程系统 B 上的文件，以便我在系统 B 上没有太多负载（不要担心系统 A 上的负载）和网络负载也得到优化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:29:51.193

正如 tjameson 建议的那样，你应该 rsync。我想添加`-z`标志的使用，它在传输之前压缩文件，然后在目的地解压缩它们。此标志有助于最大限度地减少数据传输量。例如，以下命令（在系统 B 上）同步系统 A、目录 logs/ 的文件：

```
rsync -az systemA:logs . 
```

# java - 使用 Java 和销售报告创建一天内的销售数量

> ID：15264334
> 
> 赞同：0
> 
> 时间：2013-03-07T06:10:53.700
> 
> 标签：java

我有相当多的 Java 经验，但很少使用任何类型的库存管理系统、销售报告和类似的东西。我正在做一个项目，我有一个过去一年的销售 Excel 报告文件。我可以阅读这篇文章并找到我需要的信息，但我无法弄清楚如何在不使用一堆嵌套 for 循环的情况下每天获取特定商品 (SKU) 的销售数量。我知道必须有一个更简单的方法，但我现在想不出一个。

例如，有一堆关于过去一年售出的 30,000 件商品的信息。我创建了一个 'Item' 对象数组，用于为 'sku' 和 'timestamp' （购买时）提取和设置字符串值。

现在我必须循环浏览并检查每天售出多少商品，但我不确定最好的方法是什么。

我的 Item 数组可能如下所示：

```
//item[0] ; sku="AKD123"; timestamp="2012-02-01";
//item[1] ; sku="REN134"; timestamp="2012-02-01";
//item[2] ; sku="PIK383"; timestamp="2012-02-01";
//item[3] ; sku="REN134"; timestamp="2012-02-01"; 
```

该数组中大约有 100 万个其他项目，但从中可以看到 AKD123 卖出了 1 个，REN134 卖出了 2 个，PIK383 卖出了 1 个。我不确定如何获得这个输出。必须有某种数组方法可以帮助我将其排序为当天的数字，但这可能会导致另一个问题，因为如果某个特定 sku 在 2012-02-01 售出 0 个单位，那么它就不会出现在 excel 中报告。我也不知道给定的报告会有多少不同的 sku，所以这也让我感到不安。

代码会很棒，但即使是关于我需要搜索的建议也会很棒。我觉得我应该已经知道如何做到这一点，但是我睡眠不足，并且在过去的 2 个小时里没有非常耗时的嵌套 for 循环，所以我决定求助于社区。

多谢你们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:36:04.033

只需在迭代数组的地方使用 Map 对象（或者最好不要使用数组，直接填充地图），其中键可以是 sku 的串联，日期和值将是计数。因此，如果您想知道在“2012-02-01”销售了多少 sku “REN134”，请检查键“REN134-2012-02-01”的值

如果需求是查询“REN134”全程售出多少件，则需要构建一个key为sku、value为count的map。

让我知道是否需要解决任何特殊情况，因为大多数此类事情都可以通过使用地图来解决。

- 和平。圣克劳特

# spring - JSF - Spring JDBC 模板

> ID：15264335
> 
> 赞同：0
> 
> 时间：2013-03-07T06:10:59.843
> 
> 标签：spring, jsf, spring-jdbc, icefaces-3

当我尝试将 Spring JDBC Template 与 JSF/ICEFaces 一起使用时，它会引发一些错误。

这是我的`spring.xml`

```
<beans ...>

    <bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
        <property name="driverClassName" value="oracle.jdbc.driver.OracleDriver" />
        <property name="url" value="jdbc:oracle:thin:@//localhost:1521/xe" />
        <property name="username" value="hr" />
        <property name="password" value="hr" />
    </bean>

    <bean id="testDAO" class="com.sura2k.TestDAOImpl">
        <property name="dataSource" ref="dataSource" />
    </bean>

</beans> 
```

这是DAO。

```
public class TestDAOImpl extends JdbcDaoSupport implements TestDAO {

    @Override
    public int getTotal(){

        String sql = "SELECT COUNT(*) FROM CUSTOMER"; 
        int total = getJdbcTemplate().queryForInt(sql);     
        return total;
    }
} 
```

例外...

```
....

Caused by: org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'dataSource' defined in class path resource 
[META-INF/database/spring.datasource.xml]: Error setting property values; 
nested exception is org.springframework.beans.PropertyBatchUpdateException; 
nested PropertyAccessExceptions (1) are:

PropertyAccessException 1: org.springframework.beans.MethodInvocationException: 
Property 'driverClassName' threw exception; nested exception is 
java.lang.IllegalStateException: Could not load JDBC driver class 
[oracle.jdbc.driver.OracleDriver]

... 
```

# javascript - 使用 jQuery 将结果值分配给第三个文本框

> ID：15264336
> 
> 赞同：0
> 
> 时间：2013-03-07T06:10:59.817
> 
> 标签：javascript, jquery

我有三个文本框。我想从前 2 个文本框中获取值，计算值，然后将结果分配给第 3 个文本框。为了实现这一点，我在 jquery 中做了类似以下的事情；

```
<script type="text/javascript">
   $(document).ready(function myfunction() {
        $("#TxBx_MarksObtained").change(function () {
            //var value = $(this).val();
            var a = $("#TextBoxTotalMarks").val();
            var b = $("#TxBx_MarksObtained").val();
            var c = (b * 100 / a).toFixed(2);
            $("#TextBoxMarksInPercent").val(c);
        }); 
    });
</script> 
```

现在，问题是，当我专注于`TextBoxTotalMarks`并输入值时`TxBx_MarksObtained`，Everythings 工作得很好，结果被分配给`TextBoxMarksInPercent`.
但是，当我将焦点更改为另一个文本框（表单中的其他位置）然后返回并更改 and 的值`TextBoxTotalMarks`时`TxBx_MarksObtained`。我没有看到任何变化`TextBoxMarksInPercent`。
**我做错了什么？
为什么从另一个文本框返回后我的值没有更新？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:12:22.937

尝试这个：

```
<script type="text/javascript">
   $(document).ready(function () {
        $("#TxBx_MarksObtained, #TextBoxTotalMarks").change(function () {//for both text boxes
            //var value = $(this).val();
            var a = $("#TextBoxTotalMarks").val();
            var b = $("#TxBx_MarksObtained").val();
            var c = (b * 100 / a).toFixed(2);
            $("#TextBoxMarksInPercent").val(c);
        }); 
    });
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:15:50.507

您在处理程序中有错误`doc ready`：

```
<script type="text/javascript">
   $(document).ready(function myfunction() {
   //-------------------------^^^^^^^^^^^-----this should not be here 
```

试试这种方式，我建议你使用`.blur() or .focus() or .key()events`：

```
<script type="text/javascript">
  $(document).ready(function () {
    $("#TxBx_MarksObtained, #TxBx_MarksObtained").keyup(function () {
    // ------------------------------------------^^^^^^--keyup instead of change.
        var a = $("#TextBoxTotalMarks").val();
        var b = $("#TxBx_MarksObtained").val();
        var c = (b * 100 / a).toFixed(2);
        $("#TextBoxMarksInPercent").val(c);
    }); 
  });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:16:04.580

尝试 focusout() 而不是 change()

```
<script type="text/javascript">
     $( document ).ready( function ()
    {
        $("#TxBx_MarksObtained, #TextBoxTotalMarks").focusout(function () {//for both text boxes
            //var value = $(this).val();
            var a = $("#TextBoxTotalMarks").val();
            var b = $("#TxBx_MarksObtained").val();
            var c = (b * 100 / a).toFixed(2);
            $("#TextBoxMarksInPercent").val(c);
        }); 
    });
</script> 
```

# android - 如何将一个共同的风格和主题应用到我们的项目中？

> ID：15264339
> 
> 赞同：1
> 
> 时间：2013-03-07T06:11:16.423
> 
> 标签：android, android-xml

我想在我的项目中使用相同的 Header。我想在标题部分显示两个图像按钮和一个文本视图。我想对我项目的所有屏幕使用相同的标题部分，但想根据我的屏幕更改 textview 的文本。请任何人帮助我如何应用样式和主题，以便我能够在我的项目中使用相同的标题并根据项目屏幕更改文本视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:46:03.120

像这样试试

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="CodeFont" parent="@android:style/TextAppearance.Medium">
        <item name="android:layout_width">fill_parent</item>
        <item name="android:layout_height">wrap_content</item>
        <item name="android:textColor">#00FF00</item>
        <item name="android:typeface">monospace</item>

    </style>
</resources> 
```

更多[信息](http://developer.android.com/guide/topics/ui/themes.html)或试试[这个](http://www.linuxtopia.org/online_books/android/devguide/guide/topics/ui/themes.html)

# sql - Rails 不适用于时间比较

> ID：15264340
> 
> 赞同：1
> 
> 时间：2013-03-07T06:11:32.640
> 
> 标签：sql, ruby-on-rails-3, time, where

这个查询有些奇怪，我无法解决

我有一个有很多评论的帖子模型。我想获取过去 24 小时内的评论

```
p=Post.first

 p.comments.where("(:t - comments.created_at) <= :d", t: Time.now, d: 1.day)
  Comment Load (1.0ms)  SELECT "comments".* FROM "comments" WHERE "comments"."commentable_id" = 76 AND "comments"."commentable_type" = 'Post' AND (('2013-03-07 06:08:09.045488' - comments.created_at) <= 86400) ORDER BY created_at DESC 
```

然而，这并没有给我任何东西，即使 `p.comments`是

```
[#<Comment id: 132, title: "", comment: "comment", commentable_id: 76, commentable_type: "Post", user_id: 1, created_at: "2013-03-07 05:43:37", updated_at: "2013-03-07 05:43:37">] 
```

这是为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:22:56.210

比较日期可能比用 created_at 减去当前日期更有意义

```
p.comments.where("comments.created_at > ?", 1.day.ago) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T06:28:57.290

```
p.comments.where(:created_at => 1.day.ago..Time.now) 
```

这将对您有所帮助。它将获取这些时间之间的所有评论。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T06:30:44.970

尝试这个，

```
 p.comments.where("(created_at >= :t1) and (created_at < :t2)" , t1: (Time.now - 1.day).beginning_of_day, t2: (Time.now - 1.day).end_of_day) 
```

# erlang - 如何将 sublime text 2 和 Ctags 用于 erlang 源代码？

> ID：15264342
> 
> 赞同：0
> 
> 时间：2013-03-07T06:11:45.017
> 
> 标签：erlang, sublimetext2, ctags

我通过包控制安装 Ctags。我也使用 sublime-erlang。大多数时候它运作良好。但是有时候我可能想看看它是如何在erlang stdlib 中实现的。这样可以跳转到stdlib 中吗？如何？</p>

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T11:35:10.703

[好的， CTags 插件主页](https://github.com/SublimeText/CTags)上稍微介绍了使之成为可能的设置。

考虑您的 erlang 安装通常位于`/usr/lib/erlang`，然后执行以下操作：

1.  cd 进入您的项目或工作区目录，这对您更好。

2.  喂入外壳：

    ```
    ctags --languages=erlang --erlang-kinds=-dr -R -f .libtags \
    /usr/lib/erlang/lib/kernel-*/src \
    /usr/lib/erlang/lib/stdlib-*/src 
    ```

    ...等等您感兴趣的所有 otp 应用程序。

    *指定绝对*路径很重要。

3.  在 Sublime Text 中打开您的项目特定设置（通常`$PROJECT.sublime-project`，如果它不存在，最好通过创建一个`Project > Save Project As...`）。

4.  附加到我们之前创建的`settings`节文件路径。`.libtags`在我的机器上，该文件大部分时间看起来像这样：

    ```
    {
        "folders":
        [
            {
                "path": "/home/keynslug/workspace/projectname",
                "file_exclude_patterns": ["*.beam", "*.app", ".tags*"]
            }
        ],
        "settings": {
            "ctags_extra_tag_files": [
                "/home/keynslug/workspace/.libtags"
            ]
        }
    } 
    ```

5.  保存并重建 ctags。

然后，如果一切顺利，您将能够像往常一样深入研究库函数定义。

# sql - Sybase，从多个表中的选择语句创建一个新表

> ID：15264343
> 
> 赞同：1
> 
> 时间：2013-03-07T06:11:47.477
> 
> 标签：sql, insert, sybase, union

我在 Sybase 中有两个表：

`TABLE1`：保存部门数据和与部门关联的emp_id：

```
Dept_Id     Emp_id1   Emp_id2   Emp_id3
-------     -------   -------   -------
DEP1          11        22        33 
```

`TABLE2`：保存与员工关联的 Emp_Id 和多个 Address_Id：

```
Emp_Id     Add_Id
------    --------
11         street1
11         street2
11         street3
22         mountRoad1
22         mountRoad2
33         PetersRoad 
```

我想加入这两个表并将以下结果插入到一个新表中：

```
Dept_Id   Emp_Id   Add_Id
-------   ------   ------
DEP1       11       street1
DEP1       11       street2
DEP1       11       street3
DEP1       22       mountRoad1
DEP1       22       mountRoad2
DEP1       33       PetersRoad 
```

如何使用单个 SQL 查询来实现这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:07:36.847

为什么不只使用 JOIN：

```
insert into table3 (Dep_id,Emp_id, Add_id)
select table1.Dep_id, table2.Emp_id, Table2.Add_id
from table1 
join table2 on table1.Emp_id1=table2.Emp_id or table1.Emp_id2=table2.Emp_id or table1.Emp_id3=table2.Emp_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:17:36.497

我认为你应该使用 UNION。例如：

```
Insert into Table 3 (Dep_id,Emp_id, Add_id)
select Dep_id,Emp_id1 as Emp_id, Table2.Add_id
from Table 1 
join Table2 on (Table1.Emp_id1=Table2.Emp_id)
union all
select Dep_id,Emp_id2 as Emp_id, Table2.Add_id
from Table 1 
join Table2 on (Table1.Emp_id2=Table2.Emp_id)
union all
select Dep_id,Emp_id3 as Emp_id, Table2.Add_id
from Table 1 
join Table2 on (Table1.Emp_id3=Table2.Emp_id) 
```

PS：如果需要添加 Emp_id4 怎么办？？？？您的表结构未标准化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:46:36.317

如果您对 table1 的愚蠢结构感到困惑，那么我可能会创建一个视图来人为地将结构更改为简单的部门员工表。像这样的东西：

```
create view EmployeeDepartment
as 
    select Dept_Id, Emp_id1 as Emp_id from Table1
    union select Dept_Id, Emp_id2 as Emp_id from Table1
    union select Dept_Id, Emp_id3 as Emp_id from Table1 
```

然后，您可以根据需要使用此视图，例如选择部门/员工/地址

```
select e.Dept_Id, e.Emp_Id, a.Add_Id
from Table_2 a
join EmployeeDepartment e on e.Emp_id = a.Emp_id 
```

或者建立你的第三张桌子

```
insert into table3 (Dep_id, Emp_id, Add_id)
select e.Dept_Id, e.Emp_Id, a.Add_Id
from Table_2 a
join EmployeeDepartment e on e.Emp_id = a.Emp_id 
```

另一方面，子查询视图*选择*以构建您的第三个表同样容易

```
insert into table3 (Dep_id, Emp_id, Add_id)
select e.Dept_Id, e.Emp_Id, a.Add_Id
from Table_2 a
join (
    select Dept_Id, Emp_id1 as Emp_id from Table1
    union select Dept_Id, Emp_id2 as Emp_id from Table1
    union select Dept_Id, Emp_id3 as Emp_id from Table1) e 
on e.Emp_id = a.Emp_id 
```

当然，如果您有其他场景，视图更可重用，如果您最终添加第四个员工 ID (emp_id4)，则更易于维护。使用视图的其他查询不需要更改...

# android - 将 Spinner 添加到 alertDialog 时出错

> ID：15264347
> 
> 赞同：0
> 
> 时间：2013-03-07T06:12:09.980
> 
> 标签：android, android-spinner, android-alertdialog, android-tabactivity, android-context

我正在使用 TabActivity 创建一个 android 应用程序，在我的 TabActivity 中，我有一个单击按钮，我想弹出一个警报对话框，我需要在警报对话框中添加一个微调器。

按钮点击的代码如下

```
addMedicalRCD.setOnClickListener(new OnClickListener() 
{

    public void onClick(View arg0) 
    {
        View layout = inflater.inflate(R.layout.patient_add_medical_record, null);
        spinnerMedicalType=(Spinner)layout.findViewById(R.id.spinner_medicalRCD_type);
        addItemsT0SpinnerMedicalRCDType();

        alertAddMedicalRCD = new AlertDialog.Builder(getParent());
        alertAddMedicalRCD.setTitle("Add new medical record");
        alertAddMedicalRCD.setView(layout);

    }
}); 
```

这是方法的主体 addItemsT0SpinnerMedicalRCDType();

```
private void addItemsT0SpinnerMedicalRCDType() 
{
    String[] s =new String[] {"Prescription","Email","Doctor    rounds","Phone","Other"};
    ArrayAdapter<String>adapter = new ArrayAdapter<String>(context, android.R.layout.simple_spinner_item, s);
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    spinnerMedicalType.setAdapter(adapter);
} 
```

在 onCreate 方法中，我定义了`context=this;`

但是当我单击微调器时，它不会显示选项。如何解决这个问题。请帮我

我的日志猫

```
 03-07 13:25:29.501: E/AndroidRuntime(1339): FATAL EXCEPTION: main
 03-07 13:25:29.501: E/AndroidRuntime(1339): android.view.WindowManager$BadTokenException:    Unable to add window -- token null is not for an application
 03-07 13:25:29.501: E/AndroidRuntime(1339):    at   android.view.ViewRoot.setView(ViewRoot.java:531)
 03-07 13:25:29.501: E/AndroidRuntime(1339):    at  android.view.WindowManagerImpl.addView(WindowManagerImpl.java:177)
 03-07 13:25:29.501: E/AndroidRuntime(1339):    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at android.app.Dialog.show(Dialog.java:241)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at android.app.AlertDialog$Builder.show(AlertDialog.java:802)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at android.widget.Spinner.performClick(Spinner.java:260)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at android.view.View$PerformClick.run(View.java:9080)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at android.os.Handler.handleCallback(Handler.java:587)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at android.os.Handler.dispatchMessage(Handler.java:92)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at android.os.Looper.loop(Looper.java:123)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at android.app.ActivityThread.main(ActivityThread.java:3683)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at java.lang.reflect.Method.invokeNative(Native Method)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at java.lang.reflect.Method.invoke(Method.java:507)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
03-07 13:25:29.501: E/AndroidRuntime(1339):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:41:32.740

`alertAddMedicalRCD.setView(layout);` 膨胀视图后只需更改它的位置

```
View layout = inflater.inflate(R.layout.patient_add_medical_record, null); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:57:41.093

您可以在单击按钮时在 AlertDilog 的帮助下显示像 Spinner 这样的单选列表。

![在此处输入图像描述](../Images/c28573d0482cc3ec119753d452b6880f.png)

![在此处输入图像描述](../Images/32ac728934a73615dc6aea696b37f613.png)

```
@Override
    public void onClick(View v) {
        AlertDialog.Builder builder = new AlertDialog.Builder(
                v.getContext());
        builder.setTitle(R.string.select_lanuage_txt);
        builder.setIcon(R.drawable.dialog_arrow);
        builder.setSingleChoiceItems(items, -1,
                new DialogInterface.OnClickListener() {
                    public void onClick(DialogInterface dialog, int which) {
                        dialog.dismiss();
                        Toast.makeText(MainActivity.this, "Selected Index"+" "+which, Toast.LENGTH_LONG).show();
                    }
                }).setPositiveButton(
                getResources().getString(R.string.Cancel),
                new DialogInterface.OnClickListener() {
                    public void onClick(DialogInterface dialog,
                            int whichButton) {
                        dialog.dismiss();
                    }
                });
        alert = builder.create();
        alert.show();

    } 
```

有关完整的详细信息和源代码，请访问我的 Android 博客。

[http://amitandroid.blogspot.in/2013/03/android-alert-dialog-with-single-choice.html](http://amitandroid.blogspot.in/2013/03/android-alert-dialog-with-single-choice.html)

希望这个博客能帮助您实现您的要求。

谢谢，

![在此处输入图像描述](../Images/4e4b4c67349656634479e23b6eabd7a9.png)

现在我在对话框中添加了一个 EditText。是你在找吗？

# android - android AChartEngine：一个不同颜色的条

> ID：15264357
> 
> 赞同：1
> 
> 时间：2013-03-07T06:12:45.897
> 
> 标签：android, bar-chart, achartengine

我正在使用 AChartEngine 库来绘制条形图。我需要的是所有条都采用一种颜色，而只有一个条采用不同的颜色。
我尝试过的是拥有两个 XYSeries，其中一个包含 0。
这显示了条形之间的间隙，如下所示：
![在此处输入图像描述](../Images/8071d8914aaa605418f4bacb67cd89ca.png)
有人可以告诉我如何实现一个连续的条形序列，其中只有一个具有不同颜色的条形吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T11:36:42.010

使用 achartengine线程检查[条形图。](https://stackoverflow.com/questions/5405858/bar-chart-using-achartengine)如果这不能帮助检查[使用多个系列的不同颜色条](https://stackoverflow.com/questions/15439976/different-color-bars-using-multiple-series/15464307)。我设法使用第二个问题中提问者使用的概念来做同样的事情。另外我做了

```
renderer.setBarSpacing(0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-14T07:50:49.787

好吧，我修改了源代码以最终实现这一目标。
我修改了XYChart的绘制方法。我为每个条添加了颜色。我发现了哪个栏在屏幕的中心，并为它添加了不同的颜色。
还必须修改 BarChart 中的“drawSeries”方法以设置线条的绘制颜色。

# jquery - jQuery 多个“或”选择器

> ID：15264360
> 
> 赞同：0
> 
> 时间：2013-03-07T06:13:06.370
> 
> 标签：jquery

jQuery 中有没有办法创建一个包含多个变量的选择器。我不希望函数在所有变量上运行......就像这样：

```
var class1 = '.class1';
var class2 = '.class2';
var class3 = '.class3';

if ($(class1 OR class2 OR class3).is(':visible')) {
    do something;
}); 
```

所以选择器应该检查class1是否可见，或者class2，或者class3等等。

希望我的问题有意义。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:14:12.047

```
$(class1 + ', '+ class2 + ', '+ class3).is(':visible'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:15:54.950

试试看：

```
if($(class1 + ", "+ class2 + ", "+ class3).is(':visible')){
    // do siomething;
} 
```

# java - 垃圾收集合格对象

> ID：15264361
> 
> 赞同：0
> 
> 时间：2013-03-07T06:13:10.807
> 
> 标签：java, performance, garbage-collection

我有 6 个单独的 java `Classes A,B,C,D,E and F`。

`Class A`创建 的对象`Class B`并调用 中的方法`Class B`。

`Class B`方法创建一个对象`class C`并调用一个方法`class C`。

`Class C`方法创建`D,E,F`类的对象并调用它们的方法。

当最终控制权最后回到A类时，如果我将对象引用`Class B`设为null，这是否会使`class B,C,D,E,F`迄今为止创建的所有对象都符合垃圾回收条件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:20:15.353

是的。它会。由于父类现在被引用为 null 并且是孤立的，因此它下面的所有引用对象都可以进行 GC。

当不再存在对它的强引用时，对象进入不可访问状态。当一个对象不可达时，它是收集的候选对象

http://192.9.162.55 /docs/books/performance/1st_edition/html/JPAppGC.fm.html

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:52:05.103

通常是的，但如果没有更多信息，我们不能肯定地说。
最好的例子是，如果说 C 将一个对它创建的 D 实例的引用放在一个 Collection 中，该 Collection 存储在 http 会话或 EJB 事务中（或直接在那里存储一个引用）。如果发生这种情况，这些引用将阻止 D 的相关实例被垃圾收集，以及它们保留引用的所有内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:45:37.757

是的。“当不再引用该对象时，该对象有资格进行垃圾回收。”

所以如果 b 不再被引用，它就符合 gc 的条件。反过来，当它被收集时，不再有 c 的引用，因此 c 成为合格的，所以故事继续。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T06:27:34.190

是的，如果它们是在方法内部创建的，即在本地创建它们，那么它们将有资格进行垃圾收集，如果它们是实例变量对象，那么只有设置为 null 的该对象的副本才有资格进行 gc。

# r - 根据列条目插入行，并根据插入位置确定插入行的条目

> ID：15264362
> 
> 赞同：5
> 
> 时间：2013-03-07T06:13:15.397
> 
> 标签：r, insert, row

我有这些数据，我将其命名为 A：

```
A <- read.table(text = "ID  TIME    EVID    AMT DOSE
1   10      1       100 20
1   12      1       100 20
1   14      1       100 20
1   16      1       100 20
1   17      0       100 20
1   18      1       100 20
1   20      1       100 20
1   22      1       100 20
2   5       1       100 40
2   10      1       100 40
2   15      1       100 40
2   17      0       100 40
2   20      1       100 40
3   4       1       100 25
3   7       1       100 25
3   10      1       100 25
3   11      0       100 25
3   13      1       100 25
3   16      1       100 25
3   19      1       100 25", header = TRUE) 
```

我的目标是插入 EVID=2 的新行，ID 与前一行 ID 相同，并且 TIME = 前一行的 TIME 条目加上 AMT/DOSE，我希望在第一个 EVID=1 之后跟随新行0s，如下：

```
ID  TIME    EVID    AMT DOSE
1   10      1       100 20
1   12      1       100 20
1   14      1       100 20
1   16      1       100 20
1   17      0       100 20
1   18      1       100 20
1   23      2       100 20
1   20      1       100 20
1   22      1       100 20
2   5       1       100 40
2   10      1       100 40
2   15      1       100 40
2   17      0       100 40
2   20      1       100 40
2   22.5    2       100 40
3   4       1       100 25
3   7       1       100 25
3   10      1       100 25
3   11      0       100 25
3   13      1       100 25
3   17      2       100 25
3   16      1       100 25
3   19      1       100 25 
```

我尽可能为我的 EVID 编制索引

```
rle(as.character(EVID))$lengths
A$Index<-unlist(sapply(rle(as.character(EVID))$lengths, seq_len), use.names = FALSE) 
```

在这种情况下，此代码比 ave(EVID, EVID, FUN=seq_along) 更好，后者将索引所有 1 和所有 0，无论它们是否连续。我想在 Index=1 和 Index=2 行之间插入我的新行（我将手动删除第一个新行）。

```
 ID TIME EVID AMT DOSE Index
1   1   10    1 100   20     1
2   1   12    1 100   20     2
3   1   14    1 100   20     3
4   1   16    1 100   20     4
5   1   17    0 100   20     1
6   1   18    1 100   20     1
7   1   20    1 100   20     2
8   1   22    1 100   20     3
9   2    5    1 100   40     4
10  2   10    1 100   40     5
11  2   15    1 100   40     6
12  2   17    0 100   40     1
13  2   20    1 100   40     1
14  3    4    1 100   25     2
15  3    7    1 100   25     3
16  3   10    1 100   25     4
17  3   11    0 100   25     1
18  3   13    1 100   25     1
19  3   16    1 100   25     2
20  3   19    1 100   25     3 
```

结果 A 有一个新的索引列；我希望新行位于索引 1 和 2 之间，即在此示例中的行号 1、6、13 和 19 之后。

我遇到了一些[解决方案](https://stackoverflow.com/a/3651304/1976789)，我们可以在其中创建一个列向量，然后按定义的行号将该列作为行插入到数据中。如何根据列条目添加行并动态确定一些条目？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T06:49:33.573

这是一个解决方案，`data.table` 它实际上只有两行代码（带有一些注释）

```
library(data.table)
ADT <- data.table(row=1:nrow(A), A, key="ID")

# just to give an idea of how we can Find the first 0 after the first 1, look at the output from this
ADT[, list(row, EVID,c(NA,diff(EVID)), c(NA,diff(EVID))==1)]

# identify afer which row to insert
# the values you want to change, assign using the `=`
# the values to keep, just call the variable name, no `=` sign
newRows <- ADT[c(NA,diff(EVID))==1, list(row=row+1, ID, TIME=TIME+AMT/DOSE, EVID=2, AMT, DOSE)]

# rbind the new rows with the original DT
# then reverse order by EVID, and order by row.  
# After ordering, remove the first column (`row`) since it is not needed
newA <- rbind(ADT, newRows)[order(EVID, decreasing=TRUE)][order(row)][, -1, with=FALSE]

### Results: 

 > newA
    ID TIME EVID AMT DOSE
 1:  1   10    1 100   20
 2:  1   12    1 100   20
 3:  1   14    1 100   20
 4:  1   16    1 100   20
 5:  1   17    0 100   20
 6:  1   18    1 100   20
 7:  1   23    2 100   20
 8:  1   20    1 100   20
 9:  1   22    1 100   20
10:  2    5    1 100   40
11:  2   10    1 100   40
12:  2   15    1 100   40
13:  2   17    0 100   40
14:  2   20    1 100   40
15:  2   22    2 100   40
16:  3    4    1 100   25
17:  3    7    1 100   25
18:  3   10    1 100   25
19:  3   11    0 100   25
20:  3   13    1 100   25
21:  3   17    2 100   25
22:  3   16    1 100   25
23:  3   19    1 100   25
    ID TIME EVID AMT DOSE 
```

# android-fragments - 如何使用已有活动的android活动片段？

> ID：15264364
> 
> 赞同：0
> 
> 时间：2013-03-07T06:13:17.507
> 
> 标签：android-fragments, android-listfragment, android-fragmentactivity

请参阅下面对现有场景和问题陈述的解释：

**现有场景：**我的应用程序中有一组活动，一个活动显示项目列表，单击每个项目时，它将显示另一个活动，其中包含单击项目的详细信息。我需要为这个显示项目列表的活动支持纵向和横向模式，当它处于纵向模式时，它会完美地显示项目列表，单击每个项目时它会显示另一个活动，但在横向模式下它看起来很奇怪。

**问题陈述：**当我在横向模式下旋转屏幕时，它显示的每一行都非常大，显然它覆盖了整个屏幕，所以行很大而且看起来不太好。所以我想改变这种方式，当它显示时在横向模式下，左侧应显示项目列表，当用户单击该项目时，右侧应显示包含单击项目详细信息的其他活动。

**我的疑问是：**如果我使用片段，那么它将如何影响现有代码？在现有代码上支持片段时，我需要记住哪些事情？我所知道的是，我需要创建一个单独的布局，其中左侧将是一个带有项目列表的片段（我们不能将已经存在的以纵向模式显示的活动放在左侧片段中吗？）而右侧将是另一个片段将在哪里显示带有项目详细信息的活动或者我是否需要其他方式来实现这一点？

请提供您对此的宝贵意见。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:18:09.927

请检查 android 示例项目 WifiDirect。

# mysql - 将 parentId 自动插入 MySQL 中的子表

> ID：15264365
> 
> 赞同：3
> 
> 时间：2013-03-07T06:13:23.350
> 
> 标签：mysql

我有两张桌子，一张是父母，另一张是孩子。父表有一个名为“parent_id”（主键）的字段，子表有一个名为“parent_id”（外键）的字段，因此它们之间存在链接。如果我在父表中插入一行，同时我还想在 parent_id 字段中向子表中插入具有相同父 id 的行。这个怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:43:03.023

您需要编写一个存储过程。 [http://dev.mysql.com/doc/refman/5.0/en/create-procedure.html](http://dev.mysql.com/doc/refman/5.0/en/create-procedure.html)

# python - inspect.getouterframes() 函数的“索引”术语是什么？

> ID：15264367
> 
> 赞同：2
> 
> 时间：2013-03-07T06:13:26.397
> 
> 标签：python

我在 python 上做了一个“帮助（inspect.getouterframes）”，这就是它给我的：

```
getouterframes(frame, **context**=1)
Get a list of records for a frame and all higher (calling) frames.

Each record contains a frame object, filename, line number, function
name, a list of lines of context, and **index within the context**. 
```

我只是想知道......这些“上下文”和“索引”是什么意思？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:38:55.893

这是从当前行的周围代码中添加一些上下文。简单的例子：

```
import sys
import inspect

def f():
    # prev
    return sys._getframe()
    # next

# prev
framelist = inspect.getouterframes(f(), 3)
# next

for frame in framelist:
    print frame[3], "context:\n"
    for i, line in enumerate(frame[-2]):
        print line.rstrip(),
        if i == frame[-1]:
            print ' *** index ***'
        else:
            print
    print 
```

输出：

```
f context:

    # prev
    return sys._getframe()  *** index ***
    # next

<module> context:

# prev
framelist = inspect.getouterframes(f(), 3)  *** index ***
# next 
```

# python - 将 UTC 时间戳转换为正常日期和 timr

> ID：15264371
> 
> 赞同：1
> 
> 时间：2013-03-07T06:13:47.223
> 
> 标签：python, postgresql, datetime, timestamp

我有一个 PostgreSql，它为每一行创建一个带有时区的时间戳。但是现在当我尝试打印此时间戳时，我得到以下信息：“2013-03-06 00:00:00+01:00”

首先为什么说它 00:00:00 ？

其次我怎么能把它转换成这样的东西：

06.03.2013 07:10:13

或者

例如：“12 秒前”、“1 天零一个小时前”

谢谢马文

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:53:07.920

你得到`00:00:00`的时间部分可能是因为有人只插入了没有时间部分的日期。查看结果：

```
select current_date, current_timestamp; 
```

你会得到：

```
"2013-03-07";"2013-03-07 08:31:59.098661+01" 
```

当您仅使用日期插入或更新时间戳列时，时间部分将被剪切为`00:00:00`. `current_timestamp`如果你想要日期、时间和时区，你应该使用。

将此类日期转换为字符串可以在服务器端和客户端完成。有许多[PostgreSQL 日期时间函数](http://www.postgresql.org/docs/current/static/functions-datetime.html)、可以使用的[PostgreSQL 格式函数](http://www.postgresql.org/docs/current/static/functions-formatting.html)以及 Python 函数。

和：

```
select to_char(current_timestamp, 'DD.MM.YY HH12:MI:SS') 
```

你会得到类似的东西：

```
"07.03.13 08:40:50" 
```

Lafada 的答案涵盖了日期时间对象的 Python 格式。

当您想显示现在和某个日期时间之间的差异时，您可以使用 PostgreSQL`age()`函数：

```
select age(timestamp '2003-03-01'); 
```

结果：

```
"10 years 6 days" 
```

当然 Python 也可以显示时间戳之间的差异：

```
import datetime
dt_old = datetime.datetime.strptime('2001-12-31 22:33:44', '%Y-%m-%d %H:%M:%S')
dt_diff = (datetime.datetime.today() - dt_old)
print(dt_diff) 
```

我的结果：

```
4083 days, 10:16:14.140000 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:28:41.377

您必须使用python 模块的[日期](http://docs.python.org/2/library/datetime.html)时间。从该模块中，您可以将字符串转换为日期并格式化该日期。

```
>>> from datetime import datetime
>>> datetime.strptime('06.03.2013 07:10:13', '%d.%m.%Y %H:%M:%S').strftime('%Y-%d-%m %H:%M:%S%Z')
'2013-06-03 07:10:13' 
```

# java - 即使在使用双缓冲后，Applet 也会闪烁

> ID：15264373
> 
> 赞同：1
> 
> 时间：2013-03-07T06:13:56.820
> 
> 标签：java, swing, concurrency, paint, japplet

我正在尝试制作一个 2 播放器 Pong Applet，其中用户使用鼠标控制桨。

我已经使用了**双缓冲**的概念，但**小程序仍然闪烁**！！！我犯了什么错误？

```
import java.awt.Color;
import java.awt.Graphics;
import java.awt.Image;
import java.awt.event.MouseEvent;
import java.awt.event.MouseMotionListener;
import java.util.Timer;
import javax.swing.JApplet;

public class Pong extends JApplet implements Runnable, MouseMotionListener {
    Ball ball;
    Paddle left_paddle;
    Paddle right_paddle;
    Image image;
    Graphics DoubleBuffered;

    @Override
    public void init() {
        setSize(800, 600);
        addMouseMotionListener(this);
        setFocusable(true);
        requestFocusInWindow();        
    }

    @Override
    public void start() {
        left_paddle = new Paddle(5, 200, this);
        right_paddle = new Paddle(this.getWidth() - 30, this.getHeight() / 2, this);
        ball = new Ball(100, 100, left_paddle, right_paddle);
        Thread thread = new Thread(this);
        thread.start();
    }

    @Override
    public void run() {
        while (true) {
            ball.update(this);
            repaint();
            try {
                Thread.sleep(17); //Frame rate of approx 60 FPS
            } catch (InterruptedException ex) {

            }
        }
    }

    @Override
    public void stop() {
    }

    @Override
    public void destroy() {
    }

    @Override
    public void update(Graphics g) {
        if (image == null) {
            image = createImage(this.getWidth(), this.getHeight());
            DoubleBuffered = image.getGraphics();
        }
        DoubleBuffered.setColor(getBackground());
        DoubleBuffered.fillRect(0, 0, this.getWidth(), this.getHeight());

        DoubleBuffered.setColor(getForeground());
        paint (DoubleBuffered);

        DoubleBuffered.drawImage(image, 0, 0, this);
    }

    @Override
    public void paint(Graphics g) {
        g.setColor(Color.WHITE);
        g.fillRect(0, 0, this.getWidth(), this.getHeight());
        ball.paint(g);
        left_paddle.paint(g);
        right_paddle.paint(g);
        g.setColor(Color.BLACK);
        g.drawLine(this.getWidth()/2, 0, this.getWidth()/2, this.getHeight());
    }

    @Override
    public void mouseDragged(MouseEvent e) {
    }

    @Override
    public void mouseMoved(MouseEvent e) {
        int y = e.getY();
        int x = e.getX();
        if (x < this.getWidth()/2) { //Control the left paddle
            if (y < 0) {
                y = 0;
            } else if (y + left_paddle.getHeight() >= this.getHeight()) {
                y = this.getHeight() - left_paddle.getHeight();
            }
            left_paddle.mouse(y);
        }
        else {
            if (y < 0) {
                y = 0;
            } else if (y + right_paddle.getHeight() >= this.getHeight()) {
                y = this.getHeight() - right_paddle.getHeight();
            }
            right_paddle.mouse(y);
        }
    }
}

class Ball {
    private int x;
    private int y;
    private float dx=4;
    private float dy=5;
    private int radius = 10;
    private Paddle left, right;

    Ball(int x, int y, Paddle x1, Paddle y1) {
        this.x = x;
        this.y = y;
        left = x1;
        right = y1;
    }

    public void reset ()
    {
        this.x = 400;
        this.y = 200;
    }

    public void update(Pong ref)
    {
        if (x+dx < left.getX()+left.getWidth()+radius && y+dy+radius >= left.getY() && y+dy+radius <= left.getY()+left.getHeight()) {
            x = left.getX()+left.getWidth()+radius;
            dx *= (-1);
            // checks the left paddle collision
        }
        else if (x+dx+radius >= right.getX() && y+dy+radius >= right.getY() && y+dy+radius <= right.getY()+right.getHeight() ) {
            x = right.getX() - radius;
            dx *= (-1);
            //checks the right paddle collision
        }
        //if ball touches the boundary reset it at middle point
        else if (x+dx+radius >= ref.getWidth()) {
            reset();
        }
        else if (x + dx < radius) {
            reset();
        }
        else {
            x += dx;
        }

        if (y+dy +radius > ref.getHeight()) {
            y = ref.getHeight() - radius - 1;
            dy *= (-1);
        }
        else if (y + dy < radius) {
            y = radius;
            dy *= (-1);
        }
        else {
            y += dy;
        }
    }

    public void paint (Graphics g)
    {
        g.setColor(Color.RED);
        g.fillOval(x-radius, y-radius, 2*radius, 2*radius);
    }

}

class Paddle {

    private int x;
    private int y;
    private int width = 25;
    private int height = 150;
    private Timer timer;

    public Paddle(int x, int y, Pong ref) {
        this.x = x;
        this.y = y;
    }

    public int getHeight() {
        return height;
    }

    public int getWidth() {
        return width;
    }

    public int getX() {
        return x;
    }

    public int getY() {
        return y;
    }

    public void paint (Graphics g)
    {
        g.setColor(Color.BLUE);
        g.fillRect(x, y, width, height);
    }

    //mouse lookup
    void mouse(int y_final)
    {
        y = y_final;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:28:51.540

一般来说，您应该避免覆盖顶级容器的`paint`和方法，例如.`update``JApplet`

您必须记住调用`super.update`，将您创建的图形上下文传递给它。你还必须记得打电话`super.paint`。这里有很多重要的功能，您不想跳过。

您还应该处理您创建的任何图形，因为它们往往会占用内存；）

但是，无论如何您都在使用 Swing 组件，您应该自己创建一个自定义组件（从类似的东西`JPanel`）并使用它的`paintComponent`方法。

主要原因是，Swing 组件默认是双缓冲的……

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Graphics;
import java.awt.Image;
import java.awt.event.MouseEvent;
import java.awt.event.MouseMotionListener;
import javax.swing.Timer;
import javax.swing.JApplet;
import javax.swing.JPanel;

public class Pong extends JApplet {

    private GamePane gamePane;

    @Override
    public void init() {
        setSize(800, 600);
        gamePane = new GamePane();
        setLayout(new BorderLayout());
        add(gamePane);
    }

    @Override
    public void start() {
        gamePane.start();
    }

    @Override
    public void stop() {
    }

    @Override
    public void destroy() {
    }

    public class GamePane extends JPanel implements MouseMotionListener {

        Ball ball;
        Paddle left_paddle;
        Paddle right_paddle;

        public GamePane() {
            setBackground(Color.WHITE);
            addMouseMotionListener(this);
            setFocusable(true);
            requestFocusInWindow();
        }

        public void start() {
            left_paddle = new Paddle(5, 200);
            right_paddle = new Paddle(this.getWidth() - 30, this.getHeight() / 2);
            ball = new Ball(100, 100, left_paddle, right_paddle);
            Timer timer = new Timer(40, new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    ball.update(GamePane.this);
                    repaint();
                }
            });
            timer.setRepeats(true);
            timer.setCoalesce(true);
            timer.start();
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g); //To change body of generated methods, choose Tools | Templates.

            ball.paint(g);
            left_paddle.paint(g);
            right_paddle.paint(g);
            g.setColor(Color.BLACK);
            g.drawLine(this.getWidth() / 2, 0, this.getWidth() / 2, this.getHeight());

        }

        @Override
        public void mouseDragged(MouseEvent e) {
        }

        @Override
        public void mouseMoved(MouseEvent e) {
            int y = e.getY();
            int x = e.getX();
            if (x < this.getWidth() / 2) { //Control the left paddle
                if (y < 0) {
                    y = 0;
                } else if (y + left_paddle.getHeight() >= this.getHeight()) {
                    y = this.getHeight() - left_paddle.getHeight();
                }
                left_paddle.mouse(y);
            } else {
                if (y < 0) {
                    y = 0;
                } else if (y + right_paddle.getHeight() >= this.getHeight()) {
                    y = this.getHeight() - right_paddle.getHeight();
                }
                right_paddle.mouse(y);
            }
        }
    }

    class Ball {

        private int x;
        private int y;
        private float dx = 4;
        private float dy = 5;
        private int radius = 10;
        private Paddle left, right;

        Ball(int x, int y, Paddle x1, Paddle y1) {
            this.x = x;
            this.y = y;
            left = x1;
            right = y1;
        }

        public void reset() {
            this.x = 400;
            this.y = 200;
        }

        public void update(GamePane ref) {
            if (x + dx < left.getX() + left.getWidth() + radius && y + dy + radius >= left.getY() && y + dy + radius <= left.getY() + left.getHeight()) {
                x = left.getX() + left.getWidth() + radius;
                dx *= (-1);
                // checks the left paddle collision
            } else if (x + dx + radius >= right.getX() && y + dy + radius >= right.getY() && y + dy + radius <= right.getY() + right.getHeight()) {
                x = right.getX() - radius;
                dx *= (-1);
                //checks the right paddle collision
            } //if ball touches the boundary reset it at middle point
            else if (x + dx + radius >= ref.getWidth()) {
                reset();
            } else if (x + dx < radius) {
                reset();
            } else {
                x += dx;
            }

            if (y + dy + radius > ref.getHeight()) {
                y = ref.getHeight() - radius - 1;
                dy *= (-1);
            } else if (y + dy < radius) {
                y = radius;
                dy *= (-1);
            } else {
                y += dy;
            }
        }

        public void paint(Graphics g) {
            g.setColor(Color.RED);
            g.fillOval(x - radius, y - radius, 2 * radius, 2 * radius);
        }
    }

    public class Paddle {

        private int x;
        private int y;
        private int width = 25;
        private int height = 150;
        private Timer timer;

        public Paddle(int x, int y) {
            this.x = x;
            this.y = y;
        }

        public int getHeight() {
            return height;
        }

        public int getWidth() {
            return width;
        }

        public int getX() {
            return x;
        }

        public int getY() {
            return y;
        }

        public void paint(Graphics g) {
            g.setColor(Color.BLUE);
            g.fillRect(x, y, width, height);
        }

        //mouse lookup
        void mouse(int y_final) {
            y = y_final;
        }
    }
} 
```

# c# - 如何在 C# 中的一行中对 IEnumerable 进行分组和排序

> ID：15264376
> 
> 赞同：0
> 
> 时间：2013-03-07T06:14:06.587
> 
> 标签：c#, linq, lambda

我有一个列表，需要将其分为 2 列。在那之后，我们如何才能仅基于一列对结果进行排序，该列是两列的一部分，基于哪个 List 已分组。

```
IEnumerable<IGrouping<object, T>> groupBy = items.GroupBy(x => groupOn(x)) 
```

groupOn 是 Func，它根据哪个列表分组返回列名。假设列表是根据 A 列和 B 列分组的，现在由于获得的结果是 IGrouping 类型，我如何根据 A 列对 groupBy 进行排序。提前致谢。

```
public static ObservableCollection<O> exampleMethod<T, O>(IList<T> items, Func<T, object> groupOn)
{
 IEnumerable<IGrouping<object, T>> groupBy = items.GroupBy(x => groupOn(x)); 
}
var plans = exampleMethod<ExampleCollection, ExampleClass>(newExampleCollection, o => new { o.A, o.B}) 
```

# sql - 使用sql查询比较时间

> ID：15264377
> 
> 赞同：0
> 
> 时间：2013-03-07T06:14:06.827
> 
> 标签：sql, time, comparison

我正在使用 php 和 mysql 开发考勤管理系统。我想显示一个人每天花费少于 9 小时的总次数。`timein`并`timout`存储在数据库中。我使用了以下查询：

```
SELECT * FROM presence 
WHERE 'timeout' - 'timein' < 9 AND  uid=".$uid1[$i]."
AND date BETWEEN'".$date1."' AND '".$date2."'");

echo "<td align='center'>".mysql_num_rows($recordset)."</td>"; 

$lateout1 = mysql_num_rows($recordset); 
```

但什么都没有显示。请帮助我显示所有用户每天花费少于 9 小时的天数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:23:36.653

尝试使用

```
select uid,count(uid) as no_of_days from presence 
where (time_to_sec(timediff(timeout, timein )) / 3600)<9  
and date> $date1 and date< $date2 
group by uid. 
```

# python - python gtk webkit 显示本地html数据

> ID：15264383
> 
> 赞同：5
> 
> 时间：2013-03-07T06:14:30.853
> 
> 标签：python, webkit

有没有办法在python中使用webkit引擎，结合GTK来显示存储在python文件中的html数据，例如

```
import webkit
import gtk

html = "<h1>This is HTML content</h1><p>I am displaying this in python</p"

gobject.threads_init()
win = gtk.Window()
view = webkit.WebView()
view.open(html)
win.add(view)
win.show_all()
gtk.main() 
```

这是我想要的粗略演示，但输出应该显示在 webkit 中呈现的 HTML 内容。

我可以这样做吗，如果不能，我可以在某处存储一个本地 html 文件并通过 webkit 呈现它吗？

谢谢，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T06:22:46.693

尝试：

```
view.load_html_string(html, '') 
```

参考： [http ://webkitgtk.org/reference/webkit2gtk/unstable/WebKitWebView.html#webkit-web-view-load-html](http://webkitgtk.org/reference/webkit2gtk/unstable/WebKitWebView.html#webkit-web-view-load-html)

或者，您可以将 HTML 存储在文件中：

```
# Option 1
view.open('file:///path/to/file/page.html')

# Option 2
uri = 'page.html'
uri = os.path.realpath(uri)
uri = urlparse.ParseResult('file', '', uri, '', '', '')
uri = urlparse.urlunparse(uri)
view.load_uri(uri) 
```

# jquery - 将参数传递给匿名函数未定义的jquery

> ID：15264385
> 
> 赞同：0
> 
> 时间：2013-03-07T06:14:30.967
> 
> 标签：jquery, parameters, undefined

我无法将参数传递给匿名函数。图像是一个文件名数组。我确定它是在我尝试传递它之前定义的，并且它在下面的匿名函数中是未定义的。这是怎么回事？对于任何缺乏细节，我深表歉意。使用 jQuery 1.9

```
function setup_slideshow(){
$('#slide1').fadeOut(0);
$('#slide0').fadeIn(0);
$.ajax({
    url: "/inc/phplib/fetch_images.php",
    async: true,

    // Receives a string with a colon separated list of filenames (images)
    complete: function(data){
        var images = data.responseText.split(":");
        $('#slide0').attr("src", images[0]);
        $('#slide1').attr("src", images[1]);
        var t = setTimeout(function(images){
            move_slideshow(images, 2, 1);
        }, 550);
    }
});
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:18:46.310

你写了`// Receives a string with a comma separated list of filenames (images)`

但是你用的`var images = data.responseText.split(":");`应该是`var images = data.responseText.split(",");`

完整代码

```
function setup_slideshow(){
  $('#slide1').fadeOut(0);
  $('#slide0').fadeIn(0);
  $.ajax({
    url: "/inc/phplib/fetch_images.php",
    async: true,

    // Receives a string with a comma separated list of filenames (images)
    success: function(data){
        alert(data); //to check what you get in data
        var images = data.split(":");
        $('#slide0').attr("src", images[0]);
        $('#slide1').attr("src", images[1]);
        var t = setTimeout(function(images){
            move_slideshow(images, 2, 1);
        }, 550);
    }
  });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:19:45.100

尝试

```
 var images = data.responseText.split(":");
    $('#slide0').attr("src", images[0]);
    $('#slide1').attr("src", images[1]);
    var t = setTimeout(function(){
        move_slideshow(images, 2, 1);
    }, 550); 
```

您不需要将图像数组传递给 setTimeout，因为它在更高的范围内，并且可以在 setTimeout 回调中访问

# c# - 而 C# 生成随机输出 为什么 Java 会为同一段代码生成“Hello World”？

> ID：15264393
> 
> 赞同：1
> 
> 时间：2013-03-07T06:15:21.530
> 
> 标签：c#, java

如果我在 c# 中运行此代码，生成的输出是两个随机字符串，每次执行都会更改。但是 Java 代码总是打印“Hello World”。

```
 static void Main(string[] args)
        {
           Console.WriteLine(randomString(-229985452) + " " + randomString(-147909649));
           Console.ReadLine();
        }
        public static String randomString(int i)
        {
            Random ran = new Random(i);
            StringBuilder sb = new StringBuilder();
            for (int n = 0; ; n++)
            {
                int k = ran.Next(27);
                if (k == 0)
                    break;

                sb.Append((char)('`' + k));

            }

            return sb.ToString();
        } 
```

但是 Java 中的相同代码会打印“Hello World”。为什么这些语言的行为不同？

Java 代码

```
System.out.println(randomString(-229985452) + " " + randomString(-147909649)); 
```

其方法

```
public static String randomString(int i)
{
    Random ran = new Random(i);
    StringBuilder sb = new StringBuilder();
    for (int n = 0; ; n++)
    {
        int k = ran.nextInt(27);
        if (k == 0)
            break;

        sb.append((char)('`' + k));
    }

    return sb.toString();
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-07T06:19:09.313

不，.NET 版本总是提供相同的输出 - “terkcq onbmmjujsrb”。

这不是“Hello World”，因为 .NET 中的随机数生成器不使用与 Java 中相同的算法，但在这两种情况下，您每次都从相同的种子开始，因此您得到相同的序列的随机数。恰好选择了这些种子，以便在 Java 中您最终得到“Hello World”。*可能*有种子在 .NET 中给出相同的结果（当然可能会弄乱 Java 输出）。

从[.NET`Random`构造函数的文档中获取种子](http://msdn.microsoft.com/en-us/library/ctssatww.aspx)：

> 为不同的 Random 对象提供相同的种子值会导致每个实例产生相同的随机数序列。
> 
> 如果您的应用程序需要不同的随机数序列，请使用不同的种子值重复调用此构造函数。

（诚​​然，没有记录该算法是否在所有 .NET 版本中都保持稳定。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:20:06.493

它依赖于 java.util.Random 使用特定算法并以特定方式使用种子，这显然 C# 不共享。

# sql-server-2008 - 从时间数据类型中删除毫秒，并且：是否有毫秒时间数据类型？

> ID：15264397
> 
> 赞同：7
> 
> 时间：2013-03-07T06:15:34.347
> 
> 标签：sql-server-2008, types, time, type-conversion

我已经看到有关如何从 MS SQL 中的日期时间数据类型中删除毫秒的问题中的帖子。

但是时间数据类型呢？从时间数据类型中删除毫秒的最简单方法是什么？

另外：MS SQL（2008）中是否有任何不包括毫秒的时间数据类型？

谢谢大家！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-07T06:26:18.507

> 删除毫秒的最简单方法之一是：

```
SELECT CONVERT(VARCHAR, GETDATE(), 20) 
```

> 如果你不想包括毫秒：

```
TIME(0) will help 
```

> 例子

```
CAST(DATEADD(second, SUM(hora), '00:00:00') AS time(0)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-10T00:18:14.397

我为 MS SQL Server 2005 解决这个问题所做的是

```
create table mytable (Date varchar(11))

insert into mydb.mytable select GETDATE() as Date; 
```

这会在年份部分的最后一个数字之后减少一些来自 GETDATE() 的值。即“2014 年 1 月 9 日”。

编辑：要清楚， varchar(11) 是这里的解决方案。

编辑：如果你必须加入 mysql CURDATE()，这个解决方案很糟糕，因为 mysql 返回所有整数，而 MSSQL Server 有字母月份。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-24T13:19:34.800

如果您只想在 sql server 2005 中返回时间，您可以使用带有转换的子字符串函数，即 SELECT SUBSTRING(CONVERT(VARCHAR,GETDATE(),20),12,8)。这将以 hh:mm:ss 格式返回时间。

# fusioncharts - Javascript Amcharts 导出

> ID：15264401
> 
> 赞同：0
> 
> 时间：2013-03-07T06:15:53.443
> 
> 标签：fusioncharts, amcharts

有什么方法可以导出像 FusionXT 图表这样的 javascript amcharts 吗？

[http://docs.fusioncharts.com/charts/?exporting-image/ECPureJS.html](http://docs.fusioncharts.com/charts/?exporting-image/ECPureJS.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-07-11T16:39:47.740

是的。

查看 github 上的 AmCharts Export 插件存储库，其中包括 api 详细信息。

*   [https://github.com/amcharts/export](https://github.com/amcharts/export)

另请查看 amCharts 网站上的这篇文章：

*   [导出图表和地图：快速介绍](https://www.amcharts.com/tutorials/intro-exporting-charts/)

插件的导出选项是高度可配置的；此外，该工具还允许对图表进行注释。

包含导出插件 js 和 css 文件后，默认配置只需要您在 amChart 配置中设置要启用的“导出”。

```
type: "serial",
theme: "light",
...
export: {
  enabled: true
} 
```

这是一个基于版本的小提琴示例：导出插件的 1.4.33 （对不起，不得不手动添加 js 和 css）。

*   [https://jsfiddle.net/Lm2zptar/2/](https://jsfiddle.net/Lm2zptar/2/)

[![在此处输入图像描述](../Images/fa48adfe83476efc4c1db71188037b36.png)](https://i.stack.imgur.com/m2Vt3.png)

[![在此处输入图像描述](../Images/6563ff17449236fdb97af0acc5cbe15b.png)](https://i.stack.imgur.com/tbb1D.png)

[![在此处输入图像描述](../Images/fbc384f1da8a8fade5196405e7bf6f96.png)](https://i.stack.imgur.com/QIV3l.png)

[![在此处输入图像描述](../Images/195db7e63eb67cdef2d21bcbe1252557.png)](https://i.stack.imgur.com/4UXWu.png)

[![在此处输入图像描述](../Images/0567a129f4d761643b31566c585610bd.png)](https://i.stack.imgur.com/ZJ0j2.png)

[![在此处输入图像描述](../Images/95784d7e8d597e1fd7a349b3ffb26fff.png)](https://i.stack.imgur.com/npAW7.png)

# ruby-on-rails - 无法使用 ruby 2.0 登录 heroku

> ID：15264403
> 
> 赞同：0
> 
> 时间：2013-03-07T06:15:56.820
> 
> 标签：ruby-on-rails, ruby, heroku, bundler

**更新**我重新启动Windows后它开始自行工作

我最近安装了 ruby​​ 2.0 和 heroku，但是每次我尝试登录 heroku 时，我都会收到以下错误

```
C:\kick\app\app>heroku login
C:/Ruby200/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require': cannot load such f
ile -- readline (LoadError)
        from C:/Ruby200/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'
        from C:/Ruby200/lib/ruby/gems/2.0.0/gems/heroku-2.35.0/lib/heroku/command/run.rb:1:in `<top (requir
ed)>'
        from C:/Ruby200/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'
        from C:/Ruby200/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'
        from C:/Ruby200/lib/ruby/gems/2.0.0/gems/heroku-2.35.0/lib/heroku/command.rb:14:in `block in load'
        from C:/Ruby200/lib/ruby/gems/2.0.0/gems/heroku-2.35.0/lib/heroku/command.rb:13:in `each'
        from C:/Ruby200/lib/ruby/gems/2.0.0/gems/heroku-2.35.0/lib/heroku/command.rb:13:in `load'
        from C:/Ruby200/lib/ruby/gems/2.0.0/gems/heroku-2.35.0/lib/heroku/cli.rb:27:in `start'
        from C:/Ruby200/lib/ruby/gems/2.0.0/gems/heroku-2.35.0/bin/heroku:17:in `<top (required)>'
        from C:/Ruby200/bin/heroku:23:in `load'
        from C:/Ruby200/bin/heroku:23:in `<main>' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:23:21.647

```
sudo apt-get install libreadline-dev 
```

然后添加到您的 Gemfile：

```
gem 'rb-readline' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T17:17:50.593

看起来您正在使用 Heroku gem？如果是这样，请使用[Heroku Toolbelt](https://toolbelt.heroku.com)

# php - jQuery链接鼠标悬停泛谷歌地图

> ID：15264405
> 
> 赞同：1
> 
> 时间：2013-03-07T06:15:58.663
> 
> 标签：php, javascript, jquery, google-maps, google-maps-api-3

我目前有一个位置搜索类型的网络应用程序，用户可以在其中查找他们感兴趣的地方，现在我已经将搜索结果与谷歌地图集成。这很好用，因为结果显示地图将有标记。但是某些标记超出了用户需要缩小才能查看它的范围，我如何使用 jquery 以便如果用户将鼠标悬停在列表`a`标记上，地图将自动平移以查找相关标记？以下是我的代码：

```
<div class="businessresult clearfix" uid="5">
<h4 class="itemheading" id="bizTitle0">
            <a id="bizTitleLink0" href="/business/hotel5">1.Hotel5</a>
</h4>
</div>
<div class="businessresult clearfix" uid="4">
<h4 class="itemheading" id="bizTitle0">
            <a id="bizTitleLink0" href="/business/hotel4">2.Hotel4 </a>
</h4>
</div>
<div class="businessresult clearfix" uid="3">
<h4 class="itemheading" id="bizTitle0" >
            <a id="bizTitleLink0" href="/business/hotel3">3.Hotel3 </a>
</h4>
</div> 
```

谷歌地图js：

```
<script type="text/javascript">
var gmap, gpoints = [];
var flat = '<?=$this->biz[0]["y"]?>';
var flng = '<?=$this->biz[0]["x"]?>';

$(document).ready(function() {
        initialize();
    });

function initialize() {

        gmap = new google.maps.Map(document.getElementById('map-container'), {
            zoom:               13,
            streetViewControl:  false,
            scaleControl:       false,
            center: new google.maps.LatLng(flat, flng),
            mapTypeId:          google.maps.MapTypeId.ROADMAP

        });

<?php
        foreach ($this->paginator as $bizArr) {
            $lat = $bizArr['y'];
            $long = $bizArr['x'];
            $name = addslashes($bizArr['business_name']);
            $rating = $bizArr['rating'];
            $content = '';
?> 
gpoints.push( new point(gmap, '<?=$lat; ?>', '<?=$long; ?>', '<?php echo $content; ?>',gmap.center) );
        <?php } ?>

    }

function point(_map, lat, lng, content,center) {
         this.marker = new google.maps.Marker({
            position: new google.maps.LatLng(lat,lng),
            map: _map,
            tooltip: content
        });

        var gpoint = this;
        var tooltip = new Tooltip({map: _map}, gpoint.marker);
        tooltip.bindTo("text", gpoint.marker, "tooltip");
        google.maps.event.addListener(gpoint.marker, 'mouseover', function() {
            tooltip.addTip();
            tooltip.getPos2(gpoint.marker.getPosition());
            //_map.panTo(gpoint.marker.getPosition())
        });

        google.maps.event.addListener(gpoint.marker, 'mouseout', function() {
            tooltip.removeTip();
        });      

        google.maps.event.addListener(gpoint.marker, 'click', function() {
        _map.setZoom(15);
        _map.setCenter(gpoint.marker.getPosition());
        });

    }

</script> 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:54:24.867

快速说明：元素 ID 应该是唯一的。

处理这个问题的最好方法是

```
<a id="bizTitleLink_5" href="/business/hotel5" onmouseover="javascript:panTo(5)">1.Hotel5</a> 
```

然后在你的js中有类似的东西

```
function panTo(id){
    map.panTo(markers[id].getPoint());
} 
```

显然，您将了解更多关于如何调用地图以及设置标记上的 id 的信息，因此您可能需要使用它。

（如果您只是使用锚 id 进行样式设置，只需通过 '.businessresult a' 引用它并从锚中删除 id。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:23:32.823

您很可能对`panTo(latLng:LatLng)`Map API [https://developers.google.com/maps/documentation/javascript/reference#Methods](https://developers.google.com/maps/documentation/javascript/reference#Methods)的方法感兴趣。然后，您可以通过事件 ( `hover`) 在 JS 中简单地处理它，以及标签上的一些元数据，`a`例如

```
<a id="biz" href="http://somewhere.com" lat="12.345" lng="12.345">Biz</a> 
```

在 JS 方面

```
$('#biz').hover(function() {
   var point = new google.maps.LatLng($('#biz').attr('lat'), $('#biz').attr('lng'));
   gmap.panTo(point); // where map is 
}); 
```

# php - Amazon S3 上传限制

> ID：15264407
> 
> 赞同：2
> 
> 时间：2013-03-07T06:16:00.113
> 
> 标签：php, upload, amazon-s3, amazon

我是 Amazon S3 的新手。我正在开发 PHP 程序来上传文件。

我正在使用 Amazon 提供的 S3.php API

```
S3.php 

http://pastebin.com/8jswXSF7 
```

我可以上传最大为 2 MB 的文件，但如果我尝试上传任何大于 2MB 的文件，则会引发以下错误：

**警告：S3::inputFile()：无法打开输入文件：在 /var/www/api/S3.php 的第 224 行**

注意：我在 php.ini 中增加了上传限制

# iphone - 错误：'函数'nslog'的隐式声明在C99无效'

> ID：15264421
> 
> 赞同：7
> 
> 时间：2013-03-07T06:16:58.853
> 
> 标签：iphone

如何修复此错误：“函数 'nslog' 的隐式声明在 C99 无效”。请告诉一些有关此错误的信息，为什么会发生这种情况。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-07T06:19:52.110

大写/小写在 Objective-C 中很重要，所以正确的使用不是`nslog`but [`NSLog`](http://cocoadev.com/wiki/NSLog)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-07T06:22:14.650

可能是因为你没有在你的项目中添加基础框架。

右键单击您的顶级项目文件夹，单击添加 -> 现有框架并从列表中添加“基础框架”。

# android - 如何在 Android 应用程序中使用类似 iOS 的日期选择器？

> ID：15264425
> 
> 赞同：-3
> 
> 时间：2013-03-07T06:17:11.023
> 
> 标签：android, datepicker

![在此处输入图像描述](../Images/b9cef0cf75bf0e9697c6bed20d868572.png)

我如何在 android 应用程序中使用这种类型的日期选择器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:21:51.437

我一直在寻找类似的东西，直到我找到[了这个小部件](http://code.google.com/p/android-wheel/)。

看看这些源代码示例

[例子](http://code.google.com/p/android-wheel/downloads/list)

# c# - GUI优先于定时器C#

> ID：15264429
> 
> 赞同：0
> 
> 时间：2013-03-07T06:17:30.903
> 
> 标签：c#, user-interface, timer

我有一个包含多个计时器的表单应用程序，所有这些都在不同的时间执行任务，但是我现在开始在“不太好”的计算机上遇到我的应用程序问题。我的问题是 GUI 似乎没有得到它需要的时间。只需一个简单的按钮点击和非常小的任务就可能需要很长时间。而且我觉得它的“推动”本身被延迟了。所以现在我的问题是，有没有办法让 GUI 优先于计时器？例如，如果 GUI 需要工作，请跳过一个勾号？（没有计时器很重要，它不能跳过某个时间）。还是有其他方法可以让 GUI 正常工作？顺便说一句，我正在使用`System.Timers.Timer`，这是对前 System.Windows.Forms.Timer 的正确选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:21:28.467

[`System.Windows.Forms.Timer`](http://msdn.microsoft.com/en-us/library/system.windows.forms.timer.aspx)如果您使用的是 WinForms，您应该使用 .

> 此计时器针对在 Windows 窗体应用程序中的使用进行了优化，并且必须在窗口中使用。

如果您的应用程序中有 1 个或 100 个计时器，这并不重要。重要的是您在计时器回调（`Tick`处理程序）中所做的事情。任何花费超过“一点点”时间的代码都会给你的 UI 带来一种“呆滞”的感觉。

如果您可以详细说明所有计时器在做什么，并发布一些代码，我可以提供进一步的建议。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:25:10.120

使用线程

创建新的（单独的）线程，不会干扰计时器，您的任务将同时完成。

但是，如果您正在处理复杂的数据，请等待所有线程完成，然后再继续！

我希望这个能帮上忙 ：）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T06:25:56.173

我相信，那些“不太好”的计算机没有足够的资源在短时间内处理您的任务。因此，您需要多线程。

它并不像听起来那么难，只需阅读一些[教程](https://www.google.ru/webhp?sourceid=chrome-instant&ion=1&ie=UTF-8#hl=en&sugexp=les%3B&gs_rn=5&gs_ri=psy-ab&tok=8v62B2nZi3w4U9RB0ExMzg&cp=26&gs_id=2a&xhr=t&q=C%23+multithreading+tutorial&es_nrs=true&pf=p&newwindow=1&sclient=psy-ab&oq=C%23+multithreading+tutorial&gs_l=&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&bvm=bv.43287494,d.bGE&fp=8c6deed726f743b1&ion=1&biw=1920&bih=979)，瞧。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:50:23.480

如果您想在计时器事件中开始一些冗长的任务，最好在单独的线程中完成。最短/最简单的方法是这样的：

```
ThreadPool.QueueUserWorkItem((o) => { 
    // Do lenghty stuff
    // ...
    BeginInvoke((MethodInvoker)delegate() {
       // Update UI, if necessary
    });
}); 
```

我不是个人的忠实粉丝`System.Timers.Timer`。我更喜欢`System.Threading.Timer`我的任务是长的和/或非 gui 的，以及`System.Windows.Forms.Timer`短的 GUI 更新（它在 GUI 线程上触发，所以不需要`Invoke`任何东西）。

在严格的周期性计时器上启动任务的一个问题是它会触发，然后触发，然后触发......即使您之前启动的任务仍未完成（除非您停止/启动它或类似的）。方便的`System.Threading.Timer`方式是你可以启动它一次，然后在任务启动*并完成后*，再次启动它。

```
finally {
    new System.Threading.Timer((o) => { ... }, null, 60000, 0);
} 
```

# ios - 找不到“NSFetchedResultsControllerDelegate”的协议声明

> ID：15264432
> 
> 赞同：7
> 
> 时间：2013-03-07T06:17:37.573
> 
> 标签：ios, objective-c, iphone, core-data, nsfetchedresultscontroller

我喜欢使用数据库根据创建日期填充记录`CoreData`，因此我使用`NSFetchedResultsControllerDelegate`的是良好的功能，因为我添加如下：

```
@interface FBCDMasterViewController : UITableViewController 
                                        <NSFetchedResultsControllerDelegate> 
```

它给出的错误：

> 找不到“NSFetchedResultsControllerDelegate”的协议声明

请帮忙

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-07T10:54:43.403

如果您使用的是 coreData，仅仅添加框架是不够的。您还必须在需要它的文件中导入标题。

```
#import <CoreData/CoreData.h> 
```

这放置在您的前缀头文件中应该可以修复它。

# c# - C# 程序使用正则表达式根据特定字段的值打印行？

> ID：15264434
> 
> 赞同：0
> 
> 时间：2013-03-07T06:17:45.150
> 
> 标签：c#, regex

我希望我的程序丢弃所有值为`appGUID`or`wx`的行`null`。如何使用正则表达式实现这一目标？

我无法弄清楚它的正则表达式模式。请帮忙。

我的日志文件格式为：

```
INFO  [com.adobe.watson.vo.BugServices] WX Edit Bug: 3494430 Server: yukon.corp.adobe.com User:xinche appGUID: null
INFO  [com.adobe.watson.vo.BugServices] WX Edit Bug: 3494430 Server: yukon.corp.adobe.com User:xinche appGUID: null
INFO  [com.adobe.watson.vo.BugServices] WX Edit Bug: 3494430 Server: yukon.corp.adobe.com User:xinche appGUID: null
INFO  [com.adobe.watson.vo.BugServices] WX Edit Bug: 3419432 Server: yukon.corp.adobe.com User:prerelease appGUID: fcdd2153-bbdf
INFO  [com.adobe.watson.vo.BugServices] WX Edit Bug: 3419432 Server: yukon.corp.adobe.com User:prerelease appGUID: fcdd2153-bbdf
INFO  [com.adobe.watson.vo.BugServices] WX Edit Bug: 3419422 Server: yukon.corp.adobe.com User:prerelease appGUID: fcdd2153-bbdf
INFO  [com.adobe.watson.vo.BugServices] WX Edit Bug: 3419442 Server: yukon.corp.adobe.com User:prerelease appGUID: fcdd2153-bbdf
INFO  [com.adobe.watson.vo.BugServices] WX New Bug: 3494441 Server: yukon.corp.adobe.com User:bey81694 appGUID: wx
INFO  [com.adobe.watson.vo.BugServices] WX New Bug: 3494441 Server: yukon.corp.adobe.com User:bey81694 appGUID: wx
INFO  [com.adobe.watson.vo.BugServices] WX New Bug: 3494441 Server: yukon.corp.adobe.com User:bey81694 appGUID: wx 
```

我的代码在这里：

```
StreamReader reader = new StreamReader(@"C:\Users\karansha\Desktop\Karan Logs\20110717.txt");
string x = reader.ReadToEnd();

List<string> users = new List<string>();

Regex regex = new Regex(@"appGUID:\s*(?<value>.*?)\s");
MatchCollection matches = regex.Matches(x);

foreach (Match match in matches)
{
        var user = match.Groups["value"].Value;
        if (!users.Contains(user)) users.Add(user);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:36:11.023

使用不带正则表达式的 LINQ 解析所有用户：

```
var users = File.ReadAllLines("20110717.txt")
                .Select(line =>
                {
                    string guidPrefix = "appGUID:";
                    int index = line.IndexOf(guidPrefix);
                    return line.Substring(index + guidPrefix.Length + 1);
                })
                .Where(user => user != "null" && user != "wx")
                .ToList(); 
```

如果日志格式不一致（通常你不应该依赖相同的格式，因为它应该是灵活的），那么正则表达式会更合适。它将处理行内 appGUID 位置的更改，或文本大小写的更改：

```
Regex regex = new Regex(@"appGUID:\s*(?<user>\S+)", RegexOptions.IgnoreCase);
var users = File.ReadAllLines("data.txt")
                .Select(line => regex.Match(line))
                .Where(match => match.Success)
                .Select(match => match.Groups["user"].Value)
                .Where(user => user != "null" && user != "wx")
                .ToList(); 
```

* * *

**更新：**实际上我会将解析部分移到单独的方法中，因为这很可能会改变。所以，你有类似的东西：

```
public List<string> GetUsersFrom(string fileName)
{
   return File.ReadAllLines(fileName)
              .Select(ParseUser)
              .Where(u => u != null && u != "null")
              .ToList();
}

private string ParseUser(string s) // Any implementation here
{
    var match = Regex.Match(s, @"appGUID:\s*(?<user>\S+)");
    if (!match.Success)
        return null;

    return match.Groups["user"].Value;
} 
```

用法：

```
var users = GetUsersFrom("20110717.txt").Where(u => u != "wx"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:28:54.530

用这个

```
regularexpression.replace(@"(.*)?(wx|null)\b",.....) 
```

并将其替换为 string.empty，它将丢弃所有您不想要的行。

```
StreamReader reader = new StreamReader(@"C:\Users\karansha\Desktop\Karan Logs\20110717.txt");
string x = reader.ReadToEnd();

List<string> users = new List<string>();

Regex regex = new Regex(@"(.*)?(wx|null)\b");
var newString = regex.Replace(x, String.Empty); 
```

快乐编码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:30:07.517

试试这个正则表达式：

```
appGUID:\s*(?<value>wx|null)\s 
```

# php - 跨域子域 .post 使用 php

> ID：15264437
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:18:01.473
> 
> 标签：php, javascript, cross-domain

我有一个主域“maindomain.com”和子域的服务器。我会打电话给“addon.com”。

我在 addon.com 站点上有一个 index.php 文件，它从 maindomain.com 文件夹的根目录中提取 php 文件，它工作正常。我遇到的问题是有一个使用 js 发布到名为 emailform.php 的 php 文件的联系表单，因为该文件位于主域上，所以我遇到了跨域问题。

我尝试解决问题的方法是在子域文件夹中创建另一个名为 subemailform.php 的 php 文件，该文件仅包含 emailform.php。

如果我直接进入 subemailform.php 页面，则会显示 emailform.php 中的回显。所以我知道包含正在工作。但它不会发送电子邮件。

我认为这将是一个很好的解决方法。关于为什么这不起作用的任何想法和任何建议？

部分js代码：

```
 function submitEmailForm() {
    $.post('subemailform.php', { domainName: App.get('domainName'), name:     $('#emailFormName').val(), phone: $('#emailFormPhone').val(), skype: $('#emailFormSkype').val(), email: $('#emailFormEmail').val() }, function() {
        // alert('success!'); 
```

subemailform.php

```
 <?php  
        include 'http://www.maindomain.com/emailform.php';
?> 
```

emailform.php 有 $name = $_POST['name']; 和邮件（$to,$email_subject,$email_body,$headers）；代码。

我应该指出，如果我从同一个域调用 js 和 emailform.php，它就可以工作。所以我知道代码正在运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:22:57.140

您可以将[JSONP](http://en.wikipedia.org/wiki/JSONP#JSONP)用于跨域 ajax 请求。
[json-p.org](http://json-p.org/)
[JavaScript 跨域请求 JSON](https://stackoverflow.com/a/2510819/1418007)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:24:21.257

除非您允许，否则跨域调用将不起作用

```
header('Access-Control-Allow-Origin: *');
header('Access-Control-Allow-Methods:POST'); 
```

或使用 JSONP

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:36:59.577

您可以尝试“P3P”策略。

访问[http://www.w3.org/P3P/](http://www.w3.org/P3P/)

# excel - IF 语句返回 TRUE 和/或 FALSE 但不计算

> ID：15264448
> 
> 赞同：0
> 
> 时间：2013-03-07T06:19:24.500
> 
> 标签：excel, if-statement

```
=IF([@[Total 2012]]<>0,([@[Total 2013]]/[@[Total 2012]]*100),100,IF(AND([@[Total 2012]]=0,[@[Total 2013]]=0),0,0)) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T12:59:13.167

你的公式不起作用 - 它有一个参数太多：

```
=IF(
1:   [@[Total 2012]]<>0,
2:   ([@[Total 2013]]/[@[Total 2012]]*100),
3:   100,
4:   IF(AND([@[Total 2012]]=0,[@[Total 2013]]=0),0,0)
) 
```

`IF`只需要三个*条件*，*结果为真*，*结果为假*。所以需要把它改成你需要的。

另请注意，您的第 4 个参数将始终返回`0`，因为嵌套`IF`公式`0`对于 true 和 false 部分都有。

# android - 谷歌地图 api v2 安卓

> ID：15264458
> 
> 赞同：0
> 
> 时间：2013-03-07T06:20:05.040
> 
> 标签：android, netbeans, google-maps-android-api-2

我试图在我的 android 项目上使用谷歌地图 v2。我已经下载了带有 google api 支持的最新 4.2。这似乎是我导入 lib 项目的方式，因为如果我`import android.support.v4.app.FragmentActivity; - the package doesn't exist. Am using netbeans. When I run on my gingerbbread phone,`在膨胀 MapFragment 时出错，我会得到错误。我试过 supportmapfragment - 它也不起作用。我尝试了 android update lib-project --path /Users/Adrian/Desktop/mpestwhite/libs/google-play-services_lib 但一直希望我指定目标 请就步骤提出建议。

xml

```
<fragment xmlns:android="http://schemas.android.com/apk/res/android"
          android:id="@+id/map"
          android:layout_width="match_parent"
          android:layout_height="match_parent"
  android:name="com.google.android.gms.maps.MapFragment"/> 
```

或者

```
<fragment xmlns:android="http://schemas.android.com/apk/res/android"
          android:id="@+id/map"
          android:layout_width="match_parent"
          android:layout_height="match_parent"
          android:name="com.google.android.gms.maps.SupportMapFragment"/> 
```

我的活动：

```
public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.map);
 } 
```

表现：

```
 <meta-data
    android:name="com.google.android.maps.v2.API_KEY"
    android:value="AIzaSyDmoeTnhtdQFggDZiJOkeSU46qxU1jPvb0"/>
    </application>
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.CAMERA" />
    <uses-feature android:name="android.hardware.camera" />
    <uses-feature android:name="android.hardware.camera.autofocus" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
<uses-feature
        android:glEsVersion="0x00020000"
        android:required="true"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:42:51.100

右键单击项目-> Android 工具-> 添加支持库

添加这个库并尝试导入片段并确保 minSdkVersion 为 11。希望它有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:56:55.570

我认为您忘记在应用程序中添加支持片段库。`android-support-v4.jar`.

要在您的应用程序中添加此库，只需按照以下步骤操作：

1）右键单击您的项目。
2) 转到项目-> Android 工具-> 添加支持库。
3）选择此选项后，它将搜索丢失的库，搜索后将提示您进行安装，您可以在其中选择全部安装选项。
4) 选择此选项后，它将自动在您的应用程序中添加所有缺少的库。

希望它会奏效。

谢谢

# python - Python，重新启动整个代码，以便移动对象和所有内容（不仅仅是循环，而是整个代码）

> ID：15264461
> 
> 赞同：3
> 
> 时间：2013-03-07T06:20:11.797
> 
> 标签：python, python-2.7, vpython

我正在为我的科学展览项目构建一个 N 体问题的计算机模拟。我希望模拟/代码在完成后播放，以便路过的其他人可以不断查看它。我正在使用`VPython`which 可以很好地进行模拟，但我无法找到一种方法让所有对象在重新启动整个代码时回到初始位置。我的循环正在使用：

```
finished = False
while not finished:
    rate(100) 
```

然后当某些事情发生时，我使用 if 语句来进行模拟的下一部分，例如：更多星星

```
if time >= 4.5:  #Millions of Years
   F = G*(m1*m2)*r/r**3 
```

有没有人知道如何让整个代码重复它自己？我能想到的最好的方法是将所有对象放入循环中，然后使用 continue，但我不完全知道如何使用 continue 和 break。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:53:35.833

你的问题对我来说并不完全清楚，但如果你问的是如何`break`工作`continue`，这可能有助于澄清一点：

```
while True:
    # do_some_stuff
    if calculation_finished:
        break     # exit from the innermost loop
    elif iteration_finished:
        continue  # abort the current iteration and go to the start of the loop
    else:
        # do_some_more_stuff
# This is where we land after the break statement.
# If there's nothing here, the program will exit. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:02:16.637

如果确实需要，您可以使用其中一种[`os.exec*`](http://docs.python.org/2/library/os.html#os.execl)方法从头开始重新执行程序，但是您想要做的最好通过重构代码来完成，以便您可以将所有参数重置为一些最初指定的常量。如果不看更多代码，很难准确地说出如何重构它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T08:04:48.890

你的问题不清楚。不过，我相信您的问题是 N >= 3 的 N 体问题的轨迹是混乱的。并且您想重复相同的轨迹或反转时间并再次倒退。如果这是您的问题，那么除了只模拟**一次**轨迹（使用您的任何方法）之外别无他法。在模拟时，您显示并记录它。在这个模拟运行之后，你可以对你记录的轨迹做任何你想做的事情（再次播放，向后播放，...）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-15T03:09:38.827

前任：

```
restPos = (x,y,z)

while True:
    if Star1.pos = resetPos:
        #reset star positions, EX below
        star1.pos = (0,0,0)
    else:
        F = G*m1*m2*r/r**3
        Star1.pos += F*dt #or however i did this, haven't used the code in a bit 
```

# javascript - 在 JavaScript 中美化 / lint 空格

> ID：15264463
> 
> 赞同：11
> 
> 时间：2013-03-07T06:20:16.750
> 
> 标签：javascript, node.js, gruntjs, code-formatting

我想 lint（甚至可能自动）美化 JavaScript 中的空白。问题是是否有任何工具可以做到这一点。

我知道 JSLint 和 JSHint，例如，可以检查缩进和尾随空格，这都很好，但这些不是你可能拥有的唯一类型的空格。

我还想检查的是：

*   在某些构造之前或之后是否有空行？
*   是否有多个空行？
*   某些事物之间是否有单个空格（由 JSLint / JSHint 部分检查）？
*   ...

基本上，我希望拥有现代 IDE（如 Visual Studio 和 Resharper）所能做的一切，但作为可以嵌入到 Grunt 中的命令行工具。

我发现在这个方向上做的唯一事情是[esformatter](https://github.com/millermedeiros/esformatter/)，但根据它的网站

> 仍处于早期开发阶段，并且缺少对许多重要功能的支持。

当然，如果有更成熟的东西那就太好了。

有任何想法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T17:07:41.947

**6个月后更新**和大量搜索

我建议你看看**[eslint](https://npmjs.org/package/eslint)**。它建立在可插拔 linting 规则的概念之上，这正是您所要求的。您可以使用 grunt-plugin **[grunt-eslint](https://npmjs.org/package/grunt-eslint)**来指定 linting 规则并使其自动化。它仍然是 pre-alpha，但比 esformatter 发展得更快。它有一个明确的[路线图](https://github.com/nzakas/eslint/wiki/Release-goals)。

* * *

**原来的**

您提出的问题没有简单的答案。所以让我把它分解并分部分回答。您需要在命令行上嵌入现代 IDE 的功能，例如 Visual Studio 和 Resharper，您可以将其嵌入到 Grunt 中。对您（可能）想要的功能进行广泛分类：

*   编译器/调试器
    *   在运行之前/期间测试错误。
*   皮棉/标记可疑代码
    *   遵循编码标准，有助于发现可能的缺陷。
*   格式化程序/美化器
    *   使代码可读

在制作 IDE 时，请牢记以上所有内容。因此，很难在 IDE 中为 node 找到一个同样强大的格式化程序。

## 调试器

我知道可以为节点使用 eclipse 调试器。检查此[链接](https://github.com/joyent/node/wiki/Using-Eclipse-as-Node-Applications-Debugger)

## 棉绒/格式化程序

对于咕噜声（基于 JSLint/JSHint）：

1.  [grunt-contrib-jshint](https://npmjs.org/package/grunt-contrib-jshint)
2.  [咕噜声-jslint](https://npmjs.org/package/grunt-jslint)
3.  [咕哝短绒](https://npmjs.org/package/grunt-linter)
4.  [grunt-jsbeautifier](https://npmjs.org/package/grunt-jsbeautifier)

`esformatter`之所以强大，是因为它使用[esprima](https://npmjs.org/package/esprima)来解析和格式化 Javascript。它是格式化程序而不是 lint，因此您可能必须在使用它之前对代码进行 lint。`esprima`您可以查看其他一些格式化程序：

**[使用 ECMAscript 的codepainter](https://github.com/fawek/codepainter)** JavaScript 美化器

从其支持的样式属性中，它具有一些您可以使用的功能：

1.  缩进：{字符：'？'，宽度：？}
2.  LastEmptyLine：存在，省略
3.  报价类型：单、双
4.  SpaceAfterControlStatements：存在，省略
5.  SpaceAfterAnonymousFunctions：存在，省略
6.  SpacesAroundOperators：存在，省略
7.  尾随空格：带

**[esmangle](https://npmjs.org/package/esmangle)** ECMAScript 代码管理器/压缩器

`esmangle``esprima`用作解析器并`escodegen`用作代码生成器。见[演示](http://constellation.github.com/escodegen/demo/index.html)。

有许多正在为 ECMAscript 开发的包，你可以[在这里查看它们](https://nodejsmodules.org/tags/ecmascript)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T15:16:51.507

“@Golo：所以你想要的是能够指定在每种语言结构之间、在每种上下文中如何出现空格？（例如，if-then-else 如何在 do 循环内与顶部内布局？函数的级别）？

戈洛：没错 :-)”

然后，您需要访问代码中每个点的语言结构，以及每个语言元素（开始/结束行/列）的精确位置信息。对于*linting*，您需要一种针对这些事物组合编写测试的方法。对于*repair*，您需要一种方法来重新生成满足您的约束的文本。您显然希望所有这些都易于配置。

您想要的“结构”是语法树中的解析器产生的。上下文是围绕感兴趣结构的句法结构。您不需要抽象语法树，因为这会丢失要检查/控制其位置的具体标记，因此您需要完整的具体分析树。

解析器对精确的源位置不感兴趣，但词法分析器（需要将输入流分解为语言标记以提供给解析器）可以收集这些精确信息。您担心“什么构成列调整以及调整多少”的一些复杂问题。一些例子： 制表符：制表符到下一个 8 字符边界？4个字？到预先指定的选项卡列？在 linux 上，“LF”将行号前移，并将列数重置为 1。在 Windows 上，“CR/LF”是一对。在我遇到的其他操作系统上，它只是“CR”；在真正现代的系统上，Unicode 换行符应该这样做。那么，如果在linux上，应该如何对待CR呢？在文本中找到空字符怎么样？^Z? 其他控制字符（例如，^L [formfeed]）？

给定一个源文件，该文件被精确解析为具有捕获源位置的 CST，现在您要检查结构是否按照您想要的方式对齐。首先，您需要指定结构；做循环？构造函数？数据声明？然后你需要列位置的谓词来给你精确的控制。

几乎所有提供语法树的工具都没有提供任何简单的方法来引用这种结构。几乎你被困在编写经典的类似编译器的过程代码，它知道语法树的形状并爬过它寻找感兴趣的树节点，然后环顾四周看看是否存在其他相关的树节点。一旦你处于这种模式，你就可以识别你想要的树，然后编写更多的程序代码来检查间距约定。

程序转换系统 (PTS) 通常提供“源到源”重写，您可以在其中使用语言的表面语法直接编写模式。这比程序上绕树爬要方便得多。有些*只做*源到源模式对；有些提供仅指定单个模式的能力。PT 系统还必须能够解析感兴趣的语言，并使您能够为您的特定任务添加自定义检查。

例如，我们的 DMS Software Reengineering Toolkit 解析 ECMAScript，并提供此类源模式规范，以及附加自定义条件和操作的能力。举个例子：

```
domain ECMAScript;

pattern ideal_if_statement_layout(e:expression,s:statement):statement =
     " if (\e)
          \s"  if diagnose_not_equal(column(s),parentheses_column(e)); 
```

表达了对“if then”语句的兴趣（您可以对“if then else”使用不同的模式），以及对检查语句元素位置的自定义列比较函数的约束。“diagnose_not_equal”自定义函数会产生 lint-complaints。引号是元引号；它们是模式匹配语言的一部分，而不是底层语言。 **e**和**s**是元变量，分别匹配任何语言结构*表达式*和*语句*。因为这些正在应用于 CST，所以它们不能与预期的目标不匹配。**自定义函数“column”仅获取与s**的最左侧子树相关联的起始列信息**; DMS 中的树管理 API 使这基本上变得微不足道。需要“括号列”，因为该模式会告诉您**e**在哪里；“（”位于**e**上方的树节点中，因此需要稍微导航树以找到“（”，然后提取其*最右边*的列，这也很容易使用 DMS 树 API 完成。**

 **您可以构建任意复杂的模式；您也可以在一种模式中设定条件，取决于另一种模式的匹配。因此，使用适量的自定义列提取函数，您可以编写各种 linting 检查。

这不会让您检查“if”关键字是否是“（”关键字左侧的一个空格，很容易。您可以通过添加自定义检查在某种程度上表达，例如，“statement_keyword_column”等。但这开始变得尴尬。

您可能会注意到图案的*布局*；也可以将其用作约束。DMS 不提供执行此操作的直接方法。但是，它完全能够将自己的模式描述读取*为树*。使用它，可以提取图案的明显布局，并使用它来检查结构布局。这需要对 DMS 的使用进行一些复杂的操作，但这是一个汗水问题，而不是理论或缺少机制。

我个人不太喜欢布局上的 linting。我希望文件只是被重新塑造。DMS 确实具有漂亮打印规则，可以将您的 CST（无论其布局是什么）转换为由其漂亮打印规则控制的布局。目前，这些规则是特定于树节点的，并且是用语法编码的，所以它们受到了一些限制。可以写（在语法中）：

```
 stmt =  'if' expression stmt ';'
   <<PrettyPrinter>>:  { V(H('if,expression),I(stmt[1])) } 
```

这将导致所有 if-then 语句重新生成为：

```
 if expresssion
       stmt 
```

[V 表示两个子框的“垂直框”；H 表示“水平框”，I 表示“缩进框”]

仔细使用这种漂亮的打印规则可以很好地重新格式化代码。它并不完美，因为您无法以这种方式控制多个语句的布局。但这是 DMS 的一部分，实际上很容易修改。

一个理想的解决方案是使用模式语言，并使用模式中的布局来控制漂亮打印。这在我们的计划中，但遗憾的是，还没有在 DMS 中。

我认为其他 PTS 可以在某种程度上表达上述模式，并且它们中的大多数都有某种方式来指定像 DMS 那样的漂亮打印。所以好消息是这些工具可以满足您的大部分需求。不太好的消息是选择其中一种工具并学会使用它需要付出很大的努力。一个下午并没有减少它，远射。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-14T12:05:43.167

> 基本上，我希望拥有现代 IDE（如 Visual Studio 和 Resharper）所能做的一切，但作为可以嵌入到 Grunt 中的命令行工具。

这个怎么样：[https ://npmjs.org/package/grunt-jsbeautifier](https://npmjs.org/package/grunt-jsbeautifier)

它本质上是将[https://npmjs.org/package/js-beautify](https://npmjs.org/package/js-beautify)包装到 Grunt 任务中。

*编辑，扩展我原来的答案：*我不熟悉 VS Resharper 的功能，但是 - 至少根据自述文件 - 有一个选项可以让 JSLint 开心（我们都知道一个可以是多么挑剔） .

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-14T12:14:36.360

google 闭包 lint 有一个修复 lint 功能，它可以为您优化您的代码并使其与 google 样式指南一致。 [https://developers.google.com/closure/utilities/docs/linter_howto](https://developers.google.com/closure/utilities/docs/linter_howto)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T12:38:08.440

我使用 Eclipse，因为我编写了 java、javascript、perl（EPIC 插件）、shell 脚本等等。`CTRL-SHIFT-F`Eclipse 将使用快捷方式轻松地对这些语言中的任何一种以及更多语言进行编码格式化。这在**IDE**中对我来说效果很好。

对于**命令行**，可以调用eclipse的格式化工具。看：

1.  [Java代码的Eclipse命令行格式化](https://stackoverflow.com/questions/6378266/eclipse-command-line-formatting-of-java-code)
2.  [Eclipse Java 格式化程序可以单独使用吗](https://stackoverflow.com/questions/384101/can-the-eclipse-formatter-be-used-stand-alone)

综上所述，除非您或您的团队中的其他人已经在使用 Eclipse，否则它可能会比您正在寻找的开销更大。但！Eclipse 的代码格式是高度可配置的，并且会处理您的一些空白/空行问题。**

# java - 是否可以在 Java 中调用 println？

> ID：15264464
> 
> 赞同：5
> 
> 时间：2013-03-07T06:20:23.060
> 
> 标签：java, command-line-interface

假设我正在制作一个命令行界面。我想打印一个字符串，然后更改它。例如，当您运行程序时，它会打印出

```
Hello, World! 
```

但是，几秒钟后，消息变为：

```
Hello, Computer User! 
```

这可能吗？跨操作系统会更好。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T06:21:27.600

您可以回显`\b`转义序列，即退格，然后写出一条新消息来代替旧消息。

请注意，这可能不是完全跨平台的，因为它取决于控制台本身以及它如何解释`\b`，但它应该主要工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T06:42:17.753

尝试

```
 String s1 = "Hello, word!";
    System.out.print(s1);
    Thread.sleep(1000);
    for(int i = 0; i < s1.length(); i++) {
        System.out.print('\b');
    }
    System.out.print("Hello, computer user"); 
```

请注意，它不适用于 Eclipse，请从命令行运行它

# javascript - 刷新动画，然后重定向到不同的 url

> ID：15264477
> 
> 赞同：1
> 
> 时间：2013-03-07T06:21:04.323
> 
> 标签：javascript, jquery, html, ajax

这可能是一个非常菜鸟的问题......但我无法弄清楚。

我有一个有一个按钮的页面..

我想要的是..当我点击那个按钮时，它会显示一个“处理”的动画

像这样

[http://ajaxload.info/](http://ajaxload.info/)

然后几秒钟后..转发到一个网址

说 google.com

我敢肯定这很微不足道..但我无法考虑。

到目前为止，我所拥有的只是一个按钮 :(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:25:12.910

如果您使用的是[.animate ，您还没有告诉过您是如何制作动画的](http://api.jquery.com/animate/)

> .animate（属性[，持续时间] [，缓动] [，完成]）

它提供了一个完整的回调，您可以在其中进行重定向

```
 $(/*your selector*/).animate({
    opacity: 0.25,
  }, 5000, function() {
    // Animation complete.
    location.href='www.google.com';
  }); 
```

[演示](http://jsfiddle.net/7ymXG/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:27:34.597

试穿`.click()`并使用`setTimeout()`：

```
$(function(){
  $('button').click(function(){
     $('body').addClass('processing'); // <---------css class with bg img of loading
     setTimeout(function(){
       window.location.href = 'http://google.com';
     },2000); //<---------after 2 sec page redirect to specified location.
  });
}); 
```

更好地使用这种方式：

```
$('button').click(function () {
   $(this).after('<img src="http://www.ebay.vn/assets/96ab871/images/loading.gif" />');
   setTimeout(function () {
      window.location.href = 'http://jsfiddle.net/6nMKb/';
   }, 2000);
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T06:29:53.120

用于[`setTimeout()`](https://developer.mozilla.org/en/docs/DOM/window.setTimeout)在两秒后调用位置..`window.loaction`重定向

试试这个

**HTML**

```
<button id="buttonId">click</button>
<img src="loading.gif" id="imgid" style="display:none"/> 
```

**jQuery**

```
$('#buttonId').click(function(){
   $('#imgid').show(); //this is where you'll show your loading gif
   setTimeout(function(){window.location="http://google.com";}, 2000);
}); 
```

# database - redis数据库中HSET和HMSET方法有什么区别

> ID：15264480
> 
> 赞同：80
> 
> 时间：2013-03-07T06:21:18.703
> 
> 标签：database, redis

在我的应用程序中，我使用 redis 数据库。我浏览了他们的文档，但我找不到 HSET 和 HMSET 之间的区别。

* * *

## 回答 #1

> 赞同：123
> 
> 时间：2013-03-07T06:24:03.907

HSET 过去只能设置一个键值对。如果您需要一次设置多个，则必须使用 HMSET（M 表示多）。几年前改变了，允许两个命令接受多对。现在 HMSET 是多余的。

来自[官方文档](https://redis.io/commands/hmset)：

> 根据 Redis 4.0.0，HMSET 被视为已弃用。请在新代码中使用 HSET。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2015-12-13T15:13:59.980

**[HSET 键字段值](http://redis.io/commands/hset)：**

将存储在键中的哈希中的字段设置为值。如果 key 不存在，则创建一个包含哈希的新 key。如果字段已存在于哈希中，则将其覆盖。

**[HMSET 键字段值 [字段值 ...]](http://redis.io/commands/hmset)**

将指定字段设置为存储在 key 的哈希中的各自值。此命令会覆盖散列中的任何现有字段。如果 key 不存在，则创建一个包含哈希的新 key。

更多redis命令信息，[请点击这里](http://redis.io/commands)。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2018-10-05T15:30:39.313

[`HSET`](https://redis.io/commands/hset)命令和命令之间的唯一区别是命令[`HMSET`](https://redis.io/commands/hmset)的**返回值**。

HSET 返回值（整数回复）：

*   `#`如果该字段是哈希中的新字段并且设置了值。（`#`创建的新字段的数量在哪里）
*   如果该字段已存在于哈希中并且值已更新，则为 0。

HMSET 返回一个简单的字符串作为回复。

# maven - 如何对动态添加测试用例的junit testsuite进行mavenize？

> ID：15264481
> 
> 赞同：0
> 
> 时间：2013-03-07T06:21:18.607
> 
> 标签：maven

我有一个 TestSuite，其中需要动态添加测试套件和测试用例。以下链接解释了它是如何完成的 - [http://jorgemanrubia.net/2008/09/18/generating-junit-test-cases-dynamically/](http://jorgemanrubia.net/2008/09/18/generating-junit-test-cases-dynamically/)

现在我需要对其进行 mavenize 并通过 maven build 运行测试，我尝试使用 @RunWith(AllTest.class) 注释，但仍然失败，说没有找到测试。

欢迎任何线索或帮助。

提前致谢。

此致，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-02T12:19:08.577

[build-helper-maven-plugin](http://mojo.codehaus.org/build-helper-maven-plugin/index.html)能够将[测试源目录添加](http://mojo.codehaus.org/build-helper-maven-plugin/add-test-source-mojo.html)到项目中。添加测试源目录后，Maven 将编译测试并在适当的阶段运行它们。插件的[使用](http://mojo.codehaus.org/build-helper-maven-plugin/usage.html)页面有一个很好的插件配置示例。

# android - Android 发送邮件：禁用默认电子邮件编辑器中的编辑

> ID：15264484
> 
> 赞同：0
> 
> 时间：2013-03-07T06:21:26.283
> 
> 标签：android, android-intent

我正在开发一个应用程序。我在其中从我的应用程序发送电子邮件。我正在使用代码将邮件发送为：

```
Intent emailIntent = new Intent(Intent.ACTION_SEND);
emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[] { too });  
emailIntent.putExtra(Intent.EXTRA_SUBJECT, sub);  

emailIntent.setType("message/rfc822");
emailIntent.putExtra(Intent.EXTRA_TEXT, body);  

startActivity(Intent.createChooser(emailIntent, "Choose Email Clients...")); 
```

通过使用此代码，我可以发送电子邮件。因为默认邮件编辑器是可访问的。

**我的问题是：**用户无法在默认作曲家（正文、主题和字段）中编辑的应用程序需要。但是作曲家字段是可编辑的。那么如何使可编辑为假。

我作为邮件正文、主题和发送给谁的全部数据都来自数据库。用户无权更改或修改它。

我在谷歌上搜索并得到了一些不使用意图发送电子邮件的代码，我觉得这很复杂。链接在[这里](http://www.jondev.net/articles/Sending_Emails_without_User_Intervention_%28no_Intents%29_in_Android)

按照链接中给出的步骤后，我得到了错误，如下所示：

```
03-07 18:06:05.750: D/dalvikvm(12734): GC_CONCURRENT freed 303K, 53% free 2699K/5639K, external 141K/518K, paused 3ms+2ms
03-07 18:06:26.430: E/MailApp(12734): Could not send email
03-07 18:06:26.430: E/MailApp(12734): javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465;
03-07 18:06:26.430: E/MailApp(12734):   nested exception is:
03-07 18:06:26.430: E/MailApp(12734):   java.net.SocketException: Host is unresolved: smtp.gmail.com
03-07 18:06:26.430: E/MailApp(12734):   at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
03-07 18:06:26.430: E/MailApp(12734):   at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
03-07 18:06:26.430: E/MailApp(12734):   at javax.mail.Service.connect(Service.java:310)
03-07 18:06:26.430: E/MailApp(12734):   at javax.mail.Service.connect(Service.java:169)
03-07 18:06:26.430: E/MailApp(12734):   at javax.mail.Service.connect(Service.java:118)
03-07 18:06:26.430: E/MailApp(12734):   at javax.mail.Transport.send0(Transport.java:188)
03-07 18:06:26.430: E/MailApp(12734):   at javax.mail.Transport.send(Transport.java:118)
03-07 18:06:26.430: E/MailApp(12734):   at com.ocs.sendmailcustom.Mail.send(Mail.java:104)
03-07 18:06:26.430: E/MailApp(12734):   at com.ocs.sendmailcustom.Main$1.onClick(Main.java:31)
03-07 18:06:26.430: E/MailApp(12734):   at android.view.View.performClick(View.java:2538)
03-07 18:06:26.430: E/MailApp(12734):   at android.view.View$PerformClick.run(View.java:9152)
03-07 18:06:26.430: E/MailApp(12734):   at android.os.Handler.handleCallback(Handler.java:587)
03-07 18:06:26.430: E/MailApp(12734):   at android.os.Handler.dispatchMessage(Handler.java:92)
03-07 18:06:26.430: E/MailApp(12734):   at android.os.Looper.loop(Looper.java:123)
03-07 18:06:26.430: E/MailApp(12734):   at  android.app.ActivityThread.main(ActivityThread.java:3691)
03-07 18:06:26.430: E/MailApp(12734):   at  java.lang.reflect.Method.invokeNative(Native Method)
03-07 18:06:26.430: E/MailApp(12734):   at java.lang.reflect.Method.invoke(Method.java:507)
03-07 18:06:26.430: E/MailApp(12734):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:847)
03-07 18:06:26.430: E/MailApp(12734):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:605)
03-07 18:06:26.430: E/MailApp(12734):   at dalvik.system.NativeStart.main(Native Method)
03-07 18:06:26.430: E/MailApp(12734): Caused by: java.net.SocketException: Host is unresolved: smtp.gmail.com
03-07 18:06:26.430: E/MailApp(12734):   at java.net.Socket.connect(Socket.java:985)
03-07 18:06:26.430: E/MailApp(12734):   at java.net.Socket.connect(Socket.java:945)
03-07 18:06:26.430: E/MailApp(12734):   at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
03-07 18:06:26.430: E/MailApp(12734):   at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:163)
03-07 18:06:26.430: E/MailApp(12734):   at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
03-07 18:06:26.430: E/MailApp(12734):   ... 19 more 
```

在设备上以 SAMSUNG Galaxy s2 运行应用程序时出现此错误。

但它在 LG 擎天柱 E400 上成功运行。

那么我应该怎么做或按照步骤来完成任务。或者有没有办法无意识地发送邮件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T04:48:01.513

我解决了我的问题。因为这是一个愚蠢的错误，我忘记注意了。由于我的 LG 设备在 GPRS 网络中工作，而我的三星设备在 WI-FI 上。

所以我只是在 androidmenifest 文件中包含 WI-FI 的权限：

```
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
<uses-permission android:name="android.permission.CHANGE_WIFI_STATE"/> 
```

添加此权限后，我可以从意图以及[链接](http://www.jondev.net/articles/Sending_Emails_without_User_Intervention_%28no_Intents%29_in_Android)中给出的代码发送邮件，该代码是自定义电子邮件发送而没有意图。

希望这篇文章将有助于向所有人开发电子邮件发送应用程序。

# android - BitmapFactory.decodeResource 位图不是以像素为单位的原始大小

> ID：15264489
> 
> 赞同：4
> 
> 时间：2013-03-07T06:21:43.677
> 
> 标签：android, bitmapfactory

我有这个代码可以裁剪图像表的一部分。

问题是当我使用`BitmapFactory.decodeResource`和记录宽度和高度时，大小与原始大小不同。

```
Bitmap spriteSheet = BitmapFactory.decodeResource(context.getResources(), R.drawable.imageSheet);

Log.i("Sprite Sheet Size",spriteSheet.getWidth()+"w "+spriteSheet.getHeight()+"h"); 
```

这是日志`1536w 330h`，但drawable（png）的原始大小是`1024x220`

如何将我的资源解码为原始大小的位图。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-07T06:26:05.027

图片根据您使用的设备的dpi进行缩放，您可以将资源放入`res/drawable-nodpi`或`res/drawable`文件夹中以获得正确的大小

# mysql - 如何在 mySQL 中导入多个 ods 文件？

> ID：15264491
> 
> 赞同：2
> 
> 时间：2013-03-07T06:21:48.050
> 
> 标签：mysql

我有 33 个 ods 文件（打开办公室电子表格文件）。ALL 必须导入到 database01。

首先，它必须创建与文件名对应的表。在那之后，这意味着第二天，（另外 33 个文件将使用不同的数据生成）它不应该创建表，而只是将数据插入到先前创建的表中。

我正在使用 phpMyAmdin。我很想拥有 mySQL（脚本），以便直接从这里复制和粘贴到那里。

先谢谢了~

# iphone - 如何更新我的应用程序以兼容 iOS 6 或 6.1？

> ID：15264495
> 
> 赞同：1
> 
> 时间：2013-03-07T06:22:12.823
> 
> 标签：iphone, ios6, ios-simulator

一年前，我针对 iOS 5.1 开发了一个应用程序。现在，当我在 iOS 6 或 6.1 上运行该应用程序时，它不起作用。即使我选择 iOS 6 模拟器并构建应用程序，应用程序也会构建，但在我尝试运行它时会停止。如果我选择 iOS 5.1 模拟器，它可以工作。我的 Xcode 版本是 4.5.2。我在 6.0 上设置了我的部署，但它仍然没有在 6.0 上运行。

这是我第一次开心。从过去的两天开始，我被困在这只雄鹿上。

知道如何使用最新的 iOS 版本吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:05:35.577

我遇到了你的问题......当我需要测试应用程序并且我没有配置配置文件来在我的设备上安装该应用程序时，我也遇到了这种问题。所以我用其他一些我有配置文件的应用程序更改了它的包标识符并对其进行了测试，但是当我运行我使用的配置文件的另一个应用程序时，它显示的行为与你使用应用程序查看的行为相同。所以我做了以下事情，它解决了我的问题。

只需从您的 iPhone 或 iOS 模拟器中删除该应用程序，并仔细检查是否没有使用相同的捆绑标识符安装任何其他应用程序。

# java - KeyStore 未使用 BouncyCastle 在 Android 中应用/强制执行 PKCS12 文件的私钥密码

> ID：15264498
> 
> 赞同：4
> 
> 时间：2013-03-07T06:22:15.720
> 
> 标签：java, android, bouncycastle, keystore, pkcs#12

我发现当我创建一个受密码保护的 PKCS12 文件时，该文件还包含受密码保护的私钥及其关联的公钥/证书，无论提供给`getKey()`（内部加密内容）的密码如何，我都可以解密私钥只要提供正确的密码给`KeyStore`'s initial `load()`。这是一个已知问题还是有其他人看到过这个？看起来私钥密码确实没有被使用或一起被忽略。我正在使用带有 BouncyCastle 作为提供程序的 Android。我也很好奇这个问题是否适用于 JKS 而不仅仅是 BouncyCastle？为清楚起见，已删除以下代码中的错误检查。

当我创建我的 PKCS12 文件时，我使用以下代码（`privateKey`is an`RSAPrivateKey`和`signedCert`is an `X509Certificate`）：

```
KeyStore store;
store = KeyStore.getInstance( "PKCS12", "BC" );
store.load( null, null );

X509Certificate[] chain = new X509Certificate[1];
chain[0] = signedCert;

store.setKeyEntry( pkcs12Alias, privateKey, p12PkeyPass.toCharArray(), chain );

FileOutputStream fos;
File outputDir = appContext.getFilesDir();
File pkcs12File = new File( outputDir, p12Filename );
fos = new FileOutputStream( pkcs12File );

store.store( fos, p12Pass.toCharArray() );
fos.flush();
fos.close(); 
```

当我去加载PKCS12内容时，无论我为私钥密码输入什么，提取的私钥都正确加载并且都相同（pkey1 == pkey2 == pkey3用.equals（）测试）。

```
FileInputStream fis;
KeyStore store;
File pkcs12File = new File( activity.getFilesDir(), p12Filename );
fis = new FileInputStream( pkcs12File );
store = KeyStore.getInstance( "PKCS12", "BC" );
store.load( fis, p12Pass.toCharArray() );

X509Certificate signedCert = (X509Certificate) store.getCertificate( pkcs12Alias );

// try to get the private key with different passwords - result is the same
RSAPrivateKey pkey1 = (RSAPrivateKey) store.getKey( pkcs12Alias, p12PkeyPass.toCharArray() );
RSAPrivateKey pkey2 = (RSAPrivateKey) store.getKey( pkcs12Alias, "".toCharArray() );
RSAPrivateKey pkey3 = (RSAPrivateKey) store.getKey( pkcs12Alias, "something completely different".toCharArray() );

fis.close(); 
```

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T12:28:52.873

与许多其他提供商一样，Bouncy Castle 忽略了 PKCS#12 的密钥密码。PKCS#12 是关于个人凭证交换的标准，其结果之一是大多数实现假设密钥库和密钥都只需要一个密码。

可以在 PKCS#12 文件中使用与用于密封密钥库的密码不同的密码对密钥进行加密，但是如果您这样做，则不太可能找到可以读取该文件的另一个应用程序。或者换一种说法，尝试这不是一个疯狂的想法，只是 KeyStore API 和 PKCS#12 相似但不同，所以你会发现存在一些特性 - 在某些方面 PKCS#12 功能更全面，因为它允许附件以比 KeyStore API 更通用的方式存储在文件中的对象的属性。

我们（如在 Bouncy Castle 中）最近尝试在 PKCS#12 的单独 API 中提供更通用的方法来处理此问题，该 API 处于 1.49 的当前测试版中。如果您确实需要，它将允许您使用不同的加密密码，但如果您希望您生成的文件被其他任何人理解，我建议您不要使用它。PKCS#12 API 确实允许您更好地使用属性，但是这是否是您真正需要能够做的事情（通常您不需要），我将由您决定。

您会发现 JKS 等其他格式允许密钥和密钥库使用不同的密码。正如我之前提到的，这里的区别在于 JKS 没有被定义为“个人”存储机制，这与 PKCS#12 不同。

问候，

大卫

# javascript - 使用 javascript 进行实时验证

> ID：15264501
> 
> 赞同：0
> 
> 时间：2013-03-07T06:22:26.877
> 
> 标签：javascript, button

*   我在这里有一个文本框验证。错误消息不会作为警报出现，而是会打印在 html div 标签中。

html:

```
 <div id="error" style="position:absolute; left:auto; top:7px;"></div>
    <div style="position:absolute; left:auto; top:25px;">
    First name: <input type="text" id="fname" name="fname"><br>
    Last name: <input type="text" id="lname" name="lname"><br>
    <input type="submit" value="Submit" onclick="requiredFields()"><div> 
```

Javascript：

```
function requiredFields(){
    var fName = document.getElementById("fname").value;
    var lName = document.getElementById("lname").value;
    if(fName == ""){
        document.getElementById("error").innerHTML = "First name field cannot be empty";
    }else if(lName == ""){
        document.getElementById("error").innerHTML = "Last name field cannot be empty";
    }else{
        document.getElementById("error").innerHTML = "";
        alert("successful");
    }
} 
```

*   单击按钮时，正在打印错误消息。
*   我的问题是，javascript 中是否有任何实时验证？
*   我的意思是，首先应该出现错误消息，单击按钮，以及用户在文本框中输入值的时间，如果名字文本框有任何值，我需要清除错误消息而无需再次单击按钮。

只需检查我的链接并帮助我.. [http://jsfiddle.net/GACKm/](http://jsfiddle.net/GACKm/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:50:39.137

这是[jsFiddle](http://jsfiddle.net/GACKm/1/)

**//Javascript**

```
<script type="text/javascript" language="javascript">
    var oneTimeMsgClikced = false;
    function requiredFields() {
        var fName = document.getElementById("fname").value;
        var lName = document.getElementById("lname").value;
        if (fName == "") {
            document.getElementById("error").innerHTML = "First name field cannot be empty";
            oneTimeMsgClikced = false;
        } else if (lName == "") {
            document.getElementById("error").innerHTML = "Last name field cannot be empty";
            oneTimeMsgClikced = false;
        } else {
            document.getElementById("error").innerHTML = "";
            if (oneTimeMsgClikced == false) {
                alert("successful");
                oneTimeMsgClikced = true;
            }
        }
    }
</script> 
```

**//html代码**

```
<body>
    <div id="error" style="position: absolute; left: auto; top: 7px;">
        Errors here
    </div>
    <div style="position: absolute; left: auto; top: 25px;">
        First name:
        <input type="text" id="fname" name="fname" onblur="requiredFields()" />
        <br />
        Last name:
        <input type="text" id="lname" name="lname" onblur="requiredFields()"/>
        <br />
        <input type="submit" value="Submit" onclick="requiredFields()" />
    </div>
</body> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T14:22:12.410

这是一种使用一些比内联事件处理程序（例如，`onchange=""`）更现代的方法的方法。正如您将看到的，这是由`data-`属性驱动的，虽然它目前没有配置为处理除 a 之外的任何内容`input[type=text]`，但它可以扩展为与`select`s、`textarea`s 等一起使用。

`attachEvent`由于这些版本使用而不是`addEventListener`设置事件处理程序，因此下面的内容不假装与 IE8 及更低版本一起使用。同样，这可以使用，但它确实适用于所有其他现代浏览器。它应该可以在 IE9 中运行，尽管它未经测试。

它可能看起来发生了很多事情，但看看它，看看你是否能弄清楚它是如何运作的。也可以随意问我任何你喜欢的问题。

这是一个小提琴（在 Chrome 和 Firefox 中测试）：

[http://jsfiddle.net/ndXTb/](http://jsfiddle.net/ndXTb/)

**HTML**

```
<aside>
    <ol id="errors"></ol>
</aside>
<section id="signup">
    <form action="#">
        <p>
            <label for="fname">First Name:</label>
            <span>
                <input type="text" id="fname" name="fname" class="required" 
                       data-validate-error="First name may not be empty."
                       data-error-sort="0"/>
            </span>
        </p>
        <p>
            <label for="lname">Last name:</label>
            <span>
                <input type="text" id="lname" name="lname" class="required" 
                       data-validate-error="Last name may not be empty."
                       data-error-sort="1"/>
            </span>
        </p>
        <p>
            <label for="addr1">Address 1:</label>
            <span>
                <input type="text" id="addr1" name="addr1" class="required" 
                       data-validate-error="Address may not be empty."
                       data-error-sort="2"/>
            </span>
        </p>
        <p>
            <label for="addr2">Address 2:</label>
            <span><input type="text" id="addr2" name="addr2"/></span>
        </p>
        <p>
            <label for="city">City:</label>
            <span>
                <input type="text" id="city" name="city" class="required" 
                       data-validate-error="City may not be empty."
                       data-error-sort="3"/>
            </span>
        </p>
        <p>
            <label for="state">State:</label>
            <span>
                <input type="text" id="state" name="state" class="required" 
                       data-validate-error="State may not be empty."
                       data-error-sort="4"/>
            </span>
        </p>
        <p>
            <span></span>
            <span style="text-align: right;">
                <input type="submit" value="Submit"/>
            </span>
        </p>
    </form>
</section> 
```

**CSS**

```
#signup {
    display: table;
}
#signup form > p {
    display: table-row;
}
#signup p > label,
#signup p > span {
    display: table-cell;
    font-weight: bold;
    padding: 5px;
}
#signup p > label {
    text-align: right;
    width: 150px;
}
.validationerror input {
    border: 1px solid #a00;
    background-color: #ffd;
    padding: 2px 1px;
}
.validationerror:after {
    content: '!';
} 
```

**Javascript**

```
window.addEventListener('load', function init(){
    var signup = document.getElementById('signup'),
        fields = signup.getElementsByClassName('required'),
        errors = document.getElementById('errors'),
        error = '<li>{error}</li>',
        submitted = false,
        errorlog = [],
        index = 0,
        field,
        focusin;

    signup.addEventListener('submit', validateform);

    while (field = fields[index++]) {
        field.addEventListener('blur', validatefield);
        field.addEventListener('keyup', validatefield);
    }

    function validatefield() {
        var message = this.dataset['validateError'],
            sort = this.dataset['errorSort'],
            parent = this.parentNode;

        if (this.value === '' && (message && sort)) {
            errorlog[sort] = error.replace('{error}', message);
            parent.className += ' validationerror';

            if (!focusin) {
                focusin = this;
            }
        } else if (this.value !== '' && (message && sort)) {
            delete errorlog[sort];

            parent.className = parent.className.replace('validationerror', '');

            if (focusin == this) {
                focusin = null;
            }
        }

        if (!submitted) {
            isvalid();
        }
    }

    function validateform(event) {
        index = 0;
        errorlog = [];
        focusin = null;

        submitted = true;

        while (field = fields[index++]) {
            callevt(field, 'focus');
            callevt(field, 'blur');
        }

        submitted = false;

        if (!isvalid()) {
            if (focusin) {
                focusin.focus();
            }

            focusin = null;

            event.preventDefault();
            return false;
        }
    }

    function isvalid() {
        errors.innerHTML = '';

        if (errorlog.length) {
            errors.innerHTML = errorlog.join('');

            return false;
        }

        return true;
    }

    function callevt(el, type) {
        var evt = document.createEvent('HTMLEvents');

        evt.initEvent(type, true, true);
        el.dispatchEvent(evt);
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:23:46.547

您可以尝试使用[onBlur](http://www.w3schools.com/jsref/event_onblur.asp)和[onKeyUp](http://www.w3schools.com/jsref/event_onkeyup.asp)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T06:28:30.070

您不应该对提交使用 onclick 事件处理程序。

对于实时验证，您可以使用 onblur，将其插入输入框中。这将在您每次离开输入字段时验证输入。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T06:29:08.623

你可以试试这个：

```
<script>
function checkFName()
{
    fName = document.getElementById("fname").value;
    if(fName == ""){
        document.getElementById("error").innerHTML = "First name field cannot be empty";
        document.getElementById("fname").focus;
        return false;
    }
}

function checkLName()
{
    lname = document.getElementById("lname").value;
    if(lname == ""){
        document.getElementById("error").innerHTML = "Last name field cannot be empty";
        document.getElementById("lname").focus;
        return false;
    }
}
</script>

<div id="error" style="position:absolute; left:auto; top:7px;"></div>
    <div style="position:absolute; left:auto; top:25px;">
    First name: <input type="text" id="fname" name="fname" onchange="checkFName();"><br>
    Last name: <input type="text" id="lname" name="lname" onchange="checkLName();"><br>
    <input type="submit" value="Submit"><div> 
```

希望这会有所帮助

# python - 使用python在django中将任何格式（flv、3gp、MXF等）的视频转换为MP4

> ID：15264508
> 
> 赞同：3
> 
> 时间：2013-03-07T06:22:55.123
> 
> 标签：python, html, django, video, mp4

我正在使用 django 并且非常新手在使用它。目前正在构建一个基本的上传页面，将视频上传到硬盘（基本上是在`media`里面的文件夹中`django project`）

所以我的代码工作正常，视频成功上传到媒体文件夹。

我正在使用 html 在单独的 html 页面上显示所有上传的视频`video tag`，所以实际上问题是 MP4 格式的视频正在播放而剩余的视频没有。

下面是我的部分html代码和视图函数

**uploads_list.html**

```
<div style="padding-top:90px;">
  <video id="vid" width="350" height="250" controls="controls">
           <source src="{{MEDIA_URL}}videos/django_cms-_frontend_editing_1280x720.mp4" type="video/mp4" />       
   </video>
  <video id="vid_2" width="350" height="223" controls="controls">
           <source src="{{MEDIA_URL}}videos/1100000.flv" type="video/ogg" />       
   </video>
</div> 
```

所以最后我的意图是，在上传时将所有上传的视频转换为`MP4`格式并存储在`media`文件夹中，以便我们可以使用`html video`标签显示所有这些视频。

**视图.py**

```
def upload_file(request):
    if request.method == 'POST':
        form = UploadFileForm(request.POST, request.FILES)
        if form.is_valid() and form.is_multipart():
            handle_uploaded_file(request.FILES['file'])
            return HttpResponseRedirect('/uploads_list')  # which renders `uploads_list.html` page
    else:
        form = UploadFileForm()
    return render_to_response('uploads_form.html', {'form': form,'total_files':os.listdir(settings.MEDIA_ROOT),'path':settings.MEDIA_ROOT},context_instance=RequestContext(request))

def handle_uploaded_file(file,path=''):
    filename = file._get_name()
    destination_file = open('%s/%s' % (settings.MEDIA_ROOT, str(path) + str(filename)), 'wb+')
    for chunk in file.chunks():
        destination_file.write(chunk)
    destination_file.close() 
```

那么任何人都可以告诉我，如何将上传的任何类型的视频（格式如`flv`，`3gp`等`MXF`）转换为`MP4`格式，然后再存储到`media`django 的文件夹中？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T06:27:41.957

```
import subprocess
subprocess.call('ffmpeg -i video.flv video.mp4') 
```

# asp.net-mvc - ASP.NET MVC @Html.AntiForgeryToken()

> ID：15264511
> 
> 赞同：1
> 
> 时间：2013-03-07T06:23:00.640
> 
> 标签：asp.net-mvc

asp.net MVC 中的@Html.AntiForgeryToken() 生成一个像这样的隐藏文本框

`<input name="__RequestVerificationToken" type="hidden" value="9VYEYXQIIGVOBcPluxTIWOHeYoRlklCBh7RztWXJUWxFbPwIok2rVpeS_i1jfxdB1_n16BCV5qH9VsBhkMdZB1Ukb5g1" />`

有没有办法重命名__RequestVerificationToken？

我想将它重命名为无法追溯到 ASP.Net MVC 的东西

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:45:54.420

当然。我建议您为 Html 帮助程序 ( ) 创建一个**扩展方法**`this HtmlHelper`，该方法具有相同的名称，只需一个适当的重载，您就可以指定您的自定义 ID。（请注意已经存在几个重载，因此将其重命名为“AntiForgeryTokenCustom（string id）”之类的名称可能是最佳选择。

然后在此扩展方法中，您只需调用 AntiForgeryToken 拦截其 html，并修改 id。

但问题是你为什么喜欢它？您是否打算对此令牌进行自定义验证？这个“防伪”令牌基础设施需要这个 id 名称......

编辑：如果您想自定义帮助程序，您还可以自定义处理令牌的操作过滤器。默认操作文件管理器是`[ValidateAntiForgeryToken]`您必须覆盖它。您可以在此处找到一些提示：http: [//haacked.com/archive/2011/10/10/preventing-csrf-with-ajax.aspx](http://haacked.com/archive/2011/10/10/preventing-csrf-with-ajax.aspx)。

# xcode - -[UIBezierPath moveToPoint:]: 无法识别的选择器发送到实例

> ID：15264515
> 
> 赞同：0
> 
> 时间：2013-03-07T06:23:08.627
> 
> 标签：xcode, selector, sigabrt, uibezierpath

当我运行我的应用程序时，我收到以下异常

-[UIBezierPath moveToPoint:]：无法识别的选择器发送到实例 0x8e0fcc0

并且应用程序崩溃了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:26:21.710

UIBezierPath 变量中的任何一个都包含其他内容，而不是 UIBezierPath；或者你[在 iOS 3.2 下](http://developer.apple.com/library/ios/documentation/uikit/reference/UIBezierPath_class/Reference/Reference.html#//apple_ref/doc/uid/TP40009276-CH1-SW2)运行它。

# wordpress - 自定义帖子类型类别

> ID：15264526
> 
> 赞同：1
> 
> 时间：2013-03-07T06:23:48.870
> 
> 标签：wordpress, custom-post-type

我在我的 wordpress 网站中创建了一个自定义帖子类型“ **Portfolio** ”，并且我还为这个自定义帖子类型创建了一个类别部分，其中包含类别 slug“ **port-cate** ”。

“**投资组合**”帖子的固定链接是这样的：

**mysite.com/portfolio/post-name/**

但类别网址是

**mysite.com/port-cate/category-slug/**

我的问题是：如何为这种帖子类型创建类别网址，例如

**mysite.com/portfolio/category/category-slug/**

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T07:19:03.700

您可以通过设置自定义分类法以及自定义帖子类型来完成此操作。您可能还需要对您的自定义帖子类型与自定义分类进行一些重命名，以使事情以您想要的方式工作。这是一个简单的例子：

```
 // PORTFOLIO TAXONOMY
  register_taxonomy( 'portfolio', 
    array('images'), /* This is the name of your custom post type, I used "Images" */
    array('hierarchical' => true,     /* if this is true it acts like categories */             
        'labels' => array(
             /* OPTIONS */
        ),
        'show_ui' => true,
        'query_var' => true,
    )
); 
```

这将在您的自定义帖子类型的编辑屏幕中创建一个新的元框，您可以即时创建“投资组合”分类法。链接看起来像这样：

```
mysite.com/portfolio/new-portfolio-slug/ 
```

以下是您的分类法可用的选项列表[http://codex.wordpress.org/Function_Reference/register_taxonomy](http://codex.wordpress.org/Function_Reference/register_taxonomy)和一篇可以帮助您进一步的独立文章[http://someweblog.com/wordpress-custom-taxonomy-with-same- slug-as-custom-post-type/](http://someweblog.com/wordpress-custom-taxonomy-with-same-slug-as-custom-post-type/)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T06:49:06.957

试试这个插件[http://wordpress.org/extend/plugins/cat-post-type/](http://wordpress.org/extend/plugins/cat-post-type/)

您可以按类别选择您的自定义帖子并输入

# excel - Excel-具有搜索功能的超链接

> ID：15264527
> 
> 赞同：2
> 
> 时间：2013-03-07T06:23:51.917
> 
> 标签：excel

Excel - 我希望能够单击表 1 上的单元格并让它带我到表 2 中的单元格。现在我不想要简单的超链接，我需要找到表 2 中的单元格。例如，我单击包含单词“start”的单元格 A1，单击它后，我将被带到工作表 2 中具有相同短语“start”的单元格。现在在第 2 页上，这可能是单元格 A1 或 A4 或 A57。我希望找到它，以防它在该列中改变位置。本质上我需要一个带有查找功能的超链接。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T08:30:45.420

单击链接后，您可以使用`Worksheet_FollowHyperlink`VBA 事件移动选择。

将普通超链接添加到所需目标工作表上的任何单元格

将此代码添加到源工作表模块

```
Private Sub Worksheet_FollowHyperlink(ByVal Target As Hyperlink)
    Dim rngDest As Range
    Dim shDest As Worksheet
    Dim cl As Range

    Set shDest = ActiveSheet
    Set rngDest = shDest.Range("A:A") ' <--- change this to your target search range
    With rngDest
        Set cl = .Find(Target.Range.Cells(1, 1).Value, .Cells(.Rows.Count, .Columns.Count), xlValues, xlWhole, xlByRows, xlNext)
        If Not cl Is Nothing Then
            cl.Select
        Else
            ' value not found, return to original sheet
            Target.Range.Worksheet.Activate
            MsgBox Target.Range.Cells(1, 1).Value & " not found", vbOKOnly, "Not Found"
        End If
    End With

End Sub 
```

# android - Proguard 使用 DNSJava 库混淆 Android 代码

> ID：15264531
> 
> 赞同：6
> 
> 时间：2013-03-07T06:24:07.720
> 
> 标签：android, proguard, dnsjava

我有一个在项目的 /libs/ 目录中有 dnsjava.jar 的 android 应用程序。一切都很好，可以打包成APK（没有proguard）。

但是，当我将 proguard 引入 project.properties（在 eclipse 中）时，我收到以下警告：

```
[2013-03-07 14:16:08 - ] Proguard returned with error code 1\. See console
[2013-03-07 14:16:08 - ] Warning: org.xbill.DNS.spi.DNSJavaNameServiceDescriptor: can't find superclass or interface sun.net.spi.nameservice.NameServiceDescriptor
[2013-03-07 14:16:08 - ] Warning: org.xbill.DNS.spi.DNSJavaNameServiceDescriptor: can't find referenced class sun.net.spi.nameservice.NameService
[2013-03-07 14:16:08 - ] Warning: org.xbill.DNS.spi.DNSJavaNameServiceDescriptor: can't find referenced class sun.net.spi.nameservice.NameServiceDescriptor
[2013-03-07 14:16:08 - ] Warning: org.xbill.DNS.spi.DNSJavaNameServiceDescriptor: can't find referenced class sun.net.spi.nameservice.NameService
[2013-03-07 14:16:08 - ] Warning: org.xbill.DNS.spi.DNSJavaNameServiceDescriptor: can't find referenced class sun.net.spi.nameservice.NameService
[2013-03-07 14:16:08 - ]       You should check if you need to specify additional program jars.
[2013-03-07 14:16:08 - ] Warning: there were 5 unresolved references to classes or interfaces.
[2013-03-07 14:16:08 - ]          You may need to specify additional library jars (using '-libraryjars').
[2013-03-07 14:16:08 - ] java.io.IOException: Please correct the above warnings first.
[2013-03-07 14:16:08 - ]    at proguard.Initializer.execute(Initializer.java:321) 
```

使用 -keep class org.xbill.** { *; proguard-project.txt 中的 } 似乎没有解决这个问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-05-20T14:55:43.093

这是用 proguard & DNSJava 测试的。希望能帮助到你。复制自 asmack 自述文件

```
# This dnsjava class uses old Sun API
-dontnote org.xbill.DNS.spi.DNSJavaNameServiceDescriptor
-dontwarn org.xbill.DNS.spi.DNSJavaNameServiceDescriptor

# See http://stackoverflow.com/questions/5701126, happens in dnsjava
-optimizations !code/allocation/variable 
```

# javascript - 使用 YUI 库的 Javascript

> ID：15264541
> 
> 赞同：0
> 
> 时间：2013-03-07T06:25:37.390
> 
> 标签：javascript, yui

是否可以使用 YUI 的 .on("click", ) 将参数传递给函数？例如，这是我正在查看的一些代码：

```
function foo1() {
  var curObj = this;

    this.foo2 = function() {
         curObj.test = "foo2";
    }

    this.foo3 = function() {
         curObj.test = "foo3";
    }

  // called by
  this.blah = {};
  var blah = this.blah;
  blah['x'] = new YAHOO.widget.Button(x)
  blah['x'].on("click", foo2)

  blah['y'] = new YAHOO.widget.Button(y)
  blah['y'].on("click", foo3)
} 
```

我想通过执行以下操作来消除一些冗余：

```
function setTest(this, foo) {
  this.test = foo;
}

function foo1() {
  var curObj = this;

  // called by
  this.blah = {};
  var blah = this.blah;
  blah['x'] = new YAHOO.widget.Button(x);
  blah['x'].on("click", thisTest("foo2"));

  blah['y'] = new YAHOO.widget.Button(y);
  blah['y'].on("click", thisTest("foo3"));
} 
```

据我了解，YUI 会将“this”对象传递给从 .on(“click”, function) 调用的任何函数。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:55:42.010

您可以根据此处的 API 文档发送单个参数：http: [//developer.yahoo.com/yui/docs/YAHOO.util.Element.html#method_on](http://developer.yahoo.com/yui/docs/YAHOO.util.Element.html#method_on)

例如：

```
function setTest(this, foo) {
  this.test = foo;
}

function foo1() {
  var curObj = this;

  // called by
  this.blah = {};
  var blah = this.blah;
  blah['x'] = new YAHOO.widget.Button(x);
  blah['x'].on("click", thisTest, "foo2");

  blah['y'] = new YAHOO.widget.Button(y);
  blah['y'].on("click", thisTest, "foo3");
} 
```

如果您想传递多个值，则需要创建一个包含您要传递的所有值的数组或对象。这是 API 中的一个限制。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:35:46.703

您可以使用 JavaScript 闭包来实现这一点。这也将使您能够更好地控制您希望事件处理程序能够访问的参数的数量和类型。此外，此方法与框架无关。

例如，在问题中给出的代码片段中，thisTest 可以按如下方式执行闭包。

```
var thisTest = function (arg1, arg2) {

    return function () { // handler function

        // arg1 and arg2 will be available inside this function.

        // also any arguments passed to the handler by the caller will be 
        // available without conflicting with arg1 or arg2.

    }
} 
```

这是一个演示这一点的 jsFiddle 链接。 [http://jsfiddle.net/M98vU/4/](http://jsfiddle.net/M98vU/4/)

这里必须记住两件事：

1.  通过闭包附加事件处理程序引起的循环引用可能会导致旧（ish）浏览器中的内存泄漏。在不需要或在页面卸载时分离处理程序可能是一个好主意。

2.  在附加处理程序时，传递的固定/静态参数必须是已知的（可确定的）。

# algorithm - 多组交集的算法模型

> ID：15264544
> 
> 赞同：3
> 
> 时间：2013-03-07T06:25:47.530
> 
> 标签：algorithm, set, complexity-theory, intersection

我的问题是，我们如何申请 5~7 套的交集。假设每个集合都有一组元素。请帮助我为此创建一个算法，以及这个过程的复杂性。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T14:06:43.453

假设集合的元素可以被散列，并且你有一些像字典这样的散列键工具（或者可以创建你自己的，这并不难）：

```
List<Set<element-type>> sets;    \\your list of sets to intersect

int size = SUM{List[*].Count};  \\ size for the hash
Dictionary<element-type,int> Tally = New Dictionary<element-type,int>(size);

// Add all elements to the Tally hash
foreach set in sets
{
    foreach e in set
    {
        if (Tally.Exists(e))
            Tally[e]++;
        else
            Tally.Add(e,1);
    }
}

//Now, find the Tally entries that match the number of sets
foreach kvp in Tally.KeyValuePairs
{
    If (kvp.Value == sets.Count)
        // add the Key to output list/set
        Output.Add(kvp.Key);
} 
```

这具有运行时复杂度 O(n) 其中“n”是所有集合中元素的数量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T06:37:26.030

直截了当的方法：

```
I = S_1;
For each set s in S_2 ... S_N:
    For each element ei in I:
      if ei not in s
        remove ei from I
      endif
    endfor
endfor 
```

如果每个集合有 m 个元素并且有 N 个集合，则复杂度为 m^2xN。如果对集合进行了排序，那么您可以通过二分搜索获得 mlog(m)N，甚至可以通过在排序情况下让两个迭代器前进来获得 O(mN)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T07:00:44.647

我暂时假设这些集合表示为列表，并且它们开始时是未排序的。

（编辑以使我的符号与@perreal 的符号一致）

给定 N 个集合中总共有 m*N 个项目，可以将这些集合连接成一个列表（m*N 操作），对列表进行排序（m*N log m*N 操作），然后遍历排序列表，保留列表中恰好具有 N 个副本（另一个 m*N 操作）的任何项目，在任何情况下都给出（我认为）总共 m*N (2 + log m*N) 操作。

相比之下，假设每个集合具有相同数量的项目 m，我认为 @perreal 的解决方案将是最大 m^2*N 操作，如果集合都是相同的。对于较大的 m*N 值，这将需要比我的算法的 m*N (2 + log m*N) 更多的操作。然而，在最好的情况下，@perreal 的解决方案只需要 2m*N 次操作（如果测试的第一组和第二组没有交集）。

@perreal 的解决方案对于交集较小的情况下也需要较少的操作，如果集合按大小递增的顺序进行比较，S_1 是最小的集合。

如果集合以排序列表开始，则两种解决方案都会更快，因为我的算法不需要初始排序，并且@perreal 的算法可以确定元素不在集合中，而无需搜索整个集合。

# ios - iOS上的opengl：纹理仅在视图的右上四分之一正确显示

> ID：15264545
> 
> 赞同：1
> 
> 时间：2013-03-07T06:25:48.753
> 
> 标签：ios, opengl-es, textures

很奇怪，当我像下面那个坏的那样使用纹理时，出现的纹理很糟糕，只显示了视图的 1/16 大小，应该用纹理填充视图。

但是如果我将顶点数组设置为好的一击，

然后视图的右上四分之一完美地显示纹理！

而且我尝试了更多的负顶点坐标，都失败了，买正顶点坐标就可以了。我感到很困惑！

**这意味着，当我尝试将纹理粘贴到视图时，只有右上四分之一的视图是可以的，其他位置（甚至是完整视图）无法显示，或者无法正确显示，为什么？**

**并且程序（坏的）在模拟器上运行，但在真正的设备上失败了......**

注意：squareVertices 是顶点数组，coordVertices 是纹理坐标数组。

BAD 和 GOOD 之间的区别只是 squareVertices 数组。

坏的：

**结果图片： http: [//i.stack.imgur.com/SycVY.png](http://i.stack.imgur.com/SycVY.png)**（抱歉我还不能发布图片）

```
static const GLfloat squareVertices[] = {
    -1.0f, -1.0f,
    1.0f, -1.0f,
    -1.0f,  1.0f,
    1.0f,  1.0f,
};

static const GLfloat coordVertices[] = {
    0.0f, 1.0f,
    1.0f, 1.0f,
    0.0f,  0.0f,
    1.0f,  0.0f,
}; 
```

好：（但只有右上四分之一的视图是可以的）

**结果图片： http: [//i.stack.imgur.com/yg2Kg.png](http://i.stack.imgur.com/yg2Kg.png)**（抱歉我还不能发布图片）

```
static const GLfloat squareVertices[] = {
    0.0f, 0.0f,
    1.0f, 0.0f,
    0.0f,  1.0f,
    1.0f,  1.0f,
};

static const GLfloat coordVertices[] = {
    0.0f, 1.0f,
    1.0f, 1.0f,
    0.0f,  0.0f,
    1.0f,  0.0f,
};

// Update attribute values
glVertexAttribPointer(ATTRIB_VERTEX, 2, GL_FLOAT, 0, 0, squareVertices);
glEnableVertexAttribArray(ATTRIB_VERTEX);

glVertexAttribPointer(ATTRIB_TEXTURE, 2, GL_FLOAT, 0, 0, coordVertices);
glEnableVertexAttribArray(ATTRIB_TEXTURE);

glActiveTexture(GL_TEXTURE0);
glBindTexture(GL_TEXTURE_2D, iTexNameY);
glUniform1i(textureUniformY, 0);

glActiveTexture(GL_TEXTURE1);
glBindTexture(GL_TEXTURE_2D, iTexNameU);
glUniform1i(textureUniformU, 1);

glActiveTexture(GL_TEXTURE2);
glBindTexture(GL_TEXTURE_2D, iTexNameV);
glUniform1i(textureUniformV, 2);

// Draw
glDrawArrays(GL_TRIANGLE_STRIP, 0, 4);

// glFlush();   
[_context presentRenderbuffer:GL_RENDERBUFFER]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-12T12:39:17.297

终于，我在2年后解决了这个问题......

问题是由于纹理和顶点的坐标被颠倒了。

我曾经将属性索引与 glBindAttribLocation 函数绑定。

```
#define ATTRIB_VERTEX 0
#define ATTRIB_TEXTURE 1

    glBindAttribLocation(gProgram, ATTRIB_VERTEX, "position");
    glBindAttribLocation(gProgram, ATTRIB_TEXTURE, "textureCoordinate"); 
```

但由于某种原因，它不起作用。

所以我调用函数 glGetAttribLocation 来获取属性的实际索引：

```
int attrib_vertex = glGetAttribLocation(gProgram, "position");
int attrib_texture = glGetAttribLocation(gProgram, "textureCoordinate"); 
```

我发现 attrib_vertex = 1 和 attrib_texture = 0 ...

所以我应该将纹理数组设置为索引 0，将顶点数组设置为索引 1。

```
glVertexAttribPointer(attrib_vertex, 2, GL_FLOAT, 0, 0, squareVertices);
glEnableVertexAttribArray(attrib_vertex);

glVertexAttribPointer(attrib_texture, 2, GL_FLOAT, 0, 0, coordVertices);
glEnableVertexAttribArray(attrib_texture); 
```

# git - 如何仅取消存储某些文件？

> ID：15264553
> 
> 赞同：496
> 
> 时间：2013-03-07T06:26:24.110
> 
> 标签：git, git-stash

我隐藏了我的更改。现在我只想从存储中取出一些文件。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：600
> 
> 时间：2013-03-07T06:39:06.687

如下[所述](https://stackoverflow.com/a/22555169/6309)，并在“[如何从 git stash 中提取单个文件（或对文件的更改）？](https://stackoverflow.com/a/1105666/6309) ”中进行了详细说明，您可以应用使用[`git checkout`](http://git-scm.com/docs/git-checkout)或[`git show`](http://git-scm.com/docs/git-show)恢复特定文件。

```
git checkout stash@{0} -- <filename> 
```

使用 Git 2.23+（2019 年 8 月），使用[`git restore`](https://git-scm.com/docs/git-restore)替换[令人困惑的`git checkout`命令](https://stackoverflow.com/a/57066202/6309)：

```
git restore --source='stash@{0}' -- <filename> 
```

这确实会**覆盖** `filename`：确保您没有进行本地修改，或者您可能想要合并[隐藏的文件](https://stackoverflow.com/a/50370632/6309)。

（正如[Jaime M.所](https://stackoverflow.com/users/403616/jaime-m)[评论](https://stackoverflow.com/questions/15264553/how-to-unstash-only-certain-files/15264717#comment79042145_15264717)的，对于像 tcsh 这样需要转义特殊字符的某些 shell，语法为 ：）`git checkout 'stash@{0}' -- <filename>`

> 或将其保存在另一个文件名下：

```
git show stash@{0}:<full filename>  >  <newfile> 
```

> （请注意，这里`<full filename>`是相对于项目顶层目录的文件的完整路径名（想想：相对于`stash@{0}`））。

[yucer](https://stackoverflow.com/users/469294/yucer)[在评论中](https://stackoverflow.com/questions/15264553/how-to-unstash-only-certain-files/15264717?noredirect=1#comment63627960_15264717)建议：

> 如果要手动选择要从该文件应用的更改：

```
git difftool stash@{0}..HEAD -- <filename> 
```

[Vivek](https://stackoverflow.com/users/970301/vivek)[在评论中](https://stackoverflow.com/questions/15264553/how-to-unstash-only-certain-files/15264717?noredirect=1#comment67306500_15264717)补充道：

> 看起来“ `git checkout stash@{0} -- <filename>`”恢复了执行存储时的文件版本——它不*应用*（仅）该文件的隐藏更改。
> 做后者：

```
git diff stash@{0}^1 stash@{0} -- <filename> | git apply 
```

（正如[peterflynn所](https://stackoverflow.com/users/1172352/peterflynn)[评论](https://stackoverflow.com/questions/15264553/how-to-unstash-only-certain-files/15264717?noredirect=1#comment70115895_15264717)的，在某些情况下，您可能需要从传统差异路径中删除一个 ( ) 前导斜杠）`| git apply -p1``p1`

* * *

正如评论：“unstash”（`git stash pop`），然后：

*   将要保留的内容添加到索引 ( `git add`)
*   把剩下的藏起来：`git stash --keep-index`

最后一点是允许您在存储其他文件的同时保留一些文件。
它在“[如何仅存储已更改的多个文件中的一个文件](https://stackoverflow.com/questions/3040833/how-to-stash-only-one-file-out-of-multiple-files-that-have-changed)”中进行了说明。

* * *

## 回答 #2

> 赞同：124
> 
> 时间：2014-03-21T09:44:25.720

```
git checkout stash@{N} <File(s)/Folder(s) path> 
```

例如。要仅恢复上次存储的 ./test.c 文件和 ./include 文件夹，

```
git checkout stash@{0} ./test.c ./include 
```

* * *

## 回答 #3

> 赞同：38
> 
> 时间：2013-03-07T16:05:01.877

我认为 VonC 的答案可能是您想要的，但这是一种选择性“git apply”的方法：

```
git show stash@{0}:MyFile.txt > MyFile.txt 
```

* * *

## 回答 #4

> 赞同：32
> 
> 时间：2018-06-07T08:31:20.957

首先列出所有的藏匿处

```
git stash list 
```

↓</p>

```
stash@{0}: WIP on Produktkonfigurator: 132c06a5 Cursor bei glyphicon plus und close zu zeigende Hand ändern
stash@{1}: WIP on Produktkonfigurator: 132c06a5 Cursor bei glyphicon plus und close zu zeigende Hand ändern
stash@{2}: WIP on master: 7e450c81 Merge branch 'Offlineseite' 
```

然后显示哪些文件在 stash 中（让我们选择 stash 1）：

```
git stash show 1 --name-only

//Hint: you can also write
//git stash show stash@{1} --name-only 
```

↓</p>

```
 ajax/product.php
 ajax/productPrice.php
 errors/Company/js/offlineMain.phtml
 errors/Company/mage.php
 errors/Company/page.phtml
 js/konfigurator/konfigurator.js 
```

然后将您喜欢的文件应用于：

```
git checkout stash@{1} -- <filename> 
```

或整个文件夹：

```
git checkout stash@{1} /errors 
```

* * *

它也可以不`--`使用，但建议使用它们。看到[这个](https://stackoverflow.com/a/1192194/4684797)帖子。

> 将双连字符识别为停止选项解释并按字面处理所有后续参数的信号也是常规的。

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2018-05-16T12:12:17.620

另一种方法：

```
git diff stash@{N}^! -- path/to/file1 path/to/file2  | git apply -R 
```

* * *

## 回答 #6

> 赞同：12
> 
> 时间：2013-03-07T06:44:15.427

如果您`git stash pop`（没有冲突）它将在应用后删除存储。但是，如果您`git stash apply`将应用补丁而不将其从存储列表中删除。然后你可以恢复不需要的更改`git checkout -- files...`

* * *

## 回答 #7

> 赞同：9
> 
> 时间：2019-01-15T15:43:45.413

对于 Windows 用户：大括号在 PowerShell 中具有特殊含义。您可以用单引号括起来或用反引号转义。例如：

`git checkout 'stash@{0}' YourFile`

没有它，您可能会收到错误消息：

`Unknown switch 'e'`

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2020-12-11T05:10:18.660

例如

```
git stash show --name-only 
```

结果

```
ofbiz_src/.project
ofbiz_src/applications/baseaccounting/entitydef/entitymodel_view.xml
ofbiz_src/applications/baselogistics/webapp/baselogistics/delivery/purchaseDeliveryDetail.ftl
ofbiz_src/applications/baselogistics/webapp/baselogistics/transfer/listTransfers.ftl
ofbiz_src/applications/component-load.xml
ofbiz_src/applications/search/config/elasticSearch.properties
ofbiz_src/framework/entity/lib/jdbc/mysql-connector-java-5.1.46.jar
ofbiz_src/framework/entity/lib/jdbc/postgresql-9.3-1101.jdbc4.jar 
```

然后在特定文件中弹出存储

```
git checkout stash@{0} -- ofbiz_src/applications/baselogistics/webapp/baselogistics/delivery/purchaseDeliveryDetail.ftl 
```

其他相关命令

```
git stash list --stat
get stash show 
```

# java - 计算用户使用 Java 输入的字符时出错

> ID：15264555
> 
> 赞同：0
> 
> 时间：2013-03-07T06:26:36.587
> 
> 标签：java, count, character

我应该创建一个程序来计算用户输入的特定类型字符的数量。计算大写字母、小写字母、数字（`0`通过`9`）和除符号以外的其他字符`#`的数量。用户输入# 退出。

```
import java.util.Scanner;
public class countchars
{
    public static void main (String args[])
    {
    Scanner input = new Scanner (System.in);

    char sym;
    int up = 0;
    int low = 0;
    int digit = 0;
    int other = 0;

    System.out.print("Enter a character # to quit: ");
    sym = input.next().charAt(0);

    while(sym != '#')
    {
    System.out.print("Enter a character # to quit: ");
    sym = input.next().charAt(0);

    if (sym >= 'a' && sym <= 'z')
        {
        low++;
        }   
    } 

    System.out.printf("Number of lowercase letters: %d\n", low);
    }
} 
```

这就是我到目前为止的小写计数。问题是当我运行程序并输入 4 个小写字母时，它只算 3。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T06:32:09.763

你打电话给

```
input.next() 
```

第一次计数时两次，所以第一个字符被丢弃，把你的计数弄乱了一个。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T06:32:40.813

改成这样

```
while(sym != '#')
    {

    if (sym >= 'a' && sym <= 'z')
        {
        low++;
        }

    System.out.print("Enter a character # to quit: ");
    sym = input.next().charAt(0);

    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:34:05.660

不要使用两次 input.next();

用这个

```
sym = input.next().charAt(0);

    while(sym != '#')
    {
    System.out.print("Enter a character # to quit: ");
    //sym = input.next().charAt(0); removed this line and try

    if (sym >= 'a' && sym <= 'z')
        {
        low++;
        }

    } 
```

# svn - SVN合并基础

> ID：15264557
> 
> 赞同：2
> 
> 时间：2013-03-07T06:26:41.090
> 
> 标签：svn, branching-and-merging, svn-merge

我的问题与SVN合并机制的一些基本原理有关。我**没有在这里报告**合并问题。此外，我已经阅读了 SVN 书的合并章节（不是新手）。

我在主干上有 10 个修订版，我想将修订版 5、6、7、8、9 和 10 合并到特定标签。

通过运行 6 次合并操作，我可以在 tortoise SVN 中成功合并。每次我只指定一个版本（即 5、6、7、8、9、10）。

如果我对 SVN 修订版的理解是正确的，那么修订版 10（HEAD 修订版）具有以前修订版的所有修复，即 5、6、7 和 9。因此，我可以通过只运行一次合并操作来节省时间，即通过指定修订版 10。

对我的问题的明显反应是我应该指定一个“修订范围”。

我的问题是为什么即使在修订版 10 包含以前修订版的所有更改时还要指定一个范围（[http://svnbook.red-bean.com/en/1.7/svn-book.html#svn.basic.in-action](http://svnbook.red-bean.com/en/1.7/svn-book.html#svn.basic.in-action) )? 我不能只通过指定单个修订版（第 10 号）进行合并并期望 SVN 进行正确的合并吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:01:44.547

实际上，该`svn merge`命令将差异（或变更集）作为参数。因此，当您使用如下命令进行合并时：

```
svn merge -c10 URL 
```

它实际上与以下内容相同：

```
svn merge -r9:10 URL 
```

并将第 10 次提交带来的更改合并到存储库。

此外，该`svn:mergeinfo`属性将指示与修订版本 10 对应的变更集已被合并，因此后续合并将更智能，并且不会尝试第二次合并该变更集。

因此，为了具体回答您的问题， `svn merge`当您想要合并与该特定范围相对应的*更改*时，您可以指定命令的修订范围。

[文档](http://svnbook.red-bean.com/en/1.7/svn-book.html#svn.branchmerge.changesets)中有关于更改和变更集的通知：

> 在 Subversion 中，全局修订号 N 命名存储库中的一棵树：这是存储库在第 N 次提交之后的方式。它也是一个隐式变更集的名称：如果您将树 N 与树 N-1 进行比较，您可以得出提交的确切补丁。出于这个原因，很容易将修订 N 视为不仅仅是一棵树，而且也是一个变更集。如果您使用问题跟踪器来管理错误，则可以使用修订号来引用修复错误的特定补丁——例如，“此问题已由 r9238 修复”。然后有人可以运行 svn log -r 9238 来了解修复错误的确切变更集，然后运行 ​​svn diff -c 9238 来查看补丁本身。而且（你很快就会看到）Subversion 的 svn merge 命令能够使用修订号。

# asp.net - Asp.net 注销代码不起作用

> ID：15264560
> 
> 赞同：0
> 
> 时间：2013-03-07T06:26:45.597
> 
> 标签：asp.net

似乎当我点击注销按钮并点击浏览器上的后退按钮时。它向我显示了不应该出现的页面。我正在使用表单身份验证，它在 Mozilla Firefox 中运行良好，但在 Google Chrome 中运行良好。

这是代码。

```
 Session.Abandon();
        Session.Clear();
        FormsAuthentication.SignOut();
        Response.Redirect("~/Login.aspx"); 
```

我怎样才能解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:38:12.553

将此代码与 javascript 添加到您的注销按钮，

```
 btnLogout.Attributes.Add("onClick", "javascript:history.clear(); return true;"); 
```

我相信这也将清除浏览器历史记录，因为 JavaScript 在客户端上工作，而您只面临那里的问题。它对服务器端代码没有帮助。

# jqgrid - jqgrid中的自动搜索不起作用

> ID：15264561
> 
> 赞同：0
> 
> 时间：2013-03-07T06:26:55.840
> 
> 标签：jqgrid, autocomplete

我有一个像这样的jqgrid。但是我的自动完成功能不起作用，请帮忙。我想显示自动搜索，但我正在使用 linq to sql 并且在后面的代码中我将自动完成扩展器的数据源分配给包含人名的字符串列表。每次用户在搜索工具栏中键入字符但不显示自动控制时，页面都会回发。

我绑定自动完成扩展器的数据源的方式是否有一些错误，请帮助我，我是新手。

```
<cc1:JQGrid ID="grdUserDetails" runat="server" Width="770px" Height="400px"               OnRowSelecting="select">
                <Columns>
                    <cc1:JQGridColumn DataField="VisitorID" HeaderText="ID"     TextAlign="Left" PrimaryKey="true"
                        Visible="false" Searchable="false">
                    </cc1:JQGridColumn>
                     <cc1:JQGridColumn Searchable="true" DataType="String"  SearchType="AutoComplete" SearchControlID="AutoComplete1"
                        DataField="PersonName" Width="200" HeaderText="Person Name">
                    </cc1:JQGridColumn>
                    <cc1:JQGridColumn DataField="CompanyName" HeaderText="Company Name" TextAlign="Left">
                    </cc1:JQGridColumn>
                    <cc1:JQGridColumn DataField="ContactNumber" HeaderText="Contact Number" TextAlign="Left">
                    </cc1:JQGridColumn>
                    <cc1:JQGridColumn DataField="Address" HeaderText="Address" TextAlign="Left">
                    </cc1:JQGridColumn>
                    <cc1:JQGridColumn DataField="Email" HeaderText="Email" TextAlign="Left">
                    </cc1:JQGridColumn>
                    <cc1:JQGridColumn DataField="DisplayDate" HeaderText="Visited on" TextAlign="Left">
                    </cc1:JQGridColumn>
                </Columns>
                <PagerSettings PageSize="50" PageSizeOptions="[50,75,100]" />
                <ToolBarSettings ShowSearchButton="true" ShowRefreshButton="true" ShowSearchToolBar="true">
                </ToolBarSettings>
                <AppearanceSettings ShowRowNumbers="True"></AppearanceSettings>
            </cc1:JQGrid>
<cc1:JQAutoComplete DisplayMode="ControlEditor" DataTextField="Person Name" runat="server"
    ID="AutoComplete1" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T14:46:33.880

在列设置中，您可以

```
searchoptions: {dataInit: function (elem) { AutoCompleteFunction(elem) }}, ... 
```

然后你的自动完成看起来像

```
function AutoCompleteFunction(elem) {    
    $(elem).autocomplete({ source: '/Controller/Action',
        minLength: 2, autosearch: true,
        select: function (event, ui) {
            $(elem).val(ui.item.value);
        }
    })//$(elem).autocomplete 
```

# sql - 聚合数据透视的日期时间列

> ID：15264563
> 
> 赞同：2
> 
> 时间：2013-03-07T06:26:58.167
> 
> 标签：sql, sql-server, sql-server-2008-r2, pivot

我有一个存储员工登录信息的表

登录表的示例数据是

```
 EmpID  Status     [Time]
 100    SignIn    2013-03-07 11:41:44.473
 101    SignIn    2013-03-07 10:41:44.473
 100    SignOut   2013-03-07 12:41:44.473
 101    SignOut   2013-03-07 11:41:44.473
 101    SignIn    2013-03-08 11:41:44.473 
```

我希望结果是

```
EmpID   SignIn                    SignOut
 100    2013-03-07 11:41:44.473    2013-03-07 12:41:44.473
 101    2013-03-07 10:41:44.473    2013-03-07 11:41:44.473
 101    2013-03-08 11:41:44.473    NULL 
```

我尝试使用 PIVOT

```
Select EmpID,[SignIn],[SignOut]
from 
(Select EmpId,status,LoginTime from Login)p
 pivot
(
 min(Logintime)
 For status in ([SignIn],[SignOut])
)pvt 
```

但是上面的查询省略了最后一行的`Employee` `101`有`SignIn`时间但`no SignOut`值

[SQLFiddle](http://sqlfiddle.com/#!3/e4e44/1)用于生成表数据

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T11:02:03.313

您使用该`PIVOT`功能走在正确的轨道上，您只需要一种`row_number()`基于和/ 为每一行分配 a 的方法`empid`，您可以使用以下代码：`status``date``pivot`

```
Select EmpID,[SignIn],[SignOut]
from 
(
  Select EmpId, status, 
    LoginTime, 
    cast(logintime as date) date,
    row_number() over(partition by empid, status, cast(logintime as date)
                      order by logintime) rn
  from Login
)p
pivot
(
  min(Logintime)
  For status in ([SignIn],[SignOut])
)pvt 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/f402f/6)。

您会注意到子查询中有两个新列。一个`row_number()`为每一行生成一个，第二个为`date`没有时间的生成。这两个列都在`GROUP BY`最终选择中使用但不显示。它们被使用，因此您每天可以为每个员工获取多行（如果需要）。

使用来自 sql fiddle 的@IvanG 数据的结果是：

```
| EMPID |              SIGNIN |             SIGNOUT |
-----------------------------------------------------
|   100 | 2013-03-07 11:41:44 | 2013-03-07 12:41:44 |
|   101 | 2013-03-07 10:41:44 | 2013-03-07 11:41:44 |
|   101 | 2013-03-08 11:41:44 |              (null) |
|   102 | 2013-04-08 12:41:44 | 2013-04-08 13:41:44 |
|   102 | 2013-04-08 16:41:44 | 2013-04-08 17:41:44 |
|   102 | 2013-04-08 19:41:44 |              (null) | 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T06:54:27.143

你可以像这样得到它：

```
SELECT  l1.EmpID
        , l1.LoginTime [SignIn]
        , l2.LoginTime [SignOut]
FROM    Login l1
LEFT JOIN   
        Login l2 ON 
        l2.EmpID = l1.EmpID
AND     CAST(l2.LoginTime AS DATE) = CAST(l1.LoginTime AS DATE)
AND     l2.status = 'SignOut'
WHERE   l1.status = 'SignIn' 
```

请注意，如果您每天有多个员工登录/退出，并且您想在一天内获得他的第一个`SignIn`和最后`SignOut`一个，则必须更改查询：

```
SELECT  l1.EmpID
        , MIN(l1.LoginTime) [SignIn]
        , MAX(l2.LoginTime) [SignOut]
FROM    Login l1
LEFT JOIN   
        Login l2 ON 
        l2.EmpID = l1.EmpID
AND     CAST(l2.LoginTime AS DATE) = CAST(l1.LoginTime AS DATE)
AND     l2.status = 'SignOut'
WHERE   l1.status = 'SignIn'
GROUP BY
        l1.EmpID, CAST(l1.LoginTime AS DATE) 
```

这是另一个查询，它也适用于同一天用户的多次登录/注销。这将列出他一天内的所有登录/注销：

```
;WITH cte1 AS
(
    SELECT  *
            , ROW_NUMBER() OVER 
                (PARTITION BY EmpID, CAST(LoginTime AS DATE) ORDER BY LoginTime) 
                AS num
    FROM    Login
)

SELECT  l1.EmpID
        , l1.LoginTime [SignIn]
        , l2.LoginTime [SignOut]
FROM    cte1 l1
LEFT JOIN   
        cte1 l2 ON 
        l2.EmpID = l1.EmpID
AND     CAST(l2.LoginTime AS DATE) = CAST(l1.LoginTime AS DATE)
AND     l2.num = l1.num + 1
WHERE   l1.status = 'SignIn' 
```

这是用于在一天内处理用户的多个登录/注销场景的最后两个查询的**[SQL Fiddle](http://sqlfiddle.com/#!3/1a1e7/1/1)**，为此我将用户添加了`EmpID`102 到示例数据。

# php - 如何创建一次定义列的html表

> ID：15264564
> 
> 赞同：1
> 
> 时间：2013-03-07T06:27:07.167
> 
> 标签：php, html

我有两个 for 循环来绘制 HTML 表，我想从第一个 for 循环中绘制列，并从第二个 for 循环中添加行。但是表格不能按以下方式绘制。

```
for($i=0;$i<$diffc;$i++){
                    ?>

                    <td>
                    <?php
                    for($j=0;$j<2;$j++){
                        ?>
                <tr>MODEL</tr>
                        <tr><?php echo $modelNo; ?></tr>    
                        <tr>MODELw</tr>
                        <tr><?php echo $model; ?></tr>

                        <?php
                    }
                    ?>

                    </td>
                    <?php

            } 
```

知道我应该怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:34:26.247

你是对的，表格首先是按*行*绘制的，然后是按*列*绘制的（不能反过来）。

因此，您可能想要（假设您使用的是 PHP）：

1.  创建表示表格单元格值的二维数组（在 PHP 中）。
2.  通过遍历每一行，然后逐列来绘制表格。

您最终不得不使用此方法执行额外的循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:37:52.613

首先，您必须了解表格在 html 中的工作方式，然后您可以在 php 中轻松完成。

因此，您正在使用两个循环来绘制表格。在第一个循环中，您要绘制列，而在第二个循环中，您要绘制行。所以这里是如何做到这一点。

这是html表的结构。

```
<table>
  <tr>
   <td>1 Column</td>
  </tr>
</table> 
```

在第一个循环中绘制以下 html 代码

```
<table>
    <tr>
        <td>Column 1</td><td>Column 2</td><td>Column 3</td>
</tr> 
```

第一个循环结束。

然后在第二个循环中绘制以下html

```
<tr>
<td>row 1</td><td>row 2</td><td>row 3</td>
</tr>

<tr>
<td>row 1</td><td>row 2</td><td>row 3</td>
</tr>

<tr>
<td>row 1</td><td>row 2</td><td>row 3</td>
</tr>

</table> 
```

如果您不知道如何在 php 中执行此操作，请告诉我。

# android - Android - 带有子菜单的滑动菜单

> ID：15264567
> 
> 赞同：11
> 
> 时间：2013-03-07T06:27:27.917
> 
> 标签：android, android-sliding, slidingmenu

我希望我的应用程序有像滑动菜单一样的脸书。我用谷歌搜索了这个问题，发现了很多帖子，这些帖子只帮助我构建了一个滑动菜单。但我需要的是，2 级滑动菜单，即当我单击滑动菜单中的某个选项时，它应该在其顶部打开另一个滑动菜单（此时第一个滑动菜单应该模糊），如下所示的 zomato 应用程序。我尝试使用 JFeinstein 滑动菜单库，但我可以使用它构建一个 2 级滑动菜单。是否有任何其他库可以实现这一目标，或者我应该自己构建一个？

下面显示的是 Zomato 应用程序的滑动菜单：

![在此处输入图像描述](../Images/bc1810c20f2fedc4f0b5eec2f99fa84e.png)

当我点击上面显示的菜单上的“位置”选项时，它将打开一个二级菜单，如下所示。我想要相同的功能。

![在此处输入图像描述](../Images/17d759e626d52192dcb4058635ecedff.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T06:50:55.920

查看[滑动面板组件](http://developer.digitalaria.com/devguide/gama/en/gama/slidingpanel_android.php)，这是一个小部件，可通过滑动交互实现多个叠加视图，从而在一个屏幕显示中有效地显示多个深度数据。

它还提供了引用实现的[演示](http://developer.digitalaria.com/res/fdownload.php?f=gama_sample_slidingpanel_android.zip)，您也可以查看它。

谢谢。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-02-25T11:19:14.863

您可以使用 JFeinstein 滑动菜单轻松添加任意数量的菜单级别。想法是使用滑动菜单作为主滑动菜单的左或右滑动视图等。添加了带有注释和输出的 2 级菜单的完整代码，以使事情更加清晰。

```
 public class MainActivity extends SlidingFragmentActivity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // dummy views - content view
        TextView content = new TextView(this);
        content.setBackgroundColor(Color.WHITE);
        content.setText("content");
       // Menu view
        TextView menu = new TextView(this);
        menu.setBackgroundColor(Color.GREEN);
        menu.setText("menu");
        // 2nd level menu view
        TextView subMenu = new TextView(this);
        subMenu.setBackgroundColor(Color.LTGRAY);
        subMenu.setText("submenu");

        //configure sliding menu
        SlidingMenu sm = getSlidingMenu();
        sm.setMode(SlidingMenu.SLIDING_WINDOW);
        sm.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
        sm.setBehindOffset(80);
        sm.setBehindScrollScale(0.25f);
        sm.setFadeDegree(0.25f);

        //Another sliding menu - for 2nd level or sub menu 
        SlidingMenu leftSlidingView = new SlidingMenu(this);
        leftSlidingView.setMode(SlidingMenu.SLIDING_WINDOW);
        leftSlidingView.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
        leftSlidingView.setBehindOffset(80);
        leftSlidingView.setBehindScrollScale(0.25f);
        leftSlidingView.setFadeDegree(0.25f);

    //==== Required instruments has been created ;) lets put them at right places   

        // setting menu and sub-menu view 
        leftSlidingView.setContent(menu);  // at center of left sliding view
        leftSlidingView.setMenu(subMenu);  // at left of left sliding view

        //set content view
        setContentView(content);           // at center of main sliding view
        // finally, set  leftSlidingView as behind content  view of main view
        setBehindContentView(leftSlidingView); // at left of main sliding view

    }
} 
```

这是输出：

![在此处输入图像描述](../Images/883ba9618ea02bb2ffde3dd60e25745a.png)

**注意：**您需要将 JFeinstein 滑动菜单作为库导入并从 SlidingFragmentActivity 扩展您的活动。

# jquery - 如果两者都为真，则 Mouseleave 和 Blur jQuery 只会更改内容

> ID：15264574
> 
> 赞同：0
> 
> 时间：2013-03-07T06:27:52.933
> 
> 标签：jquery

大家好，我的网站需要一些帮助。

我对输入文本右侧的按钮有问题，我只想让它在页面加载时自动聚焦，当输入聚焦时，当按钮值发生变化（如宽度、颜色或内容）时。**我希望当 mouseleave 或 mouseout 我的 div (#centro) AND blur (focusout) 输入文本时，按钮恢复到原始**状态，当按钮恢复到原始状态时我遇到另一个问题我需要一些动画，因为它会立即恢复眼下。

如果有人知道如何改进我的按钮，我很感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:40:04.973

看到这个：

```
 $(function () {
    $("#inputselect").focus(function () {
        $("#enviar").replaceWith("<button id='enviar'>" + "Avançado" + "</button>", 1000);
        $("#enviar").animate({
            "width": "136px"
        }, 1000);
        $("#enviar").css({
            "background-color": "#EC0000"
        }, 1000);
    });
    $('#centro').mouseout(function () {
        doAction();
    });
    $(document).mouseup(function (e) {
        var container = $("#centro");
        if (container.has(e.target).length === 0) {
            doAction();
        }
    });

    function doAction() {
        $("#enviar").replaceWith("<button id='enviar'>" + "OK" + "</button>", 1000);
        $('#enviar').animate({
            width: '64px'
        }, 1000);
        $("#enviar").css({
            "background-color": "#990000"
        }, 1000);
    }
}); 
```

# javascript - 饼图 d3.js

> ID：15264575
> 
> 赞同：1
> 
> 时间：2013-03-07T06:28:10.467
> 
> 标签：javascript, d3.js

我正在使用 json 数据创建一个饼图 .. 弧线创建得很好，但它们没有采用颜色和文本也有文字..但是当我尝试在控制台中打印时它会打印......这是我的代码

```
 function drawPiechart( dataurl, selector ){

            var width = 130,
            height = 130,
            radius = Math.min(width, height) / 2;

            var color = d3.scale.category20();

            var arc = d3.svg.arc()
                .outerRadius(radius - 10)
                .innerRadius(0);
            /*var arc1 = d3.svg.arc()
                .outerRadius(radius + 10)
                .innerRadius(0);*/

            var pie = d3.layout.pie()
                .sort(null)
                .value(function(d) { return d.workload; });

            var svg = d3.select(selector).append("svg")
                .attr("width", width)
                .attr("height", height)
              .append("g")
                .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

            d3.json(dataurl, function(error, data) {
            console.log(data);
              data.HubActivity.hubWorkloadList.forEach(function(d) {
                d.workload = +d.workload;
                console.log(d.workload);
              });
            /*function animateFirstStep(){
                d3.select(this)
                  .transition()            
                    .delay(0)            
                    .duration(1000)
                    .attr("d",arc1)
                    .each("end", animateSecondStep);
            };
            function animateSecondStep(){
                d3.select(this)
                  .transition()
                    .duration(1000)
                    .attr("d", arc);
            };*/
              var g = svg.selectAll(".arc")
                  .data(pie(data.HubActivity.hubWorkloadList))
                .enter().append("g")
                  .attr("class", "arc");

              g.append("path")
                  .attr("d", arc)
                  .style("fill", function(d) { return color(d.trName); });
                  // .on("mouseover", animateFirstStep);

              g.append("text")
                  .attr("transform", function(d) { return "translate(" + arc.centroid(d) + ")"; })
                  .attr("dy", ".35em")
                  .style("text-anchor", "middle")
                  .style("fill","black")
                  .text(function(d) { console.log( d.workload); });

            }); 
        };

        drawPiechart( "../data/pie0.json", "#workload"); 
```

这是我的 json 数据

```
{
"HubActivity": {        
    "hubWorkloadList": [
        {
            "trName": "addAccessDateValue",
            "workload": "20.00"
        },
        {
            "trName": "addAddress",
            "workload": "10.00"
        },
        {
            "trName": "getAccessDateValue",
            "workload": "10.00"
        },
        {
            "trName": "getAddress",
            "workload": "10.00"
        },
        {
            "trName": "searchCategory",
            "workload": "10.00"
        },
        {
            "trName": "searchCategoryHierarchy",
            "workload": "10.00"
        },
        {
            "trName": "updateAccessDateValue",
            "workload": "30.00"
        },
        {
            "trName": "updateAddressNote",
            "workload": "10.00"
        },
        {
            "trName": "updateAddressValue",
            "workload": "10.00"
        },
        {
            "trName": "updateAlert",
            "workload": "10.00"
        }
    ]
}
} 
```

请告诉错误在哪里......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:43:33.920

该`d3.layout.pie`函数创建一个新的数据结构，其中包含在顶层绘制图表所需的信息。这就是您在选择颜色和附加文本时正在使用的内容，这就是它不起作用的原因——您正在寻找的数据不再是以前的位置。

在每个`pie()`返回的元素中，都有一个`.data`包含原始数据的成员。使用它，您可以访问您正在寻找的信息。也就是说，你需要改变

```
.style("fill", function(d) { return color(d.trName); }); 
```

到

```
.style("fill", function(d) { return color(d.data.trName); }); 
```

文本也是如此。

# ios - 使用 AVAudioRecorder 在后台录制语音

> ID：15264576
> 
> 赞同：1
> 
> 时间：2013-03-07T06:28:21.637
> 
> 标签：ios, background, avaudiorecorder

我正在尝试使用`AVAudioRecorder`但每次我`NO`在调用`recordForDuration`方法时在后台录制用户语音。我添加了“音频”，`UIBackgroundModes`但这无济于事。顺便说一句，一切都在前台完美运行。我正在`AVAudioRecorder`使用以下代码进行初始化：

```
NSError* error;
if (![[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryRecord error:&error])
{
    NSLog(@"Error while setting audio session category. Code - %d, description - \"%@\".", [error code], [error localizedDescription]);
    return;
}

NSURL* outputFileURL = [VKMFileSystemHelper uniqueFileInPath:[[VKMFileSystemHelper subdirectoryInsideLibrary:DIR_AUDIO] path] withExtension:@"m4a"];

NSDictionary* recordSettings = [NSDictionary dictionaryWithObjectsAndKeys:
                                    [NSNumber numberWithInt:kAudioFormatMPEG4AAC], AVFormatIDKey,
                                    [NSNumber numberWithInt:AVAudioQualityMin]   , AVEncoderAudioQualityKey,
                                    [NSNumber numberWithInt:16]                  , AVEncoderBitRateKey,
                                    [NSNumber numberWithInt:1]                   , AVNumberOfChannelsKey,
                                    [NSNumber numberWithFloat:12000.0]           , AVSampleRateKey,
                                    nil];

_recorder = [[AVAudioRecorder alloc] initWithURL:outputFileURL settings:recordSettings error:&error];
[_recorder setDelegate:self];

if (error)
{
    NSLog(@"Error occured during audio recorder initialization. Error code - %d, description - \"%@\".", [error code], [error localizedDescription]);
}
else
{
    NSLog(@"Start recording.");
    if ([_recorder recordForDuration:[shedule execLength]])
    {
        NSLog(@"Record started.");
    }
    else
    {
        NSLog(@"Record failed.");
    }            
} 
```

如何从背景的麦克风录制？这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-30T08:14:35.147

尝试这个，

```
 ***Appdelegate.m***

- (void)applicationDidEnterBackground:(UIApplication *)application
{
__block UIBackgroundTaskIdentifier task = 0;
task=[application beginBackgroundTaskWithExpirationHandler:^{
    NSLog(@"Expiration handler called %f",[application backgroundTimeRemaining]);
    [application endBackgroundTask:task];
    task=UIBackgroundTaskInvalid;
}];

} 
```

# python - 将 3d 场景加载到 Silverlight

> ID：15264581
> 
> 赞同：5
> 
> 时间：2013-03-07T06:28:41.550
> 
> 标签：python, silverlight, 3d, mayavi, vrml

长话短说：

**是否可以将 a 加载`.vrml`到 Silverlight 并渲染 3d 场景？**

现在有更多背景信息，为什么我要这样做。我想实现以下设置：

1.  在服务器上做一些长时间运行的计算
2.  使用 mayavi 渲染一些 3d 场景
3.  将其导出为`.vrml`文件。
4.  将其传输到 Silverlight 客户端
5.  在 Silverlight 中渲染 3d 场景
6.  让用户与这个场景进行交互，即缩放、平移、旋转……

我希望这很容易，因为 XNA 附带了最新版本的 Silverlight，但是我在 Google 和 SO 上的研究并没有给我任何有用的提示。如果有人能指出我正确的方向，那就太好了，任何指向教程、库或代码片段的链接都将不胜感激。

根据 mayavi 文档，作为替代文件格式，我也可以生成

*   肋骨（渲染人）
*   oogl (geomview)
*   iv (OpenInventor)
*   obj（波前）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T03:36:47.150

这看起来很有希望：

[http://www.postvision.net/SilverMotion/Default.aspx](http://www.postvision.net/SilverMotion/Default.aspx)

直接来自网站：

> 只需将 SilverMotion 组件放入 Silverlight 开发环境并导入您的 .3DS 文件，直接从 3D 建模环境（Blender、3DS Max、Maya、MilkShape 等）导出。就是这样。场景将被渲染，准备好在您的浏览器中进行交互。

您可能需要进行中间文件转换，但至于显示组件，听起来很容易使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T10:31:47.080

您可以[试一试 Babylon Toolkit](http://babylontoolkit.codeplex.com/)（专为 Silverlight 5 设计以展示其 3D 功能），因为它具有[内置的 Wavefront OBJ 导入](http://babylontoolkit.codeplex.com/documentation)功能。我无法具体评论它的导入效果，因为我没有专门使用它。

# sql - 可以为视图定义列类型和大小吗？

> ID：15264587
> 
> 赞同：1
> 
> 时间：2013-03-07T06:29:04.987
> 
> 标签：sql, sql-server, sql-server-2008, tsql, sql-view

在通过 C# 导入一些数据时，我正在制作一个视图以使我的生活更轻松，如果我可以在 SQL 端而不是在 C# 中进行所有转换和强制转换（并设置正确的列长度），那将节省大量时间（因为我的 C# 代码都是动态的，不是硬编码的，而且当东西的长度不正确时它就会崩溃）。这或多或少是我在很小的范围内做的事情：

```
CREATE VIEW vw_pendingitems
AS
   SELECT 
      CAST(a.columnone AS CHAR(1)) 'Column 1', 
      CAST(a.columntwo AS CHAR(1)) 'Column 2', 
      CAST(a.adecimalcolumn AS VARCHAR(30)), 
      CAST(null AS VARCHAR(20)) 'A not yet defined column',
      b.anintcolumn 'An int column'
FROM table1 a
JOIN table2 b ON a.key = b.key 
```

前两列工作正常，但我认为我在投空时遇到了问题。有没有其他/更好的方法来做我想要完成的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:56:18.727

A`CAST`应该适用于可为空的列。它只会返回`NULL`。如果你不想要`NULL`，那么你可以使用`ISNULL`.

```
SELECT ISNULL(CAST(NULL AS VARCHAR(20)), '') 'A not yet defined column' 
```

不过，您应该小心更改数据类型。如果您使用较小的数据类型，您可能会丢失数据或出现错误。

# c++ - 回溯结果未显示崩溃位置

> ID：15264590
> 
> 赞同：1
> 
> 时间：2013-03-07T06:29:16.027
> 
> 标签：c++, linux, segmentation-fault

我正在尝试使用 backtrace 和 backtrace_symbols 结果打印出在捕获 SIGSEGV 信号后我的代码崩溃的位置。我明确地从一个工作线程触发了它。我用选项 -rdynamic 编译了我的静态链接多线程 C++ 程序，我期待 backtrace_symbols 会返回一个堆栈跟踪来告诉我崩溃发生在哪里，但下面的结果不是我所期望的，MyApplicationService 不是一种方法，但只是可执行文件名，我不明白为什么。

```
 2013-03-07 15:13:18.119986598 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZNK5boost4_mfi3mf2IvN18my_app__service_lib14service_runnerERKNS_6system10error_codeEiEclEPS3_S7_i+0x74) [0xcd69fa]
    2013-03-07 15:13:18.119988126 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost3_bi5list3INS0_5valueIPN18my_app__service_lib14service_runnerEEENS_3argILi1EEENS7_ILi2EEEEclINS_4_mfi3mf2IvS4_RKNS_6system10error_codeEiEENS0_5list2ISH_RKiEEEEvNS0_4typeIvEERT_RT0_i+0x7c) [0xcd6848]
    2013-03-07 15:13:18.119989192 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost3_bi6bind_tIvNS_4_mfi3mf2IvN18my_app__service_lib14service_runnerERKNS_6system10error_codeEiEENS0_5list3INS0_5valueIPS5_EENS_3argILi1EEENSF_ILi2EEEEEEclIS7_iEEvRKT_RKT0_+0x4c) [0xcd6690]
    2013-03-07 15:13:18.119990120 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost4asio6detail7binder2INS_3_bi6bind_tIvNS_4_mfi3mf2IvN18my_app__service_lib14service_runnerERKNS_6system10error_codeEiEENS3_5list3INS3_5valueIPS8_EENS_3argILi1EEENSI_ILi2EEEEEEESA_iEclEv+0x2b) [0xcd6597]
    2013-03-07 15:13:18.119991031 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost4asio19asio_handler_invokeINS0_6detail7binder2INS_3_bi6bind_tIvNS_4_mfi3mf2IvN18my_app__service_lib14service_runnerERKNS_6system10error_codeEiEENS4_5list3INS4_5valueIPS9_EENS_3argILi1EEENSJ_ILi2EEEEEEESB_iEEEEvT_z+0x62) [0xcd64b0]
    2013-03-07 15:13:18.119992105 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN33boost_asio_handler_invoke_helpers6invokeIN5boost4asio6detail7binder2INS1_3_bi6bind_tIvNS1_4_mfi3mf2IvN18my_app__service_lib14service_runnerERKNS1_6system10error_codeEiEENS5_5list3INS5_5valueIPSA_EENS1_3argILi1EEENSK_ILi2EEEEEEESC_iEESO_EEvRT_RT0_+0x64) [0xcd636c]
    2013-03-07 15:13:18.119993000 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost4asio6detail14signal_handlerINS_3_bi6bind_tIvNS_4_mfi3mf2IvN18my_app__service_lib14service_runnerERKNS_6system10error_codeEiEENS3_5list3INS3_5valueIPS8_EENS_3argILi1EEENSI_ILi2EEEEEEEE11do_completeEPNS1_15task_io_serviceEPNS1_25task_io_service_operationESC_m+0xb9) [0xcd605d]
    2013-03-07 15:13:18.119993884 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost4asio6detail25task_io_service_operation8completeERNS1_15task_io_serviceERKNS_6system10error_codeEm+0x32) [0xccceac]
    2013-03-07 15:13:18.119994819 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost4asio6detail15task_io_service10do_run_oneERNS1_11scoped_lockINS1_11posix_mutexEEERNS2_11thread_infoERKNS_6system10error_codeE+0x1a1) [0xccf4a5]
    2013-03-07 15:13:18.119995795 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost4asio6detail15task_io_service3runERNS_6system10error_codeE+0x137) [0xcceffd]
    2013-03-07 15:13:18.119996845 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN5boost4asio10io_service3runEv+0x2f) [0xccf823]
    2013-03-07 15:13:18.119997845 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(_ZN18my_app__service_lib14service_runner3runEv+0x97) [0xccbb65]
    2013-03-07 15:13:18.119998914 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService(main+0x4cc) [0xcc4608]
    2013-03-07 15:13:18.119999767 [7f2279bbe720] INFO  service_runner - /lib64/libc.so.6(__libc_start_main+0xfd) [0x3f0f01ecdd]
    2013-03-07 15:13:18.120000694 [7f2279bbe720] INFO  service_runner - ../Debug/MyApplicationService() [0xcc4059] 
```

这是我用来打印上述结果的代码：

```
 void *trace[16];
          char **messages = (char **)NULL;
          int i, trace_size = 0;
          SERVICE_LOG_INFO << "Receive signal " << sig ;    
          trace_size = backtrace(trace, 16);
          messages = backtrace_symbols(trace, trace_size);
          LOG << "[bt] Execution path:" ;
          for (i=1; i<trace_size; ++i)
              LOG << messages[i]; 
```

附加信息：

```
 OS: RHEL 6.3
    compiler: gcc 4.4.6
    compile option: -I/opt/rh/devtoolset-1.0/root/usr/include -I/opt/rh/devtoolset-1.0/root/usr/include/c++/4.7.0 -I/opt/rh/devtoolset-1.0/root/usr/include/c++/4.7.0/backward -I/opt/rh/devtoolset-1.0/root/usr/include/c++/4.7.0/x86_64-redhat-linux -I/opt/rh/devtoolset-1.0/root/usr/lib/gcc/x86_64-redhat-linux/4.7.0/include -I/opt/boost_1_52_0 -I/opt/tbb41_20121003oss/include -I/opt/libev-4.11/include -I"Myapp/include" -O0 -g3 -rdynamic -Wall -c -fmessage-length=0 -std=c++11 -fno-strict-aliasing -MMD -MP -MF"src/service_runner.d" -MT"src/service_runner.d" -o "src/service_runner.o" "../src/service_runner.cpp" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:56:06.953

编译选项 show `-c`，所以`-rdynamic`被传递到编译步骤。您需要确保在*链接*代码时使用它。检查是否是这种情况。

**编辑：**布莱恩，你现在在问题中添加了损坏的符号，所以你现在想问一个不同的问题。请不要那样做。

但是既然你这样做了：你需要解析每一行`backtrace_symbols`以提取*损坏*的符号并调用[`__cxa_demangle`](http://gcc.gnu.org/onlinedocs/libstdc++/libstdc++-html-USERS-4.3/a01696.html)它。策略是`+`从字符串的末尾搜索 ，然后搜索左括号`(`，再次从 . 向后搜索`+`。向后搜索的原因是，前面的文件名也可能包含这些字符（不太可能，但可能）。如果您尝试实施它并遇到问题，*请打开一个新问题*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:30:33.640

终于把一切都搞定了。

解决步骤：1）在**链接器**选项中添加-rdynamic。

2）使用此代码对损坏的字符串进行分解：（代码来自此[线程](https://stackoverflow.com/questions/77005/how-to-generate-a-stacktrace-when-my-gcc-c-app-crashes/1925461#1925461)）

```
 // skip first stack frame (points here)
            for (int i = 0; i < trace_size && messages != NULL; ++i)
            {
                char *mangled_name = 0, *offset_begin = 0, *offset_end = 0;

                // find parantheses and +address offset surrounding mangled name
                for (char *p = messages[i]; *p; ++p)
                {
                    if (*p == '(')
                    {
                        mangled_name = p;
                    }
                    else if (*p == '+')
                    {
                        offset_begin = p;
                    }
                    else if (*p == ')')
                    {
                        offset_end = p;
                        break;
                    }
                }

                // if the line could be processed, attempt to demangle the symbol
                if (mangled_name && offset_begin && offset_end &&
                    mangled_name < offset_begin)
                {
                    *mangled_name++ = '\0';
                    *offset_begin++ = '\0';
                    *offset_end++ = '\0';

                    int status;
                    char * real_name = abi::__cxa_demangle(mangled_name, 0, 0, &status);

                    // if demangling is successful, output the demangled function name
                    if (status == 0)
                    {
                        std::cerr << "[bt]: (" << i << ") " << messages[i] << " : "
                                  << real_name << "+" << offset_begin << offset_end
                                  << std::endl;

                    }
                    // otherwise, output the mangled function name
                    else
                    {
                        std::cerr << "[bt]: (" << i << ") " << messages[i] << " : "
                                  << mangled_name << "+" << offset_begin << offset_end
                                  << std::endl;
                    }
                    free(real_name);
                }
                // otherwise, print the whole line
                else
                {
                    std::cerr << "[bt]: (" << i << ") " << messages[i] << std::endl;
                }
            }
            std::cerr << std::endl; 
```

# jstl - 使用 JSTL 遍历 ArrayList 的 ArrayList

> ID：15264591
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:29:24.477
> 
> 标签：jstl

我的 searchUser 方法中有一个 arrayLists (personalList,c1List,c2List) 的 arrayList (mainList)。

```
 public List<List<UserApplication>> searchUser(EdsStudentForm eds) throws Exception {

    //My arraylist constructors    
    List<List<UserApplication>> mainList = new ArrayList<List<UserApplication>>();
    List<UserApplication> personalList = new ArrayList<UserApplication>();
    List<UserApplication> c1List = new ArrayList<UserApplication>();
    List<UserApplication> c2List = new ArrayList<UserApplication>();
    List<UserApplication> c3List = new ArrayList<UserApplication>();

    String searchPersonalQuery = "SELECT studentCode,title,firstName,lastName,"
            + "streetNumber,streetName,suite,city,province,country,postalCode,email,"
            + "workPhone,cellPhone,homePhone,sin "
            + "FROM studtregister_personal WHERE studentCode=?";
    String searchCourse1Query = "SELECT programCode1,lang1,schDays1,schTime1,schType1,"
            + "totalHours1,startDate1,pricetype1,price1 "
            + "FROM studtregister_course1 WHERE studentCode=?";
    String searchCourse2Query = "SELECT programCode2,lang2,schDays2,schTime2,schType2,"
            + "totalHours2,startDate2,pricetype2,price2 "
            + "FROM studtregister_course2 WHERE studentCode=?";
    String searchCourse3Query = "SELECT programCode3,lang3,schDays3,schTime3,schType3,"
            + "totalHours3,startDate3,pricetype3,price3 "
            + "FROM studtregister_course3 WHERE studentCode=?";

    int stCode = eds.getStudentCode();

    try {
        currentCon = ConnectionManager.getDBConnection();
        PreparedStatement pst1 = currentCon.prepareStatement(searchPersonalQuery);
        pst1.setInt(1, stCode);
        rs = pst1.executeQuery();

        while (rs.next()) {
            UserApplication personBean = new UserApplication();
            personBean.setStudentCode(rs.getInt(1));
            personBean.setTitle(rs.getString(2));
            personBean.setFirstName(rs.getString(3));
            personBean.setLastName(rs.getString(4));
            personBean.setStreetNumber(rs.getString(5));
            personBean.setStreetName(rs.getString(6));
            personBean.setSuite(rs.getString(7));
            personBean.setCity(rs.getString(8));
            personBean.setProvince(rs.getString(9));
            personBean.setCountry(rs.getString(10));
            personBean.setPostalCode(rs.getString(11));
            personBean.setEmail(rs.getString(12));
            personBean.setWorkPhone(rs.getString(13));
            personBean.setCellPhone(rs.getString(14));
            personBean.setHomePhone(rs.getString(15));
            personBean.setSin(rs.getString(16));
            personalList.add(personBean);
        }

        pst1.close();

        currentCon = ConnectionManager.getDBConnection();
        PreparedStatement pst2 = currentCon.prepareStatement(searchCourse1Query);
        pst2.setInt(1, stCode);
        rs = pst2.executeQuery();

        while (rs.next()) {
            UserApplication C1Bean = new UserApplication();
            C1Bean.setProgramCode1(rs.getString(1));
            C1Bean.setLanguage1(rs.getString(2));
            C1Bean.setScheduleDay1(rs.getString(3));
            C1Bean.setScheduleTime1(rs.getString(4));
            C1Bean.setScheduleType1(rs.getString(5));
            C1Bean.setTotalHours1(rs.getString(6));
            C1Bean.setStartDate1(rs.getString(7));
            C1Bean.setPriceType1(rs.getString(8));
            C1Bean.setPrice1(rs.getString(9));
            c1List.add(C1Bean);
        }

        pst2.close();

        currentCon = ConnectionManager.getDBConnection();
        PreparedStatement pst3 = currentCon.prepareStatement(searchCourse2Query);
        pst3.setInt(1, stCode);
        rs = pst3.executeQuery();

        while (rs.next()) {
            UserApplication C2Bean = new UserApplication();
            C2Bean.setProgramCode2(rs.getString(1));
            C2Bean.setLanguage2(rs.getString(2));
            C2Bean.setScheduleDay2(rs.getString(3));
            C2Bean.setScheduleTime2(rs.getString(4));
            C2Bean.setScheduleType2(rs.getString(5));
            C2Bean.setTotalHours2(rs.getString(6));
            C2Bean.setStartDate2(rs.getString(7));
            C2Bean.setPriceType2(rs.getString(8));
            C2Bean.setPrice2(rs.getString(9));
            c2List.add(C2Bean);
        }

        pst3.close();

        currentCon = ConnectionManager.getDBConnection();
        PreparedStatement pst4 = currentCon.prepareStatement(searchCourse3Query);
        pst4.setInt(1, stCode);
        rs = pst4.executeQuery();

        while (rs.next()) {
            UserApplication C3Bean = new UserApplication();
            C3Bean.setProgramCode3(rs.getString(1));
            C3Bean.setLanguage3(rs.getString(2));
            C3Bean.setScheduleDay3(rs.getString(3));
            C3Bean.setScheduleTime3(rs.getString(4));
            C3Bean.setScheduleType3(rs.getString(5));
            C3Bean.setTotalHours3(rs.getString(6));
            C3Bean.setStartDate3(rs.getString(7));
            C3Bean.setPriceType3(rs.getString(8));
            C3Bean.setPrice3(rs.getString(9));
            c3List.add(C3Bean);
        }

        pst4.close();

        if(personalList != null && !personalList.isEmpty()) {
            mainList.add(personalList);
        }
        if(c1List != null && !c1List.isEmpty()) {
            mainList.add(c1List);
        }
        if(c2List != null && !c2List.isEmpty()) {
            mainList.add(c2List);
        }
        if(c3List != null && !c3List.isEmpty()) {
            mainList.add(c3List);
        }
    } catch (SQLException ee) {
        System.out.println("Unable to connect to database:student_registration");
        ee.printStackTrace();
    } finally {
        try {
            if (rs != null) {
                rs.close();
            }
            if (currentCon != null) {
                currentCon.close();
            }
        } catch (SQLException sqle) {
            sqle.printStackTrace();
        }
    }
    return mainList;
} 
```

在我的 struts actionclass 中，我将 mainList arrayList 放在会话中：

```
 public ActionForward edit(ActionMapping mapping, ActionForm form, HttpServletRequest request,               HttpServletResponse response)
        throws Exception {

    HttpSession session = request.getSession(true);

    if (null == session.getAttribute("username")) {
        response.sendRedirect("login.jsp");
    } else {
        EdsStudentForm eds = (EdsStudentForm) form;
        try {
            List<List<UserApplication>> mainList = uaDAO.searchUser(eds);
            if (!mainList.isEmpty()) {
                request.getSession().setAttribute("mainList", mainList);
                action_forward = EDITSUCCESS;
            } else {
                action_forward = EDITFAILURE;
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
   return mapping.findForward(action_forward);
} 
```

但是，当我尝试使用以下代码迭代我的 jsp 文件中的 arrayList 时：

```
 <html:form method="post">
        <table>
            <c:forEach items="${mainList}" var ="uList">
                <c:forEach items="${uList}" var="pList">
                <tr> 
                    <td><label>Student Code : </label></td>
                    <td><a href="editStudt.jsp"><c:out value="${pList.studentCode}"></c:out></a></td>
                    </tr>
                    <tr>
                        <td><label>First Name : </label></td>
                        <td><c:out value="${pList.firstName}"></c:out></td>
                    </tr>
                    <tr>
                        <td><label>Last Name : </label></td>
                        <td><c:out value="${pList.lastName}"></c:out></td>

                    </tr> 
                </c:forEach>
            </c:forEach>
      </table>
        <input type="button" class="button" value="Main Menu" onclick="doMenu()"/>
    </html:form> 
```

我得到了正确的信息打印出来...... 3 - 4 次（取决于我在 mainList 中有 3 个还是 4 个 arrayLists。

```
 The output :

  Student code : 900
  First Name : XYZ
  Last Name : XYZ

  Student code : 900
  First Name : XYZ
  Last Name : XYZ

  Student code : 900
  First Name : XYZ
  Last Name : XYZ 
```

你能告诉我我做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T18:02:04.823

您只有一个实例`UserApplication`：

```
UserApplication sBean = new UserApplication();
while (rs.next()) {
    ... 
```

您需要为结果集中的*每个项目创建一个**新项目：* `UserApplication`

 *```
while (rs.next()) {
    UserApplication sBean = new UserApplication();
    ... 
```

这就是为什么我多次询问是否显示相同的数据，如果这是实际代码，它*必须是。**您所做的只是更改实例的数据并将相同的 bean*重新添加到列表中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:35:49.677

因为您在第一个列表中添加了 3 个变量*

# c# - 在 C# 中以编程方式更改文件扩展名后 Excel 文件损坏

> ID：15264593
> 
> 赞同：0
> 
> 时间：2013-03-07T06:29:29.647
> 
> 标签：c#, file-io

我有以下代码将 .xls Excel 文件更改为 .xlsx 格式（Excel 2007 及更高版本），但生成的 .xlsx 文件已损坏。它不能在 c# 中以编程方式读取，也不能在 Windows 资源管理器中打开。

原始的 .xls 文件有一些相当多的宏函数。

```
tring fileName = Path.GetFileName(FileUpload1.PostedFile.FileName);
fileName = Server.MapPath(Path.Combine("~/ProcessedFiles/", fileName));
FileUpload1.PostedFile.SaveAs(Path.ChangeExtension(fileName, ".xlsx")); 
```

# css - 类在 CSS 中不起作用

> ID：15264594
> 
> 赞同：0
> 
> 时间：2013-03-07T06:29:32.013
> 
> 标签：css, html

我无法设置我的文本字段的宽度 [newbie to css]
这是我的代码

```
<div data-role="fieldcontain" >
<input type="text" name="postquestion" class="ps" value="" placeholder="What's Your Question..?"data-mini="true"/>
</div> 
```

这是有效的

```
.ui-input-text{
    width:150px !important;
} 
```

但这不起作用

```
.ps
{
width:150px !important;
} 
```

我不知道为什么，我用谷歌搜索了很多，但我没有得到答案。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:34:56.110

`.ui-input-text`是框架中定义的。如果你弄乱了它，那么它会更新宽度。

但它会影响整个应用程序中文本框的宽度。还要记住 jQuery MObile 将删除自定义样式并在初始化时强制它的样式。

您可以执行如下内联样式来更改文本框大小而无需破解框架。

```
<input type="text" id="postquestion" name="postquestion" class="ps" value="" placeholder="What's Your Question..?"data-mini="true" style="width:50px"/> 
```

这是一个工作小提琴[http://jsfiddle.net/UyFWM/](http://jsfiddle.net/UyFWM/)

# c# - 自定义绘图文本 C#

> ID：15264596
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:29:43.320
> 
> 标签：c#, fonts, textbox, customization

我的表单中有一个文本框，我正在向其中绘制一个字符串，如下所示。

```
Font myFont = new Font("Arial",18F,FontStyle.Regular,GraphicsUnit.Point,128);
Graphics g = myTextBox.CreateGraphics();
Brush b = new SolidBrush(Color.Red);
g.DrawString("Item Drawn with DrawString",myFont ,b,new PointF(1,1)); 
```

文本框中显示的字符串。然后我尝试了下面的代码

```
 Font myFont = new Font("Arial",18F,FontStyle.Regular,GraphicsUnit.Point,128);
 Graphics g = myTextBox.CreateGraphics();
 TextRenderer.DrawText(g,"Item Drawn with DrawText",myFont,new Point(1,1),Color.Red); 
```

问题来了。即使两种方法使用相同的字体`g.DrawString()`，`TextRenderer.DrawText()`字体样式也存在差异。那就是某些字符的呈现方式不同。如果我在字体中使用“1”而不是“128”，这两种方法都会将字符呈现为唯一的。

如果我更改`GdiCharSet(128)`字体的值，在使用`g.DrawString()`方法时将没有效果。我的问题是为什么 `g.DrawString()`方法会排除`GdiCharSet`价值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:10:55.073

因为这：

> gdiCharSet 参数从 Windows SDK 头文件 WinGDI.h 中定义的列表中获取一个值。Windows 窗体应用程序支持 TrueType 字体，但对 OpenType 字体的支持有限。如果 familyName 参数指定的字体未安装在运行应用程序的机器上或不受支持，则将替换为 Microsoft Sans Serif。

（[来自 MSDN 文档](http://msdn.microsoft.com/en-gb/library/h7c7wc9z.aspx)）

由于 Arial 是 TrueType 字体并且它支持 Unicode，据我所知，您不需要设置 GDI 字符集。

# mysql - 如何对表的选定列进行mysql转储

> ID：15264597
> 
> 赞同：19
> 
> 时间：2013-03-07T06:29:48.200
> 
> 标签：mysql, mysql5

我有一个要求，我必须只对表的一列进行 mysql 转储。由于该表的列太多，我不想转储整个表。我必须将这个表的转储从一台服务器转移到另一台服务器。知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2015-07-07T07:12:21.793

如果您想获取包含架构的 mysql 转储，可以按照以下步骤完成：

创建一个临时表：

```
create table temp_table like name_of_the_original_table; 
```

将数据复制到 temp_table 中：

```
insert into temp_table select * from name_of_the_original_table; 
```

删除不必要的字段：

```
alter table temp_table drop column somecolumn; 
```

发布这个，你可以通过运行来获取 mysqldump：

```
mysqldump -u <username> -p <password> databasename temp_table 
```

如果打算进行数据转储（没有架构），您可以运行以下命令：

```
select * from sometable into outfile '/tmp/datadump' fields terminated by '\t' lines terminated by '\n'; 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2017-09-27T17:59:11.913

```
mysql> CREATE TABLE `tempTable` AS SELECT `columnYouWant` from `table`;
$> mysqldump yourDB tempTable > temp.sql 
```

将 temp.sql 复制到目标服务器，然后在目标服务器上

```
$> mysql yourDB < temp.sql
mysql> RENAME TABLE `table` TO `tableBackup`, `tempTable` TO `table`; 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-07T06:34:05.393

选择列成文件？

```
Select col from table into outfile 'fileame' 
```

# delphi - 更改表单大小后将表单重新居中

> ID：15264598
> 
> 赞同：3
> 
> 时间：2013-03-07T06:29:48.677
> 
> 标签：delphi, resize

我有一个组合框，它有两个选项，这两个选项触发表单调整大小。我的想法是我将根据选择隐藏和显示其他控件。

当我更改表单宽度时，大小会根据需要更改，但是表单现在不再位于屏幕中央。我可以在改变表格宽度的同时来回移动表格的 XY 位置吗？

```
procedure TReportFrm.SpecialFilesComboBoxChange(Sender: TObject);
begin
  if(SpecialFilesComboBox.ItemIndex = 0) then begin
    //No special files
    Width := 412;
    Height := 423;
    ...
  end
  else begin
    //Yes special files
    Width := 893;
    Height := 423;
    ...
  end;
end; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T07:39:54.187

多显示器系统现在很常见。放置在屏幕中央可能会将表单分散到多个显示器上。这是不可取的。

所以我会把表格放在它的显示器上：

```
R := Form.Monitor.WorkAreaRect;
Form.Left := (R.Left+R.Right-Form.Width) div 2;
Form.Top := (R.Top+R.Bottom-Form.Height) div 2; 
```

正如@bummi 指出的那样，您可以编写：

```
Form.Position := poScreenCenter; 
```

这几乎可以如您所愿。我将表格居中显示在屏幕上。但是，它总是选择默认监视器。因此，使用该代码可能会导致您的表单被移动到另一个我认为永远不可取的监视器上。

与其将表格强制到中心，您可以决定在所有方面扩大或缩小它：

```
procedure TReportFrm.SpecialFilesComboBoxChange(Sender: TObject);
var
  NewLeft, NewTop, NewWidth, NewHeight: Integer;
begin
  if(SpecialFilesComboBox.ItemIndex = 0) then begin
    //No special files
    NewWidth := 412;
    NewHeight := 423;
    ...
  end
  else begin
    //Yes special files
    NewWidth := 893;
    NewHeight := 423;
    ...
  end;

  NewLeft := Left + (Width-NewWidth) div 2;
  NewTop := Top + (Top-NewHeight) div 2;
  NewBoundsRect := Rect(NewLeft, NewTop, NewLeft+NewWidth, NewTop+NewHeight);
  BoundsRect := NewBoundsRect;
end; 
```

如果你想变得非常可爱，你可以调整边界矩形，这样新大小和定位的表格就不会超出显示器的边缘。

```
procedure MakeAppearOnScreen(var Rect: TRect);
const
  Padding = 24;
var
  Monitor: HMonitor;
  MonInfo: TMonitorInfo;
  Excess, Width, Height: Integer;
begin
  Monitor := MonitorFromPoint(Point((Rect.Left+Rect.Right) div 2, (Rect.Top+Rect.Bottom) div 2), MONITOR_DEFAULTTONEAREST);
  if Monitor=0 then begin
    exit;
  end;
  MonInfo.cbSize := SizeOf(MonInfo);
  if not GetMonitorInfo(Monitor, @MonInfo) then begin
    exit;
  end;
  Width := Rect.Right-Rect.Left;
  Height := Rect.Bottom-Rect.Top;

  Excess := Rect.Right+Padding-MonInfo.rcWork.Right;
  if Excess>0 then begin
    dec(Rect.Left, Excess);
  end;
  Excess := Rect.Bottom+Padding-MonInfo.rcWork.Bottom;
  if Excess>0 then begin
    dec(Rect.Top, Excess);
  end;
  Excess := MonInfo.rcWork.Left+Padding-Rect.Left;
  if Excess>0 then begin
    inc(Rect.Left, Excess);
  end;
  Excess := MonInfo.rcWork.Top+Padding-Rect.Top;
  if Excess>0 then begin
    inc(Rect.Top, Excess);
  end;
  Rect.Right := Rect.Left+Width;
  Rect.Bottom := Rect.Top+Height;
end; 
```

然后之前的代码示例将被更改如下：

```
NewBoundsRect := Rect(NewLeft, NewTop, NewLeft+NewWidth, NewTop+NewHeight);
MakeAppearOnScreen(NewBoundsRect);
BoundsRect := NewBoundsRect; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-07T06:47:24.907

一个非常简单的 ReCenter 函数可能如下所示：

```
procedure TReportFrm.ReCenter;
var
  LRect: TRect;
  X, Y: Integer;
begin
  LRect := Screen.WorkAreaRect;
  X := LRect.Left + (LRect.Right - LRect.Left - Width) div 2;
  Y := LRect.Top + (LRect.Bottom - LRect.Top - Height) div 2;
  SetBounds(X, Y, Width, Height);
end;

procedure TReportFrm.SpecialFilesComboBoxChange(Sender: TObject);
begin
  if(SpecialFilesComboBox.ItemIndex = 0) then begin
    //No special files
    Width := 412;
    Height := 423;
    ...
  end
  else begin
    //Yes special files
    Width := 893;
    Height := 423;
    ...
  end;
  ReCenter;
end; 
```

它将窗口以屏幕的 WorkArea 为中心，您可能希望将其以其他参考为中心，在这种情况下，由您决定有意义的矩形。

# php - Doctrine 1.2 模型的代理类

> ID：15264604
> 
> 赞同：0
> 
> 时间：2013-03-07T06:30:43.227
> 
> 标签：php, doctrine-1.2, proxy-classes

我正在编写一个应用程序，我将我的方法从我的应用程序路由到服务，然后到 Doctrine 模型。但是服务的服务器不允许包含一个以上的类。因此，我需要为我所有由学说生成的表模型编写一个代理类。我知道一个解决方案，我可以在代理类中定义所有类的每个方法，以便我可以在（服务的）服务器中包含该代理类并通过代理类调用我的方法。但我想这不是一个可行的方法。因为我的代理课程会变得很大。我需要一个解决方案，我的代理类中的方法较少。

我对每个班级的方法都很常见，例如

`fetch()`

`delete()`

`update()`

`insert()`

现在我通过附加类名来区分它们。

`Employee_fetch()`

`Student_fetch()`

有没有比这更好的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:09:49.357

原来问题是关于 SOAP Server 和[setClass()](http://www.php.net/manual/en/soapserver.setclass.php)方法的。

我建议为不同的课程设置不同的 URL。例如：

*   [http://example.com/service/classA](http://example.com/service/classA)
*   [http://example.com/service/classB](http://example.com/service/classB)
*   [http://example.com/service.php?class=classC](http://example.com/service.php?class=classC)

然后您可以根据 URL 或 GET 参数设置类。

请让我知道这种方法是否适合您。我只是好奇。

# javascript - 如何在 MVC 视图中调用自动点击事件？

> ID：15264611
> 
> 赞同：0
> 
> 时间：2013-03-07T06:31:28.763
> 
> 标签：javascript, asp.net-mvc-3, razor, asp.net-mvc-views

我有 MVC 应用程序。有一个视图包含一些属性和评论链接。当用户点击评论链接时，评论 div 会展开，所有评论都会显示给用户。现在我想自动化该功能，或者我可以说想跳过该点击过程，当用户看到该视图时，所有评论都应该出现。（无需点击链接，所有评论都应显示）

怎么做 ？

查看代码

```
 @model PaymentAdviceEntity.Employee

            @{
                ViewBag.Title = "Edit";
            }

            <h2>Edit</h2>

            <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
            <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

            @using (Html.BeginForm()) {
                @Html.ValidationSummary(true)
                   <div class="row-fluid">

                <fieldset>

                    @Html.HiddenFor(model => model.Id)

                    <div class="editor-label span3">
                        @Html.LabelFor(model => model.FirstName,"First Name")
                    </div>
                    <div class="editor-field span3 InputBoxMargin">
                        @Html.EditorFor(model => model.FirstName)
                        @Html.ValidationMessageFor(model => model.FirstName)
                    </div>

                          <div class="editor-label span3">
                          @Html.LabelFor(model => model.LastName,"Last Name")
                          </div>
                          <div class="editor-field span3 InputBoxMargin">
                          @Html.EditorFor(model => model.LastName)
                          @Html.ValidationMessageFor(model => model.LastName)
                          </div>
                       </div>
               </div>
            </div>
                     </fieldset>
            </div>

                     <div>
                      <p>
                        <input type="submit" value="Save" />
                    </p>
                 </div>

<div>

     <span>@Ajax.ActionLink("Comments", null, null, null, new { id = Model.Id, @class = "addremark" })</span>

        <div class="RemarkBox"></div>
        <span class="CommentAdd"></span>

</div>

            }

    $(document).ready(function () {
    //$('.RemarkBox').hide();
    $('a.addremark').click(function (event) {
    ar url = "@Html.Raw(Url.Action("ShowCommentBox", "Comment", new { Id = "idValue", EntityType = "Employee" }))";
     url = url.replace("idValue", event.target.id);
     $('.RemarkBox').load(url);
     $(this).closest('div').find('div.RemarkBox').slideToggle();
     return false;
     });  
     }); 
       </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:39:54.100

尝试这样的事情，主要部分是您需要在文档中调用 click 函数。

```
$(document).ready(function () {
    $('a.addremark').click(addremarkClick);

    // Call on load also
    addremarkClick();
});

function addremarkClick(event) {
    var url = '@Html.Raw(Url.Action("ShowCommentBox", "Comment", new { Id = "idValue", EntityType = "Employee" }))';

    if (typeof event !== 'undefined') url = url.replace("idValue", event.target.id);
    else url = url.replace("idValue", $('a.addremark')[0].id);

    $('.RemarkBox').load(url);
    $(this).closest('div').find('div.RemarkBox').slideToggle();
    return false;
} 
```

# c - C - 声明一个未定义值的数组

> ID：15264613
> 
> 赞同：0
> 
> 时间：2013-03-07T06:31:34.907
> 
> 标签：c

我试图通过让用户在提示后输入数组的大小来确定数组的大小（因为我不知道每次测试我会有多少成绩）......

它似乎不喜欢那里的线`scanf ("%c",&grades[i]);`

这是整个功能：

```
#include <stdio.h>

 int main (void)
{
int numGrades;
char grades;
char i;
int x;

printf ("Enter The Amount Of Numbers In Your Array: ");
scanf("%i", &numGrades);/*Stores Amount Of Grades In The Array*/

for (x = 0; x < numGrades; ++x)
  {
  printf ("\nEnter the grade: ");
  scanf ("%c",&grades[i]);
  }

return 0; 
} 
```

如何将数组大小作为参数传递，以便我可以接受任何大小的数组？（我将添加一个函数，将所有成绩按字母组合在一起）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:34:43.990

你有两个选择：

1.  如果您的编译器支持 C99 可变长度数组，您可以在获得大小后声明该数组：

    ```
    scanf("%i", &numGrades);
    char grades[numGrades]; 
    ```

2.  如果不是，那么您必须在堆上动态分配数组：

    ```
    scanf("%i", &numGrades);
    char *grades = malloc(numGrades * (sizeof *grades)); 
    ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T06:33:05.737

您声明`grades`为单个`char`，而不是数组。在您阅读后将声明移至`numGrades`VLA 并使其成为 VLA，如下所示：

```
char grades[numGrades]; 
```

或者使用动态分配：

```
char *grades = malloc(numGrades); 
```

如果您选择后者，请不要忘记`free()`它。

# xml - 使用 xpath 对包含默认命名空间的子节点进行 XML 解析

> ID：15264615
> 
> 赞同：0
> 
> 时间：2013-03-07T06:31:40.713
> 
> 标签：xml, xpath, namespaces

我需要访问包含默认命名空间的子节点用于访问包含命名空间的根节点 IFX 正在使用

```
//ns:IFX/ns:BankSvcRs/ns:RqUID 
```

但现在我需要访问 `<severity>`and`<SPName>`和`<CardEmbossNum>`

```
<IFX xmlns="http://www.ifxforum.org/IFX_150">

    <BankSvcRs>
        <RqUID>124566665222</RqUID>
        <com.bac:CardAddRs xmlns:com.bac="http://www.fnf.com/xes/bac">
            <Status>
                <Severity>Info</Severity>

            </Status>
            <RqUID>124566665222</RqUID>
            <com.fnf:CardId xmlns:com.fnf="http://www.fnf.com/xes">
                <CustId>
                    <SPName>com.fnf.xes.BOSS</SPName>
                     <CardLogicalData>
                        <CardEmbossNum/>
                        <Name>SpiderMAN</Name>
                    </CardLogicalData>
                </CustId>
            </com.fnf:CardId>
            <com.bac:CardInfo>
                <com.bac:CardAssociation/>
            </com.bac:CardInfo>
            <com.fnf:CardRec xmlns:com.fnf="http://www.fnf.com/xes">
                <com.fnf:CardId>
                    <CustId>
                        <SPName/>
                        <CardLogicalData>
                            <CardEmbossNum>00000000000000000</CardEmbossNum>
                        </CardLogicalData>
                    </CustId>
                </com.fnf:CardId>
                <com.fnf:CardStatus>
                    <StatusCode>0</StatusCode>
                    <StatusDesc>Fail</StatusDesc>
                </com.fnf:CardStatus>
            </com.fnf:CardRec>
        </com.bac:CardAddRs>
    </BankSvcRs>
</IFX> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:42:36.003

您需要在您使用的任何 API 中声明必要的命名空间，然后使用以下内容：

```
/ns:IFX/ns:BankSvcRs/com.fnf:CardId/ns:Status/ns:Severity 
```

或者你可以这样做：

```
/ns:IFX/ns:BankSvcRs/*/ns:Status/ns:Severity 
```

或者，如果您真的想：

```
/ns:IFX/ns:BankSvcRs/*[local-name() = 'CardAddRs']/ns:Status/ns:Severity 
```

尽管就个人而言，我认为将 using`local-name()`作为一种正确使用命名空间的方法并不是一个好习惯。

您还没有向我们展示您使用此 XPath 的代码，所以在没有更多信息的情况下，我可以提供尽可能多的帮助。

# pdf - 无法从pdf复制特殊字符

> ID：15264616
> 
> 赞同：1
> 
> 时间：2013-03-07T06:31:44.267
> 
> 标签：pdf, ubuntu, text, copy

我只需要从 pdf 文件中复制一些包含特殊字符的文本，但是像**dash(-)** get 之类的特殊字符会转换为**2**。

来自以下链接的 PFA

```
http://www.fileconvoy.com/dfl.php?id=g6a3426746a10af3b9992384375c5923396bce3660 
```

附件有 pdf 源文件，我必须从中复制数据，其他是屏幕截图。需要紧急帮助。我也尝试使用 Google Docs 和 Adob​​e Pro 从 pdf 复制数据，但我每次都得到类似的结果。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T13:55:17.683

*简而言之：*

PDF 中的所有信息都表明，您在 PDF 中以破折号形式看到的字形实际上确实代表了*2*。因此，要以不同方式解释这些字形，您必须从根本上更改 PDF 中字体中该字符的值到 unicode 映射，或者求助于光学字符识别。

*详细地：*

让我们查看您的 PDF pg_0001.pdf 内容流中您标记的单词的那部分

![ved的截图](../Images/8bd7e3c9b83e4a4b03287c542542d0ad.png)

被创建：

```
0 -1.1065 TD
[(Fibroblast)-241.2(growth)-234.1(factor-21)-237.3(\(FGF-21\))-242.3(activity)-233.9(in)-237(High-fat)-237.9(diet)-234.9(\(HFD\))-238.3(fed)-234(ApoE)]TJ
/F6 1 Tf
6.7246 0 0 5.9768 357.3354 542.4944 Tm
(2)Tj
/F4 1 Tf
.8346 0 TD
(/)Tj
/F6 1 Tf
.3372 0 TD
(2)Tj
/F4 1 Tf
8.9663 0 0 8.9663 372.9826 538.5259 Tm
[(mice)-235.6(with)-233.5(adiponectin)-240.8(\(Acrp30\))-237.6(knockdown.)]TJ 
```

您在这里的特殊字符确实每个都由字体**/F6**中的字符“2”（= 50 = 0x32）表示。

由于此处从字符串中的字符到实际打印的字形的映射可能非常随意，并且可能存在正确解释的提示，但是，我们应该查看该页面上该字体**/F6**的定义：

```
<<
  /FirstChar 44
  /ToUnicode 21 0 R
  /Encoding 22 0 R
  /FontDescriptor 23 0 R
  /BaseFont /KAHBDA+AdvP7DA6
  /Subtype /Type1
  /LastChar 50
  /Type /Font
  /Widths [833 0 0 0 0 0 833]
>> 
```

因此，您的字体通过**/ToUnicode**映射得到增强，文本提取程序应使用该映射来解释内容流中的字符。让我们看一下该映射：

```
/CIDInit /ProcSet findresource begin 12 dict begin begincmap /CIDSystemInfo <<
/Registry (F6+0) /Ordering (T1UV) /Supplement 0 >> def
/CMapName /F6+0 def
/CMapType 2 def
1 begincodespacerange <2c> <32> endcodespacerange
2 beginbfchar
<2c> <002C>
<32> <0032>
endbfchar
endcmap CMapName currentdict /CMap defineresource pop end end 
```

因此这里的 '2' = 0x32 映射到 <0032> 表示 Unicode 代码 0x0032，它又是 '2'。

如果**/ToUnicode**映射不存在，文本提取程序可能会使用PDF 对象 22 0 中的**/Encoding定义。但这里又是：**

```
22 0 obj 
<<
  /Type /Encoding
  /Differences [44 /comma 50 /two]
>> 
```

这里 '2' = 50 映射到名为**/two**的字形，这再次使该字形成为*two*。

因此，除了字形绘图定义本身（理论上可以通过 OCR'ing 检查）之外，您的 PDF 中的所有信息都表明破折号字形确实是*两个*.

要使文本提取程序更符合您的喜好解释该字形，您应该将 <32> 的**/ToUnicode**映射替换为例如 <002D>。不幸的是，映射是编码的（使用过滤器**/FlateDecode**），因此这不是简单的十六进制编辑器工作，而是需要解码等......

# java - 如何扩展 JTextField 以生成对焦点增益的定义响应

> ID：15264620
> 
> 赞同：2
> 
> 时间：2013-03-07T06:31:55.833
> 
> 标签：java, swing, focus, jtextfield

我怀疑这是一个非常微不足道的问题。我希望创建一个扩展 JTextField 的组件 MyTextField；组件应通过更改颜色来响应获得焦点，并通过更改为两种颜色中的一种来响应失去焦点，具体取决于条目是否有效。怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T06:36:23.973

你可以让你的`MyTextField`类扩展`JTextField`和实现`FocusListener`

**选项1**

```
public class MyTextField extends JTextField implements FocusListener  {
    public MyTextField (){
        addFocusListener(this);
    }

    @Override
    public void focusGained(FocusEvent event) {

    }

    @Override
    public void focusLost(FocusEvent event) {

    }
} 
```

**选项#2**

```
public class MyTextField extends JTextField {
public MyTextField (){
    addFocusListener(new FocusListener() {
            @Override
            public void focusLost(FocusEvent arg0) {
            }

            @Override
            public void focusGained(FocusEvent arg0) {
            }
        });
}
} 
```

# php - 无法使用 php mysql json 在谷歌地图上设置标记

> ID：15264621
> 
> 赞同：0
> 
> 时间：2013-03-07T06:31:56.830
> 
> 标签：php, mysql, json, maps

我正在尝试使用 php 和 mysql 在 Windows 地图上动态放置标记。我来自 db 的数据是 json 格式，并且 php 工作正常。

它是 get_locations。php 并给出如下输出：

```
[{
    "id": "5",
    "0": "5",
    "name": "Pan Africa Market",
    "1": "Pan Africa Market",
    "address": "1521 1st Ave, Seattle, WA",
    "2": "1521 1st Ave, Seattle, WA",
    "lat": "18.563574",
    "3": "18.563574",
    "lng": "73.801155",
    "4": "73.801155",
    "type": "toilet",
    "5": "toilet"
}, {
    "id": "6",
    "0": "6",
    "name": "Buddha Thai & Bar",
    "1": "Buddha Thai & Bar",
    "address": "2222 2nd Ave, Seattle, WA",
    "2": "2222 2nd Ave, Seattle, WA",
    "lat": "19.865541",
    "3": "19.865541",
    "lng": "75.346642",
    "4": "75.346642",
    "type": "toilet",
    "5": "toilet"
}, {
    "id": "7",
    "0": "7",
    "name": "The Melting Pot",
    "1": "The Melting Pot",
    "address": "14 Mercer St, Seattle, WA",
    "2": "14 Mercer St, Seattle, WA",
    "lat": "18.574535",
    "3": "18.574535",
    "lng": "73.802521",
    "4": "73.802521",
    "type": "toilet",
    "5": "toilet"
}] 
```

但是具有 ajax 和 js 的 map.html 不能正常工作。

在控制台上，没有任何内容显示为错误。所以我无法弄清问题所在。

你们中的任何人都可以看看吗？

下面是我的map.html

```
 <!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Google Maps Example</title>
        <style type="text/css">
            body { font: normal 14px Verdana; }
            h1 { font-size: 24px; }
            h2 { font-size: 18px; }
            #sidebar { float: right; width: 30%; }
            #main { padding-right: 15px; }
            .infoWindow { width: 220px; }
        </style>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
        <script type="text/javascript">
        //<![CDATA[

        var map;

        // Ban Jelacic Square - Center of Zagreb, Croatia
        var center = new google.maps.LatLng(18.520510, 73.856733);

        function init() {

    var mapOptions = {
      zoom: 13,
      center: center,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }

    map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

    makeRequest('get_locations.php', function(data) {

        var data = JSON.parse(data.responseText);

        for (var i = 0; i < data.length; i++) {
            displayLocation(data[i]);
        }
    });
}

    function displayLocation(location) {
//alert ("inside disp loc");
    var content =   '<div class="infoWindow"><strong>'  + location.name + '</strong>'
                    + '<br/>'     + location.address
                    + '<br/>'     + location.description + '</div>';

    if (parseInt(location.lat) == 0) {
        geocoder.geocode( { 'address': location.address }, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {

                var marker = new google.maps.Marker({
                    map: map,
                    position: results[0].geometry.location,
                    title: location.name
                });

                google.maps.event.addListener(marker, 'click', function() {
                    infowindow.setContent(content);
                    infowindow.open(map,marker);
                });
            }
        });
    } else {
    alert("lat is "+location.lat)
        var position = new google.maps.LatLng(parseFloat(location.lat), parseFloat(location.lon));
        var icon= 'http://labs.google.com/ridefinder/images/mm_20_blue.png';
          var html = "<b>" + location.name + "</b> <br/>";
         var infoWindow = new google.maps.InfoWindow;
        var marker = new google.maps.Marker({
            map: map,
            position: position,
            title: location.name,
            icon: icon

        });
        bindInfoWindow(marker, map, infoWindow, html);
//alert("marker created");
//        google.maps.event.addListener(marker, 'click', function() {
//            infowindow.setContent(content);
//            infowindow.open(map,marker);
//        });
       // alert("marker addd listener added");
    }
}

 function makeRequest(url, callback) {
      var request = window.ActiveXObject ?
          new ActiveXObject('Microsoft.XMLHTTP') :
          new XMLHttpRequest;

      request.onreadystatechange = function() {
        if (request.readyState == 4) {
          request.onreadystatechange = doNothing;
          callback(request, request.status);
        }
      };

      request.open('GET', url, true);
      request.send(null);
    }

    function doNothing() {}
    function bindInfoWindow(marker, map, infoWindow, html) {
          google.maps.event.addListener(marker, 'click', function() {
            infoWindow.setContent(html);
            infoWindow.open(map, marker);
          });
        }

        //]]>
        </script>
    </head>
    <body onload="init();">

        <h1>Places to check out in Zagreb</h1>

        <section id="sidebar">
            <div id="directions_panel"></div>
        </section>

        <section id="main">
            <div id="map_canvas" style="width: 70%; height: 500px;"></div>
        </section>

    </body>
</html> 
```

请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T14:32:25.963

根据您的 JSON 文件，它应该是 location.lng 而不是 location.lon。我试过这样修复，现在可以了。

# c++ - 无法从 gethostname 访问 IP 地址的内存

> ID：15264622
> 
> 赞同：0
> 
> 时间：2013-03-07T06:32:03.727
> 
> 标签：c++, winapi, network-programming, gethostbyname

我正在开发一个后效插件，我正在尝试集成 raknet，它是一个 c++ 网络库。当 raknet 库试图通过调用获取 ipv4 地址时

```
gethostbyname 
```

然后它抛出错误访问冲突读取位置 0xFFFFFFFFFFFFFFFF

```
int idx=0;
char ac[ 80 ];
int err = gethostname( ac, sizeof( ac ) );
(void) err;
RakAssert(err != -1);

struct hostent *phe = gethostbyname( ac );

if ( phe == 0 )
{
RakAssert(phe!=0);
return ;
}
for ( idx = 0; idx < MAXIMUM_NUMBER_OF_INTERNAL_IDS; ++idx )
{
if (phe->h_addr_list[ idx ] == 0)
    break;

memcpy(&addresses[idx].address.addr4.sin_addr,phe->h_addr_list[ idx ], sizeof(struct in_addr));
}

while (idx < MAXIMUM_NUMBER_OF_INTERNAL_IDS)
{
addresses[idx]=UNASSIGNED_SYSTEM_ADDRESS;
idx++;
} 
```

这是我看到的一些图片。

[http://jacobsgriffith.com/stackoverflow/noaccesserror.png](http://jacobsgriffith.com/stackoverflow/noaccesserror.png)

我读过这个，看起来图书馆没有错误地实现它。 [关于 gethostbyname 的 Microsoft 文档](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738524%28v=vs.85%29.aspx)

当我将鼠标悬停在 h_addr_list 和 h_aliases 上时，我得到 .

[http://jacobsgriffith.com/stackoverflow/noaccess.jpg](http://jacobsgriffith.com/stackoverflow/noaccess.jpg)

有人有什么想法吗？为什么会失败我很确定这是一个常见的功能。

另一件事，winsock 和 winsock2 的 gethostbyname 函数的实现有什么区别吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:05:13.103

我很惊讶 Windows 实现不是线程安全的，并且对每个主机都使用线程本地存储。但无论如何...

只需使用[getaddrinfo](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738520%28v=vs.85%29.aspx)来解析主机名。它是线程安全的，旨在替代 gethostname。

但您的最终目标是枚举盒子上的本地 IP 地址。在这种情况下，只需在 UNIX 上使用[getifaddrs并在 Windows 上](http://linux.die.net/man/3/getifaddrs)[使用 GetAdaptersInfo 和 GetAdatperAddresses](https://stackoverflow.com/a/3070258/104458)的组合来枚举本地 IP 地址。您还可以在 Windows[上将 SIO_ADDRESS_LIST_QUERY ioctl](http://msdn.microsoft.com/en-us/library/windows/desktop/dd877219%28v=vs.85%29.aspx)与虚拟套接字一起使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:39:24.630

这是我想出的解决方案。显然 gethostname 不是线程安全的。After Effects 是多线程的。

我换了这个

```
int idx=0;
char ac[ 80 ];
int err = gethostname( ac, sizeof( ac ) );
(void) err;
RakAssert(err != -1);

struct hostent *phe = gethostbyname( ac );

if ( phe == 0 )
{
    RakAssert(phe!=0);
    return ;
}
for ( idx = 0; idx < MAXIMUM_NUMBER_OF_INTERNAL_IDS; ++idx )
{
    if (phe->h_addr_list[ idx ] == 0)
        break;

    memcpy(&addresses[idx].address.addr4.sin_addr,phe->h_addr_list[ idx ],sizeof(struct in_addr));
}

while (idx < MAXIMUM_NUMBER_OF_INTERNAL_IDS)
{
    addresses[idx]=UNASSIGNED_SYSTEM_ADDRESS;
    idx++;
} 
```

有了这个

```
int idx=0;
struct addrinfo* feed_server = NULL;
struct addrinfo hints;
memset(&hints, 0, sizeof(struct addrinfo));
hints.ai_family = AF_INET;
getaddrinfo("localhost", NULL, &hints, &feed_server);
struct addrinfo *res;
for(res = feed_server; res != NULL; res = res->ai_next) {
    struct sockaddr_in* saddr = (struct sockaddr_in*)res->ai_addr;
    //char* ipv4Str = inet_ntoa(saddr->sin_addr);
    memcpy(&addresses[idx].address.addr4.sin_addr, &saddr->sin_addr, sizeof(struct in_addr));
    idx++;
} 
while (idx < MAXIMUM_NUMBER_OF_INTERNAL_IDS) {
    addresses[idx]=UNASSIGNED_SYSTEM_ADDRESS;
    idx++;
} 
```

这就是我走那条路的原因。有人反对吗？

[gethostname 不是线程安全的](http://lists.freebsd.org/pipermail/freebsd-threads/2004-February/001645.html)

# c# - Alpha Blending 在 2 台 PC 上的工作方式不同

> ID：15264626
> 
> 赞同：1
> 
> 时间：2013-03-07T06:32:31.010
> 
> 标签：c#, xna, directx, textures, alphablending

我目前正在 XNA 中开发一个小型窗户清洁游戏，在其中我在任何随机图像上方绘制一层污垢（具有不同 alpha 的 2d 纹理）。玩家清洁窗户的效果越好，污垢层应该越透明。

代码看起来像：

```
ScreenManager.SpriteBatch.Begin(SpriteSortMode.BackToFront, BlendState.NonPremultiplied);
// draw the dirt
ScreenManager.SpriteBatch.Draw(_currentDirt, ScreenManager.GameRectangle, Color.White);
// draw the image                
ScreenManager.SpriteBatch.Draw(_currentImage, ScreenManager.GameRectangle, Color.White);        
ScreenManager.SpriteBatch.End(); 
```

在一台 PC（配备 NVIDIA Quadro 1000M 显卡）上，alpha 混合就像一个魅力，效果如预期。在第二台 PC（配备 AMD Radeon HD 7730M）上执行完全相同的代码无法显示污垢层。
我还在第三台 PC（配备 ATI Mobility Radeon HD 2600）上测试了代码。在这里，效果再次按预期工作。

我认为第二台 PC 上的显卡是造成问题的原因，但老实说我不确定。您是否知道我应该或可以如何更改代码以在两台机器上运行，或者这里出了什么问题？

非常感谢您的帮助。

最好的问候，
托马斯

更新：
其中一台 alpha 混合工作的 PC 上的游戏截图：![示例工作](../Images/777ace69c9ccc5b3ea800c11697c860e.png)

PC 上 alpha 混合不起作用的游戏截图：![示例不工作](../Images/1354d47f242b23855b2e0a0c7de02495.png)

更新2：
图片随机选择，不影响效果。

在`LoadContent`我做类似的事情：

```
// load the image
Texture2D _currentImage = new Sprite(ScreenManager.Content.Load<Texture2D>("anyImage"));

// create the dirt texture
int _nrPixelsDirt = ScreenManager.GameRectangle.Height * ScreenManager.GameRectangle.Width;      
Color[] _currentDirtColor = new Color[_nrPixelsDirt];

for (int i = 0; i < _currentDirtColor.Length; i++)
{
    _currentDirtColor[i] = new Color(Color.Gray.R, Color.Gray.G, Color.Gray.B, 255);
}  

Texture2D _currentDirt = new Texture2D(ScreenManager.GraphicsDevice, ScreenManager.GameRectangle.Width, 
ScreenManager.GameRectangle.Height, false, SurfaceFormat.Color);

// set the data
_currentDirt.SetData(_currentDirtColor); 
```

在`Update`我逐渐减小`_currentDirtColor`（钳制为零）中适当位置的 alpha 值，然后我再次设置数据：

```
_currentDirt.SetData(_currentDirtColor); 
```

中的代码`Draw`如下所示：

```
ScreenManager.SpriteBatch.Begin(SpriteSortMode.BackToFront, BlendState.NonPremultiplied);
// draw the dirt
ScreenManager.SpriteBatch.Draw(_currentDirt, ScreenManager.GameRectangle, Color.White);
// draw the image                
ScreenManager.SpriteBatch.Draw(_currentImage, ScreenManager.GameRectangle, Color.White);        
ScreenManager.SpriteBatch.End(); 
```

我已经尝试了不同的值`SpritSoreMode`：`SpriteSortMode.BackToFront`并`SpriteSortMode.FrontToBack`在不同的机器上产生相同的结果，`SpriteSortMode.Deferred`在三台机器中的任何一台上都不起作用。

# html - 集成 HTML 和 Web 浏览器 OLE 控件得到一个空白页面

> ID：15264629
> 
> 赞同：0
> 
> 时间：2013-03-07T06:32:46.017
> 
> 标签：html, browser, ole, foxpro, visual-foxpro

将 HTML 集成到我的 VFP 应用程序时遇到问题。我附上了模拟表格：[http ://www.foxite.com/uploads/879e1e57-8b72-4ac8-9453-c8839f2d051e.zip](http://www.foxite.com/uploads/879e1e57-8b72-4ac8-9453-c8839f2d051e.zip)

我的应用通过单击按钮将 HTML 加载到 Web 浏览器控件中。第一次点击就OK了。但在第二次点击时，它变成了空白，结果只有`<HTML></HTML>`.

我试图添加`THISFORM.htmViewer.Refresh`. 好像没问题，但是反复点击几次，有时也会出现空白。

在我的真实应用程序中，没有`Refresh()`.
使用`Refresh()`，它在第三次单击时变为空白，并且第二次单击无法正常工作，附加了 HTML 而不是覆盖第一次单击时加载的 HTML。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:06:15.627

我刚刚找到了解决方法。问题在于以下两行：

```
THISFORM.htmlviewer.navigate('about:blank')
THISFORM.htmlviewer.Document.Write(m.lcHTML) 
```

取而代之的是，我将输出 HTML 写入临时文件，然后将其加载到浏览器中。它工作得很好。

```
lcTempFile = 'path\to\file\content_rendered.html'
STRTOFILE(m.lcHTML, lcTempFile)
THISFORM.htmlviewer.navigate(lcTempFile) 
```

任何更好的修复将不胜感激。

# javascript - jQuery/JavaScript：检测滚动方向 - 代码结构问题

> ID：15264632
> 
> 赞同：12
> 
> 时间：2013-03-07T06:33:07.047
> 
> 标签：javascript, jquery, scroll, return, code-structure

我需要检测用户滚动的方向——“向上”或“向下”。基于此答案中找到的代码：[如何确定 jQuery 滚动事件的方向？](https://stackoverflow.com/questions/4326845/how-can-i-determine-the-direction-of-a-jquery-scroll-event)

我试图将它包装在一个函数中，这样它就更有区别了——但不幸的是，它不起作用。我认为这与我如何返回值有关，但方向始终是“向上”。作为 JavaScript 的新手，我在解决这个问题时遇到了问题。

这是代码：

```
$(document).ready(function () {

    'use strict';

    var lastScrollTop = 0,
        st,
        direction;

    function detectDirection() {

        st = window.pageYOffset;

        if (st > lastScrollTop) {
            direction = "down";
        } else {
            direction = "up";
        }

        lastScrollTop = st;

        return  direction;

    }

    $(window).bind('scroll', function() {

        detectDirection();
        console.log(detectDirection());

    });

}); 
```

而且我还设置了一个[Fiddle](http://jsfiddle.net/qgWLJ/)。

你能帮我找出问题所在吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T06:47:15.990

```
$(window).bind('scroll', function() {

    var dir = detectDirection();
    console.log(dir);

}); 
```

您在每个滚动事件期间调用`detectDirection()`了两次。第一个检测到正确的方向，但第二个只是在同一个地方看到它，所以它返回“向上”，这就是您记录的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T06:53:37.340

看看你得到了什么：

```
if (st > lastScrollTop) {
    direction = "down";
} else if (st < lastScrollTop ){
    direction = "up";
} else {
    direction = "static";
} 
```

除了 Barmar 所说的之外，您还可以去掉控制台输出上方的行（调用）并保留：

```
console.log(detectDirection()); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-03-17T15:22:00.310

由于我们从不更新 lastScrollTop，因此代码将无法正常工作，这是工作代码...

```
$(function(config){
    var lastScrollTop = 0, // setting initial scrolltop as top of page
        direction; // direction of scroll 1)up -1)down 0)static

    function detectDirection() {
        // current scrollTop can't be cached or in the local global scope
        var st = window.pageYOffset;

        if (st > lastScrollTop) {
            // scrolling down
            direction = -1;
        } else if (st < lastScrollTop ){
            // scrolling up
            direction = 1;
        } else {
            // static
            direction = 0;
        }

        // updated lastscrolltop with new current top
        lastScrollTop = st;

        // return the direction
        return direction;
    }` 
```

我使用 0 作为静态/ 1 作为向上滚动/ -1 作为向下滚动

希望对某人有所帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-12-18T18:18:49.363

我提供了一个新的答案，因为虽然 BarMar 的答案解决了您的直接问题，但该解决方案并不能帮助您以使您能够做两件事的方式构建代码。

1.  更广泛地作用于滚动对象，允许您在其他地方访问它的属性。如果滚动位置是某个值，这将允许您执行某些操作。

2.  提高滚动的性能。

    ```
    // Your current functionality
    $(document).ready(function() {
      var scroll = {
        down: true,
        pos: 0
      };
      var scrollPos;

      var detectDirection = function() {
        scrollPos = window.pageYOffset;

        if (scrollPos > scroll.pos) {
          scroll.down = true;
        } else {
          scroll.down = false;
        }

        scroll.pos = scrollPos;
      };

      $(window).on('optimizedScroll', function() {
        detectDirection();

        // Do something based on scroll direction
        if (scroll.down == true) {
          // fooFunction();
        } else {
          // barFunction();
        }

        // Do something based on scroll position,
        // where scrollTrigger is a number
        if (scroll.pos > scrollTrigger) {
          // bazFunction();
        }
      });
    });

    // Improve scroll performance
    (function() {
        var throttle = function(type, name, obj) {
          var obj = obj || window;
          var running = false;
          var func = function() {
            if (running) {
              return;
            }
            running = true;
            requestAnimationFrame(function() {
            obj.dispatchEvent(new CustomEvent(name));
              running = false;
            });
          };
          obj.addEventListener(type, func);
        };

        throttle('scroll', 'optimizedScroll');
    })(); 
    ```

[根据jQuery .bind() 文档](http://api.jquery.com/bind/)，您应该使用 .on()，而不是使用 .bind() 。

用于提高滚动性能的[立即调用函数表达式 (IIFE)](https://developer.mozilla.org/en-US/docs/Glossary/IIFE)来自[MDN 文档中的滚动事件](https://developer.mozilla.org/en-US/docs/Web/Events/scroll)。

# ruby - 与一些“Bignum”属性混淆

> ID：15264633
> 
> 赞同：1
> 
> 时间：2013-03-07T06:33:09.230
> 
> 标签：ruby

来自文档[Bignum](http://ruby-doc.org/core-1.9.3/Bignum.html#method-i-coerce)

我发现以下属性：

> “虽然`Fixnum`值是直接的，但`Bignum`对象不是——赋值和参数传递使用对对象的引用，而不是对象本身。”

*实际上据我所知，我们传递的是对对象的引用，而不是实际的对象。但在这里我无法跟随味道。*

> “当涉及`Bignum`对象的计算返回适合 a`Fixnum`的结果时，结果将自动转换。”

*在`C`我发现了一些规则，比如自动转换。但是同样适用于这里还是这里专门为 Ruby 定义的其他规则？*

> “为了`bitwise`操作 和的目的`[]`，Bignum 被视为`bitstring`具有 2 的补码表示的无限长度。”

*为什么`Bignum`只有，没有`Fixnum`或任何其他？*

任何人都可以通过一些小代码示例帮助我详细理解这个主题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:55:01.327

[Fixnum](http://ruby-doc.org/core-2.0/Fixnum.html)是已经实例化的不可变对象。你只需要使用它们。根据文档：

> Fixnum 对象具有直接的价值。这意味着当它们被分配或作为参数传递时，传递的是实际对象，而不是对该对象的引用。赋值不对 Fixnum 对象起别名。对于任何给定的整数值，实际上只有一个 Fixnum 对象实例，因此，例如，您不能将单例方法添加到 Fixnum。

另一方面，Bignum 是普通对象。您需要实例化它们，使用它们的参考等。

这意味着当您执行 x = 5 时，对象已经创建。您可以检查原语的 object_id，例如 false 或 0、1、2、... 都有不同，但始终相同。

```
> 1.object_id
 => 3
> x = 1
 => 1
> x.object_id
 => 3 
```

关于该主题的两篇好文章：

*   [http://www.sarahmei.com/blog/2009/04/21/object-ids-and-fixnums/](http://www.sarahmei.com/blog/2009/04/21/object-ids-and-fixnums/)
*   [http://www.rubyfleebie.com/understanding-fixnums/](http://www.rubyfleebie.com/understanding-fixnums/)

对于到Fixnum的转换，当检测到结果在Fixnum覆盖的域时，会触发显式转换。例如，对于子两个整数，当[返回值](https://github.com/ruby/ruby/blob/trunk/bignum.c#L1858)时，它会在必要时调用方法 bignorm 进行转换（请参阅[上面的注释](https://github.com/ruby/ruby/blob/trunk/bignum.c#L1852)）

```
> a = 10000000000
 => 10000000000 
> a.class
 => Bignum 
> b = a / 10
 => 1000000000 
> b.class
 => Fixnum 
```

对于您的最后一个问题，它与 2 的补码表示有关。有几篇关于此的文章，例如[Python 的一篇](http://wiki.python.org/moin/BitwiseOperators)或[关于按位运算的维基百科页面](http://en.wikipedia.org/wiki/Bitwise_operation)。事实上，对于 Fixnum，按位运算是由您的处理器直接操作的，并且它的操作方式相同。

# ios - 按下主页按钮后返回相同的视图

> ID：15264634
> 
> 赞同：1
> 
> 时间：2013-03-07T06:33:14.583
> 
> 标签：ios, objective-c, xcode

当我在 someViewController 中时，我按下 iPhone 主页按钮，它会将我带到 iPhone 主屏幕。然后我通过点击它的图标重新进入我的应用程序。它没有把我带到我离开的地方。相反，它会将我带到 homeViewController，这是我的应用程序的第一个视图。

如何使用户返回到他们离开的视图，而不是初始视图控制器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T10:35:31.423

转到 Xcode 项目中的“信息”并检查支持的界面方向。如果它的应用程序没有在后台运行是YES，那么就NO。然后它会将您带到您离开的地方的同一个控制器。看看下面的屏幕截图

![在此处输入图像描述](../Images/09ec5748638b5e5be460c4dcb4e3de34.png)

# c++ - 将 unsigned int 分配给结构中的数组枚举时出现编译错误

> ID：15264635
> 
> 赞同：0
> 
> 时间：2013-03-07T06:33:16.617
> 
> 标签：c++, casting, enums

```
typedef struct {
uint64_t low;
uint64_t cache_size;
uint32_t range;
uint8_t cache;

/// Number of symbols in the tables
size_t count;

/// rc_encode()'s position in the tables
size_t pos;

/// Symbols to encode
enum {
    RC_BIT_0,
    RC_BIT_1,
    RC_DIRECT_0,
    RC_DIRECT_1,
    RC_FLUSH,
} symbols[RC_SYMBOLS_MAX];

/// Probabilities associated with RC_BIT_0 or RC_BIT_1
probability *probs[RC_SYMBOLS_MAX];

} lzma_range_encoder; 
```

//上面是结构。

//下面是函数

```
static inline void
rc_bit(lzma_range_encoder *rc, probability *prob, uint32_t bit)
{
rc->symbols[rc->count] = bit;      // problem code line 69
rc->probs[rc->count] = prob;
++rc->count;
} 
```

//Error: error C2440: '=' : cannot convert from 'uint32_t' to 'lzma_range_encoder::' Conversion to enumeration type requires an explicit cast (static_cast, C-style cast or function-style cast)

'bit' 是 uint32_t，需要存储（类型转换）在 lzma_range_encoder->symbols 中，但我无法以某种方式做到这一点。尝试了每一个 p&c。此外，搜索了有关此的早期问题（static_cast 和所有但没有运气）

我猜这是一个简单的问题。但我被困住了两天。请帮忙。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:38:20.240

为枚举添加*名称：*

```
enum symbol_enum
{
    // ...
} symbols[RC_SYMBOLS_MAX]; 
```

然后你可以投射到它：

```
rc->symbols[rc->count] = static_cast<lzma_range_encoder::symbol_enum>(bit); 
```

PS。在 C++ 中，您不需要`typedef`用于结构或类。正常结构名称可以按原样使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:41:01.227

您可以在 C++11 中使用未命名枚举的以下内容。

```
enum {
    RC_BIT_0,
    RC_BIT_1,
    RC_DIRECT_0,
    RC_DIRECT_1,
    RC_FLUSH,
} symbols[RC_SYMBOLS_MAX];

rc->symbols[rc->count] = 
static_cast<std::decay<std::decltype(*symbols)>::type>(bit); 
```

# .net - 如何使用 Rhino Mocks 模拟对 HttpContext.Cache["MyKey"] 的调用？

> ID：15264644
> 
> 赞同：0
> 
> 时间：2013-03-07T06:34:02.880
> 
> 标签：.net, unit-testing, rhino-mocks, httpcontext, http-caching

**精简版：**

如何让 Rhino Mocks 模拟调用`HttpContext.Cache["MyKey"]`并返回预期数据？

**长版：**

我需要`HttpContext.Cache`用 Rhino Mocks 模拟一个返回值。我在`TestInitialize`（Visual Studio）单元测试的方法中使用了以下代码

```
// All these are fields on my Unit test class.
foo = new Foo();
mock = new MockRepository();
context = mocks.DynamickMock<HttpContextBase>();
var cache = context.Stub(x => x.Cache).Return(HttpRuntime.Cache); 
```

到目前为止，一切都很好。现在我尝试了以下两个：

```
cache.Stub(x => x["MyKey"]).Return(foo); 
```

和

```
context.Stub(x => x.Cache["MyKey"]).Return(foo); 
```

第一个甚至不会编译。Visual Studio 告诉我，我不能“*将 [] 索引应用于 'Rhino.Mocks.Interfaces.IMethodOptions' 类型的表达式*”。

第二个编译但我得到一个`NullReferenceException`. 我想这是因为我还没有打电话`mock.ReplayAll();`。当我在测试中（之前或之后`mock.ReplayAll()`）移动这条线时，我仍然得到一个`NullReferenceException`. 该异常没有任何内部异常。但是，当我将鼠标悬停在`Cache`of上时`x.Cache`，我收到以下错误消息作为值`x.Cache`：“ *'x.Cache' throw an exception of type`System.InvalidOperationException`* ”并且所述异常的消息是“*Previous method 'HttpContextBase.get_Cache() ;' 需要返回值或抛出异常。*”。

好吧，我想我明白为什么只要`mock.ReplayAll()`没有被调用就会发生这种情况，但我不知道为什么会在之后发生。

总而言之，我怎样才能让它发挥作用？如何让 Rhino Mocks 模拟调用`HttpContext.Cache["MyKey"]`并返回预期数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:50:47.347

好的，实际上没有必要存根它。调用后，`mocks.ReplayAll()`我只需要使用将我想要的任何内容插入缓存

```
_context.Cache.Insert("MyKey", foo); 
```

唯一的缺点是在测试的初始化方法中似乎没有办法使用这个。

# sql - 如何允许临时表接受空值

> ID：15264645
> 
> 赞同：10
> 
> 时间：2013-03-07T06:34:03.117
> 
> 标签：sql, null, sql-server-2008-r2, temp-tables

如果您在 SQL Server 中使用“插入”创建临时表，它会使用第一个插入来确定列是否接受空值。如果第一个插入具有空值，则该列可以为空，否则它将不可为空。

有没有办法使用“插入”来创建临时表来接受空值？

例子

这工作没有任何问题

```
Select 'one' as a , null as b
into #temp

insert into #temp
Select 'two' as a , 500 as b 
```

但是，这会引发“无法将值 NULL 插入到列‘b’中”

```
Select 'one' as a , 500 as b
into #temp

insert into #temp
Select 'two' as a , null as b 
```

我知道我可以做`create Table`或`alter column`声明，但我想在不重写数百个现有查询的情况下做到这一点。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-08-11T18:08:33.257

这个怎么样？

```
Select CONVERT(varchar(100), 'one') as a , CONVERT(int, 500) as b
into #temp

insert into #temp
Select 'two' as a , null as b

select * from #temp order by 1 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-08-13T10:59:57.757

我会通过在第一次插入之前显式创建临时表来解决这个问题。

```
create table #temp (a varchar(10) not null, b int null) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-11T20:58:51.327

这是一个老问题，但我有一个类似的问题，我将初始查询 UNION NULLs*可能*对 OP 有所帮助。

```
Select 'one' as a , 500 as b
into #temp
UNION
SELECT NULL, NULL

insert into #temp
Select 'two' as a , NULL as b 
```

把它放在这里，下次我需要这样做时忘记如何......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-08T14:18:07.450

（不）幸运的是，这个问题太受欢迎了，并且出现在 Sybase ASE 15.7 的顶部，所以只需在此处添加我对 Sybase 的答案。

对我来说，cast、convert 或 coalesce 都不起作用，但是 case 语句确实起作用了（这就是 coalesce，但是嗯……）

```
select
    a = case when 1 = 0 then null else 'one' end, 
    b = case when 1 = 0 null else 500 end 
into #temp 
```

# php - 使用 magento 开发主题

> ID：15264651
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:34:26.607
> 
> 标签：php, html, magento, magento-1.6

这是我第一次尝试磁电机主题设计。我有一个看起来像这样的 HTML 模板（包括 css 和图像）：

![我想创建并选择这样的magento主题][1]

我有这个主题的代码： HTML 代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="css/style.css">
<title>Plant Bulbs direct</title>
</head>
<body>
<div class="main_div">
<div class="inner_div">
<div class="header">
<div class="logo"><a href="#"><img src="images/logo.jpg" alt="" /></a></div>
<div class="logo_left">
<div class="top_link">
<ul>
<li><a href="#">Sign in</a></li>
<li><a href="#">Sign up</a></li>
<li><a href="#">Cookies</a></li>
<li><a href="#">T & Cs</a></li>
</ul>
<div class="search_div">
<input name="" class="input" placeholder="search" type="text" />
<div class="cart_icon"><a href="#"><img src="images/cart_img.jpg" alt="" /></a></div>       
</div>
<div class="nav">
<ul>
    <li><a href="#">About</a></li>
    <li><a href="#">Store News</a></li>
    <li><a href="#">Panting</a></li>
    <li><a href="#">Informationh</a></li>
    <li><a href="#">FAQS</a></li>
    <li><a href="#">Conact</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="banner">
</div>
<div class="main_div">
<div class="contant">
<div class="contant_left">
<div class="body_head">Welcome to plant Bulbs Direct</div>
<p>The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those      
interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero    
are also reproduced in their exact original form, accompanied by English versions from 
the 1914 translation by H. Rackham. The standard chunk of Lorem Ipsum used since the   
1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de 
Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, 
accompanied by English versions from the 1914 translation .
</p>
<div class="product_part">
<div class="procuct_head">Specoal Offer:</div>
<div class="product">
<img src="images/product1.jpg" align="" />
<div class="produ_name"><strong>Triumph Red/Yellow</strong>
from <span style="color:#60b62a"><strong>$5.99</strong></span><br />
<span style="color:#519371">in stock</span><br />
<div class="font" style="float:left">Qty &nbsp;</div> <div class="qtu">1</div><div   
class="font" style="float:left">&nbsp;&nbsp;Add to basket</div>&nbsp;<img 
src="images/add-cart.jpg" /> </div>
</div>
<div class="product">
<img src="images/product2.jpg" align="" />
<div class="produ_name"><strong>Triumph Red/Yellow</strong>
from <span style="color:#60b62a"><strong>$5.99</strong></span><br />
<span style="color:#519371">in stock</span><br />
<div class="font" style="float:left">Qty &nbsp;</div> <div class="qtu">1</div><div     
class="font" style="float:left">&nbsp;&nbsp;Add to basket</div>&nbsp;<img 
src="images/add-cart.jpg" /> 
</div>
</div>
<div class="product">
<img src="images/product3.jpg" align="" />
<div class="produ_name"><strong>Triumph Red/Yellow</strong>
from <span style="color:#60b62a"><strong>$5.99</strong></span><br />
<span style="color:#519371">in stock</span><br />
<div class="font" style="float:left">Qty &nbsp;</div> <div class="qtu">1</div><div   
class="font" style="float:left">&nbsp;&nbsp;Add to basket</div>&nbsp;<img    
src="images/add-cart.jpg" /> </div>
</div>
<div class="product" style="margin:0px">
<img src="images/product4.jpg" align="" />
<div class="produ_name"><strong>Triumph Red/Yellow</strong>
from <span style="color:#60b62a"><strong>$5.99</strong></span><br />
<span style="color:#519371">in stock</span><br />
<div class="font" style="float:left">Qty &nbsp;</div> <div class="qtu">1</div><div   
class="font" style="float:left">&nbsp;&nbsp;Add to basket</div>&nbsp;<img 
src="images/add-cart.jpg" /> </div>
</div>
<div class="procuct_head" style=" padding:0px 0 10px 0; border-top:1px solid #98d075; 
margin-top:10px">Top Sellers:</div>
<div class="product">
<img src="images/product5.jpg" align="" />
<div class="produ_name"><strong>Triumph Red/Yellow</strong>
from <span style="color:#60b62a"><strong>$5.99</strong></span><br />
<span style="color:#519371">in stock</span><br />
<div class="font" style="float:left">Qty &nbsp;</div> <div class="qtu">1</div><div       
class="font" style="float:left">&nbsp;&nbsp;Add to basket</div>&nbsp;<img 
src="images/add-cart.jpg" /> </div>
</div>
<div class="product">
<img src="images/product6.jpg"  />
<div class="produ_name"><strong>Triumph Red/Yellow</strong>
from <span style="color:#60b62a"><strong>$5.99</strong></span><br />
<span style="color:#519371">in stock</span><br />
<div class="font" style="float:left">Qty &nbsp;</div> <div class="qtu">1</div><div       
class="font" style="float:left">&nbsp;&nbsp;Add to basket</div>&nbsp;<img   
src="images/add-cart.jpg" /> </div>

</div>
<div class="product">
<img src="images/product7.jpg" align="" />
<div class="produ_name"><strong>Triumph Red/Yellow</strong>
from <span style="color:#60b62a"><strong>$5.99</strong></span><br />
<span style="color:#519371">in stock</span><br />
<div class="font" style="float:left">Qty &nbsp;</div> <div class="qtu">1</div><div        
class="font" style="float:left">&nbsp;&nbsp;Add to basket</div>&nbsp;<img    
src="images/add-cart.jpg" /> </div>

</div>
<div class="product" style="margin:0px">
<img src="images/product8.jpg" align="" />
<div class="produ_name"><strong>Triumph Red/Yellow</strong>
from <span style="color:#60b62a"><strong>$5.99</strong></span><br />
<span style="color:#519371">in stock</span><br />
<div class="font" style="float:left">Qty &nbsp;</div> <div class="qtu">1</div><div     
class="font" style="float:left">&nbsp;&nbsp;Add to basket</div>&nbsp;<img    
src="images/add-cart.jpg" /> </div>
</div>
</div>
</div>
<div class="right_visit">
<div class="procuct_head" style="margin-left:0px; width:249px">Show products by:</div>
<div class="stelec_optio">Planting Month<select class="select" name="">    
<option>1</option><option>2</option></select></div>
<div class="stelec_optio">Flowering Month <select class="select" name="">   
<option>1</option><option>2</option></select></div>
<div class="stelec_optio">Flower Colour<select class="select" name="">  
<option>1</option>   
<option>2</option></select></div>
<div class="stelec_optio">Bulb Height<select class="select" name=""><option>1</option>  
<option>2</option></select></div>
<div class="visit_img"><img src="images/visit_img.jpg" alt="" /></div>
</div>
</div>
</div>
<div class="footer">
<div class="main_div">
csf f
</div>
</div>

</body>
</html> 
```

所以这是我的html代码（带有一个附加的css和一些图像），现在我想为magento制作一个名为“FLOWER_BULB”的主题，我想知道这个开发的每一步以及如何选择这个主题我们制作的。我知道这是一个非常菜鸟的问题，但如果有人能像我的导师一样描述它，这对我很有帮助，在此先感谢。请帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:40:53.647

你好，

要使用给定的主题，首先您必须了解 magento 的文件结构。我可以在这里给你一点知识。

1.  magento 中的 css 路径在`/skin/frontend/default/default/css`您可以在此处编辑现有 css 或创建新 css 文件。

2.  可以包含在 css 中的图像的路径是`/skin/frontend/default/default/images`

3.  要编辑 html，您必须使用路径`/app/design/frontend/base/default/template/`

4.  要在头文件中包含 css 或 js，请使用`/app/design/frontend/base/default/template/page/html/head.phtml`

5.  要知道文件的路径，您可以在系统->配置->开发者->调试或模板设置中使用开发者模式

如果您仍有任何疑问，请在此处评论..

# php - 包含所有文件

> ID：15264656
> 
> 赞同：0
> 
> 时间：2013-03-07T06:34:39.073
> 
> 标签：php, wamp

我有一个“template.php”文件，我在我`include`的大部分 php 文件中手动操作 - 有没有办法以某种方式自动`include`将 php 文件放入我的所有其他文件中？

我找不到任何对我有用的例子。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T06:36:33.033

您可以将`.htaccess`文件添加到目录并使用以下内容

```
php_value auto_prepend_file template.php 
```

您还可以阅读`PHP's` `auto_prepend_file directive` [这里](http://www.php.net/manual/en/ini.core.php#ini.auto-prepend-file)

# ios - 钥匙串存储

> ID：15264658
> 
> 赞同：1
> 
> 时间：2013-03-07T06:34:40.273
> 
> 标签：ios, keychain

我正在开发一个应用程序并使用 AES256 加密将数据存储在钥匙串中。我正在使用 Apple 提供的 KeychainItemWrapper 类并将我的数据存储为密钥 kSecAttService。即使我已经加密和存储，黑客是否能够破解存储在钥匙串中的数据？

提前致谢

# php - MongoDB 意外查询结果

> ID：15264663
> 
> 赞同：0
> 
> 时间：2013-03-07T06:34:56.780
> 
> 标签：php, mongodb

所以我正在学习 MongoDB，一切正常，直到我想查询并发现它返回的数组不像我习惯的那样工作。举个例子：

```
$cursor = $collection->find(array('game' => 'Borderlands 2'));

$array = iterator_to_array($cursor); 
```

到目前为止一切顺利，但后来我想获得一个动态添加到页面的值：

```
The game is: <?php echo $array['game'] ?> 
```

并且只有错误随之而来。我尝试了很多东西，但后来我`var_dump`发现该数组包含在 ID/索引数组下，所以这有效：

```
<?php echo $array["5138225097777c4014000001"]["game"] ?> 
```

我找不到任何解释。虽然我现在了解它是如何工作的，但我不确定这是否是我在将值添加到集合时犯的错误，或者我是否遗漏了一些东西。谢谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:36:38.733

这是因为 find 返回一个结果数组（并且每个结果都转换为一个数组）。因此，您有一个结果数组，其中 Mongo ObjectId 作为数组中的键。如果您只想获得一个结果，请使用 findOne。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:48:55.010

```
$cursor = $collection->find(array('game' => 'Borderlands 2'));
while ($document = $cursor->getNext()){
      echo $document['game'];
} 
```

# oop - fortran 2003 中的运行时多态性

> ID：15264667
> 
> 赞同：5
> 
> 时间：2013-03-07T06:35:11.710
> 
> 标签：oop, polymorphism, fortran

我在 Fortran 2003 中编写了一些代码，这些代码用稀疏矩阵做了很多线性代数。我正在尝试利用新标准的一些更抽象的特性，这样我就有了更简单的程序，而没有太多重复的代码。

我有一个过程`solver`，它接受一个矩阵、一些向量、所使用的迭代方法的容差等。我将一个指针传递给一个调用`matvec`它的过程；`matvec`是我们用于矩阵向量乘法的子程序。

问题是，有时一个过程会在发送到该过程的通常`matvec`参数之上接受额外的参数。`colorlist, color1, color2`我可以想到几种处理方法。

第一个想法：定义两个不同的抽象接口`matvec1`和`matvec2`两个不同的求解器。这可行，但这意味着复制一些代码，这正是我试图避免的。

另一个想法：保持相同的抽象接口`matvec`，并使额外的参数`colorlist`, `color1`,`color2`可选。这意味着在每个 matvec 例程中使它们成为可选的——即使是那些它们不是真正可选的，以及它们甚至根本不使用的例程。如果我这样做，我肯定会下地狱的。

我能想到很多其他不是最佳的解决方案。我想对此提出一些意见——我确信有一些优雅的方法可以做到这一点，我只是不确定它是什么。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T08:01:50.780

问题实际上是，每次调用过程时是否必须传递附加参数（因为它们在两次调用之间发生变化），或者它们可以在某个时候初始化，然后在函数中使用。在后一种情况下，您可以创建一个具有抽象接口的类，该接口`matvec`使用基本参数定义您的子例程。然后，您可以使用更专业的类扩展该类，这些类可以包含所需的其他选项。它们仍然必须定义与`matvec`父类相同的接口（具有相同的参数列表），但是当`matvec`调用它们的过程时，它们可以使用存储在它们中的附加值。

[您可以在此答案](https://stackoverflow.com/a/15077218/1859258)中找到类似案例的详细示例（查找显示的第二个示例`module rechercheRacine`）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T15:39:20.037

`matvec`您可以将各种例程放在通用接口后面，而不是将过程指针作为显式参数传递：

```
interface matvec
  module procedure matvec1, matvec2
end interface 
```

然后，您的`solver`例程可以只使用带有或不带有额外参数的通用名称。`solver`当使用 Bálint 建议的将 a 定义为具有类型绑定过程的派生类型的方法时，当然也可以采用相同的方法：

```
type :: solver
  real, allocatable :: matrix(:,:), v1(:), v2(:)
contains
  procedure, pass :: matvec1
  procedure, pass :: matvec2
  generic :: matvec => matvec1, matvec2
end type 
```

主要区别在于这不使用多态性来确定要调用的正确过程，而是使用虚拟参数的特性。

我不确定您对过程指针的意图；如果您希望在运行时更改其目标（或者可能为其“未定义”状态分配一些特殊含义），那么指针是唯一的方法，并且所有目标都需要匹配相同的抽象接口。相反，如果您只需要根据它们的参数选择几个过程之一，那么您可以利用接口（我的示例）或重载（Bálint 的示例）。类型的每个扩展都可以使用新过程扩展继承的`generic`绑定，或重载继承的特定绑定。

# ruby-on-rails - 重新索引我的 Rails 数据库

> ID：15264670
> 
> 赞同：0
> 
> 时间：2013-03-07T06:35:30.187
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1

我了解索引如何帮助提高性能以及如何索引我的数据库的基础知识，但我对重新索引的频率感到困惑。另外，当我重新索引我的数据库时，我是否需要先删除初始索引，或者我可以像第一次索引一样重新索引。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:53:23.190

这不是 Rails 问题，而是 DBMS 问题。重新索引的内容、地点、时间和方式取决于您的数据库 DBMS，但通常很少需要重新索引，除非存在某些描述的数据库损坏或您对索引中包含的数据进行了大量更改. 我所说的更改是指更新和删除。

例如，如果您使用 Postgres，则此链接可能对[http://www.postgresql.org/docs/9.1/static/routine-reindex.html](http://www.postgresql.org/docs/9.1/static/routine-reindex.html)有所帮助。还可以查看stackexchange。像这样的问题和答案[https://dba.stackexchange.com/questions/1937/is-reindex-dangerous](https://dba.stackexchange.com/questions/1937/is-reindex-dangerous)可能会启发你。

如果您使用 MySQL，那么这是一个很好的解释[http://dev.mysql.com/doc/refman/5.0/en/rebuilding-tables.html](http://dev.mysql.com/doc/refman/5.0/en/rebuilding-tables.html)

查找您正在使用的任何 DBMS，并查看有关如何以及何时重新索引的官方文档。重新索引的要求也可能会有所不同，具体取决于使用的表类型，如 InnoDB 和 MySQL 的 MyISAM 可能有不同的要求，而 csv 可能根本没有任何索引

# html - 选择具有多个复选框的元素

> ID：15264676
> 
> 赞同：0
> 
> 时间：2013-03-07T06:36:13.253
> 
> 标签：html, css, checkbox

![在此处输入图像描述](../Images/7bdd386b74389c47536d24aa41605beb.png)

Gmail 具有您可以使用复选框选择标签的功能，它隐藏在 div 元素中，您可以在其中上下滚动。

它还允许您自定义操作，例如在底部创建新标签。

它还允许您使用简单的搜索栏在顶部进行过滤。

实现类似的东西并允许我放入自定义操作（如底部的创建新标签）的最简单方法是什么？

至少有一种方法可以在可滚动的 div 或选择元素中显示所有复选框。

更新：

目前，我只有以下复选框

```
<div class="input select">
    <label for="SiteSite">Sites</label>
    <input type="hidden" name="data[Site][Site]" value="" id="SiteSite">

<div class="checkbox"><input type="checkbox" name="data[Site][Site][]" value="1" id="SiteSite1"><label for="SiteSite1">ODSite:P11379-440YishunAve11 HWSW_ESTA ENO21.000070.10001 92640145</label></div>
<div class="checkbox"><input type="checkbox" name="data[Site][Site][]" value="2" id="SiteSite2"><label for="SiteSite2">ODSite:P11374-SGRecClub HWSW_ESTA ENO21.000070.10002 92640147</label></div>

</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:40:17.387

您可以使用名为[**Select2**](http://ivaynberg.github.com/select2/)的插件，它具有您期望从`<SELECT>`标签中获得的所有选项。

[http://img594.imageshack.us/img594/543/select2.png](http://img594.imageshack.us/img594/543/select2.png)

# c# - 在excel中生成excel和图表的最佳库？

> ID：15264677
> 
> 赞同：1
> 
> 时间：2013-03-07T06:36:15.047
> 
> 标签：c#, asp.net, excel, aspose, spreadsheetgear

这是用于从 Asp.net 在 Excel 中导出数据和生成图表的最佳 3rd 方库。我在 .Net 上进行了研究，发现以下内容：

**1\. EPPlus：**由于我们的工作时间很紧，而且项目也不会太长，所以如果我们在使用组件后卡在某个地方，我们将没有太多时间来解决问题。由于那是一个开源库，因此无法保证获得帮助以解决问题的时间。

**2\. Spreadsheetgear2012：**这似乎是一个很好的图书馆，它的网站似乎展示了大量的图表示例。

**3\. Aspose.Cells：**这似乎也是一个很好的库，它的网站似乎展示了很好的图表示例，虽然它有点贵，但他们的支持似乎真的很好，而且他们似乎非常愿意接受客户在他们的产品中实施的新想法并发布新版本。

我们无法决定是选择`Spreadsheetgear2012`.Net 还是`Aspose.Cells`. 任何细节和想法将不胜感激。

我在互联网上找到的这些产品的比较已经很老了（大约 4 年前）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T08:08:16.517

我们的主要应用是来自电子表格的在线交互和报告，而不是生成和下载其他电子表格文件。我们尝试了很多电子表格部署选项，最后选择了 Spreadsheetgear。为此，我们发现它的设置非常简单、快速且灵活。他们的在线示例和支持也非常好。

我们已经从他们的示例继续前进，并且已经能够使用 MVC3 ASP.NET 框架设置他们的 API。让它工作是一项艰巨的任务，但最终 MVC 提供了非常简洁的代码结构和更快的应用程序部署。强烈推荐这种组合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:47:23.157

对你来说最重要的是什么？成本、长期计划或支持？

第一个是免费的，所以如果成本是你最大的限制，你真的别无选择。

第二个比你的上一个便宜，但它似乎有一个较小的用户社区。

所以，如果你遇到麻烦，你在哪里寻求帮助？

第三个也提供全系列的其他相关产品。如果您认为以后可能需要其他产品，那么您可以捆绑您现有的许可证，这样可以节省您的资金。

我在工作中使用第三个，认为它是一个很好的产品。他们拥有庞大的用户社区，并且他们的支持反应迅速。但它确实付出了丰厚的代价。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:46:31.357

您在这个领域缺少另一个播放器，虽然不像付费选项那样出色或快速即插即用，但可能足以让您到达您需要使用电子表格的地方：**NPOI**。即使您不将它用于当前项目，它仍然值得研究作为以后使用的工具。

CodePlex
[http://npoi.codeplex.com/](http://npoi.codeplex.com/)

Scott Mitchell 谈 NPOI
[http://scottonwriting.net/sowblog/archive/2011/06/08/export-an-ado-net-datatable-to-excel-using-npoi.aspx](http://scottonwriting.net/sowblog/archive/2011/06/08/export-an-ado-net-datatable-to-excel-using-npoi.aspx)

Leniel Macaferi 谈 NPOI
[http://www.leniel.net/2009/10/npoi-with-excel-table-and-dynamic-chart.html#sthash.VZ4NjvZK.dpbs](http://www.leniel.net/2009/10/npoi-with-excel-table-and-dynamic-chart.html#sthash.VZ4NjvZK.dpbs)

Zach Hunter 谈 NPOI
[http://www.zachhunter.com/2010/06/improved-npoi-exportdatatabletoexcel-function/](http://www.zachhunter.com/2010/06/improved-npoi-exportdatatabletoexcel-function/)

# ruby-on-rails - 如何与 STI 建立 ActiveRecord 关联

> ID：15264680
> 
> 赞同：4
> 
> 时间：2013-03-07T06:36:23.923
> 
> 标签：ruby-on-rails, associations, sti

我在尝试建立从其他人继承的模型的关联时遇到问题。问题是在调用 save 方法之前关联的模型被保存到数据库中。

我在此页面[http://techspry.com/ruby_and_rails/active-records-or-push-or-concat-method/中找到了更多信息](http://techspry.com/ruby_and_rails/active-records-or-push-or-concat-method/)

真的很奇怪，为什么 AR 会自动保存附加到关联的模型（使用 << 方法）？人们显然会期望必须调用 save 方法，即使父级已经存在。我们可以阻止这个调用

```
@user.reviews.build(good_params) 
```

但这在关联具有层次结构的情况下会出现问题，例如：如果 Hunter has_many :animals，并且 Dog 和 Cat 继承自 Animal，我们不能这样做

```
@hunter.dogs.build
@hunter.cats.build 
```

相反，我们被困在

```
@hunter.animals << Cat.new
@hunter.animals << Dog.new 
```

如果 Cat/Dog 类没有验证，对象将自动保存到数据库中。我怎样才能防止这种行为？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-07T10:45:19.367

我发现 Rails 3 并不完全支持与 STI 的关联，通常需要 hack。阅读这篇文章[http://simple10.com/rails-3-sti/](http://simple10.com/rails-3-sti/)的更多信息。正如其中一条评论中提到的，这个问题在 rails 4 [https://github.com/rails/rails/commit/89b5b31cc4f8407f648a2447665ef23f9024e8a5](https://github.com/rails/rails/commit/89b5b31cc4f8407f648a2447665ef23f9024e8a5) Rails sux 所以不好处理继承=（（希望 Rails 4 解决了这个问题。

同时我正在使用这个丑陋的解决方法：

```
animal = @hunter.animals.build type: 'Dog' 
```

然后替换构建的对象，**这一步可能是反射锻炼所必需的**（检查露西的答案和评论）

```
hunter.animals[@hunter.animals.index(animal)] = animal.becomes(Dog) 
```

这将在这种情况下正确运行，因为

```
hunter.animals[@hunter.animals.index(animal)].is_a? Dog 
```

将返回 true，并且不会对分配进行任何数据库调用

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-04-08T06:59:50.840

根据 Gus 的回答，我实施了一个类似的解决方案：

```
# instantiate a dog object
dog = Dog.new(name: 'fido')

# get the attributes from the dog, add the class (per Gus's answer)
dog_attributes = dog.attributes.merge(type: 'Dog')

# build a new dog using the correct attributes, including the type
hunter.animals.build(dog_attributes) 
```

请注意，原来的狗对象只是被扔掉了。根据您需要设置的属性数量，可能更容易做到：

```
hunter.animals.build(type: 'Dog', name: 'Fido') 
```

# cuda - CUDA推力降低这么慢？

> ID：15264684
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:36:39.217
> 
> 标签：cuda, thrust

我正在学习CUDA。今天，我尝试了书中的一些代码：`CUDA Application Design And Development`，这让我感到惊讶。为什么 CUDA Thrust 这么慢？这是代码和输出。

```
#include <iostream>
using namespace std;

#include<thrust/reduce.h>
#include<thrust/sequence.h>
#include<thrust/host_vector.h>
#include<thrust/device_vector.h>
#include <device_launch_parameters.h>

#include "GpuTimer.h"

__global__ void fillKernel(int *a, int n)
{
    int tid = blockDim.x * blockIdx.x + threadIdx.x;
    if(tid <n) a[tid] = tid;
}

void fill(int *d_a, int n)
{
    int nThreadsPerBlock = 512;
    int nBlock = n/nThreadsPerBlock + ((n/nThreadsPerBlock)?1:0);
    fillKernel<<<nBlock, nThreadsPerBlock>>>(d_a, n);
}

int main()
{
    const int N = 500000;
    GpuTimer timer1, timer2;

    thrust::device_vector<int> a(N);

    fill(thrust::raw_pointer_cast(&a[0]), N);

    timer1.Start();
    int sumA = thrust::reduce(a.begin(), a.end(), 0);
    timer1.Stop();

    cout << "Thrust reduce costs " << timer1.Elapsed() << "ms." << endl;

    int sumCheck = 0;
    timer2.Start();
    for(int i = 0; i < N; i++)
        sumCheck += i;
    timer2.Stop();

    cout << "Traditional reduce costs " << timer2.Elapsed() << "ms." << endl;
    if (sumA == sumCheck)
        cout << "Correct!" << endl;
    return 0;
} 
```

![在此处输入图像描述](../Images/54986e7d907b69c82feda4d135620ff7.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T15:52:58.243

您没有有效的比较。您的 GPU 代码正在执行此操作：

```
int sumA = thrust::reduce(a.begin(), a.end(), 0); 
```

您的 CPU 代码正在执行此操作：

```
for(int i = 0; i < N; i++)
    sumCheck += i; 
```

这种方法有很多问题，我不知道从哪里开始。首先，GPU 操作是一个有效的归约，它将为向量中的任何数字序列提供有效的结果`a`。碰巧你有从 1 到 N in 的序列`a`，但不一定非要这样，它仍然会给出正确的结果。CPU 代码*只给出 1 到 N 的**特定*序列的正确答案。其次，智能编译器可能能够优化 CPU 代码的性能，基本上将整个循环减少为常量赋值语句。（从 1 到 N 的总和只是 (N+1)(N/2) 不是吗？）我不知道 CPU 端的引擎盖下可能会进行哪些优化。

更有效的比较是在这两种情况下进行实际的任意减少。一个示例可能是对在设备向量上操作与在主机向量上操作的推力::reduce 进行基准测试。或者编写自己的串行 CPU 缩减代码，该代码实际上对向量进行操作，而不是将 1 到 N 的整数相加。

正如评论中所指出的，如果您真的想要帮助，请记录您正在运行的硬件和软件平台等内容，并提供所有代码。我不知道 GPUtimer 是做什么的。我投票决定将其关闭为“过于本地化”，因为我认为没有人会发现使用这样的方法进行比较有用。

# .net - web.config 转换 - appSettings 节点不转换

> ID：15264685
> 
> 赞同：2
> 
> 时间：2013-03-07T06:36:42.413
> 
> 标签：.net, web-config, appsettings, web-config-transform

我有想要在多个 Web 应用程序之间共享的 appSettings。因此，在我的解决方案的根级别，我创建了一个文件夹“Common ConfigSettings”。在这里，我拥有所有共享的常见 appSettings。然后在不同的网络项目中，我添加了一个指向这个文件的链接并引用了常见的设置，比如..

```
<appSettings file="../../Common ConfigSettings/sharedAppSettings.config"> 
```

这在调试时运行良好。现在，当我需要发布时，“链接”文件被复制到相关 Web 项目的目录中，因此文件路径现在需要更改，指向与项目 web.config 相同的目录。但我无法让转换工作。

我正在尝试在我的 web.Config 中转换 appSettings 上的“文件”属性。但 id 似乎不起作用。

**原始 web.config**

```
 <appSettings file="../../Common ConfigSettings/sharedAppSettings.config">
 </appSettings> 
```

**转换**

```
<appSettings  file="sharedAppSettings.config"  xdt:Transform="SetAttributes(file)"   
</appSettings> 
```

**然后当我点击预览变换**

```
 <appSettings file="../../Common ConfigSettings/sharedAppSettings.config">
 </appSettings> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T07:26:30.307

现在得到这个工作。刚刚从 xdt:transform 中删除了“（文件）”

**转换**

```
<appSettings file="sharedAppSettings.config"  xdt:Transform="SetAttributes">
</appSettings> 
```

**结果**

```
<appSettings file="sharedAppSettings.config">
</appSettings> 
```

谢谢

# quickbooks - 如何使用 QBXML 从 Quickbooks 获取销售订单中的列名

> ID：15264690
> 
> 赞同：1
> 
> 时间：2013-03-07T06:37:18.947
> 
> 标签：quickbooks, qbxml

我是新手`Quickbooks`，`Web Connector`我正在使用`PHP SDK`Quickbooks。

我知道如何`Sales Orders`使用`QBXML request`.

但我想从 Quickbooks 获取销售订单中的**列名**。

有什么方法或有什么方法`QBXML request`可以从 Sales Order 中获取这些列名？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T12:05:32.400

大多数版本的 QuickBooks 根本不是基于 SQL 的。此外，没有允许您直接访问 SQL 表的 QuickBooks 版本。

相反，所有 QuickBooks API 都是基于 XML 的 API。

XML 没有“列”。

太……你的问题：

> 但我想从 Quickbooks 获取销售订单中的列名。

没有任何意义/无法回答。

QuickBooks 没有列。销售订单*没有列*。

如果您只是想找出可用的数据，您应该使用[QuickBooks OSR 文档](http://developer.intuit.com/qbsdk-current/common/newosr/index.html)。

这是关于如何使用它的[QuickBooks 集成 wiki链接。](http://www.consolibyte.com/wiki/doku.php/quickbooks_osr)

以下是可用的 XML 字段：

```
<SalesOrderRet> <!-- optional, may repeat -->
 <TxnID >IDTYPE</TxnID> <!-- required -->
 <TimeCreated >DATETIMETYPE</TimeCreated> <!-- required -->
 <TimeModified >DATETIMETYPE</TimeModified> <!-- required -->
 <EditSequence >STRTYPE</EditSequence> <!-- required -->
 <TxnNumber >INTTYPE</TxnNumber> <!-- optional -->
 <CustomerRef> <!-- required -->
  <ListID >IDTYPE</ListID> <!-- optional -->
  <FullName >STRTYPE</FullName> <!-- optional -->
 </CustomerRef>
 <ClassRef> <!-- optional -->
  <ListID >IDTYPE</ListID> <!-- optional -->
  <FullName >STRTYPE</FullName> <!-- optional -->
 </ClassRef>
 <TemplateRef> <!-- optional -->
  <ListID >IDTYPE</ListID> <!-- optional -->
  <FullName >STRTYPE</FullName> <!-- optional -->
 </TemplateRef>
 <TxnDate >DATETYPE</TxnDate> <!-- required -->
 <RefNumber >STRTYPE</RefNumber> <!-- optional -->
 <BillAddress> <!-- optional -->
  <Addr1 >STRTYPE</Addr1> <!-- optional -->
  <Addr2 >STRTYPE</Addr2> <!-- optional -->
  <Addr3 >STRTYPE</Addr3> <!-- optional -->
  <Addr4 >STRTYPE</Addr4> <!-- optional -->
  <Addr5 >STRTYPE</Addr5> <!-- optional -->
  <City >STRTYPE</City> <!-- optional -->
  <State >STRTYPE</State> <!-- optional -->
  <PostalCode >STRTYPE</PostalCode> <!-- optional -->
  <Country >STRTYPE</Country> <!-- optional -->
  <Note >STRTYPE</Note> <!-- optional -->
 </BillAddress>
 <BillAddressBlock> <!-- optional -->
  <Addr1 >STRTYPE</Addr1> <!-- optional -->
  <Addr2 >STRTYPE</Addr2> <!-- optional -->
  <Addr3 >STRTYPE</Addr3> <!-- optional -->
  <Addr4 >STRTYPE</Addr4> <!-- optional -->
  <Addr5 >STRTYPE</Addr5> <!-- optional -->
 </BillAddressBlock>
 <ShipAddress> <!-- optional -->
  <Addr1 >STRTYPE</Addr1> <!-- optional -->
  <Addr2 >STRTYPE</Addr2> <!-- optional -->
  <Addr3 >STRTYPE</Addr3> <!-- optional -->
  <Addr4 >STRTYPE</Addr4> <!-- optional -->
  <Addr5 >STRTYPE</Addr5> <!-- optional -->
  <City >STRTYPE</City> <!-- optional -->
  <State >STRTYPE</State> <!-- optional -->
  <PostalCode >STRTYPE</PostalCode> <!-- optional -->
  <Country >STRTYPE</Country> <!-- optional -->
  <Note >STRTYPE</Note> <!-- optional -->
 </ShipAddress>
 <ShipAddressBlock> <!-- optional -->
  <Addr1 >STRTYPE</Addr1> <!-- optional -->
  <Addr2 >STRTYPE</Addr2> <!-- optional -->
  <Addr3 >STRTYPE</Addr3> <!-- optional -->
  <Addr4 >STRTYPE</Addr4> <!-- optional -->
  <Addr5 >STRTYPE</Addr5> <!-- optional -->
 </ShipAddressBlock>
 <PONumber >STRTYPE</PONumber> <!-- optional -->
 <TermsRef> <!-- optional -->
  <ListID >IDTYPE</ListID> <!-- optional -->
  <FullName >STRTYPE</FullName> <!-- optional -->
 </TermsRef>
 <DueDate >DATETYPE</DueDate> <!-- optional -->
 <SalesRepRef> <!-- optional -->
  <ListID >IDTYPE</ListID> <!-- optional -->
  <FullName >STRTYPE</FullName> <!-- optional -->
 </SalesRepRef>
 <FOB >STRTYPE</FOB> <!-- optional -->
 <ShipDate >DATETYPE</ShipDate> <!-- optional -->
 <ShipMethodRef> <!-- optional -->
  <ListID >IDTYPE</ListID> <!-- optional -->
  <FullName >STRTYPE</FullName> <!-- optional -->
 </ShipMethodRef>
 <Subtotal >AMTTYPE</Subtotal> <!-- optional -->
 <ItemSalesTaxRef> <!-- optional -->
  <ListID >IDTYPE</ListID> <!-- optional -->
  <FullName >STRTYPE</FullName> <!-- optional -->
 </ItemSalesTaxRef>
 <SalesTaxPercentage >PERCENTTYPE</SalesTaxPercentage> <!-- optional -->
 <SalesTaxTotal >AMTTYPE</SalesTaxTotal> <!-- optional -->
 <TotalAmount >AMTTYPE</TotalAmount> <!-- optional -->
<CurrencyRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</CurrencyRef>
<ExchangeRate >FLOATTYPE</ExchangeRate> <!-- optional -->
<TotalAmountInHomeCurrency >AMTTYPE</TotalAmountInHomeCurrency> <!-- optional -->
<IsManuallyClosed >BOOLTYPE</IsManuallyClosed> <!-- optional -->
<IsFullyInvoiced >BOOLTYPE</IsFullyInvoiced> <!-- optional -->
<Memo >STRTYPE</Memo> <!-- optional -->
<CustomerMsgRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</CustomerMsgRef>
<IsToBePrinted >BOOLTYPE</IsToBePrinted> <!-- optional -->
<IsToBeEmailed >BOOLTYPE</IsToBeEmailed> <!-- optional -->
<CustomerSalesTaxCodeRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</CustomerSalesTaxCodeRef>
<Other >STRTYPE</Other> <!-- optional -->
<ExternalGUID >GUIDTYPE</ExternalGUID> <!-- optional -->
<LinkedTxn> <!-- optional, may repeat -->
<TxnID >IDTYPE</TxnID> <!-- required -->
<!-- TxnType may have one of the following values: ARRefundCreditCard, Bill, BillPaymentCheck, BillPaymentCreditCard, BuildAssembly, Charge, Check, CreditCardCharge, CreditCardCredit, CreditMemo, Deposit, Estimate, InventoryAdjustment, Invoice, ItemReceipt, JournalEntry, LiabilityAdjustment, Paycheck, PayrollLiabilityCheck, PurchaseOrder, ReceivePayment, SalesOrder, SalesReceipt, SalesTaxPaymentCheck, Transfer, VendorCredit, YTDAdjustment -->
<TxnType >ENUMTYPE</TxnType> <!-- required -->
<TxnDate >DATETYPE</TxnDate> <!-- required -->
<RefNumber >STRTYPE</RefNumber> <!-- optional -->
<!-- LinkType may have one of the following values: AMTTYPE, QUANTYPE -->
<LinkType >ENUMTYPE</LinkType> <!-- optional -->
<Amount >AMTTYPE</Amount> <!-- required -->
</LinkedTxn>
<!-- BEGIN OR -->
<SalesOrderLineRet> <!-- optional -->
<TxnLineID >IDTYPE</TxnLineID> <!-- required -->
<ItemRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</ItemRef>
<Desc >STRTYPE</Desc> <!-- optional -->
<Quantity >QUANTYPE</Quantity> <!-- optional -->
<UnitOfMeasure >STRTYPE</UnitOfMeasure> <!-- optional -->
<OverrideUOMSetRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</OverrideUOMSetRef>
<!-- BEGIN OR -->
<Rate >PRICETYPE</Rate> <!-- optional -->
<!-- OR -->
<RatePercent >PERCENTTYPE</RatePercent> <!-- optional -->
<!-- END OR -->
<ClassRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</ClassRef>
<Amount >AMTTYPE</Amount> <!-- optional -->
<InventorySiteRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</InventorySiteRef>
<InventorySiteLocationRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</InventorySiteLocationRef>
<!-- BEGIN OR -->
<SerialNumber >STRTYPE</SerialNumber> <!-- optional -->
<!-- OR -->
<LotNumber >STRTYPE</LotNumber> <!-- optional -->
<!-- END OR -->
<SalesTaxCodeRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</SalesTaxCodeRef>
<Invoiced >QUANTYPE</Invoiced> <!-- optional -->
<IsManuallyClosed >BOOLTYPE</IsManuallyClosed> <!-- optional -->
<Other1 >STRTYPE</Other1> <!-- optional -->
<Other2 >STRTYPE</Other2> <!-- optional -->
<DataExtRet> <!-- optional, may repeat -->
<OwnerID >GUIDTYPE</OwnerID> <!-- optional -->
<DataExtName >STRTYPE</DataExtName> <!-- required -->
<!-- DataExtType may have one of the following values: AMTTYPE, DATETIMETYPE, INTTYPE, PERCENTTYPE, PRICETYPE, QUANTYPE, STR1024TYPE, STR255TYPE -->
<DataExtType >ENUMTYPE</DataExtType> <!-- required -->
<DataExtValue >STRTYPE</DataExtValue> <!-- required -->
</DataExtRet>
</SalesOrderLineRet>
<!-- OR -->
<SalesOrderLineGroupRet> <!-- optional -->
<TxnLineID >IDTYPE</TxnLineID> <!-- required -->
<ItemGroupRef> <!-- required -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</ItemGroupRef>
<Desc >STRTYPE</Desc> <!-- optional -->
<Quantity >QUANTYPE</Quantity> <!-- optional -->
<UnitOfMeasure >STRTYPE</UnitOfMeasure> <!-- optional -->
<OverrideUOMSetRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</OverrideUOMSetRef>
<IsPrintItemsInGroup >BOOLTYPE</IsPrintItemsInGroup> <!-- required -->
<TotalAmount >AMTTYPE</TotalAmount> <!-- required -->
<SalesOrderLineRet> <!-- optional, may repeat -->
<TxnLineID >IDTYPE</TxnLineID> <!-- required -->
<ItemRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</ItemRef>
<Desc >STRTYPE</Desc> <!-- optional -->
<Quantity >QUANTYPE</Quantity> <!-- optional -->
<UnitOfMeasure >STRTYPE</UnitOfMeasure> <!-- optional -->
<OverrideUOMSetRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</OverrideUOMSetRef>
<!-- BEGIN OR -->
<Rate >PRICETYPE</Rate> <!-- optional -->
<!-- OR -->
<RatePercent >PERCENTTYPE</RatePercent> <!-- optional -->
<!-- END OR -->
<ClassRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</ClassRef>
<Amount >AMTTYPE</Amount> <!-- optional -->
<InventorySiteRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</InventorySiteRef>
<InventorySiteLocationRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</InventorySiteLocationRef>
<!-- BEGIN OR -->
<SerialNumber >STRTYPE</SerialNumber> <!-- optional -->
<!-- OR -->
<LotNumber >STRTYPE</LotNumber> <!-- optional -->
<!-- END OR -->
<SalesTaxCodeRef> <!-- optional -->
<ListID >IDTYPE</ListID> <!-- optional -->
<FullName >STRTYPE</FullName> <!-- optional -->
</SalesTaxCodeRef>
<Invoiced >QUANTYPE</Invoiced> <!-- optional -->
<IsManuallyClosed >BOOLTYPE</IsManuallyClosed> <!-- optional -->
<Other1 >STRTYPE</Other1> <!-- optional -->
<Other2 >STRTYPE</Other2> <!-- optional -->
<DataExtRet> <!-- optional, may repeat -->
<OwnerID >GUIDTYPE</OwnerID> <!-- optional -->
<DataExtName >STRTYPE</DataExtName> <!-- required -->
<!-- DataExtType may have one of the following values: AMTTYPE, DATETIMETYPE, INTTYPE, PERCENTTYPE, PRICETYPE, QUANTYPE, STR1024TYPE, STR255TYPE -->
<DataExtType >ENUMTYPE</DataExtType> <!-- required -->
<DataExtValue >STRTYPE</DataExtValue> <!-- required -->
</DataExtRet>
</SalesOrderLineRet>
<DataExtRet> <!-- optional, may repeat -->
<OwnerID >GUIDTYPE</OwnerID> <!-- optional -->
<DataExtName >STRTYPE</DataExtName> <!-- required -->
<!-- DataExtType may have one of the following values: AMTTYPE, DATETIMETYPE, INTTYPE, PERCENTTYPE, PRICETYPE, QUANTYPE, STR1024TYPE, STR255TYPE -->
<DataExtType >ENUMTYPE</DataExtType> <!-- required -->
<DataExtValue >STRTYPE</DataExtValue> <!-- required -->
</DataExtRet>
</SalesOrderLineGroupRet>
<!-- END OR -->
<DataExtRet> <!-- optional, may repeat -->
<OwnerID >GUIDTYPE</OwnerID> <!-- optional -->
<DataExtName >STRTYPE</DataExtName> <!-- required -->
<!-- DataExtType may have one of the following values: AMTTYPE, DATETIMETYPE, INTTYPE, PERCENTTYPE, PRICETYPE, QUANTYPE, STR1024TYPE, STR255TYPE -->
<DataExtType >ENUMTYPE</DataExtType> <!-- required -->
<DataExtValue >STRTYPE</DataExtValue> <!-- required -->
</DataExtRet>
</SalesOrderRet> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-29T02:04:19.113

我最近遇到了[QODBC](http://qodbc.com/qodbc.htm)和[OpenSync](http://synergration.com/software/opensync/)。两者都将 QB 数据模型转换为 SQL 表/列模型。

[QODBC](http://qodbc.com/qodbc.htm)通过实现 ODBC 驱动程序并将您的查询实时转换为 QB API 调用来工作。它还具有缓存功能，以加快查询速度。我了解驱动程序的某些变体可以在 Linux 下运行。该驱动程序有两种主要形式：一个允许您连接到本地 QB 实例并对其进行查询的本地驱动程序，以及一个用于查询托管在其他地方的 QB 数据库的远程服务器/驱动程序（对于 64 位开发，建议使用远程驱动程序，即使您将其循环回同一系统）。它的只读版本包含在 QB Enterprise 中。[有关如何将 QODBC 与 PHP 一起使用的](http://support.flexquarters.com/esupport/index.php?/Knowledgebase/Article/View/2623/45/how-to-use-qodbc-with-php)更多信息。

[OpenSync](http://synergration.com/software/opensync/)以一种更不连贯的方式工作：您将 QB 数据库的副本复制到您首选的数据库引擎/服务器中，这样您就可以立即查询数据，并通过在您的副本中设置控制字段并重新运行同步来提交更改。虽然您无法查询实时数据，但它非常易于使用和入门（包括获取数据定义，了解反映 XML 的数据结构）。该公司还有其他产品可以帮助您处理 QB API。

两者都有可用的评估版本，您还可以下载[OpenSync 示例 Access MDB](https://synergration.com/wp-content/uploads/SampleDatabase.MDB)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-14T22:44:47.520

我想你可能想看看[https://developer.intuit.com/docs/0025_quickbooksapi/0050_data_services](https://developer.intuit.com/docs/0025_quickbooksapi/0050_data_services) 你需要一个 Intuit 登录（免费），但这实际上似乎是我能找到的最接近真实的东西他们桌子上的列。向下滚动到交易实体和名单实体和支持实体。

# c++ - 如何对使用 GCC for Linux 创建的共享对象文件进行版本控制

> ID：15264693
> 
> 赞同：-2
> 
> 时间：2013-03-07T06:37:40.380
> 
> 标签：c++, c, version, shared-libraries

如何对使用 GCC for Linux 创建的共享对象文件进行版本控制

请用几个例子解释一下

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:04:25.590

LD_LIBRARY_PATH 中可以存在多个版本的共享库。

例如：

```
/usr/lib/libform.so -> libform.so.5
/usr/lib/libform.so.5 -> libform.so.5.9
/usr/lib/libform.so.5.9
/usr/lib/libform.so.6 -> libform.so.6.0
/usr/lib/libform.so.6.0 
```

上例中存在符号链接，因为在链接时，如果您只提及`-lform`，它会自动根据符号链接为您选择正确的库。

当二进制文件链接到一组共享库时，它将请求特定版本的库。二进制文件依赖的库列表可以使用`ldd`

```
$ ldd /usr/bin/python
    linux-vdso.so.1 (0x00007ffffa5fe000)
    libpython2.7.so.1.0 => /usr/lib64/libpython2.7.so.1.0 (0x00007ff6e9b6c000)
    libpthread.so.0 => /lib64/libpthread.so.0 (0x00007ff6e9950000)
    libc.so.6 => /lib64/libc.so.6 (0x00007ff6e95ab000)
    libdl.so.2 => /lib64/libdl.so.2 (0x00007ff6e93a7000)
    libutil.so.1 => /lib64/libutil.so.1 (0x00007ff6e91a4000)
    libm.so.6 => /lib64/libm.so.6 (0x00007ff6e8ead000)
    /lib64/ld-linux-x86-64.so.2 (0x00007ff6e9f0a000) 
```

在上面的例子中，`python`是依赖于`libm.so.6`而不是仅仅`libm.so`。

库文件名中的版本控制通常采用以下形式：

```
libSOMETHING.so.VERSION
libSOMETHING.so.MAJOR_VERSION.MINOR_VERSION 
```

有些库有时也有次要编号或补丁编号。

每个库都嵌入了一个`soname`在库中调用的字符串，编译时和运行时链接器都会检查版本兼容性。

例如，由于主版本号的变化，编译的二进制文件`libform.so.5`可以使用`libform.so.5.9`，`libform.so.5.9.1`但不能使用。`libform.so.6`

要将`soname`信息构建到库中，您需要执行以下操作：

```
gcc -fPIC -shared -Wl,-soname,libfoo.so.1  -o libfoo.so.1.0.0 foo.c bar.c baz.c 
```

从手册页`ld`：

```
-soname=name
 When creating an ELF shared object, set the internal DT_SONAME
 field to the specified name.  When an executable is linked with
 a shared object which has a DT_SONAME field, then when the
 executable is run the dynamic linker will attempt to load the
 shared object specified by the DT_SONAME field rather than the
 using the file name given to the linker. 
```

# django - django - 为表单集中的表单添加自定义标题

> ID：15264694
> 
> 赞同：3
> 
> 时间：2013-03-07T06:37:40.663
> 
> 标签：django, django-forms

我正在使用一个表单集，我希望生成的每个表单都为每个唯一表单显示一个编号的标题。因此，如果我生成 5 个表单，我希望在“表单 1”、“表单 2”、...“表单 5”的表单字段之前显示一个文本标签。

我如何能：

1.  在表单中为这样一个纯信息文本标签创建一个空间？
2.  为每个表单设置标题（我在模板中假设）？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T06:55:49.140

`forloop.counter`您可以在每个表单之前使用模板在模板中添加标签，如下所示

```
<form method="post" action="">
    {{ formset.management_form }}
    <table>
        {% for form in formset %}
        <label> Form - {{forloop.counter}} </label>
        {{ form }}
        {% endfor %}
    </table>
</form> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T12:17:06.960

我意识到[文档](https://django-crispy-forms.readthedocs.org/en/d-0/tags.html)给出了解决方案。您可以访问`{{forloop.counter}}`并使用通用布局元素`Layout`创建标签：`HTML`

> 请注意，您仍然可以使用助手（在这种情况下，我们使用用于构建表单集的表单的助手）。这里的主要区别是辅助属性应用于表单结构，而布局应用于表单集的表单。渲染表单集会在布局渲染中注入一些额外的上下文，以便您可以执行以下操作：
> 
> HTML("{% if forloop.first %}消息仅以formset表单列表的第一种形式显示{% endif %}", Fieldset("Item {{ forloop.counter }}", 'field-1', [ ...]）

# javascript - 文件中两个 jquery 代码的组合未按预期工作

> ID：15264696
> 
> 赞同：1
> 
> 时间：2013-03-07T06:37:41.930
> 
> 标签：javascript, jquery

这是我的 html 代码

```
<div class="wrapper"> <strong> Number of images:</strong>
<div class="formText">
    <input type="radio" name="rdNumber" value="100" />100
    <input type="radio" name="rdNumber" value="200" />200
    <input type="radio" name="rdNumber" value="300" />300
    <input type="radio" name="rdNumber" value="other" />other
</div>
</div>

<div  class="wrapper"> <strong><span>*</span> Image to be displayed:</strong>
                <div class="formText">
                <input type="radio" name="rdImage" value="uploadImage" /> Upload your own image
                <input style="margin-left:10px;" type="file" name="user_upload_image" class="uploader" id="file">
                <br />
                <input type="radio" name="rdImage" value="preExisting"/> Choose from images below
                <div class="100 imgDisp">
                    <div class="heading">
                        10x10 = 100
                    </div>
                    </div>

                    <div class="200 imgDisp">
                    <div class="heading">
                        10x20 = 200
                    </div>
                    </div>

                    <div class="200 imgDisp">
                    <div class="heading">
                        20x10 = 200
                    </div>
                    </div>

                    <div class="300 imgDisp">
                    <div class="heading">
                        10x30 = 300
                    </div>
                    </div>

                    <div class="300 imgDisp">
                    <div class="heading">
                        30x10 = 300
                    </div>
                    </div> 
```

这是jQuery代码

```
$(document).ready(function() {
$("div.imgDisp").hide();
$('.' + $(":radio:checked").val()).show();
    $('input[name="rdNumber"]:radio').click(function() {
     $("div.imgDisp").fadeOut('slow');
    $('.' + $(this).val()).fadeIn('slow');
});
});

var rdImage = $('input:radio[name="rdImage"]');
var rdNumbers= $('input:radio[name="rdNumber"]');
rdNumbers.change(function(e){
var $target = $(e.target);
if($target.is(':checked')){
    if($target.is('[value="other"]')){
        rdImage.not('[value="uploadImage"]').prop('disabled', true);
        rdNumberPages.filter('[value="uploadImage"]').prop('checked', true);
    } else {
        rdNumberPages.not('[value="uploadImage"]').prop('disabled', false);
    }
}
}); 
```

jquery 代码的目的是 1\. 在选择“100”、“200”、“300”时显示“10x10 = 100”、“10x20 = 200”、“20x10 = 200”等（任何合适的）（即 rdNumber radio) 匹配值.. 直到现在它工作正常

1.  现在我尝试在选择“其他”收音机时添加禁用和重新启用“从下面的图像中选择”收音机的功能。我成功禁用了.. 即，当我选择“其他”收音机时，它正在禁用“从下面的图像中选择”收音机，但在选择 300、200 或 100 时，它不会再次启用它..在这种情况下需要帮助..

2.  还有如何做到这一点，当用户选择“其他”时，它会禁用“从下面的图像中选择”，当用户选择 100、200、300 收音机时，它会启用“从下面的图像中选择”，但它应该自动选择“从图像中选择”下方”单选按钮，该按钮应显示上述 1 中的隐藏 div。即，如果用户选择 100，它将自动选择“从下面的图像中选择”并应显示适用的 div 即“10x10 = 100”，这是我无法完成的..但是对手动用户选择“上传您的自己的图像”收音机或“从下面的图像中选择”

这是小提琴 [http://jsfiddle.net/xeMjC/1/](http://jsfiddle.net/xeMjC/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:51:07.300

有几个问题立即突出。首先，您缺少`});`java 脚本底部的 （在页面顶部打开）。

其次，变量“rdNumberPages”从未在任何地方声明，这使得某些代码无法工作。

我对代码做了一些小的改动，你可以[在这里看到](http://jsfiddle.net/xeMjC/3/)

# visual-c++ - 在 C .Net 中释放分配给位图的内存

> ID：15264697
> 
> 赞同：0
> 
> 时间：2013-03-07T06:37:43.793
> 
> 标签：visual-c++, visual-c++-2012

我用谷歌搜索了如何释放分配给 System::Drawing::Bitmap 的内存，我发现我应该调用 dispose 函数但我得到了这个错误：

> 错误 C2039：“Dispose”：不是“System::Drawing::Bitmap”的成员您应该调用析构函数“~Bitmap”

我不能释放它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:42:50.180

在 C++/CLI 中，托管对象的删除运算符映射到 Dispose 方法。所以，只需删除位图：

```
Bitmap^ bmp = gcnew Bitmap(...);
...
delete bmp;   // Dispose is called 
```

# java - Drools 规则从对象列表的对象列表中找出最大值

> ID：15264698
> 
> 赞同：0
> 
> 时间：2013-03-07T06:37:48.670
> 
> 标签：java, drools

我知道编写 Drools 规则以从对象列表中找到最大值是多么容易

```
e.g. MyBase(listOfObjects : myObjects)
     accumulate (MyObject($value : value, $value != null) from listOfObjects; $maxValue : max($value)) 
```

我的问题是，您如何编写 Drools 规则以从对象列表的对象列表中找到最大值？

```
e.g. MyBase(listOfObjects : myObjects)
     accumulate (MyObject(anotherListOfObjects : mySmallerObjects) from listOfObjects
                 ,MySmallerObject($value : value, $value != null) from anotherListOfObjects; $maxValue : max($value)) 
```

以上不起作用。

所以基本上，我有一个对象 MyBase，它有`List<MyObjects> myObjects`. 在 内`myObjects`，我想从它们中找到最大值`List<MySmallerObject> mySmallerObjects`（跨越所有`myObjects`，而不仅仅是在 内`mySmallerObjects`）

我相信它在 Drools 中是可行的，我只需要正确的语法。

我正在使用 Drools 5.5 版，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T08:17:04.533

嗯，我会先，然后累积操作`collect`的结果。允许嵌套元素。请参见第**4.8.3.7.3 章。**Drools 专家用户指南[http://docs.jboss.org/drools/release/5.5.0.Final/drools-expert-docs/html_single/index.html#d0e5351中](http://docs.jboss.org/drools/release/5.5.0.Final/drools-expert-docs/html_single/index.html#d0e5351)**收集的条件元素**。`MySmallerObjects``collect``collect``from`

# ruby-on-rails - before_validation 在 Rails 中失败

> ID：15264702
> 
> 赞同：1
> 
> 时间：2013-03-07T06:37:54.317
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我正在使用 Rails 3.2.11、Mac OS X Mountain Lion、Ruby 1.9.3

所以我有这段代码：

```
class Points < ActiveRecord::Base
validates :id, :presence => true

before_create :validate_points

def validate_points
  if self.amount < 0
    Rails.logger.error "Invalid amount of points"
  else
    save!
  end
end 
```

结尾

我想限制用户插入负值。但由于某种原因， validate_points 方法不起作用。有什么我做错了吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:41:24.830

你应该使用`validates_numericality_of`Rails 提供的方法

```
validates :amount, numericality: { greater_than_or_equal_to: 0 } 
```

更新：您的代码问题

您的代码有几个问题。

1.  您正在使用`before_create`which 在记录保存到数据库之前被调用。以这种方式防止数据库提交的唯一方法是在回调中返回 false ，但这不是一个好习惯。
2.  `validate_points`调用`save!`，但在`before_create`回调中调用，因此您保存记录 2x**更新：正如 rxing 所指出的，这将导致无限循环，而不是仅保存 2 次到数据库**

如果您不想使用内置验证，请尝试以下操作

```
validate :validates_amount_points

def validates_amount_points
  errors.add_to :amount, 'must be greater than or equal to 0' if amount < 0
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:17:13.940

您需要使用“验证”而不是 before_create 钩子。顺便说一句，您的 before_create 也不正确。它会引发 SystemStackError: stack level too deep since "save!" 将递归触发 before_create。

# javascript - jquery 没用

> ID：15264705
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:38:03.173
> 
> 标签：javascript, jquery, html

我使用 jquery：

```
$("a").click(function(event) {
    alert("true")
    var $d_id = $(this).attr("name").substring(2)
    var $d_link = 'd_' + $d_id

    $("#"+$d_link).html('<a href="javascript: void(0)" id="d_event_'+
        $d_id + '" name="d_' + $d_link + '" > <img src="/images/r.png" alt="r"></a>');
}); 
```

和html：

```
<div id=d_1></div> 
```

当我第一次单击显示消息（true）并插入图片时，但当我再次单击时，消息不显示。为什么我第一次点击后看不到消息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:42:44.053

您的选择器不会按原样绑定到 DOM 准备好后创建的元素。您需要使用 . 绑定到静态父级`.on()`。

使用最简单的例子：

```
$("body").on('click', 'a', function(event) {
    alert("true");
    var $d_id = $(this).attr("name").substring(2);
    var $d_link = 'd_' + $d_id;

    $("#"+$d_link).html('<a href="javascript: void(0)" id="d_event_'+
        $d_id + '" name="' + $d_link + '" > <img src="/images/r.png" alt="r"></a>');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:46:20.340

使用`on`委托事件...

```
$(document).on("click","a",function(event) {
     alert("true")
     var $d_id = $(this).attr("name").substring(2);
     var $d_link = 'd_' + $d_id;

     $("#"+$d_link).html('<a href="javascript: void(0)" id="d_event_'+
    $d_id + '" name="' + $d_link + '" > <img src="/images/r.png" alt="r"></a>');
}); 
```

[在此处](http://jq4you.blogspot.com/2013/02/jquery-direct-and-delegate-on-event.html)阅读有关`on`直接和委托事件的更多信息..

# c - 下面给出了逐字反转字符串的代码。在 while 循环中放置一个条件，以便以下程序开始完全工作

> ID：15264708
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:38:14.577
> 
> 标签：c

逐字反转字符串的代码如下 -

```
#include<stdio.h>

int main()
{
    int i=0;
    char str[]="you are selected";
    char *q,*r,*s;
    q=str;
    while(*q!=NULL)
    {
        q++;
    }
    q--;
    s=q;
    while(q!=str) //i tried for q!=str-1 but its not working
    {
        if(*q==' ')
        {
            r=q+1;
            while(r!=s+1)
            {
            printf("%c",*r);
            r++;
            }
            printf(" ",*r);
            s=q-1;
        }
        q--;
    }
} 
```

但问题是上面的代码没有打印第一个单词，因为在while循环的条件部分我正在检查字符串开头的地址不等于q持有的地址。因为对于第一个单词条件变为假。请修改条件，使其提供所需的输出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:48:35.117

将while循环修改为do..while循环

@ashrafi iqbal

```
do
{
    if(*q==' ')
    {
        r=q+1;
        while(r!=s+1)
        {
        printf("%c",*r);
        r++;
        }
        printf(" ",*r);
        s=q-1;
    }
    q--;
}while(q!=str); 
```

****___***编辑****_* _****

 **修改 if 条件为

```
if ((*q==' ') || (*q == str[strlen(str) - 1)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:55:17.300

尝试这个：

```
while(1)
{
  if(q==str)
  {
    //Logic to print first word
    break;
  }
  if(*q==' ')
    {
        r=q+1;
        while(r!=s+1)
        {
        printf("%c",*r);
        r++;
        }
        printf(" ",*r);
        s=q-1;
    }
    q--;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:53:15.397

`while`将您的循环修改为：

```
while(1)
{
    if(*q==' ' || q == str)
    {
        if(q == str)
            r = q;
        else
            r=q+1;

        while(r!=s+1)
        {
            printf("%c",*r);
            r++;
        }
        printf(" ",*r);

        if(q == str)
            break;

        s=q-1;
    }
    q--;
} 
```

还，

*   `str-1`正在要求段错误。
*   检查是否`*q`为 NULL 是不好的风格。改为使用`strlen`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T06:47:03.613

在 for 循环之后添加以下行。这将处理前面没有空格的单词（即第一个单词）

```
#include<stdio.h>

int main()
{
    int i=0;
    char str[]="you are selected";
    char *q,*r,*s;
    q=str;
    while(*q!=NULL)
    {
        q++;
    }
    q--;
    s=q;
    while(q!=str) //i tried for q!=str-1 but its not working
    {
        if(*q==' ')
        {
            r=q+1;
            while(r!=s+1)
            {
            printf("%c",*r);
            r++;
            }
            printf(" ",*r);
            s=q-1;
        }
        q--;
    }
    r = q;
    while (*r != ' ' && *r != NULL)
    {
       printf("%c", *r);
       r++;
    }
} 
```**

# php - 用 php 解析 xml - 获取数组中的属性

> ID：15264709
> 
> 赞同：0
> 
> 时间：2013-03-07T06:38:17.827
> 
> 标签：php, xml

我有一些 xml，我试图用以下代码用 php 解析：

```
$data = simplexml_load_file($file_path)
foreach ($data as $obj):
   //get author, date, etc
   ...
            // get the paths
            foreach ($obj->paths as $current):
                $kind = $current['kind'];
                $action = $current['action'];
                $path = $current->path; 
```

但由于某种原因我无法获得 kind 和 action 属性......路径会起作用，但属性不会

xml 看起来像这样：

```
<log>

<logentry
   revision="xxxx">
    <author>xyz</author>
    <date>my date</date>
    <paths>
       <path
          kind="file"
          action="M">/myPath/woohoo</path>
       <path.... *more paths*
    ....more logentries 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:41:39.687

用来`$current->attributes()`获取它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:48:21.110

您正在使用正确的方法来访问属性（编写它就像访问带有表示属性名称的字符串键的数组一样），但是您在错误的元素上执行此操作：

```
$root = simplexml_load_file($path);

foreach ($root->logentry->paths as $current)
{
    $path   = $current->path;
    $kind   = $path['kind'];
    $action = $path['action'];
} 
```

如本例所示，您需要访问 on`$path`和 not on的属性`$current`。就这样。您可能刚刚忽略了这一点，因为该`$path`变量已经在您的问题中。

# python - 如何在 paramiko 中使用 scp 命令

> ID：15264714
> 
> 赞同：2
> 
> 时间：2013-03-07T06:38:52.837
> 
> 标签：python, scp, paramiko

我在 paramiko python 模块“find”和“scp”中使用了两个命令。Find 命令工作正常并给出正确的输出，但 scp 没有给出任何输出。我尝试使用以下代码：

```
import paramiko

class SSH:

    def ssh_Connection(self):
        try:
            self.ssh = paramiko.SSHClient()
            self.ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
            self.ssh.connect('host_name',username='user',password='pass')

        except Exception, e:
            print "================================================"
            print 'ERROR: Remote connection failed with %s' % e
            print "================================================"

    def ssh_Commands(self):
        try:
            stdin, stdout, stderr = self.ssh.exec_command('find /result/main/ -name "*new.txt*"')
            for line in stdout:
                a = line.strip('\n')
                print a
                if a:
                    cmd = 'scp -r %s redhat@192.168.56.32:/results/main/' % a
                    print cmd
                    stdin, stdout, stderr = self.ssh.exec_command(cmd)
                    print stdout.read()
                    print stderr.read()

            self.ssh.close()
        except Exception, e:
            print "================================================"
            print 'ERROR: Commands Execution failed with %s' % e
            print "================================================"

if __name__ == "__main__":
    a = SSH()
    a.ssh_Connection()
    a.ssh_Commands() 
```

但是这个程序对我不起作用..

```
Throwing an error:
Host key verification failed.
lost connection 
```

如何在 paramiko 中使用 scp ......任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:56:40.630

您可以使用`SFTPClient`paramiko 将文件从本地复制到远程服务器。

[SFTPClient](http://www.lag.net/paramiko/docs/paramiko.SFTPClient-class.html)的 put 方法会将本地文件复制到远程服务器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:51:53.443

`host_name`您正在执行命令的服务器`Host key verification failed`（在`known_hosts`文件`host_name`中与 192.168.56.32 返回的密钥不匹配）。

要么修复主机密钥，要么尝试像这样运行 scp：

```
scp -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -r %s ... 
```

（还请注意，如果文件名包含空格，您的 scp 命令将失败，`"%s"`请改为在您的 scp 命令行上使用）。

# java - java问题中的另一个深度优先搜索

> ID：15264716
> 
> 赞同：1
> 
> 时间：2013-03-07T06:39:04.010
> 
> 标签：java, depth-first-search

我正在尝试在 java 中实现深度优先搜索算法，以找到在二次矩阵中移动的最佳方式。我避免创建“不必要的”对象，即只是为了保持 (X,Y) 位置的对象。

我是不是忘记了什么？我以（0,0）的起点和（4,5）的目标运行它。发生的是一个无限循环。

```
int x = this.move_to_x;
int y = this.move_to_y;

Stack X = new Stack();
Stack Y = new Stack();

Stack visited_X = new Stack();
Stack visited_Y = new Stack();

X.push(this.current_x);
Y.push(this.current_y);

while(!X.empty()){
    int tmp_x = (int)X.pop();
    int tmp_y = (int)Y.pop();

    if(tmp_x == x && tmp_y == y){
        System.out.println("best way found!");
        return;
    }

    //there is only 8 possible ways to go (the neighbors)
    for(int a = -1; a < 2; a++){
        for(int b = -1; b < 2; b++){
            if(a == 0 && b == 0){
                break;
            }

            if(visited_X.search(tmp_x + a) == -1 && visited_Y.search(tmp_y + b) == -1){
                X.push(tmp_x + a);
                Y.push(tmp_y + b);

                visited_X.push(tmp_x + a);
                visited_Y.push(tmp_y + b);

                System.out.println("added x " + tmp_x + a + " y " + tmp_y + b);
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:42:59.770

我可以看到几个问题：

1) 在以下内容中：

```
 if(a == 0 && b == 0){
            break;
        } 
```

你应该使用`continue`而不是`break`.

2) 以下内容：

```
if(visited_X.search(tmp_x + a) == -1 && visited_Y.search(tmp_y + b) == -1){ 
```

不正确：该`(tmp_x, tmp_y)`对必须出现*在*`visited_X/visited_Y`.

3）您应该将起始位置添加到`visited_{X,Y}`.

4）从算法上讲，我看不出有任何理由认为您的方法会返回*最短*路径。

5）您的代码最终进入（几乎）无限循环的原因是您没有检查矩阵边界。

# weka - 在 weka ERROR 中更改堆大小

> ID：15264729
> 
> 赞同：0
> 
> 时间：2013-03-07T06:40:26.913
> 
> 标签：weka

当我运行命令时

java -Xmx2g -classpath $CLASSPATH:weka.jar weka.gui.GUIChooser

我得到错误

---注册 Weka 编辑器--- 尝试添加数据库驱动程序 (JDBC)：RmiJdbc.RJDriver - 错误，不在 CLASSPATH 中？尝试添加数据库驱动程序 (JDBC)：jdbc.idbDriver - 错误，不在 CLASSPATH 中？尝试添加数据库驱动程序 (JDBC)：org.gjt.mm.mysql.Driver - 错误，不在 CLASSPATH 中？尝试添加数据库驱动程序 (JDBC)：com.mckoi.JDBCDriver - 错误，不在 CLASSPATH 中？尝试添加数据库驱动程序 (JDBC)：org.hsqldb.jdbcDriver - 错误，不在 CLASSPATH 中？

如何解决这个问题。我需要在 weka 中加载一个具有 1000 多个属性的文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T18:34:11.530

该错误没有说明堆大小，它表示您缺少数据库驱动程序。如果不需要数据库访问，你应该没问题。图形用户界面是否打开？如果是，您可以忽略错误消息。

# mysql - 如何获取包含 where 条件的列名？

> ID：15264732
> 
> 赞同：0
> 
> 时间：2013-03-07T06:40:50.633
> 
> 标签：mysql

我正在尝试使用：

显示 #__tablename 的列 WHERE Field.columnname = 'any value' ;

如果我在没有 where 条件的情况下使用它，那么它会检索所有列名，但我想获取指定的列名。

请建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:47:48.483

您可以使用`information_schema.columns`表而不是`SHOW COLUMNS`语句。该`information_schema.columns`表与 相同`SHOW COLUMNS`，但您可以像使用普通表一样使用结果集。例如 -

```
SELECT * FROM information_schema.columns
WHERE table_schema = 'table name' AND table_name = 'table name'; 
```

指定您需要的列和 WHERE 过滤器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:50:35.400

你可以使用`information_schema.columns`，并添加一个过滤器来获取你想要的列，我认为它有效

```
 SELECT * FROM information_schema.columns
    WHERE table_schema = 'table name' 
           AND table_name = 'table name'
           AND column_name = 'Column name' 
```

# c# - 我该如何替换` `到` ` SharePoint 网站集中的标签？

> ID：15264733
> 
> 赞同：1
> 
> 时间：2013-03-07T06:40:52.087
> 
> 标签：c#, sharepoint, sharepoint-2010

如何替换SharePoint 网站集中`<div>`的标记？`<h>`

可以在控制台应用程序或 PowerShell 脚本中完成吗？哪些方法将能够获取页面源？还是数据库中的代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:57:58.550

可以从 PowerShell 或其他 .NET 语言（如 C#）访问[SharePoint 对象模型](http://msdn.microsoft.com/en-us/library/ms473633%28v=office.14%29.aspx)- 许多教程/示例都涵盖了这一点。

[SPWeb.Files](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.spweb.files.aspx)可用于枚举站点内的文件，[SPFile](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.spfile.aspx)可读取/写入流（或字符串）。同样，SPSite 具有枚举子 SPWeb 对象的方法。

但是，用 H 替换*所有*DIV 元素可能是错误的。而且，一些工件（如应用程序页面或控制模板）存储在文件系统中，而不是内容数据库中，因此无法通过上述 SPFile 方法访问或修改.

# google-maps-api-3 - 如何检查点是否在 KML 多边形中（GIS Shapefile）

> ID：15264735
> 
> 赞同：1
> 
> 时间：2013-03-07T06:41:05.553
> 
> 标签：google-maps-api-3

我有一个从 Shapefile 导出的叠加 KML 多边形，有什么方法可以找到一个点是否在该多边形（KML）中的天气？我知道当我们通过 Google map api 创建多边形时这是可能的

```
var polygon = new google.maps.Polygon([], "#000000", 1, 1, "#336699", 0.3); 
```

但是我们如何使用 KML 覆盖来做到这一点呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T07:02:56.387

KML 有 2 个选项：

1.  [使用geoxml3](https://code.google.com/p/geoxml3/)或[geoxml-v3](https://code.google.com/p/geoxml-v3/)等第三方解析器将您的 KML 呈现为原生 Google Maps API v3 多边形，然后使用您知道的方式。[使用 geoxml3 的示例](http://www.geocodezip.com/geoxml3_test/v3_collection-map2e.html)

2.  将您的 KML 导入 FusionTable，并使用 ST_INTERSECTS 检查您的 Polygon 与[使用 FusionTables 的点示例](http://www.geocodezip.com/v3_collection-map2e_FT.html)周围的小圆圈的交集。[注意使用 FusionTables，您可以使用shpescape.com](http://www.shpescape.com/)直接导入 shapefile

# magento - 在所有页面上放置静态 javascript 代码

> ID：15264736
> 
> 赞同：0
> 
> 时间：2013-03-07T06:41:06.463
> 
> 标签：magento

我是 Magento 的新手。我想知道如何在 magento 网站的所有页面上放置静态 javascript 代码。JS 代码进行了一些初始化并包含另一个托管的 js 文件。另外，我想将此代码添加到所有页面的页脚中。

欢迎任何指导/文档/代码。

提前谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:52:55.543

> 最快的方法是在网站根目录的“js”文件夹中创建一个新文件。要在代码中包含 Javascript 文件，请转到
> 
> ```
> System -> Configuration -> Design -> Footer -> Miscellaneous Scripts 
> ```
> 
> 并像往常一样在此处添加脚本。
> 
> 还有其他方法，但这是最简单的方法。
> 
> *编辑：将 HTML 头更改为页脚，感谢 dagfr*

**- 编辑 -**

上面的例子不是他的意思，他想把JS加到页脚，所以他分发模块的时候，JS也会在页脚。

**回答**

您可以使用模块的布局 .xml 文件来添加 JS 文件。为此，您可以添加以下代码：

```
<action method="addItem"><type>js</type><name>script_name_here.js</name></action> 
```

为了将它放在页脚中，您必须创建一个新块，这将在[下面的文章](http://web.archive.org/web/20130319030627/http://plorp.com/blog/how-to-load-javascript-in-the-footer-in-magento-1-4-2)中进行解释。

# c# - Listview 作为日志文件

> ID：15264740
> 
> 赞同：1
> 
> 时间：2013-03-07T06:41:09.857
> 
> 标签：c#, listview

你好。我有一个 Windows 窗体应用程序。在我做某事之后，我想要的是将更新放在`Listview`. 更像是一个日志文件。这是我的代码：

```
private void Form1_Load(object sender, EventArgs e)
{
    listView1.View = View.Details;
    listView1.GridLines = true;
    listView1.FullRowSelect = true;

    //Add column header
    listView1.Columns.Add("Import Status", 100);
    listView1.Columns.Add("Price", 70);
    listView1.Columns.Add("Date", 70);

    //Add items in the listview
    string[] arr = new string[4];
    ListViewItem itm;

    //Add first item
    arr[0] = "product_1";
    arr[1] = "100";
    arr[2] = "10";
    itm = new ListViewItem(arr);
    listView1.Items.Add(itm);

    //Add second item
    arr[0] = "product_2";
    arr[1] = "200";
    arr[2] = "20";
    itm = new ListViewItem(arr);
    listView1.Items.Add(itm);
} 
```

如何在`ListView`没有“硬编码”的情况下将项目添加到它们？有什么建议么？我怎么能做到这一点`Button.Click`，它可以添加包含一些数据的行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:17:40.423

```
 How can I Add items to the ListView without 'hardcoding' them? 
```

代码

```
 private void Form1_Load(object sender, EventArgs e)
    {
        listView1.View = View.Details;
        listView1.GridLines = true;
        listView1.FullRowSelect = true;
        listView1.Columns.Add("Import Status");
        listView1.Columns.Add("Price");
        listView1.Columns.Add("Date");      
    }

    private void btnAdd_Click(object sender, EventArgs e)
    {
        ListViewItem LVI = new ListViewItem(txtstatus.Text);
        LVI.SubItems.Add(txtPrice.Text);
        LVI.SubItems.Add(txtDate.Text);
        listView1.Items.Add(LVI);
    } 
```

用户界面

![在此处输入图像描述](../Images/b4d74864e4c6bf8881721bcfba702aaa.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:56:04.660

将这两行全球化，以允许您访问类的每个方法：

```
string[] arr = new string[4];
ListViewItem itm; 
```

现在创建一个`button click`事件并将您的代码放入其中：

```
private void button1_Click(object sender, EventArgs e)
        {
            arr[0] = "product_2"; //you can get these values from textboxes if you are taking input from user
            arr[1] = "200";
            arr[2] = "20";
            itm = new ListViewItem(arr);
            listView1.Items.Add(itm);
        } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T07:01:32.690

您好 :) 您可以使用 datagridview 而不是 listview 控件。

您所要做的就是定义自己的数据集或将数据集控件添加到项目中。你只需要将你的三列添加到一个新的数据表中。然后：

*   将该数据集添加到您的表单中，它将出现在您的表单代码中
*   将datagridview的数据源设置为添加的数据集

现在您可以将新数据行添加到数据表中，它们将自动出现在 datagridview 中。好消息是，您必须定义一次表格布局，设计器将为您生成一个自定义数据行类型，您可以使用什么。

我的经验告诉我，这种方式比使用 listview 更舒服。主要的是，如果你想在其他上下文中处理数据表，你可以对数据表进行 LINQ。我之前使用过listview，但是由于datagridview与数据集结合使用，一切都更好；）

真诚的，ceth

# mysql - 具有与分页相关的多个状态变化的Mysql查询

> ID：15264742
> 
> 赞同：1
> 
> 时间：2013-03-07T06:41:17.637
> 
> 标签：mysql

我有这样的桌子

```
id  |  eventid   |  category  | type
----+------------+------------+------
1   |      1     |  music     | event
2   |      2     |  music     | event
3   |      3     |  music     | event
4   |      4     |  music     | event
5   |      5     |  music     | page
6   |      6     |  music     | page 
```

现在我需要获取 4 条记录的数据，其中 2 条来自带有状态事件的表，2 条来自带有状态页面的表

例子：

```
id  |  eventid   |  category  | type
----+------------+------------+------
1   |      1     |  music     | event
2   |      2     |  music     | event

5   |      5     |  music     | page
6   |      6     |  music     | page 
```

我已尝试使用以下查询，但出现错误

```
SELECT * 
FROM event_subcategory
WHERE category =  'music'
AND TYPE =  'event'
LIMIT 2 
UNION 
SELECT * 
FROM event_subcategory
WHERE TYPE =  'page'
LIMIT 2 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:47:47.540

如果您想`LIMIT`在 a中使用`UNION`，最好在子查询周围使用括号，这样您就可以确保限制正确的选择，没有它们，第二个`LIMIT`适用于两个子选择。这更像我认为你想要的那样；

```
(SELECT * FROM event_subcategory WHERE category = 'music' AND TYPE = 'event' LIMIT 2)
UNION     
(SELECT * FROM event_subcategory WHERE TYPE = 'page' LIMIT 2) 
```

[一个用于测试的 SQLfiddle](http://sqlfiddle.com/#!2/5e0d6/2)

（作为旁注，您可能还想添加`WHERE category = 'music'`到您的第二个子查询，因为这两个部分是完全独立的）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:48:34.693

你可以试试这个查询

```
SET @level = 0;
SET @group = '';

SELECT 
        id,
        eventid,
        category,
        typ
FROM (
    SELECT 
        id,
        eventid,
        category,
        type,
        @level := IF(@group = type, @level+1, 1) AS level, 
        @group := type as EGroup 
    FROM event_subcategory
    ORDER BY `type`
) rs
WHERE level < 3 
```

这将从每个组中选择两条记录。您可以在内部查询中放置 where 条件。使用联合，您可以这样调用

```
(SELECT * FROM event_subcategory WHERE `TYPE` = 'event' LIMIT 2)
UNION ALL
(SELECT * FROM event_subcategory WHERE `TYPE` = 'page' LIMIT 2) 
```

# iphone - 从我的项目 ios 中引用外部库项目类或 lib 文件

> ID：15264749
> 
> 赞同：1
> 
> 时间：2013-03-07T06:41:41.910
> 
> 标签：iphone, ios, objective-c, xcode

我需要将一些类文件划分到项目库中，并且我需要将该库引用到我的项目中。

示例：MyProjectXcode 将分为 MyProjectXcode、DatabaseLibraryXcode 和 NetworkLibraryXcode 三个不同的 xcode 项目，但 DatabaseLibraryXcode、NetworkLibraryXcode 是库项目。

MyProjectXcode 需要引用库类。我尝试通过在 MyProjectXcode 中包含它正在工作的库。但我不想将库拖到我的项目中。我只需要参考这些文件。我尝试在用户标题路径中添加那些项目路径没有用。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:07:18.240

打开项目设置>>构建阶段>>链接二进制与库>>向下滚动单击“+”号并从查找器添加库。

用于在 XCode Proj 中创建静态库和链接的链接。

第一个[链接](http://www.voidasterisk.org/post/4232502037/how-to-create-a-ios-static-library-and-link-via-xcode) 第二个[链接](http://www.clintharris.net/2009/iphone-app-shared-libraries/)

# java - 如何从jmeter调用java类？

> ID：15264750
> 
> 赞同：5
> 
> 时间：2013-03-07T06:41:47.703
> 
> 标签：java, jmeter

我写了简单的java程序：

```
package bsh;

import test.Testclass;

public class Whatever {

    public static void main(String args[]){
        Testclass t = new Testclass();
        System.out.println(t.squareIt(8));
    }
} 
```

```
package test;

public class Testclass {

    public Testclass(){
    }

    public int squareIt(int i){
        return i*i;
    }
} 
```

关于这个 java 程序，我有两个问题：

1.  如何从jmeter执行这个java程序？
2.  如何从 jmeter 调用 sqaureIt(int i) 方法？

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:03:00.643

我没有尝试过主类执行，但我确实通过 Jmeter 执行了 Junit 测试用例

看看这个文档[Junitsampler 教程](http://jmeter.apache.org/usermanual/junitsampler_tutorial.pdf)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-03T04:45:56.267

除了遵循 Sudhakar 提到的教程...
您的主要测试用例必须扩展 TestCase 或某种形式。**您的测试方法必须以单词test**
开头或使用注释。 不要像在普通的 java 应用程序中那样使用 void main 方法。 它将自动调用并运行以名称**test**开头的方法。 所以你可以这样做：

 ****```
public class Whatever extends TestCase {

    public void testIt() {
        //test code here
        new Testclass().squareIt(5);
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-07T06:55:21.457

JMeter 通常用于测试 Web 应用程序的性能。如果我错了，请纠正我，但除非您打算将其转换为某种 Web 应用程序，否则您应该尝试使用[VisualVM](http://docs.oracle.com/javase/6/docs/technotes/guides/visualvm/)来衡量您的程序的性能。****

# sql-server - 根据存在或不存在的参数对多个检索记录进行单选查询

> ID：15264753
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:42:06.470
> 
> 标签：sql-server

我正在将一些参数传递给搜索函数。我想要一个查询，如果这些参数为空，则返回所有记录，如果存在则返回与这些参数匹配的那些记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:50:54.363

像...这样的条件

```
Where ISNULL(@Param1,Field1)=Field1 and ISNULL(@Param2,Field2)=Field2 
```

# android - 从内存源重放音频

> ID：15264755
> 
> 赞同：0
> 
> 时间：2013-03-07T06:42:10.373
> 
> 标签：android, audio, media-player, in-memory, replay

我在内存中有一些音频数据（原始未压缩的音频波形，无文件格式）并想重播它。Android 内部的 Mediaplayer 似乎只支持重播存储在磁盘上某处的文件，我找不到可以接受数据数组而不是路径/URL 的 setDataSource() 方法。

那么如何重放未存储在磁盘上的波形呢？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:07:33.067

使用[AudioTrack](http://developer.android.com/reference/android/media/AudioTrack.html)。有关如何设置使用 AudioTrack 的示例，请参见此页面（跳转到“使用 AudioTrack 播放示例”部分，忽略 JNI 内容）[。](http://www.brokenteapotstudios.com/android-game-development-blog/2011/10/playing-a-wav-pcm-sample-with-audiotrack.html)

# controller - Emberjs - 如何从另一个控制器访问一个控制器的方法'

> ID：15264763
> 
> 赞同：4
> 
> 时间：2013-03-07T06:42:39.153
> 
> 标签：controller, ember.js

在 emberjs pre2 中**，**我们可以通过以下方式从另一个控制器访问控制器或控制器中的任何方法：

**App.get('router').get('navController').method1();**

谁能建议 emberjs **rc1**的类似代码是什么？

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-26T17:53:34.703

由于`controllerFor`已弃用，我认为更正确的方法是*需要*：

```
this.get('controllers.nav').method1() 
```

它需要在控制器中声明您的*需求：*

```
App.YourController = Ember.ObjectController.extend({
  needs: ['nav'],
  .... 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T06:55:25.540

在 a`Controller`或 a里面`Route`你可以试试

```
this.controllerFor("nav").method1() 
```

* * *

# 注意力

这是问问题时的正确答案，但由于`controllerFor`已弃用，请检查[joscas的答案](https://stackoverflow.com/a/15644092/1482899)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-03-21T04:03:46.493

在 Ember 2 中，这通过*注入*您想要访问的控制器来工作：

```
export default Ember.Controller.extend({
  nav: Ember.inject.controller(),
}); 
```

或者，如果要指定与控制器名称不同的名称：

```
export default Ember.Controller.extend({
  navController: Ember.inject.controller('nav'),
}); 
```

然后，您可以访问注入控制器的方法，如下所示：

```
this.get('navController').method1() 
```

# android - 水平进度条不更新其状态

> ID：15264769
> 
> 赞同：7
> 
> 时间：2013-03-07T06:42:54.287
> 
> 标签：android, android-asynctask, progress-bar

我试图在我的活动 中显示水平进度条“ **Not ProgressDialog ”**![在此处输入图像描述](../Images/ccbd210eaae2c97874b3516d4c04c603.png)

这是我的 xml 文件包含的内容

```
<ProgressBar
    android:id="@+id/pdialog"
    style="?android:attr/progressBarStyleHorizontal"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"        
    android:indeterminate="true"
     /> 
```

我正在尝试通过设置 pdialog.setProgress() 使用 AsyncTask 类更新其状态，但它没有显示任何进度，它适用于 progressdialog 但不适用于水平进度条。

```
public class MainActivity extends Activity {

private SQLiteDatabase db;
private Cursor cursor;
private ProgressBar pdialog;
private ImageButton btn;

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    setContentView(R.layout.start);
    btn = (ImageButton) findViewById(R.id.startbtn);
    pbar = (ProgressBar) findViewById(R.id.progressBar1);
    pdialog = (ProgressBar) findViewById(R.id.pdialog);
    pdialog.setMax(100);
    pdialog.setProgress(20);
    btn.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {

            pdialog.setVisibility(View.VISIBLE);
            new DownloadFilesTask().execute();

        }
    });
}

private class DownloadFilesTask extends AsyncTask<Void, Integer, Integer> {

    int load = 1;

    protected Integer doInBackground(Void... params) {

        try {
                load = 10 * i;
                MainActivity.this.runOnUiThread(new Runnable() {

                    @Override
                    public void run() {
                        pdialog.setProgress(load);
                    }
                });

            }

        } catch (Exception e) {     

        }   

    }

    protected void onProgressUpdate(Integer... progress) {

        if (progress[0] == 100) {
            pdialog.setVisibility(View.INVISIBLE);          

        }
    }

    protected void onPostExecute(Integer params) {      

    }

}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T07:03:13.243

如果`load`变量正确更改：

而不是这个：

```
MainActivity.this.runOnUiThread(new Runnable() {

                    @Override
                    public void run() {
                        pdialog.setProgress(load);
                    }
                }); 
```

你可以使用：

```
publishProgress(load); 
```

这将自动调用 UI 线程：

```
protected void onProgressUpdate(Integer... progress) {
    int p = progress[0];
    if (p >= 100) {
        pdialog.setVisibility(View.INVISIBLE);          
    }else{
       pdialog.setProgress(p);
    }
} 
```

更新：

`android:indeterminate="true"`如其他答案中指出的那样删除。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T07:20:28.950

在您的布局文件中，请从元素**中删除**以下属性。`android:indeterminate="true"``ProgressBar`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-23T03:20:07.603

我有同样的问题，但我发现问题是接口 View.OnClickListener()。当 pbar 从 btn.setOnClickListener(new View.OnClickListener() {}) 中取出时，它运行良好。否则，它没有更新。然后，我创建了一个将 pbar 传递给 OnXXXClickListener 的构造函数。

```
private class OnXXXClickListener implements View.OnClickListener() {
        private ProgressBar bar;

        public OnXXXClickListener(ProgressBar bar) {
            this.bar = bar;
        }

        @Override
        public void onClick(View v) {

            bar.setProgess(50);
            new DownloadFilesTask().execute();

        }

}
```

然后 pbar 可以正常工作。

# php - 匹配PHP中数组中的值

> ID：15264772
> 
> 赞同：0
> 
> 时间：2013-03-07T06:43:21.103
> 
> 标签：php

我在下面显示的数组中有这些值。

```
$arrayOfId

Array

 (
                    [0] => 45 
                    [1] => 41 
                    [2] => 33 
                    [3] => 42 
                    [4] => 42 
                    [5] => 42 
                    [6] => 42 
                    [7] => 42 
                    [8] => 42 
                    [9] => 42 

                ) 
```

并匹配数组中的特定值。

```
**PHP**

    $user_id = $row['user_id'];
    //comming user id in $row result is $user_id= 42;

    if(in_array($user_id,$arrayOfId))
    { 
    echo "Already exist";
    }else
    {
    echo "Not exist";
    } 
```

奇怪的是它没有进入真正的区块。会是假的。

我通过 Ajax 得到结果。为什么 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T06:49:56.693

```
$arrayOfId  = Array
(
    0 => 45,
    1 => 41, 
    2 => 33, 
    3 => 42,
    4 => 42, 
    5 => 42, 
    6 => 42, 
    7 => 42, 
    8 => 42, 
    9 => 42 

);

$user_id = 52;

if(in_array($user_id,$arrayOfId))
{
   echo "Already exist";
}
else
{
  echo "Not exist";
} 
```

这工作得很好。我在你的代码中没有发现任何问题。检查 $arrayOfId 是否为数组。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T06:51:51.293

我建议对变量和变量`var_dump()`都做。看起来您拼写错误的变量名。另一种选择是在从 JSON 转换时得到一个对象而不是数组。`$user_id``$share_id1`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T06:52:52.893

请检查您的数组的值以及 $row['user_id']，代码工作正常。

```
$array   = array(45 ,41,33,42,42,42,42,42,42 );
$user_id = 42;//$row['user_id'];                    
if(in_array($user_id,$array)){
  echo "It is coming";
} 
```

# sql - 如何在sql server中获取给定日期范围的不同值

> ID：15264774
> 
> 赞同：0
> 
> 时间：2013-03-07T06:43:33.623
> 
> 标签：sql, sql-server, sql-server-2008

我有一张桌子

```
employeeid WorkedDate Hours
   1        1/1/2013  8
   1        1/2/2013  8
   1        1/3/2013  8
   2        1/4/2013  8
   2        1/5/2013  8
   2        1/6/2013  8
   3        1/7/2013  8
   3        1/8/2013  8
   3        1/9/2013  8 
```

我需要如下输出

```
 EmployyeCount    WorkedDate    TotalHours 
        1           1/1/2013           72
        0           1/2/2013           0
        0           1/3/2013           0
        1           1/4/2013           0
        0           1/5/2013           0
        0           1/6/2013           0
         1          1/7/2013           0
         0          1/8/2013           0
         0          1/9/2013           0 
```

我不想在这里按月或年分组。有可能像上面那样出去吗？请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:22:40.890

很难理解你真正想要什么，但从所需的输出推断，恕我直言，你只需要`GROUP BY`约会

```
SELECT COUNT(employeeid) EmployeeCount,
       CAST(WorkedDate AS DATE) WorkedDate,
       SUM(Hours) Hours
  FROM Table1
 WHERE WorkedDate BETWEEN '2013-01-02' AND '2013-01-03'
 GROUP BY CAST(WorkedDate AS DATE) 
```

假设您有这样的样本数据

```
| EMPLOYEEID | WORKEDDATE | HOURS |
-----------------------------------
|          1 | 2013-01-01 |     8 |
|          1 | 2013-01-02 |     8 |
|          1 | 2013-01-03 |     8 |
|          2 | 2013-01-01 |     8 |
|          2 | 2013-01-02 |     8 |
|          2 | 2013-01-03 |     8 |
|          3 | 2013-01-01 |     8 |
|          3 | 2013-01-02 |     8 |
|          3 | 2013-01-03 |     8 | 
```

此查询将为您提供以下输出

```
| EMPLOYEECOUNT | WORKEDDATE | HOURS |
--------------------------------------
|             3 | 2013-01-02 |    24 |
|             3 | 2013-01-03 |    24 | 
```

这是一个**[sqlfiddle 示例](http://sqlfiddle.com/#!3/b5644/9)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:54:32.347

尝试这个。但是，您可能需要对此进行概括。我不能因为要求不明确。

```
;with cte1 as
(select min(workeddate) MIN_date from test group by employeeid),

cte2 as 
(select min_date  min_date from cte1
 except
 select min(min_date)from cte1)

select * from 
(select 1 EID,min(min_date) WORKDATE ,(select sum(hours) from test)Hours from cte1

union 

select 1,min_date , 0 from cte2
union
select 0,workeddate,0 from test where workeddate not in
    (select min_date from cte1))a
order by workdate 
```

[SQL小提琴](http://sqlfiddle.com/#!3/d1032/23)

# jquery - 如何检查轮播（bxslider）是否处于活动状态，然后在初始化新的之前销毁第一个

> ID：15264775
> 
> 赞同：1
> 
> 时间：2013-03-07T06:43:36.190
> 
> 标签：jquery, carousel, bxslider

我在这里使用一种旋转木马（bxslider）[http://bxslider.com/](http://bxslider.com/)

如果我再次调用滑块，我会遇到问题。滑动图像的行为很奇怪。有时它向前移动有时向后移动。但是，如果仅在行为正常时调用它。下面是我的html和脚本。[我还在这里](http://jsfiddle.net/jobzky/YXawY/)提供了 jsfiddle

**HTML**

```
<ul class="bxslider">
  <li><img src="http://bxslider.com/images/730_200/hill_trees.jpg" /></li>
  <li><img src="http://bxslider.com/images/730_200/me_trees.jpg" /></li>
  <li><img src="http://bxslider.com/images/730_200/houses.jpg" /></li>
</ul> 
```

**脚本**

```
var slider=$('.bxslider').bxSlider({
  auto: true
});
slider.destroySlider();
slider.startAuto(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-23T16:00:03.303

您可以像这样重新加载滑块：

```
slider.reloadSlider(); 
```

您还可以在重新加载时添加新选项。[有关更多信息，请参阅文档](http://bxslider.com/examples/reload-slider)。

就我而言，这并没有起到作用。我需要滑块根据屏幕宽度响应加载不同的选项。不是最干净或最优雅的解决方案，但这是我所做的：

```
var slider = { };
var sliderActive = false;
var sliderSize = " ";

$(window).resize(function(){
    if($(window).width() > 740 && sliderSize != 'large') {
        if(sliderActive === true) {
            slider.reloadSlider({
                minSlides: 2,
                maxSlides: 2,
                slideWidth: 570,
                slideMargin: 30,
                controls: true,
                pager: false,
                moveSlides: 1,
                auto: true,
                onSliderLoad: function(){
                    sliderSize = 'large';
                }
            });
        } else if(sliderActive === false) {
            slider = $(".bxslider").bxSlider({
                minSlides: 2,
                maxSlides: 2,
                slideWidth: 570,
                slideMargin: 30,
                controls: true,
                pager: false,
                moveSlides: 1,
                auto: true,
                onSliderLoad: function(){
                    sliderActive = true;
                    sliderSize = 'large';
                }
            });
        } 
    } else if($(window).width() <= 740 && sliderSize != 'small') {
        if(sliderActive === true) {
            slider.reloadSlider({
                controls: true,
                pager: false,
                auto: true,
                onSliderLoad: function(){
                    sliderSize = 'small';
                }
            });
        } else if(sliderActive === false) {
            sliderActive = true;
            slider = $('.bxslider').bxSlider({
                controls: true,
                pager: false,
                auto: true,
                onSliderLoad: function(){
                    sliderActive = true;
                    sliderSize = 'small';
                }
            });
        }
    }
});

// Call window resize to fire the function on document ready
$(window).resize(); 
```

断点是 740px。代码非常臃肿，因为您需要为 reloadSlider() 和 bxSlider() 包含两次选项。我不知道该怎么做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-04-27T10:16:02.257

我有同样的问题并以这种方式修复它。基本上，它检查滑块的父级是否具有 bx-viewport 类，以确保在销毁之前加载 bxslider。

**HTML**

```
<ul class="bxslider">
  <li><img src="http://bxslider.com/images/730_200/hill_trees.jpg" /></li>
  <li><img src="http://bxslider.com/images/730_200/me_trees.jpg" /></li>
  <li><img src="http://bxslider.com/images/730_200/houses.jpg" /></li>
</ul> 
```

**JS**

```
var slider=$('.bxslider').bxSlider({
  auto: true
});
if (slider.parent().hasClass('bx-viewport')){
    slider.destroySlider();
    slider.startAuto();
} 
```

# uiscrollview - contentOffset 的范围是多少

> ID：15264776
> 
> 赞同：1
> 
> 时间：2013-03-07T06:43:51.230
> 
> 标签：uiscrollview, uinavigationbar

使用 setContentOffset 时，contentOffset 的范围是多少？

通常看起来没有约束，但我也发现当scrollView在一个嵌入在navigationController中的viewController中并且**显示了navigationBar**时，contentOffset必须小于contentSize。（嗯，我实际上是指`contentOffset.x < contentSize.width - scrollView.bounds.size.width`and `contentOffset.height < contentSize.height - scrollView.bounds.size.height`）。如果 contentOffset.x 或 contentOffset.y 超出该范围，则该值为最大值，即`contentSize.width - scrollView.bounds.size.width`。

但是在**设置 navigationBar hidden**时， contentOffset 没有约束，我可以设置任何值，并且偏移量可以按需要工作。

那么我错过了什么吗？为什么navigationBar的隐藏对scrollView的contentOffset有影响？

我还在[github](https://github.com/comcuter/ScrollViewContentOffset)上创建了一个项目来说明这个问题。

# c# - 在网站中显示搜索结果

> ID：15264782
> 
> 赞同：1
> 
> 时间：2013-03-07T06:44:13.367
> 
> 标签：c#, asp.net

我正在一个网站上工作，我需要从数据库中搜索项目并将其显示在页面中。我`Datalist`用于显示所有项目。现在我需要根据某个类别显示所有项目。例如，如果我搜索`two-wheeler`它可能有很多类别或制造商的。现在我想根据类别单独显示它。我可以使用很多数据列表来做到这一点，但它会减慢网站速度。我可以使用哪个控件来执行此操作。我搜索了网络但不知道。所以请给我建议去解决它。任何建议将不胜感激。

**代码**：

```
 <asp:DataList ID="Dlitems" runat="server" RepeatDirection="Horizontal"  RepeatColumns="4"
                        CellPadding="0" CellSpacing="15">
         <ItemTemplate>
              <table>
                  <tr>
                    <td>
                      <asp:ImageButton ID="ImgbtnProductImage" CssClass="imgdisp" ImageUrl='<%# Eval("ImagePath") %>'
                                                    CommandArgument='<%#Eval("ProductCode") %>' runat="server" CommandName="cmdView" />
                    </td>
                  </tr>
                  <tr>
                     <td>
                       <table>
                           <tr>
                              <td width="20px"></td>
                              <td>
                                             <img src="../Database/images/inr.jpg" alt="addtocart" />
                                             <asp:Label ID="lblproductprice" runat="server" Text='<%# Eval("Price") %>' CssClass="lbl" />
                                           </td>
                              <td>
                                              <asp:ImageButton ID="imgbtnaddtocart" runat="server" Height="25px" Width="25px" ImageUrl="~/Database/images/addtocart.JPG"
                                                                ToolTip="Add to Cart" CommandArgument='<%#Eval("ProductCode")+","+ Eval("ProductName")+","+ Eval("ImagePath")+","+ Eval("Price")+","+ Eval("LongDescription") %>'
                                                                CommandName="addtocart" />
                                            </td>
                           </tr>
                       </table>
                     </td>
                  </tr>
              </table>
         </ItemTemplate>
    </asp:DataList> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:54:53.113

您可以从中受益`gridview`。
绑定你的gridview数据。
和字母合并行。
例如，您可以使用以下链接
[http://www.codeproject.com/Articles/34337/How-to-merge-cells-with-equal-values-in-a-GridView](http://www.codeproject.com/Articles/34337/How-to-merge-cells-with-equal-values-in-a-GridView)

## 编辑 1

一些链接
[如何在 ASP.NET 中使用 DataList 分别显示组数据？](https://stackoverflow.com/questions/523345/how-to-display-group-data-seprately-using-datalist-in-asp-net)
[http://aspnettuts.wordpress.com/2010/10/21/asp-net-repeater-group-recordsdata-delete-selected-rows/](http://aspnettuts.wordpress.com/2010/10/21/asp-net-repeater-group-recordsdata-delete-selected-rows/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:49:39.687

> 你应该去`Repeater`控制一下。
> 
> [中继器](http://www.aspdotnet-suresh.com/2012/01/repeater-control-example-in-aspnet.html)示例

```
<asp:Repeater runat="server" ID="Repeater1">
    <ItemTemplate>
        <asp:ImageButton ID="ImgbtnProductImage" CssClass="imgdisp" ImageUrl='<%# Eval("ImagePathForTwoWheeler")%> + <%# Eval("ImagePathForCategory") %>'
                                                CommandArgument='<%#Eval("ProductCode") %>' runat="server" CommandName="cmdView" />
    </ItemTemplate>
</asp:Repeater> 
```

# silverlight - Silverlight - 获取 Telerik RadGridView 列并设置切换按钮的内容

> ID：15264784
> 
> 赞同：0
> 
> 时间：2013-03-07T06:44:17.687
> 
> 标签：silverlight, telerik

我有一个 Telerik RadGridView，希望`IsVisible`在单击切换按钮时可以将某些列的属性设置为 false 或 true。

1.  我只能通过`grid.Columns[1].IsVisible = False`. 我想这样设置它`grid.Columns["ColumnName"].IsVisible`，但失败了。那可能吗？我用`x:Name = "ColumnName"`
2.  如何设置此切换按钮的内容属性，例如首先设置为“显示”，然后单击它时，内容更改为“隐藏”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:22:41.037

您应该使用 UniqueName 而不是 x:Name

# javascript - Javascript警报未显示

> ID：15264792
> 
> 赞同：0
> 
> 时间：2013-03-07T06:44:44.293
> 
> 标签：javascript

我有一个带有文本框（名称）和下拉列表（酒店）的表单。

```
<input type="text" name="lname" runat="server" id="LName" tabindex="1" onblur="if(this.value == '&nbsp;') { this.value = '&nbsp;Name'; }"
                            onfocus="if(this.value == '&nbsp;Name') { this.value = '&nbsp;'; }" value="&nbsp;Name"
                            style="color: #000000; border: 1px solid #757575; width: 234px; margin-top: 5px;" />
                        <div class="dropdownselect" style="margin: 15px 0;">
                            <asp:DropDownList ID="drhotel" runat="server" Style="border: 1px solid #757575; width: 234px;
                                height: 16px; *height: 18px;">
                            </asp:DropDownList> 
```

如果未输入任何内容，文本框将默认显示“名称”。我正在尝试使用以下方法验证客户端点击：

```
 function validatecust() {
    if (document.getElementById('<%= LName.ClientID %>').value == '&nbsp;Name') {
        alert('Please enter Name');
        document.getElementById('<%= LName.ClientID %>').focus();
        return false;
    }
    if (document.getElementById('<%= drhotel.ClientID %>').value == 'Select Hotel') {
        alert('Please select Hotel');
        document.getElementById('<%= drhotel.ClientID %>').focus();
        return false;
    }} 
```

![在此处输入图像描述](../Images/4c96687cf04e62e99c1e7067ce1a1c82.png)![在此处输入图像描述](../Images/f88975957dfb41a5e33781819343adea.png)

如果我没有在名称字段中输入任何内容，它不会显示警报。酒店验证工作正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:01:25.073

尝试：

```
if (document.getElementById('<%= LName.ClientID %>').value == 'Name') { 
```

留下空白！如果要缩进文本框中的文本，请使用 css 填充！

如果上述事情不起作用，我认为您应该使用 a`<asp:TextBox/>`而不是输入 runat 服务器！您是否检查过`LName.ClientID`输入的结果值和真实 ID 是什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:53:24.503

更改此行：

```
if (document.getElementById('<%= LName.ClientID %>').value == '&nbsp;Name') { 
```

到：

```
if (document.getElementById('<%= LName.ClientID %>').value == String.fromCharCode(160) + 'Name') { 
```

# php - 通过 PHP 输出的 HTML 列的颜色

> ID：15264794
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:45:02.487
> 
> 标签：php, mysql, ajax

我有一个这样的 MySql 表

```
client_id       client_name     inrement
  123         Jhon          5
  555         Smith        10
  666         Aron             15
  777         Herath           2
  888         Jaya             1
  999         RRR              20 
```

我正在使用以下代码将此表信息获取到 HTML 表

```
<?php
$con = mysql_connect("localhost","root","");
if (!$con)
{
die('Could not connect: ' . mysql_error());
 }

 mysql_select_db("offlinesurv", $con);

 $result = mysql_query("SELECT * FROM increments ");

echo "<table border='3' BORDERCOLOR=BLUE align='center' >
<tr>
<th>Client-id</th>
 <th>Client-Name</th>
 <th>Incre</th>
 </tr>";

while($row = mysql_fetch_array($result))
{
 echo "<tr>";
 echo "<td>" . $row['client_id'] ."</td>";
 echo "<td>" . $row['client_name'] ."</td>";
 echo "<td>" . $row['inrement'] . "</td>";
 echo "</tr>";
 }
 echo "</table>";

 mysql_close($con);
?> 
```

我的出局如下

```
client_id       client_name     inrement
  123             Jhon             5
  555             Smith            10
  666             Aron             15
  777             Herath           2
  888             Jaya             1
  999             RRR              20 
```

我的问题是我需要将输出报告（HTML 表）中增量仅大于 10（增量>10）的行涂成红色。有人可以帮我做这件事。我可以用 PHP 做吗？阿贾克斯？如果是这样，请帮我解决这个问题，因为我都是新手

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:51:10.810

试试这个：

```
while($row = mysql_fetch_array($result))
{
    $class = $row['inrement']>10?'red':'normal';
    echo "<tr>";
    echo "<td class=\"$class\">" . $row['client_id'] ."</td>";
    echo "<td class=\"$class\">" . $row['client_name'] ."</td>";
    echo "<td class=\"$class\">" . $row['inrement'] . "</td>";
    echo "</tr>";
} 
```

然后设置你的 CSS 来处理这两个类（你可以随意命名它们——为了清楚起见，我只是叫它们`red`）`normal`：

```
<style>
.red{
    color: #ff0000;
}
.normal{
    color: #000000;
}
</style> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:49:07.490

`if else block`像这样使用

```
while($row = mysql_fetch_array($result))
{
   if($row['inrement'] > 10) {
   echo "<tr style='color:red;'>";
   echo "<td>" . $row['client_id'] ."</td>";
   echo "<td>" . $row['client_name'] ."</td>";
   echo "<td>" . $row['inrement'] . "</td>";
   echo "</tr>";
   }
   else {
  echo "<tr>";
   echo "<td>" . $row['client_id'] ."</td>";
   echo "<td>" . $row['client_name'] ."</td>";
   echo "<td>" . $row['inrement'] . "</td>";
   echo "</tr>";
   } 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:52:07.550

```
 <?php
echo "<table border='3' BORDERCOLOR=BLUE align='center' >
<tr>
<th>Client-id</th>
 <th>Client-Name</th>
 <th>Incre</th>
 </tr>";
for($i=1;$i<=5;$i++){
  if($i>1){
    echo "<tr style='background:red'>";
  }else{
    echo "<tr>";
  }
 echo "<td>" . 1 ."</td>";
 echo "<td>" . 2 ."</td>";
 echo "<td>" . 3 . "</td>";
 echo "</tr>";
}
 echo "</table>";
?> 
```

这是实现您的要求的一个示例。您可以在代码中应用逻辑。

# sql-update - 数据库表未更新

> ID：15264796
> 
> 赞同：0
> 
> 时间：2013-03-07T06:45:06.997
> 
> 标签：sql-update

我一直在努力处理这段代码。一切都在更新，除了我在数据库中的项目表。每次有人购买时，销售部分都需要加 1。

```
 $setQuery = '';
    if($extended) {
        $setQuery = " `status` = 'extended_buy', ";
    }

    $mysql->query("
        UPDATE `items`
        SET `sales` = `sales` + 1,
                $setQuery
                `earning` = `earning` + '".sql_quote($price)."'
        WHERE `id` = '".intval($item['id'])."'
    ");     

    return true;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T09:21:58.813

您将需要使用子查询相同

这有点像 SET `sales`= (From items where WHERE `id`= '".intval($item['id']) + 1,

您将需要提取它的值，然后添加它。在其他情况下，您可以在变量中选择它并更新它。

# javascript - 将条件转换为函数javascript

> ID：15264797
> 
> 赞同：0
> 
> 时间：2013-03-07T06:45:16.283
> 
> 标签：javascript, jquery, forms, validation

我有一个验证表单数据的功能：

```
var step1_validation = function(){
            var err = 0;
            if($('#one').val() == '0'){
               $('#one').parent().parent().find('.form-error').html("display error for one.");
                err++;
            }
            if($('#other').val() == '0'){
                $('#other').parent().parent().find('.form-error').html("display error for other.");
                err++;
            }
        if($('#eda').val() == ''){
                $('#eda').parent().parent().find('.form-error').html("display error for one eda.");
                err++;
            }

            if(err == 0){
                //do something
            }else{
                //do other stuff               
            }
        }; 
```

由于有几个输入我想验证如何创建一个函数来验证输入是 0 还是空字符串，并在我的函数中调用它？

```
if($('#id').val() == '0'){
   $('#id').parent().parent().find('.form-error').html("display message.");
   err++;
}

or 

if($('#id').val() == ''){
   $('#id').parent().parent().find('.form-error').html("display message.");
   err++;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:47:59.860

像这样？

```
var step1_validation = function () {
    var err = 0;
    err += validateInput('one', 'display error for one.');
    err += validateInput('other', 'display error for other.');
    err += validateInput('eda', 'display error for eda.');

    if (err == 0) {
        //do something
    } else {
        //do other stuff               
    }
};

function validateInput(id, errorMessage) {
    var obj = $('#' + id);
    if (obj.val() == '0' || obj.val() == ''){
       obj.parent().parent().find('.form-error').html(errorMessage);
       return 1;
    }
    return 0;
} 
```

# ember.js - 在我的控制器中，我无法从模板中的表单中读取值

> ID：15264803
> 
> 赞同：3
> 
> 时间：2013-03-07T06:45:41.627
> 
> 标签：ember.js

我的 HTML 中定义了以下模板：

```
<script type="text/x-handlebars" data-template-name="application">
    <div>
        <p>{{outlet}}</p>
    </div>
</script>

<script type="text/x-handlebars" data-template-name="registration">
    <form autocomplete="on">
        First name:<input type='text' name='firstName'><br>
        Last name: <input type='text' name='lastName'><br>
        E-mail: <input type='email' name='primaryEmailAddress'><br>
        Password: <input type='password' name='password' autocomplete='off'><br>
        <button type='button' {{action 'createUser'}}>Register</button>
    </form>
</script> 
```

我的JavaScript如下：

```
App.UsersController = Ember.ObjectController.extend({
    createUser : function () {
        var name = this.get('firstName');
    }
}); 
```

当我单击表单上的按钮时，会调用“createUser”函​​数。但是，我无法从表单中读取任何值。

我的看法如下：

```
App.UsersView = Ember.View.extend({
    templateName : 'registration'
}); 
```

我很欣赏它在我的控制器和模板之间建立了关联，但是在这种情况下我没有看到任何其他价值 - 它是否为我提供了其他任何东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:04:00.690

原因是您没有将输入字段中的任何值绑定到控制器中的任何属性，您可以使用 Ember 内置的[Ember.TextField](http://emberjs.com/api/classes/Ember.TextField.html)，如下所示

```
<script type="text/x-handlebars" data-template-name="registration">
  <form autocomplete="on">
    <!-- 
        The valueBinding="firstName" binds the value entered by the user in the
         textfield to the property firstName in the controller
    -->
    First name:{{view Ember.TextField valueBinding="firstName"}}<br>
    Last name:{{view Ember.TextField valueBinding="lastName"}}<br>
    E-mail:{{view Ember.TextField valueBinding="email"}}<br>
    Password: {{view Ember.TextField valueBinding="password" type="password"}}<br>
    <button type='button' {{action 'createUser'}}>Register</button>
  </form>
</script> 
```

现在可以获得访问权限

```
App.UsersController = Ember.ObjectController.extend({
  createUser : function () {
    alert(this.get('firstName'));
    alert(this.get('lastName'));
    alert(this.get('email'));
    alert(this.get('password'));
  }
}); 
```

**小提琴：http:** [//jsfiddle.net/QEfCG/4/](http://jsfiddle.net/QEfCG/4/)

# mysql - 存储过程语法错误

> ID：15264806
> 
> 赞同：1
> 
> 时间：2013-03-07T06:46:01.190
> 
> 标签：mysql, stored-procedures

```
CREATE PROCEDURE getNumbers
(
@dName VARCHAR(20),
@iNum INT OUTPUT,
@sNum INT OUTPUT
)
AS
BEGIN
@iNum=SELECT count(i.ID) FROM instructor WHERE dept_name=@dName
@sNum=SELECT count(s.ID) FROM student AS s WHERE dept_name=@dName
END 
```

这是我第一次尝试制作存储过程。我不断收到语法错误：@dName VARCHAR(20),

我查看了其他问题并尝试了他们的解决方案，但没有任何效果！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:49:27.767

试试这个表格：

```
CREATE PROCEDURE getNumbers
@dName VARCHAR(20),
@iNum INT OUTPUT,
@sNum INT OUTPUT
AS
BEGIN 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:49:44.583

是 MSSQL 吗？如果是这样，您不需要使用括号，您应该使用以下语法来分配变量：

```
CREATE PROCEDURE getNumbers
@dName VARCHAR(20),
@iNum INT OUTPUT,
@sNum INT OUTPUT
AS
BEGIN
SELECT @iNum=count(i.ID) FROM instructor WHERE dept_name=@dName;
SELECT @sNum=count(s.ID) FROM student AS s WHERE dept_name=@dName;
END 
```

如果您在 MYSql 中执行此操作

```
DELIMITER $$     
CREATE PROCEDURE getNumbers(
    IN dName VARCHAR(20),
    OUT iNum INT,
    OUT sNum INT)
    BEGIN
    SELECT count(i.ID)  INTO iNum FROM instructor WHERE dept_name=dName;
    SELECT count(s.ID) INTO sNum FROM student AS s WHERE dept_name=dName;
    END$$ 

DELIMITER ; 
```

# android - setComponentEnabledSetting 导致异常，它可能会杀死当前应用程序？

> ID：15264810
> 
> 赞同：3
> 
> 时间：2013-03-07T06:46:13.040
> 
> 标签：android, android-activity

我愿意通过以下代码从另一个活动中禁用一个活动，但这会导致一个问题：杀死当前应用程序。SDK 版本为 4.0 。

```
 @Override
 public void onCreate(Bundle savedInstanceState) {  
     PackageManager pm = getPackageManager();

     pm.setComponentEnabledSetting(newComponentName(this,
                                    "com.xxx.launcher.desktop.testActivity"),
                                    PackageManager.COMPONENT_ENABLED_STATE_DISABLED,   
                                    PackageManager.DONT_KILL_APP); 
```

}

是不是缺少某物？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-07T01:52:19.990

你应该看看[http://developer.android.com/reference/android/content/pm/PackageManager.html#DONT_KILL_APP](http://developer.android.com/reference/android/content/pm/PackageManager.html#DONT_KILL_APP)

使用时必须小心`PackageManager.DONT_KILL_APP`，因为它可能导致未定义的行为。特别是如果活动试图禁用自身。如果您针对另一个活动应该没问题，但我猜您要清除的活动在

看来您的呼叫`ComponentName`不正确。你可能会想打电话`new ComponentName(this.getApplicationContext(), testActivity.class)`。或者您可以使用`new ComponentName("com.xxx.launcher.desktop","com.xxx.launcher.desktop.testActivity")`，其中第一个参数是 AndroidManifest.xml 文件中的包，第二个参数是`ComponentName`. 请查看以下 SO 问题以获取有关设置 ComponentName 的信息：[When to use which constructor for ComponentName in Android?](https://stackoverflow.com/questions/4985859) 了解更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-06-24T20:57:51.490

我和OP有同样的问题。

**我注意到，在 Android Studio 的Run**窗口顶部，它并没有尝试启动我的默认启动器活动**SplashActivity**，而是我的应用程序中的另一个启动器活动：

```
Launching 'app' on samsung SM-J320FN.
$ adb shell am start -n "com.example/com.example.NotMyDefaultLauncherActivity" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER 
```

我的应用程序后来尝试禁用**NotMyDefaultLauncherActivity**时毫不客气地退出（通过`packageManager.setComponentEnabledSetting(...)`.

我的解决方案是进入**Run** > **Edit Configurations...** > **Android App** > **app**，在那里我将启动活动从**DefaultActivity**更改为（应该是默认值，因为它是我清单中列出的第一个）`com.example.SplashActivity`。

# java - dojo 弹出窗口正在自动关闭

> ID：15264811
> 
> 赞同：0
> 
> 时间：2013-03-07T06:46:18.333
> 
> 标签：java, jsp, dojo, jsp-tags

我有一个包含以下内容的 JSP 文件

```
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<%@ taglib prefix="portlet" uri="http://java.sun.com/portlet"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<%@ taglib prefix="tag" tagdir="/WEB-INF/tags"%>

<portlet:defineObjects />

<portlet:actionURL var="action" />

<script>
dojo.require("dojo.parser");
dojo.require("dijit.TitlePane");  
dojo.require("dijit.Dialog");
dojo.require("dojo.data.ItemFileReadStore");
dojo.require("dijit.Tree");
dojo.require("dijit.form.DateTextBox");
dojo.require("dijit.Tooltip");

dojo.require("dijit.form.ValidationTextBox");
dojo.require("dijit.form.Form");
dojo.require("dojox.validate");
dojo.require("dojox.validate.web");
dojo.require("dojox.validate.us");
dojo.require("dijit.form.DropDownButton");
dojo.require("dijit.TooltipDialog");
</script>

<form:form name="SubmitForm" action="${action}"> 

<input style="display:block;" id="btnUploadConfirm" class="actionBtn" type="submit" value="Upload" style="float: right;" name="" onclick="dijit.byId('dialogUpload').show();"  /> 

<div dojoType="dijit.Tooltip" connectId="b2" position="above"> Upload </div>

</form:form>

 <div id="dialogUpload" class="confirmationPopupSE popupWidth" dojoType="dijit.Dialog" title="Upload Document" >
 <form method="post" action="<portlet:actionURL/>" enctype="multipart/form-data" onSubmit="return validate();"> 
 <input type="file" name="file" id="uploadFile" /> <br />
 <div id="errorUpload" class="errorMsg"></div>

 <br />
 <div class="">
 <input id="btnUploadConfirm" class="tableButton" type="submit" value="Upload" name="" onclick="setAction2('upload');" />
 <input id="btnUploadCancel" class="tableButton" type="button" value="Cancel"
  onclick="document.getElementById('errorUpload').innerHTML = '';document.getElementById('errorUpload').style.display='none';dijit.byId('dialogUpload').hide();" />
 </div>
 </form>
</div> 
```

如果我使用上面的 jsp 文件运行，然后单击上传按钮，弹出窗口会出现，但它会立即关闭。

但是，如果我在没有外部 form:form 标签的情况下运行上面的代码，弹出窗口会按预期正常工作并且不会自行关闭。这有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T17:05:59.033

尝试停止点击事件的传播：

```
 <input id="btnUploadConfirm" [snip] onclick="setAction2('upload');return false;" /> 
```

或者也许只是`type="submit"`从 btnUploadConfirm中删除

# objective-c - xcode相机检查模拟器

> ID：15264819
> 
> 赞同：3
> 
> 时间：2013-03-07T06:46:36.773
> 
> 标签：objective-c, camera, uialertview

我已经在我的应用程序中运行了相机，并且在模拟器中访问它的按钮被禁用，但是如果用户从不使用它，我也会弹出一个警报。如果他们的设备没有摄像头，我不希望出现这种情况，并且我使用过：

```
if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
{
    //alert
} 
```

但在模拟器中它仍在运行警报。不幸的是，我没有没有摄像头的设备来测试它，我不确定是否存在问题。我不希望它能够运行，因为模拟器没有摄像头，对吧？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:08:53.170

这就是我为此目的使用的：

```
- (void) initializeCamera {
    AVCaptureDevice* device = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeVideo];
    NSError *error = nil;
    AVCaptureDeviceInput *input = [AVCaptureDeviceInput deviceInputWithDevice:device error:&error];

    if(!input) {
        // running on simulator or something else without camera
        NSLog(@"camera is not found");
    }
    else {
        // camera exists, you can alert
    }
} 
```

# javascript - Javascript：从regExp变量中删除第一个和最后一个\

> ID：15264820
> 
> 赞同：0
> 
> 时间：2013-03-07T06:46:37.057
> 
> 标签：javascript, regex

我正在拼凑一个将鼠标 X，Y 坐标映射到轴网格的脚本。然后将生成的变量传递给 CSS 转换属性。我得到了我需要的所有数字，但我被困在最后一部分，即删除结果周围的 \，它已被转换为正则表达式以允许负整数。

```
var resultX = RegExp(Math.round(mousePos.x/6.6) -60);
resultX = resultX.replace(/\//g,''); 
```

无论我怎么做，最后阶段（剥离斜线）都会引发错误。我试过封装`.replace`在一个函数中，并使用`return`，但我继续得到同样的错误：

> TypeError: 'undefined' 不是函数（评估 'resultX.replace(///g,'')'）

我被卡住了，无法在任何地方找到解决方案。也许问题是我的变量不是真正的字符串？或者，也许有人对允许负整数的更好方法提出了建议。

JS 小提琴：http: [//jsfiddle.net/wAKnY/](http://jsfiddle.net/wAKnY/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:56:16.833

就像评论中提到的 JayC 一样，似乎没有理由首先转换为 RegExp，所以我只建议删除封闭的`RegExp()`.

但是，如果您出于某种此处不明显的原因需要它，则可以调用`toString()`它以使`replace`函数能够正确运行：

```
resultX = resultX.toString().replace(/\//g,''); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:55:37.970

正如 JayC 所说，您首先不需要正则表达式。

```
var resultX = (Math.round(mousePos.x/6.6)-60).toString; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:57:55.523

这有效：

```
resultX = resultX.toString().replace(/\//g, '');
resultY = resultY.toString().replace(/\//g, ''); 
```

# compiler-construction - 十六进制汇编编辑器命令入门？

> ID：15264837
> 
> 赞同：0
> 
> 时间：2013-03-07T06:47:37.033
> 
> 标签：compiler-construction, hex, disassembly

我正在玩逆向工程软件。我有基本的编码经验，但只使用 java 和 python 等顶级语言。

我已经用 IDA pro 反汇编了一些 exe，以查看流程结构，并使用 Hex Workshop 编辑十六进制代码并重新编译。所以，我把所有这些机制都搞定了，可以成功创建我编辑的 exe。

是否有任何关于命令是什么以及它们如何工作的好的指南？我的 google-fu 找不到任何东西。我什至不确定它们叫什么。它与我习惯的编码如此不同，以至于我真的很难在脑海中解析它。

我说的是 jz、jnz、eax、lea、mov、cmp 等等。我可以找到一些对个别命令的零散参考，这些参考有些有用，但不足以用来做有用的事情。我正在寻找关于整个主题的良好入门。我可以完成一些事情，并对他们所做的事情以及如何改变他们做我想做的事情有一个基本的了解。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:51:42.073

`jz`, `mov`, 等等...那些被称为*指令*，而不是命令（除了`eax`，它是一个*寄存器*）。

您正在编辑的字节称为*操作码*，这些是处理器从内存中获取并解码为指令的内容。

例子：当你看到

```
.text:00428E4A  8B F0    mov   esi, eax 
```

描述这一行的正确方法是：地址 0x00428E4A 是操作码 8B F0。这些操作码被解码为`mov`指令，源操作数是`eax`寄存器，目标操作数是`esi`寄存器。

此处详细信息的权威来源是[英特尔® 64 和 IA-32 架构软件开发人员手册](http://www.intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html)。具体来说，您需要第 2 卷，指令集参考，AZ。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:51:12.543

您需要确定编译 EXE 的 CPU。然后你用谷歌搜索这个 CPU 的汇编语言。在不太可能的情况下，您找不到它，您可以搜索 CPU 的数据表。

# scala - 在 Scala 中，泛型类型参数可以与 *function* 定义一起使用吗？

> ID：15264838
> 
> 赞同：20
> 
> 时间：2013-03-07T06:47:39.147
> 
> 标签：scala, generics

是否有允许函数文字上的泛型类型参数的语法？我知道我可以将其包装在以下方法中：

```
def createLongStringFunction[T](): (T) => Boolean = {
  (obj: T) => obj.toString.length > 7
} 
```

但后来我最终需要为每种类型 T 调用该方法并获得一个新函数。我查看了语言参考，虽然我看到编译器将函数文字语法转换为本身具有通用输入类型的*Functionn*对象的实例，但看起来编译器魔法在创建时实现了这些参数。实际上，我没有找到任何允许我“使*Functionn*的一个或多个类型参数未绑定”的语法。我更喜欢的是：

```
// doesn't compile
val longStringFunction: [T](T) => Boolean = (obj: T) => obj.toString.length > 7 
```

有没有这样的事情存在？或者就此而言，当被扩展的方法具有泛型参数时，eta-expansion 函数的显式类型是什么？

这是一个纯粹人为且无用的示例。当然，我可以让函数在这里使用 Any 。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-07T06:58:28.843

不，类型参数仅适用于方法而不适用于函数对象。例如，

```
def f[T](x: T) = x     //> f: [T](x: T)T
val g = f _            //> g: Nothing => Nothing = <function1>
// g(2)                // error
val h: Int=>Int = f _  //> h  : Int => Int = <function2>
h(2)                   //> res0: Int = 2 
```

该方法`f`不能转换为多态函数对象`g`。如您所见，推断的类型`g`实际上是`Function1[Nothing, Nothing]`，这是没有用的。但是，通过类型提示，我们可以构造`h: Function1[Int,Int]`出按预期工作的`Int`参数。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-07T09:54:44.967

正如您所说，在您的示例中，您所需要的只是`toString`方法，因此`Any`通常是解决方案。`List`但是，在将类型构造函数应用于元组中的每个元素等情况下，需要能够使用更高级别的类型。

正如其他答案所提到的，对此没有直接支持，但是有一种相对不错的编码方式：

```
trait ~>[A[_],B[_]] {
  def apply[X](a : A[X]) : B[X]
}

type Id[A] = A //necessary hack

object newList extends (Id ~> List) {
  def apply[X](a : Id[X]) = List(a)
}

def tupleize[A,B, F[_]](f : Id ~> F, a : A, b : B) = (f(a), f(b))

tupleize(newList, 1, "Hello") // (List(1), List(Hello)) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T08:45:33.640

由于`longStringFunction`定义如下是一个**值**，它必须有一些**给定的类型**。

```
val longStringFunction: (T) => Boolean = (obj: T) => obj.toString.length > 7 
```

但是，您可以使用方法重用函数对象：

```
scala> val funObj: Any => Boolean = _.toString.size > 7
funObj: Any => Boolean = <function1>

scala> def typedFunction[T]: T => Boolean = funObj
typedFunction: [T]=> T => Boolean

scala> val f1 = typedFunction[String]
f1: String => Boolean = <function1>

scala> val f2 = typedFunction[Int]
f2: Int => Boolean = <function1>

scala> f1 eq f2
res0: Boolean = true 
```

这是有效的，因为`trait Function1[-T1, +R]`它是type的**逆变**`T1`器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-12-26T10:15:50.177

在scala中，函数值是参数单态的（而方法是多态的）

Shapeless 库引入了多态函数值，这些函数值可以映射到 HList 和许多其他特性上。

请考虑以下参考：http: [//www.chuusai.com/2012/04/27/shapeless-polymorphic-function-values-1/](http://www.chuusai.com/2012/04/27/shapeless-polymorphic-function-values-1/) [http://www.chuusai.com/2012/05/10/shapeless-多态函数值-2/](http://www.chuusai.com/2012/05/10/shapeless-polymorphic-function-values-2/)

# php - 从 jQuery 向 Google 图表传递选项

> ID：15264844
> 
> 赞同：0
> 
> 时间：2013-03-07T06:48:02.660
> 
> 标签：php, jquery, google-visualization

我正在尝试通过使用 jQuery 调用 PHP 页面来自动创建图表（使用 Google Charts API）。我正在为数据返回 JSON，目前，我只是为选项返回一个字符串。

图表“数据”工作正常，但我很难自动传递“选项”。我的代码片段如下：

```
 var jsonData = $.ajax({
        url: "http://server.com/charts/dev/data.php",
        dataType:"json",
        async: false
    }).responseText;

    var optionData = $.ajax({
        url: "http://server.com/charts/dev/options.php",
        dataType:"text",
        async: false
    }).responseText;

    var data = new google.visualization.DataTable(jsonData);
    var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
    chart.draw(data, optionData); 
```

如果我删除试图获取“optionData”的 jQuery，并自己提供它，图表就会加载。否则，我得到“无法读取 null 的属性 '0'”显示为错误（控制台上没有任何内容）。

PHP 页面 'options.php' 看起来像这样（现在）：

```
<?php
echo <<< 'EOT'
{width: 400, height: 240}
EOT; 
```

如果我添加 Console.Log(optionData)，我会得到`{width: 400, height: 240}`预期的结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:58:05.050

你能测试替换optiondata的数据类型吗？

从：

```
 var optionData = $.ajax({
        url: "http://server.com/charts/dev/options.php",
        dataType:"text",
        async: false
    }).responseText; 
```

到：

```
 var optionData = $.ajax({
        url: "http://server.com/charts/dev/options.php",
        dataType:"JSON",
        async: false
    }).responseText; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:34:04.933

要对 ajax 调用进行故障排除，请定义错误、成功和完成回调：

```
var optionData = $.ajax({
    url: "http://server.com/charts/dev/options.php",
    dataType:"json", // I think using 'text' here is wrong as `draw` expects objects
    async: false,
    error: function(xhr, status, err){
        console.log('Error: ' + xhr); // you can also output status and err if needed
    },
    success: function(data){
        console.log('Success: ' + data);
    },
    complete: function(data){
        console.log('Complete: ' + data);
    }
}).responseText; 
```

还有一件事，要确保 PHP 返回一个对象 json 在 PHP 中对其进行编码：

```
echo json_encode($your_data); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-09T12:12:55.207

无论我尝试什么，jQuery 似乎总是返回一个字符串，而不是一个对象。

这对于“google.visualization.DataTable”来说很好，但“google.visualization.AreaChart”需要一个对象。我现在正在使用这样的东西，效果很好：

```
var optionData = jQuery.parseJSON($.ajax({
    url: "http://server.com/charts/release/getChartOptions.php",
    dataType:"json"
    async: false
}).responseText); 
```

感谢您的帮助！

# .net - 使用 DevPartner 分析内存泄漏

> ID：15264845
> 
> 赞同：0
> 
> 时间：2013-03-07T06:48:08.067
> 
> 标签：.net, winforms, memory-leaks, devpartner

我们正在使用 DevPartner 来分析我们的应用程序中的内存泄漏。

在使用 DevPartner 进行内存泄漏分析后，我得到了一组分析报告。实际上，我不知道如何生成报告。

不管怎样，现在我开始分析报告。他们展示了一些内存泄漏百分比的方法和对象。

实际上，我们有时会运行它，作为分析的一部分，我们修复了一些泄漏，例如假设在方法中声明了一个私有对象，并且我们在方法结束时使用后处理了该对象。

现在，当我们再次运行 DevPartner 时，它在报告中显示了相同的对象。我不确定为什么它再次显示相同的对象。

同样，我们的一个类正在实现 IDisposable 接口，在`Dispose()`方法中我们要么清除对象，要么释放对象。现在该对象也显示为 DevPartner 泄漏的内存。

有人知道 DevPartner 如何分析应用程序中的内存泄漏吗？

谢谢。

# c++ - C++中的字符串编码

> ID：15264846
> 
> 赞同：-1
> 
> 时间：2013-03-07T06:48:16.573
> 
> 标签：c++, encoding

我需要将字符串“Test €”转换为“Test €” 反之亦然。请注意它是一个字符串，而不是来自 xml。为了您的信息，我正在用 C++ 开发应用程序，并使用 Xerces 进行 XML 解析。请帮助我如何在 C++ 应用程序中实现它。

谢谢，拉姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:07:51.570

我认为这个答案可能取决于平台，尽管我不确定。

您可以使用字符串流和强制转换。如果`lookup`是一个包含十进制字符代码的字符串，此函数将返回字符版本：

```
char fixchar(string lookup){
    stringstream converter (lookup);
    int i;
    converter >> dec >> i;
    return (char)i 
```

（请注意，对于前缀为`#x`代替的十六进制字符串，`#`您可以只使用`hex`代替`dec`）。

您可以`lookup`使用`find`原始字符串上的函数来获取字符串。这是一个循环，它使用上述函数将`fixd`带有子字符串的字符串（称为 ）转换`&#x[number]`为没有字符代码的普通字符串：

```
while (fixd.find("&#x")!=string::npos){
    tag = int(fixd.find("&#"));
    endtag = int(fixd.find(";"));
    fixd = fixd.substr(0,tag) + fixchar(fixd.substr(tag+3,endtag-tag-3)) + fixd.substr(endtag+1, fixd.length()-tag-4);
} 
```

同样，您应该能够通过强制转换来获得字符的 int 版本，之后您可以对它做任何您想做的事情，包括以十进制形式将其添加到字符串中。

# php - 如何使用动作脚本 (flash) 和 php 后端构建实时多人游戏

> ID：15264847
> 
> 赞同：0
> 
> 时间：2013-03-07T06:48:18.180
> 
> 标签：php, mysql, facebook, flash, multiplayer

我想使用flash（动作脚本3）作为前端构建一个实时多人游戏，并使用php作为后端语言和mysql数据库。网上有很多帖子和教程，但我没有找到满足我要求的文章。

我想到了使用 smartfox 服务器。但最近他们不支持 php 后端技术。这是他们的技术人员的答案。

[http://www.smartfoxserver.com/forums/viewtopic.php?f=18&t=15791](http://www.smartfoxserver.com/forums/viewtopic.php?f=18&t=15791)

这似乎是一个有用的帖子，但它没有给我完整的信息来处理使用 php 后端的游戏。

[http://gafferongames.com/networking-for-game-programmers/what-every-programmer-needs-to-know-about-game-networking/](http://gafferongames.com/networking-for-game-programmers/what-every-programmer-needs-to-know-about-game-networking/)

我们是否必须在前端使用网络套接字。以及如何处理用户在网站上的延迟。此外，我应该使用 Facebook 登录来吸引更多用户参与游戏。

我的游戏应该有多人游戏功能，就像 facebook 上的这个一样。 [https://apps.facebook.com/livepool/](https://apps.facebook.com/livepool/)

有人可以建议我吗？

# html - 如果浏览器窗口大于 1138px × 825px，则 CSS 覆盖

> ID：15264850
> 
> 赞同：1
> 
> 时间：2013-03-07T06:48:29.537
> 
> 标签：html, css

所以我正在编写一个网站，body bg 图像设置为 background-image:cover。它工作正常，但有一个问题。我的背景图片是 1138px × 825px，如果浏览器窗口小于 1138px × 825px，我希望它保持这些尺寸。我希望图像表现得像普通背景图像而不是缩小。当浏览器打开大于 1138px × 825px 时，我希望 css 封面功能启动。我尝试应用 min-height/min-width 和 height/width 但没有占上风。有什么想法或解决方案吗？提前非常感谢。网站和 CSS 代码如下。

网站：test.baysidemarket.com

CSS 代码：

```
#home{
background:url('imgs/back01.jpg') no-repeat top left fixed;
-webkit-background-size: cover;
-moz-background-size: cover;
-o-background-size: cover;
background-size: cover;
width: 1000px;
height: 725px;

} 
```

html:

```
<body id="home">
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:18:13.240

在 css 中做到这一点的唯一方法是使用

```
@media (min-width: 1138px) and (min-height: 828px){
// your code for larger display
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:13:13.263

我没有对此进行测试，但这在逻辑上应该有效：

```
'use strict';
$(document).ready(function(){
    var body_w = $('body').css('width').replace('px', '') * 1;
    var body_h = $('body').css('height').replace('px', '') * 1;
    console.log(body_w + 'x' + body_h);

    // Initial check
    if (body_w > 1138 && body_h > 825) {
        $('body').css({
            '-webkit-background-size' : 'cover',
            '-moz-background-size' : 'cover',
            '-o-background-size' : 'cover'
            'background-size' : 'cover'
        });
    }

    $(window).resize(function(){
        var body_w = $('body').css('width').replace('px', '') * 1;
        var body_h = $('body').css('height').replace('px', '') * 1;

        if (body_w > 1138 && body_h > 825) {
            $('body').css({
                '-webkit-background-size' : 'cover',
                '-moz-background-size' : 'cover',
                '-o-background-size' : 'cover'
                'background-size' : 'cover'
            });
        }
        else {
            $('body').css({
                '-webkit-background-size' : 'auto',
                '-moz-background-size' : 'auto',
                '-o-background-size' : 'auto'
                'background-size' : 'auto'
            });
        }
    });
}); 
```

它会进行初始检查是否应该使用`cover`并在调整窗口大小时再次检查。

不要忘记删除最初的 CSS `background-size`，因为它不再需要了。

```
#home{
    background:url('imgs/back01.jpg') no-repeat top left fixed;
    width: 1000px;
    height: 725px;
} 
```

注意：如果可能，请尝试升级您的 jQuery。我看到你使用 1.7.2，尝试使用 1.9.x

# .net - ,net 3.5 项目引用 4.5 dll

> ID：15264858
> 
> 赞同：0
> 
> 时间：2013-03-07T06:49:08.007
> 
> 标签：.net, dll, reference

我在 .Net 3.5 中有一个项目，使用 VS2010 创建，在 3.5 中引用 Exchange 2010 dll。

我必须使这个项目与 Exchange 2013 兼容，为此我需要引用为 4.5 框架构建的 Exchange 2013 dll（如 Microsoft.Exchange.Management.dll）。

我可以使用针对 .Net 3.5 的相同项目并使用 Visual Studio 2010 引用 4.5 框架的 Exchange dll。

我可以使用面向 4.5 框架的 VS 2010，还是必须仅使用 Visual Studio 2012 来创建 .Net Fx 4.5 程序集。

谢谢，加根

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T10:22:22.567

对不起，加根，

这在逻辑上无法完成，因为 .net 框架不允许向前兼容。

但是您可以做的是您可以尝试将其转换为 MSIL 并将其重新编译为 3.5。

但是对于您的 3.5 支持 4.0 的问题，它是否。

# java - 获取服务器的日期或时间

> ID：15264859
> 
> 赞同：1
> 
> 时间：2013-03-07T06:49:19.127
> 
> 标签：java, date, netbeans, time

我有这些代码可以在我的桌面上获取当前日期。

```
SimpleDateFormat dnow = new SimpleDateFormat("MM-dd-yyyy");
text.setText(dnow.format(new java.util.Date())); 
```

现在我有服务器和电脑，如何获取服务器的时间，如果我安装程序，计算机将在我的程序中有服务器的时间，因为我的数据库位于服务器中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:29:55.127

如果服务器不提供任何服务来执行相同的操作，您将无法获取服务器日期和时间。因此，您可以在服务器上安装服务并从系统调用它。

如果服务器是数据库服务器，则可以选择连接到数据库服务器并运行查询以获取时间，例如：

*   甲骨文

    ```
    SELECT TO_CHAR(CURRENT_DATE, 'DD-MON-YYYY HH:MI:SS') FROM DUAL; 
    ```

    或者

    ```
    SELECT TO_CHAR(SYSDATE, 'DD-MON-YYYY HH:MI:SS') FROM DUAL; 
    ```

*   MySQL

    ```
    SELECT CURDATE(); 
    ```

*   SQL 服务器

    ```
    SELECT GETDATE()
    GO 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:01:13.290

如果要获取服务器的当前日期，可以通过服务器上的 Servlet 或 WebService 请求值“System.currentTimeMillis()”。

```
System.currentTimeMillis() returns number of milliseconds since 1970. 
```

# java - Spring web flow：如何返回一个带有自定义属性的Event对象，然后在flow.xml中访问它

> ID：15264863
> 
> 赞同：0
> 
> 时间：2013-03-07T06:49:33.260
> 
> 标签：java, spring, spring-webflow, web-deployment

这是一个从 Spring 动作状态调用的片段。

```
public Event doSomething(){

    /* do something */

    // (1) How to create a instance of this and set custom attributes?
    AttributeMap customAttributeMap; 

    Event done = new Event(this, "done", customAttributeMap);

} 
```

这是 flow.xml 中调用 about 方法的片段：

```
<action-state id="someStateId">
    <evaluate expression="flowAction.doSomething" />
    <transition on="done">
            <!-- (2) How do I access my custom attribute set in Event -->
        <evaluate expression="currentEvent.attributes.pageName" result="requestScope.pageName" />
    </transition>
</action-state> 
```

所以，我的问题是：

1.  如何创建具有自定义属性集的事件？
2.  如何在 spring flow xml 文件中访问此事件的自定义属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:58:09.120

You can use a LocalAttributeMap. The flow would be something like this:

```
<action-state id="action1">
   <evaluate expression="myFirstController.setAttribute()"/>
   <transition on="done" to="action2"/>
</action-state>

<action-state id="action2">
   <evaluate expression="mySecondController.getAttribute(flowRequestContext.currentEvent.attributes)"/>
   <transition on="done" to="myView"/>
</action-state> 
```

The method setAttribute of the first controller sets the attribute map:

```
public Event setAttribute() {
   Map<String,String> map = new HashMap<String,String>();
   map.put("testAttribute", "test");
   AttributeMap attributeMap = new LocalAttributeMap(map);
   return new Event(this, "done", attributeMap);
} 
```

And then you could get the attribute value at the other controller:

```
public Event getAttribute(AttributeMap attributeMap) {
   String value = attributeMap.getString("testAttribute");
   ...
} 
```

Regards.

# javascript - Javascript 继承和对象字面量

> ID：15264873
> 
> 赞同：6
> 
> 时间：2013-03-07T06:50:20.777
> 
> 标签：javascript, jquery, oop, prototypal-inheritance

在 JavaScript 中，据说对象字面量具有原型链接，但函数对象同时具有原型链接和原型属性。

因此，基于上述内容，是否可以说继承（使用原型属性）仅适用于函数对象（构造函数版本）而不适用于对象文字？

另外，要补充的`__proto__`是，并非所有浏览器都可以访问该属性...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T19:47:03.990

**短版**：

是：原型链不能通过分配给对象的`prototype`属性来设置或修改。您不能通过使用对象文字创建对象然后给它一个名为 的属性来设置继承`prototype`。这样的属性将被调用`prototype`，但不会被考虑用于原型继承。

**更长：**

如果您访问的属性是`undefined`，则会检查该对象的继承链。因此，如果`obj['prop']`是`undefined`，那么`obj.prototype['prop']`将被检查。在许多浏览器中，`prototype`属性在内部作为`__proto__`属性实现，但这不是重点。相反，关键是如果某个属性是`undefined`，则检查对象的原型是否有该属性。

`prototype`正如人们在评论中所说，只能通过将对象分配给函数的属性然后将该函数用作构造函数来赋予对象提供上述继承的原型。

但是，`prototype`构造函数调用产生的对象的属性不是`object.hasOwnProperty('prototype')`。另一方面，如果您将`prototype`属性分配给一个对象，那么该对象将`object.hasOwnProperty('prototype')`，但随后`object.prototype`将与原型链无关 - 它只是一个常规属性，并且会碰巧调用`prototype`。

为了证明这一点：

```
var foo = {};
foo.prototype = {bar: 'hello'};
console.log(foo.bar); // undefined
console.log(foo.prototype); // Object {bar: "hello"}
console.log(foo.hasOwnProperty('prototype')); // true

var Foo = function() {};
Foo.prototype = {bar: 'hello'};
var f = new Foo;
console.log(f.bar); // 'hello';
console.log(f.hasOwnProperty('bar')); // false
console.log(f.prototype); // undefined
console.log(f.hasOwnProperty('prototype')); // false 
```

# java - java.io.FileNotFoundException：尝试在 Android 中发送 POST 请求时

> ID：15264874
> 
> 赞同：1
> 
> 时间：2013-03-07T06:50:24.040
> 
> 标签：java, android, http-post

我正在尝试使用此代码访问本地网络上特定 URL 的信息

```
protected void Authenticate(String mUsername, String mPassword)
{           
    HttpURLConnection connection;
    OutputStreamWriter request = null;

    URL url = null;   
    String response = null;         
    String parameters = "username="+mUsername+"&password="+mPassword;   

    try
    {
        url = new URL("http://192.168.2.5:8000/mobile/");
        connection = (HttpURLConnection) url.openConnection();
        connection.setDoOutput(true);
        connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
        connection.setRequestMethod("POST");    

        request = new OutputStreamWriter(connection.getOutputStream());
        request.write(parameters);
        request.flush();
        request.close();            
        String line = "";
        System.out.println("this is connection "+connection);
        InputStreamReader isr = new InputStreamReader(connection.getInputStream());
        BufferedReader reader = new BufferedReader(isr);
        StringBuilder sb = new StringBuilder();
        while ((line = reader.readLine()) != null)
        {
            sb.append(line + "\n");
        }
        // Response from server after login process will be stored in response variable.                
        response = sb.toString();
        // You can perform UI operations here
        System.out.println("this response"+response);
        Toast.makeText(this,"Message from Server: \n"+ response, 0).show();             
        isr.close();
        reader.close();

    }
    catch(IOException e)
    {
        e.printStackTrace();
        // Error
    }
} 
```

我可以在安卓手机的浏览器中手动打开网址，但是当我尝试使用应用程序的发布请求部署它时，它显示`java.io.FileNotFoundException: at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:1162)`请参考日志

```
03-01 16:26:16.976: W/System.err(662): java.io.FileNotFoundException: http://192.168.2.5:8000/mobile/
03-01 16:26:16.976: W/System.err(662):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:1162)
03-01 16:26:16.976: W/System.err(662):  at com.demo.android.LaunchActivity.Authenticate(LaunchActivity.java:111)
03-01 16:26:16.984: W/System.err(662):  at com.demo.android.LaunchActivity.onClick(LaunchActivity.java:76)
03-01 16:26:16.984: W/System.err(662):  at android.view.View.performClick(View.java:2408)
03-01 16:26:16.984: W/System.err(662):  at android.view.View$PerformClick.run(View.java:8816)
03-01 16:26:16.984: W/System.err(662):  at android.os.Handler.handleCallback(Handler.java:587)
03-01 16:26:16.984: W/System.err(662):  at android.os.Handler.dispatchMessage(Handler.java:92)
03-01 16:26:16.984: W/System.err(662):  at android.os.Looper.loop(Looper.java:123)
03-01 16:26:16.984: W/System.err(662):  at android.app.ActivityThread.main(ActivityThread.java:4627)
03-01 16:26:16.984: W/System.err(662):  at java.lang.reflect.Method.invokeNative(Native Method)
03-01 16:26:16.984: W/System.err(662):  at java.lang.reflect.Method.invoke(Method.java:521)
03-01 16:26:16.984: W/System.err(662):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:876)
03-01 16:26:16.984: W/System.err(662):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:634)
03-01 16:26:16.984: W/System.err(662):  at dalvik.system.NativeStart.main(Native Method)
03-01 16:26:16.984: I/System.out(662): login button has been pressed 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-25T07:50:30.550

在清单中添加权限

```
 <uses-permission android:name="android.permission.INTERNET" /> 
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/> 
```

# c++ - 使用 CFDictionarySetValue() 将结构存储为值

> ID：15264875
> 
> 赞同：2
> 
> 时间：2013-03-07T06:50:25.627
> 
> 标签：c++, c, core-foundation

我是使用核心基础的新手。我想使用字典来存储一些键值对。该值必须是指向结构的指针。该指针指向动态分配的缓冲区。

```
CFMutableDictionaryRef init_hash_table() {

    return CFDictionaryCreateMutable(NULL, 0, &kCFTypeDictionaryKeyCallBacks, &kCFTypeDictionaryValueCallBacks);
} 
```

这用于创建字典并将返回值存储为全局变量。

```
CFNumberRef
create_hash_key(int sd) {
    return CFNumberCreate(NULL, kCFNumberIntType, &sd);
}

int
add_hash_entry(CFMutableDictionaryRef dict, int sd, void *pkt) {

    CFNumberRef key = create_hash_key(sd);

    CFDictionarySetValue(dict, key, pkt);
    return 0;
} 
```

当我执行这段代码时，我得到了段错误。我看到 pkt 有一个有效的地址，并且似乎创建了密钥。有谁知道如何分配指向值部分的指针？

> 程序收到信号 EXC_BAD_ACCESS，无法访问内存。原因：KERN_INVALID_ADDRESS 地址：0x0000000000000011 0x00007fff8c9f339f in objc_msgSend_fixup()

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-04-23T07:24:23.703

问题是`kCFTypeDictionaryValueCallBacks`争论。从文档中：

> `kCFTypeDictionaryValueCallBacks`
> `CFDictionaryValueCallBacks`包含一组回调的 预定义结构，适用于当 a 中的值`CFDictionary`都是`CFType`派生对象时使用。

因此，在您的情况下，`CFRetain()`将值添加到字典时会在指针上调用。这会导致崩溃，因为指针未指向 CoreFoundation 对象。

您可以使用创建字典

```
CFDictionaryCreateMutable(NULL, 0, &kCFTypeDictionaryKeyCallBacks, NULL); 
```

相反，这样就不会对该值进行“引用计数”。

或者，您可以将指针包装成 a`CFDataRef`并将其放入字典中。

在这两种情况下，当稍后从字典中检索值时，指针仍然有效是您的责任。

* * *

这是一个*简单*的示例，您可以如何为自定义对象实现引用计数：

```
typedef struct {
    int refcount;
    int val;
} mystruct;

const void *myretain(CFAllocatorRef allocator, const void *value)
{
    mystruct *p = (mystruct *)value;
    p->refcount++;
    return p;
}

void myrelease(CFAllocatorRef allocator, const void *value)
{
    mystruct *p = (mystruct *)value;
    if (p->refcount == 1)
        free(p);
    else
        p->refcount--;
}

int main(int argc, const char * argv[])
{
    mystruct *p = malloc(sizeof(*p));
    p->refcount = 1;
    p->val = 13;

    CFDictionaryValueCallBacks vcb = { 0 , myretain, myrelease, NULL, NULL };
    CFMutableDictionaryRef dict =  CFDictionaryCreateMutable(NULL, 0, &kCFTypeDictionaryKeyCallBacks, &vcb);

    int sd = 13;
    CFNumberRef key = CFNumberCreate(NULL, kCFNumberIntType, &sd);

    CFDictionarySetValue(dict, key, p);
    // refcount == 2
    myrelease(NULL, p);
    // refcount == 1

    mystruct *q = CFDictionaryGetValue(dict, key);
    // refcount is still 1, "GetValue" does not increment the refcount

    CFRelease(dict);
    // object is deallocated

    return 0;
} 
```

# java - 在 AsyncTask 中获取空指针异常？

> ID：15264876
> 
> 赞同：0
> 
> 时间：2013-03-07T06:50:28.613
> 
> 标签：java, android, nullpointerexception

嘿伙计们，你能看看我的错误吗，我的 logcat 说这是因为我得到空指针异常。我不明白为什么。我刚刚添加了一个字符串变量，它是“电子邮件”，并使我的 eadd 的值代表电子邮件地址等于它，然后我现在有这些错误。你能指出我的问题吗？

这些是我的代码：

**

```
public class LoginSub extends Activity {
     public static String Email;
    // Progress Dialog
    private ProgressDialog pDialog;

    JSONParser jsonParser = new JSONParser();
    EditText inputEmail;
    EditText inputPassword;
    TextView TextView1;

    // url to create new product
    //private static String url_create_product = "http://student-thesis.netii.net/log_in.php";
    private static String url_create_product = "http://10.0.2.2/TheCalling/log_in.php";

    // JSON Node names
    private static final String TAG_SUCCESS = "success";

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        // Edit Text
        inputEmail = (EditText) findViewById(R.id.inputEmail);
        inputPassword = (EditText) findViewById(R.id.inputPassword);

        // Create button
        Button btnLogin = (Button) findViewById(R.id.btnLogin);

        // button click event
        btnLogin.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View view) {
                // creating new product in background thread
                new phpconnect().execute();
            }
        });

        Button btnReg = (Button) findViewById(R.id.btnReg);
        // button click event
        btnReg.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent i = new Intent(getApplicationContext(), Register.class);
                startActivity(i);
            }
        });
    }

    /**
     * Background Async Task to Create new product
     * */
    class phpconnect extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(LoginSub.this);
            pDialog.setMessage("Logging in..");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(true);
            pDialog.show();
        }

        /**
         * Creating product
         * */
        protected String doInBackground(String... args) {
            String eadd = inputEmail.getText().toString();
            String password = inputPassword.getText().toString();

            // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            params.add(new BasicNameValuePair("eadd", eadd));
            params.add(new BasicNameValuePair("password", password));

            // getting JSON Object
            // Note that create product url accepts POST method
            JSONObject json = jsonParser.makeHttpRequest(url_create_product,
                    "POST", params);

            // check log cat fro response
            Log.d("Create Response", json.toString());

            // check for success tag
            try {
                int success = json.getInt(TAG_SUCCESS);
                Email.equals(eadd);
                if (success == 1) {
                    // successfully created product
                    Intent i = new Intent(getApplicationContext(), Mapping.class);
                    startActivity(i);
                    // closing this screen
                    finish();
                } else {

                }
            } catch (JSONException e) {
                e.printStackTrace();
            }

            return null;
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {
            // dismiss the dialog once done
            pDialog.dismiss();
        }

    }
} 
```

**

这是我的 logcat 错误：

**

```
03-06 22:21:16.428: E/AndroidRuntime(1417): FATAL EXCEPTION: AsyncTask #1
03-06 22:21:16.428: E/AndroidRuntime(1417): java.lang.RuntimeException: An error occured while executing doInBackground()
03-06 22:21:16.428: E/AndroidRuntime(1417):     at android.os.AsyncTask$3.done(AsyncTask.java:278)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:208)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at java.lang.Thread.run(Thread.java:856)
03-06 22:21:16.428: E/AndroidRuntime(1417): Caused by: java.lang.NullPointerException
03-06 22:21:16.428: E/AndroidRuntime(1417):     at com.example.projectthesis.LoginSub$phpconnect.doInBackground(LoginSub.java:129)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at com.example.projectthesis.LoginSub$phpconnect.doInBackground(LoginSub.java:1)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at android.os.AsyncTask$2.call(AsyncTask.java:264)
03-06 22:21:16.428: E/AndroidRuntime(1417):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305) 
```

**

感谢你们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:52:46.827

从`doInBackGround()`

```
if (success == 1) {
    // successfully created product
    Intent i = new Intent(LoginSub.this, Mapping.class);
    startActivity(i);
    // closing this screen
    finish();
} else {
  } 
```

并将其添加到`onPostExecute()`部分

```
protected void onPostExecute(String file_url) 
{
    // dismiss the dialog once done
    pDialog.dismiss();
    if (success == 1) 
    {
       // successfully created product
       Intent i = new Intent(getApplicationContext(), Mapping.class);
       startActivity(i);
       // closing this screen
       finish();
     } 
     else 
     {
     }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T13:06:13.353

我想因为这条线

```
new phpconnect().execute(); 
```

和

```
class phpconnect extends AsyncTask<String, String, String> { 
```

**您使用 < String** , String, String>声明 AsyncTask但您没有在 .exeute(); 中传递任何参数；

此外，从您的代码中，您不需要 AsyncTask 的任何参数，因此您应该像这样声明您的 Asynctask

```
class phpconnect extends AsyncTask<Void, Void, Void> { 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T06:57:45.383

有时**getApplicationContext()**不会提供确切的上下文值。所以传递 Context 上下文；//declare context=this;// 在 setcontextview 之后分配下一行。然后传递上下文而不是 getApplicationContext() 。并检查它，如果你想做任何你不应该在 doinBackground() 中做的 UI 更新。您必须在执行后执行。

希望这会帮助你。

# android - 为什么 SPAN_EXCLUSIVE_EXCLUSIVE 跨度在某些设备中不能有零长度错误

> ID：15264881
> 
> 赞同：1
> 
> 时间：2013-03-07T06:50:45.430
> 
> 标签：android, android-asynctask, android-activity

我正在尝试从 AsyncTask T 启动具有 GridView 作为布局的 Activity A。但它无法启动 A 并显示

```
SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length 
```

logcat 中的错误。

据我所知，这仅在三星 Galaxy 中发生。它在带有 4.2.2 的 Galaxy SII 中工作，但不适用于带有 4.0.4 的 Galaxy SIII。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-03T12:01:32.880

似乎这会使错误消失，但在某些情况下它可能是不合适的解决方案。

`android:inputType="textNoSuggestions"`或`android:inputType="textEmailAddress|textNoSuggestions"`等等。

[Android - SPAN_EXCLUSIVE_EXCLUSIVE 跨度的长度不能为零](https://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T01:12:58.690

当我从我的 android 卸载 facebook 应用程序时，我设计的单独应用程序照常运行。这一定是facebook的一个严重错误。

# php - 查询语句中的数组使用 - MySQL 通过 PHP

> ID：15264882
> 
> 赞同：1
> 
> 时间：2013-03-07T06:50:50.963
> 
> 标签：php, mysql, arrays

嘿伙计们，我是 PHP 新手，但我试了一下。现在对我所做的工作的要求发生了变化。B1 到 B11 的值不再相同。它可以是从 B1 到 B6 或 B1 到 B50。所以我可以说我需要一个数组来传递值。但是我需要知道的是如何将它们包含在 $sql 语句中。我必须使用任何变量而不是 B1 到 B11 吗？以下是参考代码。任何帮助将不胜感激。

```
 <?php

    $DB_hostname = "localhost";
    $DB_Name = "root";
    $DB_pass = "pass123";

    if(isset($_GET["slot"])){
       $tableName = $_GET["slot"];
       $db = $_GET["db"];
    }
     echo $tableName;

   $con = mysql_connect($DB_Hostname,$DB_Name,$DB_pass) or die(mysql_error());

   // Create table
   mysql_select_db($tableName = $_GET["slot"];, $con);
   if(mysql_num_rows(mysql_query("SHOW TABLES LIKE $tableName"))==1) {
      echo "Table exists";
   }else {

       echo "Table does not exist";
    // Create table
    mysql_select_db($db, $con);
    $sql = "CREATE TABLE $tableName
    (
    Slot int NOT NULL,
    PRIMARY KEY(Slot),
    B1 TEXT NOT NULL,
    B2 TEXT NOT NULL,
    B3 TEXT NOT NULL,
    B4 TEXT NOT NULL,
    B5 TEXT NOT NULL,
    B6 TEXT NOT NULL,
    B7 TEXT NOT NULL,
    B8 TEXT NOT NULL,
    B9 TEXT NOT NULL,
    B10 TEXT NOT NULL,
    B11 TEXT NOT NULL
   )";
   mysql_query($sql,$con);

   }

   mysql_close($con);
   ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:55:30.263

您可以将所有 B1、B2 值放在一个数组中，然后`$sql`像这样创建您的变量。这适用于任意数量的条目。

```
<?php
$values=array();
$values[]="B1";
$values[]="B2";
$values[]="B3";
$values[]="B4";

$sql = "CREATE TABLE $tableName
    (
    Slot int NOT NULL,
    PRIMARY KEY(Slot)";

    foreach($values as $value)
    {
    $sql.=",
    $value TEXT NOT NULL";
    }
    $sql.=")";

echo $sql;

?> 
```

您还可以进一步简化它。如果这些值总是以 B 开头并以数值结尾，那么您可以简单地运行一个`$count`变量并循环多次并添加它，而不必在数组中手动​​键入所有 B 值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:57:50.150

像这样试试

您可以像 IP/file.php?db=dbname&my_arr=B1,B2,B3 一样传递数组

```
$my_cols = explode(',', $_GET['my_arr']);
$sql = "CREATE TABLE $tableName     (
Slot int NOT NULL,
PRIMARY KEY(Slot)";
foreach($my_cols as $col){
    $sql .= " ,`".$col."` TEXT NOT NULL";
}
$sql .= ')'; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T07:02:36.957

我不太清楚为什么你需要在你的表中有这么多列。更好的解决方案可能是让 $tableName 只有两列，一列用于插槽，另一列定义表将具有多少个插槽。

然后该`slot`列将设置为`auto_increment`MySQL 内部，这意味着每次将一行添加到数据库时，数字都会增加。

下一个表将包括最初在其他列中的所有数据。它将具有三列，即`slot`列、`position`列（将替换原始表中的 B$x 列）和`value`放置 TEXT 数据的列。

这使您的数据库具有关系（请参阅[http://en.wikipedia.org/wiki/Relational_model](http://en.wikipedia.org/wiki/Relational_model)）

然后，您可以在两个表上执行 LEFT JOIN 以检索所有数据 ( [http://www.w3schools.com/sql/sql_join.asp](http://www.w3schools.com/sql/sql_join.asp) )

* * *

话虽如此，对于您当前的解决方案，您只需要更改一些代码。

```
if(isset($_GET["slot"])){
   $tableName = $_GET["slot"];
   $db = $_GET["db"];
}

//getting the slot count
if (isset($_GET['slots'])) {
   $slots = (int)$_GET['slots'];
}

if (!isset($slots) or !isset($tableName)) {
   echo "Please first provide the right data to this script!";
   exit;
}

// Create the table
$_columns = array();
for ($i = 1; $i <= $slots; $i++) {
    $_columns[] = "B$i TEXT NOT NULL ";
}

$sql = "CREATE TABLE $tableName
(
Slot int NOT NULL,
PRIMARY KEY(Slot),
" . implode( ', ', $_columns) . "
)"; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T07:02:50.187

```
<?php
$con = mysql_connect("localhost", "root", "12345678") or die(mysql_error());
$tableName="new_table";
// Create table
mysql_select_db("spend_track", $con);
if (mysql_num_rows(mysql_query("SHOW TABLES LIKE $tableName")) == 1) {
  echo "Table exists";
} else {

  // Create table
  mysql_select_db($db, $con);
  $sql = "CREATE TABLE $tableName
    (
    Slot int NOT NULL,
    PRIMARY KEY(Slot),
    $filed1 TEXT NOT NULL,
    $filed2 TEXT NOT NULL,
    $filed3 TEXT NOT NULL,
    $filed4 TEXT NOT NULL,
    $filed5 TEXT NOT NULL,
    $filed6 TEXT NOT NULL,
    $filed7 TEXT NOT NULL,
    $filed8 TEXT NOT NULL,
    $filed9 TEXT NOT NULL,
    $filed10 TEXT NOT NULL,
    $filed11 TEXT NOT NULL
   )";
 if(mysql_query($sql, $con)){
   echo "success to create";
 }else{
   echo "failed to create";
 }
}

mysql_close($con);
?> 
```

这里使用变量而不是直接值。请注意，文件名必须唯一，不能重复。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T06:57:42.463

您在连接字符串中缺少用户信息。它应该像

```
mysqli_connect(host,username,password,dbname); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T06:59:22.027

我不得不承认这个问题绝对不清楚。你想让我做什么？插入新记录？创建表？等等，我们为什么要知道一些需求已经改变，我们不知道原来的需求；）

这里还有两点需要注意。

1.  [使用mysql_real_escape_string](http://php.net/manual/ru/function.mysql-real-escape-string.php)函数转义变量。
2.  最好使用[PDO](http://php.net/manual/en/book.pdo.php)或[MySQLi](http://php.net/manual/en/book.mysqli.php)，因为您使用的 MySQL 扩展已被弃用。

# android - 从android中的latlng对象获取纬度和经度

> ID：15264884
> 
> 赞同：12
> 
> 时间：2013-03-07T06:50:55.347
> 
> 标签：android, google-maps

我正在尝试在 Googlemap v2 上获取纬度和经度。我已经使用代码为 mapragment 对象设置了 onclick 侦听器

```
 map.setOnMapClickListener(new OnMapClickListener() {

    @Override
    public void onMapClick(LatLng latln) {
        // TODO Auto-generated method stub

        String s=latln.toString();

        Log.w("dsfdsf",""+s);

    }
}); 
```

它以 lat/lng 格式提供纬度和经度坐标：(xx.xxxxxx,yy.yyyyy) 我需要获取纬度和经度数据的确切方法。我不想使用 split 解析数据并获取坐标..

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-07T07:47:25.737

这可以在[Google Maps API 参考](https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/model/LatLng)中轻松找到：

> **公共最终类 LatLng**
> 
> *公共最终双纬*
> 
> 纬度，以度为单位。该值在 [-90, 90] 范围内。
> 
> *公共最终双经度*
> 
> 经度，以度为单位。该值在 [-180, 180) 范围内。

因此，在您的示例中，您应该调用：

```
double lat = latlng.latitude;
double lng = latlng.longitude; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-02T13:20:41.833

```
var res = results1[key][key1].toString().split("(");
console.log(" latlong::"+res);
var res2= res[1].split(",");
console.log(" latlong::"+res2);
latlongFrom[0]=res2[0];
console.log(" latlong::"+latlongFrom[0]);
var res3=res2[1].split(")");
console.log(" latlong::"+res3[0]);
latlongFrom[1]=res3[0];
console.log(" latlong::"+latlongFrom[1]); 
```

这就是我所做的。res 包含 (lat,long) 的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-20T22:22:32.740

要获得纬度和经度，您必须声明 2 个双变量。

```
map.setOnMapClickListener(new OnMapClickListener() {

    @Override
    public void onMapClick(LatLng latln) {
        double latitude, longitude;
        latitude(latln.latitude);
        longitude(latln.longitude);

    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-03-04T18:52:17.917

对于较新的版本，请使用：

```
double lat = latlng.lat;
double lng = latlng.lng; 
```

as `latlng.latitude`and `latlng.longitude`or `latlng.lat()`and`latlng.lng()`会产生编译错误。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2016-09-19T13:51:03.517

这是Android解决方案

```
public void onMapClick(LatLng latln) {
    String s = latln.toString();
    String[] latLng = s.substring(10, s.length() - 1).split(",");
    String sLat = latLng[0];
    String sLng = latLng[1];
    Toast.makeText(MapsActivity.this, "Latitude is: "+sLat+", Longtitude is: "+sLng, Toast.LENGTH_LONG).show();
} 
```

# android - 资源限定符应该如何响应？

> ID：15264886
> 
> 赞同：3
> 
> 时间：2013-03-07T06:50:58.783
> 
> 标签：android, android-layout, android-resources

以下是我的目录结构，以使我的问题更容易理解。

```
res/
  layout/
    a.xml
    b.xml
  layout-land/
    a.xml
    b.xml
  layout-sw600dp-land/
    a.xml
  layout-sw720dp-land/
    a.xml 
```

现在根据我的理解，如果一个设备符合`layout-sw720p-land`限定符并尝试访问`b.xml`，这将是顺序`layout-sw720p-land`-> `layout-land`-> `layout`Dalvik 将尝试加载`b.xml`并且它将在`layout-land`文件夹中找到资源并且永远不会去`layout`文件夹加载`b.xml`.

这适用于我随身携带的设备。但是我在 Google Play 上收到了很多没有发生这种情况的崩溃报告。如果设备在 中找不到资源`layout-sw720p-land`，它将转到`layout`文件夹并加载`b.xml`，而不是从中加载`layout-land.xml`。

这里可能是什么问题？是设备特定的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:45:09.177

请检查应用程序失败的设备的操作系统版本，它应该 >= 3.2，因为相同及更高版本支持资源名称限定符（sw720 等）。

尝试使用 a.xml 和 b.xml 文件添加 layout-large 和 layout-xlarge 文件夹。

检查此网址[http://developer.android.com/guide/topics/resources/providing-resources.html#BestMatch](http://developer.android.com/guide/topics/resources/providing-resources.html#BestMatch)

# entity-framework - 实体框架代码第一个内连接，没有主外键关系

> ID：15264893
> 
> 赞同：2
> 
> 时间：2013-03-07T06:51:38.097
> 
> 标签：entity-framework, entity-framework-4, ado.net, entity-framework-4.1, entity-framework-5

我正在使用`Entity Framework 5 code first`. 我正在尝试在 2 个表之间设置内部连接，但我不知道该怎么做。这两个表没有主键/外键关联，但它们有一个公共字段域。

**tblServer 表：**

```
Server_ID
ServerName
Domain
...
... 
```

**tblCommandExecutionServer 表**：

```
ServerListID
ServerName
Domain
...
... 
```

这就是我配置 2 个表以映射到某些实体类的方式：

**服务器配置类：**

```
class ServerConfiguration : EntityTypeConfiguration<Server>
{
     internal ServerConfiguration()
     {
          this.ToTable("tblServer");
          this.Property(x => x.Id).HasColumnName("Server_ID");
          this.Property(x => x.Name).HasColumnName("ServerName");
     }
} 
```

**CommandExecutionServerConfiguration 类：**

```
class CommandExecutionServerConfiguration : EntityTypeConfiguration<CommandExecutionServer>
{
     internal CommandExecutionServerConfiguration()
     {
          this.ToTable("tblCommandExecutionServer");
          this.Property(x => x.Id).HasColumnName("ServerListID");
          this.Property(x => x.Name).HasColumnName("ServerName");
     }
} 
```

**服务器类：**

```
public class Server : IEntity
{
     public int Id { get; set; }

     public string Name { get; set; }

     public string Domain { get; set; }

     public virtual CommandExecutionServer CommandExecutionServer { get; set; }
} 
```

**命令执行服务器类：**

```
public class CommandExecutionServer : IEntity
{
     public int Id { get; set; }

     public string Name { get; set; }

     public bool IsActive { get; set; }

     public string Domain { get; set; }

     public virtual Server Server { get; set; }
} 
```

这两个表没有通过任何列链接。我必须创建以下内部联接，但不确定如何：

```
SELECT
     ces.ServerName,
     ws.ServerName,
     ws.Domain
FROM
     tblServer ws
          INNER JOIN tblCommandExecutionServer ces ON ws.Domain = ces.Domain
WHERE
     ws.ServerName = 'my-server-name' AND ces.Active = 1; 
```

我的数据库上下文类：

```
public DbSet<Server> Servers { get; set; }
public DbSet<CommandExecutionServer> CommandExecutionServers { get; set; }

protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
     modelBuilder.Configurations.Add(new ServerConfiguration());
     modelBuilder.Configurations.Add(new CommandExecutionServerConfiguration());
} 
```

然后这就是我目前拥有的，我不知道这应该是什么样子？

```
public Server FindByServerName(string server, bool isActive, string domain)
{
     return DatabaseContext.Servers
          .SingleOrDefault(entity => entity.Name == server
               && entity.IsActive == isActive);
               //&& entity.Domain == server
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T07:55:53.033

It is not supported to map such relation into navigation property. Relation can be mapped only on top of primary key (at least EF must believe that defined column in principal entity is PK). To support your relation in the database `Domain` in the `Server` will have to be unique but EF doesn't support unique constraints yet.

You can only use manual linq join to execute similar query:

```
var query = from s in context.Server
            join c in context.CommandExecutionServer on s.Domain equals c.Domain
            where s.ServerName == server && c.Active == isActive 
            select new {
                c.ServerName,
                s.ServerName,
                s.Domain
            }; 
```

# java - 并非 JSP 中显示的所有表单验证错误

> ID：15264895
> 
> 赞同：4
> 
> 时间：2013-03-07T06:51:43.620
> 
> 标签：java, json, jsp, spring-mvc

我有以下验证代码

```
@RequestMapping(value = "/itemValidation.json", method = RequestMethod.POST)
    @ResponseBody
    public ValidationResponse ajaxValidation(
            @ModelAttribute(value = formName) @Valid Item item,
            BindingResult result) {
        ValidationResponse res = new ValidationResponse();
        if (!result.hasErrors()) {
            res.setStatus("SUCCESS");
        } else {
            res.setStatus("FAIL");
            List<FieldError> allErrors = result.getFieldErrors();
            List<ErrorMessage> errorMesages = new ArrayList<ErrorMessage>();
            for (FieldError objectError : allErrors) {
                errorMesages.add(new ErrorMessage(objectError.getField(),
                        objectError.getDefaultMessage()));
            }
            res.setErrorMessageList(errorMesages);
        }
        return res;
    } 
```

验证后，有三个元素不满足约束，如下所示：

[![生物识别中的 FTIR](../Images/59434900293049a83ab6767bff8b133b.png)](https://i.stack.imgur.com/2V5PG.png)

问题出在 JSP 上，只显示了最后两个错误。fieldName 的错误：`itemPK.name`未显示。

我使用下面的代码来显示错误：

```
<span class="help-inline"><form:errors path="${name}" /></span> 
```

我按顺序生成的输入元素：

```
<input id="itemPK.name_id" name="itemPK.name" type="text" value="">
<input id="price_id" name="price" type="number" value="">
<input id="point_id" name="point" type="number" value=""> 
```

不知道出了什么问题，希望任何人都可以对此有所了解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T11:46:29.983

如果您说显示最后 2 个字段错误，那么您可能是第一个字段的名称错误。采用

```
<form:input path="name" /><span class="help-inline"><form:errors path="name" /></span> 
```

`itemPK.name`或使用反映在调试窗口中的字段名称的路径值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-11T02:10:06.243

我发现了问题所在。还有另一层，ajax 响应方法假设将所有错误消息附加到适当的字段。由于 jQuery 选择器无法找到具有名称`itemPK.name`的元素，因此从未显示第一个错误，解决方法是将其更改为`itemPK\\.name`.

# actionscript-3 - 如何根据开始索引和结束索引从 ArrayCollection 中获取选定的项目？

> ID：15264903
> 
> 赞同：0
> 
> 时间：2013-03-07T06:52:21.387
> 
> 标签：actionscript-3, apache-flex, flex4

我想通过使用开始索引和结束索引从 ArrayCollection 中检索选定的项目，是否有任何预定义的方法可以做到这一点......在此先感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:05:37.103

查看 toArray 和切片。

```
var newAC:ArrayCollection = new ArrayCollection( myAC.toArray().slice(10,20) );
//myAc = original ArrayCollection, 10 = startIndex, 20 = endIndex 
```

# javascript - 我的剑道图表没有以正确的方式过滤

> ID：15264914
> 
> 赞同：2
> 
> 时间：2013-03-07T06:53:11.853
> 
> 标签：javascript, visual-studio-2010, kendo-ui

我有一个带有组字段的剑道图表，也有带有 3 个复选框的树视图。我想用复选框选中的事件过滤图表。但在我的应用程序中它不起作用。请任何人帮助我。我的图表代码是

```
 $("#myChart").kendoChart({
    theme: $(document).data("kendoSkin") || "default",
    dataSource: {
    data: tmpData2,
    sort: {
            field: "date",
            dir: "asc"
        },
    group: {
            field: "close"
        },
        schema: {
            model: {
                fields: {
                    date: {
                        type: "date"  }
                }
            }
        }
    },
    title: {
        text: "My Date-aware Chart"
    },
    legend: {
        position: "bottom"
    },
    seriesDefaults: {
        type: "line",
        labels: {
            visible: true
        },
        missingValues: "gap"
    },
    series: [{
        name: "Close",
        field: "closeA",
        axis: "A"
    },

    {
        name: "Close",
        field: "closeb",
        axis: "B"
    },
             {      name: "Close",
        field: "closec",
        axis: "B"
         }],
        valueAxis: [{
        name: "A",
        labels: {
            format: "{0}%"
        }
    },
    {
        name: "B",
        labels: {
            format: "{0}D"
        }
    }],
    categoryAxis: {
        type: "Date",
        field: "date",
        axisCrossingValue: [0, 1000]
    }

}); 
```

我的树视图代码是

```
 $("#treeview").on("change", function (e) {
        console.log("click", multi.text());
        var selected = multi.text().split(",");
        console.log("multi", selected);
        var condition = {
            logic  : "or",
            filters: [
            ]
        };
        $.each(selected, function (idx, elem) {
            condition.filters.push({ field: " close", operator: "eq", value: elem.trim() });
        });
        mychart.dataSource.filter(condition);
    }); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T12:20:34.097

我想我现在明白你的要求是什么了。检查树形视图时，您需要从图表中删除系列。这应该通过从图表配置中删除系列然后调用`refresh`方法来实现：

```
// All series
var series = [{
    name: "Close",
    field: "closeA",
    axis: "A"
},
{
     name: "Close",
     field: "closeb",
     axis: "B"
},
{      
     name: "Close",
     field: "closec",
     axis: "B"
}
];

$("#treeview").on("change", function (e) {
    var chart = $("#myChart").data("kendoChart");

    // Start with empty series
    var checkedSeries = [];

    // Iterate all checked checkboxes in the treeview
    $("#treeview").find(":checked").each(function() {
        // Get the checked node's text - it is the grand parent of the checkbox element
        var nodeText = $(this).parent().parent().text();

        // Find the series whose field is the same as the node's text
        $.each(series, function(index, series) {
            if (series.field == nodeText) {
                // add it to the checkedSeries array
                checkedSeries.push(series);
            }
        });
    });

    // Set the chart series
    chart.options.series = checkedSeries;
    // Refresh the chart
    chart.refresh();
}); 
```

这是更新的 jsFiddle：http: [//jsfiddle.net/RHh67/43/](http://jsfiddle.net/RHh67/43/)

# css - 相对于左侧内容动态定位侧边栏

> ID：15264921
> 
> 赞同：1
> 
> 时间：2013-03-07T06:53:35.103
> 
> 标签：css

我有用于在左侧显示图像内容和在右侧显示侧边栏的 css。图像的侧面和方向（横向、纵向）可能会有所不同，因此我希望图像右侧的细节侧边栏相对于图像定位。

这是屏幕截图：![在此处输入图像描述](../Images/136dbab1e6c0e5df02b98f0231821dd5.png)

css代码如下：

```
* {
    margin: 0;
    padding: 0;
}

a {
    /* text-decoration: underline; */
    text-decoration: none;
    color: #6B2E42;
}

a:hover {
    text-decoration: none;
}

body {
    background: #C9CFCD url(images/img01.gif);
    font-size: 11pt;
    color: #323232;
    line-height: 1.75em;
}

body,input {
    font-family: Arial, sans-serif;
}

#content {
/* HOLDS THE IMAGE */
    background: #FFFFFF;
/*  width: 595px;  */
    color: #6E6E6E;
    padding: 10px 10px 0 35px;
    float: left;
    border-bottom: solid 2px #BBC1BF;
}

#page {
    margin: 20px 0 20px 0;
    position: relative;
    width: 980px;
    padding: 0;
}

#page ul {
    list-style: none;
}

#page ul li {
    padding: 2px 0 2px 0;
    border-top: solid 1px #D9D9D9;
}

#sidebar {
    background: #FFFFFF;
    margin: 0 0 0 685px;  
    color: #6E6E6E;
    padding: 10px 10px 10px 20px;
    width: 225px;
    border-bottom: solid 2px #BBC1BF;
}

#wrapper {
    width: 980px;
    margin: 35px auto 0 auto;
    position: relative;
} 
```

这是布局：

```
<body>

    <div id="page">
        <div id="content">

                <p>
                    <img src="Mona_Lisa_by_Leonardo_da_Vinci.jpg">
                </p>

            <br class="clearfix" />
        </div>
        <div id="sidebar">
            <h3>DETAILS</h3>
            <div class="date-list">
                <ul class="list date-list">
                    <li class="first"><span class="id">ID:</span> <a href="#">1</a></li>
                    <li class="last"><span class="ref">REFERENCE No.:</span> <a href="#">LSK001</a></li>
                    <li><span class="title">TITLE:</span> <a href="#">Monalisa</a></li>
                    <li><span class="obj">OBJECT TYPE:</span> <a href="#">Painting</a></li>
                    <li class="last"><span class="mat">MATERIAL USED:</span> <a href="#">Canvas,oil...</a></li>
                    <li class="last"><span class="tech">TECHNIC:</span> <a href="#">brush stroking...</a></li>
                    <li class="last"><span class="width">WIDTH:</span> <a href="#">1 meter</a></li>
                    <li class="last"><span class="height">HEIGHT:</span> <a href="#">3 meters</a></li>
                    <li class="last"><span class="artist">ARTIST:</span> <a href="#">Da Vi nci</a></li>
                    <li class="last"><span class="source">SOURCE:</span> <a href="#">....</a></li>
                </ul>
            </div>
            <h3>DESCRIPTION</h3>
            <p>
                Urna dis suscipit lorem sed luctus. Elementum suspendisse tempus fermentum ornare libero phasellus nibh conseuqat dolore.
            </p>
        </div>
        <br class="clearfix" />
    </div>
</body> 
```

请参阅随附的屏幕短片以了解浏览器中的布局。

约瑟夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T13:38:54.980

因此，如果图片很小 - 右侧的侧边栏，如果大，图像下方的侧边栏？

```
#page{
        width: 600px;
        margin: 0 auto;
        background-color: #efefef;
        overflow:hidden;
    }

    #content,
    #sidebar{
        float:left;

    }

    #sidebar{
        margin: 10px;
        padding:10px;
        background-color: tan;
    }

    .clear{
        clear: both;
    } 
```

[http://jsfiddle.net/sy9xM/1/](http://jsfiddle.net/sy9xM/1/) - 您可以更改 img 宽度以检查结果。它对你有用吗？

# cuda - 在 PTX 中使用共享内存时出现“意外的地址空间”编译错误

> ID：15264934
> 
> 赞同：0
> 
> 时间：2013-03-07T06:55:00.623
> 
> 标签：cuda, llvm, ptx

我编写了一个简单的内核，在其中我将共享内存数组声明为

```
extern __shared__ float As[100]; 
```

在我的内核启动中，我指定了共享内存的 number_of_bytes。编译内核（到 PTX）时出现错误“意外的地址空间”。我正在使用来自 svn 的相当新版本的 LLVM（3.3 正在进行中）。有什么想法我在这里做错了吗？问题似乎与 extern 关键字有关，但是我还要如何指定它呢？（共享内存）。我应该使用不同的 LLVM 构建吗？

配置 CUDA 5.0 , Nvidia Tesla C1060

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T16:12:43.873

好吧，根据Nvidia论坛的Gert-Jan，在这种情况下实际上并不需要extern关键字。我不确定他在 SO 上的 id 是什么。

他的回复——

“如果你知道你的共享内存数组有多少个元素（例如 100 个元素），你不应该使用 extern 关键字，并且你不必在内核启动时指定共享内存的字节数（编译器可以计算它自己出来）。只有当你不知道你需要多少元素时，你必须在内核启动中指定它，并且在你的内核中你必须写“extern **shared** float *As”。

希望这可以帮助其他用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T20:24:40.830

我不确定 CUDA-C/C++ 是否支持这一点，但也许尝试将地址空间属性设置为解决方法：

```
__attribute__((address_space(3)))
extern __shared__ float As[100]; 
```

那*应该*迫使 llvm 把它放在共享地址空间中......祝你好运！

# css - 如何将导航栏居中并定位在横幅图像的底部

> ID：15264937
> 
> 赞同：0
> 
> 时间：2013-03-07T06:55:12.457
> 
> 标签：css, navbar

只是一个警告，我是 HTML 和 CSS 的新手。请耐心等待我的询问。

我正在尝试将导航栏居中，同时将其重叠在横幅的底部。我在顶部有一个横幅图像和一个位于导航栏正下方的主要内容的背景图像。我试图添加以下内容：

```
ul.navbar li {
 float: left} 
```

这将导航栏直接浮动在主体背景下方，而不是在所有内容之上。为了以水平格式获取列表，我使用了

```
ul.navbar li {
 display: inline-table} 
```

这是唯一可以为我提供我正在寻找的正确水平格式的变体。现在我只需要它居中并覆盖在横幅图像的底端。有什么建议么？我的 HTML 和 CSS 如下：

CSS：

```
body {

padding-left: 9em;

font-family: Georgia, "Times New Roman", Times, serif;

color: #6699FF;

background-color: white 

}

div#contentareamain1 {

background: url(contentareamain1.png) no-repeat;

background-color: white;

color: white;

height: 634px;

position: relative;

}

div#contentareamain1text {

position: relative;

height: auto;

width: 700px;

left: 5em;

top: 4em;

}

#header {

float:left;

width:100%;

height:87px;

}

.wrap {

position:relative;

margin:0 ;

}

ul.navbar {

list-style-type: none;

padding: 0.3em;

margin: 0;

top: 2em;

left: 5em;

width: 15em;

}

h1 {

font-family: Helvetica, Geneva, Arial, SunSans-Regular, sans-serif 

}

ul.navbar li {

background: rgb(157,193,255);

margin: 0.5em ;

padding: 0.3em;

border-bottom: 1em solid black; 

text-align: center;

display: inline-table;

}

ul.navbar a:hover {

color: blue;

background-color: #00FFFF;

}

ul.navbar a {

text-decoration: none;

} 
```

HTML：

```
<body>

<div id="header">

<div class="wrap">

<img src="banner.png"/>

</div><ul class="navbar">

<p> <li><a href="index.html">Home</a> </p>

<p> <li><a href="services.html">Services</a> </p>

<p> <li><a href="inspireme.html">Training</a> </p>

</ul>

<div id="contentareamain1" no-repeat>

<div id="contentareamain1text"><p>

</p></div>

</div> 
```

非常感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:14:24.427

首先，您应该检查您的 HTML 结构——似乎缺少一个结束 DIV 标记，您应该删除列表元素周围的包装 P 元素。

尝试这个：

```
<div id="header">
<div class="wrap">
    <img src="banner.png"/>
</div>
<ul class="navbar">
    <li><a href="index.html">Home</a></li>
    <li><a href="services.html">Services</a></li>
    <li><a href="inspireme.html">Training</a></li>
</ul>
</div> 
```

在你只需要给你的标题图片这个 CSS 之后：

```
 display:block; margin:0 auto; position:relative; 
```

并且 ul.navbar 需要这样的东西：

```
 margin:0 auto; float:none; position:relative; top:-35px; width:500px; 
```

并且您应该删除 div#contentareamain1 的相对位置以使此代码正常工作。

```
 div#contentareamain1 { (…) /*position: relative;*/ } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:17:05.767

你真的应该访问[W3C](http://www.w3schools.com)并学习你的 HTML :)

的HTML

```
<div id="header">
    <img src="" />
    <ul class="navbar">
        <li><a href="#">Link text</a></li>
        <li><a href="#">Link text</a></li>
        <li><a href="#">Link text</a></li>
    </ul>
</div>
<div id="content-area>

</div> 
```

您的 HTML 包含一些`<p>`不属于那里的标签。另外我猜您希望您的内容在标题之外？

CSS（我只给你一个例子，如何将你的导航栏放在标题的中心，其余的由你决定）

```
#header {
    position:relative;
    z-index:1;
    text-align:center;
}
#header img {
    position:inherit;
    z-index:inherit;
}
#header ul.navbar {
    position:relative;
    z-index:2;
    margin:0 auto;
    top:-35px;
    list-style-type:none;
}
#header ul.navbar li {
    display:inline-block;
}
#header ul.navbar li a {
    display:block;
    padding:4px 8px;
    background-color:blue;
    color:white;
    text-decoration:none;
} 
```

您可以在[jsFiddle](http://jsfiddle.net/at7uS/)上查看运行中的代码并使用它。希望对您有所帮助。

# android - 安卓基准测试

> ID：15264943
> 
> 赞同：3
> 
> 时间：2013-03-07T06:55:30.193
> 
> 标签：android, hardware, benchmarking

我正在尝试编写一个应用程序，与其他设备相比，它可以提供设备的性能。是否有一些标准算法（适用于 Android）我可以实现对 RAM、CPU、外部/内部存储、GPU、WiFi 响应或类似的性能进行基准测试？

# angularjs - 为什么 AngularJS 中的 CSS 边距属性值为 null

> ID：15264945
> 
> 赞同：1
> 
> 时间：2013-03-07T06:55:39.590
> 
> 标签：angularjs, angularjs-directive

这是我的指令的链接函数`restrict to EA and transclude is true`

```
link : function(scope,element,attrs){

            element.ready(function(){
                var myUL = element.find('ul');
                console.log(myUL.css('margin'));  // prints noting in console.
            });
} 
```

我的 html 是

```
<body ng-app="nmrApp">
   <div class="app-container">
     <nmr-dir>
      <ul>
          <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 1" alt="" /></a></li>
          <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 2" alt="" /></a></li>
          <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 3" alt="" /></a></li>
          <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 4" alt="" /></a></li>
          <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 5" alt="" /></a></li>

      </ul>
  </nmr-dir>
   </div>
</body> 
```

CSS：从名为 style.css 的外部 css 文件加载

```
.app-container ul{
  margin:0;
  padding:0;
  list-style: none;
} 
```

`myUL`当我在控制台中打印时，它给了我

```
[ul.ng-scope, ready: function, toString: function, eq: function, push: function, sort: function…] 
```

`var myUL = angular.element(element.find('ul'));`aslo 对我不起作用。堆积我做错了什么？我还在我的 CSS 中为元素中的这个 ul 设置了边距为 0

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:21:50.817

首先，您是否包含了 jQuery？Angular 包含一个轻量级的 jQuery 版本，它没有 jQuery 的所有功能，计算样式就是其中之一。

其次，如果你看这里：[http](http://api.jquery.com/css/#css1) ://api.jquery.com/css/#css1它说不支持速记 CSS 属性。您需要使用“margin-top”（或您感兴趣的边距）。

工作示例：

```
<!doctype html>
<html ng-app="myApp">
<head>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.angularjs.org/1.0.5/angular.min.js"></script>
    <script>
    angular.module('myApp', []).controller('Ctrl', function($scope) {

    })
    .directive('nmrDir', function() {
        return {
            restrict: 'E',
            transclude: true,
            template: '<div ng-transclude></div>',
            link: function(scope, element, attrs) {
                element.ready(function(){
                    var myUL = element.find('ul');
                    console.log(myUL.css('margin-top'));
                });
            }
        };
    });
    </script>
    <style type="text/css">
    .app-container ul{
        margin: 10px;
        padding: 0;
        list-style: none;
    }
    </style>
</head>
<body ng-controller="Ctrl">
    <div class="app-container">
        <nmr-dir>
            <ul>
                <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 1" alt="" /></a></li>
                <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 2" alt="" /></a></li>
                <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 3" alt="" /></a></li>
                <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 4" alt="" /></a></li>
                <li><a href="#"><img src="http://placehold.it/600x300&amp;text=Image 5" alt="" /></a></li>
            </ul>
        </nmr-dir>
    </div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:57:57.363

两件事情

1) 可能有多个`ul`元素响应您的发现。

尝试使用`.eq(index)`或第 n 个子选择器指定。

2）尝试`angular.element`像这样包装 find ：

```
 var myUL = angular.element(element.find('ul')); 
```

# c - asctime 时间输出错误

> ID：15264946
> 
> 赞同：0
> 
> 时间：2013-03-07T06:55:40.453
> 
> 标签：c, time

```
#include<time.h>
#include<stdio.h>

int main(void)
 {
 time_t timer;
 int i;
 char mon[4];
 char *ti=0;
 ti=asctime(localtime(&timer));
 ti=ti+4;
 for(i=0;i<3;i++)
 {
  mon[i]=*ti++;

 }
  mon[3]='\0';

 timer=time(NULL);
  printf("The current time is %s\n",mon);
  return 0;
 } 
```

嗨，任何人都可以解释为什么 asctime 有时会返回错误的时间指针。我使用“mon”来存储 asctime 字符串中的月份，并在控制台上打印它时，有时会显示“Mar”，有时会显示其他月份。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T06:59:01.100

您正在使用`timer`而不初始化它。在调用之前`localtime`，请尝试：

```
time(&timer); 
```

此外，更简单的方法是：

```
ctime(&timer); 
```

# sql - Prestashop - 将字段添加到地址表单以存储在不同的 Sql 表中

> ID：15264947
> 
> 赞同：0
> 
> 时间：2013-03-07T06:55:41.720
> 
> 标签：sql, prestashop

我最近在我的网站中添加了 Facebook 身份验证，这会导致用户在通过身份验证后自动被定向到地址页面。以这种方式登录的用户将不会看到我在正常结帐/注册过程中向他们提出的额外问题（“您是如何得知我们的？”等）。

我的问题是，如果用户使用传统方式注册，我如何将这些字段添加到地址表单中并将它们插入到 ps_customer 表中？我现在可以将字段添加到地址模板/控制器，但它们最终会保存在 ps_address 表中

任何帮助将非常感激，

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T06:33:23.093

这是可能的，但需要一些工作。

将字段添加到地址表单后，您必须覆盖 Address.php 类。按照以下方式进行。

1) 在**override/classes**文件夹中找到**Address.php**文件，并打开**classes/Address.php**文件。

2) 在文件 classes/Address.php 文件中，找到 add 函数，如下所示

```
 /**
 * @see ObjectModel::add()
 */
public function add($autodate = true, $null_values = false)
{
    if (!parent::add($autodate, $null_values))
        return false;

    if (Validate::isUnsignedId($this->id_customer))
        Customer::resetAddressCache($this->id_customer);
    return true;
} 
```

复制该函数以覆盖/classess/Address.php 文件并将其放在类中。

3）就在下面的代码之后

```
 if (!parent::add($autodate, $null_values))
        return false; 
```

写下您的代码以将额外的字段插入另一个表。只需获取 POSTed 值并编写您赢得的 sql 查询以将其插入到客户表或任何其他表中（如果需要）。

谢谢

# jaxb - JAXB：组类型问题

> ID：15264953
> 
> 赞同：1
> 
> 时间：2013-03-07T06:55:50.893
> 
> 标签：jaxb, saxparseexception

我使用 JAXB 从 XSD 生成 Java 类，JAXB 无法从包含的 xsd 中识别组元素，简单元素可以正常工作。错误：org.xml.sax.SAXParseException：未定义的简单或复杂类型

```
 <?xml version="1.0" encoding="UTF-8"?>
<!-- Schema for itinerary response -->
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://www.cleartrip.com/air/" xmlns:air="http://www.cleartrip.com/air/">
  <xs:include schemaLocation="air-common.xsd"/>

   ***<xs:element name="itinerary" type="air:TripType"/>***
</xs:schema> 
```

* * *

air-common.xsd

```
 <?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
 elementFormDefault="qualified" 
 targetNamespace="http://www.cleartrip.com/air/" 
 xmlns:air="http://www.cleartrip.com/air/">
  <xs:simpleType name="NameType">
    <xs:annotation>
      <xs:documentation>Defining a type for a name</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:minLength value="1"/>
      <xs:maxLength value="27"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="AirportCodeType">
    <xs:annotation>
      <xs:documentation>Airport codes</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[A-Z0-9]{3}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="PhoneNumberType">
    <xs:annotation>
      <xs:documentation>Phone numbers</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:maxLength value="50"/>
    </xs:restriction>
  </xs:simpleType>
  ***<xs:group name="TripType">
    <xs:annotation>
      <xs:documentation>Trip type -- used to display an itinerary or trip</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="air:trip-id"/>
      <xs:element minOccurs="0" ref="air:created-at"/>
      <xs:element ref="air:pricing-summary"/>
      <xs:element ref="air:flights"/>
      <xs:element ref="air:pax-pricing-info-list"/>
      <xs:element ref="air:pax-info-list"/>
      <xs:element ref="air:contact-detail"/>
      <xs:group minOccurs="0" ref="air:PaymentDetailResponse"/>
      <xs:element minOccurs="0" ref="air:ancillary-data"/>
    </xs:sequence>
  </xs:group>***
</xs:schema> 
```

代码生成适用于所有简单类型，问题仅在于 xs:group name="TripType"，可能是什么问题。

# jquery - 提交带有禁用和只读字段的表单 - 虽然没有任何结果

> ID：15264958
> 
> 赞同：0
> 
> 时间：2013-03-07T06:56:16.383
> 
> 标签：jquery, cakephp, cakephp-2.0

我有一个表单，我需要禁用某些用户的某些字段，而其他人可以填写和编辑它们，所以我所拥有的如下：

```
$('.adminOnlyField').attr("readonly","true");
$('.adminOnlyField').prop('disabled', 'disabled'); 
```

因此，因此，当提交表单时，控制器不会处理任何更改。例如，$_POST 是空的（cakePHP 中的 $this->request->data），只要我删除这些行，数据就会再次提交。

知道如何解决这个问题吗？我正在使用 cakePHP，但我认为这无关紧要。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:58:03.903

`.prop()`以这种方式使用：

```
$('.adminOnlyField').prop('disabled', true); 
```

但我不明白你为什么会`disabling`这样，而且还在努力`readonly`。如果您的输入是`disabled`或者您`readonly`将如何手动输入值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:58:13.217

如果您禁用了这些字段，那么这些字段将不会随表单一起发布。如果您只想限制它们被编辑，只需将它们标记为只读..只需添加以下行并删除禁用。

```
$('.adminOnlyField').attr("readonly","true"); 
```

> 您应该禁用选择元素，但还应添加另一个具有相同名称和值的隐藏输入。
> 
> 如果您重新启用您的 SELECT，您应该将它的值复制到 onchange 事件中的隐藏输入。

# c# - 我们可以在 Gridview 中将列表框作为字段，也可以在 Gridview 中制作可编辑字段..？

> ID：15264961
> 
> 赞同：1
> 
> 时间：2013-03-07T06:56:25.943
> 
> 标签：c#, asp.net, listview, gridview

我必须为医生创建一个处方，药物会自动从数据库中取出，然后医生可以自己写下要服用的药物的类型、效力和频率。

所以我想在`Gridview`,`Listbox`类型字段内检索药物。这可能吗。

其次，我还希望如果数据库中不存在药物，医生可以编辑`Listbox`添加它。最后，我想要一些直接可编辑的字段，例如`Textboxes`效力、频率和类型。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:31:40.307

当然，你可以这样做。您只需在 GridView 中放置一个`TextBox`或`ListBox`任何您选择的控件。你可以用一些值初始化它们，或者你可以在其中插入值。

您所需要做的就是在 GridView 中找到这些控件，因为它是一个数据中继器控件，因此假设您在 GridView 中放置一个文本框，并将它与一个包含 5 个项目的列表绑定，那么 5 个这样的文本框将被渲染，因此您需要能够准确定位所需的文本框。

下面我给你一个超级简单的例子。

你的 GridView 标记：

```
<asp:GridView ID="Review_grid" runat="server" AllowPaging="True" PageSize="10" 
            AutoGenerateColumns="False" onrowdatabound="Review_grid_RowDataBound" 
            >
            <Columns>
                <asp:TemplateField HeaderText="ListBox">
                    <ItemTemplate>
                        <asp:ListBox ID="lstBox" runat="server"></asp:ListBox>
                    </ItemTemplate>
                </asp:TemplateField>
                <asp:TemplateField HeaderText="TextBox">
                    <ItemTemplate>
                        <asp:TextBox ID="txtBox" runat="server"></asp:TextBox>
                    </ItemTemplate>
                </asp:TemplateField>
            </Columns>
        </asp:GridView> 
```

你的代码隐藏代码。

```
///create datasource for your GridView.
public void BindGrid()
{
    DataTable db = new DataTable();
    db.Columns.Add("col1");
    db.Columns.Add("col2");
    db.Columns.Add("col3");
    db.Rows.Add("1", "2", "3");
    db.Rows.Add("1", "2", "3");
    db.Rows.Add("1", "2", "3");

    Review_grid.DataSource = db;
    Review_grid.DataBind();
} 
```

陷阱控制`RowDataBound`事件`GridView`，用一些值初始化它们：

```
protected void Review_grid_RowDataBound(object sender, GridViewRowEventArgs e)
        {
            if (e.Row.RowType == DataControlRowType.DataRow)
            {
                //find ListBox
                ListBox lst = (ListBox)e.Row.FindControl("lstBox");
                lst.Items.Add(new ListItem("item1"));
                lst.Items.Add(new ListItem("item2"));
                lst.Items.Add(new ListItem("item3"));

                //find textBox
                TextBox txt = (TextBox)e.Row.FindControl("txtBox");
                txt.Text = "test";

            }
        } 
```

调用页面`BindGrid()`。`Page_load`

您需要了解更多关于[GridView](http://www.dotnetspider.com/resources/Category518-ASP.NET-GridView.aspx)和其他[dataControls](http://www.asp.net/web-forms/overview/aspnet-data-controls)的信息。

# php - 当两个 iframe 都在同一页面中时，从另一个 iframe 更改 iframe 源

> ID：15264968
> 
> 赞同：0
> 
> 时间：2013-03-07T06:57:30.260
> 
> 标签：php, html, iframe, audio-player

我有以下代码，我无法从第一个 iframe 在第二个 iframe 中播放播放器。虽然如果播放歌曲的链接在主页中而不是在第一个 iframe 中，这可以正常工作

```
<script type="text/javascript">
function music(dir) {
          alert(dir);
        var iframe = document.getElementById("player");
        iframe.src = dir;
      } 
</script>

<iframe src="home.php" frameborder="0" scrolling="no" width="100%" height="100%" style="background:#993333"></iframe>

<iframe id="player" src="player.php" frameborder="0" scrolling="no" width="400px" height="100px" style="background:#66FF99"></iframe> 
```

//home.php

```
<a href="#" onclick="return music('player.php?item=test2')" >Song2</a> 
```

//player.php

```
<object type="application/x-shockwave-flash" data="dewplayer.swf?mp3=mp3/music.mp3&amp;autostart=1" width="200" height="20" id="dewplayer"><param name="wmode" value="transparent" />
</object> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:03:16.510

1.  第一个 iframe 没有 ID。
2.  这两个 iframe 都不属于彼此的`document`. 因此，如果您必须更改其中一个的 url，则必须`parent`在图片中引入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:20:50.247

您可以使用新的`window.postMessage`API 将消息从一个远程框架发送到它的父级，然后让父窗口代理通过将该消息传递到另一个 iframe 将消息返回到另一个 iframe。

有关这方面的文档，请参阅 Mozilla 页面 ( [https://developer.mozilla.org/en-US/docs/DOM/window.postMessage](https://developer.mozilla.org/en-US/docs/DOM/window.postMessage) )

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:57:50.330

示例：main.php

```
<script type="text/javascript">
function music(dir) {
          alert(dir);
        var iframe = document.getElementById("player");
        iframe.src = dir;
      } 
</script>
<iframe src="home.php" frameborder="0" scrolling="no" width="100%" height="100%" style="background:#993333"></iframe>

<iframe id="player" src="player.php" frameborder="0" scrolling="no" width="400px" height="100px" style="background:#66FF99"></iframe> 
```

播放器.php

```
<?php if(!empty($_GET['item'])){echo '<div>item = '.$_GET['item'].'</div>';} ?>
<object type="application/x-shockwave-flash" data="dewplayer.swf?mp3=mp3/music.mp3&amp;autostart=1" width="200" height="20" id="dewplayer"><param name="wmode" value="transparent" />
</object> 
```

主页.php

```
<a href="#" onclick="parent.music('player.php?item=test2')" >Song2</a> 
```

# c# - 使 Wcf 服务集成 Windows 身份验证

> ID：15264969
> 
> 赞同：23
> 
> 时间：2013-03-07T06:57:36.927
> 
> 标签：c#, .net, wcf, iis-7

当我在 IIS 中将 Windows 身份验证启用和匿名设置为禁用时，我收到以下错误。

> 主机上配置的身份验证方案（'IntegratedWindowsAuthentication'）不允许在绑定'BasicHttpBinding'（'Anonymous'）上配置的那些。请确保将 SecurityMode 设置为 Transport 或 TransportCredentialOnly。此外，可以通过 IIS 管理工具、通过 ServiceHost.Authentication.AuthenticationSchemes 属性、在元素的应用程序配置文件中更改此应用程序的身份验证方案、通过更新绑定上的 ClientCredentialType 属性或通过调整来解决此问题HttpTransportBindingElement 上的 AuthenticationScheme 属性。

我的 Wcf 服务的 web.config 如下...

```
<?xml version="1.0"?>
<configuration>
  <appSettings>
    <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
  </appSettings>
  <system.web>
    <compilation debug="true" targetFramework="4.5" />
    <httpRuntime targetFramework="4.5"/>
  </system.web>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="BasicHttpEndpointBinding">
          <security mode="TransportCredentialOnly">
            <transport clientCredentialType="Windows" />
          </security>
        </binding>
      </basicHttpBinding>
    </bindings>
    <client>
      <endpoint binding="basicHttpBinding" 
        bindingConfiguration="BasicHttpEndpointBinding"
        contract="Test.IService1" name="BasicHttpEndpoint" />
    </client>
    <behaviors>
      <serviceBehaviors>
        <behavior>
          <serviceAuthenticationManager 
             authenticationSchemes="IntegratedWindowsAuthentication"/>
          <serviceMetadata httpGetEnabled="true" httpsGetEnabled="false"/>
          <serviceDebug includeExceptionDetailInFaults="true"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <protocolMapping>
        <add binding="basicHttpBinding" scheme="http" />
    </protocolMapping>    
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true"
         multipleSiteBindingsEnabled="true" />
  </system.serviceModel>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
    <directoryBrowse enabled="true"/>
  </system.webServer>
</configuration> 
```

请指教..

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-10-31T18:48:51.727

在 .Net 4.0+ 中，当配置未在 <services> 部分中基于每个服务显式设置时，[**简化的 WCF 配置使用“匿名”配置。**](http://msdn.microsoft.com/en-us/library/ee358768.aspx)如果从 <binding> 元素中删除 name="BasicHttpEndpointBinding"，或者如果将该 <binding> 元素复制为没有 name 属性的新元素，它将成为 WCF 服务将使用的默认匿名绑定。这在您需要提供和使用可能不具有相同配置的 WCF 服务的情况下通常很有用 - 但至少您可以为没有特定配置集的服务设置默认配置。默认/匿名概念也适用于 <behavior> 元素。

```
<bindings>
  <basicHttpBinding>
    <binding> <!--Notice, no name attribute set-->
      <security mode="TransportCredentialOnly">
        <transport clientCredentialType="Windows" />
      </security>
    </binding>
  </basicHttpBinding>
</bindings> 
```

另外，我可能会补充一点，如果您的 WCF 服务需要身份验证，这意味着您将需要使用真实用户帐户使用该服务，或者您需要授予 DOMAIN\CLIENTCOMPUTERNAME$ 帐户对该服务的访问权限 - 所以，也许对许多人来说正确的解决方案可能是更改配置以允许匿名访问（我的回答中没有讨论）。尽管如此，我有时确实会选择使用 Windows (Kerberos) 身份验证来保护我的 WCF 服务。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-10-31T21:39:51.560

添加这个对我有用。

```
 <bindings>
        <webHttpBinding>
            <binding>
                <security mode="TransportCredentialOnly">
                    <transport clientCredentialType="Windows" />
                </security>
            </binding>
        </webHttpBinding>
    </bindings> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-10-21T11:18:39.423

从 .NET 4.0 更新到 .NET 4.5.2 时出现此错误。我将 clientCredentialType 从

```
<security mode="TransportCredentialOnly">
    <transport clientCredentialType="None"/>
</security> 
```

至

```
<security mode="TransportCredentialOnly">
    <transport clientCredentialType="InheritedFromHost"/>
</security> 
```

但是，设置 clientCredentialType="Windows" 也同样有效。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-05-03T17:41:35.050

使用已经存在的 WCF Web URL 时，我遇到了同样的问题。我尝试了这里提到的所有答案，但总而言之，最后只有两件事有帮助。

> 1.  更改“打开和关闭 Windows 功能”中的设置。

[![在此处输入图像描述](../Images/0cf6ecb64d721c62bc1fc65e2b17e66f.png)](https://i.stack.imgur.com/tpSz4.png)

> 在本地 IIS 服务器中启用匿名身份验证和 Windows 身份验证。 [![在此处输入图像描述](../Images/ad8567ff921e7a7651aa3c9ce273afa6.png)](https://i.stack.imgur.com/AjLVu.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-12T19:55:29.453

像其他答案一样，我需要将我的 Web.config 中的绑定更新为：

```
<basicHttpBinding>
  <binding name="basicHttpBindin1">
    <security mode="TransportCredentialOnly">
      <transport clientCredentialType="Windows" />
    </security>
  </binding>
</basicHttpBinding> 
```

但我还需要更新绑定的实例化：

```
var binding = new BasicHttpBinding { MaxReceivedMessageSize = 1000000, ReaderQuotas = { MaxDepth = 200 } };

binding.Security.Transport.ClientCredentialType = HttpClientCredentialType.Windows;
binding.Security.Mode = BasicHttpSecurityMode.TransportCredentialOnly;
binding.Security.Message.ClientCredentialType = BasicHttpMessageCredentialType.UserName; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-13T12:41:02.427

```
<services>
      <service name="Test.Service1" behaviorConfiguration="TestName">
        <endpoint address="" binding="basicHttpBinding" bindingConfiguration="BasicHttpEndpointBinding" contract="Test.IService1" />
      </service>
    </services> 
```

它解决了我的问题。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-04-06T16:24:18.670

我添加了一个 webHttpBinding 并将我的端点指向它，安全设置需要工作。没有它，我的端点使用了默认的 WCF 配置绑定：

```
 <services>
  <service behaviorConfiguration="ServiceBehavior" name="Service">
    <endpoint address="" binding="webHttpBinding" contract="IService" />
    <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
  </service>
</services>
<behaviors>
  <serviceBehaviors>
    <behavior name="ServiceBehavior">
      <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />
      <serviceDebug includeExceptionDetailInFaults="false" />
    </behavior>
  </serviceBehaviors>
</behaviors>
<serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="true" />
<bindings>
  <webHttpBinding>
      <binding>
        <!--Notice, no name attribute set-->
        <security mode="TransportCredentialOnly">
          <transport clientCredentialType="Windows" />
        </security>
      </binding>
  </webHttpBinding>

</bindings> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-01-24T05:13:25.663

我不完全确定为什么，但是当我将“Factory”属性添加到我的 .SVC 文件（您需要将其显式拖动到 Visual Studio）时，一切***正常***- 无需对 Web.config 中的默认设置进行任何更改！

我添加了**Factory="System.ServiceModel.Activation.WebServiceHostFactory"**所以我的 .SVC 文件来自这个：

`<%@ ServiceHost Language="C#" Debug="true" Service="ServiceNameSpace.ServiceName" CodeBehind="ServiceName.svc.cs" %>`

对此：

`<%@ ServiceHost Language="C#" Debug="true" Service="ServiceNameSpace.ServiceName" CodeBehind="ServiceName.svc.cs" Factory="System.ServiceModel.Activation.WebServiceHostFactory" %>`

唯一的副作用似乎是，当您在浏览器中单击 .SVC 文件时，您会收到“找不到端点”错误，但是当您正确调用它时，该服务可以正常工作。如前所述，我使用的是带有 .NET 4.6 的默认 Web.config（[简化的 WCF 配置](http://msdn.microsoft.com/en-us/library/ee358768.aspx)），因此我可能还需要添加端点详细信息才能使其再次工作。

# image - 如何计算下图中线条的近似高度？

> ID：15264973
> 
> 赞同：0
> 
> 时间：2013-03-07T06:57:46.787
> 
> 标签：image

![要分割的图像](../Images/9a0847894b308210a9cbc6209eddd0bb.png)

```
 To segment above image i want to use line height. I don't know even any algorithm for   this. I want a useful link pls help..

 just i want an efficient algorithm link for this.....

 I shall be very thankful to you for this.. 
```

// 我一直尝试到现在

```
 function [avmax avmin avgwidth]=firstsvg(Imag)
 %Imag=imread('D:\THAPAR\poj\images\ndpj.jpg');
 imtool(Imag);
 G=Imag;
 %xlswrite('G.xlsx',Imag(:,:,1));
 [y,x]=size(G);  % y dentoes rows and x denotes columns
 T=160;%sum(sum(I))/(y*x)%T dentoes threshhold value - i.e avg
 HYT=zeros(1,1);
 GY=zeros(y,1);  %single column of zeros              
 for j=1:y   
     for i=1:x
        if (G(j,i)<T)         
         GY(j,1)=GY(j,1)+1;  % count of no. of black pixel
       end    
    end
 end
 for c=1:y
    if (GY(c,1)> min)
     min = GY(c,1);
     gt(ce,1)=GY(c,1);
     ce=ce+1;
    end
 end
 dgt=zeros(ce,1);
 for b=1:(ce-2)
   dgt(b,1)= gt(b+1,1)- gt(b,1);
 end
 mdgt= mean(dgt);
 avgwidth= thyt;
 avmax =thyt;
 avmin = gt(1,1);

 just i want an algorithm link to calculate line height ??? 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-07T07:09:35.480

假设您有 M x N 维度的图像，其中 M 是行，N 是列。对行中的像素执行逻辑或。如果你得到 1，那么你在特定行中至少有一个黑色像素。只需查看您获得的连续 1 的数量，它将是每个句子的大致高度。

# powershell - 如何设置 do - while (for ()) 循环？

> ID：15264976
> 
> 赞同：0
> 
> 时间：2013-03-07T06:57:50.373
> 
> 标签：powershell

我不确定是否有更有效的方法可以做到这一点，或者结合 while 和 for 循环是否有效，但是我如何解决这个问题以仅在 for 循环中的每个项目都返回 true 时才运行该函数？

```
$In = @()
While ($In[-1] -ne 'done') {$In += @(Read-Host 'Prompt')}

do {
    for($i=0;$i-le $In.length-2;$i++) {function($In[$i])}
   }
while (for($j=0;$j-le $In.length-2;$j++)
    {Get-Service ($In[$j]) | $_.status} -eq "Running") 
```

对于各种服务名称的 $In 数组，do -while 应该在任何一个服务返回状态“已停止”时重新启动数组中的每个服务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T09:25:14.283

```
while(($ans = Read-Host 'Give me something') -ne 'done'){
    Restart-Service $ans
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T11:56:02.960

也许是 OT，但如果你在那个系统上安装了 V3，我会这样做：

```
Get-Service | sort Status | Out-GridView -Title 'Select services to restart' -OutputMode Multiple | Restart-Service 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:05:53.973

我会这样做：

```
$In = @()
do 
{
 $c = (Read-Host 'Enter service name') 
 if ($c) { $in+=$c} 
}
while  ($c) #just a void input to end    

$in | where-object {(Get-Service -name $_ ).Status -match 'Stopped'} | Restart-Service 
```

# java - 使用 Java 中的 Return 和 Switch 处理形状区域

> ID：15264977
> 
> 赞同：0
> 
> 时间：2013-03-07T06:57:54.867
> 
> 标签：java, return, switch-statement

尝试编写一个程序，提示用户选择圆形、矩形或三角形，然后询问相应的尺寸，然后将区域显示给用户。

我使用了一些返回和开关的实例，我认为这就是我搞砸的地方。

```
package shapearea;

import java.util.Scanner; //global scanner

public class ShapeArea {     
    public static void main(String[] args) {
       int menuOption;
       double area;

   menuOption = showMenu();
   area = processShapeOption(menuOption); 
   displayArea(area, menuOption);

}//end main

public static void displayArea(double area, int menuOption) {
   switch (menuOption) {
       case 1: System.out.printf("The area of the circle is: %.3f\n ", area);
          break; 
       case 2: System.out.printf("The area of the rectangle is: ", area);
           break;
       case 3: System.out.printf("The area of the triangle is: ", area);
           break;
   }//end switch

   }//end displayArea
   public static int showMenu() {
       Scanner scan = new Scanner(System.in);
       int menuOption;

       System.out.println("1\. circle");
       System.out.println("2\. rectangle");
       System.out.println("3\. triangle");
       System.out.print("enter choice:");
       menuOption = scan.nextInt();

       return menuOption;
   }//end showMenu

   public static double processShapeOption(int menuOption) {
       double area = 0;
       switch(menuOption){
           case 1: double radius = getDimension("radius");
                   area = calculateCircleArea(radius);

              break;

           case 2: double length = getDimension("length"),
                      width = getDimension("width");
                   area = areaOfRectangle(length, width);
           break;

           case 3: double base = getDimension("base"),
                      height = getDimension("height");
                   area = areaOfTriangle(base, height);

           break;

   }//end switch

   return area;     
}//end processShapeOption

public static double getDimension(String dimensionType) {
   double dimension;
   Scanner scan = new Scanner(System.in);
   System.out.print("Enter the " + dimensionType + ":");
   dimension = scan.nextDouble();

   return dimension;

   }//end getDimension

   public static double calculateCircleArea(double radius) {
   double area;

   area = Math.PI * Math.pow(radius, 2);

   return area;
}//end calculateCircleArea

public static double areaOfRectangle(double width, double length) {
   double area;

   area = width * length;

   return area;
}//end areaOfRectangle

public static double areaOfTriangle(double height, double base) {
   double area;

   area = .5 * base * height;

   return area;
}

}//end class 
```

计算圆形面积的部分工作正常，但是当我选择矩形时，除了矩形尺寸之外，它还会继续询问三角形尺寸，并且无法显示该区域。

编辑：添加休息

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:00:51.043

您需要`break`在每个案例之后添加一个语句。

```
case 1: {
    doStuff();
    break;
} 
```

你也忘了添加

```
"%.3f\n" 
```

到案例 2 和 3 的 printf 语句

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:00:10.850

您必须`break;`在每个`case`. [在此处](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)查看教程

# javascript - 在 jquery Mobile 'pageshow' 中获取表单 ID

> ID：15264978
> 
> 赞同：2
> 
> 时间：2013-03-07T06:57:55.180
> 
> 标签：javascript, jquery, html, css, jquery-mobile

如何在 Jquery Mobile 的“pageshow”中获取当前页面的表单 ID？我可以通过这种方式获取当前活动页面的 id。

```
$(document).on('pageshow', function () {
var id = $.mobile.activePage.attr('id'); 
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:13:19.700

可以这样做：

```
$(document).on('pageshow', function () {
    var formID = $.mobile.activePage.find('form').attr('id'); 
}); 
```

工作示例：http: [//jsfiddle.net/Gajotres/CEAwG/](http://jsfiddle.net/Gajotres/CEAwG/)

# entity-framework-4 - 实体框架 ObjectContext 分享——优缺点

> ID：15264983
> 
> 赞同：6
> 
> 时间：2013-03-07T06:57:59.910
> 
> 标签：entity-framework-4, objectcontext

在我的项目中，我使用实体框架 4.0 作为 ORM 将数据保存在 SQL Server 中。

我的项目是来自应用程序的功能区，主窗体中有网格视图和导航树，顶部有功能区面板。我的应用程序基本上是一个业务逻辑很少的 CRUD UI。

作为第一次使用 EF，我通过在编排表单（主表单或向用户显示应用程序的表单）中创建并保存 objectContext 的实例作为成员变量并将查询绑定到网格视图来开发此项目。

对于功能区面板按钮单击、网格视图行单击等各种事件，我打开另一个窗口窗体。在该窗口窗体中，我创建了另一个对象上下文并存储在该窗体类的成员变量中。

我已经阅读了一些博客和问题，例如：

1.  [如何决定对象上下文的生命周期](http://blogs.msdn.com/b/alexj/archive/2009/05/07/tip-18-how-to-decide-on-a-lifetime-for-your-objectcontext.aspx)
2.  [Entity Framework 和 ObjectContext n 层架构](https://stackoverflow.com/questions/9262011/entity-framework-and-objectcontext-n-tier-architecture)等。

一组作者建议共享对象上下文，而其他作者建议短期和非共享。

我达到了这种混乱状态，因为我现在处于这样一种状态，即我在其中一个子表单中对 objectContext 所做的更改并未反映显示它的父表单。我试图刷新，但仍然没有任何用处。只是为了做个实验，我通过构造函数注入的方式分享了我在最父类中第一次创建的objectContext，解决了我的变化反射问题。

将我所有的子表单转换为共享 objectContext 对我来说是一项巨大的工作。但如果值得，我已经准备好了。我不确定分享它的潜在问题是什么？

我可能会选择 objectContext 的静态实例，因为我没有将它用于 Web，也没有计划用于多线程场景。如果需要，我可以成为单身人士。

**我的问题：**

1.  为我的情况分享或不分享 ObjectContext？
2.  如果不分享，我该如何解决我目前使用另一个 objectContext 所做的更改来更新一个 objectContext 的问题？
3.  如果分享 - 哪个会更好？静态或单例或其他？

项目和环境的详细信息如下：

*   窗体
*   C＃
*   对比 2012
*   EF 4.0，使用数据优先方法创建的模型。

在搜索和阅读了许多问题和博客文章后，我发布了这篇文章。我读的越多，它变得越混乱 :) 如果我要让某人假设要回答的问题，请多多包涵。如果通过评论提出此类澄清，我将尝试更新问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-11T19:50:59.267

## 你的问题

**为我的情况分享或不分享 ObjectContext？** 不要分享你的上下文。EntityFramework 上下文应该遵循 UnitOfWork 模式。您的对象上下文应尽可能短，而无需不必要地创建/销毁太多上下文。这通常会转化为应用程序中的单个“操作”作为工作单元。对于 web 应用程序/api，这可能是 per `HttpWebRequest`，或者您可以按逻辑数据操作（对于您实现的每个“业务逻辑”部分）执行此操作。

例如：

*   `LoadBusinssObjects()`将创建一个上下文，加载您的数据列表以及您想要的任何相关数据，然后处理该上下文。
*   `CreateBusinessObject()`将创建一个上下文，创建某个实体的实例，用数据填充它，将其附加到上下文中的集合，保存更改，然后处理上下文。
*   `UpdateBusinessObject()`会从上下文中读取一些对象，更新它，保存更改，然后处理上下文。
*   `DeleteBusinessObject()`将在上下文中找到一个业务对象，将其从上下文中的集合中删除，保存更改并处理上下文。

**如果不分享，我该如何解决我目前使用另一个 objectContext 所做的更改来更新一个 objectContext 的问题？** 这是[pub/sub 架构](http://msdn.microsoft.com/en-us/library/ff649664.aspx)的工作。对于您在上面实现的每个操作，这可以像在对象上的几个静态事件处理程序一样简单。然后在每个业务操作的代码中，触发相应的事件。

**如果分享 - 哪个会更好？静态或单例或其他？** 这是不正确的。EF 上下文的内存占用量将继续增长，因为上下文的状态管理器会为您在应用程序中执行的*每一次交互不断收集缓存的对象（包括附加的和未附加的）。*上下文不是这样设计的。

除了资源使用之外，EF 上下文也不是线程安全的。例如，如果您希望允许您的编辑器表单之一在树列表加载一些新数据的同时保存一些更改，该怎么办？使用一个静态实例，您最好确保这一切都在 UI 线程上运行或与信号量同步（呸，呸——不好的做法）。

## 例子

这是根据您的帖子使用 C# 和代码优先方法的示例。请注意，我没有解决诸如数据并发或线程之类的问题以保持示例简短。同样在实际应用程序中，这个概念是通过泛型和反射实现的，因此我们所有的模型都有用于创建、更新、删除的基本事件。

```
public class MyCodeFirstEntityChangedArgs : EventArgs
{
    /// <summary>
    /// The primary key of the entity being changed.
    /// </summary>
    public int Id {get;set;}

    /// <summary>
    /// You probably want to make this an ENUM for Added/Modified/Removed
    /// </summary>
    public string ChangeReason {get;set;}
}

public class MyCodeFirstEntity
{
    public int Id {get;set;}
    public string SomeProperty {get;set;}

    /// <summary>
    /// Occurs when an instance of this entity model has been changed.
    /// </summary>
    public static event EventHandler<MyCodeFirstEntityChangedArgs> EntityChanged;
}

public class MyBusinessLogic
{
    public static void UpdateMyCodeFirstEntity(int entityId, MyCodeFirstEntity newEntityData)
    {
            using(var context = new MyEFContext())
            {
                // Find the existing record in the database
                var existingRecord = context.MyCodeFirstEntityDbSet.Find(entityId);

                // Copy over some changes (in real life we have a 
                // generic reflection based object copying method)
                existingRecord.Name = newEntityData.Name;

                // Save our changes via EF
                context.SaveChanges();

                // Fire our event handler so that other UI components 
                // subscribed to this event know to refresh/update their views.
                // ----
                // NOTE: If SaveChanges() threw an exception, you won't get here.
                MyCodeFirstEntity.EntityChanged(null, new MyCodeFirstEntityChangedArgs()
                {
                    Id = existingRecord.Id,
                    ChangeReason = "Updated"
                });
            }
    }
} 
```

现在您可以从任何地方（它是一个静态事件处理程序）将事件处理程序附加到您的模型，如下所示：

`MyCodeFirstEntity.EntityChanged += new EventHandler<MyCodeFirstEntityChangedArgs>(MyCodeFirstEntity_LocalEventHandler);`

然后在每个视图中都有一个处理程序，该处理程序将在触发此事件时刷新本地 UI 视图：

```
static void MyCodeFirstEntity_LocalEventHandler(object sender, MyCodeFirstEntityChangedArgs e)
{
    // Something somewhere changed a record! I better refresh some local UI view.
} 
```

现在，您拥有的每个 UI 组件都可以订阅对其重要的事件。如果您有一个树列表和一些编辑器表单，则树列表将订阅任何更改以添加/更新/删除节点（或简单的方法 - 只需刷新整个树列表）。

## 应用程序之间的更新

If you want to go a step further and even link separate instances of your app in a connected environment you can implement a pub/sub eventing system over the network using something like [WebSync - a comet implementation for the Microsoft Technology Stack](http://www.frozenmountain.com/websync/). WebSync has all the stuff built in to separate events into logical "channels" for each entity/event you want to subscribe to or publish to. And yes, I work for the software company who makes WebSync - they're paying for my time as I write this. :-)

But if you didn't want to pay for a commercial implementation, you could write your own TCP socket client/server that distributes notifications for the above events when an entity changes. Then when the subscribing app gets the notification over the network, it can fire its local event handlers the same way which will cause local views to refresh. You can't do this with a poorly architected static instance of your data context (you'd be bound to only ever have one instance of your app running). With some good setup early on, you can easily tack on a distributed pub-sub system later that works across multiple instances of native apps and web apps all at the same time! That gets very powerful.

# php - 使用教义 1 与 MSSQL SERVER 连接

> ID：15264985
> 
> 赞同：1
> 
> 时间：2013-03-07T06:58:02.433
> 
> 标签：php, doctrine

**我正在尝试使用 Doctrine1 连接到 MSSQL，** 但没有成功。我在doctrine/doctrine/connection 目录中找到了Mssql 文件夹。所以，我们似乎可以建立联系。

如果有人可以为此提供可靠的解决方案，那将是非常可观的。

*注意：我已经成功连接了学说2，但我更喜欢学说1。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T11:19:26.723

Doctrine 1 不支持 MSSQL（对它的支持从未完成）。

此外，考虑到原则 1 已经 2 年 EOL，并且您不会从原则团队获得任何关于错误或设置的帮助。

# sql-server-2008 - SQL 查询验证特殊字符但允许空格

> ID：15264991
> 
> 赞同：0
> 
> 时间：2013-03-07T06:58:20.467
> 
> 标签：sql-server-2008, tsql

在 sql server 中，**我正在验证一个不允许使用特殊字符但应该只允许空格**e 的列。

这是我使用的查询

```
select count(full_name) 
from stg_contact_details where full_name like '%[^a-Z0-9]%' 
and full_name like '% %' 
```

> 例如： full_name = suresh krishna（有效） full_name = suresh%krishna（有效） full_name =suresh% krishna（计数失败）

如果列中存在任何特殊字符，则应引发错误。但如果只有空间来，它应该忽略。

请给我一个线索。

谢谢凯拉什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:20:38.950

由于 '%' 在语法中具有特殊含义`LIKE`，因此必须对其进行转义。

例如：

```
select * from stg_contact_details 
where full_name like '%[^a-Z0-9]%' and full_name like '% %' 
and full_name not like '%@%%' escape '@' 
```

此查询`@`用作转义字符。所以转义字符之后的第一个字符，它将被视为常规字符，但第一个和最后一个`%`被视为特殊字符。

更多：[SQL LIKE](http://www.techonthenet.com/sql/like.php)，请参阅 SQL LIKE 条件 - 使用转义字符示例部分

# r - 防止部分参数匹配

> ID：15264994
> 
> 赞同：18
> 
> 时间：2013-03-07T06:58:29.407
> 
> 标签：r

我有一个 R 函数：

```
myFunc <- function(x, base='') {
} 
```

我现在正在扩展函数，允许一组任意的额外参数：

```
myFunc <- function(x, base='', ...) {
} 
```

**如何禁用参数的部分参数匹配`base`？**我不能放`...`前面，`base=''`因为我想保持函数的向后兼容性（它通常被称为`myFunction('somevalue', 'someothervalue')`没有`base`明确命名）。

我被这样调用我的函数刺痛了：

```
myFunc(x, b='foo') 
```

我*希望*这意味着`base='', b='foo'`，但 R 使用部分匹配并假设`base='foo'`。

是否有一些代码我可以插入`myFunc`以确定传入的参数名称，并且只与参数的*确切*“基础”匹配`base`，否则将其分组为`...`?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T07:24:09.033

这是一个想法：

```
myFunc <- function(x, .BASE = '', ..., base = .BASE) {
    base
}

## Takes fully matching named arguments       
myFunc(x = "somevalue", base = "someothervalue")
# [1] "someothervalue"

## Positional matching works
myFunc("somevalue", "someothervalue")
# [1] "someothervalue"

## Partial matching _doesn't_ work, as desired
myFunc("somevalue", b="someothervalue")
# [1] "" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T00:28:39.270

在@Hemmo 的提示下，刚刚以另一种方式解决了这个问题。

用于`sys.call()`了解如何`myFunc`调用（没有部分参数匹配，`match.call`用于此）：

```
myFunc <- function(x, base='', ...) {
    x <- sys.call() # x[[1]] is myFunc, x[[2]] is x, ...
    argnames <- names(x)
    if (is.null(x$base)) {
        # if x[[3]] has no argname then it is the 'base' argument (positional)
        base <- ifelse(argnames[3] == '', x[[3]], '')
    }
    # (the rest of the `...` is also in x, perhaps I can filter it out by
    #  comparing argnames against names(formals(myFunc)) .

} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-02-10T18:36:00.190

最简单的方法是简单地设置一些 R[选项](https://stat.ethz.ch/R-manual/R-patched/library/base/html/options.html)。尤其，

*   `warnPartialMatchArgs`: 合乎逻辑。如果为 true，则在参数匹配中使用部分匹配时发出警告。
*   `warnPartialMatchAttr`: 合乎逻辑。如果为 true，则在通过 attr 提取属性时是否使用部分匹配发出警告。
*   `warnPartialMatchDollar`: 合乎逻辑。如果为真，则警告如果部分匹配被 $ 用于提取。

设置这些变量现在会引发警告，如果你愿意，你可以变成错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-17T04:39:23.240

这有点晚了。但为了将来参考，我有了这个想法。

使用带引号的名称可以避免部分匹配。在函数中，对参数使用 sys.call()。

```
 > myFunc <- function(x, base="base", ...) {
+     ## get the arguments
+     ss=sys.call()
+     
+     ## positional arguments can be retrieved using numbers
+     print(paste("ss[[2]]=",ss[[2]]))
+     
+     ## named arguments, no partial matching
+     print(ss[['base']]) ## NULL
+     
+     ## named arguments, no partial matching
+     print(ss[['b']]) ## "a"
+     
+     ## regular call, partially matched
+     print(base) ## "a"
+     
+     ## because 'b' is matched to 'base', 
+     ## 'b' does not exist, cause an error
+     print(b)
+ }
> 
> myFunc(x=1,b='a')
[1] "ss[[2]]= 1"
NULL
[1] "a"
[1] "a"
Error in print(b) : object 'b' not found
> myFunc(1,base="b")
[1] "ss[[2]]= 1"
[1] "b"
NULL
[1] "b"
Error in print(b) : object 'b' not found
> myFunc(2,"c")
[1] "ss[[2]]= 2"
NULL
NULL
[1] "c"
Error in print(b) : object 'b' not found
> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-12-05T17:11:56.037

可以用来`sys.call()`访问调用者给出的函数参数。必须小心，因为`sys.call()`不会评估参数，而是为您提供调用的*表达式*。当函数`...`作为参数调用时，这变得特别困难：`sys.call()`将只包含`...`，而不是它们的值。但是，可以将`sys.call()`和评估它作为另一个函数的参数列表，例如`list()`。这会评估所有承诺并丢弃一些信息，但是当我试图规避 R 的内部匹配时，我看不出如何解决这个问题。

一种想法是模拟严格匹配。我附加了一个辅助函数，如果将其作为函数中的第一个命令调用，它就可以做到这一点：

```
fun = function(x, base='', ...) {
  strictify()  # make matching strict

  list(x, base, ...)
} 
```

这会过滤掉不匹配的参数：

```
> fun(10, b = 20)                                                                                                                                                                                   
[[1]]                                                                                                                                                                                               
[1] 10

[[2]]
[1] ""

$b
[1] 20 
```

并且也应该在大多数其他情况下工作（有或没有`...`, 右边`...`有参数 , 有参数默认值）。它唯一不适用的是非标准评估，例如，当尝试使用`substitute(arg)`.

# 辅助函数

```
strictify <- function() {
  # remove argument values from the function
  # since matching already happened
  parenv <- parent.frame()  # environment of the calling function
  rm(list=ls(parenv), envir=parenv)  # clear that environment

  # get the arguments
  scall <- sys.call(-1)  # 'call' of the calling function
  callingfun <- scall[[1]]
  scall[[1]] <- quote(`list`)
  args <- eval.parent(scall, 2)  # 'args' is now a list with all arguments

  # if none of the argument are named, we need to set the
  # names() of args explicitly
  if (is.null(names(args))) {
    names(args) <- rep("", length(args))
  }

  # get the function header ('formals') of the calling function
  callfun.object <- eval.parent(callingfun, 2)
  callfun.header <- formals(callfun.object)
  # create a dummy function that just gives us a link to its environment.
  # We will use this environment to access the parameter values. We
  # are not using the parameter values directly, since the default
  # parameter evaluation of R is pretty complicated.
  # (Consider fun <- function(x=y, y=x) { x } -- fun(x=3) and
  # fun(y=3) both return 3)
  dummyfun <- call("function", callfun.header, quote(environment()))
  dummyfun <- eval(dummyfun, envir=environment(callfun.object))
  parnames <- names(callfun.header)

  # Sort out the parameters that didn't match anything
  argsplit <- split(args, names(args) %in% c("", parnames))
  matching.args <- c(list(), argsplit$`TRUE`)
  nonmatching.arg.names <- names(argsplit$`FALSE`)

  # collect all arguments that match something (or are just
  # positional) into 'parenv'. If this includes '...', it will
  # be overwritten later.
  source.env <- do.call(dummyfun, matching.args)
  for (varname in ls(source.env, all.names=TRUE)) {
    parenv[[varname]] <- source.env[[varname]]
  }

  if (!"..." %in% parnames) {
    # Check if some parameters did not match. It is possible to get
    # here if an argument only partially matches.
    if (length(nonmatching.arg.names)) {
      stop(sprintf("Nonmatching arguments: %s",
          paste(nonmatching.arg.names, collapse=", ")))
    }
  } else {
    # we manually collect all arguments that fall into '...'. This is
    # not trivial. First we look how many arguments before the '...'
    # were not matched by a named argument:
    open.args <- setdiff(parnames, names(args))
    taken.unnamed.args <- min(which(open.args == "...")) - 1
    # We throw all parameters that are unmatched into the '...', but we
    # remove the first `taken.unnamed.args` from this, since they go on
    # filling the unmatched parameters before the '...'.
    unmatched <- args[!names(args) %in% parnames]
    unmatched[which(names(unmatched) == "")[seq_len(taken.unnamed.args)]] <- NULL
    # we can just copy the '...' from a dummy environment that we create
    # here.
    dotsenv <- do.call(function(...) environment(), unmatched)
    parenv[["..."]] <- dotsenv[["..."]]
  }
} 
```

也可以有一个将正常匹配函数转换为严格匹配函数的函数，例如

```
strict.fun = strictificate(fun) 
```

但这将使用相同的技巧。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-03-07T07:25:30.503

这是一个令人作呕的可怕黑客，但它可能会完成工作：

```
myFunc <- function(x, base='', b=NULL, ba=NULL, bas=NULL, ...) {
  dots <- list(b=b, ba=ba, bas=bas, ...)
  #..
} 
```

# c# - 将每一行保存在手动构建的gridview中

> ID：15264996
> 
> 赞同：2
> 
> 时间：2013-03-07T06:58:39.187
> 
> 标签：c#, gridview, foreach, gridviewrow

我正在尝试将gridview中的多行保存到sql数据库中。网格视图是在代码中手动构建的，因此它不是数据绑定...原因是因为这是一个必须添加到报价中的部分的网格...好吧，所以我完成了保存部分，唯一的事情是，我是否必须设置一个 foreach 才能从该行获取数据（我已经完成了），但是变量将不断设置，并且只获取最后一行数据......有人可以帮帮我吗？这就是我所做的：

```
 conn = new SqlConnection(GetConnectionString());

    string sql = "INSERT INTO CC_ItemsRequested (Item,Quantity, Price, ModelID, DateCreatedOn ) VALUES (@Item, @Quantity, @Price, @ModelID, @DateCreatedOn)";

    try
    {
        conn.Open();
        SqlCommand cmd = new SqlCommand(sql, conn);
        int row = GridView1.Rows.Count;

        cmd.Parameters.AddWithValue("@Item", myPart);
        cmd.Parameters.AddWithValue("@Quantity", myQuantity);
        cmd.Parameters.AddWithValue("@Price", myPrice);
        cmd.Parameters.AddWithValue("@ModelID", methodID);
        cmd.Parameters.AddWithValue("@DateCreatedOn", DateTime.Now);

        for (int i = 0; i < row; i++)
        {
            cmd.Parameters["@Item"].Value = myPart;
            cmd.Parameters["@Quantity"].Value = myQuantity;
            cmd.Parameters["@Price"].Value = myPrice;
            cmd.Parameters["@ModelID"].Value = methodID;
        }

        cmd.CommandType = CommandType.Text;
        cmd.ExecuteNonQuery(); 
```

这将保存数据，但我需要做一些事情来保存每一行......这是我写的 foreach：

```
 //foreach (GridViewRow rows in GridView1.Rows)
        //{
        //    if (rows.RowType == DataControlRowType.DataRow)
        //    {
        //        string myPart = rows.Cells[0].Text;
        //        string myQuantity = rows.Cells[1].Text;
        //        string myPrice = rows.Cells[2].Text; 
        //    } 
```

但问题是，它不会获取网格数据中的所有行，它基本上只会保存最后一行......

请问有什么想法吗？提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:07:31.433

我稍微重构了您的代码：必须为每一行执行 SqlCommand，并且必须先从 GridView 检索参数。

```
conn.Open();

using(SqlCommand cmd = new SqlCommand(sql, conn))
{
    var now = DateTime.Now;

    foreach (GridViewRow row in GridView1.Rows)
    {
        string myPart = row.Cells[0].Text;
        string myQuantity = row.Cells[1].Text;
        string myPrice = row.Cells[2].Text;
        //... etc

        cmd.Parameters.Clear();
        cmd.Parameters.AddWithValue("@Item", myPart);
        cmd.Parameters.AddWithValue("@Quantity", myQuantity);
        cmd.Parameters.AddWithValue("@Price", myPrice);
        cmd.Parameters.AddWithValue("@ModelID, methodID);
        cmd.Parameters.AddWithValue("@DateCreatedOn, now);

        cmd.ExecuteNonQuery();
    }
}

conn.Close(); 
```

我不确定您是否要将价格、数量和数值存储为文本。您可能想先进行一些验证，然后进行一些转换，而不是选择 Text 属性。什么不采用单元格的 .Value （如果它们的 CellValueType 定义正确）？

# matlab - 对 perm 矩阵 MATLAB 中的元素重新编号

> ID：15264999
> 
> 赞同：0
> 
> 时间：2013-03-07T06:58:50.980
> 
> 标签：matlab, vector

我有一个 1 x 9 矩阵：

```
D = [6 5 2 9 8 4 3 1 7]; 
```

但我想将它从 1 - 9 重新编号为 4 - 12。所以最后，我会有这样的东西

```
D = [9 8 5 12 11 7 6 4 10] 
```

有没有办法做到这一点？

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:04:48.320

只需将 3 添加到您的向量中：

```
D = [6 5 2 9 8 4 3 1 7];

E = D + 3; 
```

这导致

```
E =

     9     8     5    12    11     7     6     4    10 
```