# StackOverflow 问答 13117000-13117999

# django - shell 脚本 - 将“kill -HUP 1234”（gunicorn 命令）的输出存储到变量并检查变量是否包含“No such process”

> ID：13117000
> 
> 赞同：0
> 
> 时间：2012-10-29T06:43:08.470
> 
> 标签：django, bash, shell, gunicorn

我尝试使用以下命令将输出存储到变量：

```
k=$(kill -HUP 1234)  #command getting executed but not storing to variable
echo "$k" 
```

为了检查输出是否包含单词，我可以这样做：

```
 if [[ outputvar =~ .*No such process*. ]] 
```

根据示例，上面应该可以工作，但我不知道为什么它不工作。你能告诉我正确的方法吗，这样如果我无法重新启动进程，我至少可以使用直接 gunicorn_django 命令启动一个新进程

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T06:54:27.653

通常此类错误消息在`stderr`流上输出，而`$()`构造仅返回`stdout`流。您需要重定向`stderr`到`stdout`：

```
k=$(kill -HUP 1234 2>&1) 
```

您的正则表达式有一个错误：`*.`最后必须是`.*`; 您还需要在测试中引用您的字符串：

```
if [[ "$k" =~ .*No\ such\ process.* ]] 
```

注意`"$k"`是引号，而正则表达式中的空格被转义；您不能引用正则表达式 (as `".*No such process.*"`)，因为在测试中使用带引号的字符串会`=~`强制字符串匹配而不是正则表达式匹配。

# android - 为多种类型的 CPU 构建 android 原生应用程序

> ID：13117001
> 
> 赞同：0
> 
> 时间：2012-10-29T06:43:10.950
> 
> 标签：android, makefile, ffmpeg

我想在我的应用程序中使用 ffmpeg 库，所以我编写了一个 Android.mk 文件，如下所示：

```
LOCAL_PATH := $(call my-dir)
TOP_LOCAL_PATH := $(LOCAL_PATH)

include $(CLEAR_VARS)
LOCAL_C_INCLUDES += $(LOCAL_PATH)/android-8/armv5te/include/

LOCAL_CPP_EXTENSION := .cpp
LOCAL_C_EXTENSION := .c

LOCAL_CFLAGS := -O3
LOCAL_MODULE    := FilterEngine
LOCAL_SRC_FILES := \
    decoding_encoding.c \

LOCAL_LDLIBS    := -lm -llog -ljnigraphics -L$(LOCAL_PATH)/android-8/armv5te/lib/ -lavcodec -lavfilter -lavutil -lm -lz
LOCAL_STATIC_LIBRARIES := avcodec avfilter avutil

include $(BUILD_SHARED_LIBRARY) 
```

这个 make 文件只为 ARM v5 CPU 构建库，要创建库的 ARM v7 构建，我必须修改 Android.mk 文件（从 armv5te 更改为 armv7a）。如何在 make 文件中指定 2 种类型的 CPU，以便我可以同时为两个 CPU 构建库。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T16:42:59.957

在您的 jni 文件夹中创建“Application.mk”并添加所需的目标架构，例如：

```
APP_ABI := armeabi armeabi-v7a x86 
```

接下来，将您的 Android.mk 更改为使用： $(TARGET_ARCH_ABI) ，其中您对架构进行了硬编码。

我正在用 FFmpeg 做类似的事情。这是一个链接以供进一步参考：

[http://sourceforge.net/p/servestream/code/1217/tree/trunk/jni/](http://sourceforge.net/p/servestream/code/1217/tree/trunk/jni/)

如果您有任何其他问题，请告诉我。

# android - shared-preference 不能在 android 中使用

> ID：13117006
> 
> 赞同：1
> 
> 时间：2012-10-29T06:43:22.577
> 
> 标签：android, android-intent, sharedpreferences

我的新 android 项目出现问题。我不能在意图开始时使用共享首选项。当我运行我的项目时，它会强制关闭并在 log-cat 中显示空指针异常。任何人都可以提出任何解决这个问题的建议吗？这是我的课

```
public class NextActivity extends Activity {

    String a,b;
    Context cntxt;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.nextlayout);

        TextView et3 = (TextView)findViewById(R.id.textView3);

        SharedPreferences prefs = cntxt.getSharedPreferences("myprefs", 0);
        a =  prefs.getString("KEY_FIRST","");

            et3.setText(a);

            Button btn = (Button)findViewById(R.id.button1);

            btn.setOnClickListener(new View.OnClickListener()
            {

                public void onClick(View v) {

                Intent t = new Intent(cntxt,Kl_Activity.class);
                startActivity(t);
                }
            // and get whatever type user account id is

        });
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T06:46:10.013

这条线是问题

```
SharedPreferences prefs = cntxt.getSharedPreferences("myprefs", 0); 
```

你在哪里初始化`cntxt`？

像这样使用

```
 SharedPreferences prefs = getSharedPreferences("myprefs", 0); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T06:46:52.383

你从来没有设置`cntxt`任何东西。不过不用担心，因为你不需要它。`Activity`是一个`Context`。你可以`getSharedPreferences(...)`在课堂上打电话。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T06:46:52.760

你的错误在这一行

`SharedPreferences prefs = cntxt.getSharedPreferences("myprefs", 0);`

因为你没有初始化cntxt ..

所以只需更换

```
cntxt =this;
SharedPreferences prefs = cntxt.getSharedPreferences("myprefs", 0); 
```

或从行中删除 cntxt。

```
SharedPreferences prefs = getSharedPreferences("myprefs", 0); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-29T06:47:10.607

**我在您的代码中发现了问题。您使用 cntxt 而不对其进行初始化。所以在访问它之前初始化它。**

```
setContentView(R.layout.nextlayout);
cntxt = this; 
```

## 或者

不要使用 cntxt 。

```
SharedPreferences prefs = getSharedPreferences("myprefs", 0); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-29T06:49:00.043

试试这个代码：

```
public class NextActivity extends Activity {

    String a,b;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.nextlayout);

        TextView et3 = (TextView)findViewById(R.id.textView3);

        SharedPreferences prefs = getSharedPreferences("myprefs", 0);
        a =  prefs.getString("KEY_FIRST","");

            et3.setText(a);

            Button btn = (Button)findViewById(R.id.button1);

            btn.setOnClickListener(new View.OnClickListener()
            {

                public void onClick(View v) {

                Intent t = new Intent(this,Kl_Activity.class);
                startActivity(t);
                }
            // and get whatever type user account id is

        });
}
} 
```

# c# - 定期检查数据库中的新行

> ID：13117007
> 
> 赞同：0
> 
> 时间：2012-10-29T06:43:25.793
> 
> 标签：c#, asp.net, multithreading, web-services, asynchronous

我正在创建一个 Web 应用程序，我需要在其中定期检查数据库以查找表中更新的任何新行。如果任何 Rows 已更新，则将 Rows 返回给用户。

当我刷新页面时，我会更新我网站中的行。但我需要知道是否在不刷新页面的情况下将任何新行添加到表中

我怎样才能做到这一点？你能给我推荐一个方法吗（可能不会减慢网站的速度）。

我可以使用网络服务来实现这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T13:36:02.847

执行此操作的常用方法是使用 javascript 访问您网站上的页面，`setInterval`然后发回页面以询问任何更改，Web 套接字可以实时执行此操作，但需要现代浏览器。

这是一个已经很好回答的类似问题，尽管它是针对 Asp.net MVC 的：

[在服务器端发生更改时为用户创建 AJAX 警报](https://stackoverflow.com/questions/6629438/creating-an-ajax-alert-for-a-user-when-theres-a-server-side-change)

如果我被迫使用普通的 ASP.Net，我通常会将这类请求放入 Web 服务中。

# c++ - 数组数组的方法

> ID：13117014
> 
> 赞同：0
> 
> 时间：2012-10-29T06:44:19.080
> 
> 标签：c++

我正在做这个图形项目，其中我有一组点（在 3 个坐标中）并且必须通过矩阵算术转换它们。每个点都需要转换（旋转、缩放等）并存储回来。我想出的明显方法是使用大小为 n x 3 矩阵的二维数组，其中每一行将包含 3 个值（x，y，z）。有没有更好的方法使用向量或结构？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T06:48:52.213

向量和结构：

```
struct Point 
{
   float x, y, z;
}

size_t n = 100;
size_t c = 3;
std::vector<Point> points;
points.resize(n * c);
//access
points[0].x = 0.1f;
//do want you want 
```

# python - dict理解中的Python作用域

> ID：13117020
> 
> 赞同：10
> 
> 时间：2012-10-29T06:45:03.777
> 
> 标签：python, scoping, locals

```
>>> x = 'foo'
>>> {0: locals().get('x')}
{0: 'foo'}
>>> {0: locals().get('x' + spam) for spam in ['']}
{0: None} 
```

这种行为差异的原因是什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-29T06:49:09.873

字典推导和生成器推导创建自己的本地范围。列表推导在 Python 2.x 中没有，但在 Python 3 中提供。（请注意，您的第一个示例不是 dict 推导。它只是一个文字 dict，恰好有一个表达式作为键 0 的值。）

# nginx - 如何在不停机的情况下更新应用服务器

> ID：13117026
> 
> 赞同：1
> 
> 时间：2012-10-29T06:45:53.307
> 
> 标签：nginx, playframework, jenkins, load-balancing, supervisord

背景信息：我在两个节点上运行基于 Play Framework 的应用程序，这两个节点位于单个基于 nginx 的负载均衡器后面。软件更新在 Jenkins 之上自动进行。应用程序在 Supervisord 进程管理器的顶部运行。

问题：将软件更新到节点以使服务在软件更新期间启动并运行的正确方法是什么？

解决方案 1：从节点禁用端口 80，该端口将更新软件并在节点准备好服务时打开它。负载均衡器应该自动将请求转发到另一个节点。

解决方案 2：在软件更新期间从负载均衡器中禁用节点。我个人不喜欢这个解决方案。对负载均衡器配置进行更改听起来风险太大。此外，您必须重新启动 nginx 才能更改使用。

您会提出其他方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T13:20:20.883

不确定它是否会对您有所帮助，但 nginx 重新加载是优雅的，并且不会随身携带和停机。

看[这里的例子](https://stackoverflow.com/questions/361855/how-to-gracefully-restart-django-running-fcgi-behind-nginx)

# java - Java：向使用 getDesktop().mail(URI) 启动的邮件客户端添加附件

> ID：13117028
> 
> 赞同：2
> 
> 时间：2012-10-29T06:45:57.253
> 
> 标签：java, email-attachments

在 Java 中，如何启动邮件客户端以及给定文件作为附件 - 特别是使用方法`Desktop.getDesktop().mail(URI)`

我正在使用 Windows 7 并想启动 MS Outlook。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T06:58:09.417

这是一个很好的问题。

实际上`URI`，作为参数发送到方法的那个`desktop.mail(URI)`允许设置为，抄送，密件抄送，主题，正文，并且不允许设置附件。（见[http://www.ietf.org/rfc/rfc2368.txt](http://www.ietf.org/rfc/rfc2368.txt)）

然而，附件实际上是电子邮件正文的特殊格式片段。请阅读此内容以获取更多详细信息： http: [//techhelp.santovec.us/decode.htm](http://techhelp.santovec.us/decode.htm)。这意味着您可以使用 Base64 对二进制附件进行编码，并创建已包含任何通用文件附件的电子邮件正文。我个人没有尝试过，但我相信它必须有效。祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T15:13:51.387

据我所知，很遗憾无法使用`Desktop.mail(URI)`. 我已经尝试过 AlexR 的建议。如果文件太大，由于URI中字符数的限制，它不起作用。

但是，仍然可以使用[JMAPI](https://github.com/briandealwis/jmapi)，尽管它仅适用于 x86 平台。

使其工作的最终方法是使用[JavaMail API](http://javamail.kenai.com/nonav/javadocs/index.html)，但它会强制您创建自己的 GUI 并设置 SMTP 服务器配置。这对用户不太友好。

如果有人有其他建议，我很高兴知道他们。

# javascript - 如何在jquery mobile中从javascript加载gridview

> ID：13117030
> 
> 赞同：0
> 
> 时间：2012-10-29T06:46:08.440
> 
> 标签：javascript, jquery-mobile, gridview

嗨，我是 jquerymobile 的初学者。有没有可能从javascript加载gridview？我需要从javascript加载gridview。我的html页面是

```
<body onload="loadGridView()">
<fieldset class="ui-grid-b" id="mygrid">
</filedset>
</body> 
```

和javascript函数是

```
function loadGridview()
{
var img_grid=$("#mygrid"); 
      img_grid.append(' <div class="ui-block-a">
            <img alt="" src="images.jpg" style="width: 80px; height: 80px" />
            </div>
            <div class="ui-block-b">
                <img alt="" src="images.jpg" style="width: 80px; height: 80px" />
            </div>
            <div class="ui-block-c">
                <img alt="" src="images.jpg" style="width: 80px; height: 80px" />
            </div>');
} 
```

我错了还是错过了什么？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T16:08:03.733

使用例如 Firebug 来调试你的代码，然后你会看到你的错误

![截屏](../Images/0245afeeb3cd574deb13b7af2eb70c7a.png)

以下更正的示例有效

```
<body onload="loadGridView()">
  <div data-role="page" id="a-page">
    <div data-role="content"
      <fieldset class="ui-grid-b" id="mygrid">
      </filedset>
    </div>
  </div><!-- /page -->

  <script>
  function loadGridView() {
    var img_grid=$("#mygrid");
    img_grid.append('<div class="ui-block-a"><img alt="" src="images.jpg" style="width: 80px; height: 80px" /></div>');
    img_grid.append('<div class="ui-block-b"><img alt="" src="images.jpg" style="width: 80px; height: 80px" /></div>');
    img_grid.append('<div class="ui-block-c"><img alt="" src="images.jpg" style="width: 80px; height: 80px" /></div>');
  };
  </script>
</body> 
```

# android - XMPP 中的组管理

> ID：13117031
> 
> 赞同：0
> 
> 时间：2012-10-29T06:46:10.657
> 
> 标签：android, xmpp, chat

我正在开发一个聊天应用程序，我想实现同样的群聊。我已经在互联网上搜索了相同的内容，但我什至没有找到关于相同内容的一篇文章或实现。请向我建议相同或任何相应链接的任何解决方案。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:17:59.650

如果您使用的是 XMPP，那么有一个支持群聊的 XMPP 扩展。以下链接有更多关于它的信息：

[http://xmpp.org/extensions/xep-0045.html](http://xmpp.org/extensions/xep-0045.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:34:09.167

在这里您可以找到多用户聊天的示例代码。

[http://www.igniterealtime.org/builds/smack/docs/latest/documentation/extensions/muc.html](http://www.igniterealtime.org/builds/smack/docs/latest/documentation/extensions/muc.html)

这很容易使用。如果您需要更多说明，请告诉我。另请参阅 igniterealtime 社区。

[http://community.igniterealtime.org/index.jspa](http://community.igniterealtime.org/index.jspa)

您可以遵循以下扩展。

[http://xmpp.org/xmpp-protocols/xmpp-extensions/](http://xmpp.org/xmpp-protocols/xmpp-extensions/)

# java - 使用 mercurial eclipse 克隆存储库在 macos 10.8.2 上不起作用

> ID：13117032
> 
> 赞同：0
> 
> 时间：2012-10-29T06:46:13.670
> 
> 标签：java, eclipse, macos, osx-mountain-lion, osx-leopard

我已将我的 mac os 10.7.4 更新为 10.8.2(osx-mountain-lion) 。更新 macos 后，我无法从 eclipse 克隆存储库。我收到以下错误。

我正在使用`Mercurial-Eclipse-1.9.4`.

```
 hg -y clone --noupdate ssh://integ-build3//advent/hg/zohomailclient zohomailclient
remote: Permission denied, please try again.
remote: Permission denied, please try again.
remote: Permission denied (publickey,gssapi-with-mic,password).
abort: no suitable response from remote hg! 
```

我已经把 ssh-askpass 放在我的 10.7.4 上。在我输入 ssh-askpass 后，它在 macos 10.7.4 上运行良好。但是，它不适用于 macos 10.8.2 。

`ssh cloning`当没有通过 eclipse提示克隆密码提示时。它适用于 http clone 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T11:49:48.777

据我了解，ssh-askpass 取决于 X11，而 X11 不附带 10.8。也许安装[XQuartz](http://xquartz.macosforge.org/landing/)会有所帮助？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T15:35:15.727

我认为问题在于升级环境上的 ssh 配置，而不是 Mercurial 或 MercurialEclipse。要将 MercurialEclipse 与 ssh 一起使用，需要配置非交互式 ssh 登录。您应该能够在不询问用户名/密码的情况下通过 ssh 进入该机器。

# asp.net - 带有必填字段验证器的 asp.net 正则表达式验证器

> ID：13117041
> 
> 赞同：6
> 
> 时间：2012-10-29T06:47:14.057
> 
> 标签：asp.net, validation

我的问题是我想在同一个地方得到错误。

```
<td>
   <asp:TextBox> ...</asp:TextBox>
   <br />
      <asp:RegularExpressionValidator 
          ErrorMessage=""please enter 9 digis only" ...>
      </asp:RegularExpressionValidator>
      <asp:RequiredFieldValidator 
          ErrorMessage="this can't be blank" ...>
      </asp:RequiredFieldValidator>
</td> 
```

我附上了一张带有输出、外观和红色消息的图像，这是验证器。我希望错误消息在同一个地方，因为只能出现一个错误。感谢帮助者（以及尝试的人）。

![代码的输出](../Images/a6b29d528e9e4c93cab0e886f7c09ac4.png)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-29T06:50:39.530

向两个验证器添加`Display=Dynamic`属性。

**[进一步参考](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.basevalidator.display%28v=vs.80%29.aspx)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T06:50:12.743

将验证器的显示属性设置为“动态”。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T06:54:13.703

使用 Display="Dynamic"，试试这个：

```
<td>
    <asp:TextBox> ...</asp:TextBox>
    <br />
    <asp:RegularExpressionValidator 
        ErrorMessage="Please enter 9 digits only" Display="Dynamic" ...>
    </asp:RegularExpressionValidator>
    <asp:RequiredFieldValidator 
        ErrorMessage="this can't be blank" Display="Dynamic" ...>
    </asp:RequiredFieldValidator>
</td> 
```

# php - 限制对我服务器上 php 脚本的访问

> ID：13117043
> 
> 赞同：1
> 
> 时间：2012-10-29T06:47:18.627
> 
> 标签：php, android, security

我有几个连接到我的 sql 服务器并检索一些数据的 php 脚本。我从一个 android 应用程序中调用这些 php 脚本。现在的问题是，当有人在他们的计算机上访问该站点时，我不希望公开看到脚本的输出。（因为他们持有关于谁安装了我的应用程序和其他数据的信息）。我拥有这些脚本的唯一原因是我的应用程序的内部逻辑。我想知道是否有任何简单的方法可以让我的脚本可以从 android 手机访问，同时当我使用计算机上的浏览器连接到它时不显示它们的输出。如果不是，我还有什么其他选择？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:17:18.720

建议使用单一密码是非常不安全的。只需传递通过代理发送的消息并捕获它，您就拥有了代码。您所面临的问题基本上与任何公开可用 API 的创建者所面临的问题相同。

最好的办法是为每个安装使用唯一的 API 密钥，用于签署所有请求和响应。这不必包括用户手动将其放入应用程序。可能是应用程序第一次通信时，服务器为其提供了一个密钥并将该密钥映射到该设备/安装。

谷歌搜索`Authentication for REST API in PHP`或类似的东西，你很可能会找到指向正确方向的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:10:42.280

如果你在 Android 后台调用你的 PHP 脚本，你可以传递一个密码作为查询数据。由于它是在后台发生的，因此没有人会看到它。您的 php 检查该代码是否已发送。如果没有，它不会返回任何东西。这不是一个非常安全的系统，尽管它可以以这种方式实现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:14:37.750

您可以在标头中发送一些只有 android 应用程序知道的 ID（即客户端 ID），并在存在此 ID 时在服务器上发送实际响应，如果 ID 不存在则发送一些虚拟响应。还要使用 HTTPS，以便您发送的所有数据都将被加密。

# javascript - AngularJS控制器未加载

> ID：13117046
> 
> 赞同：4
> 
> 时间：2012-10-29T06:47:43.400
> 
> 标签：javascript, module, controller, smarty, angularjs

我有一个 AngularJS 应用程序，其中包含使用 Smarty 构建的页面。页面顶部有`ng-agg`tag参数，正在编译基本的AngularJS模板，`.run`正在运行我的模块的方法，但没有调用我的控制器

**html的开始**

```
<!DOCTYPE html>
<html ng-app="myapp">
... 
```

**$routeProvider**

```
angular.module('myapp', function($routeProvider, $locationProvider) {
  $routeProvider
    .when('/index.php?page=tutorial', {controller: 'MyappTutorial'})
    .when('/index.php?page=home', {controller: 'MyappHome'})
    .when('/index.php?page=login', {controller: 'MyappLogin'})
}) 
```

**教程控制器**

```
var MyappTutorial = function ($scope, $location) {
    console.log('tutorial');
} 
```

当我访问页面**index.php?page=tutorial**时，我构建了我的角度页面模板，并触发了我的方法中的**console.log()**`myapp.run()`，但教程控制器没有运行。

我该如何调试这个。我猜是 routeProvider 出了问题，有没有办法检查正在使用哪个控制器（如果有）。

我的 javascript 控制台中没有出现任何错误。

这是在 Chrome 中运行的，来自 Mac 上的本地开发 Ubuntu 虚拟机。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T16:46:56.883

我认为您可能需要重新考虑如何构建您的项目。我尝试了类似您的方法，但对我来说似乎不正确（并且无法使其正常工作）。

我正在使用 php（在我的工作之外）和 .net（在我的工作中）有角度，我得出的结论是，在盒子内工作要容易得多，意思是，（恕我直言）放弃聪明，放弃 php 模板，使用 angular 作为客户端，使用 php 作为服务器端。这并不是说您不能拥有 index.php，但是，您可以使用 partials（php 或 html）。您会发现一个更简单的结构，其中包含 html、js（查看[教程路由和教程](http://docs.angularjs.org/tutorial/step_07)中的多个视图）。您应该意识到在使用 partials 时需要注意一些事情（尤其是在使用 # 和 html5mode 时）。

但是，您没有征求我的意见-我可能会为此感到沮丧...回答您的问题。我认为，如果要保留您拥有的结构，那么您应该将控制器放在附加到容器的模板中。

希望这可以帮助

- 担

# python - 在python中提取电子邮件正文

> ID：13117050
> 
> 赞同：2
> 
> 时间：2012-10-29T06:47:59.767
> 
> 标签：python, email, smtp

将电子邮件发送到计算机时，消息的 DATA 部分始终以字符序列结尾`<CRLF>.<CRLF>`（请参阅[RFC 2821](https://www.rfc-editor.org/rfc/rfc2821#page-33)和[相关帖子](https://stackoverflow.com/questions/13108615/mysterious-characters-at-the-end-of-e-mail-received-with-socket-in-python)）。在 python 中解码电子邮件消息时，有一个方便的函数可以通过`Message.get_payload()`(package `email`) 获取消息的有效负载。但是这个“有效负载”仍然包含`<CRLF>.<CRLF>`序列，在使用 gmail 等查看电子邮件时会被抑制。

我的问题：python 中是否有一个方便的函数来获取 REAL 消息，其中附加字符被删除？还是我需要自己做一些破解？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:59:54.767

这样做怎么样（假设它不是多部分消息）：

```
Message.get_payload().rsplit('\r\n', 2)[0] 
```

在一个例子中：

```
>>> s = 'Hi,\r\n\r\nThis is my email.\r\n.\r\n'
>>> print s.rsplit('\r\n', 2)[0]
Hi,

This is my email.
>>> 
```

如果它只是`<CRLF>`你担心的，那么它不会比这更干净。您可以将它包装在一个函数中以使其自我记录，但对我来说，这肯定比包含自定义库要好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T13:07:29.933

`<CRLF>.<CRLF>`邮件末尾的序列是用于发送邮件**的 SMTP 进程**的产物。如果您通过其他方法（POP、IMAP、读取本地邮箱等）接收消息，则不会出现此序列。

由于这只会在您的代码作为 SMTP 服务器运行时出现，因此`email`程序包不知道您是如何获取消息的，并将字符视为消息的一部分，而不是作为消息终止符。

您的 SMTP 服务器代码应该在将消息传递给类`.<CRLF>`之前从消息中去除最后三个字符 ( ) 。`email.Mesasage`

这将使 SMTP 服务器代码如下所示：

```
message = ""
while True:
    line = get_line()
    if line == ".\r\n":
        break
    message += line

email = Message.email(message) 
```

这会在将消息转换为`Message.email`.

# c# - 如何使用 asp.net 在 Jquery 中验证用户名密码？

> ID：13117054
> 
> 赞同：0
> 
> 时间：2012-10-29T06:48:20.777
> 
> 标签：c#, asp.net, ajax, jquery

我在 asp.net 中使用了 Jquery 登录控制 loke 的代码，但对我可以在哪里以及如何简单地验证用户名和密码感到困惑。

`Login.aspx`

```
<head>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>
    <script src="Scripts/login.js" type="text/javascript"></script>
</head>

 <div id="loginBox">                
                    <form id="loginForm">
                        <fieldset id="body">
                            <fieldset>
                                <label for="email">Email Address</label>
                                <input type="text" name="email" id="email" />
                            </fieldset>
                            <fieldset>
                                <label for="password">Password</label>
                                <input type="password" name="password" id="password" />
                            </fieldset>
                            <input type="submit" id="login" value="Sign in" />
                            <label for="checkbox"><input type="checkbox" id="checkbox" />Remember me</label>
                        </fieldset>
                        <span><a href="#">Forgot your password?</a></span>
                    </form>
                </div>

Login.js
// Login Form

$(function() {
    var button = $('#loginButton');
    var box = $('#loginBox');
    var form = $('#loginForm');
    button.removeAttr('href');
    button.mouseup(function(login) {
        box.toggle();
        button.toggleClass('active');
    });
    form.mouseup(function() { 
        return false;
    });
    $(this).mouseup(function(login) {
        if(!($(login.target).parent('#loginButton').length > 0)) {
            button.removeClass('active');
            box.hide();
        }
    });
}); 
```

现在我怎么能用这个 Jquery 代码使用我的 asp.net 身份验证？在哪里以及如何编写 c# 身份验证代码？给一些线程也m new bie in jquery 谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:22:05.210

下面介绍如何编写一个 ajax 调用开始

```
var usernameText = $("#usernameTextbox");
var passwordText = $("#passwordTextbox");

$.ajax({
    type: 'GET',
    url: '/Account/ValidateUser',
    async: true,
    dataType: 'json',
    data:
    {
        userName: usernameText,
        password: passwordText
    },
    success: function(result) {
        if(result){
            // redirect user to required page
        }
        else{
            // show error on some div that usrname and password do not match
        }
    }
}); 
```

**关于 SO 的相关问题**

[MVC 4 Jquery Ajax 调用返回登录页面 html](https://stackoverflow.com/questions/11679404/mvc-4-jquery-ajax-call-returns-login-page-html)

[如何在 jQuery 和 AJAX 中使用 Basic Auth？](https://stackoverflow.com/questions/5507234/how-to-use-basic-auth-and-jquery-and-ajax)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:35:27.557

我不确定您到底想做什么，但是为了使用 asp.net 执行登录，您应该以某种方式将您的数据发送到服务器。您可以通过两种方式进行操作：使用表单发送或通过 AJAX 请求发送。如果您想在表单中发送它，您应该在标签表单中指定操作，例如

```
<form id="loginForm" action="MySite/Logon">
    <!-- fields, labels, etc. -->
</form> 
```

如果要通过 jQuery AJAX 请求发送，可以使用方法，[这里](http://api.jquery.com/jQuery.ajax/)`jQuery.ajax`解释的很清楚，参数中带有对应的 url 。 在服务器端，您的身份验证可能如下所示：`url`

```
FormsAuthenticationTicket ticket = new FormsAuthenticationTicket( // create authentication ticket
    1, // id
    email, // user name
    DateTime.Now, // date of issue
    DateTime.Now.AddMinutes(15), // expiration date
    true, // true if your ticket will be stored in a cookie, that will be kept by browser across the sessions
    userdata, // any text data, that you want to add to ticket (e.g. user roles)
    FormsAuthentication.FormsCookiePath // path associated with your ticket
);
string hashedTicket = FormsAuthentication.Encrypt(ticket);
HttpCookie cookie = new HttpCookie(
    FormsAuthentication.FormsCookieName, hashedTicket); // adding your ticket to cookie
cookie.Expires = ticket.Expiration;
Response.Cookies.Add(cookie); // sending cookie to client with current response 
```

在这些操作之后，您的客户端将被识别为已通过身份验证，直到他注销或 cookie/票证的到期时间到期。
希望这些信息对您有所帮助。

# json - 在sencha touch 2中分组json值

> ID：13117055
> 
> 赞同：0
> 
> 时间：2012-10-29T06:48:29.703
> 
> 标签：json, extjs4, jsonp, sencha-touch-2

我需要在按钮单击时对来自 json 的值进行分组和显示。我该怎么做？这是我的 json 文件：-

```
{"list":[{"name":"Peppara Wild Life Sanctuary ","specific_name":"TODO","headline":"The sanctuary has a rich population of mammalian fauna and is emerging as a big attraction to wildlife enthusiasts and ornithologists.\u00a0 ","description":"Lying on the outskirts of the capital city, the Peppara Wildlife Sanctuary is spread over an area of 53 sq. km. on the Western Ghats and was established in 1938\. The place is fascinating for its damsite, thick forest areas, crystal clear streams and rocky terrains ideal for adventure expeditions. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Peppara Wild Life Sanctuary_Trivandrum.jpg","district":"Thiruvananthapuram ","category_name":"Animals & Birds ","sub_category_name":"Wildlife Sanctuary ","place":"Thiruvananthapuram "},{"name":"Ponmudi ","specific_name":"TODO","headline":"A variety of wildlife inhabit the hills ","description":"Lying on the outskirts of the capital city, the Peppara Wildlife Sanctuary is spread over an area of 53 sq. km. on the Western Ghats and was established in 1938\. The place is fascinating for its damsite, thick forest areas, crystal clear streams and rocky terrains ideal for adventure expeditions. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Ponmudi_Trivandrum.jpg","district":"Thiruvananthapuram ","category_name":"Hill Stations ","sub_category_name":"Hill Station ","place":"Thiruvananthapuram "},{"name":"The Padmanabhapuram Palace ","specific_name":"TODO","headline":"A magnificent wooden palace of the 16th century, Padmanabhapuram Palace lies at the land's end of mainland India - Kanyakumari ","description":"The antique interiors are replete with intricate rosewood carvings and sculptured decor. The palace also contains 17th and 18th century murals. One can see: the musical bow in mahogany, windows with coloured mica, royal chairs with Chinese carvings, 'Thaikkottaram' or the Queen Mother's palace with painted ceilings, rose wood and teak carved ceilings with 90 different floral designs. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/The Padmanabhapuram Palace_Trivandrum.jpg","district":"Thiruvananthapuram ","category_name":"Art & Culture ","sub_category_name":"Palace ","place":"Thiruvananthapuram "},{"name":"Agasthyakoodam ","specific_name":"TODO","headline":"Agasthyarkoodam (also known as\u00a0Agathiyar Malai\u00a0or\u00a0Agasthyakoodam) is a 1,868-metre (6,129\u00a0ft) tall peak within\u00a0Neyyar Wildlife Sanctuary\u00a0in the\u00a0Western Ghats\u00a0of\u00a0South India. ","description":"Agasthyarkoodam is a\u00a0pilgrimage\u00a0centre for devotees of the Hindu sage\u00a0Agastya, who is considered to be one of the seven\u00a0rishis\u00a0(Saptarishi) of\u00a0Hindu\u00a0Puranas.The shrine was installed under the auspices of the\u00a0Chenkottukonam\u00a0Madathipathi\u00a0Jagadguru\u00a0Swami Sathyananda Saraswathi\u00a0Thiruvadikal who entered the forests with\u00a0Hindu Aikya Vedi\u00a0activists and his followers especially from the\u00a0Kani\u00a0Tribe demolished the\u00a0cross\u00a0erected by Christians.The\u00a0Tamil language\u00a0is considered to be a boon from Agasthya. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Agasthyakoodam_Trivandrum.jpg","district":"Thiruvananthapuram ","category_name":"Hill Stations ","sub_category_name":"Mountain ","place":"Thiruvananthapuram "},{"name":"Somatheeram ","specific_name":"TODO","headline":"\u00a0A serene aryurvedic resort by the sea in South India ","description":"Somatheeram,\u00a0the world\u2019s first Ayurvedic resort, is one of the best tourism spots in\u00a0Kerala, India. Located at Chowara Beach on a hillock 9 km south of the famous\u00a0Kovalam Beach, Trivandrum, Kerala with over 15 acres of greenery all around. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Somatheeram_Trivandrum.jpg","district":"Thiruvananthapuram ","category_name":"Picnic Spots ","sub_category_name":"Lake ","place":"Thiruvananthapuram "},{"name":"Manaltheeram Ayurvedic Beach Village ","specific_name":"TODO","headline":"It is a picturesque beach resort ","description":"Manaltheeram Ayurveda Beach Village is the place to go if you want to plunge your senses to the whispering sea breeze, lush greenery of the surrounding flora and the murmuring surf. Leave the drudgery and monotony of the working world behind rejuvenating your body and soul at this resort that offers that little bit more, for less. \u00a0 ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/manaltheeram_Trivandrum.jpg","district":"Thiruvananthapuram ","category_name":"Ayurvedic Centres ","sub_category_name":"Mountain ","place":"Thiruvananthapuram "},{"name":"Beema Palli ","specific_name":"TODO","headline":"Beemapally, a suburb of\u00a0Thiruvananthapuram\u00a0(also known as Trivandrum), is right under the flight path of planes landing at theThiruvananthapuram airport ","description":"The mosque at Beemapally is famous for the annual Urus. It is a good shopping area too. It is well connected by State Road Transport bus service from East Fort. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Beema Palli_Trivandrum.jpg","district":"Thiruvananthapuram ","category_name":"Pilgrim Centres ","sub_category_name":"Mosque ","place":"Thiruvananthapuram "},{"name":"Mahadeva Temple ","specific_name":"TODO","headline":"Temple dedicated to Lord Siva","description":"This temple situated in the busy area of Kottayam.The legand has it that the idol there is 'Swayambu'(Self-manifested) and not installed. ","rank":"6","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Kottayam_Thirunakkara Mahadeva Temple.jpg","district":"Kottayam ","category_name":"Pilgrim Centres ","sub_category_name":"Temple ","place":"Kottayam "},{"name":"Sri Krishnaswamy Temple ","specific_name":"TODO","headline":"Temple dedicated to Lord Sree Krishna","description":"This temple is famous for the Ezhunallathu procession in which Elephants have their own part to play along with humans. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Sri Krishnaswamy Temple_Ktym.jpg","district":"Kottayam ","category_name":"Pilgrim Centres ","sub_category_name":"Temple ","place":"Kottayam "},{"name":"Bagawathy Temple ","specific_name":"TODO","headline":"The idol is made of 'Anjanakkal' ","description":"Kumaranalloor Devi temple is considered as one of the most important Devi temples among the 108 Durgalayas (Devi temples) in Kerala. The temple is said to be more than 2400 years old, as per historical and mythological evidences as well as other sources of information. The architecture of the temple is notable for the unique structure of the\u00a0nalambalam\u00a0and\u00a0sreekovil\u00a0both of which have been built in the\u00a0sreechakra\u00a0style (ring like object with a handle, which is placed in the right hand of the Devi). This kind of architecture is rarely found in temple architecture. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Bagawathy Temple_Ktym.jpg","district":"Kottayam ","category_name":"Pilgrim Centres ","sub_category_name":"Temple ","place":"Kumaranallur "},{"name":"Dakshina Mookambika Saraswathy Temple ","specific_name":"TODO","headline":"This temple is dedicated to Goddess Saraswathy -the Goddess of Arts and Learning and the consort of Lord Brahma-the God of creation.","description":"The Saraswathi Temple known as 'Dakshina Mookambika temple' is situated at Panachikkad about 10 km from Kottayam on the way to Changanasseri.The nine day festival 'navaratri' is famous here .","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Default.jpg","district":"Kottayam ","category_name":"Pilgrim Centres ","sub_category_name":"Temple ","place":"Chingavanam "},{"name":"Mahadeva Temple ","specific_name":"TODO","headline":"The temple is dedicated to Lord Shiva and here the diety is two forms vallya(Love) and Rudhra(Fury) ","description":"This temple is famous for its murals, especially the painting of Nataraja in the\u00a0gopuram\u00a0andezharaponnana\u00a0(the seven-and-a-half elephants finished in gold).\u00a0 ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Kottayam_Thirunakkara Mahadeva Temple.jpg","district":"Kottayam ","category_name":"Pilgrim Centres ","sub_category_name":"Temple ","place":"Ettumanoor "},{"name":"St. Mary's Church ","specific_name":"TODO","headline":"This Church is dedicated to St Mary,One of the most important Churches of the Malankara Jawbite Syriyan Christians","description":"St. Mary's Malankara Jacobite Syrian Orthodox Church of Dallas is under the leadership of the Patriarch of Antioch and the Archbishop of North America appointed by the Throne of Antioch. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/St. Mary's Church_Ktyn.jpg","district":"Kottayam ","category_name":"Pilgrim Centres ","sub_category_name":"Church ","place":"Mannarkad "},{"name":"St. Mary's Ferona Church ","specific_name":"TODO","headline":"The crucifix in this church is unique as it shows Jesus Christ without a single wound ","description":"The 9th century St. Mary's Church was built on land donated by the Brahmin family of Ettanasseri as thanksgiving for a male heir born to the family on praying to Virgin Mary. Leonard D'Cruz, a Portuguese sailor, brought the statue of St. Sebastian in 1687 .","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/St. Mary's Ferona Church_Ktym.jpg","district":"Kottayam ","category_name":"Pilgrim Centres ","sub_category_name":"Church ","place":"Bharananganam "},{"name":"Panchalimedu ","specific_name":"TODO","headline":"Panchalimedu, which is soaked in snow, offers tourists a panoramic view of an unending stretch of valleys and hills ","description":"Situated at an attitude of about 2500 feet above the sea level, Panchali Medu is an adventurer\u2019s slot. According to legends, \u2018Pandavas\u2019 (heroes of the epic \u2013 Mahabharata) stayed at this place, during their exile from the Kingdom. Here, a small Temple with a pond (in which Panchali - wife of the Pandavas, used to take bath) can also be seen .","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Panchalimedu_Kottayam.jpg","district":"Kottayam ","category_name":"Picnic Spots ","sub_category_name":"Trekking ","place":"Mundakkayam "},{"name":"Kesari Falls ","specific_name":"TODO","headline":"Kesari waterfall is also called as Valanjamkanam waterfalls is a small waterfall and it lies in Kottayam district","description":"Kesari Falls\u00a0 is a three-hour bus journey fromKottayam. This picturesque waterfall lies in between Kuttikanam and Murinjapuzha on the Kottayam \u2013 Kumili route. Kuttikanam, which is 4km from here, offers trekking, \u00a0an \u00a0ideal place for adventure lovers. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Kesari Falls_ktym.jpg","district":"Kottayam ","category_name":"Water bodies ","sub_category_name":"Water falls ","place":"Kuttikanam "},{"name":"Pierce Leslie Bungalow","specific_name":"TODO","headline":"Pierce Leslie Bungalow , a colonial mansion, which was found in 1862, Constructed in Portuguese, Dutch and the native building style, this mansion was the office of the coffee merchants, the Pierce Leslie and Company ","description":" The mansion is characterised by arched doorways, wood panels on the roof of the ground floor and carved doors..The major attraction of this mansion is the water front veranda and the cascade balcony. Located near Fort Kochi, around 13 km from Ernakulam, this mansion can be reached by hiring taxis from the Kochi city. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Pierce Leslie Bungalow_Ernakulam.jpeg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Building ","place":"Ernakulam "},{"name":"Koder House","specific_name":"TODO","headline":"Koder House\u00a0Apart from the coloniel architecture, luxury furnitures and high beds, warm hospitality is what we loved ","description":"This is again an 18th century edifice of elegance built by Samuel S.Koder of the Cochin Electric Company.The architecture here emphasises the advent of Indo-European style cover the colonial type. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Koder House_Ernakulam.jpeg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Building ","place":"Ernakulam "},{"name":"Delta Study","specific_name":"TODO","headline":"Once a warehouse, this heritage bungalow built in 1808, houses a high school today ","description":"Founded in 1976 as a public trust registered under the Travancore Cochin Literary, Scientific and Charitable Societies Act of 1955, the Delta Schools Society established the prestigious Delta Study in a humble manner, in a rented building, to impart the wealth of knowledge to the budding generation of Cochin. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Delta Study_Ernakulam.jpeg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Building ","place":"Ernakulam "},{"name":"St. Francis Church","specific_name":"TODO","headline":"St.\u00a0Francis Church\u00a0in Kochi has great historical significance stands as an evidence of the European colonial struggle in India ","description":"Fort Cochin is believed to be the oldest European Settlement in India and St. Francis Church was the first European Church to be built in India. The history of this Church reflects the colonial struggle of European powers in India, from the 15th to 20th Centuries. The Portuguese Vasco da Gama was the first European to discover the sea route to India .","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/St. Francis Church _Ernakulam.jpeg","district":"Ernakulam ","category_name":"Pilgrim Centres ","sub_category_name":"Church ","place":"Ernakulam "},{"name":"Vasco House","specific_name":"TODO","headline":"Vasco House\u00a0The sixteen century house is believed to be the residence of vasco da gama and also in one of the oldest structures of Fort\u00a0cochin ","description":"Believed to have been the residence of Vasco da Gama, this is one of the oldest Portuguese residences in Fort Kochi. Built in the early sixteenth century, Vasco House sports the typical European glass paned windows and balcony cum verandahs characteristic of the times. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Vasco House _Ernakulam.jpeg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Building ","place":"Ernakulam "},{"name":"VOC Gate","specific_name":"TODO","headline":"VOC Gate is a large wooden gate facing the\u00a0Parade Ground\u00a0in\u00a0Fort Kochi ","description":"The VOC Gate, facing the Parade Ground, is another landmark of Fort Kochi. Built in 1749 by the Dutch East India Company, the gate carries a monogram VOC; hence the name. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/VOC Gate _Ernakulam.jpeg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Building ","place":"Ernakulam "},{"name":"The Bishop's House","specific_name":"TODO","headline":"The Bishop's House\u00a0was built as the residence of the Portuguese Governor in 1506 and is situated on a small hillock near the Parade Ground at Fort\u00a0Kochi\u00a0 ","description":"Bishop\u2019s House is situated on a small hillock near the Parade Ground. It can boast of a history as interesting as that of the old churches like the St Francis Church and the Santa Cruz Basilica ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/The Bishop's House _Ernakulam.jpeg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Building ","place":"Ernakulam "},{"name":"Fort Immanuel","specific_name":"TODO","headline":"Fort Immanuel, in Fort Kochi, was built by the Portuguese in the 1500s ","description":"This bastion of the Portuguese in Kochi was a symbol of the strategic alliance between the Maharajah of Kochi and the Monarch of Portugal, after whom it was named. Built in 1503, the fort was reinforced in 1538\. By 1806 the Dutch, and later the British, had destroyed most of the fort walls and its bastions. Today, remains of this once imposing structure can be seen along the beach. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Fort Immanuel_Ernakulam.jpg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Fort","place":"Ernakulam "},{"name":"David Hall","specific_name":"TODO","headline":"David Hall, reminiscent of the Dutch glory of yesteryears, is situated on one side of the Parade Ground in Fort Kochi ","description":"The history and architectural grandeur of the halls woos many visitors. It also houses an art gallery and acts as a cultural centre to support young exponents of visual and performing art forms. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/David Hall_Ernakulam.jpg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Building ","place":"Ernakulam "},{"name":"The Cochin Club","specific_name":"TODO","headline":"The Cochin Club is one of the prominent clubs. Situated opposite the St Francis Church and within a beautiful garden, the club was earlier known as English Club ","description":"Records say that Cochin Club was a venue for large gatherings of the British and that its members were the elite of Kochi. Wednesdays and Saturdays were the club days. Many who featured in the commercial history of Kochi such as the highly placed officials of companies like Pierce Leslie and Aspinwall were members. ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/The Cochin Club_Ernakulam.jpg","district":"Ernakulam ","category_name":"Art & Culture ","sub_category_name":"Building ","place":"Ernakulam "},{"name":"Madiyankulam Durga Temple ","specific_name":"TODO","headline":"Madiyankulam Durga Temple\u00a0at Kanhangad, Kasargod district of Kerala is famous for its Bhutha Dance (Pootham) ","description":"\u00a0This temple dedicated to Bhadrakali the Goddess for Bravery, hosts two grand annual festivals, one in May and June and the other in December and January. 'Bootham' a famous form of dance is the highlight of the festival.\u00a0\u00a0 ","rank":"0","mobile":"","phone":"","fax":"","email_id":"","website":"","visiting_hours":"","image_url":"http://itprof.in/keralatourism/yii/demos/keralatourism/images/AttractionImageGallery/Default.jpg","district":"Kasargod ","category_name":"Pilgrim Centres ","sub_category_name":"Temple ","place":"Kasargod "}]} 
```

在这个 json 中，有一个名为 'category_name' 的键。每个 category_name 都有不同的值。每个 category_name 都有不同的按钮（例如：艺术和文化、朝圣中心等）。所以当我点击这些按钮时，只需要显示相应按钮的详细信息。我该如何实施？

我的商店的代码是：

```
Ext.define('tourism.store.AttractionMasters',{
    extend:'Ext.data.Store',
    requires:[
        'tourism.model.AttractionMaster',
        'Ext.data.proxy.JsonP',
        'Ext.data.reader.Json'
    ],
    config:{
        autoLoad:true,
        model:'tourism.model.AttractionMaster',
        proxy:{
            type:'ajax',
            model: 'tourism.model.AttractionMaster',
            url:'app/data/attractionmaster.json',

           reader:{
                type:  'json',
                rootProperty: 'list'

            }            
        }
    }
  }
); 
```

按钮点击的视图是：

```
Ext.define('tourism.view.ArtandCulture',{
    extend:'Ext.List',
    xtype:'artandculturelist',
    config:{
        title:'Arts and Culture',
        itemTpl:[
            '<img src="{image_url}" width="100px" height="100px">',
            '{name}','{category_name}'
        ],
        store:'AttractionMasters',
        onItemDisclosure:true
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T20:17:32.987

anu，尝试将以下内容添加到商店中的配置中：

```
config:{
    autoLoad:true,
    groupField: 'category_name',
    model:'tourism.model.AttractionMaster',
    proxy:{
        type:'ajax',
        model: 'tourism.model.AttractionMaster',
        url:'app/data/attractionmaster.json',

       reader:{
            type:  'json',
            rootProperty: 'list'

        }            
    }
} 
```

应该希望工作..

# wordpress - 如何根据语言重写自定义帖子类型 slug？

> ID：13117058
> 
> 赞同：7
> 
> 时间：2012-10-29T06:48:53.277
> 
> 标签：wordpress, url-rewriting, http-status-code-404, translation, custom-post-type

我正在使用 WordPress 构建一个网站，它更像是一个 CMS，而不是一个博客平台。我大量使用了自定义帖子类型和自定义分类法。最后但并非最不重要的一点是，我使用 WPML 插件使它成为多语言。

在 CPT 声明期间，我包装了字符串和 slug，`gettext`以便让它们在 WPML 中准备好翻译。

CPT声明示例如下：

```
register_post_type('rooms',
    array(
        'label' => __('Rooms','valletta'),
        'description' => __('','valletta'),
        'public' => true,
        'show_ui' => true,
        'show_in_menu' => true,
        'capability_type' => 'post',
        'hierarchical' => true,
        'rewrite' => array('slug' => __('rooms','valletta')),
        'query_var' => true,
        'exclude_from_search' => false,
        'menu_position' => 25,
        'supports' => array('title','editor','excerpt','custom-fields','comments',),
        'taxonomies' => array('features','typology',),
        'labels' => array (
            'name' => __('Rooms','valletta'),
            'singular_name' => __('room','valletta'),
            'menu_name' => __('Rooms','valletta'),
            'add_new' => __('Add room','valletta'),
            'add_new_item' => __('Add New room','valletta'),
            'edit' => __('Edit','valletta'),
            'edit_item' => __('Edit room','valletta'),
            'new_item' => __('New room','valletta'),
            'view' => __('View room','valletta'),
            'view_item' => __('View room','valletta'),
            'search_items' => __('Search Rooms','valletta'),
            'not_found' => __('No Rooms Found','valletta'),
            'not_found_in_trash' => __('No Rooms Found in Trash','valletta'),
            'parent' => __('Parent room','valletta'),
        )
    )
); 
```

正如你所看到的，我也包含了 slug 术语，这（对我来说）非常有意义。我想要实现的是，当用户访问意大利语的“标准”网站时，将通过 /camere/nome-camera/ 到达房间 CPT 页面，而英语用户将通过 /rooms/room-name/ 获得它。这适用于意大利语，并且 WPML 也可以正确翻译英语版本的 slug，所以如果我在意大利语网站上查看房间 CPT 并切换到英语版本，WordPress 会被带到 /rooms/，唯一的问题是它显示 404。

我查看了 WPML 网站，他们承认 slugs 翻译仍在进行中，并且可能会在插件的下一个版本中发布。好没问题。

然后我想要实现的是在 WPML 更新是插件时使用的 hack。我的想法是在我的 .htaccess 中有一些自定义重写规则，并对这些 CPT 页面进行 URL 重写。我认为我可以删除 slug 翻译，以便为两种语言提供一个 slug，然后有一个重写规则，当有人键入翻译的 slug 时，会得到“标准”，但至少内容是正确的，并且：a）用户不会注意到任何事情，因为浏览器不会重定向页面，而只会重写 URL，并且 b) WP 没有任何变化（或者它不会改变？？）。

所以问题是：我怎样才能做到这一切？删除 slug 翻译很好，只是在 WPML 后端删除，但我对重写规则等不太满意，所以我正在寻找帮助我实现目标的人，并最终展示更好的方法来实现什么我需要（如果我的想法是否合理，自然会有反馈）。

对不起，如果我错过了什么。如果您需要更多信息，我会在这里给他们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-08T10:21:02.267

有可能的。

由于您使用 WPML 插件，因此 php 常量 I`ICL_LANGUAGE_CODE`给出了当前语言。然后，在注册帖子类型的帖子时使用以下代码：

```
 $args = array (

    'labels'            => array (
        'name'              => _x( 'Destination','post type general name',TT_CPT_DOMAIN ),
        'singular_name'     => _x( 'Destination','post type singular name',TT_CPT_DOMAIN ),
        'add_new'           => _x( 'Add Destination','post type general name',TT_CPT_DOMAIN ),

        'edit_item'         => __( 'Edit Destination',TT_CPT_DOMAIN ),
        'not_found_in_trash' => __( 'No Destination found in Trash',TT_CPT_DOMAIN ),
        'taxonomies'        => __('post_tag','category'),
        'parent_item_colon' => '',
        'menu_name'         => __( 'Destination',TT_CPT_DOMAIN ) 
    ),

    'has_archive'       => true,
    'hierarchical'      => true,
    'menu_position'     => 3,
    'supports'          => array ('title'),
    'menu_icon'         => TT_CPT_PLUGIN_URL. 'images/News.png',  
    'rewrite'           => array('slug' => ( (ICL_LANGUAGE_CODE=='sv')? 'resor':'reiser' ) ),
    'menu_icon'              => TT_CPT_PLUGIN_URL . '/cpts/images/icon_news.png'        

); 
```

注意线

```
rewrite'           => array('slug' => ( (ICL_LANGUAGE_CODE=='sv')? 'resor':'reiser' ) ), 
```

如果您自己处理语言或使用任何其他插件，则可以使用类似的逻辑。祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T13:43:43.973

基本上，我认为`flush_rewrite_rules()`在每个页面加载时运行都会让您以您想要的方式本地化页面蛞蝓，但这是一个非常糟糕的解决方案，因为它还会`.htaccess`在每个页面加载时写入文件，这会极大地减慢速度并且可能会产生非常奇怪的一旦有多个用户访问该站点，就会出现结果。查看[文档](http://codex.wordpress.org/Function_Reference/flush_rewrite_rules)，您似乎可以提供`false`第一个参数，该参数禁用.htaccess 的写入，但这仍然不是一个好的解决方案，因为文档还指出以下内容：

> 重要提示：刷新重写规则是一项昂贵的操作，有教程和示例建议在“init”钩子上执行它。这是不好的做法。相反，您应该在插件的激活钩子上刷新重写规则，或者当您知道需要更改重写规则时（例如，在代码中添加新的分类或帖子类型）。

每次我自己遇到这个问题时，我最终都会使用适用于两种语言的永久链接结构，但这也不是一个很好的解决方案。

一个好的起点可能是检查`/wp-includes/rewrite.php`并查看是否有可能通过过滤器覆盖给定帖子类型的永久链接，并根据用户的语言设置返回一个 slug。另一种选择可能是尝试为每种语言添加第二个永久链接，以便自定义帖子类型中的每个帖子都可以`register_post_type`通过指定的永久链接以及您在其他地方指定的永久链接获得。您可以使用.htaccess`WP_Rewrite`或向您添加一些指令来执行此操作。`mod_rewrite`在后一种情况下，这样的事情可能会起作用：

```
$data = 'Rewrit­eRule ^/localized-type-name/(.*)$ /type-name/$1 [R,NC,L]';
// You might want to do a little more work on the actual rewrite rule, it's very much from the top of my head so it might not even work
insert_with_markers( ABSPATH . '/.htaccess', 'NAME OF YOUR MARKER', $data );
$wp_rewrite->flush_rules(); 
```

**更新**：你可能想看看[这个线程](https://wordpress.stackexchange.com/questions/30021/theme-localization-of-slugs-custom-post-types-taxonomies)。

# android - Google Play 的 IAB 中具有相同名称的多个产品

> ID：13117074
> 
> 赞同：3
> 
> 时间：2012-10-29T06:50:01.340
> 
> 标签：android, in-app-billing, ab-testing, abtest

我正在尝试在 Google-play 的开发者控制台中创建多个产品，这些产品将与最终用户（但不同的 sku）具有相同的名称/描述，以便在我的 Android 应用程序中进行购买。

目标是用不同的价格点进行 A/B 风格的测试，这样我就可以调整产品的定价......

前任。

```
Description        sku    price
My Cool Product    p.a    $4.99
My Cool Product    p.b    $5.99
My Cool Product    p.c    $6.99 
```

我的用户被分成不同的测试组，每组看到不同的产品（所以每组只看到“我的酷产品”，但根据他们的组，价格不同）。

谷歌的 IAB 显示“英语（美国）的标题 (en_US) 已被 'pa' 使用”。

由于 A/B 测试是运行网站的主要支柱，是否有人可以解决问题以进行适当的 A/B 测试？

# c# - Compile a certain set of code only if the platform is Ogre

> ID：13117077
> 
> 赞同：0
> 
> 时间：2012-10-29T06:50:14.223
> 
> 标签：c#, ogre, function

I am working on game, that is to be developed simultaneously in Mogre(c# port of ogre) and Unity3d as well. since both uses c# i want to write a generic code that gets complied accordingly in both of those platforms. it was easy to do for unity, just by adding #if UNITY_ENGINE, but i cannot find similar #def's for Mogre. i know it is a silly question, but still i cannot find it in Google. Could someone help me!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:14:21.983

Just define your own symbol. Go to your project properties and define OGRE for the build configuration you are interested in (you can create new build configurations and name them). For example create a build config for OGRE and define an OGRE conditional symbol, and #if OGRE should work.

(it is under project properties, build, conditional compilation symbols) Just define as many as you like separated by commas "var1, var2, var3"

# iphone - 如何为编辑照片实现移动比例照片选项，就像在联系人中添加照片选项一样

> ID：13117078
> 
> 赞同：0
> 
> 时间：2012-10-29T06:50:18.483
> 
> 标签：iphone, objective-c, ipad, uiimageview, uiimagepickercontroller

在我的**iPhone 应用程序**中，我**添加了照片选项**，因为我`from library as well as captured images`还添加了照片..

当我打开图像选择器以添加/捕获图像时，它只会显示重拍和使用照片。

当我点击使用时，它在图像视图中显示为图像

但**`i need to display my selected crop,`**就像在 iphone 的联系人应用程序中添加照片一样

**我是**按组做的**`self.imagePickerController.allowsEditing = YES;`**

但是**每当我想编辑图像时，我需要取回原始图像而不是图像选择器中的缩放/裁剪图像以再次编辑**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:41:18.313

您必须将 UIImagePickerController 的 allowEditing 设置为 YES，尝试以下操作：

```
- (IBAction)takePicture:(id)sender {
UIImagePickerController *imagePicer = [[UIImagePickerController alloc] init];
if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
    [imagePicer setSourceType:UIImagePickerControllerSourceTypeCamera];
} else {
    [imagePicer setSourceType:UIImagePickerControllerSourceTypePhotoLibrary];
}

// This will sets the editing mode after taking of picking image from image picker

[imagePicer setAllowsEditing:YES];
[imagePicer setDelegate:self];

//place image picker on the screen
[self presentViewController:imagePicer animated:YES completion:nil];
} 
```

如果要使用编辑后的图片，请将“UIImagePickerControllerOriginalImage”改为“UIImagePickerControllerEditedImage”，就可以了！！

# c# - 您如何为模型编写“创建”视图？

> ID：13117079
> 
> 赞同：0
> 
> 时间：2012-10-29T06:50:21.550
> 
> 标签：c#, .net, asp.net-mvc, razor

我`many-to-many`在菜单模型中有一个名为 的字段`Roles`，我正在尝试为模型创建一个“创建”视图。

我的创建操作方法：

```
 public ActionResult Create()
    {
        ViewBag.ParentMenuId = new SelectList(_db.Menus, "Id", "Name");
        ViewBag.Roles = new SelectList(_db.UserRoles.ToList(), "Id", "Name");
        return View();
    }

    [HttpPost]
    public ActionResult Create(Menu menu)
    {
        if (ModelState.IsValid)//the state is always **invalid**
        {
            _db.Menus.Add(menu);
            _db.SaveChanges();
            return RedirectToAction("Index");
        }
        ViewBag.ParentMenuId = new SelectList(_db.Menus, "Id", "Name", menu.ParentMenuId);
        return View(menu);
    } 
```

我的观点（**Create.cshtml**）：

```
 <div class="editor-label">
        @Html.LabelFor(model => model.Roles, "Roles")
    </div>
    <div class="editor-field">
        @Html.ListBox("Roles")
        @Html.ValidationMessageFor(model => model.Roles)
    </div> 
```

如何解决？我收到以下错误：

`The ViewData item that has the key '' is of type '' but must be of type 'IEnumerable<SelectListItem>'`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T07:45:31.460

嗯，错误信息很清楚，你需要一个`IEnumerable<SelectListItem>`

所以改变你的 ViewBag.Roles 定义

```
new SelectList(_db.UserRoles.ToList(), "Id", "Name"); 
```

到

```
_db.UserRoles.ToList().Select(m => new SelectListItem { Value=m.Id, Text=m.Name}); 
```

**编辑**

在您看来：

```
@Html.ListBox("Roles", (IEnumerable<SelectListItem>)ViewBag.Roles) 
```

**编辑2**

您有模型绑定问题

在你看来

```
@Html.ListBox("selectedRoles", (IEnumerable<SelectListItem>)ViewBag.Roles) 
```

在您的 Post Action 中，尝试添加一个新参数：

```
[HttpPost]
    public ActionResult Create(Menu menu, int[] selectedRoles) 
```

并在您的操作代码中“手动”处理每个选定的角色。

**编辑**

ViewModel 示例（不按原样工作）在您看来，您需要

*   下拉列表（ParentMenuId）

*   一个列表框（角色 ID）

*   此列表框的结果（发布操作的模型绑定）

*   Menu 类的其他属性（可能不是全部）

这个想法是创建一个

```
public class MenuViewModel 
{
  public IEnumerable<SelectListItem> ParentMenuList {get;set;}//a dropDown
  public IEnumerable<SelectListItem> RoleList {get;set;}//a listBox
  public string Name {get;set;}//the menu name //the menu name
  public List<int> SelectedRoles {get;set;}
} 
```

那么你的 get Action 将是

```
public ActionResult Create()
{
  var model = new MenuViewModel();
  model.ParentMenuList = new SelectList(_db.Menus, "Id", "Name");
  model.RoleList = new SelectList(_db.UserRoles.ToList(), "Id", "Name");
  return View(model);
} 
```

您的视图将 MenuViewModel... 作为模型

```
@model MenuViewModel
//your other code
//the listbox
 <div class="editor-label">
        @Html.LabelFor(model => model.SelectedRoles, "Roles")
    </div>
    <div class="editor-field">
        @Html.ListBoxFor(m => m.SelectedRoles, Model.RoleList)
        @Html.ValidationMessageFor(model => model.Roles)
    </div> 
```

那么您的 POST 操作将变为

```
[HttpPost]
public ActionResult Create(MenuViewModel model)
{
    if (ModelState.IsValid)
    {
       var menu = new Menu {Name = model.Name };//for example
       menu.Roles =  _db.UserRoles.Where(rl => model.SelectedRoles.Contains(rl.Id)).ToList();
       _db.SaveChanges();
       return RedirectToAction("Index");
    }
    return View(model);
} 
```

专业视图模型：

*   你只是在使用你需要的属性。

*   你不需要 ViewBag （这很好避免：它是动态的，不是强类型的，所以......很难测试，重构问题等）

*   一切都在您的视图模型中

缺点视图模型：

*   您必须在 get 操作中将您的 Model 映射到您的 ViewModel，并在 post 操作中从 ViewModel 映射到 Model，但是......价格更糟！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-29T08:15:59.287

我正在创建相同的项目，但我没有收到该错误。

似乎列表框的模型绑定到了另一种类型，尝试像这样显式指定 viewbag 模型：

```
@Html.ListBox("Roles",ViewBag.Roles as SelectList) 
```

并在 [HttpPost] 方法中尝试添加存在于 Create - get 方法中的 ViewBag.Roles，如下所示：

```
[HttpPost]
    public ActionResult Create(Menu menu)
    {
        if (ModelState.IsValid)//the state is always **invalid**
        {
            _db.Menus.Add(menu);
            _db.SaveChanges();
            return RedirectToAction("Index");
        }
        ViewBag.ParentMenuId = new SelectList(_db.Menus, "Id", "Name", menu.ParentMenuId);
        ViewBag.Roles = new SelectList(_db.UserRoles.ToList(), "Id", "Name");
        return View(menu);
    } 
```

# android - 您要求的商品无法购买

> ID：13117081
> 
> 赞同：117
> 
> 时间：2012-10-29T06:50:34.250
> 
> 标签：android, in-app-purchase, in-app-billing

我正在尝试将 Android Market 应用内购买集成到我的应用中，但不幸的是，每次我尝试购买真正的应用内产品时都会遇到烦人的错误。

我已获取示例应用程序 (Dungeons) 并将其添加到我的应用程序中。我更新了公钥并将产品列表更新为以下内容：

/** 可以购买的产品的产品列表条目数组。*/

```
private static final CatalogEntry[] CATALOG = new CatalogEntry[] {
    new CatalogEntry("full", "Full v", Managed.MANAGED),

}; 
```

我已经使用 Eclipse 导出了该应用程序，并将其安装在我的手机上，并将其上传到了 Android Market 网站。同样在 Android Market 网站上，我已将 full 添加为应用内购买并发布。

我还将我的 googlemail 帐户添加为测试帐户（这是我在手机上登录的帐户）。

当我在手机上运行该应用程序时，每当我尝试购买完整的商品时，我都会收到一条您要求的商品不可购买的 android 消息，但如果我尝试例如 android.test.purchased，它绝对可以正常工作。

您请求的项目的文档不可用于购买 android 说明如下：

表示 Android Market 在应用程序的产品列表中找不到请求的项目。如果您的 REQUEST_PURCHASE 请求中的产品 ID 拼写错误，或者某个项目未在应用程序的产品列表中发布，则可能会发生这种情况。

产品 ID 完全一样，它已明确发布，并且请求必须通过，因为它是示例应用程序。

我正在使用相同版本的 apk，我也发布了 inapp 产品并激活了 apk。但我仍然面临同样的问题，请帮助我解决它。

任何想法将不胜感激！

* * *

## 回答 #1

> 赞同：194
> 
> 时间：2013-08-11T13:03:46.687

我对这个错误的经验是：

1.  确保将签名的 APK 上传到开发者控制台。

2.  确保在您的设备上安装签名的 APK，而不是在调试器中启动应用程序。

3.  确保在您的开发者控制台中创建一个测试帐户。

4.  设置您的测试帐户

    1.  确保使用您的测试帐户登录您的设备。
    2.  在封闭的 alpha/beta 测试的情况下，请确保您已将您的测试帐户添加到选定的测试人员组，您可以在管理您的 alpha/beta 版本的页面上执行此操作。
    3.  如果是封闭的 alpha/beta 测试，请确保您的测试帐户已通过特殊邀请链接接受参与此应用程序的测试
5.  确保在您的开发者控制台中创建应用计费，最后从控制台激活该项目！！！（这是在完全遵循谷歌教程后得到我的那个）

6.  确保将清单中的 VersionCode 和 VersionName 设置为与开发人员控制台中的版本相同（Alpha、Beta 或 Production。Drafts 不再起作用）。@alexgophermix 答案对我有用。

如果您正在寻找没有实际提款的测试付款，您需要另外将您的测试帐户添加到另一个特殊的帐户列表“具有测试访问权限的 Gmail 帐户”，您可以在游戏帐户设置（不是项目！）中找到它。在可以看到项目列表的页面上，转到设置，然后在“帐户详细信息”页面（向下滚动，几乎在页面底部），您会找到“具有测试访问权限的 Gmail 帐户”列表。

* * *

## 回答 #2

> 赞同：108
> 
> 时间：2016-02-01T14:23:49.953

以下是一些需要检查的事项：

1.  您已经创建了一个 apk，并已将其**发布**到**Alpha 或 Beta**的 GooglePlay Dashboard 。
2.  GooglePlay 仪表板中的应用程序**不是处于草稿模式**，而是处于已发布状态（您需要将屏幕左侧带有复选图标的所有小圆圈设为绿色，然后才能发布）。
3.  您**设置了另一个测试帐户**，而不是“附加”到 GooglePlay 仪表板的帐户。为此，您可以创建一个 Google+ 组，将您的测试帐户添加到该组并在 GooglePlay 仪表板中指定 Google+ 组。
4.  您用于测试购买的 apk 具有**相同的版本代码、版本名称**，最重要的是，它使用与您在商店中发布的 apk**相同的密钥库进行签名。**
5.  在更改仪表板中的某些内容之间**等待**几个小时，以便传播更改。这样做需要几个小时。
6.  确保 sku 值是**有效的 sku 值**（将其与您在 GP 仪表板中输入的值进行比较）。
7.  您**尝试购买已购买的商品**。获取购买的物品并将其显示在日志中以查看是否有。如果是这样，则使用该产品或将钱退还到您的测试帐户（您需要等待退款传播。这需要几个小时。）
8.  确保**Inapps 处于活动状态**！

6 小时后，这对我来说是最后一部分：

9.  确保您已使用测试帐户登录谷歌（在您的浏览器中）并打开此链接（标有红色）并**批准成为测试员**！！！！ [http://i.stack.imgur.com/VSgAV.png](https://i.stack.imgur.com/VSgAV.png)

**更新**

10.  如果您使用flavors 构建针对不同CPU 的apk，并且为**arm、armv7 和x86**构建并将它们全部上传到商店，请记住使用其中一个来测试inapps。如果您使用包含所有 cpu 库的“通用”构建（基本上是商店上的另一个构建），它将无法工作。

* * *

## 回答 #3

> 赞同：45
> 
> 时间：2013-05-31T07:38:28.850

当产品`Inactive`在 Play 商店中时会发生这种情况，`Activate`该产品应该可以正常工作。

* * *

## 回答 #4

> 赞同：29
> 
> 时间：2016-05-20T23:26:14.697

这个错误还有另一个可能的原因，这几乎让我发疯了一整天，直到我发现问题所在：apk版本。如果您正在使用版本号高于上传到 Play 商店的版本号的本地 apk（正确签名、正确密钥、正确产品 ID），您也会收到此错误。

希望这可以帮助某人

* * *

## 回答 #5

> 赞同：24
> 
> 时间：2012-12-10T11:27:08.167

当您所做的一切都很完美时，就会出现此错误，您使用了带有正确产品 ID 的签名 APK，但您必须注意，您使用的**帐户**可能没有正确的**有效信用卡**详细信息。

因此，即使您想**购买任何产品**，即使使用**测试帐户**，该帐户也应该具有有效的信用详细信息。

* * *

## 回答 #6

> 赞同：20
> 
> 时间：2015-09-03T21:58:30.510

也许我做错了，但如果您正在测试的版本不在 Play 商店中作为 Alpha、Beta 或生产版本，您也会收到此错误。

我经常在测试新版本时（在上传到 Play 商店之前）更新我的 VersionCode 和 VersionName，然后在我去测试 IAB 特定功能时出现这个错误。

* * *

## 回答 #7

> 赞同：10
> 
> 时间：2015-09-11T03:39:29.713

对于我的情况，需要从 APK 选项卡的`Opt-in URL`. 打开浏览器并使用链接。然后在该页面中注册为测试人员。

* * *

## 回答 #8

> 赞同：10
> 
> 时间：2018-06-12T02:59:27.393

你必须接受成为测试员

发布管理 -> 应用发布 -> 管理测试人员然后以隐身模式打开此链接（选择加入 URL）以登录测试人员帐户

[![在此处输入图像描述](../Images/b57c3285e388a290721eed97a6681038.png)](https://i.stack.imgur.com/R5IaM.png)

* * *

## 回答 #9

> 赞同：6
> 
> 时间：2012-10-30T07:05:17.123

请检查您是否使用相同的测试帐户邮件ID

* * *

## 回答 #10

> 赞同：4
> 
> 时间：2016-11-01T13:54:16.373

**最新添加（2016/11）：**

1.  测试人员必须接受来自开发者控制台链接的**测试请求（部分：APK）**

2.  **应用程序必须已**发布：可以在 beta/alpha 测试中发布；信息：如果您在开发者控制台中点击“发布”，除非您将其传播到生产选项卡（在 APK 部分），否则它不会在生产中发布应用；

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2019-11-01T07:48:30.773

在购买应用内订阅时，我将下面列表中的所有内容都放在了正确的位置。

1.  创建签名的 apk 并发布到**alpha 通道**

2.  添加了测试人员电子邮件 ID 以进行**许可测试**

3.  将测试人员电子邮件 ID 添加到**封闭轨道 Alpha 测试**

4.  **选择**成为测试员

5.  测试 ID与开发者帐号的 ID**不同**

6.  在android设备上而**不是在模拟器上**

7.  从Play商店下载了应用程序

我仍然收到此错误消息**“找不到您要查找的项目”**。

浪费了 2-3 天后，我发现只有**在 Play 商店中设置了某种支付模式**才能正常工作。

虽然大多数答案都与旧的 IAB 购买有关，并且我实施了新的计费客户端 API，即 - **`implementation 'com.android.billingclient:billing:1.0'`**，但要找到解决方案并不容易。

如果某些人的情况相同，则添加付款方式可能会帮助您克服此错误。您甚至需要添加一个来测试它，但是，作为许可证测试人员添加的电子邮件 ID*不会收费。*

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2014-05-23T07:07:50.857

如果产品状态为“非活动”，请激活它。这为我解决了。当然谷歌需要一段时间来更新

还要确保您的测试邮件已注册。

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2021-04-15T11:53:58.833

就我而言，我必须将我的电子邮件地址添加到以下字段。 [![在此处输入图像描述](../Images/32d578d64e62e71109cf6e13251b1f91.png)](https://i.stack.imgur.com/XgXKT.png)

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2015-09-11T00:20:36.590

在尝试了互联网上建议的所有方法后，“开放式 Alpha 测试”或“开放式 Beta 测试”为我解决了这个问题。

转到 Android 开发者控制台 -> 您的应用 -> APK，然后选择使用 Open Alpha/Beta 测试。将提供的链接发送给您自己或测试人员。

只要他们在 Android 设备上使用该帐户登录，他们就可以对其进行测试。

祝你好运

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2017-05-26T06:30:29.477

我遇到了同样的问题，我的解决方案是将您的应用程序的当前版本上传到 Play 商店，如果是用于测试，则将其上传到 Alpha 或 Beta 通道，我已经这样做了，错误消失了并且定价详细信息显示正确..

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2021-12-09T00:01:25.873

这是我测试与上述一些答案相关的 IAP 的经验

1.  您创建了一个 apk，并将其发布到 Alpha 版或 Beta 版的 GooglePlay Dashboard。

没有。我有一个处于内部测试（Alpha 前）的测试应用程序，并且 IAP 运行良好。同样，现在我相信我们大多数人发布 AAB 捆绑包而不是 APK，我认为对于新应用 AAB 可分发是一个要求（可能是这里的一个因素？）。

2.  GooglePlay 仪表板中的应用程序未处于草稿模式，而是处于已发布状态（您需要将屏幕左侧带有复选图标的所有小圆圈设为绿色，然后才能发布）。

又不是真的。我正在测试的应用程序的应用程序状态是草稿/内部测试（显示在所有应用程序列表中）。除非“已发布”，否则它的意思是：“发布可供内部测试人员使用。”

3.  您已经设置了另一个测试帐户，然后是“附加”到 GooglePlay 仪表板的那个。为此，您可以创建一个 Google+ 组，将您的测试帐户添加到该组并在 GooglePlay 仪表板中指定 Google+ 组。

那可能是正确的。我在新安装的应用程序中恢复购买（如果购买了某些产品，然后该应用程序被卸载并随后重新安装，或者在具有相同 Google 帐户的不同设备上再次安装）和购买它们时遇到了一些问题，直到我开始使用不同的账户。

4.  您用于测试购买的 apk 具有相同的版本代码、版本名称，最重要的是，它使用与您在商店中发布的 apk 相同的密钥库进行签名。

又不是真的。我在商店中的应用程序的版本和内部版本号与我在本地测试的应用程序不同。在我的情况下，对于商店中的应用程序，版本是在构建应用程序时分配的，就在部署之前，并且内部版本号是根据 repo 中的提交数计算的，两者都发生在我使用的 CI 中（Jenkins ）。我在通过 USB 电缆连接到我的开发机器的设备上本地运行的一个，从 IDE（在我的情况下为 IntelliJ）以调试模式运行 - 几乎标准场景显然没有使用与 PlayStore 中相同的密钥进行签名，并且版本和内部版本号都是固定的。IAP 在本地运行时仍然有效。

5.  测试人员必须接受来自开发者控制台链接的测试请求

True + 确保如果测试人员在测试设备上有多个帐户，则与您的应用程序的“许可证测试”部分中声明的电子邮件关联的帐户是活动的。

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2015-12-13T12:24:24.427

为了解决此问题，请按照下列步骤操作：

1.  在 Google Play 开发者控制台上创建产品。

2.  保存并将其设置为“活动”。

3.  将 APK 上传到 Google Play。

注意 在步骤 1 中创建产品 6 小时后，应用内计费可能无法工作。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2019-02-13T15:30:18.920

投票最多的答案几乎涵盖了所有内容，但如果您像我一样愚蠢地匆忙完成应用发布流程以继续测试 IAP，请务必在您正在测试的国家/地区的 Play 商店中发布应用在！在设备上进行检查的简单方法是在打开测试选择加入 URL 时点击“在 Google Play 上下载”链接。如果您在尝试通过 Google Play 商店打开时收到“未找到项目”错误，那么很可能您的应用尚未在那里发布。我遇到了这个问题，因为我通过 ADB 正确加载了已签名的应用程序，虽然 IAP 会显示在构建中，但当您尝试购买它们时会出现此错误。

* * *

## 回答 #19

> 赞同：-1
> 
> 时间：2012-10-29T07:28:19.230

可能有三种可能性：

1.  将您在 google play 上的 APK 保存为草稿，不要忘记激活它并使用唯一 ID 发布您的产品。
2.  检查您的 ID 是否与 Google Play 上的产品 ID 相同。
3.  或检查项目类型是否相同，例如在 Google Play 和您的代码中管理。

如果您正在测试，则无需**发布**应用程序。只需将其保存为草稿即可。然后等待一段时间可能是 2 到 3 小时才能激活此功能。

# java - 扩展 Java 第三方 API

> ID：13117083
> 
> 赞同：2
> 
> 时间：2012-10-29T06:50:49.073
> 
> 标签：java, inheritance, classloader, extending-classes

它更可能是一个主观问题。我想创建一个第三方 API 的子类来自定义行为，但问题是 API 类中的方法之一是具有默认访问说明符，并且我不允许重写，因为我的子类不在同一个包中.

但是，如果我想要一个解决方案，我可以将我的子类放在与 API 类相同的包中，并扩展具有默认访问说明符的方法。第三方 jar 文件在许可 X11 类型许可下获得许可（类似于 MIT 许可）

我正在寻找以下查询的答案

> 1.  在第三方 jar（不同的 jar 文件）之外创建子类但保持类似的包转换是否合法？
>     
>     
> 2.  这种方法的任何已知问题（即使包名相同，我保存在两个罐子里）（我只是用独立的单元测试进行了测试）
>     
>     
> 3.  应用服务器的类加载器在这种情况下的行为方式（首先加载哪个 jar 文件）

如果我与许可证相关的查询 (1) 不适用于此处，我们深表歉意。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:28:33.413

对于 (1)：X11 许可证基本上说您可以使用该软件做任何事情，只要您相信作者并且不起诉他们违反保证。您的建议没有任何违法之处。

虽然您的建议应该可行，但它很老套。问题是第三方库对其部分 API 使用了过于严格的访问规范。最好的方法是向开源项目*提交补丁。*

您的补丁应该简单地指定有问题的方法`protected`而不是包私有，这将允许子类（以及库包中的其他类，因为`protected`包括包私有访问）调用它。这样，它还可以帮助该库的其他用户扩展该类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:35:47.950

1.  我无法回答您的第一个问题，因为我对此没有足够的了解:)

2.  这取决于您的类加载器。通常情况下，它首先看到的类将被加载。第二个将被省略。我不会在这里依赖类加载器解析顺序，唯一可以确定的是资源将从类路径中读取。因此，如果您的类路径是 `c:\a;c:\b` 并且您有 2 个同名文件并打包，则将首先加载位于“a”中的文件。

3.  在应用服务器内部，类加载器通常由特定服务器的供应商实现。例如战争通常使用自定义类加载器加载，不同战争的不同类加载器。耳朵也是如此。类加载器通常包含应用服务器中的层次结构。

因此，即使它在技术上有效，将来也会引起很多麻烦。

如果它是一个开源项目，我认为最好的办法是将你的补丁提交给开源社区，甚至编译你自己的版本（如果许可证允许的话）。

希望这可以帮助

# sqlite - SQLite（在 Cordova/PhoneGap 中）- 子查询

> ID：13117084
> 
> 赞同：2
> 
> 时间：2012-10-29T06:50:49.573
> 
> 标签：sqlite, cordova, subquery

以下在 SQL SERVER 中工作正常。但我无法让查询在 PhoneGap 应用程序中的 SQLite 中工作。

这是场景：

该表在每一行中都填充了许多发件人/发件人的电话号码和一条短信。我需要找出从/到电话号码组合的最后一条消息是什么。

我创建了一个如下表。（示例在 TSQL - SQL Server 中）。

```
Create Table SmsLog 
(
    messageId int identity (1,1) primary key,
    messageDate datetime,
    fromPhoneNumber varchar(50),
    toPhoneNumber varchar(50),
    textMessage varchar(50)
)

GO 
```

然后我插入了一堆行，如下所示：

```
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14255587777', 'Blah 1');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14255587777', 'Blah 2');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14255587777', 'Blah 3');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+12149653333', 'Blah 4');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+12149653333', 'Blah 11');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14255587777', 'Blah 12');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14254490006', 'Blah 13');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14254490006', 'Blah 21');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14254490087', 'Blah 22');
Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14254490087', 'Blah 23');
GO 
```

以下查询应该可以完成工作（这在 MSSQL 中非常有效）。

```
/* Retrieve the last message per from/to from the table*/
SELECT  * 
FROM    SmsLog
WHERE   MessageId IN
    (
        SELECT  MAX(MessageId) as MessageId
        FROM    SmsLog
        GROUP
        BY      FromPhoneNumber, ToPhoneNumber
    )
GO 
```

MSSQL 的结果如下（这正是我需要使用 SQLite 作为其数据存储的应用程序）：

```
5   2012-10-28 23:32:23.257 +19175380077    +12149653333    Blah 11
6   2012-10-28 23:32:23.257 +19175380077    +14255587777    Blah 12
8   2012-10-28 23:32:23.257 +19175380077    +14254490006    Blah 21
10  2012-10-28 23:32:23.257 +19175380077    +14254490087    Blah 23 
```

但我无法在 SQLite for PhoneGap 应用程序（在 iOS 上）中使用相同的查询。javaScript 代码如下：

```
 db.transaction(function(tx)
            {
                var sqlString = "SELECT * FROM smsLog WHERE messageId IN (SELECT    MAX(messageId) AS messageId FROM smsLog GROUP BY fromPhoneNumber, toPhoneNumber";

                tx.executeSql (sqlString, [],
                function(tx, result)
                {
                    if (console)
                    {
                        console.log("in retrive success");

                    }

                    var liblock = "";
                    $.each(result.rows,function(index)
                    {
                        var row = result.rows.item(index);

                        liblock +=
                        ('<li><a href="#"><h3>'+row['toPhoneNumber'] + '</h3><p>' +row['textMessage']+'</p><p class="ui-li-aside"><strong>'+ formatDate(new Date(row['messageDate'])) + '</strong></p></a></li>');

                    });

                    $("#topicList").html(liblock);
                    $("#topicList").listview("refresh");
                },
                function(err)
                {
                    if (console)
                    {
                        console.log(err);
                    }
                });
            },
            function (dbError)
            {
                if (console)
                {
                    console.log("ERROR Performing database operation");
                    console.log(dbError);
                }
            },
            function (dbSuccess)
            {
                if (console)
                {
                    console.log("Record retreived");
                }
            });
        } 
```

# java - 在 Java 中为 HashSet 构建字符串 - 无法通过大字符串正确循环

> ID：13117085
> 
> 赞同：0
> 
> 时间：2012-10-29T06:50:50.273
> 
> 标签：java, stringbuilder, hashset

我试图从一个包含许多单词的非常长的字符串中提取单词作为字符串。我正在尝试获取一个字符串的这个大块，用 for 循环遍历它，边走边构建字符串，将它们添加到哈希集中，并跟踪我在这个过程中有多少单词。当我构建完所有东西并且eclipse没有显示任何明显的错误时，我感到非常自豪，然后当我去测试它时，我有一个0计数器，0 hashset.size和一个空的hashset :(

这是我一直在捏造的代码：

```
 public int countUniqueWords(String line) {
    hashset = new HashSet<String>();
    word = new StringBuilder();
    int endOfLine = line.length() - 1;
    boolean isWord = false;
    String stringWord = null;
    Integer counter = 0;

    for (int i = 0; i < line.length(); i++) {
        if (Character.isLetter(line.charAt(i)) == true && i != endOfLine) {
            word.append(line.charAt(i));
        } else if (Character.isLetter(line.charAt(i)) == false && isWord == true) {
            counter++;
            stringWord = word.toString();
            hashset.add(stringWord);
            word = null;
            isWord = false;
        } else if (Character.isLetter(line.charAt(i)) && i == endOfLine) {
            counter++;
            stringWord = word.toString();
            hashset.add(stringWord);
        }
    }
    System.out.println(counter);
    System.out.println(hashset.size());
    System.out.println(hashset);
    return counter;
} 
```

我将继续搜索并踢轮胎。与此同时，如果有人有任何建议，我会在我的小家庭办公室里给你很多精神上的良好氛围。似乎我在这里犯了至少一两个非常基本的错误，因为显然它甚至没有像预期的那样迭代循环。我怀疑这与我将 StringBuilder 与 HashSets 和 Character 类一起使用有关，所有这些都混合在一起，而对其中的任何一个都没有特别好的理解。是的，我已经倾注了 oracle 文档。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:28:43.250

第一个条件对所有字符都为真

```
 if (Character.isLetter(line.charAt(i)) == true && i != endOfLine) 
```

第二个条件永远为假，因为 isWord 为假，条件下的语句永远不会执行

```
 else if (Character.isLetter(line.charAt(i)) == false && isWord == true) 
```

第三个条件永远不会执行，因为这与第一个条件相同

```
 else if (Character.isLetter(line.charAt(i)) && i == endOfLine) 
```

您需要在需要时通过打开/关闭“isWord”标志来更改条件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:21:17.000

试试这个方法......

**-**使用`BreakIterator`from`java.text.BreakIterator`及其`static getWordInstance()`方法来**掌握句子中的所有单词。**

**-**这将自动处理这个词或不的东西....

**-**然后只需将其添加到`HashSet<String>`

**请参阅以下链接：**

[http://javabeanz.wordpress.com/2009/02/21/working-with-text-in-java-using-breakiterator-api/](http://javabeanz.wordpress.com/2009/02/21/working-with-text-in-java-using-breakiterator-api/)

[http://download.java.net/jdk7/archive/b123/docs/api/java/text/BreakIterator.html](http://download.java.net/jdk7/archive/b123/docs/api/java/text/BreakIterator.html)

[http://www.javadocexamples.com/java/text/BreakIterator/getWordInstance%28Locale%20where%29.html](http://www.javadocexamples.com/java/text/BreakIterator/getWordInstance%28Locale%20where%29.html)

# windows-8 - 如何在 Windows 8 中设置屏幕分辨率？

> ID：13117086
> 
> 赞同：0
> 
> 时间：2012-10-29T06:51:20.337
> 
> 标签：windows-8

我开发了一个适合 1024*768 屏幕的应用程序。如何在 Windows 8 中为所有分辨率屏幕设置屏幕和控件。请告诉我..任何示例？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:00:20.880

您不需要为不同的屏幕尺寸制作页面，它们会根据屏幕尺寸自动缩放。不过，您应该实现捕捉和填充模式。

# zend-framework - 当站点重定向工作正常时，在 phpunit 中返回 302 错误

> ID：13117088
> 
> 赞同：0
> 
> 时间：2012-10-29T06:51:48.123
> 
> 标签：zend-framework, phpunit, url-routing

在 ZF2 中使用 PhpUnit 进行单元测试时，会显示以下消息：

> 断言 302 与预期的 200 匹配失败

我知道它出现是因为 ZF2 的重定向命令：

```
return $this->redirect()->toUrl('/admin/album/add'); 
```

但是当我在浏览器中访问它时，该站点可以使用上述代码查找。但它在单元测试中失败了。

我应该改变什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T13:10:10.067

浏览器与单元测试不同，反之亦然。你的期望或结果是不同的。

收到 302 响应代码的浏览器必须重定向，这意味着它将获取响应中的 URL 并提交新请求。您在浏览器中看到的结果是重定向页面。

单元测试不会重定向。您的单元测试只是在做您指示它做的事情。如果您的单元测试应该测试重定向，那么您评估响应并且正确的断言是 302 而不是 200。

如果您想确保重定向中的 URL 是正确的，您必须编写另一个测试来实际获取新页面并测试该响应是否为 200 OK。

# browser - 如何禁用从浏览器加载图像

> ID：13117090
> 
> 赞同：0
> 
> 时间：2012-10-29T06:52:26.050
> 
> 标签：browser

我正在使用多个浏览器（IE、Firefox 和 Safari）。

由于网速低，我对查看图像不感兴趣。我可以阻止图像并仅查看我感兴趣的内容吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T06:54:36.190

你最好看看[这篇](http://kb.iu.edu/data/acpv.html)文章以“文本模式”启动浏览器。

# java - 如何在 Android 地图中显示不同颜色的图钉？

> ID：13117094
> 
> 赞同：2
> 
> 时间：2012-10-29T06:52:36.030
> 
> 标签：java, android, android-maps

我在地图中以相同颜色显示了多个图钉，但我需要为每个位置显示不同颜色的图钉，这是代码，

```
Drawable drawable;
AddItemizesOverlay itemizedOvrealy;
drawable = this.getResources().getDrawable(R.drawable.color1);
        itemizedOverlay = new AddItemizedOverlay(drawable, mapView);
        for(int i=0;i<paramLat.size();i++)
        {
            lat = Double.parseDouble(paramLat.get(i)); 
            lon = Double.parseDouble(paramLong.get(i));
            geoPoint = new GeoPoint((int)(lat * 1E6), (int)(lon *1E6));
            geopoints.add(geoPoint);
            List<Overlay> mapOverlays = mapView.getOverlays();
            name = calloutName.get(i);
            overlayitem[i] = new Overlay
            Item(geoPoint, calloutName.get(i), "Time: " + calloutTime.get(i)); 
            itemizedOverlay.addOverlay(overlayitem[i]);
            mc.animateTo(geoPoint);
         }
            mapView.getOverlays().add(itemizedOverlay); 
```

AddItemizedOverlay.java

```
 public AddItemizedOverlay(Drawable drawable, MapView mapView) {
         super(boundCenter(drawable), mapView);
         c = mapView.getContext();
     } 
```

这里将引脚图像作为可绘制名称传递为“color1”，但我需要将不同颜色的引脚作为可绘制发送。结果是每个位置都由不同的引脚标记。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T06:57:23.720

根据您的代码，`itemizedOverlay = new AddItemizedOverlay(drawable, mapView);`您可以在此处设置任何条件并更改每个`paramLat`. 因此，替换您的`itemizedOverlay`内部 for 循环并使用 if 条件设置不同的可绘制对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T06:56:29.780

在 for 循环中创建 AddItemizesOverlay 对象并为图钉传递不同的不同图像。

```
GeoPoint point = new GeoPoint(lat.intValue(), lng.intValue());

drawable = this.getResources().getDrawable(R.drawable.marker);
itemizedOverlay = new MyItemizedOverlay(drawable);
OverlayItem overlayItem = new OverlayItem(point, "", "");
itemizedOverlay.addOverlay(overlayItem);
mapOverlays.add(itemizedOverlay);

GeoPoint point2 = new GeoPoint(lt2.intValue(),long2.intValue() );
// All "B"s
drawable = this.getResources().getDrawable(R.drawable.icon);
itemizedOverlay = new MyItemizedOverlay(drawable);
OverlayItem overlayItem1 = new OverlayItem(point2, "", "");
itemizedOverlay.addOverlay(overlayItem1);
mapOverlays.add(itemizedOverlay); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T11:49:05.240

您不需要添加多个`ItemizedOverlay`来拥有不同的标记，因为您可以为每个`OverlayItem`添加到单个`ItemizedOverlay`.

下面举一个例子来说明如何做到这一点。

您可以使用以下方法为每个标记（pin1、pin2）创建和定义边界：

```
 pin1 = this.getResources().getDrawable(R.drawable.pin_gps);
    pin1.setBounds((int)(-drawable_gps_pin.getIntrinsicWidth()/2),-drawable_gps_pin.getIntrinsicHeight(), (int)(drawable_gps_pin.getIntrinsicWidth()/2), 0); 
    pin2 = this.getResources().getDrawable(R.drawable.pin_gps);
    pin2.setBounds((int)(-drawable_gps_pin.getIntrinsicWidth()/2),- 
```

然后你创建你的`ItemizedOverlay`使用作为默认的三针之一：

```
 itemizedOverlay = new AddItemizedOverlay(pin1, mapView); 
```

当您要添加使用的标记时`pin1`：

```
 overlayitem = new OverlayItem(geoPoint, calloutName.get(i), "Time: " + calloutTime.get(i)); 
    itemizedOverlay.addOverlay(overlayitem); 
```

当您要添加使用的标记时`pin2`：

```
 overlayitem = new OverlayItem(geoPoint, calloutName.get(i), "Time: " + calloutTime.get(i));
    overlayitem.setMarker(pin2);
    itemizedOverlay.addOverlay(overlayitem); 
```

最后你添加`ItemizedOverlay`到'MapView'：

```
 mapView.getOverlays().add(itemizedOverlay); 
```

问候

# java - 在java中下载Html返回不同的结果

> ID：13117099
> 
> 赞同：0
> 
> 时间：2012-10-29T06:53:06.063
> 
> 标签：java, html, httpclient, inputstream, java.util.scanner

我正在使用下面的代码在 java 中下载一个 html 文件。我在这里所做的是我打开一个网站的输入流，然后我尝试读取该html文件中的内容并打印行数（我在实际问题中做一些有用的事情：p）但每次我运行代码，输出不同。

```
DefaultHttpClient httpclient = new DefaultHttpClient();
        HttpGet httpget = new HttpGet(
                "URL");
        HttpResponse response;
        try {
            response = httpclient.execute(httpget);
            HttpEntity entity = response.getEntity();
            if (entity != null) {
                InputStream instream = entity.getContent();

                Scanner sc = new Scanner(new BufferedReader(
                        new InputStreamReader(instream, "UTF-8")));

                int count = 0;
                while (sc.hasNextLine()) {
                    count++;
                    sc.nextLine();
                }
                System.out.println(count);

            }
        } catch (IOException e) {
            e.printStackTrace();
        } catch (IllegalStateException e) {
            e.printStackTrace();
        } finally {

        } 
```

会不会是我下载的网页太大了？

# java - HSSFCell toString 返回双值 insted 字符串

> ID：13117100
> 
> 赞同：-1
> 
> 时间：2012-10-29T06:53:08.047
> 
> 标签：java, apache-poi

大家好，我是java初学者。我正在为我的 android 手机创建一个应用程序，我必须在其中读取 excel 文件，为此我正在使用 POI。我的代码如下所示

```
 Iterator<Row> rowIter = mySheet.rowIterator();
    String phone_no = null;
    String message =null;
    int cell=0;
        while(rowIter.hasNext()){
            HSSFRow myRow = (HSSFRow) rowIter.next();
            Iterator<Cell> cellIter = myRow.cellIterator();                
            cell=0;
            while(cellIter.hasNext()){
                HSSFCell myCell = (HSSFCell) cellIter.next();

                if(cell==0){
                    phone_no=myCell.toString();                     
                }
                 else if(cell==1){
                    message=myCell.toString();                        

            }
          cell++;
        }    
      } 
```

我的 Excel 表在第一列包含电话号码，在第二列包含消息。当我运行代码时，我得到的 phone_num 为 1.23456789E9，我需要它，比如 1234567890。但在消息的情况下，我将完整的字符串传递给我的变量，因为我给了 excel。

先谢了……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:18:19.313

首先，您的代码中存在一些逻辑错误-

```
cell = 0;
while(cellIter.hasNext()){

    if(cell == 0) {

    }

    if(cell == 1) {

    } 
```

其次，不要只是盲目调用`toString`方法，阅读[文档](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFCell.html)。

# c - Windows 上 C 中的目录列表

> ID：13117104
> 
> 赞同：2
> 
> 时间：2012-10-29T06:53:31.463
> 
> 标签：c, windows, directory-listing

> **可能重复：**
> [如何在 C 中获得目录列表？](https://stackoverflow.com/questions/12489/how-do-you-get-a-directory-listing-in-c)
> [使用 C 和 Windows 列出目录内容](https://stackoverflow.com/questions/2314542/listing-directory-contents-using-c-and-windows)

你如何编写一个程序来递归地列出目录，就像`dir /s C:\`在命令提示符中一样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T06:57:11.517

您可以调用 Windows API`FindFirstFile`并`FindNextFile`在目录中进行迭代并在子目录上递归执行。请参阅[MSDN 上的示例](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365200%28v=vs.85%29.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T06:58:39.290

要列出文件内容，您可以使用以下 API 搜索目录：

*   [FindFirstFileEx](http://msdn.microsoft.com/en-us/library/aa364419%28VS.85%29.aspx) ,

*   [查找下一个文件](http://msdn.microsoft.com/en-us/library/aa364428%28VS.85%29.aspx)和

*   [查找关闭](http://msdn.microsoft.com/en-us/library/aa364413%28VS.85%29.aspx)。

您需要`#include <windows.h>`，这将使您能够访问 Windows API。它们是 C 函数，因此与 C++ 兼容。如果您想要“特别是 C++”，请尝试使用 MFC 搜索列表目录。

# iphone - 从 UITableView 中选择单元格并转到另一个 UITableView

> ID：13117105
> 
> 赞同：0
> 
> 时间：2012-10-29T06:53:45.787
> 
> 标签：iphone, ios, ios5, xcode4.3, uistoryboard

我在第二个表视图时总是出错。我使用情节提要创建了一个简单的应用程序。我的应用程序第一次运行时，它会显示我创建的数据列表。如果用户单击该行，我想更改为另一个页面，在另一个页面上也有一个 tableview。我还硬编码了数据列表，但我没有显示出来。

我总是在这部分出错

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"SubSiteCellDetail"];
    cell.textLabel.text = [ListDetailSubSite objectAtIndex:indexPath.row]; //this always give me the error
    return cell;
} 
```

这是我创建数据列表的方式

```
ListDetailSubSite = [NSMutableArray arrayWithCapacity:10];
SubSite *detailSubSite = [[SubSite alloc] init];
detailSubSite.sSubSiteName = [subsite.sSubSiteName stringByAppendingString:@"1"];
[ListDetailSubSite addObject:detailSubSite];

detailSubSite = [[SubSite alloc] init];
detailSubSite.sSubSiteName = [subsite.sSubSiteName stringByAppendingString:@"2"];
[ListDetailSubSite addObject:detailSubSite]; 
```

这是我从 UITableView 移动到另一个 UITableView 的方式。

```
-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([[segue identifier] isEqualToString:@"ShowSubSiteDetail"]) {
        NSIndexPath *indexPath = [self.tableView indexPathForSelectedRow];
        SubSite *subsetSelected = [ListSubSite objectAtIndex:indexPath.row];
        [[segue destinationViewController] setSubsite:subsetSelected];
    }
} 
```

这是我的错误

```
2012-10-29 15:18:11.127 UniversalStoryBoard[5256:f803] -[SubSite isEqualToString:]: unrecognized selector sent to instance 0x9355340
2012-10-29 15:18:11.129 UniversalStoryBoard[5256:f803] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[SubSite isEqualToString:]: unrecognized selector sent to instance 0x9355340'
*** First throw call stack:
(0x13ce022 0x155fcd6 0x13cfcbd 0x1334ed0 0x1334cb2 0x1580ff 0x4fb1 0xb2c54 0xb33ce 0x9ecbd 0xad6f1 0x56d21 0x13cfe42 0x1d86679 0x1d90579 0x1d154f7 0x1d173f6 0x1d16ad0 0x13a299e 0x1339640 0x13054c6 0x1304d84 0x1304c9b 0x12b77d8 0x12b788a 0x18626 0x1fcd 0x1f35)
terminate called throwing an exception 
```

这是图片：

![图片](../Images/2733d2d2bf291ba91e5130cbda2b6ef9.png)

类 SubSite.h

```
#import <UIKit/UIKit.h>

@interface SubSite : NSObject
@property (nonatomic, copy) NSString *sSubSiteName;

@end 
```

类 SubSite.m

```
#import "SubSite.h"

@implementation SubSite
@synthesize sSubSiteName;

@end 
```

谁能帮我解决这个问题？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:18:57.683

你发现的错误是什么？你试试这个

```
cell.textLabel.text = [NSString stringWithFormat @"%@",[ListDetailSubSite objectAtIndex:indexPath.row]]; 
```

我认为问题是因为`cell.textlable.text`接受`NSString`所以你需要转换你的对象

你可以这样做

```
Subset *tmp = [ListDetailSubSite objectAtIndex:indexPath.row];
cell.textLabel.text = [NSString stringWithFormat:@"%@",tmp.sSubSetName]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:44:34.547

问题可能是因为在`cell.textLabel.text = [ListDetailSubSite objectAtIndex:indexPath.row];`单元格中需要一个字符串而不是 ListDetailSubSite 对象。

此链接中解决了类似的错误：

[为什么我在此 Cocoa 代码中收到 isEqualToString 错误？](https://stackoverflow.com/questions/865527/why-am-i-getting-an-isequaltostring-error-in-this-cocoa-code)

既然您提到您已经创建了一个 Subsite 类，您可以尝试该方法.. 基本上您需要确保输入`cell.textLabel.text`是一个 NSString 对象..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:30:43.147

```
cell.textLabel.text = [ListDetailSubSite objectAtIndex:indexPath.row] 
```

应该替换为

```
cell.textLabel.text = [[ListDetailSubSite objectAtIndex:indexPath.row] sSubSiteName] 
```

# php - 恼人的 PHP 错误：“严格标准：只有变量应该通过引用传递”

> ID：13117106
> 
> 赞同：3
> 
> 时间：2012-10-29T06:53:48.390
> 
> 标签：php

我制作了这个小脚本，但无法收到此错误：

`Strict Standards: Only variables should be passed by reference in C:\xampp\htdocs\includes\class.IncludeFile.php on line 34" off!`

这是页面：

```
namespace CustoMS;

if (!defined('BASE'))
{
    exit;
}

class IncludeFile
{
    private $file;
    private $rule;

    function __Construct($file)
    {
        $this->file = $file;

        $ext = $this->Extention();
        switch ($ext)
        {
            case 'js':
                $this->rule = '<script type="text/javascript" src="'.$this->file.'"></script>';
                break;

            case 'css':
                $this->rule = '<link type="text/css" rel="stylesheet" href="'.$this->file.'">';
                break;
        }
    }

    private function Extention()
    {
        return end(explode('.', $this->file));
    }

    function __Tostring()
    {
        return $this->rule;
    }
} 
```

请帮我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T07:07:32.827

函数`end`有以下原型`end(&$array)`。

您可以通过创建变量并将其传递给函数来避免此警告。

```
private function Extention()
{
    $arr = explode('.', $this->file);
    return end($arr);
} 
```

从文档中：

> 可以通过引用传递以下内容：
> 
> *   变量，即 foo($a)
> *   新语句，即 foo(new foobar())
> *   从函数返回的引用，即：

`explode`返回一个数组而不是对数组的引用。

例如：

```
function foo(&$array){
}

function &bar(){
    $myArray = array();
    return $myArray;
}

function test(){
    return array();
}

foo(bar()); //will produce no warning because bar() returns reference to $myArray.
foo(test()); //will arise the same warning as your example. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:09:04.013

```
private function Extention()
{
    return end(explode('.', $this->file));
} 
```

end() sets the pointer array to the last element. Here you are providing the result of a function to `end` rather than a variable.

```
private function Extention()
{
    $array = explode('.', $this->file);
    return end($array);
} 
```

# asp.net - 事件不适用于 ParseControl 方法

> ID：13117110
> 
> 赞同：1
> 
> 时间：2012-10-29T06:54:18.310
> 
> 标签：asp.net, event-handling, dynamic-controls

我想在没有图像按钮 ID 的情况下在站点上添加动态图像按钮，所以我使用 ASP 标记通过 ParseControl 方法生成动态控件，它正在工作，但单击图像按钮时不会触发事件

Default.aspx.cs 代码

```
 protected void Page_Load(object sender, EventArgs e)
        {
            string str = @"<asp:ImageButton runat=server ImageUrl=""~/close-icon (1).png"" OnClick=""click"" />";
            Control c = Page.ParseControl(str);
            form1.Controls.Add(c);
        }

        protected void click(object sender, ImageClickEventArgs e)
        {
            Response.Write("Image Clicl");
        } 
```

默认.aspx 代码

```
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Default.aspx.cs" Inherits="WebApplication1._Default" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" >
<head runat="server">
    <title>Untitled Page</title>
</head>
<body>
    <form id="form1" runat="server">
    <div>

    </div>
    </form>
</body>
</html> 
```

请通过在解决方案中提供代码来帮助我解决我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T05:05:49.303

我找到了答案，答案如下

Default.aspx.cs 代码

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

public partial class dynamicimage : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        string str = @"<asp:ImageButton ID=""dynoimage"" ImageUrl=""~/images/about01.jpg"" runat=""server"" oncommand=""clickme"" commandname=""btn"" />";
        Control c = ParseControl(str);
        form1.Controls.Add(c);
        ((ImageButton)Page.FindControl("dynoimage")).Command += new CommandEventHandler(clickme);
    }

    protected void clickme(object sender,CommandEventArgs e)
    {
        Response.Write("Image clicked");
        Label1.Text = "Image clicked";
    }
} 
```

这是 Default.aspx 页面：

```
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="dynamicimage.aspx.cs" Inherits="dynamicimage" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
    <div>

    </div>
    <p>
        <asp:Label ID="Label1" runat="server" Text="before click"></asp:Label>
    </p>
    </form>
</body>
</html> 
```

# javascript - 输入类型=点击文本框的文件问题

> ID：13117111
> 
> 赞同：2
> 
> 时间：2012-10-29T06:54:20.943
> 
> 标签：javascript, jquery, html

如何更改 HTML 文件控件的默认行为？

[http://www.w3schools.com/jsref/dom_obj_fileupload.asp](http://www.w3schools.com/jsref/dom_obj_fileupload.asp)

单击文件控件的文本框（“选择文件”按钮左侧）打开 Windows 资源管理器以选择文件。我可以更改此行为，而是仅在单击“选择文件”按钮时打开文件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T03:57:50.543

我不确定您为什么要完成这种相当奇怪的行为，但请查看名为[Using hidden file input elements using the click() method](https://developer.mozilla.org/en-US/docs/Using_files_from_web_applications#Using_hidden_file_input_elements_using_the_click%28%29_method)的部分，我认为这是您目前最好的选择。您可以创建一个按钮来综合触发`click`实际框上的事件。

# javascript - 自动在每张图片上放置一个标志

> ID：13117112
> 
> 赞同：1
> 
> 时间：2012-10-29T06:54:25.593
> 
> 标签：javascript, jquery, html, css

我有一个 wordpress 网站，我想在任何帖子的任何图片的右下角放置相同的小 png 图标。

问题是帖子是动态的，因为 html 是根据用户的内容生成的（所以在写文章之前没有我可以弄乱的 html）。正因为如此，我不能说图片是小是大，是左对齐还是右对齐，我也无法预测它们的位置。更不用说每次检测到图片时我还必须动态生成徽标 img 标签，因为我无法预测帖子中出现的次数。

我相信要走的路是定位帖子中的任何“img”标签，并在其后附加一个标志 img 标签，这很容易实现。但我发现检测用户图片位置以便将其应用于徽标的唯一方法是使用“clientWidth”和“clientHeight”。

它可以工作，但在 clientWidth 方面存在严重缺陷：由于它是与窗口相关的绝对定位，根据我使用的浏览器，我得到不同的偏移结果（我相信这是因为每个浏览器管理其滚动条的方式或某物..）。无论如何，这是一个死胡同。

那么，有没有办法“跟踪”一个 img 的相对位置，以便将确切的位置应用于另一个 img 并保持这种状态，无论使用哪种浏览器，即使在显示期间调整了窗口大小？

这是我尝试过的（并且几乎成功了）。

```
 $(".status-publish img").each(function(index)
        {
            var theID= 'theID'+index;
            $(this).attr('id', theID);
            $(this).after('<img id="log'+index+'" src="logo.png" /> ');

            var source  = $('#theID'+index);
            var sourceHeight = source.height()-22;
            var sourcePosition = source.position();
            var target   = $('#log'+index);

            var sourceClass=source.attr('class');
            var mysplit=sourceClass.split(" ");
            var first_part=mysplit[0];
            var last_part= mysplit.pop();

            if((first_part=="alignleft") || (last_part=="alignleft") )
            {
                var x      = sourcePosition.left-2;
                var y      = sourcePosition.top + sourceHeight;
            }
            else if((first_part=="alignright") || (last_part=="alignright") )
            {
                var x      = sourcePosition.left+10;
                var y      = sourcePosition.top + sourceHeight;
            }

            else if((first_part=="aligncenter") || (last_part=="aligncenter") )
            {
                var x      = sourcePosition.left-2;
                var y      = sourcePosition.top + sourceHeight+2;
            }

            else if((first_part=="alignnone") || (last_part=="alignnone") )
            {
                var x      = sourcePosition.left-2;
                var y      = sourcePosition.top + sourceHeight;
            }

            x -= (target.outerWidth() - source.outerWidth());

            target.css({
                position: 'absolute',
                zIndex:   5000,
                top:      y, 
                left:     x
            });
        }); 
```

（可能不是你见过的最纯粹、最有效的代码，但请记住，我不是开发人员......）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:06:22.033

您可以做的是，将主要的“img”放入“div”中。然后在该循​​环代码中，在每个 div 中创建新的“img”标签，并将其位置设置为“相对”，并将其位置设置为在代码中完成的位置。现在，您拥有代码的每张图像都会显示该徽标，并且它们会一起移动。

另一种方法可能是使用“画布”来执行此操作，尽管您可能不希望以这种方式使用它。

# php - 我如何引用一个数组作为一个整体？ - php

> ID：13117114
> 
> 赞同：0
> 
> 时间：2012-10-29T06:54:26.423
> 
> 标签：php

array_unique 将通过将数组名称作为参数传递来使用。

但就所有研究过的在线示例而言，它显示数组在实例化时首先被分配给单个变量，如下所示：

```
$var1 = $array['val1', 'val2', 'val3'] 
```

唯一的问题是，我一次通过循环分配我的数组 1 的值，所以我不知道如何将我的数组作为一个整体分配给一个变量。

那么我如何将整个数组表示为放入变量或直接作为参数传递给array_unique，而不必引用特定的数组值？

编辑：根据要求添加了实例化数组值的循环。

```
$productsQueryResult = mysql_query($productsQuery);
        while ($row = mysql_fetch_row($productsQueryResult))
            {
                $array[$i] = $row[0];
                $i++;
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:22:19.770

只需将数组的名称作为参数传递：

```
array_unique( $array ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:08:49.880

循环时，您可以将该值作为数组的最后一个元素附加为：

```
loop-statement
{
    ...

    $arr[] = value;

    ...
} 
```

然后，您可以`$arr`在任何数组处理函数中使用该变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:15:29.377

```
$productsQueryResult = mysql_query($productsQuery);

$array = [];

while ($row = mysql_fetch_row($productsQueryResult))
{
    $array[] = $row[0];
}

$unique_array = array_unique( $array ); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T07:27:40.697

试试这个。

```
$productsQueryResult = mysql_query($productsQuery);
$temp = array ();
while ($row = mysql_fetch_row($productsQueryResult))
{
    //process $row value
    array_push($temp, $row[0]); 
}

$newarray = array_unique($temp); 
```

# css - iframe url 到 css div url

> ID：13117116
> 
> 赞同：0
> 
> 时间：2012-10-29T06:54:30.497
> 
> 标签：css, html, iframe

我有一个将在 iframe 中显示的网址

```
<iframe width="250" height="200" frameBorder="0" data-href="http://localhost:8080/webapps/testauth.jsp?appID=a71c5859-03eb-4c16-ac08-1cac24ed2a1d"></iframe> 
```

如果我将上面的代码粘贴到任何网站，它会将小部件显示到网站中，例如`Facebook plugin`.

但现在我的工作是将它从 iframe 更改为 css div。我对 UI 部分没有太多的了解，遇到的问题可以帮助我。

改变应该是这样的

```
<div class="something"data-href="http://localhost:8080/webapps/auth.jsp?appID=a71c5859-03eb-4c16-ac08-1cac24ed2a1d" data-width="292" ></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T06:58:52.077

您将需要为此执行跨域 ajax 请求。它通过以下步骤完成

*   在 js 中构建 ajax 请求并将其放在您要从中发布小部件的域中

*   将脚本添加到您希望小部件出现的页面。确保将文件的来源设置为所有者域，并且不要将js文件复制到本地。这是必要的，否则浏览器会发出安全警告并且不会允许它。

*   调用包含 js 的函数来执行请求并从源域获取内容。

这将使添加小部件的过程更加困难，但 div 将不允许您从任何域加载内容（只有 iframe 和框架可以这样做）。

# c# - 在自定义 DateTimePicker 上显示日历

> ID：13117123
> 
> 赞同：1
> 
> 时间：2012-10-29T06:55:38.683
> 
> 标签：c#, custom-datetimepicker

我创建了一个基于Visual Studio 2010 c#的自定义**日期时间选择器。**`UserControl`此控件中有 a `RichTextBox`、 a`Button`和`MonthCalendar`。

[http://i.imgur.com/85iwc.png?1](http://i.imgur.com/85iwc.png?1)。

我将 UserControl 的高度更改为隐藏/显示日历。我的问题是，当我将此控件放在`GroupBox`面板上**时**，父级将其重叠：

[http://i.imgur.com/tVrI0.png](http://i.imgur.com/tVrI0.png)

我已经解决了这个在控件**Parent**上的循环，直到找到主窗体，然后将其设置为我的 DateTimePicker 的父窗体。

```
 Control parent = this.Parent ?? null;
        while (parent != null)
        {
            if (parent is Form)
                break;
            parent = parent.Parent;

        }
        this.clnMonth.Parent = parent;
        clnMonth.Location = this.PointToScreen(Point.Empty); 
```

我试图放置在另一个表单上并在单击后显示/隐藏它，但是在**DateTimePicker**`MonthCalendar`下定位表单存在巨大问题。上述方法效果很好，但我知道这不是最好的解决方案。你能给我任何替代的想法吗？

# json - 场地未在foursquare api（Json）中的趋势列表上更新

> ID：13117124
> 
> 赞同：0
> 
> 时间：2012-10-29T06:55:52.190
> 
> 标签：json, foursquare

我正在使用 Foursquare api 来获取带有签到的热门场所的 json 文件。我今天早些时候从 JSON 文件中得到了结果，但现在它返回了一个 json 文件，但其中没有场地。有人可以帮我解决问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T20:17:26.543

您正在搜索的位置附近可能没有热门场所。确保您指定的 ll 参数接近真实场所，人们将在那里登记。您可以访问[此页面](https://developer.foursquare.com/docs/explore#req=venues/trending?ll=40.7,-74 "这一页")以获取示例查询。

# html - 在没有顺序的 XML 中进行分组、排序、求和

> ID：13117125
> 
> 赞同：0
> 
> 时间：2012-10-29T06:55:53.617
> 
> 标签：html, xml, xslt

我有一个生成交易文件的 XML，它记录了会员卡中用于赚取积分的金额和完成日期的条目。没有我可以使用的顺序，因为相同的卡号可能会出现在 XML 中。我想要的是让 XSL 找到一个卡号（我没有用作 ID 的记录），把它放在 a 中`<td></td>`并显示总共花了多少钱，赚了多少积分以及什么完成日期。

这是XML...

```
<Root>
  <Events>
    <TicketEnd Date="2012-10-21" />
  </Events>
  <Ticket>
    <TicketStart Date="2012-10-22" />
    <TicketEnd Date="2012-10-22" />
  </Ticket>
  <Events>
  </Events>
  <Ticket>
    <TicketStart Date="2012-10-22" />
    <Clubcard Opcode="96" Function="27" CardAcc="1" QualSpendInfo="0" SchemeNo="40" CardNo="1042540000026" PointsToDate="0" RedemptionValue="0" CustomerUpdateDate="000000" QualSpent="0" Date="2012-10-22" />
    <ClubcardPoints Opcode="96" Function="28" SchemeNo="40" PromNo="0" CardNo="1042540000026" QualSpend="30005" PointSpend="0" Points="6" BonusPoints="0" PromCount="0" Date="2012-10-22" />
    <Clubcard Opcode="96" Function="27" CardAcc="1" QualSpendInfo="1" SchemeNo="40" CardNo="1042540000026" PointsToDate="0" RedemptionValue="0" CustomerUpdateDate="000000" QualSpent="30005" Date="2012-10-22" />
    <TicketEnd Date="2012-10-22" />
  </Ticket>
  <Ticket>
    <TicketStart Date="2012-10-22" />
    <Clubcard Opcode="96" Function="27" CardAcc="1" QualSpendInfo="0" SchemeNo="40" CardNo="1042540000019" PointsToDate="0" RedemptionValue="0" CustomerUpdateDate="000000" QualSpent="0" Date="2012-10-22" />
    <ClubcardPoints Opcode="96" Function="28" SchemeNo="40" PromNo="0" CardNo="1042540000019" QualSpend="24330" PointSpend="0" Points="4" BonusPoints="0" PromCount="0" Date="2012-10-22" />
    <Clubcard Opcode="96" Function="27" CardAcc="1" QualSpendInfo="1" SchemeNo="40" CardNo="1042540000019" PointsToDate="0" RedemptionValue="0" CustomerUpdateDate="000000" QualSpent="24330" Date="2012-10-22" />
    <TicketEnd Date="2012-10-22" />
  </Ticket>
  <Ticket>
    <TicketStart Date="2012-10-22" />
    <Clubcard Opcode="96" Function="27" CardAcc="1" QualSpendInfo="0" SchemeNo="40" CardNo="1042540000026" PointsToDate="0" RedemptionValue="0" CustomerUpdateDate="000000" QualSpent="0" Date="2012-10-22" />
    <ClubcardPoints Opcode="96" Function="28" SchemeNo="40" PromNo="0" CardNo="1042540000026" QualSpend="30005" PointSpend="0" Points="6" BonusPoints="0" PromCount="0" Date="2012-10-22" />
    <Clubcard Opcode="96" Function="27" CardAcc="1" QualSpendInfo="1" SchemeNo="40" CardNo="1042540000026" PointsToDate="0" RedemptionValue="0" CustomerUpdateDate="000000" QualSpent="30005" Date="2012-10-22" />
    <TicketEnd Date="2012-10-22" />
  </Ticket>
</Root> 
```

我的 XSL 只能列出条目...

```
<?xml version="1.0"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="html"/>
  <xsl:template match="/">
    <html>
      <head>
    <title>Loyalty Sales</title>
      </head>
    <body>
      <br/>
      <br/>
      <br/>
       <h1 style="color:blue;
                  margin-left:20px;
                  font-family:verdana;
                  text-align:center;">
        Customers Report</h1>
      <br/>
      <p style="color:red;
                margin-left:20px;
                font-family:arial;
                text-align:right;
                font-size:15px;">
        Store Report</p>
      <p style="color:green;
                margin-left:20px;
                font-family:arial;
                text-align:right;
                font-size:15px;">
        for Customer ABC</p>
      <br/>
    <table width="100%" border="3">
      <THEAD>
      <TR bgcolor="RGB(0, 204, 51)">
      <TD width="25%">
        <font color="white"><B>Account Number</B></font>
      </TD>
      <TD width="25%">
        <font color="white"><B>Points</B></font>
      </TD>
      <TD width="25%">
        <font color="white"><B>Date</B></font>
      </TD>
      <TD width="25%">
        <font color="white"><B>Qualified Spent</B></font>
      </TD>
      </TR>
      </THEAD>
    <TBODY>
    <xsl:for-each select="Root/Ticket/ClubcardPoints">
      <TR>
      <TD width="25%"><xsl:value-of select="@CardNo" /></TD>
      <TD width="25%"><xsl:value-of select="@Points" /></TD>
      <TD width="25%"><xsl:value-of select="@Date" /></TD>
      <TD width="25%"><xsl:value-of select="format-number(@QualSpend div 100,'&#x52;#.##')" /></TD>
    </TR>
    </xsl:for-each>
    </TBODY>
    </table>
  </body>
</html>
</xsl:template>
</xsl:stylesheet> 
```

我已经搜索了示例，但找不到具有所有这些条件的场景，并且当放入单个 XSL 时它会失败。请帮忙。

这是我想要的输出文件...

```
<THEAD>
                <TR bgcolor="RGB(0, 204, 51)">
                    <TD width="25%"><font color="white"><B>Account Number</B></font></TD>
                    <TD width="25%"><font color="white"><B>Total Points</B></font></TD>
                    <TD width="25%"><font color="white"><B>Date</B></font></TD>
                    <TD width="25%"><font color="white"><B>Total Qualified Spent</B></font></TD>
                </TR>
            </THEAD>
            <TBODY>
                <TR>
                    <TD width="25%">1042540000002</TD>
                    <TD width="25%">100</TD>
                    <TD width="25%">2012-10-22</TD>
                    <TD width="25%">R750.32</TD>
                </TR> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:22:50.903

如果您想合计每张卡的积分并消费，则需要按卡号对卡进行分组。在 XSLT1.0 中，您为此使用了 Munechian Grouping。这意味着为您的组定义一个密钥

```
<xsl:key name="cards" match="ClubcardPoints" use="@CardNo" /> 
```

然后，要选择每个不同的卡号，您需要查找组中第一个出现的**ClubcardPoints**的卡号。这是按如下方式完成的

```
<xsl:apply-templates 
   select="Root/Ticket/ClubcardPoints[generate-id() = generate-id(key('cards', @CardNo)[1])]" /> 
```

获得总分就很简单了

```
<xsl:value-of select="sum(key('cards', @CardNo)/@Points)" /> 
```

这是完整的 XSLT（请注意，我已对其进行了简化以删除所有样式）

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="html"/>
   <xsl:key name="cards" match="ClubcardPoints" use="@CardNo"/>

   <xsl:template match="/">
      <table>
         <THEAD>
            <TR>
               <TD>Account Number</TD>
               <TD>Points</TD>
               <TD>Date</TD>
               <TD>Qualified Spent</TD>
            </TR>
         </THEAD>
         <TBODY>
            <xsl:apply-templates select="Root/Ticket/ClubcardPoints[generate-id() = generate-id(key('cards', @CardNo)[1])]"/>
         </TBODY>
      </table>
   </xsl:template>

   <xsl:template match="ClubcardPoints">
      <TR>
         <TD>
            <xsl:value-of select="@CardNo"/>
         </TD>
         <TD>
            <xsl:value-of select="sum(key('cards', @CardNo)/@Points)"/>
         </TD>
         <TD>
            <xsl:value-of select="@Date"/>
         </TD>
         <TD>
            <xsl:value-of select="format-number(sum(key('cards', @CardNo)/@QualSpend) div 100,'R#.##')"/>
         </TD>
      </TR>
   </xsl:template>
</xsl:stylesheet> 
```

应用于您的示例 XML 时，将输出以下内容

```
<table>
   <THEAD>
      <TR>
         <TD>Account Number</TD>
         <TD>Points</TD>
         <TD>Date</TD>
         <TD>Qualified Spent</TD>
      </TR>
   </THEAD>
   <TBODY>
      <TR>
         <TD>1042540000026</TD>
         <TD>12</TD>
         <TD>2012-10-22</TD>
         <TD>R600.1</TD>
      </TR>
      <TR>
         <TD>1042540000019</TD>
         <TD>4</TD>
         <TD>2012-10-22</TD>
         <TD>R243.3</TD>
      </TR>
   </TBODY>
</table> 
```

请注意，在 XSLT2.0 中，将使用**xsl:for-each-group**元素进行分组。

# html - 如何覆盖css样式

> ID：13117126
> 
> 赞同：56
> 
> 时间：2012-10-29T06:55:52.843
> 
> 标签：html, css

我正在开发页面，现在以我的 css 样式我有这行代码

```
.flex-control-thumbs li {
    width: 25%;
    float: left;
    margin: 0;
} 
```

对于我的网页。现在，我的一些页面不需要这一行

```
width: 25%;
float: left; 
```

有可能我可以在页面的内部 css 中覆盖它，这会导致原始行为被忽略吗？

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2012-10-29T07:00:04.457

`!important`不推荐使用，但在这种情况下，我认为你应该 -

把它写在你的内部 CSS 中——

```
.flex-control-thumbs li {
  width: auto !important;
  float: none !important;
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-29T06:58:07.987

而不是覆盖，将其创建为不同的 css 并在您的元素中将其作为其他 css（多个 css）调用。
就像是：

```
.flex-control-thumbs li 
{ margin: 0; } 
```

* * *

内部 CSS：

```
.additional li
{width: 25%; float: left;} 
```

* * *

```
<ul class="flex-control-thumbs additional"> </ul> /* assuming parent is ul */ 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-29T07:09:46.540

You can create one more class naming

```
.flex-control-thumbs-without-width li {
width: auto;
float: initial; or none
} 
```

Add this class whenever you need to override like below,

```
<li class="flex-control-thumbs flex-control-thumbs-without-width"> </li> 
```

And do remove whenever you don't need for other `<li>`

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-29T07:06:05.910

是的，你确实可以。我可以想到三种方法来实现这一点。

1.  为元素添加内联样式。
2.  创建并附加一个新的 <style> 元素，并添加文本以覆盖此样式。
3.  修改css规则本身。

笔记：

1.  有点混乱，并增加了浏览器渲染所需的解析。
2.  也许我最喜欢的方法
3.  不是跨浏览器，一些浏览器喜欢它以一种方式完成，另一些则以不同的方式完成，而其余的只是对这个想法犹豫不决。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-10-29T07:02:32.023

只需添加

```
.flex-control-thumbs li {
width: auto; 
} 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-10-29T07:05:47.600

您可以在外部样式表之后的所需页面中添加样式，以便它们级联并覆盖第一组规则。

```
<link rel="stylesheet" href="allpages.css">
<style>
.flex-control-thumbs li {
  width: auto;
  float: none;
}
</style> 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2020-09-27T01:57:16.307

# 增加你的[CSS 特异性](https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity)

例子：

```
.parent-class .flex-control-thumbs li {
  width: auto;
  float: none;
} 
```

演示：

```
.sample-class {
  height: 50px;
  width: 50px;
  background: red;
}

.inner-page .sample-class {
  background: green;
}
```

```
<div>
  <div class="sample-class"></div>
</div>

<div class="inner-page">
  <div class="sample-class"></div>
</div>
```

# c# - 无法使用复杂对象解析 json (JSON.Net)

> ID：13117129
> 
> 赞同：0
> 
> 时间：2012-10-29T06:56:06.520
> 
> 标签：c#, .net, json, windows-phone-7, json.net

我无法使用 Json.net 库解析下面的 json。如果对象出现在对象中，我会感到困惑。我正在使用 JSON.net 库并且能够获取除“列表”对象之外的数据。请帮忙。

```
 @"{""status"":1, ""list"": 
                {""231784875"": 
                    {
                        ""item_id"":""231784875"",
                        ""title"":""ASP.Net Skill Test, ASP.Net quiz, ASP.Net Online Tests, Online Assessments,"",
                        ""url"":""http:\/\/www.techgig.com\/skilltest\/ASP-Net"",
                        ""time_updated"":""1351228692"",
                        ""time_added"":""1349344004"",
                        ""state"":""1""
                    }
                }
            ,""since"":1351228692,
            ""complete"":0
            }"; 
```

请检查我的以下代码

```
private void ReadWebRequestCallback(IAsyncResult callbackResult)
    {
        HttpWebRequest myRequest = (HttpWebRequest)callbackResult.AsyncState;
        HttpWebResponse myResponse = (HttpWebResponse)myRequest.EndGetResponse(callbackResult);

        using (StreamReader httpwebStreamReader = new StreamReader(myResponse.GetResponseStream()))
        {
            string results = httpwebStreamReader.ReadToEnd();
            JObject o= JObject.Parse(results);
            JArray list = (JArray) o[o["list"]];
            //getting error 
        }
        myResponse.Close();
    } 
```

错误描述

```
Accessed JObject values with invalid key value: {
  "211384805": {
    "item_id": "211384805",
    "title": "Introduction | Developer Portal",
    "url": "https://developer.uidai.gov.in/site/node/19",
    "time_updated": "1351109730", 
```

API 提供者的 JSON 结构

下面是来自 API 提供者的 Json 结构。

```
{
   "status":"1",            // 1=normal, 2=no changes since your provided 'since'
   "since":"1245626956',        // timestamp of this response
   "list":{
      "93817":{
         "item_id":"93817"          // unique id identifying the url
         "url":"http://url.com",
         "title":"Page Title",
         "time_updated":"1245626956",       // time the item was last added/changed
         "time_added":"1245626956",     // time item was added to list
         "tags":"comma,seperated,list",
         "state":"0",                       // 0=unread, 1=read
      },
      "935812":{
         "item_id":"935812"         // unique id identifying the url
         "url":"http://google.com",
         "title":"Google",
         "time_updated":"1245626956",       // time the item was last added/changed
         "time_added":"1245626956",     // time item was added to list
         "tags":"comma,seperated,list",
         "state":"1",                       // 0=unread, 1=read
      }
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:39:51.533

我认为问题在于列表不是数组。如果是这样，json 将如下所示：

```
{"list":[
            {...}
        ]
} 
```

你可以试试这个：

```
JObject o = JObject.Parse(json);
JArray jArray;
if(o["list"].Type==JTokenType.Array)
{
    jArray = (JArray) o["list"];
} 
```

编辑：“列表”的使用令人困惑，因为它仍然不是一个 jsonarray，新的 json 相当于：

```
public class List
{
    public 93817 { get; set; }
    public 935812 { get; set; }
} 
```

你可以试试这个：

```
JObject jObject = JObject.Parse(json);
var array = new JArray(jObject["list"].Values()); 
```

您提供的字符串不是有效的 Json，因为缺少逗号等。

# mongodb - mongodb 文档的大小会减慢查询速度？

> ID：13117132
> 
> 赞同：1
> 
> 时间：2012-10-29T06:56:31.467
> 
> 标签：mongodb

我们在社交网络中有一个用户模型（mongodb）。与用户相关的属性有很多，但并不是每次都需要。所以我应该将它存储在同一个文档中，还是创建一个单独的模型。

将其存储在同一个文档中会增加文档的大小。这会影响查询速度吗？什么是最佳实践。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:14:30.343

您没有提示有多少字段或每个字段的大小，但是，正如@Sergio 所说，大型文档可以增加您的工作集和 LRU 所需的内存量。如果您需要索引涵盖许多这些额外字段的复合索引，它还可以增加特定查询的索引大小，从而增加索引所需的 RAM 量。

但是，就速度而言，MongoDB 完全设计为以各种方式工作，最大文档大小为 16 meg，只要您正确设置集群。

所以你的主要问题是你的内存和空间，如果你考虑到这一点并以最佳速度工作，那么你应该没问题。正如@Sergio 再次所说的那样，主要的解决方案是去规范化，但是我的主要回答问题是：您多久需要同时需要该表中的所有数据？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T06:59:52.333

我说，将所有很少访问的数据提取到其他文档中。否则你的用户文档会很臃肿，这会影响性能。即使您足够聪明，不会通过网络传输它们（使用`find`命令中的字段规范），它们仍然在同一个文件中，这会降低完整扫描的性能并不必要地增加您的工作集大小。

# iphone - 为 iPhone 应用程序实施越狱保护

> ID：13117133
> 
> 赞同：4
> 
> 时间：2012-10-29T06:56:35.820
> 
> 标签：iphone, ios, jailbreak

> **可能重复：**
> [如何检测 SDK 应用程序正在越狱手机上运行？](https://stackoverflow.com/questions/413242/how-do-i-detect-that-an-sdk-app-is-running-on-a-jailbroken-phone)

我的应用程序没有实现越狱保护功能。

这通常有助于使用 Jailborken 设备的攻击者分析和利用漏洞。如何实施 JailBroken 保护以防止应用程序在 JailBroken 设备上运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:11:41.503

Have a look at this [SO article](https://stackoverflow.com/questions/12342571/no-jailbreak-detection), it has the code you need.

You can also see if you can fork a process (This will only work on jailbroken phones)

And one [more](https://stackoverflow.com/questions/12085504/detect-jailbroken-device). And [another](https://stackoverflow.com/questions/413242/how-do-i-detect-that-an-sdk-app-is-running-on-a-jailbroken-phone).

# ios - 配置下载按钮灰色

> ID：13117135
> 
> 赞同：0
> 
> 时间：2012-10-29T06:56:44.387
> 
> 标签：ios, provisioning

在我的“IOS 配置门户”中，我无法下载“开发配置文件”，所有下载按钮都是灰色的。它曾经运作良好。

有人知道可能的原因吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:11:25.273

my certificate is gone, dont know why. Anyway, after I request a new certificate, all the buttons became normal.

# c - 套接字缓冲区中的头部空间

> ID：13117137
> 
> 赞同：1
> 
> 时间：2012-10-29T06:56:53.910
> 
> 标签：c, sockets, linux-kernel

我正在linux内核中编写一个新的网络设备，我必须使用套接字缓冲区。

当我浏览套接字缓冲区的结构时，我可以看到四个名为`head`, `data`, `tail`,的字段`end`。套接字缓冲区中的头部和尾部空间的目的是什么。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T03:11:58.970

套接字缓冲区（又名 skbuffs）沿着整个内核的网络层传递。意思是，它们将从传输层传递到网络层等等。这样做的主要原因是性能，避免内核在每次传递时都复制和重新创建缓冲区。

这意味着 skbuff 数据在通过不同层时将被相应的协议头数据填充。例如，在传输层它可能会得到 TCP 头，在网络层它可能会得到 IP 头等。

作为一种优化，linux内核为这些头文件预先分配了空间，这实际上是 skbuff 指向的缓冲区`head`。现在，数据开始的地方，即当前构造的数据包的第一个字节，由 指向`data`。同样，`tail`指向当前构造数据包`end`的结尾和预分配缓冲区的结尾。

这张图片可能对你有帮助：http: [//www.kernelchina.org/files/image_thumb_3_4.png](http://www.kernelchina.org/files/image_thumb_3_4.png)

现在，与实际重新分配内存和复制字节相比，移动这些指针和（重新）构建内核尝试发送/接收的数据包的计算量要小得多。

# asp.net - 如何在datalist中显示数据库中的前五张图像

> ID：13117138
> 
> 赞同：0
> 
> 时间：2012-10-29T06:56:56.113
> 
> 标签：asp.net

我想在 datalist 中显示数据库中的前五个图像，并在 2 或 4 秒后显示接下来的五个图像。会建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:39:26.517

如果你不想做 jquery ajax。您可以使用“添加旋转器”控件。
这是一个[例子](http://www.dotnetcurry.com/ShowArticle.aspx?ID=202)

# android - 如何使用 largeHeap="true" 运行 Android 测试？

> ID：13117140
> 
> 赞同：5
> 
> 时间：2012-10-29T06:57:02.587
> 
> 标签：android, testing, heap-memory, android-largeheap

我们有一个为平板电脑制作的客户应用程序，我们需要的不仅仅是常规堆，因此我们的应用程序为 AndroidManifest.xml 中的应用程序标签定义了 largeHeap="true" 属性。这工作正常。

但是，当我们在使用 android.test.InstrumentationTestRunner 和 android.test.ActivityInstrumentationTestCase2 的设备上运行测试时，当我们尝试使用超过标准堆时会得到 java.lang.OutOfMemoryError。

我们尝试在测试项目的 AndroidManifest.xml 以及应用项目中设置 largeHeap="true"。

在配置了大堆大小的模拟器上运行测试是可行的。该设置增加了一般最大堆大小，而不是 largeHeap 的限制。这是一种解决方法，但我们也希望在实际设备上运行测试。

有没有办法在具有大堆的设备上运行测试？

# php - 如何在 Twig 中仅获取多维数组的一个特定元素

> ID：13117144
> 
> 赞同：1
> 
> 时间：2012-10-29T06:57:20.610
> 
> 标签：php, symfony, twig

我有一个名为 $all_items 的二维数组（如果我正确计算的话）。它包含几个数组，每个数组对应一个项目类别，每个数组都包含一个项目 - 包含类别、描述等。到目前为止，这是我的代码：

```
 {% for all_i in all_items %}
        <table class="table table-condensed">
        {% for i in all_i %}
            <tr>
                <td>{{ loop.index }}. </td>
                <td>{{ i.description }}</td>
                <td>{{ i.price }}</td>
            </tr>
        {% endfor %}
        </table>
    {% endfor %} 
```

我想要的是显示每个类别的名称，然后是该类别中的项目。我只能打电话`{{ i.category }}`，但它会为每个项目显示，而不仅仅是一次。

我想知道是否有办法在下面做类似的事情，什么是正确的语法。

```
 {% for all_i in all_items %}
        <table class="table table-condensed">
        {{ all_i[i].category }}
        {% for i in all_i %}
            <tr>
                <td>{{ loop.index }}. </td>
                <td>{{ i.description }}</td>
                <td>{{ i.price }}</td>
            </tr>
        {% endfor %}
        i++;
        </table>
    {% endfor %} 
```

的值`i`设置为`0`来自控制器并传递给模板。

我得到的错误是`Key "0" for array with keys "" does not exist`

此行在控制器中工作正常：

```
$i = $all_items[0][0]->getCategory(); 
```

你能帮我解决这个问题吗？

* * *

**更新**

`%array% [[!!php/object:O:29:"EM\ExpensesBundle\Entity\Item":7:{s:5:"*id";i:8;s:14:"*description";s:8:"Вода";s:8:"*price";s:4:"5.00";s:7:"*date";O:8:"DateTime":3:{s:4:"date";s:19:"2007-01-01 00:00:00";s:13:"timezone_type";i:3;s:8:"timezone";s:13:"Europe/Berlin";}s:8:"*notes";N;s:11:"*category";O:48:"Proxies\__CG__\EM\ExpensesBundle\Entity\Category":4:{s:17:"__isInitialized__";b:1;s:5:"*id";i:1;s:7:"*name";s:28:"Храна и напитки";s:8:"*items";O:33:"Doctrine\ORM\PersistentCollection":2:{s:39:"Doctrine\ORM\PersistentCollectioncoll";O:43:"Doctrine\Common\Collections\ArrayCollection":1:{s:54:"Doctrine\Common\Collections\ArrayCollection_elements";a:0:{}}s:46:"Doctrine\ORM\PersistentCollectioninitialized";b:0;}}s:8:"*month";O:45:"Proxies\__CG__\EM\ExpensesBundle\Entity\Month":7:{s:17:"__isInitialized__";b:0;s:5:"*id";N;s:7:"*name";N;s:9:"*budget";N;s:8:"*notes";N;s:10:"*spended";N;s:8:"*saved";N;}}, !!php/object:O:29:"EM\ExpensesBundle\Entity\Item":7:{s:5:"*id";i:9;s:14:"*description";s:14:`

这是我写作时得到的一部分

`{{所有项目 | yaml_dump }}

但我仍然无法弄清楚要使用哪些索引。老实说，我不知道如何理解这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-15T13:36:38.163

我假设 all_i 数组中的所有项目都具有相同的类别？如果是这样，并且该数组不是命名键值数组，那么您可以执行以下操作来从子数组中获取第一个类别名称。

```
{% for all_i in all_items %}
    {% if all_i|length > 0 %}
        <h3>{{ all_i[0].category }}</h3>
        <table class="table table-condensed">
            {% for i in all_i %}
                <tr>
                    <td>{{ loop.index }}. </td>
                    <td>{{ i.description }}</td>
                    <td>{{ i.price }}</td>
                </tr>
            {% endfor %}
        </table>
    {% endif %}
{% endfor %} 
```

# bash - 从开发和生产中获取日志文件的 Bash 脚本失败

> ID：13117146
> 
> 赞同：0
> 
> 时间：2012-10-29T06:57:23.467
> 
> 标签：bash, ssh

我拼凑了以下脚本：

`ssh -2 -l root devserver "cd /var/log/httpd; ls | grep -v 'gz' | xargs -- tail -n 15"`

这会登录到 devserver，chagnes 目录到 httpd 日志，列出它们，删除数百个压缩的历史轮换，然后将其通过管道传输到 tail。

可以轻松查看正在发生的错误类型。这在我自己 ssh 时有效，然后在引号中执行命令。但是，当将其用作脚本时，生产的输出会出现乱码，并且我会注意到 dev 上的提示音，几乎就像它将输出视为命令而不是简单的文本一样。

我敢肯定有一些逃跑的东西或者我错过了一些东西。

注意： - 以 root 身份登录，因为通常的 ssh 用户无法读取 httpd 日志。- 因为当我不在相关目录中时，tail 无法找到从 grep 管道输入的文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T09:16:49.487

要查看使用了哪个解释器：

```
ssh risdevo0196 'echo $0' 
```

如果 ksh ：

```
tail -n 15 /var/log/httpd/!(*gz) 
```

如果重击

```
shopt -s extglob; tail -n 15 /var/log/httpd/!(*gz) 
```

但如果参数列表太长，必须使用 find ：

```
find /var/log/httpd/ \! -name '*gz' -exec tail -n 15 {} + 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T09:03:21.797

为了您的目标，我认为`find`会比解决方法更好、更简单`ls`：

```
ssh -2 -l root devserver 'find /var/log/httpd/ -type f ! -name "*.gz" -print0 | xargs -0 tail -n 15' 
```

或者

```
echo '
    find /var/log/httpd/ -type f ! -name "*.gz" -print0 |
        xargs -0 tail -n 15
  ' | ssh -2 -l root devserver 
```

由于您*想轻松查看正在发生的错误类型*，因此我有时会使用一种小方法：（警告：如果您的日志文件很大，这可能会*矫枉过正*，小心！！）

```
echo '
    find /var/log/httpd/ -type f ! -name "*.gz" -print0 |
        xargs -0 cat |
        sed -ne 's/^.\{20\}[^:]*://p' |
        sort |
        uniq -c |
        sort -n |
        tail -n 30
  ' | ssh -2 -l root devserver 
```

# java - 用于从行号和列号获取字符偏移的现有 Java 库？

> ID：13117147
> 
> 赞同：2
> 
> 时间：2012-10-29T06:57:28.703
> 
> 标签：java

我正在编写一个 Java 应用程序，它需要以字节为单位获取字符偏移量，给定纯文本中的行号和列号。我想知道是否有现有的库可以这样做，因为我不想重新发明轮子。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:24:43.287

以字节为单位的*字符偏移量*是一种非常奇怪的野兽。你想要字符，还是想要字节？这是一个编码问题。对于 UTF-8，它甚至因不同的字符而异（因为`a`它是一个字节，对于`ä`两个）。当你只使用 ASCII 时你是安全的，但你没有这么说。

如果确实使用 UTF-8，则*必须*从头开始读取整个文件才能执行这种计算。我不知道具有特定功能的库，但在 Java 中使用适当的`InputStreamReader`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:16:13.513

[InputStream](http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html)具有跳过 n 个字节的方法。如果你想跳过固定大小的行，你总是可以计算要跳过的字节数。否则你需要执行 false `nextLine`on`BufferedReader`

# scala - Scala：如何设置在抽象超类构造函数中定义的实例字段？

> ID：13117149
> 
> 赞同：3
> 
> 时间：2012-10-29T06:57:40.330
> 
> 标签：scala, inheritance, parameters, constructor, arguments

给定两个类：

```
 abstract class ClassA(val argA:Int = 1) {
   def func1 {
     ... argA ... //some operations
     func2
   }
   def func2
 }

class ClassB extends ClassA {
   def func2 {
     ... argA ... //some operations
   }
}

val b = new ClassB
b.func1 
```

如何在实例化 b 时传递 argA=3？将有几十个像 B 这样的子类，所以如果不需要在每个类定义中重写“(val argA:Int = 1)”就好了。即使在这种情况下，事情也会变得模糊不清。

我发现的最相似的问题是关于获取，而不是设置值： [问题](https://stackoverflow.com/questions/13044975/access-a-field-created-by-the-constructor-in-an-abstract-class-scala)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T09:16:06.367

如您所见，有几种可能的方法可以实现您的要求。然而，哪一个是最好的方式并不明显，因为这取决于您想要强调的内容（简洁性、重用性、性能）以及实际代码的外观。一些值得记住的事情是：

通过@maackle 的解决方案，表单的每个实例化

```
val b = new ClassB { override val argA = 3 } 
```

`class AnonSubB extends ClassB`将产生一个在幕后创建的匿名类。如果您想专注于简洁，那么这可能是要走的路，但是如果匿名类的数量增加，它们可能会减慢编译速度。

@paradigmatic 的解决方案

```
class ClassB(i: Int) extends ClassA(i) { ... }
val cb = new ClassB(3) 
```

几乎一样简洁并且不会产生匿名类，但缺点是不重用`argA`as 指定的默认值`ClassA`（在@maackle 的解决方案中）。您可以重复该值，即声明`ClassB`为

```
class ClassB(i: Int = 1) extends ClassA(i) { ... } 
```

但这很容易出错，因为如果需要更改，您必须在各个地方更改默认值。

我还想提供我自己的解决方案，重点在于重用默认值而不创建匿名类，但这不太简洁：

```
/* ClassA has a reusable (referenceable) default value */
abstract class ClassA(val argA: Int) {
  def this() = this(ClassA.defaultArgA)
}

object ClassA {
  val defaultArgA = 1
}

/* ClassB reuses ClassA's default value */
class ClassB(x: Int = ClassA.defaultArgA) extends ClassA(x)

/* ClassC has a local (non-referenceable) default value */
class ClassC(x: Int = 10) extends ClassA(x)

println(new ClassB(2).argA) // 2
println(new ClassB().argA)  // 1
println(new ClassC().argA)  // 10 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T08:06:49.507

`argA`实例化时覆盖：

```
val b = new ClassB {
    override val argA = 3
} 
```

根据您写的内容，这似乎是做您想做的最简洁的方法。但是，根据您的实际使用情况，您可能会通过在伴随对象上定义一些方法来找到一些不那么笨重的方法来实例化您的对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T08:30:47.703

只需在类定义中传递它：

```
class ClassB( i: Int ) extends ClassA(i) { ... }

val cb = new ClassB( 3 ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T07:04:54.100

只需将参数传递给 ClassA：

```
class ClassB extends ClassA(3) { ... } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-29T08:26:48.323

```
abstract class ClassA {
    val argA: Int = 1
    def func1() {
        println(argA)
    }
}

class ClassB extends ClassA {
    def func2() {
        println("B: %d" format argA)
    }
}

val b = new ClassB { override val argA = 3 }
b.func1() 
```

# arrays - 通过递归查找数组中的最大值

> ID：13117159
> 
> 赞同：10
> 
> 时间：2012-10-29T06:58:50.547
> 
> 标签：arrays, algorithm, search, pseudocode

```
// Find a maximum element in the array.
findMax(A)
   findMaxHelper(A, 0, A.length)

findMaxHelper(A, left, right)
   if (left == right - 1) 
      return A[left]
   else
      max1 = findMaxHelper(A, left, (right + left) / 2)
      max2 = findMaxHelper(A, (right + left) / 2, right)

      if (max1 > max2) 
         return max1 
      else 
         return max2 
```

我很难理解这个伪代码中发生了什么。

有人可以帮助解释每行发生的事情。在回答问题之前，我需要理解这段代码。

我知道函数findMax调用辅助函数findMaxHelper，然后findMaxHelper使用递归。除此之外，我真的不明白。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-10-29T07:09:37.617

You are using [Divide and Conquer](http://en.wikipedia.org/wiki/Divide_and_conquer_algorithm) algorithm for finding the maximum element from the array. First, you are dividing the array into individual elements (divide), then you are comparing the elements (conquer). You are dividing the array using calling `findMaxHelper` recursively.

The general idea of Divide and conquer is shown in the figure:

![enter image description here](../Images/c2f647af4c1a80daa210e5b3b05ee198.png)

**Example:**

![enter image description here](../Images/5ba72498888c6301e9d694ef418f4e85.png) Here `max` is same as your `findMaxHelper` function with two arguments i.e. `left` and `right`.

Check [this](http://www.8bitavenue.com/2010/11/understanding-recursion/) example for more in depth understanding of the concept.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-01T16:18:48.873

捷豹很好地提出了这个概念，保罗提供了正确而详细的解释。除此之外，我想分享一个简单的 C 代码，让您了解代码是如何执行的。这是 Jaguar 使用的相同输入的代码：

```
#include<stdio.h>
int findMaxHelper(int A[], int left, int right){
   int max1,max2;
   int static tabcount;
   int loop;
   for(loop = 0 ; loop <tabcount;loop++) printf("\t");
   tabcount++;
   printf(" Entering: findMaxHelper(A, left = %d ,right = %d)\n\n",left,right);
   if (left == right - 1){ 
      for(loop = 0 ; loop <tabcount;loop++) printf("\t");
      printf("\b\b\b\b\b\b\bLeaving: findMaxHelper(A, left = %d ,right = %d)| returning %d\n\n",left,right , A[left]);
      tabcount--;
      return A[left];
   }
   else
   {
      max1 = findMaxHelper(A, left, (right + left) / 2);
      max2 = findMaxHelper(A, (right + left) / 2, right);

      if (max1 > max2){ 
    for(loop = 0 ; loop <tabcount;loop++) printf("\t");
    printf("\b\b\b\b\b\b\bLeaving: findMaxHelper(A, left = %d ,right = %d) | returning max1=%d\n\n",left,right,max1);
    tabcount--;
    return max1;
    }
      else {
     for(loop = 0 ; loop <tabcount;loop++) printf("\t");
     printf("\b\b\b\b\b\b\bLeaving: findMaxHelper(A, left = %d ,right = %d)| returning max2=%d\n\n",left,right,max2);
     tabcount--;
     return max2;
    }

   }
}

int main (){
    int A[] = { 34,3,47,91,32,0 };
    int Ans =findMaxHelper(A,0,7);  
    printf( "And The Answer Is = %d \n",Ans);
} 
```

您可以将代码复制粘贴到您的 linux 机器上...也许在每个 printf 之后放置 sleep(5) 并查看递归实际上是如何工作的！...希望这会有所帮助...我还将在这里分享我的系统的输出：

```
Entering: findMaxHelper(A, left = 0 ,right = 7)

     Entering: findMaxHelper(A, left = 0 ,right = 3)

         Entering: findMaxHelper(A, left = 0 ,right = 1)

         Leaving: findMaxHelper(A, left = 0 ,right = 1)| returning 34

         Entering: findMaxHelper(A, left = 1 ,right = 3)

             Entering: findMaxHelper(A, left = 1 ,right = 2)

             Leaving: findMaxHelper(A, left = 1 ,right = 2)| returning 3

             Entering: findMaxHelper(A, left = 2 ,right = 3)

             Leaving: findMaxHelper(A, left = 2 ,right = 3)| returning 47

         Leaving: findMaxHelper(A, left = 1 ,right = 3)| returning max2=47

     Leaving: findMaxHelper(A, left = 0 ,right = 3)| returning max2=47

     Entering: findMaxHelper(A, left = 3 ,right = 7)

         Entering: findMaxHelper(A, left = 3 ,right = 5)

             Entering: findMaxHelper(A, left = 3 ,right = 4)

             Leaving: findMaxHelper(A, left = 3 ,right = 4)| returning 91

             Entering: findMaxHelper(A, left = 4 ,right = 5)

             Leaving: findMaxHelper(A, left = 4 ,right = 5)| returning 32

         Leaving: findMaxHelper(A, left = 3 ,right = 5) | returning max1=91

         Entering: findMaxHelper(A, left = 5 ,right = 7)

             Entering: findMaxHelper(A, left = 5 ,right = 6)

             Leaving: findMaxHelper(A, left = 5 ,right = 6)| returning 0

             Entering: findMaxHelper(A, left = 6 ,right = 7)

             Leaving: findMaxHelper(A, left = 6 ,right = 7)| returning 0

         Leaving: findMaxHelper(A, left = 5 ,right = 7)| returning max2=0

     Leaving: findMaxHelper(A, left = 3 ,right = 7) | returning max1=91

 Leaving: findMaxHelper(A, left = 0 ,right = 7)| returning max2=91

And The Answer Is = 91 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:16:10.027

`findMaxHelper`每次将数组分成两半，并在left，right中找到最大值：

例如你有数组`A = [1, 3, 5, 8]`，调用`findMax(A)`-> `findMaxHelper(A, 0, A.length)`：

```
 max1 | max2
     1 3  | 5 8

max1|max2 | max1|max2
1   |3    | 5   |8 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2016-11-17T04:56:51.860

```
#include<stdio.h>
#include<stdlib.h>

int high,*a,i=0,n,h;
int max(int *);

int main()
{

    printf("Size of array: ");
    scanf("%d",&n);

    a=(int *)malloc(n*sizeof(int));         //dynamic allocation
    for(i=0;i<n;i++)
    {
        scanf("%d",(a+i));
    }
        i=0;
    high=*a;
    h=max(a);
    printf("The highest element is %d\n",h);
}

int max(int *a)
{

    if(i<n)
    {   
        if(*(a+i)>high)
        {high=*(a+i);}
    i++;
    max(a);                     //recursive call
    }

    return high;
} 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2016-02-22T00:19:45.863

Basically finding max in array is not recommended by recursion as it is not required. Divide and conquer algorithms(recursive) are more time costly. But even though if you want to use it, you can use my below algorithm. Basically, it brings the largest element of array at first position and has almost linear running time.(This algo is just a recursive-illusion though!):

```
 int getRecursiveMax(int arr[], int size){
          if(size==1){
                      return arr[0];
          }else{
                 if(arr[0]< arr[size-1]){
                                      arr[0]=arr[size-1];
                     }
                 return(getRecursiveMax(arr,size-1));
            }

          } 
```

# php - 管理连接日期和时间

> ID：13117163
> 
> 赞同：0
> 
> 时间：2012-10-29T06:58:56.530
> 
> 标签：php, connection

我在管理数小时的连接时遇到了一些麻烦。

实际上，我只允许我的用户在几个小时和几天内连接到该区域，例如周一上午 9 点到下午 6 点。为此，我已经在数据库中注册了日期以及他们被授权登录的时间。

该脚本检查所有这些详细信息，如果现在是用户可以登录的好时机，如果不是，它会显示一条带有好时间和小时数的消息。

下面是我的代码：

```
if (isset($_POST['connexion_x'])) { 
   if ((isset($_POST['pseudo']) && !empty($_POST['pseudo'])) && (isset($_POST['pass']) && !empty($_POST['pass']))) { 

 $mysql_host = "localhost";
$mysql_database = "users";
$mysql_user = "root";
$mysql_password = "";
      $base = mysql_connect ('localhost', 'root', ''); 
      mysql_select_db ('users', $base); 

       $sql='SELECT login, pass_md5, depart, fin, j1, j2, j3, j4, j5, j6, j0 FROM `gestionnaire` WHERE `login`="'.mysql_real_escape_string($_POST['pseudo']).'"';
     $req=mysql_query($sql) or die;
     $data=mysql_fetch_assoc($req); 

      // si on obtient une réponse, alors l'utilisateur est un membre
      if ($data['login']==$_POST['pseudo'] AND md5($_POST['pass'])==$data['pass_md5']) { 
    $today_depart = strtotime(date('Y-m-d ').$data['depart']);
   $today_fin = strtotime(date('Y-m-d ').$data['fin']);
   $time = time();
   $i = date('w');
   if($data['j'.$i.'']==0)
   { $jour= "demain" ;}
   if($data['j'.$i.'']==1)
   { $jour= "aujourd'hui" ;}
        if( $time > $today_depart AND  $time < $today_fin AND $data['j'.date('w').'']='1'){

         session_start(); 
         $sql="INSERT INTO `session` SET
`temps` = now(),
`login`='".$data['login']."',
`mouvement`='1'";  
mysql_query($sql) or die;

          $_SESSION['id'] = $data['id']  ;
          $users['id'] = $_SESSION['id'] ;
          $_SESSION['login'] = $data['login'];
         header('Location: GESTION/index.php'); 
         exit(); 
      } 
      else
        {;

             $erreur = '<font color=red>Vous n\'&ecirc;tes pas autoris&eacute; &agrave; vous connecter, revenez '.$jour.' &agrave; '.date('H', strtotime($data['depart'])).' h '.date('i', strtotime($data['depart'])).'.</font>'; 
        }

    }
      // si on ne trouve aucune réponse, le visiteur s'est trompé soit dans son login, soit dans son mot de passe
      elseif ( md5($_POST['pass'])!=$data['pass_md5']) { 
         $erreur = '<font color=red>Compte non reconnu.</font>'; 
      } 
      // sinon, alors la, il y a un gros problème :)
      else { 
         $erreur = '<font color=red>Probème dans la base de données : plusieurs membres ont les mêmes identifiants de connexion.</font>'; 
      } 
   } 
   else { 
      $erreur = '<font color=red>Au moins un des champs est vide.</font>'; 
   }  
}  
} 
```

真正的麻烦不在于该代码可以正常工作。唯一的问题是我实际上使用服务器的时间但是如果我有一些海外用户的时间不同，我怎样才能让他们登录，他们不能与我国家的用户同时登录.

而且如果我用他们电脑的时间，他们就可以改变他们的时钟，所以我真的不知道该怎么做。

任何帮助将不胜感激。

# objective-c - 是否有可以获取列数组的文字？

> ID：13117164
> 
> 赞同：0
> 
> 时间：2012-10-29T06:59:17.910
> 
> 标签：objective-c

我试图在没有 NSDictionary 的情况下获得如下所示的列数组。它运作良好。

但我想知道objective-c 文字是否支持此功能。

有这样的文字吗？

例如 array[][0]?、array[*][0]、array[?][0] 等等...？

```
NSArray *array1 = @[@"AAa", @"BBB", @"CCC"];
NSArray *array2 = @[@"AAb", @"BBB", @"CCC"];
NSArray *array3 = @[@"AAc", @"BBB", @"CCC"];

array = @[array1, array2, array3];

NSArray *result;
result = [self getColumnArray:0]; // <- get array's [*][0]
NSLog(@"result is : %@", result);

result = [self getColumnArray:2]; // <- get array's [*][2]
NSLog(@"result is : %@", result);

- (NSArray *)getColumnArray:(NSUInteger)index {
    NSMutableArray *resultArray = [NSMutableArray array];

    for (NSArray *item in array) {
        [resultArray addObject:item[index]];
    }

    return resultArray;
}

Excuted result :

2012-10-29 16:00:24.550 testButton[28245:11303] result is : (
    AAa,
    AAb,
    AAc
)
2012-10-29 16:00:24.552 testButton[28245:11303] result is : (
    CCC,
    CCC,
    CCC
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:06:16.763

是的可能...请参阅解决方案的链接 [http://clang.llvm.org/docs/ObjectiveCLiterals.html](http://clang.llvm.org/docs/ObjectiveCLiterals.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:09:31.240

以下代码将起作用：

```
NSArray *arr = @[ @[@"A", @"B"], @[@"C", @"D"]];
NSLog(@"%@", array[0][0]); // Logs 'A' 
```

因此，您可以执行以下操作来达到您想要的效果：

```
// Log the 0 element of each NSArray within your primary array.
NSArray *primaryArray = @[ @[@"A", @"1"], @[@"A", @"2"], @[@"A", @"3"] ];
for (int i = 0; i < array.count; i++) {

     NSLog(@"%@", primaryArray[i][0]); // Logs "AAA"

}
// Or you can use a for (NSArray *arr in primaryArray) fast-enumeration loop. 
```

据我所知，没有以下语法：

```
NSLog(@"%@", primaryArray[*][0]); // Could log "AAA" 
```

有几个原因。

1.  没有指定primaryArray 的长度。
2.  NSLog 不知道它需要多少`%@`（其他用途的类似原因，例如你会怎么做`return primaryArray[*][0]`？）
3.  You are condensing an O(n) process into a single call. This could be forgiven if there was documented API for it.
4.  For this to be possible, the * operator would have to be overloaded (in this case to a 'wildcard' function) and Objective-C does not support operator overloading (except when done inside the compiler, which I suppose is no longer 'operator overloading' but 'adding a language feature'). Also, `*` already denotes a pointer in C and `?` is used in the `?:` ternary operator.
5.  Objective-C already has a fast-enumeration structure which handles these situations, if this syntax were to be added, you'd be reinventing the wheel a little.

In short, a fast-enumeration loop is the best way to do what you want, and the nested `[i][0]` box syntax aids its readability slightly. I agree the wildcard syntax would be very handy in some cases (such as logging and enumeration), but I think it would be too difficult to implement succinctly across the board. Plus, since they overloaded `^` for blocks, they're running out of usable operators!

# c# - 我想应用 gmail api 向该 ID 上的联系人发送邀请请求？

> ID：13117166
> 
> 赞同：0
> 
> 时间：2012-10-29T06:59:23.960
> 
> 标签：c#

实际上，我正在寻找一个 gmail api 来向该帐户上的联系人发送邀请请求。

我正在申请，但我没有得到正确的结果。

给我可以正常工作的适当 API。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-05T11:12:59.930

阅读此 [https://developers.google.com/google-apps/provisioning/limits](https://developers.google.com/google-apps/provisioning/limits) 可能存在一些限制，因此最好找到一些第三方 api

如果符合您的要求，请尝试此操作 [https://www.prefinery.com/api/v2/docs/friend_invitations](https://www.prefinery.com/api/v2/docs/friend_invitations)

# android-layout - 带有@id 的layout_below 不工作但@+id 工作

> ID：13117167
> 
> 赞同：0
> 
> 时间：2012-10-29T06:59:24.277
> 
> 标签：android-layout

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:padding="20dp">

<RelativeLayout
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@drawable/content">

<ImageView
android:id="@+id/idcontentline"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="center|top"
android:src="@drawable/line"
android:layout_marginTop="10dp"
android:layout_marginBottom="10dp"
android:layout_centerHorizontal="true"/>

<ScrollView
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_below="@+id/idcontentline"
android:layout_centerHorizontal="true"
android:scrollbarStyle="insideInset"
android:scrollbars="vertical" >

<TextView
android:id="@+id/idcontenttext"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:text="this is a sample" />

</ScrollView>

</RelativeLayout>

</RelativeLayout> 
```

当我使用 android:layout_below="@+id/idcontentline" 时，一切都是正确的，并且 textview 低于 imageview。但是当使用 @id 而不是 @+id 时，它不起作用。

怎么了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:04:51.057

> 字符串开头的符号 (@) 表示 XML 解析器应该解析和扩展 ID 字符串的其余部分，并将其标识为 ID 资源。加号 (+) 表示这是一个新资源名称，必须创建并添加到我们的资源中（在 R.java 文件中）。Android 框架提供了许多其他 ID 资源。引用 Android 资源 ID 时，不需要加号，但必须添加 android 包命名空间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T12:01:06.787

清理项目几次，就可以了。

# sql-server-2008 - SQL server 2008 加密连接

> ID：13117172
> 
> 赞同：0
> 
> 时间：2012-10-29T06:59:58.573
> 
> 标签：sql-server-2008, encryption, certificate, windows-server-2008

`test`我已经在我的 Windows 2008 Server 上创建并安装了一个自签名证书。我已经设置并将证书设置`Force Encryption`为.`Yes``test`

我已导出`test`证书并将其发送给客户。他们已将其安装到 Trusted Authority 商店。他们尝试通过 SQL Management Studio Express 连接到 SQL 服务器`Encrypt connection`。他们收到以下错误：

**与服务器成功建立连接，但在登录前握手期间发生错误。（提供者：TCP 提供者，错误：0 - 不知道这样的主机。）（Microsoft SQL Server，错误：11001）**

请注意，他们可以通过未加密的连接和设置很好地连接到服务器。

我已经尝试了谷歌针对此错误提出的大多数解决方案，但我认为它们中的任何一个都没有处理加密。

我也试过[这种](http://www.sqlservercentral.com/Forums/Topic611829-146-1.aspx)方法，但我仍然得到同样的错误。

我没有`Primary DNS Suffix`设置，如果这对证书有任何影响吗？

编辑：我的目标是以某种方式建立从远程计算机到我的数据库的加密连接，因为我的客户需要它。我们正在考虑 VPN，但如果这可以在 SQL 服务器上完成，则不需要它。

编辑 2：证书“已颁发”字段设置为本地域名（远程计算机无法解析）。这可能是一个问题吗？如果可以解决问题，我可以以某种方式将证书设置为外部 IP 地址吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:25:18.503

owlstead（在评论中）是对的。我必须将 设置`Computer name`为域名和`Primary DNS Suffix`子域名。

# iphone - Iphone 中的 URLScheme

> ID：13117173
> 
> 赞同：1
> 
> 时间：2012-10-29T07:00:03.007
> 
> 标签：iphone, ios

我想在我的 iPhone 应用程序中使用 URL 方案。我想从另一个打开应用程序。

是

```
[UIApplication openURL:] 
```

正确的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:02:24.237

使用下面的教程对您有帮助。 [iOS SDK：使用 URL 方案](http://mobile.tutsplus.com/tutorials/iphone/ios-sdk-working-with-url-schemes/)

# html - 无论浏览器窗口大小如何，都保持我所有的 div 不变

> ID：13117175
> 
> 赞同：1
> 
> 时间：2012-10-29T07:00:10.740
> 
> 标签：html, css

所以我对网页设计/开发很陌生，并且一直在做一个简单的网站，它做的不多，只是为了掌握它。当我的浏览器处于最大屏幕时，我的网页看起来相当不错，但是当我缩小窗口时，我的所有 div 和一切都在移动，突然之间它看起来一团糟。我怎样才能让这不会发生。

这是代码以防万一……对于有经验的人来说，这可能看起来很乱，但无论如何：

样式.CSS 文件

```
 body{
    background-image:   url(Images/background.gif);
    background-repeat:repeat-x;
    background-size: cover;
    }
    .topBar{
    width: 100%;
    top: 0;
    height: 50px;
    position: fixed;
    right: 0;
    -webkit-box-shadow: 0px 0px 8px 0px #000;

    background-image:url(Images/topBar2.gif);
    }
    #logoImage{
    float: left;
    width: 180px;
    height: 50px;
    top: 0;
    margin-left: 380px;
    background-image: url(Images/images/topBar_02.gif);

    }

    .topBar h1{
    float: left;
    margin-left: 400px;
    color: white;
    top: 0;
    font-family: Tahoma, Geneva, sans-serif;
    text-align:justify;
    text-shadow: -1px -1px 1px #000;

    }
    .logoImage {
    top: 0;
    float: left;
    margin-left: 100px;
    }
    #btn{
    cursor:pointer;
    border-radius: 4px;
    border: 1px solid #039;
    font: 16px bold  Tahoma, Geneva, sans-serif;
    color: white;

    background-color: #0499ff;

    padding 4px;

    }
    .searchBox {
    float: right;
    margin-top: 7px;

    padding-right: 500px;

    }
    .searchBox input{
    border-radius: 5px;
    padding:4px;

    color:#666;
    font:  "Times New Roman", Times, serif;

    }

    .topBar img{
    width: 40px;
    height:20px;
    margin: 20px;
    margin-left: 400px;
    }
    .mainLogin{
    border: 1px solid  #999;
    border-radius: 6px;
    width: 300px;
    height: 100px;
    margin-top: 300px;
    float: right;
    margin-right: 500px;
    position: fixed;
    background-image:url(Images/login_back2.gif);
    padding: 20px;

    }
   .mainLogin input{
    border-radius: 5px;
    padding: 4px;

    }
    .username{
    width: 300px;

    }
    #rmbrme{
    float:right;
    color: #999;
    text-shadow:-.3px -.3px .3px #000;
    margin-right: 110px;
    margin-top: 3px;
    font: 10px Georgia, "Times New Roman", Times, serif;

    }
    #rmbrme a{
    text-decoration: none;
    color: #999;
    text-shadow: -.3px -.3px .3px #000;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:06:28.157

响应式设计、媒体查询和流畅的布局是您所追求的（：

[CSS：根据屏幕大小对齐元素](https://stackoverflow.com/questions/12010739/css-align-an-element-based-on-screen-size/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:45:00.307

i would suggest simply make ur outmost div to have position attribute as relative

```
style="position:relative" 
```

then simply position the rest inner elements accordingly , i hope your prob will be fixed

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:20:29.740

好吧，我也是 web 开发的新手，你可以使用一个外部容器来修复你的“视图窗口”的大小，这样在调整浏览器的大小时，你的所有 div 都将保持固定，并且滚动条会出现显示所有数据。

例如，您可以尝试以下操作：

```
<body>
     <div class="outercontainer">
           <div class="innercontainer">
            Do all you stuff here
           </div>
     </div>
</body> 
```

并在 css 表中：

```
.outercontainer{
      height:100%;
      width:100%
}
.innercontainer{
      height:800px;
      width:1200px
} 
```

或类似的东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T07:29:08.213

使用`float:left`and`float:right`不是更好的方法。我猜`position:fixed`标签和浮动标签弄乱了您的网站。

使用单独的对齐类，例如：

```
.leftalign
 { 
   float:left;
   position:static;
 } 
```

# google-bigquery - 分区和全表在 bigquery 性能上的差异

> ID：13117182
> 
> 赞同：1
> 
> 时间：2012-10-29T07:00:41.977
> 
> 标签：google-bigquery

我在 25 个分区（每个 40m）联合和 1 个完整表中有约 10 亿行。我运行一个计算不同计数的查询，通常它会在 1-4 个分区上找到数据。（查询是动态的）基于 where 子句。相同的查询在所有表的联合上运行 30 秒，而在全表上运行 50 秒。处理相同的 GB。首先，出色的性能:-) 问题是： 1.**仅**使用 union vs 1 big table 在性能方面的原则是什么？分区表总是更快吗？2\. 如果它只使用几个分区，为什么要按相同的 GB 向我收费？这意味着我将不得不动态构建查询以选择正确的分区......这是一种负担。（我知道您没有类似 SQL 的优化器，但如果我需要管理分区，我不应该从中受益吗？）

多谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T15:36:48.153

对于您描述的两个查询，BigQuery 仍会处理您的*所有*数据。对于联合查询，数据的布局可能会有些优势，但这并不意味着 BigQuery 所做的工作会减少 - 因此您需要支付相同的费用。如果您可以按照您的建议构建一个仅使用所需分区的查询，那么要处理的数据将更少，因此成本更低。

很难预测将所有数据放在一个表中还是将其分布在多个表中并进行联合查询是否会提高性能。对于这个特定的查询，听起来联合更快，对于其他查询，例如那些可能正在做更多工作的查询，它可能会更慢。

我想说一个经验法则是，如果您可以通过确定需要哪些分区来预先过滤数据，那么您的情况会更好，因为您可以运行更便宜的查询。您的查询不太可能在较小的数据上变慢，而且它们通常可能更快。

我还应该指出，改进在查询中选择多个表的语法（例如，让人们在查询中指定日期范围或通配符）是我们最常要求的功能之一，我们很有可能会做到这一点很快。你的表是如何分区的？什么会使为您的查询指定正确的表变得更简单？

# android - 为什么要使用 AsyncTaskLoader 和 LoaderManager，而不是简单的 Handler？

> ID：13117183
> 
> 赞同：8
> 
> 时间：2012-10-29T07:00:42.197
> 
> 标签：android, multithreading, android-asynctask, android-ui, android-handler

从 UI 线程运行异步任务然后修改 UI 是 android 开发中的一个常见问题，所以我决定花一些时间，研究并尝试不同的技术并找到最适合我的技术。

我认为的重要因素：

*   应该可靠地工作
*   代码可读性
*   `Activity`或者`Fragment`应该尽可能多地保持线程管理的清洁

以下是我对各种方法的印象总结（可能是错误的，有些只是意见）：

## 异步任务

当我第一次进入 Android 时，我使用的是 simple `AsyncTask`without ：`LoaderManager`

*   有间歇性问题，我自己编写`AsyncTaskManager`了活动生命周期来管理它们。
*   任务数量有一些限制，之前已经报告过内存泄漏。
*   这些最大的问题是它们使我的代码非常复杂，并且简化代码首先破坏了使用它们的目的。

## AsyncTaskLoader 和 LoaderManager

这似乎是**推荐**的方法，所以我研究了一下：

*   在阅读了这些之后，似乎推荐这种方法的主要原因是因为它管理具有`Fragment`生命周期的任务，并且据我了解基本上只是在必要时重新启动任务。在活动重新启动后，似乎无法接收在活动重新启动之前启动的任务的结果。
*   所有的任务参数似乎都必须是`Parcelable`或`Serialiazable`进入一个`Bundle`对象。

## 处理程序、线程和消息

这是我确定的方法：

*   易于实施，高度可定制。
*   您可以访问执行任务的线程：设置优先级、设置用于调试的线程名称、设置守护进程等。
*   似乎比使用 AsyncTasks 响应更快，基于我多次单击按钮并观察结果和线程闪烁的眼睛测试；）我可以对此进行基准测试。
*   要处理生命周期问题，可以编写一个管理消息的单例类（在进程处于活动状态时持续存在）。当给定活动的处理程序未设置时存储它们，然后如果它要求其丢失的消息，则将它们转发给活动处理程序。这意味着任务不必使用相同的参数重新启动，这对于非幂等任务至关重要。

* * *

所以我得出的结论是，使用`Handler`,`Threads`和`Messages`是一个更好的解决方案，但我确信我遗漏了一些东西，因为我看到的几乎所有地方都建议使用该`AsyncTaskLoader`方法。我错过了什么？

感谢您的输入。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-29T07:40:01.720

您缺少的是类喜欢`AsyncTask`并且`LoaderManager`是在考虑 Android 的情况下编写的。这意味着，与台式计算机相比，该操作系统旨在充分利用最少的硬件。`AsyncTask`限制你的线程池，因为你有比其他系统更严格的线程限制。如果您尝试生成 100 多个线程，新线程将被拒绝或系统崩溃。您当然可以使用`Thread`and `Handler`，但您需要自行管理它。

上次听说，`AsyncTask`支持 10 个线程，队列深度为 10 个任务（可能在以后的版本中增加了）。如果这是限制性的，您可以随时获取源并编写自己的。我以前做过。您要考虑的重要一点是，我是否会在产生过多线程时遇到麻烦，如果是这样，我将如何处理它。

为了解决您关于为什么建议使用`LoaderManager`and的问题`AsyncTaskLoader`，这只是一种方便。这是一种重新加载数据并将其获取到依赖于该数据的代码部分的简单方法。并非在所有情况下都需要这样做。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-29T09:23:37.173

`Handler`, `Threads`, 和`Messages`是低级类。这为您提供了灵活性——您可以将它们组合起来，以解决您的特定问题。但是，您还需要处理许多低级的事情：停止/启动线程、路由到正确的线程、在重新创建活动时保存/恢复或重新创建实例等。

加载器会为您处理大部分工作，旨在很好地解决一个特定问题——在活动中加载数据。最大的优点是`Activity`(or `FragmentActivity`) 将在重新创建活动时负责管理和重新启动加载程序（在不泄漏的情况下正确执行非常棘手）。它还缓存数据，因此您无需自己执行此操作。也就是说，如果你想做一些稍微不同的事情，使用 Loaders 可能会很尴尬。因此，如果需要更大的灵活性，请考虑`AsyncTask`. 如果这不合适，请降低一级并使用`Threads`and `Handler`。

# java - 替换字节数组中的值产生奇怪的结果

> ID：13117184
> 
> 赞同：0
> 
> 时间：2012-10-29T07:00:49.440
> 
> 标签：java, android, bytearray, byte

所以我通过蓝牙发送一些东西，为此我使用字节数组，我正在使用的字节数组之一我需要在发送之前更改其中一个值，使用这个......

```
private void sendIntensity(int I){
    intensity[3] = (byte) i;
    sendIntensity();
} 
```

原始字节数组是这样组成的：

```
private byte[] intensity = new byte[]{58,0,42,0,10,13} 
```

我从编辑文本中获取强度，获取文本并使用正则表达式找到他们想要使用的强度，我使用

```
int option = Integer.parseInt(text); 
```

要做到这一点。基本上，任何低于 128 的数字都可以正常工作，我可以看到这一点，因为我将值记录在数组中，将其设置为 127 会记录`58, 0, 42, 127, 10, 13`，但是当我执行 128 或超过 128 时，我会在记录它时得到一组奇怪的数据。

我将放入的最大数量是 255。

当我在使用时记录数组中的内容时，`intensity[3] = (byte) 128;`我回来了`50, 0, 42, -17, -66, -128, 10, 13`

当我记录使用 129 时会发生什么时，我会回来`50, 0, 42, -17, -66, -127, 10, 13`

怎么了？为什么我不能`50, 0, 42, 128, 10, 13`像我应该的那样回来？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:03:09.653

那是因为`byte`range 是`[-128, 127]`，如果您尝试设置一个大于 a 的值`127`，`byte`它会往返于`-128`，`-127`依此类推。

来自 SCJP 6 书：

```
byte a = (byte) 128; 
```

> (...) 结果是什么？当您缩小原语时，Java 只是截断不适合的高阶位。换句话说，它会丢失您要缩小到的位左侧的所有位。

更多信息：

*   [Java 原始数据类型](http://www.javacamp.org/javaI/primitiveTypes.html)
*   [Java in a Nutshell: Primitive Data Types](http://docstore.mik.ua/orelly/java-ent/jnut/ch02_04.htm)，检查**类型转换**部分，*缩小转换*部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:04:09.950

这仅仅是由于 java 中的字节特性从 -128 到 128 仅此而已

# asp.net-mvc - 第二次单击时如何停用dhtmlx选项卡

> ID：13117190
> 
> 赞同：0
> 
> 时间：2012-10-29T07:01:21.883
> 
> 标签：asp.net-mvc, visual-studio, dhtmlx

我正在使用 DHTMLX 选项卡，就我而言，最初我的选项卡处于`InActive`状态。当用户最初单击时，选项卡会出现`Active`并使用`setContentHref()`.

同样，如果我第二次单击同一选项卡，我不想显示内容并且选项卡进入初始状态。

为此，我已经实现了

```
tabbar.attachEvent("onTabClick", function (id, prevId) {
                    alert(id); alert(prevId);
                    if (id == prevId) {
                       tabbar.setTabInActive(id);
                       return true;
                    }
                }); 
```

但选项卡没有进入`InActive`状态。你能告诉我怎么做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-31T10:31:14.180

onTabClick 在选择选项卡之前发生，并且 setTabInActive 不会阻止选择。因此，您需要设置 onSelect 处理程序，例如：

```
var disabledTab;
tabbar.attachEvent("onTabClick", function (id, prevId) {
    if (id == prevId) {
       tabbar.setTabInActive(id);
       disabledTab = id;
    }
});
tabbar.attachEvent("onSelect", function (id, prevId) {
    if (id == disabledTab) {
        return false;
    }
    disabledTab = null;
    return true
}); 
```

# javascript - 用于更改背景的 ajax 脚本在 IE 中不起作用

> ID：13117195
> 
> 赞同：0
> 
> 时间：2012-10-29T07:01:45.583
> 
> 标签：javascript, jquery, css, ajax

我正面临 ajax 脚本的问题。我正在使用代码：

```
<script type="text/javascript">

    $(document).ready(function() {
        $('#savecolor').click(function(){     
          var myVar = 'data='+$('#color').val();
          $.ajax({
            type: "POST",
            url: "addcolor.php",
            data: myVar,
            success: function(msg){
            //alert(myVar);
            $('#message').html('Background color has been changed successfully.');
            $(window.parent.document).find('#set').css('background', msg);
             //$('#set').css('background', msg);
              // window.parent.location.reload(); 

               }
              });
             });
</script> 
```

这段代码工作正常，但在 IE 中这不起作用，我使用的是 jquery-1.7

任何人帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:06:10.587

我认为解决方案是替换`$(window.parent.document).find('#set').css('background', msg);`为`$('#set').css('background', msg);`

用于`alert(msg)`查看函数在 IE 中返回的内容

# javascript - onkeypress 事件监听器不工作

> ID：13117197
> 
> 赞同：0
> 
> 时间：2012-10-29T07:01:52.020
> 
> 标签：javascript, html

我要求不使用 html 事件处理程序。所以我试图从 script 处理它。我做了一个小功能，但它不起作用

```
<head>
<script type="text/javascript">
function lld () {
    document.getElementById('me').onkeypress= myfunction()
}

function myfunction(){
    alert('hiiiii')
}

</script>
</head>
<body>
    <input type="text" id="me" />
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T07:04:12.947

试试这个

```
document.getElementById('me').onkeypress= myfunction;

function myfunction(){
    alert('hiiiii');
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T07:09:09.507

你可以看看这个[小提琴](http://jsfiddle.net/DQTTe/)

**JS代码**

```
function myfunction() {
    alert('hiiiii');
}

document.getElementById('me').onkeypress= myfunction; 
```

​</p>

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T07:03:43.470

`myfunction()`是函数返回的值。您需要设置`onkeypress`为函数本身，而不是返回值：

```
document.getElementById('me').onkeypress= myfunction; 
```

整个代码可能是：

```
<script type="text/javascript">
function myfunction(){
    alert('hiiiii')
}

window.onload=function(){
   document.getElementById('me').onkeypress= myfunction;
}
</script> 
```

# mongoid - 您如何查询嵌入文档中不等于 mongoid 值的内容？

> ID：13117208
> 
> 赞同：0
> 
> 时间：2012-10-29T07:02:42.913
> 
> 标签：mongoid

我知道如何使用以下语法查找等于某个值的嵌入文档：

```
Location.where("address.country" => 'USA').first 
```

但是当它不等于该值时，您如何查询呢？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:04:43.660

一方面，您可以使用标准的 mongodb [$ne 运算符](http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24ne)。

```
Location.where("address.country" => {'$ne' => 'USA'}).first 
```

用mongoid你可以用一点糖

```
Location.where(:"address.country".ne => 'USA').first
#              ^ note the colon here. It converts string to symbol. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T13:30:07.163

你也可以用这个，

`Location.where("address.country".to_sym.ne => ['Australia', 'India'])`

# c++ - 为什么解析二进制数据时 memcpy 比 reinterpret_cast 慢？

> ID：13117211
> 
> 赞同：10
> 
> 时间：2012-10-29T07:03:04.910
> 
> 标签：c++, performance

### TLDR：我忘记启用编译器优化。启用优化后，性能（几乎）相同。

### 原帖

从二进制数据中读取整数时，我注意到 memcpy 比强制转换解决方案慢。

版本 1：reinterpret_cast，由于潜在的对齐问题而异味，但也更快（？）

```
int get_int_v1(const char * data) { return *reinterpret_cast<const int*>(data); } 
```

版本 2：memcpy，正确且慢一点：

```
int get_int_v2(const char * data) { int result; memcpy(&result, data, sizeof(result)); return result; } 
```

我[在 Ideone 上有一个基准](http://ideone.com/6LEmA3)。

为了将来参考，代码是：

```
#include <cstdlib>
#include <cstdio>
#include <cstring>
#include <ctime>
#include <iostream>
#include <vector>
#include <sys/time.h>

double get_current_time()
{
    timeval tv;
    gettimeofday(&tv, NULL);
    return double (tv.tv_sec) + 0.000001 * tv.tv_usec;
}

int get_int_v1(const char * data) { return *reinterpret_cast<const int*>(data); }
int get_int_v2(const char * data) { int result; memcpy(&result, data, sizeof(result)); return result; }

const unsigned iterations = 200 * 1000 * 1000;

double test_v1(const char * c, unsigned & prevent_optimization)
{
    double start = get_current_time();
    for (unsigned i = 0; i != iterations; ++i)
    {
        prevent_optimization += get_int_v1(c);
    }
    return get_current_time() - start;
}

double test_v2(const char * c, unsigned & prevent_optimization)
{
    double start = get_current_time();
    for (unsigned i = 0; i != iterations; ++i)
    {
        prevent_optimization += get_int_v2(c);
    }
    return get_current_time() - start;
}

int main()
{
    srand(time(0));

    // Initialize data
    std::vector<int> numbers(1000);
    for (std::vector<int>::size_type i = 0; i != numbers.size(); ++i)
    {
        numbers[i] = i;
    }

    // Repeat benchmark 4 times.
    for (unsigned i = 0; i != 4; ++i)
    {
        unsigned p = 0;
        std::vector<int>::size_type index = rand() % numbers.size();
        const char * c = reinterpret_cast<const char *>(&numbers[index]);    
        std::cout << "v1: " << test_v1(c, p) << std::endl;
        std::cout << "v2: " << test_v2(c, p) << std::endl << std::endl;
    }
} 
```

结果是：

```
v1: 0.176457
v2: 0.557588

v1: 0.17654
v2: 0.220581

v1: 0.176826
v2: 0.22012

v1: 0.176131
v2: 0.220633 
```

我的问题是：

*   我的基准测试正确吗？
*   如果是，那么为什么 v2（带有 memcpy）较慢？由于两个版本都返回数据的副本，我认为性能应该没有差异。
*   如何实施正确且快速的解决方案？

### 更新

我很傻，忘了考虑 Ideone 不执行编译器优化。我还稍微调整了代码并提出了以下内容：

```
#include <algorithm>
#include <cstdlib>
#include <cstdio>
#include <cstring>
#include <ctime>
#include <iomanip> 
#include <iostream> 
#include <vector>
#include <sys/time.h>

double get_current_time()
{
    timeval tv;
    gettimeofday(&tv, NULL);
    return double (tv.tv_sec) + 0.000001 * tv.tv_usec;
}

struct test_cast
{
    int operator()(const char * data) const 
    {
        return *((int*)data);
    }
};

struct test_memcpy
{
    int operator()(const char * data) const 
    {
        int result;
        memcpy(&result, data, sizeof(result));
        return result;
    }
};

struct test_std_copy
{
    int operator()(const char * data) const 
    {
        int result;
        std::copy(data, data + sizeof(int), reinterpret_cast<char *>(&result));
        return result;
    }
};

enum
{
    iterations = 2000,
    container_size = 2000
};

std::vector<int> get_random_numbers()
{
    std::vector<int> numbers(container_size);
    for (std::vector<int>::size_type i = 0; i != numbers.size(); ++i)
    {
        numbers[i] = rand();
    }
    return numbers;
}

std::vector<int> get_random_indices()
{
    std::vector<int> numbers(container_size);
    for (std::vector<int>::size_type i = 0; i != numbers.size(); ++i)
    {
        numbers[i] = i;
    }
    std::random_shuffle(numbers.begin(), numbers.end());
    return numbers;
}

template<typename Function>
unsigned benchmark(const Function & f, unsigned & counter)
{
    std::vector<int> container = get_random_numbers();
    std::vector<int> indices = get_random_indices();
    double start = get_current_time();
    for (unsigned iter = 0; iter != iterations; ++iter)
    {
        for (unsigned i = 0; i != container.size(); ++i)
        {
            counter += f(reinterpret_cast<const char*>(&container[indices[i]]));
        }
    }
    return unsigned(0.5 + 1000.0 * (get_current_time() - start));
}

int main()
{
    srand(time(0));
    unsigned counter = 0;

    std::cout << "cast:      " << benchmark(test_cast(),     counter) << " ms" << std::endl;
    std::cout << "memcpy:    " << benchmark(test_memcpy(),   counter) << " ms" << std::endl;
    std::cout << "std::copy: " << benchmark(test_std_copy(), counter) << " ms" << std::endl;
    std::cout << "(counter:  " << counter << ")" << std::endl << std::endl;

} 
```

结果现在几乎相等（除了`std::copy`由于某种原因较慢）：

```
g++ -o test -O0 -Wall -Werror -Wextra -pedantic-errors main.cpp
cast:      56 ms
memcpy:    60 ms
std::copy: 290 ms
(counter:  2854155632)

g++ -o test -O1 -Wall -Werror -Wextra -pedantic-errors main.cpp
cast:      9 ms
memcpy:    14 ms
std::copy: 20 ms
(counter:  3524665968)

g++ -o test -O2 -Wall -Werror -Wextra -pedantic-errors main.cpp
cast:      4 ms
memcpy:    5 ms
std::copy: 20 ms
(counter:  2590914608)

g++ -o test -O3 -Wall -Werror -Wextra -pedantic-errors main.cpp
cast:      4 ms
memcpy:    5 ms
std::copy: 18 ms
(counter:  2590914608) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T09:41:17.537

您需要查看发出的代码。显然，优化器“应该”能够将`memcpy`转换为单个潜在未对齐`int`大小的读取到返回值，但是如果您看到不同的时间，那么我认为 x86 意味着它没有。

在我的机器上，使用 gcc`-O2`总是得到 0.09。我`-O3`总是得到 0 （我没有检查这是否比时间粒度更快，或者优化器是否删除了你的所有代码）。

所以很有可能，答案只是你没有使用正确的编译器标志（或者 ideone 没有）。

在可能未对齐的读取需要与对齐读取不同的指令的架构上，然后`reinterpret_cast`可能会发出对齐的读取，而`memcpy`可能必须发出未对齐的读取（取决于函数的调用方式——在这种情况下，数据实际上是对齐但我不知道编译器在什么条件下可以证明）。在那种情况下，我希望`reinterpret_cast`代码可能比 更快`memcpy`，但是在有人传入未对齐指针的情况下，这当然是不正确的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-29T07:06:10.627

强制转换是**编译时**操作，`memcpy()`而是**运行时**操作。这就是铸造对运行时间没有影响的原因。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-29T07:33:36.010

`memcpy`无法复制到寄存器，它会进行内存到内存的复制。`reinterpret_cast`in可以更改寄存器中保存的`get_int_v1`指针类型，甚至不需要寄存器到寄存器的副本。

# google-maps - 如何从地图上的注册地点禁用信息窗口？

> ID：13117218
> 
> 赞同：3
> 
> 时间：2012-10-29T07:03:40.153
> 
> 标签：google-maps, google-maps-api-3

嗨，谷歌地图新手。我使用 gmaps jquery 插件来显示地图。在这方面，我在某些位置有自己的标记和折线，并在单击这些标记时显示信息窗口。但是像crissy field这样的区域我没有定义任何标记或折线，但是当点击它时，默认情况下会得到信息窗口。如何删除该信息窗口请帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:09:20.263

InfoWindows 有一个 close() 函数。只需跟踪最后打开的窗口，并在创建新窗口时对其调用 close 函数。

此演示 (http://www.lootogo.com/googlemapsapi3/markerPlugin.html) 具有您正在寻找的功能。我在 Maps API V3 演示库中找到了它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:22:44.260

[我认为阻止这些信息窗口打开的唯一方法是使用styled maps](https://developers.google.com/maps/documentation/javascript/styling)关闭 POI ，例如：

```
[
  {
    "featureType": "poi",
    "stylers": [
      { "visibility": "off" }
    ]
  }
] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:35:22.763

```
var stylesArray = [
  {
    featureType: '',
    elementType: '',
    stylers: [
      {hue: ''},
      {saturation: ''},
      {lightness: ''},
      // etc...
    ]
  },
  {
    featureType: '',
    // etc...
  }
] 
```

您可以更改其功能，例如完全隐藏该功能，如下所示

```
stylers: [
  { visibility: "off" }
] 
```

如果您使用的是 version3，您可以参考以下有关 poi 的链接

[https://developers.google.com/maps/documentation/javascript/styling](https://developers.google.com/maps/documentation/javascript/styling)

希望这会有所帮助：D

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-09-25T17:24:58.077

防止这种行为的最简单和最有效的方法是`stop()`在附加到 Map 实例的单击事件上调用该方法。

```
map.addListener("click", e => e.stop()); 
```

# wpf - 自定义面板 InternalChildren 订单与绑定的 ItemsSource 不同

> ID：13117220
> 
> 赞同：0
> 
> 时间：2012-10-29T07:03:45.707
> 
> 标签：wpf, panel, itemscontrol, itemssource

我正在编写一个自定义 ItemsControl 和 Panel，它按照将项目添加到绑定到 ItemsControl 的 ItemsSource 的顺序垂直排列项目。 **请注意，这只是最终 Panel 的原型，其安排会更复杂一些。因此，我对备用小组建议不感兴趣。**

ItemsControl 从绑定的集合中涓流馈送 Panel 项目，因此集合中的项目不会“同时”出现（Panel 引发一个事件表示它已准备好，ItemsControl 捕获该事件以释放下一个项目）。问题是，出于某种原因，面板上的 ArrangeOverride 有时会决定应将项目添加到已渲染的视觉效果的中间，从而导致东西跳来跳去。

目前，我只需单击测试视图上的“添加”按钮即可将项目添加到绑定的 ItemsSource 集合的末尾。因此，在发生这种涓涓馈送时，可以从绑定集合中添加/删除项目。当面板呈现这些“新”项目时，它们被添加到看似随机的位置。

我`Trace.Write`在整个代码中都添加了 s，以便我可以看到项目已成功添加到集合的末尾，并确认 InternalChildren 被随机插入到中间。我什至实现了一个 CollectionViewSource 来强制对项目进行排序。即使在那时，InternalChildren 也对底层 ItemsSource 给出了不同的顺序。

我唯一能想到的是，在涓流喂养期间以某种方式添加项目会导致某种竞争条件，但这一切都在 UI 线程上，我仍然不明白为什么 ItemsControl 上的顺序是正确的，但不是面板上。

如何将 Panel 上的 InternalChildren 的顺序与绑定的 ItemsControl 同步，以便视觉对象以正确的顺序显示？

**更新**

根据要求，这里有一些代码。完整解决方案中有很多内容，因此我将尝试仅在此处发布相关位。因此，这段代码不会运行，但它应该给你一个想法。我已经删除了所有`Trace.WriteLine`代码，还有很多我认为对于解决手头问题并不重要的附加代码。

我有一个`StaggeredReleaseCollection<T>`which extends `ObservableCollection<T>`。添加到集合中的项目保存在单独的“HeldItems”集合中，直到它们准备好通过“Kick”方法（on `IFlushableCollection`）移动到继承的“Items”集合中。

```
public class StaggeredReleaseCollection<T> : ObservableCollection<T>, IFlushableCollection
    {
        public event EventHandler<PreviewEventArgs> PreviewKick;
        public event EventHandler HeldItemsEmptied;

        ExtendedObservableCollection<T> _heldItems;
        ReadOnlyObservableCollection<T> _readOnlyHeldItems;

        public StaggeredReleaseCollection()
        {
            //Initialise data
            _heldItems = new ExtendedObservableCollection<T>();
            _readOnlyHeldItems = new ReadOnlyObservableCollection<T>(_heldItems);

            _heldItems.CollectionChanged += (s, e) =>
            {
                //Check if held items is being emptied
                if (e.Action == NotifyCollectionChangedAction.Remove && !_heldItems.Any())
                {
                    //Raise event if required
                    if (HeldItemsEmptied != null) HeldItemsEmptied(this, new EventArgs());
                }
            };
        }

        /// <summary>
        /// Kick's the first held item into the Items collection (if there is one)
        /// </summary>
        public void Kick()
        {
            if (_heldItems.Any())
            {
                //Fire preview event
                if (PreviewKick != null)
                {
                    PreviewEventArgs args = new PreviewEventArgs();
                    PreviewKick(this, args);
                    if (args.IsHandled) return;
                }

                //Move held item to Items
                T item = _heldItems[0];
                _heldItems.RemoveAt(0);
                Items.Add(item);

                //Notify that an item was added
                OnCollectionChanged(new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Add, item));
            }
        }
    } 
```

我还有一个`VerticalStackFlushPanel`我正在构建的原型面板。该面板应将所有项目垂直放置在其表面上。添加项目时，Phase1 动画开始。完成后会引发一个事件，以便可以添加下一个项目。

```
public class VerticalStackFlushPanel : FlushPanel
{
    /// <summary>
    /// Layout vertically
    /// </summary>
    protected override Size MeasureOverride(Size availableSize)
    {
        Size desiredSize = new Size();
        for (int i = 0; i < InternalChildren.Count; i++)
        {
            UIElement uie = InternalChildren[i];
            uie.Measure(availableSize);
            desiredSize.Height += uie.DesiredSize.Height;
        }
        return desiredSize;
    }

    /// <summary>
    /// Arrange the child elements to their final position
    /// </summary>
    protected override Size ArrangeOverride(Size finalSize)
    {
        double top = 0d;
        for (int i = 0; i < InternalChildren.Count; i++)
        {
            UIElement uie = InternalChildren[i];
            uie.Arrange(new Rect(0D, top, finalSize.Width, uie.DesiredSize.Height));
            top += uie.DesiredSize.Height;
        }
        return finalSize;
    }

    public override void BeginPhase1Animation(DependencyObject visualAdded)
    {
        //Generate animation
        var da = new DoubleAnimation()
        {
            From = 0d,
            To = 1d,
            Duration = new Duration(TimeSpan.FromSeconds(1)),
        };

        //Attach completion handler
        AttachPhase1AnimationCompletionHander(visualAdded, da);

        //Start animation
        (visualAdded as IAnimatable).BeginAnimation(OpacityProperty, da);
    }

    public override void BeginPhase2Animation(DependencyObject visualAdded)
    {
        TextBlock tb = FindVisualChild<TextBlock>(visualAdded);
        if (tb != null)
        {
            //Generate animation
            var ca = new ColorAnimation(Colors.Red, new Duration(TimeSpan.FromSeconds(0.5)));
            SolidColorBrush b = new SolidColorBrush(Colors.Black);

            //Set foreground
            tb.Foreground = b;

            //Start animation
            b.BeginAnimation(SolidColorBrush.ColorProperty, ca);

            //Generate second animation
            AnimateTransformations(tb);
        }
    }
} 
```

`FlushPanel`所基于的摘要`VerticalStackFlushPanel`处理阶段 1 动画事件的引发。出于某种原因，OnVisualChildrenChanged 在 Kick() 方法期间不会触发，`StaggeredReleaseCollection`除非我自己明确提出 OnCollectionChanged 事件（也许这是一个危险信号？）。

```
public abstract class FlushPanel : Panel
{

    /// <summary>
    /// An event that is fired when phase 1 of an animation is complete
    /// </summary>
    public event EventHandler<EventArgs<object>> ItemAnimationPhase1Complete;

    /// <summary>
    /// Invoked when the <see cref="T:System.Windows.Media.VisualCollection"/> of a visual object is modified.
    /// </summary>
    /// <param name="visualAdded">The <see cref="T:System.Windows.Media.Visual"/> that was added to the collection.</param>
    /// <param name="visualRemoved">The <see cref="T:System.Windows.Media.Visual"/> that was removed from the collection.</param>
    protected override void OnVisualChildrenChanged(DependencyObject visualAdded, DependencyObject visualRemoved)
    {
        base.OnVisualChildrenChanged(visualAdded, visualRemoved);

        if (visualAdded != null && visualAdded is IAnimatable) BeginPhase1Animation(visualAdded);
    }

    /// <summary>
    /// Begin an animation for Phase 1\.  Use <seealso cref="AttachPhase1AnimationCompletionHander"/> to attach the completed event handler before the animation is started.
    /// </summary>
    /// <returns>An animation that can be used to determine Phase 1 animation is complete</returns>
    public abstract void BeginPhase1Animation(DependencyObject visualAdded);

    /// <summary>
    /// Generate an animation for Phase 2
    /// </summary>
    /// <returns>An animation that can be used to determine Phase 2 animation is complete</returns>
    public abstract void BeginPhase2Animation(DependencyObject visualAdded);

    /// <summary>
    /// Attaches an animation completion handler for the Phase 1 Animation that fires an event when the animation is complete.
    /// </summary>
    /// <remarks>
    /// This event is for when this panel is used on the <see cref="StaggeredReleaseItemsControl"/>, which uses it to kick the next item onto the panel.
    /// </remarks>
    public void AttachPhase1AnimationCompletionHander(DependencyObject visualAdded, AnimationTimeline animation)
    {
        if (animation != null) animation.Completed += (s, e) =>
        {
            //Raise event
            if (ItemAnimationPhase1Complete != null) ItemAnimationPhase1Complete(this, new EventArgs<object>(visualAdded));

            //Start next phase
            BeginPhase2Animation(visualAdded);
        };
    }
} 
```

`StaggeredReleaseItemsControl`知道如何处理`IFlushableCollection`和`FlushPanel`（它`StaggeredReleaseCollection<T>`和基于`VerticalStackFlushPanel`）。如果它在运行时找到这些实例，它会协调将项目从 踢`StaggeredReleaseCollection<T>`入`VerticalStackFlushPanel`，等待 Phase1 动画完成，然后踢下一个项目，等等。

它通常会阻止新项目在 Phase1 动画结束之前被踢出，但是我禁用了该部分以加快测试速度。

```
public class StaggeredReleaseItemsControl : ItemsControl
{
    FlushPanel _flushPanel;
    IFlushableCollection _collection;

    /// <summary>
    /// A flag to track when a Phase 1 animation is underway, to prevent kicking new items
    /// </summary>
    bool _isItemAnimationPhase1InProgress;

    static StaggeredReleaseItemsControl()
    {
        DefaultStyleKeyProperty.OverrideMetadata(typeof(StaggeredReleaseItemsControl), new FrameworkPropertyMetadata(typeof(StaggeredReleaseItemsControl)));
    }

    public override void OnApplyTemplate()
    {
        _flushPanel = FindVisualChild<FlushPanel>(this);
        if (_flushPanel != null)
        {
            //Capture when Phase 1 animation is completed
            _flushPanel.ItemAnimationPhase1Complete += (s, e) =>
            {
                _isItemAnimationPhase1InProgress = false;

                //Kick collection so next item falls out (and starts it's own Phase 1 animation)
                if (_collection != null) _collection.Kick();
            };
        }
        base.OnApplyTemplate();
    }

    protected override void OnItemsSourceChanged(System.Collections.IEnumerable oldValue, System.Collections.IEnumerable newValue)
    {
        base.OnItemsSourceChanged(oldValue, newValue);

        //Grab reference to collection
        if (newValue is IFlushableCollection)
        {
            //Grab collection
            _collection = newValue as IFlushableCollection;

            if (_collection != null)
            {
                //NOTE:
                //Commented out to speed up testing
                ////Capture preview kick event
                //_collection.PreviewKick += (s, e) =>
                //{
                //    if (e.IsHandled) return;

                //    //Swallow Kick if there is already a Phase 1 animation in progress
                //    e.IsHandled = _isItemAnimationPhase1InProgress;

                //    //Set flag
                //    _isItemAnimationPhase1InProgress = true;
                //};

                //Capture held items empty event
                _collection.HeldItemsEmptied += (s, e) =>
                {
                    _isItemAnimationPhase1InProgress = false;
                };

                //Kickstart (if required)
                if (AutoKickStart) _collection.Kick();

            }
        }
    }
} 
```

}

该`Generic.xaml`文件组合了一个标准模板。

```
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:si="clr-namespace:AnimatedQueueTest2010.StaggeredItemControlTest.Controls"
>
    <!--StaggeredReleaseItemControl Style-->
    <Style TargetType="{x:Type si:StaggeredReleaseItemsControl}" BasedOn="{StaticResource {x:Type ItemsControl}}">
        <Setter Property="FontSize" Value="20" />
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <si:VerticalStackFlushPanel/>
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary> 
```

我的测试视图相当简单。

```
<Window 
    x:Class="AnimatedQueueTest2010.StaggeredItemControlTest.Views.StaggeredItemControlTestView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:AnimatedQueueTest2010.StaggeredItemControlTest.Controls"
    xmlns:cm="clr-namespace:System.ComponentModel;assembly=WindowsBase"
    Title="StaggeredItemControlTestView" 
    Width="640" Height="480" 
>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <local:StaggeredReleaseItemsControl x:Name="ic" ItemsSource="{Binding ViewModel.Names}" />

        <StackPanel Grid.Row="1" Orientation="Horizontal">
            <StackPanel.Resources>
                <Style TargetType="Button">
                    <Setter Property="MinWidth" Value="80"/>
                    <Setter Property="MinHeight" Value="20"/>
                </Style>
            </StackPanel.Resources>
            <Button x:Name="btnKick" Content="Kick" Click="btnKick_Click"/>
            <Button x:Name="btnAdd" Content="Add" Click="btnAdd_Click"/>
        </StackPanel>

    </Grid>

</Window> 
```

我的 ViewModel 定义了初始状态。

```
public class StaggeredItemControlTestViewModel : INotifyPropertyChanged
{
    public StaggeredReleaseCollection<string> Names { get; set; }

    public StaggeredItemControlTestViewModel()
    {
        Names = new StaggeredReleaseCollection<string>() { "Carl", "Chris", "Sam", "Erin" };
    }

    public event PropertyChangedEventHandler PropertyChanged;
} 
```

后面的代码是供我与之交互的。

```
public partial class StaggeredItemControlTestView : Window
{
    List<string> GenesisPeople = new List<string>() { "Rob", "Mike", "Cate", "Andrew", "Dave", "Janet", "Julie" };
    Random random = new Random((int)(DateTime.Now.Ticks % int.MaxValue));

    public StaggeredItemControlTestViewModel ViewModel { get; set; }

    public StaggeredItemControlTestView()
    {
        InitializeComponent();
        ViewModel = new StaggeredItemControlTestViewModel();
        DataContext = this;
    }

    private void btnKick_Click(object sender, RoutedEventArgs e)
    {
        ViewModel.Names.Kick();
    }

    private void btnAdd_Click(object sender, RoutedEventArgs e)
    {
        //Get a random name
        //NOTE: Use a new string here to ensure it's not reusing the same object pointer
        string nextName = new string(GenesisPeople[random.Next(GenesisPeople.Count)].ToCharArray());

        //Add to ViewModel
        ViewModel.Names.Add(nextName);
    }
} 
```

当它运行时，我点击了几次“添加”按钮，然后点击了几次“踢”按钮，依此类推。正如我之前所说，这些收藏品正在以正确的顺序涓涓细流。但是，在 期间`ArrangeOveride`，InternalChildren 集合偶尔会将新添加的项目报告为位于集合的中间而不是末尾。鉴于通常一次只添加一个项目，我不明白为什么会这样。

为什么 Panel 上的 InternalChildren 显示的顺序与 bound 不同`StaggeredReleaseCollection<T>`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:59:11.673

尤里卡！多亏了 Clemens 的探索，我发现了问题所在。

这个问题与我为什么要提高`OnCollectionChanged`自己有关。我`StaggeredReleaseCollection`在此集合上定义了 Add() 的新定义，以便将项目添加到我持有的集合中（而不是 ObservableCollection 上的基础 Items 集合）。在 Kick() 期间，我`Items.Add(item)`用来将项目从我持有的集合移动到基础集合。

解决方案是改为调用`base.Add(item)`。使用 Reflector 我可以看到 base.Add(item) 已打开`Collection<T>`并且`Items.Add()`基于`IList<T>`. 所以只`base.Add()`包含我在这个解决方案中依赖的所有通知属性。

**在旁边**

我开始怀疑是否有更好的方法是让小组自行控制这一切。如果我允许项目以正常方式累积，也许我可以向视觉效果添加一些属性，以便面板可以监视阶段 1 动画的完成并重新安排下一个项目。

我猜这是我必须探索的东西。

# android - 在android中使用共享偏好？

> ID：13117225
> 
> 赞同：1
> 
> 时间：2012-10-29T07:04:36.500
> 
> 标签：android, sharedpreferences

我是 android 开发的新手，我被困在一个问题上，我需要使用共享首选项。

主.java

```
WebServiceInterface webinterface;

ProgressDialog progdial;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.main);

    handler     =   new Handler();
    webinterface=   new WebServiceInterface(wslogin);

    submit.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            getuser = username.getText().toString();
            getpass = password.getText().toString();

        /*****
             * setting values in HASHMAP 
             * 
             * 
             */

            HashMap<String, Object> map =  new HashMap<String,Object>();
            map.put("username", getuser);
            map.put("password", getpass);

            /*****
             * calling sendRequest() method in WebInterface class
             * 
             */
            webinterface.sendRequest(map);

    //for getting values from preferences
       SharedPreferences prefs = getSharedPreferences(prefName, MODE_PRIVATE);
         String getResponse = prefs.getString("responsevalue", "");
       //but its getting error as showing NULLPOINTERException. 
        System.out.Println("response is -----  " + getResponse);
//here i am getting null value for gerResponse. .....               
        }
    });
} 
```

WebInterface.java（只有类不是活动）

```
public class WebServiceInterface{

public WebServiceInterface(String getstring)
{       
    getWebServiceType = getstring;      
}

public void sendRequest(Map<String, Object> map) {
    // TODO Auto-generated method stub

    Collection<Object> strings = map.values();
    Iterator iterator = strings.iterator();
    while (iterator.hasNext()) {
        getuser = (String) iterator.next();
        ast.add(getuser);
    }

    String password = ast.get(0).toString();
    String username = ast.get(1).toString();

  //calling webservice client to request webserivce code
    RestClient client = new RestClient(
            "http://**********************8");
    client.AddParam("username", username);
    client.AddParam("password", password);

    try {
        client.Execute(RequestMethod.POST);
    } catch (Exception e) {
        e.printStackTrace();
    }
      //getting response back from Restclient and saving in response string. 
    String response = client.getResponse();

   //for setting values in preferences
  SharedPreferences prefs = getSharedPreferences(prefName, MODE_PRIVATE);
     SharedPreferences.Editor editor = prefs.edit();
    editor.putString("responsevalue", response);
   editor.commit();

} 
```

这是我面临的问题：
我想访问 Main.java 文件的 onCreate 块中的响应。**在按钮单击方法中的 Main.java 文件中，我需要在 Webinterface 类中显示带有以下响应的 toast。**

谁能帮我解决这个问题。由于我是 android 开发的新手，任何小的帮助将不胜感激。

以下是堆栈跟踪..

```
10-29 13:07:44.042: I/global(379): Default buffer size used in BufferedReader constructor. It would be better to be explicit if an 8k-char buffer is required.
10-29 13:07:44.062: D/AndroidRuntime(379): Shutting down VM
10-29 13:07:44.062: W/dalvikvm(379): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
10-29 13:07:44.072: E/AndroidRuntime(379): FATAL EXCEPTION: main
10-29 13:07:44.072: E/AndroidRuntime(379): java.lang.NullPointerException
10-29 13:07:44.072: E/AndroidRuntime(379):  at android.content.ContextWrapper.getSharedPreferences(ContextWrapper.java:146)
10-29 13:07:44.072: E/AndroidRuntime(379):  at com.leads.doctorgokhale.Interface.WebServiceInterface.call(WebServiceInterface.java:44)
10-29 13:07:44.072: E/AndroidRuntime(379):  at com.leads.doctorgokhale.Interface.WebServiceInterface.sendRequest(WebServiceInterface.java:39)
10-29 13:07:44.072: E/AndroidRuntime(379):  at com.leads.doctorgokhalenative.Main$2.onClick(Main.java:154)
10-29 13:07:44.072: E/AndroidRuntime(379):  at android.view.View.performClick(View.java:2408)
10-29 13:07:44.072: E/AndroidRuntime(379):  at android.view.View$PerformClick.run(View.java:8816)
10-29 13:07:44.072: E/AndroidRuntime(379):  at android.os.Handler.handleCallback(Handler.java:587)
10-29 13:07:44.072: E/AndroidRuntime(379):  at android.os.Handler.dispatchMessage(Handler.java:92)
10-29 13:07:44.072: E/AndroidRuntime(379):  at android.os.Looper.loop(Looper.java:123)
10-29 13:07:44.072: E/AndroidRuntime(379):  at android.app.ActivityThread.main(ActivityThread.java:4627)
10-29 13:07:44.072: E/AndroidRuntime(379):  at java.lang.reflect.Method.invokeNative(Native Method)
10-29 13:07:44.072: E/AndroidRuntime(379):  at java.lang.reflect.Method.invoke(Method.java:521)
10-29 13:07:44.072: E/AndroidRuntime(379):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
10-29 13:07:44.072: E/AndroidRuntime(379):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
10-29 13:07:44.072: E/AndroidRuntime(379):  at dalvik.system.NativeStart.main(Native Method)
10-29 13:07:44.143: D/dalvikvm(379): GC_FOR_MALLOC freed 3188 objects / 215024 bytes in 64ms 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:09:46.743

Write below code line

```
editor.putString("responsevalue", response); 
```

instead of

```
editor.putFloat("responsevalue", response); 
```

Add Below code into your `onCreate()` method after `setcontentview();`.

```
username = (EditText) findViewById(R.id.username);
password = (EditText) findViewById(R.id.password); 
```

it will solve your problem.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:14:55.960

我的猜测`prefName`是`null`。`getResponse`不应该为空，因为你给它一个空字符串的后备。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:16:58.640

尝试这个

```
SharedPreferences prefs = getSharedPreferences(prefName, MODE_PRIVATE);
    SharedPreferences.Editor editor = prefs.edit();
    if (response == null)
        editor.putString("responsevalue", "response is null");
    else
        editor.putString("responsevalue", response);
    editor.commit(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T07:06:42.400

尝试这个。

更换

```
editor.putFloat("responsevalue", response); to below code

editor.putString("responsevalue", response); 
```

您正在尝试将字符串添加到浮点数并取回字符串，因此您会收到错误消息。

**编辑 ：**

您在初始化之前访问提交（按钮 onClick 事件），所以请初始化它。对用户名、密码编辑文本执行相同操作。

```
submit   = (Button)findViewById(R.id.submit);
username = (EditText) findViewById(R.id.username);
password = (EditText) findViewById(R.id.password); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-29T07:14:03.867

利用

> 放字符串

代替

> putFloat

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-29T08:21:25.310

prefName 在

```
SharedPreferences prefs = getSharedPreferences(prefName, MODE_PRIVATE); 
```

保持任何合理的值，还是未初始化的变量？

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-05-14T16:45:43.103

将上下文对象从 Main.java (Activity) 传递给您的 WebInterface

```
webinterface=   new WebServiceInterface(this,wslogin); 
```

将构造函数更改为：

```
Context mContext;
public WebServiceInterface(Context context, String getstring)
{       
    mContext =context;
    getWebServiceType = getstring;      
} 
```

从您的 WebServiceInterface 显示吐司：

```
 String response = client.getResponse();
 Toast toast = Toast.makeText(mContext, response, duration);
 toast.show(); 
```

# c++ - 关于使用读写在文件中存储结构

> ID：13117231
> 
> 赞同：0
> 
> 时间：2012-10-29T07:05:05.027
> 
> 标签：c++, c, data-structures, struct

我需要使结构中的数据持久化，即想将其存储在一个文件中，并且需要逐个字符地读取该数据...为此，我编写了以下代码...以下代码无法正常工作将结构写入文件（逐个字符）...**我需要逐个字符**

```
struct x *x1=(struct x*)malloc(sizeof(struct x));
x1->y=29;
x1->c='A';
char *x2=(char *)malloc(sizeof(struct x));
char *s=(char *)malloc(sizeof(struct x));
for(i=0;i<sizeof(struct x);i++)
{
    *(x2+i)=*((char *)x1+i);
}
fd=open("rohit",O_RDWR); 
num1=write(fd,x2,sizeof(struct x));
num2=read(fd,s,sizeof(struct x));
for(i=0;i<sizeof(struct x);i++)
     printf(" %d ",*(s+i)); 
```

我可以使用 fread & fwrite ......但我想逐个字符地做那个......所以我正在使用 read & write（它们是直接系统调用 rite）......我无法写入它我的写入功能是显示错误，即它返回-1...上面的代码有什么问题吗...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:13:10.620

看到您将其标记为 C++，我会给您 C++ 的答案。

从我可以从你的代码中看出，你有一个`struct x1`这样的

```
 struct { 
     int  y;
     char c;
 }; 
```

并且您希望将其状态序列化到磁盘和从磁盘序列化，为此我们需要创建一些流插入和流提取操作符；

```
//insertions
std::ostream& operator<<(std::ostream& os, const x& x1) {
     return os << x1.y << '\t' << x1.c;
}
//extration
std::istream& operator>>(std::istream& is, x& x1) {
     return is >> x1.y >> x1.c;
} 
```

现在`x`我们可以做以下事情

```
x x1 { 29, 'A' };
std::ofstream file("rohit");
file << x1; 
```

并反序列化

```
x x1;
std::ifstream file("rohit");
file >> x1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T12:52:56.663

如果需要，您可以使用以下两个功能：

```
int store(char * filename, void * ptr, size_t size)
{
  int fd, n;

  fd = open(filename, O_CREAT | O_WRONLY, 0644);
  if (fd < 0)
    return -1;

  n = write(fd, (unsigned char *)ptr, size);
  if (n != size)
    return -1;

  close(fd);
  return 0;
}

int restore(char * filename, void * ptr, size_t size)
{
  int fd, n;

  fd = open(filename, O_RDONLY, 0644);
  if (fd < 0)
    return -1;

  n = read(fd, (unsigned char *)ptr, size);
  if (n != size)
    return -1;

  close(fd);
  return 0;
} 
```

# mdx - 是否可以在不部署到 pentaho 双服务器的情况下处理和查询蒙德里安立方体？

> ID：13117235
> 
> 赞同：1
> 
> 时间：2012-10-29T07:05:16.340
> 
> 标签：mdx, olap, pentaho, mondrian, olap4j

如果是，请提供参考。我做了一点谷歌搜索没有结果。我想使用 olap4j 来查询多维数据集并在 Web 应用程序中使用结果。但是，我不需要双服务器的任何功能。根据教程，olap 模式必须在双服务器实例上发布。那么是否真的可以独立构建、处理和查询立方体？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T16:02:28.327

看看 Saiku - 这将为您处理 mondrian 的服务器端，并且从头开始构建以进行集成，因此可能比直接使用 olap4j 更容易（saiku 本身当然使用 olap4j）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-05T15:19:53.907

Olap4j 是 Mondrian 的主要编程 API。您不需要 Pentaho BI 服务器即可使用 Mondrian。您应该阅读[本教程](http://olap4j-demo.googlecode.com/svn/trunk/doc/Olap4j_Introduction_An_end_user_perspective.pdf)以帮助您入门。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-13T22:04:11.893

你的意思是你只想在java类或servlet中使用mondrian.jar的API函数，而不是通过JSP页面？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-21T11:51:32.153

您可以在 tomcat 服务器或 saiku 服务器中部署 .xml 文件并运行它。

# jquery - Rails 嵌套表单模型创建失败使用茧静默

> ID：13117237
> 
> 赞同：0
> 
> 时间：2012-10-29T07:05:30.113
> 
> 标签：jquery, ruby-on-rails-3.2, nested-forms, cocoon-gem, attr-accessible

我将 Mongoid 2.4.12 和 Rails 3.2.8 与[cocoon](https://github.com/nathanvda/cocoon)一起使用。我的嵌套表单在前端似乎完美无缺，但嵌套模型和关系没有被保存。

**项目**

```
 include Mongoid::Document
  include Mongoid::Paranoia
  include Mongoid::Timestamps

  belongs_to :user
  has_many :tasks

  accepts_nested_attributes_for :tasks, allow_destroy: true
  attr_accessible :name, :completed, :tasks_attributes

  field :name
  field :completed, type: Boolean

  validates_presence_of :name 
```

**任务**

```
 include Mongoid::Document
  include Mongoid::Paranoia
  include Mongoid::Timestamps

  belongs_to :user
  belongs_to :category
  belongs_to :projects

  accepts_nested_attributes_for :category, allow_destroy: false
  attr_accessible :title, :description

  field :title
  field :description 
```

**项目视图**

```
<%= form_for(@project) do |f| %>
    <% if @project.errors.any? %>
        <div id="error_explanation">
            <h2><%= pluralize(@project.errors.count, "error") %> prohibited this project from being saved:</h2>
            <ul>
                <% @project.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                <% end %>
            </ul>
        </div>
    <% end %>
    <div class="row-fluid field-set">
        <div class="field">
            <%= f.text_field :name, placeholder: 'Name' %>
        </div>
        <div class="buttonset">
            <%= f.radio_button :completed, true, checked: true, class: 'completed-button inline' %>
            <%= label :completed, 'Completed', value: true, class: 'inline' %>
        </div>
    </div>
    <div class="row-fluid tasks-container">
        <%= link_to_add_association 'Add task', f, :tasks, class: 'btn', id: 'task-button' %>
        <%= f.fields_for :tasks do |task| %>
            <%= render 'task_fields', f: task %>
        <% end %>
    </div>
    <%= f.submit 'Save', class: 'btn', id: 'save-button' %>
<% end %> 
```

**任务部分**

```
<div class="new_task">
    <div class="nested-fields task-container">
        <%= link_to_remove_association 'x', f, class: 'close' %>
        <div class="field-set">
            <%= f.collection_select(:category, Category.all, :id, :name, { prompt: 'Task Type' }, { class: 'category-selector' } ) %>
        </div>
        <div class="field-set">
            <%= f.text_field :name, placeholder: 'Name', class: 'name-field' %>
        </div>
        <div class="field-set">
            <%= f.text_field :description, placeholder: 'Description', class: 'description-field' %>
        </div>
    </div>
</div> 
```

这是我的参数：

```
Started POST "/projects" for 127.0.0.1 at 2012-10-29 01:36:01 -0500
Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rNX8DvKuEJgjxBvJ5c5ArTjtIMR5Uy6DtCCou0wHswk=", "project"=>{"name"=>"Example Name", "completed"=>"true", "tasks_attributes"=>{"1351491343724"=>{"_destroy"=>"", "category"=>"5089e01023499d9904000004", "title"=>"Example Title", "description"=>"Example description."}}}, "commit"=>"Save"}
MONGODB myapp_development['users'].find({:deleted_at=>nil, :_id=>BSON::ObjectId('5089a25523499d92d8000004')}).sort([[:_id, :asc]])
MONGODB myapp_development['categories'].find({:deleted_at=>nil, :_id=>BSON::ObjectId('5089e01023499d9904000004')}).sort([[:_id, :asc]])
MONGODB myapp_development['projects'].insert([{"_id"=>BSON::ObjectId('508e23d123499d2a6c00000b'), "name"=>"Example Name", "completed"=>true, "user_id"=>BSON::ObjectId('5089a25523499d92d8000004'), "updated_at"=>2012-10-29 06:36:01 UTC, "created_at"=>2012-10-29 06:36:01 UTC}])
Redirected to http://localhost:3000/projects/508e23d123499d2a6c00000b
Completed 302 Found in 24ms 
```

如您所见，我没有收到任何关于`accepts_nested_attributes_for`等的错误。

在我的`projects#create`操作中，我可以在之后进行调试`@project.save`并看到它`@project.tasks`正确返回了一个任务的数组。然而，这个任务永远不会被创建/插入/保存，之后也没有关系。关于我可能遗漏的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T01:57:30.667

根据[Mongoid 关系文档](http://mongoid.org/en/mongoid/docs/relations.html)，子元素不会自动持久化。我不清楚为什么我的不是，因为`accepts_nested_attributes_for`应该解决这个问题。无论如何，设置`autosave: true`关系将解决我原来的问题。并且为了记录，茧也将与`has_and_belongs_to_many`. 杰出的！

# c++ - C++ 需要一个类型说明符（正则表达式）

> ID：13117246
> 
> 赞同：1
> 
> 时间：2012-10-29T07:06:23.953
> 
> 标签：c++, regex, syntax-error

```
#include <stdio.h>
#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <algorithm>
#include <regex>

using namespace std;

class Parser {
protected:
    // regex: containers
    static const regex rxProc("procedure\s+([\w]+)\s*{");
} 
```

我收到了该`"procedure\s+([\w]+)\s*{"`部分的错误。需要一个类型说明符。我一定做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:15:15.633

查看此处的其他答案以了解您实际询问编译器的内容。如果你想在你的类中创建一个常量 - 我在这里提供了一个解决方案。

在 C++ 中使用静态成员很有趣，但仅适用于 POD（plain-old-data）成员。对于更复杂的成员，事情变得丑陋。即使`char*`这样也不会扩大规模。使用好的旧 C`#define`有时是个好主意——即使在 C++ 中也是如此；

这样的事情将解决您的编译问题。玩`#if 0`触发你的旧代码，并使用编译`g++ -std=gnu++0x -c test1.cpp`

```
#include <stdio.h>
#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <algorithm>
#include <regex>

using namespace std;

#if 0
// my fix

// in your H file
class Parser {
protected:
    // regex: containers
    static const regex rxProc;
};    
// in your CPP file
const regex Parser::rxProc = regex("procedure\\s+([\\w]+)\\s*{");
#else

// your old code
class Parser {
protected:
    // regex: containers
    static const regex rxProc("procedure\\s+([\\w]+)\\s*{");
};
#endif 
```

*（甚至没有涉及使用正则表达式定义语法树的问题......或解析 Pascal 文件......这只是个坏主意，会破坏哦，所以，很多次......只是不要）*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:08:55.700

编译器认为您正在声明一个`rxProc`返回`const regex`并接受一个类型参数的静态函数......然后他无法得到它应该是什么类型。

# c# - 文本框上的java脚本验证已经存在的条件

> ID：13117249
> 
> 赞同：0
> 
> 时间：2012-10-29T07:06:29.163
> 
> 标签：c#, javascript, asp.net, .net

我想在 asp.net 中的文本框上使用 javascript 对文本框的 textchange 事件进行这种类型的验证，下面是我在 c#validtaion 中的代码：

```
string str = "Select ReceiptNo from BranchOutwardItems where ReceiptNo='" + txtReceiptNo.Text + "'";

DataTable dt = objGlobalClass.LoadData(str);
if (dt.Rows.Count > 0)
{
     lblMsg.Text = " Receipt ID already exists.Click On ADD for Generate New Receipt ID";
}
else
{
     lblMsg.Text = "Receipt ID doesnot exists";
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:29:01.663

为此，您必须调用 Page-Method 或 Web-Service 或 Http-Handler 来验证文本框的值。

这是一个类似的[例子](http://sappidireddy.wordpress.com/2008/03/31/how-to-call-server-side-function-from-client-side-code-using-pagemethods-in-aspnet-ajax/)
这里也是一个很好的[例子](http://weblogs.asp.net/karan/archive/2010/09/12/calling-server-side-method-using-jquery-ajax.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:12:35.473

```
var tbl = document.getElementById('tblID');
var lbl = document.getElementById('lblID');
if(tbl != null)
{

if(tbl.rows.length > 0)
{
lbl.innerHTML = "Success Message";
}
else 
{
lbl.innerHTML = "Failed Message";

}

} 
```

# css - CSS：同样的规则，属性总是按顺序运行吗？

> ID：13117251
> 
> 赞同：2
> 
> 时间：2012-10-29T07:06:48.677
> 
> 标签：css, properties

有很多关于*规则优先*的问题和答案。这里的问题是关于浏览器在*同一规则*内执行 CSS 属性的问题。

直观地说，我一直认为规则的属性是由浏览器按顺序运行的。

例如，

```
 #somediv {
    margin:0;
    margin-bottom:10px;
  } 
```

在我使用的浏览器（基本上是最近的 Chrome、FF 和 Safari）中呈现为`margin:0 0 10px 0;`（并且从不`margin:0;`）。这意味着第二个属性`margin-bottom`会覆盖前一个`margin`属性（将所有边距设置为`0`）。

但是我可以认为这在**所有浏览器中***总是*正确的吗（IE，我在看着你）？

 *** * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T07:08:30.787

是的，这是预期的行为，也是CSS[级联的一部分。](http://www.w3.org/TR/CSS21/cascade.html#cascading-order)您只是`margin`用单个`margin-bottom`值覆盖速记的组成部分之一。

请注意，它不会*完全*删除整个`margin`速记声明！请记住，您上面的速记可以重写为：

```
margin: 0 0 0 0; 
```

或这个：

```
margin-top: 0;
margin-right: 0;
margin-bottom: 0;
margin-left: 0; 
```

所以`margin-bottom: 10px`将简单地覆盖`margin-bottom`上述内容。

另请注意，IE6 和更早版本不会优先考虑`!important`同一规则中的声明（但它会在单独的规则中尊重它们）。但由于这是一个古老的浏览器，老实说，没有太多的担忧。这条基本规则已经定义明确并且[15 年多](http://www.w3.org/TR/CSS1/#cascading-order)没有改变，所以浏览器有足够的时间来正确地实现它，并且没有任何借口捏造它，包括 IE。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T07:10:50.387

是的，这是根据[w3c 规范](http://www.w3.org/TR/CSS2/cascade.html#cascading-order)的正确行为：

> 如果两个声明具有相同的权重...指定的后者获胜

在您的示例`margin-bottom`中将设置为 10px。

渲染引擎实际上并不关心相同特异性属性值的来源（它们可能已设置在您的示例中的相同规则内，或者在具有相同选择器或不同选择器的两个规则内）。如果两个声明具有相同的计算权重，则后者获胜：

```
<style>
  .container span {color:red;}
  .content span {color:blue;}
  div .inner {color:green;}
  p a {color:orange;}    
</style>
<div class="container">
  <p class="content">
    <a href="#" class="button"><span class="inner">Hello world!</span></a>
  </p>
<div> 
```

文本将以什么颜色呈现？前三个规则具有相同的特异性，所以“Hello world！” 将呈现为绿色。不过，这对于速记属性变得更加棘手！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T07:08:44.760

是的，如果您声明两个相同的属性但与浏览器不同的值，则会获取该属性的最后声明值

因此，例如，如果您正在使用这个

```
div {
   background-color: #ff0000; /*Red*/
   background-color: #00ff00; /*Green*/
} 
```

浏览器将选择绿色，因为它是最后声明的

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-29T07:09:01.643

是的.. css 属性按照它们在所有浏览器中加载的顺序被覆盖

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-29T11:24:17.947

是的，如果你改变你写的行的顺序，后面写的总是会覆盖前一个，你的结果将被恢复，第二行总是领先第一行，所以如果你有两个或更多的 css 文件，那么你应该不要在 diff css 中的同一元素上应用 sme 样式，否则你会得到一些奇怪的 css 输出，这取决于包含的 css 文件的顺序。**

# asp.net - Telerik RadGrid - 通过文本框将项目添加到下拉列表中

> ID：13117252
> 
> 赞同：1
> 
> 时间：2012-10-29T07:07:08.363
> 
> 标签：asp.net, drop-down-menu, telerik

先生/女士，

我将通过单击添加来开发插入命令，以将 RadTextbox 显示为 InsertItem 模板，并在将所有数据输入到 RadGrid 内后单击添加新记录

但是进入测​​试时发现Getting the Items 无法完成，总是显示null

以下是我的代码，请回答

```
 protected void btnAddRecord_grdFlex_performInsert(object sender, EventArgs e)
    {
        RadButton butt = sender as RadButton;

        foreach (GridDataItem dataItem in grdFlex.MasterTableView.Items)
        {

            RadTextBox textBox1 = (RadTextBox)(dataItem["Company"].FindControl("txtSubcomName"));
            RadTextBox textBox2 = (RadTextBox)(dataItem["FlexAcctCode"].FindControl("txtFlex"));
            RadComboBox ab= (RadComboBox)(dataItem["Company"].FindControl("cboCompany"));
            RadComboBox cd= (RadComboBox)(dataItem["FlexAcctCode"].FindControl("cboFlexAcctCode"));

            if (!String.IsNullOrEmpty(textBox1.Text))
            {
                ab.Items.Insert(1, new RadComboBoxItem(textBox1.Text));
                ab.SelectedIndex = 0;
                textBox1.Text = String.Empty;
            }

            if (!String.IsNullOrEmpty(textBox2.Text))
            {
                cd.Items.Insert(1, new RadComboBoxItem(textBox2.Text));
                cd.SelectedIndex = 0;
                textBox2.Text = String.Empty;
            }
        }
    }

   ASP://

         <telerik:RadGrid ID="grdFlex" runat="server" AutoGenerateColumns="False"

    ShowStatusBar="true" AllowAutomaticDeletes="True" AllowAutomaticInserts="True"
    AllowAutomaticUpdates="True" 
     EnableDynamicPageSize="False"
                        AllowMultiRowSelection="true" EnableToolbar="False" OnNeedDataSource="grdFlex_NeedDataSource"

                        Width="80%">
                        <MasterTableView CommandItemDisplay="TopAndBottom" EditMode="InPlace"  >
                            <CommandItemTemplate>
                                <div style="padding: 5px 5px;">
                                    <telerik:RadButton runat="server" Text="Add new" ID="btnAdd_grdFlex"  CommandName="InitInsert"
                                        Visible='<%# !grdFlex.MasterTableView.IsItemInserted %>'>
                                        <Icon PrimaryIconUrl="~/Image/Button/add.gif" PrimaryIconLeft="8" PrimaryIconTop="4" />
                                    </telerik:RadButton>
                                    &nbsp;&nbsp;
                                    <telerik:RadButton runat="server" AutoPostBack="false" Text="Delete" ID="btnDelete_grdFlex" 
                                        OnClientClicked="grdFlex_onDeleteClick" CausesValidation="false" Visible='<%# !grdFlex.MasterTableView.IsItemInserted %>'>
                                        <Icon PrimaryIconUrl="~/Image/Button/remove.gif" PrimaryIconLeft="8" PrimaryIconTop="4" />
                                    </telerik:RadButton>
                                    &nbsp;&nbsp;
                                    <telerik:RadButton runat="server" Text="Add New record" ID="btnAddRecord_grdFlex" CommandName="PerformInsert" OnCommand="btnAddRecord_grdFlex_performInsert" 
                                        Visible='<%# grdFlex.MasterTableView.IsItemInserted %>'>

                                        <Icon PrimaryIconUrl="~/Image/Button/yes.gif" PrimaryIconLeft="8" PrimaryIconTop="4" />
                                    </telerik:RadButton>
                                    &nbsp;&nbsp;
                                    <telerik:RadButton runat="server" Text="Cancel editing" ID="btnCancel_grdCancel" CommandName="CancelAll"
                                        Visible='<%# grdFlex.EditIndexes.Count > 0 || grdFlex.MasterTableView.IsItemInserted %>'>
                                        <Icon PrimaryIconUrl="~/Image/Button/cancel.gif" PrimaryIconLeft="8" PrimaryIconTop="4" />
                                    </telerik:RadButton>
                                    &nbsp;&nbsp;
                                </div>
                            </CommandItemTemplate>

 ...........

                                      <telerik:GridTemplateColumn UniqueName="Company"  HeaderText="Company">
                                <InsertItemTemplate>
                                <telerik:RadTextBox ID="txtSubcomName" runat="server" ></telerik:RadTextBox>
                                </InsertItemTemplate>
                                    <ItemTemplate>
                                        <telerik:RadComboBox ID="cboCompany" runat="server" Filter="Contains"   AppendDataBoundItems="true" AllowCustomText="True"
                                            Width="100%" SelectedValue='<%# Bind("Company") %>'>
                                            <Items>
                                                <telerik:RadComboBoxItem Text="Yau Lee Construction Co. Ltd" Value="YLC" />
                                                <telerik:RadComboBoxItem Text="Yau Lee Holdings" Value="YLH" />
                                            </Items>
                                        </telerik:RadComboBox>
                                    </ItemTemplate>
                                    <ItemStyle Width="200px" />
                                </telerik:GridTemplateColumn>
                                <telerik:GridTemplateColumn UniqueName="FlexAcctCode" HeaderText="Flex A/C Code">
                             <InsertItemTemplate> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T18:55:26.803

我认为您的代码基于以下[示例](http://demos.telerik.com/aspnet-ajax/grid/examples/programming/commanditem/defaultcs.aspx)

该演示使用自动插入，它自动处理控件的值以及使用数据源插入数据库。在您的情况下，您希望通过代码访问控件。

我不得不简化代码来表达我的观点。这应该得到你需要的

***C＃***

```
protected void RadGrid1_InsertCommand(object source, GridCommandEventArgs e)
{
var dataItem = e.Item as GridDataItem;
var textBox = dataItem.findControl("txtSubcomName") as RadTextBox;
//... get the rest of the controls like this
textBox2.Text = textBox.Text;
} 
```

***ASP.net***

```
<telerik:RadGrid ID="RadGrid1" runat="server" 
        OnInsertCommand="RadGrid1_InsertCommand">
        <MasterTableView DataKeyNames="ID">
            <Columns>
                <telerik:GridButtonColumn UniqueName="InsertColumn" ButtonType="ImageButton" CommandName="Insert">
                </telerik:GridButtonColumn>
<telerik:GridTemplateColumn UniqueName="Company"  HeaderText="Company">
                                <InsertItemTemplate>
                                <telerik:RadTextBox ID="txtSubcomName" runat="server" ></telerik:RadTextBox>
                                </InsertItemTemplate>
                                    <ItemTemplate>
                                        <telerik:RadComboBox ID="cboCompany" runat="server" Filter="Contains"   AppendDataBoundItems="true" AllowCustomText="True"
                                            Width="100%" SelectedValue='<%# Bind("Company") %>'>
                                            <Items>
                                                <telerik:RadComboBoxItem Text="Yau Lee Construction Co. Ltd" Value="YLC" />
                                                <telerik:RadComboBoxItem Text="Yau Lee Holdings" Value="YLH" />
                                            </Items>
                                        </telerik:RadComboBox>
                                    </ItemTemplate>
                                    <ItemStyle Width="200px" />
                                </telerik:GridTemplateColumn>
... rest of grid 
```

# java - Java 富 Internet 应用程序

> ID：13117257
> 
> 赞同：0
> 
> 时间：2012-10-29T07:07:47.693
> 
> 标签：java, swing, applet

当我们在浏览器中使用 http:\[ip address]:[port no] 请求应用程序 jar 可用的服务器时，我的应用程序启动。在 Internet Explorer 的此静态选项卡中打开一个启动页面，并打开一个新窗口，我们可以在其中执行应用程序的所有功能。

这是 java applet 应用程序还是 java web start 应用程序？我怎样才能识别它？

# jquery - twitter bootstrap 如何通过标记连接插件？

> ID：13117263
> 
> 赞同：1
> 
> 时间：2012-10-29T07:08:13.903
> 
> 标签：jquery, twitter-bootstrap

当我向 DOM 引导程序动态添加正确的 html 标记时，会在新元素上连接正确的插件。它是如何做到的？

如果我有标记

```
<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
  <li><a tabindex="-1" href="#">Action</a></li>
  <li class="divider"></li>
  <li><a tabindex="-1" href="#">Separated link</a></li>
</ul> 
```

Bootstrap 将使用它制作下拉元素（挂钩下拉插件）。它是如何做到的？它是动态执行的吗？（如果我在运行时添加标记？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:42:27.557

它通过挂钩到文档就绪事件（或窗口加载）然后设置事件侦听器或初始化组件来实现。例如，Affix 插件正在按其`data-spy="affix"`属性进行搜索。至于 Typeahead 插件，它在第一个焦点事件时被初始化。

# ruby-on-rails - Ruby on Rails：模型、迁移和概览

> ID：13117276
> 
> 赞同：1
> 
> 时间：2012-10-29T07:08:53.100
> 
> 标签：ruby-on-rails, ruby, model, migration, rails-migrations

在之前使用 Django 进行 Web 开发之后，我最近开始使用 Ruby on Rails。我发现自己非常喜欢对迁移的强调（这在 Django 上是事后才想到的），但我有点担心以下问题：

*   在 Django 中，使用 South 这样的库，迁移是根据您对模型所做的更改自动生成的。因此，检查单个文件或目录就足以查看所有模型的当前定义
*   在 Rails、AFAIU、app/models/*.rb 中只包含那些模型的方法；这些字段分散在整个数据库/迁移中。

我想人们可以在命名迁移文件时受到纪律处分，因此可以找到与给定模型有关的所有迁移，但是，一旦你找到每个`m`都有迁移的模型`n`，那就需要跟踪很多。

必须有一种方法可以检查特定模型的当前状态——包括字段和方法——而无需繁琐的工作；一位经验丰富的 RoR 开发人员能否启发我？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:11:28.327

您有一个`db/schema.rb`文件，其中表达了每个模型的所有字段（以一次大迁移的形式）。

数据（字段）和行为（方法）之间的分离是有意的，并且可以使用在头部注释中使用最新适用模式的副本注释模型的库来覆盖它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:18:57.340

如果您查看模型文件，您会注意到它们不包含对其属性的引用 - 例如，您的用户可能有一封电子邮件，但在您的 User.rb 中没有任何痕迹。那是因为它位于`schema.rb.`

`Schema.rb`是运行 rake db:migrate 时由数据库中的 rails 生成的数据库的表示。虽然如果你删除它不是世界末日 - 运行你的迁移应该（理论上）导致`schema.rb`你拥有。但是，迁移很脆弱（例如，自从最初编写迁移以来，您可能已经添加了新的验证规则），因此，您应该`schema.rb`检查版本控制。

**Schema.rb**可以通过运行加载到空数据库中

```
rake db:schema:load 
```

# php - PHP XML跨域如何插入标记？

> ID：13117285
> 
> 赞同：0
> 
> 时间：2012-10-29T07:09:17.570
> 
> 标签：php, xml, cross-domain

你好，我遇到了一点问题，

我正在检索这样的 XML：

```
 // create new document object
    $dom_object = new DOMDocument();
    // load xml file
    $dom_object->load("http://www.mhs2000.de/hpm/v6/machinelist-master.php?hid=1007&lang=de&GroupID=01002");

    $item = $dom_object->getElementsByTagName("product");

        foreach( $item as $value )
    {

    $nos = $value->getElementsByTagName("MachineNo");
    $no  = $nos->item(0)->nodeValue;
    $machineno = str_replace( "1007-", "", $no );

    $herstellers = $value->getElementsByTagName("Make");
    $hersteller  = $herstellers->item(0)->nodeValue;

    $types = $value->getElementsByTagName("Type");
    $type  = $types->item(0)->nodeValue;

    $labels = $value->getElementsByTagName("NewIn");
    $label  = $labels->item(0)->nodeValue;

    $controltypes = $value->getElementsByTagName("ControlType");
    $controltype  = $controltypes->item(0)->nodeValue;

    $bildurls = $value->getElementsByTagName("BildUrl");
    if($bildurls->length == 0)
    {
        $bildurl = ("/wp-content/themes/framework/images/logo.jpg");
    }
    else
    $bildurl  = $bildurls->item(0)->nodeValue;

    $tdetailsformats = $value->getElementsByTagName("tdetailsformat");
    $tdetailsformat  = $tdetailsformats->item(0)->nodeValue;
    $tdetailsformat = str_replace( "|", " ", $tdetailsformat );
    $tdetailsformat = str_replace( "%", "", $tdetailsformat );

    echo "<div class=\"row span_16\">";
    echo "<div class=\"col span_4 clr\">";
    echo "<a href=\"$bildurl\">";
    echo "<img src=\"$bildurl\" class=\"thumb\">";
    echo "</a>";
    echo "</div><div class=\"col span_12 clr\">";
    echo "$machineno $hersteller - $type - $label - $controltype - $tdetailsformat";
    echo "</div>";
    echo "</div>";
    } 
```

所以一切工作正常，但是我该怎么做才能在结果周围放置一个表格？

当我打开一个标签时，它会出现在我的结果下方。

```
<div class="col span_12 clr">6056 HELLER - BEA 05 - 1986 - CNC - x-Weg 500 mm y-Weg 400 mm z-Weg 560 mm Spindeldurchmesser 70 mm Aufnahme SK 40 </div>
<table></table> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:20:01.343

在 foreach 循环之前打开 table 标记：

```
 <table>
    <tr>
      <td>MachineNo</td>
      <td>Make</td>
       .... Add rest of the header items like above
    </tr> 
```

启动foreach：

```
 foreach( $item as $value )
    {        
       echo "<tr>";

       $nos = $value->getElementsByTagName("MachineNo");
       $no  = $nos->item(0)->nodeValue;
       $machineno = str_replace( "1007-", "", $no );

       echo "<td>$machineno</td>";
       //.. Likewise, add rest of the td's after processing each node

      echo "</tr>";

     } 
```

关闭你的表：

```
 </table> 
```

# castle-windsor - 温莎 + log4net = NullReference

> ID：13117288
> 
> 赞同：0
> 
> 时间：2012-10-29T07:09:41.377
> 
> 标签：castle-windsor, log4net

下面是我的代码。`NullReference`使用 Logger 对象时出现异常。我想念什么？

```
using Castle.Core.Logging;
using Castle.Facilities.Logging;
using Castle.MicroKernel.Registration;
using Castle.MicroKernel.SubSystems.Configuration;
using Castle.Windsor;
using Castle.Windsor.Installer;

namespace log4netTest
{
    internal class Program
    {
        private static void Main(string[] args)
        {
            new WindsorContainer()
                .Install(FromAssembly.This());

            var test = new testClass();
            test.Do();
        }
    }

    public class testClass
    {
        public ILogger Logger { get; set; }

        public void Do()
        {
            Logger.Info("start");
            Logger.Error("error end");
        }
    }

    public class MyWindorInstaller : IWindsorInstaller
    {
        #region IWindsorInstaller Members

        public void Install(IWindsorContainer container, IConfigurationStore store)
        {
            container.AddFacility<LoggingFacility>(facility => facility.UseLog4Net("log4net.config"));
        }

        #endregion
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:31:00.900

我应该使用

```
var test = container.Resolve<testClass>(); 
```

# android - onPostExecute method of Async Task not called

> ID：13117289
> 
> 赞同：0
> 
> 时间：2012-10-29T07:09:41.517
> 
> 标签：android, asynchronous, android-asynctask

When use my application which connects to internet , if the app crash or be killed after this i cannot login again, i must to stop from applications-> my app - > stop button to login again.

When follow debuging of app ,my debug messages comes to the end of doInBackground method, but i knows that Async task class call to onPostExecute after doInbackground method,in my example after killing or crashing app this is not do.

Can anybody help me with this issue ?

```
 private class doAuthentication extends AsyncTask<String, String, String> {

    @Override
    protected String doInBackground(String... params) {

        Requester req = new Requester();
        String hash = req.loginByPIN(params[0]);//,VendingManagerActivity.this);

        return hash;
    }

    @Override
    protected void onPostExecute(String hash) {
        Log.d("Vending","In post Ex-> "+hash);
    //  myProgressDialog.dismiss();

        if (hash.equals("")) {

            final EditText kbdInput = (EditText) findViewById(R.id.kbdInput);

            kbdInput.setText("");

            displayMessage(getString(R.string.err_wrong_credentials));
            return;
        } else if (hash.equals("-")) {

            final EditText kbdInput = (EditText) findViewById(R.id.kbdInput);

            kbdInput.setText("");

            displayMessage(getString(R.string.err_no_permissions));
            return;
        } else {

            String[] resp = hash.split("#");

            Editor edit = mPrefs.edit();

            edit.putString("login_hash",resp[0]);// hash);
            edit.putString("password",resp[1]);//lbp.reset_pass);
            edit.commit();

            Intent mainScreenActivity = new Intent(
                    VendingManagerActivity.this, MainScreenActivity.class);

            startActivity(mainScreenActivity);

            finish();
        }
    }
} 
```

Requester class -> method loginByPIN ->

```
 public String loginByPIN(String pin_code)
{
    ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(3);
    nameValuePairs.add(new BasicNameValuePair("module", "tablet"));
    nameValuePairs.add(new BasicNameValuePair("method", "loginByPin"));
    nameValuePairs.add(new BasicNameValuePair("pin", pin_code));
    String xmlData = getRequest(API_ADDRESS, nameValuePairs);

    String hash = "";
    String response = "";

    try {

        Serializer serializer = new Persister();        

        Reader reader = new StringReader(xmlData);
        LoginByPin lbp = 
            serializer.read(LoginByPin.class, reader, false);

        hash = lbp.hash;

        Requester.HASH = hash;

        Log.d("Vending", "HASH received: " + hash);

        response = hash +"#"+lbp.reset_pass;

    } catch (Exception e) {

        Log.d("Vending",e.getMessage().toString());
        Serializer serializer = new Persister();        

        Reader reader = new StringReader(xmlData);

        try {

            Error err = 
                serializer.read(Error.class, reader, false);

            Integer errorCode = err.code;
            String errorText = err.text;

            Log.e("Vending", "ERROR: " + errorText + "(" + Integer.toString(errorCode) + ")");

            if (err.code == 200)
                return "-";

        } catch (Exception e2) {

            Log.e("Vending", "ERROR: Invalid output returned from API");

        }

    }
    Log.d("Vending","Before returning-> "+hash);
    return response;//hash;
} 
```

Thanks!

Edit : not change the code in this way

```
@Override
    protected String doInBackground(String... params) {

        Requester req = new Requester();
        String hash = req.loginByPIN(params[0]);//,VendingManagerActivity.this);
        Log.d("Vending","Before doInBackground ends-> "+hash);
        return hash;
    }

    @Override
    protected void onPostExecute(String hash) {
        Log.d("Vending","In post Ex-> "+hash);
        myProgressDialog.dismiss(); 
```

and the logcat output is

```
10-29 10:26:06.278: D/Vending(25714): Before returning-> peq8qkjvee7v4nhci8v3dub293
10-29 10:26:06.278: D/Vending(25714): Before doInBackground ends-> peq8qkjvee7v4nhci8v3dub293#qwerty123 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:11:38.913

If your app crashes while `doInBackground()` is executing, then `onPostExecute()` will not be called.

`onPostExecute()` is only called after the successful completion of `doInBackground()` method.

# c# - How to get audio data from rtp packet...?

> ID：13117290
> 
> 赞同：1
> 
> 时间：2012-10-29T07:09:40.700
> 
> 标签：c#, .net, rtp, pcap.net

I'm using .net to do call recroding with pcap.net.

till now I have got the rtp packet. And its length is 32 bytes.

The codec used is G729 and payload type is 18.

```
byte[] bytes = HexString2Bytes(udp.Payload.ToHexadecimalString());          
string rtppayload = ASCIIEncoding.ASCII.GetString(bytes); 
```

I need to get the actual rtp payload. Plz help me...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:59:49.573

**我从 rtp 数据包中得到了声音。**

我所做的是，将 rtp 有效负载的最后 20 个字节转换为字节数组，然后写入原始格式的文件。

然后完成以下步骤....

1.  通过 g729 解码器将原始文件转换为 pcm 文件。（从[www.voiceage.com/openinit_g729.php下载](http://www.voiceage.com/openinit_g729.php)
2.  将该 pcm 文件导入到 audacity 中，例如 import->raw data。
3.  然后播放声音。
4.  导出为 wav 格式。

# youtube - lang parameter does not work in Youtube API

> ID：13117296
> 
> 赞同：1
> 
> 时间：2012-10-29T07:10:23.007
> 
> 标签：youtube, youtube-api, caption, lang

I have a task of getting video with subtitles(caption) in the definite language
According to the query parameters [documentation](https://developers.google.com/youtube/2.0/developers_guide_protocol_api_query_parameters) I use:

> caption = true - subtitles filter
> lr = en - original video language
> hl = en - the primary language of the movies
> [lang](https://developers.google.com/youtube/2.0/developers_guide_protocol_api_query_parameters#langsp) = de - the language I want to get the subtitles

Query example:

```
https://gdata.youtube.com/feeds/api/videos?safeSearch=strict&strict=true&v=2&caption=true&key=XXX&q=football&hl=en&lr=en&lang=de 
```

Result:

```
<errors xmlns='http://schemas.google.com/g/2005'>
    <error>
        <domain>GData</domain>
        <code>unsupportedQueryParam</code>
        <internalReason>Invalid query parameters:lang</internalReason>
    </error>
</errors> 
```

Could you explain me the reason of this result?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T12:20:45.933

我也迷失在 youtube API 中，但这是我的理解。

在您提供的链接中，参数 lang 描述为：

> YouTube 支持使用此参数来请求检索字幕轨道。

“问题”（至少对于大多数开发者来说是个问题），如果您不是上传者，则无法请求视频字幕。看[这里](https://developers.google.com/youtube/2.0/developers_guide_protocol_captions?hl=en)

> 视频的字幕只能由该视频的所有者创建、检索、修改和删除。要对视频执行这些操作，您必须提交经过身份验证的 API 请求，视频的所有者是登录用户。因此，字幕操作的 API 请求必须包含格式正确的授权标头。

这就是为什么我认为你不应该做你想做的事。

# c - 对合并目录上的文件没有读/写访问权限

> ID：13117298
> 
> 赞同：0
> 
> 时间：2012-10-29T07:10:26.193
> 
> 标签：c, macos, directory

我正在为 uni 开发一个项目，如果我们必须将一个或多个目录的内容合并到一个输出目录中，我的项目看起来很完美，除了输出目录中输出的文件没有读写权限，我可以更改它是手动的，但我假设这不是理想的解决方案，我对 c 和 OSX 相当陌生，所以它可能是一个非常容易修复的问题，

我目前使用 0777 作为我的 mkdir 函数的 mode_t 参数，并使用 O_RDWR 打开所有文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:52:30.587

线路`int dest= open(file_name, O_CREAT|O_RDRW)`错了。当您将 O_CREAT 指定为标志时，[open](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man2/open.2.html) () 期望您提供第三个参数，即权限位。

这意味着你必须做例如`int dest= open(file_name, O_CREAT|O_RDRW, 0755);`。[由于您正在复制文件，因此您可以使用stat](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man2/stat.2.html) ()读取该文件的现有权限，并在打开和创建目标文件时提供相同的权限。

另请记住，创建新文件时的文件权限位受[umask](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man2/umask.2.html)影响，如果您复制现有权限位，您可能希望`umask(0);`在复制文件之前调用，因此您始终获得与原始文件相同的权限。

# c++ - fast arbitrary precision c++ library: is __float128 faster than MPFR?

> ID：13117300
> 
> 赞同：3
> 
> 时间：2012-10-29T07:10:34.543
> 
> 标签：c++, gmp, bignum, arbitrary-precision, mpfr

I know there are a couple of thread on similar topics ( [What's the best (for speed) arbitrary-precision library for C++?](https://stackoverflow.com/questions/4486882/whats-the-best-for-speed-arbitrary-precision-library-for-c) and [The best cross platform (portable) arbitrary precision math library](https://stackoverflow.com/questions/2568446/the-best-cross-platform-portable-arbitrary-precision-math-library) ) and I take from these threads than GMP or something based on it like MPFR is the fastest lib available, but I am specifically wondering: if I only wanted say 30 dec places would __float128 of the quadmath lib be faster?

Also how does MAPM stack up against MPFR?

It looks from this website:

[http://pari.math.u-bordeaux.fr/benchs/timings-mpfr.html](http://pari.math.u-bordeaux.fr/benchs/timings-mpfr.html)

that MPFR does pretty well, but there are also CLN and apfloat?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T18:38:59.420

如果您只想要 30 位小数，我很确定（没有实际对其进行基准测试），GMP 或 MPFR 不能像一些简单的自制例程那样快。当然，这在一定程度上取决于您需要的操作。

这背后的原因是 GMP 等人。写得非常好，考虑到了非常大的整数（比如 1,000+ 甚至 1,000,000+ 十进制数字）。但是对于非常小的——但对于 int 来说太大——bignums，一些额外的 if、调用甚至内存分配的开销将在每个基准测试中杀死它们。

这是一个简单的练习，可以构建您自己的 C++ 函数，为您提供 2 个 64 位无符号的 128 位加法/减法。甚至乘法也很容易完成。除法可能没有那么简单，但你需要吗？更复杂的功能（根、日志等）需要更多的工作，然后是 GMP 等。也许会得到回报。

# jquery - JQuery/HTML/CSS how can i implement jcarousel slider in a thick box pop page

> ID：13117304
> 
> 赞同：-1
> 
> 时间：2012-10-29T07:10:48.753
> 
> 标签：jquery, html, jquery-ui, css

i am trying to implement A **J CAROUSEL SLIDER** in a popup opened via thick box.

have tried a lot but still not got any success. its working in HTML while calling direct but while calling via popup it doesn't work.

Can any body help me out of this, even a small help also will be appreciated.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:12:57.473

您应该在该弹出窗口中分别加载插件和 jquery。弹出窗口是一个新页面，所有 js 和 css 文件也应该在那里加载

所以你的弹出代码应该是这样的：

```
<html>
  <head>
    <link rel="stylesheet" href="path-to/css.css" />
    <script src="path-to/jQuery.js"></script>
    <script src="path-to/jQuery.jCarousel.js"></script>
    <script>
      // jCarousel init
    </script>
  </head>
  <body>
  </body>
</html> 
```

# c# - ReportViewer hang on ODP.NET executing

> ID：13117307
> 
> 赞同：1
> 
> 时间：2012-10-29T07:11:15.463
> 
> 标签：c#, reportviewer, odp.net

I have a web application use Microsoft ReportViewer(2012) to show report. I use LocalReport and normal DataTable to provide datasource. And the DataTable fill by ODP.NET. When i run one report everything is ok, but when i run two report at same time, one of report just wait until the another finish ODP.NET query, and then two report render. I do some debugging on it, but i can't find the solution. below are debug info, can anyone help me anlyze the problem. thanks. Sorry for my poor english.

```
!eestack -ee output
    Thread  12
    Current frame: 
    ChildEBP RetAddr  Caller, Callee
    04ddc8d8 0f3b0879 (MethodDesc 0f058288 +0x49 Microsoft.ReportingServices.ReportIntermediateFormat.Persistence.IntermediateFormatWriter.Write(Microsoft.ReportingServices.ReportIntermediateFormat.Persistence.IPersistable, Boolean))
    04ddca2c 65926597 (MethodDesc 65180214 +0x27 System.Runtime.Remoting.ObjRef.GetServerDomainId())
    04ddca50 6527da33 (MethodDesc 650df0ec +0x47 System.AppDomain.Unload(System.AppDomain))
    04ddca7c 0ed9fec2 (MethodDesc 006d5690 +0x132 Microsoft.Reporting.ReportCompiler.CompileReport(Microsoft.ReportingServices.Diagnostics.ICatalogItemContext, Byte[], Boolean, Microsoft.ReportingServices.Library.ControlSnapshot ByRef))
    04ddcaa4 0ed9fbd0 (MethodDesc 0edafbb8 +0x20 Microsoft.Reporting.ReportRuntimeSetupHandler.GetReportRuntimeSetup())
    04ddcab8 0ed9f76a (MethodDesc 0edaede8 +0xea Microsoft.Reporting.LocalService.GetCompiledReport(Microsoft.Reporting.PreviewItemContext, Boolean, Microsoft.ReportingServices.Library.ControlSnapshot ByRef))
    04ddcb00 65311c03 (MethodDesc 650e1b18 +0xe3 System.Collections.Generic.Dictionary`2[[System.__Canon, mscorlib],[System.__Canon, mscorlib]].FindEntry(System.__Canon))
    04ddcb14 0ed9f62e (MethodDesc 0edaee04 +0x1e Microsoft.Reporting.LocalService.CompileReport())
    04ddcb30 0ed9f5f6 (MethodDesc 0edaedf4 +0x6 Microsoft.Reporting.LocalService.Microsoft.Reporting.ILocalProcessingHost.CompileReport())
    04ddcb34 0ed9f535 (MethodDesc 0eda8f2c +0x45 Microsoft.Reporting.WebForms.LocalReport.EnsureExecutionSession())
    04ddcb64 0ed9f487 (MethodDesc 0eda8f60 +0x37 Microsoft.Reporting.WebForms.LocalReport.GetParameters())
    04ddcb94 0f39a67d (MethodDesc 006b82ac +0xad XRisk.BLL.Report.RenderReport.processParameter())
    04ddcbbc 0ea05c11 (MethodDesc 03fd7c94 +0x71 XRisk.BLL.Report.ReportEntity.get_SubReportCodeList())
    04ddcbd0 03ef07fb (MethodDesc 03f00a3c +0x2b XRisk.PCL.Utility.LogHelper.Info(System.Object))
    04ddcbe0 0f39a3fb (MethodDesc 006b8294 +0x4db XRisk.BLL.Report.RenderReport.LoadReport())
    04ddcc04 03eff56a (MethodDesc 03fdb4ac +0x6a XRisk.BLL.BusinessEntityListProvider.XRisk.BLL.IEntityListProvider.Execute[[System.__Canon, mscorlib]](XRisk.BLL.CacheMode, System.String, System.Object[]))
    04ddccd4 0f399e0d (MethodDesc 006b8288 +0xcd XRisk.BLL.Report.RenderReport.Render(XRisk.BLL.Report.RenderFormat))
    04ddcce0 6531091a (MethodDesc 650e1b28 +0x13a System.Collections.Generic.Dictionary`2[[System.__Canon, mscorlib],[System.__Canon, mscorlib]].Insert(System.__Canon, System.__Canon, Boolean))
    04ddcce4 65310a92 (MethodDesc 650e1c50 +0x12 System.Collections.Generic.EqualityComparer`1[[System.__Canon, mscorlib]].get_Default())
    04ddcce8 0f399ce2 (MethodDesc 006b8258 +0xc2 XRisk.BLL.Report.RenderReport..ctor(Microsoft.Reporting.WebForms.LocalReport, System.String, System.Collections.Generic.Dictionary`2<System.String,System.String>, System.Data.DataSet, Int32, System.Collections.Generic.IDictionary`2<System.String,System.String>))
    04ddcd14 0f3996be (MethodDesc 006b7078 +0x4de XRisk.Web.Report.ReportViewRdlc.SetReport())
    04ddcd48 03ef07fb (MethodDesc 03f00a3c +0x2b XRisk.PCL.Utility.LogHelper.Info(System.Object))
    04ddcd58 0f39917b (MethodDesc 0eb45794 +0x3eb XRisk.Web.SessionHelper.ClearReportViewerCache(System.Web.SessionState.HttpSessionState, System.String))
    04ddce24 0f398ceb (MethodDesc 006b7048 +0xab XRisk.Web.Report.ReportViewRdlc.Page_Load(System.Object, System.EventArgs))

another thread.
    Thread  27
    Current frame: 
    ChildEBP RetAddr  Caller, Callee
    0e9fd838 0c3b906d (MethodDesc 0c02a8f0 +0x37d Oracle.DataAccess.Client.OracleDataReader.GetString(Int32))
    0e9fe168 0c0f07d1 (MethodDesc 0c02eab8 +0x181 DomainNeutralILStubClass.IL_STUB_PInvoke(IntPtr, IntPtr ByRef, IntPtr ByRef, IntPtr ByRef, IntPtr ByRef, IntPtr, Int32 ByRef, Int32, Int32, Int64 ByRef, Oracle.DataAccess.Client.OpoSqlValCtx* ByRef, System.String, Oracle.DataAccess.Client.OpoDacValCtx* ByRef, IntPtr[], System.String[], Oracle.DataAccess.Client.OpoMetValCtx* ByRef, Int32))
    0e9fe1dc 0c0f07d1 (MethodDesc 0c02eab8 +0x181 DomainNeutralILStubClass.IL_STUB_PInvoke(IntPtr, IntPtr ByRef, IntPtr ByRef, IntPtr ByRef, IntPtr ByRef, IntPtr, Int32 ByRef, Int32, Int32, Int64 ByRef, Oracle.DataAccess.Client.OpoSqlValCtx* ByRef, System.String, Oracle.DataAccess.Client.OpoDacValCtx* ByRef, IntPtr[], System.String[], Oracle.DataAccess.Client.OpoMetValCtx* ByRef, Int32))
    0e9fe26c 0c13cc4f (MethodDesc 0c026010 +0xdaf Oracle.DataAccess.Client.OracleCommand.ExecuteReader(Boolean, Boolean, System.Data.CommandBehavior))
    0e9fe45c 0c13988c (MethodDesc 0c0266a4 +0xcc Oracle.DataAccess.Client.OracleDataAdapter.Fill(System.Data.DataSet, Int32, Int32, System.String, System.Data.IDbCommand, System.Data.CommandBehavior))
    0e9fe4ac 5574b35f (MethodDesc 5568f994 +0x5f System.Data.Common.DbDataAdapter.Fill(System.Data.DataSet))
    0e9fe4f0 04487cbe (MethodDesc 03fde7fc +0xbe XRisk.DAL.Oracle.ODPOracleHelper.ExecuteDataSet(System.String, XRisk.DAL.Oracle.ODPCommandItem, Oracle.DataAccess.Client.OracleConnection))
    0e9fe548 04485f63 (MethodDesc 03fddf6c +0xe3 XRisk.DAL.Oracle.ODPProcCommand.ExecuteDataSet(XRisk.DAL.ContentTemplate, Oracle.DataAccess.Client.OracleConnection))
    0e9fe5f4 0561cc2c (MethodDesc 03f1f784 +0x1c Oracle.DataAccess.Client.OracleConnection.set_TxnHndAllocated(Int32))
    0e9fe694 04482d5d (MethodDesc 03fddf40 +0x24d XRisk.DAL.Oracle.ODPProcCommand.ForProcTran())
    0e9fe7d0 0448b67a (MethodDesc 03fdad54 +0x7a XRisk.DAL.Oracle.OracleProcService.GetData(XRisk.DAL.ProcTemplate))
    0e9fe80c 0dee0c80 (MethodDesc 03fdad28 +0x40 XRisk.DAL.Oracle.OracleProcService.GetData(System.String, XRisk.DAL.ParamPair[]))
    0e9fe82c 006a931e (MethodDesc 0eb4e280 +0x55e XRisk.BLL.Task.ProcCalcTask.DoExecute())
    0e9fe850 03efd524 (MethodDesc 03f07038 +0xb4 log4net.Repository.Hierarchy.Logger.CallAppenders(log4net.Core.LoggingEvent))
    0e9fe88c 03efd3da (MethodDesc 03f07050 +0x4a log4net.Repository.Hierarchy.Logger.ForcedLog(System.Type, log4net.Core.Level, System.Object, System.Exception))
    0e9fe8a0 03efd153 (MethodDesc 03f07018 +0x63 log4net.Repository.Hierarchy.Logger.Log(System.Type, log4net.Core.Level, System.Object, System.Exception))
    0e9fe8d4 03ef0990 (MethodDesc 03f00a78 +0x170 XRisk.PCL.Utility.LogHelper.Log(System.Object, log4net.Core.Level, System.String))
    0e9fea1c 0ec85896 (MethodDesc 04e04ab4 +0xa6 XRisk.BLL.Task.TaskBase.Execute())
    0e9fea7c 0dee41de (MethodDesc 04e00538 +0x18e XRisk.BLL.Task.TaskService.ExecWebTask())
    0e9feb60 6530b30b (MethodDesc 6514e550 +0x63 System.Threading.ThreadHelper.ThreadStart_Context(System.Object))
    0e9feb70 65298004 (MethodDesc 650d75f4 +0xb0 System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean))
    0e9feb8c 65297f44 (MethodDesc 650d75e8 +0x2c System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object))
    0e9febac 6530b298 (MethodDesc 650c86cc +0x44 System.Threading.ThreadHelper.ThreadStart())

and thread state:
0:012> !threadstate 3009220
    Legal to Join
    Background
    CLR Owns
    In Multi Threaded Apartment
    Thread Pool Worker Thread
    Interruptible
0:012> !threadstate b020
    Legal to Join
    CLR Owns
    CoInitialized
    In Multi Threaded Apartment 
```

the one report not render while a background thread execute ODP.NET query, why?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T01:50:36.297

我想我明白了。我有一个 OracleClob 输入参数来调用 thre oracle 存储过程，我将参数设置如下：

```
OracleClob tempLob = new OracleClob(connection);
if (paramValue != null)
{
  byte[] tempbuff = Encoding.Unicode.GetBytes((string)paramValue);
  tempLob.BeginChunkWrite();
  tempLob.Write(tempbuff, 0, tempbuff.Length);
  tempLob.EndChunkWrite();
}
parameter.Value = tempLob; 
```

问题是我不处理 tempLob 手册，只是让 GC Finalizer 来处理。另一方面，当reportviewer 尝试设置或获取参数时，她首先编译report，就像quest first clr stack show 一样。reportviewer 创建一个临时 AppDomain 来编译报告，编译后，这个 AppDomain 刚刚被卸载。所以在卸载 AppDomain 时，clr 会挂起所有线程并找到与该 AppDomain 相关的线程......最后调用了 GC，因此也调用了对象的 Finalize 方法。当 OracleClob 的 Finalize 被调用时，它会进入一个 CriticalSection 来释放内存。但是现在其他线程是Execute ODP.NET查询和等待结果，它也在CriticalSection，做finalize方法等到查询完成。这种现象就像问题所示。这里有更多调试信息：finalize thread's native stack。

```
0:002> kb
ChildEBP RetAddr  Args to Child              
03b7bf90 77505b0c 774ef98e 00000d8c 00000000 ntdll!KiFastSystemCallRet
03b7bf94 774ef98e 00000d8c 00000000 00000000 ntdll!NtWaitForSingleObject+0xc
03b7bff8 774ef872 00000000 00000000 1be57ed8 ntdll!RtlpWaitOnCriticalSection+0x13e
03b7c020 1017a2fc 1be30208 00000000 03b7e6a4 ntdll!RtlEnterCriticalSection+0x150
WARNING: Stack unwind information not available. Following frames may be wrong.
03b7c030 10ac9401 0e291b50 1be8bdd4 00000000 OraOCIEI11!sltsmna+0x1c
03b7e6a4 10a0ab07 1be8bdb4 1bf37474 1bffaf24 OraOCIEI11!kpulunli+0x30d27
03b7e6bc 1003c9fe 1be8bdb4 1bf37474 1bffaf24 OraOCIEI11!OCILobFreeTemporary+0x15
03b7f10c 0e1aa189 1be8bdb4 1bf37474 1bffaf24 OCI!OCILobFreeTemporary+0x32
03b7f1d0 70d65b65 03b7f21c 70ddf1ac 03b7f3e8 OraOps11w!OpsLobFreeTemporary+0xe9
03b7f22c 70d65a2b 1cd62458 0f2ccb20 00000000 clr!MethodTable::SetObjCreateDelegate+0xbd
03b7f258 70d65aba 1cd62458 1cd62458 00000000 clr!MethodTable::CallFinalizer+0xca
03b7f270 70d65cff 1cd62458 3e10c1b3 03b7f2e0 clr!WKS::CallFinalizer+0xa7
03b7f2c0 70d65c3b 00509630 00000804 03b7f2ef clr!WKS::GCHeap::TraceGCSegments+0x239
03b7f2f0 70ea8962 00509630 00000000 03b7f710 clr!WKS::GCHeap::TraceGCSegments+0x415
03b7f304 70e7f1e3 03b7f57c 03b7f3e8 00509630 clr!WKS::ProfScanRootsHelper+0x6b
03b7f318 70e7f265 03b7f710 3e10c0bb 03b7f710 clr!Thread::DoExtraWorkForFinalizer+0x114
03b7f3c8 70e7f320 03b7f710 3e10c75b 00509630 clr!Thread::ShouldChangeAbortToUnload+0x101
03b7f428 70e7f895 005a8a38 03b7f50c 70ff7a62 clr!Thread::ShouldChangeAbortToUnload+0x399
03b7f434 70ff7a62 03b7f710 3e10c67f 00509630 clr!Thread::RaiseCrossContextException+0x3f8
03b7f50c 70e4cc40 005ac5c0 70e7f87e 03b7f710 clr!Thread::DoADCallBack+0x33a
03b7f530 70e4cb72 03b7f710 03b7f598 70ea89d7 clr!Thread::DoExtraWorkForFinalizer+0x10c
03b7f53c 70ea89d7 005ac5c0 70ea8947 03b7f57c clr!ManagedThreadBase::FinalizerAppDomain+0x27
03b7f598 70d65c3b 00509630 00000000 03b7f5c7 clr!WKS::GCHeap::TraceGCSegments+0x2e3
03b7f5c8 70dfe3cf 00509630 00000000 00509630 clr!WKS::GCHeap::TraceGCSegments+0x415
03b7f5e4 70e7f1e3 00000001 03b7f6c8 00509630 clr!WKS::GCHeap::FinalizerThreadWorker+0xcd
03b7f5f8 70e7f265 03b7f710 3e10c5db 03b7f710 clr!Thread::DoExtraWorkForFinalizer+0x114
03b7f6a8 70e7f320 03b7f710 3e10c47b 00000000 clr!Thread::ShouldChangeAbortToUnload+0x101
03b7f708 70df7b8b 00000000 005ac5c0 00000000 clr!Thread::ShouldChangeAbortToUnload+0x399
03b7f72c 70df7b9e 70dfe31e 00000008 03b7f774 clr!ManagedThreadBase_NoADTransition+0x35
03b7f73c 70e8c8c0 70dfe31e 3e10c407 00000000 clr!ManagedThreadBase::FinalizerBase+0xf
03b7f774 70d62bb0 00000000 00000000 00000000 clr!WKS::GCHeap::FinalizerThreadStart+0x10c
03b7f818 75dc1114 004ecef8 03b7f864 7751b299 clr!Thread::intermediateThreadProc+0x4b
03b7f824 7751b299 004ecef8 74c92c3d 00000000 KERNEL32!BaseThreadInitThunk+0xe
03b7f864 7751b26c 70d62b68 004ecef8 00000000 ntdll!__RtlUserThreadStart+0x70
03b7f87c 00000000 70d62b68 004ecef8 00000000 ntdll!_RtlUserThreadStart+0x1b 
```

其他线程执行查询：

```
0:024> kb
ChildEBP RetAddr  Args to Child              
182e7db0 77505b0c 750a727f 00000e58 00000001 ntdll!KiFastSystemCallRet
182e7db4 750a727f 00000e58 00000001 182e7ddc ntdll!NtWaitForSingleObject+0xc
182e7df4 750ac5dc 00000e58 00000d64 00000002 mswsock!SockWaitForSingleObject+0x1ba
182e7e70 776bc308 00000d64 182e7ed0 00000001 mswsock!WSPRecv+0x2a7
182e7eac 10f4c913 00000d64 182e7ed0 00000001 ws2_32!WSARecv+0x7b
WARNING: Stack unwind information not available. Following frames may be wrong.
182e7ee8 113af2a9 00000d64 1be0258e 00000810 OraOCIEI11!lfvpos+0x5d0cb
182e7ff0 110ec403 1beaae48 1be0258e 00000810 OraOCIEI11!k2mdii+0x7dd9b
182e82cc 110ec963 1be9fc38 1be9fd54 182e8404 OraOCIEI11!nlnvgin+0x14b79b
182e82e8 110a7d7d 1be9fc38 1be9fd54 182e8404 OraOCIEI11!nlnvgin+0x14bcfb
182e8408 101deb5c 1be92734 00000000 1be9480a OraOCIEI11!nlnvgin+0x107115
182e8cc0 1114e174 1be947f8 00000000 1be8d8b0 OraOCIEI11!sigpidu+0x2aba
182e8cd8 1010aa6c 1be92734 00000000 101de6ea OraOCIEI11!nlnvgin+0x1ad50c
182eb004 10b0928d 1be92690 0000005e 1be946d8 OraOCIEI11!upicui2+0x652
182eb044 10b8484c 1be92690 0000005e 1be946d8 OraOCIEI11!upirtr+0x87
182eb07c 11ac8645 1be8bdb4 0000005e 1be946d8 OraOCIEI11!kpurcsc+0x5a
182ed408 10a09cc0 1be8bdb4 1bf1ed2c 1bf3c9f0 OraOCIEI11!sqlprct+0x33b4ed
182ed434 1007a25b 1be8bdb4 1bf1ed2c 1bf3c9f0 OraOCIEI11!OCIStmtExecute+0x24
182ede94 0e1b72bf 1be8bdb4 1bf1ed2c 1bf3c9f0 OCI!OCIStmtExecute+0x3f
182eded4 0e1ae444 0a498c18 1bf3c9f0 1bf1ed2c OraOps11w!OpsTxnDispose+0x6d7f
182edf58 0e1ae792 0a498c18 1bf3c9f0 1cea7f4c OraOps11w!OpsSqlPrepare2+0xf54
00000000 00000000 00000000 00000000 00000000 OraOps11w!OpsSqlExecuteReader+0x1b2 
```

和锁：

```
0:024> !mlocks
Examining SyncBlocks...
Scanning for ReaderWriterLock instances...
Scanning for holders of ReaderWriterLock locks...
Scanning for ReaderWriterLockSlim instances...
Scanning for holders of ReaderWriterLockSlim locks...
Examining CriticalSections...

ClrThread  DbgThread  OsThread    LockType    Lock      LockLevel
----------------------------------------------------------------------
0x14       24         0x1108      CritSect    1be30208                
0x14       24         0x1108      CritSect    1be30238                
0x14       24         0x1108      CritSect    1be4d530                
0x1c       35         0x1138      thinlock    1cdb5f10  (recursion:0)
0x1c       35         0x1138      thinlock    1a23421c  (recursion:0) 
```

要修复它，我只需像这样设置 OracleClob 输入参数，

```
parameter.OracleDbType = OracleDbType.Clob;
parameter.Value = paramValue; 
```

# android - Android：从数据库获得响应后，返回上一个屏幕

> ID：13117309
> 
> 赞同：0
> 
> 时间：2012-10-29T07:11:19.223
> 
> 标签：android, json, listview

谁能帮我..？？我的问题是，在从 json [它来自 web 服务，因为有选择查询来获取记录] 的响应后，而不是显示在列表视图中，它返回到上一个屏幕这是我的示例代码..

```
public class MainActivity5 extends ListActivity {

    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.custom_list_view);

        Intent i = getIntent();
        phNumber = i.getStringExtra("phn_no");

        new SearchCustomer().execute();

        ListAdapter adapter = new SimpleAdapter(this, customerList, R.layout.activity_main5, new String[] { TAG_F_NAME, TAG_C_PHONE }, new int[] { R.id.TextViewName, R.id.TextViewPhone });
        setListAdapter(adapter);

    }

    class SearchCustomer extends AsyncTask<String, String, String> {

        private boolean successFlag;

        @Override
        protected void onPreExecute() {

            super.onPreExecute();
            pDialog = new ProgressDialog(MainActivity5.this);
            pDialog.setMessage("Searching Customer..");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(true);
            pDialog.show();
        }

        protected String doInBackground(String... args) {

            String inputPhnNoText = phNumber;

            List<NameValuePair> params = new ArrayList<NameValuePair>();
            params.add(new BasicNameValuePair("phno", inputPhnNoText));
            JSONObject json = jsonParser.makeHttpRequest(url_search_customer, "POST", params);
            Log.d("Search Response", json.toString());

            try {
                int success = json.getInt(TAG_SUCCESS);
                if (success == 1) {
                    successFlag = true;
                    result = json.getJSONArray(TAG_RESULT);
                    for (int i = 0; i < result.length(); i++) {
                        JSONObject c = result.getJSONObject(i);
                        String id = c.getString(TAG_ID);
                        String fname = c.getString(TAG_F_NAME);
                        String phoneNumber = c.getString(TAG_C_PHONE);

                        // creating new HashMap
                        HashMap<String, String> map = new HashMap<String, String>();

                        // adding each child node to HashMap key => value
                        map.put(TAG_ID, id);
                        map.put(TAG_F_NAME, fname);
                        map.put(TAG_C_PHONE, phoneNumber);
                        // adding HashList to ArrayList
                        customerList.add(map);
                    }
                }
                else {
                    successFlag = false;
                }
            }
            catch (JSONException e) {
                Log.e("log_tag", "Error parsing data " + e.toString());
            }
            return null;
        }

        protected void onPostExecute(String file_url) {

            pDialog.dismiss();
            finish();
        }
    }
} 
```

这是我的活动文件代码..在doinbackground customerList中我得到了我想要的确切数据，但问题是它没有留在custom_list_view屏幕中，它返回到有文本框和搜索按钮的上一个屏幕..所以不能显示记录...

请问大家，有没有人可以解决这个愚蠢的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:34:06.750

1.  同意 CapDroid 关于完成（），不要这样做。

2.  不要在里面调用创建适配器和设置适配器`onCreate()`，而是可以在里面进行`onPostExecute()`。

3.  您正在做 2 个间接费用，不要这样做。

例如：

```
 for (int i = 0; i < result.length(); i++) {
                        JSONObject c = result.getJSONObject(i);
                        String id = c.getString(TAG_ID);
                        String fname = c.getString(TAG_F_NAME);
                        String phoneNumber = c.getString(TAG_C_PHONE);

                        // creating new HashMap
                        HashMap<String, String> map = new HashMap<String, String>();

                        // adding each child node to HashMap key => value
                        map.put(TAG_ID, id);
                        map.put(TAG_F_NAME, fname);
                        map.put(TAG_C_PHONE, phoneNumber);
                        // adding HashList to ArrayList
                        customerList.add(map);
                    } 
```

无需做这种开销，您可以通过扩展创建自定义适配器，**`ArrayAdapter<JSONObject>`**因此您无需准备`HashMap`，而是可以`JSONObject`直接添加。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:13:27.360

只需`finish()`从代码中的 onPostExecute 中删除即可。

```
protected void onPostExecute(String file_url) {

        pDialog.dismiss();
ListAdapter adapter = new SimpleAdapter(this, customerList, R.layout.activity_main5, new String[] { TAG_F_NAME, TAG_C_PHONE }, new int[] { R.id.TextViewName, R.id.TextViewPhone });
        setListAdapter(adapter);

    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T07:17:33.710

您的

> 结束（）

方法关闭你的活动，所以删除它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T07:15:57.920

不要在`onPostExecute()`方法中完成活动。

# sql - Update table with joining another table

> ID：13117317
> 
> 赞同：0
> 
> 时间：2012-10-29T07:11:46.740
> 
> 标签：sql, oracle, join, sql-update, oracle-sqldeveloper

I want to set field `f1` in table `t1` with the value `122` if field `f2` in table `t2` has value `134`. Suppose field `f34` is the key between table `t1` and `t2`.
How would I write the query for this in SQL Developer?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:14:59.017

你可以试试这个（对于 Oracle）：

```
UPDATE ( SELECT t1.f1, t2.f2
           FROM t1 
           JOIN t2
             ON t1.f34 = t2.f34
          WHERE t2.f2 = 134
       )
SET f1 = 122; 
```

## [看到这个 SQLFiddle](http://sqlfiddle.com/#!4/87f7b/1)

对于其他 RDBMS，请尝试使用 join 进行更新

对于 SQL Server：

```
UPDATE t1 
SET    f1 = 122
FROM   t1 
       JOIN t2  
         ON t1.f34 = t2.f34
WHERE  t2.f2 = 134 
```

## [看到这个 SQLFiddle](http://sqlfiddle.com/#!3/b7ef9/2)

对于 MySQL

```
UPDATE t1 temp1
  JOIN t2 temp2
    ON temp1.f34 = temp2.f34
SET    temp1.F1 = 122
WHERE  temp2.f2 = 134; 
```

## [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/a426a7/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:16:35.473

```
update t1
set f1 = 122
where exists (select 1 from t2 where f34 = t1.f34 and f2 = 134) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:16:38.137

```
update t1 a,t2 b set a.f1='122' where a.f34=b.f34 and b.f2=134; 
```

# c# - 无法理解与 lambda 表达式相关的这段代码的完整功能

> ID：13117319
> 
> 赞同：0
> 
> 时间：2012-10-29T07:11:56.707
> 
> 标签：c#

我们从数据库中获取了一些 od 数据，但是该方法使用 lambda 表达式（或其他我无法弄清楚的东西！）将其映射到对象并返回这些对象的列表而不是 DataTable。

我需要帮助来理解代码，我也知道 sql 在做什么，我只需要理解 sql 之后的代码，它执行映射并返回列表：

```
public IEnumerable<CompanyOption> GetCompanies(
    string state, string company, string lob, DateTime effectiveDate, string vehicleType)
{
    // TODO: Return type would change from IEnumerable<CompanyOptions> to IDictionary<String, IEnumerable<CompanyOptions>> 
    string sqlQuery = "SELECT [Code],[Mnemonic],[Description],[LimitCode],[LimitDescription],[LoanCode],"
                      +
                      "[LoanDescription],[EffectiveDate],[ExpirationDate],[VehicleTypeCode],[StateMinimumIndicator],"
                      + "[RecommendedLeisureIndicator],[CompanyLevelCode],[CompanyPosition]" + " FROM " + " ("
                      + "SELECT DISTINCT" + "'Code' = c.[PA_VEH_COV_CD]" + ",'Mnemonic' = cm.[SHORT_COV_DES]"
                      + ",'Description' = cm.[PVCL_VEH_COV_DES]" + ",'LeisureCode' = c.[VEH_COV_LIM_CD]"
                      + ",'LeisureDescription' = l.[Description]" + ",'LoanCode' = c.[VEH_COV_DED_CD]"
                      + ",'LoanDescription' = d.[Description]" + ",'EffectiveDate' = c.[EFFECTIVE_DT]"
                      + ",'ExpirationDate' = c.[EXPIRATION_DT]" + ",'VehicleTypeCode' = c.[PA_VEH_TYPE_CD]"
                      + ",'StateMinimumIndicator' = c.[STATE_MIN_IND]"
                      + ",'RecommendedLeisureIndicator' = c.[REC_COV_LIM_IND]"
                      + ",'CompanyLevelCode' = cm.[DSPLY_LEVEL_CD]" + ",'CompanyPosition' = cm.[COV_POS]"
                      + " FROM DB2IWS.PA_VEH_COV_LIT AS c " ////-- Company mneumonic/description
                      + " INNER JOIN DB2IWS.COV_MNEMONICS cm ON "
                      + " c.[RISK_STATE_CD] = cm.[RISK_STATE_CD] AND c.[PA_VEH_COV_CD] = cm.[PA_VEH_COV_CD]"
                      ////+ " Leisure descriptions; take 1st found from app 'SALEINET' or 'ZZZZZZZZ'"
                      ////-- TODO:  do we need to take COV_LEISURE_LIT.PA_VEH_COV_CD into account?  what is it?
                      + " LEFT OUTER JOIN ( " + " SELECT * FROM " + "(" + " SELECT [Code],[Description]"
                      + " FROM (" + " SELECT " + " [VEH_COV_LIM_CD] as [Code]"
                      ////-- overrdide description with value from legacy descr if no description
                      ////+ " ,ISNULL(NULLIF(RTRIM([PALL_LEISURE_DES]), ''), [LEGACY_LEISURE_DESC]) as [Description]"
                      + " ,[LEGACY_LEISURE_DESC] as [Description]"
                      +
                      ",ROW_NUMBER() OVER (PARTITION BY [VEH_COV_LIM_CD] ORDER BY [RISK_STATE_CD], [BUS_SRC_APP_ID]) AS RowNumber"
                      + " FROM [DB2IWS].[COV_LEISURE_LIT]" + " WHERE "
                      ////-- state from parameter of ZZ (any state)
                      + " ([RISK_STATE_CD] ='" + state + "' OR [RISK_STATE_CD] = 'ZZ') "
                      + " AND ([BUS_SRC_APP_ID] = 'SALEINET' OR [BUS_SRC_APP_ID] = 'ZZZZZZZZ') "
                      + " AND [LGG_CD2] = 'EN' " + " ) as l " + " WHERE [RowNumber] = 1 "
                      ////+" ORDER BY [Code]" cannot do order by here
                      + " )temp3 " + ") " + " AS l ON c.[VEH_COV_LIM_CD] = l.[Code] "
                      ////-- Loan descriptions; take 1st found from app 'SALEINET' or 'ZZZZZZZZ'
                      + " LEFT OUTER JOIN ( " + " SELECT * FROM " + " ( " + " SELECT [Code],[Description] "
                      + " FROM ( " + " SELECT " + " [VEH_COV_DED_CD] as [Code] "
                      /////-- overrdide description with value from legacy descr if no description
                      ////+ ",ISNULL(NULLIF(RTRIM([PADL_DED_DES]), ''), [LEGACY_DED_DESC]) as [Description] "
                      + ",[LEGACY_DED_DESC] as [Description] "
                      +
                      ",ROW_NUMBER() OVER (PARTITION BY [VEH_COV_DED_CD] ORDER BY [RISK_STATE_CD], [BUS_SRC_APP_ID]) AS RowNumber "
                      + " FROM [DB2IWS].[COV_DED_LIT]" + " WHERE " + " ([RISK_STATE_CD] ='" + state
                      + "'  OR [RISK_STATE_CD] = 'ZZ') "
                      + " AND ([BUS_SRC_APP_ID] = 'SALEINET' OR [BUS_SRC_APP_ID] = 'ZZZZZZZZ') "
                      + " AND [LGG_CD2] = 'EN' " + " ) as d " + " WHERE [RowNumber] = 1 "
                      ////+" ORDER BY [Code] "
                      + " )temp2 " + " )AS d ON c.[VEH_COV_DED_CD] = d.[Code] "
                      ////-- Exclude COV_NOT_OFFERED records
                      ////-- ??? do we also need to join VEH_COV_LIM_CD, VEH_COV_DED_CD? only if not 00000?
                      + " LEFT OUTER JOIN " + " ( " + " SELECT * " + " FROM DB2IWS.COV_NOT_OFFERED "
                      + " WHERE MASTER_COMPANY_NBR IN ('" + company + "', 'ZZ') " + " AND RISK_STATE_CD = '"
                      + state + "' " + " AND LOB_CD = '" + lob + "' " + " AND EFFECTIVE_DT <= "
                      + effectiveDate.ToShortDateString() + " " + " AND EXPIRATION_DT > "
                      + effectiveDate.ToShortDateString() + " " + " AND PA_VEH_TYPE_CD = '" + vehicleType + "' "

                      // -- this or PHY_VEH_TYPE_CD? 
                      + " ) cno ON cno.[PA_VEH_COV_CD] = cm.[PA_VEH_COV_CD] " + " WHERE "
                      + " c.[MASTER_COMPANY_NBR] = '" + company + "' " + " AND c.[RISK_STATE_CD] = '" + state
                      + "' " + " AND c.[LOB_CD] = '" + lob + "' "
                      ////+ " AND c.[EFFECTIVE_DT] <= " + effectiveDate.ToShortDateString() + " "
                      ////+ " AND c.[EXPIRATION_DT] > " + effectiveDate.ToShortDateString() + " "
                      + " AND cm.[BUS_SRC_APP_ID] = 'SALEINET' " + " AND cm.[LGG_CD2] = 'EN'"
                      ////--AND ((@MinCompanys = 0) OR 
                      ////--AND ((c.[STATE_MIN_IND] = 'Y')) 
                      ////-- Exclude COV_NOT_OFFERED records
                      + " AND cno.[PA_VEH_COV_CD] IS NULL" //// + " ORDER BY c.PA_VEH_COV_CD"
                      + " )AS temp";
    return this.Database.SqlQuery<CompanyDto>(sqlQuery).ToList().ConvertAll(
            c => new Company
                {
                    CompanyType =
                        new CompanyType
                            {
                                Code = c.Code, 
                                Mnemonic = c.Mnemonic, 
                                Description = c.Description, 
                                CompanyLevel = c.CompanyLevelCode, 
                                CompanyPosition = Convert.ToInt32(c.CompanyPosition)
                            }, 
                    Leisure =
                        new Leisure
                            {
                                Code = c.LeisureCode, 
                                Description = c.LeisureDescription, 
                                Minimum = "Y".Equals(c.StateMinimumIndicator, StringComparison.OrdinalIgnoreCase), 
                                Recommended =
                                    "Y".Equals(c.RecommendedLeisureIndicator, StringComparison.OrdinalIgnoreCase)
                            }, 
                    Loan =
                        new Loan { Code = c.LoanCode, Description = c.LoanDescription }
                }).ToLookup(
            c =>
            new Tuple<string, string, string, string, int>(
                c.CompanyType.Code, 
                c.CompanyType.Mnemonic, 
                c.CompanyType.Description, 
                c.CompanyType.CompanyLevel, 
                c.CompanyType.CompanyPosition)).Select(
                    t =>
                    new CompanyOption
                        {
                            CompanyType =
                                new CompanyType
                                    {
                                        Code = t.Key.Item1, 
                                        Mnemonic = t.Key.Item2, 
                                        Description = t.Key.Item3, 
                                        CompanyLevel = t.Key.Item4, 
                                        CompanyPosition = t.Key.Item5
                                    }, 
                            Leisures =
                                (from Company c in t select c.Leisure).GroupBy(l => l.Code).Select(
                                    gr => gr.First()), 
                            Loans =
                                (from Company c in t select c.Loan).GroupBy(d => d.Code).Select(
                                    gr => gr.First())
                        }).OrderBy(t => t.CompanyType.CompanyPosition);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:24:05.410

```
return this.Database
    .SqlQuery<CompanyDto>(sqlQuery).ToList()

    // ConvertAll -> Converts every element in the list to the specified type.
    .ConvertAll(
        c => new Company {
            CompanyType =
                new CompanyType
                    {
                        Code = c.Code, 
                        Mnemonic = c.Mnemonic, 
                        Description = c.Description, 
                        CompanyLevel = c.CompanyLevelCode, 
                        CompanyPosition = Convert.ToInt32(c.CompanyPosition)
                    }, 
            Leisure =
                new Leisure
                    {
                        Code = c.LeisureCode, 
                        Description = c.LeisureDescription, 
                        Minimum = "Y".Equals(c.StateMinimumIndicator, StringComparison.OrdinalIgnoreCase), 
                        Recommended =
                            "Y".Equals(c.RecommendedLeisureIndicator, StringComparison.OrdinalIgnoreCase)
                    }, 
            Loan =
                new Loan { Code = c.LoanCode, Description = c.LoanDescription }
        }
    )

    // Convert to lookup list, in other words, add a key.
    .ToLookup(
        c =>
            new Tuple<string, string, string, string, int>(
                c.CompanyType.Code, 
                c.CompanyType.Mnemonic, 
                c.CompanyType.Description, 
                c.CompanyType.CompanyLevel, 
                c.CompanyType.CompanyPosition
            )
    )

    // And convert again to another type
    .Select(
            t =>
            new CompanyOption
                {
                    CompanyType =
                        new CompanyType
                            {
                                Code = t.Key.Item1, 
                                Mnemonic = t.Key.Item2, 
                                Description = t.Key.Item3, 
                                CompanyLevel = t.Key.Item4, 
                                CompanyPosition = t.Key.Item5
                            }, 
                    Leisures =
                        (from Company c in t select c.Leisure).GroupBy(l => l.Code).Select(
                            gr => gr.First()), 
                    Loans =
                        (from Company c in t select c.Loan).GroupBy(d => d.Code).Select(
                            gr => gr.First())
                }).OrderBy(t => t.CompanyType.CompanyPosition); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:15:39.267

据我所知，它基本上会遍历数据库中的整个结果，然后手动将其映射到您的 C# 类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:27:15.843

> 您不了解对象是如何创建的吗？

考虑以下程序：

```
class A
{
    public B bRef;
    public C cRef;
}

class B
{
    public int aBInt;
}

class C
{
    public int aCInt;
}

class Program
{
    static void Main(string[] args) 
    {
        A aRef = new A
            {
                bRef = new B
                    {
                        aBInt = 10,
                    },
                cRef = new C
                    {
                        aCInt = 10,
                    }
            };
    }
} 
```

这样也可以创建对象并用值填充对象。

# java - 如何使用 JAVA 程序丢弃数据包

> ID：13117320
> 
> 赞同：1
> 
> 时间：2012-10-29T07:12:04.700
> 
> 标签：java, jpcap

> **可能重复：**
> [用 Java 编写丢弃网络数据包的个人防火墙](https://stackoverflow.com/questions/7884408/writing-a-personal-firewall-in-java-that-drop-network-packet)

嗨朋友们，我是这个社区的新手。我是mtech的学生。我正在研究 DOS 攻击检测和预防技术作为论文。我正在使用 jpcap 库来捕获数据包，并且我有一个算法来查找欺骗数据包。我想丢弃欺骗数据包以防止系统受到 DoS 攻击。jpcap 中没有可用的类来丢弃数据包。任何人都可以帮助我找到一种使用 JAVA 程序丢弃欺骗数据包的方法吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:21:45.690

我不知道有任何基于 Java 的 API 可以让您过滤数据包，据我所知，没有支持此功能的 Java API。没有`pcap`库：`jnetpcap,jpcap, winpcap`等。

您将不得不使用`OS dependent firewall API`诸如

microsoft:[微软防火墙 API](http://msdn.microsoft.com/en-us/library/windows/desktop/ff956124%28v=vs.85%29.aspx)

# iphone - Facebook 集成兼容性问题

> ID：13117329
> 
> 赞同：0
> 
> 时间：2012-10-29T07:12:59.533
> 
> 标签：iphone, facebook

我正在为 iPhone 创建应用程序。当用户单击屏幕上显示的共享按钮详细信息时，将在 facebook 上共享。我希望我的应用程序可以在 iOS 5 和 iOS 6 上运行。现在我使用的是 facebook SDK 3.1。它适用于 iOS 6，但不适用于 iOS 5。它给出了这个错误：

```
2012-10-29 12:39:49.588 FacebookDemo[1715:c07] *** Terminating app due to uncaught exception
'com.facebook.sdk:InvalidOperationException', reason: 'FBSession: an attempt was made reauthorize 
permissions on an unopened session' 
```

我认为这是 facebook SDK 需要的一些框架的问题，比如在 iOS 5 中不可用的 social.framework

我应该怎么做才能在 iOS 5 和 6 上工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:35:08.610

通常，除了 FacebookSDK 之外，您还需要 AdSupport、Social 和 Accounts 框架，这些框架需要设置为 Optional，因为 Accounts 仅在 IOs 5 中可用，而另外两个在 IOS 6 中是新的

实际上它与向后兼容性无关。当您想在会话状态未打开时发出新请求时，您会得到 FBSession：尝试重新授权未打开会话的权限。在 eacj 请求之前确保你。

```
if (FBSession.activeSession.isOpen) {

//MAke you request 

}else{
//REopen your session
} 
```

# c# - 更新关系表中的条目时出现问题

> ID：13117331
> 
> 赞同：0
> 
> 时间：2012-10-29T07:13:08.507
> 
> 标签：c#, entity-framework

> **可能重复：**
> [更新数据库实体的问题](https://stackoverflow.com/questions/13116764/issue-with-updating-database-entity)

我正在使用 Entity FrameWork - 4.0 开发关系数据库。我对 Entity FrameWork 完全陌生。我的数据库中有 3 个具有以下关系的表：

```
 1   to   many       1   to  many
Ceremony -------------> Menu ------------> CourseOption 
```

问题是在更新数据库中的现有仪式时。假设`Ceremony`我要更新的内容包含`1 menu`和`1 courseoption`。如果我更改现有的 Menu 和 CourseOption 属性值，则它可以正常工作。对数据库的更改正确地发生在数据库中。

**主要问题**- > 但是如果我添加新的菜单和课程选项或者删除现有的菜单和课程选项，那么这个更改对数据库没有影响。

`C#`更新数据库中的条目的代码：

```
db.Entry(ceremony).State = EntityState.Modified; 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:43:51.490

For adding we have to write code like

```
db.Entry.Add(ceremony);
db.SaveChanges(); 
```

For Deleting We have to write like

```
db.Entry(ceremony).State = EntityState.Deleted; 
```

# extjs4 - 单击按钮时在选项卡面板内查看

> ID：13117336
> 
> 赞同：0
> 
> 时间：2012-10-29T07:13:33.933
> 
> 标签：extjs4, sencha-touch, extjs, sencha-touch-2

如何在按钮单击时在选项卡面板中带来新视图？

这是包含按钮的名为 test 的视图的代码。此视图位于选项卡面板下，如 Main.js 视图中所述。当我单击按钮时，会出现新的列表视图。但它没有出现在 Main.js 的选项卡面板下。我怎样才能将它带到选项卡面板下？这是测试视图。

```
Ext.define('tourism.view.test',{
    extend: 'Ext.Panel',
    requires:[
        'Ext.Label',
        'tourism.view.SampleView'
    ],
    xtype: 'test',
    config:{
        layout: {
            type: 'vbox'
        },
        items: [
            {
                xtype: 'container',
                layout: 'hbox',
                flex: 1,
                items:[

                    {
                        xtype: 'container',
                        layout: 'hbox',
                        flex: 1,
                        items:[
                            {
                                xtype:'button',
                                ui: 'plain',
                                centered:true,
                                html:'<img src="resources/images/ArtAndCulture.png" height="100%" width="100%" align="center">',
                                height: 100,
                                width: 200,
                                handler: function(button,event){
                                    var sample = Ext.create('tourism.view.ArtandCulture');
                                    Ext.Viewport.setActiveItem(sample);
                                }

                            }
                        ]
                    },
                    {
                        xtype: 'container',
                        layout: 'hbox',
                        flex: 1,
                        items:[
                            {
                                xtype:'button',
                                ui: 'plain',
                                centered:true,
                                html:'<img src="resources/images/Plantation&Garden.png" height="100%" width="100%" align="center">',
                                height: 100,
                                width: 200,
                                handler:function(){
                                     var sample = Ext.create('tourism.view.PlantationsandGardens');
                                    Ext.Viewport.setActiveItem(sample);
                                }
                            }
                        ]
                    }
                ]
            }
        ]

    }

}); 
```

ArtandCulture 的观点是：

```
Ext.define('tourism.view.ArtandCulture',{
    extend:'Ext.List',
    xtype:'artandculturelist',
    config:{
        title:'Arts and Culture',
        itemTpl:[
            '<img src="{image_url}" width="100px" height="100px">',
            '{name}','{category_name}'
        ],
        store:'AttractionMasters',
        onItemDisclosure:true
    }
}); 
```

主要观点是：

```
Ext.define("tourism.view.Main", {
    extend: 'Ext.tab.Panel',
    requires: [
        'Ext.TitleBar',
    ],
    config: {
        tabBarPosition: 'bottom',
        items: [
            {
                title: 'Welcome',
                iconCls: 'home',
                styleHtmlContent: true,
                layout: 'hbox',
                items:[
                    {
                    docked: 'top',
                    xtype: 'titlebar',
                    title: 'tourism'
                    },
                    {
                        xtype: 'leftpanel',
                        flex: 1
                    },
                    {
                        xtype: 'rightpanel',
                        flex: 4

                    }
              ]
            },
            {
                title: 'About',
                iconCls: 'action',               
                items: [
                    {
                        docked: 'top',
                        xtype: 'titlebar',
                        title: 'Menu'
                    },
                    {
                        xtype: 'test'
                    }
                ]
            }          
        ]
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T23:09:35.920

您需要将视图添加到 TabPanel 容器 ( `tourism.view.Main`)，而不是 Viewport。将一些 id 添加到 tabpanel，以便可以从处理程序访问它。

```
handler: function(button,event){
    var sample = Ext.create('tourism.view.ArtandCulture');
    var tab = Ext.getCmp('TabPanelId')
    tab.add(sample);
    tab.setActiveTab(sample);
} 
```

# ios - 如何在查询手机中使用饼图？

> ID：13117338
> 
> 赞同：0
> 
> 时间：2012-10-29T07:13:38.983
> 
> 标签：ios, cordova, jquery-mobile

我正在 jquery mobile 中创建一个仪表板应用程序，我想在其中实现饼图。有人可以帮我解决吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:38:57.450

您可以尝试一些用于 jQuery 的图形库，例如：

*   Flot：[http](http://www.flotcharts.org/) ://www.flotcharts.org/ （饼图示例：[http](http://people.iola.dk/olau/flot/examples/pie.html) ://people.iola.dk/olau/flot/examples/pie.html ）
*   jqPlot：[http](http://www.jqplot.com/index.php) ://www.jqplot.com/index.php （饼图示例：[http](http://www.jqplot.com/tests/pie-donut-charts.php) ://www.jqplot.com/tests/pie-donut-charts.php ）

# ruby - 在 Ruby 1.8.7 中使用标题大小写

> ID：13117340
> 
> 赞同：2
> 
> 时间：2012-10-29T07:13:45.787
> 
> 标签：ruby, rspec, title-case

如何将字符串中的某些字母大写以使其仅大写指定的单词。

必须通过这些测试：“巴拉克奥巴马”==“巴拉克奥巴马”和“麦田里的守望者”==“麦田里的守望者”

到目前为止，我有一个将所有单词大写的方法：

```
#Capitalizes the first title of every word.
def capitalize(words)
     words.split(" ").map {|words| words.capitalize}.join(" ")
end 
```

我可以采取哪些最有效的后续步骤来达成解决方案？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:33:55.747

您可以创建一个您不想大写的单词列表并执行

```
excluded_words = %w(the and in) #etc

def capitalize_all(sentence, excluded_words)
  sentence.gsub(/\w+/) do |word|
    excluded_words.include?(word) ? word : word.capitalize
  end
end 
```

顺便说一句，如果您使用的是 Rails 并且不需要排除特定的单词，您可以使用`titleize`.

```
"the catcher in the rye".titleize
#=> "The Catcher In The Rye" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-17T05:42:26.470

这是另一个解决方案。它不是那么漂亮，但它处理的首字母缩略词是你想要保留所有的大写字母和缩略词，你不想像我以前使用的缩略词那样被弄乱。除此之外，它还确保您的第一个和最后一个单词大写。

```
class String
  def titlecase
    lowerCaseWords = ["a", "aboard", "about", "above", "across", "after", "against", "along", "amid", "among", "an", "and", "around", "as", "at", "before", "behind", "below", "beneath", "beside", "besides", "between", "beyond", "but", "by", "concerning", "considering", "d", "despite", "down", "during", "em", "except", "excepting", "excluding", "following", "for", "from", "in", "inside", "into", "it", "ll", "m", "minus", "near", "nor", "of", "off", "on", "onto", "opposite", "or", "outside", "over", "past", "per", "plus", "re", "regarding", "round", "s", "save", "since", "t", "than", "the", "through", "to", "toward", "towards", "under", "underneath", "unlike", "until", "up", "upon", "ve", "versus", "via", "with", "within", "without", "yet"]
    titleWords = self.gsub( /\w+/ )
    titleWords.each_with_index do | titleWord, i |
      if i != 0 && i != titleWords.count - 1 && lowerCaseWords.include?( titleWord.downcase )
        titleWord
      else
        titleWord[ 0 ].upcase + titleWord[ 1, titleWord.length - 1 ]
      end
    end
  end
end 
```

以下是一些如何使用它的示例

```
puts 'barack obama'.titlecase # => Barack Obama
puts 'the catcher in the rye'.titlecase # => The Catcher in the Rye
puts 'NASA would like to send a person to mars'.titlecase # => NASA Would Like to Send a Person to Mars
puts 'Wayne Gretzky said, "You miss 100% of the shots you don\'t take"'.titlecase # => Wayne Gretzky Said, "You Miss 100% of the Shots You Don't Take" 
```

# c# - SqlDataReader“枚举没有结果”

> ID：13117343
> 
> 赞同：4
> 
> 时间：2012-10-29T07:13:59.637
> 
> 标签：c#, asp.net, sqldatareader

一直想弄清楚，但我做不到。

我通过 SqlCommand 执行存储过程，返回的 SqlDatareader 对象没有给我结果，但是，如果在调试器中探索对象，我可以看到它们。这是我正在谈论的图像：

## ![见](../Images/c10fa850f8b30af6ae9b59b23a2099c4.png)

在结果视图行中，它显示“**枚举没有产生任何结果**”，但在路径中：

**base -> base -> ResultView -> [0] -> Non-Public members -> _values -> [0], [1](https://i.stack.imgur.com/2OzVq.png) ,[2],[3]** 结果显示。

有人知道如何获得它们吗？

这是我用来获取特定列的代码：

```
if (dataReader.Read())
{
   ProjectFolderId = dataReader["ItemID"].ToString();
} 
```

但**如果**返回假。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-29T07:20:22.963

你需要小心：一个阅读器只能被消费**一次**。通过在预览窗口中显示数据，您很可能在调试器中意外使用了该数据，并且不再可用。

确保它在调试器预览窗口中**不**可见/未展开，然后重试。

显示`_values`的只是成功读取的最后一行的遗留/剩余部分。

# file - awk 比较 2 个文件，2 个字段在文件中的不同顺序，打印或合并匹配和非匹配行

> ID：13117346
> 
> 赞同：0
> 
> 时间：2012-10-29T07:14:20.750
> 
> 标签：file, awk, compare, field

我有两个文件，我需要比较 File1 中的第二个字段和 File2 中的第一个字段。如果匹配打印 File2 的第二个字段并且整行从 File1 匹配 如果没有匹配打印“NOT FOUND”和整行从 File1

文件 1

```
\\FILESERV04\PCO;S:\CA\USII ECOM;/FS7_434D/FILESERV04/BUSII;;;;\\FILESERV04\PCO\;467,390,611 Bytes;11,225 ;157 
\\FILESERV12\MINE$;S:\CA\Naka;/FS3_434D/FILESERV12/NAKA;;;;\\FILESERV12\MINE$\;0 Bytes;0 ;0 
\\FILESERV12\INTEG$;S:\CA\PLOTA;/FS3_434D/FILESERV12/INTEG;;;;\\FILESERV12\INTEG$\;231,094,432,158 Bytes;175,180 ;21,309 
\\FILESERV15\ED$;S:\CA\ED;/FS3_434D/FILESERV12/ED;;;;\\FILESERV15\ED$\;244,594,432,158 Bytes;145,040 ;21,311 
```

文件2

```
S:\CA\USII ECOM;782
S:\CA\PLOTA;0
S:\CA\Naka;781 
```

期望的输出：

```
782;\\FILESERV04\PCO;S:\CA\USII ECOM;/FS7_434D/FILESERV04/BUSII;;;;\\FILESERV04\PCO\;467,390,611 Bytes;11,225 ;157 
781;\\FILESERV12\MINE$;S:\CA\Naka;/FS3_434D/FILESERV12/NAKA;;;;\\FILESERV12\MINE$\;0 Bytes;0 ;0 
0;\\FILESERV12\INTEG$;S:\CA\PLOTA;/FS3_434D/FILESERV12/INTEG;;;;\\FILESERV12\INTEG$\;231,094,432,158 Bytes;175,180 ;21,309 
NOT FOUND;\\FILESERV15\ED$;S:\CA\ED;/FS3_434D/FILESERV12/ED;;;;\\FILESERV15\ED$\;244,594,432,158 Bytes;145,040 ;21,311 
```

如果要比较的字段编号在两个文件上是相同的字段编号，则此行有效：

```
awk -F";" 'NR==FNR{a[$1]=$2;next}{if (a[$1])print a[$1]";"$0;else print "Not Found"";" $0;}' File1 File2 
```

但是在这里不起作用，因为在这种情况下，我有不同的字段编号要从两个文件中进行比较。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T07:23:53.293

一种使用方式`GNU awk`：

```
awk 'BEGIN { OFS=FS=";" } FNR==NR { array[$1]=$2; next } { print ($2 in array ? array[$2] : "Not Found"), $0 }' File2 File1 
```

结果：

```
782;\\FILESERV04\PCO;S:\CA\USII ECOM;/FS7_434D/FILESERV04/BUSII;;;;\\FILESERV04\PCO\;467,390,611 Bytes;11,225 ;157 
781;\\FILESERV12\MINE$;S:\CA\Naka;/FS3_434D/FILESERV12/NAKA;;;;\\FILESERV12\MINE$\;0 Bytes;0 ;0 
0;\\FILESERV12\INTEG$;S:\CA\PLOTA;/FS3_434D/FILESERV12/INTEG;;;;\\FILESERV12\INTEG$\;231,094,432,158 Bytes;175,180 ;21,309 
Not Found;\\FILESERV15\ED$;S:\CA\ED;/FS3_434D/FILESERV12/ED;;;;\\FILESERV15\ED$\;244,594,432,158 Bytes;145,040 ;21,311 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T07:23:32.163

```
 awk -F";" 'NR==FNR{a[$1]=$2;next}{if ($2 in a)print a[$2]";"$0;else print "Not Found"";" $0;}'  File2 File1 
```

# php - “where 子句”中的未知列“IS NULL LIMIT 15”

> ID：13117351
> 
> 赞同：0
> 
> 时间：2012-10-29T07:14:38.407
> 
> 标签：php, codeigniter

我收到一个数据库错误，即`Error Number: 1054`

`' IS NULL LIMIT 15'`'where 子句'中的 未知列`SELECT * FROM (categories) WHERE IS NULL LIMIT 15`

```
function categories()
{   

    $this->suri=3;
    $this->surl=site_url('variables/categories/');
    $this->load->library('pagination');
    $cond = array(
                'parent_id' => '0'
                );
    $config['base_url'] = $this->surl;
    $config['total_rows'] = $this->commonmodel->getcountcond('categories',$cond);
    $config['per_page'] = '15';
    $config['first_link'] = 'First';
    $config['last_link'] = 'Last';
    $config['cur_tag_open'] = '<span>';
    $config['cur_tag_close'] = '</span>';
    $config['uri_segment'] = $this->suri; 
    $this->pagination->initialize($config);
    $parent_cond = array(
                'parent_id' => '0'
                 ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:19:58.803

我认为您的查询必须是：
您的 where 子句中必须有一个参考字段

```
SELECT * FROM (categories) WHERE `categories.field` IS NULL LIMIT 15 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:21:29.907

```
$this->commonmodel->getcountcond('categories',$cond); 
```

这个计数器不起作用..检查它;）

# spring-webflow - 如何在 Spring WebFlow 中处理来自 CommonsMultipartResolver 的 SizeLimitExceededException？

> ID：13117353
> 
> 赞同：6
> 
> 时间：2012-10-29T07:14:49.873
> 
> 标签：spring-webflow, spring-webflow-2, apache-commons-fileupload

我有以下情况。我有一个按以下方式配置的 CommonsMultipartResolver bean。

```
<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
<property name="maxUploadSize" value="2100000" /> 
```

我在 Spring Web Flow 视图状态 jsp 中有一些文件上传字段。

如果文件低于限制，一切正常，但如果文件超过 2MB-s 的限制，我必须在表单的绑定结果中添加验证错误。

我的问题是多部分文件解析器在超过文件限制时抛出 org.apache.commons.fileupload.FileUploadBase.SizeL imitExceededException 异常，我找不到在 Spring Web Flow 中捕获此问题并将我的 FieldError 添加到形式。

我尝试使用转换标记的 on-exception 属性，但如果我理解正确，它仅适用于 Spring Web Flow 中引发的异常。

我也尝试在 spring mvc 中使用 SimpleMappingExceptionResolver，但我不想重定向到页面，我想处理这个异常。

我还发现了这个：[https ://jira.springsource.org/browse/SWF-158](https://jira.springsource.org/browse/SWF-158)

但它来自 1.0 版，我假设它已经被合并，或者找到了更好的方法来处理这些情况。

任何有关如何处理此问题的想法将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T18:25:27.780

在你的`SimpleMappingExceptionResolver`你应该能够覆盖该`resolveException`方法，确定被捕获的异常类型并适当地处理。

我在我们的项目中发现了一些旧代码，似乎可以解决类似的异常；

```
public class GeneralMappingExceptionResolver extends SimpleMappingExceptionResolver {

 @Override
 public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception) {

    if(exception instanceof MaxUploadSizeExceededException) {
        MaxUploadSizeExceededException maxe = (MaxUploadSizeExceededException)exception;
        String errorMessage = "Max filesize exceeded, please ensure filesize is too large.");
        HashMap<String, Object> model = new HashMap<String, Object>(2);
        model.put("errorMessage", errorMessage);
        return new ModelAndView("verification/psv/consent", model);
    } else {
        return super.resolveException(request, response, handler, exception); // Do whatever default behaviour is (ie throw to error page).
    }
} 
```

请注意，“verification/psv/consent”是引发此异常的流程以及需要返回的流程。我们只有一个页面有文件上传。

显然 errorMessage 只是传递给视图的参数，因此需要像错误消息一样处理和显示。您可能还需要重新填充已提交的任何其他表单字段。希望这是朝着正确方向发展的一点。

# pentaho - Pentaho 服务器无法访问

> ID：13117357
> 
> 赞同：1
> 
> 时间：2012-10-29T07:15:07.343
> 
> 标签：pentaho

我正在使用 pentaho 4.5，但是每当我安装它并尝试访问服务器时，它会引发一些问题，例如 JVM_bind，但我没有运行任何服务器，最近我更改了我的 tomcat 端口号，然后它引发了这个问题

```
Pentaho Initialization Exception

The following errors were detected
The system failed to initialize.
   SolutionEngine.ERROR_1009 - Missing, invalid, or expired product license.

Please see the server console for more details on each error detected. 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T13:08:10.633

侯赛因，你的执照好像过期了。如果您是 Enterprise 客户，您可能需要使用 Enterprise Console 安装（或重新安装）您的许可证文件。如果您尚未订阅，您的演示许可证可能已过期。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-24T02:48:47.623

我不确定是否有帮助，但您是否将 pentaho-solution 更改为其他版本？

# javascript - 《你好世界》+JS V8+VS2010

> ID：13117358
> 
> 赞同：5
> 
> 时间：2012-10-29T07:15:08.427
> 
> 标签：javascript, c++, embedded-v8

我下载并构建了 JS V8 以在 VS2010 发布模式下使用。现在我尝试运行[Hello World 示例](https://developers.google.com/v8/get_started)：

```
#include "v8.h"

int _tmain(int argc, _TCHAR* argv[])
{
    v8::HandleScope handle_scope;

    v8::Persistent<v8::Context> context = v8::Context::New();

    v8::Context::Scope context_scope(context);

    v8::Handle<v8::String> source = v8::String::New("'Hello' + ', World'");

    v8::Handle<v8::Script> script = v8::Script::Compile(source);

    v8::Handle<v8::Value> result = script->Run();

    context.Dispose();

    v8::String::AsciiValue ascii (result);

    printf ("%s\n", *ascii);

    return 0;
} 
```

我添加了其他依赖项：

```
"C:\v8\build\Release\lib\preparser_lib.lib"
"C:\v8\build\Release\lib\v8_base.lib" 
```

当我尝试编译和运行程序时，遇到了链接错误：

```
1>------ Build started: Project: V8_example, Configuration: Release Win32 ------
1>LINK : warning LNK4098: defaultlib 'LIBCMT' conflicts with use of other libs; use /NODEFAULTLIB:library
1>v8_base.lib(platform-win32.obj) : error LNK2001: unresolved external symbol __imp__inet_addr@4
...
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

当我设置“忽略所有默认库：是（/NODEFAULTLIB）”时，出现了以下错误：

```
1>------ Build started: Project: V8_example, Configuration: Release Win32 ------
1>v8_base.lib(strtod.obj) : error LNK2001: unresolved external symbol @__security_check_cookie@4
1>v8_base.lib(full-codegen-ia32.obj) : error LNK2001: unresolved external symbol @__security_check_cookie@4
...
1>c:\users\admin\documents\visual studio 2010\Projects\V8_example\Release\V8_example.exe : fatal error LNK1120: 141 unresolved externals
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

有没有人尝试过运行这个示例或知道如何修复这些错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:30:01.087

该错误是由缺少符号引起的，该符号`__imp__inet_addr@4`位于`Ws2_32.lib`.

转到项目属性 -> 链接器 -> 输入 -> 附加依赖项。只需添加即可`Ws2_32.lib`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T05:14:39.670

我必须包括以下库： `v8_base.lib;v8_snapshot.lib;ws2_32.lib;winmm.lib`

不要定义`/NODEFAULTLIB:LIBCMT`这导致我的构建失败。

如果您对我是如何发现的感到好奇，我查看了 GYP 生成的 ALL.sln 并检查了`shell`目标。它是一个必须在某些时候与 v8_base 链接的可执行文件，因此它具有所需的链接器选项。然而，它有点难以找到。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-05T08:33:22.510

怎么样`/NODEFAULTLIB:LIBCMT`，只排除这个库？我也相信您需要链接 v8_snapshot.lib 或 v8_nosnapshot.lib 或者您构建共享库并链接到 v8.lib

# javascript - 为什么 jQuery .html(string) 将 type 属性移到输入的末尾？

> ID：13117361
> 
> 赞同：0
> 
> 时间：2012-10-29T07:15:19.060
> 
> 标签：javascript, jquery, html

我有一个包含三个不同输入的表单；两个文本和一个提交。此表单的 html 存储在 javaScript 变量`var form`中。当用户单击按钮时，将执行以下代码：

```
$('#content').html(form); 
```

这按预期工作。然后，当用户再次单击该按钮时，它会将`#content`元素的 html 与`var form`. 您会期望它返回 true，因为我只是将元素设置为包含表单的内容，但它返回 false。

我发现当我从`#content`元素中检索 html 时，它与我插入它时略有不同。对于每个输入标签，`type`属性从开头移动到结尾。那是：

```
<input type="text"... /> --> <input ...type="text" /> 
```

可以理解的是，当我尝试比较它们时，它返回 false。但是，这引出了一个问题，即为什么它没有像在变量中一样插入 html？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:27:37.250

这可能不是由于 jQuery；这是浏览器。一旦将 text/html 转换为 DOM 节点，将这些节点转换回文本取决于浏览器，而不是由规范定义。

如果要比较`<form>`标签的内容是否与创建时相同，则无法比较其文本形式。毕竟，一旦被浏览器解析`<form class="foo" id="bar">`，`<form id="bar" class="foo">`就会产生相同的 DOM 节点。

您应该只比较您希望更改并具有明确定义的状态的属性，例如`value`输入元素的属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:37:59.983

执行时`.html(form)`，浏览器会更改其底层文档对象模型 (DOM)。它不会记录作为参数传递的 HTML。

构成网页的 HTML 也是如此——在它被解释为 DOM 节点之后，除非页面被刷新，否则 HTML 本身在页面的生命周期中不再发挥作用。

返回的字符串 string`.html()`是完全**合成**的。

所以不，您不会期望返回的字符串`.html()`与原始`form`变量相同。

# php - 如何使用 PHP 在 Facebook 上分享帖子？

> ID：13117362
> 
> 赞同：6
> 
> 时间：2012-10-29T07:15:22.713
> 
> 标签：php, facebook

我的程序中有 5 个 div，在每个 div 中，它包含不同的内容并在 FB 按钮上共享。现在，当我单击此按钮时，我需要在 FB 上分享该特定内容。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-29T07:29:50.697

有2种方式。以下链接可能对您有所帮助。我正在使用本文中的代码。

1）使用JavaScript：

[http://thinkdiff.net/facebook/new-javascript-sdk-oauth-2-0-based-fbconnect-tutorial/](http://thinkdiff.net/facebook/new-javascript-sdk-oauth-2-0-based-fbconnect-tutorial/)

2) 图形API

[http://thinkdiff.net/facebook/php-sdk-3-0-graph-api-base-facebook-connect-tutorial/](http://thinkdiff.net/facebook/php-sdk-3-0-graph-api-base-facebook-connect-tutorial/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:20:08.847

FB php SDK：[https ://developers.facebook.com/docs/reference/php/](https://developers.facebook.com/docs/reference/php/)

这是他们 PHP API 的完整 FB 文档。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T07:57:50.473

试试这个

```
 <?php
                    $title=urlencode('Dressfinity');
                    $url=urlencode('http://www.facebook.com/pages/Dressfinity-LLC/208406062583392 ');
                    $image=urlencode('http://livemarketnews.com/dressfinity/skin/frontend/default/default/images/logo.jpg');
                ?>
                <a onClick="window.open('http://www.facebook.com/sharer.php?s=100&amp;p[title]=<?php echo $title;?>&amp;p[url]=<?php echo $url; ?>&amp;&p[images][0]=<?php echo $image;?>', 'sharer', 'toolbar=0,status=0,width=548,height=325');" target="_parent" href="javascript: void(0)">
                    Share our Facebook page!
                </a> 
```

对于每个 div。

# jquery - Fancybox 2.1.3 - 当可滚动内容变长时框移开

> ID：13117364
> 
> 赞同：1
> 
> 时间：2012-10-29T07:15:30.890
> 
> 标签：jquery, html, fancybox, fancybox-2

**编辑：**我忘了提，这只发生在 Chrome（最新版本）中。

这是设置：

```
<fancyboxOverlay>
    <fancybox>
        <ContainerDiv>
            <MenuDiv>
            <ScrollableContentDiv>
                <ActualContentDiv> 
```

每当 ActualContentDiv 比 ScrollableContentDiv 长时，后者将显示滚动条。整个框包含一个表单，该表单几乎只是关于通过按“下一步”按钮显示或隐藏 div（“页面”）。

这就是问题：

其中一页很长，最后有一个“下一步”按钮。按下时会显示下一页，但花式框也会向右和底部移动。不仅是fancybox，还有fancyboxOverlay。然后，覆盖的新左上角位于以前幻想框的左上角所在的位置。

此外，这种转变似乎只是视觉上的，但实际的内容元素（如按钮或输入字段）仍然位于它们应该只是现在它们“不可见”的相同位置。当我将鼠标悬停在应该是下一个按钮的区域上并且该按钮的视觉表示（现在被放置得很远）切换到它的悬停状态时，我发生了这种情况。

我不知道，如果你明白我的意思。视觉上所有内容都向右移动了一点，但我的鼠标光标向我显示它们就在它们应该在的位置。只有当内容太长时才会发生这种转变。

这很令人困惑。

fancybox 调用是：

```
$("a.various").fancybox({
    fitToView: false,
    autoSize: true,
    //width: 710,
    //height: 700,
    closeClick: false,
    autoCenter: false,
    scrolling: 'auto',
    helpers: {
        overlay: { closeClick: false }
    } 
```

溢出样式如下：

```
ContainerDiv: no overflow styles
MenuDiv: no overflow styles
ScrollableContentDiv: overflow-y: auto; overflow-x: hidden;
ActualContentDiv: overflow-x: visible; overflow-y: visible; 
```

我不知道如何更好地解释这一点。我不能展示这个项目。那么有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:19:15.037

任何演示都将有助于理解您的问题。我尝试重新创建，但对我来说效果很好。也许禁用下一个/上一个动画会有所帮助 -

```
$("a.various").fancybox({
    nextEffect        : 'none',
    prevEffect        : 'none'
}); 
```

​</p>

看看在行动 - [http://jsfiddle.net/qwHW7/](http://jsfiddle.net/qwHW7/)

# html - xml 标签作为参数传递给 xsl

> ID：13117366
> 
> 赞同：0
> 
> 时间：2012-10-29T07:15:33.147
> 
> 标签：html, xml, xslt, tags

*如何修改下面的xsl来处理值为tags的参数。而不是使用 w:p 和 w:pPr/w:pStyle/@w:val 我将它们作为参数传递*

**实际 XSl**：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
 xmlns:ve="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing" xmlns:w10="urn:schemas-microsoft-com:office:word" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main" xmlns:wne="http://schemas.microsoft.com/office/word/2006/wordml"
>
<xsl:param name="styleName"/>
<xsl:output method="text"/>
<xsl:template match="w:p"/>
<xsl:template match="w:p[w:pPr/w:pStyle/@w:val[matches(., concat('^(',$styleName,')$'),'i')]]"> 
    <xsl:value-of select="."/><xsl:text>
</xsl:text>
</xsl:template>
</xsl:stylesheet> 
```

**所需的 XSL：**

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
 xmlns:ve="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing" xmlns:w10="urn:schemas-microsoft-com:office:word" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main" xmlns:wne="http://schemas.microsoft.com/office/word/2006/wordml">

<xsl:param name="styleName" select="'articletitle'"/>
<xsl:param name="para" select="'//w:p[w:pPr/w:pStyle/@w:val[matches(.,concat('^(',$styleName,')$')]]'"/>

<xsl:output method="text"/>

    <xsl:template match="/">                
         <xsl:for-each select="$para">
                <xsl:value-of select="."/><xsl:text>&#10;</xsl:text>
         </xsl:for-each>
    </xsl:template>

</xsl:stylesheet> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T18:12:34.190

**注意：您应该习惯于提供有关您正在使用的 xslt 版本和处理器的信息。在这种情况下，答案只有在您使用 XSLT 2.0 时才有效**

这不是一个完整的答案，但您可以从以下方法开始：

尝试使用本地名称和范围内前缀（仅在 XSLT 2.0 中可用）来动态匹配节点。

在这里，您有一个示例模板来替换您的空模板：

```
<xsl:template match="*[local-name()=substring-after($para,':') and in-scope-prefixes(.)[.=substring-before($para,':')]]"/> 
```

对于表达式的第二部分（$parastyle），我只能考虑编写自己的函数来动态评估它。

稍后我将尝试发布此类功能的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:11:52.410

我在编码中发现了问题，在第二行，

```
<xsl:param name="para" select="'//w:p[w:pPr/w:pStyle/@w:val[matches(.,concat('^(',$styleName,')$')]]'"/> 
```

由于我在 select 属性中给出了引号，因此该值被视为字符串而不是 xpath 表达式。

# c# - 路由器后面的 C# 客户端和公共 Internet 上的 Java 服务器之间的通信

> ID：13117369
> 
> 赞同：0
> 
> 时间：2012-10-29T07:15:53.007
> 
> 标签：c#, java, sockets, client-server, push

我有一个 C# 应用程序，它就像一个客户端，它可以安装在任何直接连接到公共互联网的系统上（通过数据卡或端口转发），或者它们也可以在路由器后面（没有端口转发）。

使用 java 开发的另一个应用程序就像公共互联网上的服务器应用程序一样。现在，我的 java 应用程序想要将消息推送到路由器后面的 C# 应用程序。Java 应用程序具有客户端的公共和私有 (192.168.xx) IP 地址。Java 应用程序应该 24x7 运行。

所以，现在我有两个选择：

1.  每当 c# 应用程序启动时，它将与 java 应用程序建立套接字连接，并且此套接字连接将保持打开状态，直到 C# 应用程序关闭。

2.  每当 Java 应用程序有 C# 应用程序的东西时，它都会与 C# 应用程序创建一个套接字连接，然后它将推送消息然后关闭连接。

现在，使用第一个选项存在一个问题，即会有很多不必要的连接，因为可能有数千个客户端应用程序，并且可能会发生在某天没有什么可以推送给某些客户端。而且我不知道如何选择第二个选项。

完成此任务的正确方法是什么（选项 1 或 2）？

UPnP 协议是否适合第二个选项？什么是同时具有 API（C# 和 Java）的开源 UPnP 库。我找到了一个叫[ohnet 的](http://wiki.openhome.org/wiki/OhNet)。这对我来说是正确的吗？我没有找到一个供 OhNet 测试的小例子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:33:50.197

我肯定会通过在路由器中添加静态路由（端口转发）来使用方法 2。但是，您应该确保路由器后面的服务器免受网络其余部分 (DMZ) 的影响。

更新：

也许我在这里遗漏了一些东西（方法 1 或 2）:-) - 但只是为了绝对清楚：始终是客户端应该启动与服务器的连接。是的，您可以允许客户端定期向服务器请求更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:53:25.463

使用选项 2，您是否必须为 C# 客户端排队消息，直到它连接？如果 C# 应用程序未连接，这可能会使您的 Java 应用程序遇到内存不足的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T09:24:16.297

2）如果您无法控制客户端的网络配置，则不可行。如果客户端位于任何中等安全的防火墙/路由器后面，服务器通常不可能与客户端建立连接。

因此，您通常必须选择 1) 的一些变体，其中客户端创建与服务器的连接。

不过，您不一定必须保持连接打开 - 始终可以让客户端定期轮询服务器以检查是否有任何新更新。

If you want realtime updates to the client from the server then you will still need to keep a connection open. This isn't necessarily a problem if you use [Java NIO](http://en.wikipedia.org/wiki/New_I/O) you should be able to handle tens of thousands of simultaneous incoming connections relatively easily.

# c++ - 如何从外部函数更改局部静态变量值

> ID：13117372
> 
> 赞同：0
> 
> 时间：2012-10-29T07:16:01.280
> 
> 标签：c++, static, local-variables

```
#include <stdio.h>

void func() {
   static int x = 0;  // x is initialized only once across three calls of
                      //     func()
   printf("%d\n", x); // outputs the value of x
   x = x + 1;
}

int main(int argc, char * const argv[]) {
   func(); // prints 0
   func(); // prints 1
   func(); // prints 2

   // Here I want to reinitialize x value to 0, how to do that ? <-- this line
   return 0;
} 
```

在上面的代码中，在调用 func() 3 次后，我想重新初始化`x`为零。有什么方法可以将其重新初始化为0？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:06:24.843

Do you want the function *always* to reset the counter after three invocations? or do you want to the caller to reset the count at arbitrary times?

If it is the former, you can do it like this:

```
void func() {
  static int x = 0;
  printf("%d\n", x);
  x = (x + 1) % 3;
} 
```

If it is the latter, using a local static variable is probably a bad choice; you could instead use the following design:

```
class Func
{
  int x;
  // disable copying

public:
  Func() : x(0) {}

  void operator() {
    printf("%d\n", x);
    x = x + 1;
  }

  void reset() {
    x = 0;
  }
};

Func func; 
```

You should make it either non-copyable to avoid two objects increasing two different counters (or make it a singleton), or make the counter a static member, so that every object increments the same counter. Now you use it like this:

```
int main(int argc, char * const argv[]) {
  func(); // prints 0
  func(); // prints 1
  func(); // prints 2

  func.reset();
  return 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:24:40.917

您可以`func()`将变量的地址分配给从外部可见的指针`func()`。

或者你可以有一个特殊的参数，你可以传递给`func()`它来告诉它重置变量。

但实际上，声明`x`inside的全部意义`func()`在于使其仅在`func()`. 如果您希望能够修改`x`，请在其他地方定义它。`x`由于您正在编写 C++，因此成为某个类的静态成员可能是有意义的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:18:44.423

你不能。这是一个在外部不可见的局部静态变量`func()`。

您可以使用：

1.  全局静态（一般不推荐）。
2.  通过引用/指针参数传递它，或通过引用返回。

# php - 如何在 php 电子邮件主题行中传递隐藏数据？

> ID：13117376
> 
> 赞同：0
> 
> 时间：2012-10-29T07:16:29.417
> 
> 标签：php, email, mime-types, email-headers

因为我想处理电子邮件故障，在这种情况下，当您将邮件发送给其他人时，如果由于无效的电子邮件等原因而失败。在这种情况下，我看不到我的电子邮件正文失败，但我只能看到主题行。因此，为此我想在 php 电子邮件主题行中传递隐藏数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:29:15.720

无法隐藏电子邮件主题中的数据。

您可以做的最好的事情是包含一个代码，并将有关此代码的其他信息存储在您的数据库中。当您收到一封电子邮件时，您可以使用代码来查找数据。

这就是许多支持系统的工作方式。他们发出的消息将采用以下形式

```
(#1234567) Your support request 
```

然后他们能够解析`1234567`并查找信息，将回复与客户相关联，等等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-11T11:11:03.060

不可能在主题行中传递隐藏数据

# gwt - GWT 异常 getLocalizedMessage()

> ID：13117379
> 
> 赞同：0
> 
> 时间：2012-10-29T07:16:38.893
> 
> 标签：gwt

现在任何人都会返回什么消息，大多数时候我看到的是空的或空的。GWT 为此提供了什么类型的实现。

我尝试使用记录 UI 端错误来记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:19:56.567

看看[这里](http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getMessage%28%29)和[这里](http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getLocalizedMessage%28%29)的 JavaDoc 。如您所见，后者的语义是：

```
Creates a localized description of this throwable. Subclasses may override 
this method in order to produce a locale-specific message. For subclasses
that do not override this method, the default implementation returns the 
same result as getMessage() 
```

基本上，这意味着您必须查看特定异常以确定本地化消息可能是什么或意味着什么，并且如果您什么也没得到，要么`.getMessage()`应该返回任何内容，要么本地化版本确实被覆盖（或者执行不遵循合同，这也很有可能）......

干杯，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:39:17.010

你好 charankumar 即使我没有得到任何东西`exception.getLocalizedMessage()`。

所以我用`exception.toString()`那个代替。它将为您提供类型`Exception`（例如`NullPointerException`,`ClassCastException`等`IndexOutOfBoundsException`）。

此外，如果有一些字符串作为本地化消息，它也会返回给你。

# xamarin.android - Mono Android .net 的 Sttema teechart

> ID：13117380
> 
> 赞同：0
> 
> 时间：2012-10-29T07:16:38.563
> 
> 标签：xamarin.android, teechart

我正在使用 .net 的 tee 图表（Mono android .net）我想对图表系列上的点击事件执行一些任务，但点击事件没有触发。并且长按也不会触发。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T08:06:12.270

这是一个已知错误 (TM63016317)，我们将尝试在下一个维护版本中修复。

# mongodb - 如何从搜索结果中排除具有查询中不存在的字段的文档？

> ID：13117381
> 
> 赞同：1
> 
> 时间：2012-10-29T07:16:38.203
> 
> 标签：mongodb

我有两个文件：

1.  { p1:"a", p2:"b" }
2.  { p1:"a", p2:"b", p3:"c" }

我应该如何处理查询：{ p1:"a", p2:"b" } 只查找第一个文档？所以我只想找到我指定的字段的文档。如果文档具有更多字段（比查询），则不应在搜索结果中显示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T08:26:10.777

我必须承认我不知道解决这个问题的正常查询方法。我只知道一种方法，那就是使用 MongoDBs 对象比较。为此，您可以将结构更改为以下内容：

```
{
    ps: [a,b]
} 
```

或者：

```
{
    ps: {p1:a,p2:b}
} 
```

然后你会像这样查询：

```
db.col.find({ p: [a,b] }) 
```

或者：

```
db.col.find({ p: {p1:a, p2:b} }) 
```

但是，这有一个直接的问题。它取决于关键顺序，这意味着如果您的`a`和`b`实际上在另一个文档中是相反的，它将不匹配。因此，如果您这样做，您需要确保在保存时关心订单。

希望能帮助到你，

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T10:12:47.870

使用这种结构并不容易，您需要一些其他可索引的提示来了解要采取和离开的内容。

如果你知道你不想要什么字段，你可以使用 $exists，[http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24exists](http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24exists)但它不是很有效。

```
db.col.find({p3:{$exists:false}}) 
```

你也可以这样做；

```
db.col.find({ p1:"a", p2:"b", p3:null } 
```

你能在你自己的代码中扔掉你不想要的字段吗？或者您可以重组为嵌套组以使其更易于过滤吗？

```
{ basicData:{p1:"a", p2:"b"}, extraData:{p3:"c",p4:"d"} } 
```

# .net - 不希望在 IE7 中单击注销链接时出现额外消息

> ID：13117382
> 
> 赞同：1
> 
> 时间：2012-10-29T07:16:40.640
> 
> 标签：.net, vbscript, internet-explorer-7

我正在尝试实现一个代码，当用户单击注销链接时，必须向用户显示一条警告消息

```
 This will terminate the session and close the browser. Do you want to continue? 
```

我的网站在 IE6 和 IE7 上运行。我在下面写了一段代码来实现它。

```
 Sub OnClickLogout() 
dim Answer, msg
Msg = "This will terminate the session and close the browser. Do you want to continue?"
Answer = MsgBox(Msg, vbYesNo + vbExclamation, "Warning")
if Answer = vbYes then
window.opener = "y"
window.parent.opener= "x"
     window.parent.close

end if 
```

结束子

我的代码在 IE6 中运行良好，并且我的窗口正常关闭。但是在 IE7 中，当我单击是按钮时，我会收到一条额外的消息，如下所示：

**“您正在查看的网页正在尝试关闭窗口。您要关闭此窗口吗？”** 带有是和否按钮

我不想要这个额外的信息。我在 IE6 中也收到了相同的消息，但为此我搜索并检查了您是否必须设置`window.parent.opener = "Some String".`但这在 IE7 中不起作用，你们能建议我如何在 IE7 中删除此消息吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T15:36:47.203

您可以尝试这样做以避免 IE7 中的 Microsoft 消息：-

```
 window.opener="X"
        window.open "","_top"
        window.parent.close 
```

我相信它肯定会奏效。

# ruby - 使用 axlsx 创建 3 色条件格式

> ID：13117383
> 
> 赞同：1
> 
> 时间：2012-10-29T07:16:52.170
> 
> 标签：ruby, axlsx

使用 axlsx，以下

```
color_scale = Axlsx::ColorScale.new do |c_s|
  c_s.colors[1].rgb = "FFFFFF00"
end
color_scale.add :type => :percentile, :val => 50, :color => "FF00FF00"
worksheet.add_conditional_formatting("B3:B100", { :type => :colorScale, :operator => :greaterThan, :formula => "100000", :priority => 1, :color_scale => color_scale }) 
```

创建一个基本的 3 色条件格式，但颜色非常花哨，很难区分稍小和稍大的值。

是否有必要对 Excel 使用的颜色进行逆向工程，以创建类似于 Excel 提供的默认 3 色条件格式的内容？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T14:17:10.473

对于色标，Excel 默认首选主题，而 Axlsx 当前希望您准确指定您想要的内容。这部分是为了互操作性，但主要是因为我没有遇到需要与 Excel 默认值相似的用例。

也就是说，Axlsx 应该尽其所能为您提供一些合理的默认值，我相信您可以理解您的请求是如何改善这一领域的绝佳机会。

你能不能给我一个你想要实现的样本 xlsx 吗？我确信我可以添加一些糖，让您对您现在看到的结果更满意，并希望使 gem 的其他用户受益。

**更新 2012.11.16**

Axlsx 已更新到 1.3.4 版，在 ColorScale 上提供两个类方法来创建新的 ColorScale 对象，并具有合理的默认值，用于两色调和三色调颜色缩放。

例子：

```
# to make a three tone color scale
color_scale = Axlsx::ColorScale.three_tone

# to make a two tone color scale
color_scale = Axlsx::ColorScale.two_tone

# To make a customized color scale you, pass hashes consisting of 
# type, val and color key-value pairs as arguments to the initializer.
# This example that creates the same three tone color scale as 
# Axlsx::ColorScale.three_tone
color_scale = Axlsx::ColorScale.new({:type => :min, :val => 0, :color => 'FFF8696B'},
                 {:type => :percent, :val => '50', :color => 'FFFFEB84'},
                 {:type => :max, :val => 0, :color => 'FF63BE7B'}) 
```

# java - 如果其中一个边界是类，则必须首先在 java 泛型中指定。为什么？

> ID：13117384
> 
> 赞同：4
> 
> 时间：2012-10-29T07:16:51.920
> 
> 标签：java, generics, inheritance, type-parameter

我指的是这个[java docs](http://docs.oracle.com/javase/tutorial/java/generics/bounded.html)。 **如果其中一个边界是一个类，则必须首先指定它**。我觉得它应该允许以任何顺序。

**为什么java有这样的限制？这背后有什么具体原因吗？**

> 多重界限
> 
> 前面的示例说明了使用具有单个边界的类型参数，但类型参数可以具有多个边界：
> 
> 具有多个边界的类型变量是边界中列出的所有类型的子类型。如果其中一个边界是一个类，则必须首先指定它。例如：

```
Class A { /* ... */ } 
interface B { /* ... */ }
interface C { /* ...
 */ }

class D <T extends A & B & C> { /* ... */ } 
```

> 如果未首先指定 bound A，则会出现编译时错误：

```
 class D <T extends B & A & C> { /* ... */ }  // compile-time error ,but why ? 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:49:04.790

首先，那里只能有一个班级；每个 Java 类（除了`java.lang.Object`，它是作为层次结构根的特殊情况）只能从单个其他类继承。可以有多个接口，但最多一个类。这极大地简化了类型层次结构和对象构造过程的处理。

鉴于此，语言设计者决定必须首先在边界中列出该类（如果它存在的话）。实际上并没有什么深刻的原因——编译器可以很好地应对没有排序的唯一一类限制——但它确实使事情更容易教授，因为有一个简单的规则：*如果你使用的是一个类作为一个泛型类型绑定，把它放在第一位*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:59:57.513

可能他们只是将接口组合在一起，与类分开。

如果`T`是一个类，那么它将如下所示：

```
public class T extends A implements B, C { 
```

但是在泛型中没有`implements`，只有`extends`。因此，由于缺少关键字，约束可能只是让我们先列出类本身，然后再列出接口`implements`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:19:58.660

[`JLS # 4.4\. Type Variables`](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.4)

每个声明为类型参数的类型变量都有一个界限。**如果没有为类型变量声明边界，则假定为 Object。**如果声明了边界，则它包括：

*   单个类型变量`T`，或
*   一个类或接口类型`T`，可能后跟接口类型`I1 & ... & In`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T07:38:21.857

我会说，`"A type variable with multiple bounds is a subtype of all the types listed in the bound."`似乎Java要求您在类声明中指出extends First，这就是原因。（另一方面，一个类只能扩展另一个类）

# c++ - 无法弄清楚如何总是从较大的数字中减去较小的数字

> ID：13117388
> 
> 赞同：0
> 
> 时间：2012-10-29T07:17:15.020
> 
> 标签：c++, cmath

我有整个程序，除了它总是从较大的数字中减去较小的数字的部分。我一直试图找到它，但我找不到任何可以帮助我的东西。这是我唯一需要帮助的部分。

这是代码。

```
#include <iostream>
#include <iomanip>
#include <cmath>
using namespace std;

//function prototype
int getRandomNumber(int lower, int upper);

int main()
{
//declare variables
int smallest = 0;
int largest = 0;
int num1 = 0;
int num2 = 0;
int correctAnswer = 0;
int userAnswer = 0;

//initialize rand function
srand(static_cast<int>(time(0)));

cout << "Smallest Integer: ";
cin >> smallest;
cout << "Largest Integer: ";
cin >> largest;
cout << endl;

for (int x = 1; x < 6; x += 1)
{
//generate two random integers
//from smallest through largest, then
//calculate the sum
num1 = getRandomNumber(smallest, largest);
num2 = getRandomNumber(smallest, largest);
correctAnswer = num1 - num2;

//display addition problem and get user's answer
cout << "what is the difference of " << num1 <<" - " << num2 << " ? ";
cin >> userAnswer;

//determine wether user's answer is correct
if (userAnswer == correctAnswer)
cout << "Correct";
else
cout << " Sorry, the correct answer is " << correctAnswer << ".";
//end if
cout << endl << endl;
} //end for

return 0;
} //end of main function

//*****function definitions*****
int getRandomNumber(int lower, int upper)
{
int randInteger = 0;
//generate random integer from lower through upper
randInteger = lower + rand() % (upper - lower + 1);
return randInteger;
} //end of getRandomNumber function

need help! 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T07:23:05.597

如果您只关注两个数字之间的差异，为什么不使用 abs(num1 - num2)？那么你就不必关心订单了。

[http://www.cplusplus.com/reference/clibrary/cmath/abs/](http://www.cplusplus.com/reference/clibrary/cmath/abs/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T07:25:49.657

这似乎很简单。

```
if (num1 < num2)
   correctAnswer = num2 - num1;
else
   correctAnswer = num1 - num2; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T07:26:19.573

只需将逻辑放入函数中，然后进行简单的布尔检查来决定返回哪个结果。

```
int SubstractSmallerNumber(int num1, int num2){
    if(num1 < num2) return num2 - num1;
    else return num1 - num2;
} 
```

这是一种蛮力方法，您可以找到更聪明的方法来解决问题。想想绝对价值。如果你取减法的绝对值，你会得到同样的净效果。

# ios - 以编程方式提取 iOS 设置包中的默认电子邮件帐户

> ID：13117390
> 
> 赞同：3
> 
> 时间：2012-10-29T07:17:22.503
> 
> 标签：ios, ipad, email, nsuserdefaults, settings.bundle

需要非常快速的帮助。当在 iPad 中配置电子邮件时，设置应用程序将存储此帐户信息。我想以编程方式访问在 iPad 的设置应用程序中配置的默认电子邮件帐户。我只想知道它是 yahoo 还是 gmail 或任何类型，可能还有用户名。

是否可以以编程方式提取此信息，可能使用 NSUserDefaults 或任何其他设置或首选项？请建议..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:21:07.193

无法访问有关用户电子邮件帐户设置的任何信息。您必须要求用户向您的应用提供详细信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T07:26:44.037

没有提供“默认”电子邮件地址的 API 或 NSUserDefaults 键。我已经阅读了一些使用未记录 API 的第三方 API，但是任何使用这些 API 的应用程序几乎肯定会在提交后被 Apple 拒绝。你最好的办法是询问用户他们想为你的应用程序使用哪个电子邮件地址——或者，如果你的应用程序只涉及发送电子邮件，请使用`MFMailViewComposeViewController`该类。

# sql - rownum 不适用于 oracle 上的子查询

> ID：13117393
> 
> 赞同：1
> 
> 时间：2012-10-29T07:17:38.130
> 
> 标签：sql, database, oracle

我有一个包含多个连接的长查询，

```
Select * 
  from (Select firstName, lastname, designation 
          from NameTable nameT 
          left outer join ProfileTable profileT on nameT.id = profileT.id
          where firstName like ("S%") order by firstName ASC
       ) 
  where rownum < 25 
```

上面的查询工作正常，如果我将名称搜索更改为“sa”，则查询执行挂起。

如果我将 rownum 更改为 21 "sa" 查询也会变快。

我们是否需要向表中添加任何索引，或者这个问题的任何想法。

提前致谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:22:24.680

为什么要在这里进行子查询，我认为它会对您有所帮助

```
 Select firstName, lastname, designation 
   from NameTable nameT left outer join ProfileTable profileT 
   on nameT.column=profileT.column    
  where firstName like ("S%") and rownum < 25 
```

# python - 如何在Python中找出给定日期的周数？

> ID：13117394
> 
> 赞同：1
> 
> 时间：2012-10-29T07:17:39.750
> 
> 标签：python, datetime

我有一个格式为`Fri Oct 02 19:52:02 +0000 2009`. 我需要在 Python 中找到与此日期对应的周数。我是 Python 新手，我不知道 datetime 有一个功能可以让我找到它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:24:57.467

[time.strftime](http://docs.python.org/2/library/time.html)有 %U (week nr.) 参数。

# javascript - 为什么我的 java 脚本在 jsFiddle 中可以完美运行，但在任何浏览器中都不能？

> ID：13117395
> 
> 赞同：0
> 
> 时间：2012-10-29T07:17:46.830
> 
> 标签：javascript

请帮我！被卡了很长时间。我在我的 html 文件中编写了完全相同的代码，但它根本不起作用。

我在 HEAD 部分下插入了 javascript。

[这是我的小提琴](http://jsfiddle.net/CnUKW/26/)

的HTML：

```
<div id="content">

<div id="colone">

     <div id="introbox" class="test">
     </div>

     <div id="infobox" class="test">
     <div style="border-bottom:1px solid #666;width:160px;margin-top:20px;margin-left:20px; font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#666;">
    INFO
    </div>
    </div>
</div>    

<div id="coltwo">

     <div id="aboutbox" class="test">
    <div style="border-bottom:1px solid #666;width:250px;margin-top:20px;margin-left:20px; font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#666;">
    ABOUT
    </div>
    </div>

     <div id="gallerybox" class="test">
     <div style="border-bottom:1px solid #666;width:260px;margin-top:20px;margin-left:20px; font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#666;">
    GALLERY
    </div>

     </div>
</div>    

<div id="colthree">

     <div id="contactbox" class="test">
     <div style="border-bottom:1px solid #666;width:180px;margin-top:20px;margin-left:20px; font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#666;">
    CONTACT US
    </div>

    </div>

     <div id="extrabox" class="test">
     <div style="border-bottom:1px solid #666;width:160px;margin-top:20px;margin-left:20px; font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#666;">
    EXTRAS
    </div>

     </div>
</div>
     ​ 
```

JavaScript：

```
$(document).ready(function() {
    $(".test").hover(function() {
    $(".test").not($(this)).css({
        "opacity": 0.1
    });
}, function() {
    $(".test").css({
        "opacity": 1
    });
});
});​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:22:20.393

这里只有三个可能性

该脚本应放置在网页的标题部分，因为它被称为`onload`

其次是 jQuery 库版本，它在 jsfiddle 上是 1.7.2，所以要么你的 jQuery 版本太旧，要么你根本没有使用这个库

第三是你必须缺少`<script></script>`标签，因为 jsfiddle 不需要它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:22:37.343

最可能的原因是脚本需要在 DOM 准备好后执行，这是 jsfiddle 确保的。

如果您提供指向小提琴的链接，那就太好了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:30:19.747

听起来您没有在标题中包含 JQuery。添加以下内容：

```
<script src="jquery_js_goes_here"></script> 
```

我会抓住最新的，看看使用可用的cdn（或谷歌的cdn）例如

```
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script> 
```

希望有帮助。

# android - 限制android进程CPU使用率

> ID：13117398
> 
> 赞同：1
> 
> 时间：2012-10-29T07:18:13.540
> 
> 标签：android, linux, process

我的应用在本机端使用 OpenGL。但是CPU只有400mHz。有时当app需要绘制很多细节时，CPU消耗是100%。是否可以限制整个应用程序进程的 CPU 使用率？（例如我的应用程序不能使用超过 40% 的 CPU）

谢谢。

# olap - 蒙德里安有本地客户吗？

> ID：13117399
> 
> 赞同：0
> 
> 时间：2012-10-29T07:18:17.063
> 
> 标签：olap, business-intelligence, pentaho, mondrian

现在我开始学习 Pentaho 并且仍在为 Mondrian 工作，我很困惑它是否有 Mondrian 的本地客户端？

我该如何开始？是否有任何我应该了解的文件、工具或来源

感谢您的每一个回答。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T16:00:46.067

看看 Saiku - 它为您提供了一个强大的开源 olap 客户端。

还; 如果您下载 PDI/kettle，您实际上可以通过可视化选项卡间接使用分析器。（称为敏捷 BI）

如果您只想在 mondrian 触发 MDX 并查看结果，那么您可以在模式工作台中执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T13:10:05.720

在 Pentaho Enterprise Edition 中，Mondrian 客户端是 Analyzer（从用户控制台欢迎屏幕中选择“New Analysis”）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-25T15:40:18.720

您可以在[webpivottable](http://webpivottable.com)尝试纯 JavaScript 数据透视表组件。它直接连接到 XMLA 服务并支持 Mondrian、Microsoft SSAS、iccube。

# android - Android 上的 Dalvik 字节码混淆

> ID：13117408
> 
> 赞同：1
> 
> 时间：2012-10-29T07:18:58.317
> 
> 标签：android, python, obfuscation, bytecode, dex

我最近读了这篇文章[Dalvik Bytecode Obfuscation on Android](http://dexlabs.org/blog/bytecode-obfuscation)

我还在[https://github.com/thuxnder/dalvik-obfuscator/blob/master/injector.py下载了源代码](https://github.com/thuxnder/dalvik-obfuscator/blob/master/injector.py)

我知道该技术的作用是遍历所有方法，在代码块中插入垃圾字节并在代码块前面无条件分支（以确保永远不会执行代码块）。

但是我不熟悉 Python 脚本，所以我很难理解从第 204 行到第 212 行的代码块，这会导致异常：

```
def _obfuscator_arrayDataOverlayIf(self, method):
    obfuscator = array.array('c', "\x32\x00\x09\x00\x26\x00\x03\x00\x00\x00\x00\x03\x01\x00\x00\x00\x00\x00")
    size = method.getMethodSize()
    if size == 0:
        print "skip method @ 0x%x" % method._offset
        return 
    payloadlen = size-len(obfuscator)
    struct.pack_into('I', obfuscator, 14, payloadlen)
    return method.obfuscate(obfuscator) 
```

如果有人能向我解释这段代码的作用，我将不胜感激，以便我能理解作者的想法。

编辑：追溯如下：

```
Traceback (most recent call last):
  File "C:\Apps\EclipsePortable\Data\workspace\DalvikObfuscator\DalvikObfuscator\injector.py", line 216, in <module>
    inj.obfuscate()
  File "C:\Apps\EclipsePortable\Data\workspace\DalvikObfuscator\DalvikObfuscator\injector.py", line 196, in obfuscate
    if reduce(lambda op1,op2: op1 or op2, map(self._obfuscator_arrayDataOverlayIf, method), False):
  File "C:\Apps\EclipsePortable\Data\workspace\DalvikObfuscator\DalvikObfuscator\injector.py", line 209, in _obfuscator_arrayDataOverlayIf
    struct.pack_into('I', obfuscator, 14, payloadlen)
struct.error: integer out of range for 'I' format code 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:36:27.807

```
struct.pack_into('I', obfuscator, 14, payloadlen) 
```

`payloadlen`此行在char 数组中的偏移量 14 处写入unsigned int `obfuscator`。例如，如果该值为负数，它将超出范围。如果应该允许负值，则更`'I'`改为有`'i'`符号整数的含义。

另请参阅[`struct`模块文档](http://docs.python.org/2/library/struct.html)

# struts2-jquery - struts2 jquery选项卡事件处理程序没有被调用

> ID：13117411
> 
> 赞同：0
> 
> 时间：2012-10-29T07:19:17.937
> 
> 标签：struts2-jquery

我正在使用 struts2-JQuery 插件来开发 UI。我想为选项卡捕获 onclick 事件。下面是创建多个选项卡的jsp代码

```
 <sj:tab id="tab2" target="selfCareDiv" label="Self Care"/>
  <sj:tab id="tab3" target="videoServiceDiv" label="Video Service"  onChangeTopics="changeTopic"/>
  <sj:tab id="tab4" target="deviceManagementDiv" label="Device Management"/>

    <div id="selfCareDiv">          
      <sj:tabbedpanel id="selfCareTab">
          <sj:tab id="tab7" href="%{remoteurl3}" label="Edit User"/>
      </sj:tabbedpanel> 
    </div>

    <div id="videoServiceDiv" class="vidDiv">           
      <sj:tabbedpanel id="videoServiceTab">         
          <sj:tab id="tab8" href="%{remoteurl7}" label="Stored Video"/> 
          <sj:tab id="tab9" href="%{remoteurl4}" label="Live Video"/>
      </sj:tabbedpanel>                  
    </div>

    <div id="deviceManagementDiv">          
      <sj:tabbedpanel id="deviceManagementTab">
          <sj:tab id="tab10" href="%{remoteurl5}" label="Add Device"/>
          <sj:tab id="tab11" href="%{remoteurl8}" label="Record"/>
      </sj:tabbedpanel>                  
    </div>
 </sj:tabbedpanel> 
```

但是如上面的代码所示，不会为 tab3 触发 onChange 主题。根据询问的查询选择 onChange 主题：[http](http://code.google.com/p/struts2-jquery/issues/detail?id=57) ://code.google.com/p/struts2-jquery/issues/detail?id=57 。

有没有可能的替代方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T07:00:19.210

我认为您应该改为`onChangeTopics`在`sj:tabbedpanel`元素中添加主题。

[http://code.google.com/p/struts2-jquery/wiki/TabbedPanelTag#Topics](http://code.google.com/p/struts2-jquery/wiki/TabbedPanelTag#Topics)

您可以检查从回调函数中选择了哪个选项卡。

# html - 如何获得稳定的菜单？

> ID：13117416
> 
> 赞同：0
> 
> 时间：2012-10-29T07:19:42.197
> 
> 标签：html, css, menu

我想在我的网站上放置一个稳定的菜单。在站点中，即使我们向下移动页面，我也希望始终在顶部显示菜单。

示例：[iplex.co.in](http://iplex.co.in/index.php) ... 请访问此站点进行演示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:23:54.977

您可以通过将`<div>`with`positions : fixed`用于示例来做到这一点

```
#navigationMenu {
position: fixed;
margin-left: 1086px;
z-index: 10000;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T07:24:46.220

您应该使用`position: fixed`以使某些元素固定在页面中。

HTML：

```
<ul id=menu>
<li><a href="#L384">Section 1</a>
<li><a href="#details">Section 2</a>
<li><a href="#FAQ">Section 3</a>
</ul> 
```

CSS：

```
#menu {
  position: fixed;
  right: 0;
  top: 50%;
  width: 8em;
  margin-top: -2.5em;
} 
```

对于您的具体用法，请查看此页面：[http ://www.w3.org/Style/Examples/007/menus.en.html](http://www.w3.org/Style/Examples/007/menus.en.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T07:27:05.630

使用`position:fixed`您可以设置元素相对于浏览器窗口的位置。

**HTML：**

```
<div id="main">
<div id="menu">
    <ul>
        <li><a href="#">Menu1</a></li>
        <li><a href="#">Menu2</a></li>
        <li><a href="#">Menu3</a></li>
        <li><a href="#">Menu4</a></li>
    </ul>
</div>
</div>​ 
```

**CSS：**

```
#main
{
height:1200px;
width:auto;
border:1px solid Red;   
}

#menu
{
height:50px;
width:auto;
background-color:#DDD;
position:fixed;
top:20px;
left:60px;
}

#menu ul li
{
display:inline;
float:left;
margin:5px 10px;

} 
```

​</p>

**[见工作样本](http://jsfiddle.net/4DK3R/1/)**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T13:43:05.420

使用`position:fixed;`属性到您的菜单`id`。

# delphi - 为什么我的工具提示出现在远离鼠标坐标的地方？

> ID：13117423
> 
> 赞同：1
> 
> 时间：2012-10-29T07:20:06.273
> 
> 标签：delphi, hint, tdbgrid, mouse-coordinates

当用户将鼠标移到`TDbStringGrid`. 它几乎可以工作，但提示显示在高处和左侧。

在我的`OnMouseMove`中，我收到 X 和 Y，我认为这是绝对的屏幕坐标，但我可以用来`dbGrid.MouseCoord(X, Y)`在数据库网格中获得一个点。

当我使用 显示我的提示时`Application.ActivateHint()`，它被放置在高处和左侧。

知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T07:30:16.157

我会尝试使用该[`ClientToScreen`](http://docwiki.embarcadero.com/Libraries/XE3/en/Vcl.Controls.TControl.ClientToScreen)方法将控件的相对坐标转换为屏幕坐标，因为[`ActivateHint`](http://docwiki.embarcadero.com/Libraries/XE2/en/Vcl.Forms.TApplication.ActivateHint)使用屏幕坐标和事件，例如[`OnMouseMove`](http://docwiki.embarcadero.com/Libraries/XE2/en/Vcl.Controls.TControl.OnMouseMove)接收控制相对坐标。在代码中，它可能如下所示：

```
procedure TForm1.DbStringGrid1MouseMove(Sender: TObject; Shift: TShiftState; X,
  Y: Integer);
var
  ScreenRelativePoint: TPoint;
begin
  ScreenRelativePoint := (Sender as TControl).ClientToScreen(Point(X, Y));
  Application.ActivateHint(ScreenRelativePoint);
end; 
```

# javascript - 动态创建\删除文本框

> ID：13117431
> 
> 赞同：0
> 
> 时间：2012-10-29T07:21:10.220
> 
> 标签：javascript

我想动态创建\删除文本框。我有一个代码。我有两个文件。一个 html 文件，另一个是 java 脚本文件。这是我的代码：

```
<html>
    <head>
        <title>Adding and Removing Text Boxes Dynamically</title>
        <script type="text/javascript">
            var intTextBox=0;
            //FUNCTION TO ADD TEXT BOX ELEMENT
            function addElement()
            {
                intTextBox = intTextBox + 1;
                var contentID = document.getElementById('content');
                var newTBDiv = document.createElement('div');
                newTBDiv.setAttribute('id','strText'+intTextBox);
                newTBDiv.innerHTML = "Text "+intTextBox+": <input type='text' id='" + intTextBox + "'    name='" + intTextBox + "'/>";
                contentID.appendChild(newTBDiv);
            }
            //FUNCTION TO REMOVE TEXT BOX ELEMENT
            function removeElement()
            {
                if(intTextBox != 0)
                {
                    var contentID = document.getElementById('content');
                    contentID.removeChild(document.getElementById('strText'+intTextBox));
                    intTextBox = intTextBox-1;
                }
            }
        </script>
    </head>
    <body>
        <p>Demo of Adding and Removing Text Box Dynamically using JavaScript</p>
        <p><a href="javascript:addElement();" >Add</a> <a href="javascript:removeElement();" >Remove</a></p>
        <div id="content"></div>
    </body>
</html> 
```

我想拆分此代码，以便可以在 javascript 中编写所有函数，并且我想在我的 html 文件中编写此文本框代码`<input type='text' id='" + intTextBox + "' name='" + intTextBox + "'/>";`，以便我可以使用此文本框 id 在撰写电子邮件中获取值，因为它从文本框 id 中获取值html页面。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:31:36.873

如果您所追求的只是将代码移动到不同的文件，那么您基本上将中间脚本标签中的内容拉到一个新文件中，然后将您的脚本标签更新为： `<script type="text/javascript" src="newfile.js"> /* stuff here was moved to the new file*/ </script>`

如果您还想让该函数适用于任何文本框，请将声明更新为

```
function addElement(elementId) 
```

然后在获取元素时使用它而不是硬编码的字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-22T15:18:28.903

如果`script`要从`HTML`代码中拆分，可以使用以下代码段

```
var intTextBox = 0;
//FUNCTION TO ADD TEXT BOX ELEMENT
function addElement() {
  intTextBox = intTextBox + 1;
  var contentID = document.getElementById('content');
  var newTBDiv = document.createElement('div');
  newTBDiv.setAttribute('id', 'strText' + intTextBox);
  newTBDiv.innerHTML = "Text " + intTextBox + ": <input type='text' id='" + intTextBox + "'    name='" + intTextBox + "'/>";
  contentID.appendChild(newTBDiv);
}
//FUNCTION TO REMOVE TEXT BOX ELEMENT
function removeElement() {
  if (intTextBox != 0) {
    var contentID = document.getElementById('content');
    contentID.removeChild(document.getElementById('strText' + intTextBox));
    intTextBox = intTextBox - 1;
  }
}
```

```
<html>

<head>
  <title>Adding and Removing Text Boxes Dynamically</title>

</head>

<body>
  <p>Demo of Adding and Removing Text Box Dynamically using JavaScript</p>
  <p><a href="#" onclick="addElement()">Add</a> <a href="#" onclick="removeElement()">Remove</a></p>
  <div id="content"></div>
</body>

</html>
```

# c# - 如何在选中 Datagrid 列的 CheckBox 时获取 WPF dataGrid 的 RowIndex

> ID：13117437
> 
> 赞同：-3
> 
> 时间：2012-10-29T07:21:54.917
> 
> 标签：c#, wpf

我有一个带有一个 CheckBox 列的 wpf DataGrid....

然后当我选中或未选中 WPF DataGrid 列的复选框时如何获取 wpf 数据网格的 RowIndex...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:30:52.477

我知道在 DataGrid 中检索行索引的唯一方法是遍历可视化树并对其进行计数。通常，将逻辑基于 wpf 数据网格中的行索引是一个坏主意。这是因为默认情况下网格是虚拟化的，并且该索引可能会误导。

所以要走的路是向您的 ViewModel 添加一个数字，该数字作为您的行的数据源提供，并在您的事件处理程序中使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:48:47.970

实际上你不需要行索引。你真正需要的是改变你的绑定项目。根据您[之前的问题](https://stackoverflow.com/questions/13116931/how-to-edit-update-data-in-collection-in-c-sharp)，您正在尝试更改分配给网格的项目属性。您不必手动执行此操作。如果你有课

```
public class UserForm
{
    public int FormId { get; set; }
    public string FormName { get; set; }
    public bool Visibility { get; set; }
} 
```

并将表格列表分配给`DataGrid`：

```
<DataGrid ItemsSource="{Binding UserForms}" /> 
```

或从代码

```
dataGrid.AutoGenerateColumns = true;
dataGrid.ItemsSource = UserForms; 
```

`UserForm`然后，当您选中/取消选中网格可见性列中的复选框时，将更新绑定对象的属性。

# jquery - 如何使用jquery在单元格悬停时显示工具提示

> ID：13117442
> 
> 赞同：0
> 
> 时间：2012-10-29T07:22:12.383
> 
> 标签：jquery

[在 jsfiddle 中看到在](http://jsfiddle.net/2sjaZ/12/) 单元格的鼠标悬停时，我必须使用 jquery 在工具提示中显示名称

像这样约翰固定

```
 <td class="csstdRed" valign="top"><span id=32>John</span></td> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:55:53.830

我已经编辑了你的 JFiddle 代码。这是我添加的

```
$('#tableAppointment td[title]')
    .hover(function() {
        showTooltip($(this));
    }, function() {
        hideTooltip();
    })
;

function showTooltip($el) {
    // insert code here to position your tooltip element (which i'll call $tip)
    $tip.html($el.attr('title'));
}
function hideTooltip() {
    $tip.hide();
} 
```

然后将标题添加到 td

```
<td class="csstdRed" title="John Fixed" valign="top"><span id=32>John</span></td> 
```

希望这会帮助你。我从[How to add a Tooltip to a "td with jquery?](https://stackoverflow.com/questions/165650/how-to-add-a-tooltip-to-a-td-with-jquery) 我想这就是你想要的。

谢谢..

# cassandra - 如何在 phpcassa 中保存 DateType？

> ID：13117448
> 
> 赞同：2
> 
> 时间：2012-10-29T07:22:25.243
> 
> 标签：cassandra, datetime-format, phpcassa

我正在尝试使用 phpcassa 将 DateType 保存到 cassandra 数据库。

这就是我所做的：

```
$date = new DateTime();
$column_family_commentByPost = new ColumnFamily($pool, 'commentByPost');
$column_family_commentByPost->insert($my_uuid_string1, array($date->getTimestamp() => $my_uuid_string2));
$array = $column_family_commentByPost->get($my_uuid_string1);
var_dump($array); 
```

我收到以下错误：

注意： unserialize(): C:...\DateType.php 第 20 行中 10 个字节的偏移量 0 处出错

使用 php 保存 DateType 的正确方法是什么？

# c# - 写入资产文件夹

> ID：13117451
> 
> 赞同：0
> 
> 时间：2012-10-29T07:22:40.730
> 
> 标签：c#, xamarin.android, monodevelop

我想在资产文件夹中写入我的 HTML 文件。

请注意，因为我的 HTML 与其他文件/文件夹相关，所以我不能使用个人文件夹。我必须写在

资产/HTML/mycharts.html

```
[MY WRITING code below return these errors

System.IO.File.WriteAllText("file:///android_asset/myGraphs/BarGraph.html", s);

] 
```

错误

```
UNHANDLED EXCEPTION: System.IO.DirectoryNotFoundException: Could not find a part of the path "//file:///android_asset/myGraphs/BarGraph.html".
at System.IO.FileStream..ctor (string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare,int,bool,System.IO.FileOptions) <0x00208>
at System.IO.FileStream..ctor (string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare) <0x00057>
at System.IO.StreamWriter..ctor (string,bool,System.Text.Encoding,int) <0x00087>
at System.IO.StreamWriter..ctor (string,bool,System.Text.Encoding) <0x00037>
at

] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:12:20.810

我使用以下代码根据上述解决方案实现了这一点：

```
 using (StreamReader sr = new StreamReader( this.contextCalledFrom.Assets.Open("pdfreport.html")))
           html = sr.ReadToEnd();

            MemoryStream memoryStream = new MemoryStream();
            client.convertHtml(html, memoryStream);

            var folder = Android.OS.Environment.ExternalStorageDirectory + Java.IO.File.Separator + "wpfolder";

            if (!Directory.Exists(folder))
                Directory.CreateDirectory(folder);

            var extFileName = folder + Java.IO.File.Separator + "report.pdf";

            using (FileStream file = new FileStream(extFileName, FileMode.Create, FileAccess.Write))
           {
               memoryStream.WriteTo(file);
           } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-03T21:57:59.470

无法写入资产文件夹或编辑其中的任何文件。它是只读的。

**编辑：** 正如评论中所建议的，最初将您的 HTML 放在您的资产中，并在需要时将它们保存在 SD 卡或私人存储中。

要将文件存储在 SD 卡上，您可以像这样获取 SD 卡的路径：

```
var folder = Android.OS.Environment.ExternalStorageDirectory + Java.IO.File.Separator + "MyAppFolder"; 
```

`"MyAppFolder"`可以是您想要的任何名称，只要它不与 SD 卡上的某些其他文件夹名称冲突，因此请确保检查它是否已经存在。将其与文件名结合起来，如下所示：

```
var extFileName = folder + Java.IO.File.Separator + "MyFile.txt"; 
```

现在向文件中写入一些内容：

```
if (!Directory.Exists(folder))
    Directory.CreateDirectory(folder);
using (var fs = new FileStream(extFileName, FileMode.OpenOrCreate))
{
    var buf = Encoding.ASCII.GetBytes("Hello, world!");
    fs.Write(buf, 0, buf.Length);
} 
```

如果要将数据存储在内部存储中，可以通过以下方式获取私有存储的路径：

```
var folder = Environment.GetFolderPath(Environment.SpecialFolder.Personal); 
```

# sql-server - 子查询 SQL Server 中的 IF ELSE

> ID：13117463
> 
> 赞同：0
> 
> 时间：2012-10-29T07:24:34.227
> 
> 标签：sql-server, if-statement, subquery

我有 2 个如下表，并相应地将数据插入`ftable`from `f_table`。如果存在，我想插入`field_3`，否则插入.`field3``field_3``field_4``field3`

我怎么做？非常感谢任何回复。

```
CREATE TABLE ftable
(
field1 int null,
field2 int null,
field3 char(1)
);

CREATE TABLE f_table
(
field_1 int null,
field_2 int null,
field_3 char(1),
field_4 char(1)
);

INSERT INTO ftable (field1, field2, field3) 
    SELECT (field_1, field_2, field_3) 
    FROM f_table; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:31:34.337

不确定*如果`field_3`存在*的真正含义-由于它是表的一部分，因此该列**始终**存在...

猜测您可能的意思是：如果是`NOT NULL`- 在这种情况下，请使用以下`CASE`语句：

```
INSERT INTO ftable (field1, field2, field3) 
    SELECT 
       field_1, field_2, 
       CASE
           WHEN field_3 IS NOT NULL THEN field_3
           ELSE field_4
       END
    FROM f_table; 
```

**更新：**根据 w0lf 的建议，您还可以使用：

```
INSERT INTO ftable (field1, field2, field3) 
    SELECT 
       field_1, field_2, 
       ISNULL(field_3, field_4)
    FROM f_table; 
```

在我看来，使它更紧凑-但可读性稍差。但这可以正常工作 - 如果`field_3`为 NULL，则`field_4`改为插入。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:33:13.813

假设您的意思`field_3`是`NULL`，这是一个使用的好地方`COALESCE`：

```
INSERT INTO ftable (field1, field2, field3) 
SELECT field_1, field_2, COALESCE(field_3,field_4) 
FROM f_table; 
```

[`COALESCE`](http://msdn.microsoft.com/en-us/library/ms190349.aspx)：

> 返回其参数中的第一个非空表达式。

# c# - 如何使用 C# 获得真正的 IE 工作区

> ID：13117464
> 
> 赞同：0
> 
> 时间：2012-10-29T07:24:34.863
> 
> 标签：c#, internet-explorer

我正在尝试获取 IE 浏览器的工作区我现在拥有的是这段代码：

```
System.Drawing.Rectangle resolution = System.Windows.Forms.Screen.GetWorkingArea(this); 
```

我用这段代码得到的是：

```
-       resolution  {X = 0 Y = 0 Width = 1366 Height = 728} System.Drawing.Rectangle
        Bottom  728 int
        Height  728 int
        IsEmpty false   bool
        Left    0   int
+       Location    {X = 0 Y = 0}   System.Drawing.Point
        Right   1366    int
+       Size    {Width = 1366 Height = 728} System.Drawing.Size
        Top 0   int
        Width   1366    int
        X   0   int
        Y   0   int 
```

一切都很好，但我得到的高度是 728，包括工具栏和菜单，我需要没有工具栏和菜单的真正工作区。

图片为例： ![问题示例](../Images/298ed4a5c8ab1579ba74b86bd8eb9bb6.png)

我需要工作区的大小。

对我来说是**585 像素。** 但它需要是动态的其他分辨率和

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:56:13.273

我发现我可以使用**IE 对象**

然后我只需要请求这个

```
this.HTMLDocument.documentElement.offsetHeight; 
```

# objective-c - UIWebView 方向改变

> ID：13117469
> 
> 赞同：0
> 
> 时间：2012-10-29T07:25:01.260
> 
> 标签：objective-c, ios, uiwebview

我想在 iPhone 上将移动网站作为应用程序启动，所以我使用了 UIWebView 组件。我希望我的应用程序支持方向更改，所以我编写了以下代码，但没有得到预期的结果。

请建议我进行哪些更改以解决问题。

[这](http://pastebin.com/BVdK31KY)是我的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:30:11.650

完美解决您的问题， [http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/RespondingtoDeviceOrientationChanges/RespondingtoDeviceOrientationChanges.html](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/RespondingtoDeviceOrientationChanges/RespondingtoDeviceOrientationChanges.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:52:49.463

您的测试设备是哪个版本？你应该注意到

`- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation`在 ios6 中已弃用

# node.js - node-mongo-native findAndModify 回调

> ID：13117474
> 
> 赞同：1
> 
> 时间：2012-10-29T07:25:57.407
> 
> 标签：node.js, mongodb

几天来，我一直试图在回调中执行代码，但我不确定我做错了什么。以下是我要执行的代码。由于某种原因，即使序列增加，回调也没有被执行。

请帮忙。

```
var seqCollection = new mongodb.Collection(client, 'seq');
seqCollection.findAndModify(
    {"_id": "name"}, [], {$inc: {"seq": 1}}, {},
    function (err, result) {
        if (err){
            console.log('--------- There is a an error ------------');
        } else{
            console.log('--------- New Value:' + JSON.stringify(result) + '------------');
        }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:59:34.437

你不应该使用新的集合

利用

```
db.collection("seq").findAndModify(....) 
```

文档也在这里

[http://mongodb.github.com/node-mongodb-native/api-generated/collection.html#findandmodify](http://mongodb.github.com/node-mongodb-native/api-generated/collection.html#findandmodify)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T11:57:54.850

能够找到问题......

```
client.close(); 
```

在代码中放错了位置。

# url - URL语法规则

> ID：13117476
> 
> 赞同：1
> 
> 时间：2012-10-29T07:26:03.400
> 
> 标签：url, syntax

我创建了一个 pastebin 站点，其中每个条目都有一个随机字符串。例如

```
example.com/ds34
example.com/sdf-2zA
example.com/234+_2 
```

我的问题是，这些字符串的语法规则是什么？可以从任何事情开始吗？哪些字符是/不允许的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T07:34:14.143

参见[RFC](https://www.rfc-editor.org/rfc/rfc3986#section-2)和[w3.org](http://www.w3.org/Addressing/URL/uri-spec.html)。简而言之 - 除保留的任何 ASCII 符号`! * ' ( ) ; : @ & = + $, / ? % # [ ]`。其他符号可以进行百分比编码。

# python - 如何格式化/覆盖 Django 表单错误消息？

> ID：13117477
> 
> 赞同：5
> 
> 时间：2012-10-29T07:26:02.527
> 
> 标签：python, html, django, forms

表格.py

```
class MyForm(forms.Form):
    no = forms.CharField(error_messages={'required': u'must be xxx') 
```

模板.html

```
{{form.no.error}} 
```

`{{form.no.error}}``<ul class="errorlist"><li>must be xxx</li></ul>` 我想格式化为`{{form.no.error}}`没有任何 html 标签的纯文本消息吗

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-29T07:33:19.493

您可以只删除标签：

```
{{ form.no.errors|striptags }} 
```

或者只是访问原始错误：

```
{{ form.no.errors.as_text }} 
```

# sql-server - SQL Server 列存储索引更新/插入存储过程

> ID：13117478
> 
> 赞同：3
> 
> 时间：2012-10-29T07:26:04.363
> 
> 标签：sql-server, stored-procedures, insert-update, columnstore

我在测试 sql server 2012 的列存储索引功能时很开心。因为您无法使用此类索引更新/插入表，所以我阅读了一些选项：保留一个单独的表并为每个批量插入使用新分区或禁用索引，执行更新/插入，然后重建索引。

对于我的测试，我选择了后一个选项并最终得到了这个存储过程：

```
-- Disable the columnstore index.
ALTER INDEX [All_Columns_Columnstore_Index] ON [dbo].[Tick] DISABLE

-- Insert data into tick table from staging table.
insert into Tick
select [Date],
       SymbolID,
       Price
from TickTemporary

-- Delete data from staging table.
delete from TickTemporary

-- Enable (rebuild) the columnstore index.
ALTER INDEX [All_Columns_Columnstore_Index] ON [dbo].[Tick] REBUILD 
```

如果我手动执行这些行，一切正常。但是，如果我运行该过程，则会收到无法在具有列存储索引的表上执行更新/插入的错误。

为什么是这样？

更新：

我遵循了我之前接受的答案中的建议，但我仍然得到同样的结果。

```
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
SET NOCOUNT ON;

-- Disable the columnstore index.
EXEC DisableColumnStoreIndex

-- Insert data into tick table from staging table.
insert into Tick
select [Date],
       SymbolID,
       Price
from TickTemporary

-- Delete data from staging table.
delete from TickTemporary

-- Enable (rebuild) the columnstore index.
EXEC RebuildColumnStoreIndex 
```

甚至尝试在 sproc 调用周围放置“begin tran”和“commit tran”。

使用动态 sql，如：

```
declare @sql nvarchar(max)
set @sql =
    'insert into Tick
     select [Date],
            SymbolID,
            Price
     from TickTemporary'
exec(@sql) 
```

有效，但实际上，我想在没有动态 sql 的情况下过日子。在这种情况下不可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T07:55:32.957

检查是在编译时完成的，而不是在执行时完成的。将过程分离成自己的，或使用动态 SQL。

但作为一般性评论，这不是正确的方法。您应该插入具有相同结构的不同表，在此相同表上构建列存储索引，然后使用分区切换将旧表替换为新表：用空表切换旧表，切换新表，把旧数据丢掉。类似于[如何使用列存储索引更新表中](http://rusanu.com/2011/07/13/how-to-update-a-table-with-a-columnstore-index/)描述的过程。由于使用了分区切换，您的表用户会经历更短的停机时间，因为旧表在插入和构建列存储阶段期间仍然在线并且可用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-07T06:28:00.607

此编译时执行的解决方案是 **Option(recompile)**

```
create  PROCEDURE TEST
AS
BEGIN

ALTER INDEX [All_Columns_Columnstore_Index] ON [dbo].[Tick] DISABLE

-- Insert data into tick table from staging table.

insert into Tick
select [Date],
       SymbolID,
       Price
from TickTemporary  **Option(recompile)**

-- Delete data from staging table.
delete from TickTemporary

-- Enable (rebuild) the columnstore index.
ALTER INDEX [All_Columns_Columnstore_Index] ON [dbo].[Tick] REBUILD

End 
```

# c++ - g++ broken? Cannot add new methods to class

> ID：13117482
> 
> 赞同：1
> 
> 时间：2012-10-29T07:26:22.197
> 
> 标签：c++, header, compiler-errors, g++, declaration

I am creating a symbol table class to be used with an analyzer/parser I've written for a compilers course. Everything has been going well so far, but I cannot get these class files to compile on my school's Linux machines using g++:

SymbolTable.h:

```
// Multiple definition guard
#ifndef SYMBOLTABLE_H
#defineSYMBOLTABLE_H

// Includes
#include <iostream>
#include <string>
#include "stddef.h"

// Namespace
using namespace std;

// Class for storing all encountered symbols while parsing
class SymbolTable
{
public:
    SymbolTable();                          // Constructor
    ~SymbolTable();                         // Destructor
    void scopeUp();                         // Increases current scope
    void scopeDown();                       // Decreases current scope
    void addSymbol(string symbolTitle);     // Adds a symbol to table
    void addSymboll(string symbolTitle);    // g++ doesn't think this exists

private:
    int scope;

    // Structure for storing symbols.  Currently only contains title from
    // identifier.  Will expand upon / derive from this structure after
    // initial testing.  Symbols are stored in a simple stack, with the
    // container class responsible for keeping track of the top Symbol.
    struct Symbol
    {
        Symbol* previousSymbol;
        string title;
    };

    // Structure for tracking current scope.  All symbols will belong to a
    // particular scope, and are stored in a simple stack to maintain
    // declaration order.  When the scope changes, currentScope will point to
    // a new scope structure with its own list of symbols.  Scopes themselves
    // are also stored in a stack, where currentScope points to the top.
    struct Scope
    {
        Scope* previousScope;
        Symbol* currentSymbol;
    };
    Scope* currentScope;

    // This is a recursive display function used for printing all of the items
    // in a given scope.  This is called from within the scopeDown function, so
    // that the final list of items for that scope can be logged before it is
    // destroyed
    void displayScope(Symbol* displaySymbol);
};

#endif // Multiple definition guard 
```

SymbolTable.cpp:

```
// Multiple definition guard
#ifndef SYMBOLTABLE_CPP
#define SYMBOLTABLE_CPP

// Includes
#include "SymbolTable.h"

// Constructor
SymbolTable::SymbolTable()
{
    scope = 0;
    currentScope = NULL;
    return;
}

// Destructor
SymbolTable::~SymbolTable()
{
    Scope* nextScopeToDelete = NULL;
    Symbol* nextSymbolToDelete = NULL;

    // While there are scopes left to delete from the table...
    while(currentScope != NULL)
    {
        // Save the pointer to the next scope on the stack
        nextScopeToDelete = currentScope->previousScope;

        // While there are symbols left to delete from the scope...
        while(currentScope->currentSymbol != NULL)
        {
            // Save the pointer to the next symbol on the stack
            nextSymbolToDelete = currentScope->currentSymbol->previousSymbol;

            // For debugging
            cout << "deleting symbol " << currentScope->currentSymbol->title << endl;

            // Delete the current top symbol
            delete currentScope->currentSymbol;

            // Move on to the next one
            currentScope->currentSymbol = nextSymbolToDelete;
        }

        // For debugging
        cout << "deleting scope " << scope << endl;

        // Delete the current top scope
        delete currentScope;
        scope--;

        // Move on to the next one
        currentScope = nextScopeToDelete;
    }
    return;
}

// This is a recursive display function used for printing all of the items
// in a given scope.  This is called from within the scopeDown function, so
// that the final list of items for that scope can be logged before it is
// destroyed
void SymbolTable::displayScope(Symbol* displaySymbol)
{
    // If we've reached the bottom of the scope stack...
    if(displaySymbol == NULL)
    {
        return; // Nothing to do
    }

    // We haven't reached the bottom of the scope stack
    else
    {
        displaySymbol = displaySymbol->previousSymbol; // Keep going
        displayScope(displaySymbol); // Recursive call
    }

    // Display this symbol after all lower ones have been displayed recursively
    cout << displaySymbol->title << endl;
    return;
}

// A new procedure has caused us to increase scope, so we'll create a new
// scope structure with its own symbol stack
void SymbolTable::scopeUp()
{
    // Generate the new scope structure
    Scope* newScope = new Scope;
    newScope->previousScope = currentScope;
    newScope->currentSymbol = NULL;

    // Notification for debugging
    cout << "ENTERING SCOPE " << scope + 1 << endl;
    cout << "--------------------------------------------------";
    cout << "-------------------------" << endl;

    // Switch to the new scope
    currentScope = newScope;
    scope++;
    return;
}

// The end of a procedure has caused us to decrement scope, so we'll delete
// the contents of the current one and fall back to the last scope on the stack
void SymbolTable::scopeDown()
{
    // If we're already at the bottom of the stack...
    if(currentScope == 0)
    {
        // Something is very wrong
        cerr << "CANNOT DELETE SCOPE 0!!!!" << endl;
    }
    else
    {
        // Save the pointer to the next scope on the stack
        Scope* previousScope = currentScope->previousScope;
        Symbol* nextSymbolToDelete = NULL;

        // Display the contents of this scope before deleting it (debugging)
        displayScope(currentScope->currentSymbol);

        // While there are still symbols in this scope to delete...
        while(currentScope->currentSymbol != NULL)
        {
            // Save the pointer to the next symbol on the stack
            nextSymbolToDelete = currentScope->currentSymbol->previousSymbol;

            // Delete the current top symbol on the stack
            delete currentScope->currentSymbol;

            // Move on to the next one
            currentScope->currentSymbol = nextSymbolToDelete;
        }

        // Notification for debugging
        cout << "EXITING SCOPE " << scope-- << endl;
        cout << "==================================================";
        cout << "=========================" << endl;

        // Delete the old top scope from the stack
        delete currentScope;

        // Move on to the next one
        currentScope = previousScope;
    }
    return;
}

// Adds a symbol to the table.  Specifically:  adds a symbol to the top of the
// symbol stack in the scope at the top of the scope stack.  This will soon be
// interfacing with more expansive data structure, but currently just stores
// the title of the symbol as detected in the parser.
void SymbolTable::addSymbol(string symbolTitle)
{
    Symbol* newSymbol = new Symbol;
    newSymbol->previousSymbol = currentScope->currentSymbol;
    newSymbol->title = symbolTitle;
    currentScope->currentSymbol = newSymbol;
    return;
}

// g++ doesn't think this was declared in the class
void SymbolTable::addSymboll(string symbolTitle)
{
    Symbol* newSymbol = new Symbol;
    newSymbol->previousSymbol = currentScope->currentSymbol;
    newSymbol->title = symbolTitle;
    currentScope->currentSymbol = newSymbol;
    return;
}

#endif // Multiple definition guard 
```

Errors:

```
[...]$ touch SymbolTable.h SymbolTable.cpp
[...]$ g++ -c SymbolTable.cpp
SymbolTable.cpp:67: error: no âvoid SymbolTable::displayScope(SymbolTable::Symbol*)â member function declared in class âSymbolTableâ
SymbolTable.cpp:167: error: no âvoid SymbolTable::addSymboll(std::string)â member function declared in class âSymbolTableâ
[...]$ 
```

As far as I can tell, it seemed to think my displayScope function was not declared in the class header file. In order to investigate this further, I added a new function called addSymboll which was identical to the existing addSymbol function. However, it's giving me the same error message for this new function. In fact, after a couple of hours spent trying to compile this, it seems that I cannot add any new functions to this class at all. I am at a complete loss as to what could be causing this. **Any ideas would be appreciated!**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:31:13.673

G++ also tells me:

> error: invalid preprocessing directive #defineSYMBOLTABLE_H

Add a space after `#define`:

> #defineSYMBOLTABLE_H

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T08:55:31.663

I had previously only been deleting the object (.o) files when cleaning. What I ended up having to do here was delete the .gch files as well. There was nothing wrong with the actual code or g++ (despite the old version running on the school servers).

# c# - 如何从 C# 代码中读取 powershell 脚本的退出代码

> ID：13117485
> 
> 赞同：0
> 
> 时间：2012-10-29T07:26:52.837
> 
> 标签：c#, powershell

我想从 C# 代码执行以下 power shell 脚本

```
Add-Content D:\f.txt "Import Module"
Add-Content D:\f.txt "Remove Module"
Add-Content D:\f.txt "The End"
exit 4 
```

我可以成功地从 C# 代码执行脚本。

我希望我的 C# 程序读取从 powershell 返回的退出值（即 4）。

你能告诉我如何实现它吗？注意：我是 C# 和 powershell 的新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T15:25:13.060

[与如何通过 c# 读取 PowerShell 退出代码](https://stackoverflow.com/questions/12895503/how-to-read-powershell-exit-code-via-c-sharp)相同的问题，您似乎需要尝试替代方法，例如 PowerShell.Streams.Error 或 Runspace.RunspaceStateInfo 而不是退出代码。

# php - 如何为我的网页制作像 facebook 这样的用户个人资料链接

> ID：13117488
> 
> 赞同：1
> 
> 时间：2012-10-29T07:27:04.910
> 
> 标签：php, url, yii

我正在使用 Yii 框架开发一个网页，我想做像 facebook 一样的 url 管理。这是我的网址**www.mywebpage.com/user/profile/id/10**但我不想这样显示这个网址，我想这样显示**www.mywebpage.com/yogi**我可以在 Yii 中做吗？请任何人帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:31:05.810

我认为您需要的所有信息都在这里：[http ://www.yiiframework.com/doc/guide/1.1/en/topics.url](http://www.yiiframework.com/doc/guide/1.1/en/topics.url)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:52:45.297

查看这篇文章开始：http: [//yiitutorials.net/easy/easy-url-rewriting-with-yii](http://yiitutorials.net/easy/easy-url-rewriting-with-yii)

您将基本上将用户自定义 URL 存储在数据库中。因此，示例 URL 将是[http://example.com/user/userurl](http://example.com/user/userurl)

在您的主配置中，您可以设置如下规则：

```
user/<customurl:.+> => 'user/view' //second part is the controller/action 
```

该规则定义了一个带有“http://example.com/user/”的 URL，斜杠后面的部分可以被一个名为“customurl”的 GET 变量访问。然后，您可以像这样访问用户自定义 URL：

```
$_GET['customurl']; 
```

并查询用户记录，如下所示：

```
$user = User::model()->find("customurl = '".$_GET['customurl']."'"); 
```

如下所述，[这是来自真实网站的示例](http://poplondon.co.uk/london-blog/renting-a-property-in-london/8)。在此示例中，URL 如下所示：[http](http://website.com/blog/) : //website.com/blog/ {post_title}/{post_id}

所以这个规则是这样的：

```
london-blog/<post_title:.+>/<post_url:.+> => 'blog/viewpost' 
```

所以在我们的博客控制器中，我们有一个名为 viewpost 的操作（见上文，规则是如何指向这个控制器/操作的？），它看起来像：

```
public function actionViewpost(){
    $blogpost = Blog::model()->find("post_title = '".$_GET['post_title']."'");
    ...
} 
```

因此，任何具有 london-blog/some_value/some_value 格式的 URL 都将指向配置中指定的控制器操作。然后，您可以使用配置中定义的变量名称访问 some_value 部分（< :.+> 中的位）

希望有帮助！

# ios - 从命令行模拟时PhoneGap的白名单拒绝

> ID：13117497
> 
> 赞同：2
> 
> 时间：2012-10-29T07:27:53.223
> 
> 标签：ios, cordova, emulation, whitelist

当我通过 Xcode 模拟我的项目时，我没有收到白名单拒绝。但是，当我运行[PhoneGap 描述的命令行脚本](http://docs.phonegap.com/en/2.1.0/guide_command-line_index.md.html#Command-Line%20Usage_ios)（即构建、模拟和日志）时，我得到了这些：

```
ERROR whitelist rejection: url='http://www.google-analytics.com/ga.js' 
```

我已经用 填充了我`ExternalHosts`的`*`，这就是为什么这不是通过 Xcode 发生的，但我不确定为什么它不允许通过命令行使用 url。有任何想法吗？

谢谢。

# mysql - 在 Sqlite 或 SQL 中更新对多个表的查询

> ID：13117499
> 
> 赞同：-1
> 
> 时间：2012-10-29T07:28:05.113
> 
> 标签：mysql, sqlite

嗨，我是 SQL 数据库的新手。

我有两张桌子，一张是“Master”，另一张是“Sub”，像这样

```
Master 
uid(primary key)         f_name            l_name
 1                        fAaa              lAaa
 2                        fBbb              lBbb 
```

第二张桌子

```
Sub 
tid(primary key)         uid(foreign key)      time           is_free
  1                        1                   1:00AM           0
  2                        1                   2:00AM           1 
  3                        1                   3:00AM           0 
  4                        2                   1:30PM           0
  5                        2                   2:30PM           1 
```

从这两个表中，我们可以说用户 fAaa lAaa 在凌晨 2:00 是免费的，而在凌晨 1:00 和凌晨 3:00 是免费的。

现在我想像这样更新，对于用户 1（fAaa lAaa），我想删除时间 2:00AM 并想为用户 1 插入新的两个时间，例如上午 5:00 和上午 6:00，而不是我的联接查询更新。

请帮我！谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:35:06.870

像这样？

```
DELETE FROM secondtable WHERE uid = 1 AND (time = "1:00AM" OR time = "2:00AM");
INSERT INTO secondtable (uid, time) VALUES (1, "5:00AM"), (1, "6:00AM"); 
```

或者

```
UPDATE secondtable SET time = "5:00AM" WHERE uid = 1 AND time = "1:00AM";
UPDATE secondtable SET time = "6:00AM" WHERE uid = 1 AND time = "2:00AM"; 
```

这是一些非常基本的东西，我建议你搜索“sql delete from”、“sql insert into”、“sql update”并寻找初学者教程。

# python - Twisted Conch - 流量控制

> ID：13117502
> 
> 赞同：5
> 
> 时间：2012-10-29T07:28:26.983
> 
> 标签：python, ssh, twisted

我有一个 Twisted Conch SSH 服务器，典型的场景是这样的：

git 通过 OpenSSH 客户端 >>--- WAN1 --->> Twisted conch svr >>--- WAN2 -->> Git 服务器

有时，“git push”通过 WAN1 发送数据的速度比我通过 WAN2 代理它的速度要快，所以我需要告诉客户端放慢速度（在任何 TCP 数据包丢失导致调整 TCP 窗口大小之前）以避免在 Twisted 服务器上缓冲过多。读取 SSH 的 RFC 是在不通过 adj 窗口确认的情况下完成的，这将导致 git push 阻止系统调用写入由 openssh 支持的管道。

查看方法 def ssh_CHANNEL_DATA(self, packet) 中的 conch/ssh/connection.py:L216：我可以通过将 localWindowSize 设置为 0 来完成此操作，并且飞行数据仍将着陆，因为 230 上的谓词仍应通过（给定 localWindowLeft） . 我想知道这是否是正确的方法，还是我错过了关于使用 Twisted SSH Conch 进行流量控制的一些明显的东西？*

注意：我承认我可以覆盖（通道）上的 stopWriting 和 startWriting 方法占位符，因此我有钩子来控制传输“git pull”的另一端，但我对另一端感兴趣。此外，IPush/IPull 生产者似乎不适用于这个级别，我看不出如何在不屠杀海螺的情况下将这些更高的抽象联系起来？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T17:12:41.167

我没有使用过 Twisted，根本不了解 Conch，但没有其他人回答，我会试一试。

作为一般原则，您可能希望在网络中间缓冲很少（如果有的话）。（Jim Gettys 关于“缓冲膨胀”的注释很有启发性。）所以很明显，您提出了一个明智的问题。

我假设当数据从客户端到达时，Conch 会在您的代码中调用一个函数。在您可以将数据传送到后端服务器之前，简单地不从该调用返回就足够了吗？内核仍将在入站和出站套接字中缓冲数据，因此不会立即将情况通知给下游客户端，但我希望它会进入稳定状态。

当然，作为替代方案，您可以在与 SSH 不同的层上通过此路由器进行隧道传输。如果您在较低层建立隧道，因此您有一个端到端的 TCP 连接，那么 TCP 堆栈应该计算出一个合适的窗口大小。

如果您在更高层进行隧道传输，通过`git push`对中间服务器执行 a 操作，然后使用`post-receive`钩子将对象推送到其余部分，那么您将获得最大的缓冲（全部假脱机到磁盘）和更快的客户端响应时间，虽然更长的总延迟。它具有明显的优势，即实现起来要简单得多。

# android - 使用 Android 内存？

> ID：13117505
> 
> 赞同：0
> 
> 时间：2012-10-29T07:28:40.260
> 
> 标签：android, ram

我的申请基于时间和出勤率。我需要将模板保存到数据库中。将模板与数据库匹配比 LINUX OS 花费更多的时间。因此，我计划将这些模板存储到 RAM 中，并且必须在 RAM 本身完成匹配过程。我需要帮助如何将这些模板移动到 RAM 中。并且还提高了处理速度。

硬件规格：

```
 > ARM 335x , 256 RAM , 720 Mhz. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:03:23.753

you may download [NDK](http://developer.android.com/tools/sdk/ndk/index.html) and code your template matching in C/C++ for speed

# php - 如何在本地 wordpress 中配置 Rets 服务器

> ID：13117509
> 
> 赞同：2
> 
> 时间：2012-10-29T07:28:54.987
> 
> 标签：php, wordpress, rets

我正在尝试连接到本地 wordpress 中的 MLS Rets 服务器，但无法连接。我也不知道如何使用 Rets Server 并从那里获取数据？还需要一些房地产样本数据进行测试。有没有人有任何想法。我怎样才能做到这一点。

![在此处输入图像描述](../Images/804f57284dd1a925b7c175d5f8682745.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T05:34:13.297

我不熟悉那个 wordpress 插件，但您会从您订阅的 MLS 获得您的登录信息和其他有关连接的详细信息。他们可能会限制访问时间或限制 IP 访问以及其他导致您无法连接的一般不便。

连接后，如果您正在寻找样本数据，那么您可以将批次设置为几百个属性或其他东西以开始。或者，MLS 可能会提供一组样本数据或测试服务器以用于开发您的应用程序。

**回答你的评论**

你必须是其中的一员。多重上市服务是房地产经纪人所属的组织，以便通过经纪人互惠共享他们的上市数据。仅在美国就有数百个 MLS，尽管其中许多都使用 RETS 标准（实际上不应该首先将其视为“标准”），但除了一些相似之处之外，它们绝对没有任何标准化......我不确定其他国家...还有一种方法可以成为 MLS 的 IDX 供应商。这通常涉及设置和月费以及严格的审批流程。在这种情况下，您会将 IDX 服务出售给有问题的 MLS。如果您不是房地产经纪人并且只想显示列表数据，我很确定您将很难获得批准。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-10T07:55:09.263

您需要连接 RETS 服务，如果您在该机构下注册为代理，他们将提供凭证，并再次提供 RETS 数据馈送的有限访问权限，您可以再次使用[http://retsmd.com](http://retsmd.com)检查您的凭证是否有效，或者如果发现任何问题我有 Script PHRETS 和 RETS IQ，如果您遇到任何其他问题，我们将讨论。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-01T20:18:54.603

要补充 Andrew 的答案 - 要获得 RETS 凭证，您不仅需要让代理人为您签字，还需要让他们的经纪人负责批准。大多数代理选择使用已经设置为供应商的第三方服务，因为新供应商获得设置和批准可能需要几个月或一年的时间。特别是如果该供应商尚未与其他 MLS 建立长期关系。

一些 MLS 收取的供应商费用从 0 美元到高达 5000 美元/月不等。

# blackberry - BB java objectchoicefiled 应该在其他 objectchoicefield 中选择一个值时自动显示，即 onchange 功能

> ID：13117510
> 
> 赞同：-2
> 
> 时间：2012-10-29T07:28:59.183
> 
> 标签：blackberry, blackberry-eclipse-plugin, blackberry-jde

您好我正在尝试通过数组中的一组数据来显示对象选择字段。通过选择自动与其他数组进行比较，另一个对象选择字段应该显示相应的匹配项。即，onchange 函数，另一个对象选择字段应该加载值。指导我。

```
Document document=generalXmlAccess.access(generalXmlAccess.getArea());
NodeList list2=document.getElementsByTagName("tuple");  
final String[] area = new String [list2.getLength()];
final String[] areaid = new String [list2.getLength()];

for(int i=0;i<list2.getLength();i++) 
{
    NodeList list=document.getElementsByTagName("NAME");  
    NodeList list3=document.getElementsByTagName("ROW_ID"); 
    area[i]=list.item(i).getFirstChild().toString()+"-"+list3.item(i).getFirstChild().toString(); 
    areaid[i]=list3.item(i).getFirstChild().toString(); 
}

final ObjectChoiceField choiceField=new ObjectChoiceField("Select Area",area);    
choiceField.setChangeListener(new FieldChangeListener() {

public void fieldChanged(Field field, int context) {
    if(field.equals(choiceField))
    {
            int index=choiceField.getSelectedIndex();
            String values=areaid[index].toString(); 
            Document document1=generalXmlAccess.access(generalXmlAccess.getSubArea());
            NodeList list3=document1.getElementsByTagName("tuple");   
            for(int i=0;i<list3.getLength();i++)
            {
                subareaid=new String[list3.getLength()]; 
                NodeList nodeList=document1.getElementsByTagName("PAR_ROW_ID"); 
                if(nodeList.item(i).getFirstChild().toString().equals(values))
                {
                    NodeList list=document1.getElementsByTagName("NAME");
                    subareaid[i]=list.item(i).getFirstChild().toString();
                }
                add(new ObjectChoiceField("Subarea", subareaid)); 
            }
    }
}
});

choiceField.setFont(font1); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:41:33.620

我认为，以下步骤可能会指导您。

**第 1 步：**首先`objectchoicefield`使用其数据创建。

**第 2 步：**实现其字段更改侦听器，其中您将使用 first 的选定值`choicefield`作为参数来获取要设置为 second 的对应值的数组`objectchoicefield`。

# c++ - 深度应对c ++ - 如果给出了指向该类的指针，则制作该类的副本

> ID：13117523
> 
> 赞同：0
> 
> 时间：2012-10-29T07:30:03.240
> 
> 标签：c++, constructor, copy

我是复制构造函数概念的新手。我有一个基本问题。想要实现一个类似的功能

```
orig *f1(orig*o)
{
  // Returns a copy of *0 and should deep copy all the values of the parent
  // pointer.Planning to implement a copy constructor to achieve the same.
  // Can anyone provide a prototype or some idea on the same?
}
class dummyclass
{
 int value;
};
class orig
{
  dummyclass *dummy;
  char str[100];
public:
 //default constructor
:
//parametrised constructor
 orig(char *p)
{
   dummy = new dummyclass;
  //rest of the initialisation
}
orig(const orig& duplicate)
{
//copy constructor
}
};
int main()
{
  orig o("Hello");//constructor
  orig dup(o);//copy constructor
   } 
```

我知道通过这种方式我们可以调用复制构造函数。但是如果给出了指向 o 即 *o 的指针，那么如何调用复制构造函数并进行深度复制。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:32:38.400

然后取消引用`o`：

```
orig* o = new orig("Hello");
orig dup(*o); 
```

# sql - 0RA-00952 与 Oracle 10g 的内部联接

> ID：13117528
> 
> 赞同：3
> 
> 时间：2012-10-29T07:30:21.553
> 
> 标签：sql, oracle, oracle10g

这有效：

```
SELECT
     PRODUCT_INFOS.FIELD_VALUE,
     PRODUCT_INFOS.COIL_ID_SYSTEM,
     PRODUCT_INFOS.TIME_STAMP,
     PRODUCT_INFOS.FIELD_NAME
FROM
     PRODUCT_INFOS 
```

这有效：

```
SELECT
     COIL_INFOS.TIME_STAMP,
     COIL_INFOS.IN_THICKNESS,
     COIL_INFOS.MEASURED_LENGTH,
     COIL_INFOS.MEASURED_WIDTH,
     COIL_INFOS.PARAM_SET_TOP_SIDE,
     COIL_INFOS.PARAM_SET_BOTTOM_SIDE,
     COIL_INFOS.TIME_STAMP,
     COIL_INFOS.COIL_ID_SYSTEM
FROM
     COIL_INFOS
WHERE
     (COIL_INFOS.COIL_ID_SYSTEM LIKE '14051800' OR COIL_INFOS.COIL_ID LIKE '14051800') 
```

这适用于 Oracle 11g，但`0RA-00952 - Table or view does not exist`在 10g（版本 10.2.0）上失败：

```
SELECT
     PRODUCT_INFOS.FIELD_VALUE,
     COIL_INFOS.TIME_STAMP,
     COIL_INFOS.IN_THICKNESS,
     COIL_INFOS.MEASURED_LENGTH,
     COIL_INFOS.MEASURED_WIDTH,
     COIL_INFOS.PARAM_SET_TOP_SIDE,
     COIL_INFOS.PARAM_SET_BOTTOM_SIDE
FROM
     COIL_INFOS
INNER JOIN
     PRODUCT_INFOS
     on PRODUCT_INFOS.COIL_ID_SYSTEM=COIL_INFOS.COIL_ID_SYSTEM
     and PRODUCT_INFOS.TIME_STAMP=COIL_INFOS.TIME_STAMP
     and PRODUCT_INFOS.FIELD_NAME='ID bobina'
WHERE
     (COIL_INFOS.COIL_ID_SYSTEM LIKE '14051800' OR COIL_INFOS.COIL_ID
LIKE '14051800') 
```

除了 Oracle 的版本（基础是使用相同的转储创建的）之外，我没有看到其他区别。由于我怀疑 Oracle 10g 中存在错误，因此我会接受与该问题明显相关的错误报告作为答案。

当然，也可以接受直接解决方案或解决方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:17:49.487

*我不会很快接受我自己的答案。随意提交更精确的，特别是如果您发现了来自 Oracle 的公开错误报告。*

我找到了一种解决方法：

```
SELECT
     PRODUCT_INFOS.FIELD_VALUE,
     COIL_INFOS.TIME_STAMP,
     COIL_INFOS.IN_THICKNESS,
     COIL_INFOS.MEASURED_LENGTH,
     COIL_INFOS.MEASURED_WIDTH,
     COIL_INFOS.PARAM_SET_TOP_SIDE,
     COIL_INFOS.PARAM_SET_BOTTOM_SIDE
FROM
     COIL_INFOS, PRODUCT_INFOS
WHERE
     PRODUCT_INFOS.COIL_ID_SYSTEM=COIL_INFOS.COIL_ID_SYSTEM
     and PRODUCT_INFOS.TIME_STAMP=COIL_INFOS.TIME_STAMP
     and PRODUCT_INFOS.FIELD_NAME='ID bobina'
     and (COIL_INFOS.COIL_ID_SYSTEM LIKE '14051800' OR COIL_INFOS.COIL_ID
LIKE '14051800') 
```

同一查询的这种简化语法在 10g 服务器上确实有效。我更多地认为使用的 10g 版本有问题。

# iphone - UIImage在uibutton中查看图片标题

> ID：13117531
> 
> 赞同：0
> 
> 时间：2012-10-29T07:30:31.867
> 
> 标签：iphone, ios, uiimageview, uibutton

在我的应用程序中，我有 1 个图像视图和 4 个按钮，我想在其中一个按钮标题中显示图像名称，其余 3 个按钮应该显示其他标题，这是我的代码，它不起作用，请帮我解决

```
-(IBAction)answersetting:(id)sender
{
UIButton *mybutton = (UIButton *)sender;
static int j = 0;
if(sender == mybutton)
    j++;
if (j >= arcount)
{
    j = 0;
}
else if(j < 0)
{
    j = arcount - 1;
}
animage.image=[arimage objectAtIndex:j];
for(UIView *view in self.view.subviews)
{
    if([view isKindOfClass:[UIButton class]])
    {
        UIButton *button = (UIButton *)view;
        if(button.tag == 1||button.tag == 2||button.tag == 3||button.tag == 4)
        {
            int value = rand() % ([artext count] -1) ;
            NSMutableDictionary *dictionary = [[NSMutableDictionary alloc]init];
            [dictionary setValue:@"imageName" forKey:@"button"];
            [button setTitle:[artext objectAtIndex:value] forState:UIControlStateNormal];

        }
    }
}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:18:21.657

代替：

```
[button setTitle:[artext objectAtIndex:value] forState:UIControlStateNormal]; 
```

试试这个：

```
[button setTitle:[NSString stringWithFormat:@"%@",[artext objectAtIndex:value]] forState:UIControlStateNormal]; 
```

还要确保`[artext objectAtIndex:value]`确实包含一些价值。

# sql-server - Report Builder 3.0 - 一起添加文本框

> ID：13117532
> 
> 赞同：1
> 
> 时间：2012-10-29T07:30:34.923
> 
> 标签：sql-server, reporting-services, reportbuilder3.0

我目前正在报表生成器 3.0 中创建报表。我有两个包含 SUM 的文本框。我想将这两个文本框的值一起添加到第三个文本框中。这怎么可能？

我需要补充一点，我不在表格或 tablix 中工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T00:54:22.110

只需添加 SUM：

```
=SUM(Fields!FirstField.Value, "DatasetOne") + SUM(Fields!SecondField.Value, "DatasetTwo") 
```

# c# - 在 mvvm 中，视图不会更新

> ID：13117535
> 
> 赞同：0
> 
> 时间：2012-10-29T07:30:48.420
> 
> 标签：c#, wpf, mvvm

我是 mvvm 概念的初学者。所以我尝试了一个示例应用程序。它包含两个文本框，分别是名称和 id、一个提交按钮、一个标签。当我单击提交按钮时，它结合了文本框中的两个字符串并显示在标签中。

我可以提交值，并且在 viewmodel 中属性包含结果。但它没有显示在 view.why..？

在视图中包含

```
<grid>
<TextBox Grid.Column="1" Grid.Row="1" Text="{Binding name}"  Height="23"  Margin="9" Name="txtname"  Width="120" />
<TextBox Grid.Column="1" Grid.Row="2" Text="{Binding id}" Height="23"  Margin="9" Name="txtid"  Width="120" />
<Button Command="{Binding submit}" Content="submit" Grid.Column="2" Grid.Row="2" Height="23"   Name="btnsubmit"  Width="75" />
<Label Content="{Binding display}" Grid.Row="3" Height="38" HorizontalAlignment="Left"  Name="lbldisplay"  Width="192" />

</grid> 
```

view.cs 代码是

```
public MainWindow()
    {
        InitializeComponent();
        DataContext = new DemoViewModel();
    } 
```

在我的视图模型中包含两个 .cs 文件

一个是 DemoViewModelInotify.cs。在此我为 inotifypropertychanged 编写代码。另一个是 DemoViewModel.cs.this 包含属性和命令。

```
namespace mvvmdemonixon.ViewModel
{
public  class DemoViewModel :DemoViewModelInotify
{
  public ICommand submit { get; set; }

  public string name { get; set; }
  public string display { get; set; }
  public int id{get;set;}
  public DemoModel model { get; set; }
  public DemoViewModel()
  {

      submit = new DelegateCommand<object>(this.add);

  }

  public void add(object paramter)
  {
    string a=  mvvmdemonixon.Model.DemoModel.addstring(name, id);
    display = a;
  }

}
} 
```

我的模型包含

```
namespace mvvmdemonixon.Model
{
public  class DemoModel
{
   public static string addstring(string name1, int no1)
   {
       string display = "The Student Name Is " + name1 + "and Id Is" + no1 + ".";
       return display;
   }

}
} 
```

在我的 app.xaml.cs

```
private void OnStartup(object sender, StartupEventArgs e)
    {
        mvvmdemonixon.MainWindow view = new MainWindow();
        view.DataContext = new mvvmdemonixon.ViewModel.DemoViewModel();
        view.Show();
    } 
```

在我的应用程序 xaml

```
<Application x:Class="mvvmdemonixon.App"
Startup="OnStartup">
</Application> 
```

提前谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:36:01.493

WPF 绑定引擎使用`INotifyPropertyChanged`（用于标量属性）和`INotifyCollectionChanged`（用于集合属性）接口来反映已在绑定数据源（视图模型）中进行的更改。

这个：

```
public string display { get; set; } 
```

意味着，任何属性设置都*不会*通知视图，因为 setter 的代码不包含任何通知。代码应该是这样的：

```
public string display 
{ 
    get { return _display; }
    set
    {
        if (_display != value)
        {
            _display = value;
            OnPropertyChanged("display");
        }
    } 
}
private string _display; 
```

在哪里`OnPropertyChanged`引发`INotifyPropertyChanged.PropertyChanged`事件。

这适用于视图模型中的其他视图绑定属性，它们应该更新视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:34:39.257

您需要在 ViewModel 中实现[INotifyPropertyChanged](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.aspx)。并从每个属性设置器中引发属性更改事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:36:51.520

你错过了两件事。第一件事是您的 View 的绑定是 OneTime。第二件事是您 ViewModel 在属性更改时不会通知。

要解决第一个问题，您必须更新 xaml，如下所示。

```
<Label Content="{Binding display, Mode=OneWay}" Grid.Row="3" Height="38" HorizontalAlignment="Left"  Name="lbldisplay"  Width="192" /> 
```

要解决第二个问题，您必须实施[INotifyPropertyChanged](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.aspx)。

# ms-access - Microsoft Access 2010 Web 数据库将日期转换为字符串

> ID：13117539
> 
> 赞同：0
> 
> 时间：2012-10-29T07:30:54.800
> 
> 标签：ms-access

我正在尝试为 Microsoft Access 2010 中的 Web 数据库构建计算字段。

该字段应以三字符格式显示日期，如下所示： Mon Tue Wed

来自表中的现有日期列。

显然 Format 功能与 web 不兼容。并且下面的函数 FormatDateTime 没有转换为字符串日期的选项，只是一个长短日期和时间。

关于如何实现这一点的任何想法？

如果这不可能，我唯一的选择似乎是创建一个客户端对象。

我尝试将函数添加到查询中，但这也与 Web 数据库不兼容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:45:33.010

WeekdayName 应该适合。小心 FirstDayofWeek：

```
SELECT WeekdayName(Weekday([ADate],1),-1,1) FROM Table 
```

句法：

```
Weekday(Date,[FirstDayOfWeek])
WeekdayName(Weekday as Long,[Abbreviate as Boolean],[FirstDayOfWeek])

1 = Sunday in both of the functions. 
```

# php - 将数组设置为公共属性

> ID：13117544
> 
> 赞同：0
> 
> 时间：2012-10-29T07:31:07.730
> 
> 标签：php, class

```
class Student{

$db_fields = array('id','firstname','lastname')

} 
```

有什么方法可以将 $db_fields 数组设置为公共变量/属性，而无需手动输入，例如：

```
class Student{

    $db_fields = array('id','firstname','lastname')

    public $id;
    public $firsname;
    public $last;
} 
```

?

我正在尝试使用 foreach 进行设置，但无法完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:34:18.190

```
class Student{

    public $db_fields;

    public $id;
    public $firsname;
    public $last;

    public function __construct($data){
        $this->db_fields = $data;
    }
}

$students = new Student(array('id','firstname','lastname')); 
```

你可以这样设置..或者这样..

```
 class Student{

        public $db_fields;

        public $id;
        public $firsname;
        public $last;

        public function set_db_fields($data){
            $this->db_fields = $data;
        }
    }

    $students = new Student();
    $students->set_db_fields(array('id','firstname','lastname')); 
```

这个想法是当您调用该类以使用某些函数设置这些变量时。第一种方法是使用构造函数，第二种方法是仅为此编写1个函数。

第三种方式是@PLB 用魔术函数重播。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:34:09.180

是的，您可以在您的类中使用魔法方法[`__get`](http://www.php.net/manual/en/language.oop5.overloading.php#object.get)和[`__set`](http://www.php.net/manual/en/language.oop5.overloading.php#object.set)（这些方法用于访问不可访问的实例变量。您可以在文档中获得更多信息）`Student`。

```
public function __get($name) {
    return $this->{$name};
}

public function __set($name, $value){
    $this->{$name} = $value;
} 
```

现在你可以使用它了：

```
$obj = new Student();
$obj->db_fields = array(1,2,3); //Assign private variable.
var_dump($obj->db_fields); //Get private variable. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T08:14:42.320

访问数组变量的唯一方法是通过数组（据我所知），如下所示：

```
$db_fields = array('id' => 5,'firstname' => 'Paul', 'lastname' => 'Doe');
echo $db_fields->id; // would print 5. 
```

你说你想要的是：

```
$db_fields = array('id' => 5,'firstname' => 'Paul', 'lastname' => 'Doe');
echo $id; // would print 5 but that is not possible 
```

唯一可行的情况是，如果您正在谈论的数组是带有寄存器全局变量的 $_POST 和 $_GET，但据我所知，不可能对任何数组执行此操作（实际上通常不建议这样做）它甚至使用 $_POST 和 $_GET 数组）。

**编辑：**

您实际上可以在数组上使用 extract() 函数。

```
$db_fields = array('id' => 5,'firstname' => 'Paul', 'lastname' => 'Doe');
extract($db_fields);
echo $id; // if I'm not mistaken, that should work 
```

# iphone - Flurry 仅记录时间事件，而不是常规事件

> ID：13117547
> 
> 赞同：2
> 
> 时间：2012-10-29T07:31:30.667
> 
> 标签：iphone, ios, ipad, analytics, flurry

我正在尝试使用 Flurry 在我的 iOS 5.x 和 6.x 应用程序中收集分析。总的来说，我所做的似乎很有效，但是在 Flurry 仪表板的事件选项卡中，我只能看到一种类型的事件，即定时事件。我应该说我已经做了一个多星期的测试，因为即使它不是实时的，我已经给了它超过 72 小时的更新时间。据我所知，安装很好。我已将 .h 和 .a 文件添加并复制到我的项目中，它们被引用并且库正在链接到目标设置的库部分中的链接二进制文件中。

这是一些代码：在应用程序委托中，我有以下内容：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary  *)launchOptions
{
    [Flurry startSession:@"MYKEY"]; 
    [Flurry logAllPageViews:self.navigationController]; // Pageviews logging appear to be working 
```

现在，在我肯定执行的代码的某些部分，我这样做：

```
[Flurry logEvent:@"SOME_EVENT_NAME"];
// The event above never shows 
```

在我的应用程序的某个时刻，我会：

```
[Flurry logEvent:@"SOME_TIMED_EVENT_NAME" timed:YES]; 
```

然后过了一段时间我这样做：

```
[Flurry endTimedEvent:@"SOME_TIMED_EVENT_NAME" withParameters:nil]; 
```

正如我所说的，有趣的是，定时事件和页面浏览量在 Flurry 仪表板中显示时似乎确实有效，但常规事件却没有。我即将尝试第 2 层活动，看看情况如何。无论如何，这个问题对我来说似乎真的很奇怪，不用说变得多么令人沮丧。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T13:24:39.193

事实证明，Flurry 没有报告使用 iOS 模拟器生成的数据，我相信这就是正在发生的事情。不幸的是，我从未在文档中发现这一点，因此没有强有力的证据证明这种说法。但是，在实际设备上使用该应用程序产生的数据似乎已经适当地报告给了flurry系统。

# javascript - $.addMessage = function () { 和 $.fn.addMessage = function () { 有什么区别

> ID：13117554
> 
> 赞同：2
> 
> 时间：2012-10-29T07:31:53.330
> 
> 标签：javascript, typescript

我意识到一个是原型有人可以告诉我这两者之间的区别吗？

```
$.addMessage = function () { 
```

和

```
$.fn.addMessage = function () { 
```

从我可以看到一个扩展 JQuery 和打字稿中的另一个 JQueryStatic

```
interface JQuery {
    addMessage();
}

interface JQueryStatic {
  addMessage();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:25:09.370

如果你添加一个函数

```
$.addMessage = function(){ 
```

您可以稍后访问该功能

```
$.addMessage() 
```

从语义上讲，函数与具体的jQuery实例无关，可以看作是Java**中的静态方法**（属于一个类）的等价物。

* * *

如果你添加一个函数

```
$.fn.addMessage = function(){ 
```

由于 jQuery 将 $.fn 定义为 $.prototype 的别名，因此这相当于

```
$.prototype.addMessage = function(){ 
```

Javascript 自动指定`Class.prototype`为使用创建的对象的原型`new Class()`。`$(...)`在内部使用`new $(...)`，这意味着它确实使用`$`构造函数创建新对象。这意味着`$.fn.addMessage`也可以访问为

```
$(".messageContainer").addMessage() 
```

从语义上讲，`$.fn.addMessage`与特定的 jQuery 实例有关。这意味着函数`this`内部`addMessage`不是引用`$.fn`，而是引用`$(...)`。`$.fn`因此可以认为是Java中的一个实例方法（属于一个实例）**的等价物。**

* * *

换句话说，如果您将函数声明为

```
$.addMessage = function(){ 
```

, 你把它当作

```
$.addMessage() 
```

如果您将其声明为您的功能

```
$.fn.addMessage = function(){ 
```

, 你把它当作

```
$(".messageContainer").addMessage() 
```

# android - Android 程序使用（错误的）通用名称保存文件，并且程序崩溃。对我的代码的想法？

> ID：13117558
> 
> 赞同：1
> 
> 时间：2012-10-29T07:32:18.980
> 
> 标签：android, camera

我是编程部门的新手。我已经修补了几个小时，但没有得到任何地方。我花了很多时间试图在 stackoverflow 上找到解决方案，这是我第一次提交一个问题。

接下来，我粘贴了 MainActivity.java 文件的内容。我相信我的清单中的所有内容都已正确声明 - 包括写入 SD 卡的权限。大部分代码取自 android API 文档。在运行程序之前，在任何地方都没有发现任何错误。我正在摩托罗拉 Razr Droid 上测试该程序。

单击按钮（rawClick），调用相机实例，我批准图片并且程序崩溃。如果我浏览到我的图片，则会保存图片（文件名不正确）。

关于我在这里可能做错的任何想法？

谢谢。我非常感谢您可以提供的任何帮助。

```
import java.io.File;
import java.text.SimpleDateFormat;
import java.util.Date;

import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.os.Environment;
import android.provider.MediaStore;
import android.util.Log;
import android.view.View;
import android.widget.Toast;

public class MainActivity extends Activity 
{   

// Variables
private static final int CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE = 100;
public static final int MEDIA_TYPE_IMAGE = 1;
private Uri fileUri;

    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    }    

    public void rawClick(View view) {
    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE); //set intent         to use camera 

    fileUri = getOutputMediaFileUri(MEDIA_TYPE_IMAGE); // create a file to save the image
    intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri); // set the image file name

    startActivityForResult(intent, CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE); // start the image capture Intent
}

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        if (requestCode == CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE) {
            if (resultCode == RESULT_OK) {
                // Image captured and saved to fileUri specified in the Intent
                Toast.makeText(this, "Image saved to:\n" +
                         data.getData(), Toast.LENGTH_LONG).show();
            } else if (resultCode == RESULT_CANCELED) {
                // User cancelled the image capture
            } else {
                // Image capture failed, advise user
            }
        }       
    }

    /** Create a file Uri for saving an image or video */
    private static Uri getOutputMediaFileUri(int type){
          return Uri.fromFile(getOutputMediaFile(type));
    }

    /** Create a File for saving an image or video */
    private static File getOutputMediaFile(int type){
        // To be safe, you should check that the SDCard is mounted
        // using Environment.getExternalStorageState() before doing this.

        File mediaStorageDir = new File(Environment.getExternalStoragePublicDirectory(
                  Environment.DIRECTORY_PICTURES), "MyCameraApp");
        // This location works best if you want the created images to be shared
        // between applications and persist after your app has been uninstalled.

        // Create the storage directory if it does not exist
        if (! mediaStorageDir.exists()){
            if (! mediaStorageDir.mkdirs()){
                Log.d("MyCameraApp", "failed to create directory");
                return null;
            }
        }

        // Create a media file name
        String timeStamp = new SimpleDateFormat("yyyyMMdd_HHmmss").format(new Date());
        File mediaFile;
        if (type == MEDIA_TYPE_IMAGE){
            mediaFile = new File(mediaStorageDir.getPath() + File.separator +
            "IMG_"+ timeStamp + ".jpg");
        } else {
            return null;
        }

        return mediaFile;
    } 
```

}

# extjs - 如何使水平滚动条仅在需要时可见？

> ID：13117559
> 
> 赞同：0
> 
> 时间：2012-10-29T07:32:27.353
> 
> 标签：extjs, extjs4.1

我只在需要时才需要垂直滚动条和水平滚动条（例如，屏幕被最小化），所以我将我的主面板包装到一个具有**autoScroll**属性 true 的面板中，然后又将它变成一个具有**layout: fit**的面板。现在垂直滚动条仅在需要时出现，但水平滚动条不出现。

在需要时使**水平滚动条**也出现的方法是什么？任何帮助，将不胜感激。

请在下面找到我的代码：

```
Ext.define('ORT.view.survey.wizard.StepTemp3', {
extend: 'Ext.form.Panel',

alias : 'widget.surveywizardsteptemp3',

title: 'Survey Wizard - Step temp 3',

id : 'surveyWizardtemp3',

layout:'fit',

items:[{
    xtype:'panel',
    autoScroll:true,
    border:false,
    items:[{
        xtype:'panel',
        border:false,
        layout: {
            type: 'vbox',
            align:'stretch'
        },
        items:[{
            border: false,
            margin:10,
            layout:{
                type: 'hbox',
                align: 'top',
                pack: 'start'
            },
            defaults:{margins:'0 10 0 0'},

            items:[{
                flex:1,
                border: false,
                cls: 'blueSurveyBox',
                layout:{
                    type:'vbox',
                    align: 'stretch',
                    padding:'10 5 0 10'
                },
                defaults:{margins: '0 0 15 0'},
                items:[{
                    border: false,
                    layout:{
                        type:'hbox',
                        align:'top'
                    },
                    items:[{
                        border: false,
                        xtype:'label',
                        text:'Survey Title - ',
                        cls: 'labelBig',
                        width: 85
                    },{
                        border: false,
                        xtype:'label',
                        text:'Popular Radio Station',
                        cls: 'labelBigBold',
                    }]      
                },{
                    border: false,
                    layout:{
                        type:'hbox',
                        align:'top'
                    },
                    items:[{
                        border: false,
                        xtype:'label',
                        text:'Category - ',
                        cls: 'labelBig',
                        width: 85
                    },{
                        border: false,
                        xtype:'label',
                        text:'Community',
                        cls: 'labelBigBold',
                    }]      
                }]      

            },{
                flex:1,
                border: false,
                cls: 'blueSurveyBox',
                layout:{
                    type:'hbox',
                    align:'top',
                    pack:'center'
                },
                items:[{
                    flex:1,
                    border: false,
                    layout:{
                        type:'hbox',
                        padding:'10 10 15 10'
                    },
                    defaults:{margin:'0 10 0 0'},
                    items:[{
                        border:false,
                        layout:{
                            type:'vbox'
                        },
                        items:[{
                            xtype:'label',
                            text:'Your Logo - '
                        },{
                            xtype:'label',
                            text:'(Dimensions - 100 x 100 px, File Type - .jpg,.gif,.png)',
                            cls: 'descText',
                            width:170
                        }]
                    },{
                        xtype:'button',
                        text:'Upload Logo',
                        scale: 'medium',
                        iconCls:'icon-uploadBtn',
                        width: 120
                    },{
                        xtype:'image',
                        src: 'images/admin_users.png',
                        autoEl: 'div',
                        renderTo: Ext.getBody(),
                        width: 120
                    }]
                }]
            }]
        },{
            border:false,
            margin:'0 10 10 10',
            cls: 'blueSurveyBox',
            layout:{
                type:'vbox',
                align:'stretch',
                padding:'10 10 0 10'
            },
            items:[{
                    xtype:'label',
                    text:'Survey Layout Template',
                    cls:'subTitle'
            },{
                xtype:'panel',
                autoScroll: true,
                items:[{
                border:false,
                layout:{
                    type:'hbox'
                },
                items:[{
                    xtype: 'dataview',
                    store: 'SearchedGraphics',
                    tpl: [
                        '<tpl for=".">',
                            '<div class="thumb-wrap" id="{name:stripTags}">',
                            '<div class="thumb"><table><tr><td><img class="img" src="{url}" title="{name:htmlEncode}"></td></tr></table></div>',
                            '<span class="x-editable">{shortName:htmlEncode}</span>',
                            '</div>',
                        '</tpl>',
                        '<div class="x-clear"></div>'
                    ],
                    multiSelect: true,
                    height: 100,
                    trackOver: true,
                    overItemCls: 'x-item-over',
                    itemSelector: 'div.thumb-wrap',
                    emptyText: ORT.Utility.GridEmptyText,

                    prepareData: function(data) {
                        Ext.apply(data, {
                            shortName: Ext.util.Format.ellipsis(data.name, 15),
                            sizeString: Ext.util.Format.fileSize(data.size),
                            dateString: Ext.util.Format.date(data.lastmod, "m/d/Y g:i a")
                        });
                        return data;
                    }}]
                }]
            }]
        },{
            border: false,
            margin:'0 10 10 10',
            cls: 'blueSurveyBox',
            layout:{
                type:'vbox',
                align: 'stretch',
                padding:'10 10 0 10'
            },
            defaults:{margins:'0 5 10 5'},
            items:[{
                border: false,
                layout:{
                    type:'vbox',
                    align:'top'
                },
                items:[{
                    xtype:'label',
                    text:'Survey Header Attributes',
                    cls:'subTitle'
                },{
                    border: false,
                    layout:{
                        type:'hbox',
                        align:'top',
                        pack:'center'
                    },
                    defaults:{margins:'5 10 10 0'},
                    items:[{
                        xtype:'textfield',
                        fieldLabel:'Title',
                        name: 'title',
                        labelWidth: 60,
                        width:250
                    },{
                        xtype:'checkbox',
                        boxLabel:'Display Date/Time',
                        boxLabelAlign:'before',
                        margin:'0 0 0 20'
                    },{
                        xtype:'combobox',
                        width:100
                    }]
                },{
                    border:false,
                    layout:{
                        type:'hbox',
                        align:'top' 
                    },
                    defaults:{margins:'0 20 0 0'},
                    items:[{
                        xtype:'combobox',
                        fieldLabel:'Font',
                        labelWidth:60,
                        width:250,
                    },{
                        border: false,
                        layout:{
                            type:'hbox',
                            align:'top',
                            pack:'end'      
                        },
                        defaults:{margin:'0 5 5 10'},
                        items:[{
                            xtype:'combobox',
                            fieldLabel:'Font Size',
                            labelWidth:80,
                            width:200
                        },{
                            xtype:'combobox',
                            fieldLabel:'Text Color',
                            labelWidth:80,
                            width:200
                        }]
                    }]
                }]
            },{
                border: false,
                margin: '5 0 5 0',
                layout:{
                    type:'vbox',
                    align:'top'
                },
                items:[{
                    xtype:'label',
                    text:'Survey Question Attributes',
                    cls:'subTitle'
                },{
                    border: false,
                    layout:{
                        type:'hbox',
                        align:'top',
                        padding:'5 0 0 0'
                    },
                    defaults:{margins:'0 20 0 0'},
                    items:[{
                        xtype:'combobox',
                        fieldLabel:'Font',
                        labelWidth:60,
                        width:250,
                    },{
                        border: false,
                        layout:{
                            type:'hbox',
                            align:'top',
                            pack:'end'      
                        },
                        defaults:{margin:'0 5 0 10'},
                        items:[{
                            xtype:'combobox',
                            fieldLabel:'Font Size',
                            labelWidth:80,
                            width:200
                        },{
                            xtype:'combobox',
                            fieldLabel:'Text Color',
                            labelWidth:80,
                            width:200
                        }]
                    }]
                }]
            },{
                border: false,
                layout:{
                    type:'vbox',
                    align:'stretch'
                },
                items:[{
                    xtype:'label',
                    text:'Survey Answers Attributes',
                    cls:'subTitle'
                },{
                    border: false,
                    layout:{
                        type:'hbox',
                        align:'top',
                        padding:'5 0 0 0'
                    },
                    defaults:{margins:'0 20 0 0'},
                    items:[{
                        xtype:'combobox',
                        fieldLabel:'Font',
                        labelWidth:60,
                        width:250,
                    },{
                        border: false,
                        layout:{
                            type:'hbox',
                            align:'top',
                            pack:'end'      
                        },
                        defaults:{margin:'0 5 0 10'},
                        items:[{
                            xtype:'combobox',
                            fieldLabel:'Font Size',
                            labelWidth:80,
                            width:200
                        },{
                            xtype:'combobox',
                            fieldLabel:'Text Color',
                            labelWidth:80,
                            width:200
                        }]
                    }]
                }]
            }]
        }]
    }]

}],

initComponent: function() {
    this.callParent(arguments);
},
constructor: function (config) {
    this.superclass.constructor.call(this, config);
}}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T06:35:08.317

我的解决方案是您的表单面板过度嵌套。除非您将其剥离到外壳并从那里慢慢进步，否则您将无法牢牢掌握它。这是使用照明检查它的屏幕截图。我强烈推荐它。 ![在此处输入图像描述](../Images/31328df2583e36633208b4620c94935a.png)

您应该拥有一个带有多个字段容器或简单容器的单个表单面板，仅在布局需要时使用。请在 Sencha 网站上查看具有类似表格的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-09T15:03:39.297

使用 css 您可以删除**AutoScroll**属性，并在您的 css 中，将**溢出**属性设置为**自动**（您可以将溢出-x 和溢出-y 分别设置）

# c++ - C/C++ 中 Delphi 类型的类似物

> ID：13117566
> 
> 赞同：3
> 
> 时间：2012-10-29T07:33:00.587
> 
> 标签：c++, c, delphi

C/C++ 中Delphi 类型[**TVarType**](http://docwiki.embarcadero.com/Libraries/XE2/en/System.TVarType)和[**OleVariant的类似物是什么？**](http://docwiki.embarcadero.com/Libraries/XE2/en/System.OleVariant)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T09:41:44.280

等价于[VARIANT 结构](http://msdn.microsoft.com/en-us/library/windows/desktop/ms221627%28v=vs.85%29.aspx)`OleVariant`，它被包装在 Visual C++中的[_variant_t 类中。](http://msdn.microsoft.com/en-us/library/x295h94e%28v=vs.100%29.aspx)

相当于[VARTYPE typedef](http://msdn.microsoft.com/en-us/library/windows/desktop/ms221127%28v=vs.85%29.aspx)`TVarType` ，从技术上讲，它是unsigned short ，但它包含[VARENUM enumeration](http://msdn.microsoft.com/en-us/library/windows/desktop/ms221170%28v=VS.85%29.aspx)的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T07:48:37.873

好吧，从他们自己的文档中可以清楚地看出——第一个只是一个无符号字——一个 uint_16。

第二个有点难以解释。它基本上是一个包含一大堆字段的大型结构。这一种数据类型包括可以传输到/从 COM 对象传输的每种数据类型的字段。这意味着您只需要关心向/从对象传递变体即可。然后由你们每个人（程序员/COM 对象）在相关位置提取/插入数据。

也许我不应该，但这是来自 oaidl.h (gcc, win32) 的 VARIANT 的定义

```
typedef struct tagVARIANT {
  _ANONYMOUS_UNION union {
    struct __tagVARIANT {
    VARTYPE vt;
    WORD wReserved1;
    WORD wReserved2;
    WORD wReserved3;
    _ANONYMOUS_UNION union {
        long lVal;
        LONGLONG llVal;
        unsigned char bVal;
        short iVal;
        float fltVal;
        double dblVal;
        VARIANT_BOOL  boolVal;
        SCODE scode;
        CY cyVal;
        DATE date;
        BSTR bstrVal;
        IUnknown *punkVal;
        LPDISPATCH pdispVal;
        SAFEARRAY *parray;
        unsigned char *pbVal;
        short *piVal;
        long *plVal;
        LONGLONG  * pllVal;
        float *pfltVal;
        double *pdblVal;
        VARIANT_BOOL *pboolVal;
        _VARIANT_BOOL  *pbool;
        SCODE *pscode;
        CY *pcyVal;
        DATE *pdate;
        BSTR *pbstrVal;
        IUnknown **ppunkVal;
        LPDISPATCH *ppdispVal;
        SAFEARRAY **pparray;
        struct tagVARIANT *pvarVal;
        void *byref;
        CHAR cVal;
        USHORT uiVal;
        ULONG ulVal;
        ULONGLONG ullVal;
        INT intVal;
        UINT uintVal;
        DECIMAL *pdecVal;
        CHAR  *pcVal;
        USHORT  *puiVal;
        ULONG  *pulVal;
        ULONGLONG * pullVal;
        INT  *pintVal;
        UINT  *puintVal;
        _ANONYMOUS_STRUCT struct {
            PVOID pvRecord;
            struct IRecordInfo *pRecInfo;
        } __VARIANT_NAME_4;
    } __VARIANT_NAME_3;
    } __VARIANT_NAME_2;
    DECIMAL decVal;
  } __VARIANT_NAME_1;
} VARIANT,*LPVARIANT; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T23:16:08.093

如果您专门使用 C++Builder，它有自己的类型`TVarType`和`OleVariant`与那些 Delphi 类型直接相关的类型。 `TVarType`在 System.hpp 中声明，并`OleVariant`在 systvari.h 中声明，就像您链接到的文档所说的那样。

# android - Nexus 7 (Android) 的启动画面尺寸

> ID：13117586
> 
> 赞同：0
> 
> 时间：2012-10-29T07:35:02.507
> 
> 标签：android, nexus-7

Nexus 7 的初始屏幕尺寸应该是多少，我如何区分各种屏幕并为每个屏幕设置不同尺寸的初始屏幕？

请建议。

# ruby-on-rails-3 - 使用 rails 在样式表中创建 CSV 文件时，同一列中的两个数据显示在上方/下方

> ID：13117593
> 
> 赞同：0
> 
> 时间：2012-10-29T07:35:29.060
> 
> 标签：ruby-on-rails-3, csv, stylesheet

![在此处输入图像描述](../Images/69df060e810ba79bc228c61adc4daee2.png)

我正在使用 Rails 编码创建 CSV 文件，但我在 continue 中的同一列中显示了两个联系人数据。所以数据不能以良好的格式显示。

目前显示的数据如下：

```
-------------------------------
|email:1@gmail.comphone:3453453|   
------------------------------- 
```

我想显示如下：

```
-------------------
|email:1@gmail.com|
|phone:3453453    | 
------------------- 
```

在同一列。

我正在使用以下代码：

```
 dpwn_text = "#{t('email')}: #{d.contact}" + "#{t('PhoneNo')}: #{d.phoneno}" 

     tmp_file = "#{Rails.root}/app/assets/images/temp.csv"

     File.open(tmp_file, 'wb') do |f|  
       f.write dpwn_text
     end

     send_data(dpwn_text, :type => 'text/csv; charset=utf-8; header=present', :filename => "publishers.csv")
     return 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T13:13:39.130

```
 dpwn_text = "#{t('email')}: #{d.contact}" + "\n#{t('PhoneNo')}: #{d.phoneno}" 
```

但这种格式不是 csv .. 如果你想让它成为 csv（coma 分隔值），那么它应该如下所示：

```
##contacts.csv
# email; phone
email1; 123
email2; 32434
email3; ... 
```

# asp.net - 我如何通过 asp.net 构建服务发送/接收短信

> ID：13117601
> 
> 赞同：2
> 
> 时间：2012-10-29T07:36:28.433
> 
> 标签：asp.net, service, sendmessage

我需要通过 asp.net 构建服务发送/接收短信。我找到了一些网站或公司提供该服务的服务。但这不适合我的工作。我的问题是：我如何建立自己的服务来做到这一点？我需要做什么？短信网关是一种解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:42:44.927

您可能需要以下内容。

1.  Web 服务允许其他应用程序将它们的消息与目标号码一起发送。这会将消息放入数据库中。

2.  Windows 应用程序可以是一个 Windows 服务，用于从数据库中获取消息并使用附加的 gsm 调制解调器发送它们。这篇 codeproject[**文章**](http://www.codeproject.com/Articles/20420/How-To-Send-and-Receive-SMS-using-GSM-Modem)为您提供了使用串行端口开始与 gsm 调制解调器通信的想法。

# mongodb - 使用原始 mongodb 更新嵌套数据

> ID：13117603
> 
> 赞同：0
> 
> 时间：2012-10-29T07:36:40.833
> 
> 标签：mongodb, push, meteor, updates

我有以下数据结构：

```
Object
_id: "ca06ef84-5934-498e-9887-8a3241e713f2"
answers: Object
owner: "273b7291-df2b-494c-bd9b-64e71283447e"
Topic: "My Topic"
__proto__: Object 
```

在哪里`answers`：

```
1: Object
answer: "My Answer"
__proto__: Object 
```

如何使用 mongodb 推入 n 个附加`answers`对象？到目前为止，我有这样的事情，这当然是完全错误的。我走错路了吗？

```
db.collection.update({},{"$push":{"answers":1{"hi":"new"}}}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T11:03:49.930

```
db.collection.update({_id: <id>},{"$push":{"answers":{"hi":"new"}}}) 
```

或者您可以使用[$addToSet](http://docs.mongodb.org/manual/reference/operator/addToSet/)而不是 $push 仅添加唯一答案。还可以查看[“upsert”](http://docs.mongodb.org/manual/reference/glossary/#term-upsert)参数以添加新主题而不检查它的存在。

# extjs - 从数据视图拖放到 extjs4 的面板中

> ID：13117604
> 
> 赞同：0
> 
> 时间：2012-10-29T07:36:42.247
> 
> 标签：extjs, drag-and-drop, extjs4

我正在创建一个拖放操作，其中我有一个带有一组图像的数据视图。然后我有一个面板，我想让用户从数据视图中删除图像。使用煎茶示例中的示例，我能够得到类似的东西。但我收到一个错误

```
Uncaught TypeError: Cannot set property 'afterValidDrop' of undefined 
```

这就是我的面板中的内容。

```
Ext.define('Memegen.view.MemeBuildArea',{
    extend: 'Ext.panel.Panel',
    alias: 'widget.memebuildarea',
    listeners: {
        render: initializeMemeDropZone
    },
    cls: 'meme-target',
});

function initializeMemeDropZone(targetPanel) {  
    targetPanel.dropTarget = Ext.create('Ext.dd.DropTarget', targetPanel.el);
    targetPanel.dropTarget.notifyDrop = function(source, evt, data) {
    if(typeof console != "undefined")
      console.log("notifyDrop:" + source.id);
    var droppedPanel = Ext.getCmp(source.id);

    droppedPanel.dd.afterValidDrop = function() {
      targetPanel.add(droppedPanel.cloneConfig({
        draggable: false,
        title: "Can't Drag This Panel."
      }));
      droppedPanel.destroy();
    };
    return true;
}

  targetPanel.dropTarget.notifyEnter = function(source, evt, data) {
    if(typeof console != "undefined")
      console.log("notifyEnter:" + source.id);
    return this.callParent(Array.prototype.slice.call(arguments));
  };

  targetPanel.dropTarget.notifyOut = function(source, evt, data) {
    if(typeof console != "undefined")
      console.log("notifyOut:" + source.id);
    return this.callParent(Array.prototype.slice.call(arguments));
  };

  targetPanel.dropTarget.notifyOver = function(source, evt, data) {
    if(typeof console != "undefined")
      console.log("notifyOver:" + source.id);
    return this.callParent(Array.prototype.slice.call(arguments));
  };

} 
```

关于这里出了什么问题的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T20:47:02.673

为了定义 dd 属性，您的面板需要是可拖动的（请参阅 Ext.panel.Panel 的 API 文档，可拖动配置）。

# passbook - 存折添加href

> ID：13117607
> 
> 赞同：1
> 
> 时间：2012-10-29T07:37:03.357
> 
> 标签：passbook

我想在“背面字段”之一的背面创建一个带有 URL 的存折卡。有谁知道是否可以使用 href 条目，这样我就不会暴露实际的 URL？

例如，在 JSON 记录中，而不是：

```
"value" : "Click here, http://google.com.au" 
```

做了：

```
"value" : "Click here, <a href='http://google.com.au'>HERE</a>" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T14:03:36.903

不，你不能，任何 html 标记字段都会被解析。

网址是自动解析的，并且必须是纯文本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T15:54:18.103

@MacTeo 是正确的，URL（电子邮件、电话号码和地址）将自动变为可点击，但任何 HTML 标记都不会被处理，您最终会在通行证背面看到原始 HTML。

您现在可以做的最好的事情是获取一个短域并安装一个重定向脚本。

然后你可以使用一些简短但有吸引力的东西，比如`http://wt.is/latest_offer`重定向到你想要的任何地方。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-07T13:41:24.647

从 iOS7 开始，您可以使用该`attributed_value`属性。（[文档](https://developer.apple.com/library/ios/documentation/userexperience/Reference/PassKit_Bundle/Chapters/FieldDictionary.html)）：

`"attributedValue": "<a href='http://example.com/customers/123'>Edit my profile</a>"`

# iphone - 如何以编程方式将用户锁定到 iOS 6 中的单应用程序模式？

> ID：13117610
> 
> 赞同：3
> 
> 时间：2012-10-29T07:37:37.673
> 
> 标签：iphone, objective-c, ios, ios6

有一些与此相关的问题，。但得到确切答案：

[锁定 iPhone/iPod/iPad，使其只能运行一个应用程序](https://stackoverflow.com/questions/5011774/lock-down-iphone-ipod-ipad-so-it-can-only-run-one-app)

最近，iOS 6 引入了一些面向业务的功能，其中两个主题是：

1.  [指南访问](http://www.idownloadblog.com/2012/06/26/ios-6-guided-access/)
2.  [监督访问](http://arstechnica.com/apple/2012/10/hands-on-securing-ios-pwning-your-kids-with-apple-configurator-1-2/)

这两个都涉及可**访问性控制功能**，例如允许用户限制对设备的访问，**前提是他们具有对设备的完全访问权限。**这样，这仅对拥有该设备的人有用，例如学校使用该设备进行考试，餐厅用于菜单，产品展示等。所有人都可以访问该设备以配置设置等。

现在我的问题从这里开始，**我正在考虑一个应用程序，它在用户运行应用程序时将用户视为单一应用程序模式，并且在退出应用程序后设备开始像以前一样在正常模式下工作。**

在应用程序处于活动状态期间，用户不应访问任何其他功能或按钮，这适用于所有三个设备 iPad、iPhone、iPod。

我还发现这可以通过安装一些配置文件等来完成，这些配置文件看起来是有线的，我们不能要求用户这样做。

**所以简单的想法是用户只会像往常一样安装应用程序，当他登录应用程序时，我们可以将他锁定为单应用程序模式。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T16:38:57.507

SureLock iOS 应用程序只在您的系统偏好设置中通知用户如何操作。

如果您违反了有关私有框架的规则，则只能从应用程序本身执行此操作。并努力打破它。

我很遗憾地告诉你，你提出想法的方式永远不会被 AppStore 批准。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-21T16:33:25.733

这个问题的公认答案不再正确：

从 iOS 7 开始，UIKit 将函数[UIAccessibilityRequestGuidedAccessSession](https://developer.apple.com/Library/ios/documentation/UIKit/Reference/UIKitFunctionReference/Reference/reference.html#//apple_ref/c/func/UIAccessibilityRequestGuidedAccessSession)公开为公共 API。

我不知道，但可以很好地想象这个功能作为私有 API 存在，可以追溯到 iOS 6，其中引入了引导访问功能。

请注意，要使此方法生效，**必须**使用 MDM 监督相关设备，并且您要使用此 API 的应用程序的 ID**必须**包含在部署到它的设备管理配置文件中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-09-26T11:32:15.977

嗨，我可能迟到了，但我有一个好消息要告诉你。

苹果在 IOS 7 中提供了一项新功能，我们可以在未经用户许可的情况下将用户锁定为单一模式（锁定和解锁模式）这里是苹果文档链接

[https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityRequestGuidedAccessSession](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityRequestGuidedAccessSession)

另一种方法是像这样安装配置文件配置配置文件

[http://ipadhire.co.nz/lockdown.mobileconfig](http://ipadhire.co.nz/lockdown.mobileconfig)

它锁定iPhone的主页按钮并启用单模式

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-18T12:16:59.713

为此，您必须执行以下操作..

1.  访问苹果的私有 api
2.  访问苹果的私有框架

Apple 不鼓励专门针对 App Store 访问私有 api，如果您在 App Store 审查应用程序时访问了私有 api，他们将拒绝该应用程序，并显示“访问私有 api”的消息。

# android - 使用台式机/笔记本电脑下载 apk

> ID：13117612
> 
> 赞同：1
> 
> 时间：2012-10-29T07:37:55.590
> 
> 标签：android

我现在正在做一个需要很多 apk 的项目。

我需要使用我的电脑从 android 市场（不限于 Google Play）下载 APKS。

我发现这篇[文章](http://codekiem.com/2012/02/24/apk-downloader/)可能对我有帮助，但我仍在寻找可以解决我的问题的其他工具/网站（允许在桌面上下载免费应用程序）。

我还针对可以在欧洲和/或除亚洲以外的其他大陆下载（制作）的 apk。您能否指出包含此类 APKS 的市场？

我需要做的是制作一个可以分析每个 apk 的系统。判断应用程序是否消耗过多资源（电池、内存使用等）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:15:11.233

您链接的扩展基于反向工程的 Android 市场客户端。您可以轻松找到来源。还有 PHP 和 Python 端口。但是，它使用的是旧的 Market/Play 协议，某些应用程序可能无法访问。有关详细信息，请参阅他们的 Google 小组。

通常，要做到这一点，您需要伪装成 Google Play 客户端并使用与它相同的协议。此外，下载速度过快会导致您被封禁，因此您需要限制应用的速率和/或使用多个 Google 帐户。

当然，您可以简单地获得一个具有大量内存的设备，安装一堆应用程序，然后将它们从设备上拉下来进行分析。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:21:11.743

发现这些列举应用商店的文章，其中一些允许用户在 PC 中下载 apk

[http://www.ilovefreesoftware.com/04/featured/download-apk.html](http://www.ilovefreesoftware.com/04/featured/download-apk.html)

[http://mobiputing.com/2011/06/17-places-to-download-android-apps/](http://mobiputing.com/2011/06/17-places-to-download-android-apps/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-11T17:13:35.043

您可以访问 apk 搜索引擎，例如[http://apkdroid.in](http://apkdroid.in)您可以找到任何 apk 文件并将其直接下载到您的 PC

# c# - Android 上的类似 EventToCommand（行为）

> ID：13117617
> 
> 赞同：1
> 
> 时间：2012-10-29T07:38:49.967
> 
> 标签：c#, android, silverlight, xamarin.android, mvvmcross

**Android 上是否存在类似的 EventToCommand（行为）？**

Silverlight/WPF 示例：

```
<i:Interaction.Triggers>
                      <i:EventTrigger EventName="Click">
                        <Commanding:EventToCommand Command="{Binding DataContext.EditEventTypeCommand,
                                                                                             RelativeSource={RelativeSource AncestorType=telerik:RadGridView}}"
                                                   CommandParameter="{Binding}"
                                                   PassEventArgsToCommand="True" />
                      </i:EventTrigger>
</i:Interaction.Triggers> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:51:29.370

如果您使用 mvvmcross，则所有具有`EventHandler`签名的事件都存在绑定 - 因此您可以使用如下绑定：

```
'Click':{'Path':'MyViewModelCommand'} 
```

示例中有很多这样的例子，另外还有几个问题哦 - 搜索 MvvmCross 并单击。

如果您需要绑定到具有`EventHandler<T>`签名的事件，那么您可以自己添加 - 请参阅[android 中的 mvvmcross touch 命令绑定](https://stackoverflow.com/questions/11815893/mvvmcross-touch-command-binding-in-android)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:01:45.487

我不确定我是否理解您的问题（我不知道 Silverlight），但您可以执行以下操作：

在您的 XML 中：

```
<Button ...
android:onClick="onMyButtonClicked".../> 
```

在你的 java 文件中

```
public void onMyButtonClicked(View sender) { ... } 
```

我认为没有其他方法可以在 Android XML 中指定事件处理程序。不过，您可以指定很多属性。

# javascript - Chrome 应用程序在点击时运行 javascript

> ID：13117621
> 
> 赞同：0
> 
> 时间：2012-10-29T07:39:10.757
> 
> 标签：javascript, google-chrome, google-chrome-extension

我究竟做错了什么？单击“Show me some foo”时，我想运行一个函数。

manifest.json browser_action

```
"browser_action": {
"default_icon": "img/icon.png",
"default_popup": "popup.html"
  }, 
```

popup.html

```
<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8">
    <script type="text/javascript" src="js/popup.js"></script>
  </head>
  <body>
 <div class="changes">

<span class="reset"><a href="#" title="Get some foo!" id="foo">Show me some foo</a>
</span>
</div>
  </body>
</html> 
```

popup.js

```
chrome.browserAction.onClicked.addListener(function(tab) {
  chrome.tabs.executeScript(null,
                       {file:"reset.js"});
}); 
```

重置.js

```
var el = document.getElementById('foo');
el.onclick = showFoo;

function showFoo() {
  alert('I am foo!');
  return false;
} 
```

完整的 manifest.json 文件

```
{
  "name": "App name",
  "version": "1.0.2",
  "manifest_version": 2,
  "description": "Desc.",
  "permissions": [
    "tabs"
  ],
  "browser_action": {
    "default_icon": "img/icon.png"
  },
  "background": {
    "page": "background.html"
  },
  "browser_action": {
    "default_icon": "img/icon.png",
    "default_popup": "popup.html"
  },
    "content_scripts": [
    {
      "matches": [
    "http://*/*",
    "https://*/*"
],
  "js": ["js/myscript.js"],
  "exclude_matches":[
    "http://site.com/*"
]
}
  ],
  "web_accessible_resources": [
"chrome_ex_oauth.html"
  ]
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:46:15.950

我不确定您要做什么，但我会向您解释您的代码：

*   用户点击`browserAction`
*   弹出窗口已创建并`popup.html`加载脚本
*   `popup.js`加载并注册一个监听器`chrome.browserAction.onClicked.addListener`
*   用户关闭弹出窗口（通过单击窗口外部的任意位置或`browserAction`再次单击）
*   `pupup.html`页面已卸载
*   `chrome.browserAction.onClicked.addListener`监听器未注册

如您所见`reset.js`，它永远不会被加载，因为它永远不会被注入。更重要的是，您不能在同一个扩展名中使用`popup.html`and `chrome.browserAction.onClicked.addListener`（“如果浏览器操作有弹出窗口，则不会触发此事件。”[来源](http://developer.chrome.com/extensions/browserAction.html#event-onClicked)）。

您可能希望将其`chrome.browserAction.onClicked.addListener`放入背景页面，以便在单击`reset.js`时注入到当前页面`browserAction`。而且，正如我上面提到的，`chrome.browserAction.onClicked.addListener`要触发，您需要`"default_popup": "popup.html"`从清单中删除。

如果您想将脚本注入到`popup.html`- 这没有多大意义。你有完全的控制权`popup.html`，你可以简单地`reset.js`把`<head>`.

# c# - 静态类或对象

> ID：13117623
> 
> 赞同：1
> 
> 时间：2012-10-29T07:39:20.793
> 
> 标签：c#, object, static

> **可能重复：**
> [何时在 C# 中使用静态类](https://stackoverflow.com/questions/241339/when-to-use-static-classes-in-c-sharp)

抱歉，如果这个问题没有意义或愚蠢，我正在尝试创建一个**Windows 服务**，其中我的类文件很少，每个类文件都有一些调用另一个类文件的函数。

例如

**类文件**有一种创建电子邮件的方法，例如

```
public bool CreateEmail()
{
 try
 {
 //code here
 }
 catch (Exception ex)
 {
    //Write to Log
    to create log  call function from **another class file**
 }
} 
```

还有更多这样的调用。我想知道是使用静态类更好还是为每个类创建对象并调用方法会更好。推荐的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:47:04.463

想一想：

1.  是否需要进行单元测试，如果是，静态类不好，不能模拟，以防您遵循测试能力的设计。

2.  [单一职责原则](http://en.wikipedia.org/wiki/Single_responsibility_principle)，不要将每个方法都放在一个*所谓的实用程序*类中。将相关的单独类中的方法分组并遵循 SRP。

3.  类应该有有意义的名字。*Utility*、*util*或*helper*不是有意义的名称

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T07:52:43.213

问你自己

*   此方法与您的对象的相关性如何。
*   无论如何，它是否会改变对象的状态。

如果它相关并且确实改变了你的对象状态，那么你应该在类中有这个方法。如果没有，那么你不需要在你的类中有那个方法

从你的情况来看，很明显它不会改变任何状态，而是需要来自其他对象的一些信息来发送邮件。所以我肯定会把它变成一个实用类（静态类）并使用每当我需要它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T07:41:44.403

如果您只使用类文件对方法进行分组，并且除了调用这些方法之外不需要类的实例，那么您应该使用静态类 - 这就是它们的用途。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-29T07:45:08.847

> 我想知道是使用静态类更好还是为每个类创建对象并调用方法会更好。

如果它是多线程环境并且日志记录需要在多个调用之间共享一些数据，请为每个调用创建单独的实例。否则，请使用静态类和方法。

# c# - 用户单击时将内容加载到 ajax 选项卡

> ID：13117629
> 
> 赞同：0
> 
> 时间：2012-10-29T07:39:51.513
> 
> 标签：c#, asp.net, ajax, tabs, asp.net-ajax

我有一个页面（C#-asp.net 应用程序），其中包含 5 个以上的 ajax 选项卡，可在页面加载时获取数据。由于需要很长时间，我只想在用户单击选项卡时填充选项卡内容。无法在选项卡面板中找到任何事件。顺便说一句，我正在使用 AJAX Tab 容器，请尽快给我建议。

提前致谢。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:54:13.460

您需要设置 AutoPostBack="true" 将 ActiveTabChanged 添加到选项卡控件。详情请到**[这里](http://www.asp.net/ajaxlibrary/AjaxControlToolkitSampleSite/Tabs/Tabs.aspx)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:43:23.757

考虑将选项卡内容提取到用户控件并根据 ActiveTabIndex 属性将它们加载到 Page_Load 方法中的活动选项卡中

# ruby-on-rails - 如何在 Mdb-tools 0.7~rc1-4 中使用 -I 后端？

> ID：13117634
> 
> 赞同：1
> 
> 时间：2012-10-29T07:40:40.660
> 
> 标签：ruby-on-rails, ms-access, ubuntu-11.10

我想通过 mdbtools 将 ms-access 数据库转换为 sql。在 ubuntu 11.10 32bit 和 mdbtools 0.5.99.0.6pre1.0.20051109-7.1 上，当我使用 mdbtools 时 - 我的后端工作正常。即我得到了带有插入语句的文件。但在 ubuntu 12.04lts 64bit、mdbtools、0.7~rc1-4 上，我无法将 mdb 文件转换为 sql 文件。

我的语法是：mdb-tools -I >

请让我知道需要任何更正。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-19T11:43:22.613

`mdb-tools -I access`应该工作

支持的后端有：`access`, `sybase`, `oracle`, `postgres`,`mysql`

# oracle - PL/SQL 我想要 MAX(O.CO_YEAR) 的对应列。怎么做？

> ID：13117636
> 
> 赞同：0
> 
> 时间：2012-10-29T07:40:44.017
> 
> 标签：oracle, plsql

下面是 PL/SQL 查询的代码，当提供姓名时，我必须获取有资格教授特定课程的教师的姓名，以及他们教授这门课程的次数和最后一次（年份和学期) 当他们教授这门课程时。

我已经完成了大部分问题，但无法弄清楚如何获得 max(o.co_year) 即术语的相应详细信息

```
declare
gname varchar2(20);
count_id number(2);
id varchar(20);
year1 number(4);

cursor abc   // cursor 1
     is
        SELECT  i.i_gname
          into gname
        FROM INSTRUCTOR I 
        WHERE i.i_id in (
        SELECT t.i_id  FROM TeachingQualification T
        WHERE t.c_id in (SELECT c.c_id  FROM  COURSE C
        WHERE c.c_title = 'Advanced Database App')) ;

cursor bcd // cursor two
    is
        select o.i_id, count(o.i_id), max(o.co_year)
          into id, count_id, year1
        from courseoffering o
        where (o.i_id = i_id and o.c_id = 1234567)
        group by o.i_id;

Begin
open abc;
open bcd; 

loop

FETCH abc into gname;
exit when abc%NOTFOUND;

FETCH bcd into id, count_id, year1;
exit when bcd%NOTFOUND;

DBMS_OUTPUT.PUT_LINE ('NAME: ' || gname || '  Number of times taught ' || count_id || ' Year ' || year1 || );  // want to output corresponding column details for the year1 attribute.

end loop;
close bcd;
close abc;
end; 
```

PL/SQL 我想要 MAX(O.CO_YEAR) 的对应列。怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T14:25:21.590

> 是的，我知道，但这是一项大学任务，我想用 PL/SQL 来实现。

呸！我宁愿你的大学教你正确使用PLSQL和SQL，并给你一个有意义的任务。如果你可以用 SQL 做某事，那就用 SQL 做。
另外：为什么您的光标包含`INTO`关键字？为什么需要循环？似乎您只期望 1 个返回值？

我对您的代码进行了一些剖析：

```
--instructors who are qualified to teach a course
SELECT i.i_gname --instructor name
  FROM INSTRUCTOR I 
 WHERE i.i_id IN ( SELECT t.i_id --instructor_id
                     FROM TeachingQualification T
                    WHERE t.c_id in (SELECT c.c_id --course_id
                                       FROM  COURSE C
                                      WHERE c.c_title = 'Advanced Database App'));

--instructors who taught a course, with amount and last time
SELECT o.i_id instructor_id, count(o.i_id) times_taught, max(o.co_year) last_time_taught
  FROM courseoffering o
 WHERE o.c_id = 1234567 --course_id
 GROUP BY o.i_id;

--all instructors (ID) who taught advanced database app, how many times, and last time
--consider that this may produce NO_DATA_FOUND
SELECT o.i_id instructor_id, count(o.i_id) times_taught, max(o.co_year) last_time_taught
  FROM course c
  JOIN courseoffering o 
    ON c.c_id = o.c_id
 WHERE c.c_title = 'Advanced Database App'
 GROUP BY o.i_id; 

-- i don't think teachingqualification is required. The last select providers instructor IDs.
-- There is no need to go through that table, unless it would contain extra data you'd want to
-- filter by. Since courseoffering is being queried, and it has instructors, it stands to reason
-- that those instructor are qualified to teach the course.
SELECT  (SELECT i_gname FROM instructor WHERE i_id = o.i_id) instructor
       ,count(o.i_id) times_taught
       , max(o.co_year) last_time_taught
  FROM course c
  JOIN courseoffering o 
    ON c.c_id = o.c_id
 WHERE c.c_title = 'Advanced Database App'
 GROUP BY o.i_id;

-- Look, if you do want a PLSQL block for this, go ahead.
BEGIN
   FOR r IN (SELECT  (SELECT i_gname FROM instructor WHERE i_id = o.i_id) instructor
                    ,count(o.i_id) times_taught
                    , max(o.co_year) last_time_taught
               FROM course c
               JOIN courseoffering o 
                 ON c.c_id = o.c_id
              WHERE c.c_title = 'Advanced Database App'
              GROUP BY o.i_id)
   LOOP
      DBMS_OUTPUT.PUT_LINE ('NAME: ' || r.instructor || '  Number of times taught ' || r.times_taught || ' Year ' || r.last_time_taught);
   END LOOP;
END; 
```

哦，请给你的专栏起有意义的名字。调用它`instructor_id`而不是`i_id`例​​如。

我设置了一些示例数据：

```
create table course (id number(5,0), cname varchar2(50), constraint course_pk primary key (id))
/
create table courseoffering(id number(5,0), course_id number(5,0), instructor_id number(5,0), course_year number(5,0), constraint offering_pk primary key (id), constraint course_fk foreign key (course_id) references course (id))
/
insert into course values (1, 'Tech I');
insert into course values (2, 'Basic SQL');
insert into course values (3, 'Advanced SQL');
--Instructor 1
insert into courseoffering values (1, 1, 1, 2009); --Tech I
insert into courseoffering values (2, 1, 1, 2010); --Tech I
insert into courseoffering values (3, 1, 1, 2011); --Tech I
insert into courseoffering values (4, 2, 1, 2011); --Basic SQL
insert into courseoffering values (5, 2, 1, 2012); --Basic SQL
--Instructor 2
insert into courseoffering values (6, 2, 2, 2008); --Basic SQL
insert into courseoffering values (7, 2, 2, 2009); --Basic SQL
insert into courseoffering values (8, 2, 2, 2010); --Basic SQL
insert into courseoffering values (9, 3, 2, 2010); --Advanced SQL
insert into courseoffering values (10, 3, 2, 2011); --Advanced SQL
insert into courseoffering values (11, 3, 2, 2012); --Advanced SQL
insert into courseoffering values (12, 1, 2, 2009); --Tech I
insert into courseoffering values (13, 1, 2, 2010); --Tech I
commit; 
```

运行这个：

```
SELECT c.cname, o.instructor_id, count(o.instructor_id) times_taught, max(o.course_year) last_time_taught
  FROM course c
  JOIN courseoffering o 
    ON c.id = o.course_id
 GROUP BY c.cname, o.instructor_id
 ORDER BY c.cname, o.instructor_id; 
```

产生：

```
CNAME          INSTRUCTOR_ID  TIMES_TAUGHT   LAST_TIME_TAUGHT
Advanced SQL   2              3              2012
Basic SQL      1              2              2012
Basic SQL      2              3              2010
Tech I         1              3              2011
Tech I         2              2              2010 
```

您甚至可以轻松地将所需数据转换为视图。不需要 PLSQL。SQL 中只有几行。而且，如果您希望在 PLSQL 中使用它，您仍然可以使用循环来覆盖每门课程的多名讲师，或者如果您将其缩小到一门课程和一名讲师，则可以使用一些变量。始终尽量减少 SQL 和 PLSQL 上下文之间的切换。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:06:11.103

Cursors in Oracle can have parameters. See [http://docs.oracle.com/cd/B19306_01/appdev.102/b14261/sqloperations.htm#BABHICAF](http://docs.oracle.com/cd/B19306_01/appdev.102/b14261/sqloperations.htm#BABHICAF) for details.

How it *might* work in your code:

```
cursor bcd(p_c_id courseoffering.c_id%type) // cursor two
is
    select o.i_id, count(o.i_id), max(o.co_year)
      into id, count_id, year1
    from courseoffering o
    where (o.i_id = i_id and o.c_id = p_c_id)
    group by o.i_id; 
```

# c++ - 编译 c++ 代码时，sun os 上的“const 访问错误”

> ID：13117639
> 
> 赞同：3
> 
> 时间：2012-10-29T07:41:27.920
> 
> 标签：c++, unix, compiler-errors, solaris

这是我的代码：

```
class X
{
public:
  X():_x(5){}

  void GetVal(int & oVal)
  {
    oVal = _x;
  }

 private:
  int _x; 
```

};

```
class Y
{
public:
  X * const GetX()
  {
    return &_x;
  }
private:
  X _x;
};

int main()
{
  Y y;
  X * p = y.GetX();
  int * pInt = new int[2];
 p->GetVal(pInt[0]);
} 
```

在 main 的最后一行，我得到一个错误

> 从 const 限定函数对成员的错误访问

仅当代码在 sun solaris 系统上编译时才会出现此错误，并且不会在 windows 或 aix 系统上发生。知道为什么吗？

最奇怪的是，如果我用一个简单的整数 (int a = 0; p->GetVal(a)) 替换 pInt[0]，错误就消失了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:06:50.193

`const`in将`X * const GetX()`被忽略，因为函数调用的结果是右值，非类类型的右值不能`const`根据[返回 const 指针的 c++ const 成员函数。但是返回的指针是什么类型的 const？](https://stackoverflow.com/questions/3888470/c-const-member-function-that-returns-a-const-pointer-but-what-type-of-const).

你确定你不是故意写：

```
const X * GetX() const
{
  return &_x;
} 
```

也就是说，将它从返回一个指向变量 date 的常量指针更改为一个指向常量数据的变量指针，并声明`GetX()`为一个常量成员函数，即可以在 Y 的常量实例上使用的成员函数：`const Y y;`

此外`class X`，您可以更改`GetVal()`为

```
void GetVal(int & oVal) const
{
  oVal = _x;
} 
```

# python - How to see errors or exceptions in a Python script?

> ID：13117641
> 
> 赞同：3
> 
> 时间：2012-10-29T07:41:34.620
> 
> 标签：python, exception-handling, error-handling

I'm completely new to working with Python (I have a PHP background)

I'm used to PHP's Error Handling and Logging. Yet, with Python I'm getting a 500 Error on a very simple script that should work.

Is there a way to turn on Error Handling with Python? As 500 Error doesn't tell me much of anything, except that something is not right.

I have looked on the net for an answer to this, but I'm not finding a solution to what should be very obvious.

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-29T07:58:35.220

您的问题是询问如何*查看*错误或异常（而不是如何*处理*，尽管您当然也需要处理这些错误），并且从`500 error`PHP 背景来看，这似乎暗示您正在使用 Python 进行 Web 编程。

在 Python 中有很多方法可以做到这一点，以下是我倾向于使用的一些方法：

1.  在生产中使用[`logging`模块](http://docs.python.org/2/library/logging.html)来记录错误。有很多工具可以帮助你，比如[Sentry](http://getsentry.com/welcome/) [[这里的源代码](https://github.com/getsentry/sentry)]。[您可以在此处](http://docs.python.org/2/howto/logging.html)阅读有关日志记录的更多信息。
2.  在开发中，运行您的脚本，`python -m pdb myscript.py`该脚本将以调试器模式启动您的脚本，然后输入`c`( `continue`) 继续执行脚本*，直到*出现错误，现在您将能够在交互式 PDB（Python 调试器）提示符中看到状态。
3.  在开发中，如果您使用依赖于 WSGI 的框架（或您的脚本），您可以使用基于图形的交互式 JavaScript 浏览器内帮助程序[Werkzeug](http://werkzeug.pocoo.org)，它允许您在调用堆栈的*每个级别进行调试。*

* * *

而且，要指出最明显的一点，如果程序崩溃，Python 解释器将打印出堆栈跟踪，例如：

```
→ python -c 'pprint "hello"'
  File "<string>", line 1
    pprint "hello"
                 ^
SyntaxError: invalid syntax

# print.py is just one line: print 'hello world'
→ python print.py 
  File "print.py", line 1
    pprint 'hello world'
                       ^
SyntaxError: invalid syntax 
```

* * *

**更新：**

似乎您没有使用任何框架，并且您在一个主机后面，从它的外观来看，它并没有告诉您它是如何为您的 Python 脚本提供服务的。现在，由于您只想在浏览器中查看堆栈跟踪，因此您可以根据主机使用的内容执行以下操作：

如果您的脚本通过 CGI 在服务器后面运行，您需要做的就是使用 Python [cgitb](http://docs.python.org/2/library/cgitb.html)模块在 HTML 页面上打印堆栈跟踪：

```
import cgitb
cgitb.enable() 
```

但是，您注册的共享主机很可能`mod_python`与 Apache 一起使用，因此[`PythonDebug`](http://www.modpython.org/live/mod_python-2.7.8/doc-html/dir-other-pd.html)在 Apache 配置文件中打开应该会在浏览器中打印堆栈跟踪：

```
PythonDebug On 
```

对于 Apache `mod_wsgi`，有一篇比我在这里可以总结的更好的文章：[mod_wsgi 调试技术](https://code.google.com/p/modwsgi/wiki/DebuggingTechniques)

# java - 调试原理是什么？

> ID：13117646
> 
> 赞同：17
> 
> 时间：2012-10-29T07:42:08.487
> 
> 标签：java, debugging, computer-science

学了几年编程，经常用***debug*** ，但是还是不明白***debug*****的核心原理**，它是怎么工作的？单行debug(step into)是怎么实现的？

 *以**java语言**为例。

CPU 为调试实现做了什么？

JVM 为调试实现做了什么？

eclipse 为调试实现做了什么？

**可能是我上面列出的三个东西与debug**无关。我只是猜到了。我google了一段时间，没有得到对我有用的东西（当然，调试本身很复杂），我希望更简单的解释。

谢谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-29T07:50:20.743

每个处理器都有自己设计的调试机制。

对于 x86 CPU，处理器有 6 个调试寄存器，用于存储调试断点和断点条件。Intel x86 CPU调试机制简要看这篇文章：[http ://en.wikipedia.org/wiki/X86_debug_register](http://en.wikipedia.org/wiki/X86_debug_register)

对于 Java 调试机制的情况，请参阅：[http](http://docs.oracle.com/javase/7/docs/technotes/guides/jpda/architecture.html) ://docs.oracle.com/javase/7/docs/technotes/guides/jpda/architecture.html ，正如 Mukul Goel 在问题下的评论流中指出的那样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:52:55.897

为了便于调试（使用断点等），编译器将某些附加信息插入到它生成的编译输出中（即二进制文件或 Java 的 JVM 字节码文件）。此额外信息允许将编译输出的每一行映射到相应的源文件。

我没有回答您问题的所有部分，但希望足以帮助您入门。查看这些资源：

[http://en.wikipedia.org/wiki/Debug_symbol](http://en.wikipedia.org/wiki/Debug_symbol)

[调试器如何工作？](https://stackoverflow.com/questions/216819/how-does-a-debugger-work)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T09:01:29.893

请检查一下，它总结了正在调试的内容

[http://www.indiastudychannel.com/resources/102306-Debugging-Software-Engineering.aspx](http://www.indiastudychannel.com/resources/102306-Debugging-Software-Engineering.aspx)*

# css - 刷新较少的css，其中有其他导入的较少文件而无需页面加载

> ID：13117647
> 
> 赞同：1
> 
> 时间：2012-10-29T07:42:16.460
> 
> 标签：css, less

我想在我的开发环境中使用监视模式。它适用于单个较少的文件。但是我有很多更少的文件被导入到 app.less 中。我的 app.less 看起来

```
@import "variables";
@import "mixins"; 
```

看来我无法在此设置中使用手表模式。还有其他方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T08:37:07.447

**更新。**此语法适用于旧的 grunt 版本，因此不应使用。

您需要为此使用[LiveReload](http://livereload.com/)应用程序。或者可能是另一个可以使用 LiveReload 浏览器扩展重新加载页面的软件（可能是带有插件的 Sublime Text 编辑器）。

可能的设置是带有[Grunt](http://gruntjs.com/)的 Node.js，它安装了 grunt-contrib-less 和 grunt-reload 模块。

您的 grunt.js 配置应如下所示：

```
module.exports = function(grunt) {
grunt.initConfig({
    //  Start LiveReload server
    reload: {
        port: 35729,
        liveReload: {}
    },
    //  Simple css compilation
    less: {
        src: 'less/app.less',
        dest: 'css/app.css'
    },
    //  Reload files on change
    watch: {
        less: {
            files: ['less/*.less'],
            tasks: 'less'
        },
        reload: {
            files: ['*.html',
                    'css/app.css',
                    'js/*.js'],
            tasks: 'reload'
        }
    }
});

//  Third party modules
grunt.loadNpmTasks('grunt-reload');
grunt.loadNpmTasks('grunt-contrib-less');

//  Register default task
grunt.registerTask('default', 'less');
}; 
```

然后你需要运行

```
$ grunt watch:less 
```

和

```
$ grunt watch:reload 
```

在两个单独的终端窗口中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-19T20:01:05.997

我完全同意这条评论 [Refresh less css ，它有其他导入的 less files without page load](https://stackoverflow.com/questions/13117647/refresh-less-css-which-has-other-imported-less-files-without-page-load/13118202#13118202)。谢谢，thevasya。

但是没有必要启动几个终端。

```
watch: {
    less: {
        files: ['less/*.less'],
        tasks: 'less'
    },
    reload: {
        files: ['*.html',
                'css/app.css',
                'js/*.js'],
        tasks: 'reload'
    }
} 
```

之后你可以开始观看

```
$ grunt watch 
```

就是这样。如果您更改任何较少的文件，它将仅启动`less`任务。

**PS：此答案已更新，以便与 grunt 0.4 一起正常工作。**

# wso2 - wso2中axis2客户端项目的最佳实践

> ID：13117652
> 
> 赞同：1
> 
> 时间：2012-10-29T07:43:00.227
> 
> 标签：wso2, axis2, wso2developerstudio

我有一个 WSO2 Axis2 服务项目，它依赖于其他五个 Web 服务。我已经使用 WSO2 developer studio 2.1 生成了服务，所以该服务是一个 maven 项目。

如果我使用开发人员工作室向导创建axis2 客户端项目，该向导会将客户端创建为eclipse 项目，而不是maven 项目。

我认为将每个客户端项目从头开始创建为 maven 项目（使用 wsdl2code 插件）而不是使用开发人员工作室向导会更干净。然后可以将这五个 Maven 客户端项目作为依赖项添加到服务项目中。

在 WSO2 项目中管理服务和客户端代码之间关系的最佳实践是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T09:27:56.787

这取决于用例。Developer Studio 对于知识有限的人来说真的很有帮助，而且通过它的向导，您不会错过完成最终场景所必需的步骤。但是在您需要生成大量服务存根的特定用例中，使用 Maven 并自动生成客户端存根将很容易。在 WSo2 中，我们生成了大量的服务存根并使用 Maven 来自动化[。](https://svn.wso2.org/repos/wso2/carbon/platform/branches/4.0.0/service-stubs/).如果您需要更多的治理，您可以使用一些存储库来管理 WSDL，然后使用 maven 插件从那里选择 wsdls。因此，每当您更改服务时，您的客户端存根都会反映这些更改。

# javascript - 条件和循环：多次调用该函数时如何不恢复音乐？

> ID：13117654
> 
> 赞同：0
> 
> 时间：2012-10-29T07:43:19.883
> 
> 标签：javascript, html, loops, conditional-statements, html5-audio

我有这个功能可以使用网络音频 API 播放音乐：

```
function playMusic(){

 if(countPre<count ){
    audio0.play();      
    audio0.src = '0.mp3';
    audio0.controls = true;
    audio0.autoplay = true;
    audio0.loop = true;
    source = context.createBufferSource();
    source.connect(analyser);
    analyser.connect(context.destination);
    }
 else{audio0.pause();}

 } 
```

但是，count 和 countPre 的值是在每秒运行 10 次的**循环中生成的。**

我必须将函数 playMusic**放在**该循环中以更新值。

问题来了：

我每秒调用 playMusic 10 次！每一次，音乐都会**继续**。

我不希望它恢复，我希望它只要播放条件匹配就可以**连续播放。**

那么有什么解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:04:32.423

您必须检查音乐是否已经在您的状态下播放。

不要认为有音频方法。您可以通过多种方式做到这一点，例如：

```
function playMusic(){

if(countPre<count && !this.is_playing ){
    this.is_playing = true;    
    audio0.play();      
    audio0.src = '0.mp3';
    audio0.controls = true;
    audio0.autoplay = true;
    audio0.loop = true;
    source = context.createBufferSource();
    source.connect(analyser);
    analyser.connect(context.destination);
    }
 else{audio0.pause();
    this.is_playing = false}
 } 
```

# iphone - Reload view every hour

> ID：13117655
> 
> 赞同：0
> 
> 时间：2012-10-29T07:43:25.913
> 
> 标签：iphone, view, gradient, reload, hour

I have a code which generates gradient view differently for every hour in a day.

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.

    //[self.view setBackgroundColor:[UIColor whiteColor]];

    self.navigationController.navigationBar.barStyle = UIBarStyleBlackTranslucent;

    NSDate *today = [NSDate date];
    NSCalendar *gregorian = [[NSCalendar alloc]
                              initWithCalendarIdentifier:NSGregorianCalendar];

    NSDateComponents *components =
    [gregorian components:(NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit) fromDate:today];

    NSInteger hour = [components hour];

    float dayRed;
    float dayGreen;
    float dayBlue;

    float nightRed;
    float nightGreen;
    float nightBlue;

    BOOL from0to12 = NO;
    BOOL from12to24 = NO;

    if (hour >= 0 && hour <= 12) {
        from0to12 = YES;
    }
    else if (hour > 12 && hour <= 23) {
        from12to24 = YES;
    }

    if (from0to12)
    {
        NSLog(@"%d AM", hour);

        dayRed = 0.0;
        dayGreen = 0.0;
        dayBlue = 1 - (0.083333333333 * hour);

        NSLog(@"%f, %f, %f", dayRed, dayGreen, dayBlue);

        nightRed = 0.083333333333 * hour;
        nightGreen = (0.083333333333 * hour)/2;
        nightBlue = 0;

        NSLog(@"%f, %f, %f", nightRed, nightGreen, nightBlue);
    }
    else if (from12to24)
    {
        NSLog(@"%d AM", hour);

        hour = 24-hour;

        dayRed = 0.083333333333 * hour;
        dayGreen = (0.083333333333 * hour)/2;
        dayBlue = 0;

        NSLog(@"%f, %f, %f", dayRed, dayGreen, dayBlue);

        nightRed = 0;
        nightGreen = 0;
        nightBlue = 1-(0.083333333333 * hour);

        NSLog(@"%f, %f, %f", nightRed, nightGreen, nightBlue);
    }

    UIColor *day = [UIColor colorWithRed:dayRed green:dayGreen blue:dayBlue alpha:1.0];

    UIColor *night = [UIColor colorWithRed:nightRed green:nightGreen blue:nightBlue alpha:1.0];

    GradientView *gradient = [[GradientView alloc] initWithFrame:CGRectMake(0,0,320,50)];
    [gradient setColoursWithCGColors:day.CGColor:night.CGColor];

    self.view = gradient;
} 
```

Ii works fine if you close an open an app every hour of course, but can it be implemented so that it automatically changes every hour while the app is running? Can I somehow implement a function that will check if it is the full hour, and recreate the view?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:56:29.733

为每 1 小时安排一个计时器

```
-(void)viewDidLoad
{
    [NSTimer scheduledTimerWithTimeInterval:3600 target:self selector:@selector(loadGradient:) userInfo:nil repeats:YES];
}

-(void)loadGradient:(id)sender
{
    // Do your code for effect every 1 hour
} 
```

# javascript - Sass、指南针和 JavaScript

> ID：13117657
> 
> 赞同：13
> 
> 时间：2012-10-29T07:43:39.207
> 
> 标签：javascript, sass, compass-sass

找不到有关使用 Compass 的 JavaScript 的信息，在配置中我找到了一个“javascript_dir”选项，但不知道如何使用它。有人可以解释一下这个选项是什么，以及如何将它与 .scss 文件一起使用吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-29T16:25:59.973

上面的评论是正确的，Compass 和 Sass 通常不与 JS 交互。有人可能在 compass 插件中包含 JS，在这种情况下，Compass 需要在安装插件时知道这些文件应该放在哪里。这是此时“javascript_dir”的唯一用途。如果你没有用 JS 安装任何插件，你可以忽略它。

# iphone - when I tried to add twitter frame work in my iPhone project i gets this error: OBJC_CLASS$_SLRequest.How can I solve

> ID：13117659
> 
> 赞同：3
> 
> 时间：2012-10-29T07:43:50.580
> 
> 标签：iphone, objective-c, xcode, twitter

> **Possible Duplicate:**
> [Twitter Framework in IOS 6](https://stackoverflow.com/questions/13117122/twitter-framework-in-ios-6)

I have integrated `twitter framework` in my iPhone project.But I am getting the error provided below.How can I Resolve it?

```
"undefined symbols for architecture i386:
 "_SLServiceTypeTwitter", referenced from:

     ___32-[ViewController TwitterAccount]_block_invoke_0 in ViewController.o
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

"

Thanks in advance.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:51:29.457

检查以下步骤：

1.`#import <Twitter/Twitter.h>`

2.  按钮动作

    *   (IBAction)tweetTapped:(id)sender {

    if ([TWTweetComposeViewController canSendTweet]) { TWTweetComposeViewController *tweetSheet = [[TWTweetComposeViewController alloc] init]; [tweetSheet setInitialText:@"测试应用程序！:)"];

    ```
     if (self.imageString)
        {
            [tweetSheet addImage:[UIImage imageNamed:self.imageString]];
        }

        if (self.urlString)
        {
            [tweetSheet addURL:[NSURL URLWithString:@"http://www.gmail.in"]];
        }

        [self presentModalViewController:tweetSheet animated:YES];
    }
    else
    {
        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Sorry" 
                                                            message:@"You can't send a tweet right now,You Setup The Twitter Account in iPhone Settings." 
                                                           delegate:self 
                                                  cancelButtonTitle:@"OK" 
                                                  otherButtonTitles:nil];
        [alertView show];
    } 
    ```

    }

3.  检查 Twitter.framework 是否可用：

![检查屏幕](../Images/2baa4da2d6bfbf3140acfba202305bf8.png)

# android - 如何在android中为autocompletetextview提供颜色？

> ID：13117662
> 
> 赞同：1
> 
> 时间：2012-10-29T07:44:18.533
> 
> 标签：android, autocompletetextview

如何在 android 中为 autocompletetextview 赋予颜色。我将这两种颜色用于背景和文本颜色

机器人：背景 = “#000000” 机器人：文本克洛尔 = “#ffffff”。

但问题是，如果我在 autocompletetextview 上键入一些文本，那么可列出的值也会以白色显示，并且与文本颜色相同。

我不能只修复整个 autocompletetextview 的颜色。这该怎么做？

请提出建议！..

提前致谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-29T08:19:22.337

您可以在布局 xml 的 AutoCompleteTextView 中使用***android:popupBackground***属性。它适用于您的问题。比如像这样...

```
<?xml version="1.0" encoding="utf-8"?>
<AutoCompleteTextView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/autocomplete_country"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:background="#000000"
android:popupBackground="#ffffff"  /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-25T06:35:05.697

你可以在运行时这样做

```
 AutoCompleteTextView searchView = ... 
searchView.setDropDownBackgroundDrawable(new ColorDrawable(context.getResources().getColor(R.color.colorId))); 
```

如果你想把它挂在你的文件中，那么你必须为你的自动完成视图`xml`赋予 属性。`android:popupBackground`

享受你的代码:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:58:00.460

要设置弹出背景，请使用[AutoCompleteTextView](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html)的 popupBackground xml 属性。我还建议您将主题用于文本颜色、大小等。当您想在 AutoCompleTextView 弹出窗口上设置列表样式时（例如更改分隔线），您可以通过以下主题设置进行操作：

```
<item name="android:dropDownListViewStyle">@style/MyListViewStyle</item> 
```

# java - 使用通用函数将任何 Java 对象转换为 JSON 的可能性

> ID：13117664
> 
> 赞同：0
> 
> 时间：2012-10-29T07:44:25.357
> 
> 标签：java, json

我想知道是否可以将任何 Java 对象转换为 JSON 对象。目前我有以下代码。

```
JSONArray data = new JSONArray();
for (User user : users) {
            JSONArray row = new JSONArray();
            row.put(user.getId()).put(user.getUserName()).put(user.isEnabled());
            data.put(row);
        } 
```

当前的问题是不同的对象（例如用户和管理员）将具有不同的属性，因此上面的代码将适用于其他对象。我正在考虑在我的 GenericHibernateDAO 中放置一个类似的代码，以便自动将任何列表转换为 json 列表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:49:55.720

您可以将您的 java 对象序列化为 json 对象。有 n 个库可用 ex`gson, jettyson, flexjson`等。

[GSON](https://sites.google.com/site/gson/)示例 -

```
Gson gson = new Gson();
Collection<Integer> ints = Lists.immutableList(1,2,3,4,5);

(Serialization)
String json = gson.toJson(ints); ==> json is [1,2,3,4,5] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T12:30:30.403

这里我举例说明使用jackson将POJO转换为json的方式

1.  创建你的 pojo ： User user = new User();

2.  您可以向/从用户设置或获取值

3.  创建 ObjectMapper : ObjectMapper 映射器 = new ObjectMapper();
4.  String json = mapper.writeValueAsString(user);// 对象转json

# jquery - 标题属性值设置一次后保持不变

> ID：13117666
> 
> 赞同：0
> 
> 时间：2012-10-29T07:44:28.680
> 
> 标签：jquery

我有一个 div：

```
<div id="dialog"></div> 
```

还有一个 javascript 函数可以打开一个 JQueryUI 对话框：

```
ui_info(title,txt)
{
     $('#dialog').attr('title', title).text(txt).dialog({
    width: 500,
    buttons:
[{
    text: 'OK',
    click: function ()
    {
        $(this).dialog('close');
    }
}
],
});
return false;
} 
```

我的问题是，如果我在获得标题和文本后调用此方法。但是如果我再次调用它，文本会发生变化，但是对话框的标题保持不变。例如，如果我这样调用这个函数：

```
ui_info('First title','This is the first text'); 
```

我得到标题“这是标题 1”和文本“这是第一个文本”。然后，如果我再次这样调用它：

```
ui_info('Next title','The text is different now'); 
```

对于文本，我会得到“现在的文本不同”，这是我想要的，但对于标题，我仍然会得到“第一个标题”，而我期待“下一个标题”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:58:35.870

使用`$(this).dialog('destroy');`代替`$(this).dialog('close');`

您的版本演示：http: [//jsfiddle.net/wCWTE/1/](http://jsfiddle.net/wCWTE/1/)

修正版演示：http: [//jsfiddle.net/wCWTE/](http://jsfiddle.net/wCWTE/)

如果您仍想使用该`close`方法，您可以使用`open`事件并使用对话框设置默认给出的选项设置标题，因此您将拥有：

```
function ui_info(title,txt)
{
  $('#dialog').text(txt).dialog({
    width: 500,
    buttons:
    [{
       text: 'OK',
       click: function ()
       {
          $(this).dialog('close');
       }
    }],
    open:function() {
        $(this).dialog('option','title',title)
    }
  });
} 
```

请看这个新的演示[http://jsfiddle.net/wCWTE/2/](http://jsfiddle.net/wCWTE/2/)

# javascript - 如何在没有 stopPropagation 方法的情况下停止事件冒泡

> ID：13117667
> 
> 赞同：2
> 
> 时间：2012-10-29T07:44:28.713
> 
> 标签：javascript, jquery, event-bubbling, stoppropagation

有一些像这样的html代码：

```
<ul>
    <li id='root' class='tree-node'>
      root
      <ul>
        <li class='tree-node' id='node1'>node1</li>
        <li class='tree-node' id='node2'>node2</li>
        <li class='tree-node' id='node3'>node3</li>
        <li class='tree-node' id='node4'>node4
            <ul>
                <li class='tree-node' id='node4-1' >node4-1</li>
                <li class='tree-node' id='node4-2' >node4-2</li>                    
            </ul>
        </li>
      </ul>
    </li>

<ul> 
```

我想将点击事件绑定到每个具有树节点类的标签

并将点击事件绑定到文档

这是我的代码：

```
$(".tree-node").click(function(e){
    console.log($(this).attr("id"));
});

$(document).click(function(e){
    console.log("document clicked!");   
}); 
```

stopPropagation() 是否有任何替代方法来阻止从 node4-2 到其父级的事件冒泡？

小提琴：http: [//jsfiddle.net/R6ySc/](http://jsfiddle.net/R6ySc/)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T07:53:02.710

您可以只使用文档单击事件并从那里处理所有内容。

```
$(document).click(function(e){
    console.log("document clicked!");    
    var t = $(e.target);
    if(t.attr("class") == "tree-node") {
        console.log("tree node clicked");
    }
});​ 
```

检查这个小提琴：http: [//jsfiddle.net/R6ySc/3/](http://jsfiddle.net/R6ySc/3/)

作为替代方案，您还可以在文档的 onclick 事件中指定一个选择器（请查看[jQuery 文档](http://api.jquery.com/on/)）：

```
$(document).on("click", ".tree-node", function(e) {
    e.stopPropagation();
    console.log("tree node '" + $(this).attr("id") + "' clicked");
});​ 
```

供参考，请查看下面的评论

# javascript - insertBefore function issue

> ID：13117669
> 
> 赞同：0
> 
> 时间：2012-10-29T07:44:35.487
> 
> 标签：javascript, insert

i already have a form and a table and data from the form is added to the table but i'm trying to add a insertBefore function for my form but it doesn't work. could you please tell me what is wrong with my script?

```
function insertBefore(){
    var table = document.getElementById('table');
    var row = document.createElement('tr');
    var td1 = document.createElement('td');
    var td2 = document.createElement('td');
    var td3 = document.createElement('td');
    td1.innerHTML = document.getElementById('name').value;
    td2.innerHTML = document.getElementById('address').value;
    td3.innerHTML = document.getElementById('email').value;
    row.appendChild(td1);
    row.appendChild(td2);
    row.appendChild(td3);
    table.tBodies [0].insertBefore();
    } 
```

Thanks.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:25:31.763

当你使用 时`insertBefore`，你必须告诉浏览器三件事：

*   A = 要插入的元素
*   B = 要插入的元素
*   C = 之前要插入的元素

它应该采用以下形式：

```
A.insertBefore(B, C) 
```

例如：

```
document.body.insertBefore(table, document.body.firstChild) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:35:04.547

如果您知道必须插入的元素始终是第一个元素，则可以使用 prepend() 代替。这将始终将您想要的元素添加为父元素的第一个子元素。

# php - preg_replace 的特定正则表达式中的 html_entity_decode

> ID：13117670
> 
> 赞同：0
> 
> 时间：2012-10-29T07:44:43.487
> 
> 标签：php, regex, decode, html-entities, bbcode

我有这个 preg_replace 模式和替换：

```
$patterns = array(
    "/<br\W*?\/>/",
    "/<strong>/",
    "/<*\/strong>/",
    "/<h1>/",
    "/<*\/h1>/",
    "/<h2>/",
    "/<*\/h2>/",
    "/<em>/",
    "/<*\/em>/",
    '/(?:\<code*\>([^\<]*)\<\/code\>)/',
);
$replacements = array(
    "\n",
    "[b]",
    "[/b]",
    "[h1]",
    "[/h1]",
    "[h2]",
    "[/h2]",
    "[i]",
    "[/i]",
    '[code]***HTML DECODE HERE***[/code]',
); 
```

在我的字符串中，我想要`html_entity_decode`这些标签之间的内容： `<code> &lt; $gt; </code>`但保留我的数组结构以进行 preg 替换

所以这个：`<code> &lt; &gt; </code>`将是这个：`[code] < > [/code]`

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:06:57.377

您不能在替换字符串中对此进行编码。正如 PoloRM 建议的那样，您可以`preg_replace_callback`专门用于最后一次替换：

```
function decode_html($matches)
{
    return '[code]'.html_entity_decode($matches[1]).'[/code]';
}

$str = '<code> &lt; &gt; </code>';
$str = preg_replace_callback('/(?:\<code*\>([^\<]*)\<\/code\>)/', 'decode_html', $str); 
```

等效地，使用`create_function`：

```
$str = preg_replace_callback(
    '/(?:\<code*\>([^\<]*)\<\/code\>)/',
    create_function(
       '$matches',
        'return \'[code]\'.html_entity_decode($matches[1]).\'[/code]\';'
    ),
    $str
); 
```

或者，从 PHP 5.3.0 开始：

```
$str = preg_replace_callback(
    '/(?:\<code*\>([^\<]*)\<\/code\>)/',
    function ($matches) {
        return '[code]'.html_entity_decode($matches[1]).'[/code]';
    },
    $str
); 
```

但请注意，在所有三种情况下，您的模式都不是最佳的。首先，您不需要转义这些`<`and `>`（但这只是为了便于阅读）。其次，您的第一个`*`允许无限重复（或省略）字母`e`。我想你想允许属性。第三，您不能在您的标签中包含其他标签`<code>`（因为`[^<]`它们不会匹配）。在这种情况下，也许您应该使用不贪婪的重复来代替（为方便起见，我还更改了分隔符）：

```
~(?:<code[^>]*>(.*?)</code>)~ 
```

正如您已经看到的那样，这仍然远非完美（就首先正确匹配 HTML 而言）。因此，必须提醒：[不要使用正则表达式来解析 HTML](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454)。使用 DOM 解析器会更好。PHP自带了[一个](http://www.php.net/manual/en/book.dom.php)，还有[这个非常好用的3rd-party](http://simplehtmldom.sourceforge.net/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:06:29.420

看看这个：

[http://www.php.net/manual/en/function.preg-replace-callback.php](http://www.php.net/manual/en/function.preg-replace-callback.php)

您可以创建一个回调函数，将 html_entity_decode 功能应用于您的比赛。

# zend-framework - Zend_Service_Yahoo showing sending request error. Status code: 404

> ID：13117671
> 
> 赞同：3
> 
> 时间：2012-10-29T07:44:44.467
> 
> 标签：zend-framework

I need your help. I am facing a problem using Zend_Service_Yahoo. I am trying to use Zend_Service_Yahoo. But it shows

"**An error occurred sending request. Status code: 404**"

```
$yahoo = new Zend_Service_Yahoo("YAHOO_APPLICATION_ID");

     try{

            $results = $yahoo->imageSearch('PHP');

            foreach ($results as $result) {
                echo $result->Title . '<br />';
            }

        }catch(Exception $e){

           echo $e->getMessage();

        } 
```

Reference : [http://framework.zend.com/manual/1.0/en/zend.service.yahoo.html](http://framework.zend.com/manual/1.0/en/zend.service.yahoo.html)

Thanks in advance

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:55:00.297

那是因为 imagesearch[已被弃用](http://developer.yahoo.com/search/image/V1/imageSearch.html)。

> 我们将于 2011 年 4 月关闭此服务。有关详细信息，请参阅弃用服务博客文章。

# java - Android use device flash as torch

> ID：13117674
> 
> 赞同：1
> 
> 时间：2012-10-29T07:45:11.153
> 
> 标签：java, android, android-camera

There is a need to use the built in device camera flash as a torch. Unfortunately I don't have access to an Android device so I can only use the Android emulator. How can I validate that my code does work?

I have been trying several times to update my app with different ways to access the camera flash and each time the app was crashed.

My app minimum OS version is 2.2,

At the moment I'm using the following code

```
 private void turnFlashOn() {
        camera = Camera.open();
        Parameters p = camera.getParameters();
        p.setFlashMode(Parameters.FLASH_MODE_TORCH);
        camera.setParameters(p);
        camera.startPreview();
    }

    private void turnFlashOff() {
        camera = Camera.open();
        Parameters p = camera.getParameters();
        p.setFlashMode(Parameters.FLASH_MODE_OFF);
        camera.setParameters(p);
        camera.stopPreview();
    } 
```

Haven't tested it yet.

What is your way to use the camera flash?

Thanks!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:22:30.270

这里的前两个错误是你已经调用`Camera.open()`了两次并且从未关闭它。您需要在其中打开它并在`onResume()`其中关闭它`onPause()`，并在两者之间操作`Camera`您获得的手柄。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T08:42:45.070

您可以在模拟器和模拟相机类（使用 jmockit）上进行调试，但您必须小心 - 并非真实设备上的每个相机都支持手电筒模式（或根本没有闪光灯） - 所以您必须检查相机对象是否支持这个。

一旦您的代码正确运行，您仍然需要在真实设备上对其进行测试（提示：如果您有礼貌地询问并在网络上的某处提供签名的 APK 以便人们可以安装它，您可以在 android 开发人员邮件列表中招募测试人员）

# linux - Special symbols in Linux

> ID：13117682
> 
> 赞同：1
> 
> 时间：2012-10-29T07:46:09.890
> 
> 标签：linux

what is the purpose of $1? while executing java file, we will give it as command line argument. To which it will refer?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:50:26.457

您在这里提供了一些背景信息，但我认为这是外壳论点。

> **论据**
> 
> 如果在选项处理之后参数仍然存在，并且既`-c`没有`-s`提供 也没有提供选项，则假定第一个参数是包含 shell 命令的文件的名称。如果以这种方式调用 bash，`$0`则将其设置为文件名，并将位置参数设置为其余参数。Bash 从这个文件中读取并执行命令，然后退出。Bash 的退出状态是脚本中执行的最后一个命令的退出状态。如果没有执行任何命令，则退出状态为 0。首先尝试打开当前目录中的文件，如果没有找到文件，则 shell 在其中的目录中搜索`PATH`脚本。

更详细的，试试`man bash`。

**例子**

```
$ cat ./test.sh 
#!/bin/bash
echo $0
echo $@
$ ./test.sh hello world
./test.sh
hello world 
```

# sql-server - I can't create a database diagram in VS2010 for SQL Server Express

> ID：13117683
> 
> 赞同：8
> 
> 时间：2012-10-29T07:46:24.140
> 
> 标签：sql-server, visual-studio-2010

For some reason, when I click `Add Diagram` in Server Explorer I am left with an empty tab for designing diagrams. However, there is no dialog box which usually asks what tables to add. The dropdown menu at the top called `Diagrams` also has all the buttons inactive.

What could be the reason?

I have my SQL Server Express running (checked in SQL Server Configuration Manager). Version - 10.1.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-04T15:34:04.463

我切换到 Visual Studio 2012，我可以在那里构建图表。VS2010在同一台机器上还是有问题。VS2010 在我的另一台电脑上 - 没问题。仍然不知道可能是什么问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-27T14:48:28.410

在 Visual Studio 2010 中遇到此问题后，我切换到使用 SQL Server Management，但遇到了同样的问题。经过一番搜索，我找到了两篇能够为我解决此问题的文章。这里的讨论： [http ://social.msdn.microsoft.com/Forums/en-US/d65c71f5-3887-4f2a-bbd3-e799a4ac6fdc/visual-studio-database-tools-error?forum=vstsdb](http://social.msdn.microsoft.com/Forums/en-US/d65c71f5-3887-4f2a-bbd3-e799a4ac6fdc/visual-studio-database-tools-error?forum=vstsdb)

有信息表明安装较新的 beta 版本会安装 2012 年的可视化数据库工具，但卸载时不会将其设置回旧版本。必须替换的文件有两个位置。DLL 的目录和文件名（在 X64 机器上）为：C:\Program Files (x86)\Common Files\microsoft shared\Visual Database Tools\dsref80.dll 帖子中有指向 dll 的链接。

还有第二个文件夹有些人不得不替换，这个链接也引用了它： http : [//harshgupta71.blogspot.in/2013/02/the-specified-module-could-not-be-found.html](http://harshgupta71.blogspot.in/2013/02/the-specified-module-could-not-be-found.html) DLL 的目录和文件名（在 X64 机器上）是：C:\Program Files (x86)\Common Files\microsoft shared\MSDesigners8 替换文件也有下载。

替代下载这些文件的另一个选项是重命名文件/文件夹，然后进行修复/重新安装。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T10:14:24.543

我认为安装/重新安装 VS 2010 的 SQL Server Data Tools 扩展应该可以解决这个问题。

你可以在这里下载：

[http://visualstudiogallery.msdn.microsoft.com/9b0228c6-15d1-44de-9279-66dde12bf861](http://visualstudiogallery.msdn.microsoft.com/9b0228c6-15d1-44de-9279-66dde12bf861)

# javascript - How can you bind with Knockout without using the html attribute tag data-bind value?

> ID：13117684
> 
> 赞同：2
> 
> 时间：2012-10-29T07:46:31.310
> 
> 标签：javascript, knockout.js

Normally with KnockoutJs you would have something like this:

```
 <input type="text" name="Capital" id="Capital" data-bind="value: capital"> 
```

During the binding, we would create an observable:

```
 this.capital = ko.observable(100); 
```

But let's say that we cannot add the data-bind attribute. Also not after page is loaded..and after that.. never.

How would we be able to bind to our viewmodel using Knockout ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:44:47.643

如果您不想将`data-bind`标记添加到元素，则需要编写自己的自定义 bindingProvider 以允许您在 javscript 中编写绑定，或者您可以使用[Knockout.Unobtrusive](http://bsatrom.github.com/Knockout.Unobtrusive/)插件，它为您提供此功能。

# winapi - 可以将 Windows CRITICAL_SECTION 对象配置为拒绝递归访问吗？

> ID：13117687
> 
> 赞同：6
> 
> 时间：2012-10-29T07:46:44.197
> 
> 标签：winapi, critical-section

默认情况下，CRITICAL_SECTION 对象是递归的。是否可以像 pthread 互斥锁一样配置此行为以启用或禁用递归线程访问？

为了回应评论澄清：我专门指的是 Windows CRITICAL_SECTION 对象，而不是 Windows 互斥体。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T09:26:08.627

不，它不能。记录在案的 API 没有以任何方式提及这一点。Windows 临界区总是接受递归访问。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-30T03:11:24.210

临界区总是允许线程内的递归。互斥体也是如此。这是设计使然，无法更改。

另一方面，信号量可以防止线程内的递归。有关详细信息，请参阅[MSDN 文档。](http://msdn.microsoft.com/en-us/library/windows/desktop/ms685129.aspx)

# javascript - Phonegap Page Transitions within one page

> ID：13117690
> 
> 赞同：1
> 
> 时间：2012-10-29T07:47:35.760
> 
> 标签：javascript, jquery, html, ios, cordova

I'm creating a `Phonegap` iOS and Android application. I've got one `index.html` file where all the pages / tabs are in, each page has it's own div-container. The application is almost finished and now I would like to add a slide-effect when navigating to another page.

My question is, how do I add page transitions within one page that contains several divs?

I have been looking at jQuery Mobile, but this seems to mess up my entire stylesheet. And furthermore, I only need the transitions part of jQuery Mobile, not the entire script. I've found this plugin [http://www.fasw.ws/faswwp/non-jquery-page-transitions-lightweight/](http://www.fasw.ws/faswwp/non-jquery-page-transitions-lightweight/) but this does not seem to work for one page.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T08:16:31.123

如果您使用的是 jQM，您应该重构您的 HTML 代码，以便标签对应于框架需要使您的转换发挥作用的内容。但我认为您的问题出在 Ajax 调用上，当从一个页面更改为另一个页面时。

# javascript - Twitter bootstrap - typeahead

> ID：13117691
> 
> 赞同：0
> 
> 时间：2012-10-29T07:47:46.910
> 
> 标签：javascript, jquery, twitter-bootstrap, typeahead, bootstrap-typeahead

i use Twitter Bootstrap and typeahead.

i download the plugin: Twitter Bootstrap Typeahead Plugin Extension

and so long so good, its working when i use a static javascript json array eg.

```
$('#demo1').typeahead({
        source: [
            { id: 9000, name: 'Aalborg' },
            { id: 2, name: 'Montreal' },
            { id: 3, name: 'New York' },
            { id: 4, name: 'Buffalo' },
            { id: 5, name: 'Boston' },
            { id: 6, name: 'Columbus' },
            { id: 7, name: 'Dallas' },
            { id: 8, name: 'Vancouver' },
            { id: 9, name: 'Seattle' },
            { id: 10, name: 'Los Angeles' }
        ],
        itemSelected: displayResult
    }); 
```

When i try to use ajax its will do enerything, my code look like this.

```
$('.typeahead').typeahead({
            ajax: '/actions/search/synonymSearch',
            itemSelected: displayResult
        }); 
```

and its return this json array ( i can rebuild its on all ways, and i can't get it to work )

```
[
    { id: 1, name: 'Toronto' },
    { id: 2, name: 'Montreal' },
    { id: 3, name: 'New York' },
    { id: 4, name: 'Buffalo' },
    { id: 5, name: 'Boston' },
    { id: 6, name: 'Columbus' },
    { id: 7, name: 'Dallas' },
    { id: 8, name: 'Vancouver' },
    { id: 9, name: 'Seattle' },
    { id: 10, name: 'Los Angeles' }
] 
```

The plugin home pages. [https://github.com/tcrosen/twitter-bootstrap-typeahead](https://github.com/tcrosen/twitter-bootstrap-typeahead)

i hobe enybardy can help me here :)

thanks a lot for all helping, :)

**EDIT - Problem resovle! :)** Just need to added `header("content-type: application/json");` into my PHP file, hobe this answere are usefull for orther peopole! :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T04:33:47.167

您遇到的这个问题可能是由于您通过 ajax 调用的页面没有返回正确的标题。

如果您使用的是 PHP，请尝试添加`header('Content-type: application/json');`到包含 JSON 数组的文档中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T09:33:41.477

我认为`typeahead`无法读取`source`您的数组，因此我会先对其进行解析。

```
var data = [{"id":"9000","name":"Aalborg"},{"id":"9220","name":null},{"id":"9210","name":null},{"id":"9200","name":"Aalborg SV"}];

// using underscore.js get an array of the city names
var cities = _.pluck(data, "name");

// now start typeahead
$el.typeahead(
    source: cities,
    // the value of the `city` selected gets passed to the onselect  
    onselect: function(city) {
         // get the index of city selected from the data array
         var i = _.indexOf(data, city);
         // then using the index get what ever other value you need from the array
         // and insert in the DOM etc..

    }
); 
```

# sql-server - 在批量插入之前修剪空白空间

> ID：13117692
> 
> 赞同：1
> 
> 时间：2012-10-29T07:47:50.683
> 
> 标签：sql-server, bulkinsert, trim

批量插入时如何修剪空白空间？我有如下示例数据：

```
| |100  |4000009|1000 |01    |                                   |201004471|          |28.01.1972|10.04.2012|300485|ABC 307.07B            |01   |                         |          |SSC |SSC  |CA02      |00   |      |0       |SESC    |COM  |01      |01   |00.00.0000|00.00.0000|FR1  | 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-05T21:47:05.683

它可能不是最优雅的解决方案，但您可以批量插入临时表，然后将临时表中的修剪数据插入目标表。

```
CREATE TABLE #temp
(
    [field1] [varchar](20) NOT NULL,
    [field2] [varchar](100) NOT NULL
) 

BULK
INSERT #temp
FROM 'C:\Temp\data.txt' 
WITH
(
FIELDTERMINATOR = '|',
ROWTERMINATOR = '\n',
FIRSTROW = 1
)
GO

Insert Into MyDatabase..TargetTable ([field1], [field2])
Select RTRIM(LTRIM([field1])), RTRIM(LTRIM([field2])) From #temp

Drop table #temp 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:31:40.153

如果要插入字符串值，这种方法可能很有用

```
 REPLACE('Original String', ' ', '') 
```

否则，您可以使用动态 SQL，将所有插入内容放入字符串中，修剪并使用 sp_executesql 执行

```
 DECLARE @szSQL NVARCHAR(MAX)
    SET @szSQL = 'INSERT INTO YourTable(YourCol1, YourCol2, YourCol3)
    VALUES(YourVal1, YourVal2, YourVal3)'
    SET @szSQL REPLACE(@szSQL, ' ', '')
    EXEC sp_executesql @szSQL 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-09T12:09:11.040

> 你可以这样做：

1.  将数据插入到您的表中
2.  删除空格`UPDATE yourTable SET FirstName = LTRIM(RTRIM(FirstName))`

# jquery - Kendo UI DatePicker

> ID：13117693
> 
> 赞同：-2
> 
> 时间：2012-10-29T07:47:51.060
> 
> 标签：jquery, asp.net, kendo-ui

I am using kendo ui.But datepicker doesnot work when clicking on the input field the datepicker doesnot appear. Please clarify me how to call kendo datepicker() in my .aspx page.
**My code is**

```
<script src="Js/jquery1.7.1.min.js" type="text/javascript"></script>   
<script src="Js/jquery-ui-1.8.7.min.js" type="text/javascript"></script>
<script src="CSS/kendo.all.min.js" type="text/javascript"></script>
<script type="text/javascript" src="CSS/kendo.web.js"></script>
<script src="CSS/console.js" type="text/javascript"></script>    
<script type="text/javascript">
   $(document).ready(function() {
       $("#date").kendoDatePicker();
    });
</script>     
</head>
<body>
<form id="form1" runat="server">
        <div  style="width: 155px;">
            <input id="date" />
        </div>
</form>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:15:01.630

乍一看，我注意到您正在加载 kendo.web.js 和 kendo.all.js，这是不正确的。选择其中一个脚本并加载 CSS 文件。[检查相关文档。](http://docs.kendoui.com/getting-started/downloading-kendo) [这是一个有效的 jsBin 演示。](http://jsbin.com/enewos/3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T22:37:33.133

改变：

```
<script src="CSS/kendo.all.min.js" type="text/javascript"></script>
<script type="text/javascript" src="CSS/kendo.web.js"></script>
<script src="CSS/console.js" type="text/javascript"></script> 
```

至：

```
<script src="js/kendo.all.min.js" type="text/javascript"></script>
<script src="js/console.js" type="text/javascript"></script> 
```

你不需要 kendo.web.js。我假设您的 CSS 目录中没有 JavaScript 文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:56:06.777

您的表单中必须有一个输入字段。

```
 <input id="date"> 
```

然后在脚本中使用以下

```
$("#date").kendoDatePicker(); 
```

# ruby-on-rails - Rails Order by Contained Objects 2 Levels Deep?

> ID：13117695
> 
> 赞同：0
> 
> 时间：2012-10-29T07:48:01.293
> 
> 标签：ruby-on-rails, activerecord

How can I include ordering in an 'order' ActiveRelation call that's more than one level deep?

That is, I understand the answer when it's only one level deep (asked and answered at [Rails order by associated data](https://stackoverflow.com/questions/8875184/rails-order-by-associated-data)). However, I have a case where the data on which I want to sort is two levels deep.

Specifically, in my schema a SongbookEntry contains a Recording, which contains an Artist and a Song. I want to be able to sort SongbookEntry lists by song title.

I can go one level deep and sort Recordings by song title:

```
@recordings = Recording.includes(:song).order('songs.title') 
```

...but don't know how to go two levels deep. In addition, it would be great if I could sort on the recording (that is, the song title and the artist name) -- is this possible without descending into SQL?

Thanks for any help,

Keith

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:13:17.213

我建议将艺术家姓名（可能还有歌曲名称）存储在录音本身上，这样您就不必“下降到 SQL”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:22:13.267

如果您对`SongbookEntry`和之间的关联进行建模`Song`：

```
class SongbookEntry < ActiveRecord::Base
  # ...
  has_one :song, through: :recording
end 
```

您将能够访问`@songbookentry.song`和`SongbookEntry.joins(:song)`使用现有架构。

编辑：

对 应用相同的想法`Artist`，可能的查询是：

```
SongbookEntry.joins(:song,:artist).order('songs.title','artists.name') 
```

请注意，这可能不是最有效的操作（涉及多个连接），即使它看起来像 Rails 一样，所以稍后您可能希望按照 Ryan 的建议对表进行非规范化，或者找到另一种对数据建模的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T08:22:01.247

试试这个
  SongbookEntry.includes(:recording=>[:artist,:song]).order('songs.title, Artists.name')

如果您不想在视图中使用关联表字段，则可以使用联接代替包含

# diazo - xsl：模板匹配不起作用

> ID：13117696
> 
> 赞同：1
> 
> 时间：2012-10-29T07:48:03.140
> 
> 标签：diazo

我有一个带有 src 属性的图像（在内容中）

```
http://myPage/rss.gif 
```

我不想改变属性。xsl:template 匹配表达式不起作用..

```
<replace css:content="#content" css:theme=".content" />
<xsl:template match="img/@src[contains(., 'rss.gif')]">
    <xsl:attribute name="src">/++theme++myPackage/images/<xsl:value-of select="." /></xsl:attribute>
</xsl:template> 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-27T09:18:04.367

在您的示例中，您选择一个`img`-tag 包含`rss.gif`其`src`-attribute 中的字符串，该字符串可能是`http://myPage/rss.gif`.

然后，将属性添加`src`到`img`-tag 中，将其值与字符串的连接`/++theme++myPackage/images/`和原始值相结合`http://myPage/rss.gif`。

原始值加上`<xsl:value-of select="." /></xsl:attribute>`。`src`这将选择-attribute的整个值！

因此你会得到类似的东西：

```
<img id="content" src="/++theme++myPackage/images/http://myPage/rss.gif" /> 
```

出于测试目的，您可以首先将具有`img`预期- 属性的`src`-element 添加到您的 theme.html 文件中，并检查是否访问了图像文件。另请检查`src`您的内容文件中的值是否仅包含您要附加​​到的字符串`/++theme++myPackage/images/`。

顺便说一句，在您的示例中，您将主题元素替换为 class: `css:theme=".content"`。提醒一下，这将用 class 替换所有元素`content`。考虑使用 id 或更窄的选择器，例如`div.content`或 better `div#someid.content`。

# iphone - Xcode - Google Street View api 3D 全景图

> ID：13117701
> 
> 赞同：1
> 
> 时间：2012-10-29T07:48:47.503
> 
> 标签：iphone, objective-c, ios, xcode, photos

我的目标是使用 Google Street View API 向用户显示完整的承诺全景可滚动街景图像。基本上，API 为我提供了许多图像，我可以在其中改变方向、高度、缩放、位置等。我可以检索所有这些并希望将它们拼接在一起并查看它。第一个问题是，你知道演示这个完整的谷歌街景演示工作的任何资源吗？用户可以在其中滑动以移动街景，就像我相信我们都想念的旧 iOS 5 地图街景一样......

如果没有，我基本上会下载数百张垂直和水平方向不同的照片。是否有库或 API 或资源或方法可以让我将所有这些照片拼接在一起以制作大全景图，并使其用户可以滑动以在 iPhone 小屏幕上查看大全景图？

谢谢大家！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-05T01:58:48.577

我拼凑了一个快速的实现来为你做很多这样的演示。有一些优秀的开源库可以让街景的业余版本变得非常简单。你可以在 GitHub 上查看我的演示：[https ://github.com/ocrickard/StreetViewDemo](https://github.com/ocrickard/StreetViewDemo)

您可以使用 Google StreetView API 中的航向和俯仰参数来生成图块。正如 Bilal 和 Geraud.ch 所建议的那样，这些图块可以排列在 UIScrollView 中。但是，我真的很喜欢 JCTiledScrollView，因为它包含一个非常好的注释系统，可以像 Google 一样在图像上添加图钉，并且它的数据源/委托结构可以进行一些非常直接的图像处理。

我的实现的主要部分如下：

```
- (UIImage *)tiledScrollView:(JCTiledScrollView *)scrollView imageForRow:(NSInteger)row column:(NSInteger)column scale:(NSInteger)scale
{
    float fov = 45.f / scale;

    float heading = fmodf(column*fov, 360.f);
    float pitch = (scale - row)*fov;

    if(lastRequestDate) {
        while(fabsf([lastRequestDate timeIntervalSinceNow]) < 0.1f) {
            //continue only if the time interval is greater than 0.1 seconds
        }
    }

    lastRequestDate = [NSDate date];

    int resolution = (scale > 1.f) ? 640 : 200;

    NSString *path = [NSString stringWithFormat:@"http://maps.googleapis.com/maps/api/streetview?size=%dx%d&location=40.720032,-73.988354&fov=%f&heading=%f&pitch=%f&sensor=false", resolution, resolution, fov, heading, pitch];
    NSError *error = nil;
    NSData *data = [NSData dataWithContentsOfURL:[NSURL URLWithString:path] options:0 error:&error];
    if(error) {
        NSLog(@"Error downloading image:%@", error);
    }
    UIImage *image = [UIImage imageWithData:data];

    //Distort image using GPUImage
    {
        //This is where you should try to transform the image.  I messed around
        //with the math for awhile, and couldn't get it.  Therefore, this is left
        //as an exercise for the reader... :)

        /*
        GPUImagePicture *stillImageSource = [[GPUImagePicture alloc] initWithImage:image];
        GPUImageTransformFilter *stillImageFilter = [[GPUImageTransformFilter alloc] init];
        [stillImageFilter forceProcessingAtSize:image.size];

        //This is actually based on some math, but doesn't work...
        //float xOffset = 200.f;

        //CATransform3D transform = [ViewController rectToQuad:CGRectMake(0, 0, image.size.width, image.size.height) quadTLX:-xOffset quadTLY:0 quadTRX:(image.size.width+xOffset) quadTRY:0.f quadBLX:0.f quadBLY:image.size.height quadBRX:image.size.width quadBRY:image.size.height];
        //[(GPUImageTransformFilter *)stillImageFilter setTransform3D:transform];

        //This is me playing guess and check...
        CATransform3D transform = CATransform3DIdentity;
        transform.m34 = fabsf(pitch) / 60.f * 0.3f;

        transform = CATransform3DRotate(transform, pitch*M_PI/180.f, 1.f, 0.f, 0.f);
        transform = CATransform3DScale(transform, 1.f/cosf(pitch*M_PI/180.f), sinf(pitch*M_PI/180.f) + 1.f, 1.f);
        transform = CATransform3DTranslate(transform, 0.f, 0.1f * sinf(pitch*M_PI/180.f), 0.f);

        [stillImageFilter setTransform3D:transform];

        [stillImageSource addTarget:stillImageFilter];
        [stillImageFilter prepareForImageCapture];
        [stillImageSource processImage];

        image = [stillImageFilter imageFromCurrentlyProcessedOutput];
         */
    }

    return image;
} 
```

现在，为了获得 Google 的完整 360 度无限滚动效果，您必须在观察 UIScrollView 的 contentOffset 的 observeValueForKeyPath 方法中做一些诡计。我已经开始实施这个，但没有完成它。这个想法是当用户到达视图的左侧或右侧时，滚动视图的`contentOffset`属性被推送到滚动视图的另一侧。如果您可以使内容正确对齐，并且您将 contentSize 设置得恰到好处，那么这应该可以工作。

最后，我要注意的是，谷歌街景系统有每秒 10 张图像的限制，所以你必须限制你的请求，否则设备的 IP 地址将被列入黑名单一段时间（我的家庭互联网现在被黑了）接下来几个小时的 StreetView 请求，因为我一开始不明白这一点）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-31T13:20:24.350

您应该使用这篇文章中描述的方法：http: [//mobiledevelopertips.com/user-interface/creating-circular-and-infinite-uiscrollviews.html](http://mobiledevelopertips.com/user-interface/creating-circular-and-infinite-uiscrollviews.html)

您将不得不制作一些工厂来将图像转换为合适的尺寸和您的视口（iPhone/iPad）。然后添加一些按钮，您可以单击以转到下一个地方。

不幸的是，如果您想使用地球仪版本（而不是管子版本），我认为您需要使用完整的 openGL 才能在此 3D 表面中显示图像。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-31T13:12:06.613

您需要使用UIScrollView，将其clipSubviews 属性设置为true，将所有图像添加到UIScrollView 和UIScrollView 的contentsOffset 根据图像。

# python - Python正则表达式查找重复数字

> ID：13117703
> 
> 赞同：0
> 
> 时间：2012-10-29T07:48:48.873
> 
> 标签：python, regex, repeat, digit

我有一个 Python 问题想象下面的变量 x。我想编写一个正则表达式来帮助我找到任何重复的单个数字。Like 1 不重复，但 2 提到了两次，3 是 3 次。

```
x='1234328732'#a string of digits

re.search(r'(\d+).*\1', x).group(1) 
```

这就是我的想法，但这只是给了我模式的回归。上面没有返回任何内容，因为没有重复模式。但如果

```
x='1231231234' 
```

它将返回 123 但重复模式不是我想要的。我想要重复的数字。所以对于第一个 x 它应该给出 2, 3 对于第二个 x 它应该给出 1, 2, 3

这是为了学习 RE 的想法，主要是 Thx

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T07:53:02.747

可能是这样的，使用`Counter()`：

```
>>> import re
>>> from collections import Counter

>>> x='1234328732'
>>> c=Counter(re.findall(r'\d',x))
>>> [x for x in c if c[x]>1]
['3', '2']

>>> x='1231231234' 
>>> c=Counter(re.findall(r'\d',x))
>>> [x for x in c if c[x]>1]
['1', '3', '2'] 
```

# java - 结果似乎是错误的

> ID：13117705
> 
> 赞同：3
> 
> 时间：2012-10-29T07:48:54.990
> 
> 标签：java

我的代码将显示我这是不可接受的输入。如果我插入负数。然后继续提示输入。但它继续计算。这是我的代码的一部分包含错误。但我没有看到。

```
public static boolean checkOctal()
{
    boolean b = true;
    if (oct < 0 && oct > 99999999 )
    {
        b = false;
        System.out.println("That is not an acceptable input.");
    }
    int tmp;
    int tmp1 = oct;
    while (tmp1 > 0)
    {
        tmp = tmp1 % 10;
        tmp1 = tmp1 / 10;
        if (tmp >= 0 && tmp < 8)
        {
            continue;
        } else
        {
            b = false;
            break;
        }
    }
    return b;

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T07:52:41.447

你应该写

`if (oct < 0 || oct > 99999999 )`

代替

`if (oct < 0 && oct > 99999999 )`

`||`代表或，而`&&`代表和。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-29T07:53:40.933

实际上，我怀疑它是否显示任何内容。看情况：

```
if (oct < 0 && oct > 99999999 ) 
```

一个数字怎么可能同时是负数*和*大体上是正数？你想要一个“或”条件。

*接下来，如果您确实*满足条件，请查看您在做什么：

```
{
    b = false;
    System.out.println("That is not an acceptable input.");
} 
```

你只是继续前进 - 它会返回正确的结果（假），但它没有意义。你已经知道结果了，为什么不直接返回呢？

你要：

```
if (oct < 0 || oct > 99999999 )
{
    System.out.println("That is not an acceptable input.");
    return false;
} 
```

或者，更好的是，更早地执行*验证*（在调用方法之前） - 如果输入无效，则抛出异常。目前，您为“无效输入”提供与“有效但非八进制输入”相同的结果，这对我来说听起来不是一个好主意。

请注意，“一知道值就返回”的方法也是我在其余方法中采用的方法——我根本不会为`b`变量而烦恼。我会把你的循环改成这样：

```
int value = oct;
while (value > 0)
{
    int digit = value % 10;
    if (digit >= 8)
    {
        return false;
    }
    value = value / 10;
}
return true; 
```

您不必担心`digit`是否为负，因为您已经检查过您是否从非负值开始。

此外，这个方法没有`oct`作为参数似乎很奇怪。这将使它更加独立。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T07:53:36.437

您可能应该检查您的布尔逻辑：

```
if (oct < 0 && oct > 99999999 ) 
```

永远不会是真的 - 没有任何数字同时小于零**和**大于 999999... 符号`||`（逻辑“或”）是您所需要的。

干杯，

# java - Swagger API 过滤似乎不起作用

> ID：13117707
> 
> 赞同：1
> 
> 时间：2012-10-29T07:49:04.307
> 
> 标签：java, swagger

我写了一些花哨的代码来玩 Swagger API 过滤：

```
public class ApiAuthorizationFilterImpl implements ApiAuthorizationFilter {
    @Override
    public boolean authorize(String apiPath, String method, HttpHeaders headers, UriInfo uriInfo) {
        System.out.println("authorize");
        return true;
    }

    @Override
    public boolean authorizeResource(String apiPath, HttpHeaders headers, UriInfo uriInfo) {
        System.out.println("authorizeResource");
        return true;
    }
} 
```

然后我`web.xml`用这些行扩展了我的文件：

```
<init-param>
    <param-name>swagger.security.filter</param-name>
    <param-value>mypackage.rest.utils.ApiAuthorizationFilterImpl</param-value>
</init-param> 
```

但这似乎不起作用。每当我调用我的 REST 方法时，调试器中既没有停止，`ApiAuthorizationFilterImpl`也没有打印行。
我错过了什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T14:18:37.670

过滤将应用于文档，而不是方法调用本身。查看是否直接点击 swagger 文档资源（即 http://{your-server}:8080/user.json），您应该会看到 printlns 发出。

为了保护方法本身，您将编写一个单独的过滤器，或者在 swagger 和调用过滤器之间共享逻辑。

# mysql - MySql 子查询返回多于 1 条记录

> ID：13117709
> 
> 赞同：0
> 
> 时间：2012-10-29T07:49:05.667
> 
> 标签：mysql, subquery

我有一个 MySQL 查询：

```
SELECT * 
FROM t1
WHERE ABS(TIMESTAMPDIFF(MINUTE, ts, (SELECT ts FROM t1 WHERE id=1 AND c1 < 5))) < 3
AND id=1 
```

子查询返回 4 行，因此无法执行查询。我已将其更改为使用加入：

```
SELECT * 
FROM t1 a INNER JOIN t1 b 
ON a.id=b.id AND b.id=1 AND c1<5
WHERE ABS(TIMESTAMP(MINUTE, a.ts, b.ts))<3; 
```

我有 2 个问题： 1\. 我转换（从子查询到加入）对吗？2.无论如何要修复我的子查询？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:27:32.030

您可以像这样在选择查询中使用不同的键

```
SELECT  distinct a.* FROM t1 a WHERE a.id = 1 AND EXISTS (SELECT NULL FROM t1 b WHERE b.id = a.id AND b.c1 < 5 
```

AND TIMESTAMPDIFF(MINUTE, a.ts, b.ts) < 3)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T07:59:19.133

1\. 它是无效的，因为您必须在所有字段前加上前缀（可能是拼写错误），否则会出现歧义错误。和其他错别字（`TIMESTAMP`而不是`TIMESTAMPDIFF`）

顺便说一句，在您的情况下，您可以将谓词条件放在 where 子句中，而不是在连接中。

```
SELECT a.* 
FROM t1 a 
INNER JOIN t1 b 
ON a.id=b.id 
WHERE a.id = 1
AND b.c1 < 5
AND ABS(TIMESTAMPDIFF(MINUTE, a.ts, b.ts))<3; 
```

2\. 也许 EXISTS 子句可以完成这项工作。

```
SELECT a.*
FROM t1 a
WHERE a.id = 1
AND EXISTS 
  (SELECT NULL FROM t1 b
   WHERE b.id = a.id
   AND b.c1 < 5
   AND TIMESTAMPDIFF(MINUTE, a.ts, b.ts) < 3) 
```

# mysql - 如何从sql表或sql数据库中导出所有单词

> ID：13117710
> 
> 赞同：0
> 
> 时间：2012-10-29T07:49:28.853
> 
> 标签：mysql, sql, sql-server, database, tsql

假设我们有下表。

```
用户名 | 信息
--------|-------------
1 | 嗨，祝你有美好的一天
2 | 嗨，我度过了愉快的一天

```

我需要分别拥有所有 { Hi,-have-a-nice-day-I-had } 单词。有什么办法吗？如果我想从整个数据库表中导出单词怎么办？

类似的结果也会很好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:38:35.867

好吧，好吧，就这样吧。

在 SQL Server 中，您可以使用此...

```
SELECT word = d.value('.', 'nvarchar(max)')
FROM
    (SELECT xmlWords = CAST(
        '<a><i>' + replace([Message], ' ', '</i><i>') + '</i></a>' AS xml) 
        FROM MyMessageTbl) T(c)
    CROSS APPLY c.nodes('/a/i') U(d) 
```

我希望对于 MySQL，您可以使用相同的东西，使用 XML 支持 - ExtractValue() 等。

编辑：解释

```
 - replace([Message], ' ', '</i><i>') replaces e.g. 'my word' with 'my</i><i>word'
 - then I add the beginning and the end of xml -> '<a><i>my</i><i>word</i></a>', so I have a valid xml... and cast it to xml type to be able to do something with it
 - I select from that xml and shred xml nodes '/a/i' it to rows using CROSS APPLY c.nodes('/a/i'); 
   alias rows using U(d), so one 'i' maps to column d (e.g. 'my')
 - d.value('.', 'nvarchar(max)') extracts node content and casts it to character type 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T08:33:39.540

试试这个：在 Sql server 2005 或更高版本中

```
create table yourtable(RowID int, Layout varchar(200))
INSERT yourtable VALUES (1,'hello,world,welcome,to,tsql')
INSERT yourtable VALUES (2,'welcome,to,stackoverflow')

;WITH SplitSting AS
(
    SELECT
        RowID,LEFT(Layout,CHARINDEX(',',Layout)-1) AS Part
            ,RIGHT(Layout,LEN(Layout)-CHARINDEX(',',Layout)) AS Remainder
        FROM YourTable
        WHERE Layout IS NOT NULL AND CHARINDEX(',',Layout)>0
    UNION ALL
    SELECT
        RowID,LEFT(Remainder,CHARINDEX(',',Remainder)-1)
            ,RIGHT(Remainder,LEN(Remainder)-CHARINDEX(',',Remainder))
        FROM SplitSting
        WHERE Remainder IS NOT NULL AND CHARINDEX(',',Remainder)>0
    UNION ALL
    SELECT
        RowID,Remainder,null
        FROM SplitSting
        WHERE Remainder IS NOT NULL AND CHARINDEX(',',Remainder)=0
)
SELECT part FROM SplitSting ORDER BY RowID 
```

[**SQLFIDDLE 演示**](http://sqlfiddle.com/#!3/fade8/2)

# android - 如何在 OpenGL ES 2.0 中将多个 MVP 矩阵发送到顶点着色器

> ID：13117712
> 
> 赞同：3
> 
> 时间：2012-10-29T07:49:33.460
> 
> 标签：android, opengl-es

我正在使用 OpenGL ES 优化 2D 游戏中的精灵渲染，并且在 GLSL 和顶点着色器方面我已经达到了我的知识极限。

我有两个大型浮点缓冲区，其中包含多个精灵的顶点坐标和纹理坐标（最终这将是一个缓冲区），以便执行单个 glDrawArrays 调用。这可行，但是在将转换矩阵传递到顶点着色器时遇到了麻烦。

我的着色器代码是：

```
uniform mat4 u_MVPMatrix; 
attribute vec4 a_Position;      
attribute vec2 a_TexCoordinate; 
varying vec2 v_TexCoordinate; 

void main()
{
    v_TexCoordinate = a_TexCoordinate;
    gl_Position = u_MVPMatrix * a_Position;
} 
```

在 Java (Android) 中，我使用 FloatBuffer 来存储顶点/纹理数据，并将其提供给着色器，如下所示：

```
mGlEs20.glVertexAttribPointer(mVertexHandle, Globals.GL_POSITION_VERTEX_COUNT, GLES20.GL_FLOAT, false, 0, mVertexCoordinates);   
mGlEs20.glVertexAttribPointer(mTextureCoordinateHandle, Globals.GL_TEXTURE_VERTEX_COUNT, GLES20.GL_FLOAT, false, 0, mTextureCoordinates); 
```

（Globals.GL_POSITION_VERTEX_COUNT 等现在只是值为 2 的整数）

我正在传递 MVP（模型/视图/投影）矩阵缓冲区，如下所示：

```
GLES20.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mModelCoordinates); 
```

（mModelCoordinates 是一个 FloatBuffer，包含 16 个浮点序列，表示每个精灵的 MVP 矩阵）

这渲染了我的场景，但所有精灵共享相同的转换，因此显然只从缓冲区中挑选前 16 个元素，这是有道理的，因为我将“1”作为第二个参数传递。此方法的文档说：

> “如果目标统一变量不是矩阵数组，这应该是 1，如果它是矩阵数组，则应该是 1 或更多。”

所以我尝试用一​​个足够大的固定大小的数组来修改着色器，以适应我的大部分场景：

```
uniform mat4 u_MVPMatrix[1000]; 
```

但这会导致着色器出现错误：

> 无法从“浮点 4X4 矩阵的均匀数组”转换为“浮点 4 分量向量的位置”

无论如何，这似乎是错误的，因为我不清楚着色器如何知道何时转换到下一个矩阵。

任何人都知道如何让我的着色器从我的 MVP 缓冲区中为它遇到的每 4 个顶点拾取一个不同的 MVP 矩阵（即 NEXT 16 个浮点数）？（我使用的是 GL_TRIANGLE_STRIP，所以每个精灵都有 4 个顶点）。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T16:15:24.783

你一次渲染多少个精灵？你在使用精灵图集吗？一般来说，设置变换矩阵并一次绘制一个精灵是最简洁的方法。如果这导致显着减速，那么您正在绘制很多精灵。

通常，我会针对您的情况推荐一个[统一缓冲区对象](http://www.opengl.org/wiki/Uniform_Buffer_Object)，但我找不到任何表明 OpenGL ES 支持它的文档。

变换的本质是什么？您也许可以使用其他数据来推断矩阵。例如，可以使用精灵顶点数据进行简单的翻译。

# database - Oracle 11g 空间数据库的 sdo_relate anyintersect 中的混淆

> ID：13117719
> 
> 赞同：1
> 
> 时间：2012-10-29T07:50:01.183
> 
> 标签：database, oracle, oracle11g, spatial, intersect

我在 oracle 11g 中运行以下查询：

1)`select a1.apid from access_point a1 where sdo_relate(a1.shape,a1.shape,'mask=equal') = 'TRUE' and a1.apid = 'a5vhe';`

2)`select a1.apid from access_point a1 where sdo_relate(a1.shape,a1.shape,'mask=anyintersect') = 'TRUE' and a1.apid = 'a5vhe';`

现在 oracle 11g 文档将掩码“anyintersect”定义为“ANYINTERACT：如果对象不不相交，则返回 TRUE。” 那么为什么 oracle 为我的 Query 1 返回记录 a1 而为 QUERY2 返回 none 呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-16T07:14:41.373

你有一个错字。

*   不正确：`sdo_relate(a1.shape,a1.shape,'mask=anyintersect')`
*   正确的：`sdo_relate(a1.shape,a1.shape,'mask=anyinteract')`

# rally - Rally Web 服务 API：根据迭代或工作产品属性检索测试用例

> ID：13117720
> 
> 赞同：1
> 
> 时间：2012-10-29T07:50:04.833
> 
> 标签：rally

我尝试使用 XML URL（例如 [https://rally1.rallydev.com/slm/webservice/1.37/testcase?query](https://rally1.rallydev.com/slm/webservice/1.37/testcase?query) = ...

我只想检索从第 x 天到第 y 天接受的 WorkProducts 测试用例，所以我构建这样的查询： [https://rally1.rallydev.com/slm/webservice/1.37/testcase?query=((WorkProduct. AcceptedDate](https://rally1.rallydev.com/slm/webservice/1.37/testcase?query=((WorkProduct.AcceptedDate) >= "yyyy-mm-dd") AND (WorkProduct.AcceptedDate <= "yyyy-mm-dd")) 结果是：无法遍历到“AcceptedDate”

有趣的是我可以这样做： [https://rally1.rallydev.com/slm/webservice/1.37/testcase?query=(WorkProduct.LastUpdateDate](https://rally1.rallydev.com/slm/webservice/1.37/testcase?query=(WorkProduct.LastUpdateDate) <= "2012-06-26") 这是相同的概念。

有没有人可以说为什么 LastUpdate 信息是可查询的而 AcceptedDate 不是？

谢谢，明周二

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T15:41:32.337

The reason this doesn't work is because the WorkProduct field on TestCase is an Artifact. Artifact does have a LastUpdateDate field but does not have an AcceptedDate field. You should still be able to get the data you want but it will take a few extra queries.

You'll have to query for defects and stories whose AcceptedDate is in the desired range and include TestCases in the fetch.

# php - 使用 PHP 代码会导致格式问题

> ID：13117721
> 
> 赞同：0
> 
> 时间：2012-10-29T07:50:14.460
> 
> 标签：php, internet-explorer, formatting

所以我有一个 .php 网页，它在顶部包含一个用于登录系统的 PHP 脚本。下面是显示网页的 HTML。现在在 Firefox 或 chrome 中显示正常，但在 Internet Explorer 中该网站看起来令人震惊。我发现删除 PHP 后格式是正确的。这是页面顶部使用的 PHP 代码：

```
<?php
session_start();
if(!session_is_registered(myusername)){
header("location:http://www.mvaeng.com.au/Login");
}
$myusername = $_SESSION["myusername"];
$mypassword = $_SESSION["mypassword"];

$host="localhost"; // Host name
include 'DATA.php';
$db_name="mvaengco_Loginsystem"; // Database name
$tbl_name="Members"; // Table name

mysql_connect("$host", "$username", "$password")or
die(mysql_error());
mysql_select_db("$db_name")or die(mysql_error());

$myusername = stripslashes($myusername);
$mypassword = stripslashes($mypassword);
$myusername = mysql_real_escape_string($myusername);
$mypassword = mysql_real_escape_string($mypassword);

$sql="SELECT * FROM $tbl_name WHERE username='$myusername' and
password='$mypassword'";
$result=mysql_query($sql);

$count=mysql_num_rows($result);

if(!($count==1)){
    header("location:http://www.mvaeng.com.au/Login");
}
$htaccess = 'Files/.htaccess';
$ip .= $_SERVER['REMOTE_ADDR'];
$line1ht .= "order deny,allow \r\n";
$line2ht .= "deny from all \r\n";
$line3ht .= "allow from $ip \r\n";
file_put_contents($htaccess, $line1ht);
file_put_contents($htaccess, $line2ht, FILE_APPEND | LOCK_EX);
file_put_contents($htaccess, $line3ht, FILE_APPEND | LOCK_EX);

?> 
```

以及 PHP 代码下面的 HTML 代码的第一部分：

```
<head>
        <title>Client File System - Logged In</title>
        <meta charset="utf-8">

        <link href="http://mvaeng.com.au/css/reset.css" rel="stylesheet"      type="text/css" />

        <link href="http://mvaeng.com.au/css/layout.css" rel="stylesheet"      type="text/css" />

        <link href="http://mvaeng.com.au/css/style.css" rel="stylesheet"      type="text/css" />
        <script type="text/javascript" src="http://mvaeng.com.au/js/dropdown.js">     </script>

        <script src="http://code.jquery.com/jquery-1.8.1.min.js"      type="text/javascript"></script>
        <script src="jquery.easing.js" type="text/javascript"></script>
        <script src="jqueryFileTree.js" type="text/javascript"></script>
        <link href="jqueryFileTree.css" rel="stylesheet" type="text/css"      media="screen" />
        <script type="text/javascript">  
            var x="../../MASTER/Files/";  

            function openFile(file) {
                var fileA=file.replace("/","/BIN_1/");
                    window.location = fileA;
            }  

            $(document).ready( function() {

                $('#fileTree').fileTree({ root: '../../BIN_1/Files/',      script: 'connectors/jqueryFileTree.php' }, function(file) { 
                    openFile(file);
                });

            });
        </script>

    </head> 
```

那么，我该如何解决这个问题？
谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:16:09.163

如果您的 html 中有其他 PHP 部分，那么删除 IE 中的顶部可能会产生您所看到的更改。除此之外，我看不到顶级 PHP 代码的存在或缺失会产生什么视觉效果。

另一方面，您需要切换到 mysqli。PHP 中的 mysql 在 90 年代被使用，不再是编写任何严肃程序的正确方法。你越早做出改变，你以后改变的就越少。mysqli 真的没有那么不同。只要看一些例子，你就会很容易理解。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:53:49.547

好吧，IE 是一个非常烦人的浏览器。它以不同的方式解释 html，尤其是在涉及空白区域或空格时...

无论如何，如果跨浏览器兼容性对您来说真的很重要，我建议您使用正确放置的 div（或其他匹配元素）来设计页面，并将文本放入其中。
php 代码可能会导致一些不需要的空格破坏您的 html 输出，并且 IE 不知道如何处理...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T07:58:16.463

尝试在 php 脚本的开头使用 ob_start()，在文件末尾使用 ob_flush()。

# playframework - 为什么play framework 2.0重启后会删除日志？

> ID：13117726
> 
> 赞同：5
> 
> 时间：2012-10-29T07:50:33.883
> 
> 标签：playframework, playframework-2.0

我使用构建包`play dist`并将其部署到网络服务器。现在它在每次重新启动后截断 application.log。这种行为的可能原因是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:00:12.327

在源代码中是这样完成的（每次重启时删除日志文件），您可以在[此处查看源代码](https://github.com/playframework/Play20/blob/master/framework/src/play/src/main/scala/play/core/server/Server.scala#L32)。

为防止这种情况，您可以提供备用`conf/logger.xml`文件并使用自定义配置。

例如，要在用户主文件夹中创建一个日志文件（改编自本[文档](http://www.playframework.org/documentation/2.0.4/SettingsLogger)）：

```
<configuration>

  <conversionRule conversionWord="coloredLevel" converterClass="play.api.Logger$ColoredLevel" />

  <appender name="FILE" class="ch.qos.logback.core.FileAppender">
     <file>${user.home}/logs/myapp.log</file>
     <encoder>
       <pattern>%date - [%level] - from %logger in %thread %n%message%n%xException%n</pattern>
     </encoder>
   </appender>

  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>%coloredLevel %logger{15} - %message%n%xException{5}</pattern>
    </encoder>
  </appender>

  <logger name="play" level="INFO" />
  <logger name="application" level="INFO" />

  <root level="ERROR">
    <appender-ref ref="STDOUT" />
    <appender-ref ref="FILE" />
  </root>

</configuration> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-06T17:10:39.370

关键是在 logback.xml 的文件 appender 中设置`<append>`为：`true`

```
<appender name="FILE" class="ch.qos.logback.core.FileAppender">
  <append>true</append>
  <file>${user.home}/logs/myapp.log</file>
  <encoder>
    <pattern>%date - [%level] - from %logger in %thread %n%message%n%xException%n</pattern>
  </encoder>
</appender> 
```

# php - 在 PHP 中将字符串转换为日期类型

> ID：13117727
> 
> 赞同：-1
> 
> 时间：2012-10-29T07:50:42.073
> 
> 标签：php, date

```
$a2 = $_POST["e2"] ;
$time = strtotime( ' $a2 ');
$myDate = date ("Y-m-d", $time );
echo $myDate ;
$n = strtotime(date("Y-m-d", strtotime($myDate)) . " +24 month");
$q = date("Y-m-d", $n);
echo $q ; 
```

上面的输出是：1970-01-011972-01-01 e2 输入为：24/09/2012 所以预期的输出是：24/09/2012 24/09/2014 我应该为这个输出做些什么。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T07:57:55.067

用斜线分隔的日期[`strtotime`](http://www.php.net/manual/en/function.strtotime.php)必须是格式`m/d/y`。您正在传递格式中的日期`d/m/y`。将分隔符更改为`.`或`-`。

> 笔记：
> 
> m/d/y 或 dmy 格式的日期通过查看各个组件之间的分隔符来消除歧义：如果分隔符是斜杠 (/)，则假定为美式 m/d/y；而如果分隔符是破折号 (-) 或点 (.)，则假定为欧洲 dmy 格式。
> 
> 为避免潜在的歧义，最好尽可能使用 ISO 8601 (YYYY-MM-DD) 日期或 DateTime::createFromFormat()。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T07:58:53.720

只是改变你的斜线

```
$time = strtotime( ' 24-09-2012 ');
$myDate = date ("Y-m-d", $time );
echo $myDate ;
$n = strtotime(date("Y-m-d", strtotime($myDate)) . " +24 month");
$q = date("Y-m-d", $n);
echo $q ; 
```

# c# - 使用 C# sdk 进行 FB 注销

> ID：13117728
> 
> 赞同：6
> 
> 时间：2012-10-29T07:50:48.517
> 
> 标签：c#, .net, facebook, sdk, logout

我使用我的 FB 凭据登录到我的应用程序。最后，我进行注销并删除我的会话变量。我已从应用程序中注销，但 FB 会话仍保持打开状态，尽管我在 FB 注销页面上发布了类似代码中的帖子：

```
if (Session["FBAccessToken"] != null){

  var fb = new Facebook.FacebookClient();
  string accessToken = Session["FBAccessToken"] as string;
  //var logoutUrl = fb.GetLogoutUrl(new { access_token = accessToken, next = "https://www.facebook.com/", });
  var logoutUrl = fb.GetLogoutUrl(new {  next = "https://www.facebook.com/", });

  fb.Post(logoutUrl.AbsoluteUri, new { access_token = accessToken });
  Session.RemoveAll();
} 
```

我都尝试过：使用和不使用访问令牌参数生成的 logoutUrl，都不适合我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T15:53:58.240

自从我上一篇博文以来，Facebook 注销发生了一些变化。这是注销的方法。

```
var fb = new FacebookClient();
var logoutUrl = fb.GetLogoutUrl(new {access_token = "...", next = "...." });

// redirect to logoutUrl.AbsoluteUri 
```

下一个 url 不能是任意 url。我必须是您用来检索访问令牌的站点 url 的一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-10T01:38:41.293

@prabir 有答案。这是我为我的 MVC 应用程序调整它后的完整答案。只需将“localhost:51042/”替换为适合您应用的任何 URL。

这实际上填补了教程中的一个漏洞：[http ://www.asp.net/mvc/overview/getting-started/using-oauth-providers-with-mvc](http://www.asp.net/mvc/overview/getting-started/using-oauth-providers-with-mvc)

```
public ActionResult LogOff()
    {
        WebSecurity.Logout();

        if (Session["facebooktoken"] != null)
        {
            var fb = new Facebook.FacebookClient();
            var logoutUrl = fb.GetLogoutUrl(new { access_token = Session["facebooktoken"], next = "http://localhost:51042/" });

            Response.Redirect(logoutUrl.AbsoluteUri);
            Session.RemoveAll();
        } 

        return RedirectToAction("Index", "Home");
    } 
```

# c++ - 在 boost::gil 中读取图像并访问字节

> ID：13117729
> 
> 赞同：1
> 
> 时间：2012-10-29T07:51:07.673
> 
> 标签：c++, image, boost, boost-gil

是否有可能：

*   将仅由文件名（不知道图像格式）给出的图像读取为 2d 矩阵 rgb 未压缩形式（例如，将 JPG 读取到 2d 数组）
*   访问该图像的字节，复制它们，更改它们......（例如反转颜色，***我需要一个指向图像字节的指针，setter/getter 不会这样做***）
*   将这些字节保存为任何给定的图像格式（例如，将反转的图像保存为 PNG）

有可能`boost::gil`吗？也许有一个不同的库更适合这样的任务？

示例代码将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T08:00:29.877

**是的，是**的，**是的。**

有一些功能可以让您读取*和*写入 JPEG、TIFF 和 PNG 图像：请参见[此处](http://www.boost.org/doc/libs/1_51_0/libs/gil/doc/html/group___i_o.html)。

对于第二个项目符号，这正是 GIL 的本意。您可以使用它的工具来处理图像（[点击这里](http://www.boost.org/doc/libs/1_51_0/libs/gil/doc/html/index.html)）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T20:27:27.470

是的，您可以在`boost::gil`. 不过，您应该知道的是，这`boost::gil`只是一个通用接口，并不能单独处理读取/写入图像。您仍然需要使用第二个库，例如 libpng..

# php - 输入数据从“A”表中获取数据，然后用“B”表检查数据，然后在数据不在“B”表中时显示数据

> ID：13117730
> 
> 赞同：0
> 
> 时间：2012-10-29T07:51:12.510
> 
> 标签：php, mysql, sql

我有两张桌子。第一个表名为 A，第二个表名为 B。然后将两个表与输入数据进行比较。输入数据从“A”表中获取数据，然后用“B”表检查数据，然后当数据不在“B”表中时显示数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:52:43.130

您需要使用组合两个表`LEFT JOIN`

```
SELECT  a.*
FROM    tableA a 
        LEFT JOIN tableB b
            ON a.colName = b.colName
WHERE   b.colName IS NULL 
```

`colname`是定义两个表之间关系的列。

# git - 詹金斯“标签”用 git 构建

> ID：13117736
> 
> 赞同：26
> 
> 时间：2012-10-29T07:52:03.430
> 
> 标签：git, jenkins

当使用 git 来“标记”构建时，jenkins 上有一个选项。

这是做什么的，我该如何使用它？我假设我可以在该版本上标记构建，但我正在努力弄清楚如何推送该标签 - 除非我可以推送标签，否则它并不是那么有用。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-29T08:15:09.470

您并不总是想要推送*所有*构建标签，因为它们可能很多，具体取决于您的构建周期。

但是任何任务调度程序（如 Jenkins）都会标记构建，以防您想返回该特定代码并对其进行调试（因为即使构建可能成功，最终结果也可能运行不佳）

也就是说，如果您想推送这些标签，您可以使用构建后操作 ( )，如“[通过 Jenkins 标记 GitHub 项目](https://stackoverflow.com/a/8565437/6309)`git push --tags`”中所述。
或者，如[JENKINS-12156 票](https://issues.jenkins-ci.org/browse/JENKINS-12156)中所述，使用 GitPublisher（如“ [Git、Feature Branches 和 Jenkins – 或我如何学会停止担心损坏的构建](http://twasink.net/2011/09/20/git-feature-branches-and-jenkins-or-how-i-learned-to-stop-worrying-about-broken-builds/)”中所示）。

# cakephp - CakePHP 1.3：我们如何在 cakephp 中发送带有 2 个或更多（文件）附件的电子邮件？

> ID：13117737
> 
> 赞同：1
> 
> 时间：2012-10-29T07:52:27.767
> 
> 标签：cakephp, cakephp-1.3, email-attachments

我想通过 CakePHP 邮件发送一些图像文件。

目前我`$this->Email->attachments = array($Path.$fileName);`只使用一个文件我想在一封电子邮件中发送多个文件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:18:02.447

它就像手册中描述的那样工作，只需向数组添加更多路径。

[http://book.cakephp.org/1.3/view/1638/Attachments](http://book.cakephp.org/1.3/view/1638/Attachments)

```
$this->Email->attachments = array(
    $Path . $fileName,
    $Path . $someOtherFile
); 
```

# active-directory - 需要一些 Active Directory 建议

> ID：13117739
> 
> 赞同：0
> 
> 时间：2012-10-29T07:52:32.383
> 
> 标签：active-directory, activedirectorymembership, active-directory-group

首先，我是 AD 的新手；我知道如何设置基本域，仅此而已。

我正在为一些 Windows 应用程序运行托管服务。用户权限基于 Active Directory 安全组。

假设我有`Contoso.local`我的森林 - NetBIOS 名称是`CONTOSO`. 我想提供一个 SaaS，客户可以在其中将他们的 Active Directory 用户和/或组同步到我的 AD，同时保留他们自己的 NetBIOS 名称。例如，如果我有一个客户，他在全球某个地方被命名为 Acme，他们的林域是`Acme.local`，他们的 NetBIOS 名称是`ACME`，那么我希望 John Doe 能够登录到我的 SaaS，`ACME\John.Doe`而不是我必须管理所有我的客户的用户并要求 John 以`CONTOSO\John.Doe`. 这里的想法是白色标签。

马上，您可能会想到**AD FS**，但我的 SaaS 不支持联合服务。

我可以在我的网络上设置另一个域控制器来复制我的客户端，但这似乎有点过头了。而且，我不知道如何做到这一点。

我的 AD 是否无法简单地同步和/或针对另一个域的用户和组进行身份验证？（我也需要组，因为根据安全角色，用户可以访问特定信息。）我可以设置信任或 LDS 来完成此操作吗？

如果是，或者如果不是，请提供建议。一些操作方法也将不胜感激！

谢谢，约书亚

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T07:24:52.647

我不确定我是否完全理解你想要做什么，但是是的，Federation 可能是一个答案。除了联合之外，我认为使用林信任可能是实现让用户使用其本机域名\帐户名登录的目标的一种方式。只是一个想法。

# java - Java中与多重继承相关的混淆

> ID：13117746
> 
> 赞同：2
> 
> 时间：2012-10-29T07:52:55.020
> 
> 标签：java

我对Java继承感到困惑。正如我研究的那样，Java 不支持多重继承。使其完全不存在钻石继承问题。

但是，Java的每个类默认都继承Object类，如果我们扩展一个类，那么有两个继承类，第一个是Object，第二个是我们继承的类。据我所知，如果任何类继承两个或多个类，则称为多重继承。这表明java支持多重继承，因为它同时继承了两个类。

那为什么说java不支持多重继承，java有没有可能出现菱形问题呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T07:55:13.180

由于*所有*类都 extend `Object`，因此您要扩展的基类根据定义已经在 extends `Object`。您的类不需要添加`Object`自己，因为它已经存在于层次结构中。

这意味着，在您的层次结构中`Object`仍然只存在*一次*作为根，所以没有“钻石”。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-15T06:46:18.560

看到这个

```
 OBJECT CLASS
                           |
                           |
                     CLASS A{} //Class A extends class Object
                           |
                           |
                     CLASS B{} //Class B extends class A
                           |
                           |
                     CLASS C{}//Class C extends class B 
```

由于每个类都是从对象类继承的，因此当您从其他类继承时，情况并非如此。因此，对象类将成为所有其他继承类的超级类或根类。

所以有什么问题？

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-29T07:57:48.267

您误解了`Class extending Object`in case of的概念`Inheritance`。

只有继承层次结构中的顶级类从`Object`类扩展，而层次结构中较低的类的其余部分扩展直接超类。因此他们`Object`通过这个层次结构拥有类的所有方法`inheritance`，并且没有`multiple inheritance`涉及。

```
public class A {  // Extends from `Object` class
}

class B extends A { // Extends from `A`
}

class C extends B { // Extends from `B`
} 
```

因此，层次结构不会有`diamond`问题。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-10-29T08:01:45.907

> 但是，Java的每个类默认都继承Object类，如果我们扩展一个类，那么有两个继承类，第一个是Object，第二个是我们继承的类

这是部分正确的。

如果你明确地扩展一个类，那么它不会扩展`Object`类。

如果你有课

```
class A
{

} 
```

然后，编译器会将其更改为

```
class A extends Object
{

} 
```

但是，如果你明确地扩展一个类，如下所示，

```
class A extends AnotherClass
{

} 
```

编译器现在不会添加任何东西，因此没有多重继承。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-12-14T11:45:55.193

```
Java supports only syntactical multiple inheritance. Java does not 
supports  implementation of multiple inheritance. 
```

有人说java支持通过接口进行多重继承，但这里的解释是不正确的：

## 继承 ::

从一个类对象获取属性到另一个类对象：

```
Class A{}

Class B extends A {} 
```

这里 B 类的对象获取 A 类的属性（方法/函数/和数据成员/类变量）。

为什么java不支持使用类的多重继承：

```
Class A{}
Class B{}
Class C extends A,B{} 
```

X--该语句导致错误，因为A类从A和B双方获取对象类的对象...

每个java类默认扩展对象类的对象，对象类的对象是根对象，意味着所有类的超类。

但是这里 Class C 有两个超类的对象，所以给出错误意味着 java 不支持使用类进行多重继承。

java是否支持使用接口的多重继承：

由于这个接口概念，我们中只有少数人说java支持多重继承，但这是错误的。

## 这里的解释::

```
interface A{}
interface B{}
interface C implements A , B{} 
```

（或者）

```
interface A{}
interface B{}

Class C implements A , B{} 
```

这里它看起来像多重继承，但继承意味着将属性从一个类对象获取到另一个类对象。

在接口概念中，我们根本没有获得任何属性，而是在类中实现接口的未实现方法。

所以继承和接口是完全相反的......

所以最后java只支持多重继承的语法不支持多重继承的实现。

继承就像借方，接口就像贷方，但接口在服务器端编程等其他概念中具有其自身的重要性。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-29T07:57:51.660

不完全是在 Java 中，您一次只能从 1 个不同的类继承。该不同的类可能继承自另一个类，但是您没有一个类继承自多个不同的类...

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-10-29T07:58:33.127

您扩展的类已经从 Object 扩展。当您从新类扩展时，您实际上停止*直接*从 Object 扩展，而是通过新的直接祖先继承它。

所以这不是你从*两个不同*的类扩展，而是你从一个*本身已经从另一个类扩展*的类扩展，即 Object 类。

从视觉上看，多重继承将是：

```
 A  Object
  |   |
    C 
```

但你描述的情况实际上是：

```
Object
  |
  A
  |
  C 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-10-29T07:59:13.040

你可以有很多`ancestors`但只有一个父母。在这里，祖先的意思是`Object class`作为父母的意思是你正在扩展的类。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-10-29T08:00:38.163

通过指定要继承的类，您可以覆盖默认的扩展对象。因此，只有当您不指定要继承的类时，类才会扩展 Object。

# css - 如何防止 div_2 的定位受到 div_1 的悬停状态的影响？

> ID：13117752
> 
> 赞同：0
> 
> 时间：2012-10-29T07:53:02.807
> 
> 标签：css, hover

我有一个 div (div_1)，当它悬停时，它的背景图像和大小被 css 悬停状态所取代。

问题在于，当将鼠标悬停在 div_1 上时，会影响 div (div_2) 的“低于”这个位置，因为它的位置是相对的。

在我将 div_2 的位置更改为绝对位置以防止这种情况发生之前，我想知道是否有任何方法可以防止 div_1 的悬停状态影响 div_2 而无需将 div_2 的位置更改为绝对位置？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T01:08:03.803

**更新/解决方案：** 来自[https://stackoverflow.com/a/4502693/1063287](https://stackoverflow.com/a/4502693/1063287)

将鼠标悬停在“div_1”上时，您可以控制“div_2”的位置：

```
#div_1:hover + #div_2 {
    top: -100px !important;
} 
```

请注意，此特定解决方案适用于 div_2 不是 div_1 的子级的情况，其他场景的解决方案（在同一 div 内，直接在父 div 之后或其他情况下）可以在上面的链接中找到。

# android - Android：这只是一个自定义的 ListView 吗？

> ID：13117757
> 
> 赞同：0
> 
> 时间：2012-10-29T07:53:38.620
> 
> 标签：android, listview

Feed in **Four Square** android 应用程序如下所示：

![在此处输入图像描述](../Images/6bff540797210db9ef5c1795b16853d0.png)

一个带有实际帖子的矩形框，下面是一个像**10 个人这样**的文本，依此类推。

这只是一个列表视图，实际内容具有边距和不同的背景，以及它下面的 TextViews。

因为当我有一个带有 ImageView 和 5-6 个 TextViews 的复杂 ListView 时，加载 UI 需要花费大量时间。

我的一位在 iO 上工作的朋友说，**不要使用自定义 ListView 项目，而是使用 ImageView，它看起来像带有图像和文本视图的自定义视图。这使得加载速度更快。但是当然要实现这样的事情需要很多。**

*我只想知道，如果它只是另一个自定义列表视图？*

*我延迟加载 UI 是因为其他原因吗？*

*这样的技术也可以在android中使用？？*

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T07:56:57.250

可能是一个`ListView`复杂的儿童观点。也可以是一个[`ExpandableListView`](http://developer.android.com/reference/android/widget/ExpandableListView.html).

它的加载速度可能比您以前使用过的更快有几个原因：

1.  图像可能已经缓存在文件系统上，因此它从本地存储加载而不是下载图像。
2.  图像已经是正确的尺寸，因此不需要调整大小。
3.  图像加载是在后台线程上完成的，以便在将图像加载到内存时不会滞后 UI。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T12:39:28.933

您可以为 Adapter.getView() 中的每个 ListView 项目展开复杂布局，并根据要呈现的项目对象在不需要的视图上删除 (View.setVisibility(View.Gone))。

如果您想重用展开的布局，请不要忘记将everithing 的可见性再次设置为 View.VISIBLE。

我已经在我的代码中这样做了：

```
 if (post.getImageURL() != null && !post.getImageURL().isEmpty()) {
            holder.image.setVisibility(View.VISIBLE);
            holder.image.setScaleType(ScaleType.FIT_CENTER);

            displayImage(post.getImageURL(), holder.image);
        } else {
            holder.image.setVisibility(View.GONE);
        } 
```

在这种情况下，我隐藏了一个可选图像。

# java - Encog/neuroph 保存神经网络

> ID：13117761
> 
> 赞同：2
> 
> 时间：2012-10-29T07:53:48.733
> 
> 标签：java, neural-network, encog

我是神经网络领域的新手（说实话我几天前才开始）。我想在我的 OCR 应用程序中使用神经网络来识别手写文本。

我想知道的是，是否可以在初始训练后训练网络。换句话说，我一开始只训练几个字符，但我想稍后在网络中添加更多字符而不影响先前训练的数据的存在。（假设我已经创建了具有足够输出神经元的神经网络以用于附加字符）。如果这是可能的，我该如何使用 encog 来完成这项工作。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:34:04.527

是和不是。如果你训练相同的神经网络来识别新字符，权重 (θ) 肯定会在层之间改变以适应新字符。由于您的 X / Y 值已更改，因此成本函数可能也需要更改以更准确地适应新数据。但是，只要您的错误率在可接受的范围内，您应该没有问题。

另一方面，您*可以*使用 2 个神经网络 - 一个用于您的初始集，另一个用于您的新角色集。Neuroph 允许您将每个神经网络保存到一个文件中，您可以根据需要加载适当的一个。

PS：我在这里假设字符是指“A”/“B”/“C”而不是神经网络变量，例如 x1/x2/x3（网络特征）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-21T04:53:02.670

您可以将神经网络保存到磁盘，稍后使用 Encog 中的 TriningContinuation 类对其进行重新训练。下面是来自 Encog 示例的代码示例。

```
public void TestRPROPContPersistEG()
{
    IMLDataSet trainingSet = XOR.CreateXORDataSet();
    BasicNetwork net1 = XOR.CreateUnTrainedXOR();
    BasicNetwork net2 = XOR.CreateUnTrainedXOR();

    ResilientPropagation rprop1 = new ResilientPropagation(net1, trainingSet);
    ResilientPropagation rprop2 = new ResilientPropagation(net2, trainingSet);

    rprop1.Iteration();
    rprop1.Iteration();

    rprop2.Iteration();
    rprop2.Iteration();

    TrainingContinuation cont = rprop2.Pause();

    EncogDirectoryPersistence.SaveObject(EG_FILENAME, cont);
    TrainingContinuation cont2 = (TrainingContinuation)EncogDirectoryPersistence.LoadObject(EG_FILENAME);

    ResilientPropagation rprop3 = new ResilientPropagation(net2, trainingSet);
    rprop3.Resume(cont2);

    rprop1.Iteration();
    rprop3.Iteration();

    for (int i = 0; i < net1.Flat.Weights.Length; i++)
    {
        Assert.AreEqual(net1.Flat.Weights[i], net2.Flat.Weights[i], 0.0001);
    }
} 
```

# html - td 数据未正确对齐

> ID：13117763
> 
> 赞同：0
> 
> 时间：2012-10-29T07:53:51.760
> 
> 标签：html, css, html-table

我是 Html 设计的新手。我必须使用 html 和 CSS 设计一小部分页面。

![这是我目前正在研究的部分](../Images/838b55fc20124b5e6071beb265bd6922.png)

我有带有登录按钮图像的背景图像。如何开发这个的Html，使其看起来与附图中的形式相同。

直到现在我已经尝试过了，但它看起来很扭曲：

```
<div class="dvEmployee">
    <table border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td>
                <br />
                <span class="EmployeeLable">Enter your employee number to vote </span>
            </td>
        </tr>
        <tr>
            <td>
                <asp:TextBox runat="server" ID="txtEmpID" ValidationGroup="vdLog" CssClass="input"
                    Height="49px" Width="161px" /><br />
                <asp:RequiredFieldValidator ID="rfgEmp" runat="server" ValidationGroup="vdLog" ControlToValidate="txtEmpID"
                    ErrorMessage="Please enter employee number!"></asp:RequiredFieldValidator>
                <asp:Label runat="server" ID="lblError" Text="" CssClass="lblError"></asp:Label>
            </td>
            <td>
                <asp:ImageButton ID="imgBtn" runat="server" ImageUrl="Images/log_in_button.png" ValidationGroup="vdLog"
                    AlternateText="Log In" OnClick="imgBtn_Click" />
            </td>
        </tr>
    </table>
</div> 
```

我制作的 CSS 类：

```
.dvEmployee
{
    background-image: url('images/log_in_window.png');
    background-repeat: no-repeat;
    width: 466px;
    height: 206px;
    position: relative; /* padding: 100px 30px;*/
    margin: 180px 107px;
    z-index: 2000px;
}

.lblError
{
    font: Arial Regular 12pt #000000;
}

.EmployeeLable
{
    font-family: Arial regular;
    font-size: 29pt;
    color: #404040;
    line-height: 17px;
} 
```

只是为了给所有，下图是它目前的样子：

![在此处输入图像描述](../Images/7cf0c5f6989b2b9e3be07cf83bc1fe96.png)

![在此处输入图像描述](../Images/7cf0c5f6989b2b9e3be07cf83bc1fe96.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:54:11.450

使用这个结构：

```
 <table>
    <tr>
        <td colspan="2">
            <br />
            <span class="EmployeeLable">Enter your employee number to vote </span>
        </td>

    </tr>
    <tr>
     <td class="center">
        <asp:TextBox runat="server" ID="txtEmpID" ValidationGroup="vdLog" CssClass="input"
                     Height="49px" Width="161px" /><br />
        <asp:RequiredFieldValidator ID="rfgEmp" runat="server" ValidationGroup="vdLog" ControlToValidate="txtEmpID"
                            ErrorMessage="Please enter employee number!"></asp:RequiredFieldValidator>
        <asp:Label runat="server" ID="lblError" Text="" CssClass="lblError"></asp:Label>
    </td>
    <td class="center">
        <asp:ImageButton ID="imgBtn" runat="server" ImageUrl="Images/log_in_button.png" ValidationGroup="vdLog"
                            AlternateText="Log In" OnClick="imgBtn_Click" />
    </td>
    </tr>
</table> 
```

CSS：

```
.center{
text-align:center;
} 
```

# android - Android 语音到文本的转换：当使用 Android 虚拟键盘通过语音输入说出时，Android 应用程序正在接收重复的单词

> ID：13117764
> 
> 赞同：3
> 
> 时间：2012-10-29T07:53:51.633
> 
> 标签：android, speech-to-text

示例应用程序（步骤）：

1.  没有 EditText 控件的 Android 应用程序。
2.  该应用程序有一个包含文本视图的活动。
3.  在Activity的onCreate()方法中，启动应用时带上虚拟键盘即SoftKeyBoard。
4.  按下虚拟键盘的麦克风（语音输入）按钮。
5.  说“你好吗”。

语音输入的结果：
Android 应用程序在三个迭代中接收上述口语单词，例如
“How”
“are”
“How are you”

这是不正确的。如果你看到了，**“如何”**和**“是”**这两个词在第三次迭代中重复出现。

预期结果：
应用程序应该在三个迭代中接收口语单词，例如
“How”
“are”
“you”

这是示例应用程序代码：

公共类 TestSpeechToText 扩展 Activity {

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_test_url);
    /* Default display keyboard */
    this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_test_url, menu);
    return true;
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    return true;
}

@Override
public boolean onKeyUp(int keyCode, KeyEvent event) {
    return true;
}

@Override
public boolean onKeyMultiple(int keyCode, int count, KeyEvent event) {
    String text = event.getCharacters();
    Log.d("Testing", "Text is " + event.toString());
    return true;
} 
```

}

在这种情况下，重写方法 onKeyMultiple() 被调用三次，文本为“How”、“are”和“How are you”

注意：
1.没有EditText控件
2.xml布局只包含一个Text View

有人知道这个问题吗？如果是，如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-07T18:10:09.430

我做了一个解决方法来获取单个单词并跳过重复的句子：

```
@Override
public boolean onKeyMultiple(int keyCode, int repeatCount, KeyEvent event) {
    int numOfWords = event.getCharacters().trim().split(" ").length;

    if (numOfWords == 1) {

        // Do your stuff here with event.getCharacters()
    }

    return true;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T09:13:36.040

如果没有 EditText，我会自己进行 Intent 调用，而不是通过 SoftKeyboard。然后你会得到一个包含所有识别单词的数组。纯粹而简单。

```
private void startVoiceRecognitionActivity()
{
    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);
    intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,
            RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);
    intent.putExtra(RecognizerIntent.EXTRA_PROMPT, "Voice recognition Demo...");
    startActivityForResult(intent, REQUEST_CODE);
}

protected void onActivityResult(int requestCode, int resultCode, Intent data)
{
    if (requestCode == REQUEST_CODE && resultCode == RESULT_OK)
    {
        // Populate the wordsList with the String values the recognition engine thought it heard
        ArrayList<String> matches = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);
        // Manipulate your data or do whatever you like with the result
    }
} 
```

# javascript - Javascript：对象不支持方法“冻结”

> ID：13117771
> 
> 赞同：6
> 
> 时间：2012-10-29T07:54:32.710
> 
> 标签：javascript, jquery, internet-explorer-8, internet-explorer-7

我正在尝试在 Javascript 中创建一个枚举。使用的javascript代码是

```
var FeatureName = {
"FEATURE1": 1,
"FEATURE2": 2,
"FEATURE3": 3,
"FEATURE4": 4,
"FEATURE5": 5
}
Object.freeze(FeatureName); 
```

当调用**Object.freeze(FeatureName)**方法时，它适用于除 IE7 和 IE8 之外的所有浏览器。有没有其他选择？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-12-05T22:50:26.030

您可以在您的页面上添加包含[es5-sham](https://github.com/es-shims/es5-shim) “monkey-patch”（只需要包含`es5-sham.min.js`），但重要的是要了解这只会防止错误出现。

不过，它不是真正的 polyfill；来自 Github 上项目的 README：

> **对象冻结**
> 
> 在所有旧引擎上静默失败。这应该没问题，除非您依赖此方法的安全和安保规定，而您不可能在旧引擎中获得这些规定。

如果你想使用 CDN，这个库也可以从[cdnjs获得。](https://cdnjs.com/libraries/es5-shim)

您可以将其包含在这样的代码中*（注意将其限制为 IE 版本 8 和更早版本的标签）*：

```
<!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/es5-shim/4.0.5/es5-sham.min.js" type="text/javascript"></script>
<![endif]--> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-29T08:07:26.857

John Resig 提供了另一种选择。我没有在你提到的浏览器中尝试过。试试看，让我们知道。

[http://ejohn.org/blog/ecmascript-5-objects-and-properties/](http://ejohn.org/blog/ecmascript-5-objects-and-properties/)

```
Object.freeze = function( obj ) {
  var props = Object.getOwnPropertyNames( obj );

  for ( var i = 0; i < props.length; i++ ) {
    var desc = Object.getOwnPropertyDescriptor( obj, props[i] );

    if ( "value" in desc ) {
      desc.writable = false;
    }

     desc.configurable = false;
     Object.defineProperty( obj, props[i], desc );
  }

  return Object.preventExtensions( obj );
}; 
```

# iphone - 如何将多个相同实例的控制器添加到我的 tabBarController？

> ID：13117775
> 
> 赞同：2
> 
> 时间：2012-10-29T07:55:15.757
> 
> 标签：iphone, objective-c, ios, cocoa

我想将多个相同实例的控制器添加到我的 tabBarController。但我不能。添加的数组控制器被视为一个控制器。我应该怎么做？最好的方法是什么？这是我的代码。

```
RootViewController *rootViewController = [[[RootViewController alloc]init]autorelease];
tabBarController = [[[UITabBarController alloc]init]autorelease];
[tabBarController setDelegate:self];
[tabBarController setViewControllers:[NSArray arrayWithObjects:rootViewController,rootViewController,rootViewController,rootViewController,rootViewController,nil] animated:NO]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:59:46.920

你可以试试这个：

```
RootViewController *rootViewController = [[[RootViewController alloc]init]autorelease];
RootViewController *rootViewController2 = [rootViewController retain];
RootViewController *rootViewController3 = [rootViewController retain];

tabBarController = [[[UITabBarController alloc]init]autorelease];
[tabBarController setDelegate:self];
    [tabBarController setViewControllers:[NSArray arrayWithObjects:rootViewController, rootViewController2, rootViewController3, nil] animated:NO]; 
```

# macos - 开发 OpenGL 代码时如何阻止 OS X 重启

> ID：13117777
> 
> 赞同：1
> 
> 时间：2012-10-29T07:55:30.823
> 
> 标签：macos, opengl

我目前正在使用 Sandybridge 图形芯片的 2011 13" MacBook Pro 上编写 OpenGL 渲染器。

我发现在开发 OpenGL 代码时遇到了很多内核恐慌和重启。通常，每当我遇到错误时，我的系统只是重新启动，而不是让我有机会捕获错误并检索错误代码。

我知道它与图形驱动程序有关，因为在重新启动时显示的结果问题报告应用程序将其识别为崩溃的实体。

具体问题似乎与纹理创建密切相关。显然我的代码中有一些错误，但无论如何，这真的不应该在像 OpenGL 这样的高级 API 下重新启动操作系统。

OS X 是否具有我可能启用的任何调试模式功能，类似于 D3D 的功能，以便我可以更早地发现错误，而不必使用俄罗斯轮盘赌调试？

（我知道 OpenGL 分析器、驱动程序监视器等，但在使用这些工具来捕获这类问题方面收效甚微）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T04:52:30.393

正如您所提到的，OpenGL Profiler 是要使用的工具。您至少应该选中标记为“VAR 错误中断”和“线程错误中断”的框。如果您遇到问题，请告诉我，我可能会提供帮助。（我不是专家，但有一些运气。）

除此之外，您看到的崩溃可能与您提供指向 OpenGL 的指针有关，并且它试图从该指针读取或写入内存，但指针错误（或数据长度错误）。如果它与纹理相关，那么您可能正在尝试上传或下载纹理并传递了错误的宽度和高度，或者格式错误。我已经看到将不正确数量的元素传递给 glDrawElements() 时会发生这种情况。当它发生在我身上时，我对“元素”是顶点还是实际对象（如 QUAD 或 TRIANGLE）感到困惑。VAR 错误报告帮助我找到了这个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T14:42:32.353

只是为了让任何寻找的人回到这个......事实证明，这个问题完全与未能设置当前上下文有关，因为不同的线程开始发出 OpenGL 命令。

因此，每个线程都需要锁定一个互斥体，设置 open gl 上下文，然后开始其工作。然后它会释放上下文，然后释放锁，保证对一个 OpenGL 上下文的非同时访问。

因此，这里并没有真正未知的行为，只是一个没有完全执行指南的没有经验的新手。:-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T02:02:44.613

其他人则用潜在的解决方法做出了回应。但请注意，您的应用程序永远不会导致机器恐慌（现在只是重新启动机器并显示一个对话框以将报告提交给 Apple）。

至少，您应该将报告发送给 Apple。此外，您应该在[http://bugreport.apple.com](http://bugreport.apple.com)提交错误报告，包括恐慌日志、系统分析器报告以及您可以提供的有关如何重现的任何详细信息（理想情况下，示例应用程序二进制文件和/或源代码） ）。提交您自己的错误报告将在许多方面有所帮助——确定您的错误的优先级（重复颠簸优先级），提供重现步骤以防问题和修复在恐慌报告中的回溯中不明显，并在您和 Apple 之间打开一个通道以防他们需要您提供更多信息来追踪它。

# drupal - 在 drupal 7 中实现 gconnect 模块时 Chrome 上的错误

> ID：13117781
> 
> 赞同：2
> 
> 时间：2012-10-29T07:55:38.790
> 
> 标签：drupal, drupal-7, drupal-modules

我正在使用此模块从 Gmail 连接到我的网站，它在 firefox 上运行良好，但在 chrome 上，按钮（使用 Google 登录）没有出现..

如果我去控制台，我在文件上发现了一个 javascript 错误：

```
(http://localhost/mysite/sites/all/modules/gconnect/git-for-drupal.js?o) on the line 6:
Uncaught TypeError: Cannot read property 'config' of undefined 
```

我也收到`Importer.js on line 2035: uncaught syntaxerror unexpected`标识符错误

请帮助解决这个问题，[http://drupal.org/node/1807348](http://drupal.org/node/1807348)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-01T00:51:07.110

它发生在我的 drupal 中，我在下面安装了一个 Jquery 更新模块链接，并更改了我的 jquery 版本，它工作得很好。我认为默认的drupal jquery 版本是1.4。

[https://www.drupal.org/project/jquery_update](https://www.drupal.org/project/jquery_update)

此外，如果您需要使用 jquery 的浏览器功能，您必须在文件中添加额外的 js。

jQuery.browser() 已移除 jQuery.browser() 方法自 jQuery 1.3 起已被弃用，并在 1.9 中被移除。如果你还需要这个功能，你可以从：[https](https://github.com/gabceb/jquery-browser-plugin) ://github.com/gabceb/jquery-browser-plugin 获取一个js文件并将js链接到你的文件。

# ruby - 在 File.read 中使用变量？

> ID：13117786
> 
> 赞同：-1
> 
> 时间：2012-10-29T07:56:05.983
> 
> 标签：ruby, json

尝试读取名称的文本文件，然后使用 File.read。但我得到一个没有这样的文件或目录错误，如下所示：

```
# Read names.txt and create array - THIS PART WORKS
names = []
File.read('names.txt').each_line do |line|
    names << line.chop!
    end

# For first name in array, do this: - DOESN'T WORK = NO SUCH FILE OR DIRECTORY #{names[0]}.json

json = File.read('#{names[0]}.json')

puts json 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T07:58:12.680

您正在使用单引号字符串。它不做插值。使用双引号。

```
json = File.read("#{names[0]}.json") 
```

# c++ - C++中的多线程矩阵乘法

> ID：13117790
> 
> 赞同：0
> 
> 时间：2012-10-29T07:56:24.317
> 
> 标签：c++, multithreading, posix

我一直在使用这个并行矩阵乘法代码时遇到问题，尝试访问结构中的数据成员时一直出错。

这是我的主要功能：

```
struct arg_struct
{
  int* arg1;
  int* arg2;
  int arg3;
  int* arg4;
};

int main()
{
  pthread_t allthreads[4];
  int A [N*N];
  int B [N*N];
  int C [N*N];
  randomMatrix(A);
  randomMatrix(B);
  printMatrix(A);
  printMatrix(B);
  struct arg_struct *args = (arg_struct*)malloc(sizeof(struct arg_struct));
  args.arg1 = A;
  args.arg2 = B;
  int x;
  for (int i = 0; i < 4; i++)
  {
     args.arg3 = i;
     args.arg4 = C;
     x = pthread_create(&allthreads[i], NULL, &matrixMultiplication, (void*)args); 
     if(x!=0)
     exit(1);
  }

  return 0;
} 
```

以及从另一个 C 文件中使用的 matrixMultiplication 方法：

```
void *matrixMultiplication(void* arguments)
{
     struct arg_struct* args = (struct arg_struct*) arguments;
     int block = args.arg3;
     int* A = args.arg1;
     int* B = args.arg2;
     int* C = args->arg4;
     free(args);
     int startln = getStartLineFromBlock(block);
     int startcol = getStartColumnFromBlock(block);
     for (int i = startln; i < startln+(N/2); i++)
     {
        for (int j = startcol; j < startcol+(N/2); j++)
        {
          setMatrixValue(C,0,i,j);
          for(int k = 0; k < N; k++)
          {
             C[i*N+j] += (getMatrixValue(A,i,k) * getMatrixValue(B,k,j));
             usleep(1);
          } 
        }
     }
} 
```

我遇到的另一个错误是在创建线程时：“从 'void ( *)(int* , int*, int, int*)' 到 'void* ( *)(void* )' [-fpermissive] 的无效转换”

谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:01:39.170

首先，您将 C 和 C++ 混合得非常糟糕，要么使用普通 C，要么使用 C++，在 C++ 中，您可以简单地使用`new`and `delete`。

但是您的错误原因是您`arg_struct`在一个地方分配并在 4 个线程中释放它。您应该`arg_struct`为每个线程分配一个

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T08:16:54.023

大老板在他发现问题的意义上是正确的，但要添加/增强他所做的答复。

**选项 1：** 只需在循环中创建一个 arg_struct 并设置成员，然后将其传递：

```
for(...)
{
    struct arg_struct *args = (arg_struct*)malloc(sizeof(struct arg_struct)); 
    args->arg1 = A;
    args->arg2 = B;    //set up args as now...
    ...
    x = pthread_create(&allthreads[i], NULL, &matrixMultiplication, (void*)args);
    ....
} 
```

将`free`调用保留在线程中，但现在您可以直接使用传递的结构，而不是在线程中创建局部变量。

**选项2：** 看起来您无论如何都想将结构内部的参数复制到线程，因此您不需要动态分配。

只需创建一个 arg_struct 并设置成员，然后将其传递：

```
arg_struct args;
//set up args as now...
for(...)
{
   ...
   x = pthread_create(&allthreads[i], NULL, &matrixMultiplication, (void*)&args);
} 
```

然后删除`free`呼叫。

**但是，正如詹姆斯指出的那样，您需要在结构上的线程/父级中进行同步，以确保它没有被更改。这将意味着 Mutex 或其他一些机制。因此，将分配转移到 for 循环可能更容易开始。**

第2部分：

我正在 Windows 上工作（所以我目前无法进行实验），但 pthread_create 参数 3 指的是线程函数 matrixMultiplication ，它被定义为`void* matrixMultiplication( void* );`- 从联机手册页中我看起来是正确的（签名明智），`void* fn (void* )`

我想我将不得不在你的第二个错误上听从别人的意见。将此帖子设为社区 wiki 条目，因此如果需要，可以将答案放入其中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T10:25:16.123

我不清楚你想做什么。您启动一些线程，然后`main`在从它们获得任何结果之前从（退出进程）返回。

在这种情况下，我可能*不会*直接使用任何动态分配。（我会使用`std::vector`矩阵，它会在内部使用动态分配。）没有理由动态分配 `arg_struct`，因为它可以安全地复制。当然，您必须等到每个线程成功提取其数据后，才能循环构造下一个线程。这通常使用条件来完成：一旦新线程从 中提取参数，新线程将解除阻塞条件`arg_struct`（或者更好的是，您可以使用`boost::thread`，它会为您完成这部分）。或者，您可以使用 的数组`arg_struct`，但绝对没有理由动态分配它们。（如果由于某种原因您不能使用 `std::vector`for `A`，`B`并且`C`，您*将*希望动态分配这些，以避免堆栈溢出的任何风险。但这 `std::vector`是一个更好的解决方案。）

最后，当然，您必须等待所有线程完成后才能离开`main`。否则，线程将继续处理不再存在的数据。在这种情况下，您应该 `pthread_join`在退出之前的所有线程`main`。据推测，您也想对乘法的结果做一些事情，但无论如何，`main`在所有线程完成访问矩阵之前退出将导致未定义的行为。

# c - msync 没有真正将内存同步到文件

> ID：13117791
> 
> 赞同：1
> 
> 时间：2012-10-29T07:56:26.453
> 
> 标签：c, linux

我正在编写一个简单的 C 程序来反转文件中的字节（仅用于学习目的）。我正在打开我的文件，将其映射到内存中并反转字节顺序。所以第一个变成最后一个，最后一个变成第一个，依此类推。
在内存中一切正常（用gdb检查）但是当我同步和取消映射内存时，驱动器上的文件没有改变（字节顺序相同，没有颠倒）。
最糟糕的是，我在运行程序时没有出错。
当然，我是文件的所有者，它对我来说是可读可写的。

```
#include <stdio.h>
#include <sys/mman.h>
#include <sys/stat.h>
#include <sys/types.h>
#include <string.h>
#include <fcntl.h>

int main (int argc, char *argv[]){
    int fd_in;
    int i, j;
    char tmp;
    struct stat inode;
    char *addr_in;

    if(argc < 2){
        printf("Usage: %s input\n", argv[0]);
        return -1;
    }

    fd_in = open(argv[1], O_RDWR);

    if(fd_in == -1){
        perror("Error opening file");
        return 2;
    }

    if(fstat(fd_in, &inode)){
        perror("fstat error");
    }

    addr_in = mmap(NULL, inode.st_size, PROT_READ|PROT_WRITE, MAP_SHARED, fd_in, 0);

    if(addr_in == (char*)(-1)){
        perror("Error mapping memory");
        close(fd_in);
        return 2;
    }

    for(i = 0, j = inode.st_size-1; i < inode.st_size ; i++, j--){
        tmp = addr_in[i];
        addr_in[i] = addr_in[j];
        addr_in[j] = tmp;
    }
    if(msync(addr_in, inode.st_size, MS_SYNC) == -1){
        perror("sync error");
        return 2;
    }
    if(munmap(addr_in, inode.st_size) == -1){
        perror("unmap error");
        return 2;
    }
    close(fd_in);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:59:23.617

```
for(i = 0, j = inode.st_size-1; i < inode.st_size ; i++, j--) 
```

应该

```
for(i = 0, j = inode.st_size - 1; i < inode.st_size / 2; i++, j--) 
```

如果你沿着整个数组走，你会颠倒它两次，即基本上什么都不会发生。

# java - 混乱的数组元素

> ID：13117795
> 
> 赞同：0
> 
> 时间：2012-10-29T07:56:32.287
> 
> 标签：java, arrays

我有一个程序，它有一个 String 数组`String options[4]`，它包含一个问题的四个选项。其中一个答案是正确的。根据我的程序逻辑，程序将正确答案放在`options[0]`，并从数据库中随机选择其他三个名称并将它们放在`options[1]`，`[2]`和`[3]`。

我试图更改将选项放置在数组本身中的逻辑，但这使我的程序复杂化，因此选择不这样做。我也尝试使用随机函数来交换两个位置，但是当我在 android java 中编码时，它花费了太多时间，默认情况下，如果随机函数花费太多时间，android os 将停止响应。所以尽可能，我不想使用随机函数。是否有任何其他逻辑或现成的功能可用于混乱数组？我需要一个随机混淆数组中四个选项的代码，如下所示：

```
String options[] = new String[4];
options[0]="Correct Answer";
options[1]="Wrong Answer 1";
options[2]="Wrong Answer 2";
options[3]="Wrong Answer 3";
//here i want the code to jumble 
```

请提供代码..非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T15:19:30.067

这很简单：

```
Collections.shuffle(Arrays.asList(yourArray)); 
```

`Arrays.asList()`提供`List`由提供的数组支持的 a ，因此当`List`shuffle 时，底层（原始）数组也是如此。

看：

*   [`Collections.shuffle(list)`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle%28java.util.List%29)
*   [`Arrays.asList(array)`](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList%28T...%29)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-13T16:55:19.200

您可以使用[Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher-Yates_shuffle)：

```
Random r = new Random();
for(int i = options.length - 1; i > 0; i--){
    int rand = r.nextInt(i);
    String temp = options[i];
    options[i] = options[rand];
    options[rand] = temp;
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-29T08:07:04.707

**编辑**：如评论中所述，忽略此解决方案并使用上面提供的解决方案。

由于您已定义`options`为`String options[]`，我假设您正在使用 Java 进行编码。所以这是Java中的混乱代码：

```
 String options[] = new String[4];
    options[0]="Correct Answer";
    options[1]="Wrong Answer 1";
    options[2]="Wrong Answer 2";
    options[3]="Wrong Answer 3";

    final int jumbleTries = 100;
    Random rand = new Random();

    for(int i = 0; i < jumbleTries; i++)
    {

        int index1 = rand.nextInt(options.length);
        int index2 = rand.nextInt(options.length);

        if (index1 == index2)
            continue;

        String temp = options[index1];
        options[index1] = options[index2];
        options[index2] = temp;
    } 
```

# oracle - 查找数据泵转储文件中使用的表空间

> ID：13117797
> 
> 赞同：5
> 
> 时间：2012-10-29T07:57:21.653
> 
> 标签：oracle, datapump

给定一个 Oracle 数据泵文件，是否可以在不访问原始/源模式的情况下查找/检索使用的表空间？

我尝试使用**strings** Linux 命令，但找不到指示表空间的模式。

任何想法？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-29T08:19:53.793

您可以使用 sqlfile 选项将 DDL 语句转储到文件中。

```
impdp directory=expdir dumpfile=myexp.dmp sqlfile=myddl.sql 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-07-01T12:50:48.057

获取模式名称类似于 -

```
strings myexp.dmp | grep TS_NAME | sed -e 's/.*<TS_NAME>\([^<]*\)<\/TS_NAME>.*/\1/g' | sort -u 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2019-02-17T21:21:03.953

因此导出将在 myexp.dmp 文件中，但有时在同一行中添加以下日志会有所帮助：myexp_log_file.log; 这将提供导出/导入所做的全部范围。

# ruby-on-rails - 如何从数据库中的文本列字段呈现 html？

> ID：13117805
> 
> 赞同：0
> 
> 时间：2012-10-29T07:58:09.473
> 
> 标签：ruby-on-rails, ruby-on-rails-3, email, dynamic-content, html-safe

我在数据库中有一个**TEXT**类型的**welcome_emil**列。

 **我已将保存在列中的以下代码内容保存为：

```
Thanks for Joining in!     \r\n\r\nYou can loginor refer your friends using your %referral_link%." 
```

当我尝试将此代码呈现到发送给用户的电子邮件中时。完整的内容很好，但是

```
 \r\n\r\n 
```

这被省略，所有文本都显示为内联。

这是我使用的代码

```
 <%= p  @company.welcome_email.gsub('%referral_link%',@recipient.referral_link).html_safe %> 
```

这是电子邮件中的屏幕截图

![在此处输入图像描述](../Images/7b4da6269db0a7a6f38924f0af9a9856.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T11:12:18.387

试试这个

```
 <%= @site.welcome_email.gsub(/\n/, '<br/>').html_safe %> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T08:10:48.383

您可以使用 rails 的[simple_format](http://api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#method-i-simple_format)方法，它将行尾转换为`<br>`标签

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T14:04:55.010

我使用[了 GEM REDCARPET](http://rubygems.org/gems/redcarpet)。详情在这里[http://rubygems.org/gems/redcarpet](http://rubygems.org/gems/redcarpet)。

下面的代码对我来说非常好。

```
<% markdown = Redcarpet::Markdown.new(Redcarpet::Render::HTML, :autolink => true, :space_after_headers => true) %>
<% welcome_email = @site.welcome_email.gsub('% referral_link%',@recipient. referral_link) %>
<%= markdown.render(welcome_email).html_safe %> 
```

谢谢。**

# asp.net-mvc - ASP.NET MVC4 的 OpenID 和 OpenAuth SQL 成员资格数据库实现

> ID：13117809
> 
> 赞同：0
> 
> 时间：2012-10-29T07:58:30.357
> 
> 标签：asp.net-mvc, asp.net-mvc-4, oauth, asp.net-membership, openid

我尝试在 ASP.NET MVC4 中使用 OpenId，所以我使用[This Tutorial](http://blogs.msdn.com/b/webdev/archive/2012/09/12/integrate-openauth-openid-with-your-existing-asp-net-application-using-universal-providers.aspx)，正如您在**Database Structure**中看到的那样，我们需要一些额外的表来支持 OpenId 和 OpenAuth，我像往常一样使用

C:\Windows\Microsoft.NET\Framework64\aspnet_regsql.exe

实施会员数据库，

我使用 .NETFramework 4.5 和 MVC 4 安装 Visual Studio 2012，所以我运行`aspnet_regsql.exe`但创建的数据库不包含支持 OpenId 的其他表，那么还有另一种方法来实现这个数据库吗？或者我应该自己添加额外的数据库？如果是的话，如何在代码端实现所需的成员结构？

我认为必须有一种自动方式（像以前一样）来实现成员资格以支持新的 OpenId 功能，您有什么建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:23:35.093

默认情况下，MVC 4 不使用旧的成员资格表，而是使用一个名为 SimpleMembership 的新成员资格系统，它具有非常不同的表结构。您不使用 aspnet_regsql，而是让 SimpleMembership 自动创建表。

如果您使用 MVC 4 生成默认 Internet 应用程序，它会创建启用 openid 和 openauth 所需的所有代码。这是内置在默认示例中的。您链接到的示例适用于通用提供程序。顺便说一下，它们也具有与旧的 SqlMembership 系统不同的表结构。

# android - 当我想恢复最小化通知时，android force 关闭

> ID：13117811
> 
> 赞同：2
> 
> 时间：2012-10-29T07:58:32.400
> 
> 标签：android, android-intent, android-notifications

美好的一天，我最近很难处理 android 通知，所以这是我的问题。我的应用程序所做的是用户将登录，如果成功，它将显示主页。当用户按下后退按钮（从主页）时，它将最小化应用程序并创建通知，而不是返回登录页面。我的问题是，当我按下正在运行的通知（从通知选项卡恢复应用程序）时，它会产生错误。这是我的一些代码

```
public class WelcomeActivity1 extends ListActivity{

private NotificationManager mNM;
    Intent notificationIntent;

protected void onCreate(Bundle savedInstanceState) {
mNM = (NotificationManager)getSystemService(NOTIFICATION_SERVICE);
notificationIntent = new Intent(WelcomeActivity1.this, WelcomeActivity1.class);
}

public boolean onKeyDown(int keyCode, KeyEvent event){
        if(keyCode == KeyEvent.KEYCODE_BACK){
            showMinimized();
            moveTaskToBack(true);
        }

        return super.onKeyDown(keyCode, event);
    }

public void showMinimized(){
CharSequence text = "Zylun Intranet is Minimized";
        Notification notification = new Notification(R.drawable.ic_launcher, text, System.currentTimeMillis());
        PendingIntent contentIntent = PendingIntent.getActivity(WelcomeActivity1.this, 0, new Intent(this,WelcomeActivity1.class), 0);
        notification.setLatestEventInfo(getApplicationContext(), "Zylun Intranet Main", "Running", contentIntent);      
        notification.flags |= Notification.FLAG_AUTO_CANCEL;
        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);
        notificationIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        //notification.flags = Notification.FLAG_ONGOING_EVENT | Notification.FLAG_NO_CLEAR;            
        mNM.notify(1,notification);
}
} 
```

如果有人能告诉我我的代码有什么问题，我将不胜感激。谢谢！

当登录凭据正确时 [http://i.imgur.com/0WROj.jpg?1](http://i.imgur.com/0WROj.jpg?1)

当用户按下后退按钮时最小化应用程序（从主页） [http://i.imgur.com/31yNl.jpg?1](http://i.imgur.com/31yNl.jpg?1)

这是我的错误：

```
 10-29 07:45:01.196: E/AndroidRuntime(733): FATAL EXCEPTION: main
    10-29 07:45:01.196: E/AndroidRuntime(733): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.intranetzylun1/com.app.intranetzylun1.WelcomeActivity1}: java.lang.NullPointerException
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.os.Handler.dispatchMessage(Handler.java:99)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.os.Looper.loop(Looper.java:123)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.app.ActivityThread.main(ActivityThread.java:4627)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at java.lang.reflect.Method.invokeNative(Native Method)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at java.lang.reflect.Method.invoke(Method.java:521)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at dalvik.system.NativeStart.main(Native Method)
    10-29 07:45:01.196: E/AndroidRuntime(733): Caused by: java.lang.NullPointerException
    10-29 07:45:01.196: E/AndroidRuntime(733):  at com.app.intranetzylun1.WelcomeActivity1.onCreate(WelcomeActivity1.java:105)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
    10-29 07:45:01.196: E/AndroidRuntime(733):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:21:01.707

您在. **_** `WelcomeActivity1`这就是您的应用程序崩溃的原因。

另外：没有必要将您的应用程序“缩小”到通知区域，因为 Android 本身会处理应用程序之间的切换。如果用户已登录，您可以在发送到 next之后`LoginActivity`通过调用该方法简单地关闭。`finish()``startIntent``Activity`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T02:53:39.900

改为使用此方法，因此当用户按下后退按钮时，它将显示主页，当用户想要返回应用程序时，他/她只需按住菜单键，将显示最近应用程序的菜单正在使用。

```
public boolean onKeyDown(int keyCode, KeyEvent event){
        if(keyCode == KeyEvent.KEYCODE_BACK){
            //showMinimized();
            moveTaskToBack(true);
        }           
        return super.onKeyDown(keyCode, event);
    } 
```

# jquery - 跨域限制

> ID：13117818
> 
> 赞同：0
> 
> 时间：2012-10-29T07:59:02.437
> 
> 标签：jquery, django

这就是我传递 json 对象的方式`views.py`

```
json_data = json.dumps(filedata, default=lambda obj: obj.__dict__,indent=4)    
return HttpResponse(json_data, mimetype='application/json') 
```

我正在使用 ajax 在 jquery 中读取文件...

```
$.ajax({
   type: "GET",
   url: "http://127.0.0.1:8000/project/defparser/",
   dataType: "jsonp",
   success: function(data) {
       alert('Fetched ' + data.length + ' items!');
   }); 
```

但是它显示一个错误，说浏览器中的数据为空......存在跨域限制问题，因为我正在从独立的html文件访问django服务器文件......如何解决它？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:26:40.847

`getJSON`我相信回调函数应该是第三个参数。

[查看文档。](http://api.jquery.com/jQuery.getJSON/)

但是该示例具有误导性，因为它表明该函数存在 2 个参数版本。

# javascript - Strophe.muc 插件和主干不正确的回调绑定

> ID：13117821
> 
> 赞同：3
> 
> 时间：2012-10-29T07:59:18.210
> 
> 标签：javascript, backbone.js, strophe

在第一组消息之后，strophe.muc 插件不会对以下消息做出反应。我从房间中获得了第一个出席信息、消息和花名册，但所有后续消息和出席信息节都不会触发这些功能。我认为这些行有问题：

```
this.rooms[room].addHandler('message', msg_handler_cb);
this.rooms[room].addHandler('presence', pres_handler_cb);
this.rooms[room].addHandler('roster', roster_cb); 
```

我的代码：

```
 join: function(){
          console.log("joining room");
          var self = this;
          connection.muc.join("room@conference.server", "john", self.onMessage,  self.onPresence, self.onRoster);
      },

    onMessage: function(message){            
          var self = this;       
         var body = $(message).text();
         var from = $(message).attr("from");
         console.log(body);
         console.log(from);
      },
      onPresence: function(presence){
          console.log("onPresence");
          console.log(presence);
      },
      onRoster: function(roster){
          console.log("onRoster");
          console.log(roster);
      }, 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-30T06:03:14.257

希望继续被调用的处理程序应该返回 true。

所以只需附加`return true;`到所有处理程序。

它在文档中提到： http: [//strophe.im/strophejs/doc/1.0.2/files2/strophe-js.html](http://strophe.im/strophejs/doc/1.0.2/files2/strophe-js.html)

# regex - 传递 args 字符串以进行远程执行

> ID：13117824
> 
> 赞同：1
> 
> 时间：2012-10-29T07:59:21.667
> 
> 标签：regex, powershell, params

```
Param(
[alias("sp")]
[string]$script_path,
[alias("a")]
[string]$args,
[alias("u")]
[string]$user_name,
[alias("p")]
[string]$password,
[alias("h")]
[string]$host_name
)
$pass = convertto-securestring $password -asplaintext -force
$mycred = new-object -typename System.Management.Automation.PSCredential -argumentlist $user_name,$pass
if ($args -ne "")
{
$script_path += $args
}
invoke-command -credential $mycred -computername $host_name -filepath $script_path 
```

我使用此脚本远程执行 $script_path 上的其他脚本并尝试将 args 字符串传递为

```
-a "-n:10 -r:'".*?.'" -l:'"blabla string with spaces'"" 
```

但这不是很好的结果。首先，powershell 得到正则表达式模式参数的错误？我如何在参数字符串中传递正则表达式模式？其次，powershell get error in substring contains char "-"。你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:52:17.233

你用反引号转义双引号，而不是用单引号：

```
-a "-n:10 -r:`".*?.`" -l:`"blabla string with spaces`"" 
```

# java - 无法从 Java WebService 连接到 MS Access 数据库

> ID：13117827
> 
> 赞同：1
> 
> 时间：2012-10-29T07:59:29.037
> 
> 标签：java, web-services, ms-access

我正在研究 Web 服务。我已经编写了一个服务器以及一个用于连接到 MSAccess 数据库的客户端。我编写的服务器有一个 webmethod，它给出了异常：

> 'java.sql.SQLException: [Microsoft] [ODBC Microsoft Access Driver] 找不到文件'（未知）'。

但是当我执行一个 Java 程序连接到 MS Access 数据库时，它是成功连接的。有什么问题？请帮帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:47:16.463

运行 Java 应用程序时，您是否使用与 Web 服务器相同的用户帐户？如果没有，那么可能是权限问题，您的 Java 应用程序用户有权访问所有文件，但 Web 服务器没有所需的所有权限。

# jenkins - 完成其他一些后开始构建

> ID：13117828
> 
> 赞同：0
> 
> 时间：2012-10-29T07:59:35.360
> 
> 标签：jenkins

我们有一些构建在一种树结构中相互依赖：

*   一个
    *   AA
    *   AB
        *   ABA
    *   交流电
*   乙
    *   文学学士
    *   BB
        *   工商管理学士
            *   BBAA
                *   BBAAA
            *   BBAB
*   C

...

**如果所有**这些构建都已完成，则应触发另一个构建。不幸的是，不能说哪个构建将始终是最后一个完成使用它来触发以下任务的构建。

**当构建列表的每个**构建完成时，是否有机会（可能是插件）允许触发新构建？

提前致谢！坦率

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T12:37:33.413

看看加入插件：

[https://wiki.jenkins-ci.org/display/JENKINS/Join+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Join+Plugin)

> 此插件允许在所有直接下游作业完成后运行作业。这样，执行可以分支并并行执行许多步骤，然后在所有并行工作完成后只运行一次最终聚合步骤。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-28T22:01:36.470

虽然这是一个老问题，但您可能会考虑使用 Build Flow Plugin 完全重构您的构建管道

[https://wiki.jenkins-ci.org/display/JENKINS/Build+Flow+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Build+Flow+Plugin)

它将具有将管道逻辑保存在一个位置的优势。

# android - Toshiba Thrive 选项卡上出现 android.os.NetworkOnMainThreadException，但三星 Duos 智能手机上没有

> ID：13117829
> 
> 赞同：1
> 
> 时间：2012-10-29T07:59:42.930
> 
> 标签：android, exception, tabs, smartphone

在“onCreate”方法中，我有一行代码，

```
Drawable.createFromStream(((java.io.InputStream) new java.net.URL(url).getContent()), ""); 
```

当我在智能手机（Samsung Duos）上运行它时，它运行良好。但是当我在东芝 Thrive 平板电脑上运行它时，我得到了`"android.os.NetworkOnMainThreadException"`异常。
为什么会这样？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T08:01:47.927

在较新版本的 Android`3.0`中，您无法在主 UI 线程上运行网络活动。那些会被自动杀死，因为无论如何它都会导致糟糕的用户体验。

> 当应用程序尝试在其主线程上执行网络操作时引发的异常。
> 
> 这仅针对面向 Honeycomb SDK 或更高版本的应用程序抛出。允许以早期 SDK 版本为目标的应用程序在其主事件循环线程上进行网络连接，但非常不鼓励这样做。

**[NetworkOnMainThreadException](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)**

在不同的线程上运行它，也许使用[**AsyncTask**](http://developer.android.com/reference/android/os/AsyncTask.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:00:53.830

[NetworkOnMainThreadException](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)将出现在 android OS >=3.0

[所以总是在AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)中运行你的网络请求

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T08:30:31.113

```
 private class BackgroundLoginTask extends
AsyncTask<InputStream, Void, Boolean> {        

    @Override
    protected void onPreExecute() {

        // do something before..

        // Disable the UI-Elements during the login progress

        pbar.setVisibility(View.VISIBLE);
        editPassword.setEnabled(false);
        editUsername.setEnabled(false);
        btnLogin.setEnabled(false);

    }

    @Override
    protected Boolean doInBackground(final InputStream... params) {

        //do the network access
    }

    @Override
    protected void onPostExecute(final Boolean parsingError) {

        // enable the UI-Elements when the login was successful
        editPassword.setEnabled(true);
        editUsername.setEnabled(true);
        btnLogin.setEnabled(true);

        // hide the progress bar
        pbar.setVisibility(View.INVISIBLE);
    }
} 
```

在这个小例子中，您可以看到 AsyncTask 是如何工作的。您可以覆盖 3 种方法。有一个是在你启动后台进程之前调用的，一个是访问权限，第三个是在你完成后台进程之后调用的。在我的示例中，我禁用 UI 元素并在进行网络访问之前显示进度条。访问后，我启用 UI 元素并禁用 onPostExecute 方法中的进度条。

在以下代码片段中，您可以看到如何调用 AsyncTask。

```
public final void login(final View view) {
    BackgroundLoginTask task = new BackgroundLoginTask();
    task.execute();
} 
```

我希望这个例子可以帮助你。

# svn - SVN 导出有时会返回错误 E160013 “找不到路径”

> ID：13117831
> 
> 赞同：5
> 
> 时间：2012-10-29T07:59:46.627
> 
> 标签：svn

使用 svn.exe 导出文件路径已更改的旧版本 - 我得到 E160013“找不到路径” - 但是当我使用 Tortoise repo-browser 到那个旧版本时，我可以清楚地看到旧路径中的文件。

如何使用命令行从路径已更改的旧版本中导出文件？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-02T16:33:28.823

你用了`svn export -r<RRR> <url>`吗？改为使用`svn export <url>@<RRR>`。

# jsf-2 - Can @ManagedPropery and @PostConstruct be placed in a base class?

> ID：13117839
> 
> 赞同：5
> 
> 时间：2012-10-29T08:00:34.490
> 
> 标签：jsf-2, subclass, managed-bean, postconstruct, managed-property

I'm using a hierarchy of classes and what I would optimally try to do is have `@ManagedBean`'s that inherit a class that have `@ManagedProperty` members and `@PostConstruct` methods.

Specifically, will this work? :

```
public class A {

    @ManagedProperty
    private C c;

    @PostConstruct
    public void init() {
        // Do some initialization stuff
    }

    public C getC() {
        return c;
    }

    public void setC(C c) {
        this.c = c;
    }
}

@ManagedBean
@SessionScoped
public class B extends A {
    // Content...
} 
```

Thanks in Advance!

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-29T11:54:31.190

`@ManagedProperty`是继承的，并且会以这种方式工作。也将`@PostConstruct`被继承，前提是子类本身没有`@PostConstruct`方法。即只能有一个。因此，如果子类本身具有`@PostConstruct`，则不会调用超类。

因此，如果您`@PostConstruct`在子类中覆盖 ，那么您需要显式调用超类的。

```
public class SuperBean {

    @PostConstruct
    public void init() {
        // ...
    }

} 
```

```
@ManagedBean
public class SubBean extends SuperBean {

    @PostConstruct
    public void init() {
        super.init();
        // ...
    }

} 
```

或者，提供子类必须实现的抽象方法（不带`@PostConstruct`！）。

```
public class SuperBean {

    @PostConstruct
    public void superInit() {
        // ...
        init();
    }

    public abstract void init();

} 
```

```
@ManagedBean
public class SubBean extends SuperBean {

    @Override
    public void init() {
        // ...
    }

} 
```

# sql - Get instance name from data source name

> ID：13117841
> 
> 赞同：0
> 
> 时间：2012-10-29T08:00:37.873
> 
> 标签：sql, c, sql-server, windows, odbc

I'm using [SQLDriverConnect](http://msdn.microsoft.com/en-us/library/windows/desktop/ms715433%28v=vs.85%29.aspx) function to connect to database. In connection string I can specify ODBC pre-configured data source name (DSN), function resolves necessary attributes and all works fine. But after successful connection I need to get instance name to which I have connected or connection port (because there can be several instances of mssql running on server). How can I implement this?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:03:02.090

~~Run the following query on your connection:~~

 ~~```
select @@SERVERNAME 
```~~ 

~~This will return the server and instance name~~

The preferred form is apparently to use [`SERVERPROPERY`](http://msdn.microsoft.com/en-us/library/ms174396.aspx):

```
SELECT SERVERPROPERTY('ServerName') 
```

which will return the server and instance name, and, unlike [`@@SERVERNAME`](http://msdn.microsoft.com/en-us/library/ms187944.aspx), correctly returns results if the server has been renamed.

# android - 如何让这个标签图像占据整个区域

> ID：13117848
> 
> 赞同：0
> 
> 时间：2012-10-29T08:01:27.833
> 
> 标签：android, tabs

![在此处输入图像描述](../Images/670e55ba59ba80e5685d432fa8d97eff.png)

在这张照片中，我试图让图像占据整个黑色的顶部和底部区域。我在这里查看了这些链接，但到目前为止我没有任何运气：

[http://joshclemm.com/blog/?p=136](http://joshclemm.com/blog/?p=136)

[Android删除tabwidget中选项卡之间的空间](https://stackoverflow.com/questions/5799320/android-remove-space-between-tabs-in-tabwidget/5804436#5804436)

[如何更改 TabHost 中的选项卡图像](https://stackoverflow.com/questions/4507718/how-to-change-the-tabs-images-in-the-tabhost-in-android)

编码：

主要活动：

```
// Add the Tabs/////////////////////////////////////////////
    th = (TabHost) findViewById(R.id.tabhost);
    th.setup();

    specs = th.newTabSpec("tag1");
    specs.setContent(R.id.tab1);
    specs.setIndicator("", getResources().getDrawable(R.drawable.b_news));
    th.addTab(specs);

    specs = th.newTabSpec("tag2");
    specs.setContent(R.id.tab2);
    specs.setIndicator("Library");
    th.addTab(specs);

    specs = th.newTabSpec("tag3");
    specs.setContent(R.id.tab3);
    specs.setIndicator("Community");
    th.addTab(specs); 
```

main_activity.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<TabHost
    android:id="@+id/tabhost"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:background="#ffffff" >

            <LinearLayout
                android:id="@+id/tab1"
                android:layout_width="match_parent"
                android:layout_height="match_parent">

                <WebView
                    android:id="@+id/webView1"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent" />
            </LinearLayout>

            <LinearLayout
                android:id="@+id/tab2"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:background="#000000" >

                <ListView
                    android:id="@+id/libraryListView"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    tools:ignore="InefficientWeight" >
                </ListView>
            </LinearLayout>

            <LinearLayout
                android:id="@+id/tab3"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:background="#000000" >

                <ListView
                    android:id="@+id/communityListView"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    tools:ignore="InefficientWeight" >
                </ListView>
            </LinearLayout>
        </FrameLayout>

        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="-4dp"
            android:layout_weight="0" >
        </TabWidget>
    </LinearLayout>
</TabHost>

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-27T12:45:43.777

```
 LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(
            LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
    params.weight = 1.0f;
    params.gravity = Gravity.CENTER;

    mTabHost.getTabWidget().getChildAt(0).setLayoutParams(params);
    mTabHost.getTabWidget().getChildAt(1).setLayoutParams(params);
    mTabHost.getTabWidget().getChildAt(2).setLayoutParams(params);
    mTabHost.getTabWidget().getChildAt(3).setLayoutParams(params); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-31T13:24:51.783

答案在我提供的链接中。我只需要多看一点。

# java - Is a static final char[] thread safe?

> ID：13117849
> 
> 赞同：8
> 
> 时间：2012-10-29T08:01:37.423
> 
> 标签：java, multithreading

So if I have

```
private static final char[] SOME_CHARS; 
```

Is that thread safe? By that I mean if I have multiple threads referring to the chars in that array (but not changing them), will anything go wrong?

e.g.

```
private class someThread extends Thread(){

   public void run(){
     for(int i = 0; i < someIndexInSomeChars;i++){
        System.out.println(SOME_CHARS[i]);
     }
} 
```

In other words do I need to put the char[] into some sort of Java collection with thread support?

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-29T08:02:40.007

If you don't change them after initialization, it should be fine. (Note that this relies on it being a `static final` variable - the way that classes are initialized will ensure that all threads see the initialized array reference correctly.)

Arrays are safe to read from multiple threads. You could even write from multiple threads if you didn't mind seeing stale results - you wouldn't end up "corrupting" the collection itself. (Unlike many other collections, you can't change the size of an array anyway... there's no state to modify other than the elements themselves.)

# java - Are the souces to the Android Java compiler available?

> ID：13117854
> 
> 赞同：0
> 
> 时间：2012-10-29T08:01:53.610
> 
> 标签：java, android

I'd like to do some Apps for Android tablets but the only language I can find that can be used is Java and it doesn't support the data types that I need (mainly complex numbers).

Even worse, it doesn't even appear to support operator overloading, so I can't even create a pseudo data type.

I have decades worth of scientific and mathematical algorithms with thousands of complex equations that I would like to move over to Android but the compiler is a real sticking point.

I reckon it would be quicker for me to modify the compiler than it would be to try and unravel the equations and convert them to reverse polish suitable for function calls.

I know the sources for Android itself are available but is the compiler ?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:06:40.073

If you mean the Dalvik engine, I think that's not open source. But regarding your actual problem, you can always use Android's [NDK](http://developer.android.com/tools/sdk/ndk/index.html) to use native code languages such as C or C++.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T08:19:51.357

Android 是完全开源的，包括它的 JVM 引擎 Dalvik。

但是，尝试更改编译器或 JVM 不会让您有任何收获——您根本无法更改目前在数百万 Android 设备上运行的内容。

现在，如果您想创建可以在数百万台设备上运行的软件，您别无选择，只能调整您的软件。如果您需要处理复数，唯一成功的方法是创建您自己的 Complex 类库并更改您的其他数字库以使用它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T08:09:26.950

您将无法执行此操作，因为 Java 是一种解释和编译语言，并且解释器在设备上运行。因此，即使您确实修改了编译器以添加您需要的内容，您运行的任何设备都不会知道发生了什么。

相反，您可以：

1.  使用支持 C 和 C++的[Android NDK](http://developer.android.com/tools/sdk/ndk/index.html)
2.  修改您的算法以在 Java 中工作

另外，请记住，Android 使用[Dalvik VM](http://code.google.com/p/dalvik/)，而不是 Java VM，虽然它是开源的，但如果不编写自定义 ROM，您将无法将修改推送到目标设备。

# jqplot - Why my JQPlot chart cannot refresh with a new dataset?

> ID：13117855
> 
> 赞同：1
> 
> 时间：2012-10-29T08:02:12.980
> 
> 标签：jqplot

I'm a new in jqplot. Today I attempted to refresh a created line jqplot chart as the guidance from [http://jsfiddle.net/fracu/HrZcj/](http://jsfiddle.net/fracu/HrZcj/).

First, I create a jqplot chart with a array of data, following is the code fragment:

```
 var colors = ['red', 'blue', 'green'];
            var dataset = [[232,234,235,556,233],[234,563,234,866,345],[234,564,567,345,234]];
            var lengeds = [{label: 'Test'}, {label: 'Upper'}, {label: 'Lower'}];
            var analysisLabels = [[1, "Label1"], [2, "Label2"], [3, "Label3"], [4, "Label4"], [5, "Label5"]];

            chart = $.jqplot("chart_id", 
                    dataset,
                    {
                        title: 'Sample Chart',
                        legend: {
                            show: true,
                            placement: 'outsideGrid'
                        },
                        series: lengeds,
                        axes: {
                           xaxis: {
                               ticks: analysisLabels,
                               tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                               tickOptions: {
                                   angle: -30
                               }
                           },
                           yaxis: {
                               label: 'Fuel',
                               labelRenderer: $.jqplot.CanvasAxisLabelRenderer
                           }
                        },
                        seriesColors: colors,
                        highlighter: { 
                            show: true 
                        },
                        cursor: {
                            show: false
                        }
                    }
                ); 
```

And then I intend to refresh it with a newly created dataset like this:

```
chart.series[0].data = chartSeriesTimes[0];
chart.series[1].data = chartSeriesTimes[1];
chart.series[2].data = chartSeriesTimes[2];

//chart.resetAxesScale();
chart.replot(); 
```

Chart displays nothing after the above code running, in other words, 3 formerly created curve lines are removed but newly added 3 curve dataset do not render.

I don't know why this happens since I do it follow official examples. Can anybody who good at jqplot gives me guidance. Thanks a lot.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:43:03.650

您不需要括号 [] 来放置数据集吗？

```
 chart = $.jqplot("chart_id", 
                [dataset],
                {
                    title: 'Sample Chart',
                    legend: {
                        show: true,
                        placement: 'outsideGrid'
                    },
                    series: lengeds,
                    axes: {
                       xaxis: {
                           ticks: analysisLabels,
                           tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                           tickOptions: {
                               angle: -30
                           }
                       },
                       yaxis: {
                           label: 'Fuel',
                           labelRenderer: $.jqplot.CanvasAxisLabelRenderer
                       }
                    },
                    seriesColors: colors,
                    highlighter: { 
                        show: true 
                    },
                    cursor: {
                        show: false
                    }
                } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T02:51:35.407

即使我不确定这种方式是否最好，我也解决了这个问题：如果它存在，则在刷新它之前将其销毁。

```
if (chart) {
    chart.destroy();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-12T18:57:02.930

```
if (chart) {
    chart.replot();
} 
```

# ios - instantiating a new xib programmatically

> ID：13117863
> 
> 赞同：0
> 
> 时间：2012-10-29T08:03:05.330
> 
> 标签：ios, objective-c, uiviewcontroller

On clicking button below code is called, but my weeklyReviewViewController.xib is not loading but the application is logging out onto the initial view controller.

```
if(buttonIndex == 0){
    NSLog(@"0");
    [self.viewController initWithNibName:@"WeeklyReviewViewController" bundle:nil];
    navcnt = [[UINavigationController alloc] initWithRootViewController:self.viewController];
    NSLog(@"navigation controller %@",navcnt);
    notificationCounter = YES;
    self.window.rootViewController = navcnt;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T08:05:30.607

请检查 self.viewController 的类型是否与 WeeklyReviewViewController 的类型相同。

# windows-7 - “cmd.exe /k pushd %L”不再运行

> ID：13117864
> 
> 赞同：1
> 
> 时间：2012-10-29T08:03:08.017
> 
> 标签：windows-7, dos, explorer

多年来，我拥有以下注册表项，因此我可以通过右键单击资源管理器的目录来打开 DOS-Box。

```
[HKEY_CLASSES_ROOT\Folder\shell\DOS-Prompt]
"command"="cmd.exe /k pushd %L" 
```

它确实运行到上周。现在，我变成了下面的消息，找不到原因。

```
This file does not have a program associated with it for performing this action. 
```

或德语

```
Der Datei ist kein Programm zum Ausführen dieser Aktion zugeordnet. 
```

程序 cmd.exe 在我的 C:\windows\system32 中。我有一个 Windows 7，因此可以使用 SHIFT+右键单击进行相同的操作。但是我的直接链接确实运行了……为什么不再运行了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T04:33:33.143

注册表设置不正确。它应该如下所示。

```
[HKEY_CLASSES_ROOT\Folder\shell\DOS-Prompt\command]
@="cmd.exe /k pushd %L" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-23T06:24:17.780

`/s`如果文件夹名称包含空格，请使用。

```
 [HKEY_CLASSES_ROOT\Folder\shell\DOS-Prompt\command]
 @="cmd.exe /s /k pushd %L" 
```

# build - Gradle：ant的buildnumber对应的是什么

> ID：13117870
> 
> 赞同：5
> 
> 时间：2012-10-29T08:04:29.227
> 
> 标签：build, gradle

我一直在尝试将 ant 脚本迁移到 gradle，但到目前为止还没有找到 gradle 与 ant 的对应物，`<buildnumber/>`它是构建过程中使用的自动递增数字。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:21:49.320

Gradle 没有对应的`<buildnumber/>`，但您始终可以使用 Ant 任务。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-02-11T18:20:46.073

如果有其他像我这样的菜鸟不知道如何执行 ant 目标并访问它们的属性，这里有一个例子：

```
jar.doFirst {
  ant.buildnumber()
  manifest {
    attributes{
      'Implementation-Version': ant.antProject.properties['build.number']
    )
  }
} 
```

# php - allow php software run in not more than 3 computes

> ID：13117871
> 
> 赞同：2
> 
> 时间：2012-10-29T08:04:36.203
> 
> 标签：php, mysql, copy-protection

I developed an inventory software in raw php. This is to be downloaded by the clients. And they will install xampp and use the software by placing the folder inside htdocs. Now, I am stuck in one section. I want downloaded software would be run on one computer only (maximum on 3 computers). Is there any way in php to protect the software run in more than 3 computers?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:13:00.693

一个集中的 mysql 服务器，您可以在其中跟踪谁在运行软件、会话 ID 或用户名/密码，但这确实不是解决方案，因为如果用户可以访问 php 代码，他们总是可以修改它。你当然可以混淆它，不知道它有多安全.. 最好的解决方案，与公司签订合同并监控数据库和 php 文件以进行回火。+ 许可软件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:28:00.253

一开始，该软件可能无法使用，直到用户激活它。激活可以通过网络服务完成。一旦软件被激活，您的客户就可以开始使用它。该服务可以跟踪每个客户进行了多少次激活（每台计算机一次）。一旦达到阈值，您将不允许进一步激活。

请记住，如果客户聘请 PHP 程序员，他们将能够更改您的代码。因此，您仍然需要像其他人建议的那样获得适当的许可。

如果每个客户端都有一个软件实例，而用户只需通过浏览器连接到它，那就更好了。无论是在您的服务器上、他们的内部服务器上还是在您管理的某个 3rd 方服务器上。

# php - PHP Rotate and adding to an array

> ID：13117872
> 
> 赞同：-1
> 
> 时间：2012-10-29T08:04:37.060
> 
> 标签：php, mysql, sql, arrays

Is it possible to do something like the following in PHO

I return an array from my DB that looks like the following

1, 2 ,3 now i want to add a forth number to it and then resort them so

```
1 becomes 5
2 becomes 1
3 becomes 2
Fourth Number becomes 3 
```

or is there a away to rearrange my table so it rotates. What i am trying to do is rotate and return a row in the database in order but once it has been returned i want to my page i want to get a user to enter another row into my database and then put the row that had been returned to the end so it would have the highest value.

I am basically updating my column by subtracting one from all entries and increaseing my first entry to the highest number

```
a. 1,2,3
b. 4,1,2,3
c. 3,5,1,2,4
d. 2,4,6,1,3,5 
```

Hmmmm I dont think what i am saying is exacty what i am looking for or maybe someone understands what i am trying to say so i wont change it.

Or if i could use a auto incremented key starting at 1 and just rearrange all the data in the other columns would work.

So do this 1\. Count the number of row 2\. Return an array with all database table entries 2\. Add a new entry to the database on the last row. 3\. Move the entry in 1 to the number of rows +1 (creating a new row 4\. Move all other entries up one.

so here is is

```
1 -> a
2 -> b
3 -> c 
```

after adding another row

```
1 -> b
2 -> c
3 -> d
4 -> a 
```

After adding another row

```
1 -> c 
2 -> d 
3 -> a 
4 -> e
5 -> b 
```

After adding another row

```
1 -> d
2 -> a
3 -> e
4 -> b
5 -> f
5 -> c 
```

After adding another row

```
1 -> a
2 -> e
3 -> b
4 -> f
5 -> c
5 -> g
5 -> d 
```

WHO can come up with a solution for me?????

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:08:41.253

尝试

```
$arr = array('a','b','c');
$value = 'd';
$arr = my_sort($arr, $value);
print_r($arr);
echo nl2br(PHP_EOL);
$arr = my_sort($arr, 'e');
print_r($arr);

function my_sort($arr, $value) {
  $arr[] = $value;
  $first = array_shift($arr);
  $arr[] = $first;

  return $arr;
} 
```

检查[http://codepad.viper-7.com/yJE8FR](http://codepad.viper-7.com/yJE8FR)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:10:14.390

您可以使用以下函数并将 shift 参数传递给它。函数名称为下面的 rotate_array()。使用该函数后添加下一个值。

```
<?php

$weekdays = array("Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun");

function rotate_array($steps, $arr)
{
    if($steps >= 0)
    {
        for($i = 0; $i < $steps; $i++)
        {
            $elm = array_shift($arr);
            array_push($arr, $elm);
        }
    }
    else
    {
        for($i = 0; $i > $steps; $i--)
        {
            $elm = array_pop($arr);
            array_unshift($arr, $elm);
        }
    }
    return $arr;
}

$arr = rotate_array(1, $weekdays);

//For multidimensional array, add this part

foreach($arr as $key => $childArray) {

       rotate_array(1,$childArray);

}
//end of addition

$arr[] = "next value";
echo "<pre>";
print_r($arr);
echo "</pre>";

?> 
```

输出：

```
Array
(
    [0] => Tue
    [1] => Wed
    [2] => Thu
    [3] => Fri
    [4] => Sat
    [5] => Sun
    [6] => Mon
    [7] => next value
) 
```

# cocos2d-iphone - Cocos2D: Could not add isometric tilemap for retina and non-retina

> ID：13117874
> 
> 赞同：3
> 
> 时间：2012-10-29T08:04:46.080
> 
> 标签：cocos2d-iphone, retina-display

I am having a trouble. I am using cocos2d with UIKit. Cocos2d version is 1.0.1.

I have added tiled map to project like it is suggested in documentation: [http://www.cocos2d-iphone.org/wiki/doku.php/prog_guide:how_to_develop_retinadisplay_games_in_cocos2d#ccnode_details](http://www.cocos2d-iphone.org/wiki/doku.php/prog_guide:how_to_develop_retinadisplay_games_in_cocos2d#ccnode_details) I have done everything, enabled retina, created hd map as said.

I later position some sprites relative to tile map, and I use tile map coordinate system to position them, so I use it's size and tile size.

On non-retina everything is positioned properly and works fine, but on retina everything is messed up. It looks like tile size of the tiled map is not in points but in pixels, so every calculations which are done are scaled twice, which is bad. I could divide calculations with CC_CONTENT_SCALE_FACTOR but that would require lot of calculating, and, as I understand, that is what cocos2d retina support should do under the hood.

Does somebody have an idea what should I do next, or maybe has some tutorial link where isometric tiled maps are added for both screen dimensions and that works ok?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T12:39:44.243

Cocos2D 的 tilemap 实现并不完全兼容 Retina。正如您所注意到的，即使在今天的 cocos2d 2.0 中，一些坐标也是以像素为单位的。除了除以内容比例因子之外别无他法。

这不应该是任何性能问题。您更大的性能问题将是 cocos2d 的无效 tilemap 渲染器，即 tilemap 越大，性能越慢，因为 cocos2d 每次都渲染所有瓦片。

# ember.js - How to convert a nested model into a JSON in EmberJS?

> ID：13117880
> 
> 赞同：0
> 
> 时间：2012-10-29T08:05:48.843
> 
> 标签：ember.js

I have a nested EmberJS model hierarchy:

```
{
  name: 'abc',
  type: 123,
  rules: {
           condition1 : 'value1',
           condition2:   'value2'
           subrule: {
                       subcondition1: 'value1',
                       subcondition2: 'value2'
                     }
         } 
```

I am not using Ember DS. The problem is to give the model object arrays to a previewer which consumes JSON and not a typical get/set API of Ember Objects.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:36:29.693

如果要对对象进行 JSON 编码，可以使用[JSON.stringify](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/stringify)方法

```
JSON.stringify(obj) 
```

这是一个[工作示例](http://jsfiddle.net/ycs9u/)

# javascript - textarea中的奇怪问题

> ID：13117881
> 
> 赞同：0
> 
> 时间：2012-10-29T08:06:02.833
> 
> 标签：javascript

好吧，我有两个文本区域。当用户输入一个文本区域时，它会同时出现在第二个文本区域中。所以我的代码如下：

```
<script>
function type () {
    var text = document.getElementById('text').value;
    var code = document.getElementById('code');
    code.innerHTML = text;
}
</script>

<textarea cols="20" rows="20" id="text" onKeyUp="type();"></textarea>
<textarea cols="20" rows="20" id="code"></textarea> 
```

并且没有写到第二个...帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:09:23.033

您应该使用第二个文本区域的`value`属性，而不是`innerHTML`。

=== 编辑 ===

And`type`是 JavaScript 中的保留字，不应将其用作函数名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:09:48.697

```
<script>
function type () {
    var text = document.getElementById('text').value;
    var code = document.getElementById('code');
    code.value = text; // this is the change
}
</script> 
```

使用`.value`而不是`.innerHTML`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T08:12:34.357

您对函数名称的问题仅此而已。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T08:24:43.983

您的代码中存在一些问题。这工作正常

```
 <script type="text/javascript">
function type1 () {

    var text = document.getElementById("text").value;

    var code = document.getElementById("code");
    code.value = text;
}
</script>
<body>
<textarea cols="20" rows="20" id="text" onkeyup="type1()"></textarea>
<textarea cols="20" rows="20" id="code"></textarea>
</body> 
```

# javascript - $.ajax call not recognized by TypeScript

> ID：13117887
> 
> 赞同：3
> 
> 时间：2012-10-29T08:06:38.180
> 
> 标签：javascript, typescript

I have the following code:

```
 $.ajax({
        url: modal.href,
        dataType: 'json',
        type: 'POST',
        data: modal.$form.serializeArray()
    })
        .done(onSubmitDone)
        .fail(onSubmitFail); 
```

TypeScript points to the $.ajax and gives a message saying:

Supplied parameters do not match any signature of call target.

However from what I can see my $.ajax is correct and I am correctly referencing the jQuery definitions. Can anyone suggest what might be wrong?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:11:58.863

参考 jquery.d.ts：

```
ajax(url: string, settings: JQueryAjaxSettings); 
```

这是ajax函数的签名。您应该将 url 从设置对象中移出并作为参数传入，而不是让 typescript 接受。或编辑 jquery.d.ts 定义以接受仅设置函数调用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T23:17:21.383

虽然最初的 jQuery 定义不包含没有 Url 的重载，但它们已经更新，您可以从 CodePlex 获取最新版本：http: [//typescript.codeplex.com/SourceControl/BrowseLatest](http://typescript.codeplex.com/SourceControl/BrowseLatest)

在[https://github.com/borisyankov/DefinitelyTyped上还有最新更新的 jQuery 定义的镜像](https://github.com/borisyankov/DefinitelyTyped)

# c++ - cocos2dx最新版本如何设置标题

> ID：13117891
> 
> 赞同：0
> 
> 时间：2012-10-29T08:07:00.090
> 
> 标签：c++, visual-studio, game-engine, game-development

上周我开始使用 Cocos2dx，我一直在尝试为游戏窗口设置标题。我修改了“CCEGLWievProtocol.h”文件并将`m_szViewName`变量的隐私更改为`public`......最后我以这种方式更改了我的主要功能：

```
 AppDelegate app;
    CCEGLView* eglView = CCEGLView::sharedOpenGLView();
    strcpy(eglView->m_szViewName, "test");
    eglView->setFrameSize(1000, 540);
    int ret = CCApplication::sharedApplication()->run(); 
```

但它不起作用，标题也没有改变！我应该怎么办？您是否建议使用更好的跨平台 C++ 游戏引擎来代替 Cocos2dx？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T04:01:30.737

我尝试了同样的事情，但它没有用，但是因为它是 Windows

我们可以使用 Windows 句柄来做到这一点

```
HWND _handle= eglView->getHWnd();
SetWindowText(_handle, "Title"); 
```

# mysql - 应该在 SQL 中引用名字吗？

> ID：13117900
> 
> 赞同：1
> 
> 时间：2012-10-29T08:08:19.653
> 
> 标签：mysql, sql

在创建表和初始数据时，是否应该默认引用所有表名和列名？

即，对于 MySQL：

```
CREATE TABLE `address` (`address_id` INT PRIMARY KEY, `street` TEXT); 
```

对比

```
CREATE TABLE address (address_id INT PRIMARY KEY, street TEXT); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:09:30.177

**否**（*在您的情况下是可选的*），仅转义中间有空格的列名，或者您使用的名称是**[MySQL 保留字](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html)**。

例子

```
CREATE TABLE `ADD`
(
    `CASE` VARCHAR(50),
    `FROM` DATETIME,
    `TO` DATETIME,
    `Person Name` VRCHAR(50)
); 
```

# mysql - 对多个字段和 140k+ 条记录的缓慢 MySQL 数据库查询

> ID：13117901
> 
> 赞同：0
> 
> 时间：2012-10-29T08:08:26.690
> 
> 标签：mysql, sql, database, database-performance

我有以下查询：

```
 SELECT ID FROM 

`Article` this_ WHERE
(this_._Temporary_Flag = FALSE OR this_._Temporary_Flag = NULL) AND 
 this_.Published = TRUE AND
  (this_.PublishedOn IS NULL OR this_.PublishedOn <= '2012-10-29 08:54:36') AND 
  (this_.Deleted = FALSE OR this_.Deleted = NULL) AND 
  (this_._ComputedDeletedValue = FALSE OR this_._ComputedDeletedValue = NULL) AND 
  ((this_._TestItemSessionGuid IS NULL OR this_._TestItemSessionGuid = '')) AND 
  NOT (this_.CategoryId IS NULL) 
  AND (this_.PublishedOn < '2012-09-10 00:00:00' AND this_.CategoryId = 51118080)
   ORDER BY this_.PublishedOn DESC LIMIT 1 
```

确切地说，有问题的表包含 141,505 条记录。`WHERE`我已经检查了子句中提到的索引和所有字段并被`ORDER BY`索引（索引类型：INDEX，索引类型：BTREE）。

此查询第一次运行需要 40 秒。随后的运行时间缩短到 1 - 2 秒，我假设这是由于缓存造成的。如果我重新启动 MySQL 服务器，再次需要大约 40 秒。任何想法为什么它执行如此缓慢，以及可以完成的任何优化？

**更新 1**

数据库是 MySQL，表存储引擎是 InnoDb。

**更新 2**

作为旁注，此查询的范围是获取与当前文章相关的“上一篇文章”。我这样做是通过获取所有`PublishedOn`字段小于当前字段的文章，按`PublishedOn`降序排序并取第一个 1（我更新了 LIMIT，因为我最初输入了 50，而它应该是 1）。

其他条件是仅加载有效文章和同一类别的文章。

**更新 3**：解释输出

```
SelectType = Select
Type = index_merge
Possible_keys = CategoryId,PublishedOn,_TestItemSessionGuid,Deleted,_ComputedDeletedValue,_Tempo‌​rary_Flag,Published Key = Deleted,_ComputedDeletedValue,_Temporary_Flag,Published,CategoryId
Key_Len = 1,1,1,1,9
ref = (NULL)
Rows = 3383
Extra = Using intersect(Deleted,_ComputedDeletedValue,_Temporary_Flag,Published,CategoryId); Using where; Using filesort ______ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:16:07.167

确保你有`(1) indexed your table fields`，`(2) Partition table`例如表字段 PublishedOn 最好`partition by range`你可以参考 [http://dev.mysql.com/doc/refman/5.1/en/partitioning-range.html](http://dev.mysql.com/doc/refman/5.1/en/partitioning-range.html)了解更多细节。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:35:51.490

速度取决于表索引。`PublishedOn`为列设置索引。之后也尝试优化表。

```
OPTIMIZE TABLE `Article`; 
```

# php - 为什么未来日期的 php 时间戳与 mysql UNIX_TIMESTAMP 不同？

> ID：13117903
> 
> 赞同：4
> 
> 时间：2012-10-29T08:08:30.490
> 
> 标签：php, mysql, timestamp, unix-timestamp

这对我来说真的很奇怪。

我试过了： `<?php echo strtotime(date("Y-m-d H:i:s")); ?>`

它返回：**1351498120**。

另外，当我运行这个查询时 `SELECT UNIX_TIMESTAMP(now())`：

它返回了相同的结果：**1351498120**。

但是当我尝试时：`<?php echo strtotime(date("2012-10-29 18:00:00")); ?>`

它返回：**1351533600**。

然而，如果我运行这个查询：`SELECT UNIX_TIMESTAMP('2012-10-29 18:00:00')`，

它返回：**1351513800**

**现在我的问题是：**为什么 php 和 mysql 的时间戳对于当前日期是相同的，但对于未来日期是不同的？有没有办法比较它们的未来日期？

（注意：我将 UTC 作为 php 中的默认时区）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-29T08:10:51.190

两者之间有**5.5 小时**的差异，这表明这是一个时区问题，在任一端。MySql Server 的时区可以配置不同。

```
SET time_zone = timezonename; 
```

可用于设置当前会话的时区。检查**[MySQL 日期和时间函数](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T08:12:42.550

尝试设置默认时区

[http://php.net/manual/en/function.date-default-timezone-set.php](http://php.net/manual/en/function.date-default-timezone-set.php)

# android - android - 将类作为参数传递以访问静态变量

> ID：13117906
> 
> 赞同：1
> 
> 时间：2012-10-29T08:08:43.487
> 
> 标签：android, class, static-methods

我需要传递一个类，以便我可以访问它的静态变量。例子：

```
Class FirstClass
{
static int x = 1;
}
Class SecondClass
{
static int x = 2;
} 
```

我在另一个类中有一个方法（FirstClass 和 SecondClass 都将使用该方法），但它需要访问静态变量，这是带有逻辑的伪代码：

```
public static void process(Class anyClass){
    anyClass.x;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:16:46.563

如果您需要确定在运行时访问哪个类，并且您有多个具有相似命名变量的类，则可以使用 Class.forName() 以字符串形式返回给定类名的类的实例。

[http://developer.android.com/reference/java/lang/Class.html#forName(java.lang.String, boolean, java.lang.ClassLoader)](http://developer.android.com/reference/java/lang/Class.html#forName%28java.lang.String,%20boolean,%20java.lang.ClassLoader%29)

```
public static void process(String className){
     classInstance = Class.forName(className);
} 
```

您还需要知道类类型（以便您可以正确声明或强制转换 classInstance）。最简单的方法是让我们所有的“anyClass”类型都继承自一个公共超类。

```
class AnyClassType1 extends AnyClass
class AnyClassType2 extends AnyClass 
```

然后强制转换或声明 classInstance：

```
AnyClass classInstance; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:17:38.110

您可以使用反射访问类的成员：

```
Field f = anyClass.getDeclaredField("x");
int xValue = f.getInt(null); 
```

通过`null`作为实例参数传递给`getInt()`.

我们使用`getDeclaredField`是因为您想访问非公共字段。这样做的缺点是，`InvalidFieldException`如果该字段不存在到您正在查看的类中，即使它**是**在超类中定义的，它也会抛出一个。但是，当然，如果它被定义在一个超类中，它将具有公共或受保护的访问权限，并且`getField`可以正常工作。

# java - 正常启动tomcat和调试启动tomcat的根本区别是什么？

> ID：13117909
> 
> 赞同：1
> 
> 时间：2012-10-29T08:08:53.740
> 
> 标签：java, debugging, tomcat, jvm

如果我在调试模式下启动 tomcat，我想知道 eclipse 对 JVM 或其他东西有什么作用？

我也想知道如果我在调试模式下启动tomcat，为什么我可以立即使我更改的代码高效？谁让它成为现实？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:15:30.100

在调试模式下，您可以设置断点，因此 JVM 将在那里暂停并使用它，如果您在调试透视图中，您可以看到所有变量，如果您遇到错误或您不知道为什么，这很有用例如，某个变量为空。

# ios - NSHTTPCookieStorage deleteCookie 在 ios6 中不起作用？

> ID：13117910
> 
> 赞同：0
> 
> 时间：2012-10-29T08:08:56.980
> 
> 标签：ios, ios6, nshttpcookie

我的问题是以下代码：

```
 [[NSHTTPCookieStorage sharedHTTPCookieStorage] deleteCookie:cookie]; 
```

在 ios 5 上运行良好，但在 ios6 上 cookie 不会被删除，并且 web 视图仍然使用之前设置的相同 cookie。

有人对这个问题有任何想法吗？

**更新**

杀死应用程序后，它工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T15:40:29.073

问题在于我用来进行身份验证的这种方法：

```
- (void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge{

       [[challenge sender] useCredential:[NSURLCredential credentialWithUser:Username password:Password persistence:CredentialsPresistance]

forAuthenticationChallenge:challenge];
} 
```

“持久性”应该等于 NSURLCredentialPersistenceNone 仅在 ios6 中。

这**解决**了我的问题。

# android - smali (Android)：对实例变量进行操作

> ID：13117911
> 
> 赞同：2
> 
> 时间：2012-10-29T08:08:56.747
> 
> 标签：android, smali

我正在尝试使用 smali 执行以下操作：

1.  将私有实例`ArrayList`字段添加到类
2.  在类的构造函数中实例化实例字段
3.  `add`在类的方法之一中对字段进行操作。

这些是相关的代码片段。（我的班级名称是`com.mypackage.MyClass`（即`com/mypackage/MyClass`））

在`# instance fields`smali 代码部分，我添加了该行

```
.field private myList:Ljava/util/List; 
```

在公共构造方法（`.method public constructor <init>()V`）中，我添加了这些行

```
new-instance v1, Ljava/util/ArrayList;
invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V
iput-object v1, p0, Lcom/mypackage/MyClass;->myList:Ljava/util/List; 
```

最后，在我想要执行`add`方法调用的实例方法中，我添加了这些行

```
iget-object v6, p0, Lcom/mypackage/MyClass;->myList:Ljava/util/List;
invoke-interface {v6, v3}, Ljava/util/List;->add(Ljava/lang/Object;)Z
invoke-interface {v6, v4}, Ljava/util/List;->add(Ljava/lang/Object;)Z 
```

然而，线

```
iget-object v6, p0, Lcom/mypackage/MyClass;->myList:Ljava/util/List; 
```

给我错误（根据logcat）

```
10-29 15:47:58.999: W/dalvikvm(518): VFY: 'this' arg 'Ljava/util/List;' not instance of 'Lcom/mypackage/MyClass;' 
```

我将我所做的与在同一方法中的类似方法调用进行了比较，但无法找出问题所在。

任何想法？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:45:28.537

p0 寄存器包含方法进入时的“this”引用，但之后任何东西都可以修改它。根据该错误消息，看起来 p0 regsiter 在 iget-object 所在的位置有一个 List 对象。

# uiviewcontroller - 单击按钮时关闭 UIViewController

> ID：13117912
> 
> 赞同：0
> 
> 时间：2012-10-29T08:09:14.423
> 
> 标签：uiviewcontroller, xcode4.5, ibaction

我正在打开一个视图控制器（带有一个导航栏和一个用于关闭视图控制器的栏按钮项）。这是一个视图控制器，用于在用户单击“帮助”按钮时向用户显示信息。导航是这样的：ViewController1 -> “帮助”按钮 -> Viewcontroller2\. Viewcontroller2 有一个“关闭”按钮，可以关闭这个 ViewController。我有一个带有 IBAction 的关闭按钮连接到文件的所有者。但是当我单击“关闭”按钮时没有命中断点。代码是：

DetailViewController.m(viewcontroller1):

```
-(void) showHelp:(id)sender
{
    HelpViewController *helpWindow = [[HelpViewController alloc]initWithNibName:@"HelpViewController" bundle:[NSBundle mainBundle]];
    helpWindow.modalPresentationStyle = UIModalPresentationFormSheet;
    [self presentModalViewController:helpWindow animated:YES];
} 
```

HelpViewController.m(viewcontroller2):

```
#import "HelpViewController.h"

@interface HelpViewController ()

@end

@implementation HelpViewController

@synthesize scrollView;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
    // e.g. self.myOutlet = nil;
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

- (IBAction)closeAction:(id)sender {
    [self dismissModalViewControllerAnimated:YES];

}

@end 
```

我尝试在“closeAction”处设置断点，但没有命中。我是 iOS 开发的新手。我在这里遗漏了一些非常明显的东西。感谢任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:13:34.167

单击您的`Close`按钮并`connection inspector`在右侧工具中选择选项卡。`closeAction:`在 touchUpInside 模式下检查您的按钮是否与此方法连接。

如果没有，请将您的`UIButton`插座连接到此方法`-(IBAction)closeAction:(id)sender;`，然后尝试。

**更新**：如果您的按钮是`UIBarButtonItem`，那么将有一个选项为`"New referencing outlet"`。从中拖动并与您的方法联系。

# android - Android：限制 apk 文件仅安装在使用 HDPI 和 MDPI 图像的设备中。

> ID：13117916
> 
> 赞同：3
> 
> 时间：2012-10-29T08:09:26.513
> 
> 标签：android, image, device, apk, restriction

我有一个已经在 iPhone 中实施的项目（超过 2 年前）。现在我只有在 Android 中构建同样的应用程序的源代码。由于某种原因，客户端现在没有图像源文件。所以现在我只有分辨率为 320*460 像素的图像来制作 android 应用程序。

**我的问题是什么：** 因为我们不支持 xhdpi 支持的设备的高分辨率图像。客户希望仅对支持 HDPI 的屏幕而不是支持 xhdpi 的屏幕限制应用程序。首先，我只想知道是否可以使 apk 文件仅支持使用 HDPI 图像的设备？如果可能，我该怎么做？

**我搜索过的内容：** 我在 StackOverflow 中搜索过，但无法解决我的问题。

**问题**：那么如何限制我的 APK 文件仅安装在使用 HDPI 和 MDPI 图像的设备中。如果设备使用 XHDPI 图像，则不应安装它。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:15:10.787

您可以将其添加到您的文件中，`AndroidManifest.xml`以限制您的`apk`文件安装在 xlarge 屏幕中

```
<manifest ... >
    <supports-screens android:smallScreens="true"
                      android:normalScreens="true"
                      android:largeScreens="false"
                      android:xlargeScreens="false" />
    ...
    <application ... >
        ...
    </application>
</manifest> 
```

更多信息，请查看[官方文档](http://developer.android.com/guide/practices/screens-distribution.html)

# ios - 代表不触发 ios

> ID：13117917
> 
> 赞同：0
> 
> 时间：2012-10-29T08:09:27.780
> 
> 标签：ios, delegates

嗨，我尝试创建一个委托以将数据从 tableInterval 回传到 ElectricMeter uiViewController，但该委托仍不会触发。这是我的代码 tableInterval h.file

```
@protocol updateIntervalDelegate
@required
-(void)intervalRefresh:(NSString *)interval;
@end

@interface tableInterval : UITableViewController<UITextFieldDelegate, MBProgressHUDDelegate>
{    
IBOutlet UILabel *IntervalLabel;
IBOutlet UILabel *EndLabel;
IBOutlet UILabel *StartLabel;
MBProgressHUD *HUD;
IBOutlet UIDatePicker *datePicker;
IBOutlet UITableViewCell *IntervalCell;
__unsafe_unretained id <updateIntervalDelegate> delegate;
}

@property (nonatomic, strong) UIActionSheet *actionSheet;
@property (nonatomic, strong) UITextField *interval;
@property (nonatomic, retain) NSURL *url;
@property (nonatomic, retain) NSString *StartDate;
@property (nonatomic, retain) NSString *EndDate;
@property(nonatomic, assign)id <updateIntervalDelegate> delegate;
@property (retain, nonatomic) NSString* noId;
-(IBAction)PreviousView:(id)sender;
-(IBAction)updateInterval:(id)sender;
@end 
```

在 m.file 中

```
@synthesize actionSheet,interval,url,noId,StartDate,EndDate,delegate;
[delegate intervalRefresh:interval.text]; 
```

调用委托方法。

所以这是在实现类 .h 文件中

```
#import <UIKit/UIKit.h>
#import <Foundation/Foundation.h>
#import "tableInterval.h"
#import "ListMeterCell.h"
#import "PopoverView.h"
#import "MBProgressHUD.h" 

@interface ElectricMeterController : UIViewController<UITableViewDelegate,UITableViewDataSource, PopoverViewDelegate,MBProgressHUDDelegate,updateIntervalDelegate> {
PopoverView *pv;
MBProgressHUD *HUD;
} 
```

在 .m 文件中

```
-(void)intervalRefresh:(NSString *)interval{
NSLog(@"delegate fired!");

NSDictionary *copy=[updatedInfo mutableCopy];
[copy setValue:interval forKey:@"interval"];
[temp removeObjectAtIndex:path.row];
[temp insertObject:copy atIndex:path.row];

[self.MeterList reloadData];

} 
```

所以nslog没有被解雇，为什么？我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:41:03.483

您是否设置了 controllerName.delegate = self; ？？？我认为这一定是您应该首先设置委托的唯一问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T08:46:25.073

调用委托时使用此模式：

```
if (delegate && [delegate respondsToSelector:@selector(intervalRefresh:)])
    [delegate intervalRefresh:interval.text];
else NSLog(@"delegate (%@) not responding", delegate); 
```

确保设置了委托属性并且委托对象实现了协议。

# c# - 如何使用 C# 将文件夹/目录复制到剪贴板

> ID：13117919
> 
> 赞同：1
> 
> 时间：2012-10-29T08:09:29.823
> 
> 标签：c#, windows, windows-explorer

我正在创建一个基于 C# windows 的应用程序，它基本上是一个 windows 资源管理器模式。用于将文件夹从一个地方复制和粘贴到另一个地方。一切正常。在我的应用程序中，我有两个窗口，每个窗口都有一个树视图。第一个是显示要复制的文件位置的树形视图，第二个是要粘贴文件的树形视图。

一切正常，使用以下代码。我在哪里获得要复制的所有文件。所有这些文件都被复制到剪贴板。

```
string[] files = Directory.GetFiles(txtPath.Text.ToString(), "*.*", SearchOption.TopDirectoryOnly);
//also tried using SearchOption.AllDirectories
if (files != null)
{
     IDataObject data = new DataObject(DataFormats.FileDrop, files);
     MemoryStream memo = new MemoryStream(4);
     byte[] bytes = new byte[] { (byte)(copy_cut ? 2 : 5), 0, 0, 0 };
     memo.Write(bytes, 0, bytes.Length);
     data.SetData("Preferred DropEffect", memo);
     Clipboard.SetDataObject(data);
} 
```

并使用以下代码粘贴到相应的文件夹中

```
IDataObject data = Clipboard.GetDataObject();
if (!data.GetDataPresent(DataFormats.FileDrop))
     return;

     string[] files = (string[])data.GetData(DataFormats.FileDrop);
     MemoryStream stream = (MemoryStream)data.GetData("Preferred DropEffect", true);
     int flag = stream.ReadByte();
     if (flag != 2 && flag != 5)
         return;
     bool cut = (flag == 2);
     foreach (string file in files)
     {
         string dest = "C:" + "\\" + System.IO.Path.GetFileName(file);
         try
         {
             if (cut)
                File.Move(file, dest);
             else
                File.Copy(file, dest, false);
         }
         catch (IOException ex)
         {

         }
      } 
```

一切对我来说都很好。复制和粘贴都很好。但仅适用于没有任何子文件夹的文件夹。

如果我碰巧在一个文件夹中有很多文件夹，并且每个文件夹都有很多文件。然后上面的代码不能正常工作。

例如。

如果文件夹 A 有子文件夹 X、Y、Z 并且每个子文件夹 X、Y、Z 有很多文件，当我复制到剪贴板并粘贴到所需位置时，我只会得到文件夹 X、Y、Z 的内容/文件而不是文件夹 X、Y、Z 本身。

有没有办法可以将文件夹 X、Y、Z 复制到剪贴板并粘贴它们。就像我们在 PC 中进行的简单复制和粘贴一样，整个文件夹以及子文件夹都被粘贴到所需的位置。

与此问题相关的帮助将不胜感激。

谢谢，

维克内什瓦尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:27:41.737

如果要复制并保持相同的结构不变，则必须创建一个递归函数。

Msdn 有一个例子，你可以在[这里找到](http://msdn.microsoft.com/en-us/library/bb762914.aspx)

# c# - 如何在我的 winfoms(c#) 中使用 ffmpeg.net？

> ID：13117922
> 
> 赞同：3
> 
> 时间：2012-10-29T08:09:43.063
> 
> 标签：c#, ffmpeg

我使用[ffmpeg.net](http://ffmpegdotnet.codeplex.com/)。

如何在我的项目中使用此 dll 将视频或音频转换为另一种视频/音频格式？（我需要一个示例 C# 代码来使用这个类库。）

我在下面的链接中上传源代码：

> [http://www.mediafire.com/?15spbnd5bopuja9](http://www.mediafire.com/?15spbnd5bopuja9)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:22:14.920

也可以直接使用ffmpeg.exe。我已经这样做了，以便在将视频文件上传到我们的 cms 系统时自动生成图像。

请查看此博客（不是我的）：http: [//jasonjano.wordpress.com/2010/02/09/a-simple-c-wrapper-for-ffmpeg/](http://jasonjano.wordpress.com/2010/02/09/a-simple-c-wrapper-for-ffmpeg/)

# linux - 如何通过 AJP13 自定义工人选择流程

> ID：13117927
> 
> 赞同：0
> 
> 时间：2012-10-29T08:10:03.253
> 
> 标签：linux, apache, tomcat, jboss, mod-jk

在 apache 负载平衡中，有没有办法根据我们的要求在 AJP13 中选择工作人员？

这意味着如果我们说当前有服务器实例（jboss 或 tomcat）与 Apache（mod_jk）轮询负载平衡。是否有一种方法或方式可以自定义工人选择过程。（其他的 Round Robbin 例如根据特定服务器实例的 CPU 使用率）

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T14:15:32.800

你应该看看JBoss 的[mod_cluster](http://www.jboss.org/mod_cluster)。我认为 mod_cluster 允许根据当前负载等各种标准选择作品。

# javascript - 有没有办法使用 DOM（使用 jQuery）找到与某种样式匹配的所有元素？

> ID：13117934
> 
> 赞同：-3
> 
> 时间：2012-10-29T08:10:51.400
> 
> 标签：javascript, jquery, html

> **可能重复：**
> [您如何根据样式选择元素？](https://stackoverflow.com/questions/442048/how-do-you-select-elements-based-on-their-style)
> [jquery选择所有带有显示的br：无；](https://stackoverflow.com/questions/1616006/jquery-select-all-br-with-displaynone)

```
<body>
  <ul>
    <li style="display:none">i am not visible</li>
    <li>i am visible</li>
    <li>i am visibile</li>
  </ul>
  <div style="display:none">i am not visible</li>
</body> 
```

我想选择所有显示为无的元素。例如在上面的代码中，我想选择 li 和 html 为“我不可见”的 div。有没有办法最好使用 jQuery 或别的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:11:30.483

你可以使用

```
$(document.body).find(':not(:visible)') 
```

或更好 ：

```
$('li,div').not(':visible') 
```

注意不要在你的选择器中太宽：你会得到很多不需要的元素。

[演示](http://jsfiddle.net/kqfgj/)（打开控制台）

* * *

请注意，通常最好使用一个类：

CSS：

```
.notVisible {display:none;} 
```

HTML：

```
 <li class=notVisible>i am not visible</li> 
```

查询：

```
$('.notVisible') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:16:01.170

```
$('*').css('display') == 'none' 
```

您可以在 if 条件中使用它，然后是您的要求

希望这会有所帮助：D

# php - 函数 set_magic_quotes_runtime() 在 phpmailer 中已弃用

> ID：13117937
> 
> 赞同：5
> 
> 时间：2012-10-29T08:11:31.243
> 
> 标签：php, function, phpmailer

我想用 PHP Mailer 5.1 版嵌入图像。我的 PHP 版本是 5.4.7

脚本执行成功，我可以收到带有嵌入图像的电子邮件，但问题是警告显示如下：

> 已弃用：函数 set_magic_quotes_runtime() 在第 1480 行的 C:\xampp\htdocs\form\class.phpmailer.php 中已弃用
> 
> 已弃用：函数 set_magic_quotes_runtime() 在第 1484 行的 C:\xampp\htdocs\form\class.phpmailer.php 中已弃用

我的剧本是

```
$mail->AddEmbeddedImage('filename', 'cid', 'name');
$mail->AddEmbeddedImage('sgu_logo.gif', 'my-pics', 'sgu_logo.gif');

$mail->Body     =  "Thank you for registering at SGU. For further processing please complete a registration fee before &nbsp; ". $e['testschedule']." <br> For future information please contact us at sgu.ac.id/support <br><br> 
<img src='cid:sgu_logo.gif' alt='my-pics' />."; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-01T16:30:01.733

这是因为从 PHP 5.3 版本开始不推荐使用 magic_quotes_runtime 函数，但 PHPmailer 5.1 版本仍然使用它们。尝试升级到 PHPmailer 5.2，问题应该得到解决，更多信息在这里：[http ://code.google.com/a/apache-extras.org/p/phpmailer/source/detail?r=66](http://code.google.com/a/apache-extras.org/p/phpmailer/source/detail?r=66)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-04T15:46:03.923

该软件的开发人员经常进行更新。您可以安装他们的最新版本，并且不会出现此警告。

* * *

## 回答 #3

> 赞同：-6
> 
> 时间：2013-06-08T06:42:55.617

将这些代码添加到脚本的顶部

```
@set_magic_quotes_runtime(false);
ini_set('magic_quotes_runtime', 0); 
```

# android - 使图像适合已完成的帧

> ID：13117938
> 
> 赞同：1
> 
> 时间：2012-10-29T08:11:32.847
> 
> 标签：android, android-imageview

我正在创建一个图像视图。但我的图像显示在中心，底部布局宽度也没有减少。这是我的代码：-

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <it.sephiroth.android.library.imagezoom.GalleryTouch
        android:id="@+id/image"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_above="@+id/textView1"
        android:layout_weight="1" />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:background="@drawable/bottom"
        android:text="                                     Thank you" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T09:43:39.800

您应该使用 fill parent 来使用图像来填充整个屏幕，在这里我正在更改您的代码可能对您有用-

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
   android:layout_alignParentTop="true"
    android:layout_height="fill_parent"
     >

     <it.sephiroth.android.library.imagezoom.GalleryTouch
         android:id="@+id/image"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"
         android:layout_above="@+id/textView1"
          />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:layout_alignParentBottom="true"
        android:background="@drawable/bottom"
        android:text=" THank you" />

    </RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:50:57.850

尝试使用 XML 文件中的属性`android:scaleType="fitXY"`for `ImageView`。

# javascript - refres 后保持 droppable 的最后定位

> ID：13117940
> 
> 赞同：1
> 
> 时间：2012-10-29T08:11:34.530
> 
> 标签：javascript, jquery, html, css, droppable

我遇到了 .droppable 事件的问题，我有两个部分可以移动我的元素，但是刷新页面后，我的定位将返回到初始位置。那么，为了在页面刷新后保持元素的最后定位，必须做些什么呢？

小提琴：http: [//jsfiddle.net/jhogervorst/CPA5Y/](http://jsfiddle.net/jhogervorst/CPA5Y/)

HTML：

```
<div class="group">
    <h1>Group 1</h1>

    <ul class="parent">
        <li class="droppable"><span class="draggable">Item 1</span></li>
        <li class="droppable"><span class="draggable">Item 2</span></li>
        <li class="droppable"></li>
    </ul>
</div>

<div class="group">
    <h1>Group 2</h1>

    <ul class="parent">
        <li class="droppable"><span class="draggable">Item 3</span></li>
        <li class="droppable"></li>
        <li class="droppable"><span class="draggable">Item 4</span></li>
    </ul>
</div> 
```

CSS：

```
* { margin: 0; padding: 0; }
body { font-family: Helvetica, Arial, sans-serif; }
h1 { font-weight: bold; margin-bottom: 10px; }

.group {
    width: 150px;
    margin: 5px 0 5px 5px;
    float: left;
}

.parent {
    list-style-type: none;
}

.parent li {
    height: 41px;
    margin-bottom: 5px;
    padding: 5px;
    background: #ddd;
}

.parent li.active {
    background: yellow;
}

.parent li.hover {
    background: orange;
}

.parent li.hover span {
    opacity: .5;
}

.parent li span {
    display: block;
    height: 25px;
    line-height: 25px;
    padding: 5px;
    background: #eee;
    border: 3px solid #eee;
    cursor: move;
}

.parent li span.ui-draggable-dragging {
    z-index: 10;
    border-color: red;
}

$(".draggable").draggable({
    revert: true,
    revertDuration: 0
}); 
```

jQuery：

```
$(".droppable").droppable({
    activeClass: "active",
    hoverClass: "hover",

    accept: function (draggable) {
        // The droppable (li element).
        var droppable = $(this);

        // The droppable which contains the draggable, i.e., the parent element of the draggable (li element).
        var draggablesDropable = draggable.parent();

        // Is the draggable being dragged/sorted to the same group?
        // => We could just sort it, because there's always enough space inside the group.
        if (droppable.parent().is(draggablesDropable.parent())) {
           return true;
        }

        // Nope, the draggable is being dragged/sorted to another group.
        // => Is there an empty droppable left in the group to which the draggable is being dragged/sorted?
        else if (droppable.parent().find(".draggable").size() < droppable.parent().find(".droppable").size()) {
            return true;
        }

        // Nothing true?
        return false;
    },

    drop: function(event, ui) {
        // The droppable (li element).
        var droppable = $(this);

        // The draggable (span element).
        var draggable = ui.draggable;

        // The droppable which contains the draggable, i.e., the parent element of the draggable (li element).
        var draggablesDropable = draggable.parent();

        // Is the draggable being dragged to it's own droppable?
        // => Abort, there's nothing to drag/sort!
        if (droppable.is(draggablesDropable)) {
            return;
        }

        // Is the draggable being dragged to an empty droppable?
        else if (!droppable.find(".draggable").size()) {
            // Just drop the draggable there.
            droppable.append(draggable);
        }

        // Is the draggable being dragged/sorted to the same group?
        // => We can just sort it, because there's always enough space inside the group.
        else if (droppable.parent().is(draggablesDropable.parent())) {
            // Is the draggable being dragged up?
            if (droppable.parent().find(".droppable").index(draggablesDropable) > droppable.parent().find(".droppable").index(droppable)) {
                // Add the dragged draggable's droppable before the droppable.
                draggablesDropable.insertBefore(droppable);
            }

            // No, the draggable is being dragged down.
            else {
                // Add the dragged draggable's droppable after the droppable.
                draggablesDropable.insertAfter(droppable);
            }
        }

        // Nope, the draggable is being dragged/sorted to another group.
        // => Is there an empty droppable left in the group to which the draggable is being dragged/sorted?
        else if (droppable.parent().find(".draggable").size() < droppable.parent().find(".droppable").size()) {
            // Find the first empty droppable in which the draggable is being dragged/sorted.
            var emptyDroppable = $($.grep(droppable.parent().find(".droppable"), function (item) {
                // Are there draggables inside this droppable?
                // => Return TRUE if not.
                return !$(item).find(".draggable").size();
            })).first();

            // Clone the dragged draggable's droppable before itself, because we need to remember it's position after moving it.
            var draggablesDropableClone = draggablesDropable.clone().insertBefore(draggablesDropable);

            // Is the draggable being dragged above the empty droppable?
            if (droppable.parent().find(".droppable").index(emptyDroppable) > droppable.parent().find(".droppable").index(droppable)) {
                // Add the dragged draggable's droppable before the droppable.
                draggablesDropable.insertBefore(droppable);
            }

            // No, the draggable is being dragged below the empty droppable.
            else {
                // Add the dragged draggable's droppable after the droppable.
                draggablesDropable.insertAfter(droppable);
            }

            // Remove the position of the dragged draggable, because there's still some css left of the dragging.
            draggable.css({"top": 0, "left": 0});

            // Add the first empty droppable before the cloned draggable's droppable. Remove the latter afterwards.
            draggablesDropableClone.before(emptyDroppable).remove();
        }
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:32:06.857

该位置不会保存在页面上。您可以将位置传递给服务器并将它们存储在那里。或者创建一个cookie来存储位置。

# iphone - 想以编程方式将标签的位置更改为左上角

> ID：13117949
> 
> 赞同：0
> 
> 时间：2012-10-29T08:12:42.533
> 
> 标签：iphone, ios

我创建了一个标签，现在我想改变它在屏幕上的显示位置，那么我该如何以编程方式做到这一点？

当我第一次启动它时，我的屏幕看起来像这样。

![这就是它现在的显示方式](../Images/ea6f56c69150d89a76826282904438e3.png)

但我想在它第一次打开时显示它。

![我想这样显示](../Images/258b76ad99aa8b622032a1d93d72ad42.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:17:15.803

将其从视图中移除。然后更改 UIlabel 的框架。然后将其添加到视图中。

```
[yourLabel removeFromSuperView];
temp.frame=CGRectMake(x,y,width,height);  //set the frame as you want
[self.view addSubView:yourLabel]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:17:29.177

您应该修改标签的`frame`属性。它的类型`CGRect`：

```
struct CGRect {
   CGPoint origin;
   CGSize size;
}; 
```

要更改其位置，请更改`origin`点值。它对应于标签的左上角。

```
CGRect labelFrame = [label frame];
labelFrame.origin.x = 50; // set to whatever you want
labelFrame.origin.y = 100;
[label setFrame:labelFrame]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T08:25:49.623

```
 //simply you change origin for label
 //it make animation for moving label in the view
    -(void)your_action
    {
    [UIView animateWithDuration:2
                              delay:1.0
                            options: UIViewAnimationCurveEaseOut
                         animations:^{
                             label.frame=CGRectMake(0, 0, width, height);
                         } 
                         completion:^(BOOL finished){
                             NSLog(@"Done!");
                         }];

    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T08:32:41.830

//此代码用于在视图中拖动标签，在视图中单击标签原点更改为触摸点

```
 -(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event{

        UITouch *myTouch = [touches anyObject];
        point = [myTouch locationInView:self.view];

        [UIView animateWithDuration:2.0 delay:0.0 options:UIViewAnimationCurveEaseOut
                         animations:^{
                             label.frame = CGRectMake(point.x, point.y,width, height);
                         }
                         completion:nil];
    }

//enable user interaction for label 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-29T11:13:44.463

你说你以编程方式创建标签，所以你必须像这样设置代码：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    yourlabel = [[UILabel alloc] initWithFrame:CGRectMake(10, 10, 100, 100)];
    yourlabel.text = @"text";

    yourlabel.userInteractionEnabled = YES;
    [self.view addSubview:alabel];
} 
```

这应该做的工作。

# css - 如何从某个断点将固定布局变成流体布局？

> ID：13117950
> 
> 赞同：0
> 
> 时间：2012-10-29T08:12:46.243
> 
> 标签：css, responsive-design, frontend

我需要修复我的布局，直到窗口超过 960 像素宽。之后，它应该在保持先前网格系统的关系的同时保持流畅。这个问题有最佳实践吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:40:02.160

这称为媒体查询。并且您可以使用它为特定宽度编写 css，从而将您的布局变成流畅的布局。

```
@media (min-width:400px) and (max-width: 950px) {
    /* your css for the fluid layout */
} 
```

[这是该http://webdesignerwall.com/tutorials/css3-media-queries](http://webdesignerwall.com/tutorials/css3-media-queries)的小指南

# version-control - teamcity 和共享目录中的两个 vcs 根目录

> ID：13117953
> 
> 赞同：12
> 
> 时间：2012-10-29T08:13:11.783
> 
> 标签：version-control, directory, teamcity

我有两个 svn VCS 根（ProjectX，ProjectY）。正确的构建路径应该是：

**ParrentFolder** \ProjectX (svn://svn_server1/ProjectX)

**ParrentFolder** \ProjectY (svn://svn_server2/Folder1/ProjectY)

如何为两个项目配置共享**ParrentFolder**？我查看了 Checkout 目录参数，但它的接缝没有可以按项目名称创建文件夹的系统变量。

非常感谢

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-29T13:45:57.917

因此，如果有人有类似的问题，您接下来需要执行以下操作：

1.  配置第一个项目的签出规则 +:.=>ProjectX
2.  配置第二个项目的签出规则 +:.=>ProjectY
3.  配置正确的构建路径 /ProjectX/ProjectX.sln, /ProjectY/ProjectY.sln

# iphone - 反调试如何处理库打补丁？

> ID：13117959
> 
> 赞同：1
> 
> 时间：2012-10-29T08:13:39.447
> 
> 标签：iphone, c, debugging, android-ndk

有谁知道解决以下问题的标准技术：

*   我想检测，如果调试器附加到我的程序（反调试）
*   然而，攻击者修补了我使用的系统调用/库

例如，在 iOS 上，sysctl() 函数可用于检测附加的调试器，但攻击者只需反汇编二进制可执行文件，找到 sysctl() 调用，并用他自己的版本替换它们。

作为开发人员，我们如何处理这个问题？

我的平台是 iOS (iPhone) 和原生 Android (Android NDK)。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-29T14:01:11.837

完美检测调试器在逻辑上是不可能的。运行程序的机器的规格并没有指定特定的硅片或其他物理对象——它指定了机器的行为。**任何**提供规范描述的行为**的**实现都是机器的实现。这包括在实现规范的物理处理器上执行程序，包括在实现规范的模拟器中执行程序，还包括人类阅读机器代码并在纸上实现机器。这些不是“只是”模拟；它们实际上是机器的实现。

当机器正确实现时，程序不可能确定机器没有正确实现，因为当然没有偏离规范。然而我们可以清楚地看到，其中一些机器的动作和状态完全可以被人类观察到，并且可以随意操纵。因此，在逻辑上不可能总是检测到调试器的存在。

充其量，您可以使使用调试器变得令人讨厌，并且可以掩盖您这样做的方式。这可以阻止临时调查员，但不能阻止坚定的调查员。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T14:28:41.593

混淆本机代码的黄金标准是 Skype，它已经有十多年没有被黑客入侵了。您可以查看[http://www.blackhat.com/presentations/bh-europe-06/bh-eu-06-biondi/bh-eu-06-biondi-up.pdf](http://www.blackhat.com/presentations/bh-europe-06/bh-eu-06-biondi/bh-eu-06-biondi-up.pdf)以获取 Skype 的一些混淆功能的列表，例如机器代码的运行时解密、对调试器和虚拟机的抵抗、密码学和完整性检查的高级使用等。但是你从外部来源知道的任何混淆技术对于代码攻击者来说都是已知的，所以你必须把自己的魔法放进去它（总是有一个比你更聪明的攻击者）。

结论：混淆原生代码只是给攻击者设置了一些障碍，而打破这些障碍只是时间和精力的问题。避免这种情况的另一种方法是将所有密码保留在客户端-服务器系统的服务器端，使用成熟的客户端-服务器协议并开源客户端代码。

# c++ - 使用 GCC 将 C++ 应用程序静态编译成二进制文件

> ID：13117962
> 
> 赞同：1
> 
> 时间：2012-10-29T08:14:09.563
> 
> 标签：c++, windows, unix, gcc, compiler-construction

如何在针对 unix 的 Ubuntu 机器上使用 GCC 静态编译应用程序？我将如何定位 32 位/64 位机器和具有不同版本 GLIBC 或任何 unix C++ 应用程序通常依赖的机器？然后我想以二进制形式分发这个应用程序并在 unix 机器上运行它，而不需要从源代码编译。

同样，我可以[在 Windows 上编译这个应用程序以便它在 unix 上运行](https://stackoverflow.com/questions/579695/how-do-i-cross-compile-c-code-on-windows-for-a-binary-to-also-be-run-on-unix-so?rq=1)吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T08:24:20.760

要编译它以使其在 Linux 上运行，只需像这样编译它：

```
g++ -o myapp myapp-a.cop myappb.cop -L mylib1 
```

这应该适用于大多数版本的 Linux，也适用于某些版本的 FreeBSD。

这不会静态链接到 libstdc++，但这可能是一个更好的方法。根据经验，即使系统调用 abi 发生变化，您也应该动态链接到 OS c lib 以允许您的应用程序工作。

您可以使用 '-m32' 作为标志之一，从 64 位机器强制进行 32 位编译。它将编译模式设置为 32 位。

至于在 Windows 上编译：是的。你能行的。它被称为*交叉编译*。您首先需要编译一个以 Linux 为目标的工具链。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T08:45:29.877

这是创建静态编译的仅 32 位可执行文件的方法，它应该可以在任何已知的 Linux 上运行，而不会抱怨缺少库：

```
g++ -m32 -static -o myprog myprog.cpp 
```

这样做的一个缺点是可执行文件的最小大小至少为 600 KB。

注意：如果您遇到编译错误，请确保已安装软件包`g++-multilib`。

# mysql - MySQL 用斜线匹配

> ID：13117964
> 
> 赞同：3
> 
> 时间：2012-10-29T08:14:22.290
> 
> 标签：mysql, escaping, match, slash, against

我在搜索包含与 mysql 匹配的斜线（例如 ac/dc）的产品时遇到了一些问题。

似乎有某种设置会影响这一点。在我的 Windows 的 xammp 上使用默认设置，每一个都很好用：

```
MATCH (content) AGAINST ('+ac/dc*' IN BOOLEAN MODE) 
```

和

```
MATCH (content) AGAINST ("+ac/dc*" IN BOOLEAN MODE) 
```

和

```
MATCH (content) AGAINST ('"+ac/dc*"' IN BOOLEAN MODE) 
```

和

```
MATCH (content) AGAINST ("'+ac/dc*'" IN BOOLEAN MODE) 
```

和

```
MATCH (content) AGAINST ('+ac\/dc*' IN BOOLEAN MODE) 
```

但是它们都不能在我们位于 linux 系统上的生产服务器上工作（我不知道哪个发行版，但它在 plesk 下）。

我所说的“不工作”是什么意思。查询返回 0 行。生产服务器的 ft_min_word 为 2。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-17T12:27:02.283

这是一个服务器问题，直到今天我仍然不知道如何修复它，我所做的是改变了整个系统的工作方式。

我有一个存储搜索词的搜索表，在那里我删除了斜杠，因此 AC/DC 变为 ACDC，在搜索时我修改查询以再次删除斜杠，以便它尝试匹配 ACDC 并找到正确的行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T08:41:37.890

查看 XAMP 和生产服务器中的存储引擎。全文搜索有限制[http://dev.mysql.com/doc/refman/5.1/en/fulltext-restrictions.html](http://dev.mysql.com/doc/refman/5.1/en/fulltext-restrictions.html)。此外，表定义必须匹配全文搜索。

斜杠不是特殊字符，尽管双引号是。因此，`+ac/dc*`必须给出不同的结果集，`"+ac/dc*"`例如。

除此之外，我能想到的唯一区别是不同的表格内容。

# wordpress - 如何在仪表板的类别元框中显示帖子计数？

> ID：13117968
> 
> 赞同：1
> 
> 时间：2012-10-29T08:14:31.633
> 
> 标签：wordpress

```
Dashboard -> Posts -> Add New 
```

我希望能够查看每个类别中的帖子数量，而无需转到`Dashboard -> Posts -> Categories`.

我知道它`categorydiv`在代码中的某处有一个 ID。也许有一种方法可以在代码中更改它，但我不确定在哪里可以找到它。

我该怎么做？或者有插件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T00:37:53.833

挂钩`the_category`并注意仅在正确的屏幕中应用它，我们可以在其名称之后添加一个类别计数。

```
<?php
/*
    Plugin Name: Category count in Meta Box
    Version: 0.1
    Plugin URI: http://stackoverflow.com/q/13117968/1287812
    Author: Rodolfo Buaiz 
    Author URI: http://wordpress.stackexchange.com/users/12615/brasofilo
*/

// The hook "load-{$pagenow}" only runs in admin and in the specified page
add_action( 'load-post-new.php', 'add_filter_cat_so_13117968' );
add_action( 'load-post.php', 'add_filter_cat_so_13117968' );

function add_filter_cat_so_13117968()
{
    // Run only in correct post type
    global $typenow;
    if( 'post' != $typenow )
        return;

    add_filter( 'the_category', 'filter_cat_so_13117968' );
}

function filter_cat_so_13117968( $cat_name )
{
    $cat_id = get_cat_ID( $cat_name );
    $category = get_category( $cat_id );
    $count = $category->category_count;
    return "$cat_name ($count)";
} 
```

![邮政元框中的类别计数器](../Images/bc7c25e936ca81b0365f4663e4f6a41d.png)

# php - 使用 PhpImageWorkshop 调用 require_once 时出错

> ID：13117969
> 
> 赞同：-1
> 
> 时间：2012-10-29T08:14:37.267
> 
> 标签：php

我已经从这个链接[http://phpimageworkshop.com/installation.html安装了](http://phpimageworkshop.com/installation.html)

但是当我在 localhost 中运行 wampserver 时出现错误

```
demo/ImageWorkshop.php
    /index.php
    /test.jpg 
```

在 index.php 我使用代码：

```
<?php
require_once('C:\\wamp\www\demo\ImageWorkshop.php');

$norwayLayer = new ImageWorkshop(array(
    "imageFromPath" => "norway.jpg",
));
?> 
```

错误：`Fatal error: Class 'ImageWorkshop' not found in C:\wamp\www\demo\index.php on line xx`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T08:39:04.720

打开 ImageWorkshop.php 文件，然后删除命名空间声明第 3 行：

```
namespace PHPImageWorkshop; 
```

命名空间包含第 5 行：

```
use PHPImageWorkshop\ImageWorkshopException; 
```

然后，使用您的文本编辑器，将所有已建立的“ `static::`”替换为“ `self::`”。最后：

```
require_once('ImageWorkshopException.php'); 
```

我已经配置成功了，祝你好运！！！

# c# - 使用 C# WebDriver 单击下拉菜单中的链接

> ID：13117971
> 
> 赞同：0
> 
> 时间：2012-10-29T08:14:48.037
> 
> 标签：c#, .net, internet-explorer, selenium, webdriver

我已经使用了我能想到的所有可能的组合/变体，包括 Actions.MouseMove 和 IMouse（带有元素和坐标）、Actions.Click、Actions.DoubleClick、IWebElement.Click 和 Thread.Sleep。

无论我做什么，它总是在尝试单击之前将鼠标移出下拉菜单（因此在尝试单击元素时引发异常）或看似成功单击链接但随后无法导致浏览器（IE 9）跟随链接。

但是，在调试模式下运行时，我已经点击链接并按预期进入下一页（还没有弄清楚为什么）。

有任何想法吗？

（我会在这里发布一些代码，但是我已经多次废弃、重写和调整这个问题的代码，结果基本相同，我不确定它会有多大用处；在这一点上，我基本上为我寻找全新的方法来测试和报告，而不是对我的代码的任何特定版本进行细微调整。）

* * *

编辑：根据要求：HTML 代码：

```
<div id="sxmenu_main">
        <ul>
                <li>
                    <span>Header Item 1</span>
                    <ul>
                        <li><a href="/linka" target="_self">Link A</a></li>
                        <li><a href="/linkb" target="_self">Link B</a></li>
                    </ul>
                </li>
                <li>
                    <span>Header Item 2</span>
                    <ul>
                        <li><a href="/linka" target="_self">Link A</a></li>
                        <li><a href="/linkb" target="_self">Link B</a></li>
                    </ul>
                </li>
    </div> 
```

# symfony - 如何在 symfony2 sonata admin bundle 中编辑类别时避免更新 slug，最佳实践是什么？

> ID：13117980
> 
> 赞同：0
> 
> 时间：2012-10-29T08:15:39.397
> 
> 标签：symfony, slug, sonata-admin

在这里，我想先了解最佳实践。

假设我们使用 symfony2 sonata admin bundle 创建了一个类别，那么它也创建了 slug

例如名称：“我的类别” Slug：“我的类别”

现在，当我将类别名称编辑为“我的类别已编辑”时，slug 变为“我的类别已编辑”。

所以第一个问题

每次我们编辑东西时都改变 slug 好不好？由于该 slug 可用于在某些 if() 条件下进行检查，因此更改 slug 可能会破坏事情。

我的第二个问题

如何避免在每次编辑时更改 slug？我正在使用 Gedmo (http://gediminasm.org/article/sluggable-behavior-extension-for-doctrine-2)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:35:40.600

1.  通常，最好保留初始 slug 以避免 404 not found 错误（如果您使用 slug 作为页面标识符）。

2.  检查您提供的手册中的“ *slug annotation 的一些其他配置选项*”段落。

# macos - 创建分组表视图

> ID：13117982
> 
> 赞同：3
> 
> 时间：2012-10-29T08:15:54.453
> 
> 标签：macos, cocoa, nstableview, spotlight

谁能让我知道创建`NSTableView`类似于 Spotlight 结果的分组的程序是什么。

![在此处输入图像描述](../Images/85fdd0861a95cf8f7f798b29bb8a33a6.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T09:59:38.087

使用 提供的默认行为，您可能不会 100% 到达那里`NSTableView`，但非常接近。

对于 OS X v10.5 及更高版本，如果您提供`NSTableViewDelegate`（[NSTableViewDelegate 协议参考](http://developer.apple.com/library/Mac/documentation/Cocoa/Reference/NSTableViewDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/NSTableViewDelegate/tableView:isGroupRow:)），`tableView:isGroupRow:`您可以提供。

这是它在 10.6 上对*默认*和*源列表*样式表视图所做的：（
设置文件夹的分组标志）

![在此处输入图像描述](../Images/124c0845d1d6e81a75ce6f8078be4e25.png)

您还可以提供`tableView:heightOfRow:`调整行间距，它非常接近（尽管组和内容在不同的行上）：

![在此处输入图像描述](../Images/e64e9f75fe52515bce743e8f56ff826f.png)

想到的其他选择：

*   提供`NSCell`带有图像和文本以及样式的自定义，或
*   （对于 10.7 及更高版本）使用`NSView`基于表格视图和适当的模板

**[TableViewPlayground](http://developer.apple.com/library/Mac/#samplecode/TableViewPlayground/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010727)**示例可能为后者提供了一个很好的起点。

# tsql - 无法在 Sql While 循环中向变量添加值

> ID：13117986
> 
> 赞同：0
> 
> 时间：2012-10-29T08:16:03.663
> 
> 标签：tsql

在下面的 while 循环中，变量`@total`的结果与`NULL`从表中添加选定值时一样。如果不添加，则结果显示为表中的选定值，但仅显示最后一行的值。

```
SET @coundDate = '1/1/2012';

WHILE ( Datepart(dd, @countDate) < Datepart(dd, @endDate) )
  BEGIN
      SET @total = @total + (SELECT Cast([7am] AS INT) + 
                                    Cast([8am]AS INT) AS TotalHitCount
                             FROM   Sale
                             WHERE  TransactionDate = @countDate);
      SET @countDate = Dateadd(d, 1, @countDate);
  END;

SELECT @total 
```

我现在很困惑。那是什么错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T08:18:51.773

您必须使用默认值（例如 0 ）预先初始化您的变量 :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T08:30:03.040

正如 Martin 指出的那样，您可以将整个查询编写为简单的`SUM`：

```
SELECT SUM(Cast([7am] AS INT) + Cast([8am]AS INT)) AS Total
FROM   Sale
WHERE  TransactionDate between '20120101' and @endDate 
```

虽然我会询问为什么`7am`并且`8am`还不`int`是。

# android - 如何在另一个活动中显示所选项目的详细信息（标题和成本），例如：- 购物车功能（添加到购物车和查看购物车）

> ID：13117989
> 
> 赞同：0
> 
> 时间：2012-10-29T08:16:10.997
> 
> 标签：android, android-intent, android-emulator, android-listview

但现在我想根据完整的会话将用户选择的所有项目显示到 viewcart 活动中。下面我放置 singleItem 和 ViewCart 代码：-

单品代码：-

```
 public class SingleMenuItem extends Activity{
static final String KEY_TITLE = "title";
static final String KEY_COST = "cost";
static final String KEY_THUMB_URL = "imageUri";
private EditText edit_qty_code;
private TextView txt_total;
private TextView text_cost_code;
private double itemamount = 0;
private double itemquantity = 0;

@Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.single);

    Intent in = getIntent();
    String title = in.getStringExtra(KEY_TITLE);
    String thumb_url = in.getStringExtra(KEY_THUMB_URL);
    String cost = in.getStringExtra(KEY_COST);

    ImageLoader imageLoader = new ImageLoader(getApplicationContext());

    ImageView imgv = (ImageView) findViewById(R.id.single_thumb);
    TextView txttitle = (TextView) findViewById(R.id.single_title);
    TextView txtcost = (TextView) findViewById(R.id.single_cost);
    TextView txtheader = (TextView) findViewById(R.id.actionbar);

    txttitle.setText(title);
    txtheader.setText(title);
    txtcost.setText(cost);
    imageLoader.DisplayImage(thumb_url, imgv);

    text_cost_code = (TextView)findViewById(R.id.single_cost);
    edit_qty_code = (EditText)findViewById(R.id.single_qty);
    txt_total=(TextView)findViewById(R.id.single_total);

    itemamount=Double.parseDouble(text_cost_code.getText().toString());
    txt_total.setText(Double.toString(itemamount));

    edit_qty_code.addTextChangedListener(new TextWatcher() {

    public void onTextChanged(CharSequence s, int start, int before, int count) {

    // TODO Auto-generated method stub
    }
    public void beforeTextChanged(CharSequence s, int start, int count,
    int after) {

    // TODO Auto-generated method stub
    }
    public void afterTextChanged(Editable s) {
         itemquantity=Double.parseDouble(edit_qty_code.getText().toString());
         itemamount=Double.parseDouble(text_cost_code.getText().toString());
         txt_total.setText(Double.toString(itemquantity*itemamount));
    }
    });             

    ImageButton addToCartButton = (ImageButton) findViewById(R.id.img_add);
    addToCartButton.setOnClickListener(new OnClickListener() {

    public void onClick(View v) {    

        Intent in = new Intent
           (SingleMenuItem.this, com.erachnida.restaurant.versionoct.FinalOrder.class);
        in.putExtra(KEY_TITLE, getIntent().getStringExtra(KEY_TITLE)); 
        in.putExtra(KEY_COST, getIntent().getStringExtra(KEY_COST));
        startActivity(in);

            // Close the activity
            //  finish();
        }
    });    
}} 
```

查看购物车代码：-

```
public class FinalOrder extends Activity
{
static final String KEY_TITLE = "title";
static final String KEY_COST = "cost";
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.view);     

    Intent in = getIntent();

    String title1 = in.getStringExtra(KEY_TITLE);
    String cost1 = in.getStringExtra(KEY_COST);

    TextView txttitle1 = (TextView) findViewById(R.id.item_name);
    TextView txtcost1 = (TextView) findViewById(R.id.item_cost);

    txttitle1.setText(title1);
    txtcost1.setText(cost1);    

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T05:21:45.077

使用以下代码删除您的 onclick 代码。

```
 public void onClick(View v) {    

    Intent in = new Intent
       (SingleMenuItem.this, com.erachnida.restaurant.versionoct.FinalOrder.class);
    in.putExtra(KEY_TITLE, title); 
    in.putExtra(KEY_COST, cost);
    startActivity(in);

        // Close the activity
        //  finish();
    } 
```

# android - css display:none 在 android2.1 模拟器 webview 上不起作用

> ID：13117991
> 
> 赞同：0
> 
> 时间：2012-10-29T08:16:24.710
> 
> 标签：android, css, webview, hidden-field

我的 HTML 使用 CSS 隐藏了一些元素`display:none`，并且我在 Webview 中呈现 HTML，隐藏的元素仍然显示在 Android 2.1 模拟器上。

在 android 2.2 / 4.0 模拟器上测试，它工作正常。

有人知道解决方案吗？

CSS文件内容：

```
.hidden{
display:none; 
```

}

并为隐藏元素添加类

```
<input> type="text" class="hidden" id="uid" name='uid'></input> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T08:38:41.663

您应该使用自动关闭标签，`"`而不是`'`删除`>`过早关闭标签的标签。

```
<input type="text" class="hidden" id="uid" name="uid" /> 
```

# fonts - 环绕的文本背景与不同行上的其他文本重叠

> ID：13117993
> 
> 赞同：8
> 
> 时间：2012-10-29T08:16:28.530
> 
> 标签：fonts, css

我在使用 css 的 line-height + text 背景样式方面遇到问题。

```
<style>
.wrap  {
    width: 70%; 
    line-height:0.9;
}
.hl {

        background-color: orange;
}
</style>
<div class="wrap">
       <span class="hl">
          Some content will go here which will be split into several lines depending of resolution (depending on width of wraper)
       </span>
</div> 
```

我有根据浏览器宽度换行为多行的动态文本此文本的行高小于“正常”。当我将背景颜色应用于文本时，此背景与下行字母的底部重叠：g、p、y、q、j

![在此处输入图像描述](../Images/3d5dbbf2da90d67dbffc438acbe6769f.png) 似乎文本在浏览器中呈现，使得第二行/下一行文本（及其背景颜色）位于第一行/上一行文本的前面，因此第二行的背景位于下行字母的前面到行高。

每一行都有一个新的背景，因为我们正在谈论一个内联元素。我当然需要使用内联元素来获取文本背景。我需要用css或JS来解决这个问题，而不改变文本的文本行高。

附加信息：我在这里找到了一个很好的答案： [在每行文本的开头和结尾添加填充](https://stackoverflow.com/questions/4994653/add-padding-at-the-beginning-and-end-of-each-line-of-text)

由三十多点回答（在问题下方接受答案），但如果你检查他的现场演示解决方案，并将那里的 line-height 更改为更小的值，你会遇到和我一样的问题。 [演示](http://jsfiddle.net/JnLje/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T08:20:06.593

因为你`line-height`的更少，我可以看到你正在为你的文本应用背景颜色，所以`line-height`在没有指定单位的情况下增加你的和更多，比如`em`或`px`你的`line-height`属性，顺便说一句，不需要添加填充

尝试这个 ：

```
line-height:25px; 
```

更多信息：您需要提供，`inline-block;`因为您使用的是跨度，您可以简单地使用 a`div`代替

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T17:39:57.000

一种解决方案：如果你想保持你的行高小于“正常”，而不是使用彩色背景，使用重复的 png 图像。在此 png 的顶部添加一个透明区域，该区域等于重叠的高度。:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-27T21:28:21.053

将文本包裹在跨度内并将跨度位置设置为相对。这会做！

CSS：

```
.your-backgrounded-h1-class span { position: relative; } 
```

HTML：

```
<h1 class="your-backgrounded-h1-class"><span>Your Text!</span></h1> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-01-24T07:06:53.603

给`<span>` `display: inline-block;`

```
.wrap {
  width: 70%;
  line-height: 0.9;
}

.hl {
  font-size: 3em;
  background-color: orange;
  display: inline-block;
}
```

```
<div class="wrap">
  <span class="hl">
          Some content will go here which will be split into several lines depending of resolution (depending on width of wraper)
       </span>
</div>
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-10-07T02:14:20.900

对于任何对当前答案不满意的人，我找到了一个解决方案，它允许任何`line-height`并且适用于跨行的文本。使用渐变`background-image`。您可能需要根据需要调整百分比。

```
background-image: linear-gradient(to bottom, transparent, transparent 17%, orange 17%, orange); 
```

# android - 没有得到我点击的项目的价值

> ID：13117996
> 
> 赞同：1
> 
> 时间：2012-10-29T08:16:38.507
> 
> 标签：android

我正在尝试检索我单击的章节的名称，但在调试时它在 setOnChildClick 方法中显示字符串“selected”的值是“com.tutorial.expandListView.Classes.ExpandListChild@44f49728”。请就它或我犯错误的地方提出一些建议。

主活动.java

```
public class MainActivity extends Activity {

    /** Called when the activity is first created. */
    private ExpandListAdapter ExpAdapter;
    private ArrayList<ExpandListGroup> ExpListItems;
    private ExpandableListView ExpandList;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        ExpandList = (ExpandableListView) findViewById(R.id.ExpList);
        ExpListItems = SetStandardGroups();
        ExpAdapter = new ExpandListAdapter(MainActivity.this, ExpListItems);
        ExpandList.setAdapter(ExpAdapter);
        ExpandList.setOnChildClickListener(new OnChildClickListener() {

            public boolean onChildClick(ExpandableListView parent, View v,
                    int groupPosition, int childPosition, long id) {
                // TODO Auto-generated method stub

                String selected= ExpAdapter.getChild(groupPosition, childPosition).toString();
                System.out.print(selected);
                return false;
            }
        });
    }

    public ArrayList<ExpandListGroup> SetStandardGroups() {
        ArrayList<ExpandListGroup> list = new ArrayList<ExpandListGroup>();
        ArrayList<ExpandListChild> list2 = new ArrayList<ExpandListChild>();
        ExpandListGroup gru1 = new ExpandListGroup();
        gru1.setName("Unit1");
        ExpandListChild ch1_1 = new ExpandListChild();
        ch1_1.setName("chapter11");
        ch1_1.setTag(null);
        list2.add(ch1_1);
        ExpandListChild ch1_2 = new ExpandListChild();
        ch1_2.setName("chapter12");
        ch1_2.setTag(null);
        list2.add(ch1_2);
        ExpandListChild ch1_3 = new ExpandListChild();
        ch1_3.setName("chapter13");
        ch1_3.setTag(null);
        list2.add(ch1_3);
        gru1.setItems(list2);
        list2 = new ArrayList<ExpandListChild>();

        ExpandListGroup gru2 = new ExpandListGroup();
        gru2.setName("Unit2");
        ExpandListChild ch2_1 = new ExpandListChild();
        ch2_1.setName("chapter21");
        ch2_1.setTag(null);
        list2.add(ch2_1);
        ExpandListChild ch2_2 = new ExpandListChild();
        ch2_2.setName("chapter22");
        ch2_2.setTag(null);
        list2.add(ch2_2);
        ExpandListChild ch2_3 = new ExpandListChild();
        ch2_3.setName("chapter23");
        ch2_3.setTag(null);
        list2.add(ch2_3);
        gru2.setItems(list2);
        list.add(gru1);
        list.add(gru2);

        return list;
    }
} 
```

ExpandListAdapter.java

```
public class ExpandListAdapter extends BaseExpandableListAdapter {

    private Context context;
    private ArrayList<ExpandListGroup> groups;
    public ExpandListAdapter(Context context, ArrayList<ExpandListGroup> groups) {
        this.context = context;
        this.groups = groups;
    }

    public void addItem(ExpandListChild item, ExpandListGroup group) {
        if (!groups.contains(group)) {
            groups.add(group);
        }
        int index = groups.indexOf(group);
        ArrayList<ExpandListChild> ch = groups.get(index).getItems();
        ch.add(item);
        groups.get(index).setItems(ch);
    }
    public Object getChild(int groupPosition, int childPosition) {
        // TODO Auto-generated method stub
        ArrayList<ExpandListChild> chList = groups.get(groupPosition).getItems();
        return chList.get(childPosition);
    }

    public long getChildId(int groupPosition, int childPosition) {
        // TODO Auto-generated method stub
        return childPosition;
    }

    public View getChildView(int groupPosition, int childPosition, boolean isLastChild, View view,
            ViewGroup parent) {
        ExpandListChild child = (ExpandListChild) getChild(groupPosition, childPosition);
        if (view == null) {
            LayoutInflater infalInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);
            view = infalInflater.inflate(R.layout.expandlist_child_item, null);
        }
        TextView tv = (TextView) view.findViewById(R.id.tvChild);
        tv.setText(child.getName().toString());
        tv.setTag(child.getTag());
        // TODO Auto-generated method stub
        return view;
    }

    public int getChildrenCount(int groupPosition) {
        // TODO Auto-generated method stub
        ArrayList<ExpandListChild> chList = groups.get(groupPosition).getItems();

        return chList.size();

    }

    public Object getGroup(int groupPosition) {
        // TODO Auto-generated method stub
        return groups.get(groupPosition);
    }

    public int getGroupCount() {
        // TODO Auto-generated method stub
        return groups.size();
    }

    public long getGroupId(int groupPosition) {
        // TODO Auto-generated method stub
        return groupPosition;
    }

    public View getGroupView(int groupPosition, boolean isLastChild, View view,
            ViewGroup parent) {
        ExpandListGroup group = (ExpandListGroup) getGroup(groupPosition);
        if (view == null) {
            LayoutInflater inf = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);
            view = inf.inflate(R.layout.expandlist_group_item, null);
        }
        TextView tv = (TextView) view.findViewById(R.id.tvGroup);
        tv.setText(group.getName());
        // TODO Auto-generated method stub
        return view;
    }

    public boolean hasStableIds() {
        // TODO Auto-generated method stub
        return true;
    }

    public boolean isChildSelectable(int arg0, int arg1) {
        // TODO Auto-generated method stub
        return true;
    }
} 
```

ExpandListChild.java

```
public class ExpandListChild {

    private String Name;
    private String Tag;

    public String getName() {
        return Name;
    }
    public void setName(String Name) {
        this.Name = Name;
    }
    public String getTag() {
        return Tag;
    }
    public void setTag(String Tag) {
        this.Tag = Tag;
    }
} 
```

ExpandListGroup.java

```
import java.util.ArrayList;

public class ExpandListGroup {

    private String Name;
    private ArrayList<ExpandListChild> Items;

    public String getName() {
        return Name;
    }
    public void setName(String name) {
        this.Name = name;
    }
    public ArrayList<ExpandListChild> getItems() {
        return Items;
    }
    public void setItems(ArrayList<ExpandListChild> Items) {
        this.Items = Items;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T08:38:52.817

在 setOnChildClickListener() 中使用类似的东西：

```
ExpandableListAdapter adapter = ExpandList.getExpandableListAdapter();
ExpandListChild elc = adapter.getChild(groupPosition, childPosition);
String selected = elc.getName(); 
```

# java - 安卓字典应用和数据库查询

> ID：13117999
> 
> 赞同：1
> 
> 时间：2012-10-29T08:16:47.937
> 
> 标签：java, android, database, sqlite, dictionary

我一直在浏览这个网站寻找答案，我已经得到了一些答案，但我仍然无法开始我的项目。我在这里有点不知所措。

我有我的论文，它是一个使用 porter 词干算法的 android 字典应用程序。

我的想法是输入词>词干输入>搜索词数据库基于“词干”词>返回结果（如果词干匹配数据库中的一个词，返回它的词及其定义，如果不是，显示一些东西像“找不到单词”）

数据库应保存在设备上，因此不再需要 wifi 连接，就像适用于 android 的 WordNet 词典应用程序一样。

我认为有可能做这个项目，不是吗？我正在使用 Eclipse Juno。

现在我的问题是：

1）我的论文想法可行吗？

2）我应该使用什么数据库？我正在使用 sqliteman。因为它有 GUI，所以节省了我的时间。我被告知 SQLite 是最好的。但是，我可以在不制作服务器的情况下将 MS Access 与这个一起使用吗？（我认为 MSAccess 会节省我的时间，因为我已经有一个用于 msaccess [.accdb] 的单词数据库。）

很抱歉，很长的帖子和问题。我是一名计算机科学专业的学生，​​刚刚开始学习 Java 和 Eclipse。只是需要帮助以确保我走在正确的轨道上。

谢谢大家！:)

-乔恩

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T08:35:31.517

1.  是的。
2.  您不能在 Android 上使用 MS Access。你应该使用 SQLite 的原因是它已经安装在 Android 上，并且有一些库可以在 Android 上使用 SQLite。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T08:27:16.973

是的。你的论文很有可能。我会为您的数据库推荐 sqlite。您可以选择保存 sqlite 文件或在您的应用程序中手动创建表。至于这个过程

> 输入词 > 输入词干 > 根据“词干”词搜索词库 > 返回结果

试试这个 tut [http://www.codeproject.com/Articles/119293/Using-SQLite-Database-with-Android](http://www.codeproject.com/Articles/119293/Using-SQLite-Database-with-Android)