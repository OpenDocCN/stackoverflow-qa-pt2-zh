# StackOverflow 问答 13263000-13263999

# xcode - UIWebview 注销

> ID：13263001
> 
> 赞同：0
> 
> 时间：2012-11-07T04:09:33.923
> 
> 标签：xcode, uiwebview, background

当应用程序进入后台时，谁能告诉我如何注销 UIWebview？

我需要通过UIWebview调用一个js函数比如offline()。

当我用 [mywebview stringByEvaluatingJavaScriptFromString:@"offline()"] 调用此函数时；这种方法不起作用。但是当应用程序进入前台时这是有效的。

我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T04:23:26.690

在应用程序进入后台之前，javascript 可能没有及时执行。您可以通过在 appdelegate 的 applicationWillResignActive 方法中运行 backgroundTask 来请求更多时间：

```
bgTask = [[UIApplication sharedApplication] beginBackgroundTaskWithExpirationHandler:^{                        
    dispatch_async(dispatch_get_main_queue(), ^{
        if (bgTask != UIBackgroundTaskInvalid){
            [app endBackgroundTask:bgTask];
            bgTask = UIBackgroundTaskInvalid;
        }
    });
}]; 
```

还要确保在您知道您的 javascript 完成后结束后台任务（因为它的 javascript 在 webview 中，唯一的方法可能是在 N 秒后调用它）：

```
// After N sections execute this:
if (bgTask != UIBackgroundTaskInvalid) {
    [[UIApplication sharedApplication] endBackgroundTask:bgTask];
    bgTask = UIBackgroundTaskInvalid;
} 
```

# c# - 有没有办法改变 .net mvc bin dir 位置？

> ID：13263002
> 
> 赞同：17
> 
> 时间：2012-11-07T04:09:46.693
> 
> 标签：c#, asp.net, .net, asp.net-mvc-4, iis-7.5

我有一个相当标准和简单的 MVC4 网站。

在根目录中，我们有：bin、内容、脚本、视图。使用项目的 DLL 的默认设置，我们将其称为“web.dll”，所有必要的额外内容都放在 bin 目录中。

不知何故，ASP.NET 开发服务器和 IIS7.5 都知道在托管站点时在 bin 文件夹中查找“web.dll”，如果它不存在，它们会抛出错误：“无法加载类型'CVD.Web.MvcApplication '”。该错误的标准解决方案是直接构建到 bin 文件夹中，这对我不起作用，因为......

出于调试目的，我希望能够将调试和发布配置分别构建到 bin/Debug 和 bin/Release 中，然后部署两个目录，然后在 IIS、web.config、global.asax 或在其他任何地方选择是否应该由服务器加载和执行 Debug 或 Release 构建。

我无法找到这是否可能，或者 .net webapps 是否有一个愚蠢的硬编码规则，即所有代码都必须存在于 bin 目录中。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-07T06:01:46.400

好的，所以在 Sen Jacob 提供的几个链接和更多研究的帮助下，我发现只需使用 web.config 就可以完成所有工作。

首先，我们需要提供新路径并告诉程序集名称，因为我们正在远离默认值：

```
<configuration>
    <system.web>
        <compilation debug="true" targetFramework="4.0">
            <assemblies>
                <add assembly="Something.Web" />
            </assemblies>        
        </compilation>
    </system.web>
    <runtime>
        <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
            <probing privatePath="bin\debug" />
        </assemblyBinding>
    </runtime>
</configuration> 
```

现在，出于某种原因，人们建议在其他任何地方指定`privatePath`相对于 bin dir （即`privatePath="debug"`），但是在我的情况下，它必须相对于应用程序根目录（即如上所述）。也许这是 .net4 的更改或我缺少的其他配置设置，不确定；如果有人有更好的主意，请随时编辑/评论。

在这个阶段，如果服务器找到文件，并成功加载程序集和类，它将开始抱怨所有丢失的引用文件，我必须在旁边添加`<add assembly="Something.Web" />`：

```
 <assemblies>
        <add assembly="Something.Web" />
        <add assembly="System.Web.Mvc" />
        <add assembly="System.Web.Optimization" />
        <add assembly="System.Web.Helpers" />
        <add assembly="System.Web.WebPages" />
    </assemblies> 
```

根据我收集的内容，它会在站点启动时重新编译程序集（不确定）。

资料来源： [1](http://forums.asp.net/t/1710658.aspx/1) [2](http://forums.asp.net/t/1303052.aspx) [3](https://stackoverflow.com/questions/2967248/removing-all-assemblies-from-compilationassemblies-in-asp-net-4-web-config)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-01-10T05:01:15.573

我遇到过同样的问题。为了解决这个问题，我在构建后事件中为目标目录创建了一个名为“bin”的目录连接：

```
if exist "$(ProjectDir)bin" rmdir "$(ProjectDir)bin"
mklink /J "$(ProjectDir)bin" "$(TargetDir)" 
```

通过这种方式，您可以将输出路径设置到其他位置，甚至完全在源代码树之外。

IISExpress 仍将在源代码树中的项目文件夹中运行，但会沿着 bin 结点查找已构建的 DLL。请注意，其他文件将从源树位置使用。

如果您切换构建配置，则每次都会删除并重新创建联结。

确保 bin 目录在您的旧构建设置中不存在，如果（真实）bin 目录中有文件，则 rmdir 将不起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-09-03T22:35:53.240

由于`probing privatePath`非常有限（它只能指向一个子目录）我认为 mikek 的答案是最好的。但是还有一种选择：手动编辑`applicationhost.config`文件并更改路径。

在`applicationhost.config`文件内（应该位于`.vs\config\`Visual Studio 在您的解决方案目录中创建的目录内），找到您的站点并将其更改为`physicalPath`您想要的任何位置。

请记住，您必须将路径设置为实际 bin 目录上方的一个目录。而且它变得更糟：您还必须记住将 the`Global.asax`和 the都复制`web.config`到该目录。最后你会有

```
phsicalPath="Z:\myRamDisk\MySite"
    Z:\myRamDisk\MySite
        bin\
        Global.asax
        Web.config 
```

您甚至可以使用构建来复制所需的文件。

这很糟糕，但至少它有效。要么是那个，要么是`mklink`mikek 的建议。

# airplay - Airplay Mirroring 中如何进行渲染？

> ID：13263005
> 
> 赞同：1
> 
> 时间：2012-11-07T04:10:09.233
> 
> 标签：airplay

我有一个关于 Apple 的 Airplay 镜像技术的问题，其中一台设备托管游戏，而其他设备可以加入该游戏。

Airplay Mirroring 的新功能之一是能够使用您的高清电视显示游戏的分屏（参见图片[http://cdn.gamerant.com/wp-content/uploads/Real-Racing-2-to -Add-Multiplayer-Party-Play-Using-AirPlay.jpg](http://cdn.gamerant.com/wp-content/uploads/Real-Racing-2-to-Add-Multiplayer-Party-Play-Using-AirPlay.jpg)）。

我的问题是主机设备是否为所有播放器完成所有渲染工作，然后将图像流式传输到所有其他设备？我问这个是因为上面的游戏只需要主机设备启用 Airplay 才能使用分屏功能（加入游戏的其他设备可以是任何兼容 Airplay 的设备），所以在我看来它是唯一能够流式传输到高清电视的设备？

您可以在此处查看游戏的要求[http://firemint.com/2011/guide-to-setting-up-airplay-and-party-play/](http://firemint.com/2011/guide-to-setting-up-airplay-and-party-play/)

谢谢

# python - jinja2：默认布局

> ID：13263010
> 
> 赞同：2
> 
> 时间：2012-11-07T04:11:26.020
> 
> 标签：python, layout, jinja2

假设这是我的代码：

```
from jinja2 import Environment, PackageLoader

def render(path, **kwargs):
  env = Environment()
  env.loader = PackageLoader('lemma.app.views', '')
  template = env.get_template(path)

  return str(template.render(**kwargs)) 
```

这是我的模板：

```
{% extends "layouts/application.html" %}

{% block content %}
  bla
{% endblock %} 
```

有没有办法在我的代码中设置布局，而不是在我的模板中，或者我应该`{% extends "layouts/application.html" %}`像白痴一样在每个模板中编写？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T23:36:13.037

您可以在子模板的扩展中使用变量：{% extends layout %}。这使得更改您的基础/布局模板变得容易，并且可以选择另一个基础/布局模板。我使用扩展变量，因为对于同一个孩子的不同布局模板。子模板是网页的一部分或fancybox iframe 的一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T05:03:21.790

最后我定义`LemmaLoader`了继承自的类`PackageLoader`，并覆盖了方法`get_source`。

# xcode - 提到“移动”是模棱两可的

> ID：13263011
> 
> 赞同：0
> 
> 时间：2012-11-07T04:11:28.747
> 
> 标签：xcode, reference, enums, ambiguous

在代码的这个特定部分中，Xcode 发现以下错误：对“移动”的引用不明确。此外，它说：枚举值“移动”未在开关中处理；这是胡说八道，因为包含该值的类。

```
while(!done){
        //m=rand()%NUM;
        for(m=0;m<NUM;++m){
            if(piece[m].onBoard()){
                sitRep=getIntel(piece,m);
                r=piece[m].recommend(sitRep);
                switch(r){
                    case nothing: break;
                    case lft: piece[mn].turnLeft(); break;
                    case rght: piece[m].turnRight(); break;
                    case rear: piece[m].aboutFace(); break;
                    case move:
                        piece[m].moveForward();
                        if(piece[m].getX()<0||piece[m].getX()>=DIM)piece[m].die();
                        if(piece[m].getY()<0||piece[m].getY()>=DIM)piece[m].die();
                        break;
                    case attck:
                        hits=piece[m].attack();
                        makeSuffer(piece,m,hits);
                        break;
                }
                if(line[0]=='q')done=true;
            }
        } 
```

类如下：

```
enum provinceName {anjou, flandre, gascogne, bretagne};
enum compassPoint {U, R, D, L};
enum recommendation {move, nothing, lft, rght, rear, attck};
enum id {empty, ally, enemy, abyss};

// this struct is given to the unit when a recommendation is requested
struct intel{
    id inFront;
    int inFrontNum;

    id inRear;
    int inRearNum;

    id inLeft;
    int inLeftNum;

    id inRight;
    int inRightNum;

    compassPoint nearestEnemyDir;
    int nearestEnemyDist;
    int nearestEnemyNum;

    compassPoint weakestEnemyDir;
    int weakestEnemyDist;
    int weakestEnemyNum;

    compassPoint strongestEnemyDir;
    int strongestEnemyDist;
    int strongestEnemyNum;

    compassPoint nearestAllyDir;
    int nearestAllyDist;
    int nearestAllyNum;

    compassPoint weakestAllyDir;
    int weakestAllyDist;
    int weakestAllyNum;

    compassPoint strongestAllyDir;
    int strongestAllyDist;
    int strongestAllyNum;
};

class gamePiece{
public:
    // return the status of the alive variable
    bool onBoard();

    // return the current x value
    int getX();

    // return the current y value
    int getY();

    // return the current direction
    compassPoint getDir();

    // return the number of soldiers in the unit
    int getNumElements();

    // return the province
    provinceName getProvince();

    // set alive to false
    void die();

    // change the direction for a left turn
    void turnLeft();

    // change the direction for right turn
    void turnRight();

    // change the direction for an about face
    void aboutFace();

    // change x and y for a forward move
    void moveForward();

    // roll a die for each soldier in the unit.
    // each 5 or 6 counts as a 'hit'.
    // return the number of hits.
    int attack();

    //return lft, rght, rear, move, attck, or nothing
    recommendation recommend(intel sitRep);

    // reduce the number of soldiers by hits
    int suffer(int hits);

    // construct a nonliving gamepiece
    gamePiece();

    // construct a living gamepeice
    gamePiece(int col, int row, compassPoint direction, int num, provinceName p);

private:
    int numSoldiers;
    int x;
    int y;
    compassPoint dir;
    provinceName province;
    bool alive;

}; 
```

有人可以找出问题所在吗？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T04:19:04.517

可能是 lft:piece[mn].turnLeft(); 休息;？mn是什么？不应该是m吗？顺便说一句，我在做同样的任务。

# excel - 在 Excel 中从 URL 加载图像

> ID：13263019
> 
> 赞同：2
> 
> 时间：2012-11-07T04:12:32.880
> 
> 标签：excel, vba

基本上我有一个包含超过 20,000 个 URL 的巨大 Excel 电子表格。单击每个链接检查图像对我来说效率非常低。相反，我想知道是否可以从一个单元格中获取 url 并将图像加载到另一个单元格中。这当然必须是一个循环，因为我有很多图像要加载。到目前为止，我已经找到了一个线程，但我不知道如何实现这段代码。

[如何让图像出现在 Excel 给定的图像 url](https://stackoverflow.com/questions/6312710/how-to-get-images-to-appear-in-excel-given-image-url)

如果有人能告诉我如何使用这个代码，那就太好了，你也会拯救我的理智。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:52:13.227

当您的 Excel 工作表打开时，按`ALT`+ `F11` (Edit: Not `Ctrl`) 这将打开 Visual Basic 编辑器。从那里，找到屏幕左侧的项目资源管理器。它应该看起来像`VBAProject (YourWorkBookName.XLS)` 右键单击它并选择插入-> 模块。

您应该看到一个空白区域供您输入代码。只需粘贴您从另一篇文章中找到的代码，但请确保将其粘贴到 SUB 定义中，如下所示：

```
Sub AnyNameCanBeChoosen()

   ' Paste your code Here

End Sub 
```

然后按 F5 执行您的代码。

# java - 在 Java 中更改本地计算机 IP

> ID：13263020
> 
> 赞同：0
> 
> 时间：2012-11-07T04:12:39.197
> 
> 标签：java, linux, network-programming, ip

是否可以使用 Java 更改为机器的 IP 地址？

相当于这个linux命令的东西：

```
ifconfig eth0 [new-ip-address] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T04:16:06.717

well`java.net.NetworkInterface`提供有关您的网络接口的信息。但是，您机器的 IP 地址是高度特定于操作系统的。我不认为有一个简单的方法来改变它。

此外，IP 地址是由 DHCP 自动分配的。（我使用的是 Thilo 指出的 DHCP）

`java.lang.Runtime`但是我已经成功实现了一个可以使用类运行一些 DOS 命令的代码。

因此，您可以尝试使用`netsh int ip set address "local area connection" static 192.168.0.101 255.255.255.0 192.168.0.254 1`java 中的 DOS 命令类型分配静态 IP 地址。

我认为没有平台独立的方式，但您可以使用这些链接找到操作系统信息

1.[使用Java获取os级系统信息](https://stackoverflow.com/questions/25552/using-java-to-get-os-level-system-information)

2.[查找操作系统信息](http://www.roseindia.net/java/beginners/OSInformation.shtml)

3.[如何使用Java获取系统信息](http://nadeausoftware.com/articles/2008/03/java_tip_how_get_cpu_and_user_time_benchmarking)

您可以根据系统信息使用一些 if-else 语句，然后调用相应的命令

# sql - 需要建议以根据审计表重新创建表的历史记录

> ID：13263023
> 
> 赞同：3
> 
> 时间：2012-11-07T04:13:01.350
> 
> 标签：sql, database, sql-server-2008

好的，伙计们，我有一个紧急需求。我的任务是根据每个字段的各个审计表追溯地重新创建活动表的多个字段的更改的准确历史记录。我有一个 SQL Server 代理作业，目前每天从 2012 年 10 月 16 日开始执行此操作，但需要立即添加记录以将历史改回 2012 年 1 月 1 日。

为了使我的问题更加复杂，我需要根据这些审计记录从上到下反映对整个层次结构的每日更改。

这是我所拥有的：

活动表：

```
empId varchar(20),
first_name varchar(50),
last_name varchar(50),
cost_center varchar(20), -- need to re-create history
mgr_empId varchar(20), -- need to re-create history
start_dt date, -- starting date range of active record
end_dt date, -- end of active record - default value of 12/31/2999 = active record
hierarchy_empId varchar (200), --derived field from a nasty self-referencing function (12x)
hierarchy_name varchar(1000) -- derived from the same function as the field above. 
```

例子：

员工 A1000，Tim Lee 于 2012 年 3 月 1 日进入组织，经理 Bill A（员工 ID B1000）进入成本中心 01552。

```
A1000 蒂姆·李 01552 B1000 3/1/2012 12/31/2999 B1000>A1000 比尔 A>蒂姆·李
B1000 法案 A 01552 NULL 1/1/2011 12/31/2999 B1000 法案 A

```

在 2012 年 5 月 1 日，夜间作业为 Tim 增加了一个增量，并且 Tim 的成本中心更改为 31550。因此，他的当前记录更新为昨天的结束日期，并输入了一个新的“当前”记录，如下所示：

```
A1000 蒂姆·李 01552 B1000 3/1/2012 4/30/2012 B1000>A1000 比尔 A>蒂姆·李
B1000 法案 A 01552 NULL 1/1/2011 12/31/2999 B1000 法案 A
A1000 蒂姆·李 31550 B1000 5/1/2012 12/31/2999 B1000>A1000 比尔 A>蒂姆·李

```

2012 年 6 月 15 日，在 Tim 的经理手下聘用了新经理 Ben C，员工 ID C1000：

```
A1000 蒂姆·李 01552 B1000 3/1/2012 4/30/2012 B1000>A1000 比尔 A>蒂姆·李
B1000 法案 A 01552 NULL 1/1/2011 12/31/2999 B1000 法案 A
A1000 蒂姆·李 31550 B1000 5/1/2012 6/14/2012 B1000>A1000 比尔 A>蒂姆·李
C1000 本 C 31550 A1000 6/15/2012 12/31/2999 A1000>C1000 比尔 A>本 C
A1000 蒂姆·李 31550 B1000 6/15/2012 12/31/2999 B1000>C1000>A1000 比尔 A>Ben C>蒂姆·李

```

这些更新必须在层次结构中渗透。所以，如果蒂姆上面有什么变化，也必须反映在他的记录中。

7 月 15 日，Tim 的原经理 Bill A 获得了新经理 Mark S，员工 ID X3000。

```
A1000 蒂姆·李 01552 B1000 3/1/2012 4/30/2012 B1000>A1000 比尔 A>蒂姆·李
B1000 法案 A 01552 NULL 1/1/2011 7/14/2012 B1000 法案 A
A1000 蒂姆·李 31550 B1000 5/1/2012 6/14/2012 B1000>A1000 比尔 A>蒂姆·李
C1000 本 C 31550 A1000 6/15/2012 7/14/2012 A1000>C1000 比尔 A>本 C
A1000 蒂姆李 31550 C1000 6/15/2012 7/14/2012 B1000>C1000>A1000 比尔 A>Ben C>蒂姆李
X3000 Mark S 01000 NULL 7/15/2012 12/31/2999 X3000 Mark S
A1000 蒂姆·李 31550 C1000 7/15/2012 12/31/2999 X3000>B1000>C1000>A1000 Mark S>Bill A>Ben C>Tim Lee
B1000 账单 A 01552 X3000 7/15/2012 12/31/2999 X3000>B1000 马克 S>账单 A
C1000 本 C 31550 B1000 7/15/2012 12/31/2999 X3000>B1000>C1000 马克 S>比尔 A>本 C

```

我有这些审计表：

**tblManagerAudit**

```
empId varchar(20),
chgTimestamp datetime,
oldMgr varchar(20),
newMgr varchar(20) 
```

**tblCostCenter 审计**

```
empId varchar(20),
chgTimnestamp datetime,
oldCostCenter varchar(20),
newCostCenter varchar(20) 
```

很长一段时间以来，我一直在为如何合并审计记录而苦苦挣扎，并感谢任何意见。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T18:32:54.703

我认为这应该让你继续：

```
SELECT ma1.*, ma2.*
FROM ManagerAudit ma1
LEFT JOIN ManagerAudit ma2
ON ma1.empId = ma2.empId
    and ma1.chgTimestamp < ma2.chgTimestamp
AND NOT EXISTS
  (SELECT * FROM ManagerAudit ma3
   WHERE ma3.empID = ma1.empID
         AND ma3.chgTimestamp > ma1.chgTimestamp
         AND ma3.chgTimestamp < ma2.chgTimestamp) 
```

# silverlight - 使用 Selenium Webdriver 的 Silverlight 和 Flex 应用程序自动化

> ID：13263024
> 
> 赞同：0
> 
> 时间：2012-11-07T04:13:07.330
> 
> 标签：silverlight, apache-flex, selenium, webdriver

我目前正在研究如何使用 selenium webdriver 自动化基于 Silverlight 和 flex 的应用程序。我阅读了很多关于 Stack Overflow 的博客和很多问题，但无论是否可能，我仍然没有得到答案。

如果有人有使用 webdriver 自动化此类应用程序的经验，请告诉我确切的步骤。

我们落后于 webdriver 的原因是对多种浏览器的支持。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:37:41.460

Selenium 可能不支持 Silver light 应用程序的所有控件，最好使用 White Code plex 自动化 Silver light。

# opencv - OpenCV 将什么相机校准算法用于非共面校准装置？

> ID：13263030
> 
> 赞同：4
> 
> 时间：2012-11-07T04:14:04.640
> 
> 标签：opencv, camera-calibration

到目前为止，我一直在使用张的单应性技术进行相机校准。但是校准的准确性不够（在采取必要措施改进后：示例：跨越整个 FOV、距离变化等）

我在一些文献中读到非共面校准装置会产生更好的结果。我不明白这个建议背后的确切原因。如果有人可以向我解释如何提高准确性，那就太好了。更好的是，向我指出 OpenCV 中用于非共面校准装置的算法。

该算法基于 OpenCV[文档，基于 Bouguet 的](http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html#calibratecamera)[Camera Calibration ToolBox](http://www.vision.caltech.edu/bouguetj/calib_doc/index.html#links)实现。但是，我不确定 OpenCV 是使用 Heikkila 的方法（第三个示例）还是 Bakstein 和 Halir 的方法（第四个示例）。如果没有任何帮助，我打算浏览 OpenCV 源代码。

# android - 如何使用 GridLayout 使表单标签适应 Android 上的方向

> ID：13263031
> 
> 赞同：2
> 
> 时间：2012-11-07T04:14:14.723
> 
> 标签：android, android-orientation, android-gridlayout

我有一个表格，我想在单列中显示：

```
 account name
______________________

       password
______________________

[       connect       ] 
```

当水平空间有限时（即纵向）。当水平空间充足时，我希望它流入两列方向：

```
account name _________________
    password _________________
[          connect            ] 
```

我知道您可以使用一对布局资源来做到这一点，但我希望只有一个布局具有动态列数。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T04:14:14.723

这可能不是一个有用的例子，但该方法可能证明是有用的。

首先，`GridLayout`

```
<GridLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:padding="16dp"
        android:useDefaultMargins="true"
        android:columnCount="@integer/create_account_pane_column_count"
        android:alignmentMode="alignBounds" >

<!-- Error messages -->
<TextView
        android:id="@+id/errors"
        android:layout_columnSpan="@integer/create_account_pane_column_count"
        android:textColor="@color/error_red"
        android:textSize="@dimen/small_text_size" />

<TextView
        android:id="@+id/account_name_label"
        android:layout_gravity="fill_horizontal"
        android:text="@string/label_account_name"
        android:textColor="?android:textColorSecondary" />

<EditText
        android:id="@+id/account_name"
        android:layout_gravity="fill_horizontal"
        android:ems="10"
        android:hint="@string/hint_account_name"
        android:inputType="textNoSuggestions" >

    <requestFocus />
</EditText>

<TextView
        android:id="@+id/password_label"
        android:layout_gravity="fill_horizontal"
        android:text="@string/label_password"
        android:textColor="?android:textColorSecondary" />

<EditText
        android:id="@+id/password"
        android:layout_gravity="fill_horizontal"
        android:ems="10"
        android:hint="@string/hint_password"
        android:inputType="textPassword" />

<Button
        android:id="@+id/connect"
        android:layout_columnSpan="@integer/create_account_pane_column_count"
        android:layout_gravity="fill_horizontal"
        android:text="@string/connect" />

<Button style="?android:borderlessButtonStyle"
        android:id="@+id/create_account"
        android:layout_columnSpan="@integer/create_account_pane_column_count"
        android:layout_gravity="center_horizontal"
        android:text="@string/create_a_new_account"
        android:textColor="@color/kas_yellow" />

</GridLayout> 
```

然后我有两个整数资源文件，`values-large-land-v11/integers.xml`has`<integer name="create_account_pane_column_count">2</integer>`和`values/integers.xml`has `<integer name="create_account_pane_column_count">1</integer>`。这提供了动态列，其中只有一列，除非设备和方向与大地 v11（横向方向为 7" 平板电脑及以上）匹配。

最后，为了让标签很好地对齐（即堆叠时居中，内联时右对齐），我以编程方式设置它，因为 xml 值似乎不接受资源（既不是整数也不是字符串）。

```
@Override
public void onConfigurationChanged(Configuration new_configuration) {
    super.onConfigurationChanged(new_configuration);

    alignLabels();
}

/**
 * Aligns the labels depending on the number of columns in the layout
 */
private void alignLabels() {
    final int column_count = getResources().getInteger(R.integer.create_account_pane_column_count);
    final int gravity = column_count == 1? Gravity.CENTER_HORIZONTAL : Gravity.RIGHT;
    _account_name_label.setGravity(gravity);
    _password_label.setGravity(gravity);
} 
```

还调用or (for s) 来设置初始页面布局`alignLabels()`的重力。`onCreate``onCreateView``Fragment`

旁注：如果您注意到，我的标签在相关字段具有焦点时使用我的强调色。

![横向](../Images/febba586ae818f8a8d05abf8838fd1b3.png) ![纵向](../Images/b40794bc36d266cf4eadc9ec3272d51c.png)

# racket - 球拍：为什么不能在窗口中设置画布的背景

> ID：13263040
> 
> 赞同：2
> 
> 时间：2012-11-07T04:15:53.460
> 
> 标签：racket

这是我的代码：

```
#lang racket

(require racket/gui)

(define-values (screen-width screen-height) (get-display-size))

(define *app-width* 400)

(define *app-height* 125)

(define *vm-frame* (new frame% 
                      [label "Test"]
                      [width *app-width*]
                      [height *app-height*]
                      [x (- (quotient screen-width 2) (quotient *app-width* 2))]
                      [y (- (quotient screen-height 2) (quotient *app-height* 2))]
                      ))

(define frame-canvas%
  (class canvas%
    (super-new)
    (inherit get-dc)

    (define/override (on-paint)
      (let ([my-dc (get-dc)])
        (send my-dc clear)
        (send my-dc set-background "black")))))

(let ([frame-canvas (new frame-canvas% [parent *vm-frame*])])
  (send *vm-frame* show #t)) 
```

在mac os上，这是正常的，显示一个黑色背景的应用程序。但在 Windows 上，背景是白色的。为什么？Racket 版本是 5.3，这是 5.3 的错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:39:35.140

`set-background`颠倒和的顺序`clear`。

调用`clear`使用当前背景的颜色进行填充。如果以某种方式`on-paint`至少多次调用您，那么您将观察到黑色背景，因为第二次，当前背景颜色将为黑色。我怀疑这就是解释您观察到的特定于平台的差异的原因。

# c# - c# Serializable 类 - WPF MainWindow 发生异常

> ID：13263043
> 
> 赞同：0
> 
> 时间：2012-11-07T04:16:04.237
> 
> 标签：c#, wpf, .net-assembly, serializable

我有一个 WPF 应用程序，它连接到我也在编写的 DLL 中。DLL 扫描第 3 方应用程序的数据文件夹并处理其中的所有数据解释。WPF 是在此之上提供一个不错的 GUI；我将它们分开是因为将来可能还需要为其编写命令行界面。

数据文件夹的扫描需要一些时间，所以我想保存对象（存储库）的状态并打开它，如果数据文件夹已被扫描并保留相同的“上次修改”状态。我已将 Repository 对象标记为 [Serializable]，但是当我尝试保存状态（来自 WPF 或 DLL）时，我收到 WPF MainWindow 不是 [Serializable] 的异常。

如果我阅读创建的 .dat 文件，它确实有来自该类的一些（不确定是否全部）信息。

我不明白为什么它会尝试保存有关 WPF 窗口的任何信息。我试图将窗口标记为 [Serializable] 只是为了尝试但是该类不允许它。在网上搜索让我查看了 AppDomains，因为我正在加载一个 DLL 以及应用程序，但这有点超出我的想象。以下是我目前尝试实现它的方式。编辑：对序列化的调用位于 WPF 代码的底部。

我应该提到我在 WPF 命名空间中创建了一个内联类，并且能够成功地将其序列化到一个文件中。

任何帮助表示赞赏。

这是DLL：

```
namespace HPOO_XML_Parser
{
[Serializable]
public class HPOORepository
{

    string _version;
    string _path;
    string _library;
    string _uuid;

    [NonSerialized]
    BackgroundWorker bWorker = new BackgroundWorker();
    [NonSerialized]
    XElement _xmlRepo;      

    int _nodeCount;
    List<Node> nodes;
    ...
    Rest of properties and methods
} 
```

以及调用它的 WPF

```
namespace HPOO_Repository_Scanner
{
/// <summary>
/// Interaction logic for MainWindow.xaml
/// </summary>
public partial class MainWindow : Window
{
    HPOORepository repo;

    public MainWindow()
    {
        InitializeComponent();
        StatusVisibility(); // Simply hides progress bar/cancel button
    }

    private void OpenRepository(object sender, RoutedEventArgs e)
    {

        string ooHome;
        using (FolderBrowserDialog browser = new FolderBrowserDialog())
        {
            ooHome = Environment.GetEnvironmentVariable("ICONCLUDE_HOME");
            if (ooHome != null)
            {
                browser.SelectedPath = ooHome;
            }
            browser.ShowNewFolderButton = false;
            browser.Description = "Select a repository to open...";

            if (browser.ShowDialog() == System.Windows.Forms.DialogResult.OK)
            {
                try
                {
                    repo = new HPOORepository(browser.SelectedPath);
                }
                catch (Exception ex)
                {
                    System.Windows.MessageBox.Show(ex.Message, "Invalid Repository Selected", MessageBoxButton.OK, MessageBoxImage.Error);

                }
            }
            repo.ProgressChanged += new ProgressChangedEventHandler(repo_ProgressChanged);

            prgStatus.Maximum = 100;

            repo.ReadRepository();

        }

    }
private void mnuSave_Click(object sender, RoutedEventArgs e)
    {
        SaveRepo(repo);
    }

    public void SaveRepo(object repository)
    {
        BinaryFormatter binFormat = new BinaryFormatter();

        using (Stream fStream = new FileStream("test" + ".dat",
            FileMode.Create, FileAccess.Write, FileShare.None))
        {
            binFormat.Serialize(fStream, repository);
        }
    } 
```

编辑：最后是例外：

```
System.Runtime.Serialization.SerializationException was unhandled
Message=Type 'HPOO_Repository_Scanner.MainWindow' in Assembly 'HPOO Repository Scanner, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' is not marked as serializable.
Source=mscorlib
StackTrace:

    at System.Runtime.Serialization.FormatterServices.InternalGetSerializableMembers(RuntimeType type)
       at System.Runtime.Serialization.FormatterServices.GetSerializableMembers(Type type, StreamingContext context)
       at System.Runtime.Serialization.Formatters.Binary.WriteObjectInfo.InitMemberInfo()
       at System.Runtime.Serialization.Formatters.Binary.WriteObjectInfo.InitSerialize(Object obj, ISurrogateSelector surrogateSelector, StreamingContext context, SerObjectInfoInit serObjectInfoInit, IFormatterConverter converter, ObjectWriter objectWriter)
       at System.Runtime.Serialization.Formatters.Binary.WriteObjectInfo.Serialize(Object obj, ISurrogateSelector surrogateSelector, StreamingContext context, SerObjectInfoInit serObjectInfoInit, IFormatterConverter converter, ObjectWriter objectWriter)
       at System.Runtime.Serialization.Formatters.Binary.ObjectWriter.Write(WriteObjectInfo objectInfo, NameInfo memberNameInfo, NameInfo typeNameInfo)
       at System.Runtime.Serialization.Formatters.Binary.ObjectWriter.Serialize(Object graph, Header[] inHeaders, __BinaryWriter serWriter, Boolean fCheck)
       at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Serialize(Stream serializationStream, Object graph, Header[] headers, Boolean fCheck)
       at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Serialize(Stream serializationStream, Object graph)
       at HPOO_Repository_Scanner.MainWindow.SaveRepo(Object repository) in \\tsclient\D\Dropbox\_Work\Visual Studio Projects\HPOO Repository Scanner\HPOO Repository Scanner\HPOO Repository Scanner\MainWindow.xaml.cs:line 179
       at HPOO_Repository_Scanner.MainWindow.mnuSave_Click(Object sender, RoutedEventArgs e) in \\tsclient\D\Dropbox\_Work\Visual Studio Projects\HPOO Repository Scanner\HPOO Repository Scanner\HPOO Repository Scanner\MainWindow.xaml.cs:line 168
       at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)
       at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)
       at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)
       at System.Windows.UIElement.RaiseEvent(RoutedEventArgs e)
       at System.Windows.Controls.MenuItem.InvokeClickAfterRender(Object arg)
       at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Boolean isSingleParameter)
       at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)
       at System.Windows.Threading.Dispatcher.WrappedInvoke(Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)
       at System.Windows.Threading.DispatcherOperation.InvokeImpl()
       at System.Windows.Threading.DispatcherOperation.InvokeInSecurityContext(Object state)
       at System.Threading.ExecutionContext.runTryCode(Object userData)
       at System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup(TryCode code, CleanupCode backoutCode, Object userData)
       at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Windows.Threading.DispatcherOperation.Invoke()
       at System.Windows.Threading.Dispatcher.ProcessQueue()
       at System.Windows.Threading.Dispatcher.WndProcHook(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)
       at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)
       at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)
       at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Boolean isSingleParameter)
       at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)
       at System.Windows.Threading.Dispatcher.WrappedInvoke(Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)
       at System.Windows.Threading.Dispatcher.InvokeImpl(DispatcherPriority priority, TimeSpan timeout, Delegate method, Object args, Boolean isSingleParameter)
       at System.Windows.Threading.Dispatcher.Invoke(DispatcherPriority priority, Delegate method, Object arg)
       at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam)
       at MS.Win32.UnsafeNativeMethods.DispatchMessage(MSG& msg)
       at System.Windows.Threading.Dispatcher.PushFrameImpl(DispatcherFrame frame)
       at System.Windows.Threading.Dispatcher.PushFrame(DispatcherFrame frame)
       at System.Windows.Threading.Dispatcher.Run()
       at System.Windows.Application.RunDispatcher(Object ignore)
       at System.Windows.Application.RunInternal(Window window)
       at System.Windows.Application.Run(Window window)
       at System.Windows.Application.Run()
       at HPOO_Repository_Scanner.App.Main() in \\tsclient\D\Dropbox\_Work\Visual Studio Projects\HPOO Repository Scanner\HPOO Repository Scanner\HPOO Repository Scanner\obj\x86\Debug\App.g.cs:line 0
       at System.AppDomain._nExecuteAssembly(Assembly assembly, String[] args)
       at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)
       at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()
       at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Threading.ThreadHelper.ThreadStart()
  InnerException: 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T04:25:58.233

我**假设**您正在使用 XML 序列化程序。您应该显示序列化代码。此外，当出现异常时，显示异常和堆栈跟踪。使用此信息确定上下文要容易得多。

如果是这样，您必须使用 [XmlIgnore] 而不是 [NonSerialized] 属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T00:27:53.743

我觉得自己像个白痴；我今天早上能够弄清楚。

我不得不将 ProgressChanged 事件处理程序从我的 repo 对象中分离出来。

它是在对象创建时附加的

```
repo.ProgressChanged += new ProgressChangedEventHandler(repo_ProgressChanged); 
```

现在在保存对象状态之前删除

```
private void mnuSave_Click(object sender, RoutedEventArgs e)
{
  repo.ProgressChanged -= repo_ProgressChanged;
  SaveRepo(repo);
} 
```

希望对遇到同样问题的其他人有所帮助。

# sql - WPF 文本框中的 SQL 智能感知

> ID：13263046
> 
> 赞同：3
> 
> 时间：2012-11-07T04:16:20.273
> 
> 标签：sql, wpf, textbox, intellisense

我正在构建一个包含文本框的应用程序。我希望文本框的行为就像带有智能感知的 SQl 服务器编辑器。我需要帮助，我可以让我的文本框像带有 Intellisense 的 Sql Server 查询编辑器一样工作吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:38:09.320

您想要的东西不能轻易实现。您必须准备以下内容，

*   语法高亮支持，因此可以漂亮地显示 SQL 语句。
*   SQL 解析器，以便您可以提供自动完成建议。

您可以从 AvalonEdit 开始，它是一个出色的控件，有助于实现语法高亮，

[http://www.codeproject.com/Articles/42490/Using-AvalonEdit-WPF-Text-Editor](http://www.codeproject.com/Articles/42490/Using-AvalonEdit-WPF-Text-Editor)

[https://github.com/icsharpcode/SharpDevelop/wiki/AvalonEdit](https://github.com/icsharpcode/SharpDevelop/wiki/AvalonEdit)

但是，我认为编写 SQL 解析器（如@Alexander 建议的那样）然后与 AvalonEdit 集成仍然是您的责任。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T04:47:52.327

Phil Factor 在 SimpleTalk.com上写了一篇关于如何使用 Microsoft 的 SQLParser 和 PowerShell 解析 SQL的优秀[博客文章。](http://www.simple-talk.com/blogs/2012/08/06/1984/)在帖子的顶部，他包含了 Dave Ballantyne 的[清理 SQL Server 部署脚本](http://www.simple-talk.com/sql/database-administration/cleaning-up-sql-server-deployment-scripts/)文章的链接，该文章解释了如何获取 SQLParser 并进一步使用它。

虽然不是很具体，但希望这至少能让你朝着正确的方向前进！

# javascript - jQuery单击显示/隐藏无法正常工作

> ID：13263049
> 
> 赞同：3
> 
> 时间：2012-11-07T04:16:41.223
> 
> 标签：javascript, jquery, html, css

我目前正在[此链接](http://www.earlcoding.tumblr.com)上创建一个页面。我在我的标题中使用这个javascript（在我的CSS下面）：

```
<script type="text/javascript" src="http://static.tumblr.com/txc9jrr/yNxmd3lq6/jquery.js">   
</script>

<script type="text/javascript">
$('.toggle').click(function(){
    var $tr = $(this).closest('tr');
    $tr.add($tr.next('.edit')).toggle();
});
$('.cancel').click(function(){
    var $tr = $(this).closest('tr');
    $tr.add($tr.prev('.view')).toggle();
});​
</script> 
```

这个HTML：

```
<table>
  <tr class="view">
      <td>
          <a class="toggle" class="icon-button" href="#">Edit</a>
      </td>
  </tr>
  <tr class="edit" style="display:none">
      <td>
          hi
          <a class="cancel" href="#">Cancel</a>
      </td>
  </tr>
</table> 
```

从理论上讲，它应该可以工作......但是当我将它实现到我的页面中时，它就停止了工作。有人知道我的问题是什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T04:22:38.817

改变

```
<a class="toggle" class="icon-button" href="#">Edit</a>
   // ^--------------^---------------------Cannot define two classes like this 
```

至

```
<a class="toggle icon-button" href="#">Edit</a>
 //  ^--------------------------------Try like this 
```

## [演示](http://jsfiddle.net/y7SwE/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:32:46.743

我认为你应该试试这个

```
$('.toggle').click(function(){

 if ($(".edit").css('display') == 'none') {

      $(".edit").css('display', 'block');
  }
} 
```

我想这会对你有所帮助

# php - 如果用户单击后退浏览器按钮，如何显示确认？

> ID：13263051
> 
> 赞同：-1
> 
> 时间：2012-11-07T04:17:12.463
> 
> 标签：php, javascript, jquery, ajax, browser

> **可能重复：**
> [有没有办法在 javascript 中捕获后退按钮事件？](https://stackoverflow.com/questions/136937/is-there-a-way-to-catch-the-back-button-event-in-javascript)

在我的应用程序中，我只希望一定数量的脚本（Text1.php、Text2.php 和 Text3.php）包含一段代码，如果用户单击后退浏览器按钮，它将显示一个确认框，如以下之一：

```
confirm("You have clicked on the browser's back button. If you confirm to go back via the browser back button, you will be logged out and lose your current assessment details." + "\n" + "\n" + "Are you sure you want to go back and lose current assessment details?" + "\n" ); 
```

要求如下：

1.  如果用户单击后退浏览器按钮，如何显示确认？
2.  如果用户确认确认然后导航到 Text4.php （这是它注销用户的地方）
3.  如果用户取消确认，则只需关闭确认框，以便用户可以继续他们正在做的事情（猜测这与`return false;`
4.  只希望脚本（Text1.php、Text2.php 和 Text3.php）发生这种情况
5.  需要它在所有主流浏览器（IE、Chrome、Firefox、Safari、Opera）上工作

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T04:42:49.833

**注意：**仅当您需要阻止此人离开时才应执行此操作（即，如果他们输入了一些重要数据并且会因导航而丢失）。另请注意，您**无法**在更新的浏览器中自定义确认弹出窗口。（旧浏览器允许自定义确认消息正文。）这些是此类功能的限制。

您可以使用`beforeunload`事件来实现这一点。在旧版浏览器中，您可以为确认提示返回自定义字符串：

```
$(window).bind("beforeunload", function() {
    return "HI"; // This will be shown in the confirmation popup in older browsers.
});​ 
```

但是，正如[@formicini](https://stackoverflow.com/users/2963280/formicini)在评论中提到的，更新的浏览器（例如 Chrome 87）不允许自定义字符串。返回任何非`undefined`值都会显示确认提示，但只会显示浏览器的通用消息——即使它是一个字符串。

```
$(window).bind("beforeunload", function() {
    return true; // Any non-undefined value will show generic confirmation popup.
});​ 
```

我还建议您在有人以所需方式（取消按钮？）离开页面时取消绑定，否则您可能会遇到不良行为。

例如：

```
$("a").click(function() {
    $(window).unbind("beforeunload");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T04:43:32.650

不能因为浏览器安全限制，但您可以判断用户是否离开页面。

您可以通过此功能检测用户离开页面

```
window.onbeforeunload = function (e) {
  var message = 'Are you sure ?';
  if (typeof e == 'undefined') {
    e = window.event;
  }
  if (e) {
    e.returnValue = message;
  }
  return message;
} 
```

# core-audio - iOS RemoteIO - AudioUnitAddRenderNotify 回调

> ID：13263064
> 
> 赞同：3
> 
> 时间：2012-11-07T04:18:40.313
> 
> 标签：core-audio, recording, remoteio

我正在尝试使用这样的 AudioUnitAddRenderNotify 从 RemoteIO 进行录制。基本上，我无法从我的输入总线 bus1 获取样本。recordingCallback 不会超过这个：

```
 if (*ioActionFlags & kAudioUnitRenderAction_PostRender || inBusNumber != 1) {
    return noErr;
} 
```

但是有人告诉我，每轮都应该为每辆公共汽车调用recordingCallback。IE。调用 inBusNumber ==0，然后 inBusNumber ==1，分别是输出（remoteIO out）和输入（记录总线）。

我该怎么做才能在我的输入总线上调用recordingCallback以便我可以录制？谢谢。

码头。

这是回调。

```
static OSStatus recordingCallback(void *inRefCon,
                              AudioUnitRenderActionFlags *ioActionFlags,
                              const AudioTimeStamp *inTimeStamp,
                              UInt32 inBusNumber,
                              UInt32 inNumberFrames,
                              AudioBufferList *ioData) {
NSLog(@"Entered recording callback");

// Only do pre render on bus 1
if (*ioActionFlags & kAudioUnitRenderAction_PostRender || inBusNumber != 1) {
    return noErr;
}

RIO *rio = (RIO*)inRefCon;
AudioUnit rioUnit = rio->theAudioUnit;
//ExtAudioFileRef eaf = rio->outEAF;
AudioBufferList abl = rio->audioBufferList;

SInt32 samples[NUMBER_OF_SAMPLES]; // A large enough size to not have to worry about buffer overrun
abl.mNumberBuffers = 1;
abl.mBuffers[0].mData = &samples;
abl.mBuffers[0].mNumberChannels = 1;
abl.mBuffers[0].mDataByteSize = inNumberFrames  * sizeof(SInt16);

OSStatus result;
result = AudioUnitRender(rioUnit,
                         ioActionFlags,
                         inTimeStamp,
                         inBusNumber, 
                         inNumberFrames,
                         &abl);

if (noErr != result) { NSLog(@"Obtain recorded samples error! Error : %ld", result); }

NSLog(@"Bus %ld", inBusNumber); 

// React to a recording flag, if recording, save the abl into own buffer, else ignore
if (rio->recording)
{
    TPCircularBufferProduceBytes(&rio->buffer, abl.mBuffers[0].mData, inNumberFrames  * sizeof(SInt16));
    //rio->timeIncurred += (('p'float)inNumberFrames) / 44100.0;
    //NSLog(@"Self-calculated time incurred: %f", rio->timeIncurred);
}

return noErr; 
```

}

这是调用回调的代码。

```
- (void)setupAudioUnitRemoteIO {

UInt32 framesPerSlice = 0;
UInt32 framesPerSlicePropertySize = sizeof (framesPerSlice);
UInt32 sampleRatePropertySize = sizeof (_graphSampleRate);

// Describe audio component
AudioComponentDescription desc;
desc.componentType = kAudioUnitType_Output;
desc.componentSubType = kAudioUnitSubType_RemoteIO;
desc.componentFlags = 0;
desc.componentFlagsMask = 0;
desc.componentManufacturer = kAudioUnitManufacturer_Apple;

// Get component
AudioComponent inputComponent = AudioComponentFindNext(NULL, &desc);

// Get audio units
status = AudioComponentInstanceNew(inputComponent, &_remoteIOUnit);

if (noErr != status) { NSLog(@"Get audio units error"); return; }

// Enable IO for recording
UInt32 flag = 1;
status = AudioUnitSetProperty(_remoteIOUnit,
                              kAudioOutputUnitProperty_EnableIO, 
                              kAudioUnitScope_Input, 
                              kInputBus,
                              &flag, 
                              sizeof(flag));
if (noErr != status) { NSLog(@"Enable IO for recording error"); return; }

// Enable IO for playback
status = AudioUnitSetProperty(_remoteIOUnit, 
                              kAudioOutputUnitProperty_EnableIO, 
                              kAudioUnitScope_Output, 
                              kOutputBus,
                              &flag, 
                              sizeof(flag));

if (noErr != status) { NSLog(@"Enable IO for playback error"); return; }

// Obtain the value of the maximum-frames-per-slice from the I/O unit.
status =    AudioUnitGetProperty (
                                  _remoteIOUnit,
                                  kAudioUnitProperty_MaximumFramesPerSlice,
                                  kAudioUnitScope_Global,
                                  0,
                                  &framesPerSlice,
                                  &framesPerSlicePropertySize
                                  );

// Describe format

audioFormat.mSampleRate         = 44100.00;
audioFormat.mFormatID           = kAudioFormatLinearPCM;
audioFormat.mFormatFlags        = kAudioFormatFlagIsSignedInteger | kAudioFormatFlagIsPacked;
audioFormat.mFramesPerPacket    = 1;
audioFormat.mChannelsPerFrame   = 1;
audioFormat.mBitsPerChannel     = 16;
audioFormat.mBytesPerPacket     = 2;
audioFormat.mBytesPerFrame      = 2;

// Apply format
status = AudioUnitSetProperty(_remoteIOUnit, 
                              kAudioUnitProperty_StreamFormat, 
                              kAudioUnitScope_Output, 
                              kInputBus, 
                              &audioFormat, 
                              sizeof(audioFormat));

if (noErr != status) { NSLog(@"Apply format to input bus error"); return; }

status = AudioUnitSetProperty(_remoteIOUnit, 
                              kAudioUnitProperty_StreamFormat, 
                              kAudioUnitScope_Input, 
                              kOutputBus, 
                              &audioFormat, 
                              sizeof(audioFormat));
if (noErr != status) { NSLog(@"Apply format to output bus error"); return; }

rio.theAudioUnit = _remoteIOUnit; // Need this, as used in callbacks to refer to remoteIO

AURenderCallbackStruct callbackStruct;
callbackStruct.inputProc = recordingCallback;
callbackStruct.inputProcRefCon = &rio;
status = AudioUnitAddRenderNotify(_remoteIOUnit, callbackStruct.inputProc,  callbackStruct.inputProcRefCon);

NSAssert (status == noErr, @"Problem adding recordingCallback to RemoteIO. Error code: %d '%.4s'", (int) status, (const char *)&status); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T08:18:23.310

我设法通过不使用 AudioUnitAddRenderNotify 并使用以下代码来解决此问题。

```
AURenderCallbackStruct callbackStruct;
callbackStruct.inputProc = recordingCallback;
callbackStruct.inputProcRefCon = &rio;
status = AudioUnitSetProperty(_remoteIOUnit, 
                              kAudioOutputUnitProperty_SetInputCallback, 
                              kAudioUnitScope_Global, 
                              kInputBus, 
                              &callbackStruct, 
                              sizeof(callbackStruct));
if (noErr != status) { NSLog(@"Set input callback error"); return; } 
```

而是在输入总线上

# java - 在java中同时运行两个线程

> ID：13263079
> 
> 赞同：7
> 
> 时间：2012-11-07T04:21:13.807
> 
> 标签：java, multithreading

我使用 timertask 来安排我的 java 程序。现在当 timertask 的 run 方法正在进行时，我想运行两个同时运行并执行不同功能的线程。这是我的代码..请帮助我..

```
import java.util.Calendar;
import java.util.Date;
import java.util.Timer;
import java.util.TimerTask;

public class timercheck extends TimerTask{
// my first thread
Thread t1 = new Thread(){
     public void run(){
        for(int i = 1;i <= 10;i++)
        {
            System.out.println(i);
        }           
     }
 };

// my second thread
Thread t2 = new Thread(){
     public void run(){
        for(int i = 11;i <= 20;i++)
        {
            System.out.println(i);
        }           
     }
 };

public static void main(String[] args){
      long ONCE_PER_DAY = 1000*60*60*24;

     Calendar calendar = Calendar.getInstance();
     calendar.set(Calendar.HOUR_OF_DAY, 12);
     calendar.set(Calendar.MINUTE, 05);
     calendar.set(Calendar.SECOND, 00);
     Date time = calendar.getTime();

     TimerTask check  = new timercheck();
     Timer timer = new Timer();
     timer.scheduleAtFixedRate(check, time ,ONCE_PER_DAY);
}

@Override    
// run method of timer task
public void run() {
    t1.start();
    t2.start();
}
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T04:29:11.067

> 我想运行两个同时运行并执行不同功能的线程。

我认为您的线程*正在*“同一”时间运行。但是由于竞争条件，第一个线程只是在第二个线程之前将其输出排队。您不会看到来自线程 1 的一行，然后是来自线程 2 的 1 行。根据线程调度，您将看到一个然后另一个的块。

如果您将输出量从 10 行增加到（例如）1000 行，您应该看到它们都与隔行输出同时运行。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-07T04:48:25.783

如果要同时启动两个线程，请使用 CountDownLatch。

由于您拥有上述代码，因此 t1 在 t2 之前有资格运行（Runnable）。因此，由 Java 调度程序决定是混合 t1 和 t2 还是先完成 t1 然后完成 t2。但是，如果您希望 t1 和 t2 都等待提示开始执行，CountDownLatch 可以帮助您。

```
public class timercheck extends TimerTask{

private final CountDownLatch countDownLatch  = new CountDownLatch(1);

    // my first thread
    Thread t1 = new Thread(){
         public void run(){

            countDownLatch.await();  

            for(int i = 1;i <= 10;i++)
            {
                System.out.println(i);
            }           
         }
     };

    // my second thread
    Thread t2 = new Thread(){

         public void run(){

            countDownLatch.await();

            for(int i = 11;i <= 20;i++)
            {
                System.out.println(i);
            }           
         }
     };

        public void run() {
            t1.start();
            t2.start();
            countDownLatch.countDown();
        } 
```

有关 CountDownLatch、Semaphore 和 CyclicBarrier 的更多信息，请阅读[这篇](http://shazsterblog.blogspot.com/2011/12/comparison-of-countdownlatch.html)文章。

# ruby - 有任何类似 Erlang 的 RSpec 工具吗？

> ID：13263087
> 
> 赞同：6
> 
> 时间：2012-11-07T04:22:26.270
> 
> 标签：ruby, rspec, erlang, bdd

Erlang是否有类似 RSpec`describe` `it`框架的东西？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-07T04:33:21.517

你见过 espec：[https](https://github.com/lucaspiller/espec) ://github.com/lucaspiller/espec吗？似乎它可以有类似的语法

```
describe("#generate_headers", fun() ->
    it("should generate Host and User-Agent headers", fun() ->
        [
            {"Host", "api.twitter.com"},
            {"User-Agent", "Twerl"}
        ] = stream_client_util:generate_headers()
    end)
end). 
```

# jquery - jQuery 移动 AJAX 调用剥离自定义脚本

> ID：13263088
> 
> 赞同：1
> 
> 时间：2012-11-07T04:22:34.990
> 
> 标签：jquery, jquery-mobile, jquery-tabs

首先，我是新的 JQM 和一个非常弱的 jQuery 编码器，但我正在寻找一些帮助......

我有一个运行良好的 jQuery Mobile 站点，并且刚刚在其中实现了 jQuery 选项卡。我通过标签内调用脚本，脚本如下：

```
$('ul.tabs').each(function(){
    // For each set of tabs, we want to keep track of
    // which tab is active and it's associated content
    var $active, $content, $links = $(this).find('a');

    // If the location.hash matches one of the links, use that as the active tab.
    // If no match is found, use the first link as the initial active tab.
    $active = $($links.filter('[href="'+location.hash+'"]')[0] || $links[0]);
    $active.addClass('active');
    $content = $($active.attr('href'));

    // Hide the remaining content
    $links.not($active).each(function () {
        $($(this).attr('href')).hide();
    });

    // Bind the click event handler
    $(this).on('click', 'a', function(e){
        // Make the old tab inactive.
        $active.removeClass('active');
        $content.hide();

        // Update the variables with the new link and content
        $active = $(this);
        $content = $($(this).attr('href'));

        // Make the tab active.
        $active.addClass('active');
        $content.show();

        // Prevent the anchor's default click action
        e.preventDefault();
    });
}); 
```

在我使用附加到 Flickr 画廊的 CMS 组件的分页脚本之前，这一切在我的网站上都可以正常工作，它会更改浏览器中的地址栏。

我看到 JQM 处理自定义 JS 文件的方式略有不同，但我希望那里的人能够为像我这样的新手提供更多支持。

# c++ - C++：程序在 [memcpy] 处因核心转储而崩溃

> ID：13263092
> 
> 赞同：0
> 
> 时间：2012-11-07T04:22:47.237
> 
> 标签：c++, memcpy

我正在使用 Json 解析器在 Solaris 5.8、C++ 上工作。

问题是：在解析大于 700 MB 的文件时，进程因核心转储错误而崩溃。它大致发生在以下代码点 -

```
int printbuf_memappend(struct printbuf *p, char *buf, int size)
{
    char *t;
    if(p->size - p->bpos <= size)
    {
        int new_size = json_max(p->size * 2, p->bpos + size + 8);
        if (!(t = realloc(p->buf, new_size)))
            return -1;
        p->size = new_size;
        p->buf = t;
    }
    memcpy(p->buf + p->bpos, buf, size); // CORE DUMP HERE
    p->bpos += size;
    p->buf[p->bpos]= '\0';
    return size;
} 
```

你能帮忙找出问题吗？核心转储文件仅包含正在复制的数据。增加RAM可以解决吗？还是我需要将文件大小限制为 700MB？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:35:52.500

如果在 memcpy 中发生崩溃，则您有两个输入或输出有问题的变体。

要测试第二个变体，在 realloc 之后添加 memset：

```
 int new_size = json_max(p->size * 2, p->bpos + size + 8);
    if (!(t = realloc(p->buf, new_size)))
        return -1;
    p->size = new_size;
    p->buf = t;
    memset(p->buf + p->bpos, 0, size); 
```

在 Linux 上（取决于配置）可以分配不存在的虚拟内存。真正的分配发生在第一次使用之后。在您的 Solaris 上也会发生同样的情况吗？relloc return ok，但系统真的没有足够的内存吗？memset 应该回答这个问题。

# php - MYSQL 仅在 field1 或 field2 不等于文本的情况下选择 field1、field2

> ID：13263094
> 
> 赞同：0
> 
> 时间：2012-11-07T04:23:21.027
> 
> 标签：php, mysql, sql, pdo, mysqli

我有以下 2 个 SQL 语法，我希望将它们组合成 1 个 SQL 语法

```
SELECT sentFrom 
FROM tableName 
WHERE id = :varid 
AND sentFrom != :vartext

SELECT sentTo 
FROM tableName 
WHERE id = :varid 
AND sentTo != :vartext 
```

我想我应该举个例子：

MYSQL 表

```
-----------------------------------
sentFrom          sentTo
1                 2
1                 3
2                 1
2                 3 
```

询问

```
select sentFrom where sentFrom != 1 and select sentTo where sentTo != 1 
```

回报：

sentTo 2 但未 sendFrom 1

已发送至 3 但未发送自 1

发送自 2 但未发送至 1

sentFrom 2 和 sentTo 3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T04:25:43.673

```
 Syntex of select query is :
 Select Colname1,Colname2,.... from tablename 
        where colname=value and/or ...
        group by cond..
        having cond...
        order by colname, colname asc/desc
======================================
Ex:

  SELECT sentFrom,sentTo  FROM tableName
       WHERE id = :varid AND (sentFrom != :vartext or sentTo != :vartext) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T04:32:12.767

我认为这应该有所帮助。

```
SELECT a.sentFrom , b.sentTo FROM 
 (SELECT id, sentFrom FROM tableName WHERE id = :varid AND sentFrom != :vartext) a
JOIN 
 (SELECT id, sentTo FROM tableName WHERE id = :varid AND sentTo != :vartext) b
ON a.id = b.id; 
```

如果您认为，`ID`在每个查询中选择的行中不常见，则删除连接条件`ON a.id = b.id`。在这种情况下，它将返回`Cartesian product`查询 1 到查询 2 的记录。

# iframe - 如何在嵌入式（iframe）youtube 播放器中打开/关闭安全模式？

> ID：13263095
> 
> 赞同：4
> 
> 时间：2012-11-07T04:23:25.567
> 
> 标签：iframe, youtube

我使用 iframe 标签嵌入 YouTube 播放器，而不是直接嵌入 swf 对象。正常观看内容是没有问题的，但有时会无法播放特定内容。因此，我尝试在 PC 上的 YouTube 网站上查看此特定内容。同样的问题发生在网站上，我发现安全模式已打开，这就是它无法播放的原因。在我关闭网站中的安全模式后，它起作用了。

我的问题是，如何在嵌入式 youtube 播放器中手动打开/关闭安全模式？

# c# - 在表单c#之间传递对象

> ID：13263099
> 
> 赞同：2
> 
> 时间：2012-11-07T04:23:28.263
> 
> 标签：c#, winforms

我正在开发一个有两个窗口的表单应用程序。在主窗口中，我在 Form1 中创建了 Treatment 类的实例。我想传递那个实例，一旦图像被点击到另一个窗口 form2。到目前为止，我有： Form1：

```
public partial class Form1 : Form
{

    private Treatment treatment;

//method where i inistantiate the treatment
private void processTreatment(int id, Button button)
    {
        treatment = new Treatment(wirelessResult, id);
        Alarm alarm = new Alarm(count, treatment);
        wirelessResult.GenerateNumber();
        alarm.setColor();
        events.add(alarm);
        if (getResult(treatment) == true)
        {
            storeSuccess(button);  
        }
        else if (getResult(treatment) == false)
        {
            storeFailed(button);
        }
    }
// image clicked   
private void treatmentStation1_Click(object sender, EventArgs e)
    {

        Form2 secondForm = new Form2(treatment);
        secondForm.Show();
    } 
```

在form2中：

```
public partial class Form2 : Form
{
    private Treatment treatment;

    public Form2()
    {
        InitializeComponent();

    }

    public Form2(Treatment treatment)
    {
        InitializeComponent();
        this.treatment = treatment;
    }
  }
} 
```

我收到 1 个错误：错误 1 ​​可访问性不一致：参数类型“WasteTreatment.Treatment”比方法“WasteTreatment.Form2.Form2(WasteTreatment.Treatment)”更难访问

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T04:26:13.770

`private Treatment treatment`只能在内部使用`Form1`，因为你已经标记了它`private`。

我认为纠正问题的最佳方法是这样的：

```
Form2 secondForm = new Form2(new Treatment(wirelessResult, id)); 
```

并且您可以创建`wirelessResult`和`id`私有成员`Form1`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T04:27:29.743

不一致的可访问性意味着您的`WasteTreatment.Treatment`类对`Form2`.

例如，如果`Form2`是 in`AssemblyA`和`WasteTreatment.Treatment`in`AssemblyB`并被`WasteTreatment.Treatment`标记为`internal`，则默认情况下，类 w/oa 修饰符将是。 `Form2`将无法使用`WasteTreatment.Treatment`

没有看到那门课，我只能说试着做这门课`public`，看看它是否有效。解决此问题的另一种方法是，如果`WasteTreatment.Treatment`实现接口`Form2`接受接口而不是具体对象，并确保接口也被标记`public`。

# fullcalendar - 单击上一个/下一个并加载新数据

> ID：13263105
> 
> 赞同：3
> 
> 时间：2012-11-07T04:24:19.110
> 
> 标签：fullcalendar

我使用平面文件中的 json 可以正常加载数据。
我想在单击上一个/下一个时从该月份文件中加载每个月的数据。
使用阿贾克斯？事件：函数（开始、结束、回调） addEventSource - removeEventSource？其他？
允许 jQuery 对我来说仍然是一项正在进行的工作。

更新：我已经设置： viewDisplay: function(view) { var next = view.title; 警报（下一个）；}，这给了我月年点击下一个/上一个如何将其解析为 json-events.php

我试过 [split next] 事件：“json-events.php?month=month”，不...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-24T16:50:13.540

这不是使用 php，但您可以更改 getCalData() 中的 AJAX 调用来执行此操作。EventSource 将填充下一个数据。

我希望这会有所帮助。

```
$(document).ready(function () {

var calendar = $('#calendar').fullCalendar({
    header: {
        left: 'prev,next today',
        center: 'title',
        right: 'resourceMonth'
    },
    defaultView: 'resourceWeek',

    eventSources: [ getCalData() ],
    header: {
        left: 'prev,next today',
        center: 'title',
        right: ''
    },
    viewDisplay: function (view) {
        $('#calendar').fullCalendar('removeEvents');
        $('#calendar').fullCalendar('addEventSource', getCalData());
        $('#calendar').fullCalendar('rerenderEvents');
    }
  });
});

function getCalData() {

var source = [{}];
$.ajax({
    async: false,
    url: '/mysite/GetWeekData',
    data: { myParam: $('#calendar').fullCalendar('getView').visStart },
    success: function (data) {
        $(data).each(function () {
            source.push({
                title: $(this).attr('title'),
                start: $(this).attr('start'),
            });
        });
    },
    error: function () {
        alert('could not get the data');
    },
});
return source;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-16T13:13:52.863

fullcalendar 在获取事件时默认发送 2 个附加参数，params[:start], params[:end] 你可以使用它们返回这两个值之间的查询事件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-11T20:28:06.283

您可以将 View Render 属性添加到 fullcalendar 的配置对象

```
viewRender: function(view, element) {

 //console.debug("View Changed: ",view.start, view.end);

// events = loadevents();

 jQuery(nativeelement).fullCalendar('removeEvents');

 jQuery(nativeelement).fullCalendar('addEventSource', events);
 } 
```

现在您可以逐月加载。angular2 的这种语法

# python - 我可以在 wxpython 中使用侦听器线程向多帧发送不同的消息吗？

> ID：13263108
> 
> 赞同：0
> 
> 时间：2012-11-07T04:24:27.107
> 
> 标签：python, multithreading, wxpython, frame

我有一个侦听器线程向 wxpython 中的一个框架发送消息，它可以工作。但是现在我想制作多帧，我可以使用这个侦听器线程将不同的消息发送到两个框架吗？如果可以做到这一点？我该怎么做？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T14:18:09.947

我喜欢将 pubsub 与线程结合使用来处理这类事情。我的博客文章中有一个例子：http: [//www.blog.pythonlibrary.org/2010/05/22/wxpython-and-threads/](http://www.blog.pythonlibrary.org/2010/05/22/wxpython-and-threads/)

基本上，您设置了几个侦听器（对于您的示例，每帧一个），然后使用 wx 的线程安全方法之一从线程向这些侦听器发布消息。

# javascript - 让一个简单的 YUI 示例工作

> ID：13263113
> 
> 赞同：3
> 
> 时间：2012-11-07T04:25:11.807
> 
> 标签：javascript, yui

我正在阅读 YUI 的“入门”部分，但无法让基础知识发挥作用。我在这个不允许这个 contentNode 打印的代码示例中做错了什么？当我尝试在浏览器中查看它时，没有任何反应。

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>YUI</title>
<script src="http://yui.yahooapis.com/3.7.3/build/yui/yui-min.js"></script>
<script>
YUI().use('node', function (Y) {

    // Create DOM nodes.
    var contentNode = Y.Node.create('<div>');

    contentNode.setHTML('<p>Node makes it easy to add content.</p>');
});
</script>
</head>
<body>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T04:53:45.130

这只是 YUI 的“入门”部分可能不清楚的内容，但是 Y.Node.create 创建了一个 Node 对象，但还没有将它附加到 DOM。如果您想这样做，只需在代码中再添加一行即可（例如追加/前置/插入/等）：

```
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>YUI</title>
    <script src="http://yui.yahooapis.com/3.7.3/build/yui/yui-min.js"></script>
    <script>
      YUI().use('node', function (Y) {

          // Create DOM nodes.
          var contentNode = Y.Node.create('<div>');
          contentNode.setHTML('<p>Node makes it easy to add content.</p>');

          // Attaches created node to the DOM
          Y.one('body').append(contentNode);
      });
    </script>
  </head>
  <body>

  </body>
</html> 
```

# maven-3 - Tomcat Maven 插件和多模块 Maven 项目

> ID：13263114
> 
> 赞同：7
> 
> 时间：2012-11-07T04:25:23.867
> 
> 标签：maven-3, maven-tomcat-plugin

我们有一个应用程序，直到最近它还是一个 Maven WAR 项目。我们使用 Tomcat Maven 插件在本地开发人员工作站上运行应用程序，使用：

```
mvn tomcat:run 
```

我们能够在嵌入式 Tomcat 实例运行时更改 JSP 文件，并且更改会很好地显示在 Web 浏览器中。我了解（从插件文档中）当使用 tomcat:run 目标时，WAR 被加载为动态 Web 应用程序，因此 Tomcat 在运行时拾取源代码中对 JSP 文件所做的更改而无需重新启动。

应用程序已经达到了相当大的规模，我们需要在 Web 项目之外的几个不同地方重用大量的类，因此我们将代码库重构为一个多模块的 Maven 项目。现在的结构是：

```
parent Maven POM
    |
     ---- artifact1.jar
    |
     ---- artifact2.jar -> depends on artifact1.jar
    |
     ---- artifact3.jar -> depends on artifact1.jar
    |
     ---- artifact4.jar -> depends on artifact2.jar and artifact3.jar
    |
     ---- artifact5.war -> depends on artifact1.jar, artifact2.jar, artifact3.jar and artifact4.jar 
```

重构后，我们无法使用项目根目录中的 tomcat:run 来运行 WAR 项目，因为插件无法检测到 JAR 工件。所以，我们转而使用 tomcat:run-war-only 插件。WAR 模块现在可以正常启动。

但是，从文档看来，run-war-only 目标似乎将 WAR 文件视为打包的 Web 应用程序。因此，我们现在对 JSP 文件所做的任何更改都不会在运行时被嵌入式 Tomcat 服务器拾取。对于 JSP 文件的每次更改，我们都必须重新启动服务器。

在这个多模块 Maven 设置中，我们有没有办法将 WAR 项目作为动态 Web 应用程序运行，以便 Tomcat 在不重新启动的情况下至少获取对 JSP 文件的更改？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T09:56:31.620

首先使用位于 Apache 的新版本的 tomcat 插件，请参见[http://tomcat.apache.org/maven-plugin-2.0/](http://tomcat.apache.org/maven-plugin-2.0/)。

然后如果你使用maven3，你只需使用tomcat6/tomcat7：从顶部运行。模块中的所有类都将添加到您的 webapp 类加载器中（将节省一些 ios，因为您不需要先安装所有 jars！）请参阅[http://tomcat.apache.org/maven-plugin-2.0/run-mojo-特征.html](http://tomcat.apache.org/maven-plugin-2.0/run-mojo-features.html)

！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T11:50:10.997

只需先执行 mvn install 然后

```
mvn -pl artifact5 tomcat:run 
```

# android - 无法在android中下载图像

> ID：13263116
> 
> 赞同：0
> 
> 时间：2012-11-07T04:25:30.537
> 
> 标签：android, httpclient, twitter-oauth, sslexception

我需要下载我的 twitter 个人资料图片，并通过单击按钮将其显示在 imageview 中。这是我下载所需用户的个人资料图片的代码。

```
public static InputStream getTwitterProfilePictureOfUser(String twitterId){
    try {
        return new DefaultHttpClient().execute(new HttpGet("http://api.twitter.com/1/users/profile_image?user_id="+twitterId+"&size=bigger")).getEntity().getContent();
    } catch (Exception e) {
        e.printStackTrace();
        return null;
    } 
} 
```

得到以下异常。我哪里错了？

```
 javax.net.ssl.SSLException: Not trusted server certificate
at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:371)
at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:92)
at org.apache.http.conn.ssl.SSLSocketFactory.createSocket(SSLSocketFactory.java:381)
at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:174)
at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:348)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
at com.tarams.android.giveblood.service.ServiceStub.getTwitterProfilePictureOfUser(ServiceStub.java:207)
    at com.tarams.android.giveblood.activities.ProfileActivity.onCreate(ProfileActivity.java:128)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2633)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2685)
at android.app.ActivityThread.access$2300(ActivityThread.java:126)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2038)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:123)
at android.app.ActivityThread.main(ActivityThread.java:4633)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:521)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
at dalvik.system.NativeStart.main(Native Method)
   Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: TrustAnchor for CertPath not found.
at org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:168)
at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:366)
... 24 more
 Caused by: java.security.cert.CertPathValidatorException: TrustAnchor for CertPath not found.
at org.bouncycastle.jce.provider.PKIXCertPathValidatorSpi.engineValidate(PKIXCertPathValidatorSpi.java:149)
at java.security.cert.CertPathValidator.validate(CertPathValidator.java:202)
at org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:164) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:18:29.887

您正在尝试通过连接到 HTTPS URL，并且运行代码的设备不信任该站点提供的 SSL 证书。我建议您阅读[有关](https://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https)在 Apache HTTP 客户端中设置信任的问题

# python - Python 模块存储库

> ID：13263122
> 
> 赞同：2
> 
> 时间：2012-11-07T04:26:24.660
> 
> 标签：python

我一直在寻找类似于 perl`Dumper`在 python 中的功能的东西。所以在谷歌搜索之后，我找到了一个对我有用的@ [https://gist.github.com/1071857#file_dumper.pyamazon](https://gist.github.com/1071857#file_dumper.pyamazon)

所以我下载并安装了它，它工作正常。

但后来我遇到了 PyPI：[http](http://pypi.python.org/pypi) ://pypi.python.org/pypi ，它看起来像 python 的 CPAN 等价物。

所以我在那里搜索了 Dumper 模块，但在那里找不到。我希望这看起来是一个非常基本的模块，应该在 PyPI 中列出。

所以我的问题是，如果我必须安装一个 python 模块，那么我应该先在 PyPI 中搜索，如果我没有找到，然后在谷歌上查找其他地方吗？

或者除了 PyPI 之外还有其他 Python 模块存储库吗？

我正在学习 python，因此这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T04:29:45.543

如果您使用 pip，`pip search package_name`将帮助您在 PyPi 提供的 Web 界面上进行搜索。

找到后，安装 python 包当然很简单

```
pip install package_name 
```

一些 python 库可能处于开发阶段，可能无法直接在 PyPi 上使用，或者您可能想要该库的特定提交具有 (git)，如果您可以找到该库的源代码`github.com`，`bitbucket.com`例如，您可以执行

```
pip install -e git+git://github.com/the/repo/url.git#egg=package_name 
```

关于你关于 perl Dumper 的问题，perl 的 Dumper 有两个主要用途 iirc -

*   数据持久化
*   调试和检查对象。

据我所知，python 中没有与 perl 的 Dumper 完全等价的东西。

但是，我`pickle`用于数据持久性。

并且`pprint`对于目视检查对象/调试很有用。

两者都是 Python 中的标准内置模块。这些功能不需要 3rd 方库。

如果你想使用这里的东西 - [https://gist.github.com/1071857#file_dumper.pyamazon](https://gist.github.com/1071857#file_dumper.pyamazon)。

您需要做的是复制代码并将其放在项目目录中的本地文件中。您可以将文件命名为`pydumper.py`. 或任何您真正喜欢的名称，但以 suffix 结尾`.py`。

`pydumper.py`在您的项目中，您可以通过执行导入定义的函数和类

```
from pydumper import * 
```

或者如果您想具体一点（这是首选。最好明确说明您要导入的内容。）

```
from pydumper import Dumper 
```

您可以在自己的代码中开始使用 Dumper 类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T04:33:19.177

您是否正在寻找[setuptools 中的 easy_install 之类的东西？](http://pypi.python.org/pypi/setuptools)我可能误解了你的问题，因为我不使用 perl。

从`Scripts`python 安装目录中的目录（我机器上的“c:/python27/Scripts”），您可以从命令行安装模块，如下所示：

```
easy_install modulename 
```

如果将 Scripts 目录设置为 PATH 变量，生活会轻松很多。

# android - 使用背景图像和下一个活动创建的启动画面，如果我运行项目启动画面出现而不显示图像

> ID：13263123
> 
> 赞同：0
> 
> 时间：2012-11-07T04:26:26.700
> 
> 标签：android

我创建了带有背景图像和下一个活动的启动画面，如果我运行项目启动画面出现而不显示图像和进度条并且不显示下一个活动，请帮助我恢复这个问题。我的启动画面 xml 代码是这样的

在此处输入代码：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        tools:context=".SplashScreenActivity" />

    <ImageView
        android:id="@+id/splash"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:src="@drawable/splash"
        android:visibility="visible" />

    <ProgressBar
        android:id="@+id/progressBar1"
        style="?android:attr/progressBarStyleLarge"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="32dp" />

</RelativeLayout> 
```

我的清单文件是这个

```
enter code here <uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />

<uses-permission android:name="android.permission.INTERNET" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".SplashScreenActivity"
        android:label="@string/title_activity_splash_screen" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="android.support.v4.app.FragmentActivity" />
    </activity>
</application> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T04:53:43.633

在我看来你的问题是你的布局。您正在尝试使用 RelativeLayout 来完成让进度条显示在所有其他内容之上。相反，您需要使用 FrameLayout 之类的东西来完成此操作。这将允许您将视图堆叠在另一个之上。然后当您不再需要进度指示时，您可以将进度条设置为不可见或消失。

如果您查看@您的xml，您会看到您将textview 和imageview 都设置为在relativelayout 中居中。那是行不通的。RelativeLayout 用于相对于彼此（或父级）定位事物，您不能只将两个孩子放在同一个位置。

# applescript - AppleScript 中的系统事件是否支持复制文件？

> ID：13263124
> 
> 赞同：0
> 
> 时间：2012-11-07T04:26:27.033
> 
> 标签：applescript

我一直在尝试让系统事件在 AppleScript 中复制文件，但我一直失败:) 我最终总是收到错误“错误“文件无法复制。”编号 -1717”。所以我改变了策略并尝试使用 Finder 来确保我尝试做的事情是正确的。这是有效的代码：

告诉应用程序“系统事件”

```
set desktopFolder to (path to desktop folder) as string
set fullPath to desktopFolder & "Temp Export From DO"

set theDOEntries to every file of folder "/Users/jkratz/Dropbox/Apps/Day One/Journal.dayone/entries" whose name extension is "doentry"
repeat with DOEntry in theDOEntries
    set source to path of DOEntry
    log "Source file: " & source
    set destination to fullPath as string
    log "Destination folder: " & destination
    tell application "Finder"
        duplicate file source to folder destination with replacing
    end tell
end repeat 
```

结束告诉

如果我删除最后一个通知，以便它使用系统事件，我会得到上面提到的相同错误。系统事件标准套件的字典有一个“重复”命令，所以我不确定这里发生了什么。此外，APress 中的“Learning AppleScript，第 3 版”指出：

“系统事件中一个特别烦人的遗漏是它还不能复制文件和文件夹；如果你需要这样做，Finder 是你最好的选择。”

第 3 版是从 2010 年开始的。似乎即使在 Mountain Lion 中这仍然是正确的。谁能证实这一点？1717 错误号将其他任何地方列为处理程序错误，我没有使用处理程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-18T04:08:43.357

不幸的是，您不能使用系统事件复制文件 - 您必须使用 Finder。即使在 adayzdone 提供的答案中，系统事件实际上也没有处理重复。

这看起来像是在工作（因为它在系统事件告诉块内）......

```
tell application "System Events"
    duplicate myFile to myFolder
end tell 
```

...但是如果您检查事件日志，您会看到 Finder 实际上正在执行复制。在幕后，您将两个 Finder 对象传递给系统事件。系统事件不知道如何处理 Finder 对象，因此将执行传递给对象的所有者 Finder，后者执行命令。

对于 AppleScript 中的文件复制，不幸的是，您只能使用 Finder 或通过`do shell script`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T13:41:51.597

尝试：

```
tell application "Finder" to set desktopFolder to (path to desktop folder as text) & "Temp Export From DO" as alias
tell application "System Events" to set theDOEntries to every file of folder "/Users/jkratz/Dropbox/Apps/Day One/Journal.dayone/entries" whose name extension is "doentry"
repeat with DOEntry in theDOEntries
    log "Source file: " & DOEntry
    log "Destination folder: " & desktopFolder
    tell application "Finder" to duplicate file DOEntry to desktopFolder with replacing
end repeat 
```

如果您不需要记录值，您可以简单地：

```
tell application "Finder" to set desktopFolder to (path to desktop folder as text) & "Temp Export From DO" as alias
tell application "System Events" to set theDOEntries to every file of folder "/Users/jkratz/Dropbox/Apps/Day One/Journal.dayone/entries" whose name extension is "doentry"
tell application "Finder" to duplicate theDOEntries to desktopFolder with replacing 
```

或者：

```
set desktopFolder to quoted form of (POSIX path of (path to desktop folder as text) & "Temp Export From DO")
do shell script "find '/Users/jkratz/Dropbox/Apps/Day One/Journal.dayone/entries' -name \"*.doentry\" -type f -print0 | xargs -0 -I {} cp -a {} " & desktopFolder 
```

回到您的问题，重复的命令会创建 Finder 项目的重复项。您可以使用系统事件来复制 Finder 项目，如下所示：

```
tell application "Finder"
    set myFile to file ((path to desktop as text) & "Test File.txt")
    set myFolder to folder ((path to desktop as text) & "Test Folder")
end tell

tell application "System Events"
    duplicate myFile to myFolder
end tell 
```

# python - 减小使用 matplotlib 制作的 .eps 图形的大小

> ID：13263126
> 
> 赞同：2
> 
> 时间：2012-11-07T04:26:38.353
> 
> 标签：python, matplotlib, size, contour

今天我正在为一门课程做报告，我需要包含某个领域的等高线图。我用 matplotlib 做了这个（忽略混乱的标题）：

```
import numpy as np
import matplotlib
from matplotlib import rc
rc('font',**{'family':'sans-serif','sans-serif':['Helvetica']})
## for Palatino and other serif fonts use:
#rc('font',**{'family':'serif','serif':['Palatino']})
rc('text', usetex=True)
from matplotlib.mlab import griddata
import matplotlib.pyplot as plt
import numpy.ma as ma
from numpy.random import uniform
from matplotlib.colors import LogNorm
fig = plt.figure()
data = np.genfromtxt('Isocurvas.txt')
matplotlib.rcParams['xtick.direction'] = 'out'
matplotlib.rcParams['ytick.direction'] = 'out'
rc('text', usetex=True)
rc('font', family='serif')
x = data[:,0]
y = data[:,1]
z = data[:,2]
# define grid.
xi = np.linspace(0.02,1, 100)
yi = np.linspace(0.02,1.3, 100)
# grid the data.
zi = griddata(x,y,z,xi,yi)
# contour the gridded data.
CS = plt.contour(xi,yi,zi,25,linewidths=0,colors='k')
CS = plt.contourf(xi,yi,zi,25,cmap=plt.cm.jet)
plt.colorbar() # draw colorbar
# plot data points.
plt.scatter(x,y,marker='o',c='b',s=0)
plt.xlim(0.01,1)
plt.ylim(0.01,1.3)
plt.ylabel(r'$t$')
plt.xlabel(r'$x$')
plt.title(r' Contour de $\rho(x,t)$')
plt.savefig("Isocurvas.eps", format="eps")
plt.show() 
```

其中“Isocurvas.txt”是一个 3 列文件，我真的不想碰它（消除数据或类似的东西对我不起作用）。我的问题是图形大小为 1.8 Mb，这对我来说太大了。这个数字本身比报告的其余部分都大，当我打开 pdf 时，它不是很流畅。

所以，我的问题是：

有什么方法可以在不牺牲图形质量的情况下减小这个尺寸？我正在寻找任何解决方案，不一定与 python 相关。

这是 .png 图，参数略有不同。使用 .png 你可以看到像素，我不太喜欢，所以最好是 pdf 或 eps。

![](../Images/23b150f6775a6bf200e91aaa551ea169.png) 谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-08T03:47:38.280

散点图是导致您的大尺寸的原因。使用 EPS 后端，我使用您的数据来创建数据。这是我得到的文件大小：

*   直接来自您的示例：1.5Mb
*   没有散​​点图：249Kb
*   带有光栅散点图：249Kb

在您的特定示例中，不清楚您为什么想要分散（不可见）。但是对于未来的问题，您可以使用`rasterized=True`调用上的关键字`plt.scatter`来激活光栅模式。在您的示例中，散点图中有 12625 个点，并且在矢量模式下会占用一些空间。

我用来从 matplotlib 中修剪矢量图像的另一个技巧如下：

1.  将图形另存为 EPS
2.  在生成的文件上运行[epstopdf](http://tug.org/epstopdf/)（可用于 TeX 发行版）

这通常会给你一个比 matplotlib 的默认值更小的 pdf，并且质量不变。对于您的示例，使用不带散点图的 EPS 文件，它生成了一个 73 Kb 的 pdf，这似乎很合理。如果你真的想要一个矢量散射命令，在我的系统中对原始 1.5 Mb EPS 文件运行 epstopdf 会生成一个 198 Kb 的 pdf。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T08:52:24.080

我不确定它是否对大小有帮助，但是如果您愿意尝试 matplotlib 1.2 候选版本，那么有一个用于生成 PGF 图像的新后端（旨在无缝直接插入到乳胶中）。您可以在此处找到相关文档：http: [//matplotlib.org/1.2.0/users/whats_new.html#pgf-tikz-backend](http://matplotlib.org/1.2.0/users/whats_new.html#pgf-tikz-backend)

如果您决定试一试并且有任何疑问，我可能不是最好的交谈对象，因此建议您向 matplotlib-users 邮件列表发送电子邮件。

高温下，

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T06:23:58.527

尝试删除数据的散点图。它们在您的最终图中似乎不可见（因为您将它们设置为 0 号），并且可能会占用您的 eps 中的空间。

编辑：完全改变答案，因为我读错了问题。

# android - android xml中的膨胀异常

> ID：13263136
> 
> 赞同：0
> 
> 时间：2012-11-07T04:27:51.093
> 
> 标签：android, xml

我正在尝试在另一个布局中重用我的一个布局，这是我想要重用的布局：

```
<?xml version="1.0" encoding="utf-8"?>

<RelativeLayout android:id="@+id/dashboard"
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical" android:layout_width="wrap_content"
    android:layout_height="wrap_content">
    <RelativeLayout android:id="@+id/reltbl"
        android:layout_gravity="left" android:layout_marginTop="20dp"
        android:layout_below="@+id/linertbl1" android:layout_width="fill_parent"
        android:layout_height="wrap_content">
        <ImageButton android:id="@+id/imgBtn"
            android:layout_height="100dp" android:gravity="right"
            android:textColor="#ffffff" android:textStyle="bold"
            android:paddingRight="5dp" android:paddingTop="5dp"
            android:layout_marginTop="10dp" android:layout_marginLeft="30dp"
            android:layout_width="100dp" android:background="@drawable/tasksheet" />
        <TextView android:id="@+id/imgmenubadge"
            android:layout_height="wrap_content" android:text="18"
            android:textColor="#ffffff" android:textStyle="bold" android:gravity="center"
            android:layout_marginTop="1dp" android:layout_marginLeft="103dp"
            android:textSize="16sp" android:layout_width="wrap_content"
            android:background="@drawable/menubgbadge" />
        <TextView android:id="@+id/txttasksheet"
            android:layout_width="match_parent" android:layout_height="wrap_content"
            android:text="My Tasksheet" android:layout_below="@+id/imgBtn"
            android:textColor="#808080" android:textSize="12sp"
            android:layout_marginLeft="40dp" android:textStyle="bold"
            android:typeface="normal" />

    </RelativeLayout>

</RelativeLayout> 
```

这是我重用它的主要xml代码

```
 <include android:id="@+id/cell1" layout="@layout/menubutton"/> 
```

但我尝试查看它。它给 Inflate 异常说你必须指定一个有效的布局参考。

我第一次使用包含，请告诉我是否犯了任何愚蠢的错误或遗漏了什么？

# ios - 使用单个文件播放器音频单元播放多个文件

> ID：13263139
> 
> 赞同：1
> 
> 时间：2012-11-07T04:28:13.927
> 
> 标签：ios, core-audio, audiounit

我正在尝试使用文件播放器音频单元 ( `kAudioUnitSubType_AudioFilePlayer`) 播放多个文件（当然不是同时播放）。那是在iOS上。`AudioFileID`所以我已经成功地打开了文件并将它们的详细信息存储在我设置为音频单元的数组中`kAudioUnitProperty_ScheduledFileIDs`。现在我想定义 2 `ScheduledAudioFileRegion`，每个文件一个，并将它们与文件播放器一起使用...

但我似乎无法找到：

*   如何设置`kAudioUnitProperty_ScheduledFileRegion`属性来存储这2个区域（实际上是如何定义每个区域的索引）？
*   如何触发特定区域的播放.. 我的猜测是该`kAudioTimeStampSampleTimeValid`参数应该启用此功能但如何定义要播放的区域？

也许我对我应该使用这个音频单元的方式完全错误，但是文档很难获得，我还没有找到任何显示在同一播放器上播放 2 个区域的示例！提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-18T20:14:18.160

每次播放文件时都需要安排区域。在 ScheduledAudioFileRegion 中，您必须设置 AudioFileID 才能播放。当单位中的当前时间（样本）等于或大于预定区域中的样本时间时开始播放。

例子：

```
// get current unit time
AudioTimeStamp timeStamp;
UInt32 propSize = sizeof(AudioTimeStamp);
AudioUnitGetProperty(m_playerUnit, kAudioUnitProperty_CurrentPlayTime, kAudioUnitScope_Global, 0, &timeStamp, &propSize);

// when to start playback
timeStamp.mSampleTime += 100;

// schedule region

ScheduledAudioFileRegion region;
memset(&region, 0, sizeof(ScheduledAudioFileRegion));
region.mAudioFile = ...; // your AudioFileID
region.mFramesToPlay = ...; // count of frames to play
region.mLoopCount = 1;
region.mStartFrame = 0;
region.mTimeStamp = timeStamp;

AudioUnitSetProperty(m_playerUnit, kAudioUnitProperty_ScheduledFileRegion, kAudioUnitScope_Global, 0, &region,sizeof(region)); 
```

# apache - htaccess 将特定扩展重定向到子域

> ID：13263141
> 
> 赞同：1
> 
> 时间：2012-11-07T04:28:33.463
> 
> 标签：apache, .htaccess, redirect, url-rewriting, cdn

我希望将特定文件夹中的特定扩展名 (mp3) 重定向/重写到使用 CDN 的子域。

为了让事情更清楚，只有当有人尝试像

```
http://www.example.com/compositions/interception.mp3 
```

至

```
http://sub.example.com/interception.mp3 (subdomain on push zone CDN) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T04:41:22.943

用于`RewriteCond`匹配主机名`www.example.com`，匹配时执行目录中 mp3 的重写`compositions/`。

```
RewriteEngine On

# If the domain matches www.example.com
RewriteCond %{HTTP_HOST} ^www\.example\.com$ [NC]

# Rewrite mp3's from composition/ to the CDN, capture filename in $1
# Performs a 301 redirect
RewriteRule ^compositions/(.*)\.mp3$ http://sub.example.com/$1.mp3 [L,R=301] 
```

# mysql - 如何处理具有许多不同上下文的多种语言的翻译？

> ID：13263149
> 
> 赞同：0
> 
> 时间：2012-11-07T04:30:24.537
> 
> 标签：mysql, database, database-design

永远我一直在创建对象/元素的同一张表中进行翻译。
因此，例如，如果我处理帖子并且帖子的标题需要翻译，我会这样做 -> `post_title_en`, `post_title_fr`, `post_title_nl`。
好吧，这是维护应用程序的非常糟糕的方式，您必须在代码中的很多东西中硬编码。

所以我现在正在写一个应用程序，我想打破这个坏习惯，像这样翻译。

如果我不知道我必须在表字段中保存什么样的数据长度，我将如何处理翻译？

我可以翻译成`post_title`通常会是女巫的翻译，并且我可以翻译成通常会是女巫`varchar(255)`的东西。我将如何用主要对象引用所有这些？`post_content``text`

欢迎任何指点。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:35:30.987

不幸的是 MySQL 数据库是示意图。但你可以做到这一点。

从版本 5.0.3 开始，如果表的[ROW_FORMAT](http://dev.mysql.com/doc/refman/5.5/en/innodb-row-format.html)设置为“COMPACT”，NULL 值将永远不会使用数据库中的任何空间。所以我们可以建立这样的方案

![i18n 计划](../Images/7d6347c054bb219c45d0ee1f00ad2027.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T04:47:48.813

创建另一个包含如下内容的表：

*   post_id（posts表的外ke to id字段）
*   field_type（标题、内容等）
*   language_id（语言）
*   值（字符串值）

所以不要在帖子表中放置任何受语言影响的值（您仍然可以放置帖子作者、日期和时间等）。

# lua - 如何在 Lua 交互式解释器中重复上一条命令？

> ID：13263151
> 
> 赞同：2
> 
> 时间：2012-11-07T04:30:32.927
> 
> 标签：lua

如何在 Lua 交互式解释器中重复上一条命令？按向上键会导致：

```
^[[A 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T05:45:44.653

The up arrow works fine for me in Lua 5.1 and 5.2 under Windows and Debian; if it's not working for you then you should be able to add the functionality to any application using [rlwrap](http://utopia.knoware.nl/~hlub/rlwrap/#rlwrap). I just tested it with LuaJIT on Debian, which has no readline support, and it worked perfectly.

If you don't want to use rlwrap, you'll probably need to recompile Lua with `LUA_USE_READLINE` enabled in luaconf.h.

# d3.js - 什么是绝对最短的 d3 区域示例？

> ID：13263153
> 
> 赞同：9
> 
> 时间：2012-11-07T04:30:40.473
> 
> 标签：d3.js

我真的很难理解 d3`area`和`stack`布局的东西。我尝试制作我认为是最小的示例，但没有出现任何内容，实际上它在控制台中打印错误。我没有得到什么？这是代码。

```
var svg = d3.select("body").append("svg")
    .attr("width", 400)
    .attr("height", 300)

var testData = [
  [ 0, 10],
  [10, 20],
  [20, 30],
  [30, 20],
];

svg.selectAll("path.area")
    .data(testData)
  .enter().append("path")
    .style("fill", "#ff0000")
    .attr("d", d3.svg.area()); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-07T17:37:35.803

数据的维度不正确。每个区域路径都需要一个二维数组，如下所示：

```
d3.svg.area()([[ 0, 10], [10, 20], [20, 30], [30, 20]]) 
```

结果是：

```
"M0,10L10,20L20,30L30,20L30,0L20,0L10,0L0,0Z" 
```

这意味着您需要将 3D 数组绑定到选择。选择中的每个元素（即路径）然后将接收一个二维数组。

```
var svg = d3.select("body").append("svg")
    .attr("width", 400)
    .attr("height", 300)

var testData = [
  [ 0, 10],
  [10, 20],
  [20, 30],
  [30, 20],
];

svg.selectAll("path.area")
    .data([testData])      // dimension of data should be 3D
  .enter().append("path")
    .style("fill", "#ff0000")
    .attr("class", "area") // not the cause of your problem
    .attr("d", d3.svg.area()); 
```

有时，通过想象您想要创建多个区域来更容易描绘正在发生的事情。然后它看起来像：

```
var testData1 = [
  [ 0, 10],
  [10, 20],
  [20, 30],
  [30, 20],
];

var testData2 = [
  [100, 110],
  [110, 120],
  [120, 130],
  [130, 120],
];

svg.selectAll("path.area")
    .data([testData1, testData2])
  .enter().append("path")
    .style("fill", "#ff0000")
    .attr("class", "area")
    .attr("d", d3.svg.area()); 
```

# excel - Excel - 查找和替换多个单词

> ID：13263154
> 
> 赞同：3
> 
> 时间：2012-11-07T04:30:45.697
> 
> 标签：excel, replace, find, vba

我只想对多个字符串进行简单的查找和替换。例如，我需要将所有“A1”、“A2”、“A3”替换为“系统”，将所有“B1”、“B2”替换为“ACC”等等......

有谁知道好路线吗？我只是不确定如何开始。谢谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T04:49:52.843

*更新底部地址迈克尔的评论是许多模式替换的更好方法*

如果您使用`Replace`Excel 菜单中的手动选项录制一个简单的宏，您将获得可以整理的代码

1.  第一个选项会将`ActiveSheet`比包含的单元格更新`"I am A1"`为`"I am System"`- 部分字符串匹配
2.  第二个选项将仅更新`ActiveSheet`仅包含`"A1"`到`"Sytem"`的单元格 - 即整个单元格字符串匹配

**代码**

```
Sub UpdatePartial()
With ActiveSheet.UsedRange
.Replace "A1", "System", xlPart
.Replace "A2", "System", xlPart
.Replace "A3", "System", xlPart
.Replace "B1", "ACC", xlPart
.Replace "B2", "ACC", xlPart
End With
End Sub

Sub UpdateWhole()
With ActiveSheet.UsedRange
.Replace "A1", "System", xlWhole
.Replace "A2", "System", xlWhole
.Replace "A3", "System", xlWhole
.Replace "B1", "ACC", xlWhole
.Replace "B2", "ACC", xlWhole
End With
End Sub 
```

**更新**

下面的代码

1.  使用 basic`Timer`比较替换所有*部分*字符串，范围为`A1-A99`和`B1-B99`
2.  这两种方法是
    *   上述`Replace`方法循环调用了 198 次（即 2*99）
    *   A `RegExp`\变体数组组合

在我的测试中，对于 1,000,000 个单元格范围内的 198 个替换，第二种方法更快。

更少的替换将提高相对速度`Replace`。更多朝向`RegExp` 更多细胞也将提高朝向的相对速度`Replace`。少朝`RegExp`

我没有继续尝试`Find`稍后解析字符串的方法。作为一种混合类型的解决方案（*find* then *parse* ut 不会与单个*replace*或*parse*竞争）

**定时器**

```
Sub MainCaller()
Dim dbTime As Double
Dim lngCnt As Long

dbTime = Timer()
For lngCnt = 1 To 99
Call UpdatePartial("A" & lngCnt, "System")
Call UpdatePartial("B" & lngCnt, "System")
Next lngCnt
Debug.Print Timer() - dbTime
dbTime = Timer()
Call RegexReplace("(A|B)[1-99]", "System")
Debug.Print Timer() - dbTime
End Sub 
```

**1）替换子**

```
Sub UpdatePartial(StrIn As String, StrOut As String)
ActiveSheet.UsedRange.Replace StrIn, StrOut, xlPart
End Sub 
```

**2) 正则表达式 - 变体数组子**

```
Sub RegexReplace(StrIn As String, StrOut As String)
    Dim rng1 As Range
    Dim rngArea As Range
    Dim lngRow As Long
    Dim lngCol As Long
    Dim lngCalc As Long
    Dim objReg As Object
    Dim X()

    'On Error Resume Next
    'Set rng1 = Application.InputBox("Select range for the replacement of leading zeros", "User select", Selection.Address, , , , , 8)
    'If rng1 Is Nothing Then Exit Sub
    'On Error GoTo 0

    ActiveSheet.UsedRange
    Set rng1 = ActiveSheet.UsedRange

    'See Patrick Matthews excellent article on using Regular Expressions with VBA
    Set objReg = CreateObject("vbscript.regexp")
    With objReg
    .Pattern = StrIn
    .ignorecase = False
    .Global = True
    End With

   'Speed up the code by turning off screenupdating and setting calculation to manual
   'Disable any code events that may occur when writing to cells
    With Application
        lngCalc = .Calculation
        .ScreenUpdating = False
        .Calculation = xlCalculationManual
        .EnableEvents = False
    End With

    'Test each area in the user selected range

    'Non contiguous range areas are common when using SpecialCells to define specific cell types to work on
    For Each rngArea In rng1.Areas
        'The most common outcome is used for the True outcome to optimise code speed
        If rngArea.Cells.Count > 1 Then
           'If there is more than once cell then set the variant array to the dimensions of the range area
           'Using Value2 provides a useful speed improvement over Value. On my testing it was 2% on blank cells, up to 10% on non-blanks
            X = rngArea.Value2
            For lngRow = 1 To rngArea.Rows.Count
                For lngCol = 1 To rngArea.Columns.Count
                    'replace the leading zeroes
                    X(lngRow, lngCol) = objReg.Replace(X(lngRow, lngCol), StrOut)
                Next lngCol
            Next lngRow
            'Dump the updated array back over the initial range
            rngArea.Value2 = X
        Else
            'caters for a single cell range area. No variant array required
            rngArea.Value = objReg.Replace(rngArea.Value, StrOut)
        End If
    Next rngArea

    'cleanup the Application settings
    With Application
        .ScreenUpdating = True
        .Calculation = lngCalc
        .EnableEvents = True
    End With

    Set objReg = Nothing
End Sub 
```

# java - 超类类型的容器

> ID：13263155
> 
> 赞同：-1
> 
> 时间：2012-11-07T04:30:48.417
> 
> 标签：java, oop

如果我有一个 A 类，它是 B 类和 C 类的超类，我有

```
A as[] = new A[1]; 
```

那么 A、B 或 C 的大小将占用多少空间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T04:37:51.417

> 那么 A、B 或 C 的大小将占用多少空间？

那没有意义。

`as`是一个`A`类型引用数组。应该是`[space a reference would take] X 1`，因为您的数组大小为 1。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T04:49:07.557

对象`as`是一个长度为 1 的数组。在 Java 中，包含对象的数组实际上包含对对象的*引用*，根据硬件架构，引用占用 4 或 8 个字节。

您尚未分配任何类型`A`的对象或其任何子类型，因此使用的总内存是单个引用占用的内存（4 或 8 个字节）。

如果你要做

```
as[0] = new A(); 
```

那么你还会`A`占用多少内存，这取决于`A`包含的内容。如果你做了

```
as[0] = new B(); 
```

内存使用量将是任何`B`占用，这取决于`B`'s 成员，但将是 ≥`A`的内存要求。

# string - 是否有标准代码可以将电话号码格式化为某种“标准格式”

> ID：13263156
> 
> 赞同：2
> 
> 时间：2012-11-07T04:31:08.247
> 
> 标签：string

例如，假设我们知道默认的区号是 ​​21，而国家代码是 62

```
123456789 -> 6221123456789
021123456789 -> 6221123456789
022123456789 -> 6222123456789
6222123456789 -> 6222123456789
(62)21 123456789 -> 6221123456789 
```

基本上这看起来很简单。但是，我想知道电话号码是否有规则。

例如，如果电话号码的长度为 10，则前 2 位数字是否总是国家代码？

IOS 使用什么样的格式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T13:41:18.847

可悲的是，不同的国家有不同的标准，甚至国家也有不同的标准，你可以[在这里](http://en.wikipedia.org/wiki/Local_conventions_for_writing_telephone_numbers#United_Kingdom)看到。

您可以针对不同的县制定不同的规则，也可以选择您认为有意义的格式，或者允许用户更改格式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T09:09:55.937

使用这个 [https://github.com/iziz/libPhoneNumber-iOS](https://github.com/iziz/libPhoneNumber-iOS)

```
NBPhoneNumberUtil *phoneUtil = [NBPhoneNumberUtil sharedInstance];

NSError *aError = nil;
NBPhoneNumber *myNumber1 = [phoneUtil parse:@"6766077303" defaultRegion:@"AT" error:&aError];
if (aError == nil)
{
    NSLog(@"isValidPhoneNumber ? [%@]", [phoneUtil isValidNumber:myNumber1] ? @"YES":@"NO");
    NSLog(@"E164          : %@", [phoneUtil format:myNumber1 numberFormat:NBEPhoneNumberFormatE164]);
    NSLog(@"INTERNATIONAL : %@", [phoneUtil format:myNumber1 numberFormat:NBEPhoneNumberFormatINTERNATIONAL]);
    NSLog(@"NATIONAL      : %@", [phoneUtil format:myNumber1 numberFormat:NBEPhoneNumberFormatNATIONAL]);
    NSLog(@"RFC3966       : %@", [phoneUtil format:myNumber1 numberFormat:NBEPhoneNumberFormatRFC3966]);
}
else
{
    NSLog(@"Error : %@", [aError localizedDescription]);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-22T02:30:33.857

[https://github.com/rmaddy/RMPhoneFormat#rmphoneformat](https://github.com/rmaddy/RMPhoneFormat#rmphoneformat)

一些关于某些问题的帖子提到了这一点。这就是我将使用的。

# list - 确定列表中最大的缺失数

> ID：13263162
> 
> 赞同：0
> 
> 时间：2012-11-07T04:32:02.330
> 
> 标签：list, scheme, racket

参数是一个列表，我试图从列表中提取最大的缺失数。

我已经对函数中的列表进行了排序`select`，但是我很难让函数`select`返回排序后的列表。当列表从排序返回时，我减去最高和第二高以确定差异并检查差异是否大于 1。

有人可以让我知道如何将排序列表从 Selected 返回到`LargestGap`吗？

```
(define (LargestGap L)
  (cond ( (null? L) '() )
 ;       ( car (select L))
        ( (> (- (car(cdr(select L))) (car(select L))) 0) (LargestGap (cdr(select L))))
        (- (car(select L)) 1)))

(define (select L)
   (cond ( (null? L) '() )
         ( else 
           (cons (Largest L (car L))
                      (select (delete L (Largest L (car L))))))))

(define (delete L A)
  (cond ( (null? L) '() )
        ( (= (car L) A) (cdr L))
        (else (cons (car L)(delete (cdr L) A)))))

(define (Largest L A)
  (cond ( (null? L) A)
        ( (> (car L) A) (Largest (cdr L)(car L)))
        (else (Largest (cdr L) A )))) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T12:15:39.147

我不确定我是否正确地回答了你的问题。我猜你想避免`select`在函数中多次调用`LargestGap`函数。如果这是您的问题，那么：

做另一个功能：

```
(define (get-largest-gap L) 
    (LargestGap (select L))) 
```

使函数 LargestGap 接受排序列表：

```
(define (LargestGap L)
  (cond ( (null? L) '() )
        ( (> (- (cadr L) (car L)) 0) (LargestGap (cdr L)))
        (- (car L) 1))) 
```

# c++ - 使用 GDI+ 与 HTML 页面

> ID：13263166
> 
> 赞同：1
> 
> 时间：2012-11-07T04:32:26.493
> 
> 标签：c++, windows, winapi, mfc

我正在开发一个 UI 密集型应用程序（即我们需要自定义所有控件以使其看起来不同）。

为此，我计划在 win32 中使用 GDI+。但是我们团队成员的建议之一是，他要求我使用 Web 浏览器控件，而不是使用 GDI+，因为他要求我显示本地 html。该 html 页面包含自定义控件。

根据他的建议，我创建了一个 Web 控件并使用了一些 UI 密集型本地 html 页面。这看起来不错。

但我的问题是，使用 Web 控件来解决这个问题是个好主意吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:33:06.123

使用 Web 浏览器控件来解决此问题很常见。有许多应用程序已经这样做了。例如， [Steam](http://www.steampowered.com/)使用 Chromium 而不是 Web 浏览器控件来完成其所有窗口蒙皮。Windows 8 Metro 是基于 HTML 的界面的另一个示例。甚至还有基于 html 的界面构建的完整框架，例如[Appcelerator](http://www.appcelerator.com/)。走网络浏览器控制路线有很多好处，但要做到正确并不容易。

# c++ - c++中库的双重包含的神秘错误

> ID：13263168
> 
> 赞同：0
> 
> 时间：2012-11-07T04:32:38.383
> 
> 标签：c++, include

对不起，蹩脚的标题，但我真的不知道发生了什么。它似乎是在声明一个函数和一个变量两次。也许我在某个地方包含了两次，但这个项目真的很小，我找不到它包含在哪里。

我的代码在这个[github repo](https://github.com/throoze/gameTrees)中。当我这样做时`make`，这是输出：

```
g++  arbolesJuego.cpp main.cc  -o othello
/tmp/ccwVFD8e.o: In function `lookup()':
main.cc:(.text+0x0): multiple definition of `lookup()'
/tmp/cc3YvuYq.o:arbolesJuego.cpp:(.text+0x0): first defined here
/tmp/ccwVFD8e.o:(.bss+0x0): multiple definition of `trans'
/tmp/cc3YvuYq.o:(.bss+0x0): first defined here
collect2: ld returned 1 exit status
make: *** [all] Error 1 
```

为什么会这样？任何帮助将不胜感激！

**更新**

因为，提供的链接是一个 repo，它会被改进（我希望 hehehe），我接下来粘贴错误的代码：

```
stored_info_t lookup() {
  stored_info_t info;
  return info;
};

hash_table_t trans; 
```

`trans` 正在源文件中使用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T04:36:47.763

这是您的问题之一：

定义

> ```
> hash_table_t trans; 
> ```

出现在头文件中。由于标头被复制到使用它们的每个编译单元中，因此您最终会得到多个具有相同名称的变量。这会导致链接器错误。

解决办法是说

```
extern hash_table_t trans; 
```

在标题中，并且

```
hash_table_t trans; 
```

在一个源文件中。

类似的方法将适用于您的其他错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T04:40:02.417

如果你`inline`在第 35 行创建这个函数`hashTable.h`

```
stored_info_t lookup() {
  return NULL;
} 
```

它应该摆脱错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T04:41:08.890

或者您可以将其包装在命名空间周围以创建静态上下文，如下所示

```
namespace{
    hash_table_t trans;
    stored_info_t lookup() {
      return NULL;
    }
} 
```

请注意，如果可能，您应该避免使用全局变量。

# servicestack - 带有请求和响应 DTO 的 servicestack Razor 视图

> ID：13263175
> 
> 赞同：2
> 
> 时间：2012-11-07T04:33:36.360
> 
> 标签：servicestack

我正在使用服务堆栈中的剃须刀功能。我有一个适用于我的响应 DTO 的剃刀 cshtml 视图。

我需要从 razor 视图中的请求 DTO 访问一些值，这些值已从 REST 路由的某些字段中填充，因此我可以构造一个 url 以放入响应 html 页面并标记一些表单标签。

反正有这样做吗？我不想仅为这个 html 视图将请求 DTO 中的属性复制到响应 DTO 中。因为我正在尝试模拟另一个产品的现有 REST 服务，所以我不想仅为 html 视图发出额外的数据。

例如 `http://localhost/rest/{Name}/details/{Id}`

例如

```
 @inherits ViewPage<DetailsResponse>
   @{

        ViewBag.Title = "todo title";
        Layout = "HtmlReport";
   } 
```

这需要来自请求 dto NOT @Model

`<a href="/rest/@Model.Name">link to user</a>`
`<a href="/rest/@Model.Name/details/@Model.Id">link to user details</a>`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:41:03.060

如果您想访问`Request DTO`它需要通过将请求添加到响应 DTO（您不想这样做）来引用它，所以另一个选择是将它添加到`IHttpRequest.Items`字典中，这是传递的首选方式您的过滤器和服务之间的数据。

```
public class MyService : Service {
    public object Any(MyRequest request) {
        base.Request.Items["RequestDto"] = request;
        return MyResponse { ... };
    }
} 
```

那么在你看来：

```
@{
   var myRequest = (MyRequest)base.Request.Items["RequestDto"];
} 
```

### 在请求过滤器中包装可重用功能

如果您发现需要在视图中访问请求 DTO 很多，而不是在每个服务中手动分配它，您可以创建一个请求[过滤器属性](https://github.com/ServiceStack/ServiceStack/wiki/Filter-attributes)，或者如果您希望它一直在[全局请求过滤器](https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters)中分配。

```
public class SetRequestDtoAttribute : RequestFilterAttribute {
    public override void Execute(
        IHttpRequest req, IHttpResponse res, object requestDto)
    {
        req.Items["RequestDto"] = requestDto;
    }
} 
```

`[SetRequestDto]`然后，您可以通过在 Action、Service、Request DTO 或基类的不同粒度级别上装饰属性来添加此行为。

# iphone - 对字典进行排序并更改索引

> ID：13263177
> 
> 赞同：2
> 
> 时间：2012-11-07T04:34:10.407
> 
> 标签：iphone, objective-c, ios, arrays, sorting

在我的应用程序中，我有一个包含两个数组的字典，例如：

```
NSDictionary *d=[[NSDictionary alloc]initWithObjectsAndKeys:listOfEvents,@"l",arr_distance,@"d", nil];
        NSLog(@"%@",d);

 d =     (
    "353.90",
    "354.68",
    "350.42",
    "1.18"
);
l =     (
            {
        Contestant1 = "Jon jones";
        Contestant2 = "Anderson silva";
           },
         {
        Contestant1 = "Jon jones";
        Contestant2 = "Anderson silva";
           },
      {
        Contestant1 = "Jon jones";
        Contestant2 = "Anderson silva";
           },
      {
        Contestant1 = "Jon jones";
        Contestant2 = "Anderson silva";
           }
); 
} 
```

我想用第一个数组对字典进行排序，当索引更改时，第二个数组索引也随之更改。

两个数组索引相互关联。

@ABC 你尝试过的代码

```
NSDictionary *dict = [NSDictionary dictionaryWithObjects:listOfEvents  forKeys:arr_distance];
        NSArray *sortedArray = [arr_distance sortedArrayUsingSelector:@selector(compare:)];
        NSMutableArray *sortedValues = [NSMutableArray array];

    for (NSString *key in sortedArray) {
        [sortedValues addObject:[dict valueForKey:key]];
    }

    NSLog(@"%@",sortedValues); 
```

结果：

{ 1.18,2563.91,2563.41,2563.39,350,353,354}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:18:37.000

这是一种方法，

```
 NSArray *a = [NSArray arrayWithObjects:@"8", @"2", @"4", nil];
    NSArray *b = [NSArray arrayWithObjects:@"val1", @"val2", @"val3", nil];//This can be an array of any objects 
```

或者

```
a = ["353.90", "354.68", "350.42", "1.18"];
b = [{
        Contestant1 = "Jon jones";
        Contestant2 = "Anderson silva";
           },
         {
        Contestant1 = "Jon jones";
        Contestant2 = "Anderson silva";
           },
      {
        Contestant1 = "Jon jones";
        Contestant2 = "Anderson silva";
           },
      {
        Contestant1 = "Jon jones";
        Contestant2 = "Anderson silva";
       }]; 
```

像这样做，

```
 NSDictionary *dict = [NSDictionary dictionaryWithObjects:b forKeys:a];
    NSArray *sortedArray = [a sortedArrayUsingComparator:^(id firstObject, id secondObject) {
        return [((NSString *)firstObject) compare:((NSString *)secondObject) options:NSNumericSearch];
    }];
    NSMutableArray *sortedValues = [NSMutableArray array];

    for (NSString *key in sortedArray) {
        [sortedValues addObject:[dict valueForKey:key]];
    }

    NSLog(@"%@",sortedValues); 
```

# c++ - 在 C++ 中破坏结构数组成员

> ID：13263182
> 
> 赞同：0
> 
> 时间：2012-11-07T04:34:59.267
> 
> 标签：c++, destructor

我有一个关于析构函数的问题。在下面的 main.cpp 中，如果我将 ht 定义为指针，则程序可以正常工作。但是如果我将 ht 定义为一个对象，它会抛出一个错误

“malloc：*** 对象 0x7fff511a4b00 的错误：未分配被释放的指针 ***在 malloc_error_break 中设置断点以进行调试”

我理解这个错误，我的解决方案是将 ht 定义为指针。

我的问题是我是否可以直接将 ht 定义为对象，如果答案是肯定的，我应该如何修改类定义。

谢谢。

主文件

```
#include "copy_constructor.h"

int main()
{
  // Define ht as pointer works fine
  //Hash_Table<int>  *ht;
  //ht = new Hash_Table<int>;

  Hash_Table<int> ht;

  // keyed_structure<int> s;
  //  s.data_val = 10;

  return 0;
 } 
```

复制构造器.h

```
#ifndef COPY_CONSTRUCTOR_H
#define COYP_CONSTRUCTOR_H

#include <cstdlib>
#include <iostream>

const size_t MAX_SIZE = 3;

template<class D> struct keyed_structure
{
  size_t key_val;
  D data_val;
  bool empty_val;
};

template<class D> class Hash_Table
{
  public:
    // COnstructor
    Hash_Table() {
      //h_table = new keyed_structure<D> [MAX_SIZE];
      for (size_t index=0; index < MAX_SIZE; ++index) {
        h_table[index].empty_val = true;
      }
    }
    // Destructor
    ~Hash_Table() {
      //std::cout << "Do destruct" << std::endl;
      delete[] h_table;
    }

  private:
     keyed_structure<D> h_table[MAX_SIZE];
};

#endif 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T04:38:37.110

你不需要打电话*，*`delete[] h_table;`因为你在. 您的代码是未定义的行为。*`Hash_Table`*

 *你的测试没有崩溃的原因是因为你只是`new ht`但没有`delete ht`

```
 Hash_Table<int>  *ht;
  ht = new Hash_Table<int>;
  delete ht;  // if you did ht, it still crashes 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T04:39:46.600

只有在通过“new []”分配时才使用“delete[]”。只有在通过“new”分配时才使用“delete”。在任何其他 * 情况下，不要删除该对象。在你的情况下， h_table 在堆栈上，所以操作系统会处理这个问题。*

# objective-c - 如何在不更改大小的情况下更改字体？

> ID：13263183
> 
> 赞同：1
> 
> 时间：2012-11-07T04:35:07.360
> 
> 标签：objective-c, xcode4.5

```
[[UINavigationBar appearance] setTitleTextAttributes:
 @{UITextAttributeTextColor: navTextColor,
 UITextAttributeTextShadowColor: navTextColor,
 UITextAttributeTextShadowOffset: [NSValue valueWithUIOffset:UIOffsetMake(0, 0)],
 UITextAttributeFont: [UIFont fontWithName:@"HelveticaNeue-Bold" size:12]}]; 
```

该代码将 UINavigationBar 的字体更改为 HelveticaNeue-Bold 并将大小设置为 12。

如果我不想将大小设置为 12 怎么办。我只希望字体为 HelveticaNeue

我应该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:54:38.540

您可以使用 titleTextAttributes 获取字体大小，它是刚刚添加到 iOS 5 的 UINavigationBar 上的 NSDictionary。然后只需调用`[navibar.titleTextAttributes objectForKey:UITextAttributeFont];`即可获取标题的 UIFont。

# sharepoint - 如何在沙盒解决方案中使用 SharePoint 2010 中的可视化 webpart

> ID：13263184
> 
> 赞同：0
> 
> 时间：2012-11-07T04:35:17.410
> 
> 标签：sharepoint, sharepoint-2010, sharepoint-deployment

我正在尝试在沙盒解决方案中使用 Visual Webpart。但是每次我部署它：它都会给我以下错误：

**错误1 项目项“VisualWebPart1”中文件“VisualWebPart1UserControl.ascx”的部署类型“TemplateFile”与沙盒解决方案中的功能不兼容。**

我做了一些研究，发现沙盒解决方案不支持 Visual WP。无论如何我可以在沙盒解决方案中使用 Visual WP 吗？

沙盒解决方案为什么不真正支持 Visual WP 是否有任何具体原因。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:43:00.157

使用 VS Sharepoint 电动工具。它具有用于沙盒解决方案的可视化 Web 部件项目模板。 [http://visualstudiogallery.msdn.microsoft.com/8e602a8c-6714-4549-9e95-f3700344b0d9/](http://visualstudiogallery.msdn.microsoft.com/8e602a8c-6714-4549-9e95-f3700344b0d9/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T11:58:02.170

您可以将解决方案直接部署到您的 SharePoint Server 场中，也可以将解决方案部署到沙盒中。沙箱是一个受限的执行环境，它使程序只能访问某些资源，并且可以防止沙箱中出现的问题影响服务器环境的其余部分。部署到*沙*盒中的解决方案（称为沙盒解决方案）不能使用某些计算机和网络资源，也不能访问部署它们的网站集之外的内容。

通常，可视 Web 部件不能被沙箱化，因为它需要*在沙箱之外*工作才能加载可视 Web 部件的基础用户控件。

这是在沙盒解决方案中使用 Visual WP 的方法：http: [//msdn.microsoft.com/en-us/office365trainingcourse_lab_2_1_topic3.aspx](http://msdn.microsoft.com/en-us/office365trainingcourse_lab_2_1_topic3.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T12:06:31.060

请点击此链接

SharePoint 2010 中沙盒解决方案的限制

[http://msdn.microsoft.com/en-us/library/gg615454.aspx](http://msdn.microsoft.com/en-us/library/gg615454.aspx)）

它将为您提供有关沙盒解决方案限制的详细信息。

RoManiac 是正确的，您不能在 Sanboxed 解决方案中部署可视 Web 部件，因为它包含用户控制。如果对您有帮助，请标记为答案。

# html - 通过 CSS 内联显示图像

> ID：13263186
> 
> 赞同：20
> 
> 时间：2012-11-07T04:36:01.700
> 
> 标签：html, css, wordpress, position

我有三个图像，我想在一行中并排显示。

这是HTML：

```
<div id="client_logos">
<img style="display: inline; margin: 0 5px;" title="heartica_logo" src="https://s3.amazonaws.com/rainleader/assets/heartica_logo.png" alt="" width="150" height="50" />
<img style="display: inline; margin: 0 5px;" title="mouseflow_logo" src="https://s3.amazonaws.com/rainleader/assets/mouseflow_logo.png" alt="" width="150" height="50" />
<img style="display: inline; margin: 0 5px;" title="piiholo_logo" src="https://s3.amazonaws.com/rainleader/assets/piiholo_logo.png" alt="" width="150" height="50" />
</div> 
```

这是CSS：

```
#client_logos { display: inline-block; } 
```

出于某种原因，它只显示两个并排的徽标。不知道出了什么问题。有任何想法吗？

网址：[http ://rainleader.com/who-we-are/](http://rainleader.com/who-we-are/)

见截图。![在此处输入图像描述](../Images/6e88ee359f54040d368cb418ff8ca9f2.png)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-07T04:39:32.273

您在标记中的第二个和第三个图像之间有一个换行符`<br>`。摆脱它，它会显示内联。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-07T04:44:23.873

您在此处发布的代码和您网站上的代码都不同。第二张图片后有中断`<br>`，所以第三张图片换行，删除`<br>`它，它将正确显示。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-07T04:53:08.153

将此CSS放在您的页面中：

```
<style>
   #client_logos {
    display: inline-block;
    width:100%;
    }
  </style> 
```

**代替**

```
<p><img class="alignnone" style="display: inline; margin: 0 10px;" title="heartica_logo" src="https://s3.amazonaws.com/rainleader/assets/heartica_logo.png" alt="" width="150" height="50" /><img class="alignnone" style="display: inline; margin: 0 10px;" title="mouseflow_logo" src="https://s3.amazonaws.com/rainleader/assets/mouseflow_logo.png" alt="" width="150" height="50" /><img class="alignnone" style="display: inline; margin: 0 10px;" title="mouseflow_logo" src="https://s3.amazonaws.com/rainleader/assets/piiholo_logo.png" alt="" width="150" height="50" /></p> 
```

至

```
<div id="client_logos">
<img style="display: inline; margin: 0 5px;" title="heartica_logo" src="https://s3.amazonaws.com/rainleader/assets/heartica_logo.png" alt="" width="150" height="50" />
<img style="display: inline; margin: 0 5px;" title="mouseflow_logo" src="https://s3.amazonaws.com/rainleader/assets/mouseflow_logo.png" alt="" width="150" height="50" />
<img style="display: inline; margin: 0 5px;" title="piiholo_logo" src="https://s3.amazonaws.com/rainleader/assets/piiholo_logo.png" alt="" width="150" height="50" />
</div> 
```

# ios - 如何使用 AVCaptureSession 中收到的原始数据播放音频？

> ID：13263187
> 
> 赞同：0
> 
> 时间：2012-11-07T04:36:21.680
> 
> 标签：ios, objective-c, cocoa-touch, playback, avcapturesession

我一直在尝试播放作为原始数据接收的音频，在`didOutputSampleBuffer: delegate`. 我能够处理视频数据，但是我不知道如何处理音频数据，谁能以正确的方式指导我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T05:05:25.930

我已经使用 AudioUnit 方法处理了原始音频数据。我不确定这是否是最好的方法，但它确实有效。

# ruby-on-rails - 如何在 rails 中更新没有主键的连接表记录？

> ID：13263188
> 
> 赞同：0
> 
> 时间：2012-11-07T04:36:24.297
> 
> 标签：ruby-on-rails

我有一个连接表，它在其他两个表之间具有直通关联。这个表有它自己的 rails 模型表示和一些不是其他表的 id 的字段。是否可以从连接表中更新记录，或者我应该考虑创建一个唯一的主键？

如果我尝试在记录中“update_attributes”，我会收到以下错误...

```
Unknown column 'join_table.' in 'where clause': UPDATE `join_table` SET `join_table_attribute` = 1 WHERE `join_table`.`` IS NULL 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T04:45:02.917

您可以使用[`update_all`](http://apidock.com/rails/ActiveRecord/Base/update_all/class)它，例如：

```
JoinModel.update_all('join_table_attribute = 1', 'join1_id = 42, join2_id = 24') 
```

# selenium - 设置 Selenium 网格

> ID：13263190
> 
> 赞同：3
> 
> 时间：2012-11-07T04:36:32.197
> 
> 标签：selenium, selenium-grid

我正在设置 Selenium Grid 服务器，我已经在本地机器上成功完成，我想知道如何提供主机名，所以如果其他测试人员想要注册到集线器，他们应该能够做到，这就是我所做的至今：

在我的本地机器上（假设我将允许其他测试人员在此处注册节点）

在我的本地机器上启动一个集线器：

```
java -jar selenium-server-standalone-2.21.0.jar -hub 
```

启动节点

```
java -jar selenium-server-standalone-2.21.0.jar -role node  -hub localhost:4444/grid/register 
```

我查看集线器的状态：localhost:4444/grid/console

现在，我的问题是：如何注册`another machine`？

在我的另一台机器上，我下载了 selenium-server-standalone jar 文件并运行了这个命令

```
java -jar selenium-server-standalone-2.21.0.jar -role node  -hub localhost:4444/grid/register 
```

我收到此错误：

```
hub down or not responding 
```

我知道我不应该从其他机器上提供本地主机，我在这里很困惑。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:25:56.167

您可以按如下方式启动 selenium 网格

```
java -jar selenium-server-standalone-2.21.0.jar -role hub 
```

您可以按如下方式启动 selenium 节点

```
java -jar selenium-server-standalone-2.21.0.jar -role node -hubHost <<hostname/ip>> -hubPort 4444 
```

代替字符串`<<hostname/ip>>`，给出运行集线器的机器的主机名或 ip。如果节点和集线器都在同一台机器上，则需要使用`localhost`或`127.0.0.1`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T08:46:28.613

而不是 localhost，输入你的 IP : 所以你应该有类似 : 的东西 `-hub http://192.168.x.x:4444/grid/register`，或者你的 IP 是什么。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T04:38:58.517

您需要提供运行集线器的机器的 IP 地址。检查 IP 是否可从远程“其他”机器路由。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-19T10:17:45.447

我解决了由于 jboss 在同一台服务器上运行的问题，请关闭 jboss 的实例

# xml - XML::Twig 更改已删除

> ID：13263193
> 
> 赞同：2
> 
> 时间：2012-11-07T04:37:00.867
> 
> 标签：xml, perl, xml-twig

下面的程序给了我无法解释的奇怪输出：

```
use strict;
use warnings;
use XML::Twig;

my $xml = 
q{<block>
    <foo>bar baz</foo>
</block>};

my $twig = XML::Twig->new(
        TwigHandlers => {foo => \&foo, block => \&block},
    );

print "after parse: " . $twig->parse($xml)->sprint;

sub foo {
    my ( $twig, $foo ) = @_;

    my $text = $foo->sprint("don't print outside element");
    my $newSummary = XML::Twig::Elt->parse( '<p><i>' . $text . '</i></p>' );
    $newSummary->paste( 'before', $foo);
    my $parent = $foo->parent;
    # $foo->delete;
    print "foo: " . $parent->sprint . "\n\n";
}

sub block {
    my ($twig, $block) = @_;
    print "block: " . $block->sprint . "\n\n";
} 
```

它打印以下内容：

```
foo: <block><p><i>bar baz</i></p><foo>bar baz</foo></block>

block: <block><p><i>bar baz</i></p><foo>bar baz</foo></block>

after parse: <block><foo>bar baz</foo></block> 
```

所以我正在修改`foo`处理程序内部的树枝，更改会一直存在以便`block`处理程序看到它，但是当处理完成后，更改就会消失。这里发生了什么？我怎样才能让我的零钱在树枝的整个生命周期都保持不变？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:59:45.253

它看起来像一个错误，或者至少是范围界定的问题：解析完成时，新元素似乎被垃圾收集了。

避免这种情况的一种方法是将 a 添加`copy`到元素的创建中：

```
my $newSummary = XML::Twig::Elt->parse( '<p><i>' . $text . '</i></p>' )->copy; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:31:44.743

你没有返回任何东西。删除子例程中的打印语句，您将获得以下输出：

```
after parse: <block><p><i>bar baz</i></p><foo>bar baz</foo></block> 
```

# jquery - jQuery - 检查 slideToggle 的状态

> ID：13263196
> 
> 赞同：1
> 
> 时间：2012-11-07T04:37:38.120
> 
> 标签：jquery

我不是一个很好的 jQuery 编码器。其实我是新的和可怕的，我想知道是否有人可以帮助我。

我有一堆`slideToggle`用于显示选项的 div。我目前拥有的代码有效。但是当有人单击链接时，我想做的是检查是否有任何“打开”的滑动切换。如果有，请关闭它们并打开我单击的那个。

我确定我当前的代码不好，因此将不胜感激任何有关清理它和添加此功能的帮助。

代码如下：

```
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery("#parent-print").click(function(e) {
        jQuery("#child-print").slideToggle();
        e.preventDefault();
    });

    jQuery("#parent-web").click(function(e) {
        jQuery("#child-web").slideToggle();
        e.preventDefault();
    });

    jQuery("#parent-inspiration").click(function(e) {
        jQuery("#child-inspiration").slideToggle();
        e.preventDefault();
    });
});
</script> 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T04:41:41.487

你试过这个吗？

```
if( jQuery('#parent-web').is(':hidden') ){..} 
```

[http://api.jquery.com/hidden-selector/](http://api.jquery.com/hidden-selector/)

# java - 在 JSP 中显示数组列表中的项目列表

> ID：13263198
> 
> 赞同：1
> 
> 时间：2012-11-07T04:37:53.157
> 
> 标签：java, javascript, web-services, jsp

我正在构建一个允许用户添加/删除或列出书目列表的 SOAP Web 服务。

我已经实现了 add 方法，该方法将新列表添加到文件中，并将其保存到 xml 格式的文件中。此方法适用于soap Web 服务，但现在我必须实现一个列表方法，该方法允许我在jsp 中为初学者显示项目列表。我在实施我尝试过很多但没有运气的任何解决方案时遇到了麻烦。

我现在有一个包含两个子类 Book 和 journal 的类 Reference，这是用户可以输入的两个项目。它们被保存到单独类中的列表中。对于初学者，我只想知道如何在 jsp 上显示列表的内容，然后将其与 SOAP 集成。

我对 Web 开发的了解非常少，我正在学习，但我需要一些帮助来了解如何完成这项任务。任何帮助将不胜感激。

谢谢你。

阿德里安

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T04:55:29.553

这是我`ArrayList`在我的 jsp 页面上显示项目的方式：

```
<table>
<c:forEach var="comp" items="${complains}" >
<tr>
<td>${comp["complain"]}</td>
<td>${comp["status"]}</td>
</tr>
</c:forEach>
</table> 
```

这是我使用设置的对象`complains`的名称：`ArrayList`

```
ArrayList<ComplainVO> mylist = getMyArrayList();
request.setAttribute("complains", mylist); 
```

# iphone - 是否可以使用 NSXMLParser 解析仅包含一个节点的 xml 文件

> ID：13263200
> 
> 赞同：0
> 
> 时间：2012-11-07T04:38:14.627
> 
> 标签：iphone, objective-c, xml, xml-parsing

作为初学者，我已经阅读`NSXMLParser`并尝试实现一个解析器来解析 xml

```
<?xml version="1.0" encoding="UTF-8"?>
<a>Some text here</a> 
```

我的实现

```
-(OneNodeXMLParser*)initOneNodeXMLParser{

appDelegate = (OneNodeXMLParser*)[[UIApplication sharedApplication]delegate];
return self;
}

-(void)parser:(NSXMLParser*) parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict{
NSLog(@"%s",__PRETTY_FUNCTION__,nil);
if([elementName isEqualToString:@"a"]){
   // init some varibles
}
NSLog(@"Starting processing");
}

-(void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{
NSLog(@"%s",__PRETTY_FUNCTION__,nil);
NSLog(@"%s",string);
}

   -(void) parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{
NSLog(@"%s",__PRETTY_FUNCTION__,nil);
NSLog(@"Finishing processing");
} 
```

我应该修改什么才能成功解析文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T04:54:25.113

在你的`.h`文件中声明一个`NSMutableString *store;`

并更改以下方法，例如：

```
-(void)parser:(NSXMLParser*) parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{
  if([elementName isEqualToString:@"a"])
  {
     store = [[NSMutableString alloc] init];
  }
  NSLog(@"Starting processing");
}

-(void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{
  NSLog(@"%s",string);
   if (store != nil)
   {
     [store appendString:string];
   }
}

-(void) parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
 {
   NSLog(@"Finishing processing String : %@", store);
 } 
```

您可以使用该字符串变量`store`以供将来使用。

# java - JavaFX 线程与 Java 线程同步

> ID：13263201
> 
> 赞同：2
> 
> 时间：2012-11-07T04:38:22.977
> 
> 标签：java, multithreading, javafx-2, java.util.concurrent

有没有办法同步 JavaFX 平台线程和标准 Java 线程？目前，当触发时，JavaFX 线程会在标准 Java 线程完成将所有图像添加到可观察列表之前触发，因此 imageList 会更新为空白集合。

```
private final TilePane imageList;
final File[] files = new File(dir).listFiles();
final List<ImageView> views = FXCollections.observableArrayList();

new Thread() {
        @Override
        public void run() {
            for (final File file : files) {
                if (Utils.fileIsImage(file) && !file.isDirectory()) {
                    ImageView view = new ImageView(new Image("file:" + file, 72, 72, false, true));
                    views.add(view);
                }
            }
        }
    }.start();
    Platform.runLater(new Runnable() {
        @Override
        public void run() {
            imageList.getChildren().addAll(views);
        }
    }); 
```

我对 JavaFX 和并发性比较陌生，对线程锁没有任何经验，所以任何帮助都会很棒。谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:59:42.290

```
new Thread() {
    @Override
    public void run() {
        for (final File file : files) {
            if (Utils.fileIsImage(file) && !file.isDirectory()) {
                ImageView view = new ImageView(new Image("file:" + file, 72, 72, false, true));
                views.add(view);
            }
        }

        Platform.runLater(new Runnable() {
            @Override
            public void run() {
                imageList.getChildren().addAll(views);
            }
        });
    }
}.start(); 
```

考虑一个一个添加视图，只要它们被加载：

```
if (Utils.fileIsImage(file) && !file.isDirectory()) {
    ImageView view = new ImageView(new Image("file:" + file, 72, 72, false, true));
    views.add(view);

    Platform.runLater(new Runnable() {
        @Override
        public void run() {
            imageList.getChildren().add(view);
        }
    });
} 
```

# iphone - 在基于标签栏的应用程序中调用 viewDidDisappear

> ID：13263203
> 
> 赞同：0
> 
> 时间：2012-11-07T04:38:53.960
> 
> 标签：iphone

我正在使用基于标签栏的 iPhone 应用程序。我已经`NSTimer`在前两个标签中设置了。我想使这个计时器无效。所以我在`viewDidDisappear`. 但是当我点击不同的标签时，它永远不会调用`viewDidDisappear`. 我不知道如何调用此方法？请帮助我...提前谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T04:53:26.983

你是否投入`[super viewWillDisappear:animated];`了`viewWillDisappear`一些时间它发生了因为我们忘记把这条线放进去`viewWillDisappear`

```
- (void) viewWillDisappear:(BOOL) animated {
    [super viewWillDisappear:animated];

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:01:03.297

在方法中设置时间无效`viewWillDisappear:`，如下所示..

```
-(void)viewWillDisappear:(BOOL)animated
{
      [yourTimer invalidate];
       yourTimer = nil;
} 
```

# wordpress - 我如何使用 add_plugins_page() 并在已安装插件子菜单的顶部订购它

> ID：13263205
> 
> 赞同：0
> 
> 时间：2012-11-07T04:38:58.137
> 
> 标签：wordpress

我正在使用函数 add_menu_page

`<?php add_menu_page( $page_title, $menu_title, $capability, $menu_slug, $function, $icon_url, $position ); ?>`

我需要把它整理好。

我正在制作一个更深入的插件管理页面，我希望我可以在插件菜单下但在其他子菜单选项之上列出它。

当前子菜单顺序是 1.已安装插件 2.添加新 3.editor

我希望我的插件排名第一，并将所有其他插件降低一级。

任何帮助深表感谢！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-20T15:56:45.360

只需按数字将位置添加到文件末尾即可。

```
add_menu_page( 'page title', 'menu title', 'manage_options', 'link-to-admin', '', plugins_url('/images/icon.png', __FILE__) 4); 
```

在上述情况下，菜单标题将位于第 4 位。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T04:45:56.347

就像您拥有的一样`add_menu_page`，您也`add_submenu_page`可以使用它。

法典：[http ://codex.wordpress.org/Function_Reference/add_submenu_page](http://codex.wordpress.org/Function_Reference/add_submenu_page)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-09-07T13:55:19.213

我知道你很久以前就问过这个问题，但没有正确的答案。希望这对您或其他人有所帮助-PBM

```
function adjust_plugin_menu() {
// remove the existing plugin menu items
remove_submenu_page( 'plugins.php', 'plugins.php' ); // Plugins - Installed Plugins
remove_submenu_page( 'plugins.php', 'plugin-install.php' ); // Plugins - Add New Plugins
remove_submenu_page( 'plugins.php', 'plugin-editor.php' ); // Plugins - Editor

// add in your custom menu item
$destination = "path/to/your/plugin/code" ;

add_plugins_page (          
'My Plugin Stuff',
'My Plugin Stuff',
'manage_options', 
$destination );

// Put the other menu items back in 
add_plugins_page('Installed Plugins', 'Installed Plugins', 'manage_options', 'plugins.php');
add_plugins_page('Add New', 'Add New', 'manage_options', 'plugin-install.php');
add_plugins_page('Editor', 'Editor', 'manage_options', 'plugin-editor.php');

}

add_action('admin_menu', 'adjust_plugin_menu'); 
```

# asp.net - ASP.NET 中 `<%: variable%>` 和 `<%= variable%>` 的区别

> ID：13263206
> 
> 赞同：0
> 
> 时间：2012-11-07T04:39:12.223
> 
> 标签：asp.net

> **可能重复：**
> [<%: 和 <%= 是否与嵌入代码（表达式）块相同](https://stackoverflow.com/questions/2676236/are-and-the-same-thing-as-embbed-code-expression-blocks)

从标题中可以清楚地看出，我想知道ASP.NET`<%: variable%>`和`<%= variable%>`ASP.NET 之间的区别。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T04:42:58.860

它们的作用基本相同，但`<%: variable%>`也会对输出进行 html 编码。

# javascript - 在将每一行传递给 doT 模板之前对其进行处理

> ID：13263207
> 
> 赞同：1
> 
> 时间：2012-11-07T04:39:14.023
> 
> 标签：javascript, template-engine

我一直在研究[doT javascript 模板引擎](http://olado.github.com/doT/)，但我的数据格式很奇怪。在进入模板之前是否有一些内置的方法来处理每一行？我宁愿在渲染之前动态构建单独的行对象，也不愿事先克隆和修改整个数据数组，这当然可以。我也可以深入研究代码并自己分叉，但我想确保我没有错过标准功能。

有没有更好的地方可以询问有关 doT 的问题？

**编辑：**为了更全面地解释我正在尝试做的事情，这就是数据的样子（序列化为 JSON 的 ColdFusion 查询）：

```
{
    "COLUMNS": ["fname", "lname"],
    "DATA":
    [
            ["John", "Smith"],
            ["Jean", "Summers"],
            ["Jane", "Sturgess"]
    ]
} 
```

所以一个尴尬的答案就是这样：

```
{{~it.DATA :v:i}}
<div>{{=v[it.COLUMNS.indexOf('fname')]}} {{=v[it.COLUMNS.indexOf('lname')]}} ({{=i}}</div>
{{~}} 
```

您也可以对列索引进行硬编码，但模板的可读性要差得多。

但我宁愿模板不那么冗长，更直观。这是朝那个方向迈出的一步，但仍然很时髦：

```
{{
var cols = {};
for(var i=0, n=it.COLUMNS.length; i<n; i++) {
    cols[it.COLUMNS[i]] = i;
}
{ }}
{{ } }}

{{~it.DATA :v:i}}
<div>{{=v[cols.fname]}} {{=v[cols.lname]}} ({{=i}})</div>
{{~}} 
```

还有一步，手工编码，但模板更漂亮：

```
{{##def.fname:{{=v[0]}}#}}
{{##def.lname:{{=v[1]}}#}}

{{~it.DATA :v:i}}
<div>
{{#def.fname}} {{#def.lname}} ({{=i}})
</div>
{{~}} 
```

您可以生成这些部分，但我非常怀疑您是否可以将该步骤作为模板本身的一部分。

可能更好的解决方案是跳过片段，让外部代码从数据中读取列定义，读取模板，将这些“{{=colName}}”中的 colName 替换为在列定义中查找的索引，然后编译并运行结果。

如果有人对此有任何进一步的想法，我很想听听他们的意见。

# java - AES 加密 j2me

> ID：13263210
> 
> 赞同：5
> 
> 时间：2012-11-07T04:39:41.150
> 
> 标签：java, android, java-me, aes

我正在尝试在 j2me 中进行 AES 加密。我为 android 使用了几乎相同的代码，并且在那里运行良好。以下是代码块。我得到 null 作为输出

```
package cartoon;

import javax.crypto.Cipher;
import javax.crypto.spec.IvParameterSpec;
import javax.crypto.spec.SecretKeySpec;

public class MCrypt {

private String iv = "0123456789abcdef";// iv 
private IvParameterSpec ivspec;
private SecretKeySpec keyspec;
private Cipher cipher;
private String SecretKey = "fedcba9876543210";// secretKey 

public MCrypt() {
    ivspec = new IvParameterSpec(iv.getBytes(), 0, iv.getBytes().length);

    keyspec = new SecretKeySpec(SecretKey.getBytes(), 0, iv.getBytes().length, "AES");

}

String Decrypt(String text) throws Exception {
    cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");

    cipher.init(Cipher.DECRYPT_MODE, keyspec, ivspec);
    byte[] results = null;
    int results1 = cipher.doFinal(Base64.decode(text), 0, Base64.decode(text).length, results, 0);
    System.out.println("String resultssssssssssssss " + results1);
    return new String(results, "UTF-8");
}

String Encrypt(String text)
        throws Exception {
    cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");

    System.out.println("String input : " + text);

    cipher.init(Cipher.ENCRYPT_MODE, keyspec, ivspec);
    byte[] results = null;
    int results1 = cipher.doFinal(text.getBytes(), 0, text.getBytes().length, results, 0);
    return Base64.encode(results);
}
} 
```

打印结果

```
MCrypt mcrypt = new MCrypt();
    try {
        encrypted = mcrypt.Encrypt("id=450");

        decrypted = new String(mcrypt.Decrypt(encrypted));
        System.out.println("Encrypted Text : " + encrypted);
        System.out.println("Decrypted Text : " + decrypted);

    } catch (Exception e) {
        e.printStackTrace();
    } 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:48:36.510

尝试以下

您应该首先适当地初始化字节数组

```
String Decrypt(String text) throws Exception {
    cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");

    cipher.init(Cipher.DECRYPT_MODE, keyspec, ivspec);

    // here
    byte[] results = cipher.doFinal(Base64.decode(text));

    int results1 = cipher.doFinal(Base64.decode(text), 0, Base64.decode(text).length, results, 0);
    System.out.println("String resultssssssssssssss " + results1);
    return new String(results, "UTF-8");
}

String Encrypt(String text)
    throws Exception {
    cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");

    System.out.println("String input : " + text);

    cipher.init(Cipher.ENCRYPT_MODE, keyspec, ivspec);

    // and here
    byte[] results = cipher.doFinal(text.getBytes());

    int results1 = cipher.doFinal(text.getBytes(), 0, text.getBytes().length, results, 0);
    return Base64.encode(results);
} 
```

# c# - 带有页面、搜索和排序的实体 IQueryable

> ID：13263216
> 
> 赞同：0
> 
> 时间：2012-11-07T04:40:04.337
> 
> 标签：c#, linq, sorting, paging

我敢肯定这已经被回答过，但似乎无法找到它。

我正在寻找一个简单的下载（或教程）来构建一个可以排序、分页和搜索的 IQueryable。

例如

```
IQueryable<T> myThings , params[] searchKeyValuePairs, params[] orderKeyValuePairs, int pageSize, int pageNumber 
```

或类似的东西。猜测它将使用 Dynamic Linq。

我的要求是为大致相似的数据提供大量 MVC3 视图。BA 为 10 种数据类型中的每一种指定了大约 20 个视图……但这些视图中的大多数只是“今天所有”和“按成本排序”类型的视图。

数据来自 SQL 或 Oracle 通过 EF4。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T04:47:54.663

对于分页：

```
public class PagingList<T> : List<T>
{
    public int PageIndex { get; set; }
    public int PageSize { get; set; }
    public int TotalCount { get; set; }
    public int TotalPages { get; set; }
    public string pagerange { get; set; }
    public int pagingrange { get; set; }

    public PagingList(IQueryable<T> data, int page, int pagesize)
    {
        PageIndex = page;
        PageSize = pagesize;
        TotalCount = data.Count();
        TotalPages = (int)Math.Ceiling(TotalCount /(double)PageSize);

        this.AddRange(data.Skip(PageIndex * PageSize).Take(PageSize));

    }
    //public void GeneratePageRange()
    //{
    //    for (int i = 1; i <= TotalPages; i++)
    //    {
    //        pagingrange = i
    //    }
    //}
    public bool HasPreviousPage
    {
        get { return (PageIndex > 0); }
    }

    public bool HasNextPage
    {
        get { return (PageIndex + 1 < TotalPages); }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T04:52:46.043

对于搜索：

```
public static class DataYouWant
{
    /// <summary>
    /// Function which returns the Griddata for json result of jqGrid
    /// </summary>
    public static GridData Getdata<T>(ObjectSet<T> baseList,int currentPage,int rowsPerPage,
    string sortcolumn,
    string sortord,
    string searchQuery,
    string searchColumns)where T: class
    {
        var query = baseList.OrderBy("it." + sortcolumn + " " + sortord);
        string strPredicate = string.Empty;
        dynamic searchvalue = searchQuery;
        if (!string.IsNullOrEmpty(searchColumns))
        {

            var coltype = baseList.EntitySet.ElementType.Members[searchColumns].TypeUsage.EdmType;
            if (CheckIntType(coltype))
            {
                strPredicate = "it." + searchColumns + " = @" + searchColumns;
                searchvalue = Convert.ToInt32(searchQuery);
            }
            else
                strPredicate = "CONTAINS(it." + searchColumns + ",@" + searchColumns + ")";

            query = baseList.Where(strPredicate, new ObjectParameter(searchColumns, searchvalue)).OrderBy("it." + sortcolumn + " " + sortord);
        }

        var pageddata = new PagingList<T>(query, currentPage, rowsPerPage);
        return new GridData()
        {
            Page = pageddata.PageIndex + 1,
            Records = pageddata.TotalCount,
            Rows = pageddata,
            Total = pageddata.TotalPages,
            UserData = "ok"
        };
    }

    /// <summary>
    /// Checks the EdmType and 
    /// </summary>
    public static bool CheckIntType(EdmType objEdmType)
    {
        switch (objEdmType.Name)
        {
            case "Int32":
                return true;break;
            case "Int16":
                return true;break;
            case "Int64":
                return true; break;
            case "Decimal":
                return  true;break;
            default:
                return false;
                break;
        }
    }
} 
```

# c++ - 大型工厂类如何模块化？

> ID：13263217
> 
> 赞同：2
> 
> 时间：2012-11-07T04:40:37.123
> 
> 标签：c++

我解析/处理来自许多不同流（具有不同格式）的数据，并且不同数据源的数量在我的系统中不断增长。我有一个工厂类，它基于指定源的配置文件将为我提供适当的解析器/处理器对（遵守小型通用接口），如下所示：

```
static Foo* FooFactory::createFoo(source c, /*couple flags*/)
{
    switch (c)
    {
        case SOURCE_A:
        {
         //3 or 4 lines to put together a parser for A, and something to process stuff    from the parser
             return new FooA(/*args*/);
        }
        break;
        //too many more cases which has started to worry me
        default:
            return NULL;
    };
} 
```

问题是随着来源数量的增加，我面临两个问题。首先，当我构建时，我发现自己在提取所有`FooA, FooB, FooC, FooD, FooE...`相关代码——即使我可能只对构建一个我只会请求的二进制文件感兴趣`FooA`。那么如何进行模块化。第二个问题是，现在，在 的情况下`SOURCE_A`，我正在返回`FooA`，但是如果我对它感兴趣，`SOURCE_A`但我有不同的解析方式，也许我想要`FooA_simple`并且`FooA_careful`还具有即插即用的能力，该怎么办？

出于某种原因，我想到的一件事是`-u`在构建二进制文件时链接器的选项......它以某种方式向我暗示了即插即用的概念，但我不确定解决这个问题的好方法是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:31:19.693

好吧，您只需创建一个工厂接口并在该工厂的子类型之间划分逻辑。所以可能有一个用于 libFooA 的子工厂（类型/实例），而另一个用于 libFooB。然后，您可以根据要在特定场景/程序中支持的子工厂/库来简单地创建一个复合工厂。然后你甚至可以进一步细分工厂。您还可以为复合类型创建工厂枚举器并取消所有切换逻辑。然后你可能会对你的 libFooA 工厂实例说在更高级别启用谨慎模式或简单模式。因此，您的 FooFactory 实例和子类型图可能很容易发生变化，并且类结构可能像一棵树。库是一种接近它以最小化依赖关系的方法，但可能有更合乎逻辑的方法来划分专门的子工厂。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T04:53:30.647

我不确定您是否可以绕过导入 FooA,FooB... 因为在任何给定时刻，它们中的任何一个都可能被实例化。至于模块化，我建议创建在 switch 语句中调用的辅助函数。

# maven - Grails 尝试将 zip 文件加载为插件

> ID：13263218
> 
> 赞同：0
> 
> 时间：2012-11-07T04:40:58.870
> 
> 标签：maven, grails, zip, pom.xml, maven-dependency-plugin

我将 Grails 2.1.1 与 Maven 一起使用。在我的 pom.xml 中，我使用**maven-dependency-plugin**从本地 maven 存储库下载一些**common-java-script.zip文件并将其解压缩到 web-app 中。**

这工作正常，但随后 Grails 失败并显示消息：

```
|Packaging Grails application
Error |
Zip C:\Users\andreyk\.m2\repository\com\company\ui\common-java-script\1.3.0.0\common-java-script-1.3.0.0.zip is not a valid plugin 
```

我的理解是 Grails 将 common-java-script-1.3.0.0.zip 解释为它的插件并且无法加载它。如何告诉 Grails 忽略 common-java-script-1.3.0.0.zip？有没有更好的方法来处理这种情况？

pom.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.company</groupId>
    <artifactId>pre-authorization</artifactId>
    <packaging>grails-app</packaging>
    <version>0.1</version>
    <name>pre-authorization</name>
    <description>pre-authorization</description>

    <parent>
        <groupId>com</groupId>
        <artifactId>company</artifactId>
        <version>1.0</version>
    </parent>

    <properties>
        <grails.version>2.1.1</grails.version>
    </properties>

    <dependencies>

        <dependency>
            <groupId>com.company.ui</groupId>
            <artifactId>common-java-script</artifactId>
            <version>1.3.0.0</version>
            <type>zip</type>
        </dependency>

        <dependency>
            <groupId>org.grails</groupId>
            <artifactId>grails-dependencies</artifactId>
            <version>${grails.version}</version>
            <type>pom</type>
        </dependency>

        <dependency>
            <groupId>org.grails</groupId>
            <artifactId>grails-plugin-testing</artifactId>
            <version>${grails.version}</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>org.grails.plugins</groupId>
            <artifactId>tomcat</artifactId>
            <version>${grails.version}</version>
            <scope>provided</scope>
            <type>zip</type>
        </dependency>

        <dependency>
            <groupId>org.grails.plugins</groupId>
            <artifactId>cache</artifactId>
            <version>1.0.0</version>
            <scope>compile</scope>
            <type>zip</type>
        </dependency>

        <dependency>
            <groupId>org.grails.plugins</groupId>
            <artifactId>hibernate</artifactId>
            <version>2.1.1</version>
            <scope>runtime</scope>
            <type>zip</type>
        </dependency>

        <dependency>
            <groupId>org.grails.plugins</groupId>
            <artifactId>resources</artifactId>
            <version>1.1.6</version>
            <scope>runtime</scope>
            <type>zip</type>
        </dependency>

        <dependency>
            <groupId>org.grails.plugins</groupId>
            <artifactId>jquery</artifactId>
            <version>1.8.0</version>
            <scope>runtime</scope>
            <type>zip</type>
        </dependency>

        <dependency>
            <groupId>org.grails.plugins</groupId>
            <artifactId>database-migration</artifactId>
            <version>1.1</version>
            <scope>runtime</scope>
            <type>zip</type>
        </dependency>

        <dependency>
            <groupId>org.grails.plugins</groupId>
            <artifactId>webxml</artifactId>
            <version>1.4.1</version>
            <scope>provided</scope>
            <type>zip</type>
        </dependency>

    </dependencies>

    <build>
        <pluginManagement />

        <plugins>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <version>2.5</version>
                <executions>
                    <execution>
                        <id>unpack-owner</id>
                        <phase>process-resources</phase>
                        <goals>
                            <goal>unpack</goal>
                        </goals>
                        <configuration>
                            <artifactItems>
                                <artifactItem>
                                    <groupId>com.company.ui</groupId>
                                    <artifactId>common-java-script</artifactId>
                                    <version>1.3.0.0</version>
                                    <excludes>common/bootstrap.js</excludes>
                                    <type>zip</type>
                                </artifactItem>
                            </artifactItems>
                            <outputDirectory>web-app</outputDirectory>
                            <overWriteReleases>false</overWriteReleases>
                            <overWriteSnapshots>true</overWriteSnapshots>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <!-- Disables the Maven surefire plugin for Grails applications, as we have our own test runner -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <configuration>
                    <skip>true</skip>
                </configuration>
                <executions>
                    <execution>
                        <id>surefire-it</id>
                        <phase>integration-test</phase>
                        <goals>
                            <goal>test</goal>
                        </goals>
                        <configuration>
                            <skip>false</skip>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-clean-plugin</artifactId>
                <version>2.4.1</version>
                <configuration>
                    <filesets>
                        <fileset>
                            <directory>plugins</directory>
                            <includes>
                                <include>**/*</include>
                            </includes>
                            <followSymlinks>false</followSymlinks>
                        </fileset>
                    </filesets>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.grails</groupId>
                <artifactId>grails-maven-plugin</artifactId>
                <version>${grails.version}</version>
                <configuration>
                    <!-- Whether for Fork a JVM to run Grails commands -->
                    <fork>true</fork>
                </configuration>
                <extensions>true</extensions>
            </plugin>
        </plugins>
    </build>

    <repositories>
        <repository>
            <id>grails</id>
            <name>grails</name>
            <url>http://repo.grails.org/grails/core</url>
        </repository>
        <repository>
            <id>grails-plugins</id>
            <name>grails-plugins</name>
            <url>http://repo.grails.org/grails/plugins</url>
        </repository>
    </repositories>

    <profiles>
        <profile>
            <id>tools</id>
            <activation>
                <property>
                    <name>java.vendor</name>
                    <value>Sun Microsystems Inc.</value>
                </property>
            </activation>
            <dependencies>
                <dependency>
                    <groupId>com.sun</groupId>
                    <artifactId>tools</artifactId>
                    <version>${java.version}</version>
                    <scope>system</scope>
                    <systemPath>${java.home}/../lib/tools.jar</systemPath>
                </dependency>
            </dependencies>
        </profile>
    </profiles>
</project> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T20:53:54.617

由于一些愚蠢的原因，比如一天结束、缺少糖等，我的 pom.xml 中有一个条目显然导致了一个问题：

```
<dependency>
    <groupId>com.company.ui</groupId>
    <artifactId>common-java-script</artifactId>
    <version>1.3.0.0</version>
    <type>zip</type>
</dependency> 
```

我删除后一切正常。

# data-structures - 是否有任何概率数据结构给出假阴性但不给出假阳性？

> ID：13263220
> 
> 赞同：7
> 
> 时间：2012-11-07T04:41:16.540
> 
> 标签：data-structures, hash, probability, bloom-filter

我需要一个节省空间的概率数据结构来存储我已经计算过的值。对我来说，计算很便宜，但空间却不是——所以如果这个数据结构返回一个假阴性，我可以每隔一段时间重做一些工作，但假阳性是不可接受的。所以我正在寻找的是与[Bloom 过滤器](http://en.wikipedia.org/wiki/Bloom_filter)相反的东西。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T09:01:06.477

对于误报，您可以使用有损哈希表或 LRUCache。它是一种具有快速 O(1) 查找的数据结构，只会给出假阴性。如果你问“我有没有运行过测试 X”，它会告诉你“是的，你肯定有”，或者“我不记得了”。

伪代码：

```
setup_test_table():
    create test_table( some large number of entries )
    clear each entry( test_table, NEVER )
    return test_table

has_test_been_run_before( new_test_details, test_table ):
    index = hash( test_details , test_table.length )
    old_details = test_table[index].detail
    // unconditionally overwrite old details with new details, LRU fashion.
    // perhaps some other collision resolution technique might be better.
    test_table[index].details = new_test_details
    if ( old_details === test_details ) return YES
    else if ( old_details === NEVER ) return NEVER
    else return PERHAPS    

main()
    test_table = setup_test_table();
    loop
        test_details = generate_random_test()
        status = has_test_been_run_before( test_details, test_table )
        case status of
           YES: do nothing;
           NEVER: run test (test_details);
           PERHAPS: if( rand()&1 ) run test (test_details);
    next loop
end. 
```

类似的布隆过滤器误报

# iphone - 如何使用索引或标签值比较 2 个按钮标题

> ID：13263222
> 
> 赞同：1
> 
> 时间：2012-11-07T04:41:28.310
> 
> 标签：iphone, ios, uibutton

在这里我的应用程序有一组按钮 12 按钮，按钮标题默认隐藏。按钮标题在单击时显示，

```
-(IBAction)buttonAction:(id)sender
{
    UIButton *button = (UIButton *)sender;
    int index = button.tag;
    [self showing:index]; //now, this method accepts a parameter.
}

-(void)showing:(NSInteger)index
{
UIButton* btn = nil;
index = index - 1;
NSArray* subViewArray = [self.view subviews];

NSInteger i = 0;

for (UIView *view in subViewArray)
{
    if ([view isKindOfClass:[UIButton class]])
    {
        btn = (UIButton*) view;
        if(btn.tag >= 1 && btn.tag <= 16)
        {
            NSString* text;
            UIButton *prevButton = (UIButton*) [self.view viewWithTag:previousButtonTag];
            if (i == index) {

                if ([btn.titleLabel.text isEqualToString:prevButton.titleLabel.text])
                {

                }
                else
                {
                    text=@"";
                }
            text = [texts objectAtIndex:i]; //put the array that you are using
        }
        else {
            text = @"";
        }

        i++;

        [btn setTitle:text forState:UIControlStateNormal];
        }
    }// end of IF
} //end of FOR

} 
```

1.我想比较两个按钮标题值来检查它是否相等。我面临这个问题，

2.仅按按钮标题可见，当我单击其他按钮时，上一个标题被隐藏，我想在单击时启用两个按钮标题，但错误应该隐藏。请建议我如何解决此问题，请执行必要的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:24:36.190

使用此代码进行一些更改，我只是尝试了解您的要求并为上一个按钮和当前按钮标题的显示标题添加逻辑..

```
 -(void) showing:(NSInteger)index
    {
        UIButton* btn = nil;
        index = index - 1; 
        NSArray* subViewArray = [self.view subviews];
        NSInteger i = 0;

        UIButton *btnCurTemp = (UIButton *)[self.view viewWithTag:index];

        for (UIView *view in subViewArray) 
        {
            if ([view isKindOfClass:[UIButton class]]) 
            {
                btn = (UIButton*) view;
                NSString* text;
                if (i == index) {
                    text = [self.textArray objectAtIndex:i]; //put the array that you are using
                    [btnCurTemp setTitle:text forState:UIControlStateNormal];
                    UIButton *btnPrevTemp = (UIButton *)[self.view viewWithTag:self.prevButtonTag];

                  if ([btnCurTemp.titleLabel.text isEqualToString:btnPrevTemp.titleLabel.text]) {
                     /// visible your both button title..
                 }
                 else {
                     //// hide button title..
                 }
                    self.previousButtonTag = i; //make a class variable

                }else {
                    text = @"";
                }
                i++;

            }
        } 
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T04:48:21.227

改变你的`showing`喜欢：

```
-(void) showing:(NSInteger)index
{
  UIButton *btn = (UIButton*) [self.view viewWithTag:index];
  NSString *text = [self.textArray objectAtIndex:index]; //put the array that you are using
  [btn setTitle:text forState:UIControlStateNormal];
  if (self.previousButtonTag != -1)
  {
     UIButton *prevButton = (UIButton*) [self.view viewWithTag:previousButtonTag];
     if ([btn.titleLabel.text isEqualToString:prevButton.titleLabel.text])
     {
     }
     else
     {
       //hide the prevButton
       [prevButton setTitle:@"" forState:UIControlStateNormal];
     }
   }
  self.previousButtonTag = index; //make a class variable
} 
```

`IButton *btn = (UIButton*) [self.view viewWithTag:index];`会给你当前点击的按钮。`UIButton *prevButton = (UIButton*) [self.view viewWithTag:previousButtonTag];`给你之前点击的按钮。根据您的需要，您可以检查 if 条件中的标题，如果它们相等，则在那里执行您的操作，如果不相等则隐藏上一个按钮标题。

您需要在您的`viewDidLoad`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:26:12.487

为什么不简单地使用按钮标签作为索引比较数组字符串值 -

```
NSString * firstString = [self.textArray objectAtIndex:btn.tag];
NSString * secondString = [self.textArray objectAtIndex:prevButton.tag];
if([firstString isEquleToString:secondString]){

}else{

} 
```

# xpath - 比较 xpath 1.0 中的日期

> ID：13263225
> 
> 赞同：0
> 
> 时间：2012-11-07T04:42:00.943
> 
> 标签：xpath

如何比较 xpath 1.0 中的日期，其格式类似于 2012 年 10 月 26 日。我想

仅选择日期 > '26 oct 2012' 的那些节点。节点中的日期格式为 11 月 2 日

2012 年，2012 年 10 月。

在 xpath 1.0 中是否可能。请给我任何解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:20:32.457

在 .NET 上，您可以编写自己的扩展 XPath 函数来知道如何处理这些问题。在 XPath 1.0 中比较日期的最简单方法是将它们转换为 YYYMMDD 格式并作为数字（或字符串）进行比较。同样，我没有任何关于您如何使用 XPath 的上下文，但如果这是在 Xslt 中，那将是可行的。

# asp.net-mvc-3 - 将列表从视图传递到控制器

> ID：13263226
> 
> 赞同：1
> 
> 时间：2012-11-07T04:42:07.710
> 
> 标签：asp.net-mvc-3, jquery

我试图将列表从视图传递到控制器，但我得到空值。代码编写如下：

模型类：

```
public class testModel
{
    public int ID { get; set; }

    public string Name { get; set; }

    public List<myModel> ParameterList {get;set;}
} 
```

将数据发布到控制器的 jquery 和 ajax 代码：

```
var myModel = {
                  "Name":"test",      
                  "Description":"desc"      
                };

        var Object = {
            Name: $("#Name").val(),
            ParameterList : myModel
        };

        $.ajax({
            url: '/controller/action',
            type: 'POST',
            data: JSON.stringify(Object),
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            success: function (data) {   }
                else { }
            }
        }); 
```

我正在获取 Name 属性的值，但不是 ParameterList。这里有什么问题？我错过了什么吗？

请帮帮我。

谢谢

编辑：评论中的控制器代码，

```
 public JsonResult Save(Object Obj) 
 {
 // logic for managing model and db save
 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:10:53.960

你说，

> 我得到了 Name 属性的值，但没有得到 ParameterList 的值。

这让我想知道 ParameterList 的结构是什么`myModel`，因为您已将 ParameterList 声明为 myModel 类型的列表：`List<myModel> ParameterList`

另外，我建议您登录`JSON.stringify(Object)`到控制台并检查您实际发布到控制器的 Json 值。

这是我发现你必须发回的内容

```
{"Name":"yasser","ParameterList":{"Name":"test","Description":"desc"}} 
```

另请阅读这些文章：

[如何将复杂的 json 对象视图传递给 ASP.net MVC 中的控制器](http://forums.asp.net/t/1694922.aspx/1)

[将 JSON 对象从 Javascript 代码传递到 MVC 控制器](http://krishnarajb.wordpress.com/2009/05/28/pass-json-object-from-javascript-code-to-mvc-controller/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:31:22.710

尝试这个：

```
var myModel = [{
              "Name":"test",      
              "Description":"desc"      
            }];

    var Object = {
        Name: $("#Name").val(),
        ParameterList : myModel
    };

    $.ajax({
        url: '/controller/action',
        type: 'POST',
        data: Object,
        dataType: 'json',
        traditional: true,
        contentType: 'application/json; charset=utf-8',
        success: function (data) {   }
            else { }
        }
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-21T17:29:30.130

像这样尝试..希望这会有所帮助！

脚本：

```
var emp = [{ 'empid': 1, 'name': 'sasi' },{ 'empid': 2, 'name': 'sathish'}];
emp = JSON.stringify(emp)
$.post("/Home/getemplist/", { 'emp': emp }) 
```

控制器：

这里我只是将参数更改为字符串类型。使用 JavaScriptSerializer 您可以将此字符串数据转换为您的类列表对象。如果您在下面看到我的代码，您可以更好地理解它：

```
public void getemplist(string emp) 
{
    List<Emp> personData;
    JavaScriptSerializer jss = new JavaScriptSerializer();
    personData = jss.Deserialize<List<Emp>>(emp);
    // DO YOUR OPERATION ON LIST OBJECT

} 
```

# iphone - 新的 Facebook IOS SDK？我们可以用旧的sdk和新的sdk吗？

> ID：13263227
> 
> 赞同：1
> 
> 时间：2012-11-07T04:42:10.537
> 
> 标签：iphone, objective-c, ios, facebook, sdk

我目前正在将新的 Facebook iOS sdk 3.1.1 添加到我的 iPhone 应用程序中。我看到sdk有很大的变化。例如，我的旧 sdk 创建一个 Facebook 对象并从 FBRequest 对象调用 requestGraphPath:AndDelegate。现在新的 sdk 没有头文件“Facebook.h”和“FBRequest”没有 requestGraphPath:AndDelegate 但它具有与处理程序相同的方法名称......并且还具有额外的功能。

这是否意味着我必须重新编码我的应用程序的所有 Facebook 内容以适应新的 Facebook SDK

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:17:26.963

是的，您需要更改代码。最新的 facebook SDK 具有 iOS 6 集成和许多其他功能。在这里阅读：[https ://developers.facebook.com/docs/howtos/ios-6/](https://developers.facebook.com/docs/howtos/ios-6/)

基本上在最新的 SDK 中，一切都通过 FBSession 进行管理。

这个 SDK 是向后兼容的意思，即使用户没有升级到 iOS 6，这在 iOS 5 中也可以工作。

# objective-c - Objective-C 实例变量？

> ID：13263229
> 
> 赞同：50
> 
> 时间：2012-11-07T04:42:33.530
> 
> 标签：objective-c

我确信我在这里的困惑只是因为陷入“Java 思维方式”而不理解 Obj-C 在这种情况下的不同之处。

在 Java 中，我可以像这样在类中声明一个变量，并且该类的每个*实例*都有自己的：

```
MyClass {

  String myVar;

  MyClass() {
    // constructor
  }
} 
```

在 Obj-C 中，我尝试通过仅在 .m 文件中声明一个变量来做同样的事情，如下所示：

```
#import "MyClass.h"

@implementation MyClass

NSString *testVar;

@end 
```

我的期望是这个变量的范围仅限于这个类。所以我创建了第二个类（相同）：

```
#import "MySecondClass.h"

@implementation MySecondClass

NSString *testVar;

@end 
```

我所看到的（让我感到困惑）是在一个类中更改变量会影响在另一个类中看到的值。事实上，如果我设置一个断点，然后“跳转到定义”的变量，它带我去

我创建了一个非常小的 Xcode 项目来演示[这里](https://dl.dropbox.com/u/481022/TestIvar.zip)的问题。

* * *

## 回答 #1

> 赞同：139
> 
> 时间：2012-11-07T04:57:39.863

改变这个：

```
@implementation MyClass

NSString *testVar;

@end 
```

到：

```
@implementation MyClass {
    NSString *testVar;
}

// methods go here

@end 
```

你会得到你所期望的。

正如你所拥有的，你实际上是在创建一个全局变量。这两个全局变量被链接器合并为一个，这就是为什么当你设置一个时它们都改变了。花括号中的变量将是一个适当的（和私有的）实例变量。

编辑：在无缘无故被否决之后，我想我会指出“旧”的做事方式和新的方式。

老办法：

一些类.h

```
@interface SomeClass : UIViewController <UITextFieldDelegate> {
    UITextField *_textField;
    BOOL _someBool;
}

@property (nonatomic, assign) BOOL someBool;

// a few method declarations

@end 
```

SomeClass.m

```
@implementation SomeClass

@synthesize someBool = _someBool;

// the method implementations

@end 
```

现在使用现代 Objective-C 编译器的新方法和改进方法：

一些类.h

```
@interface SomeClass : UIViewController

@property (nonatomic, assign) BOOL someBool;

// a few method declarations

@end 
```

SomeClass.m

```
@interface SomeClass () <UITextFieldDelegate>
@end

@implementation SomeClass {
    UITextField *_textField;
}

// the method implementations

@end 
```

新方式有几个优点。主要优点是关于类的具体实现细节都没有出现在 .h 文件中。客户端不需要知道实现需要什么委托。客户不需要知道我使用什么 ivars。现在，如果实现需要一个新的 ivar 或者它需要使用一个新的协议，那么 .h 文件不会改变。这意味着更少的代码被重新编译。它更清洁，更高效。它也使编辑更容易。当我正在编辑 .m 文件并意识到我需要一个新的 ivar 时，请在我已经在编辑的同一个 .m 文件中进行更改。无需来回交换。

另请注意，实现不再需要 ivar 或`@synthesize`属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-09T09:44:22.067

您可能想要的（除非您使用的是非常旧的操作系统和编译器）只是使用属性语法。IE：

```
@interface MyClass : NSObject

// method declarations here ...

@property (copy) NSString*    myVar;

// ... or here.

@end 
```

这将做你打算做的事情。这将隐式合成一个实例变量和该变量的 getter/setter 对。如果您想要手动创建实例变量（通常不需要，除非您需要您的代码在非常旧的 MacOS 版本上工作），这就是上面的代码在后台创建 ivar 的作用：

```
@interface MyClass : NSObject
{
    NSString*    _myVar;
}

// method declarations here.

@end 
```

请注意花括号，它告诉编译器这不仅仅是方法之间的全局变量，实际上是属于该对象的实例变量。

如果您创建该属性仅用于内部使用并且不希望您的类的客户端弄乱它，您可以通过使用“继续”类的*类扩展*将它隐藏在最古老的 ObjC 编译器之外的所有东西中来自标头的声明，但可以与它分开放置（通常在您的实现文件中）。类扩展看起来像一个没有名称的类别：

```
@interface MyClass ()

@property (copy) NSString*    myVar;

@end 
```

你可以把你的属性声明放在​​那里，或者甚至是 ivar 声明（同样用大括号括起来）。您甚至可以声明与类接口中相同的属性`readonly`，然后重新声明它相同，但`readwrite`与扩展中的一样，这样客户端只能读取它，但您的代码可以更改它。

Note that, if you didn't use ARC (that is, you've switched off the default of Automatic Reference Counting), you would have to set all your properties to `nil` in your `dealloc` method (unless they're set to `weak` or `assign` of course).

NB - All the above are `@interface` sections. Your actual code will go in separate `@implementation` sections. This is so you can have header files (`.h`) you can hand off to your class's clients that just contain the portions you intend them to use, and hide away implementation details in the implementation file (`.m`) where you can change them without having to worry someone might have accidentally used them and you'll break other code.

PS - 请注意，`NSStrings`您想要不可变风格但也存在于可变风格（即`NSMutableString`）中的其他对象应该始终是`copy`属性，因为这会将 NSMutableString 转换为 NSString ，这样外部的任何人都无法更改可变的你身下的绳子。对于所有其他对象类型，您通常使用`strong`（或者`retain`如果不是 ARC）。对于您的班级所有者（例如其代表），您通常使用`weak`（或者`assign`如果不是 ARC）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-07T09:11:57.800

在 Java 中

```
MyClass {

  String myVar;
  MyClass() {
    // constructor
  }
} 
```

在 Objective-c 中

```
MyClass.h

@interface MyClass : NSObject{

      NSString* str; // Declaration
}
@end

MyClass.m

@implementation MyClass

  -(void)initializieTheString
  {
     //Defination 
  }

@end 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-05-09T08:18:06.407

在objective-c中，您可以通过这样做将变量定义为私有

```
MyClass.h

@interface MyClass : NSObject{

      NSString* _myTestVar; // Declaration
}
@end 
```

并通过像这样 MyClass.m 在实现类中引用它

```
#import "MyClass.h";

@implementation MyClass

  -(void)initializieTheString
  {
     _myTestVar= @"foo"; //Initialization

  }

@end 
```

# java - 将工件复制到特定位置

> ID：13263230
> 
> 赞同：1
> 
> 时间：2012-11-07T04:42:33.843
> 
> 标签：java, maven, deployment

我在nexus repo上有一个工件。我可以使用插件下载工件`dependency:copy`，但我想将特定工件（有时可能是一些配置文件）部署到交付产品中的特定位置。

有没有办法使用 maven 来处理这个问题？

# asp.net - IIS 7.5 将 SSL 设置为忽略等于接受任何证书

> ID：13263235
> 
> 赞同：1
> 
> 时间：2012-11-07T04:43:08.580
> 
> 标签：asp.net, ssl, iis-7, https, requiressl

在 IIS7.5 中，对于我的 Web 应用程序，如果我将“需要 SSL”设置为选中并将客户端证书选择为“忽略”，是否等于接受任何 SSL 证书并使用任何证书验证来自客户端的请求？

# ios - Xcode 错误：_OBJC_CLASS_$_GrowingTextView"，引用自，而我正在编译

> ID：13263237
> 
> 赞同：1
> 
> 时间：2012-11-07T04:43:49.160
> 
> 标签：ios, xcode

我将 HpGrowingTextView 开源添加到我的程序中。
在编译应用程序时，出现此错误：

> 编译错误：_OBJC_CLASS_$_HPGrowingTextView”，引用自：

如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T04:46:31.950

检查文件是否已添加到项目的目标。如果您为此使用“.a 文件”，请检查是否已将其添加到 xcode。

转到目标 -> 构建阶段 -> 编译源并检查是否在此处添加了 HPGrowingTextView .m 文件。如果不是首先确保它存在于 Xcode 项目中，然后拖放到这里。

# regex - postgresql 正则表达式仅替换第一个匹配项

> ID：13263240
> 
> 赞同：2
> 
> 时间：2012-11-07T04:44:19.653
> 
> 标签：regex, postgresql

努力了解如何使 postgresql 中的 regexp_match 字符串函数按照我想要的方式运行。我有一个字符串，我想用一个空格替换多个空格的任何实例。所以例如

```
'mitt     romney' 
```

变成

```
'mitt romney' 
```

我相信以下代码应该可以工作：

```
SELECT regexp_replace('This      is a    test', '[ ]+', ' '); 
```

预期的结果是

```
'This is a test'` 
```

但相反我回来了

```
'This is a     test'`. 
```

好像替换只是替换第一个匹配项。有谁知道如何解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T04:48:40.353

我不认为这很奇怪，在我看来它已记录在案： [http ://www.postgresql.org/docs/9.1/static/functions-matching.html#FUNCTIONS-POSIX-REGEXP](http://www.postgresql.org/docs/9.1/static/functions-matching.html#FUNCTIONS-POSIX-REGEXP)

> flags 参数是一个可选的文本字符串，包含零个或多个更改函数行为的单字母标志。标志 i 指定不区分大小写的匹配，而*标志 g 指定替换每个匹配的子字符串，而不仅仅是第一个*。

强调，我自己的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-07T04:51:26.827

regexp_replace 函数中有第四个可选参数，当指定时，它会产生所需的行为。

如果我做

```
regexp_replace('This      is    a        test`, '[ ]+', ' ', 'g') 
```

我得到了想要的结果。

# jquery - 通过ajax加载div后按钮停止工作

> ID：13263245
> 
> 赞同：2
> 
> 时间：2012-11-07T04:44:43.693
> 
> 标签：jquery, ajax

我在页面上有两个 div：主 div 和辅助，它使用 ajax 加载一个单独的 html 页面。由单击事件触发的主 div 内的所有链接继续正常工作并引用适当的内容，但此 div 之外的 jquery 都不起作用（例如导航）。

这是我的 jQuery：

```
 var url;
    $('.main a').live('click',function() {
        url = $(this).attr('href');
        $('.secondary').load(url);
    return false;
    }); 
```

谁能帮我为什么这不起作用？我想我应该触发一个回调事件，但我不知道该怎么做。我知道这个问题已经被问过多次（通常建议使用 .live() 或 .on()），但这些解决方案似乎都不适合我。

编辑：这是一个简短的小提琴： http: [//jsfiddle.net/snDzF/](http://jsfiddle.net/snDzF/) 所以登录应该是一个切换瓶，链接 1、2 和 3 在第二个右侧 div 中加载 html。登录切换按钮一直有效，直到我单击其中一个链接以加载另一页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-06T00:21:32.247

尝试这个

```
var url;
$('.main a').click(function(){
    url = $(this).attr('href');
    $('.secondary').load(url);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-06T02:21:33.003

需要删除加载第二帧上的任何 javascript 文件。只能加载纯 HTML。

# node.js - 缩放 NodeJS 聊天室 - 在 Redis 中存储连接状态

> ID：13263246
> 
> 赞同：2
> 
> 时间：2012-11-07T04:44:49.160
> 
> 标签：node.js, redis, socket.io

聊天室应用程序运行在多台服务器上，包含两个服务：
1\. 连接管理器
在加入聊天室之前，客户端首先向连接管理器请求聊天服务 url
2\. 聊天服务
一个典型的基于 socket.io 的聊天实现。

我需要将每个客户端的连接状态存储在 Redis 中，例如用户连接到哪个房间，一个房间有多少用户等。因此连接管理器可以使用这些数据进行负载平衡。

我可以使用socket连接/断开事件来维护Redis当前的连接状态，但是在NodeJS服务器出现故障的情况下，如何确保Node和Redis的数据是同步的呢？最好的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T11:49:35.677

> 我可以使用socket连接/断开事件来维护Redis当前的连接状态，但是在NodeJS服务器出现故障的情况下，如何确保Node和Redis的数据是同步的呢？

例如，您可以在 redis 中创建一个集合，其中包含对由特定服务器节点管理的键的引用。如果节点出现故障或重新启动，您可以使这些密钥无效。

# c# - C# PDF 在文档中的锐利位置

> ID：13263252
> 
> 赞同：10
> 
> 时间：2012-11-07T04:45:47.690
> 
> 标签：c#, pdf, pdfsharp

您好我正在使用 PDF sharp 将用户输入打印到模板文档中的位置。

数据（字段）是从用户（网页）收集的，并使用拉绳方法写入文档的适当位置。

目前，我正在通过反复试验找到每个页面中每个模板化字段的像素位置。如果有一种方法可以确定 pdf 页面中每个字段的像素位置，那会容易得多。

任何建议都是最有帮助的。

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2014-09-03T19:24:22.317

我和你有同样的问题，josephj1989，我找到了我认为是我们的答案。

根据PDFSharp 文档中的[这个页面，](http://www.pdfsharp.net/wiki/Graphics.ashx)

> PDFsharp 的当前实现只有一种图形上下文布局。原点 (0, 0) 在左上角，坐标向右和向下增长。测量单位始终为磅（1/72 英寸）。

因此，假设我想在 8.5 x 11 页面的左侧和顶部 7.5 英寸处绘制一个图像，那么我会这样做：

```
PdfDocument document = GetBlankPdfDocument();
PdfPage myPage = document.AddPage();
myPage.Orientation = PdfSharp.PageOrientation.Portrait;
myPage.Width = XUnit.FromInch(8.5);
myPage.Height = XUnit.FromInch(11);
XImage myImage = GetSampleImage();

double myX = 3 * 72;
double myY = 7.5 * 72;
double someWidth = 126;
double someHeight = 36;

XGraphics gfx = XGraphics.FromPdfPage(myPage);
gfx.DrawImage(myBarcode, myX, myY, someWidth, someHeight); 
```

我自己用条形码图像对此进行了测试，我发现当你使用他们的公式来测量定位时，你可以获得 1/72 英寸的精度。这还不错。

因此，在这一点上，最好为此类测量创建某种封装，以便我们主要关注手头的任务而不是转换的细节。

```
public static double GetCoordinateFromInch(double inches)
{
  return inches * 72;
} 
```

我们可以继续以这种方式制作其他助手......

```
public static double GetCoordinateFromCentimeter(double centimeters)
{
  return centimeters * 0.39370 * 72;
} 
```

有了这样的辅助方法，我们可以用前面的示例代码做到这一点：

```
double myX = GetCoordinateFromInch(3);
double myY = GetCoordinateFromInch(7.5);
double someWidth = 126;
double someHeight = 36;

XGraphics gfx = XGraphics.FromPdfPage(myPage);
gfx.DrawImage(myBarcode, myX, myY, someWidth, someHeight); 
```

我希望这是有帮助的。我相信你会写出比我的例子更简洁的代码。此外，可能有更聪明的方法来简化这个过程，但我只是想在这里放一些东西，以便立即使用我们在文档中看到的内容。

快乐的 PDF 渲染！

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-07T08:57:29.737

当我使用 PDF Sharp 时，我的方法是使用 XUnit 结构并引用文档的左上角作为 X/Y 位置的起点。

显然，为 PdfPage 上的每个元素引用文档的左上角 (0,0) 会变得混乱。为了解决这个问题，我使用 XRect 类为元素创建矩形。一旦将 XRect 绘制到页面上，您就可以通过 XRect 的属性引用矩形的 X/Y 位置。然后使用这些坐标和 XRect 的宽度/高度进行一些基本数学运算，您应该能够计算要添加到 PdfPage 的下一个元素的位置的坐标。

按照这个代码示例，我提供了最终结果的粗略草图。该代码未经测试，但目前非常基于生产中的代码。

```
// Create a new PDF document
PdfDocument document = new PdfDocument();

// Create an empty page with the default size/orientation
PdfPage page = document.AddPage();
page.Orientation = PageOrientation.Landscape;
page.Width = XUnit.FromMillimeter(300);
page.Height = XUnit.FromMillimeter(200);

// Get an XGraphics object for drawing
XGraphics gfx = XGraphics.FromPdfPage(page);

// Add the first rectangle
XUnit horizontalOffset = XUnit.FromMillimeter(5);
XUnit verticalOffset = XUnit.FromMillimeter(5);
XUnit columnWidth = XUnit.FromMillimeter(100);
XUnit columnHeight = page.Height - (2 * verticalOffset);
XRect columnRect = new XRect(horizontalOffset, verticalOffset, columnWidth, columnHeight);
gfx.DrawRectangle(XBrushes.Teal, columnRect);

// Insert an image inside the rectangle, referencing the Left and Top properties of the rectangle for image placement
XImage topLogo = XImage.FromFile(GetFilePath(@"content\img\pdfs\standard\logo-no-strapline.jpg")); // GetFilePath is a private method, not shown for brevity
gfx.DrawImage(topLogo,
    columnRect.Left + XUnit.FromMillimeter(5),
    columnRect.Top + XUnit.FromMillimeter(5),
    columnRect.Width - XUnit.FromMillimeter(10),
    XUnit.FromMillimeter(38)); 
```

和输出： ![渲染输出的模拟](../Images/1ad54bf49d710fc2a3807122ed2d86ed.png)

最后，我相信您知道，但这里有一个很好的 PdfSharp 示例[资源](http://www.pdfsharp.com/PDFsharp/index.php?option=com_content&task=view&id=24&Itemid=35)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T09:14:38.890

PDF 文件没有像素，也没有像素位置。
您可以打印 PDF 页面（使用“实际大小”大小选项）并用尺子测量位置（这对我们的打印机非常有效）。
或者您可以使用 Adob​​e Acrobat 来测量 PDF 页面上项目的位置。

仍然存在一些试验和错误，因为您可能不得不给予或采取半毫米。
根据您的标尺，您可以使用 XUnit.FromMillimeter 或 XUnit.FromInch 来获取 PDFsharp 的点位置（但点不是像素）。

当前的 PDFsharp 示例在这里：
[http ://www.pdfsharp.net/wiki/PDFsharpSamples.ashx](http://www.pdfsharp.net/wiki/PDFsharpSamples.ashx)

# asp.net - 将 sqldatasource 与 gridview 一起使用与在页面的 init 中设置 datasource 和 databind() 的工作方式相同吗？

> ID：13263258
> 
> 赞同：0
> 
> 时间：2012-11-07T04:46:30.827
> 
> 标签：asp.net, data-binding, webforms, sqldatasource

我从未在我的 aspx 页面中使用过任何数据源对象。我在后面的页面代码中为 gridview 和 databind() 设置了数据源。我正在查看一些在 gridview 中使用 sqldatasource 和 datasourceid 的示例。

我的问题是当 sqldatasource 用作 gridview 的数据源时，数据绑定是否发生在页面的初始化生命周期中？不使用sqldatasource时是否与在init事件中设置datasource和databind一样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T04:55:32.657

1-是的，`Prerender`如果`EnsureDataBound()`触发了调用gridview方法的`Databind()`方法

2-是的

你可以查看这些帖子：

*   [http://blog.tylerholmes.com/2008/06/datasource-vs-datasourceid-internals.html](http://blog.tylerholmes.com/2008/06/datasource-vs-datasourceid-internals.html)

*   [ASP.NET - DataSourceID 和 DataSource 有什么区别？](https://stackoverflow.com/questions/7088017/asp-net-what-is-the-difference-of-datasourceid-and-datasource)

# javascript - 使用内部有 GIF 的 CSS 移动 div。GIF 在移动时暂停

> ID：13263260
> 
> 赞同：0
> 
> 时间：2012-11-07T04:46:44.820
> 
> 标签：javascript, jquery, html, css, gif

[http://dev.epicwebdesign.ca/dontsue/](http://dev.epicwebdesign.ca/dontsue/)

我正在用 jQuery 制作一个真人快打克隆。我现在有一些基本的东西，比如移动、跳跃和用 a 和 s 拳打脚踢。它们都将像普通游戏一样通过计时器，硬接线只是暂时的。

我将字符放在“hitbox”div中。字符由图像表示。此图像是用于行走和站立的动画 gif，以及用于踢腿和拳击的图像。

出于某种原因，当角色通过 .css('left' +/- =15px) 行走时，gif 会暂停。它播放一次，然后停止。它与行走本身无关，只是 div 正在移动。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T14:35:15.607

Canvas 为您提供了一个 2d 绘画区域来绘制东西。以下是基于创建游戏的介绍：

[http://www.html5rocks.com/en/tutorials/canvas/notearsgame/](http://www.html5rocks.com/en/tutorials/canvas/notearsgame/)

还有很多基于 Canvas 的第三方游戏库，比如 ImpactJS：

[http://impactjs.com/](http://impactjs.com/)

# bash - 从 bash 调用时屏幕转义不同

> ID：13263264
> 
> 赞同：4
> 
> 时间：2012-11-07T04:47:00.123
> 
> 标签：bash, shell, prolog, swi-prolog, gnu-screen

我有一个名为 ROBUST 的长期运行的服务器进程，它有一个控制台。我们在屏幕上运行它并附加以手动操作服务器（它是一个虚拟世界服务器）。

我有一个偶尔需要添加用户的网络应用程序（在序言中）。ROBUST 有几个编程接口，由于各种原因，它们都很尴尬。所以我试图只是脱壳，用-X附加一个屏幕，然后做打字的等价物

创建用户 SomeUser SomeName SomePass someone@somewhere.com 换行

在控制台上。这条线

`screen -S ROBUST -p 0 -X eval 'stuff "create user SomeUser SomeName SomePass somebody@somewhere.com ^M"`'

作品

但是当我把它放在这个 bash 脚本中时

```
#!/bin/bash
screen -S ROBUST -p 0 -X eval 'stuff "create user $1 $2 $3 $4 ^M"' 
```

它没有。用另一个终端连接到 ROBUST 控制台并观看，它认为该行在创建用户处结束

我已经尝试了所有我能想到的方案来转义各种单引号和双引号，但在这一点上我很难过。

后来评论：

通过找出 prolog process_create 语法，我解决了对 bash 脚本的需求

```
?- process_create(path(screen), ['-S', 'ROBUST', '-p', '0', '-X', eval, 'stuff "create user Manny Muncher somepass somebody@uh.edu^M"'], []). 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T18:53:00.593

```
screen -S ROBUST -p 0 -X eval 'stuff "create user $1 $2 $3 $4 ^M"' 
```

字符串不在 ' ' 内展开。bash 必须使用 " " 来扩展 $1 等。

# jquery - 当将对象从一个 div 拖动到另一个时，格式会发生变化

> ID：13263266
> 
> 赞同：0
> 
> 时间：2012-11-07T04:47:39.853
> 
> 标签：jquery, html, drag-and-drop, draggable, droppable

当一个对象从一个 div 拖放到另一个 div 时，li 中的格式只会更改为文本。我希望它具有相同的格式和样式，即删除后的“li”。

```
 $(function() {

     $( "#catalog ul" ).sortable({
         zIndex: 10000,
            revert: true
        });
     $( "#catalog" ).accordion();
     $( "#catalog ul" ).draggable({
            appendTo: "body",
            helper: "clone",
            zIndex: 10000
        });

      $( "#dialogIteration ol" ).droppable({

            activeClass: "ui-state-default",
            hoverClass: "ui-state-hover",

            drop: function( event, ui ) {
                $( this ).find( ".placeholder" ).remove();
                $( "<li></li>" ).text( ui.draggable.text() ).appendTo( this );
            }
        }).sortable({
            items: "li:not(.placeholder)",
            sort: function() {

                // gets added unintentionally by droppable interacting with sortable
                // using connectWithSortable fixes this, but doesn't allow you to customize active/hoverClass options
                $( this ).removeClass( "ui-state-default" );
            }
        });

        $( "ul, li" ).disableSelection();
        $("#dialogIteration").dialog();
    }); 
```

演示：http: [//jsfiddle.net/coolanuj/7683X/7/](http://jsfiddle.net/coolanuj/7683X/7/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:14:58.953

我假设您希望第二个 div 中删除的元素保留其格式？如果是这样，看看你的 jsfiddle，我可以看到两个潜在的问题。

1）在您的可放置定义中，您创建了一个新的*li*元素，但您不会复制内联样式（因此您会丢失颜色定义等）

2）在你的CSS中，你只将样式应用于第一个div中的*ul*，而不是第二个div中的*ol*

# python - 在 Windows 上编译 pysqlite 时遇到问题

> ID：13263275
> 
> 赞同：2
> 
> 时间：2012-11-07T04:48:30.747
> 
> 标签：python, windows, sqlite

再会。

我在 Windows 上编译 pysqlite 时遇到问题。我已经设法开始编译，但现在我遇到了这个错误：

> d:/mingw/bin/../lib/gcc/mingw32/4.7.2/../../../../mingw32/bin/ld.exe：找不到-lsqlite3

我已经搜索了可能的解决方案，但大多数解决方案都是针对 linux 的。

请帮忙。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T09:46:14.903

从源代码编译时`pysqlite2`，您需要编辑`setup.cfg`默认情况下应如下所示的文件：

```
[build_ext]
#define=
#include_dirs=/usr/local/include
#library_dirs=/usr/local/lib
libraries=sqlite3
define=SQLITE_OMIT_LOAD_EXTENSION 
```

您需要取消注释`include_dirs`并`library_dirs`（删除`#`）确保`include_dirs`指向带有 sqlite3 标头的目录以及`library_dirs`可以`sqlite3.dll`找到的位置。

现在您应该能够编译和安装 pysqlite2。在那之后，你应该把`sqlite3.dll`它放在可以找到的地方（在某处`PATH`，或进入`Python27\Lib\site-packages\pysqlite2`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:11:47.120

您应该可以`import sqlite3`改用并遵循[本](http://docs.python.org/2/library/sqlite3.html)教程。在 Python 中处理 Sqlite3 时，这对我来说效果很好。如果该包不存在，请尝试升级您的 Python 版本，因为这将包含其他有用的包。

# c++ - std::system_clock 和 std::steady_clock 之间的区别？

> ID：13263277
> 
> 赞同：105
> 
> 时间：2012-11-07T04:48:41.493
> 
> 标签：c++, c++11, timer, chrono

`std::system_clock`和 和有什么不一样`std::steady_clock`？（说明不同结果/行为的示例案例会很棒）。

`std::system_clock`如果我的目标是精确测量函数的执行时间（如基准测试） ，那么`std::steady_clock`和之间的最佳选择是`std::high_resolution_clock`什么？

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2012-11-07T04:54:57.180

从 N3376：

20.11.7.1 [time.clock.system]/1：

> 类对象`system_clock`代表系统范围实时时钟的挂钟时间。

20.11.7.2 [时间.时钟.稳定]/1：

> 类对象`steady_clock`表示时钟，其值`time_point`永远不会随着物理时间的推移而减少，并且其值以`time_point`相对于实时的稳定速率前进。也就是说，时钟可能不会被调整。

20.11.7.3 [time.clock.hires]/1：

> 类对象`high_resolution_clock`表示具有最短滴答周期的时钟。`high_resolution_clock`可能是`system_clock`or的同义词`steady_clock`。

例如，系统范围的时钟可能会受到夏令时之类的影响，此时列出的未来某个时间点的实际时间实际上可能是过去的时间。（例如在美国，秋天的时间向后移动一小时，因此同一小时会经历“两次”）但是，`steady_clock`不允许受此类事情的影响。

在这种情况下考虑“稳定”的另一种方式是在 20.11.3 [time.clock.req]/2 的表中定义的要求中：

> 在表 59中`C1`并`C2`表示时钟类型。`t1`并且`t2`是`C1::now()`调用返回`t1`发生在调用返回之前的位置返回的值`t2`，并且这两个调用都发生在之前`C1::time_point::max()`。[注意：这意味着没有在和`C1`之间环绕。——尾注] `t1``t2`
> 
> 表达式：`C1::is_steady`
> 返回：`const bool`
> 操作语义：`true`if`t1 <= t2`始终为真并且时钟滴答之间的时间是恒定的，否则`false`.

这就是标准对它们的差异的全部内容。

如果您想进行基准测试，最好的选择可能是，因为您的平台很可能为此时钟`std::high_resolution_clock`使用高分辨率计时器（例如在 Windows 上）。`QueryPerformanceCounter`但是，如果您要进行基准测试，您应该真正考虑使用特定于平台的计时器来进行基准测试，因为不同的平台对此的处理方式不同。例如，某些平台可能会为您提供一些方法来确定程序所需的实际时钟滴答数（独立于在同一 CPU 上运行的其他进程）。更好的是，得到一个真正的分析器并使用它。

* * *

## 回答 #2

> 赞同：47
> 
> 时间：2012-11-07T09:13:17.257

Billy 根据我完全同意的 ISO C++ 标准提供了一个很好的答案。然而，故事还有另一面——现实生活。现在看来，在流行编译器的实现中，这些时钟之间确实没有区别：

海合会 4.8：

```
#ifdef _GLIBCXX_USE_CLOCK_MONOTONIC
   ...
#else
  typedef system_clock steady_clock;
#endif
  typedef system_clock high_resolution_clock; 
```

视觉工作室 2012：

```
class steady_clock : public system_clock
{   // wraps monotonic clock
public:
  static const bool is_monotonic = true;    // retained
  static const bool is_steady = true;
};

typedef system_clock high_resolution_clock; 
```

`is_steady`在 gcc 的情况下，您可以通过检查和相应的行为来检查您是否处理稳定的时钟。但是 VS2012 似乎在这里有点作弊:-)

如果您需要高精度时钟，我建议您现在编写符合 C++11 官方时钟接口的自己的时钟并等待实现赶上。这将比直接在代码中使用特定于操作系统的 API 更好。对于 Windows，您可以这样做：

```
// Self-made Windows QueryPerformanceCounter based C++11 API compatible clock
struct qpc_clock {
  typedef std::chrono::nanoseconds                       duration;      // nanoseconds resolution
  typedef duration::rep                                  rep;
  typedef duration::period                               period;
  typedef std::chrono::time_point<qpc_clock, duration>   time_point;
  static bool is_steady;                                                // = true
  static time_point now()
  {
    if(!is_inited) {
      init();
      is_inited = true;
    }
    LARGE_INTEGER counter;
    QueryPerformanceCounter(&counter);
    return time_point(duration(static_cast<rep>((double)counter.QuadPart / frequency.QuadPart *
                                                period::den / period::num)));
  }

private:
  static bool is_inited;                                                // = false
  static LARGE_INTEGER frequency;
  static void init()
  {
    if(QueryPerformanceFrequency(&frequency) == 0)
      throw std::logic_error("QueryPerformanceCounter not supported: " + std::to_string(GetLastError()));
  }
}; 
```

对于 Linux，它甚至更容易。只需阅读手册页`clock_gettime`并修改上面的代码。

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2016-12-17T21:56:49.087

**GCC 5.3.0 实施**

C++ stdlib 在 GCC 源代码中：

*   [`high_resolution_clock`](https://github.com/gcc-mirror/gcc/blob/gcc_5_3_0_release/libstdc%2B%2B-v3/include/std/chrono#L776)是一个别名`system_clock`
*   [`system_clock`](https://github.com/gcc-mirror/gcc/blob/gcc_5_3_0_release/libstdc++-v3/src/c++11/chrono.cc#L54)转发到以下可用的第一个：
    *   `clock_gettime(CLOCK_REALTIME, ...)`
    *   `gettimeofday`
    *   `time`
*   [`steady_clock`](https://github.com/gcc-mirror/gcc/blob/gcc_5_3_0_release/libstdc++-v3/src/c++11/chrono.cc#L82)转发到以下可用的第一个：
    *   `clock_gettime(CLOCK_MONOTONIC, ...)`
    *   `system_clock`

然后`CLOCK_REALTIME`vs`CLOCK_MONOTONIC`解释在：[CLOCK_REALTIME 和 CLOCK_MONOTONIC 之间的区别？](https://stackoverflow.com/questions/3523442/difference-between-clock-realtime-and-clock-monotonic)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2020-09-28T02:43:33.083

[Howard Hinnant 的相关谈话](https://youtu.be/P32hvk8b13M?t=2875)，作者`chrono`：

不要使用`high_resolution_clock`，因为它是其中之一的别名：

*   `system_clock`：它就像一个普通的时钟，用于时间/日期相关的东西
*   `steady_clock`: 它就像一个秒表，用来计时。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2019-10-31T17:08:58.093

也许，最显着的区别在于，起点`std::chrono:system_clock`是 1.1.1970，即所谓的 UNIX 时代。另一方面，`std::chrono::steady_clock`通常用于 PC 的启动时间，它最适合测量间隔。

# processing - 使用带有此代码的对象？加工

> ID：13263278
> 
> 赞同：0
> 
> 时间：2012-11-07T04:48:46.833
> 
> 标签：processing

如何将我现在拥有的代码与一个对象一起使用，我可以在其中存储球反弹的次数和颜色（当我添加随机颜色时）和速度。任何指示或提示都会非常有用。我是 OOP 的新手，它会让我感到困惑。提前致谢

```
 float x;
  float y;
  float yspeed = 0;
  float xspeed = 0;
  float balldiameter = 10;
  float ballradius = balldiameter/2;

  void setup() {
  size (400,400);
  background (255);
  fill (0);
  ellipseMode(CENTER);
  smooth();
  noStroke();
  x = random(400);
  y = 0;
  }

  void draw() {
  mouseChecks();
  boundaryChecks();
  ballFunctions();
  keyFunctions();
  }

  void mouseChecks() {
    if (mousePressed == true) {
    x = mouseX;
    y = mouseY;
    yspeed = mouseY - pmouseY;
    xspeed = mouseX - pmouseX;
    }
  }

  void boundaryChecks() {
    if (y >= height - ballradius) {
      y = height - ballradius;
      yspeed = -yspeed/1.15;
    }
    if (y <= ballradius) {
      y = ballradius;
      yspeed = -yspeed/1.35;
    }
    if (x >= width -ballradius) {
      x = width -ballradius;
      xspeed = -xspeed/1.10;
    }
    if (x <= ballradius) {
      x = ballradius;
      xspeed = -xspeed/1.10;
     }
   }

   void ballFunctions() {
   if (balldiameter < 2) {
     balldiameter = 2;
     }
   if (balldiameter > 400) {
     balldiameter = 400;
     }
   ballradius = balldiameter/2;
   background(255); //should this be in here?
   ellipse (x,y,balldiameter,balldiameter);
   yspeed = yspeed += 1.63;
    // xspeed = xspeed+=1.63;
   y = y + yspeed;
   x = x + xspeed; 
   }
  void keyFunctions() {
    if (keyPressed) {
      if(keyCode == UP) {
      balldiameter +=1;
    }
    if (keyCode == DOWN) {
      balldiameter -=1;
      }
    }
   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:01:25.637

您可能需要执行以下操作：
创建一个名为`Ball.pde`
在该文件中写入的新文件：

```
public class Ball {
    public float x;
    public float y;
    public float yspeed;
    public float xspeed;
    public float diameter;
    public float radius;  

    public Ball(float initial_x, float initial_y, float diam) {
        this.x = initial_x;
        this.y = initial_y;
        this.xspeed = 0;
        this.yspeed = 0;
        this.diameter = diam;
        this.radius = diam/2;
    }

    public void move() {
       // movement stuff here
    }
} 
```

这会给你一个非常基础的`Ball`课程。你现在可以在你的主草图文件中使用这个类，如下所示：

```
Ball my_ball = new Ball(50, 50, 10); 
```

您可以使用以下方式访问球成员：

```
my_ball.xspeed;
my_ball.yspeed;
my_ball.anything_you_defined_in_ball; 
```

这将允许您将球的所有相关变量存储在其自己的类中。你甚至可以创建超过 1 个。

```
Ball my_ball1 = new Ball(50, 50, 10);
Ball my_ball2 = new Ball(20, 20, 5); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T16:18:36.653

请注意，在 Proccesing 中您不需要为此创建新文件，代码可以在同一个文件中（非常糟糕的做法，如下所述）或在 IDE 的新选项卡中。如果您使用的是 Processing IDE，您可以从右侧的箭头菜单中选择“新选项卡”，它将为您创建文件。它将具有“.pde”扩展名。

# actionscript-3 - 如何测试我的 UncaughtError 处理程序是否已注册并正常工作？

> ID：13263279
> 
> 赞同：0
> 
> 时间：2012-11-07T04:48:50.610
> 
> 标签：actionscript-3, tdd, flexunit

我有一个记录器，它应该捕获未捕获的错误，并将跟踪堆栈发送到服务器。

我正在尝试编写单元测试以确保它有效。但是，当我在测试类中抛出错误或 errorEvent 时，FlexUnit Runner 会捕获错误并且不会让测试继续进行。

我怎样才能对此进行单元测试？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T14:43:08.590

我的问题的解决方案是`event.preventDefault();`在捕获错误时调用。这可以防止错误的正常行为发生，允许我的自定义事件和单元测试运行。

# ssh - 在 Oozie 中使用 ssh 操作在 HDFS 中创建目录

> ID：13263285
> 
> 赞同：0
> 
> 时间：2012-11-07T04:50:02.113
> 
> 标签：ssh, oozie

我必须在 Oozie 中使用 ssh 操作在 HDFS 中创建一个目录。我的示例工作流程是

```
<workflow-app name="sample-wf" xmlns="uri:oozie:workflow:0.1">
    <action name="testjob">
        <ssh>
            <host>name@host<host>
            <command>mkdir</command>
            <args>hdfs://host/user/xyz/</args>
        </ssh>
        <ok to="end"/>
        <error to="fail"/>
    </action>
</workflow-app> 
```

我在执行过程中遇到错误。有人可以指导我在这里缺少什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T20:20:55.663

您不能使用 *nix mkdir 命令在 hdfs 中创建目录。您在代码中显示的用法将尝试在本地文件系统上执行 mkdir 命令，而您想在 HDFS 中创建一个目录。

引用 oozie 文档 @ [http://oozie.apache.org/docs/3.3.0/DG_SshActionExtension.html](http://oozie.apache.org/docs/3.3.0/DG_SshActionExtension.html)；它指出

> shell 命令在远程主机中指定用户的主目录中执行。

```
<workflow-app name="sample-wf" xmlns="uri:oozie:workflow:0.1">
<action name="testjob">
    <ssh>
        <host>name@host<host>
        <command>/usr/bin/hadoop</command>
        <args>dfs</args>
        <args>-mkdir</args>
        <args>NAME_OF_THE_DIRECTORY_YOU_WANT_TO_CREATE</arg>
    </ssh>
    <ok to="end"/>
    <error to="fail"/>
</action> 
```

上面的代码取决于你的 hadoop 二进制文件的路径。

# javascript - 用js验证表单互斥

> ID：13263287
> 
> 赞同：0
> 
> 时间：2012-11-07T04:50:31.113
> 
> 标签：javascript, validation

嗨，我几乎完成了关于“Javascript”的作业，尽管我找不到任何关于如何使某些字段互斥的信息，基本上我表单的顶部部分用户必须将地址插入必填字段，然后在表单的下方是一个单选复选框，用户必须选择家庭地址或其他，（家庭是他们已经插入的最高地址）如果选择他们不必在其他地方插入任何东西但我需要制作的家庭，表格已经过验证互斥所以如果他们选择其他它不能与上面相同，任何人都可以帮助我或给我一个教程链接，因为我只能在互斥单选按钮或复选框上找到信息用户输入的内容没有到文本框谢谢

```
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Joes Fruit and Vegetable Store</title>
<script>
                                                                    //calender dropdown menu 
var monthtext=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sept','Oct','Nov','Dec'];
function populatedropdown(dayfield, monthfield, yearfield){
var today=new Date()
var dayfield=document.getElementById(dayfield)
var monthfield=document.getElementById(monthfield)
var yearfield=document.getElementById(yearfield)
for (var i=0; i<31; i++)
dayfield.options[i]=new Option(i, i+1)
dayfield.options[today.getDate()]=new Option(today.getDate(), today.getDate(), true, true) //select today's day
for (var m=0; m<12; m++)
monthfield.options[m]=new Option(monthtext[m], monthtext[m])
monthfield.options[today.getMonth()]=new Option(monthtext[today.getMonth()], monthtext[today.getMonth()], true, true) //select today's month
var thisyear=today.getFullYear()
for (var y=0; y<20; y++){
yearfield.options[y]=new Option(thisyear, thisyear)
thisyear+=1
}
yearfield.options[0]=new Option(today.getFullYear(), today.getFullYear(), true, true) //select today's year
}
                                                                // function validate
 function validate_form ()
{
                                                                //validate name
    valid = true;
                if ( document.input.name.value == "")
        {
                alert ( "Please enter your name");
                valid = false;
        }
                                                                // validate address
                if ( document.input.address.value == "")
        {
                alert ( "Please enter your Address" );
                valid = false;
        }                                                       
                                                                // validate Town
                if ( document.input.town.value == "")
        {
                alert ( "Please enter your Town" );
                valid = false;
        } 
                                                            // validate postcode        
        var y = document.getElementById("postcode").value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("Postcode must be in numbers.");
          document.getElementById("postcode").focus();
          return false;
       }
       if (y.length>4 || y.length<4)
       {
            alert("Postcode should be 4 digit");
            document.getElementById("postcode").focus();
            return false;
       }  
                                                                // validate home phone
 var y = document.getElementById('hphone').value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("Home Phone number must be in numbers.");
          document.getElementById('hphone').focus();
          return false;
       }
       if (y.length>10 || y.length<10)
       {
            alert("Home Phone number should be 10 digit");
            document.getElementById('hphone').focus();
            return false;
       } 
                                                                // validate work phone
        var y = document.getElementById('wphone').value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("work Phone number must be in numbers.");
          document.getElementById('wphone').focus();
          return false;
       }
       if (y.length>10 || y.length<10)
       {
            alert("Work Phone number should be 10 digit");
            document.getElementById('wphone').focus();
            return false;
       }
                                                                // validate fax
        var y = document.getElementById('fax').value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("Fax number must be in numbers.");
          document.getElementById('fax').focus();
          return false;
       }
       if (y.length>10 || y.length<10)
       {
            alert("Fax Phone number should be 10 digit");
            document.getElementById('fax').focus();
            return false;
       }
                                                                // validate email   
        {
        var x=document.forms["input"]["email"].value;
        var atpos=x.indexOf("@");
         var dotpos=x.lastIndexOf(".");
         if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length)
         {
         alert("Not a valid e-mail address");
        return false;
        }
        } 
                                                                // validate radio buttons
 var o = document.getElementById('rad1');
 var t = document.getElementById('rad2');
if ( (o.checked == false ) && (t.checked == true ) )
 {
                                                                // validate alternative address
                        if ( document.input.street.value == "")
        {
                alert ( "Please enter alternative Address" );
                valid = false;
        }                                                       
                                                                // validate  alternative suburb town
                if ( document.input.suburb.value == "")
        {
                alert ( "Please enter alternative Suburb or town" );
                valid = false;
        }
            }                                           // validate alternative postcode    
        if ( (o.checked == false ) && (t.checked == true ) )
 {                                          
       var y = document.getElementById('postcode2').value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("Alternative Postcode must be in numbers.");
          document.getElementById('postcode2').focus();
          return false;
       }
       if (y.length>4 || y.length<4)
       {
            alert("Alternative Postcode should be 4 digit");
            document.getElementById('postcode2').focus();
            return false;
       }  
   }
                                                            //validate message box
        var o = document.getElementById("card");
        if (o.checked == true )
        {
            if ( document.input.message.value == "" ||    document.input.message.value == "Please Enter message here"   )       
            {
                alert ( "Please enter message" );
                valid = false;                                                  
        }
        return valid;
        }                                                                                           
}
</script>
</head>
<body>
<b>Order form for Joe's Fruit Shop</b><br>
<br>
<b> * means you must fill in the details.</b><br>
<br>
<b>Your details:</b><br>
<br>
                                                                            <!-- Beggining of Form -->

<form name="input" action="Joes.html" onsubmit="return validate_form ()">
                                                                            <!--name input form -->
     * Name: <input type="text" name="name" id="name" onclick="this.value='';" placeholder="Enter your Name"><br>
    <br>
                                                                            <!-- Address input form -->
     * Address: <input type="text" name="address" id="address" onclick="this.value='';" placeholder="Enter your street address"><br>
    <br>
                                                                            <!-- Town & state dropdown form-->
     * Suburb or Town: <input type="text" name="town" id="town" onclick="this.value='';" placeholder="Town"> * State:
                                                                            <!-- state drop down list -->
    <select name="state">
        <option value="NSW">NSW</option>
        <option selected="selected" value="QLD">QLD</option>
        <option value="SA">SA</option>
        <option value="WA">WA</option>
        <option value="TAS">TAS</option>
        <option value="VIC">VIC</option>
        <option value="NT">NT</option>
        <option value="ACT">ACT</option>
    </select>
                                                                            <!-- post code input form -->

     * Postcode: <input type='text' name="postcode" id="postcode" onclick="this.value='';" placeholder="****"><br>
    <br>
                                                                            <!-- Home phone input form-->

     * Phone: <input type='text' name="hphone" id="hphone" onclick="this.value='';" placeholder="x-xxxx-xxx">
                                                                            <!-- work phone input form -->

     * Work phone <input type='text' name="wphone" id="wphone" onclick="this.value='';" placeholder="x-xxxx-xxx"><br>
    <br>
                                                                            <!-- Fax input form-->

     *Fax: <input type='text' name="fax" id="fax" onclick="this.value='';" placeholder="0x-xxxx-xxx">
                                                                            <!-- Email input form-->

     * Email address: <input type='text' name="email" id="email" onclick="this.value='';" onsubmit="return validateForm();" placeholder="Enter your current email"><br>
    <br>
    <br>
                                                                            <!-- credit card form -->   <b>Credit card details:</b><br>
    <br>
     * Type:
    <select name="credit card">
        <option selected="selected" value="AMEX">Amex</option>
        <option value="Visa">Visa</option>
        <option value="Mastercard">Mastercard</option>
    </select>
                                                                            <!--credit card month expiry date-->
     *Expiry date:
    <select name="expiration_month">
        <option value="">Choose...</option>
        <option selected="selected" value="1">January</option>
        <option value="2">Febuary</option>
        <option value="3">March</option>
        <option value="4">April</option>
        <option value="5">May</option>
        <option value="6">June</option>
        <option value="7">July</option>
        <option value="8">August</option>
        <option value="9">September</option>
        <option value="10">October</option>
        <option value="11">November</option>
        <option value="12">December</option>
    </select>
                                                                            <!-- Credit card year expiry date-->
    <select name="expiration_year">
        <option value="">Choose...</option>
        <option selected="selected" value="2012">2012</option>
        <option value="2013">2013</option>
        <option value="2014">2014</option>
        <option value="2015">2015</option>
        <option value="2016">2016</option>
        <option value="2017">2017</option>
        <option value="2018">2018</option>
        <option value="2019">2019</option>
        <option value="2020">2020</option>
    </select>
    <br>
    <br>
    <b>Purchase details</b><br>
    <br>
                                                                            <!-- Product dropdown form-->
     * Product:
    <select name="product">
        <option value="carrot">Bag of carrots</option>
        <option value="zucchini">Zucchini</option>
        <option value="cabbage">Cabbage</option>
        <option value="grapes">Grapes</option>
        <option value="tomatoes">TAS</option>
        <option value="apples">Apples</option>
        <option value="banana">banana</option>
        <option selected="selected" value="cucumber">Cucumber</option>
    </select>
                                                                        <!-- Quantity dropdown form-->
     Quantity:
    <select name="quantity">
        <option selected="selected" value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
    </select>
    <br>
    <br>
    <br>
     * <b>Deliver to:</b>
    <br>
    <br>
                                                                        <!-- Address Radio check buttons-->
    <input type='radio' id="rad1" name='rad' checked="checked">Home Address<br>
    <input type='radio' id="rad2" name='rad'/>Other Address<br>
    <br>
                                                                        <!-- alternative street form-->

     Street <input type='text' name="street" id="street" onclick="this.value='';" placeholder="Street"><br>
    <br>
                                                                        <!-- alternative Suburb form-->

     Suburb <input type='text' name="suburb" id="suburb" onclick="this.value='';" placeholder="Suburb or town"><br>
    <br>
                                                                        <!-- alternative State dropdown form-->
     State
    <select name="state">
        <option value="NSW">NSW</option>
        <option selected="selected" value="QLD">QLD</option>
        <option value="SA">SA</option>
        <option value="WA">WA</option>
        <option value="TAS">TAS</option>
        <option value="VIC">VIC</option>
        <option value="NT">NT</option>
        <option value="ACT">ACT</option>
    </select>
    <br>
    <br>
                                                                        <!-- alternative post code form -->

     Postcode:<input type='text' name="postcode2" id="postcode2" onclick="this.value='';" placeholder="****"><br>
    <br>
    <br>
     * Date delivery required: 
    <!-- Calender drop down menu-->
    <select id="daydropdown">
    </select>
    <select id="monthdropdown">
    </select>
    <select id="yeardropdown">
    </select>
    <script type="text/javascript">
//populatedropdown(id_of_day_select, id_of_month_select, id_of_year_select)
window.onload=function(){
populatedropdown("daydropdown", "monthdropdown", "yeardropdown")
}
    </script>
    <br>
    <br>
                                                                        <!-- include a card option-->
     Include a card: <input type="checkbox" name="card" id="card">Yes<br>
    <br>
     Personal message on card: <textarea name="message" id="message" cols="20" rows="10" onclick="this.value='';">Please Enter message here</textarea><br>
    <br>
     Click on <b>Submit</b> when done; click on <b> Clear form</b> to reset. 
                                                                        <!-- submit button-->
    <input type="submit" value="Submit">
                                                                        <!-- reset button-->
    <input type="reset" value="Reset">
</form><br>
<script>
<!--
document.write("<i>Last updated "+document.lastModified+"<I>");
//-->
</script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:50:49.203

这是不完整的。我为您的一些选项添加了功能。复制并自己检查更改的位置。我想你可以做剩下的

```
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Joes Fruit and Vegetable Store</title>
<script>
                                                                    //calender dropdown menu 
var monthtext=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sept','Oct','Nov','Dec'];
function populatedropdown(dayfield, monthfield, yearfield){
var today=new Date()
var dayfield=document.getElementById(dayfield)
var monthfield=document.getElementById(monthfield)
var yearfield=document.getElementById(yearfield)
for (var i=0; i<31; i++)
dayfield.options[i]=new Option(i, i+1)
dayfield.options[today.getDate()]=new Option(today.getDate(), today.getDate(), true, true) //select today's day
for (var m=0; m<12; m++)
monthfield.options[m]=new Option(monthtext[m], monthtext[m])
monthfield.options[today.getMonth()]=new Option(monthtext[today.getMonth()], monthtext[today.getMonth()], true, true) //select today's month
var thisyear=today.getFullYear()
for (var y=0; y<20; y++){
yearfield.options[y]=new Option(thisyear, thisyear)
thisyear+=1
}
yearfield.options[0]=new Option(today.getFullYear(), today.getFullYear(), true, true) //select today's year
}
                                                                // function validate
 function validate_form ()
{
                                                                //validate name
    valid = true;
                if ( document.input.name.value == "")
        {
                alert ( "Please enter your name");
                valid = false;
        }
                                                                // validate address
                if ( document.input.address.value == "")
        {
                alert ( "Please enter your Address" );
                valid = false;
        }                                                       
                                                                // validate Town
                if ( document.input.town.value == "")
        {
                alert ( "Please enter your Town" );
                valid = false;
        } 
                                                            // validate postcode        
        var y = document.getElementById("postcode").value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("Postcode must be in numbers.");
          document.getElementById("postcode").focus();
          return false;
       }
       if (y.length>4 || y.length<4)
       {
            alert("Postcode should be 4 digit");
            document.getElementById("postcode").focus();
            return false;
       }  
                                                                // validate home phone
 var y = document.getElementById('hphone').value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("Home Phone number must be in numbers.");
          document.getElementById('hphone').focus();
          return false;
       }
       if (y.length>10 || y.length<10)
       {
            alert("Home Phone number should be 10 digit");
            document.getElementById('hphone').focus();
            return false;
       } 
                                                                // validate work phone
        var y = document.getElementById('wphone').value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("work Phone number must be in numbers.");
          document.getElementById('wphone').focus();
          return false;
       }
       if (y.length>10 || y.length<10)
       {
            alert("Work Phone number should be 10 digit");
            document.getElementById('wphone').focus();
            return false;
       }
                                                                // validate fax
        var y = document.getElementById('fax').value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("Fax number must be in numbers.");
          document.getElementById('fax').focus();
          return false;
       }
       if (y.length>10 || y.length<10)
       {
            alert("Fax Phone number should be 10 digit");
            document.getElementById('fax').focus();
            return false;
       }
                                                                // validate email   
        {
        var x=document.forms["input"]["email"].value;
        var atpos=x.indexOf("@");
         var dotpos=x.lastIndexOf(".");
         if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length)
         {
         alert("Not a valid e-mail address");
        return false;
        }
        } 
                                                                // validate radio buttons
 var o = document.getElementById('rad1');
 var t = document.getElementById('rad2');
if ( (o.checked == false ) && (t.checked == true ) )
 {
                                                                // validate alternative address
                        if ( document.input.street.value == "")
        {
                alert ( "Please enter alternative Address" );
                valid = false;
        }                                                       
                                                                // validate  alternative suburb town
                if ( document.input.suburb.value == "")
        {
                alert ( "Please enter alternative Suburb or town" );
                valid = false;
        }
            }                                           // validate alternative postcode    
        if ( (o.checked == false ) && (t.checked == true ) )
 {                                          
       var y = document.getElementById('postcode2').value;
       if(isNaN(y)||y.indexOf(" ")!=-1)
       {
          alert("Alternative Postcode must be in numbers.");
          document.getElementById('postcode2').focus();
          return false;
       }
       if (y.length>4 || y.length<4)
       {
            alert("Alternative Postcode should be 4 digit");
            document.getElementById('postcode2').focus();
            return false;
       }  
   }
                                                            //validate message box
        var o = document.getElementById("card");
        if (o.checked == true )
        {
            if ( document.input.message.value == "" ||    document.input.message.value == "Please Enter message here"   )       
            {
                alert ( "Please enter message" );
                valid = false;                                                  
        }
        return valid;
        }                                                                                           
}
function fnc1()
{
    document.getElementById("hsuburb").value=document.getElementById("town").value;
    document.getElementById("hstate").value=document.getElementById("state").value;
    document.getElementById("postcode2").value=document.getElementById("postcode").value;
    document.getElementById("hsuburb").disabled="disabled";
    document.getElementById("hstate").disabled="disabled";
    document.getElementById("postcode2").disabled="disabled";

}
function fnc2(myid)
{
    value=document.getElementById(myid).value;
    a=document.getElementById("town").value;
    b=document.getElementById("state").value;
    c=document.getElementById("postcode").value;
    if(value==a)
    {alert("change your town");
    document.getElementById(myid).value='';
    }
    else if(value==b)
    {alert("change your state");
    document.getElementById("default").selected="Selected";
    }
    else if(value==c)
    {alert("change your postcode");
    document.getElementById(myid).value='';
    }

}
function fnc3()
{
    document.getElementById("hsuburb").disabled=false;
    document.getElementById("hstate").disabled=false;
    document.getElementById("postcode2").disabled=false;
}
</script>
</head>
<body>
<b>Order form for Joe's Fruit Shop</b><br>
<br>
<b> * means you must fill in the details.</b><br>
<br>
<b>Your details:</b><br>
<br>
                                                                            <!-- Beggining of Form -->

<form name="input" action="Joes.html" onsubmit="return validate_form ()">
                                                                            <!--name input form -->
     * Name: <input type="text" name="name" id="name" onclick="this.value='';" placeholder="Enter your Name"><br>
    <br>
                                                                            <!-- Address input form -->
     * Address: <input type="text" name="address" id="address" onclick="this.value='';" placeholder="Enter your street address"><br>
    <br>
                                                                            <!-- Town & state dropdown form-->
     * Suburb or Town: <input type="text" name="town" id="town" onclick="this.value='';" placeholder="Town"> * State:
                                                                            <!-- state drop down list -->
    <select name="state" id="state" >
        <option value="NSW">NSW</option>
        <option selected="selected" value="QLD">QLD</option>
        <option value="SA">SA</option>
        <option value="WA">WA</option>
        <option value="TAS">TAS</option>
        <option value="VIC">VIC</option>
        <option value="NT">NT</option>
        <option value="ACT">ACT</option>
    </select>
                                                                            <!-- post code input form -->

     * Postcode: <input type='text' name="postcode" id="postcode" onclick="this.value='';" placeholder="****"><br>
    <br>
                                                                            <!-- Home phone input form-->

     * Phone: <input type='text' name="hphone" id="hphone" onclick="this.value='';" placeholder="x-xxxx-xxx">
                                                                            <!-- work phone input form -->

     * Work phone <input type='text' name="wphone" id="wphone" onclick="this.value='';" placeholder="x-xxxx-xxx"><br>
    <br>
                                                                            <!-- Fax input form-->

     *Fax: <input type='text' name="fax" id="fax" onclick="this.value='';" placeholder="0x-xxxx-xxx">
                                                                            <!-- Email input form-->

     * Email address: <input type='text' name="email" id="email" onclick="this.value='';" onsubmit="return validateForm();" placeholder="Enter your current email"><br>
    <br>
    <br>
                                                                            <!-- credit card form -->   <b>Credit card details:</b><br>
    <br>
     * Type:
    <select name="credit card">
        <option selected="selected" value="AMEX">Amex</option>
        <option value="Visa">Visa</option>
        <option value="Mastercard">Mastercard</option>
    </select>
                                                                            <!--credit card month expiry date-->
     *Expiry date:
    <select name="expiration_month">
        <option value="">Choose...</option>
        <option selected="selected" value="1">January</option>
        <option value="2">Febuary</option>
        <option value="3">March</option>
        <option value="4">April</option>
        <option value="5">May</option>
        <option value="6">June</option>
        <option value="7">July</option>
        <option value="8">August</option>
        <option value="9">September</option>
        <option value="10">October</option>
        <option value="11">November</option>
        <option value="12">December</option>
    </select>
                                                                            <!-- Credit card year expiry date-->
    <select name="expiration_year">
        <option value="">Choose...</option>
        <option selected="selected" value="2012">2012</option>
        <option value="2013">2013</option>
        <option value="2014">2014</option>
        <option value="2015">2015</option>
        <option value="2016">2016</option>
        <option value="2017">2017</option>
        <option value="2018">2018</option>
        <option value="2019">2019</option>
        <option value="2020">2020</option>
    </select>
    <br>
    <br>
    <b>Purchase details</b><br>
    <br>
                                                                            <!-- Product dropdown form-->
     * Product:
    <select name="product">
        <option value="carrot">Bag of carrots</option>
        <option value="zucchini">Zucchini</option>
        <option value="cabbage">Cabbage</option>
        <option value="grapes">Grapes</option>
        <option value="tomatoes">TAS</option>
        <option value="apples">Apples</option>
        <option value="banana">banana</option>
        <option selected="selected" value="cucumber">Cucumber</option>
    </select>
                                                                        <!-- Quantity dropdown form-->
     Quantity:
    <select name="quantity">
        <option selected="selected" value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
    </select>
    <br>
    <br>
    <br>
     * <b>Deliver to:</b>
    <br>
    <br>
                                                                        <!-- Address Radio check buttons-->
    <input type='radio' id="rad1" name='rad' onClick="fnc1()">Home Address<br>
    <input type='radio' id="rad2" name='rad' onClick="fnc3()" />Other Address<br>
    <br>
                                                                        <!-- alternative street form-->

     Street <input type='text' name="street" id="hstreet" onclick="this.value='';" placeholder="Street"><br>
    <br>
                                                                        <!-- alternative Suburb form-->

     Suburb <input type='text' name="suburb" id="hsuburb" onclick="this.value='';" placeholder="Suburb or town" onChange="fnc2(this.id)"><br>
    <br>
                                                                        <!-- alternative State dropdown form-->
     State
    <select name="state" id="hstate" onChange="fnc2(this.id)">
        <option value="-1" id="default">select</option>
        <option value="NSW">NSW</option>
        <option selected="selected" value="QLD">QLD</option>
        <option value="SA">SA</option>
        <option value="WA">WA</option>
        <option value="TAS">TAS</option>
        <option value="VIC">VIC</option>
        <option value="NT">NT</option>
        <option value="ACT">ACT</option>
    </select>
    <br>
    <br>
                                                                        <!-- alternative post code form -->

     Postcode:<input type='text' name="postcode2" id="postcode2" onclick="this.value='';" placeholder="****" onChange="fnc2(this.id)"><br>
    <br>
    <br>
     * Date delivery required: 
    <!-- Calender drop down menu-->
    <select id="daydropdown">
    </select>
    <select id="monthdropdown">
    </select>
    <select id="yeardropdown">
    </select>
    <script type="text/javascript">
//populatedropdown(id_of_day_select, id_of_month_select, id_of_year_select)
window.onload=function(){
populatedropdown("daydropdown", "monthdropdown", "yeardropdown")
}
    </script>
    <br>
    <br>
                                                                        <!-- include a card option-->
     Include a card: <input type="checkbox" name="card" id="card">Yes<br>
    <br>
     Personal message on card: <textarea name="message" id="message" cols="20" rows="10" onclick="this.value='';">Please Enter message here</textarea><br>
    <br>
     Click on <b>Submit</b> when done; click on <b> Clear form</b> to reset. 
                                                                        <!-- submit button-->
    <input type="submit" value="Submit">
                                                                        <!-- reset button-->
    <input type="reset" value="Reset">
</form><br>
<script>
<!--
document.write("<i>Last updated "+document.lastModified+"<I>");
//-->
</script>

</body>
</html> 
```

# c# - 取消选中 datagridview 单元格中的用户选中复选框

> ID：13263288
> 
> 赞同：1
> 
> 时间：2012-11-07T04:50:38.137
> 
> 标签：c#, winforms, datagridview, checkbox

我的列中有一个`DataGridView`列`DataGridViewCheckBoxColumn`模板。当用户选中复选框时，如果它不符合某些条件，我需要以编程方式取消选中它。我已经这样做了，但是这个取消选中的逻辑只有在我手动更改单元格的焦点后才会生效。我尝试以编程方式更改焦点，但没有奏效。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:58:03.237

我通过很少的代码更改找到了答案。我使用了datagridview的取消编辑功能。对于之前要触发的复选框值更改，我在 CurrentCellDirtyStateChanged 事件中使用了此代码。

```
CommitEdit(DataGridViewDataErrorContexts.Commit) 
```

现在我把它改成了。

```
CommitEdit(DataGridViewDataErrorContexts.CurrentCellChange) 
```

并称

```
CancelEdit() 
```

回滚更改。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-09T11:51:58.560

最近我有类似的问题。在我的情况下，将单元格值设置为 false 或使用 TrueValue 和 FalseValue（对于 DataGridViewCheckBoxCell）失败。

最后，我设法通过简单的 DataGridView 方法实现了我想要的（取消选中某些条件是否失败）：

```
dataGridView1.CancelEdit() 
```

希望能帮助到你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T05:21:31.730

只需将您的[`DataGridViewCell.Value`](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewcell.value.aspx)财产的价值设置为`false`（或`true`）：

```
((DataGridViewCheckBoxCell)row.Cells[CheckBoxColumn.Index]).value = false; 
```

# php - 在ajax页面中附加CKEditor

> ID：13263289
> 
> 赞同：0
> 
> 时间：2012-11-07T04:50:49.360
> 
> 标签：php, ajax, ckeditor

我试图将*ckeditor*附加到php页面中的textarea，该页面由html页面中的ajax调用，但ckeditor没有出现在textarea中。任何人都可以有任何想法，为什么它没有发生，它只是让我发疯。

TRY1.HTML

```
 <script type="text/javascript">
    function load()
    {
  if (window.XMLHttpRequest)
      {// code for IE7+, Firefox, Chrome, Opera, Safari
       xmlhttp=new XMLHttpRequest();
      }
   else
      {// code for IE6, IE5
          xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
       }
     xmlhttp.onreadystatechange=function()
      {
        if (xmlhttp.readyState==4 && xmlhttp.status==200)
          {
             document.getElementById("div_content").innerHTML=xmlhttp.responseText;
          }
      }
       xmlhttp.open("GET","try2.php?",true);
       xmlhttp.send();
      }
     </script>
     <!--end tinymcs-->

       </head>
       <body>
       <input type="button" onclick="load()">
       <div id="div_content">

       </div>

       </body>
       </html> 
```

TRY2.PHP

```
 <textarea id="txt1"> </textarea> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:27:34.230

这是因为您绑定编辑器的文本区域在页面的初始加载中不存在，因此它没有被绑定。您应该将其绑定在 ajax 调用的成功回调上。成功后，您应该使用 ckeditor 绑定 textarea，它会起作用。

```
if (xmlhttp.readyState==4 && xmlhttp.status==200) {
    document.getElementById("div_content").innerHTML=xmlhttp.responseText;
    document.getElementById("txt1").ckEditor();
    //or whatever the exact code you do for ckEditor
} 
```

# jms - 使用 HornetQ 运行 JMS 桥接器

> ID：13263291
> 
> 赞同：0
> 
> 时间：2012-11-07T04:51:10.903
> 
> 标签：jms, hornetq, bridge

我在同一台机器上有两个独立的 HornetQ 服务器！我按照 HornetQ 示例中的 jms-bridge 示例配置*源服务器*和*目标服务器*（我将配置从示例复制到我的服务器）。当我想运行目标服务器（包含 jms 桥）时，它找不到 JMSBridge bean 的 TransactionManager 属性，因为*com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionManagerImple*不在服务器类路径中。我应该选择什么来代替 TransactionManager 的实现？*或者com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionManagerImple*需要哪些 jar 文件？

```
 <!-- The JMS Bridge -->
   <bean name="JMSBridge" class="org.hornetq.jms.bridge.impl.JMSBridgeImpl">
           <constructor>
               <!-- Source ConnectionFactory Factory -->
               <parameter>
                   <inject bean="SourceCFF"/>
               </parameter>
               <!-- Target ConnectionFactory Factory -->
               <parameter>
                   <inject bean="TargetCFF"/>
               </parameter>
               <!-- Source DestinationFactory -->
               <parameter>
                   <inject bean="SourceDestinationFactory"/>
               </parameter>
               <!-- Target DestinationFactory -->
               <parameter>
                   <inject bean="TargetDestinationFactory"/>
               </parameter>
               <!-- Source username (no username here) -->
               <parameter><null /></parameter>
               <!-- Source password (no password here)-->
               <parameter><null /></parameter>
               <!-- Target username (no username here)-->
               <parameter><null /></parameter>
               <!-- Target password (no password here)-->
               <parameter><null /></parameter>
               <!-- Selector -->
               <parameter><null /></parameter>
               <!-- Interval to retry in case of failure (in ms) -->
               <parameter>5000</parameter>
               <!-- Maximum number of retries to connect to the source and target -->
               <parameter>10</parameter>
               <!-- Quality of service -->
               <parameter>ONCE_AND_ONLY_ONCE</parameter>
               <!-- Maximum batch size -->
               <parameter>1</parameter>
               <!-- Maximum batch time (-1 means infinite) -->
               <parameter>-1</parameter>
               <!-- Subscription name (no subscription name here)-->
               <parameter><null /></parameter>
               <!-- client ID  (no client ID here)-->
               <parameter><null /></parameter>
               <!-- concatenate JMS messageID to the target's message header -->
               <parameter>true</parameter>
               <!-- register the JMS Bridge in the JMX MBeanServer -->
               <parameter>
                   <inject bean="MBeanServer"/>
               </parameter>
               <parameter>org.hornetq:service=JMSBridge</parameter>
           </constructor>
           <property name="transactionManager">
               <inject bean="TransactionManager"/>
           </property>

           <!-- HornetQ JMS Server must be started before the bridge -->
           <depends>JMSServerManager</depends>

       </bean>
      <!-- TransactionManager -->
      <bean name="TransactionManager" class="com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionManagerImple">
       </bean> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T22:10:15.113

您可以在以下位置查看新的 HornetQ 书

[HornetQ 消息传递开发者指南](https://rads.stackoverflow.com/amzn/click/com/1849518408)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T10:12:37.787

我添加了这些 jar 文件并且错误消失了：

1.  jta.jar
2.  narayana-jta.jar

# css - 厚 div 边框顶部的关闭按钮

> ID：13263292
> 
> 赞同：0
> 
> 时间：2012-11-07T04:51:11.040
> 
> 标签：css, html

我有一个边框很厚的 div，我希望在边框的右上角有关闭按钮，而不是 div。我遇到的问题是，无论我放什么 z-index，边框总是在我的关闭按钮 div 的顶部。我尝试将边框设置在 div 的内部，但同样的问题一直在发生。有什么建议么？

谢谢！

```
.aboutcontainer{
    position: relative;
    width: 55%;
    height: 70%;
    margin: auto;
    margin-top: 6%;
    background: white;
    z-index: 3;
    border: 20px solid black;
    padding-left: 15px;
    padding-right: 15px;
    overflow: auto;

    box-shadow: inset 0px 5px 2px black, 0px 5px 5px #333333;
    -moz-box-shadow: inset 0px 5px 2px black, 0px 5px 5px #333333;
    -khtml-box-shadow: inset 0px 5px 2px black, 0px 5px 5px #333333;
    -webkit-box-shadow: inset 0px 5px 2px black, 0px 5px 5px #333333;
}

.closeBtn {
    position: absolute;
    top: -10px;
    right: -10px;
    border: solid 1px red;
    z-index: 4;
    cursor: pointer;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:50:04.880

从 .aboutcontainer 中删除边框。将它放在另一个**div**中，并为该父容器提供一些填充和背景颜色，以创建边框效果。将您的**.aboutcontainer**和**.closeBtn**放在该 div 中，现在您可以自由地将关闭按钮放置在您想要的任何位置，同时保持 .aboutContainer 的溢出属性不变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:52:56.123

在这里删除`overflow:auto`甚至`z-index`是没有必要的。给`width`内部`height`div 以查看效果。

**[演示](http://jsfiddle.net/nVnLk/2/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:09:04.813

您的`overflow: auto;`标签隐藏了 main 之外的所有内容`div`，包括边界顶部的内容。删除它，按钮将显示。

# ssrs-2008 - 使用数据源而不是报表模型的 SSRS 即席报表

> ID：13263295
> 
> 赞同：2
> 
> 时间：2012-11-07T04:52:01.810
> 
> 标签：ssrs-2008, reporting-services, reportingservices-2005

我正在研究 SSRS 2008。我正在尝试使用 Report Builder 3.0 创建临时报告。要选择数据源，会列出 *.rsds 和 *.smdl。我选择了一个指向 SQL 数据库的数据源。当我添加新数据集时，我可以添加字段并使用表中定义的主键和外键自动检测关系（联接）。我还可以编辑查询。我运行了报告，它运行成功。

我的问题是我找不到任何关于使用 Data Source for Adhoc Reporting 的文档。MS SQL 文档和论坛坚持认为，即席报告需要报告模型。

如果有人尝试使用数据源而不是报表模型创建临时报表，请告诉我。虽然我知道使用报告模型有更多好处（定义实体/属性、显示/隐藏实体/属性、组织实体/属性等），但我只想知道这是否可能。

使用此方法是否有任何已知限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-16T18:42:21.520

使用报表模型的限制专门针对报表生成器 1.0 (SSRS 2005)。在 Report Builder 2.0+ 中，您可以构建自己的数据集。事实上，在 2012 年，报表模型已被弃用。请参阅[SQL 2012 的已弃用功能](http://j.mp/13DX8uz)

2008 R2 和 2012 提供的功能之一是共享数据集，它允许您创建一次数据集并在多个报表中重复使用它。因此，如果没有大量 SQL 知识的人需要将报表放在一起，您可以拥有一套共享数据集供他们使用。

# android - 我想在自定义对话框中将 Assets 文件夹中的静态 HTML 文件显示到 Webview 中

> ID：13263297
> 
> 赞同：0
> 
> 时间：2012-11-07T04:52:15.393
> 
> 标签：android

我正在尝试将资产文件夹中的 html 文件显示到自定义对话框中。但得到错误。我正在使用以下代码。

我的自定义对话框类

```
public class RobozoxDialog extends Activity{
Dialog my;
public RobozoxDialog(Context theContext){
    my= new Dialog(theContext);
}
public void showRobozoxDialog(){
    my.show();
}
public void setSource(String title,String url) {

    WebView myWebView = (WebView) findViewById(R.id.webview_dialog);
    myWebView.loadUrl(url); 
    my.setTitle(title);
}
} 
```

自定义对话框 XML

```
<?xml version="1.0" encoding="utf-8"?>
<WebView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/webview_dialog"
android:layout_width="match_parent"
android:layout_height="match_parent" >
</WebView> 
```

像这样调用对话框。

```
RobozoxDialog d = new RobozoxDialog(MainActivity.this);
d.setSource("Test", "file:///android_asset/test.html");
d.showRobozoxDialog(); 
```

但是出现错误并无法解决问题。当我在主要活动 xml 的 webview 中显示 html 文件时，它正在显示。但是当尝试在对话框 webview 中显示时它停止工作..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:04:38.860

我通过使用 LayoutInflater 来完成此操作 代码如下..

```
 LayoutInflater li = LayoutInflater.from(theContext);
    View promptsView = li.inflate(R.layout.dialog_layout, null);

    AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(
            theContext);
    alertDialogBuilder.setTitle("Registration");

    alertDialogBuilder.setView(promptsView);

    final WebView webview = (WebView) promptsView
            .findViewById(R.id.webview_dialog);
    webview.loadUrl("file:///android_asset/test.html");
    final AlertDialog alertDialog = alertDialogBuilder.create();

    alertDialog.show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:09:11.393

1.  始终将 logcat 输出添加到您的问题中。我们不知道您遇到了什么错误。
2.  你从来没有为你的对话框设置任何布局。请参阅[此处](http://developer.android.com/guide/topics/ui/dialogs.html#CustomLayout)如何创建自定义对话框。
3.  您尝试从 Activity 而不是 Dialog 获取 WebView。尝试`my.findViewById(R.id.webview_dialog)`

# payment-gateway - Cartthrob Sagepay 错误

> ID：13263298
> 
> 赞同：4
> 
> 时间：2012-11-07T04:52:22.940
> 
> 标签：payment-gateway, expressionengine, payment-processing, cartthrob

在构建中使用 Sagepay 网关并对网关集成进行排序。工作正常，直到我们进行实际的付款处理并且我们收到错误：

HTTP 状态代码：500 HTTP 状态消息：由于服务器遇到意外情况，请求不成功。错误代码：5006 错误描述：无法重定向到供应商的网站。供应商未能提供重定向 URL。

退货 url 在 Cartthrob 结帐表单上设置为 return="checkout/order-completed"

我编辑了 extload.php 并修改了设置以匹配我们的 MSM 设置。我还[问过 CT 的人是否有任何指导](http://cartthrob.com/forums/viewthread/7231/)，但我认为 SO 也是一个好地方。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T18:55:34.557

您是否查看过您的 Apache 错误日志以查看那里是否列出了更多详细信息？

此外，当我的服务器上安装了 mod_evasive 并且锁定有点太紧时，我也有一些类似的症状。可能想尝试暂时禁用 mod_evasive 进行测试，或者至少稍微放松一下。

这篇文章可能会有所帮助。[http://library.linode.com/web-servers/apache/mod-evasive](http://library.linode.com/web-servers/apache/mod-evasive)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T22:55:09.133

问题出在一个名为 extload.php 的文件中，该文件位于 /themes/third_party/cartthrob/lib 中

当我们使用 MSM 时，我们必须正确地映射变量，而我们的错误是 $EE_absolute_server_url，它是一个实际的 URL，而它应该是一个服务器路径。

# jquery - 在 jQuery Mobile 中如何覆盖弹出对话框中的关闭按钮 href

> ID：13263299
> 
> 赞同：2
> 
> 时间：2012-11-07T04:52:27.957
> 
> 标签：jquery, jquery-mobile

我想更改`href`弹出（对话框）关闭按钮。jQuery Mobile 自动生成`href="#"`. 我想覆盖`href="myPage"`. 我怎样才能覆盖`href=""`

代码

```
 <div data-role="dialog" id="pageId">
    <div data-role="header" data-theme="c">
      <h2>your Heading</h2>
    </div>
    <div data-role="content">
        <p>Your Message.</p>
     </div>
 </div> 
```

在这段代码中，jQuery 自动为关闭按钮生成代码。我如何覆盖`href="#"`到我的`href=""`.

如果我单击关闭（X）按钮，它想转到我的链接页面。

任何人都可以帮助我解决问题。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T20:18:34.247

自动生成的关闭按钮通常没有 ID。

尝试这个：

```
$('a[title="Close"]').attr("href","http://www.yournewurl.com"); 
```

## 更新

我做了一个快速工作的例子：http: [//jsfiddle.net/dYB3a/2/](http://jsfiddle.net/dYB3a/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T04:55:58.057

你可以这样做

```
$('#ElementID').attr("href","http://www.yournewurl.com"); 
```

# php - Wordpress 自定义表格插件

> ID：13263302
> 
> 赞同：0
> 
> 时间：2012-11-07T04:52:53.240
> 
> 标签：php, wordpress

如何解决当我为 Wordpress使用“**自定义表格”插件时显示的这个警告？**有人可以帮我吗

**警告：在第 378 行的 ..\wp-content\plugins\custom-tables\pages\show_table.php 中为 foreach() 提供了无效参数**

此插件的 URL [http://wordpress.org/extend/plugins/custom-tables/](http://wordpress.org/extend/plugins/custom-tables/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:40:13.457

是在传入的`Invalid argument supplied for foreach()`元素`foreach()`不是数组时获得的。对于这个插件，在第 378 行：

```
foreach ($qry as $row) { 
```

您可以在通过 foreach 循环之前测试它是否是一个数组：

```
if ( is_array($qry ))
{
  foreach ($qry as $row) {...}
}
else die('not an array'); 
```

但是，我鼓励您从插件支持论坛询问。作者可以修复插件（假设是插件本身的问题）。不建议自己修改插件的核心，因此更新该插件将覆盖您的更改。

# c - 在同一程序中获取包含的路径

> ID：13263303
> 
> 赞同：1
> 
> 时间：2012-11-07T04:53:05.623
> 
> 标签：c, gcc

假设我有一个程序

**主程序**

```
#include "file.h" 
#include <stdio.h>
int main()
{
//Code to found the included path
}

gcc -I /local main.c 
```

我怎样才能在这个程序中找到头文件的包含路径现在它们可以是3个包含路径

1.  当前目录
2.  在 Path VARIABLE 或其他中设置的 ENV
3.  -I 选项包含的目录

请提供一种在同一程序中获取此信息的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T07:49:59.253

对于您可以编辑的包含文件，您可以使用`__FILE__`宏。它使预处理器插入完整文件的名称，如`/the/directory/filename`.

只需将以下行添加到您的标题中：

```
static const char MyIncludeFileName[] = __FILE__; 
```

如果您不参考`MyIncludeFileName`（从包含标头的代码中），编译器可能会发出`MyIncludeFileName`已声明但未使用的警告。要告诉编译器对此保持安静，请执行以下操作：

```
static const char MyIncludeFileName[] __attribute__ ((unused)) = __FILE__; 
```

# ruby - ruby：块中的执行顺序

> ID：13263305
> 
> 赞同：0
> 
> 时间：2012-11-07T04:53:14.000
> 
> 标签：ruby

我理解这个 skip_tracks 方法中发生了什么，但是，我永远不可能这样写，因为我不理解块中行为背后的规则。这是让我困惑的部分

```
 skip.times { playlist.push playlist.shift} 
```

是否存在从右到左执行的规则，以便返回移动的值并将其推送到播放列表？怎么知道被转移的值将被推送到播放列表中？块内发生了什么以使其成为规则？你能解释一下吗...另外，如果这个块被写成多行，playlist.push 将在 playlist.shift 之上，因此首先执行，但是这段代码要求在 push 之前移动值

* * *

```
def skip_tracks(playlist, skip)
  if skip > 0
    skip.times { playlist.push playlist.shift}
  else
    skip.abs.times { playlist.unshift playlist.pop }
  end
  puts playlist
end

playlist = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l']
skip_tracks(playlist, 2) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T04:59:20.817

将`push`and`unshift`视为接受参数并将传递给它的元素放入列表的函数；和作为删除和返回元素的函数`shift`。`pop`

如果我使用类似 c 的函数语法编写正在发生的事情，你会得到：

```
playlist.push(playlist.shift()) 
```

和

```
playlist.unshift(playlist.pop()) 
```

因此，它将从内到外解决这些函数调用，并获得您所看到的行为。

# webgl - webGL：矩形围绕 Y 轴上的一点旋转

> ID：13263309
> 
> 赞同：1
> 
> 时间：2012-11-07T04:53:29.820
> 
> 标签：webgl

假设我有一个有 4 个顶点的矩形`(x1,y1), (x2,y2) (x3,y3) and (x4,y4)`。这些顶点按顺时针顺序排列。矩形的方向为，(x1,y1) 是最左上角，(x3,y3) 是最右下角。

现在我想围绕其中一个边缘旋转矩形，即沿着包括（x2，y2）和（x3，y3）的边缘。我想通过旋转两个顶点（x1，y1）和(x4,y4)。

我的问题是围绕某个点以角度 Theta 旋转点 (x1,y1) 的公式是什么。

我搜索了较旧的论坛并找到了一些相关信息 [https://stackoverflow.com/a/3162657/1804924](https://stackoverflow.com/a/3162657/1804924)

我的问题是我可以按原样使用方程式吗？因为它就像围绕 Y 轴旋转。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-08T07:56:52.277

这里有一系列文章介绍了 2D 旋转的数学运算

[https://webglfundamentals.org/webgl/lessons/webgl-2d-rotation.html](https://webglfundamentals.org/webgl/lessons/webgl-2d-rotation.html)

它开始很简单，并建立了二维矩阵数学，这是最常见的方法

一旦你的矩阵工作了，你就会生成一个矩阵来平移矩形，这样 X2,y2 和 x3,y3 之间的点就在 0,0 处。然后生成一个旋转的矩阵。然后另一个翻译回来。将它们全部相乘，您将得到一个可以完成整个操作的矩阵。

```
// Compute the matrices
var rotatePointX = (x2 + x3) / 2;
var rotatePointY = (y2 + y3) / 2;

var moveToRotationPointMatrix = makeTranslation(-rotatePointX, -rotatePointY);
var rotationMatrix = makeRotation(angleInRadians);
var moveBackMatrix = makeTranslation(rotatePointX, rotatePointY);

// Multiply the matrices.
var matrix = matrixMultiply(moveToRotationPointMatrix, rotationMatrix);
matrix = matrixMultiply(matrix, moveBackMatrix);
... 
```

现在使用该矩阵

这是一个例子。它在右边缘中心之间旋转一半。

```
function main() {
  // Get A WebGL context
  var canvas = document.getElementById("canvas");
  var gl = canvas.getContext("webgl");
  if (!gl) {
    return;
  }

  // setup GLSL program
  program = twgl.createProgramFromScripts(gl, ["2d-vertex-shader", "2d-fragment-shader"]);
  gl.useProgram(program);

  // look up where the vertex data needs to go.
  var positionLocation = gl.getAttribLocation(program, "a_position");

  // lookup uniforms
  var colorLocation = gl.getUniformLocation(program, "u_color");
  var matrixLocation = gl.getUniformLocation(program, "u_matrix");

  // Create a buffer.
  var buffer = gl.createBuffer();
  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
  gl.enableVertexAttribArray(positionLocation);
  gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

  // Set Geometry.
  setGeometry(gl);

  // Set a random color.
  gl.uniform4f(colorLocation, Math.random(), Math.random(), Math.random(), 1);

  var translation = [100, 150];
  var angleInRadians = 0;
  var scale = [1, 1];

  // Draw the scene.
  function drawScene() {
    angleInRadians += 0.01;
    // Clear the canvas.
    gl.clear(gl.COLOR_BUFFER_BIT);

    // Compute the matrices
    var projectionMatrix = make2DProjection(canvas.width, canvas.height);

    var x2 = 130;
    var x3 = 130;
    var y2 =  30;
    var y3 = 150;

    var rotatePointX = (x2 + x3) / 2;
    var rotatePointY = (y2 + y3) / 2;

    var moveToRotationPointMatrix = makeTranslation(-rotatePointX, -rotatePointY);
    var rotationMatrix = makeRotation(angleInRadians);
    var moveBackMatrix = makeTranslation(rotatePointX, rotatePointY);

    // Multiply the matrices.
    var matrix = matrixMultiply(moveToRotationPointMatrix, rotationMatrix);
    matrix = matrixMultiply(matrix, moveBackMatrix);
    matrix = matrixMultiply(matrix, projectionMatrix);

    // Set the matrix.
    gl.uniformMatrix3fv(matrixLocation, false, matrix);

    // Draw the geometry.
    gl.drawArrays(gl.TRIANGLES, 0, 6);

    requestAnimationFrame(drawScene);
  }
  drawScene();
}

function make2DProjection(width, height) {
  // Note: This matrix flips the Y axis so 0 is at the top.
  return [
    2 / width, 0, 0,
    0, -2 / height, 0,
    -1, 1, 1
  ];
}

function makeTranslation(tx, ty) {
  return [
    1, 0, 0,
    0, 1, 0,
    tx, ty, 1
  ];
}

function makeRotation(angleInRadians) {
  var c = Math.cos(angleInRadians);
  var s = Math.sin(angleInRadians);
  return [
    c,-s, 0,
    s, c, 0,
    0, 0, 1
  ];
}

function makeScale(sx, sy) {
  return [
    sx, 0, 0,
    0, sy, 0,
    0, 0, 1
  ];
}

function matrixMultiply(a, b) {
  var a00 = a[0*3+0];
  var a01 = a[0*3+1];
  var a02 = a[0*3+2];
  var a10 = a[1*3+0];
  var a11 = a[1*3+1];
  var a12 = a[1*3+2];
  var a20 = a[2*3+0];
  var a21 = a[2*3+1];
  var a22 = a[2*3+2];
  var b00 = b[0*3+0];
  var b01 = b[0*3+1];
  var b02 = b[0*3+2];
  var b10 = b[1*3+0];
  var b11 = b[1*3+1];
  var b12 = b[1*3+2];
  var b20 = b[2*3+0];
  var b21 = b[2*3+1];
  var b22 = b[2*3+2];
  return [a00 * b00 + a01 * b10 + a02 * b20,
          a00 * b01 + a01 * b11 + a02 * b21,
          a00 * b02 + a01 * b12 + a02 * b22,
          a10 * b00 + a11 * b10 + a12 * b20,
          a10 * b01 + a11 * b11 + a12 * b21,
          a10 * b02 + a11 * b12 + a12 * b22,
          a20 * b00 + a21 * b10 + a22 * b20,
          a20 * b01 + a21 * b11 + a22 * b21,
          a20 * b02 + a21 * b12 + a22 * b22];
}

// Fill the buffer with the values that make a rect.
function setGeometry(gl) {
  gl.bufferData(
      gl.ARRAY_BUFFER,
      new Float32Array([
           10,  30,
          130,  30,
           10, 150,
           10, 150,
          130,  30,
          130, 150]),
      gl.STATIC_DRAW);
}
main();
```

```
canvas {
    border: 1px solid black;
}
```

```
<script src="https://twgljs.org/dist/3.x/twgl.min.js"></script>
<!-- vertex shader -->
<script id="2d-vertex-shader" type="x-shader/x-vertex">
attribute vec2 a_position;

uniform mat3 u_matrix;

void main() {
  // Multiply the position by the matrix.
  gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);
}
</script>
<!-- fragment shader -->
<script id="2d-fragment-shader" type="x-shader/x-fragment">
precision mediump float;

uniform vec4 u_color;

void main() {
   gl_FragColor = u_color;
}
</script>
<canvas id="canvas" width="400" height="300"></canvas>
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T05:45:11.933

基本上要围绕您需要平移（并在需要时旋转）它的向量旋转对象，以使该向量将出现在中间，因此您的对象将定位在向量局部坐标系中。然后你应用旋转，然后将对象放回原来的位置。[这](http://code.google.com/p/glmatrix/wiki/Usage)是好帮手库。

# c++ - 主要使用 fstream 和数组读取、操作和写入 C++ 文档

> ID：13263315
> 
> 赞同：0
> 
> 时间：2012-11-07T04:53:47.653
> 
> 标签：c++, edit, fstream

是否有关于阅读、操作编写 C++ 文件流的易于理解和客观的指南？在这一点上，任何事情都会有所帮助。

难道没有一个简单、直接的模型可以用来读/写/操作一个由字符串、整数、双精度数、字符和布尔值组成的 txt 文档中的项目列表吗？

我可以加载文件，读取所有内容并将其转储到结构化数组（或内存），然后操作结构数组（排序、列出、编辑等），然后将其全部转储回文件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:10:34.140

读取文件：

```
std::ifstream file("file.txt");
std::string line;
while(std::getline(file, line)) {
    std::cout << line << std::endl;
} 
```

因此，当您从文件中有一行时，您可以将其拆分并按照您想要的方式解析它。也许将字符串（行）放入字符串流并解析整数：

```
std::stringstream ss(line);
ss >> num1 >> num2 >> num3; 
```

写入文件：

```
int num1 = 1;
int num2 = 2;
int num3 = 3;
std::ofstream file("file.txt");
file << num1 << " " << num2 << " " << num3 << std::endl; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:33:11.623

如果你的文件被格式化了怎么办？根据格式，您将不得不以不同的方式阅读它。例如，如果您有一个格式如下的文件

```
John 18
Kelly 19 
```

你可以有一个大致像这样的代码来阅读它

```
struct Person{
  string name;
  int age;
}

//create a read operator for Person class
ostream& operator>>(ostream& stream, Person& p){
   return stream >> p.name >> p.age;
}

bool mySortFunc(const Person& p1, const Person& p2){
  return p1.name < p2.name; //sort by name
}

int main(){
  ofstream file('names.txt');
  std::vector<Person> people;
  Person aPerson;
  while( file >> aPerson ){ 
    people.push_back(aPerson);
  }

 //now you have a list of person
 std::sort(people.begin(),people.end(), mySortFunc);

 //do more stuff 
} 
```

以上内容均未编译，只是为了给您一个想法。希望能帮助到你..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:38:41.520

```
 // FileManipulation.cpp : Defines the entry point for the console application.
//

#include "stdafx.h"
#include "FileInterface.hpp"
class FileInterface;
int _tmain(int argc, _TCHAR* argv[])
{
    string         inputfile("D:\\input.txt"),outputfile("D:\\output.txt"),emp_name("sukumar"),emp_dept("seclore");
int emp_id(100),n=6;
ifstream infile1(inputfile.c_str());
double emp_sal(9342342.343);
try
{
    FileInterface fintface(inputfile,outputfile);
    if(!infile1.good())
    {cout<<"file does not exist"<<endl;
        while(n--)
        {
            cout<<"enter name"<<endl;fflush(stdin);
            getline(cin,emp_name);
            cout<<"enter dept"<<endl;fflush(stdin);
            getline(cin,emp_dept);
            cout<<"enter emp_id"<<endl;fflush(stdin);
            cin>>emp_id;
            cout<<"enter emp_sal"<<endl;fflush(stdin);
            cin>>emp_sal;
            fintface.write(emp_name,emp_dept,emp_id,emp_sal);
        }
    }
    else
    {
        cout<<"file closed"<<endl;
    }
    fintface.empid_grt(102);
    fintface.empid_less(102);
    fintface.salary_grt(double(2000));
    fintface.salary_less(double(2000));
    fintface.emp_dep("seclore");
    fintface.print_emp("sukumar");
    fintface.print_emp(104);
}
catch(char * s)
{
    cout<<s<<endl;
}
fflush(stdin);
cin.get();
return 0; 
```

}

```
#ifndef FILE_INTERFACE_HPP
#define FILE_INTERFACE_HPP
#include<iostream>
#include<fstream>
#include<iomanip>
#include<string>
using namespace std;
class FileInterface
{
string inputf;
string outputf;
ifstream infile;
ofstream outfile;
bool empid_cmpare(int emp_id,bool greater);
bool salary_cmp(double salary,bool greater);
public:
FileInterface(string inputfile,string outputfile);
~FileInterface();
bool write(string emp_name,string dept,int emp_id,double salary);
bool empid_grt(int emp_id) ;
bool empid_less(int emp_id);
bool salary_grt(double salary);
bool salary_less(double salary);
bool emp_dep(string dept);
bool print_emp(int emp_id);
bool print_emp(string emp_name);
};
#endif //FILE_INTERFACE_HPP

#include "FileInterface.hpp"
#include <windows.h>
FileInterface::FileInterface(string inputfile,string outputfile)
{
inputf=inputfile;
outputf=outputfile;
infile.open(inputf.c_str(),ifstream::in|ifstream::out|ifstream::app);
if(infile.good())
{
    infile.close();
}
outfile.open(outputf.c_str(),ofstream::in|ofstream::out|ofstream::app);
if(outfile.good())
{
    outfile.close();
    if(remove((char*)outputf.c_str())!=0)
    cout<<"error in deleting output file"<<endl;
}
}
FileInterface::~FileInterface()
{
}
bool FileInterface::write(string emp_name,string dept,int emp_id,double salary)
{
outfile.open(inputf.c_str(),ofstream::in|ofstream::out|ofstream::app);
if(outfile.fail())
{
    cout<<"Error opening FILE in write"<<endl;
    throw "Error in file";
}
else
{
    outfile<<fixed<<showpoint;
    outfile<<left;
    outfile<<setw(20)<<emp_name;
    outfile<<right;
    outfile<<setw(20)<<dept;
    outfile<<setw(10)<<emp_id;
    outfile<<setw(20)<<setprecision(2)<<salary<<endl;
    outfile.close();
}
return true;
}
bool FileInterface::empid_cmpare(int emp_id,bool greater)
{
string emp_name,emp_dept;
int id;
double sal;
fstream infile;
if(infile.is_open())
    infile.close();
infile.open(inputf.c_str(),ifstream::in);
if(infile.fail())
{
    cout<<"Error opening inFILE in empid_cmpare"<<endl;
    throw "Error in file";
}
outfile.open(outputf.c_str(),ofstream::in|ofstream::out|ofstream::app);
if(outfile.fail())
{
    cout<<"Error opening outFILE in empid_cmpare"<<endl;
    throw "Error in file";
}
outfile<<fixed<<showpoint;
while(!infile.eof())
{
    infile>>emp_name;
    infile>>emp_dept;
    infile>>id;
    infile>>sal;
    if(greater&&(id>=emp_id))
    {
        outfile<<left;
        outfile<<setw(20)<<emp_name;
        outfile<<right;
        outfile<<setw(20)<<emp_dept;
        outfile<<setw(10)<<id;
        outfile<<setw(20)<<sal<<endl;
    }
    else if(!greater&&id<emp_id)
    {
        outfile<<left;
        outfile<<setw(20)<<emp_name;
        outfile<<right;
        outfile<<setw(20)<<emp_dept;
        outfile<<setw(10)<<id;
        outfile<<setw(20)<<sal<<endl;
    }
}
infile.close();
if(infile.is_open())
    cout<<"file still open"<<endl;
outfile.close();
if(outfile.is_open())
    cout<<"file still open"<<endl;
return true;
}
bool FileInterface::empid_grt(int emp_id) 
{
return empid_cmpare(emp_id,true);
}
bool FileInterface::empid_less(int emp_id)
{
return empid_cmpare(emp_id,false);
}
bool FileInterface::salary_cmp(double salary,bool greater)
{
string emp_name,emp_dept;
int id;
double sal;
fstream infile;
infile.open(inputf.c_str(),ifstream::in);
if(infile.fail())
{
    cout<<"Error opening inFILE in salary_cmp"<<endl;
    throw "Error in file";
}
outfile.open(outputf.c_str(),ofstream::in|ofstream::out|ofstream::app);
if(outfile.fail())
{
    cout<<"Error opening outFILE in salary_cmp"<<endl;
    throw "Error in file";
}
outfile<<fixed<<showpoint;
while(!infile.eof())
{
    infile>>emp_name;
    infile>>emp_dept;
    infile>>id;
    infile>>sal;
    if(greater&&(sal>=salary))
    {
        outfile<<left;
        outfile<<setw(20)<<emp_name;
        outfile<<right;
        outfile<<setw(20)<<emp_dept;
        outfile<<setw(10)<<id;
        outfile<<setw(20)<<sal<<endl;
    }
    else if(sal<salary)
    {
        outfile<<left;
        outfile<<setw(20)<<emp_name;
        outfile<<right;
        outfile<<setw(20)<<emp_dept;
        outfile<<setw(10)<<id;
        outfile<<setw(20)<<sal<<endl;
    }
}
infile.close();
outfile.close();
return true;
}

bool FileInterface::salary_grt(double salary)
{
return salary_cmp(salary,true);
}
bool FileInterface::salary_less(double salary)
{
return salary_cmp(salary,false);
}
bool FileInterface::emp_dep(string dept)
{
string emp_name,emp_dept;
int id;
double sal;
fstream infile;
infile.open(inputf.c_str(),ifstream::in);
if(infile.fail())
{
    cout<<"Error opening inFILE in emp_dep"<<endl;
    throw "Error in file";
}
outfile.open(outputf.c_str(),ofstream::in|ofstream::out|ofstream::app);
if(outfile.fail())
{
    cout<<"Error opening outFILE in emp_dep"<<endl;
    throw "Error in file";
}
outfile<<fixed<<showpoint;
while(!infile.eof())
{
    infile>>emp_name;
    infile>>emp_dept;
    infile>>id;
    infile>>sal;
    if(emp_dept.compare(dept)==0)
    {
        outfile<<left;
        outfile<<setw(20)<<emp_name;
        outfile<<right;
        outfile<<setw(20)<<emp_dept;
        outfile<<setw(10)<<id;
        outfile<<setw(20)<<sal<<endl;
    }
}
infile.close();
outfile.close();
return true;
}
bool FileInterface::print_emp(int emp_id)
{
string emp_name,emp_dept;
int id;
double sal;
fstream infile;
infile.open(inputf.c_str(),ifstream::in);
if(infile.fail())
{
    cout<<"Error opening inFILE in print_emp"<<endl;
    throw "Error in file";
}
while(!infile.eof())
{
    infile>>emp_name;
    infile>>emp_dept;
    infile>>id;
    infile>>sal;
    if(id==emp_id)
    {
        cout<<"EMP_NAME : "<<emp_name<<endl;
        cout<<"EMP_DEPT : "<<emp_dept<<endl;
        cout<<"ID : "<<id<<endl;
        cout<<"SAL : "<<sal<<endl;
        break;
    }
}
infile.close();
return true;
}
bool FileInterface::print_emp(string name)
{
string emp_name,emp_dept;
int id;
double sal;
fstream infile;
infile.open(inputf.c_str(),ifstream::in);
if(infile.fail())
{
    cout<<"Error opening inFILE in print_emp1"<<endl;
    throw "Error in file";
}
while(!infile.eof())
{
    infile>>emp_name;
    infile>>emp_dept;
    infile>>id;
    infile>>sal;
    if(emp_name.compare(name)==0)
    {
        cout<<"EMP_NAME : "<<emp_name<<endl;
        cout<<"EMP_DEPT : "<<emp_dept<<endl;
        cout<<"ID : "<<id<<endl;
        cout<<"SAL : "<<sal<<endl;
    }
}
infile.close();
return true;
} 
```

# magento-1.7 - 行中属性集列的值无效（集不存在？）：

> ID：13263316
> 
> 赞同：2
> 
> 时间：2012-11-07T04:54:01.723
> 
> 标签：magento-1.7

我正在进口产品。当我尝试导入时，我收到很多错误。

我已经修复了所有内容，并且文件对导入有效。

提交导入按钮后，显示以下错误：

> 属性集列的值无效（集不存在？）在行中：11、18、19、24、25、26

我试过谷歌搜索此错误消息无济于事。

当我现在使用默认值时，我需要在 attribute_set 中设置什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T20:33:17.833

今天我在完成导入过程时遇到了同样的问题。为我解决的问题是将“attribute_set”列重命名为“_attribute_set”。当我从现有产品集中导出 CSV 并查看导出的文件以了解它与我的新 CSV 之间的任何差异时，我注意到了差异。

# asp.net-mvc - MVC4 动态更改主布局页面在首次加载时不起作用

> ID：13263318
> 
> 赞同：0
> 
> 时间：2012-11-07T04:54:05.590
> 
> 标签：asp.net-mvc, jquery-mobile, asp.net-mvc-4

我有一个 MVC4 移动项目，我想为某些用户添加一个桌面（非移动）页面。

我添加了一个新的桌面母版页并分配了我的视图来使用它。

我第一次导航到它使用 jquerymobile 呈现的页面时，它似乎以某种方式从前一个屏幕缓存。

如果我点击页面`F5`，`refresh`它会正确使用分配的桌面母版页显示。

谁能告诉我如何解决这个问题？任何见解表示赞赏

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T22:56:15.367

我仍然不确定造成这种情况的原因，但找到了解决方法。

而不是像这样创建链接到下一个屏幕的按钮：

```
 <a href="@Url.Action("ReviewTeamOrders", "Team")" data-theme="b" data-role="button">View Pots Orders</a> 
```

我将其更改为：

```
<a href="#" onclick="window.location.href='@Url.Action("ReviewTeamOrders", "Team")'" data-theme="b" data-role="button" >View Pots Orders</a> 
```

似乎可以解决问题！

# python - 读取文件时出现“while”循环和“for”循环的问题

> ID：13263321
> 
> 赞同：0
> 
> 时间：2012-11-07T04:54:14.097
> 
> 标签：python, python-idle

我浪费了很多时间试图找出问题，但没有运气。试过问我学校的助教，但他没用。我是初学者，我知道其中有很多错误，所以如果我能得到一些详细的解释，那就太好了。无论如何，基本上我想用以下功能做的是：

*   使用 while 循环检查 random_string 是否在 TEXT 中，如果不是则返回 NoneType
*   如果是，则使用 for 循环从该 TEXT 中读取行并将其放入列表 l1 中。
*   然后，编写一个 if 语句来查看 random_string 是否在 l1 中。
*   如果是，则进行一些计算。
*   否则阅读下一行
*   最后，将计算作为一个整体返回。

* * *

```
TEXT = open('randomfile.txt')

def random (TEXT, random_string):
    while random_string in TEXT:
        for lines in TEXT:
            l1=TEXT.readline().rsplit()
            if random_string in l1:
                '''
                    do some calculations
                '''
            else:
                TEXT.readline() #read next line???
        return #calculations
    return None 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:06:02.473

也许？：

```
def my_func(ccy):
    with open('randomfile.txt', 'r') as f:
        l1 = [float(line.split()[-1]) for line in f.readlines() if ccy in line]
        if l1:
            return sum(l1) / len(l1)
        else:
            return None 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:14:29.250

假设计算是线的函数，则：

```
def my_func(fileobj,random_string,calculation_func):
    return [calculation_func(line) for line in fileobj if random_string in line] or None 
```

否则，您可以这样做：

```
def my_func(fileobj,random_string):
    calculated = []
    for line in fileobj:
        if random_string in line:
            #do calculations, append to calculated
    return calculated or None 
```

我省略了 while 循环，因为它会不必要地增加函数的复杂性。 `fileobj`假定一个类似文件的对象，例如缓冲区或类似的对象返回`open`。

**使用 while 循环**编辑：****

 **```
def my_func(fileobj,random_string):
    calculated = []
    try:
        while True: #remnant from competitive programming - makes it faster
            line = fileobj.readline()
            if random_string in line:
                #do calculations, append to calculated
    except EOFError:  #catches the error thrown when calling readline after file is empty.
        return calculated or None 
```

**编辑2** 考虑到OP的新信息

```
def my_func(fileobj,random_string):
    total = 0
    number = 0
    try:
        while True:
            line = fileobj.readline()
            if random_string in line:
                total += float(line.split()[1])
                number += 1
    if total == number == 0:
        return 0 #or whatever default value if random_string isn't in the file
    return total/number 
```

较短的版本：

```
def my_func(fileobj,random_string):
    results = [float(line.split()[1]) for line in fileobj if random_string in line]
    return sum(results)/len(results) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T07:33:18.880

如果我能澄清您的要求：

*   使用 while 循环检查是否`random_string`在文件中，如果没有则返回`None`。
*   收集`random_string`列表中的行。
*   对收集的行进行一些计算并返回计算结果。

那么以下内容应该可以帮助您入门：

```
calculation_lines = []
random_string = 'needle'

with open('somefile.txt') as the_file:
   for line in the_file:
       if random_string in line:
           calculation_lines.append(line)

if not calculation_lines:
   return None # no lines matched

for i in calculation_lines:
    # do some calculations
    result_of_calculations = 42

return result_of_calculations 
```**

# php - 哪个是使用 php 创建矢量图像的最佳选择？

> ID：13263323
> 
> 赞同：1
> 
> 时间：2012-11-07T04:54:18.383
> 
> 标签：php, gd, vector-graphics, imagick

我打算为一家公司做一个在线贴纸设计网站。用户可以登录该网站并输入贴纸的文字，然后更改字体、颜色、阴影、轮廓颜色。

我正在使用 PHP 的 GD 库来创建图像。我还使用 php 的 Imagick 插件将一些文本扭曲应用于图像。

但我面临的问题是用这种方法创建的图像是低质量的图像。

**我想制作这样的网站：- [http://www.speedysigns.com/tool/lt/index/index/product_id/31990/](http://www.speedysigns.com/tool/lt/index/index/product_id/31990/)**

我认为由此创建的图像是矢量图像。

我尝试使用**Imagick**创建矢量图像。但我找不到更好的教程来使用 Imagick 创建矢量图像。

那么您能否建议我可以使用哪个库来创建如此高质量的图像。否则建议使用 Imagick 创建矢量图像的好教程。

谢谢朋友。通过 苏克什 BR

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:47:16.333

[开罗](http://php.net/manual/en/book.cairo.php)做你感兴趣的事情，还有更多。

> Cairo 图形库对图形采用矢量方法，允许更小的尺寸、无限缩放以及移动、缩放和旋转而不会降低图像质量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-27T12:32:01.323

实际上，您共享的链接不适用于矢量图像。所有矢量图像。但是如果您想使用矢量图像，则必须使用[Inkscape.org](http://inkscape.org)

# javascript - 在 div 周围对齐/环绕图像

> ID：13263325
> 
> 赞同：1
> 
> 时间：2012-11-07T04:54:26.640
> 
> 标签：javascript, jquery, css, alignment

我想要实现的是一个页面，其中一个 div 位于屏幕中间（720x360）。这是使用 jQuery 完成的，使用：

```
$(window).height() 
```

和：

```
$(window).width() 
```

完美的工作。

下一部分是获取 180x180 的图像以适应该中间 div。这些将填满屏幕+超越。

我被困在如何让这些以这种方式对齐，我找不到任何人做同样事情的活生生的例子。

那么，这甚至可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T09:00:13.940

```
<style type="text/css">

#main {
    display: block;
    margin:0 auto; /* This is make div into center of screen*/
    width: 720px;
    height: 360px;
    background: #ccc; /* Just for visibility */
    position: relative; /* As we want to make other div into center of this */
}

#content {
    display: block;
    width: 180px;
    height: 180px;
    position: absolute;
    left: 36.36%; /* You can calculate using math */
    /*
        Total Width - Width
        So you will get end point now minus half
        Width / 2 = 90
        Then 720 - 180 = 540
        And now your box will point to end but you need to divide
        half of width again 90/2 = 45
        Result is : 
        180/2/2 = 45
        720-180-45 = 495
        180/495*100 = 36.36
        So this is your width position.
    * */
    top: 25%;
    /*
    Same for height but as you can see it's 25% of your value and very easy
    * */
    background: red;
}

    </style>
    <div id="main">
   <div id="content"></div>
    </div> 
```

# android - 从我的 android 应用程序中以编程方式使用 DHCP 设置 IP 地址？

> ID：13263329
> 
> 赞同：0
> 
> 时间：2012-11-07T04:54:56.200
> 
> 标签：android, proxy, ip, dhcp

我正在开发一个基于代理的应用程序，我需要在其中编辑 Android 手机中的 IP 设置。我从以[编程方式获取网关和子网掩码详细信息中获得了参考](https://stackoverflow.com/questions/5387036/how-to-get-gateway-and-subnet-mask-details-in-android-programmatically)

对于获取 DHCP 信息，此链接很有用。我可以为安卓手机本身设置一个特定的 IP 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-20T08:50:03.403

所以你要主动更改IP地址？如果 DHCP 已激活并且自 Android 3.X 起不再容易实现，则这是不可能的。

可能的重复：

[如何在 Android 3.x 或 4.x 上以编程方式配置静态 IP 地址、网络掩码、网关](https://stackoverflow.com/questions/10278461/how-to-configue-a-static-ip-address-netmask-gateway-programmatically-on-androi)

[以编程方式设置 Android IP、DNS、GATEWAY 设置](https://stackoverflow.com/questions/4106502/set-android-ip-dns-gateway-setting-programatically)

# html - HTMLAgilityPack 获取 和文字

> ID：13263331
> 
> 赞同：0
> 
> 时间：2012-11-07T04:55:05.270
> 
> 标签：html, vb.net, html-parsing, html-agility-pack

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T04:59:12.013

如果空格确实存在，则将其视为子节点。所以：

```
Dim channelSpan = .SelectSingleNode(".//span[@class='channel']")

info!Channel = channelSpan.ChildNodes(**3**).ChildNodes(0).InnerText
info!Station = channelSpan.ChildNodes(**3**).ChildNodes(2).InnerText
```

# architecture - 这种“贫血”模型是否可以接受设计？

> ID：13263338
> 
> 赞同：1
> 
> 时间：2012-11-07T04:56:33.613
> 
> 标签：architecture, separation-of-concerns, anemic-domain-model

我首先想说的是，我**并不**想在我当前的设计中完成一个领域模型。

话虽如此，我目前正在构建一个如下所示的架构：

```
UI DTO <=> Service DTO <=> Business/Database DTO (using AutoMapper) 
```

我一直在看[Eric Evan 的 DDD 书](https://rads.stackoverflow.com/amzn/click/com/0321125215)，也看过[Greg Young 的 DDD 项目失败的 7 个原因](http://vimeo.com/13824218)，害怕贫血模型。即使我没有规定 DDD，我也不想创建太多层，以致于来回映射非常相似的东西会变得很痛苦。

但是，我进行设置的全部原因有两个。易于更改和晦涩难懂

*   易于更改：如果我的公共对象通过我的服务公开，并且我在内部使用 UI 和业务对象，那么我可以在不破坏现有 API 的情况下更自由地进行更改。但是，如果 DTO 开始偏离，也许我可以使用一个 DTO 并重构？
*   模糊性：我可以公开我的公共对象，但如果它们是内部的，则不能公开我的完整对象及其实现。这将需要是一个安全的产品，所以我正在为此做准备。但是，也许我可以稍后再重构它？

所以，我的问题是：我当前的模型是否有意义，或者我稍后会提出问题？可以因为这些对象主要是 DTO 吗？即使在 Evan 的书中，他也暗示如果计划分布在不同的服务器上，这个模型是可以的吗？那么，仅出于这个原因，我的分层是否可行，因为我计划让 UI、服务和 DB 层能够位于不同的服务器上（由于当前不需要，它们目前还没有）？

我只是想了解过度架构，但同时试图避免架构不足.....那么，这个模型结构对我当前的实现是好还是坏？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:40:48.310

这是我的团队使用 ASP.NET MVC 和 WCF 进行开发的模式，其中您的业务/数据库 dto 映射到实体框架类，您的服务 dto 映射到传入/传出 WCF 服务的 POCO 类/DataContract 和您的UI dto 映射到 MVC 模型。

虽然这似乎是多余的，但很少有每一层的需求适合于堆栈中所有三个 dto 具有相同属性的设计。它们往往不同的一个例子是查找表中的外键。在数据库层，这将由一个int表示，而在服务层，这将更好地建模为一个枚举，以加强类型安全，最后，在ui中，该字段将被转换为本地化显示给用户的字符串。

关于您对过度架构的恐惧，关于保持简单的事情有话要说。促使我使用这种模式的力量是我需要独立于我的 ui 部署我的应用程序层，或者只是我在一个有两个以上开发人员的团队中工作。随着团队的发展，团队成员决定绕过您的业务层并直接针对数据库的可能性会显着增加。在这样做时，它们总是会破坏您现有的任何面向方面编程的目的 - 即东西不会被记录或包装在事务中。添加额外的层并将其移动到单独的服务器创建了一个清晰的关注点分离，更重要的是，强制执行它。一两个人的团队可能有足够的纪律性来避免这种情况，但是，随着你的成长，

希望有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T12:40:19.410

> 我首先想说我不是在尝试完成一个领域模型

...

> 并且害怕贫血模型

这两个对我来说似乎有点矛盾。

> 即使我没有规定 DDD，我也不想创建太多层，以致于来回映射非常相似的东西会变得很痛苦。

DDD 中建议的贫血或富域模型的概念不假设您拥有的层数、这些层使用的数据结构以及这些数据结构如何从一层转换和传递到另一层。

丰富的领域模型仅意味着您的业务层包含除数据之外封装*行为的领域对象。*您可以完美地拥有一个丰富的内部域模型，并且只将公共服务作为其行为的门面公开，并且如果您愿意，可以在下面有十亿层，每个层都操纵自己的 DTO。

> 所以，我的问题是：我当前的模型是否有意义，或者我稍后会提出问题？[...] 我只是想了解过度架构，但同时试图避免架构不足..

您的模型看起来根本没有过度架构。它仅反映分层应用程序中的自然层。就像 Doug 说的那样，DTO 在每一层都有点不同是很正常的，因为它们的目的不同。

# android - 来自 Android JNI 中任何线程的 FindClass

> ID：13263340
> 
> 赞同：47
> 
> 时间：2012-11-07T04:56:51.377
> 
> 标签：android, c++, java-native-interface

Android 的 JNI 提示页面提到了这个[常见问题解答：为什么 FindClass 没有找到我的课程？](http://developer.android.com/guide/practices/jni.html#faq_FindClass) 他们提到了多种解决方案，最后一个选择是这个：

> 在方便的地方缓存对 ClassLoader 对象的引用，并直接发出 loadClass 调用。这需要一些努力。

所以，我试图让它工作，似乎无论如何，这种方法对我来说根本不起作用。最终，我想出了如何使用 ClassLoader 但如果我从本机线程尝试加载尚未触摸/加载的类，它将无法工作。本质上，它在从本机线程调用时的行为与 env->FindClass 相同，但它不会为已在应用程序中使用的类返回 0。任何想法，如果我没有做对，或者不可能从尚未使用/加载的本机线程访问类。

**编辑：**我会提供更多信息来解释我的意思。有常规的 JNI `env->FindClass(className)`，以及我编写的另一个`myFindClass(env, className)`使用缓存的 JNI `ClassLoader->loadClass`。

我试图从本机 c/c++ 访问的类是“com/noname/TestClient”。在 myFindClass 中，我还使用 env->FindClass 并记录它返回的值：

```
jclass myFindClass(JNIEnv * env, const char* name)
{
    ...
    jclass c0 = env->FindClass(name);
    jclass c1 = (jclass)env->CallObjectMethod(ClassLoader,
        MID_loadClass, envNewStringUTF(name));
    dlog("myFindClass(\"%s\") => c0:%p, c1:%p, c0 and c1 are same: %d",
        name, c0, c1, env->IsSameObject(c0, c1));
    ...
} 
```

然后，我有这 3 个组合来解释这个问题。

**1)**

```
//inside JNI_OnLoad thread
myFindClass(env, "com/noname/TestClient");
...

//inside native thread created by pthread_create
myFindClass(env, "com/noname/TestClient"); 
```

我得到这个logcat：

> myFindClass("com/noname/TestClent") => c0:0x41b64558, c1:0x41b64558, c0 和 c1 相同：1
> ...
> myFindClass("com/noname/TestClent") => c0:0, c1:0x41b64558, c0 和 c1 相同：0

**2)**

```
//inside JNI_OnLoad thread
env->FindClass("com/noname/TestClient");
...

//inside native thread created by pthread_create
myFindClass("com/noname/TestClient"); 
```

我得到这个logcat：

> myFindClass("com/noname/TestClent") => c0:0, c1:0x41b64558, c0 和 c1 相同：0

**3)**

```
//inside JNI_OnLoad thread
//"com/noname/TestClient" isn't touched from JNI_OnLoad.
...

//inside native thread created by pthread_create
myFindClass(env, "com/noname/TestClient"); 
```

我得到这个logcat：

> myFindClass("com/noname/TestClent") => c0:0, c1:0, c0 和 c1 相同：1

基本上，我的问题是 ClassLoader 在第三种情况下找不到我的班级。它是一个错误吗？可以做些什么来解决这个问题？

**EDIT2：** 最重要的是，似乎 ClassLoader::loadClass 显然是错误的。如果我问 myFindClass("noname/TestClent") 那么它会返回一些垃圾，当我以任何方式使用返回的 jclass 时，应用程序就会崩溃。

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2013-04-30T14:47:42.143

在我的应用程序多次尝试和崩溃之后，我和一位同事设法缓存并成功地在另一个本机线程中使用类加载器。我们使用的代码如下所示（C++11，但很容易转换为 C++2003），发布在这里，因为我们找不到上述“在方便的地方缓存对 ClassLoader 对象的引用，并发出 loadClass直接调用。这需要一些努力。”。当从与 JNI_OnLoad 线程不同的线程调用时，调用 findClass 可以完美运行。我希望这有帮助。

```
JavaVM* gJvm = nullptr;
static jobject gClassLoader;
static jmethodID gFindClassMethod;

JNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *pjvm, void *reserved) {
    gJvm = pjvm;  // cache the JavaVM pointer
    auto env = getEnv();
    //replace with one of your classes in the line below
    auto randomClass = env->FindClass("com/example/RandomClass");
    jclass classClass = env->GetObjectClass(randomClass);
    auto classLoaderClass = env->FindClass("java/lang/ClassLoader");
    auto getClassLoaderMethod = env->GetMethodID(classClass, "getClassLoader",
                                             "()Ljava/lang/ClassLoader;");
    gClassLoader = env->CallObjectMethod(randomClass, getClassLoaderMethod);
    gFindClassMethod = env->GetMethodID(classLoaderClass, "findClass",
                                    "(Ljava/lang/String;)Ljava/lang/Class;");

    return JNI_VERSION_1_6;
}

jclass findClass(const char* name) {
    return static_cast<jclass>(getEnv()->CallObjectMethod(gClassLoader, gFindClassMethod, getEnv()->NewStringUTF(name)));
}

JNIEnv* getEnv() {
    JNIEnv *env;
    int status = gJvm->GetEnv((void**)&env, JNI_VERSION_1_6);
    if(status < 0) {    
        status = gJvm->AttachCurrentThread(&env, NULL);
        if(status < 0) {        
            return nullptr;
        }
    }
    return env;
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-07T06:20:42.090

首先尝试将您的本机线程附加到 JVM。

指向 jvm 的指针，您可以在其中获得第一件事`JNI_OnLoad`

```
env->GetJavaVM(&jvm); 
```

然后从您的本机线程

```
JNIEnv *env;
jvm->AttachCurrentThread((void **)&env, NULL); 
```

然后将其`env`用于`FindClass`

# jquery - 如何制作具有悬停和主动效果的库存系统

> ID：13263342
> 
> 赞同：0
> 
> 时间：2012-11-07T04:57:02.533
> 
> 标签：jquery, drag-and-drop, inventory

我正在制作库存系统，但找不到制作结构的最佳方法。我正在使用 JQuery .draggable 和 .droppable ，我的 html 是这样的：

```
<div id="inventory">
  <div class="slot" data-slot_id="1">
      <div class="item ui-draggable" data-item_id="1"></div>
  </div>
  <div class="slot" data-slot_id="2"></div>
  <div class="slot" data-slot_id="3"></div>
</div> 
```

我的库存有一个背景图像，当可拖动项目悬停在插槽上时，它会突出我的问题是，因为可拖动项目在 div 内，所以在它所在的 div 之后的 div 出现在可拖动项目的顶部。如果不覆盖可拖动项目，我不知道如何使用突出显示。

最后一件事是插槽在容器中浮动到左侧，因为库存容器可以更改大小，我需要插槽自动重新订购并适合库存。任何建议都会非常感谢！

泰国蝎子

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T16:49:35.207

Okey 刚刚找到了解决方案，很简单，呵呵，我责怪深夜：在开始 Drag 事件时，使父项具有更高的索引，因此它的子项保持在其余项之上，然后在 drop 事件中将其恢复正常，效果很好： D

# php - 如何从 Magento 1.7 REST API 获取访问令牌和访问令牌秘密

> ID：13263343
> 
> 赞同：16
> 
> 时间：2012-11-07T04:57:09.953
> 
> 标签：php, api, magento, rest, magento-1.7

我已经在我的 magento 管理员上注册了我的应用程序。

已经获得了消费者密钥和消费者秘密。

但我没有运气获得访问令牌和访问令牌的秘密。

它说

> oauth_problem=parameter_absent&oauth_parameters_absent=oauth_consumer_key

![简单的 REST API](../Images/680365772c3e4a79c99491afdf55b4ab.png)

我正在根据此链接进行测试

[http://www.magentocommerce.com/api/rest/testing_rest_resources.html](http://www.magentocommerce.com/api/rest/testing_rest_resources.html)

我需要知道的答案是

1.  我必须在标题和数据文本字段中填写什么？
2.  如何获取访问令牌和访问秘密令牌（在 Mozilla 上）？
3.  是否有逐步测试任何 REST API 的教程？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-20T04:03:43.503

**0) 将[https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo](https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo)安装到您的 chrome**

**1) 使用命令获取 oAuth 客户端工具：**

```
sudo gem install oauth 
```

**2) 设置 Magento 服务器**

**3) 获取 oAuth 令牌**

```
oauth \
  --verbose \
   --query-string \
   --consumer-key v484mnii2jyswedm6uo2cfcjay7uy49snws \
   --consumer-secret koay6845che7giy5lr17gnrhckkbhf8h5 \
   --access-token-url http://www.yourstore.com/magento/oauth/token \
   --authorize-url http://www.yourstore.com/magento/oauth/authorize \
   --request-token-url http://www.yourstore.com/magento/oauth/initiate \
   authorize 
```

回应 ：

```
Server appears to support OAuth 1.0a; enabling support.
Please visit this url to authorize:
http://www.yourstore.com/magento/oauth/authorize?oauth_token=ey6fokp0pbzwr1016eb528y5xw1ak5ji

Please enter the verification code provided by the SP (oauth_verifier):
YOUR_CODE_HERE

Response:
  oauth_token_secret: g9kyz8c7zv868d58eav1muih3gxvq763
  oauth_token: aqvlfv9tuexn0mqiydgkaff4ixxg8743c 
```

**4) 进行 API 调用**

```
oauth \
    --consumer-key v484mnii2jyswedm6uo2cfcjay7uy49snws \
    --consumer-secret koay6845che7giy5lr17gnrhckkbhf8h5 \ 
    --token aqvlfv9tuexn0mqiydgkaff4ixxg8743c \
    --secret g9kyz8c7zv868d58eav1muih3gxvq763 \ 
    --uri http://www.yourstore.com/magento/api/rest/products \
    debug 
```

尝试`http://www.yourstore.com/magento/api/rest/products`

* * *

**找到它的解决方案**

> [http://www.aschroder.com/2012/04/introduction-to-the-magento-rest-apis-with-oauth-in-version-1-7/](http://www.aschroder.com/2012/04/introduction-to-the-magento-rest-apis-with-oauth-in-version-1-7/)

为 php

> [https://gist.github.com/2469319](https://gist.github.com/2469319)

# python - 递归中的 Trie 回溯

> ID：13263346
> 
> 赞同：0
> 
> 时间：2012-11-07T04:57:57.267
> 
> 标签：python, spell-checking, trie

我正在为带有建议的拼写检查器构建一棵树。每个节点都包含一个键（一个字母）和一个值（沿着该路径的字母数组）。

所以假设我的大特里有以下子特里：

```
 W
               / \
              a   e
              |   |
              k   k
              |   |
   is word--> e   e
                  |
                 ... 
```

*这只是子树的子路径。W 是一个节点，a 和 e 是其值数组中的两个节点，等等......*

在每个节点，我检查单词中的下一个字母是否是节点的值。我现在正在尝试支持错误输入的元音。所以 'weke' 将产生 'wake' 作为建议。这是我`searchWord`在尝试中的功能：

```
def searchWord(self, word, path=""):

    if len(word) > 0:
        key = word[0]
        word = word[1:]

        if self.values.has_key(key):
            path = path + key
            nextNode = self.values[key]
            return nextNode.searchWord(word, path)

        else:
             # check here if key is a vowel. If it is, check for other vowel substitutes

    else:
        if self.isWord:
            return path # this is the word found
        else:
            return None 
```

给定“weke”，最后当单词长度为零且路径为“weke”时，我的代码将命中第二个大 else 块。`weke`未标记为单词，因此它将返回 None。这将返回`searchWord`无。

为了避免这种情况，在每次堆栈展开或递归回溯时，我需要检查一个字母是否是元音，如果是，请再次检查。

我将`if self.values.has_key(key)`循环更改为以下内容：

```
 if self.values.has_key(key):
    path = path + key
    nextNode = self.values[key]
    ret = nextNode.searchWord(word, path)

    if ret == None:
        # check if key == vowel and replace path
        # return nextNode.searchWord(...

    return ret 
```

我在这里做错了什么？当回溯以实现我想要做的事情时，我能做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:11:08.417

递归搜索。跟踪当前索引和原始单词。

```
letters = [chr(i) for i in range(97,97+26)]
print letters
max = 300

def searchWord(orig,word, curindex,counter):
    if counter>max: return

    if counter==0:
        s = letters[0] + word[1:]            
        searchWord(orig,s,0,counter+1)
    else:
        c = word[curindex]

        print 'checking ',word,curindex
        s = word
        i = letters.index(c)

        if i==len(letters)-1 and curindex==len(orig)-1:
            print 'done'
            return

        if i==len(letters)-1: 
            print 'end of letters reached'
            print 'curindex',curindex
            s = list(word)
            s[curindex] = list(orig)[curindex]
            s[curindex+1] = letters[0]
            s[1] = letters[0]
            s = ''.join(s)
            searchWord(orig,s,curindex+1,counter+1)

        else:
            s = list(word)
            try:
                s[curindex] = letters[i+1]
            except:
                print '?? ',s,curindex,letters[i]

            s = ''.join(s)
            searchWord(orig,s ,curindex,counter+1)

searchWord("weke","weke",0,0) 
```

* * *

我不确定递归和树搜索是否是正确的方法。如果你的记忆中有一个单词表，loopkup 会非常快。只有当搜索空间很大时，才不得不拆分问题。所以更好的算法可能只是这样的：

```
corpus_words = {'wake',....} # this is in memory
allowed = word in corpus_words # perhaps improve this with adjusted binary search 
```

一个典型的[语料库](http://en.wikipedia.org/wiki/Text_corpus%20corpus)有 5-30 百万字，不到 1 GB。查找将非常快，因为您可以进行二进制搜索，在平均情况下为 O(log n)。搜索单词子集的问题是您不知道输入的单词不是单词。但是，您可以构建允许的元音。某些字母组合不会出现在语料库中。所以在计算方面，这个问题现在很容易。当然，通过将核心语料库保存在内存中，将其余部分保存在磁盘中，可以快速改进简单的查找。在 android 上滑动效果很好。它使用个性化的语料库和一些机器学习。

为了解决这个特殊问题，我会做的是计算“weke”这个词的邻居并检查它们是否在语料库中，即

```
word = 'weke'             
suggestions = list()                                                      
letters = [chr(x) for x in range(97,97+26)]                                     
for i in range(len(word)):                                                      
    for a in letters: # or do this in a smarter way to iterate                                                           
        newword = word                                                          
        newword[i] = a                                                          
        if newword in corpus: suggestions.append(newword) 
```

然后为了改进它，检查小节是否在音节语料库中。在这方面已经做了很多工作，因此您可能可以在互联网上找到标准解决方案，例如： http: [//nltk.org/](http://nltk.org/)

# mysql - mysql 输入新数量时如何增加或减少某个字段的数量

> ID：13263352
> 
> 赞同：0
> 
> 时间：2012-11-07T04:58:19.317
> 
> 标签：mysql, jsp

我正在做一个项目我在我的项目中遇到问题.........

问题是当我通过发出或交付的数量时，我想增加或减少我的 sql 数量字段中的数量，即...最初，当我摄入数量为 10 的产品时，提交的数量中的数量为 1，然后自动它应该将数量更新为 10+1=11，所以它必须更新为 11，如果我删除 1 个数量，它应该更新为 0........

如何在jsp中编写代码............

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:01:06.243

如果您想要`INCREMENT`产品的价值，请使用下面的查询

```
UPDATE tableName SET columnName = columnName + toadd 
```

和`DECREMENT`

```
UPDATE tableName SET columnName = columnName - tosubtract 
```

所以申请你的情况，

```
UPDATE tableName SET quantity = quantity + 10

or

UPDATE tableName SET quantity = quantity - 1 
```

# php - strtotime 在 HH:MM:SS 格式的 php 中不起作用

> ID：13263353
> 
> 赞同：0
> 
> 时间：2012-11-07T04:58:20.237
> 
> 标签：php, strtotime

我有这样的持续时间：211:30:24。我必须比较它是否大于其他持续时间，例如 01:00:00。我正在使用 strtotime 函数将持续时间更改为 int，然后进行比较。

但问题是 strtotime(211:30:24) 返回错误。直到 24:00:00，它工作正常。

我正在使用以下代码：

```
$duration = strtotime('211:30:24');
if($duration >= strtotime ( '01:00:00' )){
  return true;
}else{
 return false;
} 
```

$duration 是错误的。

我正在使用 php5.1。任何人都知道为什么会这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:14:51.550

请通过 [http://www.php.net/manual/en/datetime.formats.time.php](http://www.php.net/manual/en/datetime.formats.time.php)

您指定的时间无效，文档中提到了有效的时间格式

# ruby - for循环中迭代次数的计算

> ID：13263354
> 
> 赞同：0
> 
> 时间：2012-11-07T04:58:22.043
> 
> 标签：ruby, indexing, iteration

我正在使用 Ruby 和 Latex 为寄存器创建颜色编码集。我有以下代码块。当试图运行它时，`band1`=`1e+02.`

我试过`band1`= `(BigDecimal(i) * 100).to_f`，想也许有一些奇怪的浮点问题。一个整数乘以一个整数应该创建一个整数。我也尝试了各种其他方法，但无济于事。

```
(1..9).each do |i|       #Band 1
  (0..9).each do |j|     #Band 2
    (0..11).each do |k|  #Band 3
      #Band 3 Start
      #these are the colors of the resistor bands
      b1 = $c_band12[i]
      b2 = $c_band12[j]
      b3 = $c_band3[k]
      b4 = "Gold"

      oms = ((i*100) + (j*10)) * $mult[k]
      band1 = i*100
      band2 = j
      band3 = $mult[k]
    end
  end
end 
```

不知道我错过了什么。我应该`each_with_index`通过这些迭代使用吗？我试过这个：

```
(1..9).each_with_index {|i, indexi|       #Band 1
  (0..9).each_with_index {|j, indexj|     #Band 2
    (0..11).each_with_index {|k, indexk|  #Band 3
      #Band 3 Start
      #these are the colors of the resistor bands
      b1 = $c_band12[i]
      b2 = $c_band12[j]
      b3 = $c_band3[k]
      b4 = "Gold"

      oms = ((i*100) + (j*10)) * $mult[k]
      band1 = indexk * 100 
```

我得到了同样的答案。我不明白为什么`1*100`应该等同于这么大的数字。

编辑：附加信息：如果我有这个：`band1=i*10` 那么计算是正确的。事实上，计算正确到 99。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:40:18.997

在您的代码中，`band1`必须是`Fixnum`. 检查与`p band1.class`。不知道你是如何得到“1e+02”的，也许你以某种奇怪的方式打印，或者你这样做是在 Ruby`band1 == 1e+02`中返回的。`true`您必须使用和`eql?`来区分：`1``1.0`

```
1 ==   1.0  # => true
1.eql?(1.0) # => false 
```

# c++ - 半边双胞胎

> ID：13263356
> 
> 赞同：2
> 
> 时间：2012-11-07T04:58:39.283
> 
> 标签：c++, data-structures

我已经实现了用于加载 3d 对象的半边数据结构。我发现分配双/对边的部分需要最长的计算时间（特别是对于具有数十万半边的对象）。原因是我使用嵌套循环来实现这一点。有没有更简单有效的方法来做到这一点？下面是我写的代码。HE是半边数据结构。hearr 是一个包含所有半边的向量。vert 是起始顶点，end 是结束顶点。谢谢！！

```
HE *e1,*e2;

for(size_t i=0;i<hearr.size();i++){
    e1=hearr[i];
    for(size_t j=1;j<hearr.size();j++){
        e2=hearr[j];
        if((e1->vert==e2->end)&&(e2->vert==e1->end)){
            e1->twin=e2;
            e2->twin=e1;
        }
    }
} 
```

我使用了一些简单的关键字，例如break和continue，并将内循环中j的值设置为j=i。这显着提高了速度。早些时候，一组数据花了我 403 秒。现在是 11 秒。这些就是变化。欢迎任何意见。谢谢！

```
for(size_t i=0;i<hearr.size();i++){
    e1=hearr[i];
    if(e1->twin!=0)
        continue;

        for(size_t j=i;j<hearr.size();j++){
            e2=hearr[j];
            if(e2->twin!=0)
                continue;
            if((e1->vert==e2->end)&&(e2->vert==e1->end)){
                e1->twin=e2;
                e2->twin=e1;
                break;
            }
        }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:01:02.437

这是一个解决方案。我没有编译它。

基本思想是按（vert then end）和（end then vert）对范围进行排序。这些中的每一个都需要 nlgn 时间。

然后，我们并行遍历两个列表，寻找垂直优先排序列表的结尾等于结尾优先排序列表的结尾的范围。

我们有这些范围，我们称之为`DoTwins`. 这会遍历有问题的范围，寻找 vert-major 列表的末尾与 end-major 列表的 vert 匹配的位置。然后我检查是否有多个完全等价的边（如果有，事情会很糟糕，所以我断言），然后连接双胞胎。

每个循环（内部或外部）的每次迭代都会在列表中按 1 进行分析，并且每个外部循环都不会回头。所以这是 O(n)。

请注意，`DoTwins`循环和调用的循环`DoTwins`遵循基本相同的逻辑，但测试略有不同。重构该逻辑可能会改进代码。

免责声明：代码尚未编译（或运行或调试），只是从头开始编写，所以预计会有错别字和错误。但基本思想应该是合理的。

```
// A procedure to solve a subproblem -- the actual assignment of the
// twin variables.  The left range's "vert" field should equal the
// right range's "end" field before you call this function.  It proceeds
// to find the subsets where the left "end" equals the right "vert",
// and sets their twin field to point to each other.  Note that things
// go squirrly if there are multiple identical edges.
template< typename HEPtrRange >
void DoTwins( HEPtrRange EqualVertRange, HEPtrRange EqualEndRange )
{
  auto it1 = EqualVertRange.first;
  auto it2 = EqualEndRange.first;
  while( it1 != EqualVertRange.second && it2 != EqualEndRange.second )
  {
    Assert((*it1)->vert == (*it2)->end);
    if ((*it1)->end > (*it2)->vert)
    {
      ++(*it2);
      continue;
    }
    if ((*it1)->end < (*it2)->vert)
    {
      ++(*it1);
      continue;
    }
    Assert((*it1)->end == (*it2)->vert);
    // sanity check for multiple identical edges!
    auto it3 = it1;
    while (it3 != EqualVertRange.second && (*it3)->end == (*it1)->end)
      ++it3;
    auto it4 = it2;
    while (it4 != EqualVertRange.second && (*it4)->end == (*it2)->end)
      ++it4;
    // the range [it1, it3) should have its twin set to the elements
    // in the range [it2, it4).  This is impossible unless they
    // are both of size one:
    Assert( it3 - it1 == 1 );
    Assert( it4 - it2 == 1 );
    for (auto it = it1; it != it3; ++it)
      (*it)->twin = it2;
    for (auto it = it2; it != it4; ++it)
      (*it)->twin = it1;
    it1 = it3;
    it2 = it4;
  }
} 
```

别处：

```
// A vector of the edges sorted first by vert, then by end:
std::vector<HE*> vertSorted(&hearr[0], (&hearr[0]).size());
std::sort(vertSorted.begin(), vertSorted.end(),
  [](HE* e1, HE* e2)
  {
    if (e1->vert != e2->vert)
      return e1->vert < e2->vert;
    return e1->end < e2->end;
  }
);
// A vector of the edges sorted first by end, then by vert:
std::vector<HE*> endSorted = vertSorted;
std::sort(endSorted.begin(), endSorted.end(),
  [](HE* e1, HE* e2)
  {
    if (e1->end != e2->end)
      return e1->end < e2->end;
    return e1->vert < e2->vert;
  }
);

// iterate over both at the same time:
auto it1 = vertSorted.begin();
auto it2 = endSorted.begin();
while(it1 != vertSorted.end() && it2 != endSorted.end())
{
  // we are looking for cases where left->vert == right->end.
  // advance the one that is "lagging behind":
  if ((*it1)->vert > (*it2)->end)
  {
    ++it2;
    continue;
  }
  if ((*it1)->vert < (*it2)->end)
  {
    ++it1;
    continue;
  }
  Assert( (*it1)->vert == (*it2)->end );
  // Find the end of the range where left->vert == right->end
  auto it3 = it1;
  while (it3 != vertSorted.end() && (*it3)->vert == (*it1)->vert)
  {
    ++it3;
  }
  auto it4 = it2;
  while (it4 != endSorted.end() && (*it4)->vert == (*it2)->vert)
  {
    ++it4;
  }
  auto EqualVertRange = std::make_pair(it1, it3);
  auto EqualEndRange = std::make_pair(it2, it4);
  // Delegate reverse lookups and assignment of twin variable to a subprocedure:
  DoTwins( EqualVertRange, EqualEndRange );
  it1 = it3;
  it2 = it4;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:24:05.473

更好的解决方案是对数组进行排序，然后执行二进制搜索以提供您自己的比较。或者考虑散列每个节点，然后在提供自定义比较的同时执行查找

# azure - 如何将 Azure 服务配置文件转换为 base 64

> ID：13263357
> 
> 赞同：0
> 
> 时间：2012-11-07T04:58:41.400
> 
> 标签：azure

通过 REST API 在 Azure Cloud 中创建部署时，我需要将服务配置文件编码为 base 64 字符串。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:10:53.390

下面这行代码怎么样？

```
Convert.ToBase64String(System.Text.Encoding.UTF8.GetBytes(configurationFileContent)); 
```

# asp.net-mvc - MVC：Partial View 可以有 iframe 的效果吗？

> ID：13263358
> 
> 赞同：0
> 
> 时间：2012-11-07T04:58:53.197
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor, partial-views

我想知道在 MVC(ie 3) + Razor 中，我们可以让局部视图具有与 iframe 相同的效果吗？例如右侧滚动条、固定高度等。

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:05:39.090

You can make use of CSS `overflow`, `overflow-y` and `overflow-x` properties to achieve the points you gave examples for (right side scroll bar, fixed height), making sure to include a `height` style or even `width` if required.

```
.partial-view-container
{
    height:400px;
    overflow:scroll;
} 
```

The possible values for the overflow properties are

*   visible (default)
*   hidden
*   scroll
*   auto

So I guess your Razor markup would look something like this

```
<div class="partial-view-container">
@Html.Partial("InnerPartialView")
</div> 
```

Further explanation at [css tricks](http://css-tricks.com/the-css-overflow-property/) or [w3schools](http://www.w3schools.com/cssref/default.asp#box)

# c++ - 使用 MinGW 编译一个 SFML 项目

> ID：13263359
> 
> 赞同：1
> 
> 时间：2012-11-07T04:59:06.163
> 
> 标签：c++, mingw, sfml

好的，所以我有一个使用 SFML 的 C++ 项目，我希望能够使用 MinGW 从 CMD 编译它。我有它，所以我可以编译.cpp，但是，我只需要知道我还需要做什么才能让它与 SFML 一起工作。我尝试用 CodeBlocks 和 MinGW 编译它，它工作正常，直到我尝试运行它，此时它告诉我 sfml-system.dll 从我的计算机中丢失。这是否意味着我安装不正确？据我所知，我一直按照 CodeBlocks 的安装... . 感谢您提供的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T06:49:31.490

好的，所以如果它构建良好并与`sfml-system.dll`at 链接时间链接，那么就没有真正的问题。您需要做的就是`sfml-system.dll`在构建`.exe`文件所在的目录中复制（或创建指向它的链接）。这将使`.exe`find 成为所需的库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-25T15:10:01.823

*libgcc_s_dw2-1.dll*就在**bin**文件夹内，在最新的[MinGW 版本](https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win32/Personal%20Builds/mingw-builds/7.3.0/threads-posix/dwarf/i686-7.3.0-release-posix-dwarf-rt_v5-rev0.7z/download)上。

复制到**.exe**文件夹，它应该运行。

# php - PHP Session 不持有值

> ID：13263361
> 
> 赞同：0
> 
> 时间：2012-11-07T04:59:15.607
> 
> 标签：php

在看了好几个小时的帖子和不同的论坛之后，我终于放弃了。在过去的 24 小时里，我一直在通过尝试创建注册和登录页面来学习 PHP。注册似乎正在工作（我确信有一些错误等，但到目前为止一切似乎都在 sql 中）。就我的登录页面而言，这是我遇到一些问题的地方。

## 新编辑

这是我的registration.php

```
<?php
error_reporting(E_ALL);
ini_set('display_errors', '1');

//Set error msg to blank
$errorMsg = "";
// Check to see if the form has been submitted
if (isset($_POST['username'])) 
{
include_once 'db_connect.php';
$username = preg_replace('/[^A-Za-z0-9]/', '', $_POST['username']);
$password = preg_replace('/[^A-Za-z0-9]/', '', $_POST['password']); 
$accounttype = preg_replace('/[^A-Za-z]/','', $_POST['accounttype']);
$email = filter_var($_POST['email'], FILTER_VALIDATE_EMAIL);
//validate email with filter_var
if ((!$username) || (!$password) || (!$accounttype) || (!$email))
    {
    $errorMsg = "Everything needs to be filled out";
    } 
    else {
// if fields are not empty

// check if user name is in use
    $db_username_check = mysql_query("SELECT id FROM members WHERE          username='$username' LIMIT 1");
    $username_check = mysql_num_rows($db_username_check); 
// check if email is in use
    $db_email_check = mysql_query("SELECT id FROM members WHERE email='$email' LIMIT 1");
    $email_check = mysql_num_rows($db_email_check);

//if username is in use ... ERROR
    if ($username_check > 0)  { 
    $errorMsg = "ERROR: username is already in use";

// if username is ok check if email is in use       
    } else if ($email_check > 0) {
    $errorMsg = "ERROR: email is already in use"; 

    } else {

    session_start();
    $hashedPass = md5($password); 
// Add user info into the database table, claim your fields then values 
    $sql = mysql_query("INSERT INTO members (username, password, email, accounttype ) 
    VALUES('$username', '$hashedPass', '$email', '$accounttype')") or die (mysql_error());
    // Retrieves the ID generated for an AUTO_INCREMENT column by the previous query
    $id = mysql_insert_id();
    $_SESSION['id'] = $id; 
    mkdir("members/$id", 0755); 
    header("location: member_profile.php?id=$id");
    $errorMsg = "Registration Successful";
    exit();}

    }
// if the form has not been submitted
} else { $errorMsg = 'To register please fill out the form'; }
?> 
```

* * *

这是我的 Login.php

```
<?php
 error_reporting(E_ALL);
    ini_set('display_errors', '1');

    // if the form has been submitted
    $errorMsg = "";
    if ($_POST['username']){

            include_once('db_connect.php');
            $username = stripslashes($_POST['username']);
            $username = strip_tags($username);
            $username = mysql_real_escape_string($_POST['username']);
            $password = mysql_real_escape_string($_POST['password']); 
            $hashedPass = md5($password);

            $sql = "SELECT username,password FROM members WHERE username ='$username' AND password = '$hashedPass'";
            $login_check = mysql_query($sql);
            $count = mysql_num_rows($login_check);
            $row = mysql_fetch_array($login_check);
            //var_dump($id, $username, $password);

                if($count==1)
                    {
                        session_start();
                        //$id = $row["id"]; 
                        //                $_SESSION['id'] = $userid; 
                        //                $username = $row['username'];  
                        //                $_SESSION['username'] = $username; 
                        //                header("location: member_profile.php?id=$userid"); 
                         echo "User name OK";
                         return true;
        } else {
            echo "Wrong username or password";
            return false;

                    }
                }

    ?> 
```

* * *

每当有人注册 $id = mysql_insert_id(); 时，都会从最后一个查询中提取 ID 并启动 $_SESSION['id']。但是，在 if($count==1) 之后的登录过程中，我完全迷失了。由于某种原因，名称和密码被检查并通过但 ID 失败。我确实尝试添加“SELECT id FROM members WHERE id='$id'”，但我的 $id 始终未定义。

我的 member_profile.php 是这样的：

```
<?php
session_start();
$toplinks = "";
if(isset($_SESSION['id'])) {
//If the user IS logged in show this menu
$userid = $_SESSION['id'];
$username = $_SESSION['username'];
$toplinks = '
<a href="member_profile.php?id=' .$userid. '"> Profile </a> &bull;
<a href="member_account.php">Account</a> &bull;
<a href="logout.php">Logout</a>
';

} else {
// If the user IS NOT logged in show this menu
$toplinks = '
<a href="register.php">JOIN</a> &bull;
<a href="login.php">LOGIN</a>
';

}

?> 
```

感谢大家提供有关安全性、结构和编码风格的任何提示。这对我来说是 php 的第 3 天。

请原谅任何错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:01:40.443

你`if`正在评论里面检查这个——

```
<?php // if the form has been submitted $errorMsg = ""; if 
```

编辑它——

```
 <?php 
    // if the form has been submitted 
    $errorMsg = ""; 
    if(($_POST['username']) && ($_POST['password'])){ 
```

你也在你的代码中使用`mysql`和使用——`mysqli`

```
$row = mysqli_fetch_array($sql); 
```

利用 -

```
$row = mysql_fetch_array($sql); 
```

查看您的会议以及评论中提到的[菲尔。](https://stackoverflow.com/questions/13263361/php-session-not-holding-values#comment18076839_13263361)

```
session_start() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:04:11.790

替换代码

```
$row = mysqli_fetch_array($sql); to $row = mysql_fetch_array($login_check);  

if($count==1)
                    {

                        $id = $row['id'];
                        session_start();
                        $_SESSION['id'] = $id; 
                        //$row = mysqli_fetch_array($sql);
                        $username = $row['username'];  

                        $_SESSION['username'] = $username;
                        header("location: member_profile.php?id=$id");
                        exit();
                        } else {
                        echo "Wrong username or password";
                        return false;
                    } 
```

**如果表中有任何 id 字段，还请更改您的查询：**

```
$sql = "SELECT id,username,password FROM members WHERE username ='$username' AND password = '$hashedPass'"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T23:40:06.977

首先，我检查了代码。由于这是我的第 4 天 php，我开始将所有内容从 mysql 更改为 mysqli，这对我来说更有意义。代码可能仍然很混乱，但到目前为止它确实有效。谢谢

```
$sql = ("SELECT * FROM members WHERE username = '$username' && password = '$hashedPass'");
            $login_check = mysqli_query($link, $sql);
            $count = $login_check->num_rows;
            $row = mysqli_fetch_array($login_check);
             printf("Result set has %d rows.\n", $count);

                if($count==1)
                    {
                        session_start();
                        $id = $row["id"]; 
                        $_SESSION['id'] = $id; 
                        $username = $row['username'];  
                        $_SESSION['username'] = $username; 
                        header("location: member_profile.php?id=$id"); 
                        echo "User name OK";
                        return true; 
```

# java - 如何删除一个框以继续 Java 中的“for”循环？

> ID：13263366
> 
> 赞同：0
> 
> 时间：2012-11-07T04:59:48.230
> 
> 标签：java, graphics, acm-java-libraries

我是 java 新手，我正在尝试编写一个生成 10 个随机框然后删除一个框并添加另一个框的代码。因此，总数仍然是 10 个盒子，但循环继续进行。我已经想出了如何创建 10 个随机框，但我不确定如何从中删除一个。这是代码：

```
final int width = 800;
        final int height = 600;
        final int boxWidth = 50;
        final int maxBoxes = 10;

        this.setSize(width, height);
            Random random = new Random();

                for(int box=0;box<maxBoxes;box++)
                {
                    int x = random.nextInt(width-boxWidth);
                    int y = random.nextInt(height-boxWidth);
                    GRect r = new GRect(x, y, boxWidth, boxWidth);
                    Color c = new Color(random.nextInt(256),
                                        random.nextInt(256), random.nextInt(256));
                    r.setFilled(true);
                    r.setFillColor(c);
                    this.add(r);

                    this.pause(100); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:06:20.980

您需要将框值存储在数组中。然后在循环的每次迭代中擦除屏幕并重新绘制所有 10 个框。然后随机替换一个盒子的盒子值并重复。

# jenkins - 詹金斯不知从何而来开始失败并出现 sudo: no tty present and no askpass program specified

> ID：13263367
> 
> 赞同：3
> 
> 时间：2012-11-07T04:59:53.253
> 
> 标签：jenkins

没有系统更改，每次尝试从 安装 gem 时都会出现此错误`bundle install`，尽管我什至不明白为什么要调用 sudo，因为 gem 安装在本地 rvm 目录中...

```
sudo: no tty present and no askpass program specified
Sorry, try again.
sudo: 3 incorrect password attempts 
```

有人见过这个吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-08T08:39:06.427

要让 jenkins 安装 gems，他需要在 rvm 组中：

在 debian 中，这意味着：

```
sudo adduser jenkins rvm
sudo /etc/init.d/jenkins restart 
```

这至少对我有用。

# git - 获取 Git 控制的文件夹中所有未版本控制文件的列表

> ID：13263369
> 
> 赞同：24
> 
> 时间：2012-11-07T05:00:29.223
> 
> 标签：git, bash, unix, version-control, grep

在 Git 控制的文件夹中获取未版本控制的文件列表比它需要的要烦人得多。除非我真的不擅长阅读手册页，否则 Git 似乎不会提供自行执行此操作的工具。

可能有一种更优雅的方式来执行此操作，但这是我为这项任务拼凑起来的一条线，以防其他人需要使用它。

编辑：原来有一种标准的方法可以很好地做到这一点。

```
git ls-files --other [--exclude-standard] 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-07T05:22:24.997

或者...

```
git clean -dnx | cut -c 14- 
```

如果您不想看到被忽略的文件，

```
git clean -dn | cut -c 14- 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-07T05:43:02.370

实际上，如果您使用`git clean`or`-n`选项，它会打印出一个未跟踪的文件列表，如果您使用or`--dry-run`选项运行它，它将被删除。添加标志包括空目录或仅包含未跟踪文件的目录。`-f``--force``-d`

因此，您可以从 git 存储库中运行此命令：

```
$ git clean -dn 
```

并得到这样的输出：

```
Would remove dir/untracked_file_1.txt
Would remove untracked_file_2.txt 
```

这是一个好处：它也尊重您的 .gitignore 文件，但如果您添加`-X`标志，它只会列出被忽略的文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:00:29.223

```
diff <(echo "`git ls-tree -r master | sed 's/.*\t//g'`") <(echo "`find . -type f`") | grep '> .*' | cut -c 3- 
```

# html - beautifulSoup 解析标签表 HTML，尤其是 colspan 和 rowspan

> ID：13263373
> 
> 赞同：3
> 
> 时间：2012-11-07T05:00:51.337
> 
> 标签：html, beautifulsoup, html-table

我想问一下从`<table>`. 例如像这样：

```
<table cellpadding="2" cellspacing="2" border="1" width="50%">
<tbody>
  <tr>
    <td valign="top" rowspan="2" colspan="1" align="center">NO<br>
    </td>
    <td valign="top" rowspan="1" colspan="3" align="center">NAMA<br>
    </td>
    <td valign="top" rowspan="1" colspan="2" align="center">TELEPON<br>
    </td>
    <td valign="top" rowspan="2" colspan="1" align="center">KODE<br>
    </td>
  </tr>
  <tr>
    <td valign="top" align="center">DEPAN<br>
    </td>
    <td valign="top" align="center">TENGAH<br>
    </td>
    <td valign="top" align="center">BELAKANG<br>
    </td>
    <td valign="top" align="center">KODE<br>
    </td>
    <td valign="top" align="center">NO TLP<br>
    </td>
  </tr>
  <tr>
    <td valign="top" align="center">1<br>
    </td>
    <td valign="top">Ani<br>
    </td>
    <td valign="top">Tiara<br>
    </td>
    <td valign="top">Ramadika<br>
    </td>
    <td valign="top" align="center">021<br>
    </td>
    <td valign="top" align="center">8466729<br>
    </td>
    <td valign="top" align="center">17412<br>
    </td>
  </tr>
  <tr>
    <td valign="top" align="center">2<br>
    </td>
    <td valign="top">Dia<br>
    </td>
    <td valign="top">Andari<br>
    </td>
    <td valign="top">Putri<br>
    </td>
    <td valign="top" align="center">022<br>
    </td>
    <td valign="top" align="center">5930290<br>
    </td>
    <td valign="top" align="center">18291<br>
    </td>
  </tr>
  <tr>
    <td valign="top" align="center">3<br>
    </td>
    <td valign="top">Rangga<br>
    </td>
    <td valign="top">Dimas<br>
    </td>
    <td valign="top">Putra<br>
    </td>
    <td valign="top" align="center">023<br>
    </td>
    <td valign="top" align="center">8349829<br>
    </td>
    <td valign="top" align="center">13901<br>
    </td>
  </tr>
  <tr>
    <td valign="top" align="center">4<br>
    </td>
    <td valign="top">Niko<br>
    </td>
    <td valign="top">Reza<br>
    </td>
    <td valign="top">Anggara<br>
    </td>
    <td valign="top" align="center">024<br>
    </td>
    <td valign="top" align="center">4284982<br>
    </td>
    <td valign="top" align="center">21211<br>
    </td>
  </tr>

</tbody>  
</table> 
```

我使用 python 进行 HTML 解析，如下所示：

```
from bs4 import BeautifulSoup

soup = BeautifulSoup(html)
t = soup.find("table")
dat = [ map(str, row.findAll('td', { 'rowspan' })) for row in t.findAll("tr") ]
print dat[1] 
```

但是，我仍然很困惑如何获得`colspan`.

我已经有了解析标签表，但是我不知道如何获取`colspan`属性的值。我试过使用正则表达式，但没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:40:16.347

我推荐使用[CSS 选择器](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors)：

```
from bs4 import BeautifulSoup
s = open("colspan_rowspan.html").read()
soup = BeautifulSoup(s)

# select all td children of tr that have both colspan & rowspan
tags = soup.select('tr td[colspan,rowspan]')

# print out the values, for example:
print [(td['colspan'], td['rowspan']) for tags]

# will return [('1', '2'), ('3', '1'), ('2', '1'), ('1', '2')] 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2016-02-03T11:17:04.693

使用 colspan 和 rowspan 解析表的最简单方法是使用 nodejs 和cheerio 和cheerio-tableparser 插件。

```
var cheerio = require('cheerio'),
    cheerioTableparser = require('cheerio-tableparser'),
    fs = require('fs');

var text = fs.readFileSync("colspan_rowspan.html", 'utf8');
$ = cheerio.load(text);
cheerioTableparser($);

data = $("table").parsetable(true, true, true);
console.log(data);

//data = > 
//[ [ 'NO', 'NO', '1', '2', '3', '4' ],
//  [ 'NAMA', 'DEPAN', 'Ani', 'Dia', 'Rangga', 'Niko' ],
//  [ 'NAMA', 'TENGAH', 'Tiara', 'Andari', 'Dimas', 'Reza' ],
//  [ 'NAMA', 'BELAKANG', 'Ramadika', 'Putri', 'Putra', 'Anggara' ],
//  [ 'TELEPON', 'KODE', '021', '022', '023', '024' ],
//  [ 'TELEPON', 'NO TLP', '8466729', '5930290', '8349829', '4284982' ],
//  [ 'KODE', 'KODE', '17412', '18291', '13901', '21211' ] ] 
```

结果将是列数组。所有由 colspan 和 rowspan 合并的单元格将在数组中具有相同的值。

# ruby-on-rails - Rails has_many_through 表单

> ID：13263377
> 
> 赞同：0
> 
> 时间：2012-11-07T05:01:17.583
> 
> 标签：ruby-on-rails, forms, has-many-through

在阅读了几个小时的 stackoverflow 和观看 railscasts 之后，我决定发帖。这个问题与这里的许多其他问题非常相似，但我只是不明白。这是我的第一个 has_many_through 关联。

```
class User < ActiveRecord::Base
...
has_many :affiliations
has_many :sublocations, through: :affiliations
...
end

class Sublocation < ActiveRecord::Base
...
has_many :affiliations
has_many :users, through: :affiliations
...
end

class Affiliations < ActiveRecord::Base
...
belongs_to :user
belongs_to :sublocation
...
end 
```

affiliations 表具有通常的 user_id 和 sublocation_id 列。它还具有名为“默认”的布尔列。在我的“新/编辑用户”表单中，我需要通过复选框选择一个或多个子位置，并且还包括一种将子位置标记为“默认”的方法。

同样，我已经阅读了一个又一个示例，但我的大脑中并没有“点击”。我不一定要寻找一个确切的解决方案，而是朝着正确的方向轻推。

非常感谢，CRS

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T09:59:33.187

我的建议：

创建一个用户表单以设置和之间的`User`关联`Sublocation`

我假设子位置已预先填充？

**users_controller.rb**

```
def new
    @user = User.new
    @sublocations = Sublocation.all
    respond_to do |format|
      # what ever
    end
end

def create
    @user = User.new(params[:user])
    params[:sublocation_ids].each do |key, value|
      @user.affiliations.build(sublocation_id: value)
    end
    respond_to do |format|
      if @user.save
        # what ever
      else
        # what ever
      end
    end
 end

def show
    @user = User.find(params[:id])
    @affiliations = @user.affiliations
end

def set_default
    affiliation = Affiliation.find(params[:affiliation_id])
    Affiliation.where(user_id: params[:user_id]).update_all(default: false)
    affiliation.toggle!(:default)
    redirect_to affiliation.user, notice: "Default sublocation set"
 end 
```

**用户/_form.html.haml**

```
= form_for @user do |f|

  .field
    # fields for user attributes

  .field

    %h1 Sublocations

    = f.fields_for "sublocations[]" do
      - for sublocation in @sublocations
        = label_tag sublocation.name
        = check_box_tag "sublocation_ids[#{sublocation.name}]", sublocation.id, @user.sublocations.include?(sublocation)
  .actions
    = f.submit 'Save' 
```

然后也许在用户展示页面上，列出他们所有的子位置并为他们创建一个表单来设置默认值。

**用户/show.html.haml**

```
= form_tag user_set_default_path(@user), method: :put do
  %table
    %tr
      %th Sublocation
      %th Default?
    - @affiliations.each do |affiliation|
      %tr
        %td= affiliation.sublocation.name
        %td= radio_button_tag :affiliation_id, affiliation.id, affiliation.default? ? {checked: true} : nil

  = submit_tag "Set default" 
```

**路线.rb**

```
resources :users do
  member do
   put "set_default"
  end
end 
```

希望这有助于或至少让你走上正确的道路。

# java - MyBatis: ClassCastException: java.lang.Integer 不能转换为 java.lang.Boolean

> ID：13263379
> 
> 赞同：2
> 
> 时间：2012-11-07T05:01:24.220
> 
> 标签：java, boolean, mybatis, classcastexception

在尝试执行更新语句（UpdateUser）时，我在 MyBatis 中遇到了这个异常：

```
java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Boolean
at $Proxy6.updateUser(Unknown Source)
at com.nortal.pirs.persistence.dbmybatis.UserDaoMyBatisImpl.updateUser(UserDaoMyBatisImpl.java:60)
at com.nortal.pirs.test.persistence.UserDaoAbstractTest.testUpdateUser(UserDaoAbstractTest.java:117)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) 
```

我正在使用的数据类型用户如下所示：

```
public class User {
private String firstName = "";
private String lastName = "";
private String personCode = "";
private Date birthDate = new Date();
private Gender gender = Gender.MALE;
private String email = "";
private String password = "";
private UserState userState = UserState.UNAPPROVED;

public User() {
} 
```

当然还有合适的 getter 和 setter。

我的 mybatis 的 UserMapper.java 接口如下所示：

```
public interface UserMapper {

public User getUserByEmail(String email);   

public void addUser(User user);

public void removeUser(String email);

public int getNumberOfUsers();

public int userExists(String email);

public boolean updateUser(@Param ("oldUser") User oldUser, @Param("newUser") User newUser);

public Map<String, User> getAllUsers(); 
```

}

我的 UserMapper.xml 看起来像这样：

```
 <?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nortal.pirs.persistence.dbmybatis.UserMapper">

    <!-- QUESTION: Is the <cache /> needed as described in one of your examples? And what is it meant to do? -->

    <resultMap id="UserMap" type="com.nortal.pirs.datamodel.User">
        <result property="firstName" column="firstName"/>
        <result property="lastName" column="lastName"/>
        <result property="personCode" column="personCode"/>
        <result property="birthDate" column="birthDate" javaType="Date"/>
        <result property="gender" column="gender" javaType="com.nortal.pirs.datamodel.Gender"/>
        <result property="email" column="email"/>
        <result property="password" column="password"/>
        <result property="userState" column="userState" javaType="com.nortal.pirs.datamodel.UserState"/>        
    </resultMap>

    <select id="getUserByEmail" parameterType="String" resultMap="UserMap">
        SELECT 
        firstName,
        lastName,
        personCode,
        birthDate,
        gender,
        email,
        password,
        userState       
        FROM   USER 
        WHERE  email = #{email}
    </select>

    <insert id="addUser" parameterType="User" >
        INSERT INTO user

        (firstName,
        lastName,
        personCode,
        birthDate,
        gender,
        email,
        password,
        userState)

        VALUES
        (#{firstName},
        #{lastName},
        #{personCode},
        #{birthDate},
        #{gender},
        #{email},
        #{password},
        #{userState})        
    </insert>

    <delete id="removeUser" parameterType="String">
        DELETE FROM user
        WHERE email = #{email}
    </delete>

    <select id="getNumberOfUsers" resultType="int">
        SELECT
        COUNT(email)
        FROM USER
    </select>

    <select id="userExists" parameterType="String" resultType="int">
        SELECT CASE WHEN EXISTS (
            SELECT
            COUNT(email)
            FROM USER)
    </select>

    <update id="updateUser" parameterType="map">
        UPDATE user
        SET 
        firstName = #{newUser.firstName},
        lastName = #{newUser.lastName},
        personCode = #{newUser.personCode},
        birthDate = #{newUser.birthDate},
        gender = #{newUser.gender},
        email = #{newUser.email},
        password = #{newUser.password},
        userState = #{newUser.userState}
        WHERE email = #{oldUser.email}
    </update>

</mapper> 
```

正如我提到的，调用 updateUser 时会引发异常。奇怪的是我什至看不到任何与 Integer 相关的内容。我的意思是我什至尝试只更新一个字段进行测试。这都一样。只有当查询被完全删除时，我才会得到异常，我会得到查询错误或某些错误......

有什么建议么？提前致谢。

编辑：如果人们不说任何话就对我的问题投了反对票，他们至少应该说出问题出了什么问题，那会更有帮助……我没有出于乐趣而发布这个问题。确实，我现在有点卡住了一段时间......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T05:09:19.713

`UPDATE`查询不返回`boolean`类型。它返回一个`integer`描述`rows`成功更新的数量。并且您已经`boolean`为您`updateUser`的使用`UPDATE`查询提供了返回类型。

将返回类型更改`updateUser`为`int`。我希望那会起作用。

# ruby-on-rails - 如何让 DST 偏移在本地机器与服务器上保持一致？

> ID：13263383
> 
> 赞同：1
> 
> 时间：2012-11-07T05:02:19.657
> 
> 标签：ruby-on-rails, heroku, dst

我正在使用 ActiveSupport 的 Timezone 类来查找 Timezone 的偏移量，就像这样。

```
novdate = Date.new(2012,11,04)
offset_in_seconds = ActiveSupport::TimeZone['Eastern Time (US & Canada)'].at(novdate.to_time.midnight+3.hours).utc_offset 
```

问题是 offset_in_seconds 在我的本地机器和 heroku 服务器上是不同的。我不确定为什么会这样。我在我的 rails application.rb 文件中设置了 config.time_zone = 'Eastern Time (US & Canada)' 。如何准确一致地获得给定日期的时区偏移量？我一直在上面的时间上增加 3 个小时，因为时间应该在给定日期的凌晨 3:00 从 DST 更改为非 DST。

-- 从我的本地 rails 控制台显示 --

```
novdate = Date.new(2012,11,04)
ActiveSupport::TimeZone['Eastern Time (US & Canada)'].at(novdate.to_time.midnight+1.hours)
 => Sun, 04 Nov 2012 01:00:00 EDT -04:00 
ActiveSupport::TimeZone['Eastern Time (US & Canada)'].at(novdate.to_time.midnight+2.hours)
 => Sun, 04 Nov 2012 01:00:00 EST -05:00 
ActiveSupport::TimeZone['Eastern Time (US & Canada)'].at(novdate.to_time.midnight+3.hours)
 => Sun, 04 Nov 2012 02:00:00 EST -05:00 
```

-- heroku rails 控制台的输出 ---

```
ActiveSupport::TimeZone['Eastern Time (US & Canada)'].at(novdate.to_time.midnight+4.hours)
=> Sun, 04 Nov 2012 00:00:00 EDT -04:00
ActiveSupport::TimeZone['Eastern Time (US & Canada)'].at(novdate.to_time.midnight+5.hours)
=> Sun, 04 Nov 2012 01:00:00 EDT -04:00
ActiveSupport::TimeZone['Eastern Time (US & Canada)'].at(novdate.to_time.midnight+6.hours)
=> Sun, 04 Nov 2012 01:00:00 EST -05:00 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T17:10:48.803

这里的问题是使用该语法的`to_time`方法`date`不会尊重您的时区。

如果您查看[文档，`to_time`](http://api.rubyonrails.org/classes/Date.html#method-i-to_time)您可以看到它将其转换为服务器的本地时间。

Heroku 服务器可能为您的本地计算机配置了不同的时区（注意这不是`config.time_zone`设置）

这应该有效：

```
[24] pry(main)> Time.use_zone('Eastern Time (US & Canada)') {
[24] pry(main)*   novdate.to_time_in_current_zone()  
[24] pry(main)* }  
=> Sun, 04 Nov 2012 00:00:00 EDT -04:00
[25] pry(main)> 
```

# ajax - 如何使用 ajax 调用将文件名和其他请求的参数获取到 serveResource 方法？

> ID：13263384
> 
> 赞同：0
> 
> 时间：2012-11-07T05:02:25.977
> 
> 标签：ajax, jquery, file-upload, portlet, liferay-6

我正在使用 ajax 提交我的 jsp 页面数据，而无需在 liferay 自定义 portlet 中刷新页面。

我面临两个问题：

1.  当我将 Ajax 函数调用到资源服务器方法时，它会在该方法中获取所有 ajax 数据，但是当一切都完成后，如果成功，我将无法获得任何数据作为回报。那么在Ajax函数执行成功后，我怎样才能得到一些数据作为回报呢？

2.  我在我的表单中使用了简单的 HTML 文件上传控件，当我使用简单的提交方法时，我调用上传请求来获取文件的所有属性，并使用上传请求上传文件，但是在 Ajax 的情况下，我必须做所有事情在操作类中的资源服务器方法中使用资源操作，并且`null`通过上传请求获取所有值，那么我该如何解决这个问题？

我正在提供我的一个示例 Ajax 调用和我的资源服务器方法

这是我在 jsp 页面中的简单 ajax 调用

```
<script type="text/javascript">
    function addToDo(addToDo) {
        var todo = document.getElementById('toDo').value;

        alert("");

        var adv_name = document.getElementById('advertise_name').value;
        var keywords = document.getElementById('keywords').value;
        var adv_url = document.getElementById('adv_url').value;
        var fileUpload = document.getElementById('fileUpload').value;

        var mediatype= $('#mediatype option:selected').val();

        $.ajax({
            url :addToDo,            
            data: {
                "todo":todo,
                "adv_name":adv_name,
                "mediatype":mediatype,
                "keywords":keywords,
                "adv_url":adv_url,
                "fileUpload":fileUpload,
                "CMD":"addToDo"
            },
            type: "GET",
            timeout: 20000,
            dataType: "text",
            success: function(data) {
                alert(data);
                //when i alert this data..its always null
            }
        });
    }
</script> 
```

以下是我的上传控件：

```
<label>Browse</label>
<input name="fileUpload" id="fileUpload" type="file" />
<span id="restError2" style="color: #C62626;" class="help-block"></span> 
```

在一个按钮上，我在上面调用 ajax 方法并重定向到资源服务器方法，如下所示：

```
@Override
public void serveResource(ResourceRequest request, ResourceResponse response){
    if(request.getParameter("CMD").equals("addToDo")) {
        System.out.println("came here for add");

        // here am converting this resource request to uploadportletrequest because i have enctype="multipart/form-data"
        UploadPortletRequest uploadReq = PortalUtil.getUploadPortletRequest(request);

        sourceFileName = uploadReq.getFileName("fileUpload");// uploaded
        // filename                 

        advertise_name = uploadReq.getParameter("advertise_name"); //this value getting null
        adv_link = uploadReq.getParameter("adv_url"); //this value getting null
        keyword = uploadReq.getParameter("keywords"); //this value getting null
        String resourceID = request.getResourceID();

        System.out.println(resourceID);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T17:40:16.170

对于第一个问题，请参阅[这个 SO answer](https://stackoverflow.com/questions/9272930/how-to-submit-form-using-ajax-request-in-liferay/9376240#9376240)。

对于第二个问题，我会说您缺少参数的前缀。

所以尝试将您的ajax调用更改为（我只更改您在serveResource方法中提到的字段变为空）

```
 $.ajax({
        url :addToDo,            
        data: {
            "todo":todo,
            "<portlet:namespace />adv_name":adv_name,
            "mediatype":mediatype,
            "<portlet:namespace />keywords":keywords,
            "<portlet:namespace />adv_url":adv_url,
            "fileUpload":fileUpload,
            "CMD":"addToDo"
        },
        type: "GET",
        timeout: 20000,
        dataType: "text",
        success: function(data) {
            alert(data);
            //when i alert this data..its always null
        }
    }); 
```

并且一定要有

```
<%@ taglib prefix="portlet" uri="http://java.sun.com/portlet" %> 
```

在你的jsp之上。

另请注意，在您的 serveResource 方法中，您拥有

```
advertise_name = uploadReq.getParameter("advertise_name"); 
```

但发送`"adv_url":adv_url,`时，请注意名称。

另一件需要注意的是，您使用的是 GET 而不是 POST。

还要记住的另一件事是，并非所有浏览器都支持使用 ajax 上传文件。有关支持的浏览器列表，请参阅[此](http://caniuse.com/#search=FormData)。

# wpf - xaml 验证错误 rad 行和错误工具提示未使用 IDataErrorInfo 显示？

> ID：13263386
> 
> 赞同：0
> 
> 时间：2012-11-07T05:02:29.110
> 
> 标签：wpf, validation, xaml, mvvm, idataerrorinfo

在我的项目中，对于验证，我使用了 IDataErrorInfor，在 xaml 代码中我提到了文本框的 NotifyfyOvalidationError=true。

所有验证都正确执行，但唯一的问题是，在我看来，它没有将错误模板显示为跨越 TextBox 和工具提示的红线，我想显示它以观察此 TextBox 包含错误..

同样的想法适用于所有其他文本框，另一件事是这个文本框的验证是工作形式的视图模型，无论我在我的代码中设置什么..

xml:

```
 <TextBox  Margin="0,7"  Text="{Binding Path=Address.AddressLines, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true, NotifyOnValidationError=true}" Width="200" HorizontalAlignment="Left" VerticalAlignment="Stretch" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" ToolTip="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}"  /> 
```

查看型号：

# 区域 IDataErrorInfo 成员

```
string IDataErrorInfo.Error { get { return null; } }

string IDataErrorInfo.this[string propertyName]
{
    get { return this.GetValidationError(propertyName); }
}

#endregion // IDataErrorInfo Members

#region Validation

/// <summary>
/// Returns true if this object has no validation errors.
/// </summary>
public bool IsValid
{
    get
    {
        foreach (string property in ValidatedProperties)
            if (GetValidationError(property) != null)
                return false;

        return true;
    }
}

static readonly string[] ValidatedProperties = 
{ 
      "Address",
};
string GetValidationError(string propertyName)
{
    if (Array.IndexOf(ValidatedProperties, propertyName) < 0)
        return null;

    string error = null;

    switch (propertyName)
    {

        case "Address":
            error = this.ValidateAddressLine();
            break;

        default:
            Debug.Fail("Unexpected property being validated on School: " + propertyName);
            break;
    }

    return error;
}
string ValidateAddressLine()
{
    if (IsStringMissing(this.Address.AddressLines))
    {
        return "Enter Address.";
    }
    return null;
}

static bool IsStringMissing(string value)
{
    return
        String.IsNullOrEmpty(value) ||
        value.Trim() == String.Empty;
}
#endregion // Validation 
```

任何人都可以找到我的问题的解决方案..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T06:22:15.473

```
 public string Error
    {
        get { return null; }
    }

    public string this[string columnName]
    {
        get
        {
            var error = string.Empty;
            switch (columnName)
            {
                case "Address.AddressLines":
                    if (string.IsNullOrEmpty(Address.AddressLines))
                        error = "Address.AddressLines Required";
                    break;

            }
            return error;
        }
    } 
```

使用此代码

# oracle-apex - 顶点会话和应用程序项目

> ID：13263387
> 
> 赞同：0
> 
> 时间：2012-11-07T05:02:56.277
> 
> 标签：oracle-apex

所以，我有一个顶点应用程序的自定义登录功能。一旦用户登录，我想定义一些自定义用户特定数据。我一直在尝试使用应用程序级项目，并设置用户能够登录时需要的值。我已经在共享组件中添加了应用程序项。这是一个片段：

```
apex_util.set_authentication_result(0);
APEX_UTIL.set_session_state(
    p_name => 'ACCESS_LEVEL', 
    p_value => '5'
); 
```

现在，我正在尝试在页面上访问此变量/值，但是当我“运行”应用程序、登录并转到该页面时，该值在“查看调试”窗口中不可用。那么，我这样做对吗？为什么这不起作用？有没有更好的办法？

# iphone - 在 UIWebView 中停止视频播放

> ID：13263388
> 
> 赞同：1
> 
> 时间：2012-11-07T05:03:16.463
> 
> 标签：iphone, objective-c, ios, ios4, uiwebview

我在 UIWebView 中播放过视频。

我用过这段代码

```
 NSString *Str = @"<video controls width=458 height=202 poster=Image.png> 
                   <source   src=\"http://Path of the video/Video.mp4\"> </video>";

 NSString *path = [[NSBundle mainBundle] pathForResource:@"Image"
                  ofType:@"png"];
 [web loadHTMLString:Str baseURL:[NSURL fileURLWithPath:path]]; 
```

我可以在不点击暂停按钮的情况下停止暂停或停止视频吗？

任何解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:06:40.163

您可以停止视频，例如：-

```
-(void)viewWillDisappear:(BOOL)animated
    {
        [YourWebView loadHTMLString:nil baseURL:nil];
        [super viewWillDisappear:animated];
    } 
```

# sql - 连接表错误

> ID：13263391
> 
> 赞同：0
> 
> 时间：2012-11-07T05:03:36.813
> 
> 标签：sql, oracle, jointable

我创建了具有复合键（column1、column2、column3）的 Table1

```
CONSTRAINT table_PK PRIMARY KEY (column1,column2,column3) 
```

表 2 有复合键 (column1,column4)

```
CONSTRAINT table2_FK FOREIGN KEY (column1)
  REFERENCES table1 (column1)
CONSTRAINT table2_column4_FK FOREIGN KEY (column4)
  REFERENCES table3 (column4) 
```

但是我无法将表 2 连接到表 1。在 2 个表之间，唯一的引用列应该只是 column1

但是我收到一个错误：

```
SQL Error: ORA-02270: no matching unique or primary key for this column-list
02270\. 00000 -  "no matching unique or primary key for this column-list"
*Cause:    A REFERENCES clause in a CREATE/ALTER TABLE statement
           gives a column-list for which there is no matching unique or primary
           key constraint in the referenced table.
*Action:   Find the correct column names using the ALL_CONS_COLUMNS
           catalog view 
```

我试过检查约束，一切似乎都是正确的。

当我尝试使用该界面创建表时，它也无法正常工作。

```
The number of FK columns (2) does not equal to the number of referenced columns (3) 
```

据我所见，他们要求我拥有等量的列才能引用另一个表。不过我觉得没必要。它应该只需要 1 列对吗？如果我错了，请纠正我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:38:53.373

我相信您的外键约束需要引用构成您的主键的所有三个列`table_PK`。

由于您基本上是说根据三列中每一列（即每个[tuple](http://en.wikipedia.org/wiki/Tuple)）中的值组合确定每个主键是唯一的，因此外键约束需要引用所有三列以确定哪个唯一记录/tuple 与 中的键相关联`table_PK`。

# spring - spring mvc 3缓存示例

> ID：13263392
> 
> 赞同：0
> 
> 时间：2012-11-07T05:03:40.527
> 
> 标签：spring, caching, spring-mvc

我需要 spring mvc 3 缓存。要求是：在启动服务器时，我们需要为一个下拉菜单调用数据库并将这些值放入缓存中。因此，每当我们需要这些值时，我们都需要从缓存中检索。

请帮我举个例子。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:53:48.763

可能您可以使用 init-method (Spring 2.5) 或 @PostConstruct 注解(在 Spring 3.0 中)。该方法将在服务器启动期间调用 以下是代码片段

```
@Component
public class CacheDBData {

private String values[];
//add setter & getter

//This will be called during server start up after properties are initialised
@PostConstruct
public void getDataFromDB() {
values = //Logic to get data from DB and store that in values property
}
} 
```

例如，假设您可以在类中使用如下

```
@controller
public class HomeController {
@Autowired
private CacheDBData cacheDBData ;
//getter and setters
private void methodxyz() {
String values[] = cacheDBData.getValues();
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:32:34.287

我在[Ehcahe for Spring](https://code.google.com/p/ehcache-spring-annotations/)上取得了成功。有几个配置文件需要设置，但之后您只需注释要缓存输出的方法，它就可以工作。

这样做的好处是您可以更改从服务/数据库返回的值，而不必重新启动您的应用程序，这与接受的答案不同。

# facebook - Facebook 评论插件发布不正确的图像和页面文本

> ID：13263394
> 
> 赞同：0
> 
> 时间：2012-11-07T05:04:00.080
> 
> 标签：facebook, facebook-javascript-sdk, facebook-comments

我们在我们的页面上使用 Facebook 评论插件，使用：

```
<div class="fb-comments" data-href="<?=$page_url?>" data-num-posts="2" data-width="520"></div> 
```

...其中`$page_url`包含该特定页面的 URL（动态生成，将其视为文章页面）。但是，在 Facebook Wall 上发布时，图像和页面内容不同（显示不同的页面）。但是，当我们单击该链接时，它确实会返回到正确的页面。

为什么即使我们在 URL 上具有唯一 ID，它也会从另一个页面获取图像和页面内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T03:49:38.073

我想通了。我只需要将必要的开放图元数据放在顶部，如下所示：

```
<meta property="og:description" content="[page description]" />
<meta property="og:image" content="[page image]" /> 
```

这样，它总是会为该页面共享正确的图像和描述。

（有关开放图的更多信息：http: [//ogp.me/](http://ogp.me/)）

# amazon-web-services - 我可以为 Amazon ELB 中的不同路由指定不同的上游指令集吗

> ID：13263400
> 
> 赞同：1
> 
> 时间：2012-11-07T05:05:24.463
> 
> 标签：amazon-web-services, autoscaling, amazon-elb

我目前正在为我的负载均衡器使用 Nginx 服务器。但是为了使用亚马逊的负载均衡功能，我想迁移到亚马逊 ELB。但问题是我的应用程序具有由不同 ec2 实例处理的不同路由或位置（具有不同子 URL 的相同域名）。比如说。（abc.com/ 由一组 ec2 实例处理，而 abc.com/xyz/* 由另一组实例处理）。现在我使用 nginx 来指定不同的上游列表和它们处理的位置。我试图在 Amazon ELB 中查看它，但没有找到。那么是否可以在 Amazon ELB 中做到这一点，或者有什么办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:42:05.183

抱歉 - 除了支持粘性会话之外，ELB 中没有基于请求的路由逻辑。

# x86 - What does "[es:eax]" in "mov byte [es:eax], dl" mean in NASM x86 assembler?

> ID：13263401
> 
> 赞同：1
> 
> 时间：2012-11-07T05:05:33.770
> 
> 标签：x86, nasm

Can somebody explain what

```
mov byte [es:eax], dl 
```

would mean in NASM x86 assembler?

Specifically the [es:eax] part.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:28:49.903

[es:eax] 的语法表示间接移动，其中 es:eax 寄存器组合包含一个地址，存储在寄存器 dl 中的字节将存储在该地址。

es 是段寄存器，eax 是用于地址计算的通用寄存器。我假设这是一个 16 位地址模型，因此段寄存器和 eax 寄存器的组合为远指针提供了完整的 32 位地址。

有关基本说明和地址的信息，请参阅此[网页](http://www.csc.depauw.edu/~bhoward/asmtut/asmtut4.html)。

这个[关于有效地址的网页](http://www.tortall.net/projects/yasm/manual/html/nasm-effaddr.html)以及[这个关于地址](http://www.cs.virginia.edu/~evans/cs216/guides/x86.html)的网页。

# java - 在并行处理中需要澄清

> ID：13263409
> 
> 赞同：0
> 
> 时间：2012-11-07T05:07:40.807
> 
> 标签：java, multithreading, parallel-processing

例如，如果我使用**双核处理器并在****不**使用**线程**的情况下编写 java 程序。这是否意味着程序**执行**是**顺序**的，并且它只会在双核中**使用单核**？

* * *

例如，如果我使用**双核处理器并****使用线程**和同步编写 java 程序 。这是否意味着程序**执行**是**并行**的并且它将**使用所有可用的内核**（在这种情况下是两个内核）？

如果我的推理完全错误，那么**线程，核心**和**并行**性之间的**关系**是什么？

 ***** * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:11:09.187

首先，JVM 有许多后台线程，它们将使用多个 CPU 和内核，即使用户代码从未分叉另一个线程。例如，如果可能，垃圾收集器将在另一个 CPU 中同时运行，而不管用户代码如何。

如果您的用户代码从不分叉另一个线程，则 JVM 将永远不会在多个 CPU 中同时运行您的代码。如果您确实使用多个线程编写程序，则无法保证它将在多个 CPU 中运行，但肯定更有可能。这在很大程度上取决于操作系统上运行的其他内容以及线程的阻塞程度。如果您的线程消耗大量 CPU 周期并在现代操作系统上运行任意时间长度，那么是的，您的程序将同时使用两个 CPU。

您可以在 Linux 操作系统（和其他 Unixen）上通过观察您的进程是否在任何时候消耗超过 100% 的 CPU 来验证这一点。您还可以使用`ps`选项来显示底层线程及其 CPU 使用率。在这里查看我的答案：[多处理器机器中 posix 线程的并发性](https://stackoverflow.com/questions/10089552/concurrency-of-posix-threads-in-multiprocessor-machine/10089606#10089606)****

# ajax - jQuery 错误 - 未捕获的错误：无法在同一帧中加载 XRegExp 两次

> ID：13263410
> 
> 赞同：0
> 
> 时间：2012-11-07T05:07:47.517
> 
> 标签：ajax, jquery, jqplot

我有一个按钮，onclick 我正在对我的一个页面（其中包含 jqplot 元素）进行 AJAX 调用。

现在，第一次单击按钮时，AJAX req/res 工作正常。

当我第二次点击我的按钮时，我得到一个异常说，

> 未捕获的错误：无法在同一帧中加载 XRegExp 两次

它指向 jQuery-min 文件。关于如何解决这个问题的任何想法？

我已经尝试过[这个解决方案](https://stackoverflow.com/questions/6424633/chrome-uncaught-error-cant-load-xregexp-twice-in-the-same-frame)，但它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:40:51.310

我认为处理程序在有问题的 DOM 元素实际存在之前就被“附加”了。尝试使用`jquery.on()`.

# ios - 一旦我更改了设置包中的设置，我的应用程序可以同时获得更改吗？

> ID：13263413
> 
> 赞同：0
> 
> 时间：2012-11-07T05:08:25.860
> 
> 标签：ios, background, nsuserdefaults, synchronized, settings-bundle

我知道当我的应用程序进入前台时我可以同​​步 NSUserDefaults。但它不能满足我的要求，我希望一旦我在设置包中更改设置，我的应用程序的音量可以同时改变，即使它是在后台运行的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:19:07.967

我认为，当应用程序在后台运行（甚至手动）时，**您无法** 更改音量！！。

但是，当应用程序从后台唤醒时，您可以使用**`NSUserDefaultsDidChangeNotification`**

例子：

```
-(void)viewDidAppear:(BOOL)animated{

        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(defaultsSettingsChanged) name:NSUserDefaultsDidChangeNotification object:nil];    
  }

- (void)viewDidDisappear:(BOOL)animated{

    [[NSNotificationCenter defaultCenter] removeObserver:self];

}

-(void)defaultsSettingsChanged{

    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];

    if([[defaults stringForKey:@"speech"] isEqualToString:@"0"])
    {
        speech.hidden = YES;
    }
} 
```

# python - 拆分逗号分隔列表

> ID：13263414
> 
> 赞同：1
> 
> 时间：2012-11-07T05:08:41.193
> 
> 标签：python

> **可能重复：**
> [将列表拆分为值上的嵌套列表](https://stackoverflow.com/questions/4322705/split-a-list-into-nested-lists-on-a-value)

我有一个这样的列表：

```
['jj01','gg01',',','yy01','hh01',',','yy04','uu01'] 
```

我如何将此列表拆分为其元素 - 拆分`','`如下：

```
[['jj01','gg01'],['yy01','hh01'],['yy04','uu01']] 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:30:21.913

一种可能的“pythonic”方式来做到这一点：

```
l = ['jj01','gg01',',','yy01','hh01',',','yy04','uu01']
joined = ':'.join(l)
separated = joined.split(':,:')
final = [x.split(':') for x in separated] 
```

可以组合成一条线：

```
final = [x.split(':') for x in ':'.join(l).split(':,:')] 
```

正如评论中所指出的，这个解决方案只有在列表的内容是字符串时才有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:18:37.313

```
a = ['jj01','gg01',',','yy01','hh01',',','yy04','uu01']
b = []
d = []

for c in a:
   if c == ',':
     b.append(d)
     d = []
   else:
     d.append(c)

b.append(d)
#no b contains your split data 
```

这不是一个“聪明”的解决方案，但我认为它充其量是可读的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T05:19:22.910

人为什么这么复杂？

```
def process(lst):
    lines = []
    temp = []
    for item in lst:
        if item != ',':
            temp.append(item)
        else:
            lines.append(temp)
            temp = []
    return lines 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T05:15:22.120

这是一个比我以前想出的更聪明的解决方案：

```
import itertools
def iter_partition(itr,sep):
    iitr = iter(itr)
    res = list(itertools.takewhile(lambda x: x!=sep,iitr))
    while res:
        yield res
        res = list(itertools.takewhile(lambda x: x!=sep, iitr))

L = ['jj01','gg01',',','yy01','hh01',',','yy04','uu01']
print list(iter_partition(L,',')) 
```

但是如果你可以有连续的分隔符，这会失败： `['foo',',',',','bar']`- 你永远不会看到`bar`.

* * *

还有另一个 itertools 解决方案（这个比上一个更强大）：

```
import itertools
def iter_partition(itr,sep):
    for k,v in itertools.groupby(itr,key=lambda x:x==sep):
        if not k:
            yield (list(v)) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T05:43:17.423

以下是一个更面向功能的，尽管不可读的单行解决方案。我建议采用此处发布的更具可读性的方法之一。

```
# where 'ls' is your list
foo = zip(*[iter(filter(lambda x: x != ',', ls))]*2) 
```

编辑**正如@mgilson 正确指出的那样，我的解决方案假定您将始终有两个连续的项目后跟逗号。如果您的列表以一个奇怪的项目结束，它将被丢弃。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-11-07T05:45:03.350

static void Main(string[] args) { List str = new List() { "jj01", "gg01", ",", "yy01", "hh01", ",", "yy04", "uu01" } ; 列表 newval = new List(); StringBuilder res = new StringBuilder(); for (int i = 0; i < str.Count; i++) { if (str[i] == ",") { res.Remove(res.Length - 3, 3); newval.Add(res.ToString()); res = new StringBuilder(); } 否则 res.Append((str[i] + " , ")); //最后一项 if (i == str.Count - 1) { res.Remove(res.Length - 3, 3); newval.Add(res. ToString()); }

```
 }
        foreach (var item in newval)
        {
            Console.WriteLine(item);
        }
        Console.ReadLine();
    } 
```

# javascript - 在 JavaScript 数组中存储数据

> ID：13263415
> 
> 赞同：0
> 
> 时间：2012-11-07T05:08:42.717
> 
> 标签：javascript

这是我试图将一些数据推送到 javaScript 数组中的 jsp 代码。

```
 <%
    int proListSize =  proList.size(); 

ProfileDAO proDAO = null;

            for(int i = 0, j=1; i < proListSize; i++){

                proDAO = (ProfileDAO)proList.get(i);%>

        entireArray.push(<%= proDAO.getNetworkmapId()%> + ":"+<%=proDAO.getAssetId()%> + ":" + <%= proDAO.getCode()%>);

        <%} %> 
```

这是我试图通过使用 pop 函数来使用它的函数。

```
function GenDemographicTag() {

 var ptag = "<!-- Begin "+networkNameToUpperCase+" -->\n" ;
            var t = "";
             if (WhiteTagLabelDomain) {
                ptag += "<iframe src=\"http://"+WhiteTagLabelDomainTrim+"/jsc/"+folderName+"/dm.html?";
             } else {
                ptag += "<iframe src=\"http://"+cdnName+"/jsc/"+folderName+"/dm.html?";
             }
            ptag += "n="+networkId+";";

            for(var i = 0;i< entireArray.length;i++){
                var combinedString = entireArray.splice(1,1);
                var rightSide = combinedString.split(':')[0];
                var middle = combinedString.split(':')[1];
                var leftSide = combinedString.split(':')[2];
            t = "";
            if ( $("proElementEnable_"+rightSide) && $("proElementEnable_"+leftSide).checked) {
                if ( middle == "1") {
                   if ( $("zip").value.length <= 0) {
                     t = "0";
                    } else {
                  t =  $("zip").value;
                    }
                } else if ( $("targetList_"+rightSide) && $("targetList_"+rightSide).length > 0 &&  $("targetList_"+rightSide).options[0].value != "-1") {
                    t =  makeProelementList($("targetList_"+rightSide));
                 }
                ptag += leftSide+"=" + t+ ";";
            }

             proDAO = null;
            }

            ptag += "\" frameborder=0 marginheight=0 marginwidth=0 scrolling=\"no\" allowTransparency=\"true\" width=1 height=1>\n</iframe>\n<!-- end "+networkNameToUpperCase+"   -->\n";

            document.forms[0].tag.value = ptag;

        } 
```

基本上我正在尝试从 proList 获取数据并将其存储在 javaScript 数组（entireArray）中......这样我就可以在 javascript 函数中使用......但是在完成上述操作后，我得到一个 javaScript 错误，如下所示：

```
entireArray.push(3 + ":"+3 + ":" + d3);

entireArray.push(185 + ":"+5 + ":" + d4);

entireArray.push(2 + ":"+2 + ":" + d2);

entireArray.push(186 + ":"+5 + ":" + d9);

entireArray.push(183 + ":"+5 + ":" + d6);

entireArray.push(184 + ":"+5 + ":" + d7);

entireArray.push(187 + ":"+5 + ":" + da);

entireArray.push(445 + ":"+5 + ":" + db);

Reference Error:d3 is not defined. 
```

什么是确切的问题..？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:40:22.363

splice 的返回类型是一个 ARRAY ，所以你可以试试下面的代码

```
var combinedString = entireArray.splice(1,1);
var rightSide = combinedString[0].split(':')[0];
var middle = combinedString[0].split(':')[1];
var leftSide = combinedString[0].split(':')[2]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:13:25.290

`d3`应该在引号中。`"d3"`

您需要将 JSP 的 out 放在引号中。

```
entireArray.push(<%= proDAO.getNetworkmapId()%> + ":"+<%=proDAO.getAssetId()%> + ":" + '<%= proDAO.getCode()%>'); 
```

# javascript - 如何在不使用 ActiveXObject 的情况下通过 IE 7 和 8 浏览器访问 os 中的文件系统？

> ID：13263418
> 
> 赞同：0
> 
> 时间：2012-11-07T05:08:53.047
> 
> 标签：javascript, internet-explorer-7, activexobject, file-access

如何在IE7和IE8的java脚本中创建文件或列出文件夹中的文件。在OS中访问文件系统一般，java脚本使用ActiveXObject。但是我需要通过任何其他方式而**不是通过 ActiveXObject访问文件系统。**

**如果我使用 ActiveXObject**作为访问方式，每次访问都会出现一个**弹出窗口**，**询问用户是否允许 ActiveXobject** **。当 dy 每次都面对这个弹出窗口时，对客户端**来说并不困难。

 **是否存在任何 Java 脚本 API 来访问文件系统而不使用 ActiveXObject 或存在任何技术来做这些事情......？

我必须在 IE7 和 IE8 中实现文件系统访问应用程序

如果有人知道，请分享您的知识。

提前致谢....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:16:09.733

在没有浏览器插件的情况下，IE7/IE8 无法访问本地计算机的文件系统，因为这样做存在重大安全风险，并且这些浏览器不支持任何更现代的文件处理方式。

如果您解释您真正想要解决的实际问题，而不是像您当前的问题那样通用的东西，您可能会得到更好的想法。

如果这是一个企业环境，您可以在企业浏览器中预装一些 ActiveX 设置，以允许您的 ActiveX 插件在没有提示的情况下运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:21:28.337

Silverlight 可以在第 5 版中评估对浏览器应用程序的信任
第一次它会询问用户（我还没有测试过）
请注意，用户必须先安装 Silverlight，然后您才能通过 C# 开发自己的应用程序**

# python - 当客户端断开连接时，为什么我的服务器会打印无穷无尽的 \n？

> ID：13263426
> 
> 赞同：-1
> 
> 时间：2012-11-07T05:09:36.310
> 
> 标签：python, sockets

我正在创建服务器，但我碰壁了，似乎无法爬过它......

我当前的代码运行良好，直到用户与服务器断开连接。无数的 \n 被打印出来，我似乎无法弄清楚为什么。

我知道问题出在 recv 函数上。我相信这与我的线程有关，但我似乎无法弄清楚它是什么。

这是代码，如果有人可以帮助我，我将不胜感激。

```
def recv(self, obj, addr, s):
    while True:
        try:print obj.recv(1024)
        except:pass

def connect(self, port):
    s = socket.socket()
    s.bind(('', port))
    s.listen(1)
    self.clearscreen()

    print "Waiting for connections..."
    while True:
        obj, addr = s.accept()
        verify = obj.recv(1024)
        if verify == "ea25364e2dab91b40ae4f73163854b5d":
            print "\n"+str(addr) + " has connected.\n "
            self.conns[addr] = obj
            try:
                Thread(target=self.handle, args=(obj, addr, s)).start()
                Thread(target=self.recv, args=(obj, addr, s)).start()
            except:pass
        else:pass 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:01:01.773

因为您在调用 recv() 时从不检查 EOS，所以您永远不会检测到断开连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T23:16:45.437

好吧，看来我已经想通了。

```
 def recv(self, obj, addr, s):
      while True:
          try:a = obj.recv(1024)
          except:pass
          if not p: return 1
          else: print a 
```

# iphone - “CodeResources 文件必须是符号链接”

> ID：13263435
> 
> 赞同：1
> 
> 时间：2012-11-07T05:10:52.643
> 
> 标签：iphone

![在此处输入图像描述](../Images/765e7f83367f2fd1b50fa06e928a09e2.png)

当我将 Iphone 上传到 App Store 时，就会出现以下错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:14:44.993

XCode（新提交界面）也有同样的问题，只需要：

```
delete the build folder
clean, and then
build and archive again. 
```

# asp.net - 我想在 div 中使用 li 标签，但不建议这样做。还有其他方法吗？

> ID：13263439
> 
> 赞同：5
> 
> 时间：2012-11-07T05:11:18.243
> 
> 标签：asp.net, html

```
<div class="Port"> 
    <li class="FieldList"><asp:Label CssClass="label" ID="Label4" runat="server"></asp:Label></li>
    <li class="FieldList"><asp:Label CssClass="label" ID="Label19" runat="server"></asp:Label></li>
    <li class="FieldList"><asp:Label CssClass="label" ID="Label20" runat="server"></asp:Label></li>
</div> 
```

但是在 div 中使用 li 会显示警告——验证（XHTML 1.0 过渡）：元素“li”不能嵌套在元素“div”中。请给任何建议

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:15:58.130

如何将`li`s 包裹在一个`ul`

```
<div class="Port"> 
  <ul>
    <li class="FieldList"><asp:Label CssClass="label" ID="Label4" runat="server"></asp:Label></li>
    <li class="FieldList"><asp:Label CssClass="label" ID="Label19" runat="server"></asp:Label></li>
    <li class="FieldList"><asp:Label CssClass="label" ID="Label20" runat="server"></asp:Label></li>
  </ul>
</div> 
```

这样`li`s 仍然嵌套在 div 中，但现在有效

# java - 将 getter 和 setter 动态添加到现有类

> ID：13263440
> 
> 赞同：0
> 
> 时间：2012-11-07T05:11:31.837
> 
> 标签：java

曾经有人建议我如何将getter和setter动态添加到现有类中？我需要创建同一个类的实例以供进一步使用。我将在编译时上 Pojo 类。在运行时读取属性文件并需要创建 getter 和 setter 那些实体

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:25:13.533

Java 没有内置的方法来添加全新的方法。您可以尝试使用嵌入式脚本引擎 (http://docs.oracle.com/javase/6/docs/api/javax/script/package-summary.html)，然后使用 Javascript、jRuby、Groovy 等。那些语言将根据您的需要提供更多运行时功能，并且应该能够与您的 java 代码进行交互。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:16:44.677

您可以为它创建一个包装器：

```
public class MyWrapper extends TheClass {
    private TheClass theClass;

    //getter/setters
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:24:43.613

如前所述，不可能，因为不允许动态修改类。

如果现有类上有一个接口可以改用，则可以使用 Java 的动态代理支持来添加 getter 和 setter。

```
private static class InstanceProxy implements InvocationHandler {
    public Object invoke(Object proxy, Method method, Object[] args) 
      throws Throwable {
        String methodName = method.getName();
        // Do logic based on method name
    }
} 
```

并使用[`java.lang.reflect.Proxy.newProxyInstance`](http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Proxy.html#newProxyInstance%28java.lang.ClassLoader,%20java.lang.Class%5B%5D,%20java.lang.reflect.InvocationHandler%29).

这些代理对象将具有给定的接口和调用方法的动态逻辑。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T19:24:27.440

这是可以做到的。通常 ORM 工具会做类似的事情。它被称为字节码编织/字节码增强。您可以使用 BCEL 等 3rd 方字节码工程库来完成它。

尝试谷歌搜索，这里有一些链接可以让您更深入地了解该主题。

[字节码编织](https://www.google.co.in/search?q=java%20bytecode%20weaving&aq=1&oq=java%20weaving&sugexp=chrome,mod=0&sourceid=chrome&ie=UTF-8)
[字节码增强](https://www.google.co.in/search?q=java+code+enhancement&aq=1&oq=java+code+enh&sugexp=chrome,mod=0&sourceid=chrome&ie=UTF-8)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T05:26:13.323

根据您的编辑，最好`Map<String, String>`在 POJO 内部有一个在运行时加载新属性/值：

```
public class SomePojo {
    private int intAttribute;
    private String stringAttribute;
    private Map<String, String> dynamicProperties = new HashMap<String, String>();

    //getters and setters...
}

public class BLClass {

    public static void loadProperties(Properties properties, SomePojo pojo) {
        Enumeration<?> enumeration = properties.propertyNames();
        while (enumeration.hasMoreElements()) {
            String key = (String) enumeration.nextElement();
            String value = properties.getProperty(key);
            pojo.getDynamicProperties().put(key, value);
        }
    }
} 
```

# linux - 拒绝访问 apache 拥有的文件

> ID：13263442
> 
> 赞同：0
> 
> 时间：2012-11-07T05:11:40.267
> 
> 标签：linux, apache, ssh, vps

我正在尝试将数据从我的 VPS 迁移到另一个。问题是，对于我从其中移动文件的 VPS，我没有 root 访问权限，并且大多数用户上传的内容都归 apache 所有，因此当我尝试时`rsync`我得到了`access denied`. 我从我有权访问的帐户中尝试了 chown，但似乎该帐户无法更改这些文件的所有者（但我也可能做错了，因为我是 SSH 新手。所以请告诉我正确的递归更改文件夹和子文件夹中所有文件的所有权的语法。我试过了`chown -R dirname/*`）。那么还有其他方法可以移动这些文件吗？

另外，如果我重置密码（我在 godaddy linux-VPS 上），它会影响我的网站或导致任何停机时间吗？如果我获得 root 访问权限，这对这件事有帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T19:50:51.883

在 Go Daddy Linux VPS 上重置密码不会导致任何停机。密码重置应该只更改用户和根密码。以用户身份登录到服务器后，您将使用“su”命令更改为 root 用户。您不能直接以 root 身份登录。该命令将如下所示：

```
 #su - 
```

以 root 身份登录后，您应该能够毫无问题地执行 rsync。

# c# - 更改 sqlmembership 提供程序中的类型字段

> ID：13263450
> 
> 赞同：1
> 
> 时间：2012-11-07T05:12:37.530
> 
> 标签：c#, .net, web-config, membership-provider

让我们考虑以下 web.config 文件

```
<?xml version="1.0" encoding="utf-8"?>
<configuration xmlns="http://schemas.microsoft.com/.NetConfiguration/v2.0">
  <connectionStrings>

  </connectionStrings>
  <system.web>
    <pages theme="PetShop" styleSheetTheme="PetShop" controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID">
      <controls>
        <add tagPrefix="blt" namespace="BLToolkit.Web.UI" assembly="BLToolkit.4" />
      </controls>
    </pages>
    <!--
            Set compilation debug="true" to insert debugging 
            symbols into the compiled page. Because this 
            affects performance, set this value to true only 
            during development.
        -->
    <compilation debug="true" targetFramework="4.0">
      <assemblies>
        <add assembly="System.Data.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
      </assemblies>
    </compilation>
    <!--
            The <authentication> section enables configuration 
            of the security authentication mode used by 
            ASP.NET to identify an incoming user. 
         -->
    <authentication mode="Forms">
      <forms name="PetShopAuth" loginUrl="SignIn.aspx" protection="None" timeout="60" />
    </authentication>
    <!--
            The <customErrors> section enables configuration 
            of what to do if/when an unhandled error occurs 
            during the execution of a request. Specifically, 
            it enables developers to configure html error pages 
            to be displayed in place of a error stack trace.
        -->
    <customErrors defaultRedirect="Error.aspx" mode="RemoteOnly" />
    <sessionState mode="Off" />
    <anonymousIdentification enabled="true" />
    <profile automaticSaveEnabled="false" defaultProvider="ShoppingCartProvider">
      <providers>
        <add name="ShoppingCartProvider" connectionStringName="ProfileDB" type="PetShop.BusinessLogic.ProfileProvider" applicationName=".NET Pet Shop 4.0" />
        <add name="WishListProvider" connectionStringName="ProfileDB" type="PetShop.BusinessLogic.ProfileProvider" applicationName=".NET Pet Shop 4.0" />
        <add name="AccountInfoProvider" connectionStringName="ProfileDB" type="PetShop.BusinessLogic.ProfileProvider" applicationName=".NET Pet Shop 4.0" />
      </providers>
      <properties>
        <add name="ShoppingCart" type="PetShop.BusinessLogic.Cart" allowAnonymous="true" provider="ShoppingCartProvider" />
        <add name="WishList" type="PetShop.BusinessLogic.Cart" allowAnonymous="true" provider="WishListProvider" />
        <add name="AccountInfo" type="PetShop.ObjectModel.Address" allowAnonymous="false" provider="AccountInfoProvider" />
      </properties>
    </profile>
    <!-- Membership Provider for SqlServer -->
    <membership defaultProvider="SQLMembershipProvider">
      <providers>
        <add name="SQLMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="MembershipDB" applicationName=".NET Pet Shop 4.0" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" passwordFormat="Hashed" />
      </providers>
    </membership>
    <caching>
      <sqlCacheDependency enabled="true" pollTime="10000">
        <databases>
          <add name="MSPetShop4" connectionStringName="SQLConnString1" pollTime="10000" />
        </databases>
      </sqlCacheDependency>
    </caching>
  </system.web>
  <location path="UserProfile.aspx">
    <system.web>
      <authorization>
        <deny users="?" />
      </authorization>
    </system.web>
  </location>
  <location path="CheckOut.aspx">
    <system.web>
      <authorization>
        <deny users="?" />
      </authorization>
    </system.web>
  </location>
</configuration> 
```

通过阅读上述配置文件，我需要更改成员提供程序节点中类型字段的属性值。

```
 type="System.Web.Security.SqlMembershipProvider" 
```

到新的价值

type="sample.SqlMembershipProvider"

通过 c#.net lambda 表达式

等待您的回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:11:19.820

我完成了解决方案

```
 var xDoc = XDocument.Load(inputPathToConfigFile);
                var ns = xDoc.Descendants().First(x => x.Name.LocalName == "configuration").Name.Namespace;

                var prop = xDoc.Descendants(ns + "membership")
                .First(p => p.Attribute("defaultProvider").Value == "SQLMembershipProvider");

               if(prop.HasAttributes)
               {
                   var prop1 = prop.Descendants(ns + "add").First(p => p.Attribute("type").Value == "System.Web.Security.SqlMembershipProvider");
                   prop1.Attribute("type").Value = "sample.membershipprovider";
                   xDoc.Save(inputPathToConfigFile);

               } 
```

仅供参考...

# c# - 如何删除字符串中的字符？

> ID：13263452
> 
> 赞同：-1
> 
> 时间：2012-11-07T05:12:37.580
> 
> 标签：c#, string

如何删除字符串中的某些字符..

```
string s="testpage\information.xml" 
```

我只需要 information.xml 怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:15:49.610

假设将在其中的值`s`始终是文件路径，使用`Path`类来提取文件名

```
var filename = Path.GetFileName(s); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:17:30.967

`System.IO.Path`由于字符串包含文件路径信息，因此可能会对您有所帮助。在您的情况下，您可以使用`Path.GetFileName(string path)`从字符串中获取文件名。

**例子**

```
string s = @"testpage\information.xml";
string filename = Path.GetFileName(s);
//MessageBox.Show(filename); 
```

谢谢，
我希望你觉得这有帮助:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:18:02.777

文件路径的格式为

`aaaa\bbb\ccc\dddd\information.xml`

要检索最后一个字符串，您可以使用分隔符分割您的字符串`\`

```
String path = @"aaaa\bbb\ccc\dddd\information.xml";
String a[] = path.Split('\\'); 
```

这将使字符串数组为`["aaaa", "bbb", "ccc", "dddd", "information.xml"]`

您可以将文件名检索为

```
String filename = a[a.Length-1]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T05:19:09.433

如果您使用文件路径，请参阅[Path.GetFileName](http://msdn.microsoft.com/en-us/library/system.io.path.getfilename.aspx)方法 它不会检查文件是否存在。所以会更快。

```
s = Path.GetFileName(s); 
```

如果需要检查文件是否存在，请使用 File.Exists 类。

另一种方法是使用 String.Split() 方法

```
string[] arr = s.Split('\\');
if(arr.Length > 0)
{
  s = arr[arr.Length - 1];
} 
```

另一种方法是使用正则表达式

```
s = Regex.Match(s, @"[^\\]*$").Value; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T05:19:11.897

如果它是文件路径，那么您可以使用`System.IO.Path`类 ( [MSDN](http://msdn.microsoft.com/en-us/library/system.io.path.aspx) ) 来提取文件名。

```
string s = "testpage\information.xml"
var filename = Path.GetFilename(s); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-07T05:21:15.590

如果它总是在反斜杠分隔符的右边，那么你可以使用：

```
if (s.Contains(@"\")) 
     s= s.Substring(s.IndexOf(@"\") + 1); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-07T05:27:49.793

希望这是你想要的：

```
var result=s.Substring(s.LastIndexOf(@"\") + 1); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-07T06:16:19.807

您可以使用以下代码行来获取文件扩展名。

```
string filePath = @"D:\Test\information.xml";
string extention = Path.GetExtension(filePath); 
```

如果您需要单独使用文件名，

```
string filePath  = @"D:\Test\information.xml";
string filename = Path.GetFilename(filePath ); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-11-07T06:30:45.143

使用 string.Replcae

```
string s = @"testpage\information.xml";
s = s.Replace(@"testpage\\",""); // replace  'testpage\' with empty string 
```

你会得到 Output => s=information.xml

@ 只需要因为你的字符串中有反斜杠

有关字符串替换的进一步阅读

[http://www.dotnetperls.com/replace](http://www.dotnetperls.com/replace)

[http://msdn.microsoft.com/en-us/library/system.string.replace.aspx](http://msdn.microsoft.com/en-us/library/system.string.replace.aspx)

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2012-11-07T05:22:54.940

在 C++ 中，你可以做这样的事情。基本上从路径的右到左搜索“/”或“\”，并从第一次出现的分隔符开始裁剪字符串：

```
string ExtractFileName(const string& strPathFileName)
{
    size_t npos;
    string strOutput = strPathFileName;
    if(strPathFileName.rfind(L'/', npos) || strPathFileName.rfind(L'\\', npos))
    {
        strOutput = strPathFileName.substr(npos+1);
    }
    return strOutput;
} 
```

# python - 用空格填充列表元素，给出最小长度

> ID：13263454
> 
> 赞同：3
> 
> 时间：2012-11-07T05:12:46.093
> 
> 标签：python, list, pad

对于长度小于最小值的任何名称，将列表中的该项替换为包含名称的新字符串，并在右侧添加空格以达到最小长度。

例如，如果列表包含名称“Sue”且最小长度为 5，则该项目将替换为填充有 2 个空格的名称：“Sue”。任何已经达到最小长度或更长的名称都不会改变。

```
for words in list_of_names:  
    if len(words) < min_length:  
        answer = min_length - len(words) 
```

现在我想得到答案*并将该数量的空格添加回列表中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:30:16.610

高级字符串格式允许您[分配特定的宽度](http://docs.python.org/2/library/string.html#format-examples)：

```
>>> ['{:<5}'.format(x) for x in list_of_words]
['Sue  ', 'Alicia', 'Jen  '] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:06:02.480

不确定，但是：

```
if len(word) < minSize:
    word += ' ' * (minSize - len(word)) 
```

或者：

```
correct_size = lambda word, size: word if len(word) >= size else word + ' ' * (size - len(word))
correct_size('test', 6)
>>> 'test  ' 
```

什么意思：

```
size = 6
lVals = ['test', 'where', 'all', 'simple', 'cases', 'tested']
lVals = [correct_size(word, size) for word in lVals]
print lVals
>>> ['test  ', 'where ', 'all   ', 'simple', 'cases ', 'tested'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:21:19.453

您可以使用它`str.ljust()`来执行此操作：

```
list_of_words = ['Sue', 'Alicia', 'Jen']

new_list = []
for word in list_of_words:
    if len(word) < 5:
        new_list.append(word.ljust(5))
    else:
        new_list.append(word)

print(new_list) 
```

# java - 在不同时间将多行写入文件

> ID：13263456
> 
> 赞同：0
> 
> 时间：2012-11-07T05:12:55.383
> 
> 标签：java, file, file-io

我已经完成了我的程序的基础知识。

这个想法是用户可以指定形状颜色宽度高度等。输入数据后，调用构造函数来创建输出，或者还有其他选项可以创建用户可以指定的输出。

我的目标是将所有这些输出放入一个文本文件中。

目前我创建了一个扫描仪来阅读：

```
static Scanner input = new Scanner(System.in); 
```

然后在我的主要驱动程序方法中，我创建了一个格式化程序：

```
public static void main(String[] args) {
        Formatter output = null;
        try{
            output = new Formatter("output.txt");
        }
        catch(SecurityException e1){
            System.err.println("You don't have" +
                    " write accress to this file");
            System.exit(1);
        }
        catch(FileNotFoundException e){
            System.err.println("Error opening or" +
                    " creating file.");
            System.exit(1);
        } 
```

每次我期望输出后，我都放置了这段代码：

```
output.format("%s", input.nextLine()); 
```

最后我关闭文件

```
output.close() 
```

该文件已创建，但当前为空白。我知道我走在正确的轨道上，因为我尝试过这样做：

```
output.format("%d", i); 
```

其中 i 是整数 0 并且文件正确写入。

但是，我似乎无法让它适用于整条生产线，或者根本无法适用于输出。

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:04:20.427

我不是专家，但为什么你不能只使用“FileWriter”？
是因为您想捕获这些异常以向用户显示有用的信息吗？
还是我完全误解了这个问题？- 如果是这样，对不起，请忽略这一点。

```
import java.io.FileWriter;
import java.io.IOException;

try
{
FileWriter fout = new FileWriter("output.txt"); // ("output.txt", true) for appending
fout.write(msg); // Assuming msg is already defined
fout.close();
}
catch (IOException e)
{
e.printStackTrace();
} 
```

# python - 从python中的字符串中仅获取所需的部分

> ID：13263457
> 
> 赞同：1
> 
> 时间：2012-11-07T05:12:57.043
> 
> 标签：python, string

假设我有如下字符串

```
data = "/phones/pages/nokia_overview.aspx pid=46&cid=raj 80" 
```

现在我想从`/`up to的字符串中获取 url `.aspx`。我的意思是实际上可能有很多如上所述的字符串，但是我们希望`.aspx`通过忽略字符串的剩余部分来从字符串的开头到扩展名获取字符串`.aspx`

这里字符串的长度可能会有所不同，因为有时 url 会更大，有时会很小，所以基于 .aspx 扩展名我想从上面的字符串中获取 url

谁能让我知道我们如何在python中做到这一点

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T05:35:12.297

由于这是标准日志格式，您可以这样做：

```
>>> s = "2012-11-04 23:00:07 10.1.151.54 GET /pages/index.aspx - 80 - 10.1.151.5
9 - 200 0 64 374"
>>> s.split()[4]
'/pages/index.aspx' 
```

* * *

> `/phones/pages/nokia_overview.aspx pid=46&cid=raj 80`根据我之前提到的完整字符串的某些要求，我已经通过执行某些操作得到了一些字符串。`.aspx`我的意图是从我在问题中提到的上述字符串中获取所需的字符串

```
>>> s = "/phones/pages/nokia_overview.aspx pid=46&cid=raj 80"
>>> s.split()[0]
'/phones/pages/nokia_overview.aspx' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:01:15.337

从第一个/到下一个''剪切的简单功能

```
def pathPart(s):
    pos_slash = s.find('/')
    if pos_slash < 0: pos_slash = len(s)
    pos_space = s.find(' ', pos_slash)
    if pos_space < 0: pos_space = len(s)
    return s[pos_slash : pos_space] 
```

# javascript - javascript: 带有屋顶和地板的随机颜色生成器

> ID：13263459
> 
> 赞同：1
> 
> 时间：2012-11-07T05:13:06.303
> 
> 标签：javascript, math, colors

嗨，前几天我在玩数学随机并制作了一个 RGB 颜色生成器，并成功地能够使用文本输入来限制随机数的屋顶，但无法让地板工作。这是 JSFiddle [http://jsfiddle.net/synthet1c/3KR83/](http://jsfiddle.net/synthet1c/3KR83/)

这是我制作的Javascript函数

```
function randomColor(){

    var roof =  document.getElementById('textRoof').value,
        floor = document.getElementById('textFloor').value;

    var r = Math.floor((Math.random()*roof)+floor);
    var g = Math.floor((Math.random()*roof)+floor);
    var b = Math.floor((Math.random()*roof)+floor);

    if (r < 10) { var r = "0" + r}
    if (r < 100) { var r = "0" + r};

    if (g < 10) { var g = "0" + g};
    if (g < 100) { var g = "0" + g};

    if (b < 10) { var b = "0" + b};
    if (b < 100) { var b = "0" + b};

    document.getElementById('header').style.color= "rgb("+r+","+g+","+b+")"
    document.getElementById('text').value = "rgb("+r+","+g+","+b+")"

} 
```

这只是为了学习它，但任何帮助表示赞赏。

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:21:43.267

```
var roof =  document.getElementById('textRoof').value,
  floor = document.getElementById('textFloor').value;

// convert the string values to integer values
roof = parseInt(roof);
floor = parseInt(floor);

var r = Math.floor((Math.random()*(roof-floor))+floor);
var g = Math.floor((Math.random()*(roof-floor))+floor);
var b = Math.floor((Math.random()*(roof-floor))+floor); 
```

[活生生的例子](http://jsfiddle.net/coltrane/3KR83/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:32:41.567

1.  你的**发言**是一个文本。你需要一个整数 - parseInt。
2.  您可以通过使用位移来简化颜色获取。

    ```
    function randomColor(){

    var roof =  parseInt(document.getElementById('textRoof').value),
        floor = parseInt(document.getElementById('textFloor').value);

    var r = floor + Math.floor(Math.random()*(roof-floor));
    var g = floor + Math.floor(Math.random()*(roof-floor));
    var b = floor + Math.floor(Math.random()*(roof-floor));

    var color = ((r << 16) + (g << 8) + b).toString(16);

    document.getElementById('header').style.color= 
        "#000000".replace(new RegExp(".{"+color.length+"}$"), color);

    document.getElementById('text').value = "rgb("+r+","+g+","+b+")"

    } 
    ```

# android - 如何在android中使用服务启动警报管理器

> ID：13263462
> 
> 赞同：0
> 
> 时间：2012-11-07T05:13:31.503
> 
> 标签：android

我进行了很多搜索，总是发现警报管理器总是在广播接收器的帮助下开始，而不是直接使用服务。我想知道为什么会这样，请告诉我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:29:10.120

根据您的 Pending Intent，警报管理器可以启动服务、广播接收器或活动。

```
getActivity(Context, int, Intent, int),
getBroadcast(Context, int, Intent, int), 
getService(Context, int, Intent, int); 
```

您可以使用任何待处理的 Intent 方法，您的警报将提示活动或接收器或服务。

# wordpress - WordPress 微型 mce 编辑器未添加 到可视化编辑器中

> ID：13263464
> 
> 赞同：3
> 
> 时间：2012-11-07T05:14:09.943
> 
> 标签：wordpress, tinymce, line-breaks

我在 WordPress 默认编辑器中遇到了一些奇怪的问题。我安装了 WordPress 3.4.2，经过几次 CSS 自定义后，我开始创建页面。

在创建页面时，我开始知道可视化编辑器没有添加任何换行符`<br>`。取而代之的是添加`<div> </div>`标签。

有什么建议可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T18:45:11.257

当我在 wordpress 3.4.1 中进行测试时，它被替换为`<P>`。任何 。我想你应该只需要在`<div>`标签中隔开，如下所示

```
.something div { margin:20px 0px } 
```

在 CSS 中

# android - 在android的listview中显示放置在raw文件夹中的所有pdf？

> ID：13263465
> 
> 赞同：0
> 
> 时间：2012-11-07T05:14:13.667
> 
> 标签：android

我想在列表视图中显示放置在原始文件夹中的所有 .pdf 文件。当我单击一个按钮时，它应该显示 pdf 文件列表。实际上，我想将列表中的选定 pdf 从我的 android 应用程序上传到 Dropbox。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:24:54.743

```
AssetManager assetManager = mContext.getAssets();
String[] arrData = assetManager.list("pdfFolder");//name of your directory as assets/pdfFolder/abc.pdf
List<String> pdfList = new ArrayList<String>();
int size =  arrData.length();
for(int i = 0;i<size;i++)
{
  if(arrData[i].contains(".pdf"))

  {
    pdfList.add(arrData[i]); 
   }
}
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
              android.R.layout.simple_list_item_1, android.R.id.text1, pdfList);
ListView listView = (ListView) findViewById(R.id.mylist);
listView.setAdapter(adapter); 
```

# grails - grails 插件 DSL 指定 zip 文件

> ID：13263474
> 
> 赞同：1
> 
> 时间：2012-11-07T05:15:22.620
> 
> 标签：grails, plugins

在 BuildConfig.groovy 中使用 grails 插件 dsl 时，如

```
plugins {
    build "org.grails.plugins:db-util:0.4"
} 
```

有没有办法像你一样指定使用 zip 文件中的插件`grails install-plugin`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T08:47:06.987

不是直接的，而是你将 zip 文件放在一个目录中并在不带`grails-`前缀的情况下命名它，然后将该目录声明为`flatDir`存储库，然后 Grails 将能够从那里解析插件。

```
repositories {
  flatDir name:'localPlugins', dirs:'../local-plugins'
}
// copy plugin zip to ../local-plugins/my-plugin-1.2.zip
plugins {
  compile ':my-plugin:1.2'
} 
```

或者，如果它是本地构建的插件，您可以将其安装到本地 maven 缓存中，使用`grails maven-install`并使用`mavenLocal()`而不是`flatDir`.

# go - 如何在 Go 中求立方根？

> ID：13263477
> 
> 赞同：6
> 
> 时间：2012-11-07T05:15:37.623
> 
> 标签：go

我正在使用牛顿法在 Google Go 中编写立方根函数。我想使用 math/ 检查结果`cmplx.Pow()`，但对于我的生活，我不知道如何。我该怎么做呢？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-07T05:25:13.750

你试过`myCubicRootOfx = Pow(x, 1.0/3)`吗？

**编辑**：感谢`Jason McCreary`评论：
我们不能`1/3`用作第二个参数，`Pow`因为这是一个整数除法，因此不会产生预期的 1/3 值。通过使用`1.0/3`or`1/3.0`等​​，我们有效地产生了一个具有 0.333333... 值的浮点数。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-28T03:17:01.443

[作为Go Tour 练习 47](http://tour.golang.org/#47)的一部分，我使用牛顿法编写了立方根函数。也许下面的两个函数 (`Cbrt1`和`Cbrt`) 是有帮助的。

```
package main

import (
    "fmt"
    "math/cmplx"
)

// Newton's method cube root function that hopes for
//   convergence within 20 iterations
func Cbrt1(x complex128) complex128 {
    var z complex128 = x
    for i:= 0; i < 20; i++ {
        z = z - ((z*z*z - x) / (3.0*z*z))
    }
    return z
}

// Newton's method cube root function that runs until stable
func Cbrt(x complex128) complex128 {
    var z, z0 complex128 = x, x
    for {
        z = z - ((z*z*z - x) / (3.0*z*z))
        if cmplx.Abs(z - z0) < 1e-10 {
            break
        }
        z0 = z
    }
    return z
}

func main() {
    fmt.Println(Cbrt(2.0) , "should match" , cmplx.Pow(2, 1.0/3.0))
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T07:23:45.957

当您使用牛顿法时，我想您从一个正实数开始。

所以你不需要复数。

你可以简单地做

```
package main

import (
    "fmt"
    "math"
)

func main() {
    x := 100.0
    root := math.Pow(x, 1.0/3.0)
    fmt.Println(root)
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T07:11:50.053

例如，

```
package main

import (
    "fmt"
    "math/cmplx"
)

func main() {
    var x complex128
    x = -8
    y := cmplx.Pow(x, 1.0/3.0)
    fmt.Println(y)
    x = -27i
    y = cmplx.Pow(x, 1.0/3.0)
    fmt.Println(y)
    x = -8 - 27i
    y = cmplx.Pow(x, 1.0/3.0)
    fmt.Println(y)
    x = complex(-8, -27)
    y = cmplx.Pow(x, 1.0/3.0)
    fmt.Println(y)
} 
```

输出：

```
(1+1.732050807568877i)
(2.5980762113533156-1.4999999999999996i)
(2.4767967587776756-1.7667767800295509i)
(2.4767967587776756-1.7667767800295509i) 
```

[Go 编程语言规范](http://golang.org/ref/spec)

[封装 cmplx](http://golang.org/pkg/math/cmplx/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-05-12T00:22:43.410

看起来 go 比其他一些答案最近发生了变化，所以我想我会更新 - 他们将 cuberoot 直接构建为`math`as `Cbrt`。它需要并返回一个`float64`. 快速参考是`godoc math | grep Cbrt`（如果你已经`godoc`安装，我强烈推荐）

```
import "math"

func main() {
    var x float64 = math.Cbrt(8)
    fmt.Println(x) // prints 2
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-11-08T22:04:59.437

尝试这样的事情

```
package main

import(
        "fmt"
        "math/cmplx"
    )

func Cbrt(x complex128) complex128 {
    z := complex128(1)

    for i:=0;i<100;i++ {  // OR JUST for{ since you will outrun complex128 in worth case
      last_z := z

      z = z - ((z*z*z - x)/(3 *z*z))    
      if last_z == z{
        return z
      }
    }
    return z
}

func main() {
    fmt.Println("good enough", Cbrt(9))
    fmt.Println("builtin", cmplx.Pow(9, 1.0/3.0))
} 
```

# android - 在 Android App 中动态创建复选框

> ID：13263480
> 
> 赞同：0
> 
> 时间：2012-11-07T05:16:02.273
> 
> 标签：android, checkbox

我必须在我的应用程序中动态创建复选框。复选框的数量取决于服务器的响应。我可以使用列表视图根据服务器的响应动态创建复选框。但要求是应该加载复选框两列。请检查所附图片。请帮助我。在此先感谢![所需的桂](../Images/df18431502208bec8b67fafed8be6cd2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:24:08.707

动态创建一个 TableLayout 并用复选框填充它。

像这样的东西：

```
 TableLayout tl = new TableLayout(getActivity());
            int offset_in_column=0, table_size=/*the size of your answer from the server*/;
            TableRow tr=null;
            for (int offset_in_table=0; offset_in_table < table_size; offset_in_table++) {
                /* maybe you want to do something special with the data from the server here ? */

                if (offset_in_column == 0) {
                    tr = new TableRow(getActivity());
                    tr.setLayoutParams(new TableLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));
                }
                CheckBox check = new CheckBox(getActivity());
                check.setOnClickListener(new View.OnClickListener() {
                    @Override
                    public void onClick(View view) {
                        /* add your code here */
                    }
                });
                check.setLayoutParams(new TableRow.LayoutParams(0, ViewGroup.LayoutParams.WRAP_CONTENT, 1));
                tr.addView(check);

                offset_in_column++;
                if (offset_in_column == 2) {

                    tl.addView(tr);
                    offset_in_column = 0;
                }
            }
            if (offset_in_column != 0)
               tl.addView(tr); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:56:39.490

我希望这篇文章会有用

[如何水平对齐一些以编程方式添加的视图？](https://stackoverflow.com/questions/10796075/how-to-horizontally-align-some-programmatically-added-views)

让我知道，如果你遇到任何问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:22:05.277

您必须创建表格布局并在其中动态添加复选框。

告诉我[**`this answer`**](https://stackoverflow.com/questions/13250231/formatting-dynamic-edittext-android/13250356#13250356)你可以这样做。

您必须根据您的要求编辑此代码。

# php - 如何将下拉菜单中的数据显示到文本输入中

> ID：13263481
> 
> 赞同：0
> 
> 时间：2012-11-07T05:16:03.963
> 
> 标签：php, javascript, html, jsfiddle

我无法在各自的文本输入中显示 和`SessionName`。`SessionDate``SessionTime`

应该发生的是用户应该从下拉菜单中选择一个会话（评估）。现在，当他们提交下拉菜单时，应该在他们的文本输入中显示会话的详细信息，即`SessionName`、`SessionDate`和。`SessionTime`但是它们没有显示在文本输入中，文本输入保持为空。

我怎样才能获得`SessionName`,`SessionTime`并`SessionDate`在各自的文本输入中显示？

这是一个[jsfiddle](http://jsfiddle.net/Ypcpe/5/)，其中包含虚拟数据和相关功能，以显示应用程序的外观：

**这是我的代码：**

```
$sessionquery = "
SELECT SessionId, SessionName, SessionDate, SessionTime, ModuleId
FROM Session
WHERE
(ModuleId = ?)
ORDER BY SessionDate, SessionTime 
";

$sessionqrystmt=$mysqli->prepare($sessionquery);
// You only need to call bind_param once
$sessionqrystmt->bind_param("s",$_POST['modules']);
// get result and assign variables (prefix with db)

$sessionqrystmt->execute(); 

$sessionqrystmt->bind_result($dbSessionId,$dbSessionName,$dbSessionDate,$dbSessionTime, $dbModuleId);

$sessionqrystmt->store_result();

$sessionnum = $sessionqrystmt->num_rows();   

if($sessionnum ==0){
echo "<p>Sorry, You have No Assessments under this Module</p>";
} else { 

$sessionHTML = '<select name="session" id="sessionsDrop">'.PHP_EOL;
$sessionHTML .= '<option value="">Please Select</option>'.PHP_EOL;           

while ( $sessionqrystmt->fetch() ) {
    $sessionHTML .= sprintf("<option value='%s'>%s - %s - %s</option>", $dbSessionId, $dbSessionName, $dbSessionDate, $dbSessionTime) . PHP_EOL;  
}

$sessionHTML .= '</select>';

$assessmentform = "<form action='".htmlentities($_SERVER['PHP_SELF'])."' method='post' onsubmit='return sessionvalidation();'>
<p>Assessments: {$sessionHTML} </p>
<p><input id='sessionSubmit' type='submit' value='Submit Assessment' name='sessionSubmit' /></p>  
<div id='sessionAlert'></div>    
</form>";

echo $assessmentform;

}

}

 if (isset($_POST['sessionSubmit'])) {

$currentsession = "<form action='".htmlentities($_SERVER['PHP_SELF'])."' method='post'>
<p>Current Assessment's Date/Start Time:</p>
<p>Assessment: <input type='text' id='currentAssessment' name='Assessmentcurrent' readonly='readonly' value='{$dbSessionName}'/> </p>
<p>Date: <input type='text' id='currentDate' name='Datecurrent' readonly='readonly' value='{$dbSessionDate}'/> </p>
<p>Start Time: <input type='text' id='currentTime' name='Timecurrent' readonly='readonly' value='{$dbSessionTime}'/> </p>
<input type='hidden' id='hiddenId' name='hiddenAssessment' value='{$dbSessionId}'/>
</form>
";  

echo $currentsession;

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:31:12.663

尝试这个

**[演示](http://jsfiddle.net/pintu31/Ypcpe/9/)**

```
function fillData(){
var sel = document.getElementById('sessions').options[document.getElementById('sessions').selectedIndex].text;
var arr = sel.split(" - ");
 if(document.getElementById('sessions').value != ''){
    document.getElementById('currentAssessment').value = arr[0];
    document.getElementById('currentDate').value = arr[1];
    document.getElementById('currentTime').value = arr[2];                     
 } else {
    alert('please select option');
 }
}​

<p><input id='sessionSubmit' type='submit' value='Submit Assessment' name='sessionSubmit' onclick='fillData();' /></p> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:37:25.073

```
function SessionSplit()
{
 str=$("#sessions option:selected").text();
 substr=str.split(' - ');
 sessionname=substr[0];
 sessiondate=substr[1];
 sessiontime=substr[2];

}

$('#sessionSubmit').click(function(){

$('#currentAssessment').val(sessionname);
    $('#currentDate').val(sessiondate);
    $('#currentTime').val(sessiontime);

}); 
```

**[看演示](http://jsfiddle.net/Ypcpe/14/)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T05:40:00.723

如果 jQuery 是一个选项（并且您有时可能会觉得`button`不需要），这里是另一个选项

```
$(document).ready( function(){
    $('#sessions').change( function(){
        if( $(this).val() !== '' ){
            var text = $(this).find('option:selected').text();
            var split = text.split(' - ');
            $('#currentAssessment').val( split[0] );     
            $('#currentDate').val( split[1] );     
            $('#currentTime').val( split[2] );     
        }
        else{
            $('#currentAssessment,#currentDate,#currentTime').val('');                  
        }
    });
});​ 
```

它适用于我已编辑您的[小提琴](http://jsfiddle.net/Ypcpe/13/)以显示它`.change()`的事件。`select`

# android - 如何解析以下 JSON？

> ID：13263487
> 
> 赞同：0
> 
> 时间：2012-11-07T05:17:21.737
> 
> 标签：android, json

嗨，我是处理 JSON Format Webservices 的新手。我有Json之类的......

```
{   "meta":{"success":1},

"Countries":
[[{"Id":"1","Name":"Gibraltar",
    "Cities":
    [[{"Id":"21","Name":"Gibraltar"}]]
  },
  {"Id":"2","Name":"Canada",
    "Cities":
    [[{"Id":"22","Name":"Toronto"},
          {"Id":"39","Name":"Banff"}]]
  },
      {"Id":"4","Name":"Malta",
    "Cities":
    [[{"Id":"37","Name":"Valletta"}]]
  },
      {"Id":"51","Name":"Italy",
    "Cities":
    [[{"Id":"24","Name":"Sardinia"}]]
  },
  {"Id":"53","Name":"England",
    "Cities":
    [[{"Id":"23","Name":"London"},
      {"Id":"38","Name":"Guildford"},
      {"Id":"43","Name":"Petersfield"},
          {"Id":"44","Name":"Isle of Wight"}]]
  },
  {"Id":"175","Name":"Hungary",
    "Cities":
    [[{"Id":"36","Name":"Budapest"}]]
  }
]]
} 
```

但是我无法在解析为 json 对象时获取值。

我试图获得像......

```
public class JSONParsing1 extends ListActivity {

private static String url = "http://wsapi.vr2020.com/countries.json";

private static final String TAG_META = "meta";
private static final String TAG_SUCCESS = "success";
private static final String TAG_COUNTRIES = "Countries";
private static final String TAG_ID = "Id";
private static final String TAG_NAME = "Name";
private static final String TAG_CITY = "Cities";
private static final String TAG_CITY_ID = "Id";
private static final String TAG_CITY_NANE = "Name";

private String id;
private String name;
private String city_id;
private String city_name;
JSONObject meta;
JSONArray Countries = null;
JSONArray Cities = null;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    ArrayList<HashMap<String, String>> list = new ArrayList<HashMap<String,        String>>();

    JSONParser jsonParser = new JSONParser();
    JSONObject jsonObject = jsonParser.getJSONFromUrl(url);

    try {
        meta = jsonObject.getJSONObject(TAG_META);

        TextView startText = (TextView) findViewById(R.id.stat_textView);
        startText.setText(meta.getString(TAG_SUCCESS));

    } catch (Exception e) {
        e.printStackTrace();
    }

    try {

        Countries = meta.getJSONArray(TAG_COUNTRIES);
        for (int i = 0; i < Countries.length(); i++) {
            JSONObject obj = Countries.getJSONObject(i);

            id = obj.getString(TAG_ID);
            name = obj.getString(TAG_NAME);

            JSONArray city = obj.getJSONArray(TAG_CITY);
            for(int j = 0; j< city.length(); j++){
                JSONObject cityobj = city.getJSONObject(j);

                city_id = cityobj.getString(TAG_CITY_ID);
                city_name = cityobj.getString(TAG_CITY_ID);

            }

            HashMap<String, String> map = new HashMap<String, String>();
            map.put(TAG_ID, id);
            map.put(TAG_NAME, name);
            list.add(map);
        }

    } catch (Exception e) {
        e.printStackTrace();
    }

    ListAdapter adapter = new SimpleAdapter(this, list,
            R.layout.list_items, new String[] { TAG_ID, TAG_NAME,
                     }, new int[] { R.id.id_textView,
                    R.id.name_textView,   R.id.description_textView });
    setListAdapter(adapter);

}

} 
```

JSON 解析器类是

```
public class JSONParser {

static InputStream is = null;
static JSONObject jsonObject = null;
static String json = "";

public JSONObject getJSONFromUrl(String url) {

    try {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        is = httpEntity.getContent();

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        json = sb.toString();
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

    try {
        jsonObject = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("JSON Parser", "Error parsing data " + e.toString());
    }

    return jsonObject;
}
 } 
```

任何人都可以分享如何解析上述 JSON 吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:35:36.950

将当前 Json 解析为：

```
JSONObject jsonObj = new JSONObject(jsonStr); 

// these 2 are strings 
JSONObject c = jsonObj.getJSONObject("meta");
String success = c.getString("success"); 

JSONArray jsonarr = jsonObj.getJSONArray("Countries");

// lets loop through the JSONArray and get all the items 
for (int i = 0; i < jsonarr.length(); i++) { 
     JSONArray jsonarra = jsonarr.getJSONArray(i);
    // lets loop through the JSONArray and get all the items 
    for (int j = 0; j < jsonarra.length(); j++) { 
         JSONObject jsonarrtwo = jsonarra.getJSONObject(j);
               // these 2 are strings 
        String str_id = jsonarrtwo.getString("id"); 
        String str_Name = jsonarrtwo.getString("Name"); 

                JSONArray jsonarr_cities = jsonarrtwo.getJSONArray("Cities");
            // lets loop through the JSONArray and get all the items 
            for (int t = 0; t < jsonarr_cities.length(); t++) { 
                // printing the values to the logcat 
                JSONArray jsonarr_cities_one = jsonarrtwo.getJSONArray(t);
            for (int tt = 0; tt < jsonarr_cities_one.length(); tt++) { 
                // printing the values to the logcat 

                JSONObject jsonarr_cities_two = jsonarr_cities_one.getJSONObject(tt);
                   // these 2 are strings 
                String str_idone = jsonarr_cities_two.getString("id"); 
                String str_Nameone = jsonarr_cities_two.getString("Name"); 
              } 
            } 
    } 
} 
```

解析 json 试试这个 tuts：

[http://www.androidcompetencycenter.com/2009/10/json-parsing-in-android/](http://www.androidcompetencycenter.com/2009/10/json-parsing-in-android/)

用于格式化 json ：

[http://jsonviewer.stack.hu/](http://jsonviewer.stack.hu/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:47:49.527

You can validate your json string by this tool [http://jsonlint.com/](http://jsonlint.com/)

Your json string contains a json array of json array at the ***Countries*** tag and ***Cities*** tag. Try something like this in your `JSONParsing1` activity;

replace the line of code,

```
Countries = meta.getJSONArray(TAG_COUNTRIES); 
```

with this line

```
Countries = new JSONArray(jsonObject.getJSONArray(TAG_COUNTRIES).toString()); 
```

replace the line of code,

```
JSONArray city = obj.getJSONArray(TAG_CITY); 
```

with this line

```
JSONArray city = new JSONArray(obj.getJSONArray(TAG_CITY).toString()); 
```

It may help you to solve the problem. Try this way... ;)

# android - Android 手电筒应用程序不适用于 Galaxy S1 和 Droid X

> ID：13263488
> 
> 赞同：1
> 
> 时间：2012-11-07T05:17:24.337
> 
> 标签：android, led, flashlight

我的手电筒应用程序适用于 S2 S3 和其他几款 Android 手机，其先进程度不如 S1，但由于某种原因无法打开 S1s 闪光灯，这个问题也已在 droid X 和其他几个熟悉的机器人上报告使这些兼容。代码如下

```
 public class FlashLightActivity extends Activity {

    private Camera mCamera;
    private Boolean mFlashlight = false;
    private Boolean sound = true;

    private ImageButton button;

    private static MediaPlayer mediaPlayer;

    boolean flashInstalled = true;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_flashlight);

        AdView ad = (AdView) findViewById(R.id.adView);
        ad.loadAd(new AdRequest());

        button = (ImageButton) findViewById(R.id.onoff);

        mediaPlayer = new MediaPlayer();

        Context context = this;
        PackageManager pm = context.getPackageManager();

        // if device support camera?
        if (!pm.hasSystemFeature(PackageManager.FEATURE_CAMERA)) {
            Log.e("err", "Device has no camera!");
            Toast.makeText(this, "Your device does not have FlashLight",
                    Toast.LENGTH_LONG).show();
            return;
        }

        try {
            // Checking if flashplayer is available
            ApplicationInfo ai = pm.getApplicationInfo("com.adobe.flashplayer",
                    0);
            if (ai != null)
                flashInstalled = true;
        } catch (NameNotFoundException e) {
            flashInstalled = false;
        }

        button.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {

                if (mCamera != null) {
                    Parameters params = mCamera.getParameters();
                    if (mFlashlight) {
                        params.setFlashMode(Parameters.FLASH_MODE_OFF);
                        button.setImageResource(R.drawable.off_icon);
                        mFlashlight = false;
                    } else {
                        params.setFlashMode(Parameters.FLASH_MODE_TORCH);
                        button.setImageResource(R.drawable.on_icon);
                        mediaPlayer = MediaPlayer.create(
                                FlashLightActivity.this, R.raw.boom);
                        if (mediaPlayer != null && mediaPlayer.isPlaying()) {
                            mediaPlayer.stop();
                        }

                        if (sound) {

                            mediaPlayer.stop();
                            mediaPlayer = null;
                        } else {
                            mediaPlayer.start();

                        }
                        v.setKeepScreenOn(true);

                        mFlashlight = true;
                    }
                    mCamera.setParameters(params);
                }
            }

        });

    }

    @Override
    public void onResume() {
        super.onResume();

        SharedPreferences preferences = getSharedPreferences("pref",
                MODE_PRIVATE);
        sound = preferences.getBoolean("sound", false);

        if (mFlashlight) {
            button.setImageResource(R.drawable.on_icon);
        } else {
            button.setImageResource(R.drawable.off_icon);
        }

        try {
            this.mCamera = Camera.open();
        } catch (Exception e) {
        }
    }

    @Override
    public void onPause() {
        super.onPause();

        if (this.mCamera != null) {
            this.mCamera.release();
            this.mCamera = null;
        }
        this.mFlashlight = false;
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_tabs, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case R.id.menu_settings:
            Intent menuIntent = new Intent(this, MenuActivity.class);
            startActivity(menuIntent);

            return true;

        default:
            return super.onOptionsItemSelected(item);

        }

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-18T20:08:20.500

我发现在 Droid X 上唯一有效的是 Siddhpura Amit 提供的代码在此答案的页面下方： [在 Android 中使用相机手电筒](https://stackoverflow.com/questions/5503480/use-camera-flashlight-in-android)。他检查制造商并检查它是否包含字符串“motorola”。如果是这样，他有可以打开或关闭相机闪光灯 LED 的特殊代码。我可以验证它是否可以工作，因为我有摩托罗拉 Droid X，这是我在应用程序中使用的代码。

# http-headers - 在 http 请求中设置 UserAgent

> ID：13263492
> 
> 赞同：56
> 
> 时间：2012-11-07T05:17:44.250
> 
> 标签：http-headers, go

我试图让我的 Go 应用程序将自己指定为特定`UserAgent`的`net/http`. 我正在创建一个`http.Client`，并使用它`Get`通过`client.Get()`.

有没有办法`UserAgent`在客户端中设置，或者根本没有？

* * *

## 回答 #1

> 赞同：113
> 
> 时间：2012-11-07T06:01:51.753

创建请求时使用`request.Header.Set("key", "value")`：

```
package main

import (
        "io/ioutil"
        "log"
        "net/http"
)

func main() {
        client := &http.Client{}

        req, err := http.NewRequest("GET", "http://httpbin.org/user-agent", nil)
        if err != nil {
                log.Fatalln(err)
        }

        req.Header.Set("User-Agent", "Golang_Spider_Bot/3.0")

        resp, err := client.Do(req)
        if err != nil {
                log.Fatalln(err)
        }

        defer resp.Body.Close()
        body, err := ioutil.ReadAll(resp.Body)
        if err != nil {
                log.Fatalln(err)
        }

        log.Println(string(body))

} 
```

结果：

```
2012/11/07 15:05:47 {
  "user-agent": "Golang_Spider_Bot/3.0"
} 
```

PS [http://httpbin.org](http://httpbin.org)测试这种东西真是太棒了！

# mysql - SQL比较以版本为值的字符串

> ID：13263497
> 
> 赞同：1
> 
> 时间：2012-11-07T05:18:19.683
> 
> 标签：mysql, sql, sql-server, sql-server-2008

> **可能重复：**
> [拆分字符串并在 mssql 中返回最大](https://stackoverflow.com/questions/6855588/split-a-string-and-return-greatest-in-mssql)

我需要比较具有版本值的字符串，例如： string1 = 2.3.4 string2 = 2.5.6 现在在上述情况下，我需要检查哪个字符串版本更大？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:07:33.053

在 sql 服务器中：

```
Declare @string1 varchar(10)
Declare @string2 varchar(10)

SET @string1='2.3.4'
SET @string2='2.5.6'

select CASE WHEN convert(int,replace(@string1,'.','')) > convert(int,replace(@string2,'.','')) then @string1 else @string2 end GreaterVersion 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-07T05:34:17.960

你可以试试 strcmp

```
CASE
 WHEN str1 = str2 THEN 0
 WHEN str1 < str2 THEN -1
 WHEN str1 > str2 THEN 1
  ELSE NULL --one of the strings is NULL so won't compare (added on edit)
END 
```

# sql-server-2005 - 如何在 SQL Server 2005 中使用动态查询创建临时表

> ID：13263499
> 
> 赞同：2
> 
> 时间：2012-11-07T05:18:28.673
> 
> 标签：sql-server-2005, stored-procedures

我想在 SQL Server 2005 中动态创建临时表，如下所示。

```
Create Table ##EmpMonthlyTimeReport
(
    EmpID UNIQUEIDENTIFIER,
    EmpName VARCHAR(100),
    TaskId UNIQUEIDENTIFIER,
    [07 Nov] NVARCHAR(10),
    [08 Nov] NVARCHAR(10),
    [09 Nov] NVARCHAR(10)
) 
```

在上面的**##EmpMonthlyTimeReport**表中，列 [07 Nov]、[08 Nov]、[09 Nov]**不是**静态的。他们正在通过另一个函数动态创建。

因此，我在一个名为**@EmpMonthlyTimeReport**的变量中动态构造上表，并且我正在执行构造的 sql 字符串，如下所示：

```
EXEC(@EmpMonthlyTimeReport) 
```

我收到以下错误：

```
Msg 50000, Level 16, State 1, Procedure SVS_WorkOnWeekends, Line 157
The name 'INSERT INTO ##EmpMonthlyTimeReport(EmpID, EmpName, TaskId)
SELECT EmpId, EmpName, TaskId FROM TableData 
SELECT * FROM ##EmpMonthlyTimeReport
DROP TABLE ##EmpMonthlyTimeReport' is not a valid identifier. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:39:35.950

非常愚蠢的工作。

我已将 @EmpMonthlyTimeReport 变量声明从 VARCHAR(MAX) 更改为 NVARCHAR(MAX)

就是这样。一切都按预期工作。

# python - OpenERP 唯一约束

> ID：13263507
> 
> 赞同：14
> 
> 时间：2012-11-07T05:18:58.993
> 
> 标签：python, openerp

我在 OpenERP/PostgreSQL 中有一个包含以下列的表：`name`和`description`.

我为唯一名称添加了以下验证：

```
_sql_constraints = [('unique_name', 'unique(name)', 'A record with the same name already exists.')] 
```

它工作正常，但区分大小写。目前，它接受“Mickey”、“MICKEY”和“mickey”等值：

```
Wrong Way:
--------------------------
| name   | description   |
--------------------------
| mickey | not a mouse   |
--------------------------
| MICKEY | not a mouse   |
--------------------------
| Mickey | not a mouse   |
-------------------------- 
```

有没有办法修改验证码，使其不允许用户添加多个值，例如“Mickey”、“MICKEY”和“mickey”？如何使唯一密钥验证不区分大小写？

```
Right Way:
--------------------------------
| name         | description   |
--------------------------------
| mickey       | not a mouse   |
--------------------------------
| mickey mouse | is a mouse    |
--------------------------------
| donald       | is a duck     |
-------------------------------- 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-07T05:25:51.777

要在[此处](http://archives.postgresql.org/pgsql-general/2005-09/msg00842.php)`case insensitive constraints`查看 其他内容，您始终可以使用 Openerp Constraints 而不是 SQL 。

对于 openerp 约束

检查示例

```
def _check_unique_insesitive(self, cr, uid, ids, context=None):
    sr_ids = self.search(cr, 1 ,[], context=context)
    lst = [
            x.FIELD.lower() for x in self.browse(cr, uid, sr_ids, context=context)
            if x.FIELD and x.id not in ids
          ]
    for self_obj in self.browse(cr, uid, ids, context=context):
        if self_obj.FILD and self_obj.FILD.lower() in  lst:
            return False
    return True

_constraints = [(_check_unique_insesitive, 'Error: UNIQUE MSG', ['FIELD'])] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-04-26T15:33:41.960

这种方式无需从数据库中读取所有数据：

```
def _check_unique_insesitive(self, cr, uid, ids, context=None):

    for self_obj in self.browse(cr, uid, ids, context=context):
        if self_obj.name and self.search_count(cr, uid, [('name', '=ilike', self_obj.name), ('id', '!=', self_obj.id)], context=context) != 0:
            return False

    return True

_constraints = [(_check_unique_insesitive, _('The name must be unique!'), ['name'])] 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-02-22T22:59:43.453

以更简单的方式在 Odoo 8.0 或更高版本中使用约束。获取模型的所有记录并使用 lower() 检查所需的字段值并排除自我记录。

```
@api.constrains('code')
def _check_duplicate_code(self):
    codes = self.search([])
        for c in codes:
            if self.code.lower() == c.code.lower() and self.id != c.id:
                raise exceptions.ValidationError("Error: code must be unique") 
```

# actionscript-3 - As3 Bitmap 字体原生支持？

> ID：13263508
> 
> 赞同：0
> 
> 时间：2012-11-07T05:18:59.667
> 
> 标签：actionscript-3, bitmap-fonts

最近我发现了很多关于位图字体性能增强的视频教程。我很想在我现有的项目中使用，但是我的项目来不及实现八哥框架，只是想知道是否有任何方法可以天真地支持位图字体？

干杯比尔

# apache - 是否可以使用 htaccess 为默认在该目录中打开的任何文件加载 CSS 文件？

> ID：13263510
> 
> 赞同：0
> 
> 时间：2012-11-07T05:19:00.047
> 
> 标签：apache, .htaccess

我希望在某个目录（'example.com/image.jpg'）中打开每个图像文件以加载一个 css 文件，这样我就可以使图像以 100% 的宽度加载。

**编辑**：要清楚，我知道我必须通过加载一个带有 CSS 的 HTML 文件来做到这一点，我真正的问题是如何使用 CSS 样式而不是目录本身来定位文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:22:44.337

为什么不使用 htaccess 中的重写规则通过 HTML 文件加载它们，您可以在其中指定 CSS？图片本身不能使用 CSS。

一个解决方案是 a) 将您的图片移动到可以访问但不直接在用户将访问的路径中的位置，b) 创建一个 php 文件（或其他），将参数从 htaccess 传递到某些 HTML 内容和 c）创建一个执行重定向的 htaccess，除非您直接访问实际文件所在的文件夹，否则您将有一个无限循环的重定向

因此，我创建了 2 个文件：fullscreen.php 和 .htaccess。然后，我创建了一个名为 /img/ 的文件夹，图像所在的位置。

我保持 fullscreen.php 尽可能简单，随时改进风格！

```
<?
if(isset($_GET['img']))
{
    $imageParam = $_GET['img'];
    echo "<html><head><style>html { background: url($imageParam) no-repeat center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover; }</style></head><body></body></html>";
}
else
{
    echo "Image not provided";
} 
```

然后在 .htaccess 我添加了一个具有条件的重写规则 - 如果路径包含 /img/ 则不处理该规则

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_URI} !^/img/
    RewriteRule ^(.*).png$ fullscreen.php?img=/img/$1.png [L,NC]
</IfModule> 
```

我相信这就是你要找的东西？

# javascript - 如何将值传递给 jQuery 点击回调？

> ID：13263516
> 
> 赞同：0
> 
> 时间：2012-11-07T05:19:20.263
> 
> 标签：javascript, jquery, callback

如果我像这样在循环中创建一堆对象：

```
for(var i = 0; i < 5; i++)
{
    var data = { val: i * 2 };
    var obj = $('<li>Item</li>');

    $("ul").append(obj);

    obj.click(function()
    {
        alert(data.val);
        // Output is 8 for all items.

    });
} 
```

我只能访问处理程序中最后创建`data`的对象`.click()`。

如何`data`在我的处理程序中引用相关对象 - 与单击 jQuery 对象同时创建的对象？

过去，我可以通过在 jQuery 对象上分配随机属性`.attr()`来保存数据，而不是单独的对象，从而解决这个问题，但我想摆脱这种方法。

我也试过这个，但没有运气：

```
var data = { val: i * 2 };
var obj = $('<li>Item</li>');

obj.data = data;

obj.click(function()
{
    // 'data' is undefined here i.e. not associated with $(this).
    alert($(this).data.val);

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:25:07.790

第一个示例的问题被变量的范围所掩盖。在 JS 中，所有变量都具有函数作用域，因此重写代码以显示更明确的结果：

```
var i,data,obj;
for(i = 0; i < 5; i++) {
    data = { val: i * 2 };
    obj = $('<li>Item</li>');

    $("ul").append(obj);
    obj.click(function() {
        alert(data.val);
    });
} 
```

现在更明显`data`的是，循环内部只有一个变量，而不是每次迭代的新变量（如在 Java、C# 等中）。作为点击处理程序传递的匿名函数使用这个变量，它关闭它。**其结果是使用执行**函数时变量的当前值，而不是函数分配为单击处理程序时变量的值。

为了解决这个问题，您可以将数据附加到元素本身。

但是，在您的代码中，您`obj.data = ...`将值附加到选择而不是元素。下次您选择相同的元素时，您将获得一个没有 data.property 的新对象。相反，您可以使用 jQuery`.data()`方法。

```
obj.data('key',data);
obj.click(function() {
    alert($(this).data('key').val);
}); 
```

或者，如果您想将值嵌入到函数中，您可以使用自执行函数来实现。当您将变量作为参数传递给函数时，您使用的是当前值而不是关闭变量。

```
var i,
    data,
    obj,
    createClick = function(data) {
        return function(){
           alert(data.val);
        };
    };
for(i = 0; i < 5; i++) {
    data = { val: i * 2 };
    obj = $('<li>Item</li>');

    $("ul").append(obj);
    obj.click(createClick(data));
} 
```

**注意**顺便说一句 ，您应该养成将`{`行尾而不是开头的习惯。`{`如果在下一行，半冒号插入可能会产生一些意想不到的结果。例如

```
return 
    {
      val : 1
    } 
```

可能会返回，因为在忽略对象文字`undefined`后可能会插入分号`return`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T05:25:37.863

您可以使用 jQuery .data() 方法。[http://api.jquery.com/data/](http://api.jquery.com/data/)

例如：

```
for(var i = 0; i < 5; i++){
    var obj = $('<li>Item</li>');
    obj.data('myData', {first: i * 2, second: i * 3});

    $("ul").append(obj);

    obj.click(function(){
        alert($(this).data('myData').first);
        alert($(this).data('myData').second);
    });
} 
```

# java - 在 Spring 中禁用 @Scheduled 方法/bean

> ID：13263518
> 
> 赞同：2
> 
> 时间：2012-11-07T05:19:51.367
> 
> 标签：java, spring

在我的应用程序中，我有 2 个 bean，它们的方法带有`@Scheduled`注释。有时我需要安排这两种方法，有时我需要根据应用程序的输入参数安排其中一种。加载后如何禁用@Scheduled 方法？我正在使用 Spring 3.1 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:25:00.327

我建议您不要使用@Schedule，而是应该使用TaskScheduler 根据用户输入来安排您的工作，这样您就可以更好地控制执行，spring 提供了不同的实现，请参阅[javadoc](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/scheduling/TaskScheduler.html)和调度[文档](http://static.springsource.org/spring/docs/3.0.x/reference/scheduling.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T10:19:10.557

您可以注入`ThreadPoolTaskScheduler`您的应用程序并调用

```
taskScheduler.getScheduledExecutor().shutdown(); 
```

但请记住，这是一个 hack。所以我建议`TaskScheduler`直接使用不带`@Scheduled`注释。

# java - 从结果集mysql java中选择几行

> ID：13263519
> 
> 赞同：0
> 
> 时间：2012-11-07T05:19:55.493
> 
> 标签：java, mysql

我在我的 java 程序中使用了一个 select 命令并将其值存储在结果集中。现在在结果集中循环时，我想使用一个选择命令，它将选择结果集的前 5 行并插入到其他表中。第二次，它应该选择接下来的 5 行并插入到表中。第三次，以此类推..

```
Statement s = connection.createStatement();
s.executeQuery("Select * from table1");
ResultSet res = s.getResultSet();
while(res.next()){
 // here i want to select the first 5 lines of the result set and insert in the second       table
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:35:47.227

```
Statement s = connection.createStatement();
s.executeQuery("Select * from table1");
ResultSet res = s.getResultSet();

while(res.next()){
    // here i want to select the first 5 lines of the result set and insert in the second       table
    while(res.next() && (res.getRow()%5) !=0){
        //select from this table
        //call insert method(what selected)
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:21:40.107

请添加一个 falg 并使用它

```
int i=0;

while(res.next() && i< 5){
//select from this table
//call insert method(what selected)
i++;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:22:14.780

在while循环内动态创建另一个插入查询并在while循环外执行

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T05:37:43.833

我建议`LIMIT`使用 PreparedStatement 更改您的查询。就像是：

```
SELECT * FROM table1 LIMIT ?,? 
```

这有几个优点：

*   您不会一次性获取所有内容 - 如果您的表格中有很多行要处理，有时可能会带来性能优势
*   您可以更改预定义要在每个批次中获取的元素数量

所以你的代码看起来像这样：

```
PreparedStatement ps = null;
ResultSet rs = null;
final int FETCH_LIMIT   = 5; //number of elements to fetch per batch
final int BATCH_LIMIT   = 3; //number of batches you would want

int currentRows = 0;
try{
    ps = connection.prepareStatement("SELECT * FROM table1 LIMIT ?,?");
    for(int currentBatch = 0; currentBatch < BATCH_LIMIT; currentBatch++){
        ps.clearParameters();
        ps.setInt(1, currentRows);
        ps.setInt(2, currentRows + FETCH_LIMIT);

        try{
            rs = ps.executeQuery();
            while(rs.next()){
                // do your work
            }
        }catch(Exception exe){
            //manage exception
        }finally{
            //manage resultset
        }
        currentRows += FETCH_LIMIT;
    }
}catch(Exception exe){
    //Handle your exception
}
finally{
    //Manage your resources
} 
```

# grails - 用于管理自定义插件的 grails 策略

> ID：13263520
> 
> 赞同：0
> 
> 时间：2012-11-07T05:19:59.557
> 
> 标签：grails, grails-plugin

我已经修改了一些 grails 插件来定制它们以满足我的需要。我正在决定如何最好地管理这些自定义。我的想法是将它们放在一个单独的项目中（受版本控制）并将它们上传到我的 Nexus 存储库。将插件源打包为项目的一部分似乎有点不干净（并将它们与项目一起检查到版本控制中）。

我更喜欢将我的插件安装到 .grails 目录中。这是处理 grails 插件定制的首选方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T19:43:23.783

Nexus 方法是一种很好的方法。最好重命名插件，例如使用公司特定的后缀，这样您使用的是哪个插件就没有歧义了。

# python - Tkinter：如何动态更改布局

> ID：13263521
> 
> 赞同：0
> 
> 时间：2012-11-07T05:20:00.517
> 
> 标签：python, tkinter

基本上，我想要一个按钮，当按下它时，它将向我的窗口添加内容。这是一些最低限度的代码：

```
from Tkinter import *

def create_line (N):
    """ """
    Label (root, text= "Color ").grid(row=N, column=0, padx=3)
    OptionMenu (root, v, *optionList).grid(row=N, column=1, padx=3)
    Button (root, text="+", command=add_line(N)).grid(row=N, column=2, padx=3)

def add_line (M):
    M = M +1
    Label (root, text= "Color ").grid(row=M, column=0, padx=3)
    OptionMenu (root, v, *optionList).grid(row=M, column=1, padx=3).grid(row=M,     
                 column=2, padx=3)
    return 1

root = Tk()
optionList = ("red", "green", "blue")
current_row = 0
v = StringVar()
v.set(optionList[0])
create_line(current_row)
mainloop() 
```

如果您注释掉 add_line 函数内的代码（除了返回行）并运行代码，您将看到一个标签、一个选项菜单和一个按钮。我希望“+”按钮创建具有相同小部件的另一行。这个最小代码不是我真正的应用程序，但这是我不能做的核心。

我知道这是可以做到的，因为我下载了一个应用程序，当我按下按钮时会动态更改菜单选项，但这种技术似乎对我不起作用。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:32:30.890

我马上看到的一个问题是：

```
Button (root, text="+", command=add_line(N)).grid(row=N, column=2, padx=3) 
```

应该：

```
Button (root, text="+", command=lambda:add_line(N)).grid(row=N, column=2, padx=3) 
```

正如它所写的那样，您是在`add_line`创建 Button 时调用该函数，而不是在按下它时调用该函数。

# php - 从php中的字符串获取前两个单词

> ID：13263523
> 
> 赞同：10
> 
> 时间：2012-11-07T05:20:20.163
> 
> 标签：php, string

我有这样的字符串：

```
$message="AB 1234 Hello, how are you? 
```

我想要这样：

```
$message[0] = AB
$message[1] = 1234
$message[2] = Hello, how are you? 
```

请不要建议使用 substr 函数，因为前两个单词的长度可能会有所不同，但它们之间会有空格。还有什么建议吗？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-11-07T05:23:03.733

[`explode()`](http://php.net/manual/en/function.explode.php)有限制地使用，例如

```
$message = explode(' ', $message, 3); 
```

如果您需要在单词分隔符周围有更多的灵活性，您可以执行类似的操作[`preg_split()`](http://php.net/manual/en/function.preg-split.php)

```
$message = preg_split('/[\s,]+/', $message, 3) 
```

演示 - [http://codepad.org/1gLJEFIa](http://codepad.org/1gLJEFIa)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-07T05:37:56.663

您可以使用以下功能。

```
// Example 1
$pizza  = "piece1 piece2 piece3 piece4 piece5 piece6";
$pieces = explode(" ", $pizza);
echo $pieces[0]; // piece1
echo $pieces[1]; // piece2

output:
//piece1
//piece2 
```

更多信息： http: [//php.net/manual/en/function.explode.php](http://php.net/manual/en/function.explode.php)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-07T05:21:38.040

如果*单词*只是由连续空格分隔的前两个块，你可以这样做......

```
$words = preg_split("/\s+/", $str); 
```

如果你想要前两个，你可以使用`preg_split()`'s limit 参数（感谢[Phil](https://stackoverflow.com/users/283366/phil)）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-07T05:40:01.833

查看[sscanf](http://php.net/manual/en/function.sscanf.php)，请务必阅读用户提交的评论。您可以在[http://www.cplusplus.com/reference/clibrary/cstdio/scanf/](http://www.cplusplus.com/reference/clibrary/cstdio/scanf/)找到更好的格式描述。

```
<?php
$string = 'AB 1234 Hello, how are you?';
$array = sscanf($string, '%s %d %[^$]');
var_dump($array);
/*
    array(3) {
      [0]=>
      string(2) "AB"
      [1]=>
      int(1234)
      [2]=>
      string(19) "Hello, how are you?"
    }
*/ 
```

# vb.net - 在 Vb.net 中将字符串转换为自定义类类型

> ID：13263524
> 
> 赞同：2
> 
> 时间：2012-11-07T05:20:42.293
> 
> 标签：vb.net, inheritance, subclassing

我发现的大多数搜索结果都与我正在寻找的相反，所以这是我的问题：

我正在尝试将系统类型转换为我自己的自定义类型，但正如我所提到的，我的搜索结果并不有效，并且给了我与我正在寻找的相反的结果。

假设我有一个“mystringgoeshere”字符串和一个类似的类：

```
Class MyStringType

    Dim str As String

End Class
Dim s As MyStringType = "mystringgoeshere" 
```

我收到此错误{“String”类型的值无法转换为“Project1.MyStringType”。}

我还没有任何代码，因为我不知道如何实现这一点，但基本上我想做的是使用上面代码块中的方法设置“s”对象的“str”字符串。我尝试过使用“new（data as String）”子例程，但它不适用于我正在尝试的内容。

有任何想法吗？谢谢~

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:01:37.670

查看这篇[关于创建自定义类型的 VBCity 文章](http://vbcity.com/blogs/jatkinson/archive/2010/01/12/create-custom-types-and-initialize-them-without-the-new-keyword-c-vb-net.aspx)它正在使用[加宽](http://msdn.microsoft.com/en-us/library/hz3wbx3x%28v=vs.100%29.aspx)运算符。

从最后一个链接：

> 扩大转换总是在运行时成功并且不会导致数据丢失。示例是 Single 到 Double，Char 到 String，以及派生类型到其基类型。

所以尝试这样的事情

```
Public Class Form1

    Public Sub New()

        ' This call is required by the designer.
        InitializeComponent()

        ' Add any initialization after the InitializeComponent() call.
        Dim s As MyStringType = "mystringgoeshere"
        Dim s1 As MyStringType = "Hello"
        Dim s2 As MyStringType = s1 + s
    End Sub
End Class

Class MyStringType
    Private _string As String
    Private Sub New(ByVal value As String)
        Me._string = value
    End Sub
    Public Shared Widening Operator CType(ByVal value As String) As MyStringType
        Return New MyStringType(value)
    End Operator
    Public Overrides Function ToString() As String
        Return _string
    End Function
    Public Shared Operator +(ByVal s1 As MyStringType, s2 As MyStringType) As MyStringType
        Dim temp As String = s1._string + s2._string
        Return New MyStringType(temp)
    End Operator
End Class 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T06:28:00.470

```
只需像这样更改您的代码：

类 MyStringType
    暗淡 str 作为字符串
    子新（ByVal str1 作为字符串）
         str = str
    结束子
结束类

Dim s As New MyStringType("abhi")

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:00:20.310

你应该做的是

```
Class MyStringType

    Dim str As String

End Class
Dim s As MyStringType 
s.str = "mystringgoeshere" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T06:10:42.833

听起来您想继承 System.String。这是 OOP 编程的基础。继承很重要。

[http://en.m.wikipedia.org/wiki/Inheritance_](http://en.m.wikipedia.org/wiki/Inheritance_(object-oriented_programming) (面向对象编程)

# iphone - NSMutableArray 的大小（内存）是多少？

> ID：13263526
> 
> 赞同：3
> 
> 时间：2012-11-07T05:20:49.820
> 
> 标签：iphone, objective-c, xcode, json, nsmutablearray

我正在解析 json 数据，并将它们存储到`NSMutableArray`. 每个数据的参数格式如下，

```
{
    "id":"6",
    "username":"biju",
    "password":"biju123",
    "usertype":"2",
    "first_name":"biju",
    "last_name":null,
    "email":"b@b.com",
    "blocked":"N",
    "created":"2012-11-02 16:03:19",
    "image":"http:\/\/192.168.1.254\/eatthos\/assets\/upload\/users\/1351852399_thumb.jpg","thumb_image":"1351852399_thumb.jpg",
    "menu_image":"0",
    "thumb_menu_image":"0",
    "city":"njdfh",
    "favorite_food":"kafh",
    "favorite_restaurant":"kafdhj",
    "phone_number":"0",
    "description":"0",
    "token":"Dwx0DG",
    "fb_unique_id":null,
    "account_type":"normal",
    "twitter_id":null,
    "followers":"5",
    "follow":"N"
} 
```

我正在解析大约 100K 的数据，该数组的大小（内存）是多少？如果我将它用于 iphone 应用程序，会不会是内存问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-15T07:21:47.777

您可以尝试使用以下代码找出数组的大小：

```
size_t total;
 id obj;
 for (obj in array)
 {
    total += class_getInstanceSize([obj class]);
 }

 NSLog(@"Array size : %ld",total); //This will return you size in bytes 
```

你需要做：`#import <objc/runtime.h>`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-07T07:32:02.763

数组本身不会占用太多空间——它只是一堆指针。包含数万个项目的数组仍然只有几十 KB。数组包含的对象占用的空间可能要大得多。但这只是你能看到的——没有“数组中对象的大小”。这就像问“球有多大？” 您的数据空间需求可能存在问题，同样可能根本没有问题。与许多编程问题一样，我认为最好的答案是亲自尝试看看。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:39:20.000

为什么你不能像应用程序那样每次下载 100 条记录然后在应用程序商店中所以，应用程序将比以前加载得更快如果你想查看内存的流动，你可以通过这个链接[http://mobileorchard.com /find-iphone-memory-leaks-a-leaks-tool-tutorial/](http://mobileorchard.com/find-iphone-memory-leaks-a-leaks-tool-tutorial/)

# sql - sql查询过滤本周的日期

> ID：13263528
> 
> 赞同：2
> 
> 时间：2012-11-07T05:21:01.317
> 
> 标签：sql, sqlite, android-sqlite

我是`sql`查询新手，谁能帮我为以下条件编写查询我在表“成员”中有一个名为“dob”的列。**注意： dob 数据类型是文本。** 和像这样的价值观：

```
dob
===
7-November-1980
9-November-1981
10-November-1982
5-May-1990 
```

现在要获得本周的生日（即）从 7-11-2012 到 13-11-2012 ，我想将结果作为前 3 条记录。为此，我写了这样的查询

```
select * from members where dob in('7-November','8-November','9-November','10-November','11-November','12-November','13-November') 
```

但它从不返回任何结果。任何人都请帮助我，我怎样才能得到它。非常感谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T09:17:16.523

您的日期未以[SQLite 支持的日期格式](http://www.sqlite.org/lang_datefunc.html)之一存储，因此此查询变得相当复杂：

```
SELECT *
FROM members
WHERE dob LIKE '7-November%' OR
      dob LIKE '8-November%' OR
      dob LIKE '9-November%' OR
      dob LIKE '10-November%' OR
      dob LIKE '11-November%' OR
      dob LIKE '12-November%' OR
      dob LIKE '13-November%' 
```

如果您`YYYY-MM-DD`以固定字段宽度的格式存储日期，则可以使用如下更简单的查询：

```
SELECT *
FROM members
WHERE SUBSTR(dob, 6, 5) BETWEEN '11-07' AND '11-13' 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-07T05:27:04.817

您正在进行精确的文本匹配，即 1980 年 11 月 7 日不等于 11 月 7 日，这就是您的查询没有返回任何结果的原因。尝试使用 mysql 日期函数将文本转换为日期时间，从中提取日期-月份，然后使用范围查询来获取结果。检查[http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)

# php - Paypal 沙箱返回 url 未收到来自 paypal 的响应

> ID：13263529
> 
> 赞同：1
> 
> 时间：2012-11-07T05:21:01.660
> 
> 标签：php, paypal, paypal-sandbox

我正在使用本地主机并测试贝宝沙盒的付款。但我无法得到贝宝的回复。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:30:00.070

## PayPal IPN的实际测试

为了让 PayPal 发送即时付款通知，您必须向他们提供（作为购买/交易的参数，或作为您正在支付的帐户下的 IPN 设置的一部分）他们可以通知的 URL。此 URL 必须可从 Internet 访问，因此最好托管在可公开访问的服务器上，并且地址类似于[http://www.yourserver.com/paypalIPN.php](http://www.yourserver.com/paypalIPN.php)

在无法从公共互联网访问的服务器上托管 IPN 侦听器，例如在您自己计算机上的“localhost”下，PayPal 服务器将无法联系，因此不会收到任何 IPN 消息。

## 回调 PayPal 以确认 IPN

如果您收到 PayPal IPN 请求（它们通常是带有多个参数的 POST 请求），但您无法回拨 PayPal 以确认交易详细信息，那么这表明您的服务器在拨打电话时遇到了问题互联网。

这可能是由于您的 Web 服务器软件中的配置问题、服务器上的防火墙问题或网络问题。第一个检查是创建一个 PHP 文件并尝试使用 cURL 或`file_get_contents()`调用并返回一个网页，例如 Google 的主页。如果这些调用有效，则可能是特定于您的 IPN 处理程序的配置问题。

有许多可用的开源 IPN 处理程序，这使得部署 PayPal 支持的支付系统变得更加容易。只需跳上谷歌并环顾四周。

# java - java.lang.IllegalArgumentException 在从 excel 文件中获取数据

> ID：13263532
> 
> 赞同：0
> 
> 时间：2012-11-07T05:21:15.403
> 
> 标签：java, struts, apache-poi

我正在从包含超过 3000 行的 Excel 表中获取数据。但是我得到了一个类似 java.lang.IllegalArgumentException 的异常：提供的 POIFSFileSystem 既不包含“工作簿”条目，也不包含“工作簿”条目。它真的是一个excel文件吗？

以下是我的代码-

```
public ActionForward exportExtraExcel(ActionMapping mapping,
            ActionForm form, HttpServletRequest request,
            HttpServletResponse response) throws Exception {
        System.out.println("inside exportExtraExcel----------> ");

//      String fileName=request.getParameter("filePath");
//      System.out.println("fileName----qqqqqqqqqqqqqq---->"+fileName);

        String fileName = "C:\\Users\\apanigrahi\\Desktop\\tt.xls";

        Statement st = null;
        ResultSet rs = null;
        EmployeeDTO employeeDTO = new EmployeeDTO();
        List cellDataList = new ArrayList();
        try {
            FileInputStream fileInputStream = new FileInputStream(fileName);

            POIFSFileSystem fsFileSystem = new POIFSFileSystem(fileInputStream);

            HSSFWorkbook workBook = new HSSFWorkbook(fsFileSystem);
            HSSFSheet hssfSheet = workBook.getSheetAt(0);

            int rows = hssfSheet.getLastRowNum() + 1;
            int col = -1;
            for (int i = 0; i < rows; i++) {
                HSSFRow hssfRow = hssfSheet.getRow(i);
                if (i == 0)
                    col = hssfRow.getLastCellNum();
                List cellTempList = new ArrayList();
                for (int j = 0; j < col; j++) {
                    HSSFCell hssfCell = hssfRow.getCell((short) j);
                    cellTempList.add(hssfCell);
                }
                cellDataList.add(cellTempList);
            }

        } catch (Exception e) 
        {
            e.printStackTrace();
        }

        List<Integer> empIdArr = new ArrayList<Integer>();
        List<Integer> userIdArr = new ArrayList<Integer>();
        List<String> empFnameArr = new ArrayList<String>();
        List<String> empLnameArr = new ArrayList<String>();
        List<String> employeeIdArr = new ArrayList<String>();
        List<String> date1 = new ArrayList<String>();

        ArrayList<ArrayList> biometric_Data = getBiometricData(cellDataList);

        ArrayList<String> date_biometric_Data = biometric_Data.get(0);
        ArrayList<String> emp_code_biometric_Data = biometric_Data.get(1);
        ArrayList<String> working_hours_biometric_Data = biometric_Data.get(2);
        ArrayList<String> date_biometric_Data1 = new ArrayList<String>();
        ArrayList<String> emp_code_biometric_Data1 =new ArrayList<String>();
        ArrayList<String> working_hours_biometric_Data1 = new ArrayList<String>();
        List<EmployeeDTO> extra_empLeaveSummaryReport = new ArrayList<EmployeeDTO>();

        try {
            connMgr = InitServlet.connMgr;
            conn = connMgr.getConnection("access");
            st = conn.createStatement();

            for (int j = 0; j < emp_code_biometric_Data.size(); j++)
            {   
                    String qry = "select emp_id,user_id,emp_first_name,emp_last_name,employee_id from \"Employee\" where employee_id='"
                    + emp_code_biometric_Data.get(j)
                    + "' and   is_deleted is null and emp_current_country ='1' order by employee_id";

                rs = st.executeQuery(qry);

                if(rs!=null){
                while (rs.next()) {
                    int empId = rs.getInt(1);
                    empIdArr.add(empId);                    
                    userIdArr.add(rs.getInt(2));                    
                    empFnameArr.add(rs.getString(3));
                    empLnameArr.add(rs.getString(4));
                    employeeIdArr.add(rs.getString(5));             
                    date_biometric_Data1.add(date_biometric_Data.get(j));                   
                    emp_code_biometric_Data1.add(emp_code_biometric_Data.get(j));               
                    working_hours_biometric_Data1.add(working_hours_biometric_Data.get(j));                 
                }
                }
                connMgr.freeConnection("access", conn);
            }
        } catch (Exception e) {
            e.printStackTrace();
            System.out.println("Exception in exportExcelLeaveSummary");
        } finally {
            rs.close();
            st.close();
            connMgr.freeConnection("access", conn);
        }
        for (int i = 0; i < employeeIdArr.size(); i++) 
        {
            double hours_worked = Double.parseDouble(working_hours_biometric_Data.get(i));

            if (hours_worked < 9.00 && hours_worked > 0.0)
            {
                String day_status = "Halfday";
                try {       
                    System.out.println("Inside if loop Halfday");
                    UserManager userManager = new UserManagerImpl();                        
                    employeeDTO = userManager.getEmployeeLeaveDetails(userIdArr.get(i));                    
                    employeeDTO.setDate(date_biometric_Data1.get(i));
                    employeeDTO.setEmployeeId(employeeIdArr.get(i));
                    employeeDTO.setFirstName(empFnameArr.get(i));
                    employeeDTO.setLastName(empLnameArr.get(i));
                    employeeDTO.setWorking_hours(working_hours_biometric_Data1.get(i));
                    int totalLeaves = employeeDTO.getTotalLeaves();
                    employeeDTO.setTotalLeaves(totalLeaves);
                    int plToCredit = employeeDTO.getPlToCredit();
                    employeeDTO.setPlToCredit(plToCredit);

                    int slclToCredit = employeeDTO.getSlclToCredit();
                    employeeDTO.setSlclToCredit(slclToCredit);
                    int slclTotalBal = totalLeaves - plToCredit;
                    employeeDTO.setSlclTotalBal(slclTotalBal);
                    connMgr = InitServlet.connMgr;
                    conn = connMgr.getConnection("access");
                    st = conn.createStatement();

                    String qry = "";

                    qry = "Select * from \"Est_Employee_Leave_Application\"  Where leave_approval_status='Approved' and '"+ ConvertDate.stringtoSQLDate(date_biometric_Data
                                    .get(i))
                            + "'  between leave_application_from_date and leave_application_to_date And emp_id ='"
                            + empIdArr.get(i) + "'";
                    rs = st.executeQuery(qry);
                    if (!(rs.equals(null))) {
                        employeeDTO.setDay_status(day_status);

                        extra_empLeaveSummaryReport.add(employeeDTO);
                        request.setAttribute("leaveSummary",extra_empLeaveSummaryReport);
                    }

                } catch (Exception e) {
                    e.printStackTrace();
                    System.out
                            .println("Exception in leaveDetailsReport method");
                } finally {
                    rs.close();
                    st.close();
                    connMgr.freeConnection("access", conn);
                }
            }

             if (hours_worked == 0.0) {
                String day_status = "LOP";
                try {                   
                    System.out.println("Inside if loop LOP");
                    UserManager userManager = new UserManagerImpl();                        
                    employeeDTO = userManager.getEmployeeLeaveDetails(userIdArr.get(i));                    
                    employeeDTO.setDate(date_biometric_Data1.get(i));
                    employeeDTO.setEmployeeId(employeeIdArr.get(i));
                    employeeDTO.setFirstName(empFnameArr.get(i));
                    employeeDTO.setLastName(empLnameArr.get(i));
                    employeeDTO.setWorking_hours(working_hours_biometric_Data1.get(i));
                    int totalLeaves = employeeDTO.getTotalLeaves();
                    employeeDTO.setTotalLeaves(totalLeaves);
                    int plToCredit = employeeDTO.getPlToCredit();
                    employeeDTO.setPlToCredit(plToCredit);

                    int slclToCredit = employeeDTO.getSlclToCredit();
                    employeeDTO.setSlclToCredit(slclToCredit);
                    int slclTotalBal = totalLeaves - plToCredit;
                    employeeDTO.setSlclTotalBal(slclTotalBal);
                    connMgr = InitServlet.connMgr;
                    conn = connMgr.getConnection("access");
                    st = conn.createStatement();

                    String qry = "";

                    qry = "Select * from \"Est_Employee_Leave_Application\"  Where '"
                            + ConvertDate.stringtoSQLDate(date_biometric_Data
                                    .get(i))
                            + "'  between leave_application_from_date and leave_application_to_date And emp_id ='"
                            + empIdArr.get(i) + "'";
                    rs = st.executeQuery(qry);
                    if (!(rs.equals(null))) {
                        employeeDTO.setDay_status(day_status);

                        extra_empLeaveSummaryReport.add(employeeDTO);
                        request.setAttribute("leaveSummary",
                                extra_empLeaveSummaryReport);
                    }

                } catch (Exception e) {
                    e.printStackTrace();
                    System.out
                            .println("Exception in leaveDetailsReport method");
                } finally {
                    rs.close();
                    st.close();
                    connMgr.freeConnection("access", conn);
                }
            }

        }
        List<String> columnName = new ArrayList<String>();
        columnName.add("Date");
        columnName.add("Emp_Id");
        columnName.add("Emp_First_Name");
        columnName.add("Emp_Last_Name");
        columnName.add("SL/CL_TotalBal");
        columnName.add("PL_ToCredit");
        columnName.add("Total_Leaves");
        columnName.add("SL/CL_ToCredit");
        columnName.add("Working_Hours");
        columnName.add("Day_status");

        request.setAttribute("columnNames", columnName);
        return mapping.findForward("EXTRA_DETAILED_REPORT");
    }

    @SuppressWarnings("rawtypes")
    public ArrayList<ArrayList> getBiometricData(List cellDataList)
             {
        EmployeeDTO employeeDTO = new EmployeeDTO();
        ArrayList<String> date_Biometric = new ArrayList<String>();
        ArrayList<String> emp_code_Biometric = new ArrayList<String>();
        ArrayList<String> working_hours_Biometric = new ArrayList<String>();

        ArrayList<ArrayList> biometric_All = new ArrayList<ArrayList>();
        for (int i = 2; i < cellDataList.size(); i++) 
        {       
            List cellTempList = (List) cellDataList.get(i);

            for (int j = 0; j < cellTempList.size(); j++) 
            {
                if (j == 0) 
                {
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(0);
                    Date d1 = hssfCell.getDateCellValue();
                    SimpleDateFormat sdfAct = new SimpleDateFormat("dd-MMM-YYYY");

                    String d2 = new SimpleDateFormat("EEEE").format(d1);
                    String week_day1 = "Sunday";
                    String week_day2 = "Saturday";

                if (week_day1.equals(d2) || week_day2.equals(d2)) {

                        j = 15;

                    }

                else {
                        employeeDTO.setDate(sdfAct.format(d1).toString());

                }

                }
                if (j == 1) {
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(1);
                    // blank = hssfCell.toString();
                    // if(blank == "")
                    // System.out.println("N/A");
                    // //else
                    // //System.out.println(blank);
                }
                if (j == 2) {
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(2);
                    String emp_code1 = hssfCell.toString();
                    String temp = emp_code1;
                    String non_emp1="10003";
                    String non_emp2="1001";
                    String non_emp3="1002";
                    String non_emp4="1111";
                    String non_emp5="237";
                    String non_emp6="002";
                    String non_emp7="023";
                    String non_emp8="511";
                    if(temp.length()>3){
                        temp = ""+ Integer.parseInt(temp);
                    }

                     if(temp.equals(non_emp1)||temp.equals(non_emp2)||temp.equals(non_emp3)||temp.equals(non_emp4)||temp.equals(non_emp5)||temp.equals(non_emp6)||temp.equals(non_emp7)||temp.equals(non_emp8))
                    {                        
                    j=15;

                    }
                     else{

                    String emp_code = "EST" +temp;                  
                    employeeDTO.setEmp_code(emp_code);
                     System.out.println(emp_code);
                     }                  
                }
                if (j == 3) {
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(3);
                    String emp_name = hssfCell.toString();
                    employeeDTO.setName(emp_name);

                }
                if (j == 4) {
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(4);

                    // System.out.println(card_num);
                }
                if (j == 5) {
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(5);
                    String shift_start = hssfCell.toString();

                }
                if (j == 6) {
                    String emp_in = "";
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(6);
                    try {
                        emp_in = hssfCell.toString();

                    } catch (Exception e) {
                        emp_in = "";
                    }
                    if (emp_in == "" || emp_in.isEmpty() || emp_in == null) {
                    } else {
                    }

                }
                if (j == 7) {
                    String emp_out = "";
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(7);
                    try {
                        emp_out = hssfCell.toString();
                    } catch (Exception e) {
                    }
                    if (emp_out == "" || emp_out.isEmpty() || emp_out == null) {
                    } else {
                    }
                }
                if (j == 8) {
                    String shift_end = "";
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(8);

                }
                if (j == 9) {
                    String status = "";
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(9);
                    status = hssfCell.toString();               
                    String holiday_status="Hol";

                    if(status.equals(holiday_status))
                    {

                        j=15;
                    }

                }
                if (j == 10) {
                    String emp_late = "";
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(10);
                    try {
                        emp_late = hssfCell.toString();

                    } catch (Exception e) {
                        emp_late = "";
                    }
                    if (emp_late == "" || emp_late.isEmpty()
                            || emp_late == null) {
                    } else {
                    }
                }
                if (j == 11) {
                    String emp_early = "";
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(11);
                    try {
                        emp_early = hssfCell.toString();

                    } catch (Exception e) {
                        emp_early = "";
                    }
                    if (emp_early == "" || emp_early.isEmpty()
                            || emp_early == null) {

                    } else {

                    }
                }
                if (j == 12) {
                    String hours_worked = "";
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(12);
                    try {
                        hours_worked = hssfCell.toString();                     
                        employeeDTO.setHours_worked(hours_worked);
                    } catch (Exception e) {
                        hours_worked = "";
                    }
                    if (hours_worked == "" || hours_worked.isEmpty()|| hours_worked == null) 
                    {
                        hours_worked = "0.00";
                        employeeDTO.setHours_worked(hours_worked);                  
                    }

                    date_Biometric.add(employeeDTO.getDate());          
                    emp_code_Biometric.add(employeeDTO.getEmp_code());              
                    working_hours_Biometric.add(employeeDTO.getHours_worked());
                }

                if (j == 13) {
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(13);                    
                }
                if (j == 14) {
                    HSSFCell hssfCell = (HSSFCell) cellTempList.get(14);                    
                }

            }

        }       
        biometric_All.add(date_Biometric);      
        biometric_All.add(emp_code_Biometric);    
        biometric_All.add(working_hours_Biometric); 
        return biometric_All;

    } 
```

.....................在上面的代码中，我在 HSSFWorkbook workBook = new HSSFWorkbook(fsFileSystem); 行中得到了上述异常。

# c++ - C++ 中的跨平台 GUI 窗口

> ID：13263537
> 
> 赞同：3
> 
> 时间：2012-11-07T05:21:35.583
> 
> 标签：c++, window, cross-platform

我想知道为什么我找不到关于这个的问题。如何在 C++ 中创建跨平台窗口？我所说的跨平台是指至少支持 Windows、Mac 和 Linux。

如果有一个仅用于此任务的库，我愿意使用它。但我不想使用像*wxWidgets*这样的带有窗口控件的臃肿库。

我不需要 GUI 控件，因为我将使用 OpenGL。（出于某种原因，我不想使用像*GLUT*或*GLFW*这样的框架。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:23:20.267

还有其他的，我推荐并使用 FLTK。但 Qt 也是我的最爱。看看什么最适合你和你的思维模式。

FLTK 重量极轻。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T06:46:35.970

[尝试Tk](http://cpptk.sourceforge.net/)的 C++ 绑定库。这是一个非常轻量级和简单的。

# c - Linux 内核：Spinlock SMP：为 什么 spin_lock_irq SMP 版本中有 preempt_disable()？

> ID：13263538
> 
> 赞同：12
> 
> 时间：2012-11-07T05:21:36.970
> 
> 标签：c, linux, kernel, spinlock, smp

Linux内核中的原始代码是：

```
static inline void __raw_spin_lock_irq(raw_spinlock_t *lock)
{
    local_irq_disable();
    preempt_disable();
    spin_acquire(&lock->dep_map, 0, 0, _RET_IP_);
    LOCK_CONTENDED(lock, do_raw_spin_trylock, do_raw_spin_lock);
} 
```

我认为禁用本地 IRQ 后没有执行路径可以抢占当前路径。

因为所有常见的硬 IRQ 都被禁用，所以应该不会发生软中断，也不会出现启动调度轮的滴答声。我认为目前的道路是安全的。那么为什么会有一个`preempt_disable()`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T06:10:52.343

据我所知，`preempt_disable()`调用被添加到相当多的锁定原语中，包括`spin_lock_irq`Dave Miller 在 2002 年 12 月 4 日，并在 2.5.51 中发布。提交消息没有帮助；它只是说“[SPINLOCK]：修复非 SMP nopping spin/rwlock 宏。”

我相信[Proper Locking Under a Preemptible Kernel](http://lxr.linux.no/linux+v3.6.6/Documentation/preempt-locking.txt#L117)文档很好地解释了这一点。标题为“使用中断禁用防止抢占”的最后一节开始，

```
It is possible to prevent a preemption event using local_irq_disable and
local_irq_save.  Note, when doing so, you must be very careful ... 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-11-26T01:02:02.540

我浏览了 Sharp 提到的[补丁](http://lkml.iu.edu/hypermail/linux/kernel/0411.1/0770.html)，发现禁用 irq 可以隐式禁用抢占，但有风险。

> 但是，请记住，依赖 irq 被禁用是一项有风险的业务。任何将抢占计数减少到 0 的 spin_unlock() 都可以触发重新调度。即使是简单的 printk() 也可能触发这样的重新安排。因此，仅当您知道此类事情不会在您的代码路径中发生时，才依赖隐式抢占禁用。最好的策略是仅在短时间内且仅在您保留在自己的代码中时才依赖隐式抢占禁用。

# android - 用于连续滚动的圆形 ViewPager

> ID：13263549
> 
> 赞同：4
> 
> 时间：2012-11-07T05:22:35.043
> 
> 标签：android, android-viewpager

我正在显示一个仅包含 ImageViews 的 ViewPager。但是，我需要它以循环方式连续发生。例如：...c > B > A > B > c...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T05:43:16.163

只需实现 ViePager.OnPageChangeListener：

```
YOUR_VIEWPAGER.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {
    @Override
    public void onPageSelected(int position) {
      currentPage = position;
    }
    @Override
    public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {
      // not needed
    }
    @Override
    public void onPageScrollStateChanged(int state) {
      if (state == ViewPager.SCROLL_STATE_IDLE) {
        int pageCount = pages.size();

        if (currentPage == 0){
          YOUR_VIEWPAGER.setCurrentItem(pageCount-2,false);
        } else if (currentPage == pageCount-1){
          YOUR_VIEWPAGER.setCurrentItem(1,false);
        }
      }
    }
  }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-02-12T05:25:17.547

试试这个。它会得到像 C <--> A <--> B <--> C <--> A 这样的结果

```
viewPager?.addOnPageChangeListener(object : ViewPager.OnPageChangeListener {
      var currentPage : Int = 0
      var mPreviousPosition : Int = 0
      var mIsEndOfCycle = false
      override fun onPageScrollStateChanged(state: Int) {
        val pageCount = viewPager?.adapter?.count
        if (state == ViewPager.SCROLL_STATE_IDLE) {
          if (mPreviousPosition == currentPage && !mIsEndOfCycle) {
            if (currentPage == 0) {
              pageCount?.minus(1)?.let { viewPager?.setCurrentItem(it, false) };
            } else {
              viewPager?.setCurrentItem(0, false);
            }
            mIsEndOfCycle = true;
          } else {
            mIsEndOfCycle = false;
          }
          mPreviousPosition = currentPage;
        }
      }

      override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {}

      override fun onPageSelected(position: Int) {
        currentPage = position
      }

    }) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-08T13:59:05.657

以下为我做了。我不希望用户从第一页“向后”滚动到最后一页。所以基本上我有三个不同的屏幕，但实际上我在适配器中有四个，如下所示：A -> B -> C -> A。当用户点击第二个“A”页面，并且寻呼机状态变为空闲时，我无缝切换到第一个“A”页。我什至有一个同样被覆盖的页面指示器。

```
val pageChangeCallback = object : ViewPager2.OnPageChangeCallback() {
        override fun onPageScrollStateChanged(state: Int) {
            super.onPageScrollStateChanged(state)

            if (state == ViewPager.SCROLL_STATE_IDLE) {
                if (viewPager.currentItem == NUM_PAGES - 1) {
                    viewPager.setCurrentItem(0, false)
                }
            }
        }
    } 
```

# java - Java 上的正则表达式：通过 Matcher 类避免不必要的“贪婪”策略

> ID：13263550
> 
> 赞同：1
> 
> 时间：2012-11-07T05:22:36.790
> 
> 标签：java, regex, matcher, greedy

我正在尝试开发一个正则表达式来查找字符串中的一系列标签。例如，我可以有标签`(NP .*)`至少一次（可以是多次），后跟一个标点符号（在本例中为 a `./.`）。如果在 de`(NP)`和 the之间有另一个标签`./.`（如下例中的 VP），则 Matcher 一定找不到任何东西。问题是，即使我在之后使用问号，`.*`它也会继续寻找`)`使表达式与字符串中的某些内容匹配的 a。这是我的方法：

```
public void myMethod() {
    String input = "(NP first tag) (VP second tag) ./.";
    String regex = "(\\(NP .*?\\)( )?)+" + "\\./\\.";

    Pattern pattern = Pattern.compile("(" + regex + ")");
    Matcher matcher = pattern.matcher(input);

    if (matcher.find()) {
        System.out.println("<S "+matcher.group(0)+">");
    } else {
        System.out.println("sem grupos.");
    }
} 
```

该方法仍将匹配正则表达式，但不应该。我需要它来告诉我没有找到组，因为“VP”标签不应该在那里。我相信这个问题依赖于 Java 中 Regex 采用的贪婪策略。它试图找到一些符合正则表达式描述的模式的字符组合。我不知道如何重写这个表达式。

有什么帮助吗？

**编辑：**

1）我注意到我的问题有点令人困惑，所以我对示例进行了一些更改以使其更清楚。

2）谢谢安摩尔。我同意我使用了比必要更多的组，但这是因为像`+`. 我试图切断不必要的群体。`.*?`你用 a替换的简单想法`[^)]*?`也很棒！我唯一调整的是`)`使用`[^\\)]*?`. 下面我展示了最终使用的 REGEX。

```
String regex = "(\\(NP [^\\)]*?\\) ?)+\\./\\."; 
```

非常感谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:42:40.787

`((\(NP .*?\)( )?)+\./\.)`是编译的模式。

简化：

`\(NP .*?\) ?+\./\.`删除未使用的捕获组。

现在，让我们看看您拥有的示例字符串：

在`(NP first tag) (VP second tag) ./.`，`.*?`比赛`first tag) (VP second tag`。
在`(NP first tag) (VP second tag) (MISC tag that must not be catch) ./.`，`.*?`匹配`first tag) (VP second tag) (MISC tag that must not be catch`。

为什么？我的意思是，它不是贪婪的，对吧？没错，但是...

`.*?\)`开始匹配`first tag)`，你想要什么。但是，正则表达式的其余部分未能匹配，正则表达式引擎将其作为可能的答案抛出并继续查找。

如果您在 (NP (tag)) 之类的标签中没有标签，则可以更改模式：`\(NP [^)]*?\)`

要匹配您在问题中描述的字符串：`\(NP [^)]*?\) ?\(VP [^)]*?\) \./\.`

随着 Java 转义，它变成`\\(NP [^)]*?\\) ?\\(VP [^)]*?\\) \./\.`.

为了进一步阅读，有一个很棒的[Stack Overflow 问题](https://stackoverflow.com/questions/5319840/greedy-vs-reluctant-vs-possessive-quantifiers)，涵盖了更多关于此的理论和实践。

# c# - db.savechanges() 不工作

> ID：13263557
> 
> 赞同：3
> 
> 时间：2012-11-07T05:23:26.733
> 
> 标签：c#, entity-framework, ado.net

我正在关注本教程[使用实体框架创建主从 Windows 窗体，](http://msdn.microsoft.com/en-us/data/ff706685.aspx) 但是`db.Savechanges()`如果我修改了某些列或添加了新行，则它不起作用。根据这个视频教程，它会起作用，但它不会。

**Product_Form.cs**

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace RemoteSynchronizer
{
    public partial class Product : Form
    {

        ProductsEntities db = new ProductsEntities();
        public Product()
        {
            InitializeComponent();
        }

        private void Product_Form_Load(object sender, EventArgs e)
        {
            product_DBindingSource.DataSource = db.Product_D.ToList();
        }

        private void bindingNavigatorAddNewItem_Click(object sender, EventArgs e)
        {

        }

        private void product_DBindingNavigatorSaveItem_Click(object sender, EventArgs e)
        {
            // Product_D obj = new Product_D();
            // obj.PCode = pCodeTextBox.Text;
            // obj.Name = nameTextBox.Text;
            // obj.Batch = batchTextBox.Text;
            // obj.Expiry = expiryTextBox.Text;
            // obj.Price = priceTextBox.Text;

            //try
            // {
            //     Product_D temp = db.Product_D.Single(t => t.PCode == pCodeTextBox.Text);

            //     MessageBox.Show("Product Exists");
            // }
            // catch 
            // {
            //     db.Product_D.Add(obj);
                 db.SaveChanges();

             //}

        }

        private void bindingNavigatorDeleteItem_Click(object sender, EventArgs e)
        {

        }

    }
} 
```

当我尝试在代码中使用注释方法时，它会出错

**错误**

```
************** Exception Text **************
System.Data.Entity.Infrastructure.DbUpdateException: Unable to update the EntitySet 'Product_D' because it has a DefiningQuery and no <InsertFunction> element exists in the <ModificationFunctionMapping> element to support the current operation. ---> System.Data.UpdateException: Unable to update the EntitySet 'Product_D' because it has a DefiningQuery and no <InsertFunction> element exists in the <ModificationFunctionMapping> element to support the current operation.
   at System.Data.SqlClient.SqlGen.DmlSqlGenerator.ExpressionTranslator.Visit(DbScanExpression expression)
   at System.Data.Common.CommandTrees.DbScanExpression.Accept(DbExpressionVisitor visitor)
   at System.Data.SqlClient.SqlGen.DmlSqlGenerator.GenerateInsertSql(DbInsertCommandTree tree, SqlVersion sqlVersion, List`1& parameters)
   at System.Data.SqlClient.SqlGen.SqlGenerator.GenerateSql(DbCommandTree tree, SqlVersion sqlVersion, List`1& parameters, CommandType& commandType, HashSet`1& paramsToForceNonUnicode)
   at System.Data.SqlClient.SqlProviderServices.CreateCommand(DbProviderManifest providerManifest, DbCommandTree commandTree)
   at System.Data.SqlClient.SqlProviderServices.CreateCommand(DbCommandTree commandTree)
   at System.Data.Mapping.Update.Internal.UpdateTranslator.CreateCommand(DbModificationCommandTree commandTree)
   at System.Data.Mapping.Update.Internal.DynamicUpdateCommand.CreateCommand(UpdateTranslator translator, Dictionary`2 identifierValues)
   at System.Data.Mapping.Update.Internal.DynamicUpdateCommand.Execute(UpdateTranslator translator, EntityConnection connection, Dictionary`2 identifierValues, List`1 generatedValues)
   at System.Data.Mapping.Update.Internal.UpdateTranslator.Update(IEntityStateManager stateManager, IEntityAdapter adapter)
   at System.Data.EntityClient.EntityAdapter.Update(IEntityStateManager entityCache)
   at System.Data.Objects.ObjectContext.SaveChanges(SaveOptions options)
   at System.Data.Entity.Internal.InternalContext.SaveChanges()
   --- End of inner exception stack trace ---
   at System.Data.Entity.Internal.InternalContext.SaveChanges()
   at System.Data.Entity.Internal.LazyInternalContext.SaveChanges()
   at System.Data.Entity.DbContext.SaveChanges()
   at RemoteSynchronizer.Product.product_DBindingNavigatorSaveItem_Click(Object sender, EventArgs e) in e:\Study\Project\RemoteSynchronizer\RemoteSynchronizer\Product_Form.cs:line 50
   at System.Windows.Forms.ToolStripItem.RaiseEvent(Object key, EventArgs e)
   at System.Windows.Forms.ToolStripButton.OnClick(EventArgs e)
   at System.Windows.Forms.ToolStripItem.HandleClick(EventArgs e)
   at System.Windows.Forms.ToolStripItem.HandleMouseUp(MouseEventArgs e)
   at System.Windows.Forms.ToolStripItem.FireEventInteractive(EventArgs e, ToolStripItemEventType met)
   at System.Windows.Forms.ToolStripItem.FireEvent(EventArgs e, ToolStripItemEventType met)
   at System.Windows.Forms.ToolStrip.OnMouseUp(MouseEventArgs mea)
   at System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
   at System.Windows.Forms.Control.WndProc(Message& m)
   at System.Windows.Forms.ScrollableControl.WndProc(Message& m)
   at System.Windows.Forms.ToolStrip.WndProc(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)

************** Loaded Assemblies **************
mscorlib
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.18010 built by: FX45RTMGDR
    CodeBase: file:///C:/Windows/Microsoft.NET/Framework/v4.0.30319/mscorlib.dll
----------------------------------------
RemoteSynchronizer
    Assembly Version: 1.0.0.0
    Win32 Version: 1.0.0.0
    CodeBase: file:///E:/Study/Project/RemoteSynchronizer/RemoteSynchronizer/bin/Debug/RemoteSynchronizer.exe
----------------------------------------
System.Windows.Forms
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Windows.Forms/v4.0_4.0.0.0__b77a5c561934e089/System.Windows.Forms.dll
----------------------------------------
System.Drawing
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Drawing/v4.0_4.0.0.0__b03f5f7f11d50a3a/System.Drawing.dll
----------------------------------------
System
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.18016 built by: FX45RTMGDR
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System/v4.0_4.0.0.0__b77a5c561934e089/System.dll
----------------------------------------
System.Configuration
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Configuration/v4.0_4.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll
----------------------------------------
System.Xml
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Xml/v4.0_4.0.0.0__b77a5c561934e089/System.Xml.dll
----------------------------------------
System.Web
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_32/System.Web/v4.0_4.0.0.0__b03f5f7f11d50a3a/System.Web.dll
----------------------------------------
System.Core
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Core/v4.0_4.0.0.0__b77a5c561934e089/System.Core.dll
----------------------------------------
EntityFramework
    Assembly Version: 5.0.0.0
    Win32 Version: 5.0.20627.0
    CodeBase: file:///E:/Study/Project/RemoteSynchronizer/RemoteSynchronizer/bin/Debug/EntityFramework.DLL
----------------------------------------
System.Data.Entity
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Data.Entity/v4.0_4.0.0.0__b77a5c561934e089/System.Data.Entity.dll
----------------------------------------
Anonymously Hosted DynamicMethods Assembly
    Assembly Version: 0.0.0.0
    Win32 Version: 4.0.30319.18010 built by: FX45RTMGDR
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_32/mscorlib/v4.0_4.0.0.0__b77a5c561934e089/mscorlib.dll
----------------------------------------
Accessibility
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/Accessibility/v4.0_4.0.0.0__b03f5f7f11d50a3a/Accessibility.dll
----------------------------------------
System.Data
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_32/System.Data/v4.0_4.0.0.0__b77a5c561934e089/System.Data.dll
----------------------------------------
System.Transactions
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_32/System.Transactions/v4.0_4.0.0.0__b77a5c561934e089/System.Transactions.dll
----------------------------------------
System.Numerics
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Numerics/v4.0_4.0.0.0__b77a5c561934e089/System.Numerics.dll
----------------------------------------
System.Data.OracleClient
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_32/System.Data.OracleClient/v4.0_4.0.0.0__b77a5c561934e089/System.Data.OracleClient.dll
----------------------------------------
System.Xml.Linq
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Xml.Linq/v4.0_4.0.0.0__b77a5c561934e089/System.Xml.Linq.dll
----------------------------------------
System.EnterpriseServices
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_32/System.EnterpriseServices/v4.0_4.0.0.0__b03f5f7f11d50a3a/System.EnterpriseServices.dll
----------------------------------------
EntityFrameworkDynamicProxies-RemoteSynchronizer
    Assembly Version: 1.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Data.Entity/v4.0_4.0.0.0__b77a5c561934e089/System.Data.Entity.dll
----------------------------------------
System.Runtime.Serialization
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929 built by: FX45RTMREL
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.Runtime.Serialization/v4.0_4.0.0.0__b77a5c561934e089/System.Runtime.Serialization.dll
----------------------------------------
System.ComponentModel.DataAnnotations
    Assembly Version: 4.0.0.0
    Win32 Version: 4.0.30319.17929
    CodeBase: file:///C:/Windows/Microsoft.Net/assembly/GAC_MSIL/System.ComponentModel.DataAnnotations/v4.0_4.0.0.0__31bf3856ad364e35/System.ComponentModel.DataAnnotations.dll
----------------------------------------
Microsoft.SqlServer.Types
    Assembly Version: 11.0.0.0
    Win32 Version: 2011.0110.2100.060 ((SQL11_RTM).120210-1917 )
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/Microsoft.SqlServer.Types/11.0.0.0__89845dcd8080cc91/Microsoft.SqlServer.Types.dll
----------------------------------------

************** JIT Debugging **************
To enable just-in-time (JIT) debugging, the .config file for this
application or computer (machine.config) must have the
jitDebugging value set in the system.windows.forms section.
The application must also be compiled with debugging
enabled.

For example:

<configuration>
    <system.windows.forms jitDebugging="true" />
</configuration>

When JIT debugging is enabled, any unhandled exception
will be sent to the JIT debugger registered on the computer
rather than be handled by this dialog box. 
```

如何摆脱这个问题？我试图通过简单的方法解决这个问题，`db.savechanges()`但它不起作用。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-07T05:26:16.753

> 无法更新 EntitySet，因为它有一个 DefiningQuery 并且元素中不存在支持当前操作的元素。

**确保你的表有一个主键**！

如果不添加主键并更新实体框架模型并再次运行。

[来源：](http://yassershaikh.com/unable-to-update-the-entityset-because-it-has-a-definingquery-and-no-element-exists-in-the-element-to-support-the-current-operation/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:35:50.203

试试这个而不是你的方法

```
Product_D obj= db.Product_D.FirtOrDefault(t => t.PCode == pCodeTextBox.Text);
if(obj==null){
   obj=new Product_D();
   db.Product_D.AddObject(obj);

}

   obj.PCode = pCodeTextBox.Text;
   obj.Name = nameTextBox.Text;
   obj.Batch = batchTextBox.Text;
   obj.Expiry = expiryTextBox.Text;
   obj.Price = priceTextBox.Text;
   db.SaveChanges(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-14T01:35:37.300

试试这个：

```
if(ModelState.IsValid)
{
    db.SaveChanges();
} 
```

# yui - 如何访问彼此单独的 yui 对象

> ID：13263559
> 
> 赞同：0
> 
> 时间：2012-11-07T05:23:47.220
> 
> 标签：yui, alfresco, alfresco-share

在“Start Workflow”页面中，“Start Workflow”表单是从Form-Engine生成的。

> 我想在提交表单时禁用“开始工作流程”按钮。回调时，我想启用此按钮。

在 start-workflow.js 中，我可以使用

```
var submitButton = Dom.get(this.generateId + "-form-submit-button");
submitButton.setAttribute("disabled", "disabled"); 
```

但是添加属性“ `disabled`”在 IE8 中不起作用，因为按钮甚至可以单击。但它适用于Mozilla。但是通过禁用yui，

`this.submitElements[0].set("disabled", true);`可以工作。

问题是**我如何从 Alfresco.component.StartWorkflow(start-workflow.js) 访问 Alfresco.FormUI(form.js)。由于它们是单独的 yui 对象，我不知道如何相互访问。**

如果你知道，让我分享你的知识和经验。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T10:17:19.343

如果其他组件扩展`Alfresco.component.Base`，那么它应该在实例化时在页面上注册它的存在。

然后，您可以使用`Alfresco.util.ComponentManager`( [docs](http://sharextras.org/jsdoc/share/community-4.0.e/symbols/Alfresco.util.ComponentManager.html) ) 检索您想要的实例，例如，如果它是页面上的唯一实例，

```
var otherCmpt = Alfresco.util.ComponentManager.findFirst(p_sName) 
```

其中`p_sName`是作为字符串值的类的全名，例如`"Alfresco.FormUI"`.

# java - 多线程，可调用，FutureObject

> ID：13263560
> 
> 赞同：1
> 
> 时间：2012-11-07T05:24:04.963
> 
> 标签：java, multithreading, java.util.concurrent

如何`Set<String>`将同一方法中的两个单独的迭代值返回给`Future`main 方法中的对象？我正在使用`Callable`，因为我必须返回一组字符串值并将它们存储起来以供进一步使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:26:10.217

如果我理解这个问题，那么当您想从任何方法返回多个值时也是一样的。您始终可以创建一个包含任意数量`Set`值的包装类，并从您的`Callable`.

```
private static class MultiSet {
   Set<Integer> set1;
   Set<Integer> set2;
}

private static class MyCallable implements Callable<MultiSet> {
    public MultiSet call() {
        ...
    }
} 
```

# javascript - 无法更新 mongoosejs 中的数组字段

> ID：13263562
> 
> 赞同：1
> 
> 时间：2012-11-07T05:24:06.327
> 
> 标签：javascript, node.js, mongoose

我有一个无法解决的奇怪问题。我有一个猫鼬模式：

```
Product = new Schema({
  title: {
     type: String
  },
  prices: {
     type: Array
  },
  sync: {
     type: Boolean
  }
  ... 
```

如果同步标志为真，我使用 post save 中间件来更新第 3 方站点。在该操作返回时，我更新价格数组并将同步设置为 false，这样它就不会导致无限循环。

```
Product.post('save', function () { 
    if(this.sync) {
        this.title = "HELLO";
        this.prices[0].retail = '24';
        this.sync = false;
        this.save();
    }
}); 
```

如果我执行上述操作，标题和同步字段会更改，但价格数组不会更改。实际上，我无法更新架构中的任何数组。在上面的示例中，价格数组包含大约 10 个条目 - 每个条目都包含许多字段，其中包括一个零售字段。我也尝试添加到该数组：

```
this.prices.push({ retail: "10 }); 
```

以及重新初始化数组：

```
this.prices = []; 
```

不管我做什么都没有效果。但是，可以更新任何非数组字段。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T13:19:28.733

如果您没有指定数组字段中的模式（如 中`prices`），Mongoose 会将其视为一个`Mixed`字段，并且您必须通知 Mongoose 您对其所做的任何更改，以便 Mongoose 知道保存它。文档[在这里](http://mongoosejs.com/docs/schematypes.html)。

因此，您的代码应更改为：

```
Product.post('save', function () { 
    if(this.sync) {
        this.title = "HELLO";
        this.prices[0].retail = '24';
        this.markModified('prices');
        this.sync = false;
        this.save();
    }
}); 
```

# android - 谷歌应用内错误

> ID：13263567
> 
> 赞同：1
> 
> 时间：2012-11-07T05:24:38.753
> 
> 标签：android, in-app-purchase

我在我的应用程序中实现了谷歌应用内购买。对于我使用的测试

1.  使用您自己的生产密钥构建签名的 apk
2.  将签名的 apk 上传到 Android Market 开发者控制台
3.  将签名的 apk 上传到设备
4.  将我的公钥从市场添加到我的应用程序
5.  将我已签名并支持应用内购买的 apk 上传到市场（未发布）
6.  在市场控制台中创建应用内商品（已发布）
7.  在我的个人资料中添加了一个测试用户帐户

但是当我测试 inapp 时，它显示“您要求的商品不可购买”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:49:09.533

你必须像这样传递产品ID......

```
BillingHelper.requestPurchase(mContext, "your product id"); 
```

并使您的产品在市场上发布..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:52:34.970

您必须将市场控制台中的应用内产品项目从未发布更改为已发布。

# php - 仅获得相同的结果出现在 SQL 中

> ID：13263569
> 
> 赞同：0
> 
> 时间：2012-11-07T05:24:44.917
> 
> 标签：php, sql, sql-server

这是我的代码，稍后我会将其放入 php 中，但目前我在提供的查询测试器中使用它。我们正在做一级凯文培根而不是六级。

**我的查询如下：**

```
SELECT name,year
FROM actors
JOIN roles ON roles.actor_id = actors.id
JOIN movies ON movies.id=roles.movie_id
WHERE actors.first_name= 'kevin' AND actors.last_name='bacon' OR actors.first_name= 'sean' AND actors.last_name='penn'
ORDER BY movies.name; 
```

**结果是**

```
Animal House 1978
Apollo 13 1995 
Few Good Men, A 1992 
Footloose 1984 
Hollow Man 2000 
JFK 1991 
Mystic River 2003 
Mystic River 2003 
Planes, Trains & Automobiles 1987 
Stir of Echoes 1999 
```

**如何让它只显示神秘河？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:48:14.200

如果我正确理解了您的问题，则您正在尝试查找其中包含的电影`Sean Penn`列表`Kevin Bacon`。如果是这样，那么您将需要在查询中使用两次演员和角色表。

```
SELECT
    movies.name,
    movies.year
FROM
    actors AS actor2 INNER JOIN roles AS role2 ON actor2.ID = role2.actor_id
           INNER JOIN actors AS actor1 INNER JOIN roles AS role1 ON actor1.ID = role1.actor_id
                INNER JOIN movies ON role1.movie_id = movies.ID ON role2.movie_id = movies.ID
WHERE
    actor1.first_name= 'kevin' AND actor1.last_name='bacon'
        AND
    actor2.first_name= 'sean' AND actor2.last_name='penn'
ORDER BY movies.name; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:32:33.390

一、分组条件

```
WHERE (actors.first_name= 'kevin' AND actors.last_name='bacon') OR 
      (actors.first_name= 'sean' AND actors.last_name='penn') 
```

二、`DISTINCT`在`SELECT`关键字后面加

```
SELECT DISTINCT ... 
```

***后续问题：你为什么只想展示`Mystic River`？***

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T05:34:38.083

我认为你在这里要求的是不同的......

DISTINCT 关键字可用于仅返回不同（不同）的值。

尝试这个

```
SELECT DISTINCT name,year
FROM actors
JOIN roles ON roles.actor_id = actors.id
JOIN movies ON movies.id=roles.movie_id
WHERE (actors.first_name= 'kevin' AND actors.last_name='bacon') OR (actors.first_name= 'sean' AND actors.last_name='penn')
ORDER BY movies.name; 
```

和 THIS 在 where 子句中，

```
 WHERE (actors.first_name= 'kevin' AND actors.last_name='bacon') AND (actors.first_name= 'sean' AND actors.last_name='penn') 
```

如果你想知道凯文培根和肖恩潘在同一部电影中的位置

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T05:31:51.050

尝试这个

```
SELECT DISTINCT name,year
FROM actors
JOIN roles ON roles.actor_id = actors.id
JOIN movies ON movies.id=roles.movie_id
WHERE actors.first_name= 'kevin' AND actors.last_name='bacon' OR actors.first_name= 'sean' AND actors.last_name='penn'
ORDER BY movies.name; 
```

# ios - 在 iOS 上将 SVG 转换为任意大小的图像

> ID：13263576
> 
> 赞同：1
> 
> 时间：2012-11-07T05:25:06.193
> 
> 标签：ios, svg, core-graphics, vector-graphics

我有几个想要在 iOS 应用程序中使用的 SVG 图像，简而言之，我想将 SVG 图像转换为`UIImages`（或`CGImages`）。

我的目标是我应该能够以`.svg`任意大小（假设正确的宽高比）从文件中加载图像，并将它们存储为`UIImages`或`CGImages`不损失图像质量。（请注意，这一切都必须在运行时发生，将图像预先转换为各种大小的`.png`文件并将它们放入 App 包中并不是一个可行的选择。）

这是可能的，如果是这样，我怎么能这样做？我有很好的工作知识，`Core Graphics`但我以前从未使用过矢量图形。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:48:58.020

[SVGKit](https://github.com/SVGKit/SVGKit)可以帮助你——这个库将 SVG 渲染到`CALayer`实例上；由此，您可以轻松地将图像合成为位图并制作 CGImage。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-14T11:45:30.183

在大多数情况下，我不建议将矢量文档转换为位图，但如果你必须[SVGgh](https://github.com/GenerallyHelpfulSoftware/SVGgh)有一个类 SVGRenderer，它有一个方法 -(UIImage*)asImageWithSize:(CGSize)maximumSize andScale:(CGFloat)scale 这将创建一个 UIImage .

这是假设 SVGgh 可以正确渲染您的 SVG，例如，它不支持图像效果。

```
 #import <SVGgh/SVGgh.h>
-(UIImage) imageFromSVGURL:(NSURL*)svgURL withSize:(CGSize)maximumSize andScale:(CGFloat)scale
{
    SVGRenderer* renderer = [[SVGRenderer alloc] initWithContentsOfURL:svgURL];
    return [renderer asImageWithSize:maximumSize andScale:scale];
} 
```

# batch-file - 以编程方式更改和刷新图标（无需重新启动）

> ID：13263577
> 
> 赞同：5
> 
> 时间：2012-11-07T05:25:06.297
> 
> 标签：batch-file, vbscript, windows-xp

当我手动替换图标时（即不是从资源管理器中的文件夹选项窗口），图标没有被更新。例如，如果我执行这个批处理代码：

```
REG ADD HKCR\testfile\DefaultIcon /ve /d "C:\test.ico,0" /f 
```

图标在“文件夹选项”的列表中显示为应有的样子，但图标未在桌面或资源管理器中更新。

如果我只是点击任何文件类型的“更改图标”按钮并退出“文件夹选项”窗口，图标就会更新。但据我所知，这不能通过批处理或 VBS 完成。

重新启动 explorer.exe 确实有效，但如果我这样做，任务栏中的应用程序选项卡会由于某种原因变得有问题（例如：当应用程序最大化时，我不能只左键单击任务栏中的选项卡以将其最小化不再-我实际上必须右键单击它并点击最小化...）。更不用说，如果我这样做，所有打开的资源管理器窗口都会关闭，这有点麻烦。

我还有一份**TuneUp Utilities**的副本，它有一个重新加载图标缓存的选项，这确实像预期的那样工作。但再一次，我无法通过批处理或 VBS 访问此工具。它不会重新启动 explorer.exe 或删除任何文件（就像某些解决方案一样）。我对此持肯定态度，因为我的操作系统驱动器上的**任何地方都没有 iconcache.db 文件。**

我也尝试通过 VBS 添加注册表项，但这没有帮助。

欢迎任何批处理或 VBScript 解决方案！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T05:44:29.387

通过关联文件，系统会刷新图标，所以我的简单解决方案是这样的：

```
ASSOC .anyextension=anytype
ASSOC .anyextension= 
```

第二行取消关联扩展。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T20:49:42.833

[这个页面](http://www.planetsourcecode.com/vb/scripts/ShowCode.asp?txtCodeId=42394&lngWId=1)有一个重建缓存的VB程序（查看**frmRebuiltIconCache.frm**的实际代码）

它所做的是检查 的值`HKCU\Control Panel\Desktop\WindowMetrics\Shell Icon Size`，从中减去 1，通过 强制超时`SendMessageTimeout`，然后重置值，并重复超时

由于您无法从 vbs（没有外部程序）调用 DLL，这可能无法满足您的需求。我已将程序缩减为：

```
'SendMessageTimeout values
Const HWND_BROADCAST = &HFFFF
Const WM_SETTINGCHANGE = &H1A
Const SPI_SETNONCLIENTMETRICS = &H2A
Const SMTO_ABORTIFHUNG = &H2

'Private Declare Function SendMessageTimeout Lib "user32" Alias "SendMessageTimeoutA" _
'  (ByVal hwnd As Long, ByVal msg As Long, _
'  ByVal wParam As Long, ByVal lParam As Long, _
'  ByVal fuFlags As Long, ByVal uTimeout As Long, _
'  lpdwResult As Long) As Long

Dim icon_size
Dim new_icon_size
Dim result
Dim SysVarReg
Set SysVarReg = WScript.CreateObject("WScript.Shell")
    ' Get the current icon size.
icon_size = SysVarReg.RegRead ("HKCU\Control Panel\Desktop\WindowMetrics\Shell Icon Size")
    ' Increase the value by 1.
new_icon_size = CInt(icon_size) + 1
SysVarReg.RegWrite "HKCU\Control Panel\Desktop\WindowMetrics\Shell Icon Size", new_icon_size
    ' Send HWND_BROADCAST to refresh the icons.
SendMessageTimeout HWND_BROADCAST, WM_SETTINGCHANGE, SPI_SETNONCLIENTMETRICS, 0, SMTO_ABORTIFHUNG, 10000, result
    ' Restore the original value.
SysVarReg.RegWrite "HKCU\Control Panel\Desktop\WindowMetrics\Shell Icon Size", icon_size
    ' Send HWND_BROADCAST to refresh the icons again.
SendMessageTimeout HWND_BROADCAST, WM_SETTINGCHANGE, SPI_SETNONCLIENTMETRICS, 0, SMTO_ABORTIFHUNG, 10000, result 
```

但是如果没有东西来包装 DLL 调用，您将无法通过 vbs 执行此操作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-20T07:08:17.360

```
' It work in XP.

' The following is "VBA" Module.

' ---------------------------------------------------------

'SendMessageTimeout values
Const HWND_BROADCAST = &HFFFF
Const WM_SETTINGCHANGE = &H1A
Const SPI_SETNONCLIENTMETRICS = &H2A
Const SMTO_ABORTIFHUNG = &H2

Private Declare Function SendMessageTimeout Lib "user32" Alias "SendMessageTimeoutA" _
  (ByVal hwnd As Long, ByVal msg As Long, _
  ByVal wParam As Long, ByVal lParam As Long, _
  ByVal fuFlags As Long, ByVal uTimeout As Long, _
  lpdwResult As Long) As Long

Sub Rebuild_Icon_cache()

Dim icon_size
Dim new_icon_size
Dim result
Dim SysVarReg

Set SysVarReg = CreateObject("WScript.Shell")

' Get the current icon size.
icon_size = SysVarReg.RegRead("HKCU\Control Panel\Desktop\WindowMetrics\Shell Icon Size")

' Increase the value by 1.
new_icon_size = CInt(icon_size) + 1
SysVarReg.RegWrite "HKCU\Control Panel\Desktop\WindowMetrics\Shell Icon Size", new_icon_size

' Send HWND_BROADCAST to refresh the icons.
SendMessageTimeout HWND_BROADCAST, WM_SETTINGCHANGE, SPI_SETNONCLIENTMETRICS, 0, SMTO_ABORTIFHUNG, 10000, result

' Restore the original value.
SysVarReg.RegWrite "HKCU\Control Panel\Desktop\WindowMetrics\Shell Icon Size", icon_size

' Send HWND_BROADCAST to refresh the icons again.
SendMessageTimeout HWND_BROADCAST, WM_SETTINGCHANGE, SPI_SETNONCLIENTMETRICS, 0, SMTO_ABORTIFHUNG, 10000, result

End Sub 
```

# r - R中未使用的参数和无效的下标类型列表错误

> ID：13263584
> 
> 赞同：1
> 
> 时间：2012-11-07T05:25:36.947
> 
> 标签：r, statistics

我正在为一项任务而苦苦挣扎，我想听听你的意见。 *注意：这是一个家庭作业，但是当我尝试添加它说不要添加它的标签时。* 我不想要生成的代码，只是关于如何让它工作的建议:)

所以，我有一个 t.test 函数：

```
 my.t.test <- function(x,s1,s2){
        x1 <- x[s1]
        x2 <- x[s2]
        x1 <- as.numeric(x1)
        x2 <- as.numeric(x2)
        t.out <- t.test(x1,x2,alternative="two.sided",var.equal=T)
out <- as.numeric(t.out$p.value)
        return(out)
    } 
```

一个 30cols x 12k 行的矩阵`data`和一个注释文件，其中包含列名称和列上的数据`dataAnn`

`dataAnn`第一列包含 M（男性）或 F（女性）的列表，对应于样本（或 cols）`data`（遵循与中相同的顺序`dataAnn`），我必须运行 t.test 比较两个样本并获得 p价值观

当我打电话时

```
raw.pValue <- apply(data,1,my.t.test,s1=dataAnn[,1]=="M",s2=dataAnn[,1]=="F") 
```

我得到了错误

```
Error in t.test(x1, x2, alternative = "two.sided", var.equal = T) : 
  unused argument(s) (alternative = "two.sided", var.equal = T) 
```

我什至尝试使用

```
raw.pValue <- apply(data,1,my.t.test,s1=unlist(data[,1:18]),s2=unlist(data[,19:30])) 
```

划分我想比较的列，但在这种情况下我得到了错误

```
Error in x[s1] : invalid subscript type 'list' 
```

我一直在网上查找，我知道第二个错误是由索引作为列表引起的......但这并没有真正为我澄清......任何输入将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T09:33:26.257

您已覆盖该`t.test`功能。尝试将其称为类似`my.t.test`，或者当您想调用原始用途时`stats::t.test`（这会从`stats`名称空间中调用）。请记住，当您覆盖一个函数时，您需要`rm`从工作区中对其进行覆盖，然后才能使用原始函数而不指定命名空间。

# lisp - 如何使用 MAPCAR 实现 REMOVE-IF

> ID：13263594
> 
> 赞同：4
> 
> 时间：2012-11-07T05:26:18.977
> 
> 标签：lisp, common-lisp

如何使用该`MAPCAR`函数在 Common Lisp 中以*非递归*`REMOVE-IF`方式实现等效于,的函数？

 ** * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T12:37:11.230

不可能`MAPCAR`，因为它总是返回与输入长度相同的列表（如果某些输入元素满足谓词，则您需要更短的列表。）

但是有相关的功能是可以的`MAPCAN`。如果你

1.  将谓词应用于每个元素`X`。
    *   如果`X`满足谓词，则替换`(X)`
    *   如果`X`不满足谓词，则替换`NIL`
2.  连接结果列表

那么您将根据需要获得一个包含不满足谓词的元素的列表。

`MAPCAN`将结合这些操作，给定一个实现步骤 #1 的函数。

例子：

```
(defun list-if-not (pred)
  (lambda (x) (if (funcall pred x) nil (list x))))

(defun my-remove-if (pred lst)
  (mapcan (list-if-not pred) lst))

(my-remove-if #'evenp '(1 2 3 4 5)) 
```

==>`(1 3 5)`

`MAPCAR`单独无法做到这一点，尽管您可以将它与`NCONC`(or `APPEND`) 组合以获得相同的结果：

```
(defun my-remove-if (pred lst)
  (apply #'nconc (mapcar (list-if-not pred) lst))) 
```*

# wso2esb - 如何实现将文件上传到 WSO2-ESB 代理服务的客户端？

> ID：13263595
> 
> 赞同：1
> 
> 时间：2012-11-07T05:26:24.670
> 
> 标签：wso2esb, vfs

我配置了一个 ESB 代理：

```
ESB Proxy --> inSqquence --> outSequence --> clone --> VFS 
```

如何实现将文件上传到 WSO2-ESB 代理服务的客户端？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T08:09:10.253

您可以配置 ESB 以使用 VFS 传输侦听器和发送器将文件上传到某个位置。请参阅[示例 254：使用文件系统作为传输介质 (VFS)](http://docs.wso2.org/wiki/pages/viewpage.action?pageId=15471427)，其中在 outSequence 中，响应被保存到使用具有 vfs 文件地址的端点的目录中。要克隆通过 ESB 的消息，您可以使用[Clone mediator](http://docs.wso2.org/wiki/display/ESB451/Clone+Mediator)。

# sql-server - 存储过程中的通配符

> ID：13263598
> 
> 赞同：1
> 
> 时间：2012-11-07T05:26:32.103
> 
> 标签：sql-server, stored-procedures, ssms

我有一个包含表的 SQL Server 数据库`address(a_id:int, street:nvarchar(50), apt:nvarchar(50), city:nvarchar(50), state:nvarchar(50), zip:int)`

我有一个返回`a_id`特定地址的存储过程。

```
SELECT
    address_id
FROM
     address a
WHERE
    street like '%'+ @street +'%'
    and apt like '%'+ @apt +'%'
    and zip = @zip 
```

例如，如果我输入，`1060 West Addison Street Chicago IL 60613`我希望得到与或`a_id`相同的结果`1060 W Addison Street Chicago IL 60613``1060 W. Addison Street Chicago IL 60613`

`street`如您所见，我尝试在and列周围放置通配符`apt`以说明缩写和句点的差异，但它不起作用。

目前只有第一个示例返回一个`a_id`，因为这与数据库中的内容完全匹配

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:05:58.293

`LIKE`操作员不会像您希望的那样工作。如果使用`LIKE %Addisson%`，它会同时返回`West Addison`and ，但如果输入是`W Addison`，它就不能返回。`W Addison``West Addisson`

来自[MSDN](http://msdn.microsoft.com/en-us/library/ms179859.aspx)：

```
% - Any string of zero or more characters. - WHERE title LIKE '%computer%' 
finds all book titles with the word 'computer' anywhere in the book title. 
```

对于您的场景，您可能需要检查`full tezxt index search`，这可能会让您实现目标。具体来说，该`CONSTAINABLE`关键字可能会帮助您：

> 使用加权值（加权项）搜索单词或短语
> 
> 您可以使用 CONTAINSTABLE 搜索单词或短语并指定权重值。权重，以从 0.0 到 1.0 的数字衡量，表示每个单词和短语在一组单词和短语中的重要性。0.0 的权重最低，1.0 的权重最高。
> 
> 以下示例显示了一个使用权重搜索所有客户地址的查询，其中以字符串“Bay”开头的任何文本都具有“Street”或“View”。结果为包含更多指定单词的那些行提供更高的排名。

```
USE AdventureWorks2012 GO

SELECT AddressLine1, KEY_TBL.RANK  FROM Person.Address AS Address
INNER JOIN CONTAINSTABLE(Person.Address, AddressLine1, 'ISABOUT
("Bay*", 
         Street WEIGHT(0.9), 
         View WEIGHT(0.1)
         ) ' ) AS KEY_TBL ON Address.AddressID = KEY_TBL.[KEY] ORDER BY 
KEY_TBL.RANK DESC GO 
```

> 加权项可以与任何简单项、前缀项、世代项或邻近项结合使用。

来源：[使用全文搜索进行查询](http://msdn.microsoft.com/en-us/library/ms142583.aspx)

# java - 我不知道如何修复错误 NullPointerException

> ID：13263601
> 
> 赞同：0
> 
> 时间：2012-11-07T05:26:57.647
> 
> 标签：java

我认为`smallIndex`,`index`和`temp`都有值，所以我不确定为什么我会收到错误。谁能向我解释为什么会这样？错误信息是：

线程“主”java.lang.NullPointerException 中的异常

```
public class LinkedList
{
  public class LinkedListNode
  {
     public int info;
     public LinkedListNode next;
     public LinkedListNode back;

     public LinkedListNode()
     {
        info = 0;
        next = null;
        back = null;
     }
     public LinkedListNode(int item)
     {
        info = item;
        next = null;
        back = null;
     }
     public void displayInfo()
     {
        System.out.print(info + " ");
     }
  }
  protected int count;
  protected LinkedListNode first;
  protected LinkedListNode last;

  public LinkedList()
  {
     first = null;
     last = null;
     count = 0;
  }
  public void initializeList()
  {
     first = null;
     last = null;
     count = 0;
  }
  public boolean isEmpty()
  {
     return (first == null);
  }
  public int length()
  {
     return count;
  }
  public void print()
  {
     LinkedListNode current = first;
     while (current != null)
     {
        current.displayInfo();
        current = current.next;
     }
  }
  public void insertNode(int insertItem)
  {
     LinkedListNode newNode = new LinkedListNode(insertItem);
     if (isEmpty())
     {
        first = newNode;
        last = newNode;
        count++;
     }
     else
     {
        last.next = newNode;
        newNode.back = last;
     }
     last = newNode;
  }
  public LinkedListNode partition(LinkedList list,
  LinkedListNode first, LinkedListNode last)
  {
     LinkedListNode smallIndex = first;
     LinkedListNode index = smallIndex.next;
     LinkedListNode temp = new LinkedListNode();
     int pivot = first.info;

     while (index != last.next)
     {
        if((index.info) < pivot)
        {
           smallIndex = smallIndex.next;
           temp.info = index.info;
           index.info = smallIndex.info;
           smallIndex.info = temp.info;
        }
        index = index.next;
     }
     temp.info = first.info;
     first.info = smallIndex.info;
     smallIndex.info = temp.info;
     System.out.print("The list after QuickSort is: "); 
     list.print();
     System.out.print("\n");
     return smallIndex;
  }
  public void recQuickSort(LinkedList list, LinkedListNode first,
  LinkedListNode last)
  {
     while(first != last)
     {
        LinkedListNode pivotLocation = partition(list, first, last);
        recQuickSort(list, first, pivotLocation.back);
        recQuickSort(list, pivotLocation.next, last);
     }
  }
  public void quickSortLinkedList(LinkedList list)
  {
     recQuickSort(list, list.first, list.last);
  }

}

import java.util.*;

public class testLinkedListQuickSort
{
  static Scanner console = new Scanner(System.in);

  public static void main(String[] args) 
  {
     LinkedList linkedlist = new LinkedList();
     int num;

     System.out.println("Enter numbers to add to linked list:");
     num = console.nextInt();
     while (num != 0)
     {
        linkedlist.insertNode(num);
        num = console.nextInt();
     }
     linkedlist.quickSortLinkedList(linkedlist);
     linkedlist.print();
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:42:09.407

关于您的评论：您将分区称为

```
recQuickSort(list, first, pivotLocation.back); 
```

Do if `pivotLocation.back`is `null`then the partition方法被调用`last == null`，导致你的NPE。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:49:35.383

`NullPointerException`当您尝试访问**没有价值的引用时会发生。**

或者调用空对象的实例方法，访问或修改空对象的字段时。

或者当您将 null 传递给需要实际值的方法时。意思是说空对象被非法使用。

我没有过多地查看您的代码，但要解决此问题，请**确定哪个 Object 实例为空并导致问题。**您需要修改代码以添加正确的空检查验证

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:38:44.213

在您的`partition()`方法中，您没有对`null`值进行太多检查。例如，如果`smallIndex`、`index`、`temp`或`last`are `null`，那么它就会爆炸。还有`first`，如果是`null`，会导致 NPE 。

确保在递归调用中传递的不是空节点是个好主意。我没有看到很多支票。

# jenkins - 我可以将构建配置为每分钟发生一次，但部署应该每天在单个 Jenkins 工作中发生一次吗？

> ID：13263605
> 
> 赞同：0
> 
> 时间：2012-11-07T05:27:38.920
> 
> 标签：jenkins, jenkins-plugins

在单个 Jenkins 作业中，我们可以通过指定 a`schedule`和`polling`. 但是，在这两种情况下，都会触发构建，并且我配置为构建后步骤（使用`PostBuild Task`插件）的部署操作也会发生。我希望在轮询检测到更改时进行构建，但部署应该仅根据我提供的时间表进行。

是否可以在一项工作中完成，或者我必须为他们配置 2 个单独的工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:46:01.520

做 2 个工作会更干净。但是，如果你真的需要在一项工作中使用它，你可以使用 Jenkins 插件的组合来完成这项工作。

*   使用 EnvInject 插件公开 BUILD_CAUSE 和/或 BUILD_CAUSE_SCHEDULED* 环境变量。（这可能不是必需的，默认情况下您可能可以在 Jenkins 配置中引用 Jenkins 变量）
*   当 BUILD_CAUSE == SCHEDULED 或 BUILD_CAUSE_SCHEDULED == true 时，使用灵活发布插件（构建后操作）设置条件发布步骤。（只需测试一个条件。）请注意，您需要使用 Jenkins 的表达式语法，如下所示：

    ```
    ${ENV,var="BUILD_CAUSE_SCHEDULED"} 
    ```

* BUILD_CAUSE_SCHEDULED 不是它的真名，你需要自己找出来，对不起。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T15:07:26.660

你说你正在使用`PostBuild Task`插件。这允许在控制台日志上执行正则表达式来确定是否执行任务。

按计划启动的构建将`Started by timer`位于日志的顶部。您需要做的就是将此表达式添加到“日志文本”字段下的 PostBuild 步骤中。如果您已经在其中使用了某些条件，请单击“添加”按钮以添加另一个“日志文本”字段，并在它们之间使用“AND”运算符

# c# - 使用 Foreach 循环用图像填充 PictureBox

> ID：13263608
> 
> 赞同：1
> 
> 时间：2012-11-07T05:27:59.127
> 
> 标签：c#, .net, winforms, picturebox, imagelist

在我的项目中，我收集了 PictureBoxes 和一个填充的 ImageList。`foreach`我想使用Loop用 ImageList 中的每个图像填充每个图片框。我知道如何使用 For 循环，但我不知道如何使用 foreach 循环。我问这个只是为了知识目的。我认为这可以在 foreach 循环中使用 Linq 来实现，但我是初学者，所以我不知道该怎么做。

我在 for 循环中尝试了以下代码：

```
 for (intimgcount = 0; intimgcount < intMaxPics; intimgcount++)
        {                
            pbxCollection[intimgcount].Image = imglst.Images[intimgcount];          
        } 
```

我想在`foreach`循环中使用的代码是：

```
 var pbxCollection = new List<PictureBox>();  //PictureBox collection 
```

编辑：如何在表单中设置图片框集合的位置？

我试过了：

```
 var i = 0;
        foreach (var pbx in pbxCollection)
        {
            pbx.Image = imglst.Images[i++];
            //set location:
            pbx.Width = 100;
            pbx.Height = 100;
            pbx.Location = new Point(0, pbx.Height * i);
            //add to form:
            this.Controls.Add(pbx);
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:31:42.910

你可以这样做。

```
var pbxCollection = new List<PictureBox>();
foreach (Image img in imglst.Images)
{ 
     PictureBox pb = new PictureBox();
     pb.Image = img;
     pbxCollection.Add(pb); 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:34:16.557

使用变量来增加集合的索引：

```
var i = 0;
foreach (var pbx in pbxCollection)
{
    pbx.Image = imglst.Images[i++];
    //set location:
    pbx.Location = new Point(0, pbx.Image.Height * i);
    //add to form:
    this.Controls.Add(pbx);
} 
```

# python - Django 中的 ajax 问题

> ID：13263612
> 
> 赞同：1
> 
> 时间：2012-11-07T05:28:17.173
> 
> 标签：python, ajax, django

我第一次在 django 中使用 ajax .. 我在网上阅读了一些教程，我正在尝试制作一个简单的表单，通过 ajax 发布一些信息。

这是我的html表单

```
<script src="http://code.jquery.com/jquery-latest.js"></script>

<script type="text/javascript">
function send_request()
{

 $.ajax({
                            type:"POST",
                            url:"/ajaxredirect/",

       });

}
</script>
<button type="button" onclick="send_request();">change content</button> 
```

这是我的观点

```
def Ajaxquery(request):
        if request.is_ajax():
                return HttpResponse("ok")
        else:
                return HttpResponse("error") 
```

当我单击浏览器中的更改内容按钮时，它什么也不做。

任何建议都会受到重视

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:39:00.250

这是我使用的基本请求/响应设置。我从[Django Braces Module](https://github.com/brack3t/django-braces)获得了 JSONResponse 和 AjaxResponse mixins 。我还确保包含以下 Django [CSRF 修复程序](https://docs.djangoproject.com/en/dev/ref/contrib/csrf/)，以防止我的 AJAX 请求被视为跨站点请求伪造。

查询：

```
<script type="text/javascript">
function send_request() {
    $.ajax({
        type: 'POST',
        url: '/ajaxredirect/',
        data: $('#your_form').serialize(),
        crossDomain: false,
        success: function(ctx) { console.log(ctx); },
    });
}
</script> 
```

视图.py

```
from django.views.generic import View
from braces.views import JSONResponseMixin, AjaxResponseMixin

class AjaxResponseView(JSONResponseMixin, AjaxResponseMixin, View):
    def post_ajax(self, request, *args, **kwargs):
        data = request.POST.items() # form data
        ctx = {'hi': 'hello'}
        return self.render_json_response(ctx) 
```

# iphone - json 解析 & 得到 & - iPhone

> ID：13263613
> 
> 赞同：0
> 
> 时间：2012-11-07T05:28:17.940
> 
> 标签：iphone, ios, json

解析Json数据后，在解析结果中我得到& as &。为什么会这样？是否有任何解决方案来获取 & only？这个怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:39:51.153

首先，您从响应中接收字符串，然后从字符串中删除“&”，以获取以下代码。

```
 NSString *string = @"Your Response";
 totalString = [totalString stringByReplacingOccurrencesOfString:@"$"" withString:@""]; 
```

然后现在将字符串转换为使用[jsonkit 库的 json 形式](https://github.com/johnezang/JSONKit)

```
NSDictionary *deserializedData = [jsonString objectFromJSONString]; 
```

愿这对你有所帮助。

# mysql - sql 错误（1242）：子查询返回多于 1 行

> ID：13263615
> 
> 赞同：0
> 
> 时间：2012-11-07T05:28:34.820
> 
> 标签：mysql, sql

我有两张桌子`a_daily`和`o_daily_lcsgeneration`：

我正在尝试这个查询：

```
update a_daily
set
  a_daily.Turbine_Generation =  
   (
     select sum(o_daily_lcsgeneration.Turbine_Generation) 
     from o_daily_lcsgeneration 
     where o_daily_lcsgeneration.Location = 1 
     group by o_daily_lcsgeneration.Date
  ) 
```

但收到上述错误说子查询超过 1 行

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:30:41.147

删除`GROUP BY`子句

```
UPDATE a_daily
SET a_daily.Turbine_Generation = 
(
        SELECT sum(o_daily_lcsgeneration.Turbine_Generation)
        FROM o_daily_lcsgeneration
        WHERE o_daily_lcsgeneration.Location = 1
) 
```

它会导致查询返回多个日期的多个值。

**更新 1**

```
UPDATE  a_daily a
        INNER JOIN
        (
            select g.Date, sum(g.Turbine_Generation) totalSum
            from o_daily_lcsgeneration g
            where g.Location = 1 
            group by g.Date
        ) b ON a.date = b.date
SET     a.Turbine_Generation = b.totalSum
WHERE       a.location = 1 
```

或者

```
UPDATE  a_daily a
        LEFT JOIN JOIN
        (
            select g.Date, sum(g.Turbine_Generation) totalSum
            from o_daily_lcsgeneration g
            where g.Location = 1 
            group by g.Date
        ) b ON a.date = b.date
SET     a.Turbine_Generation = COALESCE(b.totalSum, 0) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:34:03.840

运行子查询，您会看到它返回不止一行。您按日期对结果进行分组，因此`SUM`表达式计算每天的值。您可以按如下方式重新编写查询：

```
UPDATE a_daily
SET a_daily.Turbine_Generation = (SELECT SUM(o_daily_lcsgeneration.Turbine_Generation) 
                                    FROM o_daily_lcsgeneration 
                                   WHERE o_daily_lcsgeneration.Location = 1 
                                     AND o_daily_lcsgeneration.Date = 'YYYY-MM-DD'
                                GROUP BY o_daily_lcsgeneration.Date) 
```

或（所有事件的总和）：

```
UPDATE a_daily
SET a_daily.Turbine_Generation = (SELECT SUM(o_daily_lcsgeneration.Turbine_Generation) 
                                    FROM o_daily_lcsgeneration 
                                   WHERE o_daily_lcsgeneration.Location = 1) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T05:35:20.733

```
update a_daily
set
  a_daily.Turbine_Generation =  (
     select sum(o_daily_lcsgeneration.Turbine_Generation) 
     from o_daily_lcsgeneration where o_daily_lcsgeneration.Location = a_daily.Location  
     group by o_daily_lcsgeneration.Date
  ) 
```

# iphone - 对话框消失时键盘隐藏

> ID：13263616
> 
> 赞同：0
> 
> 时间：2012-11-07T05:28:36.673
> 
> 标签：iphone, ios, ipad, keyboard, ios6

在我的应用程序中，我使用 sharekit 来在 Facebook 上发帖。在主屏幕上，我有一个 textview 和一个自定义键盘。当我单击 Facebook 按钮时，它将检查用户身份验证令牌，如果当前帖子将在 Facebook 上发布，否则它将显示一个对话框以按用户获取用户名和密码。当我单击该对话框上的取消按钮时，键盘会自动隐藏。我的问题是我不想让键盘隐藏起来。我也用过观察者

```
 [[NSNotificationCenter defaultCenter] addObserver:self

    selector:@selector(keyboardWillShow:)

    name:UIKeyboardDidShowNotification

    object:nil]; 
```

该观察者将显示键盘。观察者总是调用方法keyboardWillShow，但在对话的情况下它不会。当我取消对话框时，我的键盘会自动隐藏。我在 iOS5 中使用 iOS6，同样的观察者工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:03:36.553

在那个取消方法中，编写如下代码

```
[yourview endEditing:NO]; 
```

让我知道它是否有效....

快乐编码！！！！！！

# python - 写入文件并维护语法

> ID：13263617
> 
> 赞同：1
> 
> 时间：2012-11-07T05:28:36.703
> 
> 标签：python

半天开始用python：

基本上我正在尝试从文件中读取一行：

```
MY_FILE                     ='test1.hgx' 
```

最终我想改变这个 test1.hgx ：

```
test1_para1_para2_para3.hgx 
```

其中 para1,23 是我要写的参数。

我在下面写了一段代码

```
add_name= '%s'%(filename)+'_'+'%s'%(para1)+'_'+'%s'%(para2)+'_'+'%s'%(para3)+'.hgx'
print "added_name:",add_name

with open(filename) as f:  lines = f.read().splitlines()
with open(filename, 'w') as f:
    for line in lines:
        if line.startswith(' MY_FILE'):

            f.write(line.rsplit(' ', 1)[0] + "\'%s'\n"%add_name)
        else:
            f.write(line + '\n')
f.close 
```

上面的代码按预期工作，并在我执行一次 python 代码时写出：

```
MY_FILE                     ='test1_01_02_03.hgx' 
```

但是，当我第二次再次运行 python 代码时，它会吃掉 '=' 并写入以下内容：

```
MY_FILE                     'test1_01_02_03.hgx' 
```

我可以在现有代码中添加一些始终保留“test1_01_02_03.hgx”的内容的代码吗？我认为有问题：

```
f.write(line.rsplit(' ', 1)[0] + "\'%s'\n"%add_name) 
```

但是我无法弄清楚问题所在。任何想法都会有所帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:41:46.127

改变：

```
 f.write(line.rsplit(' ', 1)[0] + "\'%s'\n"%add_name) 
```

至

```
 f.write(line.rsplit('=', 1)[0] + "=\'%s'\n"%add_name) 
```

顺便说一句，您确定在原始文件中， ? 后面没有空格`=`？如果后面没有空格`=`，这段代码总是会吃光的`=`。如果有空间，它不会吃掉它，直到第二次运行代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:44:37.093

您正在拆分`' '`，它在 之前`=`，但没有添加另一个`=`。有很多方法可以做到这一点，但最简单的可能是简单地添加`=`后面：

```
f.write(line.rsplit(' ', 1)[0] + "='%s'\n" % add_name) 
```

另一种更清洁的方法是使用`replace`：

```
f.write(line.replace(filename, new_name)) 
```

顺便说一句，您可以将第一行写得更好：

```
add_name = '%s_%s_%s_%s.hgx' % (filename, para1, para2, para3) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:41:54.383

尝试使用该`fileinput`模块。此外，用于`format()`写入字符串。

```
# Using the fileinput module we can open a file and write to it using stdout.
import fileinput
# using stdout we avoid the formatting of print, and avoid extra newlines.
import sys

filename = 'testfile'
params = ['foo', 'bar', 'baz']
# Build the new replacement line.
newline = '{0}_{1}_(2)_{3}.hgx'.format(filename, params[0], params[1], params[2])

for line in fileinput.input(filename, inplace=1):
  if line.startswith('MY_FILE'):
     sys.stdout.write('MYFILE = {0}\n'.format(newline))
  else:
     sys.stdout.write(line) 
```

这应该替换以该行开头的任何`MYFILE`行`MYFILE = 'testfile_foo_bar_baz.hgz`

# javascript - 如何在 ASP .NET MVC 中使用 javascript 或 jquery 移动 html 元素中的类属性？

> ID：13263623
> 
> 赞同：1
> 
> 时间：2012-11-07T05:29:54.377
> 
> 标签：javascript, jquery, html, asp.net-mvc-3

我的网页上有一个使用`<ul>`html 标签的菜单选择，它有三个`<li>`标签，在列表项上它有一个`<a>`标签。对于页面的第一次加载，我编写了一个带有 class 属性的列表项标记。现在，当我单击第二个锚标记并且还用于第三个列表项标记时，我想将该类属性从第一个列表项标记移动到第二个列表项标记。我的问题是如何在 ASP .NET MVC 3 中使用纯 JavaScript 或 jQuery 做到这一点？

这是我的代码：

```
<div id="menu">
    <ul>
        <li class="current_page_item">@Html.ActionLink("Index", "Index", "Home")</li>
        <li>@Html.ActionLink("Contact Us", "ContactUs", "Home")</li>
        <li>@Html.ActionLink("About", "About", "Home")</li>

    </ul>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:37:59.890

使用 jQuery：

```
$('#menu li').click(function(){
    $('.current_page_item').removeClass('current_page_item');
    $(this).addClass('current_page_item');
}) 
```

Javascript有点冗长，但同样的想法：

```
var listnodes = document.getElementById('menu').getElementsByTagName('li');
for(var i = 0; i < listnodes.length; i++){
    listnodes[i].addEventListener('click',function(){
        var listnodes = document.getElementsByClassName("current_page_item");
        for(var i = 0; i < listnodes.length; i++){
            listnodes[i].className = "";// this is not quite the same as removeClass
        }
        this.className = "current_page_item";
    });
} 
```

内部循环是不必要的，因为在任何给定时间，该类只有一个列表项，但我想尽可能地复制 jQuery 逻辑。

# javascript - 在 Mozilla 上生成图像预览？

> ID：13263627
> 
> 赞同：0
> 
> 时间：2012-11-07T05:30:04.627
> 
> 标签：javascript, jquery, html

我编写了代码来获取图像文件并生成上传图像的预览。当我读取图像文件数据并生成预览时，它不会显示图像预览，但是当我在绑定图像源之前发出警报时，它可以正常工作。

我应该如何解决这个问题？

下面是代码片段

```
function changeSrc(file) {

            var reader = new FileReader();

            // array with acceptable file types
            var accept = ["image/png", "image/jpeg", "image/jpg", "image/gif"];

            // if we accept the first selected file type
            if (accept.indexOf(file.files[0].type)> -1) {
                if (file.files && file.files[0]) {
                    reader.readAsDataURL(file.files[0]);

                   If i remove this alert then preview creates problem
                   --> ***alert(reader.result);***

                    $(#previewField).attr(src, reader.result);

                }
            }
    } 
```

# richtextbox - .net 中的 RichTextBox 在 Windows7 中给出奇怪的行为，但在 WindowsXP 中工作正常

> ID：13263628
> 
> 赞同：2
> 
> 时间：2012-11-07T05:30:06.513
> 
> 标签：richtextbox

我有一个应用程序，其中必须执行脚本（这是一个 .txt 文件）的查看和编辑。为此，我正在.net 平台上使用 RichTextBox。当用户想要查看脚本时，我只需将脚本复制到我的富文本框中，WordWrap 为 true。但是当用户必须编辑它时，我必须在一行中显示它。这不需要 word wrap 属性为真。

但这在 WindowsXP 上运行良好，但在 Windows 7 PC 上查看时，在编辑时，脚本被截断。如果用户单击具有丰富文本框的对话框上的任何位置，则可以看到整个脚本。每次用户选择编辑它时都会发生这种情况。

另外，如果我对Windows7 PC进行远程桌面，只有在editscript完成后才能立即正确看到脚本。

有人可以帮忙吗？

会不会是显卡问题？我已经检查过更改分辨率，但它没有用

# tridion - 为 Content Delivery Web Service 配置环境数据框架时出错

> ID：13263631
> 
> 赞同：6
> 
> 时间：2012-11-07T05:30:28.027
> 
> 标签：tridion, tridion-2011, tridion-content-delivery, ambient

我正在为 Content Delivery Web Service 配置环境数据框架，当我在浏览器中点击我的服务 url 时，它会抛出以下错误

**“/”应用程序中的服务器错误。**

* * *

找不到声明处理器实现类：com.tridion.ambientdata.processing.ExampleClaimProcessor1 描述：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

异常详情：

```
Com.Tridion.Ambientdata.AmbientDataException: Cannot find claim processor implementation class: com.tridion.ambientdata.processing.ExampleClaimProcessor1 
```

源错误：

```
An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below. 
```

堆栈跟踪：

```
[AmbientDataException: Cannot find claim processor implementation class: com.tridion.ambientdata.processing.ExampleClaimProcessor1]
   Codemesh.JuggerNET.NTypeValue.Throw(Int64 inst) +373
   Codemesh.JuggerNET.JavaClass.ThrowTypedException(Int64 inst) +1364
   Codemesh.JuggerNET.JavaMethod.CallObject(JavaProxy jpo, JavaMethodArguments args) +524
   Com.Tridion.Ambientdata.EngineFactory.NewEngine(AmbientDataConfig ambientDataConfig) +126
   Tridion.ContentDelivery.AmbientData.HttpModule.InitializeAmbientFramework() +144
   Tridion.ContentDelivery.AmbientData.HttpModule.Init(HttpApplication application) +60
   System.Web.HttpApplication.InitModulesCommon() +172
   System.Web.HttpApplication.InitModules() +43
   System.Web.HttpApplication.InitInternal(HttpContext context, HttpApplicationState state, MethodInfo[] handlers) +828
   System.Web.HttpApplicationFactory.GetNormalApplicationInstance(HttpContext context) +304
   System.Web.HttpApplicationFactory.GetApplicationInstance(HttpContext context) +107
   System.Web.HttpRuntime.ProcessRequestInternal(HttpWorkerRequest wr) +327 
```

* * *

下面是我的 cd_ambient_cartridge_conf.xml 文件：

**cd_ambient_cartridge_conf.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<CartridgeDefinition Version="6.1" Uri="tcd:cartridge:example" Description="Example cartridge."
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="schemas/cd_ambient_cartridge_conf.xsd">
    <ClaimDefinitions>
        <ClaimDefinition Uri="tcd:claim:userid" Scope="SESSION" Description="The user's unique identifier." />
        <ClaimDefinition Uri="tcd:claim:username" Scope="SESSION" Description="The user's full name." />
        <ClaimDefinition Uri="tcd:claim:usersex" Scope="SESSION" Description="The user's sex (M or F)." />
        <ClaimDefinition Uri="tcd:claim:userage" Scope="SESSION" Description="The user's age in years." />
    </ClaimDefinitions>

    <ClaimProcessorDefinitions>
        <ClaimProcessorDefinition Uri="tcd:claimprocessor:example:userdetails" ImplementationClass="com.tridion.ambientdata.processing.ExampleClaimProcessor1"
                            Description="Example claim processor that gets user details.">
            <RequestStart>
                <InputClaims>
                    <ClaimDefinition Uri="tcd:claim:userid" />
                </InputClaims>
                <OutputClaims>
                    <ClaimDefinition Uri="tcd:claim:username" />
                    <ClaimDefinition Uri="tcd:claim:usersex" />
                    <ClaimDefinition Uri="tcd:claim:userage" />
                </OutputClaims>
            </RequestStart>
        </ClaimProcessorDefinition>

        <ClaimProcessorDefinition Uri="tcd:claimprocessor:example:example2"
                            ConfigProviderClass="com.tridion.ambientdata.processing.ExampleClaimProcessorConfigProvider" />
    </ClaimProcessorDefinitions>
</CartridgeDefinition> 
```

这是我的 cd_ambient_conf.xml 文件：

**cd_ambient_conf.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<Configuration Version="6.1"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="schemas/cd_ambient_conf.xsd">

    <Cartridges>
        <Cartridge File="cd_ambient_cartridge_conf.xml"/>
        <Cartridge File="cd_webservice_preview_cartridge.xml"/>
        <!--

        -->
    </Cartridges>
    <!-- Cookies settings -->
    <!--
    <Cookies>
        <CookieClaim DefaultValue="true" Name="CookieClaim"/>
        <Cookie Type="Tracking" Name="myTrackingCookie" Path="/"/>
        <Cookie Type="Session" Name="mySessionCookie" Path="/"/>
    </Cookies>
    -->
</Configuration> 
```

这是我的内容交付网络服务日志文件中的调试信息：

**cd_core.2012-11-07.log 中的调试信息**

```
2012-11-07 05:00:11,421 DEBUG ServiceExtensionLoader - Loading extension points for interface com.tridion.webservices.extension.ODataServiceOperation.
2012-11-07 05:00:11,437 DEBUG ServiceExtensionLoader - Loading extension points for interface com.tridion.webservices.extension.ODataWritableEntryService.
2012-11-07 05:00:11,437 DEBUG ServiceExtensionLoader - Loading extension points from config file: jar:file:/C:/Program%20Files/Tridion/CDWebservice/bin/lib/cd_preview_webservice.jar!/META-INF/services/com.tridion.webservices.extension.ODataWritableEntryService.
2012-11-07 05:00:11,452 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritablePageContentsEntryService.
2012-11-07 05:00:11,468 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritableComponentPresentationsEntryService.
2012-11-07 05:00:11,468 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritablePageMetasEntryService.
2012-11-07 05:00:11,468 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritableComponentMetasEntryService.
2012-11-07 05:00:11,468 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritableKeywordsEntryService.
2012-11-07 05:00:11,468 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritableBinaryContentsEntryService.
2012-11-07 05:00:11,468 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritableCustomMetasEntryService.
2012-11-07 05:00:11,468 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritableBinaryVariantsEntryService.
2012-11-07 05:00:11,468 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritableBinaryMetasEntryService.
2012-11-07 05:00:11,468 DEBUG ServiceExtensionLoader - Loading extension points for interface com.tridion.webservices.extension.ODataWritableStreamEntryService.
2012-11-07 05:00:11,468 DEBUG ServiceExtensionLoader - Loading extension points from config file: jar:file:/C:/Program%20Files/Tridion/CDWebservice/bin/lib/cd_preview_webservice.jar!/META-INF/services/com.tridion.webservices.extension.ODataWritableStreamEntryService.
2012-11-07 05:00:11,484 INFO  ODataWebserviceHandler - Adding OData writable entry service: WritableStreamBinaryContentsEntryService.
2012-11-07 05:00:11,484 INFO  JAXBContextResolver - Adding default JAXB types.
2012-11-07 05:00:11,484 DEBUG ServiceExtensionLoader - Loading extension points for interface com.tridion.webservices.extension.ODataEntryRegistrationService.
2012-11-07 05:00:11,484 DEBUG ServiceExtensionLoader - Loading extension points from config file: jar:file:/C:/Program%20Files/Tridion/CDWebservice/bin/lib/cd_preview_webservice.jar!/META-INF/services/com.tridion.webservices.extension.ODataEntryRegistrationService.
2012-11-07 05:00:11,484 INFO  JAXBContextResolver - Adding BinaryContents JAXB type.
2012-11-07 05:00:11,812 WARN  AmbientDataContext - There is no current ambient data context - the ambient data framework is not properly initialised
2012-11-07 05:00:11,812 DEBUG AmbientDataContext - Setting current ambient data context: com.tridion.ambientdata.web.WebContext 
```

* * *

任何帮助将非常感激。提前致谢。

**编辑相关的 CDA 应用程序**

**网页上的错误**

```
Cannot find claim processor implementation class: com.tridion.ambientdata.processing.ExampleClaimProcessor1
Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details: Com.Tridion.Ambientdata.AmbientDataException: Cannot find claim processor implementation class: com.tridion.ambientdata.processing.ExampleClaimProcessor1

Source Error: 
An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.

Stack Trace: 

[AmbientDataException: Cannot find claim processor implementation class: com.tridion.ambientdata.processing.ExampleClaimProcessor1]
   Codemesh.JuggerNET.NTypeValue.Throw(Int64 inst) +373
   Codemesh.JuggerNET.JavaClass.ThrowTypedException(Int64 inst) +1364
   Codemesh.JuggerNET.JavaMethod.CallObject(JavaProxy jpo, JavaMethodArguments args) +524
   Com.Tridion.Ambientdata.EngineFactory.NewEngine(AmbientDataConfig ambientDataConfig) +126
   Tridion.ContentDelivery.AmbientData.HttpModule.InitializeAmbientFramework() +144
   Tridion.ContentDelivery.AmbientData.HttpModule.OnRequestStart(Object sender, EventArgs e) +68
   System.Web.SyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +148
   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +75 
```

**cd_ambient_conf.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<Configuration Version="6.1"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xsi:noNamespaceSchemaLocation="schemas/cd_ambient_conf.xsd">

    <Cartridges>

        <Cartridge File="cd_webservice_preview_cartridge.xml"/>
        <Cartridge File="footprint_cartridge_conf.xml"/>

    </Cartridges>
  <ClaimStoreProvider>com.tridion.siteedit.preview.PreviewClaimStoreProvider</ClaimStoreProvider>
    <!-- Cookies settings -->
    <!--
    <Cookies>
        <CookieClaim DefaultValue="true" Name="CookieClaim"/>
        <Cookie Type="Tracking" Name="myTrackingCookie" Path="/"/>
        <Cookie Type="Session" Name="mySessionCookie" Path="/"/>
    </Cookies>
    -->
</Configuration> 
```

**cd_ambient_cartridge_conf.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<CartridgeDefinition Version="6.1" Uri="tcd:cartridge:example" Description="Example cartridge."
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="schemas/cd_ambient_cartridge_conf.xsd">
    <ClaimDefinitions>
        <ClaimDefinition Uri="tcd:claim:userid" Scope="SESSION" Description="The user's unique identifier." />
        <ClaimDefinition Uri="tcd:claim:username" Scope="SESSION" Description="The user's full name." />
        <ClaimDefinition Uri="tcd:claim:usersex" Scope="SESSION" Description="The user's sex (M or F)." />
        <ClaimDefinition Uri="tcd:claim:userage" Scope="SESSION" Description="The user's age in years." />
    </ClaimDefinitions>

    <ClaimProcessorDefinitions>
        <ClaimProcessorDefinition Uri="tcd:claimprocessor:example:userdetails" ImplementationClass="com.tridion.ambientdata.processing.ExampleClaimProcessor1"
                            Description="Example claim processor that gets user details.">
            <RequestStart>
                <InputClaims>
                    <ClaimDefinition Uri="tcd:claim:userid" />
                </InputClaims>
                <OutputClaims>
                    <ClaimDefinition Uri="tcd:claim:username" />
                    <ClaimDefinition Uri="tcd:claim:usersex" />
                    <ClaimDefinition Uri="tcd:claim:userage" />
                </OutputClaims>
            </RequestStart>
        </ClaimProcessorDefinition>

        <ClaimProcessorDefinition Uri="tcd:claimprocessor:example:example2"
                            ConfigProviderClass="com.tridion.ambientdata.processing.ExampleClaimProcessorConfigProvider" />
    </ClaimProcessorDefinitions>
</CartridgeDefinition> 
```

**日志文件中的错误**

```
2012-11-07 14:36:31,962 WARN  AmbientDataContext - There is no current ambient data context - the ambient data framework is not properly initialised
2012-11-07 14:36:31,962 DEBUG AmbientDataContext - Setting current ambient data context: com.tridion.ambientdata.web.WebContext
2012-11-07 14:36:32,071 ERROR XMLConfigurationReader - Error while validating file 'cd_ambient_conf.xml' with schema 'schemas/cd_ambient_conf.xsd'. cvc-complex-type.2.4.a: Invalid content was found starting with element 'ClaimStoreProvider'. One of '{Cookies}' is expected. 
```

正如错误所说，cookies 之一是预期的，但在文档中没有提到它。提前致谢 。

**注意 - 此错误出现，当我再次刷新页面时，它消失并且页面工作正常。我的意思是它来自替代页面命中。**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T07:29:29.127

请在 'cd_ambient_conf.xml' 配置文件中删除（或注释掉）墨盒调用：

```
<Cartridge File="cd_ambient_cartridge_conf.xml"/> 
```

请注意，此墨盒只是一个示例，不应在生产中使用。该墨盒包含不存在的示例定义，导致您出现 ClassNotFoundException。

希望这可以帮助。

问候，丹尼尔。

# android - 如何在弹出窗口中禁用 Android 后退按钮？

> ID：13263636
> 
> 赞同：1
> 
> 时间：2012-11-07T05:30:48.103
> 
> 标签：android, popup, back-button

我知道如何禁用后退按钮，但不是在弹出窗口期间。

```
syncb=(Button) findViewById(R.id.SyncB);
syncb.setOnClickListener(new View.OnClickListener() 
    {
        public void onClick(View v) 
        {
            final Dialog dialog = new Dialog(Scouting.this);
            dialog.setContentView(R.layout.popup);
            dialog.setTitle("Popups ftw");
            dialog.setCancelable(true);
            //I think I'd put the code here...
            Button button = (Button) dialog.findViewById(R.id.closePopup);
            button.setOnClickListener(new View.OnClickListener() {
                public void onClick(View v) {
                    dialog.dismiss();
                }    
            });
            dialog.show();
        }
    }); 
```

我已经尝试了一切

```
@Override public void dialog.onBackPressed() { } 
```

到

```
@Override dialog.onBackPressed({}); 
```

我找不到任何有用的东西。

编辑：通常是

```
@Override public void onBackPressed(){} 
```

它通常在主类中（不是“嵌套”），但因为我被挖了一点......我没有弄清楚（试图，但没有成功）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T05:32:14.657

你试过了吗

```
dialog.setCancelable(false); 
```

它适用于我的情况。

您将其设置为 true

```
dialog.setCancelable(true); 
```

改变它

# android - Android：无法打开对话窗口/触发触摸事件

> ID：13263637
> 
> 赞同：0
> 
> 时间：2012-11-07T05:30:49.493
> 
> 标签：android, android-layout

我有一个选项卡片段，我正在其上加载布局。此布局包含一个带有事件处理程序的按钮，但似乎从未触发该事件。

```
public class SettingsFragmentTab extends Fragment
{
    private Button mPickTime;

    private int mHour;
private int mMinute;

static final int TIME_DIALOG_ID = 0;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)
{
    FrameLayout frame = (FrameLayout)inflater.inflate(R.layout.settings_list_content, container, false);

    mPickTime = (Button) frame.findViewById(R.id.pickTime);

    // add a click listener to the button
    mPickTime.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            getActivity().showDialog(TIME_DIALOG_ID);
        }
    });

        return frame;
}

// the callback received when the user "sets" the time in the dialog
private TimePickerDialog.OnTimeSetListener mTimeSetListener = new TimePickerDialog.OnTimeSetListener() {
        public void onTimeSet(android.widget.TimePicker view, int hourOfDay, int minute) {
            mHour = hourOfDay;
            mMinute = minute;

        }
}; 
```

**布局**

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             xmlns:android="http://schemas.android.com/apk/res/android">
    <RelativeLayout
        android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        android:gravity="right" >

         <TextView
             android:id="@+id/schedule"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_alignParentLeft="true"
             android:layout_alignWithParentIfMissing="true"
             android:gravity="center_vertical"
             android:text="Schedule"
             android:textColor="#FFFFFF"
             android:textSize="20dp" />

         <Button
             android:id="@+id/pickTime"
             android:layout_width="50dp"
             android:layout_height="50dp"
             android:layout_toRightOf="@id/schedule"
             android:background="@drawable/addtime"
             android:gravity="right" />

         <ListView
             android:id="@+id/listSettings"
             android:layout_width="150dp"
             android:layout_height="wrap_content"
             android:layout_above="@id/app_name_tv"
             android:layout_below="@id/pickTime"
             android:divider="@android:color/transparent"
             android:dividerHeight="15.0sp" />

    </RelativeLayout>

    <RelativeLayout
        android:layout_width="164dp"
        android:layout_height="67dp"
        android:layout_gravity="right"
        android:gravity="right" >

        <TextView
                android:id="@+id/timezone"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:textColor="#FFFFFF"
                android:textSize="15dp"
                android:layout_alignWithParentIfMissing="true"
                android:layout_alignParentRight="true"
                android:text="Select Your Timezone: "
                 />

        <Spinner
            android:id="@+id/spinner1"
            android:layout_width="200dp"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/timezone"
            android:layout_alignParentRight="true"
            android:layout_below="@id/timezone"
            android:textAppearance="@drawable/spinner_style" />

    </RelativeLayout>
</FrameLayout> 
```

我一直在一遍又一遍地查看代码，但似乎找不到为什么按钮 "mPickTime" 的事件没有被触发的问题。

# asp.net - 聚焦要在内联模式中添加的行

> ID：13263638
> 
> 赞同：2
> 
> 时间：2012-11-07T05:30:54.830
> 
> 标签：asp.net, devexpress

我正在尝试在内联模式下向 ASPxGridView 添加新行。我想要的是，当我单击“新建”按钮时，我希望我要添加的新行具有焦点，即应该突出显示该行。我怎样才能做到这一点？

我试过 ASPxGridView1.FocusedRowIndex = -1; 在 InitNewRow 事件中，但它不会突出显示该行。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T15:57:36.987

此链接可能会指导您：

```
http://www.devexpress.com/Support/Center/p/Q260744.aspx

http://www.devexpress.com/Support/Center/p/Q259550.aspx

http://www.devexpress.com/Support/Center/Question/Details/Q356961 
```

# objective-c - 为什么我不能将来自文件所有者的 navigationItem 出口添加到导航项？

> ID：13263641
> 
> 赞同：1
> 
> 时间：2012-11-07T05:31:17.930
> 
> 标签：objective-c, xcode4, uinavigationbar

我在 viewController 中做到了这一点

```
self.navigationItem.rightBarButtonItem=self.Share; 
```

这样做是对的。

但是，我想在 xib 中执行此操作。

我设法在 XIB 中放置了一个 Navigation Item 项，我希望它成为 viewController 的 navigationItem。

然而我不能那样做。

虽然我可以从 viewController 指向“视图”出口，但我不能指向 navigationItem

实际上如何通过XIB添加rightBarButtonItem？

谁“拥有”那个 rightBarButtonItem 呢？是navigationController还是它下面的viewController？这究竟是如何相互作用的？对象库中有这个 navigationBar 项，但我不确定如何使用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:47:47.023

You can take a bar button in the coding like IBOutlet UIBarButtonItem * saveButton;

Then you have to take a bar button in the xib file and bind this button with that and in coding you can directly write self.navigationItem.rightBarButtonItem = saveButton;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T02:28:05.483

我不确定这是否正确。基本上我可以在viewController下添加navigationItem，viewController.navigationItem会自动指向那个navigationItem。

而已。不需要插座。所以它与视图插座不同。

除非有人以不同的方式告诉我，否则我会选择此作为正确答案。

此外，有一个 navigationItem 将阻止导航栏的标题成为您的 viewController 标题。

必须在viewDidLoad中做self.navigationItem.title=self.title，感觉这里肯定是做错了。

# asp.net - javascript函数执行两次

> ID：13263644
> 
> 赞同：1
> 
> 时间：2012-11-07T05:31:27.713
> 
> 标签：asp.net

我有下面的代码。执行链接按钮 showVlaues javascript 函数的 onClientClick 事件。我试图在调试模式下跟踪代码，当我单击链接按钮时，调试器控件被转移到 showvalues 函数，然后它转到后面的代码并转到应用程序的页面加载事件，然后它又去了到 showvalues 函数，我不知道为什么会这样，但是在调试模式下，我可以看到它同时进入 $get 行，当我试图查看 dataitems 的值时，它 dataitems 没有在当前上下文中定义它会改变 showValues 的值。他们有什么办法可以避免控制不再进入显示值功能。当我单击链接按钮时，我希望它只执行一次。

任何帮助将不胜感激。

```
 <html xmlns="http://www.w3.org/1999/xhtml"> 
    <head runat="server"> 
    <title></title> 
    <script type="text/javascript"> 
       function showValues(IDValue, timeValue, minValue){ 
            var dataItems = $get('<%= PanelBar1.Items[0].Items[0].FindControl  ("Grid_IDPicker").ClientID %>')
            var lbl_ID = $get('<%= PanelBar1.Items[0].Items[0].FindControl("lbl_ID").ClientID %>');

        } 
     </script> 
</head> 
<body> 
     <form id="form1" runat="server"> 
    <div> 
    </div> 
    <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False"  DataSourceID="SqlDataSource1" 
        EmptyDataText="There are no data records to display."> 
        <Columns> 
            <asp:BoundField DataField="id" HeaderText="id" SortExpression="id" /> 
            <asp:BoundField DataField="time" HeaderText="time" SortExpression="time" /> 
            <asp:BoundField DataField="min" HeaderText="min" SortExpression="min" /> 
            <asp:TemplateField> 
                <ItemTemplate> 
                    <asp:LinkButton ID="lnkClick" OnClientClick='<%#String.Format("return showValues({0},&#39;{1}&#39;,&#39;{2}&#39;)", Eval("id"),Eval("time"),Eval("min")) %>' runat="server"> <%# Eval("id") %></asp:LinkButton> 
                </ItemTemplate> 
            </asp:TemplateField> 
        </Columns> 
    </asp:GridView> 
<asp:SqlDataSource ID="SqlDataSource1" runat="server" ConnectionString="<%$ ConnectionStrings:TestDBConnectionString1 %>" 
            ProviderName="<%$ ConnectionStrings:TestDBConnectionString1.ProviderName %>" 
         SelectCommand="SELECT [id], [time], [min] FROM [name]"></asp:SqlDataSource> 
         </form> 
         </body> 
        </html> 
```

# java - 如何增加 JVM 堆大小

> ID：13263645
> 
> 赞同：1
> 
> 时间：2012-11-07T05:31:37.090
> 
> 标签：java, jvm, heap-memory

我关注了一些关于[增加 JVM 堆大小](https://stackoverflow.com/questions/4308364/where-can-i-permanently-set-java-heap-size-on-windows-pc)堆栈溢出的帖子，以增加 JVM 堆大小。我按照上面链接的建议设置环境变量。

我执行了下面的程序，以检查最大堆大小是多少。

```
public class GetHeapSize {
     public static void main(String[]args){

            //Get the jvm heap size.
            long heapSize = Runtime.getRuntime().totalMemory();

            //Print the jvm heap size.
            System.out.println("Heap Size = " + heapSize);
        }

} 
```

设置前和设置后的输出都和**16252928一样**

请任何人都可以建议我如何增加堆大小？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:39:50.277

`totalMemory()`报告堆的当前*大小*。如果您想要堆将增长到的最大大小，请[`maxMemory()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#maxMemory%28%29)改为调用。javadoc 说：

> “返回 Java 虚拟机将尝试使用的最大内存量。如果没有固有限制，则将返回值 Long.MAX_VALUE。”

然后说数量以字节为单位。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:07:48.310

在一般情况下，堆大小会动态增长，因此您可以使用 -Xmx 选项来限制堆的高大小，并使用 -Xms 选项来设置堆的起始大小，并且可以在开始时使它们相同，所以JVM不会将资源用于动态内存操作。使用更多信息的 JMX 方法通过 MemoryMXBean bean 获取堆大小可能对您来说会很有趣。

```
MemoryMXBean MEMORYMXBEAN = ManagementFactory.getMemoryMXBean(); 
```

# c# - 单击鼠标时未显示选项卡内子进程中的菜单

> ID：13263646
> 
> 赞同：1
> 
> 时间：2012-11-07T05:31:42.237
> 
> 标签：c#, winforms

我正在开发一个类似 chrome 的应用程序。我确实有两个应用程序说父应用程序和子应用程序。子应用程序包含菜单。当我将子应用程序的实例附加到父应用程序的选项卡时。单击鼠标时不显示子应用程序中的菜单。

用于附加过程的代码片段是

```
Process P = Process.GetProcessesByName("Child");
P.WaitForInputIdle();
IntPtr handle = P.MainWindowHandle;
SetParent(handle, this.tabPage1.Handle);
MoveWindow(handle, rec.X, rec.Y, rec.Width, rec.Height, true); 
```

我无法对子应用程序进行任何更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:53:25.313

根据 MSDN：

“使用WaitForInputIdle()强制你的应用程序的处理等待直到消息循环返回到空闲状态。当一个带有用户界面的进程正在执行时，它的消息循环在每次Windows消息发送到进程时执行操作系统。然后进程返回到消息循环。当进程在消息循环内等待消息时，称为处于空闲状态。这种状态很有用，例如，当您的应用程序需要等待在应用程序与该窗口通信之前完成创建其主窗口的启动过程。

如果进程没有消息循环，WaitForInputIdle() 会抛出 InvalidOperationException。

WaitForInputIdle() 重载指示进程组件无限期地等待进程在消息循环中变为空闲状态。此指令可能会导致应用程序停止响应。例如，如果进程被写入总是立即退出其消息循环，如代码片段 while(true) 中所示。”

因此，我认为您应该考虑发表评论`P.WaitForInputIdle();`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T10:43:25.013

经过一番研究，我能够找到解决方案。
解决方案

在调用 SetParent 之前，我们应该使用 Windows API 的 SetWindowLongPtr 更新窗口样式。最终代码如下

```
 long style = WinAPI.GetWindowLongPtr(new HandleRef(this,console.MainWindowHandle), WinAPIConstants.GWL_STYLE).ToInt64();

        style= style & ~(WinAPIConstants.WS_CAPTION |
                                        WinAPIConstants.WS_BORDER |
                                        WinAPIConstants.WS_DLGFRAME);
        IntPtr styleValue = new IntPtr(style);
        Rectangle displayRectangle = newTab.DisplayRectangle;

        // Removing the title bar and border.
        WinAPI.SetWindowLongPtr(new HandleRef( this,console.MainWindowHandle),
                              WinAPIConstants.GWL_STYLE, styleValue);

        style = WinAPI.GetWindowLongPtr(new HandleRef(this, console.MainWindowHandle), WinAPIConstants.GWL_STYLE).ToInt64();
        style &= ~WinAPIConstants.WS_POPUP;
        style |= WinAPIConstants.WS_CHILD;

        styleValue = new IntPtr(style);

        // Setting window to be child of current application and the popup behaviour of window is removed.
        WinAPI.SetWindowLongPtr(new HandleRef(this, console.MainWindowHandle), WinAPIConstants.GWL_STYLE, styleValue);

        // Attach the console to the tab. 
        WinAPI.SetParent(console.MainWindowHandle, newTab.Handle); 
```

谢谢
Vipin Kumar Mallaya。

# java - 浮点数不是减法后的预期数字

> ID：13263650
> 
> 赞同：4
> 
> 时间：2012-11-07T05:32:07.637
> 
> 标签：java

我有以下声明：

```
float diff = tempVal - m_constraint.getMinVal(); 
```

`tempVal`被声明为浮点数并`getMinVal()`返回浮点值。

我有以下打印输出：

**diff=0.099999905, tempVal=5.1, m_constraint.getMinVal()=5.0**

我希望**差异**是**0.1**，但不是上面的数字。怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:33:56.160

浮点数使用`IEEE754`来表示数字，并且该系统存在一些舍入误差。

[浮点指南](http://floating-point-gui.de/basic/)

[每个计算机科学家都应该知道的关于浮点运算的知识](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)

[IEE754 上的维基百科](http://en.wikipedia.org/wiki/IEEE_floating_point)

底线，如果您正在做算术并且需要准确，请不要使用或`float`使用[BigDecimal](http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html)`double`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:45:31.417

由于它们在内部存储值的方式，浮点数和双精度数只能存储完全准确的数字，这些数字可以分解为 2 的幂的总和（然后，在与其绝对和相对大小相关的某些约束内）。

因此，一旦您尝试存储或执行涉及的计算，一个无法准确存储的数字，您将在最后一位数字中得到错误。

如果您使用浮点数和双精度数并采取一些预防措施，通常这不是问题：

*   使用具有超出您需要的“备用”精度的浮点原语大小；

*   对于许多应用程序，这可能意味着**根本不使用浮点数**（改用双精度数）：它的精度很差，除了除法之外，在许多处理器上都没有性能优势；

*   打印 FP 数字时，只实际打印并考虑您需要的精度位数，当然不包括最后一位（使用 String.format 来帮助您）；

*   如果您需要任意位数的精度，请改用 BigDecimal。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:34:13.390

您无法使用ing 点数获得`exact`结果。`float`您可能需要为此使用 FixedPoint 库。请参阅：http: [//sourceforge.net/projects/jmfp/](http://sourceforge.net/projects/jmfp/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T05:37:46.660

[Java 使用IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point)中定义的二进制浮点表示对实数进行编码。像所有有限表示一样，它不能准确地表示所有实数，因为实数比潜在表示要多得多。无法精确表示的数字（如您的情况下的 0.1）将四舍五入到最接近的可表示数字。

# java - 不是在 ejb3 中检索到整个实体

> ID：13263651
> 
> 赞同：1
> 
> 时间：2012-11-07T05:32:11.850
> 
> 标签：java, ejb, weblogic

我有三个相互连接的类。订单、订单详情和产品。当我在我的 JPA 项目中执行以下操作时：

```
 @Override
    public Order getOrderById(String orderID) {
        Order order = (Order)

          em.createQuery("select A from Order A where A.orderId = ?1")
            .setParameter(1, orderID)
            .getSingleResult();
        return order;    
    } 
```

检索所有信息。但是，当我将其移至 ebj 项目时。我只得到订单，仅此而已。然而，所有类都包含在 persistence.xml 文件（JPA 和 ejb3）中。为什么会这样，我应该如何解决？这三个类显示在下面。我正在使用 Oracle Weblogic 10.3.3。我尝试重新启动并清除服务器，但没有奏效。

```
*package eshop;

import java.io.Serializable;
import javax.persistence.*;
import java.util.ArrayList;
import java.util.List;*

/**
 * The persistent class for the orders database table.
 * 
 */
@Entity
@Table(name="orders")
public class Order implements Serializable {
    private static final long serialVersionUID = 1L;

    @Id
    @Column(name="order_id")
    private String orderId;

    @Column(name="cc_expiry")
    private String ccExpiry;

    @Column(name="cc_name")
    private String ccName;

    @Column(name="cc_number")
    private String ccNumber;

    @Column(name="delivery_address")
    private String deliveryAddress;

    @Column(name="delivery_name")
    private String deliveryName;

    @Column(name="delivery_surname")
    private String deliverySurname;

    private String status;

    //bi-directional many-to-one association to OrderDetail
    @OneToMany(mappedBy="order", cascade=CascadeType.PERSIST)
    private List<OrderDetail> orderDetails = new ArrayList<OrderDetail>();

    public void addOrUpdateOrderDetail(Product product) {
        this.orderDetails.add(new OrderDetail(product));

    }

    public Order() {
    }

    public String getOrderId() {
        return this.orderId;
    }

    public void setOrderId(String orderId) {
        this.orderId = orderId;
    }

    public String getCcExpiry() {
        return this.ccExpiry;
    }

    public void setCcExpiry(String ccExpiry) {
        this.ccExpiry = ccExpiry;
    }

    public String getCcName() {
        return this.ccName;
    }

    public void setCcName(String ccName) {
        this.ccName = ccName;
    }

    public String getCcNumber() {
        return this.ccNumber;
    }

    public void setCcNumber(String ccNumber) {
        this.ccNumber = ccNumber;
    }

    public String getDeliveryAddress() {
        return this.deliveryAddress;
    }

    public void setDeliveryAddress(String deliveryAddress) {
        this.deliveryAddress = deliveryAddress;
    }

    public String getDeliveryName() {
        return this.deliveryName;
    }

    public void setDeliveryName(String deliveryName) {
        this.deliveryName = deliveryName;
    }

    public String getDeliverySurname() {
        return this.deliverySurname;
    }

    public void setDeliverySurname(String deliverySurname) {
        this.deliverySurname = deliverySurname;
    }

    public String getStatus() {
        return this.status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public List<OrderDetail> getOrderDetails() {
        return this.orderDetails;
    }

    public void setOrderDetails(List<OrderDetail> orderDetails) {
        this.orderDetails = orderDetails;
    }

}

package eshop;

import java.io.Serializable;
import javax.persistence.*;
import java.math.BigDecimal;

/**
 * The persistent class for the order_details database table.
 * 
 */
@Entity
@Table(name="order_details")
public class OrderDetail implements Serializable {
    private static final long serialVersionUID = 1L;

@GeneratedValue(strategy=GenerationType.AUTO)
private int id;

private BigDecimal price;

private int quantity;

//bi-directional many-to-one association to Order
@ManyToOne
@JoinColumn(name="order_id")
private Order order;

//bi-directional many-to-one association to Product
@ManyToOne
@JoinColumn(name="product_id")
private Product product;

@Id
private int product_id;

public OrderDetail() {
}

public OrderDetail (Integer ProductId,Product product,Integer productQuantity,BigDecimal price, Order order) {
        this.price= price;
        this.product_id = ProductId;
        this.product = product;
        this.quantity = productQuantity;
        this.order = order;
        }

    public OrderDetail(Product product1) {
    product_id = product1.getCategoryId();
    price = product1.getPrice();
    quantity  = 1;
    product = product1;

    }

    public int getId() {
        return this.id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public BigDecimal getPrice() {
        return this.price;
    }

    public void setPrice(BigDecimal price) {
        this.price = price;
    }

    public int getQuantity() {
        return this.quantity;
    }

    public void setQuantity(int quantity) {
        this.quantity = quantity;
    }

    public Order getOrder() {
        return this.order;
    }

    public void setOrder(Order order) {
        this.order = order;
    }

    public Product getProduct() {
        return this.product;
    }

    public void setProduct(Product product) {
        this.product = product;
    }

    public int getProduct_id() {
        return product_id;
    }

    public void setProduct_id(int product_id) {
        this.product_id = product_id;
    }

}

package eshop;

import java.io.Serializable;
import javax.persistence.*;
import java.math.BigDecimal;

/**
 * The persistent class for the products database table.
 * 
 */
@Entity
@Table(name="products")
public class Product implements Serializable {
    private static final long serialVersionUID = 1L;

    @Id
    @Column(name="product_id")
    private int productId;

    @Column(name="category_id")
    private int categoryId;

    @Lob
    private String descr;

    private BigDecimal price;

    @Column(name="product_name")
    private String productName;

    private int quantity;

    public Product() {
    }

    public int getProductId() {
        return this.productId;
    }

    public void setProductId(int productId) {
        this.productId = productId;
    }

    public int getCategoryId() {
        return this.categoryId;
    }

    public void setCategoryId(int categoryId) {
        this.categoryId = categoryId;
    }

    public String getDescr() {
        return this.descr;
    }

    public void setDescr(String descr) {
        this.descr = descr;
    }

    public BigDecimal getPrice() {
        return this.price;
    }

    public void setPrice(BigDecimal price) {
        this.price = price;
    }

    public String getProductName() {
        return this.productName;
    }

    public void setProductName(String productName) {
        this.productName = productName;
    }

    public int getQuantity() {
        return this.quantity;
    }

    public void setQuantity(int quantity) {
        this.quantity = quantity;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T06:59:33.653

看起来我必须将事务类型 JTA 添加到 ejb 的 web.xml 文件中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-11T14:54:19.387

I don't understand what you mean by "moving the code from the JPA project to the EJB project). Also, can you be a bit more specific about your problem? What makes you say that the objects are not loaded? Where is the code that invokes getOrderById()?

I suspect that it is in the web tier. In that case, I suspect that you may have an issue with the **fetch type**. By default, it is defined as **LAZY** (vs **EAGER**).

This means that JPA will initially load only the root object. It is when you try to access the linked objects that JPA will issue other requests. That will be transparent to the developer, with an important requirement: it will work only when you are in EJB tier. If you have returned the root object to the web tier, then it is "detached" and is not controlled by JPA any more. This means that if the dependent objects have not been loaded, then you will get null values when accessing them (follow-up requests will not be sent to the DB, because JPA is out of the loop).

# java - 使用 ResourceBundle(locale.properties) 的 Java 本地化文本 Web 服务

> ID：13263653
> 
> 赞同：1
> 
> 时间：2012-11-07T05:32:20.117
> 
> 标签：java, web-services, localization, resourcebundle

由于某些原因，有一项功能已从 Web 应用程序转移到 Web 服务。在 Web 应用程序方面，我们使用 FMT 标签来检索本地化文本，并且它过去工作正常。现在我需要在 Web 服务应用程序上实现相同的功能。为了实现这一点，我想到了使用 ResourceBundle 类，但是由于 Web 服务是无状态的，我不想调用 `ResourceBundle.getBundle(filename)`

因为它可能会在我每次调用 Web 服务调用时调用 IO 操作。相反，由于我的语言环境键不是很大，我想将所有 ResourceBundles 加载到单例 Map 中并传递键并获得捆绑类型的方法。

对此有疑问：a.) 这种方法好吗？b.) 如何在我的单例映射中使用 resourcebundle 加载所有语言环境，即有没有一种方法可以加载语言环境文件夹中提到的所有语言环境文件，而无需明确提及每个文件的名称。

提前感谢任何帮助。

Rgards,

瓦布哈夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:16:06.023

首先要做的事情是：我永远不会让我的网络服务“感知区域设置”。向用户显示本地化消息是调用者的工作。Web 服务是一个后端组件，它不关心语言，只关心屏幕分辨率。但不管怎么说...

...如果我无法就我的 web 服务“i18n 感知”进行讨价还价，我会将每个捆绑文件加载到[java.util.Properties](http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html)对象中，然后将所有这些对象放入 Map 并使其在应用程序的上下文。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T21:38:53.393

正如 Daniel 指出的那样，创建与语言环境无关的 Web 服务确实很有意义。最好的方法是只返回标识符（例如资源键名）并将它们解析为客户端上的适当消息。

但是，如果您使用 JavaScript 访问代码，则无法真正使用上述方法，您需要实际翻译。
在这种情况下，您需要为实际的资源文件构建一些访问层。可以使用[Wea​​kHashMap](http://docs.oracle.com/javase/7/docs/api/java/util/WeakHashMap.html)并按需加载资源文件来完成。

为了清楚我的意思，我认为您需要以下方面的内容：

```
public class ResourceLayer {
    private final WeakHashMap<Locale, ResourceBundle> cache =
                      new WeakHashMap<>();

    public String getString(String key, Locale locale) {
        ResourceBundle resources = cache.get(locale);

        if (resources == null) {
            resources = ResourceBundle.getBundle(BASE_NAME, locale);
            cache.put(locale, resources);
        }

        try {
            return resources.getString(key);
        } catch (MissingResourceException mre) {        
            logger.error("The translation for " + key
                    + " is missing for locale " + locale.toLanguageTag());
            // Visually indicate an error
            return "!" + key + "!";
        }
    }
} 
```

这里要说几点。WeakHashMap 将在需要时保留文件，因此它不会对内存占用造成太大影响。您将在此示例中阅读的[ResourceBundle](http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html)实际上是[PropertyResourceBundle](http://docs.oracle.com/javase/7/docs/api/java/util/PropertyResourceBundle.html)类的实例。您可能想检查一下，但实际实现会一次性读取所有属性文件并将其备份到 HashMap 中。因此，只有第一次访问给定语言资源时，您才会进行 I/O 操作。
这是内存消耗和磁盘使用之间的某种折衷，因此您可能需要为常用语言预加载内容...

最后但并非最不重要的。我并没有真正推荐该解决方案，但您实际上可以将资源放入数据库（这会损害 Localizability）并按需读取。

# json - 收到淘汰赛网络邮件教程错误

> ID：13263660
> 
> 赞同：1
> 
> 时间：2012-11-07T05:33:01.733
> 
> 标签：json, knockout.js, knockout-2.0

我正在浏览本教程[http://learn.knockoutjs.com/#/?tutorial=webmail](http://learn.knockoutjs.com/#/?tutorial=webmail)

我已经完成了它，现在正在尝试在我的本地机器上运行

我从这里获取了代码[http://learn.knockoutjs.com/WebmailExampleStandalone.html](http://learn.knockoutjs.com/WebmailExampleStandalone.html)但是当我把它放在我的本地机器上时，我得到了这个错误。

> 时间戳：2012 年 7 月 11 日下午 4:24:41 错误：无法解析绑定。
> 消息：ReferenceError：未定义邮件；绑定值：
> foreach：邮件源文件：url/knockout/js/knockout-2.2.0.js 行：57

我下载 JSON 文件的方式是转到`learn.knockoutjs.com/knockout/mail?folder=Inbox`或`learn.knockoutjs.com/knockout/mail?folder=Achive`取决于您所在的文件夹。

我刚去 `learn.knockoutjs.com/mail?folder=Archive`下载了那个，但它保存了一个名为 mail 的文件，没有扩展名。

我可以理解为什么其他部分（收件箱除外，因为我没有那些 JSON 文件）但为什么邮件在第一个屏幕中不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-06T09:51:01.987

我遇到过同样的问题。问题是 ajax 调用需要有一个“application/json”类型的响应头才能正确设置返回的数据。我正在使用 php，所以我只是`header('Content-Type: application/json; charset=utf-8');`在回显 json 数据之前添加，一切正常。

# php - Magento 通过 phtml 文件中的锚标记调用 cms 页面

> ID：13263663
> 
> 赞同：4
> 
> 时间：2012-11-07T05:33:43.280
> 
> 标签：php, magento

我想要这样的东西
`<a href="<?php echo getcmsurl('Faqs')">FaQ's</a>`

`faqs`意味着点击常见问题，从管理面板命名创建的cms页面将被链接（调用）并显示。
或者还有其他方法吗？
谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-07T06:45:08.060

如果您正在编写 phtml 文件，那么您可以使用

```
<a href="<?php echo $this->getUrl('cms page identifer'); ?>">yourlink</a> 
```

如果您在静态块或页面中编写，那么您可以使用

```
<a href={{store url="cms page identifer"}}>your link</a> 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-11-07T05:46:37.343

试试这个

```
 <a href="<?php echo $this->getUrl('Your cms page identifier'); ?>">My url</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:47:59.823

像这样试试

```
<a href="<?php echo $this->getUrl('')?>Faqs">FaQ's</a> 
```

# java - 作为字符串数据类型接收的数值输入参数的等式测试

> ID：13263668
> 
> 赞同：3
> 
> 时间：2012-11-07T05:34:06.620
> 
> 标签：java

我收到一个数值输入参数，它是一个字符串数据类型（我无法更改），我需要检查收到的这个值是否为某个数字。即检查值是否为5。

知道接收到的 String 数据类型的值，但在任何时候它都应该只包含数字。我首先将值转换为整数数据类型，然后执行相等测试。即下图所示的案例 B。

案例一：

```
String expected = "3"; 

if(expected.equals(actual)) //... 
```

案例B：

```
int expected = 3;

int actualInt = Integer.parseInt(actual);

if(expected == actualInt) //... 
```

我想知道使用案例 B 执行相等测试是否有任何缺点，因为我更倾向于这样做作为正确的出路。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T05:43:48.423

使用 Try-Catch：

```
int expected = 3;
int actualInt;
try
{
    actualInt = Integer.parseInt(actual);

    if(expected == actualInt) //...
}
catch(NumberFormatException ex)
{
    // You will reach here when a bad input is given to the parseInt method
    // Handle the failure
}
catch(Exception e)
{
    // All other exceptions here
} 
```

即使您知道字符串总是会有一个“数字”值，但实现异常处理仍然是一个好习惯。比担心更安全:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T05:45:02.713

如果您只想进行相等性检查，那么我认为案例 A 很好，因为您没有执行任何需要您输入数字而不是字符串的操作。

我只能看到案例 B 的缺点是，您必须从字符串中解析出数字以进行相等性检查。

但是 case B 的优点是，如果您需要确保字符串实际上是一个整数，在这种情况下，您将不得不使用 case B。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T05:56:05.397

您是否考虑过在 String 类中使用静态工厂方法 valueOf() 的重载版本。

String 迎合了这些方法，以将对象隐式转换为其相应的字符串表示形式。

这是一个例子。

```
int expected = 3;
String.valueOf(expected).equalsIgnoreCase(actual); // is the equality check for numbers. 
```

假设“实际”是传递的参数。您可能想对变量“实际”进行空检查。

# objective-c - ios 我如何将 IMP 带到 SEL

> ID：13263685
> 
> 赞同：-1
> 
> 时间：2012-11-07T05:35:35.590
> 
> 标签：objective-c, ios, pointers, selector, imp

我定义了一个点函数

```
typedef void (^ButtonClick)(id sender); 
```

我想在按钮单击时调用它（UIButton addTarget 调用 ^ButtonClick 函数），但它可以找到指针。

```
-(void)addRightButton:(UIImage*)btnImage click:(ButtonClick)click{
    UIButton *modalViewButton = [UIButton buttonWithType:UIButtonTypeCustom];

    [modalViewButton addTarget:self
      action:@selector(click) // <==== could not find pointer.Pointer errors
          forControlEvents:UIControlEventTouchUpInside];
    // other code to add modelViewButton on View.....
}

-(void)test
{ 
    [self addRightButton:[UIImage imageNamed:@"btn_shuaxin_1.png"] click:^(id sender) {
         NSLog(@"it is test code");//<===never called
    }];
} 
```

怎么去SEL？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:53:33.737

你不能得到这样的选择器。（要在运行时获取选择器，请使用该`sel_getUid()`函数）。此外，您混淆了选择器和块。你想要什么是可能的，但使用不同的方法：

```
- (void)addRightButton:(UIImage *)btnImage click:(ButtonClick)click{
    UIButton *modalViewButton = [UIButton buttonWithType:UIButtonTypeCustom];

    [modalViewButton addTarget:click
        action:@selector(invoke)
        forControlEvents:UIControlEventTouchUpInside];
}

- (void)test
{ 
    [self addRightButton:[UIImage imageNamed:@"btn_shuaxin_1.png"] click:^{
        NSLog(@"it is test code");
    }];
} 
```

# haskell - unsafeInterleaveIO 什么时候不安全？

> ID：13263692
> 
> 赞同：19
> 
> 时间：2012-11-07T05:35:57.377
> 
> 标签：haskell, ghc, lazy-evaluation

与其他 unsafe* 操作不同，[文档](http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO-Unsafe.html#v:unsafeInterleaveIO "文档")对于`unsafeInterleaveIO`它可能存在的陷阱不是很清楚。那么究竟什么时候不安全呢？我想知道并行/并发和单线程使用的条件。

更具体地说，以下代码中的两个函数在语义上是否等效？如果没有，何时以及如何？

```
 joinIO :: IO a -> (a -> IO b) -> IO b
joinIO  a f = do !x  <- a
                    !x'  <- f x
                    return x'

joinIO':: IO a -> (a -> IO b) -> IO b
joinIO' a f = do !x  <- unsafeInterleaveIO a
                    !x' <- unsafeInterleaveIO $ f x
                    return x' 
```

以下是我在实践中将如何使用它：

```
 data LIO a = LIO {runLIO :: IO a}

instance Functor LIO where
  fmap f (LIO a) = LIO (fmap f a)

instance Monad LIO where
  return x = LIO $ return x
  a >>= f  = LIO $ lazily a >>= lazily . f
    where
      lazily = unsafeInterleaveIO . runLIO

iterateLIO :: (a -> LIO a) -> a -> LIO [a]
iterateLIO f x = do
  x' <- f x
  xs <- iterateLIO f x'  -- IO monad would diverge here
  return $ x:xs

limitLIO :: (a -> LIO a) -> a -> (a -> a -> Bool) -> LIO a
limitLIO f a converged = do
  xs <- iterateLIO f a
  return . snd . head . filter (uncurry converged) $ zip xs (tail xs)

root2 = runLIO $ limitLIO newtonLIO 1 converged
  where
    newtonLIO x = do () <- LIO $ print x
                           LIO $ print "lazy io"
                           return $ x - f x / f' x
    f  x = x^2 -2
    f' x = 2 * x
    converged x x' = abs (x-x') < 1E-15 
```

虽然我宁愿避免在严肃的应用程序中使用这段代码，因为这太可怕了`unsafe*`东西，我至少可以比更严格的 IO monad 在决定“收敛”的含义时更懒惰，导致（我认为是）更惯用的 Haskell。这带来了另一个问题：为什么它不是 Haskell（或 GHC？）IO monad 的默认语义？我听说过一些惰性 IO 的资源管理问题（GHC 仅通过一小部分固定命令提供），但通常给出的示例有点类似于损坏的 makefile：资源 X 依赖于资源 Y，但如果你失败了要指定依赖关系，您会得到 X 的未定义状态。惰性 IO 真的是这个问题的罪魁祸首吗？（另一方面，如果上述代码中存在细微的并发错误，例如死锁，我会将其视为更根本的问题。）

**更新**

阅读 Ben 和 Dietrich 的回答以及他在下面的评论，我简要浏览了 ghc 源代码以了解 IO monad 是如何在 GHC 中实现的。在这里，我总结了我的一些发现。

1.  GHC 将 Haskell 实现为一种不纯的、非引用透明的语言。GHC 的运行时通过连续评估具有副作用的不纯函数来运行，就像任何其他函数式语言一样。这就是评估顺序很重要的原因。

2.  `unsafeInterleaveIO`是不安全的，因为即使在单线程程序中，它也会通过暴露 GHC 的 Haskell 的（通常）隐藏杂质来引入任何类型的并发错误。（`iteratee`这似乎是一个不错且优雅的解决方案，我一定会学习如何使用它。）

3.  IO monad 必须是严格的，因为安全、惰性的 IO monad 需要对 RealWorld 的精确（提升）表示，这似乎是不可能的。

4.  不安全的不仅仅是 IO monad 和`unsafe`函数。整个 Haskell（由 GHC 实现）可能是不安全的，并且（GHC 的）Haskell 中的“纯”功能只是按照惯例和人们的善意纯粹的。类型永远不能证明纯度。

为了看到这一点，我演示了 GHC 的 Haskell 如何*不*具有引用透明性，而不管 IO monad、`unsafe*`函数等。

```
 -- An evil example of a function whose result depends on a particular
-- evaluation order without reference to unsafe* functions  or even
-- the IO monad.

{-# LANGUAGE MagicHash #-}
{-# LANGUAGE UnboxedTuples #-}
{-# LANGUAGE BangPatterns #-}
import GHC.Prim

f :: Int -> Int
f x = let v = myVar 1
          -- removing the strictness in the following changes the result
          !x' = h v x
      in g v x'

g :: MutVar# RealWorld Int -> Int -> Int
g v x = let !y = addMyVar v 1
        in x * y

h :: MutVar# RealWorld Int -> Int -> Int
h v x = let !y = readMyVar v
        in x + y

myVar :: Int -> MutVar# (RealWorld) Int
myVar x =
    case newMutVar# x realWorld# of
         (# _ , v #) -> v

readMyVar :: MutVar# (RealWorld) Int -> Int
readMyVar v =
    case readMutVar# v realWorld# of
         (# _ , x #) -> x

addMyVar :: MutVar# (RealWorld) Int -> Int -> Int
addMyVar v x =
  case readMutVar# v realWorld# of
    (# s , y #) ->
      case writeMutVar# v (x+y) s of
        s' -> x + y

main =  print $ f 1 
```

为了方便参考，我收集了一些 GHC 实现的 IO monad 的相关定义。（以下所有路径都是相对于 ghc 源存储库的顶级目录。）

```
 --  Firstly, according to "libraries/base/GHC/IO.hs",
{-
The IO Monad is just an instance of the ST monad, where the state is
the real world.  We use the exception mechanism (in GHC.Exception) to
implement IO exceptions.
...
-}

-- And indeed in "libraries/ghc-prim/GHC/Types.hs", We have
newtype IO a = IO (State# RealWorld -> (# State# RealWorld, a #))

-- And in "libraries/base/GHC/Base.lhs", we have the Monad instance for IO:
data RealWorld
instance  Functor IO where
   fmap f x = x >>= (return . f)

instance  Monad IO  where
    m >> k    = m >>= \ _ -> k
    return    = returnIO
    (>>=)     = bindIO
    fail s    = failIO s

returnIO :: a -> IO a
returnIO x = IO $ \ s -> (# s, x #)

bindIO :: IO a -> (a -> IO b) -> IO b
bindIO (IO m) k = IO $ \ s -> case m s of (# new_s, a #) -> unIO (k a) new_s

unIO :: IO a -> (State# RealWorld -> (# State# RealWorld, a #))
unIO (IO a) = a

-- Many of the unsafe* functions are defined in "libraries/base/GHC/IO.hs":
unsafePerformIO :: IO a -> a
unsafePerformIO m = unsafeDupablePerformIO (noDuplicate >> m)

unsafeDupablePerformIO  :: IO a -> a
unsafeDupablePerformIO (IO m) = lazy (case m realWorld# of (# _, r #) -> r)

unsafeInterleaveIO :: IO a -> IO a
unsafeInterleaveIO m = unsafeDupableInterleaveIO (noDuplicate >> m)

unsafeDupableInterleaveIO :: IO a -> IO a
unsafeDupableInterleaveIO (IO m)
  = IO ( \ s -> let
                   r = case m s of (# _, res #) -> res
                in
                (# s, r #))

noDuplicate :: IO ()
noDuplicate = IO $ \s -> case noDuplicate# s of s' -> (# s', () #)

-- The auto-generated file "libraries/ghc-prim/dist-install/build/autogen/GHC/Prim.hs"
-- list types of all the primitive impure functions. For example,
data MutVar# s a
data State# s

newMutVar# :: a -> State# s -> (# State# s,MutVar# s a #)
-- The actual implementations are found in "rts/PrimOps.cmm". 
```

因此，例如，忽略构造函数并假设引用透明，我们有

```
 unsafeDupableInterleaveIO m >>= f
==>  (let u = unsafeDupableInterleaveIO)
u m >>= f
==> (definition of (>>=) and ignore the constructor)
\s -> case u m s of
        (# s',a' #) -> f a' s'
==> (definition of u and let snd# x = case x of (# _,r #) -> r)
\s -> case (let r = snd# (m s)
            in (# s,r #)
           ) of
       (# s',a' #) -> f a' s'
==>
\s -> let r = snd# (m s)
      in
        case (# s,  r  #) of
             (# s', a' #) -> f a' s'
==>
\s -> f (snd# (m s)) s 
```

这不是我们通常从绑定通常的惰性状态单子中得到的。假设状态变量`s`带有一些真正的含义（它没有），它看起来更像是一个*并发 IO*（或函数正确说的*交错 IO* ）而不是我们通常所说的“惰性状态单子”的*惰性 IO* ，其中尽管懒惰状态通过关联操作适当地线程化。

我试图实现一个真正惰性的 IO monad，但很快意识到为了为 IO 数据类型定义一个惰性 monadic 组合，我们需要能够提升/取消提升`RealWorld`. 然而，这似乎是不可能的，因为`State# s`和都没有构造函数`RealWorld`。即使这是可能的，我也必须代表我们真实世界的精确、功能表示，这也是不可能的。

但我仍然不确定标准的 Haskell 2010 是否破坏了引用透明度或惰性 IO 本身是坏的。至少似乎完全有可能构建一个 RealWorld 的小型模型，在该模型上，惰性 IO 是完全安全和可预测的。并且可能有一个足够好的近似值，可以在不破坏引用透明度的情况下服务于许多实际目的。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-07T05:39:58.157

在顶部，您拥有的两个功能始终相同。

```
v1 = do !a <- x
        y

v2 = do !a <- unsafeInterleaveIO x
        y 
```

请记住，将操作`unsafeInterleaveIO`推迟`IO`到其结果被强制执行——但您通过使用严格的模式匹配立即强制执行`!a`，因此操作根本不会被推迟。所以`v1`和`v2`完全一样。

## 一般来说

一般来说，由您来证明您的使用`unsafeInterleaveIO`是安全的。如果你调用`unsafeInterleaveIO x`，那么你必须证明*可以*`x`随时调用并且仍然产生相同的输出。

 *## 关于 Lazy IO 的现代情感

...是 Lazy IO 在 99% 的情况下都是危险的，而且是个坏主意。

它试图解决的主要问题是 IO 必须在`IO`monad 中完成，但是您希望能够进行增量 IO，并且您不想重写所有纯函数来调用 IO 回调以获得更多数据。增量 IO 很重要，因为它使用的内存更少，允许您对不适合内存的数据集进行操作，而无需过多地更改算法。

Lazy IO 的解决方案是在`IO`monad 之外做 IO。这通常是不安全的。

[今天，人们通过使用Conduit](http://hackage.haskell.org/package/conduit)或[Pipes](http://hackage.haskell.org/package/pipes)等库以不同方式解决增量 IO 问题。Conduit 和 Pipes 比 Lazy IO 更具确定性和良好行为，解决了相同的问题，并且不需要不安全的构造。

请记住，这`unsafeInterleaveIO`实际上只是`unsafePerformIO`一种不同的类型。

## 例子

下面是一个由于惰性 IO 而损坏的程序示例：

```
rot13 :: Char -> Char
rot13 x 
  | (x >= 'a' && x <= 'm') || (x >= 'A' && x <= 'M') = toEnum (fromEnum x + 13)
  | (x >= 'n' && x <= 'z') || (x >= 'N' && x <= 'Z') = toEnum (fromEnum x - 13)
  | otherwise = x 

rot13file :: FilePath -> IO ()
rot13file path = do
  x <- readFile path
  let y = map rot13 x
  writeFile path y

main = rot13file "test.txt" 
```

该程序*将不起作用。* 将惰性 IO 替换为严格 IO 将使其工作。

## 链接

来自[Lazy IO](http://www.haskell.org/pipermail/haskell/2009-March/021064.html)的 Oleg Kiselyov 在 Haskell 邮件列表中打破了纯度：

> 我们演示了惰性 IO 如何破坏引用透明性。该类型的纯函数`Int->Int->Int`根据其参数的评估顺序给出不同的整数。我们的 Haskell98 代码只使用标准输入。我们得出的结论是，颂扬 Haskell 的纯洁性和宣传惰性 IO 是不一致的。
> 
> ...
> 
> Lazy IO 不应该被认为是好的风格。纯度的常见定义之一是纯表达式应该计算相同的结果，而不管计算顺序如何，或者等于可以代替等于。如果 Int 类型的表达式计算结果为 1，我们应该能够用 1 替换表达式的每个出现，而不会更改结果和其他可观察值。

来自Haskell 邮件列表中 Oleg Kiselyov 的[Lazy vs correct IO](http://www.haskell.org/pipermail/haskell-cafe/2008-September/047738.html)：

> 毕竟，有什么比一个带有明显副作用的“纯”函数更违背 Haskell 精神的了。使用 Lazy IO，确实需要在正确性和性能之间做出选择。在不到一个月前出现在这个列表中的 Lazy IO 死锁的证据之后，这种代码的出现尤其奇怪。更不用说不可预测的资源使用和依赖终结器来关闭文件（忘记 GHC 并不能保证终结器将完全运行）。

Kiselyov 编写了[Iteratee](http://hackage.haskell.org/package/iteratee)库，它是惰性 IO 的第一个真正替代品。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-11-07T06:01:04.833

惰性意味着何时（以及是否）实际执行计算取决于运行时实现何时（以及是否）决定它需要该值。作为一名 Haskell 程序员，您完全放弃了对评估顺序的控制（除了代码中固有的数据依赖关系，以及当您开始严格要求运行时做出某些选择时）。

这对于*纯*计算非常有用，因为无论何时执行纯计算，其结果都将完全相同（除非您执行实际上不需要的计算，否则在进行另一次评估时，您可能会遇到错误或无法终止order 可能允许程序成功终止；但任何评估 order 计算的所有非底部值都将相同）。

但是当您编写依赖于 IO 的代码时，评估顺序*很重要*。的全部意义`IO`在于提供一种机制来构建计算，其步骤依赖并影响程序外部的世界，而这样做的一个重要部分是这些步骤是明确排序的。Using`unsafeInterleaveIO`抛弃了显式排序，并放弃`IO`了对运行时系统何时（以及是否）实际执行操作的控制。

这对于 IO 操作通常是不安全的，因为它们的副作用之间可能存在依赖关系，而这些依赖关系无法从程序内部的数据依赖关系中推断出来。例如，一个`IO`操作可能会创建一个包含一些数据的文件，而另一个`IO`操作可能会读取同一个文件。如果它们都“懒惰地”执行，那么它们只会在需要生成的 Haskell 值时运行。创建文件可能`IO ()`是，而且很有可能`()`永远*不会*需要。这可能意味着首先执行读取操作，失败或读取文件中已经存在的数据，而不是其他操作应该放置的数据。无法保证运行时系统会以正确的顺序执行它们。要使用*始终*为`IO`您执行此操作的系统正确编程，您必须能够准确预测 Haskell 运行时选择执行各种`IO`操作的顺序。

将其视为`unsafeInterlaveIO`对编译器的承诺（它无法验证，它只会信任您）何时执行该操作或是否完全忽略它**并不重要。**`IO`这就是所有`unsafe*`功能的真正含义；它们提供的设施一般不安全，安全性不能自动检查，但在特定情况下可以安全。您有责任确保您对它们的使用实际上是安全的。但是，如果您向编译器做出承诺，而您的承诺是错误的，那么结果可能是令人不快的错误。名称中的“不安全”是为了吓唬您考虑您的特定情况并决定您是否真的可以向编译器做出承诺。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-01-19T10:25:33.733

基本上问题中“更新”下的所有内容都非常混乱，甚至没有错，所以当你试图理解我的答案时，请尽量忘记它。

看看这个函数：

```
badLazyReadlines :: Handle -> IO [String]
badLazyReadlines h = do
  l <- unsafeInterleaveIO $ hGetLine h
  r <- unsafeInterleaveIO $ badLazyReadlines h
  return (l:r) 
```

除了我要说明的内容之外：上述函数也无法处理到达文件末尾的问题。但暂时忽略这一点。

```
main = do
  h <- openFile "example.txt" ReadMode
  lns <- badLazyReadlines h
  putStrLn $ lns ! 4 
```

这将打印“example.txt”的第一行，因为列表中的第 5 个元素实际上是从文件中读取的第一行。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-09T21:56:11.987

你的`joinIO`and在语义`joinIO'`上*不*等价。它们*通常*是相同的，但有一个微妙之处：爆炸模式使值变得严格，但仅此而已。Bang 模式是使用 实现的`seq`，并且不强制执行特定的评估顺序，特别是以下两个在语义上是等效的：

```
a `seq` b `seq` c
b `seq` a `seq` c 
```

GHC 可以在返回 c 之前评估 b 或 a first。实际上，它可以先计算 c，然后计算 a 和 b，然后返回 c。或者，如果它可以静态地证明 a 或 b 是非底部的，或者 c*是*底部的，那么它根本不需要评估 a 或 b。一些优化确实利用了这一事实，但在实践中并不经常出现。

`unsafeInterleaveIO`相比之下，它对所有或任何这些变化都很敏感——它不依赖于某些功能的严格程度的语义属性，而是依赖于何时评估某物的操作属性。因此，所有上述转换对它都是可见的，这就是为什么只有`unsafeInterleaveIO`在感觉合适时或多或少地认为非确定性地执行其 IO 才是合理的。

从本质上讲，这`unsafeInterleaveIO`就是不安全的原因——它是正常使用中唯一可以检测到应该保持意义的转换的机制。这是您可以检测评估的唯一方法，按权利来说这应该是不可能的。

顺便说一句，在心理上预先`unsafe`考虑来自 的每个功能可能是公平的`GHC.Prim`，也可能还有其他几个`GHC.`模块。他们当然不是普通的 Haskell。*

# javascript - CoffeeScript：检查函数是否返回数据的最简单方法

> ID：13263694
> 
> 赞同：1
> 
> 时间：2012-11-07T05:36:04.657
> 
> 标签：javascript, jquery, coffeescript

我有这样的功能：

```
getData = ->
  $('body').data('key') 
```

我有另一个函数，我想使用第一个函数来检查是否有一些数据。我*想写*的是这样的：

```
otherFunction = ->
  if getData()
    ...do something... 
```

但是，在我的测试中，该陈述`if function()`将始终正确，因为那里有一些东西（一个功能）。所以上面的行不通。

做我在这里尝试的最干净的方法是什么，检查函数是否返回一些数据？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:48:30.210

如果没有 data 属性，或者 dom 元素上有一个空的 data 属性，您的模式肯定会解析为 false（因为返回值错误）。

见这个例子：http: [//jsfiddle.net/wkGcW/1/](http://jsfiddle.net/wkGcW/1/)

```
getData = ->
  $('div').data 'key'

getData2 = ->
  $('div').data 'foo', 'bar'

otherFunction = ->
  if getData()
    console.log 'yep'
  else
    console.log 'nope'  <--- Resolves false

  if getData2()
    console.log 'yep'   <--- Resolves true
  else
    console.log 'nope'

otherFunction() 
```

您可能还有其他问题在起作用...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:40:25.353

就像是：

```
if(getData() !== false) then do... 
```

你需要在你的 getData 方法上有一个返回转义。

获取数据是对象还是返回数据的方法？

# windows - 如何收集应用程序故障转储

> ID：13263695
> 
> 赞同：0
> 
> 时间：2012-11-07T05:36:18.593
> 
> 标签：windows, winapi, visual-c++, crash-dumps, windows-error-reporting

我需要收集一些特定应用程序的故障转储。我已经阅读了这篇[文章](http://msdn.microsoft.com/en-us/library/bb787181%28VS.85%29.aspx)，但不能说它对我有多大帮助。

**平台：：** WinXP、Vista 和 Win7。

似乎 WinXP 及更高版本收集转储的方式不同。例如，假设我想收集 IE 的所有转储文件，我应该遵循哪些步骤？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:49:40.330

[您可以使用名为procdump](http://technet.microsoft.com/en-us/sysinternals/dd996900.aspx)的 sysinternals（现为 Microsoft）工具。

该工具易于使用，并且可以直接转储正在运行的进程。您也可以使用 procdump 进行及时转储。

# mysql - Mysql Prepared Statement 多次使用相同的参数

> ID：13263698
> 
> 赞同：2
> 
> 时间：2012-11-07T05:36:46.270
> 
> 标签：mysql, sql

我写了这样的存储过程：

```
 DELIMITER $$
   CREATE PROCEDURE searchByTerm(term VARCHAR(300))
    BEGIN
    SET @statment = "Select name,description from products where name like '%?%' OR description like '%?%'";
    PREPARE stmt FROM @statment;
    SET @a = term;
    SET @b = term;
    EXECUTE stmt USING @a,@b;
    DEALLOCATE PREPARE stmt; 
  END$$ 
```

称它为：

```
CALL searchByTerm('xyz'); 
```

它导致以下错误：

```
Error Code : 1210
Incorrect arguments to EXECUTE 
```

我做错了吗？我知道它可以用 concat 语句来完成，但为什么它不能这样工作？我不能多次使用相同的参数吗？谢谢你的帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:39:31.067

**[`CONCAT`](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat)**在您的查询中使用

```
SET @statment = "Select name,description 
                 from products 
                 where name like CONCAT('%', ? ,'%') OR 
                       description like CONCAT('%', ? ,'%')"; 
```

所以您的完整查询将如下所示，

```
DELIMITER $$
CREATE PROCEDURE searchByTerm(term VARCHAR(300))
  BEGIN
    SET @statment = "Select name,description 
                     from products 
                     where name like CONCAT('%', ? ,'%') OR 
                           description like CONCAT('%', ? ,'%')";
    PREPARE stmt FROM @statment;
    SET @a = term;
    SET @b = term;
    EXECUTE stmt USING @a,@b;
    DEALLOCATE PREPARE stmt; 
  END$$ 
```

# sql-server-2008 - 有没有办法将列值从外部查询发送到内部子查询？

> ID：13263699
> 
> 赞同：1
> 
> 时间：2012-11-07T05:36:55.800
> 
> 标签：sql-server-2008, select, subquery

“讨论”表架构

```
title      description    desid    replyto    upvote    downvote   views
browser    used           a1        none        1          1       12
-          bad topic      b2        a1          2          3       14
sql        database       a3        none        4          5       34
-          crome          b4        a3          3          4       12 
```

上表有两种内容类型 Main Topics 和 Comments。唯一的内容标识符 'desid' 用于标识它的主题或评论。'desid' 以 'a' 开头代表主题，评论 'desid' 以 'b' 开头。对于评论，“replyto”是与该评论相关联的主要主题的“目标”。

我喜欢找出根据（upvote+downvote+visits+对其的评论数）添加排列的主要主题列表。以下查询按（upvote+downvote+visits）的顺序给出了热门主题列表

`select *``upvote+downvote+views`查询次数最多的

```
select * 
from [DB_user1212].[dbo].[discussions] 
where desid like 'a%'
order by (upvote+downvote+visited) desc 
```

对于（评论+upvote+downvote+views）我试过

```
select *
from [DB_user1212].[dbo].[discussions]
where desid like 'a%'
order by (select count(*)
           from [DB_user1212].[dbo].[discussions]
           where replyto = desid )+upvote+downvote+visited) desc 
```

但它没有用。因为不可能将 desid 从外部查询发送到内部子查询。请告诉我如何解决这个问题。请注意，我只需要查询语言的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T08:01:10.757

您需要使用表别名：

```
select *
from [DB_user1212].[dbo].[discussions] d1 --alias
where desid like 'a%'
order by (select count(*)
           from [DB_user1212].[dbo].[discussions] d2
           where d2.replyto = d1.desid )+upvote+downvote+visited) desc 
```

现在，在子查询中，您可以通过别名（此处为`d1`）引用外部表。我还添加了`d2`，这在此处不是必需的，但在子查询中显式会很有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T07:46:43.917

我认为这会起作用:) 请告诉我。

```
WITH x AS
    (
    select count(*) numberofcomments, replyto
               from [DB_user1212].[dbo].[discussions]
               GROUP BY replyto
    )

    select [DB_user1212].[dbo].[discussions].*
    from [DB_user1212].[dbo].[discussions]
    inner JOIN x 
    ON [DB_user1212].[dbo].[discussions].desid = x.replyto
    where desid like 'a%'
    ORDER BY (numberofcomments+upvote+downvote+visited) 
```

# java - 我如何在drools的java程序中获取演员ID？

> ID：13263701
> 
> 赞同：3
> 
> 时间：2012-11-07T05:37:12.993
> 
> 标签：java, drools

我正在尝试开发一个应用程序`drools`，

我的`rf`文件如下图所示。

![在此处输入图像描述](../Images/5c15ff53a86fa197a4153ea4cd2c21d3.png)

对于用户任务，我将演员名称设置为`"MyName"`。

现在我正在从我的这个文件中读取规则`java program.`

我想要`name of actor`.

我怎么能得到演员的名字？

我的java代码：

```
 TaskServiceSession taskSession = taskService.createSession();

      MinaTaskServer server = new MinaTaskServer( taskService);
      Thread thread = new Thread( server );
      thread.start();
      StatefulKnowledgeSession ksession = knowledgeBase.newStatefulKnowledgeSession();
      HumanTaskHandler handler1 = new HumanTaskHandler();

       ksession.getWorkItemManager().registerWorkItemHandler("Log", handler1);
      WSHumanTaskHandler handler = new WSHumanTaskHandler();

      ksession.getWorkItemManager().registerWorkItemHandler("Human Task", handler);

      KnowledgeRuntimeLogger logger = KnowledgeRuntimeLoggerFactory.newFileLogger(ksession, "test");
      // start a new process instance
      ksession.startProcess("HumanTaskSample"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-12T04:18:56.070

每当需要创建任务时，都会调用您的处理程序 (HumanTaskHandler)。无论何时调用它，您都可以从作为参数传递的工作项中获取所有必要的信息。因此，要获取演员 ID，您可以使用：

```
public class HumanTaskHandler implements WorkItemHandler {
  public void executeWorkItem(WorkItem workItem, WorkItemManager manager) {
    String actorId = (String) workItem.getParameter("ActorId");
    ....
  }
  ...
} 
```

请注意，根据您的要求，还有其他一些方法可以完成任务。例如，在调用 startProcess(..) 之后，您可以使用返回的 ProcessInstance 来访问已创建任务的任务 ID，然后从任务服务中获取完整的详细信息。您还可以在任务服务中查询分配给特定用户或组的任何任务。或者使用一些日志记录来确定在调用 startProcess(..) 期间发生了什么。

克里斯

# excel - 使用 Excel 构建插入语句

> ID：13263711
> 
> 赞同：1
> 
> 时间：2012-11-07T05:38:01.110
> 
> 标签：excel, excel-formula

我有一个内容如下的电子表格。

```
EMPLOYEE_ID ATT_DATE    ATT_TIME
1           10/9/2012   10:47:00
1           10/9/2012   10:47:00
1           10/9/2012   10:48:00
1           10/9/2012   10:49:00
1           10/9/2012   10:55:00 
```

我想从这些值创建插入语句。所以我写了下面的公式来生成插入语句。

```
="INSERT INTO ATTENDANCE (EMPLOYEE_ID, ATT_DATE) VALUES('" & Attendance!A2 & "', to_date('" & TEXT(Attendance!B2,"dd-mmm-yyyy") & "','DD-MON-YYYY'));" 
```

我想将`ATT_TIME`列中的值添加到上面的插入语句中。但我无法为此正确编写公式。

如何将`ATT_TIME`列中的值添加到我的插入语句？

PS：我正在使用oracle数据库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:44:37.740

你试过了`to_date('" & Attendance!C2 & "','HH24:MI:SS')` 吗？

这是完整的查询

```
="INSERT INTO ATTENDANCE (EMPLOYEE_ID, ATT_DATE, ATT_TIME) VALUES('" & Attendance!A2 & "', to_date('" & TEXT(Attendance!B2,"dd-mmm-yyyy") & "','DD-MON-YYYY'),to_date('" & Attendance!C2 & "','HH24:MI:SS')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:32:48.677

我找到了我的问题的解决方案。

```
="INSERT INTO ATTENDANCE (EMPLOYEE_ID, ATT_DATE, ATT_TIME) VALUES('"&Attendance!A2&"', to_date('"&TEXT(Attendance!B2,"dd-mmm-yyyy")&"','DD-MON-YYYY'), to_date('"&TEXT(Attendance!C2,"h:mm:ss")&"','HH24:MI:SS'));" 
```

# android - 如何设置标题不显示？

> ID：13263712
> 
> 赞同：0
> 
> 时间：2012-11-07T05:38:12.490
> 
> 标签：android

它可以通过在 onCreat() 中设置 requestWindowFeature(Window.FEATURE_NO_TITLE) 来删除标题。但标题先显示，然后消失。标题怎么不显示？它可以在清单文件中设置吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:40:44.847

在清单文件中像这样使用：-

```
<application
android:icon="@drawable/ic_launcher"
android:label="@string/app_name"
android:theme="@android:style/Theme.Black.NoTitleBar" > 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:47:33.637

只是在您希望没有标题的活动中获得许可

```
 android:theme="@android:style/Theme.NoTitleBar" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:42:39.113

像这样使用..

```
 public void onCreate(Bundle savedInstanceState) 
 {

        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.main);
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T05:42:56.780

如果你只想要默认主题而没有标题，你可以把它放在你的清单文件中：

```
<application
android:icon="@drawable/ic_launcher"
android:label="@string/app_name"
android:theme="@android:style/Theme.NoTitleBar" > 
```

您也可以从`Theme`Eclipse 布局上方的下拉菜单中进行设置。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T05:44:43.150

`requestWindowFeature(Window.FEATURE_NO_TITLE)`在使用之前，您应该始终使用`setContentView`

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.your_layout);

} 
```

# jquery - 当我在已经具有 Jquery UI 的网站中添加对 Jquery mobile 的引用时会发生什么？

> ID：13263713
> 
> 赞同：0
> 
> 时间：2012-11-07T05:38:14.790
> 
> 标签：jquery, jquery-mobile

我有一个使用 jquery 的移动网站。现在，我打算搬到jquery mobile。是否可以在同一页面中同时引用 jquery mobile 和 jquery？

如果 Jquery mobile 也可以在基于桌面的 Web 应用程序上使用，那么我们为什么要使用 Jquery UI。为什么人们不总是使用 Jquery Mobile 以便他们自动获得基于 Ios 的设备的视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T15:58:11.217

对于第一个问题（假设您的意思是您的网站使用 jQuery UI，因为 jQM*要求*您参考 jQuery），可以混合使用它们，但某些组件可能会出现一些问题。请参阅jquery 论坛中的[此线程](http://forum.jquery.com/topic/mixing-jquery-mobile-with-jquery-ui-widgets-don-t)以了解预期的内容。

至于如果 jQM 可用，为什么任何人都应该使用 jQuery UI：

*   首先，jQM 不仅仅是一个 UI，它是一个专为在移动设备上优化使用而设计的框架，因此它不仅具有触摸事件和触摸友好的 UI 元素等功能，还具有页面缓存、AJAX 驱动的页面导航等，以便更好地管理移动设备上的可用资源。如果仅在桌面浏览器中使用，其中很多都是毫无意义的。

*   其次，jQuery UI 有许多 jQM 中不可用的小部件，例如日期选择器、工具提示和出色的可拖动/可拖放/可排序框架。可用的小部件还可以更好地利用桌面浏览器上可用的屏幕空间，因为鼠标比手指精确得多，因此不需要像 jQM 中那样大的按钮、列表等.

# windows-phone-7 - windows phone8 sdk是否支持winjs

> ID：13263714
> 
> 赞同：2
> 
> 时间：2012-11-07T05:38:26.700
> 
> 标签：windows-phone-7, windows-runtime, windows-phone-8

我用 C# 开发了一个 WP7 应用程序。我想知道 Windows Phone 8 SDK 是否支持 WinJS？如果是这样，我将为 WP 和 WinRT 迁移到 WinJS。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T05:54:17.933

不，您可以开发在 WebBrowser 中运行的 HTML5 应用程序，但无需 WinJS。不过，您可以在两个平台上使用 C#。没有理由使用 WinJS。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T10:22:18.450

澄清一下，Windows Phone 8 仅支持 Silverlight UI 技术。也就是说，.NET 语言和 XAML。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-31T19:41:10.600

这个问题可能已经过时了，但随着微软在 BUILD 2014 上宣布 WinJS 现在也包含在 Windows Phone 8.1 SDK 中，情况发生了变化。

[在手机上构建 2014 WinJS](http://channel9.msdn.com/Events/Build/2014/2-506)

# asp.net - 如何使用与所有浏览器兼容的 C# 4.0 在 aspx 网页上播放客户端存储的视频 (.flv/mp4/.ogv)？

> ID：13263715
> 
> 赞同：0
> 
> 时间：2012-11-07T05:38:26.537
> 
> 标签：asp.net, c#-4.0, cross-browser, media-player, flash

我想在 aspx 网页上播放以上任何格式的视频。实际上我正在使用 microsoft visual 10 和 C# 4.0。我不关心播放器或插件或任何东西。使用 html5 的这个脚本和视频标签现在视频在 Mozilla 和 Chrome 上都可以正常播放。但是如何使用 HTML5 在 IE 上播放视频？有什么解决办法吗？

```
 <script src="http://html5media.googlecode.com/svn/trunk/src/jquery.html5media.min.js" type="text/javascript"></script>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T03:47:58.203

`<video>`IE8 及之前版本不支持Html5标签。它仅在 IE9+ 和 IE9 上受支持，支持仅限于 mp4 视频。参考。[http://docs.webplatform.org/wiki/html/elements/video](http://docs.webplatform.org/wiki/html/elements/video)

对于不受支持的版本，您可能需要使用 Windows Media Player 或 Flash 等插件。

# c - C 编程 - “文件中引用的未定义符号”

> ID：13263716
> 
> 赞同：0
> 
> 时间：2012-11-07T05:38:30.383
> 
> 标签：c, linker-errors, undefined-reference

我正在尝试编写一个程序来近似 pi。它基本上取 0.00 到 1.00 之间的随机点并将它们与圆的边界进行比较，圆内的点与总点的比率应该接近 pi（一个非常快速的解释，规范更深入）。

但是，使用 gcc 编译时出现以下错误：

```
Undefined                       first referenced
symbol                          in file
pow                             /var/tmp//cc6gSbfE.o
ld: fatal: symbol referencing errors. No output written to a.out
collect2: ld returned 1 exit status 
```

这是怎么回事？我以前从未见过此错误，也不知道为什么会出现此错误。这是我的代码（虽然我没有完全测试它，因为我无法克服错误）：

```
#include <stdio.h>
#include <stdlib.h>
#include <math.h>

int main(void) {
    float x, y;
    float coordSquared;
    float coordRoot;
    float ratio;
    int n;
    int count;
    int i;

    printf("Enter number of points: ");
    scanf("%d", &n);

    srand(time(0));

    for (i = 0; i < n; i++) {
        x = rand();
        y = rand();

        coordSquared = pow(x, 2) + pow(y, 2);
        coordRoot = pow(coordSquared, 0.5);

        if ((x < coordRoot) && (y < coordRoot)) {
            count++;
        }
    }

    ratio = count / n;
    ratio = ratio * 4;

    printf("Pi is approximately %f", ratio);

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T05:40:13.257

在编译（或链接）期间使用`-lm`以包含数学库。

像这样：`gcc yourFile.c -o yourfile -lm`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T05:53:44.250

需要与 -lm 链接。gcc test.c -o 测试 -lm

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T05:42:48.267

错误是由链接器产生的，`ld`. 它告诉您`pow`找不到符号（在链接器处理的所有目标文件中未定义）。解决方案是包含包含`pow()`函数实现的库，libm（m 表示数学）。[1] 将`-lm`开关添加到编译器命令行调用（在所有源文件规范之后）以执行此操作，例如

```
gcc -o a.out source.c -lm 
```

[1] 或者，您可以在单独的翻译单元或库中拥有自己的实现`pow()`，但您仍然必须告诉编译器/链接器在哪里可以找到它。

# emacs - emacs前奏中无法开启guru模式

> ID：13263717
> 
> 赞同：1
> 
> 时间：2012-11-07T05:38:34.020
> 
> 标签：emacs

我正在使用 emacs prelude，但无法关闭`guru-mode`. 它在文档中说这可以通过设置来实现`(guru-mode -1)`。我已经把这个设置放在了`my-init.el`，但它仍然不起作用。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-30T05:08:45.050

使用 'prelude-prog-mode-hook 是一个选项，但我建议使用 Prelude 主页[http://batsov.com/prelude/中所述的专用 Prelude 变量](http://batsov.com/prelude/ "预告主页")

只需在您的配置中添加以下内容（在 .emacs.d/personal/<yourconfig>.el 中）

```
(setq prelude-guru nil) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T05:48:09.363

I use this:

```
(add-hook 'prelude-prog-mode-hook
          (lambda ()
            (guru-mode -1)) t) 
```

# iphone - 如何在 iphone 中创建网格表视图

> ID：13263721
> 
> 赞同：2
> 
> 时间：2012-11-07T05:39:04.253
> 
> 标签：iphone, uitableview, datagridview, ios6

您好，我想创建一个如下图所示的表格视图

![示例表视图](../Images/704b48dda5ee91e8ece28b63ac0d86a6.png)

有任何图书馆可用。怎么能这样创作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:47:37.873

Check this repository [GridTableView](https://github.com/scasserly/GridTableView).
I used the same code to create 10 columns in iPad application.
Let me know your thoughts.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T05:50:47.283

我推荐使用[**UICollectionView**](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionView_class/Reference/Reference.html#//apple_ref/doc/uid/TP40012177) 和[**PSTCollectionView**](https://github.com/steipete/PSTCollectionView)

或者

您可以为此使用**UITableView并使用您****自己的自定义单元格**，这并不复杂。

笔记：

UICollectionView 仅在 iOS 6.0 及更高版本中可用。

UICollectionView 类管理数据项的有序集合，并使用可定制的布局呈现它们。集合视图提供与表视图相同的通用功能，只是集合视图能够支持的不仅仅是单列布局。集合视图支持可用于实现多列网格、平铺布局、圆形布局等的可定制布局。如果需要，您甚至可以动态更改集合视图的布局。

# jquery - WordPress Jquery 错误

> ID：13263729
> 
> 赞同：0
> 
> 时间：2012-11-07T05:39:53.763
> 
> 标签：jquery, wordpress

一段时间后我才开始研究wordpress，

当一些客户给我他的网站进行一些更改时，我尝试首先在谷歌浏览器上检查网站并尝试解决错误。

第一个错误是这样的，

```
Uncaught TypeError: Property '$' of object [object Window] is not a function 
```

就行了

```
$(document).ready(function(){ 
```

然后我谷歌了一段时间，我试图通过放置这条线来解决问题

```
(function($){ 
```

但是在圆顶准备好之前我的jquery没有加载，并且在dom准备好之前没有加载该js文件中的许多函数......

我完全不明白，如何解决这个问题。

如果我能够纠正错误，但我的功能将无法加载。那么如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:00:51.607

代替

```
$(document).ready(function(){ 
```

经过

```
jQuery(document).ready(function($){ 
```

# python - 在 pip freeze 中保持安装顺序

> ID：13263739
> 
> 赞同：4
> 
> 时间：2012-11-07T05:40:25.503
> 
> 标签：python, package, pip

快速提问。

有没有办法确保`pip freeze > requirements.txt`保持软件包的安装顺序？这对我来说是一个问题，因为我不断得到这样的东西`requirements.txt`：

```
matplotlib==1.1.1
numpy==1.6.2 
```

所以当我尝试使用安装时出现错误，`pip install -r requirements.txt`因为numpy是matplotlib的依赖，所以我必须先手动安装numpy然后重新运行`pip install -r requirements.txt`

有什么解决办法吗？

**更新**：为了响应 mechmind，我在 Ubuntu 12.04 中使用 pip 和 virtualenv --distribute myenv 安装了 matplotlib 和 numpy。安装后，我得到了这个冻结文件：

```
argparse==1.2.1
distribute==0.6.28
matplotlib==1.1.1
numpy==1.6.2
wsgiref==0.1.2 
```

然后，当我尝试在另一个虚拟环境中重新安装时，出现以下错误：

```
REQUIRED DEPENDENCIES

                 numpy: no

                        * You must install numpy 1.4 or later to build

                        * matplotlib. 
```

所以也许它取决于系统。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T16:08:00.910

刚刚尝试`pip`并正确解决`numpy`了依赖项检查`matplotlib`-`pip`首先构建了 numpy。尝试使用 ubuntu 10.10 的旧股票点。

**编辑**：在玩了`pip`and之后`virtualenv`，我意识到依赖检查实际上只有在发现依赖项时才有效，即在安装、删除并再次安装包时。

所以实际的解决方案将涉及 requrements 文件中包的重新排序（对于只有两个包的顺序错误的简单情况，您可以反转需求文件：`sort -r | xargs pip install`

# flash - Ubuntu 10.04 - apache 不提供 Flash 文件

> ID：13263740
> 
> 赞同：0
> 
> 时间：2012-11-07T05:40:27.353
> 
> 标签：flash, apache, ubuntu-10.04

最近我们的一个 ubuntu 10.04 服务器停止提供 flash 文件。它曾经工作到几天前，然后据报道最近出现了一些问题，经过调查，它没有提供 .swf 文件的 apache 对我来说没有（明显的）原因。

我在日志中看到的内容：

```
IP.NU.MB.ER - - [07/Nov/2012:06:05:13 +0100] "GET /path/to/ZeroClipboard.swf HTTP/1.1" 200 1385 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11"
IP.NU.MB.ER - - [07/Nov/2012:06:05:19 +0100] "-" 408 0 "-" "-" 
```

其他文件像往常一样是服务器（实际上网站正在工作，除了闪存）。

似乎可以识别文件 mime_type，实际上即使更改文件扩展名也没有发生任何事情。我玩过一些 mime 类型的 /etc/apache2/magic 文件，但我可以找到对 flash 的引用：

```
 # flash:        file(1) magic for Macromedia Flash file format
 #
 0       string          FWS             
 >3      byte            x                       application/x-shockwave-flash 
```

另外，后来在同一个文件中我发现：

```
# From: Denis Knauf, via gentoo.
0       string  fLaC            audio/x-flac
0       string  CWS             application/x-shockwave-flash 
```

我读过 mod_deflate 可能会在某些文件类型上产生问题，但它似乎配置正确，我已经从文件列表中排除了 swf 文件以放气，甚至完全禁用了模块，仍然没有运气。

这是 apache 模块的列表：

```
$'ls' /etc/apache2/mods-enabled                                                                             
alias.conf            autoindex.conf  fastcgi.conf      proxy.conf
alias.load            autoindex.load  fastcgi.load      proxy_http.load
auth_basic.load       cgi.load        mime.conf         proxy.load
authn_file.load       deflate.conf    mime.load         reqtimeout.conf
authz_default.load    deflate.load    negotiation.conf  reqtimeout.load
authz_groupfile.load  dir.conf        negotiation.load  rewrite.load
authz_host.load       dir.load        php5.conf         setenvif.conf
authz_user.load       env.load        php5.load         setenvif.load 
```

另外，当我尝试通过 wget 访问服务器时，它只是在一段时间后超时

```
 $ wget http://server/test/ZeroClipboard.swf.jpg
 --2012-11-07 09:29:11--  http://server/test/ZeroClipboard.swf.jpg
 Risoluzione di server  (server)... IP.NU.MB.ER
 Connessione a server (server)|IP.NU.MB.ER|:80... connesso.
 Richiesta HTTP inviata, in attesa di risposta... Errore di lettura nelle intestazioni (Connessione scaduta).
 Altro tentativo in corso.

 --2012-11-07 09:44:12--  (tentativo: 2)  http://server/test/ZeroClipboard.swf.jpg
 Connessione a server (www.ctl.sns.it)|IP.NU.MB.ER|:80... connesso.
 Richiesta HTTP inviata, in attesa di risposta... 
```

这是意大利语：

Errore di lettura nelle intestazioni (Connessione scaduta) 是：在标头中读取错误 (%s)。
其中 (%s) 是“连接超时”

希望这些信息足够...

# php - 如何从逗号分隔的字符串变量中删除一个值？

> ID：13263741
> 
> 赞同：0
> 
> 时间：2012-11-07T05:40:38.233
> 
> 标签：php, javascript, html

我想从逗号分隔的字符串变量中删除一个值，例如 hdnListCL ="'ABC','PQR','XYZ'" 我想删除其中的任何一个，如何在不将其转换为数组的情况下做到这一点？html代码

```
<input type="hidden" name="hdnlistCL" id="hdnlistCL"/>
<table>
 <tr>
    <td>
            <div id="ProjList"><?php print $strLocName; ?></div><br/>
         <input type="text" name="txtCommonLocation" id="txtCommonLocation" size="40" value=""/>
         <img src="images/plus.gif" title="Click Here" onclick="AddNewLocation()" style='cursor:pointer;' align="right"/>  </td>    
     </tr>
</table> 
```

javascript

```
<script type="text/javascript" src="../scripts/jquery.min.js"></script>
<script type="text/javascript">
function AddNewLocation()
{
    var listCL = "";
    this.strProjName;
    if ( typeof strProjName == 'undefined' ) {
          strProjName = '';
    }
    var newLoc = document.getElementById('txtCommonLocation').value;
    document.getElementById('txtCommonLocation').value = "";
    if(document.getElementById('hdnlistCL').value == '')
    { 
       document.getElementById('hdnlistCL').value =newLoc;
    }
    else
    {
      document.getElementById('hdnlistCL').value += ","+newLoc;
    }
      listCL  = newLoc; 
      if(listCL != '')  
        {
             strProjName = strProjName + '<div id="'+listCL+'">'+listCL+'<div  class="close" onclick="removeLocation(\''+listCL+'\')"></div></div>';            
        }
    //  alert(strProjName);
        $('#ProjList').html(strProjName);   
}
function removeLocation(pLocation)
{
    var hdnListLocation = document.getElementById('hdnlistCL').value;
    if(window.confirm("Are you sure you want to delete this?"))
                {      
                            url = 'test_st.php';
                            $.post(
                                url,
                                {"act":"Delete","DelLocation":pLocation,"hdnListLocation": hdnListLocation},
                                function(responseText){
                                    alert(responseText);
                                    return false;
                                  window.location="test_st.php";                    
                                },
                                "html"
                            );
                            return false;
                }   
}
</script> 
```

php代码

```
<?php
 if(isset($_POST['act']))   
       $act = $_POST['act'];

        if($act == "Delete")
        {
            $arrhdnListLocation     = explode(",", $_POST['hdnListLocation']);
            if(in_array($_POST['DelLocation'],$arrhdnListLocation))
            {
            print("I want to remove'".$_POST['DelLocation']."' from hdnlistCL");        
                    exit();
            }
            else
            {
                print("No");
                exit();
            }

        }
?> 
```

![在此处输入图像描述](../Images/8e58787f6f5a1bf0047cc773078dc9ae.png)

当我单击关闭按钮时，我想从 hdnlistCL 中删除该位置。我怎么能这样做？hdnListCL 的值为 ABC,PQR,XYZ 我想从中删除 PQR

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-02-01T08:23:23.343

```
$string = "'ABC','PQR','XYZ'";
$remove  = "'PQR'";

// you can use array_diff method to remove specific array item
$result = array_diff(str_getcsv($string), array($remove))
echo implode(',', $result);  // output is "'ABC','XYZ'" 
```

php小提琴示例： http: [//phpfiddle.org/main/code/v260-p3cf](http://phpfiddle.org/main/code/v260-p3cf)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T05:45:09.030

请试试这个

```
$hdnListCL ="'ABC','PQR','XYZ'";
$hdnListCL=explode(',',$hdnListCL);
$index = array_search('PQR',$hdnListCL);
if($index !== false){
    unset($hdnListCL[$index]);
}
$hdnListCL=implode(',',$hdnListCL);
print_r($hdnListCL); 
```

# c++ - 在 C 中定义网络通信的结构

> ID：13263745
> 
> 赞同：1
> 
> 时间：2012-11-07T05:41:01.923
> 
> 标签：c++, c, memory, struct

我想在 C 中定义一个结构用于网络传输，例如我想传输一个 Animal 结构，其中包含可变长度的动物名称。

AFAIK，一种方法是`using a predefined length of char array`，或者`using a buffer`在结构中，我们可以解析缓冲区*（例如，前4个字节是动物名称长度，后面是动物名称，以及其他字段的长度和其他字段的值）*，优势后一种方法的最大特点是它允许变量名长度，如以下代码所示：

```
struct Animal
{
    char   name[128];
    int    age;
} 
```

或者：

```
struct Animal
{
    int    bufferLen;
    char*  pBuffer;
} 
```

我的问题是：我的方法正确吗？即，有标准的传输结构的方法，还有更好的方法吗？

我的第二个问题是：我是否需要注意填充，即使用`#pragma pack(push/pop, n)`？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:52:10.493

两者都可以正常工作，但是，如果您使用固定长度的*打包* `sturct`，则处理起来会稍微容易一些，但是您可能会发送比您需要的更多的数据，例如，以下代码，假设一个*4 字节*整数，将发送`132`字节：

```
//packed struct
struct Animal {
    char   name[128];
    int    age;
};

Animal a = {"name", 2};
send(fd, &a, sizeof(a), 0);
//and you're done 
```

另一方面，可变长度字段将需要更多的工作来分配内存并打包在单个数据包中，但您将能够发送所需的确切字节数，`9`在这种情况下为字节：

```
//not necessarily packed   
struct Animal {
    char   *name;
    int    age;
};

//some arbitrary length
int name_length = 50;
//you should check the result of malloc
Animal a = {malloc(name_length), 2}; 

//copy the name
strcpy(a.name, "name");

//need to pack the fields in one buff    
char *buf = malloc(strlen(a.name)+ 1 + sizeof(a.age));
memcpy(buf, a.name, strlen(a.name)+1);
memcpy(buf, &a.age, sizeof(a.age));

send(fd, buf, strlen(a.name)+ 1 + sizeof(a.age));
//now you have to do some cleanup
free(buf);
free(a.name); 
```

编辑：当然，如果您想自己实现它，您可以使用库为您序列化数据。[此外，请查看Beej 网络编程指南](http://beej.us/guide/bgnet/examples/pack2.c)中的示例序列化代码

# testing - 同时在多个操作系统上测试

> ID：13263749
> 
> 赞同：2
> 
> 时间：2012-11-07T05:41:18.257
> 
> 标签：testing, parallel-processing, operating-system

我在不同的操作系统（如 Home、Ultimate、Business 等）上测试我的应用程序，这既重复又累人。我想摆脱它，以便我对其进行一次测试，然后为所有操作系统完成工作。出于某种原因，我所有的测试都是手动的，不能自动化。所以，我的想法是我可以在不同的 CPU 上安装多个操作系统，每个操作系统都有自己的专用监视器。但我将使用单个鼠标和键盘。当我点击特定操作系统中的一个按钮时，同样的按钮也会在其他显示器上同时被点击。市场上是否有任何软件可以帮助我实现这一目标？我知道这也需要我拥有额外的硬件，我可以购买新硬件。请建议是否有人知道这种软件和硬件。

谢谢，萨斯瓦特

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-07T07:07:21.827

不存在同时在不同的 CPU 上运行不同的操作系统这样的事情。您可以在同一台机器上安装不同的操作系统，但您需要重新启动才能在它们之间切换。或者，您可以安装具有不同操作系统的虚拟机并使用它们。如果您正在测试没有硬件交互的应用程序，那应该很适合您。

如果您希望在真实机器上运行多个操作系统，则需要一台控制器机器来通过网络对其进行管理。无论如何，无论是使用遥控器还是虚拟机，您都需要创建自定义脚本（我想商业软件也应该可用）。

# r - OR 在数据框选择表达式中

> ID：13263750
> 
> 赞同：1
> 
> 时间：2012-11-07T05:41:21.477
> 
> 标签：r, dataframe, data.table

```
DF1 <- DF[DF$cat == 'A', ]
DF2 <- DF[DF$cat == 'B', ]
RDF <- rbind(DF1, DF2) 
```

有没有办法以更直接的方式表达这一点，例如

```
RDF <- DF[DF$ cat == c('A','B'), ] # Does not work 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T05:43:49.680

```
RDF <- DF[DF$cat %in% c('A','B'), ] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:57:09.367

更一般地，对于两个条件：

```
RDF <- DF[ DF$cat == "A" | DF$dog == "B", ] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T05:43:58.407

您可以使用 data.table 和键

```
library(data.table)
DT <- data.table(DF)
setkey(DT, cat)

DT[c("A", "B"),] 
```

# c# - 使用方法更改只读字段值

> ID：13263751
> 
> 赞同：1
> 
> 时间：2012-11-07T05:41:36.520
> 
> 标签：c#, asp.net, .net, gridview

我在 ASP.Net webapp 中有一个工作的 GridView，它跟踪我请求的 DNS 记录。它的定义如下：

```
<asp:GridView ID="gvExistingEntries" runat="server" AutoGenerateColumns="False" 
    DataKeyNames="DNSId" DataSourceID="dsDNS" Width="100%" 
    BackColor="White" BorderColor="#DEDFDE" BorderStyle="None" BorderWidth="1px" 
    CellPadding="4" ForeColor="Black" GridLines="Vertical" AllowSorting="True" ShowFooter="true">
    <AlternatingRowStyle BackColor="White" />
    <Columns>
        <asp:BoundField DataField="DNSId" Visible="false" ReadOnly="true" />
        <asp:BoundField DataField="DNSName" HeaderText="DNS Name" SortExpression="DNSName" />
        <asp:BoundField DataField="IPAddress" HeaderText="IP Address" ReadOnly="True" SortExpression="IPAddress" />
        <asp:BoundField DataField="RecordType" HeaderText="Record Type" SortExpression="RecordType" />
        <asp:BoundField DataField="RequestTicket" HeaderText="Request Ticket" SortExpression="RequestTicket" />
        <asp:BoundField DataField="LastUpdateBy" HeaderText="Updated By" ReadOnly="True" SortExpression="LastUpdateBy" />

        <asp:TemplateField ShowHeader="false" ItemStyle-HorizontalAlign="Center">
            <ItemTemplate>
                <asp:LinkButton ID="updateButton" runat="server" CommandName="Edit" Text="Update" />
                <asp:LinkButton ID="deleteButton" runat="server" CommandName="Delete" Text="Delete" onClientClick="return confirm('Are you sure you want to delete this entry?');" />
            </ItemTemplate>

            <EditItemTemplate>
                <asp:LinkButton ID="saveUpdate" runat="server" CommandName="Update" Text="Save" onClientClick="return confirm('Are you sure you want to save these changes?');" />
                <asp:LinkButton ID="cancelUpdate" runat="server" CommandName="Cancel" Text="Cancel" />
            </EditItemTemplate>
        </asp:TemplateField>
    </Columns>
    <FooterStyle BackColor="#CCCC99" />
    <HeaderStyle BackColor="#6B696B" Font-Bold="True" ForeColor="White" />
    <PagerStyle BackColor="#F7F7DE" ForeColor="Black" HorizontalAlign="Right" />
    <RowStyle BackColor="#F7F7DE" />
    <SelectedRowStyle BackColor="#CE5D5A" Font-Bold="True" ForeColor="White" />
    <SortedAscendingCellStyle BackColor="#FBFBF2" />
    <SortedAscendingHeaderStyle BackColor="#848384" />
    <SortedDescendingCellStyle BackColor="#EAEAD3" />
    <SortedDescendingHeaderStyle BackColor="#575357" />
</asp:GridView> 
```

数据源定义如下：

```
<asp:SqlDataSource ID="dsDNS" runat="server" 
    ConnectionString="<%$ ConnectionStrings:DNSMonConnectionString %>" 
    SelectCommand="SELECT [DNSId], [DNSName], [RecordType], [StartValidityDate], [EndValidityDate], [IPAddress], [LastUpdate], [RequestTicket], (select [FirstName] + ' ' + [LastName] + ' (' + [Login] + ')' FROM [User] where [User].[UserID] = [DomainName].[LastUpdateBy]) AS [LastUpdateBy] FROM [DomainName] ORDER BY [DNSName]"

    UpdateCommandType="StoredProcedure"
    UpdateCommand="sp_update_DNSEntry" OnUpdating
    DeleteCommandType="StoredProcedure"
    DeleteCommand="sp_drop_DNSEntry">
    <DeleteParameters>
        <asp:Parameter Name="DNSId" Type="Int32" />
    </DeleteParameters>
    <UpdateParameters>
        <asp:Parameter Name="DNSId" />
        <asp:Parameter Name="DNSName" />
        <asp:Parameter Name="RecordType" />
        <asp:Parameter Name="IPAddress" />
        <asp:Parameter Name="RequestTicket" />
    </UpdateParameters>
</asp:SqlDataSource> 
```

每当用户使用更新功能时，它都会起作用并将其保存到数据库中，但我希望代码在保存之前解析 IP 地址。我已经准备好为此使用的方法，但我不知道如何将其合并到代码中。

如果可能的话，我宁愿避免将代码放在数据库中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:48:22.533

[`OnUpdating`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.sqldatasource.updating.aspx)您可以使用事件 在更新前更新 IP 地址。

```
<asp:SqlDataSource OnUpdating="OnSqlUpdating"
    ... etc /> 
```

在处理程序代码中，从 SqlDataSourceCommandEventArgs 获取[Command](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.sqldatasourcecommandeventargs.command.aspx)属性，并更新相应的参数。

```
private void OnSqlUpdating(Object source, SqlDataSourceCommandEventArgs e) 
{
    DbCommand command = e.Command;
    command.Parameters["IPAddress"] = Request.UserHostAddress;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T04:00:50.643

对于任何有兴趣的人，实现这一点的代码是：

```
<asp:SqlDataSource ID="dsDNS" runat="server" OnUpdating="OnSqlUpdating" ... />

protected void OnSqlUpdating(Object source, SqlDataSourceCommandEventArgs e)
{
    string sIPAddresses = "";

    // Custom code here to look up IP addresses.

    DbCommand dbCmd = e.Command;
    dbCmd.Parameters["@IPAddress"].Value = sIPAddresses;
} 
```

# php - 如果用户的浏览器禁用了 javascript，则使用 javascript 的网页无法工作......那么有什么方法可以在没有 javascript 的情况下运行像 onclick 这样的命令？

> ID：13263752
> 
> 赞同：3
> 
> 时间：2012-11-07T05:41:37.007
> 
> 标签：php, javascript, html

请任何人帮我给我解决方案，让我在没有javascript的情况下运行像onclick这样的命令......谢谢//javascript代码：

```
 function selectedproperty(id)
                {
                document.getElementById("pid").value=id;
                document.getElementById("form1").submit();
                }

                function singleproperty(id)
                {
                document.getElementById("pid").value=id;
                document.getElementById('form1').action="singlepropertydetail.php"
                document.getElementById("form1").submit();
                }  

// html/php code 

 <ul>
    <?PHP
    $sql=mysql_query("select build_name,flat_no,property_id from new_property where owner='".$ownerid."'") or die(mysql_error());
    while($row=mysql_fetch_row($sql))
    {
    echo "<li onclick='singleproperty(".$row[2].");' >".$row[0]." ".$row[1]."</li>";
    }
    ?>
    </ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:02:09.127

您在 li 中放置了一个带有按钮的表单。用户单击按钮，如果 js 被禁用，它会回发到服务器，并执行向用户呈现页面所需修改的逻辑。如果启用了 js，您可以使用 JavaScript 来阻止表单提交和处理逻辑客户端。

这是一个关于它的外观的想法

```
<li onclick='singleproperty(".$row[2].");' >
    <form method='post' onsubmit='return false'>
        <input name='singleproperty' type='hidden' value='".$row[2]."'>
        <input type='submit' value='".$row[0]." ".$row[1]."'>
    </form>
</li> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:09:25.877

要将值传递给服务器，您可以执行以下任一操作

1.  使用提交按钮将表单提交到服务器。这将隐藏 URL 中的参数并使用请求正文。

2.  如果您的页面只是在执行读取操作，那么在参数将出现在 URL 中的页面上执行 GET 请求是安全的。

如果你想编写一个可以在没有 JavaScript 的情况下运行的应用程序，你必须使用诸如[优雅降级和渐进增强](http://accessites.org/site/2007/02/graceful-degradation-progressive-enhancement/)之类的设计原则。详细解释如何实现这一点将超出本问答网站的范围。

或者，您可以像 GMail 那样拥有一个单独的仅 HTML 站点。

在编写应用程序之前，必须考虑是否支持少 JavaScript 浏览器或拥有单独的站点或进行优雅降级的决定，并且必须提前做出相应的妥协。

# javascript - Sinatra 无法识别会话的 javascript

> ID：13263756
> 
> 赞同：0
> 
> 时间：2012-11-07T05:42:03.590
> 
> 标签：javascript, jquery, ruby, ajax, sinatra

我正在尝试使用 jQuery 登录 Sinatra 应用程序，但由于某种原因，Sinatra 似乎根本无法识别它，这是我查看用户是否登录的代码：

Sinatra 应用程序：

```
get '/logged_in' do
    if session[:logged_in] == true
         status 200
         "OK"
    else
        status 200
        "False"
    end
end 
```

当我`/logged_in`在浏览器中浏览时，我看到`OK`了，但是当我执行以下 Javascript 时，我被`False`打印到控制台 - 对我来说似乎很奇怪。

```
var r = $.ajax({
  type: "GET",
  url: "http://xxx-xxx.com/logged_in"
});
r.success(function(msg) {
    console.log(msg);
}); 
```

任何见解都会受到赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T13:50:57.463

如果您能提供更多详细信息，那就太好了。（浏览器、按时间顺序排列的请求日志，包括 HTTP 状态代码，甚至是来自 wireshark 的转储。）但是这是我的猜测：

```
var r = $.ajax({
  cache: false,
  type: "GET",
  url: "/logged_in",
  success: function(msg) {
    console.log(msg);
  }
}); 
```

一些浏览器会主动缓存 AJAX 请求，尤其是 GET 请求。所以你可能想试试`cache: false`。稍后添加成功函数对我来说也很奇怪，我从未在任何代码中看到过。

编辑：服务器是否在同一域上响应 AJAX 请求？（域必须与浏览器测试中的域相同。）通常不需要在 URL 中指定域，因此我在此处的代码中将其删除。所以毕竟这可能是由于[Same Origin Policy](http://en.wikipedia.org/wiki/Same_origin_policy)的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T10:32:46.943

我敢打赌这是一个 jQuery 问题，而不是 Sinatra 问题。检查是否正在为 ajax 请求发送 cookie。没有发送 cookie 的原因有很多。

# apache-flex - Flex 中的视频播放器

> ID：13263757
> 
> 赞同：1
> 
> 时间：2012-11-07T05:42:05.357
> 
> 标签：apache-flex, mp4

我正在开发一个需要播放 MP4 文件的 Flex 应用程序。视频正常播放，但不适合视频播放器窗口；一些后部区域位于视频剪辑的上方和下方。我试图调整大小，但都是徒劳的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T10:48:31.987

首先，您使用的是 Flex“VideoPlayer”组件吗？如果是这样，请尝试更改视频播放器的“scaleMode”属性，默认情况下它的值为“letterbox”，这就是为什么您会看到视频上方和下方的黑色区域。（可能的值为“none”、“stretch”、“letterbox”或“zoom”。）

# javascript - jQuery val() 在 IE 中不能用于动态添加的选项

> ID：13263764
> 
> 赞同：5
> 
> 时间：2012-11-07T05:42:50.583
> 
> 标签：javascript, internet-explorer, jquery, drop-down-menu

我正在通过 jQuery ajax 方法为我的下拉列表生成选项，并由 db 填充它。

```
$.ajax({
        type: "POST",
        url: pageUrl + '/FillAssignee',
        data: {},
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (response) {
                        for (var i = 0; i < response.d.length; i++) {
                            $('#SelectAssignee').append($("<option></option>").val(response.d[i]['Value']).html(response.d[i]['Text']));
                        }
                        if (response.d.length > 0) 
                        {
                          $('#SelectAssignee>option:eq(1)').attr('selected', true); 
                          alert($('#SelectAssignee').val()); //this line giving me correct value but value not showing in dropdown as selected in ie
                        }
                  }            
      }); 
```

它工作正常。唯一的问题是在 IE 上默认没有选择第一个值。所以为此我使用了很多选项

```
1\. $('#SelectAssignee').val();
2\. $('#SelectAssignee option:first').attr('selected','selected');
3\. $('#SelectAssignee option:first').prop('selected',true); 
```

我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:13:52.250

尝试这样的事情

```
 var selObj = document.getElementById('SelectAssignee');
 selObj.selectedIndex = 0; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:01:20.983

您的逻辑是说您的目标是选择菜单中的第一个元素，但是，您正在将新选项添加​​到选择输入的 END 中。您要么需要将 .append 更改为 .prepend，要么在将 selected 属性设置为 true 时定位最后一个选项

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:02:10.243

尝试设置为属性而不是属性。

```
$('#SelectAssignee').append($("<option />", { value: response.d[i]['Value'], html: response.d[i]['Text'] })); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T06:47:58.900

我最好的猜测是这应该有效。虽然，这似乎是一个肮脏的黑客，但有一次我不得不求助于这个并且它奏效了。

```
setTimeout( function() {
    $('#SelectAssignee option:first').prop('selected', true);
    $('#SelectAssignee').trigger('change');
}, 1000 ); 
```

尝试将此代码块放在成功回调中，在 for 循环之后。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-15T06:51:31.347

在for循环之后，尝试以下条件

```
if (response.d.length > 0) { $('#SelectAssignee>option:eq(0)').attr('selected', 'selected');} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-07T06:21:54.320

您能否尝试以下解决方案。

在for循环之后，只需添加这个

```
if (response.d.length > 0) {
   $('#SelectAssignee>option:eq(1)').attr('selected', true);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-15T07:40:30.860

尝试将值显式设置为第一个选项的值

```
$('#SelectAssignee').val(response.d[0]['Value']); 
```

# magento - Magento：用货币符号替换货币下拉菜单以点击

> ID：13263765
> 
> 赞同：0
> 
> 时间：2012-11-07T05:42:55.367
> 
> 标签：magento, menu, selector, currency

我们在标题的右上角有一个货币下拉选择器。我想用货币符号替换它以单击。IE：

$ £ €

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:25:37.763

检查此链接。这可能会有所帮助。

[更改货币下拉菜单](http://magento-talks.blogspot.in/2011/09/how-to-show-country-flag-in-magento.html)

[货币符号](http://www.magentocommerce.com/boards/viewthread/270821/)

[货币选择器](http://www.magentocommerce.com/answers/discussion/543/Adding-Currency-Symbol-to-currency-selector/p1)

如果您不想要下拉菜单，请在主题“directory/currency.phtml”中使用此代码

```
<ul>
        <?php foreach ($this->getCurrencies() as $_code => $_name): ?>
        <li>
          <a onclick="setLocation('<?php echo $this->getSwitchCurrencyUrl($_code) ?>')"><?php echo Mage::app()->getLocale()->currency($_code)->getSymbol()?> - <?php echo $_code ?></a>
         </li>
        <?php endforeach; ?>
        </ul> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-08T10:50:57.250

在您的主题模板/目录/currency.phtml 中将代码更改为此（这是基于 RWD 主题）：

```
<?php if($this->getCurrencyCount()>1): ?>
<div>
<ul class="in_currency">
<?php foreach ($this->getCurrencies() as $_code => $_name): ?>
<li style="float:left;padding:0px 5px 0px 0px;">
<a href="<?php echo $this->getSwitchCurrencyUrl($_code) ?>" onclick="setLocation(this.value);">
<?php echo $_code ?>
<?php
$currencySymbol = Mage::app()->getLocale()->currency($_code)->getSymbol();
?>
<?php //echo $currencySymbol; ?>

</a>
</li>

<?php endforeach; ?>
</ul>
</div> 
```

# android - 在 Android 模拟器上测试移动网站

> ID：13263769
> 
> 赞同：2
> 
> 时间：2012-11-07T05:43:13.220
> 
> 标签：android, android-emulator, asp.net-4.0

我在 VS2010 4.0 上创建了移动网站。我想在移动浏览器上对此进行测试。我已经从[http://www.asp.net/mobile/device-simulators](http://www.asp.net/mobile/device-simulators)安装了 Android Emulator 。我只想知道如何在本地 IIS（我的计算机）上托管的 Emulator 上测试应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:46:37.433

`10.0.2.2`用作与 Android 模拟器在同一台机器上运行的服务器的 IP 。

# apache-flex - 如何在 flex 高级数据网格中的分层数据显示中显示复选框

> ID：13263770
> 
> 赞同：0
> 
> 时间：2012-11-07T05:43:14.703
> 
> 标签：apache-flex, advanceddatagrid

在我的高级数据网格中，我正在显示分层数据。我需要显示一个复选框，而不是文件夹图标，我可以选择或取消选择它。基于选中的复选框，我需要显示选中的单元格值。请让我知道如何实现它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:17:25.107

下面的代码可以帮助你： - 如果你愿意，你可以在其中实现你的逻辑。

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
               xmlns:s="library://ns.adobe.com/flex/spark" 
               xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600">
    <fx:Declarations>
        <!-- Place non-visual elements (e.g., services, value objects) here -->
    </fx:Declarations>
    <fx:Script>
        <![CDATA[
            import mx.collections.ArrayCollection;
            import mx.events.ListEvent;

            [Bindable]
            private var dpHierarchy:ArrayCollection = new ArrayCollection([
                {Region:"Southwest", categories: [
                    {Region:"Arizona", categories: [ 
                        {Territory_Rep:"Barbara Jennings", Actual:38865, Estimate:40000}, 
                        {Territory_Rep:"Dana Binn", Actual:29885, Estimate:30000}]},  
                    {Region:"Central California", categories: [ 
                        {Territory_Rep:"Joe Smith", Actual:29134, Estimate:30000}]},  
                    {Region:"Nevada", categories: [ 
                        {Territory_Rep:"Bethany Pittman", Actual:52888, Estimate:45000}]},  
                    {Region:"Northern California", categories: [ 
                        {Territory_Rep:"Lauren Ipsum", Actual:38805, Estimate:40000}, 
                        {Territory_Rep:"T.R. Smith", Actual:55498, Estimate:40000}]},  
                    {Region:"Southern California", categories: [ 
                        {Territory_Rep:"Alice Treu", Actual:44985, Estimate:45000}, 
                        {Territory_Rep:"Jane Grove", Actual:44913, Estimate:45000}]}
                ]}
            ]);

            protected function onItemClick(event:ListEvent):void
            {
                myADG_ID.expandItem(myADG_ID.selectedItem,!myADG_ID.isItemOpen(myADG_ID.selectedItem));
            }

        ]]>
    </fx:Script>

    <mx:AdvancedDataGrid id="myADG_ID" width="100%" height="100%" defaultLeafIcon="{null}" 
                         folderOpenIcon="{OpenCheckBox}" folderClosedIcon="{CloseCheckBox}"
                         itemClick="onItemClick(event)" 
                         displayDisclosureIcon="false"> 
        <mx:dataProvider>
            <mx:HierarchicalData source="{dpHierarchy}" 
                                 childrenField="categories"/>
        </mx:dataProvider>
        <mx:columns>
            <mx:AdvancedDataGridColumn dataField="Region"/>
            <mx:AdvancedDataGridColumn dataField="Territory_Rep"
                                       headerText="Territory Rep"/>
            <mx:AdvancedDataGridColumn dataField="Actual"/>
            <mx:AdvancedDataGridColumn dataField="Estimate"/>
        </mx:columns>
    </mx:AdvancedDataGrid>  
</s:Application> 
```

打开CheckBox.mxml

```
<?xml version="1.0" encoding="utf-8"?>
<s:MXAdvancedDataGridItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
                                  xmlns:s="library://ns.adobe.com/flex/spark" 
                                  xmlns:mx="library://ns.adobe.com/flex/mx" 
                                  focusEnabled="true" width="100%" height="100%">
    <fx:Declarations>
        <!-- Place non-visual elements (e.g., services, value objects) here -->
    </fx:Declarations>
    <s:CheckBox id="cbSelector" selected="true" width="100%" />
</s:MXAdvancedDataGridItemRenderer> 
```

关闭检查框.mxml

```
<?xml version="1.0" encoding="utf-8"?>
<s:MXAdvancedDataGridItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
                                  xmlns:s="library://ns.adobe.com/flex/spark" 
                                  xmlns:mx="library://ns.adobe.com/flex/mx" 
                                  focusEnabled="true" width="100%" height="100%">
    <fx:Declarations>
        <!-- Place non-visual elements (e.g., services, value objects) here -->
    </fx:Declarations>
    <s:CheckBox id="cbSelector" selected="false" width="100%" />
</s:MXAdvancedDataGridItemRenderer> 
```

# c# - 如何丢弃文件之间的 Git 更改

> ID：13263774
> 
> 赞同：2
> 
> 时间：2012-11-07T05:43:22.640
> 
> 标签：c#, version-control, github

我有一个从 GitHub 克隆的存储库，我对文件 A 进行了更改，但是 Git 正在检测对文件 B、C 和 D 的更改。所有三个文件都检测到这些更改基本上是 B、C、D 的全部内容。即+B、C、D 中的所有行，-B、C、D 中的所有行。

我不想提交这个，因为它会导致一个肮脏的提交。为什么 git 会检测到这些更改以及如何让 git 永远忽略这些更改？

该项目使用 C#，我使用 GitHub windows 应用程序，IDE 是 VS Express 2012。

**编辑：** 我意识到文件已经改变，但是有没有办法a）找出改变了什么，b）告诉git忽略它们并且在提交之间不要再次拾取它们。在我第一次打开克隆项目后，我的编辑器似乎正在以某种方式修改文件 B、C、D。

即使在运行 git reset --hard 之后，git diff 仍然会报告更改。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:26:20.037

你可能需要告诉 git 你的行结束策略。

有关此主题的更多信息，请参阅以下资源

*   [https://help.github.com/articles/dealing-with-line-endings#platform-windows](https://help.github.com/articles/dealing-with-line-endings#platform-windows)
*   [http://lydiapchung.wordpress.com/2012/06/01/github-for-windows-line-endings/](http://lydiapchung.wordpress.com/2012/06/01/github-for-windows-line-endings/)

**注意：**短期修复需要调整`core.autocrlf`计算机上的设置。正确的解决方法是创建一个`.gitattributes`文件，提交它，然后向您克隆的上游存储库发送一个拉取请求。事实上，它不仅可以解决您的问题，还可以防止新用户以后遇到同样的问题。

**[可以在此处找到](https://github.com/libgit2/libgit2sharp/blob/vNext/.gitattributes)**一个有效的、C# 项目兼容的跨平台`.gitattributes`文件示例。随意从中获得一些灵感;-)

一篇关于行尾和 Git 内部工作的非常详细的博客文章是**[Mind the end of your line](http://timclem.wordpress.com/2012/03/01/mind-the-end-of-your-line/)**。非常值得一读。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:23:50.030

这可能与 eol（行尾）样式有关，如 Github 页面“[处理行尾](https://help.github.com/articles/dealing-with-line-endings)”中所述。

我会推荐：

```
git config --global core.autocrlf false
git clone https://github.com/user/repo newrepo 
```

看看在那个新的回购中问题是否仍然存在。

[`core.autocrlf`激活](https://stackoverflow.com/questions/2825428/why-should-i-use-core-autocrlf-true-in-git/2825829#2825829)是有原因的，但它导致的问题多于解决的问题。
您可以使用其他设置管理行尾（请参阅[此问题](https://stackoverflow.com/questions/2333424/distributing-git-configuration-with-the-code/2354278#2354278)）。

# shell - 为什么我的 crontab 没有执行我的 shell 脚本？

> ID：13263778
> 
> 赞同：0
> 
> 时间：2012-11-07T05:43:32.203
> 
> 标签：shell, unix, crontab

在哪里查看 cron 作业的日志？我做了pgrep cron 它给了2358 是什么意思？

```
 0 02 * * * /feedbatch/application/scripts/baselineUpdate.sh
    0 13 * * * /feedbatch/application/scripts/baselineUpdate.sh
    #0,10,20,30,40,50 * * * * /feedbatch/application/scripts/partialUpdate.sh
    */2 * * * * /feedbatch/application/scripts/partialUpdate.sh
    15 0 * * * /usr/sbin/logrotate -s $HOME/logrotate.status -f $HOME/endeca-logrotate.conf
    16 0 * * * /usr/sbin/logrotate -s $HOME/outputrotate.status -f $HOME/endeca-outputrotate.conf 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T13:11:04.660

cron 守护进程将记录到默认系统记录器。因此它将被记录到消息或系统日志中。您可以配置 rsyslog 以记录所有 cron 日志输出的单独文件。这有点取决于您的 linux 发行版。如下示例将 cron 日志写入 Ubuntu12.04 的单独文件：
编辑 /etc/rsyslog.d/50-default.conf （取消命令 cron.* 行）

```
...
auth,authpriv.*         /var/log/auth.log
*.*;auth,authpriv.none      -/var/log/syslog
#cron.*             /var/log/cron.log
#daemon.*           -/var/log/daemon.log
... 
```

重启 cron 守护进程。
您的 cron 输出现在应该记录到 /var/log/cron.log。
这应该让您更好地了解“cron 执行”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:37:32.707

您的脚本位于此位置 - /feedbatch/ 请检查 / 中是否存在名为 feedbatch 的目录。以及如果目录存在，普通用户是否有权运行其中的脚本。尝试将所有脚本放在一个新的 bin 文件夹中.. 这是一个好习惯..

其他脚本在 /usr/sbin/.... 这里也可能是权限问题。尝试将所有这些都放在根 crontab 中。这样就不会有任何权限问题。还要检查 /etc/cron.allow 和 /etc/cron.deny 中是否有您的用户名。如果这两个文件不存在，请不要担心。但如果这些文件存在，请确保您的名字存在于 cron.allow 中，而不存在于 cron.deny 中

要访问根 crontab，请执行以下操作

```
su - root
crontab -e 
```

# c# - 同时播放多个 wav 文件

> ID：13263783
> 
> 赞同：1
> 
> 时间：2012-11-07T05:44:06.553
> 
> 标签：c#, wav

我必须一起播放 5-10 个 wav 文件。在我的应用程序中，当任何摄像机（每个摄像机都有不同的 wav 文件作为运动检测警报播放）检测到运动时，就会播放警报（wav）文件。当多个摄像头（5-10）同时进行运动检测时，我们必须播放多个警报（wav 文件），每个摄像头都不同。如果我使用的是 WMPlayer，那么警报会被中断，整个波形也不会得到玩过。

WMPlayer 的代码

```
var player = new WindowsMediaPlayer();
                ////player.settings.rate = .5; //slow
                player.URL = soundfilepath;
                player.controls.play(); 
```

我也尝试过 Windows API，但它暂停了我的应用程序（相机），在此期间正在播放警报

Windows API 代码

```
PlaySound(soundfilepath, IntPtr.Zero, SoundFlags.SND_FILENAME | SoundFlags.SND_SYNC);

public enum SoundFlags : int
    {
        SND_SYNC = 0x0000,  // play synchronously (default) 
        SND_ASYNC = 0x0001,  // play asynchronously 
        SND_NODEFAULT = 0x0002,  // silence (!default) if sound not found 
        SND_MEMORY = 0x0004,  // pszSound points to a memory file
        SND_LOOP = 0x0008,  // loop the sound until next sndPlaySound 
        SND_NOSTOP = 0x0010,  // don't stop any currently playing sound 
        SND_NOWAIT = 0x00002000, // don't wait if the driver is busy 
        SND_ALIAS = 0x00010000, // name is a registry alias 
        SND_ALIAS_ID = 0x00110000, // alias is a predefined ID
        SND_FILENAME = 0x00020000, // name is file name 
        SND_RESOURCE = 0x00040004  // name is resource name or atom 
    } 
```

现在我的问题是如何不间断地同时播放多个 wav 文件？

谢谢

# facebook-graph-api - 为 FB 图形 API 帖子设置自定义隐私以供饲料停止工作

> ID：13263795
> 
> 赞同：1
> 
> 时间：2012-11-07T05:45:11.897
> 
> 标签：facebook-graph-api

它在几个月内运行良好，但突然停止识别 CUSTOM 隐私设置。如果自定义设置允许好友列表，则会出现“好友值未被识别”错误，如果它拒绝好友列表，则隐私设置为“SELF”。

```
 $custom =  ',"friends": "SOME_FRIENDS","allow": "' + $ids + '"';
   var params = {};
   params['message'] = $message;
   params['name'] = $name;
   params['link'] = $url;
   params['caption'] = $caption;
   params['privacy'] = '{"value":"'+$privacy + '"' + $custom + '}'; 

FB.api('/me/feed', 'post', params, function(response) {
  if (!response || response.error) {
    alert(response.error.message);
  } else {
    if (response && response.id) {
    alert("success");
  }
}); 
```

有人遇到过这个问题吗？任何帮助表示赞赏！

# c++ - 替换标准 C++ 分配器？

> ID：13263796
> 
> 赞同：7
> 
> 时间：2012-11-07T05:45:15.097
> 
> 标签：c++, allocator

我想用更健壮的分配器替换标准分配器（C++ 标准只需要对 vector::resize 进行溢出检查）。许多库提供的各种 C++ 分配器在接受否定的自测时会面目全非。

我可以使用更强大的分配器。ESAPI 的分配器不仅检查溢出，它还具有调试工具来帮助查找错误。[http://code.google.com/p/owasp-esapi-cplusplus/source/browse/trunk/esapi/util/zAllocator.h](http://code.google.com/p/owasp-esapi-cplusplus/source/browse/trunk/esapi/util/zAllocator.h)。

是否有一种标准方法可以轻松替换程序中使用的 C++ 分配器？我还想确保将其替换为我可能无法访问源代码的库代码。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-08T22:58:13.633

与`malloc`可以被具有相同签名的另一个函数替换的库函数不同的是，`std::allocator`类模板和模板代码根据需要被实例化并内联到使用它的代码中。一些标准库代码已经编译到库的目标文件中，并且将包含`std::allocator` 无法替换的实例化代码。所以唯一的方法是标准库是否提供了一些非标准的方法来替换它的`std::allocator`. 幸运的是，GCC 的 libstdc++ 允许您这样做，允许您选择在`std::allocator`配置和构建 GCC 时使用的实现，有几个[不同的选择](http://gcc.gnu.org/onlinedocs/libstdc++/manual/memory.html#allocator.ext)

`std::allocator`将 ESAPI 分配器作为选项之一添加到 GCC 源，然后重建 GCC 以使用该分配器作为提供其实现的基类，这不会有太多的工作。您可能需要稍微调整 ESAPI 分配器代码，并可能更改 libstdc++`configure`脚本以允许您说`--enable-libstdcxx-allocator=esapi`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-07T07:14:42.887

如果您想在全局而不是每个容器上修改分配，您可能需要替换`::operator new`and `::operator delete`。可以想象，您还想替换`::operator new[]`and `::operator delete[]`——但这些仅用于分配数组，无论如何您几乎都不应该使用它们（此外，以防不明显：不，这些*不*用于分配内存对于 a `std::vector`，尽管它在某些方面与数组非常相似）。

尽管禁止尝试替换库的大部分部分，但标准明确允许替换这些部分。

当然，如果有人已经为特定容器指定了不同的分配器，并且该分配器没有（最终）通过`::operator new`（或`::operator new[]`）获取其内存，则这*不会*影响该容器/那些容器。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-07T06:09:47.137

在 C++0x 中，在命名空间`mystd`中定义一个新的模板别名，`std::vector`但使用您的自定义分配器。将所有`std::vector`s替换为`mystd::vector`。摆脱所有`using namespace std`和`using std::vector`你的代码。

重建。将您使用 raw 的地方替换`vector<T>`为`mystd::vector<T>`.

哦，使用比 . 更好的名称`mystd`。

# crystal-reports - 在报告上打印日期范围

> ID：13263799
> 
> 赞同：0
> 
> 时间：2012-11-07T05:45:41.383
> 
> 标签：crystal-reports

我有一个来自选择器的报告的日期范围。如何在报告标题上打印该范围？我在水晶报表中 - 不是来自代码。我有一位在日期字段上使用 IsBetween 的精选专家。表格打印一切正常。我只想显示日期范围。我已尝试使用 OnFirstRecord 和 OnLastRecord 和 WhilePrintingRecord 在函数中填充字符串 - 它在报告中显示为空白。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T22:32:24.363

```
// {@range}
// note case of format string
ToText(Minimum({?date_range}),"MM/dd/yyyy") + " - " + ToText(Maximum({?date_range}),"MM/dd/yyyy") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T12:15:20.503

根据您的要求在水晶报表中添加一个或两个参数，然后将您的日期范围分配给该参数。

```
ParameterFields paramFields = new ParameterFields();
// ParameterDiscreteValue paramDiscreteValue = new ParameterDiscreteValue();

ParameterField paramField = new ParameterField();
ParameterDiscreteValue paramDiscreteValue = new ParameterDiscreteValue();
paramField.Name = "@Date1";
paramDiscreteValue.Value = TextBox1.Text.ToString();
paramField.CurrentValues.Add(paramDiscreteValue);
paramFields.Add(paramField);

paramField = new ParameterField(); // <-- This line is added
paramDiscreteValue = new ParameterDiscreteValue();  // <-- This line is added
paramField.Name = "@Date2";
paramDiscreteValue.Value = TextBox2.Text.ToString();
paramField.CurrentValues.Add(paramDiscreteValue);
paramFields.Add(paramField);

CrystalReportViewer1.ParameterFieldInfo = paramFields; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-07T20:31:18.440

我发现了 NthSmallest 和 NthLargest 函数——现在可以完美运行了！

# perl - not able to access hash of hash of array values

> ID：13263802
> 
> 赞同：1
> 
> 时间：2012-11-07T05:45:49.573
> 
> 标签：perl, hash, hash-of-hashes

I have written the following code in Perl. The code is reading a pdb file and getting some values. Ignore the top part of the code,where everything is working perfect. Problem is in the sub-routine part, where I try to store arrays in the hash3 with model as key another key position the array values can be accessed inside the if condition using this :

$hash3{$model}{$coordinates}[1].

but when I go out of all foreach loop and try to access the elements I only get one value. Please look at the end foreach loop and tell me is it the wrong way to access the hash values.

The pdb file I am using can be downloaded from this link [http://www.rcsb.org/pdb/download/downloadFile.do?fileFormat=pdb&compression=NO&structureId=1NZS](http://www.rcsb.org/pdb/download/downloadFile.do?fileFormat=pdb&compression=NO&structureId=1NZS)

```
#!/usr/bin/perl
open(IN,$ARGV[0]);

my @phosphosites;
my $model=1;
my %hash3;
while(<IN>)
  {
    #findmod(@line);
    #finddist;
    #findfreq;
    if((/^MODRES/) && (/PHOSPHO/))
      {
        @line=split;
        push(@phosphosites, $line[2]);
        #print "$line[4]";
      }
    foreach $elements (@phosphosites){
      if(/^HETATM\s+\d+\s+CA\s+$i/)
        {
          @line1=split;
          #print "$line1[5]";
          #print "$line1[6] $line1[7] $line1[8]\n";
          push(@phosphositesnum, $line1[5]);
        }
    }
    $pos=$line1[5];
    #findspatial(\@line,\@line1);
  }

my @ori_data=removeDuplicates(@phosphositesnum);
sub removeDuplicates {
  my %seen = ();
  my @vals = ();

  foreach my $i (@_) {
    unless ($seen{$i}) {
      push @vals, $i;
      $seen{$i} = 1;
    }
  }

  return @vals;
}

$a=(@phosphosites);
print "$a\n";
print "@phosphosites\n";
print "@ori_data\n";

close(IN);

open(IN1,$ARGV[0]);
my (@data)=<IN1>;
spatial(\@ori_data);
sub spatial {

  my @spatial_array1=@{$_[0]};

  foreach $coordinates(@spatial_array1)
    {
      $model=1;
      {foreach $data1(@data){

        if($data1=~ m/^HETATM\s+\d+\s+CA\s+[A-Z]*\s+[A-Z]*\s+$coordinates/)
          {
            @cordivals=split(/\s+/,$data1);
            push @{ $sphash{$model} },[$cordivals[6], $cordivals[7], $cordivals[8]];
            $hash3{$model}{$coordinates}= \@cordivals;
            #print "$model $coordinates $hash3{$model}{$coordinates}[6] $hash3{$model}{$coordinates}[7] $hash3{$model}{$coordinates}[8]\n";
            #print "$model $sphash{$model}[$i][0] $sphash{$model}[$i][1] $sphash{$model}[$i][2]\n";

          }

        elsif($data1=~ m/^ENDMDL/)
          {
            $model++;
          }
        #print "$model $coordinates $hash3{$model}{$coordinates}[6] $hash3{$model}{$coordinates}[7] $hash3{$model}{$coordinates}[8]\n";

      }
     }
    }

    #foreach $z1 (sort keys %hash3)
    #  {
    #    foreach $z2(@spatial_array1){
    #      print "$z1 $z2";
    #      print "$hash3{$z1}{$z2}[6]\n";
    #      print "$z2\n";
    #    }
    #  }
} 
```

After using the Data::Dumper option it is giving me this kind of output

```
$VAR1 = {
      '11' => {
                '334' => [
                           'HETATM',
                           '115',
                           'CA',
                           'SEP',
                           'A',
                           '343',
                           '-0.201',
                           '-2.884',
                           '1.022',
                           '1.00',
                           '99.99',
                           'C'
                         ],

                '342' => $VAR1->{'11'}{'334'},

                '338' => $VAR1->{'11'}{'334'},

                '335' => $VAR1->{'11'}{'334'},
                '340' => $VAR1->{'11'}{'334'},

                '343' => $VAR1->{'11'}{'334'},

                '336' => $VAR1->{'11'}{'334'}
              },

      '7' => {

               '334' => $VAR1->{'11'}{'334'},

               '342' => $VAR1->{'11'}{'334'},

               '338' => $VAR1->{'11'}{'334'},

               '335' => $VAR1->{'11'}{'334'},

               '340' => $VAR1->{'11'}{'334'},

               '343' => $VAR1->{'11'}{'334'},

               '336' => $VAR1->{'11'}{'334'}

             },

      '2' => {

               '334' => $VAR1->{'11'}{'334'},

               '342' => $VAR1->{'11'}{'334'},
               ... 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T06:51:34.920

改变：

```
@cordivals=split(/\s+/,$data1); 
```

至：

```
my @cordivals=split(/\s+/,$data1); 
```

似乎正在发生的事情是所有哈希元素都包含对同一个数组变量的引用，因为您没有将变量设为该迭代的本地变量。

通常，您应该使用`my`所有变量。

# xml-parsing - Parse the xml store the values in HashMap.Attribute name as key and attribute value as value.

> ID：13263805
> 
> 赞同：1
> 
> 时间：2012-11-07T05:45:56.623
> 
> 标签：xml-parsing

Parse the below xml and store the values in HashMap.Attribute name should be key and attribute value should be value.

1.  List item

* * *

# web-applications - What technologies are known for ultra rapid development on web?

> ID：13263806
> 
> 赞同：0
> 
> 时间：2012-11-07T05:45:57.860
> 
> 标签：web-applications, web, programming-languages, rad

Leaving aside if X tool/language is open/closed source, expensive or not, the "beautifulness" of the language, etc., also performance not being such an important issue, and focusing only on what technologies (IDE + language + resources + frameworks + community size, etc.), are known for allowing programmers in the most quicker way to put ideas for a web app online.

I mean, there are different focuses on different technologies, which technologies are the most RAD oriented for web apps?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-31T14:03:58.753

看看 VCL.JS，它是一个开源环境，主要用于包含完整堆栈的业务应用程序。（前端、后端、组件、数据绑定、数据库等）

[http://vcljs.com](http://vcljs.com)

都带有友好的 API

```
var qur = new V.TQuery(this)
qur.SQL = “Select * from customers”;
qur.open();

var inp = V.TDBInput(this,’itm’);
inp.DataSet = qur;
inp.FieldName = “FirstName” 
```

# iphone - Adding Images to UITextView

> ID：13263808
> 
> 赞同：12
> 
> 时间：2012-11-07T05:46:09.150
> 
> 标签：iphone, objective-c, ipad, uiimageview, uitextview

In my app I have a `UITextView` and a button just below the text view to insert a photo into the `UITextView` while editing.

My requirement is that the user user is able to edit the text within, and insert images when needed.

Similar to StackOverflow's app's own `UITextView`:

![enter image description here](../Images/b3d5c8052d27b4ef0ff53dc2dad5a2d7.png)

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-07T05:49:40.623

您可以将图像视图添加为`UITextView`.

创建一个带有图像的 imageView：

```
UIImageView *imageView = [[UIImageView alloc] initWithImage:yourImage];
[imageView setFrame:yourFrame];
[yourTextView addSubview:imageView]; 
```

编辑：

为了避免重叠使用（感谢@chris）：

```
CGRect aRect = CGRectMake(156, 8, 16, 16);
[imageView setFrame:aRect];
UIBezierPath *exclusionPath = [UIBezierPath bezierPathWithRect:CGRectMake(CGRectGetMinX(imageView.frame), CGRectGetMinY(imageView.frame), CGRectGetWidth(yourTextView.frame), CGRectGetHeight(imageView.frame))];
yourTextView.textContainer.exclusionPaths = @[exclusionPath];
[yourTextView addSubview:imageView]; 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2014-04-23T06:41:09.653

如果仅将其添加为子视图，则某些文本可以位于图像“后面”。所以添加将“告诉”文本的代码，图像的该区域是不可访问的：

```
UIBezierPath *exclusionPath = [UIBezierPath    bezierPathWithRect:CGRectMake(CGRectGetMinX(imageView.frame),    
CGRectGetMinY(imageView.frame), CGRectGetWidth(imageView.frame), 
CGRectGetHeight(imageView.frame))];

textView.textContainer.exclusionPaths = @[exclusionPath]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T05:51:06.207

看看这个，[ios-5-rich-text-editing-series](http://ios-blog.co.uk/featured-posts/ios-5-rich-text-editing-series/)。在 iOS 5 中，您可以插入图像并使用 HTML 文本。您可能必须使用`UIWebview`和 webkit。

您还可以使用具有许多富文本编辑功能的[EGOTextView进行检查。](https://github.com/enormego/EGOTextView)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T05:52:37.217

只需添加为 TextView 的子视图，如下所示..

```
 [yourTextView addSubview:yourImageView]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-12T11:17:02.357

创建 UITextView 的子类并覆盖此方法

```
- (void)paste:(id)sender 
{
    NSData *data = [[UIPasteboard generalPasteboard] dataForPasteboardType:@"public.png"];

    if (data) 
    {

        NSMutableAttributedString *attributedString = [[self attributedText] mutableCopy];

        NSTextAttachment *textAttachment = [[NSTextAttachment alloc] init];

        textAttachment.image = [UIImage imageWithData:data scale:5];

        NSAttributedString *attrStringWithImage = [NSAttributedString attributedStringWithAttachment:textAttachment];

        [attributedString replaceCharactersInRange:self.selectedRange withAttributedString:attrStringWithImage];

        self.attributedText = attributedString;

    }
    else
    {

        UIPasteboard *pasteBoard = [UIPasteboard generalPasteboard];

        NSAttributedString *text = [[NSAttributedString alloc] initWithString:pasteBoard.string];

        NSMutableAttributedString *attributedString = [self.attributedText mutableCopy];

        [attributedString replaceCharactersInRange:self.selectedRange withAttributedString:text];

        self.attributedText = attributedString;

    }
} 
```

# jakarta-ee - printing the name of the extended class(using java) and which also checks whether that class(extended) has an _avi extension or not

> ID：13263810
> 
> 赞同：2
> 
> 时间：2012-11-07T05:46:26.230
> 
> 标签：jakarta-ee

I want a program which prints the name of the extended class(using java) and which also checks whether that class(extended) has an _avi extension or not.

# android - I want to convert this string to json object in android?

> ID：13263811
> 
> 赞同：0
> 
> 时间：2012-11-07T05:46:28.167
> 
> 标签：android, json

the string is

```
"categories": {
    "1": {
        "Id": "4",
        "name": "hm\u00c3\u0080\u00c2\u00afI\u00c3\u0084",
        "0": {
            "Id": "250",
            "name": "bpsI"
        },
        "1": {
            "Id": "251",
            "name": "tIcfw"
        },
        "2": {
            "Id": "252",
            "name": "C\u00c2\u00b4y"
        },
        "3": {
            "Id": "253",
            "name": "C\u00c2\u00bdnt{Kj\u00c2\u00b3"
        },
        "4": {
            "Id": "254",
            "name": "hntZiw"
        },
        "5": {
            "Id": "255",
            "name": "{]hmkn"
        },
        "6": {
            "Id": "256",
            "name": "Ncaw"
        },
        "7": {
            "Id": "294",
            "name": "FUnt\u00c3\u00a4mdnb\u00c3\u00b0"
        }
    },
    "2": {
        "Id": "257",
        "name": "Atkmkntbj\u00c2\u00b3"
    },
    "3": {
        "Id": "258",
        "name": "kv]ncnNz\u00c3\u00b0"
    },
    "4": {
        "Id": "259",
        "name": "tlm\u00c2\u00abv Uo\u00c3\u00b0kv",
        "0": {
            "Id": "308",
            "name": "t{Kmkdn"
        },
        "1": {
            "Id": "310",
            "name": "CeIvt{SmWnIvkv"
        },
        "2": {
            "Id": "311",
            "name": "a\u00c3\u00a4p\u00c3\u0085h"
        }
    },
    "5": {
        "Id": "260",
        "name": "hnt\mZw",
        "0": {
            "Id": "261",
            "name": "kn\na"
        },
        "1": {
            "Id": "262",
            "name": "Nm\\u00c3\u00b0"
        },
        "2": {
            "Id": "263",
            "name": "kvt]m\u00c3\u0080Svkv"
        },
        "3": {
            "Id": "264",
            "name": "ayqkn\u00c2\u00a1v"
        }
    },
    "6": {
        "Id": "265",
        "name": "kvs]jy\u00c3\u00b0kv",
        "0": {
            "Id": "266",
            "name": "hm\u00c2\u00a1v]b\u00c3\u00a4v"
        },
        "1": {
            "Id": "267",
            "name": "Fs\u00c3\u00a2 \mSv"
        },
        "2": {
            "Id": "268",
            "name": "A\phw"
        },
        "3": {
            "Id": "269",
            "name": "{]XnIcWw"
        },
        "4": {
            "Id": "270",
            "name": "{]XnI\u00c3\u0084"
        },
        "5": {
            "Id": "271",
            "name": "Ip\u00c3\u00b3mbva"
        },
        "6": {
            "Id": "272",
            "name": "]cnNbw"
        }
    },
    "7": {
        "Id": "273",
        "name": "tImfwkv",
        "0": {
            "Id": "274",
            "name": "Imgv\u00c2\u00a8I\u00c3\u0084"
        },
        "1": {
            "Id": "275",
            "name": "aWntSm\u00c2\u00a1v"
        },
        "2": {
            "Id": "276",
            "name": "bm{X"
        },
        "3": {
            "Id": "277",
            "name": "FUnt\u00c3\u00a4gvkv"
        },
        "4": {
            "Id": "295",
            "name": "Irjn]mTw"
        }
    },
    "8": {
        "Id": "278",
        "name": "Fgp\u00c2\u00afv",
        "0": {
            "Id": "279",
            "name": "kmlnXyw"
        },
        "1": {
            "Id": "280",
            "name": "Ie"
        },
        "2": {
            "Id": "281",
            "name": "lmkyw"
        },
        "3": {
            "Id": "282",
            "name": "Im\u00c3\u0080\u00c2\u00abq\u00c2\u00ac"
        },
        "4": {
            "Id": "283",
            "name": "^o\u00c2\u00a8\u00c3\u0080"
        },
        "5": {
            "Id": "284",
            "name": "Adnhv"
        }
    },
    "9": {
        "Id": "285",
        "name": "tNmtZym\u00c2\u00afcw",
        "0": {
            "Id": "286",
            "name": "C\u00c2\u00bdnt{Kj\u00c2\u00b3"
        },
        "1": {
            "Id": "287",
            "name": "km\u00c2\u00bc\u00c2\u00afnIw"
        },
        "2": {
            "Id": "288",
            "name": "A\u00c2\u00a1u\u00c3\u00afn\u00c2\u00a7v"
        },
        "3": {
            "Id": "289",
            "name": "\nbaw"
        }
    },
    "10": {
        "Id": "290",
        "name": "BiwkI\u00c3\u0084",
        "0": {
            "Id": "298",
            "name": "hnhml hm\u00c3\u0080jnIw"
        },
        "1": {
            "Id": "299",
            "name": "P\u00c3\u00b2Zn\w"
        },
        "2": {
            "Id": "300",
            "name": "skent{_j\u00c2\u00b3"
        },
        "3": {
            "Id": "301",
            "name": "a\u00c3\u00a4p\u00c3\u0085h"
        },
        "4": {
            "Id": "304",
            "name": "BZyIp\u00c3\u0080_m\"}},"11":{"Id":"291","name":"\u00c2\u00a2mknss^Uvkv","0":{"Id":"302","name":"dnb\u00c3\u00b0Ft\u00c3\u008c\u00c3\u00a4v"},"1":{"Id":"303","name":"hn\u00c3\u00b0\u00c2\u00b8\bv\u00c2\u00a1v"},"2":{"Id":"305","name":"Bhiyap\u00c3\u00afv"},"3":{"Id":"306","name":"D
        ]ImckvacW"},"4":{"Id":"307","name":"Ncahm\u00c3\u0080jnIw"},"5":{"Id":"312","name":"am{
            Sn-tam-Wnb\u00c3\u00b0"}}}} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T05:50:31.420

将此字符串提供给 JSONObject 构造函数的输入参数。

```
String str="";//Give your json string here
JSONObject object= new JSONObject(str); 
```

注意：要插入`"`使用转义序列，所以添加`"`by `\"`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:52:31.167

如果你的字符串从这个“{”开始然后把你的整个字符串放进去

```
 JSONObjectjb=new JSONObject(YourString);//it convert into json object 
```

如果您的字符串从这个“[”开始，那么将您的整个字符串放入：-

```
 JSONArray jr=new JSONArray(YourString); //it convert into jsonArray 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T05:53:04.860

只需将您的字符串作为输入参数传递给 JSONObject 构造函数。

```
String test="your json string";
JSONObject object= new JSONObject(test); 
```

您还可以使用[Gson](http://code.google.com/p/google-gson/)：

```
String test = "your json string";
Gson gson = new Gson();
gson.toJson(test); 
```

它是一个免费和开源的 JSON 解析库，可以与 Android 完美配合，是的，真的就是这么简单！！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T05:55:59.623

试试这个工具来验证你的 json 字符串：http: [//jsonlint.com/](http://jsonlint.com/)

我认为您提供的 JSON 字符串无效。

要将有效的 JSON 字符串转换为 JSON 对象，您可以尝试类似的方法；

```
JSONObject object = new JSONObject("your valid json string here"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-07T06:05:09.193

你的 json 无效你可以在这里查看[jsonviewer.stack.hu](http://jsonviewer.stack.hu)

JsonArray 中的第 10 个元素有问题：

```
"10": {
        "Id": "290",
        "name": "BiwkI\u00c3\u0084",
        "0": {
            "Id": "298",
            "name": "hnhml hm\u00c3\u0080jnIw"
        },
        "1": {
            "Id": "299",
            "name": "P\u00c3\u00b2Zn\w"
        },
        "2": {
            "Id": "300",
            "name": "skent{_j\u00c2\u00b3"
        },
        "3": {
            "Id": "301",
            "name": "a\u00c3\u00a4p\u00c3\u0085h"
        },
        "4": {
            "Id": "304",
            "name": "BZyIp\u00c3\u0080_m/"
          }

    }, 
```

`"name": "BZyIp\u00c3\u0080_m/"`从这一行中，如果您最后删除，`"/"`那么您将 String 转换为 JSONObject

```
JSONObject object= new JSONObject(str); 
```

或者这是您的完整有效 json String ：

```
{"categories": {
    "1": {
        "Id": "4",
        "name": "hm\u00c3\u0080\u00c2\u00afI\u00c3\u0084",
        "0": {
            "Id": "250",
            "name": "bpsI"
        },
        "1": {
            "Id": "251",
            "name": "tIcfw"
        },
        "2": {
            "Id": "252",
            "name": "C\u00c2\u00b4y"
        },
        "3": {
            "Id": "253",
            "name": "C\u00c2\u00bdnt{Kj\u00c2\u00b3"
        },
        "4": {
            "Id": "254",
            "name": "hntZiw"
        },
        "5": {
            "Id": "255",
            "name": "{]hmkn"
        },
        "6": {
            "Id": "256",
            "name": "Ncaw"
        },
        "7": {
            "Id": "294",
            "name": "FUnt\u00c3\u00a4mdnb\u00c3\u00b0"
        }
    },
    "2": {
        "Id": "257",
        "name": "Atkmkntbj\u00c2\u00b3"
    },
    "3": {
        "Id": "258",
        "name": "kv]ncnNz\u00c3\u00b0"
    },
    "4": {
        "Id": "259",
        "name": "tlm\u00c2\u00abv Uo\u00c3\u00b0kv",
        "0": {
            "Id": "308",
            "name": "t{Kmkdn"
        },
        "1": {
            "Id": "310",
            "name": "CeIvt{SmWnIvkv"
        },
        "2": {
            "Id": "311",
            "name": "a\u00c3\u00a4p\u00c3\u0085h"
        }
    },
    "5": {
        "Id": "260",
        "name": "hnt\mZw",
        "0": {
            "Id": "261",
            "name": "kn\na"
        },
        "1": {
            "Id": "262",
            "name": "Nm\\u00c3\u00b0"
        },
        "2": {
            "Id": "263",
            "name": "kvt]m\u00c3\u0080Svkv"
        },
        "3": {
            "Id": "264",
            "name": "ayqkn\u00c2\u00a1v"
        }
    },
    "6": {
        "Id": "265",
        "name": "kvs]jy\u00c3\u00b0kv",
        "0": {
            "Id": "266",
            "name": "hm\u00c2\u00a1v]b\u00c3\u00a4v"
        },
        "1": {
            "Id": "267",
            "name": "Fs\u00c3\u00a2 \mSv"
        },
        "2": {
            "Id": "268",
            "name": "A\phw"
        },
        "3": {
            "Id": "269",
            "name": "{]XnIcWw"
        },
        "4": {
            "Id": "270",
            "name": "{]XnI\u00c3\u0084"
        },
        "5": {
            "Id": "271",
            "name": "Ip\u00c3\u00b3mbva"
        },
        "6": {
            "Id": "272",
            "name": "]cnNbw"
        }
    },
    "7": {
        "Id": "273",
        "name": "tImfwkv",
        "0": {
            "Id": "274",
            "name": "Imgv\u00c2\u00a8I\u00c3\u0084"
        },
        "1": {
            "Id": "275",
            "name": "aWntSm\u00c2\u00a1v"
        },
        "2": {
            "Id": "276",
            "name": "bm{X"
        },
        "3": {
            "Id": "277",
            "name": "FUnt\u00c3\u00a4gvkv"
        },
        "4": {
            "Id": "295",
            "name": "Irjn]mTw"
        }
    },
    "8": {
        "Id": "278",
        "name": "Fgp\u00c2\u00afv",
        "0": {
            "Id": "279",
            "name": "kmlnXyw"
        },
        "1": {
            "Id": "280",
            "name": "Ie"
        },
        "2": {
            "Id": "281",
            "name": "lmkyw"
        },
        "3": {
            "Id": "282",
            "name": "Im\u00c3\u0080\u00c2\u00abq\u00c2\u00ac"
        },
        "4": {
            "Id": "283",
            "name": "^o\u00c2\u00a8\u00c3\u0080"
        },
        "5": {
            "Id": "284",
            "name": "Adnhv"
        }
    },
    "9": {
        "Id": "285",
        "name": "tNmtZym\u00c2\u00afcw",
        "0": {
            "Id": "286",
            "name": "C\u00c2\u00bdnt{Kj\u00c2\u00b3"
        },
        "1": {
            "Id": "287",
            "name": "km\u00c2\u00bc\u00c2\u00afnIw"
        },
        "2": {
            "Id": "288",
            "name": "A\u00c2\u00a1u\u00c3\u00afn\u00c2\u00a7v"
        },
        "3": {
            "Id": "289",
            "name": "\nbaw"
        }
    },
"10": {
        "Id": "290",
        "name": "BiwkI\u00c3\u0084",
        "0": {
            "Id": "298",
            "name": "hnhml hm\u00c3\u0080jnIw"
        },
        "1": {
            "Id": "299",
            "name": "P\u00c3\u00b2Zn\w"
        },
        "2": {
            "Id": "300",
            "name": "skent{_j\u00c2\u00b3"
        },
        "3": {
            "Id": "301",
            "name": "a\u00c3\u00a4p\u00c3\u0085h"
        },
        "4": {
            "Id": "304",
            "name": "BZyIp\u00c3\u0080_m"
          }

    },
"11":{"Id":"291","name":"\u00c2\u00a2mknss^Uvkv",
"0":{"Id":"302","name":"dnb\u00c3\u00b0Ft\u00c3\u008c\u00c3\u00a4v"},
"1":{"Id":"303","name":"hn\u00c3\u00b0\u00c2\u00b8\bv\u00c2\u00a1v"},
"2":{"Id":"305","name":"Bhiyap\u00c3\u00afv"},
"3":{"Id":"306","name":"D]ImckvacW"},
"4":{"Id":"307","name":"Ncahm\u00c3\u0080jnIw"},
"5":{"Id":"312","name":"am{Sn-tam-Wnb\u00c3\u00b0"}
},
}
} 
```

# html - post form multidimensional array in coldfusion

> ID：13263812
> 
> 赞同：1
> 
> 时间：2012-11-07T05:46:31.007
> 
> 标签：html, forms, post, coldfusion

I am trying to post the following :

`<input name="answer[1][]" value="Answer 1 question 1"/>` `<input name="answer[1][]" value="Answer 2 question 1"/>`

`<input name="answer[2][]" value="Answer 1 question 2"/>` `<input name="answer[2][]" value="Answer 2 question 2"/>`

Unfortunately I receive a coldfusion error when posting:

Expression-Element ANSWER is undefined in a Java object of type class [Ljava.lang.String;.

Anyone has an idea on how to solve this problem?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T08:51:19.157

您不能只调用表单字段“answers[1][]”并希望 ColdFusion 将如何计算出该字符串 - 因为这就是所有“answers[1][]” 是：一个字符串 - 应该被解释作为数组引用。CF 不是那样工作的。

即使它*确实*像那样工作，您也需要在数组表示法的第二维中输入一个值：`answers[1][]`is not valid CFML。

当变量看起来与您期望的不同时，第一个故障排除步骤是将变量转储出去（或者在这种情况下，将`form`范围转储出去）：

```
<cfdump var="#form#"> 
```

这将很快表明您没有数组，您在表单范围内有两个变量：一个被调用`answer[1][]`，另一个`answer[2][]`（每个变量都被称为那个）。CF 中的点符号规则不允许将其引用为`form.answer[1][]`，您需要将其引用为`form["answer[1][]"]`.

从 ColdFusion 10 开始，通过在 Application.cfc 中进行设置，可以在表单范围内将具有相同名称的表单变量设置为数组：

```
 this.sameformfieldsasarray = true 
```

但是，显然（？）仅适用于一维数组。

如果你想要一个多维数组，你必须自己动手做一个循环，遍历表单范围和一个变量名检查，看看每个值应该进入哪个数组/维度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T00:28:58.443

感谢 Adam 和 Ben 的回答，他们非常有帮助，并促使我解决了这个难题。我经常在 php 中编码，其中使用 name="xxx[]" 在 $_POST 变量中创建一个数组。现在 Coldfusion 会抛出错误，因为不需要添加“[]”。

我所做的是： `<input name="answer_1" value="Answer 1 question 1"/>` `<input name="answer_1" value="Answer 2 question 1"/>`

`<input name="answer_2" value="Answer 1 question 2"/>` `<input name="answer_2" value="Answer 2 question 2"/>`

Coldfusion 将返回 2 个结构“answer_1”和“answer_2”，其中包含 2 个逗号分隔的字符串。

但如果我的字符串包含逗号，例如：答案 1，问题 1

当我尝试转换列表中的字符串时，这会给我带来问题。

使用方法 getPageContext().getRequest().getParameterMap() Codfusion 转换数组中逗号分隔的字符串：

结构 answer_1 将包含一个数组：

array[1]="回答 1 问题 1" array[2]="回答 1 问题 2"

这正是我所需要的！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T06:42:52.973

可能发生的情况是，ColdFusion 正在尝试使用键“answer[1][]”创建 FORM Scope，并将其评估为对 ColdFusion/Java 无效的变量名的表达式。根据您想要执行的操作，您可能必须将输入字段重命名为 answer_Q_A aka answer_1_1、answer_1_2、answer_2_1 之类的名称，然后从那里处理成一个数组。

```
<cfset answerArray = arrayNew(2)>

<cfloop collection="#form#" item="thisField">
     <cfif left(thisField,6) eq 'ANSWER' and listLen(thisField,'_') eq 3>
         <cfset answerArray[listGetAt(thisField,2,'_')][listGetAt(thisField,3,'_')] = form[thisField]>
     </cfif>
</cfloop> 
```

# c# - 对于 jpg 图像，RawData 等于 null

> ID：13263818
> 
> 赞同：0
> 
> 时间：2012-11-07T05:47:01.287
> 
> 标签：c#, pdf, itextsharp

我想将图像添加到 pdf 文件。我为此使用 iTextSharp。我有以下代码：

```
var imageBanner = iTextSharp.text.Image.GetInstance(bannerImagePath); 
```

问题在于图像的`RawData`属性相等`NULL`，`jpg`但`png`一切都可以。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:48:33.743

请阅读“iText in Action”一书的第 10 章。`Image`类是抽象的。它对不同的图像类型有不同的实现。PDF 中存在一些图像类型。例如：JPG (DCTDecode) 可以直接复制到 PDF 中。PDF中不存在PNG、GIF等文件类型，需要先转换为`raw data`；它们稍后在此过程中被压缩（FlateDecode）。

由于在处理 JPG 时绝对不需要任何“处理”，因此在创建原始图像时不会浪费任何内存。如果`RawData`不是这样会很糟糕`null`，因此我的问题是：为什么这对你来说是个问题？你应该高兴的`RawData`是`null`！

# xstream - converting ArrayList>> to xml and back to object

> ID：13263819
> 
> 赞同：1
> 
> 时间：2012-11-07T05:47:15.407
> 
> 标签：xstream

How to convert ArrayList>> to xml and back to object ? Pls give me reply soon.. So Urgent

Is there any way to do it in xstream or suggest me a manual way.

I am using Restful Webservice - java

How ll the xml look like?

# java - spring-social-google not sending clientId/clientKey

> ID：13263821
> 
> 赞同：3
> 
> 时间：2012-11-07T05:47:27.643
> 
> 标签：java, spring, oauth

I'm attempting to add OAuth support to an existing Spring webapp to allow people to login with their Google/Facebook/Twitter/etc. accounts. To do this I'm using the 'spring-social' framework, and the 'spring-social-google' library for it. I'm also trying to do this while working within a number of constraints:

*   The existing webapp does not use spring-security for authentication or for controlling access to resources, it provides its own form-based authentication.
*   The existing webapp does not track the authenticated user details using the servlet-container's `Principal`, instead it stores a reference to the authenticated user in the HTTP session.
*   The existing webapp does not (and cannot) have a Spring DispatcherServlet bound to the webapp root URL (i.e. `/`).

Accounts in the database are uniquely keyed by e-mail, so really all I'm attempting to do is glue together a flow that goes roughly like:

```
Login Page (user chooses between OAuth and direct login)
    -> <Provider OAuth Flow>  (user completes OAuth authorization)
        -> OAuth Callback URL (grab user email, check for existing account, create if needed) 
            -> Post-login Landing Page (done) 
```

Anyhow, the limitations noted above caused a variety of problems, most of which I've managed to find workarounds for. However I'm getting some bizarre behavior from the Google OAuth connector (Twitter and Facebook appear to work correctly). Basically, it appears that it is not sending the OAuth `clientId` or `clientSecret` during the final request to Google:

```
DEBUG: org.springframework.web.client.RestTemplate - Writing [
    {code=[4/dVVrFDpNLDGTmXCuuQj6fcfaetEU.UkLPQd7NOLYbgrKXntQAax0INYiydQI], 
     redirect_uri=[http://localhost:8080/oauth/signin/google], 
     grant_type=[authorization_code]}] as "application/x-www-form-urlencoded" 
```

This returns a code 400 ("bad request").

If I head over to [hurl.it](http://hurl.it/) and POST the same data to the same URL (https://accounts.google.com/o/oauth2/token) and manually add in the `client_id` and `client_secret` values, the call returns a successful response.

So what could be causing the Google connector to omit these values?

For reference, I'm including the spring-social-google library in my project like:

```
 <dependency>
        <groupId>org.springframework.social</groupId>
        <artifactId>spring-social-google</artifactId>
        <version>1.0.0.M1</version>
    </dependency> 
```

...and then in my `@Configuration` class I've got:

```
@Bean
@Scope(value="singleton", proxyMode=ScopedProxyMode.INTERFACES) 
public ConnectionFactoryLocator connectionFactoryLocator() {
    ConnectionFactoryRegistry registry = new ConnectionFactoryRegistry();

    registry.addConnectionFactory(
            new GoogleConnectionFactory(
                    "<google client id>",  
                    "<google secret key>"));

    registry.addConnectionFactory(
            new FacebookConnectionFactory(
                    "<facebook client id>", 
                    "<facebook secret key>"));

    registry.addConnectionFactory(
            new TwitterConnectionFactory(
                    "<twitter client id>",   
                    "<twitter secret key>"));

    return registry;
} 
```

The rest of what I'm using is pretty much standard straight out of the [spring-social-showcase](https://github.com/SpringSource/spring-social-samples/tree/master/spring-social-showcase) example (albeit hacked up to remove extraneous things and to work within the constraints noted above). Strangely, attempting to log in with Google does correctly show the OAuth authorization page on Google with my app/project name correctly displayed. The error happens after I hit the "Allow" button to authorize the OAuth login and return to the webapp.

Anyhow, what might be causing this issue, and how might it be fixed?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-19T00:49:43.473

您可能没有在 google 开发者控制台中打开 google+ api。

这是与获取 OAuth 2 令牌或 api 密钥不同的任务。

如果您还没有这样做

1.  [http://console.developers.google.com](http://console.developers.google.com)

2.  导航到您的项目。

3.  点击“API”。

4.  检查“Google+ API”是否在已启用 API 的列表中。如果不是，请浏览并启用它。

# amazon-ec2 - 在 AWS 上托管 HTTPS PHP 网站的最便宜、未来可扩展的方式？

> ID：13263833
> 
> 赞同：3
> 
> 时间：2012-11-07T05:48:09.287
> 
> 标签：amazon-ec2, amazon-web-services

我已经配置并运行了一个 RDS 实例，但目前我们仍在我们的旧 Web 主机上运行。我们希望通过在 AWS 中托管代码来减少延迟。

两个问题：1) 未来的可扩展性 2) 冗余......不是一个大问题，但 AWS 偶尔会出现故障。

有没有人遇到过这个问题，他们只需要通过 PHP/Ruby 等语言在 2 个地区廉价地运行本质上是数据库接口的东西？（其中一个作为故障转移）

亚马逊是否提供了自动管理资源的东西，而且还具有成本效益？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:03:16.917

Amazon 的[Elastic Beanstalk](http://aws.amazon.com/elasticbeanstalk/)服务原生支持 PHP 和 Ruby 应用程序，并允许您自动扩展应用程序服务器。

在第二个区域中，从您的主服务器运行一个从 RDS 实例（在 RDS 中很容易设置），并在那里设置另一个 beanstalk 以作为故障转移。

# asp.net - 如果我使用网络场/集群作为网络主机，我如何启用“保持活动”，并且他们不尊重它？

> ID：13263834
> 
> 赞同：0
> 
> 时间：2012-11-07T05:48:08.900
> 
> 标签：asp.net, performance, keep-alive, yslow

我的公司网站有一个虚拟主机，它有 47 个页面 (asp.net 4/vb)。所有速度测试，Google、Yslow、Gtmetrix 等，都希望我**启用 keep-alive**。我已经通过 IIS7 将 http 标头请求设置为在 30 分钟后过期。

我向我的虚拟主机提交了一张票，他们说他们不提供保活。这是否意味着如果我留在这个虚拟主机，我会被困住，或者我可以自己做些什么，不管我的虚拟主机是什么？感谢您的任何指导！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T00:05:11.973

如果虚拟主机不支持 keep-alive，我认为您无法自行启用它。他们很可能不允许它被覆盖。

我认为保持活动状态很好，但与 gzip 压缩、适当缓存和减少 HTTP 请求数量等一些关键实践相比，影响较小。

在您的情况下，如果保持活动的需求非常重要，您可以考虑切换网络主机。

# grails - 我可以从终端调用 grails 控制器动作吗？

> ID：13263842
> 
> 赞同：0
> 
> 时间：2012-11-07T05:48:36.743
> 
> 标签：grails, ubuntu

我想从**终端**调用在控制器页面中编写的**操作**，以便应用程序无需正常单击即可工作。

 **可能吗？如果有怎么办？

我使用*Grails*作为编程语言，使用*Ubuntu*作为操作系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:14:20.023

您可以在 curl 的帮助下执行此任务。sudo apt-get install curl

curl full_path_of_action 例如：

curl [http://example.com:8080/ApplicationName/controllerName/actionName](http://example.com:8080/ApplicationName/controllerName/actionName)**

# iphone - 如何在 iPhone 的运行时（单击相机）使用 UISlider 更改视频或图像的亮度？

> ID：13263843
> 
> 赞同：0
> 
> 时间：2012-11-07T05:48:37.537
> 
> 标签：iphone, ipad, ios6, xcode4.5

```
-(IBAction)changeslidervalue:(id)
   {
      imageView.alpha = sliderValue.value;
   } 
```

我正在使用此代码，任何人都可以帮助我或解决我的问题..

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:29:59.560

Apple 开发人员有一个演示 GLImageProcessing 用于图像相关处理。你可以在这里找到它[http://developer.apple.com/library/ios/#samplecode/GLImageProcessing/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/GLImageProcessing/Introduction/Intro.html)。在此处导入您的图像，处理后您需要在图像视图中再次保存它。实际上，这个演示正在使用 OpenGL ES api。（如果此演示使用完整供您在此处发表评论，我将为您提供将 EAGLView 更改为图像视图的代码）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:12:57.287

您是否尝试过更改屏幕亮度而不是更改视频 alpha？

试试这个代码：

```
-(IBAction)changeslidervalue:(id)
{
    [[UIScreen mainScreen] setBrightness:sliderValue.value];
} 
```

# winforms - 在窗口应用程序中上传图像？C#.net？

> ID：13263846
> 
> 赞同：0
> 
> 时间：2012-11-07T05:48:56.833
> 
> 标签：winforms

在窗口应用程序中，我有一个注册表单，其中一个选项是上传用户的照片。那么我该如何做到这一点，通常在 Web 应用程序中，我们有文件上传控件使用它我们可以将图像保存在我们的项目中，就像我想将用户的照片保存在我系统的任何驱动器中一样。你能帮助我吗。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:02:33.830

您可以使用文件打开对话框控件。您可以检索文件的物理路径并将文件复制到系统特定位置。

样本：

```
string fulllocimage = openFileDialog1.FileName;
File.Copy(fulllocimage, Path.Combine(@"C:\UploadedImage\",Path.GetFileName(fulllocimage)); 
```

# android - android中应用升级到新版本时如何保留全局变量？

> ID：13263855
> 
> 赞同：1
> 
> 时间：2012-11-07T05:49:48.050
> 
> 标签：android, versioning, upgrade

在我的 android 应用程序中，用户必须通过同意提供其电子邮件 ID 的条款和条件进行注册。如果用户将应用程序升级到下一个版本，我不应该得到协议页面或电子邮件注册窗口。我正在使用全局变量来控制它，但是如果用户将应用程序升级到更新版本，全局变量会被重置，因此用户会再次获得协议页面和注册窗口。那么我该怎么做呢？提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T06:02:16.877

您有两种方法可以在本地媒体上存储数据。

*   `Shared Preference`
*   `SQLite Database`

**我什么时候应该使用共享偏好？**

如果您的存储变量数量不多并且应该是原始值，那么您可以使用`Shared Preference`.

有关示例代码，请参阅[此](http://saigeethamn.blogspot.in/2009/10/shared-preferences-android-developer.html)。

**或者**

**我什么时候应该使用 SQLite 数据库？**

如果您必须存储变量的数量并且这些变量不是原始的，并且您需要长时间使用该数据，那么您应该使用`SQLite Database`.

有关示例代码，请参阅[此](http://www.vogella.com/articles/AndroidSQLite/article.html)。

现在它的**`Depends on you as per your requirement.`**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T05:55:08.930

您可以使用[SharedPreferences](http://developer.android.com/reference/android/content/SharedPreferences.html)

```
class VersionInfo {

private VersionInfo() {}

private static final String PREF_VERCODE = "VERCODE";

public static final VersionInfo INSTANCE = new VersionInfo();

void setVersionCode(Context ctx, int ver) {
     PreferenceManager.getDefaultSharedPreferences(ctx).edit().putInt(PREF_VERCODE, ver).commit();
    }

int getVersionInfo(Context ctx) {
PreferenceManager.getDefaultSharedPreferences(ctx).getInt(PREF_VERCODE, 1);
}
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T06:09:47.433

我使用这段代码在我的应用程序中显示*ChangeLog*以检测版本是否已更改并相应地显示*ChangeLog*。相同的逻辑可用于显示或不显示*协议*，视情况而定。

这些是我的全球宣言：

```
// FOR STORING VERSION CODE IN SHAREDPREFERENCES
private static final String PRIVATE_PREF = "my_app_name";
private static final String VERSION_KEY = "version_number";

try {
        // GET THE PREFERENCE SET FOR THE CHANGELOG
    final SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getBaseContext());

    final boolean showChanges = prefs.getBoolean("displayChangelog", false);

    PackageInfo pkgInfo = getPackageManager().getPackageInfo(getPackageName(), 0);

    // SET THE CURRENT VERSION IN SHAREDPREFERENCES
    SharedPreferences sharedPrefs = getSharedPreferences(PRIVATE_PREF, Context.MODE_PRIVATE);

    // SAVED VERSION CODE
    int savedVersionCode = sharedPrefs.getInt(VERSION_KEY, 0);String.valueOf(savedVersionCode));

    // GET NEW VERSION CODE
    int currentVersionCode = pkgInfo.versionCode;String.valueOf(currentVersionCode));

    Editor editor = sharedPrefs.edit();
    editor.putInt(VERSION_KEY, currentVersionCode);
    editor.commit();

    if (showChanges == false)   {

        /*****  DISPLAY THE CHANGELOG   *****/
        // DISPLAY DIALOG WHEN THE APPLICATION IS INSTALLED FOR THE FIRST TIME
            SharedPreferences.Editor editor = prefs.edit();
            editor.putBoolean("displayChangelog", true);
    editor.commit();

    } else if (showChanges == true && currentVersionCode > savedVersionCode)    {

        /*****  DISPLAY THE CHANGELOG AFTER AN UPGRADE  *****/
        // DISPLAY DIALOG CHANGELOG AFTER AN UPGRADE
            SharedPreferences.Editor editor = prefs.edit();
            editor.putBoolean("displayChangelog", true);
    editor.commit();
        }

    } catch (Exception e) {
        e.printStackTrace();
    } 
```

编辑：与此代码一起，我还使用`Preferences`XML 文件来提供再次查看*ChangeLog*的能力，并存储用户首选项的状态以在下次运行时显示*ChangeLog 。*为此的 XML：

```
<PreferenceCategory
    android:key="changeLogOptions"
    android:title="Changelog Options" >
    <Preference
        android:key="changeLog"
        android:summary="See what has changed in the current version"
        android:title="What\&apos;s New" >
    </Preference>
    <CheckBoxPreference
        android:defaultValue="false"
        android:key="displayChangelog"
        android:summary="@string/settings_changelog"
        android:title="Hide The Changelog" >
    </CheckBoxPreference>
</PreferenceCategory> 
```

# sql - 交叉连接中的 SQL Server 子查询返回错误

> ID：13263856
> 
> 赞同：1
> 
> 时间：2012-11-07T05:49:58.847
> 
> 标签：sql, sql-server-2008, tsql, subquery, cross-join

我有桌子`A`，`B`和`C`。现在表`A`作为列`A1`（主键），表`B`有列`B1`（主键），表`C`有列`A1`（表的外键`A.A1`），`B1`（表的外键`B.B1`）。

现在我正在编写一个查询，其中列出了所有行`A`和`B`一个位列，如果在表中找到匹配的行，则该列将设置为 1，`C`否则为 0。

```
SELECT 
     ISNULL((SELECT CAST(1 AS BIT) 
             FROM C 
             WHERE C.A1 = A.A1 AND C.B1 = B.B1),0) AS [TAG],
     A.A1,
     B.B1
FROM A CROSS JOIN B 
```

`Subquery returned more than 1 value.`即使在组合`A1`和列后查询没有重复行，此查询也会产生错误`B1`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:14:07.427

试试这个，

```
SELECT  CAST(COALESCE(c.b1, 0) AS BIT)   TAG
FROM
        (
            SELECT  A1, B1
            FROM    A CROSS JOIN B
        ) D LEFT JOIN C
                ON  c.A1 = d.A1 AND
                    c.B1 = D.B1 
```

# android - Android：从超级视图中删除视图

> ID：13263857
> 
> 赞同：16
> 
> 时间：2012-11-07T05:50:00.437
> 
> 标签：android

如何从其超级视图中删除视图？在 iOS 中，它是通过发送`removeFromSuperview`到应该删除的视图来执行的。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-11-07T05:53:30.167

您可以使用[`getParent()`](http://developer.android.com/reference/android/view/View.html#getParent())获取 的父级`View`，然后调用[`removeView()`](http://developer.android.com/reference/android/view/ViewGroup.html#removeView(android.view.View))它。

```
View yourView = ...;
ViewGroup viewParent = (ViewGroup) yourView.getParent();
viewParent.removeView(yourView); 
```

# emacs - 如何使emacs不格式化右括号（保持缩进）

> ID：13263862
> 
> 赞同：0
> 
> 时间：2012-11-07T05:50:24.633
> 
> 标签：emacs, formatting, elisp, code-formatting

例如当我写

```
fixlocale() {
    export LANG='en_US.UTF-8';
    export LC_CTYPE='en_US.UTF-8';
} 
```

并添加右括号它没有缩进但我不喜欢它，我想缩进右括号：

```
fixlocale() {
    export LANG='en_US.UTF-8';
    export LC_CTYPE='en_US.UTF-8';
    } 
```

不仅在 bash 中，我也想在 C、C++ 中的任何地方缩进右括号。我如何告诉 emacs 缩进右括号以及代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:58:28.583

在 C 中让这个工作我做了

```
(c-set-offset 'substatement-open '+)
(c-set-offset 'defun-open '+) 
```

这告诉它缩进语句，例如 if、while、for....，第二个告诉它缩进函数定义（不确定你是否想要 for 语句或函数，所以我两者都给了）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T09:00:57.313

在默认情况下打开的 Shell 脚本模式下，最后一个分号的 Cj 将根据要求换行和缩进。

如果已经在该行并且缩进错误，则命令“electric-brace”可能会执行此操作。它很容易实现：基本上是 (insert "}") 后跟 (indent-relative)

# c# - 特殊语法的 C# 人类可读格式

> ID：13263867
> 
> 赞同：0
> 
> 时间：2012-11-07T05:50:47.470
> 
> 标签：c#, syntax, tags, formatting, human-readable

大家好，我需要一些帮助来创建一个将普通语法转换为人类可读格式的函数：

语法如下所示：

```
[OPENTAG]
(type)name:value
[OPENTAG]
(type)name:value
(type)name:value
(type)name:value
[/CLOSETAG]
[/CLOSETAG] 
```

想把它变成这样：

```
    [开放标签]
         （类型）名称：值
         [开放标签]
             （类型）名称：值
             （类型）名称：值
             （类型）名称：值
         [/关闭标签]
    [/关闭标签]

```

```
 private string textFormater(string input)
    {
        string[] lines = Regex.Split(input, "\r\n");
        int tabs = 0;
        string newtext = "";
        foreach (string line in lines)
        {

            Match m = Regex.Match(line, "\\[.*\\]");
            bool isTop;
            bool isTopClose = false;
            string tabtext = "";

            if (m.Success)
            {
                if (line.Contains("/"))
                {
                    tabs--;
                    isTopClose = true;
                }
                else
                {
                    tabs++;
                }
                isTop = true;
            }
            else
            {
                isTop = false;
            }

            if (isTop && !isTopClose && tabs == 1)
            {
                newtext += line;
            }
            else if (isTop && !isTopClose)
            {
                for (int i = 1; i <= tabs - 1; i++)
                {
                    tabtext += "\t";
                }
                newtext += "\r\n" + tabtext + line;
            }
            else
            {
                for (int i = 1; i <= tabs; i++)
                {
                    tabtext += "\t";
                }
                newtext += "\r\n" + tabtext + line;
            }

        }
        return newtext;
    } 
```

我有 atm 解决方案，但代码如此混乱和缓慢，在 2mb 的文件中需要很长时间 :) 感谢您的帮助！

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:18:47.430

尝试`StringBuilder`为您的输出文本使用 a 而不仅仅是一个字符串，这应该会加快速度。

编辑：

这是做你想做的吗？

```
private static string textFormater2(string input)
    {
        string[] lines = Regex.Split(input, "\r\n");
        int tabCount = 0;
        StringBuilder output = new StringBuilder();

        using (StringReader sr = new StringReader(input))
        {
            string l;
            while (!string.IsNullOrEmpty(l = sr.ReadLine()))
            {
                if (l.Substring(0, 1) == "[")
                    if (l.Contains('/'))
                        tabCount--;

                string tabs = string.Empty;
                for (int i = 0; i < tabCount; i++)
                    tabs += "\t";

                output.AppendLine(tabs + l);

                if (l.Substring(0, 1) == "[")
                    if (!l.Contains('/'))
                        tabCount++;
            }
        }

        return output.ToString();
    } 
```

# jdeveloper - Count Print Report In JDE (RDA)

> ID：13263869
> 
> 赞同：0
> 
> 时间：2012-11-07T05:50:59.843
> 
> 标签：jdeveloper, jdedwards

Have any of you can provide me some idea about how to check how many times the report have been print by different user_ID in JDE (RDA)? Based on what I knew the print count system function was use to determine how many page of the report and not how many times the report have been printed. Is that any system function that I can use to find out how many times the report has been printed?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T16:57:18.073

You can run a query on the job control status table (F986110) to see how many times the report has ran. Here is the query you need to use:

```
select count(1) from SVM812.F986110 where JCFNDFUF2 like 'REPORTNAME%'; 
```

You can of course code a business function that would return a count based on a report id parameter.

Happy coding

# node.js - 猫鼬一直有错误：未经授权的简单collection.find（）

> ID：13263873
> 
> 赞同：0
> 
> 时间：2012-11-07T05:51:19.437
> 
> 标签：node.js, mongodb, mongoose

尝试了大约 3 个小时将 a 翻译`db.collection('collection-name').find()`为 mongoose，但似乎永远无法验证`find()`.

堆栈跟踪：

```
Error: unauthorized db:parks ns:parks.parkpoints lock type:0 client:127.2.132.1
at Promise.error (/var/lib/user/app-root/runtime/repo/node_modules/mongoose/lib/promise.js:88:38)
at cb (/var/lib/user/app-root/runtime/repo/node_modules/mongoose/lib/query.js:1454:29)
at /var/lib/user/app-root/runtime/repo/node_modules/mongoose/lib/utils.js:408:16
at /var/lib/user/app-root/runtime/repo/node_modules/mongodb/lib/mongodb/cursor.js:146:30
at /var/lib/user/app-root/runtime/repo/node_modules/mongodb/lib/mongodb/cursor.js:188:32
at /var/lib/user/app-root/runtime/repo/node_modules/mongodb/lib/mongodb/cursor.js:504:39
at Cursor.close (/var/lib/user/app-root/runtime/repo/node_modules/mongodb/lib/mongodb/cursor.js:776:5)
at [object Object].<anonymous> (/var/lib/user/app-root/runtime/repo/node_modules/mongodb/lib/mongodb/cursor.js:504:21)
at [object Object].g (events.js:156:14)
at [object Object].emit (events.js:88:20)
npm info Sample-App@1.0.0 Failed to exec start script 
```

`Connection.once('open')`事件被命中，所以连接不应该是问题，但我一直在`console.log("find() error");`.

有人知道发生了什么吗？

*   数据库名称：公园
*   集合名称：parkpoints
*   猫鼬版本：3.3.1
*   MongoDB版本：2.2.0

我仔细检查了用户、通行证、主机和端口的值，这些不应该是问题的根源。

```
self.connectDb = function(callback){
mongoose.connection.on('error', function(err){
  console.log("connection error");
  throw err;});
mongoose.connection.once('open', function(){
  callback();
  self.Parkpoint=mongoose.connection.model('Parkpoint', 
           new Schema({ Name: String, pos: [Number]})); 

  self.Parkpoint.find().exec(function(err, names) {
    if(err){
      console.log("find() error");
      throw err};
     console.log("names: "+names);
    res.header("Content-Type:","application/json");
    res.end(JSON.stringify(names));
});

});

var dbUri = 'mongodb://'+self.dbUser+':'+self.dbPass+'@'+self.dbHost+':'+self.dbPort+'/parks';
console.log(dbUri);
mongoose.connect(self.dbHost, "parks", self.dbPort, {user:self.dbUser, pass:self.dbPass});
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T23:26:57.413

已解决：需要运行 addUser() 命令为数据库添加身份验证。我认为它工作，因为 mongodb 驱动程序工作，但显然该用户从未真正添加......也许是因为它是管理员。根本原因仍然不是很清楚，但问题似乎很容易解决，更多地关注身份验证管理。

# c++ - 生成模板定义的宏

> ID：13263881
> 
> 赞同：0
> 
> 时间：2012-11-07T05:51:48.467
> 
> 标签：c++, templates

我正在尝试生成许多定义`template struct`

```
#define REGISTER_FUNCTOR(type, func) \
  template <OWNER> \
  struct writeCharFunctor { \
    void operator(PropInfoType::iterator& it, PdxWriterPtr pw)() { \
      MemberProperty<OWNER,type> *ptr = (MemberProperty<OWNER, type> *)it->second; \
      const char *propertName = ptr->m_propertyName.c_str(); \
      if ( !ptr->m_getterFn ) { \
        throw; \
      } \
      pw->###func(propertName,(pOwner->*(ptr->m_getterFn))()); \
    } \
  };

  REGISTER_FUNCTOR(char,writeChar); 
```

但是我收到编译器错误`error C2061: syntax error : identifier 'OWNER'` 我的函数名称对于每种类型都不同，所以不能直接使用模板参数（或者有办法做到这一点）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:53:51.507

那应该是`template <class OWNER>`或`template <typename OWNER>`

# asp.net - 如何访问 Asp.net 中 DataList 绑定项中的会话/变量值？

> ID：13263882
> 
> 赞同：1
> 
> 时间：2012-11-07T05:51:55.067
> 
> 标签：asp.net, session, datalist

我有一个 DataList，它在特定文件夹中显示上传的文件（.jpg、jpeg、gif 等），例如“EmpMainFolder”，其中包含员工文档的所有扫描副本。我想在 DataList 中显示它。当我给出静态文件夹名称时，以下代码可以正常工作。

以下代码适用于 .aspx 页面的 DataList 中的静态文件夹名称：

```
<asp:DataList ID="DataList1" runat="server" RepeatColumns="5" CellPadding="5" OnItemCommand="DataList1_ItemCommand">
            <ItemTemplate>
                <asp:Image Width="100" runat="server" ID="Image1" ImageUrl='<%# Bind("Name", "~/Uploads/Employee/{0}")%>' />
                <br />

                <asp:Label ID="Label1" Text='<%# Bind("Name") %>' runat="server" /><br />
                <asp:LinkButton ID="lbldocnm" runat="server" CommandName="ViewDocument" CommandArgument=**'<%# Bind("Name", "~/Uploads/Employee/{0}") %>'**>View</asp:LinkButton>
            </ItemTemplate>
            <ItemStyle BorderColor="Silver" BorderStyle="Dotted" BorderWidth="1px" HorizontalAlign="Center"
                VerticalAlign="Bottom" />
        </asp:DataList> 
```

我想将会话中的当前员工文件夹名称设置为：

```
<asp:DataList ID="DataList1" runat="server" RepeatColumns="5" CellPadding="5" OnItemCommand="DataList1_ItemCommand">
        <ItemTemplate>
            <asp:Image Width="100" runat="server" ID="Image1" ImageUrl=**'<%# Bind("Name", "~/Uploads/Employee/%>'+ '<%#Session["EmpMainFolder"] %>'"+"/"+{0}")%>'** />
            <br />
 <asp:Label ID="Label1" Text='<%# Bind("Name") %>' runat="server" /><br />
 <asp:LinkButton ID="lbldocnm" runat="server" CommandName="ViewDocument" CommandArgument='<%# Bind("Name", "~/Uploads/Employee/{0}") %>'>View</asp:LinkButton>
 </ItemTemplate>
 <ItemStyle BorderColor="Silver" BorderStyle="Dotted" BorderWidth="1px" HorizontalAlign="Center"  VerticalAlign="Bottom" />
</asp:DataList> 
```

但是，当文件夹名称通过会话动态设置时，它不会显示任何图像。

任何的想法？帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:39:59.173

```
<asp:Image Width="100" runat="server" ID="Image1" ImageUrl='<%#"~/Uploads/Employee/"+ Eval("Name").ToString()+"/" +Session["EmpMainFolder"] %>'/> 
```

你可以这样使用。但是你能解释一下你在ImageUrl的Bind中做了什么吗？
您能否提供任何用户的完整路径和 url 的可变部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T06:43:42.153

您可以通过 Eval 实现

```
<asp:LinkButton ID="lbldocnm" runat="server" CommandName="ViewDocument" CommandArgument='<%# "~/Uploads/Employee/" +  Session["EmpMainFolder"] + "/" + Eval("Name") %>'>View</asp:LinkButton> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:44:01.790

试试这样的东西

```
ImageURL='<%# GetImage((string)Eval("Name")) %>' 
```

写下这样的功能

```
public static string GetImage(string name)
{

        return "~/Uploads/Employee/"+ Session["EmpMainFolder"].ToString() + name;

} 
```

# sparql - 耶拿查询是懒惰的吗？

> ID：13263883
> 
> 赞同：1
> 
> 时间：2012-11-07T05:51:58.703
> 
> 标签：sparql, lazy-evaluation, jena

目前我有以下代码：

```
QueryExecution qe = QueryExecutionFactory.create(query, model);
ResultSet results = qe.execSelect();
while(results.hasNext()){
            results.next();
            counter += 1;
        }
        System.out.println(counter); 
```

目前，当我运行它时，循环的每次迭代都可能需要几秒钟到一分钟的时间来执行。所以我的问题是，结果是否以惰性方式处理？如果是这样，有没有办法让它一次找到所有结果？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:59:13.363

是的（通常）。这项工作是在调​​用 hasNext 期间完成的，具体取决于查询、数据和任何推理设置。

有关一次使用所有结果的操作，请参阅 ResultSetFactory。

# bash - Win MSYS上的Unix`find`，没有这样的文件或目录

> ID：13263894
> 
> 赞同：1
> 
> 时间：2012-11-07T05:52:54.453
> 
> 标签：bash, find, sh

我正在尝试`git pull`在一堆文件夹上运行。这是我到目前为止得到的：

```
find . -type d -name .git \
| xargs -n 1 dirname \
| while read line; do cd $line && git pull; done 
```

问题是这`cd`不起作用我收到一堆错误：

```
sh: cd: ./project_one: No such file or directory
sh: cd: ./project_two: No such file or directory
... 
```

但是当我这样做时，`cd ./project_one`它工作正常。怎么了？有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:25:44.547

在子 shell 中执行`cd`后续操作，以便主进程保留在适当的目录中。

```
... | while read line; do ( cd $line && git pull ); done 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:13:39.833

看起来像是指定相对文件路径与绝对文件路径的问题。`.`将脚本的“ `find . type -d -name .git ...`”部分更改为`$(pwd)`，目录名称应作为绝对路径传递给 while 循环：

```
find $(pwd) -type d -name .git \
| xargs -n 1 dirname \
| while read line; do cd $line && git pull; done 
```

试试看，它应该可以工作=）

# iphone - 使用 sdwebimage 在 ios 中显示 png 文件黑色背景

> ID：13263896
> 
> 赞同：1
> 
> 时间：2012-11-07T05:53:00.603
> 
> 标签：iphone, ios, uiimageview, sdwebimage

当我使用`UIImageView`to `setImage`（图像来自远程服务器）时，必须缓存图像数据，所以我使用`sdwebimage`它来做。

然后我运行模拟器，图像以黑色背景显示。代码是：

```
[imageView setImageWithURL:[NSURL URLWithString:[dic objectForKey:@"icon_url"]]] 
```

来自远程服务器的图像文件是一个透明的 .png 文件。ps：当我使用`UIImageView 's`setImage 函数时，它运行良好，但无法缓存。我该如何解决？有人可以帮忙吗？

# mobile-application - 移动应用安全测试方法

> ID：13263899
> 
> 赞同：0
> 
> 时间：2012-11-07T05:53:04.983
> 
> 标签：mobile-application

谁能解释一下，移动应用安全测试的方法是什么？此外

寻找样本报告模板。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:12:38.660

移动应用程序有两种类型。

1.  基于浏览器的应用程序
2.  混合/本机应用程序。

根据应用程序，您正在测试。测试方法略有变化。通常，大多数人会遵循 OWASP 移动应用指南。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-13T13:11:13.697

首先，必须对您设计的应用程序进行彻底的威胁建模。威胁建模将使您了解可能存在的漏洞。示例：移动应用程序让其他应用程序与您的应用程序/应用程序数据进行交互。在这种情况下，您应该访问 1\. 其他应用程序必须如何与您进行身份验证？2\. 授予哪些权限，可以访问哪些数据？3\. 其他应用是否可以使用自己应用的加密密钥？- 一定不是。

等等....因此，我坚持要对应用程序进行干净的线程建模并细化 1\. 应用程序通过其交换数据的所有接口。2\. 磁盘存储，什么样的事务可以访问存储，它的目的是什么？- 授权
3\. 加密商店中的所有关键数据，如果应用程序经常交换更多数据，请使用 SALT。4.代码执行路径。应用程序中没有没有目的的代码。5\. 传入数据卫生。

ETC...

# php - Zend 表单/子表单部分渲染

> ID：13263901
> 
> 赞同：0
> 
> 时间：2012-11-07T05:53:13.703
> 
> 标签：php, ajax, zend-framework, zend-form

我正在使用 Zend_Form 构建一个表单...我需要向表单动态添加一些字段（jquery/ajax）...我为需要在运行时创建的每组字段创建了一个子表单...以获取我的具有正确名称的数组中的元素，例如`subform1[index][element]`，我添加了 2 个子表单： subform1：呈现为字段集的包装器 subform2：扮演`index`名称元素部分的容器子表单：这是保存元素的主子表单

对于每组新元素，subform2 和 elements 部分都会重复...

现在在视图中创建和呈现表单时一切正常，我得到了正确的名称（`subform1[index][element]`）...

但是当我使用 ajax 生成新元素时，我不知道如何呈现表单并获得具有正确名称的 subform2 部分......

这是创建子表单的函数：

```
 private function makeSubForm($id, $legend)
    {
        $wrapper = new Zend_Form_SubForm();
        $wrapper->setOptions(array('legend' => $legend, 'class' => 'ui-corner-all multi_value'))
            ->setIsArray(true);

        $array = $this->_getArray($id);
        //-------------------------LOOP--------------------------
        $form_name = "Application_Form_Employ_$id";
//        var_dump($array);
        foreach ($array as $key => $value) {

            $form = new $form_name();

            $container = new Zend_Form_SubForm();
            $container->setOptions(array('class' => 'subform'))
                ->setIsArray(true)
                ->addSubForm($form, 'xxxxx');

            $wrapper->addSubForm($container, $key);
        }
        Zend_Registry::get('session')->{$id} = $array;
        //----------------------------------------------------------

        $this->addSubForm($wrapper, $id);
    } 
```

这是我的行动方法：

```
 public function newElementAction()
    {
        $this->_disableView();
        $id = $this->getRequest()->getParam('id');
        $form = new Application_Form_Employment();
        $params = array();
        $keys = Zend_Registry::get('session')->{$id};
        $lastKey = end(array_keys($keys));
        $keys[++$lastKey] = array();

        $params[$id] = $keys;
//        var_dump($params);
        $form->create($params);
//        $form->render();

        $this->_response->appendBody($form->getSubForm($id)->getSubForm($lastKey));
    } 
```

使用此代码，我得到`subform2[element]`了我的名字......但如果我取消注释`$form->render();`我得到`subform1[subform2][subform1][subform2][element]`

那么我怎样才能获得具有正确名称的第二个子表单的 HTML 呢？

* * *

好吧，我找到了一个黑客来获得我想要的东西，但我正在寻找更好的方法......

```
public function newElementAction()
{
    $this->_disableView();
    $id = $this->getRequest()->getParam('id');
    $form = new Application_Form_Employment();
    $params = array();
    $keys = Zend_Registry::get('session')->{$id};
    $lastKey = end(array_keys($keys));
    $keys = array(++$lastKey => array());

    $params[$id] = $keys;
    $form->create($params, $id);

    $this->_response->appendBody($form->{$id});
} 
```

我只创建了最后一个孩子并输出了父母，并在客户端删除了父母标记，然后再插入页面......

必须有一种可靠的方法来渲染子表单，其父索引完好无损！！？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:35:04.167

您不需要子表单层来对动态字段进行分组。子表单的 setIsArray 属性将确保子表单元素将被分组到一个数组中。因此，根据 id，您将拥有 child1[element1]、child1[element2]、child2[element1]、child2[element2] 等。

我在[这里](https://stackoverflow.com/questions/8069046/add-a-subform-to-a-form-with-ajax-on-submit/13211364#13211364)回答了一个类似的问题。请也检查[粘贴箱](http://pastebin.com/CqCNhKjx)。

# git - git合并，保留两者

> ID：13263902
> 
> 赞同：35
> 
> 时间：2012-11-07T05:53:20.257
> 
> 标签：git, git-merge

为了合并，我用它来“保留我的”

```
git merge -X ours foo 
```

这是为了“保留他们的”

```
git merge -X theirs foo 
```

然而，在我最近的合并中，最好保留双方。Git 是否为此制定了“策略”，以避免手动编辑文件？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-11-07T06:14:39.807

没有解决这些冲突的“合并策略”。

但是，如果您真的想要这样的冲突：

```
<<<< ours
Foo
=========
Bar 
>>>> theirs 
```

解决

```
Foo
Bar 
```

然后您可以配置“合并驱动程序”。从[gitattributes](http://kernel.org/pub/software/scm/git/docs/gitattributes.html)手册页：

> 联盟
> 
> 对文本文件运行 3-way 文件级合并，但从两个版本中获取行，而不是留下冲突标记。这往往会使结果文件中添加的行以随机顺序保留，用户应验证结果。如果您不了解其含义，请不要使用它。

在 .gitattributes 中添加一行来使用它：

```
*.whatever merge=union 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2019-03-15T17:19:59.633

这个如何？

`grep -v -e'^<<<<<<<' -e '^>>>>>>>' -e'=======' filename.txt > filename.tmp`

`mv filename.tmp filename.txt`

# java - 我的 JUnit 打开断言的规则似乎并没有在我们的 Jenkins 构建中执行

> ID：13263903
> 
> 赞同：1
> 
> 时间：2012-11-07T05:53:21.430
> 
> 标签：java, junit, assertions

我希望整个代码中的断言失败导致我的测试失败。

我有一个这样的 JUnit 规则：

```
public class AcmeTestRule implements TestRule {
    @Override
    public Statement apply(final Statement statement, Description description) {
        return new Statement() {
            @Override
            public void evaluate() throws Throwable {
                ClassLoader classLoader = getClass().getClassLoader();
                classLoader.clearAssertionStatus();
                classLoader.setDefaultAssertionStatus(true);
                //classLoader.setPackageAssertionStatus("com.acme", true); // no effect

                statement.evaluate();
            }
        }
    }
} 
```

它位于这样的基础测试类上：

```
public abstract class AcmeTestCase {
    @ClassRule
    public static final AcmeTestRule acmeTestRule = new AcmeTestRule();
} 
```

然后为了确认规则本身是否有效，我进行了以下测试：

```
public class TestAcmeTestRule extends AcmeTestCase4 {
    @Test
    public void testAssertions() {
        try {
            assert false;
        } catch (AssertionError) {
            // good.
            return;
        }

        fail("Didn't throw AssertionError on assert false");
    }
} 
```

我们的自动构建测试失败了，因为“assert false”仍然没有抛出异常。从 IDE 运行完全相同的测试通过。我们没有设置任何命令行标志来打开断言（尽管 IDE 可能在我们背后做这件事。）

顺便说一句，如果我这样做：

```
public class TestAcmeTestRule {
    @ClassRule
    public static final AcmeTestRule acmeTestRule = new AcmeTestRule();

    @Test
    public void testAssertions() {
        try {
            assert false;
        } catch (AssertionError) {
            // good.
            return;
        }

        fail("Didn't throw AssertionError on assert false");
    }
} 
```

结果测试现在在 IDE 中也失败了。我所做的只是将规则从抽象类移到测试类中。

我认为这是一些奇怪的类加载问题。我的理论：断言状态只在读取字节码时使用，所以当你运行字节码时，改变值已经太晚了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T06:10:19.120

（以及所有类似方法）的问题`ClassLoader.setDefaultAssertionStatus`是，它们对已经加载的类没有影响。从[文档](http://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#setDefaultAssertionStatus%28boolean%29)

> 此设置确定由此类加载器加载并**在** **将来初始化****的** 类是否默认启用或禁用断言。

 **因此，只要您不确保在加载所有其他类之前执行此操作（这可能容易出错），您就无法在代码中可靠地启用断言。

这在 IDE 中起作用的原因可能是 IDE 倾向于通过传递适当的命令行参数来启用断言，或者类加载的顺序可能不同。**

# database - 在关系数据库中查看

> ID：13263905
> 
> 赞同：1
> 
> 时间：2012-11-07T05:53:24.980
> 
> 标签：database, view

视图的目的是什么？视图是否存储在磁盘上？

我知道关系数据库中的视图在做什么，但找不到它的用途以及它们是否存储在磁盘上。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T05:56:33.187

依靠。

视图很简单——不直接由表本身表示的数据的视图。

通常，此类视图是在逻辑上创建的，并且不会存储额外的数据。

然而，一些数据库（尤其是 Oracle，可能还有其他数据库）具有由数据库存储和维护的“物化视图”的概念，以存储和同步操作为代价，提供比逻辑视图更好的读取性能（可能）关于正常数据。

# java - java解决方案中的动态类创建

> ID：13263910
> 
> 赞同：0
> 
> 时间：2012-11-07T05:53:45.140
> 
> 标签：java, hibernate, dynamic, orm

我知道这行不通，这让 IMO 很糟糕，但我想知道我最好的解决方案是什么。经过一番搜索，我发现了有关 ORM 和休眠的信息。在了解了它们之后，我发现很多人说它比它更值得，并促进了懒惰。请问有人能指点我一个好的方向吗？

```
//Setup the weapon classes
logger.info("Initializing the weapon classes.");
stat = conn.prepareStatement("SELECT *" + 
                            " FROM " + DB_NAME + ".weapons");
rs = stat.executeQuery();
while (rs.next()) {
    Weapon rs.getString("name") = new Weapon(rs.getint("weapon_id"), rs.getString("name"), rs.getString("description"), rs.getString("filename"), rs.getint("rarity"), rs.getint("sell_price"), rs.getint("quantity_max"), rs.getint("slot"), rs.getint("level_requirement"), rs.getint("strength_requirement"), rs.getint("dexterity_requirement"), rs.getint("intelligence_requirement"), rs.getint("enchanted_increase"), rs.getint("enchanted_cost"), rs.getint("hit_min"), rs.getint("hit_max"), rs.getint("speed"), rs.getint("elemental_type"), rs.getint("elemental_hit_min"), rs.getint("elemental_hit_max"));
} 
```

我知道这已经被问过很多次了，但我只是发现了很多相互矛盾的意见。:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:03:20.223

我建议使用[Map](http://docs.oracle.com/javase/7/docs/api/java/util/Map.html)来存储您从数据库中获取的武器实例。键是名称，值是您的 Weapons 类的实例。

就像是：

```
while(rs.next()){
    Weapon weapon = new Weapon(rs.getint("weapon_id"), rs.getString("name"), rs.getString("description"), rs.getString("filename"), rs.getint("rarity"), rs.getint("sell_price"), rs.getint("quantity_max"), rs.getint("slot"), rs.getint("level_requirement"), rs.getint("strength_requirement"), rs.getint("dexterity_requirement"), rs.getint("intelligence_requirement"), rs.getint("enchanted_increase"), rs.getint("enchanted_cost"), rs.getint("hit_min"), rs.getint("hit_max"), rs.getint("speed"), rs.getint("elemental_type"), rs.getint("elemental_hit_min"), rs.getint("elemental_hit_max"));
    //Assuming you have an instance of Map<String, Weapon>
    map.add(rs.getString("name"), weapon);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:08:44.627

使用 ORM 取决于您的项目大小。就个人而言，通过查看您对 Java 的理解，我*不*建议您现在跳入休眠等。我建议您首先直接使用 SQL，以便更好地理解持久性。

至于您发布的代码，您可以执行以下操作：

```
//Setup the weapon classes
logger.info("Initializing the weapon classes.");
stat = conn.prepareStatement("SELECT *" + 
                            " FROM " + DB_NAME + ".weapons");

HashMap<String, Weapon> weapons = new HashMap<String, Weapon>();

rs = stat.executeQuery();
while (rs.next()) {
    Weapon weapon = new Weapon()
        .setId(rs.getint("weapon_id"))
        .setName(rs.getString("name"))
        .setDescription(rs.getString("description"))
        .setFilename(rs.getString("filename"))
        .setRarity(rs.getint("rarity"))
        .setSellPrice(rs.getint("sell_price"))
        .setQuantityMax(rs.getint("quantity_max"))
        .setSlot(rs.getint("slot"))
        .setLvlRequirement(rs.getint("level_requirement"))
        .setStrRequirement(rs.getint("strength_requirement"))
        .setDexRequirement(rs.getint("dexterity_requirement"))
        .setIntRequirement(rs.getint("intelligence_requirement"))
        .setEnchantedInc(rs.getint("enchanted_increase"))
        .setEnchantedCost(rs.getint("enchanted_cost"))
        .setHitMin(rs.getint("hit_min"))
        .setHitMax(rs.getint("hit_max"))
        .setSpeed(rs.getint("speed"))
        .setElementalType(rs.getint("elemental_type"))
        .setElementalHitMin(rs.getint("elemental_hit_min"))
        .setElementalHitMax(rs.getint("elemental_hit_max"));

    weapons.put(rs.getString("name"), weapon);
} 
```

避免使用带有太多参数的构造函数（甚至是方法！）。除非您将类导出给第三方或将其暴露给某些用户插件并且不希望任何人更改内部值，否则不要担心 setter！然后每个`set*`方法都返回`this`，因此它们可以被链接起来。例如 ：

```
public Weapon setHitMax(int max) {
    this.hitMax = max;
    return this;
} 
```

你可以，然后使用`Map`. 比如，例如：

```
weapons.get("sword").getHitMax(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:03:11.640

“动态类创建”到底是什么意思？从您的代码中我可以理解两件事：

a) 你是一个非常糟糕的 Java 程序员 :) 或者

b）您试图为数据库中的每一行命名不同的**变量**，（这没有任何意义）

# c# - WPF Binding如何获取对象引用

> ID：13263917
> 
> 赞同：0
> 
> 时间：2012-11-07T05:54:22.393
> 
> 标签：c#, .net, wpf, xaml, data-binding

我有一个 ListView 显示使用 MVVM 和自定义模板的帐户列表并且工作正常现在单击帐户名称，我们需要执行一个需要当前帐户对象的自定义操作

有没有办法将 Label.Tag 属性设置为 Acct 对象？

xaml def 低于 env 是 vs2010 .net 4.0 c#

```
<ListView Name="lv1" Grid.Column="1" Grid.Row="4"
    ItemsSource="{Binding AccountsList}"
    Background="Transparent" BorderThickness="0">
    <ItemsControl.ItemTemplate>
        <DataTemplate>
            <StackPanel Orientation="Horizontal">
                <Image Source="/asm1;component/Images/Icons/pdf1.png" Width="12" Height="12" />
                <Label Content="{Binding Name}" Margin="0,0,25,0" 
                    ContextMenu="{x:Null}" Name="lblacctItem" 
                    MouseDoubleClick="lbl_MouseDoubleClick" />
            </StackPanel>
        </DataTemplate>
    </ItemsControl.ItemTemplate>
    <ListView.ItemsPanel>
        <ItemsPanelTemplate>
            <WrapPanel Background="Transparent" 
                Width="{Binding (FrameworkElement.ActualWidth), RelativeSource={RelativeSource AncestorType=ScrollContentPresenter}}" 
                ItemWidth="{Binding (ListView.View).ItemWidth, RelativeSource={RelativeSource AncestorType=ListView}}" 
                MinWidth="{Binding ItemWidth, RelativeSource={RelativeSource Self}}" 
                ItemHeight="{Binding (ListView.View).ItemHeight, RelativeSource={RelativeSource AncestorType=ListView}}" />
        </ItemsPanelTemplate>
    </ListView.ItemsPanel>
</ListView> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:03:40.007

您正在混合 MVVM 和代码。

您应该创建一个命令行为 ( [Link](http://www.dotnetcurry.com/ShowArticle.aspx?ID=734) ) 来标记。然后您应该将 CommandParameter 绑定到 AccObject，并将 Command 绑定到您需要执行的操作。

以下应删除。

```
MouseDoubleClick="lbl_MouseDoubleClick" 
```

**根据评论更新**

由于当前项绑定到 AccObject，只需在命令参数中使用 Binding。

```
CommandParameter = {Binding} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:06:52.747

您可以将 SelectedItem 属性设置为 viewmodel 的 SelectedAccount 属性。

SelectedItem="{绑定 SelectedAccount}" 背景="透明" BorderThickness="0">

在 SelectedAccount 属性上使用 INotifyPropertyChanged 接口。

谢谢， 拉吉尼坎特

# php - GMT 时间和 mysql NOW() 相差 2 分钟

> ID：13263921
> 
> 赞同：0
> 
> 时间：2012-11-07T05:55:08.380
> 
> 标签：php, mysql, gmt

当我检查 GMT 时间[**`here`**](http://wwp.greenwichmeantime.com/info/current-time/)是**05:40:00**时，同时我在 mysql 中运行以下查询，

```
SET time_zone='+00:00'; // to get GMT time
SELECT NOW(); 
```

上面的查询是**05:37:50**。所以在 mysql 中，我与**[GMT](http://wwp.greenwichmeantime.com/info/current-time/)**的时差约为 2 分钟。它必须给出**05:40:00**而不是**05:37:50**。如何解决这个问题？

感谢您宝贵的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:00:31.687

我无法在我的 Linux 机器上重现它。

最有可能运行 MySQL 服务器的机器没有正确配置时间服务。

根据您的 MySQL 运行的操作系统，您应该设置时间同步。对于 Linux，我们会使用 ntpd 包。

# jquery - jQuery获取数据在IE中返回未定义

> ID：13263923
> 
> 赞同：2
> 
> 时间：2012-11-07T05:55:18.160
> 
> 标签：jquery, ajax, internet-explorer, undefined

`undefined`发出 ajax 请求时，IE 9 返回而不是数据存在问题。它适用于 Firefox、Chrome、Opera。我试图在 get.php 中设置一些标题。但这没有帮助。

我的代码如下：

```
<head>
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript">
       $(document).ready(function(){
           $.ajax({
               type : "GET",
                url : "get.php",
               data : "id=1234&lang=en",
           dataType : 'html', 
            success : function( msg ) {
                         alert( "Data Saved: " + msg);
                     }
           });
       });
    </script>
</head> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-12T16:39:07.663

Returning the MIMEType of `application/json; charset=utf8` caused this same behavior for me in IE8\. Changing it to `application/json;` made IE8 magically start functioning. Check what your server is returning for a MIMEType and see if fiddling with that is causing an issue.

Edit: Actually what was causing the real problem is that it should be `charset=utf-8` and not as shown above without the hyphen.

# javascript - 在画布上绘制的图像未在 Google Chrome 中显示

> ID：13263925
> 
> 赞同：0
> 
> 时间：2012-11-07T05:55:31.863
> 
> 标签：javascript, html, google-chrome, canvas

以下带有 3 个画布的代码可以完美地与最新的 IE 和 Mozilla FireFox 配合使用。第三个画布 (#drawingSurface3) 在 Google Chrome 上失败，开发者控制台中没有任何错误。连线条都没有画出来。

```
<!doctype html>
<html>
    <head>
        <title>Drawing lines in Canvas</title>
        <style>
            canvas {
                border: 1px solid #ccc;
            }
        </style>
    </head>
    <body>
        <canvas id="drawingSurface" width="300" height="300">
            <p>Your browser does not support the canvas element.</p>
        </canvas>
        <br />
        <canvas id="drawingSurface2" width="300" height="300">
            <p>Your browser does not support the canvas element.</p>
        </canvas>
        <br />
        <canvas id="drawingSurface3" width="300" height="300">
            <p>Your browser does not support the canvas element.</p>
        </canvas>

        <script src="scripts/modernzr 2-6-2.js"></script>
        <script src="scripts/jquery-1.8.2.js"></script>
                <script type="text/javascript">
                    $(document).ready(function () {
                        var canvas = document.getElementById("drawingSurface");
                        var ctx;
                        if (ctx = canvas.getContext("2d")) {

                            ctx.beginPath();
                            ctx.moveTo(75, 50);
                            ctx.lineTo(75, 100);
                            ctx.lineTo(25, 100);
                            // ctx.stroke(); 
                            ctx.closePath();
                            ctx.stroke();
                            // ctx.fill();
                        }

                        var canvas2 = document.getElementById("drawingSurface2");
                        if (canvas2 && (ctx = canvas2.getContext("2d"))) {
                            ctx.beginPath();
                            ctx.moveTo(100, 100);
                            ctx.lineTo(100, 300);
                            ctx.lineTo(150, 300);
                            ctx.lineTo(150, 155);
                            ctx.lineTo(205, 155);
                            ctx.lineTo(205, 100);
                            ctx.closePath();

                            ctx.fillStyle = "#0099ff";
                            ctx.fill();

                            ctx.lineWidth = 6;
                            ctx.lineJoin = "round";
                            ctx.strokeStyle = "#cccccc";
                            ctx.stroke();
                        }

                        var canvas3 = document.getElementById("drawingSurface3");
                        if (canvas3 && (ctx = canvas3.getContext("2d"))) {
                            var img = new Image();
                            img.onload = function () {
                                ctx.drawImage(img, 0, 0);

                                //alert(ctx.getImageData());
                                ctx.beginPath();
                                ctx.moveTo(100, 125);
                                ctx.lineTo(150, 285);
                                ctx.lineTo(200, 233);
                                ctx.lineTo(250, 368);
                                ctx.lineTo(300, 402);
                                ctx.lineTo(350, 300);
                                ctx.lineTo(400, 90);
                                //ctx.closePath();

                                ctx.stroke();
                            };

                            img.src = "images/chartBackground.png";

                        }
                    });
        </script>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T07:30:16.583

我开始在 chrome://flags/ 中鬼混

禁用加速 2D 画布解决了这个问题：

选项：

**禁用加速的 2D 画布 Mac、Windows、Linux、Chrome OS 禁用使用 GPU 执行 2D 画布渲染，而是使用软件渲染。**

# php - php exec() 挂起

> ID：13263929
> 
> 赞同：3
> 
> 时间：2012-11-07T05:55:49.330
> 
> 标签：php, windows, iis, batch-file

我在 IIS 7 上运行 php 5.2.0。

在这种环境中，我尝试使用 php exec 方法分叉一个进程，如下所示。exec("background_processes\process_sePos_report.bat)

它运行良好一段时间，但在这种情况下 cmd.exe 进程挂在服务器中。在服务器重新启动之前它不会做任何事情。

我还根据以下错误更改了代码，但问题没有解决。 [https://bugs.php.net/bug.php?id=44942](https://bugs.php.net/bug.php?id=44942)

有人可以帮我解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:49:51.437

如果您知道 .bat 应该完成的时间限制，您可以使用[set_time_limit()](http://www.php.net/manual/en/function.set-time-limit.php)。我的*猜测*是，它*可能*有助于防止在 Windows 上发生这种挂起，它也测量在 exec() 调用上花费的活动。

# c# - 在 C# 中将 JSON 字符串转换为动态对象列表

> ID：13263931
> 
> 赞同：0
> 
> 时间：2012-11-07T05:55:57.970
> 
> 标签：c#, json, json.net, deserialization

我有一个 JSON 字符串我从我的网络客户端发送到我的 webapi。这种 JSON 字符串是动态形成的。

所以我想知道是否有办法可以将此 JSON 字符串转换为动态对象的列表/数组。所以可以按照以下方式处理它：

```
var DynamicArray = WhatEverJSONConvertor(JSONString);

for (int i = 0; i < DynamicArray.length; i++)
{
      Console.WriteLine(DynamicArray[i].AFieldInTheObject);
} 
```

这可能吗？我将使用什么 JSON 转换器来完成此操作？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:00:07.110

为什么不使用[JSon.net](http://james.newtonking.com/projects/json-net.aspx)并为您的 json 响应使用 [动态](http://msdn.microsoft.com/en-us/library/dd264736.aspx) ：

```
dyanmic [] jsonresponseArray= WhatEverJSONConvertor(JSONString);

for (int i = 0; i < DynamicArray.length; i++)
{
      Console.WriteLine(jsonresponseArray[i].AFieldInTheObject);
}

....
public dynamic[] WhatEverJSONConvertor(string json){
   // parse and create a dynamic type object
} 
```

您需要确保该字段是否存在，例如扩展方法可以做到。

# django - 基于 Django 类的通用视图和继承

> ID：13263936
> 
> 赞同：2
> 
> 时间：2012-11-07T05:56:19.827
> 
> 标签：django, django-views

所以我正在编写这个应用程序并使用通用视图对象 ListView 和 ObjectView。

我已经覆盖了两者的 get_context_data 方法，以便能够在两种情况下添加相同的额外上下文（与对象无关）。

现在我有两个类，一个扩展 Listview，另一个扩展 DetailView，两者都具有相同的 get_context_data 方法。

虽然这工作得很好真的很痛苦，但是否有一个父类我可以覆盖 get_context_data 将使 ListView 和 DetailView 继承新的 get_context_data？这样看起来会更好:)

谢谢你。

X

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T06:13:27.943

如果您想要覆盖 get_context_data 的方式相同，我会使用 mixin。

```
class CommonMixinExample(object):

    def get_context_data(self, **kwargs):
        # do stuff in here
        return super(CommonMixinExample, self).get_context_data(**kwargs)

class YourListView(CommonMixinExample, ListView):
    # other code

class YourDetailView(CommonMixinExample, DetailView):
    # other code 
```

# iphone - ios电子邮件应用程序

> ID：13263937
> 
> 赞同：1
> 
> 时间：2012-11-07T05:56:20.420
> 
> 标签：iphone, ios

我正在寻求帮助，我是 iphone 编程新手

有没有办法发送电子邮件，使用设备上配置的标准帐户而不打开撰写 UI，没有 Pagesheet？

我想编写一个应用程序来向我发送电子邮件提醒。

期待听到你的重播

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T05:57:59.547

您必须将信息发送到您管理的服务器，然后通过 smtp 类型的方法发送电子邮件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:05:48.303

您可以使用任何作曲家窗口在后台发送电子邮件

请参阅[此**SMTPSender**](http://code.google.com/p/skpsmtpmessage/source/browse/#svn/trunk/SMTPSender)示例

例子：

```
- (BOOL)send
{
    NSAssert(sendState == kSKPSMTPIdle, @"Message has already been sent!");

    if (requiresAuth)
    {
        NSAssert(login, @"auth requires login");
        NSAssert(pass, @"auth requires pass");
    }

    NSAssert(relayHost, @"send requires relayHost");
    NSAssert(subject, @"send requires subject");
    NSAssert(fromEmail, @"send requires fromEmail");
    NSAssert(toEmail, @"send requires toEmail");
    NSAssert(parts, @"send requires parts");

    if (![relayPorts count])
    {
        [delegate messageFailed:self
                          error:[NSError errorWithDomain:@"SKPSMTPMessageError"
                                                    code:kSKPSMTPErrorConnectionFailed
                                                userInfo:[NSDictionary dictionaryWithObjectsAndKeys:NSLocalizedString(@"Unable to connect to the server.", @"server connection fail error description"),NSLocalizedDescriptionKey,
                                                          NSLocalizedString(@"Try sending your message again later.", @"server generic error recovery"),NSLocalizedRecoverySuggestionErrorKey,nil]]];

        return NO;
    }

    // Grab the next relay port
    short relayPort = [[relayPorts objectAtIndex:0] shortValue];

    // Pop this off the head of the queue.
    self.relayPorts = ([relayPorts count] > 1) ? [relayPorts subarrayWithRange:NSMakeRange(1, [relayPorts count] - 1)] : [NSArray array];

    NSLog(@"C: Attempting to connect to server at: %@:%d", relayHost, relayPort);

    self.connectTimer = [NSTimer scheduledTimerWithTimeInterval:connectTimeout
                                                         target:self
                                                       selector:@selector(connectionConnectedCheck:)
                                                       userInfo:nil
                                                        repeats:NO];

    [NSStream getStreamsToHostNamed:relayHost port:relayPort inputStream:&inputStream outputStream:&outputStream];
    if ((inputStream != nil) && (outputStream != nil))
    {
        sendState = kSKPSMTPConnecting;
        isSecure = NO;

        [inputStream retain];
        [outputStream retain];

        [inputStream setDelegate:self];
        [outputStream setDelegate:self];

        [inputStream scheduleInRunLoop:[NSRunLoop currentRunLoop]
                               forMode:NSRunLoopCommonModes];
        [outputStream scheduleInRunLoop:[NSRunLoop currentRunLoop]
                                forMode:NSRunLoopCommonModes];
        [inputStream open];
        [outputStream open];

        self.inputString = [NSMutableString string];

        return YES;
    }
    else
    {
        [self.connectTimer invalidate];
        self.connectTimer = nil;

        [delegate messageFailed:self
                          error:[NSError errorWithDomain:@"SKPSMTPMessageError"
                                                    code:kSKPSMTPErrorConnectionFailed
                                                userInfo:[NSDictionary dictionaryWithObjectsAndKeys:NSLocalizedString(@"Unable to connect to the server.", @"server connection fail error description"),NSLocalizedDescriptionKey,
                                                          NSLocalizedString(@"Try sending your message again later.", @"server generic error recovery"),NSLocalizedRecoverySuggestionErrorKey,nil]]];

        return NO;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T06:02:21.897

1）有没有办法发送电子邮件，使用设备上配置的标准帐户**而不打开撰写 UI**

你不能。

替代方式：

您可以编写一个将电子邮件发送到特定地址的 Web 服务。

# hive - 在 Hive 表中插入时创建的多个部件

> ID：13263944
> 
> 赞同：2
> 
> 时间：2012-11-07T05:56:51.823
> 
> 标签：hive, compression

我有一个配置单元表（带压缩），其定义如下

```
create table temp1 (col1 string, col2 int)
partitioned by (col3 string, col4 string) 
row format delimited 
fields terminated by ',' 
escaped by '\\' 
lines terminated by '\n'
stored as sequencefile; 
```

当我从另一个配置单元表执行简单的选择和插入（没有运行减速器）到这个表时，我看到了一个独特的模式，这个表中的压缩数据被分割成非常小的文件（**表 1**：有时 1gb数据被拆分为 200-300 个文件，因此增加了消耗的块数，尽管它应该只跨越 16 个块），因为当我查询这个新表时形成的地图数量非常多。文件大小不超过 245mb（**表 2**）。是否有设置将其限制为 64mb（或 64mb 的倍数或仅单个文件），因为我的块大小为 64mb，因此不会创建多余的块。

**表格1**

**姓名 | 类型 | 尺寸 | 块大小**

000000_0 | 文件 | 30.22MB | 64 MB

000001_0 | 文件 | 26.19MB | 64 MB

000002_0 | 文件 | 25.19MB | 64 MB

000003_0 | 文件 | 24.74MB | 64 MB

000004_0 | 文件 | 24.54MB | 64 MB

…………

000031_0 | 文件 | 0.9MB | 64 MB

**表 2**

**姓名 | 类型 | 尺寸 | 块大小**

000000_0 | 文件 | 245.02MB | 64 MB

000001_0 | 文件 | 245.01MB | 64 MB

000002_0 | 文件 | 244.53MB | 64 MB

000003_0 | 文件 | 244.4MB | 64 MB

000004_0 | 文件 | 198.21MB | 64 MB

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-05T11:17:52.043

由于 Bryan 的突出显示了控制查询输出格式的配置单元变量，已经解决了这个问题。我在会话中测试了以下配置单元变量的设置： `set hive.merge.mapredfiles=true` `set hive.merge.size.per.task=256000000` `set hive.merge.smallfiles.avgsize=256000000`

所以现在在一个分区内，我得到了大小约为 256mb 的压缩文件。要永久设置这些变量，请在该用户的主目录中创建一个具有相同语句的 .hiverc 文件。

希望这可以帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T21:24:23.697

导致这种情况的创建表查询的关键部分是`partitioned by`. 这会将数据拆分为所用列的每个组合的文件和目录。这允许对它们的集合进行快速查询，但在查询整个表时会创建大量映射器。

我建议你要么重新考虑你的使用`partitioned by`或处理它的后果。

这种大量块的使用是否对您造成了极大的伤害？只要您没有创建数百万个低于块大小的文件/目录，您的 NameNode 处理它们就不应该有很多问题。

至于文件大小看看这个： [https ://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration](https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration)

特别注意`hive.merge.mapfiles`, `hive.merge.mapredfiles`, `hive.merge.smallfiles.avgsize`,`hive.merge.size.per.task`

# java - 如何处理 com.ibm.ejs.cm.portability.DuplicateKeyException

> ID：13263945
> 
> 赞同：0
> 
> 时间：2012-11-07T05:56:53.570
> 
> 标签：java, hibernate, exception, exception-handling

我在保存数据对象时收到 ibm.ejs.cm.portability.DuplicateKeyException。当我试图在表中插入同一行并且条件是我无法避免它时，它实际上来了。所以我需要一个处理程序，但是当把这个异常放在 try catch 块中时，我得到了编译错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T13:19:18.037

您可以尝试“合并”您的休眠对象。这意味着只有实体不存在时才会插入实体。否则，实体将被更新。

我不明白为什么您的 try catch 块会导致编译错误。你有一些代码示例吗？

# php - 将大字符串数据从 JavaScript 传递到 php

> ID：13263947
> 
> 赞同：0
> 
> 时间：2012-11-07T05:57:18.920
> 
> 标签：php, javascript, jquery, ajax

我在 JavaScript 中有一个很长的字符串变量（2000+ 个字符），我需要将它传递给一个`Php`页面，以便我可以将它存储在数据库中。将这个字符串变量与其他一些数据一起传递`JavaScript`到`Php`页面的最佳技术是哪一种？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T06:00:45.020

如果您使用的是 Ajax，请尝试发布数据。编码是自动的，没有大小限制。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-07T06:19:02.147

```
$.post('/my/url.php', { 'big': 'aoeuaoeuaoeuaoeuaoeu' } ); 
```

当然`big`变量的内容会大很多。2000字也不算多。我至少发布了这么多，没有问题。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T06:06:26.390

我不太了解，但我建议使用 json_encode() 你可以做到。

# java - Java中的快速sqrt以牺牲准确性为代价

> ID：13263948
> 
> 赞同：10
> 
> 时间：2012-11-07T05:57:37.890
> 
> 标签：java, performance, math, sqrt

我正在为 [0, 2*10^12] 的输入范围内的双精度值寻找 Java 中的快速平方根实现。对于此范围内的任何值，精度应为小数点后 5 位。换言之，结果可能与`Math.sqrt()`小数点后 5 位的方法不同。但是，这种方法需要比`Math.sqrt()`.

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-07T06:18:39.780

我不相信（没有基准来证明这是错误的）纯 Java 实现可以*比*. [Oracle JRE 实现](https://stackoverflow.com/questions/825221/where-can-i-find-the-source-code-for-javas-square-root-function)和[OpenJDK 实现](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/StrictMath.java#StrictMath)`Math.sqrt()`都是本机实现。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-11-07T09:19:27.687

一旦你给代码时间预热。Math.sqrt() 可以非常快

```
static double[] values = new double[500 * 1000];

public static void main(String... args) {
    for (int i = 0; i < values.length; i++) values[i] = i;

    for (int j = 0; j < 5; j++) {
        long start = System.nanoTime();

        for (int i = 1; i < values.length; i++) {
            values[i] = Math.sqrt(values[i]);
        }
        long time = System.nanoTime() - start;

        System.out.printf("Took %d ns to Math.sqrt on average%n", time / values.length);
    }
} 
```

印刷

```
Took 20 ns to Math.sqrt on average
Took 22 ns to Math.sqrt on average
Took 9 ns to Math.sqrt on average
Took 9 ns to Math.sqrt on average
Took 9 ns to Math.sqrt on average 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-11-07T06:42:08.933

试试这个

```
double d = 289358932.0;
double sqrt = Double.longBitsToDouble( ( ( Double.doubleToLongBits( d )-(1l<<52) )>>1 ) + ( 1l<<61 ) ); 
```

我没有对它进行基准测试，但我希望它会更快。准确性不是很好，但请尝试一下，看看它是否满足您的需求。我认为您可以在表达式的末尾添加一个额外的偏差项`a`以使其更准确。

**编辑：**您可以通过一两轮牛顿法来大幅提高准确性

```
double better = (sqrt + d/sqrt)/2.0;
double evenbetter = (better + d/better)/2.0; 
```

第二遍为您提供几乎精确的平方根值。

```
sqrt            17022.533813476562
better          17010.557763511835
evenbetter      17010.553547724947
Math.sqrt()     17010.553547724423 
```

# android - 从计算机打开 GUI 时蓝牙断开连接。

> ID：13263949
> 
> 赞同：1
> 
> 时间：2012-11-07T05:57:40.667
> 
> 标签：android, bluetooth, pandaboard

我正在将 pandaboard（在 Android ICS 上运行）的蓝牙与 PC 配对。现在连接已建立，我可以毫无问题地通过超级终端发送/接收数据。

在我的 PC 端，我有一个 GUI。通过这个 GUI，我只想通过 BT 发送/接收数据。

但是当我尝试打开我电脑上的 GUI 时，BT 连接断开了！！！

为什么会这样？

关于如何解决它的任何想法？

# eclipse - Webdriver 的 Selenium MouseDown 错误

> ID：13263950
> 
> 赞同：0
> 
> 时间：2012-11-07T05:57:44.487
> 
> 标签：eclipse, selenium, automation, webdriver

我正在使用 webdriverbacked selenium，它工作正常，即使是 mouseDown 命令，当我突然收到此错误时：

com.thoughtworks.selenium.SeleniumException：TypeError：b 未定义命令持续时间或超时：31 毫秒构建信息：版本：'2.25.0'，修订：'17482'，时间：'2012-07-18 21:09:54 '系统信息：os.name：'Windows XP'，os.arch：'x86'，os.version：'5.1'，java.version：'1.6.0'驱动程序信息：driver.version：RemoteWebDriver

我不知道它是如何到达这里的，但是 mouseDown 命令将不再起作用。知道为什么会发生这种情况以及如何解决这个问题吗？

# python - 什么是“argv”，它有什么作用？

> ID：13263951
> 
> 赞同：11
> 
> 时间：2012-11-07T05:57:45.433
> 
> 标签：python

argv

到底是什么东西！？

编辑：如果可以的话，请你写一两行并解释它是如何工作的？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-11-07T06:02:11.910

试试这个简单的程序，把它命名为`program.py`

```
import sys
print sys.argv 
```

并尝试执行

```
python program.py
python program.py a b c
python program.py hello world 
```

注意什么是 argv 现在。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-11-07T05:58:46.777

它表示*参数向量*，它包含传递给程序的参数。第一个始终是程序名称。

例如，如果你像这样执行你的 Python 程序......

```
 $ python your_script.py --yes 
```

...那么您的`sys.argv`遗嘱将包含`your_script.py`and `--yes`。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2012-11-07T06:51:14.073

在你浪费时间“开始学习一些更高级别的代码”之前，你需要学习如何找到这样的信息。知道如何查找一个不熟悉的函数/类/变量，而不必等待 30-60 分钟让 SO 上的人回答您（并且显然在此过程中获得多个反对票），将比添加一个更有用您的曲目中的一条信息。

从内置帮助：

```
>>> import sys
>>> help(sys)
…
argv -- command line arguments; argv[0] is the script pathname if known
… 
```

这适用于任何模块。通常，模块中的各个类和函数具有更详细的信息（但这不适用于 argv，因为它只是一个`list`，并且列表没有自定义帮助）。

如果这还不够信息，[文档](http://docs.python.org/3/library/sys.html)（或[2.x 文档](http://docs.python.org/2/library/sys.html)）会说：

> 系统。**argv**
> 
> 传递给 Python 脚本的命令行参数列表。argv[0] 是脚本名称（它是否为完整路径名取决于操作系统）。如果命令是使用解释器的 -c 命令行选项执行的，则 argv[0] 设置为字符串“-c”。如果没有将脚本名称传递给 Python 解释器，则 argv[0] 是空字符串。
> 
> 要遍历标准输入或命令行上给出的文件列表，请参阅 fileinput 模块。

谷歌搜索“python argv”的第一个网络结果是[Python 作者 Guido 的一篇博客文章，](http://www.artima.com/weblogs/viewpost.jsp?thread=4829)对你来说可能有点太高级了，但第二个是关于“命令行参数”[的教程。](http://www.tutorialspoint.com/python/python_command_line_arguments.htm)

正如大多数这些事情告诉您的那样，许多简单的脚本通常可以直接使用`fileinput`而不是`argv`直接处理，而更复杂的脚本通常需要使用`argparse`（或`optparse`,`getopt`或其他替代方案，如果您需要使用 Python 2.6 或更早版本）。

一个`sys.argv`恰到好处的例子是这个将相对路径名转换为绝对路径名的简单程序（对于那些不在 linux 或其他带有 abspath、GNU readlink 或内置类似工具的平台上的人）：

```
import os, sys
print('\n'.join(os.path.abspath(arg) for arg in sys.argv[1:])) 
```

或者这个只添加一堆数字的“添加”工具（对于那些卡在 cmd.exe 或其他没有内置算术的有缺陷的 shell 的人）：

```
import sys
print(sum(int(arg) for arg in sys.argv[1:])) 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-11-07T06:02:35.583

您可以使用或不使用参数运行 python 程序。如果您使用参数，它们在 argv 向量内。例如

**蟒蛇程序！！！**

```
#!/usr/bin/python

import sys

print 'Number of arguments:', len(sys.argv), 'arguments.'
print 'Argument List:', str(sys.argv) 
```

**像这样运行脚本**

```
$ python test.py arg1 arg2 arg3 
```

**结果是**

```
Number of arguments: 4 arguments.
Argument List: ['test.py', 'arg1', 'arg2', 'arg3'] 
```

示例来自 [教程点](http://www.tutorialspoint.com/python/python_command_line_arguments.htm)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-11-07T06:04:31.113

如果您有一个可执行的 python 脚本并使用如下参数调用它：

```
myscript.py -a -b --input myfile --another_argument 
```

然后`sys.argv`是一个列表，其中包含：

```
['myscript.py', '-a', '-b', '--input', 'myfile', '--another_argument'] 
```

使用它是访问这些参数的唯一方法，这也是它的主要用途。但是，大多数应用程序使用[argparse](http://docs.python.org/2.7/library/argparse.html)模块等库来访问此信息，而无需`sys.argv`直接使用。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-09-07T00:25:51.103

[sys](https://docs.python.org/2/library/sys.html) .argv 将显示运行脚本时传递的命令行参数，或者您可以说 sys.argv 将存储从终端运行时在 python 中传递的命令行参数

**它将参数存储在列表 ds 中。**

*示例用法：* 创建一个文件说：cmdlineargs.py 并将以下内容放入其中：

```
import sys
print sys.argv 
```

现在在您的终端/cli 中运行该文件：

```
python cmdlineargs.py 
```

或类似的东西

```
python cmdlineargs.py example example1 
```

注意现在发生的事情。当您运行该脚本时，您的脚本将打印在您的 cmd 行参数中传递的所有内容。

重要的是要知道：

```
print len(sys.argv) #total arguments passed
sys.argv[0] #this is your script name stored in sys.argv.
print sys.argv #display all arguments passed
sys.argv[0] #is the first argument passed, which is basically the filename.
sys.argv #stores all cmd line args in a list ds 
```

您可以查找像这样传递的每个特定参数，可能是：

```
cmdLineArg = len(sys.argv)
i=0
for argv in sys.argv:
    if cmdLineArg<=len(sys.argv) :
        print "argument",i,"is", str(sys.argv[i])
        i=i+1
    else:
        print "Only script name in sys.argv" 
```

**样本结果：**

假设您在终端中运行以下命令。

```
python cmdlineargs.py example example1 
```

您的结果应类似于：

```
argument 0 is cmdlineargs.py
argument 1 is example
argument 2 is example1 
```

*注意参数 0 与文件名相同* 。希望这会有所帮助。

* * *

*感谢您的支持，*改进了我对循环的回答。更多pythonian的答案应该是这样的：

```
i=0
for argv in sys.argv:
    if cmdLineArg==1:
        print "Only script name in sys.argv"
    elif (cmdLineArg>1 and cmdLineArg<=len(sys.argv)):
        print "argument ",i,"is", str(argv)
        i=i+1
print "total arguments passed:\t", totalargs 
```

*我也是 python 新手，所以我习惯于声明 i 和 j 来遍历数组。:)*

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-12-16T05:30:24.933

脚本 printArgv.py：

```
import sys
print sys.argv.__class__
spam = sys.argv[1:]
print spam 
```

运行它： `python printArgv.py 1 2 3 4 5`

你会发现输出：

```
<type 'list'>
['1', '2', '3', '4', '5'] 
```

这意味着 sys.argv 是您在脚本名称之后输入的参数列表。

# ruby-on-rails - 使用 nokogiri 从网站中提取信息

> ID：13263955
> 
> 赞同：0
> 
> 时间：2012-11-07T05:57:59.797
> 
> 标签：ruby-on-rails, ruby, nokogiri

我试图弄清楚如何使用 nokogiri 提取文件中的信息。

生成的信息不是 xml 或 html 文件..所以不知道如何得到这个！

```
def get_summoner_account
    url = "http://elophant.com/api/v1/euw/getSummonerByName?summonerName=Heggom&key=0r57xO0H2A7ukQi6gUbG "
    doc = Nokogiri::HTML(open(url))

    name = doc.xpath("name").collect(&:text)
    acctID = doc.xpath("acctID").collect(&:text)
    summonerId = doc.xpath("summonerId").collect(&:text)

    puts accID
    puts name
    puts summonerID

end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:29:45.070

您提供的链接中的数据是[JSON](http://www.json.org/)格式，而不是 XML，因此 Nokogiri 不合适。

要获取您想要的数据，您可以使用 Ruby 的[Net::HTTP](http://ruby-doc.org/stdlib-1.9.3/libdoc/net/http/rdoc/Net/HTTP.html)来获取数据并使用 JSON 来解析它：

```
require 'net/http'
require 'uri'
require 'json'

def get_summoner_account
  uri = URI("http://elophant.com/api/v1/euw/getSummonerByName?summonerName=Heggom&key=0r57xO0H2A7ukQi6gUbG")

  resp = Net::HTTP.get_response(uri)
  hash = JSON(resp.body)

  name = hash['name']
  acctId = hash['acctId']
  summonerId = hash['summonerId']

  ...

end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:28:51.947

输出是 json，而不是 html。您可以使用 Ruby 标准库来提取它。

```
require 'json'
require 'open-uri'

page = open('http://elophant.com/api/v1/euw/getSummonerByName?summonerName=Heggom&key=0r57xO0H2A7ukQi6gUbG')

contents = page.read

h = JSON.parse(contents)

puts a['acctId']
=> 22031699
puts h['name']
=> "Heggom"
puts h['summonerId']
=> 19335440 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-07T13:41:03.363

编写 API 客户端最好使用适合的库。`HTTParty`并且`Rest-client`是很好的宝石。他们可以检测响应类型并为您解析。此外，它们允许您创建为服务建模的类，因此您的代码保持整洁和干燥。

这是您使用[HTTParty](http://httparty.rubyforge.org/)重写的示例。

```
class Elophant
  include HTTParty

  base_uri "http://elophant.com/api/v1/"
  format :json
  @key = "0r57xO0H2A7ukQi6gUbG"

  def self.get_summoner(name)
    get('/euw/getSummonerByName', :query => {'summonerName' => name, 'key' => @key})
  end
end 
```

那么用法就很简单了：

```
summoner = Elophant.get_summoner("Heggom")

puts summoner['acctId'] #=> 22031699

puts summoner['name'] #=> "Heggom"

puts summoner['summonerId'] #=> 19335440 
```

注意：通常 HTTParty 会自动从标头中确定类型，但此站点发送的标头说明内容`text/html`应该是`application/json`. 因此我们需要添加这一行`format :json`。

好消息是细节很好地隐藏在您拥有的课程中。您可以对其进行扩展：假设您想让其他人使用不同的密钥来使用它，您可以创建一个允许您传递密钥`elophant = Elophant.new(key)`等的初始化程序。即使您不需要这样做当然，我发现这个解决方案更清洁。

# .net - 使用带有 .Net 的动态 sql 的 sql server openxml 批量插入

> ID：13263956
> 
> 赞同：0
> 
> 时间：2012-11-07T05:58:16.210
> 
> 标签：.net, bulkinsert, dynamic-sql, sql-server-openxml

我编写了以下过程来使用 openxml 进行批量插入。在我的情况下，表名和列名是动态的，因为它们将在下面插入之前从 .Net 应用程序创建。存储过程运行成功，但未向表中插入任何数据。

请帮我

预先感谢。

```
CREATE PROCEDURE [dbo].[BulkUpdate]
@XmlDoc text,
@TableName nvarchar(50),
@ColumnNames nvarchar(4000),
@ColumnDefinition nvarchar(4000)
AS
BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
SET NOCOUNT ON;
Declare @Idoc int;
Declare @Sql nvarchar(4000);
BEGIN TRANSACTION
Begin Try
Exec sp_xml_preparedocument @Idoc output, @XmlDoc;

Set @Sql = 'Insert into '+@TableName+'('+@ColumnNames+')

Select '+@ColumnNames+' From OpenXML(@Idoc,''/NewDataSet/Data'', 2)

With('+@ColumnDefinition+')';

Print @sql;
Exec @Sql;

Exec sp_xml_removedocument @Idoc;
Commit Transaction
End Try
Begin Catch
RollBack Transaction
End Catch

END 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T19:12:30.403

我观察到 SqlClient.BulkCopy 比上述 OpenXML 方法性能更好。因此我相应地改变了我的逻辑。

# awk - 使用 awk 从多个文件计算平均值

> ID：13263963
> 
> 赞同：8
> 
> 时间：2012-11-07T05:59:08.647
> 
> 标签：awk

我有 500 个名为 fort.1、fort.2 ... fort.500 的文件。每个文件包含 800 个数据，如下所示：

> 1 0.485
> 2 0.028
> 3 0.100
> 4 0.979
> 5 0.338
> 6 0.891
> 7 0.415
> 8 0.368
> 9 0.245
> 10 0.489

我想从每个文件中获取第二列每一行的平均值。换句话说，从所有文件中获取第二列第一行的平均值并存储在“output.file”中。然后获取第二行第二列的平均值并存储在相同的“output.file”中。我尝试使用粘贴命令，但未能得到我想要的。AWK有什么办法吗？

感谢任何帮助。谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T06:26:12.580

awk 在第一列没有任何假设：

```
awk '{a[FNR]+=$2;b[FNR]++;}END{for(i=1;i<=FNR;i++)print i,a[i]/b[i];}' fort.* 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-07T06:19:49.653

`paste`这是使用and的快速方法`awk`：

```
paste fort.* | awk '{ for(i=2;i<=NF;i+=2) array[$1]+=$i; if (i = NF) print $1, array[$1]/NF*2 }' > output.file 
```

像其他一些答案一样；这是另一种方式，但这种方式`sort`用于获得数字排序的输出：

```
awk '{ sum[$1]+=$2; cnt[$1]++ } END { for (i in sum) print i, sum[i]/cnt[i] | "sort -n" }' fort.* 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-07T06:10:19.103

假设第一列是一个 ID：

```
cat fort.* | awk '{sum[$1] += $2; counts[$1]++;} END {for (i in sum) print i, sum[i]/counts[i];}' 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-07T06:06:39.423

我的理解：每个文件都是特定位置的一组测量值。您希望聚合所有位置的测量值，将每个文件中同一行的值平均到一个新文件中。

假设可以将第一列视为行的 ID（并且文件中有 800 个测量值）：

```
cat fort.* | awk '
BEGIN { 
    for (i = 1; i <= 800; i++)
        total[i] = 0
}

{ total[$1] += $2 } 

END {
    for (i = 1; i <= 800; i++)
        print i, total[i]/500
}
' 
```

首先，我们初始化一个数组来存储所有文件中一行的总和。

然后，我们遍历连接的文件。我们使用第一列作为该行的键，然后将总和放入数组中。

最后，我们遍历数组并在所有文件中逐行打印平均值。

# javascript - 当我尝试访问 javascript 数组时，正在填充未定义的值

> ID：13263969
> 
> 赞同：0
> 
> 时间：2012-11-07T06:00:01.150
> 
> 标签：javascript

警报警报（document.inform.cid）；即将到来未定义

```
 <html>
     <head>
     <script type="text/javascript">
    var interval = window.setInterval(iterate, 5000);
    function iterate() {
    var myStringArray = ["user1", "user2"];
       iterate.arr = iterate.arr || myStringArray.slice(0);

        //if it still has elements left
        if(iterate.arr.length > 0) {
            document.inform.cid = iterate.arr.pop(); //remove the top one
            alert(document.inform.cid);
            document.inform.pwd = "xxxxxxxx";
            document.inform.target = iterate.arr.length; // a different target each time - length of the arr
            document.inform.submit();
        } else {
            window.clearInterval(interval); //no more left cancel it
        }
    };

    </script>
     </head>
     <body >
      <form name="inform"   target="newWin" action="https://www.google.co.in/">
     <input type="hidden" name="throttle" value="999" />
     <input type="text" name="cid"  />
     <input type="text" name="pw"  />
        <input type="submit" value="go" onclick="iterate()">
      </form>
     </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T06:06:01.327

在您的代码中：

```
>  document.inform.cid = iterate.arr.pop(); 
```

请注意，这`document.inform.cid`是对 DOM 输入元素的引用，并且`iterate.arr.pop()`是字符串值。所以赋值是不兼容的。

我想你的意思是：

```
 document.inform.cid.value = iterate.arr.pop();

 --------------------^^^^^ 
```

如果你使用更正式的，那可能会更明显：

```
 document.forms['inform'].elements['cid'].value ... 
```

# android - android中的自定义相机显示方向

> ID：13263971
> 
> 赞同：1
> 
> 时间：2012-11-07T06:00:08.353
> 
> 标签：android, android-2.2-froyo

创建自定义相机类时如何在android中保持相机显示方向。当我不完美的解决方案比 android 设备时，我在这种情况下做什么，当某些设备在相机横向或某些设备在相机肖像上做时。

```
 public CameraSurface(Context context) {
        super(context);

        try {
            holder = this.getHolder();
            holder.addCallback(this);
            holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);

        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

    @Override
    public void surfaceCreated(SurfaceHolder holder) {
        try {
            // Open the Camera in preview mode
            this.camera = Camera.open();
            this.camera.setPreviewDisplay(holder);
        } catch (IOException ioe) {
            ioe.printStackTrace(System.out);
        }
    }

    @Override
    public void surfaceDestroyed(SurfaceHolder holder) {
        // Surface will be destroyed when replaced with a new screen
        // Always make sure to release the Camera instance
        camera.stopPreview();
        camera.release();
        camera = null;
    }

    @Override
    public void surfaceChanged(SurfaceHolder holder, int format, int width,
            int height) {
        // Now that the size is known, set up the camera parameters and begin
        // the preview.
//      Camera.Parameters parameters = camera.getParameters();
//      System.out.println("height...."+width+" height....."+height);
//      parameters.setPreviewSize(width, height);
//      camera.setParameters(parameters);
//      camera.startPreview();
        Camera.Parameters parameters = camera.getParameters();
        List<Camera.Size> previewSizes = parameters.getSupportedPreviewSizes();

        // You need to choose the most appropriate previewSize for your app
        Camera.Size previewSize;
        if(previewSizes.size() > 1){
            previewSize =previewSizes.get(1);  // .... select one of previewSizes here
        }else{
            previewSize =previewSizes.get(0);
        }
        parameters.setPreviewSize(previewSize.width, previewSize.height);
        camera.setParameters(parameters);
        camera.setDisplayOrientation(90);
        camera.startPreview();
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T06:11:33.703

以下两个链接将对您有所帮助：

[使用相机 API](http://marakana.com/forums/android/examples/39.html)。
[Android 相机预览是横向的](https://stackoverflow.com/questions/3841122/android-camera-preview-is-sideways/5110406#5110406)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-16T12:07:24.210

使用方向传感器检查方向并根据角度查找角度并使用该角度旋转结果图像。

```
public abstract class SimpleOrientationListener extends OrientationEventListener {

    public static final int CONFIGURATION_ORIENTATION_UNDEFINED = Configuration.ORIENTATION_UNDEFINED;
    private volatile int defaultScreenOrientation = CONFIGURATION_ORIENTATION_UNDEFINED;
    public int prevOrientation = OrientationEventListener.ORIENTATION_UNKNOWN;
    private Context ctx;
    private ReentrantLock lock = new ReentrantLock(true);

    public SimpleOrientationListener(Context context) {
        super(context);
        ctx = context;
    }

    public SimpleOrientationListener(Context context, int rate) {
        super(context, rate);
        ctx = context;
    }

    @Override
    public void onOrientationChanged(final int orientation) {

        int currentOrientation = OrientationEventListener.ORIENTATION_UNKNOWN;
        int angle=0;
        if (orientation >= 330 || orientation < 30) {
            currentOrientation = Surface.ROTATION_0;
            angle=90;
        } else if (orientation >= 60 && orientation < 120) {
            currentOrientation = Surface.ROTATION_90;
            angle=180;
        } else if (orientation >= 150 && orientation < 210) {
            currentOrientation = Surface.ROTATION_180;
            angle=270;
        } else if (orientation >= 240 && orientation < 300) {
            currentOrientation = Surface.ROTATION_270;
            angle=360;
        }
        getset g = new getset();
        g.setK(angle);
        if (prevOrientation != currentOrientation && orientation != OrientationEventListener.ORIENTATION_UNKNOWN) {
            prevOrientation = currentOrientation;
            if (currentOrientation != OrientationEventListener.ORIENTATION_UNKNOWN)
                reportOrientationChanged(currentOrientation);
        }

    }

    private void reportOrientationChanged(final int currentOrientation) {

        int defaultOrientation = getDeviceDefaultOrientation();
        int orthogonalOrientation = defaultOrientation == Configuration.ORIENTATION_LANDSCAPE ? Configuration.ORIENTATION_PORTRAIT
                : Configuration.ORIENTATION_LANDSCAPE;

        int toReportOrientation;

        if (currentOrientation == Surface.ROTATION_0 || currentOrientation == Surface.ROTATION_180)
            toReportOrientation = defaultOrientation;
        else
            toReportOrientation = orthogonalOrientation;

        onSimpleOrientationChanged(toReportOrientation);
    }

    /**
     * Must determine what is default device orientation (some tablets can have default landscape). Must be initialized when device orientation is defined.
     *
     * @return value of {@link Configuration#ORIENTATION_LANDSCAPE} or {@link Configuration#ORIENTATION_PORTRAIT}
     */
    private int getDeviceDefaultOrientation() {
        if (defaultScreenOrientation == CONFIGURATION_ORIENTATION_UNDEFINED) {
            lock.lock();
            defaultScreenOrientation = initDeviceDefaultOrientation(ctx);
            lock.unlock();
        }
        return defaultScreenOrientation;
    }

    /**
     * Provides device default orientation
     *
     * @return value of {@link Configuration#ORIENTATION_LANDSCAPE} or {@link Configuration#ORIENTATION_PORTRAIT}
     */
    private int initDeviceDefaultOrientation(Context context) {

        WindowManager windowManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);
        Configuration config = context.getResources().getConfiguration();
        int rotation = windowManager.getDefaultDisplay().getRotation();

        boolean isLand = config.orientation == Configuration.ORIENTATION_LANDSCAPE;
        boolean isDefaultAxis = rotation == Surface.ROTATION_0 || rotation == Surface.ROTATION_180;

        int result = CONFIGURATION_ORIENTATION_UNDEFINED;
        if ((isDefaultAxis && isLand) || (!isDefaultAxis && !isLand)) {
            result = Configuration.ORIENTATION_LANDSCAPE;
        } else {
            result = Configuration.ORIENTATION_PORTRAIT;
        }
        return result;
    }

    /**
     * Fires when orientation changes from landscape to portrait and vice versa.
     *
     * @param orientation value of {@link Configuration#ORIENTATION_LANDSCAPE} or {@link Configuration#ORIENTATION_PORTRAIT}
     */
    public abstract void onSimpleOrientationChanged(int orientation);

} 
```

用于设置预览的相机方向。

```
public static int setCameraDisplayOrientation(Activity activity, int cameraId, android.hardware.Camera camera) {
        android.hardware.Camera.CameraInfo info = new android.hardware.Camera.CameraInfo();
        android.hardware.Camera.getCameraInfo(cameraId, info);
        int rotation = activity.getWindowManager().getDefaultDisplay().getRotation();
        int degrees = 0;
        switch (rotation) {
            case Surface.ROTATION_0:
                degrees = 0;
                break;
            case Surface.ROTATION_90:
                degrees = 90;
                break;
            case Surface.ROTATION_180:
                degrees = 180;
                break;
            case Surface.ROTATION_270:
                degrees = 270;
                break;
        }

        int result;
        //int currentapiVersion = android.os.Build.VERSION.SDK_INT;
        // do something for phones running an SDK before lollipop
        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {
            result = (info.orientation + degrees) % 360;
            result = (360 - result) % 360; // compensate the mirror
        } else { // back-facing
            result = (info.orientation - degrees + 360) % 360;
        }

        return result;

    } 
```

# vb.net - Ado.Net - 执行标量：捕获返回为整数、字符串或布尔值

> ID：13263972
> 
> 赞同：1
> 
> 时间：2012-11-07T06:00:08.473
> 
> 标签：vb.net, ado.net

建议在从标量返回字符串的情况下使用以下内容

```
Dim lJobName as String = String.Empty
Dim oJobName as object = SqlCommand.ExecuteScalar()

If oJobName Is Nothing Then
    'Do something with the error condition
Else
    lJobName = oJobName.ToString
End If 
```

我怎样才能创建一个通用函数来帮助我捕获其他数据类型（所以执行标量 - 可以返回整数、布尔值或字符串

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:04:32.453

你不能。`ExecuteScalar`将始终返回`Object`，由您决定是否`CAST`使用另一种数据类型。

*   [**SqlCommand.ExecuteScalar 方法**](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)

# r - 在 R 的列表中的每个元素中添加新值？

> ID：13263974
> 
> 赞同：10
> 
> 时间：2012-11-07T06:00:21.570
> 
> 标签：r, list

这里`list1`只有两个元素——“ `name`”和“ `age`”，每个元素都有两个值，现在我想在每个元素中添加新值，

```
list1<-list(name=c("bob","john"),age=c(15,17))
list1
$name
[1] "bob"  "john"

$age
[1] 15 17
list1[[1]][3]<-"herry"
list1[[2]][3]<-17
list1
$name
[1] "bob"   "john"  "herry"

$age
[1] 15 17 17 
```

有更简单的方法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-07T07:55:16.530

此解决方案适用于任何长度的列表：

```
values <- list("herry", 17) # a list of the new values
list1 <- mapply(append, list1, values, SIMPLIFY = FALSE)

# $name
# [1] "bob"   "john"  "herry"

# $age
# [1] 15 17 17 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-22T08:30:30.050

rlist 库提供了@Sven Hohenstein 给出的解决方案的替代方案。它不是更好，而是更直观地阅读。如果密钥相同，那么编程恕我直言会容易一些。

`library(rlist) list1 <- list.append(list1, key=value)`

请注意，密钥是不带引号的。因此，在您的示例中，它将是：

`library(rlist) list1 <- list.append(list1, henry=17)`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-07T06:22:21.280

这有点取决于你想做什么。如果要为列表中的每个元素添加不同的值，我认为最简单的方法是：

```
Vec <- c("herry",17,...)
i=0 
list1 <- lapply(list1, function(x) {i=i+1 ; append(x,Vec[i])}) 
```

如果列表中的每个向量都具有相同的长度，那么您也可以使用一些快捷方式。如果要将相同的值添加到列表中的每个元素：

```
list1 <- lapply(list1, function(x) append(x, "NewEl")) 
```

# html - 复选框的 Html Accesskey

> ID：13263982
> 
> 赞同：0
> 
> 时间：2012-11-07T06:00:51.663
> 
> 标签：html, checkbox, access-keys

我已经为我的复选框提供了访问键，以便使用快捷键获得焦点。

```
<input type="checkbox" id="chkStudent" data-bind="checked: isStudent" accesskey="s"/> 
```

但是当我输入访问密钥即（Alt + s）时，我将复选框设置为未选中。但我只需要关注这一点。你能建议我解决这个问题吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:58:05.457

当您使用 accessKey 属性时，该属性将在按下键时选择元素。要聚焦元素需要在元素上编写一些脚本。这可能对你有帮助。 [向静态 HTML 元素添加键盘可访问的操作](http://www.w3.org/TR/WCAG20-TECHS/SCR29)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T09:22:28.467

使用定义的键的效果`accesskey`在规范中没有详细说明，并且它们因浏览器而异。通常，`accesskey`至少从可访问性的角度来看，现在被视为一个问题，而不是解决方案的一部分。通常，`accesskey`如果表单设计得当，那么如果表单被正确定义和实现，他们可以使用键盘导航和功能（例如，用于制表符的制表键）来处理表单。

# c# - ASP.NET Web API 和 [Serializable] 类

> ID：13263988
> 
> 赞同：14
> 
> 时间：2012-11-07T06:01:14.797
> 
> 标签：c#, .net, asp.net-mvc, asp.net-web-api, serializable

我有一个标有 [Serializable] 的类。当我从 Web API 返回时，字段名称都很时髦。

通常返回的 JSON 是

```
[{"OrderId":797 ... 
```

使用 [Serializable] 时返回的 JSON

```
[{"<OrderId>k__BackingField":797 ... 
```

我不想将其标记为可序列化以使用 BinaryFormatter 进行缓存。除了编写自定义序列化程序或制作不可序列化的孪生类并编写猴子代码以在两者之间“转换”之外，还有其他方法吗？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-11-07T20:57:50.503

你只需要这个单线让 Json.NET 再次忽略 [Serializable] 语义：

```
((DefaultContractResolver)config.Formatters.JsonFormatter.SerializerSettings.ContractResolver).IgnoreSerializableAttribute = true; 
```

对您来说更好的解决方案可能是完全摆脱 [Serializable]，停止使用 BinaryFormatter，并使用不同的序列化程序来执行您想做的任何缓存，例如 Json.NET 序列化程序。

# java - 如何知道ubuntu中文件夹的绝对路径

> ID：13263989
> 
> 赞同：7
> 
> 时间：2012-11-07T06:01:16.420
> 
> 标签：java, linux, ubuntu, path

我在 Windows 上的 NetBeans 中制作了一个 java 应用程序，我需要在 Ubuntu 上部署它。在我的 java 应用程序中，我给出了单击按钮保存 excel 文件的路径。我的地址路径是这样的 D://Excel。这在 Windows 中运行良好，文件被保存在给定的传递地址。现在我的问题是我不知道如何在 ubuntu 中获取地址路径。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-07T06:05:39.920

拿起你的终端并输入

```
pwd 
```

这将提供您的主文件夹路径。在你的程序中使用它。它会是这样的 /home/adarsh ..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T06:09:47.543

问题似乎是：[如何从两个绝对路径（或 URL）构造 Java 中的相对路径？](https://stackoverflow.com/questions/204784/how-to-construct-a-relative-path-in-java-from-two-absolute-paths-or-urls)

请参考上面的链接。希望这对您有所帮助。