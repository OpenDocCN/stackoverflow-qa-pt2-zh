# StackOverflow 问答 14036000-14036999

# javascript - 未捕获的错误：0,0 中的值无效

> ID：14036003
> 
> 赞同：0
> 
> 时间：2012-12-26T04:28:10.963
> 
> 标签：javascript, google-api, google-visualization

在尝试使用谷歌可视化 API 可视化这个散点图时，我遇到了一个非常奇怪的问题。

基本上，如果我将第一个数据点作为 [0,0] 一切都会好起来的，但如果删除 [0,0] 作为第一个点，图表将不会生成。我检查了控制台，这就是它所说的：

“未捕获的语法错误：意外的令牌 <
未捕获的错误：0,0 中的值无效”

为什么第一个点必须是[0,0]？

```
<html>
  <head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Camera','Avg Rating'],
          [ {v:6000, f: 'Canon EOS-1Ds Mark III'}, 60],
          [ {v:5000, f: 'Canon EOS-1Ds Mark II'}, 50],
          [ {v:4000, f: 'Canon EOS-1D Mark IV'}, 40]
        ]);

        var options = {
          title: 'Breakdown of Camera Models by Price, Photo Rating and Brand',
          hAxis: {title: 'Price (USD)', minValue: 0, maxValue: 7500},
          vAxis: {title: 'Avg Rating (at peak)', minValue: 0, maxValue: 55},
          legend: 'none'          
        };
        var chart = new google.visualization.ScatterChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
  </head>
  <body>
    <div id="chart_div" style="width: 1000px; height: 1000px;"></div>
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-24T16:49:11.133

这里的问题是 {v: value, f: 'formatted value'} 语法不适用于 arrayToDataTable 方法（如此处所述（[https://developers.google.com/chart/interactive/docs/reference #google.visualization.arraytodatatable](https://developers.google.com/chart/interactive/docs/reference#google.visualization.arraytodatatable)））。如果要使用该语法，则必须手动定义 DataTable，然后使用 #addRows 方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T20:32:35.727

不知道为什么我有这个错误，但我找到了解决它的方法。当我使用 DataTable 构造函数时它开始工作：

```
var data = new google.visualization.DataTable();
                data.addColumn('number', 'Price');
                data.addColumn('number', 'Canon');
                data.addColumn('number', 'Nikon');
                data.addColumn('number', 'Other');
                data.addRows([
                  [{v:6000, f: 'Canon EOS-1Ds Mark III'}, 60  ,null  ,null],
                  [{v:5000, f: 'Canon EOS-1Ds Mark II'}, 50  ,null  ,null], 
```

而不是 arraytoDataTable 构造函数：

```
 var data = google.visualization.arrayToDataTable([
      ['Camera','Avg Rating'],
      [ {v:6000, f: 'Canon EOS-1Ds Mark III'}, 60],
      [ {v:5000, f: 'Canon EOS-1Ds Mark II'}, 50],
      [ {v:4000, f: 'Canon EOS-1D Mark IV'}, 40]
    ]); 
```

希望对遇到此问题的任何人有所帮助。

# java - 如何将jobobject转换为jstring

> ID：14036004
> 
> 赞同：6
> 
> 时间：2012-12-26T04:28:17.353
> 
> 标签：java, c++, java-native-interface, cocos2d-x

我正在尝试获取一个字符串以返回从 cpp 到 java 的函数调用。

这是我的 JNI 调用

```
 string GetIDJni()
{
    cocos2d::JniMethodInfo methodInfo;
    if (! JniHelper::getStaticMethodInfo(methodInfo, CLASS_NAME, "GetID", "()Ljava/lang/String"))
    {
        return "";
    }

    jobject retObj = methodInfo.env->CallStaticObjectMethod(methodInfo.classID, methodInfo.methodID);
    jstring retStr = (jstring)retObj;
    methodInfo.env->DeleteLocalRef(methodInfo.classID);
    return (JniHelper::jstring2string(retStr));        
} 
```

在编译我得到错误

> 错误：从 '_jobject*' 到 '_jstring*' 的无效转换

谁能告诉我如何解决这个问题。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-26T09:47:09.090

干得好 ...

```
const char* GetIDJni() {

    JniMethodInfo t;

        if (JniHelper::getStaticMethodInfo(t, CLASS_NAME, "GetIDJni", "()Ljava/lang/String;")) {
            jstring str = (jstring)t.env->CallStaticObjectMethod(t.classID, t.methodID);
            t.env->DeleteLocalRef(t.classID);
            CCString *ret = new CCString(JniHelper::jstring2string(str).c_str());
            ret->autorelease();
            t.env->DeleteLocalRef(str);

            return ret->m_sString.c_str();
        }

        return 0;
    } 
```

如果你想让它返回为 std::String 那么

```
std::string GetIDJni() {
  std::string ret;
JniMethodInfo t;

    if (JniHelper::getStaticMethodInfo(t, CLASS_NAME, "GetIDJni", "()Ljava/lang/String;")) {
        jstring str = (jstring)t.env->CallStaticObjectMethod(t.classID, t.methodID);
        t.env->DeleteLocalRef(t.classID);
        ret=JniHelper::jstring2string(str);
        t.env->DeleteLocalRef(str);

        return ret;
    }

    return 0;
} 
```

# c - 用于 IPC 的轻量级跨平台消息队列

> ID：14036007
> 
> 赞同：5
> 
> 时间：2012-12-26T04:28:45.397
> 
> 标签：c, ipc, message-queue

```
gcc 4.7.2
c89 
```

我正在寻找一个轻量级的消息队列（IPC），它是跨平台的（linux、windows）。

我使用过 msgget、msgsnd 和 msgrcv。但这不是跨平台的，因此不适用于 Windows。

我不需要任何套接字层（tcp、udp）。因为所有消息都将在同一台服务器上。

基本上，我有一个事件循环，我将阻塞（单独的线程），直到我从消息队列（msgrcv）中得到一条消息。然后处理该事件。消息将来自我创建的另一个共享库，我将在事件循环中监视事件。

我只想能够将消息发送到消息队列（msgsnd），然后在我的事件循环中接收它们（msgrcv）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T04:41:06.303

AFAIK 有两个这样的东西：[ØMQ](http://www.zeromq.org/)和[Gearman](http://gearman.org/)。

ØMQ 是充当并发框架的套接字库，适用于可扩展多核消息传递应用程序的异步 I/O。它支持大多数操作系统，包括 Linux、Windows、OS X。

Gearman 允许您并行工作、负载平衡处理以及在语言之间调用函数。换句话说，它是分布式处理如何通信的神经系统。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T07:39:36.700

您可以查看我们的[MsgConnect](http://www.eldos.com/msgconnect/)（提供免费许可证）。MsgConnect 是一个跨平台（包括 Linux 和 Windows）的面向消息的中间件框架，设计用于在同一台计算机上或跨网络轻松发送消息。

# javascript - WebSockets 和在发送时重用 ArrayBuffers

> ID：14036016
> 
> 赞同：2
> 
> 时间：2012-12-26T04:30:31.667
> 
> 标签：javascript, html, websocket, arraybuffer, typed-arrays

我正在使用 Uint8Arrays 和 ArrayBuffers 发送二进制数据。我可以通过每次创建一个新的 Uint8Array 和 ArrayBuffer 来成功发送它。

出于性能目的（减少垃圾等），我想为下一条消息重用相同的 Uint8Array 和 ArrayBuffer 。在这种情况下，每条消息都具有相同的字段，因此字节长度不是问题。我只是覆盖它。

但是，重用会导致发送的数据不正确。

我最好的猜测是，我正在为下一条消息修改 ArrayBuffer，而前一条消息仍在发送过程中。这是问题吗？如果是这样，有什么方法可以检测到 WebSocket 何时不再使用 ArrayBuffer 以便我可以将其汇集起来？如果不是，还有什么可能导致这种行为？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T20:06:29.053

显然，这个错误只是我的一个逻辑错误。

为了以二进制形式发送内容，我编写了一个 Message 对象，该对象使用位移和整数加法来填充 Uint8Array。当我编写我的重置函数时，我只重置位置变量而不是数组值，假设它的函数会正确覆盖数组。

但是，由于向数组添加新值使用的是加法 (array[0] += newvalue) 而不是集合 (array[0] = newvalue)，因此任何新数据都会被旧值破坏。

我现在感觉有点傻

Dhruv Chopra 和 Kanaka 的评论帮助我指明了正确的方向。我使用 10 秒间隔的 setTimeout 函数进行了测试，但它仍然给我错误的值，这让我意识到这只是我的一个愚蠢的错误。我想赞扬他们，但我不知道如何。

尽管如此，还是非常感谢您的帮助！我很感激。

编辑：显然我只能在 8 小时后回答我自己的问题。我明天会这样做以避免混淆。

编辑 2： 显然我现在可以投票赞成评论。再次感谢。

# javascript - 在 setTimeout 中传递 this.method 不起作用？

> ID：14036022
> 
> 赞同：2
> 
> 时间：2012-12-26T04:32:10.020
> 
> 标签：javascript

我看到将对象方法作为参数传递给 setTimeout 的问题。我知道在嵌套函数内部，需要手动设置 this 的范围，但是如果我直接传递函数对象怎么办，在我的例子中是 this.counting。将匿名函数声明为第一个参数有什么需要，this.counting 已经是一个函数。

[Mozilla](https://developer.mozilla.org/en-US/docs/DOM/window.clearTimeout)还在 setTimeout 第一个参数中使用 function(msg) {self.remind(msg);} 而不是 this.remind。

```
function Timer(count,start){
    this.count = count;
    this.start = start;

}

//below code works
Timer.prototype.counting = function(){
    var self = this;
    setTimeout(function(){self.counting();},this.start);
    console.log(this.count);
    this.count++;
};

//below code doesn't work
/*
Timer.prototype.counting = function(){
    setTimeout(this.counting,this.start);
    console.log(this.count);
    this.count++;
};
*/
var t1 = new Timer(0,1000);
t1.counting();
var t2 = new Timer(100,1000);
t2.counting(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T04:37:23.680

[的 MDN 文档`setTimeout`有一整节关于它](https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout#The_.22this.22_problem)，我建议阅读它。

* * *

在您传递给的回调中`setTimeout`，`this`将引用`window`，而不是您的类的实例。

如果调用该函数，`this.count`（它指的是`window.count`）将是`undefined`，因为没有全局`count`变量。后来它会变成`NaN`（`undefined++`是`NaN`）。您的对象的`count`属性根本不会改变。

通过将函数显式调用为对象 ( `self.counting()`) 的方法，您可以确保`this`正确引用您的类的实例。

您可以通过使用[`.bind` *^([MDN])*](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind)来实现相同的目的，而不是使用另一个函数：

```
setTimeout(this.counting.bind(this), this.start); 
```

阅读[这篇 MDN 文章](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this)以了解更多关于`this`.

# objective-c - 如何使用 gdata-objectivec-client？

> ID：14036027
> 
> 赞同：0
> 
> 时间：2012-12-26T04:32:44.483
> 
> 标签：objective-c, ios, gdata-api, gdata-objectivec-client

我按照本[教程](http://hoishing.wordpress.com/2011/08/23/gdata-objective-c-client-setup-in-xcode-4/)中的步骤操作。现在我可以将 youtube 库的头文件导入我的班级，但我不知道如何使用它们。例如，如何登录 youtube 并将视频添加到收藏列表？请给我一些示例代码，因为我是 Objective-c 和 gdata-objectivec-client 的新手。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T04:36:32.687

我看到您遵循了仅用于设置库的教程。
我在这里找到一个关于使用 GData 的信息：

[http://code.google.com/p/gdata-objectivec-client/wiki/GDataObjCIntroduction](http://code.google.com/p/gdata-objectivec-client/wiki/GDataObjCIntroduction)

# java - JPanel 可调整大小，组件位于中心

> ID：14036028
> 
> 赞同：1
> 
> 时间：2012-12-26T04:32:50.257
> 
> 标签：java, swing, jpanel, jlabel, layout-manager

所以下面是我正在制作的这款游戏的代码。它是一个数字猜谜游戏。无论如何，我的主要问题是如何制作 gamePanel 的内容，以便在调整屏幕大小时组件仍位于中心。因此，如果屏幕变得更小，那么组件会自动移动以被压扁并仍然在面板中看到。

多年来，我一直试图弄清楚这一点。

```
public class GameScreen {    

    public static void main(String[] args) {
        final JFrame game;
        final JButton playButton, guessButton;
        final JPanel topPanel, gamePanel, rangePanel, guessPanel;
        final JTextArea gameStatus;
        final GuessingGame gameNumbers;

        game = new JFrame();
        gameNumbers = new GuessingGame();
        game.setTitle("Guessing Game");
        game.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JLabel playerLabel = new JLabel("Player: ");
        JLabel guessLabel = new JLabel("Guess: ");
        final JLabel rangeLabel = new JLabel("Range: ");

        final JTextField playerName = new JTextField("", 20);
        final JTextField guessInput = new JTextField("", 20);

        playButton = new JButton("Play");
        guessButton = new JButton("Guess");

        topPanel = new JPanel();
        gamePanel = new JPanel();
        rangePanel = new JPanel(new BorderLayout());
        guessPanel = new JPanel(new FlowLayout());
        CountDownProgressBar countDownPanel = new CountDownProgressBar();

        gameStatus = new JTextArea(10, 20);
        JScrollPane scroll = new JScrollPane(gameStatus);

        game.add(topPanel, BorderLayout.NORTH);
        game.add(scroll, BorderLayout.EAST);
        game.add(gamePanel, BorderLayout.WEST);
        game.add(countDownPanel, BorderLayout.SOUTH);

        gamePanel.add(rangePanel);
        gamePanel.add(guessPanel);

        topPanel.setBackground(Color.yellow);
        topPanel.add(playerLabel);
        topPanel.add(playerName);
        topPanel.add(playButton);

        rangePanel.add(rangeLabel);

        guessPanel.add(guessLabel);
        guessPanel.add(guessInput);
        guessPanel.add(guessButton);   

        gameStatus.setFocusable(false);
        guessButton.setEnabled(false); 
        guessInput.setEnabled(false);
        playButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                if (playerName.getText().equals("")) {
                    JOptionPane.showMessageDialog(gamePanel, "Invalid Player Name");
                } else {
                    gameNumbers.play();    
                    gameStatus.append("Game Started!\n");
                    rangeLabel.setText(gameNumbers.toString());           
                    guessButton.setEnabled(true);
                    guessInput.setEnabled(true);
                    playButton.setEnabled(false);
                    playerName.setEnabled(false);
                }
            }
        });
        guessButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                int playerGuess = Integer.parseInt(guessInput.getText());
                if (gameNumbers.isGuessCorrect(playerGuess)) {
                    gameStatus.append("Game Over!\n");
                    guessButton.setEnabled(false);
                    guessInput.setEnabled(false);
                    playButton.setEnabled(true);
                    playerName.setEnabled(true);
                    JOptionPane.showMessageDialog(gamePanel, "" + playerName.getText() + " wins!");
                } if (gameNumbers.isGuessAlmostCorrect(playerGuess)) {
                    gameStatus.append("very close!\n");
                    guessInput.requestFocus();
                } if (gameNumbers.isGuessLarger(playerGuess)) {
                    gameStatus.append("try something smaller...\n");
                    guessInput.requestFocus();
                } if (gameNumbers.isGuessSmaller(playerGuess)) {
                    gameStatus.append("try something larger...\n");
                    guessInput.requestFocus();
                } 
            }
        });
        game.pack();
        game.setVisible(true);
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T04:58:28.950

有很多遗漏，但是，如果我没看错的话，请将布局管理器更改为`gamePanel`类似`GridBagLayout`( `gamePanel = new JPanel(new GridBagLayout())`) 的内容，并将其添加到`game`面板的中心位置 ( `game.add(gamePanel, BorderLayout.CENTER)`)。

# sql - sql server：分组中的case语句

> ID：14036030
> 
> 赞同：1
> 
> 时间：2012-12-26T04:33:33.267
> 
> 标签：sql, sql-server, group-by, case

我有这个查询。

```
 Select a."AreaBlkType",Case a."AreaBlkType"
when 3 then 'Others'
else ( case a."CropType"
        when 1 then 'Oil Palm'
        when 2 then 'Rubber'
        else 'Other Crop'
        end
         )
end [Crop] 
    from Table1 a 
    group by 
    case a."AreaBlkType"
when 3 then 'Others'
else ( case a."CropType"
        when '1' then 'Oil Palm'
        when '2' then 'Rubber'
        when '3' then 'Other Crop'
        end )
end, 
a."AreaBlkType" 
```

但我得到了一个错误。: CropType' 在选择列表中无效，因为它不包含在聚合函数或 GROUP BY 子句中

我的sql正确吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T04:40:37.297

为什么需要 GROUP BY？您是否期望重复记录并且只想要不同的记录？

无论哪种情况，您的 GROUP BY 都必须包含相同的 CASE 语句，因此：

```
Select
   Case a."AreaBlkType"
      when 3 then 'Others'
      else
         case a."CropType"
            when 1 then 'Oil Palm'
            when 2 then 'Rubber'
            else 'Other Crop'
         end
   end [Crop] 
 from Table1 a 
group by 
   Case a."AreaBlkType"
      when 3 then 'Others'
      else
         case a."CropType"
            when 1 then 'Oil Palm'
            when 2 then 'Rubber'
            else 'Other Crop'
         end
   end 
```

# html - 文本和输入高度不正确

> ID：14036034
> 
> 赞同：1
> 
> 时间：2012-12-26T04:34:28.087
> 
> 标签：html, css

我目前正在为我的网站制作新的外观和系统，但是，我遇到了行/文本高度问题。我试过使用 line-height，但没有运气，因为它开始与 div 和其他文本重叠，而且看起来不正常。

当前的 CSS [#Content 是我正在谈论的主要容器]

```
body {
                background:#000 url(/Media/Background.png) top center;
            }
            #Wrap { 
                width:100%; 
                height:100%; 
            }
            #Header { 
                position:absolute; 
                width:100%;
                height:100px; 
                left:0px; 
                top:0px; 
                background-color:#000; 
                color:#FFF;
                text-align:center;

            }
            #Logo {
                background:url(/Media/TeknikkInfo.png) left no-repeat;
                position:absolute;
                height:100px;
                width:452px;
                left:10px;
                cursor:pointer;
            }
            #Navigation { 
                position:absolute; 
                width:100%;
                height:50px; 
                left:0px; 
                top:100px; 
                background:#1f1f1f;
                line-height:10px;
                text-align:center;

            }
            #Content { 
                border:1px solid #000;
                background:url(https://8b300d69518d5a96e5de-3852609c222273912115f7d2fbf93e19.ssl.cf1.rackcdn.com/BackgroundTeknikk.png);
                position:relative; 
                margin:0px auto 0px auto;
                width:900px;
                top:152px; 
                background-color:#000; 
                text-align:center;
                color:#FFF;
                line-height:0px;

                font-size:20px;

                text-shadow:
                -1px -1px 0 #000,
                1px -1px 0 #000,
                -1px 1px 0 #000,
                1px 1px 0 #000;  

            }
            .Button {
                min-width:100px;
                height:40px;
                position:relative;
                top:5px;
                line-height:40px;
                margin:0px auto 0px auto;
                text-align:center;
                background:url(https://8b300d69518d5a96e5de-3852609c222273912115f7d2fbf93e19.ssl.cf1.rackcdn.com/Button.png);
                cursor:pointer;
                display:inline-block;
                border:1px solid #000;
            }
            #Title {
                width:400px;
                height:27px; 
                margin:-22px auto 0px auto;
                -moz-border-radius: 15px;
                border-radius: 15px;
                background:#FFF;
                color:#000;
                top:0px;
                text-align:center;

            }
            #Seal { 
                position:absolute; 
                top:150px;
                width:132px;
                height:70px; 
                left:0px;  
                background:#1f1f1f              top;

                text-align:left;
            }
            #Seal > span { display:inline-block;} 
```

line-height:0px 的样子； ![http://img141.imageshack.us/img141/9388/55420dcd45cd4271b2b3095.png](../Images/a30dd76af04bae89b381fac63ece8d4c.png)

这是一个问题，因为有文本和链接会导致问题。它也适用于这样的输入字段。 ![在此处输入图像描述](../Images/376c1e3d97a377ed3c3adc5cd56af68f.png)

当我删除行高时，它看起来像这样。 ![在此处输入图像描述](../Images/ef3b1c9cf44e908b0e2597da06f3a88e.png) 当我为 PHP 打开 display_errors 时，它看起来很正常。所以，有什么问题，我希望它是正常的，而不是像一个 1000px 长的空间网站

我以前也遇到过这个问题，但并不关心它，就像一些小型网站一样。那么，我怎样才能使高度正确，而不让它与文本重叠，所以超链接是半可点击的？ [https://teknikk.info/teknikk.info/](https://teknikk.info/teknikk.info/)是开发者所以如果你需要查看所有代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T04:48:14.930

页面[https://teknikk.info/teknikk.info/](https://teknikk.info/teknikk.info/)上的`<h1>`和元素具有您未调整的默认边距。浏览器有一个“用户代理样式表”，其中包含当该属性没有其他样式信息时浏览器应用的 CSS。`<p>`

在 Chrome 中，这大约是 .67em`<h1>`和 1em `<p>`。

您可以使用以下 CSS 删除此边距：

`h1, p {margin: 0;}`

但是，这可能会使您的文本非常难以阅读。

你最好排版你的文件。这是一篇关于设置网络可读性边距的好文章：http: [//24ways.org/2006/compose-to-a-vertical-rhythm/](http://24ways.org/2006/compose-to-a-vertical-rhythm/)

# android - Listview 内的水平 Listview

> ID：14036035
> 
> 赞同：1
> 
> 时间：2012-12-26T04:34:47.200
> 
> 标签：android, listview, nullpointerexception

在列表视图中创建水平列表视图时出现问题..

```
myAdapter adapter = new myAdapter(thisActivity, kategoriList,
                        R.layout.list_item,
                        new String[] { "nama","thumbnail"}, new int[] {
                                R.id.name, R.id.thumb_kategori});

                setListAdapter(adapter);

                HorizontalListView listview = (HorizontalListView) findViewById(R.id.listview2);
                listview.setAdapter(mAdapter); 
```

这是布局：我正在使用 Dev-SmartLib 中的 Horitontal Listview

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal">  
    <LinearLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">
        <!-- Name Label -->

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="match_parent" >

            <ImageView
                android:id="@+id/thumb_kategori"
                android:layout_width="40dp"
                android:layout_height="40dp" />

            <TextView
                android:id="@+id/name"
                android:layout_width="238dp"
                android:layout_height="wrap_content"
                android:layout_marginLeft="20dp"
                android:paddingBottom="2dip"
                android:paddingTop="6dip"
                android:textColor="#43bd00"
                android:textSize="16sp"
                android:textStyle="bold" />

        </LinearLayout>
    <RelativeLayout
      android:layout_width="match_parent"
      android:layout_height="wrap_content" >

      <com.devsmart.android.ui.HorizontalListView
          android:id="@+id/listview2"
          android:layout_width="fill_parent"
          android:layout_height="wrap_content"
          android:layout_marginBottom="40dp"
          android:layout_marginLeft="70dp"
          android:layout_marginRight="70dp"
          android:layout_marginTop="50dp"
          android:divider="#FFCC00"
          android:fillViewport="false" >

      </com.devsmart.android.ui.HorizontalListView>

  </RelativeLayout>

    </LinearLayout>

</LinearLayout> 
```

但是，当我尝试这种方法时发生了错误：这是 Log Cat：

```
12-26 11:09:16.350: E/AndroidRuntime(7102): FATAL EXCEPTION: main
12-26 11:09:16.350: E/AndroidRuntime(7102): java.lang.NullPointerException
12-26 11:09:16.350: E/AndroidRuntime(7102):     at com.lluvia.digilib.DashboardActivity$HeavyWorker.onPostExecute(DashboardActivity.java:468)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at com.lluvia.digilib.DashboardActivity$HeavyWorker.onPostExecute(DashboardActivity.java:1)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at android.os.AsyncTask.finish(AsyncTask.java:590)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at android.os.AsyncTask.access$600(AsyncTask.java:149)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:603)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at android.os.Handler.dispatchMessage(Handler.java:99)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at android.os.Looper.loop(Looper.java:132)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at android.app.ActivityThread.main(ActivityThread.java:4123)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at java.lang.reflect.Method.invokeNative(Native Method)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at java.lang.reflect.Method.invoke(Method.java:491)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:844)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)
12-26 11:09:16.350: E/AndroidRuntime(7102):     at dalvik.system.NativeStart.main(Native Method) 
```

请帮助meeee :((((((

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:07:04.453

you need to initialized this n `getView` of your `Adapter` calss.

```
 HorizontalListView listview = (HorizontalListView) findViewById(R.id.listview2);
            listview.setAdapter(mAdapter); 
```

like

```
 HorizontalListView listview = (HorizontalListView) convertview.findViewById(R.id.listview2);
            listview.setAdapter(mAdapter); 
```

you are initializing `HorizontalListView` in main `Activity's` layout. But it is in your `list_item.xml`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-04T01:02:47.073

请删除此

```
 xmlns:android="http://schemas.android.com/apk/res/android" 
```

从你的第二个 LinearLayout。您的 xml 代码应如下所示...或将 RelativeLayout 替换为 LinearLayout。如果用作父布局，RelativeLayout 可以正常工作，如图所示。如果下面的代码不起作用，请使用[**RecyclerView**](http://whats-online.info/science-and-tutorials/87/Android-tutorial-Horizontal-RecyclerView-with-images-and-text-example/)

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal">  

 <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">
        <!-- Name Label -->

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="match_parent" >

            <ImageView
                android:id="@+id/thumb_kategori"
                android:layout_width="40dp"
                android:layout_height="40dp" />

            <TextView
                android:id="@+id/name"
                android:layout_width="238dp"
                android:layout_height="wrap_content"
                android:layout_marginLeft="20dp"
                android:paddingBottom="2dip"
                android:paddingTop="6dip"
                android:textColor="#43bd00"
                android:textSize="16sp"
                android:textStyle="bold" />

        </LinearLayout>
    <LinearLayout
      android:layout_width="match_parent"
      android:layout_height="wrap_content" >

      <com.devsmart.android.ui.HorizontalListView
          android:id="@+id/listview2"
          android:layout_width="fill_parent"
          android:layout_height="wrap_content"
          android:layout_marginBottom="40dp"
          android:layout_marginLeft="70dp"
          android:layout_marginRight="70dp"
          android:layout_marginTop="50dp"
          android:divider="#FFCC00"
          android:fillViewport="false" >

      </com.devsmart.android.ui.HorizontalListView>

  </LinearLayout>

    </LinearLayout>

</RelativeLayout> 
```

如果这不起作用，您可以尝试使用 recyclerView 创建画廊元素的水平列表，如此[处所示](http://whats-online.info/science-and-tutorials/87/Android-tutorial-Horizontal-RecyclerView-with-images-and-text-example/)

# iphone - ios如何识别iphone4s和iphone5的设备类型

> ID：14036038
> 
> 赞同：-2
> 
> 时间：2012-12-26T04:35:17.347
> 
> 标签：iphone, ios, scale

> **可能重复：**
> [使用 iPhone SDK 确定设备（iPhone、iPod Touch）](https://stackoverflow.com/questions/448162/determine-device-iphone-ipod-touch-with-iphone-sdk)

ios如何判断iphone3gs iphone4 iphone4s和iphone5的设备类型？我知道[[UIScreen mainScreen] scale]，但是如何知道设备的类型，比如 iphone4 和 iphone5

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:11:08.567

按照下面的代码，它将满足您的需求。

```
#define IS_IPHONE ( [[[UIDevice currentDevice] model] isEqualToString:@"iPhone"] )
#define IS_IPOD   ( [[[UIDevice currentDevice] model] isEqualToString:@"iPod touch"] )
#define IS_IPAD   ( [[[UIDevice currentDevice] model] isEqualToString:@"iPad"] )
#define IS_IPHONE_5_SCREEN [[UIScreen mainScreen] bounds].size.height >= 568.0f && [[UIScreen mainScreen] bounds].size.height < 1024.0f
#define IS_IPHONE_4_SCREEN [[UIScreen mainScreen] bounds].size.height >= 480.0f && [[UIScreen mainScreen] bounds].size.height < 568.0f

if(IS_IPHONE_5_SCREEN)
{
    if(IS_IPHONE)
        NSLog(@"Hey, this is an iPhone 5 screen!");
    else if(IS_IPOD)
        NSLog(@"Hey, this is an iPod 5 screen!");
    else
        NSLog(@"Hey, this is a simulator screen with iPhone 5 screen height!");
}
else if(IS_IPHONE_4_SCREEN)
{
    if(IS_IPHONE)
        NSLog(@"Hey, this is a lower iPhone screen than 5!");
    else if(IS_IPOD)
        NSLog(@"Hey, this is a lower iPod screen than 5!");
    else
        NSLog(@"Hey, this is a lower simulator screen than 5!");
}
else if(IS_IPAD){
    NSLog(@"Hey, this is an iPad screen!");
}
else{
    NSLog(@"Hey, this is an ipad simulator screen!");
} 
```

享受！干杯!

# php - 如何制作用户定义的 URL？

> ID：14036040
> 
> 赞同：0
> 
> 时间：2012-12-26T04:36:06.653
> 
> 标签：php, url-rewriting, smarty

我有一个使用 MVC 框架创建的 PHP 网站我想更改 url。这些 url 取决于页面意味着在我的网页中，我有一个选项可以根据想要更改的城市更改 url 选择城市。现在它显示

```
www.legacy.com/womens/tops/ 
```

这里的 womens 是一个文件夹，而 tops 是一个 php 文件。我想把它改成

```
www.legacy.com/womens_tops_in_uk.php 
```

或者

```
www.legacy.com/ladies_tops_in_uk.php 
```

我想这样改变我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:47:45.047

首先在 Apache 目录中的 httpd.cfg 文件中启用 mod_rewrite。默认情况下它会被评论，你必须取消评论才能启用它。

您的网址：www.legacy.com/womens/tops?city=UK 您所需的网址为：www.legacy.com/tops_UK

现在在你的 .htaccess 文件中写下这些行：

```
RewriteEngine On
       RewriteRule ^tops_(.*) womens/tops/id=$1 
```

# yii - Yii 抛出异常

> ID：14036041
> 
> 赞同：1
> 
> 时间：2012-12-26T04:36:07.570
> 
> 标签：yii, ckeditor, yii-extensions

一个在本地看起来不错的应用程序在现场引发了以下异常：

```
CException

Alias "application.extensions.TheCKEditor.theCKEditorWidget" is invalid. 
Make sure it points to an existing PHP file and the file is readable. 
```

代码：

```
 <?php $this->widget('application.extensions.TheCKEditor.theCKEditorWidget',array(
        'model'=>$model,                # Data-Model (form model)
        'attribute'=>'wordMeaning',         # Attribute in the Data-Model
        'height'=>'400px',
        'width'=>'100%',
        'toolbarSet'=>'Full',          # EXISTING(!) Toolbar (see: ckeditor.js)
        'ckeditor'=>Yii::app()->basePath.'/../assets/ckeditor3.6.5/ckeditor.php',
                                        # Path to ckeditor.php
        'ckBasePath'=>Yii::app()->baseUrl.'/assets/ckeditor3.6.5/',
                                        # Relative Path to the Editor (from Web-Root)
        //'css' => Yii::app()->baseUrl.'/css/index.css',
                                        # Additional Parameters
    ) ); ?> 
```

任何的想法 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-27T05:23:00.577

检查路径 ./protected/extensions/TheCKEditor/theCKEditorWidget。还要检查路径 TheCKEditor 的大小写

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T04:57:35.070

扩展文件名为**TheCKEditorWidget.php**，它被称为**theCKEditorWidget.php**

更改案例解决了我的问题。

# javascript - 展开/折叠并非所有都在创建的 div 中工作

> ID：14036043
> 
> 赞同：0
> 
> 时间：2012-12-26T04:36:12.970
> 
> 标签：javascript, jquery

我有这段代码可以在每个创建的 div 中创建 div 和折叠/展开元素。

```
 var i=1;
      $('#addDiv').click(function() {
        var divId="addedDiv"+i; 
        $(".content_body").slideUp(500);      
        $('<div></div>').attr({
            'id' : divId,
            'class' : 'addedDiv'           
      })
      .appendTo('#container').load("content.php");
      $(".content_head").click(function()
      { 
        $(this).next(".content_body").slideToggle(600);
      });
      i++;
    }); 
```

内容.php：

```
<h2 class="content_head" style="background:orange;"> header</h2>      
<div class="content_body" style="background:blue;"> content </div> 
```

html：

```
 <input id="addDiv" type="button" value="add div" >
 <div id="container" style="width:500px;height:auto;background:red;"></div> 
```

说创建了 5 个 div，第 1、2 和 3 个创建的 div 的展开/折叠效果不佳。

如何解决这个问题以及如何将创建的 div 的 'id' 插入到每个的标题中（例如，第二个 div 的标题 = header addedDiv2）？

在此先感谢您的任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T04:50:13.883

您需要在`div`通过 JavaScript 加载后立即执行此函数。

```
$(".content_head").click(function() {
    $(this).next(".content_body").slideToggle(600);
}); 
```

如果这不可能，请使用该`$.on()`功能。

```
$("body").on("click", ".content_head", function(){
    $(this).next(".content_body").slideToggle(600);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:06:22.253

您`content_head`在实际加载之前绑定了点击处理程序。要更正此问题，您需要在加载事件*后*通过绑定成功回调中的事件来绑定事件`load()`：

```
...
.appendTo('#container').load("content.php", function() {
    $(this).find(".content_head").click(function() { 
        $(this).next(".content_body").slideToggle(600);
    });
});
... 
```

# android - Android：为什么只在屏幕顶部听到点击而不是分配的视图？

> ID：14036044
> 
> 赞同：1
> 
> 时间：2012-12-26T04:36:26.073
> 
> 标签：android, android-relativelayout, tablelayout, onclicklistener

我的应用程序使用显示在RelativeLayout 上方的以编程方式生成的TableLayout。TableLayout 中的第一行包括一个分配了 onClickListener 的 TextView。TableLayouts 使用 TranslateAnimation 显示在屏幕的底部。莫名其妙地，听到了点击，但只在屏幕顶部的操作栏下方。再加上只有一名听众在开火。我必须承认我对此感到困惑。我认为使用`android:descendantFocusability="blocksDescendants">`可以解决它，但没有这样的运气。在将设计转换为 ListView（我不想这样做）之前，我希望 StackOverflow 专家可以帮助解决这个问题。

这是显示生成的 2 个 TableLayouts 的屏幕截图： ![截屏](../Images/4b9a90628e75e64e973721ca3a18ba48.png)

这是 RelativeLayout 父级：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
   xmlns:android="http://schemas.android.com/apk/res/android"
   android:id="@+id/GPSTrackerRelativeLayout_root"
   android:orientation="vertical"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   android:descendantFocusability="blocksDescendants">

    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:android1="http://schemas.android.com/apk/res/android"
    android:layout_alignParentTop="true"
    android:layout_centerInParent="true"
    android:orientation="horizontal"
    android:id="@+id/ButtonAndSpinnerRow"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:visibility="visible"
    android:background="@drawable/tab_unselected_pressed_eagleeyeactionbar" >

        <Button
            android:id="@+id/Time_period_select_button"
            android:clickable="true" 
            android:layout_width="0dp"
            android:layout_height="50dp"
            android:layout_weight="1"
            android1:layout_gravity="fill_vertical|center_horizontal"
            android:gravity="center"
            android:text="@string/selectTimeAndDate"
            android:textColor="@color/white"
            android:textSize="14sp"
            android:textStyle="bold"
            android1:background="@drawable/petes_custom_click_action_button" />

        <Spinner
            android:id="@+id/GPS_unit_select_spinner"
            android:clickable="true" 
            android:layout_width="0dp"
            android:layout_height="45dp"
            android:layout_weight="3"
            android:gravity="center"
            android:textSize="20sp"
            android:textStyle="bold" />
</LinearLayout>

<View
    android:id="@+id/firstDivider"
    style="@style/horizontal_line" />

<com.google.android.maps.MapView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/mapview"
    style="@style/mapView"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/ButtonAndSpinnerRow"
    android:apiKey="MYKEY"
    android:clickable="true" >
 </com.google.android.maps.MapView>
 </RelativeLayout> 
```

这是生成可点击按钮的代码。按钮位于该行的第二列。图像在第一列。

```
    // 将 NAME 添加到第一行
      watchAreaName[overlayNumber] = new Button(this); // findViewById(R.id.WatchArea_Name);
      watchAreaName[overlayNumber].setText("\"" + ControlPanel.pWatchAreaName[GPS_unit_selected][iWatch] + "\" Watch Activity");
      watchAreaName[overlayNumber].setPadding(1, 1, 1, 1); // 左上右下
      watchAreaName[overlayNumber].setTextSize(HEADER_ROW1_TEXT_SIZE);
      watchAreaName[overlayNumber].setTextColor(Color.WHITE); // 深蓝色=parseColor("#00297C")
      watchAreaName[overlayNumber].setTypeface(null, Typeface.BOLD);
      watchAreaName[overlayNumber].setGravity(Gravity.CENTER); // (Gravity.CENTER_VERTICAL | Gravity.LEFT)
      watchAreaName[overlayNumber].setFocusable(false);
      watchAreaName[overlayNumber].setId(GPSTrackerOverlayLayout_ids[overlayNumber]); //设置ID等同于父级
      watchAreaName[overlayNumber].setTag(iWatch+ "=|"+ControlPanel.pWatchAreaName[GPS_unit_selected][iWatch]+ "|");

 `// Add to parent TableRow, then set LayoutParams
    headerRow[overlayNumber].addView(watchAreaName[overlayNumber]);
    TableRow.LayoutParams watchAreaName_layout_params = (TableRow.LayoutParams) watchAreaName[overlayNumber].getLayoutParams();
    watchAreaName_layout_params.column = SECOND_COLUMN; // place in 2nd column
    watchAreaName_layout_params.height = HEADER_ROW1_HEIGHT; // TableRow.LayoutParams.WRAP_CONTENT;
    watchAreaName_layout_params.width = 0;  //COLUMN_LABELS_WIDTH;
    watchAreaName_layout_params.weight = (float) .85;
    watchAreaName_layout_params.span = 1; // span this many columns (optional)
    watchAreaName[overlayNumber].setLayoutParams(watchAreaName_layout_params); // 
    watchAreaName[overlayNumber].setBackgroundColor(watchAreaColorIds[watchAreaBackgroundColorSelections[overlayNumber]]); 
    watchAreaName[overlayNumber].setClickable(true);
    watchAreaName[overlayNumber].setOnClickListener(new ShowHideOverlayListener());

 // add finished Header row to TableLayout parent
    GPSTrackerOverlayLayout[overlayNumber].addView(headerRow[overlayNumber], new TableLayout.LayoutParams(TABLE_MATCH_PARENT, TABLE_WRAP_CONTENT)); // width, height
    headerRow[overlayNumber].setFocusable(false);` 

```

# c# - 将项目添加到 wrapgrid 的下一列

> ID：14036046
> 
> 赞同：0
> 
> 时间：2012-12-26T04:36:33.483
> 
> 标签：c#, wpf, xaml, gridview, windows-8

我有一个`GridView`这样的

```
<GridView x:Name="TestGridView"  SelectionMode="None">                
  <GridView.ItemsPanel>
    <ItemsPanelTemplate>
      <WrapGrid Orientation="Vertical" ItemWidth="300" ItemHeight="80"  Height="480" VerticalAlignment="Top"  />
    </ItemsPanelTemplate>
  </GridView.ItemsPanel>
</GridView> 
```

我`GridViewItem`的一个包含一个按钮，当我点击这个时，会动态添加`Button`一个新的，我想要的最大数量是8，在第八个添加到之后，折叠。然后在下一列添加一些其他的，但是第 8列并没有占据第 2 列的所有空间，如果我添加新的，它会自动添加到第 8 列下面的第 2 列。如何显式添加到下一列？`GridViewItem``GridView``GridViewItem``GridViewItem``GridView``Button``GridViewItem``GridView``GridViewItem``GridViewItem``GridViewItem``GridViewItem`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:31:09.540

我认为你可以使用组，gridview 中有一个组集合。您可以在一个组中添加 8 项，然后在新组中设置其他项。

# java - 如何在java中获取主类名

> ID：14036053
> 
> 赞同：4
> 
> 时间：2012-12-26T04:38:35.263
> 
> 标签：java, stack-trace

如何在我的 java 执行的任何时候获取主类名。我想要的只是我需要从我的执行开始的地方获取类名。例子，

```
package mypackage;
class A
{
public static sayName()
{
 System.out.println("Here i have to print the class name B");
}
}

package test;
import mypackage.A;

class B
{
public static void main()
{
A.sayName();
}
} 
```

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T04:45:37.167

看看这是否有效。

```
StackTraceElement[] stack = Thread.currentThread ().getStackTrace ();
StackTraceElement main = stack[stack.length - 1];
String mainClass = main.getClassName (); 
```

但是我不确定如果此代码的执行具有除主线程之外的另一个控制线程，它是否会起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:36:52.620

我将创建额外的持有人类，它将持有主类名称。像这样的东西：

```
public class MainClassHolder{
    private static String className = null;

    public static void setClassName(String name) {
         className = name;
    }
    public static String getClassName() {
         return className;
    }
} 
```

然后在主要方法中，您将 className 设置为 holder

```
package mypackage;
class A
{
public static sayName()
{
 System.out.println(MainClassHolder.getClassName());
}
}

package test;
import mypackage.A;

class B
{
public static void main()
{
    MainClassHolder.setClassName(B.class.getName());
    A.sayName();
}
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T04:49:39.473

尝试这个

```
public static String getMainClassName()
{
  for(final Map.Entry<String, String> entry : System.getenv().entrySet())
  {
    if(entry.getKey().startsWith("JAVA_MAIN_CLASS"))
      return entry.getValue();
  }
  throw new IllegalStateException("Cannot determine main class.")
} 
```

这可能有效，但它不能在 JVM 之间移植。

# iphone - Google AdMob SDK - “代码设计：无效选项 - O”

> ID：14036055
> 
> 赞同：0
> 
> 时间：2012-12-26T04:38:55.087
> 
> 标签：iphone, objective-c, xcode, sdk, admob

我正在尝试使用 Google AdMob SDK，并且有了所有信息以及它看起来多么简单，我实际上遇到了一些麻烦。

1.  我正在关注[本](https://developers.google.com/mobile-ads-sdk/docs/)教程，但在我自己的项目中（不是示例项目）。我正在使用最新的 iOS SDK (6.2.1)。一切似乎都很好，但是当我将“-ObjC”标志添加到 my`Other Code Signing Flags`时，它会引发错误：

    (null): codesign: 无效选项 -- O

    现在，这只发生在我尝试在我的越狱设备（iOS 6.0.1，第 4 代 iPod）上调试应用程序时。我接受了这个错误，因为我没有购买开发者许可证，但即使使用模拟器，我仍然遇到问题。

2.  我现在将 -ObjC 标志添加回`Other Code Signing Flags`，并使用 iOS 6.0 iPhone 模拟器进行编译和构建。一切都很好，它运行（还没有代码）。然后我添加`#import "GADBannerView.h"`到我的标题中，并添加一个属性 ( `@property (nonatomic) GADBannerView *bannerView;`) 以及`@synthesize`它。然后我将此代码添加到我的`.m`文件中：

    ```
     - (void) viewDidLoad
    {
        [super viewDidLoad];

        // ad setup
        self.bannerView = [[GADBannerView alloc] initWithAdSize:kGADAdSizeBanner];
        self.bannerView.adUnitID = @"********"; // <- I have my correct one here.
        self.bannerView.rootViewController = self;
        [self.view addSubview:self.bannerView];
        [self.bannerView loadRequest:[GADRequest request]];
    } 
    ```

    添加它设法抛出异常并在最后一行（`[self.bannerView loadRequest:[GADRequest request]];`）崩溃。完整信息：

    ```
    2012-12-25 23:33:00.392 NFL Scores[39359:c07] -[GADObjectPrivate changeState:]: unrecognized selector sent to instance 0xa1a2540
    2012-12-25 23:33:00.394 NFL Scores[39359:c07] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[GADObjectPrivate changeState:]: unrecognized selector sent to instance 0xa1a2540'
    *** First throw call stack:
    (0x1b32012 0x16e5e7e 0x1bbd4bd 0x1b21bbc 0x1b2194e 0x1f792 0x2103e 0x1ed47 0x37ec 0x937817 0x937882 0x937b2a 0x94eef5 0x94efdb 0x94f286 0x94f381 0x94feab 0x94ffc9 0x950055 0xa553ab 0x8a692d 0x16f96b0 0x7001fc0 0x6ff633c 0x7001eaf 0x9458cd 0x88e1a6 0x88ccbf 0x88cbd9 0x88be34 0x88bc6e 0x88ca29 0x88f922 0x939fec 0x886bc4 0x886dbf 0x886f55 0x88ff67 0x853fcc 0x854fab 0x866315 0x86724b 0x858cf8 0x197cdf9 0x197cad0 0x1aa7bf5 0x1aa7962 0x1ad8bb6 0x1ad7f44 0x1ad7e1b 0x8547da 0x85665c 0x2a5d 0x2985 0x1)
    libc++abi.dylib: terminate called throwing an exception 
    ```

    为什么是这样？我所看到的一切都建议添加`-all_load`和/或`-ObjC`标志，但似乎都不起作用。提前致谢。

**编辑：**无论出于何种原因，我都在`Xcode 4.5.2`.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-26T19:02:03.407

您需要将`-ObjC`标志添加到`Other Linker Flags`您的部分`Build Settings`，而不是`Other Code Signing Flags`.

# php - $_GET["var"] 到整数的意外转换

> ID：14036063
> 
> 赞同：1
> 
> 时间：2012-12-26T04:40:11.223
> 
> 标签：php, pagination, type-conversion, superglobals, type-coercion

我在 PHP 5.4.10 下运行的页面中有以下代码段（注意 === 比较）。

```
$list_all_pages = False;
$reqs_per_page = 50;
$start_page = 0;

if (isset($_GET["p"])) {
    echo("Debug: " . $_GET["p"] . "\n");
    if ($_GET["p"] === "all") {
        $list_all_pages = True;
    } else {
        $start_page = intval($_GET["p"]);
        if ($start_page < 1)
            $start_page = 0;
    }
} 
```

参数“p”是要显示的结果页数（从零开始）或“all”显示所有页。由于我不明白的原因，PHP 自动将我的参数转换为整数，因此我永远无法显示我希望的所有页面。

例如，使用“ `mypage.php?p=all`”调用页面会导致调试回显打印“调试：0”

发生了什么？我认为这种自动转换有点危险......以前有人遇到过这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T04:48:53.840

$_GET 变量`p`（即 ?p=）在 WordPress 中保留，作为提供帖子 ID 的默认方式。虽然大多数人喜欢转换他们的 URL，但默认值为 www.domain.com/?p=123。

Wordpress 专门寻找这个参数（它也被用作`wp_shortlink`），如果它不是数字的，它会自动将值设置为 0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T04:48:36.757

这已经足够了，无需输入强制转换

```
if ($_GET["p"] == "all") {
        $list_all_pages = True;
    } else {
        $start_page = (int)$_GET["p"];
        if ($start_page < 1)
            $start_page = 0;
    } 
```

# visual-studio-2012 - 更新了 Visual Studio Express，给出错误 c1853

> ID：14036066
> 
> 赞同：5
> 
> 时间：2012-12-26T04:40:57.000
> 
> 标签：visual-studio-2012

在我学习编程时，我已经使用 VSE 2012 几个月了，当它要求更新到“更新 1”时，我最近将它更新到了较新的版本。现在，当我尝试编译所有 C++ 项目时，出现以下错误： `error C1853: 'Debug\XXXXXX.pch' precompiled header file is from a previous version of the compiler, or the precompiled header is C++ and you are using it from C (or vice versa) c:\XXX\visual studio 2012\projects\XXX\XXX XXX.cpp"`. 在此更新之前，我已经成功编译了这个程序，并尝试编译我知道在更新之前肯定可以工作的旧项目，但无济于事。我创建的新项目工作正常。因为我刚开始，所以我不太了解标头，但是 VSE 2012 更新 1 包含的标头与我在更新之前创建它们时在我的旧项目中给出的标头完全相同（`#include "stdafx.h"`）所以我有不知道出了什么问题，也不知道谷歌搜索什么，因为谷歌搜索错误并没有提供太多帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-26T04:47:43.433

您可以删除预编译的头文件（Debug\XXXXXX.pch），然后重新编译。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-05T22:36:02.300

您可以尝试 Build> Clean Solution，这也应该删除您的预编译头文件。

# android - 从数据库填充片段列表

> ID：14036071
> 
> 赞同：1
> 
> 时间：2012-12-26T04:41:18.627
> 
> 标签：android, sqlite, listview, android-fragments, actionbarsherlock

我有个问题。:) 在我正在开发的一个应用程序中，在一个部分中，我有两个选项卡，两个选项卡都由它们各自的片段和一个列表视图运行。
现在，我需要用我在 SQLite 数据库中读取的数据填充这些列表。我为 DB 部分创建了几乎所有必要的类，但我被困在需要获取这些数据的部分

```
 public List<String> getAllRockBands() {
     List<String> bandList = new ArrayList<String>();

     String selection = BAND_GENRE + "=1";
     String orderBy = BAND_NAME+" ASC";

     SQLiteDatabase db = sqLiteHelper.getReadableDatabase();
     Cursor cursor = db.query(BANDDATABASE_TABLE,new String[]{BAND_NAME}, selection,  null, null, null, orderBy);

     int index = cursor.getColumnIndex(BAND_NAME);

     if (cursor.moveToFirst()) {
         do {
          String bandName = cursor.getString(index);
              bandList.add(bandName);
         } while (cursor.moveToNext());
     }

     return bandList;
 } 
```

从我的 sqlhelper 类到我的 listfragment 扩展类。它的代码目前是：

```
public class RockAllFragment extends SherlockListFragment {

private String[] bandList;

 @Override
  public View onCreateView(LayoutInflater inflater, ViewGroup container,
         Bundle savedInstanceState) {

     return inflater.inflate(R.layout.my_list, null);
 }

  @Override
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setRetainInstance(true);
 }

 @Override
 public void onViewCreated(View view, Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onViewCreated(view, savedInstanceState);
    setListAdapter(new ArrayAdapter<String>(getSherlockActivity(),   android.R.layout.simple_list_item_multiple_choice, android.R.id.text1, bandList));
 }
} 
```

`private BandDatabaseAdapter mySQLiteAdapter;`使用仅适用于 Activity 扩展类而不适用于 ListFragment 的方法？完成我想做的事情的最佳方式是什么？（PS 我对 Android 编程很陌生，如果我犯了一些小错误，我很抱歉 :)

谢谢，
阿莱克萨

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T04:49:25.790

[CursorAdapter](http://developer.android.com/reference/android/widget/CursorAdapter.html)就是你想要的。

您只需将其连接到从查询返回的[光标。](http://developer.android.com/reference/android/database/Cursor.html)只需扩展 CursorAdapter 并实现`newView()`and`bindView()`方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T16:34:38.140

最后我发现这是一个笨拙的入门错误，只需使用`mySQLiteAdapter = new DatabaseAdapter(getSherlockActivity());`at`onViewCreated`并使用数组适配器就可以了。

# c - 关于填充同步结构

> ID：14036074
> 
> 赞同：1
> 
> 时间：2012-12-26T04:41:55.067
> 
> 标签：c, linux, pointers

我在以下网页中阅读了有关结构的填充：

[http://software.intel.com/sites/default/files/m/2/c/d/3/9/25602-17689_w_spinlock.pdf](http://software.intel.com/sites/default/files/m/2/c/d/3/9/25602-17689_w_spinlock.pdf)

正如它所描述的：它建议使用以下语句对同步结构进行填充：

```
struct syn_str { int s_variable; };
void *p = malloc ( sizeof (struct syn_str) + 127 );
syn_str * align_p = (syn_str *)( (((int) p) + 127) & -128 ); 
```

我想到的是，它可以更容易地完成，例如：

```
 struct syn_str { int s_variable; char padx[124] ; }  in 32-bit OS 
```

或者

```
 struct syn_str { int s_variable; char padx[120] ; }  in 64-bit OS 
```

因为它喜欢做的就是用 128 个字节填充一个完整的结构，或者我为此错过了什么？

更新：

感谢您提供的所有信息！在发布问题后，我搜索了“对齐结构”，看起来“posix_memalign”似乎是非常正确的函数调用......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T05:23:31.477

这有两个原因：

1.  确保结构不会跨越缓存边界并占用两个缓存行，因此每次访问需要两次提取和两次失效
2.  确保每个缓存行只有一个结构，并防止错误共享。

与高速缓存行开头的对齐提供了两者。将结构填充到与高速缓存行相同的大小都不能提供。

想象一下，如果你愿意，在一个具有 4 字节 int 和 8 字节 OS 堆对齐以及 128 字节缓存行（非常常见）的系统上的以下结构：

```
struct bare
{
    int x, y, z, u, v, w;
}; 
```

仅添加填充，如下所示：

```
struct padded
{
    int x, y, z, u, v, w;
    char pad[128 - 6 * sizeof (int)]; // 104
}; 
```

不会阻止对象在地址 112 处分配，该地址`x, y, z, u`分为一页和`v, w`第二页。所以第一个目标被违反了。另一个对象可以分配在地址 248，与`x, y`前一个对象的`v, w`. 所以违反了第二个目标。

然而，

```
char* block = malloc(sizeof (bare) + 127);
bare* p = reinterpret_cast<bare*>(reinterpret_cast<intptr_t>(block + 127) & ~127); 
```

毫无困难地做出这两个保证，因为每个对象都将从某个缓存行的开头开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:00:24.210

不，整数变量的 sizeof 运算符在 64 位系统中仍返回 4。字节大小是实现定义的。

# image - Drupal Views 将图像字段输出为可选链接

> ID：14036081
> 
> 赞同：0
> 
> 时间：2012-12-26T04:42:52.310
> 
> 标签：image, url, drupal, views, optional

我在一个视图中有两个普通字段，一个可选 URL 字段和一个图像字段。我希望如果可选 URL 字段为空，则图像正常呈现，但如果可选 URL 字段包含 URL，则使用可选 URL 打印包装在“A”标签中的图像。

我设法使图像的一部分包含在 A 标签中，但我不知道如何使该部分成为可选的。

对此有任何帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T12:44:32.160

安装此[http://drupal.org/project/views_customfield](http://drupal.org/project/views_customfield)模块（仅适用于 D6），您可以在视图中添加自定义 php 字段。

在 Fields Section -> 选择 Customfield -> 然后添加 Customfield: PHP code

下面是获取值的示例代码

```
<?php
$static = $this->view->display_handler->get_handlers('field');
$x=$static['field_image']->last_render;
$y=$static['field_link']->last_render;

if(empty($y))
{
    print $x;
}
else
{
    print $y;
}
?> 
```

第一行就像声明，第二和第三行是从字段中获取值。

用您自己的字段替换**field_image 和 field_link**（请参阅您的字段的替换模式）

使用此示例代码，将条件更改为您的要求。

# javascript - 在for循环中运行ajax后如何调用函数

> ID：14036087
> 
> 赞同：2
> 
> 时间：2012-12-26T04:45:53.360
> 
> 标签：javascript, jquery, ajax

> **可能重复：**
> [每个（）函数内的多个ajax调用..然后在所有这些都完成后做一些事情？](https://stackoverflow.com/questions/8726046/multiple-ajax-calls-inside-a-each-function-then-do-something-once-all-of-the)

在 for 循环中运行 ajax 后如何执行函数。这里的例子我有这个 ajax 循环运行，

```
for (var countDevice = 0; countDevice<32; countDevice++){
  var dataString="modbus="+(countDevice+1)+"_"+newDate+".xml";
  $.ajax({
    type: "POST",
    url: "CalculateTable",
    data: dataString,
    dataType: "json", 
    //if received a response from the server
    success: function( device, textStatus, jqXHR) {
     //Do something                                 
    }
  });
} 
```

我想确保只在上面的 for 循环完成之后才在下面运行这个函数。

```
function drawTable(){
  //Do something
} 
```

任何人都可以就如何使其成为可能提供任何想法吗？感谢您花时间阅读和回答。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:29:18.703

如果你想以线性方式运行它，你可以这样写你的代码

```
var countDevice = 0;
(function CountDeviceLoop() {
  if (countDevice == 32) {
    // you can place draw table here or .....
    // drawTable();
    return;
  }

  var dataString="modbus="+(countDevice+1)+"_"+newDate+".xml";
  $.ajax({
    type: "POST",
    url: "CalculateTable",
    data: dataString,
    dataType: "json", 
    //if received a response from the server
    success: function( device, textStatus, jqXHR) {
      //Do something

      //after done sth
      countDevice ++;
      CountDeviceLoop();                             
    }
  });
})();

// here
// drawTable(); 
```

因为ajax方法是异步的，你可以用这种方式运行你的循环......或者如果你想使用'for循环'来运行你的程序，你可以使用@MadSkunk的代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:01:31.570

```
for (var countDevice = 0; countDevice<=32; countDevice++)
{
if (countDevice == 32)
{
drawTable();
}
else {
var dataString="modbus="+(countDevice+1)+"_"+newDate+".xml";
$.ajax({
type: "POST",
url: "CalculateTable",
data: dataString,
dataType: "json",

//if received a response from the server
success: function( device, textStatus, jqXHR) {
//Do something
}
});
}
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-26T05:01:10.640

哟也可以试试

```
$('your selector').ajaxComplete(function() {
  drawTable();
}); 
```

# ruby-on-rails - Rails v.2 自定义映射属性到对象

> ID：14036100
> 
> 赞同：0
> 
> 时间：2012-12-26T04:48:56.977
> 
> 标签：ruby-on-rails, ruby

```
#model
class Something 
 has_many :numbers
end

#controller
something = Something.all.first
numbers = Number.all
something.numbers = [numbers[0], numbers[4]] # can we do it like this?
puts "something = #{something.inspect}" => <#Something > // with no `numbers` we've set; 
```

//发布此问题所需的“质量标准”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T04:55:49.993

如果您先保存然后检查，它应该可以工作。

如果你不想坚持它，那么你不应该使用 has_many

只需使用普通的实例变量

```
class Something 
 attr_accessor :numbers
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:17:02.013

重要的是**永远不要**使用`Something.all.first`，而是使用`Something.first`. 前者将表中的*每条*记录加载到内存中，然后取第一个，丢弃其余的。后者加载第一条记录。在大型表上，当您的 Rails 进程占用几 GB 内存时，这将导致非常严重的问题。

如果要选择多个 Number 记录，请按以下方式进行：

```
numbers = Number.find_all_by_id([ 0, 4 ])
numbers.each do |number|
  number.something = something
  number.save
end 
```

更高级的方法是：

```
Number.update_all({ :something_id => something.id }, { :id => [ 0, 4 ] }) 
```

始终查看呈现的查询`log/development.log`以了解 ActiveRecord 如何解释您的调用。结果可能令人惊讶，尤其是对于外行。

`has_many`关系意味着 Number `belongs_to`Something 。这也意味着 Number 有一个`something_id`需要操作的列。您在示例中没有对 Number 记录进行任何保存，因此它们可能无法正确关联。我认为 Rails 3 比 Rails 2 处理得更好，表现更接近你的期望。

请记住*始终*针对重要的数据集测试您的应用程序。生成足够数量的虚假测试数据，以确保您正确处理分页，并且`all`在开发周期的早期就暴露出诸如调用之类的错误。

唯一`all`安全使用的情况是，如果您绝对确定列表中的项目数量是可以接受的小。用户提供的数据很少出现这种情况。如果用户*可以*在列表中拥有一千个项目，那么其中一个可能会。

# javascript - 水平方向+IOS/android应用开发条件

> ID：14036101
> 
> 赞同：0
> 
> 时间：2012-12-26T04:49:04.923
> 
> 标签：javascript, android, ios, cordova

我正在使用 phonegap(cordova) 框架创建一个 ios/android 应用程序。我的 UI 代码有点缺乏水平方向。所以，我只想改变水平方向的外观，而不是垂直方向。有没有我可以在 index.html 中应用的条件来实现这一点，最好是在`javascript/jquery`. 提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:47:56.403

您可以为事件 onOrientationChange() 创建一个事件侦听器，您可以在其中更改适用于特定方向的 css 文件。

```
// create the link tag for the css file in your head section
<HEAD>
<LINK ID="OrientationSpecificCSSTag" REL="stylesheet" TYPE="text/css" HREF=""> // keep the href empty, will set later
.....
</HEAD> 
```

现在将事件侦听器附加到您的 javascript 文件或脚本标记中

```
// attach the onOrientationChange event listener in your script tag
window.addEventListener( 'onorientationchange', OnOrientationChange, false ); 
```

实现 OnOrientationChange 函数，该函数根据方向实际更改 css 文件

```
function OnOrientationChange()
{
    // case: if portrait
    if( window.orientation == 0 || window.orientation == 270 )
    {
         document.getElementById('OrientationSpecificCSSTag').HREF = 'landscape.css';
    }
    else
    {
         document.getElementById('OrientationSpecificCSSTag').HREF = 'portrait.css';
    }
} 
```

# php - 上传文件到服务器，但文件名不保存到数据库

> ID：14036104
> 
> 赞同：0
> 
> 时间：2012-12-26T04:49:45.877
> 
> 标签：php, mysql

这是问题：文件名没有保存到数据库中。文件正在上传到服务器就好了，但文件名根本不会保存。文件成功上传后，我可以回显文件名，但无论出于何种原因，它确实希望将文件名保存到数据库中。我确信这是一个简单的解决方法，我只是遗漏了一些东西（我希望如此）。

提前致谢。

（ps是的，我知道我应该使用mysqli）

HTML：

```
<form action="" name="loa" method="post" enctype="multipart/form-data">
    <input type="hidden" name="size" value="350000">
    <input type="file" name="loa"> 
    <input type="submit" name="loasub" value="Upload Letter of     Authorization">
</form> 
```

PHP：

```
<?php
    if (!empty($_POST['loasub'])) {
        $target = "loa/";
        $target = $target . basename( $_FILES['loa']['name']);
        $theloa = ($_FILES['loa']['name']);
        mysql_connect("localhost", "user", "pass") or die(mysql_error()) ;
        mysql_select_db("mydb") or die(mysql_error()) ;

        //Writes the information to the database
        mysql_query("UPDATE customers SET loa='$theloa' WHERE id='30'") ;
        if(move_uploaded_file($_FILES['loa']['tmp_name'], $target))
        {
            echo "The file ". basename( $_FILES['uploadedfile']['name']). " has been uploaded";
            echo $theloa;
        }
        else {
            echo "Sorry, there was a problem uploading your file.";
        }
    }
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T04:54:21.630

尝试像这样运行qurety-（从id ='30'中删除单引号）

```
mysql_query("UPDATE customers SET loa='$theloa' WHERE id=30") ; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:23:01.543

```
 mysql_query("UPDATE customers SET loa='$theloa' WHERE id='30'") ; 
```

运行**或死亡（mysql_error（））；**

```
 mysql_query("UPDATE customers SET loa='$theloa' WHERE id='30'") or die(mysql_error()) ; 
```

查询中可能有错误，即使不是语法错误也可能是错误的字段名称。除此之外，只要变量 $theloa 被填充，它似乎就很好。mysql_error 会告诉查询是否正在执行？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T05:28:28.927

有几点需要考虑：

1.  `mysql_*`功能已弃用。使用`mysqli`或`PDO`代替。
2.  `$theloa`如果变量中包含单引号，您的查询可能会中断。使用准备好的语句来防止此类错误并防止（警报声和红灯闪烁）**SQL 注入。**

考虑做 a`var_dump($_FILES['loa']['name'])`并将其与您的问题一起粘贴以更清晰。

尝试使用文件的以下修改`mysqli`版本（您需要`mysqli`在 PHP 安装中启用扩展）。它应该（理想情况下）工作。

```
<?php
    if (!empty($_POST['loasub'])) {

        $theloa = ($_FILES['loa']['name']);
        $target = "loa/";
        $target = $target . basename($theloa);

        $mysqli = new mysqli("localhost", "user", "password", "mydb");
        if (mysqli_connect_errno()) {
            die(mysqli_connect_error());
        }

        //Writes the information to the database
        if ($preparedStatement = $mysqli->prepare("UPDATE customers SET loa=? WHERE id=30")) {
            $preparedStatement->bind_param("s", $theloa);
            $executionResult = $preparedStatement->execute();
            if (!$executionResult) {
                die("Query execution failed!");
            }
            //$preparedStatement->bind_result($sqlOutput); // bind mysql output to an output variable
            //$preparedStatement->fetch(); // fetch mysql output
            //var_dump($sqlOutput); // dump the sql output

            $preparedStatement->close();
        }
        $mysqli->close();

        if(move_uploaded_file($_FILES['loa']['tmp_name'], $target))
        {
            echo "The file ". basename( $_FILES['uploadedfile']['name']). " has been uploaded";
            echo $theloa;
        }
        else {
            echo "Sorry, there was a problem uploading your file.";
        }
    }
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T05:17:05.447

php 值不能包含在引号中-（从 $loa 中删除单引号）

试试这个 ：

```
mysql_query("UPDATE customers SET loa=$theloa WHERE id='30'") ; 
```

调试

```
$conn = mysql_connect($dbhost, $dbuser, $dbpass);

$sql = mysql_query("更新客户 SET loa=$theloa WHERE id='30'") ;

mysql_select_db('客户');
$retval = mysql_query($sql, $conn);
如果（！$retval ）
{
  die('无法更新数据：' . mysql_error());
}
echo "数据更新成功\n";
mysql_close($conn);
?>

```

# javascript - 通过鼠标点击移动一组 SVG 元素

> ID：14036107
> 
> 赞同：1
> 
> 时间：2012-12-26T04:50:10.497
> 
> 标签：javascript, svg, dom-events

当用户单击其中一个圆圈时，我正在尝试移动一组圆圈。该组仅在第一次单击时移动一次，但之后不会移动。这是我正在使用的示例代码：

```
function move_circle(e)     
{
var grp = e.target.parentNode;
grp.setAttribute("transform", "translate(" + 50 + ", " + 50 + ")");
}

<g onclick="move_circle(evt)">
  <circle cx="150" cy="100" r="25" fill="red"  />
  <circle cx="170" cy="120" r="5" fill="red"  />
</g> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-26T06:31:52.893

每次单击一个圆圈时，事件处理程序都会将元​​素的`transform`属性设置为。我相信您打算做的是每次单击一个圆圈时重复翻译。换句话说，您希望将翻译与已应用于元素的翻译组合在一起。像这样：`g``"translate(50, 50)"`

```
function move_circle(e) {
  var g = e.target.parentNode,
      t;

  if (g.transform.baseVal.numberOfItems == 0) {
    g.setAttribute("transform", "translate(" + 50 + ", " + 50 + ")");
  } else {
    t  = g.transform.baseVal.getItem(0),
    t.setMatrix(t.matrix.translate(50, 50));
  }
} 
```

如果未应用任何转换，它将像您之前一样应用翻译。如果已经对元素应用了转换，则使用现有的转换矩阵，对其应用*另一个*转换，然后将其结果设置为元素的转换矩阵。（该`translate()`操作不会改变矩阵。它返回应用了操作的矩阵副本。因此，您必须使用该新矩阵更新转换。）

# c - 使用 C 程序从外部打开文件

> ID：14036109
> 
> 赞同：1
> 
> 时间：2012-12-26T04:50:18.520
> 
> 标签：c, gedit

我想创建一个程序，使正在运行的`gedit`进程使用 C 在新选项卡中打开`.txt`文件。该文件将是我提供给程序的参数。但是，我想`system()`完全避免使用。

我在Linux上。这可能吗？如果有，通过什么方式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T12:11:25.927

执行此操作的标准方法是不要将编辑器的可执行名称硬编码到您的应用程序中。用户可能根本没有安装 gedit（它通常只在系统运行 Gnome 时才安装在那里。）你所做的就是使用`xdg-open`你想要打开的文件作为它的参数。例如：

```
system("xdg-open myfile.txt"); 
```

如果用户使用 gedit 作为默认编辑器，如果 gedit 已经在运行，这将在新选项卡中打开文件。如果它没有运行，它将首先启动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T01:57:45.860

你不需要`system()`。您可以使用 fork/execlp

```
if(!fork())
    execlp("gedit", "gedit", filename, NULL); 
```

如果已经有一个正在运行的实例，我笔记本电脑上的 gedit 版本默认使用一个新选项卡，但我不确定其他版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T05:31:40.523

这是一个可能的解决方案：

Step 1\. 修改`gedit`源文件（功能：`is_in_viewport()`返回`TRUE`）（见此[链接](https://askubuntu.com/questions/75671/why-does-gedit-keep-randomly-opening-new-instances-when-opening-files-from-nauti)）。

步骤 2\. 在程序中使用`fork()`/并调用这个修改后的 gedit（[这里](http://www.gidforums.com/t-3369.html)`execl()`有几个例子 ）。

# php - ZF2 - 你应该如何访问会话容器中的会话变量？

> ID：14036110
> 
> 赞同：0
> 
> 时间：2012-12-26T04:51:00.390
> 
> 标签：php, zend-framework2

我像这样创建一个容器：

```
$frontend = new SessionContainer('frontend', null); 
```

我像这样设置一个变量：

```
$frontend->offsetSet('foo',$bar); 
```

我的问题是，当您需要在其他地方访问它时，您真的应该在任何地方使用相同的键实例化一个新的 SessionContainer 并获取 var 吗？或者，会话数据是否在控制器中可用的另一个变量中传递？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-03T20:55:39.883

首选做法是直接访问会话值，就好像它们是实例化容器对象的属性一样。

```
$frontend = new SessionContainer('frontend');
$bar = $frontend->foo; 
```

会话容器类通过调用以下方式在幕后完成其余工作：

```
$frontend->__get('foo'); 
```

这反过来又调用：

```
$frontend->offsetGet('foo'); 
```

使用上面的第一个示例有助于提高可读性。出于同样的原因，您可以使用：

```
$frontend->foo = 'bar'; 
```

这在幕后调用：

```
$frontend->__set('foo', 'bar'); 
```

... 接着：

```
$frontend->offsetSet('foo', 'bar'); 
```

# ruby-on-rails - 是否有任何 gem 可以使用 ajax 或 html5 获取 mobike 的地理编码？

> ID：14036112
> 
> 赞同：0
> 
> 时间：2012-12-26T04:51:06.713
> 
> 标签：ruby-on-rails, ruby-on-rails-3, gem

我正在为此寻找好的宝石。
保存地理编码，并获取用户的地理编码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:35:15.280

这是地理编码的标准包： [https ://github.com/alexreisner/geocoder](https://github.com/alexreisner/geocoder)

# mysql - MYSQL 排序和分隔

> ID：14036113
> 
> 赞同：0
> 
> 时间：2012-12-26T04:51:21.207
> 
> 标签：mysql, vb.net

我在对行号进行排序时遇到问题。我的代码输出是这样的

```
(801;802;803;804;805;806;807;808-814(1);808-814(2);815;;;;;;;;;;;;;;;;;840) 
```

并且它的分隔符将循环到 840。

```
Dim sqlline As DataTable = MyDB.ExecCommand("SELECT `Line Number` from `" + cboJob.Text + "` WHERE `Orig Document Begin ID`='" + mData.Rows(z).Item(0).ToString.Trim + "' ORDER BY `Line Number`", "wellsfargo").Tables(0)
                    For q As Integer = 0 To sqlline.Rows.Count - 1
                        If sqlline.Rows.Count <> 0 Then

                            If q = 0 Then
                                lNum = sqlline.Rows(q).Item(0).ToString
                            Else
                                lNum += IIf(dZ.Rows(q).Item(13).ToString <> "", ";" + sqlline.Rows(q).Item(0).ToString, ";")
                            End If
                            'lNum += IIf(sqlline.Rows(q).Item(0).ToString <> "", ";" + sqlline.Rows(q).Item(0).ToString, "")

                        End If
                    Next 
```

但我希望我的输出是这样的。

```
(801;802;803;804;805;806;807;815;;;;;;;;;;;;;;;;;;;;;840;808-814(1);808-814(2)) 
```

所以所有的行号都在最后。

现在.. 编辑我有这个代码让我在单行号的末尾放置空格分隔符：

```
 Dim sCont As String = ""
            If dZ.Rows.Count < 40 Then
                Dim iCont As Integer = 40 - dZ.Rows.Count
                For c As Integer = 0 To iCont - 1
                    If c = 0 Then
                        sCont = ";"
                    Else
                        sCont += ";"
                    End If
                Next
                'Loop then Concatinate strings for each field value.
            ElseIf dZ.Rows.Count = 40 Then
                'Loop as is...
            End If

            Dim sVal As String()
            If dZ.Rows.Count < 40 Then
                sVal = (OrgDocbeg + "■" + _
                                OrgDocend + "■" + _
                                BEGDOC + "■" + _
                                ENDDOC + "■" + _
                                LoanNum + "■" + _
                                PCount + "■" + _
                                Path + "■" + _
                                FNum + "■" + _
                                sDate + "■" + _
                                StrConv(LNF, VbStrConv.ProperCase) + "■" + _
                                lNum + sCont + "■" + _
                                sDesc + sCont + "■" + _
                                StrConv(Amount, VbStrConv.ProperCase).Replace("Poc", "POC").Replace(".00.00", "") + sCont + "■" + _
                                sPay.Replace("^", "").Replace(" Of ", " of ").Replace(" And ", " and ").Replace(" And/or", " and/or").Replace(" By ", " by ").Replace(" 2Nd ", " 2nd ").Replace(" 3Rd ", " 3rd ") + sCont + "■" + _
                                sBorrow.Replace("$.00", "$0.00") + sCont + "■" + _
                                sSell + sCont + "■" + _
                                ProsBor + sCont + "■" + _
                                ProSell + sCont).Split("■")

            Else
                sVal = (OrgDocbeg + "■" + _
                                OrgDocend + "■" + _
                                BEGDOC + "■" + _
                                ENDDOC + "■" + _
                                LoanNum + "■" + _
                                PCount + "■" + _
                                Path + "■" + _
                                FNum + "■" + _
                                sDate + "■" + _
                                StrConv(LNF, VbStrConv.ProperCase) + "■" + _
                                lNum + "■" + _
                                sDesc + "■" + _
                                sPay.Replace("^", "").Replace(" Of ", " of ").Replace(" And ", " and ").Replace(" And/or", " and/or").Replace(" By ", " by ").Replace(" 2Nd ", " 2nd ").Replace(" 3Rd ", " 3rd ") + "■" + _
                                StrConv(Amount, VbStrConv.ProperCase).Replace("Poc", "POC").Replace("$.", "$0.") + "■" + _
                                sBorrow.Replace("$.", "$0.") + "■" + _
                                sSell.Replace("$.", "$0.") + "■" + _
                                ProsBor.Replace("$.", "$0.") + "■" + _
                                ProSell.Replace("$.", "$0.")).Split("■")
            End If 
```

但我的输出是错误的：

```
 801;802;803;804;;;;;;;;808 - 817(1);808 - 817(2);808 - 817(3);808 - 817(4);808 - 817(5);808 - 817(6);;;;;;;;;;;;;;;;;;;;;;; 
```

如果我在行号中有范围，输出应该是这样的（必须有分隔符直到 840）

```
801;802;803;804;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;808 - 817(1);808 - 817(2);808 - 817(3);808 - 817(4);808 - 817(5);808 - 817(6) 
```

**但如果我没有范围**，正确的输出将是

```
801;802;803;804 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:56:02.467

如果您的行代码具有固定长度，那么您可以根据长度拆分结果集，对它们进行独立排序，然后将它们与`UNION ALL`：

```
Dim strQuery = "(SELECT `Line Number` FROM `" + cboJob.Text + _ 
"` WHERE LOCATE('-', line) = 0 AND `Orig Document Begin ID`='" + mData.Rows(z).Item(0).ToString.Trim + _
" ORDER BY `Line Number`) " + _ 
"UNION ALL " + _
"(SELECT `Line Number` FROM `" + cboJob.Text + _ 
"` WHERE LOCATE('-', line) > 0 AND `Orig Document Begin ID`='" + mData.Rows(z).Item(0).ToString.Trim + _
" ORDER BY `Line Number`)"

Dim sqlline As DataTable = MyDB.ExecCommand(strQuery, "wellsfargo").Tables(0) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T05:00:57.940

至于最后评论中提到的问题，解决此问题的方法之一是：

1.  使用 COUNT 确定您是否有范围
2.  如果您有范围，则仅检索正常的行号并填充数字中的空白
3.  如果您有范围，请检索它们并使用范围号构建一个字符串
4.  连接你的字符串

这是部分甚至伪代码：

```
'Retrieve a count of ranges in the resultset
'Replace objConn with your connection variable 
Dim strQuery As String = "SELECT COUNT(*) AS `RangesCount` FROM `" + cboJob.Text + _ 
"` WHERE LOCATE('-', line) > 0 AND `Orig Document Begin ID`='" + mData.Rows(z).Item(0).ToString.Trim + _
" GROUP BY `Line Number`"
Dim cmdQuery As New MySqlCommand(strQuery, objConn)
Dim intHasRanges As Integer = CInt(cmdQuery.ExecuteScalar())

'Retrieve just line numbers without ranges
'
Dim strQuery As String = "SELECT `Line Number` FROM `" + cboJob.Text + _ 
"` WHERE LOCATE('-', line) = 0 AND `Orig Document Begin ID`='" + mData.Rows(z).Item(0).ToString.Trim + _
" ORDER BY `Line Number`"
Dim sqlline As DataTable = MyDB.ExecCommand(strQuery, "wellsfargo").Tables(0)

'Do your For-Next loop here and populate your first part of your string strResult 
'knowing that if intHasRanges > 0 then we have ranges and we need to fill gaps between numbers
Dim strResult As String = ""
For ...
    ...
    strResult = ...
    ...
Next

'Retrieve ranges only if we have them
'
If intHasRanges > 0 Then
    Dim strQuery As String = "SELECT `Line Number` FROM `" + cboJob.Text + _ 
    "` WHERE LOCATE('-', line) > 0 AND `Orig Document Begin ID`='" + mData.Rows(z).Item(0).ToString.Trim + _
    " ORDER BY `Line Number`"
    Dim sqlline As DataTable = MyDB.ExecCommand(strQuery, "wellsfargo").Tables(0)

    'Do your For-Next loop to populate strRanges
    '
    Dim strRanges As String = ""
    For ...
        strRanges = ...
    Next

    If srtRange.Length > 0 Then
        strResult = strResult + strRanges
    End If
End If

'Do whatever you need to do with that string 
```

# list - VBScript 中的哪种列表类型允许插入和删除元素？

> ID：14036114
> 
> 赞同：2
> 
> 时间：2012-12-26T04:51:27.690
> 
> 标签：list, excel, vbscript, vba

是否有 VBScript Array 类型类或类似的东西，我可以在其中的两个项目之间添加项目？一旦添加，其现有项目应转移到管理位置。我正在寻找的功能可用于`ArrayList or Dictionary objects`从方法之间（如果有）！

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T09:23:15.643

真是一个惊喜：[ArrayList.Insert](http://msdn.microsoft.com/en-US/library/system.collections.arraylist.insert%28v=vs.80%29.aspx)

**演示版 2.0：**

```
Option Explicit

Dim alA  : Set alA  = CreateObject("System.Collections.ArrayList")
Dim alB  : Set alB  = CreateObject("System.Collections.ArrayList")

alA.Add "A"
alA.Add "C"
alA.Insert 1, "B"

alB.Add "one"
alB.Add "two"

WScript.Echo "alA: ", Join(AlA.ToArray())

alA.InsertRange 1, (alB) ' Call By Value () needed!

WScript.Echo "alA: ", Join(AlA.ToArray()) 
```

输出：

```
alA:  A B C
alA:  A one two B C 
```

# unix - 使用 sed 将时间戳转换为日期时间

> ID：14036116
> 
> 赞同：3
> 
> 时间：2012-12-26T04:51:45.753
> 
> 标签：unix, sed

我有一个日志文件，其中的每一行都像：

```
timestamp=1356431101, entity=xxx, event: xxxxxx 
```

现在我想使用 sed 用人类可读的日期时间替换时间戳：

```
timestamp=2012-12-24 10:00:00, entity=xxx, event:xxxxx 
```

我的命令是：

```
sed "s/^timestamp=\([0-9]\{10\}\),/timestamp=\`date +%D --date=@\1\`,/" 
```

但问题是`\1`不能用 10 位时间戳代替，而是始终将其视为 digit `1`。谁能告诉我如何解决这个问题？先感谢您！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2017-01-13T07:51:21.627

尝试

```
cat test.txt | sed 's/^/echo "/; s/\([0-9]\{10\}\)/`date -d @\1`/; s/$/"/' | bash 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T05:07:45.980

awk is better for these stuff, if acceptable:

```
awk -F, '{x=$1;sub(/.*=/,"",$1);sub(/=.*/,strftime("=%Y-%m-%d %H:%M:%S",$1),x);$1=x;}1' OFS=, file 
```

A sample result:

```
$ cat file
timestamp=1356431101, entity=xxx, event: xxxxxx
timestamp=1354770380, entity=xxx, event: xxxxxx 
```

On running the command:

```
$ awk -F, '{x=$1;sub(/.*=/,"",$1);sub(/=.*/,strftime("=%Y-%m-%d %H:%M:%S",$1),x);$1=x;}1' OFS=, file
timestamp=2012-12-25 15:55:01, entity=xxx, event: xxxxxx
timestamp=2012-12-06 10:36:20, entity=xxx, event: xxxxxx 
```

The first `sub` command extracts the timestamp. The second using the `strftime` replaces the timestamp with the date and time. `1` is used to print every line.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T07:04:44.500

时间戳操作最好使用更现代的编程语言完成，例如 Perl 或 Ruby。但是，如果您有 GNU awk，则可以使用以下`strftime()`函数执行此操作：

```
awk '{ sub(/[0-9]{10}/, strftime("%Y-%m-%d %H:%M:%S", substr($0,11,10))) }1' file 
```

结果：

```
timestamp=2012-12-25 20:25:01, entity=xxx, event: xxxxxx 
```

* * *

您还可以在此处阅读有关 GNU awk 时间函数的更多信息：

[http://www.gnu.org/software/gawk/manual/html_node/Time-Functions.html](http://www.gnu.org/software/gawk/manual/html_node/Time-Functions.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-26T11:04:50.037

我实际上更喜欢这种`awk`方法，但为了完整起见，`perl`解决方案如下所示：

```
perl -Mposix -pe 's/([0-9]{10})/POSIX::strftime( "%Y-%m-%d %H:%M:%S", gmtime($1))/eg' 
```

如果你想匹配前导的“timestamp=”来限制替换（尽管这似乎没有必要给样本输入），你可以使用：`'s/(?:timestamp=)([0-9]*)/...`

# php - 使用php进行字符串比较的正则表达式

> ID：14036117
> 
> 赞同：0
> 
> 时间：2012-12-26T04:51:48.960
> 
> 标签：php

我是 php 中正则表达式的新手，我正在尝试获取字符串`@`之间的值。`.`例如，如果一个字符串包含`abc@gmail.com`我只想`gmail`作为输出得到的值。

到目前为止，我已经尝试过使用`explode`，但没有任何结果可以请任何人建议或指导我如何使用正则表达式来做到这一点。提前致谢。

以下是我到目前为止所做的示例。

```
<?PHP
    $str = 'abc@gmail.com';
    $piece = explode('.', $str);
    $piece1 = explode('@', $str);
    echo $piece[1]; 
    echo $piece1[1];
?> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-26T04:56:13.373

```
$str = 'abc@gmail.com';

preg_match('/@([^.]+)/', $str, $match);

echo $match[1]; // gmail 
```

以上分解：

*   `@`从字符开始搜索`@`
*   `[^.]+`匹配 1 个或多个不是字符的字符`.`
*   这`( )`是在反向引用中捕获该部分，在这种情况下将是索引 1
*   所以我们通过`$match[1]`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:22:50.373

如上所述简单：

```
$input=hardiksondagar@gmail.com;
// now you want to fetch gmail from input user PHP's inbuilt function 
preg_match('/@([^.]+)/', $input, $output);
echo $output[1]; // it'll print "gmail" 
```

*   函数文档：[preg_match()](http://php.net/manual/en/function.preg-match.php "preg_match()")

# c# - 获取 Windows 应用商店应用的局域网连接机器 IP 地址列表

> ID：14036118
> 
> 赞同：1
> 
> 时间：2012-12-26T04:52:00.003
> 
> 标签：c#, networking, windows-store-apps

实际上，我尝试使用 Xaml 和 C# 获取 Windows 应用商店应用程序的局域网 IP 地址列表。任何人都可以请告诉我如何执行此操作并参考此链接[How to get LocalNetwork IP Address For WindowsStore Apps](https://stackoverflow.com/questions/14018978/how-to-get-localnetwork-ip-address-for-windowsstore-apps)但它显示本地计算机 IP 地址但我想要连接到本地的已连接主机名和 IP 地址的列表局域网中的服务器。这是我的代码：

```
var hostNamesList = Windows.Networking.Connectivity.NetworkInformation
        .GetHostNames();

            foreach (var entry in hostNamesList)
            {
                if (entry.Type == Windows.Networking.HostNameType.DomainName)
                {

                    var icp = NetworkInformation.GetInternetConnectionProfile();

                    if (icp != null && icp.NetworkAdapter != null)
                    {
                        var hostname =
                            NetworkInformation.GetHostNames().SingleOrDefault(
                                hn =>
                                hn.IPInformation != null &&
                                hn.IPInformation.NetworkAdapter.NetworkAdapterId ==
                                icp.NetworkAdapter.NetworkAdapterId);

                        MessageDialog msg = new MessageDialog(hostname.CanonicalName);
                        await msg.ShowAsync();
                        MessageDialog msg1 = new MessageDialog(entry.RawName);
                        await msg1.ShowAsync();

                    }
                }
            }
        } 
```

# facebook - 使用 Javascript SDK 删除/删除 Facebook 评论

> ID：14036119
> 
> 赞同：0
> 
> 时间：2012-12-26T04:52:10.850
> 
> 标签：facebook, facebook-javascript-sdk

> **可能重复：**
> [如何使用 Facebook GRAPH API 删除 Facebook 评论帖子？](https://stackoverflow.com/questions/6008670/how-to-delete-a-facebook-comment-post-using-the-facebook-graph-api)

我正在使用 FQL 查询从帖子中获取所有评论。然后使用 Javascript SDK 发表评论：

```
            FB.api("/"+postId+"/comments", 'post', { message: comment }, function(response){
                if (!response || response.error) {
                    alert('发生错误');
                } 别的 {
                  alert('帖子被删除');
                }
            });

```

我尝试使用 Javascript SDK 和 FQL 删除评论但失败了。

这个问题不是重复的，因为我问如何使用 Javascript SDK 而不是 Facebook GRAPH API 删除评论。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T09:48:28.610

我使用Javascript SDK和以前的问题解决了这个问题：从FQL表注释中的字段ID
获取**comment_id变量。**

```
FB.api('/'+comment_id, '删除', function(response) {
  if (!response || response.error) {
    alert('发生错误');
  } 别的 {
    alert('帖子被删除');
  }
});

```

# vim - 通过 ssh 进行编辑时，vim 中的多字节字符显示不稳定

> ID：14036120
> 
> 赞同：5
> 
> 时间：2012-12-26T04:52:53.950
> 
> 标签：vim, character-encoding, ssh

如果我只是打开一个终端并在 vim 中编辑一个文件，多字节字符显示正常： ![带有希腊字符的源文件](../Images/30f2147f1f7c50e763a4ac1528f30d7c.png)

但是，如果我 ssh 进入我的机器（即使只是使用`ssh localhost`），多字节字符开始看起来有点不稳定。它们占用了更多的空间（注意行尾的额外空格`p1 = "αβγβγγ")`

![幻影空间](../Images/f11f7dfb30b1bc3d483185aed1d22bf0.png)

并且编辑该行倾向于将`?`字符显示为占位符：

![在 alpha 上执行 xp 正常模式命令后](../Images/fababee0f438338d96aec42886511c22.png)

我认为这是某种环境，因为`:set encoding`报告`utf-8`不使用 ssh 和`latin1`使用 ssh 时。我想我可以将它硬编码到`utf-8`我的 .vimrc 文件中，但我宁愿找出导致问题的原因，并更正确地修复它。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-26T08:07:42.157

```
set encoding=utf-8
set termencoding=utf-8 
```

在你`~/.vimrc`应该照顾你的问题。

确保 Terminal.app 本身已正确设置为 UTF-8，并且您的机器的语言环境也设置为某种形式的 UTF-8。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-27T11:37:28.407

`set ambiwidth=double`

在你的 .vimrc 中可能会解决这个问题。

您是否勾选了标有 的复选框`Unicode East Asian Ambiguous characters are wide`？ ![在此处输入图像描述](../Images/c7f2cbd05c8727c89ac66593386bc7ef.png)

# c++ - C++11 中的显式模板函数参数规范和函数参数的隐式转换

> ID：14036121
> 
> 赞同：7
> 
> 时间：2012-12-26T04:52:57.563
> 
> 标签：c++, templates, stl, c++11

该主题的标题很长而且很神秘，但问题很简单。

我正在阅读`14.8.1 Explicit template argument specification`最新的 C++11 规范草案（N3242=11-0012），第 375 页

> 6 如果参数类型不包含参与模板参数推导的模板参数，将对函数参数执行隐式转换（第 4 条）以将其转换为相应函数参数的类型。[注意：如果模板参数明确指定，则不参与模板参数推导。例如，

```
template<class T> void f(T);
class Complex {
  Complex(double);
};
void g() {
  f<Complex>(1); // OK, means f<Complex>(Complex(1))
} 
```

> ——尾注]

有人可以向我解释一下，它想说什么以及示例中的转换发生在哪里。
谢谢 ！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-26T04:55:50.570

转换就在这里进行：

```
f<Complex>(1); 
```

您正在调用一个`f`需要a 的函数`Complex`，但您正在传递它 a `int`。有从 to 的标准*转换*和从`int`to`double`的*用户定义*`double`的转换`Complex`。

该标准试图说的是，当您为模板函数*显式*提供模板参数时，这些参数的行为就好像该函数是使用这些类型声明的一样。也就是说，当您调用`f<Complex>`它时，它的行为就像已声明：

```
void f( Complex ); 
```

否则，如果没有显式指定模板参数，`T`将推导出为`int`，并且不会发生隐式转换。

# iphone - iOS 位置更新应用在后台

> ID：14036122
> 
> 赞同：1
> 
> 时间：2012-12-26T04:53:09.300
> 
> 标签：iphone, ios, core-location, background-process

我想知道我想要添加到我的应用程序中的功能是否可能/不太可能被 Apple 的审核团队拒绝。

我想在应用程序处于后台时打开重大更改位置服务，然后在为用户找到新位置时触发 Web 请求。

我有兴趣这样做来设置推送通知。我要发送给用户的推送通知需要用户的位置才能有用。

苹果写道：“只有在缺少这些服务会影响其运行能力的情况下，应用才应请求后台定位服务。” 在以下链接中。

[http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/LocationAwarenessPG/CoreLocation/CoreLocation.html](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/LocationAwarenessPG/CoreLocation/CoreLocation.html)

我想做的事是个好主意吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T04:56:37.963

如果您没有该功能，只要您的应用程序会受到损害，这是一个非常好的主意。如果您按照这些指南提交，Apple 没有理由拒绝您的应用程序。我会确保在应用程序的某处告诉用户您的应用程序将在后台跟踪他们的位置

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:06:42.547

For location update in background, there is no need of push notification.

As you have done is fine. Just add one key in plist file that inform the app that, app will work in background and will take user's GPS location.

Now, you have to inform the user that, your app will track the user's GPS location, and because of continuous location tracking, it will affect on devices battery.

You can do this by adding the line in info page of the app. And you can also mentioned in application description which is displaying on app store.

Then apple will not reject your app due to GPS tracking.

Hope it will help to approve your app.

Cheers.

# php - POST 重定向到 URL 以外的 GET 传递变量

> ID：14036124
> 
> 赞同：0
> 
> 时间：2012-12-26T04:53:31.210
> 
> 标签：php, html

在将 POST 重定向到 GET 而不传递 URL 中的变量时，是否有一种线程安全的方式来传递变量？

我想要达到的就是这个。我有一个页面，其中包含一个允许用户上传图像的表单。该表单由浏览器作为 POST 发送到我的服务器。如果图片上传成功，页面将被重定向到一个 GET，我想在其中显示用户刚刚上传的图片。我能想到的在两个页面之间传递变量的唯一安全方法是通过 GET 参数。

图片上传.php

```
$imageID = processImageUpload();

if($imageID){
    redirect("/ImageDisplay.php?uploadedImageID=".$imageID)
} 
```

图像显示.php

```
$uploadedImageID = getRequestVariable('uploadedImageID');
if($uploadedImageID != FALSE){
    //Display the image just uploaded with an 'image uploaded success!' message
}

//Display all the other images 
```

虽然这不是世界上最糟糕的事情，但将变量包含为 GET 参数有点难看。这也有点误导，好像用户在重定向页面上点击刷新会看到“图片上传成功！” 再次发送消息，即使他们还没有上传图片。

是否有另一种线程安全的方式将变量从 POST 页面传递到 GET 页面？

使用会话或 cookie 变量是不安全的，因为可能同时上传两个图像，因此可能存在竞争条件。

我以为我可以使用重定向，然后阅读引荐来源标头，例如：

1.  POST 到重定向到的 ImageUpload.php
2.  GET ImageDisplay.php&uploadedImageID=123 重定向到
3.  GET ImageDisplay.php，我将从之前的 GET 请求中读取引荐来源网址。

然而，推荐人似乎始终是保存上传表单的页面，而不是任何中间步骤。

除了作为 GET 参数之外，还有其他方法可以将变量从一个请求传递到另一个请求吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:04:55.450

I think that passing GET parameter is a good choice for following reason :

*   Using a GET parameter will allow you to create an independent API. Suppose user uploads 10 pics and have 10 different values for a parameter, suppose, "imageName". Now the API can be independent allowing user to make calls like :
    1.  ....getImage?imageName=1
    2.  ....getImage?imageName=2
    3.  ....getImage?imageName=3

What you may do is just rewrite the URL after the request has been completed so that the URL doesn't look ugly with **imageName** parameter.

**I suppose keeping data in session should be last resort**. Data in session makes it very difficult for the application to scale at Runtime. A server can't be shut down for maintenance before all the sessions on that server are closed. Essentially session data creates lots of troubles.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:12:22.027

我建议的方法很丑陋，但它不会向用户显示查询字符串中的变量。

考虑如下修改您的**ImageUpload.php**文件（未经测试的代码）：

```
$imageID = processImageUpload();

if($imageID){
    <?php
        <!Doctype html>
        <html>
            <head>
                <title>Upload successful! Redirecting...</title>
                <script type="text/javascript">
                    window.onload = function () {
                        document.getElementById("redirectionForm").submit();
                        return;
                    }
                </script>
            </head>
            <body>
                <div style="text-align: center; padding: 50px; font-style: italic;">
                    Image upload successful!
                    <br />
                    Please wait while you are redirected...
                </div>
                <form id="redirectionForm" action="ImageDisplay.php" method="post">
                    <input type="hidden" name="uploadedImageID" value="<?php echo $imageID; ?>" />
                </form>
            </body>
        </html>
    ?>
} 
```

这将在客户端上输出一个表单，该表单反过来会将用户重定向到**ImageDisplay.php**以及相关的 POST 数据信息。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-26T05:10:42.603

You could set custom headers like:

```
header('X-UploadedImageID: 123'); 
```

You can access the headers by [headers_list()](http://php.net/manual/en/function.headers-list.php):

```
headers_list(); 
```

A `var_dump()` of the this would look something like:

```
array(2) {
  [0] =>
  string(35) "X-Powered-By: PHP/5.3.19"
  [1] =>
  string(22) "X-UploadedImageID: 123"
} 
```

So to get the 123 you would just need to do something like:

```
$headers = headers_list();
echo str_replace('X-UploadedImageID: ', '', $headers[1]); 
```

Which will give you: `123`

Make sure you set these headers before you output any data and before you call your header location redirect.

**Change your ImageUpload.php to:**

```
$imageID = processImageUpload();

if($imageID){
    header('X-UploadedImageID: ' . $imageID);
    redirect("/ImageDisplay.php");
} 
```

**Change your ImageDisplay.php to:**

```
$headers = headers_list();
$uploadedImageID = str_replace('X-UploadedImageID: ', '', $headers[1]);

if($uploadedImageID != FALSE){
    //Display the image just uploaded with an 'image uploaded success!' message
} 
```

# objective-c - 由于缺少 KIF 类，项目无法构建

> ID：14036125
> 
> 赞同：1
> 
> 时间：2012-12-26T04:53:35.423
> 
> 标签：objective-c, ios, kif-framework

项目无法构建，因为缺少 KIF 类。

我正在尝试使用一个简单的应用程序并严格遵循 github[自述文件](https://github.com/square/KIF)。此外，我已经仔细检查了阅读我关于这个问题的任何内容。我仍然无法让我的应用程序构建/运行测试。

谁能帮我解决这个问题？

谢谢。阿山

错误 ：

```
ld: warning: ignoring file /Users/ahsan/Desktop/Others/LoginExampleKIF/libKIF.a, missing required architecture i386 in file /Users/ahsan/Desktop/Others/LoginExampleKIF/libKIF.a (2 slices)

Undefined symbols for architecture i386:

  "_OBJC_CLASS_$_KIFTestController", referenced from:
      _OBJC_CLASS_$_EXTestController in EXTestController.o

  "_OBJC_CLASS_$_KIFTestScenario", referenced from:
      objc-class-ref in EXTestController.o
      objc-class-ref in KIFTestScenario+EXAdditions.o
      l_OBJC_$_CATEGORY_KIFTestScenario_$_EXAdditions in KIFTestScenario+EXAdditions.o

  "_OBJC_CLASS_$_KIFTestStep", referenced from:
      objc-class-ref in KIFTestScenario+EXAdditions.o
      objc-class-ref in KIFTestStep+EXAdditions.o
      l_OBJC_$_CATEGORY_KIFTestStep_$_EXAdditions in KIFTestStep+EXAdditions.o

  "_OBJC_METACLASS_$_KIFTestController", referenced from:
      _OBJC_METACLASS_$_EXTestController in EXTestController.o

ld: symbol(s) not found for architecture i386

clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T09:06:45.323

从您的错误消息来看，您似乎正在尝试在模拟器上运行您的应用程序，但不是为 i386 架构构建的。

我刚刚从 github 上检查了 KIF，此时它还没有设置为为 i386 构建

将您的“架构”和“有效架构”设置为 i386、armv7 和 armv7s。然后清理并再次构建。您可能也需要为自己的应用程序目标执行此操作，但我假设您的应用程序也将设置为为 i386 构建，除非您将其删除。

![后](../Images/631a2cb1b03b764cbff31f2c5e07fdaa.png)

让我知道你的进展：D

# responsive-design - 修复了平板设备上的定位问题

> ID：14036126
> 
> 赞同：1
> 
> 时间：2012-12-26T04:53:38.667
> 
> 标签：responsive-design

我遇到了烦人的问题，即移动/平板电脑设备不支持`position: fixed`（谢天谢地，iOS 5+ 和 Android 3+ 支持）我正在研究的单页网站，其中固定位置的主导航对 UX 非常重要。

在阅读了[Brad Frosts](http://bradfrostweb.com/blog/mobile/fixed-position/)的精彩文章后，我决定采纳他的建议并使用**用户代理嗅探**来定位 iOS 和 Android，使固定的主导航可见，而对于所有其他移动设备，它不可见，而是在每个之后插入一个链接主要部分到页脚中的主要导航，不是很好但足够好。但是在我的桌面媒体查询中：**1024px +**（我正在构建网站“移动优先”）我需要使固定的主导航对桌面用户可见，但这会影响许多不支持`position: fixed`三星 Galaxy 但支持的平板电脑设备CSS 媒体查询。

在不使用 Brad 文章中提到的 JavaScript 解决方案的情况下修复所有非 iOS/Android 平板设备似乎不是一种简单的方法，出于同样的原因，我宁愿避免 Brad 指出或进入更混乱的**用户**我宁愿避免**代理嗅探。**至少我有 iOS 和 Android 的工作。

**编辑：**我可以做的一件事是将桌面媒体查询提高到**1366px +**，这似乎是最常见的桌面分辨率（[见此处](http://techcrunch.com/2012/04/11/move-over-1024x768-the-most-popular-screen-resolution-on-the-web-is-now-1366x768/)），这不会影响大多数平板电脑，因为它们的最大屏幕尺寸通常为**1280px**。有点冒险，尽管许多桌面用户会缩小他们的浏览器视口，导致固定的主导航不可见，从而使网站难以使用，我认为这个用例会比平板电脑用户更大？

# image-processing - 当应用于 HTML5 画布时，每个像素值在数字图像处理的降噪算法中代表什么？

> ID：14036131
> 
> 赞同：0
> 
> 时间：2012-12-26T04:54:01.507
> 
> 标签：image-processing, html5-canvas

我正在尝试使用 HTML5 画布应用降噪算法。[我在http://blog.kleinproject.org/?p=588](http://blog.kleinproject.org/?p=588)上阅读了中值算法 。它说找到每个像素的所有相邻像素的中值，并将该像素值替换为该中值。根据该算法，如果我们对于值为 200 的像素具有以下相邻像素矩阵

82 81 82
81 200 83
80 83 84

它会有类似的有序列表

80 81 81 82 82 83 83 84 200

中位数将是 82。所以用 82 替换 200，这将给出

82 81 82
81 82 83
80 83 84

HTML5 画布将每个像素值视为 RGBA 组件。像素没有单一值。现在我在应用这个算法时应该选择什么值。它应该是所有三个 RGB 值的平均值，还是有任何其他函数可以映射到单个值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T08:40:22.167

在处理 RGB 值时，您需要计算每个颜色分量的中值，并相应地将其替换为最终 RGB 值的相应颜色分量。这适用于任何彩色图像（或者更确切地说是具有 RGB 表示的像素），而不仅仅是 HTML 5 画布元素。您链接到的文章明确表示了相同的内容（尽管上下文略有不同）。

> 对于彩色图像，上述变换必须应用于构成每个图像的矩阵 R、G 和 B。

# php - Jquery Plupload大文件上传失败

> ID：14036136
> 
> 赞同：0
> 
> 时间：2012-12-26T04:55:06.277
> 
> 标签：php, jquery

我使用 plupload 和 php 类来调整大小[http://www.verot.net/php_class_upload_docs.htm](http://www.verot.net/php_class_upload_docs.htm)

一切顺利，但是当我上传只有 250kb 的 4000x2000 像素的大文件时，上传失败。调整大小的类有它的最大宽度和高度，但它设置为 NULL，所以它不检查它是否导致取消上传。

我在 AJAX 处理程序中的代码是这样的。

```
$foo = new Upload($_FILES['file']);
    if ($foo->uploaded)
    {
        $new_name = functions::getRandomString(16);

        $foo->file_new_name_body = 'b_' . $new_name;
        if ($foo->image_src_x > 800 or $foo->image_src_y > 600)
        {
        $foo->image_resize = true;
        $foo->image_ratio = true;
        $foo->image_y = 600;
        $foo->image_x = 800;
        }
        $foo->image_convert = 'png';
        $foo->Process($upload_path);
        if ($foo->processed)
        {
        //echo 'image renamed "foo" copied';
        }
        else
        {
        die('{"jsonrpc" : "2.0", "error" : {"code": 101, "message": "Chyba prejmenovani."}, "id" : "id"}');
        } 
```

和 jQuery

```
$("#uploader").pluploadQueue({
    // General settings
    runtimes : 'html5,html4',
    url : '/core/ajax/ajax_upload.php',
    max_file_size : '10mb',
    chunk_size : '5mb',
    unique_names : true,
    /*
    resize : {width : 320, height : 240, quality : 90},
    */
    // Specify what files to browse for
    filters : [
    {
        title : "Image files", 
        extensions : "jpg,jpeg,gif,png"
    }]

    }); 
```

以及此具体文件上传会话的 JSON 响应

```
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>500 Internal Server Error</title>
</head><body>
<h1>Internal Server Error</h1>
<p>The server encountered an internal error or
misconfiguration and was unable to complete
your request.</p>
<p>Please contact the server administrator, 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T04:56:55.200

PHP 配置可能会限制文件大小，请尝试查看 Apache 错误日志以查看确切的问题。

或者

您还可以使用`<?php phpinfo(); ?>`查看最大上传文件大小

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T01:19:45.633

我为此虚拟主机更改了 10000000 的值并重新启动了服务器。它似乎是固定的。感谢您帮助我检查错误日志。

# matlab - 删除之前创建的句柄

> ID：14036143
> 
> 赞同：0
> 
> 时间：2012-12-26T04:56:01.800
> 
> 标签：matlab, user-interface, handle

我正在尝试删除`handles.roi1`我创建的句柄。

我已经尝试使用该功能`delete`：

```
delete(handles.roi1) 
```

但它给了我这个错误：

```
Argument must contain a string. 
```

我的目的是删除一个我从未创建过的句柄。

你有什么建议或提示我该怎么做？

* * *

可能我表达的不对...

我正在做一个 GUI，我在一个按钮中定义`handles.roi1`，但后来我想在另一个按钮上删除它。这是因为，在那个按钮上我做了：

```
try a=handles.roi1;
catch
    b=11; 
```

我希望它转到`catch`. 我试图这样做，`handles = rmfield(handles, 'roi1');`但没有奏效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T09:25:29.963

**编辑：**重写答案以匹配 OP 添加的信息。

如果`handles.roi1`是用创建的`imread`：

```
handles.roi1 = imread('test.jpg'); 
```

或者，首先将内容存储在变量中`a`，然后复制`a`into `handles.roi1`（在这种情况下，您有 2 个相同数据的副本）：

```
a = imread('test.jpg');
handles.roi1 = a; 
```

然后**没有**打开的文件句柄。此外，`a`和`handles.roi1`相等，它们**不是文件****句柄**，但它们中的每一个都包含图形文件的彩色或灰度图像（在本例中）。**`test.jpg`**

 **在 MATLAB 中，您通常使用 获取文件句柄`fopen`，但有几个文件 I/O 命令**不**使用文件句柄，例如`imread`，`xlsread`并且`fastaread`不使用文件句柄。

在这种情况下，您想要（我假设）是摆脱`roi1`struct的字段`handles`（`handles.roi1`在 MATLAB 语法中），因此您可以使用`rmfield`这种方式：

```
handles = rmfield(handles, 'roi1'); 
```

`handles`它将没有字段的新副本存储`roi1`回名为`handles`.

请注意，这与文件句柄或图形对象句柄无关。它只是一个名为`handles`您或某人的名称与 name 混淆的结构`handles`，尽管事实上`imread`根本不返回任何文件句柄（也不是图形对象句柄）！我宁愿命名它`imageData`而不是`handles`，因为那是它真正包含的内容。

另一方面，如果`handles.roi1`真的是这样创建的文件句柄`fopen`：

```
handles.roi1 = fopen('test.jpg'); 
```

在这种情况下，您将在 MATLAB 中有一个真正的打开文件句柄，您应该首先关闭文件，`fclose`如下所示：

```
fclose(handles.roi1); 
```

或者，如果您想关闭所有打开的文件`fopen`：

```
fclose('all'); 
```

然后，当`fclose`您想摆脱`roi1`struct的字段`handles`（`handles.roi1`在 MATLAB 语法中）时，您可以使用`rmfield`这种方式（与 的情况相同`imread`）：

```
handles = rmfield(handles, 'roi1'); 
```

`handles`它将没有字段的新副本存储`roi1`回名为`handles`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T12:44:57.930

如果只想删除部分句柄，可以按照上面说的做：

```
rmfield(handles, 'roi1'); 
```

如果要删除整个句柄，可以执行以下操作：

```
clear handles 
```**

# delphi - 与单元模块链接后如何从资源文件中读取？

> ID：14036148
> 
> 赞同：0
> 
> 时间：2012-12-26T04:56:48.790
> 
> 标签：delphi, delphi-7, embedded-resource

> **可能重复：**
> [如何从 delphi 7 中的资源文件中读取？](https://stackoverflow.com/questions/14021066/how-to-read-from-resource-file-in-delphi-7)

执行：

```
{$R *.dfm}
{$R 'stuff.res' 'stuff.rc'}

procedure TForm1.FormCreate(Sender: TObject);
var 
  vExeFile: string;
  RS: TResourceStream;
begin
  RS := TResourceStream.Create(HInstance, 'ExeTest', RT_RCDATA);
  try
    vExeFile := ExtractFilePath(ParamStr(0)) + 'tmp.exe';
    RS.SaveToFile(vExeFile);
  finally
    RS.Free;
  end;    
end; 
```

我试过上面的代码，但它显示**Resource ExeTest not found**。我已经尝试过 TResourceStream.Create() 和 TResourceStream.CreateById() 但无法读取。

# objective-c - 水平的uiscrollview

> ID：14036157
> 
> 赞同：1
> 
> 时间：2012-12-26T04:58:51.587
> 
> 标签：objective-c, ios, xcode

我正在尝试实现水平 uiscrollview。我希望用户能够滑动到下一个视图，并且我不关心用户知道他们在哪个页面上（只有 2 个视图）。我相信他们称之为页面控件。

因此，在我的 IB 中，我有一个默认视图，然后我在其中添加了一个 UIScrollView 并链接了它的引用插座（称为 scrollView）。我已将之前在默认视图中的所有 UILabel 和图像放入滚动视图中。

然后我通过将它拖到 IB 中创建另一个空视图并将其链接起来，并将其命名为 newView。它是一个单独的对象，不会放入默认视图中。

然后在我的视图控制器 viewDidLoad 我使用以下代码：

```
 [self->scrollView setScrollEnabled:YES];
[self->scrollView setDelegate:self];
self->scrollView.backgroundColor = [UIColor clearColor];
[self->scrollView setShowsHorizontalScrollIndicator:NO];
[self->scrollView setIndicatorStyle:UIScrollViewIndicatorStyleDefault]; scrollView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
scrollView.contentMode = UIViewContentModeScaleToFill;
[self->scrollView setContentSize:CGSizeMake(1300.0,0)];
[self.view addSubview:scrollView]; 
```

这没用。谁能解释我做错了什么？

谢谢！

![在此处输入图像描述](../Images/7771fc77fd5e9d364eadcfc60bf37f69.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T05:26:47.383

只需从您的代码中删除以下行：

```
[self->scrollView setShowsHorizontalScrollIndicator:NO]; 
```

你也不需要：

```
[self->scrollView setIndicatorStyle:UIScrollViewIndicatorStyleDefault]; scrollView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight; 
```

并添加

```
[self->scrollView setContentSize:CGSizeMake(1300.0,200.0)]; 
```

还将xib设置为其默认设置

试试这个应该可以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:19:52.387

@V-Xtreme 提供的答案是正确的，但缺少一件事，那就是 PO 提到的分页 :)

因此，启用分页有两种方法：

1.  从编码：只要放一行代码`[self->scrollView setPagingEnabled:YES];`
2.  或在 xib 中：只需单击`Paging Enabled`选项即。确保已检查。

![在此处输入图像描述](../Images/4ce07e07b83b4832ac7eaa76a043350e.png)

# image - 有哪些免费的图片托管网站，带有使用 url 上传图片的 API

> ID：14036158
> 
> 赞同：2
> 
> 时间：2012-12-26T04:58:55.440
> 
> 标签：image, api, hosting

我正在寻找一个免费的图片托管网站，它有一个 API，可以使用 url 上传托管在另一个网站上的图片。

有没有这样的免费图片托管网站？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T13:43:15.933

好的，我自己找到了答案，

Imageshack.us 带有一个 API，能够使用其 URL (Transload) 上传托管图像。

Imageshcak API： [http ://code.google.com/p/imageshackapi/wiki/ImageshackAPI](http://code.google.com/p/imageshackapi/wiki/ImageshackAPI)

在那里，当添加图像时，url 参数指示使用 transload 方法而不是上传。

# c++ - 如何使用 ntquerydirectoryfile 函数挂钩隐藏文件夹

> ID：14036164
> 
> 赞同：3
> 
> 时间：2012-12-26T05:00:23.070
> 
> 标签：c++, visual-c++, directory, api-hook

我正在挂钩函数'NtQueryDirectoryFile'来隐藏系统中的文件夹，我的代码如下。

```
 #include "stdafx.h"
 #include <windows.h>
 #include <stdio.h>
 #include "MinHook.h"
 #include <shlwapi.h>
 #include <winsock2.h>

 #if defined _M_X64
 #pragma comment(lib, "libMinHook.x64.lib")
 #elif defined _M_IX86
 #pragma comment(lib, "libMinHook.x86.lib")
 #endif

 #define NT_SUCCESS(Status) ((NTSTATUS)(Status)>=0)

 typedef LONG NTSTATUS;
 #define STATUS_SUCCESS   ((NTSTATUS)0x00000000L)

 typedef struct _IO_STATUS_BLOCK 
 { 
    NTSTATUS Status; 
    ULONG Information;
 } IO_STATUS_BLOCK, *PIO_STATUS_BLOCK; 

 typedef struct _UNICODE_STRING 
 { 
   USHORT Length; 
   USHORT MaximumLength; 
   PWSTR Buffer;
 } UNICODE_STRING, *PUNICODE_STRING; 

 typedef struct _STRING 
 {
    USHORT Length;
    USHORT MaximumLength;
    PCHAR  Buffer;
 } ANSI_STRING, *PANSI_STRING;

 typedef enum _FILE_INFORMATION_CLASS
 {
   FileDirectoryInformation = 1, 
   FileFullDirectoryInformation,
   FileIdFullDirectoryInformation,
   FileBothDirectoryInformation,
   FileIdBothDirectoryInformation,
   FileBasicInformation,
   FileStandardInformation,
   FileInternalInformation,
   FileEaInformation,
   FileAccessInformation,
   FileNameInformation,
   FileRenameInformation,
   FileLinkInformation,
   FileNamesInformation,
   FileDispositionInformation,
   FilePositionInformation,
   FileFullEaInformation,
   FileModeInformation,
   FileAlignmentInformation,
   FileAllInformation,
   FileAllocationInformation,
   FileEndOfFileInformation,
   FileAlternateNameInformation,
   FileStreamInformation,
   FilePipeInformation,
   FilePipeLocalInformation,
   FilePipeRemoteInformation,
   FileMailslotQueryInformation,
   FileMailslotSetInformation,
   FileCompressionInformation,
   FileObjectIdInformation,
   FileCompletionInformation,
   FileMoveClusterInformation,
   FileQuotaInformation,
   FileReparsePointInformation,
   FileNetworkOpenInformation,
   FileAttributeTagInformation,
   FileTrackingInformation,
   FileMaximumInformation 
 } FILE_INFORMATION_CLASS, *PFILE_INFORMATION_CLASS;

 typedef VOID (NTAPI *PIO_APC_ROUTINE)( IN PVOID ApcContext, IN PIO_STATUS_BLOCK   IoStatusBlock, IN ULONG Reserved); 

 typedef struct _FILE_BOTH_DIRECTORY_INFORMATION 
 { 
  ULONG NextEntryOffset;
  ULONG Unknown;
  LARGE_INTEGER CreationTime; 
  LARGE_INTEGER LastAccessTime;
  LARGE_INTEGER LastWriteTime;
  LARGE_INTEGER ChangeTime;
  LARGE_INTEGER EndOfFile;
  LARGE_INTEGER AllocationSize;
  ULONG FileAttributes;
  ULONG FileNameLength;
  ULONG EaInformationLength;
  UCHAR AlternateNameLength;
  WCHAR AlternateName[12];
  WCHAR FileName[1];
 } FILE_BOTH_DIR_INFORMATION,*PFILE_BOTH_DIR_INFORMATION;

 typedef struct _FILE_DIRECTORY_INFORMATION
 {
      ULONG         NextEntryOffset;
      ULONG         FileIndex;
      LARGE_INTEGER CreationTime;
      LARGE_INTEGER LastAccessTime;
      LARGE_INTEGER LastWriteTime;
      LARGE_INTEGER ChangeTime;
      LARGE_INTEGER EndOfFile;
      LARGE_INTEGER AllocationSize;
      ULONG         FileAttributes;
      ULONG         FileNameLength;
      WCHAR         FileName[1];
  } FILE_DIRECTORY_INFORMATION, *PFILE_DIRECTORY_INFORMATION;

  typedef struct _FILE_FULL_DIR_INFORMATION 
  {
      ULONG         NextEntryOffset;
      ULONG         FileIndex;
      LARGE_INTEGER CreationTime;
      LARGE_INTEGER LastAccessTime;
      LARGE_INTEGER LastWriteTime;
      LARGE_INTEGER ChangeTime;
      LARGE_INTEGER EndOfFile;
      LARGE_INTEGER AllocationSize;
      ULONG         FileAttributes;
      ULONG         FileNameLength;
      ULONG         EaSize;
      WCHAR         FileName[1];
  } FILE_FULL_DIR_INFORMATION, *PFILE_FULL_DIR_INFORMATION;

  typedef struct _FILE_ID_FULL_DIR_INFORMATION 
  {
       ULONG         NextEntryOffset;
       ULONG         FileIndex;
       LARGE_INTEGER CreationTime;
       LARGE_INTEGER LastAccessTime;
       LARGE_INTEGER LastWriteTime;
       LARGE_INTEGER ChangeTime;
       LARGE_INTEGER EndOfFile;
       LARGE_INTEGER AllocationSize;
       ULONG         FileAttributes;
       ULONG         FileNameLength;
       ULONG         EaSize;
       LARGE_INTEGER FileId;
       WCHAR         FileName[1];
   } FILE_ID_FULL_DIR_INFORMATION, *PFILE_ID_FULL_DIR_INFORMATION;

   typedef struct _FILE_ID_BOTH_DIR_INFORMATION 
   {
        ULONG         NextEntryOffset;
        ULONG         FileIndex;
        LARGE_INTEGER CreationTime;
        LARGE_INTEGER LastAccessTime;
        LARGE_INTEGER LastWriteTime;
        LARGE_INTEGER ChangeTime;
        LARGE_INTEGER EndOfFile;
        LARGE_INTEGER AllocationSize;
        ULONG         FileAttributes;
        ULONG         FileNameLength;
        ULONG         EaSize;
        CCHAR         ShortNameLength;
        WCHAR         ShortName[12];
        LARGE_INTEGER FileId;
        WCHAR         FileName[1];
   } FILE_ID_BOTH_DIR_INFORMATION, *PFILE_ID_BOTH_DIR_INFORMATION;

   typedef struct _FILE_NAMES_INFORMATION
   {
       ULONG NextEntryOffset;
       ULONG FileIndex;
       ULONG FileNameLength;
       WCHAR FileName[1];
   } FILE_NAMES_INFORMATION, *PFILE_NAMES_INFORMATION;

    ULONG getDirEntryFileLength(PVOID FileInformationBuffer,FILE_INFORMATION_CLASS FileInfoClass)
    {
    ULONG ulResult=0;
    switch(FileInfoClass)
    {
        case FileDirectoryInformation:
            ulResult=(ULONG)((PFILE_DIRECTORY_INFORMATION)FileInformationBuffer)->FileNameLength;
            break;
        case FileFullDirectoryInformation:
            ulResult=(ULONG)((PFILE_FULL_DIR_INFORMATION)FileInformationBuffer)->FileNameLength;
            break;
        case FileIdFullDirectoryInformation:
            ulResult=(ULONG)((PFILE_ID_FULL_DIR_INFORMATION)FileInformationBuffer)->FileNameLength;
            break;
        case FileBothDirectoryInformation:
            ulResult=(ULONG)((PFILE_BOTH_DIR_INFORMATION)FileInformationBuffer)->FileNameLength;
            break;
        case FileIdBothDirectoryInformation:
            ulResult=(ULONG)((PFILE_ID_BOTH_DIR_INFORMATION)FileInformationBuffer)->FileNameLength;
            break;
        case FileNamesInformation:
            ulResult=(ULONG)((PFILE_NAMES_INFORMATION)FileInformationBuffer)->FileNameLength;
            break;
    }
    return ulResult;
}

void setDirEntryLenToNext( PVOID FileInformationBuffer, FILE_INFORMATION_CLASS FileInfoClass, DWORD value)
{
     switch(FileInfoClass)
    {
        case FileDirectoryInformation:
            ((PFILE_DIRECTORY_INFORMATION)FileInformationBuffer)->NextEntryOffset=value;
            break;
        case FileFullDirectoryInformation:
            ((PFILE_FULL_DIR_INFORMATION)FileInformationBuffer)->NextEntryOffset=value;
            break;
        case FileIdFullDirectoryInformation:
            ((PFILE_ID_FULL_DIR_INFORMATION)FileInformationBuffer)->NextEntryOffset=value;
            break;
        case FileBothDirectoryInformation:
            ((PFILE_BOTH_DIR_INFORMATION)FileInformationBuffer)->NextEntryOffset=value;
            break;
        case FileIdBothDirectoryInformation:
            ((PFILE_ID_BOTH_DIR_INFORMATION)FileInformationBuffer)->NextEntryOffset=value;
            break;
        case FileNamesInformation:
            ((PFILE_NAMES_INFORMATION)FileInformationBuffer)->NextEntryOffset=value;
            break;
    }
}

PVOID getDirEntryFileName(PVOID FileInformationBuffer, FILE_INFORMATION_CLASS FileInfoClass)
{
    PVOID pvResult=NULL;
    switch(FileInfoClass)
    {
        case FileDirectoryInformation:
            pvResult=(PVOID)&((PFILE_DIRECTORY_INFORMATION)FileInformationBuffer)->FileName[0];
            break;
        case FileFullDirectoryInformation:
            pvResult=(PVOID)&((PFILE_FULL_DIR_INFORMATION)FileInformationBuffer)->FileName[0];
            break;
        case FileIdFullDirectoryInformation:
            pvResult=(PVOID)&((PFILE_ID_FULL_DIR_INFORMATION)FileInformationBuffer)->FileName[0];
            break;
        case FileBothDirectoryInformation:
            pvResult=(PVOID)&((PFILE_BOTH_DIR_INFORMATION)FileInformationBuffer)->FileName[0];
            break;
        case FileIdBothDirectoryInformation:
            pvResult=(PVOID)&((PFILE_ID_BOTH_DIR_INFORMATION)FileInformationBuffer)->FileName[0];
            break;
        case FileNamesInformation:
            pvResult=(PVOID)&((PFILE_NAMES_INFORMATION)FileInformationBuffer)->FileName[0];
            break;
    }
    return pvResult;
}

DWORD getDirEntryLenToNext(PVOID FileInformationBuffer, FILE_INFORMATION_CLASS FileInfoClass)
{
    DWORD dwResult=0;
    switch(FileInfoClass)
    {
        case FileDirectoryInformation:
            dwResult=((PFILE_DIRECTORY_INFORMATION)FileInformationBuffer)->NextEntryOffset;
            break;
        case FileFullDirectoryInformation:
            dwResult=((PFILE_FULL_DIR_INFORMATION)FileInformationBuffer)->NextEntryOffset;
            break;
        case FileIdFullDirectoryInformation:
            dwResult=((PFILE_ID_FULL_DIR_INFORMATION)FileInformationBuffer)->NextEntryOffset;
            break;
        case FileBothDirectoryInformation:
            dwResult=((PFILE_BOTH_DIR_INFORMATION)FileInformationBuffer)->NextEntryOffset;
            break;
        case FileIdBothDirectoryInformation:
            dwResult=((PFILE_ID_BOTH_DIR_INFORMATION)FileInformationBuffer)->NextEntryOffset;
            break;
        case FileNamesInformation:
            dwResult=((PFILE_NAMES_INFORMATION)FileInformationBuffer)->NextEntryOffset;
            break;
    }
    return dwResult;
}

BOOL config_CheckString(char * str, char *str2)
{
if(StrStrIA(str, str2) != NULL)
    return TRUE;
return FALSE;
}

extern "C" NTSYSAPI NTSTATUS NTAPI RtlUnicodeStringToAnsiString(PANSI_STRING  DestinationString, PUNICODE_STRING SourceString,
                                                            BOOLEAN AllocateDestinationString);

 extern "C" NTSYSAPI VOID NTAPI RtlFreeAnsiString(PANSI_STRING AnsiString);

 extern "C" NTSYSAPI NTSTATUS NTAPI NtQueryDirectoryFile(HANDLE FileHandle, HANDLE Event, PIO_APC_ROUTINE ApcRoutine, PVOID ApcContext,
                        PIO_STATUS_BLOCK IoStatusBlock, PVOID FileInformation, ULONG Length, FILE_INFORMATION_CLASS FileInformationClass,
                        BOOLEAN ReturnSingleEntry, PUNICODE_STRING FileName, BOOLEAN RestartScan);

 typedef NTSTATUS (WINAPI *NtQueryDirectoryFileNext)(HANDLE hFile, HANDLE hEvent, PIO_APC_ROUTINE IoApcRoutine, PVOID IoApcContext,
                        PIO_STATUS_BLOCK pIoStatusBlock,  PVOID FileInformationBuffer, ULONG FileInformationBufferLength, FILE_INFORMATION_CLASS FileInfoClass,
                        BOOLEAN bReturnOnlyOneEntry, PUNICODE_STRING PathMask, BOOLEAN bRestartQuery);

 NtQueryDirectoryFileNext Real_NtQueryDirectoryFile = NULL;

 NTSTATUS WINAPI NtQueryDirectoryFileCallback(HANDLE hFile, HANDLE hEvent, PIO_APC_ROUTINE IoApcRoutine, PVOID IoApcContext,
                        PIO_STATUS_BLOCK pIoStatusBlock, PVOID FileInformationBuffer, ULONG FileInformationBufferLength, FILE_INFORMATION_CLASS FileInfoClass,
                        BOOLEAN bReturnOnlyOneEntry,   PUNICODE_STRING PathMask, BOOLEAN bRestartQuery)
{

 NTSTATUS rc;
 char * ConfigHiddenFileDir = "pawaa software";//Name of the Folder to be Hide
 rc = Real_NtQueryDirectoryFile( hFile, hEvent, IoApcRoutine, IoApcContext,  pIoStatusBlock,
                                  FileInformationBuffer, FileInformationBufferLength, FileInfoClass, bReturnOnlyOneEntry,
                                PathMask, bRestartQuery );

 if(NT_SUCCESS(rc) && (FileInfoClass==FileDirectoryInformation || FileInfoClass == FileFullDirectoryInformation||
    FileInfoClass == FileIdFullDirectoryInformation || FileInfoClass==FileBothDirectoryInformation||
    FileInfoClass == FileIdBothDirectoryInformation || FileInfoClass==FileNamesInformation))
{

      PVOID p = FileInformationBuffer;
      PVOID pLast = NULL;
      BOOL bLastOne,bFound;
      UNICODE_STRING usName;
      ANSI_STRING asName;

      if (bReturnOnlyOneEntry) // if only one entry returned we should give the next if it suppose to be hidden
      {
          usName.Buffer = (PWSTR)getDirEntryFileName(FileInformationBuffer, FileInfoClass);
          usName.Length=(USHORT)getDirEntryFileLength(FileInformationBuffer,FileInfoClass);
          RtlUnicodeStringToAnsiString(&asName,&usName,TRUE);
          bFound = config_CheckString(ConfigHiddenFileDir, asName.Buffer);
          RtlFreeAnsiString(&asName);

          if( bFound)
           {
                rc = Real_NtQueryDirectoryFile( hFile, hEvent, IoApcRoutine, IoApcContext, pIoStatusBlock,
                                    FileInformationBuffer, FileInformationBufferLength, FileInfoClass, bReturnOnlyOneEntry,
                                    PathMask, bRestartQuery);

                        if (rc != STATUS_SUCCESS)
                         return(rc);

            usName.Buffer = (PWSTR)getDirEntryFileName(FileInformationBuffer,FileInfoClass);
            usName.Length = (USHORT)getDirEntryFileLength(FileInformationBuffer,FileInfoClass);
            RtlUnicodeStringToAnsiString(&asName,&usName,TRUE);
            bFound = config_CheckString(ConfigHiddenFileDir,asName.Buffer);
            RtlFreeAnsiString(&asName);
           }
      }
      else // if full list hide the ones that should be hidden
      {     
        do 
        {
            bLastOne =!getDirEntryLenToNext(p,FileInfoClass);

            // compare directory-name 
            if (getDirEntryFileLength(p,FileInfoClass)) 
            {
                usName.Buffer = (PWSTR) getDirEntryFileName(p,FileInfoClass);
                usName.Length =(USHORT)getDirEntryFileLength(p,FileInfoClass);
                RtlUnicodeStringToAnsiString(&asName,&usName,TRUE);
                if (config_CheckString(ConfigHiddenFileDir,asName.Buffer))
                {
                    RtlFreeAnsiString(&asName);
                    if(bLastOne) 
                    {
                        if(p == FileInformationBuffer) rc = 0x80000006;
                        else setDirEntryLenToNext(pLast,FileInfoClass,0);
                        break;
                    } 
                    else    
                    {   
                        int iPos = ((ULONG)p)-(ULONG)FileInformationBuffer;
                        int iLeft =(DWORD)FileInformationBufferLength - iPos - getDirEntryLenToNext(p,FileInfoClass);
                        RtlCopyMemory(p,(PVOID)((char*)p + getDirEntryLenToNext(p,FileInfoClass)),(DWORD)iLeft);
                        continue;
                    }
                }
                RtlFreeAnsiString(&asName);
            }

            pLast = p;
            p =((char*)p+getDirEntryLenToNext(p,FileInfoClass));
        } while(!bLastOne);
    }
}
return rc;
}

BOOL APIENTRY DllMain(HMODULE hModule, DWORD  ul_reason_for_call, LPVOID lpReserved)
{
switch (ul_reason_for_call)
{
case DLL_PROCESS_ATTACH:

    if (MH_Initialize() != MH_OK)
    {
        MessageBoxW(NULL, L"Failed Initialize", L"Info!", MB_ICONWARNING|MB_OK);    
    }
    if (MH_CreateHook(&NtQueryDirectoryFile, &NtQueryDirectoryFileCallback, reinterpret_cast<void**>(&Real_NtQueryDirectoryFile)) != MH_OK)
    {
        MessageBoxW(NULL, L"connect Disabled by hooking", L"Info!", MB_ICONWARNING|MB_OK);
    }
    if (MH_EnableHook(&NtQueryDirectoryFile) != MH_OK)
    {
        MessageBoxW(NULL, L"Failed EnableHook connect", L"Info!", MB_ICONWARNING|MB_OK);
    }
    break;
case DLL_PROCESS_DETACH:
    if (MH_DisableHook(&NtQueryDirectoryFile) != MH_OK){}
    if (MH_Uninitialize() != MH_OK){}
    break;
}
return TRUE;
} 
```

从上面的代码中，我试图隐藏文件夹，但它不起作用，所以如果上面的代码有任何错误，请帮助我，或者建议我如何实现文件夹隐藏....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T20:20:14.713

如果您仍然需要...我使用此功能从 explorer.exe 隐藏了 WIN 7 上的文件夹（不是最终版本，可能有错误，也必须在 WIN XP 和 VISTA 上工作）：

```
NTSTATUS WINAPI NewZwQueryDirectoryFile(  HANDLE FileHandle,
HANDLE Event,
PIO_APC_ROUTINE ApcRoutine,
PVOID ApcContext,
PIO_STATUS_BLOCK IoStatusBlock,
PVOID FileInformation,
ULONG Length,
FILE_INFORMATION_CLASS FileInformationClass,
BOOLEAN ReturnSingleEntry,
PUNICODE_STRING FileName,
BOOLEAN RestartScan
){

      char infobuf[4096];
     ULONG ResultLength = 0; 
NtQueryObject(FileHandle,ObjectNameInformation,infobuf,sizeof(infobuf),&ResultLength);
         OBJECT_NAME_INFORMATION * pinfo = (OBJECT_NAME_INFORMATION *) infobuf;
wchar_t * ps = pinfo->NameBuffer;
ps[ pinfo->Name.Length / 2 ] = 0;
NTSTATUS result =  TrueZwQueryDirectoryFile(FileHandle,Event,ApcRoutine,ApcContext,IoStatusBlock,FileInformation,Length,
                          FileInformationClass,ReturnSingleEntry,FileName,RestartScan);
if ((FileInformationClass==FileBothDirectoryInformation || FileInformationClass==FileIdBothDirectoryInformation) && result == STATUS_SUCCESS){
if (lstrcmpi(ps,diskName)==0) {
    if (FileInformationClass==FileBothDirectoryInformation) {
PFILE_BOTH_DIR_INFORMATION Prev,info = (PFILE_BOTH_DIR_INFORMATION)FileInformation;
UINT cnt=0;
    while (info->NextEntryOffset>0) {
        Prev=info;
        info =(PFILE_BOTH_DIR_INFORMATION)((DWORD)info+(DWORD)info->NextEntryOffset);
        UINT bl;
        if (folderName[0]==0) bl =  lstrcmp(info->FileName,nameProcess); else bl =  lstrcmp(info->FileName,folderName);
        if (bl){

            if (info->NextEntryOffset==0){
                Prev->NextEntryOffset=0; 
                Prev->FileIndex=info->FileIndex;
                if (cnt==0) return STATUS_NO_SUCH_FILE;
            }
            else {
            Prev->NextEntryOffset = Prev->NextEntryOffset+info->NextEntryOffset;
            Prev->FileIndex = info->FileIndex;
            }
                }

    cnt++;
    }
    }
 else {
        PFILE_ID_BOTH_DIR_INFORMATION Prev,info = (PFILE_ID_BOTH_DIR_INFORMATION)FileInformation;
UINT cnt=0;
    while (info->NextEntryOffset>0) {
        Prev=info;
        info =(PFILE_ID_BOTH_DIR_INFORMATION)((DWORD)info+(DWORD)info->NextEntryOffset);
        UINT bl;
        if (folderName[0]==0) bl =  lstrcmp(info->FileName,nameProcess); else bl =  lstrcmp(info->FileName,folderName);
        if (!bl){

            if (info->NextEntryOffset==0){
                Prev->NextEntryOffset=0; 
                Prev->FileIndex=info->FileIndex;
                if (cnt==0) return STATUS_NO_SUCH_FILE;
            }
            else {
            Prev->NextEntryOffset = Prev->NextEntryOffset+info->NextEntryOffset;
            Prev->FileIndex = info->FileIndex;
            }
                }

    cnt++;
    }
}

}
}
return result;

} 
```

结构：

```
typedef struct _FILE_BOTH_DIR_INFORMATION {
ULONG         NextEntryOffset;
ULONG         FileIndex;
LARGE_INTEGER CreationTime;
LARGE_INTEGER LastAccessTime;
LARGE_INTEGER LastWriteTime;
LARGE_INTEGER ChangeTime;
LARGE_INTEGER EndOfFile;
LARGE_INTEGER AllocationSize;
ULONG         FileAttributes;
ULONG         FileNameLength;
ULONG         EaSize;
CCHAR         ShortNameLength;
WCHAR         ShortName[12];
WCHAR         FileName[1];
} FILE_BOTH_DIR_INFORMATION, *PFILE_BOTH_DIR_INFORMATION;

typedef struct _FILE_ID_BOTH_DIR_INFORMATION {
 ULONG         NextEntryOffset;
 ULONG         FileIndex;
 LARGE_INTEGER CreationTime;
 LARGE_INTEGER LastAccessTime;
 LARGE_INTEGER LastWriteTime;
 LARGE_INTEGER ChangeTime;
 LARGE_INTEGER EndOfFile;
 LARGE_INTEGER AllocationSize;
 ULONG         FileAttributes;
  ULONG         FileNameLength;
  ULONG         EaSize;
 CCHAR         ShortNameLength;
 WCHAR         ShortName[12];
 CHAR           Reserver[2];
 LARGE_INTEGER FileId;
WCHAR         FileName[1];
} FILE_ID_BOTH_DIR_INFORMATION, *PFILE_ID_BOTH_DIR_INFORMATION;

 typedef enum _OBJECT_INFORMATION_CLASS {
 ObjectBasicInformation, ObjectNameInformation, ObjectTypeInformation, ObjectAllInformation, ObjectDataInformation
  } OBJECT_INFORMATION_CLASS, *POBJECT_INFORMATION_CLASS;

 typedef struct _OBJECT_NAME_INFORMATION {

 UNICODE_STRING Name;
 WCHAR NameBuffer[1];

 } OBJECT_NAME_INFORMATION, *POBJECT_NAME_INFORMATION; 
```

TrueZwQueryDirectoryFile 必须调用原始 ZwQueryDirectoryFile （或 NtQueryDirectoryFile 如果你钩它）。NtQueryOvbject 从“FileHandle”以内核格式返回文件夹名称。因此，如果您想隐藏例如“C:\Windows”，请将其转换为当前格式的 GetLogicalDriveStrings 和 QueryDosDevice。

# windows-phone-7 - 如何在 wp7 中管理不同的屏幕分辨率？

> ID：14036167
> 
> 赞同：1
> 
> 时间：2012-12-26T05:00:53.283
> 
> 标签：windows-phone-7, windows-phone-8, screen-resolution

我想知道在 windows phone 7 中开发应用程序时处理不同屏幕分辨率的最佳方法是什么。

因为我以 480 x 800 像素开发所有应用程序，而且我知道并非所有移动设备都支持 480 x 800 像素分辨率。

如果我在 xaml 中对宽度、高度、边距等进行硬编码，那么当手机不支持 480x800 分辨率时就会出现问题。

那么在单个应用程序中管理所有分辨率的最佳方法是什么？就像在 android 中有不同的文件夹用于不同的分辨率（Hdpi，Ldpi）。

帮我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T05:10:36.037

请阅读我之前关于该主题的回答： Wen [of WP8 Multi-resolution support](https://stackoverflow.com/questions/13470605/wp8-emulator-screen-size/13473129#13473129) , [APIs for WP8 mutli-resolution](http://www.developer.nokia.com/Community/Wiki/What%27s_new_in_Windows_Phone_8#Multi_resolution) , [DevCenter multiple XAP support](https://stackoverflow.com/questions/13431951/how-do-i-get-my-windows-phone-7-app-to-show-up-in-the-windows-phone-8-marketplac/13475744#13475744) , and [WP7 & WP8 co-development guide](http://www.developer.nokia.com/Resources/Library/Lumia/#!co-development-and-porting-guide.html)。

具体看一下[运行时适配下的WP7 & WP8共同开发指南](http://www.developer.nokia.com/Resources/Library/Lumia/#!co-development-and-porting-guide.html;#toc_Runtimeadaptation)。有这个代码片段：

```
public Uri GetScaledImageUri(String imageName) 
{
    int scaleFactor = (int)Application.Current.Host.Content.ScaleFactor;
    switch (scaleFactor)
    {
        case 100: return new Uri(imageName + "_wvga.png", UriKind.RelativeOrAbsolute);
        case 150: return new Uri(imageName + "_720p.png", UriKind.RelativeOrAbsolute);
        case 160: return new Uri(imageName + "_wxga.png", UriKind.RelativeOrAbsolute);
        default:  throw new InvalidOperationException("Unknown resolution type");
    }
}

// Next line will load a correct image depending on the resolution of the device
MyImage.Source = new BitmapImage(GetScaledImageUri("myImage")); 
```

另请查看具有以下三个互斥代码片段[的 WP8 多分辨率 API ：](http://www.developer.nokia.com/Community/Wiki/What%27s_new_in_Windows_Phone_8#Multi_resolution)

```
Image myImage = new Image();
if (MultiRes.Is720p)
    myImage.Source = new BitmapImage(new Uri("puppies.720p.jpg"));
else if (MultiRes.IsWvga)
    myImage.Source = new BitmapImage(new Uri("puppies.wvga.jpg"));
else if (MultiRes.IsWxga)
    myImage.Source = new BitmapImage(new Uri("puppies.wxga.jpg"));

if (MultiRes.Is720p)
    myImage.Source = new BitmapImage(new Uri(@"assets\16by9AspectRatio\puppies.jpg"));
else
    myImage.Source = new BitmapImage(new Uri(@"assets\15by9AspectRatio\puppies.jpg"));

if (MultiRes.IsHighResolution)
    myImage.Source = new BitmapImage(new Uri(@"assets\HD\puppies.jpg"));
else
    myImage.Source = new BitmapImage(new Uri(@"assets\SD\puppies.jpg")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T05:15:44.500

在 wp8 中开发应用程序时，我得到了处理不同屏幕分辨率的解决方案。

JustinAngel anser 也是正确的，但它有些复杂，因为它包含大量需要维护的代码，而且有些困难。

因此，请使用 Telerik RedControls。无需维护代码隐藏，并且根据分辨率加载不同图像的简单直接方法。

请参考此链接

[Windows Phone 8 中的多分辨率支持变得简单](http://blogs.telerik.com/michaelcrump/posts/12-12-17/multi-resolution-support-in-windows-phone-8-made-easy)

希望这对所有 wp8 开发人员都有帮助。

# java - 如何在不使用 JProgressBar 的情况下制作进度条？

> ID：14036173
> 
> 赞同：5
> 
> 时间：2012-12-26T05:01:44.253
> 
> 标签：java, swing, timer, progress-bar, java-2d

我正在考虑将进度条放入我正在制作的游戏中，并从 5 到 20 之间的随机数倒数到 0。这是我到目前为止的代码：

打包软件；

```
import java.awt.Color;
import java.awt.Graphics;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JPanel;
import javax.swing.Timer;

public class CountDownProgressBar extends JPanel {

    RandomValues randomNum;
    int timeValue;
    Timer timer;
    int length, newLength;

    public CountDownProgressBar() {
        timer = new Timer(24, new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
               for (int i = timeValue; i > 0; --i) {
                        newLength = length - (length / timeValue);
                        length = newLength;
                        repaint();
                    }
                }
            });
        randomNum = new RandomValues();
        this.timeValue = 0;
        this.setBackground(Color.GRAY);
    }

    @Override
    public void paint(Graphics g) {
        super.paintComponent(g);
        g.setColor(Color.green);
        g.fillRect(0, 0, length, 50);
    }

    public void setTimeLength() {
        this.timeValue = randomNum.integer(5, 20);
    }

    public int getTimeLength() {
        return this.timeValue;
    }
} 
```

我知道大部分都是错误的，我只是不知道该怎么做。它不需要使用 JProgressBar，而是使用图形（绿色矩形），它变得越来越小并且时间倒计时。以及我将如何做到这一点，以便屏幕可以调整大小，并且栏仍然会相对于屏幕尺寸倒计时。所以它不是一个固定的大小，而是穿过屏幕底部。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-26T05:33:29.273

这是`JProgressBar`我很久以前定制的代码（我知道问题状态不使用 a`JProgressBar`但你可以从中获取代码想法），它的设计类似于“人类”主题中的进度条外观Ubuntu 9.04：

```
import java.awt.AlphaComposite;
import java.awt.Color;
import java.awt.Composite;
import java.awt.FontMetrics;
import java.awt.GradientPaint;
import java.awt.Graphics;
import java.awt.Graphics2D;

import javax.swing.JProgressBar;

/**
 * A progressBar that looks like the progress bar from Ubuntu 9.04 Human Theme
 */
public class HumanProgressBar extends JProgressBar {
    private static final long serialVersionUID = 1L;

    private static final String DISABLED_PERCENT_STRING = " --- ";

    private static final Color gradientEndingColor = new Color(0xc0c0c0);
    private static final Color borderColor = new Color(0x736a60);
    private static final Color disabledBorderColor = new Color(0xbebebe);    

    private static final Composite transparent = AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.45f);
    private static final Composite veryTransparent = AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.25f);

    private static GradientPaint gradient;

    private int oldWidth;
    private int oldHeight;

    private int displayWidth;
    private int displayHeight;

    private int insets[] = new int[4];
    private static final int TOP_INSET = 0;
    private static final int LEFT_INSET = 1;
    private static final int BOTTOM_INSET = 2;
    private static final int RIGHT_INSET = 3;

    private static final int PREFERRED_PERCENT_STRING_MARGIN_WIDTH = 3;

    public static final Color PREFERRED_PROGRESS_COLOR = new Color(0x1869A6);

    private boolean percentStringVisible = true;

    private Color progressColor;

    private String maxPercentString;

    public HumanProgressBar() {
        progressColor = PREFERRED_PROGRESS_COLOR;
    }

    public void updateGraphics() {
        update(getGraphics());
    }

    @Override
    protected void paintComponent(Graphics g) {
        int w = displayWidth != 0 ? displayWidth - 1 : getWidth() - 1;
        int h = displayHeight != 0 ? displayHeight - 1 : getHeight() - 1;

        int x = insets[LEFT_INSET];
        int y = insets[TOP_INSET];
        w -= (insets[RIGHT_INSET] << 1);
        h -= (insets[BOTTOM_INSET] << 1);

        if (gradient == null) {
            gradient = new GradientPaint(0.0f, 0.0f, Color.WHITE, 0.0f, h, gradientEndingColor);
        }
        Graphics2D g2d = (Graphics2D) g;
        // Clean background
        if (isOpaque()) {
            g2d.setColor(getBackground());
            g2d.fillRect(0, 0, getWidth(), getHeight());
        }

        g2d.translate(x, y);

        if (percentStringVisible) {
            FontMetrics fm = g.getFontMetrics();
            int stringW = 0;
            int stringH = 0;

            g2d.setColor(getForeground());

            if (isEnabled()) { 
                int p = getValue();
                String percent = Integer.toString(p, 10) + "%";
                if (p < 10) {
                    percent = "0" + percent;
                }

                if (maxPercentString == null) {
                    maxPercentString = Integer.toString(getMaximum(), 10) + "%";
                }
                stringW = fm.stringWidth(maxPercentString);
                stringH = ((h - fm.getHeight()) / 2) + fm.getAscent();

                g2d.drawString(percent, w - stringW, stringH);
            } else {
                stringW = fm.stringWidth(DISABLED_PERCENT_STRING);
                stringH = ((h - fm.getHeight()) / 2) + fm.getAscent();

                g2d.drawString(DISABLED_PERCENT_STRING, w - stringW, stringH);
            }
            w -= (stringW + PREFERRED_PERCENT_STRING_MARGIN_WIDTH);            
        }

        // Control Border
        g2d.setColor(isEnabled() ? borderColor : disabledBorderColor);
        g2d.drawLine(1, 0, w - 1, 0);
        g2d.drawLine(1, h, w - 1, h);
        g2d.drawLine(0, 1, 0, h - 1);
        g2d.drawLine(w, 1, w, h - 1);

        // Fill in the progress
        int min = getMinimum();
        int max = getMaximum();
        int total = max - min;
        float dx = (float) (w - 2) / (float) total;
        int value = getValue();
        int progress = 0; 
        if (value == max) {
            progress = w - 1;
        } else {
            progress = (int) (dx * getValue());            
        }

        g2d.setColor(progressColor);
        g2d.fillRect(1, 1, progress, h - 1);

        // A gradient over the progress fill
        g2d.setPaint(gradient);
        g2d.setComposite(transparent);
        g2d.fillRect(1, 1, w - 1, (h >> 1));
        final float FACTOR = 0.20f;
        g2d.fillRect(1, h - (int) (h * FACTOR), w - 1, (int) (h * FACTOR));

        if (isEnabled()) {
            for (int i = h; i < w; i += h) {
                g2d.setComposite(veryTransparent);
                g2d.setColor(Color.GRAY);
                g2d.drawLine(i, 1, i, h - 1);
                g2d.setColor(Color.WHITE);
                g2d.drawLine(i + 1, 1, i + 1, h - 1);
            }
        } else {
            for (int i = 0; i < w; i += h) {
                g2d.setComposite(veryTransparent);
                g2d.setColor(Color.RED);
                g2d.drawLine(i, h - 1, i + h, 1);
                g2d.setColor(Color.WHITE);
                g2d.drawLine(i + 1, h - 1, i + 1 + h, 1);
            }            
        }
    }

    public void setInsets(int top, int left, int bottom, int right) {
        insets[TOP_INSET] = top;
        insets[LEFT_INSET] = left;
        insets[BOTTOM_INSET] = bottom;
        insets[RIGHT_INSET] = right;
    }

    public void setPercentStringVisible(boolean percentStringVisible) {
        this.percentStringVisible = percentStringVisible;
    }

    @Override
    protected void paintBorder(Graphics g) {
    }

    @Override
    public void validate() {
        int w = getWidth();
        int h = getHeight();

        super.validate();
        if (oldWidth != w || oldHeight != h) {
            oldWidth = w;
            oldHeight = h;
            gradient = null;
        }
    }

    @Override
    public void setMaximum(int n) {
        super.setMaximum(n);
        maxPercentString = Integer.toString(n, 10) + "%";
    }

    public void setDisplaySize(int width, int height) {
        displayWidth = width;
        displayHeight = height;
    }

    public Color getProgressColor() {
        return progressColor;
    }

    public void setProgressColor(Color progressColor) {
        this.progressColor = progressColor;
    }
} 
```

这是该组件的测试程序：

```
import javax.swing.JFrame;
import javax.swing.SwingUtilities;

public class T extends JFrame {
    public T() {
        super();
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.setLayout(null);
        this.setSize(350, 75);
        HumanProgressBar p = new HumanProgressBar();
        p.setValue(50);
        p.setBounds(15, 15, 300, 15);
        this.add(p);
        this.setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                new T();
            }
        });
    }
} 
```

![在此处输入图像描述](../Images/abbc13e8dfb714fe1278f1e17f822d63.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T18:37:45.107

您可能能够适应`ProgressIcon`，[此处](https://stackoverflow.com/a/3484251/230513)在 a 的选项卡中进行了说明`JTabbedPane`。

![图片](../Images/8be472e704add5e9abb6df464b3736cc.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-27T09:11:30.560

+1 安德鲁汤普森评论。

`JProgressBar`这是我制作的一个简短示例，不是最好的，但显示了使用以下方法从头开始创建自己的逻辑所需的逻辑`JPanel`：

![在此处输入图像描述](../Images/56111ac47737d706a5754469fc646d9e.png)

它也可以设置为不确定：

![在此处输入图像描述](../Images/4b60e1d2f162b627229cbb9a1b91c4d6.png)

通过取消注释：

```
 myProgressBar.setBackground(new Color(0, 255, 0, 127));
    myProgressBar.setIndeterminate(true); //if progress unknown show ball moving from side to side 
```

**CustomProgressBarTest.java：**

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Rectangle;
import java.awt.RenderingHints;
import java.awt.event.ActionEvent;
import java.util.ArrayList;
import javax.swing.AbstractAction;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;
import javax.swing.Timer;
import javax.swing.border.LineBorder;

public class CustomProgressBarTest {

    public CustomProgressBarTest() {
        createAndShowGui();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new CustomProgressBarTest();
            }
        });
    }

    private void createAndShowGui() {
        JFrame frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        final MyProgressBar myProgressBar = new MyProgressBar(0, 100);
        myProgressBar.setProgressColor(new Color(0, 255, 0, 127));
        //myProgressBar.setIndeterminate(true); //if progress unknown show ball moving from side to side

        JPanel dummyPanel = new JPanel() {
            @Override
            public Dimension getPreferredSize() {
                return new Dimension(300, 300);
            }
        };

        dummyPanel.add(new JLabel("DummyPanel"));

        frame.add(dummyPanel);

        frame.add(myProgressBar, BorderLayout.SOUTH);

        frame.pack();
        frame.setVisible(true);

        //create timer to decrease progressbar
        createAndStartDecrementTimer(myProgressBar);

        //create timer to increase progressbar
        //myProgressBar.setValue(0);//set to 0 so we can increment
        //createAndStartIncrementTimer(myProgressBar);
    }

    private void createAndStartIncrementTimer(final MyProgressBar myProgressBar) {
        Timer progressBarIncrementTimer = new Timer(100, new AbstractAction() {
            int count = 0;

            @Override
            public void actionPerformed(ActionEvent ae) {
                if (count == 100) {
                    System.out.println("Done");
                    ((Timer) ae.getSource()).stop();
                } else if (count < 100) {
                    //System.out.println("Here");
                    count++;
                    myProgressBar.setValue(count);
                }
            }
        });
        progressBarIncrementTimer.start();
    }

    private void createAndStartDecrementTimer(final MyProgressBar myProgressBar) {
        Timer progressBArCountDownTimer = new Timer(100, new AbstractAction() {
            int count = 100;

            @Override
            public void actionPerformed(ActionEvent ae) {
                if (count == 0) {
                    System.out.println("Done");
                    ((Timer) ae.getSource()).stop();
                } else if (count > 0) {
                    count--;
                    myProgressBar.setValue(count);
                    System.out.println(myProgressBar.getValue());
                }
            }
        });
        progressBArCountDownTimer.start();
    }
}

class MyProgressBar extends JPanel {

    private final int minValue, maxValue;
    private boolean indeterminate = false;
    private int currentValue;
    private ArrayList<Rectangle> rects = new ArrayList<>();
    private Color PROGRESS_COLOR = Color.blue;
    private int removeValue = 0;
    private Timer indeterminateTimer;
    private int x = 0, y = 0, ballSize = 25;
    private boolean changeDirection = false;

    public MyProgressBar(int min, int max) {
        indeterminateTimer = new Timer(50, new AbstractAction() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                repaint();
            }
        });
        maxValue = max;
        minValue = min;
        currentValue = maxValue;
        setBorder(new LineBorder(Color.BLACK));
    }

    @Override
    protected void paintComponent(Graphics grphcs) {
        super.paintComponent(grphcs);
        Graphics2D g2d = (Graphics2D) grphcs;

        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);

        if (!indeterminate) {//if normal progress bar
            rects.clear();
            int rectWidths = getWidth() / maxValue;
            int startingX = 0;

            if (currentValue < maxValue) {//we started off with a value less than the max
                for (int i = minValue; i < currentValue; i++) {
                    rects.add(new Rectangle(startingX, 0, rectWidths, getHeight()));
                    startingX += rectWidths;
                }
            } else {
                for (int i = minValue; i < (maxValue - removeValue); i++) {
                    rects.add(new Rectangle(startingX, 0, rectWidths, getHeight()));
                    startingX += rectWidths;
                }
            }

            for (Rectangle r : rects) {
                g2d.setColor(PROGRESS_COLOR);
                g2d.fillRect(r.x, r.y, r.width, r.height);
            }
        } else {//if indeterminate
            if (!indeterminateTimer.isRunning()) {
                indeterminateTimer.start();
            }
            g2d.setColor(PROGRESS_COLOR);
            if (!changeDirection) {
                if (x + 10 < getWidth() - (ballSize / 2)) {
                    x += 10;
                } else {
                    changeDirection = true;
                }
            } else if (changeDirection) {
                if (x + 10 > 0) {
                    x -= 10;
                } else {
                    changeDirection = false;
                }
            }
            g2d.fillOval(x, y, ballSize, getHeight());
        }
    }

    int getValue() {
        return currentValue;
    }

    public void setIndeterminate(boolean indeterminate) {
        this.indeterminate = indeterminate;
    }

    void setValue(int value) {
        if (value > maxValue) {
            return;
        }
        if (value < minValue) {
            return;
        }
        if (value < currentValue) {
            removeValue++;
        } else {
            int rem = value - currentValue;
            removeValue -= rem;
        }
        currentValue = value;
        repaint();
    }

    void setProgressColor(Color c) {
        PROGRESS_COLOR = c;
    }

    Color getProgressColor() {
        return PROGRESS_COLOR;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-02-02T04:59:51.913

这是我为我的游戏所做的。随意使用任何可能像我一样发现这个问题的人。

享受。

```
import java.awt.Canvas;
import java.awt.Color;
import java.awt.Font;
import java.awt.FontMetrics;
import java.awt.Graphics;

import javax.swing.JPanel;

import com.jayavon.game.client.MyClient;

public class CustomJProgressBar extends JPanel {
    private static final long serialVersionUID = 1L;
    private Color color;
    private int width, height;
    private double minimum = 0.0;
    private double maximum = 100.0;
    private double value = 100.0;
    private Font font = MyClient.theme_font.deriveFont(Font.PLAIN, 12);

    public CustomJProgressBar(Color color) {
        super();
        this.color = color;
        setBounds(0, 0, width, height);
        setFont(font);
    }

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);

        //border
        g.setColor(MyClient.THEME_LIGHT_TEXT);
        g.drawRect(0, 0, getWidth()-1, getHeight()-1);

        //progress
        int drawAmount = (int) (((value - minimum) / (maximum - minimum)) * getWidth());
        g.setColor(color);
        g.fillRect(1, 1, drawAmount-2, getHeight()-2); //-2 to account for border

        //string painting
        String stringToPaint = (int)value + "/" + (int)maximum;
        Canvas c = new Canvas();
        FontMetrics fm = c.getFontMetrics(font);
        final int stringWidth = fm.stringWidth(stringToPaint);
        final int stringHeight = fm.getHeight();
        g.setColor(MyClient.THEME_LIGHT_TEXT);
        g.drawString(stringToPaint, (getWidth()/2) - (stringWidth/2), ((getHeight()/2) + (stringHeight/2))-2); //-2 to account for border
    }

    public void setColor(Color _color){
        this.color = _color;
    }

    public void setMinimum(double _minimum){
        this.minimum = _minimum;
    }

    public void setMaximum(double _maximum){
        this.maximum = _maximum;
    }

    public void setValue(double _value){
        this.value = _value;
    }
} 
```

# php - 基于 PHP 版本的变体匿名函数定义？

> ID：14036174
> 
> 赞同：1
> 
> 时间：2012-12-26T05:01:55.073
> 
> 标签：php, anonymous-function, conditional-compilation, version-detection

以下失败并在 PHP 5.2.X 上出现解析错误：

```
if (version_compare(PHP_VERSION, '5.3.0') >= 0) {
  $greater = function($left, $right) {
    return $left > $right;
  }
}
else {
  $greater = create_function('$left, $right', 'return $left > $right;');
} 
```

我想原因可能很明显，所以真正的问题是：

> “我有什么方法可以做到这一点，而不会将依赖于 5.3.0 的定义放在单独的文件中，然后在版本为 5.3.0 或更高版本时有条件地包含该文件？”

如果我想定义的函数是一个一流的命名函数，那么将它放在一个单独的文件中我就会有更少的内疚。但从代码可读性的角度 (IMO) 来看，匿名函数的好处之一是它的源文本在定义/使用它的模块的主体中​​是可见的。将定义放在不同的源文件中几乎会扼杀这种好处。

# ruby-on-rails-3 - 如何将表单中提交的变量传递给“新”操作

> ID：14036176
> 
> 赞同：0
> 
> 时间：2012-12-26T05:02:29.067
> 
> 标签：ruby-on-rails-3

我正在尝试向另一个用户发送消息。但是当我将一个字段留空时，控制器会呈现另一个“新”动作。

这是链接到第一个提交的视图代码：

```
 <%= link_to 'Send Mail', {:controller => 'messages', :action => 'new', :recipient_id => @profile.id}, :class => 'btn btn-large btn-primary' %> 
```

这是消息#new 代码：

```
 def new
  @message = Message.new

  @recipient = Profile.find(params[:recipient_id])

end 
```

这是消息#new 查看代码：

```
<%= simple_form_for @message do |f| %>

<%= f.input :title %>
<%= f.input :body %>
<%= f.input :recipient_id, :as => :hidden, :input_html => {:value => @recipient.id} %>
<%= f.input :sender_id, :as => :hidden, :input_html => {:value => @recipient.id} %>

<%= f.button :submit %>
<% end %> 
```

这是消息#create 代码：

```
def create
@message = Message.new(params[:message])

if @message.save
  flash[:notice] = "New message created"
  redirect_to @message
else
  flash[:error] = "Did not work"
  @recipient = params[:recipient_id]
  render action: "new"
end
  end 
```

如何获取表单中提交的 :recipient_id 值并传递给渲染新操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:15:52.420

当您渲染`new`方法 rails 不会执行它的代码时，它只会渲染`new`操作的视图（new.html.erb）并且您已经生成了一个`recipient_id`足以让您的表单传递参数

试试这个

```
 def create
        @message = Message.new(params[:message])
        if @message.save
        flash[:notice] = "New message created"
            redirect_to @message
        else
            flash[:error] = "Did not work"
            @recipient = Profile.find(params[:message][:recipient_id])
            render action: "new"
        end
end 
```

渲染`new`动作时，我们必须手动创建视图中使用的实例。

**注意**：如果要生成新的参数使用`redirect_to`方法，其中`render`使用之前的参数，直到生成新的请求

# c# - OracleBulkCopyOptions.Default 和 OracleBulkCopyOptions.UseInternalTransaction 之间的区别。

> ID：14036178
> 
> 赞同：1
> 
> 时间：2012-12-26T05:03:15.473
> 
> 标签：c#, asp.net, ado.net, oracle10g, odp.net

**谁能解释OracleBulkCopyOptions.Default** 和**OracleBulkCopyOptions.UseInternalTransaction**之间的区别以及如果两者之间发生任何批量插入错误，我如何回滚所有记录。

我正在使用**OracleBulkCopy**向 Oracle 数据库批量插入（记录范围从 100000 到 500000 不等）。我的要求是所有记录都应该插入数据库，或者没有记录应该插入数据库（回滚所有记录）。我将 25000 作为**BatchSize**和 150 秒作为**BulkCopyTimeout**。下面是我当前的代码块。

```
public bool WriteExcelDataToServerRouteOne(DataTable excelTable)
        {
            var columnMapping = from table in excelTable.Columns.Cast<DataColumn>() select new OracleBulkCopyColumnMapping(table.ColumnName, table.ColumnName);
            using (var bulkcopy = new OracleBulkCopy(ConnectionString, OracleBulkCopyOptions.Default))
            {
                bulkcopy.DestinationTableName = DestinationTable;
                foreach (var mapping in columnMapping)
                    bulkcopy.ColumnMappings.Add(mapping);
                bulkcopy.BulkCopyTimeout = TimeOut.Value;
                bulkcopy.BatchSize = BatchSize.Value;
                bulkcopy.WriteToServer(excelTable);
            }
            return true;
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T05:09:06.133

OracleBulkCopy 不支持所有记录的事务，如果`UseInternalTransaction`指定它只支持批量事务。

从[OracleBulkCopy 类](http://docs.oracle.com/html/E10927_01/OracleBulkCopyClass.htm)

> *   如果 BatchSize > 0 并且**指定了 UseInternalTransaction 大容量复制选项**，则**每批大容量复制操作都发生在一个事务**中。如果用于执行大容量复制操作的连接已经是事务的一部分，则会引发 InvalidOperationException 异常。
> *   如果 BatchSize > 0 并且未指定 UseInternalTransaction 选项，则将行以 BatchSize 大小的批次发送到数据库，但不执行与事务相关的操作。

对于您的问题：

> 谁能解释 OracleBulkCopyOptions.Default 和 OracleBulkCopyOptions.UseInternalTransaction 之间的区别

默认值：不将事务用于批处理。UseInternalTransaction：如果批量大小大于 0，则支持批量事务。

请参阅： [OracleBulkCopyOptions 枚举](http://docs.oracle.com/html/E10927_01/OracleBulkCopyOptionsEnumeration.htm)

# python-2.7 - Provide a complex condition in install_requires ( Python setuptools's setup.py )

> ID：14036181
> 
> 赞同：0
> 
> 时间：2012-12-26T05:04:11.923
> 
> 标签：python-2.7, setuptools

Does anybody know how I can provide a complex condition in the "install_requires" section of setup.py?

Something like this:

`install_requires = ['project1 >= 0.0.1 or project2 >=0.0.2', 'project3==0.9.0']`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:49:45.833

你可以这样写：

```
def choose_proper_prject( requires ):
    import pkg_resources
    for req in requires:
       try:
           pkg_resources.require( req )
           return [ req ]
       except pkg_resources.DistributionNotFound :
           pass
       pass
    print “There are no proper project installation available”
    print “To use this app one of the following project versions have to be installed - %s” % requires
    import os; os._exit( os.EX_OK )
    pass

setup( ....
       install_requires = choose_proper_prject( [ 'project1 >= 0.0.1', 'project2>=0.0.2' ]) + [ 'project3==0.9.0' ]
       ....
      ) 
```

# java - Default and parameterize constructore

> ID：14036182
> 
> 赞同：0
> 
> 时间：2012-12-26T05:04:16.487
> 
> 标签：java

I am calling parametrized constructor of super class then also it is throwing compile time error such as no default constructor Why? Because as per the program i m not calling default constructor at all.

```
class Sup
{
    public Sup(String s)
    { 
        System.out.println("super"); 
    } 
} 

class Sub extends Sup 
{ 
    public Sub() 
    { 
        System.out.println("sub class"); 
    } 

    public static void main(String arg[]) 
    {  
        Sup s2=new Sup("pavan"); 
    } 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-30T15:24:46.590

您需要定义超类默认构造函数，因为除非另有说明，否则基类构造函数将尝试调用超类，在您的情况下，超类没有无参数构造函数，因此您将收到编译错误。

```
class Sup
{
    public Sup(){}

    public Sup(String s)
    { 
        System.out.println("super"); 
    } 
} 

class Sub extends Sup 
{ 
    public Sub() 
    { 
        System.out.println("sub class"); 
    } 

    public static void main(String arg[]) 
    {  
        Sup s2=new Sup("pavan"); 
    } 
} 
```

`super()`或者在您的情况下使用参数化构造函数对超类构造函数进行显式调用`super("some string")`

```
class Sup
{
    public Sup(String s)
    { 
        System.out.println("super"); 
    } 
} 

class Sub extends Sup 
{ 
    public Sub() 
    { 
        super("some string");

        System.out.println("sub class"); 
    } 

    public static void main(String arg[]) 
    {  
        Sup s2=new Sup("pavan"); 
    } 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-30T15:25:31.600

您的 Sub() 构造函数正在调用您未提供的 Sup 类中的默认构造函数（如果您不显式调用 super() 或在构造函数的第一行中调用同一类中的另一个构造函数，则会隐式完成）。您应该在 Sub() 构造函数中添加对 Sup(String s) 的调用，或者在 Sup 类中添加默认的无参数构造函数。

# asp.net - Add values into two columns in a table using data in one textbox

> ID：14036186
> 
> 赞同：-3
> 
> 时间：2012-12-26T05:05:29.533
> 
> 标签：asp.net, entity-framework-4.1, detailsview, templatefield

I'm developing an `asp.net` web-forms application with `entity framework`. There are two columns in my database table to add `Latitude` and `Longitude`. But I don't want to add two `TextBoxes` in user interface to add them.

I need to add one `TextBox` to add those data, separated by comma. (ex: 85.06000,25.01200). when user clicks submit button, I need to split this string up and add the result to `Latitude` and `Longitude` columns in database table.

I have created the form to insert data using `DetailsView` with `TemplateField`.

I'm new to asp.net and C#. How could I do this ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:12:17.893

要在两个部分上分隔字符串，您可以使用`string.Split(`) 方法。

如果您有可变的纬度和经度：

```
var splittedArray = latitudeandlongitude.Split(',');

if(splittedArray.Length!=2)
    throw new ArgumentException();
var latitude = splittedArray[0];
var longitude = splittedArray[1]; 
```

但我不建议您这样做（对两个不同的变量使用一个文本框）。这将是用户错误的根源，他们会恨你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:16:26.510

```
string[] parts = txtInput.Text.Trim().Split(',');
string Latitude = parts[0];
string Longitude = parts[1]; 
```

现在您已将它们分开，您可以将它们发送到您的数据库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T05:17:05.073

您可以像这样拆分值：-

```
string[] arr=TextBox1.Text.Split(','); 
```

然后准备插入语句，例如：-

```
Insert into yourtable("Latitude","Longitude") values(arr[0],arr[1]); 
```

# html - 重写类，但在其他页面中使用原始类

> ID：14036191
> 
> 赞同：0
> 
> 时间：2012-12-26T05:06:37.730
> 
> 标签：html, css

最近，我在我的项目中看到越来越多的“小”问题......我正在处理一个`CSS`带有一些`classes`. 我看到很多对基类的重写，例如：

```
input {
//code
} 
```

当我想使用它的时候，我当然会使用那些重写的设置。使用基类的原始设置并忽略这些更改的最佳方法是什么。例如使用原始设置`input`。

如果有帮助，我每个页面都有一个 ID。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T05:10:23.163

您可以编辑您的 css并将类用于您`input`想要使用原始 css 的所有输入。`input:not(.original)``original`

例子

css

```
input:not(.original){
/*your css*/
} 
```

html

```
/* affected by the css*/
<input>
/* not affected by the css*/
<input class=original> 
```

[这是一个例子](http://jsfiddle.net/ywxaG/)

或者您也可以更改`input`to`.input`并将类添加`input`到您要使用自定义 css 的所有输入中。

# sql - 如何从 Postgres 表中的 ltree 中删除特定标签？

> ID：14036193
> 
> 赞同：2
> 
> 时间：2012-12-26T05:06:52.127
> 
> 标签：sql, postgresql, tree, sql-update, postgresql-9.1

`ltree`如何从Postgres 表中删除特定标签？我有桌子吗？

测试表：

```
CREATE TABLE tbl (sno int, path ltree, userid int);

INSERT INTO tbl (sno, path, userid)
VALUES
  (1, '123',             123)
, (2, '123.101',         123)
, (3, '123.101.103',     123)
, (4, '123.101.103.105', 123)
, (5, '123.101.103.107', 123)
, (6, '123.102.104.106', 123)
, (7, '123.102.104.108', 123)
, (8, '123.102.104',     123)
, (9, '123.102',         123); 
```

我想将 a 传递`userid`给查询，以将其从`path`表中的每一个中删除。例如，如果我通过`101`，`123.101.103`则应更新为`123.103`.

是否可以直接执行此操作？还是应该`path`使用路径替换功能进行更新？

我从 PHP 中尝试了以下选择查询，但它返回以下错误。相同的查询在 phpPgAdmin 中正常工作！？

询问：

```
$selectPathq=pg_query($con,"select path from myschema.test where path @ '101'")
             or die('could not connect: '. pg_last_error($con)); 
```

错误：

> ```
> could not connect:
> ERROR: operator does not exist: myschema.ltree @ unknown at character 63
> HINT: No operator matches the given name and argument type(s).
>       You might need to add explicit type casts. 
> ```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-26T07:32:04.740

### 解决错误

要使用数据类型`ltree`和相关功能，您需要安装附加模块[`ltree`](https://www.postgresql.org/docs/current/ltree.html)。

默认情况下，附加模块会安装到 schema`public`中。如果您的当前设置`search_path`不包括 schema `public`，则找不到 ltree 运算符。您的错误消息暗示了这个方向：

> ```
> ERROR: operator does not exist: myschema.ltree @ unknown at character 63 
> ```

要验证，模式限定 ltree 运算符`@`：

```
SELECT path FROM tbl WHERE path operator(public.@) '101'; 
```

它现在有效吗？
如果这是问题的根源，您也可以`search_path`正确设置。检查：

```
SHOW search_path; 
```

设置：

```
SET search_path = public; -- add more schemas as needed 
```

[关于`search_path`.](https://www.postgresql.org/docs/current/ddl-schemas.html#DDL-SCHEMAS-PATH)

### 更新路径

*如果我正确阅读了您的问题并且您想从所有*行的路径中删除某个项目：

```
UPDATE tbl t
SET    path = nu.path
FROM  (
   WITH x AS (
      SELECT sno, path, index(path, '101') AS i
      FROM   tbl
      WHERE  path ~ '*.101.*'
      )
   SELECT sno
        , subpath(path, 0, i)
          || CASE WHEN nlevel(path) > i+1 THEN subpath(path, i+1)
                  ELSE '' END AS path
   FROM x
   ) nu
WHERE nu.sno = t.sno; 
```

（注意，由于`path`is type `ltree`，表达式中的`~`操作`path ~ '*.101.*'`符*不是*正则表达式匹配操作符，而是一个特殊的 ltree 匹配操作符，右边的项被认为是 type [`lquery`](https://www.postgresql.org/docs/current/ltree.html#id-1.11.7.30.5)。它匹配任何包含 label 的标签路径`101`。）

这会给你留下一条你刚刚拥有的空路径`101`。您可以将其放入触发器`AFTER DELETE`中以从所有行中清除某个项目。

# php - Urlencode & Urldecode in php

> ID：14036199
> 
> 赞同：1
> 
> 时间：2012-12-26T05:07:46.467
> 
> 标签：php, urlencode, urldecode

**On server**:

```
Browser Url--->http://www.mysite.com/?email=external%2Buser%40gmail.com

Email passed in browser--->external%2Buser%40gmail.com 

Email After Encode--->external%5Euser%40gmail.com /* using urlencode function */

Email After Decode--->external^user@gmail.com /* using urldecode function */ 
```

**On Localhost**:

```
Browser Url--->http://localhost/test.php?email=external%2Buser%40gmail.com

Email passed in browser--->external%2Buser%40gmail.com

Email After Encode--->external%2Buser%40gmail.com /* using urlencode function */

Email After Decode--->external+user@gmail.com /* using urldecode function */ 
```

In above code i don't know why server result is different than localhost. on server `%2B(+)` is converted into `%5E(^)` while `urlencode`. I want same result as localhost. Please help me on this.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:15:09.770

你最好使用`rawurldecode()`代替`urldecode()`和`rawurlencode()`代替`urlencode()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:09:55.447

This is most likely to the different character encoding on your `server` and `localhost`

Try converting them to a `common character set` as

```
urlencode( utf8_decode($strContent) ); 
```

# java - jQuery没有加载源aspx页面

> ID：14036201
> 
> 赞同：3
> 
> 时间：2012-12-26T05:08:05.887
> 
> 标签：java, asp.net, jquery

嗨，我在弹出窗口中有 iframe 标签。在 iframe 中正在加载另一个页面。如果在下面的代码中使用，我将无法加载 spurce 页面。

```
enter code here<iframe id="Iframe1" width="802" height="500">
          <script type="text/javascript">
              $(function () {
                  document.getElementById("testframe").src = "SelectMembers.aspx";

              });
          </script>       

        </iframe> 
```

或者

如果在下面的代码中使用，则会收到此错误。'__pendingCallbacks[...].async' 为 null 或不是对象：回调 async[i]...FIX :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:18:08.867

试试这个：

```
 <script type="text/javascript">
         $(function () {
            document.getElementById("Iframe1").src = "/SelectMembers.aspx";

          });​
      </script>   

    <iframe id="Iframe1" width="802" height="500">

    </iframe> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:11:06.773

不要放置 javascript `between`iframe 标记。在body标签`head`之前添加javascript 。`closing`还要确保 SelectMembers.aspx 位于与当前页面相同的文件夹中。

*html*

```
<iframe id="Iframe1" width="802" height="500"> </iframe> 
```

*正文结束标记之前的 Javacript*

```
<script type="text/javascript">
      $(function () {
          document.getElementById("testframe").src = "SelectMembers.aspx";

      });
</script>       
</body> 
```

# perl - Rule engine in perl

> ID：14036208
> 
> 赞同：-2
> 
> 时间：2012-12-26T05:08:59.040
> 
> 标签：perl

I am looking out for a rule engine in perl.

Would like to know what are the features, that should be kept in mind related to the same.

Also the context is a travel domain and the business rule related to it.

Would appreciate your views on the same.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:31:07.957

我相信您的问题已在[http://www.perlmonks.org/index.pl?node_id=722668](http://www.perlmonks.org/index.pl?node_id=722668)和其他地方得到解答（Google for Business Rule engine Perl）。一些建议是：

*   [馅饼](http://www.pre-emptive.net/doco/pie-perl-inference-engine)
*   [砖块](http://www.slideshare.net/brian_d_foy/brick-business-rules-in-closures-kay)（在这个站点之外找不到任何东西）
*   [VS::规则引擎](http://search.cpan.org/~claesjac/VS-RuleEngine-0.09/lib/VS/RuleEngine.pm)
*   [规则::引擎](http://search.cpan.org/dist/Rule-Engine/)

# ios6 - IOS HTTP 请求示例

> ID：14036210
> 
> 赞同：5
> 
> 时间：2012-12-26T05:09:12.670
> 
> 标签：ios6, http-headers, fitbit

我正在尝试调用 fitbit API。我不确定如何将下面显示的 HTTP 请求输入到我的 Objective C 代码中，以便进行此调用并处理响应。

```
POST /oauth/request_token HTTP/1.1
Host: api.fitbit.com
Authorization: OAuth oauth_consumer_key="fitbit-example-client-application",
oauth_signature_method="HMAC-SHA1",
oauth_timestamp="1270248082",
oauth_nonce="161822064",
oauth_callback="http%3A%2F%2Fexample.fitbit.com%2Fapp%2FcompleteAuthorization",
oauth_signature="Omf%2Bls2gn%2BDlghq245LRIyfMdd8%3D"
oauth_version="1.0" 
```

一个简单的例子会很有帮助。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-28T06:24:17.940

我建议使用 OAuth 库来处理 OAuth 签名生成。争论 Authorization 标头可能会很痛苦。我已经成功使用[了 oauthconsumer](http://code.google.com/p/oauthconsumer/)。

代码示例：

```
OAConsumer *consumer = [[OAConsumer alloc] initWithKey:oauthConsumerKey secret:oauthConsumerSecret];
OAToken *token = [[OAToken alloc] initWithKey:oauthAccessToken secret:oauthAccessTokenSecret];
OAHMAC_SHA1SignatureProvider *provider = [[OAHMAC_SHA1SignatureProvider alloc] init];

OAMutableURLRequest *request = [[OAMutableURLRequest alloc] initWithURL:[NSURL URLWithString:urlString] consumer:consumer token:token realm:nil signatureProvider:provider];
[request prepare];

NSHTTPURLResponse *response = nil;
NSError *error = nil;
NSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error]; 
```

在此示例中，您将提供的 5 个字符串是：

```
oauthConsumerKey
oauthConsumerSecret
oauthAccessToken
oauthAccessTokenSecret
urlString 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-14T18:00:39.087

我正在尝试做同样的事情，并且 oauthconsumer 看起来很不错。

**是因为我没有得到 oauthAccessTokenSecret 吗？** [编辑] 是的，是的。

**我不断收到：** *“此页面不再有效。您提供的令牌似乎无效或有人已使用您提供的令牌。请返回将您发送到此页面的站点或应用程序，然后重试。”*

[编辑] 这是因为它在 url 字符串上没有正确的标记。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-06T11:25:52.987

嗨，您可以从下面的链接中获取工作的 FitBit Oauth1.0 身份验证示例代码

[https://github.com/KaranRajpoot/FitBit](https://github.com/KaranRajpoot/FitBit)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-15T07:28:25.143

使用[OAuth.io](http://oauth.io)和[OAuth.io iOS SDK](https://github.com/oauth-io/oauth-ios)连接到 FitBit。

# sorting - sorting in solr based on matching field

> ID：14036219
> 
> 赞同：1
> 
> 时间：2012-12-26T05:10:38.733
> 
> 标签：sorting, solr

I am using solr-3.6\. I have a list of searchable fields in my Solr-Index like,

*   name
*   email
*   city
*   state
*   country

All these fields are of the same type "String" and are indexed and stored. All the 5 fields are copied to the copy field named "text" and searched on. **No tokenizers** are used during indexing and querying.

Consider that I search the Index for value "John"(searched as "**John***" to get **wildcard** search), which matches in 5 documents as given below:

```
< doc>
< name>Johnson< /name>
< other fields> .... < /other fields>
< /doc>

< doc>
< email>John043@xyz.com< /email>
< other fields> .... < /other fields>
< /doc>

< doc>
< city>Johnyville< /city>
< other fields> .... < /other fields>
< /doc>

< doc>
< state>Johnford< /state>
< other fields> .... < /other fields>
< /doc>

< doc>
< country>Johnland< /country>
< other fields> .... < /other fields>
< /doc> 
```

I want this result to be sorted based on the **value it matches** as following:

Johnford, Johnland, Johnson, Johnyville, and John043@xyz.com

I cannot sort based on copyfield "text" because it is a **multivalued** field.
Is this possible to achieve this type of sorting on multiple fields which match our search query?

Please comment on the feasibility of doing this and means to do it. Thanks in advance!

# javascript - Javascript 只影响一个元素

> ID：14036226
> 
> 赞同：1
> 
> 时间：2012-12-26T05:11:49.297
> 
> 标签：javascript, css

*我不明白，边框只在第一项上可见，为什么？*

**HTML**

```
<div id="theContainer">
    <div id="item">Content 1</div>
    <div id="item">Content 2</div>
</div>​ 
```

**JavaScript**

```
document.getElementById('item').style.borderTop = '1px solid #0ea2c7';​ 
```

JsFiddle：[在这里](http://jsfiddle.net/SbNKa/52/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T05:24:19.407

您可以使用`document.getElementsByClassName`

**JavaScript**

```
var elements = document.getElementsByClassName('item');
for (i =0; i < ele.length; i++)    {
    elements[i].style.borderTop = '1px solid #000';
} 
```

**HTML**

```
<div id="theContainer">
    <div class="item">Content 1</div>
    <div class="item">Content 2</div>
</div>​ 
```

**​CSS**

 **```
#theContainer {
    height: 100px;
    width: 500px;
    position: relative;
    border: 1px solid #900;
    padding: 10px;
}
.item {
    height: 50px;
    width: 100%;
}
​ 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-26T05:21:41.090

“ **document.getElementById** ”表示“通过 ID 返回对元素的引用”，请参见[此处](https://developer.mozilla.org/en-US/docs/DOM/document.getElementById)；id 表示身份，每个 id 应该在 dom 树中只有一个元素。

如果要设置多个元素的样式，请尝试使用 class.

**HTML**

```
<div id="theContainer">
    <div class="item">Content 1</div>
    <div class="item">Content 2</div>
</div> 
```

**CSS**

```
.item { border-top: 1px solid #0ea2c7; } 
```**

# ruby-on-rails - 如何向他显示登录用户创建的帖子？

> ID：14036228
> 
> 赞同：0
> 
> 时间：2012-12-26T05:12:10.750
> 
> 标签：ruby-on-rails, ruby-on-rails-3

这看起来相当简单，但我仍然无法完成

我已经安装了设计，并有用户创建网站的用户和网站类。

现在我希望登录用户查看他创建了哪些网站。这是控制器代码

```
def index
@websites = Website.find(:all)
end 
```

index.html.erb 是

```
<%= render :partial=> "website_list", :locals=> {:website => @Website} %> 
```

我需要在控制器索引中更改什么以仅显示由登录用户创建的站点

编辑 - 好的，我可以使用迁移在网站表中创建外键 user_id，但 user_id 的值都是 NIL。知道为什么吗？

编辑 2 - 这是我的字段

控制器dashboard_controller.rb

```
@websites = current_user.websites.all 
```

website_controller.rb 这是由脚手架创建的，我没有在其中编辑任何内容

模型用户.rb

```
has_many :websites 
```

网站.rb

```
attr_accessible :description, :url, :user_id (**I added :user_id here**)
belongs_to :user 
```

意见

```
<%= render :partial=> "website_list", :locals=> {:website => @Website} %> 
```

移民

```
add_column :websites, :user_id, :integer 
```

我不确定我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:15:26.223

你可以使用这个：

```
@websites = current_user.websites.all 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:22:19.760

试试这个：

```
@websites = Website.find(:all, :conditions => ['user_id = ?',current_user.id.to_s]) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T05:23:10.017

你可以这样做..

```
 @websites = Website.where("client_id='101'") 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T07:40:06.917

我想问题出在您在控制器中的创建操作中 - 您正在保存网站而不连接到用户。

# c++ - 获取 .text 部分代码 PE 文件格式的偏移量？虚拟地址，指针到原始数据？

> ID：14036232
> 
> 赞同：0
> 
> 时间：2012-12-26T05:12:38.843
> 
> 标签：c++, c, portable-executable

我一直在尝试这样做大约两天，但没有成功。我一直在阅读许多 PE 文件格式教程，但无济于事。

我通过完美工作的 CreateFileMapping 将 32 位可执行文件映射到内存中。然后我的程序循环遍历节标题，并根据我的默认特征检查特征（以确保该部分是可执行的并且是代码）。如果为真，则程序将 (PIMAGE_SECTION_HEADER) 指针返回到该节标题（程序到目前为止运行良好）。

现在我有了指针，当我计算条目时，结构中有两个特定的条目让我感到困惑，那就是 PointerToRawData 和 VirtualAddress；VirtualSize = 4096，PointerToRawData = 1536。

从我在 PE 文档中读到的内容来看，PointerToRawData 是一个假定的偏移量（RVA???）到磁盘部分中数据的第一个字节（我正确吗？），并且是对齐值的倍数（512 ）。问题是我应该将此值设置为什么，以获得可用于访问该部分数据的指针。在内存映射文件上，使用 (VirtualAddress value + the imagebase value) 来查找该部分的第一个字节会更好吗？

另一个混淆点是 VirtualSize 与 SizeOfRawData。这让我很困惑，因为在这篇文章 - [http://msdn.microsoft.com/en-us/library/ms809762.aspx](http://msdn.microsoft.com/en-us/library/ms809762.aspx)中，它说“SizeOfRawData 字段（似乎有点用词不当）稍后在结构中包含四舍五入的值”但我的 VirtualSize 大于我的 SizeOfRawData 值，这导致我应该使用哪个混淆。

该程序的目标是找到可执行段（.text 段）并对段中的所有位进行按位操作，并在下一段之前结束操作。

我不希望它看起来像我期待一个勺子，我只是想要一些澄清。

感谢您的时间/帮助，非常感谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-26T05:19:51.393

我碰巧手边没有规范或任何 PE 代码可供参考（我正在沙发上的 iPad 上写这个；）但要意识到的关键点是有两种*模式*需要考虑：全部讨论仅当 PE 映射到内存并且对齐存在页面对齐时，RVA 的数量才相关。当您从磁盘读取文件时，偏移量是文件偏移量，并且每个部分都使用文件对齐方式。

我希望这有帮助。

# java - 搜索错误

> ID：14036234
> 
> 赞同：-7
> 
> 时间：2012-12-26T05:13:08.127
> 
> 标签：java, search

我不知道这段代码有什么问题。当我输入正确`nomatric`的匹配项时，它会显示正确但也会显示错误消息。

怎么了？

```
public void Search(int nomatric) {
    for (int i = 0; i < student.length; i++) {
        if (student[i].matrix == nomatric) {
            System.out.printf("%-25s%-25s%-25s%-25s%-25s\n", "Matric", "Name", "Course work", "Final exam", "Grade");
            System.out.printf("%-20d %-20s %-20.2f %-20.2f %-20s", student[i].matrix, student[i].name, student[i].coursework, student[i].finalexam, student[i].grade);
            System.out.println();
        }  
    }
    System.out.println("Cannot find the matric number!!!");
    System.out.println();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T05:20:35.397

使用一个标志变量。在 for 循环之前将其设置为 false。在循环内部，每当找到匹配项时，将此标志设置为 true。在循环外使用标志上的 if 条件。如果 flag 为 false 表示未找到匹配项，则仅打印错误。

```
 public void Search(int nomatric) {
     boolean flag=false;
     for (int i = 0; i < student.length; i++) {
     if (student[i].matrix == nomatric) {
        System.out.printf("%-25s%-25s%-25s%-25s%-25s\n", "Matric", "Name", "Course    work", "Final exam", "Grade");
        System.out.printf("%-20d %-20s %-20.2f %-20.2f %-20s", student[i].matrix,    student[i].name, student[i].coursework, student[i].finalexam, student[i].grade);
        System.out.println();
        flag=true;
    }  
 }
 if( ! flag) {
    System.out.println("Cannot find the matric number!!!");
    System.out.println();
 }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:17:53.730

您的错误消息`System.out.println("Cannot find the matric number!!!");`在您的代码中是无条件的，因此它将始终显示该错误

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T05:18:45.700

你回来`void`了，所以你没有得到一个早期的、有意义的`return`块的便利。您确实需要表明您已经`if`以某种方式进入了该区块。你有两个*选项：

*   使用布尔值表示，如果您已输入`if`块，则不应打印该消息，或者
*   从方法返回`String`而不是隐式打印它，并让调用者打印返回消息。

（*：您也可以`return`从 if 语句中选择 ing，尽管不建议使用这种样式。这意味着，您无需使用`boolean`变量，而是`return`立即放置在 . 之后`System.out.println()`。）

使用选项一重写，您的方法如下所示：

```
public void search(int nomatric) {
    boolean success = false;
    for (int i = 0; i < student.length; i++) {
        if (student[i].matrix == nomatric) {
            success = true;
            System.out.printf("%-25s%-25s%-25s%-25s%-25s\n", "Matric", "Name", "Course work", "Final exam", "Grade");
            System.out.printf("%-20d %-20s %-20.2f %-20.2f %-20s", student[i].matrix, student[i].name, student[i].coursework, student[i].finalexam, student[i].grade);
            System.out.println();
        }  
    }
    if(!success) {

        System.out.println("Cannot find the matric number!!!");
        System.out.println();
    }
} 
```

选项二留给读者作为练习。

# git - 适用于 UNIX 操作系统的 GIT

> ID：14036237
> 
> 赞同：-2
> 
> 时间：2012-12-26T05:13:24.113
> 
> 标签：git, unix

我需要在 UNIX IBM-AIX 服务器操作系统上安装 GIT。

但是当我访问 git 网站时，我找不到 UNIX OS 的下载。

在哪里可以下载相同的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:28:46.183

不知道你检查过哪些网站，但你需要的一切都应该在[http://git-scm.com/](http://git-scm.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:32:34.503

@davis Colais，您可以在 UNIX 上安装 git。git 有适用于 Windows、Mac、Linux 的二进制包。但正如@Andy lester 所说，您可以从[GIT 的 scm 站点下载源代码，并在其](http://git-scm.com/)[文档站点](http://git-scm.com/book/en/Getting-Started-Installing-Git#Installing-from-Source)中给出安装过程的详细描述步骤

这一步可能会有所帮助...

# windows-phone-7 - 带有 dtmf 的 Windows Phone 电话呼叫

> ID：14036243
> 
> 赞同：2
> 
> 时间：2012-12-26T05:14:28.567
> 
> 标签：windows-phone-7, windows-phone, dtmf

我知道使用 phonecalltask 我们可以通过填写 phonenumber 字段以编程方式拨打电话。

示例代码可能是

```
 PhoneCallTask phn = new PhoneCallTask();
 phn.PhoneNumber = "9807689,657";
 phn.show (); 
```

但我的问题是，是否可以在我们发起呼叫时立即发送 dtmf ？

就像在 android 和 iphone 中一样，我们可以通过将数字除以“，”来发送 dtmf。例如：9876543,123

在windows phone中也可以吗？如果可能的话，windows phone 是否使用相同的格式来分隔 dtmf 号码，或者他们使用“，”以外的其他标签？

如何使用 p 和 w 命令以编程方式调用，最重要的是 dtmf 声音必须在调用后自动发送

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T19:14:53.380

刚做了测试。您的代码有效，并且在被叫方接听电话后立即播放 DTMF。

`p`并且`w`也受支持，看起来实现符合[RFC 3601](https://www.rfc-editor.org/rfc/rfc3601)。

# javascript - Knockout.js - 如何更改视图模型

> ID：14036245
> 
> 赞同：5
> 
> 时间：2012-12-26T05:14:57.083
> 
> 标签：javascript, mvvm, knockout.js

我正在尝试更改绑定到 DOM 模板某些部分的视图模型（而不是更改视图模型的值），但我只是不知道如何或是否可能

这是场景：

*   创建一个新的视图模型对象
*   绑定它（例如 applyBindings(myViewModel)
*   创建另一个视图模型对象
*   将新对象绑定到 DOM 的同一部分，以便所有元素现在都绑定到新对象。

我想做相当于更改 WPF 中控件的 DataContext 的值（KO 的 MVVM 模式基于此）

这样做的原因是我试图对列表中对象的表示和对象在其自己视图中的表示使用相同的视图模型，所以我已经有一个视图模型用于显示的所有对象名单。

还有其他解决方法，但我认为这将是最优雅的方法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-26T22:31:47.630

有两种使用多个视图模型的方法。第一种方法是像@nathan gonzalez 所说的那样进行多重绑定。你应该绑定你的视图模型。然而，这使事情变得有点复杂。因此难以管理。

第二种方法是使用主视图模型。我会推荐这个。

[http://jsfiddle.net/sinanakyazici/e29EZ/10/](http://jsfiddle.net/sinanakyazici/e29EZ/10/)

```
<div data-bind="with: mainvm">
    <span data-bind="text: prop, click : action"></span>
</div>

var vm = function(value)
{
    this.prop = ko.observable(value);
    var self = this;
    this.action = function() {
        console.log("clicked: " + self.prop());
    }
}

var master = {
    mainvm : ko.observable(null)
}

master.mainvm(new vm('viewmodel 1'));
master.mainvm(new vm('viewmodel 2'));
ko.applyBindings(master); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:20:12.323

所以`ko.applyBindings()`应该为你介绍这个。您可以传入第二个参数，该参数告诉将绑定应用到哪个顶级元素，如下所示：

```
 ko.applyBindings(myExistingViewModel, $('#someElementId')[0]); 
```

不过，您可能需要先清理元素，如下所示：

```
ko.cleanNode($('#someElementId')[0]); 
```

这将完全删除绑定并清除该元素及其子绑定的内存数据。

# meteor - Meteor - 设置文档标题

> ID：14036248
> 
> 赞同：41
> 
> 时间：2012-12-26T05:15:32.107
> 
> 标签：meteor

有没有办法改变`<title>`Meteor 应用程序中的元素？似乎模板仅在`<body>`.

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-12-26T09:46:36.127

几乎在您的客户端 JavaScript 代码中的任何地方：

```
document.title = "My new title"; 
```

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2014-09-04T05:03:03.773

您可以扩展 David Wihl 的解决方案：

```
Deps.autorun(function(){
  document.title = Session.get("DocumentTitle");
}); 
```

然后您可以随时调用：

```
Session.set("DocumentTitle","New Document Title"); 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2015-02-09T18:32:13.710

如果你使用[iron:router](https://atmospherejs.com/iron/router)，你可以添加包[manuelschoebel:ms-seo](https://atmospherejs.com/manuelschoebel/ms-seo)来处理标题和元标记。这对于静态和动态 SEO 数据很有用：

```
Router.map(function() {
  return this.route('blogPost', {
    path: '/blog/:slug',

    onAfterAction: function() {
      var post = this.data().post;
      SEO.set({
        title: post.title,
        meta: {
          'description': post.description
        },
        og: {
          'title': post.title,
          'description': post.description
        }
      });
    }
  });
}); 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2013-09-25T16:52:41.710

您可以创建一个帮助器来设置标题（CoffeeScript）：

```
UI.registerHelper "setTitle", ->
  title = ""
  for i in [0..arguments.length-2]
    title += arguments[i]
  document.title = title
  undefined 
```

或在 Js 中相同：

```
UI.registerHelper("setTitle", function() {
  var title = "";
  for (var i = 0; i < arguments.length - 1; ++i) {
    title += arguments[i];
  }
  document.title = title;
}); 
```

然后你可以以复杂的方式使用它，它会是响应式的：

```
{{#if book}}
  {{setTitle book.title}}
{{else}}
  {{setTitle "My books"}}
{{/if}} 
```

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2014-10-07T16:21:33.510

我发现直接在路由器中处理这种事情更方便`onBeforeAction`：

```
Router.map(function() {
  return this.route('StudioRoot', {
    path: '/',
    onBeforeAction: function() {
      return document.title = "My Awesome Meteor Application";
    }
  });
}); 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2014-11-05T09:40:41.580

您还可以包含`<head> </head>`不在模板中的标签中。试试这个：

sample.html 的内容：

```
<head>
    <title>my title</title>
</head>

<body>
    ...
</body>

<template name="mytemplate">
    ...
</template> 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-08-06T12:29:20.853

我最终做了什么：

在 Meteor.isClient 中：

```
Meteor.startup(function() {
    Deps.autorun(function() {
        document.title = Session.get('documentTitle');
    });
}); 
```

既然 var 是被动设置的，请进入路由器文件（如果尚未完成：meteor add iron:router。我的路由器文件既是客户端又是服务器）

```
Router.route('/', {
    name: 'nameOfYourTemplate',
    onBeforeAction: function () {
        Session.set('documentTitle', 'whateverTitleIWant');
        this.next();    //Otherwise I would get no template displayed
    }
}); 
```

如果您已经在 head 标签中设置了标题，则无关紧要。它将根据您的路线替换为这个。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2015-12-19T16:01:14.503

我不得不寻找一个适用于 ui-router 的答案。我知道这可能不是您想要的答案。由于这个问题是大约 2 年前发布的，我想如果其他人来这里寻找 ui-router 的解决方案，这个答案可以帮助他们：

**myApp.run.js**

```
(function() {
  'use strict';

  angular
    .module('myApp')
    .run(run);

  run.$inject = ['$rootScope', '$state'];

  function run($rootScope, $state) {
    $rootScope.$on("$stateChangeSuccess", function(previousRoute, currentRoute){
      document.title = 'myApp - ' + currentRoute.data.pageTitle;
    });
  };

})(); 
```

**路由.js**

```
(function() {
    'use strict';

    angular
      .module('myApp')
      .config(config);

    config.$inject = 
      ['$urlRouterProvider', '$stateProvider', '$locationProvider'];

    function config($urlRouterProvider, $stateProvider) {

        // ...
        $stateProvider
          .state('home', {
            url: '/',
            templateUrl: 'client/home/views/home.ng.html',
            controller: 'HomeController',
            data: {
              pageTitle: 'My Dynamic title'
            }
          })
    }
})(); 
```

# jquery - JQuery - 不要在回发时执行

> ID：14036251
> 
> 赞同：0
> 
> 时间：2012-12-26T05:16:17.873
> 
> 标签：jquery, postback

在某些情况下，我有一些代码可以淡入用户的消息。这个 ASPX 页面执行回发，并根据用户填写的字段清除页面成功或失败。

我知道我可能会开始一场巨大的战争，关于我应该如何检查 DOM 而不是浏览器是否存在 mozilla。没关系，我明白了。但我只想运行`fadeIn()`一次，在初始加载时创建页面。

```
if ($.browser.mozilla != true) {
     $("#dim").fadeIn();
} 
```

我就像在这里 jQuery 的第三天，所以我做了一些搜索，但没有找到我想要做的事情。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:23:21.343

您可以使用隐藏字段来保持回发状态，并在运行 javascript 代码之前使用该隐藏字段。

*在 html 中*

```
<input type="hidden" runat="server" id="hdnIsPostBack" value="false" /> 
```

*在后面的代码中*

```
if(Page.IsPostBack)
    hdnIsPostBack.Value = "true";
else
    hdnIsPostBack.Value = "false"; 
```

*在 JavaScript 中*

```
if( $('#<%= hdnIsPostBack.ClientID %>').val() == "false")
{
    //Your code here
    if ($.browser.mozilla != true) {
       $("#dim").fadeIn();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:35:25.173

看起来很简单

如果您想`fadein`在初始页面加载时进行，则可以尝试使用以下代码。

```
$(document).ready(function(){
    $("#dim").fadeIn();
}); 
```

还有一件事，如果您的页面正在回发，那么您可能希望在这种情况下得到相同的结果，您可以从您的`<Page>.cs`

```
ScriptManager.RegisterClientScriptBlock(this,GetType(),"<anything as key>","$('#dim').fadeIn();",true); 
```

如果答案不相关，请告诉我。

# java - android中的xml解析listview类似类别，子类别

> ID：14036254
> 
> 赞同：-2
> 
> 时间：2012-12-26T05:16:51.687
> 
> 标签：java, android, android-listview

我必须使用 xml 解析来开发 android listview。，

我正在从 mysql 服务器获取 xml 提要。该产品被添加到日常活动中。

这里我需要 3 种列表视图：

```
1st view:   Category
2nd view:  SubCategory
3rd view:   Product 
```

在 fistview 中必须单独显示 Categoryname。

从我的 xml 提要**第一个视图**必须显示

**单独的**类别名称****

 **在**第二个视图**中：

必须显示属于 Categoryname的**subcategoryname 。**

在第三**视图**中：

必须显示产品名称和价格属于子类别名称。

这是我的第一个视图代码：

```
public class MainActivity extends Activity {
static final String URL =http://api1.sfsfsfsf.com/dev/categories/?fields=&categoryid=3&access_token=bfb787a6e

        static String KEY_CATEGORY = "category";

       static final String KEY_TITLE = "categoryName";
        static final String KEY_SUBCATE = "categoryId";

 ListView lview3;
 LazyAdapter adapter;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    final ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();
    XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // getting XML from URL
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_CATEGORY);

        // looping through all song nodes &lt;song&gt;
        for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>   ();
            Element e = (Element) nl.item(i);

            map.put(KEY_TITLE, parser.getValue(e, KEY_TITLE));
           map.put(KEY_SUBCATE, parser.getValue(e, KEY_SUBCATE));             
        songsList.add(map);
        }
    lview3 = (ListView) findViewById(R.id.listView1);
    adapter = new LazyAdapter(this, songsList);
    lview3.setAdapter(adapter);

    lview3.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
           HashMap<String, String> map = songsList.get(position);
            Intent in = new Intent(
                    MainActivity.this,
                     com.example.androidcartxml.SubCate.class);
            in.putExtra(KEY_TITLE, map.get(KEY_TITLE));
            in.putExtra(KEY_SUBCATE, map.get(KEY_SUBCATE));
               }  

     });

    }

         } 
```

在这里，我在第一个视图中显示了类别列表。还将 categoryid 从第一个视图传递到第二个视图。

这是我的第二个视图代码：

```
 public class SubCate extends Activity {
         String mTitle;

         static final String URL = "http://api1.sfsfsff.com/dev/categories/?fields=&categoryid="+mTitle+"&access_token=bfb787a6e11";
            static String KEY_CATEGORY = "category";

              static final String KEY_TITLE = "categoryName";
             static final String KEY_NAME ="categoryId";
             static final String KEY_SUBCATE = "categoryId";
 ListView lview3;
 ListViewCustomAdapter adapter;
 @Override
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.subcate);
    Bundle b = getIntent().getExtras();
    //String s= getIntent().getStringExtra("orderid");
    mTitle = b.getString(KEY_SUBCATE);
    TextView grandtotal = (TextView) findViewById(R.id.subcate);
    grandtotal.setText("Welcome ," + mTitle );
    final ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

   // String key = getIntent().getStringExtra(KEY_TITLE);

        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // getting XML from URL
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_CATEGORY);

        // looping through all song nodes &lt;song&gt;
        for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();
            Element e = (Element) nl.item(i);
            // adding each child node to HashMap key =&gt; value

            map.put(KEY_TITLE, parser.getValue(e, KEY_TITLE));
            map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
            songsList.add(map);
        }
    lview3 = (ListView) findViewById(R.id.listView1);
    adapter = new ListViewCustomAdapter(this, songsList);
    lview3.setAdapter(adapter);

    lview3.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            HashMap<String, String> map = songsList.get(position);
            Intent in = new Intent(
                    SubCate.this,
                     com.example.androidcartxml.Catalogue.class);

            in.putExtra(KEY_TITLE, map.get(KEY_TITLE));
            in.putExtra(KEY_NAME, map.get(KEY_NAME));
        //  in.putExtra(KEY_THUMB_URL, map.get(KEY_THUMB_URL));
            //in.putExtra(KEY_PRICE, map.get(KEY_PRICE));
            startActivity(in);
        }  

     }); 
```

在第二个视图中显示了 categoryid 值，从第一个活动中获取它。但我不得不提到链接的 id 意味着没有得到子类别列表。请给我一些解决方案。

例如：

拿这是我的子类别链接：

[http://api1.sfsfsffsf.com/dev/categories/?fields=&categoryid=10&access_token=bfb787a6e1][1]

表示已显示子类别列表。

在这里，我必须将该类别 id 10(categoryid=10) 从第一个传递到第二个并将其保存到 textview 中。

```
 mTitle = b.getString(KEY_SUBCATE);
    TextView grandtotal = (TextView) findViewById(R.id.subcate);
       grandtotal.setText("Welcome ," + mTitle ); 
```

我必须在我的链接上调用这些 mTitle 值，这意味着它不会显示在 subcategorylist 上。请帮助我。

[http://api1.sfsfsff.com/dev/categories/?fields=&categoryid="+mTitle+"&access_token=bfb787a6][2]

我的代码有什么问题。如何**将 categoryid 调用到我的 url**中。请给我解决方案。

**编辑：**

这是我的网址：

[http://api1.sfsfsfsf.com/dev/categories/?fields=&categoryid=10&access_token=bfb787a6e][3]

我已经直接提到 categoryid=10 表示已显示所有产品。

但我必须更改此网址，例如：

[http://api1.sfsfsf.com/dev/categories/?fields=&categoryid="+mTitle+"&access_token=bfb787a6e17][4]

Nw 我已经更改了我的 url，比如 categoryid="+mTitle+" 意味着不显示所有产品。

mTitle 价值来自我以前的活动。

我的代码有什么问题。

我的 mTitle 值是 10。我必须像手段一样编写代码

`grandtotal.setText("Welcome ," + mTitle );`

其显示的 mTitle 值成功。

`grandtotal.setText("Welcome ," + URL );`意味着给了我空值

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:20:56.337

我建议使用 sax 解析器而不是 dom 解析器。

这个链接对你有帮助。 [读这个。](http://www.coderanch.com/t/127758/XML/Difference-SAX-DOM)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-28T08:46:31.810

在这里，我首先调用了 URL，然后只声明了 mTitle 值。这就是我在这里遇到问题的原因。

现在我得到了解决方案：

我首先声明了 mTitle，之后只调用了如下所示的 URL。

```
 mTitle = b.getString(KEY_SUBCATE);

 URL = "http://api1.sfsfsffsf.com/dev/categories/?fields=&categoryid=" + mTitle +       "&access_token=bfb787a"; 
```**

# c++ - C++ std::make_shared 内存泄漏

> ID：14036266
> 
> 赞同：0
> 
> 时间：2012-12-26T05:18:04.063
> 
> 标签：c++, memory, memory-management

以下代码行存在内存泄漏问题：

```
auto state = newSpriteState(); 
```

这些是相关功能：

```
class SpriteState {
    protected:
        Vector3 position;
        int width, height;
        double rotation, scaling;
        int priority;

    public:
        SpriteState()
            : position(0,0,0),
            width(1), height(1),
            rotation(0), scaling(1.0f),
            priority(0)
        {}

    std::shared_ptr<SpriteState> newSpriteState()
    {
        return std::make_shared<SpriteState>();
    }
};

class Vector3 {
private:
    double x, y, z;

public:
    Vector3( double x_, double y_, double z_ )
    {
        x = x_; y = y_; z = z_;
    }
}; 
```

Intel Inspector 继续报告我在函数中存在内存泄漏`newSpriteState()`；更具体地说`std::make_shared<SpriteState>()`。

## 更新

从评论来看，这似乎有一些外部原因，所以这里有更多代码：

```
bool Sprite::loadImage() {
    auto state = newSpriteState();
    initStateVector(0, state);
} 
```

在哪里：

```
class Sprite
{
public:
    Sprite();

    std::map<const int, const std::shared_ptr<SpriteState>> stateVector;

    void initStateVector(const int line, std::shared_ptr<SpriteState>& state)
    { 
        stateVector.clear(); 
        stateVector.insert(std::make_pair( line, std::move(state) )); 
    }

    void loadImage();
} 
```

`Sprite`为了清楚起见，我上传了我实际使用的课程的简化版本。

基本上，我正在分配 a`shared_ptr<SpriteState>`并坚持 a `std::map`in class `Sprite`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T03:56:58.327

升级到vs12后问题已解决。我最好的估计是这个问题与智能指针的 tr1 实现有关。

# iphone - 不显示阿拉伯语键盘

> ID：14036267
> 
> 赞同：3
> 
> 时间：2012-12-26T05:18:07.573
> 
> 标签：iphone, ios, ios4, uitextfield, arabic

我正在实现一个 multilinqual 应用程序，我有搜索功能。在那我已经放置了uitextfiled。

当我将语言更改为阿拉伯语并正在测试应用程序时。我发现特定的 uitextfield 总是显示英文键盘而不是阿拉伯文键盘。

Phone 语言设置为 arabic ，但在 uitextfield 中它始终显示英文键盘。这是怎么回事？

下面是我的代码

```
NSString *strPoemName = NSLocalizedString(@"Poem Name", @"Poem Name TextField");
           self.txtFieldPoemName = [[[UITextField alloc]initWithFrame:CGRectMake(10, 0, 270, 40)]autorelease];
            [self.txtFieldPoemName setFont:[UIFont systemFontOfSize:14.0]];
            self.txtFieldPoemName.autocapitalizationType = UITextAutocapitalizationTypeNone;
            self.txtFieldPoemName.autocorrectionType = UITextAutocorrectionTypeNo;
            self.txtFieldPoemName.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;
            self.txtFieldPoemName.placeholder = strPoemName;
            self.txtFieldPoemName.delegate = self;
            self.txtFieldPoemName.clearButtonMode = UITextFieldViewModeWhileEditing;
            self.txtFieldPoemName.returnKeyType = UIReturnKeySearch;
            [cell.contentView addSubview:self.txtFieldPoemName]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-28T12:48:29.473

以防万一有人再次偶然发现这个问题：

这是由于将`UITextField` `keyboardType`属性设置为`UIKeyboardTypeASCIICapable`而不是`UIKeyboardTypeDefault`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:33:36.620

只需确保您确实在阿拉伯语本地化字符串中设置了“诗名”的值。可能是因为它只会显示英文键盘。

# ios - 黑色方形边框出现在核心情节饼图中

> ID：14036272
> 
> 赞同：1
> 
> 时间：2012-12-26T05:18:50.990
> 
> 标签：ios, core-plot

```
CPTXYGraph *graph   = [[CPTXYGraph alloc]initWithFrame:self.hostingView.frame];
graph.borderColor   = [CPTColor whiteColor].cgColor;
graph.paddingTop    = 0.0f;
graph.paddingRight  = 0.0f;
graph.paddingLeft   = 0.0f;
graph.paddingBottom = 0.0f;
self.hostingView.hostedGraph = graph;
graph.axisSet = nil;

//Apply for theme to graph
self.graphTheme = [CPTTheme themeNamed:kCPTPlainWhiteTheme];
[graph applyTheme:self.graphTheme];
[graph release];

CPTPieChart *pieChart = [[CPTPieChart alloc]init];
pieChart.identifier = @"OverView";
pieChart.dataSource = self;
pieChart.sliceDirection = CPTPieDirectionClockwise;
pieChart.pieRadius = ((self.hostingView.frame.size.height  / 2) - 5);
pieChart.startAngle = M_PI;
CPTGraph *tempGraph = self.hostingView.hostedGraph;
    [tempGraph addPlot:pieChart];
[pieChart release]; 
```

对于此代码，我得到黑色边框，我认为这是由于图形 axisSet 但我不知道如何删除。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-08T15:31:20.313

如果您正在谈论的是出现在整个图形周围的边框框，我会说在语句之后使用此代码`[graph applyTheme:self.graphTheme];`：

```
graph.plotAreaFrame.borderLineStyle = nil; 
```

这将从图形区域中完全删除边框。

# c# - 打印字符串

> ID：14036276
> 
> 赞同：3
> 
> 时间：2012-12-26T05:19:39.183
> 
> 标签：c#, string, printing

我正在开发一个需要打印字符串的程序，我已经准备好字符串，我只需要知道如何打印，我从来没有做过，所以我不知道从哪里开始任何想法？这就是我到目前为止所拥有的，但我不知道从这里去哪里

```
PrintDocument output = new PrintDocument();
output.DocumentName = "Test Results"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:28:27.177

您对“打印”的定义非常模糊。在这部分 Internet 中最常见的 print 含义是将文本打印或显示到控制台或命令窗口。

因此，如果要打印到控制台窗口，请使用 System.Console 类上的方法：

[http://msdn.microsoft.com/en-us/library/system.console.writeline.aspx](http://msdn.microsoft.com/en-us/library/system.console.writeline.aspx)

例如：

```
String yourname = "Mr. Nice";
Console.WriteLine("Hello {0}", yourname); 
```

会显示：

> 你好尼斯先生

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-08-16T02:56:58.853

您可以打印`Console.WriteLine("text")`到标准输出。

看看字符串插值，使向字符串添加变量更容易。这是在 C# 6 中引入的，具有以下语法。

`Console.Writeline($"I am {cool}");``cool`变量名在哪里:)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-26T05:44:29.503

```
using System;
using System.Drawing;
using System.Drawing.Printing;
using System.Windows.Forms;

namespace Test
{
public class Print
{
    PrintDocument myPrintDocument = new PrintDocument();

    public void ShowPrintDialog()
    {
        PrintDialog myDialog = new PrintDialog();
        myDialog.Document = myPrintDocument;
        if(myDialog.ShowDialog() == DialogResult.OK)
            Print();
    }

    protected override void OnPrintPage(PrintPageEventArgs e)
    {
        e.Graphics.DrawString("Your String To Print In Document", this.Font, Brushes.Red, new PointF());
        e.HasMorePages = false;
    }
}
} 
```

# javascript - 轻松模拟宁静服务的工具

> ID：14036289
> 
> 赞同：7
> 
> 时间：2012-12-26T05:21:01.717
> 
> 标签：javascript, ajax, rest, testing

是否有一个工具可以轻松地模拟 restful 服务，以便我们可以`Ajax`轻松地测试我们的调用？

例如，我需要模拟一个 restful 服务以返回`string`或`JSON`格式化`XML`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:08:56.983

你可以试试 jasmine-Ajax。[https://github.com/pivotal/jasmine-ajax](https://github.com/pivotal/jasmine-ajax)

当然，这意味着您需要使用 Jasmine 进行测试。[https://github.com/jasmine/jasmine/](https://github.com/jasmine/jasmine/)

Sinon 也是一个非常强大的模拟库。[http://sinonjs.org/](http://sinonjs.org/)你可以选择你的测试框架。我用它和摩卡咖啡。[http://visionmedia.github.com/mocha/](http://visionmedia.github.com/mocha/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-26T06:14:57.340

试试[jmockit](http://jmockit.github.io/)；我曾用它来模拟 Web 服务。但这是一个 Java 解决方案。如果您想在服务器端模拟 REST API，那么这将适合。如果您没有 REST 应用程序，这将无济于事。

***如果您想在客户端（在 JS 中）本身进行模拟；***

您可以编写自己的模拟框架/接口。因此，当您发送请求时，请在中间放置一个层，它可以只返回您的测试响应，而不是实际调用 REST URL。

**客户端--->模拟接口---> REST API CALL**

```
function mockingInterface(var url){
    //if original
    //make REST call

    //else; return mocked data
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-05-11T09:27:06.473

[FakeRest](https://github.com/marmelab/FakeRest)完全符合您的要求。

```
// initialize fake REST server and data
var restServer = new FakeRest.Server();
restServer.init({
    'authors': [
        { id: 0, first_name: 'Leo', last_name: 'Tolstoi' },
        { id: 1, first_name: 'Jane', last_name: 'Austen' }
    ],
    'books': [
        { id: 0, author_id: 0, title: 'Anna Karenina' },
        { id: 1, author_id: 0, title: 'War and Peace' },
        { id: 2, author_id: 1, title: 'Pride and Prejudice' },
        { id: 3, author_id: 1, title: 'Sense and Sensibility' }
    ]
});
// use sinon.js to monkey-patch XmlHttpRequest
var server = sinon.fakeServer.create();
server.respondWith(restServer.getHandler());

// Now query the fake REST server
var req = new XMLHttpRequest();
req.open("GET", "/authors", false);
req.send(null);
console.log(req.responseText);
// [
//    {"id":0,"first_name":"Leo","last_name":"Tolstoi"},
//    {"id":1,"first_name":"Jane","last_name":"Austen"}
// ] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-26T12:14:55.537

你也可以试试[http://apiary.io/](http://apiary.io/)。

在那里，您可以以文本格式定义请求响应，例如在 JSON 中。优点是 MOCK API 是公开的，因此团队的任何部分都可以使用它。

# php - 图片无法显示，因为它在 php gd 中包含错误

> ID：14036298
> 
> 赞同：4
> 
> 时间：2012-12-26T05:22:44.900
> 
> 标签：php, gd

这是我创建图像所遵循的[链接，但是当我使用第一个示例进行测试时，我的 GD 已安装并正常工作，但此代码中断并标记“](http://blog.themeforest.net/tutorials/fun-with-the-php-gd-library-part-1/)**图像无法显示，因为它包含错误**”。

**代码**-

```
<?php
//phpinfo();

//Report any errors
ini_set("display_errors", "1");
error_reporting(E_ALL); 

//Set the content type
header('content-type: image/png');

//Create our basic image stream 300x300 pixels
$image = imagecreate(300, 300);
//$image = imagecreatetruecolor(300, 300);
//Set up some colors, use a dark gray as the background color
$dark_grey = imagecolorallocate($image, 102, 102, 102);
$white = imagecolorallocate($image, 255, 255, 255);

//Set the path to our true type font 
//$font_path = 'advent_light';
//$font_path = 'advent_light.ttf';
//$font_path = 'arial';
$font_path = 'arial.ttf';

//Set our text string 
$string = 'Swapnesh!';

//Write our text to the existing image.
imagettftext($image, 50, 0, 10, 160, $white, $font_path, $string);

//Create our final image 
imagepng($image);

//Clear up memory 
imagedestroy($image);
?> 
```

**我尝试并搜索但没有解决方案的事情如下**- :(

*   如果有的话，检查 php 标记之前的空白/空格。
*   **删除header()**方法之前的所有代码和空格。
*   如代码中的注释所示，将 imagecreate( **)**更改为**imagecreatetruecolor() 。**
*   检查 font_path 并根据评论设置字体路径。
*   跟着[这个](https://stackoverflow.com/questions/13003001/the-image-cannot-be-displayed-because-it-contains-errors-php)&[这个](http://php.net/manual/en/function.imagettftext.php)。

我的 PHP 版本 - **PHP 版本 5.3.8**

仍然无法找到问题:(

![在此处输入图像描述](../Images/b053ddd9951459d8874662ffb9cb6ad8.png)

**错误**

![错误](../Images/09013545e554d947af52136b3ff1bfa2.png)

**编辑**-

1.0版

这就是我正在保存的内容。

![在此处输入图像描述](../Images/28eb3f542fa99b933f8bfbb54ea9780f.png)

有关图像的更多信息-

![在此处输入图像描述](../Images/0f89f4513c3456dbf83cc20c5dc2264e.png)

保存页面时——这是文件保存的名称**——create_png.php.png**

**1.1版**

```
<br />
<b>Warning</b>:  imagettftext() [<a href='function.imagettftext'>function.imagettftext</a>]: Invalid font filename in <b>C:\xampp\htdocs\Core\CoreFiles\create_png.php</b> on line <b>20</b><br />
<br />
<b>Warning</b>:  imagettftext() [<a href='function.imagettftext'>function.imagettftext</a>]: Invalid font filename in <b>C:\xampp\htdocs\Core\CoreFiles\create_png.php</b> on line <b>23</b><br /> 
```

感谢`@cryptic`和`@user1711126`

**解决方案**——

字体文件实际上丢失了，我们需要将我们的 .ttf 文件放在文件夹下以使此代码工作或设置路径以使其工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T05:27:10.780

保存错误的图像文件并在记事本等文本编辑器中打开它，看看里面是否有任何 PHP 错误。发生错误并输出文本，然后损坏文件。这样做，你会发现错误是什么。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-26T05:53:02.013

我严重怀疑你的字体路径，请仔细检查你的字体和文件在同一目录中，如果是，然后像这样更改路径，

```
$font_path = './arial.ttf'; 
```

编辑（根据聊天中的讨论）

您必须需要一个 ttf 文件才能使用 imagettftext() 函数将 arial.ttf 文件放在文件所在的文件夹中

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-26T06:00:26.413

我认为@cryptic 是正确的，您需要使用真实路径来使用字体，例如

```
$font_path = basename(dirname(__FILE__)).'/arial.ttf'; 
```

请确保该字体存在于目录中。

# objective-c - 文本字段开始编辑时自动开始语音转文本

> ID：14036299
> 
> 赞同：0
> 
> 时间：2012-12-26T05:22:49.017
> 
> 标签：objective-c, ios, xcode

我不知道这个按钮的具体名称，但它是一个带有麦克风的按钮，当您按下它时，它可以让您说话，并将您的语音转换为文本。

我在这方面找不到任何东西，但是当我单击编辑文本字段时，我希望自动按下该按钮，这样我就可以开始说话，然后单击完成，以便将音频转换为文本。

我不知道这是否可能并且似乎找不到任何东西......可能是因为我的搜索很弱，因为我不知道如何问它。

如果有人知道如何做到这一点，或者知道上面有什么东西，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:54:07.287

**你不能这样做。**

这是 Siri 的一部分。

到目前为止，Apple 还没有提供任何与 siri 交互的 api。

# batch-processing - 作为邮件附件发送后删除 pfd 文件

> ID：14036307
> 
> 赞同：0
> 
> 时间：2012-12-26T05:23:45.923
> 
> 标签：batch-processing, smtpclient

我知道这种重复的问题，但我收到一条错误消息，因为“文件正被其他进程使用，因此无法访问”。当我通过批处理运行我的 exe 时。在远程服务器中直接运行 exe 时，我没有收到任何此类错误，但批处理导致这种情况发生。批处理进入无限循环，永无止境。即使 exe 正常运行。报告已创建，我将它们作为邮件附件接收。

M 使用 smtpclient 发送邮件。我还使用 MailMessage.Attachments.Dispose() 和 MailMessage.Dispose() 来杀死附件对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T05:09:36.923

我得到了正确的方法。我先处理邮件消息对象，然后处理附件对象。只需颠倒顺序，它就可以完美运行！谢谢！

# android - 官方“Boost 库”支持 Android 和 iOS？

> ID：14036311
> 
> 赞同：51
> 
> 时间：2012-12-26T05:24:23.460
> 
> 标签：android, ios, boost, android-ndk, boost-asio

这个问题是[我应该在 Android 中选择 Boost Asio 还是 Aysnc Socket 线程的延续？](https://stackoverflow.com/questions/13861115/should-i-choose-boost-asio-or-aysnc-socket-threads-in-android)问，

Boost 库旨在广泛有用，并且可在广泛的应用程序中使用，但尚未对 Android 和 iOS 提供官方支持

1.  是否有任何特定原因，例如未针对嵌入式设备进行优化？还是其他什么原因？
2.  有人知道在 Android 或 iOS 上使用 Boost 构建的任何应用程序吗？
3.  是否建议将 boost 库用于产生多个线程进行通信的网络密集型应用程序？

仅供参考..我一直在使用以下链接创建示例 Android 应用程序，但尚未成功:(

[https://github.com/MysticTreeGames/Boost-for-Android](https://github.com/MysticTreeGames/Boost-for-Android)

[http://www.codexperiments.com/android/2011/05/tips-tricks-building-boost-with-ndk-r5/](http://www.codexperiments.com/android/2011/05/tips-tricks-building-boost-with-ndk-r5/)

[在 android 中包含 Boost C++ 库](https://stackoverflow.com/questions/7885384/include-boost-c-library-in-android)

[如何在 Android NDK 和 STLport 中使用 boost 库（包括 shared_ptr）](https://stackoverflow.com/questions/4347151/how-to-use-the-boost-library-including-shared-ptr-with-the-android-ndk-and-stl)

[https://sites.google.com/site/fourdollars/android/android-mk](https://sites.google.com/site/fourdollars/android/android-mk)

[https://groups.google.com/forum/?fromgroups=#!topic/android-ndk/4lxhsKFe7Ho](https://groups.google.com/forum/?fromgroups=#!topic/android-ndk/4lxhsKFe7Ho)

[http://www.crystax.net/trac/ndk/ticket/6](http://www.crystax.net/trac/ndk/ticket/6)

[Android NDK R5 和对 C++ 异常的支持](https://stackoverflow.com/questions/4663291/android-ndk-r5-and-support-of-c-exception)

提前致谢。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-12-27T12:17:30.797

得到了 boost 社区的回复 是的。这些平台没有得到官方支持，因为没有人自愿为它们定期运行回归测试。

Boost 开发人员不可能在所有平台上进行测试。因此开发人员依赖于志愿者运行的回归测试的测试结果。例如，请参阅 [http://beta.boost.org/development/tests/trunk/developer/summary.html](http://beta.boost.org/development/tests/trunk/developer/summary.html)

如果没有人自愿为特定平台运行测试，则该平台不受官方支持。

因此，如果您关心 Android 或 iOS 获得官方支持，请开始为 Boost 运行定期（最好是每天）回归测试。见[http://beta.boost.org/development/running_regression_tests.html](http://beta.boost.org/development/running_regression_tests.html)

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-01-01T18:09:15.293

在 github 上查看我的跨平台教程。它向您展示了如何设置 Boost 并在 iOS 和 Android 之间使用它。我在这方面度过了一段可怕的时光，我想我会记录下来，这样其他人就不必弄清楚了。您会注意到，该项目还引入了两个平台之间使用的其他几个常用项目，例如 CoreFoundation 和 SQLite。

[https://github.com/markshiz/cross-platform-tutorial](https://github.com/markshiz/cross-platform-tutorial)

注意：我的教程没有展示如何构建用于 boost 的编译库。我之前使用您提供的说明成功完成了此操作：

[http://www.codexperiments.com/android/2011/05/tips-tricks-building-boost-with-ndk-r5/](http://www.codexperiments.com/android/2011/05/tips-tricks-building-boost-with-ndk-r5/)

有了 Android 工具链编译好的静态库后，您可以通过类似于`include/[NAME OF NEW SUBMODULE]`上面项目目录下的模块轻松链接它。`Android.mk`对该目录根目录中的文件使用类似于以下内容的内容。

```
include $(CLEAR_VARS)
LOCAL_MODULE:= boost_regex
LOCAL_SRC_FILES:= ./path/to/built/static/library/libboost_regex-gcc-mt-s.a
LOCAL_EXPORT_C_INCLUDES := ./path/to/the/directory/that/has/the/boost/headers
include $(PREBUILT_STATIC_LIBRARY) 
```

最后，像示例中一样，在里面导入该模块

```
$(call import-module,[NAME OF NEW SUBMODULE]) 
```

至于您的其他问题——您知道在 iOS 和 Android 上使用 Boost 的应用程序吗？是的，我已经成功完成了多次，并将工作应用程序发布到应用商店。

您的另一个问题，是否建议使用 boost 进行网络通信？我不确定你在这里的意思。从什么角度？你的意思是，哲学上，技术上，等等？

从哲学上讲，你必须问自己，你导入这个库并在 Android 和 iOS 之间使用它的理由是什么。是不是为了节省代码时间、维护负担。如果是这样，我会说这是一个很好的方法。显然，要使这种设置正常工作存在一些障碍和痛苦。此外，C++ 的 IDE 功能不如 Eclipse 中的 Java 出色。我试图在`doc/`目录中的 PDF 演示文稿中做到公平和平衡。给它一次。

从技术角度来看，我认为我唯一担心的是确保在 Activity 停止时正确清理 Asio 对象。如果您需要在后台执行操作，请改用 Service：

[http://developer.android.com/reference/android/app/Service.html](http://developer.android.com/reference/android/app/Service.html)

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2012-12-30T10:31:45.147

**更新：** Android 上的 std::atomic 似乎存在问题，并且由于 Boost.Asio 正在使用它（默认情况下），结合线程，偶尔会出现死锁。幸运的是，Boost.Asio 使得从 Std.Atomic 切换到 Boost.Atomic 变得很容易，并且在[本次提交的](https://github.com/MysticTreeGames/Boost-for-Android/commit/3baf206f214810dbc6e28b035704afb726a665f0)[Boost-for-Android](https://github.com/MysticTreeGames/Boost-for-Android)项目中已经解决了这一点。

有关该错误的更多信息，请参见[此处](https://code.google.com/p/android/issues/detail?id=42735#makechanges)

* * *

我们正在使用 boost asio 为 Android 开发一个简单的多人游戏（尚未发布），到目前为止我们没有任何问题。这就是问题#2。

你看到什么样的问题？

如果问题与编译和链接有关，也许这些提示会很有用。

将以下内容添加到您的 AndroidManifest.xml 文件中：

```
<uses-permission android:name="android.permission.INTERNET"></uses-permission> 
```

在你的 Application.mk 文件中有这个：

```
APP_STL := gnustl_static
APP_CPPFLAGS += -frtti -fexceptions 
```

并将其用作您的 Android.mk 文件的模板：

```
LOCAL_PATH := $(call my-dir)
BOOST_VERSION      := 1_49
PROJECT_ROOT       := $(LOCAL_PATH)/../../../..
BOOST_INCLUDE_PATH := /path/to/boost/headers
BOOST_LIB_PATH     := /path/to/boost/libraries

# Path and name of the STL library. Add this to the *end* of LOCAL_LDLIBS.
# Note this is a hack/workaround to prevent linker errors when compiling with 
# boost. 
STL_LIBS := -L$(NDK_ROOT)/sources/cxx-stl/gnu-libstdc++/libs/armeabi \
                    -lgnustl_static

include $(CLEAR_VARS)

LOCAL_MODULE    := native-activity
LOCAL_C_INCLUDES:= $(BOOST_INCLUDE_PATH) \
                   $(PROJECT_ROOT)/src \
                   $(PROJECT_ROOT)/platform/android/jni

LOCAL_SRC_FILES := main.cpp
LOCAL_LDLIBS    := -llog -landroid

# The order of these libraries is often important.
LOCAL_LDLIBS += -L$(BOOST_LIB_PATH)     \
                -lboost_system-gcc-mt-$(BOOST_VERSION)  \
                -lboost_thread-gcc-mt-$(BOOST_VERSION)  \
                $(STL_LIBS)

LOCAL_STATIC_LIBRARIES := android_native_app_glue

include $(BUILD_SHARED_LIBRARY)
$(call import-module,android/native_app_glue) 
```

编辑：我们如何为 Android 构建提升。这就是我们在 Makefile 中的内容：

```
git clone git://github.com/madadam/Boost-for-Android.git
./build-android.sh --boost=1.49.0 --with-libraries=chrono,program_options,system,thread /path/to/ndk 
```

请注意，我们使用的是我们自己的 Boost-for-Android 分支，这只是因为它有一个适用于最新 NDK 版本 r8d 的补丁。从命令行也可以看出我们使用的是1.49版本的boost，这是目前Boost-for-Android支持的最高版本。

如果您想知道支持哪些 Boost 和 Android NDK 组合，请查看 Boost-for-Android 项目。它包含名为 patch/boost-< **X** >/ndk-android< **Y** > 的目录，其中**X**对应于受支持的 boost 版本，**Y**对应于受支持的 NDK 版本（无耻插件：我们给项目的 2 美分 :-)）。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2013-01-03T12:17:01.493

**以下是从 boost 社区收到的更多（非常有用的）信息：**

> 1.  背后是否有任何特定原因（例如未针对嵌入式设备进行优化）？还是其他什么原因？

Boost 在 Android 上完美运行。由于有一个带有相当不错的 gcc（4.6 左右）的 NDK（本机开发工具包），您只需要配置 boost build 以使用正确的 gcc。尽管这一切都有效，但需要进行一些修改才能正确设置。但同样，原则上，为 Android 或任何其他 Linux 发行版构建 Boost 并没有太大区别。

> 2.  如果我们将 boost 库用于智能手机应用程序开发的网络和线程同步，是否存在（根本）任何已知问题？使用 BOOST ASIO 来做同样的事情会是个好主意吗？

使用 Boost.Thread 或 Boost.Asio 非常好。它们在 ARM 设备上运行良好。甚至支持更多特定于平台的黑客，如 boost.atomic 和 boost.context。

> 仅供参考是找到的链接 [https://github.com/MysticTreeGames/Boost-for-Android](https://github.com/MysticTreeGames/Boost-for-Android) [http://www.codexperiments.com/android/2011/05/tips-tricks-building-boost-with-ndk-r5/](http://www.codexperiments.com/android/2011/05/tips-tricks-building-boost-with-ndk-r5/)

使用 Android NDK 构建 boost 比直接使用 boost.build 更简单。我编译了一堆 Android 构建脚本，可以在这里找到： [https](https://github.com/STEllAR-GROUP/HPXAndroid/tree/master/modules) ://github.com/STEllAR-GROUP/HPXAndroid/tree/master/modules 寻找各种 boost 库的 boost_${module}。这不是一个完整的列表。只有我需要的。此外，可能需要一些对 1.53 的喜爱。所有不同的库都不需要任何特殊的 android 处理（以编译器不同意其他 gcc 版本的一些小错误为模）

我希望这对其他人也有用！谢谢！

# image - 图像调整大小在引导框架的 IE8 中不起作用

> ID：14036312
> 
> 赞同：4
> 
> 时间：2012-12-26T05:24:27.053
> 
> 标签：image, twitter-bootstrap, internet-explorer-8, resize

我一直在破解和挖掘 google + stackoverflow，希望在下面找到与我的问题相关但找不到的相关解决方案：

我正在使用 bootstrap (twitter) ver 2.0 并遇到图像调整大小在 IE8 上不起作用但在其他浏览器上起作用。

图片调整大小的原始代码是：

```
 <img src="alpha1-stamp.png" width="70" height="70"> 
```

它在 Safari、Firefox 和 Google Chrome 等浏览器中表现得非常好，但不是 IE8（我在另一个桌面上拥有的唯一版本，但认为它不应该适用于所有 IE 版本）

请建议并迫切需要修复这个 IE 噩梦

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:01:25.203

Alright, finally got it sorted and found the way to hack the boostrap.css file

Just comment the following on bootstrap.css (bootstrap framework)

```
/*
img {
  width: auto\9;
  height: auto;
  max-width: 100%;
  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic;
} */ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-03T12:33:12.900

只需在 bootstrap.css （引导框架）上评论以下内容

```
img {
  width: auto\9;
  height: auto;
 /* max-width: 100%;*/
  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T10:37:39.077

我遇到了 Internet Explorer < 8 不尊重我的 img 标签的宽度和高度属性的问题，并且能够仅删除选择器的`height:auto`规则来解决它`img`。（删除最大宽度没有帮助）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-04T14:19:21.807

问题是
`width: auto\9; height: auto;` 如果你评论这一行，它在 IE 上可以正常工作

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-20T15:24:26.423

如果从引导 css 中删除一些代码没有帮助你可以试试这个 => [https://stackoverflow.com/a/17763577/789012](https://stackoverflow.com/a/17763577/789012)

至于我在删除它后，我在 Chrome 中的布局被破坏了，就像在 Mozilla 或 IE 中一样......

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-02T00:14:53.963

我通过破解 HTML 中的条件覆盖样式以不同方式解决了这个问题。

我已经在引导样式表下方有一个 IE8 解决方法部分，因此我为问题图像添加了重置：

```
<!-- Bootstrap -->
<link href="css/bootstrap.min.css" rel="stylesheet" />

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <style type="text/css">
      img, img.img-responsive {
     width:auto;
     height:auto;
     max-width: none;
      }
    </style>

<![endif]-->
<style type="text/css"> 
```

# codeigniter - 在 codeigniter (tiara) 中为 foreach() 提供的参数无效

> ID：14036314
> 
> 赞同：0
> 
> 时间：2012-12-26T05:24:58.550
> 
> 标签：codeigniter, join, foreach, multiple-tables

我在 CI 视图页面中收到错误，因为为 foreach() 提供的参数无效。这是我的代码：

* * *

* * *

我的数据库：（彭耶瓦表）

```
**id_penyewa                        
nama_penyewa                                 
alamat                               
no_telp** 
```

（贾米南表）

```
**id_penyewa                        
jenis_jaminan
ket_jaminan** 
```

在控制器（penyewa.php）

```
function Penyewa()
{
    parent::Controller();
    $this->load->database();
    $this->load->model('model_tampil');
}

function tambah()
{
    $ck=$this->input->post('id_penyewa');
        if($ck!='')
        {
            $this->model_tampil->insertPenyewa();
        }
    $this->load->view('tampilpenyewa');
}

function sukses()
{
echo "Data berhasil di input!";
?>
<br />
<a href="<?php echo base_url();?>/index.php/login/input_penyewa">Tambah Data</a>
<br />
<a href="<?php echo base_url();?>/index.php/login/tampil_penyewa">Lihat Data</a>
<?php
} 
```

在模型中（model_tampil.php）

```
function getPenyewa(){
    $this->db->select('*');
    $this->db->from('penyewa');
    $this->db->join('jaminan','jaminan.id_penyewa = penyewa.id_penyewa');
    $q = $this->db->get();
    $rows = $q->num_rows(); 
    $q_result = $q->result();

    if($rows>0){
        foreach($q_result as $row){
            $data[] = $row;
        }
        return $data;
    }
}
function insertPenyewa()
{   
    /*$this->db->trans_start();

    $this->db->query('INSERT INTO penyewa VALUES($id_penyewa, $nama_penyewa, $alamat, $no_telp, $jenis_jaminan)');
    $table1_id = $this->db->insert_id();

    $this->db->query('INSERT INTO jaminan VALUES(id_penyewa,' . $table1_id .',jenis_jaminan)');

    $this->db->trans_complete(); */

    $this->id_penyewa=$this->input->post('id_penyewa');
    $this->nama_penyewa=$this->input->post('nama_penyewa');
    $this->alamat=$this->input->post('alamat');
    $this->no_telp=$this->input->post('no_telp');
    $this->jenis_jaminan=$this->input->post('jenis_jaminan');

    $this->db->insert('penyewa',$this); 
            redirect('penyewa/sukses');
} 
```

在视图中 (tampilPenyewa.php)

> ```
>  <center>
> <h3>Tabel data Penyewa</h3>
> <table border="1">
> <tr align="center" bgcolor="#33CC99">
> <td width="100">ID Penyewa</td>
> <td width="200">Nama Penyewa</td>
> <td width="120">Alamat</td>
> <td width="150">Nomor Telepon</td>
> <td width="150">Jenis Jaminan</td>
> <td>Tindakan Lanjut</td>
> </tr>
> 
> <?php foreach ($records as $row) : ?>
> <tr height="35">
> <td>&nbsp;<?php echo $row->id_penyewa; ?></td>
> <td>&nbsp;<?php echo $row->nama_penyewa; ?></td>
> <td>&nbsp;<?php echo $row->alamat; ?></td>
> <td>&nbsp;<?php echo $row->no_telp; ?></td>
> <td>&nbsp;<?php echo $row->ket_jaminan; ?></td>
> <td></td>
> </tr>
> <?php endforeach; ?>
> </table>
> <br />
> 
> <a href="<?php echo base_url();?>/index.php/login/input_penyewa">Tambah Data</a> 
> ```

并在视图中（inputpenyewa.php）

> ```
> <center>
> <?php
> 
> $this->load->library('validation');
> $id_penyewa=array(
>               'name'          => 'id_penyewa',
>               'id'            => 'id_penyewa',
>               'value'         => '',
>               'maxlength'     => '100',
>               'size'          => '50',
>               'validation'    => "required");
> $nama_penyewa=array(
>               'name'          => 'nama_penyewa',
>               'id'            => 'nama_penyewa',
>               'value'         => '',
>               'maxlength'     => '100',
>               'size'          => '50',
>               'validation'    => "required");
> $alamat=array(
>               'name'          => 'alamat',
>               'id'            => 'alamat',
>               'value'         => '',
>               'maxlength'     => '500',
>               'size'          => '',
>               'validation'    => "required");
> $no_telp=array(
>               'name'          => 'no_telp',
>               'id'            => 'no_telp',
>               'value'         => '',
>               'maxlength'     => '100',
>               'size'          => '50',
>               'validation'    => "required");
> $ket_jaminan=array(
>               'name'          => 'jenis_jaminan',
>               'id'            => 'jenis_jaminan',
>               'value'         => '',
>               'maxlength'     => '100',
>               'size'          => '50',
>               'validation'    => "required");
> 
> $this->load->helper('form');
> echo validation_errors();
> echo form_open('penyewa/tambah');
> echo '<center><h3>Input Data Penyewa</h3></center>';
> echo "<table border='0' class='tabledetail' align='center'>";
> echo
>   "<tr>"."<td>".form_label('ID')."</td>"."<td>".form_input('id_penyewa')."</td>"."</tr>";
> echo
>   "<tr height=50>"."<td>".form_label('Nama Penyewa')."</td>"."<td>".form_input('nama_penyewa')."</td>"."</tr>";
> echo
>   "<tr height=220>"."<td>".form_label('Alamat')."</td>"."<td>".form_textarea('alamat')."</td>"."</tr>";
> echo
>   "<tr>"."<td>".form_label('No Telp')."</td>"."<td>".form_input('no_telp')."</td>"."</tr>";
> echo
>   "<tr height=220>"."<td>".form_label('Jaminan')."</td>"."<td>".form_textarea('jenis_jaminan')."</td>"."</tr>";
> echo
>   "<tr height=50>"."<td colspan=2 align='center'>".form_submit('mysubmit','Simpan')."</td>"."</tr>";
> echo "</table>";
> echo form_close();
> ?>
> <a href="<?php echo base_url();?>/index.php/login/tampil_penyewa">Lihat Data</a> 
> ```

* * *

* * *

好吧，如果我的问题非常非常多，我很抱歉..谢谢你:)

**更新：**

好的，我已经这样做了，但没有任何结果，我的页面再次错误..

而且，我想再问一次，model_tampil->getPenyewa() 有什么错误吗？

这是脚本：

```
 function getPenyewa(){

    $this->db->select('*');
    $this->db->from('penyewa');
    $this->db->join('jaminan','jaminan.id_penyewa = penyewa.id_penyewa');
    $q = $this->db->get();
    $rows = $q->num_rows(); 
    $q_result = $q->result();

    if($rows>0){
        foreach($q_result as $row){
            $data[] = $row;
        }
        return $data;
    }
} 
```

我想从 1 页 inputpenyewa.php 将数据输入到我的本地主机中的 2 个表中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:59:07.880

You are not passing any data to the view.

```
$this->load->view('tampilpenyewa'); 
```

change this line to this.

```
$this->load->view('tampilpenyewa',$data); 
```

You have to get the values from db. So before this line ,get value from db as

```
$data['records'] = $this->model_tampil->getPenyewa(); 
```

and then load the view as above, like

```
$this->load->view('tampilpenyewa',$data); 
```

Hope this helps

Regards

iijb

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:59:20.557

In the tambah function of your controller,you are directly calling the view file without giving any data to it..

Do it like this..

```
function tambah()
{
    $ck=$this->input->post('id_penyewa');
        if($ck!='')
        {
            $this->model_tampil->insertPenyewa();
        }
    $records = $this->model_tampil->getPenyewa(); // The array returned from your whatever model function
    $this->load->view('tampilpenyewa',array('records' => $records));
} 
```

# sql - 如何从返回记录集中选择最新记录？

> ID：14036315
> 
> 赞同：1
> 
> 时间：2012-12-26T05:25:28.153
> 
> 标签：sql, sql-server-2008

我在 SQL Server 2008 中有 SQL 表，我想获取取决于其日期的最新记录。

例如，假设我有一些列和一个包含记录创建日期的日期列的记录。让我们坐在日期列包含以下日期。12 月 22 日、12 月 23 日、12 月 24 日、12 月 25 日、12 月 26 日。

现在，我想获取小于 12 月 25 日的记录，但我想要最新的日期记录，如果我写查询

```
select * from Table where CreateDate < '25-Dec-2012' 
```

然后它将返回 3 条记录，但我想要他们的最新记录，即 12 月 24 日的记录

怎么做 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:27:17.537

您应该添加`TOP 1`到您的查询中，并按照其自然顺序的相反顺序对其进行排序，以首先获取您的最后一条记录。假设默认顺序是按`CreateDate`升序排列，`ORDER BY CreateDate DESC`应该可以解决问题：

```
SELECT TOP 1 *
FROM Table
WHERE CreateDate < '25-Dec-2012' 
ORDER BY CreateDate DESC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:26:59.013

使用这个，可以正常工作，手动检查..:)

```
select top 1 * 
from TableName 
where Createdate < '25-Dec-2012' 
order by Createdate desc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T05:27:44.810

请试试：

```
select 
  top 1 * 
from Table 
  where CreateDate < '25-Dec-2012' 
order by CreateDate desc 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T05:28:21.610

采用`TOP`

```
SELECT TOP 1 *
FROM TABLENAME
WHERE CreateDate < '25-Dec-2012'
ORDER BY CreateDate DESC 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-26T05:28:22.903

你可以包括“顶部”作为..

```
 select top 1 * from Table where CreateDate < '25-Dec-2012' order by CreateDate desc; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-26T05:30:46.543

OP 说每个日期只有一行，因此 24-Dec-2012 的行将是所需的行。

`select * from Table where CreateDate = '24-Dec-2012'`

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-12-26T05:27:36.323

你必须使用`order`和`limit`

```
select * from Table where CreateDate < '25-Dec-2012'  order by CreateDate DESC LIMIT 1 
```

# php - Zipstream - PHP 在输出标题之前获取查询字符串

> ID：14036318
> 
> 赞同：1
> 
> 时间：2012-12-26T05:26:55.850
> 
> 标签：php, zipstream

我正在使用它来创建即时压缩和从亚马逊存储桶交付文件：

例如，这可以传递给文件：index.php?q=movie1.m4v|movie2.m4v

我用过这个：[http](http://pablotron.org/software/zipstream-php/) ://pablotron.org/software/zipstream-php/效果很好。

但是下面的代码不起作用：

```
require 'zipstream.php';

$q = $_GET["q"];
$files = explode("|", $q);

foreach ($files as $i) {
  $zip->add_file_from_path($files[i], "http://[amazon bucket link here]" + $files[i]);

}

$zip->finish(); 
```

但这不起作用。它给了我一个空的 zip 文件。

当我手动执行此操作时，它可以正常工作：

```
$zip->add_file_from_path('movie1.m4v', 'http://[amazon bucket]/movie1.m4v'); 
```

我相信标题是在读取查询字符串之前发送的，这会弄乱我的 php 文件中的以下代码，对吗？我该如何解决这个问题？

谢谢

**现在解决的应该是 $files[$i] 和 . 用于串联。不是 $files[i] 和 + 。Javascript 编码习惯让我很困惑**

工作版本：

```
$q = $_GET["q"];
$files = explode("|", $q);

# load zipstream class
require 'zipstream.php';

$zip = new ZipStream('download.zip');

for ($i = 0; $i < count($files); ++$i) {
    $zip->add_file_from_path($files[$i], "http://[amazon bucket]" . $files[$i]);
}

$zip->finish(); 
```

# android - 片段中有两个列表视图？

> ID：14036326
> 
> 赞同：0
> 
> 时间：2012-12-26T05:27:52.933
> 
> 标签：android, android-listview, android-fragments, android-listfragment

我是 android 开发的新手，我对使用 Fragment 有疑问。

我必须构建一个在**同一屏幕上运行 2 个****ListViews**的 App ，但***右侧的列表取决于我在左侧列表中选择的内容***。我浏览了有关使用**Fragments**的所有教程和示例，但我还没有找到成功的方法。

 ****** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:42:04.727

嘿，请参考此[链接](http://developer.android.com/guide/components/fragments.html)并按照那里解释的示例进行操作。在给定的示例中，您有 listfragment 并且单击项目时，将更改详细信息。因此，您实现了另一个列表片段，它将在选择第一个列表视图而不是详细信息时显示项目。*****

# android - 向另一个联系人号码发送语音消息

> ID：14036327
> 
> 赞同：1
> 
> 时间：2012-12-26T05:28:09.063
> 
> 标签：android, android-layout, android-intent, android-emulator, android-widget

我制作了一个程序，在其中我向**预定义的联系人号码****发送一些文本**，但现在我也**想向该号码发送语音消息**，请告诉我该怎么做？

 ****要发送短信，我使用以下代码：-

```
 String phoneNumber = "XXXX9";
            String message = editLocation.getText().toString();
            SmsManager smsManager = SmsManager.getDefault();
            smsManager.sendTextMessage(phoneNumber, null, message, null, null);
            Toast.makeText(getApplicationContext(), 
            "Message Sent!", Toast.LENGTH_LONG).show(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T05:57:59.370

请参阅此[链接](http://jtribe.blogspot.in/2008/12/sending-mms-with-android.html)。在此链接中，有关于如何通过彩信发送图像的说明。您可以将图像文件替换为音频文件。您可以在上述链接的评论中找到发送语音消息的代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-26T06:18:43.273

尝试这样的事情

```
Intent sendIntent = new Intent(Intent.ACTION_SEND); 
sendIntent.putExtra("sms_body", "some text");     
sendIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse(url)); // url would point to mp3 file
sendIntent.setType("audio/mp3"); 
```****

# visual-studio-2010 - MS 同步框架 - 将 2 个分支同步到中央分支

> ID：14036328
> 
> 赞同：0
> 
> 时间：2012-12-26T05:28:13.870
> 
> 标签：visual-studio-2010, sql-server-2008-r2, synchronization, microsoft-sync-framework

我正在尝试使用 MS 同步框架创建一个同步模块，其中来自 2 个分支的记录将同步到一个中央分支数据库中。我想用 MS Sql Server 2008 R2 来实现这一点。我似乎无法弄清楚该项目所需的同步框架组件。我们的目标是能够通过云同步记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T14:30:24.277

如果您查看文档，则有关于如何执行此操作的演练。

请参阅：[教程：同步 SQL Server 和 SQL Express](http://msdn.microsoft.com/en-us/library/ff928700.aspx)

不要介意它说的是 SQL Express，演练将适用于 SQL Express、LocalDB、SQL Server 和 Azure SQL 数据库，因为它们都使用相同的 SqlSyncProvider。

如果中央数据库是 Azure SQL 数据库，也请查看以下内容：[如何：配置和执行与 SQL Azure 的同步](http://msdn.microsoft.com/en-us/library/ff928617.aspx)和[Windows Azure 同步服务示例演练](http://social.technet.microsoft.com/wiki/contents/articles/1568.walkthrough-of-windows-azure-sync-service-sample.aspx)

# php - PHP：提取特定内容以将变量从字符串中的文本块中分离出来

> ID：14036329
> 
> 赞同：0
> 
> 时间：2012-12-26T05:28:16.447
> 
> 标签：php

我有一个名为 $driveusage 的变量，其中包含以下文本块：

```
Filesystem     Type      Size  Used Avail Use% Mounted on
rootfs         rootfs    111G  8.7G   96G   9% /
/dev/sda1      ext3      111G  8.7G   96G   9% /
devtmpfs       devtmpfs   59M     0   59M   0% /dev
tmpfs          tmpfs      61M     0   61M   0% /dev/shm
tmpfs          tmpfs      61M  264K   60M   1% /run
tmpfs          tmpfs      61M     0   61M   0% /sys/fs/cgroup
tmpfs          tmpfs      61M   16K   61M   1% /tmp 
```

我只需要从 rootfs 行中提取数据，将数据提取到单独的变量中*（即`$drivesize`, `$driveused`, `$drivefree`，而不是数组）*，只需要`size`,`used`和`avail`数字，并且只需要数字（*包括小数*）。
请记住，该`used`值一旦超过`9.9G`，将显示为`10G`（*不带小数点*），并且当使用率下降到以下时，`10G`将显示为`9.9G`。

我已经尝试了每种组合，`preg_replace()`但我对那些复杂的表达方式并不擅长。:(

您可以提供的任何帮助将不胜感激:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:41:45.763

这是我得到的：

```
$df_info = explode(' ', shell_exec("df -H / | tail -1 | tr -s ' ' | cut -d ' ' -f 2,3,4"));
$df = array(
    'size'      => $df_info[0],
    'used'      => $df_info[1],
    'available' => $df_info[2],
); 
```

`df -H /`获取有关您的磁盘的人类可读信息，`tail -1`获取该行的最后一行（重要数字，并`tr -s ' ' | cut -d ' ' -f 2,3,4`获取该行中的第二、第三和第四个条目（“大小”、“使用”和“可用”）。

# php - jquery - x-editable - 提交后重置“新记录”

> ID：14036336
> 
> 赞同：2
> 
> 时间：2012-12-26T05:28:57.520
> 
> 标签：php, jquery, html, ajax, forms

我一直试图弄清楚这几个小时无济于事。

我有以下

[http://vitalets.github.com/x-editable/docs.html#newrecord](http://vitalets.github.com/x-editable/docs.html#newrecord)

新的记录模块/代码。它的功能是，一旦所有行都有数据并提交，它会保留其值，以便它可以保持可编辑状态。

我尝试添加输入，在 ajax 请求成功时选择清除代码，并尝试将 .editable 函数放入 ajaxComplete 函数中，以查看它是否会在提交时重新加载元素，但没有。看演示。输入数据，然后提交。然后它使数据“永久”，以便它可以继续可编辑。

我删除了隐藏按钮的代码。

我想要它做的是，提交记录并重置，以便我可以提交另一个表单为“空”并返回默认值。

我正在开发一个设备跟踪器，如果技术人员可以一个接一个地输入记录，我会很高兴。我确定它是重置表单的简单修复，我只是无法弄清楚。

我附上了它的截屏视频。

[http://www.youtube.com/watch?v=dPDuQCgOOSw](http://www.youtube.com/watch?v=dPDuQCgOOSw)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-26T15:07:42.237

由于这是一个流行的问题，我在文档中添加了重置按钮。

```
$('#reset-btn').click(function() {
    $('.myeditable').editable('setValue', null) //clear values
        .editable('option', 'pk', null)         //clear pk
        .removeClass('editable-unsaved');       //remove bold css

    $('#save-btn').show();
    $('#msg').hide();
}); 
```

最好使用`.editable('setValue', null)`而不是`.text('Empty')`因为我们还需要重置内部值。
高温高压

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:51:54.533

如果您查看“保存新用户`button`”是如何实现的，它只会选择具有类名的锚标签`myeditable`

您可以将函数绑定到“重置”按钮或使用此脚本`onclick`

```
IF onclick:

jQuery.each($('.myeditable'),function() { 
    $(this).text('Empty') ; //this is your default text
});

OR as a function

function reset_myeditable()
{
    jQuery.each($('.myeditable'),function() { 
        $(this).text('Empty') ; //this is your default text
    });
} 
```

并将其附加到`onclick`您的按钮的处理程序`reset`我假设您将放置一个“重置”按钮

编辑

好的放大到你的`$('#save-btn').click(function() success handler`

```
 success: function(data, config) {
    if(data && data.id) {  //record created, response like {"id": 2}

    $(this).editable('option', 'pk', data.id);
    //remove unsaved class
    $(this).removeClass('editable-unsaved');
    //show messages
    var msg = 'New user created! Now editables submit individually.';
    $('#msg').addClass('alert-success').removeClass('alert-error').html(msg).show();
    $('#save-btn').hide(); 
    $(this).off('save.newuser'); 

/**this the edited part**/
  jQuery.each($('.myeditable'),function() { 
     $(this).text('Empty') ; //this is your default text
  });
/**end of edit**/      

} else if(data && data.errors){ 
           //server-side validation error, response like {"errors": {"username": "username already exist"} }
           config.error.call(this, data.errors);
       }               
   }, 
```

# mysql - 为什么我的 testlink 安装会遇到这个 MySQL 错误？

> ID：14036338
> 
> 赞同：0
> 
> 时间：2012-12-26T05:29:16.630
> 
> 标签：mysql, testlink

我已经在本地机器上配置了 testlink。从“结果”菜单中选择“基于需求的报告”时，一切正常，显示以下内容`DB Access Error`。

```
 DB Access Error - debug_print_backtrace() OUTPUT START 

 ============================================================================== 

#0  database->exec_query(SELECT id FROM xp_executions WHERE  tcversion_id=(SELECT id FROM xp_nodes_hierarchy  WHERE parent_id='0') ORDER BY id DESC LIMIT 0,1, -1) called at [D:\wamp\www\testlink\lib\functions\database.class.php:535]
#1  database->fetchRowsIntoMap(SELECT id FROM xp_executions WHERE  tcversion_id=(SELECT id FROM xp_nodes_hierarchy  WHERE parent_id='0') ORDER BY id DESC LIMIT 0,1, id, 1) called at [D:\wamp\www\testlink\lib\results\resultsReqs.php:103]

 ============================================================================== 
```

我在谷歌上搜索了`DB Access Error - debug_print_backtrace() OUTPUT START`错误，但没有找到任何解决方案。

我的主要问题是什么是`debug_print_backtrace()`错误，为什么会出现？其次是如何删除它？

# php - 如何解决此代码中的未定义变量错误？

> ID：14036340
> 
> 赞同：-2
> 
> 时间：2012-12-26T05:29:31.920
> 
> 标签：php

```
<html>

<body>
<form action="upload.php" method="post"
enctype="multipart/form-data">
<label for="file">Filename:</label>
<input type="file" name="file_field"><br>
<input type="submit" name="submit" value="Submit">
</form>

</body>
</html> 
```

我收到如下错误消息：

```
Notice: Undefined variable: file_field in C:\xampp\htdocs\upload.php on line 113 
```

我尝试`$file_field`在页面顶部进行定义，但问题是我没有在 MySQL 数据库中获取文件名，而是得到了只是`Array`并且我还收到以下错误：

```
Notice: Array to string conversion in C:\xampp\htdocs\upload.php on line 114 
```

有人知道吗？帮助。

```
<?php

function uploadFile ($file_field = null, $check_image = false, $random_name = false) {

//Config Section    
//Set file upload path
$path = 'c:/xampp/htdocs/images/'; //with trailing slash
//Set max file size in bytes
$max_size = 1000000;
//Set default file extension whitelist
$whitelist_ext = array('jpg','png','gif');
//Set default file type whitelist
$whitelist_type = array('image/jpeg', 'image/png','image/gif');

//The Validation
// Create an array to hold any output
$out = array('error'=>null);

if (!$file_field) {
$out['error'][] = "Please specify a valid form field name";           
}

if (!$path) {
$out['error'][] = "Please specify a valid upload path";               
}

if (count($out['error'])>0) {
return $out;
}

//Make sure that there is a file
if((!empty($_FILES[$file_field])) && ($_FILES[$file_field]['error'] == 0)) {

// Get filename
$file_info = pathinfo($_FILES[$file_field]['name']);
$name = $file_info['filename'];
$ext = $file_info['extension'];

//Check file has the right extension           
if (!in_array($ext, $whitelist_ext)) {
$out['error'][] = "Invalid file Extension";
}

//Check that the file is of the right type
if (!in_array($_FILES[$file_field]["type"], $whitelist_type)) {
$out['error'][] = "Invalid file Type";
}

//Check that the file is not too big
if ($_FILES[$file_field]["size"] > $max_size) {
$out['error'][] = "File is too big";
}

//If $check image is set as true
if ($check_image) {
if (!getimagesize($_FILES[$file_field]['tmp_name'])) {
$out['error'][] = "Uploaded file is not a valid image";
}
}

//Create full filename including path
if ($random_name) {
// Generate random filename
$tmp = str_replace(array('.',' '), array('',''), microtime());

if (!$tmp || $tmp == '') {
$out['error'][] = "File must have a name";
}     
$newname = $tmp.'.'.$ext;                                
} else {
$newname = $name.'.'.$ext;
}

//Check if file already exists on server
if (file_exists($path.$newname)) {
$out['error'][] = "A file with this name already exists";
}

if (count($out['error'])>0) {
//The file has not correctly validated
return $out;
} 

if (move_uploaded_file($_FILES[$file_field]['tmp_name'], $path.$newname)) {
//Success
$out['filepath'] = $path;
$out['filename'] = $newname;
return $out;
} else {
$out['error'][] = "Server Error!";
}

} else {
$out['error'][] = "No file uploaded";
return $out;
}      
}
$con = mysql_connect("localhost","root","");
if (!$con)
{
die('Could not connect: ' . mysql_error());
}
mysql_select_db("simple_login", $con);

mysql_query("INSERT INTO photo (photo)
VALUES ('$file_field')");

mysql_close($con);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:42:31.927

$file_field 在其范围之外被调用

如果要解决此问题，请使用 global 关键字

```
global $file_field 
```

请阅读[PHP Global](http://php.net/manual/en/reserved.variables.globals.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:56:51.250

You Should use `$_FILES['file_field']` instead of `$file_field`.

it's not needed to pass `$file_field` variable to function.

**Modified Version of Your Code**

```
function uploadFile ($check_image = false, $random_name = false) {

//Config Section    
//Set file upload path
$path = 'c:/xampp/htdocs/images/'; //with trailing slash
//Set max file size in bytes
$max_size = 1000000;
//Set default file extension whitelist
$whitelist_ext = array('jpg','png','gif');
//Set default file type whitelist
$whitelist_type = array('image/jpeg', 'image/png','image/gif');

//The Validation
// Create an array to hold any output
$out = array('error'=>null);

if (!$_FILES['file_field']) {
$out['error'][] = "Please specify a valid form field name";           
}

if (!$path) {
$out['error'][] = "Please specify a valid upload path";               
}

if (count($out['error'])>0) {
return $out;
}

//Make sure that there is a file
if((!empty($_FILES['file_field']['name'])) && ($_FILES['file_field']['error'] == 0)) {

// Get filename
$file_info = pathinfo($_FILES['file_field']['name']);
$name = $file_info['filename'];
$ext = $file_info['extension'];

//Check file has the right extension           
if (!in_array($ext, $whitelist_ext)) {
$out['error'][] = "Invalid file Extension";
}

//Check that the file is of the right type
if (!in_array($_FILES['file_field']["type"], $whitelist_type)) {
$out['error'][] = "Invalid file Type";
}

//Check that the file is not too big
if ($_FILES['file_field']["size"] > $max_size) {
$out['error'][] = "File is too big";
}

//If $check image is set as true
if ($check_image) {
if (!getimagesize($_FILES['file_field']['tmp_name'])) {
$out['error'][] = "Uploaded file is not a valid image";
}
}

//Create full filename including path
if ($random_name) {
// Generate random filename
$tmp = str_replace(array('.',' '), array('',''), microtime());

if (!$tmp || $tmp == '') {
$out['error'][] = "File must have a name";
}     
$newname = $tmp.'.'.$ext;                                
} else {
$newname = $name.'.'.$ext;
}

//Check if file already exists on server
if (file_exists($path.$newname)) {
$out['error'][] = "A file with this name already exists";
}

if (count($out['error'])>0) {
//The file has not correctly validated
return $out;
} 

if (move_uploaded_file($_FILES['file_field']['tmp_name'], $path.$newname)) {
//Success
$out['filepath'] = $path;
$out['filename'] = $newname;
return $out;
} else {
$out['error'][] = "Server Error!";
}

} else {
$out['error'][] = "No file uploaded";
return $out;
}      
}
$con = mysql_connect("localhost","root","");
if (!$con)
{
die('Could not connect: ' . mysql_error());
}
mysql_select_db("simple_login", $con);

mysql_query("INSERT INTO photo (photo)
VALUES ('{$_FILES[file_field][tmp_name]}')");
/*
it's better to save it like this :
$content = file_get_contents($_FILES['file_field']['tmp_name']);
$content = base64_encode($data);
$content = mysql_real_escape_string($content);
mysql_query("INSERT INTO photo (photo)
VALUES ('{$content}')");
// but you can later use base64_decode() to convert data.
*/

mysql_close($con);
?> 
```

# php - 结合 mysql 中的两个表以获得最近的活动功能

> ID：14036341
> 
> 赞同：1
> 
> 时间：2012-12-26T05:29:34.087
> 
> 标签：php, mysql

在我的页面中，我有一个名为“最近的活动”的选项卡，我必须在其中显示两种不同类型的操作

*   最近添加的选择
*   最近投票的选择

je_addchoice 的表结构

je_addpoll 表

```
poll_id | user_id | poll_name | category_id | start_date | end_date

  1     |   20    |Naturalflrs|    18       | 2012-12-03 | 2095-12-25 
```

je_addchoice 表

```
choice_id | poll_id | choice_creator_id | choice_name | choice_image | description | ctime

     1    |    1    |        20         |  Greenish   | forest.jpg   | forest      |135453 
```

je_user_vote 表

```
vote_id | user_id | poll_id | choice_id | datetime_voted | user_type

  12    |  31     |    1    |   1       |12-12-2606:23:17|  normal 
```

我已经有结果页面显示如下

![显示最近添加的选项](../Images/a6772dd863fafbd5b10420122b085c4f.png)

使用查询显示以上结果

```
$result=mysql_query("SELECT * FROM je_addchoice, je_addpoll where je_addpoll.start_date <= '$check_date' AND je_addpoll.end_date >='$check_date'  AND je_addpoll.poll_id=je_addchoice.poll_id order by je_addchoice.choicecreationtime desc"); 
```

两张表

1) je_addpoll（民意调查的主表）

2) je_addchoice（为投票添加选项）

但我在这里要做的是如果任何用户投票支持投票，它将存储到

je_user_vote 表如上所示。

我想在同一选项卡中显示最近投票的选项

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:45:44.330

试试这个

使用之前`desc`的订单`datetime_voted``je_addchoice.choicecreationtime desc`

像这样。

```
$result=mysql_query("SELECT * FROM (SELECT P.poll_id,P.user_id,P.poll_name,P.category_id,P.start_date,P.end_date,C.choice_id,C.choice_creator_id,C.choice_name,C.choice_image,C.description,C.ctime FROM je_addchoice C, je_addpoll P where P.start_date <= '$check_date' AND P.end_date >='$check_date'  AND P.poll_id=C.poll_id order by C.choicecreationtime desc) N,je_user_vote U WHERE U.poll_id=N.poll_id order by U.datetime_voted desc,N.choicecreationtime desc"); 
```

或者

```
$result=mysql_query("SELECT N.poll_id,N.user_id,N.poll_name,N.category_id,N.start_date,N.end_date,N.choice_id,N.choice_creator_id,N.choice_name,N.choice_image,N.description,N.ctime FROM (SELECT P.poll_id,P.user_id,P.poll_name,P.category_id,P.start_date,P.end_date,C.choice_id,C.choice_creator_id,C.choice_name,C.choice_image,C.description,C.ctime FROM je_addchoice C, je_addpoll P where P.start_date <= '$check_date' AND P.end_date >='$check_date'  AND P.poll_id=C.poll_id order by C.choicecreationtime desc) N,je_user_vote U WHERE U.poll_id=N.poll_id order by U.datetime_voted desc,N.choicecreationtime desc"); 
```

# python - 使用python将文件拆分为许多其他文件

> ID：14036344
> 
> 赞同：2
> 
> 时间：2012-12-26T05:29:52.980
> 
> 标签：python, python-3.x, python-2.7

我有一个文件，我想将其拆分为许多其他部分。我想使用python代码...

eg：我文件中的数据是这样的

```
>2165320 21411 200802 8894-,...,765644-
TTCGGAGCTTACTAATTTTAAATATGAAGAATGCCAATATAAGTTTTGATTTCGAAAATACTTTTTTACTAGTTAAAAATTCATGATTTTCTACATCTATAACAATTTGTGTTTTTTTTAAACATCTTCCAGTGTCCTAAGTGTATATTTTTTAACGCAATGTTTGAATACTTTTAGGGTTTACCTTATTTAATTTGATTTTTAATGTGAGTTGTAATCACTGGTGAGCATACTGTTTTTCTTTTGTTCAGTAATATTGCATTTGTAGCTTTTGTATTGCTTAGATATATCACATTAAATCCTTTGTTCAGAAACCCATCCGACAGGGAGTCATAGGTGCCACACTAGTGGTCGAGGATCTAGGATGTCGGAAGGTCAACAATGGGGTAAAACACTAATTTTTTAATTTCTTGTATTTACCAAATTTACTGATTTTGCATTTAGTAGATGGTATATATACTCTTCTACCTTGTACAGTTGATGGTACCTGACTAAATATGTTTTATTTCCTTCTCCAGGATCTTTATGTAGTACGATTCTACAGTCGTCAAGAGGAGGGTAGAAAAGGAGAAGTAAGTTATAATATTTCTGAGCTTTTTTCTTTTTAATTGTTGTTGATAGAAAGTTGTGCCATATACATGTTTTAAGGTGGTGTA

>2165799 14641 135356 16580+,...,680341-
AAGGTAGGAGGTACTCGTGCTAATGGAGGAGCTAATGGTACACCAAACCGACGGCTGTCACTTAATGCTCATCAAAACGGAAGCAGGTCCACAACAAAAGATGGAAAAAAAGACATCAGACCAGTTGCTCCTGTGAATTATGTGGCCATATCAAAAGAAGATGCTGCTTCCCATGTTTCTGGTACCGAACCAATCCCGGCATCACCCTAATAATGAGATCTTCATTATCAACCCTACAATTTCATCTTTGTAGCATGATCAAATACTAGTTACTGCTTTAGGAATTATAATATGGAGTGACAAGTAATTAGAGAGGAACTGTTTTGAGCTGTGTATGTTCAATTTGCCATTTGGAGGTTTTCTCAATACATGTGCCCTTTAATATGAAAATATAGTGCTATTCTTGCCTTTCTCCAAACCCTGGCTCCTCCTATTCATCGGTTTCTT

>2169677 23891 1928391 1298391,…..,739483-
CTAGCTGATCGAGCTGATCGTAGTGAGCTATCGAGCTGACTACTAGCTAGTCGTGATAGCTGATCGAGCTGACTGATGTGCTAGTAGTAGTTTCATGATTTTCTACATCTATAACAATTTGTGTTTTTTTTAAACATCTTCCAGTGTCCTAAGTGTATATTTTTTAACGCAATGTTTGAATACTTTTAGGGTTTACCTTATTTAATTTGATTTTTAATGTGAGTTGTAATCACTGGTGAGCATACTGTTTTTCTTTTGTTCAGTAATATTGCATTTGTAGCTTTTGTATTGCTTAGATATATCACATTAAATCCTTTGTTCAGAAACCCATCCGACAGGGAGTCATAGGTGCCACACTAGTGGTCGAGGATCTAGGATGTCGGAAGGTCAACAATGGGGTAAAACACTAATTTTTTAATTTCTTGTATTTACCAAATTTACTGATTTTGCATTTAGTAGATGGTATATATACTCTTCTACCTTGTACAGTTGATGGTACCTGACTAAATATGTTTTATTTCCTTCTCCAGGATCTTTATGTAGTACGATTCTACAGTCGTCAAGAGGAGGGTAGAAAAGGAGAAGTAAGTTATAATATTTCTGAGCTTTTTTCTTTTTAATTGTTGTTGATAGAAAGTTGTGCCATATACATGTTTTA 
```

等等。

所以现在我想将文件从 '>' sing 拆分为下一个文件，并将其存储在一个单独的文件中。

像第一个文件一样

```
>2165320 21411 200802 8894-,...,765644-
TTCG…..GTA 
```

数据。

第二个文件将有

```
>2165799 14641 135356 16580+,...,680341-
AAGG….GTTTCTT 
```

数据等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:36:23.970

看来您的数据只是换行符分隔，因此您需要做的就是遍历行并将非空白行写入递增文件：

```
with open("source.txt") as f:
    counter = 1
    for line in f:
        if not line.strip():
            continue
        with open("out_%03d.txt" % counter, 'w') as out:
            out.write(line)
        counter += 1 
```

这将假设每个组实际上都是一条长线（我不清楚真正的格式）。

因为你没有给我们太多关于这个文件的真实格式的解释，这里有另一个选项，以防它们真的是应该在同一个文件中的行之间的换行符。如果“@”是一个新组的可靠指示符，我们可以用它来表示一个新文件：

```
with open("source.txt") as f:
    counter = 1
    out = None 

    for line in f:
        if line.lstrip().startswith("@"):
            if out is not None:
                out.close()
            out_name = "out_%03d.txt" % counter
            counter += 1
            out = open(out_name, 'w')

        out.write(line)

    if out is not None:
        out.close() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:31:03.533

要将每个空行分隔的行组写入单独的文件，您可以使用[`itertools.groupby()`](http://docs.python.org/2/library/itertools.html#itertools.groupby)：

```
#!/usr/bin/env python
import sys
from itertools import groupby

def blank(line, mark=[0]):
    if not line.strip(): # blank line
       mark[0] ^= 1 # mark the start of new group
    return mark[0]

for i, (_, group) in enumerate(groupby(sys.stdin, blank), start=1):
    with open("group-%03d.txt" % (i,), "w") as outfile:
        outfile.writelines(group) 
```

用法：

```
$ python split-on-blank.py < input_file.txt 
```

如果您经常使用此类格式；考虑使用适当的解析器，例如[`Bio.SeqIO.parse()`](http://biopython.org/wiki/SeqIO)由 biopython 提供的函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:24:03.133

```
with open("source.txt") as f:        
     counter = 1
     for line in f:
        if counter % 3 == 0：
            continue
        with open("out_%03d.txt" % counter, 'w') as out:
            out.write(line)
        counter += 1 
```

# php - 仅在输入框不为空时验证输入

> ID：14036345
> 
> 赞同：1
> 
> 时间：2012-12-26T05:30:07.947
> 
> 标签：php, jquery, joomla2.5

我有一个不需要验证的文件输入框。但是如果输入框不为空，那么我希望执行文件类型和文件大小的验证。

```
jQuery(document).ready(function(){

jQuery.validator.addMethod("accept", function(value, element, param) {
    return value.match(new RegExp("." + param + "$"));
});

jQuery.validator.addMethod('filesize', function(value, element, param) {
    return this.optional(element) || (element.files[0].size <= param) 
});

jQuery('#adminform').validate({

    rules: {

        resume: {
                required: false,
                accept: "(doc|docx|pdf)",
                filesize: 1024 //1048576
        }
    },
......................
    resume: {
        accept: "File type not supported",
        filesize: "File cannot be more than 1MB!"
    }, 
```

现在的问题是，即使我不提供任何输入并将其留空，我也会执行**“接受”**规则，即我收到消息**“不支持文件类型”**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:50:02.683

试试这个..非空检查确保如果字段留空，则不会执行验证

```
$('input[type="file"]').on("change", function() { 
if ($this.val() !== '') { 
    //do validation stuff here!!
} 
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:35:19.200

如果这有帮助，试试这个：

```
$("#commentForm").validate({
rules: {
    name: "required",
    file: "required",
    name: {
        required: true,
        minlength: 2
    },
    file: {
        required: false,
        minlength: 5
    }
},
messages: {
    name: {
        required: "Please enter a username",
        minlength: "Your username must consist of at least 2 characters"
    },
    file: {
        required: "Please select a file",
        minlength: "Your password must be at least 5 characters long"
    }
},
submitHandler: function(form) {
    if ($('#cfile').val() != "") {
        $("#commentForm").validate({
            rules: {
                file: "required",
                file: {
                    required: true,
                    minlength: 5
                }
            },
            messages: {
                file: {
                    required: "Please select a file"
                }
            }
        });
        $(form).submit();
    } else {
        alert('file missing.');
    }
}

}); 
```

# c - 如何分配内存来存储 5 个名称而不浪费 1 个字节

> ID：14036346
> 
> 赞同：2
> 
> 时间：2012-12-26T05:30:07.933
> 
> 标签：c, string, malloc

我想在不浪费 1byte 的情况下存储 5 个名称，那么如何使用 malloc 分配内存

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T05:32:51.627

出于所有实际目的，这是*不可能*的，`malloc`通常会返回比请求更大的内存块。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:56:37.180

If you know the cumulative length of the five names, let's call it `length_names`, you could do a

`void *pNameBlock = malloc(length_names + 5);`

Then you could store the names, null terminated (the +5 is for the null termination), one right after the other in the memory pointed to by `pNameBlock`.

`char *pName1 = (char *) pNameBlock;`

Store the name data at *pName1\. Maybe via `char *p = *pName1;` You can then write byte by byte (following is pseudo-codeish).

`*p++ = byte1;`
`*p++ = byte2;`
etc.

End with a null termination:

`*p++ = '\0';`

Now set

`char *pName2 = p;`

and write the second name using `p`, as above.

Doing things this way will still waste some memory. Malloc will internally get itself more memory than you are asking for, but it will waste that memory only once, on this one operation, getting this one block, with no overhead beyond this once.

Be very careful, though, because under this way of doing things, you can't free() the `char *`s, such as `pName1`, for the names. You can only free that one pointer you got that one time, `pNameBlock`.

If you are asking this question out of interest, ok. But if you are this memory constrained, you're going to have a very very hard time. malloc does waste some memory, but not a lot. You're going to have a hard time working with C this constrained. You'd almost have to write your own super light weight memory manager (do you really want to do that?). Otherwise, you'd be better off working in assembly, if you can't afford to waste even a byte.

I have a hard time imagining what kind of super-cramped embedded system imposes this kind of limit on memory usage.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T08:55:55.803

```
#include <stdio.h>
#include<stdlib.h>
int main()
{
    int n,i,c;
    char *p[5];/*declare a pointer to 5 strings for the 5 names*/
    for(i=0;i<5;i++)
    {
        n=0;
        printf("please enter the name\n" );/*input name from the user*/
        while((c=getchar())!='\n')
        n++;/*count the total number of characters in the name*/

        p[i]= (char *)malloc(sizeof(char)*n);/*allocate the required amount of memory for a name*/
        scanf("%s",p[i]);
    }
    return 0;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-27T15:54:01.753

您必须采用双指针概念，然后必须逐个字符地输入您的名称，并增加指针地址，然后您就可以保存所有 5 个名称，这样您就可以节省内存。

但是作为程序员，您不应该使用这种乏味的任务，您必须使用指针数组来存储名称，并且必须逐步分配内存。这仅适用于存储名称的概念，但是如果您要处理大量数据，则必须使用链接列表来存储所有数据。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-26T09:48:09.903

如果您不想浪费任何字节来存储名称，则应在 C 中动态分配一个双精度数组（char）。

C 中的双精度数组可以实现为指向指针列表的指针。

```
char **name; // Allocate space for a pointer, pointing to a pointer (the beginning of an array in C)
name = (char **) malloc (sizeof(char *) * 5); // Allocate space for the pointer array, for 5 names
name[0] = (char *) malloc (sizeof(char) * lengthOfName1); // Allocate space for the first name, same for other names
name[1] = (char *) malloc (sizeof(char) * lengthOfName2);
.... 
```

现在，您可以将名称保存到数组中的相应位置，而无需分配更多空间，即使名称可能具有不同的长度。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-26T05:35:10.927

当你 malloc 一个块时，它实际上分配的内存比你要求的多一点。这个额外的内存用于存储信息，例如分配块的大小。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-26T05:40:29.143

将名称编码为二进制并将它们存储在字节数组中。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-12-26T06:01:04.620

What is "memory waste"? If you can define it clearly, then a solution can be found.

For example, the null in a null terminated string might be considered "wasted memory" because the null isn't printed; however, another person might not consider it memory waste because without it, you need to store a second item (string length).

When I use a byte, the byte is fully used. Only if you can show me how it might be done without that byte will I consider your claims of memory waste valid. I use the nulls at the ends of my strings. If I declare an array of strings, I use the array too. Make what you need, and then if you find that you can rearrange those items to use less memory, decide that the other way wasted some memory. Until then, you're chasing a dream which you haven't finished.

If these five "names" are assembly jump points, you don't need a full string's worth of memory to hold them. If the five "names" are block scoped variables, perhaps they won't need any more memory than the registers already provide. If they are strings, then perhaps you can combine and overlay strings; but, until you come up with a solution, and a second solution to compare the first against, you don't have a case for wasted / saved memory.

# asp-classic - 使用 Classic ASP 将图像上传到服务器并将其路径保存在数据库中

> ID：14036347
> 
> 赞同：-2
> 
> 时间：2012-12-26T05:30:12.107
> 
> 标签：asp-classic, image-uploading

我对 ASP 经典很陌生，并且被分配了与图像上传相关的任务。我要做的是我需要将图像文件上传到服务器上，然后将其相应的路径保存在数据库中。如何实现这一点。任何帮助都感激不尽。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T17:16:45.347

查看[http://blog.offbeatmammal.com/post/2005/11/19/Upload-and-resize-and-image-in-ASPNET.aspx](http://blog.offbeatmammal.com/post/2005/11/19/Upload-and-resize-and-image-in-ASPNET.aspx)以获取将文件上传到服务器的示例。上传后，您可以获取分配的文件名并将其存储在您的数据库表中

# java - 在 JAVA 中跨线程统一拆分目录中的文件

> ID：14036353
> 
> 赞同：0
> 
> 时间：2012-12-26T05:30:57.063
> 
> 标签：java, multithreading, file-io

我在一个目录中有一个可变的文件列表，并且我在 Java 中有不同的线程来处理它们。线程是可变的，取决于当前的处理器

```
int numberOfThreads=Runtime.getRuntime().availableProcessors();

File[] inputFilesArr=currentDirectory.listFiles(); 
```

如何跨线程统一拆分文件？如果我做简单的数学，比如

```
int filesPerThread=inputFilesArr.length/numberOfThreads 
```

`inputFilesArr.length`那么如果和`numberOfThreads`不能完全被彼此整除，我可能最终会丢失一些文件。什么是这样做的有效方法，以便所有线程的分区和负载是统一的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:45:54.530

这是对这个问题的另一种看法：

1.  使用 java 的`ThreaPoolExecutor`. [这是一个例子](http://www.javacodegeeks.com/2011/12/using-threadpoolexecutor-to-parallelize.html)。
2.  它的工作原理是**线程池**（*您不需要每次都创建线程，而是在开始时创建指定数量的线程并使用池中的线程*）
3.  想法是将*目录中每个文件的处理视为独立的任务*，由每个线程执行。
4.  现在，当您将所有任务提交给循环执行器时（*这确保没有遗漏任何文件*）。
5.  Executor 实际上会将所有这些任务添加到**队列**中，同时它会从线程池中提取线程**并将任务分配给它们，**直到所有线程都忙。
6.  它一直**等到**一个线程可用。所以在这里配置线程池大小是至关重要的。您可以拥有与文件数量一样多的线程，也可以拥有比该数量更少的线程。

在这里，我*假设*要处理的每个文件都是相互独立的，并且不需要单个线程处理特定的一堆文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:35:03.893

您可以使用循环算法获得最佳分布。这是伪代码：

```
ProcessThread t[] = new ProcessThread[Number of Cores];
int i = 0;
foreach(File f in files)
{
    t[i++ % t.length].queueForProcessing(f);
}

foreach(Thread tt in t)
{
    tt.join();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T06:35:08.517

生产者消费者模式将优雅地解决这个问题。让一个生产者（主线程）将所有文件放在一个绑定的阻塞队列中（参见[BlockingQueue](http://docs.oracle.com/javase/7/docs/api/index.html?java/util/concurrent/BlockingQueue.html)）。然后让一些工作线程从队列中取出一个文件并处理它。

工作（而不是文件）将均匀分布在线程上，因为处理完一个文件的线程会要求处理下一个文件。这避免了一个线程只分配大文件来处理，而其他线程只分配小文件来处理的可能问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T05:53:18.150

您可以尝试获取每个线程的文件范围（inputFilesArr 中的开始和结束索引）：

```
if (inputFilesArr.length < numberOfThreads)
        numberOfThreads = inputFilesArr.length;

int[][] filesRangePerThread = getFilesRangePerThread(inputFilesArr.length, numberOfThreads); 
```

和

```
private static int[][] getFilesRangePerThread(int filesCount, int threadsCount)
{
    int[][] filesRangePerThread = new int[threadsCount][2];

    if (threadsCount > 1)
    {
        float odtRangeIncrementFactor = (float) filesCount / threadsCount;
        float lastEndIndexSet = odtRangeIncrementFactor - 1;
        int rangeStartIndex = 0;
        int rangeEndIndex = Math.round(lastEndIndexSet);

        filesRangePerThread[0] = new int[] { rangeStartIndex, rangeEndIndex };

        for (int processCounter = 1; processCounter < threadsCount; processCounter++)
        {
            rangeStartIndex = rangeEndIndex + 1;
            lastEndIndexSet += odtRangeIncrementFactor;
            rangeEndIndex = Math.round(lastEndIndexSet);
            filesRangePerThread[processCounter] = new int[] { rangeStartIndex, rangeEndIndex };
        }
    }
    else
    {
        filesRangePerThread[0] = new int[] { 0, filesCount - 1 };
    }

    return filesRangePerThread;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-26T06:47:21.230

如果您正在处理 I/O，即使使用一个处理器，多个线程也可以并行工作，因为当一个线程正在等待 read(byte[]) 时，处理器可以运行另一个线程。

无论如何，这是我的解决方案

```
int nThreads = 2;
File[] files = new File[9];
int filesPerThread = files.length / nThreads;

class Task extends Thread {
    List<File> list = new ArrayList<>();
                // implement run here
}

Task task = new Task();
List<Task> tasks = new ArrayList<>();
tasks.add(task);
for (int i = 0; i < files.length; i++) {
    if (task.list.size() == filesPerThread && files.length - i >= filesPerThread) {
        task = new Task();
        tasks.add(task);
    }
    task.list.add(files[i]);
}
for(Task t : tasks) {
    System.out.println(t.list.size());
} 
```

印刷 `4 5`

请注意，如果您有 3 个文件和 5 个处理器，它将创建 3 个线程

# symfony - SonataNewsBundle 实体关系定义

> ID：14036362
> 
> 赞同：0
> 
> 时间：2012-12-26T05:31:54.547
> 
> 标签：symfony

我正在尝试创建一个与 SonataNewsBundle Post 实体有关系的新实体。但是我在源代码中找不到任何示例如何在 xml 中定义关系映射。我已经阅读了 Resources/config/doctrine 下的所有配置，它们都没有实体关系映射。或者也许奏鸣曲使用其他方法来定义关系？给我一些线索。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:38:56.770

啊……找到了……

它在 DependencyInjection 中。

对不起这个蹩脚的问题

# ruby - Ruby goliath 非阻塞服务器映射

> ID：14036363
> 
> 赞同：1
> 
> 时间：2012-12-26T05:31:59.420
> 
> 标签：ruby, routing, mapping, goliath

我正在尝试 goliath 非阻塞红宝石服务器。

对于我的应用程序，我需要创建至少 2 条已定义的路线，比如说“/call_one”和“/call_two”，每个地图应该以不同的方式响应。

Goliath 文档提到了[地图](http://postrank-labs.github.com/goliath/doc/Goliath/API.html#map-class_method)功能，这正是我所需要的。但它不再存在于[source](https://github.com/postrank-labs/goliath/blob/master/lib/goliath/api.rb)中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T13:26:25.870

确实，它已被删除，但您并不真正需要它。您可以安装并运行通用映射器 gem（记住 Goliath 几乎与机架兼容），例如[https://github.com/joshbuddy/http_router](https://github.com/joshbuddy/http_router)

或者您可以检查环境变量以查看 RACK 为您提供的内容并进行正确的路由，例如

```
class MyServer < Goliath::API    
  def response(env)
    case env['PATH_INFO']
      when '/action_1'
        [200, {}, "Action 1 Response"]
      when '/action_2'
        [200, {}, "Action 2 Response"]
      when '/'
        [200, {}, "Root Action"]
      else
        raise Goliath::Validation::NotFoundError
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-21T01:30:56.573

该路由器已从 Goliath 中删除，因为它导致了许多棘手的边缘情况。Goliath 的初衷是一种路由，一种 API。因此，我们前面有 Nginx 或 HAProxy，它们将路由到正确的 Goliath API 服务器（通常每个路由都有一堆 Goliath 服务器）。

对我们来说，这是最好的解决方案，因为它允许我们更新任何 API 服务器而不影响其他任何服务器。

# javascript - How to implement load more function in android using phonegap?

> ID：14036364
> 
> 赞同：5
> 
> 时间：2012-12-26T05:31:59.420
> 
> 标签：javascript, android, jquery, cordova, jquery-mobile

I have an application in which i am displaying items coming from service. Here i have around 200 items to display which is some what hard to see.

Here i want to display load more functionality by displaying first 20 and on click of load more it will show next 20 and so on. I am not able to find a way to how to implement this if anyone has idea please help me.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T13:07:20.300

Loading 200 items and storing them is not a good approach with phonegap/cordova. We are talking about already slow HTML5 + JS wrapper, this will make it even more slow.

Better approach would be to use a ajax to load more data, ajax call will be triggered when you reach a listview end or when a "load new content" button is clicked.

Here you will find an approach with "load new content" button:

[http://jsfiddle.net/knuTW/2/](http://jsfiddle.net/knuTW/2/)

Here you will find an approach with auto loading listview when listview end is reached:

http://jsfiddle.net/dhavaln/nVLZA/

This example requires this jQuery plugin: [http://imakewebthings.com/jquery-waypoints/](http://imakewebthings.com/jquery-waypoints/)

And here's my example with auto loading listview and $.ajax in commbination:

[http://jsfiddle.net/Gajotres/v4NxB/](http://jsfiddle.net/Gajotres/v4NxB/)

Code example, and I repeat this is only a dummy example (still working dummy example):

```
// load test data initially
for (i=0; i < 10; i++) {
    $("#list").append($("<li><a href=\"index.html\"><h3>" + i + "</h3><p>z</p></a></li>"));
}
$("#list").listview('refresh');

// load new data when reached at bottom
$('#footer').waypoint(function(a, b) {
    // Load some dynamic data with $.ajax
   $.ajax({url: "http://api.themoviedb.org/2.1/Movie.search/en/json/23afca60ebf72f8d88cdcae2c4f31866/The Goonies",
        dataType: "jsonp",
        jsonpCallback: 'successCallback',
        async: true,
        beforeSend: function() {
            $.mobile.showPageLoadingMsg(true);
        },
        complete: function() {
            $.mobile.hidePageLoadingMsg();
        },
        success: function (result) {
            ajax.parseJSONP(result);
        },
        error: function (request,error) {
            //alert('Network error has occurred please try again!');
        }
    });    
    $('#footer').waypoint({
        offset: '100%'
    });
}, {
    offset: '100%'
});

var ajax = {  
    parseJSONP:function(result){
        //var jsonObj = jQuery.parseJSON(parameters);
        $("#list").append('<li>Movie name:<span> ' + result[0].original_name+ '</span></li>');
        $("#list").append('<li>Popularity:<span> ' + result[0].popularity + '</span></li>');
        $("#list").append('<li>Rating:<span> ' + result[0].rating+ '</span></li>');
        $("#list").append('<li>Overview:<span> ' + result[0].overview+ '</span></li>');
        $("#list").append('<li>Released:<span> ' + result[0].released+ '</span></li>');        
        $("#list").listview('refresh');
    }
} 
```

You also need to prevent another $.ajax call before last one is over.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:38:40.297

Though I am not much familiar with Phonegap along with Shared Preferences, but little bit of research efforts let me know that there is no direct way to use shared preferences in phonegap(as far as I could search).

*   If you still want to use Shared preferences in Phonegap, you need to add plugin for it.
*   The other way I could find is to use [Local Storage using HTML5 and JSON](http://www.mobiledevelopersolutions.com/home/start/twominutetutorials/tmt4p3).
*   The other way is to implement a database using Lawnchair. YOu will find a good solution [here](https://stackoverflow.com/a/7650123/1626878) and [here](http://blog.digitalbackcountry.com/2011/10/using-lawnchair-for-data-storage-in-phonegap/)
*   and one of the most efficient way I found so far is [Webkit Client side Databse Storage](https://www.webkit.org/blog/126/webkit-does-html5-client-side-database-storage/). It would somehow be a good match for your problem.

# algorithm - 采访：建议一种优化插入、删除和随机值生成的数据结构

> ID：14036365
> 
> 赞同：5
> 
> 时间：2012-12-26T05:32:04.017
> 
> 标签：algorithm, data-structures

建议一个可以优化以下所有 3 个操作的数据结构：

1.  插入
2.  删除
3.  从一组现有值中返回一个随机值

假设您要输入整数/数字。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-26T05:38:42.877

所有三个操作的动态数组 + Hashmap = O(1)

*   插入

追加到数组 O(1) 的尾部，并将值索引对添加到 Hashmap O(1)。

*   删除

通过 Hashmap 中的值找到索引 O(1)，通过数组中的索引删除并将最后一个元素交换到插槽 O(1)，并更新（曾经是）最后一个元素的值索引对O(1)。

*   返回随机

为数组 O(1) 生成一个随机索引。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T09:00:55.143

python中的O（1）：

```
from collections import defaultdict
from random import choice

class DataStructure(list):
    def __init__(self):
        self.values = []
        self.locations = defaultdict(list)

    def add(self, val):
        i = len(self.values)
        self.locations[val].append(i)
        self.values.append(val)
        assert self.values[i] == val

    def delete(self, val):
        locations = self.locations[val]
        if locations:
            i = locations.pop()
            self.values[i] = self.values[-1]
            self.values.pop()

    def random(self):
        return choice(self.values)

ds = DataStructure()

ds.add(3)
ds.add(5)
print ds.random()
print ds.random()
print ds.random()
print ds.random()
ds.delete(5)
print ds.random()
ds.delete(3)

"""
5
3
3
5
3
""" 
```

[查看 List 和 Dict 操作的时间复杂度以确认](http://wiki.python.org/moin/TimeComplexity)

（注意 pop 是 O(1)，因为我们从列表的末尾弹出）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-26T15:30:03.220

使用具有[开放寻址](http://en.wikipedia.org/wiki/Hash_table#Open_addressing)的哈希表。必要时通过重新散列将负载因子保持在 α 和 β 之间。为了避免振荡，重新散列到 α 和 β 之间的某个值。大多数开放散列方案的实现都要求表的大小合适，例如 2 或素数的幂。α 和 β 的典型值可能是 0.25 和 0.75，目标负载因子为 0.5。

除非负载因子接近 1，否则打开寻址的哈希表是 O(1) 查找，并且指数调整大小是摊销的 O(1)，因此插入是摊销的 O(1)。处理删除的最简单方法是惰性删除：已删除的元素被标记为已删除但未删除，因此可以在插入期间覆盖它们。同样，指数调整大小是摊销 O(1)，删除操作本身仅取决于查找。

随机选择完全绕过了散列机制，只是随机插入底层数组，直到找到未删除的记录。由于负载因子至少为 α，因此预期的刺入次数最多为 1/α，同样为 O(1)。

# c++ - “内联”函数定义的目的是什么？

> ID：14036366
> 
> 赞同：4
> 
> 时间：2012-12-26T05:32:37.037
> 
> 标签：c++

> **可能重复：**
> [C++ 中内联函数的好处？](https://stackoverflow.com/questions/145838/benefits-of-inline-functions-in-c)

和有什么区别

```
#include <iostream>
using namespace std;
int exforsys(int);
void main( )
{
        int x;
        cout << "n Enter the Input Value: ";
        cin>>x;
        cout << "n The Output is: " << exforsys(x);
}

int exforsys(int x1)
{
        return 5*x1;
} 
```

和

```
#include <iostream>
using namespace std;
int exforsys(int);
void main( )
{
        int x;
        cout << "n Enter the Input Value: ";
        cin>>x;
        cout << "n The Output is: " << exforsys(x);
}

inline int exforsys(int x1)
{
        return 5*x1;
} 
```

这两个定义对于我猜的代码来说是一样的，那么使用内联函数定义有什么好处呢？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-26T05:41:42.717

该`inline`关键字向编译器**建议**内联函数。通常，当调用函数时，寄存器的当前内容会`pushed`（复制）到内存中。一旦函数返回，它们就会被`popped`（复制回来）。

这需要一点时间，尽管通常如此之少以至于无论函数做什么都会使函数调用开销相形见绌。有时，当一个非常小的函数在紧密循环中每秒调用数千次时，所有这些函数调用的组合函数调用开销会加起来。在这些情况下，程序员可以向编译器建议，而不是在该循环中调用函数，而是将函数的内容直接放入循环中。这避免了开销。

一些编译器，尤其是 Microsoft Visual C++，会忽略该`inline`关键字。微软相信他们的优化器足够聪明，知道什么时候应该内联一个函数。对于那些你*真的*想要内联函数的情况，微软和其他供应商有时会提供一个专有的，“不，我是认真的！” 关键词。在 Visual C++ 的情况下，`__forceinline`如果我没记错的话。然而，如果优化器非常强烈地认为内联该函数是一个坏主意，即使这一点仍然可以忽略。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-26T05:40:43.877

由于编译器足够聪明，可以决定哪些函数会从*内联*中受益，哪些不会，因此`inline`唯一真正的效果是更改函数*链接*。默认情况下，`inline`函数具有*外部链接*。

`inline` *关键字*只是对编译器的建议。编译器可以决定*内联*未声明的函数`inline`，或者不*内联*声明的函数`inline`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T05:34:56.123

好吧，内联函数的代码在编译时被放置在它的使用处。因此，它的执行速度有点快，源代码长度仍然很小。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T05:36:26.517

当您调用内联函数时，预处理器不会将执行控制权转移到该函数，而是将所有此类函数调用替换为实际的函数代码。在 C++ 中，当您在类中定义函数时，默认情况下它是内联的，前提是它没有循环语句。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-26T05:46:57.107

来自[C++ 语言规范](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2005/n1905.pdf)7.1.2

> 带有 inline 说明符的函数声明声明了一个内联函数。inline 说明符向实现表明，在调用点对函数体进行内联替换优于通常的函数调用机制。

这意味着实现可以用方法体代替方法调用，从而避免了正常方法调用过程中通常发生的开销。但内联替换不是强制性的，它是特定于实现的。

> 在调用点执行此内联替换不需要实现；然而，即使省略了这个内联替换，7.1.2 中定义的内联函数的其他规则仍应遵守

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-26T05:38:01.720

内联函数调用实际上被内联函数本身所取代。

这优雅而简单地解释了它。 [http://www.cprogramming.com/tutorial/lesson13.html](http://www.cprogramming.com/tutorial/lesson13.html)

维基百科文章也很有帮助。 [http://en.wikipedia.org/wiki/Inline_function](http://en.wikipedia.org/wiki/Inline_function)

# javascript - 为什么在向 DOM 添加文本时使用变量？

> ID：14036373
> 
> 赞同：2
> 
> 时间：2012-12-26T05:33:28.457
> 
> 标签：javascript

我对网络开发很陌生，我一直在做一些我在网上找到的 JavaScript 练习。其中一个要求提示用户输入名字和姓氏并将这些名字添加到文档中。

在研究这一点时，我发现使用了很多变量的代码。我的解决方案是这样的：

```
var el = document.getElementById("welcome");
var txt = fullName;
var node = document.createTextNode(txt);
el.appendChild(node);
    };

greet() 
```

我玩了一下，发现这行得通：

```
document.getElementById("welcome").appendChild(document.createTextNode(fullName)); 
```

[您可以在jsFiddle](http://jsfiddle.net/mPscp/)看到我的原始解决方案。我还在 HTML 中添加了说明。

我的问题是为什么大多数 tuts 都建议放入变量？这是最佳实践吗？为什么？

哦，如果你去那里，有人能告诉我为什么我的订购清单没有数字吗？jsFiddle 是否在其 CSS 上使用重置？

注意：我不确定是否需要将其放入函数中，但现在，将所有内容放入一个盒子中有助于我保持井井有条。

感谢您的帮助戴夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:40:08.067

变量可以为值“命名”。这些名称 - 可以，但并非总是 - 使代码更具自我描述性并且更易于遵循。不幸的是，示例中的变量名是一个很好的描述性名称的坏例子，但是..

（请考虑这个）

```
var welcomeElm = document.getElementById("welcome");
var titleElm = document.createTextNode(fullname);
welcomeElm.appendChild(titleElm);
// and maybe also do something else too ..
// (no need to re-evaluate getElementById)
welcomeElm.className = "available"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:41:00.513

如果您不止一次需要“document.getElementById("welcome")”，则使用变量是一个好习惯。

它将减小您的页面大小，从而使您的页面运行得更快。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T05:41:38.347

并不是说你需要在代码中使用很多变量，只是你是一个初学者，而且作者通常不会使用超级编程技能来教初学者，因为当你学习时，你可以让你的代码更强大、更短、更很聪明。因此，如果您在学习时编写了更好的代码，那么您的学习速度似乎要快得多...使用变量来保存值通常是一种好习惯..但是当然，如​​果您足够聪明，可以在不使用太多的情况下完成工作其中没有害处...这是一个简单的示例，您实际上并不需要 2 个变量

```
var a = 5, b = 5;
var result = a + b;

alert(result); //Results 10 
```

可以简单地写成

```
var total = 5 + 5;
alert(total); //Results 10 too 
```

但是再次使用第二种方法时，您可能不会在`var total`任何地方使用，并且每次需要结果时都需要自己更改值，因此最好创建足够的变量，这将使您更容易修改代码并相应地使用数据

对于另一个问题，是的 jsfiddle 会重置 CSS

如果您不想重置元素，只需取消选中*Normalized CSS*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-26T05:43:26.417

变量用于在代码中存储值。如果您使用代码而不将它们存储在变量中，那么您将很难操作数据。与您的代码一样，您使用了提示符。如果您没有在变量中创建它，那么您如何获得用户输入的值和 Javascript 中的变量可以帮助我们不编写大代码并节省我们的时间！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-26T05:47:50.010

使用它们的几个原因，尽管我怀疑这里的情况。

## 自我记录。

```
var title = "Program crashed";
var msg = "Program crashed";
do_alert(title, msg); 
```

## 更容易调试：（代码根据注释略有更改）

```
var step1 = long_complex_function();
alert(step1);
//console.log(step1);

var step2 = long_other_calcuation;
alert.log(step2);
//console.log(step2);

do_major_func(step1, step2); 
```

# php - 将 php 结果添加到 URL 的末尾

> ID：14036379
> 
> 赞同：0
> 
> 时间：2012-12-26T05:34:16.573
> 
> 标签：php, url-redirection

我试图`event id`从下面的示例中获取模板末尾的*标头 URL*`test.html`。有人可以告诉我我做错了什么吗？

这是我的代码：

```
<?php
header("Location: templatetest.html?.$row['event_id']."); 

mysql_connect("xxxx", "xxxx", "xxxx") or die(mysql_error());
mysql_select_db("xxxx") or die(mysql_error());

$result = mysql_query("SELECT a.* FROM events a INNER JOIN (SELECT id_user, MAX(event_id) as maxID FROM events GROUP BY id_user) b ON a.id_user = b.id_user AND a.event_id = b.maxID WHERE a.id_user = '$test'")
or die(mysql_error()); 

// store the record of the "example" table into $row
while($row = mysql_fetch_array($result)){
};    
?> 
```

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T05:37:32.993

在您订购、付款并收到它之前，您不能吃掉您的汉堡包。编程也是一样。移动你`header`的`$row = mysql_fetch_array($result)`. 只要确保您在此期间不打印任何内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T05:37:52.000

存在语法错误：

```
header("Location: templatetest.html?.$row['event_id']."); 
```

应该是：

```
header("Location: templatetest.html?".$row['event_id']); 
```

虽然`$row`将是未定义的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T05:37:48.110

至少：

```
header("Location: templatetest.html?{$row['event_id']}"); 
```

但是您***可能***~~需要~~ 一个 url 参数，即 (?something= *)*

# javascript - 带有 FrameSet 的 Tinymce 不起作用？

> ID：14036390
> 
> 赞同：1
> 
> 时间：2012-12-26T05:35:39.900
> 
> 标签：javascript, html, tinymce, frameset

我在我的项目中使用附带 Textarea 的 tinymce。它工作得很好。但是当文本区域在框架集内时，它不起作用。这是框架集中 textarea 的小代码片段。只要我删除框架集，它就可以工作（只需从下面的代码片段中删除框架集标签，它就可以工作）。我没有得到我在这里缺少的东西

```
<html>
<head>
     <script type="text/javascript" src="script/jquery-1.7.1.js"></script>
     <SCRIPT type="text/javascript" src="script/jquery-ui-1.8.13.custom.min.js"></SCRIPT>
     <script type="text/javascript" src="tinymce/jscripts/tiny_mce/tiny_mce.js" ></script>
     <SCRIPT type="text/javascript">
     $(function() {
     appendTinyMCE();
    function appendTinyMCE(){
     tinyMCE.init({
        mode : "textareas",
        theme : "advanced",
        plugins : "advlist",
         theme_advanced_buttons1 : "forecolor,backcolor,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect,sub,sup,|,bold,italic,underline,strikethrough",
        theme_advanced_buttons2 : "",
        theme_advanced_buttons3 : "",
        theme_advanced_toolbar_location : "top",
        theme_advanced_toolbar_align : "left",
        theme_advanced_statusbar_location : "bottom",
        theme_advanced_resizing : true

});}

});
</script>
</head>
<frameset framespacing="0" border="1" frameborder="1" cols="50%,50%">
<frame scrolling="NO"  name="checkPanel">
</frame>
<frameset rows="18%,*">
<frame scrolling="NO" noresize="" src="about:blank" name="heading">
<frame id="spellBody" scrolling="NO" noresize="" src="about:blank" name="preview" style="display: none;" aria-hidden="true">
<html>
<body>
<textarea style="width: 100%;" name="bodyTest" rows="20"><font face="Arial, Helvetica, sans-serif" size=2><p>This is my Test Text</p><BR> <p> </p><BR> <p><strong>Thanks and Regards</strong></p><BR> <p><font color=blue><strong>Scott</strong></font> Miles</p></textarea>
</body>
</html>
</frame>
</frameset>
</frameset>
</html> 
```

**我不确定是否需要做一些额外的配置才能使 tinymce 与 Frameset 一起使用？如果我可以将tinymce与frame而不是textArea绑定，我也很好，如果可能的话？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T13:57:43.933

最快的解决方案是将所有 javascript 移动到 Frameset HTML 的头部。`tinyMCE.init()`将适用于当前文档中的所有文本区域，但 Frameset（或 iframe）的内容被视为不同的文档，或者至少具有不同的`document`对象。

# python - 如何获取 DataFrame.pct_change 来计算每日价格数据的每月变化？

> ID：14036397
> 
> 赞同：11
> 
> 时间：2012-12-26T05:37:27.093
> 
> 标签：python, pandas

我知道可以用这个`periods`论点来抵消，但是如何将分布在一个月内（例如交易日）的每日价格数据返回化？

示例数据是：

```
In [1]: df.AAPL
2009-01-02 16:00:00    90.36
2009-01-05 16:00:00    94.18
2009-01-06 16:00:00    92.62
2009-01-07 16:00:00    90.62
2009-01-08 16:00:00    92.30
2009-01-09 16:00:00    90.19
2009-01-12 16:00:00    88.28
2009-01-13 16:00:00    87.34
2009-01-14 16:00:00    84.97
2009-01-15 16:00:00    83.02
2009-01-16 16:00:00    81.98
2009-01-20 16:00:00    77.87
2009-01-21 16:00:00    82.48
2009-01-22 16:00:00    87.98
2009-01-23 16:00:00    87.98
...
2009-12-10 16:00:00    195.59
2009-12-11 16:00:00    193.84
2009-12-14 16:00:00    196.14
2009-12-15 16:00:00    193.34
2009-12-16 16:00:00    194.20
2009-12-17 16:00:00    191.04
2009-12-18 16:00:00    194.59
2009-12-21 16:00:00    197.38
2009-12-22 16:00:00    199.50
2009-12-23 16:00:00    201.24
2009-12-24 16:00:00    208.15
2009-12-28 16:00:00    210.71
2009-12-29 16:00:00    208.21
2009-12-30 16:00:00    210.74
2009-12-31 16:00:00    209.83
Name: AAPL, Length: 252 
```

如您所见，简单地偏移 30 不会产生正确的结果，因为时间戳数据中存在间隙，并非每个月都是 30 天，等等。我知道必须有一种使用 pandas 的简单方法来做到这一点。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-12-26T10:54:56.750

您可以将数据重新采样到营业月。如果您不想要平均价格（这是 中的默认值`resample`），您可以使用关键字参数使用自定义重新采样方法`how`：

```
In [31]: from pandas.io import data as web

# read some example data, note that this is not exactly your data!
In [32]: s = web.get_data_yahoo('AAPL', start='2009-01-02',
...                             end='2009-12-31')['Adj Close']

# resample to business month and return the last value in the period
In [34]: monthly = s.resample('BM', how=lambda x: x[-1])

In [35]: monthly
Out[35]: 
Date
2009-01-30     89.34
2009-02-27     88.52
2009-03-31    104.19
...
2009-10-30    186.84
2009-11-30    198.15
2009-12-31    208.88
Freq: BM

In [36]: monthly.pct_change()
Out[36]: 
Date
2009-01-30         NaN
2009-02-27   -0.009178
2009-03-31    0.177022
...
2009-10-30    0.016982
2009-11-30    0.060533
2009-12-31    0.054151
Freq: BM 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-06-26T01:46:32.707

我在使用 pct_change 函数时也偶然发现了这个错误，并想在这个问题上提供我的两分钱。

pct_change 函数的 freq 参数似乎只接受固定周期的时间偏移，例如“2D”和“3D”。然而，“M”是一个不确定的时间段，可以在 28 天到 31 天之间。所以这就是错误的来源。

Pct_change 的操作类似于 rolling() 函数，并且使用带有 rolling() 的“M”时间偏移会得到相同的错误。

这是在 pct_change 参数中使用 freq 参数的工作示例：

将 pandas_datareader.data 导入为网络

```
return.pct_change(periods = 1, freq = '2D')

Date
2008-03-26         NaN
2008-03-27         NaN
2008-03-28   -0.010342
2008-03-31         NaN
2008-04-01         NaN
            ... 
```

# memory - 如何修复 NSMutableString 中的内存泄漏？

> ID：14036399
> 
> 赞同：0
> 
> 时间：2012-12-26T05:37:36.120
> 
> 标签：memory, memory-leaks, nsmutablestring

当我通过仪器检查内存泄漏时，它显示 NSMutableString 上的泄漏。这是泄漏的代码，

![在此处输入图像描述](../Images/edbe68de05c095b045ed8e4693c25b62.png)

66.7% 是什么意思..？如何解决这个泄漏。？

调用树中显示的第二种方法是

![在此处输入图像描述](../Images/be9acaa484365ee2b8dc51d42e152889.png)

首先显示 createEnvelope 方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:48:50.167

这不是内存泄漏，但你是对的，内存中的许多字符串操作，可能导致内存碎片，至少是不良的内存行为，请参阅`autorelease`。

用于`stringWithCapacity`以足够的空间进行初始化，因此不会发生重新分配。

风格问题：也许在这里使用 NSString。

# html - 在 index.php 或 single.php 中使用微数据？

> ID：14036406
> 
> 赞同：0
> 
> 时间：2012-12-26T05:38:59.890
> 
> 标签：html, wordpress, microdata

我正在使用 wordpress，现在想在我的帖子中使用微数据。

但我很困惑我应该在 index.php 上使用它们还是在 single.php 中使用它们？

（例如作者姓名、评级、作者图片……）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:42:44.823

该`index.php`页面是您的 Wordpress 博客主页。 `single.php`是用户可以从您的主页单击的单个帖子。

在您的 single.php 页面上包含评级和作者信息可能很有意义。

# cmake - CMake - Eclipse CDT 4 项目集标志语法

> ID：14036407
> 
> 赞同：1
> 
> 时间：2012-12-26T05:39:05.007
> 
> 标签：cmake

我试图在我的 CMakelists.txt 中设置一个值，但我已经搜索了手册和谷歌，但无法为这个设置正确。

我试过了

```
SET (CMAKE_ECLIPSE_GENERATE_SOURCE_PROJECT ON) 
```

和

```
SET (CMAKE_ECLIPSE_GENERATE_SOURCE_PROJECT BOOL:ON) 
```

但似乎没有任何工作。这是我的 CMakeLists.txt 的摘录

```
#
#Eclipse Standards
#
SET (CMAKE_ECLIPSE_EXECUTABLE "/Applications/Eclipse/Eclipse.app/Contents/MacOS/eclipse")    
SET (CMAKE_ECLIPSE_GENERATE_SOURCE_PROJECT ON) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T12:05:55.497

您的第一次尝试应该可以正常工作。如果您还想指定变量的类型，则需要 的`CACHE`版本[`SET`](http://www.cmake.org/cmake/help/v2.8.10/cmake.html#command%3aset)，它看起来像

```
SET (CMAKE_ECLIPSE_GENERATE_SOURCE_PROJECT ON CACHE BOOL "Documentation of var") 
```

但是，问题更可能是变量设置正确，但没有效果。

这可能是因为您的 CMake 版本低于 2.8.7（首次实现此变量时，替换了 deprecated `ECLIPSE_CDT4_GENERATE_SOURCE_PROJECT`）。

另一个原因可能是该变量被设计为通过命令行设置，即

```
cmake . -DCMAKE_ECLIPSE_GENERATE_SOURCE_PROJECT=ON 
```

This will have a similar effect to setting the variable using the `CACHE` option above, but it will be set before any of the script in the CMakeLists.txt has run, especially before the `PROJECT` command, where much of the work in setting up the correct CMake variables is done.

# javascript - requireJs - 它真的有助于性能吗？

> ID：14036408
> 
> 赞同：0
> 
> 时间：2012-12-26T05:39:05.373
> 
> 标签：javascript, requirejs, client-side

我正在尝试决定是否在我的项目中使用[RequireJs 。](http://requirejs.org/)

我知道在 Chrome 和 Firefox 资产上并行下载，但按照它们的编码顺序执行..我认为大约有 8 次并行下载，所以每个文件都是单独缓存的，所以如果我更改一个文件，对网站来说会更好性能，因为其余部分保持不变并被缓存。那么，RequireJs 有什么大惊小怪的呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-06T13:48:36.360

所以，答案是，在我看来，RequireJs 不是关于性能，而是一个加载与 DOM 模块相关联的脚本的工具，完全分离事物。性能不是问题，我问错了问题。

# gmail - 为什么从一个 Gmail 批量发送到收件人 Gmail 的邮件会进入垃圾邮件？

> ID：14036417
> 
> 赞同：0
> 
> 时间：2012-12-26T05:40:43.000
> 
> 标签：gmail, spam-prevention, email-spam, bulk-mail

我有一个带有[http://www.myacademicproject.com](http://www.myacademicproject.com)的域，供我发送邮件的最后一年 IT 学生/实习学生使用。

我有一个 gmail 帐户`myacademicprojectweb@gmail.com`，我从那里向我所有的朋友和询问 Final Year Project 的学生发送邮件。当我向所有电子邮件 ID 发送邮件时，邮件会转到收件人 gmail 的垃圾邮件文件夹。我还将显示名称从 更改`Shekhar Shete`为`MyAcademicProject.com`。

有什么想法可以避免作为垃圾邮件吗？

帮助赞赏！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:55:18.360

验证[Google 批量发件人](https://support.google.com/mail/bin/answer.py?hl=en&answer=81126)指南可能会有所帮助。此外，[使用 gmail 和 google-docs 创建邮件合并](http://www.labnol.org/software/mail-merge-with-gmail/13289/)应该很有用。

# asp.net - 所有验证同时触发

> ID：14036419
> 
> 赞同：0
> 
> 时间：2012-12-26T05:40:58.280
> 
> 标签：asp.net, validation

我不确定这是否只是我对 ASP 中的验证器不熟悉，但我有一个注册页面，其中包含多个必填字段，每个字段都有一个 RequiredFieldValidator，以及一些其他验证。如果用户没有输入第一个必填字段，我的所有验证都会触发并且我的所有错误消息都会显示。必须有办法做到这一点，所以只有用户所在的文本框的验证才会出现？例如，如果用户在 5 个文本框的第一个上，我不希望在用户第一个文本框失败后弹出所有 5 个文本框的所有验证。

在那张纸条上，是否有在单击按钮后显示验证或验证摘要？我现在有一个验证摘要，但就像我的验证器一样，如果用户未通过一次验证，它会立即触发。我正在查看此示例，这就是我希望验证摘要的行为方式，但我似乎无法弄清楚他们在代码中是如何做到的：http: [//www.w3schools.com/aspnet/showasp。 asp?filename=demo_validationssum](http://www.w3schools.com/aspnet/showasp.asp?filename=demo_validationsum)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T09:40:59.277

您可以使用 javascript 警报或提示消息进行验证。它将为每个字段单独显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:39:51.887

不使用验证摘要，而是使用 ajax 控件工具包中提供的 ValidatorCalloutExtender 控件。

您只需为页面中的每个验证控件放置单独的 ValidatorCalloutExtender 控件，并将 ValidatorCalloutExtender 的 TargetControlID 属性设置为验证控件的 ID。

这将在标注弹出窗口中显示验证控件的错误消息。您必须将验证控件的显示属性设置为“无”。

# ruby - 无法从 Drupal Aurora 主题构建 CSS

> ID：14036425
> 
> 赞同：0
> 
> 时间：2012-12-26T05:41:50.700
> 
> 标签：ruby, drupal-7, gem

指南针手表

> > > 在 02:13:25 检测到更改为：style.scss 错误 sass/style.scss（sass/partials/global/_base.scss 的第 20 行：找不到或无法读取要导入的文件：aurora/susy-grid。加载路径： /Applications/MAMP/htdocs/txmo/sites/all/themes/txmo_aurora/sass /Users/davidfells/.rvm/gems/ruby-1.9.3-p362/gems/compass-0.12.2/frameworks/blueprint/stylesheets/用户/davidfells/.rvm/gems/ruby-1.9.3-p362/gems/compass-0.12.2/frameworks/compass/stylesheets Compass::SpriteImporter)

运行 Ruby 1.9.3，所有 gem 的最新版本与 JewelryBox 一起全新安装

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T16:52:07.050

如果其他人遇到这种情况，问题是我安装了“aurora”gem。卸载“aurora”允许“compass-aurora”按预期工作。

# sql - 验证 SQL 查询和结果集

> ID：14036427
> 
> 赞同：1
> 
> 时间：2012-12-26T05:42:05.790
> 
> 标签：sql, c#-4.0, azure, amazon-web-services, azure-sql-database

我正在开展一个教育项目，让学生测试他们的 SQL 技能；我们创建一些问题并要求学生解决这些问题。

问题来了：

1.  如何创建 SQL 问题？我的意思是，假设我让一个学生创建一个包含一些约束和数据类型的表，这个表将在哪里创建？在我的生产数据库中？我猜不会; 如果我将我的数据库暴露给最终用户 [邪恶]，他们会试图破坏它。
2.  如何验证结果集`[Create/Alter/Insert/Update/Rename]`？
3.  如何为不同用户的答案建立隔离？

我不知道[SQL Fiddle](http://sqlfiddle.com/)如何处理这些场景，但我的要求与 SQL Fiddle 相同。

我找到[了 Validation of Scripts](https://stackoverflow.com/questions/3276035/code-to-validate-sql-scripts)但这特定于 SQL Server，而且我的问题不限于一个平台（DBMS）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:05:40.403

如果您希望在 SQL 服务器中提供一个自由格式的窗口，允许学生执行查询但不破坏数据库（就像 SQL Fiddle 所做的那样），那么最简单的事情就是构建一个将他们的 SQL 作为输入并在事务中运行它。在执行时从每个查询中捕获结果集。在执行完他们的每一条 SQL 语句后，回滚事务；然后，他们的任何更改都不会提交给服务器。

如果您怀疑您的学生非常淘气并且会不惜一切代价破坏数据库（就像我对 SQL Fiddle 用户所做的那样），那么您将不得不提防显式事务提交，例如`commit transaction;`. 防范这种情况是高度特定于数据库的；我建议[在 github](https://github.com/jakefeasel/sqlfiddle)上查看我的代码，看看我如何保护 SQL Fiddle 的各种数据库（提示 - 最容易保护的服务器是 PostgreSQL；如果可以的话，请使用它）。您可能还会发现阅读我在 dba.se 上关于防止显式提交的问题很有趣：[禁用 JDBC 中的显式提交，在 SQL 中检测它们，或将数据库置于只读状态](https://dba.stackexchange.com/q/18971/5074)

# shell - 我正在尝试从“\abc\”之类的文件中删除 Windows 文件路径，但我不确定我需要在 unix 中使用哪个命令

> ID：14036430
> 
> 赞同：0
> 
> 时间：2012-12-26T05:42:41.937
> 
> 标签：shell, unix

我正在尝试从文件中删除 windows 文件路径，`"\abc\"`但我不确定我需要在 Unix 中使用哪个命令。

我试过`tr -d '\abc\'`了，但它不工作。还有其他我可以使用的命令吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:47:56.873

使用 sed：

```
echo 'c:\path1\abc\dir 2\file.txt' | sed 's/\\abc//' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T19:54:45.363

以下通常有效。bash 中有一个名为 basename 的函数，它会自动删除除文件名之外的所有内容

```
filename=$(basename "$fullfile") 
```

例子

> 基本名称（'C:/test/test.txt'）

产量

```
test.txt 
```

# authentication - 使用 JAAS 在 CAS 服务器上进行身份验证

> ID：14036437
> 
> 赞同：2
> 
> 时间：2012-12-26T05:43:46.323
> 
> 标签：authentication, cas, jaas

我正在尝试在 CAS 服务器上将 CAS 用于 SSO 和 JAAS。用户信息在数据库表上。我为 JAAS 创建了自己的 LoginModule，并在`jaas.conf`.
下面是`jaas.conf`文件。

我在下面添加了以下行`deployerConfigContext.xml`：

```
CAS   {
    com.usol.cas.sample.CasLoginModule required debug=true
    driver="com.mysql.jdbc.Driver"
    url="jdbc:mysql://linux.ssoserver/ssotest"
    user="cas"
    password="cas";
}; 
```

我发现`JaasAuthenticationHandler`不使用我的 CasLoginModule。

```
<bean class="org.jasig.cas.authentication.handler.support.JaasAuthenticationHandler" /> 
```

我在我的 java 源代码中写了`System.out.println`一行，但没有输出，我在 jaas.conf 文件中错误地更改了我的类名，`ClassNotFoundError`但没有发生错误。你觉得是什么原因？我无法解决我的问题。

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:44:44.593

检查我的代码..像魅力一样工作..

```
 <bean
                class="org.jasig.cas.authentication.principal.HttpBasedServiceCredentialsToPrincipalResolver" />
        </list>
    </property>

    <!--
        | Whereas CredentialsToPrincipalResolvers identify who it is some Credentials might authenticate, 
        | AuthenticationHandlers actually authenticate credentials.  Here we declare the AuthenticationHandlers that
        | authenticate the Principals that the CredentialsToPrincipalResolvers identified.  CAS will try these handlers in turn
        | until it finds one that both supports the Credentials presented and succeeds in authenticating.
        +-->
        <property name="authenticationHandlers">
        <list>

               <bean class="org.jasig.cas.authentication.handler.support.HttpBasedServiceCredentialsAuthenticationHandler" p:httpClient-ref="httpClient"></bean> 
```

用户主用户名用户密码

```
 </list>
        </property>
</bean>

  <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource">
    <property name="driverClassName">
            <value>net.sourceforge.jtds.jdbc.Driver</value>
    </property>

    <property name="url">
            <value>jdbc:jtds:sqlserver://localhost:port/db</value>
    </property>

    <property name="username">
            <value>1234</value>
    </property>

    <property name="password">
        <value>password</value>
    </property>
</bean> 
```

# ruby-on-rails - 购物车的客户端数据库 ID 持久化

> ID：14036438
> 
> 赞同：0
> 
> 时间：2012-12-26T05:43:53.730
> 
> 标签：ruby-on-rails, local-storage, client-side, shopping-cart

我正在构建一个客户端购物车。我已经在客户端保存了购物车详细信息（购买的物品）。在结帐期间，我必须将详细信息发送到用 rails 编写的应用程序服务器。我在客户端保存数据库“id”字段，该字段将被发送到服务器以识别产品。在客户端存储原始 id 字段是否存在任何安全问题？还是有更好的方法来处理这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T05:32:59.150

WebStorage（本地和会话）遵循[单一来源策略](http://www.w3.org/TR/webstorage/#cross-directory-attacks)。所以它是安全的，因为只有您的服务器和您的用户才能看到存储。

# java - 使用`CsvDozerBeanWriter`时如何告诉SuperCSV映射空的`String`属性？

> ID：14036441
> 
> 赞同：1
> 
> 时间：2012-12-26T05:44:17.600
> 
> 标签：java, csv, dozer, supercsv

我正在使用`CsvDozerBeanWriter`将 bean 实例写入 CSV 文件。遵循我在将 bean 写入 CSV 之前使用的[示例代码。](http://supercsv.sourceforge.net/examples_dozer.html)`CsvDozerBeanWriter#configureBeanMapping(...)`除非 bean 的`String`属性为空（而不是`null`），否则一切正常。我发现这样的属性`CsvDozerBeanData`在写之前并没有从bean复制到中间实例。这会导致异常，因为列数与单元处理器的数量不匹配。

深入研究我发现这`configureBeanMapping(...)`相当于将推土机的设置`map-empty-string`为`False`. 因此，所有*空*字符串都没有被映射（`null`字符串仍然被映射）。

我该如何克服呢？提供我自己的`DozerBeanMapper`（如[文档](http://supercsv.sourceforge.net/dozer.html)所述）是最好的方法吗？

## 更新：

以下是我得到的异常的详细信息：

```
 org.supercsv.exception.SuperCsvException: The number of columns to be processed (7) must match the number of CellProcessors (12): check that the number of CellProcessors you have defined matches the expected number of columns being read/written
context={lineNo=2, rowNo=2, columnNo=1, rowSource=[a, b, c, d, e, f, g]}
org.supercsv.exception.SuperCsvException: The number of columns to be processed (7) must match the number of CellProcessors (12): check that the number of CellProcessors you have defined matches the expected number of columns being read/written
context={lineNo=2, rowNo=2, columnNo=1, rowSource=[a, b, c, d, e, f, g]}
    at org.supercsv.util.Util.executeCellProcessors(Util.java:78)
    at org.supercsv.io.dozer.CsvDozerBeanWriter.write(CsvDozerBeanWriter.java:133) 
```

bean`String`具有`a`通过`l`. `h`通过的属性`l`是空字符串。

## 更新 2：

这是一个[测试用例](https://gist.github.com/4379763)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T10:32:35.180

如果`map-empty-string`被禁用，则传递给单元处理器的值应该是`null`（即，您很可能会从该列的处理器中收到一个错误，说明该值不应为空 - 不是处理器数量错误的例外）。如果您可以发布异常详细信息以澄清这一点，那就太好了:)

在使用 运行一些测试之后`CsvDozerBeanWriter`，看起来 Dozer 映射 API 已在 Dozer 5.4.0 中修复（请参阅[此](https://github.com/DozerMapper/dozer/commit/aaf62b8c4d025dd764d8b27b25289eb07f5e38ac)提交）。

*   在推土机 5.3.2`""`中映射到`null`

*   在推土机 5.4.0`""`中映射到`""`

不幸的是，没有关于 Dozer 5.4.0 的详细发行说明（并且在 GitHub 上没有创建任何问题 - 它们仍在从 SourceForge 迁移的过程中），以便更容易找到。

如果您可以升级到 Dozer 5.4.0，那应该可以解决您的问题。我计划在下一个版本（明年初）将 Super CSV 升级到 Dozer 5.4.0，但现在没有什么能阻止您覆盖从 Super CSV 继承的版本。

如果您由于某种原因被困在 Dozer 5.3.2 上，那么我建议您：

*   编写您自己的 Writer 扩展`CsvDozerBeanWriter`（但覆盖`configureBeanMapping()`提供`MappingBuilder`已`map-empty-string`启用的方法）

*   使用`CsvBeanWriter`（如果您不使用索引/深度映射）

仅供参考，我在 5.3.2 中遇到了映射 API 的另一个错误，这意味着我必须`map-null`在编写时在类级别而不是映射级别启用`CsvDozerBeanWriter`- 这也已在 5.4.0 中修复（尽管 Super CSV 可以在任一版本中正常运行推土机）。

# html - 如何根据用户所在的网址突出显示部分导航菜单？

> ID：14036442
> 
> 赞同：1
> 
> 时间：2012-12-26T05:44:17.750
> 
> 标签：html, ruby-on-rails, url, navigation

`_navigation.html.erb`我的文件夹中有一个部分调用`views/shared/`：

```
<ul>
    <li class="active">Home</li>
    <li>About</li>
</ul> 
```

使此导航菜单突出显示相应链接的“Rails”方式是什么？Rails 是否有办法确定当前 URL，**我什至应该使用它**吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T05:51:03.990

试试这个，

```
<ul>
  <li class=<%= "active" if params[:controller] == "home" %>>Home</li>
  <li>About</li>
</ul> 
```

如果您有多个菜单的相同控制器，那么您可以在条件中添加“动作”

```
<ul>
  <li class=<%= "active" if params[:controller] == "home" && params[:action] == "index" %>>Home</li>
  <li class=<%= "active" if params[:controller] == "home" && params[:action] == "about" %>>About</li>
</ul> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:14:41.760

试试这个 gem Active Link To。它会自动突出显示那些 [https://github.com/twg/active_link_to](https://github.com/twg/active_link_to)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T08:10:40.717

基本上，您`before_filter`在控制器中定义，此过滤器将根据 设置某个变量`action_name`，然后您可以使用该值来呈现`active`您想要激活的链接。[我在这里](https://stackoverflow.com/questions/14037552/current-controller-path-without-specifying-a-action-in-rails)回答了一个类似的问题。

# java - 如何在 Android OS 中通过 Java 访问设备驱动程序？

> ID：14036448
> 
> 赞同：1
> 
> 时间：2012-12-26T05:45:11.087
> 
> 标签：java, android, android-ndk, java-native-interface, linux-device-driver

我正在创建一个需要访问 Broadcomm 单芯片（集成 Wifi+蓝牙+FM）芯片 URL 的设备驱动程序的 Android 应用程序：[http ://www.broadcom.com/products/Wireless-LAN/802.11-Wireless-LAN-解决方案/BCM4334](http://www.broadcom.com/products/Wireless-LAN/802.11-Wireless-LAN-Solutions/BCM4334)。

Broadcomm 应该允许访问 Android 操作系统上的设备驱动程序，并开放其实现。

应用程序的功能无关紧要。

1）在Android中通过Java访问设备驱动程序的最佳方法是什么？

2) 使用 JNI 访问设备驱动程序是一种好方法吗？

3) 是否需要使用 NDK 或 SDK 是否足够，因为我只是在访问设备驱动程序而不是实际编写本机代码？

4）当我走这条路时，还有什么其他重要的建议吗？

另外，请仅在您开发过类似的应用程序或专家时才做出回应，我不想最终得到 50 种不同的意见，这会让我感到困惑。

太感谢了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T08:24:01.153

BCM4334 是 Wi-fi/BT 组合芯片，不包含 3G 调制解调器。

我不确定您所说的“访问设备驱动程序”是什么意思，Wi-fi 通过 android.net.wifi，蓝牙 - 通过 android.bluetooth 暴露，这确实是使用 Wi-fi 和 BT 的最佳方式Android - 通过公共 API。同样，我不清楚你想用驱动程序做什么，但很可能你的应用程序没有权限做任何有用的事情。

不同的驱动程序有不同的接口，例如 Wi-fi 驱动程序是通过基于 IOCTL 的 WE API 控制的（这将需要本机代码），但也有一组命令行工具（无线工具）可以从纯 Java 中使用，因此，根据您想要实现的目标，有多种选择。

但我想重申，Android 为 Wi-fi 和 BT 提供公共 API，我的建议是使用 Android API，而不是低级驱动程序接口。

# c++ - C++ WinApi：ReadDirectoryChangesW() 接收双重通知

> ID：14036449
> 
> 赞同：18
> 
> 时间：2012-12-26T05:45:12.380
> 
> 标签：c++, windows, winapi, visual-c++, file-io

我尝试了解**`ReadDirectoryChangesW`**功能，以便我可以有效地了解多个目录中的内容更改（文件被覆盖、文件删除、重命名等）。

我最近的观察之一是，对于每个文件**写入操作**，我总是收到**两个关于单个文件的通知**。

我非常仔细地追踪了这一点，我敢肯定，如果我覆盖一个文件（比如一个带有新内容的 .txt 文件 - 基本上里面有几个额外的字母），`ReadDirectoryChangesW()`每次保存该文件都会通知我两次。

这是一件严肃的事情，因为我希望每次更改只收到一次通知。我不希望无意中重复在我的应用程序中应该只发生一次的操作。

**这种行为是否已知？**请问有没有办法**每次更改只收到一个通知**？有没有办法有效**避免双重通知？**

我用：

*   非托管 C++
*   视觉工作室 2012
*   视窗 7 x64

我使用非常基本的代码来做我的测试，但你会想看看它，所以这里是：

```
HANDLE hDir = CreateFile(
    lpDir,
    FILE_LIST_DIRECTORY,
    FILE_SHARE_WRITE | FILE_SHARE_READ | FILE_SHARE_DELETE,
    NULL, 
    OPEN_EXISTING, 
    FILE_FLAG_BACKUP_SEMANTICS, 
    NULL);

    int nCounter = 0;
    FILE_NOTIFY_INFORMATION strFileNotifyInfo[1024];
    DWORD dwBytesReturned = 0;   

    while(TRUE)
    {
        if( ReadDirectoryChangesW ( hDir, (LPVOID)&strFileNotifyInfo, sizeof(strFileNotifyInfo), FALSE, FILE_NOTIFY_CHANGE_LAST_WRITE, &dwBytesReturned, NULL, NULL) == 0)
        {
            ErrorCheck(_T("Reading Directory Change"));
        }
        else
        {
            _tcout << _T("File Modified: ") << strFileNotifyInfo[0].FileName << endl;
            _tcout << _T("Loop: ") << nCounter++ << endl;
        }
    } 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-12-26T13:03:40.070

ReadDirectoryChangesW() 对文件系统的看法非常短视。它看到文件系统的*每一个*变化并尽职尽责地报告它们。是的，当您写入文件时，通常会有不止一个。它是您正在使用的特定文件系统的实现细节，但 Windows 中的任何常见文件系统也为存储文件元数据的文件保留目录条目。

因此，您会看到文件数据的写入。但是您**也会**看到它更改了目录条目。特别是文件大小，可能会在您写入文件并向文件添加数据时发生变化。以及记录在目录条目中的最后写入和最后访问时间戳。否则，api 对所做的更改视而不见，它只看到低级写入。它也完全不知道特定进程要求写入。

这是您必须处理的事情，无法区分这些写入。您所知道的只是“文件已更改”。如何，为什么，由谁以及多久是完全无法发现的。

您必须处理的其他事情是，在生成通知时，写入文件的进程很可能仍然锁定文件。这会阻止您自己对文件做任何有用的事情。像读取文件或复制它很可能会失败。您必须*等到*该过程完成文件并关闭其对文件的句柄。除了尝试自己打开文件并拒绝任何共享之外，没有办法发现这一点。这需要一个计时器，定期尝试自己获取文件的锁定。一旦你的管道到位，获得多个文件的更改通知就不再重要了。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-12-26T06:40:32.353

这是在记事本中保存文件后与procmon同时记录运行代码的结果操作。有两个来自 ReadDirectoryChangesW() 的通知和两个来自 procmon 的通知。2 IRP_MJ_WRITE 1 来自记事本 (WriteFile) 1 来自系统缓存管理器 (CcWriteBehind) ![程序](../Images/08345cb023a5b362c2fba9b412bfe102.png)

# php - 通过亚马逊产品广告 API 获得子类别的销售排名

> ID：14036450
> 
> 赞同：2
> 
> 时间：2012-12-26T05:45:31.727
> 
> 标签：php, amazon-web-services, web-scraping, amazon

我正在使用亚马逊产品广告 API。我可以通过传递从 API 获取型号和销售排名`ResponseGroup=Large%2CSalesRank`。

但是它只显示顶级类别的销售排名。例如，A 产品在厨房和餐饮方面的亚马逊畅销书排名第二，在配饰方面排名 12,345。我只能获得 12,345 作为销售排名。

我怎样才能在厨房和餐饮类别价值中获得第二名？

# .net - 使用 .NET 将对象序列化为 XML 字符串

> ID：14036455
> 
> 赞同：0
> 
> 时间：2012-12-26T05:45:49.447
> 
> 标签：.net, xml, xml-serialization

我有一个要使用`XMLSerializer.serialize()`. 我已成功将对象序列化为 XML 字符串，然后将其写入文件，并且可以使用`XmlDocument.load()`.

但是现在，对象属性中的值包含`<`. serialize 函数成功序列化对象，但`XMLDocument.load()`读取文件失败，因为`<`发现格式错误。是否有任何功能可以替换对象中包含或`<`不替换它的任何属性值？或者还有另一种方法可以做到这一点？`>``&lt;``&gt;`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T09:32:23.473

生成的 XML 文件`XmlSerializer`应该是有效的 XML 文件，或者您在 .NET 框架中发现了一个错误（这不太可能发生，因为此类/方法非常流行）

所以，请检查生成的 XML 文件是否有可能被其他东西修改。如果是这样，您可能想要修复修饰符而不是手动更正 XML 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T08:09:08.680

是否可以使用 Regex.Replace() 在传递给序列化之前替换特殊字符？

另一种方法是使用 try-catch，然后在捕获错误时使用函数替换它。来源：[这里](http://support.microsoft.com/kb/316063)

# php - XDebug 忽略控制器中的断点

> ID：14036462
> 
> 赞同：4
> 
> 时间：2012-12-26T05:47:19.853
> 
> 标签：php, symfony, xdebug, phpstorm

我目前正在尝试在本地家庭服务器上使用 XDebug 调试 Symfony 2 驱动的应用程序。一切似乎都设置正确，因为我能够在 app_dev.php 文件中设置断点并相应地逐步执行它们。

但是，在包的控制器中设置的任何断点都会被忽略。

对应的网址是`http://myapp.local/product-name/`

有谁知道是什么导致断点被跳过？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-06T07:14:01.867

检查您的文件夹是否已符号链接。如果是 - 您应该在 IDE 中定义正确的路径。

也正如**LazyOne**所说**的 xdebug_break();** 即使在符号链接文件夹中也可以使用；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T19:02:55.260

> 有谁知道是什么导致断点被跳过？

没有什么。不跳过断点。此时代码只是不执行（在调试模式下）。

注意你有一个活跃的调试会话。

此外，如果您需要更具体的帮助，请发布有问题的代码（您可能在调试器不停止的行上设置了断点）以及您为调试执行的确切步骤。

# jquery - jquery.addClass() 无法添加具有不同值的现有属性

> ID：14036480
> 
> 赞同：1
> 
> 时间：2012-12-26T05:49:01.793
> 
> 标签：jquery

我有一个 div `style="display:none"`。在将鼠标悬停在链接上时，我想通过添加一个类来显示它，`display=block`但它不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T05:56:48.567

你需要`!important`在课堂上使用。[检查这个很棒的答案](https://stackoverflow.com/a/13746931/1723893)，看看是如何`!important`工作的

```
 /*html*/
 <div class="first" style="display:none;">sdfirst</div>
 <div class="second" >second</div>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​

  /*jquery*/   
  $(".second").mouseover(function() {

    $(".first").addClass("ss");
  })​

 /*css*/
​.ss{display:block !important;}​ 
```

[CSS 特殊性的细节](http://css-tricks.com/specifics-on-css-specificity/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:02:47.560

使用此代码

```
 <html>
      <head>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
      </head>
      <body><div id="main">
          Mouse Over (click here for event) 
          <div id="div1" style="display:none">hello how are you</div>
        </div><script>
      var i = 0;
      $('#main').mouseover(function() {
            $('#div1').css('display','block');

      }).mouseout(function(){
        $('#div1').css('display','none');
      });

    </script></body>
    </html> 
```

添加您可以使用的

```
 $('#div1').addClass("className"); 
```

# xml - 如何从 ipaddress 中检索天气信息

> ID：14036484
> 
> 赞同：0
> 
> 时间：2012-12-26T05:49:42.950
> 
> 标签：xml, yii, weather-api

我在 Yii+extjs 工作。我正在创建天气模块。我想从用户的 ipaddress 中检索天气信息。我从 website="http://www.geoplugin.com/examples" 获得了参考代码。正如那里提到的，我创建了getweather函数=

```
 public function actionGetWeather()
        {
            $user_ip = $_SERVER['REMOTE_ADDR'];
            //The Data Science Toolkit URL
            $url = 'http://www.datasciencetoolkit.org/ip2coordinates/';
            //Find the user's location from their IP.
            //*** You need the get_data function from the sample code
            $raw_geocode = json_decode( get_data( $url . $user_ip) );
            //Check if the user is in the US
            if ('US' === $raw_geocode->$user_ip->country_code) {
                //If yes, store their zip code in a variable, and print it
                $zip_code = $raw_geocode->$user_ip->postal_code;
                printf('<p>Your zip code is: %s</p>', $raw_geocode->$user_ip->postal_code);
            } else {
                //If the user isn't in the US, set a sip code that will work.
                $zip_code = '97211';
                //and print an error
                printf('<p>Sorry, this app does not work in %s.</p>', $raw_geocode->$user_ip->country_name);
            }

            //Print the raw data for debugging.
            printf('<pre>%s</pre>', print_r($raw_geocode, true));
        } 
```

我也在我的项目中包含了 ParseXml 类。但上面的代码给出的错误是致命错误：在“$raw_geocode = json_decode(get_data($url.$user_ip));”行调用未定义函数 get_data() getweather 函数。那么我需要什么改变？请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:39:52.213

如果您使用 curl，请将 get_data() 的定义包括为..

```
function get_data($url)
{
     $ch = curl_init();
     $timeout = 5;
     curl_setopt($ch,CURLOPT_URL,$url);
     curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);
     curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,$timeout);
     $data = curl_exec($ch);
     curl_close($ch);
     return $data;
} 
```

或者，只需更换

```
 $raw_geocode = json_decode( get_data( $url . $user_ip) ); 
```

和...

```
 $raw_geocode = json_decode(file_get_contents( $url . $user_ip) ); 
```

# c++ - 编译 Fast Light Toolkit (FLTK) 2.0 以与 fastHOG 一起使用

> ID：14036485
> 
> 赞同：1
> 
> 时间：2012-12-26T05:49:45.910
> 
> 标签：c++, gcc, image-processing, computer-vision, fltk

我正在尝试在我的 Ubuntu 12.04 计算机上建立一个名为[fastHOG](http://www.robots.ox.ac.uk/ActiveVision/Publications/prisacariu_reid_tr2310_09/prisacariu_reid_tr2310_09.html)[的定向梯度直方图库。](http://en.wikipedia.org/wiki/Histogram_of_oriented_gradients)当我尝试编译[现成的 fastHOG 代码](http://www.robots.ox.ac.uk/ActiveVision/Publications/prisacariu_reid_tr2310_09/fasthoglib.tar.gz)时，编译器抱怨它找不到。根据[Rahul Ashok 关于 fastHOG 的教程](http://www.cc.gatech.edu/grads/r/rashok6/fastHOG.html)，我需要安装[Fast Light Toolkit (FLTK) 2.0](http://www.fltk.org/software.php?VERSION=1.3.0&FILE=fltk/snapshots/fltk-2.0.x-alpha-r9296.tar.gz)。该教程说 2.0 以外的 FLTK 版本不起作用。`fltk/run.h`

所以，我正在尝试编译 FLTK 2.0 ( `svn co http://svn.easysw.com/public/fltk/fltk/trunk fltk-2.0`)。当我`make`在`fltk-2.0`文件夹中执行此操作时，会收到类似`undefined reference to 'FcInit'`.

**关于如何让 FLTK 2.0 正确编译的任何建议？**

这是我在 Ubuntu 12.04 上使用 g++ 4.6.3 构建 FLTK 2.0 时得到的完整错误打印输出：

```
...
Linking fluid2...
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::list_fonts(fltk::Font**&): error: undefined reference to 'FcInit'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::list_fonts(fltk::Font**&): error: undefined reference to 'FcPatternCreate'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::list_fonts(fltk::Font**&): error: undefined reference to 'FcObjectSetBuild'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::list_fonts(fltk::Font**&): error: undefined reference to 'FcFontList'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::list_fonts(fltk::Font**&): error: undefined reference to 'FcPatternDestroy'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::list_fonts(fltk::Font**&): error: undefined reference to 'FcPatternGetString'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::list_fonts(fltk::Font**&): error: undefined reference to 'FcFontSetDestroy'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::Font::sizes(int*&): error: undefined reference to 'FcPatternGetDouble'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::Font::sizes(int*&): error: undefined reference to 'FcFontSetDestroy'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::Font::encodings(char const**&): error: undefined reference to 'FcFontSetDestroy'
../lib/libfltk2.a(Font.o):Font.cxx:function fltk::Font::encodings(char const**&): error: undefined reference to 'FcPatternGetString'    ../lib/libfltk2.a(Image.o):Image.cxx:function figure_out_visual(): error: undefined reference to 'XRenderFindStandardFormat'
../lib/libfltk2.a(Image.o):Image.cxx:function fl_xrender_draw_image(unsigned long, fltk::PixelType, fltk::Rectangle const&, fltk::Rectangle const&): error: undefined reference to 'XRenderCreatePicture'
../lib/libfltk2.a(Image.o):Image.cxx:function fl_xrender_draw_image(unsigned long, fltk::PixelType, fltk::Rectangle const&, fltk::Rectangle const&): error: undefined reference to 'XRenderSetPictureFilter'
../lib/libfltk2.a(Image.o):Image.cxx:function fl_xrender_draw_image(unsigned long, fltk::PixelType, fltk::Rectangle const&, fltk::Rectangle const&): error: undefined reference to 'XRenderSetPictureTransform'
../lib/libfltk2.a(Image.o):Image.cxx:function fl_xrender_draw_image(unsigned long, fltk::PixelType, fltk::Rectangle const&, fltk::Rectangle const&): error: undefined reference to 'XRenderComposite'
../lib/libfltk2.a(Image.o):Image.cxx:function fl_xrender_draw_image(unsigned long, fltk::PixelType, fltk::Rectangle const&, fltk::Rectangle const&): error: undefined reference to 'XRenderComposite'
../lib/libfltk2.a(Image.o):Image.cxx:function fl_xrender_draw_image(unsigned long, fltk::PixelType, fltk::Rectangle const&, fltk::Rectangle const&): error: undefined reference to 'XRenderComposite'
../lib/libfltk2.a(Image.o):Image.cxx:function fl_xrender_draw_image(unsigned long, fltk::PixelType, fltk::Rectangle const&, fltk::Rectangle const&): error: undefined reference to 'XRenderFreePicture'
collect2: ld returned 1 exit status
make[1]: *** [fluid2] Error 1
make: *** [all] Error 2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:06:45.380

您最后的错误似乎表明您缺少`xrender`. 尝试使用安装它们[（](https://launchpad.net/ubuntu/+source/xrender/0.9.0-0ubuntu4)`apt-get`可能`sudo apt-get install libxrender-dev`并查看它是否解决了这些问题。

前几个错误同样表明您缺少[此库](http://freedesktop.org/software/fontconfig/fontconfig-devel/x102.html)的开发文件。尝试安装`libfontconfig1-dev`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-11T13:58:29.813

有点晚了，但只是为了完整性而添加。FLTK2 不是开箱即用的。

1) 需要以下软件包：获得它们后，重新运行配置。可能还有更多，因为我没有在处女系统上尝试过。

*   libglu1-台面开发
*   libice-开发
*   libjpeg62-dev
*   libpng12-dev
*   libx11-dev
*   libxcursor-dev
*   libxext-开发
*   libxft-dev
*   libxinerama-dev
*   libxi开发
*   台面通用开发
*   zlib1g-dev

2）在通过configure生成makeinclude之后修改它（或者修改config.in，但我还没有想出如何做到这一点）。

```
LDLIBS add -lfontconfig -lXrender
GDLIBS add -lfontconfig -lXrender -lfreetype 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-29T03:10:35.500

有趣的是——似乎已经成功构建了“足够”的 FLTK，以便 fastHOG 克服其编译错误。

# windows-phone-8 - WP8 - 不眨眼的手电筒 - 如何实现？

> ID：14036494
> 
> 赞同：0
> 
> 时间：2012-12-26T05:52:14.913
> 
> 标签：windows-phone-8

关于[尝试访问 Microsoft.Phone.Media.Extended 时的线程反射失败](https://stackoverflow.com/questions/13454422/wp8-reflection-api-issue-please-check)，我面临与闪光灯有关的问题。要修改，我想实现与打开闪光灯的[http://www.windowsphone.com/en-us/store/app/flashlight-x/2638b778-5eab-45f1-a511-a08e1dbde751](http://www.windowsphone.com/en-us/store/app/flashlight-x/2638b778-5eab-45f1-a511-a08e1dbde751)相同并且不停地眨眼。

* * *

根据上面的线程，我一直很好，但是在 WP8 中并使用 VideoTorchMode 来点亮但是；闪光灯启动并在一秒钟内停止。我想要一个持续亮着的灯，直到用户按下按钮。表示哪个用户点击，灯亮，不闪烁，用户点击关闭，灯灭。是否有任何我遗漏的属性，或者我使用完全错误的方法来实现像 flashlight-x 一样？任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T11:26:54.543

它可能只是 AudioVideoCaptureDevice 自行关闭。

您是否尝试过在该方法范围之外缓存 avDevice 变量以供以后使用？只需确保实例在您需要时不会超出范围。

# asp.net-mvc-3 - 在 MCV3 中发送 HTTP 标头后无法重定向

> ID：14036496
> 
> 赞同：0
> 
> 时间：2012-12-26T05:52:45.133
> 
> 标签：asp.net-mvc-3

我使用 jQuery`$.ajax`调用在 mvc3 中获取部分视图。同时我使用了 sessionfilter 来检查会话超时。一旦会话超时，它会返回登录页面，但登录页面显示在部分页面 div 中，而不是重定向到整个页面。我在 global.ascx 页面上尝试了下面的代码来修复它，但它不起作用。它抛出以下错误：

```
public override void OnActionExecuting(ActionExecutingContext filterContext)
        {
   filterContext.HttpContext.Response.Clear();
   filterContext.HttpContext.Response.Write("**custom error message**");
   filterContext.HttpContext.Response.StatusCode = 401;
   filterContext.HttpContext.Response.End();
} 
```

下面给出了例外情况

```
 at System.Web.HttpResponse.Redirect(String url, Boolean endResponse, Boolean permanent)
 at System.Web.HttpResponseWrapper.Redirect(String url, Boolean endResponse)
 at TransFlow.SessionExpireFilterAttribute.OnAuthorizationHelp(ActionExecutingContext filterContext) in D:\LocalSVN\INTELLAFLO\5_Source\branches\balasubramanian\TransFlow\TransFlow\Global.asax.cs:line 131
 at TransFlow.SessionExpireFilterAttribute.OnActionExecuting(ActionExecutingContext filterContext) in D:\LocalSVN\INTELLAFLO\5_Source\branches\balasubramanian\TransFlow\TransFlow\Global.asax.cs:line 120
 at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)
 at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass15.<>c__DisplayClass17.<InvokeActionMethodWithFilters>b__14()
 at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)
 at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass15.<>c__DisplayClass17.<InvokeActionMethodWithFilters>b__14()
 at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodWithFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
 at System.Web.Mvc.ControllerActionInvoker.InvokeAction(ControllerContext controllerContext, String actionName)
 at System.Web.Mvc.Controller.ExecuteCore()
 at System.Web.Mvc.ControllerBase.Execute(RequestContext requestContext)
 at System.Web.Mvc.ControllerBase.System.Web.Mvc.IController.Execute(RequestContext requestContext)
 at System.Web.Mvc.MvcHandler.<>c__DisplayClass6.<>c__DisplayClassb.<BeginProcessRequest>b__5()
 at System.Web.Mvc.Async.AsyncResultWrapper.<>c__DisplayClass1.<MakeVoidDelegate>b__0()
 at System.Web.Mvc.Async.AsyncResultWrapper.<>c__DisplayClass8`1.<BeginSynchronous>b__7(IAsyncResult _)
 at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
 at System.Web.Mvc.MvcHandler.<>c__DisplayClasse.<EndProcessRequest>b__d()
 at System.Web.Mvc.SecurityUtil.<GetCallInAppTrustThunk>b__0(Action f)
 at System.Web.Mvc.SecurityUtil.ProcessInApplicationTrust(Action action)
 at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
 at System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result)
 at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
 at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T09:02:58.003

您需要从操作过滤器或控制器进行重定向，而不是直接写入响应。这将避免您看到的页面布局问题。

# php - 使用正则表达式在 php 中匹配字符串

> ID：14036503
> 
> 赞同：-4
> 
> 时间：2012-12-26T05:53:59.633
> 
> 标签：php

> **可能重复：**
> [使用 php 进行字符串比较的正则表达式](https://stackoverflow.com/questions/14036117/regular-expression-for-string-comparssion-using-php)

任何人都可以请帮助如何从“@”到“.”获取值，例如如果字符串包含值“abc@gmail.com”，那么输出应该是“@gmail”。使用正则表达式。

下面是仅输出“gmail”的示例代码。

```
$str = 'abc@gmail.com';
preg_match('/@([^.]+)/', $str, $match);
echo $match[1]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T05:56:15.210

您的正则表达式不起作用，因为

1.  您的捕获组不包括`@`符号
2.  您忘记转义您的`.`角色（在字符集之外），因为`.`它是正则表达式中的元字符（意味着匹配所有字符）。

你的正则表达式应该是

```
preg_match('/(@[^.]+\.)/', $str, $match); 
```

# php - MySQL - 获取 $var = 数组的数据？

> ID：14036505
> 
> 赞同：3
> 
> 时间：2012-12-26T05:54:23.417
> 
> 标签：php, mysql, select

我有两张这样的桌子

`subscribers`

```
id    subscriber     subscribe_to
1       user1          user2
2       user2          user3
3       user1          user2
4       user3          user4
5       user1          user2
6       user1          user7
7       user5          user2
8       user8          user9
9       user1          user10 
```

我的另一张桌子是这样的： `main`

```
id    by_user      post_name
1     user1        somename1
2     user2        somename2
3     user1        somename3
4     user3        somename4
5     user3        somename5
6     user1        somename6
7     user2        somename7
8     user3        somename8 
```

我想使用 php-mysql 从表 1 中获取 user1 的所有订阅（例如）。然后从表 2 中提取公用名，但我不确定如何获取第二个表

```
$get_subscriptions = mysql_query("SELECT * FROM `subscribers` WHERE `subscriber` = 'user1'");
if(mysql_num_rows($get_subscriptions) == 1){
$fetch = mysql_fetch_assoc($get_subscriptions);
$subscriptions = $fetch['subscribe_to'];//this will return an array with all the subscribed to users by user1
} 
```

现在，我想获取第二个表并获取所有 post_name（来自 $subscriptions）。我不确定如何编写查询。

```
$get_posts= mysql_query("SELECT * FROM `main` WHERE...."); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T06:08:48.413

试试这个：

```
SELECT post_name FROM main 
WHERE by_user = 'user1' OR by_user IN (SELECT subscribe_to FROM subscribers WHERE subscriber = 'user1') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:20:11.200

```
$get_posts = mysql_query("SELECT * FROM `main` WHERE by_user IN ('" . implode("', '", $subscriptions) . "')"); 
```

# php - 在 magento 电子邮件模板中列出项目选项

> ID：14036507
> 
> 赞同：1
> 
> 时间：2012-12-26T05:54:49.643
> 
> 标签：php, magento

基于[http://www.webspeaks.in/2011/06/customize-new-order-email-template-in.html](http://www.webspeaks.in/2011/06/customize-new-order-email-template-in.html) 和[http://www.magentocommerce.com/boards/viewthread/43928/](http://www.magentocommerce.com/boards/viewthread/43928/)我创建了一个自定义电子邮件模板。

然而，几个小时后，我无法弄清楚如何让项目的自定义选项显示在电子邮件中。

在默认电子邮件代码（位于 \app\design\frontend\base\default\template\email\order\items\order\default.phtml）中有以下几行：

```
 <?php if ($this->getItemOptions()): ?>
    <dl style="margin:0; padding:0;">
        <?php foreach ($this->getItemOptions() as $option): ?>
        <dt><strong><em><small><?php echo $option['label'] ?></small></em></strong></dt>
        <dd style="margin:0; padding:0 0 0 9px;">
            <?php echo (isset($option['print_value']) ? $option['print_value'] : nl2br($this->escapeHtml($option['value']))) ?>
        </dd>
        <?php endforeach; ?>
    </dl>
    <?php endif; ?> 
```

但是在我的 .phtml 中使用该代码不会显示任何内容。

这是我的代码：

```
<?php $_order = $this->getOrder() ?>
<?php $i=0; foreach ($_order->getAllItems() as $_item): ?><?php if($_item->getParentItem()) continue; else $i++; ?>
<?php echo $this->__('(') ?><?php echo $_item->getQtyOrdered()*1 ?><?php echo $this->__(') ') ?>
<strong><?php echo $this->htmlEscape($_item->getName()) ?></strong>
<?php echo $this->__('$') ?><?php echo number_format($_item->getRowTotal(), 2) ?>
<br />
    <?php if ($this->getItemOptions()): ?>
        <?php foreach ($this->getItemOptions() as $option): ?>
        <strong><em><small><?php echo $option['label'] ?></small></em></strong>
            <?php echo (isset($option['print_value']) ? $option['print_value'] : nl2br($this->escapeHtml($option['value']))) ?>
        <?php endforeach; ?>
    <?php endif; ?>
<?php echo $this->__("-------------------") ?>
<br />
<?php endforeach; ?>
<br />
<?php echo $this->__('Subtotal: $') ?><?php echo number_format($_order->getSubtotal(), 2) ?>
<br />
<?php echo $this->__('Tax: $') ?><?php echo number_format($_order->getTaxAmount(), 2) ?>
<br />
<strong><?php echo $this->__('Grand Total: $') ?><?php echo number_format($_order->getGrandTotal(), 2) ?></strong> 
```

我尝试使用 $_item->getItemOptions()) 但没有帮助。

如果有人能提供正确的语法帮助，我将不胜感激（我希望这就是我所缺少的）。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-07-03T13:43:58.113

我知道这个问题已经得到解答，但就我而言，它看起来像是观察者在干扰该`$this->getItemOptions()`方法。

尝试替换以下代码块

*应用程序/设计/前端/[YOUR_PACKAGE]/[YOUR_THEME]/template/email/order/items/order/default.phtml*

```
<?php if ($this->getItemOptions()): ?>
<dl style="margin:0; padding:0;">
    <?php foreach ($this->getItemOptions() as $option): ?>
    <dt><strong><em><?php echo $option['label'] ?></em></strong></dt>
    <dd style="margin:0; padding:0 0 0 9px;">
        <?php echo nl2br($option['value']) ?>
    </dd>
    <?php endforeach; ?>
</dl>
<?php endif; ?> 
```

有了这个

```
 <?php if ($options = $_item->getProductOptions()): ?>
        <?php if (isset($options['options'])): ?>
            <dl style="margin:0; padding:0;">
            <?php foreach ($options['options'] as $option): ?>
                <dt><strong><em><small><?php echo $option['label'] ?></small></em></strong></dt>
                <dd><?php echo (isset($option['print_value']) ? $option['print_value'] : nl2br($this->escapeHtml($option['value']))) ?></dd>
            <?php endforeach; ?>
            </dl>
        <?php endif; ?>
        <?php if (isset($options['additional_options'])): ?>
            <dl style="margin:0; padding:0;">
            <?php foreach ($options['additional_options'] as $option): ?>
                <dt><strong><em><small><?php echo $option['label'] ?></small></em></strong></dt>
                <dd><?php echo (isset($option['print_value']) ? $option['print_value'] : nl2br($this->escapeHtml($option['value']))) ?></dd>
            <?php endforeach; ?>
            </dl>
        <?php endif; ?>
        <?php if (isset($options['attributes_info'])): ?>
            <dl style="margin:0; padding:0;">
            <?php foreach ($options['attributes_info'] as $option): ?>
                <dt><strong><em><small><?php echo $option['label'] ?></small></em></strong></dt>
                <dd><?php echo (isset($option['print_value']) ? $option['print_value'] : nl2br($this->escapeHtml($option['value']))) ?></dd>
            <?php endforeach; ?>
            </dl>
        <?php endif; ?>
    <?php endif; ?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T15:37:09.090

经过大量研究，我发现了解决方案。

上面的代码片段来自使用我的文件中我无法访问的函数 getItemOptions() 的原始代码。所以我找到了该函数的位置，正如您[在此处](http://php.r3dcode.com/files/Magento/1.7/0.2/app/code/core/Mage/Sales/Block/Order/Email/Items/Order/Default.php)看到的那样，它使用了 getProductOption() 函数。所以这是我的最终代码：

```
 <?php if ($options = $_item->getProductOptions()): ?>
    <?php if (isset($options['options'])): ?>
    <?php foreach ($options['options'] as $option): ?>
    <br /><strong><em><small><?php echo $option['label'] ?></small></em></strong>
        <br /><?php echo (isset($option['print_value']) ? $option['print_value'] : nl2br($this->escapeHtml($option['value']))) ?>
    <?php endforeach; ?>
    <?php endif; ?>
<?php endif; ?> 
```

稍微解释一下：在 getProductOptions() 中有 2 个数组`["info_buyRequest"]`和`["options"]`. 内`["options"]`有： `["label"], ["value"], ["print_value"], ["option_id"], ["option_type"], ["option_value"] and ["custom_view"]`。我通过 获取此信息`var_dump($options)`。

我希望这可以帮助任何与我有同样问题的人。

# php - PHP OOP - 如何将 mysqli 方法继承到其他类？

> ID：14036511
> 
> 赞同：1
> 
> 时间：2012-12-26T05:55:42.623
> 
> 标签：php, class, methods, mysqli

所以我试图用一种简单的方法来管理一堆 mysql 连接。

我有 2 个基本课程：`server`和`Connections`.

服务器只是设置为保存您所看到的一行数据。（有一个更好的方法吗？）

在连接中，我只想通过它的 ID 调用连接并创建连接，并能够查询它。

这适用于 mysql 库，但是当我尝试使用`mysqli`库时，它不会作为连接句柄 `$mysqli`传递。有效，但没有。 `$msi``$mysqli->query()``$msi->query()`

```
 PHP Fatal error:  Call to undefined method Connections::query() 
```

我是否需要使用 mysqli 扩展/实现我的 Connections 类或`$mysqli`以不同的方式返回？

谢谢！

```
 <?php
    class server {
        public $id, $type, $subid, $host, $user, $pw, $port, $db;

        public function __construct($id,$type,$subid,$host,$user,$pw,$port,$db) {
            $this->id = $id;
            $this->type = $type;
            $this->subid = $subid;
            $this->host = $host;
            $this->user = $user;
            $this->pw = $pw;
            $this->port = $port;
            $this->db = $db;
        }
    }

    class Connections {
        public $servers;

        function __construct($id) {
            $this->servers[] = new server("mysql","mysql","main","hostname","username","password","3306","dbname");
            $this->servers[] = new server("mysql2","mysqli","main","hostname","username","password","3306","dbname");

            $rt = null;
            foreach($this->servers as $server) {
                if ($id == $server->id) {
                    $rt = $server;
                    break;
                }
            }

            if($rt->type == "mysql"){
                $con = mysql_connect($rt->host,$rt->user,$rt->pw);
                mysql_select_db($rt->db, $con);
                    if($con) { return $con; }
            }
            elseif($rt->type == "mysqli"){
                $mysqli = new mysqli($rt->host, $rt->user, $rt->pw, $rt->db, $rt->port);
                        if ($mysqli->connect_errno) {
                              echo "Failed to connect to MySQL: (" . $mysqli->connect_errno . ") " . $mysqli->connect_error;
                        }
                        else{
                              return $mysqli;
                        }
            }

        }
    }

    /*
    ### this works
    $nc = new Connections("mysql");
    $q = "select 1+2 as asdf";
    $r = mysql_query($q);
    while($row = mysql_fetch_array($r)){
        echo $row['asdf']."\n";
    }
    */

    #### this does not work
    $msi = new Connections("mysql2");
    $res = $msi->query("SELECT 2+2 as asdf");
    while($row = $res->fetch_assoc()){
        echo $row['asdf']."\n";
    }
    ?> 
```

#

[编辑->在这里](https://stackoverflow.com/questions/6930230/php-db-class-with-mysqli-which-support-multiple-connections)的另一篇文章的帮助下，我能够以不同的方式完成这项工作

这是我修改后的代码：

```
<?php
class server {
    public $id, $type, $subid, $host, $user, $pw, $port, $alt; 
    public function __construct($id,$type,$subid,$host,$user,$pw,$port,$alt) {
        $this->id = $id;
        $this->type = $type;
        $this->subid = $subid;
        $this->host = $host;
        $this->user = $user;
        $this->pw = $pw;
        $this->port = $port;
        $this->alt = $alt;
    }  
}

class MySQLiContainer extends SplObjectStorage{
    var $server, $servers;
    function __construct($id) {
        $this->servers[] = new server("mysql","mysql","main","hostname","username","password","3306","dbname");
        $this->servers[] = new server("mysql2","mysqli","main","hostname","username","password","3306","dbname");

         foreach($this->servers as $server) {
                if ($id == $server->id) {
                    $this->server = $server;
                    break;
                }
            }
    }
  public function newConnection() {

    $mysqli = new mysqli($this->server->host, $this->server->user, $this->server->pw, $this->server->alt, $this->server->port);
    $this->attach($mysqli);
    return $mysqli;
  }
}

//usage
$mysqliContainer = new MySQLiContainer("mysql2");
$c1 = $mysqliContainer->newConnection();
$res = $c1->query('SELECT 2+4 as asdf');
while($row = $res->fetch_assoc()){
    echo $row['asdf']."\n";
}
echo $c1->host_info . "\n";

$ms2 = new MySQLiContainer("mysql");
$c2 = $ms2->newConnection();
$r = $c2->query('SELECT 2+4 as dfdf');
while($ra = $r->fetch_assoc()){
    echo $ra['dfdf']."\n";
}
echo $c2->host_info . "\n";
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:06:04.133

您的代码基于一个错误的前提：您可以从构造函数返回任何内容。

您不能从构造函数返回任何内容。运算符的结果`new`始终是该类的一个实例。

让我改写一下，以防不清楚。您不能从构造函数返回*任何内容*，因为 的值已`return`被丢弃。

你似乎想要做的是[`extend`](http://php.net/language.oop5.inheritance)mysqli。

但是，您实际上并不想这样做，主要有两个原因：

1.  mysqli 无法将相关类（如语句句柄或结果句柄）作为派生类返回。这会严重限制功能。如果您真的想扩展数据库处理程序，请使用[PDO](http://php.net/book.pdo)。
2.  为什么要编写自己的数据库抽象库？有*几十个*。去看看 Zend Db 或任何 Doctrine 使用的东西。它们将对您更有用——由合格的第三方创建并经过良好测试。

# java - Java - LWJGL - 透明纹理

> ID：14036514
> 
> 赞同：0
> 
> 时间：2012-12-26T05:56:13.120
> 
> 标签：java, lwjgl

我一直在查看许多站点和 LWJGL 教程，我惊讶地发现没有太多东西可以解释如何创建使用透明纹理的程序。

我用 gimp 去除了 PNG 图像背景中的白色，它变成了透明的棋盘，女巫看起来不错，当我在 windows 照片查看器中打开它时很好。

然而，当将它打开到我的程序中时，它仍然有图像周围的白色方块，所以当两个不透明的图像发生碰撞时，它看起来很糟糕。

我认为到 2012 年，任何具有非透明纹理的游戏看起来都非常不专业。

我需要解决这个问题，所以请有人指出我正确的方向或解释如何解决这个问题。

请记住：我正在使用 LWJGL 和 opengl Texture 和 opengl TextureLoader 以及在 gimp 中编辑的 PNG 图像以具有透明背景。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:36:49.033

如果您使用默认管道，请检查如何使用 glBlendFunction。

所以基本上你会告诉 openGL 如何将多个图像与 alpha 值混合。

此外，如果您使用 glTexImage2D 调用，请确保源像素格式为 GL_RGBA。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T02:45:35.200

启用 OpenGL 后，在初始化代码中使用这行代码：

```
glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA); 
```

它现在应该可以工作了。

如果您需要解释：您只是告诉 OpenGL 将图像的 Alpha 通道与其下方的任何图像混合。

# video-streaming - Technologies needed to build a video-heavy site

> ID：14036522
> 
> 赞同：1
> 
> 时间：2012-12-26T05:57:07.540
> 
> 标签：video-streaming, web-hosting

This is a newbie question, but I would like to know what are the technologies needed to build a video-heavy website in terms of hosting, delivery (i.e., CDN), compression and display?

My site will have a few thousand short clips (1-5 minutes), but it will be accessed from various countries. Users will only view videos uploaded by staff. (I will use Ruby on Rails for front-end-if this matters)

Thank you.

# mysql - MySQL - 时间戳（8）替代品？

> ID：14036523
> 
> 赞同：0
> 
> 时间：2012-12-26T05:57:13.933
> 
> 标签：mysql, sql, timestamp, sqldatatypes

几年前，我尝试使用早期版本的 MySQL 运行这个表来创建这个表，它运行良好。似乎在最新版本的 MySQL 中，timestamp(8) 现在存在问题。

```
CREATE TABLE top_hits (
  sid int(11),
  ip varchar(20),
  cdate timestamp(8)
) 
```

我可以使用什么来替代第 4 行的时间戳（8）？YYYYMMDD

```
cdate timestamp(8) 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T07:29:49.457

您需要[DATE](http://dev.mysql.com/doc/refman/5.5/en/datetime.html)类型，它存储年、月和日。

如果需要格式化输出 (YYYYMMDD)，请使用[DATE_FORMAT](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)函数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T07:45:34.387

`(8)`字段定义中的部分对以下内容**没有**任何影响：

*   列的大小（以字节为单位）
*   存储在其中的值的范围（1970 年到 2038 年中途）
*   是否可以在其中存储小时、分钟和秒

该`(8)`部分指定*显示大小*。当执行 a 时`SELECT`，MySQL 将返回`XYZ`时间戳中日期的第一部分，如此处[所述](http://dev.mysql.com/doc/refman/4.1/en/timestamp-pre-4-1.html)。

因此，只需从您的创建表查询中消除显示部分。这将创建一个`timestamp`列。您可以使用 MySQL 函数或 PHP 格式化时间戳（例如，去掉时间部分等）。

或者使用[`DATE`](http://dev.mysql.com/doc/refman/5.6/en/datetime.html)根本不存储时间部分的数据类型。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-26T06:08:48.110

的语法

```
timestamp(N) 
```

自 mysql 5 起已弃用

您可以选择您选择的日期

```
SELECT date(ts)+0 from t; 
```

DATETIME 数据类型占用 8 个字节的存储时间戳占用 4 个字节，日期时间占用更广泛的日期

# linux - eMMC RAW access in Linux

> ID：14036527
> 
> 赞同：1
> 
> 时间：2012-12-26T05:57:48.673
> 
> 标签：linux, embedded

I am trying to do a raw write to the `eMMC` within my embedded system. The device node is `/dev/mmcblk1p1` and I'm trying to copy a binary `example.bin` to a particular address in the `eMMC`, say `0x1000`.

Could someone please help me as to how I can go about this. I am using ARM platform running Linux. Any help would really prove useful. Thanks in advance.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-29T09:47:22.923

这可以通过[dd](http://en.wikipedia.org/wiki/Dd_%28Unix%29)命令行程序来完成。复制`example.bin`到`/dev/mmcblk1`偏移量 0x1000 的操作如下：

```
dd if=example.bin of=/dev/mmcblk1 seek=8 
```

out 文件 ( ) 的偏移量由`/dev/mmcblk1`seek 选项指定，在本例中为 8，因为 dd 默认以 512 字节的块工作。有关`man dd`更多信息，请参阅。

这也可以通过在输出文件的打开文件描述符上使用 lseek() 函数在 C 中以编程方式完成。

请注意，在问题`/dev/mmcblk1p1`中提到了文件，但这是 MMC 设备 (p1) 上第一个分区的设备节点。该`/dev/mmcblk1`文件是实际 MMC 设备的正确节点。

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2012-12-26T06:56:29.593

您需要先将设备节点挂载到 Linux 文件系统。

```
# mount -t msdos /dev/mmcblk1p1 /mnt/
# cp /mnt/libnsl.so /lib/libnsl.so.1
# /mnt/lrz 
```

`lrz`是一个使用`ZMODEM`协议传输文件的应用程序。使用`TeraTerm`，打开

文件 -> 传输 -> ZMODEM -> example.bin 并单击`OK`。

# windows-phone-7 - Background Agent daily scheduling on time basis

> ID：14036530
> 
> 赞同：0
> 
> 时间：2012-12-26T05:58:03.153
> 
> 标签：windows-phone-7, scheduling, background-agents

I am working on app in Window Phone.In this app i am using background agent for running background task.Further more i want that this background agent should start at 9 A.M. and should over at 6 P.M. daily automatically. How can i do it?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T08:50:02.503

你不能在不打开的情况下停止后台代理。

但是您可以在后台代理的 Oninvoke 方法中做一件事，在执行功能之前检查时间。就像如果您想显示来自后台代理的 toast 通知，请检查当前时间是否在 9A.M 和 6P.M 之间，如果满足此条件，则仅显示 toast，否则不做任何事情。

# .net - SQL Server DateDiff 与 .Net DateDiff

> ID：14036532
> 
> 赞同：2
> 
> 时间：2012-12-26T05:58:28.417
> 
> 标签：.net, sql, sql-server, vb.net, sql-server-2008

SQL 服务器：

```
DECLARE @Date1 DATETIME
SET @Date1 = '2012-26-12 12:00:05 AM'

DECLARE @Date2 DATETIME
SET @Date2 = '2012-28-12 12:00:00 AM'

SELECT @Date1, @Date2, DATEDIFF(DAY,@Date1,@Date2) 

return 2 
```

VB.Net

```
DateDiff(DateInterval.Day,Convert.ToDateTime("26-12-2012 12:00:05 AM"), 
Convert.ToDateTime("28-12-2012 12:00:00 AM"))

return 1 
```

为什么结果不一样？我的两分钱是 SQL Server`DateDiff`仅减去日期时间值（28 - 26）的天部分，而 .Net`DateDiff`精确地减去两个日期时间值作为秒或毫秒并转换为等效的天值。

或者，是因为操作系统的区域和语言设置？

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T06:49:05.350

实际上 VB.NET 表达式正在返回正确的值，因为总数`hours`不等于`48`. 因此它返回 1

在 SQL Server 中，DateDiff 函数返回一个舍入值。

尝试将该值除以一天中的总秒数，即`86400.0`

```
SELECT @Date1, @Date2, DATEDIFF(ss,@Date1,@Date2) /86400.0 
```

返回的值将`1.9999421`代替`2`

以秒为单位的 2 个日期之间的差异`172795`小于`172800`（2 天的总秒数）。因此，如果您不四舍五入结果，该函数应该只返回 1

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:21:09.373

`Day DateDiff`向下舍入返回的数字。尝试返回小时数并除以 24 以获得天数

```
DateDiff(DateInterval.Hour,Convert.ToDateTime("26-12-2012 12:00:05 AM"), 
Convert.ToDateTime("28-12-2012 12:00:00 AM"))/24 
```

# python - 以编程方式创建旋律

> ID：14036535
> 
> 赞同：0
> 
> 时间：2012-12-26T05:58:55.327
> 
> 标签：python, audio

我想玩一点以编程方式制作旋律。

我并不真正关心音色，但如果我能让它听起来像老式的 8 位音乐，那就太酷了。

我希望能够通过简单地为每个音符指定它的长度、播放时间（从歌曲的开头开始）和音高来播放音乐。

我想以下列方式使用它：

```
from awesomeMelodyLibrary import play

# Perhaps play accepts an iterable of 3-tuples where 
# the items of the tuple are (pitch, duration_of_note, when_to_play)
# and then it would play those notes.
play([ (440, 200, 0),    # A4
       (440, 200, 200),
       (660, 200, 400),  # E5
       (660, 200, 600),
       (740, 200, 800),  # F#5
       (740, 200,1000),
       (660, 400,1200) ]) 
```

它会播放字母歌曲的开头。

它不必完全是那样，我会受到一些限制（例如，最多只能同时演奏三个音符），但关键是我不想弄脏原始的声音数据，处理混合不同声音片段的细节，以便播放和弦、声音片段等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-15T03:24:25.660

尝试使用 Python 前端的 RTcmix。

它在 OS X 上效果最好，虽然我在 Ubuntu 上使用它。这不是一个简单的构建过程，但你可以在他们的讨论列表中看到我关于我在 Ubuntu 12.04 上的安装过程的[帖子。](http://old.nabble.com/Re%3A-Fwd%3A-Installing-RTcmix-with-Python-Support-p34822480.html)

他们有各种可用的仪器。我的最爱之一是[STRUM2](http://music.columbia.edu/cmc/rtcmix/docs/instruments/STRUM2.html)，一种弹拨乐器。

下面介绍如何在 Python 中演奏一些音符。

```
from rtcmix import *
rtsetparams(44100, 2)
load("STRUM2")
noteOnset = 0 #in seconds
duration = 1.0 # in seconds
amplitude = 10000
pitch = 440 # specified in hertz
squish = 1
decay = 1.0
pan = .5 
STRUM2(noteOnset, duration, amplitude, pitch, squish, decay, pan) 
```

默认情况下，它以赫兹为单位，但此功能可以将 MIDI 键号转换为赫兹。

```
def keynumToHertz(keynum):
  lowestfreq = 8.175 #C-1
  return lowestfreq * math.pow(2.0, float(keynum)/12.0) 
```

如果您想以标准符号指定注释，`('Bb6', 'G#8', 'F-1', 'A4')`则可以使用`nameToNum`我编写的函数。[在这里](https://github.com/curtisullerich/cmix/blob/master/metalevel/map.py)找到它。

查看他们网站上的文档以获取更复杂的示例，或者查看我的[Github存储库，](https://github.com/curtisullerich/cmix)*其中包含 Metalevel 中 Notes*的几个章节的实现，这是关于算法组合的文本。如果您不仅仅对演奏指定的音符感兴趣，我强烈建议您阅读那本书。它是为 Lisp/Common Music 编写的，但我的仓库中有很多 Python/RTcmix 翻译。

# oracle - Oracle Apex 自定义函数

> ID：14036538
> 
> 赞同：0
> 
> 时间：2012-12-26T05:59:01.333
> 
> 标签：oracle, oracle11g, oracle-apex

我已经为身份验证创建了一个自定义函数，任何人都可以建议如何使用自定义身份验证向导将 PARAMETERS 传递给该特定函数吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T10:42:10.797

惊讶于没有答案，无论如何我已经整理好自己，这是给需要它的人的代码。

```
create or replace function custom_authentication (p_username in varchar2, p_password in varchar2)
return boolean
IS
begin
Your code for authentication
return true
end 
```

如果您使用内置登录页面，自定义身份验证需要变量名称为 p_username 和 p_password。

# android - Intent.EXTRA_CC 不适用于 Android 的 GMail 4.2.1

> ID：14036546
> 
> 赞同：1
> 
> 时间：2012-12-26T05:59:56.183
> 
> 标签：android, android-intent

我正在尝试使用意图打开邮件客户端。我希望填写 CC 和 BCC 字段。这一直很好，直到最近我注意到 GMail 4.2 忽略了我的 CC 和 BCC 字段。不过，这在 Gingerbread 上效果很好。这是我正在使用的代码。

```
Intent mailIntent = new Intent(Intent.ACTION_SEND_MULTIPLE);
mailIntent.putExtra(Intent.EXTRA_EMAIL, new String[] { "a@b.com", "b@c.com"} );
mailIntent.putExtra(Intent.EXTRA_CC, new String[] { "thisisacc@gmail.com", "anothercc@c.com"});
mailIntent.putExtra(Intent.EXTRA_BCC, new String[] {"bcc@gmail.com", "anotherbcc@gmail.com"});
mailIntent.setType("text/html");
mailIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(mailIntent); 
```

这确实会打开 GMail 的撰写屏幕，但不会显示抄送字段和密件抄送字段。更令人困惑的部分是，当您发送它时，它仍然有效！它实际上将其发送到 CC 和 BCC 电子邮件 ID。只是没有显示的用户界面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:12:33.713

在“电子邮件应用程序”（不是 gmail）中配置电子邮件并对其进行测试。这可能是 gmail 应用程序中的错误。

或者您是否通过发送邮件（手动）添加 cc 和 bcc 来测试 gmail 应用程序？

# php - can not load data to combo box in codeigniter

> ID：14036547
> 
> 赞同：-2
> 
> 时间：2012-12-26T06:00:07.460
> 
> 标签：php, codeigniter

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:32:09.960

问题出在sql查询中。我拼错了这个词`tittle`。对不起大家。

# python - Does uwsgi server read the paths in the environment variable PYTHONPATH?

> ID：14036549
> 
> 赞同：1
> 
> 时间：2012-12-26T06:00:12.617
> 
> 标签：python, uwsgi, pythonpath

Its weird because, when I run a normal python script on the server, it runs but when I run it via uWSGI, it cant import certain modules.

there is a bash script that starts uwsgi, and passes a path via --pythonpath option. Is this an additional path or all the paths have to be given here ?

If yes, how do I separate multiple paths given by this option.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T10:49:21.787

您可以指定多个 --pythonpath 选项，但应该尊重 PYTHONPATH（只要确保它由您的 init 脚本正确设置，您可以尝试从命令行设置它并在同一个 shell 会话中运行 uwsgi）

# c# - How to send data which converted euc-kr from utf-8 in httpclient

> ID：14036551
> 
> 赞同：1
> 
> 时间：2012-12-26T06:00:25.937
> 
> 标签：c#, character-encoding, windows-8, httpclient

```
public async String getData()
{
    if (HttpClientWork == false)
    {
        HttpContent content;
        content = new FormUrlEncodedContent(new[]
        {
            new KeyValuePair<string, string>("Data",  StringToEncoding("한글테스트"))
        });

        MediaTypeHeaderValue mediatype = new MediaTypeHeaderValue("application/x-www-form-urlencoded");
        mediatype.CharSet = "euc-kr";
        mediatype.MediaType = "application/x-www-form-urlencoded";

        content.Headers.ContentType = mediatype;

        try
        {

            HttpResponseMessage response = await httpClient.PostAsync("http://~~~~~~~~", content);
            html = StringToEncoding(responseMessage); 
            System.Diagnostics.Debug.WriteLine(html);

            ....
        }
        catch (Exception e)
        {
                ....
            }
    }
    else
    {
        ......

} 
```

**StringToEncoding Function Source**

```
public static String StringToEncoding(String str)
{
    Encoding encode = System.Text.Encoding.GetEncoding("euc-kr");
    byte[] byteencode = encode.GetBytes(str);

    return encode.GetString(byteencode, 0, byteencode.Length);
} 
```

But, Receive data from the server.

> ��������

As above, Korean is broken.

I don't know How to send data which converted euc-kr from utf-8 in httpclient.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T12:01:54.677

`application/x-www-form-urlencoded`，顾名思义，必须在[url-encoding](http://en.wikipedia.org/wiki/Percent-encoding)中：

```
HttpUtility.UrlEncode("한글테스트"); 
```

# c++ - 编译库与仅标头库

> ID：14036552
> 
> 赞同：1
> 
> 时间：2012-12-26T06:00:29.520
> 
> 标签：c++

我对 C++ 很陌生，我试图理解为什么需要先编译一些库。

例如，某些 boost 库仅是标头（例如 msm），而另一些则需要编译（例如 timer）

我找不到一个很好的解释来解释为什么会这样。有人可以帮我理解吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:03:02.540

某些类型的东西只保存在标题中，而不是通常的`.h(pp)`和`.cpp`文件。我知道的只有一个是模板化的类和函数。我确信 boost 会利用这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:05:00.050

*   仅标头库更易于使用但更难编写。你只需要`#include`他们。
*   它们有更多的优化机会，但编译时间更长。有更多代码和更多上下文需要优化，但这需要时间。
*   最后但同样重要的是，`template`s 必须在头文件中定义。

但是，通过使用头文件，可以逃脱多少，或者愿意忍受多少是有限度的。例如，处理*共享库*中的静态对象，顺便说一下，**C++**标准对此一无所知，有时只是不能在头文件中完成。

# c# - Edit Additional Template in VS 2012 for windows 8

> ID：14036554
> 
> 赞同：0
> 
> 时间：2012-12-26T06:00:50.580
> 
> 标签：c#, visual-studio, windows-store-apps

II am developing a windows metro application,I want to edit tempalte for listview and listviewitem, from where I can do this? Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T09:52:45.560

•要在设计模式下编辑Listview，你可以这样做：

```
 ListViewItem lvi = new ListViewItem();

    lvi.Text = "Row1";

    lvi.SubItems.Add("11");

    lvi.SubItems.Add("aa");     

    listView1.Items.Add(lvi);

    lvi = new ListViewItem();

    lvi.Text = "Row2";

    lvi.SubItems.Add("21");

    lvi.SubItems.Add("bb");

    listView1.Items.Add(lvi); 
```

• 要在运行时编辑 ListView，如果您正在寻找“就地”编辑 ListView 的内容（特别是在细节视图模式下的 ListView 的子项），您需要自己实现，或者使用第三个-派对控制，例如：如何：使用可编辑的单元格创建 ListView 可编辑的 ListView

• 默认情况下，使用“标准”ListView 所能达到的最佳效果是将其LabelEdit 属性设置为true，以允许用户编辑您需要自定义绘制的ListView 第一列的文本（从当前控件派生）。

# android - Android NFC prevent sending data to wrong application

> ID：14036559
> 
> 赞同：0
> 
> 时间：2012-12-26T06:01:05.467
> 
> 标签：android, nfc, nfc-p2p

I have created one simple application to send NDeF Record and display it in other device. Now i have deleted my P2P reader application from my device and download other TAG rader application. Now if i do tap that Tag Reader Application display my complete data which i don't want to allow.

P.S I have created the ndef record like

```
NdefRecord newNdefRecord = new NdefRecord(NdefRecord.TNF_EXTERNAL_TYPE,
            "com.yash.test:yash".getBytes(), new byte[0], data); 
```

Is it possible?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:28:27.147

不太清楚你想做什么，但你一般不能修改系统如何处理 NFC 标签。如果有已注册处理特定标签或 NDEF 格式的应用程序，用户将可以选择其中一个。你所能做的就是使用前台调度来确保你的应用程序在前台处理标签。如果你想隐藏你的数据，你可以尝试加密它，这样其他应用程序就无法恢复它。密钥需要嵌入到您的应用程序中才能正常工作，因此它不是非常安全。

# javascript - Placement of JavaScript and CSS in ASPX page

> ID：14036565
> 
> 赞同：0
> 
> 时间：2012-12-26T06:02:10.763
> 
> 标签：javascript, asp.net, css

Can anyone suggest where should I put my JavaScript and CSS code in an ASPX page? In the beginning or at the end? Does wrong placement of JavaScript and CSS affect the optimization of page?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:03:11.437

如果您将它们都放在单独的文件中，然后将它们包含在您的 aspx 页面中，那就更好了。通过这种方式，您可以在多个页面上使用相同的 CSS 和 Javascript。

但是，如果您只想在一个页面中使用 CSS 和 Javascript，那么您应该将您的 css 放在 head 标签中，您可以将 javascript 放在 head 标签之间或 html 之间的任何位置，但放置 javascript 的最佳位置是在 head 标签之间。最好将 js 之类的`jquery`库文件放在 head 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:12:19.907

当您希望 CSS 和脚本位于同一页面时，将 CSS 放在页面顶部，将 JavaScript 放在页面底部（*在结束 body 标记之前）是最好的方法。*

您可以阅读本文（*所述要点在中间部分进行了解释*）-

[http://developer.yahoo.com/performance/rules.html](http://developer.yahoo.com/performance/rules.html)

JavaScript 应该位于底部的原因是，您在 JavaScript 中访问的任何页面元素都应该首先加载到`DOM`. 如果你写在`<head>`section里，很可能是JavaScript找不到HTML中的元素而报错或者执行失败。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T06:13:02.200

我建议

1.  将样式表调用放在`<HEAD>`元素的顶部，然后
2.  `</body>`位于标签之后的页面底部的脚本。（在某些情况下）

因为这将使您的网页加载速度更快。

**笔记：**

第二点并不总是正确的，因为在某些情况下，您希望脚本在这些脚本的帮助下执行部分内容。

所以**是**的，javascript和css的错误放置会影响页面的优化

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-07-29T11:48:55.210

我想补充一点：

脚本应保留在页面底部，例如在`</body>`标签提供页面加载后不依赖于该脚本。

**注意：**将脚本放在页面底部可以提高显示速度，因为脚本编译会减慢显示速度。

# android - How to use OnClick in android programming

> ID：14036566
> 
> 赞同：-5
> 
> 时间：2012-12-26T06:02:31.640
> 
> 标签：android, onclick

I am completely new to programming and I am trying to create an android app. At the moment I am trying to understand how to use OnClick() to make it so my button on MainActivity links to another activity.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:33:18.103

要对按钮执行一些操作，请单击以下步骤：

**步骤1：**

在 Activity 布局中添加一个按钮，如下所示：

```
<Button
    android:id="@+id/button_id_here"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"/> 
```

* * *

**第2步：**

将您添加`NextActivity`为`AndroidManifest.xml`：

```
 <!-- your other xml  -->
 <application
  <!-- your other xml  -->
        <activity
            android:name=".NextActivity" />

 </application> 
```

* * *

**第 3 步：**

在 MainActivity 代码中添加一个按钮单击监听器到 button_id_here 为：

```
public class MainActivity extends Activity {

    Button button_test;  //<< Create Button instance here
    Intent intent;       //<< For starting new Activity
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);

            // Add layout to Activity here
        setContentView(R.layout.your_Activity_layout);

         // Initilie button here
         button_test= (Button) findViewById(R.id.button_id_here);

               // add a onclick listner to button here
         button_test.setOnClickListener(new View.OnClickListener() {
         public void onClick(View v) {
              intent = new Intent(MainActivity.this,NextActivity.class);

              startActivity(intent); //<<< start Activity here
            }
        });
     }

} 
```

* * *

如果仍然面临在按钮单击上做一些活动，那么在这里学习：

[https://developer.android.com/training/index.html](https://developer.android.com/training/index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:14:39.410

如果您想在单击按钮时链接到另一个活动，那么您首先需要设置一个侦听器来侦听按钮的单击。那么您需要重写该`onClick()`函数以实现单击该特定按钮所需的功能。

这是一段代码，可以让您知道它是如何工作的。

```
Button send = (Button) findViewById(R.id.send);
send.setOnClickListener(new View.OnClickListener() {
    public void onClick(View v) {
        Toast.makeText(getApplicationContext(), "Send Button Clicked", 5000).show();
        Intent i = new Intent(CurrentActivity.this, NextActivity.class);
        i.putExtra("Data", data); //It is for any data you want to send to next activity
        startActivity(i);
            }
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:03:44.600

你可以这样做：

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_login_page);
        String info = "Extra info";
        btn= findViewById(R.id.btn);

        btn.setOnClickListener (new onClickListener(){
             Intent i = new Intent(this, NextActivity.class);
             //If you need to pass any information
             i.putExtra("Info", info);
             startActivity(i);

    });
} 
```

# android - 如何在带有 android 代码的可扩展列表视图中添加另一个包含 Edittexts、textviews、buttons 等的布局？

> ID：14036567
> 
> 赞同：1
> 
> 时间：2012-12-26T06:02:39.790
> 
> 标签：android, expandablelistview

我是 android 新手，在我正在开发的应用程序中，我想添加一个包含注册页面的可扩展列表视图。可以是这样的

```
 Add Personal Details +
       name(edittext)
       ph_no(edittext)
       email_id(edittext)
       Save Button

  Add Acocunt Details +
      Transaction_id(edittext)
      Transaction_type(edittext)
      Total_amount(edittext)
      Save Button 
```

ETC....

怎么可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T07:14:22.500

您可以使用 ExpandableListView 和 customAdapter

这里的activity实现了onChildClickListener onGroupCollapseListener和onGroupExpandListener

请注意，我只是直接输入代码，可能存在编译错误，请修复，如果有任何问题，请发表评论

```
 public class YourActivity extends Activity implements OnChildClickListener, OnGroupCollapseListener{

private ExpandableListView exList= null;
private ExpandableListAdapter mAdapter = null;

//add all unimplemented methods

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    placeHolder = (LinearLayout) findViewById(R.id.placeHolder);

    exList= (ExpandableListView) findViewById(R.id.wl_list);

    exList.setHorizontalFadingEdgeEnabled(true);
    exList.setFastScrollEnabled(true);
    exList.setHorizontalFadingEdgeEnabled(true);
    exList.setFadingEdgeLength(30);
    exList.setDividerHeight(1);
    exList.isFocusable();
    exList.setTextFilterEnabled(true);
    exList.setSelectionAfterHeaderView();
    exList.setSelected(true);

    exList.setOnChildClickListener(this);
    mAdapter = new ExpandableListAdapter(this);
    exList.setAdapter(mAdapter);

    exList.setOnGroupCollapseListener(this);
    exList.setOnGroupExpandListener(this);

    setContentView(exList); 

}

public void onGroupCollapse(int groupPosition) {

    // do whatever additional
    exList.collapseGroup(groupPosition);
}

public void onGroupExpand(int groupPosition) {

    // do whatever additional
    exList.expandGroup(groupPosition);
}

} 
```

和一个自定义适配器，我只实现了 getChildView() 方法，请对 getGroupView() 方法执行相同的操作以完成

```
 public class ExpandableListAdapter extends BaseExpandableListAdapter {
                private Activity activity;

        public ExpandableListAdapter(Activity activity) {
            this.activity = activity;
        }

        public View getCustomChildView(int groupPosition, int childPosition) {
            WORKLIST_HEADER wfHeader = null;
            //View view = null;
            //if (view == null) {
                // you can do this also, if you prefer filling up screens via xml, that is, inflate
                //view = inflater.inflate(R.layout.wl_list_row, null);
            //}

            //or jus create a linear layout manually and add views to it like below and return the linear layout, this should do
                TextView textView = null;
                LinearLayout wflayout = new LinearLayout(activity);    

                textView = new TextView(activity);
                textView.setText("name");
                textView.setTextAppearance(activity, R.style.boldText);

                wflayout.addView(textView);

                textView = new TextView(activity);
                textView.setText("email_id");
                textView.setTextAppearance(activity, R.style.boldText);

                wflayout.addView(textView);

// add more and button as well,

        //return linear layout
            return wflayout;
        }

        public View getChildView(int groupPosition, int childPosition, boolean isLastChild,
                View convertView, ViewGroup parent) {
                return getCustomChildView(groupPosition, childPosition);
        }

    // add otehr  unimplemented methods

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:22:40.843

您必须为您的可扩展列表视图创建自定义适配器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T07:33:37.527

您可以使用水平方向的 linearlayout 并为每个 linearlayout 分配名称。这样您就可以在单个 xml 文件中展开以使用可展开的列表视图。

# hadoop - 从 Hadoop 0.20.2 迁移到 0.20.205 以及从 0.20.2 迁移到 1.0.1 需要付出什么努力？

> ID：14036569
> 
> 赞同：0
> 
> 时间：2012-12-26T06:02:53.137
> 
> 标签：hadoop, amazon-ami, emr

我希望将我的 EMR 实现从旧版本迁移到最新版本，因为我主要面临很多问题。

我当前的实现使用 Hadoop 0.20.2。

我想了解从 0.20.2 迁移到 - 在代码更改方面需要付出多少努力 -

1.  0.20.205
2.  1.0.1

API 是否非常不同并且需要大量重新编码？任何基本的想法都会非常有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T12:27:43.300

0.20.205 刚刚重命名为 1.0，所以它本质上是同一个版本。API 几乎没有任何区别。1.0 与 0.20.2 类似，具有附加和安全功能，这基本上意味着它支持 HBase 集成并且可以在企业中使用。

我们将在 0.20.2 上的 EMR 上运行的作业移植到直接在 1.0 上运行。我们所有的工作，无论是使用新 API 还是旧 API，都没有出现任何问题，而是可以正常运行，而无需我们进行任何更改。所以我相信你不应该面对任何问题。

# google-chrome - 在 Windows 8 Chrome 中，搜索框样式搞砸了？

> ID：14036572
> 
> 赞同：0
> 
> 时间：2012-12-26T06:03:04.210
> 
> 标签：google-chrome, css, windows-8

我刚刚在搜索框中添加了一些样式，使角落变圆并添加了更多效果。在 Linux 下在 Chrome 和 firefox 中尝试该站点时，一切正常。它在 IE 10（在 Windows 8 中）中也可以正常工作。但在 Windows 8 Chrome（不是 Metro 版本）中，样式搞砸了！为什么？这是我添加的样式：

```
 #top-search {
        border: 1px solid #BABABA;
        -webkit-border-radius: 18px 18px 18px 18px;
        -moz-border-radius: 18px 18px 18px 18px;
        -o-border-radius: 18px 18px 18px 18px;
        border-radius: 18px 18px 18px 18px;
        box-shadow: 0 0 4px #CFCFCF;
        color: #696969;
        float: right;
        font-size: 11px;
        margin-right: 2%;
        margin-top: 8px;
        opacity: 0.7;
        padding: 3px 3px 3px 7px;
        width: 6%;
        outline: none;
        -webkit-transition: all 0.3s ease-in;
        -moz-transition: all 0.3s ease-in;
        -o-transition: all 0.3s ease-in;
        -ms-transition: all 0.3s ease-in;
        transition: all 0.3s ease-in;
        &:hover, &:focus, {
            opacity: 1;
            width: 8%;
        }
    } 
```

以下是搜索框的显示方式：

![搜索框截图](../Images/a4d58f32ea357af416fd6a27b2521229.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T09:52:30.227

只需将输入类型从“搜索”更改为“文本”

# android - Android - 如何将 sqlite 帮助程序类包装到内容提供程序中

> ID：14036577
> 
> 赞同：1
> 
> 时间：2012-12-26T06:03:24.237
> 
> 标签：android, android-contentprovider, android-sqlite

我有一个 sqlite 助手类，它基本上处理所有对 sqlite 数据库的 DML 操作。我现在需要将此 sqlite 数据（或 db 表中的特定行）发送到服务器，并且需要在执行此操作之前将数据序列化为 xml。我发现的一种方法是用内容提供者包装数据库，公开端点，序列化数据并发送它。如何包装 SQLite 助手来做到这一点？

**编辑：**我只需要公开端点并且不需要覆盖 DML 操作。有没有办法在不将其包装在内容提供者中的情况下做到这一点？我不需要向其他应用程序公开数据。助手基本就是这种形式

```
package com.MyPackage;

import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.UUID;

import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteException;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;

public class AnyDBAdapter {

    private static final String TAG = "AnyDBAdapter";
    private DatabaseHelper mDbHelper;
    private static SQLiteDatabase mDb;

    //make sure this matches the 
    //package com.MyPackage;
    //at the top of this file
    private static String DB_PATH = "/data/data/com.MyPackage/databases/";

    //make sure this matches your database name in your assets folder
    // my database file does not have an extension on it 
    // if yours does
    // add the extention
    private static final String DATABASE_NAME = "data";

    //Im using an sqlite3 database, I have no clue if this makes a difference or not
    private static final int DATABASE_VERSION = 3;

    private final Context adapterContext;

    public AnyDBAdapter(Context context) {
        this.adapterContext = context;
    }

    public AnyDBAdapter open() throws SQLException {
        mDbHelper = new DatabaseHelper(adapterContext);

        try {
            mDbHelper.createDataBase();
        } catch (IOException ioe) {
            throw new Error("Unable to create database");
        }

        try {
            mDbHelper.openDataBase();
        } catch (SQLException sqle) {
            throw sqle;
        }
        return this;
    }
    //Usage from outside
    // AnyDBAdapter dba = new AnyDBAdapter(contextObject); //in my case contextObject is a Map
    // dba.open();
    // Cursor c = dba.ExampleSelect("Rawr!");
    // contextObject.startManagingCursor(c);
    // String s1 = "", s2 = "";
    // if(c.moveToFirst())
    // do {
    //  s1 = c.getString(0);
    //  s2 = c.getString(1);
    //  } while (c.moveToNext());
    // dba.close();
    public Cursor ExampleSelect(string myVariable)
    {
        String query = "SELECT locale, ? FROM android_metadata";
        return mDb.rawQuery(query, new String[]{myVariable});
    }

    //Usage
    // AnyDBAdatper dba = new AnyDBAdapter(contextObjecT);
    // dba.open();
    // dba.ExampleCommand("en-CA", "en-GB");
    // dba.close();
    public void ExampleCommand(String myVariable1, String myVariable2)
    {
        String command = "INSERT INTO android_metadata (locale) SELECT ? UNION ALL SELECT ?";
        mDb.execSQL(command, new String[]{ myVariable1, myVariable2});
    }

    public void close() {
        mDbHelper.close();
    }

    private static class DatabaseHelper extends SQLiteOpenHelper {

        Context helperContext;

        DatabaseHelper(Context context) {
            super(context, DATABASE_NAME, null, DATABASE_VERSION);
            helperContext = context;
        }

        @Override
        public void onCreate(SQLiteDatabase db) {
        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            Log.w(TAG, "Upgrading database!!!!!");
            //db.execSQL("");
            onCreate(db);
        }

        public void createDataBase() throws IOException {
            boolean dbExist = checkDataBase();
            if (dbExist) {
            } else {

                //make sure your database has this table already created in it
                //this does not actually work here
                /*
                 * db.execSQL("CREATE TABLE IF NOT EXISTS \"android_metadata\" (\"locale\" TEXT DEFAULT 'en_US')"
                 * );
                 * db.execSQL("INSERT INTO \"android_metadata\" VALUES ('en_US')"
                 * );
                 */
                this.getReadableDatabase();
                try {
                    copyDataBase();
                } catch (IOException e) {
                    throw new Error("Error copying database");
                }
            }
        }

        public SQLiteDatabase getDatabase() {
            String myPath = DB_PATH + DATABASE_NAME;
            return SQLiteDatabase.openDatabase(myPath, null,
                    SQLiteDatabase.OPEN_READONLY);
        }

        private boolean checkDataBase() {
            SQLiteDatabase checkDB = null;
            try {
                String myPath = DB_PATH + DATABASE_NAME;
                checkDB = SQLiteDatabase.openDatabase(myPath, null,
                        SQLiteDatabase.OPEN_READONLY);
            } catch (SQLiteException e) {
            }
            if (checkDB != null) {
                checkDB.close();
            }
            return checkDB != null ? true : false;
        }

        private void copyDataBase() throws IOException {

            // Open your local db as the input stream
            InputStream myInput = helperContext.getAssets().open(DATABASE_NAME);

            // Path to the just created empty db
            String outFileName = DB_PATH + DATABASE_NAME;

            // Open the empty db as the output stream
            OutputStream myOutput = new FileOutputStream(outFileName);

            // transfer bytes from the inputfile to the outputfile
            byte[] buffer = new byte[1024];
            int length;
            while ((length = myInput.read(buffer)) > 0) {
                myOutput.write(buffer, 0, length);
            }

            // Close the streams
            myOutput.flush();
            myOutput.close();
            myInput.close();
        }

        public void openDataBase() throws SQLException {
            // Open the database
            String myPath = DB_PATH + DATABASE_NAME;
            mDb = SQLiteDatabase.openDatabase(myPath, null,
                    SQLiteDatabase.OPEN_READWRITE);
        }

        @Override
        public synchronized void close() {

            if (mDb != null)
                mDb.close();

            super.close();

        }
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:30:49.600

如果您不需要将数据的子集公开给设备上的其他应用程序（例如只读或单个表），则通常不需要内容提供程序。只需使用帮助程序类访问您的数据，然后根据需要对其进行转换。在您的情况下，您需要使用 XML API 之一来生成您的服务器期望的文档。但是，如果您正在寻找什么（例如 JAXB 等其他 Java 平台），则没有什么可以自动为您执行此操作。

# jquery - 使用 CoffeeScript 传递函数而不是字符串以进行 jquery 缓动

> ID：14036582
> 
> 赞同：0
> 
> 时间：2012-12-26T06:04:03.073
> 
> 标签：jquery, coffeescript, jquery-easing

我正在尝试将我自己的函数传递给一个 jquery 动画来创建我自己的缓动函数。这段代码是用coffeescript 编写的，实际上被调用了，但不执行缓动函数。它的作用就像一个回调函数。有没有其他人经历过这个？

```
 easing : (x, t, b, c, d) -> 

        if ((t/=d) < (1/2.75))
            return c*(7.5625*t*t) + b

        else if (t < (2/2.75))
            return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b

        else if (t < (2.5/2.75))
            return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b

        else
            return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b

    show : () =>

        @container.slideDown @config.animationTime, @easing(), () =>

            @config.visible = true 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T07:33:14.813

来自[精美手册](http://api.jquery.com/slideDown/#easing)：

> 从 jQuery 1.4.3 开始，可以使用命名缓动函数的可选字符串。

所以`easing`参数应该是一个字符串，它命名要使用的缓动，而不是缓动函数本身。此外，这是一个方法调用：

```
@easing() 
```

虽然这是对您的缓动函数的引用：

```
@easing 
```

如果要定义自定义缓动，则必须通过将属性添加到全局来执行此操作`$.easing`：

```
$.easing.whatever = (x, t, b, c, d) ->
    #... 
```

然后你按名称引用它：

```
@container.slideDown @config.animationTime, 'whatever', () => ... 
```

# sql - 如何在 SQL Server 2005 中只插入不重复的行？

> ID：14036584
> 
> 赞同：0
> 
> 时间：2012-12-26T06:04:15.627
> 
> 标签：sql, sql-server, tsql, insert

我尝试了以下方法。它不插入任何新行，尽管也没有重复的行。为什么呢？我做错了什么？任何帮助表示赞赏

```
 INSERT INTO TEMP_8
     SELECT PASS_M, ENTRY_DT, EXIT_D, WORKED_HRS, 
            CONSECUTIVE_D = num -(SELECT max(num)
                                  FROM TEMP_7 B
                                  WHERE B.CONSEC <= A.CONSEC
                                        AND B.GAP = 1
                                        AND A.IC_N = B.IC_N) + 1
     FROM TEMP_7 A
     WHERE NOT EXISTS (SELECT *
                       FROM TEMP_8); 
```

更新：

```
PASS_M ENTRY_DT, EXIT_DT, WORKED_HRS  
peter 20/12/12 21/12/12 12  
Tom 20/12/12 21/12/12 10  
Tom 21/12/12 22/12/12 9 
```

这些不是重复的。当`name`,`entry_dt`和`exit_dt`完全相同时重复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T09:47:20.277

```
 INSERT INTO TEMP_8
 SELECT PASS_M, ENTRY_DT, EXIT_D, WORKED_HRS, 
        CONSECUTIVE_D = num -(SELECT max(num)
                              FROM TEMP_7 B
                              WHERE B.CONSEC <= A.CONSEC
                                    AND B.GAP = 1
                                    AND A.IC_N = B.IC_N) + 1
 FROM TEMP_7 A
 WHERE NOT EXISTS (SELECT *
                   FROM TEMP_8 B
                   WHERE B.PASS_M = A.PASS_M 
                   and B.ENTRY_DT = A.ENTRY_DT 
                   and B.EXIT_D = A.EXIT_D); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T21:08:32.717

您需要使用 select 中的数据过滤 Exists，如下所示：

```
 INSERT INTO TEMP_8
 SELECT PASS_M, ENTRY_DT, EXIT_DT, WORKED_HRS, 
        CONSECUTIVE_D = num -(SELECT max(num)
                              FROM TEMP_7 B
                              WHERE B.CONSEC <= A.CONSEC
                                    AND B.GAP = 1
                                    AND A.IC_N = B.IC_N) + 1
 FROM TEMP_7 A
 WHERE NOT EXISTS (SELECT 1
                   FROM TEMP_8 T
 WHERE A.PASS_M=T.PASS_M AND A.ENTRY_DT=T.ENTRY_DT AND A.EXIT_DT=T.EXIT_DT); 
```

# zend-framework2 - 如何使用html img

> ID：14036585
> 
> 赞同：0
> 
> 时间：2012-12-26T06:04:19.817
> 
> 标签：zend-framework2, assets

我在 Ubuntu 的 zend 框架 2 教程项目中有以下文件夹结构：

```
/zf2tutorial
    /module
        /Album
            /view
                /album
                    /album
                        myImage.png
                        index.phtml 
```

在我的 index.phtml 代码中，我有这样一行：

```
<img alt='SMALLIMG' src='myImage.png'/> 
```

这不起作用。

如果我将 myImage.png 更改为`http://www.someurlhere.com`这可以正常工作。

如何改为加载 myImage.png？我试着给它直接的 URL：

```
/home/myUsername/NetBeansProjects/zf2tutorial/module/Album/view/album/album/myImage.png 
```

我也尝试过执行以下操作：

```
../myImage.png 
```

但这些都不起作用。

另请注意，它必须是错误的路径（我一定是在这里做错了），因为出现了损坏的图像图标......表明这里存在链接问题.. 直接 URL 是从属性部分复制粘贴的图像本身..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T06:46:37.967

这不是图像或路径的问题。你正在尝试做一件不可能的事情。

您当然在您的虚拟主机配置中定义了 documentRoot 是您的公共目录。

这意味着您的 Web 服务器将允许访问此公共目录中的资源。

您必须从该公共路径（css、图像..）中放置您的资源，或者如果您允许以下符号链接，您可以定义一个符号链接。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-31T11:41:08.863

```
<img alt=""  src="img/2 header960.png" align="center" > 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-26T07:43:29.243

您感到困惑的根本问题是视图与公共内容之间的区别。

视图文件本质上是 HTML*模板*，您可以在运行时向其中注入某些值。您的目录结构正确地将这些内容放置`views`在模块内的目录中。这些模板文件本身永远不会暴露给最终用户。它们仅由应用程序用于生成最终发送到浏览器的完全填充的 HTML 块。

相比之下，静态资产（如图像、javascript、外部样式表等）由网络服务器直接提供给您的访问者。因此，它们需要位于已告知网络服务器公开服务于访问者的目录中。

简单的做法是简单地将包含这些静态资产的目录移出模块并进入应用程序的`public`文件夹。

但这在某种意义上是不可取的，因为您可能合理地希望模块成为一个*自包含的*实体：它可以包含自己的路由、自己的控制器/动作，特别是它自己的静态资产。

那么，如何让网络服务器深入到模块中并将其中的一些内容视为“公共”？

答案是使用“资产管理器”，一个将某些模块内容链接到应用程序`public`目录的组件。通常这意味着：

1.  激活资产管理器模块
2.  *在你的模块中*创建一个`public`目录
**   将那些静态资产放在那里*   通知资产管理器哪些公共模块目录进入公共应用目录。*

 *[查看Roberto Wesley Overdijk](https://github.com/RWOverdijk/AssetManager)的AssetManager 模块和[其他使用说明](http://ocramius.github.com/blog/asset-manager-for-zend-framework-2/)。

[作为旁注，欢迎来到 Web 开发的世界。ZF2 是一个很棒的框架，但对于初学者来说它并不是最简单的事情。它为以“好的方式”做事提供了很大的灵活性，但一开始它肯定会令人费解。尽量不要气馁。;-)]

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T06:12:20.240

```
<div id='small_image'>
    <a href='/feeds/posts/default' title='smallimg'>
        <img alt='SMALLIMG' src='c:/home/myUsername/NetBeansProjects/zf2tutorial/module/Album/view/album/album/myImage.png'/>
    </a>
</div> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-26T06:30:42.003

原因可能是图像扩展名（.png）

请检查您的确切扩展名，是用小写还是大写？

像图像名称一样更新您的图像链接。

例如。

**myImage.png**或**myImage.PNG**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-26T06:25:45.040

尝试在您的目录中的某个位置查找一个 .htaccess 文件，很可能是在模块文件夹中。该文件阻止了您尝试链接的图像的访问。（我的基础是我在 yii 中的应用程序，它甚至无法显示图像如果路径正确）

你可以在你的主目录中创建一个图像文件夹：例如 /zf2tutorial/images 并将所有图像放在那里调用它：src="/images/myImage.png"..

或者

找到我正在谈论的 htaccess，更改限制（或删除它：|），您可以使用此路径：src="/module/Album/view/album/album/myImage.png"..*

# java - 从 mySQL 数据填充 Jtable

> ID：14036588
> 
> 赞同：-1
> 
> 时间：2012-12-26T06:04:47.867
> 
> 标签：java, swing, user-interface, jtable, tablemodel

我不知道如何以及从哪里开始我的代码。我尝试在谷歌中搜索如何使用 java 代码在 netbeans GUI 中填充 Jtable。实际上，我不希望 MySql 数据库中的所有列都被显示。所以我创建了表格模型。我不知道这是否可行。但问题是我不知道接下来要做什么。我希望它显示在我的名为“tblList”的 Jtable 中。请帮助我如何。这是我的“ListOfMembersModel”

```
 import java.text.DateFormat;
  import java.util.ArrayList;
  import java.util.Locale;
  import javax.swing.table.DefaultTableModel;
  import rtu.tomis.bom.Member;

  public class ListOfMembersModel extends DefaultTableModel{
private ArrayList<Member> members;

public ArrayList<Member> getMembers() {
    return members;
}

public void setMembers(ArrayList<Member> members) {
    this.members = members;
}

public ListOfMembersModel(ArrayList<Member> members){
    this.members = members;
    String[] columns = {"MemberId", "Voters ID", "Full Name",  "Age",  "Address", "Gender", "Birthday", "Contact Number", "Email Address", "Type of Membership"};
    this.setColumnIdentifiers(columns);
}

 public int getRowCount() {
    int rows = 0;
    if(this.members!=null && this.members.size()>0){
        rows = this.members.size();
    }
    return rows;
}

public int getColumnCount() {
    int columns = 10;
    return columns;
}

@Override
public Object getValueAt(int rowIndex, int columnIndex) {

    String s = "";
    Member member = null;
    if(this.members!=null && this.members.size()>0){

        member = (Member)this.members.get(rowIndex);

        switch(columnIndex){
            case 0:
                s = ""+member.getMemberId();
                break;
            case 1:
                s = member.getVotersId();
                break;
            case 2:
                s = member.getFullname();
                break;
            case 3:
                s = "" + member.getAge();
                break;
            case 4:
                s = member.getFulladdress();
                break;
            case 5:
                s = member.getGender();
                break;
            case 6:
                DateFormat df = DateFormat.getDateInstance(DateFormat.MEDIUM, Locale.US);
                String bday = df.format(member.getBirthday());
                s = ""+bday;
                break;

               case 7:
                s = "" + member.getContactNo();
                break;

                case 8:
                s = member.getEmailAddress();
                break;

                 case 9:
                s = member.getMembershipType();
                break;

        }
    }
    return s;
}

public boolean isCellEditable(int row, int col){
    return false;
} 
```

你能帮我看看我将如何在填充我的 Jtable 时显示它。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:29:56.150

答案似乎是

```
jTable.setModel(new ListOfMembersModel(members)); 
```

某些更改可能必须向表侦听器发出通知，其中之一是 JTable，请参阅[AbstractTableModel.fire...](http://docs.oracle.com/javase/7/docs/api/javax/swing/table/AbstractTableModel.html)方法

# ios - 表格视图按钮索引单元格

> ID：14036589
> 
> 赞同：0
> 
> 时间：2012-12-26T06:04:51.513
> 
> 标签：ios, uitableview

我在该单元格中有一个表格视图是自定义的。我在表格视图的每个单元格上添加两个按钮。当我同时单击第一个按钮时，来自同一单元格的第二个按钮正在更改其图像。为此，我有方法 as`editQuantity`和`Cancelorder`. 使用@sel。我遇到一个问题，当我单击第一个按钮更改同一个单元格时，另一个按钮更改另一个单元格按钮，当我滚动表查看其丢失所有选定按钮时

```
Here Is My Code--

    - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath     *)indexPath
{

simpleTableIdentifier = @"MenuNameCell";
    MenuNameCell *cell = (MenuNameCell *)[tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier];
   if (cell== nil) {
        NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"MenuNameCell" owner:self options:nil];
        cell = [nib objectAtIndex:0];
        NSLog(@"---------new cell agin");   
    }
       else
    {
        NSArray *arrayView = [cell.contentView subviews];
        for (UIView *vTemp in arrayView)
        {
            [vTemp removeFromSuperview];
        }

        NSLog(@"---No New Cell hiiii");

        // Setting Tag To UIButton
        _checkButton = (UIButton *)[cell.contentView viewWithTag:indexPath.row];
        _cancelButton = (UIButton *)[cell.contentView viewWithTag:indexPath.row];
    }
    // Creating Label Menu Name
    _nameLabel = [[UILabel alloc] initWithFrame:CGRectMake(8, 11, 82, 21)];
    _nameLabel.backgroundColor = [UIColor clearColor];
    _nameLabel.text =  [_hotel._orderedMenus objectAtIndex:indexPath.row];

    // Creating Label Menu Cost
    _amountMenu   = [[UILabel alloc] initWithFrame:CGRectMake(167, 13, 44, 21)];
    _amountMenu.backgroundColor = [UIColor clearColor];
    _amountMenu.text  = [[_hotel._menuPrices objectAtIndex:indexPath.row] stringValue];

    // Creating Text Field For Order Quantity
    _textFieldQuantity = [[UITextField alloc] initWithFrame:CGRectMake(125,14,42,21)];
    _textFieldQuantity.userInteractionEnabled = NO;
    _textFieldQuantity.text = [[_hotel._selectedQuantity objectAtIndex:indexPath.row] stringValue];

    // Creating Button For Check Order
    _checkButton  = [UIButton buttonWithType:UIButtonTypeCustom];
    [_checkButton setFrame:CGRectMake(232, 13, 25, 28)];
    [_checkButton setTag:indexPath.row];
    _checkButton.titleLabel.tag = indexPath.row;
    [_checkButton setBackgroundImage:[UIImage imageNamed:@"edit.png"]forState:UIControlStateNormal];
    [_checkButton addTarget:self action:@selector(editQuantity:) forControlEvents:UIControlEventTouchUpInside];

    // Creating Button For CANCEL Order
    _cancelButton  = [UIButton buttonWithType:UIButtonTypeCustom];
    [_cancelButton setFrame:CGRectMake(265, 13, 25, 28)];
    [_cancelButton setBackgroundImage:[UIImage imageNamed:@"cancel.png"] forState:UIControlStateNormal];
    [_cancelButton setTag:indexPath.row];
    _cancelButton.titleLabel.tag = indexPath.row;
    [_cancelButton addTarget:self  action:@selector(cancelOreder:) forControlEvents:UIControlEventTouchUpInside];

    // Adding All To Content View
    [cell.contentView addSubview:_nameLabel];
    [cell.contentView addSubview:_amountMenu];
    [cell.contentView addSubview:_textFieldQuantity];
    [cell.contentView addSubview:_checkButton];
    [cell.contentView addSubview:_cancelButton];

    //objc_setAssociatedObject(_checkButton, iindex, indexPath,OBJC_ASSOCIATION_RETAIN );

    return cell;
  }

-(void)editQuantity:(id)sender{

    button = (UIButton *)sender;
    row = button.tag;
    col = button.titleLabel.tag;
    NSLog(@"Check Button index is %d",row);
    NSLog(@"cehck title is %d",col);
    _textFieldQuantity.userInteractionEnabled = YES;
    UIImage *buttonImage = [UIImage imageNamed:@"edit_over.png"];
    [_checkButton setBackgroundImage:buttonImage forState:UIControlStateNormal];
    UIImage *buttonImageCancel = [UIImage imageNamed:@"check.png"];
    [_cancelButton setBackgroundImage:buttonImageCancel forState:UIControlStateNormal];
    _cancelButton.tag =  0;

} 

-(void)cancelOreder:(id)sender{

    button = (UIButton *)sender;
    row = button.tag;
    NSLog(@"The Row Selected iS At Cancel Order ISSSS----%d", row);
    if (_cancelButton.tag ==  0){
        _textFieldQuantity.userInteractionEnabled = NO;
        UIImage *buttonImageCancel = [UIImage imageNamed:@"check_over.png"];
        [_cancelButton setBackgroundImage:buttonImageCancel  forState:UIControlStateNormal];
        UIImage *buttonImageCancel1 = [UIImage imageNamed:@"cancel.png"];
        [_cancelButton setBackgroundImage:buttonImageCancel1 forState:UIControlStateNormal];
        UIImage *buttonImage = [UIImage imageNamed:@"edit.png"];
        [_checkButton setBackgroundImage:buttonImage forState:UIControlStateNormal];
        _cancelButton.tag = 1;
    }
    else
    {
        UIAlertView *alert =  [[UIAlertView alloc] initWithTitle:@"iHomeDelivery" message:@"Do You Want To Cancel the Order" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil];
        [alert show];
        [alert release];
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:53:51.993

问题是任何控件的默认标记值都设置为，`0`并且您使用了`_cancelButton.tag = 0;`. 只需将值更改为`10`，然后`_cancelButton.tag = 1;`更改`1`为`11`。

这将解决您的问题:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T07:23:08.217

正如我所见，_checkButton、_nameLabel、_amountMenu、_textFieldQuantity 和 _cancelButton 都是视图控制器类的实例变量。

在 cellForRowAtIndexPath: 中，当您为所有这些分配新对象时，它们将引用显示的最后一个单元格的对象。意味着所有这些都将指向最后一个单元格的组件。因此，更改 _checkButton 和 _cancelButton 的背景图像将影响最后一个单元格中的按钮。

同样在 cellForRowAtIndexPath: 创建这些按钮时，您正在为它们设置背景图像，因此在滚动后您的按钮图像会发生变化。记住 cellForRowAtIndexPath: 在滚动时隐藏后，每次该行变为可见时都会调用该行。

您需要在单独的数组中维护按钮的状态，以便在出列后重置 cellForRowAtIndexPath: 中按钮的状态。

# deployment - 如何在一次构建中为 Windows、Linux 和 Mac 构建原生应用程序包？

> ID：14036590
> 
> 赞同：1
> 
> 时间：2012-12-26T06:04:57.410
> 
> 标签：deployment, ant, javafx-2, executable-jar

我在 Windows 8 OS 64 位机器上运行我的构建。我的系统上安装了 JavaFx2.0 和 Java 1.7.0_09。我能够构建一个 64 位窗口可执行文件，将我的 JavaFx 应用程序作为独立的 Javafx 应用程序启动。

现在我想在 Windows、Linux 和 Mac 上交付本机应用程序包，而不在所有三个平台上构建我的项目，即我想在一个构建中实现这些包集，我想在 Windows 8 OS 64 位机器上运行。

如果我可以通过将单个应用程序 JAR 文件作为 MAC 和 Linux 的 .zip 分发来实现，我也可以。但我想要的是 JAR 应该在各自的平台上工作。

当我使用命令在 MAC 上运行单个应用程序 Jar 时

java -jar 应用程序.jar

它总是显示带有下载链接的对话框“应用程序需要更新版本的 Java 运行时”。即使我已经在我的 MAC 机器上下载并成功安装了它，但它仍然显示相同的窗口。

我不希望用户在 MAC 和 Linux 上运行我的 JavaFX 应用程序时遇到这样的困难。

我需要使用 Application JAR 提供更多内容，以便用户可以在 MAC 和 Linux 上轻松运行我的 JavaFx 应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:11:55.397

我猜你是在 64 位机器上制作 JavaFX 解决方案，另一方面，你必须拥有 64 位版本的所有 SDK 和运行时。问题是使用 64 位版本的 SKD 制作的应用程序需要 64 位操作系统来呈现自身。所以底线是，你的 mac 和 linux PC 是否有 64 位版本的操作系统和 JavaFX 运行时以及 Java7.X 都是 64 位的？如果不是，那么您必须将您的运行时更新为 64 位版本或在 32 位版本的 SDK 中制作您的应用程序。一个快速的建议。如果您的 mac 或 linux 是 64 位（我对 mac 不太了解），那么只需安装浏览器，即 64 位版本和运行时并试用。我遇到了同样的问题，并且得到了解决。如果我的回答引起任何混淆，请告诉我。

# sql - 删除语句 - 子查询应该抛出错误

> ID：14036592
> 
> 赞同：8
> 
> 时间：2012-12-26T06:05:16.927
> 
> 标签：sql, oracle, subquery, delete-row

我创建了两个表，T1 和 T2，每个表都有一列，分别是 abc 和 xyz。我在每个表中插入了 2 行（数值 1 和 2）。

当我运行命令`"select abc from t2"`时，它会抛出一个错误，指出表 T2 中不存在列 abc。但是，当我运行命令时`"delete from t1 where abc in (SELECT abc from t2);"`，会删除 2 行。

不应该删除失败，因为我使用了在子查询中失败的相同语句吗？

> 创建表 t1（abc 编号）；**--创建的表**
> 
> 创建表 t2（xyz 编号）；**--创建的表**
> 
> 插入 t1 值 (1); **--插入一行**
> 
> 插入 t1 值 (2); **--插入一行**
> 
> 插入 t2 值 (1); **--插入一行**
> 
> 插入 t2 值 (2); **--插入一行**
> 
> 从 t2 中选择 abc；**--ORA-00904 -> 因为列 abc 在 t2 中不存在**
> 
> 从 t1 中删除 abc in (SELECT abc from t2); **--2 行已删除**

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-26T06:16:58.330

如果您使用表名作为别名来确保表 t2 列被选中，您将收到错误，即

```
 delete from t1 where abc in (SELECT t2.abc from t2); --ORA-00904 
```

您的原始查询没有失败，因为它使用表的`abc`列，`t1` **因为表`t1`在子查询中可见。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T09:41:07.187

由于您在 Where 条件中使用了 abc 列名，因此您的 Delete 语句正在工作。子查询基于 where 条件列执行，因为我们不使用表别名。

如果你看到这些查询

select * from t1 where abc in (SELECT abc from t2); -- 它会给出 2 行

select * from t1 where abc in (SELECT 1 from t2); -- 它会给出 1 行

select * from t1 where abc in (SELECT 2 from t2); -- 它将检索第二行

select * from t1 where abc in (SELECT 3 from t2); -- 不会得到 d 数据

select * from t1 where abc in (SELECT hg from t2); - 不合法的识别符

# java - 内部框架更改无法编译

> ID：14036596
> 
> 赞同：1
> 
> 时间：2012-12-26T06:05:48.823
> 
> 标签：java, swing, compiler-errors, jinternalframe, jdesktoppane

我正在做一个小应用程序。我有一个`JFrame`，其中有一个桌面窗格。我想给`JInternalFrame`它加载一个。

我的代码如下。

```
void dpload(){
        Patients patient = new Patients();
        dp_patient.add(patient);
        patient.setVisible(true);
  } 
```

*患者 = JInternalFrame*
*患者 = 创建的对象*
*dp_patient = desktopPane*

当我第一次测试它时，它编译得很好。但是如果我对`JInternalFrame`and run 进行任何修改，它不会改变它的修改。

但是当我更改对象名称（患者）并再次运行时，就会发生变化。

例如；

我更改了 JInternalFrame 中按钮的大小。当我运行项目时，大小没有改变。如果我更改对象名称（患者>>> 患者），则会发生大小更改。

我怎样才能解决这个问题？

# android - 在Android中是否可以允许手机有两个解锁密码？

> ID：14036598
> 
> 赞同：1
> 
> 时间：2012-12-26T06:06:42.650
> 
> 标签：android

我想做的是在Android上创建一个允许以下内容的应用程序：

允许手机有两个解锁密码。一个解锁码将成为主“正常”码。第二个解锁代码将允许用户接收和发送文本、拨打和接听电话、存储图片以及不会出现在“正常”屏幕中的联系人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:22:30.963

您无法使用应用程序执行此操作。应用程序不能更改系统行为，除非它们是“系统管理员”应用程序。即使是那些无法做到如此细粒度的控制，也只能对解锁代码强度、相机使用和设备加密施加限制。正如其他人所指出的，Android 4.2 支持多个用户（仅限平板电脑），这为每个用户提供了单独的解锁代码。此外，一些影响整个设备的操作，例如添加新用户、添加或删除受信任的证书、访问安全元件等，是为第一/主要用户保留的。但是，您不能使用平板电脑拨打电话，因此多个用户并不真正适用于通话/短信。

# window - 如何在javafx2的新窗口中接收用户数据

> ID：14036602
> 
> 赞同：1
> 
> 时间：2012-12-26T06:07:02.510
> 
> 标签：window, javafx, stage

我想通过单击（比如说）菜单项来显示一个新窗口。新窗口将包含两个文本字段和一个取消按钮和一个确定按钮。当用户在文本字段中提供数据并按确定时，然后在父窗口中我应该收到用户提供的值。

我怎样才能做到这一点？请给我一个示例代码。谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-26T08:13:40.227

这是解决方案，您单击窗口菜单，然后单击新窗口，新窗口打开，带有两个文本字段，确定并取消按钮，我从第一个文本字段中获取文本值并将其显示在父窗口中。如果您有任何问题，请告诉我，我使用单例设计模式和 MVC。如果您对运行代码有任何疑问，请告诉我。

```
 /*

         * To change this template, choose Tools | Templates
         * and open the template in the editor.
         */
        package stackoverflow;

        import java.awt.event.MouseEvent;
        import java.awt.event.MouseListener;
        import javax.swing.JFrame;

        /**
         *
         * @author Burak Firik
         */
        public class ButtonListener implements MouseListener{

            String value;

            public ButtonListener(String str){
                value=str;
            }

            @Override
            public void mouseClicked(MouseEvent e) {

                MainSingleton singleton=MainSingleton.getMainSingleton();
                InputFrame inputFrame=singleton.getinputGUI();
                MainFrame mainGUI=singleton.getGUI();
                mainGUI.setLabelValue(inputFrame.getTextField1().getText());
                mainGUI.repaint();

            }

            @Override
            public void mousePressed(MouseEvent e) {
                MainSingleton singleton=MainSingleton.getMainSingleton();
                InputFrame inputFrame=singleton.getinputGUI();
                inputFrame.setVisible(false);
            }

            @Override
            public void mouseReleased(MouseEvent e) {

            }

            @Override
            public void mouseEntered(MouseEvent e) {

            }

            @Override
            public void mouseExited(MouseEvent e) {

            }

        } 
```

并取消弹出窗口的按钮侦听器

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package stackoverflow;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 *
 * @author Burak Firik
 */
public class CancelButtonListener implements ActionListener{

    @Override
    public void actionPerformed(ActionEvent e) {
        MainSingleton singleton=MainSingleton.getMainSingleton();
        InputFrame inputFrame=singleton.getinputGUI();
        inputFrame.setVisible(false);
    }

} 
```

和 inputFrame 弹出的 jframe 将显示两个文本字段和两个按钮，用于确定和取消

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package stackoverflow;

import java.awt.BorderLayout;
import java.awt.FlowLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.JTextField;

/**
 *
 * @author Burak Firik 
 */
public class InputFrame extends JFrame {

    JTextField txt1;
    JTextField txt2;
    JButton     btnOk;
    JButton     btnCancel;
    public InputFrame(){
        initGUI();
        initHandlers();
    }

   void initGUI(){
        this.setLayout(new BorderLayout());
        this.setSize(300,300);
        this.setLocation(200,200);
        txt1=new JTextField(10);
        txt2=new JTextField(10);
        btnOk=new JButton("OK");
        btnCancel=new JButton("Cancel");

        JPanel northPanel=new JPanel();
        northPanel.setLayout(new FlowLayout(FlowLayout.LEFT));
        northPanel.add(txt1);
        northPanel.add(txt2);

        JPanel centerPanel=new JPanel();
        centerPanel.setLayout(new FlowLayout(FlowLayout.LEFT));
        centerPanel.add(btnOk);
        centerPanel.add(btnCancel);

        add(northPanel,BorderLayout.NORTH );
        add(centerPanel, BorderLayout.CENTER);

    }
   void initHandlers(){
        ButtonListener btnListern=new ButtonListener(txt1.getText());
        btnOk.addMouseListener(btnListern);
        CancelButtonListener btnCancelListen=new CancelButtonListener();
        btnCancel.addActionListener(btnCancelListen);
   }

   JFrame getInputFrame(){
       return this;
   }

   JTextField getTextField1(){
       return this.txt1;
   }
   JTextField getTextField2(){
       return this.txt2;
   }

   public static void main(){
       InputFrame frame=new InputFrame();
       frame.setVisible(false);
   }

} 
```

newWindow ManuItem 所在的主机；

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package stackoverflow;

import java.awt.BorderLayout;
import javax.swing.ImageIcon;
import javax.swing.JCheckBoxMenuItem;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JRadioButtonMenuItem;

/**
 *
 * @author Burak Firik
 */
public class MainFrame extends JFrame{

   private  JMenuBar    menuBar;
   private  JMenu       menuWindow;
   private  JMenuItem   menunewWindow;

   private      JLabel          labelInputValue;

   public MainFrame(){
       this.setVisible(true);
       this.setSize(300,300);
       initGUI();
       initHandlers();
   }

    private void initGUI() {
                // Create the menu bar
                this.setLayout(new BorderLayout());
        menuBar = new JMenuBar();
                menuWindow = new JMenu( "Window" );
        menuWindow.setMnemonic( 'N' );
        menuBar.add( menuWindow );

                menunewWindow = CreateMenuItem( menuWindow, ITEM_PLAIN,
                                "New Window", null, 'N', null );
                add(menuBar, BorderLayout.NORTH);

                labelInputValue=new JLabel("SELAM");
                add(labelInputValue, BorderLayout.CENTER);

    }

    public JMenuItem CreateMenuItem( JMenu menu, int iType, String sText,
                                ImageIcon image, int acceleratorKey,
                                String sToolTip )
    {
        // Create the item
        JMenuItem menuItem;

        switch( iType )
        {
            case ITEM_RADIO:
                menuItem = new JRadioButtonMenuItem();
                break;

            case ITEM_CHECK:
                menuItem = new JCheckBoxMenuItem();
                break;

            default:
                menuItem = new JMenuItem();
                break;
        }

        // Add the item test
        menuItem.setText( sText );

        // Add the optional icon
        if( image != null )
            menuItem.setIcon( image );

        // Add the accelerator key
        if( acceleratorKey > 0 )
            menuItem.setMnemonic( acceleratorKey );

        // Add the optional tool tip text
        if( sToolTip != null )
            menuItem.setToolTipText( sToolTip );

        // Add an action handler to this menu item

        menu.add( menuItem );

        return menuItem;
    }

   private final int    ITEM_PLAIN  =   0;  // Item types
   private final int    ITEM_CHECK  =   1;
   private final int    ITEM_RADIO  =   2;

    private void initHandlers() {
        MenuListener menuListen=new MenuListener();
        menunewWindow.addActionListener(menuListen);

    }

    public void setLabelValue(String str){
        labelInputValue.setText(str);
        this.repaint();

    }

} 
```

此类包含单例对象，对于懒惰的程序员来说非常快:))

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package stackoverflow;

/**
 *
 * @author Burak Firik
 */
public class MainSingleton {

     private static MainSingleton singleton=null;

     private MainFrame gui;

     private InputFrame inputGUI;

      //private constructor for singleton design pattern
    private MainSingleton(){}

    public static MainSingleton getMainSingleton()
    {
        // ONLY CONSTRUCT THE SINGLETON THE FIRST TIME
        if (singleton == null)
        {
            singleton = new MainSingleton();
        }

        // GET THE SINGLETON NO MATTER WHAT
        return singleton;
    }

    public static void main(String[] args) {

       MainSingleton mainFrame=MainSingleton.getMainSingleton();
       mainFrame.init();

    }

    public void init(){

        // INITALIZE THE GUI
        gui = new MainFrame();

        inputGUI=new InputFrame();

    }

    public void requestExit()
    {
        // WE MAY HAVE TO SAVE CURRENT WORK
        boolean continueToExit = true;

        // IF THE USER REALLY WANTS TO EXIT THE APP
        if (continueToExit)
        {
            // EXIT THE APPLICATION
            System.exit(0);
        }
    }

    public MainFrame getGUI() { return gui; }
    public InputFrame getinputGUI() { return inputGUI; }

} 
```

这是菜单侦听器，当您单击新窗口时，将调用此侦听器。

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package stackoverflow;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.Action;

/**
 *
 * @author Burak Firik
 */
public class MenuListener implements ActionListener {

    @Override
    public void actionPerformed(ActionEvent e) {
       MainSingleton singleton=MainSingleton.getMainSingleton();
       InputFrame inputFrame=singleton.getinputGUI();
       inputFrame.setVisible(true);
    }

} 
```

# objective-c - Objective-C - NSObject isEqual，与==比较？

> ID：14036604
> 
> 赞同：15
> 
> 时间：2012-12-26T06:07:27.117
> 
> 标签：objective-c, ios

> **可能重复：**
> [比较 Obj-c 中的对象](https://stackoverflow.com/questions/5054730/comparing-objects-in-obj-c)

这两种检查对象相等性的方法有什么区别：

```
UIButton *btn1 = [[UIButton alloc] init];
UIButton *btn2 = [[UIButton alloc] init]; 
```

有什么区别：

```
if (btn1 == btn2) {
  // Run some code
} 
```

和

```
if ([btn1 isEqual:btn2]) {
  // Run some code
} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-12-26T06:10:04.093

第一种方式比较指针，而第二种方式比较对象。

也就是说，第一种方法比较指针是否具有相同的值。在这种情况下，它们很可能不会，在第二种情况下，将比较对象。由于它们的初始化方式相同，因此它们可以相等。`UIButton`（注意，结果的' 实现似乎`isEqual:`总是错误的。）

在大多数情况下，使用`==`不是您想要的。但是，什么是合适的取决于您的目标。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-12-26T06:43:39.103

Prateek 的答案和 Thomas 的编辑答案是正确的。但我只是想在处理此类案件时添加一个常见的陷阱/困惑..

考虑这种情况

```
 NSString *str1  = [[NSString alloc] initWithString:@"hello"];
 NSString *str2  = [[NSString alloc] initWithString:@"hello"]; 
```

理想情况下`str1`，`str2`应该是 2 个不同的字符串对象，str1 和 str2 应该指向不同的地址。但是在代码下面运行打印`str1 == str2`

```
if(str1 == str2){
    NSLog(@"str1 == str2");
} 
```

和下面的代码打印`str1 isEqual str2`

```
if([str1 isEqual:str2]){
    NSLog(@"str1 isEqual str2");
} 
```

原因是，通过的**两个相同的字符串字面`initWithString`量将具有相同的起始地址**，因此它们也是同一个对象（参见[this](https://stackoverflow.com/questions/11605851/why-are-these-two-nsstring-pointers-the-same)）。这是对常量数据的优化，这是 iOS 中的一个特性（以及我感觉的许多其他实现）。

但这不适用于其他类型的对象/类。当您创建 2 时`UIButton`，它们将完全不同的对象，并且两者`btn1`（`btn2`见问题）将指向不同的地址。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-12-26T06:12:01.893

评论中提到的差异

```
if (btn1 == btn2) //This compared your pointers
{
  // Run some code
} 
```

和

```
if ([btn1 isEqual:btn2]) //Compares UIButton object
{
  // Run some code
} 
```

# list - 在 Sharepoint 站点的自定义页面中显示公告列表

> ID：14036606
> 
> 赞同：0
> 
> 时间：2012-12-26T06:07:55.273
> 
> 标签：list, sharepoint-2010, custom-pages

我有一个共享点站点，我添加了一个自定义 aspx 页面，我想在该页面中显示公告列表项。如何在自定义页面中显示列表项？有用的链接和示例代码会有帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T11:58:19.513

从浏览器访问您的自定义页面并通过单击站点操作 > 编辑页面来编辑页面。如果您的页面中有可用的 Web 部件区域，那么

单击“添加 Web 部件”（用于 Web 部件页面）> 单击功能区中的“插入”选项卡 > 选择“Web 部件”> 列表和库 > 选择公告列表，然后单击“确定”。

这将在您的页面中添加公告列表的 Web 部分。

但是，如果您没有 webpart 区域，那么恐怕无法直接使用，

但是你可以使用客户端对象模型来访问这个

> [http://msdn.microsoft.com/en-us/library/ee539350%28v=office.14%29.aspx](http://msdn.microsoft.com/en-us/library/ee539350%28v=office.14%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-29T05:59:05.410

我找到了满足我要求的解决方案。我曾使用 XsltListViewWebPart 在自定义应用程序页面中显示公告列表。我要感谢所有向我提供建议的人，非常感谢。

以下链接为我做了

[http://suryapulipati.blogspot.in/2011/08/sharepoint-2010-show-add-new-item-or.html](http://suryapulipati.blogspot.in/2011/08/sharepoint-2010-show-add-new-item-or.html)

# c# - 检测定点乘法中的溢出

> ID：14036613
> 
> 赞同：1
> 
> 时间：2012-12-26T06:08:52.593
> 
> 标签：c#, math, fixed-point

简短版本：如何使用[此处](https://stackoverflow.com/a/4769720/154766)描述的定点乘法检测溢出，但对于有符号类型？

长版：

我的[Q31.32 定点类型](https://stackoverflow.com/questions/14026031/64-bit-fixed-point-multiplication-error)仍有一些溢出问题。为了更容易在纸上计算示例，我使用相同的算法制作了一个小得多的类型，即基于 sbyte 的 Q3.4。我认为，如果我能解决 Q3.4 类型的所有问题，那么同样的逻辑应该适用于 Q31.32 类型。

请注意，我可以很容易地通过对 16 位整数执行 Q3.4 乘法来实现它，但我这样做好像不存在，因为对于 Q31.32 我需要一个 128 位整数不存在（而且 BigInteger 太慢了）。

我希望我的乘法通过饱和来处理溢出，即发生溢出时，结果是可以根据操作数的符号表示的最大值或最小值。

这基本上是类型的表示方式：

```
struct Fix8 {
    sbyte m_rawValue;
    public static readonly Fix8 One = new Fix8(1 << 4);
    public static readonly Fix8 MinValue = new Fix8(sbyte.MinValue);
    public static readonly Fix8 MaxValue = new Fix8(sbyte.MaxValue);

    Fix8(sbyte value) {
        m_rawValue = value;
    }

    public static explicit operator decimal(Fix8 value) {
        return (decimal)value.m_rawValue / One.m_rawValue;
    }

    public static explicit operator Fix8(decimal value) {
        var nearestExact = Math.Round(value * 16m) * 0.0625m;
        return new Fix8((sbyte)(nearestExact * One.m_rawValue));
    }
} 
```

这就是我目前处理乘法的方式：

```
 public static Fix8 operator *(Fix8 x, Fix8 y) {
        sbyte xl = x.m_rawValue;
        sbyte yl = y.m_rawValue;

        // split x and y into their highest and lowest 4 bits
        byte xlo = (byte)(xl & 0x0F);
        sbyte xhi = (sbyte)(xl >> 4);
        byte ylo = (byte)(yl & 0x0F);
        sbyte yhi = (sbyte)(yl >> 4);

        // perform cross-multiplications
        byte lolo = (byte)(xlo * ylo);
        sbyte lohi = (sbyte)((sbyte)xlo * yhi);
        sbyte hilo = (sbyte)(xhi * (sbyte)ylo);
        sbyte hihi = (sbyte)(xhi * yhi);

        // shift results as appropriate
        byte loResult = (byte)(lolo >> 4);
        sbyte midResult1 = lohi;
        sbyte midResult2 = hilo;
        sbyte hiResult = (sbyte)(hihi << 4);

        // add everything
        sbyte sum = (sbyte)((sbyte)loResult + midResult1 + midResult2 + hiResult);

        // if the top 4 bits of hihi (unused in the result) are neither all 0s or 1s,
        // then this means the result overflowed.
        sbyte topCarry = (sbyte)(hihi >> 4);
        bool opSignsEqual = ((xl ^ yl) & sbyte.MinValue) == 0;
        if (topCarry != 0 && topCarry != -1) {
            return opSignsEqual ? MaxValue : MinValue;
        }

        // if signs of operands are equal and sign of result is negative,
        // then multiplication overflowed upwards
        // the reverse is also true
        if (opSignsEqual) {
            if (sum < 0) {
                return MaxValue;
            }
        }
        else {
            if (sum > 0) {
                return MinValue;
            }
        }

        return new Fix8(sum);
    } 
```

这会在类型的精度范围内提供准确的结果并处理大多数溢出情况。但是它不处理这些，例如：

```
Failed -8 * 2 : expected -8 but got 0
Failed 3.5 * 5 : expected 7,9375 but got 1,5 
```

让我们弄清楚第一个乘法是如何发生的。

```
-8 and 2 are represented as x = 0x80 and y = 0x20.
xlo = 0x80 & 0x0F = 0x00
xhi = 0x80 >> 4 = 0xf8
ylo = 0x20 & 0x0F = 0x00
yhi = 0x20 >> 4 = 0x02

lolo = xlo * ylo = 0x00
lohi = xlo * yhi = 0x00
hilo = xhi * ylo = 0x00
hihi = xhi * yhi = 0xf0 
```

总和显然是 0，因为除了 hihi 之外所有项都是 0，但在最终总和中只使用了 hihi 的最低 4 位。

我通常的溢出检测魔法在这里不起作用：结果为零，因此结果的符号没有意义（例如 0.0625 * -0.0625 == 0（通过向下舍入），0 是正数但操作数的符号不同）；hihi 的高位也是 1111，即使没有溢出也经常发生。

基本上我不知道如何检测这里发生的溢出。有没有更通用的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T00:28:09.860

您应该检查`hihi`它是否包含超出结果范围的任何相关位。您还可以将结果的最高位与 in 中的相应位进行比较，`hihi`以查看进位是否传播了那么远，如果传播了（即位更改），是否表示溢出（即位更改方向错误） . 如果您使用补码表示法，所有这些可能会更容易表述，并分别处理符号位。但在那种情况下，您的 -8 示例将毫无意义。

看看你的例子，你有`hihi = 0xf0`.

```
hihi   11110000
result     ±###.#### 
```

所以在这种情况下，如果单独没有溢出`hihi`，那么前 5 位将全部相同，结果的符号将与 的符号匹配`hihi`。这不是这里的情况。您可以使用

```
if ((hihi & 0x08) * 0x1f != (hihi & 0xf8))
  handle_overflow(); 
```

`hihi`通过一次将结果相加并在每一步之后执行常见的溢出检测，可能最容易检测进位。还没有准备好的一段代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T04:56:43.487

这花了我很长时间，但我最终想通了一切。此代码经过测试，可在 sbyte 允许的范围内适用于 x 和 y 的所有可能组合。这是注释的代码：

```
 static sbyte AddOverflowHelper(sbyte x, sbyte y, ref bool overflow) {
        var sum = (sbyte)(x + y);
        // x + y overflows if sign(x) ^ sign(y) != sign(sum)
        overflow |= ((x ^ y ^ sum) & sbyte.MinValue) != 0;
        return sum;
    }

    /// <summary>
    /// Multiplies two Fix8 numbers.
    /// Deals with overflow by saturation.
    /// </summary>
    public static Fix8 operator *(Fix8 x, Fix8 y) {
        // Using the cross-multiplication algorithm, for learning purposes.
        // It would be both trivial and much faster to use an Int16, but this technique
        // won't work for a Fix64, since there's no Int128 or equivalent (and BigInteger is too slow).

        sbyte xl = x.m_rawValue;
        sbyte yl = y.m_rawValue;

        byte xlo = (byte)(xl & 0x0F);
        sbyte xhi = (sbyte)(xl >> 4);
        byte ylo = (byte)(yl & 0x0F);
        sbyte yhi = (sbyte)(yl >> 4);

        byte lolo = (byte)(xlo * ylo);
        sbyte lohi = (sbyte)((sbyte)xlo * yhi);
        sbyte hilo = (sbyte)(xhi * (sbyte)ylo);
        sbyte hihi = (sbyte)(xhi * yhi);

        byte loResult = (byte)(lolo >> 4);
        sbyte midResult1 = lohi;
        sbyte midResult2 = hilo;
        sbyte hiResult = (sbyte)(hihi << 4);

        bool overflow = false;
        // Check for overflow at each step of the sum, if it happens overflow will be true
        sbyte sum = AddOverflowHelper((sbyte)loResult, midResult1, ref overflow);
        sum = AddOverflowHelper(sum, midResult2, ref overflow);
        sum = AddOverflowHelper(sum, hiResult, ref overflow);

        bool opSignsEqual = ((xl ^ yl) & sbyte.MinValue) == 0;

        // if signs of operands are equal and sign of result is negative,
        // then multiplication overflowed positively
        // the reverse is also true
        if (opSignsEqual) {
            if (sum < 0 || (overflow && xl > 0)) {
                return MaxValue;
            }
        }
        else {
            if (sum > 0) {
                return MinValue;
            }
            // If signs differ, both operands' magnitudes are greater than 1,
            // and the result is greater than the negative operand, then there was negative overflow.
            sbyte posOp, negOp;
            if (xl > yl) {
                posOp = xl;
                negOp = yl;
            }
            else {
                posOp = yl;
                negOp = xl;
            }
            if (sum > negOp && negOp < -(1 << 4) && posOp > (1 << 4)) {
                return MinValue;
            }
        }

        // if the top 4 bits of hihi (unused in the result) are neither all 0s nor 1s,
        // then this means the result overflowed.
        sbyte topCarry = (sbyte)(hihi >> 4);
        // -17 (-1.0625) is a problematic value which never causes overflow but messes up the carry bits
        if (topCarry != 0 && topCarry != -1 && xl != -17 && yl != -17) {
            return opSignsEqual ? MaxValue : MinValue;
        }

        // Round up if necessary, but don't overflow
        var lowCarry = (byte)(lolo << 4);
        if (lowCarry >= 0x80 && sum < sbyte.MaxValue) {
            ++sum;
        }

        return new Fix8(sum);
    } 
```

我将所有这些放在一个经过适当单元测试的 .NET 定点数学库中，可在此处获得：[https ://github.com/asik/FixedMath.Net](https://github.com/asik/FixedMath.Net)

# iphone - 基于服务器的数据库

> ID：14036619
> 
> 赞同：0
> 
> 时间：2012-12-26T06:09:45.573
> 
> 标签：iphone, mysql, objective-c, ios, xcode

在开始我的个人项目之前，我需要一些帮助和建议。我想开发一个 iOS 应用程序，它连接到基于服务器的 mySQL 数据库或类似的东西，允许我从该数据库中提取信息到 TableView，然后添加、编辑和删除该信息，它会在服务器上更新，这样我就可以随时访问最新信息。我想知道是否有人会有任何提示、教程或如何开始这样的事情。即使教程更简单，这也是一个很好的起点。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T07:01:58.257

有多种方法可以实现这一目标。

以下是其中之一，根据我的说法，这是一种简单而有效的方式。

1.  创建本地数据库
2.  在 AppDelegate 中检查您的本地存储（数据库中的表）是否为空
3.  现在有两种可能
    1.  是 -> 从 Web 服务器获取数据
    2.  否 -> 从本地数据库中获取数据
4.  如果您通过 3.1，则将获取的 Web 服务器数据连同额外的变量将**计数器存储到本地数据库中为 0**
5.  从本地数据库中获取数据及其计数器值。现在说**counter = 0**。这个计数器变量也应该存在于服务器端。
    1.  当服务器端发生任何更新时；此计数器变量的值将递增。
6.  根据您的需要显示数据
7.  添加一些检查最新更新的点击事件
8.  此事件将从服务器端获取计数器变量。
9.  将此计数器值与本地数据库中已存储的计数器值进行比较。
10.  现在又有两种可能

    1.  如果服务器上的计数器值 > 本地数据库中的计数器值 -------> 遵循并重复步骤**4**中的步骤。
    2.  如果服务器的计数器值<=本地数据库的计数器值---->您的本地数据库存储有最新更新

享受编程！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:35:09.763

使用核心数据启动 ios Web 服务的最佳方式，看看这个：

[http://www.raywenderlich.com/15916/how-to-synchronize-core-data-with-a-web-service-part-1](http://www.raywenderlich.com/15916/how-to-synchronize-core-data-with-a-web-service-part-1)

[http://www.raywenderlich.com/17927/how-to-synchronize-core-data-with-a-web-service-part-2](http://www.raywenderlich.com/17927/how-to-synchronize-core-data-with-a-web-service-part-2)

# ajax - jQuery：通过 ajax 获取下一页并附加动画

> ID：14036623
> 
> 赞同：4
> 
> 时间：2012-12-26T06:10:09.937
> 
> 标签：ajax, jquery

我正在使用 jquery 在我的 wordpress 博客上获取下一页，找到所需的 div 并将其附加到现有的。这部分工作没有问题。但是，我需要做的是，为其添加 slideDown 动画。到目前为止，这就是我的工作代码的样子：

```
$.get(next_page, function(data) {
    var response = $(data);
    var more_div = $(response).find('.FeaturedRow1').html();
    $('.FeaturedRow1').append(more_div).slideDown('slow');
    $('.navigation').not(':last').hide(); 
```

我尝试将 hide() 添加到响应、more_div 以及附加行。在第一种情况下，我收到错误消息，指出它无法设置未定义的属性显示。在第二种情况下，它在控制台中显示 HTML 并说“没有方法隐藏”。我也尝试添加一行 $(more_div).hide() 但我再次收到错误“未捕获的类型错误：无法设置未定义的属性‘显示’”。如果我在第三行使用隐藏

```
$('.FeaturedRow1').hide().append(more_div).slideDown('slow'); 
```

它隐藏了整个 FeaturedRow1 div 并为其设置动画，这将我带到了 div 的顶部，这是我不想要的。

编辑：这是所需部分的重要 HTML 结构和 jQuery 代码

```
<div class="FeaturedRow1">
  <div class="postspage">
    //list of posts here
  </div>
  <div class="navigation">
    <span class="loadless">
      //hyperlink to previous page
    </span>
    <span class="loadmore">
      //hyperlink to next page
    </span>
  </div>
</div> 
```

当您单击 loadmore 内的超链接时，将调用以下 jQuery 代码

```
$('.loadmore a').live('click', function(e) {
    e.preventDefault();
    var next_page = $(this).attr('href');
    $.get(next_page, function(data) {
        var $response = $(data);
        var $more_div = $response.find('.FeaturedRow1').hide();
        $more_div.appendTo('.FeaturedRow1').delay(100).slideDown('slow')
        $('.navigation').not(':last').hide();
    });
});
$('.loadless').live('click', function(e) {
    e.preventDefault();
    if ($('.postpage').length != 1) {
        $('.postpage').last().remove();
    } 
    $('.navigation').last().remove();
    $('.navigation').last().show();
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:17:38.327

当您使用`html`返回字符串而不是 jQuery 对象的方法时出现错误，请尝试以下操作。

```
var $response = $(data);
var $more_div = $response.find('.FeaturedRow1').hide();
$more_div.appendTo('.FeaturedRow1').delay(100).slideDown('slow');
//$('.navigation').not(':last').hide(); 
```

更新：

```
$.get(next_page, function(data) {
    var $response = $(data);
    var more_div = $response.find('.FeaturedRow1').html();
    $('<div/>').hide()
               .append(more_div)
               .appendTo('.FeaturedRow1')
               .delay(100)
               .slideDown('slow')
    $('.navigation').not(':last').hide();
}); 
```

# c - 从句子中找到最短的子段

> ID：14036624
> 
> 赞同：0
> 
> 时间：2012-12-26T06:10:13.010
> 
> 标签：c

**手头的问题是**：打印包含给定 k 个单词的第一个最短子段，忽略特殊字符、数字和大小写。如果没有找到子段，它应该返回“NO SUBSEGMENT FOUND”</p>

**样本输入：**

```
This is a test. This is a programming test. This is a programming test in any language.
4
this
a
test
programming 
```

**样本输出：**

```
a programming test This 
```

我的 8 个测试用例通过了，但 2 个没有通过。我不明白出了什么问题。

我也在寻找更多/更好的测试用例。

我的代码在 C 中：

```
 #include <string.h>
    #include <stdio.h>
    #include <stdlib.h>

    #define MAX_STRING_LENGTH 200000

    int main() {

      char S[MAX_STRING_LENGTH]; // original string
      char *smallCapsStr,*tempStr; //temp strings having only blank space and small letters

      int i=0 ;  // used in for loop as inc variable 

      int start, tail,start2=0,tail2=0; // used in storing start and end index "for answer"

      int total;  // total words to find in substring
      char **arr; // array to store words to find
      char **temparr ; // temp arr to store words
      int ptr[16];

      char *temp2; // temp string
        int z=0; // variable informing the end of string
        int val=0; //counter var
         int x=0; //variable informing the start of string
      smallCapsStr=(char*)malloc(sizeof(char)*200000);
      char c;

    //geting string and converting into small caps
      do {
        c=getchar();
        if((c>='A' && c <='Z')||(c>='a' && c<='z')){
            S[i]=(char)c;
            *(smallCapsStr + i)=tolower(c);
            i++;
        }
        else{
            if(S[i-1]!=' ' && i!=0){
                S[i]=' ';
                *(smallCapsStr + i)=' ';
                i++;
            }
        }

      } while (c != '\n');

      S[i]='\0';
     *(smallCapsStr + i) ='\0';

      scanf("%d",&total);

        arr = (char ** )malloc(sizeof(char*)*total);
        temparr = (char ** )malloc(sizeof(char*)*total);

    // getting words to find in arr and temparr
      for(i=0;i<total;i++){
        arr[i]=(char*)malloc(sizeof(char)*14);
        temparr[i]=(char*)malloc(sizeof(char)*14);

        scanf("%s",ptr);
        strcpy(arr[i],ptr);
        strcpy(temparr[i],ptr);
      }

      tempStr=smallCapsStr;

      while(*(tempStr+1)!='\0'){

        sscanf(tempStr,"%s",ptr);

        for(i=0;i<total;i++){
            if(strcmp(ptr,temparr[i]) == 0){

                if(x==0){
                    start = strlen(S)-strlen(tempStr) ;
                    temp2 = tempStr+strlen(ptr)+1;
                }

            x++;
            temparr[i]="";
            break;
            }
        }
        // updating temp string
        tempStr=tempStr+strlen(ptr)+1;
        //if all words are found
        if(x == total){
            tail = strlen(S)-strlen(tempStr) -1;
            x=0;
            val++;
        if(z == 0 || ((tail2-start2)>(tail-start)) ){
            start2 = start;
            tail2 = tail;
        }
        z++;
        for(i=0;i<total;i++){
            temparr[i]= arr[i];
        }
        tempStr=temp2;
        if(val==70)
            break;
        }
      }

    // putting ans
      if(start2 ==0 && tail2 ==0){
        printf("NO SUBSEGMENT FOUND");
      }
      else{
        for(i=start2 ; i<=tail2;i++){
            printf("%c",S[i]);
         }
        }

    free(temparr);
    free(arr);
    free(smallCapsStr);

    } 
```

这是来自 amazon.interviewstreets 的一个问题，其中测试用例对用户不可见。任何形式的帮助都会很好。

# jquery - JQuery 故障排除：我正在尝试使我的 div 反转 .slideup()

> ID：14036627
> 
> 赞同：2
> 
> 时间：2012-12-26T06:10:24.157
> 
> 标签：jquery, jquery-ui

[http://jsfiddle.net/GwBuj/1061/](http://jsfiddle.net/GwBuj/1061/)

我不知道为什么这不起作用。我一直在这个问题上停留了一段时间。

HTML：

```
 <div class="step" id="firststep">
         <div class="stepgraphic2">fadjkfjka</div>
    </div> 
```

jQuery：

```
$('#firststep').click(function() {

     alert('fjad');                   
     $('.stepgraphic2').hide("slide", { direction: "down" }, 1000);
}); 
```

CSS：​</p>

```
.step{        
    float: left;
    height: 230px;
    width: 230px;
    background-color: #025588;
    margin-top: 115px;
    margin-right: 10px;
    margin-bottom: 10px;
    margin-left: 10px;
}  
.stepgraphic2{  
    background-color:#FFF;
    height: 170px;
    width: 157px;    
}​ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:22:35.560

您的代码使用 Jquery UI 方法，包括以下脚本（在调用 jquery 脚本之后），它应该可以工作

```
<script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.5/jquery-ui.min.js'></script> 
```

我试过了，它奏效了！

编辑：具体来说，缓动方法（向下滑动）包含在您需要参考的 jquery ui 脚本中。

# xml - 使用 svg 绘制三个正方形并使其垂直排列

> ID：14036629
> 
> 赞同：0
> 
> 时间：2012-12-26T06:10:58.977
> 
> 标签：xml, layout, svg

以下是我的代码：

```
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="1200px" height="1500px" viewBox="0 0 400 500" id="RoomsSVG">
  <svg id="Room1" width="1200px" height="500px" x="0px" y="0px">
    <rect id="Room1Rect" width="100%" height="100%" fill="red" stroke="black" stroke-width="5px" />
  </svg>
  <svg id="Room2" width="1200px" height="500px" x="0px" y="500px">
    <rect id="Room2Rect" width="100%" height="100%" fill="green" stroke="black" stroke-width="5px" />
  </svg>
  <svg id="Room3" width="1200px" height="500px" x="0px" y="1000px">
    <rect id="Room3Rect" width="100%" height="100%" fill="blue" stroke="black" stroke-width="5px" />
  </svg>
</svg> 
```

我想画三个正方形，它们有不同的颜色。我想让它们垂直排列，但是显示总是错误的。红色填充整个屏幕（宽度：1200px，高度：1500px）。我没有知道为什么吗？我已经修改了一个多小时了，还是这样。谁能告诉我原因？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T07:31:11.097

该`viewBox`属性切出一个宽度为 400 和高度为 500（在用户坐标中）的矩形。这意味着，只能看到最上面的红色矩形，所有其他矩形都位于视图框之外。

这也是您看不到框右边距的原因，因为红色框是 1200 单位宽，但视图框只显示 0 到 400 之间的内容。

# iphone - iPhone 中付费应用程序的恢复功能

> ID：14036631
> 
> 赞同：0
> 
> 时间：2012-12-26T06:11:14.573
> 
> 标签：iphone, objective-c, in-app-purchase

我将上传一个带有应用内购买的 iphone 应用。以前我已经支付了这个应用程序。现在我将通过应用内免费提供它。现在已经下载应用程序的用户不需要做应用程序内购买部分。这怎么可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T07:15:17.293

如果现有用户将下载更新版本，则他必须通过应用内购买支付升级应用程序。

如果用户更新应用程序，则没有这样的功能。

# vb.net - 如何更改任务栏中的程序图标（VB.NET）

> ID：14036634
> 
> 赞同：8
> 
> 时间：2012-12-26T06:11:32.767
> 
> 标签：vb.net, icons

想问一下如何设置我自己的图标而不是vb.net显示的默认图标？提前致谢。在 Google 中似乎很难找到解决方案，因为我不知道应该搜索什么关键字，因为所有结果都显示我正在更改 .exe 图标。

![在此处输入图像描述](../Images/32d45130c57aa14864781122b54f23ff.png)

![在此处输入图像描述](../Images/1631f1cfc2a0dd0da3fb62f98e91efcd.png)

曾尝试更改项目属性中的图标，但它不工作..

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-26T06:21:51.227

您可以像这张图片一样从属性表单更改图标表单。

![chang icon 窗体 任务栏](../Images/de6959d85e23b9a1fbb6bf11e7d77f16.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-26T06:23:02.420

您在上述窗口中设置的图标是默认程序图标。要更改任务栏图标，您需要设置当前显示的表单图标。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-26T06:34:13.070

![表单图标更改](../Images/350a292a22657902f64b43b037c6c8e9.png)

在应用程序表单的属性选项卡中更改表单的图标。如果有一个表格，你只需要改变它，但如果有多个，你需要一个一个地改变它们。

希望能帮助到你！:)

# iphone - 固定位置导航箭头不适用于 iPhone

> ID：14036635
> 
> 赞同：1
> 
> 时间：2012-12-26T06:11:33.607
> 
> 标签：iphone, ios, mobile, css-position

我使用以下 CSS 设置了一个不错的小滑块：

```
/*SLIDER
===================================
*/

#full-slider-wrapper {
    overflow: hidden;
}

#full-slider {
    position: relative;
    width: auto;
    min-height: 1200px;
    margin: 0 auto;
}

#full-slider .slide-panel {
    position: absolute;
    top: 0;
    left: 0;
    width: auto;
    visibility: hidden;
}

#full-slider .slide-panel.active {
    visibility: visible;
} 

#full-slider-nav-left
{
  position: fixed; top: 550px; width: auto; margin: auto 0 auto auto;
  left: 0; width: 0; height: 0; cursor: pointer; border: 20px solid transparent; 

}

#full-slider-nav-right {
  position: fixed; top: 550px; width: auto; margin: auto auto auto 0;
  right:0; width: 0; height: 0; cursor: pointer; border: 20px solid transparent;
}

#full-slider-nav-left {
    border-right-color: #BBB;
}

#full-slider-nav-left:hover {
    border-right-color: #999;
}

#full-slider-nav-right {
    border-left-color: #BBB;
}

#full-slider-nav-right:hover {
    border-left-color: #999;
} 
```

如您所见，我在容器的两侧设置了导航箭头。当我上下滚动页面时，它们保持不变。我正在使用响应`Skeleton framework`式浏览器，当我将浏览器折叠到移动尺寸时，箭头工作正常。箭头在 android 平台上也可以正常工作。但是，当我尝试在 iPhone 上浏览网站时，箭头会随着滚动而跳来跳去，然后消失。

根据我的阅读，iPhone 过去曾遇到过问题`position:fixed`，但据说 iOS 5 解决了这个问题。

不幸的是，我没有现场版本的网站来演示这个问题。

任何帮助将不胜感激。

# python - `numpy.ndarray` 是否有任何 `itemgetter` 等价物？

> ID：14036638
> 
> 赞同：2
> 
> 时间：2012-12-26T06:12:02.827
> 
> 标签：python, numpy

当我`itemgetter`用 a调用时`numpy.ndarray`，我得到一个`tuple`。

```
In [1]: import numpy as np                                                    
In [2]: import operator as op                                                 
In [3]: ar = np.array([1,2,3,4,5])                                            
In [4]: op.itemgetter(1,3)(ar)                                                
Out[4]: (2, 4) 
```

我想知道是否有任何类似`itemgetter`但返回的numpy 函数`ndarray`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-26T06:22:26.340

使用 numpy 数组，您可以通过使用列表对数组进行索引来直接访问多个索引：

```
>>> x
array([1, 2, 3, 4, 5])
>>> x[[1, 3]]
array([2, 4]) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T06:25:02.477

可能不会回答这个问题，但我会做类似的事情

```
ar[[1,3]] 
```

取回具有所需元素的 numpy.ndarray 对象

# c# - 创建 .dll 的函数外

> ID：14036640
> 
> 赞同：0
> 
> 时间：2012-12-26T06:12:12.463
> 
> 标签：c#, dll

首先，我对 C# 的 OOP 功能有非常基本的了解，但这就是我想要的：

我有一个要编译为 .dll 的函数，因为鉴于 C# 的强大功能，我正在处理的项目将更容易执行。虽然我已经准备好函数，但如果它可能包含在项目中并调用函数，我不具备创建 .dll 的技术知识。还有一种方法可以向 .dll 的“用户”显示它接受什么函数以及当它包含在项目中时返回什么（我确信智能感知在调用方法时会显示方法参数），但是如何“用户”知道包含哪些方法？

我创建的 .dll 是否有可能被 C++/C 编码的人使用？

PS 我确实研究了 MS 文档，但我没有完全理解。我目前也在尝试从另一个文档中学习。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:14:25.090

您可以创建一个类库项目，在该项目中，您可以在类中拥有该功能。类库的输出是一个`dll`文件，您可以将其与 .Net 框架的其他项目一起使用。

对于在 C++ 中使用 .Net dll，您可能会看到这篇文章：[Using a .net compiled dll inside native c++](https://stackoverflow.com/questions/852048/using-a-net-compiled-dll-inside-native-c)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:25:42.213

正如 Habib 提到的，创建 .dll 就像创建类库项目并将代码移到那里一样简单。如果您想要简单的方法/参数提示以外的任何其他内容，则需要将 XML 注释添加到类和方法签名中，如下所述：http: [//msdn.microsoft.com/en-us/library/b2s063f7%28v=vs .100%29.aspx](http://msdn.microsoft.com/en-us/library/b2s063f7%28v=vs.100%29.aspx)

例如：

```
/// <summary>
/// Adds a user to the users table
/// </summary>
/// <param name="first">User's first name.</param>
/// ... and so on
bool AddUser(string first, string last, string userName, string password); 
```

项目设置对话框中还有一个选项可以让 Visual Studio 从项目中的所有 XML 注释生成 XML 文件。可以将此 XML 文件提供给 SandCastle Help File Builder ( [http://shfb.codeplex.com/](http://shfb.codeplex.com/) ) 以生成 MSDN 样式的文档页面，或者您可以自己应用 XSLT 并将它们托管在方便的地方...

# java - 不幸的是，小部件已停止 android

> ID：14036641
> 
> 赞同：0
> 
> 时间：2012-12-26T06:12:14.837
> 
> 标签：java, android

我有一个问题，模拟器显示警告对话框“不幸的是，AppName 已停止”感谢您的帮助。我想创建时钟小部件。

**RmWidget.java**

> 包 lek.runningman.widget；
> 
> ```
> import java.text.SimpleDateFormat;
> import java.util.Date;
> import android.appwidget.AppWidgetManager;
> import android.appwidget.AppWidgetProvider;
> import android.content.Context;
> import android.widget.RemoteViews;
> 
> public class RmWidget extends AppWidgetProvider {
>   // Define the format string for the date
> 
>   private SimpleDateFormat formatter = new SimpleDateFormat(
>       "hh:mm:ss\nEEEEEEEE\nd-MMM-yyyy");
> 
>   @Override
>   public void onUpdate(Context context,AppWidgetManager appWidgetManager, int[] appWidgetIds) {
> 
>   // Retrieve and format the current date
>   String now = formatter.format(new Date());
> 
>   // Change the text in the widget
>   RemoteViews updateViews = new RemoteViews(
>   context.getPackageName(), R.layout.main);
>   updateViews.setTextViewText(R.id.text, now);
>   appWidgetManager.updateAppWidget(appWidgetIds, updateViews);
> 
>   //super.onUpdate(context, appWidgetManager, appWidgetIds);
>   onUpdate(context, appWidgetManager, appWidgetIds);
> 
>   }
> } 
> ```

**小部件.xml**

> ```
> android:minWidth="220dip"
> android:minHeight="146dip"
> android:updatePeriodMillis="1000"
> android:initialLayout="@layout/main">
> </appwidget-provider> 
> ```

**主要的.xml**

> ```
> <TextView
>     android:id="@+id/text"
>     android:layout_width="match_parent"
>     android:layout_height="match_parent"
>     android:gravity="center_horizontal"
>     android:text="@string/app_name"
>     android:textStyle="bold"
> 
>       android:typeface="monospace"
>     android:textColor="@android:color/white"
>     android:textSize="18sp" />
> 
> </LinearLayout> 
> ```

**RmWidget Manefest.xml**

> ```
>  <uses-sdk android:minSdkVersion="15" />
> 
>     <application
>         android:icon="@drawable/icon"
>         android:label="@string/app_name" >
>         <receiver 
>             android:name=".RmWidget"
>             android:label="@string/widget_name" >
> 
>             <intent-filter>
>                 <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
>           </intent-filter>
> 
>             <meta-data android:name="android.appwidget.provider"
>                      android:resource="@xml/widget" />
> 
>         </receiver>
>     </application>
> 
> </manifest> 
> ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:16:53.717

onUpdate 的无限递归，在最后一行调用 onUpdate。只需删除呼叫。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-26T06:36:16.507

创建以下方法：

```
protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.your_layout_filename);
 } 
```

初始化布局很重要，否则会出现一些问题。

# sql - “as”列上的 Sql where 条件

> ID：14036645
> 
> 赞同：0
> 
> 时间：2012-12-26T06:12:33.823
> 
> 标签：sql, sql-server, sql-server-2008

我有这个查询：

```
SELECT Param1, Param2 AS P1
FROM SomeTable 
```

我想做这样的事情：

```
WHERE P1 > 2 
```

有办法做到这一点吗？当然有一个查询而不是Param2。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:16:23.970

```
WITH ABC
AS
(
SELECT Param1, Param2 AS P1
FROM SomeTable
)
SELECT * from ABC where P1>2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:15:38.677

您可以使用`having`

尝试这个

```
select param1,param2 as p1
 from table
 having p1 > 2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:16:18.097

而不是 where 使用有子句..

```
 SELECT Param1, Param2 AS P1 
     FROM SomeTable 
     having P1>2; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T06:36:40.560

尝试这个，

```
SELECT Param1, 
[P1] = Param2
FROM SomeTable
WHERE [P1] > 2 
```

如果您使用的是 ms sql 这应该可以

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-26T06:17:00.577

您可以使用子查询：

```
SELECT Param1, P1
FROM
(
  SELECT Param1, Param2 AS P1
  FROM SomeTable
) src
WHERE P1 > 2 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-26T06:34:03.600

阅读此内容以获取详细说明：

[http://databases.aspfaq.com/database/how-do-i-use-a-select-list-alias-in-the-where-or-group-by-clause.html](http://databases.aspfaq.com/database/how-do-i-use-a-select-list-alias-in-the-where-or-group-by-clause.html)

拉吉

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-26T10:02:49.687

`HAVING`行不通。上面提到的通用表是一个很好的方法。

# iphone - 在获取 Document Directory 的内容时无法省略 @".DS_Store" 文件

> ID：14036646
> 
> 赞同：3
> 
> 时间：2012-12-26T06:12:44.513
> 
> 标签：iphone, xcode, nsdocumentdirectory

我正在将音频文件列表存储到我的文档目录中，然后获取它们。

它给了我一个音频文件列表，同时它给了我一个带有 name 的文件`@".DS_Store"`。在获取内容时，我想保留此文档目录文件。

`@".DS_Store"`除了从数组中删除它或应用检查之外，有什么方法可以在获取音频列表时摆脱它。

这究竟是什么原因。？

```
#pragma mark - Saving Audio in Document Directory
-(void)saveAudioinDocumentDirectory:(ASIHTTPRequest *)theRequest
{
    /*save the Audio file in Document Directory */
    NSFileManager *fileManager=[NSFileManager defaultManager];

    NSLog(@"GOT THE SIZe OF AUDIO %d",[[theRequest responseData] length]);
    NSLog(@"AUDIO ID IS %@",[[theRequest userInfo] valueForKey:@"audioIndex"]);

    /*Get the Path  to Application Documents Directory*/
    NSArray *docDir=[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];

    /*append the neccessary file extension */

    NSString *filepathStr=[NSString stringWithFormat:@"/%@/%@.mp3",docDir,[NSString stringWithFormat:@"%@",[[theRequest userInfo] valueForKey:@"audioIndex"]]];

    /*Check if my crrent file exists in the Documents Directory*/

    if(![fileManager fileExistsAtPath:filepathStr])
    {
        /* file doesnt exists */

        /*create a NSdata of File*/
        NSData *data=[NSData dataWithData:[theRequest responseData]];
        NSLog(@"%@",filepathStr);

        if ([data length] >0 ){

            /*write the File at the Location in Documents Directory */

            [data writeToFile:filepathStr atomically:YES];
            NSLog(@"Successfully saved the file to %@", filepathStr);
        }
        else if([data length] == 0)
        {
            NSLog(@"Nothing was downloaded.");
        }

    }
    /*After saving fetch the path til documents Directory*/
    NSArray *folders = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES);

    /*Get the Path for Files */
    NSString *s=[folders objectAtIndex:0];

    /*Fetch the list of Files stored in Documents Directory*/

    NSArray *contents = [fileManager contentsOfDirectoryAtPath:s error:NULL];
    NSLog(@"TOTAL NUMBER OF AUDIO FILES %d %@",[contents count],[contents objectAtIndex:0]);

    if([Audiolistforstr isEqualToString:@"AudioListForIntro"])
    {

        //  NSLog(@"Audiolistforstr@"IntroThirdRow"  in reading audio  from document Intro IS %@",Audiolistforstr);

        /*Intro*/
        [AudioListArrForIntro removeAllObjects];
        [AudioListArrForIntro addObjectsFromArray:contents];
        if([AudioListArrForIntro containsObject:@".DS_Store"])
        {
            [AudioListArrForIntro removeObject:@".DS_Store"];

        }
        NSLog(@"FINAL LIST %@",AudioListArrForIntro);

    }
    else if([Audiolistforstr isEqualToString:@"AudioListForCredits"])
    {

        //  NSLog(@"Audiolistforstr@"IntroThirdRow"  in reading audio  from document credit IS %@",Audiolistforstr);

        /*credits*/
        [AudioListArrForCredits removeAllObjects];
        [AudioListArrForCredits addObjectsFromArray:contents];
        if([AudioListArrForCredits containsObject:@".DS_Store"])
        {
            [AudioListArrForCredits removeObject:@".DS_Store"];

        }
    NSLog(@"FINAL LIST %@",AudioListArrForCredits);

    }

    /* Did we find anything? */
    if([Audiolistforstr isEqualToString:@"AudioListForIntro"])
    {

        //  NSLog(@"Audiolistforstr@"IntroThirdRow"  in reading audio  fromRELOADNG TABLE Intro IS %@",Audiolistforstr);

        /*Intro*/
        if ([AudioListArrForIntro count] == 0)
        {

        }
        else
        {
            UIView *vw=(UIView *)[self.view viewWithTag:ViewAddAudioIntroTag];
            [(UITableView *)[vw viewWithTag:tblIntroAudioListTag] reloadData];
        }
    }
    else if([Audiolistforstr isEqualToString:@"AudioListForCredits"])
    {
        //  NSLog(@"Audiolistforstr@"IntroThirdRow"  in reading audio  fromRELOADNG TABLE Intro IS %@",Audiolistforstr);

        /*Credits*/
        if ([AudioListArrForCredits count] == 0)
        {
        }

        else
        {

            /*AudioListForCredits*/

            UIView *vw=(UIView *)[self.view viewWithTag:ViewAddAudioCreditsTag];
            [(UITableView *)[vw viewWithTag:tblCreditsAudioListTag] reloadData];
        }

    }

} 
```

任何帮助，将不胜感激。

谢谢维卡斯

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-26T06:27:54.790

你可以检查`.DS_Store`后`NSArray *docDir=[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];`线............也就是说，

```
NSMutableArray * dirContents = [[NSMutableArray alloc] initWithArray:docDir];
if([docDir containsObject:@".DS_Store"])
{
    [dirContents removeObject:@".DS_Store"];
} 
```

这样，`dirContents`删除 的条目`.DS_Store`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-26T07:30:05.527

过滤您的文档目录内容。例如，如果您有扩展名为 .mp3 的音频文件，那么您可以获得所有 mp3 文件，如下所示：

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,     NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSArray *directoryContent = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:documentsDirectory error:NULL];

directoryContent = [directoryContent filteredArrayUsingPredicate:
                                            [NSPredicate predicateWithFormat:@"pathExtension ==[c] %@", @"mp3"]]; 
```

这将忽略除 mp3 文件之外的所有其他文件。万事如意！！！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T06:28:11.760

您正在使用的 API：

```
NSArray *contents = [fileManager contentsOfDirectoryAtPath:s error:NULL]; 
```

返回在路径中找到的*所有*文件，其中包括[“ `.DS_Store`”文件](http://en.wikipedia.org/wiki/.DS_Store)。

我建议将“ `contents`”分配给可变数组，例如：

```
NSMutableArray * contents = 
    [[NSMutableArray alloc] initWithArray: [fileManager contentsOfDirectoryAtPath:s error:NULL]];` 
```

并遍历数组以查找并删除任何和所有没有“.mp3”作为路径扩展名的文件。

我还建议不要以大写字母开头任何变量（例如，代替“ `Audiolistforstr`”，使用“ `audiolistforstr`”，甚至更好，“ `arrayofAudioFiles`”）。Objective C 的最佳实践是以小写字母开头的所有变量和方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-11-19T04:06:05.773

它运作良好..

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSFileManager *manager = [NSFileManager defaultManager];
NSArray *imageFilenames = [manager contentsOfDirectoryAtPath:documentsDirectory error:nil];

for (int i = 0; i < [imageFilenames count]; i++)
    {

    NSString *imageName = [NSString stringWithFormat:@"%@/%@",documentsDirectory,[imageFilenames objectAtIndex:i] ];

        if (![[imageFilenames objectAtIndex:i]isEqualToString:@".DS_Store"])
        {
          UIImage *myimage = [UIImage imageWithContentsOfFile:imageName];
          UIImageView *imageView = [[UIImageView alloc] initWithImage:_myimage];
        }
    } 
```

# php - 如何使用 php 获取 smtp 横幅

> ID：14036650
> 
> 赞同：0
> 
> 时间：2012-12-26T06:13:05.863
> 
> 标签：php, smtp

我需要使用我尝试过的 php 来获取 smtp 横幅 `shell_exe("telnet <hostname> 25");`

没有给出任何结果是否有另一种方法可以做到这一点

# perl - 如何在两个元素之间添加空格？

> ID：14036655
> 
> 赞同：1
> 
> 时间：2012-12-26T06:14:22.350
> 
> 标签：perl, xml-twig

我是 xml 树枝的新手，如何在 xml-twig 中的两个元素之间添加空格？

输入：

```
<xml>
<fig id="fig6_4">
<label><xref ref-type="page" id="page_54"/>[Figure 4]</label>
<caption>The Klein Sexual Orientation Grid</caption>
</fig>
</xml> 
```

脚本：

```
$xml_twig_content = XML::Twig->new(
                                   twig_handlers => {
                                   'fig' => \&figure,
},
                                  );
$xml_twig_content->parsefile('sample.xml');

sub figure{
my ($xml_twig_content, $figure) = @_;
my @figchild = $figure->children;
foreach my $chid (@figchild){
if ($chid->name =~ /label/){
        my $t = $chid->text;
        $chid->set_inner_xml($t . ' ');
        $chid->erase;
} 
```

输出：

```
<xml>
<fig id="fig6_4">
[Figure 4] <caption>The Klein Sexual Orientation Grid</caption>
</fig>
</xml> 
```

我需要：

```
<xml>
    <fig id="fig6_4">
    <xref ref-type="page" id="page_54"/>[Figure 4] <caption>The Klein Sexual Orientation Grid</caption>
    </fig>
    </xml> 
```

我怎样才能在两个元素之间插入空格.....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T10:04:43.307

我不清楚目标是什么——你的输出数据格式*看起来*不是特别理想。尽管如此，下面的示例应该足以让您上路。它解决了两点：

1.  当前输出中缺少“外部参照”。
2.  如何在文档中添加任意空格（基本上是 PCDATA 内容）

附带说明：我以前没有使用过 XML::Twig；如果您熟悉 XML 概念，该[文档实际上非常好。](https://metacpan.org/module/XML%3a%3aTwig)

```
use strict;
use warnings;

use XML::Twig;

my $twig = XML::Twig->new(
    twig_handlers => {
        'fig' => \&figure
    },
    pretty_print => 'indented',
);

$twig->parse(do { local $/; <DATA> });

$twig->print;

sub figure {
    my ( $twig, $figure ) = @_;

    # Find all children of type label (would there really be more than 1??)
    foreach my $label ($figure->children('label')) {
        # Replace the label with its chidren nodes
        $label->replace_with($label->cut_children);

        # Find the caption and place 4 spaces before it
        if (my $caption = $figure->first_child('caption')) {
            my $some_whitespace = XML::Twig::Elt->new('#PCDATA' => '    ');
            $some_whitespace->paste(before => $caption);
        }
    }
}

__DATA__
<xml>
<fig id="fig6_4">
<label><xref ref-type="page" id="page_54"/>[Figure 4]</label>
<caption>The Klein Sexual Orientation Grid</caption>
</fig>
</xml> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-26T12:27:16.813

我会在 上使用处理程序`fig/label`，因为这是唯一需要修改的元素。然后，处理程序中的代码需要为元素添加空格后缀，然后删除标记：

```
XML::Twig->new( twig_handlers => { 'fig/label' => sub { $_->suffix( ' ')->erase; }}); 
```

# iphone - 错误：清单文件未成功验证

> ID：14036659
> 
> 赞同：1
> 
> 时间：2012-12-26T06:14:55.620
> 
> 标签：iphone, asp.net, ios, passbook

我正在使用 .NET 代码来设置 ASP.NET 模块，以便为 iPhone 应用程序创建通行证。我能够成功生成通行证，但是当我点击添加按钮时，通行证不会添加到存折应用程序中，实际上它只是消失了。

我登录设备控制台并发现错误“无效数据错误读取卡/。清单签名未成功验证”

我拥有所有证书（正确导入了私钥。）

将不胜感激任何帮助...!!!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T12:07:57.647

尝试使用开发者网站中的 Apple 存折资料。使用signpass签署代码我认为这将解决问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T07:54:58.533

此错误的一个潜在原因是签名中未包含 Apple WWDR 证书。直到 iOS6 Beta 3 才引入将其包含在签名中的要求（直到 Beta 4 才强制执行）。文档[在这里](https://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/PassKit_PG/Chapters/Creating.html#//apple_ref/doc/uid/TP40012195-CH4-SW55)。

您使用的 .NET 库已使用超过 3 个月，因此它可能未在签名中包含此证书。

[您可以在此处](http://developer.apple.com/certificationauthority/AppleWWDRCA.cer)从 Apple 下载 WWDR 证书。

如果您可以发布指向未加载的 .pkpass 捆绑包的链接，这也可能会有所帮助。

# asp.net - 在存储过程mysql中使用临时表进行更新

> ID：14036661
> 
> 赞同：0
> 
> 时间：2012-12-26T06:15:07.637
> 
> 标签：asp.net, mysql, asp.net-mvc, c#-4.0

任何人都可以描述一个在存储过程中使用临时表来更新 mysql 中的两个表的简单示例吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T09:07:30.827

```
 --Create a temp table and insert all these counts in it
  Create Table #OperatorReportCount(Id int identity,Particulars varchar(100),NoOfArticles int)

  --Insert these values in table
  Insert Into #OperatorReportCount(Particulars,NoOfArticles) Values('Articles processed',@ProcessedArticleCount)
  Insert Into #OperatorReportCount(Particulars,NoOfArticles) Values('Articles approved',@ArticlesApproved)
  Insert Into #OperatorReportCount(Particulars,NoOfArticles) Values('Articles rejected',@ArticleRejectedCount)
  Insert Into #OperatorReportCount(Particulars,NoOfArticles) Values('Rejections recieved',@RejectionsRecievedCount)
  Insert Into #OperatorReportCount(Particulars,NoOfArticles) Values('Articles put on hold',@ArticlesOnHoldCount)   

  --Select the operator count table
  Select Particulars,NoOfArticles From #OperatorReportCount 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:23:33.523

有两种临时表可用。一种是基于会话的，另一种是全局临时表。

下面是一个简单的例子：

```
 Select A,b,c into #MyTemp From MyDbTable 
```

在上面的示例中，#myTemp 是您正在创建的临时表。MyDbTable 是您的数据库中存在的一个。您可以创建多个临时表。

我建议从这里阅读文章：[链接](http://www.mstecharticles.com/2011/11/sql-2005-inserting-table-data.html)

# iphone - 多个 UITableViewCell 中的多个数组

> ID：14036663
> 
> 赞同：-5
> 
> 时间：2012-12-26T06:15:29.043
> 
> 标签：iphone, ios, ipad

我知道如何获取数组`UITableViewCell`：

```
cell.textLabel.text=[NSString stringWithFormat:@"%@",array]; 
```

但是如何将不同的数组放在多个`UITableViewCell`

```
Like first cell: array. 
```

`secondcell:array1`.

```
thirdcell: array2. 
```

以及如何在每个单元格中制作多行，应该如下所示：

```
A

B

C

D 
```

在一个里面`UItableViewCell`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:19:51.413

您可以在不同的单元格中添加来自不同数组的值，如下所示.. 另外我添加控件`UITableCell`只是一个示例，您可以通过框架在单元格中添加多个控件..

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {    
         static NSString* cellIdentifier = @"gridCell";

        UITableViewCell *yourCell = [tableView dequeueReusableCellWithIdentifier:nil];

        if(yourCell == nil)        
        {
            yourCell =  [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier] autorelease];

        }

        if(indexPath.row == 0)        
        {
          yourCell.textLabel.text=[NSString stringWithFormat:@"%@",array];
          UILabel *lbl = [[UILabel alloc]init];
          lbl.text = [NSString stringWithFormat:@"%@",array];
          lbl.font = [UIFont fontWithName:@"Helvetica-Bold" size:15];
          [lbl setFrame:CGRectMake(110, 5, 200, 31)];    /// Set Frame which you want for every controls...
          // you can also add UITextView,etc..
          [yourCell.contentView addSubview:lbl];

         UILabel *lbl2= [[UILabel alloc]init];
          [lbl2 setFrame:CGRectMake(110, 31, 200, 31)];        
          lbl2.text = [NSString stringWithFormat:@"%@",array1];
          lbl2.font = [UIFont fontWithName:@"Helvetica" size:12];

         lbl2.textColor = [UIColor darkGrayColor];

         [yourCell.contentView addSubview:lbl2];
        }
        else if(indexPath.row == 1)        
        {
          yourCell.textLabel.text=[NSString stringWithFormat:@"%@",array1];
          ///ADD also Controls here if you want to in this cell also...or every cell also then write and add subview outside from this if condition

        }
        else if(indexPath.row == 2)        
        {
          yourCell.textLabel.text=[NSString stringWithFormat:@"%@",array2];
        }

        return yourCell;
    } 
```

如果你想在一个单元格中添加多行，那么只需添加`UILable`或任何其他控件并设置框架并添加为单元格的子视图，并使用以下方法设置单元格的高度......

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{ 
    //height of table row
    return 80;///give the height to cell which you want here
} 
```

# templates - 嵌套模板用 ui:insert 覆盖 ui:default

> ID：14036664
> 
> 赞同：6
> 
> 时间：2012-12-26T06:15:31.573
> 
> 标签：templates, jsf, facelets

是否有关于如何`<ui:define>`用`<ui:insert>`.

**模板 A：**

```
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets">
    template A content<br/>
    <ui:insert name="content"/>
</ui:composition> 
```

**模板 B：**

```
<ui:composition template="/resources/templates/A.xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define name="content">
        template B content<br/>
        <ui:insert name="content"/>
    </ui:define>
</ui:composition> 
```

**站点 1：**

```
<ui:composition template="/resources/templates/B.xhtml">
    Site 1<br/>
    <ui:define name="content">
        site content<br/>
    </ui:define>
</ui:composition> 
```

输出：

```
Site 1
site content 
```

的内容`<ui:define>`取自站点 1，模板的内容未呈现。

**站点 2：**

```
<ui:composition template="/resources/templates/B.xhtml">
    Site 2<br/>
</ui:composition> 
```

输出：

```
Site 2
template B content
template A content 
```

的内容`<ui:define>`取自模板 B 和模板 A，奇怪的是，模板 B 的内容在模板 A 的内容之前呈现。

是否可以使用相同的名称覆盖`<ui:define>`新的`<ui:insert>`名称？

*为嵌套创建新名称`<ui:insert>`是一种可能，但很难跟踪层次结构以及插入的位置。*

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-26T09:15:00.217

不幸的是，Facelets 不允许您“链接”插入/定义。

在您的第一个示例（**站点 1**）`insert`中，模板 A 中有一个称为“内容”的单个。有两个`definitions`正在考虑；直接模板客户端（模板B）和模板B（站点1）的模板客户端。对于这种情况，Facelets 看不到模板 B 有另一个`insert`. 它只考虑两个竞争`definitions`“内容”，规则是最上面的一个获胜，即站点 1。

不过，您确实忘记将命名空间放在模板客户端上。您应该看到的输出是：

```
template A content
site content 
```

即“模板A内容”在最低模板中，在`insert`标签之外。它将直接渲染。“网站内容”位于“内容”的最顶端`definition`。

在第二个示例（**站点 2**`definition` ）中，最顶层的模板客户端中根本没有。只有一个`definition`，并且在模板 B 中，因此将使用一个。您应该看到的输出是：

```
template A content
template B content 
```

出于与第一个示例相同的原因，您将看到“模板 A 内容”，以及“模板 B 内容”，因为它是唯一的`definition`. 之后的嵌套第二个`insert`将被忽略。

> 为嵌套创建新名称是一种可能，但很难跟踪层次结构以及插入的位置。

真的是。正是出于这个原因，我在一年前为此创建了一个规范问题：[https ://github.com/eclipse-ee4j/faces-api/issues/1008](https://github.com/eclipse-ee4j/faces-api/issues/1008)

If this particular functionality is important to you please vote and/or leave a comment.

# mysql - Codeigniter 查询

> ID：14036665
> 
> 赞同：0
> 
> 时间：2012-12-26T06:15:34.730
> 
> 标签：mysql, codeigniter

我的查询：

```
$this->db->select('*');
$this->db->join('pos_item_sales', 'pos_item_sales.item_id = pos_item_infos.item_id');
$this->db->join('pos_batch_infos', 'pos_batch_infos.item_id = pos_item_infos.item_id');
$this->db->where("`pos_item_sales`.`transaction_id` =  '$transaction_id' AND (`pos_item_sales`.`item_barcode` =  '$term' OR `pos_batch_infos`.`item_mbarcode` =  '$term' OR `pos_item_infos`.`item_id` =  '$term')");
$query = $this->db->get('pos_item_infos');
echo $this->db->last_query(); 
```

它解决了我的问题，但我需要这样的查询：

```
$term = $this->input->get('term',TRUE);
$this->db->select('*');
$this->db->join('pos_item_sales', 'pos_item_sales.item_id = pos_item_infos.item_id');
$this->db->join('pos_batch_infos', 'pos_batch_infos.item_id = pos_item_infos.item_id');
$this->db->where('pos_item_sales.transaction_id',$transaction_id);
$this->db->where('pos_item_sales.item_barcode',$term);
$this->db->or_where('pos_batch_infos.item_mbarcode',$term);
$this->db->or_where('pos_item_infos.item_id',$term);
$query = $this->db->get('pos_item_infos');
echo $this->db->last_query(); 
```

但我需要一个像这样的查询：

```
SELECT *
FROM (`pos_item_infos`)
JOIN `pos_item_sales` ON `pos_item_sales`.`item_id` = `pos_item_infos`.`item_id`
JOIN `pos_batch_infos` ON `pos_batch_infos`.`item_id` = `pos_item_infos`.`item_id`
WHERE `pos_item_sales`.`transaction_id` =  '11355822927'
AND (`pos_item_sales`.`item_barcode` =  '8801962686156'
OR `pos_batch_infos`.`item_mbarcode` =  '8801962686156'
OR `pos_item_infos`.`item_id` =  '8801962686156') 
```

我如何解决这个问题请提供帮助，因为它不包括 () 在我的 or 条件中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:34:34.850

如果您浏览[codeigniter](http://ellislab.com/codeigniter/user-guide/database/active_record.html)用户指南.. 您会看到有 4 种调用`where`子句的方法...

所有这些都做同样的事情......你的第一个代码是**codeigniter风格**（如果你担心不是的话），这是codeigniter用户指南的第4种方法**，你可以手动编写自己的子句**......没有区别无论如何调用 where 函数...

所以我会用你的第一个查询

```
$this->db->select('*');
$this->db->join('pos_item_sales', 'pos_item_sales.item_id = pos_item_infos.item_id');
$this->db->join('pos_batch_infos', 'pos_batch_infos.item_id = pos_item_infos.item_id');
$this->db->where("`pos_item_sales`.`transaction_id` =  '$transaction_id' AND (`pos_item_sales`.`item_barcode` =  '$term' OR `pos_batch_infos`.`item_mbarcode` =  '$term' OR `pos_item_infos`.`item_id` =  '$term')");
$query = $this->db->get('pos_item_infos');
echo $this->db->last_query(); 
```

这很好......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:22:00.707

在复杂查询的情况下，我发现像这样发送原始查询更容易：

`$query = "your query";`

`$result = $this->db->query($query);`

在将变量插入查询之前不要忘记转义变量，如下所示：

`$var = $this->db->escape($var);`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-21T23:19:45.127

```
$query="SELECT *
FROM pos_item_infos
JOIN pos_item_sales ON pos_item_sales.item_id = pos_item_infos.item_id
JOIN pos_batch_infos ON pos_batch_infos.item_id = pos_item_infos.item_id
WHERE pos_item_sales.transaction_id =  ?
AND (pos_item_sales.item_barcode =  ?
OR pos_batch_infos.item_mbarcode =  ?
OR pos_item_infos.item_id =  ?)";
$params=array();
$params[]='11355822927';
$params[]='8801962686156';
$params[]='8801962686156';
$params[]='8801962686156';

$result=$this->db->query($query,$params);
$result=$result->result_array();
print_r($result); 
```

此外，使用 . 简化语法`USING`。

```
SELECT *
FROM pos_item_infos
JOIN pos_item_sales USING (item_id)
JOIN pos_batch_infos USING (item_id)
WHERE pos_item_sales.transaction_id =  ?
AND (pos_item_sales.item_barcode =  ?
OR pos_batch_infos.item_mbarcode =  ?
OR pos_item_infos.item_id =  ?) 
```

# android - 如何在 Android 中的 Edit Text 中将文本中的数字限制为 0-59？

> ID：14036674
> 
> 赞同：13
> 
> 时间：2012-12-26T06:16:32.480
> 
> 标签：android, android-edittext, textwatcher

我有一个`Edit Text`数字只能在 之间`0-59`，不会输入其他数字`Edit Text`，我试过`text-watcher`但没有成功。任何的想法？

```
12-26 14:59:39.715: E/AndroidRuntime(19494): FATAL EXCEPTION: main
12-26 14:59:39.715: E/AndroidRuntime(19494): java.lang.StackOverflowError
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.findViewTraversal(ViewGroup.java:2765)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewById(View.java:10442)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.findViewTraversal(ViewGroup.java:2765)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewById(View.java:10442)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.findViewTraversal(ViewGroup.java:2765)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewById(View.java:10442)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.findViewTraversal(ViewGroup.java:2765)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewById(View.java:10442)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.findViewTraversal(ViewGroup.java:2765)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewById(View.java:10442)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.findViewTraversal(ViewGroup.java:2765)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewById(View.java:10442)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.findViewTraversal(ViewGroup.java:2765)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewById(View.java:10442)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.findViewTraversal(ViewGroup.java:2765)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewById(View.java:10442)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findViewShouldExist(View.java:4281)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.findUserSetNextFocus(View.java:4263)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.FocusFinder.findNextFocus(FocusFinder.java:66)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:569)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:571)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:571)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:571)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:571)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:571)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:571)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:571)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.ViewGroup.focusSearch(ViewGroup.java:571)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.View.focusSearch(View.java:4221)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.onCreateInputConnection(TextView.java:5378)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.inputmethod.InputMethodManager.startInputInner(InputMethodManager.java:977)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.view.inputmethod.InputMethodManager.restartInput(InputMethodManager.java:932)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2958)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2907)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.EditText.setText(EditText.java:90)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2882)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at com.fishing.MyLocation$check_lat_degree.onTextChanged(MyLocation.java:236)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.sendOnTextChanged(TextView.java:7226)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:3045)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2907)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.EditText.setText(EditText.java:90)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2882)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at com.fishing.MyLocation$check_lat_degree.onTextChanged(MyLocation.java:236)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.sendOnTextChanged(TextView.java:7226)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:3045)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2907)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.EditText.setText(EditText.java:90)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2882)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at com.fishing.MyLocation$check_lat_degree.onTextChanged(MyLocation.java:236)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.sendOnTextChanged(TextView.java:7226)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:3045)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2907)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.EditText.setText(EditText.java:90)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2882)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at com.fishing.MyLocation$check_lat_degree.onTextChanged(MyLocation.java:236)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.sendOnTextChanged(TextView.java:7226)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:3045)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2907)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.EditText.setText(EditText.java:90)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2882)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at com.fishing.MyLocation$check_lat_degree.onTextChanged(MyLocation.java:236)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.sendOnTextChanged(TextView.java:7226)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:3045)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.java:2907)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.EditText.setText(EditText.java:90)
12-26 14:59:39.715: E/AndroidRuntime(19494):    at android.widget.TextView.setText(TextView.j 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2014-08-30T01:10:46.423

这是我喜欢这样做的方式：

```
public class InputFilterMinMax implements InputFilter {
    private int min;
    private int max;

    public InputFilterMinMax(int min, int max) {
        this.min = min;
        this.max = max;
    }

    @Override
    public CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) {
        //noinspection EmptyCatchBlock
        try {
            int input = Integer.parseInt(dest.subSequence(0, dstart).toString() + source + dest.subSequence(dend, dest.length()));
            if (isInRange(min, max, input))
                return null;
        } catch (NumberFormatException nfe) { }
        return "";
    }

    private boolean isInRange(int a, int b, int c) {
        return b > a ? c >= a && c <= b : c >= b && c <= a;
    }
} 
```

然后在您的 EditText 上设置过滤器：

```
myEditText.setFilters(new InputFilter[]{new InputFilterMinMax(0, 59)}); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-12-26T06:22:44.943

**在 XML 中使用此代码以仅在Edit Text**中允许数字：

```
<EditText android:id="@+id/edit_text_id"
       android:layout_width="wrap_content"
       android:layout_height="wrap_content"
       android:inputType="numbers" /> 
```

要控制在该 EditText 中输入的文本值：

```
edittext.addTextChangedListener(new TextWatcher(){
    public void afterTextChanged(Editable s) {}

    public void beforeTextChanged(CharSequence s, int start, int count, int after){}

    public void onTextChanged(CharSequence s, int start, int before, int count){
        String strEnteredVal = edittext.getText().toString();

        if(!strEnteredVal.equals("")){
        int num=Integer.parseInt(strEnteredVal);
        if(num<60){
         edittext.setText(""+num);
        }else{
         edittext.setText("");
        }
    }

}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-26T06:24:52.700

首先将输入类型添加为数字并限制editText的输入数量。

```
editText.setInputType( InputType.TYPE_CLASS_NUMBER );
    InputFilter[] FilterArray = new InputFilter[1];
    FilterArray[0] = new InputFilter.LengthFilter(2);
    editText.setFilters(FilterArray); 
```

然后

添加一个`TextWatcher`以检查用户键入的内容，如果该值大于 59，则显示警报或任何数字小于 60 的消息。

```
editText.addTextChangedListener(new TextWatcher() {
@Override
public void afterTextChanged(Editable s) {
    // TODO Auto-generated method stub

    String added_number = editText.getText().toString();
    if (added_number.length != 0) {
        int number  = Integer.parseInt(added_number);

        if (number > 59)
            Toast.makeText(getApplicationContext, "Not more than 59", Toast.LENGTH_SHORT).show();
    }

}

@Override
public void beforeTextChanged(CharSequence s, int start, int count, int after) {
    // TODO Auto-generated method stub
}

@Override
public void onTextChanged(CharSequence s, int start, int before, int count) {
    // TODO Auto-generated method stub

}); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-05-22T19:48:49.477

```
void addAddTextChangeListener(final EditText et) {
        et.addTextChangedListener(new TextWatcher() {
            boolean textModified = false;
            @Override
            public void beforeTextChanged(CharSequence s, int start, int count, int after) {

            }

            @Override
            public void onTextChanged(CharSequence s, int start, int before, int count) {

            }

            @Override
            public void afterTextChanged(Editable s) {
                String strEnteredVal = et.getText().toString();
                if(!strEnteredVal.equals("") && !(strEnteredVal.length() < 2)) {
                    int num = Integer.parseInt(strEnteredVal);
                    if (!textModified) {
                        if (num > 60) {
                            et.setText("");
                        } else {
                            textModified = true;
                            et.setText("" + num);
                            et.setEnabled(false);
                        }
                    }
                }
            }

        });
    } 
```

并`android:inputType="number"`在`EditText`xml 文件中的条目中。但是一旦得到正确的输入，这个代码就会停止工作，所以你应该`EditText`在那之后停用。

# c# - 从另一个线程关闭表单

> ID：14036678
> 
> 赞同：4
> 
> 时间：2012-12-26T06:16:58.657
> 
> 标签：c#, multithreading, forms

我有一个管理器类，它使用 ShowDialog 函数启动一个表单。现在，我正在启动一个事件（如计时器），并希望经理在计时器到期时关闭表单。

我使用了 2 个类：

```
namespace ConsoleApplication3
{
class Manager
{
    Timer UpdTimer = null;
    readonly int REFRESH_STATUS_TIME_INTERVAL = 5000;
    Form1 form1;

    public Manager()
    {
    }

    public void ManageTheForms()
    {
        UpdTimer = new Timer(REFRESH_STATUS_TIME_INTERVAL);
        // start updating timer
        //UpdTimer.Interval = REFRESH_STATUS_TIME_INTERVAL;
        UpdTimer.Elapsed += new ElapsedEventHandler(PriorityUpdTimer_Elapsed);
        UpdTimer.Start();

        form1 = new Form1();
        form1.ShowDialog();

    }

    public void PriorityUpdTimer_Elapsed(object source, ElapsedEventArgs e)
    {
        UpdTimer = null;
        form1.closeFormFromAnotherThread();

    }
}
} 
```

Form1类：

```
namespace ConsoleApplication3
{
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }

    private void Form1_FormClosing(object sender, FormClosingEventArgs e)
    {

    }

    delegate void CloseFormFromAnotherThread();

    public void closeFormFromAnotherThread()
    {
        if (this.InvokeRequired)
        {
            CloseFormFromAnotherThread del = new CloseFormFromAnotherThread(closeFormFromAnotherThread);
            this.Invoke(del, new object[] { });
        }
        else
        {
            this.Close();
        }
    }

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T15:20:05.853

如果我是对的，您想在计时器停止时关闭表单。

这就是我这样做的方式：

```
System.Threading.Timer formTimer; 
```

我使用布尔值来查看计时器是否仍处于活动状态

```
public Boolean active { get; set; } 
```

创建这个函数：

```
public void timerControl()
{
  if (!active) formTimer = new System.Threading.Timer(new TimerCallback(TimerProc));
  try
  {
    formTimer.Change(REFRESH_STATUS_TIME_INTERVAL, 0);
  }
  catch {}
  active = true;
} 
```

要完成计时器，您需要函数 TimerProc，它在创建新计时器时调用：

```
private void TimerProc(object state)
{
  System.Threading.Timer t = (System.Threading.Timer)state;
  t.Dispose();
  try
  {
    CloseScreen();
  }
  catch{}
} 
```

为了让我更容易编程，我创建了函数 CloseScreen()：

```
public void CloseScreen()
{
  if (InvokeRequired)
  {
    this.Invoke(new Action(CloseScreen), new object[] { });
    return;
  }
  active = false;
  Close();
} 
```

将所有这些功能放在您的表单类中，然后使用 timerControl 来激活计时器。您可以选择从您的 Manager 类中访问它：`Form1.TimerControl();`或者将其放入事件处理程序中，成功！

# c# - DbDataAdapter 与 DataAdapter

> ID：14036682
> 
> 赞同：1
> 
> 时间：2012-12-26T06:17:26.800
> 
> 标签：c#, ado.net, dataadapter

`DbDataAdapter`这几天我一直在听。它是一个`abstract class`适配器。

但是我应该什么时候更喜欢`DbDataAdapter`，和（在性能和功能上）有什么`DataAdapter`区别？`DbDataAdapter``DataAdapter`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:30:05.683

正如你所说，`DbDataAdapter`是一个抽象类，它继承自`DataAdapter`. 正如[MSDN](http://msdn.microsoft.com/library/system.data.common.dbdataadapter.aspx)中所说：

> DbDataAdapter 的继承者实现了一组函数来提供强类型，但继承了完全实现 DataAdapter 所需的大部分功能。

对于性能，[这里](http://msdn.microsoft.com/library/system.data.common.dataadapter.aspx)：

> 如果要连接到 SQL Server 数据库，则可以通过使用 SqlDataAdapter 及其关联的 SqlCommand 和 SqlConnection 对象来提高整体性能。对于 OLE DB 支持的数据源，请使用 DataAdapter 及其关联的 OleDbCommand 和 OleDbConnection 对象。对于 ODBC-支持的数据源，使用 DataAdapter 及其关联的 OdbcCommand 和 OdbcConnection 对象。对于 Oracle 数据库，使用 DataAdapter 及其关联的 OracleCommand 和 OracleConnection 对象。

# php - 重置 MySQL 表的所有行中的字段内容

> ID：14036684
> 
> 赞同：1
> 
> 时间：2012-12-26T06:17:42.453
> 
> 标签：php, mysql, sql

我正在寻找一种方法来重置我的 MySQL 表的一列中的数据。基本上，我有一个程序，其中包含人们可以投票的图片。投票在“投票”行中进行统计，并且每次有人点击投票时增加一。当宣布获胜者时，我希望所有图片/数据/行都保留在表格中，但我只想将“投票”行重置为 0。我不想删除该行，只需重置数据。

这是 DELETE 功能还是我在想别的东西？我想在测试之前确保我做的完全正确，这样我就不会搞砸任何事情。谢谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T06:20:55.600

可能是这样的（如果表名是图片）：

`UPDATE pictures SET votes = 0`

这会将数据库中每一行的投票重置为 0。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T06:21:43.343

你**不想**使用`DELETE`. 这将删除您的行。要将所有内容重置为零，只需使用`UPDATE`

```
UPDATE `table_name` SET `votes_column`=0; 
```

**注意：**这会将 votes_column 中的所有内容设置为 0；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:22:34.327

将所有行的投票列更新为 0

执行这样的查询可以解决问题：

```
UPDATE yourTableName SET votes = 0; 
```

# wpf - 如何使用 wpf 在 MVVM 中将多个项目从一个列表视图添加到另一个列表视图？

> ID：14036687
> 
> 赞同：0
> 
> 时间：2012-12-26T06:18:17.267
> 
> 标签：wpf, mvvm

我有两个列表视图。一个在左侧，另一个在右侧。我有两个按钮可以从两个列表视图中添加和删除项目。

LHSListview 绑定到 List，RHSListview 绑定到 List。Column 类有两个变量“order”和“Id”。

当我单击添加按钮时，LHSListview 中的所有选定项目都必须移动到 RHSListview。单击删除按钮时反之亦然。

这就是我在单击添加按钮时尝试做的事情

```
var list1 = new ArrayList(lstAllFields.SelectedItems);
            foreach (var item in list1)
            {
                lstAllFields.Items.Remove(item);
                SelectedFields.Items.Add(item);
            } 
```

但这会在此行引发错误，`lstAllFields.Items.Remove(item);`提示“使用 ItemsSource 时操作无效。请改为使用 ItemsControl.ItemsSource 访问和修改元素。”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T10:05:39.820

您提到您正在使用 MVVM，因此您可能知道您不应该更改视图内 ListViews 中的项目。您*应该*做的是修改您在 ViewModel 中绑定的集合。

问题是在 MVVM 中获得多项选择有点棘手，因为该`SelectedItems`属性不是依赖属性。

有两种方法可以实现您所追求的，都支持 MVVM：
更短更简单的方法是`Button_Click`在 View 的 CodeBehind 中收听，创建所选项目的新列表并将其传递给 VM 以执行逻辑添加和删​​除项目。

所以一个简短的版本看起来像这样：

*代码背后*：

```
private void MyButton_OnClick(object sender, RoutedEventArgs e)
{
   List<MyObject> mySelectedItems = new List<MyObject>();

   foreach (MyObject item in listview1.SelectedItems)
   {
       mySelectedItems.Add(item);
   }

   (this.DataContext as MainVM).MoveMethod(mySelectedItems);
 } 
```

*查看模型*（在我的课堂上我称之为 MainVM）

```
public void MoveMethod(List<MyObject> selected)
{
   foreach (var item in selected)
   {
      List1.Remove(item);
      List2.Add(item);
    }
} 
```

就是这样。请记住，List1 和 List2 （它们是`ItemSource`那个`ListView1`并`ListView2`绑定到的，***必须是*** `ObservableCollection`在 UI 中看到更新。

我也承诺提供更长的选择，请参阅关于该主题的 3 部分博客文章：

*   [MVVM 和多项选择——第一部分](http://grokys.blogspot.co.il/2010/07/mvvm-and-multiple-selection-part-i.html)
*   [MVVM 和多项选择——第二部分](http://grokys.blogspot.co.il/2010/07/mvvm-and-multiple-selection-part-ii.html)
*   [MVVM 和多项选择——第三部分](http://grokys.blogspot.co.il/2010/07/mvvm-and-multiple-selection-part-iii.html)

# java - 使用 JAVA 在 mysql 中显示 PROCESSLIST 的动态输出

> ID：14036690
> 
> 赞同：0
> 
> 时间：2012-12-26T06:18:54.297
> 
> 标签：java, mysql, jdbc

我知道使用 JDBC 我们可以为数据库内的查询创建输出，但是我怎样才能将命令`SHOW PROCESSLIST`的输出作为 Java 程序的输出。

在 mysql 中，我们通过以下方式获取它：`SHOW PROCESSLIST`

但我想知道我们是否可以使用 Java 生成输出？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:27:38.013

您可以使用 executeQuery 来获取**SHOW PROCESSLIST** ResultSet。

```
 Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/mysql", "root", password);
        Statement stmt = null;

        try {
                stmt = con.createStatement();
                ResultSet rs = stmt.executeQuery("SHOW PROCESSLIST");
                while (rs.next())
                {
                    System.out.println(rs.getString("Host"));
                    System.out.println(rs.getString("Id"));
                    System.out.println(rs.getString("User"));
                    System.out.println(rs.getString("db"));
                    System.out.println(rs.getString("Command"));
                    System.out.println(rs.getString("state"));
                    System.out.println(rs.getString("info"));
                } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:28:17.063

根据您的 MySQL 版本，您可以在

```
SELECT * FROM information_schema.PROCESSLIST; 
```

您可以在用户、数据库和主机 IP 之间进行定位。

例如：

```
SELECT * FROM information_schema.PROCESSLIST WHERE db ="mycase" AND HOST LIKE "192.168.11.174%" 
```

# sql-server - 月份更改时如何将所有旧行重新插入 SQL Server 表

> ID：14036694
> 
> 赞同：1
> 
> 时间：2012-12-26T06:19:29.587
> 
> 标签：sql-server

我有一张桌子，里面有`id`, `sname`,`attendance`列

```
id  sname attendance month
1    xyz     p         12  
2    asd     p         12  
3    qwe     L         12 
4    tyy     A         12 
```

我想重新插入下个月的`id`每个月。`sname``attendance`

现在我想在这样的`Attendance`列中用 AB 重新插入第 1 个月的数据：

```
id  sname attendance  month 
 1    xyz     p         12  
 2    asd     p         12  
 3    qwe     L         12 
 4    tyy     A         12 
 1    xyz     ab         1  
 2    asd     ab         1  
 3    qwe     ab         1
 4    tyy     ab         1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T10:28:14.333

如果我做对了：

```
INSERT INTO t (id,sname,attendance,month)
SELECT id,sname,'ab',(month%12)+1 from t 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:50:50.967

试试这个

```
INSERT INTO your_table (id,sname,attendance,month)
SELECT T.id, T.sname, T.attendance, M.m
FROM (SELECT 1 m UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5 UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9 UNION SELECT 10 UNION SELECT 11 UNION SELECT 12) AS M
CROSS JOIN your_table T
WHERE NOT EXISTS (SELECT * FROM your_table WHERE m=M.m) 
```

最好不要使用保留字，例如`MONTH`表、列和其他对象的名称。

# php - 使用php检索链接值表单标签

> ID：14036699
> 
> 赞同：1
> 
> 时间：2012-12-26T06:20:07.823
> 
> 标签：php, html-parsing

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T08:10:58.560

```
$url = '<a title="Question" href="http://stackoverflow.com/questions/ask"></a>';
preg_match("/href=\"(.*?)\"/i", $url, $matches);
print_r($matches);
/*
Match Group(s) :
        1\.  http://stackoverflow.com/questions/ask
*/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:56:06.093

如果您已经有了锚标记并​​且只想获取 href 值，请尝试此代码。它将删除除“href”值之外的其他值。唯一的问题是“href”这个词不能在“href”属性前面的 id/class 内。

```
$url = '<a href="http://stackoverflow.com/questions/ask"></a>';
$url =  substr ( $url,(strpos($url,' href=') + 6) );
$url = explode($url[0],$url);
echo $url[1]; // $url[1] will store the 'http://stackoverflow.com/questions/ask' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:43:57.137

有多种选择。。

*   如果您知道 href 将始终是 a 标签上的唯一属性，您可以使用 strpos/stripos 找到第一个和最后一个双引号的位置，并使用 substr 拉出 href。
*   或者，即使有多个属性，strpos/stripos 都接受从何处开始搜索字符串的偏移量。如果您在 href 之后开始，则可以执行与上述相同的操作。
*   或者，使用正则表达式可能会更好，它也可以找到 href 并从那里开始。
*   最后，如果这是您正在迭代的格式正确的 XHTML 文档的一部分，您可以使用 SimpleXML 来迭代数组并获取您需要的每个属性。

根据所提供的有限信息，我将从第一个或第二个选项开始，并且仅在有其他要求时才使用正则表达式或 SimpleXML。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-12-26T06:24:51.527

除非链接是由您的 PHP 代码本身生成的，否则您不能这样做。PHP 是服务器端代码，而页面上的链接本身是 HTML 客户端代码。两人无法交流。要提取值，您需要使用 JavaScript 等客户端脚本。

# python - 将提取的 PDF 内容与 django-haystack 集成

> ID：14036704
> 
> 赞同：4
> 
> 时间：2012-12-26T06:20:52.863
> 
> 标签：python, solr, django-haystack

我已经使用 Solr 提取了 PDF/DOCX 内容，并且我已经成功地使用以下专门用于此的 Solr URL 建立了一些搜索查询：

```
http://localhost:8983/solr/select?q=Lycee 
```

我想用 django-haystack 建立这样的查询。我发现这个链接正在谈论这个问题：

[https://github.com/toastdriven/django-haystack/blob/master/docs/rich_content_extraction.rst](https://github.com/toastdriven/django-haystack/blob/master/docs/rich_content_extraction.rst)

但是django-haystack（2.0.0-beta）没有“FileIndex”类。如何在 django-haystack 中集成这样的搜索？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-21T22:59:56.320

文档中引用的“FileIndex”是 haystack.indexes.SearchIndex 的假设子类。这是一个例子：

```
from haystack import indexes
from myapp.models import MyFile

class FileIndex(indexes.SearchIndex, indexes.Indexable):
    text = indexes.CharField(document=True, use_template=True)
    title = indexes.CharField(model_attr='title')
    owner = indexes.CharField(model_attr='owner__name')

    def get_model(self):
        return MyFile

    def index_queryset(self, using=None):
        return self.get_model().objects.all()

    def prepare(self, obj):
        data = super(FileIndex, self).prepare(obj)

        # This could also be a regular Python open() call, a StringIO instance
        # or the result of opening a URL. Note that due to a library limitation
        # file_obj must have a .name attribute even if you need to set one
        # manually before calling extract_file_contents:
        file_obj = obj.the_file.open()

        extracted_data = self.backend.extract_file_contents(file_obj)

        # Now we'll finally perform the template processing to render the
        # text field with *all* of our metadata visible for templating:
        t = loader.select_template(('search/indexes/myapp/myfile_text.txt', ))
        data['text'] = t.render(Context({'object': obj,
                                        'extracted': extracted_data}))

        return data 
```

因此`extracted_data`将被您提出的提取 PDF/DOCX 内容的任何过程所取代。然后，您将更新您的模板以包含该数据。

# iphone - iOS 多个代表

> ID：14036708
> 
> 赞同：2
> 
> 时间：2012-12-26T06:21:16.080
> 
> 标签：iphone, ios, ios5, delegates, delegation

我需要几个我的`view controllers`人才能知道 Persons 何时`dictionary`发生变化。我创建了一个协议，但据我了解，委托属性只能有一个`delegate`，而不是一个数组`delegates`。我知道我可以使用 来实现这一点`NSNotification`，但是有什么办法可以做到`delegation`吗？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-26T06:29:23.680

代表是一对一的。如您所知，对于多个听众`NSNotification`来说，这是要走的路。

# html - 使用 div 创建垂直条

> ID：14036710
> 
> 赞同：0
> 
> 时间：2012-12-26T06:21:42.190
> 
> 标签：html, css

我正在尝试仅使用 html 和 css 创建两个水平条，如下例所示。我正在使用以下代码：

```
<div style="height: 150px;">
  <div style="width: 55px;float:left;">
      <div>340.8</div>
      <div style="background-color:#95111d; height: 75px;">
          &nbsp;
      </div>
  </div>
  <div style="width:55px;float:left">
      <div>340.8</div>
      <div style="background-color:#9e9e9e; height: 115px;">
          &nbsp;
      </div>
  </div>
  <br style="clear: both" />
</div> 
```

这样做的问题是两个栏都位于其包含 div 的顶部而不是底部，因此您会获得下面第二个图像效果。

我有一些代码会生成这些条的高度，所以我不能只添加顶部填充/边距来将它们推入到位。有没有办法做到这一点而不诉诸javascript来计算边距并底部对齐它们？

![在此处输入图像描述](../Images/f9cdaac66ce44e6c0cc2b189024e63d0.png)

![最终结果](../Images/577d71043f7ec8dc580f8cb012199598.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:43:38.607

这是应该完成工作的 CSS 和标记（*未`absolute positioning`使用*）-

[**演示**](http://jsfiddle.net/Nj24d/2/)

**HTML：**

```
<div id="wraper">
  <div id="c1">
     <div id="h1">340.8</div>
      <div id="b1">
          &nbsp;
      </div>
  </div>
  <div id="c2">
      <div id="h2">340.8</div>
      <div id="b2">
          &nbsp;
      </div>
  </div>
  <br style="clear: both" />
</div> 
```

**CSS：**

```
#wraper {
   height: 150px;
}

#c1 {
   width: 55px;
   vertical-align: bottom;
   display: inline-block;
}

#b1 {
   background-color: #95111d;
   height: 75px;
}

#c2 {
   width: 55px;
   margin-left: -4px;
   display: inline-block;
}

#b2 {
   background-color: #9e9e9e;
   height: 115px;
} 
```

[**演示**](http://jsfiddle.net/Nj24d/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:42:54.067

您可以使用绝对定位将元素固定到其容器的底部。

HTML：

```
<div class="container">
  <div class="bar">
      <div>
          <div>340.8</div>
          <div style="background-color:#95111d; height: 75px;">&nbsp;</div>
      </div>
  </div>
  <div class="bar">
      <div>
          <div>340.8</div>
          <div style="background-color:#9e9e9e; height: 115px;">&nbsp;</div>
      </div>
  </div>
  <br style="clear: both" />
</div>​ 
```

CSS：

```
.container {
    height: 150px;
}

.bar {
    width: 55px;
    float: left;
    position: relative;
    height: 100%;
}

.bar > div {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    text-align: center;
} 
```

示例：http: [//jsfiddle.net/grc4/pAnqe/1/](http://jsfiddle.net/grc4/pAnqe/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:47:04.270

您可以通过使用内联块元素并为它们提供一个垂直对齐值底部来获得所需的效果。这是一些简单的html和css。

html

```
 <span class="bar" style="height:75px;background-color:#95111d;">
      <div class="label">340.8</div>
  </span>
  <span class="bar" style="height:115px;background-color:#9e9e9e;">
      <div class="label">350.1</div>
  </span> 
```

css

```
.bar {
    display:inline-block;
    width: 55px;
    vertical-align:bottom;
}
.label {
    position:relative;
    top:-1em;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T06:48:02.030

```
<html>
    <body>
    <div style="height: 150px;position:relative;" >
    <div style="width: 55px;float:left;position:absolute;bottom:0;left:0px;">
    <div style="background-color:#95111d; height: 75px;">&nbsp;</div>
    <div>340.8</div>
    </div>
    <div style="width:55px;float:left;position:absolute;bottom:0;left:55px;">
    <div style="background-color:#9e9e9e; height: 115px;">&nbsp;</div>
    <div>340.8</div>
    </div>
    <br style="clear: both" />
    </div>
    </body>
</html> 
```

[jsFiddle](http://jsfiddle.net/B44k8/)

# javascript - 单选按钮单击事件未触发

> ID：14036715
> 
> 赞同：0
> 
> 时间：2012-12-26T06:21:56.417
> 
> 标签：javascript, jquery, asp.net

`asp.net`我的向导控件中有一些单选按钮。

为了更好地理解标记：

```
<asp:Wizard ID="WizardCreateDL" runat="server" ActiveStepIndex="0" BackColor="#F7F6F3"
        BorderColor="#CCCCCC" BorderWidth="1px" Font-Names="Calibri" Font-Size="0.8em"
        Height="337px" Width="800px" OnNextButtonClick="WizardCreateDL_NextButtonClick"
        OnCancelButtonClick="WizardCreateDL_CancelButtonClick" OnPreviousButtonClick="WizardCreateDL_PreviousButtonClick"
        DisplaySideBar="False" BorderStyle="Solid" OnFinishButtonClick="WizardCreateDL_FinishButtonClick">
        <StepStyle BorderWidth="0px" />
        <WizardSteps>
            <asp:WizardStep ID="stepCreateFolder" runat="server" Title="FolderOptions" >
                <div id="dvFolderOptions" runat="server" style="text-align: left; width: 45%; margin: auto; font-size:medium">
                    <ul style="list-style: none;">
                        <li>
                            <input type="radio" id="rdbCalendar" value="0" name="Cal" onclick="appendChild(this);" /><label for="rdbCalendr">Calendar</label></li><br />
                        <li>
                            <input type="radio" id="rdbTasks" value="0" name="Cal" onclick="appendChild(this);"  /><label for="rdbTasks">Tasks</label></li><br />
                        <li>
                            <input type="radio" id="rdbContacts" value="0" name="Cal" onclick="appendChild(this);"  /><label for="rdbContacts">Contacts</label></li>
                    </ul>
                </div>
            </asp:WizardStep>
        </WizardSteps>
        <StartNavigationTemplate>
            <asp:Button ID="StepNextButton" runat="server" CausesValidation="False" CommandName="MoveNext"
                Font-Names="Calibri" Font-Size="1.3em" Text="Next" Visible="false" />
            <asp:Button ID="btnFinish" runat="server" Font-Names="Calibri" Font-Size="1.3em"
                Text="Finish" Visible="false" CausesValidation="False" OnClick="btnFinish_Click" />
        </StartNavigationTemplate>
    </asp:Wizard> 
```

js事件：

```
function appendChild(crnt) {
            alert('hi');
            var parentLi = $(crnt).parents('li:first');
            if (parentLi.find('ul:first').length == 0) {
                var Container = $('<ul></ul>').append('<li><input type="radio" id="rdbEditor" value="0" onclick="secondLevelChild();" /><label for="rdbEditor">Editor</label></li><li><input type="radio" id="rdbReviewer" value="0" onclick="secondLevelChild();"  /><label for="rdbReviewer">Reviewer</label></li>')
                parentLi.html(Container);
            }
        } 
```

我一直在努力触发这个事件，也尝试了可能的方法来做到这一点：

```
$(function () {
  $('#ContentPlaceHolder1_WizardCreateDL_dvFolderOptions').find('li').each(function   () {
        $(this).find('input:radio').click(function () {
            appendChild(this);
            alert('1+2+3');
        });
    });

}); 
```

但它还没有准备好开火，有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:50:23.710

我试试你的代码，似乎“appendChild”是一个内置的 js 函数，给我带来了错误，所以当我将它的名称更改为“appendChild1”之类的其他东西时，它工作正常，试一试......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:25:56.523

你可以试试下面的代码

```
$('#<%=dvFolderOptions.ClientID %> li input:radio').click(function()
{
appendChild(this);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T06:48:32.543

将您的函数名称 appendChild 更改为任何其他名称，因为 appendChild 已经存在于 javascript 中

改变 **这个**

```
function appendChild(crnt) {
    // code goes here
} 
```

**到**

```
function appendMyChild(crnt) {
    // code goes here
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T06:28:29.403

试试这个

```
$('[id$=dvFolderOptions]').delegate('li input:radio', 'click', function(){ 
            appendChild(this);
            alert('1+2+3');
        }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-26T06:28:38.873

用这个

```
$('#<%=dvFolderOptions.ClientID %>').find('li').each(function () { 
```

代替

```
$('#ContentPlaceHolder1_WizardCreateDL_dvFolderOptions').find('li').each(function   () { 
```

我刚刚测试，它的工作原理！

# menu - 自定义导航钛

> ID：14036720
> 
> 赞同：0
> 
> 时间：2012-12-26T06:22:24.327
> 
> 标签：menu, navigation, titanium, customization, tabbar

我需要为应用程序做一个非常特殊的导航或标签栏，我看了[这个](https://vimeo.com/46716470)但我不知道如何制作类似的东西，我使用 Titanium 移动设备，有经验的人可以告诉我如何使用 Titanium 制作类似的东西，或者如果有人有其他导航栏比厨房水槽上的示例更复杂。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T20:19:40.097

这就是我要开始的地方。了解该视频显然是一个复杂的界面，肯定会占用您的一部分。

这段 (http://softlywired.com/ticustommenu/) 代码可以帮助您入门，但是您需要在编写界面控件之外做更多工作。然后，我将继续创建在中心下方弹出的框，没有动画。在那之后，我会考虑为它们设置动画并向其中添加事件侦听器。

如果你让它工作并发布源代码，你就会成为 Titanium 社区的明星。

# liferay - 在 Liferay 中将 Organization statusId 设置为临时成员

> ID：14036722
> 
> 赞同：2
> 
> 时间：2012-12-26T06:22:29.453
> 
> 标签：liferay

如何将组织的状态设置为 com.liferay.portal.model.Organization.status 类型的临时成员？

当我做

```
GetterUtil.getInteger(PropsUtil.get("sql.data.com.liferay.portal.model.ListType.organization.status")); 
```

它将组织状态设置为正式成员。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T13:37:20.570

这`sql.data.com.liferay.portal.model.ListType.organization.status`是一个`portal.properties`您可以在`portal-ext.properties`.

因此，您可以将`portal-ext.properties`for中的属性指定`provisional-member`为：

```
#
# Set the default SQL IDs for common objects.
#

sql.data.com.liferay.portal.model.ListType.organization.status=12018 
```

表中的 ID 在所有`ListType`版本中或多或少保持不变，至少我看到从 Liferay CE 6.0 到 6.1 EE GA2 保持不变。

**另一种方法**
或者另一种方法是在你的`portal-ext.properties`东西中有一个新的属性，比如：

```
sql.data.com.liferay.portal.model.ListType.organization.status.provisional=12018 
```

然后你可以在任何地方的代码中使用它：

```
GetterUtil.getInteger(PropsUtil.get("sql.data.com.liferay.portal.model.ListType.organization.status.provisional")); 
```

但是这一秒只适用于您的自定义portlet 或钩子中的自定义代码，而不适用于liferay 的代码。

希望这对解决问题有所帮助。

# android - Phonegap Android App 不滚动页面

> ID：14036728
> 
> 赞同：0
> 
> 时间：2012-12-26T06:22:56.067
> 
> 标签：android, cordova, jquery-mobile

我正在使用 jquery mobile 开发基于 phonegap 的 android 应用程序，但是我的应用程序中的页面没有滚动并且在触摸事件中，我在 android logcat 中收到这些消息 -

12-26 11:37:50.023: WARN/webview(11326): 在等待 WebCore 响应触地时错过了拖拽。
12-26 11:37:50.429：INFO/InputReader(1489)：dispatchTouch::touch 事件的操作是 0
12-26 11:37:50.429：INFO/InputDispatcher(1489)：将触摸传递到当前输入目标
12-26 11 :37:50.554: INFO/InputReader(1489): dispatchTouch::touch 事件的动作是 1
12-26 11:37:50.554: INFO/InputDispatcher(1489): 将触摸传递到当前输入目标
12-26 11:37:50.554 ：详细/webview（11326）：singleCursorHandlerTouchEvent getEditableSupport FASLE

另外，（这可能会有所帮助）我正在使用photoswipe.js 来制作基于触摸的图片库。有人可以告诉页面不滚动的原因可能是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T11:40:13.383

我找到了答案，它可能对其他人有帮助。问题是我的一个html页面有一个显示youtube视频内容的iframe，显然是android（特别是android 3之前的版本不喜欢iframe）。通过删除 iframe 来修复它。

# visual-studio-2008 - 新手：使用 Visual Studio 2008 创建新的 KendoUI 移动应用程序的步骤

> ID：14036729
> 
> 赞同：2
> 
> 时间：2012-12-26T06:23:00.003
> 
> 标签：visual-studio-2008, kendo-ui

使用 Visual Studio 2008 创建新的 KendoUI 移动应用程序的步骤是什么？寻找示例应用程序（如果有）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:48:58.983

您使用什么 IDE 并不重要。您可以从[这里](http://docs.kendoui.com/tutorials/build-apps-with-kendo-ui-mobile)的教程开始。

# excel - OleDb 连接到共享点的 excel 文件不起作用

> ID：14036734
> 
> 赞同：0
> 
> 时间：2012-12-26T06:24:16.160
> 
> 标签：excel, vba

我在我的 VBA 代码连接字符串中指向工作簿本身，例如：

```
"Provider=Microsoft.ACE.OLEDB.12.0;" & _ 
 "Data Source=" & ThisWorkbook.FullName & ";" & _ 
 "Persist Security Info=False;" & _
 "Extended Properties=""Excel 12.0 Macro;HDR=Yes" 
```

当文件存储在本地时它工作得很好，但是在它被上传到共享点空间后，由于连接失败（“无法建立连接！”），它不再工作。

任何想法让它工作？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-27T22:14:22.207

这里没有太多细节，留下了很多假设......但是这里......

一些谷歌搜索表明 Access 有很多 Microsoft.ACE.OLEDB 错误；你没有提到访问，所以这可能是你的问题 - 错误的连接类型。

由于您的连接是“到工作簿本身”，因此简单的解决方案是通过简单的 XL 函数引用单元格。

在我们的环境中，（Office 2007、SP 2007）值得注意的是，连接通常包含一个连接字符串：“Provider=Microsoft.Office.List.OLEDB.2.0”）。同样，可能是错误的连接字符串。

尝试先将电子表格存储在 SP 中，打开文件（当然已签出），然后创建连接。

如果一切都失败了，我喜欢“录制宏然后修复代码”方法！

# java - 如何在可以在spring上下文之外调用该方法的类中使用自动装配

> ID：14036742
> 
> 赞同：0
> 
> 时间：2012-12-26T06:25:28.503
> 
> 标签：java, spring

将我的 Web 应用程序转换为 Spring。自动装配在它在 Spring 上下文中启动但在其他情况下失败的情况下是成功的，因为它应该。

我有一个`MangaBean`名为`genre`. Genre 的值应该是一组例外的流派中的一个。我已将**验证放在 bean 本身**中。像这样的东西：

```
 @Component
public class MangaBean{
    private String title;
    private String author;
    private String isbn;
    private String genre;

    //getters

    public void setTitle(String title){
        //validations
    }

    public void setGenre(String genre){
        boolean result=MangaUtil.verifyGenre(genre);
        if(result){
            this.genre=genre;
        }else{
            this.genre=null;
        }
    }
} 
```

该实用程序调用从表中获取一组流派并验证提供的流派的方法。

```
@Component
public class MangaUtil{
    @Autowired
    MangaDao mDao;

    public static boolean verifyGenre(String genre){
        List<String> genres=mDao.getGenresList();   //null pointer exception 
            //do validations
    }
} 
```

`MangaDao`包含一个`NamedParameterJDBCTemplate`从数据库中获取流派的自动连线。

MangaDao的代码：

```
@Repository
public class MangaDao{
    @Autowired
    private NamedParameterJdbcTemplate template;

    public List<String> getGenresList(){
        String query="select genres from manga_table";
        Map<String,String> paramMap=new HashMap<String, String>();
        return template.queryForList(query, paramMap, String.class);
    }
} 
```

在上述安排中，当我自动装配 MangaUtil 时，对 MangaUtil 的调用也可以正常工作。例子：

```
@Component
public class MangaBean{
    @Autowired
    MangaUtil mangaUtil;
    private String title;
    private String author;
    private String isbn;
    private String genre;

    //getters

    public void setTitle(String title){
        //validations
    }

    public void setGenre(String genre){
        boolean result=mangaUtil.verifyGenre(genre);
        if(result){
            this.genre=genre;
        }else{
            this.genre=null;
        }
    }
} 
```

但是，如果我在 bean 中使用自动装配，那么在我自己实例化 bean 的情况下，自动装配会失败`MangaBean mb=new MangaBean()`。请对这种情况提出建议。**我想从我的 bean 调用验证器方法，而 bean 本身没有任何自动装配。可能吗？**. 如果没有，有什么方法可以存储流派列表并在 bean 中使用它来验证我的数据。请指教。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:41:32.390

默认情况下，自动装配仅适用于 Spring 托管的 bean，即由 Spring 创建的。要使其适用于实例化的 bean，`new`请参见 Spring 文档：

[http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/aop.html#aop-atconfigurable](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/aop.html#aop-atconfigurable)

您需要使用 @Configurable 注释并按照文档配置 AspectJ。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T12:49:40.663

也许不是您问题的真正答案。但我想知道你是如何编译这段代码的：

```
@Component
public class MangaUtil(){ // <<< parentheses not allowed here
    @Autowired
    MangaDao mDao;

    public static boolean verifyGenre(String genre){
        List<String> genres=mDao.getGenresList();   // <<< you are referencing a non static attribute from a static method
    }
} 
```

# ruby - 包装相邻元素组

> ID：14036745
> 
> 赞同：1
> 
> 时间：2012-12-26T06:25:55.913
> 
> 标签：ruby, xpath, nokogiri

我有一个结构如下的 HTML 文档：

```
<li class="indent1">(something)
  <li class="indent2">(something else)</li>
  <li class="indent2">(something else)
    <li class="indent3">(another sublevel)</li>
  </li>
  <li class="indent2">(something else)</li>
</li> 
```

我需要做的是将这些 LI 标签包装在 OL 标签中。整个文档中有许多这样的列表。HTML 需要如下所示：

```
<ol>
  <li>(something)
    <ol>
      <li>(something else)</li>
      <li>(something else)
        <ol>
          <li>(another sublevel)</li>
        </ol>
      </li>
      <li>(something else)</li>
    </ol>
  </li>
</ol> 
```

我怎么能在 Nokogiri 做这个？提前谢谢了。

**编辑：**

这是原始文档中的 HTML 示例。我的脚本将所有 P 标签转换为 LI 标签。

```
 <p class="indent1"><i>a.</i> This regulation describes the Army Planning, Programming,
  Budgeting, and Execution System (PPBES). It explains how an integrated Secretariat and
  Army Staff, with the full participation of major Army commands (MACOMs), Program
  Executive Offices (PEOs), and other operating agencies--</p>

  <p class="indent2">(1) Plan, program, budget, and then allocate and manage approved
  resources.</p>

  <p class="indent2">(2) Provide the commanders in chief (CINCs) of United States unified
  and specified commands with the best mix of Army forces, equipment, and support
  attainable within available resources.</p>

  <p class="indent1"><i>b.</i> The regulation assigns responsibilities and describes
  policy and procedures for using the PPBES to:</p> 
```

缩进 1 类表示一级列表项，缩进 2 表示二级等。我需要将这些缩进类转换为正确的有序列表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T16:03:12.027

以下解决方案通过遍历`<li>`文档中的每一个来工作，或者：

*   如果没有前面的，用一个新的`<ol>`交换，然后把里面放在那里。`<li>``<li>`
*   如果前面有一个`<ol>`，`<li>`则将其移入其中。

```
document.css('li').each do |li|
  if li.at_xpath('preceding-sibling::node()[not(self::text()[not(normalize-space())])][1][self::ol]')
    li.previous_element << li
  else
    li.replace('<ol/>').first << li
  end
end 
```

在这里，经过测试：

```
require 'nokogiri'

# Use XML instead of HTML fragment due to problems with XPath
fragment = Nokogiri::XML.fragment '
  <li>List 1
    <li>List 1a</li>
    <li>List 1b
      <li>List 1bi</li>
    </li>
    <li>List 1c</li>
    New List
    <li>New List 1a</li>
  </li>
  <p>Break 1</p>
  <li>List 2a</li>
  <li>List 2b</li>
  <p>Break 2</p>
  <li>List 3 <li>List 3a</li></li>
'

fragment.css('li').each do |li|
  # Complex test to see if the preceding element is an <ol> and there's no non-empty text the li and it
  # See http://stackoverflow.com/q/14045519/405017
  if li.at_xpath('preceding-sibling::node()[not(self::text()[not(normalize-space())])][1][self::ol]')
    li.previous_element << li
  else
    li.replace('<ol/>').first << li
  end
end

puts fragment   # I've normalized the whitespace in the output to make it clear
#=> <ol>
#=>   <li>List 1
#=>     <ol>
#=>       <li>List 1a</li>
#=>       <li>List 1b
#=>         <ol>
#=>           <li>List 1bi</li>
#=>         </ol>
#=>       </li>
#=>       <li>List 1c</li>
#=>     </ol>
#=>     New List
#=>     <ol><li>New List 1a</li></ol>
#=>   </li>
#=> </ol>
#=> <p>Break 1</p>
#=> <ol>
#=>   <li>List 2a</li>
#=>   <li>List 2b</li>
#=> </ol>
#=> <p>Break 2</p>
#=> <ol>
#=>   <li>List 3
#=>     <ol>
#=>       <li>List 3a</li>
#=>     </ol>
#=>   </li>
#=> </ol> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-27T11:09:00.500

问题是您的 html 格式错误。您无法使用 nokogiri 成功解析它。

# javascript - 兼容所有版本的 Bingmap 控件的 JavaScript

> ID：14036748
> 
> 赞同：1
> 
> 时间：2012-12-26T06:26:26.420
> 
> 标签：javascript, bing-maps

大家好，我只是想知道我们是否可以获得任何版本的 bingmap 控件的通用 javascript。例如，下面是 bingmaps 版本 7 的示例。

```
script type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script 
```

所以根据这个 Javascript，我还需要对代码进行必要的更改。因此，为了节省时间和精力，我们可以拥有一个兼容的 JavaScript，它可以采用任何版本。像 2 ,3 ,4 ,6 或 7。因为再过 2 个月 bing map 将发布版本 8，所以我必须再次更改 JavaScript 和代码，所以请给我一个最佳解决方案，因为这可能是每次发布时新版本只需下载补丁并使用它。我想每次发布新版本时更改代码是唯一的解决方案，请帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-17T14:05:55.577

Bing Maps 2-6.2 版不再存在。Bing Maps 大约每 3-4 年（而不是几个月）发布一次新的地图控件。地图控件（例如版本 7）会看到很多更新，但地图脚本引用不会改变。这意味着您无需担心每隔几个月更新一次代码。请注意您是如何在 2012 年发布此问题的，现在是 2014 年，v7 仍然是 Bing 地图的主要控件。目前没有 v8 地图控制。

# jenkins - 使用 nagios GUI 监控 jenkins 作业运行状况

> ID：14036749
> 
> 赞同：2
> 
> 时间：2012-12-26T06:26:35.447
> 
> 标签：jenkins, hudson, monitoring, nagios

我正在使用`check_http`插件来发现 jenkins 服务（Winstone 托管和 Apache 托管）是否在安装的主机上运行`check_mk_agent`。并且使用以下命令在 nagios GUI 的单个 ui 上对其进行监控。

```
./check_http -H Host_Name -u /api/xml?depth=0 -p 8080 
```

下一步是解析特定 jenkins 主服务器上的作业，`jenkins REST api`并在`nagios GUI`.

有人可以给我任何想法，以便我可以在单个 GUI 上监控詹金斯的工作。非常感谢任何脚本或插件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T14:49:39.957

```
#!/usr/bin/perl
use strict;
use warnings;
use LWP::UserAgent;
use XML::Twig;
use HTTP::Request;
use Getopt::Long;
use Nagios::Plugin;
#use File::stat;

use File::Basename;
my $PROGNAME = basename($0);

my $p = Nagios::Plugin->new(
    usage => "Usage: %s [ -H|--host ] [ -p|--port ]",
    extra => "
    Examples:
    $PROGNAME --host myhost -port 8080
    Check Host name and port.
");

$p->add_arg(
    spec => 'host|f=s',
    required => 1,
    help => "-H, --host=Hostname. REQUIRED.");

$p->add_arg(
    spec => 'port|a=i',
    default => 8080,
    help => "-p, --port=Portnumber. Default 8080.");

$p->getopts;

my $o_host = $p->opts->host ;
my $o_port = $p->opts->port;
my $protocol = 'http';
my $o_url = '/api/xml';
my @jobs;

my $url = $protocol . "://" . $o_host . ":" . $o_port . $o_url ;
#print $url,"\n";
my $ua = LWP::UserAgent->new;
$ua->timeout(10);
$ua->env_proxy;
my $response = $ua->get($url);
if ($response->is_success) {
    my $content = $response->decoded_content;  # or whatever
    XML::Twig->new( twig_roots => { 'job/name' => sub { push @jobs, $_->text; } }) ->parseurl( $url);
}
else {
    $p->nagios_die( CRITICAL, "Bad page found" );
}
#print @jobs;
foreach my $job_name (@jobs) {
        #print $job_name;
        my $job_url = $protocol . "://" . $o_host . ":" . $o_port . "/" . "job" . "/" . $job_name . $o_url ;
        #print $job_url;
        my $response2 = $ua->get($job_url);
        #print $job_url;
        if ($response2->is_success) {
            $p->nagios_die( OK, "Job link valid" );
        }
        else {
            $p->nagios_die( CRITICAL, "Bad page found" );
        }
} 
```

# c# - 如何通过 C# 在 IIS (7+) 上启用窗口身份验证

> ID：14036750
> 
> 赞同：-4
> 
> 时间：2012-12-26T06:26:38.690
> 
> 标签：c#, asp.net, iis

我需要制作一个可以处理其他 Web 应用程序（asp.net、IIS）的 Web 应用程序如何通过 C# 在 IIS（7+）上启用窗口身份验证谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:29:08.810

在 web.config 集中`<authentication mode="Windows" />`

谢谢

# html - html5 视频标签没有在我的 IPAD 中播放声音？

> ID：14036758
> 
> 赞同：1
> 
> 时间：2012-12-26T06:27:21.267
> 
> 标签：html, ipad

我正在使用 html5 视频标签来播放视频文件，我正在使用下面的代码来播放我的视频，

```
<video src="../Videos/File1.mp4" type="video/mp4" class="video1" controls="controls">
<p>Your browser does not support the video.</p>
</video> 
```

在这里，当我在我的 Ipad 中运行此代码时，我可以看到正在播放的视频，但我无法听到声音，

任何帮助为什么声音没有播放..

提前致谢。

# visual-studio-2010 - 使用 Visual Studio 调试报表

> ID：14036763
> 
> 赞同：4
> 
> 时间：2012-12-26T06:27:54.833
> 
> 标签：visual-studio-2010, reporting-services, visual-studio-debugging

我的 SSRS 报告从 Dynamic ax 2012 运行时出现问题。我对其进行了调试，发现问题出在我在 Visual Studio 中创建的 SSRS 报告上。我想在那里调试它，但是当我想“*附加到进程*”时我找不到`ReportingServicesService.exe`，因为我的报告服务位于另一台服务器上。

请帮助我：我应该怎么做才能在 Visual Studio 中调试 SSRS 报告？

我有 SQL Server 2008、Visual Studio 2010 和 ax 2012。

问题是我没有在报告中编写任何代码：我只是在报告中使用了数据提供者，但调试数据提供者代码显示问题出在我的报告中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T20:09:19.480

您可以测试您的报告的一种方法是使用参数值等创建标签，以确保过滤器或计算值正常。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-28T10:56:18.980

恐怕您似乎想要的东西**是不可能的**：无法在报告中设置断点并像使用常规 .NET 应用程序一样调试它们。您尚未指定您面临的问题类型，但通常您必须求助于更基本的“调试”技术：

*   在某些情况下，[二分搜索](https://softwareengineering.stackexchange.com/questions/50552/how-to-effectively-do-manual-debugging/181223#181223)可能是您最好的选择
*   如果您知道问题出在哪里，则可以单独调试该部分（例如显示的数据不正确，因此您可以在不同的工具（例如 SSMS）中单独调试查询）
*   正如@Rednaxel 提到的，您可以使用“printf-debugging”来检查参数、表达式等。

当然，如果您已经缩小了问题范围但找不到解决方案，您可以随时在此处询问有关该问题的问题。

# imagemagick - 如何使用 ImageMagick 裁剪动画 gif？

> ID：14036765
> 
> 赞同：76
> 
> 时间：2012-12-26T06:28:01.933
> 
> 标签：imagemagick, crop, animated-gif

有很多关于裁剪图像的信息，但尝试裁剪（或修剪）动画会产生奇怪的结果。有时它们会闪烁，或者带有额外的帧，或者某些帧正确裁剪而其他帧偏移。我如何防止这一切发生？

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2012-12-26T06:28:01.933

```
convert input.gif -coalesce -repage 0x0 -crop WxH+X+Y +repage output.gif 
```

*   动画 gif 通常经过优化以节省空间，但 imagemagick 在应用裁剪命令时似乎并未考虑这一点，而是单独处理每一帧。`-coalesce`重建完整的帧。
*   其他命令将考虑原始 gif 中提供的偏移信息，因此您需要强制将其重置为`-repage 0x0`.
*   裁剪本身很简单，分别提供宽度、高度、x 偏移和 y 偏移。例如，在 x 偏移量为 50 = 40x30+50+0 时，作物 40 宽和 30 高。
*   裁剪不会删除它从图像中剪下的画布。作物后应用`+repage`将做到这一点。

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2013-11-13T23:00:48.577

即使使用合并和重新分页，我也无法让 ImageMagick 很好地裁剪和调整动画 gif 的大小。

我找到了一个名为[Gifsicle](https://github.com/kohler/gifsicle)的程序，它非常适合处理动画 gif。

```
gifsicle --crop 0,0-100,100 --output out.gif in.gif 
```

它还可以执行各种其他操作。一探究竟！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-05-15T22:37:59.337

动画通常经过优化，这意味着某些帧比其他帧小。因此，在 ImageMagick 中，您可能希望在裁剪之前合并动画。

```
convert in_animation.gif -coalesce -crop WxH+X+Y +repage -layers optimize out_animation.gif 
```

您可能需要在读取输入动画之前添加 -dispose 方法以避免闪烁。如果要进行更改，还要在最后设置 -delay 和 -loop。

看

[http://www.imagemagick.org/Usage/anim_basics/#dispose](http://www.imagemagick.org/Usage/anim_basics/#dispose) [http://www.imagemagick.org/Usage/anim_basics/#coalesce](http://www.imagemagick.org/Usage/anim_basics/#coalesce) [http://www.imagemagick.org/script/command-line-options。 php#层](http://www.imagemagick.org/script/command-line-options.php#layers)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-05-15T19:36:39.413

以下行在 Mac 上与我一起使用

```
convert -dispose 2 input.gif -trim -layers TrimBounds animation.gif 
```

这里是[源](https://stackoverflow.com/questions/44555789/how-to-trim-animated-gif-using-imagemagick)

# html - 如何使我的字体在 Blackberry 设备中工作？

> ID：14036772
> 
> 赞同：2
> 
> 时间：2012-12-26T06:28:20.383
> 
> 标签：html, css, cordova, fonts, blackberry-webworks

我正在黑莓中开发一个 phonegap 应用程序。

我有一些字体系列。他们是：

*   Helvetica Neue.ttf
*   HelveticaNeueBold_2.ttf
*   西门子平板黑色.ttf
*   西门子平板 Roman.ttf

这些字体未在我的黑莓设备中应用。但它们应用于桌面浏览器。如何使这些字体在黑莓设备中工作？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T21:05:18.397

您是否使用 css 嵌入了它们？如果没有，[http://bavotasan.com/2010/embedding-fonts-web-site-css-font-face/](http://bavotasan.com/2010/embedding-fonts-web-site-css-font-face/)。如果这不起作用，请检查您的版本是否支持 css 字体。

# iphone - 使用 NSURL 从另一个应用程序启动应用程序

> ID：14036773
> 
> 赞同：1
> 
> 时间：2012-12-26T06:28:21.727
> 
> 标签：iphone, ios, url

iOS 应用商店中有一些应用可以让您通过短信发送加密消息，并且似乎他们正在使用 NSURL 创建一个可点击的链接，该链接会自动（从 iMessage 应用）打开他们的应用，其中“隐藏消息”已经显示在应用程序。

我的问题是，如何在 NSURL 中存储信息？我知道谁可以使用 NSURL 从另一个应用程序启动我的应用程序，但是如何存储额外信息以供启动的应用程序使用，例如文本、图像或在线视频的链接？

如果这是一个基本问题，我深表歉意，我不必过多地使用 URL。非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:48:31.137

当您在应用程序的 info.plist 中注册 URL 方案时，您`myapp`可以使用以下 url 来调用您的应用程序。

```
myapp://

myapp://some/path/here

myapp://?foo=1&amp;bar=2

myapp://some/path/here?foo=1&amp;bar=2 
```

您可以在

```
- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url
  sourceApplication:(NSString *)sourceApplication annotation:(id)annotation 
```

应用程序委托的方法并根据每个 url 执行操作。

![网址加载](../Images/4b5038e3bbc8dc796500fad361790885.png)

参考：[**通过自定义 url 方案启动应用程序**](http://mobiledevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-26T06:58:15.253

我们可以通过 URL Schemes 概念实现应用之间的通信。如果您可以通过下面的此链接，您将对如何在应用程序之间共享数据有所了解

[http://mobile.tutsplus.com/tutorials/iphone/ios-sdk-working-with-url-schemes/](http://mobile.tutsplus.com/tutorials/iphone/ios-sdk-working-with-url-schemes/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T06:41:51.797

数据不存储在`NSURL`. 但是，您可以将参数与 URL 一起传递，并相应地在新打开的应用程序中检索它们。现在您可以按照您想要的方式使用这些参数。

# c# - WPF 中的事件和命令绑定

> ID：14036781
> 
> 赞同：0
> 
> 时间：2012-12-26T06:28:48.017
> 
> 标签：c#, wpf, events, textbox, commandbinding

我在 WPF 中有一个文本框并将命令绑​​定到其 LostFocus 事件并在该命令中进行一些验证。

现在在同一个窗口上，我有一个保存按钮，其键绑定是 Ctrl + S。

如果在文本框中进行一些更改，然后按 Ctrl + S，它会执行保存命令，而不会在我的文本框中引发丢失焦点事件。

我知道这是设计使然。

但是我想在保存命令之前执行那段代码，我不能在保存过程中对该代码进行硬编码，我只想在焦点在文本框中时才执行它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:43:49.993

您需要将验证代码分解为一个单独的方法，该方法可由 LostFocus 和 Save 命令调用。从 Save 调用 LostFocus 是实现此逻辑的不好方法。

新方法可以返回一个布尔值来指示验证是否成功。有更好的验证方法不依赖于绑定 LostFocus 命令，请查看我的博客文章[*将数据绑定、验证和 MVVM 提升到新的水平 - 第 1 部分*](http://techfilth.blogspot.com.au/2011/07/taking-databinding-validation-and-mvvm.html)以获得更多想法。

# javascript - 如何在 JavaScript 中对文本框进行验证

> ID：14036783
> 
> 赞同：-8
> 
> 时间：2012-12-26T06:29:08.140
> 
> 标签：javascript, .net, validation

我需要对具有以下条件的文本进行验证。

*   不允许使用数字。
*   允许的字符有：AZ、az、撇号、空格和连字符。
*   不包含后缀

我是`.Net`JavaScript 新手。有人可以建议怎么做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T08:07:55.383

在“keyup blur”事件处理程序中使用以下代码

```
$(function() {
    $('input.alpha[$id=tb1]'.bind('keyup blur', function() {
        if (this.value.search(/^[a-zA-Z]*$/) === -1) {
          alert("Only valid characters present");
        }
     }); 
}); 
```

如果您不想让正则表达式出现空匹配，请使用 + 而不是 *。

# ruby-on-rails - 将 RABL 与 mongoid 一起使用时减少 DB 调用

> ID：14036787
> 
> 赞同：2
> 
> 时间：2012-12-26T06:29:47.173
> 
> 标签：ruby-on-rails, json, mongoid, rabl, object-object-mapping

在一些场景中，我想通过急切加载尽可能少地调用数据库，但我一直没能做好。

鉴于以下 2 种情况，我如何更改我的 RABL 以尽可能少地拨打电话？

* * *

对象模型：

```
Posts 
-> belongs_to user
-> has_many: Comments 
     -> Comment belongs_to user
-> has_many: Tags
     -> Tag belongs_to user 
```

RABL（这两者都会导致数据库进行许多单独的调用）

```
node(:comments) do |p|
  p.filtered_comments(@user)
end

child :tags do
  attribute :text
  child :users do
     attribute :nickname
  end
end 
```

控制器查询

```
Post.includes(user, comments, tags)... 
```

POST.RB

```
def filtered_comments
    comments = self.comments.where(:blocked=>false).all
    json = Rabl::Renderer.json(comments, 'comments/list', view_path: 'app/views')
    JSON.parse(json).map do |c|
      c['comment']
    end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-29T19:57:04.903

通常，控制器定义了 rabl 迭代的对象，比如 a `@user`。

因此，在控制器中，我通常会预先加载关系，例如权限和文章，如下所示：`@user = User.find(1).includes(:permissions, :articles)`，并响应所述用户对象，如下所示：`respond_with @user`。

然后，在 rabl 文件中，我有类似的内容：

```
# some_file.json.rabl
object @user
child :permissions do
  attributes :name
end
node :first_article do |u|
  u.articles.first
end 
```

这修复了我的聊天视图文件版本。

# jquery-mobile - jQueryMobile：未调用按钮操作

> ID：14036790
> 
> 赞同：0
> 
> 时间：2012-12-26T06:30:08.653
> 
> 标签：jquery-mobile

下面的代码尝试在 jQueryMobile 中实现按钮操作，但它对我不起作用。请让我知道我错在哪里。一切都写在 HTML 文件中。我在这里提供我的代码时遇到了一些问题。这是我正在尝试的。在标准 HTML 格式中，我在标签之间编写以下`script`代码

```
$('#theButton').click(function() {
   alert('The Button has been clicked,');

}); 
```

在`body`标签中——

```
<div data-role="page">
<div data-role="content">
    <input type="button" id="theButton" name="theButton" value="The Button">
</div> 
```

**但是该操作没有被调用。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:37:59.427

**编辑：**请尝试以下代码：

```
<html>
<head>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>

<script language="javascript">

    $(function() {
     $('#theButton').on('tap click',function(event, ui) {
        alert('The Button has been clicked');
     });
    });

</script>
</head>
<body>
<div data-role="page">
<div data-role="content">
    <input type="button" id="theButton" name="theButton" value="The Button">
</div>
</div>
</body>
</html> 
```

# c++ - 如何在 C++ 中用“*”替换字符串中的字符？

> ID：14036794
> 
> 赞同：-6
> 
> 时间：2012-12-26T06:30:56.280
> 
> 标签：c++, stdstring

我是 C++ 新手。我的任务是将字符串变量的最后 3 个字符替换为`"*"`. 字符串的大小可以是可变的。
例如： - 如果是 String`xyz = "123456"`那么它应该替换 456`"***"`并且输出字符串应该看起来像`"123***"`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:36:49.560

`xyz.assign(xyz.length(), '*');`

请注意，原始问题已被编辑为包括要求仅将字符串的右三个字符替换为“*”。请参阅下面满足此要求的我的评论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:37:20.970

使用`std::string::replace()`：

```
 string::iterator it = str.begin();   
  str.replace(it,str.end(),str.size(),'*'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:40:12.183

尝试类似这样：

这没有经过编译检查。

```
for(int i=0; i<strlen(yourString);i++){
   yourString[i]='*';
} 
```

# wordpress - Contact Form 7 wordpress，从数据库中检索电子邮件

> ID：14036797
> 
> 赞同：3
> 
> 时间：2012-12-26T06:31:05.217
> 
> 标签：wordpress, contact-form-7

Contact Form 7 wordpress中的问题，有没有办法从数据库中获取访问者输入的电子邮件？电子邮件是否保存在数据库中？谢谢你们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T20:25:06.067

拉姆杰，

看看下面的插件：

[http://wordpress.org/extend/plugins/contact-form-7-to-database-extension/](http://wordpress.org/extend/plugins/contact-form-7-to-database-extension/)

默认情况下，当 CF7 发送电子邮件时，邮件不会存储到您的数据库中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-03-14T16:34:37.910

似乎我们有一个插件，用于将 Contact Form 7 信息存储到由 CF7 背后的同一团队制作的 DB 中。它被称为火烈鸟[https://wordpress.org/plugins/flamingo/](https://wordpress.org/plugins/flamingo/)

我制作了插件的分步指南，还展示了它的其他一些替代方案[https://deliciousthemes.com/save-contact-form-7-submissions-to-database/](https://deliciousthemes.com/save-contact-form-7-submissions-to-database/)

Flamingo 的缺点之一是它也不能存储附件。但是，有解决方案。

谢谢！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-08T16:23:57.483

您可以使用此插件**[https://wordpress.org/plugins/contact-form-advanced-database/](https://wordpress.org/plugins/contact-form-advanced-database/)**

它还在后端具有导出和搜索选项。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-04-14T06:40:30.010

我正在使用这个插件（它花费 16 美元）：[http ://codecanyon.net/item/contact-form-7-database/14684587](http://codecanyon.net/item/contact-form-7-database/14684587)

您可以将您的电子邮件（或任何东西）导出到 csv 文件，也许它可以帮助您。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-05-27T06:07:39.010

你好看看这个新插件......！它创建输入字段作为字段中的列名......！

[https://wordpress.org/plugins/save-contact-form-7/](https://wordpress.org/plugins/save-contact-form-7/)

提交表单后更新和添加一些字段对我有很大帮助

# qml - 带单位的绘图条比例

> ID：14036801
> 
> 赞同：0
> 
> 时间：2012-12-26T06:31:31.723
> 
> 标签：qml

我想在 Qt 中创建一个带有单位的条形刻度。

Qml 是否有任何符合我上述要求的类似类型的组件？

仅供参考：我的 QtQuick 版本是 1.0

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T10:51:56.823

看看[Qt Quick Colibri](http://projects.developer.nokia.com/colibri)。

它包含许多 QML 插件，包括应该满足您需求的[CLHistogram 。](https://projects.forum.nokia.com/colibri/wiki/CLHistogram)

# gwt - 项目的输出目录应设置为 /gwtproject/src/main/webapp/WEB-INF/classes

> ID：14036804
> 
> 赞同：2
> 
> 时间：2012-12-26T06:31:58.510
> 
> 标签：gwt, maven

我使用 New->Project->Maven project->GWT Eclipse 插件在 Eclipse 中创建了一个 GWT Maven 项目。它已创建，但它给出了一些错误，例如

```
The output directory for the project should be set to /gwtproject/src/main/webapp/WEB-INF/classes 
```

配置我的项目时有什么遗漏吗？

我的 pom.xml 包括：

```
<build>
        <!-- Generate compiled stuff in the folder used for developing mode -->
        <outputDirectory>${webappDirectory}/WEB-INF/classes</outputDirectory>
        <plugins>
            <plugin>
                <groupId>org.eclipse.m2e</groupId>
                <artifactId>lifecycle-mapping</artifactId>
                <version>1.0.0</version>
                <configuration>
                    <lifecycleMappingMetadata>
                        <pluginExecutions>
                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.codehaus.mojo</groupId>
                                    <artifactId>gwt-maven-plugin</artifactId>
                                    <versionRange>[2.4.0,)</versionRange>
                                    <goals>
                                        <goal>resources</goal>
                                        <goal>compile</goal>
                                        <goal>i18n</goal>
                                        <goal>generateAsync</goal>
                                    </goals>
                                </pluginExecutionFilter>
                                <action>
                                    <execute />
                                </action>
                            </pluginExecution>
                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.apache.maven.plugins</groupId>
                                    <artifactId>maven-war-plugin</artifactId>
                                    <versionRange>[2.1.1,)</versionRange>
                                    <goals>
                                        <goal>exploded</goal>
                                    </goals>
                                </pluginExecutionFilter>
                                <action>
                                    <execute />
                                </action>
                            </pluginExecution>

                        </pluginExecutions>
                    </lifecycleMappingMetadata>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <configuration>
                    <source>1.5</source>
                    <target>1.5</target>
                </configuration>
            </plugin>
        </plugins>
    </build> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-08-12T18:55:49.167

这个问题的一个极好的解决方案是：

1.  在 Package Explorer 中选择项目。
2.  打开项目的属性。
3.  选择 Java 构建路径
4.  更改默认输出文件夹![在此处输入图像描述](../Images/1d2aca211633b0345887bfeaca2bf2c4.png)

5.  质疑你做出的让你进入 Eclipse 的人生决定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T07:57:38.073

您应该对 GWT 文章 WorkingWithMaven 进行预检查 - [http://code.google.com/p/google-web-toolkit/wiki/WorkingWithMaven](http://code.google.com/p/google-web-toolkit/wiki/WorkingWithMaven)

另请参阅 GWT 示例项目[Validation](http://code.google.com/p/google-web-toolkit/source/browse/trunk/samples/validation/pom.xml)、[DynaTableRf](http://code.google.com/p/google-web-toolkit/source/browse/trunk/samples/dynatablerf/pom.xml)和[MobileWebApp](http://code.google.com/p/google-web-toolkit/source/browse/trunk/samples/mobilewebapp/pom.xml)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T07:50:00.127

您需要 `<webappDirectory>`在 pom.xml 中配置 tag 中缺少的部分。我认为这应该可以解决您的问题：[单击此处](https://stackoverflow.com/questions/12354673/gwt-maven-compiler-output-directory)

# android - 在具有不同单元格高度的列表视图中滚动

> ID：14036810
> 
> 赞同：13
> 
> 时间：2012-12-26T06:33:02.067
> 
> 标签：android, listview, scroll, height

我有一个列表视图，它的行有不同的高度。

当我向上滚动时，行似乎不规律地向上或向下移动。
（向下滚动时我没有找到该行为）

我怀疑这是因为

> 1.  listView 选择使用的行之一
> 2.  该行放置在可见行的顶部。
> 3.  listView 改变行的高度（这里不稳定的运动）

但这是一个猜测。

我尝试使用谷歌搜索，因为这应该是一个常见问题，但找不到任何问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T06:41:54.137

在这种情况下，设置正确的项目高度就可以了：

[如何为 ListView 中的每一行设置不同的高度？](https://stackoverflow.com/questions/7512592/how-to-set-different-heights-for-each-row-in-a-listview)

编辑：哦，确保您正确回收这些物品：

[ListView 重用视图时......我不希望它](https://stackoverflow.com/questions/6921462/listview-reusing-views-when-i-dont-want-it-to)

# html - CSS字体颜色不变

> ID：14036811
> 
> 赞同：10
> 
> 时间：2012-12-26T06:33:03.797
> 
> 标签：html, css

我正在制作一个 php/mysql 网站，并且必须制作一个搜索面板：

CSS代码是：

```
#search{
    color: #c02537;
    width:80%;
    margin: 20px auto;
    padding: 20px 20px;
    background: rgba(197,101,29,0.6);
    border-radius: 0 15px 0 15px;
    -moz-border-radius: 0 15px 0 15px;
    -webkit-border-radius: 0 15px 0 15px;
}
#searchf{
    margin:0 auto;
    width: 80%;
} 
```

对应的HTML是：

```
<div id="search">
<form method="post" action="index.php" name="search" id="searchf">  
    <table>
    <tr>
        <td>Food Category: <input type="text" name="food_category" id="searchfc"/> </td>
        <td>City: <input type="text" name="city" id="searchfc"/> </td>
    </tr>
    </table>    
</form>
</div> 
```

CSS 填充正在应用边距、填充和边框属性，但不应用颜色。

我不知道为什么它不起作用。有人有线索吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-26T06:35:52.633

你试过这个吗？

```
color: #c02537 !important; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-26T06:57:28.153

表格的`td`颜色可能会覆盖 的颜色属性`#search`。试试这个来专门着色`td's`

```
#search table td {
    color: #c02537;
} 
```

如果你想改变输入元素的颜色，试试这个：

```
#search table td input {
    color: #c02537;
} 
```

工作**[演示](http://jsbin.com/anacoc/3/edit)**

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-26T06:35:39.263

尝试使用：

```
color: #c02537 !Important; 
```

如果它不能解决您的问题，那么这意味着此颜色属性将被您的默认链接颜色覆盖。

使用 Firefox FireBug 之类的浏览器插件并验证应用了哪些 Css 样式以及哪些样式覆盖了您的颜色。

希望这可以帮助

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-26T06:44:42.507

您可以在 css insted 中使用继承`!important`：

```
#搜索表 td {
    颜色：#c02537；
}

```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-04T21:47:48.083

我刚刚解决了这个问题的个人版本。症状与此处的其他症状相同 - 括号内的所有内容都已实施，除了颜色。

只需将我的颜色值从十六进制格式更改为颜色字，我就可以让它工作。

```
color:#ffa500; 
```

至

```
color:orange; 
```

成功了。

顺便说一句：尝试了带引号和不带引号的十六进制颜色，没有改变任何东西。

# java - 启动安卓应用时出错

> ID：14036821
> 
> 赞同：1
> 
> 时间：2012-12-26T06:34:36.173
> 
> 标签：java, android

> **可能重复：**
> [Android 地图：安装错误：INSTALL_FAILED_MISSING_SHARED_LIBRARY](https://stackoverflow.com/questions/4509745/android-maps-installation-error-install-failed-missing-shared-library)

我正在处理一个谷歌地图应用程序，我的代码运行良好，没有任何错误；但是当我开始运行它时，我的控制台中出现错误：

```
 [2012-12-26 11:43:44 - MapsActivity] Installing MapsActivity.apk...
 [2012-12-26 11:43:45 - MapsActivity] Installationerror:INSTALL_FAILED_MISSING_SHARED_LIBRARY
 [2012-12-26 11:43:45 - MapsActivity] Please check logcat output for more details.
 [2012-12-26 11:43:45 - MapsActivity] Launch canceled! 
```

这是我的 LogCat

```
 12-26 11:41:30.444: D/AndroidRuntime(263): >>>>>>>>>>>>>> AndroidRuntime START <<<<<<<<<<<<<<

  12-26 11:41:30.444: D/AndroidRuntime(263): CheckJNI is ON

  12-26 11:41:30.553: D/AndroidRuntime(263): --- registering native functions ---

  12-26 11:41:31.103: D/dalvikvm(215): GC_EXPLICIT freed 403 objects / 23512 bytes in 51ms

  12-26 11:41:31.124: D/PackageParser(58): Scanning package: /data/app/vmdl51455.tmp

  12-26 11:41:31.183: D/PackageManager(58): Scanning package com.example.google

  12-26 11:41:31.183: E/PackageManager(58): Package com.example.google requires unavailable    shared library com.google.android.maps; failing!

  12-26 11:41:31.183: W/PackageManager(58): Package couldn't be installed in /data/app/com.example.google-1.apk

  12-26 11:41:31.274: D/dalvikvm(58): GC_EXPLICIT freed 5947 objects / 302928 bytes in 78ms

  12-26 11:41:31.324: D/AndroidRuntime(263): Shutting down VM

  12-26 11:41:31.334: D/dalvikvm(263): Debugger has detached; object registry had 1 entries

  12-26 11:41:31.344: I/AndroidRuntime(263): NOTE: attach of thread 'Binder Thread #3' failed 
```

请给我建议！！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-26T06:36:02.467

创建一个将与 Google API 一起运行的模拟器。您创建了一个不支持地图的模拟器，因此它会抛出该错误。

转到 AVD Manager，选择您当前的模拟器，然后单击编辑按钮。

然后选择 Target 作为任何版本的 Google API 并保存。重新启动您的模拟器并运行应用程序，这次您不会收到此类错误。

如果这不可用，那么您还没有完全更新您的 Android SDK。请先这样做

# facebook - 关于 Facebook Places Graph API 的查询

> ID：14036823
> 
> 赞同：1
> 
> 时间：2012-12-26T06:35:02.167
> 
> 标签：facebook, facebook-graph-api

我在我的应用程序中使用图形 API。最近，我遇到了使用 Places API 检索地点的问题。

当我尝试使用地点 API 检索位置时，我没有得到预期的响应，如果我错过了一些步骤，请告诉我。

应用程序中使用的网址是：-

[https://graph.facebook.com/search?q=Paris%2c%20France&type=place¢er=48.8567,2.3508&limit=20&distance=100](https://graph.facebook.com/search?q=Paris%2c%20France&type=place&center=48.8567,2.3508&limit=20&distance=100)

要指定的距离的最小值是多少？因为如果我将距离值从 100 增加到 1000，我可以获得更多的地方

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:45:16.720

使用[Graph API explorer](http://developers.facebook.com/tools/explorer?method=GET&path=search?q=Paris,France&type=place&center=48.8567,2.3508&limit=20&distance=1)，似乎没有任何特定的值可以`minimum value`在查询时使用。由于使用指定`1`我似乎仍然能够获取结果，到目前为止，您可以指定的最大值似乎是`50000m`for `place queries`。

# visual-studio-2010 - Queued Build 未连接到 db，因为它使用 domainName\computerName 而不是 domanName\username

> ID：14036828
> 
> 赞同：0
> 
> 时间：2012-12-26T06:35:30.060
> 
> 标签：visual-studio-2010, tfs, tfsbuild

我正在尝试在我自己的构建定义中对构建进行排队。但是我的代码中的 sql 连接会抛出一个异常，`Login failed for user 'domainName\computerName$'`这是很自然的，因为它应该使用`domainName\userAlias`.

我的问题是它为什么要使用`domainName\computerName`，以及如何使它使用 windows auth 来代替？有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T20:27:46.070

您需要设置构建服务在运行构建代理的服务器上使用的服务帐户。听起来它当前设置为作为网络服务运行。

您可以通过启动 TFS 管理控制台并转到构建配置并更改服务的属性来更改它：

![构建服务配置](../Images/a2c3aadec33b12135923f5f7796ec099.png)

# javascript - 即使在 Android Titanium 中退出后，应用程序仍保留在缓存中

> ID：14036831
> 
> 赞同：0
> 
> 时间：2012-12-26T06:35:57.173
> 
> 标签：javascript, android, titanium

我已经为 android 创建了一个应用程序，但我正面临一个关键问题。当我按下后退按钮时，我的应用程序应该退出。按后退按钮时，我将退出应用程序，但应用程序正在缓存在内存中。

如果我去这里：在设置--> 应用程序--> 运行服务--> 按下菜单--> 显示缓存的进程下，我可以看到应用程序。

我经历了[这个](https://stackoverflow.com/questions/9739776/titanium-android-close-application-completely-no-caching)并找到了一些解决方案。我已经实现了它们，没有任何效果。

对于我要退出应用程序的窗口，我添加了以下内容：

```
var self = Ti.UI.createWindow({
        backgroundColor:'#ffffff',
        navBarHidden:true,
        exitOnClose:true
    }); 
```

为了终止活动，我做了这样的事情：

```
self.addEventListener('android:back', function(e){

    var activity = Titanium.Android.currentActivity;
    activity.finish();

    //alert("Back Clicked!");

}); 
```

但是，如果我检查缓存的进程，我仍然可以看到应用程序正在运行。我应该怎么做才能在按下后退按钮时完全停止应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T14:54:30.760

尝试删除您的事件侦听器并将窗口定义更改为：

```
...
navBarHidden: false,
... 
```

# mysql - 合并结果并用逗号分隔

> ID：14036834
> 
> 赞同：0
> 
> 时间：2012-12-26T06:36:06.523
> 
> 标签：mysql, sql

我有这个查询：

```
SELECT
  tud.detail_company_name AS company_name,
  tud.detail_country AS company_country,
  trv.review_title AS review_title
FROM users_detail tud
INNER JOIN users_auth tua
  ON tud.user_id = tua.user_id
LEFT JOIN reviews trv
  ON tud.user_id = trv.review_company_id
WHERE
  tua.auth_user_type = "company" OR tua.auth_user_type = "guestcompany" 
```

查询工作正常，它返回如下结果：

```
Array
(
    [0] => Array
        (
            [company_name] => The Coffee Brewery
            [company_country] => US
            [review_title] => 
        )
    [1] => Array
        (
            [company_name] => Crea Nail Art Studio
            [company_country] => SG
            [review_title] => 
        )
    [2] => Array
        (
            [company_name] => Hello Mall
            [company_country] => JP
            [review_title] => Fake goods!
        )
    [3] => Array
        (
            [company_name] => Hello Mall
            [company_country] => JP
            [review_title] => Never buy in there!
        )
) 
```

正如您所注意到的，数组键 2 和 3 具有相同的**company_name**但不同的**review_title**。有没有可能它必须加入一个结果并用逗号分隔？例如说这个结果：

```
Array
(
    [0] => Array
        (
            [company_name] => The Coffee Brewery
            [company_country] => US
            [review_title] => 
        )
    [1] => Array
        (
            [company_name] => Crea Nail Art Studio
            [company_country] => SG
            [review_title] => 
        )
    [2] => Array
        (
            [company_name] => Hello Mall
            [company_country] => JP
            [review_title] => Fake goods!, Never buy in there!
        )
) 
```

**编辑**

如果响应是这样的：

```
Array
(
    [0] => Array
        (
            [company_name] => The Coffee Brewery
            [company_country] => US
            [review_title] => 
            [review_approved] =>
        )
    [1] => Array
        (
            [company_name] => Crea Nail Art Studio
            [company_country] => SG
            [review_title] => 
            [review_approved] =>
        )
    [2] => Array
        (
            [company_name] => Hello Mall
            [company_country] => JP
            [review_title] => Fake goods!
            [review_approved] => 1
        )
    [3] => Array
        (
            [company_name] => Hello Mall
            [company_country] => JP
            [review_title] => Never buy in there!
            [review_approved] => 0
        )
) 
```

如何在review_title 中不包含**0** **review_approved** `GROUP_CONCAT`？那么它会像这样输出吗？

```
Array
(
    [0] => Array
        (
            [company_name] => The Coffee Brewery
            [company_country] => US
            [review_title] => 
        )
    [1] => Array
        (
            [company_name] => Crea Nail Art Studio
            [company_country] => SG
            [review_title] => 
        )
    [2] => Array
        (
            [company_name] => Hello Mall
            [company_country] => JP
            [review_title] => Fake goods!
        )
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T07:01:37.623

是的。使用`GROUP_CONCAT()`：

```
SELECT
  tud.detail_company_name AS company_name,
  tud.detail_country AS company_country,
  GROUP_CONCAT(trv.review_title SEPARATOR ',') AS review_titles
FROM users_detail tud
INNER JOIN users_auth tua
  ON tud.user_id = tua.user_id
LEFT JOIN reviews trv
  ON tud.user_id = trv.review_company_id
WHERE
  tua.auth_user_type = :company OR tua.auth_user_type = :guestcompany
GROUP BY 
    tud.detail_company_name,
    tud.detail_country; 
```

# ios - G+ sdk 给出登录错误？

> ID：14036837
> 
> 赞同：11
> 
> 时间：2012-12-26T06:36:29.517
> 
> 标签：ios, google-plus

我已经实现了[Google Plus Api](https://developers.google.com/+/mobile/ios/sign-in)并按照网站中给出的方式登录。但是当我点击允许访问时，登录后出现问题，如下所示：

![在此处输入图像描述](../Images/8cf59db7664c730ac1628613f5fc7e85.png)

出现以下消息：

![在此处输入图像描述](../Images/86ef642cd2dd9555dec2e400f1c74619.png)

我的代码如下，如果还有什么，请告诉我：

```
 - (void)viewDidLoad
{
 self.signInButton.delegate = self;
 self.signInButton.clientID = kClientId;
 self.signInButton.scope = [NSArray arrayWithObjects:
                            @"https://www.googleapis.com/auth/plus.me",
                            nil];

 SLNetworkAppDelegate *appDelegate = (SLNetworkAppDelegate*)
 [[UIApplication sharedApplication] delegate];
 appDelegate.signInButton = self.signInButton;

 share =[[GPPShare alloc] initWithClientID:kClientId];
 share.delegate = self; // optional
 appDelegate.share=share;

    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (IBAction) didTapShare: (id)sender {
 [[[[share shareDialog]
    setURLToShare:[NSURL URLWithString:@"https://developers.google.com/+/mobile/ios/getting-started"]]
   setPrefillText:@"testing share via google plus"] open];

 // Or, without a URL or prefill text:
 [[share shareDialog] open];
}

In App delegate file:

- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation
{
 if ([signInButton handleURL:url
           sourceApplication:sourceApplication
                  annotation:annotation]) {
  return YES;
 }
 if ([self.share handleURL:url
         sourceApplication:sourceApplication
                annotation:annotation]) {
  return YES;
 }
 return NO;
} 
```

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-12-26T08:48:39.560

您必须在您的项目中使用您的捆绑 ID 分配重定向 uri，因此在成功验证后，如果您正确处理您的 url，您的应用程序将从 safari 启动：

![在此处输入图像描述](../Images/f0eb7242ed307cf353a582df74a2450c.png)

将包 ID 作为标识符和 URLSchemes...

# php - AS400/DB2 中的分页查询（SQL）

> ID：14036838
> 
> 赞同：1
> 
> 时间：2012-12-26T06:36:30.777
> 
> 标签：php, sql, db2, ibm-midrange

我一直在努力为我们拥有超过一百万行的表创建基于 php 的基于 Web 的分页。

根据我的阅读，我有 3 个选项

1.  检索结果集中的所有行 - 对我来说不可能，因为它的大小
2.  检索 1000 行，存储在临时表中并为其创建一个迭代器并通过它进行分页 - 查询太多 - 插入太多！
3.  如果有人选择向前或向后翻页，则每次运行查询

现在我正试图让选项 3 工作。我的第一页显示为“select * from accout order by acct fetch first 10 rows only” Page next “select * from account where acct>(last record) order by acct fetch first 10 only”页面最后一条记录“select * from account where acct=(select max(acct) from account)"

问题是显示上一页，我真的很感激这方面的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T09:51:59.430

```
SELECT *
  FROM (
    SELECT 
      *, 
      ROW_NUMBER() OVER (ORDER BY acct) AS RowNum
    FROM 
      account
  ) AS Data
WHERE 
  RowNum BETWEEN 100 AND 110; 
```

首先，你应该摆脱`SELECT *`. 仅选择您需要的字段。

在 上放置一个索引`acct`，这将有助于`ROW_NUMBER() OVER (ORDER BY acct)`构造。

使用 a`SELECT COUNT(*) FROM account`来确定您将拥有多少页。

另请阅读[使用 SQL 搜索 DB2 进行分页的最快最有效方法](https://stackoverflow.com/questions/6997838/fastest-most-efficient-way-to-do-pagination-with-sql-searching-db2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T17:55:20.393

DB2 10+ 支持 LIMIT..OFFSET 解决方案。对于旧版本，您必须启用 MySQL 兼容性：

```
$ db2set DB2_COMPATIBILITY_VECTOR=MYS
$ db2stop
$ db2start 
```

在 db2cmd 中以使用该语法。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-26T06:42:43.853

```
SELECT * FROM foo LIMIT 10, 1; 
```

尝试mysql中的限制和偏移量..

这主要用于创建分页

# android - 模拟器中的电子邮件和 Exchange 错误

> ID：14036840
> 
> 赞同：1
> 
> 时间：2012-12-26T06:36:35.883
> 
> 标签：android, eclipse, emulation

我将我的 Eclipse SDK 更新为最新更新（今天）。

当我在 4.0.3、4.1.2 或 4.2（任何 CPU 上的 Android 或 Google API 15、16、17）上启动模拟器时，`e-mail`应用程序中不存在并`com.android.exchange`生成警告和错误：

```
12-26 06:20:19.094: D/ExchangeService(6926): Received deviceId from Email app: null
12-26 06:20:19.231: D/ExchangeService(6926): !!! deviceId unknown; stopping self and retrying
12-26 06:20:19.700: D/dalvikvm(6988): GC_CONCURRENT freed 853K, 16% free 5232K/6196K, paused 10ms+9ms, total 250ms
12-26 06:20:21.790: I/GTalkService/c(7089): [AndroidEndpoint@1087613288] connect: acct=1000000, state=CONNECTING
12-26 06:20:24.591: D/ExchangeService(6926): !!! EAS ExchangeService, onStartCommand,     startingUp = false, running = false
12-26 06:20:24.765: W/ActivityManager(6509): Unable to start service Intent { act=com.android.email.ACCOUNT_INTENT } U=0: not found
12-26 06:20:25.131: D/ExchangeService(6926): !!! Email application not found; stopping self
12-26 06:20:25.182: W/ActivityManager(6509): Unable to start service Intent { act=com.android.email.ACCOUNT_INTENT } U=0: not found
12-26 06:20:25.441: D/dalvikvm(6988): GC_CONCURRENT freed 859K, 16% free 5228K/6204K, paused 14ms+11ms, total 313ms
12-26 06:20:26.093: E/ActivityThread(6926): Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d18f10 that was originally bound here
12-26 06:20:26.093: E/ActivityThread(6926): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d18f10 that was originally bound here
12-26 06:20:26.093: E/ActivityThread(6926):     at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
12-26 06:20:26.093: E/ActivityThread(6926):     at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
12-26 06:20:26.093: E/ActivityThread(6926):     at android.app.ContextImpl.bindService(ContextImpl.java:1418)
12-26 06:20:26.093: E/ActivityThread(6926):     at android.app.ContextImpl.bindService(ContextImpl.java:1407)
12-26 06:20:26.093: E/ActivityThread(6926):     at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
12-26 06:20:26.093: E/ActivityThread(6926):     at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
12-26 06:20:26.093: E/ActivityThread(6926):     at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
12-26 06:20:26.093: E/ActivityThread(6926):     at com.android.emailcommon.service.AccountServiceProxy.getDeviceId(AccountServiceProxy.java:116)
12-26 06:20:26.093: E/ActivityThread(6926):     at com.android.exchange.ExchangeService.getDeviceId(ExchangeService.java:1249)
12-26 06:20:26.093: E/ActivityThread(6926):     at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1856)
12-26 06:20:26.093: E/ActivityThread(6926):     at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
12-26 06:20:26.093: E/ActivityThread(6926):     at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
12-26 06:20:26.093: E/ActivityThread(6926):     at android.os.AsyncTask$2.call(AsyncTask.java:287)
12-26 06:20:26.093: E/ActivityThread(6926):     at java.util.concurrent.FutureTask.run(FutureTask.java:234)
12-26 06:20:26.093: E/ActivityThread(6926):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
12-26 06:20:26.093: E/ActivityThread(6926):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
12-26 06:20:26.093: E/ActivityThread(6926):     at java.lang.Thread.run(Thread.java:856)
12-26 06:20:26.941: E/StrictMode(6926): null
12-26 06:20:26.941: E/StrictMode(6926): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d18f10 that was originally bound here
12-26 06:20:26.941: E/StrictMode(6926):     at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
12-26 06:20:26.941: E/StrictMode(6926):     at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
12-26 06:20:26.941: E/StrictMode(6926):     at android.app.ContextImpl.bindService(ContextImpl.java:1418)
12-26 06:20:26.941: E/StrictMode(6926):     at android.app.ContextImpl.bindService(ContextImpl.java:1407)
12-26 06:20:26.941: E/StrictMode(6926):     at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
12-26 06:20:26.941: E/StrictMode(6926):     at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
12-26 06:20:26.941: E/StrictMode(6926):     at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
12-26 06:20:26.941: E/StrictMode(6926):     at com.android.emailcommon.service.AccountServiceProxy.getDeviceId(AccountServiceProxy.java:116)
12-26 06:20:26.941: E/StrictMode(6926):     at com.android.exchange.ExchangeService.getDeviceId(ExchangeService.java:1249)
12-26 06:20:26.941: E/StrictMode(6926):     at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1856)
12-26 06:20:26.941: E/StrictMode(6926):     at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
12-26 06:20:26.941: E/StrictMode(6926):     at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
12-26 06:20:26.941: E/StrictMode(6926):     at android.os.AsyncTask$2.call(AsyncTask.java:287)
12-26 06:20:26.941: E/StrictMode(6926):     at java.util.concurrent.FutureTask.run(FutureTask.java:234)
12-26 06:20:26.941: E/StrictMode(6926):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
12-26 06:20:26.941: E/StrictMode(6926):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
12-26 06:20:26.941: E/StrictMode(6926):     at java.lang.Thread.run(Thread.java:856)
... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T03:49:44.653

检查您没有访问空对象。我在 2.1、4.1 和 4.2 中有这个例外。都是因为我正在访问一个空对象。

# javascript - Javascript：如何修改函数内的全局变量？

> ID：14036841
> 
> 赞同：0
> 
> 时间：2012-12-26T06:36:35.833
> 
> 标签：javascript, scope, closures

下面是我正在处理的代码。我想知道为什么当我更改函数中的变量`ttt`时，更改不会留在函数之外？我已经宣布它`var ttt = new Array;`在最顶端。

另外，为什么我不能`i`在函数中使用变量？

代码：

```
 client.on('connection', function()
    {
        var sss;
        var aaa;

            console.log('Connected');

        for (i = 0 ; i < 120 ; i++)
            ttt[i] = 0;

        for (i = 0 ; i < 9 ; i++)
        {
                client.getMatchHistory(434582, function(err, result)        
            {
                sss = JSON.stringify(result);
                var myObject = eval('(' + sss + ')');
                console.log (myObject.object.data[i].object.value);

                ttt[myObject.object.data[i].object.value]++;
            });

        }

            for (i = 0 ; i < 120 ; i++)
                console.log ("Record" + i + " Successes: " + ttt[i]);

    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T07:04:34.607

正如您所指出的，您的代码存在两个独立的问题，并且它们都有些相关。首先，`ttt` *正在*全球范围内进行修改。问题是您要在修改发生之前检查它们。我怀疑这`client.getMatchHistory()`是在进行异步调用。不能保证第二个`for`循环中的所有异步操作都将在您执行第三个`for`循环时执行，您在其中读取数组。

第二个问题是范围之一，但你的问题不是全局范围。由于`client.getMatchHistory()`是异步的，一旦循环执行完毕，回调就会被调用。一旦循环完成执行`i`，其值为`10`. 这可能不是您想要的。您需要创建一个*回调生成*函数，它接受 的值`i`，并返回一个可用作回调的函数。像这样：

```
function make_callback(i) {
  return function(err, result) {
    // The body of your callback in here
  };
} 
```

然后你应该在循环体中像这样使用它：

```
client.getMatchHistory(434582, make_callback(i)) 
```

这将捕获`i`当前迭代中的值，并且生成的回调将在执行时使用该值。那应该可以解决您的问题`i`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:48:15.647

首先，所有全局变量都是有效的“窗口”对象字段，因此您可以使用 window.ttt 来确保您使用的是全局变量而不是本地变量。该代码*应该可以*工作，那么您是否在开发人员工具中尝试过？调试器对此类变量的存在有何看法？

至于变量 i：当然，你可以使用它，但最好在本地使用它，定义 'var i;' 在函数的顶部不破坏全局命名空间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:49:57.703

`client.getMatchHistory`可能是异步请求，您希望在循环之后，您将填充数组`ttt`，为了实现这一点，您必须创建一个在最后一个循环步骤之后运行的处理程序：

```
var afterloop=function() {
    for (var i = 0 ; i < 120 ; i++)
       console.log ("Record" + i + " Successes: " + ttt[i]);
}
for (var i = 0 ; i < 120 ; i++)
        ttt[i] = 0;

var i_final=0;
for (var i = 0 ; i < 9 ; i++)
        {   
            var i=i;   //localise i
            client.getMatchHistory(434582, function(err, result)        
            {
                i_final++;
                sss = JSON.stringify(result);
                var myObject = eval('(' + sss + ')');
                console.log (myObject.object.data[i].object.value);

                ttt[myObject.object.data[i].object.value]++;
                if (i_final>8) {afterloop();}
            });

        } 
```

在示例中，对完成的请求进行计数，由于异步，它们可以按随机顺序完成，因此在决定运行 时`i_final`不能参考，当计数超过最后执行的请求时，您运行应该在最后执行的函数请求完成。`i``afterloop()``i_final`

注意：**请尽可能少地使用全局变量，在你的代码中你使用了全局变量，`i`没有任何理由**

# android - org.json.JSONException：字符输入结束

> ID：14036847
> 
> 赞同：10
> 
> 时间：2012-12-26T06:37:42.107
> 
> 标签：android, arrays, json

当我尝试获取没有对象的 json 时，它工作正常。但是当我尝试获取具有对象的 json 时，它会出错。

你有什么想法吗？

```
protected Void doInBackground(String... params) {

    String url = "http://example.com/adchara1/";
    JSONArray data = null;

    try {
        JSONObject jsonObject = new JSONObject(result);

        MyArrList = new ArrayList<HashMap<String, Object>>();
        HashMap<String, Object> map;
        data = jsonObject.getJSONArray("countries");
        data = new JSONArray(getJSONUrl(url));
        for (int i = 0; i < data.length(); i++) {
            JSONObject c = data.getJSONObject(i);
            map = new HashMap<String, Object>();

            // Thumbnail Get ImageBitmap To Object
            map.put("photo", (String) c.getString("photo"));
            map.put("ImageThumBitmap",(Bitmap) loadBitmap(c.getString("photo")));

            // Full (for View Popup)
            map.put("frame", (String) c.getString("frame"));

            MyArrList.add(map);
        }

    } catch (JSONException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    return null;
} 
```

错误

```
12-26 11:51:10.352: W/System.err(23284): org.json.JSONException: End of input at character 0 of 
12-26 11:51:10.368: W/System.err(23284):    at org.json.JSONTokener.syntaxError(JSONTokener.java:450)
12-26 11:51:10.368: W/System.err(23284):    at org.json.JSONTokener.nextValue(JSONTokener.java:97)
12-26 11:51:10.368: W/System.err(23284):    at org.json.JSONObject.<init>(JSONObject.java:154)
12-26 11:51:10.368: W/System.err(23284):    at org.json.JSONObject.<init>(JSONObject.java:171)
12-26 11:51:10.376: W/System.err(23284):    at com.example.gridview.MainActivity$DownloadJSONFileAsync.doInBackground(MainActivity.java:180)
12-26 11:51:10.376: W/System.err(23284):    at com.example.gridview.MainActivity$DownloadJSONFileAsync.doInBackground(MainActivity.java:1)
12-26 11:51:10.376: W/System.err(23284):    at android.os.AsyncTask$2.call(AsyncTask.java:287)
12-26 11:51:10.376: W/System.err(23284):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
12-26 11:51:10.376: W/System.err(23284):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
12-26 11:51:10.376: W/System.err(23284):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
12-26 11:51:10.376: W/System.err(23284):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
12-26 11:51:10.376: W/System.err(23284):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
12-26 11:51:10.376: W/System.err(23284):    at java.lang.Thread.run(Thread.java:856)
12-26 11:51:10.399: D/libEGL(23284): loaded /vendor/lib/egl/libEGL_POWERVR_SGX540_120.so
12-26 11:51:10.423: D/libEGL(23284): loaded /vendor/lib/egl/libGLESv1_CM_POWERVR_SGX540_120.so
12-26 11:51:10.430: D/libEGL(23284): loaded /vendor/lib/egl/libGLESv2_POWERVR_SGX540_120.so
12-26 11:51:10.516: D/OpenGLRenderer(23284): Enabling debug mode 0
12-26 11:51:10.735: D/AndroidRuntime(23284): Shutting down VM
12-26 11:51:10.735: W/dalvikvm(23284): threadid=1: thread exiting with uncaught exception (group=0x4158f300)
12-26 11:51:10.735: E/AndroidRuntime(23284): FATAL EXCEPTION: main
12-26 11:51:10.735: E/AndroidRuntime(23284): java.lang.NullPointerException
12-26 11:51:10.735: E/AndroidRuntime(23284):    at com.example.gridview.MainActivity$ImageAdapter.getCount(MainActivity.java:122)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at android.widget.GridView.setAdapter(GridView.java:182)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at com.example.gridview.MainActivity.ShowAllContent(MainActivity.java:91)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at com.example.gridview.MainActivity$DownloadJSONFileAsync.onPostExecute(MainActivity.java:209)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at com.example.gridview.MainActivity$DownloadJSONFileAsync.onPostExecute(MainActivity.java:1)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at android.os.AsyncTask.finish(AsyncTask.java:631)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at android.os.AsyncTask.access$600(AsyncTask.java:177)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at android.os.Handler.dispatchMessage(Handler.java:99)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at android.os.Looper.loop(Looper.java:137)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at android.app.ActivityThread.main(ActivityThread.java:4931)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at java.lang.reflect.Method.invokeNative(Native Method)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at java.lang.reflect.Method.invoke(Method.java:511)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558)
12-26 11:51:10.735: E/AndroidRuntime(23284):    at dalvik.system.NativeStart.main(Native Method)
12-26 11:51:12.509: I/Process(23284): Sending signal. PID: 23284 SIG: 9 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-26T06:53:37.777

改变

```
 JSONObject jsonObject = new JSONObject(result); 
```

到

```
result=getJSONUrl(url);  //<< get json string from server
JSONObject jsonObject = new JSONObject(result); 
```

inside`doInBackground`方法，`DownloadJSONFileAsync`因为目前您没有发布任何从服务器获取 Json 数据的帖子，只是尝试将空字符串解析为 json

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T06:48:54.680

我没有看到您`String result = "";`在此处 pastebin.com/mNVGEnD5 之后为结果分配任何内容，并且如果您尝试使用此获取 json 对象

```
JSONObject jsonObject = new JSONObject(result); 
```

它肯定会在字符 0 处返回输入结尾，因为字符串结果是空的，也许您可​​以尝试用一些 jsonString 替换它，您可以以此为例：

```
{
    "result": "OK",
    "member_id": "32",
    "first_name": "Android",
    "last_name": "JSON",
    "nickname": "HEY",
    "accesskey": "123556332",
    "facebook_id": "0",
    "facebook_token_expire_date": "0000-00-00 00:00:00",
    "facebook_token_expire_date2": "0000000000000",
    "facebook_token_refresh_date": "0000-00-00 00:00:00",
    "facebook_token_key": "null",
    "status_active": 1 
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-26T07:01:49.947

正如您从[这个答案](https://stackoverflow.com/a/11845105/1056359)中看到的那样，您可能会得到一个空白的回复。
一般来说，这`org.json.JSONException: End of input at character N of...`意味着无法解析 JSON 并且某些事情没有正确完成。

如果问题是您收到空白响应，则应确保在尝试解析之前从服务器获得响应（如 ρяσѕρєя K 的答案）。

如果问题是错误的 JSON，您应该尝试验证它。[JSONLint](http://jsonlint.com/)是一个很好的起点。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-21T14:56:46.297

请检查浏览器中的 PHP 文件 URL，如果获取数据意味着您在 android 端有问题，如果浏览器没有显示数据，则表示 PHP 文件有问题。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-04-28T15:55:29.847

- 请检查您的所有 json 验证是否正确返回仅 json 格式。

*   不要使用“ [http://localhost](http://localhost) ”或“ [http://127.0.0.1](http://127.0.0.1) ”。请改用“ [http://10.0.2.2](http://10.0.2.2) ”。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-10-28T06:13:30.120

```
JSONArray array=    new JSONArray(resultdata);
            for(int i=0;i<array.length();i++)
             {                  
                carid.add(jsonObject.getString("Id"));
                carlogo.add(jsonObject.getString("CarImage"));
                carname.add(jsonObject.getString("CarType"));
                prize.add(jsonObject.getString("Price"));
                availibility.add(jsonObject.getString("CarAvailable"));} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-03T04:29:12.327

最好使用 `optJSONObject`代替，`getJSONObject` 因为它不会通过异常。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-07-16T15:56:21.343

有时问题是 URL，如果您的网站强制使用**HTTPS**，则必须确保您 在 **APP中使用的是****HTTPS** **URL**。

 **```
String url = "https://example.com/adchara1/";
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2015-10-28T06:25:59.243

```
carid = new ArrayList<String>();
        carlogo = new ArrayList<String>();
        carname = new ArrayList<String>();
        prize = new ArrayList<String>();
        availibility = new ArrayList<String>();

        ListView carlist=(ListView)findViewById(R.id.listcardetails);
        adapter=new CustomAdapter(this, carid, carlogo, carname, prize, availibility);
        carlist.setAdapter(adapter); 
```**

# iphone - iOS推特超链接

> ID：14036852
> 
> 赞同：0
> 
> 时间：2012-12-26T06:38:22.040
> 
> 标签：iphone, ios, ipad, twitter, tweets

而不是像这样将 URL 添加到推文中：

```
[tweetSheet addURL:[NSURL URLWithString:self.url]]; 
```

当用户点击它们时，是否可以将单词突出显示为蓝色并链接到网站，就像在该网站上经常看到的那样？我已经研究过 iOS 的精美标签，但这是一个标签，恐怕这不适用于推文。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:49:10.480

如果您谈论的是“任何 T​​witter 应用程序”，那么您无法控制它们如何显示 Twitter 提要。

您可以使用[“FancyLabel”](https://stackoverflow.com/questions/1256887/clickable-links-in-uilabel)或[TTTAttributedLabel](https://github.com/mattt/TTTAttributedLabel)等解决方案的唯一应用程序是您自己编写代码和控制的应用程序。

# c#-4.0 - 无法将变量转换为 Guid

> ID：14036854
> 
> 赞同：0
> 
> 时间：2012-12-26T06:38:41.497
> 
> 标签：c#-4.0, type-conversion, guid

我知道我的问题很简单，但自从过去三个小时以来我无法得到它的解决方案。

我创建了一个网格视图，其中包含三列 PeriodID、PeriodName 和 Checkbox。

现在，当我遍历这个网格的每个循环时，我想获取这个 gridview 中每一行的 periodid 值..

为此，我编写了这样的代码。

```
foreach (GridViewRow row in gvdchk.Rows)
        {
            int i = row.RowIndex;
            var cb = (HtmlInputCheckBox)row.FindControl("chkPaid");
            var Periodid = gvdchk.Rows[i].FindControl("PeriodID");
            //string su = Periodid.ToString();
           // Guid PeriodID = Guid.Parse(su);
           // Guid guid = new Guid(Periodid);
            //var PeriodID = row.FindControl("PeriodID");
            //Guid PeriodId = (Guid) PeriodID;
            //Guid PeriodId = (Guid)(gvdchk.Rows[row.RowIndex].FindControl("datemonth2"));

           // int order = m.bussinesCollection.BussinesPeriod.GetOrder(PeriodID);
            if (cb != null && cb.Checked)
            {

            }
        } 
```

当我调试我的代码时，我发现 var Periodid 获得了周期 id 的正确值，但我希望它作为 Guid。

任何人都可以帮助这个..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T07:11:02.147

您在帖子中的以下代码可以 `Guid guid = new Guid(Periodid);` 很好地将字符串转换为 GUID。

您还可以检查在行号中获得的 Periodid 的数据类型是什么。5 你的代码。

# c# - Revert Back DataGridview Column headerText 返回 DataSource column Names

> ID：14036858
> 
> 赞同：-1
> 
> 时间：2012-12-26T06:39:21.280
> 
> 标签：c#, datagridview

我在 C# winforms 中有一个 DataGridView 控件，它有一个数据表集作为它的数据源，绑定数据源后，我更改了一些列的网格标题文本，现在我想将网格列名称设置回原始数据表列名称。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T10:51:12.947

我发现我可以使用 gridcolumn.Name 属性来更新我更改的 gridcolumn.headerText，谢谢。

# jsp - 如何从另一台计算机访问 Tomcat？

> ID：14036859
> 
> 赞同：13
> 
> 时间：2012-12-26T06:39:28.167
> 
> 标签：jsp, tomcat, localhost

我有一个 JSP 网站，我想与朋友分享。我们都在使用相同的互联网资源。我们有一个共同的静态 IP：49.204.14.98（我的公共 IP）。我们有将近 40 个用户共享相同的资源。我的 IP 为 192.168.0.120。当我尝试连接到 192.168.0.120 时，它无法连接。请建议我如何使其他 PC 可以访问我的服务器。

我不是管理员，也无权访问路由器设置。

我看到了这个链接[链接](https://stackoverflow.com/questions/134309/how-can-i-browse-my-tomcat-localhost-from-another-computer-on-the-network)，但它与我的问题无关

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-12-27T00:58:32.863

如果您使用的是 Apache Tomcat，则默认情况下，部署到它的应用程序可在端口 8080 上访问。

因此，**如果**您已经以适当的方式将 Web 应用程序部署到 Tomcat，**并且**您已经启动了 Tomcat 服务器，那么您可以像这样访问您的应用程序（网站）：

```
http://localhost:8080/Your_App_Name/index.jsp 
```

代替**localhost**，您可以使用 127.0.0.1 或您的私有 IP 地址 192.168.0.120 像这样

```
http://192.168.0.120:8080/Your_App_Name/index.jsp 
```

使用已部署应用程序的名称（*应用程序上下文*）代替*Your_App_Name ，这里以**index.jsp*为例。

 ****如果**您所有的朋友都和您在同一个*LAN*（[局域网](https://en.wikipedia.org/wiki/Local_area_network)）上（并且您说他们是），那么他们可以使用上述 URL 访问您的 Web 应用程序。

```
http://192.168.0.120:8080/Your_App_Name/some_path/some_file.jsp 
```

**如果**它们在您的 LAN 之外，那么您必须在路由器上配置[*端口转发*](https://en.wikipedia.org/wiki/Port_forwarding)。当然，要做到这一点，您需要访问它。然后他们将能够使用您的公共 IP 和在设置端口转发时配置的端口访问您的 Web 应用程序。

这是一篇非常好的带有图片的文章：

*   [*如何转发路由器上的端口*](http://www.howtogeek.com/66214/how-to-forward-ports-on-your-router/)

顺便说一句，如果您已经正确安装并启动了 Apache Tomcat，那么您应该可以像这样访问它：

```
http://localhost:8080 
```

* * *

**有用的资源**

*   Apache Tomcat 官方[文档](https://tomcat.apache.org/tomcat-9.0-doc/index.html)
*   [初级和中级 Servlet 和 JSP 教程](http://courses.coreservlets.com/Course-Materials/csajsp2.html)
*   [面向初级 Web 开发人员的 Tomcat](https://www6.software.ibm.com/developerworks/education/j-tomcat/j-tomcat-a4.pdf)（PDF 文件）

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-12-27T01:15:06.053

就像@informatik01 写的那样，“如果你所有的朋友都和你在同一个局域网（局域网）上（你说他们是），他们可以使用上面的 URL 访问你的 Web 应用程序。 `http://192.168.0.120:8080/Your_App_Name/some_path/some_file.jsp`”

您使用的是什么操作系统？您对`server.xml`in进行了任何更改`$CATALINA_HOME/conf`吗？

**首先尝试在本地访问它**，然后从您朋友的一台计算机上尝试。如果随后失败，请尝试在运行 tomcat 实例的同一台机器上关闭防火墙。根据其配置，它可能会阻止默认端口上的传入连接`8080`。如果这是问题所在，请重新激活防火墙并为 http 流量打开所需的端口`8080`。

了解日志，它们通常位于 中`$CATALINA_HOME/logs/`，例如查看 catalina.out。如果您不确定服务器是否启动并运行以及可能出现的任何问题，那是最好的检查地点。在那里它会说明它找到了哪些 webapps 以及它是否成功部署了它们。您也可以使用浏览器访问服务器根目录`localhost:8080`并检查是否出现欢迎屏幕。

祝你好运！

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-05-18T08:31:18.233

我在 Windows 8 操作系统中遇到了同样的问题，我只是在运行 tomcat apache 的端口上添加了一个异常。

要向端口添加异常，请使用以下步骤

1.  通过单击“开始”按钮“开始”按钮的图片，然后单击“控制面板”来打开 Windows 防火墙。在搜索框中，键入防火墙，然后单击 Windows 防火墙。

2.  在左窗格中，单击高级设置。需要管理员权限 如果系统提示您输入管理员密码或确认，请键入密码或提供确认。

3.  在具有高级安全性的 Windows 防火墙对话框中，在左窗格中单击入站规则，然后在右窗格中单击新建规则。

4.  现在选择端口并单击下一步，现在在特定本地端口中输入您的端口或检查所有本地端口。

5.  在接下来的两个面板上选择您的首选设置，最后一个给出您的入站规则。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2018-04-11T12:08:39.377

只需在 Windows 机器上为 tomcat 启用防火墙端口即可。

转到 Windows 防火墙->高级设置->入站规则。

在右侧单击新规则->然后从对话框中选择端口，然后下一步->然后键入端口“8080”（默认情况下Tomcat在此端口上运行），然后下一步->然后选择“允许连接”->下一步- >给一个名字 - >完成。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-26T06:46:39.787

您的朋友只能通过公共静态 IP 访问您的网站。

因此，您必须将应用程序托管在像 tomcat 这样的 servlet 容器上。然后要么

**使您的 tomcat ip 与公共 ip 相同**：如果您有控制面板或管理员控制，则可以这样做。

或者

**在内部将请求从您的公共 ip 重定向到您的 tomcat ip/url。**如果您的公共 IP 绑定到像 apache 这样的 Web 服务器，您可以这样做。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-10-26T03:56:58.727

如果您使用的是 Windows 10，请允许 Tomcat 通过防火墙进行通信。

1.  一种方法是控制面板->系统和安全-> Windows防火墙->“允许应用程序或功能通过Windows防火墙”->“更改设置”->为“Commons Daemon Service Runner”启用私有和公共（如果不存在） : "Allow another app..." -> 在 Tomcat bin 目录中选择 tomcat#.exe，其中 # 将是 tomcat 版本号）

2.  为 javaw 添加防火墙例外。在 Windows 10 中，就是上述“更改设置”的步骤，然后是：查找带有 javaw 路径的 Java(TM) Platform SE 二进制文件（如果不存在，请按上述方式添加）-> 为其启用私有和公共。**

# axapta - 获取附加到 AX 2012 中记录的文件名？

> ID：14036860
> 
> 赞同：2
> 
> 时间：2012-12-26T06:39:33.370
> 
> 标签：axapta, x++, dynamics-ax-2012, ax

如何在 AX 2012 中获取附加到记录的文件名...例如，我有一些名为 table1 的表，其中我为每条记录附加了一个文件。

现在，我想编写一个作业来获取附加到表中特定记录的文件的名称。

我让它工作了

```
static void CheckAttacheddocu(Args _args)
{
   Dev_Attachment objAttachment;
    DocuRef obj_docuRef;
    ;
   select  objAttachment
      where objAttachment.AttachmentId == "001";

    select obj_docuRef
        where obj_docuRef.RefRecId == objAttachment.RecId;
    info(obj_docuRef.Name);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T08:24:02.963

考虑使用[DocuRef](http://msdn.microsoft.com/en-us/library/docuref.aspx)表上的[路径。](http://msdn.microsoft.com/en-us/library/docuref.path.aspx)

```
select obj_docuRef
    where obj_docuRef.RefRecId == objAttachment.RecId;
info(obj_docuRef.path()); 
```

# c# - 如何从一个列表框中删除项目并添加到另一个列表框中？

> ID：14036861
> 
> 赞同：0
> 
> 时间：2012-12-26T06:39:36.013
> 
> 标签：c#, wpf, windows

我正在尝试从一个列表框中删除所选项目并将其添加到新列表框中，如下代码

绑定页面加载：

将数据库中的记录放入 DataTable 并将其绑定到 Listbox。

```
lstBox1.DataContext = dtData; 
```

代码绑定：

```
 List<object> _selecteditems = new List<object>();
  foreach (var item in lstBox1.SelectedItems)
  {
      _selecteditems.Add(item);
  }
  foreach (var item in _selecteditems)
  {
      lstBox1.Items.Remove(item);
      lstBox2.Items.Add(item);
  } 
```

设计：

```
<ListBox Name="lstBox1" ItemsSource="{Binding}">
  <ListBox.ItemTemplate>
    <DataTemplate>
      <TextBlock Text="{Binding ID}"/>
    </DataTemplate>
   </ListBox.ItemTemplate>
</ListBox>

<ListBox Name="lstBox2" ItemsSource="{Binding}" >
  <ListBox.ItemTemplate>
     <DataTemplate>
        <TextBlock Text="{Binding ID}"/>
      </DataTemplate>
  </ListBox.ItemTemplate>
</ListBox> 
```

删除项目时出现错误“使用 ItemsSource 时操作无效。改为使用 ItemsControl.ItemsSource 访问和修改元素。”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T12:23:42.150

我尝试了以下方式，它对我有用。

```
List<object> _selecteditems = new List<object>();
foreach (var item in lstBox1.SelectedItems)
{
    _selecteditems.Add(item);
}
foreach (var item in _selecteditems)
{
  DataRow dr = dtSelctedDest.NewRow();
  dr[0] = ((DataRowView)item).Row[0].ToString();
  dr[1] = ((DataRowView)item).Row[1].ToString();
  dtSelctedItem.Rows.Add(dr);
  dtAllItem.Rows.Remove(dtAllItem.Rows.Remove.Select(string.Format("ID='{0}'", ((DataRowView)item).Row[0].ToString()))[0]);
 }
 lstBox1.DataContext = dtAllItem;
 lstBox2.DataContext = dtSelctedItem; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:59:03.590

不要通过 Items 属性操作项目，而是从 ListBox 绑定到的列表中添加/删除项目：

```
<ListBox Name="lstBox1" ItemsSource="{Binding myListProperty}">
  ...etc...
</ListBox> 
```

如果您`myListProperty`返回一个实现[INotifyCollectionChanged](http://msdn.microsoft.com/en-us/library/system.collections.specialized.inotifycollectionchanged.aspx)的​​集合（就像 ObservableCollection 一样），那么列表框将在添加新项目时自动显示它们，而删除的项目将立即消失。

# c - For 循环 - 将无符号数与有符号整数进行比较

> ID：14036862
> 
> 赞同：4
> 
> 时间：2012-12-26T06:39:40.553
> 
> 标签：c, for-loop

我试图在`for`循环中将无符号数与有符号数进行比较，但它没有执行 for 循环之后的语句，这意味着`for`循环不工作，我认为。我的代码是：

```
#include <stdio.h>
int main()
{
   unsigned int i;
   for (i = 8; i >= -1; i--)
     printf ("%d\n", i);
   return 0;
} 
```

在上面的代码中，`printf`语句没有被执行，所以我的`for`循环有什么问题。我们不能将无符号数与有符号数进行比较吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-26T06:41:10.200

```
unsigned int i;
for (i = 8 ; i >= -1; i--) 
```

`-1`转换为无符号类型的最大值以进行比较。因此，对于`unsigned`值，

```
i >= -1 
```

仅适用于`i = UINT_MAX`。

要获得预期的输出，最简单的方法是使用有符号整数，例如`int`.

另一种方法是在循环控制中做一些魔术：

```
for(i = 8+1; i-- > 0;) 
```

但是如果你这样做，一定要写一个注释来解释异常循环控制代码。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-26T06:43:04.340

如果将变量与大小进行比较，通常最好将变量声明为无符号，以避免此问题。

编译器会在比较有符号和无符号类型时发出警告，因为有符号和无符号整数的范围不同，当它们相互比较时，结果可能会令人惊讶。如果您必须进行这样的比较，您应该明确地转换其中一个值以与另一个兼容，也许在检查以确保您转换的值有效之后。

# zk - Zk 中的电话号码掩码

> ID：14036866
> 
> 赞同：1
> 
> 时间：2012-12-26T06:39:52.003
> 
> 标签：zk

我需要为电话号码添加掩码。是否有任何属性可以在诸如 primefaces [http://www.primefaces.org/showcase/ui/inputMask.jsf](http://www.primefaces.org/showcase/ui/inputMask.jsf)之类的文本框中询问， 或者我们必须为其添加 jquery。下面是我的代码：

```
 <textbox value="@bind(vm.phoneNo)" width="180px" constraint="no empty"/> 
```

下图显示错误消息粘贴到文本框（远程）

![在此处输入图像描述](../Images/949a98a1133e9d5881360fc533952fe9.png)

下图显示错误消息不粘在文本框（电话）上。这是主要问题 ![在此处输入图像描述](../Images/08ce7c55ef839296654de73473c45b4b.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T07:28:17.227

这是一个[zk 演示](http://www.zkoss.org/zkdemo/effects/form_effect)，向您展示如何使用 jq。
但是 zk 也有你可能喜欢使用的不同类型的[输入元素](http://books.zkoss.org/wiki/ZK%20Component%20Reference/Input)
， 因为它们有`constraint`你可以定义 reg ex 的属性。例如
参见。 如果你使用 MVVM，你也可以使用。[这](http://www.zkoss.org/zkdemo/input/form_sample)是它的演示。[`textbox`](http://books.zkoss.org/wiki/ZK%20Component%20Reference/Input/Textbox#Constraint)
[`@validator`](http://books.zkoss.org/wiki/ZK%20Developer%27s%20Reference/MVVM/Syntax/Data%20Binding/@validator)

# asp.net-mvc - 给定 HttpVerb 渲染子动作

> ID：14036870
> 
> 赞同：1
> 
> 时间：2012-12-26T06:40:10.740
> 
> 标签：asp.net-mvc, asp.net-mvc-3

现在我有两个动作，一个用于**HttpGet**，一个用于**HttpPost**，而**HttpGet**一个主要用于子动作，所以我的代码如下所示：

```
[ActionName("Comments")]
[HttpGet]
public void CommentList(string postId) {
    // This is for SEO
    if (!ControllerContext.IsChildAction) {
        return Redirect("/post/" + postId);
    }

    // Get list
    return View("CommentList", list);
}

[ActionName("Comments")]
[HttpPost]
public void PostComment(Comment comment) {
    // Save to DB
    // Get the parent post
    // return View("Post", post);
} 
```

不幸的是，在我的**Post视图中，我将****CommentList**呈现为子操作：

```
@Html.Action("Comments", new { postId = Model.Id }); 
```

**问题是，当我使用POST**请求提交评论时，在将评论保存到数据库后，它会执行**Post**视图，从而呈现**“评论”**子操作。在这里，当**“评论”**子动作被渲染时，HttpVerb 仍然是**POST**，所以路由器给出了**PostComment**动作，它再次（在一些验证失败之后）渲染**Post**视图，它渲染**“评论”**子动作......

它会导致无限递归，导致`StackOverflowException`我的网络服务器崩溃。

那么，有什么方法可以强制我`@Html.Action("Comments")`执行**CommentList**操作，我可以将**HttpVerb**或类似的东西传递给路由器吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T07:49:14.583

你为什么不使用我们 Post Redirect Get 喜欢的 PRG

```
[ActionName("Comments")]
[HttpPost]
public void PostComment(Comment comment) {
    // Save to DB
    // redirect to the Get Method
    return RedirectToAction("Comments",new {postId=comment.postId.ToString()});
} 
```

# c++ - 如何防止应用程序被执行？

> ID：14036873
> 
> 赞同：1
> 
> 时间：2012-12-26T06:40:21.940
> 
> 标签：c++, c, windows, winapi

我需要防止应用程序在 Windows 机器上启动。最明显的方式（具有无限循环并使用 EnumProcesses/OpenProcess/TerminateProcess）意味着目标应用程序/进程已经启动并且它运行了一段时间。

遗憾的是，重命名/编辑/修补/删除目标应用程序不是一种选择。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T07:50:38.927

如果您运行的是 Windows 7 或更新版本（或任何基于它的版本），那么您可以使用 AppLocker 功能：

[http://technet.microsoft.com/en-us/library/dd723686(v=ws.10).aspx](http://technet.microsoft.com/en-us/library/dd723686(v=ws.10).aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-28T09:58:24.260

您可以使用[CBT 挂钩](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644977%28v=vs.85%29.aspx)将挂钩 dll 注入应用程序。然后可以从内部挂钩过程中终止所需的过程。这适用于 Windows 2000 及更高版本。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T07:27:31.783

不替换不需要的可执行文件中的代码？我不认为你可以。除非你至少闯入 Windows 内核。查看不需要的程序是否有计划或触发器使其运行。也许你可以摆脱它们。希望这可以帮助。

# vba - 访问雷达图点的边界属性

> ID：14036881
> 
> 赞同：1
> 
> 时间：2012-12-26T06:41:04.930
> 
> 标签：vba, excel

在 Excel VBA 中，我可以使用访问 RadarChart 的每个点

```
ActiveChart.FullSeriesCollection(1).Points(1).Select 
```

我正在使用

```
With Selection
    .MarkerStyle = -4147
    .MarkerSize = 5
End With
With Selection.Format.Fill
    .Visible = msoTrue
    .UserPicture FilePath + "Red.PNG"
End With 
```

问题是这个标记以边框结束如果我记录一个宏来进行更改并查看代码

```
Selection.Format.Line.Visible = msoFalse 
```

被记录，但如果同样运行它会导致系列线消失。

有人可以帮助我关闭边框的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T08:11:27.550

你必须使用`.MarkerForegroundColorIndex = xlColorIndexNone`

看这个例子

```
Option Explicit

Sub Sample()
    Dim sc As Series, dp As Point
    Dim FilePath As String

    FilePath = "C:\"

    Set sc = ActiveSheet.ChartObjects(1).Chart.SeriesCollection(1)

    With sc
        .MarkerStyle = -4147
        .MarkerSize = 5

        For Each dp In sc.Points
            dp.MarkerForegroundColorIndex = xlColorIndexNone
        Next

        With .Format.Fill
            .Visible = msoTrue
            .UserPicture FilePath + "Red.PNG"
        End With
    End With
End Sub 
```

**前**

![在此处输入图像描述](../Images/908d5924b2bc8d7a9f9f8704ba300d21.png)

**后**

![在此处输入图像描述](../Images/b65f5e0f1f2ea5fe7d41091ac49798a7.png)

# jsf - glassfish：将所有网址重定向到索引

> ID：14036884
> 
> 赞同：0
> 
> 时间：2012-12-26T06:41:09.983
> 
> 标签：jsf, jakarta-ee, glassfish, glassfish-3

我正在使用 glassfish 3 服务器和 jsf 开发 java ee 应用程序。我希望从我的上下文根开始的所有对 url 的请求都被重定向到我的 index.xhtml。例如，如果用户键入：my-host/my-app-context-root/lgsfdjglksjdflgjldskfjg-anything 我希望将此请求重定向到：my-host/my-app-context-root/index.xhtml

所以我想知道如何实现这个规则。如果可能的话，我想以某种方式使用 Java/jsf 或 web.xml 或仅属于我的应用程序的一些其他文件。我想避免进行任何“常规”服务器配置，例如按照[那里](http://docs.oracle.com/cd/E18930_01/html/821-2416/gixrb.html)的建议设置属性“redirect_n” 。

在此先感谢并为我的英语感到抱歉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T09:24:54.883

您可以使用映射“/*”创建一个 servlet 过滤器。然后用于`HttpServletRequest#getRequestURI()`检查这是对 js/css 文件的请求还是任何其他请求，您可以相应地重定向到 index.xhtml。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T07:05:52.003

一种解决方案是在 web.xml 中使用带有 / 的 servlet。此 servlet 将充当您的应用程序的默认 servlet，并可以输出 index.xhtml 的内容。

# opengl - 在 glVertexAttribPointer() 中使用 GL_INT_2_10_10_10_REV

> ID：14036892
> 
> 赞同：2
> 
> 时间：2012-12-26T06:42:21.830
> 
> 标签：opengl, glsl, vertex-attributes

谁能告诉我我们究竟如何使用 GL_INT_2_10_10_10_REV 作为 glVertexAttribPointer() 中的类型参数？我正在尝试使用这种类型传递颜色值。还有这种类型的“REV”后缀有什么意义？它是否需要在着色器中进行任何特殊处理？

我的代码如下：

```
GLuint red=1023,green=1023,blue=1023,alpha=3;

GLuint val = 0;
val = val | (alpha << 30);
val = val | (blue << 20);
val = val | (green << 10);
val = val | (red << 0);

GLuint test_data[]={val,val,val,val};

loadshaders();

glBindAttribLocation(ps,0,"tk_position");

glBindAttribLocation(ps,1,"color");

LinkShader();

glUseProgram(ps);

glEnableVertexAttribArray (0);

glVertexAttribPointer(0, 4, GL_FLOAT, 0, 0, vertices);

glEnableVertexAttribArray (1);

glVertexAttribPointer(1,GL_BGRA,GL_UNSIGNED_INT_2_10_10_10_REV,GL_TRUE,0,test_data);

glDrawArrays(GL_TRIANGLE_FAN, 0, 4); 
```

着色器是：顶点着色器 -

```
#version 150

in vec4 tk_position;
in vec4 color;

out vec4 v_color;

void main()
{
    v_color = color;
    gl_Position = tk_position; 
} 
```

片段着色器 -

```
#version 150

in vec4 v_color;
out vec4 fragColor;

void main()
{
    fragColor =  v_color;
} 
```

程序对象也被验证。那里没有问题。此代码在 AMD 卡上运行良好，但在 NVidia 上失败。失败意味着我在 glDrawArrays() 调用中获得了 NULL 指针访问权限。

```
Access violation
    Exception Flag: 0x00000000
    Exception Addr: 0x055f32ce 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-29T15:01:45.717

如果您传递颜色，那么您很可能需要**UNSIGNED_INT_2_10_10_10_REV**。所以我会假装这是你要求的。

整个字段被打包成一个无符号整数。OpenGL 将无符号整数定义为 32 位大小，因此您应该使用`GLuint`OpenGL 提供的 typedef 来获得一个。

但是，这种格式是*打包*的，所以你不能只是把一个数组塞进去。它是一种压缩形式，因此当您认真考虑将顶点属性数据缩小时，通常会使用它。

首先，对颜色使用 10/10/10/2 的唯一原因是，如果您的原始源颜色具有比常规 8 位每通道颜色更高的颜色深度颜色。毕竟，RGB 分量各有 10 位；如果您的源颜色只有 8 位，那么您实际上并没有获得任何新信息。

因此，假设您有一些浮点颜色值，具有浮点精度。您必须将每个组件标准化为 [0, 1] 范围。然后将每个值乘以 2 ^(10) - 1，从而扩展到 [0, 1023] 范围。然后将每个组件转换为整数。

问题在于将其打包到实际字段中。名称中的“ `REV`”表示尊重组件的顺序。通常在 OpenGL 中，如果您看到类似 的格式`GL_UNSIGNED_SHORT_5_6_5`，则这意味着每个无符号 short 被分解为 5 位的模式，然后是 6 位，再接着是 5 位。最左边的 5 位字段是红色，6 位字段是绿色，最右边的 5 位字段是蓝色。

“ `REV`”的意思是颠倒这个。所以`2_10_10_10_REV`意味着两个最高有效位进入*alpha*。接下来的 10 位转到蓝色。然后是格林。然后是红色。

因此，您必须将整数捆绑在 [0, 1023] 范围内，然后将它们推到 GLuint 值中的正确位置。你对数组中的每个这样的组件都这样做。

```
GLuint val = 0;
val = val | (alpha << 30);
val = val | (blue << 20);
val = val | (green << 10);
val = val | (red << 0); 
```

此代码假定`alpha`只有 2 个非零位，并且`blue`,`green`和`red`每个只有 10 个非零位。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-26T10:46:46.513

所以让我们把它分解成可以理解的部分：

`INT`表示格式将被读取为整数。

`2_10_10_10`意味着第一个 int 为 2 位，下一个 3 为 10 位。请注意，这些值加起来为 32，即 4 字节整数中的位数。

`REV`表示组件的顺序颠倒了。

IIRC 这种格式最常用于打包顶点法线，以减少顶点数据的大小。还没有真正看到它用于其他任何事情。

**编辑**

此外，我还发现[了这个很酷的页面](http://sugarpot.sakura.ne.jp/yuno/?OpenGL%E3%83%94%E3%82%AF%E3%82%BB%E3%83%AB%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88)，其中包含可以准确显示哪些位代表哪些值的表格。该网站大部分是日文的，但表格是英文的。

**编辑 2**

指向上述页面的链接已失效，[这](http://www.informit.com/articles/article.aspx?p=2033340&seqNum=3)是另一个页面，其中包含如何布置值的表格。

# java - 如何使用 JMF 和 mp3plugin.jar 将 mp3 转换为 wav？

> ID：14036893
> 
> 赞同：1
> 
> 时间：2012-12-26T06:42:31.743
> 
> 标签：java, mp3, wav, jmf, file-conversion

我必须在 java 中将 mp3 数据转换为 wav。我正在使用带有 mp3plugin.jar 的 JMF，我可以用它播放 mp3，似乎有一种方法可以将它与通道、位宽和 fps 信息一起转换为 wav我需要进一步处理，但不知道该怎么做。任何帮助都值得钦佩

# c - C中的函数调用

> ID：14036894
> 
> 赞同：4
> 
> 时间：2012-12-26T06:42:34.400
> 
> 标签：c, function

> **可能重复：**
> [为什么 gcc 允许将参数传递给定义为没有参数的函数？](https://stackoverflow.com/questions/12643202/why-does-gcc-allow-arguments-to-be-passed-to-a-function-defined-to-be-with-no-ar)

编码：

```
#include <stdio.h>
#include <stdlib.h>

void test_print()
{
    printf("test print\n");
}

int main()
{
    test_print(1,2);
    return 0;
} 
```

虽然 main 中 test_print 的调用者与该函数的定义有不同的参数数量，但代码可以很好地工作，但是如果将其更改为 c++ 版本，则会出现编译错误“函数参数太多......” . 为什么C允许函数的参数不匹配调用，我们什么时候可以使用这种调用方式？以及为什么它在 c++ 中被禁止。

系统 ubuntu 11.10
编译器：gcc 4.6.1

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T06:45:43.987

在 c 中，函数为空`()`意味着该函数可以接受任意数量的参数。
如果要指定该函数不接受任何参数，则需要：

```
void test_print(void) 
```

而在 C++`()`中，函数为空意味着它不接受任何参数。请注意，这在 C++ 中很重要，因为在 C++ 中，您可以根据可以采用的参数数量重载函数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T06:46:10.277

因为根据C标准；

```
int foo(void); //Is the only way a function won't allow any parameters 
```

引用标准：

> 10 void 类型的未命名参数作为列表中唯一的项目的特殊情况指定该函数没有参数。

将括号留空意味着没有参数或任何数量的参数。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-26T06:50:00.170

当你写：

```
void test_print() { ... } 
```

您没有为函数提供原型，因此编译器不应该将调用与参数列表进行比较。要提供原型，您必须编写显式`void`：

```
void test_print(void) { ... } 
```

或者提供一个单独的原型声明：

```
void test_print(void); 
```

但最好让函数定义与原型声明相匹配，所以总是写`void`. 是的，这是 C++ 与 C 不同的领域之一。如果没有范围内的原型，就不能在 C 中使用函数，并且 C++ 能够将空参数列表视为空参数列表。在 C99 或更高版本中，您应该在范围内有一个原型，但编译器通常不会强制执行它，除非您添加更严格的选项（`-Wmissing-prototypes -Wstrict-rprototypes -Wold-style-definition -Wold-style-declaration`可能是 GCC 选项）。但是与准标准 C 的向后兼容性要求意味着 C89 无法在不破坏许多以前有效的 C 代码的情况下强制执行“空括号意味着没有参数”规则，这会阻止标准被接受。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T06:48:24.227

确保您找到编译器选项以确保在使用之前使用完整原型声明所有函数，并确保您始终使用编译器选项并注意其警告，这是一个很好的编程规则

# xml - 如何在xslt中使用xpath作为变量？

> ID：14036897
> 
> 赞同：3
> 
> 时间：2012-12-26T06:42:56.420
> 
> 标签：xml, xslt, xpath, xslt-2.0

例如，我有一个变量`$myVar`等于：

```
<ResultSet>
    <Row>
        <Cell name="NEXTVAL" type="NUMBER">475535</Cell>
    </Row>
    <Row>
        <Cell name="NEXTVAL" type="NUMBER">475536</Cell>
    </Row>
    <Row>
        <Cell name="NEXTVAL" type="NUMBER">475537</Cell>
    </Row>
</ResultSet> 
```

如何在 xslt 中为这个变量使用 xpath？

就像以某种方式获得价值`/ResultSet/Row[1]/Cell`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T10:57:28.217

如果你的变量是这样形成的

```
<xsl:variable name="myVar" as="element()">
    <ResultSet>
        <Row>
            <Cell name="NEXTVAL" type="NUMBER">475535</Cell>
        </Row>
        <Row>
            <Cell name="NEXTVAL" type="NUMBER">475536</Cell>
        </Row>
        <Row>
            <Cell name="NEXTVAL" type="NUMBER">475537</Cell>
        </Row>
    </ResultSet>
</xsl:variable> 
```

然后你的 xpath 应该是这样的

```
<xsl:sequence select="$myVar/Row[1]/Cell"/> 
```

您的变量在 ResultSet 节点上“站立”，因此您不想使用 $myVar/ResultSet 因为在该级别上只有 Row 节点。请注意，您需要将变量设置为元素（“as”属性）。如果您的命名空间是相关的，并且某些变量的默认命名空间与其他变量不同，您可以像这样为此 xpath 表达式设置默认命名空间

```
<xsl:sequence select="$myVar/Row[1]/Cell" xpath-default-namespace="http://something.com"/> 
```

您还可以为整个样式表设置默认命名空间。如果你想忽略命名空间，你可以像这样使用 xpath

```
<xsl:sequence select="$myVar/*:Row[1]/*:Cell"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T07:46:06.107

[在这里](http://www.xml.com/pub/a/2003/07/16/nodeset.html)找到解决方案

```
<xsl:variable name="author">
  <firstname>Jirka</firstname>
  <surname>Kosek</surname>
  <email>jirka@kosek.cz</email>
</xsl:variable> 
```

现在假设我们要从 $author 变量中提取电子邮件地址。最明显的方法是使用诸如 $author/email 之类的表达式。但这会失败，因为您不能将 XPath 导航应用于“结果树片段”类型的变量。

如果我们想绕过这个限制，我们可以使用一个扩展函数，它能够将结果树片段转换回节点集。此函数不是 XSLT 或 XPath 标准的一部分；因此，使用它的样式表不会像不使用它的样式表那样可移植。然而，node-set() 的优势通常超过可移植性问题。

扩展函数始终驻留在单独的命名空间中。为了使用它们，我们必须在样式表中将此命名空间声明为扩展命名空间。每个处理器实现 node-set() 函数的命名空间都不同，但幸运的是许多处理器也支持 EXSLT，因此我们可以在样式表的开头使用以下声明。

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:exsl="http://exslt.org/common"
                extension-element-prefixes="exsl"
                version="1.0">
  ...
  <!-- Now we can convert result tree fragment back to node-set -->
  <xsl:value-of select="exsl:node-set($author)/email"/>
  ...
</xsl:stylesheet> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-26T07:47:08.250

第一行将匹配 ResultSet 作为模板...下一行将仅显示第[1](http://w3schools.com/xpath/xpath_nodes.asp)行的 值

```
'<xsl:template match="//ResultSet">
 <xsl:value-of select="/ResultSet/Row[1]/Cell"/>' 
```

该单曲还返回**475535**作为输出。

```
 '<xsl:value-of select="/ResultSet/Row[1]/Cell"/> ' 
```

请参考[XPATH](http://w3schools.com/xpath/xpath_nodes.asp)来学习 Xpaths

让我知道这将解决您的问题。

谢谢，

帕万

# wpf - 在模型中直接使用业务对象的 DependencyProperty 是否有意义？

> ID：14036901
> 
> 赞同：0
> 
> 时间：2012-12-26T06:43:28.637
> 
> 标签：wpf, mvvm, dependency-properties

使用以下业务对象：

```
public class ItemsRow : BusinessObject<ItemsRow>
{
    public static readonly DependencyProperty ItemIdProperty = DependencyProperty.Register("ItemId", typeof(int), typeof(ItemsRow));
    public static readonly DependencyProperty DescriptionProperty = DependencyProperty.Register("Description", typeof(string), typeof(ItemsRow));

    public int ItemId
    {
        get { return (int)this.GetValue(ItemIdProperty); }
        set { this.SetValue(ItemIdProperty, value); }
    }

    public string Description
    {
        get { return (string)this.GetValue(DescriptionProperty); }
        set { this.SetValue(DescriptionProperty, value); }
    }
} 
```

您将如何在模型中公开属性，看看属性如何已经是 DependencyProperty 的？

我想知道这样做是否有意义：

```
public class ItemModel: DependencyObject
{
    Item _item;

    public ItemModel(Item item) 
    {
        _item = item;
    }

    public static readonly DependencyProperty DescriptionProperty = Item.DescriptionProperty;

    public string Description
    {
        get { return _item.Description; }
        set { _item.Description = value; }
    }
} 
```

这会按预期工作，还是模型必须拥有自己的一组 DependencyProperty，这些 DependencyProperty 由业务对象的 DependencyProperty 支持？或者可以稍微修改一下以使其正常工作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:58:10.103

这是行不通的，因为依赖属性注册需要知道该属性是在哪种类型上定义的；这就是您将第三个参数传递给 register 方法的原因。到目前为止，仅凭这个原因，它就无法正常工作。但从理论上的 MVVM 设计角度来看，在模型中拥有一个与业务对象非常相似的单独对象是您选择拥有另一层抽象的权衡。您实际上是在购买冗余，以允许自己拥有另一层抽象，允许您在不更改模型的情况下交换业务对象。但是，如果您使您的模型对象依赖于您的业务对象实现的细节，那么您就违背了这个目的。在这种情况下，我会直接使用“业务对象”作为您的模型对象。

# javascript - 如何在javascript中获取elementbyid？

> ID：14036902
> 
> 赞同：0
> 
> 时间：2012-12-26T06:43:33.787
> 
> 标签：javascript, asp.net

我有一个母版页，我在其中定义了一个函数`getElementById`。

```
function Clear() {
    document.getElementById('<%= NameTextBox.ClientID  %>').value = "";
    document.getElementById('<%= LastNameTextBox.ClientID  %>').value = "";
} 
```

当我在其他页面中使用此功能时，它正在清除元素值。

但是当我在母版页中使用此代码时，出现错误：

> 无法修改 Controls 集合，因为该控件包含代码块（即 <% ... %>）。

```
[HttpException (0x80004005): The Controls collection cannot be modified because the control contains code blocks (i.e. <% ... %>).]
 System.Web.UI.ControlCollection.Add(Control child) +9601391
AjaxControlToolkit.ScriptObjectBuilder.RegisterCssReferences(Control control) +691
AjaxControlToolkit.ScriptControlBase.OnLoad(EventArgs e) +44
System.Web.UI.Control.LoadRecursive() +54
System.Web.UI.Control.LoadRecursive() +145
System.Web.UI.Control.LoadRecursive() +145
System.Web.UI.Control.LoadRecursive() +145
System.Web.UI.Control.LoadRecursive() +145
System.Web.UI.Control.LoadRecursive() +145
System.Web.UI.Control.LoadRecursive() +145
System.Web.UI.Control.LoadRecursive() +145
System.Web.UI.Control.LoadRecursive() +145
System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +772 
```

如果我将代码更改为：

```
document.getElementById('<%# NameTextBox.ClientID  %>').value = ""; 
```

我没有收到错误。但不要清除 myelement。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:56:28.953

看起来您在`<Head>`母版页的标签中添加了提到的 js 函数。而是尝试`<form>`在最后的母版页的标记中添加您的 js 函数。

# ruby - CSV foreach 和 parse 方法之间的区别

> ID：14036906
> 
> 赞同：-6
> 
> 时间：2012-12-26T06:43:42.130
> 
> 标签：ruby, csv, foreach

谁能告诉我 CSV 中的 parse 和 foreach 有什么区别？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T06:52:19.700

在此处查看[Ruby 文档](http://ruby-doc.org/stdlib-1.9.2/libdoc/csv/rdoc/CSV.html)。

一般来说，`#parse`用于解析字符串，而`#foreach`用于文件。

# iphone - 带有游戏中心的 iphone 应用程序

> ID：14036909
> 
> 赞同：0
> 
> 时间：2012-12-26T06:43:52.927
> 
> 标签：iphone, ios, game-center

我是游戏中心的新手，我不明白从哪里开始，所以任何人都可以帮助我游戏中心，我应该先参考什么？在 Itunes Connect 上创建应用程序或创建应用程序 ID？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T07:45:46.313

首先，您需要根据该应用 ID 创建应用 ID。

现在在 iTunes 连接中创建新应用程序，创建应用程序后，您将显示管理游戏中心选择和使用的选项。

现在，如果您可以在使用 Game Center 的应用程序中使用该捆绑包 ID。

如果不明白，请随时询问。

# c - 为什么会出现此错误：指向整数转换的指针不兼容？

> ID：14036913
> 
> 赞同：12
> 
> 时间：2012-12-26T06:44:31.643
> 
> 标签：c, pointers

请看一下代码，clang 给我错误“不兼容的整数转换指针”，为什么会这样？

```
#include <stdio.h>
#include <stdlib.h>
int main (void)
{
    char* name;
    name = malloc (sizeof(char) * 6);
    *name = "david";
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-12-26T06:47:19.723

无论发生什么都发生在这一行：

```
*name = "david"; 
```

的类型`*name`将是`char`，因为您正在取消引用`char`指向的 by `name`。的类型`"david"`是`char[6]`，因为它是 6 个字符（5 + 空终止符）的*字符串文字*。数组类型*衰减*为指针，a`char`是*整数类型*；您的分配尝试设置一个指向整数的指针，因此`incompatible pointer to integer conversion`.

即使赋值的左边有正确的类型，你也不能只用赋值运算符复制数组。如果你想设置`name`为`"david"`，那么你应该使用`strcpy( name, "david" )`.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-12-26T07:09:23.257

在 C 编程中，您永远不能直接将字符串复制/分配到指针中，例如

```
*name = "david"; 
```

您只能使用`memcpy()`（内置函数）复制字符串。要解决此问题，请将行替换
`*name = "david";`为`memcpy(name,"david",sizeof("david"));`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-27T20:32:32.533

这一行：

```
*name = "david"; 
```

应该读

```
name = "david"; 
```

*name 与 name[0] 同义（在此上下文中）（即 name 变量指向的字符串的第一个字符）。您希望将 name 变量而不是指针的内容分配为指向字符串文字“david”所指向的同一事物。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T08:27:43.843

看这里 name 不是指向字符的指针，
通过使用库函数 malloc 你已经把它变成了一个字符数组，
所以你不能像指针一样简单地将它指向任何地址
你必须使用库函数**strcpy(p,"david")** 然后只有它会给你想要的结果

# php - 我的 http://localhost/ 重定向到 www.localhost.com

> ID：14036915
> 
> 赞同：15
> 
> 时间：2012-12-26T06:44:43.070
> 
> 标签：php, mod-rewrite, url-rewriting, xampp, htdocs

我检查了我的`httpd.conf`文件，没有发现任何东西，让我知道我需要查看的其他区域。

尽管我的其他链接运行良好，例如-

`http://localhost/phpmyadmin/`或者`http://localhost/myprojects/`

这就是我的 httpd.conf 文件中的内容 -

```
DocumentRoot "C:/xampp/htdocs"

#
# Each directory to which Apache has access can be configured with respect
# to which services and features are allowed and/or disabled in that
# directory (and its subdirectories). 
#
# First, we configure the "default" to be a very restrictive set of 
# features.  
#
<Directory />
    Options FollowSymLinks
    AllowOverride All
    Order deny,allow
    Deny from all
</Directory> 
```

最后——**是**的，我在问之前用谷歌搜索了很多，但在我的情况下找不到任何东西。

阿帕奇正在工作——

![在职的](../Images/c72c06572619992c730690b9ae18811e.png)

我的 hhtpd.conf 文件——

```
#
# This is the main Apache HTTP server configuration file.  It contains the
# configuration directives that give the server its instructions.
# See <URL:http://httpd.apache.org/docs/2.2> for detailed information.
# In particular, see 
# <URL:http://httpd.apache.org/docs/2.2/mod/directives.html>
# for a discussion of each configuration directive.
#
# Do NOT simply read the instructions in here without understanding
# what they do.  They're here only as hints or reminders.  If you are unsure
# consult the online docs. You have been warned.  
#
# Configuration and logfile names: If the filenames you specify for many
# of the server's control files begin with "/" (or "drive:/" for Win32), the
# server will use that explicit path.  If the filenames do *not* begin
# with "/", the value of ServerRoot is prepended -- so "logs/foo.log"
# with ServerRoot set to "C:/xampp/apache" will be interpreted by the
# server as "C:/xampp/apache/logs/foo.log".
#
# NOTE: Where filenames are specified, you must use forward slashes
# instead of backslashes (e.g., "c:/apache" instead of "c:\apache").
# If a drive letter is omitted, the drive on which httpd.exe is located
# will be used by default.  It is recommended that you always supply
# an explicit drive letter in absolute paths to avoid confusion.

#
# ServerRoot: The top of the directory tree under which the server's
# configuration, error, and log files are kept.
#
# Do not add a slash at the end of the directory path.  If you point
# ServerRoot at a non-local disk, be sure to point the LockFile directive
# at a local disk.  If you wish to share the same ServerRoot for multiple
# httpd daemons, you will need to change at least LockFile and PidFile.
#
ServerRoot "C:/xampp/apache"

#
# Listen: Allows you to bind Apache to specific IP addresses and/or
# ports, instead of the default. See also the <VirtualHost>
# directive.
#
# Change this to Listen on specific IP addresses as shown below to 
# prevent Apache from glomming onto all bound IP addresses.
#
#Listen 0.0.0.0:80
#Listen [::]:80
Listen 80

#
# Dynamic Shared Object (DSO) Support
#
# To be able to use the functionality of a module which was built as a DSO you
# have to place corresponding `LoadModule' lines at this location so the
# directives contained in it are actually available _before_ they are used.
# Statically compiled modules (those listed by `httpd -l') do not need
# to be loaded here.
#
# Example:
# LoadModule foo_module modules/mod_foo.so
#
LoadModule actions_module modules/mod_actions.so
LoadModule alias_module modules/mod_alias.so
LoadModule asis_module modules/mod_asis.so
LoadModule auth_basic_module modules/mod_auth_basic.so
LoadModule auth_digest_module modules/mod_auth_digest.so
#LoadModule authn_alias_module modules/mod_authn_alias.so
#LoadModule authn_anon_module modules/mod_authn_anon.so
#LoadModule authn_dbd_module modules/mod_authn_dbd.so
#LoadModule authn_dbm_module modules/mod_authn_dbm.so
LoadModule authn_default_module modules/mod_authn_default.so
LoadModule authn_file_module modules/mod_authn_file.so
#LoadModule authnz_ldap_module modules/mod_authnz_ldap.so
#LoadModule authz_dbm_module modules/mod_authz_dbm.so
LoadModule authz_default_module modules/mod_authz_default.so
LoadModule authz_groupfile_module modules/mod_authz_groupfile.so
LoadModule authz_host_module modules/mod_authz_host.so
#LoadModule authz_owner_module modules/mod_authz_owner.so
LoadModule authz_user_module modules/mod_authz_user.so
LoadModule autoindex_module modules/mod_autoindex.so
#LoadModule bucketeer_module modules/mod_bucketeer.so
#LoadModule cache_module modules/mod_cache.so
#LoadModule case_filter_module modules/mod_case_filter.so
#LoadModule case_filter_in_module modules/mod_case_filter_in.so
#LoadModule cern_meta_module modules/mod_cern_meta.so
LoadModule cgi_module modules/mod_cgi.so
#LoadModule charset_lite_module modules/mod_charset_lite.so
#LoadModule dav_module modules/mod_dav.so
#LoadModule dav_fs_module modules/mod_dav_fs.so
LoadModule dav_lock_module modules/mod_dav_lock.so
#LoadModule dbd_module modules/mod_dbd.so
#LoadModule deflate_module modules/mod_deflate.so
LoadModule dir_module modules/mod_dir.so
#LoadModule disk_cache_module modules/mod_disk_cache.so
#LoadModule dumpio_module modules/mod_dumpio.so
#LoadModule echo_module modules/mod_echo.so
LoadModule env_module modules/mod_env.so
#LoadModule example_module modules/mod_example.so
#LoadModule expires_module modules/mod_expires.so
#LoadModule ext_filter_module modules/mod_ext_filter.so
#LoadModule file_cache_module modules/mod_file_cache.so
#LoadModule filter_module modules/mod_filter.so
LoadModule headers_module modules/mod_headers.so
#LoadModule ident_module modules/mod_ident.so
#LoadModule imagemap_module modules/mod_imagemap.so
LoadModule include_module modules/mod_include.so
LoadModule info_module modules/mod_info.so
LoadModule isapi_module modules/mod_isapi.so
#LoadModule ldap_module modules/mod_ldap.so
#LoadModule logio_module modules/mod_logio.so
LoadModule log_config_module modules/mod_log_config.so
#LoadModule log_forensic_module modules/mod_log_forensic.so
#LoadModule mem_cache_module modules/mod_mem_cache.so
LoadModule mime_module modules/mod_mime.so
#LoadModule mime_magic_module modules/mod_mime_magic.so
LoadModule negotiation_module modules/mod_negotiation.so
LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_ajp_module modules/mod_proxy_ajp.so
#LoadModule proxy_balancer_module modules/mod_proxy_balancer.so
#LoadModule proxy_connect_module modules/mod_proxy_connect.so
#LoadModule proxy_ftp_module modules/mod_proxy_ftp.so
#LoadModule proxy_http_module modules/mod_proxy_http.so
LoadModule rewrite_module modules/mod_rewrite.so
LoadModule setenvif_module modules/mod_setenvif.so
#LoadModule speling_module modules/mod_speling.so
LoadModule ssl_module modules/mod_ssl.so
LoadModule status_module modules/mod_status.so
#LoadModule substitute_module modules/mod_substitute.so
#LoadModule unique_id_module modules/mod_unique_id.so
#LoadModule userdir_module modules/mod_userdir.so
#LoadModule usertrack_module modules/mod_usertrack.so
#LoadModule version_module modules/mod_version.so
#LoadModule vhost_alias_module modules/mod_vhost_alias.so

<IfModule !mpm_netware_module>
<IfModule !mpm_winnt_module>
#
# If you wish httpd to run as a different user or group, you must run
# httpd as root initially and it will switch.  
#
# User/Group: The name (or #number) of the user/group to run httpd as.
# It is usually good practice to create a dedicated user and group for
# running httpd, as with most system services.
#
User daemon
Group daemon

</IfModule>
</IfModule>

# 'Main' server configuration
#
# The directives in this section set up the values used by the 'main'
# server, which responds to any requests that aren't handled by a
# <VirtualHost> definition.  These values also provide defaults for
# any <VirtualHost> containers you may define later in the file.
#
# All of these directives may appear inside <VirtualHost> containers,
# in which case these default settings will be overridden for the
# virtual host being defined.
#

#
# ServerAdmin: Your address, where problems with the server should be
# e-mailed.  This address appears on some server-generated pages, such
# as error documents.  e.g. admin@your-domain.com
#
ServerAdmin postmaster@localhost

#
# ServerName gives the name and port that the server uses to identify itself.
# This can often be determined automatically, but we recommend you specify
# it explicitly to prevent problems during startup.
#
# If your host doesn't have a registered DNS name, enter its IP address here.
#
ServerName localhost:80

#
# DocumentRoot: The directory out of which you will serve your
# documents. By default, all requests are taken from this directory, but
# symbolic links and aliases may be used to point to other locations.
#
DocumentRoot "C:/xampp/htdocs"

#
# Each directory to which Apache has access can be configured with respect
# to which services and features are allowed and/or disabled in that
# directory (and its subdirectories). 
#
# First, we configure the "default" to be a very restrictive set of 
# features.  
#
<Directory />
    Options FollowSymLinks
    AllowOverride All
    Order deny,allow
    Deny from all
</Directory>

#
# Note that from this point forward you must specifically allow
# particular features to be enabled - so if something's not working as
# you might expect, make sure that you have specifically enabled it
# below.
#

#
# This should be changed to whatever you set DocumentRoot to.
#
<Directory "C:/xampp/htdocs">
    #
    # Possible values for the Options directive are "None", "All",
    # or any combination of:
    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews
    #
    # Note that "MultiViews" must be named *explicitly* --- "Options All"
    # doesn't give it to you.
    #
    # The Options directive is both complicated and important.  Please see
    # http://httpd.apache.org/docs/2.2/mod/core.html#options
    # for more information.
    #
    Options Indexes FollowSymLinks Includes ExecCGI

    #
    # AllowOverride controls what directives may be placed in .htaccess files.
    # It can be "All", "None", or any combination of the keywords:
    #   Options FileInfo AuthConfig Limit
    #
    AllowOverride All

    #
    # Controls who can get stuff from this server.
    #
    Order allow,deny
    Allow from all

</Directory>

#
# DirectoryIndex: sets the file that Apache will serve if a directory
# is requested.
#
<IfModule dir_module>
    DirectoryIndex index.php index.pl index.cgi index.asp index.shtml index.html index.htm \
                   default.php default.pl default.cgi default.asp default.shtml default.html default.htm \
                   home.php home.pl home.cgi home.asp home.shtml home.html home.htm
</IfModule>

#
# The following lines prevent .htaccess and .htpasswd files from being 
# viewed by Web clients. 
#
<FilesMatch "^\.ht">
    Order allow,deny
    Deny from all
    Satisfy All
</FilesMatch>

#
# ErrorLog: The location of the error log file.
# If you do not specify an ErrorLog directive within a <VirtualHost>
# container, error messages relating to that virtual host will be
# logged here.  If you *do* define an error logfile for a <VirtualHost>
# container, that host's errors will be logged there and not here.
#
ErrorLog "logs/error.log"

#ScriptLog "logs/cgi.log"

#
# LogLevel: Control the number of messages logged to the error_log.
# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
#
LogLevel warn

<IfModule log_config_module>
    #
    # The following directives define some format nicknames for use with
    # a CustomLog directive (see below).
    #
    LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
    LogFormat "%h %l %u %t \"%r\" %>s %b" common

    <IfModule logio_module>
      # You need to enable mod_logio.c to use %I and %O
      LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio
    </IfModule>

    #
    # The location and format of the access logfile (Common Logfile Format).
    # If you do not define any access logfiles within a <VirtualHost>
    # container, they will be logged here.  Contrariwise, if you *do*
    # define per-<VirtualHost> access logfiles, transactions will be
    # logged therein and *not* in this file.
    #
    #CustomLog "logs/access.log" common

    #
    # If you prefer a logfile with access, agent, and referer information
    # (Combined Logfile Format) you can use the following directive.
    #
    CustomLog "logs/access.log" combined
</IfModule>

<IfModule alias_module>
    #
    # Redirect: Allows you to tell clients about documents that used to 
    # exist in your server's namespace, but do not anymore. The client 
    # will make a new request for the document at its new location.
    # Example:
    # Redirect permanent /foo http://localhost/bar

    #
    # Alias: Maps web paths into filesystem paths and is used to
    # access content that does not live under the DocumentRoot.
    # Example:
    # Alias /webpath /full/filesystem/path
    #
    # If you include a trailing / on /webpath then the server will
    # require it to be present in the URL.  You will also likely
    # need to provide a <Directory> section to allow access to
    # the filesystem path.

    #
    # ScriptAlias: This controls which directories contain server scripts. 
    # ScriptAliases are essentially the same as Aliases, except that
    # documents in the target directory are treated as applications and
    # run by the server when requested rather than as documents sent to the
    # client.  The same rules about trailing "/" apply to ScriptAlias
    # directives as to Alias.
    #
    ScriptAlias /cgi-bin/ "C:/xampp/cgi-bin/"

</IfModule>

<IfModule cgid_module>
    #
    # ScriptSock: On threaded servers, designate the path to the UNIX
    # socket used to communicate with the CGI daemon of mod_cgid.
    #
    #Scriptsock "logs/cgi.sock"
</IfModule>

#
# "C:/xampp/cgi-bin" should be changed to whatever your ScriptAliased
# CGI directory exists, if you have that configured.
#
<Directory "C:/xampp/cgi-bin">
    AllowOverride None
    Options None
    Order allow,deny
    Allow from all
</Directory>

#
# DefaultType: the default MIME type the server will use for a document
# if it cannot otherwise determine one, such as from filename extensions.
# If your server contains mostly text or HTML documents, "text/plain" is
# a good value.  If most of your content is binary, such as applications
# or images, you may want to use "application/octet-stream" instead to
# keep browsers from trying to display binary files as though they are
# text.
#
DefaultType text/plain

<IfModule mime_module>
    #
    # TypesConfig points to the file containing the list of mappings from
    # filename extension to MIME-type.
    #
    TypesConfig "conf/mime.types"

    #
    # AddType allows you to add to or override the MIME configuration
    # file specified in TypesConfig for specific file types.
    #
    #AddType application/x-gzip .tgz
    #
    # AddEncoding allows you to have certain browsers uncompress
    # information on the fly. Note: Not all browsers support this.
    #
    #AddEncoding x-compress .Z
    #AddEncoding x-gzip .gz .tgz
    #
    # If the AddEncoding directives above are commented-out, then you
    # probably should define those extensions to indicate media types:
    #
    AddType application/x-compress .Z
    AddType application/x-gzip .gz .tgz

    #
    # AddHandler allows you to map certain file extensions to "handlers":
    # actions unrelated to filetype. These can be either built into the server
    # or added with the Action directive (see below)
    #
    # To use CGI scripts outside of ScriptAliased directories:
    # (You will also need to add "ExecCGI" to the "Options" directive.)
    #
    AddHandler cgi-script .cgi .pl .asp

    # For type maps (negotiated resources):
    #AddHandler type-map var

    #
    # Filters allow you to process content before it is sent to the client.
    #
    # To parse .shtml files for server-side includes (SSI):
    # (You will also need to add "Includes" to the "Options" directive.)
    #
    AddType text/html .shtml
    AddOutputFilter INCLUDES .shtml
</IfModule>

<IfModule mime_magic_module>
    #
    # The mod_mime_magic module allows the server to use various hints from the
    # contents of the file itself to determine its type.  The MIMEMagicFile
    # directive tells the module where the hint definitions are located.
    #
    MIMEMagicFile "conf/magic"
</IfModule>

#
# Customizable error responses come in three flavors:
# 1) plain text 2) local redirects 3) external redirects
#
# Some examples:
#ErrorDocument 500 "The server made a boo boo."
#ErrorDocument 404 /missing.html
#ErrorDocument 404 "/cgi-bin/missing_handler.pl"
#ErrorDocument 402 http://localhost/subscription_info.html
#

#
# EnableMMAP and EnableSendfile: On systems that support it, 
# memory-mapping or the sendfile syscall is used to deliver
# files.  This usually improves server performance, but must
# be turned off when serving from networked-mounted 
# filesystems or if support for these functions is otherwise
# broken on your system.
#
#EnableMMAP off
#EnableSendfile off

# Supplemental configuration
#
# The configuration files in the conf/extra/ directory can be 
# included to add extra features or to modify the default configuration of 
# the server, or you may simply copy their contents here and change as 
# necessary.

# XAMPP specific settings
Include "conf/extra/httpd-xampp.conf"

# Perl settings
Include "conf/extra/httpd-perl.conf"

# Server-pool management (MPM specific)
Include "conf/extra/httpd-mpm.conf"

# Multi-language error messages
Include "conf/extra/httpd-multilang-errordoc.conf"

# Fancy directory listings
Include "conf/extra/httpd-autoindex.conf"

# Language settings
Include "conf/extra/httpd-languages.conf"

# User home directories
Include "conf/extra/httpd-userdir.conf"

# Real-time info on requests and configuration
Include "conf/extra/httpd-info.conf"

# Virtual hosts
Include "conf/extra/httpd-vhosts.conf"

# Distributed authoring and versioning (WebDAV)
# Attention! WEB_DAV is a security risk without a new userspecific configuration for a secure authentifcation 
# Include "conf/extra/httpd-dav.conf"

# Implements a proxy/gateway for Apache.
Include "conf/extra/httpd-proxy.conf"

# Various default settings
Include "conf/extra/httpd-default.conf"

# Secure (SSL/TLS) connections
Include "conf/extra/httpd-ssl.conf"
#
# Note: The following must must be present to support
#       starting without SSL on platforms with no /dev/random equivalent
#       but a statically compiled-in mod_ssl.
#
<IfModule ssl_module>
    SSLRandomSeed startup builtin
    SSLRandomSeed connect builtin
    SSLSessionCache "shmcb:logs/ssl.scache(512000)"
    SSLSessionCacheTimeout 300
</IfModule>

# AJP13 Proxy
<IfModule mod_proxy.c>
<IfModule mod_proxy_ajp.c>
Include "conf/extra/httpd-ajp.conf"
</IfModule>
</IfModule> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-11-20T11:28:54.730

这是一篇关于 Firefox 的有用功能的好文章，一旦您解决了问题并仍然被重定向，它就会变得烦人：归档在“烦人的事情我一直忘记如何解决......”下：

要禁用此“功能”，请执行以下操作：

```
Type about:config in the browser bar
Type browser.fixup.alternate.enabled in the search box that appears
Right click on the browser.fixup.alternate.enabled that appears in the filtered list below and choose Toggle to set the value to false 
```

[http://cdivilly.wordpress.com/2013/08/15/disable-firefox-redirecting-to-localhost-com/](https://cdivilly.wordpress.com/2013/08/15/disable-firefox-redirecting-to-localhost-com/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-26T08:19:22.390

从您的评论来看，您似乎看错了地方。看看[这个问题](https://stackoverflow.com/questions/2822683/drupal-localhost-redirecting-to-www-localhost-com?rq=1)。

可能安装在根目录（您希望在键入时看到的那个`http://localhost/index.php`）中的应用程序配置不正确。找到 index.php 文件在根目录下的应用程序，然后检查它的配置文件，看看你是否可以找到`www.localhost.com`写在某个地方。一些应用程序将它们的设置存储在数据库中，因此这是另一个可以查看的地方。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-12-04T14:07:12.003

我有同样的问题，我所有的浏览器都重定向或`http://localhost/mysite`手动安装的 php、apache 和 mysql 系统。用 localhost 替换 127.0.0.1 运行良好，这意味着我安装的 WAMP 运行良好。我试图按照萨尔曼的方式解决它，但没有运气。我没有查看 C:\Windows\System32\drivers\etc\hosts 文件，我知道即使是主机文件也没有 127.0.0.1 localhost 条目，这并不重要，因为它默认内置在系统中。`localhost/mysite``www.localhost.com/mysite`

通过停用导致这种异常浏览器行为的我的 avast 防病毒防护罩解决了问题。如果您遇到这样的问题，您可以先尝试停用您的防病毒防护罩，然后再跳入任何深入的技术解决方案。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-12-26T08:25:48.703

你有机会使用 chrome 吗？因为 chrome 有时对这种东西不好，尝试不同的浏览器，如果那二人组没有帮助..

然后你必须`.htaccess`在你的目录中的某个地方有一个文件`www`。

尝试搜索它。这是一个不寻常的文件，它没有名称只是一个扩展名。

尝试搜索`%.htaccess`

如果该二人组没有帮助，请以管理员身份`C:\Windows\System32\Drivers\etc`打开文件`hosts`，以便您可以对其进行编辑并查找是否有程序在其中插入了某些内容。

**还**

只记得我之前遇到的一个情况。一些 .php 文件中可以有重定向。如果他们进行重定向，请检查您的 index.php 或 main.php 或 index.phtml 或其他扩展，因为可能有人编写了代码来重定向脚本。

看这个例子来理解它： [WWW to non-WWW Redirect with PHP](https://stackoverflow.com/questions/2079457/www-to-non-www-redirect-with-php)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-09-03T09:17:51.637

我也面临这个问题。但是我的问题现在已经解决了。我只是禁用了 TeamViewer。因此，该问题背后的原因可能是在同一端口上运行的另一个应用程序。谢谢@Jibran Kassim。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2015-06-20T19:56:31.570

我知道这是一个很老的问题，但只是针对突然出现的同一个问题。这是由于 PHP 代码中的问题，而不是由于 Apache 配置。

我检查了文件`/var/log/apache2/error.log`（在 Linux 下，我不知道 Windows/Mac 的路径），这给了我一个指示：

> [2015 年 6 月 20 日星期六 21:49:06.444684] [:error] [pid 24149] [client 127.0.0.1:59150] PHP 致命错误：无法在 /docs/Cedric/Programmation/PHP 的写入上下文中使用方法返回值/slnslv/src/SLN/RegisterBundle/Controller/MemberController.php 在第 80 行，referer：[http://localhost/slnslv/web/](http://localhost/slnslv/web/)
> 
> [Sat Jun 20 21:49:06.674815 2015] [core:notice] [pid 1904] AH00052: child pid 1973 exit signal Segmentation fault (11)
> 
> [Sat Jun 20 21:49:06.674885 2015] [core:notice] [pid 1904] AH00052: child pid 24149 exit signal Segmentation fault (11)

用这个指示修复 PHP 中的错误神奇地解决了这个问题。

但是不知道一个简单的 PHP 错误如何导致分段错误，这会使浏览器 (Firefox) 猜测正确的域名。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-11-29T11:50:05.210

为我解决了这个问题：首先我了解系统中的其他浏览器可以正常使用[http://localhost](http://localhost) 然后我清除了我的主浏览器缓存它有效

............. 当然 Samlam 的重播是让提问者满意的答案 但是我在这里回答这个问题是因为问题的标题。大多数人和我有同样的问题，他们被提到这个页面。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-11-06T10:30:33.723

我遇到了同样的问题，请记住在进行更改后清除浏览器缓存。

* * *

## 回答 #9

> 赞同：-3
> 
> 时间：2012-12-26T10:55:12.333

你看不到 localhost by`www.localhost.com`你可以看到 by`http://localhost`或`127.0.0.1`

# java - 将 Icon JLabel 图标添加到 JTabbed 窗格侧

> ID：14036919
> 
> 赞同：-1
> 
> 时间：2012-12-26T06:45:16.417
> 
> 标签：java, swing, layout-manager, jtabbedpane, imageicon

我正在尝试通过 JLabel 将一个图标插入到我的 Jtabbed 窗格栏的左侧..但问题是我在窗口左侧插入的内容使它成为一个新的 tabe 窗格..如何插入显示在图像中的图标。 .?![在此处输入图像描述](../Images/151a0088688ecabc413dd040fe654eca.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T08:09:51.627

*   `JSplitPane`与 one `JPanel`（左侧）和`CardLayout`with `JTabbedPanes`（for `CENTER area`）一起使用

*   放`JToggleButtons`（`Icons` 左`JPanel`）

*   `JTabbedPanes`使用 `CardLayout`( `CENTER JFrames area`)放置

*   使用正确`Borders`的更好的输出到屏幕

# velocity - 检查给定对象是否为列表？

> ID：14036921
> 
> 赞同：3
> 
> 时间：2012-12-26T06:45:38.210
> 
> 标签：velocity

我们如何检查给定对象是列表还是其他类型的速度。在那个列表中，我有另一个列表，我需要再次迭代。我在父列表中还有另一个数据，我想在迭代父列表时打印它。但问题是子列表对象也会打印实际数据。所以我想通过检查它是否列表来打印数据。任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:59:01.947

在您对在模板中使用过多逻辑进行任何评论之前，请尝试这种基于反射的方法：

[速度（测试实例）](https://stackoverflow.com/questions/3087083/velocity-test-instanceof)

# include - 用mpdf显示pdf时php未定义变量错误

> ID：14036928
> 
> 赞同：2
> 
> 时间：2012-12-26T06:46:27.070
> 
> 标签：include, mpdf

我用这个 pdf 的东西已经陷入危机超过 2 天了。它在结果操作页面中没有显示任何错误，仍然没有显示在 pdf 文档中。任何人都可以解决这个问题，也许是一个简单的我猜不确定。代码如下。无论如何，提前谢谢大家。

```
 <?php
      if(isset($_POST['email'])){
       $email = $_POST['email'];
       $fileno = $_POST['fileno'];
       $header = $_POST['header'];
       $day = $_POST['day'];
       $month = $_POST['month'];
       $year = $_POST['year'];
       $stime = $_POST['stime'];
       $venue = $_POST['venue'];
       $meettype = $_POST['meettype'];
       $Itchair = $_POST['Itchair'];
       $mem_pres = $_POST['mem_pres'];
       $invite = $_POST['invite'];

       $head = $_POST['head'];
       $slno = $_POST['slno'];
       $subject = $_POST['subject'];
       $decision = $_POST['decision'];
       $incharge = $_POST['incharge'];
       $date = $_POST['date'];
       $remarks = $_POST['remarks']; 
  }

        include("MPDF54/mpdf.php");

        $mpdf=new mPDF('c','A4','','' , 0 , 0 , 0 , 0 , 0 , 0);

        $mpdf->SetDisplayMode('fullpage');

        $mpdf->list_indent_first_level = 0;  

        $mpdf->WriteHTML(file_get_contents("http://localhost/Bescom/besc_latest.php?email=$email&fileno=$fileno&header=$header&day=$day&month=$month&year=$year&stime=$stime&venue=$venue&meettype=$meettype&Itchair=$Itchair&mem_pres=$mem_pres&invite=$invite&head=$head&slno=$slno&subject=$subject&decision=$decision&date=$date&incharge=$incharge&remarks=$remarks"));

        $mpdf->Output();

     ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T03:52:14.947

在 mpdf.php 顶部添加以下内容

```
error_reporting(0); 
```

这将解决问题。

# asp.net-mvc-4 - 没有为此对象定义无参数构造函数。在剑道网格中

> ID：14036932
> 
> 赞同：6
> 
> 时间：2012-12-26T06:46:39.573
> 
> 标签：asp.net-mvc-4, kendo-ui

我在我的一个页面上使用 Kendo UI 网格。

我想使用会员对象在网格中显示所有用户。

```
@model IEnumerable<MembershipUser>

@(Html.Kendo().Grid(Model)
.Name("Gridusers")
.Columns(columns =>
{
    columns.Bound(o => o.UserName).Width(100);

})
.Sortable()
.Filterable(filtering => filtering.Enabled(true))) 
```

当我从控制器获取用户列表后进入此页面时，出现错误

> “没有为此对象定义无参数构造函数。”

当我使用旧的 Telerik MVC 网格但不使用 Kendo UI 网格时，它工作正常。

谁能帮我？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-26T09:02:23.430

Kendo UI 网格需要绑定模型具有无参数构造函数，因为它实例化了它的一个实例。在您的情况下，您可以向该类添加一个空构造函数`MembershipUser`：

```
public class MembershipUser
{
     public MembershipUser()
     {
     }

     /* other methods */
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-14T08:24:25.857

还应该清楚的是 Telerik 将构造绑定类以及类成员的实例。例如，如果您的网格绑定到 Dogs ...

```
public class Dog {
   public DogKind Kind { get; set; }
   public Dog() {
   }
} 
```

那么你的“DogKind”类也必须有一个默认的构造函数。

# sql - Postgres查询以按日期获取数据

> ID：14036935
> 
> 赞同：0
> 
> 时间：2012-12-26T06:47:02.890
> 
> 标签：sql, postgresql, datetime, aggregate-functions

我正在使用 PostgreSQL。
我有一个如下表：

```
ID   product_id   Date         Qty
-----------------------------------
1    12           2008-06-02   50
2     3           2008-07-12    5
3    12           2009-02-10   25
4    10           2012-11-01   22
5     2           2011-03-25    7 
```

现在我想要如下结果（即过去 4 年 qty 字段的产品明智总和）：

```
product_id
QTY(current_year)  
QTY( current year + last_year)  
QTY_last2_years 
QTY > 2 years 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:58:45.820

```
SELECT product_id
      ,sum(CASE mydate >=  x.t THEN qty END) AS qty_current_year
      ,sum(CASE mydate >= (x.t - interval '1 y') THEN qty END) AS qty_since_last_year
      ,sum(CASE mydate >= (x.t - interval '2 y')
            AND mydate <   x.t THEN qty END) AS qty_last_2_year
      ,sum(CASE mydate <  (x.t - interval '2 y') THEN qty END) AS qty_older
FROM   tbl
CROSS  JOIN (SELECT date_trunc('year', now()) AS t) x -- calculate once
GROUP  BY 1; 
```

要重新使用计算出的当年年初，我`CROSS JOIN`将其作为子查询`x`。

# php - 需要帮助将 rollno 和 studentname 添加到考勤表中

> ID：14036939
> 
> 赞同：0
> 
> 时间：2012-12-26T06:47:07.587
> 
> 标签：php, mysql, system

```
<form name="reg" id="reg" method="post" action="<?php echo $editFormAction; ?>">
              <table width="100%" border="0" align="center" cellpadding="4" cellspacing="4" style="text-align:left;">
                <tbody>
                  <tr>
                    <th width="117" height="39" bgcolor="#FFE1CC">Student RollNo</th>
                    <th bgcolor="#FFE1CC">Student Name</th>
                    <th width="100" bgcolor="#ECFAFF">Old Status</th>
                    <th width="1" bgcolor="#FFE1CC">Present</th>
                    <th width="1" bgcolor="#FFE1CC">Absent</th>
                    <th width="1" bgcolor="#FFE1CC">Leave</th>
                    <th width="1" bgcolor="#FFE1CC">Holiday</th>
                  </tr>
                  <?php
                             while ($students = mysql_fetch_array($result)) {
                          ?>
                  <tr>
                    <td bgcolor="#EAFAFF" class="table1"><?php $id = $students['memberid']; ?><?php echo $_POST['department']; ?>-<?php echo $students['rollno']; ?></td>
                    <td bgcolor="#EAFAFF" class="table1"><?php echo $students['fullname']; ?></td>
                    <td align="center" bgcolor="#ECFAFF" class="table1"><?php echo $students['current']; ?></td>
                    <td width="1" align="center" bgcolor="#FFE2D5" id="present"><input type="radio" name="present[<?php echo $students['memberid']; ?>]" value="Present" /></td>
                    <td width="1" align="center" bgcolor="#FFE2D5" id="absent"><input type="radio" name="present[<?php echo $students['memberid']; ?>]" value="Absent" /></td>
                    <td width="1" align="center" bgcolor="#FFE2D5" id="leave"><input type="radio" name="present[<?php echo $students['memberid']; ?>]" value="Leave" /></td>
                    <td width="1" align="center" bgcolor="#FFE2D5" id="holiday"><input type="radio" name="present[<?php echo $students['memberid']; ?>]" value="Holiday" /></td>
                  </tr>
                  <input name="fullname" type="hidden" value="<?php echo $students['fullname']; ?>">
                  <input name="rollno" type="hidden" value="<?php echo $students['rollno']; ?>">
                  <input name="percent" type="hidden" value="<?php echo $students['percent']; ?>">
                  <input name="department" type="hidden" value="<?php echo $_REQUEST['department']; ?>">
                  <input name="semester" type="hidden" value="<?php echo $_REQUEST['semester']; ?>">
                  <input name="session" type="hidden" value="<?php echo $_REQUEST['sessionfrom']; ?>-<?php echo $_REQUEST['sessionto']; ?>">
                  <input name="subject" type="hidden" value="<?php echo $_REQUEST['subject']; ?>">
                  <input name="date" type="hidden" value="<?php echo date("m-d-Y"); ?>">
                  <?php
                    }
                  ?>
                  <tr>
                    <td colspan="6" style="vertical-align:middle; text-align: center;"><br />
                      <input id="Submit" type="submit" name="Submit" value="Submit" style="text-align: center; background-color: #000000; color: #ffffff; border: 1px #000000 solid;" /></td>
                    <td>&nbsp;</td>
                  </tr>
                </tbody>
              </table>
              <input type="hidden" name="MM_insert" value="reg" />
            </form>
            <?php
                    if (($_POST["MM_insert"] == "reg")){
                       foreach($_POST['present'] as $student_id => $value) {

                          $sql = "UPDATE members SET current = '".$value."' WHERE memberid = '".$student_id."' ";
                          $result = mysql_query($sql);

                          $sql1 = "INSERT INTO student_attendance (department, semester, session, subject, current, percent, date) VALUES ('".$_REQUEST['department']."','".$_REQUEST['semester']."','".$_REQUEST['session']."','".$_REQUEST['subject']."','$value','".$_REQUEST['percent']."','".$_REQUEST['date']."')";
                          $result = mysql_query($sql1);
                       }
                       header("Location: attendance.php");
                    }

?> 
```

你好上面是我的代码，一切似乎都工作正常。有姓名的学生列表，rollno 也出现在成员表中，提交时，出席学生的状态到缺席或出席工作正常，它进入到出席记录个人，示例提交 20 名学生的记录，20 行添加不同的当前状态，但是学生姓名和 rollno 将变为 Null.... 我目前删除了 rollno 和 studentname，因为只有第一个学生姓名重复了 20 次，而且 rollno 也是如此。

```
 <?php
                if (($_POST["MM_insert"] == "reg")){
                   foreach($_POST['present'] as $student_id => $value) {

                      $sql = "UPDATE members SET current = '".$value."' WHERE memberid = '".$student_id."' ";
                      $result = mysql_query($sql);

                      $sql1 = "INSERT INTO student_attendance (department, semester, session, subject, current, percent, date) VALUES ('".$_REQUEST['department']."','".$_REQUEST['semester']."','".$_REQUEST['session']."','".$_REQUEST['subject']."','$value','".$_REQUEST['percent']."','".$_REQUEST['date']."')";
                      $result = mysql_query($sql1);
                   }
                   header("Location: attendance.php");
                }

?> 
```

请帮我纠正它，我不能使用具有更多值的 foreach 函数你能告诉如何使用 while 或 for 下面的代码，所以所有学生姓名，包括状态在内的卷都提交到出席视图表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:59:10.463

每当您需要为特定表单字段提供多个值时，您需要将表单字段名称的日期类型设置为数组因此您需要在输入隐藏字段中将名称设置为**fullname[]**而不是**fullname** 这将存储您的所有表单中的值，它不会被覆盖。

如果你想存储那个特定学生的全名，那么你可以像这样设置你的隐藏字段 -

```
<input name="fullname[<?php echo $students['memberid']; ?>]" type="hidden" value="<?php echo $students['fullname']; ?>"> 
```

这也应该对其他隐藏字段进行。

# php - 如何将参数用作对象属性？

> ID：14036940
> 
> 赞同：0
> 
> 时间：2012-12-26T06:47:10.603
> 
> 标签：php, javascript

在 PHP 中，我们这样做：

```
function($param)
{
     $this->{$param};
} 
```

我们如何在 JavaScript 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:55:39.610

我不了解 PHP，但您可以使用方括号表示法来访问属性。

```
function(param)
{
     this[param];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T06:54:49.310

在javascript中你可以这样写

```
function House(rooms,price,garage) {
    this.rooms=rooms;
    this.price=price;
    this.garage=garage;
} 
```

# python - 如何找到兔子？

> ID：14036944
> 
> 赞同：3
> 
> 时间：2012-12-26T06:47:26.860
> 
> 标签：python, opencv, python-imaging-library, object-detection

我正试图在游戏 Winterbells 中跟随兔子。这是一些截图![兔子](../Images/94e111495adfa6cc79b63405b4c02eda.png)![兔子](../Images/c142caf0853eacbc709c52ed271352f5.png)![兔子](../Images/2d983036a8087ec81a639c4b5d965bd1.png)

本来我以为我可以追随只有兔子才有的颜色，但似乎所有的物体（即铃铛和鸽子）都有相同的颜色。我可以通过搜索白色来检测所有对象（查看结果）![结果](../Images/9a2a32aec15e50776f8ab7b282505596.png)

但我不知道如何找到兔子。我必须使用opencv吗？我使用的唯一模块是 pil 来检测像素的颜色。这似乎是一项容易的任务，但我只是不知道我该怎么做。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-26T07:03:27.617

最简单的方法是按区域对形状进行分类。这是 SimpleCV 的一种解决方案：

```
>>> from SimpleCV import *
>>> image = Image('image.png')
>>> binarized = image.binarize(220).invert()
>>> binarized.show() 
```

![在此处输入图像描述](../Images/9c460fe001a17bb74db5f6d2ab4a7070.png)

现在，这更容易使用。您可以使用简单的斑点检测来过滤掉铃铛和鸟：

```
>>> blobs = binarized.findBlobs()
>>> for blob in blobs:
...    blob.draw()
...    print blob
...    binarized.show()
...    raw_input() 
```

按下`Enter`50 次并查看斑点的面积后，您会注意到铃铛的面积在 630 到 660 之间。鸟的面积为 540，兔子的面积约为 750。

现在，只需过滤掉您不想要的 blob：

```
>>> rabbit = next(b for b in blobs if abs(750 - b.area()) < 60)
>>> rabbit.draw()
>>> binarized.show()
>>> rabbit
    SimpleCV.Features.Blob.Blob object at (381, 445) with area 754 
```

![在此处输入图像描述](../Images/fbf58c9c71641377bcca068c8b4d77c9.png)

你的兔子来了

所以总结一下，你的脚本看起来像：

```
from SimpleCV import *

image = Image('image.png')
binarized = image.binarize(220).invert()
blobs = binarized.findBlobs()
rabbit = next(b for b in blobs if abs(750 - b.area()) < 60)

print rabbit.coordinates() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:59:36.957

我认为，您可以尝试使用 svm 对兔子和铃铛进行分类。首先，您可以检测所有对象，然后使用 svm 对它们进行分类。

# android - 在Android中的EditText上强制全屏

> ID：14036945
> 
> 赞同：11
> 
> 时间：2012-12-26T06:47:39.533
> 
> 标签：android, android-edittext, fullscreen, mode

我目前正在开发一个使用三星 Galaxy Tab 2 作为我的设备的应用程序。

我在 XML 中的代码是：

```
<EditText
    android:id="@+id/analysis_text"
    style="@style/icon_text"
    android:imeOptions="actionDone"
    android:inputType="textMultiLine"
    android:onClick="onBtnClicked"
/> 
```

执行此代码时，仅在某些情况下才会自动触发全屏数据输入模式（提取模式）。

我希望我的用户在编辑此控件中的文本时获得完整的数据输入屏幕，无论控件的屏幕或位置如何。

这个问题的另一种说法：无论内容是什么，如何在我的活动中强制编辑文本框的全屏数据输入模式？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-15T08:57:37.240

我解决了这个问题，并没有真正解决，但找到了一个有效的解决方法。

解决方法是我设计了一个文本编辑器（看起来类似于全屏 UI），并在单击每个这些`EditBox`es 时触发新的 UI 活动（`startActivityForResult()`这样一旦完成，控制权就会交还给调用活动）编辑完成后，文本被传输回主屏幕。

我还确保那些转移控制权的框不会获得焦点，以便它们立即将控制权转移到新 UI。

通过这种方式，我已经能够实现一个取消按钮，它现在实际上允许用户返回而不保存他不小心做出的更改。

我对新想法持开放态度，但这对我有用。

中的代码`Activity`：

```
public void onBtnClicked(View v) {
    EditText current_text_box = (EditText) v;

    Intent intent = new Intent(ObservationActivity.this,
            TexteditorActivity.class);
    intent.putExtra("start_text", current_text_box.getText().toString());
    intent.putExtra("start_position", current_text_box.getSelectionStart());
    startActivityForResult(intent, v.getId());
} 
```

XML 中的代码：

```
<EditText
    android:id="@+id/observation_text"
    style="@style/icon_text"
    android:focusable="false"
    android:imeOptions="flagNoExtractUi"
    android:inputType="textMultiLine"
    android:onClick="onBtnClicked" >
</EditText> 
```

要创建我使用代码的全屏 UI，您可以使用任何类似 ( [http://android-richtexteditor.googlecode.com/](http://android-richtexteditor.googlecode.com/) )

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-08T06:17:25.447

你可以试试这个

```
yourEditText.setOnFocusChangeListener(new View.OnFocusChangeListener() {
        @Override
        public void onFocusChange(View v, boolean hasFocus) {
            if(hasFocus){
                yourEditText.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
            }
        }
    }); 
```

导入父布局的 LayoutParams。你的回答也会很好用。

# sql-server-2008 - SQL join with count group by

> ID：14036948
> 
> 赞同：-1
> 
> 时间：2012-12-26T06:47:56.173
> 
> 标签：sql-server-2008

我有两张桌子

一个是

> 接收短信（比赛日期、比赛时间、关键字、短信、手机号）

另一个是

> QAoptios（关键字、问题、答案选项、比赛日期、比赛时间）

我需要找到与same和same`SmsMessage`具有相同值的计数。而且我还需要过滤 Receivesms.Matchdate='2012-12-25 00:00:00.000'`Answeroption``Matchdate``Matchtime``Keyword`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T06:56:50.323

```
SELECT 
  q.AnswerOption,
  COUNT(SmsMessage) TheCount
FROM Receivesms r
INNER JOIN QAoptions q  ON r.Matchdate = q.Matchdate
                       AND r.Matchtime = q.Matchtime
                       AND r.Keyword = q.keyword
GROUP BY q.AnswerOption; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:56:05.547

**试试这个**

```
SELECT count(*) from Receivesms as a  inner join QAoptios as b on a.keyword=b.keyword
and a.matchtime=b.matchtime and a.matchdate=b.matchdate and a.value=b.answeroption 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:58:26.577

使用可以使用：

```
 select count(*) from Recievesms r,QAoptios q 
    where
    r.Matchdate = q.Matchdate 
    and
    r.Matchtime = q.Matchtime
    and
    r. Keyword =q.Keyword
    and
    r.SmsMessage = q.Answeroption; 
```

或者

```
 select count(*) from from Recievesms as r
    inner join
    QAoptios as q 
    on  
    r.SmsMessage =   q.Answeroption; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-26T07:09:39.903

```
SELECT COUNT(R.SmsMessage)
FROM Receivesms R
INNER JOIN QAoptios Q ON 
R.Keyword=Q.Keyword AND
R.Matchdate=Q.Matchdate AND
R.Matchtime=Q.Matchtime AND
R.SmsMessage=Q.AnswerOption 
```

或者，如果要显示 AnswerQuestion，可以添加 GROUP BY 子句，如下所示：

```
SELECT Q.AnswerOption, COUNT(R.SmsMessage) as TheCount
FROM Receivesms R
INNER JOIN QAoptios Q ON 
R.Keyword=Q.Keyword AND
R.Matchdate=Q.Matchdate AND
R.Matchtime=Q.Matchtime AND
R.SmsMessage=Q.AnswerOption
GROUP BY Q.AnswerOption 
```

# design-patterns - 空对象设计模式的行为问题

> ID：14036949
> 
> 赞同：1
> 
> 时间：2012-12-26T06:47:57.373
> 
> 标签：design-patterns, null-object-pattern

我想分享我的一些想法并提出一些问题空对象设计模式应该实现具有中性行为的类。所以，如果我需要实现接口：

```
public interface IProduct 
{
    double Cost();
    string Name();
} 
```

可能，我将使用下一个实现：

```
public class NullProduct : IProduct
{
    public double Cost()
    {
        return 0.0;
    }

    public string Name()
    {
        return String.Empty;
    }
} 
```

美好的。

但是，当我需要实现下一个接口时，我应该使用哪种策略：

```
public interface IProduct 
{
    //other methods...
    bool IsTasty();
} 
```

IsTasty - 没有“中性”行为。我应该如何在 NullProduct 类中实现它？返回真或假。没有那么清楚。

更糟糕的是，如果接口有一些属性：

```
public interface IProduct 
{
    //other methods...
    int Price{get;set;}
} 
```

和实施：

```
public class NullProduct : IProduct 
{
    //other methods...
    int Price
    {
        get {return 0;}
        set {/*nothing*/}
    }
} 
```

为什么？因为，如果某些用户会得到对象，就像这里：

```
 IProduct prod = GetSomeObject(); //GetSomeObject returns NullProduct 
```

和用户尝试做：

```
 prod.Price = 8;
    Console.WriteLine(prod.Price); 
```

用户会得到奇怪的结果。用户记得，他设定了 8 美元的价格，但现在价格为 0。通货膨胀？

在 UnitTest 中同样的问题。

现在，我不想通过询问对象是否为空对象来违反 OCP。

你如何解决问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T06:53:52.110

如果您没有“中性”返回结果，您应该“发明”一个，并在 null 对象中使用它：

```
enum Tasty {
    Yes, No, Unknown
}

public interface IProduct {
    Tasty IsTasty();
} 
```

写入空对象几乎不可避免地会出现编程错误，因此 的实现`Price`应该是这样的：

```
public class NullProduct : IProduct {
    //other methods...
    int Price {
        get {return 0;}
        set { throw new InvalidOperationException(); }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T17:04:20.200

可以将 NullObject 设计模式“完全组件化”为**通用的可重用实现**，因此您无需担心在每种情况下处理所有可能的细节（只要您需要 Nullify 是一个接口类型）。请注意，它还将处理您的接口函数返回另一个用户定义类型的情况。在这种情况下，它将创建另一个 NullObject 实例并返回它，因此您可以获得一致的深层 NullObject 实例。

这是一个通用的可重用实现[NullObject.java](http://perfectjpattern.svn.sourceforge.net/viewvc/perfectjpattern/trunk/perfectjpattern-core/src/main/java/org/perfectjpattern/core/structural/nullobject/NullObject.java?revision=1124&content-type=text/plain)，在这里您可以看到如何使用它[TestNullObject.java](http://perfectjpattern.svn.sourceforge.net/viewvc/perfectjpattern/trunk/perfectjpattern-core/src/test/java/org/perfectjpattern/core/structural/nullobject/TestNullObject.java?revision=1124&content-type=text/plain)

# java - 通过预定任务进行批量操作的正确方法？

> ID：14036956
> 
> 赞同：1
> 
> 时间：2012-12-26T06:48:37.580
> 
> 标签：java, spring, hibernate, scheduled-tasks, bulk

在我的应用程序中，我有一组计划任务，它们处理所有用户的数据并执行各种任务，如收入、税收计算、为所有用户生成报表。由于这些进程需要为每个用户运行，因此由于用户数量众多，它们需要花费大量时间（许多小时）。一个用户的数据处理完全独立于另一个用户，因此它们可以并行运行。我在这里有什么选择？进行此类大型/批量操作的最佳实践是什么。我们正在使用带有 spring、jpa 和 hibernate 的 J2SE 平台。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T09:18:09.747

你应该通过批处理做同样的事情。

既然您提到您正在使用 Spring，您可以考虑使用[Spring Batch](http://static.springsource.org/spring-batch/)。

> Spring Batch 提供了在处理大量记录时必不可少的可重用功能，包括日志记录/跟踪、事务管理、作业处理统计、作业重新启动、跳过和资源管理。它还提供更先进的技术服务和功能，通过优化和分区技术实现极高容量和高性能的批处理作业。

查看有关如何实施的[参考手册。](http://static.springsource.org/spring-batch/reference/html/index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T09:20:47.057

查看预定任​​务的 spring 文档：http: [//static.springsource.org/spring/docs/3.0.x/reference/scheduling.html](http://static.springsource.org/spring/docs/3.0.x/reference/scheduling.html)

我发现执行计划任务最简单的方法是使用 @Scheduled 注解，并且您可以使用 cron 样式计时。对于您的每个用户，您可以在不同的线程中为每个用户执行任务：

```
@Scheduled(cron="*/5 * * * * MON-FRI")
public void doSomething() {
    List<User> users = getUsers();
    for(User user: users) {
        MyTask task = new MyTask(user);
        Thread t = new Thread(task);
        t.start();
    }
} 
```

确保 MyTask 是 Runnable。

如果你有大量的数据和用户，你可以看看 Spring Batch：[http ://static.springsource.org/spring-batch/](http://static.springsource.org/spring-batch/)

# eclipse - 关于eclipse库

> ID：14036959
> 
> 赞同：1
> 
> 时间：2012-12-26T06:48:46.877
> 
> 标签：eclipse, eclipse-plugin, ide, java

对 Eclipse 库有疑问。我有一个 eclipse java 项目，我在其中创建了一个库，其中包含项目所需的大约 50 个奇怪的 jar 文件。现在我创建了一个需要库的新项目。一种非常麻烦的方法是检查该库中的所有 jar 文件，它们在我当前的项目中创建一个新库，我将在其中手动添加所有 50 个奇怪的 jar。有没有一种方法可以将库从旧项目导出到当前项目，以便我可以一次性拥有所有必需的 jar。

问候，开发

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:56:49.510

是的，您可以导出库。

参考屏幕截图 ![在此处输入图像描述](../Images/f61b75e3fb4cf608a159dc6afba91c5b.png)

只需选择要导出的 Lib，然后选择导出按钮

输入要存储导出文件的路径

![在此处输入图像描述](../Images/6b7b2fc1e1811e84082afdd693f80893.png)

现在要导入，去同一个地方并选择导入选项

选择导入文件，点击确定

![在此处输入图像描述](../Images/bc59adceb145b12f0dd86aa614359009.png)

# netbeans - Netbeans 中带有关闭按钮的 JTabbedPane

> ID：14036962
> 
> 赞同：2
> 
> 时间：2012-12-26T06:48:57.367
> 
> 标签：netbeans, jtabbedpane

我在 netbeans 7 中使用 JTabbedPane，所以我需要在每个选项卡上添加关闭按钮。如何在 netbeans 的选项卡中添加关闭按钮。我只想制作像 netbeans 一样的标签。

提前致谢。

# jquery - html头部和正文中的nowrap条件

> ID：14036969
> 
> 赞同：11
> 
> 时间：2012-12-26T06:49:15.177
> 
> 标签：jquery, html, css

在 jsfiddle 中，他们可以选择设置`no wrap(head)`, `no wrap(body)`,`OnDomReady`和`OnLoad`左侧选项。在我的程序中设置`no wrap(head)`条件。它的工作正常。但是我如何更改为 HTML 文件。我需要在我的 HTML 文件中设置的相同条件

演示：[JSFIDDLE](http://jsfiddle.net/3KxFZ/2/)

在这里我设置`no-wrap(head)`，我如何设置 HTML 文件的条件与`no-wrap(head)`？。

这是我的完整代码

```
<html>
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
 <script type="text/javascript" src="a.js"></script>
<script type="text/javascript">
google.load('visualization', '1', {packages: ['corechart']});
google.setOnLoadCallback(drawVisualization);

function drawVisualization() {
var data = google.visualization.arrayToDataTable([
    ['Country', 'Popularity'],
    ['Germany', 200],
    ['United States', 300],
    ['Brazil', 400],
    ['Canada', 500],
    ['France', 600],
    ['Russia', 700]
]);

// this chart is drawn in a visible div and then immediately hidden
var chart1 = new google.visualization.PieChart(document.getElementById('chart_1'));

google.visualization.events.addListener(chart1, 'ready', function () {
    // hide the div when done drawing
    document.getElementById('chart_1').style.display = 'none';

    // create an event listener for the button that shows the chart
    document.getElementById('clickMe1').onclick = function () {
        document.getElementById('chart_1').style.display = 'block';
    }
});

// show the div before you draw
document.getElementById('chart_1').style.display = 'block';

chart1.draw(data, {
    height: 300,
    width: 400,
    title: 'Chart 1'
});

// this chart only gets drawn when the button is clicked
var chart2 = new google.visualization.PieChart(document.getElementById('chart_2'));

// create an event listener for the button that shows the chart
document.getElementById('clickMe2').onclick = function () {
    document.getElementById('chart_2').style.display = 'block';
    chart2.draw(data, {
        height: 300,
        width: 400,
        title: 'Chart 2'
    });               
}
}
</script>
<style type="text/css">
#visualization path {
cursor: pointer
}
</style>

  </head>
  <body>
<input type="button" value="Show chart 1" id="clickMe1" />
<input type="button" value="Show chart 2" id="clickMe2" />
<div id="chart_1" style="display: none"></div>
<div id="chart_2" style="display: none"></div>
  </body>
</html> 
```

感谢您的建议。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-26T06:54:00.487

这只是意味着将您的 JavaScript 放在`<head>`标签之间

从文档页面

![JSFiddle 文档](../Images/626d3e702b3b679288228a035141a686.png)

[参考](http://doc.jsfiddle.net/basic/introduction.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-26T06:53:43.507

它只是意味着脚本被添加`<head>`到`<html>`

来自[**JSFiddle 文档**](http://doc.jsfiddle.net/basic/introduction.html#fiddle-settings-sidebar)，

> no wrap(head)：不​​包装 JavaScript 代码，将其放在`<head>` section

**[这](http://jsbin.com/azumag/3/edit)**是您可能正在使用的演示（所有 HTML 在一个地方）。

# xml - 省略 DOCTYPE 声明

> ID：14036970
> 
> 赞同：1
> 
> 时间：2012-12-26T06:49:22.663
> 
> 标签：xml, xslt, xslt-2.0, saxon

我正在使用 XSLT 2.0 将 XML 文件转换为 XHTML。我正在使用 saxon9 处理器进行转换。转换时，我收到一个错误，例如

> java.io.FileNotFoundException: c:\test\book.dtd（系统找不到指定的文件）。

它正在寻找 DTD，因为 XML 具有带有 PUBLIC id 的 DOCTYPE 声明。

我正在寻找解决此错误的解决方案，但我无法做到这一点。我尝试使用resolver.jar。

我已经下载了resolver.jar并放置在saxon.jar所在的同一位置，并尝试了以下命令行。

```
java -cp c:/saxon9/saxon9.jar;c:saxon9/resolver.jar; net.sf.saxon.Transform -x:org.apache.xml.resolver.tools.ResolvingXMLReader -t -s:c:/test/sample2.xml -xsl:c:/test/body.xsl >c:/test/out /output.html 
```

我收到相同的错误消息。

我推荐了几个网站来使用 resolver.jar，但我不清楚说明并且没有获得所需的输出。

我找到了[http://sourceforge.net/apps/mediawiki/saxon/index.php?title=XML_Catalogs](http://sourceforge.net/apps/mediawiki/saxon/index.php?title=XML_Catalogs)。这是使用 resolver.jar 省略 DOCTYPE 声明的正确解决方案吗？如果这么好心地帮助如何使用它，或者有没有其他可以使用的方法？

我的 XML 文件看起来像

```
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//ES//DTD book DTD version 5.3.0//EN//XML" "book.dtd" [<!  ENTITY fx1 SYSTEM "fx1" NDATA IMAGE>]>
<chapter>
<info>
<ce:link locator="fx1"/>… 
```

我已经创建了如下所示的 catalog.xml 文件并存储在同一位置。

```
<catalog prefer="public" xmlns="urn:oasis:names:tc:entity:xmlns:xml:catalog">
<system systemId="-//ES//DTD book DTD version 5.3.0//EN//XML" uri="book.dtd"/>
</catalog> 
```

我还在环境变量中定义了类路径，如下所示：

```
c:\saxon9\saxon9.jar;c:\saxon\resolver.jarUsed the following command line for conversion(referred http://sourceforge.net/apps/mediawiki/saxon/index.php?title=XML_Catalogs) 
```

但是我仍然面临同样的问题，我找不到确切的问题在哪里，还有什么需要做的？

```
C:\>java -cp c:\saxon9\saxon9.jar;c:\saxon9\resolver.jar -Dxml.catalog.files=c:\saxon9\catalog.xml net.sf.saxon.Transform -r:org.apache.xml.resolver.tools.CatalogResolver  -x:org.apache.xml.resolver.tools.ResolvingXMLReader -y:org.apache.xml.resolver.tools.ResolvingXMLReader -xsl:c:\test\body1.xsl -s:c:\test\Main.xml -o:c:\test\output.html 
```

但收到以下错误

```
Error java.io.FileNotFoundException: c:\test\book.dtd (The system cannot find the file specified)
Transformation failed: Run-time errors were reported 
```

非常感谢及时的帮助，因为这是非常紧急的......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-10-24T07:36:50.463

xmllint 工具对我有用。

```
xmllint --dropdtd -o file.xml file.xml 
```

正如 Thomas 提到的，您可以将结果通过管道传输到 saxonb。

```
xmllint --dropdtd file.xml | saxonb-xslt -s:- -xsl:stylesheet.xsl 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T07:49:53.230

如果您使用的是 Linux 系统，您可以去除 DOCTYPE 声明，例如使用 sed，并将结果通过管道传输到 Saxon，例如：

```
sed '/<!DOCTYPE/d' in.xml | saxonb-xslt -s:- -xsl:stylesheet.xsl 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T16:02:59.977

很大程度上取决于输入 XML 文件中 doctype 声明的形式。由于 Saxon 正在寻找“C:\test\book.dtd”，因此听起来好像存在一个外部标识符。所以你有类似其中之一的东西：

```
1\. <!DOCTYPE book PUBLIC "some-public-id" "c:\test\book.dtd">

2\. <!DOCTYPE book SYSTEM "c:\test\book.dtd"> 
```

基本问题是系统标识符部分（“c:\test\book.dtd”）是硬默认值。除非您使用目录机制指向 DTD 的其他位置，否则它将始终查找它。（这是我们必须忍受的 XML 规范中的一个缺陷。）

首要任务是您是否有源 XML 格式的 DTD。如果您不这样做并且无法获得一个，那么您唯一的选择是预处理源 XML 并删除 doctype 声明的整个外部标识符部分（即上述两种形式中的任何一种）。删除整个 doctype 声明也是可以的，只要它没有内部子集（一对 '[' 和 ']' 分隔符之间的其他声明。）

如果您有 DTD，您可以将副本放在 c:\test\book.dtd。如果您不想这样做，则必须使用目录机制将 Saxon（及其解析器）指向所需的位置。仅仅将resolver.jar 放在您的类路径中是不够的。你还需要给它一些可以使用的东西！

特别是，您需要给它一个目录文件（通过 xml.catalog.files 环境变量 - 请注意[文档](http://sourceforge.net/apps/mediawiki/saxon/index.php?title=XML_Catalogs)中示例的命令行）；并且您需要在目录中输入 XML 格式的 DTD 条目。这应该将系统标识符“c:\test\book.dtd”（和/或公共标识符，如果源 XML 在 doctype 声明中有一个）映射到文件系统中放置 DTD 的位置。

# java - 在文件系统上使用 crawler4j 获取 html 文件

> ID：14036980
> 
> 赞同：2
> 
> 时间：2012-12-26T06:50:42.520
> 
> 标签：java, web-crawler

我正在尝试使用`edu.uci.ics.crawler4j`lib 从本地目录中的 html 文件中抓取页面。`C:/work/temp/test.html`是它的路径。

我发现 crawler4j 正在建立 Http 连接。但是对于这种情况，不需要 Http 连接。我还在文件路径前面加上了`file://`like`"file:///C:/work/temp/test.html" (which is accessible)`

从 PageFetcher 类的代码：

```
 SchemeRegistry schemeRegistry = new SchemeRegistry();
    schemeRegistry.register(new Scheme("http", 80, PlainSocketFactory.getSocketFactory()));

    if (config.isIncludeHttpsPages()) {
        schemeRegistry.register(new Scheme("https", 443, SSLSocketFactory.getSocketFactory()));
    } 
```

有没有办法`file://`在 crawler4j 的 PageFetcher 中的 SchemeRegistry 中注册协议，或者 crawler4j 总是用于服务器上的托管文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-11T23:34:44.910

它应该是您的本地主机 URL。例如，localhost:80/ 应该是您目录的根目录。URL 应该类似于`http://localhost:80/.......`

# jquery - jQuery 热键插件使用绑定

> ID：14036983
> 
> 赞同：2
> 
> 时间：2012-12-26T06:50:58.360
> 
> 标签：jquery, event-handling, hotkeys, jquery-hotkeys

我正在使用由 John Resig（jQuery 先生）编写的[jQuery hotkeys 插件。](https://github.com/jeresig/jquery.hotkeys)但是，它使用`bind`，并且`bind`现在已替换`on`为[官方 jQuery API 中所述的](http://api.jquery.com/bind/)。

标准代码是：

```
$(document).bind('keyup', 'alt+a', function(evt){...}); 
```

我尝试更改`bind`为`on`，但没有成功。有没有解决方法，还是没关系？

我还想知道将处理程序附加到文档是否总是最好的方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-26T06:55:37.977

`on`取一个额外的 DOM arg，[http://api.jquery.com/on/](http://api.jquery.com/on/)，所以写`null`.

尝试

```
$(document).on('keyup', null, 'alt+a', function(){} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T06:58:43.363

该插件重新声明了jQuery`.bind`和`.unbind`方法的使用，如这些行所示

```
jQuery.fn.bind = function(){
jQuery.fn.unbind = function(){ 
```

我们可以简单地做

```
jQuery.fn.on = function(){
jQuery.fn.off = function(){ 
```

这也需要改变——

```
jQuery.fn.__bind__ = jQuery.fn.bind;
jQuery.fn.__unbind__ = jQuery.fn.unbind; 
```

到

```
jQuery.fn.__bind__ = jQuery.fn.on;
jQuery.fn.__unbind__ = jQuery.fn.off; 
```

它被重复使用了几次，所以替换任何出现的`bind` **音符**——不要替换`__bind`，只`bind`用 on替换出现，`unbind`用 off 替换出现。

[或者只是使用我的 jsFiddle 中的代码](http://jsfiddle.net/hzJGe/)

# c# - 动态结构到字节数组的转换

> ID：14036985
> 
> 赞同：1
> 
> 时间：2012-12-26T06:51:12.983
> 
> 标签：c#, arrays, buffer

我正在开发一个 C# 应用程序，它读取二进制文件的内容并在数据网格视图中显示相同的内容。数据的格式是这样的

```
[StructLayout(LayoutKind.Sequential)]
public class sProtParElement
{
    public ushort wNameIndex; 
    public eDataTypeTag eDataType; //eDataTypeTag is an enum
    public ushort wLen;
    public Data_Variant_tag Vt_Var; //Data_Variant_tag is a struct
} 
```

在哪里，

```
[StructLayout(LayoutKind.Explicit)]
public struct Data_Variant_tag
{
    [FieldOffset(0)]public byte yVal;
    [FieldOffset(0)]public sbyte cVal;
    [FieldOffset(0)]public ushort wVal;
    [FieldOffset(0)]public short iVal;
    [FieldOffset(0)]public uint xVal;
    [FieldOffset(0)]public int lVal;
    [FieldOffset(0)]public IntPtr pcVal;
} 
```

现在，用户可以对数据网格视图中的数据进行更改，并将更新的数据保存在缓冲区中，以便可以再次将其写回文件。

我面临的问题是因为数据类型不同。当我想将内容写回字节数组时，由于遇到的数据类型大小不同，我无法使用固定的结构大小。

有人能告诉我如何创建一个动态缓冲区并在字节缓冲区中只写入所需的数据大小吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T07:21:22.013

您可以使用[Marshal](http://msdn.microsoft.com/en-us/library/asx0thw2.aspx)类将具有*显式*和*顺序*布局的结构转换为字节数组。

```
var element = new sProtParElement()
{
    wLen = 1,
    wNameIndex = 2,
    Vt_Var = new Data_Variant_tag { lVal = 3 }
};

var size = Marshal.SizeOf(element);
var buffer = new byte[size];
IntPtr ptr = IntPtr.Zero;
try
{
    ptr = Marshal.AllocHGlobal(size);
    Marshal.StructureToPtr(element, ptr, true);
    Marshal.Copy(ptr, buffer, 0, size);
}
finally
{
    Marshal.FreeHGlobal(ptr);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-27T12:03:44.000

感谢您的回复。我使用泛型与 Lambda 表达式相结合来得出我的解决方案。

由于结构中的成员根据数据类型具有不同的大小，因此我创建了一个字节数组列表，其中已经包含了数据网格视图的所有元素

现在每次，用户在数据网格视图中进行更改，我创建一个临时缓冲区并覆盖原始缓冲区内容，例如

```
 byte[] modifiedArray = 
             GenerateByteArrayFromPPDataList(e.RowIndex,newPPDataList[e.RowIndex].eDataType); 

      listofArrays[e.RowIndex] = modifiedArray; //listofArrays[e.RowIndex] -> byte array at index position e.RowIndex 
```

然后我使用 lambda 表达式来向量化这个列表。我使用 stackoverflow 中的示例来执行此操作。

```
 /// <summary>
    /// Converst the list of byte arrays which contains the 
    /// protocol paramters into a single byte array
    /// </summary>
    private void VectorizeProtParList()
    {
        if (listofArrays != null && listofArrays.Count > 0)
        {
            var flattenedList =
                listofArrays.SelectMany(bytes => bytes);

            savedPPDataArray = flattenedList.ToArray();

            MessageBox.Show("New Protocol parameter data saved", "Save Data",
                MessageBoxButtons.OK, MessageBoxIcon.Information);
        }
        else
        {
            MessageBox.Show("PP Data list seems to have no data", "Error",
                MessageBoxButtons.OK, MessageBoxIcon.Error);
        }

    } 
```

savedPPDataArray 是我写回文件的最后一个字节缓冲区。

干杯，哈里什

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T07:09:35.503

您需要分配新的缓冲区。修改结构之前的所有数据必须按原样复制。修改后的缓冲区之后的所有数据都必须移位。您可以`System.Buffer`为此使用类。

# php - 我想知道我的 wordpress 博客作者的帖子数

> ID：14036988
> 
> 赞同：-4
> 
> 时间：2012-12-26T06:51:40.520
> 
> 标签：php, wordpress

我想知道某个作者发表了多少帖子。例如。有 10 个作者，每个人都有帖子，现在我想知道作者发表的帖子数。

博客：viyugam.com

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:56:42.660

此函数为传递给它的 id 的用户返回帖子计数。 [这](http://codex.wordpress.org/Function_Reference/count_user_posts)可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-22T12:18:03.823

使用单用户帖子

```
count_user_posts( $userid ); 
```

或者

将数组中的 user_id 传递给此函数，以获取用户的帖子数

```
count_many_users_posts($user_ids_array); 
```

参考：[http ://codex.wordpress.org/Function_Reference/count_user_posts](http://codex.wordpress.org/Function_Reference/count_user_posts)

# iphone - 进入前台时应用程序崩溃并给出 -[UITextField _applicationResuming:] deallocated instance... 错误

> ID：14036993
> 
> 赞同：2
> 
> 时间：2012-12-26T06:52:26.480
> 
> 标签：iphone, crash

`iPad`我的应用在设备上运行良好。但是当按下`HOME`然后进入前台时它会随机崩溃。调试控制台显示

```
[UITextField _applicationResuming:]: message sent to deallocated instance 0x... 
```

我有很多`UITextField`对象，`ViewController`不知道是哪一个以及发生了什么。我动态创建了所有这些`UITextField`对象（不使用情节提要）并将它们放在一个名为 dict_edittext （保留为`NSMutableDictionary`）的属性中`ViewController`。有人可以指出我如何解决这个问题。`UITextField`当应用程序进入前台时，我不知道这些对象发生了什么。

# android - 获取系统后台下载状态

> ID：14036996
> 
> 赞同：1
> 
> 时间：2012-12-26T06:52:32.250
> 
> 标签：android, download

系统使用wifi连接网络并下载文件。它将获取下载过程的状态。下载过程为 STATUS_FAILED、STATUS_PAUSED、STATUS_PENDING、STATUS_RUNNING 和 STATUS_SUCCESSFUL。

我想使用广播机制，从系统接收下载广播。然后通过 DownloadManager 相关方法获取下载状态。但它失败了。你能给我一些想法吗？谢谢！