# StackOverflow 问答 14457000-14457999

# xml - 如何使用 xquery 检索具有匹配某些条件的子节点的父节点？

> ID：14457004
> 
> 赞同：1
> 
> 时间：2013-01-22T10:58:35.470
> 
> 标签：xml, xslt, xquery

我正在尝试从我的 xml 文件中获取部分数据，
源文件是这样的：

```
<Odds>
  <Match ID="101" Time="A">
    <Event type="Home">
      <Score="1"/>
    </Event>
    <Event type="Away">
      <Score="2"/>
    </Event>
  </Match>
  <Match ID="102" Time="B">
    <Event type="Home">
      <Score="1"/>
    </Event>
    <Event type="Away">
      <Score="2"/>
    </Event>
  </Match>
</Odds> 
```

我想获取事件类型仅匹配“主场”的赔率、比赛、事件、得分标签。
也就是说，结果如下：

```
<Odds>
  <Match ID="101" Time="A">
    <Event type="Home">
      <Score="1"/>
    </Event>
  </Match>
  <Match ID="102" Time="B">
    <Event type="Home">
      <Score="1"/>
    </Event>
  </Match>
</Odds> 
```

我对 XML 很陌生，读过一些书。
试图在 xquery 的 WHERE 中添加条件并返回父节点。
但结果总是返回带有完整子节点的匹配。
也就是说，结果与原始结果没有区别。
有什么好的方法可以摆脱那些类型不是 Home 的事件吗？
谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T13:26:03.457

如果您的 XQuery 处理器支持 XQuery 更新，您可以编写以下代码：

```
 copy $odds-proj := $odds
  modify delete node $odds-proj//Event[@type = "Away"]
  return $odds-proj 
```

[您可以在http://28.io/sandbox/index#QzdH/9PIwe11cJnVVZSqhpBdJkQ=](http://28.io/sandbox/index#QzdH/9PIwe11cJnVVZSqhpBdJkQ=)现场试用此示例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T19:59:32.417

如果您正在处理一个巨大的文件，我建议您使用以下查询：

```
for $match in $odds/Match
return <Match>
{$match/attribute()}
{$match/element()[@type = "Home"]}
</Match> 
```

[您可以在http://28.io/sandbox/index#dwQcDXHxyl69BijJq6o5Mx8Fvrk=](http://28.io/sandbox/index#dwQcDXHxyl69BijJq6o5Mx8Fvrk=)上查看此示例。 此外，如果您希望使用 Zorba 流式传输大型 XML 文档，我建议您查看[http://上的教程www.zorba-xquery.com/html/entry/2012/05/31/XML_Streaming](http://www.zorba-xquery.com/html/entry/2012/05/31/XML_Streaming)

# delphi - Delphi OAuth 认证

> ID：14457011
> 
> 赞同：3
> 
> 时间：2013-01-22T10:58:55.533
> 
> 标签：delphi, oauth, twitter-oauth, delphi-xe3

我制作了一个使用 twitter API 来生成推文的应用程序。现在我想扩展我的应用程序，但要在我的应用程序中做我想做的事情，我必须使用 twitter API 进行身份验证。

我找到的最好的例子是[here](http://chuckbeasley.com/index.php/2009/05/22/using-oauth-for-delphi-with-twitter/) 但我似乎无法弄清楚如何进行身份验证。

有没有人有这方面的经验，或者是否有一个可靠的德尔福 OAuth 类？我不认为链接中示例中的课程是可靠的，因为这篇文章是从 2009 年开始的。如果你能证明我错了，请做:)

任何帮助深表感谢。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T17:12:54.240

Simon Stuart 编写了一个名为 TTwitter 的开源软件包。它包括 oauth 身份验证。该网站是[http://www.simonjstuart.com/delphi-stuff/ttwitter/](http://www.simonjstuart.com/delphi-stuff/ttwitter/)。自从我在 Twitter 上使用它已经有几个月了，所以我不知道 Twitter API 从那时起是否发生了变化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:13:20.947

几个月前，我自己也进行了同样的搜索，结果空手而归。最近在[ADUG](http://www.adug.org.au/)邮件列表上出现了一个类似的问题，但同样无济于事。

我不相信 OAuth 和/或 Open Id 有公开可用的 Delphi 库。恕我直言，这是一个成熟的开源项目，可以由有时间和动力的人开发。

# backbone.js - 主干集合 URL 未定义

> ID：14457018
> 
> 赞同：1
> 
> 时间：2013-01-22T10:59:19.660
> 
> 标签：backbone.js

尝试将 url 传递给 fetchFromURL 函数，但登录时 URL 未定义。不知道为什么会这样！！

```
class Device extends Backbone.Model

class Devices extends Backbone.Collection
    model: Device
    localStorage: new Backbone.LocalStorage 'devices'
    url: "http://192.168.2.17:8030/profile/RestProfile.svc/GetDeviceList/"
    fetchFromURL: =>
        collection = @
        console.log @url

getView = =>
    devices = new Devices
    devices.fetch()
    devices.fetchFromURL() 
```

# ruby-on-rails - 生产未找到某些宝石方法

> ID：14457034
> 
> 赞同：1
> 
> 时间：2013-01-22T11:00:05.973
> 
> 标签：ruby-on-rails, ruby-on-rails-3, gem, production-environment

我已将 gem [simple-navigation 3.9.0添加到我在](http://rubygems.org/gems/simple-navigation)**rails 3.2.11**中的 gemfile 中，它在开发中运行良好。但是，当我部署到生产服务器并尝试使用该方法打开页面时，出现以下错误：

```
undefined method `render_navigation' 
```

我不相信它是特定于那个宝石的，因为我之前在使用[uuid gem](http://rubygems.org/gems/uuid)时遇到了同样的问题。

使用 $LOADED_FEATURES 我找到**"simple_navigation"**，所以它似乎已加载。

**有关生产服务器的信息**

```
nginx 1.2.6
Unicorn 4.5.0
Rubygems 1.8.23
Ubuntu 12.04 LTS
rbenv 0.4.0-9-g045f6c1 
```

**编辑**

其他 gems 工作，服务器运行良好，除了上述问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-26T00:31:50.933

确保您的 gem 没有`development`在 Gemfile 的组内声明

该`development`组中的宝石未加载到`production`.

```
group :development do
  gem "simple-navigation"
end 
```

此外，如果您有一个`<APP_HOME>/.bundle/config`文件，请确保它没有该`BUNDLE_WITHOUT`选项。

**宝石文件**

```
group :ui do
  gem "simple-navigation"
end 
```

**.bundle/配置**

```
---
BUNDLE_WITHOUT: ui 
```

在上面的示例中，`ui`不会加载 gem 组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T17:43:22.080

话虽如此，我对 Rails 的了解非常有限，但当 Gemfile.lock 未提交到存储库时，我看到了类似的行为。结果，当项目被推到生产环境时，依赖解决方案出现了一些问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T08:52:12.910

你试过`RAILS_ENV=production bundle install`吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-04T07:09:32.820

虽然从技术上讲不是答案，但我决定切换到 Linode 作为我的主机。这涉及完全重新安装我的服务器设置，它现在正在工作。我这次安装服务器的步骤与上次完全相同，所以我仍然不确定出了什么问题，或者它是否很容易修复。由于我不再拥有可用的旧服务器，因此无法确认从现在开始提出的任何解决方案。

除非在接下来的 48 小时内有任何异议，否则我会将此答案标记为解决方案。

# mysql - Mysql手动自增并发连接证明

> ID：14457042
> 
> 赞同：1
> 
> 时间：2013-01-22T11:00:29.887
> 
> 标签：mysql, concurrency, transactions

我有一个发票表（innoDB），我需要在其中手动设置下一张发票的累进编号。我现在的代码是

```
SELECT MAX(invoice_n) FROM invoices WHERE invoice_y = 2013 
```

然后定期保存记录，放置新的 invoice_n = max + 1。我在 invoice_n-invoice_y 上有一个索引 UNIQUE，我正在记录数据库错误，所以我看到有时我有重复的键输入错误，因为我有数百个不同的连接的用户。我将代码放在一个循环中，一直持续到生成发票，但我认为可以有一个更优雅的解决方案，尤其是使用交易。我读了一点，但我不明白如何通过交易来实现我的结果。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T00:36:42.027

您可以在列定义中使用[“AUTO_INCREMENT”](http://dev.mysql.com/doc/refman/5.0/en/example-auto-increment.html)。如果插入失败，您将看到数字之间的一些间隙。

另一种选择是使用每年的最后一个索引创建一个表（请参阅评论）并按照以下步骤操作：

1.  开始交易
2.  选择更新每行的最后一个索引并增加一个
3.  插入新发票
4.  提交您的交易

一些链接：

*   [请参阅 MySQL (InnoDB) 事务模型](http://dev.mysql.com/doc/refman/5.0/en/innodb-transaction-model.html)
*   [锁定示例](https://dba.stackexchange.com/questions/15854/innodb-row-locking-how-to-implement)

另一种方法是，您可以使用“乐观方法”，如果由于重复键而失败，则重复选择和插入。

希望对你有帮助，欢迎评论！

# php - 如果控制器在 codeigniter 中不存在，则重写 URL

> ID：14457046
> 
> 赞同：1
> 
> 时间：2013-01-22T11:00:38.647
> 
> 标签：php, codeigniter, url-rewriting, routing

如果用户试图访问任何不存在的控制器，则重写 URL。

例如：- 如果用户尝试访问`http://example.com/project/anyvalue`. 在我的程序中没有名称为“anyvalue”的控制器。在这种情况下，我想重定向到

```
http://example.com/project/profile/anyvalue 
```

这怎么可能在codeigniter中使用路由？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:03:56.227

如果控制器丢失，使用默认路由将请求重定向到某个特定页面

您可以在以下位置找到路线位置

/application/admin/config/routes.php

```
$route['default_controller'] = "welcome"; 
```

在找不到页面的情况下也使用以下内容

```
$route['404_override'] = 'default_page'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T04:04:36.627

1.  将路由添加到“/project/...”下的所有现有控制器
2.  添加与“/project”下的任何路径匹配的路由

例子：

```
/* Currently available controllers under "/project/" */
$route['project/profile'] = "project/profile";
$route['project/add'] = "project/add";
$route['project/edit'] = "project/edit";

/* Catch all others under "/project/" */
$route['project/(:any)'] = "project/profile/$1";

/* if controller class name is Profile and function name is index */
$route['project/(:any)'] = 'project/profile/index/$1'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:13:12.053

您想要的是 Vanity URL，您可以在此处的代码点火器中找到执行此操作的指南：

[http://philpalmieri.com/2010/04/personalized-user-vanity-urls-in-codeigniter/](http://philpalmieri.com/2010/04/personalized-user-vanity-urls-in-codeigniter/)

本质上，您将其添加到您的路线文件中：

```
$handle = opendir(APPPATH."/modules");
while (false !== ($file = readdir($handle))) {
  if(is_dir(APPPATH."/modules/".$file)){
    $route[$file] = $file;
    $route[$file."/(.*)"] = $file."/$1";
  }
}

/*Your custom routes here*/

/*Wrap up, anything that isnt accounted for pushes to the alias check*/
$route['([a-z\-_\/]+)'] = "aliases/check/$1"; 
```

# c - C 以与 Java Compiler Api 7 相同的方式动态加载代码

> ID：14457047
> 
> 赞同：1
> 
> 时间：2013-01-22T11:00:40.577
> 
> 标签：c, dynamic, compiler-construction, runtime

我有以下用例，我以前用 Java 解决过，但现在需要将程序移植到 C。

我有一个方法 A，它调用了属于抽象类 Engine 的方法 do_work()。该类的每个具体实现构造如下：

用户将提交 do_work() 方法的定义。如果这个定义是正确的，程序员将使用 Java Compiler API 构造 Engine 类的具体实现。（此代码包含在下面以供参考）。

我怎样才能在 C 中做类似的事情：

我现在有一个结构体引擎，带有一个指向 do_work() 方法的函数指针。我希望用户能够在运行时通过命令行提交此方法（注意：这只发生一次，在启动时，一旦构造了引擎结构，我不想更改它）。

我该怎么办？我已经阅读了一些建议，说明我必须使用汇编来执行此操作，其他人则说这是不可能的，但没有一个给出很好的解释或参考。任何帮助，将不胜感激。

该解决方案不需要与 32/64 位机器兼容，因为所编写的程序仅适用于 64 位机器。

作为参考，Java 代码：

```
 JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();

    StandardJavaFileManager stdFileManager = compiler
            .getStandardFileManager(null, Locale.getDefault(), null);
    Iterable<? extends JavaFileObject> compilationUnits = null;

    String[] compileOptions = new String[] { "-d", "bin" };
    Iterable<String> compilationOptions = Arrays.asList(compileOptions);

        SimpleJavaFileObject fileObject = new DynamicJavaSourceCodeObject(
                "package.adress",getCode());
        JavaFileObject javaFileObjects[] = new JavaFileObject[] { fileObject };
        compilationUnits = Arrays.asList(javaFileObjects);
    }

    DiagnosticCollector<JavaFileObject> diagnostics = new DiagnosticCollector<JavaFileObject>();
    CompilationTask compilerTask = compiler.getTask(null, stdFileManager,
            diagnostics, compilationOptions, null, compilationUnits);

    boolean status = compilerTask.call();

    if (!status) {// If compilation error occurs
        /* Iterate through each compilation problem and print it */
        String result = ""; 
        for (Diagnostic diagnostic : diagnostics.getDiagnostics()) {
            result = String.format("Error on line %d in %s",
                    diagnostic.getLineNumber(), diagnostic);
        }
        Exception e = new Exception(result);
        throw e;
    }

    stdFileManager.close();// Close the file manager

    /*
     * Assuming that the Policy has been successfully compiled, create a new
     * instance
     */

    Class newEngine = Class
            .forName("package.name");

    Constructor[] constructor = newPolicy.getConstructors();
    constructor[0].setAccessible(true);
    etc.
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:39:48.283

在 C 中，所有代码在使用前都必须编译为本机代码，因此您唯一的方法是使用命令行编译器来构建用户提交的代码。例如，它可能是 GNU C++ 编译器，或 Visual C++ 编译器（但对于 Visual C++，我不知道法律问题是什么，许可证是否允许这样做）。所以，首先，选择你的编译器，可能是 GNU 的。

接下来，您可以将其编译为可执行程序或 DLL（假设您的软件适用于 Windows）。如果你决定将它编译成 DLL，你必须使用 Win32 函数 LoadLibrary 将新构建的 DLL 加载到你的进程中，然后你可以使用 GetProcAddress 函数获取方法地址并从 C++ 动态调用它（你必须实现一个函数包装器并在 DLL 中公开）。

如果您决定将其编译为 EXE 文件，则必须使用 CreateProcess 函数来运行您的代码，通过命令行发送参数并接收数据，可能是使用管道（请参阅 CreatePipe 函数），或者可能是临时文件，或任何Windows 中可用的其他进程间通信方式。

我认为在您的情况下，最好编译为 EXE 文件，因为在 DLL 中，如果用户代码有问题，您的主程序可能会崩溃。

# java - 如何用Java中的引号替换子字符串？

> ID：14457049
> 
> 赞同：0
> 
> 时间：2013-01-22T11:00:46.337
> 
> 标签：java

我有一个字符串：

```
str="{\"type\":\"Polygon\",\"coordinates\":[[[60.677938980978993,56.834449959232998],
[60.680103564162927,56.834305549577387],[60.679971577383398,56.833005837614643],
[60.679813193248009,56.832846980836457],[60.678546120164683,56.832760331400671],
[60.678229351893869,56.831850500219574],[60.677622212708137,56.831893826015182],
[60.676830292031028,56.832139337910085],[60.67624955020122,56.832818097713471],
[60.676275947556981,56.833655699235088],[60.676328742268893,56.834724336044253],
[60.677411033860842,56.834695454369324],[60.677490225928629,56.834478841097273],
[60.677938980978993,56.834449959232998]]]}" 
```

现在我想删除所有`\`：

```
str.replaceAll("\\",""); 
```

并得到错误：

```
java.util.regex.PatternSyntaxException: Unexpected internal error near index 1
\ 
```

好吧，我说。另一个希望删除第一个和最后一个引号：

```
str.substring(str.indexOf("\""),str.lastIndexOf("\"")); 
```

我得到一个字符串：

```
"{\"type\":\"Polygon\",\"coordinates\":[[[60.677938980978993,56.834449959232998],
[60.680103564162927,56.834305549577387],[60.679971577383398,56.833005837614643],
[60.679813193248009,56.832846980836457],[60.678546120164683,56.832760331400671],
[60.678229351893869,56.831850500219574],[60.677622212708137,56.831893826015182],
[60.676830292031028,56.832139337910085],[60.67624955020122,56.832818097713471],
[60.676275947556981,56.833655699235088],[60.676328742268893,56.834724336044253],
[60.677411033860842,56.834695454369324],[60.677490225928629,56.834478841097273],
[60.677938980978993,56.834449959232998]]]" 
```

只有最后一个`}`被删除。

我在这段代码片段中做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:02:36.990

你试过`str.replaceAll("\\\\","");`吗？（见[https://stackoverflow.com/a/3640386/500478](https://stackoverflow.com/a/3640386/500478)）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:04:54.243

使用其中之一，

```
str.replaceAll("\\.", ""); 
```

或者

```
 str.replaceAll("\\\\", ""); 
```

当您键入 时`"\\"`，这实际上是一个反斜杠（由于转义 Java 字符串中的特殊字符）。

正则表达式也使用反斜杠作为特殊字符，您需要使用另一个反斜杠或使用 a 对其进行转义，`DOT(.)`所以最后，您需要传递`"\\\\"`or `"\\."`作为模式来匹配单个反斜杠。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T11:05:04.853

```
 System.out.println(str.replaceAll("\\\\", "")); 
```

输出：

> { “类型”： “多边形”， “坐标”：[[[60.677938980978993,56.834449959232998]，[60.680103564162927,56.834305549577387]，[60.679971577383398,56.833005837614643]，[60.679813193248009,56.832846980836457]，[60.678546120164683,56.832760331400671]，
> [60.678229351893869,56.831850500219574] [60.677622212708137,56.831893826015182]，
> [60.676830292031028,56.832139337910085]，[60.67624955020122,56.832818097713471]，
> [60.676275947556981,56.833655699235088]，[60.676328742268893,56.834724336044253]，[60.677411033860842,56.834695454369324]，[60.677490225928629,56.834478841097273]，[60.677938980978993,56.834449959232998]]] }

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T11:07:17.840

```
str.replace("\\", ""); 
```

适用于您的情况。

```
public String replace(CharSequence target,CharSequence replacement) 
```

用指定的文字替换序列替换 此字符串中与文字目标序列匹配的[每个子字符串。](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29)

```
String s = "abc" + "\\" + "def";
System.out.println(s); 
```

它打印出以下内容 -

```
abc\def 
```

\ 是字符串和正则表达式中的转义字符。

# android - Android NFC 感应和读取标签数据同时进行

> ID：14457055
> 
> 赞同：0
> 
> 时间：2013-01-22T11:00:54.543
> 
> 标签：android, nfc, android-applicationrecord

我有一个关于 android NFC 的问题。

我已经完成了读写的功能，但还有一个问题。

我在我的标签中写了 AAR，第一次感应后，它可以启动我的应用程序。

第二次感应（我的应用程序启动），我可以从 NFC 标签读取数据。

是否有可能只感应一次就可以启动我的应用程序并从标签中获取数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T00:00:31.873

使用下面的模式（从[这里](http://code.google.com/p/ndef-tools-for-android/source/browse/ndeftools-util/src/org/ndeftools/util/activity/NfcDetectorActivity.java)）。概括：

1.  前台模式允许您以发送到 onNewIntent 的意图的形式捕获扫描的标签。onResume 将跟随 onNewIntent 调用，因此我们将在那里处理意图。但 onResume 也可以来自其他来源，因此我们添加一个布尔变量以确保我们只处理每个新意图一次。

2.  启动活动时也存在意图。通过将布尔变量初始化为 false，我们将其放入上述流程 - 您的问题应该得到解决。

    ```
    protected boolean intentProcessed = false;

    public void onNewIntent(Intent intent) {

        Log.d(TAG, "onNewIntent");

        // onResume gets called after this to handle the intent
        intentProcessed = false;

        setIntent(intent);
    }

    protected void onResume() {
        super.onResume();

        // your current stuff

        if(!intentProcessed) {
             intentProcessed = true;

             processIntent();
        }

    } 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T16:04:19.593

在 AndroidManifest -

```
 <activity
        android:name=".TagDiscoverer"
        android:alwaysRetainTaskState="true"
        android:label="@string/app_name"
        android:launchMode="singleInstance"
        android:screenOrientation="nosensor" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
        <intent-filter>
            <action android:name="android.nfc.action.NDEF_DISCOVERED" />
            <action android:name="android.nfc.action.TECH_DISCOVERED" />
            <action android:name="android.nfc.action.TAG_DISCOVERED" />

            <category android:name="android.intent.category.DEFAULT" />

            <data android:mimeType="text/plain" />
        </intent-filter>

        <meta-data
            android:name="android.nfc.action.TECH_DISCOVERED"/>
    </activity> 
```

您应该在 OnCreate() 中启动 NFC 采用者。

```
 /**
      * Initiates the NFC adapter
     */
  private void initNfcAdapter() {
    nfcAdapter = NfcAdapter.getDefaultAdapter(this);
    mPendingIntent = PendingIntent.getActivity(this, 0,
        new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);
   } 
```

现在在 OnResume() ...

```
 @Override
  protected void onResume() {
  super.onResume();
  if (nfcAdapter != null) {
    nfcAdapter.enableForegroundDispatch(this, mPendingIntent, null, null);
  }
 } 
```

# regex - 正则表达式匹配多个组都是可选的

> ID：14457061
> 
> 赞同：1
> 
> 时间：2013-01-22T11:01:03.710
> 
> 标签：regex

输入字符串为“bla bla 1:term1 bla bla 2:term2 bla bla 3:term3 bla bla” 此字符串中的所有单词都是可选的，可能不会出现。

我想为 term1、term2、term3 捕获命名组。我试过这个正则表达式没有成功：

```
"(\b1:(?P<one>\w+))?.*?(\b2:(?P<two>\w+))?.*?(\b3:(?P<three>\w+))?" 
```

如果我删除它实际上有效？在每个外部组之后，所有组都存在于字符串中。但我没有让它们成为可选的。将不胜感激一些帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:10:55.630

您想捕获以下单词`:`，因此`:(\w+)`可以这样做：

```
$ egrep -o ":(\w+)" <<< "bla bla 1:term1 bla bla 2:term2 bla bla 3:term3 bla bla"
:term1
:term2
:term3 
```

捕获组一将包含`term1`, 两个等`term2`..

您可能还对[积极的前瞻](http://www.regular-expressions.info/lookaround.html)感兴趣：

```
$ grep -Po "(?<=:)\w+" <<< "bla bla 1:term1 bla bla 2:term2 bla bla 3:term3 bla"
term1
term2
term3 
```

# linux - 为什么我的 Linux 提示符只显示“>”符号？

> ID：14457066
> 
> 赞同：0
> 
> 时间：2013-01-22T11:01:29.387
> 
> 标签：linux, ubuntu

我正在学习非常基本的 Linux 命令，我正在输入非常基本的命令，但我不知道我输入了什么或发生了什么，我在终端中只有“>”。

不知道我应该输入什么？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:05:07.337

当终端期望您完成输入命令时会显示此信息。例如：

`git commit -m 'asdasdasdasd <enter>` 将导致`>`显示在下一行，因为终端正在等待您完成输入（因为您尚未输入结束`'`符号）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:03:03.607

你输入了什么命令？试试 Ctrl+C 。

# html - Html 表格未按预期格式化？

> ID：14457070
> 
> 赞同：0
> 
> 时间：2013-01-22T11:01:35.407
> 
> 标签：html

我正在处理的表格存在格式问题。请参阅下面表格行的屏幕截图：

![在此处输入图像描述](../Images/efe5e71880630d8c31f66205ebf7ed4e.png)

下面是我的表格的 html - 所以问题是如果我执行 F12 并突出显示 * 列，它显示为占用大量空间，而不仅仅是我指定的 5px - 然后将验证消息向上推送并且不lok当有空间时它们可以填充很好。我错过了什么愚蠢的东西吗？

```
<table class="ui-widget-content" style="width: 565px; height: 200px; margin-top: 10px;">
    <tr>
        <td style="width: 10px;"></td>
        <td class="label">Forename :
        </td>
        <td class="value">
            @Html.TextBoxFor(model => model.Forename, new { id = "foreName", style = "width:150px" })
        </td>
        <td style="width:5px;">*</td>
        <td class="field-validation-error" style="width: 180px;">
            @Html.ValidationMessageFor(model => model.Forename)
        </td>
    </tr>
    <tr>
        <td style="width: 10px;"></td>
        <td id="FloorText" class="label">Surname :
        </td>
        <td class="value">
            @Html.TextBoxFor(model => model.Surname, new { style = "width:150px" })
        </td>
         <td style="width:5px;">*</td>
        <td class="field-validation-error" style="width: 180px;">
            @Html.ValidationMessageFor(model => model.Surname)
        </td>
    </tr>
    <tr>
        <td style="width: 10px;"></td>
        <td class="label">Email Address :
        </td>
        <td class="value">
            @Html.TextBoxFor(model => model.Email, new { style = "width:150px" })
        </td>
         <td style="width:5px;">*</td>
        <td class="field-validation-error" style="width: 180px;">
            @Html.ValidationMessageFor(model => model.Email)
        </td>
    </tr>
</table> 
```

**编辑 - 编辑问题以显示 F12 中代码的屏幕截图 - 它似乎是自动生成的跨度 - 我如何为此添加宽度？**

![在此处输入图像描述](../Images/2851d99353b2d29e12d82fad6817b0b0.png)

# sql-server-2008-r2 - 没有 LTRIM、RTRIM 和 Upper/Lower 函数的记录不匹配

> ID：14457072
> 
> 赞同：0
> 
> 时间：2013-01-22T11:01:56.813
> 
> 标签：sql-server-2008-r2, collation

这个问题我长期面临。我在不同的数据库中有两个表，它们具有相同的列和完全相同的数据类型。但是当做连接或任何其他匹配的查询时，我只得到很少的结果，我注意到当保持

```
LTRIM(RTRIM(UPPER(SourceTable.Column))) =
LTRIM(RTRIM(UPPER(DestinationTable.Column))) 
```

它工作正常。我很惊讶地说我在位和整数列上看到了同样的问题，当我保留 LTRIM、RTRIM 和 UPPER/LOWER 时它们也能正常工作。

下面是两个数据库的整理：

```
Source: SQL_Latin1_General_CP1_CI_AS
Destination: SQL_Latin1_General_CP1_CI_AS 
```

正如你所看到的，即使我遇到了这个问题，它们也有相同的排序规则。我可以对此有一个永久的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:06:45.443

如果数据类型完全相同，则可能是您实际上对列有不同的排序规则 - 您实际上可以对数据库有不同的排序规则，在列级别指定。对我来说，第一个停靠港是检查。

[MSDN 资源](http://msdn.microsoft.com/en-us/library/ms143726.aspx)，引用：

> 列级排序规则
> 
> ```
> When you create or alter a table, you can specify collations for each 
> character-string column by using the COLLATE clause. If no collation is 
> specified, the column is assigned the default collation of the database. 
> ```

# java - Braintree支付的客户端加密

> ID：14457075
> 
> 赞同：2
> 
> 时间：2013-01-22T11:02:08.203
> 
> 标签：java, javascript, payment-gateway, payment-processing, braintree

我正在为 Braintree 支付进行客户端加密。没有加密应用程序运行良好，但是当我使用客户端加密（braintree-1.1.0.min.js）加密卡号时，卡号加密（成一个长字符串）但我收到错误作为响应

> （此商户帐号不接受信用卡类型。信用卡号必须为 12-19 位。CVV 必须为美国运通的 4 位，其他卡类型为 3 位）`

我使用 4111111111111111 作为 Braintree 网站上提供的卡号。

[脑树网站。](https://www.braintreepayments.com/docs/java/reference/sandbox) 在服务器端，我使用的是 Java。在此先感谢您的帮助...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T19:37:46.927

我在布伦特里工作。

通常，此错误表明您使用了错误的密钥，或者您在将加密字符串发送给我们之前以某种方式对其进行了修改。

您的 javascript 应该类似于：

```
var braintree = Braintree.create("MIIB...") 
```

其中字符串是您的客户端加密密钥，它非常长——比您的商家 ID、公钥和私钥长得多。

如果您包含您的代码，包括客户端 javascript 和服务器端 Java，我可能会发现您遇到的具体问题。如果您添加服务器端代码，请*不要*包含您的私钥。

# java - 如果抽象类不能被实例化，具体是什么代码：ABS clsAbs = new ABS () {

> ID：14457076
> 
> 赞同：1
> 
> 时间：2013-01-22T11:02:10.237
> 
> 标签：java, class, abstract-class, abstract

我有一个关于抽象类的问题。

首先......我正在使用谷歌翻译，对不起:(我希望你理解。

如果抽象类不能被实例化，确切地说，这段代码是什么：

```
public class Ppal {

public void start(){

    ABS clsAbs = new ABS() {

        @Override
        public void absMetod() {
        }
    };

    clsAbs.metod();
}
} 
```

ABS：

```
public abstract class ABS{

public void metod(){}
public abstract void absMetod();

} 
```

`ABS clsAbs = new ABS () {...`这不是一个例子吗？可以使用clsAbs，不能使用Abstract classes，只能创建一个抽象模型...

它可以用作匿名类，但 this ( `ABS clsAbs = new ABS () {...`) 不是匿名的。

非常感谢您！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-22T11:03:34.077

您正在实例化一个匿名类，该类扩展`class ABS`. 你可以实例化这个匿名类，因为它定义了所有的抽象方法`ABS`（感谢 Nebelmann）

如果您创建一个这样的类`public class Foo extends ABS`实现`absMetod()`

你可以这样做：`ABS bar = new Foo()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:09:07.943

你只需要了解这个

```
ABS clsAbs = new ABS() {

        @Override
        public void absMetod() {
        }
    }; 
```

您在创建扩展 `ABS`类的匿名类时实现抽象方法 absMetod()

# jsp - 如何在 JSP 中将智能引号转换为纯文本

> ID：14457078
> 
> 赞同：0
> 
> 时间：2013-01-22T11:02:13.837
> 
> 标签：jsp, encoding, character-encoding, special-characters

我有一个场景，我从 MS Word 或 Outlook 复制数据并将其粘贴到 JSP 文本区域中，然后尝试使用 Spring 和 Hibernate 将其保存到 Oracle 数据库中。问题是下面这句话

**它不是唯一的角色，我们也允许 - 并且 - 也**

被替换为

它不是唯一的字符，我们也允许 �� 和 -- 也。

谁能告诉我如何将实际数据保存到表中。

**注意：**如果我在 textarea 中输入 ' 和 - 并坚持，它们会毫无问题地保存。仅当我从 word/outlook 复制文本并将它们粘贴到文本区域时才会出现问题。

我试图将以下内容放入我的 JSP 中，但无论如何都对我没有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:56:44.173

答：按照下面提到的步骤解决了同样的问题。

1.  保留以下部分

    ```
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
    ```

在 JSP 的头部。已删除元标记之前的 < 标记。

2.  在我的 Web.xml 中添加了 UTF-8 执行器。使用了以下代码。

    ```
    <filter>

        <filter-name>encodingFilter/filter-name>

        <filter-class>org.springframework.web.filter.CharacterEncodingFilter/filter-class>

        <init-param>

            <param-name>encoding/param-name>

            <param-value>UTF-8/param-value>

        </init-param>

        <init-param>

            <param-name>forceEncoding/param-name>

            <param-value>true/param-value>

        </init-param>

    </filter>

    <filter-mapping>

        <filter-name>encodingFilter/filter-name>

        <url-pattern>/*/url-pattern>

    </filter-mapping> 
    ```

3.  使用实用程序将智能引号转换为纯文本。我使用的实用程序如下所述（参考[http://forum.springsource.org/showthread.php?72944-How-to-handle-Smart-Quotes-pasted-into-TextArea-input](http://forum.springsource.org/showthread.php?72944-How-to-handle-Smart-Quotes-pasted-into-TextArea-input)）。感谢 RobertGloverJr 发布该部分解决方案。

    ```
    public static void windows1252ToIso8859(StringBuilder sbOriginal)  {
          if (null==sbOriginal) {
             return;
          }
          for (int isb = 0; isb < sbOriginal.length(); isb++)  {
             int origCharAsInt = (int) sbOriginal.charAt(isb);
             switch (origCharAsInt) {

             case ((int)'\u2018'):  sbOriginal.setCharAt(isb, '\''); break;  // left single quote
             case ((int)'\u2019'):  sbOriginal.setCharAt(isb, '\''); break;  // right single quote
             case ((int)'\u201A'):  sbOriginal.setCharAt(isb, '\''); break;  // lower quotation mark

             case ((int)'\u201C'):  sbOriginal.setCharAt(isb, '"'); break;  // left double quote
             case ((int)'\u201D'):  sbOriginal.setCharAt(isb, '"'); break;  // right double quote
             case ((int)'\u201E'):  sbOriginal.setCharAt(isb, '"'); break;  // double low quotation mark

             case ((int)'\u2039'):  sbOriginal.setCharAt(isb, '\''); break;  // Single Left-Pointing Quotation Mark
             case ((int)'\u203A'):  sbOriginal.setCharAt(isb, '\''); break;  // Single right-Pointing Quotation Mark

             case ((int)'\u02DC'):  sbOriginal.setCharAt(isb, '~'); break;  // Small Tilde

             case ((int)'\u2013'):  sbOriginal.setCharAt(isb, '-'); break;  // En Dash
             case ((int)'\u2014'):  sbOriginal.setCharAt(isb, '-'); break;  // EM Dash

             default: break;
             }
          }
       }

       public static String windows1252ToIso8859(String strOriginal)  {
          if (null==strOriginal) {
             return null;
          }
          StringBuilder sbOrig = new StringBuilder(strOriginal);
          windows1252ToIso8859(sbOrig);
          return sbOrig.toString();
       } 
    ```

4.  最后更改了我的 DAO 层的设置方法以使用上述实用程序，如下所示。

    ```
    public String getIncidentShrtDescC() {
        return this.incidentShrtDescC;
    }

    public void setIncidentShrtDescC(String incidentShrtDescC) {
        this.incidentShrtDescC = AppGlobalUtil.windows1252ToIso8859(incidentShrtDescC);
    } 
    ```

以上所有的组合有助于解决问题。希望这篇文章能帮助一些面临同样问题的流浪灵魂。

快乐编码。

# ruby - 从 Rake 获取 Ruby 环境变量

> ID：14457084
> 
> 赞同：10
> 
> 时间：2013-01-22T11:02:28.800
> 
> 标签：ruby, rake, environment-variables, rakefile

我有一个 Rakefile，其中包含部署或构建应用程序的任务。此 Rakefile 用于生产和开发。

我希望`build`任务知道环境是什么。这可以在我运行任务时不向任务传递参数的情况下完成吗？可以用环境变量来完成吗？

在开发时，我需要的任务是这样的：

```
task :build => :clean do
  compass compile -e development
  jekyll
end 
```

在生产中，像这样：

```
task :build => :clean do
  compass compile -e production
  jekyll
end 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-22T11:06:26.927

是的，您可以使用环境变量。这是骨架实现：

```
task :build do |t, args|
  puts "Current env is #{ENV['RAKE_ENV']}"
end 
```

用法：

```
% rake build
Current env is 

% RAKE_ENV=development rake build
Current env is development 
```

# unit-testing - 无法配置运行设置插件“VSTest 运行配置”的设置，因为它引发了以下异常：

> ID：14457097
> 
> 赞同：1
> 
> 时间：2013-01-22T11:02:57.793
> 
> 标签：unit-testing, visual-studio-2012

------ 发现测试开始 ------ 无法配置运行设置插件“VSTest 运行配置”的设置，因为它引发了以下异常：“找不到方法：'System.Collections.Generic.IEnumerable `1<System.String> Microsoft.VisualStudio.TestPlatform.Utilities.InferSettingsHelper.MergeRunSettingsAndFindCompatibleSources(Microsoft.VisualStudio.TestPlatform.ObjectModel.Architecture ByRef, Microsoft.VisualStudio.TestPlatform.ObjectModel.FrameworkVersion ByRef, System.String, System.String, System.Collections.Generic.IDictionary`2>，系统.Xml.XPath.IXPathNavigable，System.String ByRef)'。请联系插件作者。调用的目标已引发异常。========== 发现测试已完成：找到 0 个 (0:00:00) ==========

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-25T15:12:10.610

我通过自己的观察找到了解决方案。挖了2天，没有发现这个问题……
嗯，问题是因为vstest引擎没有更新造成的。当我为 Bhuvaneshwari K 实施“编写新的 Visual Studio 单元测试适配器”一文中提到的这些步骤时，对不起，管理员说我不能发布超过 2 个超链接，我更喜欢发布 Microsort 的链接解决方案。无论如何，您可以谷歌该文章以获取更多信息。
当我比较我的构建机器的 vstest 和我的本地测试机器时，我发现 vstest.console 的版本已经过时，尽管我在 Hellp=>About 菜单中看到已经为两台机器安装了 Update1相同的版本。所以，我想再次安装VS SDK并更新1，事实上，修复不是安装。所以我从这些链接安装了它们：
1- Microsoft Visual Studio 2012 SDK
[http://www.microsoft.com/en-us/download/details.aspx?id=30668](http://www.microsoft.com/en-us/download/details.aspx?id=30668)
2- Visual Studio 2012 Update 1 KB2707250 从链接：
[http://www.microsoft.com/en-us/download/details.aspx?id=35774](http://www.microsoft.com/en-us/download/details.aspx?id=35774)
3- 重启机器。
并且 XMLTestAdapter 在构建机器中的 VS2012 中就像一个魅力一样工作，尽管我遇到了 TFSBuild 的一些问题，以便在 TFS2012 下的映射文件夹中找到该适配器的 dll 的程序集。我将在新线程中发布一个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-23T22:59:14.417

我对这个问题的解决方案是我的 Windows 7 系统环境变量存在问题。

访问：

1.  开始菜单\控制面板\系统和安全\系统
2.  单击左侧的高级系统设置链接。
3.  选择“环境变量”

在“***的用户变量”部分中，单击“新建”。

*   变量名 = PROCESSOR_ARCHITECTURE
*   变量值 = AMD64（或您在同一窗口的同一相应“系统变量”区域中找到的任何内容。）

关闭/重新打开 Visual Studio 并重建您的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-22T16:39:28.497

解决这个问题的方法是将 System.Configuration.ConfigurationManager 包添加到我想要测试的类库中。

# java - 为什么 Selenium Server 找不到定位器

> ID：14457100
> 
> 赞同：1
> 
> 时间：2013-01-22T11:03:03.183
> 
> 标签：java, selenium, web-testing

我没有通过 Eclipse / Java / Selenium Server 2 找到定位器

```
Object el = findElement( "//table[@id='global_list']//tr//td[2]//a[text()='mytext']" );
//==> return null
String deb = findElement( "//table[@id='global_list']//tr//td[2]" ).getText();
//==> return 'mytext' 
```

我通过 FireFox 上的 firepath 扩展找到了定位器成功。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T16:04:14.303

```
driver.findElement(By.xpath("//table[@id='global_list']//tr//td[2]" )).click() 
```

尝试这个

```
String textElem=driver.findElement(By.xpath("//table[@id='global_list']//tr//td[2]" )).getText() 
```

或这个

```
driver.findElement(By.xpath("//*/a[contains(text(),'blablabla')])").click() 
```

我的项目中的进口清单： ![在此处输入图像描述](../Images/5b8ce3a5188a222bf51a21759cfc29df.png)

POM.xml 中的依赖项列表

```
 <dependencies>
<!--
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>3.8.1</version>
      <scope>test</scope>
    </dependency>
-->
      <dependency> <groupId>org.seleniumhq.selenium</groupId>
          <artifactId>selenium-java</artifactId>
          <version>2.24.1</version>
      </dependency>

      <dependency>
          <groupId>org.springframework</groupId>
          <artifactId>spring-core</artifactId>
          <version>3.0.0.RELEASE</version>
      </dependency>
      <dependency>
          <groupId>org.springframework</groupId>
          <artifactId>spring-expression</artifactId>
          <version>3.0.0.RELEASE</version>
      </dependency>
      <dependency>
          <groupId>org.springframework</groupId>
          <artifactId>spring-beans</artifactId>
          <version>3.0.0.RELEASE</version>
      </dependency>
      <dependency>
          <groupId>org.springframework</groupId>
          <artifactId>spring-context</artifactId>
          <version>3.0.0.RELEASE</version>
      </dependency>

      <!--<dependency>
          <groupId>log4j</groupId>
          <artifactId>log4j</artifactId>
          <version>1.2.4</version>
          <scope>test</scope>
      </dependency>
-->
      <dependency>
          <groupId> org.apache.cassandra</groupId>
          <artifactId>cassandra-all</artifactId>
          <version>0.8.1</version>
      </dependency>

      <dependency>
          <groupId>org.slf4j</groupId>
          <artifactId>slf4j-api</artifactId>
          <version>1.6.6</version>
      </dependency>
      <dependency>
          <groupId>org.slf4j</groupId>
          <artifactId>jcl-over-slf4j</artifactId>
          <version>1.6.6</version>
          <scope>runtime</scope>
      </dependency>
      <dependency>
          <groupId>org.slf4j</groupId>
          <artifactId>jul-to-slf4j</artifactId>
          <version>1.6.6</version>
          <scope>runtime</scope>
      </dependency>
      <dependency>
          <groupId>org.slf4j</groupId>
          <artifactId>log4j-over-slf4j</artifactId>
          <version>1.6.6</version>
          <scope>runtime</scope>
      </dependency>
      <dependency>
          <groupId>junit</groupId>
          <artifactId>junit</artifactId>
          <version>4.8.2</version>
      </dependency>

  </dependencies> 
```

希望现在这对你有用

# javascript - 如何从 JQuery Slider 获取当前滑块值？

> ID：14457106
> 
> 赞同：3
> 
> 时间：2013-01-22T11:03:18.820
> 
> 标签：javascript, jquery, jquery-ui, jquery-plugins

我正在使用 jquery 滑块，当一个滑块发生变化时，我想要所有滑块的当前值

**滑块代码：**

```
var slider = jQuery("<div class='slider'></div>").insertAfter(select)
        .slider({
            min : 0,
            max : 4,
            range : "min",
            value : select[0].selectedIndex + 1,
            slide : function(event, ui) {

            },
            change: function(event, ui) { 

            }
        }); 
```

**我试过这个：**

```
 change: function(event, ui) { 

            jQuery(".minbeds").each(function(){
                alert(jQuery(this).val());
            });          
        } 
```

但无论滑块的值是什么，它只会提醒值`1`。

![在此处输入图像描述](../Images/44bd00fe7da3f0d048a8ae486f328e14.png)

**更新：**

```
 jQuery(".slider").slider("value"); 
```

更改时会给出当前的滑块值，但我怎样才能获得所有滑块值。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T11:06:29.937

使用以下行访问滑块的当前值：

```
var val = $('#slider').slider("option", "value"); 
```

# php - PHP - 如果只剩下一个字符类型，则清空一个数组

> ID：14457108
> 
> 赞同：-1
> 
> 时间：2013-01-22T11:03:19.097
> 
> 标签：php

我需要检查数组中是否只剩下逗号和空格，以及是否是清空或销毁数组的情况。我怎样才能做到这一点？

例如我有一个这样的数组：

```
$array = (, , , ,) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:08:31.897

看看**我的功能：**

```
// my magic function
function array_contains_only(&$array, &$matches) {
    $tmp = 0;

    // loop through array
    foreach($array as $key => $val) {
        // check if value matches one of the matches
        // if so, increment $tmp
        if(in_array($val, $matches)) $tmp++;
    }

    // check if $tmp equals the length of $array,
    // if so, the array contains $matches only
    return (count($array) === $tmp);
} 
```

**用法：**

```
// dummy arrays
$demo1 = array(' ', ',', ' ', ',', ',');
$demo1 = array(' ', ',', ' ', ',', ',', '123');

// characters to match
$chars = array(' ', ',');

// check $demo1
if(array_contains_only($demo1, $chars)) $demo1 = array(); // create new array

// check $demo2
if(array_contains_only($demo2, $chars)) $demo2 = array(); // create new array

print_r($demo1); // new, empty array
print_r($demo2); // old array 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:12:31.377

```
$array = array(NULL, NULL, NULL, NULL, NULL);

$result = array_filter(
    $array,
    function ($value) {
        return !is_null($value);
    }
);

var_dump($result); 
```

# node.js - Compoundjs 中的问题“未定义适配器”

> ID：14457109
> 
> 赞同：1
> 
> 时间：2013-01-22T11:03:22.803
> 
> 标签：node.js, mongodb, npm, compoundjs

我是 CompoundJs 的新手，在运行应用程序时开发示例应用程序，它向我显示适配器未定义。它想安装

```
 npm install jugglingdb-mongoose 
```

在安装 npm 时它显示

```
 'jugglingdb-mongoose' is not in the npm registry.
     npm ERR! 404 You should bug the author to publish it 
```

有什么方法可以安装这些 npm。

如何解决这个问题。任何人都可以帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T14:20:18.057

没有猫鼬适配器，请改用 jugglingdb-mongodb 适配器。

# android - 使用 Post 从服务器读取大型 xml 文件时内存不足

> ID：14457110
> 
> 赞同：0
> 
> 时间：2013-01-22T11:03:27.350
> 
> 标签：android

我正在使用下面的代码从服务器获取 xml 文件，由于 xml 文件又大又重，它崩溃并显示内存不足问题。

```
 public class Connect {

   static BufferedReader in=null;
   String result=null;
   Context context;
   //Establish connection with web server
      public String HTTPConnect(String uri1,List<NameValuePair> list,Context context)
      {

    this.context=context;
    try {

        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(uri1);

        if(list!=null)
        {
        UrlEncodedFormEntity formEntity = new UrlEncodedFormEntity(list);

        httpPost.setEntity(formEntity);
        }

        HttpResponse httpResponse = httpClient.execute(httpPost);
       in = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));
        StringBuffer sb = new StringBuffer("");
        String line = "";
        String NL = System.getProperty("line.separator");

        long heapSize = Runtime.getRuntime().totalMemory();

        if(in!=null)
        {
            while ((line = in.readLine()) != null) {//crasheg here
              sb.append(line + NL);
            }
            in.close();
        }

        result = sb.toString();

}
    catch(UnsupportedEncodingException e)
    {
        String err = (e.getMessage()==null)?"Cant connect to server":e.getMessage();

        ShowDialog();
    }
    catch (MalformedURLException e) {
        String err = (e.getMessage()==null)?"Malformed Exception":e.getMessage();

        ShowDialog();
     } 
     catch(Exception ex)
     {

         String err = (ex.getMessage()==null)?"NetworkConnectionException":ex.getMessage();

         ShowDialog();
     }
    finally {
        if (in != null) {
            try {
                    in.close();
             } catch (Exception ex) {
                 String err = (ex.getMessage()==null)?"Excepion":ex.getMessage();

                 ex.printStackTrace();

            }
        }

     }

    return result;

   } 
```

我知道我正在将整个 XML 复制到 String 中，并且由于文件繁重，它会崩溃。它在小尺寸的 XML 文件中工作正常，但大 xml 文件的替代品是什么。我正在使用 SAX 解析器来解析这个 xml 文件。

[编辑] 下面是 logcat：

```
 FATAL EXCEPTION: AsyncTask #4
 java.lang.RuntimeException: An error occured while executing doInBackground()
 at android.os.AsyncTask$3.done(AsyncTask.java:200)
 at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
 at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
 at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
 at java.util.concurrent.FutureTask.run(FutureTask.java:137)
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)
 at java.lang.Thread.run(Thread.java:1096)
 Caused by: java.lang.OutOfMemoryError
 java.lang.AbstractStringBuilder.enlargeBuffer(AbstractStringBuilder.java:97)
 java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:136)
 java.lang.StringBuilder.append(StringBuilder.java:272)
 java.io.BufferedReader.readLine(BufferedReader.java:452)
 com.kxs.appitize.Connect.HTTPConnect(Connect.java:56)
 com.kxs.appitize.ListRestaurants$Asyn_rest.doInBackground(ListRestaurants.java:168)
 com.kxs.appitize.ListRestaurants$Asyn_rest.doInBackground(ListRestaurants.java:1)
 01-at android.os.AsyncTask$2.call(AsyncTask.java:185)
 at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
  Activity com.kxs.appitize.TabsMainActivity has leaked window    com.android.internal.policy.impl.PhoneWindow$DecorView@44f4fb28 that was originally added here
 android.view.WindowLeaked: Activity com.kxs.appitize.TabsMainActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@44f4fb28 that was originally added here
 at android.view.ViewRoot.<init>(ViewRoot.java:247)
 at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:148)
 at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
 at android.view.Window$LocalWindowManager.addView(Window.java:424)
 at android.app.Dialog.show(Dialog.java:241)
 at com.kxs.appitize.ListRestaurants$Asyn_rest.onPreExecute(ListRestaurants.java:156)
 at android.os.AsyncTask.execute(AsyncTask.java:391)
 at com.kxs.appitize.ListRestaurants.onCreate(ListRestaurants.java:133)
 at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
 at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
 at android.app.ActivityThread.startActivityNow(ActivityThread.java:2503)
 at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:127)
 at android.app.LocalActivityManager.startActivity(LocalActivityManager.java:339)
at com.kxs.appitize.TabGroupActivity.startChildActivity(TabGroupActivity.java:72)
  at com.kxs.appitize.ListCategories$1.onClick(ListCategories.java:109)
 at android.view.View.performClick(View.java:2408)
 at android.view.View$PerformClick.run(View.java:8816)
 at android.os.Handler.handleCallback(Handler.java:587)
  at android.os.Handler.dispatchMessage(Handler.java:92)
 at android.os.Looper.loop(Looper.java:123)     
 at android.app.ActivityThread.main(ActivityThread.java:4627)
 at java.lang.reflect.Method.invokeNative(Native Method)
 java.lang.reflect.Method.invoke(Method.java:521)
 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
 at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:19:50.787

尝试使用 inputStream 来解析 XML。inputStrem 不会增加 Android 堆栈大小，并且可以防止大字符串出现 OOM。我对大型 JSON 也有同样的看法，现在，我使用 Jackson 直接从 Stream 解析 JSON。

您可以找到用于解析 XML 的等效库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:21:21.517

> 将整个 XML 复制到 String 中并且由于文件繁重

馊主意。首先，您需要将 xml 缓存在一个临时目录中。它永远不应该在 RAM 中。

一旦你这样做了，使用 SAX 来解析文件。在解析过程中，尽量不要将整个结构保留在 RAM 中，而是以一口大小的块进行解析。

# android - 从浏览器按下后会删除我所有的变量值

> ID：14457114
> 
> 赞同：0
> 
> 时间：2013-01-22T11:03:44.570
> 
> 标签：android, android-intent, android-browser

我有 button.Onclicking 按钮它 cals->选择浏览器->在选择浏览器时它会加载我的 Url。从浏览器返回时，我以前在本地设置的所有变量值都被清除。变量具有用它们初始化的值。例如：

我=0。

内部方法我分配 i=10

现在调用浏览器//我使用此代码调用浏览器

```
Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(strUrl));

intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);

startActivity(Intent.createChooser(intent, "Choose browser")); 
```

它加载网址//

现在回到活动中

变量 (i) 值变为 0。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:12:21.363

将变量声明为静态

```
static int i = 0; 
```

这不会将 i 重置为零。后按

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:21:24.187

您需要更好地了解 Activity 的生命周期。当您离开并从 Activity 状态返回时不会自动持久化。

Android 生命周期：http: [//developer.android.com/training/basics/activity-lifecycle/index.html](http://developer.android.com/training/basics/activity-lifecycle/index.html)

当您返回 Activity 时，您应该使用 onSavedInstanceState 来恢复您的状态。这是（链接的）文档给出的代码示例：

```
static final String STATE_SCORE = "playerScore";
static final String STATE_LEVEL = "playerLevel";
...

@Override
public void onSaveInstanceState(Bundle savedInstanceState) {
    // Save the user's current game state
    savedInstanceState.putInt(STATE_SCORE, mCurrentScore);
    savedInstanceState.putInt(STATE_LEVEL, mCurrentLevel);

    // Always call the superclass so it can save the view hierarchy state
    super.onSaveInstanceState(savedInstanceState);
} 
```

# c++ - C++ - 未分配被释放的指针

> ID：14457118
> 
> 赞同：3
> 
> 时间：2013-01-22T11:03:55.983
> 
> 标签：c++, copy-constructor, allocation

我正在尝试将具有指针成员的对象存储在 std::vector 中。据我了解，当调用 push_back 时，会制作传递对象的临时副本并将其发送到向量内部存储器，然后将其销毁。因此，我编写了如下所示的复制构造函数：

```
class MeltPoint
{
public:
    MeltPoint();
    MeltPoint(b2Vec2* point);
    MeltPoint(b2Vec2* point, Segment* segment, bool intersection);
    MeltPoint(MeltPoint const& copy);
    MeltPoint& operator= (const MeltPoint& m);
    ~MeltPoint();
private:
    b2Vec2* point;
    Segment* segment;
    bool intersection;
};

MeltPoint::MeltPoint()
{
    CCLog("MeltPoint DEFAULT CONSTRUCTOR");
}

MeltPoint::MeltPoint(b2Vec2* point)
{
    CCLog("MeltPoint CONSTRUCTOR");
    this->point = new b2Vec2();
    *(this->point) = *point;
    this->segment = new Segment();
    this->intersection = false;
}

MeltPoint::MeltPoint(b2Vec2* point, Segment* segment, bool intersection)
{
    this->point = point;
    this->segment = segment;
    this->intersection = intersection;
}

MeltPoint::MeltPoint(MeltPoint const& copy)
{
    CCLog("MeltPoint COPY");
    point = new b2Vec2();
    *point = *copy.point;

    segment = new Segment();
    *segment= *copy.segment;
}

MeltPoint& MeltPoint::operator= (const MeltPoint& m)
{
CCLog("MeltPoint ASSIGNMENT");
    *point = *m.point;
    *segment = *m.segment;
    return *this;
}

MeltPoint::~MeltPoint()
{
    CCLog("MeltPoint DESTRUCTOR");
    delete this->point;
    delete this->segment;
} 
```

b2Vec2（Box2D 框架）是一个简单地保存 2D 坐标的结构

Segment 是一个自定义类：

```
class Segment
{
public:
    Segment();
    Segment(b2Vec2* firstPoint, b2Vec2* secondPoint);
    ~Segment();

private:
    b2Vec2* firstPoint;
    b2Vec2* secondPoint;
};

Segment::Segment()
{
    CCLog("Segment DEFAULT CONSTRUCTOR");
    this->firstPoint = new b2Vec2(0, 0);
    this->secondPoint = new b2Vec2(0, 0);
}

Segment::Segment(b2Vec2* firstPoint, b2Vec2* secondPoint)
{
    CCLog("Segment CONSTRUCTOR");
    this->firstPoint = firstPoint;
    this->secondPoint = secondPoint;
}

Segment::~Segment()
{
    CCLog("Segment DESTRUCTOR");
    delete firstPoint;
    delete secondPoint;
} 
```

在某些函数中，我正在填充向量：

```
void someFunction()
{
    vector<MeltPoint> randomVertices;
    randomVertices.push_back(MeltPoint(new b2Vec2(190, 170))); //10
    randomVertices.push_back(MeltPoint(new b2Vec2(70, 110))); //9
} 
```

最后的输出：

```
MeltPoint CONSTRUCTOR
Segment DEFAULT CONSTRUCTOR
MeltPoint COPY
Segment DEFAULT CONSTRUCTOR
MeltPoint DESTRUCTOR
Segment DESTRUCTOR
MeltPoint CONSTRUCTOR
Segment DEFAULT CONSTRUCTOR
MeltPoint COPY
Segment DEFAULT CONSTRUCTOR
MeltPoint COPY
Segment DEFAULT CONSTRUCTOR
MeltPoint DESTRUCTOR
Segment DESTRUCTOR
MeltPoint DESTRUCTOR
Segment DESTRUCTOR
test(1074,0xac7d9a28) malloc: *** error for object 0x844fd90: pointer being freed was not allocated
*** set a breakpoint in malloc_error_break to debug
test(1074,0xac7d9a28) malloc: *** error for object 0x844fda0: pointer being freed was not allocated
*** set a breakpoint in malloc_error_break to debug 
```

在段析构函数中引发了错误，但我在构造函数中为两个指针成员分配了一个新成员。你能帮我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:20:01.600

`Segment`违反[三法则](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three)。它缺少用户定义的复制构造函数和复制赋值运算符。每当您复制一个副本时，最终都会被双重删除。

一种解决方法可能是遵循三规则并编写复制构造函数和复制赋值运算符。但我不建议这样做。我会建议遵循[零规则](http://u.rmf.io/ro0)。任何地方都不需要自定义析构函数或自定义复制构造函数。只是放弃使用动态内存分配的想法。

```
class MeltPoint
{
public:
    MeltPoint();
    MeltPoint(b2Vec2 const& point);
    MeltPoint(b2Vec2 const& point, Segment const& segment, bool intersection);

private:
    b2Vec2 point;
    Segment segment;
    bool intersection;
};

MeltPoint::MeltPoint(b2Vec2 const& point)
: point(point), segment(), intersection(false) {}

MeltPoint::MeltPoint(b2Vec2 const& point, Segment const& segment, bool intersection)
: point(point), segment(segment), intersection(intersection) {}

class Segment
{
public:
    Segment();
    Segment(b2Vec2 const& firstPoint, b2Vec2 const& secondPoint);

private:
    b2Vec2 firstPoint;
    b2Vec2 secondPoint;
};

Segment::Segment()
: firstPoint(0, 0), secondPoint(secondPoint) {}

Segment(b2Vec2 const& firstPoint, b2Vec2 const& secondPoint)
: firstPoint(firstPoint), secondPoint(secondPoint) {}

void someFunction()
{
    vector<MeltPoint> randomVertices;
    randomVertices.push_back(MeltPoint(b2Vec2(190, 170))); //10
    randomVertices.push_back(MeltPoint(b2Vec2(70, 110))); //9
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T13:42:25.710

是的，我同意缺少的复制构造函数和赋值运算符是问题的根本原因。“零规则”确实解决了这个问题。

我们可能想在堆上构造对象（特别是如果像段这样的类在内存布局方面是一个沉重的对象）。在这种情况下，使用智能指针将是一个好主意。这也将处理内存取消分配。这也满足“零规则”

上面的例子是使用智能指针解决的：

```
void CCLog(const char* const X)
{
    std::cout << X << endl;
}

struct b2Vec2 {};

class Segment
{
public:
    Segment();
    Segment(b2Vec2* firstPoint, b2Vec2* secondPoint);
    ~Segment();

private:
    std::shared_ptr<b2Vec2> firstPoint;
    std::shared_ptr<b2Vec2> secondPoint;
};

class MeltPoint
{
public:
    MeltPoint();
    MeltPoint(b2Vec2* point);
    MeltPoint(b2Vec2* point, Segment* segment, bool intersection);
    MeltPoint(MeltPoint const& copy);
    MeltPoint& operator= (const MeltPoint& m);
    ~MeltPoint();
private:
    std::shared_ptr<b2Vec2> point;
    std::shared_ptr<Segment> segment;
    bool intersection;
};

MeltPoint::MeltPoint()
{
    CCLog("MeltPoint DEFAULT CONSTRUCTOR");
}

MeltPoint::MeltPoint(b2Vec2* point)
{
    CCLog("MeltPoint CONSTRUCTOR");
    this->point = std::make_shared<b2Vec2>();
    this->point.reset(point);

    this->segment = std::make_shared<Segment>();
    this->intersection = false;
}

MeltPoint::MeltPoint(b2Vec2* point, Segment* segment, bool intersection)
{
    this->point = std::make_shared<b2Vec2>();
    this->point.reset(point);

    this->segment = std::make_shared<Segment>();
    this->segment.reset(segment);
    this->intersection = intersection;
}

MeltPoint::MeltPoint(MeltPoint const& copy)
{
    CCLog("MeltPoint COPY");
    this->point = copy.point;
    this->segment = copy.segment;
    this->intersection = copy.intersection;

}

MeltPoint& MeltPoint::operator= (const MeltPoint& m)
{
    CCLog("MeltPoint ASSIGNMENT");
    point = m.point;
    segment = m.segment;
    return *this;
}

MeltPoint::~MeltPoint()
{
    CCLog("MeltPoint DESTRUCTOR");
}

Segment::Segment()
{
    CCLog("Segment DEFAULT CONSTRUCTOR");
    this->firstPoint = std::make_shared<b2Vec2>();
    this->secondPoint = std::make_shared<b2Vec2>();
}

Segment::Segment(b2Vec2* firstPoint, b2Vec2* secondPoint)
{
    CCLog("Segment CONSTRUCTOR");
    this->firstPoint = std::make_shared<b2Vec2>();
    this->firstPoint.reset(firstPoint);

    this->secondPoint = std::make_shared<b2Vec2>();
    this->secondPoint.reset(secondPoint);
}

Segment::~Segment()
{
    CCLog("Segment DESTRUCTOR");
}

int _tmain(int argc, _TCHAR* argv[])
{
    vector<MeltPoint> randomVertices;
    randomVertices.push_back(MeltPoint(new b2Vec2())); //10
    randomVertices.push_back(MeltPoint(new b2Vec2())); //9
    return 0;
} 
```

# php - CakePHP findList 不返回聚合值

> ID：14457123
> 
> 赞同：2
> 
> 时间：2013-01-22T11:04:10.390
> 
> 标签：php, mysql, cakephp

以下查询返回一个包含正确 id 的数组，但所有值都为 null。

如果我删除聚合函数`AVG()`（`find('all')`先做`'list'`）。

```
$progress = $this->Trial->find('list', array(
    'fields' => array(
        'Trial.session_id',
        'AVG(Trial.first_reaction_time_since_probe_shown) AS average_reaction_time'
    ),
    'group' => 'Trial.session_id',
    'conditions' => array(
        'Trial.first_valid_response = Trial.probe_on_top',
        'TrainingSession.user_id IS NOT NULL'
    ),
    'contain' => array(
        'TrainingSession' => array(
            'conditions' => array(
                'TrainingSession.user_id' => $this->Auth->user('id') 
            )
        )
    ),
    'recursive' => 1,
)); 
```

当我通过 PhpMyAdmin 将生成的 SQL 查询发送到数据库时，它会返回我想要的结果。

```
SELECT 
    `Trial`.`session_id`, 
    AVG(`Trial`.`first_reaction_time_since_probe_shown`) AS average_reaction_time 
FROM 
    `zwang`.`trials` AS `Trial` 
LEFT JOIN 
    `zwang`.`training_sessions` AS `TrainingSession` ON (
        `Trial`.`session_id` = `TrainingSession`.`id` AND
        `TrainingSession`.`user_id` = 1
    )
WHERE 
    `Trial`.`first_valid_response` = `Trial`.`probe_on_top` 
GROUP BY 
    `Trial`.`session_id` 
```

我检查[了 find('list') 的来源](http://api20.cakephp.org/view_source/model#line-2692)。我认为这是由于在查询中使用函数时访问列表的“数组路径”搞砸了，但我还不能修复它（或者认识到我滥用 CakePHP 逻辑）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:10:46.817

一旦我发布了这个问题，Stackoverflow 就开始将[正确的答案](https://stackoverflow.com/a/11856034/263054)与我联系起来。

显然，`'list'`没有`virtualFields`.
我没想到会这样，因为它可以使用其他查找类型。

```
$this->Trial->virtualFields = array(
    'average_reaction_time' => 'AVG(Trial.first_reaction_time_since_probe_shown)'
);
$progress = $this->Trial->find('list', array(
    'fields' => array('Trial.session_id','average_reaction_time')
    /* etc... */ 
)); 
```

# php - JPEG 上的 PHP 覆盖 GIF

> ID：14457129
> 
> 赞同：0
> 
> 时间：2013-01-22T11:04:27.617
> 
> 标签：php, gd

目前，我正在使用 Shay Anderson 的课程（http://www.shayanderson.com/php/php-barcode-generator-class-code-39.htm）生成条形码，并且我能够成功显示生成的条形码浏览器如下：

```
$bc = new PrintBarcode('DARP CODE');
$bc->drawVoucher();
$src = $bc->getVoucher();

// Output and free from memory
header('Content-Type: image/jpeg');
imagejpeg($src); 
```

但现在我正在尝试修改我的脚本以将条形码覆盖在另一个图像之上以创建凭证但我似乎无法让它工作，我只是在 Chrome 中得到损坏的图像图标，并在控制台中显示以下警告：

`Resource interpreted as Document but transferred with MIME type image/jpeg`

```
$bc = new PrintBarcode('DARP CODE');
$bc->drawVoucher();
$src = $bc->getVoucher();

header('Content-Type: image/jpeg');

// create actual voucher with barcode overlayed on voucher background 
$bg  = imagecreatefromjpeg('images/voucher.jpg');

imagecopymerge($bg, $src, 0, 0, 0, 0, imagesx($bg), imagesy($bg), 75);

imagejpeg($bg, null, 100);

imagedestroy($bg); 
```

错误报告已开启，我没有收到警告、通知或致命错误。任何帮助表示赞赏。

我唯一能想到的是，从条形码类的文档中，它将条形码生成为 gif，所以不确定我是否遗漏了几个步骤。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T13:17:54.127

原来问题在于我用作合并基础的图像不太正确，所以我将它从 png 正确转换为 jpg（第一次下载 png 我只是简单地保存了所有文件到jpeg）使用photoshop，这很好，澄清一下，这是代码：

```
$bc = new PrintBarcode('DARP CODE');
$bc->drawVoucher();
$src = $bc->getVoucher();

header('Content-Type: image/jpeg');

$bg  = imagecreatefromjpeg('images/voucher.jpg');

imagecopymerge($bg, $src, 40, 380, 0, 0, imagesx($bg), imagesy($bg), 100);

imagejpeg($bg, null, 100);

imagedestroy($src);
imagedestroy($bg); 
```

# android - PC 到 Android 架构选择：蓝牙 X Wi-fi

> ID：14457131
> 
> 赞同：0
> 
> 时间：2013-01-22T11:04:43.317
> 
> 标签：android, architecture, bluetooth, wifimanager, wifi-direct

我有一个需求：构建一个允许离线终端（它是 PC）连接到服务器的系统。为此，我们决定将数据上传到安卓 3G 智能手机，并通过网络将数据发送到服务器，检索响应并发送到终端。请看下面的方案：

GOING TERMINAL --(?)--> Android App --(HTTP)--> 服务器

BACK 服务器 -- (HTTP) --> Android App --(?)--> 终端

我们有一些限制：

1 - 终端被锁定，直到 android 从服务器发送响应（It´sa 同步消息） 2 - 我们只有文本内容。3 - 终端连接的地方没有网络信号。4 - 我们必须提供可能的最低安全级别。5 - 终端应用程序将使用 PHP 开发。

所以，我的问题是：我必须将终端连接到电脑才能从安卓手机发送和检索信息。我应该使用蓝牙还是建立一个 wi-fi 网络（具有 android 手机内置功能）来连接它们？

有人有这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T23:01:57.867

我决定使用蓝牙，因为使用蓝牙创建客户端-服务器应用程序比以编程方式开发“Wi-Fi 点”更容易，而且蓝牙加密狗比旧电脑中的 Wi-Fi 模块便宜。

# dashboard - Jasperserver - 仪表板

> ID：14457134
> 
> 赞同：0
> 
> 时间：2013-01-22T11:04:50.063
> 
> 标签：dashboard, jasperserver

如何删除 jasperserver-pro webapp 的登录页面。我想将 jasperserver 仪表板作为 iframe 嵌入到外部仪表板（jasperserver 外部）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-26T10:35:33.060

有2个选项：

*   您允许匿名访问仪表板
*   您设置了某种形式的身份验证：
    *   传递`j_username`和`j_password`作为 URL 参数
    *   使用 cas 或 siteminder 等单点登录
    *   创建自定义身份验证。

有一个 JasperReports 服务器的身份验证手册，描述了使用 cas 的单点登录，最终指南提供了有关自定义身份验证的详细信息（请参阅[文档](http://community.jaspersoft.com/documentation?version=6263)），在 jaspersoft 社区 wiki 中，您将找到更多示例，例如[siteminder](http://community.jaspersoft.com/wiki/siteminder-configuring-and-integrating-it-jasperreports-server)。

# sql - SQL select * 基于另一个表中的两个日期

> ID：14457150
> 
> 赞同：0
> 
> 时间：2013-01-22T11:05:37.393
> 
> 标签：sql, select, plsql

> **可能重复：**
> [确定两个日期范围是否重叠](https://stackoverflow.com/questions/325933/determine-whether-two-date-ranges-overlap)

我正在尝试创建一个查询，该查询根据预订表中是否有预订来选择一个表中的所有汽车。目前我有这个效果很好，直到我把预订日期减去一天和预订两个日期加上一天。因为我使用的是 equals，所以它会显示在该日期范围内预订的汽车。

如果我在预订表中有一辆从 2013 年 1 月 22 日到 2013 年 1 月 25 日的汽车，并且用户输入 2013 年 1 月 20 日的从和 13 年 1 月 27 日，汽车将不会出现在结果中。

```
SELECT   *
FROM vehicles, car_model, manufacture
WHERE NOT EXISTS (SELECT *
                  FROM booking
                  WHERE vehicles.reg_number = booking.reg_number
                  AND booking.date_from = '22-JAN-13'
                  AND booking.date_to = '23-JAN-13'
                  AND booking.booking_status = 1)
AND vehicles.model_code = car_model.model_code
AND car_model.manufacture_code = manufacture.manufacture_code; 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T13:22:00.070

使用`BETWEEN`运算符 -`SELECT ... WHERE ... BETWEEN start_date AND end_date...`

# android - Android：使用 INTEGER 填充 TextView

> ID：14457151
> 
> 赞同：-4
> 
> 时间：2013-01-22T11:05:39.737
> 
> 标签：android

我正在编写一个 android 代码，其中文本视图由我的 java 类中的计算百分比填充。

因为我必须计算 %，所以我的最终变量 (calcPerc) 是双精度类型的变量。它不会在我的 TextView 中设置文本。请帮忙。

代码

```
int totDiff = (totalMA - totalIA);
    double beforeperc = ((double)totDiff / (double)totalIA);
    calPerc = ((double)beforeperc*100);

    percentage = (TextView)findViewById(R.id.populatePercentage);
    percentage.setText(calPerc); 
```

我得到的错误是

> TextView 类型中的方法 setText(CharSequence) 不适用于参数（双精度）

另外，还有一个后续问题。变量“calPerc”是双精度的，在小数点后给我无限位数。我如何将其四舍五入到小数点后两位？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:13:52.813

这应该为您当前的语言环境正确格式化显示值（最多 2 个小数）；

```
NumberFormat twoDecimals = NumberFormat.getInstance(); 
twoDecimals.setMaximumFractionDigits(2);
percentage.setText(twoDecimals.format(calPerc)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:08:07.190

要更好地控制格式（例如限制小数点后的位数），您可以使用`String.format()`：

```
percentage.setText(String.format("%.2f %%", calPerc)); 
```

但[请注意默认语言环境](http://developer.android.com/reference/java/util/Locale.html#default_locale)。

# c - 具有函数指针和 void 指针成员的结构的内存分配错误

> ID：14457152
> 
> 赞同：2
> 
> 时间：2013-01-22T11:05:43.327
> 
> 标签：c, memory-management, function-pointers, void-pointers

我编写了一个简单的 C 代码，它使用引擎根据用户输入运行两种不同的算法。它使用指向算法方法和对象的函数指针。在某处我无法追踪到一个令人讨厌的内存错误，所以也许我以错误的方式分配内存。出了什么问题？

下面是（相关部分）代码的最小工作示例。

**主程序**

```
#include "engine.h"

int main()
{
  char *id = "one";

  Engine_t eng;

  Engine_init(&eng);
  Engine_select_algorithm(eng, id);
  Engine_run(eng);
} 
```

**引擎.h**

```
typedef struct _Engine *Engine_t; 
```

**引擎.c**

```
#include "engine.h"
#include "algorithm_one.h"
#include "algorithm_two.h"

typedef struct _Engine
{ 
  void *p_algorithm;

  void (*init)(Engine_t);
  void (*run)(Engine_t);

} Engine;

void Engine_init(Engine_t *eng)
{
  *eng = malloc(sizeof(Engine));

  (*eng)->p_algorithm = NULL;
}

void Engine_select_algorithm(Engine_t eng, char *id)
{
  if ( strcmp(id, "one") == 0 )
    {
      eng->init = Algorithm_one_init;
      eng->run  = Algorithm_one_run;
    }
  else if ( strcmp(id, "two") == 0 )
    {
      eng->init = Algorithm_two_init;
      eng->run  = Algorithm_two_run;
    }
  else
    {
      printf("Unknown engine %s.\n", id); exit(0);
    }

  eng->init(eng);
}

void Engine_run(Engine_t eng)
{
  eng->run(eng);
}

void Engine_set_algorithm(Engine_t eng, void *p)
{
  eng->p_algorithm = p;
}

void Engine_get_algorithm(Engine_t eng, void *p)
{
  p = eng->p_algorithm;
} 
```

**算法_one.h**

```
typedef struct _A_one *A_one_t; 
```

**algorithm_one.c**

```
#include "engine.h"
#include "algorithm_one.h"

typedef struct _A_one
{ 
  float value;
} A_one;

void Algorithm_one_init(Engine_t eng)
{
  A_one_t aone;
  aone = malloc(sizeof(A_one));
  aone->value = 13.0;

  //int var = 10;

  Engine_set_algorithm(eng, &aone);
}

void Algorithm_one_run(Engine_t eng)
{  
  A_one_t aone;
  Engine_get_algorithm(eng, &aone);

  printf("I am running algorithm one with value %f.\n", aone->value);
  // The code for algorithm one goes here.
} 
```

**algorithm_two.h**和**algorithm_two.c**的代码与算法一文件相同。

一定存在内存错误，因为代码按给定的方式运行，但如果我取消注释

```
//int var = 10; 
```

**algoritm_one.c**中的行代码因分段错误而崩溃。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:14:56.853

你把错误的东西传递给`Engine_set_algorithm`. 您传递的是局部变量的地址，而不是算法的地址。你需要写：

```
Engine_set_algorithm(eng, aone); 
```

而且也是`Engine_get_algorithm`错的。您通过值传递一个指针并修改该指针。所以调用者看不到那个修改。你需要它是：

```
void Engine_get_algorithm(Engine_t eng, void **p)
{
  *p = eng->p_algorithm;
} 
```

我认为如果您定义一个类型来表示算法，您的代码会更容易。该类型只是 a `void*`，但它会使代码更易于阅读。更重要的是，我会`Engine_get_algorithm`返回算法。

```
algorithm Engine_get_algorithm(Engine_t eng)
{
    return eng->p_algorithm;
}

void Engine_set_algorithm(Engine_t eng, algorithm alg)
{
    eng->p_algorithm = alg;
} 
```

# html - 如何使用 curl 向 github API 发送消息？

> ID：14457154
> 
> 赞同：2
> 
> 时间：2013-01-22T11:05:52.010
> 
> 标签：html, .net, curl

我正在尝试像这样修改标签颜色：[LABEL API](http://developer.github.com/v3/issues/labels/)

```
curl -k -u "xx:yy" https://api.github.com/repos/xx/zz/labels -H "Content-Type: application/x-www-form-urlencoded" -d "{'name':'Bug','color':'ff00ff'}" 
```

格式对我来说看起来不错，但它返回：

```
{
  "message": "Problems parsing JSON"
} 
```

有谁知道我的 Json 可能有什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:13:39.613

你应该使用`Content-Type: application/json`.

# android - facebook 错误：必须使用活动访问令牌来查询有关当前用户的信息

> ID：14457159
> 
> 赞同：0
> 
> 时间：2013-01-22T11:06:09.860
> 
> 标签：android, facebook, facebook-javascript-sdk

我第一次使用 facebook SDK 登录时，它可以正常工作。但是当我尝试注销并再次登录时，会出现 facebook 错误。错误是`"Facebook error: an active access token must be used to query information about the current user"`并且`getAccessToken()`返回为空。任何答案和评论将不胜感激。

**登录Activity.java**

```
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
        if (APP_ID == null) {
        Util.showAlert(this, "Warning", "Facebook Application ID must be specified before running");
    }
    try {
       PackageInfo info = getPackageManager().getPackageInfo("com.ff.fbin", PackageManager.GET_SIGNATURES);
       for (Signature signature : info.signatures) {
            MessageDigest md = MessageDigest.getInstance("SHA");
            md.update(signature.toByteArray());
            Log.e("TAG", "Reverse FB key: "+Base64Coder.encodeLines(md.digest()));
       }
    } catch (NameNotFoundException e) {

    } catch (NoSuchAlgorithmException e) {

    }

    mLoginButton = (LoginButton) findViewById(R.id.login);
    mFacebook = new Facebook(APP_ID);
    mAsyncRunner = new AsyncFacebookRunner(mFacebook);
    SessionStore.restore(mFacebook, this);
    SessionEvents.addAuthListener(new SampleAuthListener());
    SessionEvents.addLogoutListener(new SampleLogoutListener());
    mLoginButton.init(this, mFacebook, mPermissions);
 }

@Override
protected void onActivityResult(int requestCode, int resultCode,
                                Intent data) {
    mFacebook.authorizeCallback(requestCode, resultCode, data);

    boolean isLogined = mFacebook.isSessionValid();
    Log.i(TAG, "getAccessToken, onActivity:" +mFacebook.getAccessToken());

    if (isLogined){
        mAsyncRunner.request("me", new SampleRequestListener());
    }
}

public class SampleRequestListener extends BaseRequestListener {

    @Override
    public void onComplete(final String response, final Object state) {
        try {
            Log.d(TAG, "Response2: " + response.toString());
            JSONObject json = Util.parseJson(response);

            //Retrieve user information from facebook

final Runnable mUpdateResultsSuccess = new Runnable() {
    @Override
    public void run() {
        updateResultsInUiSuccess();
    }
};

private void updateResultsInUiSuccess() {
        if (loginSuccess){
            Log.i(TAG, "Login FB done");
            finish();
            Intent intent2 = new Intent(LoginScreen.this, MainMenu.class);
            helper.insert_user(mFacebook.getAccessToken());
            intent2.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            startActivity(intent2);

        } else {
            loading_text.setText("Error Processing");
            Log.i(TAG, "Login FB failed");
            try {
                mFacebook.logout(this);
            } catch (MalformedURLException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
                Log.e(TAG, "MalformedURLException: "+e.getMessage());
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
                Log.e(TAG, "IOException: "+e.getMessage());
            }
            SessionStore.clear(this);
            pDialog.dismiss();
            Toast.makeText(LoginScreen.this, "Login Failed. Please try again", Toast.LENGTH_LONG).show();
        }
}

public class SampleAuthListener implements com.ff.fbin.SessionEvents.AuthListener {

    @Override
    public void onAuthSucceed() {
        Log.i(TAG, "You have logged in! ");

        boolean isLogined = mFacebook.isSessionValid();
        Log.i(TAG, "isLogined: "+isLogined);

        if(!isFinishing()){

        };

        if (isLogined){
            mAsyncRunner.request("me", new SampleRequestListener());
            pDialog.setMessage("Login in process......");
            pDialog.show();
        }

    }

    @Override
    public void onAuthFail(String error) {
        Log.i(TAG, "Login Failed: " + error);
        Toast.makeText(getApplicationContext(), "Login Failed: " + error, Toast.LENGTH_LONG).show();
        pDialog.dismiss();
    }
}

public class SampleLogoutListener implements com.ff.fbin.SessionEvents.LogoutListener {
    @Override
    public void onLogoutBegin() {
        Log.i(TAG, "Logging out...");
    }

    @Override
    public void onLogoutFinish() {
        Log.i(TAG, "You have logged out! ");
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T08:05:28.400

问题解决了，显然问题来自这些 sessionEvents。`SessionEvents.addAuthListener(new SampleAuthListener()); SessionEvents.addLogoutListener(new SampleLogoutListener());`

我删除了上面的代码并将 SessionStore.restore 移动到 onResume 并且它没有错误地工作。上面的代码继续创建新的 SampleAuthListener() 并使其堆叠在一起并多次执行相同的操作。这就是我的项目导致 facebook 错误的原因。

# java - Xalan 调用用户 Java 函数

> ID：14457179
> 
> 赞同：1
> 
> 时间：2013-01-22T11:07:14.863
> 
> 标签：java, call, xalan

我尝试了几个测试，我搜索任何解决方案，但我找不到任何东西。我必须在 XSLT 中调用我的 Java 函数。我认为最好的最后一个解决方案如下，我声明我的班级

夏兰：

```
 <xsl:stylesheet version="2.0" xmlns:fo="http://www.w3.org/1999/XSL/Format"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:xalan="http://xml.apache.org/xalan"
    xmlns:printAnno="StampaAnnoUtil"
    extension-element-prefixes="printAnno">

<xalan:component prefix="printAnno"
        elements="isStampaAnno" functions="isStampaAnno">
        <xalan:script lang="javaclass" src="java:it.dpe.common.util.StampaAnnoUtil"/>
    </xalan:component> 
```

我调用我的函数：

```
<xsl:value-of select="printAnno:isStampaAnno()"/> 
```

我直接在我的 Oxygen 编辑器中收到错误，如果我尝试编译报告，我会得到：

> fo:page-sequence 缺少子元素。
> 
> F XPath 语法错误，位于 {printAnno:isStampaAnno()} 中第 652 行的第 24 行：找不到名为 {StampaAnnoUtil}isStampaAnno() 的匹配 0 参数函数。

错在哪里？XSLl 在数据库中，但是当我转换它时，它就在我的路径中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:28:50.160

您可能只是忘记使用 Oxygen 注册您的 jar 文件。它必须知道你的函数的实现。诸如您发布的定义之类的定义就像胶水一样，但是您仍然需要提供想要粘合在一起的东西。尝试以下（或类似的东西，自从我使用氧气以来已经很久了）：

*   单击工具栏中的“配置验证方案”按钮
*   选中“使用自定义验证方案”框
*   单击“新建”按钮以创建新场景
*   点击“添加”按钮
*   选择“引擎类型”以指定您的处理器，例如 Xalan
*   点击扩展按钮
*   单击“添加”，然后浏览您的 jar 文件
*   在所有对话框上单击“确定”

[资源](http://osdir.com/ml/editors.oxygen.user/2007-08/msg00015.html)

# matlab - 将 Matlab 图形保持在背景中

> ID：14457183
> 
> 赞同：1
> 
> 时间：2013-01-22T11:07:23.087
> 
> 标签：matlab, matlab-figure

我使用优化算法为某个功能找到最佳形状。我让程序在每次迭代时向我显示当前数字，以查看一切进展情况。问题是程序运行时我不能做任何事情（程序需要 5-10 分钟才能完成），因为图形一直在顶部弹出，例如，如果我正在写一些东西，窗口焦点会在matlab图。

当图形发生变化时，是否可以保持 matlab 图形不在顶部？例如，我使用双显示器设置，并将图形移动到第二个显示器。可以在不改变我工作的当前窗口的焦点的情况下改变图形吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:26:02.867

不会使用`OuterPosition`做的伎俩？这是一个应将图形保持在屏幕右上角三分之一的示例：

```
scnsize = get(0,'ScreenSize'); % get screen size
fig1 = figure;
position = get(fig1,'Position')
outerpos = get(fig1,'OuterPosition')
borders = outerpos - position
edge = -borders(1)/2;
pos1 = [scnsize(3)/2 + edge,...
    scnsize(4) * (2/3),...
    scnsize(3)/2 - edge,...
    scnsize(4)/3]; 
```

通过更改其`OuterPosition`属性重新定位图形：

```
 set(fig1,'OuterPosition',pos1) 
```

还有[这个选项](http://undocumentedmatlab.com/blog/disable-entire-figure-window/) 可以在进行某些处理时禁用整个图形窗口....

# apache2 - 如何使用 mod_dav 而不必给 apache 写权限

> ID：14457184
> 
> 赞同：1
> 
> 时间：2013-01-22T11:07:25.660
> 
> 标签：apache2, mod-dav-svn

我们正在努力提高我们的网络服务器安全性，并通过 root:www-data 强制尽可能多的文件具有 0644 权限，因此 Apache 仅具有对特定目录和文件的写入权限。

问题是我们在我们用来推送远程文件的同一个 apache 安装上运行 mod_dav webdav 服务器，通过虚拟主机，因此通过它更新的所有文件都是作为 apache 的用户创建/修改的（在我们的例子中是 www-data）。

我知道以前的 Apache 版本可以通过指令在 vhosts（旧的 assignuserid）中分配不同的用户，但我知道在 2.2 版本上，这只能使用诸如 mpm-itk 引擎（支持 vhosts 上的用户的 prefork 的分支）之类的东西。

从长远来看，这个根对我们来说听起来有点太复杂了（更新、对模块的支持等），所以我们将不胜感激任何帮助/建议，以找到用户使用或单独的 webdav 文件服务器的其他替代方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-27T08:09:28.983

您可以使用 Apache 的 fcgi 运行您的 webdav 服务。使用许多可用的第三方 webdav 服务器之一，例如[这个](http://koti.kapsi.fi/jpa/webdav/)。

如果需要，您可以以 root 身份运行 fcgi 程序。尽管从安全的角度来看，这是一个非常糟糕的主意。

# c# - WPF DefaultButton 未按预期工作

> ID：14457187
> 
> 赞同：2
> 
> 时间：2013-01-22T11:07:30.617
> 
> 标签：c#, wpf, xaml

我在表单上有以下一组控件：

![在此处输入图像描述](../Images/a0b1a967bf6e821c331f9aee3e373b3c.png)

它们中的每一个都是一个单独的用户控件，并且按钮设置为`IsDefault="True"`。

在“快速搜索”文本框中键入并按 Enter 键时，焦点会从该控件跳转到“CDV 检查”上的“...”按钮。

![在此处输入图像描述](../Images/d1b6602b0faa2bfd413d4ecc56153412.png)

这怎么可能？我是否遗漏了什么或者这是 WPF 中的问题？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T13:34:54.383

您可以使用样式触发器来实现此目的，请查看下面的示例 xaml。如果你愿意，你可以移动资源通用的样式。

```
<GroupBox Header="GroupBox1"
          Height="100"
          HorizontalAlignment="Left"
          Margin="35,49,0,0"
          Name="GroupBox1"
          VerticalAlignment="Top"
          Width="247">
  <Grid>
    <TextBox Height="23"
             HorizontalAlignment="Left"
             Margin="10,30,0,0"
             x:Name="TextBox1"
             VerticalAlignment="Top"
             Width="120" />

    <Button Content="Button1"
            Height="23"
            HorizontalAlignment="Left"
            Margin="136,29,0,0"
            Name="Button1"
            VerticalAlignment="Top"
            Width="75">
      <Button.Style>
        <Style  TargetType="Button">
          <Style.Triggers>
            <DataTrigger Binding="{Binding ElementName=TextBox1, Path=IsFocused }"
                         Value="True">
              <Setter Property="IsDefault"
                      Value="True"></Setter>
            </DataTrigger>
          </Style.Triggers>
        </Style>
      </Button.Style>
    </Button>
  </Grid>
</GroupBox>
<GroupBox Header="GroupBox2"
          Height="98"
          HorizontalAlignment="Left"
          Margin="35,155,0,0"
          Name="GroupBox2"
          VerticalAlignment="Top"
          Width="247">
  <Grid>
    <TextBox Height="23"
             HorizontalAlignment="Left"
             Margin="10,29,0,0"
             x:Name="TextBox2"
             VerticalAlignment="Top"
             Width="120" />
    <Button Content="Button"
            Height="23"
            HorizontalAlignment="Left"
            Margin="136,29,0,0"
            Name="Button2"
            VerticalAlignment="Top"
            Width="75">
      <Button.Style>
        <Style  TargetType="Button">
          <Style.Triggers>
            <DataTrigger Binding="{Binding ElementName=TextBox2, Path=IsFocused }"
                         Value="True">
              <Setter Property="IsDefault"
                      Value="True"></Setter>
            </DataTrigger>
          </Style.Triggers>
        </Style>
      </Button.Style>
    </Button>
  </Grid> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T12:45:54.057

尝试`FocusManager.IsFocusScope="true"`在每个父布局控件上进行设置。

# objective-c - 保存文本文件时出现奇怪的日志消息

> ID：14457192
> 
> 赞同：1
> 
> 时间：2013-01-22T11:07:52.017
> 
> 标签：objective-c, nssavepanel

当我的应用程序显示“保存文件”窗格时，我在 xcode 的输出日志中收到一条我不理解的消息。

消息是 StressIt[38940:6d83] [QL] Can't get plugin bundle info at XTUM/ -- file://localhost/Users/kalle/Library/Developer/Xcode/DerivedData/StressIt-exmfuiykgzqebkbxzzwzsuzawjyk/Build/Products/调试/

我用谷歌搜索它，发现它似乎是 OSX 中的一个常见错误，但找不到与开发目标 c 相关的任何信息。有谁知道这是什么？我做错什么了吗？我可以修复它吗？

我被盗的保存文件的代码

```
// String to write
NSString * zStr = [[NSString alloc] initWithString:[[resultTextOutlet textStorage] string]];

// Get an URL
NSSavePanel * zSavePanel = [NSSavePanel savePanel];
NSInteger zResult = [zSavePanel runModal];
if (zResult == NSFileHandlingPanelCancelButton) {
    return;
}

// Store url where to save the file
NSURL *zUrl = [zSavePanel URL];

// Write file
BOOL zBoolResult = [zStr writeToURL:zUrl atomically:YES encoding:NSASCIIStringEncoding error:NULL];

// Report write error
if (! zBoolResult) {
    NSAlert *writeError = [NSAlert alertWithMessageText:@"Error while writing file" defaultButton:@"OK" alternateButton:nil otherButton:nil informativeTextWithFormat:@"Something went wrong whilw writing the file to disk."];
    [writeError beginSheetModalForWindow:appWindow modalDelegate:nil didEndSelector:nil contextInfo:nil];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T17:20:31.173

That's a QuickLooks error generated from inside the NSSavePanel. I have the same issue, and there's no real way to make it go away; it seems like every single OSX-native file dialog spawns that message if there's a plugin on the end-user's system that's registered but can't be loaded. I *suspect* that in my case, going from Lion to Mountain Lion may have left an old QL PPC binary in the system. Since Apple no longer supports classic, the plugin can't be loaded. But that's conjecture. **What I know for certain** is: that's QuickLooks, not your program, and you can safely ignore it.

# java - 尝试在服务器上上传文件时出现 java.lang.IndexOutOfBoundsException

> ID：14457193
> 
> 赞同：0
> 
> 时间：2013-01-22T11:07:59.287
> 
> 标签：java, file, indexoutofboundsexception

我之前的帖子被删除了，所以我在这里重新发布，因为我没有任何线索可以删除这个错误。

**错误 ：**

```
java.lang.IndexOutOfBoundsException
java.io.FileOutputStream.writeBytes(Native Method)
java.io.FileOutputStream.write(FileOutputStream.java:297)
com.ninenexus.simplesign.storeanddisplay.StoreAndDisplayImage.doPost(StoreAndDisplayImage.java:85)
javax.servlet.http.HttpServlet.service(HttpServlet.java:754)
javax.servlet.http.HttpServlet.service(HttpServlet.java:847) 
```

**代码 ：**

```
String contentType = request.getContentType();
if ((contentType != null) 
    && (contentType.indexOf("multipart/form-data") >= 0)) 
{
    DataInputStream in = new DataInputStream(request.getInputStream());
    int formDataLength = request.getContentLength();
    byte dataBytes[] = new byte[formDataLength];
    int byteRead = 0;
    int totalBytesRead = 0;
    while (totalBytesRead < formDataLength)
    {
        byteRead = in.read(dataBytes, totalBytesRead, formDataLength);
        totalBytesRead += byteRead;
    }
    String file = new String(dataBytes);
    saveFile = file.substring(file.indexOf("filename=\"") + 10);
    saveFile = saveFile.substring(0, saveFile.indexOf("\n"));
    saveFile = saveFile.substring(saveFile.lastIndexOf("\\") + 1, 
                                  saveFile.indexOf("\""));
    int lastIndex = contentType.lastIndexOf("=");
    String boundary = contentType.substring(lastIndex + 1, 
                                            contentType.length());
    int pos;
    pos = file.indexOf("filename=\"");
    pos = file.indexOf("\n", pos) + 1;
    pos = file.indexOf("\n", pos) + 1;
    pos = file.indexOf("\n", pos) + 1;
    int boundaryLocation = file.indexOf(boundary, pos) - 4;
    int startPos = ((file.substring(0, pos)).getBytes()).length;
    int endPos = ((file.substring(0, boundaryLocation)).getBytes()).length;

    saveFile = "d:/" + saveFile;

    try 
    {            
        File f = new File(saveFile);            
        FileOutputStream fileOut = new FileOutputStream(f);
        fileOut.write(dataBytes, startPos, (endPos - startPos)); // Line 85
        fileOut.flush();
        fileOut.close();
    }
    catch(...)
    {
       ...
    }
}
else 
{
    ...
} 
```

行号的输出。85 是

```
dataBytes=[B@676e3f, startPos=142, (endPos - startPos)=75944. 
```

我正在尝试通过输入 type='file' 从用户那里获取文件，然后使用此代码将其保存在目录中。它在tomcat服务器上运行良好。文件保存在目录中。但是当我创建战争文件并将其上传到服务器上时。尝试在主服务器上运行此代码时出现此错误。没有解决这个问题的线索。帮助真的很感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:02:16.353

该错误很可能是由您确定开始和结束位置的“有趣”方式引起的。您使用字节到字符串的转换并返回机器的当前默认编码。很可能，您的开发环境和生产环境之间的默认编码不同。这解释了环境之间的差异。

对于许多编码，存在无法解码为字符的字节序列。然后字符串将包含一些替换字符。当您将字符串转换回字节序列时，长度可能会与以前不同，并且您会得到错误的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-22T07:23:53.157

change the following lines and try ..

String file = new String(dataBytes); **to** String file = new String(dataBytes,"CP1256");

int startPos = ((file.substring(0, pos)).getBytes()).length; **to** int startPos = ((file.substring(0, pos)).getBytes("CP1256")).length;

int endPos = ((file.substring(0, boundaryLocation)).getBytes()).length; **to** int endPos = ((file.substring(0, boundaryLocation)).getBytes("CP1256")).length;

# com - 检索具有 CLSID {F5694708-88FE-4B35-BABF-E56162D5FBC8} 的组件的 COM 类工厂

> ID：14457196
> 
> 赞同：0
> 
> 时间：2013-01-22T11:08:05.137
> 
> 标签：com

由于以下错误，检索具有 CLSID {F5694708-88FE-4B35-BABF-E56162D5FBC8} 的组件的 COM 类工厂失败：80040154 未注册类（来自 HRESULT 的异常：0x80040154 (REGDB_E_CLASSNOTREG)）。我在创建组策略对象时收到错误，m 使用 Inerop.GPMGMTLib 并确保项目构建是 x86，但是在 32 位和 64 位 VM 机器上，它都失败了。非常紧急，有谁知道吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T15:00:58.287

错误代码清楚地表明：COM 类对您不可用。通过检查注册表来仔细检查`HKCU\CLSID\{identifier}`，如果有信息，检查 COM 类是否引用了有效的二进制文件。

如果文件丢失，则必须从适当的位置安装或重新注册等。如果文件存在，则可能缺少必需的依赖模块或无法启动。

# jquery - Jquery onClick 必须在 5 秒后自动启动

> ID：14457199
> 
> 赞同：0
> 
> 时间：2013-01-22T11:08:07.253
> 
> 标签：jquery, onclick, explode

我有以下代码，它使文本在单击时爆炸。但我需要让它在 5 秒后爆炸。它必须自动启动，无需点击。有人可以告诉我我必须改变什么吗？

```
<script type="text/javascript">
function fx(o) {
  var $o = $(o);

  $o.html($o.text().replace(/([\S])/g, "<span>$1</span>"));
  $o.css("position", "relative");
  $("span", $o).each(function(i) {
    var newTop = Math.floor(Math.random()*500)*((i%2)?1:-1);
    var newLeft = Math.floor(Math.random()*500)*((i%2)?1:-1);

    $(this).css({position: "relative",
      opacity: 1,
      fontSize: 50,
      top: 0,
      left: 0
    }).animate({
      opacity: 0,
      fontSize: 90,
      top: newTop,
      left:newLeft
    },1200);
  });
} </script> 
```

```
<span onclick="fx(this)"><h1>Text Here</h1> </span> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:10:24.080

将您的功能更改`fx`为：

```
function fx(o) {
  setTimeout (
    function () {
      var $o = $(o);

      $o.html($o.text().replace(/([\S])/g, "<span>$1</span>"));
      $o.css("position", "relative");
      $("span", $o).each(function(i) {
        var newTop = Math.floor(Math.random()*500)*((i%2)?1:-1);
        var newLeft = Math.floor(Math.random()*500)*((i%2)?1:-1);

        $(this).css({position: "relative",
          opacity: 1,
          fontSize: 50,
          top: 0,
          left: 0
        }).animate({
          opacity: 0,
          fontSize: 90,
          top: newTop,
          left:newLeft
        },1200);
      });
    },
    5000
  );
} 
```

这会将执行延迟 5 秒（使用`setTimeout`函数）。

[https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout](https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:10:33.477

用户 setTimeout()

```
<script type="text/javascript">
    function fx(o) {
      setTimeout(function(){var $o = $(o);

      $o.html($o.text().replace(/([\S])/g, "<span>$1</span>"));
      $o.css("position", "relative");
      $("span", $o).each(function(i) {
        var newTop = Math.floor(Math.random()*500)*((i%2)?1:-1);
        var newLeft = Math.floor(Math.random()*500)*((i%2)?1:-1);

        $(this).css({position: "relative",
          opacity: 1,
          fontSize: 50,
          top: 0,
          left: 0
        }).animate({
          opacity: 0,
          fontSize: 90,
          top: newTop,
          left:newLeft
        },1200);
      });
    },5000);
    } </script> 
```

# ios - 联合企业帐户的 Box.com 身份验证

> ID：14457200
> 
> 赞同：0
> 
> 时间：2013-01-22T11:08:10.543
> 
> 标签：ios, oauth, box-api

我是盒子 API 的新手。我为企业创建了一个通用的 iOS 应用程序。现在我需要将 Box.com 与我的应用程序集成。在应用程序中，我们希望用户浏览来自多个服务器以及 Box 的数据。用户可以查看/下载文件夹中的文档并将其保存到 iOS 设备。

企业将在框中创建其用户的帐户。用户使用他/她的公司电子邮件 ID 登录到该框。

我已经下载了 iPhone **'BoxSDK** ' 的示例代码，其中包含 Box.framework。并且刚刚调用了 Box 的“ **initialLoginUsingURLRedirectWithCallbacks** ”方法。并且应用程序重定向到 Safari 并在身份验证后再次使用 openURL 启动应用程序。

我有一些疑问：

1）企业账号登录需要OAuth2.0吗？

2）如果是，为什么需要它？它的重要性是什么？

3）如何使用它？（我已经下载了适用于 iOS 的 OAuth 示例。但它不包含任何 UI 部分。）

我已经参考了 Box 文档/身份验证指南->OAuth2。因为他们已经描述了企业应用程序的设置，这些设置应该是从管理员端完成的。那么它将如何影响客户端（iOS设备）？

4)身份验证指南中解释的Web服务->企业账户与个人账户的OAuth2有什么区别？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T17:56:43.350

关于 OAuth2 的一些很棒的哲学问题。让我试着回答他们，但我担心更长的回复将不得不等待博客文章，因为我一直在写一篇文章来解释为什么企业需要 OAuth2 来验证他们的用户。

所以，你想对了。需要 OAuth2 才能登录用户，这主要是因为企业和个人用户都要求安全和隐私。就像 Facebook 和 Google 在 2011 年要求应用用户使用 OAuth2 登录一样，Box 也朝着这个方向发展。简而言之，如果您仔细实施 OAuth2，OAuth1 的一些漏洞和问题将得到解决。

正如许多技术博客和安全专家所指出的那样，OAuth2 标准并不是一个完美的标准。它更像是一套指导方针，这些指导方针可以允许实施者创建一个不太安全的身份验证机制。我们试图避免这些安全问题，并为我们的用户提供尽可能高的安全性，同时又不会让他们很难在 Box 中进行身份验证。

对于您的第三个问题，如何使用它？我建议您阅读我们的文档：http: [//developers.box.com/oauth/](http://developers.box.com/oauth/)。它相当复杂，您需要设置一个客户端侦听器，以便我们的服务器可以打开 https 回调并为用户提供令牌，一旦他们完成了使用 Box 的浏览器会话身份验证。

至于企业帐户与个人帐户的差异。我们并不真正认为它们具有不同级别的所需安全性。我们的许多个人和小型企业用户都希望获得与我们为企业客户提供的相同的安全性。虽然我们不会向个人客户提供所有安全功能（例如 2 因素身份验证），但我们会为他们提供 OAuth2 安全性。

希望有帮助。这不是一个普通的堆栈溢出类型的技术问题，用代码片段来解释事情，但希望我已经回答了你的问题。

# javascript - 制作幻灯片自动播放

> ID：14457201
> 
> 赞同：0
> 
> 时间：2013-01-22T11:08:10.513
> 
> 标签：javascript, joomla, slideshow

我有一个以幻灯片形式显示产品的 Joomla 模块，我想将其设置为自动播放。我问过这个模块的开发者，说不可能，但我不敢相信他们！所以我现在给你创建幻灯片的两个 JS 文件，如果有人知道，请帮助我！

文件 1

```
(function($) {

var SmartSlider = function(element, options){
    //Defaults are below
    var settings = $.extend({}, $.fn.smartSlider.defaults, options);

    //Useful variables. Play carefully.
    var vars = {
        currentSlide: 0,
        currentImage: '',
        totalSlides: 0,
        running: false,
        paused: false,
        stop: true
    };

    //Get this slider
    var slider = $(element);
    slider.data('smart:vars', vars);
    slider.css('position','relative');
    slider.addClass('smartSlider');

    // var info_products = slider.find('.product_detail');

    //Max time for each slide
    var max_time_out    = Math.max(settings.boxCols * settings.boxRows*20,settings.boxCols * 2*100,settings.slices*50);

    //Find our slider children
    var kids = slider.find('.background_image').children();
    kids.each(function() {
        var child = $(this);

        //Get img width & height
        // var childWidth = child.width();
        // if(childWidth == 0) childWidth = child.attr('width');
        // if(childWidth == 0 || childWidth==undefined) childWidth = child.find("img").width();
        // var childHeight = child.height();
        // if(childHeight == 0) childHeight = child.attr('height');
        // if(childHeight == 0 || childHeight==undefined) childHeight = child.find("img").height();

        childWidth  = settings.image_width;
        childHeight = settings.image_height;

        var link = '';
        if(!child.is('img')){
            if(child.is('a')){
                child.addClass('smart-imageLink');
                link = child;
            }
            child = child.find('img:first');
        }

        //Resize the slider
        if(childWidth > slider.width()){
            slider.width(childWidth);
        }

        if(childHeight > slider.height()){
            slider.height(childHeight);
        }

        if(link != ''){
            link.css('display','none');
        }

        child.css('display','none');
        vars.totalSlides++;
    });

    if (settings.align_image=="right" && slider.width()>slider.parent().width()){
        slider.css("right",slider.width()-slider.parent().width());
    }

    var slider_width    = slider.width();
    var slider_height   = slider.height();

    // //If randomStart
    // if(settings.randomStart){
        // settings.startSlide = Math.floor(Math.random() * vars.totalSlides);
    // }

    // //Set startSlide
    // if(settings.startSlide > 0){
        // if(settings.startSlide >= vars.totalSlides) settings.startSlide = vars.totalSlides - 1;
        // vars.currentSlide = settings.startSlide;
    // }

    //Get initial image
    if($(kids[vars.currentSlide]).is('img')){
        vars.currentImage = $(kids[vars.currentSlide]);
    } else {
        vars.currentImage = $(kids[vars.currentSlide]).find('img:first');
    }

    //Show initial link
    if($(kids[vars.currentSlide]).is('a')){
        $(kids[vars.currentSlide]).css('display','block');
    }

    //Set first background
    if (settings.align_image=="left"){
        slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
    }else{
        slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');
    }

    // //In the words of Super Mario "let's a go!"
    var timer = 0;
    // if(!settings.manualAdvance && kids.length > 1){
        // timer = setInterval(function(){ smartRun(slider, kids, settings, false); }, settings.pauseTime);
    // }

    //Previous and Next button
    $('.navigation_button div.left_button', slider.parent()).bind('click', function(){
        if(vars.running) return false;
        clearInterval(timer);
        timer = '';
        vars.currentSlide -= 2;

        // $('.info_product .product_detail', slider.parent()).remove();
        // $('.info_product', slider.parent()).append(info_products.eq(vars.currentSlide+1).css("display","block"));

        smartRun(slider, kids, settings, 'prev');
    });

    $('.navigation_button div.right_button', slider.parent()).bind('click', function(){
        if(vars.running) return false;
        clearInterval(timer);
        timer = '';

        // $('.info_product .product_detail', slider.parent()).remove();
        // $('.info_product', slider.parent()).append(info_products.eq(vars.currentSlide+1).css("display","block"));

        smartRun(slider, kids, settings, 'next');
    });

    //Change item selected
    // //Set initial active link
    // $('.navigation_sspro a:eq('+ vars.currentSlide +')', slider).addClass('active');
    $('.navigation_sspro div', slider.parent()).bind('click', function(){
        if(vars.running) return false;
        if($(this).hasClass('active')) return false;
        clearInterval(timer);
        timer = '';
        if (settings.align_image=="left"){
            // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');

            // setTimeout(function(){
                // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
            // }, max_time_out);
        }else{
            // setTimeout(wait_me,100);

            // // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');

            // setTimeout(function(){
                // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');
            // }, max_time_out);
        }

        vars.currentSlide = $(this).attr("class");

        // $('.info_product .product_detail', slider.parent()).remove();
        // $('.info_product', slider.parent()).append(info_products.eq(parseInt($(this).attr("class"))+1).css("display","block"));

        smartRun(slider, kids, settings, 'control');
    });

    //Change item selected with style bullet
    slider.parent().find('div.bullet_button').each(function(index){
        $(this).bind("click",function(){
            if(vars.running) return false;
            if($(this).hasClass('active')) return false;
            clearInterval(timer);
            timer = '';

            if (settings.align_image=="left"){
                // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');

                // setTimeout(function(){
                    // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
                // }, max_time_out);
            }else{
                // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');

                // setTimeout(function(){
                    // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');
                // }, max_time_out);
            }

            vars.currentSlide = index-1;

            // $('.info_product .product_detail', slider.parent()).remove();
            // $('.info_product', slider.parent()).append(info_products.eq(index).css("display","block"));

            smartRun(slider, kids, settings, 'control');
        });
    });

    //Resize height of info product
    $('.info_product', slider.parent()).css("height",slider_height);

    //Change background of slider
    function change_background(){
        if (options.align_image=="left"){
            slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
        }else{
            slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');
        }
    }

    //Event when Animation finishes
    slider.bind('smart:animFinished', function(){

        change_background();

        vars.running    = false; 
        slide_running   = false;
        //Hide child links
        $(kids).each(function(){
            if($(this).is('a')){
                $(this).css('display','none');
            }
        });

        //Show current link
        if($(kids[vars.currentSlide]).is('a')){
            $(kids[vars.currentSlide]).css('display','block');
        }

        // //Restart the timer
        // if(timer == '' && !vars.paused && !settings.manualAdvance){
            // timer = setInterval(function(){ smartRun(slider, kids, settings, false); }, settings.pauseTime);
        // }

        //Trigger the afterChange callback
        settings.afterChange.call(this);
    });

    function start_point(){
        slide_running   = true;
    }

    // Add slices for slice animations
    var createSlices = function(slider, settings, vars){

        if (settings.align_image=="left"){
            divWrapper= $('<div/>', {
                id: 'wrapperImage'+settings.random_time
            }).css({
                position:'relative',
                top:0,
                left:0,
                height:  slider_height
            }).appendTo(slider);
        }else{
            divWrapper= $('<div/>', {
                id: 'wrapperImage'+settings.random_time
            }).css({
                position:'absolute',
                top:0,
                right: 0,
                height:  slider_height,
                // width:  vars.currentImage.attr("width")
                // width:  slider_width
                width:  vars.currentImage.width()
            }).appendTo(slider);
        }

        for(var i = 0; i < settings.slices; i++){
            var sliceWidth = Math.round(slider_width/settings.slices);
            if(i == settings.slices - 1){
                divWrapper.append(
                    $('<div class="smart-slice"></div>').css({ 
                        left:(sliceWidth*i)+'px', 
                        width:(slider_width-(sliceWidth*i))+'px',
                        height:'0px', 
                        opacity:'0', 
                        background: 'url("'+ vars.currentImage.attr('src') +'") no-repeat -'+ ((sliceWidth + (i * sliceWidth)) - sliceWidth) +'px 0%'
                    })
                );
            } else {
                divWrapper.append(
                    $('<div class="smart-slice"></div>').css({ 
                        left:(sliceWidth*i)+'px', 
                        width:sliceWidth+'px',
                        height:'0px', 
                        opacity:'0', 
                        background: 'url("'+ vars.currentImage.attr('src') +'") no-repeat -'+ ((sliceWidth + (i * sliceWidth)) - sliceWidth) +'px 0%'
                    })
                );
            }
        }
    }

    // Add boxes for box animations
    var createBoxes = function(slider, settings, vars){
        if (settings.align_image=="left"){
            divWrapper= $('<div/>', {
                id: 'wrapperImage'+settings.random_time
            }).css({
                position:'relative',
                top:0,
                left:0
            }).appendTo(slider);
        }else{
            divWrapper= $('<div/>', {
                id: 'wrapperImage'+settings.random_time
            }).css({
                position: 'absolute',
                top: 0,
                right: 0,
                height:  slider_height,
                // width:  vars.currentImage.attr("width")
                //boi vi che do none nen phai de che do tren
                // width:  slider_width
                width:  vars.currentImage.width()
            }).appendTo(slider);
        }

        var boxWidth = Math.round(slider_width/settings.boxCols);
        var boxHeight = Math.round(slider_height/settings.boxRows);

        for(var rows = 0; rows < settings.boxRows; rows++){
            for(var cols = 0; cols < settings.boxCols; cols++){
                if(cols == settings.boxCols-1){
                    divWrapper.append(
                        $('<div class="smart-box"></div>').css({ 
                            opacity:0,
                            left:(boxWidth*cols)+'px', 
                            top:(boxHeight*rows)+'px',
                            width:(slider_width-(boxWidth*cols))+'px',
                            height:boxHeight+'px',
                            background: 'url("'+ vars.currentImage.attr('src') +'") no-repeat -'+ ((boxWidth + (cols * boxWidth)) - boxWidth) +'px -'+ ((boxHeight + (rows * boxHeight)) - boxHeight) +'px'
                        })
                    );
                } else {
                    divWrapper.append(
                        $('<div class="smart-box"></div>').css({
                            opacity:0,
                            left:(boxWidth*cols)+'px', 
                            top:(boxHeight*rows)+'px',
                            width:boxWidth+'px',
                            height:boxHeight+'px',
                            background: 'url("'+ vars.currentImage.attr('src') +'") no-repeat -'+ ((boxWidth + (cols * boxWidth)) - boxWidth) +'px -'+ ((boxHeight + (rows * boxHeight)) - boxHeight) +'px'
                        })
                    );
                }
            }
        }
    }

    // Private run method
    var smartRun = function(slider, kids, settings, nudge){
        //Get our vars
        var vars = slider.data('smart:vars');

        // //Trigger the lastSlide callback
        // if(vars && (vars.currentSlide == vars.totalSlides - 1)){ 
            // settings.lastSlide.call(this);
        // }

        // Stop
        if((!vars || vars.stop) && !nudge) return false;

        //Trigger the beforeChange callback
        // settings.beforeChange.call(this);

        //Set current background before change
        if(!nudge){
            alert('co bao jo em biet');
            if (settings.align_image=="left"){
                slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
            }else{
                slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');
            }
            // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
        } else {
            if(nudge == 'prev'){
                if (settings.align_image=="left"){
                    // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');

                    // setTimeout(function(){
                        // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
                    // }, max_time_out);
                }else{
                    // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');

                    // setTimeout(function(){
                        // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');
                    // }, max_time_out);
                }
                // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
            }
            if(nudge == 'next'){
                if (settings.align_image=="left"){
                    // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');

                    // setTimeout(function(){
                        // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
                    // }, max_time_out);
                }else{
                    // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');

                    // setTimeout(function(){
                        // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat right top');
                    // }, max_time_out);
                }
                // slider.css('background','url("'+ vars.currentImage.attr('src') +'") no-repeat');
            }
        }
        vars.currentSlide++;

       //Trigger the slideshowEnd callback
        if(vars.currentSlide == vars.totalSlides){ 
            vars.currentSlide = 0;
            // settings.slideshowEnd.call(this);
        }

        if(vars.currentSlide < 0) vars.currentSlide = (vars.totalSlides - 1);
        //Set vars.currentImage
        if($(kids[vars.currentSlide]).is('img')){
            vars.currentImage = $(kids[vars.currentSlide]);
        } else {
            vars.currentImage = $(kids[vars.currentSlide]).find('img:first');
        }

        // //Set active links
        // if(settings.controlNav){
            // $('.smart-controlNav a', slider).removeClass('active');
            // $('.smart-controlNav a:eq('+ vars.currentSlide +')', slider).addClass('active');
        // }

        //Set active links
        // if(settings.controlNav){
            $('.navigation_sspro div', slider.parent()).removeClass('active');
            $('.navigation_sspro div:eq('+ vars.currentSlide +')', slider.parent()).addClass('active');
        // }

        // //Process caption
        // processCaption(settings);

        // Remove any slices from last transition
        // $('.smart-slice', slider).remove();

        // Remove any boxes from last transition
        // $('.smart-box', slider).remove();
        $('#wrapperImage'+settings.random_time, slider).remove();

        var currentEffect = settings.effect;
        //Generate random effect
        if(settings.effect == 'random'){
            var anims = new Array('sliceDownRight','sliceDownLeft','sliceUpRight','sliceUpLeft','sliceUpDown','sliceUpDownLeft','fold','fade',
            'boxRandom','boxRain','boxRainReverse','boxRainGrow','boxRainGrowReverse');
            currentEffect = anims[Math.floor(Math.random()*(anims.length + 1))];
            if(currentEffect == undefined) currentEffect = 'fade';
        }

        //Run random effect from specified set (eg: effect:'fold,fade')
        if(settings.effect.indexOf(',') != -1){
            var anims = settings.effect.split(',');
            currentEffect = anims[Math.floor(Math.random()*(anims.length))];
            if(currentEffect == undefined) currentEffect = 'fade';
        }

       /*  //Custom transition as defined by "data-transition" attribute
        if(vars.currentImage.attr('data-transition')){
            currentEffect = vars.currentImage.attr('data-transition');
        } */

        //Run effects
        vars.running    = true;

        setTimeout(start_point,10);

        if(currentEffect == 'sliceDown' || currentEffect == 'sliceDownRight' || currentEffect == 'sliceDownLeft'){
            createSlices(slider, settings, vars);
            var timeBuff = 0;
            var i = 0;
            var slices = $('.smart-slice', slider);
            if(currentEffect == 'sliceDownLeft') slices = $('.smart-slice', slider)._reverse();

            slices.each(function(){
                var slice = $(this);
                slice.css({ 'top': '0px' });
                if(i == settings.slices-1){
                    setTimeout(function(){
                        slice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed, '', function(){ slider.trigger('smart:animFinished'); });
                    }, (100 + timeBuff));
                } else {
                    setTimeout(function(){
                        slice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed);
                    }, (100 + timeBuff));
                }
                timeBuff += 50;
                i++;
            });
        } 
        else if(currentEffect == 'sliceUp' || currentEffect == 'sliceUpRight' || currentEffect == 'sliceUpLeft'){
            createSlices(slider, settings, vars);
            var timeBuff = 0;
            var i = 0;
            var slices = $('.smart-slice', slider);
            if(currentEffect == 'sliceUpLeft') slices = $('.smart-slice', slider)._reverse();

            slices.each(function(){
                var slice = $(this);
                slice.css({ 'bottom': '0px' });
                if(i == settings.slices-1){
                    setTimeout(function(){
                        slice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed, '', function(){ slider.trigger('smart:animFinished'); });
                    }, (100 + timeBuff));
                } else {
                    setTimeout(function(){
                        slice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed);
                    }, (100 + timeBuff));
                }
                timeBuff += 50;
                i++;
            });
        } 
        else if(currentEffect == 'sliceUpDown' || currentEffect == 'sliceUpDownRight' || currentEffect == 'sliceUpDownLeft'){
            createSlices(slider, settings, vars);
            var timeBuff = 0;
            var i = 0;
            var v = 0;
            var slices = $('.smart-slice', slider);
            if(currentEffect == 'sliceUpDownLeft') slices = $('.smart-slice', slider)._reverse();

            slices.each(function(){
                var slice = $(this);
                if(i == 0){
                    slice.css('top','0px');
                    i++;
                } else {
                    slice.css('bottom','0px');
                    i = 0;
                }

                if(v == settings.slices-1){
                    setTimeout(function(){
                        slice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed, '', function(){ slider.trigger('smart:animFinished'); });
                    }, (100 + timeBuff));
                } else {
                    setTimeout(function(){
                        slice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed);
                    }, (100 + timeBuff));
                }
                timeBuff += 50;
                v++;
            });
        } 
        else if(currentEffect == 'fold'){
            createSlices(slider, settings, vars);
            var timeBuff = 0;
            var i = 0;

            $('.smart-slice', slider).each(function(){
                var slice = $(this);
                var origWidth = slice.width();
                slice.css({ top:'0px', height:'100%', width:'0px' });
                if(i == settings.slices-1){
                    setTimeout(function(){
                        slice.animate({ width:origWidth, opacity:'1.0' }, settings.animSpeed, '', function(){ slider.trigger('smart:animFinished'); });
                    }, (100 + timeBuff));
                } else {
                    setTimeout(function(){
                        slice.animate({ width:origWidth, opacity:'1.0' }, settings.animSpeed);
                    }, (100 + timeBuff));
                }
                timeBuff += 50;
                i++;
            });
        }  
        else if(currentEffect == 'fade'){
            createSlices(slider, settings, vars);

            var firstSlice = $('.smart-slice:first', slider);
            firstSlice.css({
                'height': '100%',
                'width': slider_width + 'px'
            });

            firstSlice.animate({ opacity:'1.0' }, (settings.animSpeed*2), '', function(){ slider.trigger('smart:animFinished'); });
        }          
        else if(currentEffect == 'slideInRight'){
            createSlices(slider, settings, vars);

            var firstSlice = $('.smart-slice:first', slider);
            firstSlice.css({
                'height': '100%',
                'width': '0px',
                'opacity': '1'
            });

            firstSlice.animate({ width: slider_width + 'px' }, (settings.animSpeed*2), '', function(){ slider.trigger('smart:animFinished'); });
        }
        else if(currentEffect == 'slideInLeft'){
            createSlices(slider, settings, vars);

            var firstSlice = $('.smart-slice:first', slider);
            firstSlice.css({
                'height': '100%',
                'width': '0px',
                'opacity': '1',
                'left': '',
                'right': '0px'
            });

            firstSlice.animate({ width: slider_width + 'px' }, (settings.animSpeed*2), '', function(){ 
                // Reset positioning
                firstSlice.css({
                    'left': '0px',
                    'right': ''
                });
                slider.trigger('smart:animFinished'); 
            });
        }
        else if(currentEffect == 'boxRandom'){
            createBoxes(slider, settings, vars);

            var totalBoxes = settings.boxCols * settings.boxRows;
            var i = 0;
            var timeBuff = 0;

            var boxes = shuffle($('.smart-box', slider));
            boxes.each(function(){
                var box = $(this);
                if(i == totalBoxes-1){
                    setTimeout(function(){
                        box.animate({ opacity:'1' }, settings.animSpeed, '', function(){ slider.trigger('smart:animFinished'); });
                    }, (100 + timeBuff));
                } else {
                    setTimeout(function(){
                        box.animate({ opacity:'1' }, settings.animSpeed);
                    }, (100 + timeBuff));
                }
                timeBuff += 20;
                i++;
            });
        }
        else if(currentEffect == 'boxRain' || currentEffect == 'boxRainReverse' || currentEffect == 'boxRainGrow' || currentEffect == 'boxRainGrowReverse'){

            createBoxes(slider, settings, vars);

            var totalBoxes = settings.boxCols * settings.boxRows;
            var i = 0;
            var timeBuff = 0;

            // Split boxes into 2D array
            var rowIndex = 0;
            var colIndex = 0;
            var box2Darr = new Array();
            box2Darr[rowIndex] = new Array();
            var boxes = $('.smart-box', slider);
            if(currentEffect == 'boxRainReverse' || currentEffect == 'boxRainGrowReverse'){
                boxes = $('.smart-box', slider)._reverse();
            }
            boxes.each(function(){
                box2Darr[rowIndex][colIndex] = $(this);
                colIndex++;
                if(colIndex == settings.boxCols){
                    rowIndex++;
                    colIndex = 0;
                    box2Darr[rowIndex] = new Array();
                }
            });

            // Run animation
            for(var cols = 0; cols < (settings.boxCols * 2); cols++){
                var prevCol = cols;
                for(var rows = 0; rows < settings.boxRows; rows++){
                    if(prevCol >= 0 && prevCol < settings.boxCols){
                        /* Due to some weird JS bug with loop vars 
                        being used in setTimeout, this is wrapped
                        with an anonymous function call */
                        (function(row, col, time, i, totalBoxes) {
                            var box = $(box2Darr[row][col]);
                            var w = box.width();
                            var h = box.height();
                            if(currentEffect == 'boxRainGrow' || currentEffect == 'boxRainGrowReverse'){
                                box.width(0).height(0);
                            }
                            if(i == totalBoxes-1){
                                setTimeout(function(){
                                    box.animate({ opacity:'1', width:w, height:h }, settings.animSpeed/1.3, '', function(){ slider.trigger('smart:animFinished'); });
                                }, (100 + time));
                            } else {
                                setTimeout(function(){
                                    box.animate({ opacity:'1', width:w, height:h }, settings.animSpeed/1.3);
                                }, (100 + time));
                            }
                        })(rows, prevCol, timeBuff, i, totalBoxes);
                        i++;
                    }
                    prevCol--;
                }
                timeBuff += 100;
            }
        }
        // alert(timeBuff);
    }

    // Shuffle an array
    var shuffle = function(arr){
        for(var j, x, i = arr.length; i; j = parseInt(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x);
        return arr;
    }

    // For debugging
    var trace = function(msg){
        if (this.console && typeof console.log != "undefined")
            console.log(msg);
    }

    // Start / Stop
    this.stop = function(){
        if(!$(element).data('smart:vars').stop){
            $(element).data('smart:vars').stop = true;
            trace('Stop Slider');
        }
    }

    this.start = function(){
        if($(element).data('smart:vars').stop){
            $(element).data('smart:vars').stop = false;
            trace('Start Slider');
        }
    }

    // //Trigger the afterLoad callback
    // settings.afterLoad.call(this);

    return this;
};

$.fn.smartSlider = function(options) {

    return this.each(function(key, value){
        var element = $(this);
        // Return early if this element already has a plugin instance
        if (element.data('smartslider')) return element.data('smartslider');
        // Pass options to plugin constructor
        var smartslider = new SmartSlider(this, options);
        // Store plugin object in this element's data
        element.data('smartslider', smartslider);
    });

};

//Default settings
$.fn.smartSlider.defaults = {
    effect                      : 'random', //'boxRain',
    slices                      : 15,
    boxCols                     : 8,
    boxRows                     : 4,
    animSpeed                   : 500,
    pauseTime                   : 3000,
    random_time                 : "",
    align_image                 : "left",
    image_width                 : 765,
    image_height                : 500,
    afterChange                 : function(){}
};

$.fn._reverse = [].reverse;

})(jQuery); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:12:23.597

如果您更改第 12 行怎么办：

```
 running: true, 
```

第 14 行：

```
 stop: false 
```

它有效吗？我的一个建议，我不知道这个滑块，这是我想到的第一件事，希望对你有帮助

# google-apps-script - 应用程序脚本：加载电子表格时的竞争条件，提供不正确的数据？

> ID：14457202
> 
> 赞同：2
> 
> 时间：2013-01-22T11:08:19.233
> 
> 标签：google-apps-script, google-sheets, google-sheets-formula, importrange

我在应用程序脚本网络应用程序上遇到了一个有趣的问题。在启动时，在处理程序中，代码从电子表格 A 中获取一小部分数据（大约 20 个值），其中`getRangeByName`. 电子表格 A 并不复杂，但它有 4 页，其中两页是从电子表格 B 加载的（使用`importRange`）。这两个页面中的每一个都加载了一个`ImportRange`，每个都包含大约 6000 个单元格。

这就是问题所在。当用户点击 Web 应用 URL 时，很多时候（可能有 25% 的尝试）加载的数据`getRangeByName`是不正确的。返回的数据`#VALUE!`不是实际的电子表格数据。应该返回的实际数据是源自链接 ( `importRange`) 电子表格的文本（人名）。

这通常发生在启动时（在 中`doGet`），但我也曾在用户单击按钮后看到过这种情况。

它看起来很像`getRangeByName`在电子表格完成加载数据之前返回`importRange`。这并不是一个真正的主要问题 - 我刚刚更改了脚本，以便它使用 , 循环`getRangeByName`，`sleep`直到给定单元格具有已知的正确值。经过有限的测试，该修复似乎有效。然而，这似乎相当业余。有没有其他人看过这个？这是一个已知问题，是否有“正确”的方法来处理这个问题？

**第一次编辑**

睡眠/重新读取修复不起作用，我添加了下面的代码。我称之为`openById`打开电子表格而不是普通的。此代码最初仅包含第二次`flush`调用。这段代码仍然偶尔会失败，*第二次*抛出，即使这似乎是不可能的。这里发生的是，GAS（最终）设法在 for 循环中获取正确的电子表格数据，然后退出 for 循环并尝试获取完全相同的数据，而数据现在*不正确*。

**第二次编辑**

`getRangeByName`正如评论中所建议的，我在下面的代码中添加了第二次刷新操作，这是在第一次调用之前。没有不同; 代码在第三次调用（在处理程序中）时失败（再次与*第二次抛出）。*`InputSpreadsheetOpen`

```
/**
 * Work around what appears to be a Google race condition when opening
 * the input spreadsheet. If we can't read what we expect from a range
 * in the spreadsheet, just sleep and try again.
 */
function InputSpreadsheetOpen() {
  var ss = SpreadsheetApp.openById(INPUT_SS);
  var data;

  SpreadsheetApp.flush();         // should be completely pointless...
  for(var i=0; ; i++) {
    data = ss.getRangeByName("swimmerNames").getValues();
    if(data == null)
      throw(" 'swimmerNames' is not defined."); // spreadsheet error
    if(data[0] == FIRST_NAME)
      break;                                    // got expected value
    if(i <10) {                                 // Google error?
      Utilities.sleep(500);                     // ms; total 5s
      continue;
    } else
      throw("The server appears to be busy. Please refresh the browser page.");
  }

  SpreadsheetApp.flush();         // should be completely pointless...
  data = ss.getRangeByName("swimmerNames").getValues();
  if(data[0] != FIRST_NAME)
    throw("GAS is broken. Reload and pray.");
  return ss;
} // InputSpreadsheetOpen() 
```

# javascript - Javascript中滚动事件的结束

> ID：14457214
> 
> 赞同：0
> 
> 时间：2013-01-22T11:08:39.887
> 
> 标签：javascript, html, ajax, scroll

假设我有一个巨大的照片列表，我想在 fix 中以 20 x 20 显示它`auto-scrolled area`，并且每次我到达列表的底部（滚动结束）。

我想要加载接下来的 20 张照片（当您想要重新加载推文或 fb' 帖子时，对于移动设备）。

我想我会在到达滚动结束时立即使用`Ajax`发布请求，但如何检测事件。

有没有这样做的参考？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:12:36.670

听起来好像您正在寻找无限滚动脚本（尽管您的问题有些模棱两可）。无论如何，为什么要重新发明轮子？这个 jQuery 插件完全符合您的要求：

[无限滚动](http://www.infinite-scroll.com/infinite-scroll-jquery-plugin/)

# ember.js - EmberJS 的可重用组件/视图

> ID：14457217
> 
> 赞同：3
> 
> 时间：2013-01-22T11:08:58.170
> 
> 标签：ember.js

我正在尝试创建一个可重用的组件或视图，以创建包装在 Bootstrap 控制组中的标签和文本输入。该组件需要创建如下内容：

```
<div class="control-group">
  <label class="control-label" for="approachInputId">ApproachLabel</label>
  <div class="controls">
    {{view Ember.TextField valueBinding='approach'}}
  </div>
</div> 
```

我可以使用以下代码调用：

```
{{view App.TextFieldWithLabel valueBinding='approach' label='ApproachLabel'}} 
```

Stack Overflow 上有一个类似的问题：[Using Ember.js text field ids for a <label> tag](https://stackoverflow.com/questions/10468164/using-ember-js-text-field-ids-for-a-label-tag)

其中一个答案包括指向此 jsFiddle 的链接。[http://jsfiddle.net/GtsKK/2/](http://jsfiddle.net/GtsKK/2/)

这几乎是我正在寻找的，但我想了解当我插入视图`{{view App.TextFieldWithLabel}}`而不是在 JS 对象数组中声明它们时如何传递标签和 valueBinding。

任何帮助，将不胜感激。

编辑：2013 年 1 月 29 日

我在[http://jsfiddle.net/ianpetzer/3WWaK/](http://jsfiddle.net/ianpetzer/3WWaK/)创建了另一个 JSFiddle，它清楚地显示了我想要实现的目标。我似乎无法从将视图插入模板的位置传递变量值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T09:16:16.720

模板表达式及其行为

*   `{{view.name}}`将从视图中选择值
*   `{{controller.name}}`将从控制器中选择值
*   `{{name}}`将从视图的上下文中选择值

所以，请使用第一个选项来绑定视图属性

更新小提琴 - [http://jsfiddle.net/VenkataSuresh/3WWaK/2/](http://jsfiddle.net/VenkataSuresh/3WWaK/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T12:42:04.413

我在这里为您编写了一个小小提琴[http://jsfiddle.net/Energiz0r/sbnwb/3/](http://jsfiddle.net/Energiz0r/sbnwb/3/) 我遵循了您的上述 API：

```
{{view App.TextFieldWithLabel valueBinding='approach' label='ApproachLabel'}} 
```

希望这就是你要找的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T04:39:59.357

如果您想使用 Ember 创建引导字段，那么到目前为止我发现的最好的方法是[Ember Bootstrap](https://github.com/emberjs-addons/ember-bootstrap)

虽然它没有很好的文档记录，但我发现它使用起来非常简单，而且你会为自己节省很多时间，因为它实现得很好。我发现代码非常简洁，如果你花时间看看它是如何工作的，你就会学到很多关于 Ember 的知识。

为了更具体地回答您的问题，如果您插入如上所示的 Ember 视图，则视图对象将能够访问`this.get('value')`和`this.get('label')`. 一个是文字，一个是绑定都没关系。Ember 优雅的部分原因在于它可以为您处理这个问题。

# vbscript - 带有子和变量的 HTA 不会显示在另一个子中

> ID：14457221
> 
> 赞同：0
> 
> 时间：2013-01-22T11:09:15.840
> 
> 标签：vbscript, hta

我一直在研究这个......但无法弄清楚它为什么会起作用

我有一个下拉列表，选择后它会设置一个值，这很好......

但是当我希望该值显示在另一个子例程中时它不会显示？

请帮我 ？

如果您喜欢任何代码应该以某种方式编写，请告诉我......我从互联网上学习，所以我没有正确“训练”......

```
<html>
<head>
<title>Break Logs</title>

<HTA:APPLICATION

icon=icon.ico
    singleinstance="yes"
border="thin"
borderStyle="normal"
caption="yes"
maximizeButton="no"
minimizeButton="no"
showInTaskbar="yes"
windowState="normal"
innerBorder="yes"
navigable="no"
scroll="no"
scrollFlat="no"
sysMenu="yes"
>

</head>

<SCRIPT Language="VBScript">

Window.ResizeTo 250, 250

Dim objFSO, wshShell, strUser, Name, LastName, strLogs, strLogFile, strLocation

'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'       GETTING USERS NAME FROM AD  THIS IM NOT USING WHEN AT HOME TESTING...
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
sub asdf

Set wshShell = CreateObject("WScript.Shell")
strUser = wshShell.ExpandEnvironmentStrings("%USERNAME%")
Const ADS_SCOPE_SUBTREE = 2
Set objRootDSE = GetObject("LDAP://RootDSE")
strDomain = objRootDSE.Get("DefaultNamingContext")
Set objConnection = CreateObject("ADODB.Connection")
objConnection.Provider = "ADsDSOObject"
objConnection.Open "Active Directory Provider"
Set objCommand = CreateObject("ADODB.Command")
Set objCommand.ActiveConnection = objConnection
objCommand.Properties("Searchscope") = ADS_SCOPE_SUBTREE
objCommand.CommandText = "SELECT distinguishedName FROM 'LDAP://" & strDomain & "'                 WHERE objectCategory='User' AND samAccountName = '" & strUser & "'"
Set objRecordSet = objCommand.Execute
If Not objRecordSet.EOF Then
strDN = objRecordSet.Fields("distinguishedName").Value
End If
Set MyUser = GetObject ("LDAP://" & strDN)
Name = myUser.GivenName
LastName = myUser.sn

end sub

Name = "Pavle"
LastName = "Stojanovic"

'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'       SETTING TITLEBAR NAME
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
document.title = "Break Logs For " & Name & " " & LastName

'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
CONST ForAppending = 8

Set objFSO = CreateObject("Scripting.FileSystemObject")

strLocation = "F:\"
strLogFile = "Late Breaks.txt"

If Not objFSO.FileExists(strLocation & strLogFile) Then
   objFSO.CreateTextFile(strLocation & strLogFile)
End If

Sub Breaks

MorningBreak = (" - Morning Break " & Name & " was late: " & _ 
        HowLate.Value & " Minutes" & vbCrLf & _
    " - Reason: " & Reason.Value & vbCrLF & _
    " - Date Entered: " & Now())

LunchBreak = (" - Lunch Break " & Name & " was late: " & _ 
        HowLate.Value & " Minutes" & vbCrLf & _
    " - Reason: " & Reason.Value & vbCrLF & _
    " - Date Entered: " & Now())

AfternoonBreak = (" - Afternoon Break " & Name & " was late: " & _ 
        HowLate.Value & " Minutes" & vbCrLf & _
    " - Reason: " & Reason.Value & vbCrLF & _
    " - Date Entered: " & Now())

RNA = (" - Ring No Answer Logged By " & Name & vbCrLF & _
   " - On Date: " & Now() & vbCrLF & _ 
   " - Reason: " & Reason.Value)

Other = (" - Date Entered: " & Now() & vbCrLf & _ 
 " - Reason: " & Reason.Value)

If DropDown.Value = 1 Then

' Nothing to be done in this option...

ElseIf DropDown.Value = 2 Then

BreakCode = MorningBreak

ElseIf DropDown.Value = 3 Then

BreakCode = LunchBreak

ElseIf DropDown.Value = 4 Then

BreakCode = AfternoonBreak

ElseIf DropDown.Value = 5 Then

BreakCode = RNA

ElseIf DropDown.Value = 6 Then

BreakCode = Other

Else

MsgBox "Something went wrong, this option shouldn't popup"

End If

' If I do MsgBox to display BreakCode it works here before leaving the sub ?
End Sub

Sub Submit

MsgBox BreakCode ' this doesnt show up and below wont write to text ???

Set strLogs = objFSO.OpenTextFile(strLocation & strLogFile, ForAppending, True)
    strLogs.WriteLine BreakCode & vbCrLf
     strLogs.Close

End Sub

</SCRIPT>
<body bgColor="LightSteelBlue">

<select size="1" name="DropDown" onChange="Breaks">
 <option value="1">Choose Break</option>
  <option value="2">Morning Break</option>
    <option value="3">Lunch Break</option>
     <option value="4">Afternoon Break</option>
      <option value="5">Ring No Answer</option>
       <option value="6">Other</option>
        </select>

<BR>
<BR>

Reason:
<BR>
<input type="text" name="Reason" size="10" style="width:200">

<BR>
<BR>

Minutes Late:
<BR>
<input type="text" name="HowLate" size="10"> 

<BR>
<BR>
<input type="button" value="Submit" onClick="Submit" title="Added Reason for being late.">

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T18:00:18.097

您没有在`BreakCode`任何地方显式定义变量，因此脚本引擎会在使用它的范围内自动定义变量。因此，您有**两个**变量`BreakCode`：一个在过程`Breaks`中，另一个在过程中`Submit`。后者永远不会被赋值，所以它保持为空。

插入一行

```
Dim BreakCode 
```

在这一行之后：

```
Dim objFSO, wshShell, strUser, Name, LastName, strLogs, strLogFile, strLocation 
```

问题就会消失。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T20:51:27.130

@Ansgar 在此代码中发现**一个**错误（+1）显然值得称赞。如果将其与干净的“解决方案”进行比较：

**HTA：**

```
<html>
 <head>
  <title>Break Logs</title>
  <hta:application
   id="breaks"
   scroll="no"
  ></hta>
  <script type="text/vbscript" src="breaks.vbs"></script>
 </head>
 <body bgColor="LightSteelBlue">
  <form>
   <select size="1" name="DropDown">
    <option value="1">Choose Break</option>
    <option value="2">Morning Break</option>
    <option value="3">Lunch Break</option>
    <option value="4">Afternoon Break</option>
    <option value="5">Ring No Answer</option>
    <option value="6">Other</option>
   </select>
   <br />
   <br />
   Reason:
   <br />
   <input type="text" name="Reason" size="10" style="width:200">
   <br />
   <br />
   Minutes Late:
   <br />
   <input type="text" name="HowLate" size="10">
   <br />
   <br />
   <input type="button" value="Save" onClick="SaveIt" title="Added Reason for being late.">
  </form>
 </body>
</html> 
```

**VBS：**

```
Option Explicit

Const ForAppending = 8
Const csFSpec      = "wherever"

Window.ResizeTo 250, 250

Dim sFstName : sFstName = "Pavle"
Dim sLstName : sLstName = "Stojanovic"
document.title = "Break Logs For " & sFstName & " " & sLstName

Sub SaveIt
  Dim nOpt : nOpt = CInt(document.all.DropDown.Value)
  If nOpt <> 1 Then
     Dim sReason  : sReason  = Trim(document.all.Reason.Value)
     Dim sHowLate : sHowLate = Trim(document.all.HowLate.Value)
     Dim sBreak   : sBreak   = document.all.DropDown.options(nOpt - 1).text
     If sReason <> "" And sHowLate <> "" Then
        Dim sLog   : sLog       = Join(Array( _
              "- " & sBreak & " " & sFstName & " was late" _
            , "- Minutes:      " & sHowLate _
            , "- Reason:       " & sReason _
            , "- Date Entered: " & Now() _
         ), vbCrLf)
        MsgBox sLog
        Dim oFS    : Set oFS    = CreateObject("Scripting.FileSystemObject")
        Dim tsLogs : Set tsLogs = oFS.OpenTextFile(csFSpec, ForAppending, True)
        tsLogs.WriteLine sLog
        tsLogs.Close
     Else
        MsgBox "Fill in Reason and HowLate!"
     End If
  Else
     MsgBox "Choose break type!"
  End If
End Sub 
```

你可以很容易地拿起其他人：

1.  糟糕的 HTML：介于 和 之间，没有（你应该使用像 tidy 这样的验证器）
2.  提交意味着提交到服务器；这对 .HTA 毫无意义
3.  当 DropDown 选择机会时，选择 Reason 和 HowLate 是没有用的（通常用户稍后会填写它们）。实际上，DopDown 可以很好地自行处理选择更改
4.  当用户点击时，所有有趣的事情都会发生`Save`。所以根本不需要全局变量
5.  `OpenTextFile(,,True)`将创建一个不存在的文件，因此检查日志文件的存在是不必要的

你可以专注于中心缺陷：

1.  你不能在生产中使用它，因为一旦你有多个用户，他们**就会**同时按下`Save`并破坏日志文件。

# google-drive-api - 如何获取上次使用 Google Drive API 编辑文件的人的权限 ID？

> ID：14457223
> 
> 赞同：1
> 
> 时间：2013-01-22T11:09:17.573
> 
> 标签：google-drive-api

我需要最后一次更改文件的人的唯一标识，但在文件 [https://developers.google.com/drive/v2/reference/files#resource] 中只有字段“lastModifyingUserName”。

是否可以获取上次使用 Google Drive API 编辑文件的人的权限 ID？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-27T20:58:19.697

你是对的，这是缺失的，我会说这是一个错误。

此处应添加权限 ID，以便至少进行一些交叉引用。我会调查这种可能性。感谢您提出问题。

# jquery - 为什么我的 div 不会垂直扩展？

> ID：14457227
> 
> 赞同：0
> 
> 时间：2013-01-22T11:09:49.633
> 
> 标签：jquery, html, css

我有一个在 jQuery 滑块上工作的培训公司的注册表格。最后一页（摘要页面）上的内容根据用户输入动态变化。由于某种原因，如果最后一页的内容超过了容器的大小，容器 div 将不会垂直扩展。

溢出设置为隐藏以隐藏滑块的水平部分。如果内容推到底部边界以下，有没有办法让容器扩展？

该表格可在[http://testing.xenongroupadmin.com/enrolment/找到](http://testing.xenongroupadmin.com/enrolment/)

要正确查看我所说的效果，请尝试在“家庭地址”和“工作地址”输入中输入一个非常长的地址。

对此的任何帮助都会非常有用！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:55:20.093

认为我发现了问题 - 我没有注意到表单内的容器 div 之一具有固定高度，因此在内容扩展时没有扩展。

谢谢你看一看！

克里斯

# compilation - Websphere 在哪里编译 Jasper jrxmls

> ID：14457228
> 
> 赞同：0
> 
> 时间：2013-01-22T11:09:58.310
> 
> 标签：compilation, jasper-reports, websphere-7

我知道当您使用 jrxmls 部署 ear/war 时，它们会自动编译成 .jasper 文件。

我正在使用 Websphere 7.0，问题是编译后我看不到 jasper 文件，我在 SystemOut.log 中看到它们正在编译，但我没有看到任何 jasper 正在生成。

[1/22/13 10:20:16:241 AST] 00000031 jasperReportMu I org.springframework.web.servlet.view.jasperreports.AbstractJasperReportsView loadReport 编译从 ServletContext 资源加载的 Jasper 报告 [/reports/xml/JSreport1.jrxml] [ 1/22/13 10:20:16:588 AST] 00000031 jasperReportMu I org.springframework.web.servlet.view.jasperreports.AbstractJasperReportsView loadReport 编译从 ServletContext 资源加载的 Jasper 报告 [/reports/xml/sreport2.jrxml] [1 /22/13 10:20:16:826 AST] 00000031 jasperTextView I org.springframework.web.servlet.view.jasperreports.AbstractJasperReportsView loadReport 编译从 ServletContext 资源加载的 Jasper 报告 [/reports/xml/sreport4.jrxml]

有人见过这个问题吗，根据日志，我应该有一些 .jasper 文件，但我没有看到任何文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:21:51.457

尝试在应用服务器控制台中设置以下 Java 系统属性：

`jasper.reports.compile.temp`指向要查看编译结果的目录。

`jasper.reports.compile.keep.java.file`设置为 true 以便在编译后不会删除文件

# javascript - 在 Win8 应用程序中使用 AppendTo/jquery-win8

> ID：14457232
> 
> 赞同：3
> 
> 时间：2013-01-22T11:10:09.207
> 
> 标签：javascript, backbone.js, windows-8, angularjs, winjs

我很想查看[ToDoMVC](https://github.com/addyosmani/todomvc)示例，并尝试通过复制和粘贴代码将它们移植到 Win8 JS 应用程序，但也引用了相关的 WinJS 库。

由于围绕 InnerHTML 等的 MS 安全原则，我引用了[jQuery-Win8](https://github.com/appendto/jquery-win8)，它试图解决这个问题，但是在 Angular 和 Backbone 示例中，当我运行应用程序时，我在 appendChild 上遇到异常

我在某些地方读到过，您应该能够继续运行该应用程序，但如果我在异常情况下按“继续”，该应用程序无论如何都会关闭。

谁能指出我正确的方向来让它运行？

谢谢

**更新：**这是 VS 中异常的屏幕截图[![在此处输入图像描述](../Images/49995c3eec175323698df74e84960e0b.png)](https://i.stack.imgur.com/DOQl1.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-23T14:25:29.877

appendTo 的版本消除了在加载时运行 jQuery 时发生的错误。您仍然可能有违反 Microsoft 实施的安全模型的代码。Microsoft 正试图让您意识到向您的页面添加未经清理的标记存在风险。

如果您确信情况并非如此，您可以在包含 appendTo 库后尝试设置`jQuery.isUnsafe`为。`true`这应该包含所有可能的不安全调用，`MSApp.execUnsafeLocalFunction`以便微软不会抱怨。

注意：此标志默认关闭

# java - 在bash中转义特殊字符

> ID：14457234
> 
> 赞同：0
> 
> 时间：2013-01-22T11:10:20.527
> 
> 标签：java, bash, jar

我在 bash 脚本中有这个命令：

```
sudo java -jar ./myjar.jar name_%1$tY%1$tm.csv ./sql/blablab.sql someArgument 
```

或者

```
sudo java -jar ./myjar.jar "name_%1$tY%1$tm.csv" ./sql/blablab.sql someArgument 
```

这两个命令中的任何一个都将产生以下 3 个参数：

```
Arguments :   name_%1%1.csv  ./sql/blablab.sql  someArgument 
```

如您所见，`%`和/或`$`没有逃脱。我正在寻找逃离他们的方法。

最好的祝福

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:14:46.873

在 bash 中，不带引号的反斜杠`\`是转义字符。它保留后面的下一个字符的文字值，除了`\n`. 您不需要转义`%`字符，但必须转义，`$`否则 bash 会将其视为变量并展开它。

在你的情况下，

```
sudo java -jar ./myjar.jar name_%1\$tY%1\$tm.csv ./sql/blablab.sql someArgument 
```

应该管用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:15:07.467

试试这个：

```
sudo java -jar ./myjar.jar 'name_%1$tY%1$tm.csv' ./sql/blablab.sql someArgument 
```

这是假设您希望所有`$`字符都未转义为`java`. 还有其他方法：

```
example_$notAVar$aVar    # yields example_
example_\$notAVar\$aVar  # yields example_$notAVar$aVar
aVar=42
example_$notAVar$aVar    # yields example_42
'example_$notAVar$aVar'  # yields example_$notAVar$aVar
"example_\$notAVar$aVar" # yields example_$notAVar42
example_\$notAVar$aVar   # yields example_$notAVar42
'example_$notAVar'$aVar  # yields example_$notAVar42 
```

# javascript - 使用 Liquid Slider 随机启动幻灯片

> ID：14457240
> 
> 赞同：0
> 
> 时间：2013-01-22T11:10:43.253
> 
> 标签：javascript, jquery, html, slider, coda-slider

我目前正在尝试设置一个液体滑块，以便每次都从随机滑块开始。有没有人知道启用此功能的变量设置或 hacky 解决方法？

液体滑块可以在这里找到（它是响应式布局的尾声滑块版本）： http: [//liquidslider.kevinbatdorf.com/](http://liquidslider.kevinbatdorf.com/)

我正在使用的页面在这里，有问题的滑块位于红色容器的第二行： [http ://www.astwood.co.uk/](http://www.astwood.co.uk/)

我目前正在使用以下方式激活滑块：

```
$(function() { 
  $('#references').liquidSlider({
    autoHeight: true,
    hashLinking: true
  });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-27T09:31:35.337

有一个选项，`firstPanelToLoad`默认为 1。您可以根据您拥有的幻灯片数量生成一个随机数。如果你有 4 张幻灯片，我想应该是这样的：

`firstPanelToLoad:(Math.floor(Math.random() * 4) + 1)`

如果您遇到困难，请给我发送电子邮件。我是 Liquid Slider 的作者，不介意尽我所能提供帮助。

# c# - 如何从街道地址获取坐标

> ID：14457247
> 
> 赞同：2
> 
> 时间：2013-01-22T11:10:55.820
> 
> 标签：c#, location, windows-phone-8

我正在使用 windows phone 8 应用程序，但我找不到如何获取坐标表单地址。问题是，我有我的坐标，我需要计算我和某个地址之间的距离。

windows phone 8 没有太多的文档记录，所以请帮助我。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-24T01:53:27.577

您正在寻找的内容称为“地理编码”：将地址转换为地理坐标。

如前所述，您可以在 WP7 上使用 Google 和 Bing 来实现这一目标。在 windows phone 8 上，框架支持地理编码和反向地理编码。您可以[在这篇诺基亚介绍文章（在“地理编码”下）中阅读对地理编码的概述](http://www.developer.nokia.com/Community/Wiki/What%27s_new_in_Windows_Phone_8#Maps)[，并在另一篇诺基亚文章中](http://www.developer.nokia.com/Resources/Library/Lumia/#!guide-to-the-maps.html;#toc_Searchingforanaddress)阅读更全面的概述。

这是从地址转换为坐标的地理编码示例：

```
private void Maps_GeoCoding(object sender, RoutedEventArgs e)
{
    GeocodeQuery query = new GeocodeQuery()
    {
        GeoCoordinate = new GeoCoordinate(0, 0),
        SearchTerm = "Ferry Building, San-Francisco"
    };
     query.QueryCompleted += query_QueryCompleted;
    query.QueryAsync();
}

void query_QueryCompleted(object sender, QueryCompletedEventArgs<IList<MapLocation>> e)
{
    StringBuilder sb = new StringBuilder();
    sb.AppendLine("Ferry Building Geocoding results...");
    foreach (var item in e.Result)
    {
        sb.AppendLine(item.GeoCoordinate.ToString());
        sb.AppendLine(item.Information.Name);
        sb.AppendLine(item.Information.Description);
        sb.AppendLine(item.Information.Address.BuildingFloor);
        sb.AppendLine(item.Information.Address.BuildingName);
        sb.AppendLine(item.Information.Address.BuildingRoom);
        sb.AppendLine(item.Information.Address.BuildingZone);
        sb.AppendLine(item.Information.Address.City);
        sb.AppendLine(item.Information.Address.Continent);
        sb.AppendLine(item.Information.Address.Country);
        sb.AppendLine(item.Information.Address.CountryCode);
        sb.AppendLine(item.Information.Address.County);
        sb.AppendLine(item.Information.Address.District);
        sb.AppendLine(item.Information.Address.HouseNumber);
        sb.AppendLine(item.Information.Address.Neighborhood);
        sb.AppendLine(item.Information.Address.PostalCode);
        sb.AppendLine(item.Information.Address.Province);
        sb.AppendLine(item.Information.Address.State);
        sb.AppendLine(item.Information.Address.StateCode);
        sb.AppendLine(item.Information.Address.Street);
        sb.AppendLine(item.Information.Address.Township);
    }
    MessageBox.Show(sb.ToString());
} 
```

当我在 WP8 上运行此代码段时，我收到以下消息框：

![MEssageBox 显示渡轮大楼的详细信息](../Images/9885a368e175d5314e43a13fc29791c9.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T12:52:32.317

您有多种选择，我用来完成此任务的方法是使用网络服务、GOOGLE、BING、YAHOO 等。

在 Bing 上（Cus 适用于 windows phone），您需要一个密钥才能访问地图 api 您可以在 [http://www.microsoft.com/maps/developers/mobile.aspx获取密钥](http://www.microsoft.com/maps/developers/mobile.aspx)

获得密钥后，您可以访问 WP7.1 SDK for BING，或者如果这对您不起作用，请使用 Rest Service [http://msdn.microsoft.com/en-us/library/ff701715.aspx上的位置 api](http://msdn.microsoft.com/en-us/library/ff701715.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T08:46:23.820

Bing Maps REST 服务还提供从给定地址获取 Lat/Long 的功能，更多信息可在[此处的 MSDN上找到](http://msdn.microsoft.com/en-us/library/ff701714.aspx)

您将需要在此处获取 Bind Maps 密钥[...](http://www.bingmapsportal.com/)

# jquery - 如何创造更好的爆炸效果

> ID：14457248
> 
> 赞同：2
> 
> 时间：2013-01-22T11:11:02.367
> 
> 标签：jquery, jquery-ui, animation

我有一个我正在尝试完成的动画，它应该类似于从下方升起的气泡，然后单击时会爆炸显示文本。

当前的效果是由这段代码产生的：

```
jQuery('.bubble1').on('click', function () {
 jQuery(this).stop(true,true).hide('explode', { pieces: 75 } , 1000, function() {
  jQuery('.corpo-del-testo').show();
 });
}); 
```

[我还做了一个 jsFiddle 来演示效果](http://jsfiddle.net/Soraph/UaLDj/6/)。

我想要一个更好的爆裂效果，但我找不到解决方案，任何人有类似的问题或知道如何实现更“现实”的泡沫状爆炸？像爆发一样。

提前致谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-05T20:57:55.640

这是我创建的另一种气泡弹出效果。

[http://jsfiddle.net/EkZBg](http://jsfiddle.net/EkZBg)

```
<div id="content">
  <div id="bubble"></div>
  <div id="dummy_debris" class="debris" />
</div>

<script>

$(function(){
  // Document is ready
  $("#bubble").on("click", function(e) {
    pop(e.pageX, e.pageY, 13);
  });
});

function r2d(x) {
    return x / (Math.PI / 180);
  }

  function d2r(x) {
    return x * (Math.PI / 180);
  }

  // Specify particle_count as 10 + Math.random()*10 to make things interesting!
  function pop(start_x, start_y, particle_count) {
    arr = [];
    angle = 0;
    particles = [];
    offset_x = $("#dummy_debris").width() / 2;
    offset_y = $("#dummy_debris").height() / 2;

    for (i = 0; i < particle_count; i++) {
      rad = d2r(angle);
      x = Math.cos(rad)*(80+Math.random()*20);
      y = Math.sin(rad)*(80+Math.random()*20);
      arr.push([start_x + x, start_y + y]);
      // You could use an IMG tag here instead to make the particles sprites
      z = $('<div class="debris" />');
      z.css({
        "left": start_x - offset_x,
        "top": start_y - offset_x
      }).appendTo($("#content"));
      particles.push(z);
      angle += 360/particle_count;
    }

    $.each(particles, function(i, v){
      $(v).show();
      $(v).animate({
        top: arr[i][1], 
        left: arr[i][0],
        width: 4, 
        height: 4, 
        opacity: 0
      }, 600, function(){
        $(v).remove()
      });
    });
  }
</script>

<style>
/* Add browser prefixes as-needed. See CSS3please.com */
.debris {
 display: none;   
 position: absolute;
 width: 28px;
 height: 28px;
 background-color: #ff00ff;
 opacity: 1.0;
 overflow: hidden;
 border-radius: 8px;
}

#bubble {
  position:absolute;
  background-color: #ff0000;
  left:150px;
  top:150px;
  width:32px;
  height:32px;
  border-radius: 8px;
  z-index: 9;
}
</style> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-11-15T15:11:14.440

I have a CSS only click effect I used to animate my copy to clipboard button:

```
#clickbox{
  display:none;
}
label {
  z-index: 1;
  position: relative;
  font-size: inherit;
  font-family: inherit;
  color: black;
  outline: none;
  border: none;
  padding: 5px;
  background-color: transparent;
}

label:hover {
  cursor: pointer;
}

label::before {
  content: '';
  z-index: -1;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  transform-origin: center;
  transform: scale(1);
}

#clickbox:checked + label::before{
  transition: all 0.75s ease-in-out;
  transform-origin: center;
  transform: scale(1.75);
  opacity: 0;
  white-space: pre;
   content: '\A\A Copied';
  border: 6px solid hsl(236, 32%, 26%);
}
#clickbox:checked + label i{
  color:#9A9A9A;
}
```

```
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet"/>
<html>
  <body style="margin:20px">
    <input type="checkbox" id="clickbox"/>
    <label for="clickbox" class="copy-click"><i id="container-id-copy" class="fa fa-clipboard"></i></label>
  </body>
</html>
```

# php - PHP：在mysql中的时间戳值内分割日期和时间

> ID：14457250
> 
> 赞同：6
> 
> 时间：2013-01-22T11:11:16.210
> 
> 标签：php, mysql, date, datetime

我在数据库表中有一个名为“时间戳”的字段，它以这种格式存储值：- YYYY-MM-DD HH:MM:SS。

我想分开然后在一个变量中获取日期（YYYY-MM-DD）以及另一个变量中的时间（HH：MM：SS）。例子：

```
$timestamp = "2012-10-19 18:19:56";
$get_date = "2012-10-19";
$get_time = "18:19:56"; 
```

如果有人可以使用 php 帮助解决这个问题，我会很高兴。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-22T11:13:43.070

[`explode()`您可以使用 PHP 的函数](http://php.net/manual/en/function.explode.php)简单地用空格字符分割字符串-

```
$timestamp = "2012-10-19 18:19:56";
$splitTimeStamp = explode(" ",$timestamp);
$date = $splitTimeStamp[0];
$time = $splitTimeStamp[1]; 
```

另一种方法是[`strtotime()`](http://php.net/manual/en/function.strtotime.php)结合使用[`date()`](http://php.net/manual/en/function.date.php)-

```
$date = date('Y-m-d',strtotime($timestamp));
$time = date('H:i:s',strtotime($timestamp)); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T11:13:24.797

很简单，用explode，试试下面这个就行了

```
$new_time = explode(" ",$timestamp);
$get_date = $new_time[0];
$get_time = $new_time[1]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-22T11:16:00.033

您可以使用该[`explode`](http://php.net/manual/en/function.explode.php)功能；plus[`list`](http://php.net/manual/en/function.list.php)函数可以使你的代码稍微短一些：

```
list($get_date, $get_time) = explode(" ", "2012-10-19 18:19:56");
var_dump($get_date, $get_time); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T11:13:16.800

```
$timestamp = "2012-10-19 18:19:56";

$splits =  explode(" ",$timestamp);

$get_date = $splits[0];

$get_time = $splits[1]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T11:24:30.867

而不是爆炸，你可以简单地这样做。这将对您拥有的任何格式有所帮助。

```
echo $timestamp = "2012-10-19 18:19:56";
echo '<br>';
echo $data = date('Y-m-d',strtotime($timestamp));
echo '<br>';
echo $time = date('H:i:s',strtotime($timestamp)); 
```

输出

```
2012-10-19 18:19:56
2012-10-19
18:19:56 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-09-21T16:28:10.587

检查这个 PHP 小提琴：

[http://phpfiddle.org/lite?code=%3C?php](http://phpfiddle.org/lite?code=%3C?php) \n\n$d​​atetime%20=%20%2228-1-2011%2014:32:55%22;\nlist($date,%20 $time)=explode(%27%20%27,%20$datetime);\n\n//%20check%20the%20result\necho%20%22date:%22.%20$date;\necho%20 %22%3Cbr%3Etime:%22.%20$time;\n\n//%20further%20more%20you%20can%20easy%20split%20the%20date%20into\n//%20year%20month%20and% 20day\nlist($year,%20$month,%20$day)=explode(%27-%27,%20$date);\n\n?%3E\n

# android - 如何检测通过广播接收器更改的自动同步状态

> ID：14457251
> 
> 赞同：5
> 
> 时间：2013-01-22T11:11:20.913
> 
> 标签：android, android-intent, android-broadcast

目前我正在开发具有多个**切换功能的小部件，其中之一是自动同步切换。** 我设法使用流动代码实现了自动同步的启用和禁用。

```
public class AutoSyncUtility {

    private static final String TAG = "Toggler_AutoSyncUtility";

    public static void setEnabled(Context context, boolean isEnabled) {
        Log.d(TAG, "Called setEnabled");

        try {
            ContentResolver.setMasterSyncAutomatically(isEnabled);
        } catch (Exception exception) {
            Log.e(TAG, Log.getStackTraceString(exception));
        }
    }

    public static boolean isEnabled(Context context) {
        Log.d(TAG, "Called isEnabled");
        boolean isEnabled = false;
        try {
                isEnabled = ContentResolver.getMasterSyncAutomatically();
        } catch (Exception exception) {
            Log.e(TAG, Log.getStackTraceString(exception));
        }

        return isEnabled;
    }

} 
```

除此之外，我需要注册广播接收器，它将检测从其他应用程序（从设置或通过其他小部件）更改的自动同步状态。 **是否有一些动作可以添加到清单中的意图过滤器？**

其他可能的解决方案是`implement SyncStatusObserver interface`使用

```
public void onStatusChanged(int which);

Object handleObject = ContentResolver.addStatusChangeListener(ContentResolver.SYNC_OBSERVER_TYPE_SETTINGS, 
    new SyncStatusObserver() {
        @Override
        public void onStatusChanged(int which) {}
    );
} 
```

**但是这个解决方案的问题是，每次我启动其他应用程序或关闭/打开屏幕时，侦听器都会自行取消注册，并且句柄对象变为空。**

有什么解决方法吗？

**====== 最新更新*（解决方法）* ====== **

```
public class AutoRotateContentObserver extends ContentObserver {

    public static interface AutoRotateStateChangedListener {
        void autoRotateStateChanged();
    }

    private AutoRotateStateChangedListener mListener;

    public AutoRotateContentObserver(Handler handler,
            AutoRotateStateChangedListener listener) {
        super(handler);
        mListener = listener;
    }

    @Override
    public void onChange(boolean selfChange) {
        mListener.autoRotateStateChanged();
        super.onChange(selfChange);

    }
}

public class MyService extends Service implements
        AutoRotateStateChangedListener {
    private AutoRotateContentObserver mAutoRotateContentObserver;

    @Override
    public void onCreate() {
        super.onCreate();

        mAutoRotateContentObserver = new AutoRotateContentObserver(new Handler(), this);

        getContentResolver().registerContentObserver(
                Settings.System.getUriFor(Settings.System.ACCELEROMETER_ROTATION),
                false, mAutoRotateContentObserver);
    }

    @Override
    public void onDestroy() {
        getContentResolver().unregisterContentObserver(mAutoRotateContentObserver);
        super.onDestroy();
    }

    @Override
    public void autoRotateStateChanged() {         
        // doSomething();
    }
}

public class AutoRotateUtility {

    public static boolean isEnabled(Context context) {        
        try {
            return (Settings.System.getInt(context.getContentResolver(),
                    Settings.System.ACCELEROMETER_ROTATION) != 0) ? true : false;            
        } catch (SettingNotFoundException e) {
        }        
        return false;
    }

    public static void setEnabled(Context context, boolean isEnabled) {
        try {
            Settings.System.putInt(context.getContentResolver(),
                    Settings.System.ACCELEROMETER_ROTATION, isEnabled ? 1 : 0);                        
        } catch (Exception e) {    
        }        
    }
} 
```

# javascript - iOS 和 Android 移动应用程序中的安全应用程序凭据？

> ID：14457253
> 
> 赞同：0
> 
> 时间：2013-01-22T11:11:29.330
> 
> 标签：javascript, android, ios, security, titanium

在我的移动应用程序中存储我的应用程序凭据的最佳方式是什么？

有没有一种方法可以在不将应用程序凭据存储在移动应用程序本身中的情况下做到这一点？（我需要这些凭据才能对我的 Web 服务进行服务调用）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T02:57:54.753

iOS 和 Android 都提供了系统级功能来执行此操作。iOS 提供钥匙串，它代表存储凭据的应用程序保护凭据。Android 提供了 KeyChain，它做同样的事情......但这个功能只在 Ice Cream Sandwich (Android 4.0) 中添加；对于之前的 Android 版本，这个问题没有很好的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:42:44.113

如果是 IOS，我认为最好的方法是保存在钥匙串中。

# java - 接口HttpSessionListener的哪个jar？

> ID：14457258
> 
> 赞同：0
> 
> 时间：2013-01-22T11:11:36.547
> 
> 标签：java, jar, wsdl, java2wsdl

我想`javax.servlet.http.HttpSessionListener`在我的项目中使用界面。该项目找不到合适的 jar。

我需要在项目中包含哪个 jar？哪个包？

**编辑**

似乎是一个不同的问题，[这里是新问题](https://stackoverflow.com/questions/14458106/how-to-use-java2wsdl-on-a-class-that-implements)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:14:05.697

我想`servlet-api.jar`会做到的。

如果项目仍然找不到合适的 jar，那么您必须尝试再次添加它[正如您所说的那样，您正在使用 eclispe，因此您可以使用添加它`properties-> build path -> configure build path -> add external jars`]。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:16:15.680

取决于您还需要什么以及您周围有什么。或者您正在使用哪个容器。请参阅[http://findjar.com/class/javax/servlet/http/HttpSessionListener.html](http://findjar.com/class/javax/servlet/http/HttpSessionListener.html)

# java - Ant：找不到 tools.jar

> ID：14457261
> 
> 赞同：2
> 
> 时间：2013-01-22T11:11:44.607
> 
> 标签：java

当我在命令行中键入 Ant 时..我收到以下错误..

无法找到 tools.jar。预计在 C:\Program Files\Java\jre6\lib\tools.jar Buildfile 中找到它：build.xml 不存在！构建失败

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:23:14.747

您`JAVA_HOME`看起来像是指向*JRE* - 它`tools.jar`是*JDK*而不是*JRE*的一部分。

将环境变量更改`JAVA_HOME`为指向*JDK*，*ANT*将起作用。

# encode - 我应该对单个帧、该帧的颜色通道还是 8x8 宏块进行 Huffman 编码？

> ID：14457263
> 
> 赞同：0
> 
> 时间：2013-01-22T11:11:48.207
> 
> 标签：encode, huffman-code, dct

进一步回答我几天前关于 [基于 DCT 的视频编码过程的问题](https://stackoverflow.com/questions/14398229/dct-based-video-encoding-process)

我有 DCT、量化、之字形和 RLE 步骤，它们似乎正在输出合理的值，所以我现在需要知道我应该在整个帧、该帧的颜色通道还是在 8x8 宏块级别上运行 Huffman 编码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:24:15.740

给出明确的答案很棘手，因为这实际上取决于您的数据，以及您希望解码器的复杂程度。

您可能不想对流中所有不同类型的数据使用单个霍夫曼编码，因为使用的符号不同，并且出现在不同的频率（即交流分量与直流分量不同，并且如果您使用了非 RGB 颜色空间，则亮度与色度不同）。JPEG方法是对不同的数据项使用不同的表，但是数据在流中是交错的（所以还是按顺序解析的）。这些表不一定是为数据动态计算的，而是通常只使用默认值。

除了这个观察之外，我认为你如何分解或交错数据不会有太大的不同。

# java - 请问我在这段代码中做错了什么

> ID：14457266
> 
> 赞同：0
> 
> 时间：2013-01-22T11:12:11.417
> 
> 标签：java

我写了一个排序函数，它可以对所有内容进行排序，但是如果两个单词之间有空格，它会将空格排序到开头并删除最后一个字符串元素，为什么会这样？我尝试了 String.trim() 方法来消除空格，但它没有用，我需要帮助

```
private void SortStringsActionPerformed(java.awt.event.ActionEvent evt) {                                            
         // TODO add your handling code here:
         String str = TextArea.getText();

     String[] words = str.split(" ");

        int length = words.length;
    String temp; 
    for(int i=0; i<=length-1; i++){
            for(int j=0; j <length-1;j++){
            if(words[i].compareToIgnoreCase(words[j]) == 0 ){}
            else if (words[i].compareToIgnoreCase(words[j]) < 0){   
                                temp = words[i].trim();
                words[i] = words[j].trim();
                words[j] = temp;
            }else{} 
        }
    }
        /*
    String str2="";
    for (int i=0; i < length-1; i++) {
            str2+=words[i]+" ";
        }
        */
        StringBuilder str2 = new StringBuilder();
        for(int i=0; i<length-1; i++) {
            str2.append(words[i]).append(" ");
        }
        TextArea.setText(str2.toString());

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:27:01.400

首先，最好不要使用`for(int i=0; i<=length-1; i++)`，而是`for(int i = 0; i < length; i++)`.

这也是你最后一个元素被删除的原因 - 你已经使用`for(int i=0; i<length-1; i++)`而不是`for(int i=0; i<length; i++)`

编辑：并禁用您可以使用的空格：`TextArea.setText(str2.toString().trim());`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:16:48.910

如果你想对“任何”进行排序，只需使用 java.utils.Collections 类。它为实现 Comparable 的元素提供了排序方法：

```
static <T extends Comparable<? super T>> void sort(List<T> list) 
```

或者您可以指定自己的比较器：

```
static <T> void sort(List<T> list, Comparator<? super T> c) 
```

这比编写和调试自己的排序代码更容易。

这是一个例子：[http ://www.vogella.com/blog/2009/08/04/collections-sort-java/](http://www.vogella.com/blog/2009/08/04/collections-sort-java/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:17:42.913

[没有必要重新发明轮子](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28java.lang.Object%5B%5D%29)

# php - 如何自动点击 URL 并将收到的响应放入 csv 文件？

> ID：14457267
> 
> 赞同：-1
> 
> 时间：2013-01-22T11:12:14.537
> 
> 标签：php

我有一个包含数百个 URL 的 .csv 文件。我必须编写一个 PHP 脚本，该脚本将读取文件然后遍历所有 URL。在循环中，每个 URL 都应该自动命中（就像我们在浏览器的地址栏中键入 URL 并按 Enter 按钮），在命中 URL 后收到的响应必须以下列方式写入新的 .csv 或 .txt 文件：

```
 Request URL, Response received 
```

在循环结束时，每个请求 URL 及其各自的响应都应写入 .txt 或 .csv 文件。响应肯定会在一个班轮中采用 csv 格式。因此，在将响应写入文件时不需要验证。我在谷歌上做了很多搜索，但找不到有用的解决方案。谁能帮我解决这个问题？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:22:09.000

您可能会发现以下功能很有用：

*   [fgetcsv](http://php.net/manual/en/function.fgetcsv.php) () 读取 CSV 文件（包含 URL 列表的文件）
*   [file_get_contents](http://php.net/manual/en/function.file-get-contents.php) () 来“命中”一个 URL
*   [fputcsv](http://php.net/manual/en/function.fputcsv.php) () 将结果写入 CSV 文件

查看 PHP 手册以获取有关如何使用这些函数的详细信息，但它们非常“基本”

# bison - 带有野牛和弹性源的自动工具

> ID：14457272
> 
> 赞同：2
> 
> 时间：2013-01-22T11:12:22.437
> 
> 标签：bison, autotools, flex-lexer

我有一个包含 flex 和 bison 源文件的 C 项目；flex 文件#includes 野牛生成的tab.h 文件。

所以我在 configure.ac 文件中添加了 AC_PROG_LEX 和 AC_PROG_YACC。但是在我运行 autotools 并尝试创建项目之后，在运行 bison 以生成 tab.h 文件 #included 由 flex .c 文件*之前编译了 flex 生成的 .c 文件。*因此编译失败。

我是一个 autotools（和 stackoverflow！）新手——我需要让 autotools 知道 flex .o 对 bison .tab.h 的依赖吗？如果是这样，那么该依赖项将在哪里 - 在包含项目 SOURCES 列表的 Makefile.am 中？

蒂亚约翰

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T23:32:15.790

您需要告诉 automake 头文件将被构建而不是您已经提供。把它放在 Makefile.am 中：

```
BUILT_SOURCES = tab.h 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-25T08:40:14.383

根据我的经验，您不能让解析器和扫描器使用相同的前缀。

那是，

```
bin_PROGRAM = baz
AM_YFLAGS = -d
BUILT_SOURCES = foo.h
baz_SOURCES = main.c foo.l foo.y 
```

不会工作，但是

```
bin_PROGRAM = baz
AM_YFLAGS = -d
BUILT_SOURCES = bar.h
baz_SOURCES = main.c foo.l bar.y 
```

将确保`automake`在`bar.y`.`foo.l`

因此，请确保您的扫描仪和解析器使用不同的文件名，一切顺利。

# android - 笛卡尔坐标系android和ios

> ID：14457274
> 
> 赞同：3
> 
> 时间：2013-01-22T11:12:29.193
> 
> 标签：android, ios

当我们从 iOS 绘制坐标并将其发送到 android 时，它会像镜子一样翻转，反之亦然，我们只能从两个设备获取坐标并发送它。唯一的区别是在 iOS 中我们使用 OpenGL ES 进行绘图，而在 android 中我们只使用 Native Canvas 然后获取它们的坐标。

注意：我想发布一张图片，但我没有足够的权限发布它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:18:00.690

V 坐标在 OpenGL 中翻转。您必须考虑到 OpenGL 和 Native Canvas 之间的这种差异。您可以在一些相关问题中找到更多详细信息：

[OpenGL ES有不同的UV坐标？](https://stackoverflow.com/questions/8619584/opengl-es-has-different-uv-coordinates/8621571#8621571)

[3DS VAO 上的贴图纹理变成镜像](https://stackoverflow.com/questions/14156476/mapping-texture-on-3ds-vao-turns-out-mirrored/14159658#14159658)

# php - Zend 邮件和垃圾邮件

> ID：14457282
> 
> 赞同：2
> 
> 时间：2013-01-22T11:12:43.257
> 
> 标签：php, zend-framework, spam, email-spam, zend-mail

我正在使用 Zend_Mail 向我的用户发送多封邮件它运作良好，但我对垃圾邮件有一些问题（如 gmail）

我发现了这个但对我不起作用（邮件继续进入垃圾邮件文件夹） [Zend_Mail 发送的电子邮件被视为垃圾邮件](https://stackoverflow.com/questions/3692100/zend-mail-sent-email-is-treated-as-spam)

也许可能是与 smtp 服务器和我的“setReplyTo”有关的问题？

smtp 服务器：authsmtp.duenove.it setReplyTo：the_email@fasys.it

编码：

```
require("Zend/Mail.php");
require("Zend/Mail/Transport/Smtp.php");

$config = array('auth' => 'login',
                'username' => 'myusername',
                'password' => 'mypassword');

$transport = new Zend_Mail_Transport_Smtp('authsmtp.duenove.it', $config);

        //test email - for test only
        $cliente[0]['mail']="vobislab@libero.it";
        $cliente[0]['name']="Andrea Mariani";

        $cliente[1]['mail']="noreply.mario@gmail.com";
        $cliente[1]['name']="Andrea Gmail";

$mail = new Zend_Mail();

$mail->setReplyTo('info@fasys.it', 'Vobis Valdarno 2.0');
$mail->addHeader('X-Abuse', 'Please report abuse: andream@fasys.it');
$mail->addHeader('List-Unsubscribe', 'http://www.vobisvaldarno.it/newsletter/unsubscribe/');
$mail->addHeader('MIME-Version', '1.0');
$mail->addHeader('Content-Transfer-Encoding', '8bit');
$mail->addHeader('X-Mailer:', 'PHP/'.phpversion());

$mail->setFrom('fasys@vobisvaldarno.it', 'Vobis Valdarno 2.0');

foreach($cliente as $k => $c){

$mail->addTo($c['mail'], $c['name']);
$mail->setSubject('Hello '.$c['name'].', this is a test');

$body=
'<!doctype html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<p>test html mail</p>
</body>
<html>';

$mail->setBodyHTML($body);

//send and clear message
$mail->send($transport);
$mail->clearRecipients();
$mail->clearSubject();

} 
```

谢谢大家的建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-03T16:31:28.613

该问题很可能与 Zend_Mail 无关。如果您进入您的 gmail 帐户，在您的垃圾邮件文件夹中打开被错误标记为垃圾邮件的邮件，您应该会看到如下内容：

为什么此邮件会出现在垃圾邮件中？它包含通常在垃圾邮件中使用的内容。

在邮件的收件人/收件人信息下方的阅读栏中。这应该会给你一些关于为什么电子邮件被标记为垃圾邮件的信息。

更多详情： http: [//gmailblog.blogspot.ca/2012/03/learn-why-message-ended-up-in-your-spam.html](http://gmailblog.blogspot.ca/2012/03/learn-why-message-ended-up-in-your-spam.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-03T12:41:54.153

我认为垃圾邮件的原因是因为身体太小（短）！

# c - C中的循环链接列表

> ID：14457287
> 
> 赞同：0
> 
> 时间：2013-01-22T11:13:10.617
> 
> 标签：c, circular-list

我正在尝试遍历 C 中的循环单链接列表，但它显示了除最后一个元素之外的所有元素。错误在哪里？显示功能的其他部分中的条件可能会发生变化？但条件应该是什么？显示和创建链接列表的功能是：

```
struct node
{

    int data;
    struct node *next;
}*last;

void create(int num)
{

        struct node *t,*q;
        t=(struct node*)malloc(sizeof(struct node));
        t->data=num;
        //list is empty 
        if(last==NULL){
        last=t;
        t->next=last;
    }
    else
    {
        t->next=last->next;     
        last->next=t;
        last=t;
    }
    return;
}

void display()
{

    struct node *q;
    q=(struct node*)malloc(sizeof(struct node));
    if(last==NULL){
        printf("no items in the list");
        return;

    }
    else{
        q=last->next;
        while(q!=last){
                printf("%d\n",q->data);
            q=q->next;          
        }
    }
    //return;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:24:09.900

您从 开始打印，`last->next`但 while 中的条件在`q==last`. 所以你没有打印`last`节点。

如果`else`要执行部分，那么您知道列表中至少有一个节点。因此，您可以将 else 部分更改为：

```
q=last->next;
do{
    printf("%d\n",q->data);
    q=q->next;
}while(q!=last->next); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:17:37.820

`last`在这种情况下也是一个有效的注释，你打破循环的方式很好。您也应该在 while 循环之后添加一些代码来打印`last`节点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T11:22:13.343

您没有打印循环列表的最后一个节点。

添加

```
printf("%d\n",q->data); 
```

在`else`阻止之后`display()`

或者不要在 else 块之后放置一个丑陋的 printf ，您可以考虑使用 **do while 构造** 。

而且您不需要在 display() 中为 q 分配内存。只是

```
struct node *q; 
```

一定够了。因为您只持有遍历列表的指针。

# c# - 如何通过 C# 和 System.Data.SQLite 库在 SQLite 中使用事务？

> ID：14457299
> 
> 赞同：1
> 
> 时间：2013-01-22T11:13:40.683
> 
> 标签：c#, sqlite, transactions, transactionscope

我正在使用 System.Data.SQLite 库（版本 1.0.83.0）和 C# 4.0 来使用 SQLite 数据库。

我想使用交易，我正在尝试执行以下操作：

```
using (var scope = new TransactionScope(TransactionScopeOption.Required, new TransactionOptions { IsolationLevel = System.Transactions.IsolationLevel.Serializable }))
{
        EntitiesSQLite myContext = new EntitiesSQLite();

        string strSQLSongDB = "select * from Songs where IDSong = 38";
        Songs mySongDB = myContext.Songs.SqlQuery(strSQLSongDB).FirstOrDefault<Songs>();

        string strSQLAuthors = "select * from Authors";
        List<Authors> lstAuthors = myContext.Authors.SqlQuery(strSQLAuthors).ToList<Authors>();

        scope.Complete();
} 
```

当我设置 strSQLAuthors 时，我可以获得歌曲，并传递到下一行，但是当我尝试在下一行中获取作者时，应用程序等待大约 10 秒，直到我收到错误“基础提供程序错误打开” ”。

当我得到歌曲并传递到下一行时，我尝试使用外部应用程序（SQLite 专家）搜索歌曲，但显示歌曲 38，因此事务不会阻塞寄存器，这就是我想要的我想使用交易。

在其他情况下，当我不使用事务时，我在使用上下文时没有问题，但在这种情况下，如果其他用户已阅读，我不知道如何阻止其他用户读取登记。

对于业务逻辑，我需要确保我为某些操作加载了所有数据，并且我需要确保它不会创建与要处理的数据相关的其他新寄存器。

我想知道使用 SQLite 和 C# 使用事务的最佳方式是什么。

# asp.net-mvc - MVC：Visual Studio 错误地从视图启动应用程序

> ID：14457302
> 
> 赞同：0
> 
> 时间：2013-01-22T11:13:44.923
> 
> 标签：asp.net-mvc, visual-studio-2010

当我对视图进行一些更改然后单击运行图标时，应用程序会崩溃；System.Web.HttpException：找不到路径“（视图名称）”。为什么会发生这种情况以及如何让 VS 正确启动？当我编写自己的应用程序时，这不会发生，但我不记得我做了什么来阻止这种情况发生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:17:03.217

您的视图文件在运行时必须已被选中（即通过鼠标单击），在运行前通过单击鼠标选择解决方案，否则在运行后从 URL 中删除不需要的参数。

# python - Python子进程和用户交互

> ID：14457303
> 
> 赞同：37
> 
> 时间：2013-01-22T11:13:46.430
> 
> 标签：python, command-line, subprocess, popen, frontend

我正在使用 Python 2.6 开发 GUI 前端，通常它相当简单：您使用`subprocess.call()`or`subprocess.Popen()`发出命令并等待它完成或对错误做出反应。如果你有一个程序停止并等待用户交互，你会怎么做？例如，程序可能会停止并询问用户 ID 和密码或如何处理错误？

```
c:\> parrot
Military Macaw - OK
Sun Conure - OK
African Grey - OK
Norwegian Blue - Customer complaint!
(r) he's Resting, (h) [Hit cage] he moved, (p) he's Pining for the fjords 
```

到目前为止，我所阅读的所有内容都告诉您如何仅**在**程序完成后读取程序的所有输出，而不是如何在程序仍在运行时处理输出。我无法安装新模块（这是针对 LiveCD 的），并且我将多次处理用户输入。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-22T12:49:29.147

查看[子流程](http://docs.python.org/2/library/subprocess.html)手册。您可以选择将您调用的进程的 、 和 重定向到您自己的进程`subprocess`。`stdin``stdout``stderr`

```
from subprocess import Popen, PIPE, STDOUT

p = Popen(['grep', 'f'], stdout=PIPE, stdin=PIPE, stderr=STDOUT)

grep_stdout = p.communicate(input='one\ntwo\nthree\nfour\nfive\nsix\n')[0]
print grep_stdout 
```

您还可以逐行与流程交互。鉴于此`prog.py`：

```
import sys
print 'what is your name?'
sys.stdout.flush()
name = raw_input()
print 'your name is ' + name
sys.stdout.flush() 
```

您可以通过以下方式逐行与其交互：

```
>>> from subprocess import Popen, PIPE, STDOUT
>>> p = Popen(['python', 'prog.py'], stdout=PIPE, stdin=PIPE, stderr=STDOUT)
>>> p.stdout.readline().rstrip()
'what is your name'
>>> p.communicate('mike')[0].rstrip()
'your name is mike' 
```

编辑：在 python3 中，它需要是`'mike'.encode()`.

# elasticsearch - 如何运行嵌入式弹性搜索实例进行测试

> ID：14457305
> 
> 赞同：10
> 
> 时间：2013-01-22T11:13:55.950
> 
> 标签：elasticsearch, specs2

我正在使用具有用于单元测试目的的嵌入式[弹性搜索](http://www.elasticsearch.org/)实例的设置，但是当我使用 sbt ( ) 连续运行测试时`~test-only <my-test>`，系统变得越来越不稳定，直到它冻结并不得不用火杀死。

我很难正常工作的事情是：

*   隔离
*   清理
*   关闭

设置它的正确方法是什么（最好使用 specs2 的解决方案，但也欢迎基于 Java 的解决方案）？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-23T11:52:36.213

我建议你看看github 上的[elasticsearch-test项目。](https://github.com/tlrx/elasticsearch-test)您可以轻松地将其作为依赖项添加到项目中，并使用其方便的注释来启动测试节点、创建索引等。

# c# - InnerHtml 动态

> ID：14457306
> 
> 赞同：0
> 
> 时间：2013-01-22T11:13:56.400
> 
> 标签：c#, javascript, jquery, asp.net, html

我从数据库中查询数据并显示`InnerHtml`为 ![截图](../Images/61c97bd2ca73936c31fc288b7700e248.png)

我想像我在图像中以红色创建的那样添加`checkbox`，这不是结果的一部分。我怎样才能添加一个像红色的？`innerHtml``checkbox``checkbox``InnerHtml`

```
WebBrowserDocument +=
                                "<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">" +
                                "<tr>" +
                                "<td width=\"5\" bgcolor=\"#" + ContentTone + "\"></td>" +
                                "<td width=\"8\"></td>" +
                                "<td>" +
                                    " <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"700\"> " +
                                    " <tr> " +
                                    " <td class=\"MainHeadline\"><a href=\"|play|" + urlString + "\"> " +
                                    " " + makeBold(dr["issues"].ToString()) + " " +
                                    " </a>" +
                                    " <span class=\"MainHeadlinePart\">" + makeBold(dr["ProvinceName"].ToString()) + " - " + makeBold(dr["CityName"].ToString()) + " - " + makeBold(dr["AreaName"].ToString()) + "</span>" +
                                    "</td> " +
                                    " </tr> " +
                                    " <tr> " +
                                    " <td class=\"line2\"> " +
                                    " " + dr["channelName"].ToString() + "  " + dr["transmissionDate"].ToString() + " " + dr["startTime"].ToString() +
                                    " </td> " +
                                    " </tr> " +
                                    " <tr> " +
                                    " <td class=\"programName\"> " +
                                    " " + makeBold(dr["programName"].ToString()) + " - " + dr["programTypeName"].ToString() + " (" + dr["contentType"].ToString() + ") " +
                                    " </td> " +
                                    " </tr> " +
                                    " <tr> " +
                                    " <td class=\"descriptions\"> " +
                                    " " + makeBold(dr["KeyWords"].ToString()) + "</td> " +
                                    " </tr> " +
                                    " <tr> " +
                                    " <td class=\"persons\"> " +
                                    " " + makeBold(dr["personsName"].ToString()) + " " +
                                    " </td> " +
                                    " </tr> " +
                                    " <tr> " +
                                    " <td class=\"persons\"> " +
                                    " " + makeBold(dr["PartiesName"].ToString()) + " " +
                                    " </td> " +
                                    " </tr> " +
                                    " <tr> " +
                    //" <td class=\"descriptions\"> " +
                    //" <a href=\"|update|" + urlString + "\">Update</a> | <a href=\"|delete|" + urlString + "\">Delete</a> | <a href=\"|save|" + urlString + "\">Save To Hard Drive</a> | <a href=\"|saveAsWMV|" + urlString + "\">Save As WMV</a>" +
                    //" </td> " +
                                    " <td class=\"descriptions\"> " +
                                    " <a href=\"|download|" + urlString + "\">Download</a>" +
                                " </td> " +
                                " </tr> " +
                                " </table> " +
                            " </td> " +
                            " </tr> " +
                            " </table> " +
                                " <br /> "; 
```

您可以在最后一行代码中看到下载标签。我想要复选框以及下载标签。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:57:45.540

添加您的复选框后`" <a href=\"|download|" + urlString + "\">Download</a>" +`，它应该是这样的：

```
" <a href=\"|download|" + urlString + "\">Download</a>" +

"<input type='checkbox' name='chkbox' value='chkbox'>" 
```

# ios - 为 iOS 项目中的每个目标选择不同的语言

> ID：14457307
> 
> 赞同：2
> 
> 时间：2013-01-22T11:14:01.160
> 
> 标签：ios, xcode, localization, project

我有一个 iOS 项目（当前的 XCode），它支持 5 种语言并且其中几乎没有目标。我希望能够以某种方式为每个目标选择语言（无需手动删除它们）。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-11T22:21:13.880

我最终创建了两个脚本。同时，我将美国文件中的更改添加到默认 en lproj（我的美国和英国略有不同）。

一种用于删除不必要的语言

```
#!/bin/bash
if [ -e ProjectName.xcodeproj/project.pbxproj.backup ]; then
    echo "Last changes were not yet reverted."
else
    # move files from en-US to en
    cp -f en-US.lproj /* en.lproj */

    # remove from project file all occurences of unwanted languages
    cp ProjectName.xcodeproj/project.pbxproj ProjectName.xcodeproj/project.pbxproj.backup
    grep -v "en-GB.lproj" ProjectName.xcodeproj/project.pbxproj > ProjectName.xcodeproj/project.pbxproj2; mv ProjectName.xcodeproj/project.pbxproj2 ProjectName.xcodeproj/project.pbxproj
    grep -v "fr.lproj" ProjectName.xcodeproj/project.pbxproj > ProjectName.xcodeproj/project.pbxproj2; mv ProjectName.xcodeproj/project.pbxproj2 ProjectName.xcodeproj/project.pbxproj
    grep -v "it.lproj" ProjectName.xcodeproj/project.pbxproj > ProjectName.xcodeproj/project.pbxproj2; mv ProjectName.xcodeproj/project.pbxproj2 ProjectName.xcodeproj/project.pbxproj
    grep -v "sv.lproj" ProjectName.xcodeproj/project.pbxproj > ProjectName.xcodeproj/project.pbxproj2; mv ProjectName.xcodeproj/project.pbxproj2 ProjectName.xcodeproj/project.pbxproj 
```

第二个是取回所有语言包

```
#!/bin/bash

if [ -e ProjectName.xcodeproj/project.pbxproj.backup ]; then
    mv ProjectName.xcodeproj/project.pbxproj.backup ProjectName.xcodeproj/project.pbxproj
fi 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-20T13:55:17.063

我所做的是：

1 - 创建两个语言字符串文件

![在此处输入图像描述](../Images/3e909a3442956a35f79192755a02bf5a.png)

2 - 对于每个字符串文件，选择要使用该文件的目标以及该目标可用的语言

![在此处输入图像描述](../Images/1cfc310f92cf5fdd0128b8f74b958045.png)

![在此处输入图像描述](../Images/370171e36dd0ae23d79f09a1c868e0a3.png)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-22T11:22:01.953

1) 最好的方法是在一个目标中添加任何本地化支持。您可以选择任何文件并选择“Make Localized..”以添加文件夹：

```
en.lproj
de.lproj 
```

2）如果你不想做第一步，那么你可以只使用一个文件，你的本地化文本在哪里。并在每个目标上添加每个。例子：

**仅在**MyProject_en**目标中添加的 Texts_en.txt 仅在**MyProject_de**目标 **中**添加的**Texts_de.txt****

 ******升级版：**

或者您可以为每个目标添加一个预处理器宏

```
LANG_ENG
LANG_GER 
```

在您的代码中，您必须使用它们****

# unity3d - 在 Unity 中隐藏/取消隐藏 GUI 文本组

> ID：14457308
> 
> 赞同：1
> 
> 时间：2013-01-22T11:14:01.830
> 
> 标签：unity3d, unityscript

我创建了一个空的 GameObject 来包含 GUI 文本对象，我怎样才能让它们隐藏？我会使用渲染器还是会一一挑选那些 GUI 文本对象并将其活动设置为 false？我不想要很长的部分，这就是为什么我只是想知道我该怎么做。谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-05T12:06:32.873

最简单的方法是激活和停用包含所有 GUI 文本对象的游戏对象。

# entity-framework - 实体框架是否适用于具有 800 多个表的大型数据库？

> ID：14457310
> 
> 赞同：2
> 
> 时间：2013-01-22T11:14:18.923
> 
> 标签：entity-framework, entity-framework-4

我在数据库中有 869 个表。我应该使用实体框架（版本 4）还是普通的旧 ADO.NET？

我对摆动的方式持观望态度——EF（版本 4）或普通的旧 ADO.NET，对实体框架有轻微的倾向。我只担心实体框架模型设计器是否会冻结在如此大的数据模型上，以及维护是否会是一场噩梦。

你们有没有人尝试过使用实体框架来处理如此庞大的数据集？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:16:14.663

数据库中表的数量并不真正影响数据访问层框架的选择。

EF 擅长它的工作，使用 EF 将导致比 ADO.NET 中的等效代码少得多的代码。

因此，我几乎总是推荐 EF 而不是 ADO.NET。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:43:34.643

这是基于经验的。我们是在线博彩公司，因此我们的数据传输涉及实时交付。我们做了一些基准测试，比较了使用 EF 和 ADO.NET 的查询速度，我们发现 ADO.NET 几乎比 EF 快 4 倍。如果您的表具有一对多的关系或具有复杂的关系，那么您的应用程序使用 EF 会更加繁重。为什么？因为如果您使用 EF 进行查询，它不仅会从主表中获取数据，还会从子表中获取记录。除非您使用 LINQ 查询中的“投影”以某种方式使您的对象更轻。

最后，您应该考虑一件事何时不使用 EF。

*如果您的首要任务是尽快交付或插入数据，请不要使用 EF。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T23:24:51.483

对于 EF4 和 EF5 有这么多表，如果您遇到启动缓慢的问题，您可能需要使用预生成的视图。您可能想要查看[性能注意事项](http://blogs.msdn.com/b/adonet/archive/2012/04/05/ef5-performance-considerations.aspx)- 这些是 EF5 特定的，但很多信息仍然适用于 EF4，或者至少应该让您了解需要注意哪些方面。如果可能，请使用 .NET Framework 4.5 - 此版本有[显着的性能](http://blogs.msdn.com/b/adonet/archive/2012/02/14/sneak-preview-entity-framework-5-0-performance-improvements.aspx)改进。

# jvm - 在 ubuntu(Linux) 中安装 Alfresco 时出错

> ID：14457311
> 
> 赞同：0
> 
> 时间：2013-01-22T11:14:37.803
> 
> 标签：jvm, alfresco, alfresco-share

**我尝试在我的 Linux 系统**中安装 Alfresco Document storage Server 。但是有一些我无法解决的问题。我下载了 alfresco-community-3.4.a-installer-linux-x32.bin 并开始从终端命令行代码安装它

设置已运行，最后弹出错误消息

> **运行安装后步骤时出现问题。安装可能无法正确完成 错误运行 /opt/alfresco-3.4.a/java/bin/java -jar /opt/alfresco-3.4.a/bin/alfresco-mmt.jar install /opt/alfresco-3.4.a/amps /opt/alfresco-3.4.a/tomcat/webapps/alfresco.war -directory -nobackup：错误：没有`server ' JVM at` /opt/alfresco-3.4.a/java/jre/lib/i386/server /libjvm.so'。**

安装尚未完成！它说JDK有一些错误！

这是什么问题，我该如何解决？任何解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:51:34.520

看起来很旧的 3.4.a 版本附带了一个损坏的安装程序。

除非您有充分的理由安装该版本，否则我建议您前往[http://wiki.alfresco.com/wiki/Download_and_Install_Alfresco](http://wiki.alfresco.com/wiki/Download_and_Install_Alfresco)并获取最新的 4.2.c 安装程序。

如果您的内核支持该架构，您甚至可能需要 64 位版本。键入`arch`并检查它是否显示“x86_64”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T11:51:23.877

最好的解决方案是将 Ubuntu 切换到 10.04 LTS x64 并安装 Alfresco 4.2d。如果你不能这样做，你应该下载并安装[Alfresco 3.4.d x86](http://wiki.alfresco.com/wiki/Community_file_list_3.4.d)版本。文件名是

> alfresco-community-3.4.d-installer-linux-x32.bin

那应该工作

# android - 自定义操作栏布局中按钮的夏洛克操作项样式

> ID：14457312
> 
> 赞同：1
> 
> 时间：2013-01-22T11:14:45.030
> 
> 标签：android, android-layout, actionbarsherlock

有没有办法将夏洛克操作项样式（默认触摸反馈和长按反馈以及单击区域 - 宽度/高度）应用于自定义操作栏布局中的按钮？

src/MainActivity.java

```
getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);
getSupportActionBar().setCustomView(R.layout.actionbar_main); 
```

res/layout/actionbar_main.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >

    <!-- Home button -->
    <ImageButton
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_centerVertical="true"
        android:layout_marginLeft="12dp"
        android:background="@drawable/ic_home"
        android:contentDescription="@string/ic_home"
        android:onClick="clickButtonHome" />

    <!-- Centered text -->
    <TextView
        android:id="@+id/add_actionbar_text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:text="@string/title_activity_main"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <!-- Cancel button -->
    <ImageButton
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:layout_marginRight="12dp"
        android:background="@drawable/ic_cancel"
        android:contentDescription="@string/ic_cancel"
        android:onClick="clickButtonHome" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T16:23:09.177

用于's 样式`Widget.Sherlock.ActionButton`。`ImageButton`要实现长按吐司效果，您需要使用 Roman Nurik 的[CheetSheet](https://gist.github.com/3982005)类。

为了将来参考，所有 ActionBarSherlock 样式和主题都具有与本机样式和主题相同的命名约定，但使用“Sherlock”而不是“Holo”。例如，

*   `Widget.Holo.ActionButton`变成`Widget.Sherlock.ActionButton`
*   `Theme.Holo.Light.DarkActionBar`变成`Theme.Sherlock.LightDarkActionBar`
*   `TextAppearance.Holo.Widget.ActionBar.Title`变成`TextAppearance.Sherlock.Widget.ActionBar.Title`

# java - springDm中如何查看war部署状态？

> ID：14457318
> 
> 赞同：0
> 
> 时间：2013-01-22T11:15:24.653
> 
> 标签：java, spring-mvc, osgi, war, spring-dm

我正在尝试使用基于maven的surefire测试和基于springDM的Web应用程序的AbstractConfigurableBundleCreatorTests类进行junit测试。

如何知道 war 包是否已成功部署？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:18:42.860

您可能会以某种方式使用[BundleListener](http://www.osgi.org/javadoc/r4v43/core/org/osgi/framework/BundleListener.html)来收听您的捆绑包的状态。将侦听器添加到 bundleContext。

# c# - Linq判断一个值是否出现超过x次

> ID：14457319
> 
> 赞同：7
> 
> 时间：2013-01-22T11:15:34.517
> 
> 标签：c#, linq

我有一个对象集合，它们的 JobCode 是一个字符串值。我们有一条业务规则，即在集合中，我们的 JobCode 相同的元素永远不应超过 4 个。我正在为此苦苦挣扎，因为通常我会与列表外部的一些已知值进行比较，而不是将列表与自身进行比较。

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-22T11:17:44.970

您可以通过以下方式识别您的糟糕工作：

```
Jobs.GroupBy(j => j.JobCode).Where(g => g.Count() > 4) 
```

目前尚不清楚您希望采取何种补救措施...

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-22T11:18:38.930

您可以按您的字符串属性进行分组，然后检查是否有任何包含超过 4 个元素的组：

```
bool test = jobs.GroupBy(z => z.MyString).Any(z => z.Count() > 4); 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-22T11:17:26.807

您将`GroupBy`在集合上使用，而不是`Count`在结果组上使用：

```
var jobCodesWithMoreThanFourOccurences = collection.GroupBy(x => x.JobCode)
                                                   .Where(x => x.Count() > 4)
                                                   .Select(x => x.Key); 
```

我们最后选择的`Key`是我们在 中用作键的属性`GroupBy`，即它将包含`JobCode`.

# jquery - 在另一个 jquery 插件中使用 jquery 插件

> ID：14457322
> 
> 赞同：1
> 
> 时间：2013-01-22T11:15:38.440
> 
> 标签：jquery, jquery-plugins

我已经创建了对数据执行特定操作的插件，现在我想以某种方式加入我的插件以与 ex 一起使用。jQuery 对话框。我怎样才能做到这一点？

这是简化的情况：

```
(function($) {
    $.fn.jquerytoc = function(map, layersConfig, layersList) {

        var opts = $.extend($.treeview, $.fn.jquerytoc.defaults, map, layersConfig, layersList);

        var TOC = {
            map : opts.map,
            layersConfig : opts.layersConfig,
            TOCinfos : {},
            getRequiredData : function() {

            },
            init : function() {
                this.getRequiredData();
            }
        };
        var HTML = {
            nodes : TOC.TOCinfos,
            data : [],
            htmlObject : {},
            jqTreeObject : {},
            setHTMLcode : function() {
                var object = this.data;
                var objectNode = {};

                var nodes = this.nodes;
                console.log(nodes);
                for (var node in nodes) {
                    objectNode = {};

                    objectNode.label = nodes[node].name;
                    objectNode.children = [];

                    var sublayers = nodes[node].sublayers;
                    for (var sublayer in sublayers) {
                        objectNode.children.push({
                            'label' : sublayers[sublayer]
                        });
                    };
                    object.push(objectNode);
                };
            },
            init : function(object) {
                this.htmlObject = object;
                this.setHTMLcode();
            }
        };
        function init() {
            TOC.init();
            HTML.init(this);
        }
        return this.each(function() {
            init();

//AND HERE I WOULD LIKE TO WRAP MY DOM ELEMENT WITH JQUERY DIALOG
jQuery.dialog(this);
        });
    }
})(jQuery); 
```

但我总是知道 jQuery 方法对话框是`undefined`. 我尝试了很多方法，但总是得到同样的错误。我很乐意提供帮助！谢谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:25:26.217

使用`jQuery(this).dialog()`代替`jQuery.dialog(this)`

# ios - ipod Touch 5g 上的应用程序不使用全分辨率（[UIScreen mainScreen].bounds.height == 480.0）

> ID：14457327
> 
> 赞同：2
> 
> 时间：2013-01-22T11:16:02.187
> 
> 标签：ios, screen, resolution

我们有一个应用程序，它使用了 iphone 5 的全分辨率并且到目前为止运行良好。现在我们收到了一位测试人员的投诉，称它在 ipod Touch 5g 上不起作用。

令人惊讶的是，日志显示 [UIScreen mainScreen].bounds 在 ipod Touch 上返回 (320.0, 480.0) 而在 iphone 5 上显示正确的边界 (320.0, 568.0) ？！

在此之后，我进行了调查，似乎 iOS 会查找是否存在带有“-568h”后缀的图像并决定以信箱模式 (320,480) 或全分辨率 (320,568) 运行。

现在我有一个令人讨厌的怀疑：我们的高分辨率初始屏幕图像的名称是 Default~iphone-568h@2x.png 对应于 Apple 应该可以工作（我们有一个在 ipad 和 iphone 上运行的通用应用程序）。

由于我这里还没有 ipod touch，有人可以证实这个怀疑：

*   Default~iphone-568h@2x.png 适用于 iphone 5，但不适用于 ipod touch 5g

*   Default-568h@2x.png 适用于两种设备。

编辑：8-0 我不相信这一点。我现在有一个可用的 ipod Touch 和一个 iphone 5。如前所述，我正在使用 ~iphone 修饰符来区分其他图像以区分 ipad 和 iphone。

将 Default~iphone-568h@2x.png 重命名为 Default-568h@2x.png 现在适用于 ipod touch 5，但不再适用于 iphone 5。完全颠倒*了*！！

复制：

*   使用适用于所有设备的通用应用程序（iphone/ipad 视网膜/非视网膜/4"）

*   为 iphone/ipod 命名“~iphone”标识符，为 ipad 命名

*   使用 Default~iphone-568h@2x.png 或 Default-568h@2x.png 并查看它是否在 iphone 5 和 iphone touch 5 上以正确的全分辨率*运行*。

可以请人确认一下吗？Xcode 4.5.2 / iOS SDK 6.0

编辑 2： rckoenes 回答成功了，但我仍然对 iphone 的设备标识符无法正常工作感到失望。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:27:33.613

这`Default~iphone-568h@2x.png`应该是不正确 的`Default-568h@2x.png`。不要`~iphone`在启动图像上使用修饰符，`~iphone`or`~ipad`修饰符仅在您需要在不同设备上加载视图的特定图像时才有用。因此，启动图像不需要它。

您可以在[iOS App Programming Guide](https://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007072-CH1-SW1)部分中找到有关[App Launch (Default) Images](https://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/App-RelatedResources/App-RelatedResources.html#//apple_ref/doc/uid/TP40007072-CH6-SW12)的内容。

我的通用应用程序具有以下图像：

*   默认.png
*   默认@2x.png
*   默认-568h@2x.png
*   Default-Portrait~ipad.png
*   Default-Portrait@2x~ipad.png
*   默认-横向~ipad.png
*   Default-Landscape@2x~ipad.png

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:28:40.037

设备修饰符必须在文件名的末尾[http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/App-RelatedResources/App-RelatedResources.html](http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/App-RelatedResources/App-RelatedResources.html)

所以正确的文件名是 Default-568h@2x~iphone.png

# javascript - jsonp字符串到数字返回错误的数字

> ID：14457335
> 
> 赞同：0
> 
> 时间：2013-01-22T11:16:26.247
> 
> 标签：javascript, json, object, numeric

对于需要有关 poi 的数据的应用程序，我从服务器检索 jsonp dat。该数据采用以下形式：

```
{
"id":"31775",
"x1":"5.141329",
"y1":"51.593395",
"x2":"5.141974",
"y2":"51.593472",
"p1":"0",
"p2":"0"
} 
```

因为服务器运行 php 5.2.17 我不能使用`JSON_NUMERIC_CHECK`.

因此，当我收到文件时，我会尝试将它们转换为数字。然而，chrome 控制台和转换后的数字是错误的，如下所示。

```
Object {id: "31775", x1: "5.141329", y1: "51.593395", x2: "5.141974", y2: "51.593472"…}
id: "31775"
p1: "0"
p2: "0"
x1: 5.261592156887178
x2: 5.261092156887178
y1: 8736.838921620045
y2: 8736.836754225322
__proto__: Object 
```

关于如何解决这个问题的任何想法？与此同时，我已经要求我的主机升级 php 版本，以便我们可以使用数字检查。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T11:09:49.867

从我的 Chrome 控制台：

```
var o = {
  "id":31775,
  "x1":5.141329,
  "y1":51.593395,
  "x2":5.141974,
  "y2":51.593472,
  "p1":0,
  "p2":0
}; 
```

JSON.stringify(o, null, 2)

“{“id”：31775，“x1”：5.141329，“y1”：51.593395，“x2”：5.141974，“y2”：51.593472，“p1”：0，“p2”：0}”

如果你得到非常不同的数字，你从字符串到数字的转换就会被破坏。

如果你得到的数字略有不同，那么欢迎来到 [http://floating-point-gui.de/]（欢迎使用浮点）。

# grails - 在 Grails 中将地图渲染为 json

> ID：14457340
> 
> 赞同：1
> 
> 时间：2013-01-22T11:16:57.690
> 
> 标签：grails

我在我的应用程序中使用 Grails，但 JSON 转换器有问题。

在我的控制器中，我有：

```
def myObject = [:]
myObject.key = 'value'
render ??? 
```

`myObject`从控制器呈现为 JSON 的最佳方式是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-22T11:18:46.173

这简单 ：

```
render (myObject as JSON) 
```

或者

```
render ([key: "value"] as JSON) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T17:02:02.250

另一种方法是：

```
 render (contentType: 'text/json'){
        array {
            for(f in Person.list()){
                person id: f.id, name: f.name
            }
        }
    } 
```

此示例呈现人员列表

# javascript - 如何在Mozilla中使用javascript获取div标签下的所有标签

> ID：14457344
> 
> 赞同：0
> 
> 时间：2013-01-22T11:17:34.397
> 
> 标签：javascript, mozilla

```
function handle_node(entity)
{
    var i = 0;

    var varName = window.event.srcElement.name.substring(0,7);
    var fieldValue = window.event.srcElement.value;
    var fieldName;
    // traverse thru all the products in the family
    for(i=0; i < entity.childNodes.length; i++)
    {
        if(entity.childNodes(i).tagName == "DIV")
        {
            handle_child_node(entity.childNodes(i))
        }
    }
}

function handle_child_node(entity)
{
    var it = 0;
    var oObject = entity.all;

    if (oObject != null)
    {
        if (oObject.length != null)
        {
            for (it = 0; it < oObject.length; it++)
            {
                if (oObject(it).tagName == 'INPUT' && oObject(it).attributes["type"].nodeValue == 'checkbox')
                {
                    resetTextFieldValue(window.event.srcElement, oObject(it));
                }
            }
        }
    }
} 
```

上面的代码在 IE 中运行良好。但它不适用于 Mozilla。然后我更改了下面给出的代码。但它没有在 div 标签下获取标签。哪些更改可以使代码在 Mozilla 上运行？

```
 function handle_node(entity)
        {
            var i = 0;
        if (entity.hasChildNodes())
        {
         children= entity.childNodes;
        for(i=0; i < children.length; i++) {

          var sibling= children[i];

                if(sibling.tagName == "DIV") {

           var elms = document.getElementsByTagName(sibling);
              handle_child_node(sibling)
                }
            }
        }
        }

        function handle_child_node(entity)
        {
         alert("entity"+entity);
            var it = 0;
            var oObject = entity.all;
           if (oObject != null)
            {
               if (oObject.length != null)
                {
                    for (it = 0; it < oObject.length; it++)
                    {
                       if (oObject(it).tagName == 'INPUT' && oObject(it).attributes["type"].nodeValue == 'checkbox')
                       {
                            resetTextFieldValue(window.event.srcElement, oObject(it));
                       }
                  }
              }
            }
    } 
```

在线 handle_child_node(sibling) 正确吗？我认为 var oObject = entity.all; 不工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:35:01.267

您的`handle_node`函数看起来像 MicroSoft 的 ECMAScript (JScript) 子集/超集中的事件处理程序。幸运的是，事件模型是 X 浏览器代码问题的主要来源。您的代码在我看来是典型的 JScript。查看有关[quirksmode](http://www.quirksmode.org/)事件的文章，以更好地了解/理解差异。
不过，就目前而言，这是您应该知道的：

JScript 不会将事件对象的实例传递给处理程序，但是全局对象 - `window`- 有一个名为 的属性`event`，而所有其他浏览器*都会*将事件对象传递给处理程序。通常，您会看到如下所示的处理程序：

```
document.getElementById('foo').onclick = bar;//bar is handler
function bar(e)
{
    e = e || window.event;//use passed event instance, or get event property for IE
    var element = e.target || e.srcElement;//the reference to the DOM element is assigned to another property in JScript
    //a lot of stuff
    if (e.preventDefault)
    {//w3c's events are "controlled" with these methods
        e.preventDefault();
        e.stopPropagation();
    }
    e.returnValue = false;//IE's jScript, but W3C engines have these properties, too
    e.cancelBubble = true;
} 
```

这些方法和属性的含义（如果您不知道）是您可以在 quirksmode 上阅读的内容。
简而言之：您的代码可以在 IE 上运行，因为您使用的是在 JScript 中引用 DOM 节点的属性，并且您假设事件对象是全局引用，但在 FF、Chrome/Chromium、Safari、 Opera...所以你需要先解决这个问题。

之后，要获取 div 中的所有子节点，您根本不需要该`children`属性。更重要的是：您不应该依赖该属性：Mozilla 的引擎会将空白列为子项。[这是对孩子的引用列表，以及 X 浏览器的差异](https://stackoverflow.com/questions/10381296/best-way-to-get-child-nodes)。

基本上，您真正需要做的就是：

```
var children = divReference.getElementsByTagName('*'); 
```

你会得到一个`NodesList`包含所有你需要的引用的对象......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:35:26.893

这个想法怎么样

```
 function FindTags() 
        {
            var childDiv = document.getElementById("yourdiv").childNodes;
            for (i = 0; i < childDiv.length; i++) 
            {
                if (childDiv[i].tagName == "A") 
                {
                    childDiv[i].style.display = "block";
                }
                if (childDiv[i].tagName == "SPAN") 
                {
                    childDiv[i].style.fontWeight = "normal";
                }
//and so on for all tags you can do any thing
            }
        } 
```

希望这有帮助。享受

# magento - 在 Magento 1.7 的主页中添加新产品和特色产品

> ID：14457354
> 
> 赞同：0
> 
> 时间：2013-01-22T11:18:14.187
> 
> 标签：magento, widget, magento-1.7

我一直在谷歌上搜索一种方法来做到这一点，如果我错了，我深表歉意，但从我可以看到“{{block type="catalog..etc" 方法将新产品和特色产品添加到Magento 商店的主页不再适用于 Magento 上的较新版本？它无论如何都会使我的商店崩溃。编辑：这是我一直在尝试的那种事情的链接：[链接](http://www.magentocommerce.com/wiki/4_-_themes_and_template_customization/cms_and_home_page/add_featured_products_to_home_page)

我还尝试使用不会使商店崩溃但也不会显示任何内容的内置小部件 - 我已经遵循了很多教程来做到这一点（并且我避免了诸如不更新产品属性等小错误）但是仍然没有成功。

有没有办法在不支付付费插件的情况下解决这个问题？我一直在这里查看类似的讨论，但很多都已经很老了，并提供了“块类型”的东西作为解决方案。

这是我第一次使用 Magento，所以答案可能正盯着我看，但如果有人能指出我正确的方向，我将不胜感激！

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:54:24.237

**Inchoos**对此进行了免费扩展。看看这个[链接](http://www.magentocommerce.com/magento-connect/featured-products-4605.html)

# c# - App.Config 读取按钮枚举值

> ID：14457356
> 
> 赞同：0
> 
> 时间：2013-01-22T11:18:25.253
> 
> 标签：c#, wpf, enums, radio-button, app-config

我刚刚遇到了这个问题，`RadioButton`我的班级有 2 个，每个的值都`RadioButton`应该从 class-file-Enum 中读取，

让我们说：

```
Enum Status {    
Good,
Bad
} 
```

我从我的 中调用值没有问题`Main`，但我试图将它放入 App.Config 中，如下所示：

```
<add key="ClassRadioButton1Status"  value="Good"/>
<add key="ClassRadioButton2Status"  value="Bad"/> 
```

我还为我的 app.Config 创建了一个通用类，如下所示：

```
 public static string ClassRadioButton1Status= ConfigurationManager.AppSettings["ClassRadioButton1Status"];
 public static string ClassRadioButton2Status= ConfigurationManager.AppSettings["ClassRadioButton2Status"]; 
```

现在在我的内部`Main`，我想这样调用它`RadioButton`并从枚举中分配值：

```
Public void processing (){
    if (RadioButton.Checked == True ){     
    // here i have to Assign the Value from Enum to This:
    Class.eStatus =// how to do from here?!!!!!!    
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-08-22T21:00:52.290

这可以通过以下方式实现（正如马特已经说过的）：

```
Public void processing (){
    if (RadioButton.Checked == True ){     
    // here i have to Assign the Value from Enum to This:
    Class.eStatus =(Status) Enum.Parse(typeof(Status), ClassRadioButton1Status);
    }
} 
```

**笔记**

您还应该检查是否`Enum.IsDefined`有人向 AppSettings 写了一些垃圾

# php - url-rewriting 阻塞时如何获取更多参数？

> ID：14457357
> 
> 赞同：2
> 
> 时间：2013-01-22T11:18:28.103
> 
> 标签：php, .htaccess, url-rewriting

事情是这样的：

我的 .htaccess 中有这个 URL 重写条件：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([-A-Za-z0-9]+)/([A-Za-z0-9\-_]+) app.php?pattern=$1&content=$2 [L] 
```

然后，它与此 url 完美配合，例如： `www.mysite.com/pony/mycontent`

但是当我尝试添加一些这样的 Http GET 参数时： `www.mysite.com/pony/mycontent?moreparameter=true`

var_dump($_GET) 返回我：

```
array (size=2)
  'pattern' => string 'pony' (length=4)
  'content' => string 'mycontent' (length=8) 
```

没有更多的价值..

如何检索其他参数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:20:39.807

您可能想尝试将“查询字符串附加”标志 (QSA) 添加到您的[RewriteRule](http://httpd.apache.org/docs/current/mod/mod_rewrite.html) -

```
RewriteRule ^([-A-Za-z0-9]+)... app.php?pattern=$1&content=$2 [QSA,L] 
```

> **QSA|qsappend** - 当替换 URI 包含查询字符串时，RewriteRule 的默认行为是丢弃现有的查询字符串，并将其替换为新生成的查询字符串。使用 [QSA] 标志会合并查询字符串。

[在这里阅读更多](http://httpd.apache.org/docs/current/rewrite/flags.html#flag_qsa)

# ant - 如何 在一个 ?

> ID：14457360
> 
> 赞同：4
> 
> 时间：2013-01-22T11:18:41.037
> 
> 标签：ant, ant-contrib, macrodef

我有一个如下所示的 xml：

```
<data>

    <foo>value1</foo>

    <foo>value2</foo>

    <foo>value3</foo>

  </data> 
```

我想创建实现以下功能的宏定义：

```
<?xml version="1.0"?>
<project name="OATS" default="execute" basedir=".">

  <xmlproperty file="data.xml" collapseAttributes="true"/>
  <target name="execute">
    <foreach list="${data.foo}" target="runScript" param="script"/>
  </target>
  <target name="runScript">
    <echo>Doing things with ${script}</echo>
  </target>
</project> 
```

有人知道怎么做吗？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T10:25:01.633

[xmltask](http://www.oopsconsultancy.com/software/xmltask "xml任务")是 Ant 社区中为此目的的最佳选择，您不必定义自己的 macrodef。

例如：

```
 <tools:xmltask source="data.xml" report="false" >
    <tools:call path="data/foo">
      <param name="value" path="text()"/>
      <actions>
          <echo>Doing things with @{value}</echo>
      </actions>
    </tools:call>
  </tools:xmltask> 
```

我鼓励你阅读用户手册，因为 xmltask 有很多选项。它基本上支持 XPath 来提取和迭代 xml 的任何部分。除了匿名代码块之外，它还支持对现有目标的调用（如示例中所示）。

这很难被击败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T19:23:23.427

以下示例使用[groovy ANT 任务](http://groovy.codehaus.org/The+groovy+Ant+Task)

```
<project name="OATS" default="execute" basedir=".">

    <taskdef name="groovy" classname="org.codehaus.groovy.ant.Groovy">
        <classpath>
            <pathelement location="lib/groovy-all-2.1.0-rc-2.jar"/>
        </classpath>
    </taskdef>

    <target name="execute">
        <groovy>
            def data = new XmlSlurper().parse(new File("data.xml"))

            data.foo.each {
                properties["script"] = it
                ant.project.executeTarget("runScript")
            }
        </groovy>
    </target>

    <target name="runScript">
        <echo>Doing things with ${script}</echo>
    </target>

</project> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T01:18:19.500

这是我的宏定义。

```
 <?xml version="1.0" encoding="UTF-8"?>
    <project name="OATS" default="test" basedir=".">
        <property environment = "env"/>
      <path id = "antcontrib.path">
        <fileset file = "${env.ANT_HOME}/../net.sf.antcontrib_1.1.0.0_1-0b2/lib/ant-contrib.jar"/>
      </path>
      <taskdef resource="net/sf/antcontrib/antlib.xml" classpathref="antcontrib.path"/>
      <macrodef name="runOATS">
            <attribute name="suite"/>
            <attribute name="toDir"/>
            <sequential>
                <delete dir="@{toDir}"/>
                <mkdir dir="@{toDir}"/>
                <xmlproperty file="@{suite}" collapseAttributes="true"/>
                <for list="${data.foo}" param="script">
                    <sequential>
                        <runScript script="@{script}"/>
                    </sequential>
                </for>
            </sequential>
        </macrodef>             
        <macrodef name="runScript">
            <attribute name="script"/>
            <sequential>
                <echo>Doing things with @{script}</echo>
            </sequential>
        </macrodef>
        <target name="test">
            <runOATS toDir="/OATS/results" suite="data.xml"/>
        </target>
 </project> 
```

# java - 根据输入切换并返回动态值

> ID：14457364
> 
> 赞同：0
> 
> 时间：2013-01-22T11:18:54.263
> 
> 标签：java, oop, generics, generic-programming

在这种方法中，我将字符串作为输入，根据字符串名称，有时我需要返回值，有时是它的字符串，有时是 int，double，int64，bool 等由于它的动态类型，我不知道如何在方法返回类型中定义它和如何向其添加值以及如何调用返回类型为动态的此方法，知道吗？

```
public static ? SwitchInput(String TypeName) {

       if (TypeName == "java.lang.String" ) {
            Return = "A";
        }
        else if (TypeName == "int" ) {
            Return =  1;
        }
        else if (TypeName == "double") {
            Return = 1.00
        } 
```

等用于 bool 和所有其他类型

```
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:22:44.083

`Object`将是你最好的选择，除非返回的类型共享一个祖先

例子 ：

```
public static Object switchInput(String typeName) {       

   if ("java.lang.String".equals(typeName)) {
        return "A";
    }
    else if ("int".equals(typeName)) {
        return 1i;
    }
    else if ("double".equals(typeName)) {
        return 1.0d
    }
 } 
```

泛型的另一个例子

```
 static <T> T switchInput(String typeName){
   if ("java.lang.String".equals(typeName)) {
    return "A";
    }
    else if ("int".equals(typeName)) {
        return 1i;
    }
    else if ("double".equals(typeName)) {
        return 1.0d
    }

 }

 String str = MyClass.switchInput("java.lang.String") 
```

我没有测试过，这是我第一次想到泛型的一个更简单的版本

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:22:11.470

作为对您的问题的一个丑陋的解决方案，您可以将您的方法设置为运行类型 Object。（因为 Boolean、Integer、Double 都是子类型）

您必须确保随后在使用返回值（使用 instanceof）时推断出正确的类型并将其重新转换为正确的类型。

我可以问你为什么需要这种方法吗？这稍微滥用了方法定义的概念。

```
 public static Object SwitchInput(String TypeName) {

   if (TypeName.equals("java.lang.String") ) {
        Return = new String("A");
    }
    else if (TypeName.equals("int") ) {
        Return =  new Integer(1);
    }
    else if (TypeName.equals("double")) {
        Return = new Double(1.00) ;
    }
 etc for bool and all the other types

} 
```

并使用此代码片段来推断它在您的代码中进一步向下的类型

```
 if(returned_value instanceof Double) 
```

等等

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T11:26:10.730

要知道返回类型是什么，您必须找到一个适合所有这些类型的容器。显然，这是 Object。您必须将原始类型转换为相应的对象（例如将 int 转换为 Integer）。

更好的方法是创建一个新的容器类，它包含一个泛型类型<T>。像

```
public class SwitchDemo {

public static SwitchInputType<?> switchInput(String typeName) {
    if (typeName.equals("java.lang.String")) {
        return new SwitchInputType<String>(new String("A"));
    } else if (typeName.equals("int")) {
        return new SwitchInputType<Integer>(new Integer(312));
    }
    return null;
}

public static class SwitchInputType<T> {
    private T type;

    public SwitchInputType(T type) {
        super();
        this.type = type;
    }

    public T getType() {
        return type;
    }

    public void setType(T type) {
        this.type = type;
    }
}

public static void main(String[] args) {
    SwitchInputType<?> sit1 = SwitchDemo.switchInput("java.lang.String");
    System.out.println(sit1.getType());
    SwitchInputType<?> sit2 = SwitchDemo.switchInput("int");
    System.out.println(sit2.getType());
} 
```

}

# gcc - 向 Makefile 添加功能会产生错误：-“这里有多个定义...”

> ID：14457365
> 
> 赞同：0
> 
> 时间：2013-01-22T11:18:55.543
> 
> 标签：gcc, makefile, static-libraries, static-linking

我得到了一个已经在工作的 Makefile，它实际上工作正常。

Makefile 的内容可以在这篇文章中找到...

[关于 Makefile 的问题 - 什么是“$+”&这里调用的 .c 文件/依赖项在哪里？](https://stackoverflow.com/questions/14431581/questions-about-makefile-what-is-where-are-c-files-dependencies-called)

我将这个问题与上面提到的我之前的帖子分开提出，因为它涉及一个不同的问题，并且将其添加到该问题会不必要地增加其长度。

现在我又添加了一个在很多地方都非常频繁使用的功能，所以我认为创建一个单独的文件会是一个好主意，所以我创建`linklayer.c`并添加`linklayer.o`到`$LIBOBJS`.

我加了这个...

```
 LIBOBJS= linklayer.o csum.o compact.o protoname.o headers.o 
 parseargs.o cryptomod.o crc32.o 
```

和这个

```
 linklayer.o:    linklayer.c
    $(CC) -o $@ -c -I. $(CFLAGS) $+ 
```

我已经声明了`sendip_module.h`已经在项目中存在的每个模块中声明和访问的函数。

但是现在这个多重定义错误来了......我做错了什么或误解了什么？

**注意：** “ipv6_opts”在 ipv6.h 中定义

```
$ make all
for subdir in mec ; do \
    cd $subdir ;\
    make  ;\
    cd ..  ;\
    done
make[1]: Entering directory `/home/udit/Desktop/sendip-2.5-mec-2/mec'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/udit/Desktop/sendip-2.5-mec-2/mec'
  gcc-4.4 -o ipv6.so -fPIC -fsigned-char -pipe -Wall -Wpointer-arith 
 -Wwrite-strings -Wstrict-prototypes -Wnested-externs -Winline -Werror
 -g -Wcast-align -DSENDIP_LIBS=\"/usr/local/lib/sendip\" -shared ipv6.c
  libsendipaux.a libsendipaux.a

 libsendipaux.a(linklayer.o):(.data.rel.local+0x0)
                              : multiple definition of `ipv6_opts'
 /tmp/ccxa4tMX.o:(.data.rel.local+0x0): first defined here
 collect2: ld returned 1 exit status
 make: *** [ipv6.so] Error 1 
```

为什么这`libsendipaux.a libsendipaux.a`两次？Makefile 本身是否有问题。

我是否首先需要手动编译它然后将其添加到 libsendipaux.a ？

我是这个 Makefile 东西的新手，所以请帮助我了解这一切是如何在这里工作的？

谢谢。

**编辑 ：**

重新制作调试输出 -

```
 remake -x

Reading makefiles...
Updating goal targets....
/home/udit/Desktop/sendip-2.5-mec-2/Makefile:33 File `all' does not exist.
/home/udit/Desktop/sendip-2.5-mec-2/Makefile:48 File `subdirs' does not exist.
/home/udit/Desktop/sendip-2.5-mec-2/Makefile:48 Must remake target `subdirs'.
for subdir in mec ; do \
    cd $subdir ;\
    make  ;\
    cd ..  ;\
    done
make[1]: Entering directory `/home/udit/Desktop/sendip-2.5-mec-2/mec'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/udit/Desktop/sendip-2.5-mec-2/mec'
/home/udit/Desktop/sendip-2.5-mec-2/Makefile:48 Successfully remade target file    
`subdirs'.
File `ipv6.so' does not exist.
Must remake target `ipv6.so'.
gcc-4.4 -o ipv6.so -fPIC -fsigned-char -pipe -Wall -Wpointer-arith 
-Wwrite-strings -Wstrict-prototypes -Wnested-externs -Winline -Werror 
-g -Wcast-align -DSENDIP_LIBS=\"/usr/local/lib/sendip\" -shared ipv6.c 
 libsendipaux.a libsendipaux.a
 libsendipaux.a(linklayer.o):(.data.rel.local+0x0)
                                  : multiple definition of `ipv6_opts'
 /tmp/ccb0oaXR.o:(.data.rel.local+0x0): first defined here
 collect2: ld returned 1 exit status
 remake: *** [ipv6.so] Error 1

 #0  ipv6.so at ??
 #1  all at /home/udit/Desktop/sendip-2.5-mec-2/Makefile:33 
```

`33rd line -> all: $(LIBS) subdirs sendip $(PROTOS) sendip.1 sendip.spec`

我想这对我没有帮助....实际问题在于我对场景本身的理解。请帮我摆脱混乱。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T18:08:45.267

您面临的问题是，您将几个对象链接在一起，其中至少两个对象定义了 de function `ipv6_opts`。由于该函数有两种实现，因此您的链接器无法决定使用哪一种并引发错误。

问题很可能来自您将`libsendipaux.a`两次链接到最终二进制文件的事实。

发生这种情况的原因在这里：

```
 %.so: %.c $(LIBS)
        $(CC) -o $@ $(CFLAGS) $(LIBCFLAGS) $+ $(LIBS) 
```

在此目标中，`$+`将扩展到您的目标的所有依赖项（即：`%.c $(LIBS)`，这又将被解析为`ipv4.c libsendipaux.a`

然后，对编译器的实际调用可以读取为`$(CC) -o $@ $(CFLAGS) $(LIBCFLAGS) ipv4.c $(LIBS) $(LIBS)`，`$(LIBS) $(LIBS)`并将扩展为`libsendipaux.a libsendipaux.a`，这将产生错误的双链接。

所以解决方案是从 .so 目标中删除无关的 $(LIBS) ：

```
 %.so: %.c $(LIBS)
        $(CC) -o $@ $(CFLAGS) $(LIBCFLAGS) $+ 
```

顺便说一句，您在不存在文件中遇到的错误`remake`是因为`all`并且`subdirs`确实没有文件，而是虚假目标（不生成在目标名称之后调用的文件的目标）。

为防止出现这些警告，请在 makefile 中添加以下内容：

```
.PHONY: all subdirs 
```

# javascript - 在 JS 或 jQuery 中解析复杂的 JSON

> ID：14457366
> 
> 赞同：1
> 
> 时间：2013-01-22T11:18:56.713
> 
> 标签：javascript, jquery, json

> **可能重复：**
> [我有一个嵌套的数据结构/JSON，我怎样才能访问一个特定的值？](https://stackoverflow.com/questions/11922383/i-have-a-nested-data-structure-json-how-can-i-access-a-specific-value)

如何在 jQuery 或 JSON 中解析这个 JSON？

例子：

```
{
  "Travel": {
    "Transport_type": "Road",
    "Options": {
      "Destination": "Delhi",
      "BusType": "Volvo",
      "Time": "Night",
    },
    "Carrier": {
      "Private": {
        "Service_Provider": "Sharma",
        "Features": {
          "Seats": "PushBack",
          "Indoor Pantry": "Available",
        }
      },
    }
  }
} 
```

我无法使用该`json.parse`功能来获得结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:29:14.983

只要您有一个有效的 JSON 字符串，您就可以使用 javascript 函数 JSON.parse() 或使用 jQuery 函数 - jQuery.parseJSON() 进行解析。

请先验证您的 JSON 字符串。

# objective-c - 在目标 C 中枚举错误时，集合发生了突变

> ID：14457369
> 
> 赞同：8
> 
> 时间：2013-01-22T11:19:03.703
> 
> 标签：objective-c, nsmutablearray

下面是我的代码。

```
NSMutableArray *arr = [[NSMutableArray alloc] init];
[arr addObject:@"5"];
[arr addObject:@"7"];
[arr addObject:@"8"];
[arr enumerateObjectsUsingBlock:^(NSString *obj,NSUInteger idx,BOOL *stop) {
        [arr replaceObjectAtIndex:idx withObject:@"10"];
}]; 
```

我得到的异常日志

```
 *** Terminating app due to uncaught exception 'NSGenericException', reason: '*** Collection <__NSArrayM: 0x742a580> was mutated while being enumerated.'
*** First throw call stack:
(0x1596012 0x12a3e7e 0x161ecc5 0x158fe1b 0x158fa16 0x158f925 0x2ba4 0x1e87b7 0x1e8da7 0x1e9fab 0x1fb315 0x1fc24b 0x1edcf8 0x25f8df9 0x25f8ad0 0x150bbf5 0x150b962 0x153cbb6 0x153bf44 0x153be1b 0x1e97da 0x1eb65c 0x29fd 0x2925)
libc++abi.dylib: terminate called throwing an exception 
```

当我使用 for 循环时，代码工作正常

```
for (int i = 0 ; i<  arr.count; i++) {
    [arr replaceObjectAtIndex:i withObject:@"8"];
} 
```

因此，当我使用 enumerateObjectsUsingBlock 时，我遇到了异常。但两者都是枚举。对 ？那为什么上面的代码会给出`was mutated while being enumerated`异常呢？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-22T11:23:25.640

因为你的逻辑有问题。不允许在枚举期间改变集合。在后一种情况下， NSMutableArray 不知道您正在尝试枚举它，仅在第一种情况下。然后它抱怨，因为这是一个语义错误。您通常应该通过可变复制数组和变异副本来解决这些问题，然后用更新的副本替换原始副本。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-22T11:21:23.503

你不能这样做：

```
[arr enumerateObjectsUsingBlock:^(NSString *obj,NSUInteger idx,BOOL *stop) {
        [arr replaceObjectAtIndex:idx withObject:@"10"];
}]; 
```

因为在枚举集合时不能改变集合。

我的建议是将所有操作放在一个操作队列中并在枚举后执行它们：

```
NSOperationQueue* queue= [NSOperationQueue new];
queue.maxConcurrentOperationCount=1;
[queue setSuspended: YES];
[arr enumerateObjectsUsingBlock:^(NSString *obj,NSUInteger idx,BOOL *stop) 
{
        NSBlockOperation* op=[NSBlockOperation blockOperationWithBlock: ^ (void)
        {
            [arr replaceObjectAtIndex:idx withObject:@"10"];
        }];     
        [queue addOperation: op];
}];
[queue setSuspended: NO];
[queue waitUntilAllOperationsAreFinished]; 
```

另一种方法是成为另一个集合中的所有项目并稍后将其删除。这样写起来也会更简单。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-22T11:21:18.720

快速枚举使**集合不可变**。因此，每当您使用`for(.. in ..)`or`block`并尝试进行变异时，您都会收到此错误。

每当您需要在循环中更新集合时，您需要采用可变集合并使用常规的 for(;;)、while 或 dowhile 循环。`for( .. in ..)`使您的可变集合在运行时不可变。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-22T11:27:27.233

使用快速枚举时不能修改集合。我写了一篇[关于在枚举时进行修改](http://ronnqvi.st/modifying-while-enumerating-done-right/)的帖子，这应该会有所帮助。

想再看看它，我从来没有在枚举时谈论过替换。您仍然可以保存索引和对象并`replaceObjectsAtIndexes:withObjects:`在枚举后使用。

```
NSMutableArray *array = // ... 
NSMutableIndexSet *indicesForObjectsToReplace = [NSMutableIndexSet new]; 
NSMutableArray *objectsToReplace = [NSMutableArray new];

[array enumerateObjectsUsingBlock:^(NSString *obj, NSUInteger idx, BOOL *stop) {
    [indicesForObjectsToRemove addIndex:idx];
    [objectsToReplace: @"String you are replacing with"];
}]; 

[array replaceObjectsAtIndexes:indicesForObjectsToReplace
                   withObjects:objectsToReplace]; 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-08-02T15:13:03.267

只需添加中断；从您的阵列中删除您的项目后。

```
 for (NSDictionary *dic in ticketsToBuyArray) {
    if ([[[dic objectForKey:@"ticket_id"]stringValue] isEqualToString:[[ticketDictionary objectForKey:@"ticket_id"]stringValue]])
    {
        [ticketsToBuyArray removeObject:dic];
        break;
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-22T11:31:34.853

我对objective-c没有太多经验，但它通常是枚举器类的一个特性，可以防止在枚举迭代之间更改可枚举对象。

枚举器类在从集合中返回下一个实例之前检查可枚举对象是否执行了变异方法，例如添加、删除或替换。而 foreach 循环通常是基于枚举器和可枚举类（或接口）实现的。

对数组项的索引访问是原生数组方法，一种基本操作，不涉及任何额外的机制。

# c# - 对指定 *LIBL 而不是特定库的 AS400 执行 SQL

> ID：14457371
> 
> 赞同：2
> 
> 时间：2013-01-22T11:19:15.937
> 
> 标签：c#, .net, sql, ibm-midrange

我需要针对 AS400 上的文件执行基本 SQL（在本例中为插入）。我正在编写一个在 Windows 2008 上运行的 C# 厚客户端命令行应用程序。

如果我指定一个库和一个文件，如下所示：

```
insert into somelibrary.somefile (col1,col2) values val1,val2 
```

然后它工作。`somelibrary`问题是用户和环境之间的值会有所不同。我想使用库列表 *LIBL，以便它以正确的顺序获取用户已分配的任何库。如果可能的话，我想避免使用配置文件。

我正在测试的用户在他的库列表中具有包含`somefile`. 如果我尝试：

```
insert into somefile (col1,col2...) values val1,val2 
```

我收到一个错误：

```
ERROR [42S02] [IBM][System i Access ODBC Driver][DB2 for i5/OS]SQL0204 - somefile in username type *FILE not found. 
```

我尝试在 SQL 和连接字符串中添加 *LIBL，但它没有找到该文件。我尝试了很多组合，以及使用斜杠来分隔库和文件。

如果它是相关的，连接字符串是：

```
Driver={Client Access ODBC Driver (32-bit)}; System=" + server + "; UID=" + DBUser + "; PWD=" + DBPassword + ";"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T15:54:32.220

用于此请求的库列表是用于验证的用户配置文件的库列表。用户配置文件指向与库列表相关的两个项目：职位描述和初始程序。检查职位描述以查看图书馆列表是什么。可能它没有包含 SOMEFILE 的库。这留下了初始程序。如果在初始程序中设置了库列表，您就会遇到问题，因为只有在配置文件登录到终端会话时才会执行初始程序。

解决此问题的方法是创建包含所需库列表的用户配置文件和职位描述。

# php - php与g-wan一起使用时如何设置http响应头

> ID：14457373
> 
> 赞同：1
> 
> 时间：2013-01-22T11:19:25.777
> 
> 标签：php, http-headers, http-status-codes, g-wan

我在 hello.php 示例中添加了 header 函数，如下所示：

```
<?php
   header("xxxxx: yyyyy");
   fwrite(STDOUT, "see headers.<br><br>Hello, PHP!<br>current working directory: ".getcwd());
   exit(200); // return an HTTP code (200:'OK')
?> 
```

但在萤火虫中没有找到这样的标题。
谁能解释如何使用 gwan 在 php cli 中添加其他标头？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:29:18.287

感谢 Gil 和 Richard，
现在，这是我根据您的建议所做的。PHP 在 gwan 中使用自定义标头工作。

```
<?php
 $output='See headers....Hello, PHP!<br>from gwan';
   $len=strlen($output);
   fwrite(STDOUT, "HTTP/1.0\r\nContent-Type: text/html; charset=UTF-8\r\nConnection: close\r\nContent-Length: $len\r\nxxxxx: yyyyy\r\n\r\n$output");
    exit(1);
?> 
```

我使用`ab -c 1000 -n 100000 http:127.0.0.1/?hello.php`
内存使用量增加了**2.9GiB = 0.0203GiB**
的 0.7% CPU 使用量从**20% 增加到 75% = 50%**（ab 在与 gwan 的同一台机器上运行）
我在我的旧机器上做了它 intel P9300 2.26 GHz x 2，ubuntu 12.04

它在 9.543 秒内完成，没有失败
，大约**10,479** req/sec

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T17:38:04.740

汤姆是对的。要绕过 G-WAN 注入的 HTTP 标头（因为 you `returned 200`），您应该返回 1-99 范围内的值（无效的 HTTP 状态代码）。

然后，将使用您自己的 HTTP 标头（如果有）。

`return 0;`表示关闭连接，并`return 200-600;`保留用于告诉 G-WAN 生成相应 HTTP 标头的 HTTP 返回代码。

PDF 手册是值得一读的资源。

* * *

只需一句话`"fastCGI"`：它永远不会比从多个线程并行运行脚本更快......*而无需*涉及网络（在服务器和 PHP 之间）。

您添加的中间层或接口越多，速度就越慢，因为`"fastCGI"`使用网络通过接口运行脚本必然比直接运行代码*慢*（而且我什至没有解决 PHP“fastCGI”服务器非常慢，fastCGI 协议本身就是无意义的复杂，因此很慢，而且，最重要的是，fasctCGI 实现不仅仅是次优的）。

现在我们有了多核 CPU，并行性不一定涉及水平可扩展性（通过在许多连接的机器上运行代码获得的可扩展性）。

垂直扩展（在本地机器上的许多 CPU 内核上）更便宜（更快、更节能）。

随着 CPU 内核的数量呈指数增长，没有退路：随着时间的推移，垂直扩展将变得越来越有意义。

# facebook - 当用户喜欢帖子页面上的帖子时，如何向 FB 发送/共享自定义数据？

> ID：14457374
> 
> 赞同：0
> 
> 时间：2013-01-22T11:19:27.420
> 
> 标签：facebook, facebook-like, customization

考虑一个包含许多帖子的页面：

```
Page A
  - post 1
  - post 2
  - post 3
  - ... 
```

是否可以为每个帖子（1、2、3、...）添加一个赞按钮，当用户“赞”其中一个时，在 Facebook 上**发送/分享该帖子的信息**？

对于每个帖子，我想分享标题、描述、照片、...

我不能使用 Open Graph 元数据，因为它与页面相关，对吧？

谢谢你的回答，我卡住了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T15:38:52.427

当然，只需将点赞按钮 URL 设为[http://www.yourblog.com/pages/A?title=post1&description=blah&image=baz.png](http://www.yourblog.com/pages/A?title=post1&description=blah&image=baz.png)

然后在您的站点/博客中，您需要从 URL 中获取查询数据并将其动态添加到您的元数据中*，即

```
<meta type="og:title" content={GET['title']} />
<meta type="og:description" content={GET['description']} />
<meta type="og:image" content={GET['image']} /> 
```

（这是伪代码）

*从技术上讲，您只需要在用户代理是 Facebook 抓取工具时执行此操作，但您也可以始终执行此操作，除非有充分的理由不这样做。有关更多信息，请参阅[https://developers.facebook.com/docs/opengraphprotocol/](https://developers.facebook.com/docs/opengraphprotocol/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T14:20:10.833

只要每个帖子都有自己的唯一 URL，上面有 Facebook 元数据，就可以。

每个赞按钮都必须引用相应的页面。

# asp.net - 实体框架默认连接工厂

> ID：14457375
> 
> 赞同：7
> 
> 时间：2013-01-22T11:19:47.327
> 
> 标签：asp.net, entity-framework, entity-framework-4.3

我最近使用实体框架 4.3 创建了一个新的 Web 项目。我正在使用数据库优先设计。

实体框架将此部分添加到我的 web.config 中，它提供了一些信息性错误消息。我在某处读到此代码与代码优先设计有关-我需要它吗-我只是将其删除吗？

```
<entityFramework>
  <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlCeConnectionFactory, EntityFramework">
    <parameters>
      <parameter value="System.Data.SqlServerCe.4.0" />
    </parameters>
  </defaultConnectionFactory>
</entityFramework> 
```

谢谢。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-05-28T18:52:06.557

这可能非常相关（强调我的）：

> 配置部分允许您指定 Code First 应使用的默认连接工厂来定位要用于上下文的数据库。**仅当没有将连接字符串添加到上下文的配置文件中时，才使用默认连接工厂**。

请参阅MSDN 上的[实体框架配置文件设置](http://msdn.microsoft.com/en-us/data/jj556606.aspx)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T11:38:12.780

如果您不使用 CodeFirst，我不能 100% 确定这是否重要（尝试删除它并查看它是否运行正常）。但是，如果您使用 CodeFirst 并使用 SQLCE 4.0 作为主数据库，那么您需要保留它。请参阅[文档](http://msdn.microsoft.com/en-us/data/jj556606.aspx)：

> 如果未设置默认连接工厂，Code First 将使用指向 .\SQLEXPRESS 的 SqlConnectionFactory。SqlConnectionFactory 还有一个构造函数，允许您覆盖连接字符串的一部分。如果要使用 .\SQLEXPRESS 以外的 SQL Server 实例，可以使用此构造函数来设置服务器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-13T08:44:11.473

您会收到这些警告消息，因为 entityFramework 的部分元素定义在`Web.config`. 它看起来像这样：（注意：以下适用于 EF5.0）

```
<configuration>
  <configSections>
    <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=5.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" /> 
```

# java - 如何运行编译好的java项目

> ID：14457379
> 
> 赞同：1
> 
> 时间：2013-01-22T11:20:02.443
> 
> 标签：java, maven, libraries

我是新手。为了编译我的项目，我点击了 mvn compile。但是我不知道如何从 Maven 内部运行我的项目。例如当我打

mvn exec:java -Dexec.mainClass="main.java.org.dbalancer.StartProgram"

行家投诉：

```
java.lang.NoClassDefFoundError: com/sanityinc/jargs/CmdLineParser$OptionException
at java.lang.Class.getDeclaredMethods0(Native Method)
at java.lang.Class.privateGetDeclaredMethods(Class.java:2442)
at java.lang.Class.getMethod0(Class.java:2685)
at java.lang.Class.getMethod(Class.java:1620)
at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:285)
at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.ClassNotFoundException: com.sanityinc.jargs.CmdLineParser$OptionException
at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
... 6 more 
```

这意味着 jargs 库不包含在类路径中。但是在我的项目中，目标文件夹下没有包含任何库，这意味着我使用的任何库都应该自己下载并包含在类路径中（或使用 .m2/ 文件夹）。例如，当我在 target/classes 文件夹下，并且我已经下载了所有必要的库时，这个命令可以工作：java -cp .:../../lib/jargs-2.0-SNAPSHOT.jar:../.. /../dom4j-2.0.0-ALPHA-2.jar:../../../log4j-1.2.17.jar main.java.org.dbalancer.StartProgram

然而，这不是有点冗长吗？我怎样才能从 Maven 内部运行它？我可以使用 java 命令运行它但不自己下载必要的库吗？

**更新**：好的，问题是我以这种方式包含的库：

```
<dependency>
  <groupId>jargs_local</groupId>
  <artifactId>jargs</artifactId>
  <version>2.0-SNAPSHOT</version>
  <scope>system</scope>
  <systemPath>${basedir}/lib/jargs-2.0-SNAPSHOT.jar</systemPath>
</dependency> 
```

现在 jargs 移到了官方的 maven repo。**但是有谁知道我怎样才能加快 mvn exec 的速度？**如果您只是想检查一些东西，这有点慢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:23:38.973

maven-exec 插件应该为您设置类路径。您是否可能缺少 jarg 作为您的依赖项`pom.xml`（我们可以看到它以及完整的 mvn 转储吗？）

干杯，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:24:45.053

构建一个自给自足的可运行 jar 的一种简单方法是使用 maven 程序集插件构建一个 jar-with-dependencies。

[http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html](http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T11:25:19.383

你应该在 pom.xml 中依赖它们，例如：</p>

```
 <dependency>
         <groupId>org.slf4j</groupId>
         <artifactId>slf4j-api</artifactId>
         <version>1.0</version>
     </dependency> 
```

或者

```
<build>
        <plugins>
            <plugin>
              <artifactId>maven-compiler-plugin</artifactId>
              <configuration>
                  <source>1.6</source>
                  <target>1.6</target>
                  <encoding>UTF-8</encoding>
                  <compilerArguments>
                   <extdirs>src\main\webapp\WEB-INF\lib</extdirs>
                 </compilerArguments>
              </configuration>
            </plugin>
        </plugins>
    </build> 
```

或者

```
<dependency>
    <groupId>org.swinglabs</groupId>
    <artifactId>swingx</artifactId>
    <version>0.9.2</version>
    <scope>system</scope>
    <systemPath>${project.basedir}/lib/swingx-0.9.3.jar</systemPath>
</dependency> 
```

# javascript - 如何从“Bootstrap Datepicker”获取当前 viewMode 属性

> ID：14457380
> 
> 赞同：4
> 
> 时间：2013-01-22T11:20:04.223
> 
> 标签：javascript, jquery, twitter-bootstrap, datepicker

如何`viewMode`从“Bootstrap Datepicker”获取当前属性？我用初始化控件`viewMode= 'years'` 并且我想在`changeDate`事件上关闭 datepicker，只有当`viewMode='days'`.

用户选择一年，然后是一个月，最后是一天。在那一刻，控制器必须关闭。

这是代码：

```
$("#date").datepicker(
    {viewMode: 'years',
     format: 'dd/mm/yyyy'
});

$('#date').on('changeDate', function (ev) {
    //close when viewMode='0' (days)
}) 
```

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T12:16:59.040

检查这个：http: [//jsfiddle.net/nAXnM/](http://jsfiddle.net/nAXnM/)

**HTML**

```
 <input type="text" class="span2" value="02/16/12" data-date-format="mm/dd/yy" id="dp2" > 
```

**JS**

```
$("#dp2").datepicker({
 viewMode: 'years',
 format: 'dd/mm/yyyy'
});

$('#dp2').on('changeDate', function (ev) {
   //close when viewMode='0' (days)
   if(ev.viewMode === 'days'){
      $('#dp2').datepicker('hide');
   }
}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-15T06:10:31.783

如果您使用[的是 Bootstrap Datepicker 的分叉版本](https://github.com/eternicode/bootstrap-datepicker)，要在选择日期时关闭 UI 小部件，请将[`autoclose`](http://bootstrap-datepicker.readthedocs.org/en/latest/options.html#autoclose)选项设置为`true`：

```
$("#date").datepicker({
    autoclose: true
}); 
```

# c++ - 在循环引用的上下文中处理循环包含

> ID：14457384
> 
> 赞同：0
> 
> 时间：2013-01-22T11:20:22.023
> 
> 标签：c++, include, client-server, circular-dependency, circular-reference

[作为我的一个较老问题的](https://stackoverflow.com/questions/11127089/circular-references-between-two-classes)后续，我希望实现一个客户端-服务器模型模拟，其中客户端启动一系列操作，这些操作涉及调用服务器上的方法，而服务器又可以调用客户端上的方法（让我们忽略堆栈可能会爆炸的问题）。

更具体地说，由于我想将实现从定义中分离出来，我将为 Server 类提供 server.h 和 server.cpp，为 Client 类提供 client.h 和 client.cpp。由于 Server 持有对 Client 的引用并从中调用方法，因此它需要`#include "client.h"`. 此外，Client 持有对 Server 的引用并从中调用方法，它需要`#include "server.h"`. 此时，即使我在 server.h 和 client.h 中都使用了标头保护，它仍然会搞砸（是的，这是意料之中的）所以我决定在 client.h 中转发声明 Server 类，在 server 中声明 Client 类。H。不幸的是，这还不足以解决问题，因为我也在调用这两个类的方法，所以我设法通过在客户端中包含 server.h 来使其编译和运行（据我所知是正确的） server.cpp 中的 .cpp 和 client.h。

上面的“hack”听起来合理吗？我应该期待一些无法预料的后果吗？是否有任何“更智能”的方法可以做到这一点而无需实现代理类？

这是实现的基本示例：

文件client.h：

```
#ifndef CLIENT_H
#define CLIENT_H

#include <iostream>
#include <memory>

class Server;

class Client
{
private:
    std::shared_ptr<const Server> server;

public:
    Client () {}

    void setServer (const std::shared_ptr<const Server> &server);

    void doStuff () const;

    void doOtherStuff () const;
};

#endif 
```

文件client.cpp：

```
#include "client.h"
#include "server.h"

void Client::setServer (const std::shared_ptr<const Server> &server)
{
    this->server = server;
}

void Client::doStuff () const
{
    this->server->doStuff();
}

void Client::doOtherStuff () const
{
    std::cout << "All done!" << std::endl;
} 
```

文件 server.h：

```
#ifndef SERVER_H
#define SERVER_H

#include <iostream>
#include <memory>

class Client;

class Server
{
private:
    std::weak_ptr<const Client> client;

public:
    Server () {}

    void setClient (const std::weak_ptr<const Client> &client);

    void doStuff () const;
};

#endif 
```

文件 server.cpp：

```
#include "server.h"
#include "client.h"

void Server::setClient (const std::weak_ptr<const Client> &client)
{
    this->client = client;
}

void Server::doStuff () const
{
    this->client.lock()->doOtherStuff();
} 
```

文件 main.cpp：

```
#include <iostream>
#include <memory>

#include "client.h"
#include "server.h"

int main ()
{
    std::shared_ptr<Client> client(new Client);
    std::shared_ptr<Server> server(new Server);

    client->setServer(server);
    server->setClient(client);

    client->doStuff();

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:31:24.937

这对我来说看起来不错。在 client.h 中转发声明服务器并在 server.h 中转发声明客户端是正确的做法。

然后将两个头文件都包含在 .c 或 .cpp 文件中是非常好的 - 您需要避免的只是将头文件包含在一个圆圈中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T11:31:22.437

> 上面的“hack”听起来合理吗？我应该期待一些无法预料的后果吗？是否有任何“更智能”的方法可以做到这一点而无需实现代理类？

前向声明和使用`include directive`to 是打破循环包含的正常和正确的方法。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-22T11:38:37.350

“Hack”是没有的，像你一样分开两个类的声明和实现是完全常见的做法。`*.cpp`包含两个标题是完全正常的。

* * *

旁注：首先考虑您的`setServer`和`setClient`方法的不同签名：在这两种方法中，您都复制了参数。两个副本都很重要，因为必须更新 use_counts 和/或 weak_count。如果参数确实是现有参数，那没关系，但如果它是临时的，则副本将增加计数，而临时的销毁将再次减少它，每次必须取消引用内部指针。相反，*移动*shared_ptr 或 weak_ptr 不会影响使用计数，但会重置临时值。再次破坏该重置临时不会影响使用计数（它实际上是一个空指针）。其次，总是更喜欢`make_shared`simple `new`，因为它为您节省了一次分配。所以改用这个实现：

```
void Client::setServer (std::shared_ptr<const Server> server)
{
    this->server = std::move(server);
}

int main ()
{
    auto client = std::make_shared<Client>(); //prefer make_shared
    auto server = std::make_shared<Server>();
    /* 1 */
    client->setServer(server); //by copy, if you need to continue to use server
    /* 2 */
    server->setClient(std::move(client)); //by moving
} 
```

调用 1 将与以前一样昂贵，您制作一个副本 pf the `shared_ptr`，只是这次您在传递参数时制作它，而不是在方法内部。调用 2 会更便宜，因为它`shared_ptr`被移动并且从未被复制。

* * *

我的以下陈述是错误的（见评论），仅适用于`unique_ptr`，不适用于`shared_ptr`：

> 但是：因为你使用了`std::shared_ptr<const Server>`in `Client`，你必须在`Client`里面定义 ' 的析构函数`client.cpp`。原因是如果你不这样做，编译器会为你生成它，调用`shared_ptr`'s 和因此`Server`'s 的析构函数，它没有在里面声明`client.h`。在相当高的警告级别，您的编译器应该抱怨在未定义的类指针上调用 delete。

# c# - 如何在任何给定时间引发事件

> ID：14457385
> 
> 赞同：3
> 
> 时间：2013-01-22T11:20:29.367
> 
> 标签：c#, .net, windows-8, microsoft-metro

我试图在我的 Windows 商店应用程序中的给定时间引发一个事件。现在我已经无数次在桌面应用程序中这样做了，并且我过去使用`System.Threading.Timer`过并且效果很好，但是该类不适用于 Windows 商店应用程序。

我查看了文档并找到了一个名为的类`DispatchTimer`，虽然它似乎是我所追求的，但如果我错了，请纠正我，但缺少文档。但幸运的是，它很容易使用。

所以我尝试了`DispatchTimer`，但是在使用它之后，我什至不确定这是我应该使用的。

我如何观看任何给定时间并在该时间结束时引发事件（在 Windows 商店应用程序中）？您知道在 Metro 应用程序中执行此操作的任何资源吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:29:57.543

像这样使用[`DispatcherTimer`](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.dispatchertimer.aspx)：

```
var timer = new DispatcherTimer { Interval = TimeSpan.FromSeconds(10) };
timer.Tick += OnTimerTick;
timer.Start();

private void OnTimerTick(object sender, object args)
{
    // Do something with pickup here...
} 
```

这将创建一个间隔为 10 秒的计时器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:25:07.220

这`DispatcherTimer`是要走的路。请注意，如果您希望您的应用程序在后台运行，您必须在应用程序清单中声明或使用后台代理。

# javascript - 使用 JavaScript 正则表达式的全局匹配

> ID：14457386
> 
> 赞同：0
> 
> 时间：2013-01-22T11:20:30.590
> 
> 标签：javascript, regex

通常，当您执行类似操作`'test'.match(/(e)/)`时会收到一个数组`['e', 'e']`，其中第一个元素是匹配本身，第二个来自选择器（大括号），但是当使用全局修饰符时，`'test'.match(/(e)/g)`它将省略匹配，而它不在情况下我根本不使用选择器。

我想知道是否以及在何处指定了以下行为（使用 Chromium 进行此测试）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:37:05.623

> 如果未设置全局标志 (g)，则数组的元素 0 包含整个匹配项，而元素 1 到 n 包含任何子匹配项。此行为与未设置全局标志时的 exec 方法（正则表达式）（JavaScript）的行为相同。如果设置了全局标志，则元素 0 到 n 包含发生的所有匹配项。

[http://msdn.microsoft.com/en-us/library/ie/7df7sf4x(v=vs.94).aspx](http://msdn.microsoft.com/en-us/library/ie/7df7sf4x(v=vs.94).aspx)

换句话说，当`g`提供时，`match`只收集最上面的匹配，忽略任何捕获组。

例子：

```
> s = "Foo Bar"
"Foo Bar"
> s.match(/([A-Z])([a-z]+)/)
["Foo", "F", "oo"]
> s.match(/([A-Z])([a-z]+)/g)
["Foo", "Bar"] 
```

没有内置函数可以像 python`findall`那样从所有匹配项中收集所有组，但是使用以下代码很容易编写`exec`：

```
function matchAll(re, str) {
    var p, r = [];
    while(p = re.exec(str))
        r.push(p);
    return r;
}
matchAll(/([A-Z])([a-z]+)/g, "Foo Bar") 
```

结果：

```
[
Array[3]
0: "Foo"
1: "F"
2: "oo"
index: 0
input: "Foo Bar"
length: 3
__proto__: Array[0]
, 
Array[3]
0: "Bar"
1: "B"
2: "ar"
index: 4
input: "Foo Bar"
length: 3
__proto__: Array[0]
] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T12:52:12.117

该行为在[ECMA 脚本语言规范](http://www.ecma-international.org/ecma-262/5.1/#sec-15.10.6.2)中指定。本节详细描述了带和不带全局修饰符的正则表达式引擎所遵循的过程。

具体在第 11 点：`If global is true, Call the [[Put]] internal method of R with arguments "lastIndex", e, and true.`

# ruby-on-rails - Rails - 如何从数据库中获取类别名称？

> ID：14457388
> 
> 赞同：0
> 
> 时间：2013-01-22T11:20:39.007
> 
> 标签：ruby-on-rails

我有一个与类别有 has_and_belongs_to_many 关系的产品。我正在使用 simple_form 与 Twitter Bootstrap 集成，以生成复选框，允许为每个产品选择多个类别。

不幸的是，当我向 Rails 询问“product.categories”时，我得到的是：“[#]”

如何访问此类别的名称？“product.categories.name”似乎不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:23:32.280

您可以获得类别的对象

```
product.categories.each do |category|
  category.name
end

or 

product.categories[0].name #for first category from categories 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T14:28:50.580

您将通过以下方式获得产品类别名称的数组：

```
product.categories.collect(&:name).to_param 
```

# php - 将文本存储到数据库中并使用不同的 CSS 类发布

> ID：14457390
> 
> 赞同：1
> 
> 时间：2013-01-22T11:20:41.803
> 
> 标签：php, mysql, text, data-formats

我想将一些文本文件（如新闻等）导入我的 MySQL 数据库。格式化图表的最佳方法是什么？

这些文件是带有新闻内容的文本文件 (.txt)。然后我将这些文件发布在我的主页上。原始文本文件的第一行是标题，其他行是文本。

提取这些文件并正确发布它们的最佳方法是什么？我应该创建 2 个列，将标题（第一类）发布在第一列，将其余文本发布在第二列吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:27:01.007

是的，创建一个名为“news”的 MySQL 表，其中包含字段`id`(int, auto increment)、`title`(varchar 255) 和`body`(mediumtext)。

然后用于`file`获取文本文件中的行数组，并以`title`数组中的第一个元素和`body`.

# php - 使用 Python 进行基于规则过滤的人工智能

> ID：14457393
> 
> 赞同：3
> 
> 时间：2013-01-22T11:20:44.207
> 
> 标签：php, python, google-app-engine, pattern-matching, artificial-intelligence

我有一个学术项目来构建一个应用程序来确定消费者对品牌的“感觉”：是积极的、消极的还是中性的。但是，我不知道如何获取有关如何使用代码“阅读”英语的示例。例如：

> 达利太太给我买一个苹果:)

对比下面的句子：

> 我非常喜欢达莉，它每天早上都会叫醒我

从人类的常识来看，我们可以注意到第一句话是关于“人”的。第一个描述名叫达利夫人的女士的人，但就我而言，我只想专注于获得品牌名称*，*这意味着应该删除第一句话，而专注于第二句话。从这句话中，我们可以确定它是一个物体，同时最有可能描述我们每天清晨使用的牙膏。

如何用 Python 构建这种“常识”？（如果 PHP 中有任何示例，我可以尝试将其转换为 Python）或者是否有可用的库？或者，请建议一些关键字进行研究。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T13:13:32.360

感谢安特卫普大学 CLiPS 计算语言学组的 Tom De Smedt 和 Walter Daelemans。[他们用这个网页上](http://www.clips.ua.ac.be/pages/pattern)的例子和完整的源代码解决了我在这个[杂志](http://jmlr.csail.mit.edu/papers/volume13/desmedt12a/desmedt12a.pdf)上的问题。

这个应用程序的概念是首先从社交网站或任何公共网站上抓取相关句子，然后后端链接到 Wordnet.org 英语数据库，以确定句子中单词的“类型”或“类别”。接下来用分类技术对其进行处理。这很棒！！

谢谢您的回复。并希望这对其他人有帮助:)

# android - 刷新WebView android中的页面

> ID：14457395
> 
> 赞同：0
> 
> 时间：2013-01-22T11:20:45.230
> 
> 标签：android, webview

我正在开发一个使用 webview 显示某些页面的 Android 应用程序。

我有一个操作栏和一个操作标签栏。在操作栏上，我有 2 个按钮，一个打开登录页面，第二个必须刷新 web 视图中的当前页面。

这是 webview 所在片段的代码：

```
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {

    View V = inflater.inflate(R.layout.main_screen, container, false);

    WebView webView = (WebView)V.findViewById(R.id.webView_main);

    WebSettings webSettings = webView.getSettings();

    webSettings.setJavaScriptEnabled(true);

    webView.setWebViewClient(new WebViewClient());

    switch (getArguments().getInt(ARG_SECTION_NUMBER)) {

        case 1:

            webView.loadUrl(homeURL);

            break;

        case 2:

            webView.loadUrl(url2);

            break;

        case 3:

            webView.loadUrl(url3);

            break;

        case 4:

            webView.loadUrl(url4);

            break;

        case 5:

            webView.loadUrl(url5);

            break;
    }   

    switch (getArguments().getInt(ARG_ACTIONBAR)) {

        case 1:

            webView.loadUrl(homeURL);

            break;

        case 2:

            webView.loadUrl(loginURL);

            break;

        case 3:

            webView.loadUrl("javascript:window.location.reload(true)");

            break;

        case 4:

            webView.loadUrl(helpURL);

            break;

        case 5:

            webView.loadUrl(testJSURL);

            break;
    }

    return V;
} 
```

如您所见，我使用 javascript 进行刷新，但它不起作用，这只是加载一个空白页面。我试图将当前 URL 存储在一个字符串中，并在用户点击刷新时加载这个字符串，但它也不起作用......

如果有人有想法？:)

PS：该应用程序具有互联网权限，并且已激活javascript。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T16:14:59.217

好的，我找到了解决方案。

我已经将操作栏管理放在我的片段类而不是活动类中，所以它可以工作并且我的应用程序现在更加清晰:)

# linux - 更改路径后 nano 不起作用

> ID：14457402
> 
> 赞同：2
> 
> 时间：2013-01-22T11:21:10.117
> 
> 标签：linux, centos, vi, nano

在我将 PATH 的服务器 ~bash_profile 更改为我的 Java 之后，我不能再使用 nano 或 vip 了。

我实际上不知道如何改回来，而我不能再用 nano 或 vi 编辑它了。

我能做些什么？

```
 -bash: ano: command not found
 root@s [~]# nano
 -bash: nano: command not found
 root@s [~]# pacstrap -i /mnt base base-devel
 -bash: pacstrap: command not found
 root@s [~]# nano /etc/timezon
 -bash: nano: command not found
 root@s [~]# nano /etc/timezone
 -bash: nano: command not found
 root@s [~]# vi
 -bash: vi: command not found
 root@s [~]# vi
 -bash: vi: command not found
 root@s [~]# nano ~/.bash_profile
 -bash: nano: command not found
 root@s [~]# vi ~/.bash_profile
 -bash: vi: command not found
 root@s [~]# 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T11:27:30.500

您很可能只是覆盖了 java 的路径，而不是附加到它。

**错误**：

```
export PATH=/opt/somewhere/java/bin 
```

**右**：

```
export PATH=$PATH:/opt/somewhere/java/bin 
```

要解决此问题，请执行

```
export PATH=/bin:/usr/bin:/usr/local/bin 
```

...你应该有 vi 和 nano 回到你的路径。

# javascript - Spine.js - 如何使用 JavaScript 将特定事件处理程序与模型实例解除绑定？

> ID：14457403
> 
> 赞同：6
> 
> 时间：2013-01-22T11:21:15.250
> 
> 标签：javascript, spine.js

`unbind()`从模型类中取消绑定特定事件处理程序非常容易，但似乎从模型实例取消绑定事件处理程序的唯一方法是使用（不带参数）取消绑定到该实例的所有事件处理程序。

模型实例是否有等效于模型类的`unbind([eventName, function])`函数，或者是否有另一种更好的方法来取消绑定特定处理程序而不绑定它们？

我浏览了[Spine.js 文档](http://spinejs.com/api/models)，但到目前为止还没有运气。向`unbind()`函数添加参数没有任何效果 - 它只是忽略它们并取消绑定。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-30T11:44:13.653

最后，我们切换到更适合我们需求的框架[Backbone.js](http://backbonejs.org)。[Spine.js GitHub 存储库](https://github.com/maccman/spine)的维护似乎在去年 9 月停止了，尽管 Spine 支持与 JavaScript 一起使用，但它的文档非常差。

如果有人可以为原始问题提供可行的解决方案，我仍然会接受它，以使其他偶然发现此问题的人受益。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T22:55:56.520

我不认为这特别回答了你的问题，但可能会让你明白你的目标。

Spine 有一个没有记录的 .one() 事件

从来源：

```
one: (ev, callback) ->
  @bind ev, ->
    @unbind(ev, arguments.callee)
    callback.apply(this, arguments) 
```

所以它基本上在幕后为你解除绑定，但它不使用实际上只是触发“解除绑定”的模型解除绑定。

```
unbind: (ev, callback) ->
  unless ev
    @_callbacks = {}
    return this

  list = @_callbacks?[ev]
  return this unless list

  unless callback
    delete @_callbacks[ev]
    return this

  for cb, i in list when cb is callback
    list = list.slice()
    list.splice(i, 1)
    @_callbacks[ev] = list
    break
  this 
```

对比

```
 unbind: ->
    @trigger('unbind') 
```

我们在几个地方使用了@item.one，发现它可以正常工作。

示例使用：

```
@item.one 'awaitingPermit', (item) =>
  @navigate('/document', item.id, 'show') 
```

**更新：** 我们已经为 Spine.js 中缺少的这个功能提供了一些解决方案。看到这个问题线程[https://github.com/spine/spine/issues/418](https://github.com/spine/spine/issues/418)

# jsf-2 - 在 JSF2 中，当支持 bean 实现自定义接口时，我是否必须定义所有方法

> ID：14457419
> 
> 赞同：1
> 
> 时间：2013-01-22T11:22:18.210
> 
> 标签：jsf-2

在这里寻求帮助和建议。我的环境是JSF2。

我有许多表格都需要上传文件。我想使用一个通用的模式弹出对话框来处理文件上传。

每个表单都有不同的支持 bean，我希望它们都实现支持文件上传操作所需的方法。

我写了下面的接口来定义每个bean必须实现的方法来支持这个文件上传

```
public interface ComponentUploader
{

void uploadComponentClicked(ActionEvent e);

void handleFileUpload(FileUploadEvent event);

List<UploadedFile> getUploadedFiles();

void saveUploadComponentClicked();
} 
```

然后支持 bean 类实现这个接口......

```
public class SupplierBean  implements ComponentUploader
{
    public void handleFileUpload(FileUploadEvent event) {  
    ...
    } 
    public void uploadComponentClicked(ActionEvent e)
    {
    ...
    }
    public void saveUploadComponentClicked()
    {
    ...
    }
    public List<UploadedFile> getUploadedFiles()
    {
    ...
    }

    //other public methods...
    public void initialise()
    {
    ...
    } 
```

现在，每个支持 bean 都有其他公共方法，例如 initialise()，但是这些方法不是实现 ComponentUploader 接口所必需的。

虽然上述编译正确，但在部署（在 JBOSS AS 7 中）时，当我尝试从网页上的 actionListener 调用初始化方法时，出现 Method Not Found 错误；

```
Caused by: javax.el.MethodNotFoundException: Method not found: Proxy for view class: com.vesey.searchpoint.interfaces.ComponentUploader of EJB: SupplierBean.initialise() 
```

我不明白如果接口中没有定义支持 bean，为什么我不能调用它的公共方法。是因为接口被 JSF 解释为它的业务接口的定义吗？

这里的正确方法是什么？我想要几个都支持 ComponentUploader 接口的 bean，但每个都有自己的可调用公共方法。我应该看抽象类而不是接口。

谢谢丰富

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:19:19.547

我认为您的 actionListener 签名错误，问题与接口无关。您需要一些方法签名，例如：

```
public void initialise(ActionEvent event) 
```

也许您有一些代码示例中未显示的 bean 配置？

# c# - Sharepoint 2010 - 在部署时添加组

> ID：14457420
> 
> 赞同：0
> 
> 时间：2013-01-22T11:22:23.140
> 
> 标签：c#, sharepoint, deployment, eventreceiver

为了为站点集合提供 webpart 和自定义 webtemplates，我需要创建自定义组。我通过以下方式做到这一点：

```
 using (SPSite site = properties.Feature.Parent as SPSite)
        {
            if (site != null)
                using (SPWeb rootWeb = site.RootWeb)
                {

                    try
                    {
                        rootWeb.AllowUnsafeUpdates = true;
                        rootWeb.SiteGroups.Add("Admins", site.Owner, site.Owner, "Admins");

                        try
                        {
                            SPGroup sp_grpAdmins = rootWeb.SiteGroups["Admins"];
                            SPRoleDefinition sp_rldAdmins = 
                            rootWeb.RoleDefinitions.GetByType(SPRoleType.Administrator);
                            sp_rldAdmins.Name = "Admin rights";
                            sp_rldAdmins.Description = "all";
                            rootWeb.RoleDefinitions.Add(sp_rldAdmins);
                            SPRoleAssignment sp_rlaAdmins = new SPRoleAssignment(sp_grpAdmins);
                            sp_rlaAdmins.RoleDefinitionBindings.Add(
                            rootWeb.RoleDefinitions["Admin rights"]);
                            rootWeb.RoleAssignments.Add(sp_rlaAdmins);
                            sp_grpAdmins.Update();
                            rootWeb.Update();
                        }
                        catch (ArgumentException argex)
                        {

                        }
        }
    } 
```

如果我在 webpart 中添加此代码（用于调试示例 - 无法让事件接收器进行调试），则会创建该组。您是否知道如何调试功能事件接收器，或者如果存在限制，则无法在功能事件接收器中完成？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:36:03.477

您可以通过将 Visual Studio 附加到**w3wp.exe**来调试事件接收器。请注意，您应该手动激活您的功能，因为如果自动，这将在您的进程加载所有 DLL 之前激活。

我通常做的是安装站点。部署包。

在 Visual Studio 中按 Ctr+Alt+P（菜单->调试->附加到进程）。这将打开您机器上运行的所有进程。如果不存在**w3wp.exe**进程，请确保选中“显示所有用户的进程”和“显示所有会话中的进程”。在列表中选择所有**w3wp.exe**进程并单击附加。系统会询问您有关警告安全性的问题 - 只需单击“确定”（如果需要，可多次单击）。

连接后，在“站点集合功能”中手动激活带有事件接收器的功能。如果一切顺利 -> 这将停止，您可以继续调试。

如果万一它没有在事件接收器中停止，我建议你重新编译项目。再次打包并重新部署。完成 IIS 重置后 - 这将从 GAC 重置 DLL。

**请注意，Visual Studio 项目应处于调试模式...**

如果你有任何问题...

希望能帮助到你，

安德鲁

# java - RangeBarChart 在 aChartEngine 中随时间绘制

> ID：14457422
> 
> 赞同：1
> 
> 时间：2013-01-22T11:22:30.757
> 
> 标签：java, android, achartengine

我想做的是将`RangeBarChart`它的 X 轴作为日期。当前将新条添加到`RangeCategorySeries`每个条的空间中，并且似乎没有手动指定 X 值的机制，例如日期。`TimeSeries`存在，但似乎只适用于`LineCharts`。

理想情况下，我需要的是一种`add(min, max, date)`.`RangeCategorySeries`

有没有人实施过这个或对我有一些提示？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:34:01.980

您可以扩展`RangeCategorySeries`和覆盖`toXYSeries()`. 我在下面粘贴了此方法的当前实现供您参考。您可以尝试通过根据每个索引处的日期设置 X 值来更改此设置。

```
public XYSeries toXYSeries() {
  XYSeries xySeries = new XYSeries(getTitle());
  int length = getItemCount();
  for (int k = 0; k < length; k++) {
    xySeries.add(k + 1, getMinimumValue(k));
    // the new fast XYSeries implementation doesn't allow 2 values at the same X,
    // so I had to do a hack until I find a better solution
    xySeries.add(k + 1.000001, getMaximumValue(k));
  }
  return xySeries;
} 
```

# android - BackupServiceBinder 仅恢复文件的第一个保存版本

> ID：14457423
> 
> 赞同：1
> 
> 时间：2013-01-22T11:22:39.260
> 
> 标签：android, backup, cloud, restore

我通过 android sdk 样本获得了恢复/备份的样本，它工作正常，但只更新了第一个版本的数据。因此，当我安装到设备上时，修改一些数据，毕竟当我卸载/然后重新安装时，我只会恢复那个 1 版本，当我安装了第一次修改的应用程序时。

我认为第一次云更新后的数据永远不会改变。这是我的日志： 1- 安装 apk 2- 更改数据状态。3-卸载apk 4-重新安装 5-第一个恢复的将恢复

> V/BackupManagerService(192)：restoreAtInstall pkg=com.lynx.backup token=10

D/BackupManagerService(192)：MSG_RUN_RESTORE 观察者=空

D/BackupManagerService(192)：initialOneRestore packageName=@pm@

V/BackupServiceBinder(192)：doRestore() 被调用

V/BackupManagerService(192)：包com.lynx.backup恢复版本[1]与安装版本[2]兼容

D/BackupManagerService(192)：等待 ApplicationInfo 的代理{40f5f440 com.lynx.backup}

V/BackupServiceBinder(31754): doRestore() 调用

I/备份时间（31754）：..在循环中..

D/BackupManagerService(192)：agentConnected pkg=com.lynx.backup agent=android.os.BinderProxy@4136a118

D/BackupManagerService(192)：initialOneRestore packageName=com.lynx.backup

V/BackupManagerService(192)：没有下一个包，完成恢复

I/BackupManagerService(192)：恢复完成。

D/BackupManagerService(192): 收到广播 Intent { act=android.intent.action.PACKAGE_ADDED dat=package:com.lynx.backup flg=0x10000010 (有额外) }

V/BackupManagerService(192): addPackageParticipantsLocked: #1

V/BRActivity(31754)：数据文件存在

V/BRActivity(31754)：蛋黄酱=真番茄=真馅=2130968577

V/PhoneStatusBar（259）：setLightsOn（真）

V/BRActivity(31754)：选择了新的广播项目：2130968579

V/BRActivity(31754)：新状态：mayo=true 番茄=true 填充=2130968579

V/BRActivity(31754)：复选框切换：android.widget.CheckBox@40eff6a8

V/BRActivity(31754)：新状态：mayo=false 番茄=true 填充=2130968579

D/LocalBluetoothProfileManager(32014)：LocalBluetoothProfileManager 构建完成

E/BinaryDictionaryGetter(352)：找不到字典包

D/BackupManagerService(192): 收到广播 Intent { act=android.intent.action.PACKAGE_REMOVED dat=package:com.lynx.backup flg=0x10000010 (有附加功能) }

V/BackupManagerService(192): removePackageParticipantsLocked: #1

D/LocalBluetoothProfileManager(32169)：LocalBluetoothProfileManager 构建完成

V/BackupManagerService(192)：restoreAtInstall pkg=com.lynx.backup token=11

D/BackupManagerService(192)：MSG_RUN_RESTORE 观察者=空

D/BackupManagerService(192)：initialOneRestore packageName=@pm@

V/BackupServiceBinder(192)：doRestore() 被调用

V/BackupManagerService(192)：包com.lynx.backup恢复版本[1]与安装版本[2]兼容

D/BackupManagerService(192)：等待 ApplicationInfo 的代理{412aff08 com.lynx.backup}

D/BackupManagerService(192)：agentConnected pkg=com.lynx.backup agent=android.os.BinderProxy@416c6f30

D/BackupManagerService(192)：initialOneRestore packageName=com.lynx.backup

V/BackupServiceBinder(32290): doRestore() 调用

I/备份时间（32290）：..在循环中..

V/BackupManagerService(192)：没有下一个包，完成恢复

I/BackupManagerService(192)：恢复完成。

D/BackupManagerService(192): 收到广播 Intent { act=android.intent.action.PACKAGE_ADDED dat=package:com.lynx.backup flg=0x10000010 (有额外) }

V/BackupManagerService(192): addPackageParticipantsLocked: #1

V/BRActivity(32407): 数据文件存在

V/BRActivity(32407)：mayo=true 番茄=true 填充=2130968577

V/PhoneStatusBar（259）：setLightsOn（真）

D/BackupManagerService(192)：找不到令牌 0 的参数

# java - 如何在android应用程序中管理媒体？

> ID：14457427
> 
> 赞同：0
> 
> 时间：2013-01-22T11:23:01.517
> 
> 标签：java, android, oop

好吧，我已经构建了一个android应用程序。它工作正常，但问题是我试图在其中放入 10 个音频和 4 个视频，但无法容纳全部。我必须删除一些，否则它会给我堆错误。如果我删除一些媒体，它工作正常。那么有没有更好的方法来放置音频，视频，照片等媒体。我已将它们转换为可能的最小尺寸，因此请不要建议我转换它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:27:12.477

您可以将所有这些放在“资产”文件夹中，这不会产生错误

# mysql - Mysql程序从临时表中获取数据

> ID：14457428
> 
> 赞同：0
> 
> 时间：2013-01-22T11:23:01.610
> 
> 标签：mysql, stored-procedures

我已经创建 mysql 存储过程在其上创建了一个临时表。现在我想从临时表中获取所有数据。我该怎么做？请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:25:55.830

```
Call your_sp_name; /* so data could insert into temp table*/

SELECT * FROM temp_table_name; 
```

# xcode - 如何在 xcode iOS6 中以编程方式调整 png 图像的大小

> ID：14457429
> 
> 赞同：0
> 
> 时间：2013-01-22T11:23:07.933
> 
> 标签：xcode, uiimageview, image-resizing

我在 xib 中有一个 png 图像，我根据需要的大小在 viewDidLoad 方法中调整它的大小：

```
- (void)viewDidLoad{
...

    self.png.image = [[self.png image] resizableImageWithCapInsets:UIEdgeInsetsMake(200, 20, 300, 20)];

    self.png.frame = CGRectMake(16, 19, 320, 463);

   ...
} 
```

这在 iOS5 中工作正常，但是当我在 iOS6 上尝试时，它不会调整 png 图像的大小。

我试过：

```
 self.png.image = [[self.png image] resizableImageWithCapInsets:UIEdgeInsetsMake(149,170, 200, 149) resizingMode:UIImageResizingModeStretch]; 
```

它不起作用，我在 - (void)viewDidLayoutSubviews 方法中尝试过它，它不起作用，我禁用了自动布局。如何为 iOS 6 调整图像大小？

# ffmpeg - avformat_write_header 产生无效的标头（导致 MPG 损坏）

> ID：14457435
> 
> 赞同：0
> 
> 时间：2013-01-22T11:23:41.553
> 
> 标签：ffmpeg, video-encoding, libavcodec, libav, libavformat

我正在从运行时来自 3D 引擎的输入图片渲染视频文件（我不传递实际的图片文件，只是 RGB 内存）。这在使用 CODEC_ID_H264 作为视频编解码器输出 MP4 时非常有效。

但是当我想使用 CODEC_ID_MPEG2VIDEO 创建一个 MPG 文件时，生成的文件就被破坏了。没有播放器可以正确播放视频，然后当我想将该 MPG 与另一个 MPG 文件连接，并在另一个步骤中转换结果 MP4 时，生成的 .mp4 文件包含两个视频，但来自原始 MPG 视频的许多帧（并且只有视频！声音效果很好）被简单地跳过。

起初我认为 MPG -> MP4 转换是问题，但后来我注意到来自视频渲染引擎的初始 MPG 已经损坏，这说明标题损坏。不过，不确定是系统标头还是序列标头损坏。或者，如果它可能是完全不同的东西。

如果你想看看，这里是文件： [http ://www.file-upload.net/download-7093306/broken.mpg.html](http://www.file-upload.net/download-7093306/broken.mpg.html)

同样，当直接从视频渲染引擎创建 MP4 时，完全相同的复用代码工作得非常好，所以我很确定输入数据、swscale() 等是正确的。唯一的区别是使用了 CODEC_ID_H264 并设置了一些额外的变量（如 qmin、qmax 等），这些变量都是 H264 特有的，因此不会产生影响。

此外， avformat_write_header 和 av_write_trailer 都不会报告错误。

作为附加信息，在 VLC 播放器中查看 MPG 的编解码器数据时，无法显示 FPS、分辨率和格式（应显示 640x360、30 fps 和 4:2:0 YUV）。

我正在使用一个相当新的（可能是 2-3 个月大）FFmpeg 版本，它是我从 MinGW 的源代码编译而来的。

欢迎任何有关如何解决此问题的想法。目前，我不在那些:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T14:03:05.140

好吧，问题不是avformat_write_header，而是我没有将每个写入的视频包的PTS值设置为AV_NOPTS_VALUE。

一旦我为每个视频数据包设置了它，一切正常。

我假设 AV_NOPTS_VALUE 是默认值，因为我不需要设置任何特殊的 PTS 值。

# python - 如果 eth 关闭，libvirt getCapabilities 挂起

> ID：14457438
> 
> 赞同：1
> 
> 时间：2013-01-22T11:23:49.103
> 
> 标签：python, unix, virtualization, libvirt

我正在创建与 libvirt 的连接

```
>>> import libvirt
>>> conn = libvirt.openAuth("qemu+tls://my-hypervisor/system?no_tty=1") 
```

在此之后，我试图获得具有功能的功能`getCapabilities`。

```
>>> conn.getCapabilities() 
```

它工作正常。

但如果`eth`接口关闭，则它会挂起`getCapabilities`。

要重现此问题，请连接然后关闭`eth`.

```
>>> import libvirt
>>> conn = libvirt.openAuth("qemu+tls://my-hypervisor/system?no_tty=1") 
```

关闭`eth0`管理程序机器。

```
[root@my-hypervisor] ifconfig eth0 down 
```

现在试试

```
>>> conn.getCapabilities() 
```

是否有任何功能可以让我在之前测试`getCapabilities`连接是否存在。

# jquery - 提高 jQuery 滚动视差性能

> ID：14457442
> 
> 赞同：3
> 
> 时间：2013-01-22T11:24:00.830
> 
> 标签：jquery, scrolltop, parallax, onscroll

这个问题都是关于提高滚动视差背景效果的性能，该效果目前表现不稳定。我在所有浏览器中都遇到了很多抖动，尤其是在快速滚动时。

我有一个绝对定位的 div - #img_bg - 它包含一个 1440px x 900px (243kb) 背景，我正在使用以下 Coffeescript 代码为背景设置动画：

```
$(document).ready ->
  img_bg = $("#img_bg")
  jq_window = $(window)
  scroll_ok = true

  setInterval (->
    scroll_ok = true
  ), 30

  parallaxScroll = ->

  jq_window.scroll(->
    if scroll_ok == true
      scroll_ok = false
      scrolledY = jq_window.scrollTop()
      new_Y = scrolledY * 0.5
      img_bg.css "background-position", "0px " + new_Y + "px"
      img_bg.height 900 + new_Y 
  ) 
```

如您所见，我一直在使用本文推荐的 setInterval 节流建议：[jQuery Parallax / Scroll Events Performance](https://stackoverflow.com/questions/8915376/jquery-parallax-scroll-events-performance)

我还尝试使用各种动画速度在 img_bg 上设置 .animate ，看看它是否“平滑”了滚动。它没有。

至于渲染，当所有重叠的 DOM 元素被移除时，抖动并没有消失。

另外，我注意到将乘数从 0.5 降低到 0.2 左右确实会稍微提高性能，但是，视差的效果会变得毫无用处。

所以，问题是，有没有更多的技术来解决抖动？

# android - 在android的另一个活动中显示BMI的计算

> ID：14457449
> 
> 赞同：0
> 
> 时间：2013-01-22T11:24:23.710
> 
> 标签：android

**您好，我只是 android 的新手 ..我只是想问一下，我是否可以将 BMI 的计算从菜单窗口显示到另一个名为 android 中的 Register Window 的活动 ..因为当我运行此代码时，不会在注册窗口中显示结果。 。 谢谢你**

****注册窗口 ****

* * *

```
 public void onClick(View v)
    {   
        Intent intent = new Intent(Register.this, Menu.class);
            intent.putExtra("response","counter");
            startActivity(intent);   

        int weight = 0, height = 0, age = 0, answer = 0;
        String test1, test2, test3;
        test1 = getString(R.id.tvWeight);
        test2 = getString(R.id.tvAge);
        test3 = getString(R.id.tvHeight);

        try {
            if (test1 != "" && test2 != "" && test3 != "") {
                Eweight = (EditText) findViewById(R.id.tvWeight);
                weight = Integer.parseInt(Eweight.getText().toString().trim());
                Eage = (EditText) findViewById(R.id.tvAge);
                age = Integer.parseInt(Eage.getText().toString().trim());
                Eheight = (EditText) findViewById(R.id.tvHeight);
                height = Integer.parseInt(Eheight.getText().toString().trim());

                if(gender.contains("Male"))
                    answer = (int) Math.round(1.2 * (66 + (13.7 * weight) + (5 * height) - (6.8 * age)));

                if(gender.contains("Female"))
                    answer = (int) Math.round(1.2*(655 + (9.6 * weight) + (1.8 * height) - (4.7 * age)));

                response = answer + " kcal/day";
                counter.setText(response);

            }
        } catch (Exception e) {
            System.out.println(e);
        }

    } 
```

**菜单窗口**

```
 @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub

                Intent intent = getIntent();
                intent.getStringExtra("response");

                String answer = intent.getStringExtra(response);

            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:17:22.933

很难详细回答，因为您没有提供足够的详细信息，例如什么`gender`？

您不需要 new`Activity`就可以更改布局（显示的内容）。只需在方法中做您想做的事情`onClick()`（包括布局更改）。

无论如何，如果您想以新的方式进行操作，则`Activity`需要使用[`startActivityForResult()`](http://developer.android.com/reference/android/app/Activity.html#startActivityForResult%28android.content.Intent,%20int,%20android.os.Bundle%29). 您可以使用`Bundle`（第三个参数）将您想要的任何内容传递给新的`Activity`. 请记住，当这个新*孩子* `Activity`结束时，调用者[`onActivityResult()`](http://developer.android.com/reference/android/app/Activity.html#onActivityResult%28int,%20int,%20android.content.Intent%29)将被调用，而不是您似乎相信的代码中的下一句：

```
 Intent intent = new Intent(Register.this, Menu.class);
    intent.putExtra("response","counter");
    startActivity(intent);   

    int weight = 0, height = 0, age = 0, answer = 0;
    String test1, test2, test3;
    test1 = getString(R.id.tvWeight);
    test2 = getString(R.id.tvAge);
    test3 = getString(R.id.tvHeight); 
```

PS：在 Java 中，只有类/接口名称以大写开头。类字段以小写字母开头。

# mysql - 删除名称包含“_nd”的列，重命名名称包含“_er”的列？

> ID：14457450
> 
> 赞同：0
> 
> 时间：2013-01-22T11:24:27.740
> 
> 标签：mysql, database-design, alter-table

我在一个表中有一大组列（50+），其中包含一些关于游戏的统计信息。

我们正在简化我们的统计数据，所以现在我们想做两件事。

*   删除名称包含“%_nd%”的所有列
*   从任何列名中删除字符串“_er”。

是否有一种简单的方法可以自动执行此操作，还是我需要手动输入所有列名？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:35:38.747

那么您可以通过运行以下命令并使用它生成的 SQL 来执行第一个操作：

```
select distinct concat('alter table ',table_name,' drop column ',column_name) someSql
from information_schema.columns
where column_name like '%_nd%' 
```

你可以用类似的查询来做第二个：

```
select distinct concat('alter table ',table_name,' change ',column_name, ' ', replace(column_name, '_er', ''), ' ', data_type, case when CHARACTER_MAXIMUM_LENGTH is not null then concat('(', CHARACTER_MAXIMUM_LENGTH, ')') end) someSql
from information_schema.columns
where column_name like '%_er%' 
```

# maven - maven deploy：如何限制只部署工件？（多模块环境）

> ID：14457452
> 
> 赞同：7
> 
> 时间：2013-01-22T11:24:34.630
> 
> 标签：maven, deployment

我有一个包含两个模块的项目：客户端和服务器。在父 pom.xml 中，我添加了部署阶段的信息，以便部署到本地目录：

```
<project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.my</groupId>
  <artifactId>myTest</artifactId>
  <version>0.1</version>
  <packaging>pom</packaging>
  <name>myTest</name>
  <modules>
    <module>server</module>
    <module>client</module>
  </modules>

<!-- for: mvn deploy -->
<distributionManagement>
    <repository> 
        <id> myRepo </id>
        <url> file:myDeployDir </url>
    </repository>
</distributionManagement>

</project> 
```

当我运行时，`mvn deploy`不仅 server-0.1.jar 和 client-0.1.jar 被复制到`myDeploy`总共 33 个（！）文件中：*pom *sha1 *md5 *xml 用于 pom、元数据和 jar。

如何设置只复制 server-0.1.jar 和 client-0.1.jar？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-04-20T08:00:51.663

使用 Maven[部署文件](http://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html)

> deploy:deploy-file 用于安装单个工件及其 pom。在这种情况下，可以从可选指定的 pomFile 中获取工件信息，但可以使用命令行完成/覆盖。

# ruby-on-rails - 为什么无法为控制器中的属性赋值？

> ID：14457454
> 
> 赞同：1
> 
> 时间：2013-01-22T11:24:39.110
> 
> 标签：ruby-on-rails

我正在做“Agile Web Development with Rails”一书第 13 章的最后一个练习。

以前有一个名为“Order”的模型，我创建了一个迁移以添加一个名为“ship_date”的列：

```
add_column :orders, :ship_date, :datetime 
```

然后我在respond_to之前的orders_controller的“create”操作中添加了一行，如下所示：

```
@order.ship_date = Time.now.to_date 
```

然后我像这样修改了测试文件：

```
ship_date_expected = Time.now.to_date  ### new line
post_via_redirect "/orders",
                  order: { name:     "Dave Thomas",
                           address:  "123 The Street",
                           email:    "dave@example.com",
                           pay_type: "Check",
                           ship_date: Time.now.to_date } ### new line
### some existing lines
assert_equal ship_date_expected, order.ship_date  ### new line 
```

然后我运行集成测试，但遇到这样的失败：

```
test_buying_a_product(UserStoriesTest)[H:/Sites/rails_projects/depot/test/integration/user_stories_test.rb:56]:<Tue, 22 Jan 2013> expected but was <nil>. 
```

我检查了数据库并确定新列存在。所以我猜问题出在作业上。这应该是一个愚蠢的问题......但我不知道如何解决它。有人可以帮我吗？

谢谢！！！

创建动作：

```
def create
  @order = Order.new(params[:order])
  @order.add_line_items_from_cart(current_cart)
  @order.ship_date = Time.now.to_date

  respond_to do |format|
    if @order.save
      Cart.destroy(session[:cart_id])
      session[:cart_id] = nil
      OrderNotifier.received(@order).deliver
      format.html { redirect_to store_url, notice: I18n.t('.thanks') }
      format.json { render json: @order, status: :created, location: @order }
    else
      @cart = current_cart
      format.html { render action: "new" }
      format.json { render json: @order.errors, status: :unprocessable_entity }
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:26:09.213

`save`请记住，您需要`@order`在完成任务后！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-25T08:36:30.820

我遇到了同样的错误，这是因为我忘了更新**order_params**。您需要授予**:ship_date**的权限，否则日期值将无法保存在 ship_date 列中。**这也是你得到nil**的原因

 **```
 def order_params
  params.require(:order).permit(:name, :address, :email, :pay_type, :ship_date) 
```**

# mule - 如何使用 Mule 通过 REST over HTTP 上传多个文件？

> ID：14457455
> 
> 赞同：1
> 
> 时间：2013-01-22T11:24:39.503
> 
> 标签：mule, mule-studio

我有一个文件夹说“我的文件”，我有很多文件。现在我需要通过 REST over HTTP 上传这些文件。方法是什么？

我尝试了以下但它是错误的

```
<flow name="testFlow1" doc:name="testFlow1">
        <http:inbound-endpoint exchange-pattern="request-response" host="localhost" port="8081" doc:name="HTTP"/>

         <http:rest-service-component 
                                serviceUrl="http://localhost:8280/rest/xyz" 
                                httpMethod="POST"> 
         </http:rest-service-component> 

    <http:endpoint host="localhost" port="5430" encoding="UTF-8" 
                method="POST" connector-ref="fileHttp" path="fileuploader" name="muleFileUploader">
       </http:endpoint>

</flow> 
```

请帮忙。由于输入文件夹将有多个文件，我们怎样才能实现呢？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T19:25:44.687

您的流程不使用文件入站端点，而是使用通用（非输入非输出）HTTP 端点，因此这无法正常工作。

下面是成功将文件上传到 HTTP 端点的配置。`object-to-byte-array-transformer`如果没有（同一个文件被一遍又一遍地轮询 - 错误？），我无法让它工作，所以我希望你的文件不是很大......

```
<flow name="fileUploader">
    <file:inbound-endpoint path="/tmp/mule/in"
        pollingFrequency="5000" moveToDirectory="/tmp/mule/done" />
    <object-to-byte-array-transformer />
    <http:outbound-endpoint address="http://..."
        method="POST" exchange-pattern="request-response" />
</flow> 
```

# android - Android\Intent：发送带有图片附件的电子邮件

> ID：14457457
> 
> 赞同：17
> 
> 时间：2013-01-22T11:24:51.450
> 
> 标签：android, email

收件人正在接收电子邮件，但没有附件。这是代码，有高手知道我哪里出错了吗？

```
 Intent messageIntent = new Intent(android.content.Intent.ACTION_SEND);

String aEmailList[] = { "mymailgmail.com" };
messageIntent.putExtra(android.content.Intent.EXTRA_EMAIL, aEmailList);

messageIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);
...    
messageIntent.setType("image/jpeg");
File downloadedPic = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), "MyApp.jpg");

messageIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(downloadedPic));

startActivity(Intent.createChooser(messageIntent, getResources().getString(R.string.chooser_pic))); 
```

我得到：

> file:// 附件路径必须指向 file://sdcard。忽略附件文件：//...文件名是 MyApp.jpg

我没有得到图像，只有在短信上方。谢谢。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-22T11:42:03.913

试试下面的代码...

```
Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND); 
emailIntent.setType("application/image");
emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, new String[]{strEmail}); 
emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,"Test Subject"); 
emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, "From My App"); 
emailIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse("file:///mnt/sdcard/Myimage.jpeg"));
startActivity(Intent.createChooser(emailIntent, "Send mail...")); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-05-13T22:25:36.007

```
Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);
emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, emailaddress);
emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, message);
emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);
emailIntent.setType("application/image");

Uri uri = Uri.parse("file://" + filepath);
emailIntent.putExtra(Intent.EXTRA_STREAM, uri);
startActivity(emailIntent); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-02-28T06:10:47.960

```
//add below in Manifest file  
 <provider
            android:name="androidx.core.content.FileProvider"
            android:authorities="${applicationId}.provider"
            android:exported="false"
            android:grantUriPermissions="true">
            <meta-data
                android:name="android.support.FILE_PROVIDER_PATHS"
                android:resource="@xml/file_paths"/>
        </provider>

// create xml folder inside file name file_paths.xml

<?xml version="1.0" encoding="utf-8"?>
<paths xmlns:android="http://schemas.android.com/apk/res/android">
    <!--  -->
    <external-path
        name="my_images"
        path="data/data/com.cw.getmycolor/cache" />
    <external-path
        name="my_images"
        path="Android/data/com.cw.getmycolor/files/Pictures" />

    <external-path
        name="external"
        path="." />
    <external-files-path
        name="external_files"
        path="." />
    <cache-path
        name="cache"
        path="." />
    <external-cache-path
        name="external_cache"
        path="." />
    <files-path
        name="files"
        path="." />
    <external-path
        name="share"
        path="/" />

</paths>

// send method email

    private void shareApp() {
            Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);
            emailIntent.setType("application/image");
            emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL,"demo@gmail.com");

    emailIntent.putExtra(Intent.EXTRA_STREAM, FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + ".provider", new 

    File(uri.getPath())));/*getImageContentUri(this,new File(uri.getPath())));*/
            emailIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
            emailIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
            emailIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);
            startActivityForResult(Intent.createChooser(emailIntent, "Send mail..."), 201);

        } 
```

# solr - TIKA解析反馈

> ID：14457458
> 
> 赞同：0
> 
> 时间：2013-01-22T11:24:55.537
> 
> 标签：solr, apache-tika

是否存在关于 TIKA 可以提供的有关其无法解析的文件的反馈类型的列表？我正在尝试根据 TIKA 告诉我的信息来决定是否为最终用户提供反馈或为运营团队提供反馈，或两者兼而有之。例如，如果 MS Word 文档受密码保护，我可以将其传回给最终用户以采取纠正措施。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:49:03.090

对于 Tika 特定错误，您应该查找[`TikaException`](http://tika.apache.org/1.2/api/org/apache/tika/exception/TikaException.html)like `ChmParsingException`、`EncryptedDocumentException`、的子类...`MimeTypeException`

`parse()`格式解析器方法的签名是

```
Throws:
IOException - if the document stream could not be read
SAXException - if the SAX events could not be processed
TikaException - if the document could not be parsed 
```

# android - 更新 textview 没有任何按钮

> ID：14457462
> 
> 赞同：-1
> 
> 时间：2013-01-22T11:25:08.720
> 
> 标签：android, textview

我有 2 个空的 edittext 字段，我想当我在两个字段中键入数字时，第 3 个 textview 将自动获得上述 2 个 edittexts 的划分。*所以没有按钮来计算等等。*

问题是当我在任何字段上输入一个数字时，应用程序会被强制关闭。这是我的代码和logcat：

```
 amount.addTextChangedListener(new TextWatcher() {

        public void afterTextChanged(Editable arg0) {
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
        }

        public void onTextChanged(CharSequence s, int start, int before,
                int count) {
            AddFuelActivity.this.updateValue();
        }

    });

    litres.addTextChangedListener(new TextWatcher() {

        public void afterTextChanged(Editable arg0) {
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
        }

        public void onTextChanged(CharSequence s, int start, int before,
                int count) {
            AddFuelActivity.this.updateValue();
        }

    });

protected void updateValue() {
    int amountInt = Integer.parseInt(amount.getText().toString());
    int litresInt = Integer.parseInt(litres.getText().toString());
    float priceFuelAuto = 0;
    priceFuelAuto = amountInt / litresInt;
    fuelPrice.setText("€ " + priceFuelAuto);
} 
```

logcat 错误：我认为这些是重要的。

```
01-22 13:23:21.650: E/AndroidRuntime(671): java.lang.NumberFormatException: Invalid int: ""
01-22 13:23:21.650: E/AndroidRuntime(671):  at java.lang.Integer.invalidInt(Integer.java:138)
01-22 13:23:21.650: E/AndroidRuntime(671):  at java.lang.Integer.parseInt(Integer.java:359)
01-22 13:23:21.650: E/AndroidRuntime(671):  at java.lang.Integer.parseInt(Integer.java:332)
01-22 13:23:21.650: E/AndroidRuntime(671):  atcom.example.mycarfuel.AddFuelActivity.updateValue(AddFuelActivity.java:155)
01-22 13:23:21.650: E/AndroidRuntime(671):  atcom.example.mycarfuel.AddFuelActivity$2.onTextChanged(AddFuelActivity.java:67) 
```

我修复了我的代码。这是我所做的：

```
 public void onTextChanged(CharSequence s, int start, int before,
            int count) {
        if (litres.length() > 0) {
            AddFuelActivity.this.updateValue();
        }
    } 
```

和

```
 int amountInt = 0;
    int litresInt = 0;
    try {
        amountInt = Integer.parseInt(amount.getText().toString());
        litresInt = Integer.parseInt(litres.getText().toString());
    } catch (NumberFormatException e) {
        litresInt = 0;
        amountInt = 0;
    }
    if(amountInt !=0 && litresInt != 0){
        float priceFuelAuto = 0;
        priceFuelAuto = amountInt / litresInt;
        fuelPrice.setText("€ " + priceFuelAuto);
    } 
```

谢谢你的回复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:31:48.847

```
@Override
        public void onTextChanged(CharSequence s, int start, int before,
                int count) {
            // TODO Auto-generated method stub
            if(edittext1.length()!=0){
            updateValue() 

            }
            else{
                edittext2.setText("");
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:35:58.793

只需写下面的代码..

```
 amount.addTextChangedListener(new TextWatcher() {

        public void afterTextChanged(Editable arg0) {
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
        }

        public void onTextChanged(CharSequence s, int start, int before,
                int count) {
             if(s.length()>0)     <<<<===Just put this condition
            AddFuelActivity.this.updateValue();
        }

    });

    litres.addTextChangedListener(new TextWatcher() {

        public void afterTextChanged(Editable arg0) {
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
        }

        public void onTextChanged(CharSequence s, int start, int before,
                int count) 
        {
             if(s.length()>0)     <<<<===Just put this condition
            AddFuelActivity.this.updateValue();
        }

    });

protected void updateValue() {
    int amountInt = Integer.parseInt(amount.getText().toString());
    int litresInt = Integer.parseInt(litres.getText().toString());
    float priceFuelAuto = 0;
    priceFuelAuto = amountInt / litresInt;
    fuelPrice.setText("€ " + priceFuelAuto);
} 
```

# javascript - 如何验证特定格式的大厅票号

> ID：14457468
> 
> 赞同：1
> 
> 时间：2013-01-22T11:25:26.243
> 
> 标签：javascript, string, validation

我正在做一个项目，根据给定的 HallTicket Number 显示学期分数。

因此，我必须使用 JavaScript 对输入的大厅票号进行验证。

并且大厅票号有以下限制：

```
--->It shouid hav exactly 10 characters
--->starting two positions may be 10 or 11 or 12
--->next four positions must be the string "kp1a"
--->later two positions may contains any of 02 or 04 or 05 or 12 only
--->remaing two positions may any digits from 01 to 60. 
```

谁能说如何编写 JavaScript 来验证这种大厅票号？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:42:33.557

一个（稍微测试过的）非正则表达式解决方案

```
function validateTicketNum(numb){
   var first = ["10","11","12"];
   var third = ["02","04","05","12"];
   if (numb.length!==10){
      return false;
   }
   else if (first.indexOf(numb.substring(0,2))==-1){
      return false;
   }
   else if (numb.substring(2,6)!=='kp1a'){
      return false;
   }
   else if (third.indexOf(numb.substring(6,8))==-1){
      return false;
   }
   else if (isNaN(numb.substring(8,10)) || 
            parseInt(numb.substring(8,10),10) < 1 ||
            parseInt(numb.substring(8,10),10) > 60){
      return false;
   }
   return true;
} 
```

# php - 从数组中获取数据无效

> ID：14457469
> 
> 赞同：0
> 
> 时间：2013-01-22T11:25:26.617
> 
> 标签：php, arrays, codeigniter, multidimensional-array

在我的观点中，我有以下形式：

```
<table align="center" border="1">
<tr>
   <td>Identificação</td>
   <td>Conc, %</td>
   <td>Classificação 67/548/CEE</td>
   <td>Classificação 1272/2008 (CLP)</td>
</tr>
<tr>
   <td>
       <textarea rows="4" cols="30" name="componentes[0][identificacao]"></textarea>
   </td>
   <td>
       <textarea rows="4" cols="30" name="componentes[0][conc]"></textarea>
   </td>
   <td>
       <textarea rows="4" cols="30" name="componentes[0][classificacao_cee]"></textarea>
   </td>
   <td>
       <textarea rows="4" cols="30" name="componentes[0][classificacao_clp]"></textarea>
   </td>
</tr>
</table>

<div id="outro_curso"></div>
<p class="submit">
    <button id="novo_curso">Add Curso</button>
</p> 
```

如您所见，我使用的是多维数组。我这样做是因为当我单击“添加光标”按钮时，我调用了一个 jquery 函数，该函数生成另一个表，如前一个表。文本区域的名称将是`componentes[1][identificacao]`, `componentes[1][conc]`, 等等...

注意：我可以使用按钮生成我想要的次数的表格。

现在，我的问题是如何在我的 CodeIgniter 模型中处理这些数据。我尝试将数据保存到`$componentes`数组中（以便稍后插入数据库）但我想我的代码有问题：

```
$componentes;
    foreach ($this->input->post('componentes') as $key => $value){
        $componentes[$key]['identificacao']=$value[$key]['identificacao'];
        $componentes[$key]['conc']=$value[$key]['conc'];
        $componentes[$key]['classificacao_cee']=$value[$key]['classificacao_cee'];
        $componentes[$key]['classificacao_clp']=$value[$key]['classificacao_clp'];
    } 
```

有人可以给我一点帮助吗？

**编辑：**

我忘了提，我收到了错误：

> 为 foreach() 提供的参数无效。

所以我不知道我`foreach ($this->input->post('componentes') as $key => $value){`的是否正确，或者里面的线路是否有问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:49:15.987

```
$componentes_post = $this->input->post('componentes');
if(is_array($componentes_post)&&!empty($componentes_post))
{
    foreach ($componentes_post as $key => $value)
    {
        $temp_componentes['identificacao']=$value['identificacao'];
        $temp_componentes['conc']=$value['conc'];
        $temp_componentes['classificacao_cee']=$value['classificacao_cee'];
        $temp_componentes['classificacao_clp']=$value['classificacao_clp'];
        $componentes[] = $temp_componentes;
    }
} 
```

现在看，

```
print_r($componentes); 
```

你应该得到你需要的东西。接下来，您会收到错误**Invalid argument provided for foreach()**因为您迭代的数组`foreach`是空的，请确保使用该元素上的值`print_r($this->input->post('componentes'))`

# python - 编辑时 prestapyt 错误

> ID：14457470
> 
> 赞同：1
> 
> 时间：2013-01-22T11:25:26.910
> 
> 标签：python, api, prestashop

我正在使用 prestashop API[`prestapyt`](http://pypi.python.org/pypi/prestapyt)

我在我的网站中手动添加了一个类别，但是当我尝试通过 API 进行编辑时，它失败了。即使是最简单的事情，也行不通：

```
ps = PrestaShopWebServiceDict(config.DOMAIN, config.KEY)
xml = ps.get('categories', 35)
ps.edit('categories',35,xml) 
```

xml（类型 DICT）加载正常，但`.edit()`失败。

这是回复

```
Traceback (most recent call last):
  File "C:\Users\noukeys\Documents\psapi\main.py", line 31, in <module>
    ps.edit('categories',35,xml)
  File "C:\Python27\lib\site-packages\prestapyt\prestapyt.py", line 333, in edit
    return self.edit_with_url(full_url, content)
  File "C:\Python27\lib\site-packages\prestapyt\prestapyt.py", line 452, in edit_with_url
    return  super(PrestaShopWebServiceDict, self).edit_with_url(url, xml_content)
  File "C:\Python27\lib\site-packages\prestapyt\prestapyt.py", line 344, in edit_with_url
    return self._parse(self._execute(url, 'PUT', body=unicode_encode.encode(content), add_headers=headers)[2])
  File "C:\Python27\lib\site-packages\prestapyt\prestapyt.py", line 171, in _execute
    self._check_status_code(status_code)
  File "C:\Python27\lib\site-packages\prestapyt\prestapyt.py", line 125, in _check_status_code
    % (status_code, message_by_code[status_code]), status_code)
prestapyt.prestapyt.PrestaShopWebServiceError: 'This call to PrestaShop Web Services failed and returned an HTTP status of 400\. That means: Bad Request.' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T02:57:53.813

可以在 api 中开启调试。

```
prestashop.debug = True 
```

然后为您的商店打开 config.inc.php 中的 display_errors。这帮助我调试了请求错误的原因。错误消息非常清楚。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T03:14:02.183

我也遇到了编辑问题，但出现 501 错误。原来我的主机不允许 PUT 请求。

# jquery - 如何将外部样式表和 javascript 导入 iframe

> ID：14457474
> 
> 赞同：7
> 
> 时间：2013-01-22T11:25:36.580
> 
> 标签：jquery, css, iframe

我只想将外部样式表和 js 导入 iframe 的 head 标签。可能吗 ？

我已经在 html 头中尝试了一个自定义 jquery 函数`

```
$(this).contents().find('head').append('<link href="http://mywebsite.com/css/iframe.css?" rel="stylesheet" type="text/css" />')` 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-27T18:23:16.097

iframe 中的 window 对象是加载到 iframe 中的页面的属性。包含页面操作 iframe 的窗口对象的唯一方法是包含页面和 iframe 页面的域是否相同。（由于跨域限制政策）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T12:16:26.917

我不相信可以使用 JavaScript 在 iframe 中包含样式表，因为在添加样式表之前框架已经呈现。

你可以改变 iframe DOM 中元素的样式，使用`.find().css()`. （我已经为具有 iFrame 预览窗格的站点构建主题生成器做了类似的事情）。

如果 iFrame 来自其他人的网站，您应该警惕更改 iFrame 的 CSS，因为他们可能随时更改自己的 CSS 或标记，这可能会破坏您想要实现的目标。

# javascript - 使用正确的 Jquery 选择器在 div 之间迁移内容

> ID：14457476
> 
> 赞同：1
> 
> 时间：2013-01-22T11:25:53.223
> 
> 标签：javascript, jquery, append, each

主要被困在这里，希望得到一些帮助。当单击特定标题时，我正在尝试将特定主题的隐藏 div 内容迁移到单独的区域。此刻，我可以迁移内容，但不是特定主题内容，而是在单击时循环浏览内容。

对不起我可怜的标题，我正在努力定义我的确切问题。如果你觉得你可以做得更好，请改变。

[http://jsfiddle.net/vBCs5/1/](http://jsfiddle.net/vBCs5/1/)

单击灰色字幕可迁移内容。

先感谢您。

**查询：**

```
$(document).ready(function() {

   $(".freemarker-wrap div").hide();

   $(".test").click(function () {

      $(".freemarker").each(function () {

        var working = $(this).contents();
        var ref = $(".content-box").contents();

        $(this).append(ref);
        $(".content-box").append(working);

   });
  });
}); 
```

**HTML**

```
<html>
<body>

<div class="page-wrap">
<div class="left-column-wrap">

<h1>FreeMarker +</h1>
<div class="freemarker-wrap">
    <span class="test">
        <h2>Lucene Call ></h2>
        <div class="freemarker">
        <p>Click to hide stories</p>
    </div>
</span>

<span class="test">
    <h2>Arrays ></h2>
    <div class="freemarker">
        <p>Arrays</p> 
    </div>
</span>

<span class="test">
<h2>Declaring and outputting variables ></h2>
    <div class="freemarker">
        <p>Declaring</p> 
    </div>
</span>

<span class="test">
    <h2>IF Statements ></h2>
    <div class="freemarker">
        <p>Statements</p>  
    </div>
</span>

<span class="test">
    <h2>Fragments ></h2>
    <div class="freemarker">
        <p>Fragments</p>
    </div>
</span>

<span class="test">
    <h2>Working with Numbers ></h2>
    <div class="freemarker">
        <h3>Numbers</h3>        
    </div>
</span>

<span class="test">
     <h2>Current Date ></h2>
     <div class="freemarker">     
        <p>Current</p>
     </div>
     </span>
 </div>

 <div class="javascript-wrap">
<h1>JavaScript +</h1>
 </div>

 <div class="javascript-wrap">
<h1>JQuery +</h1>
 </div>

 <div class="javascript-wrap">
<h1>HTML +</h1>
 </div>

 <div class="javascript-wrap">
<h1>CSS +</h1>
 </div>

 </div>

 <div class="content-box">
 </div>

</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:39:15.180

假设这是您的要求...

```
$(document).ready(function() {

  $(".freemarker-wrap div").hide();
  $(".test").click(function () {
    var working=$(this).find(".freemarker").html(); // get that particular <span> html
    $(".content-box").html(working); <migrate it to content
 });
}); 
```

在这里[摆弄](http://jsfiddle.net/bipen/gHSXb/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:41:16.880

我认为你把它复杂化了；）

```
$(document).ready(function() {

  $(".freemarker-wrap div").hide();

  $("span.test").click(function () {
      $(".content-box").html( $(this).find("div.freemarker").html() );
    });

 }); 
```

# ruby - f.label 不适用于 haml 中的块

> ID：14457481
> 
> 赞同：1
> 
> 时间：2013-01-22T11:26:08.137
> 
> 标签：ruby, ruby-on-rails-3, haml

我有以下haml代码

```
form_for @user_notification_settings_form do |f|
  = f.label :follow do
    div dummy 
```

但它会产生

```
<label for="user_notification_settings_form_follow">
  foruser_notification_settings_form_follow
</label> 
```

正如我所期望的那样

```
<label for="user_notification_settings_form_follow">
  <div>dummy</div>
</label> 
```

调试到我发现的rails：

`label_tag`within `form_tag_helper`has`&block`但是当它调用`content_tag`时`tag_helper`，`&block`now 变为 nil

```
 def label_tag(name = nil, content_or_options = nil, options = nil, &block)
    options = content_or_options if block_given? && content_or_options.is_a?(Hash)
    options ||= {}
    options.stringify_keys!
    options["for"] = sanitize_to_id(name) unless name.blank? || options.has_key?("for")
    content_tag :label, content_or_options || name.to_s.humanize, options, &block
  end
  def content_tag(name, content_or_options_with_block = nil, options = nil, escape = true, &block)
    if block_given?
      options = content_or_options_with_block if content_or_options_with_block.is_a?(Hash)
      content_tag_string(name, capture(&block), options, escape)
    else
      content_tag_string(name, content_or_options_with_block, options, escape)
    end
  end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-30T03:28:21.263

您只需要制作`%div`元素，然后将标签的文本嵌套在其中。

```
form_for @user_notification_settings_form do |f|
  = f.label :follow do
    %div 
      dummy 
```

# ruby-on-rails - gem的未初始化常量

> ID：14457486
> 
> 赞同：3
> 
> 时间：2013-01-22T11:26:28.430
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.2

我已经安装了 JWT gem - [https://github.com/progrium/ruby-jwt](https://github.com/progrium/ruby-jwt)当然 有`gem 'jwt'`。`Gemfile`尽管如此，我有错误

```
uninitialized constant HomeController::JWT 
```

在`HomeController`

```
class HomeController < ApplicationController

 def method1
   @jwt_token = JWT.encode({.... })
 end

end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T15:57:49.020

我相信你需要一个`require 'jwt'`.

高温高压

# javascript - 将 div 设置为 position:relative from position:absolute; 使用 turn.js 时

> ID：14457487
> 
> 赞同：0
> 
> 时间：2013-01-22T11:26:35.227
> 
> 标签：javascript, html, css

这是一个简单的问题，我刚刚开始使用 turn.js 库，并希望参考容器 div 来相对定位图像元素，为此，它看起来像：

```
<div id="cont" style="position:relative;">//this div acts a page
 <img src="my.jpg" style="position: absolute; top:40px; left:50px;">
 </div> 
```

使用该库的 div 将用作要翻转的页面，问题是每当我将容器 div 设置为相对位置时，当页面加载时，它会被 turn.js 库自动转换为绝对位置，是否存在一种确保变成页面的 div 都具有 position:relative 的方法；而不是位置：绝对；？先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T13:00:10.427

试试这个希望这可以解决你的问题

```
#cont {
  position:relative !important;
} 
```

# c# - 如何将一个表单添加到另一个表单 winform 项目中

> ID：14457488
> 
> 赞同：0
> 
> 时间：2013-01-22T11:26:36.690
> 
> 标签：c#, winforms

我试图用另一个表单创建一个表单实例，然后将该表单添加到主表单中。但我添加的表格没有显示。我想在所有控件顶部的中心显示该表单。

这是我的代码

```
BBA.Controls.ExecludeSpecialist ucExecludeSpecialist = null;
Form frmContainer = null;

private void btnExclude_Click(object sender, EventArgs e)
{
    if (ucExecludeSpecialist != null)
    {
        if (frmContainer != null)
        {
            frmContainer.Controls.Remove(ucExecludeSpecialist);
            ucExecludeSpecialist = null;
        }
    }

    if (frmContainer != null)
    {
        this.Controls.Remove(frmContainer);
        frmContainer = null;
    }

    frmContainer = new Form();
    frmContainer.ControlBox = false;
    frmContainer.StartPosition = FormStartPosition.Manual;
    frmContainer.FormBorderStyle = System.Windows.Forms.FormBorderStyle.None;

    ucExecludeSpecialist = new BBA.Controls.ExecludeSpecialist();
    ucExecludeSpecialist.SaveClicked += 
        new BBA.Controls.ExecludeSpecialist.SaveComplete(OnSaveClicked);
    ucExecludeSpecialist.CloseClicked += 
        new BBA.Controls.ExecludeSpecialist.CloseComplete(OnCloseClicked);
    ucExecludeSpecialist.BringToFront();
    frmContainer.Height = ucExecludeSpecialist.Height;
    frmContainer.Width = ucExecludeSpecialist.Width;
    //frmContainer.Top = this.Height - frmContainer.Height / 2;
    //frmContainer.Left = this.Height - frmContainer.Height / 2;
    frmContainer.BringToFront();
    frmContainer.TopLevel = false;
    frmContainer.Controls.Add(ucExecludeSpecialist);
    this.Controls.Add(frmContainer);
} 
```

请指导我如何在中心的另一个表单的所有控件之上显示该表单。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:04:39.023

如果我理解您的评论正确，您的问题是 DataGrid 覆盖了您最近添加的表单？尝试 ：

添加后

```
frmContainer.Show(); 
```

你的表格应该是可见的。之后你应该解决你的问题，如果你打电话`ucExecludeSpecialist.BringToFront();` **后**打电话`frmContainer.Show();`

例子 ：

```
 private void button1_Click(object sender, EventArgs e)
    {

        frmContainer = new Form();
        frmContainer.FormBorderStyle = System.Windows.Forms.FormBorderStyle.None;

        frmContainer.Height = this.Height / 2;
        frmContainer.Width = this.Width / 2;
        frmContainer.BackColor = Color.Red;
        frmContainer.TopLevel = false;
        this.Controls.Add(frmContainer);
        frmContainer.Show();
        frmContainer.BringToFront();
    } 
```

# winapi - 模拟 SysDateTimePick32 的按键

> ID：14457489
> 
> 赞同：0
> 
> 时间：2013-01-22T11:26:37.730
> 
> 标签：winapi, common-controls

我想将按键发送到 SysDateTimePick32 通用控件。

想象以下场景：有一个多行多列的表格，是用户绘制的。当您在其中一列中点击“Enter”时，将创建一个 SysDateTimePick32 控件并将其放置到当前单元格中，以便您可以为该单元格的实际内容选择一个时间。这很好用，但我想让用户在不先按 Enter 的情况下开始编辑时间。

这意味着：表格处于“显示”模式并选择了一个单元格。目前还没有 SysDateTimePick32 控件。用户键入例如“3”，而不是按回车键（因此创建并显示 SysDateTimePick32）。现在应该创建并显示一个 SysDateTimePick32，并且应该将之前键入的“3”发送给它，就像用户按“enter”然后按“3”一样。

我正在努力

`SendMessage(sysDateTimePick32Handle, WM_KEYDOWN, '3', MAKELPARAM (1, 0));`

但是，这似乎不起作用。将特定击键发送到 Win32 控件，尤其是 SysDateTimePick32 的“干净”方式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T13:13:25.660

发送这样的击键充满了熊陷阱。目前尚不清楚为什么它不起作用，尽管它是错误的方式。WM_KEYDOWN 已发布，而不是发送，因此您应该使用 PostMessage() 代替。对于键入诸如“3”之类的键，您应该发送 WM_CHAR，从而使您免于正确设置修饰键状态（Shift、Ctrl、Alt）的麻烦，并将活动键盘布局作为故障模式删除。如果这不合适，请支持 SendInput()。

请考虑使这更容易的不那么老套的方法。当焦点进入单元格时，总是创建选择器。当您发现没有输入任何内容时，销毁或忽略它。

# python - 为什么我的 Django 服务器突然不工作了？

> ID：14457491
> 
> 赞同：0
> 
> 时间：2013-01-22T11:26:44.660
> 
> 标签：python, django, linux

我在 Ubuntu 12、python2.6 和 Django1.2.x 上工作，这是我的测试服务器。我使用以下命令在我的测试服务器上运行 Django 项目：

```
python manage.py runserver 0.0.0.0:8000 
```

服务器大部分时间都可以工作（我让它在 7X24 上运行以供其他队友访问它），但有时它突然无法工作：

*   当我尝试访问它时，浏览器显示“服务器不可用”。当然，测试服务器无法从我的前端获得任何请求，服务器端也不会抛出任何错误。

一旦我使用我的 django 项目并再次运行它，一切都会恢复正常。

现在我有两个问题：

1.  为什么会出现这个问题？
2.  如何开发一个 shell 脚本来检测这种情况？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:37:13.397

实际上，您似乎正在尝试将 Django 开发用于生产目的。可能有很多解释，比如apparmor config，或者单线程服务器的限制，但这个问题不值得研究。只需安装 Apache2，或 Nginx，或 uwsgi，就是这样，您拥有良好且稳定的服务器，没有 shell 看门狗和其他 kludges。这可能需要与发布到 SO 相同的时间

# oracle - 如何将图片添加到数据库中？

> ID：14457494
> 
> 赞同：0
> 
> 时间：2013-01-22T11:26:50.897
> 
> 标签：oracle, vb6

我创建了一个表 mypics，其中包含一列 BLOB 数据类型。

现在我需要实现一个vb6代码来选择/插入/更新这个表中的数据，但是我不知道如何处理BLOB列......

SQL> desc mypics Name Null？类型

* * *

PID 非空数字 (38)

PNAME 字符(10)

图像块

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T09:00:44.600

这是一些示例代码，可帮助您入门。假设一个名为 tblImages 的表具有 3 个字段。

```
字段数据类型大小
图片图像          
ID 诠释 4

```

将磁盘上文件中的图像添加到数据库

```
Set strStream = New ADODB.Stream
strStream.Type = adTypeBinary
strStream.Open
strStream.LoadFromFile strFileName

strSQL = "SELECT ID, Picture FROM tblImages"
Set rs = New ADODB.Recordset
With rs
    .ActiveConnection = cn
    .Source = strSQL 
    .CursorType = adOpenKeyset
    .LockType = adLockOptimistic
    .Open
End With

rs.AddNew   
rs.Fields("ID").Value = ID
rs.Fields("Picture").Value = strStream.Read
rs.Update
rs.Close
Set rs = Nothing 
```

要将文件从数据库提取到磁盘文件：

```
strSQL = "SELECT Picture FROM tblImages WHERE ID = " & ID               
Set rs = New ADODB.Recordset
With rs
    .ActiveConnection = cn
    .Source = strSQL
    .Open
End With

If Not (rs.BOF And rs.EOF) Then
    Set strStream = New ADODB.Stream
    strStream.Type = adTypeBinary
    strStream.Open    
    strStream.Write rs!Picture
    strStream.SaveToFile TempPath, adSaveCreateOverWrite        
    strStream.Close
    Set strStream = Nothing        
End If    
rs.Close
Set rs = Nothing 
```

我希望这有帮助。

# javascript - 如何触发按钮的客户端和服务器端单击事件？

> ID：14457498
> 
> 赞同：1
> 
> 时间：2013-01-22T11:27:12.817
> 
> 标签：javascript, jquery, asp.net

对于要求，我需要触发 ASP.NET 中按钮的客户端和服务器端单击事件。那可能吗？我试过像下面这样。但它不会触发客户端点击事件。

[ASPX]

```
 <asp:Button ID="Button1" runat="server" Text="Disable" OnClick="disable"  CausesValidation="false"  OnClientClick="return click();" /> 
```

[脚本]

```
 function click()
 {
        alert("hi")

  } 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-22T11:31:41.063

是的，这是可能的。如果客户端 Javascript 返回`true`，则将调用服务器端方法。

例如：

```
function click()
{
    return confirm("Do you want to continue?");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:46:40.633

客户端函数必须在您的代码中调用。唯一取决于它返回的服务器端函数将被调用：

```
 function Click() {
    alert('Hi');
    if (somecondition) {
        return true;
    }
    return false;
} 
```

还要检查您的服务器端事件处理程序是否如您在代码“禁用”中提到的那样命名正确。我认为这不是正确的名称。

还要检查你是否真的需要 CausesValidation 属性？因为这将用于您的验证器，因为手动调用客户端功能可能不再需要它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:34:29.667

```
<asp:Button ID="Button1" runat="server" Text="Disable" OnClick="disable"  CausesValidation="false"  OnClientClick="click();" />

function click()
{
   alert("hi");
   this.click();

} 
```

# jquery - 在 iPhone 上关闭用于 HTML 输入的货币格式

> ID：14457501
> 
> 赞同：0
> 
> 时间：2013-01-22T11:27:23.847
> 
> 标签：jquery, iphone, html, validation

这是输入（应使用数字键盘）

```
<input type="number" id="Amount" maxlength="8" autocorrect="off"/> 
```

这是附加到输入的 JS

```
$("#Amount").change(function() { this.value = formatNumber(this.value); }); 
```

其中 formatNumber 格式化模式中的值 ###.###.### 即点用作千位分隔符，没有小数。所描述的行为适用于 Android 和桌面浏览器，但在 iPhone 上以这种方式失败：

*   123123变成123123
*   123000变成123

如何以编程方式关闭此行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:58:02.113

这是迄今为止我找到的最好的答案

```
<input type="type" id="Amount" maxlength="8" autocorrect="off" pattern="[0-9]*" /> 
```

因此， type="text" 和 pattern="[0-9]*" 将触发数字键盘，而不会自动格式化货币。在 Apple 设备（iPad、iPhone）上运行良好，但不会在 Android 设备上触发数字键盘。这就是需要这个JS的方式：

```
var ua = navigator.userAgent.toLowerCase();
var isAndroid = ua.indexOf("android") > -1;
if(isAndroid) {
   $("input[pattern='[0-9]*']").prop("type", "number");  
} 
```

# extjs - 将 Sencha Cmd 与动态加载的控制器一起使用

> ID：14457508
> 
> 赞同：9
> 
> 时间：2013-01-22T11:27:38.327
> 
> 标签：extjs, build, extjs4, sencha-cmd

我使用 Ext JS 4 创建了一个应用程序`controllers`。我的属性`app.js`只包含主控制器：

```
Ext.application({
    name: 'MyApp',
    appFolder: 'app',

    controllers: [
        "main.App"
    ],

    loadController: function(controller) {
        var oController = this.getController(controller);
        oController.init(this);
        oController.onLaunch(this);
    }
}); 
```

`MyApp.main.App`[控制器使用getController()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Application-method-getController)方法按名称加载其他控制器（请参阅 loadController() 方法）。`index.html`这些控制器是动态加载的，没有在我的文件中列出。

为了生成用于部署到服务器的生产版本，我通过在我的应用程序文件夹中发出以下命令来使用 Sencha Cmd：

```
sencha app build 
```

工具正常完成并将所有文件压缩成一个大的 all-classes.js。问题是我的动态加载的控制器不包含在该文件中。

哪个是使动态加载的控制器（总共超过 100 个）被 Sencha Cmd 缩小和处理的正确方法？

我知道，我可以在我的 中列出它们`app.js`，或者使用 将它们包含在某些文件中`Ext.require`，但我正在寻找正确的方法，以便在我的构建中自动包含 100 多个不同的控制器、视图、模型和存储。我相信这是 Ext JS 的其他用户，他们正在创建大型应用程序并且正在以某种方式构建，我将不胜感激任何建议或只是`success stories`，这将帮助我找到正确的构建方式。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T11:45:08.557

我会将所有控制器放入**[`uses`](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.Class-cfg-uses)**阵列中。这些应该强制工具跟踪它们并将它们包含在构建中。另一方面，*使用*不要求类在定义时可用，但保证它们在*调用 onReady*（一个在应用程序内）块时可用。

> 请注意，您需要在 uses 数组中使用完全限定名称！

*我不使用构建工具，因此我无法对其进行测试，但它应该可以工作。*

* * *

***[从@bhovhannes](https://stackoverflow.com/users/898580/bhovhannes)***提供的评论***示例更新***

 **> ***bhovhannes：****我在 build.xml 中添加了一个代码，当我构建 sencha 应用程序时，它会将我的控制器的所有名称收集到使用数组中。这样我在开发过程中什么都不填写使用数组，只需将控制器添加到控制器文件夹中，因为它们都是从* 我的应用程序

**应用程序.js**

```
Ext.application({
    name: 'MyApp',
    appFolder: 'app',

    controllers: [
        "main.App"
    ],

    uses: [
        /*ant-generated-content-start*/ /*ant-generated-content-end*/
    ],

    autoCreateViewport: true,
}); 
```

**构建.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<project name="MyApp" default=".help">
    <import file="${basedir}/.sencha/app/build-impl.xml"/>

    <target name="-before-build">

        <echo message="Collecting all controllers in application class property ... "/>
        <fileset id="app_controllers" dir="${app.dir}/app/controller" casesensitive="yes">
            <include name="**/*.js"/>
        </fileset>
        <pathconvert pathsep="," property="app_controller_names" refid="app_controllers" targetos="unix">
            <chainedmapper>
                <globmapper from="${app.dir}/app/*" to="${ant.project.name}/*" casesensitive="no" handledirsep="yes"/>
                <chainedmapper>
                    <regexpmapper from="^(.*)\.js$$" to='"\1"'/>
                    <filtermapper>
                        <replacestring from="/" to="."/>
                        <replacestring from="\" to="."/>
                    </filtermapper>
                </chainedmapper>
            </chainedmapper>
        </pathconvert>
        <echo message="Collected controllers: ${app_controller_names}"/>

        <echo message="Injecting into app.js ..."/>
        <replaceregexp file="${app.dir}/app/app.js"
                       match="/\*ant-generated-content-start\*/(.*)/\*ant-generated-content-end\*/"
                       replace="/*ant-generated-content-start*/ ${app_controller_names} /*ant-generated-content-end*/"
                       byline="true"
                />
    </target>

    <target name="-after-build">
        <echo message="Reverting to original app.js ..."/>
        <replaceregexp file="${app.dir}/app/app.js"
                       match="/\*ant-generated-content-start\*/(.*)/\*ant-generated-content-end\*/"
                       replace="/*ant-generated-content-start*/ /*ant-generated-content-end*/"
                       byline="true"
                />
    </target>

</project> 
```**

# java - ClassNotFoundException 通过 maven 构建

> ID：14457513
> 
> 赞同：0
> 
> 时间：2013-01-22T11:28:27.123
> 
> 标签：java, jakarta-ee, maven, classnotfoundexception

我正在使用 Maven 来构建我的项目。我想创建包含一些依赖项的程序集 jar，所以我编写了自定义程序集描述符。

POM.XML

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>com.guavus</groupId>
  <artifactId>Exporter</artifactId>
  <version>atlas2.1</version>
  <packaging>jar</packaging>

  <name>Exporter</name>
  <url>http://maven.apache.org</url>

  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <aspectj.version>1.6.10</aspectj.version>
    <org.springframework.version>3.0.5.RELEASE</org.springframework.version>
  </properties>

  <build>
    <plugins>
      <plugin>
        <artifactId>maven-assembly-plugin</artifactId>
        <configuration>
          <archive>
            <manifest>
              <mainClass>com.guavus.exporter.Exporter</mainClass>
            </manifest>
          </archive>
          <descriptors>
            <descriptor>/Users/archit.thakur/Documents/Code_dev_cdn_mapreduce/exporter/src/main/configurator.xml</descriptor>
          </descriptors>
          <!--
          <descriptorRefs>
                <descriptorRef>jar-with-dependencies</descriptorRef>
              </descriptorRefs>     
              -->
          <finalName>Exporter-${project.version}</finalName>
          <appendAssemblyId>false</appendAssemblyId>
        </configuration>
        <executions>
          <execution>
            <id>make-assembly</id>
            <phase>package</phase>
            <goals>
              <goal>single</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <artifactId>maven-jar-plugin</artifactId>
        <version>2.3.1</version>
        <executions>
          <execution>
            <id>default-jar</id>
            <phase>none</phase>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>

  <dependencies>
    <!-- local snapshots  -->
    <dependency>
      <groupId>com.guavus</groupId>
      <artifactId>CubeCreator</artifactId>
      <version>atlas2.1</version>
    </dependency>
    <dependency>
      <groupId>com.guavus</groupId>
      <artifactId>ConcurrentFlows</artifactId>
      <version>atlas2.1</version>
    </dependency>
    <dependency>
      <groupId>org.aspectj</groupId>
      <artifactId>aspectjrt</artifactId>
      <version>1.6.11</version>
    </dependency>
    <dependency>
      <groupId>ps</groupId>
      <artifactId>thriftGenerated</artifactId>
      <version>atlas2.1</version>
    </dependency>
    <!-- local snapshots  --><!-- local 3rd Party -->
    <dependency>
      <groupId>apache</groupId>
      <artifactId>libthrift</artifactId>
      <version>0.5.0</version>
    </dependency>
    <!-- local 3rd Party --><!-- remote 3rd Party -->
    <dependency>
      <groupId>org.apache.hadoop</groupId>
      <artifactId>hadoop-core</artifactId>
      <version>0.20.203.0</version>
    </dependency>
    <dependency>
      <groupId>com.google.code.gson</groupId>
      <artifactId>gson</artifactId>
      <version>1.7.1</version>
    </dependency>

    <!-- remote 3rd Party --><!-- test libs --><!-- test libs -->
    <dependency>
      <groupId>org.aspectj</groupId>
      <artifactId>aspectjrt</artifactId>
      <version>1.6.11</version>
    </dependency>

    <dependency>
      <groupId>log4j</groupId>
      <artifactId>log4j</artifactId>
      <version>1.2.16</version>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-api</artifactId>
      <version>1.7.2</version>
    </dependency>
    <dependency>
      <groupId>ch.qos.logback</groupId>
      <artifactId>logback-access</artifactId>
      <version>1.0.1</version>
    </dependency>
    <dependency>
      <groupId>ch.qos.logback</groupId>
      <artifactId>logback-classic</artifactId>
      <version>1.0.1</version>
    </dependency>
    <dependency>
      <groupId>ch.qos.logback</groupId>
      <artifactId>logback-core</artifactId>
      <version>1.0.1</version>
    </dependency>
  </dependencies>

</project> 
```

描述符：

```
<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2" 
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
  <id>dep</id>
  <formats>
    <format>jar</format>
  </formats>

  <dependencySets>

    <dependencySet>
      <scope>runtime</scope>
      <unpack>true</unpack>
      <useProjectArtifact>true</useProjectArtifact>
      <includes>
        <include>log4j:log4j</include>
        <include>org.slf4j:slf4j-api</include>
        <include>ch.qos.logback:logback-access</include>
        <include>ch.qos.logback:logback-classic</include>
        <include>ch.qos.logback:logback-core</include>
        <include>com.guavus:Exporter</include>
      </includes>
    </dependencySet>

  </dependencySets>

</assembly> 
```

问题是，它在像“Exporter-atlas2.1//”这样的目录结构中创建了具有类的 jar。例如，“Exporter-atlas2.1/ch/qos/logback/classic/util/EnvUtil.class”。这就是它在运行时抛出 ClassNotFoundException 的原因。我期待课程出现在“/”，例如。“ch/qos/logback/classic/util/EnvUtil.class”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:50:02.653

Exporter-atlas2.1 不只是您的 jar 的名称（因为它被设置为 finalName），并且当您解压缩时，您会将此目录作为解压缩依赖项的父目录？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T07:48:49.037

```
<includeBaseDirectory>false</includeBaseDirectory> 
```

在组装配置器中解决了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T13:52:36.817

很难知道这是否会解决您的问题，但您可以指定一个

```
<outputDirectory> 
```

对于一个`<dependencySet>`。但是，当您解压缩依赖项时，这可能不是正确的解决方案。

顺便说一句，你为什么打开包装？

# javascript - 在提交到服务器 MVC 之前创建一个预览页面

> ID：14457514
> 
> 赞同：3
> 
> 时间：2013-01-22T11:28:33.393
> 
> 标签：javascript, asp.net-mvc, jquery, asp.net-mvc-4

我是 .Net MVC 的新手，我正在尝试在单击按钮上创建预览页面，预览是在新窗口中显示页面而不是提交页面。如果页面没问题，然后提交。假设我在 Html 中有这个

`<input class="btnText" id="PreviewURL" value="Preview" type="submit"/>`

在 JQuery 中这个

`$('#PreviewURL').click(function () {$('.IsPreview').val(true);submitForm();window.open(this.href);});`

但是没有把变量 IsPreview=true （我需要这个在控制器部分使用这个变量）并且返回的不是在新窗口中打开。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:09:48.460

收集所有元素和值并将其设为只读，然后在对话框中显示它们:)

```
<div id='infor'> <span>enter name:</span> 
    <input id="nametext" type="text" />
</div>
<div id='previewDiv'>&nbsp;</div>
<a href='#' id='opendialog'>click here to preview</a> 
```

jQuery

```
$("#opendialog").click(function () {

     var clonetext = $('#infor').clone(true);
     $('#previewDiv').html(clonetext);
     $('#previewDiv input').attr('readonly', 'readonly');
     $("#previewDiv").dialog("open");
     return false;
 });
 $("#previewDiv").dialog({
     autoOpen: false,
     open: function () {},
     show: "blind",
     hide: "explode"
 }); 
```

类似这个演示的东西：[预览页面](http://jsfiddle.net/pADh2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-04T01:26:34.347

为了获得最佳用户体验，我建议不要在新窗口中打开预览，而是打开一个 jQuery 模态对话框。在对话框中添加提交和取消按钮。这将是简单而快速的。

但是，如果您仍然想打开新窗口，那么流程将如下所示：

1.  创建一个 ajax 发布请求并将所有内容发布到一个控制器（比如预览）。这里在会话中保存值。返回任何标志作为响应。

2.  请求 1 成功后，打开新页面（例如预览），该页面将显示会话中的所有值。此页面 UI 将包含所有已发布的值和一个提交按钮。
3.  单击提交后，它实际上会发布值。

您可以对两个 POST 请求使用相同的控制器，您的标志 IsPreview 将位于 AJAX 请求的标头中，并且不适用于预览页面。这个解决方案似乎需要时间。

# cocoa - PXListView 中的拖放在演示应用程序中不起作用。如何解决？

> ID：14457517
> 
> 赞同：0
> 
> 时间：2013-01-22T11:28:48.087
> 
> 标签：cocoa, drag-and-drop, nsview, nsscrollview, nscollectionview

我正在使用 PXListView 并且我正在使用 PXListView 内部的演示应用程序进行测试......在进行拖放时它无法正常工作......拖放无法正常工作......

我添加了以下委托方法......但仍然没有发生在正确的行上......它被重新定位回原来的行......

```
 - (BOOL)listView:(PXListView*)aListView writeRowsWithIndexes:(NSIndexSet*)rowIndexes toPasteboard:(NSPasteboard*)dragPasteboard
{
    // +++ Actually drag the items, not just dummy data.
    [dragPasteboard declareTypes: [NSArray arrayWithObjects: NSStringPboardType, nil] owner: self];
    [dragPasteboard setString: @"Just Testing" forType: NSStringPboardType];

    return YES;
}

- (NSDragOperation)listView:(PXListView*)aListView validateDrop:(id <NSDraggingInfo>)info proposedRow:(NSUInteger)row
                            proposedDropHighlight:(PXListViewDropHighlight)dropHighlight;
{
    return NSDragOperationCopy;
}

- (BOOL)listView:(PXListView*)aListView acceptDrop:(id <NSDraggingInfo>)info row:(NSUInteger)row dropHighlight:(PXListViewDropHighlight)dropHighlight
{
    return NO;
} 
```

谁能帮我解决这个问题？

谢谢和问候， 穆图

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T21:12:28.743

这是您的解决方案。您可能需要对其进行微调，但它可以完成工作。

```
- (BOOL)listView:(PXListView*)aListView acceptDrop:(id <NSDraggingInfo>)info row:   (NSUInteger)row dropHighlight:(PXListViewDropHighlight)dropHighlight
{
     NSLog(@"Accept Drop");
     NSString *temp = [_listItems objectAtIndex: [listView selectedRow]];
     [_listItems removeObjectAtIndex: [listView selectedRow]];
     [_listItems insertObject: temp atIndex: row];
     [listView reloadData];
     return NO;
} 
```

# c# - Oracle 视图基于 PIVOT 查询而不是空值

> ID：14457518
> 
> 赞同：2
> 
> 时间：2013-01-22T11:28:50.053
> 
> 标签：c#, sql, database, oracle, entity-framework

当基于 PIVOT 查询创建视图时，所有视图字段在视图元数据中都变为 NULLABLE，有没有办法使它们不为空？

我在需要为 NOT NULL 的透视字段中使用 NVL 函数，但它们仍然变为 NULLABLE。

这对我来说是个问题，因为我使用的是 MS Entity Framework，它不会根据没有 NOT NULLABLE 列的表或视图更新模型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T16:24:00.150

@Miguel，我不知道“MS Entity Framework”，但这个名字听起来像是一个面向*编辑*数据的框架。“实体”通常用于构建数据库数据的缓存，以准备将数据更改和更新回数据库。这似乎不是您想要做的。

重新阅读这个问题，我相信您有某种枢轴生成器正在使用来为用户即时创建视图。因此，您不打算修改实体模型。我认为您根本不需要实体模型。

实体框架可能会寻找 NOT NULL 列，以便找到它可以使用的“主键”或其他行级标识符。为什么要这些？

*   提供可用于更新任何行的密钥
*   提供对结果集进行分页的键
*   提供支持对结果集进行内存过滤的密钥
*   支持对结果集进行动态排序操作

我还推测您有某种 UI 控件可以很好地呈现“实体”集合，因此您想使用该控件。

控件可能不需要“实体” - 检查它的接口是什么。也许有一个实体的超类或一个您可以生成的接口，而不是一个可更新的实体。如果你能做到这一点，你应该能够在漂亮的 UI 控件中呈现它，而不是用你的 NULLABLE 列撞墙。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T15:58:54.193

您需要在 Visual Studio (VS) 中更新您的模型。因为这不知道每一列中的类型信息是什么。然后你必须在数据透视表的查询中指定数据类型。例如，使用 to_number 指定显式转换。当您要在 VS 中更新模型时，您必须基于例如物化视图（具有明确定义的数据类型）。请使用基于数据透视表的明确定义的数据类型创建物化视图（这不仅必须包含 nvl 函数，还必须包含定义的数据类型、字符串、数字等），然后更新您的模型。只有物化视图？不，它可以是一张桌子（但很麻烦）。可以直接来自数据透视表吗？并不总是有效（如您的情况）。重要的是有定义的数据类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T13:19:22.037

一种可能的解决方案是根据查询结果动态生成一个新表，并在此之后对该表进行调整约束。对于太多动态 SQL，我不喜欢这种方法 :)

另一种解决方案是预先构建的物化视图。在此处[（Oracle 文档）](http://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_6002.htm)查看“ON PREBUILT TABLE Clause”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T10:53:25.520

如果您不需要很多这些视图，您可以使用**代码优先，Scott Gu 有一篇很好的文章**[“Code first with existing database”](http://weblogs.asp.net/scottgu/archive/2010/08/03/using-ef-code-first-with-an-existing-database.aspx)展示了如何做到这一点。

这可能需要有 2 种方法来访问数据库，这可能对您有用，也可能不适合您。

# c++ - 类中的对象数组

> ID：14457521
> 
> 赞同：1
> 
> 时间：2013-01-22T11:28:55.797
> 
> 标签：c++, arrays, class, object

我在类中编写了一个简单的对象数组程序。谁能告诉我我做错了什么

```
#include<iostream>
#include<iomanip>
using namespace std;
class employee
    {
    int name;
    public:
        void getdata(void);
        void putdata(void);
    };
void employee :: getdata(void)
        {
        cout<<"enter name:";
        cin>>name;
        }
void employee :: putdata(void)
        {
        cout<<"Name:"<<name<<endl;
        }
int main()
{   int i;
    employee manager[4];
    for(i=0;i<3;i++)
      {
        manager[i].getdata();
        }
    for(i=0;i<3;i++)
      {
         manager[i].putdata();
        }
return 0;
} 
```

输出：

```
enter name:naveen
enter name:enter name:Name:0
Name:0
Name:134515033
naveen@naveen-Ex 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:47:05.653

你有`int name;`' cin`naveen`来命名它失败，所以 name 没有被初始化。

改变：

`int name;`

至

```
 #include <string>
 std::string name; 
```

# ios - 如何在 iOS 上获取通用时间

> ID：14457525
> 
> 赞同：-2
> 
> 时间：2013-01-22T11:29:09.240
> 
> 标签：ios, xcode, nsdate

> **可能重复：**
> [在 iPhone 中获取系统时间](https://stackoverflow.com/questions/6055884/getting-system-time-in-iphone)

我有一个具有不可更新许可证的应用程序，我需要获取必须独立于当前设备时间的当前日期时间。该值将用于测试许可证是否过期。我不能使用 NSDate，因为用户可以轻松更改其设备的日期时间设置并破解此到期检查。

有没有办法在不使用互联网网络服务的情况下做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:31:10.143

您可以在使用您的应用程序后节省（您可以使用[NSUserDefaults](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html)）花费的时间。

1）应用程序被前台 - 开始时间

2）应用程序进入后台 - 停止时间并节省花费的时间

3）在前台检查花费时间并使用他检查许可证时间

# javascript - Ubuntu 9 上的 Node.js + SCP + stdin.write

> ID：14457528
> 
> 赞同：1
> 
> 时间：2013-01-22T11:29:16.090
> 
> 标签：javascript, node.js, ssh, scp

我对使用 Ubuntu 9（别无选择）感到怀疑，我在上面安装了 Node.js。

我想使用 SCP（通过 ssh 复制文件）。所以我做了一点节点魔法：

```
scpHandler = require('child_process').spawn('scp',['root@192.168.2.16:/user/MyDocs/smsOut.txt', 'smsOut2.txt']); 
```

然后似乎有一个问题 - ssh 需要一个密码，我不能通过授权密钥忽略这个问题，因为它们碰巧不能在这个特定的设备 (Maemo) 上工作。

所以我想 - 好吧，我将只使用流式写入，它会解决一切：

```
scpHandler.stdout.on('data', function(data){
  console.log(data);
  scpHandler.stdin.write('password');
  scpHandler.stdin.write('String.fromCharCode(13)');
}); 
```

它应该反映在 scp 显示任何消息之后写入密码（并且它会立即要求输入密码）但是，正如您现在可以猜到的那样，出现了问题并且没有任何事情发生。当sc获得正确的密码时，在成功/不成功传输后应该会显示一些数据，但它仍然在等待密码......请帮助，有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T09:54:01.140

问题已解决：在这种情况下，使用 setTimeout 等待和使用 pty.js 欺骗终端似乎没问题。

# html - HTML 和 CSS 显示表格错误

> ID：14457529
> 
> 赞同：0
> 
> 时间：2013-01-22T11:29:22.440
> 
> 标签：html, css

我正在创建一个网站。左侧有一个菜单栏，旁边有主要内容。问题是如果主要部分包含纯文本以外的其他内容，则其大小会影响左侧菜单栏的起点。这是一个屏幕截图： http: [//kepmegosztas.com/img/0c8013ce70931aad975d91fd76c1cb3e/site.png](http://kepmegosztas.com/img/0c8013ce70931aad975d91fd76c1cb3e/site.png) “以 user1 身份登录”应该从顶部开始，但它的起点取决于文本区域的大小（高度）。textarea 是可调整大小的，当我调整它的大小时，左侧菜单的内容会“跟随”它。

```
<!DOCTYPE html>
<html>
   <head>
      <link rel="stylesheet" type="text/css" href="sitestyle.css" /><title>
         cim1
      </title>
   </head>
   <body>
      <div id="header">
         cim2
      </div>
      <div id="wrapper">
         <div id="row">
            <div id="left">
               <span>
                  Logged in as user1<br/>
               </span>
               <a href="login.php?logout=1">
                  (logut)<hr/>
               </a>
               <a href="index.php?year=2013&month=1">
                  2013 - 1<br/>
               </a>
               <a href="index.php?year=2012&month=12">
                  2012 - 12<br/>
               </a>
            </div>
            <div id="main">
               <span>
                  <form action="/site/blog.php" method="post">
                     <textarea name="the_text" class="blog">
                     </textarea>
                     <input value="Submit" type="submit" /></form>
               </span>
            </div>
         </div>
      </div>
   </body>
</html> 
```

CSS：

```
html
{
   height: 100%;
}

body
{
   background-color: #aabbaa;
   margin: 0px;
   height: 100%;
}

div#header
{
   margin-left: auto;
   margin-right: auto;
   width: 80%;
   background-color: gray;
   background-color: #889988;
}

div#wrapper
{ 
   display: table;
   table-layout: fixed;
   width: 80%;
   height: 90%;
   margin-left: auto;
   margin-right: auto;
}

div#row
{ 
   display: table-row;
}

div#left
{ 
   display: table-cell;  
   width: 20%;
   background-color: #ccddcc;
   /*list-style: none;*/
}

div#main
{
   display: table-cell;  
   background-color: white;
}

textarea.blog
{
   resize: both;
   overflow: auto;
} 
```

你有什么建议如何解决这个问题吗？提前致谢， 塔马斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:33:07.837

你的 textarea 里面的`div#row`. 分开就好了。作为另一种解决方案，固定`div#left`到顶部并设置它的高度

您将`div#left`and设置`div#main`为`table-cell`，因此在调整大小时它们必须具有相同的高度。作为解决方案，您可以在内部添加额外的图层`div#left`并为其设置位置，或者您可以尝试跨越垂直单元格，但认为这不适用于图层。也许`vertical-align`for的设定`div#left`是亲切的

# c# - String.Replace 不适用于 php 文件？

> ID：14457532
> 
> 赞同：1
> 
> 时间：2013-01-22T11:29:39.540
> 
> 标签：c#, .net

为什么下面的代码不起作用？

```
 string Tmp_actionFilepath = @"Temp\myaction.php";

       // change the id and the secret code in the php file
            File.Copy(@"Temp\settings.php", Tmp_actionFilepath, true);
            string ActionFileContent = File.ReadAllText(Tmp_actionFilepath);
            string unique_user_id = textBox5.Text.Trim();
            string secret_code = textBox1.Text.Trim();
            ActionFileContent.Replace("UNIQUE_USER_ID", unique_user_id);
            ActionFileContent.Replace("SECRET_CODE", secret_code);
            File.WriteAllText(Tmp_actionFilepath, ActionFileContent); 
```

这是setting.php的内容

```
 <?php
      session_start();
      $_SESSION["postedData"] = $_POST;

      /////////////////////////////////////////////////////////
      $_SESSION["uid"] = "UNIQUE_USER_ID";
      $_SESSION["secret"] = "SECRET_CODE";
      /////////////////////////////////////////////////////////

      function findThis($get){
      $d = '';
      for($i = 0; $i < 30; $i++){
      if(file_exists($d.$get)){
        return $d;
      }else{
        $d.="../";
      }
    }
  }

   $rootDir = findThis("root.cmf");

   require_once($rootDir."validate_insert.php"); 
```

上面的代码有什么问题？在 c# 中编译代码后，我注意到文件 myaction.php 已创建，但值：UNIQUE_USER_ID 和 SECRET_CODE 没有改变，我还尝试复制/粘贴这些值以确保它们相同。但是代码总是不起作用

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T11:30:44.747

[`String.Replace`](http://msdn.microsoft.com/en-us/library/system.string.replace.aspx)返回一个新字符串，因为字符串是不可变的。它不会替换您调用它的字符串。

你应该更换：

```
ActionFileContent.Replace("UNIQUE_USER_ID", unique_user_id);
ActionFileContent.Replace("SECRET_CODE", secret_code); 
```

和：

```
ActionFileContent = ActionFileContent.Replace("UNIQUE_USER_ID", unique_user_id);
ActionFileContent = ActionFileContent.Replace("SECRET_CODE", secret_code); 
```

最重要的是，您应该真正更改变量名称，以便它们遵循常规的 C# 命名约定（即使用`actionFileContent`而不是`ActionFileContent`）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:31:52.780

您必须在`replace`字符串上设置字符串方法的结果。

```
string Tmp_actionFilepath = @"Temp\myaction.php";

// change the id and the secret code in the php file
File.Copy(@"Temp\settings.php", Tmp_actionFilepath, true);

string actionFileContent = File.ReadAllText(Tmp_actionFilepath);

string unique_user_id = textBox5.Text.Trim();
string secret_code = textBox1.Text.Trim();

// set the result of the Replace method on the string.
actionFileContent = ActionFileContent.Replace("UNIQUE_USER_ID", unique_user_id)
                                     .Replace("SECRET_CODE", secret_code);

File.WriteAllText(Tmp_actionFilepath, actionFileContent); 
```

# android - ListView.addHeaderView 有错误吗？

> ID：14457535
> 
> 赞同：0
> 
> 时间：2013-01-22T11:29:41.350
> 
> 标签：android, android-listview

我添加到 myListView 标题`TextView`并且`onItemClickListener`位置向上移动，标题变为可点击（他的位置现在为一个），并且列表的项目位置 +1 为什么？

**代码.java**

```
 View header = getLayoutInflater().inflate(R.layout.header_text, null);        
    mMoviesList.addHeaderView(header); 
```

**header_text.xml**

```
 <?xml version="1.0" encoding="utf-8"?>
     <TextView   xmlns:android="http://schemas.android.com/apk/res/android"
                android:id="@+id/_main_shadow"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginLeft="@dimen/after_top_bar_margin_left"
                android:layout_marginTop="@dimen/after_top_bar_margin_top"
                android:paddingBottom="5px"
                android:text="Показывают в кино"
                android:textColor="#898989"
                android:textSize="12sp" /> 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:41:55.163

尝试[`mMoviesList.addHeaderView(header, null, false)`](http://developer.android.com/reference/android/widget/ListView.html#addHeaderView%28android.view.View,%20java.lang.Object,%20boolean%29)改用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:41:12.343

如果`onClickListener()`点击的位置为0，则忽略。只需输入：

```
if (position > 0) {
    // your operations
} 
```

# jquery - jQuery - 可以在一行访问元素的类，不能在下一行

> ID：14457536
> 
> 赞同：0
> 
> 时间：2013-01-22T11:29:44.487
> 
> 标签：jquery

这是来自一个更复杂的脚本的一部分。简而言之，我在这里尝试做两件事：

1.  获取元素的子类名称，并从中删除单词“span”，然后将它们添加到变量中（这很好用）。
2.  获取这些类名（完整，仍然附加“跨度”）并将它们添加到数组中。

这是我的代码：

```
var currentSpans = [];

$('container').children().each(function(i2, spans) {
    if (spans.className.indexOf('span') != -1) {
        total += parseInt(spans.className.replace(/[A-Za-z$-]/g, ""),10);
        currentSpans.push(spans.attr('class'));
    }

}); 
```

它打破`currentSpans.push(spans.attr('class'));`并说`#<HTMLDivElement> has no method 'attr'`

```
 currentSpans.push(spans.className()); 
```

正如上面使用的那样，但在这里它不起作用（虽然这是预期的）。

我在这里做错了什么？这似乎是一个足够简单的问题，但我一无所知，可能是因为我整天都在使用 jquery！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:31:12.577

`spans.attr('class')`应该是`$(spans).attr('class')`。

当您访问时，`spans.className`您使用的是 dom 对象引用，`attr()`它不是 dom 对象的方法，而是 jQuery 提供的方法，因此您需要使用`$(spans)`.

更新：

```
$('.row-fluid').each(function (i, ele) {
    var total = 0;
    var currentSpans = [];

    $(ele).children().each(function (i2, spans) {
        var className = $(spans).attr('class');
        var spanClass = /span\d+/.exec(className);
        spanClass = spanClass.length > 0 ? spanClass[0] : undefined;
        if (spanClass) {
            total += parseInt(spanClass.replace("span", ""), 10);
            currentSpans.push(spanClass);
        }

    });

    console.log(currentSpans, total);
}); 
```

[小提琴](http://jsfiddle.net/arunpjohny/Rhdx3/3/)：

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:33:32.517

使用 jQuery 的[`each()`函数](http://api.jquery.com/each/)会在回调函数中为您提供两个参数，即索引和元素。该元素还不是 jQuery 对象，因此不包含该`attr()`函数。

为了将它转换成一个 jQuery 对象，你需要做的就是用括号包裹它并把 jQuery 选择器放在前面。就这样`spans`变成了`$(spans)`。

在`each()`回调中，您还可以使用`$(this)`来引用当前项目。

`spans.className`为您工作，因为`className`它是原生 JavaScript 属性。

# networking - 源机器的 squid 访问控制列表

> ID：14457537
> 
> 赞同：1
> 
> 时间：2013-01-22T11:29:56.247
> 
> 标签：networking, proxy, reverse-proxy, squid

我正在为 Wi-fi 上的家庭网络设置 Squid 代理。我已经为家里的台式机和笔记本电脑提供了静态 IP，我只希望这些机器能够连接到互联网。我的鱿鱼acl是

```
acl home_ws src 192.168.4.1
acl home_laptop src 192.168.4.2
acl google     dstdomain google.co.in
http_access allow home_ws
http_access allow home_laptop
http_access allow google
http_port 8080 
```

但是，当我尝试从笔记本电脑连接 squid 代理 ip 时，它不起作用。但是，在桌面上也可以正常工作。我正在`curl`为此目的使用。错误是`curl: (7) couldn't connect to host`。这就是我使用`curl`命令的方式。

```
curl --proxy 192.168.4.1:8080 www.google.co.in 
```

对我的台式机 ( `192.168.4.1`) 的 ping 工作正常。我错过了什么`squid.conf`吗？

# java - JAVA中HTML页面的数据类型

> ID：14457539
> 
> 赞同：0
> 
> 时间：2013-01-22T11:30:00.613
> 
> 标签：java, html, types

应该使用哪种数据类型在 JAVA 中存储 HTML 页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T19:02:25.633

*建议：*将页面存储在[**(Jsoup) Document**](http://jsoup.org/apidocs/org/jsoup/nodes/Document.html)中。

**优点：**

*   您可以在一行中从字符串/文件/网站中**解析这些文档**
*   所有实体都被**转义**（并且可以被**转义**）
*   **漂亮的印刷**
*   你用一行代码就可以得到一个**字符串**——一个html字符串和一个*文本*
*   您可以轻松**选择**/**修改**您的 html
*   html 被“**清理**”了
*   ...

见：http: [//jsoup.org/](http://jsoup.org/)

但是有关您想要做什么的更多信息会有所帮助...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:52:14.467

在不知道你会用它做什么的情况下，我建议一个

```
java.lang.String 
```

因为实际上就是这样。一个字符串。

# android - 列表视图元素行为

> ID：14457541
> 
> 赞同：0
> 
> 时间：2013-01-22T11:30:02.593
> 
> 标签：android, android-listview

为什么当我编写适配器列表视图时，如下所示，列表视图元素随机更改位置？对不起，我糟糕的英语。

```
private class Adapt2 extends ArrayAdapter {
            ArrayList<String> jsonBanks;
            public Adapt2(Context context, int textViewResourceId, List objects) {
                    super(context, textViewResourceId, objects);
                    jsonBanks = new ArrayList<String>();
                    jsonBanks.addAll((ArrayList<String>)objects);
            }

            @Override
            public View getView(int position, View convertView, ViewGroup parent) {

                    if(convertView==null){
                            LayoutInflater vi = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                            convertView= vi.inflate(R.layout.main_item, parent,false);

                            TextView tv = (TextView)convertView.findViewById(R.id.itemText);
                             tv.setText(jsonBanks.get(position));

                    }

                    return convertView;
            }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:33:53.930

这是因为您的转换视图正在被重复使用。试试这个

```
if(convertView==null){
       LayoutInflater vi = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
       convertView= vi.inflate(R.layout.main_item, parent,false);
}
TextView tv = (TextView)convertView.findViewById(R.id.itemText);
tv.setText(jsonBanks.get(position));

return convertView; 
```

观看此内容以获取有关正在发生的事情的更多详细信息

[http://www.youtube.com/watch?v=wDBM6wVEO70](http://www.youtube.com/watch?v=wDBM6wVEO70)

# javascript - 在哪里定义视图的模型

> ID：14457544
> 
> 赞同：0
> 
> 时间：2013-01-22T11:30:25.950
> 
> 标签：javascript, model-view-controller, backbone.js

我查看了来自 Backbone.js 的一些视图，但我没有看到它在什么时候声明了哪个模型绑定到视图？

例如这里视图在哪里定义哪个模型是`this.model`？ [https://github.com/addyosmani/todomvc/blob/gh-pages/dependency-examples/backbone_require/js/views/todos.js](https://github.com/addyosmani/todomvc/blob/gh-pages/dependency-examples/backbone_require/js/views/todos.js)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:34:08.453

当您将`model`options 参数中的属性传递给 View 的构造函数时，Backbone 会自动将其设置为`view.model`：

```
var someModel = new Model();
var view = new View({model:someModel});
console.log(view.model === someModel); // -> true 
```

[此处记录了](http://backbonejs.org/#View-constructor)此功能。

> 创建新视图时，您传递的选项（在合并到视图上已经存在的任何默认选项后）将作为 this.options 附加到视图以供将来参考。有几个特殊选项，如果通过，将直接附加到视图：**模型**、集合、el、id、className、tagName 和属性。

在 Todolist 示例中，模型在[app.js 第 75 行](https://github.com/addyosmani/todomvc/blob/gh-pages/dependency-examples/backbone_require/js/views/app.js)中设置。

```
addOne: function( todo ) {
  var view = new TodoView({ model: todo });
  $('#todo-list').append( view.render().el );
}, 
```

# android - 在 Android 开发中显示 XML

> ID：14457545
> 
> 赞同：0
> 
> 时间：2013-01-22T11:30:28.317
> 
> 标签：android, xml, rss

我正在Android上写一个RSS阅读器，这需要解析XML数据。我想知道你在Android开发中显示XML数据的方法是什么？我认为使用 WebView 的 loadData 是一种简单的方法。我能找到另一种简单的方法来显示它吗？

# javascript - 谷歌地图 iframe 参数

> ID：14457561
> 
> 赞同：2
> 
> 时间：2013-01-22T11:31:24.433
> 
> 标签：javascript, google-maps

这是我第一次使用谷歌地图 iframe，我迷失了这些参数`geocode , fll , fspn , st , rq , ll , spn`

所有这些参数都应该等于纬度和经度.. 我有 json 数组检索我的数据位置，但我丢失了应该将哪些数据发送到每个参数:(

```
results->geometry->bounds->northeast->lat
results->geometry->bounds->northeast->lng

results->geometry->bounds->southwest->lat
results->geometry->bounds->southwest->lng

results->geometry->location->lat
results->geometry->location->lng

results->geometry->viewport->northeast->lat
results->geometry->viewport->northeast->lng

results->geometry->viewport->southwest->lat
results->geometry->viewport->southwest->lng 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-22T11:35:09.160

该网页对所有参数都有很好的解释：

[http://www.seomoz.org/ugc/everything-you-never-wanted-to-know-about-google-maps-parameters](http://www.seomoz.org/ugc/everything-you-never-wanted-to-know-about-google-maps-parameters)

# javascript - 如何为与 ASP .Net MVC 包装器一起使用的 Kendo UI 执行 TDD

> ID：14457564
> 
> 赞同：1
> 
> 时间：2013-01-22T11:31:37.667
> 
> 标签：javascript, asp.net-mvc-3, unit-testing, tdd, kendo-ui

是否有任何方法或框架来为 ASP .NET MVC (View + Kendo UI) 中使用的 Javascripts 编写单元测试？或任何支持模拟数据的框架（来自.net 服务器，例如控制器），然后为 Javascripts 编写单元测试。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:56:34.537

[Chutzpah](http://chutzpah.codeplex.com/)是 Javascript 的单元测试框架。它还[集成到 Visual Studio 2012 Test Runner](http://visualstudiogallery.msdn.microsoft.com/71a4e9bd-f660-448f-bd92-f5a65d39b7f0)中，以便您可以从 Visual Studio 或 TFS 的 Team Build 运行这些测试。

由于 Javascript 允许您在运行时重新定义任何函数或方法，因此我并不认为需要特定的 Mocking 框架。默认情况下，您可以在 Javascript 中模拟任何内容，几乎无一例外。您还可以将调用后端服务的任何 javascript 函数放入一个单独的 .js 文件中，然后在您正在测试的页面中包含一个不同的函数。

# c# - Rijndael 怎么可能从字符串和字节 [] 返回不同的结果？

> ID：14457565
> 
> 赞同：0
> 
> 时间：2013-01-22T11:31:37.917
> 
> 标签：c#, .net, aes, rijndael, rijndaelmanaged

这是我的代码，首先是字符串：

```
byte[] concatBytes = Encoding.ASCII.GetBytes(key);
byte[] keyBytes = Encoding.ASCII.GetBytes(key);
for (int i = 0; i < 3; i++)
{
         concatBytes = Encrypt(Encoding.ASCII.GetString(concatBytes), keyBytes);
         //Console.WriteLine(Transform.Hexa(concatBytes));
} 

public byte[] Encrypt(string plainText, byte[] key)
    {
        byte[] encrypted;
        using (var rijndael = new RijndaelManaged())
        {
            rijndael.Mode = CipherMode.ECB;
            rijndael.KeySize = 128;
            rijndael.BlockSize = 128;
            rijndael.Padding = PaddingMode.Zeros;
            rijndael.Key = key;
            //rijndael.IV = new byte[] { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };

            ICryptoTransform transform = rijndael.CreateEncryptor(rijndael.Key, rijndael.IV);

            using (var memoryStream = new MemoryStream())
            {
                using (var cryptoStream = new CryptoStream(memoryStream, transform, CryptoStreamMode.Write))
                {
                    using (var streamWriter = new StreamWriter(cryptoStream))
                    {
                        streamWriter.Write(plainText);
                    }
                    encrypted = memoryStream.ToArray();
                }
            }
        }
        return encrypted;
    } 
```

如果我将方法参数更改`plainText`为`byte[]`比我的结果完全不同。我在这里想念什么？此外，我们使用`OpenSSL`和`Rijndael AES`加密有不同的结果。有什么建议我可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:35:06.767

[`StreamWriter(Stream)`](http://msdn.microsoft.com/en-us/library/wtbhzte9.aspx)：

> [`StreamWriter`](http://msdn.microsoft.com/en-us/library/system.io.streamwriter.aspx)使用 UTF-8 编码和默认缓冲区大小为指定流初始化类的新实例。

由于您使用的是不同的编码（UTF-8 而不是 ASCII），因此得到不同的结果也就不足为奇了。

# .net - 谷歌驱动 API .NET。如何配置 OAuth2Authenticator 对象以通过代理工作？

> ID：14457569
> 
> 赞同：3
> 
> 时间：2013-01-22T11:31:41.817
> 
> 标签：.net, google-drive-api, google-oauth, google-api-dotnet-client

我在 .net 中有一个桌面应用程序，可以将文件上传到 Google Drive。程序运行正常，但如果 PC 配置了代理，则程序无法执行方法`Upload()`{ `FilesResource.InsertMediaUpload.Upload()`}。消息错误是：

> DotNetOpenAuth.Messaging.ProtocolException: {"对 'https://accounts.google.com/o/oauth2/token' 的 Web 请求失败。"}
> 
> 远程服务器错误：(407) 需要代理身份验证。

我认为问题在于身份验证请求；因此有必要配置 OAuth2Authenticator 对象以使用代理。

这是代码：

```
Public Function getAuthenticator() As OAuth2Authenticator(Of AssertionFlowClient)
      Dim SERVICE_ACCOUNT_EMAIL As String = <email>
      Dim SERVICE_ACCOUNT_PKCS12_FILE_PATH As String = <pathFile>
      Dim certificate As X509Certificate2 = New X509Certificate2(SERVICE_ACCOUNT_PKCS12_FILE_PATH, <secret>, X509KeyStorageFlags.Exportable)
      Dim provider = New AssertionFlowClient(GoogleAuthenticationServer.Description, certificate) With {.ServiceAccountId = SERVICE_ACCOUNT_EMAIL, .Scope = DriveService.Scopes.Drive.GetStringValue}
      Dim auth = New OAuth2Authenticator(Of AssertionFlowClient)(provider, AddressOf AssertionFlowClient.GetState)

      Return auth
End Function

Public Function getService() As DriveService
    Return New DriveService(getAuthenticator())
End Function

Public Function upload(pathFile As String, fileName As String) As File
    Dim service = getService(False)
    Dim fichero As File = New File()
    Dim byteArray As Byte() = System.IO.File.ReadAllBytes(pathFile)
    Dim stream As System.IO.MemoryStream = New System.IO.MemoryStream(byteArray)

    fichero.Title = fileName
    Dim request As FilesResource.InsertMediaUpload = service.Files.Insert(fichero, stream, "*/*")

    request.Upload()   'ERROR with proxy

    Dim fileUpload As File = request.ResponseBody

    Return fileUpload
End Function 
```

谢谢。

# .net - F# 中灵活类型注释的目的是什么？

> ID：14457571
> 
> 赞同：10
> 
> 时间：2013-01-22T11:31:50.813
> 
> 标签：.net, f#, functional-programming, f#-3.0

我正在学习 F#，但我不了解灵活类型的目的，或者更好的是，我无法理解编写此代码之间的区别：

```
set TextOfControl (c : Control) s = c.Text <- s 
```

并写下：

```
set TextOfControl (c : 'T when 'T :> Control) s = c.Text <- s 
```

`Control`班级在哪里`System.Windows.Forms.Control`。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-22T12:23:57.163

你的例子没有区别。如果返回类型受到限制，您将开始看到差异：

```
let setText (c: Control) s = c.Text <- s; c
let setTextGeneric (c: #Control) s = c.Text <- s; c

let c = setText (TreeView()) "" // return a Control object
let tv = setTextGeneric (TreeView()) "" // return a TreeView object 
```

请注意，这`#Control`是 的快捷方式`'T when 'T :> Control`。 [类型约束](http://msdn.microsoft.com/en-us/library/dd233203.aspx)对于为子类型创建泛型函数很重要。

例如，

```
let create (f: _ -> Control) = f()

let c = create (fun () -> Control()) // works
let tv = create (fun () -> TreeView()) // fails 
```

对比

```
let create (f: _ -> #Control) = f()

let c = create (fun () -> Control()) // works
let tv = create (fun () -> TreeView()) // works 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-22T12:07:58.947

将值作为参数直接传递给 F# 函数时，编译器会自动向上转换该值（因此，如果函数采用`Control`，则可以为其`TextBox`赋值）。因此，如果使用灵活类型作为参数类型，则没有太大区别。

但是，如果函数采用例如 list ，则会有所不同`'T list`：

```
// Takes a list of any subtype of object (using flexible type)
let test1<'T when 'T :> obj> (items:'T list) =
  items |> List.iter (printfn "%A")

// Takse a list, which has to be _exactly_ a list of objects
let test2 (items:obj list) =
  items |> List.iter (printfn "%A")

// Create a list of System.Random values (System.Random list)
let l = [new System.Random()]
test1 l // This works because System.Random is subtype of obj
test2 l // This does not work, because the argument has wrong type! 
```

# php - 如何设置链接以打开图像、视频和音频

> ID：14457574
> 
> 赞同：0
> 
> 时间：2013-01-22T11:31:53.760
> 
> 标签：php, jquery, html, ajax, anchor

我有三个表格行，其中包含各自行中的图像、视频和音频列表：

```
 echo '<td width="11%" class="imagetd">'. ( ( empty ($arrImageFile[$key]) ) ? "&nbsp;" : '<ul class="qandaul"><li>'.htmlspecialchars( is_array( $arrImageFile[$key] ) ? implode(",", $arrImageFile[$key]) : $arrImageFile[$key] ) ). '</li></ul></td>' . PHP_EOL;
    echo '<td width="11%" class="videotd">'. ( ( empty ($arrVideoFile[$key]) ) ? "&nbsp;" : '<ul class="qandaul"><li>'.htmlspecialchars( is_array( $arrVideoFile[$key] ) ? implode(",", $arrVideoFile[$key]) : $arrVideoFile[$key] ) ). '</li></ul></td>' . PHP_EOL;
    echo '<td width="11%" class="audiotd">'. ( ( empty ($arrAudioFile[$key]) ) ? "&nbsp;" : '<ul class="qandaul"><li>'.htmlspecialchars( is_array( $arrAudioFile[$key] ) ? implode(",", $arrAudioFile[$key]) : $arrAudioFile[$key] ) ). '</li></ul></td>' . PHP_EOL; 
```

现在它只是在项目符号列表中列出图像、视频和音频文件名。但我想要做的是我想将每个文件设置为一个超链接，这样如果用户点击其中一个链接，它将在单独的页面中显示图像、视频或音频（一个单独的窗口将打开） ，无论是作为较大的播放器还是显示播放器来播放视频或音频。

我的问题是如何做到这一点，我需要执行以下哪些步骤？

谢谢

更新：

该列表是一个数组，其中包含来自数据库的数据。下面是视频数组和数据库的代码。音频和图像具有相似的设置

```
 $vidquery = "SELECT s.SessionId, q.QuestionId, v.VideoId, VideoFile
                FROM Session s
                INNER JOIN Question q ON s.SessionId = q.SessionId
                INNER JOIN Video_Question vq ON q.QuestionId = vq.QuestionId
                INNER JOIN Video v ON vq.VideoId = v.VideoId
                WHERE s.SessionId = ?";

    global $mysqli;
    $vidqrystmt=$mysqli->prepare($vidquery);
    // You only need to call bind_param once
    $vidqrystmt->bind_param("i",$_POST["session"]);
    // get result and assign variables (prefix with db)
    $vidqrystmt->execute(); 
    $vidqrystmt->bind_result($vidSessionId,$vidQuestionId,$vidVideoId,$vidVideoFile);

        $arrVideoFile = array();

    while ($vidqrystmt->fetch()) {
    $arrVideoFile[] = basename($vidVideoFile);
  }

    $vidqrystmt->close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:39:04.107

为图像、音频、视频文件保留单独的 div。在图像 div 中：

```
<img alt="Loading" id="tempImg" style="width: 150px; height: 150px;" src=""> 
```

像音频 div

```
<object id='tempAud1' name="emQTPlayer" height="45px" width="120px"
                    style="behavior: url(#BinaryBehaviorID)"
                    codebase="http://www.apple.com/qtactivex/qtplugin.cab"
                    classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B">
                    <param name="autoplay" value="false" />
                    <param name="src"
                        value="" />
                    <param name="controller" value="true" />
                    <param name="type" value="video/quicktime" />
                    <param name="align" value="bottom" />
                    <param name="border" value="0" />
                    <%--                        <param name="wmode" value="transparent">--%>
                    <param name="showcontrols" value="true">
                    <embed id='tempAud2' name="emQTPlayer" type="video/quicktime"
                        autoplay="false" height="45px" width="120px" align="top"
                        border="0" controller="true" postdomevents="true"
                        pluginspage="http://www.apple.com/quicktime/download/"
                        showcontrols="true"
                        src='' />
                </object> 
```

并用于视频 div

```
<object id='tempVid1' name="emQTPlayer" height="240px"
                    width="320px" style="behavior: url(#BinaryBehaviorID)"
                    codebase="http://www.apple.com/qtactivex/qtplugin.cab"
                    classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B">
                    <param name="autoplay" value="false" />
                    <param name="src"
                        value="" />
                    <param name="controller" value="true" />
                    <param name="type" value="video/quicktime" />
                    <param name="align" value="bottom" />
                    <param name="border" value="0" />
                    <param name="scale" value="tofit" />
                    <%--                                    <param name="wmode" value="transparent">--%>
                    <param name="showcontrols" value="true">
                    <embed id='tempVid2' name="emQTPlayer" type="video/quicktime"
                        autoplay="false" height="auto" width="auto" align="top"
                        border="0" controller="true" postdomevents="true"
                        pluginspage="http://www.apple.com/quicktime/download/"
                        showcontrols="true" scale="tofit"
                        src='' />
                </object> 
```

...在文件名的 onclick 事件中，将 src 值传递给 javascript 函数并将其设置为相应的 src ....

# c# - 独特组合的纸牌游戏算法

> ID：14457575
> 
> 赞同：3
> 
> 时间：2013-01-22T11:32:07.380
> 
> 标签：c#, algorithm, combinations, game-engine, playing-cards

我正在写一个小纸牌游戏，其中两个玩家每人手里有 4 张牌，他们必须在桌子上拿尽可能多的牌加起来。它使用经典的扑克牌，所以相同的种子和相同的值。

```
King can only take another King
Queen can only take another Queen 
Jack can only take another Jack 
```

编号的卡片可以按总和计算，例如：

```
10H takes 6C + 4S
5S takes 3C + 2D or 3S + 2D
7S takes 4S + 3S or 5C + 2D
And so on... 
```

种子无关紧要……只有价值观才是。但问题是我需要计算唯一的组合。因此，例如，我只想要其中一个组合，因为种子和值是相同的：

```
10H -> 6C + 4S
10H -> 4S + 6C 
```

是否有任何预制功能可以做到这一点？我试着用谷歌和维基百科四处寻找，但可能我不知道算法/问题的英文名称。哦...我忘记了...解决方案可以是您想要的任何解决方案（普通，递归，linq）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:37:42.660

您尝试计算的组合称为[整数分区](https://en.wikipedia.org/wiki/Partition_(number_theory))。相应地，您在使用[整数分区算法](https://math.stackexchange.com/a/18667/37647)。

python 中的解决方案可能如下所示：

```
def bubble(part, i=0): #add one to the list whilst keeping lexicographic order
    if i == (len(part)-1) or part[i] < part[i+1]:
        part[i] += 1
        return part
    else:
        return bubble(part, i+1)

def partitions(n):
    if n == 1:
        yield [1]
        return
    for p in partitions(n-1):
        yield [1] + p
        yield bubble(p) 
```

这在概念上类似于[分册 3B 中的 Knuth 算法](http://cs.utsa.edu/~wagner/knuth/fasc3b.pdf)P。

# iphone - Root.plist 文件不可编辑

> ID：14457576
> 
> 赞同：0
> 
> 时间：2013-01-22T11:32:07.667
> 
> 标签：iphone, ios, xcode

```
NSString *DownloadsPlistPath = [[NSBundle mainBundle] pathForResource:@"Root" ofType:@"plist"]; 
```

我的 Root.plist 文件在 setting.bundle 中，但上面的代码不允许读取 plist 文件。我想编辑这个文件我该怎么做。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:33:46.177

**Main Bundle 是只读的**。

您不能编辑主包中的文件。

您需要将它们复制到文档目录以通过代码对其进行编辑。

# xcode - 请解释这个异常的原因？& 也为这些类型的问题提供解决方案？

> ID：14457579
> 
> 赞同：-2
> 
> 时间：2013-01-22T11:32:18.987
> 
> 标签：xcode, macos

2013-01-22 16:51:10.040 苹果计算器[339:f803]

** 由于未捕获的异常“NSInternalInconsistencyException”而终止应用程序，原因：“-[UIViewController _loadViewFromNibNamed:bundle:] 加载了“ApplecalculatorViewController”笔尖，但未设置视图出口。'**

首先抛出调用堆栈：

(0x13ba052 0x154bd0a 0x1362a78 0x13629e9 0xd6f0d 0xd73a9 0xd75cb 0x37a73 0x37ce2 0x37ea8 0x3ed9a 0x29c5 0xf9d6 0x108a6 0x1f743 0x201f8 0x13aa9 0x12a4fa9 0x138e1c5 0x12f3022 0x12f190a 0x12f0db4 0x12f0ccb 0x102a7 0x11a9b 0x26fd 0x2665)

终止称为抛出异常

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:21:23.863

在 Interface Builder 中打开您的 xib。检查 UIView 是否连接到文件的所有者。如果没有，只需用鼠标右键（或 cmd+鼠标左键）从 File 的所有者拖动到 UIView 并连接到视图属性。

# big-o - 数独算法分析

> ID：14457589
> 
> 赞同：0
> 
> 时间：2013-01-22T11:33:17.923
> 
> 标签：big-o, code-analysis, sudoku, big-theta

这是解决数独（9x9）的代码：

```
#include <iostream>
#define dim 9
#define br_polja dim*dim

using namespace std;

bool Fsearch (int tab[dim][dim],int *x,int *y, int cand[dim], int *num_cand, int &free) {
int min=9; 
*x=-1;
*y=-1;
free=0;
for (int i=0;i<dim;i++) {
    for (int j=0;j<dim;j++) {

        if (tab[i][j]!=0) continue;
        free+=1;
        *num_cand=0;
        int cand_f[dim];
        for (int w=0;w<dim;w++)
            cand_f[w]=1;  

        int p,q; 
        p=i+3-(i%3); 
        q=j+3-(j%3);

        for (int w=p-3;w<p;w++) 
            for (int r=q-3;r<q;r++)
                if (tab[w][r]!=0){        
                                   cand_f[tab[w][r]-1]=0;
                                   }

        for (int w=0;w<dim;w++) { 
            if (tab[w][j]!=0) cand_f[tab[w][j]-1]=0; 
            if (tab[i][w]!=0) cand_f[tab[i][w]-1]=0;
            }

        for (int w=0;w<dim;w++)
            if (cand_f[w]!=0) 
               *num_cand+=1;

        if (*num_cand==1) { 
                                   *x=i;
                                   *y=j;
                                   int z=0;
                                   for (int w=0;w<dim;w++)
                                       if (cand_f[w]!=0) { 
                                          cand[z]=w+1;
                                          z++;
                                          }
                                   return true;
                                   }
        else if (*num_cand<min && *num_cand>0) {
                                     int z=0;
                                     for (int w=0;w<dim;w++)
                                         if (cand_f[w]!=0) { 
                                            cand[z]=w+1;
                                            z++;
                                            }
                                     min=*num_cand;
                                     *x=i;
                                     *y=j;
                                     }
        else if (*num_cand==0) {
             return false;
             }
        } 
    } 

    *num_cand=min;
    if (free<1) return false;
    else return true;           
}

bool Fsudoku(int tab[dim][dim]) {
 int free=0;

 int x,y;
 int cand[dim];
 int num_cand;
 brojacK=0;
 if (!Fsearch(tab,&x,&y,cand, &num_cand,free)) {
                                               if (free==0) return true;
                                               else return false;
                                               }

 for (int i=0;i<num_cand;i++) {
     tab[x][y]=cand[i];
     if (Fsudoku(tab)) return true;
     else tab[x][y]=0;
     }
 return false;

 } 
```

有人可以告诉我用 Big O 或 Big Theta 表示法对这个算法进行分类。我得到了 O(n^3) 但我们可以看到那不是真的！所以，给我一个提示或建议如何开始，我将非常感激。如果你愿意，我也可以用伪代码发布！

谢谢，MB

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-10T23:10:30.433

大 O 是关于哪些术语占主导地位。

那么每个循环运行多少次？

它们是固定长度的，还是变化的？

可以更改哪些参数会影响运行时间？

# java - 数据库查询在一段时间后挂起

> ID：14457591
> 
> 赞同：1
> 
> 时间：2013-01-22T11:33:23.877
> 
> 标签：java, mysql, connection-pooling, spring-jdbc, apache-commons-dbcp

我在 Spring 项目中有以下数据库配置 -

```
<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"
        destroy-method="close">
        <property name="driverClassName" value="${db.driver}" />
        <property name="url" value="${db.jdbc.url}" />
        <property name="username" value="${db.user}" />
        <property name="password" value="${db.password}" />
        <property name="maxActive" value="75" />
        <property name="initialSize" value="10" />
        <property name="testOnBorrow" value="true" />
        <property name="validationQuery" value="SELECT 1" />
        <property name="maxWait" value="10000"></property>
    </bean>
    <bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate"
        autowire="byName">
        <property name="dataSource">
            <ref local="dataSource" />
        </property>
    </bean> 
```

应用程序运行了一段时间（30 分钟到 2 小时，它会有所不同），一段时间后它开始挂起。即浏览器一直等待服务器响应。在检查日志时，我发现应用程序挂在数据库查询上 -

```
01/22 16:56:03 3024208 [http-bio-8080-exec-2] DEBUG DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM mytable where id = ?] 
```

与数据库的连接是正确的，因为我能够与之交互并从命令行或 mysql 工作台运行查询。

问题的根源可能是什么？在这一点上，我完全不知道应该往哪个方向看，因为没有抛出异常，也没有堆栈跟踪。你会用什么方法来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:54:07.913

您是否尝试在应用程序挂起时创建线程转储？如果你在linux上，你可以尝试这样做：

```
$ kill -3 <pid> 
```

线程转储被写入标准输出。它可能会登录到控制台或 /logs/stdout 或 /logs/catalina.out。

# ssis - SSIS 中的动态邮件

> ID：14457592
> 
> 赞同：0
> 
> 时间：2013-01-22T11:33:26.550
> 
> 标签：ssis

SSIS 中是否有任何方法可以动态发送带有动态主题、动态收件人、动态正文本身的邮件？可以使用数据库表，但我不想在我的包中使用数据库表和存储过程。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T03:23:03.757

SSIS 是一个内存中的 ETL（提取、转换和加载）工具，由 .NET 框架（和一些 COM 黑客技术）提供支持。它确实有一个能够发送电子邮件的[发送邮件任务](http://msdn.microsoft.com/en-us/library/ms142165.aspx)。

为了使它们像您描述的那样动态，您需要使用表达式的组合，如 Aryadev 链接的那样，再加上[Variables](http://msdn.microsoft.com/en-us/library/ms141085.aspx)。

SSIS 中的大多数东西都公开了一组支持配置的[属性](http://msdn.microsoft.com/en-us/library/ms139733.aspx)，所以我通常建议人们创建变量并在变量上执行所有表达式，然后将变量分配给属性的表达式。虽然这似乎需要更多的工作，但当您必须对软件包进行故障排除时，您将不胜感激。您可以在包中设置断点并检查变量的当前值，但不能检查属性的运行时值。

最后，除非您除了电子邮件之外还做 ETL 工作，否则我会跳过 SSIS 的开销，而只支持`sp_send_dbmail`在 TSQL 空间中使用或调用 .NET smtp 库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:41:25.817

是的。查看[SSIS 表达式](http://msdn.microsoft.com/en-us/library/ms141232%28v=SQL.105%29.aspx)。

# html - IE 和 Webkit 中奇怪的页脚行为

> ID：14457595
> 
> 赞同：0
> 
> 时间：2013-01-22T11:33:32.230
> 
> 标签：html, css, internet-explorer, safari, footer

我有以下奇怪的问题：如果你去 XX 你会在底部看到一个黑色的页脚。好吧……至少在 Firefox 和 Chrome 中。

在 Safari 中，页脚甚至没有显示，我不知道为什么。如果我给`margin-top:200px;`页脚一点点，它将在 safari 中可见，但在所有其他浏览器中会下降很多，所以在 safari 中，页脚似乎位于内容的后面。

在 IE 10 中，我遇到的问题是黑色页脚下方是大约 300-400 像素的空白区域，我不知道为什么？！

也许你们中的一些人可以帮助我并发现我遇到的错误......谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:44:51.710

那是因为你`.wrapper`的`margin: -190px auto;`. 找到一种方法来修复它。例如，您可以像这样删除底部的：

```
#wrapper{
   margin: -190px auto 0
} 
```

# python - python中的正则表达式

> ID：14457596
> 
> 赞同：1
> 
> 时间：2013-01-22T11:33:36.530
> 
> 标签：python, regex

在以下程序输出中使用括号时为 `['www.google.com']`.

```
import re
teststring = "href=\"www.google.com\""
m=re.findall('href="(.*?)"',teststring)
print m; 
```

如果在 findall 函数中删除括号，则输出为`['href="www.google.com"']`.

```
import re
teststring = "href=\"www.google.com\""
m=re.findall('href=".*?"',teststring)
print m; 
```

如果有人解释它是如何工作的，那将会很有帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T11:38:33.187

[`re.findall()`文档](http://docs.python.org/2/library/re.html#re.findall)中的区别非常清楚：

> 返回字符串中模式的所有非重叠匹配，作为字符串列表。[...] 如果模式中存在一个或多个组，则返回组列表；如果模式有多个组，这将是一个元组列表。

因此`.findall()`返回一个包含三种类型值之一的列表，具体取决于模式中的组数：

*   0 捕获模式中的组（无`(...)`括号）：整个匹配的字符串（`'href="www.google.com"'`在您的第二个示例中）。
*   模式中的 1 个捕获组：返回捕获的组（`'www.google.com'`在您的第一个示例中）。
*   模式中超过 1 个捕获组：返回所有匹配组的元组。

`(?:...)`如果您不想要这种行为，请使用非捕获组 ( )，如果您想了解更多信息，请*添加组。*例如，在`href=`部件周围添加一个组将导致一个元组列表，每个元组有两个元素：

```
>>> re.findall('(href=)"(.*?)"', teststring)
[('href=', 'www.google.com')] 
```

# perl - perl如何处理异常？

> ID：14457597
> 
> 赞同：2
> 
> 时间：2013-01-22T11:33:41.347
> 
> 标签：perl, clearcase

我正在尝试查找 clearcase 视图的最后访问日期，perl 脚本如下所示。

```
 @Property = `cleartool lsview -prop $viewtag ` ;

foreach $property (@Property)
    {
    $last_accessed = $property if ( $property =~ /^Last accessed / ); 
            # | cut  -b 15-24 | awk -F '-' '{ print $3"/"$2"/"$1 }'
    } 
```

如果 cleartool 命令失败，我面临的问题是 perl 脚本退出。即使 cleartool 返回错误，我也希望 perl 继续。

BRs玛尼。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-22T11:49:03.630

简单而原始的方法是将可能失败的代码放在 eval 块中：

```
eval { @Property = `cleartool lsview -prop $viewtag ` }; 
```

这样，即使 cleartool 失败，您的 Perl 脚本也会继续运行。

正确的方法是使用适当的模块，例如[Try::Tiny](https://metacpan.org/module/Try::Tiny)。该错误将在变量 $_ 中的 catch 块中可用。

```
try {
    @Property = `cleartool lsview -prop $viewtag `;
}
catch {
    warn "cleartool command failed with $_";
}; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T11:47:34.257

您可以按照“[在 perl 中处理异常的最佳方法是什么？](https://stackoverflow.com/questions/4006267/what-is-the-best-way-to-handle-exceptions-in-perl) ”中的建议，尝试使用“ [Try::Tiny](http://search.cpan.org/~doy/Try-Tiny-0.12/lib/Try/Tiny.pm) ”。

另一种方法是使用`eval`cleartool 命令。

```
eval { @Property = `cleartool lsview -prop $viewtag` };
if ($@) {
    warn "Oh no! [$@]\n";
} 
```

# java - 从 JSP 向 Servlet 发送文件

> ID：14457599
> 
> 赞同：1
> 
> 时间：2013-01-22T11:33:45.387
> 
> 标签：java, jsp, servlets

> **可能重复：**
> [如何使用 JSP/Servlet 将文件上传到服务器？](https://stackoverflow.com/questions/2422468/how-to-upload-files-to-server-using-jsp-servlet)

我在 jsp 中编写了这段代码来将文件发送到 Servlet：

```
<input type="file" name="inputFoto" id="inputFoto"/> 
```

我的 Servlet 是：

```
{...
File fotoImg = (File) request.getAttribute("inputFoto");
byte[] foto = convertiInArrayByte(fotoImg);
..} 
```

这没用。如何从 JSP 获取 Servlet 中的文件？有人能帮我吗？也许文件的路径（在我的电脑上）有一些问题！？！？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:43:09.443

`file`输入类型不是简单的属性，它们在请求的单独块中发送。因此，您的 HTTP 请求中必须至少包含 2 个部分。

因此，**您必须使用`Multipart Form Data`**处理来解析文件。这里有很多例子，例如：

*   [在 Servlet 中解析传入的多部分/表单数据参数的便捷方法](https://stackoverflow.com/questions/3337056/convenient-way-to-parse-incoming-multipart-form-data-parameters-in-a-servlet)
*   [用于读取包含多个文件的 multipart/form-data http 正文的 Java 库](https://stackoverflow.com/questions/8162868/java-library-for-reading-multipart-form-data-http-body-containing-multiple-files)

最常见的是 Apache Commons Fileupload [http://commons.apache.org/fileupload](http://commons.apache.org/fileupload)用于此。

# android - 在android中的两个不同活动之间滑动

> ID：14457602
> 
> 赞同：0
> 
> 时间：2013-01-22T11:33:47.097
> 
> 标签：android, android-layout, android-viewpager, android-view

我正在考虑一个解决方案，如何实现两个不同的活动，以便我可以像浏览器一样在它们之间滑动。

我在 Eclipse 中创建了两个项目。在其中一个中，我实现了一个简单的音乐播放器，它显示了 mp3.file 的封面。它还会在播放歌曲时显示搜索栏的移动。在另一个项目中，我实现了一个 openstreetmap 活动，它在地图上显示了我的位置。我想要的是结合这两个活动，这样我就可以在它们之间滑动。那可能吗？我必须如何解决它？提供有关使用片段的其他解决方案？我将非常感谢您提前提供建议并原谅我的英语:)

编辑：为了更好地理解：

我有一个项目，它播放一首歌曲并显示封面、歌曲名称、解释器和一个搜索栏，它在歌曲播放时移动。它仍然工作正常。我想要的是把一个布局分成两个这样的 [布局](http://s14.directupload.net/file/d/3144/nmaor7tg_jpg.htm)。在图片中，您可以看到我实现的播放器（在左侧）。我想拆分相同的布局组件，以便在最后（右侧）有 2 个布局。我用片段尝试过。这是我当前的代码：

```
public class MainActivity extends FragmentActivity {

SectionsPagerAdapter mSectionsPagerAdapter;
ViewPager mViewPager;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(com.example.swipeview3.R.layout.main);

    // Create the adapter that will return a fragment for each of the three
    // primary sections of the app.
    mSectionsPagerAdapter = new SectionsPagerAdapter(
            getSupportFragmentManager());

    // Set up the ViewPager with the sections adapter.
    mViewPager = (ViewPager) findViewById(com.example.swipeview3.R.id.pager);
    mViewPager.setAdapter(mSectionsPagerAdapter);

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(com.example.swipeview3.R.menu.main, menu);
    return true;
}

//  ------------------------------#########################------------------------------
//  ------------------------------#########################------------------------------

public class SectionsPagerAdapter extends FragmentPagerAdapter {

    public SectionsPagerAdapter(FragmentManager fm) {
        super(fm);
    }

    @Override
    public Fragment getItem(int position) {

        if(position == 0) {
            PlayerFragment f = new PlayerFragment(position);
            return f;
        }
        if(position == 1) {
            SongParameterFragment f = new SongParameterFragment(position);
            return f;
        }
        else {
            Fragment fragment = new DummySectionFragment();
            Bundle args = new Bundle();
            args.putInt(DummySectionFragment.ARG_SECTION_NUMBER, position + 1);
            fragment.setArguments(args);
            return fragment;
        }
    }

    @Override
    public int getCount() {
        // Show 3 total pages.
        return 3;
    }

    @Override
    public CharSequence getPageTitle(int position) {
        switch (position) {
        case 0:
            return getString(com.example.swipeview3.R.string.title_section1).toUpperCase();
        case 1:
            return getString(com.example.swipeview3.R.string.title_section2).toUpperCase();
        case 2:
            return getString(com.example.swipeview3.R.string.title_section3).toUpperCase();
        }
        return null;
    }
}

//  ------------------------------#########################------------------------------
//  ------------------------------#########################------------------------------

public static class DummySectionFragment extends Fragment {

    public static final String ARG_SECTION_NUMBER = "section_number";

    public DummySectionFragment() {
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        // Create a new TextView and set its text to the fragment's section
        // number argument value.
        TextView textView = new TextView(getActivity());
        textView.setGravity(Gravity.CENTER);
        textView.setText(Integer.toString(getArguments().getInt(
                ARG_SECTION_NUMBER)));
        return textView;
    }
}

//  ------------------------------#########################------------------------------
//  ------------------------------#########################------------------------------

public static class PlayerFragment extends Fragment {

    int fragmentNR;
    Button btnPlay, btnStop, btnExit;
    SeekBar seekBar;

    public PlayerFragment(int position) {
        this.fragmentNR = position;
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {

        btnPlay = (Button)getView().findViewById(com.example.swipeview3.R.id.button_play);
        btnStop = (Button)getView().findViewById(com.example.swipeview3.R.id.button_stop);
        btnExit = (Button)getView().findViewById(com.example.swipeview3.R.id.button_exit);

        return inflater.inflate(com.example.swipeview3.R.layout.player, container, false);
    }

}

//  ------------------------------#########################------------------------------
//  ------------------------------#########################------------------------------

public static class SongParameterFragment extends Fragment {

    int fragmentNR;
    ImageView cover;
    TextView songParameter, songDuration;

    public SongParameterFragment(int position) {
        this.fragmentNR = position;
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) { 
        return inflater.inflate(com.example.swipeview3.R.layout.song_parameters, container, false);
    }
}
} 
```

当我在 PlayerFragment 中分配按钮 ID 时，我变成了 nullpointerException

```
01-23 13:33:09.553: D/AndroidRuntime(15881): Shutting down VM
01-23 13:33:09.553: W/dalvikvm(15881): threadid=1: thread exiting with uncaught exception (group=0x40c571f8)
01-23 13:33:09.553: E/AndroidRuntime(15881): FATAL EXCEPTION: main
01-23 13:33:09.553: E/AndroidRuntime(15881): java.lang.NullPointerException
01-23 13:33:09.553: E/AndroidRuntime(15881):    at com.example.swipeview3.MainActivity$PlayerFragment.onCreateView(MainActivity.java:142)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.app.Fragment.performCreateView(Fragment.java:1460)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:911)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1088)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:682)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1444)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.app.FragmentManagerImpl.executePendingTransactions(FragmentManager.java:461)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:141)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.view.ViewPager.populate(ViewPager.java:1012)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.view.ViewPager.populate(ViewPager.java:881)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1366)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.view.View.measure(View.java:12929)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4703)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.view.View.measure(View.java:12929)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:822)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:563)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.view.View.measure(View.java:12929)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4703)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2257)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.view.View.measure(View.java:12929)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1240)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2628)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.os.Handler.dispatchMessage(Handler.java:99)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.os.Looper.loop(Looper.java:137)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at android.app.ActivityThread.main(ActivityThread.java:4511)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at java.lang.reflect.Method.invokeNative(Native Method)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at java.lang.reflect.Method.invoke(Method.java:511)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:980)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:747)
01-23 13:33:09.553: E/AndroidRuntime(15881):    at dalvik.system.NativeStart.main(Native Method) 
```

这正是我的问题。我不知道在哪里分配它们或在哪里编写函数。sry 伙计们，但我真的不明白它是如何与片段一起工作的。希望你能理解并帮助我：/非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:37:53.420

您可以将gestureOverlay放在活动中以检测手势和滚动，动画关闭/移出第一个活动和打开/移入第二个活动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T09:25:06.737

`framelayout`在其布局文件中使用仅带有 a 的 Fragment 活动。在两个单独的片段中实现两个活动的 UI（回想一下，片段实现了一个活动的所有生命周期方法）。

```
A Fragment represents a behavior or a portion of user interface in an Activity. 
```

更多关于[片段](http://developer.android.com/guide/components/fragments.html)。

首先`FragmentManager`在接收到来自用户的访客输入后，使用该类向框架布局添加一个片段，用您的第二个框架替换该片段。

使用片段，您可以非常轻松地重用 UI 元素（假设在扩展应用程序以支持平板电脑的情况下，您希望将两个活动的 UI 放置在单个屏幕上）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T18:42:04.583

看这个例子

```
public class MainActivity extends FragmentActivity 
{
    private ViewPager mPager;
    private FragAdapter mAdapter;

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mPager = (ViewPager) findViewById(R.id.pager);
        mAdapter = new FragAdapter(getSupportFragmentManager());        
        mPager.setAdapter(mAdapter);     

        mPager.setOnPageChangeListener(new OnPageChangeListener() 
        {
            public void onPageSelected(int position) 
            {
            }

            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) 
            {

            }

            public void onPageScrollStateChanged(int state) 
            {
                if (state == ViewPager.SCROLL_STATE_DRAGGING)
                {

                }
                if (state == ViewPager.SCROLL_STATE_IDLE)
                {

                }
            }
        });
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    public class FragAdapter extends FragmentPagerAdapter 
    {
        private Map<Integer, Object> mPageReferenceMap = new HashMap<Integer, Object>();
        public FragAdapter(FragmentManager fm) 
        {
            super(fm);
        }

        @Override
        public int getCount() 
        {
            return 3;
        }

        @Override
        public Fragment getItem(int position) 
        {
          Fragment frag;
          if (position == 0)
          {
              frag = new FirstActivity();  
          }   
          else if (position == 3)
          {
              frag =  new SecondActivity();
          }
          else if (position == 6)
          {
              frag =  new ThirdActivity();
          }

          mPageReferenceMap.put(Integer.valueOf(position),frag);
          return frag;
        }

        @SuppressWarnings("deprecation")
        @Override
        public void destroyItem(View container, int position, Object object) {

            super.destroyItem(container, position, object);

            mPageReferenceMap.remove(Integer.valueOf(position));
        }

        public Object getFragment(int key) {

            return mPageReferenceMap.get(key);
        }
    }

} 
```

现在创建一个新的 FirstActivity.java

```
public class FirstActivity extends Fragment 
{
    public RadioGroup rythm;

    @Override
    public void onCreate(Bundle savedInstanceState) 
    {
       super.onCreate(savedInstanceState);
       Log.e("Test", "hello");
       //position = getArguments().getInt("position");

    }

 /**
  * Handle the results from the voice recognition activity.
  */     
    @Override
    public void onActivityCreated(Bundle savedInstanceState) 
    {
        super.onActivityCreated(savedInstanceState);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) 
    {
       View view = inflater.inflate(R.layout.rythm, container, false);
       TextView text = (TextView) view.findViewById(R.id.textView);
       text.setText("Select Rythm");

       rythm = (RadioGroup) view.findViewById(R.id.rythm);
       RadioButton first = (RadioButton) rythm.getChildAt(0); 
       first.setText("Sinus");

       RadioButton second = (RadioButton) rythm.getChildAt(1); 
       second.setText("Afib");
       RadioButton third = (RadioButton) rythm.getChildAt(1); 
       third.setText("Other");

       return view;
    }
} 
```

# php - cakephp模型类中的多个验证函数

> ID：14457603
> 
> 赞同：0
> 
> 时间：2013-01-22T11:33:49.513
> 
> 标签：php, cakephp

我有一个登录表单和一个注册表单。两者都附加到同一个表用户。我如何在模型类中分别验证这两种形式。我尝试了两种不同的功能，代码如下

```
class User extends AppModel
{
public function login()
  {
    public $private = array('username'=>array('required'=>array('rule'=>'notEmpty','message'=>'Username is reqired . So please fill the username')),'password'=>array('required'=>array('rule'=>'notEmpty','message'=>'Please enter your password.')));
    }
public function register()
    {
        public $private = array('firstname'=>array('required'=>array('rule'=>'notEmpty','message'=>'Enter your first name'),'lastname'=>array('required'=>array('rule'=>'notEmpty','message'=>'Enter your lastname name'),'username'=>array('required'=>array('rule'=>'notEmpty','message'=>'Username is reqired . So please fill the username')),'password'=>array('required'=>array('rule'=>'notEmpty','message'=>'Please enter your password.')),'role'=>array('valid'=>array('rule' => array('inList', array('admin', 'author')),'message' => 'Please enter a valid role','allowEmpty' => false))));
    }
} 
```

我的疑问是控制器如何知道哪个功能用于登录或注册。我如何需要在控制器中编写代码来调用它？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T15:44:05.533

```
class User extends AppModel {

    public $validateLogin = array(
       // validate rules for the login form submission
    );

    public $validateRegister = array(
        // validate rules for the registration form submission
    );

}

class UsersController extends AppController {

    public function login() {

        $this->User->validate = $this->User->validateLogin;

        // handle login form submission

    }

    public function register() {

        $this->User->validate = $this->User->validateRegister;

        // handle register form submission

    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:53:47.883

我想这可能有效：-

```
class User extends AppModel
{

    public $private = array('firstname'=>array('required'=>array('rule'=>'notEmpty','message'=>'Enter your first name'),'lastname'=>array('required'=>array('rule'=>'notEmpty','message'=>'Enter your lastname name'),'username'=>array('required'=>array('rule'=>'notEmpty','message'=>'Username is reqired . So please fill the username')),'password'=>array('required'=>array('rule'=>'notEmpty','message'=>'Please enter your password.')),'role'=>array('valid'=>array('rule' => array('inList', array('admin', 'author')),'message' => 'Please enter a valid role','allowEmpty' => false))));
} 
```

# perl - 始终使用我的；从不使用本地？

> ID：14457605
> 
> 赞同：8
> 
> 时间：2013-01-22T11:33:54.430
> 
> 标签：perl, variables

实现动态范围，我使用的是**[`local`](http://perldoc.perl.org/functions/local.html)**. 然后我看到了**[这个](http://perl.plover.com/FAQs/Namespaces.html)**帖子，上面写着：

> 为什么有本地的呢？答案是 90% 的历史。Perl 的早期版本只有全局变量。local 很容易实现，并被添加到 Perl 4 作为局部变量问题的部分解决方案。

**...永远不要使用本地。**

是否已弃用或不鼓励使用它？如果是，有什么替代方案？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-01-22T12:00:16.673

您链接到的帖子具有误导性，或者至少不完整。确实，您永远不应该使用它`local`来创建词法变量。它不这样做，这就是`my`目的。

但是，您*应该*在需要它的实际功能时使用`local`：为全局变量提供临时值。这最常用于临时设置 Perl 的特殊变量。一个经典案例是这样的：

```
{
    local $/;
    $entire_file = <$filehandle>;
} 
```

为了一次读取整个文件，您需要将记录分隔符设置为未定义。但是您只想暂时这样做；因此`local`应该使用。

这绝对不气馁。它被认为是好的 Perl 代码。

**更新：**我看到这篇文章实际上有一个注释，它符合其“从不使用本地”声明。不过，我认为做出这样笼统的声明是有误导性的。我同意该说明所回应的批评者。上面的例子是一个非常常见的基本案例，在这方面还有其他几种常见的用法`local`。

我知道初学者教程需要保持简单，但简单并不一定意味着不准确。 *“现在，不要担心`local`；只需使用`my`”*将同样清晰简单，但不会误导某人认为*永远不*应该使用 local 。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-22T11:58:07.783

用于`my`创建局部变量，这在大多数情况下是人们想要的。

`local`仅用于做的事情很好`local`：为全局变量设置不同的值，该变量将在当前块之后恢复。这绝不会被弃用。它很稳定，得到很好的支持，并且是 Perl 的一个关键特性。（然而，它碰巧不像创建局部变量那样经常成为人们想要的东西。特别是许多初学者从不需要这样做。）

不鼓励使用`local`尝试创建局部变量，因为那是`my`应该使用的。从来没有任何理由使用`local`它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T18:18:44.297

实际上，这不是一个坏建议。与所有编程格言一样，未说出口的附录是[“除非你真的知道自己在做什么”](http://senseis.xmp.net/?ProverbsDoNotApplyToWhite)。有合法的用例`local`。但总的来说，如果您认为`local`是正确的工具，您应该在继续之前重新考虑。

# ios - Facebook SDK 3.1 iOS：如何检查 Facebook 是否可以访问？

> ID：14457607
> 
> 赞同：0
> 
> 时间：2013-01-22T11:34:00.260
> 
> 标签：ios, facebook, sdk, ping

我正在编写我的第一个带有 Facebook 集成的 iOS 应用程序，并试图优雅地处理一些边缘情况。现在我正在考虑无法访问互联网，或者特别是无法访问 Facebook 的情况。

在我看来，“美味”教程处理这个问题相当糟糕。当出现没有互联网访问的登录屏幕时，用户可以选择单击登录按钮，然后在 Safari 中无法访问的页面上放弃他们。我更愿意用一条解释问题的消息来提醒用户。

所以我的问题是，在没有任何人登录的情况下“ping”Facebook 服务以最好地确保后续登录请求成功的最佳方式是什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-02T22:47:56.093

正如@Harald 所建议的，您可以使用 Apple 的 Reachability 示例：[https ://developer.apple.com/library/ios/samplecode/Reachability/Introduction/Intro.html](https://developer.apple.com/library/ios/samplecode/Reachability/Introduction/Intro.html)

只需将 Reachability.h 和 Reachability.m 导入您的项目。

如果您只想一次性检查您是否已连接到互联网，请考虑这一点。

```
+(BOOL)isConnectionToInternet
{
    Reachability* internetReachability = [Reachability reachabilityForInternetConnection];
    NetworkStatus netStatus = [internetReachability currentReachabilityStatus];
    switch (netStatus) {
        case NotReachable:NSLog(@"NotReachable");
            return NO;
        case ReachableViaWiFi:NSLog(@"ReachableViaWiFi");
            return YES;
        case ReachableViaWWAN:NSLog(@"ReachableViaWWAN");
            return YES;
    }
}
```

您还可以使用 Reachability 中的 reachabilityWithAddress 方法检查特定的 url，例如 facebook.com。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:47:37.070

尝试在示例中查找

```
-(void) sessionStateChanged: (FBSession*) session
                      state: (FBSessionState) state
                      error: (NSError*) error
{
   switch(state)
  {
    case FBSessionStateOpen:
    {
       // Logged
     break;
    }

    case FBSessionStateClosed:
    {
       // Logouted
     break;
    }

    case FBSessionStateFailed:
    {
       // connect failed or some error
       // it seems, this place what you need ?
     break;
    }
  }
} 
```

**UPD**

或者您可以在此处检查 Safari 错误 (FBRequestConnection.m)

```
-(void) completeWithResponse: (NSURLResponse*) response
                        data: (NSData*) data
                     orError: (NSError*) error
{
     //Try check this params at each your case
} 
```

# android - MediaPlayer 内存不足/虚拟手风琴

> ID：14457609
> 
> 赞同：1
> 
> 时间：2013-01-22T11:34:02.390
> 
> 标签：android, media-player

我目前正在尝试制作手风琴虚拟乐器。所以我想循环一个样本，直到我按下一个按钮并在释放按钮时停止。

我有很多使用问题`MediaPlayer`：

1）我一直在使用`.pause()`上一个版本，我得到了一些初步错误：在播放了一定数量的按钮后，我按下的任何新按钮都没有声音，但我在“静音”之前按下的那个仍然有效。所以我期待这是一个`.pause()`内存使用问题，所以我使用过`.stop()`，`.prepareAsyc()`但后来我得到了新的错误：

- 一开始有一些声音并且工作正常。- 过了一会儿，每个按钮都没有声音了。- 再次尝试后应用程序崩溃...

```
01-22 11:07:59.062: D/ActivityManager(55): Received spurious death notification for thread android.os.BinderProxy@43d797f0
01-22 11:07:59.182: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:07:59.442: W/AudioFlinger(30): write blocked for 107 msecs, 1 delayed writes, thread 0xb388
01-22 11:08:00.182: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:08:04.890: W/AudioFlinger(30): write blocked for 93 msecs, 9 delayed writes, thread 0xb388
01-22 11:08:06.042: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:08:07.042: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:08:07.702: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:08:08.412: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:08:46.616: W/AudioFlinger(30): write blocked for 72 msecs, 23 delayed writes, thread 0xb388
01-22 11:08:54.570: W/AudioFlinger(30): write blocked for 90 msecs, 42 delayed writes, thread 0xb388
01-22 11:09:00.463: W/AudioFlinger(30): write blocked for 85 msecs, 68 delayed writes, thread 0xb388
01-22 11:09:05.752: W/AudioFlinger(30): write blocked for 77 msecs, 93 delayed writes, thread 0xb388
01-22 11:09:47.431: W/AudioFlinger(30): write blocked for 105 msecs, 97 delayed writes, thread 0xb388
01-22 11:09:52.872: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:09:53.036: W/AudioFlinger(30): write blocked for 80 msecs, 114 delayed writes, thread 0xb388
01-22 11:09:53.532: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:09:57.282: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:09:58.066: W/AudioFlinger(30): write blocked for 73 msecs, 140 delayed writes, thread 0xb388
01-22 11:09:58.843: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:09:59.582: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:00.553: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:01.512: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:02.232: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:02.952: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:03.214: W/AudioFlinger(30): write blocked for 93 msecs, 157 delayed writes, thread 0xb388
01-22 11:10:03.802: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:04.992: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:06.062: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:07.352: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:07.902: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:08.282: W/AudioFlinger(30): write blocked for 93 msecs, 172 delayed writes, thread 0xb388
01-22 11:10:09.932: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:10.562: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:10.574: E/AudioFlinger(30): not enough memory for AudioTrack size=49216
01-22 11:10:10.574: D/MemoryDealer(30):   AudioTrack (0x189460, size=1048576)
01-22 11:10:10.574: D/MemoryDealer(30):     0: 00189498 | 0x00000000 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     1: 00189570 | 0x0000C040 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     2: 0018cc90 | 0x00018080 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     3: 00189b28 | 0x000240C0 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     4: 001939c8 | 0x00030100 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     5: 00196c40 | 0x0003C140 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     6: 00199eb0 | 0x00048180 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     7: 0019a8b8 | 0x000541C0 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     8: 0019ad10 | 0x00060200 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):     9: 001a15d0 | 0x0006C240 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    10: 001a1a18 | 0x00078280 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    11: 001a50a8 | 0x000842C0 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    12: 001aeb00 | 0x00090300 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    13: 001ab990 | 0x0009C340 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    14: 001b4fb8 | 0x000A8380 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    15: 001b8660 | 0x000B43C0 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    16: 001b54f0 | 0x000C0400 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    17: 001bef78 | 0x000CC440 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    18: 001c2608 | 0x000D8480 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    19: 001b8ba8 | 0x000E44C0 | 0x0000C040 | A 
01-22 11:10:10.574: D/MemoryDealer(30):    20: 001c8ab0 | 0x000F0500 | 0x0000C040 | A
01-22 11:10:10.574: E/AudioTrack(30): AudioFlinger could not create track, status: -12
01-22 11:10:10.574: E/AudioSink(30): Unable to create audio track
01-22 11:10:10.574: E/VorbisPlayer(30): mAudioSink open failed
01-22 11:10:11.292: D/AudioSink(30): bufferCount (4) is too small and increased to 12
01-22 11:10:11.292: E/AudioFlinger(30): not enough memory for AudioTrack size=49216
01-22 11:10:11.304: D/MemoryDealer(30):   AudioTrack (0x189460, size=1048576)
01-22 11:10:11.304: D/MemoryDealer(30):     0: 00189498 | 0x00000000 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     1: 00189570 | 0x0000C040 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     2: 0018cc90 | 0x00018080 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     3: 00189b28 | 0x000240C0 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     4: 001939c8 | 0x00030100 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     5: 00196c40 | 0x0003C140 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     6: 00199eb0 | 0x00048180 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     7: 0019a8b8 | 0x000541C0 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     8: 0019ad10 | 0x00060200 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):     9: 001a15d0 | 0x0006C240 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    10: 001a1a18 | 0x00078280 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    11: 001a50a8 | 0x000842C0 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    12: 001aeb00 | 0x00090300 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    13: 001ab990 | 0x0009C340 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    14: 001b4fb8 | 0x000A8380 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    15: 001b8660 | 0x000B43C0 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    16: 001b54f0 | 0x000C0400 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    17: 001bef78 | 0x000CC440 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    18: 001c2608 | 0x000D8480 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    19: 001b8ba8 | 0x000E44C0 | 0x0000C040 | A 
01-22 11:10:11.304: D/MemoryDealer(30):    20: 001c8ab0 | 0x000F0500 | 0x0000C040 | A
01-22 11:10:11.304: E/AudioTrack(30): AudioFlinger could not create track, status: -12
01-22 11:10:11.304: E/VorbisPlayer(30): mAudioSink open failed 
```

这也是我的活动代码：

```
package com.soundbutton;

import java.io.IOException;

import android.app.Activity;
import android.media.MediaPlayer;
import android.os.Bundle;
import android.view.MotionEvent;
import android.view.View;
import android.view.View.OnTouchListener;
import android.widget.Button;

public  class Main extends Activity implements OnTouchListener {

@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        final MediaPlayer sound01 = MediaPlayer.create(this, R.raw.sound1);
        final MediaPlayer sound02 = MediaPlayer.create(this, R.raw.sound2);
        final MediaPlayer sound03 = MediaPlayer.create(this, R.raw.sound3);
        final MediaPlayer sound04 = MediaPlayer.create(this, R.raw.sound4);

    ///////////////////////////////////First line/////////////////////    
        final Button b11 = (Button) this.findViewById(R.id.sound1);
        b11.setOnTouchListener(new OnTouchListener(){public boolean onTouch(View v, MotionEvent event) {
            switch (event.getAction()) {

            case MotionEvent.ACTION_DOWN:   
                sound01.setLooping(true);
                sound01.start();            return true;

            case MotionEvent.ACTION_UP:
                sound01.stop();
                sound01.prepareAsync();

                return true; }  return true;        }});

        final Button b12 = (Button) this.findViewById(R.id.sound2);
        b12.setOnTouchListener(new OnTouchListener(){public boolean onTouch(View v, MotionEvent event) {
            switch (event.getAction()) {

            case MotionEvent.ACTION_DOWN:   
                sound02.setLooping(true);
                sound02.start();            return true;

            case MotionEvent.ACTION_UP:
                sound02.stop(); 
                sound02.prepareAsync();
                return true; }  return true;        }}); 

        final Button b13 = (Button) this.findViewById(R.id.sound3);
        b13.setOnTouchListener(new OnTouchListener(){public boolean onTouch(View v, MotionEvent event) {
            switch (event.getAction()) {

            case MotionEvent.ACTION_DOWN:   
                sound03.setLooping(true);
                sound03.start();            return true;

            case MotionEvent.ACTION_UP:
                sound03.stop();
                sound03.prepareAsync();
                return true; }  return true;        }}); 

        final Button b14 = (Button) this.findViewById(R.id.sound4);
        b14.setOnTouchListener(new OnTouchListener(){public boolean onTouch(View v, MotionEvent event) {
            switch (event.getAction()) {

            case MotionEvent.ACTION_DOWN:   
                sound04.setLooping(true);
                sound04.start();            return true;

            case MotionEvent.ACTION_UP:
                sound04.stop(); 
                sound04.prepareAsync();         return true; }  return true;        }}); 

    }

@Override
public boolean onTouch(View v, MotionEvent event) {
    // TODO Auto-generated method stub
    return false;
}

} 
```

希望你能帮助我；）

最佳伊文

# zurb-foundation - Zurb 基金会自定义 Javascript

> ID：14457611
> 
> 赞同：2
> 
> 时间：2013-01-22T11:34:10.253
> 
> 标签：zurb-foundation

我假设 app.css 用于您自己的自定义 CSS 规则，那么 app.js 用于您自己的自定义脚本？

那是对的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:37:21.600

没错，是的，尽管它通常用于调用您包含的其他脚本，而不是编写完整长度的脚本。

示例 App.js

```
$(document).ready(function () {
    /*
    *  FAAAAANCY BOX!
    */

    $('.fancybox').fancybox();

    //Creates the datatable JS on the demo tables.aspx page
    oTable = $('#data-table').dataTable({
        "bJQueryUI": false,
        "bAutoWidth": true,
        "sPaginationType": "full_numbers",
        "sDom": '<"datatable-header"fl>t<"datatable-footer"ip>',
        "oLanguage": {
            "sLengthMenu": "<span>Show entries:</span> _MENU_"
        }
    });

}); 
```

因此，如果您可能包含了 datatables 插件和 fancybox 插件，那么您将在 app.js 中调用您可能希望在整个站点中包含的函数。

如果您愿意，您可以重命名它或在页面上使用内联 JS。

# c# - 代表产品规格

> ID：14457629
> 
> 赞同：0
> 
> 时间：2013-01-22T11:35:29.410
> 
> 标签：c#, .net, ooad

我需要扩展我的领域模型：产品可能有不同的规格。例如，主板规格与显示器规格不同。

有两个实体：

```
public class Product {
    public Guid Id { get; set; }
    public Category Category { get; set; }

    // ..Price, Title, Manufacturer properties
} 
```

`Category`在哪里

```
public class Category {
    // ..ctor to initialize this.Specs as List or as Dictionary

    public Guid Id { get; set; }
    public String Title { get; set; }
    public ICollection<String> Specs { get; set; }
} 
```

这是解决这个问题的正常方法吗？我的意思是放入`ICollection<String> Specs`实体`Category`？

我正在使用`ASP.NET MVC`& `Raven DB`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:38:11.483

如果一组规格是产品类别的一部分，那么这可能是对其建模的好方法。

不过，规范可能应该是它自己的概念，而不是一个简单的字符串（我这么说是在不了解您的具体要求的情况下）。

所以，而不是一个`ICollection<string>`有一个`ICollection<Specification>`。

# javascript - D3.js：旋转坐标，而不是整个元素？

> ID：14457631
> 
> 赞同：0
> 
> 时间：2013-01-22T11:35:31.260
> 
> 标签：javascript, d3.js

我正在使用 D3，并尝试在经过旋转变换的元素上方添加文本标签。我的问题是如何定位文本而不实际旋转它。

这些是原始元素：

```
var circle = g.selectAll('.city')
 .data(data).enter()
 .append('circle')
 .attr('class', 'city')
 .attr('r', 10)
 .attr("cy", 0)
 .attr("cx", function(d) {
    return rdist(d.dist);
 }).attr("transform", function(d, i) {
    return "rotate(" + d.radial_pos + " 0 0)";
 }); 
```

这就是我在鼠标悬停时附加文本的方式：

```
circle.on("mouseover", function(d) {
  var cx = d3.select(this).attr('cx');
  var cy = d3.select(this).attr('cy');
  var label = d3.select(this.parentNode)
  .append('text')
  .text(function(d) {
    return d.name;
  }).attr('x', function() {
    return cx;
  }).attr('y', function() {
    return cy;
  }).attr("transform", function() {
    return "rotate(" + d.radial_pos + " 0 0)";
  });
}); 
```

这会返回正确位置的标签，但整个标签会旋转，因此文本是倾斜的。

有什么方法可以让我首先自己转换坐标，然后将文本设置为这些坐标，所以它仍然是正确的方式吗？或者，我可以以某种方式获得圆的渲染位置吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T17:14:06.053

似乎删除元素上的虚假`transform`属性应该可以解决问题[，如下面的 jsFiddle 所示](http://jsfiddle.net/Aydzu/)：`rotation``text`

```
circle.on("mouseover", function(d) {
  var cx = d3.select(this).attr('cx');
  var cy = d3.select(this).attr('cy');
  var label = d3.select(this.parentNode)
  .append('text')
  .text(function(d) {
    return d.name;
  }).attr('x', function() {
    return cx;
  }).attr('y', function() {
    return cy;
  });
}); 
```

PS：我假设这与以下问题有关：[D3.js：当数据已经绑定时如何附加元素？](https://stackoverflow.com/questions/14459488/d3-js-how-to-append-elements-when-data-is-already-bound/14460458#14460458)

# c# - 选定的项目到文本框异常

> ID：14457632
> 
> 赞同：0
> 
> 时间：2013-01-22T11:35:33.053
> 
> 标签：c#, .net, wpf, datagrid

我的 WPF 应用程序中有一个`DataGrid`。当它被选中时，我将在文本框中的第 6 列中显示该值。所以我已将所选项目绑定`datagrid`到`textbox`

**代码：**

```
 myTextBox1.SetBinding(TextBox.TextProperty, 
           (new Binding("SelectedItem." + dataGrid1.Columns[5].Header)
            { 
               ElementName = "dataGrid1" 
            })); 
```

在我的 Xaml 后面的代码中，但它抛出了一些 Xaml Parse Exception 说

```
<TextBlock Name="myTextBox1" /> 
```

**错误：**

```
Set connectionId threw an exception.'whose inner excpetion is 
{"Unable to cast object of type 'System.Windows.Controls.TextBlock' 
to type 'System.Windows.Controls.TextBox'."} 
```

我该如何纠正这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:02:56.220

```
 myTextBox1.SetBinding(TextBlock.TextProperty, (new Binding("SelectedItem." +   dataGrid1.Columns[5].Header) { ElementName = "dataGrid1" })) 
```

尝试这个

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T12:26:58.923

而不是使用

```
dataGrid1.Columns[5].Header 
```

你需要使用

```
dataGrid1.Columns[5].HeaderText 
```

希望这会奏效

# ruby-on-rails - ruby数组中的自定义排序

> ID：14457633
> 
> 赞同：1
> 
> 时间：2013-01-22T11:35:35.877
> 
> 标签：ruby-on-rails, ruby

我有一个非常具体的要求。有相同的三个或四个衬垫解决方案。我需要一种衬垫解决方案。

假设我有一个像这样的数组：

```
[["Andorra", "Andorra"], ["United Arab Emirates", "United Arab Emirates"], 
 ["Afghanistan", "Afghanistan"], ["Antigua & Barbuda", "Antigua & Barbuda"], 
 ["Anguilla", "Anguilla"], ["Albania", "Albania"], ["Armenia", "Armenia"], 
 ["Angola", "Angola"]] 
```

我希望 ["Anguilla", "Anguilla"] 作为我的第一个元素，其他元素按降序排列。

有没有办法做到这一点？（如果可能的话，一个班轮）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T12:13:52.787

利用数组定义的字典顺序并按所需标准对输入进行排序：

```
countries.sort_by { |s, s2| [s == "Anguilla" ? 1 : 0, s] }.reverse
#=> [["Anguilla", "Anguilla"], ..., ["Afghanistan", "Afghanistan"]] 
```

@Sergio 建议使用`Enumerable#sort`来避免`reverse`. IMO 它的声明性不如前者，但为了记录，这就是它的外观：

```
countries.sort { |(s1, _), (s2, _)| s1 == "Anguilla" ? -1 : s2 <=> s1 }
#=> [["Anguilla", "Anguilla"], ..., ["Afghanistan", "Afghanistan"]] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T11:40:49.500

这是你的单线：

```
countries = [["Andorra", "Andorra"], ["United Arab Emirates", "United Arab Emirates"], ["Afghanistan", "Afghanistan"], ["Antigua & Barbuda", "Antigua & Barbuda"], ["Anguilla", "Anguilla"], ["Albania", "Albania"], ["Armenia", "Armenia"], ["Angola", "Angola"]]

custom_order = countries.partition{|arr| arr[0] == "Anguilla"}.map(&:sort).map(&:reverse).flatten(1)
custom_order # => [["Anguilla", "Anguilla"], ["United Arab Emirates", "United Arab Emirates"], ["Armenia", "Armenia"], ["Antigua & Barbuda", "Antigua & Barbuda"], ["Angola", "Angola"], ["Andorra", "Andorra"], ["Albania", "Albania"], ["Afghanistan", "Afghanistan"]] 
```

这是一个替代解决方案：

```
custom_order = countries.sort do |c1, c2|
  if c1[0] == 'Anguilla'
    -1
  else
    c2 <=> c1
  end
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:42:11.923

有点原始，但是一行：

```
[["Anguilla", "Anguilla"]] << ([["Andorra", "Andorra"], ["United Arab Emirates", "United Arab Emirates"], ["Afghanistan", "Afghanistan"], ["Antigua & Barbuda", "Antigua & Barbuda"], ["Anguilla", "Anguilla"], ["Albania", "Albania"], ["Armenia", "Armenia"], ["Angola", "Angola"]] - ["Anguilla", "Anguilla"]).sort{|a,b| b[0] <=> a[0]} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T11:51:24.127

尝试这个：

```
[["Andorra", "Andorra"], ["United Arab Emirates", "United Arab Emirates"], ["Afghanistan", "Afghanistan"], ["Antigua & Barbuda", "Antigua & Barbuda"], ["Anguilla", "Anguilla"], ["Albania", "Albania"], ["Armenia", "Armenia"], ["Angola", "Angola"]].sort{|a,b| b[0] <=> a[0]}.partition{|arr| arr[0] == "Anguilla"} 
```

# asp.net-mvc - IgnoreRoute 在我的混合 MVC 和 ASP.NET 应用程序中似乎不起作用

> ID：14457638
> 
> 赞同：1
> 
> 时间：2013-01-22T11:36:06.530
> 
> 标签：asp.net-mvc, maproute, ignoreroute

我正在将现有的 aspx 文件路由到 mvc 控制器以进行测试，我还希望有一种方法可以使用 IgnoreRoute 忽略路由，然后我可以只注释掉该行以在 aspx 和 MVC 版本之间切换。例如 a/b/mypage.aspx 路由到控制器 = 比利，动作 = 索引。

这是我尝试过的 MapRoute 由于先前的 IgnoreRoute 调用而没有效果的地方：

```
RouteTable.Routes.RouteExistingFiles = true;

RouteTable.Routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
RouteTable.Routes.IgnoreRoute("{resource}.aspx/{*pathInfo}");

RouteTable.Routes.MapRoute(
    "Mine", // Route name
    "a/b/{c}", // URL with parameters
    new { controller = "Billy", action = "Index", id = "" },
    new { c = "(mypage\\.aspx)" }
    ); 
```

这是我对应该发生什么的理解......
`RouteExistingFile`s 是为了考虑路由确实存在的 aspx 文件。
axd 文件不会被路由
aspx 文件不会被路由
map 路由应该没有效果，因为`mypage.aspx`应该被前`IgnoreRoute`一行忽略。

问题是`IgnoreRoute`aspx 似乎没有改变任何东西，`MapRoute`仍然发生。

任何帮助表示赞赏。

# java - 在“|”处拆分 并读取文件名和路径以复制 JAVA

> ID：14457639
> 
> 赞同：0
> 
> 时间：2013-01-22T11:36:06.667
> 
> 标签：java, file, split

我有一个看起来像这样的文本文件`fileName | path`。我阅读了文本文件并将其拆分为`|`. 现在我想使用文件名和路径将文件从一个目录复制到另一个目录。

这是我到目前为止所拥有的，我得到的结果如下：

```
file to be copied: test.jar to path: c:/test
c:\InstallFiles\test.jar
c:\test
c:\test 
```

这是我的代码：

```
 String record = "";
    FileReader fileReader = null;
    String curDir = System.getProperty("user.dir");
    File file = new File(curDir + "/InstallFiles.txt");
    File installFiles = new File("c:/InstallFiles");
    File[] files = installFiles.listFiles();
    try {
        fileReader = new FileReader(file);
        BufferedReader myInput = new BufferedReader(fileReader);
        while ((record = myInput.readLine()) != null) {
            String[] recordColumns = record.split("\\|");

            String fileName = recordColumns[0].toString().trim();
            String path = recordColumns[1].toString().trim();

            System.out.println("file to be copied: " + fileName + " to path: " + path);
            Path source = Paths.get(installFiles +"/"+ fileName);
            System.out.println(source);
            Path target = Paths.get(path);
            System.out.println(target);
            Files.copy(source, target);
            System.out.println("Copied file: " + fileName + " to " + path);
        }
        myInput.close();
        fileReader.close();
    } catch (Exception e) {
        System.out.println(e.getMessage());
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:22:14.910

最有可能的是，某种形式的`IOException`被抛出。我无法从您提供的信息中说出原因。

我建议您将`catch`块内的代码更改为：

```
} catch (Exception e) {
    e.printStackTrace();
} 
```

这可能会产生关于错误发生原因的更好信息。

* * *

**编辑：**

关于为什么会出现问题的一种可能猜测是目标文件 ( `c:\test`) 已经存在。根据[这个 javadoc 文档](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#copy%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29)`FileAlreadyExistsException`，除非您指定一个选项，否则这将导致您得到一个`REPLACE_EXISTING`，而您还没有这样做。

# ruby-on-rails-3 - Rails 3.1 active_scaffold 'jQuery("form.as_form").live' 不是函数

> ID：14457641
> 
> 赞同：2
> 
> 时间：2013-01-22T11:36:18.340
> 
> 标签：ruby-on-rails-3, activescaffold

Rails 3.1.10 Active_scaffold 3.2.17

我收到了 js 错误消息：

```
Event thread: DOMContentLoaded
Uncaught exception: TypeError: 'jQuery("form.as_form").live' is not a function
Error thrown at line 25, column 5503 in <anonymous function>() in http://localhost/assets/application.js?body=1:
jQuery("form.as_form").live("ajax:beforeSend",function(e){var t=jQuery(this).closest("form");return.................................... 
```

有人可以帮忙吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T15:11:47.937

我花了半天时间找出问题所在。

**jQuery("form.as_form").live' 不是一个函数**，因为我的 gemfile 中有：

宝石'active_scaffold'

它正在安装一个 3.2.17 版本，其中包含已过时的 Jquery 1.9 调用 .live 在不同的 js 库中）。相反，必须有.on call。但是发布的 3.2.17 版 active_scaffold 包含**.live** ((

最后我的解决方案是

**宝石'active_scaffold'，git：“https://github.com/activescaffold/active_scaffold.git”**

它包含 3.3.0.rc，它包含 .on jquery 调用而不是 .live。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T23:27:16.363

active_scaffold github 上的 Master 分支已放弃 Rails 3.1 支持，因此解决方案是更新您的 Gemfile 以将 jquery-rails gem 修复为使用 JQuery 1.8.3 的：

```
gem 'jquery-rails', '2.1.4' 
```

# android - Android 媒体播放器播放歌曲 x 次

> ID：14457644
> 
> 赞同：6
> 
> 时间：2013-01-22T11:36:33.560
> 
> 标签：android, android-mediaplayer

我想使用 android 媒体播放器播放歌曲 x 次，例如 1,2,3 ..etc。请让我知道有没有办法使用 android api 来做到这一点。谢谢

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-22T11:47:50.050

正如 Wamasa 所说，您可以使用 setLooping 进行无限播放。为了只播放特定的计数时间，您可以将 onCompletionListener 添加到您的 MediaPlayer：

```
int count = 0; // initialise outside listener to prevent looping

mediaPlayer.setOnCompletionListener(new OnCompletionListener(){
  int maxCount = 3;

  @Override
  public void onCompletion(MediaPlayer mediaPlayer) {
    if(count < maxCount) {
      count++;
      mediaPlayer.seekTo(0);
      mediaPlayer.start();
    }
}}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:44:31.867

如果您使用的是 MediaPlayer 类，请尝试使用 MediaPlayer.setLooping(true)

# php - http_build_query 在某些 PHP 配置中将 not_var=yes 变成 ¬_var=yes。为什么？

> ID：14457651
> 
> 赞同：4
> 
> 时间：2013-01-22T11:36:57.460
> 
> 标签：php

这段代码：

```
$query = array(
    "var" => "no",
    "not_var" => "yes",
    "var2" => "maybe"
);
print http_build_query($query); 
```

输出：

```
var=no¬_var=yes&var2=maybe 
```

这发生在我自己的运行 PHP 5.3.19 的机器上。我已经在[PHPfiddle](http://phpfiddle.org/main/code/s9y-ixg)上重现了这种行为。它在运行 PHP 5.2.11的[ideone.com上按预期工作。](http://ideone.com/hx1NjX)

为什么会这样？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-22T11:44:14.170

这只是因为您的浏览器对`&not`实体进行了编码，请尝试以下操作：

```
print htmlentities(http_build_query($query)); 
```

对于正常使用，它绝对没问题。

`ideone`它在vs上不同的原因`PHPFiddle`是因为`PHPFiddle`只是将结果转储到 iframe 中，并`ideone`显示它是预先编码的实体，这样其他显示就不会被破坏。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:46:12.907

您是否对结果进行了“查看源代码”，或者您是否依赖浏览器来显示它？

实际上，它正在按预期输出字符串；它是错误解释它的浏览器。

该字符串包含`&not`. 浏览器将其解释为 HTML 实体，尽管它缺少尾随分号。

如果查看源代码，您会看到输出实际上是正确的。

解决方案：如果您希望此字符串包含在 HTML 页面中，您也应该对其进行 htmlencode。

# java - 你能一步一步解释如何在Jboss7.1的ejb模块中使用log4j吗？

> ID：14457652
> 
> 赞同：1
> 
> 时间：2013-01-22T11:36:58.677
> 
> 标签：java, jboss, log4j, ejb, jboss7.x

为了让 log4j 在 ejb 模块上工作，你能给我一个逐步的过程吗？情况是这样的：我有我的 ejbmodule，它使用休眠来执行一些获取任务，我想记录所有内容。我想使用 log4j，但我无法理解网络上描述的其他过程的某些步骤，比如 jboss 中的那些。

你能告诉我我应该怎么做，一步一步吗？

就我而言：

*   我有我的配置文件（我不知道放在哪里）

*   我有 log4j.jar（我不知道放在哪里）

*   我不知道如何初始化日志环境（我有一个在启动时初始化休眠的 ejb 会话 bean，我想要一个初始化记录器）

你们中的任何人都可以帮助我吗？

提前致谢

编辑：感谢您的第一个建议，它可能会有所帮助，但我不明白其他人如何在耳朵里有 META-INF。我的项目看起来像 3 个项目：

*   MyprojectLogic（包含 ejbmodules）
*   MyprojectLogicClient（包含了所有的接口，是给客户端的库）
*   MyprojectLogicEAR（实际上什么都不包含，我不明白它的目的是什么）

答案：见下文或在此处查看[javafortheweb](http://javafortheweb.blogspot.it/2013/02/enabling-and-using-log4j-on-jboss-as-7.html)或[博客](http://gauchoacomecable.wordpress.com/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T16:39:50.893

Jboss 已经带有 log4j。在开发 EJB 时，您需要：

1.  导入 Logger 类： `import org.apache.log4j.Logger;`
2.  如果导入未解析，请将此 jar 添加到路径：%JBOSS_HOME%\modules\org\apache\log4j\main\log4j-1.2.16.jar
3.  使用记录器创建一个字段：`private static Logger logger = Logger.getLogger(YourEJBClass.class);`
4.  以任何方法使用记录器：`logger.info("my log");`

JBoss 已经在`%JBOSS_FOLDER%/standalone/configuration/standalone.xml`. 默认情况下，您的记录器将输出到 server.log 和控制台，但您可以添加一些附加程序将您的应用程序日志输出到另一个文件。

这是一个示例，编辑该文件并添加以下片段（按照文件的定义）：

*   这是在日志文件夹内的文件 myappfile.log 中添加一个附加程序（在 name="FILE" 下已经定义的后面添加这个）：

> ```
> <periodic-rotating-file-handler name="FILETWO">
>   <formatter>
>     <pattern-formatter pattern="%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n"/>
>   </formatter>
>   <file relative-to="jboss.server.log.dir" path="myappfile.log"/>
>   <suffix value=".yyyy-MM-dd"/>
>   <append value="true"/>
> </periodic-rotating-file-handler> 
> ```

*   添加此代码段告诉 log4j 将“com.mypackage”类别中的所有日志发送到先前创建的附加程序（将其复制到文件中其他定义的记录器之后，但在根记录器之前）：

> ```
> <logger category="com.mypackage">
>     <level name="DEBUG"/>
>     <handlers>
>         <handler name="CONSOLE"/>
>         <handler name="FILETWO"/>
>     </handlers>
> </logger> 
> ```

重新启动服务器，您应该会在文件夹中看到新的 myappfile.log。确保您的应用程序记录一些内容，例如，在某个 servlet 中添加 logger.info("my servlet info log") 并从浏览器中调用它。您还将在控制台中看到此日志

如果您需要进一步定制，请查看 log4j 帮助。

# javascript - javascript 基于使用纯 JS 的另一个多选框中的选择禁用多选

> ID：14457653
> 
> 赞同：1
> 
> 时间：2013-01-22T11:37:04.267
> 
> 标签：javascript, html

我有两个多选框，一个用于国家列表，一个用于州列表

```
<select multiple="multiple" name="country[]" id="country" >
      <option value="0">Select a Country</option>

  <?php 
    foreach($country_list as $key=>$value){
    echo "<option value=\"$key\"";
      if($html['Country Name']==$key|| $row['Country Name']==$key){
       echo ' selected="selected"';
      }
    echo ">$value</option>\n";                                     
    }?>
</select>

<select multiple="multiple" name="state[]" id="state">
      <option value="">Select a State</option>
      <?php 
        foreach($state_list as $key=>$value){
        echo "<option value=\"$key\"";
          if($html['state']==$key|| $row['state']==$key){
            echo ' selected="selected"';
          }
        echo ">$value</option>\n";                                     

        }?>
    </select> 
```

我有这个 javascript 代码

```
window.onload = function() {
    var selectCountry = document.getElementById('country');
    selectCountry.onchange = function() {
        document.getElementById('state').disabled = (selectCountry.value != 'USA')? true : false;
    };
}; 
```

This code disables the select box when countries other than USA is selected. 即使在第一个下拉菜单中选择了多个国家/地区，我也希望它被禁用（如果用户选择 USA 和 CAN，它也应该被禁用）。有什么建议么。我在 Jquery 中有工作代码，但我的服务器似乎根本不支持 Jquery，我希望它在传统 JS 中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:51:13.300

只需浏览所有选定的选项并检查其中一个选项的值是否等于 USA：

```
selectCountry.onchange = function() {
        var disabled = false;
        for(var i = 0; i < this.options.length; i++){
            if(this.options[i].selected && this.options[i].value == 'USA') {
                disabled =true;
                break
            }
        }
        document.getElementById('state').disabled = disabled;
    }; 
```

请注意，`this`将指向`selectCountry`元素。

此外，服务器从不“支持”jquery。您只需将 jquery.js 文件放在网站目录下并在您的网站上添加指向它的链接。

您可以通过使用`selecteOptions`属性获得稍微简单的代码，但无法找到它是否被所有浏览器支持：

```
var disabled = false;
    for(var i = 0; i<this.selectedOptions.length; i++){
        if(this.selectedOptions[i].value == "3") {
            disabled =true;
             break
        }
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:50:58.360

这是一些应该对您有所帮助的代码。您必须遍历所有选项元素，检查它们是否被选中。如果是，那么您需要将其与“USA”相匹配 -

鉴于此 HTML -

```
<select id="country" multiple="multiple">
    <option value="usa">usa</option>
    <option value="canada">canada</option>
    <option value="israel">israel</option>
</select> 
```

你会做这样的事情 -

```
var selectCountry = document.getElementById('country');

var usaIsMarked = false;
selectCountry.onchange = function () {
    usaIsMarked = false;
    for (i = 0; i < selectCountry.options.length; i++) {
        var currentOption = selectCountry.options[i];
        if (currentOption.selected && currentOption.value == 'usa') {
            usaIsMarked = true;
        }
    }
    if (usaIsMarked) {
        alert("usa was marked!");
    }
}; 
```

### [这是一个简单的演示](http://jsfiddle.net/lixroz/2QFbg/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-22T12:09:33.673

为了测试是否选择了多个选项，您需要遍历选项并测试`selected`属性：

```
window.onload = function() {
    var selectCountry = document.getElementById('country'),
        selectState = document.getElementById('state');

    selectCountry.onchange = function() {
        var options = this.options,
            selected = 0, i, o;

        // Loop over <option> tags
        for (i = 0, o = options.length; i < o; i++) {
            option = options[i];

            // If selected options are less than 1 and country value is NOT 'USA'
            if (selected <= 1 && this.value !== 'USA') {

                // ...check if option is selected and increment "selected" var if true
                if (option.selected) {
                    selected += 1;
                }
            } else {
                // ...otherwise disable the state select ad break out of the loop
                selectState.disabled = true;
                break;
            }
        }
    };
}; 
```

正如 SebastianG 所说，运行 jQuery 并不依赖于服务器。您可以在任何服务器上运行 jQuery - 您只需要在引用“jQuery”或“$”别名之前确保它从您的服务器或选择的 CDN 正确加载。这是一个入门教程，详细介绍了 jQuery（Tiny URL'd for space）： [http ://tinyurl.com/arhmcro](http://tinyurl.com/arhmcro)

# c# - 通过翻转视图控件在 Windows 8 中设置锁屏

> ID：14457663
> 
> 赞同：1
> 
> 时间：2013-01-22T11:37:43.923
> 
> 标签：c#, windows-8

我的 Flipview 控件中有一组内联编码的图像，适用于 Windows 8 应用程序。

单击一个按钮，我希望用户能够将其设置`flipview.selecteditem`为锁屏。

你能帮忙提供一个代码片段吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T14:55:34.227

查看[锁屏个性化示例](http://code.msdn.microsoft.com/windowsapps/Personalization-App-sample-9ebfe147)，如果您有任何具体问题，请告诉我们，以及您迄今为止尝试过的内容。

# android - 如何根据用户选择设置不同的偏好默认值？

> ID：14457664
> 
> 赞同：0
> 
> 时间：2013-01-22T11:37:50.880
> 
> 标签：android, android-preferences

我有一个具有许多用户偏好的 Android 应用程序。一些首选项是自定义的，这意味着一个`Preference`类会稍微修改一个值。大多数首选项都有默认值，这些默认值是通过调用来应用的，以`PreferenceManager.setDefaultValues()`尊重此类自定义首选项。我的应用程序有许多常见的使用场景，但目前首选项默认值仅涵盖其中一种。我想问一个用途，她更喜欢哪种场景。但我不知道如何根据用户选择以同样干净简单的方式应用默认值。有任何想法吗？

**更新**

默认值应仅在第一次运行时应用。询问用户他计划如何使用应用程序，并根据他的回答应用默认值。他稍后将能够单独调整每个设置，因此以后没有理由重新应用默认设置。而且这只是对没有经验的用户的帮助，它是必需的，因为我收到反馈说某些设置在没有持续经验的情况下并不明显。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:47:30.233

我认为主要问题是，用户*何时*应该允许应用特定于用例的默认值（最初，任何时候？），以及他*期望*何时应用它们（切换回来是否有意义？等）。

我假设随着时间的推移收集的任何基础数据可能存在依赖关系，并且用户希望保留这些数据。

如果您打算支持如此复杂的情况，那么我会将模型视为三层：一组特定于用例的默认值，一组应用的特定于用例的更改，以及最终投影（默认值）被调整覆盖）。这里的目的是用户可以切换回他的原始用例而不会丢失个性化设置。

只是最初的想法，没有更深入地了解您的应用程序的性质。

**更新**

根据您的说明，我的建议是每个用例使用一个首选项文件并调用[PreferenceManager.setDefaultValues(Context, String, int, int, boolean)](http://developer.android.com/reference/android/preference/PreferenceManager.html#setDefaultValues%28android.content.Context,%20java.lang.String,%20int,%20int,%20boolean%29)。

# sqlite - 如果有机会在 Sencha Touch 2 Apps 中使用 SQLite？

> ID：14457666
> 
> 赞同：4
> 
> 时间：2013-01-22T11:37:55.667
> 
> 标签：sqlite, sencha-touch-2

我想做 Sencha Touch 2 应用程序，我需要使用客户端数据存储。那么，是否有办法使用 SQLite 数据库或相同的替代方法？如果用户无法访问互联网并且用户能够对数据进行 CRUD，我的应用程序需要工作。当设备建立互联网连接时，应用程序应将客户端数据库（SQLite）与服务器端数据库同步。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:41:29.487

我认为有两个机会。

首先是使用 WebSQL。它就像一个 SQL 数据库。但它已被弃用，取而代之的是 indexedDb（目前不适用于移动浏览器）。

有一个用于 WebSQL 和 Sencha Touch 2 的插件。[https://github.com/grgur/Ext.data.proxy.WebSQL](https://github.com/grgur/Ext.data.proxy.WebSQL)

第二个机会是使用 LocalStorage。您可以使用商店和“本地存储”代理直接对您的数据进行 CRUD。但它不是 SQLite 数据库，但我认为你可以用它来解决你的问题。

Sencha 文档：[http ://docs.sencha.com/touch/2-1/#!/api/Ext.data.proxy.LocalStorage](http://docs.sencha.com/touch/2-1/#!/api/Ext.data.proxy.LocalStorage)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-05T01:14:10.063

Sencha Touch (2.1) 的最新版本通过 Ext.data.proxy.Sql 类内置了对 Web SQL 的支持。

这为 Web SQL 提供了官方支持。但是，它几乎没有文档，使用起来非常痛苦。一个好的起点在这里：[http ://druckit.wordpress.com/2012/11/16/using-the-sencha-touch-2-1-sql-proxy/](http://druckit.wordpress.com/2012/11/16/using-the-sencha-touch-2-1-sql-proxy/)

我自己一直在将它用于一个项目，并发现它在出现问题时不会提供错误。例如，我遇到了一个问题，我拼错了一个排序依据声明（这显然是必需的，但没有记录在案）并且它停止工作。没有显示错误。大约 5 小时后，我发现了这个问题，它又开始工作了。

这很痛苦，但它可以完成完整的数据库本地存储的工作。

# .net - File.Copy() 和包含空格的 UNC 路径

> ID：14457667
> 
> 赞同：1
> 
> 时间：2013-01-22T11:38:00.363
> 
> 标签：.net

使用`File.Copy(src, dest)`从包含空格的 UNC 路径复制文件似乎不起作用。据我了解， File.Copy 调用应该适用于带空格的本地路径。我怎样才能使这项工作（没有使用外壳来执行“复制”命令）？

```
string srcPath1 = @"\\Host\Share\File_name.ext";  
string targetPath1 = @"C:\Temp\target1.file";
File.Copy(srcPath1, targetPath1);                 // OK

string srcPath2 = @"\\Host\Share\File name.ext";  // Note the space
string targetPath2 = @"C:\Temp\target2.file";
File.Copy(srcPath2, targetPath2);                 // File not found 
```

上面示例中的第二个 File.Copy() 会引发 File Not found 异常，声称路径不存在（完整路径，例如，不只是到第一个空格）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T13:19:00.563

如果将路径括在引号中，它会起作用吗？换句话说：

`string srcPath2 = String.Concat("\"", @"\\Host\Share\File name.ext", "\"");`

# ruby-on-rails - 如何在 Spree 中个性化帐户视图

> ID：14457668
> 
> 赞同：0
> 
> 时间：2013-01-22T11:38:05.120
> 
> 标签：ruby-on-rails, devise, spree

我实际上正在开发 Spree 电子商务解决方案，我想个性化“**帐户**”视图（ 127.0.0.1:3000/account ），但我在Spree的**/core中****找不到它。**

 **我也在寻找**spree_auth_devise** Gem 来个性化它，但我不明白它是如何工作的。

在 spree 的文档中找不到正确的方法。

如果有人有线索，我很开放（：

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-23T10:01:24.863

您可以`app/views/spree/users/show.html.erb`通过将模板放在应用程序中的相同路径来覆盖模板来实现此目的。**

# sql - Sql表添加约束以检查数量限制

> ID：14457675
> 
> 赞同：1
> 
> 时间：2013-01-22T11:38:17.073
> 
> 标签：sql, oracle, ddl, check-constraint

我正在 oracle DB 中创建一个表并尝试添加约束，以便列中允许的数字为 1、2、3。

```
CREATE TABLE "TABLE_EXAMPLE"
(
.
.
"PROTOCOL" NUMBER (1,2,3),

....)

CONSTRAINT "CH1"
        CHECK ("PROTOCOL" BETWEEN 1 AND 3), 
```

我做得对还是有更好的方法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T11:45:10.973

```
CREATE TABLE TABLE_EXAMPLE 
(
 ...
  PROTOCOL NUMBER(1) NOT NULL CONSTRAINT CH1 CHECK (PROTOCOL IN (1,2,3))
 ...
); 
```

`BETWEEN 1 AND 3`包括1.5、1.6等。

而且我建议不要使用引号`"`，除非表或列名中有特殊字符...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:42:23.157

如果您要检查表级检查约束是最好的方法。因为如果您要插入更大的值，那么检查约束会抛出错误。

# php - PHP，请帮助改进正则表达式

> ID：14457676
> 
> 赞同：0
> 
> 时间：2013-01-22T11:38:21.283
> 
> 标签：php, string, replace, preg-replace, preg-match

> **可能重复：**
> [PHP，preg_replace，用标签 attr 替换标签](https://stackoverflow.com/questions/14456272/php-preg-replace-replace-tag-with-tag-attr)

我阅读了很多参考资料，但这很难理解。

请帮助改进我的代码。

我想换

```
<script src="core.js"></script> to <temp src="core.js"></temp> 
```

当我测试它时，下面将实际输出我想要的。但是，在 $replace 上，我只放`<temp`了 ，它怎么能替换结束标签？？？

```
$string = '<script src="core.js"></script>';
$pattern = '/^<script|<\/script>$/i';
  //    ^(start from script)    | (or)    $(end with script)
$replace = '<temp';
echo preg_replace($pattern, $replace, $string); 
```

输出

```
<temp src="core.js"></temp> 
```

非常感谢您的帮助和建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:45:50.970

抱歉，如果由于您询问了正则表达式而无法回答您的问题，但如果您可以使用 str_replace，通常这样做会更好，而且速度更快。

```
$result = str_replace('<script', '<temp', $string);
$result = str_replace('script>', 'temp>', $result); 
```

但是，问题在于，它不会匹配以下字符串：

```
<script src="core.js"></script > 
```

我不只是这样做的原因：

```
str_replace("script", "temp", $string); 
```

是因为您的变量中可能包含“脚本”一词的其他含义，例如，如果一个 js 文件被称为 example.script.js

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:45:29.523

你需要使用正则表达式吗？你不能只使用[str_replace](http://php.net/manual/en/function.str-replace.php)吗？

```
$string = '<script src="core.js"></script>';
echo str_replace("script", "temp", $string); 
```

**编辑**

如果你觉得你真的必须使用正则表达式，那么你遇到的问题是结束标签`</script>`被替换为 just `<temp`。尝试使用捕获括号：

```
$string = '<script src="core.js"></script>';
$pattern = '/(<\/?)script([^>]*>)$/i';
$replace = '$1temp$2';
echo preg_replace($pattern, $replace, $string); 
```

这里的模式可以理解为：

*   `(<\/?)`: A`<`可选地后跟一个`/`
*   `script`: 文字串`script`
*   `([^>]*>)`: 任何不是`>`0 次或多次的字符，后跟一个`>`

在替换字符串中，`$1`表示匹配第一个带括号的模式，而 $2 第二个。

# javascript - 在 CSS 中设置背景图片

> ID：14457679
> 
> 赞同：0
> 
> 时间：2013-01-22T11:38:26.747
> 
> 标签：javascript, css

我的 JavaScript&CSS 中有以下代码来创建一个 div 并设置一个 bg 图像：

```
var incrementEnabled = document.createElement('div');
incrementEnabled.className = "SchedMainCtrlIncrementBtn_En"; 
this.divElt.appendChild(incrementEnabled);

.SchedMainCtrlIncrementBtn_En {
background-color: white;
float:left;
position: fixed;
width:230px;
height:65px;
top:125px;
left:360px;
background:url("../images/icons/IcnListAddRecipient_En.png") no-repeat center; 
```

url 的路径也正确，但图像未设置。

谢谢斯内哈
_

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:41:19.303

你不应该使用`url("../images/icons/IcnListAddRecipient_En.png")`但是`url(../images/icons/IcnListAddRecipient_En.png)`

用这个替换css，我希望问题会得到解决

```
.SchedMainCtrlIncrementBtn_En {
background-color: white;
float:left;
position: fixed;
width:230px;
height:65px;
top:125px;
left:360px;
background:url(../images/icons/IcnListAddRecipient_En.png) no-repeat center; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T14:18:54.273

您是否使用 firebug（或您喜欢的浏览器中的任何其他开发人员工具）检查会发生什么？

*   你的 div 有没有出现？
*   课程设置正确吗？
*   背景属性会发生什么？

为什么要使用浮动和位置：固定？float:left 不做任何事情。

顺便说一句，我总是使用单引号，使用它们就好了:)

# java - BindException 地址已在使用中，但正在使用重用

> ID：14457687
> 
> 赞同：1
> 
> 时间：2013-01-22T11:38:46.443
> 
> 标签：java, sockets, networking

我的网络有问题...

```
 protected Void doInBackground(Void... arg0) {
        int nreq = 1;
        System.out.println("Hall000");
        try {
            ServerSocket sock = new ServerSocket(6677);
            sock.setReuseAddress(true);
            sock.setSoTimeout(1000);
                Socket newsock = sock.accept();
                System.out.print("\n");
                System.out.println("Creating command...");
                System.out.print("\n");
                new answercall();

                nreq++;
                System.out.println(nreq);
                final DataInputStream din = new DataInputStream(
                        ss.getInputStream());
                // Einlesen
                diny1 = (din).read();
                diny2 = (din).read();
                diny3 = (din).read();
                diny4 = (din).read();
                diny5 = (din).read();
                diny6 = (din).read();
                diny7 = (din).read();
                System.out.println("diny" + diny1 + " " + diny2 + " "
                        + diny3 + " " + diny4 + " " + diny5 + " " + diny6
                        + " " + diny7);
                setDiny1(diny1);
                setDiny2(diny2);
                setDiny3(diny3);
                setDiny4(diny4);
                setDiny5(diny5);
                setDiny6(diny6);
                setDiny7(diny7);
                System.out.println(diny1 + " " + diny2 + " " + diny3 + " "
                        + diny4 + " " + diny5 + " " + diny6 + " " + diny7
                        + " " + diny8);
                getSharedPreferences(DINY, MODE_PRIVATE).edit()
                        .putInt(DINY1, diny1).commit();
                getSharedPreferences(DINY, MODE_PRIVATE).edit()
                        .putInt(DINY2, diny2).commit();
                getSharedPreferences(DINY, MODE_PRIVATE).edit()
                        .putInt(DINY3, diny3).commit();
                getSharedPreferences(DINY, MODE_PRIVATE).edit()
                        .putInt(DINY4, diny4).commit();
                getSharedPreferences(DINY, MODE_PRIVATE).edit()
                        .putInt(DINY5, diny5).commit();
                getSharedPreferences(DINY, MODE_PRIVATE).edit()
                        .putInt(DINY6, diny6).commit();
                getSharedPreferences(DINY, MODE_PRIVATE).edit()
                        .putInt(DINY7, diny7).commit();

        } catch (Exception e) {
            System.out.println("IO error" + e);
        }
        return null;

    } 
```

LogCat 告诉我：

IO 错误java.net.BindException：绑定失败：EADDRINUSE（地址已在使用中）

我知道这意味着什么，但我不知道，它为什么来...我正在使用重用，所以它不应该来，不是吗？我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:52:58.233

从以下文档[`ServerSocket`](http://docs.oracle.com/javase/6/docs/api/java/net/ServerSocket.html)：

> 未定义套接字绑定后启用或禁用 SO_REUSEADDR 时的行为（参见 isBound()）。

您必须在没有绑定的情况下创建套接字，`SO_REUSEADDR`然后设置和绑定：

```
ServerSocket sock = new ServerSocket();
sock.setReuseAddress(true);
sock.bind(new InetSocketAddress(6677)); 
```

PS：当你试图阻止他们改进你的问题时，你尽量减少愿意帮助你的人。

# telerik - 使用 jquery 设置 Telerik 日期选择器值

> ID：14457688
> 
> 赞同：0
> 
> 时间：2013-01-22T11:38:50.490
> 
> 标签：telerik, telerik-mvc

我在剃刀视图中有一个 Telerik 日期选择器控件，如下所示：

`@Html.Telerik().DatePickerFor(m=>m.SalesOrganizationProfile.EffectiveDate) .HtmlAttributes(new { id = "profileEffectiveDateEditSection" })`

如何使用 jquery 设置 this 的值。 `$('#profileEffectiveDateEditSection').val("1/1/2012")`不起作用。

对此的任何帮助表示赞赏。此剃刀视图位于 ASP.NET MVC 4 项目中。

谢谢，山姆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T23:44:02.387

值应通过客户端对象的 value 方法设置。[这](http://www.telerik.com/help/aspnet-mvc/telerik-ui-components-datepicker-client-api-and-events.html#ClientMethods)是涵盖它的文档的一部分。

```
var datepicker = $('#profileEffectiveDateEditSection').data('tDatePicker');
datepicker.value(new Date('1/1/2012')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:11:50.117

正确的方法是：

@Html.Telerik().DatePickerFor(m => m.EffectiveDate).Name("profileEffectiveDate");

然后使用 Pechka 的代码”。

var datepicker = $('#profileEffectiveDate').data('tDatePicker'); datepicker.value(new Date('1/1/2012'));

注意：我必须使用 Name 属性而不是 ID（即使我不知道为什么 id 不起作用）

# javascript - google maps api总距离计算

> ID：14457689
> 
> 赞同：-1
> 
> 时间：2013-01-22T11:38:52.843
> 
> 标签：javascript, google-maps, google-maps-api-3

以下代码计算旅程的总路线，并以公里为单位显示结果：

```
function computeTotalDistance(result) {
        var total = 0;
        var myroute = result.routes[0];
        for (i = 0; i < myroute.legs.length; i++) {
          total += myroute.legs[i].distance.value;
        }
        total = total / 1000.
        document.getElementById('total').innerHTML = total + ' km'; 
```

我需要以英里为单位显示总距离，而不是公里。我需要的是计算成英里的公式。我已经搜索过了，但是我遇到了死胡同，有人帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T13:50:37.397

[每 0.621371 英里 1.0 公里（来自谷歌）](https://www.google.com/webhp?hl=en&tab=ww#hl=en&tbo=d&output=search&sclient=psy-ab&q=miles+per+km&oq=miles+per+km)

# delphi - Delphi WebSphere MQ 远程连接

> ID：14457693
> 
> 赞同：4
> 
> 时间：2013-01-22T11:39:21.207
> 
> 标签：delphi, ibm-mq

我正在用 Delphi 编写一个应用程序来连接到远程 MQ 服务器并获取消息。
我在我的计算机上安装了一个 MQ 服务器并编写了一个测试应用程序。
一切都很好连接，打开，放置，获取，..一切都很好。
然后我尝试通过更改地址连接到远程 MQ，它工作但不正确，它仍然与本地 MQ 一起工作并从本地获取信息。没有切换到其他远程服务器！！！！
我的来源如下，我该怎么办？谢谢

```
var
  QMgrName    : MQCHAR48;
  ConnectOpts : TMQCNO;
  ClientConn  : TMQCD;
  Compcode    : MQLONG;
  Reason      : MQLONG;
begin
  StrPCopy(QMgrName, AQueueManager+#0);
  ConnectOpts.StrucId := MQCNO_STRUC_ID;
  ConnectOpts.Version := MQCNO_VERSION_1;
  ConnectOpts.Options := MQCNO_STANDARD_BINDING;
  ConnectOpts.ClientConnOffset := 0;
  ConnectOpts.ClientConnPtr := @ClientConn;

  with ClientConn do begin
    StrPCopy(ClientConn.ConnectionName, format('%s(%s)'#0, [AIP,APort]));
    Version := MQCD_VERSION_6;
    ChannelType := MQCHT_CLNTCONN;
    TransportType := MQXPT_TCP;
    Desc := '';
    QMgrName := '';
    XmitQName := '';
    ShortConnectionName := '';
    MCAName := '';
    ModeName := '';
    TpName := '';
    BatchSize := 50;
    DiscInterval := 6000;
    ShortRetryCount := 10;
    ShortRetryInterval := 60;
    LongRetryCount := 999999999;
    LongRetryInterval := 1200;
    SecurityExit := '';
    MsgExit := '';
    SendExit := '';
    ReceiveExit := '';
    SeqNumberWrap := 999999999;
    MaxMsgLength := 4194304;
    PutAuthority := MQPA_DEFAULT;
    DataConversion := MQCDC_NO_SENDER_CONVERSION;
    SecurityUserData := '';
    MsgUserData := '';
    SendUserData := '';
    ReceiveUserData := '';
    UserIdentifier := '';
    Password := '';
    MCAUserIdentifier := '';
    MCAType := MQMCAT_PROCESS;
    ConnectionName := '';
    RemoteUserIdentifier := '';
    RemotePassword := '';
    MsgRetryExit := '';
    MsgRetryUserData := '';
    MsgRetryCount := 10;
    MsgRetryInterval := 1000;
    HeartbeatInterval := 1;
    BatchInterval := 0;
    NonPersistentMsgSpeed := MQNPMS_FAST;
    StrucLength := MQCD_LENGTH_6;
    ExitNameLength := MQ_EXIT_NAME_LENGTH;
    ExitDataLength := MQ_EXIT_DATA_LENGTH;
    MsgExitsDefined := 0;
    SendExitsDefined := 0;
    ReceiveExitsDefined := 0;
    MsgExitPtr := nil;
    MsgUserDataPtr := nil;
    SendExitPtr := nil;
    SendUserDataPtr := nil;
    ReceiveExitPtr := nil;
    ReceiveUserDataPtr := nil;
    ClusterPtr := nil;
    ClustersDefined := 0;
    NetworkPriority := 0;
    LongMCAUserIdLength := 0;
    LongRemoteUserIdLength := 0;
    LongMCAUserIdPtr := nil;
    LongRemoteUserIdPtr := nil;
//    MCASecurityId := MQSID_NONE_ARRAY;
//    RemoteSecurityId := MQSID_NONE_ARRAY;
  end;
  MQCONNX(@QMgrName, ConnectOpts, HConn,Compcode,Reason);
  if CompCode <> MQCC_OK then
    raise Exception.Create(format('MQCONNX Fail, Completion Code: %d, Reason: %d',[CompCode,Reason])); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T14:31:25.663

代码片段不显示该`uses`语句。根据[MA​​7Q 文档](ftp://public.dhe.ibm.com/software/integration/support/supportpacs/individual/ma7q.pdf)，

> SupportPac 包含两个名为“MQI.PAS”和“MQIC.PAS”的文件。这些是 Pascal 源，应该放置在 Delphi 的搜索路径中的某个位置，以包含在您的 Pascal 程序中。包含它的方法就像使用 Pascal 中的任何单位：
> 
> 使用 MQI；
> 或
> 使用 MQIC；

`MQI`是绑定模式（共享内存）连接，而是`MQIC`网络堆栈上的客户端连接。

有可能两者都可用，并让应用程序确定在运行时使用哪个。根据[WMQ 信息中心](http://pic.dhe.ibm.com/infocenter/wmqv7/v7r5/topic/com.ibm.mq.doc/fg12050_.htm)：

> 如果您要链接到 mqm 库，则首先尝试使用默认绑定类型的标准服务器连接。如果底层服务器库加载失败，则会尝试客户端连接。

这向我表明您在路径中有两个库，并且连接首先查找本地 QMgr 并忽略客户端连接参数，或者您可能正在使用您想要 MQIC 库的 MQI 库。确保 MQIC 库位于路径中并更改您的`uses`语句。

如果切换库不能单独解决问题，请考虑指定 `MQCNO_CLIENT_BINDING`而不是`MQCNO_STANDARD_BINDING`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T14:33:23.500

通过使用其他一些应用程序进行测试来验证连接。当我在做 MQ 时，我总是从他们的一个 C 示例开始，用于获取/放置。让它工作，然后担心我的程序是否工作。您的问题很可能与连接字符串、身份验证、防火墙等有关，因此在您验证连接之前，您的代码是无关紧要的。

更新：如果您从库存 MQ 示例应用程序中收到错误，请在谷歌上搜索示例应用程序的名称以及错误代码！

# php - 正则表达式检查某些字符和数字模式

> ID：14457695
> 
> 赞同：0
> 
> 时间：2013-01-22T11:39:29.183
> 
> 标签：php, jquery, regex

我让用户输入格式为

图像[1-4 位][0-1 字母]

例如：（有效名称）

```
image1
image1f
image1B
image2201
image2201a 
```

无效

```
image (no number specified)
imagez (no number specified)
image12a1 (no digit permitted after letter)
image44aa (only one letter allowed after number) 
```

如何检查是否输入了正确的格式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:42:54.910

不知道你是否想要 php 或 javascript。这是JS版本：

```
/^image(\d{1,4})([A-Za-z])?$/ 
```

要提取数字：

```
var result = regex.exec(tests[i]),
    isValid = result !== null,
    number = isValid && result[1],
    lastChar = isValid && result[2]; 
```

查看更新的示例：http: [//jsfiddle.net/Ug7XD/2/](http://jsfiddle.net/Ug7XD/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:48:56.620

这应该可以帮助你...

```
/^image[0-9]{1,4}[a-zA-Z]{0,1}$/ 
```

这里解释一下。 `^`表示字符串的开头，`image`也就是字符串，`[0-9]`用于标识0到9的数字，`{1,4}`表示数字必须是1或4次，然后`[a-zA-Z]`检查字符，并`{0,1}`检查数字后是否有1个字符或没有，`$`表示您在变量中提供的字符串的结尾。`/`用于转义正则表达式字符串。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:42:39.013

尝试

```
$pattern = "/^image\d{1,4}[A-Za-z]$/"; 
```

# android - Android Listview Scroll Behavior 在快速投掷/移动时滚动，否则不会

> ID：14457697
> 
> 赞同：1
> 
> 时间：2013-01-22T11:39:39.523
> 
> 标签：android, android-listview, android-view, android-scrollview, android-gesture

我想要创建一个具有以下行为的自定义 ListView， 1\. 当我在 List 上滚动手指时，它不应该自行滚动。2\. 当用户手指向下并缓慢移动手指时，ListView 应该将触摸事件传递给 Child，child 将显示 ListView 图标名称。3.当用户以某个阈值速度或足够快的速度移动手指时，列表将滚动并向用户显示列表中的下一个项目。

为了实现这一点，我尝试从 ListView 覆盖 dispatchTouchEvent 方法，如下所示，

```
 @Override 
public boolean dispatchTouchEvent(MotionEvent ev) 
{ 
    if(ev.getAction() == MotionEvent.ACTION_MOVE)
    {
        int height = getHeight();
        if((height - ev.getY())<100)//when finger is moving downwards
        {
            smoothScrollBy(50, 100);
        }
        if(ev.getY()<100)// when finger moves upwards.
        {

                smoothScrollBy(-50,100);
        }
        return true;
    }
     return super.dispatchTouchEvent(ev);
  } 
```

在上面的实现中，我可以将手指移动到某个点并在 100 毫秒内滚动 50 个像素。在这里我无法获得 ListView Flings 和速度。所以我尝试在 ListView 的 OnTouchEvent() 方法中添加一个 GestureListner 。但是在我只得到第一个 OnFling 之后，我没有得到任何触摸动作。有人可以指导我制作这样的 ListView 或任何其他具有这种行为的滚动视图。谢谢。

# c# - 让 DataContractSerializer 在没有固定顺序的情况下工作

> ID：14457701
> 
> 赞同：0
> 
> 时间：2013-01-22T11:39:50.283
> 
> 标签：c#, serialization, xml-serialization, datacontractserializer

有没有办法让 Data Contract Serializer 在属性并不总是有序的情况下工作。

我不能使用 XML 序列化器，因为我使用 WCF 并且我的应用程序位于与 xmlserializer 冲突的框架上。

# c# - DataGrid 在开始时选择第一项

> ID：14457702
> 
> 赞同：0
> 
> 时间：2013-01-22T11:39:52.827
> 
> 标签：c#, datagrid

我可以在开始时在 Windows.Control.DataGrid 上没有选择第一项吗？每次绑定数据时，我都选择了第一项 - 第一行和第一列，我可以更改它吗？绑定数据后我有（单元格不是真的空 - 数据不是问题）：http: [//imgur.com/ZAwwQyd](http://imgur.com/ZAwwQyd) 我不想选择第一个单元格（带有蓝色边框的单元格）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:54:32.980

在您实例化网格并填充它之后，您可以调用

```
datagrid.ClearSelection(); 
```

这应该够了吧！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T14:38:14.933

对，我可能又走错了路，但试试这个。

看起来将任何内容绑定到 DataGrid 控件将重置选择（不是 100%）。

您可以将 ItemDataBound 事件用于 DataGrid。这将在项目绑定到控件后触发，如有必要，您可以“取消选择”从此事件中选择的任何单元格。

此外，如果您想保留用户所做的任何选择，则可以使用“DataBinding”事件来检查用户是否选择了单元格（“*在服务器控件绑定到数据源时发生。* ”）；然后您可以保存索引值并在数据绑定后重新选择它。

更多信息 - [MSDN](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datagrid.aspx)

类似（但重要的是不一样）问题 - [DataGrid - 到达新数据时重置网格选择](https://stackoverflow.com/questions/8232469/datagrid-grid-selection-is-reset-when-new-data-is-arrived)

希望这可以帮助

# ssrs-2008 - 如何在同一行配置图例？

> ID：14457708
> 
> 赞同：0
> 
> 时间：2013-01-22T11:40:19.670
> 
> 标签：ssrs-2008

我创建了一个双 Y 轴图，主轴是销售量，次轴是销售价值。但是当我转到预览按钮时。两个图例线不在线表示，销售量图例 LINE 是一条线，销售值图例 LINE 在不在同一行。我需要两者都是同一行如何创建它！

请帮忙

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-23T02:17:51.380

在图例属性中，将布局更改为行。

# joomla - 文章组件未在 joomla 中正确显示

> ID：14457709
> 
> 赞同：0
> 
> 时间：2013-01-22T11:40:21.953
> 
> 标签：joomla, joomla2.5

我是 joomla 的新手，我在 joomla 中使用此代码作为文章

```
<jdoc:include type="component" /> 
```

和结果

```
Specialty Market
Details
Category: Uncategorised
Published on Tuesday, 22 January 2013 10:01
Written by Super User
Hits: 0
Specialty Market...
Next >
Our Markets
The Rock Brook Consulting Group provides a comprehensive range of services... 
```

但我只需要这个

```
Our Markets
The Rock Brook Consulting Group provides a comprehensive range of services... 
```

请帮忙 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:49:23.887

如果您想隐藏这些东西，只需从文章管理器中隐藏它们。为此，请转到`article manager->options->disable`您不想在文章中显示的选项并保存它。

有关更多信息，请参阅此链接：

[Help25：内容文章管理器选项](http://docs.joomla.org/Help25%3aContent_Article_Manager_Options)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:01:50.527

或者您可以仅针对特定文章删除它。当您编辑文章时，单击“文章选项”（右侧面板）并更改您感兴趣的选项。它将覆盖（文章管理器->选项->禁用）选择的选项

# javascript - HTML5 音频 Javascript 循环但

> ID：14457710
> 
> 赞同：0
> 
> 时间：2013-01-22T11:40:24.087
> 
> 标签：javascript, html, loops, audio

```
function nextSong() {
    var v30 = 1;
    var v07 = 1;
    var v......[continues]
    var audioPlayer = document.getElementsByTagName('audio')[0];
    if (v07 == '1') {
        audioPlayer.src='wavs/1507.mp3';
        audioPlayer.load();
        audioPlayer.play();
    }
    if (v30 == '1') {
        audioPlayer.src='wavs/1530.mp3';
        audioPlayer.load();
        audioPlayer.play();            
    }
    if (......[continues]
} 
```

当前的配置播放和循环播放“1530.mp3”，它不应该也播放和循环播放“1507.mp3”吗？我愿意接受任何新的方法，比如数组，我认为这是一个更好的选择。只是不太确定该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:44:17.770

```
audioPlayer.src='wavs/1507.mp3';
audioPlayer.src='wavs/1530.mp3'; 
```

您在同一元素上设置了两次源，这将导致它只播放第二个源 (1530.mp3)，因为它会覆盖第一个源 (1507.mp3)。

您需要两个音频元素来播放两个文件。

# android - Android：监听变量变化

> ID：14457711
> 
> 赞同：39
> 
> 时间：2013-01-22T11:40:31.173
> 
> 标签：android, variables, interface, listener

我一直在寻找如何做到这一点的 KISS 示例，虽然它们看起来（而且我已经全部完成了！）很简单，但我仍然无法理解这个概念。我指的是自定义侦听器（不扩展任何东西的侦听器）...特别是为布尔变量创建一个侦听器，以便我可以在其值更改时触发一些方法。

这是我尝试过的一个例子： [android how to make listener to a custom variable?](https://stackoverflow.com/questions/9879780/android-how-to-make-listener-to-a-custom-variable)

如果有人有时间用简单的英语解释自定义侦听器及其工作原理，那将不胜感激。我希望一旦我确切地了解了监听器是如何被通知更改的，那么我将能够创建自己的并了解该死的东西是如何工作的。这让我头疼......提前谢谢

这是我现在的位置：

```
public class ChangeListener {
    boolean boo = false;

    public ChangeListener(boolean b){
        boo = b;
    }

    private listener l = null;

    public interface listener{
        public void onChange(boolean b);
    }

    public void setChangeListener(listener mListener){
        l = mListener;
    }

    public void somethingChanged(){
        if(l != null){
            l.onChange(boo);
        }
    }

} 
```

这是我的主要活动的快照：

```
public class Main extends Activity implements ChangeListener.listener{
    private ChangeListener listener;
    private boolean boo = false;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        listener = new ChangeListener(boo);
        listener.setChangeListener(this);
        listener.somethingChanged();

    }

    @Override
    public void onChange(boolean b) {
        // TODO Auto-generated method stub
        Toast.makeText(this, "REST = "+b, Toast.LENGTH_SHORT).show();
    }

} 
```

现在，当 Activity 开始时，Toast 会显示 boo 的状态……太棒了。问题是这只发生在 onCreate 中，这是有道理的，因为 .somethingChanged 被放置在那里。我想要的是每次 boo 从 false 更改为 true 以及 true 更改为 false 时生成 Toast，无论它是否在 onCreate 内。IE：

*   单击一个按钮
*   导致 boo 从 false 变为 true
*   侦听器接收更改并运行 onChange 中的任何内容

我知道我可以只使用按钮 actionListener 来做到这一点，但如果可能的话，我想远离这个，目前我开始认为这是不可能的。

任何见解将不胜感激。提前致谢！

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2016-08-18T00:41:35.963

您将变量包装在自定义类中，这样唯一的访问函数也会触发侦听器。因此，翻转开关的唯一方法是通过切换和调用侦听器的函数。

```
public class BooVariable {
    private boolean boo = false;
    private ChangeListener listener;

    public boolean isBoo() {
        return boo;
    }

    public void setBoo(boolean boo) {
        this.boo = boo;
        if (listener != null) listener.onChange();
    }

    public ChangeListener getListener() {
        return listener;
    }

    public void setListener(ChangeListener listener) {
        this.listener = listener;
    }

    public interface ChangeListener {
        void onChange();
    }
} 
```

要监视更改，您需要实现 BooVariable.ChangeListener，然后将“this”的副本传递给 BooVariable 类，然后当您更改它调用 onChange 的变量时。

另外，请记住，您可以只内联代码而不是直接扩展：

```
BooVariable bv = new BooVariable();
bv.setListener(new BooVariable.ChangeListener() {
    @Override
    public void onChange() {
        Toast.makeText(MainActivity.this,"blah", Toast.LENGTH_LONG).show();
     }
}); 
```

PS。toast 必须从 UI 线程调用，因此如果要在不同线程中更改变量，则需要切换 Looper。不过，这可能不会出现。

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2020-02-15T19:57:53.107

现在有一个更简单的解决方案。只需将变量包装在[LiveData](https://developer.android.com/topic/libraries/architecture/livedata)中，特别是 MutableLiveData。

**Java版**

```
MutableLiveData<String> listen = new MutableLiveData<>();

listen.setValue("Changed value"); //Initilize with a value

listen.observe(context,new Observer<String>() {
    @Override
    public void onChanged(String changedValue) {
        //Do something with the changed value
    }
}); 
```

**Kotlin 版本**

```
val listen : MutableLiveData<String> =  MutableLiveData<>()

listen.setValue("Changed value") //Initilize with a value

listen.observe(context, Observer {

    //Do something with the changed value -> it

}) 
```

# php - 仅在选中复选框时提交多个表单

> ID：14457712
> 
> 赞同：1
> 
> 时间：2013-01-22T11:40:44.183
> 
> 标签：php, javascript, checkbox, form-submit, checked

我尝试根据复选框的状态将多个表单提交到不同的位置。javascript 应该检查复选框并提交表单，但我无法让它工作。

```
 <script type="text/javascript" charset="utf-8">
        function checkSubmit() {
            var frm1 = document.getElementById("optin1");
            var frm2 = document.getElementById("optin2");
            var frm3 = document.getElementById("optin3");
            var chkbox1 = document.getElementById("c1");
            var chkbox2 = document.getElementById("c2");
            var chkbox3 = document.getElementById("c3");
                if (chkbox1.checked === true) {
                    frm1.submit();
                        }
                else // it is not checked, dont submit form
                        {
                        return false;
                        }
                if (chkbox2.checked === true) {
                    frm2.submit();
                        }
                else // it is not checked, dont submit form
                        {
                        return false;
                        }
                if (chkbox3.checked === true) {
                    frm3.submit();
                        }
                else // it is not checked, dont submit form
                        {
                        return false;
                        }
setTimeout(function() {
window.location = 'http://url.com/index.php';
}, 1350);
    }
    </script> 
```

这里的html表单：

```
 <form id="optin1" name="f1" method="post" action="file1.php" target="iframe1">
    <input type="checkbox" id="c1" name="cc" value="" checked="checked">
    <label for="c1"><span></span><strong>YES, I'd love to join!</strong></label>
    <input name="email" type="hidden" value="<?=$_GET[email];?>"></form>

    <form id="optin2" name="f2" method="post" action="file2.php" target="iframe2">
    <input type="checkbox" id="c2" name="cc" value="" checked="checked">
    <label for="c2"><span></span><strong>YES, I'd love to join!</strong></label>
    <input name="email" type="hidden" value="<?=$_GET[email];?>">
    <input name="name" type="hidden" value="Newsletter"></form>

    <form id="optin3" name="f3" method="post" action="http://www.url.com" target="iframe3">
    <input type="checkbox" id="c3" name="cc" value="" checked="checked">
    <label for="c3"><span></span><strong>YES, I"d love to join!</strong></label>
    <input id="txtEmail1" class="field" name="txtEmail1" value="<?=$_GET[email];?>" type="hidden">
    <input type="hidden" value="18" name="webID">
    <input type="hidden" value="20" name="usd">
    <input type="hidden" value="25" name="lsvalue">
    <input type="hidden" value="http://url.com/thanks" name="thanxurl">
    <input type="hidden" value="http://url.com/confirm" name="confirmationurl"></form>
    <form name="Submit">
    <input name="btn1" type="image" onClick="checkSubmit()" src="images.jpg" align="left" /> 
    </form>
<iframe name="iframe1" style="display:none"></iframe>
<iframe name="iframe2" style="display:none"></iframe>
<iframe name="iframe3" style="display:none"></iframe> 
```

提交表单时，仅提交第一个表单。怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:00:26.170

简单地返回`false`不是*阻止*表单在 JavaScript 中提交的方法。这只是我从不告诉人们在*不了解*JS 事件如何工作的情况下使用 jQuery 的原因之一。一个非常好的网站，阅读 JS 事件是很好的 'ol [quirksmode](http://www.quirksmode.org)。

当您编写的 jQuery 处理程序返回 false 时，事件将停止，*并且*不会冒泡或进一步传播。但是，当您在本机 JS 中返回 false 时，事件仍然会传播，并且在这种情况下，它的默认行为是提交表单。
查看有关 quirksmode 的一些文章以获取完整说明，但现在，请替换`return false`为：

```
var e = arguments[0] || window.event;//quirksmode will tell you what this means
//instead of return false:
if (e.preventDefault)
{
    e.preventDefault();//clue is in the method's name
    e.stopPropagation();
}
e.returnValue = false;//this is for IE<9
e.cancleBubble = true;
return false; 
```

如您所见，您需要做几件事来阻止表单提交。当然，人们常说开发者必须*“聪明懒惰”*，所以我经常扩充`Event.prototype`并添加一个 X-browser 方法来做到这一点。[我已经在此处添加了该代码](https://stackoverflow.com/questions/10617014/javascript-event-prototype-in-ie8)，这是公认的答案。

*更新：*
查看您的小提琴后，我在*chromium*上对其进行了测试后将其[分叉](http://jsfiddle.net/CEbpZ/)，我发现它可以正常工作。 我确实觉得最好将*所有*复选框包装到一个表单中，然后提交该表单：未选中的复选框不会发送到服务器。它仍然是最安全的方式：有些人仍然禁用 JS。 更重要的是，您的 HTML 看起来好像是一个时事通讯，即通过邮件发送：请注意您不能在电子邮件中使用 JavaScript。此外，您（不小心）粘贴了一行 php 代码：

 **```
<? if ($_GET[email]) { ?> 
```

您正在使用短标签，也许您已经知道这一点，但是短标签已被弃用，并且将在不久的将来某处被删除，您可以使用的唯一标签*是*完整`<?php`标签和短 echo-tag: `<?=`。

无论如何，在你的情况下，我会按照以下方式编写我的 html：

```
<form method='POST' action='someScript.php'>
    <h3>George Hamilton: IM Newsletter for Professionals (AWEBER)</h3>
    <p>
        <a href="http://getfirefox.com/"><img src="images/man1.jpg" width="100" height="121" alt=""  class="float-left" /></a>
        Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec libero. Suspendisse bibendum. Cras id urna. Morbi tincidunt, orci ac convallis aliquam,...
    </p>
    <p>
        <input type="checkbox" id="c1" name="cc" value="" checked="checked">
        <label for="c1">
            <span></span><strong>YES, I'd love to join!</strong>
        </label>
        <input name="email" type="hidden" value="<?=$_GET[email];?>">
    </p>
    <h3>Another checkbox</h3>
    <p>
        <a href="http://getfirefox.com/"><img src="images/man1.jpg" width="100" height="121" alt=""  class="float-left" /></a>
        Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec libero. Suspendisse bibendum. Cras id urna. Morbi tincidunt, orci ac convallis aliquam,...
    </p>
    <p>
        <input type="checkbox" id="c2" name="cc2" value="" checked="checked">
        <label for="c2">
            <span></span><strong>YES, I'd love to join!</strong>
        </label>
    </p>
    <!-- @the end of the checkboxes -->
    <input type="submit" value="sumbit image" id="foobar"/>
</form> 
```

在这种情况下，根本不需要 JS 验证脚本。所有选中的复选框*都*将发送到服务器。但是，您必须确保它们的名称属性是唯一的……这种方法有两个主要好处：您不必为每个复选框都包含一个隐藏的电子邮件字段（一个就足够了，因为我们只有一个表单) 而且，正如我之前所说，您不必依赖 JS 来提交表单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T12:05:57.517

尝试在 Chrome/Firefox 中执行 url 并从 firebug 进行调试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:51:36.247

您的 javascript 函数应如下所示：

```
 function checkSubmit() {
        var frm1 = document.getElementById("optin1");
        var frm2 = document.getElementById("optin2");
        var frm3 = document.getElementById("optin3");
        var chkbox1 = document.getElementById("c1");
        var chkbox2 = document.getElementById("c2");
        var chkbox3 = document.getElementById("c3");
            if (chkbox1.checked === true) {
               frm1.submit();
                    }

           else if (chkbox2.checked === true) {
              frm2.submit();
                    }

           else if (chkbox3.checked === true) {
              frm3.submit();
                    }
      else {
        return false;
      }   
  setTimeout(function() {
   window.location = 'http://url.com/index.php';
  }, 1350);
 }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T11:43:38.040

主要问题是你的`else`条件。如果未选中第一个复选框，则 you`return false`将立即退出函数并导致其他`if`语句根本不执行。

您需要修改您的代码，以便仅`return`在未选中*任何*复选框的情况下（或者总是在这些`if`语句之后返回，这可能无关紧要）。**

# java - 使用 Struts2 jQuery 插件填充对话框内的下拉列表

> ID：14457713
> 
> 赞同：2
> 
> 时间：2013-01-22T11:40:46.640
> 
> 标签：java, json, jsp, struts2, struts2-jquery

我有一个对话框，我必须从数据库中填充一个下拉列表。我正在使用 struts2-juery-plugins 来实现对话框。这个对话框在某些事件上是打开的。这就是我创建 Dialog 的方式。

```
<sj:dialog 
     id="mybuttondialog"
     href="%{fillUser}"
     buttons="{
            'Assign':function() { approoveButton(); },
            'Deny':function() { denyButton(); }
            }"
     autoOpen="false"
     modal="true"
     title="Assign-Task"
     closeTopics="closeThisDialog">
<label>User</label>
  <select id="userCombo" name="userCombo">
    <s:iterator value="userList">
      <option><s:property value="helper_name" /></option>
    </s:iterator>
  </select>    
</sj:dialog> 
```

我正在调用一个动作来填充下拉列表

```
<s:url var="fillUser" action="getAllUsers" /> 
```

但是列表没有填充，**对话框**填充了**jsonData**，如下所示

```
{"helpDeskUsers":"success","userList":
[{"departments":null,"helper_name":"arvin","helper_value":null,"user_level":null},
{"departments":null,"helper_name":"anand","helper_value":null,"user_level":null},
{"departments":null,"helper_name":"Nehal","helper_value":null,"user_level":null}, 
```

为什么列表没有填充，而是整个 Dailog 都填充了上述数据。任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:54:54.697

该`<select`标签不适用于 json 列表，您应该使用类似

```
<s:url var="fillUser" action="getAllUsers" />
<sj:select
  id="userjson"
  name="users"
  href="%{fillUser}"
  list="userList"
  listValue="helper_name"
  listKey="helper_name" 
```

# python - 如何在 WSGI-Python 中选择 HTML 表单上的多个选项

> ID：14457715
> 
> 赞同：0
> 
> 时间：2013-01-22T11:40:57.950
> 
> 标签：python, wsgi

我需要从 WSGI 中的 python 代码的 HTML 下拉列表中选择多个选项，

以下是我的html表单，

```
 <form method=post>
    Please select names
    <select multiple="multiple" name="names" />
        <option>Name1</option>
        <option>Name2</option>
        <option>Name3</option>
    </select>
    <br />
    <input type='submit' name=operation value='Next' />
</form> 
```

以下是 WSGI 的代码片段，

```
if 'POST' == environ['REQUEST_METHOD'] :
try :
    request_body_size = int(environ.get('CONTENT_LENGTH', 0))
except:
    request_body_size = 0

request_body = environ['wsgi.input'].read(request_body_size)
query_dictionary = urlparse.parse_qs(request_body)
params = {}
for k, v in query_dictionary.iteritems() :
    if k <> 'json' :
        params[k] = v[0]

retailers = params.get('retailers', '') 
```

但我的问题是当我在 HTML 表单中选择多个选项时，“名称”变量只有一个选项。如何将所有选定的选项获取到 python 脚本？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T13:02:59.957

我想我找到了一个解决方案（不是一个直截了当的解决方案）。

在 query_dictionary dic 中，名单即将到来，唯一要做的就是，

```
 for k, v in query_dictionary.iteritems() :
    if k <> 'json' :
        if k =="names":
            names = v
        params[k] = v[0]
    params["names"] = names 
```

之后遍历名称列表

# java - Hibernate 3.6.10 不会通过 OneToMany JoinTable 级联删除

> ID：14457716
> 
> 赞同：3
> 
> 时间：2013-01-22T11:41:09.407
> 
> 标签：java, hibernate, postgresql, jpa

我一直在搞砸这个并在谷歌上搜索了大约 4 天，我对 Hibernate 注释如何与 JPA 注释一起工作感到疯狂。我有两个非常简单的实体：

**学生**

```
package com.vaannila.student;

import java.util.HashSet;
import java.util.Set;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.JoinTable;
import javax.persistence.OneToMany;

import org.hibernate.annotations.Cascade;
import org.hibernate.annotations.CascadeType;

@Entity
public class Student {

    @Id
    @GeneratedValue
    private long studentId;
    private String studentName;
    @OneToMany(orphanRemoval = true)
    @Cascade(CascadeType.ALL)
    @JoinTable(name = "STUDENT_PHONE", joinColumns = { @JoinColumn(name = "STUDENT_ID") }, inverseJoinColumns = { @JoinColumn(name = "PHONE_ID") })
    private Set<Phone> studentPhoneNumbers = new HashSet<Phone>(0);

    public Student() {
    }

    public Student(String studentName, Set<Phone> studentPhoneNumbers) {
        this.studentName = studentName;
        this.studentPhoneNumbers = studentPhoneNumbers;
    }

    public long getStudentId() {
        return this.studentId;
    }

    public void setStudentId(long studentId) {
        this.studentId = studentId;
    }

    public String getStudentName() {
        return this.studentName;
    }

    public void setStudentName(String studentName) {
        this.studentName = studentName;
    }

    public Set<Phone> getStudentPhoneNumbers() {
        return this.studentPhoneNumbers;
    }

    public void setStudentPhoneNumbers(Set<Phone> studentPhoneNumbers) {
        this.studentPhoneNumbers = studentPhoneNumbers;
    }

    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        result = prime * result + (int) (studentId ^ (studentId >>> 32));
        result = prime * result + ((studentName == null) ? 0 : studentName.hashCode());
        result = prime * result + ((studentPhoneNumbers == null) ? 0 : studentPhoneNumbers.hashCode());
        return result;
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null) return false;
        if (getClass() != obj.getClass()) return false;
        Student other = (Student) obj;
        if (studentId != other.studentId) return false;
        if (studentName == null) {
            if (other.studentName != null) return false;
        }
        else if (!studentName.equals(other.studentName)) return false;
        if (studentPhoneNumbers == null) {
            if (other.studentPhoneNumbers != null) return false;
        }
        else if (!studentPhoneNumbers.equals(other.studentPhoneNumbers)) return false;
        return true;
    }

} 
```

**电话**

```
package com.vaannila.student;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

@Entity
public class Phone {

    @Id
    @GeneratedValue
    private long phoneId;
    private String phoneType;
    private String phoneNumber;

    public Phone() {
    }

    public Phone(String phoneType, String phoneNumber) {
        this.phoneType = phoneType;
        this.phoneNumber = phoneNumber;
    }

    public long getPhoneId() {
        return this.phoneId;
    }

    public void setPhoneId(long phoneId) {
        this.phoneId = phoneId;
    }

    public String getPhoneType() {
        return this.phoneType;
    }

    public void setPhoneType(String phoneType) {
        this.phoneType = phoneType;
    }

    public String getPhoneNumber() {
        return this.phoneNumber;
    }

    public void setPhoneNumber(String phoneNumber) {
        this.phoneNumber = phoneNumber;
    }

    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        result = prime * result + (int) (phoneId ^ (phoneId >>> 32));
        result = prime * result + ((phoneNumber == null) ? 0 : phoneNumber.hashCode());
        result = prime * result + ((phoneType == null) ? 0 : phoneType.hashCode());
        return result;
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null) return false;
        if (getClass() != obj.getClass()) return false;
        Phone other = (Phone) obj;
        if (phoneId != other.phoneId) return false;
        if (phoneNumber == null) {
            if (other.phoneNumber != null) return false;
        }
        else if (!phoneNumber.equals(other.phoneNumber)) return false;
        if (phoneType == null) {
            if (other.phoneType != null) return false;
        }
        else if (!phoneType.equals(other.phoneType)) return false;
        return true;
    }

} 
```

我在这里粘贴了整个代码，这样你就可以看到导入的来源。我认为问题就在那里。**重要提示**：我使用的`JoinTable`是 Hibernate Docs 推荐的

行！现在我用两个电话号码创建一个`Student`并将其正确保存在数据库中。这将创建以下内容：

**学生**

```
 studentid | studentname
-----------+-------------
         2 | foo
(1 rows) 
```

**学生电话**

```
 student_id | phone_id
------------+---------
          2 |        3
          2 |        4
(2 rows) 
```

**电话**

```
 phoneid | phonenumber | phonetyp
---------+-------------+---------
       4 | 9889343423  | mobile
       3 | 32354353    | house
(2 rows) 
```

问题来了。如果我删除客户端中的一个电话号码（手机）并将分离的学生实体发送到服务器并执行更新，则休眠到以下内容：

```
Hibernate: update Student set studentName=? where studentId=?
Hibernate: update Phone set phoneNumber=?, phoneType=? where phoneId=?
Hibernate: delete from STUDENT_PHONE where STUDENT_ID=?
Hibernate: insert into STUDENT_PHONE (STUDENT_ID, PHONE_ID) values (?, ?) 
```

如您所见，它只是删除了联接表中的条目，但并未删除电话表中的电话条目本身。所以现在表格看起来像这样：

**学生**

```
 studentid | studentname
-----------+-------------
         2 | foo
(1 rows) 
```

**学生电话**

```
 student_id | phone_id
------------+---------
          2 |        3
(1 rows) 
```

**电话**

```
 phoneid | phonenumber | phonetyp
---------+-------------+---------
       4 | 9889343423  | mobile
       3 | 32354353    | house
(2 rows) 
```

问题：**这是正常行为吗？即使级联删除和孤立删除设置为真？我怎样才能实现休眠也删除电话表中的电话号码？**

**更新**我正在使用 PostgreSQL

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T10:03:19.223

在与 Hibernate 进一步合作后，我终于意识到我没有正确实现，`equals`并且`hashCode`函数在 CRUD 操作上导致 Hibernate Generated Sequence 出现一些问题。[这篇很棒的文章](http://onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html)描述（并解决了）这个问题（我认为必须阅读）

最好的祝福

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-05T18:51:27.110

这看起来非常相似

[http://www.mkyong.com/hibernate/cascade-jpa-hibernate-annotation-common-mistake/](http://www.mkyong.com/hibernate/cascade-jpa-hibernate-annotation-common-mistake/)

您正在混合 JPA 和休眠注释。我会坚持使用一个（最好是 JPA，但博客文章坚持使用休眠）并以这种方式建立关系：

```
@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true) 
```

# python - 我可以从 python 发出信号吗？

> ID：14457723
> 
> 赞同：12
> 
> 时间：2013-01-22T11:41:19.880
> 
> 标签：python, signals, ipc

该主题基本上告诉我想要什么。

我阅读了文档，它告诉我如何处理信号，但没有告诉我如何自己做信号。

谢谢！

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-01-22T11:43:52.677

使用[`os.kill`](http://docs.python.org/3/library/os.html#os.kill). 例如，要发送`SIGUSR1`到您自己的进程，请使用

```
import os,signal
os.kill(os.getpid(), signal.SIGUSR1) 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-01-22T11:46:11.567

您可以使用该`os.kill`方法。从 Python 2.7 开始，它应该可以在 Unix 和 Windows 上工作（我自己没有测试过），尽管它需要使用不同的参数来调用：

```
import os, signal

os.kill(pid, signal.SIGHUP) # Unix version only... 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2021-11-11T15:23:38.157

直接使用`signal`包（*版本 3.8 中的新功能*）。例如：

```
import signal
signal.raise_signal( signal.SIGINT ) 
```

* * *

参考：[https ://docs.python.org/3/library/signal.html#signal.raise_signal](https://docs.python.org/3/library/signal.html#signal.raise_signal)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-07-01T11:03:22.300

只是提出一种不同的方法，如果它在 Windows 上：

```
import ctypes
ucrtbase = ctypes.CDLL('ucrtbase')
c_raise = ucrtbase['raise']
c_raise(some_signal) 
```

'some_signal' 可以是任何信号编号，例如`signal.SIGINT`.

# c++ - 为什么 Q_FOREACH 宏可能会破坏 VS2010 智能感知？

> ID：14457724
> 
> 赞同：7
> 
> 时间：2013-01-22T11:41:20.743
> 
> 标签：c++, visual-studio-2010, qt, macros, intellisense

我在 VS2010 中有一个带有 Qt 4.7.4 的 c++ 项目，我经常遇到 IntelliSense 问题（就像我们都做的那样......）。一个特定的问题是有时无法找到函数体（在 .cpp 文件中）。如果我单击该函数体，下拉框（通常显示您所在的函数）为空。

今天，我在添加一条`foreach()`语句（Qt 宏 Q_FOREACH）后立即注意到了这种行为。然后我用相应的宏替换了 foreach() 宏，`for(int i = 0; i < ...)`IntelliSense*立即*再次显示了该函数。

所以我想知道：

1.  有人可以验证这种行为并在评论中告诉我吗？
2.  *为什么*会这样？
3.  是否有让我继续使用 Q_FOREACH 的解决方法？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-02-07T07:58:31.433

您必须使用“cpp.hint”文件的概念。

基本上，您必须将麻烦的宏放入名为“cpp.hint”的文件中，并将该文件放入您的解决方案目录（这对我不起作用 - 可能是非标准项目布局）或您的代码所在的父目录文件驻留。（为我工作）

在该文件中，您只需将麻烦的宏放在右侧，因此在您的情况下：

```
#define foreach() 
```

或者更好

```
#define Q_FOREACH(variable, container)
#define foreach(...)
etc. 
```

注意，在将定义放入 cpp.hint 文件后，您可能必须重新扫描或重新启动或摆弄一个功能才能设置效果。

**更新**：确实，我刚刚发现，我必须对 .cpp 文件进行一些更改（例如添加新行）才能生效。修复不会自动应用。

原始链接是：http: [//msdn.microsoft.com/en-us/library/dd997977.aspx](http://msdn.microsoft.com/en-us/library/dd997977.aspx)

问题的原因是，如果 Intellisense 必须解析项目中的所有宏，它的性能会（可能）显着下降，因此它只解析在“cpp.hint”中明确给出的那些。

微软原文说你可以使用“从源文件的根目录到包含源文件本身的目录的路径”中的任何目录。在典型的Visual C++项目中，根目录包含解决方案或项目文件。 "

您可以在“C:\Program Files (x86)\Microsoft Visual Studio 12.0\VC\vcpackages”中找到主“cpp.hint”文件以供参考

# c# - 控制台应用程序多实例化

> ID：14457730
> 
> 赞同：1
> 
> 时间：2013-01-22T11:41:34.360
> 
> 标签：c#

我有一个用 c# 构建的控制台应用程序。我在 Windows 中按小时和分钟的频率安排了这个 exe。当两个实例/计划同时触发时，它会给出异常消息。

如何在我的控制台应用程序中启用多个实例化属性？真的，卡在里面出不来了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:52:07.933

问题的答案是，您无需执行任何特定操作即可启用多个实例化。

如果出现异常，则表明存在共享资源问题，例如同时 IO。

但是，您可以编写代码来“防止”多个实例。请参阅这个[SO](https://stackoverflow.com/questions/93989/prevent-multiple-instances-of-a-given-app-in-net)问题。所以检查代码是否包含类似的东西。

# c# - 删除行失败，“指定的索引不存在”

> ID：14457731
> 
> 赞同：2
> 
> 时间：2013-01-22T11:41:38.763
> 
> 标签：c#, sql-server-ce

我想做一个非常简单的删除语句：

```
DELETE FROM appliances WHERE (id = 7) 
```

但我总是得到这个错误：

```
DELETE FROM appliances WHERE (id = 7)
Fehlerquelle: SQL Server Compact ADO.NET Data Provider
Fehlermeldung: Der angegebene Index ist nicht vorhanden. [ PK_analog_config ] 
```

用英文翻译的错误文本说：

```
The given index doesn't exsists. [ PK_analog_config ] 
```

餐桌用具：

```
id int not null primary key,
name NVarChar(20) not null,
status NVarChar(100) null,
location NVarChar(100) not null,
port int not null, 
```

（没有外键或索引）

表analog_config：主键是id（来自设备）和名称的组合。所以 id 也是指向 Appliance.id 的外键（在删除 CASCADE 时）。

```
appliance_id int not null primary key,
value_name NVarChar(20) not null primary key,
access_rights NVachar(2) not null,
min_value numeric(18,2) not null,
max_value numeric(18,2) not null,
unit nvarchar(20) not null,

fk_analog_values_appliances: 
PK-table= appliances (id)
FK-table= analog_config (appliance_id)
ON UPDATE CASCADE
ON DELETE CASCADE 
```

我不明白错误信息。他们指的是哪个指数？在analog_config 表中没有数据。

谁能帮我？

# objective-c - 为什么 setTitleTextAttributes 没有在手册中列为 UITabBar 属性之一？

> ID：14457734
> 
> 赞同：1
> 
> 时间：2013-01-22T11:42:03.103
> 
> 标签：objective-c, uitabbar

我知道我们可以`setTitleTextAttributes`反对`UITabBar`

它不会出现在任何地方：

[http://developer.apple.com/library/ios/#documentation/uikit/reference/UITabBar_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITabBar_Class/Reference/Reference.html)

我在哪里可以看到我们可以发送到`UITabBar`以自定义其外观的选择器的完整列表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:51:24.517

它是声明自定义标题外观的所有方法的 UITabBarItem，而不是 UITabBar。

设置标题位置的方法在 UITabBarItem 中声明：http: [//developer.apple.com/library/ios/#documentation/uikit/reference/UITabBarItem_Class/Reference/Reference.html#//apple_ref/occ/cl/ UITabBarItem](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITabBarItem_Class/Reference/Reference.html#//apple_ref/occ/cl/UITabBarItem)

自定义标题外观的方法在 UIBarItem（UITabBarItem 继承自）中声明：http: [//developer.apple.com/library/ios/#documentation/uikit/reference/UIBarItem_Class/Reference/Reference.html#//apple_ref/ occ/cl/UIBarItem](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIBarItem_Class/Reference/Reference.html#//apple_ref/occ/cl/UIBarItem)

您可以通过标签栏的“项目”属性访问一系列标签栏项目。

# mysql - sql：如何使用连接查询一一取值？

> ID：14457737
> 
> 赞同：0
> 
> 时间：2013-01-22T11:42:13.167
> 
> 标签：mysql, sql

我的查询：

```
select  b.*,a.`USA`as fd_lat,b.`UK` as fd_lot  
from fdusa a 
join incident_uk b 
   on a.`FBI`=b.`FBI` 
   and b.STATE='MD' 
limit 0,5 
```

我有一个列名`INC_KEY`，

当限制为 0,5 时。单个结果显示 5 次。显示相同的事件键。

如何将查询更改为剩余值的不同事件键。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T13:20:46.450

我怀疑那里的 JOIN 操作会产生多个类似的结果。如果你加入 2 张桌子

```
A   B
------
1   10
2   25
3   40

A   C 
------
1   x 
1   x
2   z 
```

你会得到

```
A B C 
-------
1 10 x
1 10 x
2 25 z 
```

一个快速的解决方法是在你的 SELECT 子句中使用 DISTINCT，即

```
SELECT DISTINCT b.*,a.`USA`as fd_lat,b.`UK` as fd_lot 
```

如果这不适合您，您可以随时 GROUP BY 事件键并从那里获取它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T14:27:36.933

简单的答案是按其他键或可能随机对结果进行排序。将`order by`子句放在`limit`:

```
order by rand() 
```

将它们按随机顺序排列。但是，不能保证它们会有所不同。

第二种方法是使用`group by`为不同的事件键获取不同的值。以下*情况*在 MySQL 中大部分时间都有效，但不能保证：

```
select  b.*,a.`USA`as fd_lat,b.`UK` as fd_lot  
from fdusa a 
join incident_uk b 
   on a.`FBI`=b.`FBI` 
   and b.STATE='MD'
group by inc_key
limit 0,5 
```

这将返回每个 inc_key 一行（因为`group by`）。其余列是从具有相同 inc_key 值的行中任意选择的。在实践中，似乎来自第一行，尽管文档明确指出这不能保证。也不能保证它们来自同一行。

# ruby-on-rails - AWS 实例运行时间

> ID：14457738
> 
> 赞同：2
> 
> 时间：2013-01-22T11:42:13.657
> 
> 标签：ruby-on-rails, linux, amazon-web-services, amazon-ec2

有什么方法可以找到（使用 Ruby）AWS Instance 在过去 30 天内运行的总时间，以及该时间的总成本。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T15:09:10.953

如果您想更好地关注在 AWS 中运行的成本，您有一个相当新的选项来以编程方式访问您的账单信息。

您可以设置一个 S3 存储桶，用于每隔几个小时上传一份 CSV 格式的详细账单信息。然后，您可以访问这些 CSV 文件并分析您在 EC2、RDS、DynamoDB 等不同部分的成本。

它为您提供了一个更好的解决方案，用于检查单个实例之外的成本状态。您可以使用 Ruby SDK 访问 S3 中的账单信息文件。

在此处查看更多详细信息：http: [//docs.aws.amazon.com/awsaccountbilling/latest/about/programaccess.html](http://docs.aws.amazon.com/awsaccountbilling/latest/about/programaccess.html)

请注意，您还可以定义基于计费的 CloudWatch 警报。

例如，您可以定义您的预期成本并在达到 50%、80% 和超出预期时收到通知。

在此处查看更多详细信息：http: [//docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/ListMetricsExample.html](http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/ListMetricsExample.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:47:53.277

您可以使用此处找到的 AWS Ruby 开发工具包：[https ://github.com/aws/aws-sdk-ruby](https://github.com/aws/aws-sdk-ruby)

有关于如何使用 SDK 的文档：http: [//docs.aws.amazon.com/AWSRubySDK/latest/frames.html](http://docs.aws.amazon.com/AWSRubySDK/latest/frames.html)

在文档中 - [http://docs.aws.amazon.com/AWSRubySDK/latest/AWS/EC2/Instance.html](http://docs.aws.amazon.com/AWSRubySDK/latest/AWS/EC2/Instance.html)对于 EC2 实例，您可以获得实例启动时间。然后，您可以根据您所在的区域计算出实例运行了多长时间以及基于实例类型的成本（开发工具包也返回）

**更新**

根据评论，还有使用 3rd 方成本监控工具的选项，例如：

*   [可云性](https://cloudability.com)
*   [云检查器](http://www.cloudcheckr.com)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-26T19:30:32.970

全面披露：我是 Cloudability 的一名工程师，但我们有一个 EC2 分析产品，可以跟踪实例正常运行时间以及利用率和许多其他指标。

如果您有兴趣，请提供一些信息：

[http://blog.cloudability.com/ghost-devops-past/](http://blog.cloudability.com/ghost-devops-past/)

[https://cloudability.com/features/](https://cloudability.com/features/)

# c# - HMACSHA1 SSL 问题

> ID：14457741
> 
> 赞同：5
> 
> 时间：2013-01-22T11:42:26.657
> 
> 标签：c#, asp.net, ssl, sha1, hmac

我有以下代码，它从密码创建哈希，然后将其与数据库中存储的哈希密码进行比较。通过 http 一切正常。这适用于在 c# 4.0 下运行的 asp.net webforms 应用程序

```
HMACSHA1 hash = new HMACSHA1();
hash.Key = Encoding.Unicode.GetBytes(password);
encodedPassword = Convert.ToBase64String(hash.ComputeHash(Encoding.Unicode.GetBytes(password))); 
```

但是，在 https/ssl 上运行时，编码密码不同，因此用户无法登录。

.net 框架在通过 SSL 计算哈希时会做不同的事情吗？

如果我单步执行代码并复制编码的密码并更新我的数据库，那么我可以通过 SSL 登录。

有任何想法吗？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T14:34:40.890

[请尝试按照 MSDN 文章http://msdn.microsoft.com/en-CA/library/39d1w2xf%28v=vs.100%29.aspx](http://msdn.microsoft.com/en-CA/library/39d1w2xf%28v=vs.100%29.aspx)中的定义设置全球化设置

这将确保 hash.key 在您的应用程序中是统一的，这反过来又将确保计算的哈希值在每次使用密钥计算时都是相同的。

# php - PHP 参考无效

> ID：14457742
> 
> 赞同：0
> 
> 时间：2013-01-22T11:42:32.790
> 
> 标签：php, reference

我想引用数组中的对象，以便以后更改它。在这种情况下，我正在增加特定用户的分数：

```
$guessing_user;
foreach($this->UUID_users[$UUID] as &$othr_user){
    if($othr_user['user_object'] == $user){
        $guessing_user=$othr_user;
        break;
    }
}
$guessing_user['score']+=10; 
```

当我在数组中查看原始值（'score'）时，它保持不变。我可能遗漏了一些关于参考的东西。`&`签到`foreach`还不够吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:45:27.130

尝试

```
$guessing_user = &$othr_user; 
```

我认为 PHP 会在您设置`$guessing_user`.

# android - 在框架布局android中隐藏片段

> ID：14457748
> 
> 赞同：0
> 
> 时间：2013-01-22T11:42:49.090
> 
> 标签：android, android-layout, android-fragments, show-hide, android-framelayout

我正在使用框架布局在屏幕的同一部分有多个片段。

所以，我有一个框架布局标签，然后是 XML 中的几个片段标签。所以，我可以看到这些片段的重叠。

我想隐藏除我要显示的片段之外的所有片段。我应该在哪里调用隐藏功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:04:04.897

如果您使用支持库进行片段使用`getSupportFragmentManager().beginTransaction().replace(<resource id for frame layout>, <new fragment>).commit()`

这将用新片段替换附加到此框架布局的所有片段。

# eclipse - Tabris 0.10 的下载链接是否损坏？

> ID：14457754
> 
> 赞同：-1
> 
> 时间：2013-01-22T11:43:14.510
> 
> 标签：eclipse

Tabris 0.10 的下载链接似乎已损坏

[http://download.eclipsesource.com/technology/tabris/downloads/releases/0.10.0/sdk/Tabris-0.10.0-SDK.zip](http://download.eclipsesource.com/technology/tabris/downloads/releases/0.10.0/sdk/Tabris-0.10.0-SDK.zip)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:56:43.730

它可能对您不可用，因为有时需要一些时间才能将文件镜像到所有服务器。

# python - 如何通过python在shell上运行命令

> ID：14457756
> 
> 赞同：21
> 
> 时间：2013-01-22T11:43:29.883
> 
> 标签：python, subprocess

> **可能重复：**
> [在 Python 中调用外部命令](https://stackoverflow.com/questions/89228/calling-an-external-command-in-python)

我想使用 python 在另一个目录中运行命令。

用于此的各种方法是什么，哪种方法最有效？

我想要做的如下，

```
cd dir1
execute some commands
return 
cd dir2
execute some commands 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T11:54:59.650

当然，如果您只想通过 python 在 shell 上运行（简单）命令，您可以通过模块的`system`功能来完成`os`。例如：

```
import os
os.system('touch myfile') 
```

如果您想要更复杂的东西来更好地控制命令的执行，请继续使用`subprocess`此处其他人建议的模块。

如需更多信息，请点击以下链接：

*   [Python 官方文档`os.system()`](http://docs.python.org/2/library/os.html#os.system)
*   [`subprocess`关于模块的 Python 官方文档](http://docs.python.org/2/library/subprocess.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T11:50:51.287

如果您想对调用的 shell 命令进行更多控制（即访问标准输入和/或标准输出管道或异步启动它），您可以使用该`subprocess`模块：

```
import subprocess

p = subprocess.Popen('ls -al', shell=True, stdout=subprocess.PIPE)
stdout, stderr = p.communicate() 
```

另请参阅[`subprocess`模块文档](http://docs.python.org/2/library/subprocess.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T11:44:28.620

```
os.system("/dir/to/executeble/COMMAND") 
```

例如

```
os.system("/usr/bin/ping www.google.com") 
```

如果 ping 程序位于“/usr/bin”

自然需要导入 os 模块。

os.system 不等待任何输出，如果你想要输出，你应该使用

subprocess.call 或类似的东西

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T11:51:18.593

您可以使用[Python Subprocess](http://docs.python.org/2/library/subprocess.html)，它提供了许多模块来执行命令、检查输出和接收错误消息等。

# quickdialog - 滚动 QuickDialog 时 QSelectSection 不保存值

> ID：14457762
> 
> 赞同：2
> 
> 时间：2013-01-22T11:43:49.790
> 
> 标签：quickdialog

我已经为此苦苦挣扎了 3 天。QSelectSection 的文档是类本身，QuickDialog 文档充其量是最小的。

我正在尝试使用 QSelectSection 使用 QuickDialog 框架。我让它适用于大多数控件（在首先深入代码以查看组件如何工作之后），但这个控件打败了我。根据我的理解，以及其他控件的工作方式，这应该将选定的项目值转储到我的控制器中的警报数组中。我想尽可能多地放入 JSON 中，并且仅在可能的情况下使用控制器来存储/提交详细信息。

下面的 JSON 生成对话框和我的多选表单。太棒了，但是由于某种原因，当我将选择部分滚动到屏幕外时，我的值就消失了。当我提交表单时，应用程序看不到我选择的项目。当我尝试使用“controllerAction”来存储这些值时，应用程序就会崩溃。

```
{
  "grouped": true,
  "title": "MyTitle",
  "controllerName": "LOrderViewController",
  "sections": [
    {
      "title": "Notifications",
      "type": "QSelectSection",
      "bind": "selectedItems:alerts",
      "multipleAllowed": true,
      "items": [
        "Email Alerts",
        "App Alerts"
      ],
      "footer": "My Footer text."
    }
...
  ]
} 
```

我错过了什么？我的控制器需要什么代码，如何触发该代码？我最好放弃 QuickDialog 以获得更好的文档，还是坚持使用本机方法？

喜欢 QuickDialog 的概念，但对于我来说这需要很长时间才能学习。

# hover - onmouseover 只是在图像的非透明部分

> ID：14457764
> 
> 赞同：0
> 
> 时间：2013-01-22T11:43:58.393
> 
> 标签：hover, transparency, imagemap, overlapping

我被下面的菜单卡住了。所有网站都需要使用 HTML。

[http://hpics.li/740c57f](http://hpics.li/740c57f)

**什么**：当鼠标放在上面时，我想为所有不同的部分制作一个悬停图像。（活动/品牌/网站/印刷/UI/视频）

**问题**：当我在 png 的透明度上时，图像重叠并且鼠标悬停开始。

**我尝试过的解决方案**：Imagemap 来检测区域，然后将 javascript 代码放入区域内。不起作用。Imagemap 来检测区域，在 AREA 中放置一个 id 并使用带有 .hover(function(). 的单独 JQUERY。不起作用。使用 z-index：不可能，因为总会有一个图像将隐藏在下面。

**问题**：如果我不能使用 ImapeMAP 选择我的区域并使用 CSS 或 JQUERY，我该怎么办？

非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T12:14:34.850

可能为时已晚，但确切的情况实际上可以通过我大约 3 个月前写的课程来解决。它允许您检查您是否在透明区域上，还可以检查透明区域后面的其他元素，这允许重叠多个透明图像并在正确的点从一个图像正确跳转到另一个图像。

[http://www.cw-internetdienste.de/pixelselection/](http://www.cw-internetdienste.de/pixelselection/)

# c# - 加密引擎

> ID：14457765
> 
> 赞同：3
> 
> 时间：2013-01-22T11:43:59.537
> 
> 标签：c#, .net, encryption

现在我正在制作一个将在 C# .Net 中执行常见任务的库。基本上我的目标是 C# 的初学者，以便他们可以从我的库中受益并使用它来最大程度地减少他们遇到的困难。我目前正在向我的库中添加加密功能，并且取得了一些成功。但我的加密标准不是很困难和复杂。以便将来任何黑客都可以闯入并解密重要数据（即密码等）。所以请告诉我如何编写自己的复杂标准来加密密码。该库旨在免费提供给初学者。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T11:47:06.290

我建议您不要编写自己的加密引擎，没有很好的理由，因为已经有很多加密引擎了 - 作为开始，请查看[Enterprise Library](http://msdn.microsoft.com/library/cc467894.aspx)中的加密 API 。它对初学者很友好。

如果您仍然决定自己编写，请查看 Enterprise Library 和其他类似[BouncyCastle](http://www.bouncycastle.org/)的框架，了解其他框架是如何组合在一起的 - 您会学到很多东西，这是尝试和改进现有框架的最佳方式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:51:59.383

当有很多现有的图书馆时，不要去你自己的图书馆。您不会从中受益，也将毫无用处。一句谚语：不要为了喝杯茶而买食堂。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:52:30.233

您可以围绕 .NET 加密方法编写易于使用的包装器。

Aes 示例（我自己的包装器）：

```
using System;
using System.IO;
using System.Security.Cryptography;
using System.Text;

using Synercoding.CodeGuard;

namespace Synercoding.Encryption.Symmetrical
{
    /// <summary>
    /// A class to Encrypt and Decrypt with Rijndael AES encryption
    /// </summary>
    public sealed class AesEncryption : IDisposable
    {
        private byte[] m_salt;
        private RijndaelManaged m_aesAlg = new RijndaelManaged(); // RijndaelManaged object used to encrypt/decrypt the data.

        /// <summary>
        /// Create a new AesEncryption object with the standard salt
        /// </summary>
        public AesEncryption() : this("850nW94vN39iUx") { }

        /// <summary>
        /// Create a new AesEncryption object with the specified salt
        /// </summary>
        /// <param name="salt">The salt used for salting the key. Must be atleast 8 chars long</param>
        public AesEncryption(string salt)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(salt), "param salt can't be null or empty.");
            Guard.Requires<ArgumentException>(salt.Length >= 8, "param salt must be atleast 8 chars long.");
            m_salt = Encoding.ASCII.GetBytes(salt);
        }

        /// <summary>
        /// The salt in ASCII string format
        /// </summary>
        public string SaltString
        {
            get
            {
                return Encoding.ASCII.GetString(m_salt);
            }
        }

        /// <summary>
        /// The salt that is used for the key and IV generation.
        /// </summary>
        public byte[] Salt
        {
            get
            {
                return m_salt;
            }
        }

        /// <summary>
        /// Encrypt the given string using AES.  The string can be decrypted using 
        /// DecryptStringAES().  The sharedSecret parameters must match.
        /// </summary>
        /// <param name="plainText">The text to encrypt.</param>
        /// <param name="sharedSecret">A password used to generate a key for encryption.</param>
        public string EncryptStringAES(string plainText, string sharedSecret)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(plainText), "param plainText can't be null or empty");
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(sharedSecret), "param sharedSecret can't be null or empty");
            Guard.Requires<InvalidOperationException>(m_aesAlg != null, "this object is already disposed");

            string outStr = null;                       // Encrypted string to return

            // generate the key from the shared secret and the salt
            Rfc2898DeriveBytes key = new Rfc2898DeriveBytes(sharedSecret, Salt);

            m_aesAlg.Key = key.GetBytes(m_aesAlg.KeySize / 8);
            m_aesAlg.IV = key.GetBytes(m_aesAlg.BlockSize / 8);

            // Create a decrytor to perform the stream transform.
            ICryptoTransform encryptor = m_aesAlg.CreateEncryptor(m_aesAlg.Key, m_aesAlg.IV);

            // Create the streams used for encryption.
            using (MemoryStream msEncrypt = new MemoryStream())
            {
                using (CryptoStream csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write))
                using (StreamWriter swEncrypt = new StreamWriter(csEncrypt))
                {

                    //Write all data to the stream.
                    swEncrypt.Write(plainText);
                }

                outStr = Convert.ToBase64String(msEncrypt.ToArray());
            }

            // Return the encrypted bytes from the memory stream.
            return outStr;
        }

        /// <summary>
        /// Decrypt the given string.  Assumes the string was encrypted using 
        /// EncryptStringAES(), using an identical sharedSecret.
        /// </summary>
        /// <param name="cipherText">The text to decrypt.</param>
        /// <param name="sharedSecret">A password used to generate a key for decryption.</param>
        public string DecryptStringAES(string cipherText, string sharedSecret)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(cipherText), "param cipherText can't be null or empty");
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(sharedSecret), "param sharedSecret can't be null or empty");
            Guard.Requires<InvalidOperationException>(m_aesAlg != null, "this object is already disposed");

            // Declare the string used to hold
            // the decrypted text.
            string plaintext = null;

            // generate the key from the shared secret and the salt
            Rfc2898DeriveBytes key = new Rfc2898DeriveBytes(sharedSecret, Salt);

            m_aesAlg.Key = key.GetBytes(m_aesAlg.KeySize / 8);
            m_aesAlg.IV = key.GetBytes(m_aesAlg.BlockSize / 8);

            // Create a decrytor to perform the stream transform.
            ICryptoTransform decryptor = m_aesAlg.CreateDecryptor(m_aesAlg.Key, m_aesAlg.IV);
            // Create the streams used for decryption.                
            byte[] bytes = Convert.FromBase64String(cipherText);
            using (MemoryStream msDecrypt = new MemoryStream(bytes))
            {
                using (CryptoStream csDecrypt = new CryptoStream(msDecrypt, decryptor, CryptoStreamMode.Read))
                {
                    using (StreamReader srDecrypt = new StreamReader(csDecrypt))

                        // Read the decrypted bytes from the decrypting stream
                        // and place them in a string.
                        plaintext = srDecrypt.ReadToEnd();
                }
            }

            return plaintext;
        }

        public void Dispose()
        {
            if (m_aesAlg != null)
            {
                m_aesAlg.Clear();
                m_aesAlg.Dispose();
                m_aesAlg = null;
            }
        }
    }
} 
```

MD5（哈希）示例：

```
using System;
using System.Linq;
using System.Security.Cryptography;
using System.Text;

using Synercoding.CodeGuard;

namespace Synercoding.Encryption.Hashing
{
    /// <summary>
    /// Class to verify and generate MD5 hashes
    /// </summary>
    public static class MD5Hash
    {
        /// <summary>
        /// Creates a MD5 hexadecimal string based on the input
        /// </summary>
        /// <param name="input">The string to hash</param>
        /// <returns>A MD5 hex string</returns>
        public static string GetHash(string input)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(input), "param input can't be null or empty");

            // Create a new Stringbuilder to collect the bytes
            // and create a string.
            StringBuilder sBuilder = new StringBuilder();

            using (MD5 md5Hash = MD5.Create())
            {
                // Convert the input string to a byte array and compute the hash.
                byte[] data = md5Hash.ComputeHash(Encoding.UTF8.GetBytes(input));

                // Loop through each byte of the hashed data 
                // and format each one as a hexadecimal string.
                for (int i = 0; i < data.Length; i++)
                {
                    sBuilder.Append(data[i].ToString("x2"));
                }
            }

            // Return the hexadecimal string.
            return sBuilder.ToString();
        }

        /// <summary>
        /// Creates a MD5 hexadecimal string based on the input
        /// </summary>
        /// <param name="input">The string to hash</param>
        /// <returns>A MD5 hash in byte format</returns>
        public static byte[] GetByteHash(string input)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(input), "param input can't be null or empty");

            byte[] data;
            using (MD5 md5Hash = MD5.Create())
            {
                // Convert the input string to a byte array and compute the hash.
                data = md5Hash.ComputeHash(Encoding.UTF8.GetBytes(input));
            }

            return data;
        }

        /// <summary>
        /// Verifies the input with the hash.
        /// </summary>
        /// <param name="input">The input to compare</param>
        /// <param name="hash">The hash to compare the input with</param>
        /// <returns>True is the input validates.</returns>
        public static bool VerifyHash(string input, string hash)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(input), "param input can't be null or empty");
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(hash), "param hash can't be null or empty");
            Guard.Requires<ArgumentNullException>(hash.Length == 32, "param hash must be 32 chars long");

            // Hash the input.
            string hashOfInput = GetHash(input);

            // Create a StringComparer an compare the hashes.
            StringComparer comparer = StringComparer.OrdinalIgnoreCase;

            if (0 == comparer.Compare(hashOfInput, hash))
            {
                return true;
            }
            else
            {
                return false;
            }
        }

        /// <summary>
        /// Verifies the input with the hash.
        /// </summary>
        /// <param name="input">The input to compare</param>
        /// <param name="hash">The hash to compare the input with</param>
        /// <returns>True is the input validates.</returns>
        public static bool VerifyHash(string input, byte[] hash)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(input), "param input can't be null or empty");
            Guard.Requires<ArgumentNullException>(hash != null, "param hash can't be null");
            Guard.Requires<ArgumentNullException>(hash.Length == 128 / 8, "param hash must be 128bits (16 bytes) long");

            // Hash the input.
            byte[] hashOfInput = GetByteHash(input);

            if (hashOfInput.SequenceEqual(hash))
            {
                return true;
            }
            else
            {
                return false;
            }
        }
    }
} 
```

SHA512（哈希）示例：

```
using System;
using System.Linq;
using System.Security.Cryptography;
using System.Text;

using Synercoding.CodeGuard;

namespace Synercoding.Encryption.Hashing
{
    /// <summary>
    /// Class to verify and generate SHA512 hashes
    /// </summary>
    public static class SHA512Hash
    {
        /// <summary>
        /// Creates a SHA512 hexadecimal string based on the input
        /// </summary>
        /// <param name="input">The string to hash</param>
        /// <returns>A SHA512 hex string</returns>
        public static string GetHash(string input)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(input), "param input can't be null or empty");

            // Create a new Stringbuilder to collect the bytes
            // and create a string.
            StringBuilder sBuilder = new StringBuilder();

            using (SHA512 SHA512Hash = SHA512.Create())
            {
                // Convert the input string to a byte array and compute the hash.
                byte[] data = SHA512Hash.ComputeHash(Encoding.UTF8.GetBytes(input));

                // Loop through each byte of the hashed data 
                // and format each one as a hexadecimal string.
                for (int i = 0; i < data.Length; i++)
                {
                    sBuilder.Append(data[i].ToString("x2"));
                }
            }

            // Return the hexadecimal string.
            return sBuilder.ToString();
        }

        /// <summary>
        /// Creates a SHA512 hash based on the input
        /// </summary>
        /// <param name="input">The string to hash</param>
        /// <returns>A SHA512 hash in byte format</returns>
        public static byte[] GetByteHash(string input)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(input), "param input can't be null or empty");

            byte[] data;

            using (SHA512 SHA512Hash = SHA512.Create())
            {
                // Convert the input string to a byte array and compute the hash.
                data = SHA512Hash.ComputeHash(Encoding.UTF8.GetBytes(input));
            }

            return data;
        }

        /// <summary>
        /// Verifies the input with the hash.
        /// </summary>
        /// <param name="input">The input to compare</param>
        /// <param name="hash">The hash to compare the input with</param>
        /// <returns>True is the input validates.</returns>
        public static bool VerifyHash(string input, string hash)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(input), "param input can't be null or empty");
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(hash), "param hash can't be null or empty");
            Guard.Requires<ArgumentNullException>(hash.Length == 128, "param hash must be 128 chars long");

            // Hash the input.
            string hashOfInput = GetHash(input);

            // Create a StringComparer an compare the hashes.
            StringComparer comparer = StringComparer.OrdinalIgnoreCase;

            if (0 == comparer.Compare(hashOfInput, hash))
            {
                return true;
            }
            else
            {
                return false;
            }
        }

        /// <summary>
        /// Verifies the input with the hash.
        /// </summary>
        /// <param name="input">The input to compare</param>
        /// <param name="hash">The hash to compare the input with</param>
        /// <returns>True is the input validates.</returns>
        public static bool VerifyHash(string input, byte[] hash)
        {
            Guard.Requires<ArgumentNullException>(!string.IsNullOrEmpty(input), "param input can't be null or empty");
            Guard.Requires<ArgumentNullException>(hash != null, "param hash can't be null");
            Guard.Requires<ArgumentNullException>(hash.Length == 512 / 8, "param hash must be 512bits (64 bytes) long");

            // Hash the input.
            byte[] hashOfInput = GetByteHash(input);

            if (hashOfInput.SequenceEqual(hash))
            {
                return true;
            }
            else
            {
                return false;
            }
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T12:28:55.480

出于教学目的，您可以使用 .net 文件加密系统（非常简单！！）

```
System.IO.File.Encrypt("file.txt")
System.IO.File.Decrypt("file.txt") 
```

文件可以仅从同一台机器解密。

# ios - 什么开发框架最适合 Flash Pro CS6 中的 Adob e AIR AS3 Mobile 开发？

> ID：14457767
> 
> 赞同：0
> 
> 时间：2013-01-22T11:44:10.333
> 
> 标签：ios, actionscript-3, mobile, frameworks, air

我正在开发一个针对 iPhone 和 Android 设备的 AIR 应用程序，并寻找一个有助于简化开发和性能、提供一组良好的移动优化 UI 组件并允许自由导入和使用 Flash 类的良好框架。

我看过 Starling 和 Feathers，它们看起来非常适合创建屏幕和 UI 组件，但似乎有一些限制，即无法使用 flash.display.MovieClip 和 flash.media.Video 类。八哥短片看起来有点简单，我无法在舞台上添加视频。

还有哪些其他框架可以帮助我构建我的代码和应用程​​序并让我轻松访问移动就绪的 UI 组件？我正在使用 Flash Pro CS6 在 Macbook Pro 上开发，目标是 Air 3.2 for iOs

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T18:47:29.203

您可以在 Starling 在下方渲染时将 MovieClips 添加到经典舞台，但不建议使用此方法，因为将两者混合时，在移动设备上存在性能问题。这是由于运行软件矢量渲染引擎来显示影片剪辑。

现在人们正在做的是使用 Dynamic Texture Atlas 或 MovieClip Converter 将 MovieClips 转换为 Starling 电影剪辑。看看这个：

[https://github.com/zenrobin/FlashMovieClipConverter](https://github.com/zenrobin/FlashMovieClipConverter)

至于视频，请查看 StageVideo，因为它是 Video 的硬件加速版本，并且在 AIR 中可用。

[http://www.overdigital.com/2012/01/09/the-ultimate-guide-to-understanding-advanced-video-delivery-with-air-for-mobile/](http://www.overdigital.com/2012/01/09/the-ultimate-guide-to-understanding-advanced-video-delivery-with-air-for-mobile/)

# css - 定位在固定容器内时，如何将固定 div 拉伸到屏幕？

> ID：14457773
> 
> 赞同：0
> 
> 时间：2013-01-22T11:44:18.663
> 
> 标签：css, screen, stretch, html

我有一个 100x100px 的容器，位于页面中间。我在里面有一个 100px 高的嵌套 div，我想将它拉伸到屏幕的宽度。

我怎样才能做到这一点？

感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T07:14:24.093

@reinder 给了我正确的答案：

```
<html>
<div class="container">
    <div class="nested-div"></div>
</div>

<style>
.container {
    margin: 0 auto;
    margin-top: 20%;
    width: 100px;
    height: 100px;
    background: green;
    overflow: hidden;
}
.nested-div {
    position: absolute;
    width: 100%;
    height: 100px;
    background: red;
    left: 0;
}
</style>
</html> 
```

[http://jsfiddle.net/s7nhw/12/](http://jsfiddle.net/s7nhw/12/)。

# android - 如何让 sip2peer 在 Android 中工作

> ID：14457780
> 
> 赞同：0
> 
> 时间：2013-01-22T11:44:41.117
> 
> 标签：android, p2p

我正在尝试使用[http://code.google.com/p/sip2peer](http://code.google.com/p/sip2peer)`sip2peer`中的示例，下载 android 代码，运行示例，没有任何反应。

我阅读了一些问题和答案，看来我需要安装服务器才能正常工作？

对不起，基本问题，我被困在这里。

我想让这个例子在我的本地机器和模拟器上工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T09:32:58.823

[您是否从http://code.google.com/p/sip2peer/downloads/](http://code.google.com/p/sip2peer/downloads/list)下载了 sip2peer 教程（s2p-Tutorial.pdf、s2p-Tutorial-Android.pdf、s2p-Tutorial-Bootstrap-FullPeer-SBC.pdf）[清单](http://code.google.com/p/sip2peer/downloads/list)？

他们描述了主要的框架概念和一个完整的对等实现的完整示例。该示例基于一个 FullPeer 和一个允许发现初始对等列表的 Bootstrap 节点。该库旨在构建 p2p 网络和一般分布式系统，我建议使用多个 Java 节点对其进行测试，以更好地理解方法和架构，然后在您的网络中包含一个 Android 节点。

鉴于您谈论的是 Android 模拟器，我建议您正确检查模拟器网络接口（及其寻址），因为您需要能够联系本地机器上的其他节点。我总是使用真实的设备来轻松解决这个问题。

问候

# java - 全局数据，静态的和新的

> ID：14457782
> 
> 赞同：0
> 
> 时间：2013-01-22T11:44:53.530
> 
> 标签：java

来自结构化对象编程的人提出的基本问题......希望不要太基本。

我希望在我的应用程序中拥有大量由不同类共享的数据。这样做的最佳做法是什么？它是否正确？

```
public class LargeData {
    private static long[] myData;
    private static final int MAX = 100000;

    public LargeData() {
        myData = new long[MAX];
        // ... initialize
    }

    public long getData(int x) {
    // ... do whatever and return a long
    }
} 
```

如果这是正确的，那么从我的任何课程中访问这些数据的正确方法是什么？我应该做一个

```
LargeData ld = new LargeData(); 
```

在每个想要访问 myData 的类中？

谢谢你，很抱歉太容易了...... :)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:47:35.200

为此使用单例模式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:51:52.443

立即初始化数组。使用当前实现，您将无法使用静态数组，直到创建`LargeData`.

`final`此外，如果仅用于保存数组的类通过将其和构造函数设置为来防止其实例化和扩展`private`。

```
public final class LargeData {
    public static long[] myData = new long[100000];

    private LargeData() { }
} 
```

并获得访问权限`LargeData.myData`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T11:52:19.137

每次打电话

```
LargeData ld = new LargeData(); 
```

在您的代码中，您将有效地调用

```
myData = new long[MAX]; 
```

这是错误的。

你可以做的是：

```
public class LargeData {

    private static final int MAX = 100000;
    public static long[] myData = new long[MAX];
} 
```

并`LargeData.myData`从任何地方访问它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T12:59:00.997

如果没有空检查，从实例构造函数为静态变量赋值是一个坏主意 - 如果您曾经从此类实例化两个对象，第二个对象将导致您丢失存储在数组中的所有数据（当您丢失对旧数组的引用时）第二个实例化覆盖静态引用）。但是，使用空值检查也是一个坏主意，除非您真的真的真的需要以一种“全局变量”方式的实例中的数据。最好将静态引用视为全局变量，这些变量可以对所有人可见（如果它们是公共的），或者只能从您定义它的类（私有）或介于两者之间（受保护或包保护访问）的类中可见。尽管在几乎所有情况下，您都非常希望避免使用它们，并使用单例模式而不是类中的静态变量。

但是，鉴于您所写的内容，我看不出为什么您需要一个单例模式来解决这个特定问题——您只想将数据存储在一个对象中并共享该对象，对吗？

您可以像这样在没有静态关键字的情况下修复发布的代码，这允许多个 LargeData 实例在您的应用程序中一次处于活动状态：

```
public class LargeData {
private  long[] myData; // instance variable to store the data
private static final int MAX = 100000; // max length

public LargeData() {
     myData = new long[MAX]; 
```

}

```
public long[] getData() {
     return myData;
}

} 
```

然后您可以将数据用作：

```
LargeData ld = new LargeData();
long[] = ld.getData(); 
```

你可以使用任何你喜欢的方式存储在 ld 中的引用，你可以将它传递给你的其他类，等等。

一个更好的主意是不公开数组，而是创建一个 API，您可以通过它使用存储的数据。例如：

```
public long getLong(int n) { return myData[n]; }
public void setLong(int n, long value) { myData[n] = value; } 
```

现在，如果您不想传递对存储在 ld 中的 LargeData 实例的引用，您可以使用 LargeData 中的静态变量来存储引用和允许您从任何其他 java 代码访问它的静态 getter。如果您需要使用多个 LargeData 实例，您可以创建一个封装了 Map 的 LargeDataRegistry 类，您将在其中存储每个实例化的 LargeData 实例。

# c# - 验证码第一次出错你要加两次码

> ID：14457787
> 
> 赞同：0
> 
> 时间：2013-01-22T11:45:06.700
> 
> 标签：c#, javascript, asp.net, ajax

我有一个验证码控件，在编写代码并检查它时，如果我正确编写它总是错误的，然后形成第二次它可以正常工作。那可能是验证码的问题

```
<td id="Td6" runat="server" align="center" class="style4">
    <MSCapatchaControl:CaptchaControl ID="Capatcha" 
                                      runat="server" 
                                      BackColor="#CC3300" 
                                      CaptchaBackgroundNoise="Extreme" 
                                      CaptchaChars="ACDEFGHJKLNPQRTUVXYZ2346789" 
                                      CaptchaHeight="40" 
                                      CaptchaMaxTimeout="240" 
                                      CaptchaMinTimeout="5" 
                                      CaptchaWidth="130" 
                                      FontColor="White" 
                                      ForeColor="White" 
                                      LineColor="Black" 
                                      NoiseColor="Black" />
</td>
<td id="Td7" runat="server" colspan="3">
    <asp:TextBox ID="registerCaptchText" 
                 runat="server" MaxLength="6" Width="135px">
    </asp:TextBox>
    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" 
                                runat="server" 
                                ControlToValidate="registerCaptchText"  
                                Display="None" 
                                ErrorMessage="Enter the capatcha">
    </asp:RequiredFieldValidator>
    <font style="font-size:12px; font-family:trebuchet; color: rgb(51, 51, 51);">
        <div class="important">*</div>
        Please enter the text you see in the image. 
    </font>
</td> 
```

那就是功能测试它

```
Capatcha.ValidateCaptcha(registerCaptchText.Text);
            bool capatchaValid = Capatcha.UserValidated; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T16:21:19.360

嗨，我已经通过在更新面板中获取验证码字段解决了这个问题。感谢每一位宝贵的时间。

# sql - 如何判断一张表是否用于存储物化视图日志？

> ID：14457791
> 
> 赞同：4
> 
> 时间：2013-01-22T11:45:16.193
> 
> 标签：sql, oracle, database-replication, materialized-views

我在其上创建了物化视图日志的表：

```
create table T1(A number primary key);
create materialized view log on T1 with primary key; 
```

Oracle 还为物化视图日志创建了两个表：

```
select TABLE_NAME from USER_TABLES

|T1       |
|MLOG$_T1 |
|RUPD$_T1 | 
```

如何确定该`RUPD$_T1`表是带有 mview 日志的表`T1`？

我可以确定这一点`MLOG$_T1`：

```
select MASTER, LOG_TABLE from USER_MVIEW_LOGS

|T1       |MLOG$_T1 | 
```

但是在哪里可以找到对表的引用`RUPD$_T1`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T13:27:23.310

它在 SYS 基表中。IE

```
SQL> select  master, log, temp_log from sys.mlog$ where mowner = user and master = 'T1';

MASTER               LOG                  TEMP_LOG
-------------------- -------------------- --------------------
T1                   MLOG$_T1             RUPD$_T1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-03T05:21:45.407

尝试：

```
 select * from all_mview_logs 
```

# ios - iOS Facebook SDK - 获取与 App 连接的好友列表

> ID：14457796
> 
> 赞同：9
> 
> 时间：2013-01-22T11:45:32.207
> 
> 标签：ios, objective-c, facebook

我正在尝试获取正在使用该应用程序的所有 Facebook 朋友的列表 我正在获取所有朋友的列表，但是如何过滤所有正在使用该应用程序的朋友？

```
 FBRequest* friendsRequest = [FBRequest requestForMyFriends];
    [friendsRequest startWithCompletionHandler: ^(FBRequestConnection *connection,
                                                  NSDictionary* result,
                                                  NSError *error) {
        NSArray* friends = [result objectForKey:@"data"];
        NSLog(@"Found: %i friends", friends.count);
        for (NSDictionary<FBGraphUser>* friend in friends) {
            NSLog(@"I have a friend named %@ with id %@", friend.name, friend.id);

        }
        NSArray *friendIDs = [friends collect:^id(NSDictionary<FBGraphUser>* friend) {
            return friend.id;
        }];

    }]; 
```

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T12:46:52.913

这就是它在 iOS5+ 上的工作方式

```
FBRequest* friendsRequest = [FBRequest requestWithGraphPath:@"me/friends?fields=installed" parameters:nil HTTPMethod:@"GET"];
        [friendsRequest startWithCompletionHandler: ^(FBRequestConnection *connection,
                                                      NSDictionary* result,
                                                      NSError *error) {
            NSArray* friends = [result objectForKey:@"data"];
            NSLog(@"Found: %i friends", friends.count);
            for (NSDictionary<FBGraphUser>* friend in friends) {
                NSLog(@"I have a friend named %@ with id %@", friend.name, friend.id);

            }
            NSArray *friendIDs = [friends collect:^id(NSDictionary<FBGraphUser>* friend) {
                return friend.id;
            }];

     }]; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-09-27T06:59:16.303

这可用于最新的 Facebook API 3.2 ，

```
[FBRequestConnection startForMyFriendsWithCompletionHandler:
     ^(FBRequestConnection *connection, id<FBGraphUser> friends, NSError *error)
     {
         if(!error){
             NSLog(@"results = %@", friends);
         }
     }
]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-12-08T09:35:37.263

您需要检查的“is_app_user”。

```
- (void)getFriends
{

    NSString *query = @"select uid, name, is_app_user "
    @"from user " 
    @"where uid in (select uid2 from friend where uid1=me() )";
    NSDictionary *queryParam =
    [NSDictionary dictionaryWithObjectsAndKeys:query, @"q", nil];
    // Make the API request that uses FQL
    [FBRequestConnection startWithGraphPath:@"/fql"
                                 parameters:queryParam
                                 HTTPMethod:@"GET"
                          completionHandler:^(FBRequestConnection *connection,
                                              id result,
                                              NSError *error) {
                              if (error) {
                                  DLog(@"Error: %@", [error localizedDescription]);
                                  [self.delegate FBDidFailedLoadFriends:error];
                              } else { 
                                  DLog(@"Result: %@", result);
                              }
                              DLog(@"%@",((FBGraphObject*)result)[@"data"]);
                          }];
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T12:27:00.513

你可以用 FQL 做到这一点。它将直接给出正在使用应用程序的朋友列表。

```
SELECT uid FROM user
WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = ?)
AND is_app_user = 1 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-08-14T13:36:08.087

应该关闭，因为 Facebook 改变了您访问朋友列表的方式。现在您只能访问应用程序用户。

# wpf - 如果放置了多个面板，则组合框不可见

> ID：14457800
> 
> 赞同：0
> 
> 时间：2013-01-22T11:45:40.287
> 
> 标签：wpf, xaml

在下面的 XAML 中，组合框不可见。我究竟做错了什么？

```
<Grid>
  <StackPanel>
    <ComboBox Name="combo1"
              ItemsSource="{Binding}"
              DisplayMemberPath="PartNumber" />
  </StackPanel>
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition></RowDefinition>
      <RowDefinition></RowDefinition>
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition></ColumnDefinition>
      <ColumnDefinition></ColumnDefinition>
    </Grid.ColumnDefinitions>

    <TextBlock Grid.Row="0"
               Grid.Column="0"
               Text="{Binding ElementName=combo1, Path=SelectedItem.PartName}"
               Background="AliceBlue" />
    <TextBlock Grid.Row="0"
               Grid.Column="1"
               Text="{Binding ElementName=combo1, Path=SelectedItem.PartQuantity}"
               Background="Beige" />
  </Grid>
</Grid> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T14:48:15.433

您已将网格放置在导致问题的组合框上方，您可以为组合放置新行或使用画布指定 zIndex。请查看下面的 xaml 部分。

```
<Canvas>
  <ComboBox Canvas.ZIndex="2"
            Width="300"
            Name="combo1"
            ItemsSource="{Binding}"
            DisplayMemberPath="PartNumber" />

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition></RowDefinition>
      <RowDefinition></RowDefinition>
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition></ColumnDefinition>
      <ColumnDefinition></ColumnDefinition>
    </Grid.ColumnDefinitions>

    <TextBlock Grid.Row="0"
               Grid.Column="0"
               Text="{Binding ElementName=combo1, Path=SelectedItem.PartName}"
               Background="AliceBlue" />
    <TextBlock Grid.Row="0"
               Grid.Column="1"
               Text="{Binding ElementName=combo1, Path=SelectedItem.PartQuantity}"
               Background="Beige" />
  </Grid>
</Canvas> 
```

# android - 如何在android中测试振动功能？

> ID：14457801
> 
> 赞同：0
> 
> 时间：2013-01-22T11:45:40.813
> 
> 标签：android, testing, cordova, vibration

我正在为 Android 编写一个简单的 Phonegap 应用程序。该程序将向通知栏发送通知，并使手机定期振动。

我`navigator.notification.vibrate(time_period)`用来实现目标。根据这篇[文章](http://www.digitalnoiz.com/mobile-development/notifications-buttons/)，android模拟器不支持哔声和振动。因此，我期待在 Catlog 中可能有指示失败的条目，但没有这样的条目。问题是如何确保振动事件已经发生或失败（无需部署到设备）。

[AppHarbor](http://www.justinsaraceno.com/2012/07/creating-with-phonegap-build-part-4/)看起来像是远程调试Phonegap 应用程序的方法之一。我想知道是否有其他本地方法可以在 Chrome 浏览器中将 Phonegap 应用程序作为 HTML5 网站进行测试（`navigator.notification`调用是标准调用）？如果是，那么可能会以某种方式自动解析浏览器的控制台以查明是否发生了振动事件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:00:51.010

您可以将 vibrate() 调用隐藏在可以根据您使用的平台替换的抽象后面吗？

例如

```
var vibrateFunc = function(time_period) {
    if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {
        console.log('vibrating for ' + time_period)
    } else {
        navigator.notification.vibrate(time_period)
    }
} 
```

然后让您的应用程序代码在想要振动时调用 vibrateFunc() 。

# java - 将签名从 USB 令牌自动导入 PDF？

> ID：14457802
> 
> 赞同：0
> 
> 时间：2013-01-22T11:45:41.597
> 
> 标签：java, pdf, digital-signature

我想购买[第三方数字签名库](http://www.digisigner.com/java_library_to_create_digital_signatures.html)，并且想使用客户端证书对 PDF 进行签名。它仅在我将文件存储在我的 PC 中时才有效。

由于我想使用存储在 USB 令牌中的证书来签署我的 PDF，我应该怎么做才能实现呢？

在这里，我有第三方代码，他们正在使用 DLL 文件 `C:\Windows\System32\cmP11.dll`，但它不在我的系统中。下面代码中这个文件的任务是什么？

```
private static void signatureWithToken() {

  // specify document to sign
  PdfDocument pdfDocument = new PdfDocument("sample.pdf");

  // specify info to find a key on the token
  String tokenLibraryFilename = "C:\\Windows\\System32\\cmP11.dll";  // path to token PKCS#11 library
  String tokenPin = "7777";  // token PIN
  // key alias on the token,
  // if null the first found key will be used
  String tokenKeyAlias = "Key Alias";
  SigningData signingData = SigningData.fromPkcs11Token(tokenLibraryFilename, 
      tokenKeyAlias, tokenPin);

  // list available aliases
  listAvailableAliases(signingData);

  // specify rectangle for the signature
  signingData.setFieldRectangle(new Rectangle2D.Float(300, 50, 275, 100));

  // specify reason and location
  signingData.setReason("I approve this invoice.");
  signingData.setLocation("Camden");    

  // sign document
  pdfDocument.signDocument(signingData, "sample_(signed_with_token).pdf");      
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T12:06:16.540

您所指的 DLL 文件是一个[PKCS#11](http://en.wikipedia.org/wiki/PKCS_%E2%99%AF11)库，基于代码注释。PKCS#11 是用于与令牌和[HSM](http://en.wikipedia.org/wiki/Hardware_security_module)交互的加密 API 。

如果您的系统上没有该文件，那么您可能缺少特定 USB 加密令牌的 PKCS#11 库。我建议您查看制造商的网站，看看他们是否可以与您分享。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-03T06:34:22.927

您需要为您的加密令牌下载并安装驱动程序。这些通常在制造商网站上可用。这些 DLL 文件是加密令牌的驱动程序。

# php - 仅当所有值都为空时才从数组块中删除值

> ID：14457804
> 
> 赞同：1
> 
> 时间：2013-01-22T11:45:43.727
> 
> 标签：php, arrays

我正在使用以下数组并将其分块为 3 个项目的较小数组`array_chunk`；

```
$array = array('1', '1', '1', '', '', '', '3', '3', '3', '4', '4', '4'); 
```

以下函数和每个语句...

```
function preserve($value){
    if ($value != '') {
        return TRUE;
    } else {
        return FALSE;
    }
}

$chunk = array_chunk($array, 3, true);

foreach ($chunk as $value){
    $chunk = array_filter($value, 'preserve');  

    if($chunk){
        $separated = implode("|", $chunk);
        echo $separated . '<br/>';
    }
} 
```

...丢弃产生此结果的数组中的空值：

```
1|1|1
3|3|3
4|4|4 
```

下一个，

如果数组看起来像这样：

```
$array = array('1', '1', '1', '', 'A', '', '3', '3', '3', '4', '4', '4'); 
```

结果如下所示：

```
1|1|1
A
3|3|3
4|4|4 
```

当我需要结果看起来像：

```
1|1|1
 |A|
3|3|3
4|4|4 
```

无论如何`array_filter`，如果数组块的所有值都是空的，并且如果不保留这些值同时仍然内爆那些为空的值，如上面结果的最后输出所示，我是否可以使用它来仅删除数组块？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:52:47.087

内爆原始的`$value`，而不是过滤的：

```
$separated = implode("|", $value); 
```

您仅用于`array_filter`检查数组是否所有 3 个项目都为空

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:53:21.907

您想根据过滤后的内部数组过滤外部数组，而不是内部数组本身。即这样：

```
$chunks = array_filter($chunks, function($values) {
    return count(array_filter($values, 'preserve')) > 0;
}); 
```

*编辑*：还更改您的保留功能以进行类型安全比较

```
return $value !== ''; 
```

因为否则像“0”这样的项目也将被视为空。如果这是您的意图，您也可以省略`preserve`并使用默认过滤器。

# django - Django 教程 - 数据库设置 - sqlite3（卡住..）

> ID：14457807
> 
> 赞同：0
> 
> 时间：2013-01-22T11:46:01.377
> 
> 标签：django, sqlite, django-settings, syncdb

所以，我在[这里](https://docs.djangoproject.com/en/1.4/intro/tutorial01/#database-setup)（数据库设置）在 Django 教程“编写你的第一个 Django 应用程序，第 1 部分”。到目前为止一切都很好，但现在我被卡住了。

我进入 DOS 的外部 mysite 目录，然后输入“edit settings.py”。这将在外部 mysite 目录中创建一个名为“settings.py”的新文件，并打开一个蓝色的 DOS 文本编辑器框，该框完全为空。在这个框中，我尝试输入各种内容，保存并退出。如果我再次输入edit settings.py，保存的文本仍然存在，应该是。

我不能从这个蓝色的 DOS 文本编辑器复制或粘贴，所以我必须在那里输入所有内容，现在在这里手动输入。

我目前在 mysite/settings.py 中拥有的是这个（虽然，我尝试过多种方式输入信息，例如引擎的“django.db.backends.sqlite3”，并将其输入为“DATABASE_ENGINE”等... ：

```
DATABASES = {
    'default' : {
        'ENGINE' = 'C:\Django-1.4.3\Django-1.4.3\django\db\backends\sqlite3',
        'NAME' = 'C:\DOCUMENTS and settings\Miles\My Documents\DjangoExperimentation\mysite\sqlite3.db',
        'TIMEZONE' = 'Europe/London'
    }
} 
```

保存并退出后，然后输入“python manage.py syncdb”，我收到的消息，幸运的是我可以复制它，因为它当然是在主 DOS 窗口中，如下所示：

```
C:\DOCUME~1\Miles\MYDOCU~1\DJANGO~1\mysite>python manage.py syncdb
Traceback (most recent call last):
  File "manage.py", line 10, in <module>
    execute_from_command_line(sys.argv)
  File "C:\Python27\lib\site-packages\django\core\management\__init__.py", line
443, in execute_from_command_line
    utility.execute()
  File "C:\Python27\lib\site-packages\django\core\management\__init__.py", line
382, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "C:\Python27\lib\site-packages\django\core\management\base.py", line 196,
 in run_from_argv
    self.execute(*args, **options.__dict__)
  File "C:\Python27\lib\site-packages\django\core\management\base.py", line 232,
 in execute
    output = self.handle(*args, **options)
  File "C:\Python27\lib\site-packages\django\core\management\base.py", line 371,
 in handle
    return self.handle_noargs(**options)
  File "C:\Python27\lib\site-packages\django\core\management\commands\syncdb.py"
, line 57, in handle_noargs
    cursor = connection.cursor()
  File "C:\Python27\lib\site-packages\django\db\backends\dummy\base.py", line 15
, in complain
    raise ImproperlyConfigured("settings.DATABASES is improperly configured. "
django.core.exceptions.ImproperlyConfigured: settings.DATABASES is improperly co
nfigured. Please supply the ENGINE value. Check settings documentation for more
details. 
```

（顺便说一句......在stackoverflow中有什么方法可以标记为代码而不单独缩进每一行？ - 我已经计算出复制/粘贴四个空格）

所以，帮助..拜托？我在这里做错了什么？

这是我正在尝试执行此操作的整个 'djangoExperimentation' 目录的读数：

```
C:\DOCUME~1\Miles\MYDOCU~1\DJANGO~1>dir /s
 Volume in drive C has no label.
 Volume Serial Number is 30A4-7E91

 Directory of C:\DOCUME~1\Miles\MYDOCU~1\DJANGO~1

21/01/2013  15:42    <DIR>          .
21/01/2013  15:42    <DIR>          ..
22/01/2013  11:36    <DIR>          mysite
               0 File(s)              0 bytes

 Directory of C:\DOCUME~1\Miles\MYDOCU~1\DJANGO~1\mysite

22/01/2013  11:36    <DIR>          .
22/01/2013  11:36    <DIR>          ..
21/01/2013  15:42               259 manage.py
21/01/2013  17:42    <DIR>          mysite
22/01/2013  11:36               268 settings.py
               2 File(s)            527 bytes

 Directory of C:\DOCUME~1\Miles\MYDOCU~1\DJANGO~1\mysite\mysite

21/01/2013  17:42    <DIR>          .
21/01/2013  17:42    <DIR>          ..
21/01/2013  15:42             5,363 settings.py
21/01/2013  17:42             2,837 settings.pyc
21/01/2013  15:42               573 urls.py
21/01/2013  17:42               286 urls.pyc
21/01/2013  15:42             1,162 wsgi.py
21/01/2013  17:42             1,042 wsgi.pyc
21/01/2013  15:42                 0 __init__.py
21/01/2013  17:42               148 __init__.pyc
               8 File(s)         11,411 bytes

     Total Files Listed:
              10 File(s)         11,938 bytes
               8 Dir(s)  10,776,023,040 bytes free 
```

所有的帮助都将受到热切期待和赞赏，

谢谢，

迈尔斯。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T12:02:47.957

我猜你的问题是数据库设置中应该没有`TIMEZONE`键。如果要设置时区，请将其添加为`DATABASES`定义之外的变量，如下所示：

```
DATABASES = {
    'default' : {
        'ENGINE' = 'django.db.backends.sqlite3',
        'NAME' = 'C:\DOCUMENTS and settings\Miles\My Documents\DjangoExperimentation\mysite\sqlite3.db',
    }
}
TIME_ZONE = 'Europe/London' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:59:15.610

尝试更换 `'ENGINE' = 'C:\Django-1.4.3\Django-1.4.3\django\db\backends\sqlite3',`

和：

`'ENGINE' = 'django.db.backends.sqlite3',`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-06T23:34:24.200

“指定路径时，请始终使用正斜杠，即使在 Windows 上也是如此（例如 C:/homes/user/mysite/sqlite3.db）。”

[https://docs.djangoproject.com/en/1.5/intro/tutorial01/](https://docs.djangoproject.com/en/1.5/intro/tutorial01/)

# iphone - 进程运行时是否可以阻止 iTunes 通知

> ID：14457813
> 
> 赞同：0
> 
> 时间：2013-01-22T11:46:17.183
> 
> 标签：iphone, ios, objective-c, ipad, itunes

我正在开发一个 iOS 应用程序，用户在线获取一个合理大小的数据库，然后离线使用它。由于设备上的内存限制以及我处理事务插入的方式，更新和同步大约需要 10-15 分钟。一直以来，我打开了一个对话框视图，通知用户进度，并让他选择取消和恢复对数据库的更改。

无论如何，今天在测试时我注意到 iTunes 应用程序试图作为服务器联系并做一些后台工作，但抛出了一个错误：

```
 itunesstored[68] <Warning>: Could not load download manifest with underlying error: 
                             Error Domain=NSURLErrorDomain Code=-1001 "Cannot connect
                             to 112.168.198.2" UserInfo=0x1f8d6150 
                             {NSLocalizedDescription=Cannot connect to 112.168.198.2} 
```

这导致在我已经显示的对话框之上显示一个对话框，通知用户 iTunes 无法连接。

现在，当我单击“关闭”按钮时，它也以某种方式关闭了我的对话框，仅导致在用户决定停止更新时执行部分操作。异步更新继续在后台进行，而数据库试图恢复导致数据库锁定的更改，我需要终止进程并重新启动应用程序并更新。按照设计，如果发生这种可怕的事情，一切都会恢复。

现在我注意到我应该对我的代码进行一些更改，以使数据库更难像那样锁定，我正在努力解决这个问题。但我想知道的是：**是否可以禁止 iTunes 或任何其他进程在您的应用程序中发生某个关键进程时在 UI 线程上执行任何工作？**

iTunes 对话框取消按钮的行为，即向下传播到我的对话框中，不能被认为是正常或合理的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:57:24.743

不，这是不可能的。应用程序的编码方式应考虑到此类中断。例如，在 iPhone 上，如果有电话打进来怎么办？处理它是应用程序的责任；无论您的“关键过程”如何，系统都会让呼叫通过。

一般来说，听起来您的应用程序设计的不是最好的。例如，解析一个数据库需要 10 分钟似乎**非常**长——这个数据库有多少条记录？您应该能够在几秒钟内在 iPhone 上导入包含 100,000 条记录的数据库。

# android - 关于android应用程序的内存大小

> ID：14457815
> 
> 赞同：0
> 
> 时间：2013-01-22T11:46:27.103
> 
> 标签：android, android-memory

嘿，我使用phone-gap框架开发了一个android应用程序。.apk 文件的内存大小为 350 kb。安装后，应用程序使用的内存为 2.00 mb。我想在安装后减少内存的使用，实际上这是要求。在浏览 Google 时，我研究了图像，而图像只有所需的像素。有没有其他方法可以减少应用程序的内存大小....在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:51:04.660

您的项目可能包含在为您生成 apk 文件时被压缩的文件。这些文件在您安装应用程序时被解压缩。

尝试减小源代码中文件的大小。

# javascript - jquery库冲突

> ID：14457818
> 
> 赞同：0
> 
> 时间：2013-01-22T11:46:48.460
> 
> 标签：javascript, jquery

我在一个页面（选项卡和画廊）中使用了两个 jQuery 库，因为它们都使用了两个不同版本的 jQuery 库，现在它们都不能同时工作。我必须删除一个库才能使用另一个库。

使用过的版本

[1.7.1 jQuery.mini.js 用于图库](http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js)

[1.6.2 jQuery.mini.js - 用于标签](http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js)

**和**

这个

--http://ajax.googleapis.com/ajax/libs/jquery-ui-1.8.16.custom.min.js

这里我是如何使用这个编码的

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../js/libs/jquery-1.6.2.min.js"><\/script>')</script>
<script src="../js/libs/jquery-ui-1.8.16.custom.min.js"></script>
<script // type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> 
```

请告诉一个解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:51:29.397

只使用最新的来源！并将其放在 jQuery UI 之前。最好从同一来源获取文件，最好是 CDN，如 Google 的。

这些是最新版本，您使用的是过时的版本。

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:50:22.850

不要两次引用 jQuery 库 - 它会尝试覆盖功能并破坏您的脚本。你只需要引用一次：

```
src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="../js/libs/jquery-ui-1.8.16.custom.min.js"></script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:50:35.487

只是不要包含 jQuery 两次...

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="../js/libs/jquery-ui-1.8.16.custom.min.js"></script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-22T22:04:13.227

您可能正在污染名称空间。将 $ 更改为 jQuery，使用 noconflict() 或使用自调用匿名函数

# javascript - Knockout.js：通过循环更改多个可观察对象不起作用

> ID：14457826
> 
> 赞同：2
> 
> 时间：2013-01-22T11:47:08.223
> 
> 标签：javascript, knockout.js

我想做的很简单，我想从对象列表中更新一个可观察的属性。这就是我所拥有的：

```
// cars is an observablearray, and q is an observable    
for(i=0; i < self.cars().length, i++) {
    self.cars()[i].q(0);
} 
```

代码只执行一次。如果 q 的当前值为 0，那么它会转到下一个（即 i=1），但是一旦它更改了 1 个对象，它就会返回。有人对这种行为有解释吗？有没有“淘汰赛”的方式来实现这一目标？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:50:48.667

我倾向于为此使用 arrayForEach 方法：

```
ko.utils.arrayForEach(self.cars(), function (item)
    {
        item.q(0);
    }); 
```

这对你有用吗？

# .net - 使用基础设施控件进行列表排序的建议

> ID：14457830
> 
> 赞同：0
> 
> 时间：2013-01-22T11:47:17.307
> 
> 标签：.net, winforms, infragistics

我工作的新公司在他们的 Winforms 应用程序中使用基础设施控件，我没有这方面的经验。我需要订购一个列表（最好通过拖放）以推断列表中项目的优先级。这可以通过内部 Winforms 控件来完成吗？

谢谢安迪

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T20:56:47.360

您可以使用一些控件来完成此操作，尽管它们没有内置此功能。这是一个派生的 UltraWinListView，带有一个 DrawFilter，在移动您可以使用的项目时显示突出显示：

这是 DragListView 的代码：

```
using Infragistics.Win.UltraWinListView;
using System;
using System.Drawing;
using System.Windows.Forms;
using Infragistics.Shared;
using System.Reflection;

namespace WindowsFormsApplication1
{
    public class DragListView : UltraListView
    {
        private DragListViewDrawFilter m_oDrawFilter = new DragListViewDrawFilter();

        // stores a boolean that will determine when the mouse is moved if there is something to drag.
        bool allowDrag = false;
        // stores the item to drag
        UltraListViewItem itemToDrag = null;
        // stores the point that the initial mouse down occurred
        Point startPoint;

        internal UltraListViewItem ItemToDrag
        {
            get { return this.itemToDrag; }
        }

        protected override void OnCreateControl()
        {
            base.OnCreateControl();
            if (!this.DesignMode)
            {
                // Wire up events
                this.DragDrop += new System.Windows.Forms.DragEventHandler(DragListView_DragDrop);
                this.DragLeave += new EventHandler(DragListView_DragLeave);
                this.DragOver += new System.Windows.Forms.DragEventHandler(DragListView_DragOver);
                this.MouseDown += new System.Windows.Forms.MouseEventHandler(DragListView_MouseDown);
                this.MouseLeave += new EventHandler(DragListView_MouseLeave);
                this.MouseMove += new System.Windows.Forms.MouseEventHandler(DragListView_MouseMove);
                this.MouseUp += new System.Windows.Forms.MouseEventHandler(DragListView_MouseUp);

                this.m_oDrawFilter.Invalidate += new EventHandler(m_oDrawFilter_Invalidate);

                // Allow dropping on the control
                this.AllowDrop = true;

                m_oDrawFilter.DropLineColor = Color.Blue;
                m_oDrawFilter.DropLineWidth = 3;

                this.DrawFilter = m_oDrawFilter;
            }
        }

        void m_oDrawFilter_Invalidate(object sender, EventArgs e)
        {
            this.Invalidate();
        }

        void DragListView_DragDrop(object sender, System.Windows.Forms.DragEventArgs e)
        {
            // get the item being dropped onto if one exists (The coordinates for this event are screen coordinates so they need to be tranlated to client coordinates)
            UltraListViewItem dropTarget = m_oDrawFilter.DropHighlightItem;

            // only if we have an item that we are dropping on do we do anything
            if (dropTarget != null)
            {
                // if dropLinePosition is AboveItem, then we will drop the item on the targetItems index
                int indexModifier = 0;
                if (this.m_oDrawFilter.dropLinePosition == ListViewDropLinePositionEnum.BelowItem)
                {
                    indexModifier = 1; // the index of the dropped item should be one more than the targetItem
                }
                UltraListViewItem itemToMove = e.Data.GetData(typeof(UltraListViewItem)) as UltraListViewItem;
                if (itemToMove != null)
                {
                    // move the item by removing it from the list and reinserting at the index of the dropTarget added to the indexModifier
                    this.Items.Remove(itemToMove);
                    this.Items.Insert(dropTarget.Index + indexModifier, itemToMove);
                    itemToMove.Group = dropTarget.Group;
                }
            }
            this.m_oDrawFilter.SetDropHighlight(null, ListViewDropLinePositionEnum.None);
        }

        void DragListView_DragLeave(object sender, EventArgs e)
        {
            // When the mouse goes outside the control, clear the drophighlight. 
            // Since the DropHighlight is cleared when the mouse is not over a ListViewItem, anyway, this is probably not needed.
            // But, just in case the user goes from a ListViewItem directly off the control...
            m_oDrawFilter.ClearDropHighlight();
        }

        void DragListView_DragOver(object sender, System.Windows.Forms.DragEventArgs e)
        {
            // needed to change the drag drop to allow dropping
            e.Effect = DragDropEffects.Move;

            Point pointInListView = this.PointToClient(new Point(e.X, e.Y));

            UltraListViewItem item = this.ItemFromPoint(pointInListView);

            if (item == null)
            {
                // The Mouse is not over an item, do not allow dropping here
                e.Effect = DragDropEffects.None;

                // Erase any DropHightlight
                m_oDrawFilter.ClearDropHighlight();
            }
            else
            {
                e.Effect = DragDropEffects.Move;
                m_oDrawFilter.SetDropHighlight(item, pointInListView);
            }

            // Logic to scroll the WinListView if the cursor is dragged near the top or bottom edge of the control
            Point p = pointInListView;
            UltraListViewItem lvi = this.ItemFromPoint(p);

            if (p.Y < this.Height / 10)
            {
                Scroll(ScrollEventType.SmallDecrement);
            }
            if (p.Y > this.Height - (this.Height / 10))
            {
                Scroll(ScrollEventType.SmallIncrement);
            }
        }

        private void Scroll(ScrollEventType value)
        {
            Type listViewType = this.GetType();
            PropertyInfo scrollManagerProperty = listViewType.GetProperty("ScrollManager", BindingFlags.GetProperty | BindingFlags.NonPublic | BindingFlags.Instance);            
            Object scrollManager = scrollManagerProperty.GetValue(this, null);
            Type scrollManagerType = scrollManager.GetType();
            scrollManagerType.InvokeMember("Scroll", BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.InvokeMethod, null, scrollManager, new object[] { Orientation.Vertical, value });
        }

        protected void Scroll(UltraListViewItem lvi, int count)
        {
            KeyedSubObjectsCollectionBase list = this.Items;
            if (lvi.Group != null)
                list = lvi.Group.Items;
            int index = list.IndexOf(lvi);            
            if (index >= 0)
                index += count;

            if (index >= 0 && index < list.Count)
            {
                UltraListViewItem item = list.GetItem(index) as UltraListViewItem;
                if (item != null)
                    item.BringIntoView();
            }
        }

        void DragListView_MouseDown(object sender, System.Windows.Forms.MouseEventArgs e)
        {
            // get the item at the mouse location
            UltraListViewItem item = this.ItemFromPoint(new Point(e.X, e.Y));
            // if there is an item there, then we have to store for possible drag drop
            if (item != null)
            {
                // store the item
                this.itemToDrag = item;
                // set the flag so dragging can be done in the mouse move
                this.allowDrag = true;
                // store the start point
                this.startPoint = new Point(e.X, e.Y);
            }
        }

        void DragListView_MouseLeave(object sender, EventArgs e)
        {
            // if the mouse leaves the control, we will not be beginning a drag drop operation
            this.allowDrag = false;
        }

        void DragListView_MouseMove(object sender, System.Windows.Forms.MouseEventArgs e)
        {
            // check if we have set the flag for allowing dragging (indicates that the mouse has gone 
            // down over an element and is still down and a drag drop hasn't yet started)
            if (this.allowDrag)
            {
                Point listViewPoint = new Point(e.X, e.Y);

                // check if we have moved a few pixels
                if (this.DragDistanceReached(this.startPoint, listViewPoint))
                {
                    // we have moved a vew pixels so we will begin the drag, AllowDrag flag is reset
                    this.allowDrag = false;
                    // Start the drag.
                    this.m_oDrawFilter.SetDropHighlight(this.itemToDrag, listViewPoint);
                    this.DoDragDrop(this.itemToDrag, DragDropEffects.Move);
                }
            }
        }

        void DragListView_MouseUp(object sender, System.Windows.Forms.MouseEventArgs e)
        {
            // Once the mouse comes up, we no longer want to start a drag operation.
            this.allowDrag = false;
        }

        // determines if the mouse has moved a certain distance.
        private bool DragDistanceReached(Point p1, Point p2)
        {
            // get the x distance
            int xDist = Math.Abs(p1.X - p2.X);
            // get the y distance
            int yDist = Math.Abs(p1.Y - p2.Y);
            // get the total distance
            double totalDistance = Math.Sqrt(xDist * xDist + yDist * yDist);
            // we can drag if totalDistance is greater than three.
            return totalDistance > 3;
        }
    }
} 
```

这是 DragListViewDrawFilter 的代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Infragistics.Win;
using Infragistics.Win.UltraWinListView;
using System.Drawing;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    [System.Flags]
    internal enum ListViewDropLinePositionEnum
    {
        None = 0,
        AboveItem = 1,
        BelowItem = 2,
    }

    public class DragListViewDrawFilter : IUIElementDrawFilter
    {

        private UltraListViewItem dropHighlightItem = null;
        internal ListViewDropLinePositionEnum dropLinePosition { get; set; }

        public Color DropLineColor { get; set; }
        public int DropLineWidth { get; set; }

        public UltraListViewItem DropHighlightItem
        {
            get { return dropHighlightItem; }
            set
            {
                if (!this.dropHighlightItem.Equals(value))
                {
                    this.dropHighlightItem = value;
                    PositionChanged();
                }
            }
        }

        public event System.EventHandler Invalidate;

        #region IUIElementDrawFilter Members

        public bool DrawElement(DrawPhase drawPhase, ref UIElementDrawParams drawParams)
        {
            switch (drawPhase)
            {
                case DrawPhase.AfterDrawElement:
                    {
                        // We're in AfterDrawElement. So the only states we are conderned with are Below and Above
                        // Get the elemnt as an UltraListViewItemElement if it is one.
                        UltraListViewItemUIElement element = drawParams.Element as UltraListViewItemUIElement;
                        if (element != null && this.dropLinePosition != ListViewDropLinePositionEnum.None && this.dropHighlightItem == element.Item)
                        {
                            // Declare a pen to use for drawing Droplines
                            using (Pen p = new Pen(this.DropLineColor, this.DropLineWidth))
                            {
                                // Get a reference to the Grahpics object we are drawing to.
                                Graphics g = drawParams.Graphics;

                                // The left edge of the Dropline
                                int leftEdge = element.Rect.Left;
                                // right edge of the drop line
                                int rightEdge = element.Rect.Right;

                                int lineVPosition;

                                if (this.dropLinePosition == ListViewDropLinePositionEnum.BelowItem)
                                {
                                    // Draw Line below item
                                    lineVPosition = element.Rect.Bottom;
                                    g.DrawLine(p, leftEdge, lineVPosition, rightEdge, lineVPosition);
                                }
                                if (this.dropLinePosition == ListViewDropLinePositionEnum.AboveItem)
                                {
                                    // Draw Line below item
                                    lineVPosition = element.Rect.Top;
                                    g.DrawLine(p, leftEdge, lineVPosition, rightEdge, lineVPosition);

                                }
                            }
                        }
                        // Draw custom image where the mouse is when dragging.
                        UltraListViewUIElement listViewElement = drawParams.Element as UltraListViewUIElement;
                        if (null != listViewElement && this.dropLinePosition != ListViewDropLinePositionEnum.None)
                        {
                            DragListView dlv = listViewElement.Control as DragListView;

                            if (dlv != null && dlv.ItemToDrag != null)
                            {
                                Image img = dlv.ItemToDrag.Appearance.Image as Image;
                                if (img != null)
                                {
                                    Point cursorPosition = dlv.PointToClient(Cursor.Position);
                                    Rectangle rect = new Rectangle(cursorPosition, new Size(30, 30));
                                    drawParams.Graphics.DrawImage(img, rect);
                                }

                            }
                        }

                    }
                    break;
            }
            return false;
        }

        public DrawPhase GetPhasesToFilter(ref UIElementDrawParams drawParams)
        {
            return DrawPhase.AfterDrawElement;
        }

        #endregion

        internal void ClearDropHighlight()
        {
            this.SetDropHighlight(null, ListViewDropLinePositionEnum.None);
        }

        internal void SetDropHighlight(UltraListViewItem item, ListViewDropLinePositionEnum dropLinePosition)
        {
            //Use to store whether there have been any changes in 
            //DropItem or DropLinePosition
            bool IsPositionChanged = false;

            if (this.dropHighlightItem == null)
            {
                IsPositionChanged = !(item == null);
            }
            else
            {
                //Check to see if the items are equal and if 
                //the dropline position are equal
                if (this.dropHighlightItem.Equals(item) && (this.dropLinePosition == dropLinePosition))
                {
                    //They are both equal. Nothing has changed. 
                    IsPositionChanged = false;
                }
                else
                {
                    //One or both have changed
                    IsPositionChanged = true;
                }
            }
            //Set both properties without calling PositionChanged
            this.dropHighlightItem = item;
            this.dropLinePosition = dropLinePosition;

            //Check to see if the PositionChanged
            if (IsPositionChanged)
            {
                //Position did change.
                PositionChanged();
            }
        }

        /// <summary>
        /// When the dropItem or DropPosition change, we fire the Invalidate event to let the 
        /// program know to invalidate the Tree control. 
        /// This is neccessary since the DrawFilter does not have a reference to the Tree Control (although it probably could)
        /// </summary>
        private void PositionChanged()
        {
            // if nobody is listening then just return
            //
            if (null == this.Invalidate)
                return;

            EventArgs e = EventArgs.Empty;

            this.Invalidate(this, e);
        }

        internal void SetDropHighlight(UltraListViewItem item, Point pointInListView)
        {
            // The distance from the edge of the item used to determine whether to 
            // drop Above, Below
            int DistanceFromEdge = item.UIElement.Rect.Height / 2;

            // The new DropLinePosition
            ListViewDropLinePositionEnum NewDropLinePosition;

            // Determine which part of the item the point is in
            if (pointInListView.Y <= (item.UIElement.Rect.Top + DistanceFromEdge))
            {
                // Point is in the top of the oNode
                NewDropLinePosition = ListViewDropLinePositionEnum.AboveItem;
            }
            else
            {
                NewDropLinePosition = ListViewDropLinePositionEnum.BelowItem;
            }

            // Now that we have the new DropLinePosition, call the real proc to get things rolling
            SetDropHighlight(item, NewDropLinePosition);
        }
    }
} 
```

请注意，您可能希望将命名空间从 WindowsFormsApplication1 更改为其他名称。

# iphone - 获取最后 30 条记录 coredata NSPredicate

> ID：14457844
> 
> 赞同：0
> 
> 时间：2013-01-22T11:48:03.470
> 
> 标签：iphone, core-data, nspredicate

我想从核心数据中获取最后 30 条记录，我想使用 NSPredicate ：目前

```
NSFetchRequest *request = [[NSFetchRequest alloc] init];
NSEntityDescription *entity = [NSEntityDescription entityForName:entityName inManagedObjectContext:managedContext];
[request setEntity:entity];

NSPredicate *predicate = [NSPredicate predicateWithFormat:@"((from == %@) AND (to == %@) )OR((from == %@) AND (to == %@))",from, to,to ,from];
[request setPredicate:predicate];

NSError *error = nil;
NSMutableArray *mutableFetchResults = [[managedContext
                                        executeFetchRequest:request
                                        error:&error] mutableCopy]; 
```

如何添加方法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T12:04:33.660

使用[排序描述符](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSFetchRequest_Class/NSFetchRequest.html#//apple_ref/doc/uid/TP30001170-BAJHFCAC)将其放入正确的顺序并将[获取限制](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSFetchRequest_Class/NSFetchRequest.html#//apple_ref/doc/uid/TP30001170-BAJBEABG)设置为 30

```
NSSortDescriptor* fromSortDescriptor = [[NSSortDescriptor alloc]
                            initWithKey:@"from" ascending:YES];
[request setSortDescriptors:@[fromSortDescriptor]];
[request setFetchLimit:30]; 
```

# eclipse - Eclipse 错误 -“无法加载 JavaHL 库”和“Widget 处理得太早！” 和“XPCOM 错误”

> ID：14457845
> 
> 赞同：0
> 
> 时间：2013-01-22T11:48:11.823
> 
> 标签：eclipse, svn

我一直在使用 SVN 在 Eclipse 中更新我的代码，并且我的工作空间在某个时刻崩溃了。我在 Eclipse 中使用 SVNKit 而不是默认的 SVN。

我得到了错误：

`**Failed to load JavaHL Library.**`

，但我已经退出了 Eclipse。所以下次我开始 eclipse 时，我不能因为那个错误 - 我在*.medatada/.log中看到过*

我的下一个错误是：

```
java.lang.RuntimeException: Widget disposed too early!
at org.eclipse.ui.internal.WorkbenchPartReference$1.widgetDisposed(WorkbenchPartReference.java:172) 
```

和

```
org.eclipse.swt.SWTError: XPCOM error -2147467262
at org.eclipse.swt.browser.Mozilla.error(Mozilla.java:2414) 
```

每次我开始日食时都会显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T09:06:11.940

这是我自己问题的答案。

对于错误：

```
**Failed to load JavaHL Library.** 
```

我修复它的方法是我在我的工作区中删除了我的**.snap**文件：

> /workspace/.metadata/.plugins/org.eclipse.core.resources/

我已经删除了那个文件和那个错误“！MESSAGE Failed to load JavaHL Library”。不再报告了。

对于下一个错误，它是说：

```
XPCOM error -2147467262 
```

我找到了 eclipse.ini 文件，我找到了“-vmargs”，我在下面添加了：

> -Dorg.eclipse.swt.browser.XULRunnerPath=/usr/lib/xulrunner

然后我运行了eclipse，一切正常。之后，当我成功进入工作空间时，我已经删除了指定的行

关于第二个问题，更多信息的链接位于：[http ://www-01.ibm.com/support/docview.wss?uid=swg21409186](http://www-01.ibm.com/support/docview.wss?uid=swg21409186)

我希望这会对某人有所帮助:)我希望它会帮助某人不要像我一开始那样创建新的工作空间并重新导入所有数据:)

# node.js - 尝试部署 nodejs

> ID：14457846
> 
> 赞同：0
> 
> 时间：2013-01-22T11:48:16.663
> 
> 标签：node.js, web-deployment, appfog, nodejitsu

我是nodejs的菜鸟，我正在尝试一些nodejs的教程。我正在尝试本教程：[http](http://cestfait.ch/content/chat-webapp-nodejs) : //cestfait.ch/content/chat-webapp-nodejs 它在我的本地主机上运行良好，但当我上传到 appfog 时却不行，就像你在这里看到的那样：http: [//nodebruno.hp.af 。厘米/](http://nodebruno.hp.af.cm/)

例如，提示不显示。我更改了代码以避免提示并在输入文本中插入昵称，这在 localhost 上有效，但在 appfog 上也无效。

我已经在 nodejitsu 服务器上尝试过，我也遇到了同样的问题

你能帮助我吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:59:31.257

您的应用程序出现错误，它正在尝试连接到 localhost socket.io 服务器。

您需要更改此行：

```
var socket = io.connect('http://localhost:8000'); 
```

至

```
var socket = io.connect(); 
```

它最好在[Nodejitsu上工作](http://nodejitsu.com)

# spring - 错误 org.springframework.web.context.ContextLoader - 上下文初始化失败

> ID：14457847
> 
> 赞同：0
> 
> 时间：2013-01-22T11:48:20.560
> 
> 标签：spring, initialization

我是新手，请帮我解决确切的问题。

```
ERROR org.springframework.web.context.ContextLoader - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/dataAccessContext.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: could not init listeners
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1338)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)
    at java.security.AccessController.doPrivileged(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T09:47:07.253

它发生了同样的错误，然后我意识到当我更改数据库的结构并手动更新 JPA 注释时会发生这种情况，这是一个让我无法理解的细节，解决我所做的是再次自动创建所有实体的映射（这个我用 NetBeans 向导做了）并且问题解决了。

[本文](http://blog.springsource.org/2012/04/06/migrating-to-spring-3-1-and-hibernate-4-1/)还有关于 Spring 3.1 和 Hibernate 4.1 集成的详细说明

# php - JsCarousel 滑块问题

> ID：14457848
> 
> 赞同：0
> 
> 时间：2013-01-22T11:48:22.513
> 
> 标签：php, jquery, slider

我正在使用**jsCarousel**滑块在水平方向显示缩略图。我有 8 个缩略图，我想在加载页面时显示 5 个缩略图。当我单击下一个图标时，滑块将一张一张滚动图像，而不是显示下一组所有图像。

```
 $(document).ready(function(){
        $('#carouselv').jsCarousel({
          onthumbnailclick:function(src){},
          autoscroll:true,
          circular:true,
          masked:false,
          itemstodisplay:5,
          orientation:'h'
      });
    }); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:56:51.463

您可以使用选项滚动来滚动图像的数量，例如

```
 $(document).ready(function(){
        $('#carouselv').jsCarousel({
          onthumbnailclick:function(src){},
          autoscroll:true,
          circular:true,
          masked:false,
          itemstodisplay:5,
          orientation:'h',
          scroll:1
      });
    }); 
```

# mirth - Mirth 数据库读者频道

> ID：14457849
> 
> 赞同：1
> 
> 时间：2013-01-22T11:48:26.883
> 
> 标签：mirth

我已经配置了 mirth 数据库读取器通道和 LLP 发送器通道。我能够发送消息并更新数据库中的详细信息。如果任何确认失败，我想更新数据库。我怎样才能做到这一点？任何建议都会有很大帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T19:21:26.287

On-Update 语句将在处理消息后运行，即使它在目标上出错。如果您想基于 HL7 NACK 有条件地更新，您可以在 On-Update 语句中执行此操作，但可能必须使用 JavaScript。或者，您可以在后处理器中执行此操作：

```
if ($r('Destination 1').getStatus() == 'FAILURE' && /.*MSA.[AC][RE].*/.test($r('Destination 1').getMessage())) {
    // Update the database here
} 
```

# php - 在 wordpress 论文主题中创建 footer.php

> ID：14457850
> 
> 赞同：0
> 
> 时间：2013-01-22T11:48:26.877
> 
> 标签：php, wordpress, wordpress-thesis-theme

我在论文主题文件夹中创建 footer.php 文件，但主题并未拉取该内容，因此如何访问页脚区域中 footer.php 文件的内容。

```
<div id="footer">
<div class="container clearfix">
    <div class="footer-widget widget_text" id="text-10">
    <h4 class="widgettitle" style="text-indent: 0px;">
 <cufontext>About </cufontext><cufontext>Liveagl.com</cufontext></h4> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:58:14.867

您需要使用论文页脚覆盖您的自定义页脚。

您可以通过在`function.php`文件中添加以下代码来实现。

```
remove_action('thesis_hook_footer', 'thesis_attribution');
function my_custom_footer() {
  //Your custome footer code goes here
}
add_action('thesis_hook_footer', 'my_custom_footer'); 
```

参考：[http ://thesistutor.com/how-to-change-the-footer-content/](http://thesistutor.com/how-to-change-the-footer-content/)

# solr - 如何在 Solr 中标记短语并获取方面

> ID：14457854
> 
> 赞同：1
> 
> 时间：2013-01-22T11:48:40.217
> 
> 标签：solr, tokenize

我想要一些东西来根据 .txt 文件中的给定短语对数据进行标记。通常，构面查询会给我空格标记化的构面。但我希望结果是这样的。

例如，对于字段“test_data”，我的数据是“aaa bbb-ccc ddd eee”，方面应该是这样的

```
<lst name="test_data">
    <int name="aaa">1</int>
    <int name="bbb-ccc">1</int>
    <int name="ddd eee">1</int>
</lst> 
```

并且 somefile.txt 将具有“bbb-ccc”和“ddd eee”作为短语

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:41:14.090

我刚刚发现 KeepWordFilterFactory 可以完成这项工作。我在架构中添加了这个字段类型

```
<fieldType name="text_keepword" class="solr.TextField" positionIncrementGap="100">
    <analyzer>
        <tokenizer class="solr.WhitespaceTokenizerFactory"/>
    <filter class="solr.KeepWordFilterFactory" words="keepwords.txt" ignoreCase="false" enablePositionIncrements="false"/>
    </analyzer>
</fieldType> 
```

和这个领域

```
<field name="keep_fld" type="text_keepword" indexed="true" stored="true"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T14:15:27.907

如果您不想构建自己的 Tokenizer，可以使用 PatternTokenizer：

> 例如，您有一个术语列表，由分号和零个或多个空格分隔：mice；小猫；小狗。

```
<fieldType name="semicolonDelimited" class="solr.TextField">
  <analyzer>
    <tokenizer class="solr.PatternTokenizerFactory" pattern=";\s*" />
  </analyzer>
</fieldType> 
```

[http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.PatternTokenizerFactory](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.PatternTokenizerFactory)

这样您就可以在其中添加您自己的带有 bbb-ccc 的正则表达式。

# iis - 如何使网站转到www。在 IIS7 中

> ID：14457855
> 
> 赞同：0
> 
> 时间：2013-01-22T11:48:45.400
> 
> 标签：iis, iis-7

我正在尝试在 IIS7 中建立一个网站。

如果我在浏览器地址栏中输入 mydomain.com - 会显示一个页面，但是如果我输入 www.mydomain.com，则会收到 500 错误。

关于寻找什么的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T14:08:06.753

这表明您的网站上可能没有 www.mydomain.com 的绑定设置。

在 IIS 中单击您的网站，在右侧的操作窗格中，它将有一个可单击的链接，上面写着 Bindings，这使您可以编辑绑定。mydomain.com 的端口 80 上应该有一个 http 绑定，但听起来您没有 www.mydomain.com 的 http 绑定，只需在端口 80 上添加一个带有 www.mydomain.com 主机名的 Http 绑定。

# ios - 如何在 UILocalnotification 中分配自定义时间？

> ID：14457858
> 
> 赞同：2
> 
> 时间：2013-01-22T11:48:56.773
> 
> 标签：ios, objective-c, nstimer, uilocalnotification

```
 - (void)scheduleNotification :(int) rowNo
{

    [[UIApplication sharedApplication] cancelAllLocalNotifications];

    Class cls = NSClassFromString(@"UILocalNotification");
    if (cls != nil) {

        UILocalNotification *notif = [[cls alloc] init];
        notif.timeZone = [NSTimeZone defaultTimeZone];

        NSString *descriptionBody=[[remedyArray objectAtIndex:rowNo]objectForKey:@"RemedyTxtDic"];

        NSLog(@"%@",descriptionBody);

        notif.alertBody = [NSString stringWithString:descriptionBody];
        notif.alertAction = @"Show me";
        notif.soundName = UILocalNotificationDefaultSoundName;
        notif.applicationIconBadgeNumber = 1;

        NSDictionary *userDict = [NSDictionary dictionaryWithObject:notif.alertBody
                                                             forKey:@"kRemindMeNotificationDataKey"];
        notif.userInfo = userDict;

        [[UIApplication sharedApplication] scheduleLocalNotification:notif];

    }
} 
```

我有一个从 Sqldb 获取的列名频率，其中包含通知应出现在特定单元格的次数。如果频率 = 3 .. 通知应该在上午 8 点、下午 2 点然后 8 点触发 如果频率 = 4 .. 通知应该在上午 8 点、下午 12 点、下午 4 点然后晚上 8 点触发。

有没有办法做到这一点？如果有人可以帮助我，那就太好了

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T13:35:28.363

不幸的是，您只能为 NSCalendarUnit（日、周、月）类型的 repeatInterval 指定值。因此，我认为，您需要创建多个具有不同 fireDate 的通知，并为它们指定 repeatInterval = NSDayCalendarUnit 例如，

```
NSDate *currentTime = [NSDate date];
notification1.fireDate = [NSDate dateWithTimeInterval:SOME_INTERVAL sinceDate:currentTime];
notification1.repeatInterval = NSDayCalendarUnit;

notification2.fireDate = [NSDate dateWithTimeInterval:SOME_INTERVAL * 2 sinceDate:currentTime];
notification2.repeatInterval = NSDayCalendarUnit; 
```

用户查看某些通知后 - 您可以取消它们。

**更新。**

您还可以从不同的组件创建 NSDate，如下所示：

```
NSDateComponents *components = [[NSDateComponents alloc] init];
[components setWeekday:2]; // Monday
[components setWeekdayOrdinal:1]; // The first Monday in the month
[components setMonth:5]; // May
[components setYear:2013];
NSCalendar *gregorian = [[NSCalendar alloc]
                     initWithCalendarIdentifier:NSGregorianCalendar];
NSDate *date = [gregorian dateFromComponents:components]; 
```

您还可以设置小时、分钟、秒、时区和其他参数。

# c - 获取任何防病毒软件详细信息的方法

> ID：14457864
> 
> 赞同：2
> 
> 时间：2013-01-22T11:49:21.493
> 
> 标签：c, windows

我对桌面应用程序有此要求，我们需要检查是否安装了防病毒软件，如果是，则需要获取名称等详细信息以及是否已更新。以及通过命令提示符更新和扫描系统驱动器的 exe 名称

如果有任何适用于 windows 的 c/c++ 代码，请尽快告诉我

我已经通过 WMI 类实现了。它可以与 AVG 防病毒一起正常工作，因为 AVG 的 exe（扫描和更新）都在同一个文件夹路径中。但对于 Mcafee，情况并非如此。所以我必须硬编码一些路径，但我不想硬编码路径，

所以，请告诉我是否有任何其他方法可以获取任何防病毒软件的详细信息。

# c# - CreateCar 向导上一个 ViewModel 的多个视图

> ID：14457867
> 
> 赞同：1
> 
> 时间：2013-01-22T11:49:30.217
> 
> 标签：c#, asp.net-mvc, viewmodel, partial-views

我有一个包含 5 个步骤的向导，在每个步骤中，我都会从用户那里获取有关他的汽车销售的信息。第一个是操作类型（Sale、Rent），第二个是 Category（Car、Truck、Boat），第三个是项目的详细信息（Make、Model、Version），四个是 extras，五个是会员地址。

选项的每个步骤列表都是使用 @Ajax.ActionLink 构建的，并将结果发送到以下母版页中的特定 DIV（操作 -> 类别 -> 广告 -> 附加 -> 成员 -> 创建）：

```
@model Heelp.ViewModels.CreateAdViewModel

@using (Html.BeginForm(MVC.Ad.Create(), FormMethod.Post, new { id = "createAdForm" })) 
{
    @Html.AntiForgeryToken()
    <div id="operation">
         @{ Html.RenderAction(MVC.Ad.CreateAdOperation()); }
    </div>
    <div id="category"></div>
    <div id="ad"></div>
    <div id="extras"></div>
    <div id="member"></div>

   <input type="submit" value="Create" />
} 
```

此母版页具有“主”视图模型“CreateAdViewModel”，它将接收来自所有步骤的所有信息，创建要发送到 CreateAd 操作的所有“输入”。

我现在拥有的是每个步骤的 ViewModel：

```
public class CreateAdOperationViewModel
{
    // Operation Fields
}

public class CreateAdCategoryViewModel
{
    // Category Fields
}

public class CreateAdViewModel
{
    // Common Ad Fields
}

public class CreateAdCarViewModel : CreateAdViewModel
{
    // Car View Model Fields
} 
```

主要问题是要知道这个解决方案是否有意义，因为我知道，每个 View 都应该有自己的 ViewModel，但我需要提交一个基于不同 View 的主 ViewModel，每个 ViewModel 都有自己的 ViewModel。

感谢您的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:01:46.447

您可以在 View 之间共享 ViewModel，前提是这些 View 需要访问相同的数据。如果共享数据只是部分而不是整个视图，您可以拥有单独的 ViewModel（每个 View 一个 ViewModel），并具有包含共享数据的共享“上下文”属性。

这是一个示例文章，展示了如何做到这一点： http: [//blog.bitdiff.com/2012/05/sharing-common-view-model-data-in.html](http://blog.bitdiff.com/2012/05/sharing-common-view-model-data-in.html)

祝你好运！

# android - Android 中未显示为灰色的不可点击菜单项

> ID：14457868
> 
> 赞同：3
> 
> 时间：2013-01-22T11:49:35.063
> 
> 标签：android, android-actionbar

我的溢出菜单中有一个完全没有图标的菜单项，我将其用作用户不应立即看到的信息。

当我禁用它时，它会变灰。我想做一个不可点击的项目？我怎样才能做到这一点？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:03:44.233

为了实现这一点，您应该为`ListView`item指定自己的样式`selector`：

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_window_focused="false" android:state_enabled="true"
        android:drawable="@drawable/btn_default_normal" />
    <item android:state_window_focused="false" android:state_enabled="false"
        android:drawable="@drawable/btn_default_normal" />
    <item android:state_pressed="true" 
        android:drawable="@drawable/btn_default_pressed" />
    <item android:state_focused="true" android:state_enabled="true"
        android:drawable="@drawable/btn_default_selected" />
    <item android:state_enabled="true"
        android:drawable="@drawable/btn_default_normal" />
    <item android:state_focused="true"
        android:drawable="@drawable/btn_default_normal_disable_focused" />
    <item
         android:drawable="@drawable/btn_default_normal" />
</selector> 
```

它是从默认按钮的 xml 中获取的代码。我改变了它，以便在状态`android:state_enabled="false"`它仍然使用正常背景。

您可以将其更改为您希望您的项目看起来像的任何东西。

将其放入名为 example 的 xml 文件中`my_item.xml`，将其放入 drawable 目录中，然后在您创建项目的 xml 中，将其背景设置为`background="@drawable/my_item"`.

# javascript - 使用 JS/jQuery 从多个数组中随机获取字符串的更简洁方法？

> ID：14457869
> 
> 赞同：0
> 
> 时间：2013-01-22T11:49:37.233
> 
> 标签：javascript, jquery

多个数组是在服务器端自动生成的，无法使用名称对其进行修改：section1、section2、section3 等等。每个数组始终至少有一个值，每个数组中最多有 50 个值。

示例数组列表：

```
section1 = ['ABC100', 'ABC105', 'ABC209'];
section2 = ['ABC400', 'ABC705', 'ABC629'];
section3 = ['ABC176', 'ABC136', 'ABC279']; 
```

我目前需要从每个数组中随机选择一个值并更新图像 src 属性。我确实可以访问图像 HTML，因此可以更改类等。

当前的 HTML 示例：

```
<div id="wrapper">
    <img class="section1" src="">
    <img class="section2" src="">
    <img class="section3" src="">
</div> 
```

我的 javascript 和 jQuery 从它的匹配数组中随机选择一个值并更新图像 src 是：

```
var $pathName = '/images/gallery/';
var $fileExtension = '.jpg';

var $section1R = section1[Math.floor(Math.random()*section1.length)];

var $section2R = section2[Math.floor(Math.random()*section2.length)];

var $section3R = section3[Math.floor(Math.random()*section3.length)];

$('.section1').attr('src', $pathName + $section1R + $fileExtension);
$('.section2').attr('src', $pathName + $section2R + $fileExtension);
$('.section3').attr('src', $pathName + $section3R + $fileExtension); 
```

这看起来真的很乱。有没有办法在不重复这么多代码的情况下使这个更干净？我知道它有效，但我想学习更好的编码重复函数的方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:52:50.837

你可以这样做：

```
$('#wrapper img[class^=section]').attr('src', function(){
    var a = window[this.className];
    return $pathName + a[Math.floor(Math.random()*a.length)]+$fileExtension;
}); 
```

但我建议不要将所有变量都放在全局命名空间中。因此，我会使用一个对象或一个数组来保存它们。

另请注意，通常约定是`$`仅当变量名包含 jQuery 集时才以 a 开头。在这里很难知道你为什么给他们这样的名字。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:53:11.953

将数组放入数组中：

```
var sections = [section1, section2, section3]; 
```

然后只需将一个函数传递给`attr`并使用迭代的索引来访问正确的数组：

```
$('#wrapper img').attr('src', function(index) {
    var section = sections[index];
    var value = section[Math.floor(Math.random() * section.length)];
    return $pathName + value + $fileExtension;
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:54:55.597

将其总结为一个函数，因为所有三个选择都执行相同的操作。一种方法可能是：

```
function rndElement(arrayElement)
{
   return arrayElement[Math.floor(Math.random()*arrayElement.length)];
}

var $section1R = rndElement(section1); 
```

# java - android，调试未连接到PC，没有wifi？

> ID：14457872
> 
> 赞同：0
> 
> 时间：2013-01-22T11:49:51.167
> 
> 标签：java, android, eclipse, debugging

我需要在我的程序中设置断点。但是我无法连接到 PC 进行调试，只能用于启动应用程序。我还没有wifi功能。我可以在平板电脑上放一些可以使用的东西吗？我有目录日志，但这不是我自己需要的。我尝试在调试模式下运行程序，命中计数 = 10，但它不起作用。程序一直在执行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:54:54.930

您可以通过网络连接连接到 adb。看：

[如何在没有 USB 连接的情况下在手机睡眠模式下调试 Android 应用程序](https://stackoverflow.com/questions/6713050/how-to-debug-android-application-in-phone-sleep-mode-without-usb-connection)

Android 有一个通过网络连接进行调试的选项，以便您可以将 USB 端口用于其他硬件。

> 在调试使用 USB 附件或主机功能的应用程序时，您很可能会将 USB 硬件连接到您的 Android 设备。这将阻止您通过 USB 与 Android 供电设备建立 adb 连接。您仍然可以通过网络连接访问 adb。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T15:33:36.920

答案是：不行，需要wifi或者连接电脑

# batch-file - 如何使用 xcopy 从文本文件中复制文件和文件夹结构？

> ID：14457876
> 
> 赞同：3
> 
> 时间：2013-01-22T11:50:13.943
> 
> 标签：batch-file, xcopy

我有一个包含文件和文件夹列表的文本文件。我想要做的是使用 xcopy 复制文本文件中写入的内容。我的文本文件如下所示：

```
"C:\FOLDER"  
"C:\FOLDER\FILE1.TXT"
"C:\FOLDER\FILE2.TXT"
"C:\FOLDER\FOLDER2"
"C:\FOLDER\FOLDER2\FILE3.TXT" 
```

对于给定的输出目录`"C:\OUTPUT"`，我想复制整个结构，所以：

```
"C:\OUTPUT\FOLDER"  
"C:\OUTPUT\FOLDER\FILE1.TXT"
"C:\OUTPUT\FOLDER\FILE2.TXT"
"C:\OUTPUT\FOLDER\FOLDER2"
"C:\OUTPUT\FOLDER\FOLDER2\FILE3.TXT" 
```

我怎样才能做到这一点？到目前为止，我已经编写了一个读取文件每一行的 for 循环，但如果该行是文件夹，它会复制所有文件。我想要做的只是复制和创建文本文件中提到的文件和文件夹。

```
@echo off
for /f "delims=] tokens=1*" %%a in (textfile.txt) do (
   XCOPY /S /E %%a "C:\OUTPUT"
) 
```

我在正确的轨道上吗？

感谢你并致以真诚的问候，

安德鲁

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T13:31:29.727

是的，你很接近。只需要使用现有路径作为附加的目标路径。

## 更新

```
@echo off
for /f "delims=" %%A in (textfile.txt) do if exist "%%~fA\*" (
    md "C:\Output\%%~pA"
    copy /y "%%~fA" "C:\Output\%%~pnxA"
) 
```

* * *

## 原来的

如果`%%A`= "C:\Folder\Folder2\File3.txt"，则`%%~pA`= Folder\Folder2

```
@echo off
for /f "delims=" %%A in (textfile.txt) do (
    md "C:\Output\%%~pA"
    if not exist "%%~fA\*" echo f | xcopy "%%~fA" "C:\Output\%%~pnxA" /y
) 
```

确保仅在`if not exist "%%~fA\*"`条目不是目录时才复制条目。[有关更多技术和评论，请参阅参考资料](https://stackoverflow.com/questions/138981/how-do-i-test-if-a-file-is-a-directory-in-a-batch-script)

在`for /?`命令行中输入以查看变量修饰符的列表。`%%~A`将从变量中删除周围的引号（如果有）。

[发布有关 xcopy 提示问题的信息。](https://stackoverflow.com/a/3018369/891976)并[修复 #2](https://stackoverflow.com/a/3018371/891976)。

备用设置，因为您很可能不需要 xcopy 功能。

```
@echo off
for /f "delims=" %%A in (textfile.txt) do (
    md "C:\Output\%%~pA"
    if not exist "%%~fA\*" copy /y "%%~fA" "C:\Output\%%~pnxA"
) 
```

# php - 在 PHP MySQL 查询中遇到问题

> ID：14457884
> 
> 赞同：0
> 
> 时间：2013-01-22T11:50:50.413
> 
> 标签：php, mysql

我们如何做如下事情？

```
$results = $DB->query("SELECT * FROM users WHERE id!='{$id}' "); 
```

即使我不知道编码，

```
$a = $DB->query("SELECT * FROM friends WHERE(someone is not friends with you)' "); 
```

朋友的专栏：`user_id`,`friends_id`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:26:52.980

不知道您的数据库的确切结构会使您的问题变得有点棘手，但是如果某人是您的朋友或您是他的朋友，则认为某人是您的朋友，您必须选择那些您没有添加为的人朋友，他们也没有加你。

像这样的查询应该对您有所帮助。

“SELECT * FROM users WHERE users.id NOT IN (select * from friends where user_id != '{$your_id}' ANDfriend_id != '{$your_id}')”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:59:19.057

使用不在

```
ID NOT IN (IDs OF FRIEND)
```

**例子**

```
$DB->query("SELECT * FROM user AS User WHERE User.id NOT IN (select * from friends where user_id = User.id)");
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T12:00:55.497

```
$DB->query("SELECT x.* FROM users x WHERE x.id NOT IN (myid, friendids)"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T12:09:22.813

你需要找到不是你朋友的人。正确的？所以你有你的**user_id**作为**$my_id**。然后，您可以从**user_id**字段不包含您的 user_id 值（$my_id）的**朋友**中选择**friend_ID 。**然后从检索到的这些朋友 ID 中，您可以从用户表中选择用户。用这个：

 ****> $DB->query(SELECT * FROM users WHERE id IN(selectfriend_id FROM friends WHERE user_id != {$my_id}))

将工作。:)****

# sql - 选择具有多个关系的行

> ID：14457890
> 
> 赞同：1
> 
> 时间：2013-01-22T11:51:13.747
> 
> 标签：sql, postgresql

鉴于此架构：

```
CREATE TABLE t (
  id int,
  name varchar(200),
  primary key (id)
);

CREATE TABLE t2 (
  id int,
  name varchar(200),
  primary key (id)
);

CREATE TABLE rel (
  id1 int,
  id2 int,
  value int,
  primary key (id1, id2),
  foreign key (id1) REFERENCES t(id),
  foreign key (id2) REFERENCES t2(id)
); 
```

我应该如何查询`t`满足超过 1 个关系的行`t2`？这听起来很容易，但我不确定在这种情况下最佳做法是什么。我将通过查询更好地解释：

```
SELECT t.id, t.name
FROM t
INNER JOIN rel ON (t.id = rel.id1)
INNER JOIN t2 ON (t2.id = rel.id2)
WHERE (rel.id2 = 1 AND rel.value = 1) 
```

当我需要找到满足一种关系的行时，上述方法效果很好。但现在：

```
SELECT t.id, t.name
FROM t
INNER JOIN rel ON (t.id = rel.id1)
INNER JOIN t2 ON (t2.id = rel.id2)
WHERE (rel.id2 = 1 AND rel.value = 1)
AND (rel.id2 = 2 AND rel.value = 2) 
```

对于 2 个关系，此查询将永远不会起作用，因为连接的行永远不会在一行中有 2 个不同的关系，因此它将始终返回`0`行。

到目前为止，我一直在使用的解决方案是从关系中寻找作为结果集的`t.id`s ：`IN`

```
SELECT t.id, t.name
FROM t
WHERE (t.id IN (SELECT id1 FROM rel WHERE rel.id2 = 1 AND rel.value = 1))
AND (t.id IN (SELECT id1 FROM rel WHERE rel.id2 = 2 AND rel.value = 2)) 
```

这行得通，但没有更好的方法吗？我觉得我写了太多的 SQL 并且为每个项目做一个子查询对于如此简单的事情似乎有点过分了。

这是[**SQL 小提琴**](http://sqlfiddle.com/#!12/cea83/1)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:55:30.627

这称为关系除法。

```
SELECT   t.id, t.name
FROM     t 
         INNER JOIN rel
            ON t.id = rel.id1
WHERE    rel.id2 IN (1,2) AND
         rel.value = 1
GROUP BY t.id, t.name
HAVING   COUNT(rel.id2) = 2 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!12/4bbd8/5)
*   [关系部](http://www.simple-talk.com/sql/t-sql-programming/divided-we-stand-the-sql-of-relational-division/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T11:57:37.190

我可能会过度简化问题，但是您能否在 where 子句中将an 更改`AND`为 an并用于获取给定条件的关系数。例如`OR``GROUP BY/HAVING`

```
SELECT  t.id, t.name
FROM    t
        INNER JOIN rel 
            ON t.id = rel.id1
        INNER JOIN t2 
            ON t2.id = rel.id2
WHERE   (rel.id2 = 1 AND rel.value = 1)
OR      (rel.id2 = 2 AND rel.value = 1)
GROUP BY t.Id, t.Name
HAVING COUNT(*) = 2; 
```

虽然我会将 where 子句重写为：

```
WHERE   rel.Value = 1 
AND     rel.ID2 IN (1, 2) 
```

**编辑**

我不会再用编辑过的问题重写上面的 where 子句。它会变成

```
WHERE   (rel.id2 = 1 AND rel.value = 1)
OR      (rel.id2 = 2 AND rel.value = 2) 
```

# javascript - 如何调用Javascript事件函数

> ID：14457891
> 
> 赞同：2
> 
> 时间：2013-01-22T11:51:15.643
> 
> 标签：javascript, dom-events

如何通过 getter 获取此事件从另一个 Javascript 函数调用 Javascript 事件？

一些示例代码如下：

```
<script type="text/javascript">
    function keyDownHandler(elem, e)
    {
       var keyId = e.keyCode;
       if(keyId === 13)
       {
          var clickMethod = elem.onclick;
          //now call the clickHandler method.
       }
    }
    </script>

    <input type="text" onkeydown="keyDownHandler(this, event)"
           onclick="clickHandler(this)" /> 
```

我想调用`onclick`输入字段属性中定义的方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:57:57.397

正如 Tim S. 所说，你可以直接调用处理程序，但是如果你真的想调用事件，你可以使用 Jquery 'trigger'。

```
$(elem).trigger('click') 
```

如果 elem 不是 jquery 对象。

编辑： jquery 不是必需的。代码应该通过在 onclick 调用中添加括号来工作。

```
function keyDownHandler(elem, e) {
            var keyId = e.keyCode;
            if (keyId === 13) {
                elem.onclick();
            }
        } 
```

必须定义 clickHandler。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:56:47.033

我不建议这样做。

您需要将共享登录`onclick`作为单独的方法从处理程序中抽象出来，然后从两个事件处理程序中调用该方法。

```
function sharedloginc(some arguments...) {
    //do something
}

function keyDownHandler(el, e) {
    //do something
    sharedloginc(....)   
}

function clickHandler(el, e){
    sharedloginc(....)
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:53:59.387

为什么不使用

```
<script type="text/javascript">
function keyDownHandler(elem, e)
{
    var keyId = e.keyCode;

    if(keyId === 13)
    {
        // call function, normally
        clickHandler(elem, null);
    }
}
</script> 
```

我已经设置了`event`参数`null`，因为，好吧，你不能生成一个（正确的！）事件对象。

* * *

好的，经过一番玩耍后，我设法做到了：

```
<script type="text/javascript">
function keydown_handler(el, e) {
    var click, code = e.keyCode;

    if(code === 13) {
        var handler = el.onclick;

        if(typeof handler === 'function') {
            handler.apply(this, el, null);
        }
    }
}

function click_handler(el, e) {
    alert('clicked!');
}
</script>

<input type="text" onkeydown="keydown_handler(this, event);" onclick="click_handler(this, event);" /> 
```

它似乎有效，但目前我无法验证它是否适用于所有浏览器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T11:57:59.933

这个例子将解决你的问题。

```
<html>
<head>
<title>Testing</title>
</head>
<body>
             <script type="text/javascript">
                 function keyDownHandler(elem, e)
                   {
                       var keyId = e.keyCode;
                       if(keyId == 13)
                       {
                         // var clickMethod = elem.onclick;
                          clickHandler(elem, e);
                        }
                   }
                  function clickHandler(elem, e)
                  {
                    alert("clickHandler");
                  }
           </script>
       <input type="text" onkeydown="keyDownHandler(this, event)" onclick="clickHandler(this, event)" />
</body>
</html> 
```

# ajax - 需要 AJAX 调用帮助的 HttpPost

> ID：14457893
> 
> 赞同：0
> 
> 时间：2013-01-22T11:51:20.947
> 
> 标签：ajax, json, asp.net-mvc-3, http-post

请问我的代码中还需要什么，到目前为止我有这个：

```
 <script type="text/javascript">
 function PostNewsComment(newsId) {
  $.ajax({
    url: "<%= Url.Action("AddCommentOnNews", "Home", new { area = "News" }) %>?newsId=" + newsId + "&newsComment=" + $("#textareaforreply").val(), success: function (data) {
      $("#news-comment-content").html(data + $("#news-comment-content").html());
      type: 'POST'
    }
  });
}
$("#textareaforreply").val("");
</script> 
```

和

```
 [HttpPost]
[NoCache]
public ActionResult AddCommentOnNews(int newsId, string newsComment)
{
  if (!String.IsNullOrWhiteSpace(newsComment))
  {
    var currentUser = ZincService.GetUserForId(CurrentUser.UserId);
    ZincService.NewsService.AddCommentOnNews(newsId, newsComment, currentUser.UserId);

    Zinc.DataModels.News.NewsCommentsDataModel model = new DataModels.News.NewsCommentsDataModel();
    var today = DateTime.UtcNow;
    model.CommentDateAndTime = today;
    model.NewsComment = newsComment;
    model.Firstname = currentUser.Firstname;
    model.Surname = currentUser.Surname;
    model.UserId = CurrentUser.UserId;
    return View("NewsComment", model);
  }

  return null;
}

<div class="actions-right">    
  <a href="javascript:PostNewsComment(<%: Model.News.NewsId %>);" class="button" id="post_button"><%: Html.Resource(Resources.Global.Button.Reply) %></a>                
</div> 
```

我不知道这是如何工作的，因为它在 FF 中不起作用？？？另一件事是我不能通过 return null 我必须通过 JSON false ???

请问有什么帮助吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:54:50.890

您应该对请求参数进行编码。现在你已经用强连接将它们连接到请求中，这是一种错误的方法。有一个名为的属性`data`允许您将参数传递给 AJAX 请求并将正确的 url 编码留给框架：

```
function PostNewsComment(newsId) {
    $.ajax({
        url: '<%= Url.Action("AddCommentOnNews", "Home", new { area = "News" }) %>', 
        type: 'POST',
        data: { 
            newsId: newsId, 
            newsComment: $('#textareaforreply').val() 
        },
        success: function (data) {
            $('#news-comment-content').html(data + $('#news-comment-content').html());
        }
    });
} 
```

此外，您还没有显示调用此`PostNewsComment`函数的位置和方式，但如果单击链接或提交按钮时发生这种情况，请确保您已通过返回 false 取消默认操作，就像这样：

```
$('#someLink').click(function() {
    PostNewsComment('123');
    return false;
}); 
```

> 另一件事是我不能通过 return null 我必须通过 JSON false ???

`JsonResult`在这种情况下，您可以让控制器操作返回 a ：

```
return Json(new { success = false }); 
```

然后在您的成功回调中，您可以测试这种情况：

```
success: function (data) {
    if (!data.success) {
        // the server returned a Json result indicating a failure
        alert('Oops something bad happened on the server');
    } else {
        // the server returned the view => we can go ahead and update our DOM
        $('#news-comment-content').html(data + $('#news-comment-content').html());
    }
} 
```

您可能应该注意的另一件事是评论文本中`<`存在危险字符。`>`为了允许这些字符，我建议您构建一个视图模型并使用属性装饰相应的`[AllowHtml]`属性：

```
public class NewsViewModel
{
    public int NewsId { get; set; }

    [AllowHtml]
    [Required]
    public string NewsComment { get; set; }
} 
```

现在您的控制器操作显然会将视图模型作为参数：

```
[HttpPost]
[NoCache]
public ActionResult AddCommentOnNews(NewsViewModel viewModel)
{
    if (!ModelState.IsValid)
    {
        var currentUser = ZincService.GetUserForId(CurrentUser.UserId);
        ZincService.NewsService.AddCommentOnNews(viewModel.NewsId, viewModel.NewsComment, currentUser.UserId);

        var model = new DataModels.News.NewsCommentsDataModel();
        var today = DateTime.UtcNow;
        model.CommentDateAndTime = today;
        model.NewsComment = newsComment;
        model.Firstname = currentUser.Firstname;
        model.Surname = currentUser.Surname;
        model.UserId = CurrentUser.UserId;
        return View("NewsComment", model);
    }

    return Json(new { success = false });
} 
```

# swing - Swing：Nimbus L&F 禁用组合框背景颜色

> ID：14457894
> 
> 赞同：0
> 
> 时间：2013-01-22T11:51:23.627
> 
> 标签：swing, look-and-feel, nimbus

我已经搜索了几天的答案并阅读了很多关于 LookAndFeels 和不透明问题的信息，但找不到解决方案。我正在使用 NimbusLookAndFeel 使用 Swing 开发 Java 应用程序。我对整体的外观很满意，但还是想修改一个视图的东西。现在我被卡住了，因为我无法设置禁用的 JCombobox 的背景颜色（combobox.setEnabled(false);)

我已经用 UIManager.put(..) + 很多其他的东西尝试了无数不同的属性。

如果我使用另一个 L&F 类似这样的东西：

```
combobox.setRenderer(new DefaultListCellRenderer() {
            @Override
            public void paint(Graphics g) {
                setBackground(Color.WHITE);
                setForeground(Color.BLACK);
                super.paint(g);
            }               
}); 
```

有什么建议如何用 Nimbus 做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T16:20:17.340

我经常使用 Nimbus 默认值。修改大多数组件没有问题，但我无法用它更改任何禁用组件的背景。

我最终写了一个这样的自定义 ListCellRenderer

```
public class DisabledListCellRenderer extends DefaultListCellRenderer {
    private static final long serialVersionUID = 1L;
    private JComponent component;

    public DisabledListCellRenderer(JComponent component) {
        this.component = component;
    }

    @Override
    protected void paintComponent(Graphics g) {
        g.setColor(SwingHelper.disabledBackgroundColor);
        g.fillRect(0, 0, component.getSize().width, component.getSize().height);
        super.paintComponent(g);
    }
} 
```

终于奏效了，但我不确定这是否是一个好的解决方案

# objective-c - 如何从 plist 向 tableview 写入和读取数据

> ID：14457897
> 
> 赞同：0
> 
> 时间：2013-01-22T11:51:26.997
> 
> 标签：objective-c, plist, bookmarks

您好我正在尝试为我的浏览器制作书签。页面标题、页面网址、与页面相关的任何评论。

我试图保存它`plist`，但不成功。任何人都可以帮助我将这些东西保存到 plist 并在表格视图中检索。因此，当用户点击标题时，它将在`UIWebView`.

到目前为止，这是我尝试过的代码：

```
NSError *error;
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *path = [documentsDirectory stringByAppendingPathComponent:@"bookmarks.plist"]; 

NSFileManager *fileManager = [NSFileManager defaultManager];

if (![fileManager fileExistsAtPath: path])
{
      NSString *bundle = [[NSBundle mainBundle] pathForResource:@"bookmarks" ofType:@"plist"];
        [fileManager copyItemAtPath:bundle toPath: path error:&error]; //6
}
NSMutableDictionary *data = [[NSMutableDictionary alloc] initWithContentsOfFile: path];

NSString *writeUrl = @"Page URL One";
NSString *writeTitle = @"Page Title One";
NSString *writeComment = @"Page comments";

[data setObject:[NSString stringWithString:writeUrl] forKey:@"url"];
[data setObject:[NSString stringWithString:writeTitle] forKey:@"title"];
[data setObject:[NSString stringWithString:writeComment] forKey:@"comment"];
[data writeToFile: path atomically:YES];

NSMutableDictionary *savedUrl = [[NSMutableDictionary alloc] initWithContentsOfFile: path];

NSString *value;
value = [[savedUrl objectForKey:@"url"] stringValue];
NSLog(@"%@", value); 
```

更新：我成功地在 plist 中保存和检索数据。此行出现问题

```
value = [[savedUrl objectForKey:@"url"] stringValue]; 
```

通过删除 stringValue 解决问题。

```
 value = [savedUrl objectForKey:@"url"]; 
```

现在我的第二个问题。我在 plist 文件中创建了三个名为 url、title、comment、types String 的项目。我如何存储不同的网址。喜欢

名称网站：inforains url：inforains.com 标题：Info Rains 评论：好网站文章

名称网站：hitechnology url：hitechnology.com 标题：Hitechnology 评论：hmmm

安苏上..

我怎样才能存储这样的数据..所以所有名称网站都将显示在 tableview 上，当用户点击任何人时，与该网站相关的数据将显示。我希望我能解决我的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T13:35:34.937

要将多个记录存储为三个项目，名为 url、title、comment、types String 在 plist 文件中将类型从字符串更改为字典，并将数据单独存储在每个字典中，键为 1,2,3 ... 或者为每个使用三个可变数组url、title 和 comment 并在保存时在索引 0 处添加对象。并在需要时作为 nsmutable 数组访问它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T12:39:20.910

更改此行

```
value = [[savedStock objectForKey:@"url"] stringValue]; 
```

至

```
value = [savedUrl objectForKey:@"url"]; 
```

因为您将 NSString 保存在字典中……而不是 NSNumber。

第二题：

```
//create mutable array to save all objects
NSMutableArray *objectsArray = [data objectForKey:@"objectsArray"];
if(!objectsArray) {
    objectsArray = [[NSMutableArray alloc] init];
}

//create and add dictionary into array
NSDictionary *dictionary = [[NSDictionary alloc] initWithObjects:[NSArray arrayWithObjects:@"url1", @"title1", @"comment2",nil] forKeys:[NSArray arrayWithObjects:@"url", @"title", @"comment",nil]];

[objectsArray addObject:dictionary];

[data setObject:objectsArray forKey:@"objectsArray"];

[data writeToFile: path atomically:YES];

// to read data
NSMutableDictionary *savedUrl = [[NSMutableDictionary alloc] initWithContentsOfFile: path];
NSMutableArray *objectsArraySAved = [savedUrl objectForKey:@"objectsArray"];
for (NSMutableDictionary *dic in objectsArraySAved) {
    NSLog(@"URL %@", [dic valueForKey:@"url"]);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T12:29:17.933

你确定 [data writeToFile: path atomically:YES]; 作品？它返回一个 BOOL，你应该检查它。你确定 savedURL != nil 吗？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T13:22:27.420

对于您的新问题，您应该将所有字典放在一个可变数组中。

```
NSMutableArray *bookmarkArray = [[NSMutableArray alloc]init];
[bookmarkArray addObject:data]; 
```

# ios - 动画 UIView 时 x 位置没有变化？

> ID：14457902
> 
> 赞同：0
> 
> 时间：2013-01-22T11:51:44.197
> 
> 标签：ios, uianimation

我有以下代码行，在使用动画移动视图时，我通过打印日志检查了移动元素的 x 位置。每次移动视图时都显示相同的 x 位置。

```
-(void)removeObject
{
    for (UIView *subview in [self subviews])
    {
        if (subview.frame.origin.x+subview.frame.size.width==0) {
            [subview removeFromSuperview];
        }
    }
}

-(void)animateView:(UIView*)view
{
[UIView animateWithDuration:5.0
                      delay:0.0
                    options:UIViewAnimationOptionCurveLinear |UIViewAnimationOptionRepeat
                 animations:^{
                     [view setFrame:CGRectMake(-100, 0, 200, 100)];
                 } completion:^(BOOL finished){
                 }];
}

-(void)addElement
{
    NSLog(@"add element called ");

    NSArray *subviews=[self subviews];
    UIView *subView=[self.datasource viewForIndex:count inMarque:self];

    if (![subviews containsObject:(id)subView]) {
        [subView setFrame:CGRectMake(320, 0, 100, 100)];
        [subView setBackgroundColor:[UIColor blueColor]];

        NSLog(@"subview frame is %f",subView.frame.origin.x);

        if (subView.frame.origin.x+subView.frame.size.width<300 || [subviews count]==0)
        {
        NSLog(@"add subview called");
        [self addSubview:subView];
        count=(count+1==numberOfElement)?0:count+1;
        }

        [self removeObject];
        [self animateView:subView];
    }
}

- (void)drawRect:(CGRect)rect
{
    NSLog(@"draw rect called ");
   numberOfElement=[self.datasource numberOfObjectsInMarque:self];    
   timer=[NSTimer scheduledTimerWithTimeInterval:0.2 target:self selector:@selector(addElement) userInfo:nil repeats:YES];
} 
```

//每次打印日志：

```
2013-01-22 17:23:36.680 Mob_Trading[2808:11303] draw rect called 
2013-01-22 17:23:36.882 Mob_Trading[2808:11303] add element called 
2013-01-22 17:23:36.884 Mob_Trading[2808:11303] subview frame is 320.000000
2013-01-22 17:23:36.884 Mob_Trading[2808:11303] add subview called
2013-01-22 17:23:37.082 Mob_Trading[2808:11303] add element called 
2013-01-22 17:23:37.083 Mob_Trading[2808:11303] subview frame is 320.000000
2013-01-22 17:23:37.282 Mob_Trading[2808:11303] add element called 
2013-01-22 17:23:37.283 Mob_Trading[2808:11303] subview frame is 320.000000
2013-01-22 17:23:37.482 Mob_Trading[2808:11303] add element called 
2013-01-22 17:23:37.483 Mob_Trading[2808:11303] subview frame is 320.000000
2013-01-22 17:23:37.682 Mob_Trading[2808:11303] add element called 
2013-01-22 17:23:37.683 Mob_Trading[2808:11303] subview frame is 320.000000
2013-01-22 17:23:37.882 Mob_Trading[2808:11303] add element called 
2013-01-22 17:23:37.883 Mob_Trading[2808:11303] subview frame is 320.000000
2013-01-22 17:23:38.082 Mob_Trading[2808:11303] add element called 
2013-01-22 17:23:38.083 Mob_Trading[2808:11303] subview frame is 320.000000 
```

我也试过这段代码，但即使这也不起作用..

```
 CGRect projectileFrame = [[subView.layer presentationLayer] frame];
        NSLog(@"subview frame is %f",projectileFrame.origin.x); 
```

在此先感谢。我将感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T04:05:46.043

我制作了以下代码，它在动画时返回 x 位置

```
#import "StockTiker.h"
#import "QuartzCore/QuartzCore.h"

static int count=0;

@implementation StockTiker

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        numberOfRows=0;
        // Initialization code
    }
    return self;
}

-(void)moveSubView
{
    UIView *subView=[self.delegate viewForRow:count];

    CABasicAnimation *theAnimation;
    theAnimation=[CABasicAnimation animationWithKeyPath:@"transform.translation.x"];
    theAnimation.delegate=self;
    theAnimation.removedOnCompletion=YES;
    theAnimation.duration=5;
    theAnimation.repeatCount=1;
    theAnimation.autoreverses=NO;
    theAnimation.fromValue=[NSNumber numberWithFloat:320];
    theAnimation.toValue=[NSNumber numberWithFloat:-subView.frame.size.width];
    [subView.layer addAnimation:theAnimation forKey:@"animateLayer"];
}

- (CGRect)visibleRect
{
    CGRect visibleRect;
    UIView *view=[self.delegate viewForRow:count];
    visibleRect.origin = [view.layer.presentationLayer frame].origin;
    visibleRect.size = view.frame.size;
    return visibleRect;
}

-(void)addElement:(UIView*)subView
{
    if (![self.subviews containsObject:(id)subView]) {
        [self addSubview:subView];
        [self moveSubView];
    }
}

-(void)checkPosition
{
    float x=[self visibleRect].origin.x+[self visibleRect].size.width;
    NSLog(@"x position is %f",x);

    if (x<300) {
        count=count+1;
        if (count==numberOfRows) {
            count=0;
        }
    }

    UIView *subView=[self.delegate viewForRow:count];
    [self addElement:subView];
}

- (void)drawRect:(CGRect)rect
{    
    numberOfRows=[self.delegate numberOfRowsForStockTiker:self];
    [NSTimer scheduledTimerWithTimeInterval:0.05 target:self selector:@selector(checkPosition) userInfo:nil repeats:YES];
}

#pragma mark- animation did stop selector

- (void)animationDidStop:(CABasicAnimation *)theAnimation finished:(BOOL)flag
{
    [[self.subviews objectAtIndex:0] removeFromSuperview];
}

@end 
```

安慰 - - - - - - - - - -

```
2013-01-29 09:36:46.371 Mob_Trading[297:11303] x position is 415.862579
2013-01-29 09:36:46.421 Mob_Trading[297:11303] x position is 411.661621
2013-01-29 09:36:46.472 Mob_Trading[297:11303] x position is 407.408386
2013-01-29 09:36:46.522 Mob_Trading[297:11303] x position is 403.188934
2013-01-29 09:36:46.571 Mob_Trading[297:11303] x position is 399.055939
2013-01-29 09:36:46.622 Mob_Trading[297:11303] x position is 394.804077
2013-01-29 09:36:46.672 Mob_Trading[297:11303] x position is 390.591888
2013-01-29 09:36:46.722 Mob_Trading[297:11303] x position is 386.388184
2013-01-29 09:36:46.771 Mob_Trading[297:11303] x position is 382.271362
2013-01-29 09:36:46.821 Mob_Trading[297:11303] x position is 378.072693
2013-01-29 09:36:46.871 Mob_Trading[297:11303] x position is 373.870941
2013-01-29 09:36:46.921 Mob_Trading[297:11303] x position is 369.670837
2013-01-29 09:36:46.971 Mob_Trading[297:11303] x position is 365.470734
2013-01-29 09:36:47.021 Mob_Trading[297:11303] x position is 361.269470
2013-01-29 09:36:47.072 Mob_Trading[297:11303] x position is 356.982086
2013-01-29 09:36:47.121 Mob_Trading[297:11303] x position is 352.858307
2013-01-29 09:36:47.172 Mob_Trading[297:11303] x position is 348.585815
2013-01-29 09:36:47.222 Mob_Trading[297:11303] x position is 344.443604
2013-01-29 09:36:47.271 Mob_Trading[297:11303] x position is 340.266754
2013-01-29 09:36:47.321 Mob_Trading[297:11303] x position is 336.064270
2013-01-29 09:36:47.371 Mob_Trading[297:11303] x position is 331.866699
2013-01-29 09:36:47.421 Mob_Trading[297:11303] x position is 327.658295
2013-01-29 09:36:47.472 Mob_Trading[297:11303] x position is 323.411072
2013-01-29 09:36:47.522 Mob_Trading[297:11303] x position is 319.199158
2013-01-29 09:36:47.572 Mob_Trading[297:11303] x position is 314.978210
2013-01-29 09:36:47.622 Mob_Trading[297:11303] x position is 310.785889
2013-01-29 09:36:47.672 Mob_Trading[297:11303] x position is 306.583618
2013-01-29 09:36:47.722 Mob_Trading[297:11303] x position is 302.382263
2013-01-29 09:36:47.772 Mob_Trading[297:11303] x position is 298.183167 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T12:14:59.803

这里似乎没有任何问题，您的日志记录准确地报告了您应该期望的内容。

```
 [subView setFrame:CGRectMake(320, 0, 100, 100)];
    [subView setBackgroundColor:[UIColor blueColor]];

    NSLog(@"subview frame is %f",subView.frame.origin.x); 
```

您使用 origin.x=320 设置框架，并稍后将其记录回两行。

我有一种感觉，你希望做的是看到 origin.x 的日志随着子视图在屏幕上移动而随时间变化？如果是这样，你不会走得太远，因为动画不是那样工作的。

动画不会以增量方式移动对象，而是在移动时重绘视图。*在动画开始之前，*对象被移动到它的最终位置。因此，在动画*期间*的任何时候，如果您测试动画对象的位置，它将报告它的最终位置。

# vb.net - 如何限制在 Open FileDialog 中选择多个文件？

> ID：14457907
> 
> 赞同：0
> 
> 时间：2013-01-22T11:52:03.003
> 
> 标签：vb.net, vb6, vb6-migration

我有一些任务要使用控件“CommonDialog1”在 VB6 中选择文件。迁移项目时，此控件将转换为 openfile 对话框。当某些属性未转换时，它显示为注释。这条线被评论了

```
'CommonDialog1.Flags = CommonDialog1.Flags Or &H80000  ' Dont ALLOWMULTISELECT 
```

我想知道我们在 VB.NET 中是否有任何属性用于打开文件对话框控件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T12:11:01.997

只需进行快速搜索，如果您使用的是 Visual Studio，则可以使用 IntelliSense 的帮助。

```
Dim myOpenFile as New OpenFileDialog()
myOpenfile.Multiselect = False 
```

[文档](http://msdn.microsoft.com/en-us/library/system.windows.forms.openfiledialog_members%28v=vs.80%29.aspx)

# c++ - 哈希表 - 链表数组 - C++

> ID：14457910
> 
> 赞同：5
> 
> 时间：2013-01-22T11:52:06.090
> 
> 标签：c++, linked-list, hashtable

我正在尝试通过在链接节点上使用数组（制作链接列表）来创建哈希表。但是我在将值插入哈希表时遇到了困难。当我运行它时，我得到了这个：

[http://gyazo.com/3a28a70e66b3ea34e08223e5948f49c0.png](http://gyazo.com/3a28a70e66b3ea34e08223e5948f49c0.png)

这是我的代码：

```
#include <iostream>
using namespace std;

class Node {
public:
  int num;
  Node * next;
};

class intHashTable {
private:
  int size;
  Node ** table;
public:
  intHashTable(int size);  // construct a new hash table with size elements
  ~intHashTable();     // delete the memory for all internal components
  void insert(int num);    // insert num into the hash table, no effect
               // if num is already in table
  void remove(int num);    // remove num from the hash table, no effect if not in table
  int lookup(int num);     // return 1 if num is already in table, 0 otherwise
  void print(void);        // print the elements of the hash table to the screen
};

// construct a new hash table with nelements elements
intHashTable::intHashTable(int nelements)
{
  size = nelements;
  table = new Node*[size];
  for ( int i = 0; i < size; i++ ) {
    table[i] = NULL;
  }
}

intHashTable::~intHashTable()
{
   for(int i=0; i<size; i++)
   {
      Node* temp = table[i];
      while(temp != NULL)
      {
         Node* next = temp->next;
         delete temp;
         temp = next;
      }
   }
   size = 0;
   delete[] table;
}

void intHashTable::insert(int num){
    int location = ((unsigned)num) % size;
    Node *runner = table[location];
    if(runner == NULL ){
    runner->num = num;
     }else{
        while(runner != NULL ){
            runner = runner->next;
        }
        runner->num = num;
    }
   }

int main(){
    intHashTable a (10);
    a.insert(2);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T11:56:55.157

建造完成后`intHashTable`，所有的元素`table`都还在`NULL`。然而，在函数`insert`中，一个元素被取消引用：

```
Node *runner = table[location];
runner = runner->next; 
```

这会使程序崩溃，因为[取消引用空指针是非法的](http://www.cplusplus.com/forum/articles/418/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T12:14:17.340

这里的逻辑是错误的

```
int location = ((unsigned)num) % size;
Node *runner = table[location];

if(runner == NULL ) // if null u dereference it!
{
 runner->num = num;
}
else
{
  while(runner != NULL ) {  // u loop until null
    runner = runner->next;
  }
  runner->num = num;  // once u reach null u dereference it!
} 
```

我建议改为：

第一个`ctor`用于您的节点

```
class Node {
public:
  int num;
  Node * next;

  Node( int _n ) : num(_n), next(NULL) { } 
}; 
```

接着

```
if ( runner != NULL )
{
   while ( runner->next != NULL )
   {
      runner = runner->next;
   }
   runner->next = new Node( num );
}
else
{
  table[location] = new Node( num ); 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T12:07:29.353

```
Node *runner = table[location];
runner = runner->next;
if(runner == NULL ) 
```

您从未验证是否`table[location]`为空。但是在构建哈希表期间，节点表内没有节点（您将每个条目都设置为空）。

您的代码的问题是您从不考虑分配节点。你应该做

```
Node* toInsert = new Node;
toInsert->next= NULL;
toInsert->num = num;

if(table[location]==NULL){
   table[location] = toInsert;  
}
else{
    Node *runner = table[location];
    while(runner->next != NULL){
         runner = runner->next;
    }
    runner->next = toInsert;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T11:58:41.823

这段代码肯定行不通：

```
if(runner == NULL ){
runner->num = num; 
```

如果 runner 是 NULL，那么你永远不应该取消引用它（使用 * 或 -> 在它上面）。

# ssas - SSAS。使用 ProcessFull 进行第二次长时间处理

> ID：14457917
> 
> 赞同：1
> 
> 时间：2013-01-22T11:52:38.460
> 
> 标签：ssas

我使用 ProcessFull 参数来处理我的维度之一。第一次处理耗时 45 分钟。但第二次需要一个小时甚至更长时间。

为什么第二次处理比第一次需要更多时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T02:14:15.767

这听起来不像正常的 SSAS 行为。我会怀疑一些外部因素。

# xpath - XSLTForms 使用 position() 从另一个实例中选择重复元素

> ID：14457923
> 
> 赞同：0
> 
> 时间：2013-01-22T11:52:48.900
> 
> 标签：xpath, xforms, xsltforms

背景：

构建提交的表单（使用 XSLTForms），然后用户可以在以后重新提交。我们希望用户在表单输入旁边看到他们之前提交的值，所以我们加载了 2 个实例“数据集”和“旧数据集”。这在大多数情况下都有效，但不是我们有重复的地方。无论出于何种原因，当从“旧数据集”实例调用数据时，position() 方法总是返回“1”。例如：

```
<xf:repeat nodeset="instance('data-set')/references/reference">
  <xf:group ref=".">
    <xf:label>Reference <xf:output value="position()"/></xf:label>
    <xf:input ref="/org_name">...</xf:input>
    <xf:output ref="instance('old-data-set')/references/reference[position()]/org_name"/>
  </xf:group>
</xf:repeat> 
```

该`position()`方法在标签中有效，但在尝试从第二个实例获取值时始终返回“1”。例如上面的产生：

```
<label>Reference 1</label>
<input>Org name 1</input>
<output>Old org name 1</output>

<label>Reference 2</label>
<input>Org name 2</input>
<output>Old org name 1</output>

<label>Reference 3</label>
<input>Org name 3</input>
<output>Old org name 1</output> 
```

如何调用重复的 position() 以便我可以使用它从“旧数据集”实例中获取正确的值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:20:18.047

发生这种情况的原因是在谓词内部（在 内部`[]`，上下文是不同的，它`position()`指的是旧数据集`reference`节点的位置，而不是迭代中的当前`reference`节点。

我不熟悉 XSLTForms，但这是怎么回事？

```
<xf:repeat nodeset="instance('data-set')/references/reference">
  <xf:group ref=".">
    <xf:label>Reference <xf:output value="position()"/></xf:label>
    <xf:input ref="/org_name">...</xf:input>
    <xf:output 
      ref="instance('old-data-set')/references/reference[count(current()/preceding-sibling::reference) + 1]/org_name"/>
  </xf:group>
</xf:repeat> 
```

# android - Android 和 iOS 上的 Phonegap 设备均未定义

> ID：14457926
> 
> 赞同：3
> 
> 时间：2013-01-22T11:52:59.007
> 
> 标签：android, ios, cordova

在使用 Phonegap 平台时，我遇到了一个问题。当尝试访问任何设备字符串时，例如 device.name 或 device.platform，我得到未定义的值。这发生在 iOS 和 Android 上。我已经在 ApplicationManifest 和配置中设置了 Android 的权限。

在对问题进行研究时，我发现问题可能是设备功能仅在大约 1 到 3 秒后才可用。我已经进行了一些测试，将超时设置为 10 秒，甚至在不同时间（最多几分钟）通过 onClick 手动执行操作，但我一直得到未定义的值。

我试过 window.device.name 而不是 device.name，结果相同。

有谁知道为什么会这样？

在 iOS 6.0.2 和 Android 4.1.2 上运行 Phonegap 2.3.0

代码：

```
$('#deviceName').html('Name: ' + device.name);
$('#devicePlatform').html('Platform: ' + device.platform);
$('#devicePlatformVersion').html('Version: ' + device.version); 
```

完整代码[在这里](http://jsfiddle.net/YpMQv/)

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-07-27T16:42:50.680

“警告：`device.name`自 2.3.0 版起已弃用。请`device.model`改用。”

请参阅以下内容： http: [//docs.phonegap.com/en/edge/cordova_device_device.md.html#device.name](http://docs.phonegap.com/en/edge/cordova_device_device.md.html#device.name)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-12-31T06:27:36.667

访问功能

从 3.0 版开始，Cordova 将设备级 API 实现为插件。使用命令行界面中描述的 CLI 的插件命令为项目添加或删除此功能：

```
cordova plugin add org.apache.cordova.device 
```

如在此处的文档中找到：http:
[//docs.phonegap.com/en/edge/cordova_device_device.md.html](http://docs.phonegap.com/en/edge/cordova_device_device.md.html)
或
[https://github.com/apache/cordova-plugin-device/blob/master/doc/index .md](https://github.com/apache/cordova-plugin-device/blob/master/doc/index.md)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-05T12:45:28.387

device.model 可能是您想要的。

[http://docs.phonegap.com/en/2.3.0/cordova_device_device.model.md.html](http://docs.phonegap.com/en/2.3.0/cordova_device_device.model.md.html)

# amazon-web-services - 如何使用 windows server 2012 设置 AWS elastic beanstalk

> ID：14457932
> 
> 赞同：2
> 
> 时间：2013-01-22T11:53:24.477
> 
> 标签：amazon-web-services, amazon-elastic-beanstalk, windows-server-2012

我是 AWS 设置的新手，在花了很多时间研究在 AWS 上为 .NET 应用程序设置实例的简单方法之后，我最终决定使用 Elastic Beanstalk。

创建弹性 beanstalk 应用程序（示例应用程序）后，我需要将我的文件和数据库上传到该应用程序并通过 URL 访问它。

我还没有找到一个简单的直接教程来展示这一点。如果有人有教程网站的链接或已完成此操作，希望您知道该过程。

我创建了一个安全组并添加了一个密钥对。我需要通过 SSH 访问它并安装 FTP 等吗？

帮助表示赞赏。

-阿迪。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T17:20:24.687

Amazon Web Services 站点上提供了一些关于 .NET 开发和 AWS Elastic Beanstalk 的教程视频：

[https://aws.amazon.com/visualstudio/](https://aws.amazon.com/visualstudio/)

# c# - 仅当子元素具有特定数量的元素时才选择父元素

> ID：14457938
> 
> 赞同：2
> 
> 时间：2013-01-22T11:53:53.247
> 
> 标签：c#, xml, xpath, linq-to-xml

我正在尝试获取所有`<Opening>`标签的`<PlanarGeometry>`数量`<Polyloop>`> `CartesianPoint`4。

Xml 标记表面是另一个标记表面。

```
<Surface id="su-137" surfaceType="InteriorWall" constructionIdRef="ASHIW23" xmlns="http://www.gbxml.org/schema">
 <Name>W-106-114-I-W-137</Name>
 <Opening id="su-137-op-1" openingType="NonSlidingDoor" constructionIdRef="MDOOR">
 <Name>W-106-114-I-W-137-D-1</Name>
   <PlanarGeometry>
      <PolyLoop> 
         <CartesianPoint><Coordinate>55.570238</Coordinate><Coordinate>92.571596</Coordinate>
         <Coordinate>0.000000</Coordinate></CartesianPoint><CartesianPoint>         <Coordinate>55.570238</Coordinate><Coordinate>92.571596</Coordinate><Coordinate>6.666667</Coordinate>     
         </CartesianPoint>
         <CartesianPoint>
         <Coordinate>55.570238</Coordinate><Coordinate>95.571596</Coordinate><Coordinate>6.666667</Coordinate></CartesianPoint>
         <CartesianPoint>
         <Coordinate>55.570238</Coordinate><Coordinate>95.571596</Coordinate><Coordinate>0.000000</Coordinate>
        </CartesianPoint>
     </PolyLoop>
   </PlanarGeometry>
 </Opening>              
</Surface> 
```

我从中得到的参考很少 - [Xpath 只选择存在子元素的节点？](https://stackoverflow.com/questions/1143864/xpath-to-select-only-nodes-where-child-elements-exist)SO线程并从下面的示例中得到了一点帮助。

```
book[author/degree]
All <book> elements that contain <author> children that in turn contain at least one <degree> child. 
```

我怎样才能使用 xPath 或其他方式实现这一点？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:13:42.560

> 我正在尝试获取所有具有 CartesianPoint > 4 数量的标签`<Opening>`。`<PlanarGeometry>``<Polyloop>`

假设`Surface`元素是您当前的上下文节点，则：

```
gb:Opening[gb:PlanarGeometry/gb:Polyloop[count(gb:CartesianPoint) > 4]] 
```

`gb`前缀需要映射到`http://www.gbxml.org/schema`命名空间 URI 。这将选择`Opening`包含至少一个`Polyloop`具有 4 个以上`CartesianPoint`子级的所有元素。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T12:13:34.370

以下 XPath 应该可以工作：

```
//g:Opening[4<count(./g:PlanarGeometry/g:PolyLoop/g:CartesianPoint)] 
```

请注意，它使用名称空间前缀，因为`Surface`标签具有名称空间。我不太了解 C#，但您可能必须先注册前缀才能使用它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T12:13:57.750

请试一试：

```
/gb:Surface/gb:Opening[count(gb:PlanarGeometry/gb:PolyLoop/gb:CartesianPoint) > 4] 
```

如此处所示，由于您的 XML 使用命名空间，因此您需要向 XPath 引擎声明该命名空间，然后通过前缀引用它。它不一定是`gb`，但它必须是某种东西。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-23T07:24:58.513

如果你喜欢使用 LINQ to XML，这里是：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Xml;
using System.Xml.Linq;

namespace ConsoleApplication1
{
    public class Program
    {
        public static void Main()
        {
            XElement sample = XElement.Load("c:\\sample.xml");
            IEnumerable<XElement> open_elements = sample.Descendants().Where(c => c.Name.LocalName == "Opening").Where(c => c.Descendants().Where(d => d.Name.LocalName == "CartesianPoint").Count() > 4);
            foreach (XElement ele in open_elements){
                Console.Write(ele.Attribute("id"));
            }
            Console.ReadKey();
        }
    }
} 
```

希望这可以帮助。

# php - 替代显示：无移动

> ID：14457939
> 
> 赞同：1
> 
> 时间：2013-01-22T11:53:58.480
> 
> 标签：php, html, css, mobile, responsive-design

我目前正在构建一个实践响应式网站，我正在做的是使用一个现有的网站，使用 twitter bootsrap js 和 css 构建它，这意味着它将完全响应移动设备。

问题是网站上有一些大型轮播和图像。理想情况下，我只想完全删除某些元素，例如轮播，而是将轮播中的选项作为标准列表菜单。

似乎主要选项是`display:none`基于媒体查询，但我开始预见如果整个桌面站点仍将在移动设备上加载，我将遇到加载时间的大问题，只有隐藏的元素。

有没有办法根据浏览器大小完全排除 html？如果有人有任何好的链接或文章，那就太好了。甚至只是意见，关于是否真的需要排除 html。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:15:10.600

您可以考虑存储大量 JSON 编码的数据，然后像这样创建元素并按需加载它们

```
var heavyImage = new Image();
heavyImage.src=imageList[id]; 
```

然后您可以将图像元素附加到所需的块。根据我在手机方面的经验，这比`<img>`通过 AJAX 请求更强大，因为 AJAX 有时可能会很慢。

您还可以使用此方法“预取”图像（例如目前与可见相邻的 2-3 个图像），从而改善用户体验。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T12:17:34.700

首先，很高兴看到尽管您在谈论`display:none;`您实际上仍然希望显示没有图像的花里胡哨的内容。你干得好。

我接下来要看的是，如果您不想为移动设备加载图像，那么为什么要为较大的站点添加它。如果图像没有提供功能，帮助更好地解释内容，那么为什么不把它也放到桌面大小呢？

如果它确实有助于讲述一个故事，那么您可以包含图像和一些流行的图像服务，例如[自适应图像](http://adaptive-images.com/)、[hiSRC](https://github.com/teleject/hisrc)或[PictureFill](https://github.com/scottjehl/picturefill)，它们将首先提供图像的移动版本，并在更高的视口处替换为更大的图像（但请记住，没有带宽测试）。

最后，如果您确实想提供一些不同的内容，那么请采纳 fire 的建议，在 ajax 中包含更多内容。来自 Filament 组的[South Street 工具箱](https://github.com/filamentgroup/Southstreet)可以帮助您，特别注意 AjaxInclude 模式（它也有指向图片填充的链接）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T11:57:05.157

您可以通过 AJAX 引入重元素，这样它们最初就不会位于页面上，从而使其加载速度更快。仅当屏幕尺寸大于 X 时，您才可以决定执行 AJAX 调用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T11:58:06.670

如果你想你可以使用`visibility:hidden`，或者如果你使用 jQuery，你可以使用

```
$(element).remove() //to remove completely
$(element).hide() //to hide 
$(element).fadeOut(1) //to fadeout 
```

# java - 如何在android中启动服务重复做某事

> ID：14457942
> 
> 赞同：3
> 
> 时间：2013-01-22T11:54:05.277
> 
> 标签：java, android, service

> **可能重复：**
> [Android 常规任务（相当于 cronjob）](https://stackoverflow.com/questions/5266878/android-regular-task-cronjob-equivalent)

我目前正在尝试使用以下代码每天执行一项任务

```
public class BackupService extends Service {

    private Timer timer = new Timer();
    @Override
    public IBinder onBind(Intent arg0) {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        Toast.makeText(this, "Service Started", Toast.LENGTH_SHORT).show();
        startBackup();
        return START_STICKY;
    }

    private void startBackup() {

        Date date = new Date(time);
        System.out.println("Backup time:" +date);
        timer.scheduleAtFixedRate(new BackupTimerTask(), date,
                delayTime());
    }

    private long delayTime() {

        long delay = 86400000;
            System.out.println("delay time:" + delay);
        return delay;
    }

    @Override
    public void onDestroy() {
        // TODO Auto-generated method stub
        super.onDestroy();
        if (timer != null){
            timer.cancel();
            }
            Toast.makeText(this, "Service Destroyed", Toast.LENGTH_SHORT).show();
    }

  private class BackupTimerTask extends TimerTask {
        @Override
        public void run() {
            System.out.println("Backup started");
            //starting backup here
        }

    }

} 
```

我称这项服务为

```
startService(new Intent(this, BackupService.class)); 
```

如果我设置 5 分钟这样的短间隔，这工作正常，但这不适用于长间隔。如果我在 android 应用程序中运行服务，那么我可以看到我的服务处于运行状态。我认为 timertask 类可能有问题。我该如何解决我的问题？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T12:35:35.457

Milos 提出了一些很好的观点，但请不要将您的服务设为前台服务。相反，请使用 AlarmManager。您可以查看几个相关问题：

[Android AlarmManager - 安排一个重复的 Intent 每天触发两次](https://stackoverflow.com/questions/8762934/android-alarmmanager-scheduling-a-recurring-intent-to-fire-off-twice-a-day)

[警报管理器不工作](https://stackoverflow.com/questions/10684077/alarmmanager-not-working/10685132#10685132)

ETC...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T12:02:26.263

实际上，在 Android 中没有可以 100% 保证执行的“无法杀死的任务”。如果你看一下android生命周期管理，如果设备需要资源，系统会杀死一些未使用或运行的旧任务。

安卓服务也是如此。一个服务作为一个简单的任务有更大的特权，但是这个服务仍然可以被系统杀死。

您的问题可能是当您将计时器设置为 5 分钟时，您的服务运行正常。当你大大增加时间时，问题就来了。然后，服务被杀死的机会要大得多：见[http://www.androidguys.com/2009/09/09/diamonds-are-forever-services-are-not/](http://www.androidguys.com/2009/09/09/diamonds-are-forever-services-are-not/)

因此，您将不得不考虑另一种方法来实现您的目标。一种解决方案，但仍然没有 100% 的保证，是使用前台服务：http: [//developer.android.com/guide/components/services.html#Foreground](http://developer.android.com/guide/components/services.html#Foreground)

# java - 从 java.net.Socket 读取 InputStream 有时会阻塞

> ID：14457946
> 
> 赞同：-1
> 
> 时间：2013-01-22T11:54:25.837
> 
> 标签：java, bufferedreader, java-io

下面是我作为参数 java.net.Socket:getInputStream() 传入的方法。

这几乎在任何时候都非常有效。

当来自套接字的输入流是一大块空字节（不明确的数据）时，就会出现问题。这使我的程序完全停止响应。有谁知道发生了什么？我不应该得到 IOException 或其他东西，而不仅仅是停止响应吗？如果例如数据是一些无用的模棱两可的信息，我该如何退出读取。

```
public static String fromStream(InputStream in) throws IOException
{
    BufferedReader reader = new BufferedReader(new InputStreamReader(in));
    StringBuilder out = new StringBuilder();
    String line;
    while ((line = reader.readLine()) != null) {
        out.append(line);
    }
    return out.toString();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T12:06:36.000

如果流包含 '00' 字节，则使用 readLine() 读取数据可能是错误的。您应该改为读取字节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T12:33:36.283

64,000 美元的问题是*这个*“毫无意义的模糊数据”是什么？

如果它真的毫无意义，那么你应该真正关注它为什么被发送。它很可能是由发送数据的应用程序中的错误引起的。找到并修复它，您无需更改客户端代码。

另一方面，它可能是有意义的数据……但您/您的应用程序不知道它的含义。`Reader`在这种情况下，根本问题是该文件不是文本文件，因此使用/读取它是不正确的`BufferedReader`。

如果您想坚持尝试将这些数据作为文本读取......以这样一种方式，即零字节/字符不会让您感到悲伤，那么您需要一次读取`BufferedReader`一个字符。当您遇到零字符（或坏字符）时，您的字符读取代码可以退出。否则，如果这是您真正需要的，请将非坏字符组合成行。

* * *

您的评论有几点需要注意：

> 我基本上只是期待正常的响应，例如包括来自 HTTP 服务器的 200 即 OK，在这种特殊情况下，我得到这些零字节，而没有其他任何东西。

首先，*听起来*您可能正在尝试使用普通套接字与 HTTP 服务器进行交互。这是一个坏主意。*真是*个坏主意！您的普通套接字代码可能无法正确解释 Kosher HTTP 服务器发送响应的各种不同方式。（这将解释以下内容......）

其次，HTTP 响应包含一个“内容类型”，它为您提供响应正文中内容的媒体类型。如果您的客户端忽略 Content-type 标头，则您可能会以错误的方式处理响应正文。例如，您可能会得到一个 PDF 文件或一个 TAR 文件，其中肯定包含大量的零字节。

另一方面，您可能以正确的方式做这些事情，而 HTTP 服务器可能会被破坏。

# sql - 将整数列转换为 varchar 并与字符串进行比较

> ID：14457947
> 
> 赞同：8
> 
> 时间：2013-01-22T11:54:31.440
> 
> 标签：sql, sql-server

如何将整数列表与 sql server 中的整数列进行比较。例如，我有一列`statusid`作为`int`. 我想`statusid`在`1,4,8,9`. 我将所有这些整数保存在字符串中，并使用下面的列 statusid 进行操作，但我在那里遇到了错误。此字符串可能是硬编码或参数。

```
where Cast(statusid as varchar) in ('1,4,8,9'); 
```

请提出解决方案。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-22T11:57:50.327

由于数字已转换为字符串，因此`IN`子句中的值应分别用单引号括起来

```
where Cast(statusid as varchar(20)) in ('1','4','8','9'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:57:18.607

```
WHERE statusid 
IN (1, 4, 8, 9); 
```

# xpath - 在 XPATH 中转义特殊字符

> ID：14457960
> 
> 赞同：3
> 
> 时间：2013-01-22T11:54:55.963
> 
> 标签：xpath, escaping

`<xxx:element>`我的xml 中有一些带有标签的元素。

我想使用 XPath 获得这些。我已经尝试了几种获取它们的方法，但到目前为止都没有成功。

`//xxx:element`只是不返回任何东西。我猜这是因为`:`字符
`//#xxx:element#`给出了异常：“在 '/' 或 '//' 标记之后应该有一个定位步骤。”
`//'xxx:element'`同样的例外。

有什么建议么？

根据 choroba 的回答，我发现[Xml 命名空间破坏了我的 xpath！](https://stackoverflow.com/questions/5239685/xml-namespace-breaking-my-xpath)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:34:02.577

使用 local-name 属性找到了解决方案。以下工作正常：
//*[local-name()='element']

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T12:06:53.780

该`xxx:`部分是命名空间前缀。它应该在 XPath 中工作，但根据您使用的语言，您可能需要先注册名称空间，然后才能使用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-21T07:33:44.460

在撒克逊//*:element 中对我施展拳脚

# sql-server-2008 - 何时使用扩展存储过程而不是用户定义的存储过程

> ID：14457962
> 
> 赞同：0
> 
> 时间：2013-01-22T11:55:01.640
> 
> 标签：sql-server-2008

何时使用扩展存储过程而不是用户定义的存储过程？扩展存储过程和clr存储过程的优点是什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:11:48.020

恕我直言：从来没有。扩展程序已被弃用很长时间，它们当然不应该出现在任何未来的开发计划中。

每当您发现自己想要使用现有的扩展过程、通过 调用命令行内容`xp_cmdshell`或以其他方式在 SQL Server 边界之外操作时，都应该考虑使用 CLR。但是，在很多情况下，您还应该首先考虑是否真的需要在 SQL Server 中执行任务。

还有一些 CLR 擅长于 SQL Server 中的计算过程的用例，例如[拆分字符串](http://www.sqlperformance.com/2012/07/t-sql-queries/split-strings)，但即使在那里，我们也可以有[更好的不涉及 CLR 的解决方法](http://www.sqlperformance.com/2012/08/t-sql-queries/splitting-strings-now-with-less-t-sql)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:57:31.137

[扩展存储过程](http://msdn.microsoft.com/en-us/library/ms175200%28v=sql.105%29.aspx)允许您使用诸如 C 之类的编程语言创建自己的外部例程。

基本上，非 SQL 的东西。显然，普通的存储过程都是关于 SQL 的。

值得注意的是[MSDN](http://msdn.microsoft.com/en-us/library/ms175200%28v=sql.105%29.aspx)中的以下内容：

> 此功能将在 Microsoft SQL Server 的未来版本中删除。避免在新的开发工作中使用此功能，并计划修改当前使用此功能的应用程序。请改用 CLR 集成。

所以应该是

> 何时使用[CLR 集成](http://msdn.microsoft.com/en-us/library/ms131089%28v=sql.105%29.aspx)而不是扩展存储过程？

微软的回答几乎是：几乎总是！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T11:58:08.090

从 SQL Server 2005+ 开始，不要使用扩展存储过程，因为它们已被弃用，而且写得不好的存储过程可能会乱涂并损坏属于 SQL Server 的其他内存。

我只会考虑 CLR 过程，如果它需要做一些 CPU 密集型的事情，这些事情会从编译代码中受益，或者通过访问 CLR 库（例如`System.Text.RegularExpressions`）更容易实现要求。不适用于普通数据访问代码，因为这在 TSQL 中更有效。

从[SQL Server](http://blogs.technet.com/b/dataplatforminsider/archive/2012/11/08/breakthrough-performance-with-in-memory-technologies.aspx)的下一个版本开始，CLR 的用例可能会更少

> 今天，SQL Server 的查询处理器将查询和存储过程编译成一组数据结构，这些数据结构由 SQL Server 查询处理器中的解释器进行评估。使用 Hekaton，T-SQL 存储过程中的查询和过程逻辑直接编译成机器代码，并在编译时应用了积极的优化。这允许存储过程以本机代码的速度执行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-01T18:43:23.523

例如，添加 csv 导出、pgp 加密、http 或soap 调用。基本上是为了扩展 sql server，这样您就可以在其中运行更多的业务流程需求，而不是使用外部应用程序。

# android - android:onClick 属性停止工作，在活动中找不到方法

> ID：14457966
> 
> 赞同：1
> 
> 时间：2013-01-22T11:55:10.623
> 
> 标签：android, android-layout, android-activity

我有一堆这样的按钮

```
<cz.applmartin.quicksketch.Gui.Buttons.CopyDragableImageButton
android:id="@+id/b_settings"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:onClick="b_settings"
android:background="@drawable/s_settings"
/> 
```

而在这样的活动中对应的方法

```
public void b_settings(View view){
    Intent intent = new Intent(Main.getInstance(), SettingsActivity.class);
    startActivity(intent);
} 
```

所有方法都存在并且是公开的。一切似乎都很好。我工作了很长时间。比它突然开始给出这个错误。

```
java.lang.IllegalStateException: Could not find a method b_settings(View) in the activity class cz.applmartin.quicksketch.Main for onClick handler on view class cz.applmartin.quicksketch.Gui.Buttons.CopyDragableImageButton with id 'b_settings' 
```

但我确信该方法实际上存在于 Main 中并且是公开的并且具有正确的签名。错误仅在具有较旧 api 的设备和模拟器上显示。（测试 2.2 2.3）在新的 apis（4.*）上一切正常。据我所知，我没有用按钮或活动中的相应方法更改有关 xml 的任何内容。它只是无缘无故停止工作。

在清单中 min sdk 为 8，目标为 10。属性中的构建目标为 4.2

以前有人发生过这种情况吗？有什么线索吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T13:25:00.753

我以为你用另一个项目做了同样的项目。但是你在布局中使用

# mysql - 如何在 mysql 中插入一个 NULL 值，取自变量。ASP

> ID：14457972
> 
> 赞同：0
> 
> 时间：2013-01-22T11:55:25.183
> 
> 标签：mysql, asp-classic, insert, null

假设我有一个这样的变量：

```
sql_ins = "INSERT INTO tableName (field1,field2,field3) VALUES ("&var1&","&var2&","&var3&") 
```

好吧，假设 var1、var2、var3 也可以是`null`，并且数据库的默认值为`null`。

问题是我可以插入一个`NULL`值，但如果变量是`null`空的，那么 sql_ins 应该如下所示：

```
INSERT INTO tableName (field1,field2,field3) VALUES (4,,) 
```

我怎么能避免呢？

提前致谢。

真正的代码在这里：

```
For Each Field in Request.Form
    TheString = Field & "=Request.Form(""" _
    & Field & """)"
    EXECUTE(TheString)
Next

if imm_id <> "" then
'TODO modifica
else 
sql_ins = "INSERT INTO tb_immobile (`IdServizio`, `CodiceAppartamento`, `Nome`, `IdLocalita`, `Localita`, `NumeroPiano`, `Piano`, `NumeroScalini`, `Camere`, `Singole`, `Matrimoniali`, `Bagni`, `Vani`, `IdTipo`, `IdPosizione`, `IdAspetto`, `IdRistrutturato`, `IdAmmobiliato`, `IdStato`, `Mq`, `Annesso`, `IdAnnessoRistrutturato`, `Giardino`, `Terrazza`, `Terreno`, `Cantina`, `AriaCondizionata`, `Ascensore`, `PostiAuto`, `Piscina`, `Tennis`, `IdRiscaldamento`, `Condominio`, `idAllegato`, `idUtente`, `idImportazione`, `idZona`, `idDove`, `homePage`, `codTipoVisaulizzazione`) VALUES "
sql_ins = sql_ins&"(1,"&imm_codice&","&imm_nome&","&imm_provincia&",'"&imm_localita&"',"&imm_npiani&","&imm_piano&","&imm_scalini&","&imm_camere&","&imm_camere_sing&","&imm_camere_mat&","&imm_bagni&","&imm_vani&","&imm_tipo&","&imm_posizione&","&imm_aspetto&","&imm_ristrutturato&","&imm_ammobiliato&","&imm_stato&","&imm_mq&"...  )"

end if 
```

在第一个为每个我创建并填充变量，但其中一些应该是空的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:01:19.227

```
if var1 Is Nothing then var1 = "NULL" end if 
```

# asp.net - System.Net.WebException：远程服务器返回错误：（405）方法不允许。在执行Web请求期间发生异常

> ID：14457975
> 
> 赞同：1
> 
> 时间：2013-01-22T11:55:36.243
> 
> 标签：asp.net, web-services

当我运行我的 Web 应用程序代码时，我在这一行得到了这个错误。

```
using (HttpWebResponse response = (HttpWebResponse)request.GetResponse()){} 
```

实际上，当我直接在浏览器上运行我的 url 时。它会给出正确的 o/p，但是当我在代码中运行我的 url 时。它会给出异常。

这里 MyCode 是：-

```
string service = "http://api.ean.com/ean-services/rs/hotel/";

string version = "v3/";
string method = "info/";
string hotelId1 = "188603";

int hotelId = Convert.ToInt32(hotelId1);

string otherElemntsStr = "&cid=411931&minorRev=[12]&customerUserAgent=[hotel]&locale=en_US&currencyCode=INR";

string apiKey = "tzyw4x2zspckjayrbjekb397";
string sig = "a6f828b696ae6a9f7c742b34538259b0";

string url = service + version + method + "?&type=xml" + "&apiKey=" + apiKey + "&sig=" + sig + otherElemntsStr + "&hotelId=" + hotelId;

 HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url) as HttpWebRequest;

 request.Method = "POST";
 request.ContentType = "text/xml";
 request.ContentLength = 0;

 XmlDocument xmldoc = new XmlDocument();

 using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())
 {
       StreamReader responsereader = new StreamReader(response.GetResponseStream());

       var responsedata = responsereader.ReadToEnd();
       xmldoc = (XmlDocument)JsonConvert.DeserializeXmlNode(responsedata);
       xmldoc.Save(@"D:\FlightSearch\myfile.xml");
       xmldoc.Load(@"D:\FlightSearch\myfile.xml");

       DataSet ds = new DataSet();
       ds.ReadXml(Request.PhysicalApplicationPath + "myfile.xml");
       GridView1.DataSource = ds.Tables["HotelSummary"];
       GridView1.DataBind();            
  } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T12:09:15.957

错误提供了您所需要的一切。

api 或此调用可能不支持方法 POST。

这应该有效。尝试将方法更改为“GET”

```
request.Method = "GET"; 
```

在浏览器中，您正在向 api 发送 GET 请求。您也应该在代码中执行相同的操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-07T09:43:46.473

对于 XML 响应：

```
request.Method = "GET";
request.ContentType = "text/xml; charset=UTF-8";
request.UserAgent = "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; BOIE9;ENUS)";
request.Accept = "application/xml";
request.ContentLength = 0; 
```

# ios - 显示进度步骤对话框

> ID：14457979
> 
> 赞同：1
> 
> 时间：2013-01-22T11:55:47.503
> 
> 标签：ios, objective-c, uiprogressview

我是一个新的 IOS 开发初学者，我还不知道整个术语（在工作表、模式、对话框、视图之间......）

## 语境

我有一个按钮，可以启动一系列需要一定时间（可能 2 或 3 秒）的动作

我想显示一个带有进度条（当然`UIProgressView`）的漂亮对话框和一个逐个显示每个步骤的文本。

用户在处理过程中不能做任何事情，完成后对话框应该自行关闭。

## 问题

我应该使用哪种方法？

我不要求任何代码，而只是要求我应该使用哪些技术、小部件。
所以我将能够使用正确的术语进行谷歌搜索:)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T12:12:56.733

自定义`UIActivityIndicator`是您想要使用的东西。

为什么不使用已经制作的控件：[https ://github.com/samvermette/SVProgressHUD](https://github.com/samvermette/SVProgressHUD)

希望这会减少你的工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T12:12:19.703

[www.cocoacontrols.com](http://www.cocoacontrols.com)上有许多开源项目。您可以搜索“活动”，您可以从那里使用任何项目，当然要遵守使用条款。我使用 SVProgressHUD。

# android - 从 MAC 中的键盘更改钛中 android 设备的方向

> ID：14457980
> 
> 赞同：0
> 
> 时间：2013-01-22T11:55:51.050
> 
> 标签：android, macos, ipad, android-emulator, titanium

我们如何将模拟器屏幕方向从 MAC 中的键盘更改为横向或纵向钛合金？

对于windows，我们可以这样做`Ctrl-F12 is the keyboard shortcut.`

我尝试过这种组合，但没有成功。

```
1\. window + F11
2\. window + F12
3\. Keypad_7
2\. Keypad_9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:01:00.460

我正在使用 MAC left-ctrl + F11 为我工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T12:00:13.700

在做了这么多组合之后，我尝试了这个并且它有效

```
CTRL + window + F12 
```

# drupal-7 - Drupal，根据菜单路径自动生成文章 urlpath

> ID：14457981
> 
> 赞同：0
> 
> 时间：2013-01-22T11:55:52.723
> 
> 标签：drupal-7, drupal-views, drupal-theming, pathauto

我正在使用 Drupal 7 建立一个网站。我正面临这个问题。我有一个显示文章列表的页面。一旦我点击一篇文章查看其完整内容，urlpath 就不再遵循菜单活动轨迹。

现在稍微解释一下。我已经创建了这个菜单结构。有一个名为“资源”的主页（urlpath：resources）。它有一个名为“文章”( `urlpath: resources/articles`) 的子页面。我创建了一个视图，显示基于某个标签的文章列表。我已将视图的 urlpath 设置为“ `resources/articles`”，以便它显示在“ `Articles`”页面上。这整个想法按我的意愿工作。现在问题来了。

在文章列表中，当我单击特定文章（例如我的测试文章）时，urlpath 变为“my-test-article”。我希望它是“资源/文章/我的测试文章”。所以总的来说，我的 URL 看起来像这样[http://www.domain.com/resources/articles/my-test-article](http://www.domain.com/resources/articles/my-test-article)。现在它看起来像这样[http://www.domain.com/my-test-article](http://www.domain.com/my-test-article)。

由于这种行为，我丢失了面包屑和活动菜单跟踪。我知道文章没有链接到某个父级，而且我知道一篇文章可以在不同页面上以不同的视图显示，所以这种做法是有道理的。我仍然相信必须有一种方法来模拟这种“文章属于父级”的功能。

我安装了 Pathauto 模块，并为具有菜单链接的基本页面工作。它仍然对文章没有任何作用。它有很多模式，所以我可能错过了正确的模式。现在我只将默认路径模式设置为`[node:menu-link:parents:join-path]/[node:title]`.

我可以手动更改每篇文章的 urlpath，但这看起来像是一个原始选项。然后，当然我可以在不止一个页面中显示一篇文章，因此需要不同的 urlpath。

我是 Drupal 的新手，所以也许我错过了正确的方法。谁能指出我正确的方向？非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T21:59:35.737

确保每篇文章都分配给一个菜单。您可以使用菜单位置自动将特定内容类型添加到菜单中。还有一种方法可以从菜单中隐藏这些自动生成的项目我不记得实现这一点的方法，但会更新并让你知道。例如，我有一个列出所有新闻稿的视图，但我不想在菜单中列出新闻稿。

# javascript - 在同一页面中加载内容 ajax

> ID：14457985
> 
> 赞同：-1
> 
> 时间：2013-01-22T11:56:07.357
> 
> 标签：javascript, jquery, ajax, load

我有一个页面的网站结构。这是我的菜单：

我有一个菜单结构：

```
 <ul id="creamenu" class="menuHolder">
                        <li><a id="news-1-menu" href="#/creative-events">news 1</a></li>
                        <li><a id="news-2-menu" href="#/creative-ajans">news 2</a></li>
                        <li><a id="news-3-menu" href="#/incentive-travel">news 3</a></li>
                    </ul>
                    <ul id="mainmenu" class="menuHolder">
                        <li><a id="about1-menu" href="#/hakkimizda">about 1</a></li>
                        <li><a id="about2-menu" href="#/haberler">about 2</a></li>
                        <li><a id="about3-menu" href="#/galeri">about 3</a></li>
                        <li><a id="about4-menu" href="#/referanslar">about 4</a></li>
                        <li><a id="about5-menu" href="#/iletisim">about 5</a></li>
    </ul> 
```

这是内容结构：

```
<div id='news-1'>
    <!-- content -->
    <!-- content --> 
```

```
<div id='news-2'>
    <!-- content -->
    <!-- content --> 
```

当我单击菜单项时，通过视差效果转到页面（我为此使用高级插件）但是我的网站运行缓慢...因为，我希望在单击菜单项时通过 ajax 加载内容。是否可以？我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:00:50.777

试试这个 ：-

```
$('ul#creamenu li a').click(function () {
$.ajax({
                type: "POST",
                url: "Your Url",
                data: "{'data':'send data here if you want'}",
                dataType: "json",
                success: function (data) {
                    alert(JSON.Stringify(data));
                },
                error: function (result) {
                    alert("Error");
                }
            });

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:58:51.367

如果内容在其他文件中，那么您可以使用`$.load(url).`

```
$('#news-1').load('url of the content to load'); 
```

如果您将内容存储在同一页面中，则可以在单击菜单时使其可见。

```
$('#news-1').on('click',function(){
$('#news-1').appendTo($('#creative-events').html()); // this is the prototype, need to make a generic code
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T12:00:11.933

试试这个

```
 $('#news-1').load('ajax/page1.html');
 $('#news-2').load('ajax/page2.html'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T12:59:28.340

我认为您正在寻找像选项卡式面板这样的解决方案。尝试使用 jQuery 隐藏和显示 div。例如。你有 3 个菜单，分别为 news-1、news-2、news-3，并使其单独的内容 div 例如：div1、div2、div3 如下所示...

```
<div id="div1" style="display:none">
some content....
</div>
<div id="div2" style="display:none">
some content....
</div>
<div id="div3" style="display:none">
some content....
</div> 
```

在菜单的 onclick 事件中，例如。news-1 然后显示 div1 并让所有其他隐藏如下..

```
$("#div2").hide();
$("#div3").hide();
$("#div1").show(); 
```

然后也更改其他菜单的代码..

# javascript - 操作标记的有效方法

> ID：14457987
> 
> 赞同：0
> 
> 时间：2013-01-22T11:56:12.257
> 
> 标签：javascript, performance, google-maps, bing-maps, processing-efficiency

我正在创建一个有地图的网站（bing 地图或谷歌地图无关紧要），并且每秒从 ajax 请求标记并放置在地图中。我还有一个搜索输入，如果你输入一些东西，标记被该文本过滤。我用这段代码简要描述了：

```
setInterval(function(){ getMarkers(); }, 1000); //checks for new makers every second

function getMarkers(){
    var markers = getAllMarkersByAjax($('#search').val()); //get markers from database by ajax request and by the text in the search input
    removeCurrentMarkers(); // loop that removes all the makrers
    addMarkers(markers); // loop that adds the new markers
} 
```

这是最好的方法吗？标记可能对许多人来说可能是很多处理。有没有一种有效的方法来放置标记，过滤它们，性能？

# php - 删除行 PHP

> ID：14457988
> 
> 赞同：0
> 
> 时间：2013-01-22T11:56:19.673
> 
> 标签：php, mysql

我一直在关注本教程 [从 html 页面删除 mysql 行的最佳方法 - 删除链接和 php](https://stackoverflow.com/questions/2137268/best-way-to-delete-mysql-rows-from-html-page-delete-link-and-php)

但我被卡住了，我的行不会删除。请帮忙

```
// My Viewing dish Page
<?php
$result = mysql_query("SELECT * FROM dish");

echo "<table border='1'>
<tr>
<th>DishID</th>
<th>DishName</th>
<th>DishPrice</th>
</tr>";

while($row = mysql_fetch_array($result))
  {
  echo "<tr>";
  echo "<td>" . $row['DishID'] . "</td>";
  echo "<td>" . $row['DishName'] . "</td>";
  echo "<td>" . $row['DishPrice'] . "</td>";
  echo '<td><a href="delete.php?id=' . $row['DishID'] . '">Delete</a></td>';
  echo "</tr>";
  }
echo "</table>";

?>

//Delete Page

<?php

require_once("database.php");

/* 
 DELETE.PHP
 Deletes a specific entry from the 'players' table
*/

 // check if the 'id' variable is set in URL, and check that it is valid
 if (isset($_GET['DishID']) && is_numeric($_GET['DishID']))
 {
 // get id value
 $DishID = $_GET['DishID'];

 // delete the entry
$result = mysql_query("DELETE FROM dish WHERE DishID =$DishID} ")
 or die(mysql_error());

 // redirect back to the view page
 header("Location: admin_modifydishes.php");
 }
 else
 // if id isn't set, or isn't valid, redirect back to view page
 {
echo "doesn'twork";
 }

?> 
```

我相信这与 $DishID = $_GET['DishID']; 有关。但我无法绕过它，请帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T11:58:20.413

这很简单

要删除的 URL 是：`delete.php?id=your-id`

要获取`id`参数，您需要使用`$_GET['id']`，**而不是** `$_GET['DishID']`。

此外，您的删除查询有点错误。尝试将其替换为：

```
$result = mysql_query("DELETE FROM `dish` WHERE `DishID`={$DishID}"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T12:00:51.813

```
$result = mysql_query("DELETE FROM dish WHERE DishID =$DishID} ")
 or die(mysql_error()); 
```

应该

```
$result = mysql_query("DELETE FROM dish WHERE DishID =$DishID") 
```

和

```
$_GET['DishID'] 
```

应该

```
$_GET['id'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T12:01:35.903

请注意，您在这里为自己创造了一个痛苦的世界，除非您在某处清理输入。

像这样使用 SQL 会让您很容易受到 SQL 注入攻击。如果可能的话，你应该看看 PDO 模块。

您还应该看看[http://www.phptherightway.com/#databases](http://www.phptherightway.com/#databases)

# wordpress - Wordpress URL 重写和永久链接

> ID：14457992
> 
> 赞同：0
> 
> 时间：2013-01-22T11:56:43.040
> 
> 标签：wordpress, url-rewriting, custom-post-type, permalinks

我在 Wordpress 中重写 URL 时遇到问题。

在我的网站上，我有 2 个页面模板，一个列出餐厅的概览页面，以及餐厅本身的详细信息页面。

我有为餐厅概览页面的 CPT 工作的永久链接，即 domain.com/restaurants/

我还设法让 CPT“餐厅”中的类别正常工作 ( `domain.com/restaurants/category/`) 这些是概览页面的所有模板。

但是，详细信息页面当然是具有不同模板的不同页面，它链接到 domain.com/restaurant（没有 s）

对于我当前链接的详细信息页面，如下所示：

```
 domain.com/restaurant?id=[ID] 
```

然而这也有效

```
pagename=restaurant&taxonomy_name=[taxonomy]&id=[ID] 
```

现在问题来了，我希望 url 像[domain.com/restaurants/taxonomy_name/restaurant-name/](http://domain.com/restaurants/taxonomy_name/restaurant-name/)

如您所见，它将通过页面餐厅而不是餐厅（个别餐厅页面模板）

这就是我现在的functions.php中的内容：

```
function add_restaurant_rewrite() {
       add_rewrite_tag("/%restaurant-categories%/", '([^/]*)');
       add_rewrite_tag("/%postname%/", '([^/]*)');
       add_rewrite_rule('^restoranlar/([^/]*)/([^/]*)/[^/]*)', 'index.php?pagename=restoran&taxonomy_name=$matches[1]&id=$matches[2]', 'top');
}
add_action( 'init', 'add_restaurant_rewrite' ); 
```

这可能吗？以及如何实现这一点，过去 3 天我一直在寻找答案，但没有任何运气，希望这里有人可以帮助我。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T19:03:40.613

您是否已经尝试手动向 .htaccess 添加规则，例如：

```
RewriteEngine On
RewriteRule ^([^/]*)/([^/]*)/([^/]*)$ /?pagename=$1&taxonomy_name=$2&id=$3 [L] 
```

[在http://www.generateit.net/mod-rewrite/](http://www.generateit.net/mod-rewrite/)自己尝试一下

# java - 我没有收到来自网页的响应

> ID：14457999
> 
> 赞同：2
> 
> 时间：2013-01-22T11:56:57.143
> 
> 标签：java, android, web, bufferedreader

我对 Java/Android 很陌生，我有一个代码来获取网页的响应。我有这样的代码，但由于某种原因，`BufferedReader`'s`in.readLine()`总是返回空值。

```
URL url = new URL(endPoint);
connection = (HttpURLConnection) url.openConnection();

connection.setConnectTimeout(connectionTimeout);
connection.setReadTimeout(readTimeout);
connection.setRequestMethod("POST");
connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
connection.setRequestProperty("Content-Length", "" + Integer.toString(encodedParams.getBytes().length));
connection.setRequestProperty("Content-Language", "en-US");
connection.setUseCaches(false);
connection.setDoInput(true);
connection.setDoOutput(true);

// Setup the POST payload
DataOutputStream wr = new DataOutputStream(connection.getOutputStream());
wr.writeBytes(encodedParams);
wr.flush();
wr.close();

// Read the response
InputStream inputStream = connection.getInputStream();
BufferedReader in = new BufferedReader(new InputStreamReader(inputStream, "UTF-8")); 
```

不知道我在哪里犯了错误。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T12:01:17.620

尝试

```
connection.connect(); 
```

在阅读回复之前