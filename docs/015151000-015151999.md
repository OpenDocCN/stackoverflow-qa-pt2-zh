# StackOverflow 问答 15151000-15151999

# git - 忽略特定文件夹（和所有子文件夹）中的文件类型？

> ID：15151001
> 
> 赞同：5
> 
> 时间：2013-03-01T05:15:48.643
> 
> 标签：git

我正在尝试配置一个`.gitignore`文件，以便忽略具有特定扩展名的所有文件，*除非*它们出现在特定文件夹或该文件夹的任何子文件夹中。我尝试了以下不起作用的方法：

```
*.lib
!Libraries/ 
```

我的第二个问题是，否定排除仅适用于前一条规则，还是您定义的每条规则都适用？

[这](https://stackoverflow.com/questions/4621072/git-ignore-all-files-of-a-certain-type-except-those-in-a-specific-subfolder?rq=1)几乎回答了我的问题，但对子文件夹没有帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T05:18:20.113

我认为你的意思是忽略所有，`*.lib`除非它们在里面`/Libraries`，试试这个：

```
# The root directory's .gitignore
*.lib
!/Libraries/*.lib

# The .gitignore under /Libraries directory
!*.lib 
```

`.gitignore`从上到下解析。任何规则都可以覆盖先前的规则。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-01T05:42:12.380

尝试使用双星号，`**`. 您可能会遇到这样的`.gitignore`事情：

```
*.lib
!/Libraries/**/*.lib 
```

双星号匹配子目录的任意组合。[这个答案](https://stackoverflow.com/a/681294/1095946)解释了它如何很好地工作。

至于你的第二个问题，@Tuxdude 是正确的：由于`.gitignore`解析的方式，规则将覆盖其他规则。

# iphone - Iphone App 中的 Paypal Checkout Express 和 Web 服务器

> ID：15151005
> 
> 赞同：1
> 
> 时间：2013-03-01T05:16:21.030
> 
> 标签：iphone, mobile, paypal, checkout

我有一些问题。
我正在研究如何在 iPhone 中使用 Paypal 结账。但是在很多天我无法解决这个问题。
我使用它的示例 MECL Example Non-Web (pizza order) 和 Document。
我创建了一个演示项目。
- 从 FetchDeviceAppID 获取 deviceReferenceToken
- 从 MECL 示例非 Web 项目获取 [ECNetworkHandler sharedInstance].ecToken。
- 登录 Paypal Sandbox 成功并查看，但 Paynow 错误。

```
NSLog(@"payWithPayPal");
[ECNetworkHandler sharedInstance].ecToken =@"EC-63R96639DY166915M";// Get from Order Pizza 
[ECNetworkHandler sharedInstance].userAction = ECUSERACTION_COMMIT;
NSLog(@"deviceReferenceToken %@",[ECNetworkHandler sharedInstance].deviceReferenceToken);// Get from fetchDeviceAppId
[[ECNetworkHandler sharedInstance] setDelegate:self];
[self.navigationController pushViewController:[[WebViewController alloc] initWithURL:[ECNetworkHandler sharedInstance].redirectURL returnURL:RETURN_URL cancelURL:CANCEL_URL]
                                     animated:TRUE]; 
```

而已！^^我不知道怎么做。谁有这方面的经验。

支持我！谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T07:02:04.953

对于简单的付款流程，它对我有用。

导入整个贝宝库后使用此代码

```
#import "PayPal.h"

typedef enum PaymentStatuses {
PAYMENTSTATUS_SUCCESS,
PAYMENTSTATUS_FAILED,
PAYMENTSTATUS_CANCELED,
} PaymentStatus;

@interface Paybypal : UIViewController<PayPalPaymentDelegate>{

@private
CGFloat y;
BOOL resetScrollView;
PaymentStatus status;
 }

@property(nonatomic,retain)NSString *details;
@property(nonatomic,retain)NSDecimalNumber *totalvaluemin;

in .m file

#import "Paybypal.h"
#import "PayPalPayment.h"
#import "PayPalAdvancedPayment.h"
#import "PayPalAmounts.h"
#import "PayPalReceiverAmounts.h"
#import "PayPalAddress.h"
#import "PayPalInvoiceItem.h"
#import "SuccessViewController.h"

#define SPACING 3.

@interface Paybypal ()

@end

@implementation Paybypal

 @synthesize details,totalvaluemin;

 -(void)addLabelWithText:(NSString *)text andButtonWithType:(PayPalButtonType)type withAction:(SEL)action {
UIFont *font = [UIFont boldSystemFontOfSize:14.];
CGSize size = [text sizeWithFont:font];

UIButton *button = [[PayPal getPayPalInst] getPayButtonWithTarget:self andAction:action andButtonType:type];
CGRect frame = button.frame;
frame.origin.x = round((self.view.frame.size.width - button.frame.size.width) / 2.);
frame.origin.y = round(y + size.height);
button.frame = frame;
[self.view addSubview:button];

UILabel *label = [[[UILabel alloc] initWithFrame:CGRectMake(frame.origin.x, y, size.width, size.height)] autorelease];
label.font = font;
label.text = text;
label.backgroundColor = [UIColor clearColor];
[self.view addSubview:label];

y += size.height + frame.size.height + SPACING;
}

- (void)viewDidLoad
{
[super viewDidLoad];
// Do any additional setup after loading the view, typically from a nib.

self.view = [[[UIView alloc] initWithFrame:[UIScreen mainScreen].applicationFrame] autorelease];
self.view.autoresizesSubviews = FALSE;
UIColor *color = [UIColor groupTableViewBackgroundColor];
if (CGColorGetPattern(color.CGColor) == NULL) {
    color = [UIColor lightGrayColor];
}
self.title = @"";

UIImageView *backgroundView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"Background.JPG"]];
backgroundView.frame = self.view.bounds;
[[self view] addSubview:backgroundView];

status = PAYMENTSTATUS_CANCELED;

y = 2.;

UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
button.frame = CGRectMake((self.view.frame.size.width - 125), 222, 75, 25);

[button setTitle:@"" forState:UIControlStateNormal];
[button addTarget:self action:@selector(RetryInitialization) forControlEvents:UIControlEventTouchUpInside];
[self.view addSubview:button];

[self addLabelWithText:@"" andButtonWithType:BUTTON_294x43 withAction:@selector(simplePayment)];

 }

 - (void)viewDidUnload
{
[super viewDidUnload];
// Release any retained subviews of the main view.
}

 - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
 {
return (interfaceOrientation != UIInterfaceOrientationPortraitUpsideDown);
 }

 - (void)simplePayment {

[PayPal getPayPalInst].shippingEnabled = TRUE;

[PayPal getPayPalInst].dynamicAmountUpdateEnabled = TRUE;

[PayPal getPayPalInst].feePayer = FEEPAYER_EACHRECEIVER;

PayPalPayment *payment = [[[PayPalPayment alloc] init] autorelease];
payment.recipient = @"receiver email id";
payment.paymentCurrency = @"USD";
payment.description = [NSString stringWithFormat:@"%@",details];
payment.merchantName = @"receiver name";

payment.subTotal = totalvaluemin;

payment.invoiceData = [[[PayPalInvoiceData alloc] init] autorelease];
payment.invoiceData.totalShipping = [NSDecimalNumber decimalNumberWithString:@"0"];
payment.invoiceData.totalTax = [NSDecimalNumber decimalNumberWithString:@"0.00"];

payment.invoiceData.invoiceItems = [NSMutableArray array];
PayPalInvoiceItem *item = [[[PayPalInvoiceItem alloc] init] autorelease];
item.totalPrice = payment.subTotal;
item.name =[NSString stringWithFormat:@"%@",details];
[payment.invoiceData.invoiceItems addObject:item];

[[PayPal getPayPalInst] checkoutWithPayment:payment];
    }

     #pragma mark -
     #pragma mark PayPalPaymentDelegate methods

    -(void)RetryInitialization
{
//[PayPal initializeWithAppID:@"APP-80W284485P519543T" forEnvironment:ENV_SANDBOX];

//DEVPACKAGE
    //[PayPal initializeWithAppID:@"APPLIVEID" forEnvironment:ENV_LIVE];
//  [PayPal initializeWithAppID:@"anything" forEnvironment:ENV_NONE];
}

- (void)paymentSuccessWithKey:(NSString *)payKey andStatus:(PayPalPaymentStatus)paymentStatus {
NSString *severity = [[PayPal getPayPalInst].responseMessage objectForKey:@"severity"];
NSLog(@"severity: %@", severity);
NSString *category = [[PayPal getPayPalInst].responseMessage objectForKey:@"category"];
NSLog(@"category: %@", category);
NSString *errorId = [[PayPal getPayPalInst].responseMessage objectForKey:@"errorId"];
NSLog(@"errorId: %@", errorId);
NSString *message = [[PayPal getPayPalInst].responseMessage objectForKey:@"message"];
NSLog(@"message: %@", message);

status = PAYMENTSTATUS_SUCCESS;
}

- (void)paymentFailedWithCorrelationID:(NSString *)correlationID {

NSString *severity = [[PayPal getPayPalInst].responseMessage objectForKey:@"severity"];
NSLog(@"severity: %@", severity);
NSString *category = [[PayPal getPayPalInst].responseMessage objectForKey:@"category"];
NSLog(@"category: %@", category);
NSString *errorId = [[PayPal getPayPalInst].responseMessage objectForKey:@"errorId"];
NSLog(@"errorId: %@", errorId);
NSString *message = [[PayPal getPayPalInst].responseMessage objectForKey:@"message"];
NSLog(@"message: %@", message);

status = PAYMENTSTATUS_FAILED;
}

- (void)paymentCanceled {
status = PAYMENTSTATUS_CANCELED;
}

- (void)paymentLibraryExit {
UIAlertView *alert = nil;
switch (status) {
    case PAYMENTSTATUS_SUCCESS:
        [self.navigationController pushViewController:[[[SuccessViewController alloc] init] autorelease] animated:TRUE];
        break;
    case PAYMENTSTATUS_FAILED:
        alert = [[UIAlertView alloc] initWithTitle:@"Order failed"
                                           message:@"Your order failed. Touch \"Pay with PayPal\" to try again."
                                          delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
        break;
    case PAYMENTSTATUS_CANCELED:
        alert = [[UIAlertView alloc] initWithTitle:@"Order canceled"
                                           message:@"You canceled your order. Touch \"Pay with PayPal\" to try again."
                                          delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
        break;
}
[alert show];
[alert release];
}

- (PayPalAmounts *)adjustAmountsForAddress:(PayPalAddress const *)inAddress andCurrency:(NSString const *)inCurrency andAmount:(NSDecimalNumber const *)inAmount
                                andTax:(NSDecimalNumber const *)inTax andShipping:(NSDecimalNumber const *)inShipping andErrorCode:(PayPalAmountErrorCode *)outErrorCode {
//do any logic here that would adjust the amount based on the shipping address
PayPalAmounts *newAmounts = [[[PayPalAmounts alloc] init] autorelease];
newAmounts.currency = @"SGD";
newAmounts.payment_amount = (NSDecimalNumber *)inAmount;

//change tax based on the address
if ([inAddress.state isEqualToString:@"CA"]) {
    newAmounts.tax = [NSDecimalNumber decimalNumberWithString:[NSString stringWithFormat:@"%.2f",[inAmount floatValue] * .1]];
} else {
    newAmounts.tax = [NSDecimalNumber decimalNumberWithString:[NSString stringWithFormat:@"%.2f",[inAmount floatValue] * .08]];
}
newAmounts.shipping = (NSDecimalNumber *)inShipping;

//if you need to notify the library of an error condition, do one of the following
//*outErrorCode = AMOUNT_ERROR_SERVER;
//*outErrorCode = AMOUNT_CANCEL_TXN;
//*outErrorCode = AMOUNT_ERROR_OTHER;

return newAmounts;
}

 - (NSMutableArray *)adjustAmountsAdvancedForAddress:(PayPalAddress const *)inAddress andCurrency:(NSString const *)inCurrency
                             andReceiverAmounts:(NSMutableArray *)receiverAmounts andErrorCode:(PayPalAmountErrorCode *)outErrorCode {
NSMutableArray *returnArray = [NSMutableArray arrayWithCapacity:[receiverAmounts count]];
for (PayPalReceiverAmounts *amounts in receiverAmounts) {
    //leave the shipping the same, change the tax based on the state
    if ([inAddress.state isEqualToString:@"CA"]) {
        amounts.amounts.tax = [NSDecimalNumber decimalNumberWithString:[NSString stringWithFormat:@"%.2f",[amounts.amounts.payment_amount floatValue] * .1]];
    } else {
        amounts.amounts.tax = [NSDecimalNumber decimalNumberWithString:[NSString stringWithFormat:@"%.2f",[amounts.amounts.payment_amount floatValue] * .08]];
    }
    [returnArray addObject:amounts];
}

//if you need to notify the library of an error condition, do one of the following
//*outErrorCode = AMOUNT_ERROR_SERVER;
//*outErrorCode = AMOUNT_CANCEL_TXN;
//*outErrorCode = AMOUNT_ERROR_OTHER;

return returnArray;
}

#pragma mark -
#pragma mark UITextFieldDelegate methods

- (BOOL)textFieldShouldReturn:(UITextField *)textField {
[textField resignFirstResponder];
return TRUE;
}

- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField {
resetScrollView = FALSE;
return TRUE;
 }

 - (void)textFieldDidBeginEditing:(UITextField *)textField {
resetScrollView = TRUE;

[UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:.3];
[UIView setAnimationBeginsFromCurrentState:TRUE];
self.view.frame = CGRectMake(0., -216., self.view.frame.size.width, self.view.frame.size.height);
[UIView commitAnimations];
 }

 - (void)textFieldDidEndEditing:(UITextField *)textField {
if (resetScrollView) {
    resetScrollView = FALSE;

    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration:.3];
    [UIView setAnimationBeginsFromCurrentState:TRUE];
    self.view.frame = CGRectMake(0., 0., self.view.frame.size.width, self.view.frame.size.height);
    [UIView commitAnimations];
}
 }

 -(BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {
return TRUE;
 }

 @end 
```

# python - 将字符串中的字符与二进制列表匹配

> ID：15151011
> 
> 赞同：1
> 
> 时间：2013-03-01T05:17:08.927
> 
> 标签：python

使用 string`abcdefg`和 list `[1, 1, 0, 0, 1, 1, 0]`，返回字符串中与`1 (on)`列表中匹配的所有字符的 Pythonic 方法是什么？

所需的输出将是：

```
['a', 'b', 'e', 'f'] 
```

谢谢！

**编辑：**

还有一个问题，是否可以进行分组`ab`，`ef`使输出看起来像这样：`['ab', 'ef']`？基本上，这个想法是将由 . 分隔的字符分组`0`。如果没有`0`，那就是`['abcdefg']`。谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:18:34.083

您可以为此目的使用[itertools.compress](http://docs.python.org/2/library/itertools.html#itertools.compress)

```
>>> from itertools import compress
>>> list(compress("abcdefg", [1, 1, 0, 0, 1, 1, 0]))
['a', 'b', 'e', 'f'] 
```

如果您不想导入任何模块，也可以使用

```
>>> [e for e, i in zip("abcdefg", [1, 1, 0, 0, 1, 1, 0]) if i]
['a', 'b', 'e', 'f'] 
```

根据您的最新要求

```
>>> from itertools import groupby
>>> st = "abcdefghijklm"
>>> some_list = [1,1,0,0,0,1,1,1,0,0,0,1,0]
>>> it_l = iter(some_list)
>>> [''.join(v) for k, v in groupby(st, key = lambda e:next(it_l)) if k]
['ab', 'fgh', 'l'] 
```

或更好

```
>>> [''.join(zip(*v)[-1]) for k, v in groupby(zip(some_list, st), key = itemgetter(0)) if k]
['ab', 'fgh', 'l'] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T05:20:20.850

```
[x[0] for x in zip("abcdefg", [1, 1, 0, 0, 1, 1, 0]) if x[1]] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T05:43:47.283

三种解决方案：

```
s = 'abcdefg'
li = [1, 1, 0, 0, 1, 1, 0]

print [c for i,c in enumerate(s) if li[i]]

print [s[i] for i,b in enumerate(li) if b]

it = iter(li)
print [c for c in s if it.next()] 
```

我最喜欢的是带有 iter() 的那个：没有 zip、没有枚举、没有 itertool

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T06:16:56.627

关于您的更新 - 您`itertools.groupby`用于识别连续值的运行，并从中构建一个列表 - 例如：

```
text = 'abcdefg'
bits = [1, 1, 0, 0, 1, 1, 0]

from itertools import groupby
print [''.join(el[0] for el in g) for k, g in groupby(zip(text, bits), lambda L: L[1]) if k]
# ['ab', 'ef'] 
```

# c - C：令人惊讶的数组结果

> ID：15151013
> 
> 赞同：0
> 
> 时间：2013-03-01T05:17:14.207
> 
> 标签：c, arrays

显然 C 不喜欢这样的声明：

`char some_array[n] = "Text here";` <== 其中*n*是一个合适大小的 int ....

好吧，实际上，我猜它喜欢它就好了，但是输出让我感到惊讶！这是一个例子。

```
 char two[4] = "What";
    printf("2: %s \n", two); 
```

输出是：

```
2: WhatWhat 
```

WhatWhat到底在做什么？！

所以我尝试添加：

```
 char test[4] = "abcd"; 
```

输出是：

```
2: WhatWhatabcd
3: abcd 
```

是的，我明白了，我的语法不受欢迎。但为什么？！实际变量是怎么回事？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:18:21.477

字符串文字有一个额外的字符 - nul 终止符。

所以你需要让它长度为5：

```
char two[5] = "What"; 
```

或者如果可能的话：

```
char two[] = "What"; 
```

（您遇到缓冲区溢出或其他情况）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:20:51.990

在处理字符串时，您应该考虑空终止符。在这里，您尝试将 4 个字符的字符串文字分配给 4 个字符的数组，从而不为空终止符提供额外的字符空间。

更改代码如下：

```
char two[5] = "What";
char test[4] = "abcd"; 
```

至于为什么`"What"`你有问题而没有问题，对于这种情况`"abcd"`，[行为将是未定义](http://en.wikipedia.org/wiki/Undefined_behavior)的，因为程序将尝试搜索内存，直到找到空终止符。在你的情况下，它打印不正确，它可能导致崩溃、挂起或天知道是什么。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T05:21:29.043

字符串仅由 NULL 字符终止，在您的情况下，因为您分配了 4 个字节的空间，并且您在其中存储了正好 4 个字符的“what”，因此没有空间用于 NULL 终止。

在打印时 printf 开始从您提到的起始地址读取数据并一直到 NULL 字符...因此分配缓冲区的相邻内存可能有一些垃圾字符（因为在所有情况下都不会自动刷新内存，当缓冲区被释放时）所以你看到whatwhat或者它可能是whatjkefwhksdjfsdfjsf某天......或者如果它读取到未经授权的内存位置可能是分段错误。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T05:23:41.750

因为您的最大数组索引是 4，所以您正面临这个问题。

使最大数组索引为 5，例如 char test[5]，以便它可以用 NULL 终止字符串。您的问题将得到解决。

# android - Android：列表视图顶部出现透明空间

> ID：15151019
> 
> 赞同：0
> 
> 时间：2013-03-01T05:17:40.297
> 
> 标签：android, android-listview, gradient

我需要使用**拉来刷新**列表视图，所以我使用了相同的[Chris Banes 实现](https://github.com/chrisbanes/Android-PullToRefresh)。我还需要在我的列表项上设置一个深色透明背景。所以，我使用了渐变。一切正常，除了标题和列表视图之间的顶部出现一个小的空白区域，如下图所示，我需要将其删除。我认为它与渐变有关，而不是与库有关，因为我查看了库的源代码，但没有发现任何问题。

下面是我的布局文件：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/bg_menu_list" >

<com.dzo.pulltorefresh.HeaderBar
    android:id="@+id/baseHeaderBar"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true" />

<com.handmark.pulltorefresh.library.PullToRefreshListView
    android:id="@+id/listMainMenu"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_below="@+id/baseHeaderBar"
    android:layout_marginBottom="55dp"
    android:cacheColorHint="#00000000"
    android:divider="#050505"
    android:dividerHeight="2dp" />

</RelativeLayout> 
```

这是我使用的渐变：

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
android:shape="rectangle">

<gradient 
    android:startColor="#77000000"
    android:centerColor="#88000000"
    android:endColor="#99000000"
    android:angle="270"/>
</shape> 
```

![在此处输入图像描述](../Images/23b79b5a5f7ebd9e74bdab95d0a6b600.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:00:31.487

只需将`RelativeLayout`背景更改为如下所示：

> ```
>  <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
>        android:layout_width="match_parent"
>        android:layout_height="match_parent"
>        android:background="@android:color/background_dark" > 
> ```

# php - 特殊字符函数

> ID：15151026
> 
> 赞同：1
> 
> 时间：2013-03-01T05:18:29.200
> 
> 标签：php, function

是否有像 htmlentities 或 htmlspecialchars 这样的函数可以转换特殊字符 ( ) 或你有什么，同时在发布后`&quot;`保留用户输入数据`<br>`的.etc ？`<span>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:24:27.037

我希望你搜索`htmlspecialchars_decode()`。

下面是一个例子。

```
<?php
$str = "<p>this -&gt; &quot;</p>\n";

echo htmlspecialchars_decode($str);

// note that here the quotes aren't converted
echo htmlspecialchars_decode($str, ENT_NOQUOTES);
?> 
```

[php.net 链接](http://php.net/manual/en/function.htmlspecialchars-decode.php)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:30:05.377

有两种方法可以获得所需的东西：

```
<?php

      $str = "<p>this -&gt; &quot;</p>\n";

       //Encoding
       $encoded = htmlentities($str);

      //Decoding note that here the quotes aren't converted
     echo htmlspecialchars_decode($encoded, ENT_NOQUOTES);
 ?> 
```

如果要按原样将条目保存在数据库中，请使用添加斜杠按原样进行存储

# css - 调整大小时强大的页面布局

> ID：15151031
> 
> 赞同：1
> 
> 时间：2013-03-01T05:18:52.043
> 
> 标签：css, html, css-float

我目前在我的页面上有两个关于左中的 div，它们都向左浮动。我的问题是，当我调整页面大小以使其更小时，右 div 会下沉到左 div 之下，我希望它保持在另一个 div 旁边的位置。

什么 CSS 魔法可以让我做到这一点？（如有）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:22:34.803

在开发流体布局时，一个常见的错误是将`%`单位与`px`值混合。

的大小与可用空间相关，当存在带有或或`%`的值时无法有效工作`px``em``...`

如果您使用`%`单位来调整布局的大小，您必须确保，您必须`%`为所有`border`, `padding`, `margin`.

对于这样的布局

```
<div id="left">
    Left
</div>
<div id="center">
    Center
</div> 
```

CSS，

```
#left, #center { float: left; }
#left { width: 26%; padding: 2%; }
#center { width: 66%; padding: 2%; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:25:33.963

您好，请检查以下相应的代码，它会帮助你....

```
<html>
    <head>
        <style type="text/css">
            #left {
                border:1px solid red;
                width:40%;
                height:auto;
                float:left;
            }
            #right {
                border:1px solid blue;
                width:40%;
                height:auto;
                float:left;
            }
        </style>
    </head>
    <body>
        <div id="left">
            <h1>Sample 1</h1>
            <h1>Sample 1</h1>
            <h1>Sample 1</h1>
            <h1>Sample 1</h1>
        </div>
        <div id="right">
            <h1>Sample 2</h1>
            <h1>Sample 2</h1>
            <h1>Sample 2</h1>
            <h1>Sample 2</h1>
        </div>
    </body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T07:17:12.593

还有一种方法可以在不使用 % 大小的情况下做到这一点，因为它们很危险；）

```
<div id="left">Left</div>
<div id="center">Center</div>
<br /> 
```

和CSS：

```
#left {
    width: 100px;
    float: left;
}

#center {
    width: 100px;
    margin: 0 auto;
}

br {
    clear: both;
} 
```

所有最美好的祝愿，

[穆罕默德·阿里·夏帕桑](http://m.a.sharpasand.com/)

# ruby-on-rails - 将所有以特定单词开头的 URL 路由到一个特定的控制器

> ID：15151035
> 
> 赞同：0
> 
> 时间：2013-03-01T05:19:09.187
> 
> 标签：ruby-on-rails, rails-routing

我是 Rails 的新手，这个问题可能听起来很傻。我想将所有以“GitRepos/”开头的链接路由到一个特定的控制器。

链接可以是

> GitRepos/Linux/Fedora/readme.txt

或者

> GitRepos/Linux/Ubuntu/config/lib/testing.md

在任何一种情况下，我都希望我的路由指向*Markdowns#view*控制器。

我有我的路线

```
 match 'GitRepos/' =>'markdowns#view' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:39:44.033

您可以将以下内容添加到您的路线中

```
match '/GitRepos/*path' => 'markdowns#view' 
```

# iphone - 具有多个部分的 UITableView

> ID：15151037
> 
> 赞同：38
> 
> 时间：2013-03-01T05:19:30.477
> 
> 标签：iphone, ipad, uitableview

我想用多个部分制作 tableView 但我不想使用字典我有两个数组我希望第一个数组应该在第一部分加载，第二个在第二部分加载。

我有 3 个项目的 arrayOne 和 4 个项目的 arrayTwo，所以如何添加它们并在部分中显示它们。

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
{
    if(section == 0)
        return resultArray.count;
    else
        return resultArray.count;
}

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {
    return 2;
}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section
{
    NSLog(@"Number of Sections");
    if(section == 0)
        return @"Section 1";
    if(section == 1)
        return @"Section 2";
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
     NSLog(@"Table Cell Data");
     static NSString *CellIdentifier = @"Cell";
     UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
     if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
     }

     appDelegate = (MultipleDetailViewsWithNavigatorAppDelegate *)[[UIApplication sharedApplication] delegate];

     if (indexPath.section==0) {    
         appDelegate = (MultipleDetailViewsWithNavigatorAppDelegate *)[[UIApplication sharedApplication] delegate];
         ObjectData *theCellData = [resultArray objectAtIndex:indexPath.row];
         NSString *cellValue =theCellData.category;
         NSLog(@"Cell Values %@",cellValue);
         cell.textLabel.text = cellValue;
         return cell;
     }
     else {
         ObjectData *theCellData = [resultArray objectAtIndex:indexPath.row];
         NSString *cellValue =theCellData.category;
         cell.textLabel.text = cellValue;
         return cell;       
     }
} 
```

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2013-03-01T05:28:07.233

```
 - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {
      return 2 ;
 }

 - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
      if (section==0)
      {
             return [array1 count];
      }
      else{
             return [array2 count];
      }
 }

 - (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {
      if(section == 0)
           return @"Section 1";
      else
           return @"Section 2";
 }

 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{

      static NSString *CellIdentifier = @"Cell";

      UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
     if (cell == nil) {
      cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
      }

 if (indexPath.section==0) {
     ObjectData *theCellData = [array1 objectAtIndex:indexPath.row];
     NSString *cellValue =theCellData.category;
     cell.textLabel.text = cellValue;
 }
 else {
     ObjectData *theCellData = [array2 objectAtIndex:indexPath.row];
     NSString *cellValue =theCellData.category;
     cell.textLabel.text = cellValue;
 }
     return cell;        
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-29T21:35:54.173

以下是相关的 Swift 3 行：

```
func numberOfSections (in tableView: UITableView) -> Int {
    ...
    return numberOfSections
}

func tableView(_ tableView: UITableView, willDisplayHeaderView view: UIView, forSection section: Int) {
    //Not necessary, but will let you format the section headers. Example:
    guard let header = view as? UITableViewHeaderFooterView else { return }
    header.textLabel?.font = UIFont.boldSystemFont(ofSize: 24)
    header.textLabel?.textColor = UIColor.darkGray
    header.textLabel?.textAlignment = .center
    header.textLabel?.frame = header.frame
    view.tintColor = UIColor.white
}

func tableView(_ tableView: UITableView, willDisplayFooterView view: UIView, forSection section: Int) {
    //Also not necessary, but clear footers help space out sections
    view.tintColor = UIColor.clear   
}

func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -> CGFloat {
    //Spacing between sections:
    return 25
}

func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
    ...
    return sectionCount
}

func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
    //All your cell setup
    ...
    //I call this to get the absolute row number (disregarding sections)
    let row = getAbsoluteRow_InCurrentSection(indexPath: indexPath)
    //Now you can use the row number to grab a value from an array or CoreData object and use the value to populate your cell!! 
}

func getAbsoluteRow_InCurrentSection(indexPath: IndexPath) -> Int {
    var aggRows = 0
    if currentListEntity == "GrocTask" {
        let curSection = indexPath.section
        for i in 0..<curSection {
            aggRows += flex1ArrayCnt[i]
        }
        aggRows += indexPath.row
    }
    return aggRows
} 
```

//请注意，我只包括那些与构建带有部分的 UITableView 直接相关的内容。我没有包含 editActions、didSelect 或其他 UITableView 委托函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:22:43.513

改变这个`if (section==0)`

到`if (indexPath.section==0)`

你必须实现这个功能：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
 {
     if(section == 0)
         return arrSection1.count;
      else
         return arrSection2.count;
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T05:23:44.177

你`numberOfRowsInSection`应该是这样的：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    if (section == 0) {
        return firstArray.count;
    } else {
        return secondArray.count;
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T05:23:51.217

你几乎走在正确的轨道上......

让我们考虑一下您的两个数组是`arrOne`和`arrTwo`......

```
 - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
      if(section == 0)
      return [arrOne count];
      else
      return [arrTwo count];
    }

    - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
        {

         static NSString *CellIdentifier = @"Cell";

         UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
          }

             if (indexPath.section==0) {

        ObjectData *theCellData = [arrOne objectAtIndex:indexPath.row];
        NSString *cellValue =theCellData.category;
        NSLog(@"cellValue = %@",cellValue); //To see the value of string cellValue
        cell.textLabel.text = cellValue;

        return cell;

    }

    else {
        ObjectData *theCellData = [arrTwo objectAtIndex:indexPath.row];
        NSString *cellValue =theCellData.category;
        cell.textLabel.text = cellValue;

        return cell;        
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-12-02T11:57:35.537

**TableView Delegate Method 已经将部分指定为*:(NSInteger)section* .. 所以我们也可以使用 switchCase**

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
    {
        switch (section)
        {
            case 0:
                return self.arrMedia.count;
                break;
            case 1:
                return 1;
                break;
        }
        return 0;
    } 
```

# asp.net - html 4 doctype下html5代码如何渲染？

> ID：15151038
> 
> 赞同：0
> 
> 时间：2013-03-01T05:19:37.937
> 
> 标签：asp.net, html, kendo-ui

我在我的 aspx 页面中编写了 html 4 代码，并在代码顶部使用了 html 4 Doctype，并且我在我的项目中使用了 Kendu UI，kendu 用 html 5 编写。功能工作正常，没有任何错误。但我的问题是 html 5 html 4 doctype 下的代码渲染。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:45:46.187

doctype 字符串对浏览器的唯一影响是 Quirks Mode vs. Standards Mode vs. Nearly Standards Mode 的选择，这发生在一个复杂的[doctype sniffing](http://hsivonen.iki.fi/doctype/)过程中。使用`<!doctype html>`实际上与使用规范中定义的 HTML 4.01 Strict docype 具有相同的效果（尽管在一些或多或少过时的浏览器（如 Netscape）中可能存在差异）。

doctype 的选择对 HTML5 标签的解释没有影响。无论文档类型是什么（甚至在没有任何文档类型的情况下），支持它们的浏览器都会这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:25:40.263

HTML5，作为一种标记语言，仍然是 HTML4，但有一些新的标签（元素类型）。我不认为 Kendu UI 使用这些新的元素类型。它可能使用新的 CSS 功能，但浏览器实现的 CSS 及其版本与 HTML 版本完全正交。

# jquery - 使用 jQuery 替换图像

> ID：15151043
> 
> 赞同：5
> 
> 时间：2013-03-01T05:20:19.353
> 
> 标签：jquery, html, css

这是我的**HTML**：

```
<div id="show">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR51FTd5w9iwfz_PLnUTUIbYBB0bCX6d3ue1ZSx3SJObNLGECEm"
>
</div>
<div id="thumbnails">
    <div id="thumbnail1">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPIzMxDNjQ_x4iUZ6WLo9R32QKCreu8PQGxcRHWmUw4hNcYmiR"
        width="100" height="100">
    </div>
    <div id="thumbnail2">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR51FTd5w9iwfz_PLnUTUIbYBB0bCX6d3ue1ZSx3SJObNLGECEm"
        width="100" height="100">
    </div>
    <div id="thumbnail3">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTsplNlIS3zRyy89UxlT5Nwu_Bn7m6w7iqMYXPF9q9MpLOG17XR"
        width="100" height="100">
</div> 
```

我的**CSS**：

```
#thumbnails div {
    float:left;
    border:1px solid;
}
#thumbnails div:hover {
    color:yellow;
} 
```

因此，我只想`div #show`在单击时更改其下方的任何缩略图。我已经尝试使用`jQuery .attr('src', 'url');`它，但效果不佳。

小提琴：http: [//jsfiddle.net/PemHv/](http://jsfiddle.net/PemHv/)

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-01T05:25:47.683

用户`.on()`将点击事件分配给 dom 并`.attr()`获取`DOM`.

```
$('#thumbnails img').on('click',function(){
   var src = $(this).attr('src');
   $('#show img').attr('src',src);
}); 
```

**解释**

在上面的代码中，我将`click`事件分配给内部的图像，现在首先获取`div`id并将其设置为变量。`thumbnails``src attribute``clicked image``src`

然后在下一行它替换`src attribute`里面的图像`show div`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:26:56.523

演示：http: [//jsfiddle.net/PemHv/3/](http://jsfiddle.net/PemHv/3/)

jQuery：

```
$('img',".thumbnail").click(function(){
  var src = $(this).attr('src');
  $('img',$('#show')).attr('src',src);
}); 
```

HTML（你应该使用类）：

```
<div id ="show">
<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR51FTd5w9iwfz_PLnUTUIbYBB0bCX6d3ue1ZSx3SJObNLGECEm" width="200" height="200">
    </div>

<div id="thumbnails">
<div class="thumbnail">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPIzMxDNjQ_x4iUZ6WLo9R32QKCreu8PQGxcRHWmUw4hNcYmiR" width="100" height="100">
    </div>

<div class="thumbnail">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR51FTd5w9iwfz_PLnUTUIbYBB0bCX6d3ue1ZSx3SJObNLGECEm" width="100" height="100">
    </div>
    </div> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T10:28:10.110

[http://jsfiddle.net/PemHv/9/](http://jsfiddle.net/PemHv/9/)

```
$('#thumbnails div').click(function(){
    var path = $(this).find('img').attr("src");
    //console.log(path)
    $('#show img').attr("src", path );
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T05:30:32.343

```
$('#show')
    .children()
    .on('click', function(event) {
        $(event.target).attr('src', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPIzMxDNjQ_x4iUZ6WLo9R32QKCreu8PQGxcRHWmUw4hNcYmiR');
    }); 
```

# ios - lipo 无法打开输入文件（没有这样的文件或目录）xcode

> ID：15151048
> 
> 赞同：2
> 
> 时间：2013-03-01T05:20:28.870
> 
> 标签：ios, frameworks

当我尝试使用[http://jaym2503.blogspot.in/2012/09/how-to-create-custom-ios-framework.html](http://jaym2503.blogspot.in/2012/09/how-to-create-custom-ios-framework.html)中的指令制作 .framework 文件时出现此错误。

有没有人遇到过这个？..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:56:49.027

确保你已经这样做了。将“FW_NAME”替换为您的框架名称，在我的情况下为“iOSBundle”

除了你得到这个的原因是源代码依赖问题。要分析这一点，只需添加 2 个文件，即；appDelegate .h 和 .m 并查看框架是否已构建。

检查 VALID_ARCHS 是否已正确设置。构建活动架构是否

[请参阅此链接](http://db-in.com/blog/2011/07/universal-framework-iphone-ios-2-0/)，我已经生成了一个框架并一直在使用它。这很令人沮丧，但这是一个很好的步骤。

# css - 随机图像的 URL

> ID：15151051
> 
> 赞同：2
> 
> 时间：2013-03-01T05:20:48.623
> 
> 标签：css, url, image

我想做一些我在 web 开发中没有见过的东西，但这似乎是可能的。**我想要一个可以放入任意 HTML`<IMG/>`标记或 CSS`background-image`属性的 URL，当访问时，*它是*一个随机图像。**我不希望页面指向或重定向到随机图像，也不希望它显示或嵌入随机图像，因为这些东西不符合上述要求。我已经看到了使用 Javascript 在网页中显示随机图像以交换属性或隐藏元素的解决方案，但这必须使*整个页面*成为图像，没有前面或后面的二进制或 ASCII 数据。我希望它可供对编程一无所知的人使用。我的目标是这样的：

```
http://example.com/randomImage/ 
```

理论上，每次在 CSS 或 HTML 中使用此 URL 加载页面时，都会在引用的元素中显示随机图像。它应该可以工作，如果您有多个`<IMG/>`元素或多个元素`background-image`引用此页面，它们应该都显示随机不同的图像。

我的第一个想法是使用 PHP（在下面描述的结构中）查看特定目录，随机选择一个图像文件，并回显其二进制数据。**如果这是可能的，那么我将如何去做呢？如果没有，那么有人有其他想法吗？**

我的主要想法是伪代码：

```
<?PHP
$chosenImage = getRandomFileFrom("./rand/");
$bytes = readFileAsBinary($chosenImage);
foreach($bytes as $byte){
    echo $byte;
}
?> 
```

*我不在乎真随机或伪随机。每次我都在乎它可以循环；我在这项工作中所需要的只是可以将多个图像作为单个 URL 引用*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:41:34.700

你当然可以用 PHP 做到这一点。

首先，选择一个随机文件（请参阅[从目录中选择随机文件](https://stackoverflow.com/questions/4478783/select-random-file-from-directory)）

```
function random_pic($dir = 'imagedir') {
    $files = glob($dir . '/*.jpg');
    if (!$files) return false;

    $file = array_rand($files);
    return $files[$file];
} 
```

然后您可以使用 PHP`readfile`函数将其发送给用户。您可以在此处阅读：[http](http://www.php.net/readfile) ://www.php.net/readfile请参见示例 1，我在下面稍作修改：

```
function outputImage( $filename ) {
    header('Content-Description: File Transfer');
    header("Content-type: image/jpeg");
    header('Content-Disposition: attachment; filename='.basename($filename ));
    header('Content-Transfer-Encoding: binary');
    header('Expires: 0');
    header('Cache-Control: must-revalidate');
    header('Pragma: public');
    header('Content-Length: ' . filesize($filename ));
    ob_clean();
    flush();
    readfile($filename );
    exit;
} 
```

然后把它们放在一起：

```
// Get a filename
$filename = random_pic();

// Check that a file was found
if (!$filename) {
    header('HTTP/1.0 404 Not Found');
    die();
}

// Output the image
outputImage( $filename ); 
```

您还可以更改`$files = glob($dir . '/*.jpg');`以查找不同的图像格式，但您还必须更改`outputImage`以检测格式并将 `Content-type`类型标题设置为`image/jpeg`or`image/png`等​​...

如果您只提供一种类型的图像，您总是可以设置 Apache 来处理对 PHP 脚本的“randomImage.jpg”请求，然后客户端浏览器绝对不会更明智。有关更多信息，请查看[如何将所有请求重定向到文件，使用 Apache 的图像除外？](https://stackoverflow.com/questions/7060932/apache-htaccess-redirect-all-request-to-a-file-except-images)（虽然你当然会做相反的事情）还检查 Apache 重写规则：[http ://httpd.apache.org/docs/current/rewrite/flags.html](http://httpd.apache.org/docs/current/rewrite/flags.html)

我还没有测试过这段代码，但它应该可以毫不费力地工作。希望有帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:43:18.657

你在运行 Apache 吗？有一个 RandomLocation Apache 模块可以处理这种事情。[他们的文档几乎描述了您正在尝试做的事情*。*](http://search.cpan.org/~rkobes/Apache-RandomLocation-0.5/RandomLocation.pm)

# bash - Bash 嵌套 If-Else 错误

> ID：15151053
> 
> 赞同：3
> 
> 时间：2013-03-01T05:20:51.920
> 
> 标签：bash, unicode, if-statement

我试图让我的 bash 配置文件在 shell 启动时激活一个 kerl 实例，所以我将以下内容放在我的 .profile 中：

```
if [ -d /opt/erlang/ ]; then 
    ERL_ENV=`ls -1d /opt/erlang/r* | sort | tail -1`;

    if [ -f "$ERL_ENV/activate" ]; then
        . $ERL_ENV/activate 
    else
        echo "Couldn't activate latest erlang environment"
    fi
fi 
```

当我尝试获取文件时，虽然我收到了这个错误：

```
-bash: .profile: line 30: syntax error near unexpected token `then'
-bash: .profile: line 30: `    if [ -f "$ERL_ENV/activate" ]; then' 
```

我已经尝试了几种方法，但我的 bash 太生锈了。有什么问题？

我在 OSX 上使用 Bash。（GNU bash，版本 3.2.48(1)-release (x86_64-apple-darwin12)）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:17:34.943

我决定打开 HARD MODE 并查看十六进制。最终成为复制粘贴的 unicode 字符。

该文件的十六进制如下所示： ![免费Hexy图片！](../Images/7399b08db7458eec1a814a0a6ef832cb.png)

图片中光标所在的“e2 8082”其实是个傻乎乎的小[En Space](http://www.marathon-studios.com/unicode/U2002/En_Space)。
用真实空间替换那些修复它。

不过还是谢谢大家的回答！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:03:10.807

可能是行尾有问题，试试

```
dos2unix .profile 
```

[**参考**](http://linux.die.net/man/1/dos2unix)

# html - 用阴影包裹的 CSS div

> ID：15151056
> 
> 赞同：0
> 
> 时间：2013-03-01T05:21:06.127
> 
> 标签：html, css

我知道这可能已经在网上被报道过几次，但我认为我不知道如何正确描述我正在寻找的效果，因为我似乎找不到任何结果。如今，这是一种非常流行的趋势，其中 div 似乎包裹在其父级的边缘下：

![在此处输入图像描述](../Images/6ebaefa66df16dda2d059a46da56ea97.png)

类似于图像中菜单上的标题元素。不必像图片中那样四舍五入，但类似的效果会很好，如果可能的话，一切都在纯 CSS 中。

我完全不知道从哪里开始，任何见解都将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:34:12.787

**猜猜这会对你有所帮助！**

[**CSS Ribbons**](https://catalin.red/css-ribbons/)的纯实现。[演示在这里](https://web.archive.org/web/20160520052208/http://red-team-design.com:80/wp-content/uploads/2011/04/css-ribbons-demo.html)。

[![](../Images/c3af6ba49d59c16e8110c26a7e530023.png)](https://i.stack.imgur.com/NTF6I.png)
[（来源：[red-team-design.com](http://www.red-team-design.com/wp-content/uploads/2011/04/css-ribbons.png)）]

另一个相同的实现，[**Pure CSS Ribbon Builder**](https://dribbble.com/shots/439245-Pure-CSS-Ribbon-Builder)。[生成器在这里](https://web.archive.org/web/20190110053641/http://livetools.uiparade.com:80/ribbon-builder.html)。

[![](../Images/da23c0f5cb0a1e9a8a059f7906227751.png)](https://i.stack.imgur.com/gPF1h.jpg)

或者你可以试试这个**角丝带**

你需要有这个**HTML**

```
<div class="wrapper">
    <div class="ribbon-wrapper-green"><div class="ribbon-green">NEWS</div></div>
</div> 
```

和**CSS**

```
.wrapper {
  margin: 50px auto;
  width: 280px;
  height: 370px;
  background: white;
  border-radius: 10px;
  -webkit-box-shadow: 0px 0px 8px rgba(0,0,0,0.3);
  -moz-box-shadow:    0px 0px 8px rgba(0,0,0,0.3);
  box-shadow:         0px 0px 8px rgba(0,0,0,0.3);
  position: relative;
  z-index: 90;
}

.ribbon-wrapper-green {
  width: 85px;
  height: 88px;
  overflow: hidden;
  position: absolute;
  top: -3px;
  right: -3px;
}

.ribbon-green {
  font: bold 15px Sans-Serif;
  color: #333;
  text-align: center;
  text-shadow: rgba(255,255,255,0.5) 0px 1px 0px;
  -webkit-transform: rotate(45deg);
  -moz-transform:    rotate(45deg);
  -ms-transform:     rotate(45deg);
  -o-transform:      rotate(45deg);
  position: relative;
  padding: 7px 0;
  left: -5px;
  top: 15px;
  width: 120px;
  background-color: #BFDC7A;
  background-image: -webkit-gradient(linear, left top, left bottom, from(#BFDC7A), to(#8EBF45)); 
  background-image: -webkit-linear-gradient(top, #BFDC7A, #8EBF45); 
  background-image:    -moz-linear-gradient(top, #BFDC7A, #8EBF45); 
  background-image:     -ms-linear-gradient(top, #BFDC7A, #8EBF45); 
  background-image:      -o-linear-gradient(top, #BFDC7A, #8EBF45); 
  color: #6a6340;
  -webkit-box-shadow: 0px 0px 3px rgba(0,0,0,0.3);
  -moz-box-shadow:    0px 0px 3px rgba(0,0,0,0.3);
  box-shadow:         0px 0px 3px rgba(0,0,0,0.3);
}

.ribbon-green:before, .ribbon-green:after {
  content: "";
  border-top:   3px solid #6e8900;   
  border-left:  3px solid transparent;
  border-right: 3px solid transparent;
  position:absolute;
  bottom: -3px;
}

.ribbon-green:before {
  left: 0;
}
.ribbon-green:after {
  right: 0;
} 
```

# glsl - gl_FragCoord.x, y, z 对于所有像素为 1，w 为深度

> ID：15151076
> 
> 赞同：8
> 
> 时间：2013-03-01T05:22:52.563
> 
> 标签：glsl, three.js, webgl, shader, zbuffer

我正在使用带着色器的 THREE.js。我正在尝试获取 zbuffer 信息。

顶点着色器：

```
// switch on high precision floats
#ifdef GL_ES
precision highp float;
#endif

void main()
{
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
} 
```

片段着色器：

```
#ifdef GL_ES
precision highp float;
#endif

void main()
{
    gl_FragColor = vec4(gl_FragCoord.x, gl_FragCoord.y, gl_FragCoord.z, 1.0);
} 
```

场景中有不同位置的对象，因此 zbuffer 中的值应该不同。

奇怪的是`gl_FragCoord.x`，`gl_FragCoord.y`和`gl_FragCoord.z`似乎`1.0`适用于所有片段，而`gl_FragCoord.w`对于不同的片段似乎有所不同。

如果我使用`gl_FragCoord.w`：

```
#ifdef GL_ES
precision highp float;
#endif

void main()
{
    float zbuffer = gl_FragCoord.w * 500.0;
    gl_FragColor = vec4(zbuffer, zbuffer, zbuffer, 1.0);
} 
```

它似乎是 zbuffer 图像：

![在此处输入图像描述](../Images/cc331ef41254eb5803cece2d5cfd8f1b.png)

那么为什么`gl_FragCoord.w`要表示深度信息，而`gl_FragCoord.z`总是`1.0`针对所有片段呢？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-01T05:32:51.827

`gl_FragCoord`在*窗口空间*。[窗口空间](http://www.opengl.org/wiki/Vertex_Post-Processing#Viewport_transform)位于窗口的像素坐标中。所以几乎你所有的片段都会有 > 1.0 的值。而且由于您几乎可以肯定不会渲染到浮点帧缓冲区，因此您的颜色将被限制在 [0, 1] 范围内。

`gl_FragCoord.z`可能不是 1.0，但它可能足够接近它，具体取决于您的深度范围以及物体与相机的距离。如果您想真正了解深度，则需要对其进行[线性化](http://www.opengl.org/wiki/Compute_eye_space_from_window_space)。

# sql - 在coldfusion中：如何记住用户已经登录？

> ID：15151080
> 
> 赞同：0
> 
> 时间：2013-03-01T05:23:32.913
> 
> 标签：sql, login, coldfusion

我在登录页面上有一个用户名/密码，它转到“会员”页面。基本上，我使用了一条语句来查找 SQL 查询中的行数，如果它不是 1（正确的用户名/密码组合），那么它会重定向回登录页面。

但是，在“成员”页面上，有一些表单可以执行各种操作，例如使用 SQL 向表中添加新行，或返回连接表的查询。这些表格还链接回此“会员”页面，但不再满足登录条件（需要用户名变量和密码变量）。

那么，如何让服务器记住用户是否登录？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-01T09:46:50.660

在 application.cfm 或 application.cfc 中，您需要启用 sessionManagement = true 以便您可以开始跨页面请求跟踪变量。然后当用户登录时，您将设置一个变量，如 isAuthenticated = true。仅当 isAuthenticated = false 或未定义时才重定向到登录页面（您可以使用 Application.cfm 的 onSessionStart 中的 cfparam 设置默认值）

粗略的示例，假设您使用的是 ColdFusion 9+ **Application.cfc**

```
component {
    this.name = 'myApplication';
    this.SessionManagement = true;

    public function onSessionStart() {
        param name='session.isAuthenticated' default=false;
    }
} 
```

**checkAuthentication.cfm**

```
<cfscript>
if (!session.isAuthenticated) {
    // send to login page
}
</cfscript> 
```

在您的登录处理页面中，确保将 session.isAuthenticated 设置为 true，然后它应该跳过检查/询问登录。您还可以查看 CFLOGIN 的内置身份验证功能。

希望有点帮助。

# c# - 如何在 jquery 中访问 @Html.RadioButtonFor

> ID：15151083
> 
> 赞同：2
> 
> 时间：2013-03-01T05:23:46.163
> 
> 标签：c#, jquery, asp.net-mvc, asp.net-mvc-4, razor

我在 MVC razor 中编写了一个单选按钮。下面是它的代码。

```
 @{
           var LinkRadioName = "_Link";
            var ContentRadioName ="_Content";
            var TextRadioName = "_Text";
            var ExternalLinkRadioName ="_ExternalLink";
            var FilelistRadioName ="_Filelist";

            @Html.RadioButtonFor(m => m.MenuType, true, new { @id = LinkRadioName })
            @Html.Label("Link")
            @Html.RadioButtonFor(m => m.MenuType, false, new { @id = ContentRadioName })
            @Html.Label("Content")
            @Html.RadioButtonFor(m => m.MenuType, true, new { @id = TextRadioName })
            @Html.Label("Text")
            @Html.RadioButtonFor(m => m.MenuType, false, new { @id = ExternalLinkRadioName })
            @Html.Label("External Link")
            @Html.RadioButtonFor(m => m.MenuType, true, new { @id = FilelistRadioName })
            @Html.Label("File List")

        } 
```

任何人都可以帮助我，至于我如何访问在 jquery 中设置的这个单选按钮：

我有这样的代码

```
@Html.RadioButton("TypeOfmenu", 1)Link
@Html.RadioButton("TypeOfmenu", 2)Content
@Html.RadioButton("TypeOfmenu", 3)Text
@Html.RadioButton("TypeOfmenu", 4)ExternalLink
@Html.RadioButton("TypeOfmenu", 5)Filelist 
```

我很容易在 jquery 中访问它

```
 $("input[name$='TypeOfmenu']").click(function () {

        var Selectedvalue = $(this).val();
}); 
```

有什么方法可以像一样访问@Html.RadioButtonFor 控件

```
 $("input[name$='MenuType']").click(function () {

        var Selectedvalue = $(this).val();
}); 
```

？？？

请帮助我，因为我在 MVC 和 jquery 中都很新。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:28:55.760

由于您使用 访问函数中的值`this.val()`，因此您可以将事件绑定到所有单选按钮

```
$(":radio").click(function () {

        var Selectedvalue = $(this).val();
        //OR
        //var Selectedvalue = this.value;
}); 
```

# c++ - 从 mex 访问 Matlab 结构

> ID：15151090
> 
> 赞同：2
> 
> 时间：2013-03-01T05:24:11.137
> 
> 标签：c++, c, matlab, mex

我有一个来自 Matlab 的结构传递给 mex。它传递正确，我使用 mxGetClassName(mxArray_pointer_carrying_struct) 验证它，它返回***struct***作为类类型。该结构有 15 个字段 n 对应的属性，所有 30 个字符串（15 个属性名称，15 个属性值）。

我可以使用 mxGetFieldNameByNumber(mxArray_pointer_carrying_struct, index); 访问属性名称

如何访问属性值？

我必须在上面做的代码如下所示：

```
extract_settings(const mxArray *p)
{
    mwIndex j = 1;
    const char *property;
    mexPrintf("\nInput Arg %i is of type:%s\n",j,mxGetClassName(p));
    for(int i = 0;i<=14;i++)
    {
        property = mxGetFieldNameByNumber(p, i);  %gets property names
        mexPrintf("%s-- \n",property); %Displays 15 property names
    }
} 
```

我的结构如下所示：

```
{ 
TRIGGER_POLARITY : LEVEL_LOW
EDGE : EDGE_RISING 
. 
.
. (15 elements as of now)
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T07:07:04.050

您可能正在寻找[`mxGetFieldByNumber`](http://www.mathworks.de/de/help/matlab/apiref/mxgetfieldbynumber.html). 还有一个将结构体传递给 MATLAB 附带的 MEX 文件的完整示例，请参阅[Mathworks 中的此文档](http://www.mathworks.de/de/help/matlab/matlab_external/passing-structures-and-cell-arrays.html)。您可以在 MATLAB 中加载示例，如下所示：

```
edit([matlabroot '/extern/examples/refbook/phonebook.c']); 
```

编辑：还有[`mxGetField`](http://www.mathworks.de/de/help/matlab/apiref/mxgetfield.html)它可以让您使用其名称访问该字段。

EDIT2：要将结果从转换`mxGetField`为 C 字符串，您可以使用[`mxArrayToString`](http://www.mathworks.de/de/help/matlab/apiref/mxarraytostring.html). 请注意，您需要在使用字符串后释放它的内存。您可以使用[`mxIsChar`](http://www.mathworks.de/de/help/matlab/apiref/mxischar.html)来检查字段是否包含 MATLAB 字符数组。

# c - 无效的写入大小：memset

> ID：15151093
> 
> 赞同：0
> 
> 时间：2013-03-01T05:24:21.953
> 
> 标签：c, valgrind, memcheck

```
void readdat (int c, char **v) {

char *dc;
char *pdc;

dc = malloc((line+1) * sizeof(char));
memset(dc, 0, (line+1) * sizeof(char));

FILE *datfile;
datfile = fopen(v[3], "r");

while(fgets(dc, line, datfile) != NULL) {
 pdc = strtok(dc, "\t");
 countcDat = 0;
 while(pdc != NULL) {
  ++countcDat;
  pdc = strtok(NULL, "\t");
 }
 ++countrDat;
}

dat = malloc(countrDat * sizeof(char**));
memset(dat, 0, countrDat * sizeof(char**));

for(i=0;i<countrDat;++i) {
 dat[i] = malloc(countcDat * sizeof(char*));
 memset(dat[i], 0, countcDat * sizeof(char*));
}

for(i=0;i<countrDat;++i) {
 for(j=0;j<countcDat;++j) {
  dat[i][j] = malloc(20 * sizeof(char));
  memset(dat[i][j], 0, 20 * sizeof(char)); ###
 }
}

rewind(datfile);

countrDat = 0;
countcDat = 0;

while(fgets(dc, line, datfile) != NULL) {
 pdc = strtok(dc, "\t");
countcDat = 0;
while(pdc != NULL) {
 sscanf(pdc, "%s", dat[countrDat][countcDat]);
 ++countcDat;
 pdc = strtok(NULL, "\t");
}
++countrDat;
}

for(i=0;i<countrDat;++i) {
 for(j=0;j<countcDat;++j) {
  printf("%s\t", dat[i][j]);
 }
 printf("\n");
}

fclose(datfile);
free(dc);
for(i=0;i<countrDat;++i) {
 for(j=0;j<countcDat;++j) {
  free(dat[i][j]);
 }
}
for(i=0;i<countrDat;++i) {
 free(dat[i]);
}
free(dat);
} 
```

valgrind 说在 memset（“###” - 标记行）处写入大小为 1 的无效。请帮助找出这里出了什么问题。在 valgrind 输出的“地址 0x0 不是堆栈，也不是 malloc'd 或 free'd”之后，我可以排除 strtok 负责。这大概是显而易见的……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:29:17.687

> 请帮助找出这里出了什么问题。在“地址 0x0 未堆叠、未分配或释放”之后

好吧，地址来自`malloc`，并且`malloc`可能会失败。当它确实失败时，它返回`NULL`，它解释了`0x0`地址。

失败的原因`malloc`很可能是您在其他地方泄漏了内存。

# iphone - 仅显示一个注释

> ID：15151096
> 
> 赞同：0
> 
> 时间：2013-03-01T05:24:51.230
> 
> 标签：iphone, objective-c, arrays, sdk

嗨，我的数组充满了三个对象，地图上只显示了 1 个注释。有任何想法吗？如果我 NSLog 某些元素，它会被填充。只是无法显示 3 个注释。

```
NSMutableArray *currentBranch = [xmlParser branch];
int counter=[currentBranch count];

NSMutableArray *new = [[NSMutableArray alloc] init];

CLLocationCoordinate2D coordinates;
Mapdets * myAnn;
myAnn = [[Mapdets alloc] init];

[mapview setMapType:MKMapTypeStandard];
[mapview setZoomEnabled:YES];
[mapview setScrollEnabled:YES];

MKCoordinateRegion region = {{0.0, 0.0}, {0.0,0.0 }};
region.center.latitude = -33.86434888;
region.center.longitude = 151.2090236;
region.span.longitudeDelta = 55.80f;
region.span.latitudeDelta = 55.80f;
[mapview setRegion:region animated:YES];

for(int i=0;i<counter;i++)

{
 Mapdets *currentBranch = [[xmlParser branch] objectAtIndex:i];

NSString *title = currentBranch.title;
NSString *subtitle = currentBranch.subtitle;
NSString *lat = currentBranch.lat;  
NSString *lng = currentBranch.lng;     

coordinates.latitude = [lat doubleValue];  
coordinates.longitude = [lng doubleValue];

    myAnn.coordinate = coordinates;
    myAnn.title = title;
    myAnn.subtitle = subtitle;

 NSLog(@"%@",  title);

 [new addObject:myAnn];
}

[mapview addAnnotations:new]; 
```

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:27:20.147

只需在 for 循环中初始化 myAnn ..

```
for(int i=0;i<counter;i++)
{
    Mapdets * myAnn;
    myAnn = [[Mapdets alloc] init];
    Mapdets *currentBranch = [[xmlParser branch] objectAtIndex:i];
    NSString *title = currentBranch.title;
    NSString *subtitle = currentBranch.subtitle;
    NSString *lat = currentBranch.lat;  
    NSString *lng = currentBranch.lng;     

    coordinates.latitude = [lat doubleValue];  
    coordinates.longitude = [lng doubleValue];

    myAnn.coordinate = coordinates;
    myAnn.title = title;
    myAnn.subtitle = subtitle;

    NSLog(@"%@",  title);
   [new addObject:myAnn];
} 
```

# pdf - 如何将文本对象添加到现有的 pdf

> ID：15151097
> 
> 赞同：3
> 
> 时间：2013-03-01T05:24:54.533
> 
> 标签：pdf, annotations, adobe, pdf-generation, adobe-reader

我有一个源 pdf，我正在通过添加文本对象对其进行修改。我正在使用 PDF 规范中提到的“增量更新”。但是，在使用这种方法添加文本对象时，我犯了一些错误，导致 pdf 在 Adob​​e Reader 11 中无法正确呈现。打开 pdf 并双击它时，添加的文本对象会被删除。我发现这是由于文本注释。

现在我想知道如何使用增量更新添加新的文本对象？如何维护自由文本注释的内容和 RC？

是否可以禁用或删除注释，以便轻松避免我的问题？因为我想要一个简单的 pdf，所以我不想要注释选项。

我正在使用的源 pdf 在[这里](http://incometaxsoft.com/pdf/source.pdf)。

添加文本对象后修改的pdf在[这里](http://incometaxsoft.com/pdf/modified.pdf)。

根据 pdf 规范，我不确定源 pdf 本身是否正确。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-04T09:29:57.457

首先，让我向您展示如果您可以使用一个像样的 PDF 库，事情是多么容易。我以 iTextSharp 为例，但也可以对 PDFBox 或 PDFNet 等其他人进行同样的操作（@Ika 在他的回答中已经提到过）：

```
PdfReader reader = new PdfReader(sourcePdf);
using (PdfStamper stamper = new PdfStamper(reader, targetPdfStream)) {
  Font FONT = new Font(Font.FontFamily.HELVETICA, 12, Font.BOLD, new GrayColor(0.75f));
  PdfContentByte canvas = stamper.GetOverContent(1);
  ColumnText.ShowTextAligned(
    canvas,
    Element.ALIGN_LEFT, 
    new Phrase("Hello people!", FONT), 
    36, 540, 0
  );
} 
```

*（源自[iText in Action — 第 2 版](http://itextpdf.com/book/index.php)[第 6 章](http://www.manning.com/lowagie2/samplechapter6.pdf)中解释的[Webified iTextSharp Example](http://kuujinbo.info/iTextInAction2Ed/index.aspx) [StampText.cs](http://kuujinbo.info/iTextInAction2Ed/index.aspx?ch=Chapter06&ex=StampText)。）*

（您选择哪个 PDF 库取决于您的一般要求和可用的许可模型。）

如果尽管此类 PDF 库易于使用，但您仍坚持手动操作，请注意以下几点：

首先，您必须找到要添加内容的页面的 Page 字典。根据 PDF 的类型，这可能已经需要对对象流等进行解压缩，但在您的示例[modified1.pdf](http://incometaxsoft.com/pdf/modified1.pdf)中这不是必需的：

```
7 0 obj
  <</Rotate 90
    /Type /Page
    /TrimBox [ 9.54 6.12 585.68 835.88 ]
    /Resources 8 0 R
    /CropBox [ 0 0 595.22 842 ]
    /ArtBox [ 9.54 18.36 585.68 842 ]
    /Contents [ 9 0 R 10 0 R 11 0 R 12 0 R 13 0 R 14 0 R 15 0 R 16 0 R ]
    /Parent 6 0 R
    /MediaBox [ 0 0 595.22 842 ]
    /Annots 17 0 R
    /BleedBox [ 9.54 6.12 585.68 835.88 ]
  >>
endobj 
```

您会看到对内容流的引用数组。这是您必须添加新页面内容的地方。您可以操作现有流或创建新流并将其添加到该数组中。

（大多数 PDF 都对其内容流进行了压缩。因此，对于一般情况，您必须先解压缩流，然后才能对其进行处理。因此，在我看来，更简单的方法是启动一个新流。）

您选择操作 PDF 中未压缩的最后引用的流 16 0：

```
16 0 obj
<</Length 37 0 R>>
stream
  S 1 0 0 1 13.183 0 cm 0 0 m
  [...]
  0 10 -10 -0 506.238 342.629 Tm
  .13333 .11765 .12157 scn
  -.0002 Tc
  .0006 Tw
  (the Bank and branch on which cheque is drawn\).)Tj

  /F1 2 Tf
  -15.1279 10.9462 Td
  (abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789~!@#$%^&*aaaaaaaaaaaaa)Tj

  /F2 1 Tf
  015.1279 01.9462 Td
  (ANAabcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789)Tj

  ET
endstream
endobj 
```

我收集到，您的补充是底部的两个 3 行，它们首先选择一种字体，然后定位插入点，最后打印一组字母。

现在你说你*添加了文本 abc..z 和 ABC...Z 只是为了测试。但是 pdf 中没有出现字母 bjkqv 等。*第二次添加字母时，问题变得更加明显；这里只显示大写字母“A”和“N”。

![添加的字母组](../Images/599e31ba850ad717131e90103de81cf4.png)

这是因为有问题的字体被嵌入到 PDF 中——字体被嵌入到 PDF 中，以允许没有问题字体的系统上的 PDF 查看器显示 PDF ——但它们是没有完全嵌入，只有该字体所需的字符子集。

让我们寻找仅出现“N”和“A”的字体 F2：

根据页面对象，可以在对象 8 0 中找到页面资源：

```
8 0 obj
  <</Font <</F1 45 0 R /TT2 46 0 R /F2 47 0 R>>
    /ExtGState <</GS2 48 0 R>>
    /ProcSet [ /PDF /Text ]
    /ColorSpace <</Cs6 49 0 R>>
  >>
endobj 
```

所以 F2 在 47 0 中定义：

```
47 0 obj
  <</Subtype /Type1
    /Type /Font
    /Widths [ 722 250 250 250 250 250 250 250 250 250 250 250 250 722 ]
    /Encoding 52 0 R
    /FirstChar 65
    /FontDescriptor 53 0 R
    /ToUnicode 54 0 R
    /BaseFont /ILBPOB+TimesNewRomanPSMT-Bold
    /LastChar 78
  >>
endobj 
```

在引用的 ToUnicode 映射 54 0 中，您会看到

```
54 0 obj
<</Length 55 0 R>>stream
  /CIDInit /ProcSet findresource begin 12 dict begin begincmap /CIDSystemInfo <<
  /Registry (AAAAAA+F2+0) /Ordering (T1UV) /Supplement 0 >> def
  /CMapName /AAAAAA+F2+0 def
  /CMapType 2 def
  1 begincodespacerange <41> <4e> endcodespacerange
  2 beginbfchar
  <41> <0041>
  <4e> <004E>
  endbfchar
  endcmap CMapName currentdict /CMap defineresource pop end end
endstream
endobj 
```

在此映射中，您会看到仅映射了字符代码 0x41 'A' 和 0x4e 'N'

在您的文档中，该字体仅用于在金额表单元格中打印“NA”，没有其他用途。因此，只有这两个字母“N”和“A”被嵌入，这导致您使用该字体添加仅输出这些字母。

因此，要成功地将文本添加到页面，您要么必须检查与页面关联的字体资源以获取它们提供的字形（并限制您对这些字形的添加），要么您必须添加自己的字体资源。

由于编码中字符的存在通常不像这里那样容易看到（ToUnicode 是可选的），我建议您添加自己的字体资源。PDF 规范[ISO 32000-1](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf)解释了如何做到这一点。

此外，您声明*文本的 x 和 y 轴位置未在 pdf 中正确显示。*虽然您没有说出确切的意思，但您应该知道，在内容流中，您可以对页面的坐标系应用仿射变换，即拉伸、倾斜、旋转和移动轴。

如果您想使用原始坐标系而不依赖于添加时正确的坐标，则应将初始内容流添加到包含**q**运算符的页面（以*将当前图形状态保存在图形状态堆栈中*）和使用**Q**运算符在新的最终内容流中开始添加（*通过从堆栈中删除最近保存的状态并使其成为当前状态来恢复图形状态*）。

**编辑**作为示例，我将顶部的 C# 代码的 Java 等效项应用到您的[modified1.pdf](http://incometaxsoft.com/pdf/modified1.pdf)并激活了附加模式。结果更改或添加了以下对象：

页面对象 7 0 已更新：

```
7 0 obj
  <</CropBox[0 0 595.22 842]
    /Parent 6 0 R
    /Contents[69 0 R 9 0 R 10 0 R 11 0 R 12 0 R 13 0 R 14 0 R 15 0 R 16 0 R 70 0 R]
    /Type/Page
    /Resources<<
      /ExtGState<</GS2 48 0 R>>
      /ProcSet [/PDF /Text /ImageB /ImageC /ImageI]
      /ColorSpace<</Cs6 49 0 R>>
      /Font<</F1 45 0 R/F2 47 0 R/TT2 46 0 R/Xi0 68 0 R>>
    >>
    /MediaBox[0 0 595.22 842]
    /TrimBox[9.54 6.12 585.68 835.88]
    /BleedBox[9.54 6.12 585.68 835.88]
    /Annots 17 0 R
    /ArtBox[9.54 18.36 585.68 842]
    /Rotate 90
  >>
endobj 
```

如果您与以前的版本进行比较，您会看到

*   添加了两个新的内容流，开头为 69 0，结尾为 70 0；
*   资源不再是间接对象，而是直接包含在此处；
*   这些资源在 68 0 处包含一个新的字体资源 Xi0。

现在让我们看看添加的对象。

这是 Helvetica-Bold 的字体资源，名为 Xi0，位于 68 0：

```
68 0 obj
  <</BaseFont/Helvetica-Bold
    /Type/Font
    /Encoding/WinAnsiEncoding
    /Subtype/Type1
  >>
endobj 
```

非嵌入式，标准14字体资源一点都不复杂……

现在有额外的内容流。iText 确实会压缩它们，但我会在此处以未压缩状态显示它们：

```
69 0 obj
<</Length 1>>stream
  q
endstream
endobj
70 0 obj
<</Length 106>>stream 
  Q
  q
  0 1 -1 0 595.22 0 cm
  q
  BT
  1 0 0 1 36 540 Tm
  /Xi0 12 Tf
  0.75 g
  (Hello people!)Tj
  0 g
  ET
  Q
  Q
endstream
endobj 
```

因此，新的内容流在开始时存储当前图形状态，最后的新内容流检索存储的状态，更改坐标系、文本插入位置、选择字体、字体大小和填充颜色，最后打印一个字符串。

# linux - 更改所有者/组的 Linux 用户权限

> ID：15151104
> 
> 赞同：-3
> 
> 时间：2013-03-01T05:25:34.093
> 
> 标签：linux, unix

我有一些文件，其中用户是nobody，组是nogroup。如何设置用户权限，以便我的用户可以将用户和组更改为我自己。我不想使用 root 或 sudo 来做。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:48:49.873

只有`owner`文件/目录可以更改文件/目录的权限。

`root/sudo`可以访问任何文件/目录并修改任何文件/目录的权限。

因此，只有用户才能回答您的问题，`nobody`并且`root`可以更改文件/目录的权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:45:32.390

让我为您简要介绍一下权限部分： 1\. 更改任何文件或文件夹的所有权只能由 root 完成。2\. 只有文件/文件夹的所有者才能更改组。

因此，在您的情况下，您需要 root 或 sudo 权限才能执行这些操作。希望能帮助到你

# haskell - 当我在 Leksah 源代码编辑器中按空格键时，没有任何反应。我缺少什么包？

> ID：15151108
> 
> 赞同：3
> 
> 时间：2013-03-01T05:25:52.510
> 
> 标签：haskell, haskell-platform, leksah

我要再次尝试学习 Haskell ......所以我 apt-get 安装了 leksah、ghc、quickcheck 和 cabal-install。它从一开始就不能正常工作，这就是我必须安装 cabal-install 和 quickcheck 的原因。但现在欢迎的`Main.hs`Helloworld 编译良好，运行良好。（对于初学者来说，这是一个非常好的握手我必须承认我很感激）

但是我面临着一些非常奇怪的问题。当我在 Leksah 源代码编辑器中按空格键时，没有任何反应。

例如，它不会让我输入`type MyType = Int`我会卡在单词类型的末尾......如果我在空格后面继续字母，它会发生 MyType 输入给我：`typeMyType`

如果我定义一个函数，则不可能在元素之间插入任何空格

```
test_swap::[a]->[a]
test_swap(w1:w2:ws)=w2:w1:ws
test_swap(ws)=ws 
```

我怀疑我缺少一些要安装的软件包。我正在使用带有fluxbox的Ubuntu 12.04，我有多个键绑定，但所有其他应用程序都可以很好地使用它，目前我在chromium中的每个单词之间使用空格键。我读过 Leksah 编辑器使用 gtk，但 ubuntu unity 使用部分 gtk/gnome 所以我应该有 gtk 好的......但也许我错过了一点......

我不知道。我怎么知道/猜我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-03T12:23:38.623

这是一个与 Gtk 相关的问题，仅发生在特定的键盘布局中。它发生在其他应用程序中，例如 Rhythmbox 或 Codeblocks。

在 Ubuntu 中，您可以通过将默认键盘布局“French (alternative)”切换为“French (France)”来解决此问题（请参阅此错误报告：[https ://bugs.launchpad.net/ubuntu/+source/hal/+错误/451258](https://bugs.launchpad.net/ubuntu/+source/hal/+bug/451258)）。

或者，您可以将此选项添加到键盘映射：

```
setxkbmap -option nbsp:none 
```

# javascript - AngularJS 指令属性从控制器访问

> ID：15151116
> 
> 赞同：37
> 
> 时间：2013-03-01T05:26:39.763
> 
> 标签：javascript, events, controller, angularjs, angularjs-directive

我正在尝试访问控制器函数中指令的属性。但是，当我访问它时，它是未定义的。我注意到，如果我做一个简单的计时器，它就可以工作。有没有办法仅在指令及其范围准备好并设置为可以使用之后才执行代码？

我做了一个小提琴。确保您的控制台已打开。[http://jsfiddle.net/paulocoelho/uKA2L/1/](http://jsfiddle.net/paulocoelho/uKA2L/1/)

这是我在小提琴中使用的代码：

```
<div ng-app="testApp" >
    <testcomponent text="hello!"></testcomponent>
</div> 
```

```
var module = angular.module('testApp', [])
    .directive('testcomponent', function () {
    return {
        restrict: 'E',
        template: '<div><p>{{text}} This will run fine! </p></div>',
        scope: {
            text: '@text'
        },
        controller: function ($scope, $element) {
            console.log($scope.text); // this will return undefined
            setTimeout(function () {
                console.log($scope.text);    // this will return the actual value...
            }, 1000);
        },
        link: function ($scope, $element, $attrs) {
            console.log($scope.text);
            setTimeout(function () {
                console.log($scope.text);
            }, 1000);
        }
    };
}); 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-01T05:50:46.103

有效的是，如果你设置

```
scope.text = $attrs.text; 
```

在链接和控制器功能内部。这只会在最初起作用，因为没有 2way 数据绑定。不过，您可以使用[$attrs.observe](https://docs.angularjs.org/api/ng/type/$compile.directive.Attributes)。

见小提琴：http: [//jsfiddle.net/JohannesJo/nm3FL/2/](http://jsfiddle.net/JohannesJo/nm3FL/2/)

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-03-01T22:17:43.173

在隔离作用域中，不能在链接函数中访问使用“@”定义的局部作用域属性。正如@remigio 已经提到的那样，这种本地范围属性就`undefined`在此时。$attrs.$observe() 或 $scope.$watch() 必须用于异步获取（插值）值。

如果您在属性中传递一个常量值（即，不需要插值，即属性的值不包含任何 {{}}），则不需要“@”或 $observer 或 $watch。您可以使用 $attrs。*正如@hugo 建议的那样， attribute_name*一次，或者如果您传递一个数字或布尔值并且想要获得正确的类型，您可以使用一次 $scope.$eval($attrs.attribute_name *)*。

如果您使用 '=' 将本地范围属性数据绑定到父范围属性，则该属性的值将在链接函数中可用（不需要 $observe 或 $watch 或 $eval）。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-11-29T06:57:18.440

从 Angular 1.3 开始，您可以使用`bindToController`. 这是我如何使用它的示例。在这里，我将属性添加到范围，然后`bindToController`在控制器中使用它：

```
var module = angular.module('testApp', [])
    .directive('testcomponent', function () {
    return {
        restrict: 'E',
        template: '<div><p>{{text}} This will run fine! </p></div>',
        scope: {
            text: '@text'
        },
        controller: function () {
            console.log(this.text);
        },
        controllerAs: 'vm',
        bindToController: true
    };
}); 
```

> Angular 1.3 为指令定义对象引入了一个名为 bindToController 的新属性，它完全按照它所说的那样做。当在使用 controllerAs 的具有隔离作用域的指令中设置为 true 时，组件的属性将绑定到控制器而不是作用域。这意味着，Angular 确保在实例化控制器时，隔离范围绑定的初始值在此可用，并且将来的更改也自动可用。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2016-06-14T07:52:37.150

而不是使用`$scope`获取指令属性值，我个人更喜欢使用`$attrs`函数`controller`，或者只是函数`attrs`的第三个参数`link`。`controller`在没有超时的情况下通过以下代码从 a 获取属性值时我没有问题：

```
var module = angular.module('testApp', [])
    .directive('testcomponent', function () {
    return {
    restrict: 'E',
    template: '<div><p>{{text}} This will run fine! </p></div>',
    scope: {
        text: '@text'
    },
    controller: ['$scope','$attrs', function ($scope, $attrs) {
        console.log($attrs.text); // just call to the $attrs instead $scope and i got the actual value
        $scope.text = $attrs.text; //assign attribute to the scope
    }]
    };
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-01T07:35:43.200

在 $digest 循环之前调用链接函数，此时范围变量未定义。查看[本章](http://docs.angularjs.org/guide/concepts)和[其他](http://docs.angularjs.org/guide/compiler)章节以了解链接功能如何运作。您仅使用链接功能来定义指令的监视和/或行为，而不是操纵模型，这是在控制器中完成的。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-04-28T21:32:58.067

如果您从指令访问此值以使用指令插入到您的视图中，您可以使用 $compile api 访问此属性并执行类似的操作

```
var string = "<div> " + scope.text + "</div>";
$compile(string)(scope, function(cloned, scope){
       element.append(cloned);
}); 
```

# ios - 将 12 小时时间格式的字符串转换为 NSDate

> ID：15151117
> 
> 赞同：-2
> 
> 时间：2013-03-01T05:26:44.160
> 
> 标签：ios, nsdate, nsdateformatter, nstimezone

我需要将 12 小时时间格式的字符串更改为 NSDate。我正在使用下面给定的代码，但它返回 null。谁能帮我这个？？

```
NSString = @"04/03/2013 7pm";
NSDateFormatter *df = [[NSDateFormatter alloc]init];
[df setDateFormat:@"dd/MM/yyyy hh:mm a"];
NSDate *date = [df dateFromString:selectedDateString]; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T05:35:33.427

它给你 null 因为你的 DateFormat 与你的字符串不匹配。试试这个，

```
 NSString *selectedDateString= @"04/03/2013 7pm";
    NSDateFormatter *df = [[NSDateFormatter alloc]init];
    [df setDateFormat:@"dd/MM/yyyy ha"];
    NSDate *date = [df dateFromString:selectedDateString]; 
```

# makefile - 如何让 GNU make 删除由隐式规则创建的中间目录？

> ID：15151118
> 
> 赞同：9
> 
> 时间：2013-03-01T05:26:44.607
> 
> 标签：makefile, gnu-make

`rm filename`GNU make 通过在末尾调用自动删除由隐式规则创建的中间文件。如果其中一个目标实际上是一个目录，这显然不起作用。举个例子：

```
.PHONY: all 

all: test.target

%.target: tempdir.% 
  touch $@

tempdir.%:
  mkdir -p $@ 
```

`make -n`揭示行动计划：

```
mkdir -p tempdir.test
touch test.target
rm tempdir.test 
```

是否可以让 GNU make 正确处理中间目录？也许通过更改`rm`为`rm -rf`?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-01T12:33:52.350

没有办法做到这一点。尽管 GNU make 打印命令“rm”，但实际上它在内部直接运行 unlink(2) 系统调用，而不是调用 shell 命令。无法配置或修改 GNU make 运行的命令（当然，除非更改源代码）。

但是，我觉得我应该指出，将目录用作目标的正常先决条件是行不通的。GNU make 使用 time-last-modified 比较来判断目标何时是最新的，并且目录的 time-last-modified 不遵循标准规则。*每次*创建、删除或重命名目录中的文件（或子目录）时，都会更新目录的 TLM 。这意味着您将创建目录，然后有一堆依赖于它的文件：第一个已构建并具有时间戳 N。最后一个已构建并具有时间戳 N+x。这也将目录的时间戳设置为 N+x。然后下次运行 make 时，它​​会注意到第一个时间戳 (N) 比它的一个先决条件（目录，在 N+x）更旧，然后重新构建。

这将永远发生，直到它可以足够快地构建剩余的“过时”先决条件，以至于它们的时间戳不比目录新。

而且，如果您要在该目录中删除临时文件或编辑器备份文件或其他内容，它将重新开始。

只是不要这样做。

有些人使用显式的 shell 命令来创建目录。有些人将它们创建为目标创建的副作用。有些人使用仅限订单的先决条件来确保按时创建它们。

# java - 由于版本差异，jboss 中的 log4j 错误

> ID：15151122
> 
> 赞同：1
> 
> 时间：2013-03-01T05:26:59.417
> 
> 标签：java, jboss, log4j, internal-server-error

我们正在将我们的应用程序从 maven 编译代码部署到 JBoss。

Maven 能够编译代码并被人们共享。此外，它正在使用`log4j`version `1.2.16`。在 JBoss 中，应用程序构建成功，但网页没有打开。

JBoss 有`log4j.jar`in`server\default\lib`和文件夹。另外`client`，`log4jboot.jar`在`client`文件夹中。

由于它无法打开网页，我将 JBoss 中的所有日志 jar 更改为 version `1.2.16`。

现在应用程序已启动并且网页正在运行，但我无法在服务器命令提示符中查看日志详细信息。

目前这是错误：

```
failed to initialize plugin org.jboss.logging.log4jloggerplugin 
```

有人可以对此提出想法吗？

**编辑：**

使用 log4jboot.jar，错误为 500 错误：

```
type Exception report

// message:

 The server encountered an internal error () that prevented it from fulfilling this request.

// exception:

javax.servlet.ServletException: Filter execution threw an exception
    org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)

// root cause:

java.lang.NoSuchMethodError: org/apache/log4j/MDC.clear()V 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-14T16:01:45.023

了解您使用的是哪个版本的 JBoss 会有所帮助。

JBoss 5.1.0.GA 附带 log4j 版本 1.2.14。MDC.clear() 方法是在 1.2.16 中引入的，它可以解释如果您使用的是旧版本的 JBoss，您会遇到 NoSuchMethodError。

一些尝试的解决方案：

1.  删除所有使用 MDC.clear() 方法。
2.  升级您的 JBoss 服务器。
3.  用您自己的替换提供的 log4j jar。

# c# - 使用选定项从数据库中填充 DropDownList

> ID：15151123
> 
> 赞同：0
> 
> 时间：2013-03-01T05:27:08.307
> 
> 标签：c#, asp.net, .net

快速提问，我有一个 DropDownList，它是从数据库中名为 Modules 的表中填充的。然后我有另一个名为 Functions 的表，在此表中我有一个名为 fn_module 的字段。

我要做的是从 Modules 表中提取所有数据，但同时检查 Functions.fn_module 表，并在 PageLoad 上加载 DropDownList 时将此字段上的值设为选定值。

这可能吗？

先感谢您。

# c++ - C++ - 删除动态数组的段错误

> ID：15151124
> 
> 赞同：0
> 
> 时间：2013-03-01T05:27:10.600
> 
> 标签：c++, arrays, dynamic, delete-operator

删除动态分配的数组时遇到一些麻烦，我不是 100% 确定原因。我对这个数组做的唯一一件事是在另一个例程中单独复制一些值（在 for 循环中），该例程已验证正常工作。

这是类中的声明：

```
std::complex<float> * frameData; 
```

构造函数中的实例化：

```
this->frameData = new std::complex<float>[n];
srand( time(NULL) );
std::complex<float> randUnityRoot;

for( int i = 0; i < this->n; i++){
    randUnityRoot = std::polar(1.0, 2*M_PI * (rand() % 1000000)/1e06);
    this->frameData[i] = randUnityRoot;
} 
```

在析构函数中删除（这是回溯中提到的第 70 行）：

```
delete[] this->frameData; 
```

程序完成时段错误后的 gdb 回溯：

```
(gdb) f 4
#4  0x00007ffff7bc579c in Frame::~Frame (this=0x602940, 
__in_chrg=<optimized out>) at Frame.cpp:70 
70      delete[] this->frameData;
(gdb) f 3
#3  0x00007ffff7669b96 in ?? () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) f 2
#2  0x00007ffff765f39e in ?? () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) f 1
#1  0x00007ffff7624b8b in abort () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) f 0
#0  0x00007ffff7621425 in raise () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) 
```

我一直盯着这个有一段时间了，我没有想法。我想我会转向蜂巢思维。如果您想了解更多信息，请告诉我。谢谢！

编辑：我将所有内容更新为基于矢量和矢量* 的方法。

没有段错误:)。

然而，为了从中产生某种“获得的知识”，在另一堂课中，我称之为：

```
std::complex<float> * frameGet;
frameGet = this->Frame->getFrame();
// Do stuff with frameGet
//THIS NEXT LINE IS THE BAD PART
delete[] frameGet; 
```

一半的问题，一半的断言：delete[] frameGet 调用删除原始数组内容？如果 frameGet 需要被删除，应该执行以下操作：

```
frameGet = NULL;
delete frameGet; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:35:11.740

您很可能没有在您的类中显式定义 copy-ctor 或赋值运算符。因此，请在您班级的私人部分中描述它们（然后使其无法访问）：

```
class Frame {
//...
private:
   Frame( const Frame & );
   Frame &operator=( const Frame & );
// ...
}; 
```

您甚至不必实现它们，编译器将通过编译错误显示您的问题所在的确切位置。

关于你问题的后半部分。出于某种原因，您认为如果将一个原始指针分配给另一个原始指针，您会复制该内存并需要单独删除它们。事实并非如此，原始指针只是一个数字 - 内存中的地址。所以：

```
int *pi = new int[N]; // now pi has address of memory reserved by new, lets say 0x1234
int *api = pi;  // now api has the same address 0x1234 as pi
delete[] api; // you tell environment that you do not need memory at address 0x1234 anymore
delete[] pi; // you tell environment that you do not need memory at address 0x1234 again, which is error 
```

您只需将一个指针直接分配给另一个指针或通过函数结果或参数传递来执行此操作这一事实不会改变任何事情。

# asp-classic - 使用 ADO Stream 逐行读取大文件？

> ID：15151128
> 
> 赞同：8
> 
> 时间：2013-03-01T05:27:19.467
> 
> 标签：asp-classic, vbscript, ado

我想使用 ADO Stream 从具有 UTF-8 编码的本地大文本文件中读取行，所以我尝试

```
Set objStream = CreateObject("ADODB.Stream")
objStream.Charset = "utf-8"
objStream.Type = 2
objStream.Open
objStream.LoadFromFile = strFile
objStream.LineSeparator = 10
Do Until objStream.EOS
    strLine = objStream.ReadText(-2)
Loop 
```

但是结果是脚本占用了大量的 RAM 和 CPU 使用率。那么有没有办法告诉脚本不要将所有文件内容加载到内存中，而只是打开它并阅读直到它遇到任何行分隔符？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-01T21:05:02.897

当您使用`Stream`对象时，我认为很明显，但是，`.LoadFromFile`用整个文件内容填充当前流，并且没有任何自定义选项来从文件加载部分数据。

至于读取 1 行，您已经使用`.ReadText(-2)`, (-2 = adReadLine) 完成了此操作。

```
Set objStream = CreateObject("ADODB.Stream")
objStream.Charset = "utf-8"
objStream.Type = 2
objStream.Open
'objStream.LoadFromFile = strFile ''I see a typo here
objStream.LoadFromFile strFile
objStream.LineSeparator = 10      ''that's Ok
'Do Until objStream.EOS           ''no need this
    strLine = objStream.ReadText(-2)
'Loop
objStream.Close ''add this though! 
```

[**编辑**]好吧，对于[.LineSeparator](http://www.w3schools.com/ado/prop_stream_lineseparator.asp)您只能使用 3 个常量：

```
Constant Value Description

adCRLF   -1    Default. Carriage return line feed 
adLF     10    Line feed only 
adCR     13    Carriage return only 
```

如果您需要拆分`Do..Loop`其他字母，这`.ReadText`是阅读文本流的唯一选择，您可以将其与`InStr`函数结合使用，`Exit Do`然后找到您的自定义分隔符。

```
Const cSeparator = "_" 'your custom separator
Dim strLine, strTotal, index
Do Until objStream.EOS
    strLine = objStream.ReadText(-2)
    index = InStr(1, strLine, cSeparator)
    If index <> 0 Then
        strTotal = strTotal & Left(strLine, index-1)
        Exit Do
    Else
        strTotal = strTotal & strLine
    End If
Loop 
```

很快，这就是你可以做的全部优化（或者至少据我所知）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-02T16:42:11.180

如果您查看[JT Roff 的 ADO book 中的这个片段](http://books.google.de/books?id=JTKX7OUqCEMC&pg=PA255&lpg=PA255&dq=%22In%20this%20code%20fragment,%20the%20Stream.EOS%20property%22&source=bl&ots=GJS4R-oQFj&sig=MFRlmWnAQv5ZTzalp3UKun6-wOE&hl=de&sa=X&ei=HykyUcPAMMrLtAbYy4HQAw&redir_esc=y#v=onepage&q=%22In%20this%20code%20fragment,%20the%20Stream.EOS%20property%22&f=false)，您会发现理论上您可以逐行读取文件（无需将其完全加载到内存中）。我尝试在源参数中使用文件：protocol，但没有成功。

所以让我们尝试另一种方法：要将 .txt 文件视为 UTF8 编码的普通（一列）ADO 数据库表，您需要在源目录中有一个 schema.ini 文件：

```
[linesutf8.txt]
ColNameHeader=False
CharacterSet=65001
Format=TabDelimited
Col1=SampleText CHAR WIDTH 100 
```

然后你可以这样做：

```
 Dim sTDir  : sTDir   = "M:/lib/kurs0705/testdata"
  Dim sFName : sFName  = "[linesutf8.txt]"
  Dim oDb    : Set oDb = CreateObject("ADODB.Connection")
  Dim sCs    : sCs     = Join(Array( _
          "Provider=MSDASQL" _
        , "Driver={Microsoft Text Driver (*.txt; *.csv)}" _
        , "DBQ=" + sTDir _
  ), ";")
  oDb.open sCs
  WScript.Stdin.Readline
  Dim oRs    : Set oRs = oDb.Execute("SELECT * FROM " & sFName)
  WScript.Stdin.Readline
  Do Until oRS.EOF
     WScript.Echo oRS.Fields(0).Value
     oRs.MoveNext
  Loop
  oRs.Close
  oDb.Close 
```

对于一些背景看[这里](http://msdn.microsoft.com/en-us/library/ms974559.aspx)。

# python - 使用链式方法关闭文件句柄

> ID：15151130
> 
> 赞同：0
> 
> 时间：2013-03-01T05:27:32.587
> 
> 标签：python, python-2.7

在打开文件时使用链接方法的情况下，例如：

```
indata = open(from_file).read() 
```

是否有必要（或可能）关闭使用该`open()`函数打开的文件句柄？

如果不是，最好的做法是改为：

```
infile = open(from_file)
indata = infile.read()
infile.close() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:29:40.087

> 在打开文件时的链接方法的情况下

这是打开文件的链式方法的缺陷，因此建议的解决方案是使用`with clause`. 对象的生命周期在[with](http://docs.python.org/release/2.5.3/ref/with.html)块内，fileObj 自动关闭

```
with open(from_file) as fin:
    indata = fin.read() 
```

为什么是错的？

1.  你在 GC 的摆布下关闭文件
2.  如果发生异常，您可能不知道异常发生在哪里，打开或阅读时

另一段代码

```
infile = open(from_file)
indata = infile.read()
infile.close() 
```

也有它的陷阱。

1.  如果发生异常，文件可能不会关闭
2.  代码可能采用不同的路线，并且关闭语句可能不会被执行

# javascript - 在按钮单击时执行 python 脚本

> ID：15151133
> 
> 赞同：15
> 
> 时间：2013-03-01T05:27:49.867
> 
> 标签：javascript, python, html, ajax

我有一个带有一个按钮的 HTML 页面，当我们单击该按钮并返回到同一个 HTML 页面时，我需要执行一个 python 脚本。

所以我需要对返回值进行一些验证并执行一些操作。

这是我的代码：

**HTML：**

```
<input type="text" name="name" id="name">
<button type="button" id="home" onclick="validate()" value="checkvalue"></button> 
```

**JS：**

```
function validate(){
    if (returnvalue=="test") alert(test)
    else alert ("unsuccessful")
} 
```

我的 python 代码正在做的是对在文本框中输入的名称进行一些验证并给出返回状态。

但是我需要在同一页面上返回结果，以便稍后我可以使用所有详细信息进行表单提交。任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-01T05:39:30.843

您可以使用 Ajax，使用[jQuery更容易](http://jquery.com)

```
$.ajax({
   url: "/path/to/your/script",
   success: function(response) {
     // here you do whatever you want with the response variable
   }
}); 
```

你应该阅读[jQuery.ajax 页面](http://api.jquery.com/jQuery.ajax/)，因为它有太多的选项。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-03-01T05:57:25.527

在 python 中创建一个页面（或服务），它可以接受 post 或 get 请求并处理信息并返回响应。如果响应是 json 格式会更好。然后您可以使用此代码在按钮单击时进行调用。

```
<input type="text" name="name" id="name">
<button type="button" id="home" onclick="validate()" value="checkvalue">
<script>
$('#id').click(function(){

 $.ajax({
      type:'get',
      url:<YOUR SERVERSIDE PAGE URL>,
      cache:false,
      data:<if any arguments>,
      async:asynchronous,
      dataType:json, //if you want json
      success: function(data) {
        <put your custom validation here using the response from data structure >
      },
      error: function(request, status, error) {
        <put your custom code here to handle the call failure>
      }
   });
});
</script> 
```

我希望这有帮助

# paypal - Paypal 链式支付

> ID：15151134
> 
> 赞同：0
> 
> 时间：2013-03-01T05:27:59.707
> 
> 标签：paypal, paypal-adaptive-payments

有什么方法可以以编程方式检查以确保客户的帐户已确认并准备好在贝宝中接收付款？

由于我们的主要收款人未确认电子邮件，通过我们网站的捐款总是失败。我正在使用 Paypal 的自适应支付（链式支付）。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T14:11:53.847

目前没有专门用于确认买家帐户/电子邮件已确认的 API。一些商家用来解决此问题的解决方法是使用您正在进行的相同 API 调用，但失败表明它未被确认。

# php - 在面向对象的 PHP 中扩展对象

> ID：15151138
> 
> 赞同：0
> 
> 时间：2013-03-01T05:28:09.997
> 
> 标签：php, class, bind, this, instance

使用 $this 变量的函数可以扩展到另一个对象吗？或者 $this 变量是否绑定到创建它的原始对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:30:30.513

在 PHP 中定义一个类时，`$this`是一个引用类的单个实例（也称为对象）的变量，因此，当从第一个类继承时，子类将解释`$this`为子类的实例。

来自：[http ://www.php.net/manual/en/language.oop5.basic.php](http://www.php.net/manual/en/language.oop5.basic.php)

> 当从对象上下文中调用方法时，伪变量 $this 可用。$this 是对调用对象的引用（通常是方法所属的对象，但也可能是另一个对象，如果该方法是从辅助对象的上下文中静态调用的）。

（注意“对象上下文”部分）

# c# - 如何检查数据成员是否在 WCF 中序列化？

> ID：15151141
> 
> 赞同：0
> 
> 时间：2013-03-01T05:28:23.863
> 
> 标签：c#, wcf

在 C# WCF 中，当我们向应用程序发送数据时，哪些元素会被序列化？当变量具有属性 [Data member] 时，该变量会被序列化吗？我不确切知道。您将如何检查数据成员是否已序列化？任何人都可以用一个例子来解释吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:05:49.820

您需要将 DataContractAttribute 放在您的类上，并将 DataMemberAttribute 放在您希望序列化的任何属性上。

这是一个示例数据合约：

```
[DataContract]
public class MyType
{
    // This property is serialized to the client.
    [DataMember]
    public int MyField1 { get; set; }

    // This property is NOT serialized to the client.
    public string MyField2 { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:40:39.007

以下成员通常是序列化的

*   具有 a`get`和`set`accessor的任何公共财产
*   任何标记为`DataMember`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:44:47.153

基本上，您返回的对象的所有公共属性都是序列化的，但只有那些具有属性 DataMember 的属性是可见的或暴露给您的客户端应用程序，如果没有此属性，您将无法从客户端访问它们。

# salesforce - 如何在 Apex 报告中知道与哪个对象有关

> ID：15151146
> 
> 赞同：0
> 
> 时间：2013-03-01T05:29:01.473
> 
> 标签：salesforce, apex-code, soql

我正在尝试访问 apex 中的报告对象，但我的 apex 源代码的字段有限

```
public Class MyController{
public List<Report> getReports(){

List<Report> rep1 = new List<Report>();
rep1=[Select Id,Developername,Description,Name,OwnerId from Report];

return rep1;

}

} 
```

但我想获取与其相关的 sObject 类型的值，例如 1.我单击新报告 2.然后选择机会 3.然后单击创建

如何获取此机会对象以及如何将过滤器应用于报告，请解释一下。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T07:28:13.410

不幸的是，您将无法获得该信息。根据 Salesforce 的文档，信息无法通过他们的 API 获得。在此处查看所有可用字段：http: [//www.salesforce.com/us/developer/docs/api/Content/sforce_api_objects_report.htm](http://www.salesforce.com/us/developer/docs/api/Content/sforce_api_objects_report.htm)

# python - 如何在没有声明的情况下将 c 类型转换为 python 整数？- Python

> ID：15151148
> 
> 赞同：0
> 
> 时间：2013-03-01T05:29:06.157
> 
> 标签：python, python-3.x, ctypes

呃，另一个编程问题，哈哈。

所以无论如何，我对使用 python 的 ctypes 非常感兴趣。ctypes 基本上允许您在 python 中调用 c 变量（真棒，我知道）所以这是您现在使用 ctypes 声明变量的方式：

```
import ctypes as c
class test(c.Structure):
   _fields_ = [
               ("example" , c.c_long),
               ...
              ] 
```

但是，每当我使用字符串格式时，事情就是这样：

```
 print("test: %d" % (test.example) 
```

它告诉我我需要它是 Python Integer，而不是 C long。

这就是它变得复杂的地方，因为没有真正声明示例，我不能做一个 .value 方法。它将返回语法错误。我不能将示例声明为 python 整数，因为没有办法做到这一点。（至少，据我所知）

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:48:48.480

`test`是一个类；`test`而是创建一个实例：

```
import ctypes as c

class test(c.Structure):
   _fields_ = [("example" , c.c_long)]

t = test(5)
print(t.example) # -> 5
print("%d" % t.example) # -> 5 
```

# php - 选定的下拉框值需要在多个下拉框中选择

> ID：15151149
> 
> 赞同：0
> 
> 时间：2013-03-01T05:29:09.223
> 
> 标签：php, javascript, jquery, html

我有 12 个框，当我单击每个框时，它会弹出模态对话框，每个模态对话框都包含相同的下拉框（相同的类名、相同的 id、相同的名称），例如。国家下拉选择。

当我在第一个弹出的下拉框中选择USA时，需要在剩余的11个弹出的下拉框中选择USA。

我正在使用 HTML、javascript、jQuery 和 PHP。

请帮助使用上述语言或脚本的人来实现这一目标。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:33:28.277

将相同的类应用于所有选择框然后执行

```
 $(document).ready(function(){

 $('.west-yorkshire').change(function(){

      var value = $(this).val();
     $('.west-yorkshire').each(function(){
       $(this).val(value);
     });
 });
 }); 
```

# java - 在 Android 中加载大文本

> ID：15151152
> 
> 赞同：8
> 
> 时间：2013-03-01T05:29:30.607
> 
> 标签：java, android, string, textview

在我的应用程序中，我试图从网站复制文本并将其粘贴到我的`strings.xml`文件中，保存`strings.xml`文件后，我无法在我的 textview 中使用该字符串，当我尝试清理我的项目时，我的 R.java 被删除并当我从 strings.xml 中删除该文本时，我保留了我的 R.java。我想从以下网站复制文本。

[http://mygogolfteetime.com/term-of-use](http://mygogolfteetime.com/term-of-use)

我的字符串值是：

```
<string name="terms_of_use">

Website Terms, Conditions, and Notices AgreementBetween Customer and GoGolf, L.P. 
Welcome to the mygogolfteetime.com website (the "Website"). This Website is provided solely to assist customers in gathering tee time information, determining the availability of tee time-related goods and services, making legitimate reservations or otherwise transacting business with golf tee time suppliers, and for no other purposes. The terms "we", "us", "our" and "mygogolfteeetime.com" refer to GoGolf, L.P., a Texas limited partnership and/or our subsidiaries. The term "you" refers to the customer visiting the Website and/or booking a tee time through us on this Website, or through our customer service agents. 
This Website is offered to you conditioned upon your acceptance without modification of all the terms, conditions, and notices set forth below (collectively, the "Agreement"). By accessing or using this Website in any manner, you agree to be bound by the Agreement. Please read the Agreement carefully. If you do not accept all of these terms and conditions, please do not use this Website. Be sure to return to this page periodically to review the most current version of the Agreement. We reserve the right at any time, at our sole discretion, to change or otherwise modify the Agreement without prior notice, and your continued access or use of this Website signifies your acceptance of the updated or modified Agreement. 
Use of the Website 
As a condition of your use of this Website, you warrant that 
1\. you are at least 18 years of age, 
2\. you possess the legal authority to create a binding legal obligation, 
3\. you will use this Website in accordance with this Agreement, 
4\. you will only use this Website to make legitimate reservations for you or for another person for whom you are legally authorized to act, 
5\. all information supplied by you on this Website is true, accurate, current and complete, and 
6\. if you have a mygogolfteetim.com account, you will safeguard your account information and will supervise and be completely responsible for any use of your account by anyone other than you. We retain the right at our sole discretion to deny access to anyone to this Website and the services we offer, at any time and for any reason, including, but not limited to, for violation of this Agreement. 

Prohibited Activities 

The content and information on this Website (including, but not limited to, price and availability of tee time services), as well as the infrastructure used to provide such content and information, is proprietary to us or our suppliers and providers. While you may make limited copies of your tee time itinerary (and related documents) for tee time reservations or services booked through this Website, you agree not to otherwise modify, copy, distribute, transmit, display, perform, reproduce, publish, license, create derivative works from, transfer, or sell or re-sell any information, software, products, or services obtained from or through this Website. Additionally, you agree not to: 
1\. use this Website or its contents for any commercial purpose; 
2\. make any speculative, false, or fraudulent reservation or any reservation in anticipation of demand; 
3\. access, monitor or copy any content or information of this Website using any robot, spider, scraper or other automated means or any manual process for any purpose without our express written permission; 
4\. violate the restrictions in any robot exclusion headers on this Website or bypass or circumvent other measures employed to prevent or limit access to this Website; 
5\. take any action that imposes, or may impose, in our discretion, an unreasonable or disproportionately large load on our infrastructure; 
6\. deep-link to any portion of this Website (including, without limitation, the purchase path for any tee time services) for any purpose without our express written permission; or 
7\. "frame", "mirror" or otherwise incorporate any part of this Website into any other website without our prior written authorization. 
Supplier Rules and Restrictions 
Separate terms and conditions will apply to your reservation and purchase of tee time - related goods and services that you select. Please read these separate terms and conditions carefully. You agree to abide by the terms and conditions of purchase imposed by any supplier with whom you elect to deal, including, but not limited to, payment of all amounts when due and compliance with the supplier's rules and restrictions regarding availability and use of fares, products, or services. You acknowledge that some third-party providers offering certain services and/or activities may require you to sign their liability waiver prior to participating in the service and/or activity they offer. You understand that any violation of any such supplier's rules and restrictions may result in cancellation of your tee time(s), in your being denied access to the applicable golf course product or services, in your forfeiting any monies paid for such reservation(s), and/or in our debiting your account for any costs we incur as a result of such violation. 

Privacy Policy 

GoGolf, LP. believes in protecting your privacy. Please click here to review our current Privacy Policy, which also governs your use of mygogolfteetime.com, to understand our practices: Privacy Policy. 
Reviews, Comments and Other Submissions 
We appreciate hearing from you. Please be aware that by submitting content to this Website by electronic mail, postings on this Website or otherwise, including any golf course reviews, photographs, video, questions, comments, suggestions, ideas or the like contained in any submissions (collectively, "Submissions"), you (a) grant GoGolf, LP. and its affiliates a nonexclusive, royalty-free, perpetual, transferable, irrevocable and fully sublicensable right to use, reproduce, modify, adapt, translate, distribute, publish, create derivative works from and publicly display and perform such Submissions throughout the world in any media, now known or hereafter devised; and (b) grant GoGolf, LP and its affiliates and sublicensees the right to use the name that you submit in connection with such Submission, if they choose. However, you acknowledge that GoGolf, LP may choose to provide attribution of your comments or reviews (for example, listing your name and hometown on a golf course review that you submit) at our discretion. You further grant GoGolf, LP the right to pursue at law any person or entity that violates your or GoGolf, LP rights in the Submissions by a breach of this Agreement. We take no responsibility and assume no liability for any Submissions posted or submitted by you. If you do not agree to these terms and conditions, please do not provide us with any Submissions. 
You are fully responsible for the content of your Submissions, (specifically including, but not limited to, reviews posted to this Website). You are prohibited from posting or transmitting to or from this Website: (i) any unlawful, threatening, libelous, defamatory, obscene, pornographic, or other material or content that would violate rights of publicity and/or privacy or that would violate any law; (ii) any commercial material or content (including, but not limited to, solicitation of funds, advertising, or marketing of any good or services); and (iii) any material or content that infringes, misappropriates or violates any copyright, trademark, patent right or other proprietary right of any third party. You shall be solely liable for any damages resulting from any violation of the foregoing restrictions, or any other harm resulting from your posting of content to this Website. You acknowledge that GoGolf, LP has the right to control (e.g. use, publish, remove) any content you submit without notice to you. If you submit more than one review for the same hotel, only your most recent submission is eligible for use. 
If you believe in good faith that materials hosted by us infringe your copyright, you (or your agent) may send us a written notice that includes the following information: 
1\. A clear identification of the copyrighted work you claim was infringed. 
2\. A clear identification of the material you claim is infringing the copyrighted work, and information that will allow us to locate that material on the Website, such as a link to the infringing material. 
3\. Your contact information so that we can reply to your complaint, preferably including an email address and telephone number. 
4\. A statement that you have a "good faith belief that the material that is claimed as copyright infringement is not authorized by the copyright owner, its agent, or the law." 
5\. A statement that "the information in the notification is accurate, and under penalty of perjury, the complaining party is authorized to act on behalf of the owner of an exclusive right that is allegedly infringed." 
6\. The notice must be signed by the person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed. 
Notices with respect to this Website should be sent to:: GoGolf, L.P., 13522 Pueblo Crossing San Antonio, TX 78232; gogolf_copyright@mygogolfteetime.com; by phone at 210.317.1210 
We will review and address all notices that comply with the requirements above. 
We suggest that you consult your legal advisor before filing a notice or counter-notice. Also, be aware that you may be liable for damages if you make a false claim of copyright infringement. 
Pay Reservation Fee Now Online and Pay Green Fee Later at Golf Course 
With all golf course, you will be responsible for paying green fees (cost to golf) at the golf course itself. You will be charged the amount in the currency that you select immediately for the Reservation Fee. You will pay later for all green fees and other associated fee the golf course may charge at the golf course itself, the golf course will charge you in the local currency of the relevant golf course at the time of your tee time. Tax rates and foreign exchange rates could change in the time between booking and stay. 
GoGolf, LP. Change Or Cancellation Fees 
GoGolf, LP. will not refund any booking fees once booking has been accepted by user. You can change or cancel your tee time booking online. You may still be subject to change and cancellation fees that our tee time suppliers impose and require us to pass on, as indicated in the rules and restrictions for the tee time reservation. Valid only for tee time bookings made after May 10, 2012\. Golf Courses and other suppliers may impose their own change and/or cancellation fees. Change and cancellation requirements and penalties vary by golf course. Check your booking confirmation for details. To change or cancel your tee time booking, go online to www.mygogolfteetime.com. These terms and conditions may not be changed by any unauthorized person, including employees of GoGolf, LP. 
You agree to pay the booking fees to GoGolf, LP and any golf course required cancellation or change fees that you incur. In limited cases, some golf courses do not permit changes to or cancellations of reservations after they are made, as indicated in the rules and restrictions for the tee time reservation. You agree to abide by the terms and conditions imposed with respect to your tee time reservations. 

General Terms 

GoGolf, LP.reserves the right to discontinue the participation privileges of any individual who engages in any fraudulent activity or uses the Program in a manner inconsistent with these Terms &amp; Conditions or any federal or state laws, statutes, or ordinances. Discontinued participation privileges may result in the loss of all benefits. In addition to discontinuance of participation privileges, GoGolf, LP shall have the right to take appropriate administrative and/or legal action, including criminal prosecution, as it deems necessary. While you are enrolled in mygogolfteetime.com program, we may communicate with you via email regarding updates on your account or transactions. Except where prohibited, you agree that any and all disputes, claims, and causes of action arising out of, or connected with, the tee time reservations shall be resolved individually, without resort to any form of class action, and exclusively by the appropriate court located in Bexar County, Texas. 

LIABILITY DISCLAIMER THE INFORMATION, SOFTWARE, PRODUCTS, AND SERVICES PUBLISHED ON THIS WEBSITE MAY INCLUDE INACCURACIES OR ERRORS, INCLUDING PRICING ERRORS. IN PARTICULAR, GOGOLF, LP. ITS SUBSIDIARIES AND CORPORATE AFFILIATESDO NOT GUARANTEE THE ACCURACY OF, AND DISCLAIM ALL LIABILITY FOR ANY ERRORS OR OTHER INACCURACIES RELATING TO THE INFORMATION AND DESCRIPTION OF THE GOLF COURSE AND OTHER PRODUCTS DISPLAYED ON THIS WEBSITE (INCLUDING, WITHOUT LIMITATION, THE PRICING, PHOTOGRAPHS, LIST OF GOLF COURSE AMENITIES, GENERAL PRODUCT DESCRIPTIONS, ETC.), MUCH OF WHICH INFORMATION IS PROVIDED BY THE RESPECTIVE GOLF COURSE. IN ADDITION, GOGOLF, LP. EXPRESSLY RESERVES THE RIGHT TO CORRECT ANY PRICING ERRORS ON OUR WEBSITE AND/OR ON PENDING RESERVATIONS MADE UNDER AN INCORRECT PRICE. IN SUCH EVENT, WE WILL OFFER YOU THE OPPORTUNITY TO KEEP YOUR PENDING RESERVATION AT THE CORRECT PRICE OR, AT YOUR OPTION, WE WILL CANCEL YOUR RESERVATION WITHOUT ANY CHANGE OR CANCELLATION FEES. 

GOLF COURSE RATINGS DISPLAYED ON THIS WEBSITE ARE INTENDED AS ONLY GENERAL GUIDELINES, AND THE GOGOLF, LP. AFFILIATES DO NOT GUARANTEE THE ACCURACY OF THE RATINGS. THE GOGOLF, LP. COMPANIES, THE GOGOLF, LP.AFFILIATES AND THEIR RESPECTIVE SUPPLIERS MAKE NO GUARANTEES ABOUT THE AVAILABILITY OF SPECIFIC PRODUCTS AND SERVICES. THE GOGOLF, LP. COMPANIES, THE GOGOLF, LP. AFFILIATES AND THEIR RESPECTIVE GOLF COURSE MAY MAKE IMPROVEMENTS AND/OR CHANGES ON THIS WEBSITE AT ANY TIME. 

THE GOGOLF, LP.COMPANIES, THE GOGOLF, LP.AFFILIATES, AND THEIR RESPECTIVE SUPPLIERS MAKE NO REPRESENTATIONS ABOUT THE SUITABILITY OF THE INFORMATION, SOFTWARE, PRODUCTS, AND SERVICES CONTAINED ON THIS WEBSITE FOR ANY PURPOSE, AND THE INCLUSION OR OFFERING OF ANY PRODUCTS OR SERVICES ON THIS WEBSITE DOES NOT CONSTITUTE ANY ENDORSEMENT OR RECOMMENDATION OF SUCH PRODUCTS OR SERVICES BY THE GOGOLF, LP.COMPANIES OR.THE GOGOLF, LP.AFFILIATES. ALL SUCH INFORMATION, SOFTWARE, PRODUCTS, AND SERVICES ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND. THEGOGOLF, LP.COMPANIES, THE GOGOLF, LP.AFFILIATES, AND THEIR RESPECTIVE GOLF COURSES DISCLAIM ALL WARRANTIES AND CONDITIONS THAT THIS WEBSITE, ITS SERVERS OR ANY EMAIL SENT FROM THE GOGOLF, LP.COMPANIES, THE GOGOLF, LP.AFFILIATES, AND/OR THEIR RESPECTIVE SUPPLIERS ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS. THE GOGOLF, LP.COMPANIES, THE GOGOLF, LP.AFFILIATES, AND THEIR RESPECTIVE GOLG COURSES HEREBY DISCLAIM ALL WARRANTIES AND CONDITIONS WITH REGARD TO THIS INFORMATION, SOFTWARE, PRODUCTS, AND SERVICES, INCLUDING ALL IMPLIED WARRANTIES AND CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NONINFRINGEMENT. 

THE GOLF COURSES AND OTHER SUPPLIERS PROVIDING TEE TIME OR OTHER SERVICES ON THIS WEBSITE ARE INDEPENDENT CONTRACTORS AND NOT AGENTS OR EMPLOYEES OF THE GOGOLF, LP.COMPANIES, OR THE GOGOLF, LP.AFFILIATES. THE GOGOLF, LP.COMPANIES AND THE GOGOLF, LP.AFFILIATES ARE NOT LIABLE FOR THE ACTS, ERRORS, OMISSIONS, REPRESENTATIONS, WARRANTIES, BREACHES OR NEGLIGENCE OF ANY SUCH SUPPLIERS OR FOR ANY PERSONAL INJURIES, DEATH, PROPERTY DAMAGE, OR OTHER DAMAGES OR EXPENSES RESULTING THEREFROM. THEGOGOLF, LP.COMPANIES AND THE GOGOLF, LP. AFFILIATES HAVE NO LIABILITY AND WILL MAKE NO REFUND IN THE EVENT OF ANY DELAY, CANCELLATION, OVERBOOKING, STRIKE, FORCE MAJEURE OR OTHER CAUSES BEYOND THEIR DIRECT CONTROL, AND THEY HAVE NO RESPONSIBILITY FOR ANY ADDITIONAL EXPENSE, OMISSIONS, DELAYS, RE-ROUTING OR ACTS OF ANY GOVERNMENT OR AUTHORITY. 

IN NO EVENT SHALL THE GOGOLF, LP.COMPANIES, THE GOGOLF, LP.AFFILIATES, AND/OR THEIR RESPECTIVE SUPPLIERS BE LIABLE FOR ANY DIRECT, INDIRECT, PUNITIVE, INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES ARISING OUT OF, OR IN ANY WAY CONNECTED WITH, YOUR ACCESS TO, DISPLAY OF OR USE OF THIS WEBSITE OR WITH THE DELAY OR INABILITY TO ACCESS, DISPLAY OR USE THIS WEBSITE (INCLUDING, BUT NOT LIMITED TO, YOUR RELIANCE UPON OPINIONS APPEARING ON THIS WEB SITE; ANY COMPUTER VIRUSES, INFORMATION, SOFTWARE, LINKED SITES, PRODUCTS, AND SERVICES OBTAINED THROUGH THIS WEBSITE; OR OTHERWISE ARISING OUT OF THE ACCESS TO, DISPLAY OF OR USE OF THIS WEBSITE) WHETHER BASED ON A THEORY OF NEGLIGENCE, CONTRACT, TORT, STRICT LIABILITY, OR OTHERWISE, AND EVEN IF THEGOGOLF, LP.COMPANIES, THE GOGOLF, LP.AFFILIATES AND/OR THEIR RESPECTIVE GOLF COURSES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. 

If, despite the limitation above, the GOGOLF, LP.Companies, the GOGOLF, LP. Affiliates or their respective suppliers are found liable for any loss or damage which arises out of or in any way connected with any of the occurrences described above, then the GOGOLF, LP.Companies, theGOGOLF, LP. Affiliates or their respective suppliers liabilities will in no event exceed, in the aggregate, the greater of (a) the transaction fees assessed for your transactions on this Website, or (b) One-Hundred Dollars (US$100.00). 

The limitation of liability reflects the allocation of risk between the parties. The limitations specified in this section will survive and apply even if any limited remedy specified in these terms is found to have failed of its essential purpose. The limitations of liability provided in these terms inure to the benefit of the GOGOLF, LP.Companies, the GOGOLF, LP.Affiliates, and/or their respective suppliers. 
Indemnification 

You agree to defend and indemnify the GOGOLF, LP.Companies, the GOGOLF, LP.Affiliates, and/or their respective suppliers and any of their officers, directors, employees and agents from and against any claims, causes of action, demands, recoveries, losses, damages, fines, penalties or other costs or expenses of any kind or nature including but not limited to reasonable legal and accounting fees, brought by third parties as a result of: 

(a) your breach of this Agreement or the documents referenced herein; 
(b) your violation of any law or the rights of a third party; or 
(c) your use of this Website. 
Links To Third-Party Sites 

This Website may contain hyperlinks to websites operated by parties other than GoGolf. Such hyperlinks are provided for your reference only. We do not control such websites and are not responsible for their contents or the privacy or other practices of such websites. Further, it is up to you to take precautions to ensure that whatever links you select or software you download (whether from this Website or other websites) is free of such items as viruses, worms, trojan horses, defects and other items of a destructive nature. Our inclusion of hyperlinks to such websites does not imply any endorsement of the material on such websites or any association with their operators. 
Software Available On This Website 

Any software that is made available to download from this Website ("Software") is the copyrighted work of UDIG dbaGOGOLF, LP., and/or our respective suppliers. Your use of such Software is governed by the terms of the end user license agreement, if any, which accompanies, or is included with, the Software ("License Agreement"). You may not install or use any Software that is accompanied by or includes a License Agreement unless you first agree to the License Agreement terms. For any Software made available for download on this Website not accompanied by a License Agreement, we hereby grant to you, the user, a limited, personal, nontransferable license to use the Software for viewing and otherwise using this Website in accordance with these terms and conditions and for no other purpose. 
Please note that all Software, including, without limitation, all HTML code and Active X controls contained on this Website, is owned by UDIG dba GOGOLF, LP. Affiliates, and/or our respective suppliers, and is protected by copyright laws and international treaty provisions. Any reproduction or redistribution of the Software is expressly prohibited, and may result in severe civil and criminal penalties. Violators will be prosecuted to the maximum extent possible. 

WITHOUT LIMITING THE FOREGOING, COPYING OR REPRODUCTION OF THE SOFTWARE TO ANY OTHER SERVER OR LOCATION FOR FURTHER REPRODUCTION OR REDISTRIBUTION IS EXPRESSLY PROHIBITED. THE SOFTWARE IS WARRANTED, IF AT ALL, ONLY ACCORDING TO THE TERMS OF THE LICENSE AGREEMENT. 
Currency Converter 

Currency rates are based on various publicly available sources and should be used as guidelines only. Rates are not verified as accurate, and actual rates may vary. Currency quotes are not updated every day. Check the date on the currency converter feature for the day that currency was last updated. The information supplied by this application is believed to be accurate, but the GoGolf, LP. Companies, the GoGolf, LP. Affiliates, and/or our respective suppliers do not warrant or guarantee such accuracy. When using this information for any financial purpose, we advise you to consult a qualified professional to verify the accuracy of the currency rates. We do not authorize the use of this information for any purpose other than your personal use and you are expressly prohibited from the resale, redistribution, and use of this information for commercial purposes. 

Copyright and Trademark Notices 
All contents of this website are copyrighted © 2012 UDIG dba GOGOLF, LP. All rights reserved.UDIG dba GOGOLF, LP is not responsible for content on websites operated by parties other than UDIG dba GOGOLF, LP, and the GoGolf and slogan "Gotta Sell It" Gotta Have It" are trademarks or registered trademarks in the U.S. and/or other countries of UDIG dba GOGOLF, LPa subsidiary of GoGolf, LP. Other product and company names mentioned herein may be the trademarks of their respective owners. 
If you are aware of an infringement of our brand, please let us know by e-mailing us at info@mygogolfteetime.com. 
Claims Of Copyright Infringement 

1\. A clear identification of the copyrighted work you claim was infringed. 
2\. A clear identification of the material you claim is infringing the copyrighted work, and information that will allow us to locate that material on the Website, such as a link to the infringing material. 
3\. Your contact information so that we can reply to your complaint, preferably including an email address and telephone number. 
4\. A statement that you have a "good faith belief that the material that is claimed as copyright infringement is not authorized by the copyright owner, its agent, or the law." 
5\. A statement that "the information in the notification is accurate, and under penalty of perjury, the complaining party is authorized to act on behalf of the owner of an exclusive right that is allegedly infringed." 
6\. The notice must be signed by the person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed. 
We will review and address all notices that comply with the requirements above.. 
We suggest that you consult your legal advisor before filing a notice or counter-notice. Also, be aware that you may be liable for damages if you make a false claim of copyright infringement. 
General 

Your use of mapping available on this Website is governed by the terms of use set forth. 
This Website is operated by a U.S. entity and this Agreement is governed by the laws of the State of Texas, USA. You hereby consent to the exclusive jurisdiction and venue of courts in Bexar County, Texas, USA, in all disputes arising out of or relating to the use of this Website. Use of this Website is unauthorized in any jurisdiction that does not give effect to all provisions of these terms and conditions, including, without limitation, this paragraph. 

You agree that no joint venture, partnership, or employment relationship exists between you and theUDIG dba GOGOLF, LP Companies as a result of this Agreement or use of this Website. 
Our performance of this Agreement is subject to existing laws and legal process, and nothing contained in this Agreement limits our right to comply with law enforcement or other governmental or legal requests or requirements relating to your use of this Website or information provided to or gathered by us with respect to such use. To the extent allowed by applicable law, you agree that you will bring any claim or cause of action arising from or relating to your access or use of this Website within two (2) years from the date on which such claim or action arose or accrued or such claim or cause of action will be irrevocably waived. 
If any part of this Agreement is determined to be invalid or unenforceable pursuant to applicable law including, but not limited to, the warranty disclaimers and liability limitations set forth above, then the invalid or unenforceable provision will be deemed superseded by a valid, enforceable provision that most closely matches the intent of the original provision and Agreement shall continue in effect. 
This Agreement (and any other terms and conditions referenced herein) constitutes the entire agreement between you and GoGolf, LP. with respect to this Website and it supersedes all prior or contemporaneous communications and proposals, whether electronic, oral, or written, between the customer and GoGolf, LP.with respect to this Website. A printed version of this Agreement and of any notice given in electronic form shall be admissible in judicial or administrative proceedings based upon or relating to this Agreement to the same extent and subject to the same conditions as other business documents and records originally generated and maintained in printed form. 

Fictitious names of companies, products, people, characters, and/or data mentioned on this Website are not intended to represent any real individual, company, product, or event. 
Any rights not expressly granted herein are reserved. 
Service Help 
For quick answers to your questions or ways to contact us, visit FAQ Or, you can write to us at: 
Attn: Customer Service UDIG dba GOGOLF,
GoGolf PO Box 160732 San Antonio, TX 78280
Effective as of May 10, 2012 ©2012UDIG dba GOGOLF, LP. All rights reserved.
</string> 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-01T05:51:46.100

您可以使用代码来做到这一点。因为如果您在字符串中设置这些整行，XML 将不起作用，因为您需要编辑每一行。我的建议是

```
<TextView android:id="@+id/mylargeText"/> 
```

在你的主要课程中

```
TextView largeTextView = (TextView) findViewById(R.id.mylargeText); 
```

在 res 中创建 raw 文件夹。然后创建名为 term.txt 的文件

```
try { 
   Resources res = getResources(); 
   InputStream in_s = res.openRawResource(R.raw.term);
   byte[] b = new byte[in_s.available()];
   in_s.read(b);
   largeTextView.setText(new String(b)); 
} catch (Exception e) {
   largeText.setText("Error: can't show terms."); 
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-11-07T01:56:26.703

在 Android 中加载大文本最方便的方法是使用[Raw Resources](https://developer.android.com/guide/topics/resources/providing-resources.html)：

1.  转到`/'YourProjectFolder'/app/src/main/res/`文件夹（路径可能不同）
2.  创建名为的文件夹`raw`（如果它不存在）
3.  将您的文本放入`.txt`文件并将其放在`raw`文件夹中
4.  在您的代码中将*原始资源*转换为`String`并将其设置为`TextView`

要获取*原始资源*字节（以进一步将其转换为`String`），我们需要打开`InputStream`. 最快（从性能的角度来看）和最安全的转换方式`InputStream`（`String`根据[这个答案](https://stackoverflow.com/a/35446009/7045114)）是使用`ByteArrayOutputStream`and `inputStream.read`。

为了轻松实现这一点，我编写了即用型方法：

```
@Nullable
private String getStringFromRawRes(int rawRes) {

    InputStream inputStream;
    try {
        inputStream = getResources().openRawResource(rawRes);
    } catch (Resources.NotFoundException e) {
        e.printStackTrace();
        return null;
    }

    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
    byte[] buffer = new byte[1024];
    int length;
    try {
        while ((length = inputStream.read(buffer)) != -1) {
            byteArrayOutputStream.write(buffer, 0, length);
        }
    } catch (IOException e) {
        e.printStackTrace();
        return null;
    } finally {
        try {
            inputStream.close();
            byteArrayOutputStream.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    String resultString;
    try {
        resultString = byteArrayOutputStream.toString("UTF-8");
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
        return null;
    }

    return resultString;
} 
```

像这样使用它：

```
String largeTextString = getStringFromRawRes(R.raw.yourLargeTextFile);
if(largeTextString != null) {  //null check is optional
    YourTextView.setText(largeTextString);
} else {
    //something goes wrong
} 
```

PS，您可以使用标准机制轻松覆盖不同语言、操作系统版本、屏幕方向等的此类资源。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-01T05:53:45.383

你好试试下面的方法

在类似 terms.xml 的布局中创建一个 Web 视图

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/widget63"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

   <WebView
    android:id="@+id/mWebView"
    android:layout_width="fill_parent"
    android:layout_height="410dp" />

  </RelativeLayout> 
```

然后复制您的文本并创建一个Html文件名作为terms.html并将html文件复制到**assets**文件夹中，现在创建一个java文件作为**Terms.java** 复制下面的代码

```
 public class Terms extends Activity {
WebView mWebView;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_CUSTOM_TITLE);
    setContentView(R.layout.terms);

    this.mWebView = ((WebView)findViewById(R.id.mWebView));     
    this.mWebView.getSettings().setBuiltInZoomControls(false);
    this.mWebView.getSettings().setLoadWithOverviewMode(false);
    this.mWebView.getSettings().setUseWideViewPort(false);
    this.mWebView.getSettings().setDefaultZoom(WebSettings.ZoomDensity.CLOSE);
    this.mWebView.loadUrl("file:///android_asset/terms.html");
    Button  back_btn = (Button)findViewById(R.id.back);
    back_btn.setOnClickListener(new View.OnClickListener(){
        public void onClick(View view)
        {
            finish();
        }
    });

  }
@SuppressWarnings("unused")
private class Callback extends WebViewClient {
      @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
      return(false);
    }
  }  
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T05:59:24.147

请查看有关字符串格式和样式的链接

[http://developer.android.com/guide/topics/resources/string-resource.html#FormattingAndStyling](http://developer.android.com/guide/topics/resources/string-resource.html#FormattingAndStyling)

或者试试这个

```
<string name="terms_of_use"><![CDATA[
// copy and paste large string data
]]></string> 
```

# ios - iPad ios6中的方向问题

> ID：15151153
> 
> 赞同：1
> 
> 时间：2013-03-01T05:29:31.733
> 
> 标签：ios, objective-c, ipad, ios6, uiinterfaceorientation

我检查设备的方向，`viewDidAppear`并通过调用方法`viewWillAppear`强制方向。`willAnimateRotationToInterfaceOrientation`

```
 - (void) viewWillAppear:(BOOL)animated
   {
     [super viewWillAppear:YES];
     _levelComplete = YES;

     [self willAnimateRotationToInterfaceOrientation:[[UIDevice currentDevice] orientation] duration:0.01];

   }

 - (void) willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
  {
      if (toInterfaceOrientation == (UIInterfaceOrientationLandscapeLeft | UIInterfaceOrientationLandscapeRight) )
     {

     }
     else  if (toInterfaceOrientation == UIInterfaceOrientationPortrait)
     {

     }
 } 
```

**我面临的问题是，方法和方法`toInterfaceOrientation`都保持为 0， 因此程序崩溃。`viewDidAppear``viewWillAppear`**

可能是什么问题？

请帮忙！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:35:33.067

尝试这个

```
 - (void) viewDidLoad
       {
         _levelComplete = YES;

        [self adjustViewsForOrientation:self.interfaceOrientation];

       }
    -(void) adjustViewsForOrientation:(UIInterfaceOrientation)orientation
   {

      if (orientation == UIInterfaceOrientationPortrait || orientation == UIInterfaceOrientationPortraitUpsideDown)
        {

        }
        else
        {
        }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:00:08.243

正如您所提到的：我面临的问题是 viewDidAppear 和 viewWillAppear 方法的 toInterfaceOrientation 仍然为 0，因此程序崩溃。

方向 0 表示未知方向。在方向代表`viewWillAppear`上设置断点。`viewDiddAppear`请注意，方向的委托是否首先被调用视图委托。

您可以使用委托

```
- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation

{
  return UIInterfaceOrientationLandscapeLeft;
} 
```

使用此委托，应用程序将以横向模式或任何所需的方向模式呈现。

试试看。

# jquery - jquery同步发帖

> ID：15151159
> 
> 赞同：2
> 
> 时间：2013-03-01T05:30:11.720
> 
> 标签：jquery, ajax

在 jquery 网站上，他们告诉你你可以这样做：

```
jQuery.ajax({
     type: "POST",
     url:    'http://example.com',
     success: function(result) {
              },
     async:   false
}); 
```

这将使这个调用同步

但是如果我使用 jquery 格式发布：

```
 $.post( '../php/x.php', {},
     function( data ){  // a function to deal with the returned information
        }

    }, "json"); 
```

我怎样才能使这个同步？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-01T05:32:18.343

无论如何，您可能不应该使其同步，[但您不能](http://api.jquery.com/jQuery.post/). 一个近似值是

```
$.ajaxSetup({async: false});
$.post(); 
```

# json - 需要帮助应用自定义 Chrome json 主题

> ID：15151161
> 
> 赞同：1
> 
> 时间：2013-03-01T05:30:21.650
> 
> 标签：json, google-chrome, google-chrome-extension, manifest, google-chrome-theme

我需要一些帮助，我前段时间制作了一个自定义 .json 主题以用于 chrome。无论如何，我的问题是关于“manifest_version 2”的事情。当我进入扩展程序并单击“加载解压缩的扩展程序”时，我当前的代码一直有效，它会完美地应用我的主题，但直到今天它不再有效，我无法将我的主题应用到 Chrome。我唯一能想到的是我猜 Chrome 更新了？

旁注：在编辑或了解 json 文件的词汇或这种编码如何工作时，我有点迷茫。因此，如果有人可以，您能否以外行人的方式告诉我/特别是尽可能地告诉我我必须更改下面以前工作的代码，以便它可以与此 manifest_version 2 一起使用？基本上我必须做些什么才能将我的主题重新应用到 chrome 上以便它可以工作。

谢谢！

这是以前工作的 .json 代码

```
{
"version": "1.0",
"name": "02 Lancer Dark World",
"theme": {
"images" : {
  "theme_frame" : "images/frame.png",
  "theme_toolbar" : "images/toolbar.png",
  "theme_ntp_background" : "images/background.png",
  "theme_tab_background" : "images/tab.png"},
"colors" : {
    "ntp_link": [25,110,172], 
"ntp_text": [49,143,255], 
"ntp_section_link": [89,4,255], 
"ntp_section_text": [25 , 110 , 172],
"ntp_background": [10 , 17 , 27], 
"frame": [10 , 17 , 27], 
"toolbar": [10 , 17 , 27], 
"tab_text": [93,205,255], 
"tab_background_text": [82 , 127 , 204], 
"bookmark_text": [49,143,255],
"button_background": [5, 23, 37]
},
"tints" : {
            "buttons" : [0.6, 0.9, 0.4],
            "frame_inactive": [0.5, 0.6, 0.1], 
            "frame_incognito_inactive": [0.5, 0.6, 0.1] 
},
"properties" : {
    "ntp_background_alignment" : "top",
"ntp_background_repeat": "no-repeat"
}
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T02:48:59.473

把它放在顶部：

{“manifest_version”：2，“版本”：“1.0”，

完毕

# c++ - c++空构造函数和成员初始化

> ID：15151164
> 
> 赞同：0
> 
> 时间：2013-03-01T05:30:26.090
> 
> 标签：c++

我对默认构造函数和空构造函数感到困惑。空构造函数是否也会自动初始化类变量？这意味着如果我使用空构造函数而不是默认构造函数，那是否也会自动初始化类成员变量？例如，如果使用以下代码，整数指针是否被初始化为 NULL ？请确认

**// .h 文件**

```
Class Test {    
public:  
   Test();
  ~Test();

   int *p;
} 
```

**// .cpp 文件**

```
Test::Test()
{
   // do something..
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:32:12.527

不，如果您不初始化其中的任何成员变量，则空构造函数与默认构造函数相同。

# iphone - 对于 NSString 实例

> ID：15151168
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:30:43.250
> 
> 标签：iphone, objective-c, xcode, ipad

我声明了一个`NSString`名为 *strKey的实例，`@synthesize`并且我将一个字符串值传递给它。

但是当我想将该字符串发送到另一个班级时。它给了我错误

![在此处输入图像描述](../Images/18016bb7757710d5769951188cfd750c.png)

这是我的代码

在此处为 strKey 分配一个值

```
 -(IBAction)getLocal:(UIButton *)sender
    {
        [self startDeckDownload];
        GroupDeckExpandableViewObject *objConfiguration=[[GroupDeckExpandableViewObject alloc] init];
        GroupListCell *celltest=(GroupListCell *)sender.superview.superview.superview;

        if(celltest != nil){
            celltest.viewDownload.hidden =NO;
            celltest.viewGetLocal.hidden=YES;
            //objConfiguration.vwWelcome=celltest.viewWelcome;
            objConfiguration.vwGetLocal=celltest.viewGetLocal;
            objConfiguration.vwDownLoad=celltest.viewDownload;
            strKey=[NSString stringWithFormat:@"%d",[sender tag]]; // i am assign one value to the string here.
            [delegate setGroupViewConfiguration:objConfiguration withtag:[NSString stringWithFormat:@"%d",[sender tag]]];

        }

    } 
```

传递给另一个类（使用协议）。

```
-(void)setDownloadProgress:(float)progress
{

    [delegate setDownloadProgress:progress withkey:strKey];
} 
```

这是协议方法的定义。

```
@protocol groupListCellDelegate<NSObject>

@optional
- (void) setGroupViewConfiguration:(id)objConfiguration withtag:(NSString *)key;
-(void)setDownloadProgress:(float)progress withkey:(NSString *)key;
@end 
```

我在我的`GroupView.m`

```
#pragma mark - delegate method

    -(void)setGroupViewConfiguration:(id)objConfiguration withtag:(NSString *)key
    {

        [arrGroupViewConfiguration setValue:objConfiguration forKey:key];
        GroupDeckExpandableViewObject *objgetviews=[arrGroupViewConfiguration valueForKey:key];
         [tblData reloadRowsAtIndexPaths:[NSArray arrayWithObjects:objgetviews.cellIndexPath, nil] withRowAnimation:UITableViewRowAnimationNone];
     //   [tblData reloadData];
    }

    -(void)setDownloadProgress:(float)progress withkey:(NSString *)key
    {
        NSLog(@"Reloaded...");
        progress_percent = progress;
        GroupDeckExpandableViewObject *objgetviews=[arrGroupViewConfiguration valueForKey:key];
        NSLog(@"%d",objgetviews.cellIndexPath.section);
        [tblData reloadRowsAtIndexPaths:[NSArray arrayWithObjects:objgetviews.cellIndexPath, nil] withRowAnimation:UITableViewRowAnimationNone];
      //  [tblData reloadData];
    } 
```

我在这里想念什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:14:12.183

您拥有`initWithFormat`您负责释放的返回对象，但您不拥有`stringWithFormat`返回自动释放字符串的返回对象，因此不需要释放它（如果您确实想拥有它的所有权，则必须保留它）。

因此，为了解决您的问题，请尝试像这样分配您的价值，

```
strKey=[[NSString alloc] initWithFormat:@"%d",[sender tag]]; 
```

# java - Java将随机整数插入二叉搜索树

> ID：15151172
> 
> 赞同：0
> 
> 时间：2013-03-01T05:30:56.170
> 
> 标签：java

我试图将随机整数插入二叉搜索树。

这是我试过的

```
for(i = 0; i <= insertAmount; i++)
        {
            myTree.insert((int)Math.random()*1000000+1);
        } 
```

我想我只是插入相同的数字。+ 1 不会改变值吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:35:51.287

它应该是这样的： -

```
(int)(Math.random()*100000)+1 
```

你的原因是总是`(int)Math.random()`给予`0`而乘法`100000`没有效果。因此，您总是会`1`感谢您的`+1`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T05:40:00.960

这可能不是对您查询的答复，但您可以考虑使用[Random](http://docs.oracle.com/javase/6/docs/api/java/util/Random.html)类。

```
new Random().nextInt(1000000) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:36:49.447

拥有这个..

```
 for(i = 0; i <= insertAmount; i++)
    {
        myTree.insert((int)Math.random()*1000000)+i;
    } 
```

> > 您必须将 +1 替换为 i。

希望能帮助到你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T06:14:11.043

试试下面的代码。

```
Random rndm = new Random();
            int min =1;
            int max = 10;
            for(int i = 0; i <= 10; i++)
            {
                System.out.println(rndm.nextInt(max - min + 1));
            } 
```

# bash - 我已经重定向了标准输出和标准错误，为什么我仍然得到一些输出？

> ID：15151175
> 
> 赞同：3
> 
> 时间：2013-03-01T05:31:14.193
> 
> 标签：bash, shell

我在 bash 终端中做了类似以下的事情

```
( some_command ) >/dev/null 2>/dev/null 
```

然而我还是打印了一些东西。这里`some_command`运行一个我的组织私有的命令行程序。`STDOUT`当我同时重定向和时，子外壳如何设法将某些内容打印到控制台`STDERR`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T05:35:59.097

一种可能性是程序特别粗鲁，*直接打印到*[控制终端](http://www.lindevdoc.org/wiki/Controlling_terminal) ，这将绕过所有重定向。

 *例如：

```
$ ( echo "can't touch this" > /dev/tty ) >/dev/null 2>/dev/null
can't touch this 
```

（[`/dev/tty`](http://linux.die.net/man/4/tty)指当前进程的控制终端。）*

# matlab - 使用 Matlab 进行复杂循环

> ID：15151177
> 
> 赞同：1
> 
> 时间：2013-03-01T05:31:24.737
> 
> 标签：matlab, matlab-deployment

假设有五个矩阵：

```
 A=  [A1 A1 A1 A1 A1; A2 A2 A2 A2 A2; A3 A3 A3 A3 A3]

 B= [B1 B1 B1  B1  B1; B2 B2  B2 B2 B2;B3 B3 B3 B3 B3]

 C=[ C1 C1 C1 C1 C1; C2 C2 C2 C2 C2; C3 C3 C3 C3 C3]

 D= [D1 D1 D1 D1 D1 ; D2 D2 D2 D2 D2; D3 D3 D3 D3 D3]

 E=[ E1 E1 E1 E1 E1; E2 E2 E2 E2 E2; E3 E3 E3 E3 E3] 
```

我想制作一个程序，使得输出包括获取每个给定矩阵的每一行并形成一个新矩阵。当矩阵长度增加并且给定矩阵的数量也增加时，如何在这种情况下使用循环。这个问题在我看来是一个复杂的问题。因为我想通过对任意数量的矩阵使用循环和输出来概括，比如 20，并且列数也增加到 25，那么如何获得这些 P1 到 P20 输出。任何人都可以帮助我解决使用 Matlab 的复杂问题吗

```
P1=[ A1 A1  A1 A1 A1; B1 B1 B1 B1 B1; C1 C1 C1 C1 C1 C1; D1 D1 D1 D1 D1; E1 E1 E1 E1 E1]
P2=[ A2 A2  A2 A2 A2; B2 B2 B2 B2 B2; C2 C2 C2 C2 C2 C2; D2 D2 D2 D2 D2; E2 E2 E2 E2 E2] 
```

并且类似地获得其他矩阵。

注意：给定的 5 个矩阵是在循环的帮助下生成的。所以首先我会得到如下值：

```
 A= A1
  B= B1
  C=C1
  D=D1
  E=E1

  A= A1 A1 
  B= B1 B1
  C=C1  C1
  D=D1  D1
  E=E1  E1 .... AND SO ON 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:39:30.743

获取一个循环并将所有矩阵放在一起形成一个 3D 张量。或者在创建矩阵时将它们放入 3D 张量中。

```
M(:,:,1) = A; M(:,:,2) = B; etc 
```

然后

```
squeeze(M(1,:,:))' is the P1, squeeze(M(2,:,:))' is the P2 
```

例子：

```
M(:,:,1) =

     1     2
     3     4

M(:,:,2) =

     5     6
     7     8

>> squeeze(M(1,:,:))'

ans =

     1     2
     5     6 
```

# asp.net - 集合已修改枚举操作可能无法在 datalist 中执行

> ID：15151180
> 
> 赞同：0
> 
> 时间：2013-03-01T05:31:36.423
> 
> 标签：asp.net, datalist

单击数据列表外部的按钮后尝试触发事件时出现错误。

每个语句都显示错误：集合已修改，枚举操作可能无法执行。

```
protected void btnSaveGrid_Click(object sender, EventArgs e)
    {
        foreach (DataListItem item in dlPl.Items)
        {            

                CommandEventArgs commandArgs = new CommandEventArgs("SaveGrid", btnSaveGrid);
                DataListCommandEventArgs repeaterArgs = new DataListCommandEventArgs(item,btnSaveGrid, commandArgs);
                dlPl_ItemCommand(btnSaveGrid, repeaterArgs);

       }

      protected void dlPl_ItemCommand(object source, DataListCommandEventArgs e)
            {
                if (e.CommandName == "SaveGrid")
                {
    //Some work
    }

} 
```

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:55:22.570

枚举时不能修改集合。dlPl_ItemCommand 修改 dlPl.Items，这是不允许的。如果将 DataBind 移到循环之外，它应该可以工作。

# iphone - 当 UITableView 滚动展开的单元格重叠时

> ID：15151187
> 
> 赞同：0
> 
> 时间：2013-03-01T05:32:13.227
> 
> 标签：iphone, uitableview

当 uitableview 滚动时，展开的单元格被打乱，整个表格单元格被打乱和重叠。为什么会发生这种情况，我该如何设置。请指导，提前致谢。

这是代码：

```
-(UITableViewCell *) tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"Cell";
UITableViewCell *cell;

if(tableView == self.mTableView)
{
 cell = [self.mTableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
}

if(tableView == self.mMenuTableView)
{
cell = [self.mMenuTableView dequeueReusableCellWithIdentifier:CellIdentifier];

     if (cell == nil)
     {
         cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
     }
         if(indexPath.section == 0)
         {

             if(!isShowingList)
             {
                 cell.backgroundView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"event_exp.png"]];
             }

             else
             {

                 if(indexPath.row == 0)
                 {
                     cell.backgroundView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"event_exp_active.png"]];
                 }

                 if(indexPath.row == 1)
                 {
                 cell.textLabel.text = [self.mArrSubMenuEvent objectAtIndex:0];
                     cell.backgroundColor = [UIColor colorWithRed:56.0/255.0 green:218.0/255.0 blue:250.0/255.0 alpha:1.0];
                 }
                 if(indexPath.row == 2)
                 {
                     cell.textLabel.text = [self.mArrSubMenuEvent objectAtIndex:1];

                 }
                 if(indexPath.row == 3)
                 {
                     cell.textLabel.text = [self.mArrSubMenuEvent objectAtIndex:2];
                }

             }

         }

         if(indexPath.section == 1)
         {

             if(!isOverhead)
             {
                 cell.backgroundView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"overhead_exp.png"]];
             }
             else
             {
             if(indexPath.row == 0)
             {

             cell.backgroundView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"overhead_exp_active.png"]];

             }

             if(indexPath.row == 1)
             {
                 cell.textLabel.text = @"Friend";
             }

             if(indexPath.row == 2)
             {
                 cell.textLabel.text = @"Public";
             }

             }

         }

         if(indexPath.section == 2)
         {

             NSString *imgName = [self.mArrCellImages objectAtIndex:indexPath.row];
             cell.backgroundView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:imgName]];
         }

     }

cell.selectionStyle = UITableViewCellSelectionStyleNone;

return cell;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:41:35.190

将reuseIdentifier 设置为nil。

```
cell = [self.mTableView dequeueReusableCellWithIdentifier:nil];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:nil];
    } 
```

# c# - 使用单例模式进行错误记录类？

> ID：15151188
> 
> 赞同：0
> 
> 时间：2013-03-01T05:32:13.910
> 
> 标签：c#, .net, design-patterns

我目前有一个用 C# 编写的类，它执行一些简单的错误日志记录。它在我的整个项目中被广泛使用。

```
class LogError
{
    //constructor
    public LogError() { }

    //public methods
    public void saveToTextFile() { }

    //other similar methods...
} 
```

但是，这个类似乎不是一个好的设计，因为每次我必须创建一个`LogError`类的实例`saveToTextFile()`才能使用方法。

所以我正在考虑重新设计这个类。这是应用单例模式的好案例吗？不如让它成为静态类呢？有什么建议么？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:53:55.397

Singleton 的问题是很难使用不同的日志记录行为。您想稍后介绍“发送电子邮件而不是写入文本文件”的图像。如果有的话基本上是一样的

```
new LogError().DoSomething(); 
```

或者

```
LogError.Instance.DoSomething(); 
```

除了 LogError 类本身的性能和/或实现。

如果你想增加灵活性，你最好使用[依赖注入](http://en.wikipedia.org/wiki/Dependency_injection)（另外，它使你的代码比单例更清晰）或依赖查找（介于两者之间）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:09:29.913

我会看看 Apache log4net。你不必担心任何事情。您可以将其配置为从您的配置文件（或在代码中）记录到多个目标。日志消息模板是完全可定制的。您可以过滤和路由不同的日志级别（调试/信息/警告/错误）。真的不值得在这里重新发明轮子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:35:57.253

是的，让它成为单例并且线程安全

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T05:52:04.827

如果您正在使用任何容器（Autofac、Unity 等），那么您可以使用该容器。

单例可以被打破（通过使用反射所以被告知）

其中一种实现是（这不需要显式锁定）

```
public class  MySingleton
{
    private static readonly MySingleton _singtonInstance =  new MySingleton();
    private MySingleton()
    {

    }

    public static MySingleton SingtonInstance
    {
        get { return _singtonInstance; }
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T06:19:56.823

你可以使用接口作为你的日志系统外观，比如

```
interface ILoggerFacade{
    void Error(Exception e);
    void Warning(Exception e);
    ....
} 
```

之后你需要进行接口实现

```
class SimpleLogger:ILoggerFacade{

    void Error(Exception e){//logging error};
    ...
} 
```

最后，您需要输入指向您的记录器的点。我通常使用静态类，但单例也是变体。

静态类示例：

```
 class StaticLogger{

     private ILoggerFacade _logger;
     StaticLogger(){
        //choose ILoggerFacade implementation
        _logger=new SimpleLogger();
     }
     public static ILoggerFacade Logger{
        get{ return _logger;}
     }
 } 
```

如果您将使用外观界面，您可以在需要时轻松更改项目中的记录器。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-01T07:14:07.160

有一个解决方案，您有一个日志记录方法，一旦应用程序中的任何地方发生异常，就会调用该方法。您所需要的只是一个通用或通用的异常处理程序。就是这样。

**在您的 Program.cs（在 Application.Run 之前的 Main() 方法中）添加此代码。**

```
 Application.ThreadException += CommonExceptionHandler; 
```

**在您的 Program.cs 文件上创建 CommonExceptionHandler 事件，让我们在 Main 方法旁边说。**

```
private static void CommonExceptionHandler(object sender, ThreadExceptionEventArgs t)
        {
           LogError(t.Exception);
        } 
```

**在 Program.cs 上创建 LogError 方法**

```
 public static void LogError(Exception ex)
        {
            var errMsg = ex.Message;
            errMsg += ex.InnerException != null ? ex.InnerException.Message : string.Empty;
            //TODO: Do what you want if an error occurs
        } 
```

这将捕获应用程序中发生的所有异常。您不再需要担心是否会为所有方法中的每个 catch 块调用错误日志类

# .net - 将第二个数据源添加到现有应用程序的可能原因

> ID：15151191
> 
> 赞同：0
> 
> 时间：2013-03-01T05:32:30.007
> 
> 标签：.net, mongodb, web-applications, ravendb, nosql

所以我一直在研究 NoSQL 数据库，而且我有。对他们非常着迷。所以我的问题是，可能将第二个 NoSql 数据源添加到已经使用关系数据库的现有 n 层企业 Web 应用程序的一些合法用途和/或原因是什么？

我在 RavenDB 博客上读到，他们的数据库的缺点之一是报告。文档数据库通常是这种情况吗？您能否了解如何使用 SQLServer 进行报告，使用 NoSql 进行其他操作？像这样的架构会是什么样子？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:20:01.860

这取决于您的应用程序中缺少什么，我可以想到添加 no-sql 数据库的这些原因：

*   如果您的 Web 应用程序是高流量应用程序，那么您希望记录一些用户行为数据：[http ://wiki.apache.org/cassandra/LoggingToCassandra](http://wiki.apache.org/cassandra/LoggingToCassandra)

*   缓存或内存使用，您始终可以将 Redis、Riak、Hazelcast 等内存数据库添加到您的应用程序以提高其性能（也可以考虑 memcached）。这有助于搜索、用户会话和提供静态内容。

*   如果你需要一个 pub/sub 服务器，Redis 做得很好[http://redis.io/topics/pubsub](http://redis.io/topics/pubsub)

*   用于以结构化方式存储数据，例如 JSON 格式或图形，如 mongoDB、OrientDB、neo4j 和 CouchDBs。您可以使用 couchDB 的内置 REST API 直接从 Web 客户端访问数据。

*   为了在不影响现有数据库的情况下向 Web 应用程序添加新功能，例如，您希望通过 API 向公众公开数据，或者您希望添加实时搜索和索引功能。

*   对于可伸缩性，可以说 no-sql 数据库比关系数据库的伸缩性更好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T16:02:11.477

这里有很多很好的例子。似乎没有提到的一件事是创建非规范化的高事务读取层。这很适合 CQRS 世界。关系模型中的数据难以查询以创建报告可消耗数据的地方。您可以改为将关系模型转换为平面模型......文档数据库做得很好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T05:39:53.750

缓存是一种常见的用法。例如，请参阅其他问题：

[什么是适合缓存网站响应的存储 RDBMS、NoSQL？](https://stackoverflow.com/questions/8172108/whats-a-suitable-storage-rdbms-nosql-for-caching-web-site-responses)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T05:56:47.673

缓存确实是一种常见的用法。Couchbase 和 Redis 通常满足这一点。

结构化日志存储也是一种常见用途。人们似乎喜欢使用 Mongo 来存储结构化日志（而不仅仅是一个扁平字符串）。

任何处理大量数据的东西。例如，也许您在您的网站上放置了一个跟踪像素来跟踪页面点击/查看/用户活动。生成的数据可能非常大。NoSQL 数据库通常可以很好地横向扩展。

我还认为文档数据库（CouchDB、MongoDB、Couchbase）允许您存储任何难以规范化的内容。花费所有时间制作表和 CRUD 存储过程？将丰富的对象序列化为 JSON 并存储它可能更容易！

它不是真正在 NoSQL 下，但图数据库可以有效地存储事物之间的关系。想想 Facebook 的社交图谱，甚至是推荐引擎。

# javascript - 如何仅使用引导程序和 jQuery 制作可编辑表？

> ID：15151210
> 
> 赞同：5
> 
> 时间：2013-03-01T05:33:27.070
> 
> 标签：javascript, jquery, twitter-bootstrap

这是我的引导表。我只想使用 jQuery 将数据插入表中。单击特定单元格时，应该打开一个文本框以输入数据。我不想使用任何其他插件。

```
 <table class="table table-bordered">
         <thead class="mbhead">
           <tr class="mbrow">
             <th>A</th>
             <th>B</th>
             <th>C</th>
             <th>D</th>
           </tr>
        </thead>
        <tbody>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
             <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
           <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>          
         </tbody>
       </table> 
```

帮帮我。谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-01T06:23:49.203

您基本上想向单击表格行的用户添加一个事件。在 jQuery 中，您可以像这样添加该事件

```
$("table.table tr td").bind("click", dataClick); 
```

在 dataClick 函数中，您希望使行可编辑。你可以这样做。

```
function dataClick(e) {
    console.log(e);
    if (e.currentTarget.innerHTML != "") return;
    if(e.currentTarget.contentEditable != null){
        $(e.currentTarget).attr("contentEditable",true);
    }
    else{
        $(e.currentTarget).append("<input type='text'>");
    }    
} 
```

我在这里有一个样本，[http://jsfiddle.net/JPVUk/4/](http://jsfiddle.net/JPVUk/4/)

希望这可以帮助

# asp.net - 如何在 HtmlTextWriter 中阅读和进行更改

> ID：15151224
> 
> 赞同：1
> 
> 时间：2013-03-01T05:34:27.600
> 
> 标签：asp.net, htmltextwriter

在 ASP.NET 站点中，我正在呈现 GridView 控件以将其详细信息导出到 excel 文件中

```
Response.ContentType = "application/vnd.ms-excel"
Response.AppendHeader("Content-Type", "application/vnd.ms-excel")
Dim stringWrite As System.IO.StringWriter = New System.IO.StringWriter
Dim htmlWrite As System.Web.UI.HtmlTextWriter = New HtmlTextWriter(stringWrite)
gridviewObject.RenderControl(htmlWrite)
Response.Write(stringWrite.ToString())
Response.End() 
```

现在，它正在渲染，但 gridview 使用很少的图像来美化数据。导出数据时，我不想在 excel 中显示图像。所以我想找到标签并想用空白字符串替换它。

谁能告诉我我该怎么做？

# vb.net - 组合框项目更改时无法更改文本

> ID：15151229
> 
> 赞同：1
> 
> 时间：2013-03-01T05:34:52.810
> 
> 标签：vb.net, visual-studio-2010, visual-studio, vb.net-2010

在组合框中选择和项目后，如 iphone5、samsung s3、htc 等。如果用户选择 Iphone5，则所选项目的描述将添加到文本框中。

它似乎无法正常工作，因为每次我选择不同的项目时，它只显示分配给 iphone5 的描述。

```
 If cboBrand.Items.Contains("Iphone5") = True Then

         TxtBox1.Text = "OS : iOS 6, upgradable to iOS 6.1, Chipset: Apple A6, CPU: Dual-core 1.2 GHz"

    ElseIf cboBrand.Items.Contains("Sumsung s3") = True Then

        TxtBox1.Text = "Os: Android OS, (Ice Cream Sandwich), upgradeable to 4.1.2 (Jelly Bean, CPU: Quad-core 1.4 GHz Cortex-A9)"

    End If 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:03:08.277

这会起作用......它总是显示iphone 5的唯一原因是因为你的组合框总是包含这个，这意味着它总是正确的......

```
 Private Sub cboBrand_SelectedIndexChanged(sender As Object, e As System.EventArgs) Handles cboBrand.SelectedIndexChanged

    If cboBrand.SelectedItem = ("Iphone5") Then

        txtAddress.Text = "OS : iOS 6, upgradable to iOS 6.1, Chipset: Apple A6, CPU: Dual-core 1.2 GHz"

    ElseIf cboBrand.SelectedItem = ("Sumsung s3") Then

        TextBox1.Text = "Os: Android OS, (Ice Cream Sandwich), upgradeable to 4.1.2 (Jelly Bean, CPU: Quad-core 1.4 GHz Cortex-A9)"

    End If
  End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:58:55.480

这是一个比这更好的例子，特别是如果您要添加更多内容...请改用 case 语句并事先声明您的字符串...

```
 Private Sub cboBrand_SelectedIndexChanged(sender As Object, e As System.EventArgs) Handles cboBrand.SelectedIndexChanged

    Dim strIphone5 As String = "OS : iOS 6, upgradable to iOS 6.1, Chipset: Apple A6, CPU: Dual-core 1.2 GHz"
    Dim strSumPhone As String = "Os: Android OS, (Ice Cream Sandwich), upgradeable to 4.1.2 (Jelly Bean, CPU: Quad-core 1.4 GHz Cortex-A9)"

    Select Case cboBrand.SelectedItem

        Case "iphone5"
            txtAddress.Text = strIphone5
        Case "Sumsung s3"
            TextBox1.Text = strSumPhone

    End Select

  End Sub 
```

现在，如果您复制并粘贴此内容，请转到此子项的末尾，如果不存在则将其添加到其末尾...

```
 Handles cboBrand.SelectedIndexChanged 'Sometimes when copied it looses its handlers.. 
```

# php - 更改正则表达式以允许英文和日文字符

> ID：15151230
> 
> 赞同：7
> 
> 时间：2013-03-01T05:35:00.107
> 
> 标签：php, jquery, regex

这是我的正则表达式代码：

```
"onlyLetterSp": {
    "regex": /^[a-zA-Z\ \']+$/,
    "alertText": "* Letters only"
} 
```

如何更改它以允许英文字符和日文字符？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:45:03.513

我找到了这个链接：

[http://www.localizingjapan.com/blog/2012/01/20/regular-expressions-for-japanese-text/](http://www.localizingjapan.com/blog/2012/01/20/regular-expressions-for-japanese-text/)

显然，不同类型的日语有几个不同的字符集。

以平假名为例：

```
[\x3041-\x3096] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T09:56:44.330

您必须在寻找`u`代表*Unicode*的正则表达式修饰符。有了它，您可以使用 POSIX 符号`\w`来包含您喜欢的任何“单词”字符

# android - 如何保存更改/更新 ArrayList 在 onPause (Android) 中？

> ID：15151231
> 
> 赞同：0
> 
> 时间：2013-03-01T05:35:08.387
> 
> 标签：android, arraylist

请多多包涵，因为我对 Android 编程完全陌生。这是我在学校的计算机科学课上必须做的一个项目。我一直在阅读网站上的开发人员指南，并了解为了将更改保存在 Activity 中，我必须调用 onPause() 方法.

我的程序只是一个食谱库，允许用户添加条目并删除/编辑它们。我创建了一个 ArrayList 来存储食谱，并使用 List> 与 listView 和 SimpleAdapter 来显示集合。我阅读了有关 SavedPreferences 的信息，但似乎 SavedPreferences 最好在存储原语而不是对象时使用。一些 Google 搜索告诉我，有些人建议使用 onSaveInstanceState()。但是，它并不总是被调用，也不应用于保存更改。话虽如此，我将如何保存我的 ArrayList 以便在我退出时保存更改（即当我删除一个项目、退出并返回时，该项目保持删除状态）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:44:11.583

此处如果您要在执行任何操作后完成应用程序，则无法保存 ArrayList。最好使用 SQLite 数据库来存储数据并执行您提到的操作。

由于一旦您退出应用程序，局部变量总是会被清除，因此最好的方法是仅使用 SQL。

# java - DeploymentManagerCreationException

> ID：15151234
> 
> 赞同：1
> 
> 时间：2013-03-01T05:35:12.873
> 
> 标签：java, weblogic

当我在命令窗口中运行以下代码时

```
java weblogic.Deployer -adminurl localhost:7001 -user weblogic -password weblogic -start -name myTestDeployment" 
```

我收到以下错误：

```
javax.enterprise.deploy.spi.exceptions.DeploymentManagerCreationException at   
weblogic.deploy.api.spi.deploy.WebLogicDeploymentManagerImpl.<init>(W  
ebLogicDeploymentManagerImpl.java:121) at     
weblogic.deploy.api.spi.factories.internal.DeploymentFactoryImpl.getD 
eploymentManager(DeploymentFactoryImpl.java:84) at     
weblogic.deploy.api.tools.SessionHelper.getDeploymentManager(SessionH elper.java:432) at     
weblogic.deploy.api.tools.deployer.Jsr88Operation.connect(Jsr88Operat ion.java:304) at 
weblogic.deploy.api.tools.deployer.Deployer.perform(Deployer.java:137 ) at   
weblogic.deploy.api.tools.deployer.Deployer.runBody(Deployer.java:88) at   
weblogic.utils.compiler.Tool.run(Tool.java:158) at 
weblogic.utils.compiler.Tool.run(Tool.java:115) at   
weblogic.Deployer.run(Deployer.java:70)   at weblogic.Deployer.main(Deployer.java:54)   
Caused by: weblogic.deploy.api.spi.exceptions.ServerConnectionException at   
weblogic.deploy.api.spi.deploy.internal.ServerConnectionImpl.init(Ser   
verConnectionImpl.java:143) at   
weblogic.deploy.api.spi.deploy.WebLogicDeploymentManagerImpl.getNewCo   
nnection(WebLogicDeploymentManagerImpl.java:148) at   
weblogic.deploy.api.spi.deploy.WebLogicDeploymentManagerImpl.<init>(W   
ebLogicDeploymentManagerImpl.java:118) ... 9 more Caused by:   
javax.naming.CommunicationException [Root exception is java.net.Conne ctException:   
localhost:7001: Destination unreachable; nested exception is : java.net.ConnectException:  
 Connection refused: connect; No available rou ter to destination] at 

weblogic.jndi.internal.ExceptionTranslator.toNamingException(Exceptio nTranslator.java:40)  
 at weblogic.jndi.WLInitialContextFactoryDelegate.toNamingException(WLIni   
tialContextFactoryDelegate.java:773) at   
weblogic.jndi.WLInitialContextFactoryDelegate.getInitialContext(WLIni   
tialContextFactoryDelegate.java:363) at   
weblogic.jndi.Environment.getContext(Environment.java:307) at   
weblogic.jndi.Environment.getContext(Environment.java:277) at   
weblogic.jndi.Environment.createInitialContext(Environment.java:200) at   
weblogic.jndi.Environment.getInitialContext(Environment.java:184) at   
weblogic.jndi.Environment.getInitialContext(Environment.java:162) at   
weblogic.deploy.api.spi.deploy.internal.ServerConnectionImpl.getConte   
xt(ServerConnectionImpl.java:330) at   
weblogic.deploy.api.spi.deploy.internal.ServerConnectionImpl.getEnvir   
onment(ServerConnectionImpl.java:302) at   
weblogic.deploy.api.spi.deploy.internal.ServerConnectionImpl.init(Ser   
verConnectionImpl.java:141) ... 11 more Caused by: java.net.ConnectException:  
 localhost:7001: Destination unreach able; nested exception is: java.net.ConnectException:  
 Connection refused: connect; No available rou ter to destination at   
weblogic.rjvm.RJVMFinder.findOrCreate(RJVMFinder.java:204) at   
weblogic.rjvm.ServerURL.findOrCreateRJVM(ServerURL.java:154) at   
weblogic.jndi.WLInitialContextFactoryDelegate$1.run(WLInitialContextF   
actoryDelegate.java:342) at   
weblogic.security.acl.internal.AuthenticatedSubject.doAs(Authenticate dSubject.java:363)  
 at weblogic.security.service.SecurityManager.runAs(Unknown Source) at   
weblogic.jndi.WLInitialContextFactoryDelegate.getInitialContext(WLIni   
tialContextFactoryDelegate.java:337) ... 19 more Caused by: java.rmi.ConnectException:   
Destination unreachable; nested exception is: java.net.ConnectException: Connection   
refused: connect; No available rou ter to destination at   
weblogic.rjvm.ConnectionManager.bootstrap(ConnectionManager.java:472) at   
weblogic.rjvm.ConnectionManager.bootstrap(ConnectionManager.java:323) at   
weblogic.rjvm.RJVMManager.findOrCreateRemoteInternal(RJVMManager.java :263) at   
weblogic.rjvm.RJVMManager.findOrCreate(RJVMManager.java:206) at   
weblogic.rjvm.RJVMFinder.findOrCreateRemoteServer(RJVMFinder.java:226 ) at   
weblogic.rjvm.RJVMFinder.findOrCreateRemoteCluster(RJVMFinder.java:30 8) at   
weblogic.rjvm.RJVMFinder.findOrCreate(RJVMFinder.java:194) ... 24 more Unable to connect  
 to 'localhost:7001': Destination unreachable; nested ex ception is:   
java.net.ConnectException: Connection refused: connect; No available rou ter to   
destination. Ensure the url represents a running admin server and that th e credentials  
 are correct. If using http protocol, tunneling must be enabled on the admin server. 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-25T18:18:05.710

检查管理服务器是否在此服务器端口 7001 上运行：

```
javax.naming.CommunicationException [Root exception is java.net.Conne ctException:   
localhost:7001: Destination unreachable; nested exception is : java.net.ConnectException:  
 Connection refused: connect; No available rou ter to destination] 
```

# asp.net - 使用日期时间时如何按年份搜索

> ID：15151238
> 
> 赞同：1
> 
> 时间：2013-03-01T05:35:36.570
> 
> 标签：asp.net, sql-server-2008, search, datetime

我在 Visual Studio 2008 中有一个程序。
除了我无法`datagridview`按日期搜索之外，一切正常。
我需要能够输入年份，然后将显示具有该年份的每条记录。
我曾经`tableadapter`添加`buttons`按姓名和姓氏进行搜索的搜索，但是当我对日期执行相同操作时，它会显示“没有为一个或多个必需参数提供值”。
我曾经`datetime picker`获取日期的值。

我试过的代码是

```
SELECT        
  memberno, firstname, middlename, lastname, gender, emailadd, address, phone, datejoined
FROM
  Members
WHERE        
 (DATEPART(y, datejoined) = ?) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:46:28.623

您可以使用`datediff`如下功能

```
 SELECT DATEDIFF(year, '2005-12-31 23:59:59.9999999', '2006-01-01 00:00:00.0000000'); 
```

结合它

```
 SELECT 
      memberno, firstname, middlename, lastname, gender, 
      emailadd, address, phone, datejoined 
 FROM 
     Members 
 WHERE 
    DATEDIFF(year, '2005-12-31 23:59:59.9999999', yourdate)=0; 
```

## 编辑 1

我你正在从文本框（你想搜索的年份）中获取值，那么你可以这样做

```
 SELECT 
      memberno, firstname, middlename, lastname, gender, 
      emailadd, address, phone, datejoined 
 FROM 
     Members 
 WHERE 
    DATEDIFF(year, datejoined, textboxvalue)=0; 
```

## 编辑 2

```
 int Year=Int32.Prase(textbox1.text);     
  var date1 = new DateTime(Year, 1, 1, 4, 5, 6);
  var date2=new DateTime(year+1,1,1,4,5,6);

  date >= date1 and < date2 
```

# opengl - 图像加载导致 OpenGL 中的处理缓慢

> ID：15151240
> 
> 赞同：1
> 
> 时间：2013-03-01T05:35:40.733
> 
> 标签：opengl, textures, glut, soil

我目前正在做一个需要加载图像的项目。我正在使用 SOIL 库加载 JPEG 图像。我必须在投影区域移动球。在没有加载图像的情况下，球的运动可以正常工作，但随着图像的加载，它会变得缓慢。我应该怎么做才能在图像仍然加载的情况下顺利更新图形。

```
GLuint tex_2d = SOIL_load_OGL_texture
(
    "<image_path>ImageName.jpg",
    SOIL_LOAD_AUTO,
    SOIL_CREATE_NEW_ID,
    SOIL_FLAG_MIPMAPS | SOIL_FLAG_INVERT_Y | SOIL_FLAG_NTSC_SAFE_RGB | SOIL_FLAG_COMPRESS_TO_DXT
);

glBindTexture(GL_TEXTURE_2D, tex_2d);
glEnable(GL_TEXTURE_2D);
glBegin(GL_QUADS);
    glTexCoord3f(0.0f,0.0f,0.0f);        glVertex3f(factor*BOARD_BREADTH/2,-factor*BOARD_LENGTH/2,0);
    glTexCoord3f(0.0f,1.0f,0.0f);        glVertex3f(factor*BOARD_BREADTH/2,factor*BOARD_LENGTH/2,0);
    glTexCoord3f(1.0f,1.0f,0.0f);        glVertex3f(-factor*BOARD_BREADTH/2,factor*BOARD_LENGTH/2,0);
    glTexCoord3f(1.0f,0.0f,0.0f);        glVertex3f(-factor*BOARD_BREADTH/2,-factor*BOARD_LENGTH/2,0);
glEnd(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T08:28:05.267

> 我应该怎么做才能在图像仍然加载的情况下顺利更新图形。

每次重绘都不会重新加载图像。同样做你现在做的事情会导致大量内存泄漏，因为你可能不会删除每帧创建的纹理。将整体移动`tex_2d = SOIL_load_OGL_texture`到一次性初始化代码中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T12:15:06.980

简单的程序风格：

```
init() {
    // load texture here
    // load shaders and other resources
}

render() {
    // use resources here to draw something       
} 
```

主要代码：

```
main() {
    init();
    while(still_running())
    {
        // update all
        render();
    }
    // clean up here
} 
```

请注意，`init`它只调用一次，但`render`每秒调用 60 次。在您的代码中，您每秒创建 60 个纹理！（尽管它们具有相同的像素！）

# wordpress - 如何删除每个页面上的主页导航链接？

> ID：15151241
> 
> 赞同：0
> 
> 时间：2013-03-01T05:35:41.320
> 
> 标签：wordpress

我正在开发一个 wordpress 网站。我的网站共有三个页面，例如：主页、第一页和第二页。我的问题是每当我从主页移动到另一个页面时，例如主页到一个页面，然后主页->一个这种类型的导航链接显示在每个页面上，例如主页->页面名称。如何删除此链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T08:43:53.760

尝试在 header.php（或 index.php 等）中找到面包屑的代码并将其删除或放置在它们之间 `<!--breadcrumb's code-->`

如果您的主题有自定义选项菜单，您可以关闭面包屑。核实。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:48:15.543

您使用的是哪个 WordPress 版本？

可能是您的主题支持面包屑功能。您可以从管理员端进行检查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T08:59:24.300

还要仔细检查第一页和第二页是否是主页的子页。

![WP-页面属性](../Images/671f7bfda62d562022dbbd70fb6707d9.png)

# javascript - 仅在 IndexedDB 中更新对象后运行代码（尤其是在 Chrome 中）

> ID：15151242
> 
> 赞同：3
> 
> 时间：2013-03-01T05:35:49.063
> 
> 标签：javascript, google-chrome, asynchronous, cross-browser, indexeddb

我觉得这是一件很平凡的事情。我想更新 IndexedDB 数据库中的对象，然后运行一些代码，然后使用更新的值。

我最初所做的只是在调用 之后运行我的回调函数`cursor.update`，这在 Firefox 中有效。但它在 Chrome 中失败，在运行以下代码之前不会发生更新。这可能是一种竞争条件，因为（据我所知）更新是异步的。

所以我想我应该使用`onsuccess`信号`cursor.update`来调用我的回调函数。但令我惊讶的是，这似乎在 Chrome 中也不起作用！

您可以在 jsFiddle 上运行的一些示例代码[......虽然有趣的是，由于某种原因，这似乎在 jsFiddle 中的 Firefox 中崩溃了，但 Chrome 工作正常；对于 Firefox，您可以在本地运行它并且它可以工作](http://jsfiddle.net/aQgnq/1/)（这会在浏览器的 JavaScript 控制台上产生输出）：

```
<html>
<head>
<script>
var db, request;

request = indexedDB.open("test", 1);
request.onupgradeneeded = function (event) {
    var i, leagueStore, teams, teamStore;

    db = event.target.result;

    objectStore = db.createObjectStore("objects", {keyPath: "id"});
};
request.onsuccess = function (event) {
    db = request.result;

    // Add some dummy data
    db.transaction("objects", "readwrite").objectStore("objects").put({
        id: 0,
        value: 42
    });

    // Update data
    db.transaction("objects", "readwrite").objectStore("objects").openCursor(0).onsuccess = function (event) {
        var cursor, object;

        cursor = event.target.result;
        object = cursor.value;
        object.value = 43;
        cursor.update(object).onsuccess = function (event) {
            db.transaction("objects").objectStore("objects").get(0).onsuccess = function (event) {
                console.log("Cursor update onsuccess event:");
                console.log(event.target.result);
            };
        };

        // Read back updated data
        db.transaction("objects").objectStore("objects").get(0).onsuccess = function (event) {
            console.log("The line after the cursor update:");
            console.log(event.target.result);
        };

        // Wait a little bit, then read it back
        setTimeout(function () {
            db.transaction("objects").objectStore("objects").get(0).onsuccess = function (event) {
                console.log("After an additional delay via setTimeout:");
                console.log(event.target.result);
            };
        }, 100);
    };
};
</script>
</head>
</html> 
```

观察到的行为（全部在 Ubuntu 12.10，FWIW 上）：

在 Firefox 19（当前稳定版本）中，所有三个记录的对象都是相同的，`value`设置为 43：

```
The line after the cursor update:
Object {id: 0, value: 43}
Cursor update onsuccess event:
Object {id: 0, value: 43}
After an additional delay via setTimeout:
Object {id: 0, value: 43} 
```

在 Chrome 25（当前稳定版本）和 27（当前不稳定版本）中，我通常会得到以下输出：

```
The line after the cursor update:
Object {id: 0, value: 42}
Cursor update onsuccess event:
Object {id: 0, value: 42}
After an additional delay via setTimeout:
Object {id: 0, value: 43} 
```

有时前两个输出中的一个更新为 43，但通常是 42。

再说一次，我的问题是......更新实际完成后如何运行某些东西？（也就是说，不依赖于由 . 引起的一些荒谬的任意延迟`setTimeout`。）

替代问题：我做错了什么，还是 Chrome 中的错误？

附带问题：如果有人有 IE 10，我想知道它在这种情况下的表现如何..

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-01T10:40:12.563

您不需要 setTimeout，只需等待事务完成，如下所示：

```
// Update data
var tx = db.transaction("objects", "readwrite");

tx.objectStore("objects").openCursor(0).onsuccess = function (event) {
    var cursor, object;

    cursor = event.target.result;
    object = cursor.value;
    object.value = 43;
    cursor.update(object).onsuccess = function (event) {
        db.transaction("objects").objectStore("objects").get(0).onsuccess = function (event) {
            console.log("Cursor update onsuccess event:");
            console.log(event.target.result);
        };
    };

};

tx.oncomplete = function() {     
    // Read back updated data
    db.transaction("objects").objectStore("objects").get(0).onsuccess = function (event) {
        console.log("The line after the cursor update:");
        console.log(event.target.result);
   };
 } 
```

这是 IndexedDB API 令人困惑的方面之一。请求 onsuccess 并不意味着您的成功已写入数据库。只有交易完成确认。原因是，您仍然可以`tx.abort()`在写入请求后中止事务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T09:19:24.933

我使用 promise 模式来避免 settimeout 和[JayData 库](http://jaydata.org)来统一数据访问和隐藏光标 API。包含库（include.jaydata.org/jaydata.min.js）后，代码片段如下所示（[在线 jsfiddle](http://jsfiddle.net/JayData/23WCb/)）：

```
$data.Entity.extend("Todo", {
    Id: { type: "int", key: true, computed: true },
    Task: { type: String, required: true, maxLength: 200 }
});

$data.EntityContext.extend("TodoDatabase", {
    Todos: { type: $data.EntitySet, elementType: Todo }
});

var todoDB = new TodoDatabase({ 
    provider: 'indexedDb', databaseName: 'MyTodoDatabase'
});

todoDB.onReady(function() {
    var newTodo = new Todo({Task: "alma"});
    todoDB.Todos.add(newTodo);
    todoDB.saveChanges()
    .then(function() {
        console.log("Initial value: ", newTodo.Task);
        todoDB.Todos.attach(newTodo);
        newTodo.Task = "korte";
        return todoDB.Todos.saveChanges();
    })
    .then(function(){
        console.log("Updated value: ", newTodo.Task);
        return todoDB.Todos
        .filter(function(t) {return t.Id == item.Id;}, {item: newTodo})
        .toArray(function(dbResult){
            var todoFromDb = dbResult[0];
            console.log("Value from DB: ", todoFromDb.Task);
        });
    })

}); 
```

它的代码要少得多，您只需更改提供程序的类型即可更改为 WebSQL :)

# ruby - 当我将 ruby 更新到 2.0.0-p0 时，我的 vim 无法工作

> ID：15151244
> 
> 赞同：2
> 
> 时间：2013-03-01T05:35:54.190
> 
> 标签：ruby, vim, rvm

我不确定是什么原因造成的，但我做了这些：

1.  rvm 要求

    我做了这个`brew install autoconf automake libtool pkg-config openssl readline libyaml sqlite libxml2 libxslt libksba`

2.  `rvm install ruby-2.0.0-p0`

然后，当我键入时`vim`，它显示如下：

> dyld：库未加载：/Users/Daniel-Xu/.rvm/rubies/ruby-1.9.3-p327/lib/libruby.1.9.1.dylib
> 
> 引用自：/usr/local/bin/vim
> 
> 原因：找不到图像 跟踪/BPT 陷阱：5

我已经用谷歌搜索过这个，但我不确定他们是否和我的情况一样，所以我非常感谢大家的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-12-26T01:06:30.723

由于您使用的是自制软件，您应该能够重新安装 vim 以使其编译并与您当前安装的库链接。

```
brew uninstall --force vim
brew install vim 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T07:56:24.250

如果您从自制软件中获得 Vim，那么它很可能是针对特定版本的 Ruby (1.9.3) 构建的。官方的 MacVim 二进制下载不应该关心你的 Ruby 版本。

有些人在使用 Command-T 时也遇到了麻烦，因为它的价值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:01:14.997

看起来您的`vim`插件/设置需要`ruby`美化您的`.rb`-files 编辑体验。它想要加载`1.9.3`（根据 dyld 的错误信息）。首先，让我们看看您的机器上有哪些 ruby​​ 版本：

```
~ rvm list

rvm rubies

   ruby-1.9.3-p327 [ x86_64 ]
=* ruby-2.0.0-preview2 [ x86_64 ]

# => - current
# =* - current && default
#  * - default 
```

在我的机器上有两颗红宝石，`2.0.0`是默认的一颗。好的，让我们`1.9.3`与 vim 一起使用：

```
~ rvm use ruby-1.9.3-p327 && vim 
```

这应该应用猴子修复并恢复您的 vim。但问题肯定更深，似乎是由您的一个 vim 插件引起的，可能与`2.0.0`（几乎不）不兼容，或者需要为`ruby 2.0.0`.

# java - 如何在 Eclipse RCP 中添加任意 ProblemMarker？

> ID：15151248
> 
> 赞同：0
> 
> 时间：2013-03-01T05:36:22.233
> 
> 标签：java, eclipse-rcp

在不依赖任何外部验证的情况下，我只想调用一个 IAction（比如从文件上的右键菜单选项中）并创建一个 ProblemMarker。我只会在 IAction 中拥有自己的验证逻辑，它会验证文件输入并将此 ProblemMarker 添加到具有给定自定义消息的给定位置。它也可以删除所有标记。我假设如果你可以添加一个标记，你也可以删除一个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T17:16:26.947

为了创建新标记，您需要标记的资源和位置。这是一个如何创建标记的示例。 `res.createMarker("markerId");`创建具有给定 id 的标记。您可以使用扩展点创建自定义标记或使用定义的 from eclipse。您可以在中找到定义的标记`org.eclipse.core.resources.IMarker`

```
protected static void createBasicMarker(final IResource res, Position pos) throws CoreException {
    final IMarker marker = res.createMarker("markerId");
    annotation.setMarker(marker);
    marker.setAttribute(IMarker.CHAR_START, position.getOffset());
    marker.setAttribute(IMarker.CHAR_END, position.getOffset() + position.getLength());
    marker.setAttribute(IMarker.SEVERITY, 1);
marker.setAttribute(IMarker.PRIORITY, IMarker.PRIORITY_LOW);
    setMarkerMessage(annotation, marker);
} 
```

# vba - 需要使用 VBA 在具有相同键的多个记录中返回最大值

> ID：15151250
> 
> 赞同：0
> 
> 时间：2013-03-01T05:36:32.913
> 
> 标签：vba, excel

我正在编写一个 VBA 函数，它将在表的列（例如列 C）中搜索一个值。此列可以有重复项。因此，我的搜索需要获取与该值匹配的所有记录（包括重复项），并且从这些记录中，我只需要返回在同一张表的另一列（例如 G 列）中获取的记录中具有最大值的记录中的一个值。

例如：

```
sno    dept    name     marks
1      cs      sush     55
2      ece     ram      68
3      cs      harish   77 
```

因此，如果我给“cs”值进行搜索，它必须给我 77 作为输出。我尝试编写自己的查找函数，但没有工作并获得#value。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:41:40.617

```
Function search(criteria As String)
    Dim rng As Range
    Set rng = Range("A1").CurrentRegion

    Range("Z1").CurrentRegion.Clear
    If Not rng Is Nothing Then
        rng.AdvancedFilter xlFilterCopy, "", Range("Z1"), True
        Range("AC1").Sort Key1:=Range("AA1"), Key2:=Range("AC1"), Header:=xlYes, Order2:=xlDescending
    End If

    search = Application.VLookup(criteria, Range("AA:AC"), 3, 0)

End Function 
```

# python - 如何提取给定数据框df的最后3次事件'y'的日期范围？

> ID：15151251
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:36:43.337
> 
> 标签：python, pandas

给定具有以下数据的数据框，如何使用 python 和 pandas 提取给定事件“Y”的最后 3 次出现？

```
 Date Customer Event
0    1/1/2013      Tom     N
1    1/3/2013      Tom     Y
2    1/5/2013    Harry     Y
3    1/7/2013     Dick     N
4    1/9/2013      Tom     Y
5   1/11/2013      Tom     Y
6   1/13/2013    Harry     N
7   1/15/2013     Dick     Y
8   1/17/2013      Tom     Y
9   1/19/2013      Tom     N
10  1/21/2013    Harry     Y
11  1/23/2013     Dick     Y
12  1/25/2013      Tom     N
14  1/29/2013    Harry     Y
15  1/31/2013     Dick     N
16   2/2/2013      Tom     Y
17   2/4/2013      Tom     Y
18   2/6/2013    Harry     N
19   2/8/2013     Dick     Y
20  2/10/2013      Tom     Y
21  2/12/2013      Tom     N 
```

预期结果应该是

```
 Start           End
Tom     2/2/2013    2/10/2013
Harry   1/5/2013    1/29/2013
Dick    1/15/2013   2/8/2013 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T06:24:54.853

如果 DataFrame 名为 df，您可以尝试：

```
 df[df['Event'] == 'Y'][-3:] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T13:51:24.683

阿努潘，谢谢你的提示。无论客户如何，您的建议都会返回 Event == 'Y' 的最后 3 个事件

```
df[df['Event'] == 'Y'][-3:]
Out[133]: 
    Date         Customer Event
17  2/4/2013     Tom      Y
19  2/8/2013     Dick     Y
20  2/10/2013    Tom      Y 
```

我需要每个客户最后 3 个“Y”事件的日期范围。我确信有一种更有效的方法，但以下方法有效。

```
df.ix[df.Customer == 'Tom'].ix[df.ix[df.Customer == 'Tom'].Event == 'Y'][-3:]
Out[134]: 
     Date          Customer Event
16   2/2/2013      Tom      Y
17   2/4/2013      Tom      Y
20  2/10/2013      Tom      Y

df.ix[df.Customer == 'Dick'].ix[df.ix[df.Customer == 'Dick'].Event == 'Y'][-3:]
Out[135]: 
     Date         Customer Event
7    1/15/2013    Dick     Y
11   1/23/2013    Dick     Y
19   2/8/2013     Dick     Y 
```

等等等等

谢谢

# r - 从 at stat 获取 ap 值

> ID：15151254
> 
> 赞同：3
> 
> 时间：2013-03-01T05:37:06.407
> 
> 标签：r

我正在比较两组的一长串观察结果，我有 t 统计量和每个观察的自由度，但我实际上没有原始数据。尽管如此，我还是想获得与 t 统计量相关的 p 值。我知道这是可能的，但我不知道如何让 R 报告回 ap 值。有什么建议吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-01T05:51:51.217

Distributions 上的[任务视图](http://cran.r-project.org/web/views/Distributions.html)应该是您回答此类问题的第一个停靠点

去引用

> 对于大多数经典分布，基数 R 提供概率分布函数 (p)、密度函数 (d)、分位数函数 (q) 和随机数生成 (r)。除了这个基本功能之外，许多 CRAN 包还提供了其他有用的发行版。特别是，多变量分布以及 copula 在贡献包中可用。

您在`t`分布之后，并且是概率分布函数中的一个值，因此您所追求的函数是`pt`

```
pt(q, df) 
```

`q`你在哪里`quantile`，在这种情况下是你观察到的检验统计量，以及`df`自由度

我不确定您的意思是什么`the degrees of freedom for *each* observation`，我想您的意思是您知道每组中的观察次数。

因此，如果您假设组内方差相等，则自由度将为`n1+n2 - 2`，否则您需要考虑不等方差并获得近似的自由度（[Welch-Satterthwaite 修正](http://en.wikipedia.org/wiki/Welch%27s_t_test)）

# r - 将数据写入特定的工作簿表

> ID：15151255
> 
> 赞同：2
> 
> 时间：2013-03-01T05:37:09.650
> 
> 标签：r, excel

我有一个数据框，例如

```
a=1:10 
b=31:40
c=data.frame(a=a,b=b) 
```

我需要将此数据框写入特定的 Excel 工作表（“Sheet1”）。

我现在使用的是 WriteXLS，但是这个函数总是会覆盖整个 excel 文件，因此会删除其他工作表。如何在不覆盖以前条目的情况下附加到工作表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T08:27:33.097

这将在不更改现有工作表的情况下将新命名工作表添加到现有 Excel 工作簿：

```
# create data in R
a = 1:10 
b = 31:40
c0 = data.frame(a=a,b=b)

#  write data object 'c0' to existing Excel file 
# 'Book1.xlsx' into a new sheet called 'Sheet1'
library(XLConnect)
writeWorksheetToFile(file = "C:/.../Book1.xlsx", data = c0, sheet = "Sheet1") 
```

请注意，如果工作簿已经有一个，`Sheet1`那么这个函数会默默地覆盖它。因此，您需要确保您的工作表名称是唯一的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T06:12:18.777

试试 xlsx 包。你有函数 write.xlsx() 允许你指定一个名字表，你可以完成一个现有的 excel。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-13T13:09:01.273

您可以通过以下方式简单地写入现有 Excel 文件的新工作表，而无需修改现有工作表或任何其他信息：

```
library(xlsx)
a=1:10 
b=31:40
c=data.frame(a=a,b=b)

write.xlsx(c, "existing_Excel_file.xlsx", sheetName="New sheet name",  append=TRUE) 
```

请记住将write.xlsx的**append参数设置为****TRUE**，并确保您正在写入的 Excel 文件位于您当前的工作目录中。

# php - 选择 Zend Db with array

> ID：15151258
> 
> 赞同：0
> 
> 时间：2013-03-01T05:37:34.987
> 
> 标签：php, zend-framework, zend-db

使用 Zend 通过数组选择多行的正确语法是什么？所以基本上获取所有具有名称等的数据`$a OR $b`。取决于数组元素的数量。我想不通…………

```
public function selectRow($array) 
{
    $data = $this->table->select()
                        ->where('name = ?', $array);
    return $this->table->fetchAll($data);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:49:05.883

您可以`orWhere()`在 Zend_Db_Select 中使用。检查手册[Zend_Db_Select::where()](http://framework.zend.com/manual/1.12/en/zend.db.select.html#zend.db.select.building.where)。

```
public function selectRow($array) 
{
    $data = $this->table->select()
                        ->where('name = ?', $array)
                        ->orWhere('address = ?', $anotherarray);
    return $this->table->fetchAll($data);
} 
```

*   当 where 条件包含值数组时`IN`使用会更好`NOT IN`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:51:18.910

你必须使用`IN clause`它。所以试试，

```
$data = $this->table->select()
                    ->where('name IN (?)', $array); 
```

# javascript - 如何在 PhoneGap 中使用 Magento API Soap Web 服务

> ID：15151260
> 
> 赞同：2
> 
> 时间：2013-03-01T05:37:38.347
> 
> 标签：javascript, magento, jquery, cordova

我正在使用 PhoneGap 进行 iOS 开发。我正在尝试使用PhoneGap 中[的 SOAP Web 服务调用 Magento API 。](http://www.magentocommerce.com/api/soap/introduction.html)我的场景是我想将用户名和 apikey 发送到 Web 服务。由于它是在 jQuery-Ajax 和 javascript 的帮助下基于客户端的，因此我尝试将数据发送到 Web 服务但失败了。

当我尝试使用 Jquery-Ajax 时，我收到一个 XML 解析错误，将“0”作为错误消息（跨域问题）。在 Javascript 中，我可以正确获得响应，但不知道如何将用户名和 apikey 发送到 Web 服务，下面是我使用的脚本代码，

```
<script type="text/javascript">
    // Create the XHR object.

  function createCORSRequest(method, url) {
    var xhr = new XMLHttpRequest();
    if ("withCredentials" in xhr) {
       // XHR for Chrome/Firefox/Opera/Safari.
       xhr.open(method, url, true);
    } else if (typeof XDomainRequest != "undefined") {
      // XDomainRequest for IE.
         xhr = new XDomainRequest();
         xhr.open(method, url);
      } else {
     // CORS not supported.
        xhr = null;
   }return xhr;

// Make the actual CORS request.

function makeCorsRequest() {
   // All HTML5 Rocks properties support CORS.
   var url = 'my WSDL link for magento api';
   var xhr = createCORSRequest('GET', url);
   if (!xhr) {
      alert('CORS not supported');
   return;}
   // Response handlers.
   xhr.onload = function() {
   var text = xhr.responseText;
      alert('Response from CORS request to ' + url);
   };
   xhr.onerror = function() {
      alert('Woops, there was an error making the request.');
   };
  xhr.send();
}
</script> 
```

这里我不知道如何将用户名和 apikey 发送到这个 Soap Web 服务。

任何人都可以建议我

*   如何将用户名和 apikey 发送到肥皂网络服务？
*   有没有其他方法可以使用客户端编程将数据发送到肥皂网络服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:57:03.580

我认为您无需避免jquery的跨域问题。

1.一个简单的'jsonp'会帮你解决你的问题。2.您可以在服务器端修改响应头。请参考我下面的 c# 代码：

```
HttpContext.Current.Response.AppendHeader("Access-Control-Allow-Origin", "*"); 
```

# vb.net - 如何从文本文件中删除和计算单词？

> ID：15151267
> 
> 赞同：1
> 
> 时间：2013-03-01T05:38:17.780
> 
> 标签：vb.net, information-retrieval

我想为特定文件集合中的文本文件找到术语频率和反转文档频率 (TF-IDF)。

所以在这种情况下，我只想计算文件中的总单词，文件中特定单词的出现次数，并删除像`a`, `an`,`the`等这样的单词。

vb.net 中有解析器吗？
提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:11:39.800

最简单的方法是将文本文件读入单个字符串，然后使用 .NET 框架查找匹配项：

```
Dim text As String = File.ReadAllText("D:\Temp\MyFile.txt")
Dim index As Integer = text.IndexOf("hello")
If index >= 0 Then
   ' String is in file, starting at character "index"
End If 
```

或解决方案 2 您需要 StreamReader 和 Regx。

```
//read file content in StreamReader
StreamReadertxt Reader = new StreamReader(fName);
szReadAll = txtReader.ReadToEnd();//Reads the whole text file to the end
txtReader.Close(); //Closes the text file after it is fully read.
txtReader = null;
//search word in file content
if (Regex.IsMatch(szReadAll, "SearchME", RegexOptions.IgnoreCase))//If the match is found in allRead
  MessageBox.Show("found");
else
  MessageBox.Show("not found"); 
```

就是这样，我希望这能解决您的疑问。问候

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T15:54:47.063

我知道的最简单的方法是：

```
Private Function CountWords(Filename as String) As Integer
    Return IO.File.ReadAllText(Filename).Split(" ").Count 
End Function 
```

如果要删除单词，您可以：

```
Private Sub RemoveWords (Filename as String, DeleteWords as List(Of String))
    Dim AllWords() As String = IO.File.ReadAllText(Filename).Split(" ")
    Dim RemainingWords() As String = From Word As String In AllWords
                                     Where DeleteWords.IndexOf(Word) = -1

    'Do something with RemainingWords ex:
    'IO.File.WriteAllText(Filename, String.Join(vbNewLine, RemainingWords)
End Sub 
```

这假设单词用空格分隔

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:03:02.397

也许[正则表达式](http://msdn.microsoft.com/en-us/library/hs600312.aspx)会帮助你：

```
Using System.IO
Using System.Text.RegularExpressions

...

Dim anyWordPattern As String = "\b\w+\b"
Dim myWordPattern As String = "\bMyWord\b"
Dim replacePattern As String = "\b(?<sw>a|an|the)\b"
Dim content As String = File.ReadAllText(<file name>)
Dim coll = Regex.Matches(content, anyWordPattern)
Console.WriteLine("Total words: {0}", coll.Count)
coll = Regex.Matches(content, myWordPattern, RegexOptions.Multiline Or RegexOptions.IgnoreCase)
Console.WEriteLine("My word occurrences: {0}", coll.Count)
Dim replacedContent = Regex.Replace(content, replacePattern, String.Empty, RegexOptions.Multiline Or RegexOptions.IgnoreCase)
Console.WriteLine("Replaced content: {0}", replacedContent) 
```

使用的正则表达式的解释：

*   \b - 单词边界；
*   \w - 任何单词字符；
*   + - 量词，1 或多个；
*   (?...) - 命名组，称为“sw” - 停用词
*   a|an|the - 备选方案，“a”或“an”或“the”

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T07:14:34.863

你可以尝试这样的事情：

```
Dim text As String = IO.File.ReadAllText("C:\file.txt")
Dim wordsToSearch() As String = New String() {"Hello", "World", "foo"}
Dim words As New List(Of String)()
Dim findings As Dictionary(Of String, List(Of Integer))

'Dividing into words'
words.AddRange(text.Split(New String() {" ", Environment.NewLine()}, StringSplitOptions.RemoveEmptyEntries))
'Discarting all the words you dont want'
words.RemoveAll(New Predicate(Of String)(AddressOf WordsDeleter))

findings = SearchWords(words, wordsToSearch)

Console.WriteLine("Number of 'foo': " & findings("foo").Count) 
```

以及使用的功能：

```
Private Function WordsDeleter(ByVal obj As String) As Boolean
    Dim wordsToDelete As New List(Of String)(New String() {"a", "an", "then"})
    Return wordsToDelete.Contains(obj.ToLower)
End Function

Private Function SearchWords(ByVal allWords As List(Of String), ByVal wordsToSearch() As String) As Dictionary(Of String, List(Of Integer))
    Dim dResult As New Dictionary(Of String, List(Of Integer))()
    Dim i As Integer = 0

    For Each s As String In wordsToSearch
        dResult.Add(s, New List(Of Integer))

        While i >= 0 AndAlso i < allWords.Count
            i = allWords.IndexOf(s, i)
            If i >= 0 Then dResult(s).Add(i)
            i += 1
        End While
    Next

    Return dResult
End Function 
```

# jboss - 如何从 jboss-5 向 jboss-7 发送消息

> ID：15151275
> 
> 赞同：2
> 
> 时间：2013-03-01T05:39:38.713
> 
> 标签：jboss, jms, jboss7.x, jboss5.x

有两个应用程序。之前这两个应用程序都在 jboss-5 中运行。现在其中一个将迁移到 jboss7

两个应用程序都通过 JMS 队列相互通信。从基础研究我了解到，我们需要通过以下方式提供 URL 来访问 jboss-7 中的 hornetq

```
private static final String PROVIDER_URL = "remote://localhost:4447"; 
```

我也知道在 jboss-7 中我们需要使用用户名和密码访问队列，即，`SECURITY_PRINCIPAL`

但据我所知，这些事情无法在 jboss-5 中实现。请告诉我，无论如何我可以从 jboss-5 向驻留在 jboss-7 中的队列发送消息吗？

# c# - 按日期查找月份的星期几

> ID：15151277
> 
> 赞同：0
> 
> 时间：2013-03-01T05:39:49.950
> 
> 标签：c#, datetime, weekday

我正在尝试通过在 C# 中传递日期来查找每月的工作日数。

例如：如果我通过“2013 年 3 月 6 日（2013 年 3 月 6 日）”，该函数应该显示每月的第一个星期三。如果我通过“2013 年 3 月 1 日（2013 年 3 月 1 日）”，该函数应该显示每月的第一个星期五。如果我通过“2013 年 3 月 13 日（2013 年 3 月 13 日）”，该函数应该显示每月的第二个星期三。

我试图使用这个函数，但它返回一个月的一周（即通过“3/6/2013（6-Mar-2013）”返回 2）：

```
public static int GetWeekOfMonth(DateTime date)
        {
            DateTime beginningOfMonth = new DateTime(date.Year, date.Month, 1);

            while (date.Date.AddDays(1).DayOfWeek != CultureInfo.CurrentCulture.DateTimeFormat.FirstDayOfWeek)
                date = date.AddDays(1);

            return (int)Math.Truncate((double)date.Subtract(beginningOfMonth).TotalDays / 7f) + 1;
        } 
```

请建议如何获取每月的工作日数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:50:38.537

这是我快速拼凑的东西：

```
public static int GetWeekOfMonth(DateTime dateTime)
{
    DayOfWeek dayOfWeek = dateTime.DayOfWeek;
    DateTime dayStep = new DateTime(dateTime.Year, dateTime.Month, 1);
    int returnValue = 0;

    while (dayStep <= dateTime)
    {
        if (dayStep.DayOfWeek == dayOfWeek)
        {
            returnValue++;
        }

        dayStep = dayStep.AddDays(1);
    }

    return returnValue;
} 
```

这是相同的方法，只是它返回一个字符串，例如“1st”、“2nd”、“3rd”等，而不是简单的 INT。序数代码基于 samjudson 在这篇文章中的代码：[有一种简单的方法可以在 C# 中创建序数吗？](https://stackoverflow.com/questions/20156/is-there-an-easy-way-to-create-ordinals-in-c)

```
public static string GetWeekOfMonth(DateTime dateTime)
{
    DayOfWeek dayOfWeek = dateTime.DayOfWeek;
    DateTime dayStep = new DateTime(dateTime.Year, dateTime.Month, 1);
    int returnValue = 0;

    while (dayStep <= dateTime)
    {
        if (dayStep.DayOfWeek == dayOfWeek)
        {
            returnValue++;
        }

        dayStep = dayStep.AddDays(1);
    }

    switch (returnValue % 100)
    {
        case 11:
        case 12:
        case 13:
            return returnValue.ToString() + "th";
    }

    switch (returnValue % 10)
    {
        case 1:
            return returnValue.ToString() + "st";
        case 2:
            return returnValue.ToString() + "nd";
        case 3:
            return returnValue.ToString() + "rd";
        default:
            return returnValue.ToString() + "th";
    }
} 
```

最后，这将返回“每月的第二个星期三”：

```
DateTime dt = DateTime.Parse("2013-03-13");
string dateString = string.Format("{0} {1} of month", GetWeekOfMonth(dt), dt.ToString("dddd")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:03:04.140

```
public static int GetWeekOfMonth(DateTime date)
{
  var weekDay = date.DayOfWeek;
  var nth = date.Day / 7;
  if (date.Day % 7 > 0)
  {
    nth++;
  }
  return nth;
} 
```

**编辑：** `var weekDay...`实际上不需要。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-02T21:38:49.190

这真的很简单，我想。如果某月的某天是`1`through `7`，则结果是`1`，如果某月的某日是`8`through `14`，则结果是 ，`2`以此类推。所以：

```
public static int GetWeekOfMonth(DateTime date)
{
    return (date.Day + 6) / 7;
} 
```

这是因为`/`当操作数（除数和除数）是整数时定义除法的方式，请参阅[`/`运算符（C# 参考）](http://msdn.microsoft.com/en-us/library/3b1ff23f.aspx)。

# jsf - 在 JSF 中使用表达式语言获取 h:outputtext 的值

> ID：15151286
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:40:26.413
> 
> 标签：jsf, el

我必须获取 h:outputtext 的值才能使用表达式语言评估条件。我正在使用下面的代码。但出现“org.apache.jasper.JasperException: /test.jsp(43,20) PWC6296: The function element must be used with a prefix when a default namespace is not specified”错误。

请帮助我如何检查条件。

```
<h:outputText id="myname" value="Sumit" />
<h:graphicImage height="84px" width="255px" value="/images/LogoDistributor.jpg" rendered="#{element('myname')=='sumit'}"></h:graphicImage>
<h:graphicImage height="84px" width="255px" value="/images/LogoGold.jpg" rendered="#{element('myname')=='sumt'}"></h:graphicImage>
<h:graphicImage height="84px" width="255px" value="/images/LogoPlat.jpg" rendered="#{element('myname')=='Sumit'}"></h:graphicImage> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T10:34:49.133

You should call the function element('...') over its bean class like:

```
rendered="#{MyBean.element('myname').equals('sumit')}" 
```

MyBean here, is the class containing the method element('...'). It should be a jsf managed bean.

# php - phpexcel文件：创建文件后将字符串数据类型解析为数字

> ID：15151289
> 
> 赞同：1
> 
> 时间：2013-03-01T05:40:51.153
> 
> 标签：php, phpexcel

我正在使用 php excel 创建 excel 文件。我正在从从 MySQL 数据库中获取的 php 数组值填充我的 excel 文件。我在第一列中有字符串数据类型。但是在创建 excel 文件后，像 0987 这样的字符串会被转换为 987 并自动对齐到单元格的右侧。我真的不想要excel文件的这个默认功能。我该如何解决这个问题。任何提示/解决方案...帮助我...

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-01T06:22:52.233

我这样做：

```
$objPHPExcel->getActiveSheet()->setCellValue('A1', '="0987"') 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-01T07:28:07.143

任何一个：

```
// Set the value explicitly as a string
$objPHPExcel->getActiveSheet()
    ->setCellValueExplicit(
        'A1', 
        '0987', 
        PHPExcel_Cell_DataType::TYPE_STRING
    ); 
```

或者

```
// Set the value as a number formatted with leading zeroes
$objPHPExcel->getActiveSheet()
    ->setCellValue('A3', 987);
$objPHPExcel->getActiveSheet()
    ->getStyle('A3')
    ->getNumberFormat()
    ->setFormatCode('0000'); 
```

请注意，在第一种情况下，我调用的是 setCellValueExplicit() 方法，而不是 setCellValue() 方法。

如果您使用 fromArray() 方法一步填充数据块，那么后一种方法可能更容易，尤其是当您填充所有数据后，您可以一步设置整个单元格块的样式.

```
$objPHPExcel->getActiveSheet()
    ->getStyle('A3:A123')
    ->getNumberFormat()
    ->setFormatCode('0000'); 
```

# c - 无法理解为什么 c 中的 malloc 函数会按照下面的说明进行操作？

> ID：15151291
> 
> 赞同：1
> 
> 时间：2013-03-01T05:41:27.060
> 
> 标签：c, malloc

当我编写以下代码时，我得到了奇怪的答案。

```
#include<stdio.h>
#include<stdlib.h>
main()
{
int *p=malloc(1);
if(p==0)
printf("memory not assigned\n");
else
{
printf("memory assigned\n");
printf("enter an int\t");
scanf("%d",p);
printf("\n You entered number %d",*p);
printf("\nIt has been stored at-%p",p);
}
} 
```

我认为 malloc 将参数作为字节数。所以在这里我输入了 1 个字节，我知道在我的机器上 int 需要 4 个字节进行存储（通过 sizeof() ）但代码仍然没有显示错误，我可以输入一个 int 值。即使我输入 3333333 它也不会抱怨。如果我使用 malloc() 而不是 malloc(1) gcc 抱怨 malloc 的参数太少但仍然给出相同的结果。我无法理解这种行为。有人请澄清一下。

我通过虚拟盒在 gcc 上运行它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:46:08.987

正如你所说，如果你这样做：

```
int *p=malloc(1); 
```

只会分配 1 个字节。由于 int 大于 1 字节，它将超出分配的内存并给您未定义的行为。如果你这样做：

```
int *p=malloc(sizeof(int)); 
```

然后将有足够的空间容纳整数。

当您在分配的内存范围之外运行时，C 不会警告您，因此您需要仔细管理 malloc 的大小。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T06:53:50.770

“现代”环境中的 Malloc 对不同长度使用不同类型的分配策略。共同点是，在 32 位环境中，事实上的标准是以 8 字节对齐所有内容，而现在在 x64 时代以 16 字节粒度对齐。

这实际上意味着在您询问的 1 个字节之后有 7 个或 15 个字符的额外空间。你应该使用它吗？只有在同意的成年人的情况下才能关起门来。

在这些方法中，顺便说一句，有恢复到系统调用，它在物理边界分配*页面——试试例如 malloc(1<<28);* （256 兆字节）；malloc 的一些实现从一个特殊的缓冲区分配 1-8 或 1-16 个字节，然后为更大的块在内部保留 N+8 或 N+16（再次向上舍入到下一个边界）用于簿记数据。

如果您覆盖保留区域，这些数据将被丢弃。它会导致稍后在一些 malloc / free 中进行断言，并导致重复并且很快就会关闭关于 SO 的非常模糊的问题。

嵌入式系统上的malloc可以被编程为不能回收；它可以简单地通过

```
void *malloc_embedded(size_t a) {
    static uint8_t *heap=_heap;
    uint8_t *old=heap; heap+=a;
    return old;
} 
```

这与您可能预期的一样，但用例受到更多限制 - 可以修改此方法以释放最后分配的元素，但不能再释放。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:43:46.543

未定义的行为？？`malloc(1)`返回一个空闲块或大小为 1 字节，除了返回的块之外可能还有更多块，您的整数被写入其中。（押韵！）

显然，`malloc()`需要 1 个参数。如果你不提供，gcc**会**抱怨，所有其他遵守 C 标准的编译器也会抱怨。

如果你想要`sizeof(int)`字节，那么：`malloc(sizeof(int))`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T05:46:07.803

为您的需要分配足够的内存是您的责任。编译器不会检查您是否正在访问您分配的内存之外的内存。

如果您分配 x 的内存量来存储大小大于 x 的值，您的应用程序可能（可能不会）在运行时崩溃。这是未定义的行为。

如果您调用`malloc(1)`，编译器无需抱怨，因为 malloc 需要一个参数（内存大小），而您正在传递它..

但是当你打电话时`malloc()`，情况就不同了，编译器会抱怨..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T05:47:14.527

的实现`malloc`不太可能给你一个字节。它可能会被调整到最接近的单词大小，这意味着`sizeof(int)`将适合该空间的东西。很像：

```
struct foo {
    char a;
}; 
```

`sizeof(struct foo)`可能是字长。不用说，您应该分配更多空间（例如`malloc(sizeof(int))`），因为您想阅读`int`. 尽管事实上它“碰巧”起作用，但以后对软件维护的困惑会减少。这可能是未定义的行为。

# drag-and-drop - 关于如何使用 Watir 在可排序类中拖动项目以进行自动化测试的建议

> ID：15151294
> 
> 赞同：1
> 
> 时间：2013-03-01T05:41:35.880
> 
> 标签：drag-and-drop, automated-tests, watir, jquery-ui-sortable

我需要一些关于如何使用 Watir 在 ui-sortable 类中拖动项目以进行自动化测试的建议。我们在一个页面上有几个可排序的类，我们可以在这些类内或之间移动项目。我可以成功地自动化测试以在可排序类之间移动项目，但不能在可排序类中移动。

我可以成功拾取元素（使用`browser.driver.action.click_and_hold(element)`），但问题在于移动元素后丢弃元素。当我放下元素（使用`element.fire_event("onmouseup"`））时，它只是回到旧位置。

我尝试将元素移动一定量，使用`@browser.driver.action.move_by(400, 0)`并尝试移动到 class 的另一个子元素下方`(@browser.driver.action.move_to(element2)`。

两者都不起作用，当我查看 DOM 时，“ui-sortable-helper”类的“占位符”类没有移动。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T10:42:43.857

这会将卡片从左侧拖到`Item 1`中间列：

```
browser.div(class: "card", index: 0).drag_and_drop_by(200, 0) 
```

像这样的东西应该拖到`Item 1`下面，`Item 2`但由于某种原因它不起作用

```
browser.div(class: "card", index: 0).drag_and_drop_on(browser.div(class: "card", index: 1)) 
```

更多信息：

*   [http://watir.github.com/watir-webdriver/doc/Watir/Element.html#drag_and_drop_by-instance_method](http://watir.github.com/watir-webdriver/doc/Watir/Element.html#drag_and_drop_by-instance_method)
*   [http://watir.github.com/watir-webdriver/doc/Watir/Element.html#drag_and_drop_on-instance_method](http://watir.github.com/watir-webdriver/doc/Watir/Element.html#drag_and_drop_on-instance_method)

# regex - 如何编写必须以任意顺序包含至少 3 个字母和 3 个数字的正则表达式？

> ID：15151300
> 
> 赞同：1
> 
> 时间：2013-03-01T05:42:00.123
> 
> 标签：regex

我尝试了一个以任何顺序接受 3 位数字的正则表达式，希望它能起作用。这是我的示例代码：

```
^(?:\D*\d){3}\D*$ 
```

它接受这样的字符串：abc123, a2v1c3, 123agc

我现在的问题是当我组合接受至少 3 个字母和 3 个数字的代码时。我尝试了许多正则表达式的组合，但我未能实现正确的正则表达式。有谁知道如何编写正确的正则表达式，以任何顺序接受至少 3 个字母和 3 个数字？先感谢您。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:05:22.533

您可以使用组合前瞻来确保每个类中至少有三个在没有消耗的情况下得到满足。然后，使用限制的所有有效字符。

```
/(?=.*[a-z].*[a-z].*[a-z].*)(?=.*\d.*\d.*\d.*)[a-z0-9]{6,}/ 
```

它很丑，但比我能想到的唯一选择要漂亮得多；

```
/\d{3}[a-z]{3}|\d{2}[a-z]{3}\d|\d{1}[a-z]{3},\d{2} ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:50:27.357

我认为对于这样的事情，你需要有一些计数功能，如果我没记错的话，*它不是*由正则表达式引擎提供的（通常的`{min, max}`运算符除外）。

您可以做的是拥有 2 个正则表达式，一个用于字母，一个用于数字（大多数编程语言提供 a`isDigit`和`isLetter`功能，因此您也可以使用它们）并具有某种计数器。这样做而不是正则表达式将产生更清晰、更易于维护和理解的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-08T18:16:49.220

您可以通过两个积极的前瞻来做到这一点：

```
/(?=(?:.*\d){3})(?=(?:.*[a-z]){3})^[a-z\d]*$/ 
```

[Regex101 实例](https://regex101.com/r/Vd4y5c/1)

* * *

# 分解：

**寻找至少 3 位数字：**

```
(?=(?:.*\d){3}) 
```

**寻找至少 3 个字母：**

```
(?=(?:.*[a-z]){3}) 
```

**定义开始和结束之间允许的内容：**

```
^[a-z\d]*$/ 
```

# ruby-on-rails - 所选值正在重置页面提交中的 ruby on rails

> ID：15151301
> 
> 赞同：0
> 
> 时间：2013-03-01T05:42:11.553
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我不想在提交表单时从下拉和选中单选按钮中保留选定的值。在两个单选按钮的 onclick 中，我必须提交表单，提交后它似乎会重置所选值。这是我正在使用的代码

```
 <%= form_tag(:action =>"show", :method => "post") do %>
    <%= @name %>.
    <strong>Select device: </strong> <%= collection_select(:device, :id, @devices, :id, :name, options ={:selected => params[:name],:prompt => "-Select a device"}) %>
    <br></br>
    <strong>Chose: </strong>
    <%=  radio_button_tag :name,:time,@name.eql?('time'),:onclick => "this.parentNode.submit();"%>Time

    <%=  radio_button_tag :name,:graph,,@name.eql?('graph') :onclick => "this.parentNode.submit();" %>Graph
    <%end%> 
```

在页面刷新中选择值后，所选值正在显示。但在单选按钮单击后不显示所选值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:13:57.597

将 collection_select 代码更改为

```
collection_select(:device, :id, @devices, :id, :name, { selected: params.fetch(:device, {})[:id].to_i, :prompt => "-Select a device" }) %> 
```

更新：对于单选按钮。

我不确定您是如何设置的`@name`，但是由于您使用它来检查单选按钮的状态，因此您应该在控制器中执行此操作

```
@name = params[:name] 
```

或者如果您不想这样做，您可以执行以下操作

```
<%= params[:name] %>.
<%= radio_button_tag :name, :time, params[:name] == 'time', onclick: 'this.parentNode.submit();' %>Time
<%= radio_button_tag :name, :graph, params[:name] == 'graph'), onclick: 'this.parentNode.submit();' %>Graph 
```

# android - 在活动（带有服务的活动）之间切换时出现空白屏幕？

> ID：15151303
> 
> 赞同：0
> 
> 时间：2013-03-01T05:42:12.523
> 
> 标签：android, service

在我的应用程序中，我使用服务来满足某些要求，当我从 Activity1 切换到 Activity2 时，我会出现几秒钟的空白屏幕。在具有一些服务的 Activity2 中，这是我正在使用的代码

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    if(isOnline()){

    }else{ 
        alert();
    }
    dialog = new ProgressDialog(this);   
    dialog.setCancelable(false);
    app_preferences = new AppPreferences(this);
    new LongOperation().execute();

    setContentView(R.layout.activity_accounts); 
} 
```

使用 asynctask 从 onCreate() 启动服务。`new LongOperation().execute();`

```
private class LongOperation extends AsyncTask<String, Void, String> {
    @Override
    protected void onPreExecute() {          
        ProgressBar_show();
    }
    @Override
    protected String doInBackground(String... params) { 
        LoggingAccounts();
        return null;
    }
    @Override
    protected void onPostExecute(String result) {        
        ProgressBar_hide();
    } 
}

private void LoggingAccounts() {

    Account_Added_Log_States();

    ArrayList<AccountInfo> _Accounts_list = new ArrayList<AccountInfo>();
    accounts_data = new AccountDataSource(this);
    accounts_data.open();       
    _Accounts_list = accounts_data.getAllAccounts();
    accounts_data.close();       
    Log.i(TAG, "No of acc's-" + _Accounts_list.size()); 

    for(AccountInfo acc : _Accounts_list) {
        Log.i(TAG, "Acc type " +acc.getAcc_Type());

        if(acc.getAcc_Type().equals(UsedStrings.GoogleAccount) && Gtalk_Log_State ) {
            /////// service start
            final Intent gtalk_intent = new Intent(AccountsActivity.this, GtalkService.class);
            gtalk_intent.putExtra("Key", "gtalk service*****");
            gtalk_intent.putExtra("user_name", acc.getAcc_Name());
            gtalk_intent.putExtra("user_pass", acc.getAcc_Pass());
            Thread t = new Thread(){
                public void run(){
                    startService(gtalk_intent);
                }
            };
            t.start(); 
        }
    }
} 
```

像这样，我在此活动中使用 3 种不同的服务。当我从活动切换到黑屏时。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:51:41.937

我在这里看到的唯一问题是您首先调用 AsyncTask 并设置内容视图，该视图将调用 UI 线程，然后调用背景，然后再次调用 UI 线程。之后你关心设置 ContentView 所以会发生什么是进度对话框正在等待 UI 线程获取渲染，这将在 setConterView 之后。

交换以下行

```
new LongOperation().execute();

 setContentView(R.layout.activity_accounts); 
```

到

```
setContentView(R.layout.activity_accounts); 
 new LongOperation().execute(); 
```

# file - Matlab：读取目录中的所有文件

> ID：15151305
> 
> 赞同：2
> 
> 时间：2013-03-01T05:42:28.387
> 
> 标签：file, matlab, directory

我正在尝试读取具有给定文件名格式的目录中的所有文件。它们的名字是 exp01.v2、exp02.v2 等等。文件集存储在当前目录的文件夹中。我的代码不起作用，看起来像这样：

```
fileName = 'folderInCurrentDirectory/exp*.v2';
files = dir(fullfile(pwd,fileName));
for file = files
    someHandle = fopen(file.name)
    % do something
end 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:51:12.757

前两行是正确的。

然后做：

```
for i = 1:size(files,1)
    someHandle = fopen(files(i,1).name)
    % do something
end 
```

# android - Android 中的 Facebook 发布对象

> ID：15151306
> 
> 赞同：3
> 
> 时间：2013-03-01T05:42:35.977
> 
> 标签：android, facebook, facebook-graph-api

嗨，我正在编写 Facebook 应用程序，在这里我使用 Post Object 来发布 Friends Wall 的消息，我也可以发布，

但我的问题是我在点击我给出的文本（希望....）时也得到了图像链接，正如你在下面的屏幕截图中看到的那样

所以在这里我需要一个小帮助，我怎样才能删除这个链接......

我在 Strings.xml 中给出了这条短信：

```
 <string name="app_action">Wishing you a birthday as special as you are! Hope this is a new beginning to lots of great things and happy moments in your life. Wish you a fabulous birthday!</string> 
```

![在此处输入图像描述](../Images/e1b01425e082de2604586597161ffd1f.png)

图片链接：

```
 public static final String HACK_ICON_URL = "http://i1.pickupflowers.com/images/puf/images/product/large/carnations-lilies-and-roses.jpg"; 
```

我的代码：

```
 Bundle params = new Bundle();
    params.putString("method", "fql.query");
    params.putString("query", query);
    FacebookUtility.asyncRunner.request(null, params, new FacebookRequestListener(FacebookRequestListener.FRIENDS, facebookRequest)); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-29T07:07:22.963

可能是您没有正确设置帖子参数。请参阅我为此使用的代码：

```
 Bundle postParams = new Bundle();

        postParams.putString("name", getString(R.string.fbPostName));
        postParams.putString("caption", getString(R.string.fbPostCaption));
        postParams.putString("description", getString(R.string.fbPostDescription).replace("(Venue)",venueName ));
        postParams.putString("link", getString(R.string.fbPostLink));
        postParams.putString("picture", getString(R.string.fbPostPicture)); 
```

最后两行代码为图片和链接设置链接。

# c# - C# Code First Navigation 在子元素上返回 Null

> ID：15151314
> 
> 赞同：1
> 
> 时间：2013-03-01T05:43:40.200
> 
> 标签：c#, ef-code-first

导航工作从地址、电话到人员。我无法让人们获得任何导航属性到地址或电话。我在 people 中的导航属性显示电话和地址为 null。

请指教。使用 EF 4.5

```
public class Person
{
    [Key]
    public int PersonID { get; set; }
    [Required]
    public string FirstName { get; set; }
    [Required]
    public string LastName { get; set; }
    public string FullName
    {
        get
        {
            return string.Format("{0} {1}", this.FirstName, this.LastName);
        }
    }
    public string Email { get; set; }
    public virtual ICollection<Address> Address { get; set; }
    public virtual ICollection<Phone> Phone { get; set; }
}

public class Phone
{
    [Key]
    public int PhoneID { get; set; }
    public int PersonID { get; set; }
    public virtual Person Person { get; set; }
    [Required]
    public string PhoneNum { get; set; }
    [Required]
    public int PhoneNumTypeID { get; set; }
}

public class Address
{
    [Key]
    public int AddressID { get; set; }
    public int PersonID { get; set; }
    public virtual Person Person { get; set; }
    [Required]
    public string Street { get; set; }
    public int AddressTypeID { get; set; }
    public virtual AddressType AddressType { get; set; }
}

public class AddressType
{
    [Key]
    public int AddressTypeID { get; set; }

    [Required]
    public string AddressTypeDesc { get; set; }
}

public class ContactContext : DbContext
{
    public ContactContext() : base("Contact") { }
    public DbSet<Person> People { get; set; }
    public DbSet<Address> Addresses { get; set; }
    public DbSet<Phone> Phones { get; set; }
    public DbSet<AddressType> AddressTypes { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<Address>()
            .HasRequired(x => x.Person)
            .WithMany()
            .HasForeignKey(x => x.PersonID);

        modelBuilder.Entity<Phone>()
            .HasRequired(x => x.Person)
            .WithMany()
            .HasForeignKey(x => x.PersonID);

        modelBuilder.Entity<Address>()
            .HasRequired(x => x.AddressType)
            .WithMany()
            .HasForeignKey(x => x.AddressTypeID);

        base.OnModelCreating(modelBuilder);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T08:41:31.017

更改映射：

```
modelBuilder.Entity<Address>()
    .HasRequired(x => x.Person)
    .WithMany(p => p.Address)         // changed here
    .HasForeignKey(x => x.PersonID);

modelBuilder.Entity<Phone>()
    .HasRequired(x => x.Person)
    .WithMany(p => p.Phone)         // changed here
    .HasForeignKey(x => x.PersonID); 
```

顺便说一句，我会将属性重命名`Person`为复数形式（地址、电话）。

# youtube-api - 从 youtubeAPI 获得超过 1000 个提要？

> ID：15151319
> 
> 赞同：0
> 
> 时间：2013-03-01T05:43:57.867
> 
> 标签：youtube-api

我正在使用 YouTUbeAPI 来获取我的 Asp.net 应用程序的提要。但是当我请求超过 1000 个提要时，youTubeAPI 会产生错误。

**[https://gdata.youtube.com/feeds/api/videos?category=Music&start-index=1000&max-results=50](https://gdata.youtube.com/feeds/api/videos?category=Music&start-index=1000&max-results=50)**

**错误：您不能请求超过第 1000 项。**

有人可以帮助使用上述网址获得 1000 多个提要吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:46:54.487

看看这个[https://developers.google.com/youtube/faq#over_1000](https://developers.google.com/youtube/faq#over_1000)。我认为这应该回答你的问题。

# linux - Percona tmp 表问题

> ID：15151325
> 
> 赞同：2
> 
> 时间：2013-03-01T05:44:35.487
> 
> 标签：linux, percona

我在三个节点中配置了 XtraDB 集群。三台服务器都具有相同的 MySQL 配置，32 GB RAM 和 CentOS 5。服务器版本为 5.5.29-23.7.1（64 位）。

在负载测试期间，我们收到 Too Many Connection 错误。我发现 MySQL 进程列表占用了创建 tmp 表语句，导致达到线程连接阈值 1000。

创建 tmp 表问题在一台服务器中随机发生，其他两台服务器按预期工作。

请让我知道增加 tmp 表大小将解决此问题或任何想法为什么会发生此问题，

当前的 my.cnf 值，

```
## Temp Tables
    tmp-table-size = 256M
    max-heap-table-size = 128M

## Networking
    max-connections = 1000 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T04:45:52.233

如果您可以在内存中容纳更多的临时表，它会更快并且您将获得更好的吞吐量。

您可能不想将 tmp_table_size 设置为大于 max_heap_table_size。它不会造成任何伤害，但内存临时表的有效限制是这两个值中*较小的一个。*也就是说，max_heap_table_size 是*任何*类型的内存表的限制。因此，如果要允许很大的临时表保留在内存中，则应增加 max_heap_table_size=256M。

但这并不能回答256M是否足够大的问题。即您可能需要 500M 临时表，因此即使您允许 256M 临时表，它们也会进入磁盘。您需要找出您的临时表需要多少存储空间，而目前获取此信息的唯一方法是使用 Percona Server 的详细慢查询日志。请参阅[http://www.percona.com/doc/percona-server/5.5/diagnostics/slow_extended_55.html](http://www.percona.com/doc/percona-server/5.5/diagnostics/slow_extended_55.html)

将临时表保存在内存中可以在一定程度上提高性能，但如果您可以优化查询以避免一开始就创建临时表，那就更好了。是否可以这样做取决于编写查询的方式。因此，您可能需要创建新索引，或更改某些查询的编写方式。不幸的是，没有一个快速的答案。

# c - 如何在 C 中声明一个条目数未知的数组？

> ID：15151331
> 
> 赞同：2
> 
> 时间：2013-03-01T05:44:59.133
> 
> 标签：c, arrays, function

问题如下：编写一个函数，提示用户输入一系列正整数，以值 -1 结束。然后该函数必须返回用户输入的最大值和最小值。您可以假设用户在输入 -1 之前至少输入了一个正整数。

所以我想的是创建一个数组来存储所有输入的值。唯一的问题是我不太确定如何声明一个条目数未知的数组，因为显然我不知道用户将在 -1 之前输入多少个整数。

然后对于后面的部分，我想使最大值/最小值=arr[0]，然后是index++，一旦arr[index]>maximum或arr[index]

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:46:57.130

使用诸如 malloc calloc 和 realloc 之类的动态内存分配函数，或者如果您有兴趣做一些真正好的代码，请使用链表。

顺便说一句，是否有必要将所有数字存储在一个数组中？？？你可以即时检查最小值和最大值？？？

一个简单的算法是：

```
int maxval=0, minval = 0;
while(inputval != -1)
{
    if(inputval < minval)
       minval = inputval;

    if(inputval > maxval)
       maxval = inputval;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:23:39.143

您可以使用动态内存分配，尤其是`realloc`. 它允许您在每次输入新元素时调整数组的大小

顺便说一句，如果您想从输入中提取最小值和最大值，则不需要将输入参数保存到数组中。

在如何将元素保存到动态数组并提取最小值和最大值之后的任何方式

```
int min = -1;
int max = -1;
int i = 0;

int *array=malloc(sizof(int));

while (scanf("%d", &x)>0 && x>0)
{
    if(i>0)
        realloc(array, (i+1)*sizeof(int));
    else {
        min = x;
        max = x;
    }
    array[i] = x;
    if (x>max) max = x;
    if (x<min) min = x;
    i++;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:46:35.143

不幸的是，你不能——至少不能直接。使用 malloc() 您可以分配一个可变长度的数组，并且可以使用它来继续分配更多空间。例如

```
int* numbers = malloc(sizeof(int)*how_many);
if (!numbers) {
  //error
}

//do stuff. 
```

在您的示例中，您可以执行类似的操作

```
while(not_done) {
  if( array-is-full ) {
    how_many *= 2;
    int* new_numbers = (int*)malloc(sizeof(int)*how_many);
    for(int i = 0; i < index;i++)
       new_numbers[i] = numbers[i];
    free(numbers);
    numbers = new_numbers;
  }

  //read user input
  //stick it into the array

} 
```

# c# - 如何验证 DataGridViewTextBoxColumn

> ID：15151337
> 
> 赞同：0
> 
> 时间：2013-03-01T05:45:28.683
> 
> 标签：c#, winforms

我是 Windows 应用程序开发的新手。

我有一个“数据网格视图文本框列”类型的网格视图列，它允许用户输入记录。在那个网格中，我有两列是数量和费率。这两列应该只接受数字。我如何验证这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:56:45.333

那么你可以修改 Waqas 代码购买做这样的事情

```
 private void dataGridViewTextBox_KeyPress(object sender, KeyPressEventArgs e)
    {
        if (((System.Windows.Forms.DataGridViewTextBoxEditingControl)  
         (sender)).EditingControlDataGridView.CurrentCell.ColumnIndex.ToString() ==  
         "1")//Enter your column index
        {
            if (!char.IsControl(e.KeyChar)
                  && !char.IsDigit(e.KeyChar))
            {
                e.Handled = false;
                MessageBox.Show("Enter only Numeric Values");

            }
            else
            {
              //  MessageBox.Show("Enter only Numeric Values");
                e.Handled = true;
            }
        }
    } 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T07:15:39.663

@Kyle 解决方案更接近，但是您想为此捕获按键事件，您必须处理两个事件

[在显示用于编辑单元格的控件时发生](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.editingcontrolshowing.aspx)

```
private void dataGridView1_EditingControlShowing(object sender,
    DataGridViewEditingControlShowingEventArgs e)
{
  // here you need to attach the on key press event to handle validation
  DataGridViewTextBoxEditingControl tb = (DataGridViewTextBoxEditingControl)e.Control;
  tb.KeyPress += new KeyPressEventHandler(dataGridViewTextBox_KeyPress);

  e.Control.KeyPress += new KeyPressEventHandler(dataGridViewTextBox_KeyPress);
} 
```

/// 你的按键事件

```
private void dataGridViewTextBox_KeyPress(object sender, KeyPressEventArgs e)
{
  // when user did not entered a number
  if (!Char.IsNumber(e.KeyChar)
        && (Keys)e.KeyChar != Keys.Back)  // check if backspace is pressed
  {
    // set handled to cancel the event to be proceed by the system
    e.Handled = true;
    // optionally indicate user that characters other than numbers are not allowed
    // MessageBox.Show("Only numbers are allowed");
  }
} 
```

干杯@Riyaz

# 编辑

您需要检查是否有`(Keys)e.KeyChar != Keys.Back`更多功能的键盘键，请参阅 msdn 文章 for system windows forms keys [Keys enumeration](http://msdn.microsoft.com/en-us/library/system.windows.forms.keys.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:37:34.720

试试这个。希望这可以帮助。

```
private void dataGridView1_CellEndEdit(object sender, DataGridViewCellEventArgs e)
        {
            var value = (((DataGridView) (sender)).CurrentCell).Value;
            if (value != null)
            {
                var txt = value.ToString();
                double result;
                double.TryParse(txt, out result);
                if (result == 0)
                {
                    (((DataGridView)(sender)).CurrentCell).Value = 0;
                    MessageBox.Show("Invalid input.");
                }
            }
        } 
```

# php - mysql查询限制

> ID：15151339
> 
> 赞同：1
> 
> 时间：2013-03-01T05:45:35.230
> 
> 标签：php, mysql, limit

我正在寻找有关如何处理此特定问题的一些建议。

我有一个页面，它根据特定条件将 50 个数据库行返回到 php 页面，并在查询中使用限制语句。

问题是，我需要从完整查询中提取统计信息。

基本上，我需要告诉用户数据库中有 10000 个条目，其中 6000 个是这个，3000 个是那个，但只显示前 50 个。

我的 php 代码报告的数字不准确，因为它基于停止在 50 处的查询。

我正在尝试找出处理此问题的最佳方法。

我认为出于性能原因运行 2 个查询是不明智的。改为运行计数查询是否会更具成本效益？

或者我应该运行完整的查询，但只是通过打破 while 循环将输出限制为 50？

怎么处理最好？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T05:50:46.663

你可以`SQL_CALC_FOUND_ROWS`这样使用

```
SELECT `SQL_CALC_FOUND_ROWS` * FROM table_name limit 0,5; 
```

`LIMIT`它在应用任何子句之前获取行数。

[http://dev.mysql.com/doc/refman/5.5/en/information-functions.html#function_found-rows](http://dev.mysql.com/doc/refman/5.5/en/information-functions.html#function_found-rows)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T05:51:08.193

要获得计数：

```
SELECT COUNT(*) FROM table WHERE criteria 
```

获取 50 条记录

```
SELECT columns FROM table WHERE criteria LIMIT 0, 50 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:49:38.583

如果您只是对特定 creteria 的计数感兴趣，那么我肯定会运行一个单独的计数查询，否则如果您需要的数量不止于此，您应该考虑创建一个包含您可以运行最终查询的有趣数据的视图，数个数和 50 个数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T05:47:31.530

`I don't think it would be wise to run 2 queries for performance reasons. Would it be more cost effective for performance to maybe run a count query instead?`

您必须运行 1 个查询才能获得完整计数，然后运行另一个查询才能获得 50 条记录数据。您永远不应该运行 1 个查询来获取所有数据，然后只显示 50 个。这就像从超市购买 1000 块巧克力然后回家然后只吃 5 块并扔掉其余的，这太昂贵了。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T05:52:16.257

创建仅包含统计数据的视图表

```
Create view name as "query that you want" 
```

然后对于 stats 在视图表上运行它们，因为它更快，并且表会自动更新它自己

实际上，如果您有 100k 行并且一直在更新、写入、读取，我建议您创建 2 个表 1 普通用于更新/插入/删除和另一个视图表用于读取

你可以在这里找到更多信息 [http://dev.mysql.com/doc/refman/5.0/en/create-view.html](http://dev.mysql.com/doc/refman/5.0/en/create-view.html)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-01T05:52:48.490

要获取数据库中所有行的计数，请从以下开始：

```
SELECT *, Count(*) AS Count
FROM tablename 
```

然后，您可以使用 WHERE 子句进一步限制和返回其他条件，例如：

```
WHERE widgets > 10 
```

# python - 使用 python-daemon 守护一个 python 脚本 - 套接字问题

> ID：15151340
> 
> 赞同：3
> 
> 时间：2013-03-01T05:45:50.277
> 
> 标签：python, daemon

我试图守护一些代码，但我遇到了一些麻烦。

如果我用 tklogger() 调用代码，它运行得很好。但是，如果我在守护进程上下文中调用它，我会得到以下跟踪：

```
Traceback (most recent call last):
  File "./tklogger.py", line 103, in <module>
    tklogger()
  File "./tklogger.py", line 41, in tklogger
    conn, addr = s.accept()
  File "/usr/lib/python2.6/socket.py", line 195, in accept
    sock, addr = self._sock.accept()
socket.error: [Errno 9] Bad file descriptor
close failed in file object destructor:
IOError: [Errno 9] Bad file descriptor 
```

我的代码如下：

```
#!/usr/bin/python

# tklogger, a TK10X GPS tracking device logger

import socket
import time
import daemon

HOST = ''                       # Bind to all interfaces
PORT = 9000                     # Arbitrary non-privileged port
IMEI = '359710040656622'        # Device IMEI
REQUEST_DATA = 1                # Do we want to request data?
INTERVAL = 30                   # How often do we want updates?
LOGDIR = '/var/log/tklogger/'   # Where shall we log?

# END CONFIG

# Establish socket
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) # allow re-use of the address
s.bind((HOST, PORT))
s.listen(1)

# Open log files
logger = open(LOGDIR + 'tklogger.log', 'a')
deviceLog = open(LOGDIR + IMEI + '.csv', 'a')

def sendTracker(DATA):
    conn.send(DATA)
    log("\t<< " + DATA)

def log(DATA):
    #print (DATA)
    logger.write(DATA + '\n')
    logger.flush()

def tklogger():
    # Accept connections as they come
    while 1:
        global conn
        conn, addr = s.accept()
        strNow = time.strftime("(%d/%m/%Y %H:%M:%S)", time.localtime(time.time()))
        log(strNow + ' Accepted connection from ' + addr[0])

        # Fetch data from the socket
        while 1:
            data = conn.recv(1024)
            if not data: break
            data = data.rstrip()
            log("\t>> " + data)

            # Check for logon & send data request
            if data == '##,imei:' + IMEI + ',A;':
                sendTracker('LOAD')
                if REQUEST_DATA:
                    time.sleep(5)
                    request = '**,imei:' + IMEI + ',C,' + str(INTERVAL) + 's'
                    sendTracker(request)

            # Check for heartbeat
            if data == IMEI + ';':
                sendTracker('ON')

            # Parse actual data
            if data[:20] == 'imei:' + IMEI:

                # Split into fields
                # id, mode, dateTime, ??, LBS??, ??, fixType??, lat, N/S, lon, E/W, speed?, bearing?
                fields = data.split(',');
                if fields[6] == 'A':

                    # Hopefully we have the protocol right...
                    try:
                        # Convert to degress decimal.
                        latDeg = round(float(fields[7][:2]) + (float(fields[7][2:]) / 60.0), 5)
                        lonDeg = round(float(fields[9][:3]) + (float(fields[9][3:]) / 60.0), 5)
                        if fields[8] == 'S': latDeg = -latDeg
                        if fields[10] == 'W': lonDeg = -lonDeg

                        # Date & time
                        msgDate = fields[2][4:6] + '/' + fields[2][2:4] + '/' + fields[2][:2]
                        msgTime = fields[2][6:8] + ':' + fields[2][8:]

                        # Speed
                        speed = round(1.852 * float(fields[11]), 2)

                        # Bearing 
                        bearing = float(fields[12].rstrip(';'))

                        # Log the device data
                        deviceLog.write(msgDate + ',' + msgTime + ',' + str(latDeg) + ',' + str(lonDeg) + ',' + str(speed) + ',' + str(bearing) + '\n')
                        deviceLog.flush()

                    # Just in case something goes wrong though
                    except: pass

        conn.close()
        strNow = time.strftime("(%d/%m/%Y %H:%M:%S)", time.localtime(time.time()))
        log(strNow + ' Connection from ' + addr[0] + ' closed')

with daemon.DaemonContext(stderr = logger):
    tklogger() 
```

建议将不胜感激！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-01T08:40:42.203

守护进程会杀死所有现有的套接字。因此，您必须`s`在守护进程后（在 DaemonContext 内）打开您的套接字。

# java - java - 如何在项目级别的java中使用静态变量？

> ID：15151342
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:46:04.473
> 
> 标签：java, static

我对在项目级别使用静态变量有疑问。

实际上，我`Static`在一个项目文件夹的一个类中有一个变量。我需要将该静态变量用于另一个项目文件夹。

我怎样才能得到那个静态变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-01T07:51:17.297

你确定你需要它是静态的吗？一种选择是这样做：

```
public class TestClass{
    private int myVariable;

    public int getValue(){
        return myVariable;
    }

    public void setValue(int newValue){
        myVariable = newValue;
    }
} 
```

这样您就可以使用该`getValue()`方法访问它，但它不必是`static`. 这是一个[封装](http://www.tutorialspoint.com/java/java_encapsulation.htm)的例子。如果你还不知道封装，你应该花一些时间研究它，因为你在你的编程生涯中肯定会需要它！

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-01T07:55:02.167

在 Eclipse 中，您可以将项目链接在一起，以便您可以从一个项目中获取另一个项目的源代码。

这里有几个屏幕截图可以帮助您：

正在使用的文件 ![正在使用的文件](../Images/253fca98918652bcdb8b3df26ce15dd3.png)

Project_B 的项目设置（在订购和导出下，您可以选择在为 Project_B 构建 jar 文件时包含此项目） ![Project_B 的项目设置（在订购和导出下，您可以选择在为 Project_B 构建 jar 文件时包含此项目）](../Images/52c3ff344d7996676f686248c930faa5.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-01T07:49:25.410

假设你有`variable`

```
public class Test {
                 public static final String TEST="test";  
} 
```

在`project A.`

创建一个 JAR 文件并放入 Project 的 B 构建路径。

在项目 B..

```
public class TestB {

             public static void main(String args[]){

             System.out.println(Test.TEST);

}

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-01T08:02:55.420

您可以使用`static import`将该包和类以及所有静态变量导入您要使用的类中，然后您将使用它，就像它在您的类中声明一样。或者

您可以导入包并通过使用类名调用静态变量来访问静态变量，比如`ClassName.staticVariable`如果您要多次使用它，可以将其分配给您的类中的一个变量。

这些只是建议。

# install4j - Install4j 不会更改文件的所有者？

> ID：15151356
> 
> 赞同：0
> 
> 时间：2013-03-01T05:47:07.000
> 
> 标签：install4j, chown

我在 install4j 安装程序中添加了一个操作，使用“设置文件和目录的所有者”将某个文件的所有者更改为 root:admin。但是，当我运行生成的安装程序时，没有设置文件的所有者（它与其他所有内容相同——myusername:admin）。我将配置设置为“提升到最大可用权限”和“询问用户是重试还是失败时退出”。但是没有要求我输入密码来提升权限，也没有要求我重试或失败。

我很确定路径等是正确的，因为我还在完全相同的文件上使用“设置文件和目录的 UNIX 访问模式”（使其成为 setuid），并且效果很好。

此外，所有者更改操作列在生成的构建报告中，并且在那里显示正确。

这是在 Mac 上。我还没有在其他平台上尝试过（因为我在任何其他平台上都不需要这个特定的 setuid 组件）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T09:14:08.270

install4j 不支持 Linux/Unix 上的提升。如果您需要 root 权限，则必须以 root 身份运行安装程序。要调查某个操作是否成功，请在`.install4j/installation.log`安装后查看文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T16:51:26.270

我必须在安装程序部分下启动文件夹的“请求权限”操作中在 OSX 下设置“如果管理员用户则尝试获取 root 权限”。

这仍然是 install4j 中的一个真正的错误（当你不这样做时没有错误消息），但至少有一种方法可以让它工作。

# sql - REGEXP_LIKE 查找只有一个单词的字符串，其中包含任意数量的字符

> ID：15151358
> 
> 赞同：0
> 
> 时间：2013-03-01T05:47:24.023
> 
> 标签：sql, regex

我正在尝试编写一个简单的正则表达式，它将选择只有一个单词的字段。

就像是....

```
 SELECT songtitle
    FROM music
    WHERE REGEXP_LIKE(songtitle, '+[^\s]') 
```

我希望它的功能类似于以下内容：

```
 WHERE songtitle NOT LIKE('% %'); 
```

歌名：

嘿裘德

帮助！

永远的草莓地

黑鸟

女士

表达式应选择记录 2 4 和 5。

请指出我正确的方向！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:53:36.583

正则表达式可能看起来像

`^[^\s]+$`

但是，您应该考虑将正则表达式更改为[`CHARINDEX`](http://msdn.microsoft.com/en-us/library/ms186323.aspx)：

```
WHERE CHARINDEX(' ',songtitle) = 0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:48:48.083

假设通常的 \S 类可用，Marcin 的答案稍微简单一些......`^\S+$`

[http://regexr.com?33v62](http://regexr.com?33v62)

它似乎正确地击中了您的测试用例，但如果 \S 不可用，请使用 Marcin's

# php - mysqli_query 返回意外的输出

> ID：15151369
> 
> 赞同：0
> 
> 时间：2013-03-01T05:48:18.053
> 
> 标签：php, mysqli

我是一名初学者程序员，在通过`mysqli_query`. 我首先连接到数据库，然后尝试从数据库内部的表 cbo 中获取信息。然后我打印出查询的结果，而不是表中的信息。相反，这就是我得到的。

```
mysqli_result Object
(
    [current_field] => 0
    [field_count] => 8
    [lengths] => 
    [num_rows] => 12
    [type] => 0
) 
```

这是我正在使用的代码。转储只是回显变量。

```
<?php
    $con = mysqli_connect("localhost", "root", "harvard", "cbo projections");
    if ( mysqli_connect_errno() ) {
        echo "Failed to connect to MySQL: " . mysqli_connect_error();
    }
    $result = mysqli_query($con,"SELECT * FROM cbo");
    dump( $result );
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:50:30.987

`$result`只是一个包含结果集的对象。您必须从中获取数据。读取[mysqli_fetch_assoc](https://php.net/mysqli_fetch_assoc)或[mysqli_fetch_array](https://php.net/mysqli_fetch_array)

**例子：**

```
if ($result = mysqli_query($link, $query)) {
    while ($row = mysqli_fetch_assoc($result)) {
        //Display fields here according to your table structure
    }
    mysqli_free_result($result);
} 
```

你可以做类似的事情

```
 while ($row = mysqli_fetch_assoc($result)) {
        $records[]=$row;
    } 
```

这将创建一个名为 records 的数组，其中将包含所有获取的行，然后您可以稍后访问该数组并进行相应的处理

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T05:52:27.807

那就是mysqli对象，你想用它做什么？您应该阅读[https://www.php.net/manual/mysqli-result.fetch-assoc.php](https://www.php.net/manual/mysqli-result.fetch-assoc.php)、[https://www.php.net/manual/mysqli-result.fetch-object.php](https://www.php.net/manual/mysqli-result.fetch-object.php)或[https： //www.php.net/manual/mysqli-result.fetch-array.php](https://www.php.net/manual/mysqli-result.fetch-array.php)。

举例：

```
<?php

$con=mysqli_connect("localhost", "root", "harvard", "cbo projections");
if (mysqli_connect_errno())
{
  echo "Failed to connect to MySQL: " . mysqli_connect_error();
}
$result = mysqli_query($con,"SELECT * FROM cbo");
while ($row = mysql_fetch_assoc($result)) {
    var_dump($row);
}

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T05:53:33.357

```
$result = mysqli_query($con,"SELECT * FROM cbo");
$rows = array();
while ($row = mysqli_fetch_assoc($result)) {
  $rows[] = $row;
}
print_r($rows); 
```

# c++ - 迭代器与下标

> ID：15151376
> 
> 赞同：1
> 
> 时间：2013-03-01T05:48:38.580
> 
> 标签：c++

我对迭代器和下标之间的偏好有疑问。例如，如果我正在做类似的事情：

```
for (vector<int>::size_type i = 0; i != ivec.size(); ++i) {
  ivec[i] related operation
}

for (vector<int>::iterator it = ivec.begin(); it != ivec.end(); ++it) {
  *it related operation
} 
```

哪个是首选？从以下方面考虑： 1\. 性能 2\. 清晰 3\. 其他问题？

我知道这个问题之前已经讨论过[链接](https://stackoverflow.com/questions/131241/why-use-iterators-instead-of-array-indices)。但在另一篇文章中只谈到了 size(); 的性能成本；

假设这是关于向量的，并且 size() 的成本可以忽略不计。

使用下标与迭代器的成本如何？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:51:13.357

性能：在大多数情况下，使用向量这些情况是相等的，因为在大多数情况下`vector<T>::iterator`实际上是指向的指针`T`。

清晰度：使用迭代器。

# c - 如果不是内存地址，C 指针到底是什么？

> ID：15151377
> 
> 赞同：216
> 
> 时间：2013-03-01T05:48:39.550
> 
> 标签：c, pointers, memory-address

在有关 C 的著名来源中，在讨论运算符后给出了以下信息`&`：

> ...有点不幸的是，术语*[address of]*仍然存在，因为它使那些不知道地址是什么的人感到困惑，并误导了那些知道地址的人：将指针视为地址通常会导致悲伤。 .

我读过的其他材料（我会说来自同样有信誉的来源）总是毫不掩饰地将指针和`&`运算符称为提供内存地址。**我很想继续寻找事情的真相，但是当有信誉的消息来源不同意时，这有点困难。**

现在我有点困惑——如果不是内存地址，那么指针*到底是什么？*

**附言**

作者后来说：*……我会继续使用“地址”这个词，因为发明一个不同的*[词]*会更糟。*

* * *

## 回答 #1

> 赞同：155
> 
> 时间：2013-03-01T06:02:16.473

C 标准没有定义指针在内部是什么以及它在内部如何工作。这是故意的，以免限制平台的数量，其中 C 可以实现为编译或解释语言。

指针值可以是某种 ID 或句柄，也可以是多个 ID 的组合（例如 x86 段和偏移量），不一定是实际内存地址。这个 ID 可以是任何东西，甚至是固定大小的文本字符串。非地址表示可能对 C 解释器特别有用。

* * *

## 回答 #2

> 赞同：63
> 
> 时间：2013-03-01T05:57:42.250

我不确定您的来源，但您描述的语言类型来自 C 标准：

> **6.5.3.2 地址和间接运算符**
> [...]
> 3.**一元 & 运算符产生其操作数的地址。**[...]

所以...是的，指针指向内存地址。至少这就是 C 标准所暗示的意思。

说得更清楚一点，指针是一个保存某个*地址**值*的变量。使用一元运算符返回对象的地址（可以存储在指针中）。*`&`*

 *我可以将地址“42 Wallaby Way, Sydney”存储在一个变量中（该变量将是某种“指针”，但由于这不是内存地址，因此我们不能正确地称之为“指针”）。您的计算机有其内存桶的地址。指针存储地址的值（即指针存储值“42 Wallaby Way, Sydney”，它是一个地址）。

**编辑：**我想扩展 Alexey Frunze 的评论。

*究竟什么是指针？*让我们看一下C标准：

> **6.2.5 类型**
> [...]
> 20\. [...]*指针类型*可以派生自函数类型或对象类型，称为
> 引用*类型*。指针类型描述了一个对象，其值提供对被引用类型实体的引用。从引用类型 T 派生的指针类型有时称为“指向 T 的指针”。从引用类型构造指针类型称为“指针类型派生”。指针类型是完整的对象类型。

 **本质上，指针存储一个值，该值提供对某个对象或函数的引用。有点儿。指针旨在存储提供对某个对象或函数的引用的值，但情况并非*总是*如此：

> **6.3.2.3 指针**
> [...]
> 5\. 整数可以转换为任何指针类型。除非前面指定，结果是实现定义的，可能没有正确对齐，可能不指向引用类型的实体，并且可能是陷阱表示。

上面的引用说我们可以把一个整数变成一个指针。如果我们这样做（也就是说，如果我们将整数值填充到指针中，而不是对对象或函数的特定引用），那么指针“可能不指向引用类型的实体”（即它可能不提供对对象或函数的引用）。它可能会为我们提供其他东西。这是您可能在指针中粘贴某种句柄或 ID 的地方（即，指针不指向对象；它存储了一个表示某物的值，但该值可能不是地址）。

所以是的，正如 Alexey Frunze 所说，指针可能没有将地址存储到对象或函数。指针可能会存储某种“句柄”或 ID，您可以通过为指针分配一些任意整数值来做到这一点。这个句柄或 ID 代表什么取决于系统/环境/上下文。只要您的系统/实现可以理解该值，您就处于良好状态（但这取决于特定值和特定系统/实现）。

*通常*，指针存储对象或函数的地址。如果它不存储实际地址（到对象或函数），则结果是实现定义的（这意味着究竟发生了什么以及指针现在表示的内容取决于您的系统和实现，因此它可能是一个句柄或 ID一个特定的系统，但在另一个系统上使用相同的代码/值可能会使您的程序崩溃）。

结果比我想象的要长...

* * *

## 回答 #3

> 赞同：37
> 
> 时间：2013-03-01T09:31:55.230

![指针与变量](../Images/3924c5ac4322dbe05185f77db7945ade.png)

在这幅图片中，

pointer_p 是一个位于 0x12345 的指针，指向 0x34567 处的变量 variable_v。

* * *

## 回答 #4

> 赞同：37
> 
> 时间：2013-03-01T20:09:15.563

将指针视为地址是一种**近似**。像所有近似值一样，它有时足够有用，但它也不准确，这意味着依赖它会带来麻烦。

指针就像一个地址，它指示在哪里可以找到一个对象。这种类比的一个直接限制是并非所有指针都实际包含地址。`NULL`是一个不是地址的指针。指针变量的内容实际上可以是以下三种之一：

*   对象的**地址**，可以取消引用（如果`p`包含地址，`x`则表达式`*p`的值与 相同`x`）；
*   一个**空指针**，这`NULL`是一个例子；
*   **不指向对象的**无效**`p`内容（如果不包含有效值，则`*p`可以做任何事情（“未定义行为”），导致程序崩溃的可能性相当普遍）。**

 **此外，更准确地说，指针（如果有效且非空）*包含*地址：指针指示在哪里可以找到对象，但与它相关的信息更多。

特别是，指针具有类型。在大多数平台上，指针的类型在运行时没有影响，但它的影响超出了编译时的类型。If`p`是指向`int`( `int *p;`) 的指针，则`p + 1`指向后面的`sizeof(int)`字节整数`p`（假设`p + 1`仍然是有效指针）。如果`q`是指向与( )`char`相同地址的指针，则与 不同地址。如果将指针视为地址，那么指向同一位置的不同指针的“下一个地址”不同，这并不是很直观。`p``char *q = p;``q + 1``p + 1`

在某些环境中，可能有多个指针值具有不同的表示形式（内存中的不同位模式），它们指向内存中的同一位置。您可以将它们视为持有相同地址的不同指针，或者视为相同位置的不同地址——在这种情况下，比喻不清楚。运算符总是告诉你两个`==`操作数是否指向同一个位置，所以在这些环境中你可以`p == q`有`p`不同`q`的位模式。

甚至在某些环境中，指针携带地址之外的其他信息，例如类型或权限信息。作为程序员，你可以轻松地度过你的生活，而不会遇到这些。

在某些环境中，不同类型的指针具有不同的表示形式。您可以将其视为具有不同表示形式的不同类型的地址。例如，一些架构有字节指针和字指针，或者对象指针和函数指针。

总而言之，只要您牢记，将指针视为地址并不算太糟糕

*   只有有效的非空指针是地址；
*   同一个位置可以有多个地址；
*   您不能对地址进行算术运算，并且它们没有顺序；
*   指针还携带类型信息。

反其道而行之，就麻烦多了。**并非所有看起来像地址的东西都可以是指针**。在某个深处，任何指针都表示为一个位模式，可以读取为整数，您可以说这个整数是一个地址。但反过来说，并不是每个整数都是指针。

首先有一些众所周知的限制。例如，指定程序地址空间之外的位置的整数不能是有效指针。未对齐的地址不会为需要对齐的数据类型生成有效的指针；例如，在`int`需要 4 字节对齐的平台上，0x7654321 不能是有效值`int*`。

但是，它远不止于此，因为当您将指针变为整数时，您将陷入困境。这个麻烦的很大一部分是优化编译器在微优化方面比大多数程序员所期望的要好得多，因此他们对程序如何工作的心理模型是非常错误的。仅仅因为您有具有相同地址的指针并不意味着它们是等效的。例如，考虑以下代码段：

```
unsigned int x = 0;
unsigned short *p = (unsigned short*)&x;
p[0] = 1;
printf("%u = %u\n", x, *p); 
```

您可能会期望在普通机器上，其中`sizeof(int)==4`and`sizeof(short)==2`会打印`1 = 1?`(little-endian) 或`65536 = 1?`(big-endian)。但是在我的带有 GCC 4.4 的 64 位 Linux PC 上：

```
$ c99 -O2 -Wall a.c && ./a.out 
a.c: In function ‘main’:
a.c:6: warning: dereferencing pointer ‘p’ does break strict-aliasing rules
a.c:5: note: initialized from here
0 = 1? 
```

GCC 很友好地[警告我们在这个简单的例子中出了什么问题](http://en.wikipedia.org/wiki/Aliasing_%28computing%29#Conflicts_with_optimization)——在更复杂的例子中，编译器可能不会注意到。由于`p`与 具有不同的类型`&x`，因此更改`p`指向的内容不会影响`&x`指向的内容（除了一些明确定义的异常）。因此，编译器可以自由地将 的值保存`x`在寄存器中，并且不会在更改时更新该寄存器`*p`。该程序取消引用两个指向同一地址的指针并获得两个不同的值！

这个例子的寓意是，只要您遵守 C 语言的精确规则，就可以将（非空有效）指针视为地址。硬币的另一面是 C 语言的规则错综复杂，除非你知道幕后发生了什么，否则很难直观地感受到。底层发生的事情是指针和地址之间的联系有点松散，既支持“外来”处理器架构，也支持优化编译器。

因此，将指针作为地址视为您理解的第一步，但不要过分遵循这种直觉。

* * *

## 回答 #5

> 赞同：19
> 
> 时间：2013-03-01T05:52:59.627

指针是保持内存地址的变量，而不是地址本身。但是，您可以取消引用指针 - 并访问内存位置。

例如：

```
int q = 10; /*say q is at address 0x10203040*/
int *p = &q; /*means let p contain the address of q, which is 0x10203040*/
*p = 20; /*set whatever is at the address pointed by "p" as 20*/ 
```

而已。就是这么简单。

![在此处输入图像描述](../Images/b226de17cf8c820aaf4ea6cb4e7d8761.png)

一个程序来演示我在说什么，它的输出在这里：

[http://ideone.com/rcSUsb](http://ideone.com/rcSUsb)

该程序：

```
#include <stdio.h>

int main(int argc, char *argv[])
{
  /* POINTER AS AN ADDRESS */
  int q = 10;
  int *p = &q;

  printf("address of q is %p\n", (void *)&q);
  printf("p contains %p\n", (void *)p);

  p = NULL;
  printf("NULL p now contains %p\n", (void *)p);
  return 0;
} 
```

* * *

## 回答 #6

> 赞同：16
> 
> 时间：2013-03-01T07:04:12.373

很难准确地说出这些书的作者究竟是什么意思。指针是否包含地址取决于您如何定义地址以及如何定义指针。

从所写的所有答案来看，有些人认为（1）地址必须是整数，（2）指针不需要是虚拟的，在规范中没有这样说。有了这些假设，那么显然指针不一定包含地址。

然而，我们看到虽然 (2) 可能为真，但 (1) 可能不一定为真。根据@CornStalks 的回答，& 被称为运算符的*地址这一事实如何解释？*这是否意味着规范的作者打算让一个指针包含一个地址？

那么我们可以说，指针包含一个地址，但地址不必是整数吗？也许。

我认为所有这些都是胡言乱语的迂腐语义谈话。实际上完全没有价值。你能想到一个编译器生成代码的方式是指针的值不是地址吗？如果是这样，是什么？我也那么认为...

我认为这本书的作者（声称指针不一定只是地址的第一个摘录）可能指的是指针附带它固有的类型信息的事实。

例如，

```
 int x;
 int* y = &x;
 char* z = &x; 
```

y 和 z 都是指针，但 y+1 和 z+1 不同。如果它们是内存地址，这些表达式不会给您相同的值吗？

在这里，将**指针视为地址通常会导致悲伤**。编写错误是因为人们将*指针视为地址*，而这*通常会导致悲伤*。

55555 可能不是指针，虽然它可能是地址，但 (int*)55555 是指针。55555+1 = 55556，但 (int*)55555+1 是 55559（就 sizeof(int) 而言的+/-差异）。

* * *

## 回答 #7

> 赞同：15
> 
> 时间：2013-03-01T20:30:44.860

好吧，指针是表示内存位置的**抽象。**请注意，这句话并没有说将指针视为内存地址是错误的，它只是说它“通常会导致悲伤”。换句话说，它会导致你产生错误的期望。

最可能的悲痛来源当然是**指针算术，**这实际上是 C 的优势之一。如果指针是地址，您会期望指针算术是地址算术；但事实并非如此。例如，将 10 添加到地址应该会给您一个大 10 个寻址单位的地址；但是向指针添加 10 会将其增加 10 倍于它所指向的对象类型的大小（甚至不是实际大小，而是四舍五入到对齐边界）。在`int *`具有 32 位整数的普通架构上，向其添加 10 会将其增加 40 个寻址单元（字节）。经验丰富的 C 程序员都知道这一点，并将其用于各种好的用途，但您的作者显然不喜欢草率的隐喻。

还有一个额外的问题是**指针的内容如何*表示*内存位置：**正如许多答案所解释的那样，地址并不总是一个 int （或 long ）。在某些架构中，地址是“段”加上偏移量。一个指针甚至可能只包含当前段的偏移量（“近”指针），它本身并不是唯一的内存地址。并且指针内容可能仅与硬件理解的内存地址有间接关系。但是引用的引用的作者甚至没有提到表示，所以我认为他们想到的是概念对等，而不是表示。

* * *

## 回答 #8

> 赞同：12
> 
> 时间：2013-03-02T19:15:34.603

以下是我过去向一些困惑的人解释过的方式： 指针有两个影响其行为的属性。它有一个*value*，它是（在典型环境中）一个内存地址和一个*type*，它告诉你它指向的对象的类型和大小。

例如，给定：

```
union {
    int i;
    char c;
} u; 
```

您可以有三个不同的指针都指向同一个对象：

```
void *v = &u;
int *i = &u.i;
char *c = &u.c; 
```

如果比较这些指针的值，它们都是相等的：

```
v==i && i==c 
```

但是，如果您增加每个指针，您会看到它们指向的*类型变得相关。*

```
i++;
c++;
// You can't perform arithmetic on a void pointer, so no v++
i != c 
```

此时变量`i`和`c`将具有不同的值，因为`i++`导致`i`包含下一个可访问整数的地址，并`c++`导致`c`指向下一个可寻址字符。通常，整数比字符占用更多的内存，因此`i`最终会得到比`c`它们都增加后更大的值。

* * *

## 回答 #9

> 赞同：9
> 
> 时间：2013-03-01T05:54:22.480

你是对的和理智的。通常，指针只是一个地址，因此您可以将其转换为整数并进行任何算术运算。

但有时指针只是地址的一部分。在某些体系结构上，指针被转换为添加基址或使用另一个[CPU](http://en.wikipedia.org/wiki/Central_processing_unit)寄存器的地址。

但是现在，在具有平面内存模型和 C 语言本地编译的 PC 和[ARM](http://en.wikipedia.org/wiki/ARM_architecture)架构上，可以认为指针是指向一维可寻址 RAM 中某个位置的整数地址。

* * *

## 回答 #10

> 赞同：8
> 
> 时间：2013-03-03T21:14:18.703

Mark Bessey 已经说过了，但这需要重新强调，直到理解为止。

指针与变量的关系比与文字 3 的关系更大。

指针*是*一个值（地址）和类型（具有附加属性，例如只读）的元组。类型（以及其他参数，如果有的话）可以进一步定义或限制上下文；例如。`__far ptr, __near ptr`：地址的上下文是什么：堆栈，堆，线性地址，某处的偏移量，物理内存或什么。

正是*类型*的属性使得指针算术与整数算术有点不同。

指针不是变量的反例太多，无法忽略

*   fopen 返回一个 FILE 指针。（变量在哪里）

*   堆栈指针或帧指针通常是不可寻址的寄存器

    `*(int *)0x1231330 = 13;`-- 将任意整数值转换为 pointer_of_integer 类型并写入/读取整数而无需引入变量

在 C 程序的生命周期中，会有许多其他没有地址的临时指针实例——因此它们不是变量，而是具有编译时相关类型的表达式/值。

* * *

## 回答 #11

> 赞同：7
> 
> 时间：2013-03-02T21:22:52.270

与 C 中的任何其他变量一样，指针基本上是位的集合，可以由一个或多个连接`unsigned char`值表示（与任何其他类型的 cariable 一样，`sizeof(some_variable)`将指示`unsigned char`值的数量）。指针与其他变量的不同之处在于，C 编译器会将指针中的位解释为以某种方式标识可能存储变量的位置。在 C 中，与其他一些语言不同，可以为多个变量请求空间，然后将指向该集合中任何值的指针转换为指向该集合中任何其他变量的指针。

许多编译器通过使用它们的位存储实际机器地址来实现指针，但这不是唯一可能的实现。一个实现可以保留一个数组——用户代码无法访问——列出程序正在使用的所有内存对象（变量集）的硬件地址和分配大小，并让每个指针包含一个数组索引与该索引的偏移量。这样的设计将允许系统不仅将代码限制为仅在其拥有的内存上操作，而且还确保指向一个内存项的指针不会意外转换为指向另一个内存项的指针（在使用硬件的系统中）地址，如果`foo`和`bar`是连续存储在内存中的 10 个项目的数组，则指向第 10 个项目的指针`foo`可能会指向 的第一项`bar`，但在每个“指针”都是对象 ID 和偏移量的系统中，如果代码尝试将指针索引到`foo`超出其分配范围的位置，系统可能会陷入陷阱）。这样的系统也有可能消除内存碎片问题，因为与任何指针相关的物理地址都可以移动。

请注意，虽然指针有些抽象，但它们还不够抽象，无法让完全符合标准的 C 编译器实现垃圾收集器。C 编译器指定每个变量（包括指针）都表示为`unsigned char`值序列。给定任何变量，可以将其分解为数字序列，然后将该数字序列转换回原始类型的变量。因此，一个程序可以`calloc`一些存储（接收指向它的指针），在那里存储一些东西，将指针分解为一系列字节，将它们显示在屏幕上，然后擦除对它们的所有引用。如果程序随后从键盘接受了一些数字，将这些数字重构为指针，然后尝试从该指针读取数据，并且如果用户输入的数字与程序之前显示的相同，则程序将被要求输出数据已存储在`calloc`'ed 内存中。由于无法想象计算机可以知道用户是否复制了所显示的数字，因此无法想象计算机可以知道将来是否会访问上述存储器。

* * *

## 回答 #12

> 赞同：6
> 
> 时间：2013-03-01T05:50:54.500

指针是 C/C++ 中本机可用的变量类型，包含内存地址。像任何其他变量一样，它有自己的地址并占用内存（数量取决于平台）。

由于混淆，您将看到的一个问题是试图通过简单地按值传递指针来更改函数内的所指对象。这将在函数范围内制作指针的副本，并且对该新指针“指向”的位置的任何更改都不会更改调用该函数的范围内指针的所指对象。为了修改函数中的实际指针，通常会将指针传递给指针。

* * *

## 回答 #13

> 赞同：6
> 
> 时间：2013-03-15T01:40:25.267

**简要总结** （我也会放在顶部）：

(0) 将指针视为地址通常是一个很好的学习工具，并且通常是指向普通数据类型的指针的实际实现。

(1) 但是在许多，也许是大多数，编译器指向函数的指针不是地址，而是大于地址（通常是 2 倍，有时更多），或者实际上是指向内存中结构的指针，而不是包含函数地址之类的东西一个常量池。

(2) 指向数据成员的指针和指向方法的指针往往更加陌生。

(3) 带有 FAR 和 NEAR 指针问题的旧 x86 代码

(4) 几个例子，最著名的是 IBM AS/400，具有安全的“胖指针”。

我相信你能找到更多。

**细节：**

嗯！！！！到目前为止，许多答案都是相当典型的“程序员小问题”答案——但不是编译器小问题或硬件小问题。由于我假装自己是一个硬件小精灵，并且经常与编译器小精灵一起工作，所以让我投入两分钱：

在许多（可能是大多数）C 编译器上，指向数据类型的指针`T`实际上是`T`.

美好的。

但是，即使在许多这些编译器上，某些指针也不是地址。您可以通过查看来判断这一点`sizeof(ThePointer)`。

例如，指向函数的指针有时比普通地址大很多。或者，它们可能涉及一定程度的间接性。 [本文](http://www.technovelty.org/linux/function-pointers-and-addresses-of-functions.html)提供了一种描述，涉及英特尔安腾处理器，但我见过其他的。通常，要调用函数，您不仅必须知道函数代码的地址，还必须知道函数常量池的地址 - 一个使用单个加载指令加载常量的内存区域，而不是编译器必须生成几个加载立即数和移位和或指令中的一个 64 位常量。因此，您需要 2 个 64 位地址，而不是单个 64 位地址。一些 ABI（应用程序二进制接口）将其移动为 128 位，而另一些则使用间接级别，函数指针实际上是包含刚刚提到的 2 个实际地址的函数描述符的地址。哪个更好？取决于您的观点：性能、代码大小、和一些兼容性问题 - 通常代码假定指针可以转换为 long 或 long long，但也可能假定 long long 正好是 64 位。这样的代码可能不符合标准，但客户可能希望它工作。

我们中的许多人都对旧的 Intel x86 分段架构有着痛苦的回忆，包括 NEAR POINTERs 和 FAR POINTERS。谢天谢地，这些现在几乎绝迹了，所以只是一个简单的总结：在 16 位实模式下，实际的线性地址是

```
LinearAddress = SegmentRegister[SegNum].base << 4 + Offset 
```

而在保护模式下，它可能是

```
LinearAddress = SegmentRegister[SegNum].base + offset 
```

根据段中设置的限制检查结果地址。有些程序使用的不是真正标准的 C/C++ FAR 和 NEAR 指针声明，但许多程序只是说`*T`--- 但是有编译器和链接器开关，因此，例如，代码指针可能是近指针，只是相对于其中的任何内容的 32 位偏移量CS（代码段）寄存器，而数据指针可能是 FAR 指针，为 48 位值指定 16 位段号和 32 位偏移量。现在，这两个量肯定都与地址有关，但是由于它们的大小不同，所以它们中的哪一个是地址？此外，除了与实际地址相关的内容之外，这些段还带有权限——只读、读写、可执行。

一个更有趣的例子，恕我直言，是（或者，也许是）IBM AS/400 系列。这台计算机是最早使用 C++ 实现操作系统的计算机之一。此机器上的指针通常是实际地址大小的 2 倍 - 例如，[本演示文稿](http://www.slideshare.net/tvlooy/introduction-to-the-ibm-as400)说是 128 位指针，但实际地址是 48-64 位，还有一些额外的信息，即所谓的能力，它提供诸如读、写之类的权限，以及防止缓冲区溢出的限制。是的：你可以用 C/C++ 兼容地做到这一点——如果这无处不在，中国解放军和斯拉夫黑手党就不会侵入这么多西方计算机系统。但从历史上看，大多数 C/C++ 编程都忽略了性能安全性。最有趣的是，AS400 系列允许操作系统创建安全指针，这些指针可以提供给非特权代码，但非特权代码无法伪造或篡改。同样，安全性，虽然符合标准，但很多草率的不符合标准的 C/C++ 代码将无法在这样一个安全的系统中工作。再次，有官方标准，

现在，我将离开我的安全肥皂盒，并提到其他一些（各种类型的）指针通常不是真正地址的方式：指向数据成员的指针、指向成员函数方法的指针，以及它们的静态版本大于普通地址。正如[这篇文章](http://blogs.msdn.com/b/oldnewthing/archive/2004/02/09/70002.aspx) 所说：

> 有很多方法可以解决这个问题[与单继承与多继承以及虚拟继承相关的问题]。下面是 Visual Studio 编译器决定处理它的方式：指向多重继承类的成员函数的指针实际上是一个结构。”他们接着说“转换函数指针可以改变它的大小！”。

正如您可能从我对（不）安全性的夸夸其谈中猜到的那样，我参与了 C/C++ 硬件/软件项目，在这些项目中，指针被视为一种能力而不是原始地址。

我可以继续，但我希望你明白。

**简要总结** （我也会放在顶部）：

(0) 将指针视为地址通常是一个很好的学习工具，并且通常是指向普通数据类型的指针的实际实现。

(1) 但在许多，也许是大多数，编译器指向函数的指针不是地址，而是大于地址（通常是 2X，有时更多），或者实际上是指向内存中结构的指针，而不是包含函数地址之类的东西一个常量池。

(2) 指向数据成员的指针和指向方法的指针往往更加陌生。

(3) 带有 FAR 和 NEAR 指针问题的旧 x86 代码

(4) 几个例子，最著名的是 IBM AS/400，具有安全的“胖指针”。

我相信你能找到更多。

* * *

## 回答 #14

> 赞同：4
> 
> 时间：2013-03-01T06:04:21.663

你可以这样看。指针是表示可寻址内存空间中的地址的值。

* * *

## 回答 #15

> 赞同：4
> 
> 时间：2013-03-01T05:51:47.413

指针只是另一个变量，用于保存内存位置的地址（通常是另一个变量的内存地址）。

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2013-03-01T06:16:43.927

指针只是另一个变量，通常可以包含另一个变量的内存地址。指针是一个变量，它也有一个内存地址。

* * *

## 回答 #17

> 赞同：3
> 
> 时间：2014-11-09T07:42:49.707

地址用于标识一块固定大小的存储，通常针对每个字节，为整数。这被精确地称为*字节地址*，ISO C 也使用它。可以有一些其他方法来构造地址，例如每个位。但是，经常只使用字节地址，我们通常省略“字节”。

从技术上讲，地址永远不是 C 中的值，因为 (ISO) C 中术语“值”的定义是：

> 当解释为具有**特定类型时，对象内容的精确含义**

（由我强调。）但是，C 中没有这样的“地址类型”。

指针不一样。指针是C语言中的一种*类型*。有几种不同的指针类型。它们不一定遵守相同的语言规则集，例如对`++`类型值的影响`int*`vs. `char*`。

C 中的值可以是指针类型。这称为*指针值*。需要明确的是，指针值不是 C 语言中的指针。但是我们习惯于将它们混合在一起，因为在 C 中它不太可能是模棱两可的：如果我们将表达式`p`称为“指针”，它只是一个指针值而不是类型，因为 C 中的命名类型不是由*表达式表示*，但由*类型名称*或类型*定义名称表示*。

其他一些事情是微妙的。作为 C 用户，首先应该知道什么`object`意思：

> 执行环境中的数据存储区域，其内容可以表示值

对象是表示特定类型的值的实体。指针是一种*对象类型*。因此，如果我们声明`int* p;`，则`p`表示“指针类型的对象”或“指针对象”。

请注意，标准**没有**规范地定义“变量”（事实上，ISO C 在规范文本中从未将其用作名词）。然而，非正式地，我们将对象称为变量，就像其他一些语言一样。（但仍然不是那么准确，例如在 C++ 中，变量通常可以是*引用*类型，这不是对象。）短语“指针对象”或“指针变量”有时被视为如上所述的“指针值”，带有可能略有不同。（另外一组示例是“数组”。）

由于指针是一种类型，并且地址在 C 中实际上是“无类型”的，因此指针值大致“包含”一个地址。并且指针类型的表达式可以*产生*一个地址，例如

**ISO C11 6.5.2.3**

> 3 一元运算`&`符产生其操作数的地址。

注意这个措辞是由 WG14/N1256 引入的，即 ISO C99:TC3。在 C99 中有

> 3 一元运算`&`符返回其操作数的地址。

它反映了委员会的意见：地址**不是**一元运算符返回的指针值`&`。

尽管有上述措辞，但即使在标准中仍然存在一些混乱。

**ISO C11 6.6**

> 9*地址常量*是空指针、指向指定静态存储持续时间对象的左值指针或指向函数指示符的指针

**ISO C++11 5.19**

> 3 ...*地址常量表达式*是指针类型的纯右值核心常量表达式，其计算结果为具有静态存储持续时间的对象的地址、函数的地址、空指针值或纯右值核心常量表达式的类型`std::nullptr_t`。...

（最近的 C++ 标准草案使用了另一种措辞，所以没有这个问题。）

实际上，C 中的“地址常量”和 C++ 中的“地址常量表达式”都是指针类型的常量表达式（或者至少是 C++11 以来的“类指针”类型）。

并且内置的一元运算`&`符在 C 和 C++ 中称为“address-of”；类似地，`std::addressof`在 C++11 中引入。

这些命名可能会带来误解。结果表达式是指针类型，因此它们将被解释为：结果包含/产生一个地址，而不是*一个*地址。

* * *

## 回答 #18

> 赞同：3
> 
> 时间：2013-03-01T20:39:21.077

在了解指针之前，我们需要了解对象。对象是存在并具有称为地址的位置说明符的实体。指针只是一个变量，就像任何其他变量一样，`C`它`pointer`的内容被解释为支持以下操作的对象的地址。

```
+ : A variable of type integer (usually called offset) can be added to yield a new pointer
- : A variable of type integer (usually called offset) can be subtracted to yield a new pointer
  : A variable of type pointer can be subtracted to yield an integer (usually called offset)
* : De-referencing. Retrieve the value of the variable (called address) and map to the object the address refers to.
++: It's just `+= 1`
--: It's just `-= 1` 
```

指针根据它当前引用的对象类型进行分类。唯一重要的信息是对象的大小。

任何对象都支持一个操作，`&`（地址），该操作将对象的位置说明符（地址）检索为指针对象类型。`&`这应该减少围绕命名法的混乱，因为将其作为对象的操作而不是作为结果类型是对象类型的指针的指针来调用是有意义的。

**注意**在整个解释中，我忽略了内存的概念。

* * *

## 回答 #19

> 赞同：3
> 
> 时间：2013-03-02T08:50:46.793

AC 指针与内存地址非常相似，但抽象掉了与机器相关的细节，以及一些低级指令集中没有的特性。

例如，C 指针的类型相对丰富。如果您通过结构数组递增指针，它会很好地从一个结构跳转到另一个结构。

指针受转换规则的约束并提供编译时类型检查。

有一个特殊的“空指针”值，它在源代码级别是可移植的，但其表示可能不同。如果将值为零的整数常量分配给指针，则该指针将采用空指针值。如果您以这种方式初始化指针，则同上。

指针可以用作布尔变量：如果它不是 null 则测试 true，如果它为 null 则测试 false。

在机器语言中，如果空指针是一个有趣的地址，例如 0xFFFFFFFF，那么您可能必须对该值进行显式测试。C 对你隐瞒。即使空指针是 0xFFFFFFFF，您也可以使用`if (ptr != 0) { /* not null! */}`.

使用破坏类型系统的指针会导致未定义的行为，而机器语言中的类似代码可能会被很好地定义。汇编器将汇编您编写的指令，但 C 编译器将基于您没有做错任何事情的假设进行优化。如果一个`float *p`指针指向一个`long n`变量并被`*p = 0.0`执行，编译器不需要处理这个。随后的使用`n`将不需要读取浮点值的位模式，但也许，这将是一个优化的访问，它基于`n`尚未触及的“严格别名”假设！也就是说，假设程序表现良好，因此`p`不应该指向`n`.

在 C 中，指向代码的指针和指向数据的指针是不同的，但在许多体系结构中，地址是相同的。可以开发具有“胖”指针的 C 编译器，即使目标体系结构没有。胖指针意味着指针不仅仅是机器地址，还包含其他信息，例如有关被指向对象大小的信息，用于边界检查。可移植编写的程序将很容易移植到此类编译器。

所以你可以看到，机器地址和C指针之间存在很多语义差异。

* * *

## 回答 #20

> 赞同：2
> 
> 时间：2013-03-01T21:27:09.307

仔细想想，我认为这是一个语义问题。我不认为作者是对的，因为 C 标准将指针称为持有指向被引用对象的地址，正如其他人在这里已经提到的那样。但是，地址！=内存地址。根据 C 标准，地址实际上可以是任何东西，尽管它最终会导致内存地址，指针本身可以是 id、偏移量 + 选择器（x86），只要它可以描述（映射后）*任何*内存，它实际上可以是任何东西地址在可寻址空间。

* * *

## 回答 #21

> 赞同：2
> 
> 时间：2013-03-01T17:05:29.647

它说“因为它让那些不知道地址是什么的人感到困惑”——而且，这是真的：如果你知道地址是什么，你就不会感到困惑。理论上，指针是一个指向另一个变量的变量，实际上保存了一个地址，也就是它所指向的变量的地址。我不知道为什么要*隐瞒*这个事实，这不是一门火箭科学。如果您了解指针，您将更接近了解计算机的工作原理。前进！

* * *

## 回答 #22

> 赞同：1
> 
> 时间：2013-07-14T21:03:07.107

由于我在其他答案中没有看到的不同指针类型，C 或 C++ 指针与简单内存地址不同的另一种方式（尽管考虑到它们的总大小，我可能忽略了它）。但这可能是最重要的一个，因为即使是有经验的 C/C++ 程序员也会绊倒它：

编译器可能会假设不兼容类型的指针不指向相同的地址，即使它们明确指向，这可能会产生简单的指针==地址模型无法实现的行为。考虑以下代码（假设`sizeof(int) = 2*sizeof(short)`）：

```
unsigned int i = 0;
unsigned short* p = (unsigned short*)&i;
p[0]=p[1]=1;

if (i == 2 + (unsigned short)(-1))
{
  // you'd expect this to execute, but it need not
}

if (i == 0)
{
  // you'd expect this not to execute, but it actually may do so
} 
```

请注意， 有一个例外`char*`，因此可以使用操作值`char*`（尽管不是很便携）。

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2014-02-08T11:16:19.233

指针值*是*一个地址。指针变量*是*可以存储地址的对象。这是真的，因为这是标准定义的指针。告诉 C 新手很重要，因为 C 新手通常不清楚指针和它所指向的东西之间的区别（也就是说，他们不知道信封和建筑物之间的区别）。地址的概念（每个对象都有一个地址，这是指针存储的）很重要，因为它可以解决这个问题。

但是，该标准在特定的抽象级别上进行讨论。作者所说的那些“知道地址是什么”的人，但对于 C 语言不熟悉的人，一定已经了解了不同抽象级别的地址——也许是通过编程汇编语言。不能保证 C 实现使用与 CPU 操作码使用的地址相同的表示形式（在本文中称为“存储地址”），这些人已经知道了。

他接着谈到“完全合理的地址操纵”。就 C 标准而言，基本上没有“完全合理的地址操作”之类的东西。加法是在指针上定义的，基本上就是这样。当然，您可以将指针转换为整数，执行一些按位或算术运算，然后将其转换回来。这不能保证按标准工作，因此在编写该代码之前，您最好了解您的特定 C 实现如何表示指针并执行该转换。它*可能*使用您期望的地址表示，但这不是您的错，因为您没有阅读手册。这不是混淆，而是不正确的编程过程；-)

简而言之，C 使用了比作者更抽象的地址概念。

作者的地址概念当然也不是最底层的词。对于跨多个芯片的虚拟内存映射和物理 RAM 寻址，您告诉 CPU 是您要访问的“存储地址”的数字基本上与您想要的数据在硬件中的实际位置无关。这是所有的间接层和表示层，但作者选择了一个特权。如果您在谈论 C 时要这样做，请*选择 C ​​级别的特权*！

就我个人而言，我认为作者的评论并没有那么有帮助，除非是在将 C 语言介绍给汇编程序员的上下文中。对于那些来自高级语言的人来说，说指针值不是地址当然没有帮助。承认复杂性要好得多，而不是说 CPU 垄断了地址是什么，因此 C 指针值“不是”地址。它们是地址，但它们可能用与他所指的地址不同的语言写成。我认为，在 C 的上下文中将这两件事区分为“地址”和“商店地址”就足够了。

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2013-07-15T01:40:32.440

快速总结：AC 地址是一个值，通常表示为具有特定类型的机器级内存地址。

不合格的词“指针”是模棱两可的。C 有指针*对象*（变量）、指针*类型*、指针*表达式*和指针*值*。

使用“指针”这个词来表示“指针对象”是很常见的，这可能会导致一些混淆——这就是为什么我尝试将“指针”用作形容词而不是名词的原因。

至少在某些情况下，C 标准使用“指针”一词来表示“指针值”。例如，**malloc**的描述说它“返回空指针或指向分配空间的指针”。

那么C中的地址是什么？它是一个指针值，即某个特定指针类型的值。（除了空指针值不一定称为“地址”，因为它不是任何东西的地址）。

标准对一元运算符的描述`&`说它“产生其操作数的地址”。在 C 标准之外，“地址”一词通常用于指代（物理或虚拟）内存地址，通常大小为一个字（无论给定系统上的“字”是什么）。

AC“地址”通常实现为机器地址——就像 C`int`值通常实现为机器字一样。但是一个 C 地址（指针值）不仅仅是一个机器地址。它是一个通常*表示*为机器地址的值，它是一个具有某种特定*类型*的值。

* * *

## 回答 #25

> 赞同：0
> 
> 时间：2015-09-06T14:41:29.713

简单地说，指针实际上是分段机制的偏移部分，分段后转换为线性地址，分页后转换为物理地址。物理地址实际上是从您的 ram 寻址的。

```
 Selector  +--------------+         +-----------+
      ---------->|              |         |           |
                 | Segmentation | ------->|  Paging   |
        Offset   |  Mechanism   |         | Mechanism |
      ---------->|              |         |           |
                 +--------------+         +-----------+
        Virtual                   Linear                Physical 
```*****

# php - PHP中的远程图像大小和尺寸得到HTTP错误

> ID：15151378
> 
> 赞同：3
> 
> 时间：2013-03-01T05:48:41.407
> 
> 标签：php, amazon-s3, remote-server, getimagesize, gdlib

我在 Amazon S3 中托管图像。我将 URL`static.example.com`指向 S3 Bucket。当我在浏览器中直接输入网址`http://static.example.com/path/mypic.png`时，图像已经存在，我也可以查看和下载。但是当我想在 PHP 中获取图像的大小和尺寸时，它会显示此错误。

```
`getimagesize($path)` 
```

这就是错误。

```
A PHP Error was encountered

Severity: Warning

Message: getimagesize(http://static.example.com/path/mypic.png) [function.getimagesize]: failed to open stream: HTTP request failed! HTTP/1.0 404 Not Found

Filename: views/template.php

Line Number: 98 
```

我可以在上传时将大小存储在数据库中，但这不是我的解决方案，我在 S3 中已经有 1000x 图像。当我这样做时`@ getimagesize($path)`，错误没有显示，但没有大小，没有尺寸。

我还查看了 PHP 文档[getimagesize (URL)](http://php.net/manual/en/function.getimagesize.php#example-3085)。链接示例假设支持远程图像。

检查`php.ini`

```
Directive           Local Value     Master Value
allow_url_fopen     On              On 
```

我哪里错了？有没有更好的方法来获取 PHP 中远程图像的图像大小和尺寸？

**注意**我 100% 确定远程图像路径是正确的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T05:55:00.203

检查你的`php.ini`文件。最可能的原因是您的服务器未设置为[`enable allow_url_fopen`](http://php.net/manual/en/filesystem.configuration.php). 作为安全预防措施，有时默认禁用此设置。

另外，顺便说一句，一旦你开始工作，你可能想要确保你正在缓存结果，因为`getimagesize`会在返回结果之前下载整个远程图像，这会给你的服务器带来很大的拖累。

[在最后一点上，您可能想按照baba](https://stackoverflow.com/questions/13700401/php-getimagesize-redirect-not-working)的建议查看[FastImage](https://github.com/olekukonko/fastimage) ......如果这个问题不是，它可能会完全避免这个问题。`enable allow_url_fopen`

# java - Java：替换字符串单词

> ID：15151384
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:49:12.810
> 
> 标签：java

我有一个字符串为“ **ISTERC Mini BAT** ”

问题是单词 Mini 可能以区分大小写的字母出现（Mini 或 MINI）

要求是，我需要从字符串中删除单词**Mini/MINI**，它应该看起来像“ **ISTERC BAT** ”（还在 Mini 之前删除了一个额外的空格）

我试过这种方式

```
public class Test {

    public static void main(String args[]) {

        String Symbol = "ISTERC Mini BAT";

        if (Symbol.contains("Mini") || Symbol.contains("MINI")) {
            Symbol = Symbol.replace(" Mini", "");
        }

        System.out.println(Symbol);

    }

} 
```

问题是我是否应该写另一个`if condition` 来处理 if contains ("MINI")

回复后尝试这种方式

```
public class Test {

    public static void main(String args[]) {

        String Symbol = "ISTERC Mini BAT";

        if (Symbol.contains("(?i)mini")) {

            Symbol = Symbol.replaceAll(" (?i)mini", "");
        }

        System.out.println(Symbol);

    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:53:48.943

使用`String#replaceAll`并传递正则表达式`(?i)word`(?i) 启用不区分大小写

```
Symbol = Symbol.replaceAll("(?i)mini\\s+", ""); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:55:18.887

尝试

`Symbol = Symbol.replaceAll("(?i) Mini", "");`

`(?i)`将使 replaceAll 方法忽略字符大小写敏感。

它应该适用于 MINI、MiNi 和任何其他可能性。

**编辑＃1：** `System.out.println(Symbol.contains("(?i) Mini", ""));`将导致布尔响应`false`，因为它不采用正则表达式。它将被`(?i) Mini`视为一个字符串本身。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T05:57:32.433

```
public class Test {
    public static void main(String args[]) {
        String Symbol = "ISTERC MINI BAT";
        Symbol = Symbol.replaceAll("( mini| MINI)","");  
        System.out.println(Symbol);
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T05:55:27.237

使用[模式](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html)：

```
Pattern pattern = Pattern.compile("mini", Pattern.CASE_INSENSITIVE);
System.out.println(pattern.matcher(symbol).replaceAll("")); 
```

# android - 如何将 openssl RSA 密钥转换为 Android 引导加载程序 RSA 密钥格式？

> ID：15151387
> 
> 赞同：1
> 
> 时间：2013-03-01T05:49:28.293
> 
> 标签：android, openssl, rsa, bootloader, bigint

我需要将使用 openssl 生成的 RSA 公钥转换为 Android 引导加载程序代码中指定的格式。Android 代码库中指定的格式是

```
typedef struct RSAPublicKeyInstance {
  int len;  // Length of n[] in number of uint32_t
  uint32_t n0inv;  // -1 / n[0] mod 2^32
  uint32_t n[RSANUMWORDS];  // modulus as little endian array
  uint32_t rr[RSANUMWORDS];  // R^2 as little endian array
} RSAPublicKeyInstance; 
```

[请在此处](https://code.google.com/p/android-source-browsing/source/browse/libc/rsa.h?repo=platform--bootable--bootloader--legacy&r=b1fde5cd7d5158b8e6876139ca76a341d0e49708)找到原始代码。相关的 C 源文件 rsa.c 可以在[这里](https://code.google.com/p/android-source-browsing/source/browse/libc/rsa.c?repo=platform--bootable--bootloader--legacy&r=b1fde5cd7d5158b8e6876139ca76a341d0e49708)找到。

如何转换从 openssl 生成的公钥中恢复的模数

```
openssl rsa -pubin -inform PEM -text -noout < public.key

Modulus (2048 bit):
00:98:10:23:16:ff:b6:f4:26:a2:42:a6:19:23:0e:
0f:27:4a:b9:43:3d:a0:4b:b9:1b:1a:57:92:dd:a8:
bc:5d:b8:6e:e6:7f:0f:2e:89:a5:77:16:d1:cf:44:
69:74:2b:b1:a9:dd:72:bd:a8:9c:aa:90:ca:7b:f4:
d3:d3:db:11:98:bd:61:f1:2c:77:41:ad:c4:42:6a:
88:d1:37:04:12:a9:36:ec:09:34:0d:31:71:b9:5a:
ea:ed:ce:61:1c:1e:5f:6c:9e:28:ee:21:2a:e4:c6:
1f:75:29:78:a5:96:b1:53:17:4d:bf:88:d1:12:5c:
a6:75:aa:7c:fe:23:a8:dd:25:35:46:c6:8a:eb:2e:
e4:a3:1d:7f:b6:6d:9c:7d:66:59:84:c9:51:15:82:
67:a6:85:e9:c8:d6:2b:a7:e6:28:08:d2:b1:99:92:
67:32:c4:ba:f7:c9:1a:16:30:e5:cb:39:cb:96:28:
70:32:ba:18:d2:64:2f:74:3e:dd:09:e0:68:56:57:
cf:50:63:c0:95:a9:b0:5b:2a:ad:21:4f:bd:e7:15:
64:4a:9d:e4:c5:c3:5c:35:bf:e6:78:f4:8a:40:83:
da:7d:0d:6c:02:60:4a:3f:0c:9c:03:fd:48:e6:72:
f3:0d:5b:90:6b:de:59:58:c9:f4:26:4a:61:b4:52:
21:1d
Exponent: 65537 (0x10001) 
```

成上述结构的格式？如何在结构中存储有关公共指数的信息？请注意，我最关心的是如何存储模数和公共指数。rr[RSANUMWORDS] 对我来说无关紧要。

非常感谢！任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T19:37:22.737

使用Chromium 项目中的[dumpRSAPublicKey](http://git.chromium.org/gitweb/?p=chromiumos/platform/vboot_reference.git;a=blob_plain;f=utility/dumpRSAPublicKey.c;hb=feb2518166b1cd181e607c611cbb610f0c7300da)。它将读取密钥，生成 n0inv 和 rr[]，然后将 RSAPublicKeyInstance 的二进制等效项写入标准输出。

# java - Java中一维数组的平均长度

> ID：15151392
> 
> 赞同：0
> 
> 时间：2013-03-01T05:50:12.880
> 
> 标签：java, arrays, average

我是网站和一般编程的新手，所以请耐心等待。

我的程序必须满足以下条件：

1.  读取一个正整数`n`，后跟点的 ( `x,y`) 坐标`n`，将这些值存储在一个名为 points 的二维数组中，其中包含`n`行和两列。

2.  创建一个二维数组，其中的`n`行和`n`列名为 distances，distances[i][j] = 从 points[i] 到 points[j] 的距离。

3.  创建一个名为 averages 的一维长度数组`n`，averages[i] = 距离行`i`的平均值。

4.  确定并打印哪个`n`点的平均距离最小。

我似乎对第 3 部分感到困惑，我将如何计算行的平均距离？

到目前为止，这是我的代码，如果有人可以帮助我完成它，我将不胜感激。还要指出我所拥有的任何错误。

```
import java.util.Scanner;

  public class Java
  {    
      public static void main( String[] args )
      {    
          Scanner input = new Scanner(System.in );    
          System.out.print("How many points: ");    
          int n = input.nextInt();    
          double[][] points = new double[n][2];    
          for(int i = 0; i < n; i++)
          {    
              //prompt or and get coordinates    
              //points[i][0] = input.nextDouble();    
              //points[i][1] = input.nextDouble();    
          }    
          double[][] distances = new double[n][n];    
          for(int i = 0; i < n; i++)    
              for(int j = 0; j < n; j++)    
                  distances[i][j] = distance(points[i], points[j]);    
          double[] averages = new double[n];    
          for(int i = 0; i < n; i++)    
              averages[i] = average( distances[i] );    
          int which_one = minimum_location( averages );    
          System.out.printf("Point # %d has a smallest average of %f\n", which_one,    
                  averages[which_one]);    
      }    
      public static double distance    
      (double x1, double y1, double x2, double y2)    
      {    
          return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));    
      }

      {    
          public static double average( double[] x);    
          //problem area    
      }

      {    
          public static int minimum_location( double[] x );    
          if (shortestDistance > distance);    
          {    
              p1 = i;    
              p2 = j;    
              shortestDistance = distance;    
          }    
      } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T09:31:04.027

这应该这样做：

```
public static double average(double[] x)
{
   double avg = 0;
   for (double d: x)
     avg += d;
   avg /= x.length;
   return avg;
} 
```

# meteor - 来自客户端数组/集合的反应式 UI

> ID：15151395
> 
> 赞同：0
> 
> 时间：2013-03-01T05:50:27.660
> 
> 标签：meteor

我刚刚开始学习流星，我想知道实现 MDI（多文档界面）UI 的正确方法是 jQuery Window 插件（[http://fstoke.me/jquery/window/](http://fstoke.me/jquery/window/) ) 在流星中。

我最初的想法是在 Session 中存储一个 Window 对象数组，然后让模板循环遍历窗口列表，并相应地渲染它们。

但是，这意味着无论何时用户打开或关闭一个窗口，我都必须使用修改后的数组调用 Session.set()，这会导致整个 UI 的完全重新渲染，可能会使用户失去他当前的工作状态（除非为要使用的表单元素动态生成唯一 ID）。

此外，UI 将支持拖放和调整大小，这将导致更新 Window 对象，但更新 Window 对象不会触发反应性渲染，除非我再次使用 windows 数组调用 Session.set，这将导致整个 UI 的另一个重新渲染。

什么是正确的方法？这样重新渲染可以仅限于创建/关闭/调整的窗口？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-20T13:41:46.883

我会创建一个名为“便签本”的集合`Windows`：

```
Windows = new Meteor.Collection(null) 
```

然后，您可以将窗口大小、位置等存储在此集合中，但不会同步到服务器。

或者，您可以将窗口排列存储为 Mongo 中用户对象的一部分，这意味着窗口排列将在会话之间持续存在（并且所有浏览器选项卡将共享相同的窗口排列）。

# c - open() 系统调用多态性

> ID：15151396
> 
> 赞同：12
> 
> 时间：2013-03-01T05:50:29.567
> 
> 标签：c, system-calls

我刚刚发现 open() (man 2 open) 系统调用有两个版本：

```
 int open(const char *pathname, int flags);
   int open(const char *pathname, int flags, mode_t mode); 
```

事实上，可以在单个 C 文件中使用其中任何一个，并且两者都可以工作。标准 C 如何做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-01T05:57:10.650

事实上，它不是 C++ 风格的函数重载。这只是`open()`可变参数：

```
int open(const char *fname, int flags, ...); 
```

只有当“标志”需要它时，它才会寻找第三个参数。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-01T05:56:28.440

它可以作为可变参数函数来完成。

POSIX 文档[`open`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/open.html)如下指定它：

```
int open(const char *path, int oflag, ...); 
```

# c# - Mess with data inside class w/ databinding

> ID：15151406
> 
> 赞同：0
> 
> 时间：2013-03-01T05:51:15.377
> 
> 标签：c#, xaml, data-binding

Im trying to edit some data within a class which is linked to with databinding. Here is my class:

```
public class Line
{
    public string Equation { get; set; }
    public int PreviousLine { get; set; }
    public int LineNumber { get; private set; }

    public Line()
    {
        this.LineNumber = (this.PreviousLine + 5);
    }
} 
```

however the line number always returns 5, even if previous line is set to 6...

here is how I link to it within my viewmodel:

```
this.Lines.Add(new Line { Equation = "5*2", PreviousLine = 6 }); 
```

thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T05:52:35.917

try declaring it as static.

```
public static int PreviousLine { get; set; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:55:11.173

```
 private int _previousLine;
    public int PreviousLine
    {
        get { return _previousLine; }
        set { _previousLine = value;
            Line = _previousLine + 5;
        }
    }
    public int Line { get; private set; } 
```

# sql-server - SQL SERVER - INT Vs GUID - 我们应该使用什么

> ID：15151408
> 
> 赞同：3
> 
> 时间：2013-03-01T05:51:34.150
> 
> 标签：sql-server, int, guid

我有疑问，我们应该在表中使用 Int / GUID。使用此方案。

使用 a`BIGINT`作为主键 - 集群等，用于连接、快速检索等。即，这是为检索和用户方便而优化的。

有一个`GUID`作为记录的唯一标记，这是您在跨服务器/应用程序等移植数据时使用的。这永远不会显示给用户，但会被标记到所有记录。

这为您提供了两全其美的优势，您可以避免使用`GUIDs`作为主键的碎片和性能损失，但在您移动数据/在系统之间共享数据时保留其优势，因为您可以独立识别记录。

有些人可能会争辩说额外的存储成本过高，但我想说从长远来看，在 SAN 上多花几美元比尝试用相同的数据列做两件不同的事情更便宜。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-01T05:54:13.187

我个人使用我`INT IDENTITY`的大部分主键和集群键。

您需要将**主键**分开，这是一个逻辑结构 - 它唯一标识您的行，它必须是唯一且稳定的，并且`NOT NULL`. A`GUID`也适用于主键 - 因为它保证是唯一的。`GUID`如果您使用 SQL Server 复制，作为主键的 A 是一个不错的选择，因为在这种情况下，无论如何您都需要一个唯一标识列`GUID`。

SQL Server 中的**集群键**是一种物理构造，用于对数据进行物理排序，要正确执行要困难得多。通常，SQL Server 上的索引女王 Kimberly Tripp 也需要一个好的集群键是唯一的、稳定的、尽可能窄的，并且理想情况下是不断增长的（这`INT IDENTITY`是）。

在此处查看她关于索引的文章：

*   [GUID 作为主键和/或集群键](http://www.sqlskills.com/BLOGS/KIMBERLY/post/GUIDs-as-PRIMARY-KEYs-andor-the-clustering-key.aspx)
*   [聚集索引辩论仍在继续……](http://sqlskills.com/BLOGS/KIMBERLY/post/The-Clustered-Index-Debate-Continues.aspx)
*   [不断增加的聚类键 - 聚类索引辩论............再次！](http://www.sqlskills.com/BLOGS/KIMBERLY/post/Ever-increasing-clustering-key-the-Clustered-Index-Debateagain!.aspx)
*   [磁盘空间很便宜——这**不是**重点！](http://www.sqlskills.com/BLOGS/KIMBERLY/post/Disk-space-is-cheap.aspx)

并参见 Jimmy Nilsson 的[The Cost of GUIDs as Primary Key](http://www.informit.com/articles/article.aspx?p=25862)

GUID 对于集群键来说是一个非常糟糕的选择，因为它很宽，完全随机，因此会导致索引碎片和性能不佳。此外，集群键行也存储在每个非集群（附加）索引的每个条目中，因此您真的希望保持较小 - GUID 为 16 字节，而 INT 为 4 字节，并且有几个非聚集索引和几百万行，这有很大的不同。

在 SQL Server 中，默认情况下您的主键是您的集群键 - 但它不是必须的。您可以轻松地将 GUID 用作非集群主键，并将 INT IDENTITY 用作集群键 - 只需稍加注意即可。

# gstreamer - jhbuild build：未知存储库类型拱

> ID：15151411
> 
> 赞同：1
> 
> 时间：2013-03-01T05:51:35.540
> 
> 标签：gstreamer, jhbuild

嗨，我正在尝试使用***JHBuild 脚本***进行***GStreamer***构建设置，我遵循了 wiki @ [http://wiki.pitivi.org/wiki/GStreamer_using_jhbuild](http://wiki.pitivi.org/wiki/GStreamer_using_jhbuild)

中给出的步骤 但是当我给出命令**gst-jhbuild build**时，它给出了*jhbuild 构建：未知存储库类型 arch*，位于 gstreamer.modules 文件中。我该如何解决这个问题？

提前致谢。

# gtk - 未找到 Jpeg 库 -- 为 gdk-pixbuf-2.27.1 运行配置脚本

> ID：15151412
> 
> 赞同：0
> 
> 时间：2013-03-01T05:51:38.663
> 
> 标签：gtk, cross-compiling, embedded-linux

```
checking for jpeg_destroy_decompress in -ljpeg... no
configure: WARNING: *** JPEG loader will not be built (JPEG library not found) ***
configure: error: 
*** Checks for JPEG loader failed. You can build without it by passing
*** --without-libjpeg to configure but some programs using GTK+ may
*** not work properly 
```

为 gdk-pixbuf-2.27.1 运行配置脚本时出现上述错误。

```
LD_LIBRARY_PATH=/usr/local/lib:/usr/lib:$LD_LIBRARY_PATH ./configure 
```

Jpeg 库安装在这里 :----

```
 /usr/lib/arm-linux-gnueabihf/libjpeg.so.8.4.0 
```

即使我做了软链接也同样的错误：----

```
ln -s /usr/lib/arm-linux-gnueabihf/libjpeg.so.8.4.0  /usr/local/lib/libjpeg.so.8.4.0 
```

我已经安装了 JPEG 库。请建议如何解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-23T14:47:32.850

不要符号链接，您应该只将相应的 libjpeg 库添加到 .bash_profile 或 .bashrc 中的路径。这是我如何做到的一个例子。

```
export LIBRARY_PATH=/usr/local/lib:/opt/libjpeg-turbo/lib64:$LIBRARY_PATH
export CPATH=/usr/local/include:/opt/libjpeg-turbo/include:$CPATH 
```

# ios - 在屏幕旋转时更新 UITabBar 宽度

> ID：15151422
> 
> 赞同：0
> 
> 时间：2013-03-01T05:52:16.723
> 
> 标签：ios, objective-c, width, uitabbar, screen-rotation

我正在以编程方式创建一个 UITabBar。这是代码，

```
UITabBarItem *item1 = [[UITabBarItem alloc] initWithTitle:@"Item 1" image:[UIImage imageNamed:@"dashboard"] tag:1];
UITabBarItem *item2 = [[UITabBarItem alloc] initWithTitle:@"Item 2" image:[UIImage imageNamed:@"documents"] tag:2];
UITabBarItem *item3 = [[UITabBarItem alloc] initWithTitle:@"Item 3" image:[UIImage imageNamed:@"mail"] tag:3];
UITabBarItem *item4 = [[UITabBarItem alloc] initWithTitle:@"Item 4" image:[UIImage imageNamed:@"packages"] tag:4];

NSArray *tabbaritems = [[NSArray alloc] initWithObjects:item1, item2, item3, item4, nil];

CGRect bounds = [[UIScreen mainScreen] bounds];
UITabBar *tbbar = [[UITabBar alloc] initWithFrame:CGRectMake(0, 411, bounds.size.width, 49)];
[tbbar setItems:tabbaritems];
[self.view addSubview:tbbar];

- (BOOL)shouldAutorotate
{
    return YES;
}

- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{
    if (toInterfaceOrientation == UIInterfaceOrientationLandscapeLeft || toInterfaceOrientation == UIInterfaceOrientationLandscapeRight) {
        //update UITabBar width
    }
    else {
        //update UITabBar width
    }
} 
```

我有 2 个问题。如您所见，我已将该`CGFloat y`值硬编码为 411。这在 3.5 英寸屏幕的纵向模式下看起来不错。但是你可以想象的问题是，如果我在 4 英寸的设备上运行它，标签栏会出现在屏幕底部的上方。如果我旋转设备（尽管屏幕大小），在横向模式下，标签栏会向下推，因此它根本不会出现在屏幕上。

1.  如何动态设置 UITabBar 的位置，以便它在任何旋转中运行的任何屏幕，它总是固定在屏幕底部？

另一个问题是宽度。`bounds.size.width`当第一次创建 UITabBar 实例时，我已经使用这条线进行了设置。

1.  如何在屏幕旋转时更新它以使其扩展以填充屏幕的整个宽度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-02T02:29:09.777

使用两个变量来代表 y 偏移和宽度。使用标志交换纵向和横向的 y 偏移和宽度。旋转后重新加载视图。

并从 viewDidLoad 中的父视图中删除旧的 tbbar。

```
...
CGRect bounds = [[UIScreen mainScreen] bounds];
CGFloat tabbarAnchor = bounds.size.height;
CGFloat tabbarWidth = bounds.size.width;
if (_flag == 1) {
    tabbarWidth = bounds.size.height;
    tabbarAnchor = bounds.size.width;
}
UITabBar *tbbar = [[UITabBar alloc] initWithFrame:CGRectMake(0, tabbarAnchor-69, tabbarWidth, 49)];
[tbbar setItems:tabbaritems];
[self.view addSubview:tbbar];
...

- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{
    if (toInterfaceOrientation == UIInterfaceOrientationLandscapeLeft || toInterfaceOrientation == UIInterfaceOrientationLandscapeRight) {
        //update UITabBar width
        _flag = 1;
        [self viewDidLoad];
    }
    else {
        //update UITabBar width
        _flag = 0;
        [self viewDidLoad];
    }
} 
```

并且仍然建议您使用已经实现旋转的 UITabBarController 。

# java - ActionBarSherlock 中的 SearchView 折叠动画

> ID：15151438
> 
> 赞同：3
> 
> 时间：2013-03-01T05:53:38.793
> 
> 标签：java, android, xml, animation, searchview

我已经毫无问题地实施`ActionBarSherlock`到我的android项目中。我现在正在尝试将 a 添加`search widget`到 ActionBar 并已成功完成。现在，我想让`Searchview`幻灯片在展开时从右侧滑入，在折叠时从右侧滑出。我有两个 XML 动画，我相信它们可以让我这样做。

search_in.xml

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
android:shareInterpolator="false" >

<translate
    android:duration="1000"
    android:fromXDelta="100%"
    android:fromYDelta="0%"
    android:toXDelta="0%"
    android:toYDelta="0%" />

</set> 
```

search_out.xml

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
android:shareInterpolator="false" >

<translate
    android:duration="700"
    android:fromXDelta="0%"
    android:fromYDelta="0%"
    android:toXDelta="100%"
    android:toYDelta="0%" />

</set> 
```

它们在 SherlockFragmentActivity 中被称为表单

```
public boolean onCreateOptionsMenu(Menu menu) {
    ...
final SearchView searchView = new SearchView(this.getSupportActionBar().getThemedContext());
    final Animation in = AnimationUtils.loadAnimation(getApplicationContext(), R.anim.search_in);
    final Animation out = AnimationUtils.loadAnimation(getApplicationContext(), R.anim.search_out);

    out.setAnimationListener(new Animation.AnimationListener(){

        @Override
        public void onAnimationEnd(Animation animation) {
            searchView.setIconified(true);

        }

        @Override
        public void onAnimationRepeat(Animation animation) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onAnimationStart(Animation animation) {
            // TODO Auto-generated method stub

        }

    });

     menu.add("Search")
        .setIcon(android.R.drawable.ic_menu_search)
        .setActionView(searchView)
        .setShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);

    final MenuItem searchMenuItem = menu.getItem(0);

    searchView.setQueryHint(getResources().getText(R.string.searchHint));
    searchView.setIconifiedByDefault(true);
    searchView.setOnQueryTextFocusChangeListener(new View.OnFocusChangeListener() {
        @Override
        public void onFocusChange(View view, boolean queryTextFocused) {

            if(!queryTextFocused){
                searchView.startAnimation(out);
                searchMenuItem.collapseActionView();
            }
            else
                searchView.startAnimation(in);
        }
    });
    return super.onCreateOptionsMenu(menu);
}//end onCreateOptionsMenu
} 
```

这是它现在的样子（因为我还不能发布图片......）：

[http://i194.photobucket.com/albums/z31/raitono/SearchviewCollapseProblem_zpsefee50e9.gif](http://i194.photobucket.com/albums/z31/raitono/SearchviewCollapseProblem_zpsefee50e9.gif)

当`search_in`点击图标时动画效果`search_out`很好，当按下后退硬件键时效果也很好。不过，当我尝试通过小 X 折叠 Searchview 时遇到了障碍。似乎 Searchview 在调用动画之前就崩溃了，我不知道该怎么办。我也试过`searchView.onActionViewCollapsed()`了，但是没有用。我的猜测是，我需要以某种方式拦截按下 X 时发出的调用并首先执行动画。

我正在尝试支持低至 2.3.5 的设备。对此的任何帮助将不胜感激。

更新：是否有办法检测小“X”何时被点击？那将解决我的问题。我一直在谷歌搜索，但找不到任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-08T16:36:47.477

我不确定 ActionBarSherlock。但在 android SearchView 小部件中，您可以使用它

```
searchView = (SearchView) menu.findItem(R.id.action_search)
                .getActionView();
        //Get the ID for the search bar LinearLayout
        int searchBarId = searchView.getContext().getResources().getIdentifier("android:id/search_bar", null, null);
        //Get the search bar Linearlayout
        LinearLayout searchBar = (LinearLayout) searchView.findViewById(searchBarId);
        //Give the Linearlayout a transition animation.
        searchBar.setLayoutTransition(new LayoutTransition()); 
```

# postgresql - PostgreSQL 递归函数返回记录集

> ID：15151448
> 
> 赞同：1
> 
> 时间：2013-03-01T05:53:57.353
> 
> 标签：postgresql, recursion, sql-function

我正在编写一个返回一组记录的 PostgreSQL 递归函数，但我不知道它的正确语法。这里的递归表是垂直的，其中包含以下列：

```
CREATE TABLE vertical
(
  id serial NOT NULL,
  name character varying(100) NOT NULL,
  insert_timestamp timestamp without time zone NOT NULL DEFAULT now(),
  deleted smallint NOT NULL DEFAULT 0,
  parent_id integer, // refer to another Vertical
  locations character varying(200),
  level smallint NOT NULL DEFAULT 1,
  CONSTRAINT vertical_pkey PRIMARY KEY (id ),
  CONSTRAINT vertical_parent_fkey FOREIGN KEY (parent_id)
      REFERENCES vertical (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT name_ukey UNIQUE (name )
) 
```

这是我的 SQL 语句（通过指定的 id 获取 Vertical 的所有子项）：

```
CREATE FUNCTION getAllVerticalChilds(verticalId integer) RETURNS SETOF RECORD AS 
$BODY$
BEGIN
   WITH RECURSIVE childs(id, name, parent_id, level) AS (
   SELECT child.id, child.name, child.parent_id, child.level
   FROM vertical child
   WHERE child.parent_id = verticalId
   UNION ALL
   SELECT parent.id, parent.name, parent.parent_id, parent.level
   FROM childs child
   INNER JOIN vertical parent ON parent.parent_id = child.id where parent.deleted=0
   )
   SELECT id, name, parent_id, level
   FROM childs;
END
$BODY$
LANGUAGE plpgsql VOLATILE; 
```

你能帮我纠正这个吗？非常感谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T10:23:00.790

在 postgresql 中，如果可以从函数中推送一些内容，则必须使用语句 RETURN。在你的情况下可能返回查询...

```
BEGIN
  RETURN QUERY WITH RECURSIVE ...
END 
```

如果将函数声明为 TABLE 函数，则函数的使用将更加用户友好

```
CREATE OR REPLACE FUNCTION xx(..) RETURNS TABLE(a int, b int, ...) 
```

这个函数的一个用法是（PostgreSQL没有声明CALL）

```
SELECT * FROM xx(..) 
```

# hibernate - 休眠 hbm2ddl 验证 - 无法解决所有检查

> ID：15151450
> 
> 赞同：1
> 
> 时间：2013-03-01T05:54:10.000
> 
> 标签：hibernate, spring-roo, hbm2ddl

我有一个很大的 roo 脚本。谁在 MySQL-5.6.10 中生成数据库。我可以成功创建模式，我可以将数据添加到数据库中。

**但**如果我从

```
<property name="hibernate.hbm2ddl.auto" value="create"/> 
```

至

```
<property name="hibernate.hbm2ddl.auto" value="validate"/> 
```

由于 mysql 从布尔值转换为有点像，我无法解决许多问题：

```
Wrong column type in ... for column ... . Found bit, expected: boolean 
```

好的，现在我的问题：

**有必要解决所有问题吗？**

**我应该禁止使用数据库*验证*创建警告吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-06T18:07:38.503

`none`我通过代替`create`or解决了同样的问题`validate`。

一次创建 dbre.xml 时，无需验证模型 - 仅当您更改数据库结构时。这可能需要更多的影响分析，但这个修复以前对我有用。

# c# - 索引在 C# 中的数组范围之外可以让我知道我在哪里犯了错误

> ID：15151453
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:54:45.663
> 
> 标签：c#, arrays, bounds

在下面的代码中，我有错误，因为索引超出了数组的范围。即使这个代码完成了正确地将单元格复制到列中..有没有人帮助我

```
string[] array = { "F3", "J3", "N3", "R3", "V3", "Z3", "AD3", "AH3", "AL3", "AP3" };
string[] arrayb={"C","G","K","O","S","W","AA","AE","AI","AM"};  

int a1count = arrayb.Length;
int b = 0;

for ( int a=0; a<= a1count; a++) 
{
 Excel.Range sourceRange = xlWorkSheet.get_Range(array[a]); 
 Excel.Range destinationRange = xlWorkSheet.UsedRange.Columns[arrayb[b]];
 sourceRange.Copy(Type.Missing);  
 destinationRange.PasteSpecial(Microsoft.Office.Interop.Excel.XlPasteType.xlPasteFormulas,   
 Microsoft.Office.Interop.Excel.XlPasteSpecialOperation.xlPasteSpecialOperationNone, false, false);
 b++;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:56:38.150

```
for ( int a=0; a<= a1count; a++) 
```

应该

```
for ( int a=0; a< a1count; a++) 
```

由于索引从 0 开始。例如，对于长度为 10 的数组，索引将从 0 到 9，而不是从 0 到 10。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:56:41.093

```
for ( int a=0; a<= a1count-1; a++)
{
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:06:01.923

它应该是

```
for ( int a=0; a < a1count; a++) 
```

不是

```
for ( int a=0; a<= a1count; a++) 
```

你得到索引超出范围，因为数组从 0 开始到 length-1 尝试使用 foreach[编码的一些最佳实践](http://www.codeproject.com/Articles/118853/Some-Best-Practices-for-C-Application-Development)

# iphone - 当我从 iPhone 中删除应用程序时，是否可以调用网络服务？

> ID：15151454
> 
> 赞同：-3
> 
> 时间：2013-03-01T05:54:48.050
> 
> 标签：iphone, ios, objective-c, uialertview, appdelegate

当我从 iphone 删除我的应用程序（按警报消息上的确定按钮）时，我想发送网络服务。有没有可能处理这种情况？如果我们确实喜欢该应用程序商店将接受该应用程序。

**注意：我知道我们无法控制苹果警报消息。但还有其他可能性**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T05:58:30.240

这是不可能的。删除应用时不会触发任何事件。删除应用程序后，该应用程序不会运行，因此无法进行任何类型的处理。

# asp.net - 为什么 JQuery AJAX 调用不起作用？

> ID：15151459
> 
> 赞同：0
> 
> 时间：2013-03-01T05:55:22.100
> 
> 标签：asp.net, ajax, jquery

以下是我的 JQuery AJAX 方法：

```
function meFun() {
    alert('enter');

    $.ajax({
        type: "POST",
        url: "About.aspx/GetRes",
        data: "{}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
            // Do something interesting here.
            alert(msg);
        }
    });
    alert('end');

} 
```

以下是我的按钮代码：

```
<input type="button" onclick="meFun();" value="Click me" id="btn" /> 
```

Folling 是我在 About.aspx 中的功能

```
Public Function GetRes() As Boolean
    Return True
End Function 
```

`meFun()`方法调用成功但不调用，`GetRes()`AJAX调用不返回任何响应。

知道为什么吗？另外，请提出一种调试此类 AJAX 问题的好方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T06:01:17.103

首先，确保您的服务器端 GetRes 函数具有 WebMethod 属性（这是在 C# 中，我不知道您如何在 VB 中做到这一点）并使 GetRes 静态（或 VB 中的任何等价物）。

```
[WebMethod]
public static bool GetRes()
{
  return true;
} 
```

然后，将`error`处理程序添加到您的 jQuery`ajax`调用中：

```
$.ajax({
        type: "POST",
        url: "About.aspx/GetRes",
        data: "{}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
            // Do something interesting here.
            alert(msg);
        },
        error: function (data) {
        }
    });
    alert('end'); 
```

编辑：要调试，在错误处理程序中设置断点并检查`data`参数。所有浏览器（嗯，我可以保证 IE、Firefox（带有 Firebug）和 Chrome）都有很好的脚本调试器。如果发生错误，将有一个属性`data`，它的名称目前让我难以理解，它详细解释了错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:13:53.290

您正在以字符串格式返回数据，而您的 AJAX 调用期望 JSON 格式，因此在服务器端使用 newtonsoft 库或 asp.net 的内置 jsonconversion 机制将 TRUE 转换为 JSON 格式

正如 svajger 所提到的，您必须将其声明为 webmethod，并且它必须是静态的，返回类型是首选字符串

在成功处理程序中，您必须通过 JSON.parse 方法解析 json 数据

# perl - 如何在perl中添加警告蜂鸣声

> ID：15151462
> 
> 赞同：3
> 
> 时间：2013-03-01T05:55:28.787
> 
> 标签：perl

我查看了以下链接：

[http://search.cpan.org/~giulienk/Audio-Beep-0.11/Beep.pod](http://search.cpan.org/~giulienk/Audio-Beep-0.11/Beep.pod)

我尝试了以下代码：

```
use Audio::Beep;
$freq=440;
$milliseconds=100;
beep($freq, $milliseconds);

use Audio::Beep;
my $beeper = Audio::Beep->new();

my $music = "g' f bes' c8 f d4 c8 f d4 bes c g f2";
$beeper->play( $music ); 
```

但这会产生以下错误：

在 C:\wamp\www\beep.pl 第 5 行找不到工作播放器

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:21:25.073

像 ASCII 钟一样？

```
my $bell = chr(7);
print $bell; 
```

可能不起作用，具体取决于您的终端的性质。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-01T14:30:46.170

你误读了`Perldoc`.

您可以：

```
use Audio::Beep;
beep ($freq, $milliseconds); 
```

或者

```
use Audio::Beep;
my $beeper = Audio::Beep->new;
my $music = "g' f bes' c8 f d4 c8 f d4 bes c g f2";
$beeper->play ($music); 
```

另请查看 Perldoc 的[需求](http://search.cpan.org/~giulienk/Audio-Beep-0.11/Beep.pod#REQUIREMENTS)部分。您可能没有所需的所有部件。有趣的是，版权是 2004 年，但不支持 Windows 95、ME、98 或 XP——所有在版权保护后的前十年中就已经出现的 Windows 操作系统。换句话说，这可能根本不适合 Windows。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-03-28T05:40:38.837

在我使用的 Windows 上

```
use Win32::Sound;
Win32::Sound::Play("SystemDefault"); 
```

[https://metacpan.org/pod/Win32::声音](https://metacpan.org/pod/Win32::Sound)

# joomla - 更改 joomla 顶部菜单的类名

> ID：15151463
> 
> 赞同：5
> 
> 时间：2013-03-01T05:55:36.103
> 
> 标签：joomla, joomla2.5

我正在尝试创建一个 joomla 2.5 模板。我在 index.php 中使用以下代码来显示顶部菜单项。

```
 <?php if ($this->countModules('topmenu')): ?>    
  <hr>
  <div class="container">
     <jdoc:include type="modules" name="topmenu"/>
  </div>
<?php endif; ?> 
```

上面的代码生成以下html

```
<ul class="menunav">
   <li class="item-464 active"><a href="/joomla2/" >Home</a></li>
   <li class="item-444"><a href="/joomla2/index.php/sample-sites" >Sample Sites</a>
   </li><li class="item-207"><a href="http://joomla.org" >Joomla.org</a></li>
</ul> 
```

问题是我用于设计顶部菜单项的类名是`nav`，如果我有如下的 html，菜单应该可以正常工作

```
 <ul class="nav">
      <li class="active"><a href="#">Home</a></li>
      <li><a href="#">Sample Sites</a></li>
      <li><a href="#">Joomla ORG</a></li>
  </ul> 
```

我听说过[class suffix](http://docs.joomla.org/Using_Class_Suffixes)，但我试图不从管理面板完成它。因为每次新用户使用我的模板时，都必须从管理面板添加类后缀。

我已经尝试了以下代码，但它没有改变任何东西：

```
<script type="text/javascript">
    $(document).ready(function() {
       $('.menunav').removeClass('menunav').addClass('nav');
    });
</script> 
```

您能告诉我如何更改 joomla 2.5 中的顶级菜单类名称吗

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T08:34:00.237

首先我做了一个错误的答案，你可以在下面检查它，它可能有用。

现在真正的答案。您需要覆盖菜单输出的默认样式。在您的模板文件夹中，创建文件夹 html，并在其中创建文件夹 mod_menu。现在`default.php`从那里复制文件`modules\mod_menu\tmpl`。

打开文件并更改行

`<ul class="menu<?php echo $class_sfx;?>"`

到

`<ul class="nav"`.

Joomla 现在将使用您的覆盖来渲染菜单。这样，您可以覆盖任何 Joomla 输出，而无需更改核心文件。

现在创建自定义模块输出的先前答案可能对某人有用：

您需要创建新的`module chrome`. 在您的模板 html 文件夹中，创建名为`modules.php`.

在里面，做一个这样的函数

```
defined('_JEXEC') or die;

function modChrome_nosfx($module, &$params, &$attribs)
{
    if (!empty ($module->content)) : ?>
        <div class="moduletable">
        <?php if ($module->showtitle != 0) : ?>
            <h3><?php echo $module->title; ?></h3>
        <?php endif; ?>
            <?php echo $module->content; ?>
        </div>
    <?php endif;
} 
```

这样您就可以创建自定义模块输出。

然后，在您的模板文件中，包含这样的模块：

```
 <?php if ($this->countModules('topmenu')): ?>    
  <hr>
  <div class="container">
     <jdoc:include type="modules" name="topmenu" style="nosfx" />
  </div>
<?php endif; ?> 
```

添加`style="nosfx"`新功能后，将用于渲染模块。默认样式是`xhtml`，你可以`templates/system/html`在 modules.php 文件的文件夹中找到它的代码

# php - HTML 表单似乎没有发布到 PHP

> ID：15151464
> 
> 赞同：0
> 
> 时间：2013-03-01T05:55:56.947
> 
> 标签：php, html, forms

您好，感谢您的宝贵时间。

不管我做了多少研究，我都找不到已经讨论过的解决这个问题的方法。

问题是提交按钮会自动重定向，似乎没有发布表单。它一直有效，直到我从 MySQL 函数转换为 MySQLi。除了网站的这一部分，其他一切都在工作。

**HTML 表单（myaccount.inc.php）：**

```
<div id="change-password">

<form class="clearfix" action="" method="post">

        <div><span class="he1">Change Password</span></div>

        <div>
            <?php include_once 'controllers/accountController.php'; ?>
        </div>

        <div><label class="fieldlabel" for="password">Current Password:</label></div>
        <input type="password" name="password" id="password" size="23" /><br />

        <div><label class="fieldlabel" for="passwordnew1">New Password:</label></div>
        <input type="password" name="passwordnew1" id="passwordnew1" size="23" /><br />

        <div><label class="fieldlabel" for="passwordnew2">Confirm New Password:</label></div>
        <input type="password" name="passwordnew2" id="passwordnew2" size="23" /><br />

        <input type="submit" name="submit" value="Change Password" class="bt_changepass" />

</form>

</div> 
```

然后，由于缺乏更好的术语，这种形式由一些​​ PHP 控制。

**PHP (accountController.php):**

```
// Checking whether the Password Change form has been submitted.
if(isset($_POST['submit'])=='Change Password')
{
echo "<br />";

// Get the data from the database.
$sql = $mysqli->query("SELECT * FROM ss_members WHERE usr = '".$_SESSION['usr']."' AND pass = '".md5($_POST['password'])."'");
$row = $sql->fetch_assoc();

// Will hold our errors
$err = array();

if($_POST['password'] == "" || $_POST['passwordnew1'] == "" || $_POST['passwordnew2'] == "")
{
    $err[] = 'All the fields must be filled in!';
}

if(!$row['pass'] == md5($_POST['password']) && $_POST['passwordnew1'] != "" && $_POST['passwordnew2'] != "")
{
    $err[] = 'Current password is not correct!';
}

if($_POST['passwordnew1'] <> $_POST['passwordnew2'])
{
    $err[] = 'New passwords do not match!';
}

if(!count($err))
{
    if($row['usr'])
    {
        // If everything is OK change password.
        $stmt = $mysqli->prepare("UPDATE ss_members SET pass = md5(?) WHERE usr = {$_SESSION['usr']}");
        $stmt->bind_param('s', $_POST['passwordnew1']);
        $stmt->execute();
        $stmt->close();

        echo "Password has been sucessfully updated!<br />";
    }
    else
    {
        $err[]='Something broke!';
    }
}

if($err)
{
    // Save the error messages in the session.
    foreach($err as $error)
    {
        echo $error . "<br />";
    }   
}

echo "<br />";
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T05:57:29.873

您的标签中没有`action`设置，`<form>`它将数据发送到同一个文件。即，`myaccount.inc.php`。

将其更改为：

```
<form class="clearfix" action="accountController.php" method="post"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T05:57:47.190

试试这个 ：

给表单动作`accountController.php`

`<form class="clearfix" action="accountController.php" method="post">`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T06:02:19.243

问题是你包括

`<?php include_once 'controllers/accountController.php'; ?>`

标头发送后。

您可以移动

`<?php include_once 'controllers/accountController.php'; ?>`

到页面顶部，在处理程序部分内，或者您可以将表单提交到

`controllers/accountController.php`

使用

`<form class="clearfix" action="controllers/accountController.php" method="post">`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T06:02:44.860

将您更改`action`为此，因为`accountController.php`存在于 `controllers`文件夹中。

```
<form class="clearfix" action="controllers/accountController.php" method="post"> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-01T06:33:49.870

mysqli 是一个类，它的函数查询不是静态的，所以你必须先声明一个 mysqli 类的实例，然后才能使用`$mysqli->query`.

你应该把

`$mysqli = new mysqli('localhost', 'my_user', 'my_password', 'my_db');`

前

```
$sql = $mysqli->query("SELECT * FROM ss_members WHERE usr = '".$_SESSION['usr']."' AND pass = '".md5($_POST['password'])."'"); 
```

# ios - 使用文档目录中的音频文件填充 UIPickerView

> ID：15151470
> 
> 赞同：0
> 
> 时间：2013-03-01T05:56:24.973
> 
> 标签：ios, nsarray, uipickerview

我正在尝试从目录中获取 .caf 文件，然后将它们放入 UIPickerView 中，以便在点击每一行时播放它们。

到目前为止，我有这段代码，但不知道如何将文件放入数组中。

```
NSString *extension = @"caf";
NSFileManager *fileManager = [NSFileManager defaultManager];
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *documentsDirectory14 = [documentsDirectory stringByAppendingPathComponent:@"/Family"];
NSArray *contents = [fileManager contentsOfDirectoryAtPath:documentsDirectory14 error:&error];
NSMutableArray *cafFiles = [NSMutableArray arrayWithCapacity: [contents count]];

NSString *filename;
for (filename in contents)

    NSLog(@"filename;%@",filename);

{
    if ([[filename pathExtension] isEqualToString:extension])
    {

        [cafFiles  addObject: [NSMutableArray  arrayWithContentsOfFile:[documentsDirectory14 stringByAppendingPathComponent:filename]]];
    }
}    

 NSLog(@"jpegFiles;%@",cafFiles );

covers= [NSMutableArray arrayWithArray:cafFiles];{
    for (filename in cafFiles);
}
NSLog(@"%@", covers); 
```

有人可以帮我吗？

如果我使用封面作为它的数组，这会将文件的名称放在选择器视图中吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T09:07:14.967

看起来您正在尝试加载实际的音频数据，而选择器视图不需要这些数据 - 您想要文件的名称。试试这个代码，它是基于你的：

```
NSString *extension = @"caf";
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *familyDirectory = [paths[0] stringByAppendingPathComponent:@"Family"];
NSArray *directoryContents = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:familyDirectory
                                                                        error:NULL];
NSIndexSet *cafFileNameIndexes = [directoryContents indexesOfObjectsPassingTest:^BOOL(NSString *fileName, NSUInteger idx, BOOL *stop) {
    return [[fileName pathExtension] isEqualToString:extension];
}];
NSArray *cafFileNames = [directoryContents objectsAtIndexes:cafFileNameIndexes]; 
```

然后`cafFileNames`用作底层数据来实现你的`UIPickerViewDelegate`/`UIPickerViewDataSource`方法。

# mod-rewrite - 将所有请求重定向到 index.html

> ID：15151474
> 
> 赞同：0
> 
> 时间：2013-03-01T05:56:38.890
> 
> 标签：mod-rewrite, redirect, apache2

我正在尝试将所有未知请求重定向到 index.html。例如，如果有人输入：

```
http://IP_Address/blah_blah _blah 
```

然后它必须重定向到 index.html。以下是我尝试过的代码：

我有我的根目录`/var/www/some_dir/index.html`

```
RewriteEngine on
RewriteCond %{REQUEST_URI} !^/index.html$
RewriteRule . index.html [R=302,L] 
```

当我尝试此代码时，它正在重定向到`http://Ip_address/var/www/accesspage/index.html`

我想`http://Ip_address/index.html`

但我想通过 index.html 重定向到其他 html 页面

下面是我的 Apache 配置

```
DocumentRoot /var/www/access/
<Directory />
    Options FollowSymLinks
    AllowOverride None
</Directory>
<Directory /var/www/access/>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    allow from all
</Directory> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:00:35.467

只需使用 .htaccess 制作自定义 404 页面，然后在该页面上使用 header() 来重定向用户。（如果您不想使用 php，也可以使用 javascript 重定向）

# c++ - C++中的简单字典

> ID：15151480
> 
> 赞同：64
> 
> 时间：2013-03-01T05:56:52.617
> 
> 标签：c++, map, dictionary

将一些代码从 Python 移动到 C++。

```
BASEPAIRS = { "T": "A", "A": "T", "G": "C", "C": "G" } 
```

思维导图可能是矫枉过正？你会用什么？

* * *

## 回答 #1

> 赞同：119
> 
> 时间：2013-03-01T06:28:11.740

您可以使用以下语法：

```
#include <map>

std::map<char, char> my_map = {
    { 'A', '1' },
    { 'B', '2' },
    { 'C', '3' }
}; 
```

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2013-03-01T06:32:45.913

如果您正在优化，并且假设输入始终是四个字符之一，那么下面的函数可能值得一试作为地图的替代品：

```
char map(const char in)
{ return ((in & 2) ? '\x8a' - in : '\x95' - in); } 
```

它的工作原理是您正在处理两个对称对。条件用于区分 A/T 对和 G/C 对（'G' 和 'C' 恰好有第二个最不重要的共同位）。其余算法执行对称映射。它基于以下事实：a = (a + b) - b 对于任何 a,b 都是正确的。

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2013-03-01T06:25:46.533

虽然使用 a`std::map`很好或使用 256 大小的 char 表很好，但您可以通过简单地使用`enum`. 如果你有 C++11 特性，你可以使用`enum class`强类型：

```
// First, we define base-pairs. Because regular enums
// Pollute the global namespace, I'm using "enum class". 
enum class BasePair {
    A,
    T,
    C,
    G
};

// Let's cut out the nonsense and make this easy:
// A is 0, T is 1, C is 2, G is 3.
// These are indices into our table
// Now, everything can be so much easier
BasePair Complimentary[4] = {
    T, // Compliment of A
    A, // Compliment of T
    G, // Compliment of C
    C, // Compliment of G
}; 
```

用法变得简单：

```
int main (int argc, char* argv[] ) {
    BasePair bp = BasePair::A;
    BasePair complimentbp = Complimentary[(int)bp];
} 
```

如果这对您来说太多了，您可以定义一些帮助程序来获取人类可读的 ASCII 字符并获得碱基对恭维，这样您就不会一直进行`(int)`强制转换：

```
BasePair Compliment ( BasePair bp ) {
    return Complimentary[(int)bp]; // Move the pain here
}

// Define a conversion table somewhere in your program
char BasePairToChar[4] = { 'A', 'T', 'C', 'G' };
char ToCharacter ( BasePair bp ) {
    return BasePairToChar[ (int)bp ];
} 
```

它干净、简单、高效。

现在，突然之间，您没有 256 字节的表。您也没有存储字符（每个 1 个字节），因此如果您将其写入文件，您可以为每个碱基对写入 2 位，而不是每个碱基对写入 1 个字节（8 位）。我必须使用将数据存储为每个 1 个字符的生物信息学文件。好处是它是人类可读的。缺点是本来应该是 250 MB 的文件最终占用了 1 GB 的空间。移动、存储和使用是一场噩梦。当然，即使考虑到蠕虫 DNA ，250 MB 也是*慷慨的。*无论如何，没有人会阅读 1 GB 的碱基对。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2013-03-01T06:01:09.570

在我真正关心性能之前，我会使用一个函数，它接受一个基数并返回它的匹配项：

```
char base_pair(char base)
{
    switch(base) {
        case 'T': return 'A';
        ... etc
        default: // handle error
    }
} 
```

如果我关心性能，我会将基数定义为四分之一字节。0 代表 A，1 代表 G，2 代表 C，3 代表 T。然后我将 4 个碱基打包成一个字节，为了得到它们的对，我只需取补码即可。

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2013-03-01T06:02:57.773

这是地图解决方案：

```
#include <iostream>
#include <map>

typedef std::map<char, char> BasePairMap;

int main()
{
    BasePairMap m;
    m['A'] = 'T';
    m['T'] = 'A';
    m['C'] = 'G';
    m['G'] = 'C';

    std::cout << "A:" << m['A'] << std::endl;
    std::cout << "T:" << m['T'] << std::endl;
    std::cout << "C:" << m['C'] << std::endl;
    std::cout << "G:" << m['G'] << std::endl;

    return 0;
} 
```

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2013-03-01T05:58:59.843

char数组中的表：

```
char map[256] = { 0 };
map['T'] = 'A'; 
map['A'] = 'T';
map['C'] = 'G';
map['G'] = 'C';
/* .... */ 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-03-01T06:48:05.010

这是我能想到的最快、最简单、最小的空间解决方案。一个好的优化编译器甚至会消除访问 pair 和 name 数组的成本。该解决方案在 C 中同样适用。

```
#include <iostream>

enum Base_enum { A, C, T, G };
typedef enum Base_enum Base;
static const Base pair[4] = { T, G, A, C };
static const char name[4] = { 'A', 'C', 'T', 'G' };
static const Base base[85] = 
  { -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1,  A, -1,  C, -1, -1,
    -1,  G, -1, -1, -1, -1, -1, -1, -1, -1, 
    -1, -1, -1, -1,  T };

const Base
base2 (const char b)
{
  switch (b)
    {
    case 'A': return A;
    case 'C': return C;
    case 'T': return T;
    case 'G': return G;
    default: abort ();
    }
}

int
main (int argc, char *args) 
{
  for (Base b = A; b <= G; b++)
    {
      std::cout << name[b] << ":" 
                << name[pair[b]] << std::endl;
    }
  for (Base b = A; b <= G; b++)
    {
      std::cout << name[base[name[b]]] << ":" 
                << name[pair[base[name[b]]]] << std::endl;
    }
  for (Base b = A; b <= G; b++)
    {
      std::cout << name[base2(name[b])] << ":" 
                << name[pair[base2(name[b])]] << std::endl;
    }
}; 
```

base[] 是一个快速的 ascii char 到 Base（即 int 介于 0 和 3 之间）查找，有点难看。一个好的优化编译器应该能够处理 base2() 但我不确定是否有。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-03-01T06:05:10.117

> BASEPAIRS = { "T": "A", "A": "T", "G": "C", "C": "G" } 你会用什么？

也许：

```
static const char basepairs[] = "ATAGCG";
// lookup:
if (const char* p = strchr(basepairs, c))
    // use p[1] 
```

;-)

# actionscript-3 - 将影片剪辑移动到给定的目的地 x 和 y 保护到弧

> ID：15151481
> 
> 赞同：-1
> 
> 时间：2013-03-01T05:57:01.197
> 
> 标签：actionscript-3, flash

我想要一个影片剪辑从射弹弧的当前位置移动到鼠标点击目标 x 和 y。我也想在8个方向上做......请帮助......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T10:20:22.517

看起来您需要两个补间，一个用于 X，一个用于 Y。假设您已锁定“destX”和“destY”，以及“sourceX”和“sourceY”。您希望您的 Y 函数始终按某个值（即高程）对齐。制作一个补间函数，类似这样：

```
function yParabola(t:Number,b:Number,c:Number,d:Number,p:Number=-30):Number {
    return b+c*t/d+4.0*(t/d*(1.0-t/d)*p);
} 
```

并将其输入到 Y 的补间中。主要的问题是 fl.transitions.Tween 引擎无法使其补间在其缓动函数中传递第 5 个或第 6 个参数，因此您可能需要使用一组不同的抛物线函数，如下所示：

```
function bigParabola(t:Number,b:Number,c:Number,d:Number):Number {
    return yParabola(t,b,c,d,-100);
} 
```

并将它们喂给您可能需要的不同补间。

# model-view-controller - MVC 依赖注入对象引用未设置为对象的实例

> ID：15151498
> 
> 赞同：0
> 
> 时间：2013-03-01T05:57:51.607
> 
> 标签：model-view-controller, azure

我想知道是否有人可以在这段代码的一行中解释语法：下面的 doBgProcess 函数，当我从控制器类调用它工作正常但是当我试图从 OnStart() 函数中的工作角色调用它时，它会抛出异常“对象引用未设置为对象的实例”

```
 [Dependency]
    public IMembershipService IMemberhipSvcInst { get; set; }

    [Dependency]
    public IBenchmarkService IBenchmarkSvcInst { get; set; }
    #endregion
    public DashboardProcess()
    {
        //Resolving Dependency
       IMemberhipSvcInst = DependencyResolver.Current.GetService<IMembershipService>();

    }

 public bool doBgProcess(Guid userProfileId)
    {

            if (userProfileId != null && userProfileId != Guid.Empty)
            {
                IMemberhipSvcInst.GetAllUserEmails();
            }
          return true;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:57:12.647

您的 Web 角色（包含控制器）和 Worker 角色在不同的机器上运行。因此，为了使 DependencyResolver 正常工作，您可能会在**Global.asax**中进行所需的初始化。

现在，如果您想在您的 WorkerRole.cs（它是另一台机器）或您的 WebRole.cs（它是一个不同的进程）中使用相同的 DependencyResolver，您还需要在 OnStart 中初始化您的 IoC Container / DependencyResolver Web/WorkerRole.cs 的

# wordpress - 自动为上传创建新文件夹时出现 WordPress 警告

> ID：15151500
> 
> 赞同：0
> 
> 时间：2013-03-01T05:57:53.787
> 
> 标签：wordpress, permissions

今天我在 wordpress 中收到了这个警告：

```
Warning: file_exists(): open_basedir restriction in effect. File(/) is not within the allowed path(s): (/home/testams/:/tmp:/usr/share/pear54) in /home/testams/domains/testams.serveriai.lt/public_html/SA/wp-includes/functions.php on line 1335

Warning: is_dir(): open_basedir restriction in effect. File(/) is not within the allowed path(s): (/home/testams/:/tmp:/usr/share/pear54) in /home/testams/domains/testams.serveriai.lt/public_html/SA/wp-includes/functions.php on line 1344

Warning: file_exists(): open_basedir restriction in effect. File(/) is not within the allowed path(s): (/home/testams/:/tmp:/usr/share/pear54) in /home/testams/domains/testams.serveriai.lt/public_html/SA/wp-includes/functions.php on line 1335

Warning: is_dir(): open_basedir restriction in effect. File(/) is not within the allowed path(s): (/home/testams/:/tmp:/usr/share/pear54) in /home/testams/domains/testams.serveriai.lt/public_html/SA/wp-includes/functions.php on line 1344

Warning: file_exists(): open_basedir restriction in effect. File(/) is not within the allowed path(s): (/home/testams/:/tmp:/usr/share/pear54) in /home/testams/domains/testams.serveriai.lt/public_html/SA/wp-includes/functions.php on line 1335

Warning: is_dir(): open_basedir restriction in effect. File(/) is not within the allowed path(s): (/home/testams/:/tmp:/usr/share/pear54) in /home/testams/domains/testams.serveriai.lt/public_html/SA/wp-includes/functions.php on line 1344

Warning: file_exists(): open_basedir restriction in effect. File(/) is not within the allowed path(s): (/home/testams/:/tmp:/usr/share/pear54) in /home/testams/domains/testams.serveriai.lt/public_html/SA/wp-includes/functions.php on line 1335

Warning: is_dir(): open_basedir restriction in effect. File(/) is not within the allowed path(s): (/home/testams/:/tmp:/usr/share/pear54) in /home/testams/domains/testams.serveriai.lt/public_html/SA/wp-includes/functions.php on line 1344 
```

当我更改“设置”>“媒体”>“将我的上传文件组织到基于月份和年份的文件夹中”时，此警告消失，创建文件夹的权限可能有什么问题，以及如何解决此问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:11:39.113

欺骗：[open_basedir 限制生效。文件（/）不在允许的路径内：](https://stackoverflow.com/questions/1846882/open-basedir-restriction-in-effect-file-is-not-within-the-allowed-paths)

`open_basedir restriction in effect`在某些具有该指令以确保安全的共享主机上，这是一个常见错误。要求您的主机更改它，或者如果您有权访问 .htaccess，请自己尝试更改；但服务器可能配置为不允许您在 .htaccess 中覆盖。

# jquery - 如何让 li 标签单独亮起

> ID：15151501
> 
> 赞同：1
> 
> 时间：2013-03-01T05:58:17.347
> 
> 标签：jquery

如何让`li`标签在鼠标悬停时单独亮起所有`li`标签同时亮起

```
 $(document).ready(function(){
  $("li").mouseover(function(){
   $("li").css("background-color","yellow");
 });
  $("li").mouseout(function(){
  $("li").css("background-color","lightgray");
  });
}); 
```

HTML：

```
 <ul class="menu">
 <li>Bookmarks</li>
 <li>Something</li>
 <li>BUMPER STICKERS</li>
 <li>CARBONLESS FORMS</li>
 <li>CD JACKETS</li>
 <li>DIE CUT/CUSTOM STICKERS</li>
 <li>DOOR HANGERS</li>
 <li>ENVELOPES</li>
 <li>FOLDERS</li>
 <li>LETTERHEADS</li>
 <li>RECTANGULAR STICKERS</li>
 <li>ROUND STICKERS</li>
 <li>STATIC CLING </li>
 <li>TABLE TENTS</li>
 <li>VINYL BANNERS</li>
<li>WINDOW STICKERS</li>

</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T05:59:51.370

演示：http: [//jsfiddle.net/whZYD/](http://jsfiddle.net/whZYD/)

```
 $(document).ready(function(){
  $("li").mouseover(function(){
   $(this).css("background-color","yellow");
 });
  $("li").mouseout(function(){
  $(this).css("background-color","lightgray");
  });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:01:17.243

为什么不直接使用 CSS？

```
li {
    background-color: lightgray;
}

li:hover {
    background-color: yellow;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T06:02:33.737

尝试：

```
$(document).ready(function () {
 $("li").hover(function () {
     $(this).css("background-color", "yellow");
 }, function () {
     $(this).css("background-color", "lightgray");
 });
}); 
```

或者干脆使用 Css：

```
li {
  background-color: lightgray;
}

li:hover {
  background-color: yellow;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T06:08:48.037

代码：

```
 #page li:hover a:visited
    {
    background-color:green;
    } 
```

看看下面的链接：

[li:hover 访问过的颜色](https://stackoverflow.com/questions/7968791/lihover-a-visited-colour)

[http://htmlbook.ru/css/hover](http://htmlbook.ru/css/hover)

# html - 用于 Html 百分比的 vb.net 函数

> ID：15151504
> 
> 赞同：0
> 
> 时间：2013-03-01T05:58:37.497
> 
> 标签：html, .net, vb.net

我有一些文章保存在数据库中。在某些页面上，我想根据某些设置显示一定百分比的文章。例如文章的 80%

问题是，如果我采用一定百分比的字符串长度，那么 html 不是纯文本，那么格式化会受到干扰，在我提供字符串和新长度（这将小于旧字符串长度）的某些功能中，有任何帮助吗？它会在不影响我尝试过的格式的情况下返回我截断的 html

```
Private Function HtmlSubstring(html As String, maxlength As Integer) As String
        'initialize regular expressions
        Dim htmltag As String = "</?\w+((\s+\w+(\s*=\s*(?:"".*?""|'.*?'|[^'"">\s]+))?)+\s*|\s*)/?>"
        Dim emptytags As String = "<(\w+)((\s+\w+(\s*=\s*(?:"".*?""|'.*?'|[^'"">\s]+))?)+\s*|\s*)/?></\1>"

        'match all html start and end tags, otherwise get each character one by one..
        Dim expression As Regex = New Regex(String.Format("({0})|(.?)", htmltag))
        Dim matches As MatchCollection = expression.Matches(html)

        Dim i As Integer = 0
        Dim content As New StringBuilder()
        For Each match As Match In matches
            If match.Value.Length = 1 AndAlso i < maxlength Then
                content.Append(match.Value)
                i += 1
                'the match contains a tag
            ElseIf match.Value.Length > 1 Then
                content.Append(match.Value)
            End If
        Next

        Return Regex.Replace(content.ToString(), emptytags, String.Empty)
    End Function 
```

但并不总是有效

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:02:24.450

我很确定没有内置的 .NET 方法可以满足您的要求。但是，请考虑以下方法：

您的 HTML 页面可能是结构化的，即它有段落、标题等：

```
<h1>...</h1>
<p>...</p>
<h2>...</h2>
<p>...<more tags>...</more tags></p>
<h2>...</h2>
<p>...</p>
... 
```

你可以做的是：

1.  使用 HTML 解析器（在此上下文中经常提到[HTML 敏捷包）并将您的 HTML 解析为数据结构。](http://htmlagilitypack.codeplex.com/)
2.  取前 80%*的顶级标签*。例如，如果您的 HTML 内容的根节点有十个子节点，则取前八个：

    ```
    <h1>...</h1>
    <p>...</p>
    <p>...</p>
    <h2>...</h2>
    <p>
       ...
       <more tags>
          ...
       </more tags>
       ...
    </p>
    <p>...</p>
    <p>...<more tags>...</more tags>...</p>
    <p>...</p>
    ---------------
    <h2>...</h2>
    <p>...</p> 
    ```

如果您的文章间距*大致*均匀（即，您的长段落和短段落在整个文章过程中平均分布），这将为您提供*大约*80% 的文本，而不会破坏任何 HTML 格式。作为额外的好处，您不会在中行或中段拆分文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:22:53.063

最后以下对我来说效果很好

```
 Private Function HtmlSubstring(ByRef html As String, maxlength As Integer) As String
    'initialize regular expressions
    Const htmltag As String = "</?\w+((\s+\w+(\s*=\s*(?:"".*?""|'.*?'|[^'"">\s]+))?)+\s*|\s*)/?>"
    'match all html start and end tags, otherwise get each character one by one..
    Dim expression As Regex = New Regex(String.Format("({0})|(.?)", htmltag))
    Dim matches As MatchCollection = expression.Matches(html)
    Dim i As Integer = 0
    Dim isEndingSet As Boolean = False
    Dim content As StringBuilder = New StringBuilder()
    For Each match As Match In matches
        If match.Value.Length = 1 AndAlso i < maxlength Then
            content.Append(match.Value)
            'the match contains a tag
            i += 1
        ElseIf match.Value.Length > 1 Then
            If (isEndingSet AndAlso (match.Value.ToLower() = "<br />" OrElse match.Value.ToLower() = "<br>")) Then
                Continue For
            End If
            content.Append(match.Value)
        End If
        If (i = maxlength AndAlso Not isEndingSet) Then
            content.Append("....")
            isEndingSet = True
        End If
    Next

    Return content.ToString()
End Function 
```

# c# - 实体框架查找结果与 LINQ 结果

> ID：15151506
> 
> 赞同：2
> 
> 时间：2013-03-01T05:58:45.280
> 
> 标签：c#, asp.net, entity-framework

我是一名新的 .NET 开发人员。我有 2 个这样的实体类

```
public class Student
{
    public int userId { get; set; }
    public string username { get; set; }
    public string firstname { get; set; }
    public string lastname { get; set; }
    public string email { get; set; }
    public Course course { get; set; }
}

public class Course
{
    [Key]
    public int courseId { get; set; }
    public String courseName { get; set; }
} 
```

我正在使用这样的数据库上下文对象

```
using (MyDbContext db = new MyDbContext()) 
```

当我使用访问 Student 对象时

```
Student stdent = db.students.Find(1); 
```

学生对象中本机类型（int，string）的成员变量包含值，但类型（Course）的课程变量返回null。

然而，当我使用

```
var result = from student in db.students where student.userId == 1 select student; 
```

结果包含所有成员变量的值（此处存在整个课程对象）

**这是预期的行为还是我错过或忽略了什么？**

我什至在我的数据库上下文中添加了这个构造函数来禁用延迟加载但没有帮助

```
 public MyDbContext() : base()
    {
        this.Configuration.LazyLoadingEnabled = false;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:06:23.897

使用延迟加载仅加载初始对象。为了获得第二个选项来检索课程信息，您需要在加载选项中指定。

```
DataLoadOptions dataLoadOptions = new DataLoadOptions();
dataLoadOptions.LoadWith<Customer>(c => c.Course);
db.LoadOptions = dataLoadOptions;

Student stdent = db.students.Find( c=>c.userid == 1).FirstOrDefault(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T07:47:08.663

这里发生的是，在第一种情况（查找）中，您从数据库中获取一个对象。`Course`不是延迟加载，所以`Course`参考是`null`.

在第二种情况下，您只是定义了一个查询，而不是执行它。我假设您在之后遍历结果并同时检查是否`Course`存在。这会导致`Course`加载，因为您`Course`在执行时访问导航属性，它已成为查询的一部分。

如果你这样做

```
var s = (from student in db.students where student.userId == 1 select student)
        .Single(); 
```

您会注意到它是空的，因为在执行查询时（语句）`Course`没有引用学生就被提取了。`Course``Single`

# android - 执行 adb.exe devices 命令后返回的代码/ID

> ID：15151507
> 
> 赞同：0
> 
> 时间：2013-03-01T05:58:46.547
> 
> 标签：android, adb

我是 android 应用程序开发的新手，我需要一些关于 adb.exe 设备命令的信息。

当我们执行命令`"adb.exe devices"`以查看连接的 android 设备时，它会返回一个 ID，例如：- 对于三星，它会返回一个 ID `"7a0d5da2"`(DeviceId)。

我想知道这段代码是什么，它对于 HTC/任何其他 android 设备是否不同。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T21:00:56.517

此设备 ID 应该对每个设备都是唯一的。大多数体面的供应商的商业产品都是如此。它基于设备在 USB 枚举期间向 USB 堆栈报告的序列号。

# c++ - 等待收到消息？与 msgrcv c++

> ID：15151514
> 
> 赞同：0
> 
> 时间：2013-03-01T05:59:37.450
> 
> 标签：c++, linux, ubuntu

我正在使用 msgsnd 和 msgrcv，我想知道如何在接收之前等待消息发送？

IE

进程 A 发出信号量让进程 B 做他的事情，

进程 B 发送消息，

进程 A 收到消息。

这只是打印一条空消息，因为没有告诉进程 A 等到 B 发送它，方法是什么？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:03:57.850

如果进程 A 没有等待，您显然是在设置此标志

> **`IPC_NOWAIT`**如果队列中没有请求类型的消息，则立即返回。系统调用失败并`errno`设置为`ENOMSG`。

如果您想等待，或者如果您想在等待时做有用的工作，请不要使用该标志，请`errno`稍后检查并再次调用。

# c# - ScheduledNotification 继承

> ID：15151517
> 
> 赞同：1
> 
> 时间：2013-03-01T05:59:57.630
> 
> 标签：c#, silverlight, inheritance, constructor, windows-phone

我正在使用 Silverlight 制作一个 Windows Phone 应用程序。

我想创建一个继承类中内置的 ScheduledNotification 的类，但是当我这样做并开始定义构造函数时，会显示一个错误：“类型'Microsoft.Phone.Scheduler.ScheduledAction'没有定义构造函数”。

```
public class MyClass : ScheduledNotification 
{

    public MyClass()
    {
    }
} 
```

那么如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:15:48.517

ScheduledAction 没有定义无参数的构造函数。因此，在构造继承自它的类时，您必须手动调用其中一个构造函数：

```
public class MyClass : ScheduledNotification 
{

    public MyClass()
        : base("whatever") // Calling the parent's constructor
    {
    }
} 
```

问题是：ScheduledNotification 或 ScheduledAction 都没有公共构造函数（它们都被标记为内部）。所以你不可能建立一个继承自它们的类。

# android - Android 4.2 中的证书管理

> ID：15151518
> 
> 赞同：3
> 
> 时间：2013-03-01T06:00:05.360
> 
> 标签：android, certificate

我有一台运行 Android 4.2 并配置了多个用户的平板电脑。我想安装辅助用户可以访问的证书（基本上我想在需要证书的辅助用户中配置一个电子邮件帐户）。我在主要用户中安装了证书。但是，当我尝试在辅助用户中访问它们时，对话框不会显示已安装的证书。

我还尝试修改设置应用程序以在辅助用户中显示“安装证书”选项。但是，单击该选项会显示“只有所有者可以安装证书”的祝酒词。我更进一步，更改了 CertInstaller 以允许二级用户安装证书。但是，当 Android 尝试将证书写入 /data/misc/keychain 目录时，它会失败。

我的问题是，/data/misc/keychain 目录是否只能对在主用户（所有者）内部运行的应用程序进行访问（读/写访问）。如果是，那么如何实施访问控制？

# hudson - sikuli 与 Hudson 可能吗？

> ID：15151520
> 
> 赞同：0
> 
> 时间：2013-03-01T06:00:11.563
> 
> 标签：hudson, ui-automation, sikuli

我们有一个基于 Windows 的应用程序，可以使用 InstallAnywhere 向导安装我们的应用程序。我们还有一个基于 linux 的应用程序，可以使用 InstallAnywhere 向导安装我们的应用程序。sikuli 可以与持续集成工具 Hudson 一起使用，以自动执行此安装过程吗？

如果没有，您对我们如何实现 GUI 安装目标有其他建议吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T22:00:53.893

是的，使用 Sikuli 可以实现您的目标。好的起点是[如何从命令行](http://doc.sikuli.org/faq/010-command-line.html)文档部分运行 Sikuli。就我个人而言，我设法使用 Sikuli 和 Jenkins 自动化了我的 iOS 集成测试，所以我想你应该能够做你想做的事情，只要你可以通过 Hudson 从命令行运行你的 Sikuli 脚本。如果您有任何更具体的问题，我很乐意提供帮助。

编辑：根据您的要求，这就是我所说的：

```
/Applications/Sikuli-IDE.app/sikuli-ide.sh -t test.sikuli 
```

但我认为它不会对你有太大帮助。我认为实际上应该由您显示一些命令行调用和输出。以及有关您的安装向导的更多详细信息，以便我们确定泄漏过程的原因。此外，我在开发解决方案时做的第一件事是在我的本地机器上实际启动它，看看它是否有效，并且只有在我确定它的行为符合预期之后，才将它部署到 CI 上。

# verilog - verilog 参数作为输入 - nios II

> ID：15151521
> 
> 赞同：0
> 
> 时间：2013-03-01T06:00:19.290
> 
> 标签：verilog, hdl, intel-fpga, nios

我正在寻找一种方法，以便我可以将来自 nios 的输入值作为参数发送到 verilog 模块。

或者

从输入分配verilog参数的任何其他方式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:06:33.563

它当然不能传递*参数*，因为这些选项会改变 Verilog 在合成时的行为（即在您将其加载到芯片之前）。你的意思是问如何使用NIOS II设置输入值？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T07:00:56.403

正如 Ben Jackson 已经提到的，参数是常量，不能在运行时更改。您需要的是一个低位宽输入，它从查找表 (LUT) 中选择预定义的值。

```
module lut(
  input   [1:0] sel,
  output [31:0] val
);

localparam CLOCK1 = 1500 ;
localparam CLOCK2 = 3600 ;
localparam CLOCK3 = 3564 ;
localparam CLOCK4 = 4048 ;

always @* begin
  case (sel) 
    2'b00 : val = CLOCK1;
    2'b01 : val = CLOCK2;
    2'b10 : val = CLOCK3;
    2'b11 : val = CLOCK4;
  endcase
end 
```

# r - 使用接受-拒绝方法生成正态分布的另一半

> ID：15151523
> 
> 赞同：1
> 
> 时间：2013-03-01T06:00:26.643
> 
> 标签：r, statistics, random-sample

下面的 R 代码只给了我正态分布的一半；为了得到另一半，我应该对代码进行什么更改？

```
halfnormal <- function(n){
    vector <- rep(0,n)
    for(i in 1:n){
        uni_random <- runif(2) 
        y <- -log(uni_random)
        while(y[2] < (y[1]-1)^2/2){
            uni_random <- runif(2)
            y <- -log(uni_random)
        }
        vector[i] <- y[1]
    }
    vector
}

output <- halfnormal(1000)
hist(output) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-01T06:24:41.440

如果您坚持使用该代码生成标准法线（不推荐，因为`rnorm`这样会更快更准确），只需将整个向量与由随机`(-1, +1)`值组成的等长向量点积即可。

顺便说一句，半正态分布也称为[Chi 分布](http://en.wikipedia.org/wiki/Chi_distribution)（自由度为 1）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:21:00.643

这看起来有点像带有 Marsaglia 修改的 Ziggurat 算法，但有点不同？如果您不想在 R 中使用任何保证工作的随机数生成器，也许这可行：

```
 halfnormal <- function(n){
        vector <- rep(0,n)
        for(i in 1:n){
            uni_random <- runif(2) 
            y <- -log(uni_random)
            while(y[2] < (y[1]-1)^2/2){
                uni_random <- runif(2)
                y <- -log(uni_random)
            }
            vector[i] <- sample(c(-1,1),size=1)*y[1] #randomly select the tail
        }
        vector
    }

    output <- halfnormal(1000)
    hist(output) 
```

# spring - Spring mailSender 抛出 nullPointerException

> ID：15151527
> 
> 赞同：2
> 
> 时间：2013-03-01T06:00:49.340
> 
> 标签：spring, nullpointerexception

我想使用 spring 框架发送纯文本电子邮件。我正在使用 netbeans IDE，并且还在我的依赖项文件夹中添加了 mail.jar、common.jar。我的代码如下：

```
 @Service("emailService")
    public class EmailService {

        @Inject
        private MailSender mailSender;

         @RequestMapping(method = RequestMethod.POST)
        public void sendMail(String from, String to, String subject, String body) {
             System.out.println("=============from:"+from);
                 System.out.println("==========to:"+to);
                 System.out.println("subject: "+subject);
                 System.out.println("body: "+body);

            SimpleMailMessage message = new SimpleMailMessage();

            message.setFrom(from);
            message.setTo(to);
            message.setSubject(subject);
            message.setText(body);
            this.mailSender.send(message); 
                System.out.println("----------after sendig mail");

        }
} 
```

我收到 this.mailSender.send(message); 的 NullPointerException

我的 applicationContext.xml 如下：

```
 <!-- Required for sending mail using spring framework -->
<context:component-scan base-package="net.codejava.spring" />

<bean id="mailSender" class="org.springframework.mail.javamail.JavaMailSenderImpl">
    <property name="host" value="smtp.gmail.com" />
    <property name="port" value="587" />
    <property name="username" value="USERNAME" />
    <property name="password" value="PASSWRD" />
    <property name="javaMailProperties">
        <props>
            <prop key="mail.transport.protocol">smtp</prop>
            <prop key="mail.smtp.auth">true</prop>
            <prop key="mail.smtp.starttls.enable">true</prop>
        </props>
    </property>
</bean> 
```

请告诉我如何克服它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T07:11:50.930

只需更改`@Inject`为`@Autowired`

# c# - 如何排序列表

> ID：15151529
> 
> 赞同：0
> 
> 时间：2013-03-01T06:00:56.093
> 
> 标签：c#, asp.net, sorting

我试图通过按排序按钮对这个列表进行排序？我在编码部分遇到问题！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:07:55.930

试试这个

```
 private void btnSort_Click(object sender, RoutedEventArgs e)  
            {  
             var directoryInfo= new directoryInfo(path);

            var files = (from x in directoryInfo.GetFiles()
                         select x.FullName).ToArray();

            Array.Sort(files);

            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:37:43.377

从我的头顶（我现在无法自己测试），我会这样做：

```
private void btnSort_Click(object sender, RoutedEventArgs e)
{
    List<string> list = lstbxResults.Cast<string>().OrderBy(p=>p).ToList();

    lstbxResults.Clear();
    foreach(var item in list)
        lstbxResults.Items.Add(item);
} 
```

编辑：我放了一个演员来获得一个 IEnumerable

# mysql - Mysql Query 第一次和第二次执行给出不同的计数

> ID：15151531
> 
> 赞同：0
> 
> 时间：2013-03-01T06:01:02.073
> 
> 标签：mysql

在工作台上打开一个新会话并尝试运行此查询此查询在第一次执行时返回计数“15”，在第二次执行时返回“4”为什么会这样..

```
select count(id) 
from (
   select *,@num := if(@company_id = company_id, @num + 1, 1) as row_number,@company_id := company_id as dummy 
   from salebuild_ctl.company_contact 
   where id in (12352,59898,59899,59900,59901,59902,59903,59904,14047,15196,15197,41402,41403,41404,41405)  
   order by company_id,  date_created asc  
) as x 
where x.row_number <= 2; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:16:07.190

原因是因为您第一次使用`SET @num=0`但下次运行查询时您又没有将其设置`0`为第二次运行它需要`@num=15`。

在第二次运行之前正确运行`SET @num=0`

# java - 为什么linux中缺少最大化和最小化选项但在windows中工作

> ID：15151538
> 
> 赞同：1
> 
> 时间：2013-03-01T06:01:41.453
> 
> 标签：java, linux, swt, fedora

我编写了一个 Java SWT (GUI) 程序来显示 shell 窗口并在 Eclipse 中运行它，我使用的是 Fedora 17 操作系统。

我正在获得该窗口中缺少最大化和最小化选项的输出。但我在 Windows 7 中进行了尝试，它给了我正确的输出而没有遗漏任何东西。

请任何人告诉我为什么在 Fedora 17 中缺少它以及纠正它的解决方案是什么？

这是代码：

```
import org.eclipse.swt.SWT;

import org.eclipse.swt.widgets.Display;

import org.eclipse.swt.widgets.Label;

import org.eclipse.swt.widgets.Shell;

public class Example {

    public static void main(String[] args) {
        Display display = new Display();
        Shell shell = new Shell(display,SWT.MAX|SWT.MIN);
        Label label1 = new Label(shell,SWT.NONE);
        label1.setText("CLEAR IT OUT PLEASE");
        label1.setBounds(50,30,200,30);
        shell.pack ();
        shell.setSize(315,200);
        shell.open ();
        while (!shell.isDisposed ()) {
            if (!display.readAndDispatch ()) display.sleep ();
        }
        display.dispose ();
         }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:21:48.370

Fedora 17 使用 GNOME 3.4，如果您使用 GNOME 3，默认窗口管理器（gnome shell）没有最小化或最大化图标（我知道，这非常愚蠢。）如果这确实是您遇到的问题，请尝试`gnome-tweak-tool`在您的发行版上安装：

[https://askubuntu.com/questions/125765/how-do-i-add-minimize-maximize-buttons-to-gnome-shell-windows](https://askubuntu.com/questions/125765/how-do-i-add-minimize-maximize-buttons-to-gnome-shell-windows)

如果您[阅读更多有关 SWT](http://en.wikipedia.org/wiki/Standard_Widget_Toolkit)的信息，您会发现它使用主机操作系统的本机 GUI 库来显示图形元素，因此您将受到窗口管理器的奇思妙想，也许您不会使用 Swing 之类的东西.

# jwplayer - 如何用 JW 播放器替换 kaltura 嵌入式 Flash 播放器

> ID：15151546
> 
> 赞同：1
> 
> 时间：2013-03-01T06:02:34.037
> 
> 标签：jwplayer, kaltura

我是 kaltura 的新手，我想知道，有没有办法在 CE 5.0 中用 jw 播放器替换 kaltura 播放器。如果有人以前这样做过，请告诉我如何用我的 JW 播放器替换 kaltura 嵌入式播放器。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-23T17:34:32.607

如果您只需要在播放源级别上集成，您可以[获取风味网址](http://player.kaltura.com/docs/getSources)并使用您喜欢的任何网络播放器播放它们。

但是要利用与 kaltura 平台相关[的所有播放器功能；](http://player.kaltura.com/docs/)访问控制、标记风味选择、插件配置等，您当然需要正确使用 kaltura 播放器。

# iphone - RTSPPlay 不运行

> ID：15151547
> 
> 赞同：1
> 
> 时间：2013-03-01T06:02:37.543
> 
> 标签：iphone, ios, rtsp, live-streaming

我正在尝试使用[RTSPPlay](https://github.com/mooncatventures-group/RTSPPlay)的项目`mooncatventures`。但它向我显示了这样的错误。

```
Ld /Users/name/Library/Developer/Xcode/DerivedData/RtspPlay1-eiclkyfwtlgulpcbdsuhpovfaaia/Build/Products/Debug-iphonesimulator/RtspPlay1Play.app/RtspPlay1Play normal i386
    cd "/Users/name/Desktop/LIVE TV/try/RTSPPlay-master"
    setenv IPHONEOS_DEPLOYMENT_TARGET 4.3
    setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin"
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch i386 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk -L/Users/devubhamanek/Library/Developer/Xcode/DerivedData/RtspPlay1-eiclkyfwtlgulpcbdsuhpovfaaia/Build/Products/Debug-iphonesimulator -F/Users/user/Library/Developer/Xcode/DerivedData/RtspPlay1-eiclkyfwtlgulpcbdsuhpovfaaia/Build/Products/Debug-iphonesimulator "-F/Users/user/Desktop/LIVE TV/try/RTSPPlay-master" -filelist /Users/user/Library/Developer/Xcode/DerivedData/RtspPlay1-eiclkyfwtlgulpcbdsuhpovfaaia/Build/Intermediates/RtspPlay1.build/Debug-iphonesimulator/RtspPlay1Play.build/Objects-normal/i386/RtspPlay1Play.LinkFileList -Xlinker -objc_abi_version -Xlinker 2 -lbz2 -lm -lz -fobjc-link-runtime -Xlinker -no_implicit_dylibs -mios-simulator-version-min=4.3 -framework FFPlayer -framework FFmpegDecoder -framework SDL -framework Foundation -framework UIKit -framework CoreGraphics -framework AudioToolbox -framework QuartzCore -framework OpenGLES -framework CoreAudio -framework MediaPlayer -o /Users/user/Library/Developer/Xcode/DerivedData/RtspPlay1-eiclkyfwtlgulpcbdsuhpovfaaia/Build/Products/Debug-iphonesimulator/RtspPlay1Play.app/RtspPlay1Play

Undefined symbols for architecture i386:
  "_SDL_AddTimer", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_SDL_CloseAudio", referenced from:
      _stream_component_close in FFPlayer(main.o)
  "_SDL_CondSignal", referenced from:
      _SDL_main in FFPlayer(main.o)
      _stream_component_close in FFPlayer(main.o)
      _packet_queue_abort in FFPlayer(main.o)
      _packet_queue_put in FFPlayer(main.o)
  "_SDL_CondWait", referenced from:
      _video_thread in FFPlayer(main.o)
      _subtitle_thread in FFPlayer(main.o)
      _packet_queue_get in FFPlayer(main.o)
  "_SDL_CreateCond", referenced from:
      _SDL_main in FFPlayer(main.o)
      _packet_queue_init in FFPlayer(main.o)
  "_SDL_CreateMutex", referenced from:
      _SDL_main in FFPlayer(main.o)
      _packet_queue_init in FFPlayer(main.o)
  "_SDL_CreateRGBSurface", referenced from:
      _SDL_main in FFPlayer(main.o)
      _video_open in FFPlayer(main.o)
  "_SDL_CreateRenderer", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_SDL_CreateThread", referenced from:
      _SDL_main in FFPlayer(main.o)
      _stream_component_open in FFPlayer(main.o)
  "_SDL_CreateWindow", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_SDL_Delay", referenced from:
      _video_thread in FFPlayer(main.o)
      _subtitle_thread in FFPlayer(main.o)
      _decode_thread in FFPlayer(main.o)
  "_SDL_DestroyCond", referenced from:
      _do_exit in FFPlayer(main.o)
      _stream_component_close in FFPlayer(main.o)
  "_SDL_DestroyMutex", referenced from:
      _do_exit in FFPlayer(main.o)
      _stream_component_close in FFPlayer(main.o)
  "_SDL_DestroyTexture", referenced from:
      _video_display in FFPlayer(main.o)
  "_SDL_EventState", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_SDL_FillRect", referenced from:
      _video_display in FFPlayer(main.o)
  "_SDL_FreeSurface", referenced from:
      _SDL_main in FFPlayer(main.o)
      _do_exit in FFPlayer(main.o)
  "_SDL_GL_SetAttribute", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_SDL_Init", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_SDL_LockSurface", referenced from:
      _video_thread in FFPlayer(main.o)
  "_SDL_MapRGB", referenced from:
      _video_display in FFPlayer(main.o)
  "_SDL_OpenAudio", referenced from:
      _stream_component_open in FFPlayer(main.o)
  "_SDL_PauseAudio", referenced from:
      _stream_component_open in FFPlayer(main.o)
  "_SDL_PixelFormatEnumToMasks", referenced from:
      _SDL_main in FFPlayer(main.o)
      _video_open in FFPlayer(main.o)
  "_SDL_PollEvent", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_SDL_PushEvent", referenced from:
      _sdl_refresh_timer_cb in FFPlayer(main.o)
      _video_thread in FFPlayer(main.o)
      _decode_thread in FFPlayer(main.o)
  "_SDL_RenderPresent", referenced from:
      _video_display in FFPlayer(main.o)
  "_SDL_SendQuit", referenced from:
      -[SDLUIKitDelegate quitSdl] in SDL_uikitappdelegate.o
      -[SDLUIKitDelegate applicationWillTerminate:] in SDL_uikitappdelegate.o
      -[SDLUIKitDelegate applicationDidEnterBackground:] in SDL_uikitappdelegate.o
  "_SDL_UnlockSurface", referenced from:
      _video_thread in FFPlayer(main.o)
  "_SDL_WaitEvent", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_SDL_WaitThread", referenced from:
      _do_exit in FFPlayer(main.o)
      _stream_component_close in FFPlayer(main.o)
  "_SDL_mutexP", referenced from:
      _SDL_main in FFPlayer(main.o)
      _stream_component_close in FFPlayer(main.o)
      _video_thread in FFPlayer(main.o)
      _subtitle_thread in FFPlayer(main.o)
      _packet_queue_get in FFPlayer(main.o)
      _packet_queue_abort in FFPlayer(main.o)
      _packet_queue_flush in FFPlayer(main.o)
      ...
  "_SDL_mutexV", referenced from:
      _SDL_main in FFPlayer(main.o)
      _stream_component_close in FFPlayer(main.o)
      _video_thread in FFPlayer(main.o)
      _subtitle_thread in FFPlayer(main.o)
      _packet_queue_get in FFPlayer(main.o)
      _packet_queue_abort in FFPlayer(main.o)
      _packet_queue_flush in FFPlayer(main.o)
      ...
  "_av_audio_convert", referenced from:
      _sdl_audio_callback in FFPlayer(main.o)
  "_av_audio_convert_alloc", referenced from:
      _sdl_audio_callback in FFPlayer(main.o)
  "_av_audio_convert_free", referenced from:
      _stream_component_close in FFPlayer(main.o)
      _sdl_audio_callback in FFPlayer(main.o)
  "_av_bitstream_filter_next", referenced from:
      _show_formats in cmdutils.o
  "_av_close_input_file", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_av_codec_next", referenced from:
      _show_formats in cmdutils.o
  "_av_dup_packet", referenced from:
      _packet_queue_put in FFPlayer(main.o)
  "_av_find_input_format", referenced from:
      _opt_format in FFPlayer(main.o)
  "_av_find_opt", referenced from:
      _opt_default in cmdutils.o
  "_av_find_stream_info", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_av_free", referenced from:
      _SDL_main in FFPlayer(main.o)
      _free_subpicture in FFPlayer(main.o)
      _video_thread in FFPlayer(main.o)
      _packet_queue_get in FFPlayer(main.o)
  "_av_free_packet", referenced from:
      _sdl_audio_callback in FFPlayer(main.o)
      _video_thread in FFPlayer(main.o)
      _subtitle_thread in FFPlayer(main.o)
      _packet_queue_flush in FFPlayer(main.o)
      _decode_thread in FFPlayer(main.o)
  "_av_freep", referenced from:
      _free_subpicture in FFPlayer(main.o)
      _packet_queue_flush in FFPlayer(main.o)
  "_av_get_bits_per_sample_format", referenced from:
      _sdl_audio_callback in FFPlayer(main.o)
  "_av_get_int", referenced from:
      _video_thread in FFPlayer(main.o)
  "_av_get_string", referenced from:
      _set_context_opts in cmdutils.o
  "_av_gettime", referenced from:
      _SDL_main in FFPlayer(main.o)
      _get_master_clock in FFPlayer(main.o)
      _video_display in FFPlayer(main.o)
      _get_video_clock in FFPlayer(main.o)
      _stream_component_open in FFPlayer(main.o)
      _sdl_audio_callback in FFPlayer(main.o)
      _stream_pause in FFPlayer(main.o)
      ...
  "_av_iformat_next", referenced from:
      _show_formats in cmdutils.o
  "_av_init_packet", referenced from:
      _SDL_main in FFPlayer(main.o)
      _decode_thread in FFPlayer(main.o)
  "_av_log", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_av_malloc", referenced from:
      _packet_queue_put in FFPlayer(main.o)
  "_av_mallocz", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_av_metadata_get", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_av_oformat_next", referenced from:
      _show_formats in cmdutils.o
  "_av_open_input_file", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_av_protocol_next", referenced from:
      _show_formats in cmdutils.o
  "_av_read_frame", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_av_read_pause", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_av_read_play", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_av_realloc", referenced from:
      _opt_default in cmdutils.o
  "_av_register_all", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_av_set_string3", referenced from:
      _opt_default in cmdutils.o
      _set_context_opts in cmdutils.o
  "_av_strdup", referenced from:
      _parse_options in cmdutils.o
  "_av_strlcat", referenced from:
      _show_help_options in cmdutils.o
  "_av_strlcpy", referenced from:
      _show_help_options in cmdutils.o
      _SDL_main in FFPlayer(main.o)
  "_avcodec_alloc_context2", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_avcodec_alloc_frame", referenced from:
      _video_thread in FFPlayer(main.o)
  "_avcodec_close", referenced from:
      _stream_component_close in FFPlayer(main.o)
  "_avcodec_decode_audio3", referenced from:
      _sdl_audio_callback in FFPlayer(main.o)
  "_avcodec_decode_subtitle2", referenced from:
      _subtitle_thread in FFPlayer(main.o)
  "_avcodec_decode_video2", referenced from:
      _video_thread in FFPlayer(main.o)
  "_avcodec_find_decoder", referenced from:
      _stream_component_open in FFPlayer(main.o)
  "_avcodec_flush_buffers", referenced from:
      _sdl_audio_callback in FFPlayer(main.o)
      _video_thread in FFPlayer(main.o)
      _subtitle_thread in FFPlayer(main.o)
  "_avcodec_open", referenced from:
      _stream_component_open in FFPlayer(main.o)
  "_avcodec_register_all", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_avcodec_thread_init", referenced from:
      _stream_component_open in FFPlayer(main.o)
  "_avcodec_version", referenced from:
      _print_all_lib_versions in cmdutils.o
  "_avdevice_register_all", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_avdevice_version", referenced from:
      _print_all_lib_versions in cmdutils.o
  "_avfilter_version", referenced from:
      _print_all_lib_versions in cmdutils.o
  "_avformat_alloc_context", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_avformat_seek_file", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_avformat_version", referenced from:
      _print_all_lib_versions in cmdutils.o
  "_avpicture_alloc", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_avutil_version", referenced from:
      _print_all_lib_versions in cmdutils.o
  "_dump_format", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_parse_date", referenced from:
      _parse_time_or_die in cmdutils.o
  "_sws_getCachedContext", referenced from:
      _video_thread in FFPlayer(main.o)
  "_sws_getContext", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_sws_scale", referenced from:
      _video_thread in FFPlayer(main.o)
  "_swscale_version", referenced from:
      _print_all_lib_versions in cmdutils.o
  "_url_feof", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_url_ferror", referenced from:
      _decode_thread in FFPlayer(main.o)
  "_url_ftell", referenced from:
      _SDL_main in FFPlayer(main.o)
  "_url_set_interrupt_cb", referenced from:
      _decode_thread in FFPlayer(main.o)
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

有人可以帮助我吗，谢谢各位。我已经检查过了`SDL.Framework`，我没有看到任何问题。我是否必须在我的项目中添加一些库才能运行这个项目或在 mac 中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-02T15:00:31.263

ffmpegdecoder.framework 中的 ffmpeg 版本不是为模拟器构建的。这表明您正在为模拟器构建。

架构 i386 的未定义符号：

将项目设置更改为 release ，从您的拱门中删除 armv7s ，它应该构建得很好。

在模拟器上运行并不能很好地代表像这样使用 iPhone GPU 的项目。

如果您在构建时遇到问题，或者您绝对必须在模拟器上运行，请联系 michelle@mooncatventures.com，我们绝对可以帮助您进行这些更改。

# python - 比较 MongoDB 和 RethinkDB 批量插入性能

> ID：15151554
> 
> 赞同：24
> 
> 时间：2013-03-01T06:03:02.373
> 
> 标签：python, mongodb, python-2.7, rethinkdb, nosql

*这是我在这里的正式第一个问题；我欢迎任何/所有对我的帖子的批评，以便我可以学习如何成为一个更好的 SO 公民。*

我正在审查非关系 DBMS 以存储潜在的大型电子邮件退出列表，倾向于 MongoDB 或 RethinkDB，使用它们各自的 Python 客户端库。我的应用程序的痛点是批量插入性能，因此我设置了两个 Python 脚本以将 20,000 条记录分批插入 5,000 条记录到 MongoDB 和 RethinkDB 集合中。

MongoDB python 脚本 mongo_insert_test.py：

```
NUM_LINES = 20000
BATCH_SIZE = 5000

def insert_records():
    collection = mongo.recips
    i = 0
    batch_counter = 0
    batch = []
    while i <= NUM_LINES:
        i += 1
        recip = {
            'address': "test%d@test%d.com" % (i, i)
        }
        if batch_counter <= BATCH_SIZE:
            batch.append(recip)
            batch_counter += 1
        if (batch_counter == BATCH_SIZE) or i == NUM_LINES:
            collection.insert(batch)
            batch_counter = 0
            batch = []

if __name__ == '__main__':
    insert_records() 
```

几乎相同的 RethinkDB python 脚本 rethink_insert_test.py：

```
NUM_LINES = 20000
BATCH_SIZE = 5000

def insert_records():
    i = 0
    batch_counter = 0
    batch = []
    while i <= NUM_LINES:
        i += 1
        recip = {
            'address': "test%d@test%d.com" % (i, i)
        }
        if batch_counter <= BATCH_SIZE:
            batch.append(recip)
            batch_counter += 1
        if (batch_counter == BATCH_SIZE) or i == NUM_LINES:
            r.table('recip').insert(batch).run()
            batch_counter = 0
            batch = []

if __name__ == '__main__':
    insert_records() 
```

在我的开发环境中，MongoDB 脚本在一秒钟内插入 20,000 条记录：

```
$ time python mongo_insert_test.py 
real    0m0.618s
user    0m0.400s
sys     0m0.032s 
```

在相同的环境下，RethinkDB 脚本的执行速度要慢得多，在 2 分钟内插入 20,000 条记录：

```
$ time python rethink_insert_test.py
real    2m2.502s
user    0m3.000s
sys     0m0.052s 
```

关于这两个 DBMS 的工作方式，我在这里是否遗漏了一些重要的东西？为什么 RethinkDB 在这个测试中表现如此糟糕？

我的开发机器有大约 1.2GB 的可用内存用于这些测试。

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-03-01T06:49:22.247

RethinkDB 目前通过在服务器上一次执行单个插入来实现批量插入。由于 Rethink 将每条记录刷新到磁盘（因为它的设计首先考虑了安全性），这对像这样的工作负载产生了非常糟糕的影响。

我们正在做两件事来解决这个问题：

1.  批量插入将通过服务器上的批量插入算法实现，以避免一次插入一个。
2.  如果您愿意，我们将为您提供放宽持久性约束的选项，以允许高速缓存内存吸收高吞吐量插入（以换取不经常同步到磁盘）。

这绝对会在 4-12 周内修复（如果您需要尽快解决，请随时给我发送电子邮件至 slava@rethinkdb.com，我会看看我们是否可以重新确定优先级）。

以下是相关的github问题：

[https://github.com/rethinkdb/rethinkdb/issues/207](https://github.com/rethinkdb/rethinkdb/issues/207)

[https://github.com/rethinkdb/rethinkdb/issues/314](https://github.com/rethinkdb/rethinkdb/issues/314)

希望这可以帮助。如果您需要帮助，请随时联系我们。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-01T07:55:23.213

撇开咖啡贴的内容不谈：

1.  根据您使用的驱动程序版本以及如何配置与 mongodb 的连接，这些插入甚至可能不会被服务器确认。如果您使用的是最新版本的 Python 驱动程序，那么这些操作只是在等待来自服务器的接收确认（这并不意味着数据甚至已写入内存）。有关我所指内容的更多详细信息，请查看[Mongodb 写入关注设置](http://docs.mongodb.org/manual/core/write-operations/#write-concern)

2.  在 Rethinkdb 的情况下，您可以通过并行化插入来加快速度。基本上，如果您运行多个进程/线程，您会看到速度提高。在 Mongo 的情况下，由于涉及到锁，并行性将无济于事。

话虽如此，RethinkDB 可以提高写入速度。

PS：我正在为 Rethink 工作，但以上几点是基于我对这两个系统的公正知识。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-01T10:08:26.947

Pymongo 开发人员在这里 - 以防万一您不这样做，请确保您使用的是最新的 pymongo 版本，`MongoClient`或者`MongoRepicaSetClient`您的写入得到确认，而不是触发和忘记。正如@Alex 所说，它们很可能是您所需要的。

我会考虑的其他因素是：这是数据库的主要用例还是核心痛点？在做出决定之前，您可能需要考虑其他数据模式、查询数据、易用性和可维护性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-07T00:55:02.807

请原谅这个类比——但是它使我的观点非常清楚。

将贵重物品锁在保险箱中并不需要太多时间，但要做到上千次。如果您改为邮寄到银行的保险库，请考虑您的贵重物品在运往银行的过程中不安全的时间；那个包裹可能会堆满许多其他包裹——来自志同道合的存款人。有人会四处打开您的包裹，然后将其与其他物品堆放在安全的保险库中。

这就是将数据定期提交到磁盘与批量或延迟将数据写入磁盘之间的区别。这是更高的数据完整性和改进的写入性能之间的权衡。如果数据丢失无关紧要，那么不那么频繁地同步到磁盘、批量或懒惰地写入更新是完全可以接受的。做出错误的选择总有一天会咬你一口，所以要明智地选择！

# xcode - UIImageView 和 CCSprite 的优缺点是什么？

> ID：15151555
> 
> 赞同：0
> 
> 时间：2013-03-01T06:03:04.343
> 
> 标签：xcode, memory-management, cocos2d-iphone, uiimage, ccsprite

`UIImageView`和之间的优缺点是什么`CCSprite`？

我正在`UIImageView`为我们的应用程序的 UI 使用`initWithContentsOfFile:`，我担心它会比 a 造成太多的内存`CCSprite`。基本上，当我打电话时`removeFromSuperview`，它会卸载`UIImage`我使用`UIImageView`的内存并释放它使用的所有内存`UIImage`吗？

另外，我们可以说`removeFromSuperview`等于`removeFromParentAndCleanUp:`吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T10:11:52.217

我想你问错问题了。首先，很容易测试哪个使用更多内存（创建一个或另一个，在 Instruments 中检查内存）。但是，什么样的类在屏幕上显示图像并不重要（太多），因为图像（纹理）本身无论如何都会消耗大部分内存。我怀疑当 UIImageView 和 CCSprite 都显示相同的 512x512 图像时你会看到它们之间的显着差异，因为 99% 的内存使用将是纹理。

CCSprite 的主要优点是性能，特别是对于您需要 CCSprite 的实时动画。对于菜单屏幕中的用户界面，UIViews 就很好。

此外 cocos2d 缓存已经加载的纹理。对于 UIImageView，我不能说同样的话。因此，如果您经常使用相同的纹理创建和关闭精灵，CCSprite 会更快。

# joomla - 如何获取当前的 joomla 语言标志图像？

> ID：15151561
> 
> 赞同：0
> 
> 时间：2013-03-01T06:03:19.197
> 
> 标签：joomla

我正在使用 joomla 2.5 + Falang，如何获取当前语言标志？

我试过：

```
<?php foreach($list as $language):?>
 <?php echo JHtml::_('image', 'mod_falang/'.$language->image.'.gif', $language->title_native, array('title'=>$language->title_native), true);?> 
```

但后来我得到了所有可用的语言标志。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:21:28.290

试试这个

```
$lang =& JFactory::getLanguage();
$CurrentFlag = "";
foreach($list as $language){
       if($language->lang_code == $lang->getTag()){
            $CurrentFlag = $language->image.'.gif';
        }

 }
echo JHtml::_('image', 'mod_falang/'.$CurrentFlag, $lang->getName(), array('title'=>$lang->getName()), true); 
```

希望它有帮助..

# php - PHP $_GET 上一页的变量

> ID：15151563
> 
> 赞同：1
> 
> 时间：2013-03-01T06:03:33.877
> 
> 标签：php, sql, variables, get

当用户单击一个类别时，它会转到`InsectsandPlants.php?pg=1`或`?pg=whatevercategory`. 然后在下一页我有一个项目列表，每个项目都有一个唯一的 URL，类似于：`view.php?aud=5`但`?aud`每个项目的更改。所以这是我的`view.php`代码：

```
<?php

    $audint=$_GET['aud'];
    $result=mysql_query("SELECT * FROM insects WHERE inid=$audint");

    while($row=mysql_fetch_array($result))
    {
        $lru = $row['url'];
        $title = $row['title'];
?>
<h3>You Are Viewing <?php echo $title; ?></br></br>
<embed src="<?php echo $lru; ?>" autostart="true" loop="false" controller="true" bgcolor="#000" height="42" width="300">
</br></br>
<?php
    }
?> 
```

和分类页面：

```
<?php

    $pgint=$_GET['pg'];

    switch($pgint)
    {
        case "1":
            echo '<li><h4>Insects and Plants</h4>';
            $result=mysql_query("SELECT * FROM insects ORDER BY inid ASC");
        break;
        case "2":
            echo '<li><h4>Dr. Seuss</h4>';
            $result=mysql_query("SELECT * FROM DrSeuss ORDER BY inid ASC");
        break;
    }

    while($row=mysql_fetch_array($result))
    {
        array_reverse($row);
        $lru = $row['url'];
        $title = $row['title'];
        $id=$row['inid'];
    ?> 
```

它适用于何时，`?pg=1`因为它链接到`insects`SQL 表。但我想创建一个变量，该变量根据前一页的`?pg=`编号而变化。

有人能帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:05:39.093

听起来任何链接都需要：

```
<a href="someurl.php?blah=blah&pg=<?PHP echo $_GET['PHP'];?>">...</a> 
```

这种方式`$_GET['pg']`将被添加到 URL 的查询字符串中并在站点周围进行。如果您有很多链接并且需要在全球范围内访问它，则可能需要做一些工作。

如果是这种情况，martriay 的建议可能会更好（但会在您的服务器上产生非常小的额外负载）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:05:58.807

您应该将该值存储在会话变量中。

```
session_start(); //this must be before any output, at the beginning of the script would be great

$_SESSION['pgnumber'] = $_GET['pg']; 
```

这样，在任何其他脚本中，您都可以使用该`$_SESSION['pgnumber']`变量

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:28:57.367

永远不要将请求数据直接放入 sql 查询中。每个人都可以轻松访问您的数据库。从头开始创建安全页面。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T06:12:11.907

你需要保存你的 $_GET['aud']; 在导航到某个地方之前在某个会话变量中

以下代码可能有助于使用

```
<?php 
session_start();

... some Code

$_SESSION['aud'] = $_GET['aud'];

... Some Code

?> 
```

现在，每当您需要使用它时，您可以按如下方式使用它

```
<?php 
$aud = 0 ;

if(isset($_SESSION['aud']))
{
 $aud = $_SESSION['aud'];
}

?> 
```

# java - 将 MySQL 数据库连接到 Android 应用程序

> ID：15151574
> 
> 赞同：1
> 
> 时间：2013-03-01T06:04:37.790
> 
> 标签：java, android, mysql

我需要一些帮助来将我的 mySQL 数据库连接到我目前正在开发的 Android 应用程序。

我以前从未这样做过，我在[这里](http://webdesignergeeks.com/mobile/android/android-login-authentication-with-remote-db/)找到了几个教程，它提供了很好的信息，我了解其中的大部分内容，但它并不完全适用于我的情况。

我有一个数据库存储在我的大学提供的远程服务器上，我使用 phpMyAdmin 访问它。

我需要帮助将应用程序连接到数据库，这样当用户登录并注册应用程序时，它就会存储在 mySQL 数据库中。有人告诉我可能需要使用我拥有的 SSH 隧道？

我以前从未这样做过，所以我对此不太了解。多谢你们！

更新：我喜欢大家的回复，谢谢，我对此完全陌生，所以我在这里边学习边学习。我不知道其余的 api 是什么或如何实现它，听起来我需要那个。此外，我不仅需要登录验证，还需要应用程序在注册屏幕中将新用户添加到数据库中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:14:36.847

这将通过 Web 服务完成。您需要开发 Web 服务并在 android 项目中公开该 Web 服务。

您给出的链接中所做的事情。

[http://webdesignergeeks.com/mobile/android/android-login-authentication-with-remote-db/](http://webdesignergeeks.com/mobile/android/android-login-authentication-with-remote-db/)

他们在 php 中创建了 webservice 并调用该 webservice 来验证用户名和密码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:11:04.687

更好地开发一个满足您的数据库需求的服务器端模块，并使用来自 android 应用程序的 HTTP 请求访问它。

你需要。

1) 一个 Web 应用程序（可能暴露 REST api）

2）以上web-application，使用jdbc连接mysql

3) android 应用程序中的 http 客户端框架（客户端）

# ios - 如何为 NSUserDefaults 指定名称

> ID：15151592
> 
> 赞同：1
> 
> 时间：2013-03-01T06:06:19.553
> 
> 标签：ios, objective-c, cocoa-touch, sharedpreferences, nsuserdefaults

我需要在首选项中存储“user_session”和“game_deck”相关信息。

在我的应用程序的某个时刻，我需要清除存储在“game_deck”中的所有数据，并且在注销时，我需要清除存储在“user_session”中的所有数据。

我通过将文件名指定为首选项，在 android 中实现了此功能。

```
 SharedPreferences prefs = getSharedPreferences(
                        "user_session", Context.MODE_PRIVATE);
                Editor editor = prefs.edit();
                editor.clear();
                editor.commit(); 
```

和

```
 SharedPreferences prefs = getSharedPreferences(
                        "game_deck", Context.MODE_PRIVATE);
                Editor editor = prefs.edit();
                editor.clear();
                editor.commit(); 
```

当我为 iPhone 创建相同的项目时，如何在 Objective-C 中实现相同的功能？

我需要使用

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults]; 
```

用于存储我的数据。但是如何指定两个不同的默认值，以便我可以清除特定默认文件中的所有变量？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:12:25.543

您可能只在“根”级别存储两个孩子，而不是维护两个单独的层次结构。只需使用 get/set`NSDictionary`方法获取和存储它们。例如，要获取您的“user_session”首选项，您可以使用：

```
NSDictionary user_session = [[NSUserDefaults standardUserDefaults] dictionaryForKey:@"user_session"]; 
```

同样，您可以使用以下方法清除它：

```
[[NSUserDefaults standardUserDefaults] setObject:[NSDictionary dictionary] forKey:@"user_session"]; 
```

如果字典尚不存在，您只需确保在启动时初始化字典。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:13:39.120

`NSUserDefault`工作方式与`SharedPreference`Android 中的不同。这里有一个通用`standardUserDefault`对象，您可以在其中保存所有数据。“user_session”和“game_deck”没有单独的用户默认值。

你可以做的是创建一个字典

```
NSMutableDictionary *userSessionDict = [[NSMutableDictionary alloc] init];
[userSessionDict setObject:@"someUsername"  forKey:@"username"];

NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
[default setObject:userSessionDict forKey:@"user_session"];

//you can remove using
[default removeObjectForKey:@"user_session"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:25:35.743

你可以这样做：

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
[defaults setObject:Context.MODE_PRIVATE forKey:@"user_session"];
[defaults setObject:Context.MODE_PRIVATE forKey:@"game_deck"]; 
```

当您想清除特定的所有变量时：（使用“user_session”例如）：

```
[defaults removeObjectForKey:@"user_session"]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T06:27:27.430

您可以试试这个：这会删除您在应用程序中存储在 userDefaults 中的所有对象。

```
NSString *appDomain = [[NSBundle mainBundle] bundleIdentifier];
[[NSUserDefaults standardUserDefaults] removePersistentDomainForName:appDomain]; 
```

# android - Android (Java) - 如何对网站的用户进行身份验证？

> ID：15151597
> 
> 赞同：-1
> 
> 时间：2013-03-01T06:06:48.053
> 
> 标签：android, authentication

我正在开发一个 Android 应用程序（我的第一个），它显示桌面网站的移动友好界面。问题是网站的用户必须登录才能看到网站的这些部分。

我不拥有该网站，也不以任何方式与他们有任何关联，但我想为我自己的个人学习经验创建此应用程序，并帮助该网站的社区。

考虑到这一点，用于验证用户的登录表单可通过由 Invision Power Boards 提供支持的站点论坛访问（例如：community.invisionpower.com）。我知道如何从移动应用程序上的用户那里获取用户名和密码，但是如何将此信息发送到论坛/网站上的登录表单，然后以编程方式“单击”登录按钮？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:19:27.747

首先，您必须决定是在浏览器中还是在代码中执行此操作。

在代码中，您可能需要像这样自动化 HTTP 发布：

```
 // Start up your network connection
    URL url = new URL("http://www.asdf.com/someFormSubmissionPage);
    HttpURLConnection connection = (HttpURLConnection) url.openConnection();
    connection.setRequestMethod("POST");
    connection.setDoInput(true);

    String userInfo = "username=bob&password=pass";
    connection.setRequestProperty("Content-Length", "" + userInfo.length());

    connection.setDoOutput(true);

    // Send the actual data
    OutputStream out = connection.getOutputStream();
    out.write(userInfo.getBytes(UTF_8));

    // Flush everything to the destination
    out.flush();
    out.close();

    BufferedReader connectionReader = new BufferedReader(new InputStreamReader(connection.getInputStream(), UTF_8));
    String responseLine;
    // Collect the entire response
    while ((responseLine = connectionReader.readLine()) != null)
        response.append(responseLine); 
```

此时，您可以对响应做一些事情，也许保存服务器发回给您的 cookie，或者您想要的任何东西。

作为替代方案，您可以打开一个 WebView 并给它一个地址，例如`http://www.asdf.com/someFormSubmissionPage?username=bob&password=pass`

这将在用户登录的情况下启动浏览器。

The `someFormSubmissionPage` would be found out by doing a `view source` in a browser while looking at the login page for the actual site. Details of username/pass would also be found this way.

# javascript - 使用 JavaScript/JQuery，您可以在点击代码触发时创建链接吗

> ID：15151598
> 
> 赞同：0
> 
> 时间：2013-03-01T06:06:48.140
> 
> 标签：javascript, jquery

使用 FireFox、Javascript 和 JQuery，我完全是个菜鸟 :-) 我的理解是，不可能使用上述任何方法使客户端浏览器通过代码执行锚点单击。
即：我正在处理的页面有一个带有锚标记的按钮，用于更新正在显示的数据（接下来的 15 条记录）。
这是真的？如果没有，有人可以提供一些指导吗？

我正在查看的 LINK 代码是这个：

```
<li>
  <a href="#statistic=general;page=4;name=" target="self" class="ABC">
    <span class="btnBg">&nbsp;</span>
    <span class="icn next">&nbsp; </span>
  </a>
</li> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:08:58.973

是的，

```
$(function(){
    $("a").click(function(){
        //your function like window.location = this.href
    });
}); 
```

# testing - UFT11.50 - 服务测试 - 如何从响应正文中获取数据

> ID：15151600
> 
> 赞同：1
> 
> 时间：2013-03-01T06:06:59.303
> 
> 标签：testing, service, qtp, hp-uft

```
{
    "Id": 456,
    "Type": null,
    "Name": "Store112",
    "Root": "\\\\server\\ShareFolder",
    "Username": "alm",
    "Password": null
} 
```

这是来自 HTTP 请求的 JSON 文件响应正文，如何获取“ID”属性的值？**UFT**或**QTP**是否具有支持此功能的功能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T09:36:13.620

为了使用响应中的特定 JSON 属性，您应该执行以下操作。

1.  在属性窗格中选择**HTTP选项卡**
2.  在**响应正文**部分`JSON`从下拉列表中选择
3.  加载预期 JSON 响应的样本 ![步骤 1-3 的屏幕截图](../Images/10f8c3f1fc2e71bc4df41adae4975edd.png)

然后在要使用该值的活动中，单击输入参数的链接图标，选择**HTTP**选项卡并从**输出**部分 选择`Id`属性。**![链接价值](../Images/520e7b2a6aa827cb2162e9f0711cbdb5.png)**

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T07:37:12.717

使用 QTP10 不可能在本地执行此操作，但取决于您想要从 JSON 文件中获取多少数据（仅 ID 或您是否想要解析整个内容）以及 JSON 文件的复杂程度（多个子对象等）您可以使用以下策略：

1.  最通用：尝试找到[像这些家伙这样](https://stackoverflow.com/questions/1019223/any-good-libraries-for-parsing-json-in-classic-asp/10478483#10478483)的 VBScript JSON 解析器。
2.  大多数hackery：创建一个Internet Explorer应用程序实例，将一个（java）脚本元素附加到空文档并将该元素内的响应主体评估为一个变量。通过读出 DOM 将此变量作为对象导入 QTP。现在你可以通过`id = ImportedObject.ID`
3.  最简单：使用正则表达式来获取具有`""ID"": *([^,]*)`响应正文中的模式的 ID。

除非您想从 JSON 文件中获取更多信息，否则我会选择 3。**

# javascript - 在 jquery 延迟对象之间发送数据

> ID：15151602
> 
> 赞同：3
> 
> 时间：2013-03-01T06:07:12.130
> 
> 标签：javascript, jquery, jquery-deferred, deferred

我试图掌握 jquery 中的延迟对象，但一直遇到麻烦。基本上，我有一系列要运行的函数，其中函数 1 的结果决定了第二个函数中的逻辑。

我不确定我是否必须在某处调用管道方法或只使用 then() 但无论哪种方式我都会失败。如果您查看第一个函数，则有一个名为 data 的对象，我想将其传递给第二个函数。

```
 function run() {
    var data1 = {};
    var data2 = {};

    var body = $('body');

    $.when(first()).then(second()).done(constructData);

    function first() {
        var d = new $.Deferred();

        var data = {} //arbitrary data set that i want to send to second

        data.message = 'first message';
        data.id = 1234;

        body.append('First done');

        //return data object? add it to the resolve method?
       d.resolve();
    }

    function second(data) { //how do I get this data object?

        var d = new $.Deferred();

        body.append('Data from first:');

         body.append('Second done');

        d.resolve();
    }
    function constructData() {

    }

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T06:25:56.947

这是您示例的简化现场演示：http: [//jsfiddle.net/L96cD/](http://jsfiddle.net/L96cD/)

您的代码中缺少什么：

1/ 你需要传入 resolve 第二个函数的参数：

```
d.resolve(data); 
```

2/ 你需要返回延期的：

```
return d; 
```

注意：在实践中，您会在解决之前返回 deferred（因此得名）。此外，延迟是内置在一些方法中的，比如 ajax 调用。

# ios - 使用动画推送 ViewController 时隐藏黑屏

> ID：15151609
> 
> 赞同：0
> 
> 时间：2013-03-01T06:08:01.533
> 
> 标签：ios, cgaffinetransform

我是 iOS 开发的新手。我正在使用以下代码：

```
AskViewController *askController=[[AskViewController alloc]initWithNibName:@"AskViewController" bundle:nil];
askController.view.transform = CGAffineTransformMakeScale(0.01, 0.01); 
[UIView beginAnimations:@"animationExpand" context:NULL];
[UIView setAnimationDuration:0.5f];
[UIView setAnimationCurve:UIViewAnimationOptionOverrideInheritedDuration];
askController.view.transform=CGAffineTransformMakeScale(1, 1);
[UIView setAnimationDelegate:self];
[UIView commitAnimations];
[self.navigationController pushViewController:askController animated:NO]; 
```

当我将 askViewcontroller 推到导航时，它会向我显示带有黑屏动画的 AskViewcontroller。我想将该黑屏更改为白色或任何其他彩色屏幕。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T06:55:29.743

在您的应用程序委托的**didFinishLaunchingWithOptions方法中，添加以下行：**

```
self.window.backgroundColor = [UIColor greenColor]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:27:13.570

尝试设置 askController.view 的 backgroundColor，例如：

```
[askController.view setBackgroundColor:[UIColor greenColor]]; 
```

它会将您的 askController.view 的 backgroundColor 设置为绿色。

# python - python脚本高级调度

> ID：15151610
> 
> 赞同：2
> 
> 时间：2013-03-01T06:08:02.983
> 
> 标签：python, python-2.7, python-3.x, scheduled-tasks, apscheduler

我正在尝试做一些非常复杂的事情。使用 Windows 框，我试图让脚本每半小时运行一次，周一至周五，上午 9:00 至下午 7:00，跳过我定义为“假期”的某些日期。我希望 Python 自己运行这个脚本。我已经查看了“apschedule”，但似乎找不到我需要执行此操作的正确选项。如果无法通过 Python 做到这一点，我还能查看哪些其他解决方案？

顺便说一句，截至目前，我正在运行 Python 3.3，但如有必要，我愿意降级。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:22:32.153

装饰您的工作职能以跳过特殊日子：

```
from datetime import date

def not_on(dates):
    def noop(): pass
    def decor(fn):
        if date.today() in dates:
            return noop
        else:
            return fn
    return decor

@not_on( ( date(2013, 03, 01), ) )
def job():
    print "yeah" 
```

然后只需将您的工作安排在常规日期并完成。如果在特殊的日子调用作业，装饰器将跳过执行。

继续使用`apscheduler`。

# android - java.lang.IllegalArgumentException：索引 0 处的方案中的非法字符：

> ID：15151613
> 
> 赞同：21
> 
> 时间：2013-03-01T06:08:15.827
> 
> 标签：android

如果在 ics 上运行（对于 2.3 运行良好），我会遇到这样的错误：

```
03-01 10:15:58.217: E/AndroidRuntime(844): FATAL EXCEPTION: AsyncTask #5
03-01 10:15:58.217: E/AndroidRuntime(844): java.lang.RuntimeException: An error occured while executing doInBackground()
03-01 10:15:58.217: E/AndroidRuntime(844):  at android.os.AsyncTask$3.done(AsyncTask.java:278)
03-01 10:15:58.217: E/AndroidRuntime(844):  at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
03-01 10:15:58.217: E/AndroidRuntime(844):  at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
03-01 10:15:58.217: E/AndroidRuntime(844):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
03-01 10:15:58.217: E/AndroidRuntime(844):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)
03-01 10:15:58.217: E/AndroidRuntime(844):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
03-01 10:15:58.217: E/AndroidRuntime(844):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
03-01 10:15:58.217: E/AndroidRuntime(844):  at java.lang.Thread.run(Thread.java:856)
03-01 10:15:58.217: E/AndroidRuntime(844): Caused by: java.lang.IllegalArgumentException: Illegal character in scheme at index 0:   http://localhost/android/data_janji.php?id_nasabah=40
03-01 10:15:58.217: E/AndroidRuntime(844):  at java.net.URI.create(URI.java:727)
03-01 10:15:58.217: E/AndroidRuntime(844):  at org.apache.http.client.methods.HttpGet.<init>(HttpGet.java:75)
03-01 10:15:58.217: E/AndroidRuntime(844):  at com.mpegadaian.JSONParser.makeHttpRequest(JSONParser.java:109)
03-01 10:15:58.217: E/AndroidRuntime(844):  at com.mpegadaian.DaftarJanjiActivity$LoadGadai.doInBackground(DaftarJanjiActivity.java:132)
03-01 10:15:58.217: E/AndroidRuntime(844):  at com.mpegadaian.DaftarJanjiActivity$LoadGadai.doInBackground(DaftarJanjiActivity.java:1) 
```

我检查`data_janji.php`了我是否访问跨表单浏览器，结果很好：

```
{"data_janji":[{"nama_brg":"ANTING ANTING 10GR","id_janji":"9","id_gadai":"23","tgl_janji":"01-March-2013","pesan":"tebus bsk"}]} 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：99
> 
> 时间：2013-03-01T06:34:26.910

前面似乎有一些空白（空格）`http:`，请删除它们。

# javascript - 在 iPad 中创建水平滚动（使用 Hammer JS 库防止垂直滚动）

> ID：15151618
> 
> 赞同：1
> 
> 时间：2013-03-01T06:08:37.697
> 
> 标签：javascript, ipad, safari, swipe, hammer.js

我试图防止在应用程序内显示的页面中垂直滚动。我正在寻找使用 Hammer JS，但我不确定我应该如何使用它。我已经使用 event.preventDefault() 尝试了几个事件，但它似乎不起作用。

例如：

```
 $(document).hammer().on('swipeup', 'body',
        function(event)
        {
            event.preventDefault();
        }
    ); 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T03:25:55.327

我不知道是否需要使用 Hammer JS，但我已经成功地在 iOS 中使用 iScroll 4 [https://github.com/cubiq/iscroll](https://github.com/cubiq/iscroll)实现了水平滚动（和禁用垂直滚动） （示例：[http ://cubiq.org/iscroll-4](http://cubiq.org/iscroll-4) )

当您调用 iScroll 时，在选项中传递 hScroll: true 和 vScroll: false，如下所示：

```
new iScroll('XYZ', { hScroll: true, vScroll: false }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T16:02:57.717

我无法让它仅与 Hammer 调用一起使用，但添加它应该可以：

```
$(document).addEventListener("touchmove", function (e) { 
    e.preventDefault(); 
}, false); 
```

# php - 如何仅选择已选中的复选框值

> ID：15151622
> 
> 赞同：2
> 
> 时间：2013-03-01T06:08:55.557
> 
> 标签：php, javascript, jquery, ajax, codeigniter

这是我在 codeigniter 中的视图，其中我使用 ajax 将数据发布到我的控制器

```
<script type="text/javascript">
        $(document).ready(function(){
            // find the input fields and apply the time select to them.
            $('#sample1 input').ptTimeSelect();
        });
    </script>
    <script type="text/javascript">

function add_chamber() {
    $.ajax({
        url: '<? echo base_url("index.php/doctormain/add_chamber"); ?>',
        type: "POST",
        data: {
            name :  $("input#name").val(),
            address :  $("input#address").val(),
            city :  $("input#city").val(),
            locality :  $("input#locality").val(),
            state:$("input#state").val(),
            landline :  $("input#landline").val(),
            mobile :  $("input#mobile").val(),
             fees :  $("input#fees").val(),
            email :  $("input#email").val(),
            days :  $("input#mon:checked").val() +$("input#tue:checked").val()+$("input#wed:checked").val()+$("input#thur:checked").val()+$("input#fri:checked").val()+$("input#sat:checked").val()+$("input#sun:checked").val(),
            start :  $("input#start").val(),
            end :  $("input#end").val(),
            comments :  $("input#comments").val()
        },
        success :function(response) {

            $('#sucess').html(response);
            $( "#sucess" ).dialog({
      height: 140,
      modal: true
    });
        },
        error: function(){
            alert("Error");
        }
    });
}
</script>

<div class="content">
<div class="content-left">
<div  class="row1">
<h2>Welcome <? echo $username ?></h2>
<h1> Add Chamber </h1>
<h2><div id="sucess"></div></h2>

   <?php echo form_open_multipart('doctormain/add_chamber');?>

      <table width="100%">

<tr><td> Name:</td><td> <input name="name" type="text" id="name"></td></tr>
<tr><td> Address:</td><td>  <input name="address" type="text" id="address"></td></tr>
<tr><td> City:</td><td>  <input name="city" type="text" id="city"></td></tr>
<tr><td> Locality:</td><td> <input name="locality" type="text" id="locality"></td></tr>
<tr><td> State:</td><td>  <input name="state" type="text" id="state"></td></tr>
<tr><td> Landline:</td><td>  <input name="landline" type="text" id="landline"></td></tr>
<tr><td> Mobile:</td><td>  <input name="mobile" type="text" id="mobile"></td></tr>
<tr><td> Email:</td><td>  <input name="email" type="text" id="email"></td></tr>
<tr><td> Consultation Fees:</td><td>  <input name="fees" type="text" id="fees"></td></tr>
<tr>
  <td> Days Of Availability:</td><td>
  Mon:<input name="mon" type="checkbox" id="mon" value="1" checked>
  Tue:<input name="tue" type="checkbox" id="tue" value="2"  checked>
  Wed:<input name="wed" type="checkbox" id="wed" value="3" checked>
  Thur:<input name="thur" type="checkbox" id="thur" value="4" checked>
  Fri:<input name="fri" type="checkbox" id="fri" value="5" checked>
  Sat:<input name="sat" type="checkbox"  id="sat" value="6" checked>
  Sun:<input name="sun" type="checkbox" id="sun" value="7" checked>
  </td></tr>
  <tr><td> Time Of Availability</td><td>

  <div id="sample1" class="ui-widget-content" style="padding: .5em;">
        <p>
            <label>Start</label>
            <input name="s1Time2" id="start" value="" /> 
            <label>End</label>
            <input name="s1Time2" id="end" value="" />
        </p>
        </div>

  </td></tr>
<tr><td> Comments:</td><td> <input name="comments" type="testbox" id="comments" ></td></tr>

<tr><td> </td><td> <input name="submit" id="submit" class="button" type="button" value="Save" onclick="add_chamber()">
</td></tr>
<? echo form_close();?>
      </table>

   <div id="results">
   </div>
   </div>

</div>

<div class="content-right">
<div class="mainmenu">
<h2 class="sidebar1">My Menu</h2>
<p><ul>
  <li><a href="#">this is a dummy link 1</a></li>
  <li><a href="#">this is a dummy link 2</a></li>
  <li><a href="#">this is a dummy link 3</a></li>
  <li><a href="#">this is a dummy link 4</a></li>
  <li><a href="#">this is a dummy link 5</a></li>
  <li><a href="#">this is a dummy link 6</a></li>
  <li><a href="#">this is a dummy link 7</a></li>
  <li><a href="#">this is a dummy link 8</a></li>
  <li><a href="#">this is a dummy link 9</a></li>
  <li><a href="#">this is a dummy link 10</a></li>
</ul></p>
</div>

</div>
</div> 
```

但是在我的jQuery中

```
 days :  $("input#mon:checked").val() +$("input#tue:checked").val()+$("input#wed:checked").val()+$("input#thur:checked").val()+$("input#fri:checked").val()+$("input#sat:checked").val()+$("input#sun:checked").val(), 
```

我只想传递选中的复选框的值。

例如，如果复选框 id sun 被选中，它将仅传递 7。

但我面临的问题是，当我选择它时，例如 mon、tue、sun，它正在传递 12undefined。

谁能帮我解决这个问题谢谢 Somdeb

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:21:46.310

尝试使用[此](http://api.jquery.com/map/)方法：

```
days =  $('input[type=checkbox]:checked').map(function() {
                 return this.value ;
              }).get().join(','); 
```

查看**[示例](http://jsfiddle.net/hJAUU/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:11:19.263

你可以通过每个 ();

```
$("input:checkbox:checked").each()

$("input:checkbox[name=numbers]:checked") 
```

将重新运行所有选中复选框的数组，然后我们可以遍历该数组

这是[示例](http://www.codegateway.com/2012/01/get-all-checked-checkboxes-jquery.html)，

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T06:16:31.293

而不是这样做，您可以遍历所有选中的复选框

```
$("input:checkbox:checked").each(function(){

 days+=$(this).val();
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T06:18:21.850

如果它不起作用，请尝试使用`.is()`.

**例子**

```
var passDays;

if($("#mon").is(':checked'))
{
    passDays += $(this).val();
}

if($("#tue").is(':checked'))
{
    passDays += $(this).val();
}

days : passDays, 
```

您还可以在其中使用`passDays`as`array`和`push`value。

您也可以通过使用`.each()`并检查它`.is(':checked')`然后`push`在数组中优化此代码。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T06:14:16.773

试试这个 ：-

```
days :  $("#mon:checked").val() +$("#tue:checked").val()+$("#wed:checked").val()+$("#thur:checked").val()+$("#fri:checked").val()+$("i#sat:checked").val()+$("#sun:checked").val() 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-01T06:16:16.173

这就是 jQuery`serialize`的`find`用途。

```
function add_chamber() {
    $.ajax({
        url: '<? echo base_url("index.php/doctormain/add_chamber"); ?>',
        type: "POST",
        data: { $(table).find(input, checkbox, textbox).serialize();
        }
}, 
```

在这里查看：http: [//api.jquery.com/serialize/](http://api.jquery.com/serialize/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-01T06:33:17.237

你可以试试这个：

```
var days = {};
$('form input[type=checkbox]').each(function() {
    days[$(this).attr('value')] = $(this).attr('checked');
}); 
```

# c# - 拖放图像

> ID：15151627
> 
> 赞同：1
> 
> 时间：2013-03-01T06:09:37.523
> 
> 标签：c#, .net, winforms

使用此代码，我可以将图像拖放到标签上，但现在我想将该图像从标签拖到另一个标签上。我怎样才能做到这一点？

```
namespace WindowsFormsApplication1
{
    public partial class Form2 : Form
    {
        public Form2()
        {
            InitializeComponent();
            Image img = Image.FromFile(@"D:\test\test.png");
            this.btnImage.Image = img;

            Image img1 = Image.FromFile(@"C:\Documents and Settings\SAURABH\Desktop\Green.ico");
            this.btnImage1.Image = img1;
        }

        private void button1_MouseDown(object sender, MouseEventArgs e)
        {
            Button btnPic = (Button)sender;
            btnPic.DoDragDrop(btnPic.Image, DragDropEffects.Copy);
        }

        private void button2_MouseDown(object sender, MouseEventArgs e)
        {
            Button btnPic = (Button)sender;
            btnPic.DoDragDrop(btnPic.Image, DragDropEffects.Copy);
        }

        private void button3_MouseDown(object sender, MouseEventArgs e)
        {
            Button btnPic = (Button)sender;
            btnPic.DoDragDrop(btnPic.Image, DragDropEffects.Copy);
        }

        private void label1_DragEnter(object sender, DragEventArgs e)
        {
            if (e.Data.GetDataPresent(DataFormats.Bitmap))
            {
                e.Effect = DragDropEffects.Copy;
            }
            else
            {
                e.Effect = DragDropEffects.None;
            }
        }

        private void label10_DragEnter(object sender, DragEventArgs e)
        {
            if (e.Data.GetDataPresent(DataFormats.Bitmap))
            {
                e.Effect = DragDropEffects.Copy;
            }
            else
            {
                e.Effect = DragDropEffects.None;
            }
        }

        private void label10_DragDrop(object sender, DragEventArgs e)
        {
            Label picbox = (Label)sender;
            //PictureBox picbox = (PictureBox)sender;
            Graphics g = picbox.CreateGraphics();
            g.DrawImage((Image)e.Data.GetData(DataFormats.Bitmap), new Point(0, 0));
        }

        private void label1_DragDrop(object sender, DragEventArgs e)
        {
            Label picbox = (Label)sender;
            //PictureBox picbox = (PictureBox)sender;
            Graphics g = picbox.CreateGraphics();
            g.DrawImage((Image)e.Data.GetData(DataFormats.Bitmap), new Point(0, 0));
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T07:04:33.393

问题出在您`Label`的 DragDrop 处理程序中。您可以使用如下代码直接复制拖放操作的“有效负载”：

```
private void Label_DragDrop(object sender, DragEventArgs e) {
    if (e.Data.GetDataPresent(typeof(Bitmap))) {
        ((Label)sender).Image = (Image)e.Data.GetData(DataFormats.Bitmap);
    }
} 
```

您可能会发现[这篇](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.dodragdrop.aspx)关于拖放的 MSDN 文章很有用。

我还在您的代码中注意到`MouseDown`,`DragEnter`和`DragDrop`事件处理程序对于多个`Button`和`Label`控件是相同的。您可以通过编写每个处理程序一次然后将多个控件的事件注册到每个处理程序来重构一些东西。例如，您可以将您的`Label1`和`Label10`的 DragDrop 事件注册到我上面提供的处理程序中。在 Designer 中或通过代码执行此操作：

```
label1.DragDrop += Label_DragDrop;
label10.DragDrop += Label_DragDrop; 
```

# string - 滑动窗口中的字符串匹配

> ID：15151628
> 
> 赞同：0
> 
> 时间：2013-03-01T06:09:43.873
> 
> 标签：string, algorithm, pattern-matching, trie

假设您有一个包含以下字符串的文件

```
a a a b a a b a a b b a b 
```

您无权访问该文件，但有一个函数 FetchNextChar() 一次提供一个字符。

并且要匹配的模式是 `a a b`

您如何计算点击总数？

这就是我的想法。

1.  如果获取的字符是模式 ('a') 的第一个字符，则将其添加到队列
2.  如果它与模式的下一个字符匹配，则开始为下一个字符附加/创建一个链表

所以在第一次获取之后我们有

```
Pattern -a 
Queue - a 

Then 

Pattern -a  a 
Queue[0] a->a 
Queue[1] a

3rd 
Pattern    a    a    b
Queue[0]   a -->a--> a    //doesn't match, dequeue
Queue[1]        a-> a
Queue[2]             a 
```

我认为这可行，但我看到的问题是，如果有多个字符与模式的第一个字符匹配，我会继续添加到队列中，因此继续增加列表。

有什么想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T08:58:42.757

您可以使用基于状态的算法：

![三态算法](../Images/bf0d38b602633abcdedb81cb2089b218.png)

我们可以看到，每次`'b'`读取 a 时，我们都会继续，`state=0`如果我们继续，则模式出现的次数会增加 1 `state=2`。当 a被读取时，我们显然`'a'`会进入下一个以 为界的状态。`state=2`

这是一个实现算法的python脚本

```
stream = ['a','a','a','b','a','a','b','a','a','b','b','a','b']

state = 0 
nbMatch = 0

for c in stream:
    if c=='a':
        if state==0 or state==1:
            state = state+1
        #if state == 2: state=2
    else: #c=='b'
        if state==2:
            nbMatch = nbMatch+1
        state = 0
    print c, "   state=", state
print nbMatch 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-02T21:25:49.880

这可以使用[Rabin–Karp 算法](http://en.wikipedia.org/wiki/Rabin%E2%80%93Karp_algorithm)为滑动窗口计算 a有效地解决`rolling hash`，一个简单的滚动哈希函数是对字符的 ASCII 码求和，但是你可以使用这个数组`primes`来减少冲突，我已经测试了这些素数并在大而相似的字符串和模式匹配上给了我一些冲突：

```
primes[] = {13 , 7963 , 17443 , 27527 , 37879 , 48673 , 59407 , 70729 , 81883 , 93251 , 104789 , 116531 , 128239 , 139969 , 151783 , 163883 , 176159 , 188029 , 200257 , 212447 , 224831 , 237283 , 249517 , 262217 , 274661 , 287173}; 
```

这是上述算法打印匹配数的伪代码：

```
stream = "aaabaabaabbab";
pattern = "aab";
queue window;

patternHash = 0;
for ch in pattern:
    patternHash = patternHash + primes[ch - 'a']

first = readFromStream(stream)
window.enqueue(first)
windowHash = primes[first - 'a']
for i = 0 to pattern.size():
    ch = readFromStream(stream)
    window.enqueue(ch)
    windowHash = windowHash + primes[ch - 'a']

count = 0
for i = pattern.size() to stream.size():
    if windowHash == patternHash
        if window == pattern
            count = count + 1
    ch = readFromStream(stream)
    window.enqueue(ch)
    windowHash = windowHash - primes[window.first() - 'a']
    windowHash = windowHash + primes[ch - 'a']
    window.dequeue()

print count 
```

# c++ - 在 C++ 和 MPI 中独立并行写入文件

> ID：15151632
> 
> 赞同：0
> 
> 时间：2013-03-01T06:10:09.600
> 
> 标签：c++, parallel-processing, mpi

我已经用 C++ 和 MPI 实现了一个代码，它应该进行数百万次计算，并为每个处理其数据的 CPU 将数百万个数字保存在大约 7 个文件中。我使用了大约 10,000 个内核，总共提供了 70,000 个文件，其中包含数百万行要并行编写的代码。

我使用 ofstream 进行写作，但由于某种原因，MPI 代码在中间中断并且文件似乎是空的。我希望每个处理器独立于所有其他处理器编写其 7 个文件，根据我的搜索，这可以使用 MPI 完成，但我在许多资源中阅读了它，我不明白它如何用于独立写入和在执行期间动态指定文件名。如果这是正确的方法，有人可以尽可能详细地解释它吗？如果不是，请尽可能详细地解释您的其他建议？

我目前不起作用的写作看起来像这样：

```
if (rank == 0)
    {

    if(mkdir("Database",0777)==-1)//creating a directory
    {

    }
    rowsCount = fillCombinations(BCombinations,  RCombinations,
                                 BList,               RList,
                                 maxCombinations,        BIndexBegin, 
                                 BIndexEnd,           RIndexBegin, 
                                 RIndexEnd,    
                                 BCombinationsIndex,  RCombinationsIndex
                          );
}

//then broad cast all the arrays that will be used in all of the computations and at the root 
//send all the indexes to work on on the slaves then at the slave 

or (int cc = BeginIndex ; cc <= EndIndex; cc++)
        {

           // begin by specifying the values that will be used 
           // and making files for each B and R in the list

            BIndex      = betaCombinationsIndex   [cc];
            RIndex     = roughCombinationsIndex  [cc];

            //creating files to save data in and indicating the R and B by their index 
            //specifying files names

           std::string str1;
           std::ostringstream buffer1;
           buffer1 << "Database/";
           str1 = buffer1.str();

           //specifying file names

            std::ostringstream pFileName;
            std::string ppstr2;
            std::ostringstream ppbuffer2;
            ppbuffer2 <<"P_"<<"Beta_"<<(BIndex+1)<<"_Rho_"<<(RIndex+1)<<"_sampledP"<< ".txt";
            ppstr2 = ppbuffer2.str();
            pFileName <<str1.c_str()<<ppstr2.c_str();
            std::string p_file_name = pFileName.str();

            std::ostringstream eFileName;
            std::string eestr2;
            std::ostringstream eebuffer2;
            eebuffer2 <<"E_"<<"Beta_"<<(BIndex+1)<<"_Rho_"<<(RIndex+1)<<"_sampledE"<< ".txt";
            eestr2 = eebuffer2.str();
            eFileName <<str1.c_str()<< eestr2.c_str();
            std::string e_file_name = eFileName.str();

            // and so on for the 7 files .... 

            //creating the files
            ofstream pFile;
            ofstream eFile;

            // and so on for the 7 files .... 

            //opening the files
            pFile      .open (p_file_name.c_str());
            eFile        .open (e_file_name.c_str());

            // and so on for the 7 files .... 
            // then I start the writing in the files and at the end ...

            pFile.close();

            eFile.close();
}
// end of the segment loop 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T21:14:56.237

标准 C++/C 库不足以访问那么多文件。如果您尝试同时访问数十万个文件，即使是 BG/L/P 内核也会崩溃，这与您的数字非常接近。大量的物理文件也对具有额外元数据的并行系统造成了压力。

复杂的超级计算机通常有大量专用的 I/O 节点——为什么不利用标准的 MPI 功能进行并行 I/O？对于您要保存的文件数量，这应该足够了。

你可以从这里开始：[http ://www.open-mpi.org/doc/v1.4/man3/MPI_File_open.3.php](http://www.open-mpi.org/doc/v1.4/man3/MPI_File_open.3.php)

祝你好运！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T07:24:24.960

你需要自己做IO吗？如果没有，你可以试试[HDF5 库](http://www.hdfgroup.org/HDF5/PHDF5/)，它在使用 HPC 的科学家中非常流行。可能会看到它，这可能会简化您的工作。例如，您可以在同一个文件中写入内容并避免拥有数千个文件。（请注意，您的性能也可能取决于您的集群的文件系统）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T06:30:49.840

好吧，创建 7 个线程或进程，无论您使用什么，并将 threadid / processid 附加到正在写入的文件中。这种方式不应该有争议。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-05-26T14:43:32.957

Blue Gene 架构可能只剩下几年的时间，但如何做“可扩展 I/O”的问题仍将困扰我们一段时间。

首先，MPI-IO 本质上是这种规模的需求，尤其是集体 I/O 功能。尽管这篇论文是为 /L 写的，但教训仍然是相关的：

*   集体开放让图书馆设置一些优化
*   集体读写可以转换为与 GPFS 文件系统块边界很好地对齐的请求（这对于锁管理和最小化开销很重要）
*   “I/O 聚合器”的选择和放置可以通过考虑机器拓扑的方式来完成

[https://press3.mcs.anl.gov/romio/2006/02/15/romio-on-blue-gene-l/](https://press3.mcs.anl.gov/romio/2006/02/15/romio-on-blue-gene-l/)

在 /Q 上选择聚合器非常复杂，但其想法是选择这些聚合器以平衡所有可用“系统调用 I/O 转发”（ciod）链接的 I/O：

[https://press3.mcs.anl.gov/romio/2015/05/15/aggregation-selection-on-blue-gene/](https://press3.mcs.anl.gov/romio/2015/05/15/aggregation-selection-on-blue-gene/)

# android - 在 JSON 中传递数组数组

> ID：15151636
> 
> 赞同：1
> 
> 时间：2013-03-01T06:10:45.560
> 
> 标签：android, arrays, json

我正在尝试使用 JSON 将数组从 Android 传递到服务器。我的 JSON 数据采用`time,longitude,latitude`以下格式：

```
[[12/12/13 12:00:03,12.125455,35.123445]
[20/12/13 11:02:03,45.123456,78.111222]] 
```

我怎样才能将这种数据传递给服务器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:13:40.387

传递一个有效的 JSON 字符串。

```
[["12/12/13 12:00:03","12.125455,35.123445"],["20/12/13 11:02:03","45.123456,78.111222"]] 
```

我不知道数据格式是否“一成不变”，但您也可以将其作为对象数组传递：

```
[
    {
        "long" : "12/12/13 12:00:03",
        "lat"  : "12.125455,35.123445"
    },
    {
        "long" : "20/12/13 11:02:03",
        "lat"  : "45.123456,78.111222"
    }
] 
```

这样，您可以访问每个坐标的属性，例如`coord.long`and`coord.lat`而不是`coord[0]`and `coord[1]`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:25:20.960

1.首先，您传递的对象不是有效的 JSON 对象，因此您必须传递有效的 JSON 对象。您可以使用此链接[http://jsonlint.com/](http://jsonlint.com/)来检查/验证 JSON。

2.检查您的 Web 服务如何接受 JSON 格式并相应地对其进行格式化。

# java - 使用带有参数的 url 从互联网下载图像 for Android？

> ID：15151639
> 
> 赞同：1
> 
> 时间：2013-03-01T06:10:49.270
> 
> 标签：java, android

使用**带参数的 URL**从 Internet 下载 Android 图像？？？

此代码有效，但我不希望这样，我想使用带参数的 URL 来下载图像。（例如：**URL= [http://yahoo.com/record?ProductID=1](http://yahoo.com/record?ProductID=1)**）

如何更改此代码？请。

```
bmp = this.GetNetBitmap("http://avatar.csdn.net/B/D/5/1_redoffice.jpg");

public Bitmap GetNetBitmap(String url){
URL imageUrl = null;
Bitmap bitmap = null;
try{
imageUrl = new URL(url);
}
catch(MalformedURLException e){
Log.e("DownloadTimerTask", e.getMessage());
}
try{ HttpURLConnection conn = (HttpURLConnection)imageUrl.openConnection();
conn.setDoInput(true);
conn.connect();
InputStream is = conn.getInputStream(); bitmap = BitmapFactory.decodeStream(is); is.close();
}
catch(IOException e){
Log.e("DownloadTimerTask", e.getMessage());
}
return bitmap;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:13:48.727

写一个函数类似于下面的行：

```
public static Drawable imageFromURL(String url) {
    try {
        InputStream is = (InputStream) new URL(url).getContent();
        Drawable d = Drawable.createFromStream(is, "src name");
        return d;
    } catch (Exception e) {
        return null;
    }
} 
```

然后根据需要使用`BitmapFactory.decodeResource();`转换`Drawable`为`BitMap`。

# jquery-mobile - JQuery Mobile Demo 代码与我的输出不匹配

> ID：15151649
> 
> 赞同：0
> 
> 时间：2013-03-01T06:11:33.027
> 
> 标签：jquery-mobile

我正在尝试[在 jQuery Mobile 上复制 Flip Switch的演示代码](http://view.jquerymobile.com/master/docs/widgets/sliders/switch.php)

```
<form>
    <div data-role="fieldcontain">
        <label for="flip-7">Flip toggle switch:</label>
        <select name="flip-7" id="flip-7" data-role="slider" data-mini="true">
            <option value="off">Off</option>
            <option value="on">On</option>
        </select>
    </div>
</form> 
```

针对这样的事情： ![屏幕截图](../Images/da8fcca57b414549bbdc1a0be9718aa0.png)

但我最终得到这样的结果： ![在此处输入图像描述](../Images/f3903471a42a89faf20ceddc86cb2161.png)

这让我发疯，因为我知道我的 JQuery Mobile 脚本正在加载，但我似乎没有得到他们认为应该得到的相同结果。这基本上发生在大多数项目上，特别是处理表单和弹出窗口。我尝试上课等等，但无济于事。

大家有这方面的参考技巧吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:07:08.337

现在我遇到了你的问题，它不是你的问题，它是基本问题，jquery 只应用于 dom 中的元素而不是运行时这个问题也发生在我身上。可能有两种解决方案

`.trigger("create")`尝试使用新内容调用元素。

根据 jQuery Mobile 文档，“create 事件适用于增强包含一个或多个小部件的原始标记。”

或再次加载 jquery.mobile。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:32:14.770

这是整个代码（在 google chrome 中测试）：确保您在浏览器上启用了 javascript。

```
<!DOCTYPE HTML>
<HTML>
<head>
<link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css">
<script src='http://code.jquery.com/jquery-1.9.1.min.js'></script>
<script src='http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js'></script>
</head>
<body>
<form>
<div data-role="fieldcontain">
    <label for="flip-7">Flip toggle switch:</label>
    <select name="flip-7" id="flip-7" data-role="slider" data-mini="true">
        <option value="off">Off</option>
        <option value="on">On</option>
    </select>
</div>
</form>
</body>
</HTML> 
```

# shell - 如何使用 linux shell 管道重命名文件？

> ID：15151653
> 
> 赞同：1
> 
> 时间：2013-03-01T06:11:57.950
> 
> 标签：shell

我想使用带有管道的 shell 命令行来重命名文件。
示例：重命名`x111.png`为`my_x111.png`（为每个文件添加前缀“my_”）

我知道`mv xxx bbb`将 xxx 重命名为 bbb 是最好的方法，但是如何在 shell 中编写命令？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:44:49.100

```
find -maxdepth 1 -type f | awk '{printf "mv %s my_%s\n", $2, $2}' FS=/ | sh 
```

例子

```
mv 自述文件 my_README
mv tree.pl my_tree.pl
mv youtube.sh my_youtube.sh

```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-19T07:20:41.170

```
ls -1 *.png | nawk '{p=$0;$0="my_"$0;;system("mv "p" "$0); }' 
```

参考[这里](http://theunixshell.blogspot.com/search/label/rename)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-19T07:53:31.337

```
rename 's/([^my_])(.*)/my_$1/g' * 
```

此命令会在所有文件名之前添加`my_`不包括已经以 . 开头的文件名`my_`。

这确实取决于您的版本`rename`，这需要 perl-version 而不是 util-linux-ng 版本。

# ruby-on-rails - 引导搜索栏

> ID：15151654
> 
> 赞同：0
> 
> 时间：2013-03-01T06:12:02.853
> 
> 标签：ruby-on-rails, ruby-on-rails-3, twitter-bootstrap

简单的问题，也许不是呵呵。所以我已经在我的导航中实现了 Bootstrap 搜索功能，尽管我如何让它真正搜索我的应用程序中的东西？

换句话说，我如何生成搜索结果？暂时它只是眼睛糖果，没有任何功能。

```
<form class="navbar-search">
<input type="text" class="search-query span3" placeholder="search">
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:18:47.993

bootstrap 提供的搜索栏只是一个漂亮的搜索栏，它没有内置或链接到任何搜索功能。

要执行搜索，您必须自己创建一个搜索方法，您可以像调用任何其他 HTML 表单一样从搜索表单调用该方法，传递搜索查询，然后重定向到结果页面。如果您不想重定向，当然可以使用 ajax。

无论哪种方式，它都不会是您可能期待的超级快速简单的搜索！

# ssl - 通过将证书放在 Monotouch 中的应用程序包中，以编程方式在 iPhone 中安装 SSL 证书

> ID：15151655
> 
> 赞同：0
> 
> 时间：2013-03-01T06:12:07.003
> 
> 标签：ssl, xamarin.ios, ssl-certificate

我正在使用 Monotouch 编写 iPhone 应用程序，我必须访问使用 https 保护的 WCF Web 服务。我已经在 Mac 机器上安装了证书，并且在 Mac 和模拟器中一切正常。现在在 iPhone 中，我想通过以编程方式将 .cer 文件放在应用程序包中来安装证书。请让我知道如何做到这一点。我是 Monotouch 的新手，所以我对此知之甚少。

是否有一些代码可以用来实现这一目标？如果无法做到这一点，还有其他方法可以实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:28:28.430

您可能已经知道 WS-* 完全建立在 http 请求之上，并且任何时候您处理大量 http 请求时，您可能会发现 ASIHTTPRequest 在 iPhone 上非常有用。但是，这不会让你 100% 到达那里。

从 iPhone 的角度来看，您有：

```
1 The URL loading system, which is a high level API for dealing with network resources of any kind
2 The CFNetwork C API which is lower-level and allows you a great deal more control of encrypting streams and network traffic any way you see fit
3 The Certificate, Key, and Trust Services that do the heavy lifting, and more specifically the X509 trust policies 
```

在 Mac 上，您可以使用 Secure Transport，但据我所知，他们尚未将其移植到设备上，因此除非您打算将其带到桌面或刚刚进入，否则我不会因为阅读而分心学习一切的心情。

如果您正在使用 WCF 进行任何安全操作，您可能意识到的第一件事是您可以使用许多选项，但这一切都归结为以下简短列表：

```
1 Transport layer security (https) with clear text messages (xml/json/...)
2 Message layer security (encrypted message body) over an open transport (http)
3 Secured messages over a secured transport 
```

一旦你得到一些工作，你会想要参考[企业部署指南](http://manuals.info.apple.com/en_US/Enterprise_Deployment_Guide.pdf)，特别是关于无线注册的文档，以便你可以在设备上安装证书。请记住，一切皆有可能，不要害怕使用该程序附带的 Apple 支持票之一 :)

# python-2.7 - 如何将变量从python脚本传递给wix？

> ID：15151657
> 
> 赞同：0
> 
> 时间：2013-03-01T06:12:12.843
> 
> 标签：python-2.7, wix

我有一个python脚本，它有一个变量'var'，其中包含wix创建msi所需的库文件的路径。我需要将此“var”发送到 wix proj。我该如何通过？我的 wix 代码看起来有点像这样..

```
<Component Id='MainExecutable' Guid='*'>
<File Id='ExecutableFile' Name='mc.exe' DiskId='1' Source='c:\my path to\mc.exe'KeyPath='yes'/>
</Component> 
```

文件 id 中的源路径应该从 python 脚本中的 'var' 获取。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:07:34.027

以下内容适用于 WiX v3.6+

```
<Component Id='MainExecutable'>
  <File Id='ExecutableFile' Source='$(var.VariableNameForPath)\mc.exe' KeyPath='yes'/>
</Component> 
```

要定义变量，可以在命令行上传递它，例如：

```
candle -dVariableNameForPath="C:\my path to" my.wxs 
```

或者，如果使用 MSBuild 和 .wixproj，则通过`DefineConstants`属性传递值，例如：

```
<PropertyGroup>
  <DefineConstants>VariableNameForPath=C:\my path to</DefineConstants>
</PropertyGroup> 
```

或者，如果您希望`C:\my path to`成为 MSBuild 中的属性，它看起来像：

```
<PropertyGroup>
  <DefineConstants>VariableNameForPath=$(MsbuildPropertyForPath)</DefineConstants>
</PropertyGroup> 
```

# php - 如何编写可以弥补拼写错误数据的 MySQL 搜索？

> ID：15151663
> 
> 赞同：4
> 
> 时间：2013-03-01T06:12:29.000
> 
> 标签：php, mysql, pdo

有没有办法编写一个 MySQL 搜索来弥补用户拼写错误等？

作为随机示例，有人可能会键入 foo@gmial.com 而不是 foo@gmail.com。

甚至帮助搜索字词以帮助从 Google 中提取相关数据也会有所帮助。我不是在寻找搜索引擎，也就是说，我正在寻找的是用于管理控制面板的某种拼写辅助工具。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:22:56.027

您正在研究的主题称为“模糊查找”。跳下来是一个很大的兔子洞，这取决于您想要获得的精确度。有多种方法，例如：

*   声音
*   Damerau-Levenshtein 距离
*   雅罗-温克勒距离
*   变音器
*   双变位符

一些参考检查：

*   [PHP/MySQL 小范围模糊搜索](https://stackoverflow.com/questions/1914671/php-mysql-small-scale-fuzzy-search)
*   [http://en.wikipedia.org/wiki/Approximate_string_matching](http://en.wikipedia.org/wiki/Approximate_string_matching)
*   [如何使用 PHP 对 MYSQL 中的公司名称进行模糊匹配以实现自动完成？](https://stackoverflow.com/questions/369755/how-do-i-do-a-fuzzy-match-of-company-names-in-mysql-with-php-for-auto-complete)
*   [为 mysql/模糊搜索实现 Levenshtein 距离？](https://stackoverflow.com/questions/634995/implementation-of-levenshtein-distance-for-mysql-fuzzy-search)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-01T06:18:30.917

有很多方法可以做到这一点。我个人喜欢的一个是`SOUNDS LIKE`。

查看[SOUNDEX 示例](http://www.java2s.com/Tutorial/MySQL/0460__String-Functions/expr1SOUNDSLIKEexpr2ThisisthesameasSOUNDEXexpr1SOUNDEXexpr2.htm)。

# c# - WP8 LongListSelector 填充列表

> ID：15151667
> 
> 赞同：1
> 
> 时间：2013-03-01T06:12:58.883
> 
> 标签：c#, xaml, windows-phone-8, windows-phone, longlistselector

我一直在尝试实现 LongListSelector，但一直找不到任何好的 WP8 教程。

我发现的最好的东西是[WP7tutorial](http://students.cec.wustl.edu/%7Eacm/hackathon/LongListSelectorTutorial.html)。我一直按照教程进行到第 21 步，但我的结果不一样。我最终创建了一个仅以白色文本显示类别的列表。这意味着它甚至不使用标题模板。

更新：[MSDN](http://msdn.microsoft.com/en-US/library/windowsphone/develop/jj244365%28v=vs.105%29.aspx)有一个教程，但我认为它对我来说是一种进步，因为我也是 C# 的新手。

update2：我已经弄清楚为什么没有显示标题模板，因为默认情况下禁用了“isGroupingEnabled”。![启用在属性窗格中分组](../Images/8920bee1eb63438fb84c863f1a4f8de7.png).

现在可以正确显示组，但不能正确显示组中的项目![生成的用户界面](../Images/ea1ce1e3b38f6f8b06c1f43545cd3380.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:17:04.817

看看这篇文章“PhotoHub - Windows Phone 8 XAML LongListSelector Grid Layout sample”：

[http://code.msdn.microsoft.com/wpapps/PhotoHub-Windows-Phone-8-fd7a1093](http://code.msdn.microsoft.com/wpapps/PhotoHub-Windows-Phone-8-fd7a1093)

# sql-server-2008 - 如何优化 sql server 2008 中的 DML 操作

> ID：15151668
> 
> 赞同：0
> 
> 时间：2013-03-01T06:12:59.703
> 
> 标签：sql-server-2008

如何在 sql server 2008 中优化以下查询。特别是我需要优化的选择查询。（例如，DB = 10000 中的总记录，如果在 9999 行中消耗了_flag ='flase'，则需要花费很多时间来检索单个记录)

```
DECLARE @proxyAcctToken nvarchar(50) 
DECLARE @pmtAcctToken varchar(50)
 DECLARE @ErrorCode varchar(50)
DECLARE @returnMessage varchar(1000)
DECLARE @ErrorStep varchar(100)
DECLARE @tokenSeqNo int
DECLARE @count int
SELECT @count=100000

WHILE(@count>0)
   BEGIN
          SELECT @ErrorCode = @@ERROR
          BEGIN TRY
                 SELECT top 1 @tokenSeqNo=S_NO,@pmtAcctToken = PMT_ACCT_TOKEN, @proxyAcctToken=PROXY_PMT_TOKEN
                 FROM PCTransDB.dbo.MIG_TOKEN_DUMP WHERE CONSUMED_FLAG = 'false'

                 UPDATE PCTransDB.dbo.MIG_TOKEN_DUMP SET CONSUMED_FLAG = 'TRUE', CONSUMED_BY = 'MIGBATCH' WHERE S_NO = @tokenSeqNo
                 PRINT @count

          SELECT  @ErrorCode  = 0

          /*************************************
          *  Return from the Stored Procedure
          *************************************/
   END TRY

   BEGIN CATCH   
   PRINT 'IN CATCH BLOCK'
   END CATCH
   SELECT @count = @count-1
   SELECT @proxyAcctToken = null
   SELECT @pmtAcctToken =null
 END 
```

注意：表格详细信息

```
 Column Nmae         DataType  IsNullable
  S_NO                  int      NO
  PROXY_PMT_TOKEN   nvarchar     NO
  PMT_ACCT_TOKEN    nvarchar     NO
  CONSUMED_FLAG        bit       NO
  CONSUMED_BY       nvarchar    YES 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T08:14:35.490

如果我正确理解您的代码，您基本上是`TOP 1`从表中选择行 where `CONSUMED_FLAG = 'false'`，然后您将这一行更新为拥有-`CONSUMED_FLAG = 'true'`并且`CONSUMED_BY = 'MIGBATCH'`您这样做了 10'000 次 - 对吗？

（*顺便说一句：在`TOP 1`没有 an的情况下做 a`ORDER BY`是毫无意义的——`TOP 1`你得到了什么？你没有定义一个顺序——那么你期望什么顺序`TOP 1`给你“最上面”的行？？*）

那么你为什么不这样做：

```
-- use a CTE (Common Table Expression) to select the TOP 10000 rows
-- you need to SPECIFY AN ORDER BY for this to make sense!
;WITH CTE AS
(
    SELECT TOP 10000 
        S_NO
    FROM    
        PCTransDB.dbo.MIG_TOKEN_DUMP 
    WHERE
        CONSUMED_FLAG = 'false' 
    ORDER BY 
         ??????
)
UPDATE 
    PCTransDB.dbo.MIG_TOKEN_DUMP 
SET 
    CONSUMED_FLAG = 'TRUE', CONSUMED_BY = 'MIGBATCH' 
FROM 
    CTE 
WHERE 
    CTE.S_NO = PCTransDB.dbo.MIG_TOKEN_DUMP.S_NO 
```

基本上，只需通过在 CTE 中选择它们来定义要更新的内容（哪些行），然后运行**一个`UPDATE`语句**来更新所有选定的行。完毕。没有凌乱的循环，什么都没有——就像一个魅力！

# javascript - 在递归循环中迭代和处理 JSON 对象导致 Stack Exceeded 错误

> ID：15151671
> 
> 赞同：0
> 
> 时间：2013-03-01T06:13:09.813
> 
> 标签：javascript, json, stack-size

我正在尝试使用 JS 构建 HTML 页面。需要进入 HTML 的内容的详细信息从服务器以 json 对象的形式发送。现在，json 对象的结构基本上模仿了 dom 结构，我遍历对象并从中获取单个 html 元素数据并呈现 HTML 字符串。当我使用递归函数运行此对象时，就会出现问题。我触发了堆栈超出错误。我猜这是因为浏览器堆栈大小的限制。我想了解，在不导致脚本失败的情况下，我可以迭代此对象以创建页面的最佳方式是什么。

```
pageObj Structure ->

//only a representation of object, the size is much larger.

{ "Default" : { "#text" : [ "\n  ",
          "\n"
        ],
      "MainForm" : { "#text" : [ "\n    ",
              "\n    ",
              "\n  "
            ],
          "shippingInfo" : { "#text" : [ "\n      ",
                  "\n      ",
                  "\n      ",
                  "\n      ",
                  "\n      ",
                  "\n      ",
                  "\n      ",
                  "\n    "
                ],
              "@attributes" : { "title" : "Shipping Information",
                  "type" : "FormBlock"
                },
              "Row" : [ { "#text" : [ "\n        ",
                        "\n      "
                      ],
                    "fName" : { "@attributes" : { "placeHolder" : "Enter First Name",
                            "title" : "First Name",
                            "type" : "text"
                          } }
                  },
                  { "#text" : [ "\n        ",
                        "\n      "
                      ],
                    "lName" : { "@attributes" : { "placeHolder" : "Enter Last Name",
                            "title" : "Last Name",
                            "type" : "text"
                          } }
                  },
                  { "#text" : [ "\n        ",
                        "\n      "
                      ],
                    "addr1" : { "@attributes" : { "title" : "Address 1",
                            "type" : "text"
                          } }
                  },
                  { "#text" : [ "\n        ",
                        "\n      "
                      ],
                    "addr2" : { "@attributes" : { "title" : "Address 2",
                            "type" : "text"
                          } }
                  },
                  { "#text" : [ "\n        ",
                        "\n        ",
                        "\n      "
                      ],
                    "state" : { "@attributes" : { "title" : "State",
                            "type" : "text"
                          } },
                    "zipCode" : { "@attributes" : { "title" : "Zip Code",
                            "type" : "text"
                          } }
                  },
                  { "#text" : [ "\n        ",
                        "\n        ",
                        "\n      "
                      ],
                    "country" : { "@attributes" : { "title" : "Country",
                            "type" : "text"
                          } },
                    "phone" : { "@attributes" : { "title" : "Phone",
                            "type" : "text"
                          } }
                  },
                  { "#text" : [ "\n        ",
                        "\n        ",
                        "\n        ",
                        "\n        ",
                        "\n      "
                      ],
                    "day10" : { "@attributes" : { "title" : "10 day Shipping ($3)",
                            "type" : "radio"
                          } },
                    "day5" : { "@attributes" : { "title" : "5 Shipping ($10)",
                            "type" : "radio"
                          } },
                    "free" : { "@attributes" : { "title" : "Free Shipping ($0)",
                            "type" : "radio"
                          } },
                    "overNight" : { "@attributes" : { "title" : "One day Shipping ($20)",
                            "type" : "radio"
                          } }
                  }
                ]
            },
          "userInfo" : { "#text" : [ "\n      ",
                  "\n      ",
                  "\n      ",
                  "\n    "
                ],
              "@attributes" : { "title" : "User Information",
                  "type" : "FormBlock"
                },
              "Row" : [ { "#text" : [ "\n        ",
                        "\n      "
                      ],
                    "TextBox" : { "@attributes" : { "placeHolder" : "Select an username",
                            "title" : "Username",
                            "type" : "text"
                          } }
                  },
                  { "#text" : [ "\n        ",
                        "\n      "
                      ],
                    "TextBox" : { "@attributes" : { "placeHolder" : "Select a password",
                            "title" : "Password",
                            "type" : "password"
                          } }
                  },
                  { "#text" : [ "\n        ",
                        "\n      "
                      ],
                    "TextBox" : { "@attributes" : { "placeHolder" : "Eg: name@gmail.com",
                            "title" : "Email",
                            "type" : "text"
                          } }
                  }
                ]
            }
        }
    } } 
```

为了迭代这个对象，我使用了下面的技术。

```
function iterateJsonObj(obj) {
    for(key in obj) {
        if(!obj.hasOwnProperty(key) || key=="#text") {
            continue;
        }
        else if(obj[key]["@attributes"]!=null)
        {
            htmlStr += createHTMLStr(obj[key], key);
        }

        iterateJsonObj(obj[key]);
    }
} 
```

希望这个问题有意义。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T07:25:30.590

这是一个退化的复制案例：

```
iterateJsonObj("Some text"); 
```

你能看到发生了什么吗？for 循环显然将字符串视为类似于单字符子字符串的数组。“Shipping”[0] 是“S”，它本身就是一个字符串......

为了解决这个问题，我建议在以这种方式迭代之前测试 typeof obj[key] === "object"。

另外，编写单元测试。他们会让你的生活更轻松。:)

# asp.net - 子域中的 asp.net response.redirect()

> ID：15151673
> 
> 赞同：1
> 
> 时间：2013-03-01T06:13:22.027
> 
> 标签：asp.net, subdomain, response.redirect

我有一个以这个名称命名的子域 (job.amez.co)，我的子域中有一个母版页，其中包含一些链接，其中一个链接将我重定向到一个页面 (Logout.aspx)

```
 <div class="blockContent">
                    <span id="span"></span>
                    بەخێربێیت بەرێز:  <span id="wel" runat="server" style="font-weight: bold;"></span>
                    <br />
                    <br />
                    <div style="font-weight: bold;">
                        <asp:HyperLink ID="HyperLink1" NavigateUrl="~/Profile.aspx" runat="server">پرۆفایل</asp:HyperLink></div>
                    <br />
                    <div style="font-weight: bold;">
                        <asp:HyperLink ID="HyperLink2" NavigateUrl="~/jobs/Myjobs.aspx" runat="server">کارەکانم</asp:HyperLink></div>
                    <br />
                    <div style="font-weight: bold;">
                        <asp:HyperLink ID="HyperLink3" NavigateUrl="~/LogOut.aspx" runat="server">چوونە دەرەوە</asp:HyperLink></div>
                    <br />
                </div> 
```

每当我点击这些链接而不是带我去时，`job.amez.co/LogOut.aspx`它就会带我去`job.amez.co/job/LogOut.aspx`

# dynamics-crm-2011 - 如何从基础开始使用 MS Dynamics CRM？

> ID：15151674
> 
> 赞同：-2
> 
> 时间：2013-03-01T06:13:31.913
> 
> 标签：dynamics-crm-2011, dynamics-crm, crm

我是 Microsoft 动态 CRM 的新手，实际上我从 .NET 迁移到了 CRM，我不知道从哪里开始。

任何人都可以帮助克服这个问题吗？在 stackoverflow 中是否有任何关于 MS Dynamics CRM2011 的聊天室

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-01T08:34:07.883

从[Microsoft Dynamics CRM 开发人员中心](http://msdn.microsoft.com/en-us/dynamics/crm/bb467596)开始。他们有[Dynamics CRM 2011 开发人员培训套件](http://www.microsoft.com/en-us/download/details.aspx?id=23416)，当然您需要[CRM SDK](http://msdn.microsoft.com/en-us/library/gg309408.aspx)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-01T08:49:49.600

根据您的目标专业，有不同的方法。鉴于您的背景，我猜您正在寻求开发人员的能力。

除了@paramosh，我还建议您在线注册一个新组织（30 天免费）并实现以下目标。

1.  当您打开联系人创建时，让 CRM 说“您好”。(JavaScript)
2.  让 CRM 在保存时切换名字和姓氏。(C#/插件)

您可以通过安装 CRM Developer Toolkit 并获取 CRM SDK 来准备您的 VS。然后，您将在 C# 下拥有一个名为 CRM Dynamics 的项目组。在那里，您可以选择插件项目。*在Execute*方法中做你想做的事。之后，您编译并注册程序集以及使用插件注册工具到您的 CRM 的步骤。测试一下，瞧！

这是您问题的答案（欢迎您将其作为答案进行检查）。如果您需要更详细的帮助，我建议您发一个新帖子，从而将巨大的起始门槛分成几部分。

尝试根据此设置每个问题。

1.  你想实现什么（小步骤）？
2.  您尝试过什么（如果可能，请提供**一些**代码，而不是 1000 行）？
3.  发生了什么你认为不正确或不受欢迎的事情？

你问的问题越清晰，人们就越容易为你提供更快更好的帮助。

# c# - 完全最大化 C# winform 并在底部隐藏打开的窗口图标

> ID：15151676
> 
> 赞同：4
> 
> 时间：2013-03-01T06:13:38.613
> 
> 标签：c#, maximize-window

我已经设置`this.WindowState = FormWindowState.Maximized;`好了，一切看起来都不错，但是 Windows 的打开窗口图标（例如我在页面底部的浏览器）仍然可见。

如何让它不可见？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T07:14:32.710

我只是想出答案 `TopMost`必须与and `true`一起设置。`FormBorderStyle = FormBorderStyle.None``Bounds = Screen.PrimaryScreen.Bounds`

# safari - Blob 构造函数

> ID：15151679
> 
> 赞同：3
> 
> 时间：2013-03-01T06:13:40.933
> 
> 标签：safari, xmlhttprequest, blob

我正在使用下面的代码打开一个本地文本文件。它在 firefox 中工作正常，但在 safari 中我收到错误，因为 **“[object BlobConstructor]”不是构造函数（评估“new Blob（[xhr.response]）”）** .请通过提供链接帮助我。

```
 var xhr = new XMLHttpRequest(),blob;
xhr.open('GET', 'example.txt');
xhr.responseType = 'arraybuffer';
xhr.onload = function(e) {
blob = new Blob([xhr.response]);
console.log(blob);

            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-07T06:18:30.287

这是旧版 Safari/WebKits 中的一个错误。升级您的浏览器或操作系统。

注意：它似乎仍然不接受 ArrayBufferView 作为参数，但对于普通数组应该没问题。

# php - 将叶节点值设置为属性

> ID：15151680
> 
> 赞同：0
> 
> 时间：2013-03-01T06:13:43.583
> 
> 标签：php, xml, xslt

我有这种类型的 XML 文件（test.xml）：

```
<product>
  <node>
    <region_id>
      <node>1</node>
    </region_id>
    <region_time>
      <node>27</node>
      <node>02</node>
      <node>2013</node>
    </region_time>
    <tab_id>351</tab_id>
    <product_id>1</product_id>
    <tab_name>test1</tab_name>
  </node>
</product> 
```

我想把它们改成这样的：

```
<product>
  <region_id>1</region_id>
  <region_time>27,02,2013</region_time>
  <tab_id value="351"></tab_id>
  <product_id value="1"></product_id>
  <tab_name value="test1"></tab_name>
</product> 
```

我在这里使用`XSLT` `PHP`

我的 XSLT 代码（test.xsl）：

```
<?xml version="1.0"?>
<xsl:stylesheet version="1.0" 
     xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:strip-space elements="*"/>

 <xsl:template match="*">
  <xsl:copy>
   <xsl:apply-templates select="*"/>
  </xsl:copy>
 </xsl:template>

 <xsl:template match="node">
  <xsl:apply-templates/>
 </xsl:template>

 <xsl:template match="/">
    <xsl:apply-templates />
 </xsl:template>

 <!-- from dimitre\'s xsl.thanks -->
 <xsl:template match="node[position()>1]/text()">
   <xsl:text>,</xsl:text>
   <xsl:value-of select="."/>
 </xsl:template>
</xsl:stylesheet> 
```

*xslt.php*

```
$sourcedoc = new DOMDocument();
$sourcedoc->load('test.xml');

$stylesheet = new DOMDocument();
$stylesheet->load('test.xsl');

// create a new XSLT processor and load the stylesheet
$xsltprocessor = new XSLTProcessor();
$xsltprocessor->importStylesheet($stylesheet);

// save the new xml file
file_put_contents('test-translated.xml', $xsltprocessor->transformToXML($sourcedoc)); 
```

使用此代码 O/P 为：

```
<product>
  <region_id>1</region_id>
  <region_time>27,02,2013</region_time>
  </tab_id>
  </product_id>
  </tab_name>
</product> 
```

没有给`<tab_id> <product_id>`。。`<tab_name>`

谢谢。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:24:53.470

添加这样的`<xsl:template>`元素应该可以解决问题：

```
<xsl:template match="tab_id | product_id | tab_name">
  <xsl:copy>
    <xsl:attribute name="value">
      <xsl:value-of select="."/>
    </xsl:attribute>
  </xsl:copy>
</xsl:template> 
```

# python - （Python）如何获取xml中节点的级别？

> ID：15151692
> 
> 赞同：1
> 
> 时间：2013-03-01T06:14:50.313
> 
> 标签：python, xml, xml-parsing

有没有一种有效的方法来获取xml中每个节点的级别，使用python xml解析器？节点的级别也可以通过在自上而下解析 xml 时计算结束标签来确定，但是，我也需要帮助:)。谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:37:31.920

也许这可能是一个初步的想法：

```
from xml.etree import ElementTree
from xml.etree.ElementTree import iterparse

level = 0

for (event, node) in iterparse( fileName, ['start', 'end', 'start-ns', 'end-ns'] ):

    if event == 'end':
        level -= 1

    if event == 'start':
        level += 1

    # do soething with node ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:37:39.557

我假设您的意思是“python xml 解析器” [`xml.etree`](http://docs.python.org/2/library/xml.etree.elementtree.html)。还有其他库（例如[`lxml`](http://lxml.de/)）可以使这项工作更容易，但根据[这个答案](https://stackoverflow.com/a/2170994/520779)，没有简单的方法可以使用这个库访问父元素。但是，那里提供的解决方法（创建父级到整个树的映射）足以确定任何给定元素的级别：

```
import xml.etree.ElementTree as ET
tree = ET.parse('country_data.xml')
root = tree.getroot()
# root = ET.fromstring(...)   # Alternative

parent_map = dict((c, p) for p in root.getiterator() for c in p)
def level(node):
    return level(parent_map[node])+1 if node in parent_map else 0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:46:21.720

我总是使用 minidom 并推荐它用于这些与 XML 文件的交互。为此，您可以使用元素的 parentNode 属性。

```
import xml.dom.minidom as parser

tree = parser.parse('xml.xml')

#let's say we want the first instance of a tag with an specific name
x = tree.getElementsByTagName('tagname')[0]

level = 0
while x:
    x = x.parentNode
    level += 1

print(level) 
```

这是[minidom 文档](http://docs.python.org/2/library/xml.dom.minidom.html)的链接。

# c++ - 我的职能顺序重要吗？

> ID：15151693
> 
> 赞同：1
> 
> 时间：2013-03-01T06:15:24.150
> 
> 标签：c++, visual-studio-2012

我无法解释为什么会出现这个逻辑错误！看一看：

这是在标题中 -

```
class PayRoller
{
public:
    void initialize();

    double getNum();
    void setNum(double);
    double getGrossPay();
    void setGrossPay(double);
    double getWage();
    void setWage(double);
    double getAddTotal();
    void setAddTotal(double);
} 
```

这是创建对象后调用的第一个函数-

```
void PayRoller::initialize();
{
    setGrossPay(0.0);
    setWage(0.0);
    setAddTotal(0.0);
    cout << (getGrossPay() + getAddTotal());
    start();
} 
```

最后是getter和setter-

```
void PayRoller::setGrossPay(double temp)
{
grossPay = temp;
}

double PayRoller::getWage()
{
return wage;
}

void PayRoller::setWage(double temp)
{
wage = temp;
}

double PayRoller::getAddTotal()
{
return addTotal;
}

void PayRoller::setAddTotal(double temp)
{
wage = temp;
} 
```

当我启动代码（没有调试）时，我在 initialize() 中从 cout 获得的值是 -9.25596e+061

我在这里做错了什么？我似乎无法弄清楚。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:44:24.007

您的 setAddTotal 方法没有设置 addTotal，而是设置工资。

```
void PayRoller::setAddTotal(double temp)
{
    wage = temp;
} 
```

应该

```
void PayRoller::setAddTotal(double temp)
{
    addTotal = temp;
} 
```

否则， addTotal 实际上并没有设置为 0，它只是包含垃圾。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:26:06.620

似乎岁差问题编号几乎为 0。尝试将值更改为 long 或 int，这可以验证。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:19:09.997

您需要废弃该`initialize()`方法并使用**[成员初始化列表](https://stackoverflow.com/questions/1711990/what-is-this-weird-colon-member-syntax-in-the-constructor/8523361#8523361)**。

你所说的***初始化***，其实就是***赋值***，初始化只能在成员初始化列表中进行。您需要的是初始化，即：***在创建时***将值绑定到成员，而不是***在创建后将***值分配给成员。

分配方法的问题是您需要依赖类的用户以您定义的方式调用方法，而他们可能不会。

# c++ - eclipse 编译但不运行

> ID：15151694
> 
> 赞同：0
> 
> 时间：2013-03-01T06:15:33.973
> 
> 标签：c++, eclipse, eclipse-cdt

我一直在使用 eclipse cdt 进行项目开发。突然，几天前在病房里，eclipse 编译但不运行（虽然我可以从命令行运行可执行文件）。我需要你的帮助才能让它再次工作。

如果您需要更多信息，请在评论中询问，以便我可以帮助您帮助我。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:41:39.923

之前运行的应用程序是您无法运行该应用程序的原因。首先，您应该检查调试透视图中是否存在以前运行的应用程序。

# jar - 如何将JRE与jar文件打包以便在Java独立机器上运行

> ID：15151695
> 
> 赞同：0
> 
> 时间：2013-03-01T06:15:36.833
> 
> 标签：jar, java

我必须在没有安装 java 的机器上运行我的 jar 文件。我浏览了这个链接： [http ://www.java.net/node/655012](http://www.java.net/node/655012)

但我不知道该怎么做。谁能告诉我实现这一目标需要采取的步骤？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:22:07.270

使用 launch4j 包装以获取 EXE 文件或使用 java Webstart 部署以获取网页上的可点击链接（提示您安装 Java）

# c# - 是否可以更改 PropertyGrid 中单个属性值的颜色

> ID：15151696
> 
> 赞同：4
> 
> 时间：2013-03-01T06:15:39.217
> 
> 标签：c#

是否可以更改 PropertyGrid 中单个属性值的颜色。假设我在 PropertyGrid 中有 10 个属性。我想更改单个属性值的字体颜色。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-01T06:20:21.750

当然，您可以使用[RowDataBound](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rowdatabound.aspx)事件。

# node.js - nodejs中的异步foreach

> ID：15151697
> 
> 赞同：1
> 
> 时间：2013-03-01T06:15:50.200
> 
> 标签：node.js

在 node.js 中，我知道 array.forEach 是阻塞的。

我需要遍历一个数组并构建一个这样的字符串：

```
var rarray = ['test', 'test2'];
var rstring = '';
  rarray.forEach(function(e, i){
  rstring = rstring + i + e;
});
return rstring; 
```

我如何异步执行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:36:08.737

在这种情况下，您可能不需要将此代码转换为其异步版本。

假设地，或者对于非常大的数组，这是一种将代码转换为异步代码的方法，或者至少可以定期返回主事件循环。

```
var rarray = ['test', 'test2'];
var rstring = '';
var max = rarray.length;
var current = 0;

process.nextTick(function next() {
  rstring = rstring + rarray[current++];
  if (current >= max) {
    console.log("done", rstring);
  } else {
    process.nextTick(next);
  }
}); 
```

在实践中，您会将其包装在一个函数中，并`console.log`通过调用完成回调来替换。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T10:23:45.693

我可能会补充一点，你想要做的实际上是调用`reduce`. 你可以这样写（[文档](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/Reduce)）

```
var res = array.reduce(function(prev, current, index) {
  return prev + index + current ;
}, ''); 
```

可以通过这种方式异步完成

```
var array = ['one', 'two'];

function reduceAsync(collection, initial, process, callback) {
  var i = 0;
  var res = initial;
  function DO(err, result) {
    if(err) return callback(err);
    if(i > collection.length) return callback(null, res);
    var index = i++;
    var value = collection[index];
    process(res, value, index, collection, DO);
  }
  DO(null, res);
}

reduceAsync(array, '', function(previous, current, index, collection, callback) {
  setTimeout(function() {
    callback(null, previous + index + current);
  }, 10); // wait 10 ms 
}, function finalResult(err, result) {
  console.log(result);
}) 
```

或者，你知道，你可以使用[async.reduce](https://github.com/caolan/async#reduce)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:58:07.683

Pascal 的回答本质上是一种协作多线程（参见[Wikipedia: Thread](http://en.wikipedia.org/wiki/Thread_%28computing%29)）。

没有测量很难说，但我猜抢占式多线程对于这种性质的事情会有更好的吞吐量，因为编译器有机会进行循环优化（不确定上面的代码会特别发生这种情况），并且操作系统可能更擅长确定任务切换的频率。看起来您可以在 node.js中执行[Web Worker Threads 。](https://github.com/audreyt/node-webworker-threads)

有人有基准吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T10:23:16.117

如果你想在上面的代码中使用异步模块，你仍然会得到同步代码。异步模块允许您避免回调地狱并管理您的回调。它不会使某些东西同步异步。要实现这一点，您需要像 Pascal 的回答那样使用 process.nextTick。

如果您正在对数组中的每个项目进行一些额外的异步处理，并且您希望在保留顺序的同时聚合每个操作的结果，那么您可以像这样使用[async.eachSeries](https://github.com/caolan/async#eachseriesarr-iterator-callback)：

```
var async = require('async');
var rarray = ['test', 'test2'];
var rstring = '', i = 0;

async.eachSeries(rarray, function(item, callback){
    rstring += (i++) + item;
    callback();
  }, function(err){
    console.log(rstring);
  }
); 
```

如果您不关心事情的顺序，那么您可以使用 async.each ，它将并行执行您的异步处理功能。

# android - 片段递归进入executePendingTransactions错误

> ID：15151698
> 
> 赞同：8
> 
> 时间：2013-03-01T06:15:53.457
> 
> 标签：android, android-fragments, android-viewpager, android-fragmentactivity, android-nested-fragment

我有一个错误：

```
03-01 11:20:43.453: E/AndroidRuntime(31235): java.lang.RuntimeException: Error receiving broadcast Intent { act=com.qz.Blaze.ServiceStarted flg=0x10 } in com.qz.Blaze.$ServiceStartedReceiver@423540f0
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:766)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.os.Handler.handleCallback(Handler.java:615)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.os.Handler.dispatchMessage(Handler.java:92)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.os.Looper.loop(Looper.java:137)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.app.ActivityThread.main(ActivityThread.java:4921)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at java.lang.reflect.Method.invokeNative(Native Method)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at java.lang.reflect.Method.invoke(Method.java:511)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1027)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:794)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at dalvik.system.NativeStart.main(Native Method)
03-01 11:20:43.453: E/AndroidRuntime(31235): Caused by: java.lang.IllegalStateException: Recursive entry to executePendingTransactions
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1416)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.FragmentManagerImpl.executePendingTransactions(FragmentManager.java:461)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:141)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.view.ViewPager.populate(ViewPager.java:1011)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.view.ViewPager.setCurrentItemInternal(ViewPager.java:522)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.view.ViewPager.setCurrentItemInternal(ViewPager.java:494)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.view.ViewPager.setCurrentItem(ViewPager.java:475)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at com.qz.Blaze.Fragment.onCreateView(Fragment.java:53)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.Fragment.performCreateView(Fragment.java:1460)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:911)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1088)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:682)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1444)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.FragmentManagerImpl.executePendingTransactions(FragmentManager.java:461)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:141)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.view.ViewPager.populate(ViewPager.java:1011)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.view.ViewPager.populate(ViewPager.java:880)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.support.v4.view.ViewPager.setAdapter(ViewPager.java:433)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at com.qz.XXX.XXXX.Init(.java:588)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at com.qz.Blaze..access$3(.java:546)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at com.qz.Blaze.$ServiceStartedReceiver.onReceive(.java:2416)
03-01 11:20:43.453: E/AndroidRuntime(31235):    at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:756)
03-01 11:20:43.453: E/AndroidRuntime(31235):    ... 9 more 
```

在`MyActivity.m_oPager.setCurrentItem(iCurrentView);`我的活动中与下面的适配器相关的行中：

```
public class FragmentPagerAdapter extends FragmentPagerAdapter
    {
        final int PAGE_COUNT_LOGGED_IN = 5;
        final int PAGE_COUNT_LOGGED_OUT = 2;
        TextView oTextView = null;
        LayoutInflater inflater = null;
        PagerTabStrip m_oPageTabStrip = null;
        String m_strTab = null;
        String[] m_strArray = null;     
        Context m_oContext = null;

        /** Constructor of the class */
        public FragmentPagerAdapter (Context context, FragmentManager oFragmentManager) 
        {
            super (oFragmentManager);
            m_oContext = context;
        }

        /** This method will be invoked when a page is requested to create */
        @Override
        public Fragment getItem(int arg0) 
        {       
            Fragment myFragment = new Fragment ();
            Bundle data = new Bundle();
            data.putInt("current_page", arg0+1);
            myFragment.setArguments(data);
            return myFragment;
        }

        /** Returns the number of pages */
        @Override
        public int getCount() 
        {       
            if (Utility.m_bIsLoggedIn == true)
            {
                return PAGE_COUNT_LOGGED_IN;
            }
            else
            {
                return PAGE_COUNT_LOGGED_OUT;
            }
        }

        @Override
        public CharSequence getPageTitle(int position) 
        {
            String strText = " ";

            switch(position)
            {
            case 0:
                strText = "";
                break;
            case 1:
                strText = "";
                break;
            case 2:
                strText = "";
                break;
            case 3:
                strText = "";
                break;
            case 4:
                strText = "";
                break;
            }

             Spannable s = Spannable.Factory.getInstance().newSpannable(strText);
             Typeface tt = Typeface.createFromAsset(m_oContext.getAssets(), "fonts/fontinsansbolditalic.ttf");
             s.setSpan (new CustomTypefaceSpan ("", tt), 0, strText.length(),Spanned.SPAN_EXCLUSIVE_INCLUSIVE);
            return s;
        }
    } 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-05-21T21:56:53.707

创建 FragmentPagerAdapter 时使用[getChildFragmentManager() 。](http://developer.android.com/reference/android/support/v4/app/Fragment.html#getChildFragmentManager%28%29)例如：

```
new FragmentPagerAdapter(getChildFragmentManager()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-18T11:51:59.370

使用最新版本的支持库，因为旧版本的 supportLibrary 不允许嵌套片段。

# asp.net - 创建新会话后检查 IsNewSession() 时会话重置

> ID：15151701
> 
> 赞同：2
> 
> 时间：2013-03-01T06:16:04.753
> 
> 标签：asp.net, iis-7

*   IIS7.5
*   视窗服务器 2008
*   ASP.NET4.0

但它在 IIS5.1 中运行良好

```
fileContent = @"<table><tr><td>Name</td><td>Age</td><td></td></tr></table>";

       // byte[] content = fileContent.ToByteArray();

        HttpContext currentRequest = System.Web.HttpContext.Current;

        //fileContent = currentRequest.Server.HtmlEncode(fileContent);  

        currentRequest.Response.Clear();
        currentRequest.Response.ClearContent();
        currentRequest.Response.ClearHeaders();
        //currentRequest.Response.AddHeader("Accept-Ranges", "bytes");
        currentRequest.Response.Buffer = true;

        //fileName = currentRequest.Server.UrlEncode( fileName); 

        if (toDownload)
        {
            currentRequest.Response.AddHeader("Content-Disposition", string.Format("attachment; filename=\"{0}\"", fileName));
        }
        else
        {
            currentRequest.Response.AddHeader("Content-Disposition", string.Format("filename=\"{0}\"", fileName));
        }
        currentRequest.Response.AddHeader("Content-Length", fileContent.Length.ToString());
        //currentRequest.Response.ContentType = GetContentType(StreamFileType.MSOffice2003ExcelDocument);
        currentRequest.Response.ContentType = "application/vnd.xls";
        currentRequest.Response.Write(fileContent);
        currentRequest.Response.Flush();
        currentRequest.Response.Close();

        HttpContext.Current.ApplicationInstance.CompleteRequest(); 
```

* * *

只要文件在新页面中打开，就会创建新的 SessioniD。

如果我检查它会重置的会话

```
if (this.Session.IsNewSession) 
```

# iphone - 如何在openglES中进行纹理映射？（将 2D 面映射到 3D 网格中）

> ID：15151706
> 
> 赞同：0
> 
> 时间：2013-03-01T06:16:35.720
> 
> 标签：iphone, ios, objective-c, opengl-es, opengl-es-2.0

我需要将 2D 人脸图像转换为 3D 图像。为此，我想到了将纹理映射与 openglES 一起使用。我尝试了很多谷歌搜索以找到一些我无法获得的样本。有人可以指导我这样做吗？

输入：2D 图像输出：3D 图像

平台：ios

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:39:06.770

如您所知，OpenGL 使用具有一些属性的 3D 或 2D 顶点，例如位置、法线值、颜色、纹理坐标。所以你应该先设置这些值，然后你就可以渲染了。在 ES 2.0 中，显然您必须将这些值提供给 Vertice Shader，然后您必须将两个值纹理坐标、法线值传输到 Fragment Shader，然后在 Fragment Shader 中，您可以使用采样器纹理控制这些值以渲染您的面部对象。

如果您在 IOS 中工作，这将非常有帮助。

解释 ：

[http://ofps.oreilly.com/titles/9780596804824/chtextures.html](http://ofps.oreilly.com/titles/9780596804824/chtextures.html)

源代码 ：

[http://www.developers-life.com/iphone-3d-samples.html](http://www.developers-life.com/iphone-3d-samples.html)

# dynamic - 从表中动态声明参数

> ID：15151714
> 
> 赞同：1
> 
> 时间：2013-03-01T06:17:07.977
> 
> 标签：dynamic, abap, sap-selection-screens

是否可以从表条目动态创建参数？

例如像这样：

```
SELECTION-SCREEN BEGIN OF BLOCK example WITH TITLE text-01
    LOOP AT example_internal_table INTO example_workarea
        IF example_workarea-field = criteria.
            PARAMETERS: (example_workareafield) AS CHECKBOX.
        ENDIF.
     ENDLOOP.
SELECTION-SCREEN END OF BLOCK example. 
```

上面的代码片段会抛出 example-workarea-field 不是常量的错误。这是否意味着不可能动态声明参数或者我只是做错了？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T07:13:59.997

正确的。`PARAMETERS`语句在编译时编译成选择屏幕，而不是在运行时。因此，您无法按照您提出的方式做您想做的事。

但是，可以有某种形式的动态屏幕。

看看这个问题的答案：[对于普通 ABAP 屏幕中的 I/O 字段，我可以让它们表现得像 SELECT-OPTIONS 吗？](https://stackoverflow.com/questions/13348319/for-the-i-o-fields-in-a-normal-abap-screen-can-i-get-them-to-behave-like-a-sele/13356600#13356600)

这为您提供了两个起点：您可以动态调用的子屏幕的使用，或`FREE_SELECTIONS_INIT`作为示例的使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T22:33:18.457

根据您对此的疯狂程度，您还可以进行调查： [http ://help.sap.com/abapdocu_702/en/abenabap_language_dynamic.htm](http://help.sap.com/abapdocu_702/en/abenabap_language_dynamic.htm)

您可以加载 DYNPRO 并动态更改屏幕，激活然后运行调用更改屏幕的报告。

这当然是与使用 PARAMETERS 不同的方法，并且应该只用于宠物项目，而不是真正的生产代码，因为这些语句是供内部使用的。我相信这是 SE16 在为表格生成选择屏幕时使用的方法。

# java - 在 Spring MVC 中通过 Ajax 调用处理 Blob 数据

> ID：15151715
> 
> 赞同：0
> 
> 时间：2013-03-01T06:17:15.300
> 
> 标签：java, javascript, ajax, jquery, spring-mvc

我需要通过 Spring MVC 中的 jquery Ajax 调用来处理 Blob 数据。

我正在开发银行应用程序，我有一个网页，我想在其中发送 ajax 请求以检索所有客户详细信息。但问题是，在我的 Pojo 中，我有 clientImage 的 blob 数据类型，我无法处理。

```
public class Client {

 @Id
 @GeneratedValue
 private Long clientId;
 private String clientTitle;
 private int clientAge;
 private int clientRetirementAge;
 private int clientLifeExpectancy;
 private String clientFirstName;
 private String clientMiddleName;
 private String clientLastName;
 private String clientNotes;
 private String clientGender;
 private String clientDOB;
 private String clientJoint;
 private String clientEmail;
 private String clientPhoneNo;
 private String riskTolerance;
 private String status; // --- Active or notActive
 private String password;
 private String partnerAvailibility; // -- Yes or No
 private String relationshipWithPartner;

 private Blob clientImage;
    @Column(name="filename")
    private String filename;  
    @Column(name="content_type")
    private String contentType;

  // =====Client Attributes Block End=====================//
//getter and setter
....
}//end

and see my ajax request....

$.ajax({
            type: "POST",
            url: "showClientDetails.html",
            data: "clientId=" + clientId,
            success: function(response){
             //console.log(response);
 var title=response.clientTitle,firstName=response.clientFirstName,lastName=response.clientLastName,DOB=response.clientDOB,phone=response.clientPhoneNo,email=response.clientEmail,partnerAvailibility=response.partnerAvailibility;

             $("#personal-info-title-label").html(title);
             $("#personal-info-firstName-label").html(firstName);
             $("#personal-info-lastName-label").html(lastName);

             $("#personal-info-dob-label").html(DOB);
             $("#personal-info-phone-label").html(mp);
             $("#personal-info-email-label").html(email);

            },
            error: function(e){
            alert('Error: ' + e.responseText);
            }
            }); 
```

终于看到我的 Spring Controller .....

```
@RequestMapping(value="/showClientDetails",method=RequestMethod.POST)
 public @ResponseBody Client showClientDetails(HttpServletRequest request,Client client) {
  //System.out.println("in show clients");
  Long clientId=Long.parseLong(request.getParameter("clientId"));
  client=userService.getClientDetails(clientId);
  return client;
 } 
```

我只需要通过 ajax 请求来处理这个问题。因此，如果您有任何解决方案，请帮助我，或者如果您知道，请为我提供任何链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T14:37:02.077

我曾经开发过一个将图像数据存储在表格中的应用程序，并以类似的方式使用 AJAX。我们的方法是不将 blob 发送到视图，而是创建一个控制器来查看图像，并且作为域对象的一部分，我们发送到视图生成指向我们的图像控制器的 URL。在视图端（如果重要的话，我们使用 JSP）我们简单地使用了一个图像标签并输入了生成的 URL。

在图像控制器上，我们有一个使用@ResponseBody 的方法，返回一个字节[]。我们从表中选择数据，在 headers 中设置 Content Type，并返回 byte[]。

自从我（几年前）编写该代码以来，我们还遇到过其他必须返回文件数据的实例，例如 Excel 电子表格。然而，最近，我采取了不使用@ResponseBody 的方法，而是创建一个自定义视图（扩展[AbstractView](http://static.springsource.org/spring/docs/3.0.6.RELEASE/api/org/springframework/web/servlet/view/AbstractView.html)）并将其作为[ModelAndView](http://static.springsource.org/spring/docs/3.0.6.RELEASE/api/org/springframework/web/servlet/ModelAndView.html)的一部分返回。我认为这比简单地告诉 Spring 将您的输出推送到 HTML 响应正文中要干净得多，这就是 @RequestBody 正在做的事情。

# dropbox-api - Dropbox：如何获取文件的 ACL？

> ID：15151716
> 
> 赞同：0
> 
> 时间：2013-03-01T06:17:20.243
> 
> 标签：dropbox-api

给定一个文件，我如何找到该文件对谁可见（与谁共享）？

这似乎不在元数据中，并且 /shares 路径会生成一个链接。

那么，我们如何判断谁有权访问呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T16:05:01.980

Dropbox API 目前不提供查找此类文件共享状态的方法。

# facebook - 使用spring security的Grails Facebook登录-如何知道登录的用户名

> ID：15151717
> 
> 赞同：2
> 
> 时间：2013-03-01T06:17:21.153
> 
> 标签：facebook, grails, spring-security

在 Grails 应用程序中，使用 spring security facebook 插件，当用户登录时，应用程序如何获取实际的 facebook 用户名，以便主页可以显示登录的用户名？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-01T06:49:25.853

该插件提供 Facebook API `access_token`，您必须向 Facebook 请求此类用户详细信息。

**例子：**

将依赖项添加到 Spring Social Facebook：

```
dependency {
  compile 'org.springframework.social:spring-social-core:1.0.1.RELEASE'
  compile 'org.springframework.social:spring-social-facebook:1.0.1.RELEASE'
} 
```

然后在创建用户时从 Facebook 加载它，方法是将以下内容添加到 FacebookAuthService 中：

```
void onCreate(FacebookUser user, FacebookAuthToken token) {
  Facebook facebook = new FacebookTemplate(token.accessToken.accessToken)
  FacebookProfile fbProfile = facebook.userOperations().userProfile

  //fill the name
  //fieldname ('fullname' at this example) is up to you
  user.fullname = fbProfile.name
} 
```

也可以看看

*   Spring Social 的文档 - [http://static.springsource.org/spring-social-facebook/docs/1.0.x/reference/html/apis.html#facebook-getProfile](http://static.springsource.org/spring-social-facebook/docs/1.0.x/reference/html/apis.html#facebook-getProfile)
*   关于 FacebookUserService - [http://splix.github.com/grails-spring-security-facebook/guide/5%20Customization.html#5.1%20Using%20FacebookAuthService](http://splix.github.com/grails-spring-security-facebook/guide/5%20Customization.html#5.1%20Using%20FacebookAuthService)

# iphone - 如何在 iphone 水平滚动的滚动视图中加载图像包？

> ID：15151721
> 
> 赞同：0
> 
> 时间：2013-03-01T06:17:27.127
> 
> 标签：iphone, ios, ipad, uiscrollview

我有一个 iPhone 应用程序，我需要在其中加载大量图像（即大约 50 个），它有一个小矩形（略高于缩略图），每行包含 3 个，一页有 4 列，我需要水平滚动加载接下来的 12 个图像，依此类推。我还需要将其下的页码显示为 1,2 等。![像附图一样](../Images/e1242009fac3f5b1f1240f56a187b194.png)

任何人都可以引导我朝着正确的方向在滚动视图中实现这一目标吗？我真的一团糟，如何将图像视图添加到这样的滚动视图中，每个图像视图也有自己的按钮。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T10:24:47.843

我解决这个问题的方法如下：（我不会提供很多细节，因为它们取决于您的特定需求和要求）。

.h 文件：

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController <UIScrollViewDelegate>

@property (unsafe_unretained, nonatomic) IBOutlet UIScrollView *scrollView;//assuming the scrollView is connected in a xib file

-(id)initWithImages:(NSArray*)images;//that could be whatever format you get your images(UIImage, urls to download, file names or custom views. Here we assume that the array contains instances of UIImage)

@end 
```

.m 文件：

```
#import "ViewController.h"

@interface ViewController ()

@property (nonatomic, strong) NSArray *images;
@property (nonatomic, assign) CGFloat pageWidth;
@property (nonatomic, assign) int currentPage;

@end

@implementation ViewController

-(id)initWithImages:(NSArray*)images{

    self = [super init];

    if(self){

        self.images = images;

    }
    return self;

}

-(void)viewDidLoad{
    [super viewDidLoad];

    [self.scrollView setDelegate:self];
    [self.scrollView setContentSize:CGSizeMake(self.scrollView.frame.size.width*self.imageURLsArray.count,
                                               self.scrollView.frame.size.height)];
    [self.scrollView setPagingEnabled:YES];
    [self.scrollView setShowsVerticalScrollIndicator:NO];

    self.pageWidth = self.scrollView.frame.size.width;

    for(int i = 0; i < self.images.count; i++){

        UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(self.scrollView.frame.size.width*i,
                                                                              self.scrollView.frame.origin.y,
                                                                              self.scrollView.frame.size.width,
                                                                              self.scrollView.frame.size.height)];
        imageView.image = [self.images objectAtIndex:i];
        [self.scrollView addSubview:imageView];

    }

}

-(void)scrollViewDidScroll:(UIScrollView *)scrollView{
    int page = floor(scrollView.contentOffset.x - self.pageWidth/2)/self.pageWidth + 1;
    if(self.currentPage != page){
        NSLog(@"Scrolled to new page: %d", page);
        self.currentPage = page;
//do additional things based on the fact that you have scrolled to a new page (like changing the page number)
    }
 }
@end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T12:42:56.057

使用 UItableview 创建带有两个图像视图的自定义单元格，并将该自定义单元格加载到索引路径的单元格，然后创建一个 nsarray 并将图像名称传递到该数组中，然后将该图像转换为数据格式，例如

nsdata *data = [NSdata dataWithcontents of url [array object at index:indexpath.row]]; cell.imageview.image = [uiimage imagewithdata:data]; 为此，您应该知道创建自定义单元格。

# ruby-on-rails - 作文，belongs_to

> ID：15151722
> 
> 赞同：0
> 
> 时间：2013-03-01T06:17:30.773
> 
> 标签：ruby-on-rails, relation

我有 1:n（人与城市）的关系

模特儿：

```
 belongs_to :city
 composed_of :city, :mapping => %w(city_name city) 
```

模范城市：

```
 has_many :people 
```

现在应该可以设置城市了： peson.city = "London" ？我是否理解它或目的是什么？

[http://api.rubyonrails.org/classes/ActiveRecord/Aggregations/ClassMethods.html](http://api.rubyonrails.org/classes/ActiveRecord/Aggregations/ClassMethods.html)

在示例中，他们没有使用 has_many 或 belongs_to。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:29:37.320

当你这样做时

```
person.city = "London" 
```

Rails 认为这`set city to the string 'London'`是不正确的。你想告诉 Rails 的是`set the city to the record in the database with a name of 'London'`. 你这样做（用最简单的术语）

```
london = City.find_by_name 'London'
person.city = london 
```

# javascript - 在链接点击上运行函数的最有效方式是什么

> ID：15151723
> 
> 赞同：0
> 
> 时间：2013-03-01T06:17:31.830
> 
> 标签：javascript, jquery, html, performance

我的网页中有很多链接。大约 25 个 id="reply_x" 的链接。大约 20 个 id="quote_x" 的链接和一些 id="like_x" 的链接。我使用 JQuery 为不同的链接组编写了不同的函数。当有人单击任何具有reply_x id 的链接时，一个函数将运行，而另一个函数将在单击的具有id 为quote_x 的任何链接上运行。现在我想让我的网页高效。那么运行这些功能的最有效方法是什么。

我使用了以下方法。

```
$(document).ready(function(){
    $('#reply_x').click(function() {
  // function statements
     });
}); 
```

这是一种有效的方法吗？如果不是哪种方式更有效地运行该功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:20:49.793

首先，ID 必须是唯一的，所以应该只有*一个* `reply_x`ID 属性元素，但我假设它`_x`实际上是一个数字。必须键入所有这些绑定会让您的手指变得困难，因此您可能应该给所有这些绑定一个类`reply`：

```
$(".reply").on('click', function () {}) 
```

这会将事件绑定到所有元素，因此它可能不是最有效的。如果它们都包装在同一个容器中，您可以使用：

```
$("#container").on('click', '.reply', function () {}) 
```

...只要`#container`接近`.reply`基于[此答案的元素，这似乎更有效](https://stackoverflow.com/questions/14618435/are-there-advantages-or-disadvantages-to-binding-on-a-parent-element-versus-the/14618891#14618891)

# asp.net - 为什么用户登录名和密码不会在 Visual Studio 中加载下一页？

> ID：15151725
> 
> 赞同：0
> 
> 时间：2013-03-01T06:17:45.560
> 
> 标签：asp.net, mysql, visual-studio-2008, gridview, passwords

在我制作的一个简单网站上，我的用户登录和密码屏幕出现问题。它应该会导致一个在网格视图中显示 SQL 源的新页面，但是当我按下已部署网站中的提交按钮时没有任何反应。下面是我的代码，以及我的 default.aspx 和我的 userAdmin.aspx 的源代码。代码隐藏有问题吗？如果可以，请告诉我。谢谢！

```
 Protected Sub butSubmit_Click(ByVal sender As Object, ByVal e As System.EventArgs) Handles butSubmit.Click

    Dim myReader As Data.SqlClient.SqlDataReader

    Dim mySqlConnection As Data.SqlClient.SqlConnection

    Dim mySqlCommand As Data.SqlClient.SqlCommand

    'Establish the SqlConnection by using the configuration manager to get the connection string in our web.config file.

    mySqlConnection = New Data.SqlClient.SqlConnection(ConfigurationManager.ConnectionStrings("ConnectionString").ToString())

    Dim sql As String = "SELECT password FROM MyUsers WHERE username = '" & Me.TextBox1.Text & "'"

    mySqlCommand = New Data.SqlClient.SqlCommand(sql, mySqlConnection)

    Try

        mySqlConnection.Open()

        myReader = mySqlCommand.ExecuteReader()

        If (myReader.HasRows) Then

            myReader.Read()

            Dim password As String = myReader("password")

            If (password = Me.TextBox2.Text) Then

                'Open page with users and roles

                Dim message As String = "Correct password"

                Dim style As MsgBoxStyle = MsgBoxStyle.OkOnly

                Dim title As String = "Authenticated"

                MsgBox(message, style, title)

            End If

        End If

    Catch ex As Exception

        Console.WriteLine(ex.ToString())

    Finally

        If Not (myReader Is Nothing) Then

            myReader.Close()

        End If

        If (mySqlConnection.State = Data.ConnectionState.Open) Then

            mySqlConnection.Close()

        End If

    End Try

End Sub 
```

结束类

用户管理源

```
 <%@ Page Language="VB" MasterPageFile="~/master.master" AutoEventWireup="false" title="UserAdmin" %>

 <asp:Content ID="Content1" ContentPlaceHolderID="header" Runat="Server">
 </asp:Content>
 <asp:Content ID="Content2" ContentPlaceHolderID="navigation" Runat="Server">
<a href="Default.aspx">Default.aspx</a>
<br />
<br />
<a href="userAdmin.aspx">userAdmin.aspx</a>
<br />
</asp:Content>
<asp:Content ID="Content3" ContentPlaceHolderID="main" Runat="Server">
<asp:SqlDataSource ID="SqlDataSource1" runat="server" 
    ConnectionString="<%$ ConnectionStrings:ConnectionString %>" 
    SelectCommand="SELECT * FROM [MyUsers]"></asp:SqlDataSource>
<asp:GridView ID="UserRolesGrid" runat="server" DataSourceID="SqlDataSource1" 
    Width="399px" AutoGenerateColumns="False" DataKeyNames="id">
    <Columns>
        <asp:BoundField DataField="id" HeaderText="id" InsertVisible="False" 
            ReadOnly="True" SortExpression="id" />
        <asp:BoundField DataField="user_logon_id" HeaderText="user_logon_id" 
            SortExpression="user_logon_id" />
        <asp:BoundField DataField="user_full_name" HeaderText="user_full_name" 
            SortExpression="user_full_name" />
        <asp:BoundField DataField="user_description" HeaderText="user_description" 
            SortExpression="user_description" />
        <asp:BoundField DataField="user_password" HeaderText="user_password" 
            SortExpression="user_password" />
    </Columns>
</asp:GridView>
 </asp:Content>
<asp:Content ID="Content4" ContentPlaceHolderID="footer" Runat="Server">
</asp:Content> 
```

default.aspx 源

```
 <%@ Page Language="VB" Debug="true" MasterPageFile="~/master.master" AutoEventWireup="false"    CodeFile="Default.aspx.vb" Inherits="_Default" title="Untitled Page" %>

 <asp:Content ID="Content1" ContentPlaceHolderID="header" Runat="Server">
<p style="text-align: center; color: white">
    SAM PEPPARD</p>
</asp:Content>
 <asp:Content ID="Content2" ContentPlaceHolderID="navigation" Runat="Server">
<a href="Default.aspx">Default.aspx</a>
<br />
<br />
<a href="userAdmin.aspx">userAdmin.aspx</a>
<br />
</asp:Content>
<asp:Content ID="Content3" ContentPlaceHolderID="main" Runat="Server">
&nbsp &nbsp User Name
<asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp; Password&nbsp<asp:TextBox ID="TextBox2" 
    runat="server" TextMode="Password"></asp:TextBox>
    &nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;
<asp:Button ID="butSubmit" runat="server" Text="Submit" />
</asp:Content>
<asp:Content ID="Content4" ContentPlaceHolderID="footer" Runat="Server">
</asp:Content> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:58:41.337

匹配密码后，您应该将浏览器重定向到新页面。

使用 Response.Redirect(newpage)

# shell - 删除一组文件的Shell脚本

> ID：15151731
> 
> 赞同：1
> 
> 时间：2013-03-01T06:18:06.853
> 
> 标签：shell, unix

我正在运行一个导致大量文件的模拟。这些文件的命名如下：`a-*000.dat, a-*100.dat.....a-*500.dat....a-*900.dat`，其中 * 是两位数。我想保留 a-*000 和 a-*500，并删除其他所有内容。我试过`rm a-*{100,200,300,400,600,700,800,900}`了，它奏效了。但我必须为每个 *. 你能建议一个shell脚本，这样我就可以避免`rm`多次运行。

PS：希望这个问题清晰、客观、具体。请考虑在删除/标记此问题之前提供具体反馈。

马杜卡尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:20:32.197

您想要 bash 的扩展通配符，详细信息如下：[http ://www.linuxjournal.com/content/bash-extended-globbing](http://www.linuxjournal.com/content/bash-extended-globbing)

关键是

```
shopt -s extglob 
```

在此之后，您可以使用正则表达式进行通配。在清除所有内容之前，请谨慎使用并使用 ls 进行验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:29:38.160

我认为您可以通过以下方式实现这一目标：

```
rm a-*[1-4,6-9]00.dat 
```

关于您的尝试：`rm a-*{100,200,300,400,600,700,800,900}.dat`，我不明白为什么您需要为前缀的每个值运行它。如果您按字面意思输入它应该可以正常工作 -`*`就地，它相当于我上面的建议（只是长一点）。

附带说明一下，如果您确实需要执行`rm`多次，可以通过`for`在脚本中使用循环来自动执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T07:00:55.467

```
find -regextype posix-basic -regex './a-[0-9]\{3\}00.dat' -not -regex './a-*[0,5]\{1\}00.dat' - exec rm -i {} \; 
```

在基本的正则表达式还不够的情况下，看起来很难看，但可以扩展。

# android - Android屏幕上的三个按钮宽度

> ID：15151733
> 
> 赞同：0
> 
> 时间：2013-03-01T06:18:12.647
> 
> 标签：android

我如何将三个按钮设置为彼此相邻以适应 android 中屏幕的屏幕尺寸。对于 50% 50% 的屏幕，这是使用的。但如果我想添加第三个按钮，我该如何实现。即 35% 35% 35% 和 5% 用于空间。

```
<LinearLayout
 xmlns:android="http://schemas.android.com/apk/res/android"
 android:layout_height="wrap_content"
 android:layout_width="fill_parent"
 android:orientation="horizontal"
 android:weightSum="1.0">
 <Button
  android:id="@+id/textbox3"
  android:layout_height="wrap_content"
  android:layout_weight=".5"
  android:layout_width="0dip"
  android:textSize="12sp" />
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:38:40.093

2点要记住这样做

1.  所有 3 个按钮在 layout_weight 和
2.  应该有相同的 layout_height 和 layout_width

如下图

```
<?xml version="1.0" encoding="utf-8"?>`enter code here`
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <Button
        android:layout_weight="1"
        android:id="@+id/button1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="Button" />

    <Button
        android:layout_weight="1"
        android:id="@+id/button2"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="Button" />

    <Button
        android:layout_weight="1"
        android:id="@+id/button3"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="Button" />

</LinearLayout> 
```

# quickbooks - 使用 QBFC 集成 Quick Books 项目数据

> ID：15151735
> 
> 赞同：0
> 
> 时间：2013-03-01T06:18:25.843
> 
> 标签：quickbooks, quickbooks-online, qbfc

我正在使用 QBFC 将 Quick Books 项目数据从 Quick Books 导入 CSV 文件。

我见过很少有字段具有相同的值（103）。

1.  父引用类型 = 103

2.  SalesTaxCodeRefType = 103

3.  费用帐户类型 = 103

4.  PrefVendorType = 103

5.  PurchaseTaxCodeType = 103

[在这里找到文件](https://skydrive.live.com/#cid=5E1D2EB753C00953&id=5E1D2EB753C00953!114)

让我知道为什么？我没有直接从 Quick book 应用程序中看到这个值。

我希望这些价值观来自背景。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T04:31:46.383

简短的回答是 103 指的是全名引用类型。是的，这些值来自 Quickbooks 和 QBFC 的“背景”，因此您可能不会在 Quickbooks UI 的任何地方看到它们。

您上面列出的所有字段都是 Quickbooks 对象的参考类型（即 Parent、SalesTaxCode、ExpenseAccount 等）。您可以通过两种方式引用对象：ListID 或 FullName。引用的类型指示对象是使用 ListID 引用还是 FullName 引用。

整数 103 似乎是 FullName 引用类型的内部标识符。请注意，在您的导出文件 ( [Item.csv](https://skydrive.live.com/#cid=5E1D2EB753C00953&id=5E1D2EB753C00953!114) ) 中，所有引用对象都使用 FullName 类型来引用对象（请参阅列 ParentRefFullName、SalesTaxCodeRefFullName、ExpenseAccountRefFullName 等）。另请注意，紧随其后的列是 Ref Type 列（即 ParentRefType、SalesTaxCodeRefType 等）。只要左侧的单元格（FullName 单元格）包含值，这些 Ref Type 列就会设置为 103。当没有 FullName 引用时，Type 列包含一个零（我假设这意味着 Ref Type Not Known 或类似的东西）。

QBFC[快速参考](https://member.developer.intuit.com/qbSDK-current/Common/newOSR/qbsdk/staticHtml/QBFC-QuickRef.html)声明如下（根据[IQBBaseRef](https://member.developer.intuit.com/qbSDK-current/Common/newOSR/qbsdk/staticHtml/QBFC-QuickRef.html#IQBBaseRef)定义）：

> IQBBaseRef 用于所有引用对象的 qbXML“对象引用”。例如，AccountRef 指的是会计科目表中的一个科目。如果请求同时指定 ListID 和 FullName，QuickBooks 将仅使用 ListID。

最后一句话很重要。ListID 引用优先于 FullName 引用。尽管您的导出文件中似乎没有使用 ListID 引用。

# entity-framework - EF 简单关系和外键

> ID：15151736
> 
> 赞同：0
> 
> 时间：2013-03-01T06:18:27.683
> 
> 标签：entity-framework

我有一个代码头等舱

```
public class test
{        
   public int ID { get; set; }
   public int ManagerID { get; set; }

   [ForeignKey("ManagerID")]
   public Person Manager { get; set; }
} 
```

在数据库表中创建正确，但是然后我尝试访问

```
pTest.Manager it returns null 
```

在数据库表测试字段中，ManagerID 具有正确的人员 ID 值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:44:28.827

使`Manager`属性虚拟化，以便 EF 可以延迟加载它或使用急切加载（使用`Include`方法）。

```
public class test
{        
   public int ID { get; set; }
   public int ManagerID { get; set; }

   [ForeignKey("ManagerID")]
   public virtual Person Manager { get; set; }
} 
```

# ios - 使用 Core Text 在图像上布局文本

> ID：15151738
> 
> 赞同：1
> 
> 时间：2013-03-01T06:18:36.583
> 
> 标签：ios, core-text

伙计们。我已经用 Core Text 做了一些富文本编辑器工作。我想保持固定的行高，它真的可以用下面的代码来完成：

```
NSMutableAttributedString *_attributedText = [[NSMutableAttributedString alloc]initWithAttributedString:_attributedString] ;

CGFloat lineSpace=20;

CTParagraphStyleSetting lineSpaceStyle;

lineSpaceStyle.spec=kCTParagraphStyleSpecifierMaximumLineHeight;

lineSpaceStyle.valueSize=sizeof(lineSpace);

lineSpaceStyle.value=&lineSpace;

//CTLineBreakMode lineBreakMode = kCTLineBreakByCharWrapping;

CTParagraphStyleSetting settings[]={

    lineSpaceStyle,

   // {.spec = kCTParagraphStyleSpecifierLineBreakMode, .valueSize = sizeof(CTLineBreakMode), .value = (const void*)&lineBreakMode},

};

CTParagraphStyleRef paragraphStyle = CTParagraphStyleCreate(settings, sizeof(settings));

[_attributedText addAttribute:(id)kCTParagraphStyleAttributeName value:(id)paragraphStyle range:NSMakeRange(0, _attributedText.mutableString.length)];
_attributedString = [_attributedText copy];
[_attributedText release];
_attributedText = nil;
CFRelease(paragraphStyle); 
```

然后我想在其中插入一个图像。我想用以下代码在图像上输入一些文本：

```
CTRunDelegateCallbacks callbacks = {
                                       .version = kCTRunDelegateVersion1,
                                       .dealloc = AttachmentRunDelegateDealloc,
                                       .getAscent = AttachmentRunDelegateGetAscent,
                                       .getDescent = AttachmentRunDelegateGetDescent,
                                       .getWidth = AttachmentRunDelegateGetWidth
                                   };

 CTRunDelegateRef Rundelegate = CTRunDelegateCreate(&callbacks, [image retain]); //3

                                   NSMutableDictionary *attrDictionaryDelegate = [NSMutableDictionary dictionaryWithDictionary:self.defaultAttributes];
                                   [attrDictionaryDelegate setObject:image
                                                              forKey:EGOTextAttachmentAttributeName];
                                   [attrDictionaryDelegate setObject:(id)Rundelegate
                                                              forKey:(NSString*)kCTRunDelegateAttributeName];
                                   [attrDictionaryDelegate setObject:fulltext
                                                              forKey:EGOTextAttachmentOriginStringKey];
                                   NSAttributedString *newString = [[NSAttributedString alloc] initWithString:EGOTextAttachmentPlaceholderString
                                                                                                   attributes:attrDictionaryDelegate];
                                   [attrString replaceCharactersInRange:[result resultByAdjustingRangesWithOffset:attrString.length-astring.length].range
                                                   withAttributedString:newString]; 
```

换句话说，有没有一些方法可以让 Core Text 的图像上的文本布局？？？？？？任何人？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2021-03-18T01:32:23.767

很容易

*   使用 CoreText 保持固定的行高，

*   让图像上的文本布局`image.draw(in: frame)`，

可能是用`CoreText`.

***这是一个示例，在该行的第一个单词下方放置一个背景图像***

```
 // here is set up
       guard let ctx = UIGraphicsGetCurrentContext(), let f = frameRef else{
           return
       }

        let xHigh = bounds.size.height
        ctx.textMatrix = CGAffineTransform.identity
        ctx.translateBy(x: 0, y: xHigh)
        ctx.scaleBy(x: 1.0, y: -1.0)
        guard let lines = CTFrameGetLines(f) as? [CTLine] else{
           return
        }
        // here is an image
        let bgGrip = UIImage(named: "grip")
        if let pieces = CTLineGetGlyphRuns(line) as? [CTRun]{
                    let pieceCnt = pieces.count
                    for i in 0..<pieceCnt{
                        var p = lineOrigin
                        if i == 0{
                            var frame = imageFrame
                            frame.origin.y = lineOrigin.y + lineAscent - imageHeight + TextContentConst.offsetP.y
                            bgGrip?.draw(in: frame)
                            p.x += offsetX
                        }
                        ctx.textPosition = p
                        CTRunDraw(pieces[i], ctx, CFRange(location: 0, length: 0))
                    }
                } 
```

# php - cURL 帖子不工作 PHP

> ID：15151739
> 
> 赞同：6
> 
> 时间：2013-03-01T06:18:41.323
> 
> 标签：php, post, curl

我在为特定页面使用 cURL 时遇到问题。

实时代码工作：[http ://svgen.com/jupiter.php](http://svgen.com/jupiter.php)

这是我的代码：

```
 $url = 'https://uspdigital.usp.br/jupiterweb/autenticar';

    $data = array('codpes' => 'someLogin', 'senusu' => 'somePass', 'Submit' => '1');
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_COOKIEJAR, "FileHere");
    curl_setopt($ch, CURLOPT_COOKIEFILE, "FileHere");
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
    curl_setopt($ch, CURLOPT_PROTOCOLS, CURLPROTO_HTTP);
    curl_exec($ch);
    curl_close($ch); 
```

虽然我使用了相同的 url 和发布数据，但 file_get_contents 工作：

```
 $options = array('http' => array('method'  => 'POST','content' => http_build_query($data)));
    $context  = stream_context_create($options);
    $result = file_get_contents($url, false, $context);

    var_dump($result); 
```

有人可以帮助我吗？谢谢。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-01T06:21:41.697

很可能是 SSL 验证问题。

添加

```
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); 
```

此外，如果您使用`CURLOPT_PROTOCOLS`选项，它应该是**HTTPS**，因为您发布到一个安全的 url

```
curl_setopt($ch, CURLOPT_PROTOCOLS, CURLPROTO_HTTPS);    // you currently have http 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-01T06:24:48.717

使您的帖子数据为：

```
$data = array('codpes' => 'someLogin', 'senusu' => 'somePass', 'Submit' => '1');
$postData = "";
foreach( $data as $key => $val ) {
   $postData .=$key."=".$val."&";
}
$postData = rtrim($postData, "&"); 
```

并改变：

```
curl_setopt($ch, CURLOPT_POSTFIELDS, $data); 
```

到

```
curl_setopt($ch, CURLOPT_POSTFIELDS, $postData); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-08-09T09:34:50.383

```
$data = array('codpes' => 'someLogin', 'senusu' => 'somePass', 'Submit' => '1'); 
```

本来应该

```
$data = http_build_query(array('codpes' => 'someLogin', 'senusu' => 'somePass', 'Submit' => '1')); 
```

它还会自动对您的查询字符串进行 url 编码，并且比手动方法更安全。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-01-11T07:03:52.473

试试这些：

```
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, true);
curl_setopt($ch, CURLOPT_CAINFO, '/etc/pki/tls/cert.pem'); // path is valid for RHEL/CentOS 
```

这可以确保您“卷曲”的资源具有有效的 SSL 证书。不建议将“CURLOPT_SSL_VERIFYPEER”设置为 false (0)。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-01T06:24:13.393

您处于安全连接状态，为什么要使用：

```
curl_setopt($ch, CURLOPT_PROTOCOLS, CURLPROTO_HTTP); 
```

改用：

```
curl_setopt($ch, CURLOPT_PROTOCOLS, CURLPROTO_HTTPS); 
```

# ruby - 无法运行 vmc do 到 gem 版本依赖混淆

> ID：15151740
> 
> 赞同：1
> 
> 时间：2013-03-01T06:18:44.843
> 
> 标签：ruby, macos, gem, installation, vmc

我只需要知道要运行哪些命令来安装/卸载正确的 gem，这样 vmc 才能工作。我一直在尝试通过安装 cfoundry 来满足 gem 的依赖要求，当我运行 vmc 时出现以下错误：

```
Howards-iMac:~ Howard$ vmc
/Users/Howard/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/site_ruby/2.0.0/rubygems/specification.rb:1990:in `raise_if_conflicts': Unable to activate tunnel-vmc-plugin-0.2.0, because cfoundry-0.4.21 conflicts with cfoundry (~> 0.5.0) (Gem::LoadError)
    from /Users/Howard/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/site_ruby/2.0.0/rubygems/specification.rb:1163:in `activate'
    from /Users/Howard/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/site_ruby/2.0.0/rubygems.rb:181:in `rescue in try_activate'
    from /Users/Howard/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/site_ruby/2.0.0/rubygems.rb:178:in `try_activate'
    from /Users/Howard/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:109:in `rescue in require'
    from /Users/Howard/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:35:in `require'
    from /Users/Howard/.rvm/gems/ruby-2.0.0-p0/gems/vmc-0.4.7/lib/vmc/plugin.rb:43:in `block in load_all'
    from /Users/Howard/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/2.0.0/set.rb:232:in `each_key'
    from /Users/Howard/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/2.0.0/set.rb:232:in `each'
    from /Users/Howard/.rvm/gems/ruby-2.0.0-p0/gems/vmc-0.4.7/lib/vmc/plugin.rb:42:in `load_all'
    from /Users/Howard/.rvm/gems/ruby-2.0.0-p0/gems/vmc-0.4.7/bin/vmc:9:in `<top (required)>'
    from /Users/Howard/.rvm/gems/ruby-2.0.0-p0/bin/vmc:23:in `load'
    from /Users/Howard/.rvm/gems/ruby-2.0.0-p0/bin/vmc:23:in `<main>'
Howards-iMac:~ Howard$ 
```

我有正在运行的宝石列表：

```
actionmailer (3.2.12, 3.2.11)
actionpack (3.2.12, 3.2.11)
activemodel (3.2.12, 3.2.11)
activerecord (3.2.12, 3.2.11)
activeresource (3.2.12, 3.2.11)
activesupport (3.2.12, 3.2.11)
addressable (2.3.3, 2.3.2, 2.2.8)
arel (3.0.2)
async_sinatra (0.5.0)
bcrypt-ruby (3.0.1)
better_errors (0.7.0, 0.3.2)
bigdecimal (1.2.0)
binding_of_caller (0.7.1)
bootstrap-sass (2.2.2.0)
builder (3.2.0, 3.0.4)
bundler (1.3.0)
caldecott-client (0.0.2)
cancan (1.6.8)
capybara (2.0.2)
cf-uaa-lib (1.3.7)
cfoundry (0.4.21)
childprocess (0.3.7)
clouseau (0.0.2)
coderay (1.0.9, 1.0.8)
coffee-rails (3.2.2)
coffee-script (2.2.0)
coffee-script-source (1.4.0)
cucumber (1.2.1)
cucumber-rails (1.3.0)
daemons (1.1.9)
database_cleaner (0.9.1)
debug_inspector (0.0.2)
devise (2.2.3)
diff-lcs (1.1.3)
em-http-request (0.3.0)
em-websocket (0.3.8)
email_spec (1.4.0)
erubis (2.7.0)
escape_utils (0.3.2)
eventmachine (1.0.0)
execjs (1.4.0)
factory_girl (4.2.0)
factory_girl_rails (4.2.0)
ffi (1.3.1)
figaro (0.5.3)
gherkin (2.11.6)
google_visualr (2.1.6)
hike (1.2.1)
hominid (3.0.5)
hub (1.10.4)
i18n (0.6.4, 0.6.1)
interact (0.5.2)
io-console (0.4.2)
journey (1.0.4)
jquery-datatables-rails (1.11.2)
jquery-rails (2.2.0)
json (1.7.7, 1.7.6)
json_pure (1.6.8)
launchy (2.1.2)
mail (2.5.3, 2.4.4)
manifests-vmc-plugin (0.4.19)
mime-types (1.21, 1.19)
minitest (4.6.2, 4.3.2)
mothership (0.5.1, 0.3.5)
multi_json (1.6.1, 1.5.0, 1.4.0)
multipart-post (1.2.0)
mysql2 (0.3.11)
nokogiri (1.5.6)
orm_adapter (0.4.0)
polyglot (0.3.3)
psych (2.0.0)
quiet_assets (1.0.1)
rack (1.5.2, 1.4.5, 1.4.4)
rack-cache (1.2)
rack-protection (1.4.0)
rack-ssl (1.3.3)
rack-test (0.6.2)
rails (3.2.12, 3.2.11)
railties (3.2.12, 3.2.11)
rake (10.0.3, 0.9.6)
rdoc (4.0.0, 3.12.2, 3.12)
rest-client (1.6.7)
rolify (3.2.0)
rspec-core (2.12.2)
rspec-expectations (2.12.1)
rspec-mocks (2.12.2)
rspec-rails (2.12.2)
rubyzip (0.9.9)
sass (3.2.5)
sass-rails (3.2.6)
selenium-webdriver (2.29.0)
simple_form (2.0.4)
sinatra (1.3.5)
sprockets (2.9.0, 2.2.2)
test-unit (2.5.4, 2.0.0.0)
thin (1.5.0)
thor (0.17.0)
tilt (1.3.4, 1.3.3)
treetop (1.4.12)
tunnel-dummy-vmc-plugin (0.0.2)
tunnel-vmc-plugin (0.2.0)
tzinfo (0.3.35)
uglifier (1.3.0)
uuidtools (2.1.3)
vmc (0.4.7)
warden (1.2.1)
websocket (1.0.7)
xpath (1.0.0)
yaml_db (0.2.3) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T17:01:52.963

要卸载特定版本：

```
gem uninstall cfoundry --version '> 0.4.21' 
```

要安装特定版本：

```
gem install cfoundry --version '> 0.5' 
```

# android - 在 Play 商店中发布后更改支持/不支持的设备列表

> ID：15151745
> 
> 赞同：0
> 
> 时间：2013-03-01T06:19:20.043
> 
> 标签：android, publishing

即使在应用程序发布后，是否可以使用不受支持的设备更改列表？我可以先排除特定设备，然后再将其包含，还是从支持列表中删除后仍将其排除在外？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T11:38:40.283

您将完全控制授权可能会或可能不会安装您的应用程序的设备。可以随时为任何设备更改此选项。

发布应用程序后唯一不能更改的是它的定价。将应用设置为免费后，它将始终保持免费。您不能通过定价来覆盖它。除此之外，一切都是可编辑的。

# jquery - 简单的数据绑定 jquery mobile listview

> ID：15151747
> 
> 赞同：0
> 
> 时间：2013-03-01T06:19:26.980
> 
> 标签：jquery, asp.net, ajax, jquery-mobile, mobile

我是 Jquery 移动版的新手。我正在尝试将数据绑定到列表视图。下面是我的代码。当我运行页面时，它没有显示列表视图。请帮忙。

我的服务方式

```
[WebMethod]
    public static string[] GetNames() {
        string[] names = {"chamara","janaka","asanka" };
        return names;
    } 
```

我的 HTML 代码：

```
<form id="form1" runat="server">
  <div data-role="page" id="index">
        <div data-role="header">
            <h1>
               demo</h1>
        </div>
        <div data-role="content">
            <ul data-role="listview" data-inset="true" id="cars-data">
            </ul>
        </div>
    </div>
    <div data-role="page" id="cars">
        <div data-role="header">
            <a data-role="button" data-transition="none" data-theme="a" href="#index">Back</a>
            <h1>
            </h1>
        </div>
        <div data-role="content">
            <ul data-role="listview" data-inset="true" id="car-data">
            </ul>
            <img src="" width="100%" style="height: auto;" id="car-img">
        </div>
    </div>
    <script type="text/javascript" charset="utf-8">

        $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            url: "PINCWebService.asmx/GetNames",
            endlessScroll: true,
            dataType: "json",
            success: function (data) {
                $("#car-data").html(data);

            },
            failure: function (msg) {
                alert(msg);
            }
        });
    </script>

    </form> 
```

![在此处输入图像描述](../Images/a4a7175abdd9a0567a2feb31c9fc46de.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T09:27:55.173

我已经为你写了一些东西。请找出每件事是如何完成的。

**服务**

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Services;
using System.Web.Script.Serialization;

namespace SimpleWebService
{

    [WebService(Namespace = "http://tempuri.org/")]
    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
    [System.ComponentModel.ToolboxItem(false)]
    [System.Web.Script.Services.ScriptService]
    public class Service1 : System.Web.Services.WebService
    {

        [WebMethod]
        public string GetLankanList()
        {
            JavaScriptSerializer serializer = new JavaScriptSerializer();
            List<Lankans> lankanList = new List<Lankans>();
            string[] names = { "chamara", "janaka", "asanka" };

            for (int i = 0; i < names.Length; i++)
            {
                Lankans srilankans = new Lankans();
                srilankans.Name = names[i];

                lankanList.Add(srilankans);
            }

            string jsonString = serializer.Serialize(lankanList);
            return jsonString;
        }

        public class Lankans
        {
            public string Name { get; set; }
        }
    }
} 
```

**HTML**

```
<!DOCTYPE html> 
<html> 
    <head> 
    <title>Page Title</title> 
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a4.1/jquery.mobile-1.0a4.1.min.css" />
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.5.2.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/mobile/1.0a4.1/jquery.mobile-1.0a4.1.min.js"></script>
</head> 
<body> 

<div data-role="page" id="lankalistpage">

    <div data-role="header">
        <h1>Page Title</h1>
    </div><!-- /header -->

    <div data-role="content">   
        <div id="LankanLists"></div>        
    </div><!-- /content -->

    <div data-role="footer">
        <h4>Page Footer</h4>
    </div><!-- /footer -->
</div><!-- /page -->
<script src="lankanscript.js"></script>
</body>
</html> 
```

**JavaScript**

```
$('#lankalistpage').live('pageshow',function(event){
    var serviceURL = 'service1.asmx/GetLankanList';

    $.ajax({            
            type: "POST",
            url: serviceURL,
            data: param="",
            contentType:"application/json; charset=utf-8",
            dataType: "json",
            success: successFunc,
            error: errorFunc
    });

    function successFunc(data, status){
        // parse it as object
        var lankanListArray = JSON.parse(data.d);

        // creating html string
        var listString = '<ul data-role="listview" id="customerList">';

        // running a loop
        $.each(lankanListArray, function(index,value){
         listString += '<li><a href="#" >'+this.Name+'</a></li>';
        });
        listString +='</ul>';

        //appending to the div
        $('#LankanLists').html(listString);

        // refreshing the list to apply styles
        $('#LankanLists ul').listview();
    }

    function errorFunc(){
        alert('error');
    }
}); 
```

最终输出 ![在此处输入图像描述](../Images/6ec7ff6a203b80c47d20f0f66adf0e36.png)

你可以[在这里下载源代码](http://rapidshare.com/files/1225236319/SimpleWebService.zip)

# c# - 在 datagridview 中显示选定的数据

> ID：15151749
> 
> 赞同：0
> 
> 时间：2013-03-01T06:19:31.023
> 
> 标签：c#, datagridview

我这里有显示访问数据库中所有数据的代码。是否可以仅显示我的数据库中的特定或选定数据？

这是我的代码：

```
string connStr = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=\\SISC-STRONGHOLD\MIS!\wilbert.beltran\SEEDBucksDbase.accdb";
string query = "SELECT * From TableAcct";
using (OleDbConnection conn = new OleDbConnection(connStr))
{
    using (OleDbDataAdapter adapter = new OleDbDataAdapter(query, conn))
    {
        DataSet ds = new DataSet();
        adapter.Fill(ds);
        dataGridView1.DataSource = ds.Tables[0];
        dataGridView1.Columns["UserPassword"].Visible = false;

    }
    conn.Close();
} 
```

谢谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:21:57.320

您只需要在查询中写下`where`条件即可为您工作，

以下是它的例子

```
string query = "SELECT col1,col2 From TableAcct where col1=value"; 
```

这将获取满足您条件的数据并与网格控件绑定。

而不是`*`在选择列表中给出要显示的列的名称。

用于获取文本框等值表单控件

```
string query = "SELECT * FROM Employee WHERE LastName='"+ textBox1.Text +"'"; 
```

**注意**- 使用 sqlparameter 来避免 SQLInjection ，上面只是一个例子。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:24:29.020

要查询姓氏（假设表中的列名为 LastName），请尝试以下操作：

```
string query = "SELECT * FROM Employee WHERE LastName='"+ textBox1.Text +"'"; 
```

当然，您必须小心 SQL 注入攻击。我不熟悉在 Access 中使用参数化查询。

这是一个公开的表格，还是只为您（或受信任的用户）提供的内部表格？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:36:50.950

string query = "SELECT (SelectedColumnNames) From TableAcct Where LastName=(LastName)";

代替在查询中使用 * 进行搜索，输入所需的列，例如：- string query = "SELECT phno,address,FirstName From TableAcct where LastName ='"+txt1.text +"'";

# iphone - 在两个对象之间画线

> ID：15151750
> 
> 赞同：-1
> 
> 时间：2013-03-01T06:19:37.060
> 
> 标签：iphone, ios, objective-c

我正在开发应用程序以使用我已经完成问答的 Line 匹配单词，但我想知道如何使用 Line 将特定问题与正确答案匹配。我正在使用数据库来显示问题答案

![在此处输入图像描述](../Images/c116902fb0feb75da61bc03c4a2898f8.png)

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:29:41.463

您可以从此[链接获取源代码](https://github.com/zelox991/DrawingApp)

并更改线的属性，如线宽更改、颜色等，请转到该源代码中的 EC189DrawingViewController 并在以下部分进行编辑

```
- (void)drawShapes {
//NSLog(@"In drawShapes!");

UIGraphicsBeginImageContext(_drawingPad.frame.size);
CGContextRef context = UIGraphicsGetCurrentContext();

for(myShape *i in _collection) {
    [self drawShapesSubroutine:i contextRef:context];
    if(i.selected == true) {
        CGContextSetLineWidth(context, 1.0f);
        CGContextSetStrokeColorWithColor(context, [[UIColor darkGrayColor] CGColor]);
        float num[] = {6.0, 6.0};
        CGContextSetLineDash(context, 0.0, num, 2);

        CGRect rectangle;
        [self drawShapeSelector:i selectorRect: &rectangle];
        CGContextAddRect(context, rectangle);        
        CGContextStrokePath(context);

        //tapped = true;
    }
}

if(!skipDrawingCurrentShape && (selectedIndex == -1)) {
    [self drawShapesSubroutine:_currentShape contextRef:context];
}
_drawingPad.image = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
} 
```

# javascript - 编辑 Jquery Append 函数添加的 div 代码

> ID：15151758
> 
> 赞同：0
> 
> 时间：2013-03-01T06:20:31.567
> 
> 标签：javascript, jquery, html

我已成功地将一个 html 文件附加到我的网站，其中仅包含菜单和标题图像。我希望我网站上的每个网页都具有相同的菜单、标题和结构。一切正常，但我不知道如何编辑我使用附加函数（jquery）添加的 div。

例如：假设我附加了一个名为“include.html”的文件，该文件包含一个名为“网站”的 div。有什么方法可以在附加后将代码/内容添加到该 DIV 中吗？

我需要访问 APPEND 函数附加的 DIVS，以便为每个页面添加唯一的文本/信息。

这是一些代码：

示例页面：

```
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="cstyles.css">
<script type='text/javascript' src='jquery-1.9.1.js'></script>
<script type='text/javascript' src='menu2.js'></script>
<script type='text/javascript' src='menu_load.js'></script>
</head>
<body>
<script>loadContent(); 
    $(document).on('mouseenter', "#menulist", function() {
          mainmenu();
});
</script>
</body>
</html> 
```

这是 menu2.js 代码：

```
function mainmenu() {
     $(" #menulist li").hover(function() {
         $(this).find('ul:first').css({
              visibility: "visible",
              display: "none"}).show(300);
         },function() {
              $(this).find('ul:first').css({visibility: "hidden"});
     });
}

$(document).ready(function() {
     mainmenu();
}); 
```

这是 menu_load.js 代码：

```
function loadContent() {
     $("body").append($("<div id='index'>").load("include.html"));
} 
```

我试图这样做的原因是我想在包含网站的主 DIV 上添加唯一信息。如果有更好的方法（没有 JQUERY 附加）我很想知道..

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:25:28.927

是的。找到 id （或其他查找该 div 的 jquery 方法），然后在负载上调用一个函数：

```
function loadContent() {
  $("body").append($("<div id='index'></div>").load("include.html", {}, function() {
    $("#div_id").html(new_content);
  });
} 
```

如果您有任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:26:11.033

您可以将回调函数传递给`load(...)`jQuery 中的调用。所以，你可以这样做：

```
$("body").append($("<div id='index'>").load("include.html", function () {
    $(this).append("<div>your html content</div>");
})); 
```

这会将文本插入`your html content`到 div 的末尾。显然，如果您希望它位于其他地方，则可以使用 append 以外的其他东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:26:13.383

使用[`html()`](http://api.jquery.com/html/)or ..在 include.html 附加到 load 回调函数之后，用 id ..[`text()`](http://api.jquery.com/text/)将内容附加到内部`div``website`

> 回调函数：如果提供了“完成”回调，则在后处理和 HTML 插入完成后执行。回调会为 jQuery 集合中的每个元素触发一次，并依次设置为每个 DOM 元素。

试试这个

```
function loadContent()
{
  $("body").append($("<div id='index'>").load("include.html", function() {
       $("#website").text("HELLO"); // OR $("website").html("HELLO");
  });
} 
```

# android - 如何处理不同的屏幕尺寸以便文本视图缩放

> ID：15151761
> 
> 赞同：1
> 
> 时间：2013-03-01T06:20:44.253
> 
> 标签：android, android-layout, android-screen-support

我必须在视图上均匀分布文本。一直无法想出满足所有屏幕尺寸甚至常见屏幕尺寸的方法。我想要实现的布局如下所示。 ![分布式文本](../Images/5ec2b9952ea1077d26951b22fa5d6330.png)

红色框告诉我正在尝试处理的文本视图。

我尝试了以下方法：

1) 尝试使用带有和不带有九个补丁的图像，它不能正确缩放。2) 尝试使用不同大小的存储桶，例如 sw320 sw480 sw600 和 sw720。虽然它确实为我能够测试的设备解决了这个问题，但它并不可靠。我在这些存储桶中放置了不同的文本大小。

我讨厌在表格、网格或线性布局中使用 24 个 texview。

我还有什么其他选择？解决方案 2 使用起来非常令人沮丧，从尺寸导航到布局再返回大约 20 次。应该有更简单的方法来做到这一点，如果没有，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T08:00:56.990

使用自定义视图并覆盖 onDraw 来绘制数字。包含 View 的布局可以使用尺寸（来自 res/values/）指定其大小，并且 View 将根据这些尺寸自动计算出字体大小和数字之间的间距。

例如

自定义视图：

```
public class ColumnNumbersView extends View
{
    private final static int NUMBER_OF_COLUMNS = 25;
    private float textSize;
    private final Paint textPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
    ... 
```

获取尺寸：

```
 @Override 
    protected void onLayout(...
    {
        super.onLayout(...

        // work out our text size from getHeight()
        textSize = getHeight()/2; // or something like that

        // work out the spacing between the numbers along the x axis
        textPosXInc = (getWidth() / NUMBER_OF_COLUMNS) / 2; // or something like that
    } 
```

做图：

```
 @Override
    protected void onDraw(final Canvas canvas)
    {
        super.onDraw(canvas);

        int x = 0;
        for(int i=0; i < NUMBER_OF_COLUMNS; i++)
        {
           final String number = String.valueOf(i);
           final int halfWidth = textPaint.measureText(number) / 2;

           canvas.drawText(number, x - halfWidth, 0, textPaint);

           x += textPosXInc; 
        }
    } 
```

那应该会接近一些东西，但是第一个和最后一个数字不会正确绘制，我会留给你解决。

**编辑**

请记住，您不能将 wrap_content 用于此视图的尺寸，因为它没有通过覆盖 onMeasure() 来指定要包装的尺寸。所以它需要设置特定的尺寸，或者 match_parent。

# python - 嵌套列表中的子列表中的 Python 计数

> ID：15151762
> 
> 赞同：1
> 
> 时间：2013-03-01T06:20:44.013
> 
> 标签：python

```
x = [['a', 'b', 'c'], ['a', 'c', 'd'], ['e', 'f', 'f']] 
```

假设我们有一个带有随机 str 字母的列表。我如何创建一个函数，以便它告诉我字母“a”出现了多少次，在这种情况下为 2。或任何其他字母，如“b”出现一次，“f”出现两次。等谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T06:28:45.537

您可以展平列表并使用`collections.Counter`：

```
>>> import collections
>>> x = [['a', 'b', 'c'], ['a', 'c', 'd'], ['e', 'f', 'f']]
>>> d = collections.Counter(e for sublist in x for e in sublist)
>>> d
Counter({'a': 2, 'c': 2, 'f': 2, 'b': 1, 'e': 1, 'd': 1})
>>> d['a']
2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:28:29.343

```
import itertools, collections
result = collections.defaultdict(int)
for i in itertools.chain(*x):
    result[i] += 1 
```

这将创建`result`一个字典，其中字符作为键，它们的计数作为值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:54:15.767

仅供参考，您可以`sum()`用来展平单个嵌套列表。

```
>>> from collections import Counter
>>>
>>> x = [['a', 'b', 'c'], ['a', 'c', 'd'], ['e', 'f', 'f']]
>>> c = Counter(sum(x, []))
>>> c
Counter({'a': 2, 'c': 2, 'f': 2, 'b': 1, 'e': 1, 'd': 1}) 
```

但是，正如 Blender 和 John Clements 所说的那样，`itertools.chain.from_iterable()`可能更清楚。

```
>>> from itertools import chain
>>> c = Counter(chain.from_iterable(x)))
>>> c
Counter({'a': 2, 'c': 2, 'f': 2, 'b': 1, 'e': 1, 'd': 1}) 
```

# c++11 - 无法让移动构造函数运行

> ID：15151765
> 
> 赞同：2
> 
> 时间：2013-03-01T06:20:58.403
> 
> 标签：c++11, move-semantics, curly-braces, move-constructor, uniform-initialization

**C++11**

我在使用移动构造函数时遇到问题。我有一个简单的容器类，叫做`Number`，它唯一的数据成员是一个整数。我有以下代码：

```
//Number.h
#ifndef NUMBER_H
#define NUMBER_H
#include <iostream>

class Number
{
public:
    Number();
    Number(int ipar);
    Number(const Number& src);
    Number(Number&& src);
private:
    int num;
};

#endif 
```

**和**

```
//Number.cpp
#include "Number.h"

Number::Number()
{
    std::cout << "default ctor" << std::endl;
}

Number::Number(int ipar) : num(ipar)
{
    std::cout << "integer argument ctor" << std::endl;
}

Number::Number(const Number& src) : num(src.num)
{
    std::cout << "copy ctor" << std::endl;
}

Number::Number(Number&& src) : num(src.num)
{
    std::cout << "move ctor" << std::endl;
} 
```

**和**

```
//main.cpp
#include "Number.h"
using namespace std;

int main()
{
    cout << "Part A:" << endl;
    Number n1(1);
    cout << "Part B:" << endl;
    Number n2(n1);
    cout << "Part C:" << endl;
    Number n3{Number{n1}};
    cout << "Part D:" << endl;
    Number n4(Number(n1));
    return 0;
} 
```

**这输出：**

```
Part A:
integer argument ctor
Part B:
copy ctor
Part C:
copy ctor
Part D: 
```

请注意，D 部分没有输出。A 和 B 部分的输出是我所期望的，但其他部分的输出不是。

**我预计 C 和 D 部分会这样：**

```
Part C:
copy ctor
move ctor
Part D:
copy ctor
move ctor 
```

**对 C 部分的期望：**

我希望通过使用. `Number{n1}`_ 然后我期望通过使用临时对象调用移动构造函数来构造。`Number n3{Number{n1}}``Number``Number``n1``Number n3`

**对 D 部分的期望：**

由于这类似于 C 部分，除了使用括号而不是花括号外，我希望这部分的行为和输出方式与我期望 C 部分相同。

**问题：**

为什么实际输出与我的预期不同，获得所需输出的正确方法是什么？

**注意：**如果您想在 Visual Studio 中编译它，您需要[Visual C++ Compiler November 2012 CTP](http://www.microsoft.com/en-us/download/details.aspx?id=35515)或更高版本的 Visual Studio 2012 以支持统一初始化语法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T07:03:07.477

`n4` [是一个函数声明](http://en.wikipedia.org/wiki/Most_vexing_parse)。`n3`是由[复制省略](http://en.wikipedia.org/wiki/Copy_elision)引起的。

[在这里](http://coliru.stacked-crooked.com/a/cbd8f0f4b8ed0d97)检查我是否已启用`-fno-elide-constructors`以避免复制省略。`n3`然后显示一系列复制和移动构造函数。

有一条注释掉的行试图`n4`用作一个对象。如果您取消注释它，您会看到编译器错误告诉它是一个函数。

对于`n4`不要被解释为函数声明，您可以在临时变量周围加上额外的括号，以防止它被视为函数参数：`Number n4((Number(n1)))`. 有了这个，`-fno-elide-constructors`你所期望的一切都会发生。

请注意，这`-fno-elide-constructors`在 MSVC 中不作为选项存在。

# c# - 对调用另一个类的其他方法的方法进行单元测试

> ID：15151772
> 
> 赞同：1
> 
> 时间：2013-03-01T06:21:28.903
> 
> 标签：c#, .net, visual-studio-2010

请看下面的代码

```
int sum(int a, int b)
{
    int x = memberInstance.xyz(a); // memberInstance is an object of another class
    .....
    .....
} 
```

比如说，众所周知 xyz 方法返回 1-10 之间的数字。现在，我想为 sum 方法开发单元测试方法，我想用任意返回值 [1-10 之间的任何值]替换方法调用**memberInstance.xyz(a )。**请让我知道我该如何实现？如果可能，请提供示例代码。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T06:25:03.370

您应该使用它的接口。

```
public interface IMemberInstance
{
    int xyz {get;}
}

public class MemberInstance : IMemberInstance
{
 ... // the real class's implementation + code here
}

public class MockMemberInstance : IMemberInstance
{
   // the test class can return a test value
   int xyz(int a) { return 10; }
} 
```

然后在您的班级中进行测试（例如 MyClass）

```
private IMemberInstance memberInstance;

public MyClass(IMemberInstance memberInstance)
{
    this.memberInstance = memberInstance;
}

int sum(int a, int b)
{
    int x = memberInstance.xyz(a); // memberInstance is an object of another class
    .....
    .....
} 
```

这样做，以便您可以将 IMemberInstance 传递给要测试的类。这样你就可以用一个测试类来伪造它（模拟实现）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:28:42.673

您正在寻找[Mocking](http://en.wikipedia.org/wiki/Mock_object)，一个适合您的框架是[“Mock You”](https://code.google.com/p/moq/)

# javascript - 如何使用 JavaScript 确定 WebView 是否显示/在屏幕上/可见

> ID：15151773
> 
> 赞同：7
> 
> 时间：2013-03-01T06:21:29.040
> 
> 标签：javascript, android, ios

我有一个使用精灵表“播放视频”的网页。该页面针对移动设备进行了优化，因此可以加载到 Android 和 iOS WebViews 中。我想知道页面何时可见，所以只有在那之后我才能播放视频。我不希望用户在中途捕捉视频，因为 WebView 滞后于呈现自身。

我可以看到一些开发人员可能会等到整个页面完成从页面中提取所有资产之后才将其对用户可见。所以，我不希望“视频”在那之前开始。我不能依赖 window.onload，因为即使 WebView 不在屏幕上或不可见，该事件也会触发。

我怎样才能从客户端完成这个，最好使用一些 JavaScript？

[编辑] 明确地说，我的意思是我对原生 WebView 没有任何控制权。您可以将网页加载到不在屏幕上的 WebView 并推送视图或稍后将其添加到屏幕布局中。我的问题是，当我的网页 URL 加载到 WebView 中时，我无法判断 WebView 何时出现在屏幕上。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T00:52:52.180

查看[Safari Web 内容指南](http://developer.apple.com/library/ios/#documentation/AppleApplications/Reference/SafariWebContent/HandlingEvents/HandlingEvents.html#//apple_ref/doc/uid/TP40006511-SW5)。向下滚动到支持的事件表。我在想（或希望）这个`pageshow`活动会如你所愿。还有`focus`事件。

看起来将这些事件用于移动 Safari 就像

```
<body onpageshow="onPageShow();"> 
```

我对Android不太熟悉，但我会很快研究一下。

**编辑：**该解决方案在 Android **2.2**`onpageshow`及更高版本中的工作方式应与在 iOS **4.0**及更高版本中的工作方式相同。至于它是否按您需要的方式工作，我不完全确定。让我知道！

 ***** * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T00:38:17.150

无法使用 JavaScript 控制 webview。如果现在更改应用程序的设计还为时不晚，使用原生 API 可以让您更好地控制 web 视图。

您可以在加载视频之前在网页中插入超时。可能值得一试。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-11T19:47:34.143

您可以使用[phonegap](http://docs.phonegap.com/en/1.0.0/phonegap_events_events.md.html)库：

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    // Now safe to use the PhoneGap API
} 
```

`phonegap`非常适合在*webview中***处理事件**和更多操作。****

# html - 垂直翻转按钮背景图像

> ID：15151777
> 
> 赞同：3
> 
> 时间：2013-03-01T06:21:50.367
> 
> 标签：html, css, button, background-image, flip

我正在使用 CSS 来设置具有背景图像的按钮样式。我需要一个新闻效果。所以我尝试在按钮处于活动状态时垂直翻转按钮，如小提琴所示。

[http://jsfiddle.net/krishnathota/xzBaZ/10/](http://jsfiddle.net/krishnathota/xzBaZ/10/)

我可以翻转图像，但可以翻转整个按钮。我怎样才能只翻转背景图像。??

我必须在另一个班级写作，`.button:active`或者什么？请帮助

请检查第三个和第四个按钮并翻转背景图像。第一个和第二个按钮包含一个`<img>`我不希望它被翻转。

如果不支持跨浏览器，您能告诉我如何在按钮处于活动状态时更改背景而不更改背景颜色吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:32:23.700

`active`仅为图像添加状态

```
.button:active img{
    /*Vertical Flip background img*/
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    -ms-filter: flipv; /*IE*/
    filter: flipv; /*IE*/
    top: 1px; position: relative;
    /*-webkit-transform: translateY(1px);-moz-transform: translateY(1px);*/
  } 
```

**[演示](http://jsfiddle.net/xzBaZ/12/)**

**[这](http://www.sitepoint.com/css3-transform-background-image/)**是分别翻转元素的最佳教程

[http://www.sitepoint.com/css3-transform-b​​ackground-image/](http://www.sitepoint.com/css3-transform-background-image/)

# java - android java代码错误

> ID：15151780
> 
> 赞同：-1
> 
> 时间：2013-03-01T06:21:57.293
> 
> 标签：java, android, keyboard, android-softkeyboard, local-variables

我正在创建一个键盘，但局部变量的使用存在一些错误。

```
 private void updateCandidateText(){
        try{

            ExtractedText r= getCurrentInputConnection().getExtractedText(new ExtractedTextRequest(),InputConnection.GET_EXTRACTED_TEXT_MONITOR);
            String strbeforeCursor="";
            String strafterCursor ="";
                strbeforeCursor = getCurrentInputConnection().getTextBeforeCursor(1000000000, 0).toString();
            strafterCursor = getCurrentInputConnection().getTextAfterCursor(1000000000, 0).toString();
            String str = strbeforeCursor + "|"+strafterCursor;
            if(mTamilPreviewView != null)
                mTamilPreviewView.update(str, strbeforeCursor.length());

            mTamilPreviewView.update(r.text.toString() , 0);
        }
        catch (Exception e) {
            Log.e("t", "errr", e);
        }    
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T08:15:32.033

你测试是否`mTamilPreviewView != null`打电话

```
mTamilPreviewView.update(str, strbeforeCursor.length()); 
```

但即使是`null`，你会做的

```
mTamilPreviewView.update(r.text.toString() , 0); 
```

你会得到一个`NullPointerException`. 真的是你想做的吗？你不是说

```
if (mTamilPreviewView != null) {
    mTamilPreviewView.update(str, strbeforeCursor.length());
    mTamilPreviewView.update(r.text.toString() , 0);
} 
```

此外，你用一个空字符串初始化`strbeforeCursor`和`strafterCursor`，然后在下一行给它们其他值。你可以简单地删除

```
String strbeforeCursor="";
String strafterCursor =""; 
```

做

```
String strbeforeCursor = getCurrentInputConnection().getTextBeforeCursor(1000000000, 0).toString();
String strafterCursor = getCurrentInputConnection().getTextAfterCursor(1000000000, 0).toString(); 
```

# java - 尝试为 DialogFragment 中的 AlertDialog 扩展自定义布局时出现 StackOverflowError

> ID：15151783
> 
> 赞同：21
> 
> 时间：2013-03-01T06:21:59.200
> 
> 标签：java, android, android-layout, android-dialogfragment

我正在尝试通过使用 Builder 并设置自定义视图来创建 AlertDialog。当我尝试在 onCreateDialog 中膨胀视图时，我得到一个 StackOverflowError ..

以下是循环回 onCreateDialog 的代码：

```
@Override
public Dialog onCreateDialog(Bundle savedInstanceState){
    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());
    builder.setTitle(R.string.enter_time);

    LinearLayout outerLayout = (LinearLayout) getLayoutInflater(savedInstanceState)
            .inflate(R.layout.time_entry_dialog, null);
    ...
} 
```

这是 LogCat 输出：

```
02-28 22:30:04.220: E/AndroidRuntime(4250): FATAL EXCEPTION: main
02-28 22:30:04.220: E/AndroidRuntime(4250): java.lang.StackOverflowError
02-28 22:30:04.220: E/AndroidRuntime(4250):     at android.app.Activity.getSystemService(Activity.java:4009)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at android.view.LayoutInflater.from(LayoutInflater.java:210)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at android.view.ContextThemeWrapper.getSystemService(ContextThemeWrapper.java:75)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at com.android.internal.app.AlertController$AlertParams.<init>(AlertController.java:812)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at android.app.AlertDialog$Builder.<init>(AlertDialog.java:374)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at android.app.AlertDialog$Builder.<init>(AlertDialog.java:359)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at com.sweatyreptile.chee.runtimetracker.TimeEntryDialogFragment.onCreateDialog(TimeEntryDialogFragment.java:18)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at android.support.v4.app.DialogFragment.getLayoutInflater(DialogFragment.java:295)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at com.sweatyreptile.chee.runtimetracker.TimeEntryDialogFragment.onCreateDialog(TimeEntryDialogFragment.java:21)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at android.support.v4.app.DialogFragment.getLayoutInflater(DialogFragment.java:295)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at com.sweatyreptile.chee.runtimetracker.TimeEntryDialogFragment.onCreateDialog(TimeEntryDialogFragment.java:21)
02-28 22:30:04.220: E/AndroidRuntime(4250):     at android.support.v4.app.DialogFragment.getLayoutInflater(DialogFragment.java:295)
...etc 
```

**编辑：我在**[DialogFragment.getLayoutInflater()](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.1_r1/android/app/DialogFragment.java#DialogFragment.getLayoutInflater%28android.os.Bundle%29)的源代码中找到了这一行：

```
mDialog = onCreateDialog(savedInstanceState); 
```

所以..如果我不能在 onCreateDialog 内部获得一个 LayoutInflator 而不会导致无限递归，我如何为自定义 AlertDialog 膨胀视图？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-01T07:35:14.157

如果发现问题。[DialogFragment.getLayoutInflater()](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.1_r1/android/app/DialogFragment.java#DialogFragment.getLayoutInflater%28android.os.Bundle%29)包含对 的调用`onCreateDialog()`，因此`onCreateDialog()`从内部调用`getLayoutInflater()`会创建一个无限循环。

我在这个答案中找到了解决方案：[https ://stackoverflow.com/a/10585164/2020340](https://stackoverflow.com/a/10585164/2020340)

我不确定这是否是好的形式，因为它看起来并不像它，但我替换了

```
getLayoutInflater(savedInstanceState) 
```

和

```
getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE); 
```

**编辑：**它们是相同的。有关详细信息，请参阅此答案：[https ://stackoverflow.com/a/20995083/2020340](https://stackoverflow.com/a/20995083/2020340)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-08-15T08:09:03.487

你应该使用`LayoutInflater.from(getContext())`.

如果你正在使用`viewbindings`，你可以这样称呼它：

`binding = FragmentOtpDialogBinding.inflate(LayoutInflater.from(getContext()));`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-05-15T09:58:27.810

看起来这是在 Fragment 1.2.3 中修复的：[https](https://developer.android.com/jetpack/androidx/releases/fragment#1.2.3) ://developer.android.com/jetpack/androidx/releases/fragment#1.2.3 。

文档确实使用`requireActivity().getLayoutInflater()`，而不是仅仅使用`getLayoutInflater`，因此可能仍然不推荐使用。

# vb.net - 将导航器绑定到 vb.net 中的下一项

> ID：15151784
> 
> 赞同：0
> 
> 时间：2013-03-01T06:22:06.920
> 
> 标签：vb.net, bindingnavigator

我还是 Visual Basic 2010 的新手。
我想更改绑定导航器的选项，因为它总是移动到下一行。
我怎样才能让它移动到接下来的 9 行？
例如是这样的：
我加载表单 main 并通过添加代码填充 9 行数据：

```
Dim inc As Integer =  0 
label1.Text = dataSet.Tables("DPT").Rows(inc + 0).Items(2) 
label2.Text = dataSet.Tables("DPT").Rows(inc + 1).Items(2) 
.....
label9.Text = dataSet.Tables("DPT").Rows(inc + 8).Items(2) 
```

但是当我调试并按下下一项时，所有的值 `label1.Text ---> label9.Text`
都填充了第二行......你能帮帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:44:07.173

我看到你在这里做了很多错误...查看我的编辑...

```
 Dim inc As Integer = 0 'This isn't doing anything...

 label1.Text = dataSet.Tables("DPT").Rows(inc + 0).Items(2) 'Your always referencing item 2
 label2.Text = dataSet.Tables("DPT").Rows(inc + 1).Items(2)

 label9.Text = dataSet.Tables("DPT").Rows(inc + 8).Items(2) 
```

首先将所有标签文本更改为此...

```
 label1.Text = dataSet.Tables("DPT").Rows(1).Item(1) 'Change the number for your row and item as you go down... Or better yet use your Item name instead of the number... 
```

# zend-framework - Zend：如何使用 setDecorators() 创建自定义表单元素？

> ID：15151787
> 
> 赞同：0
> 
> 时间：2013-03-01T06:22:10.147
> 
> 标签：zend-framework, zend-form, decorator

我需要如下形式的html：

```
<form>
<div class="es_form_txt">Name</div>
<div class="es_form"><input type="text" value="" class="email1"></div>
<div class="clear1"></div>
<div class="es_form_txt">Gender</div>
<div class="es_form">
    <input type="radio" value="" name=""> Male
    <input type="radio" value="" name=""> Female
    <input type="radio" value="" name=""> Other
</div>
<div class="clear1"></div>
<div class="es_form_txt">Country Code</div>
<div class="es_form"><input type="text" value="" class="email1"></div>
<div class="clear1"></div>
<div class="es_form_txt">Phone</div>
<div class="es_form"><input type="text" value="" class="email1"></div>
<div class="clear1"></div> 
<div class="clear1"></div>
<div class="es_form">&nbsp;</div>
<div class="es_form"><input type="button" class="button" value="Update"></div>
<div class="clear"></div>
</form> 
```

我在这里尝试了各种解决方案都不起作用！谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:44:42.760

我发现当我需要在使用[Zend_Form](http://framework.zend.com/manual/1.12/en/zend.form.introduction.html)时显示特定的 HTML 时，最可靠的解决方案通常是使用[ViewScript 装饰器](http://framework.zend.com/manual/1.12/en/zend.form.standardDecorators.html#zend.form.standardDecorators.viewScript)。

使用 Zend_Form 构建一个普通表单。

```
<?php
//application/forms/Search.php
class Application_Form_Search extends Zend_Form
{
    public function init()
    {
        $this->setMethod('POST');
        //assign the view script to the decorator, this can also be done in the controller
        $this->setDecorators(array(
            array('ViewScript', array(
                    'viewScript' => '_searchForm.phtml'
            ))
        ));
        // create new element
        $query = $this->createElement('text', 'query');
        // element options
        $query->setLabel('Search Keywords');
        // add the element to the form
        $this->addElement($query);
        //submit element
        $submit = $this->createElement('submit', 'search');
        $submit->setLabel('Search Site');
        $submit->setDecorators(array('ViewHelper'));
        $this->addElement($submit);
    }
} 
```

然后构建用于呈现表单的实际脚本。

```
<!-- ~/views/scripts/_searchForm.phtml -->
<article class="search">
    <!-- set the action and the method -->
    <form action="<?php echo $this->element->getAction()?>" method="<?php echo $this->element->getMethod()?>">
        <table>
            <tr>
                <!-- you can render individual decorators. -->
                <th><?php echo $this->element->query->renderLabel()?></th>
            </tr>
            <tr>
                <td><?php echo $this->element->query->renderViewHelper()?></td>
            </tr>
            <tr>
                <!-- or you can render a complete element -->
                <td><?php echo $this->element->search?></td>
            </tr>
        </table>
    </form>
</article> 
```

这目前呈现为：

```
<article class="search">
    <form action="/video/index/display" method="post">
        <table>
            <tr>
                <th>
                    <dt id="query-label">
                        <label for="query" class="optional">Search Keywords</label>
                    </dt>
                </th>
            </tr>
            <tr>
                <td>
                    <input type="text" name="query" id="query" value="" placeholder="Movie Title" size="20">
                </td>
            </tr>
            <tr>
                <td>
                    <input type="submit" name="search" id="search" value="Search Video Collection!">
                </td>
            </tr>
        </table>
    </form>
</article> 
```

需要进行一些实验才能准确获得所需的输出。

# css - 背景图像不会在 Internet Explorer 中居中

> ID：15151789
> 
> 赞同：0
> 
> 时间：2013-03-01T06:22:15.070
> 
> 标签：css, internet-explorer

如果有人可以帮助我解决这个问题，我将非常感激。

我在登台链接上有[这个网站。](http://srix.peachtreecollective.com)在 Safari 和 Firefox 中一切正常。然而，在 Internet Explorer（我相信是版本 9）中，背景图像出现在最右侧，即不在中心。

行为不端的 IE 图像：

![行为不端的 IE](../Images/66dd93facd7def2a9929a4aac2b33af8.png)

由于每个页面都有不同的背景图片，代码如下

```
body {background-color:#000; color:#FFF; margin:0px; padding:0px;height:100%;}

#home {background:url(../images/Background2.jpg) top center no-repeat;background-color:#000;} 
```

对于 Internet Explorer v9 或更低版本，我已包括：

```
#home {text-align:center;} 
```

我已经阅读了其他帖子，但似乎找不到答案。非常感谢您的意见！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:27:51.417

可能是 IE 中背景的隐式位置 si 向左和 Chrome 中的中心。尝试使用`background-position:center center`.

# ruby-on-rails - Heroku 500 内部服务器错误 nil:NilClass 的未定义方法“用户名”

> ID：15151792
> 
> 赞同：0
> 
> 时间：2013-03-01T06:22:24.390
> 
> 标签：ruby-on-rails, heroku

我的应用程序能够在我的本地服务器上运行得很好，但是当我将它从 git 推送到 heroku 时，它无法在 heroku 上运行。我已经运行了 heroku run rake db:migrate，但仍然没有运气。我猜它与用户名方法有关，但不确定为什么它会在我的本地而不是 heroku 上工作。

```
2013-03-01T05:45:00+00:00 app[web.1]:
2013-03-01T05:45:00+00:00 app[web.1]:     11:   <% if current_user == pin.user %>
2013-03-01T05:45:00+00:00 app[web.1]:   app/views/pins/index.html.erb:4:in `_app_views_pins_index_html_erb__3245926179851309408_37549160'
2013-03-01T05:45:00+00:00 app[web.1]: cache: [GET /] miss
2013-03-01T05:45:00+00:00 app[web.1]:
2013-03-01T05:45:01+00:00 app[web.1]:
2013-03-01T05:45:01+00:00 app[web.1]: Started GET "/" for 99.190.128.33 at 2013-03-01 05:45:01 +0000
2013-03-01T05:45:01+00:00 app[web.1]:
2013-03-01T05:45:01+00:00 app[web.1]: Processing by PinsController#index as HTML
2013-03-01T05:45:01+00:00 heroku[router]: at=info method=GET path=/ host=railsapp-                     test.herokuapp.com fwd="99.190.128.33" dyno=web.1 queue=0 wait=0ms connect=0ms service=38ms   status=500 bytes
=643
2013-03-01T05:45:01+00:00 app[web.1]:   Rendered static_pages/_home.html.erb (3.7ms)
2013-03-01T05:45:01+00:00 app[web.1]:   Rendered pins/_pin.html.erb (11.3ms)
2013-03-01T05:45:01+00:00 app[web.1]:   Rendered pins/index.html.erb within layouts/application (20.5ms)
2013-03-01T05:45:01+00:00 app[web.1]:     7:            <strong>
2013-03-01T05:45:01+00:00 app[web.1]:     8:                    Posted by <%= pin.user.username  %>
2013-03-01T05:45:01+00:00 app[web.1]:
2013-03-01T05:45:01+00:00 app[web.1]:   app/views/pins/_pin.html.erb:8:in  `_app_views_pins__pin_html_erb___1817132116748238264_25273940'
2013-03-01T05:45:01+00:00 app[web.1]:   app/views/pins/index.html.erb:4:in  `_app_views_pins_index_html_erb__3245926179851309408_37549160'
2013-03-01T05:45:01+00:00 app[web.1]:   app/controllers/pins_controller.rb:8:in `index'
2013-03-01T05:45:01+00:00 app[web.1]: Completed 500 Internal Server Error in 22ms
2013-03-01T05:45:01+00:00 app[web.1]:
2013-03-01T05:45:01+00:00 app[web.1]: ActionView::Template::Error (undefined method `username'  for nil:NilClass):
2013-03-01T05:45:01+00:00 app[web.1]:     5:    </p>
2013-03-01T05:45:01+00:00 app[web.1]:     6:    <p>
2013-03-01T05:45:01+00:00 app[web.1]:     9:            </strong>
2013-03-01T05:45:01+00:00 app[web.1]:     11:   <% if current_user == pin.user %>
2013-03-01T05:45:01+00:00 app[web.1]:     10:   </p>
2013-03-01T05:45:01+00:00 app[web.1]:
2013-03-01T05:45:01+00:00 app[web.1]: cache: [GET /] miss
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: Started GET "/" for 99.190.128.33 at 2013-03-01 05:45:02  +0000
2013-03-01T05:45:02+00:00 app[web.1]: Processing by PinsController#index as HTML
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered static_pages/_home.html.erb (4.4ms)
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered pins/index.html.erb within layouts/application  (22.2ms)
2013-03-01T05:45:02+00:00 app[web.1]:     6:    <p>
2013-03-01T05:45:02+00:00 app[web.1]: Completed 500 Internal Server Error in 23ms
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: ActionView::Template::Error (undefined method `username'  for nil:NilClass):
2013-03-01T05:45:02+00:00 app[we
b.1]:   app/views/pins/_pin.html.erb:8:in  `_app_views_pins__pin_html_erb___1817132116748238264_25273940'
2013-03-01T05:45:02+00:00 app[web.1]:   app/controllers/pins_controller.rb:8:in `index'
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]:     11:   <% if current_user == pin.user %>
2013-03-01T05:45:02+00:00 app[web.1]:     8:                    Posted by <%= pin.user.username  %>
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered pins/_pin.html.erb (12.4ms)
2013-03-01T05:45:02+00:00 app[web.1]:     10:   </p>
2013-03-01T05:45:02+00:00 app[web.1]:     5:    </p>
2013-03-01T05:45:02+00:00 app[web.1]:   app/views/pins/index.html.erb:4:in  `_app_views_pins_index_html_erb__3245926179851309408_37549160'
2013-03-01T05:45:02+00:00 app[web.1]:     7:            <strong>
2013-03-01T05:45:02+00:00 app[web.1]: cache: [GET /] miss
2013-03-01T05:45:02+00:00 app[web.1]:     9:            </strong>
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: Started GET "/" for 99.190.128.33 at 2013-03-01 05:45:02 +0000
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: Processing by PinsController#index as HTML
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered static_pages/_home.html.erb (1.6ms)
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 heroku[router]: at=info method=GET path=/ host=railsapp- test.herokuapp.com fwd="99.190.128.33" dyno=web.1 queue=0 wait=3ms connect=2ms service=63ms  status=500 bytes
=643
2013-03-01T05:45:02+00:00 app[web.1]:     8:                    Posted by <%= pin.user.username  %>
2013-03-01T05:45:02+00:00 app[web.1]:     5:    </p>
2013-03-01T05:45:02+00:00 app[web.1]:     6:    <p>
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered pins/_pin.html.erb (47.0ms)
2013-03-01T05:45:02+00:00 app[web.1]:     7:            <strong>
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered pins/index.html.erb within layouts/application  (50.3ms)
2013-03-01T05:45:02+00:00 app[web.1]:     11:   <% if current_user == pin.user %>
2013-03-01T05:45:02+00:00 app[web.1]:   app/views/pins/_pin.html.erb:8:in  `_app_views_pins__pin_html_erb___1817132116748238264_25273940'
2013-03-01T05:45:02+00:00 app[web.1]:   app/controllers/pins_controller.rb:8:in `index'
2013-03-01T05:45:02+00:00 app[web.1]:     9:            </strong>
2013-03-01T05:45:02+00:00 app[web.1]:   app/views/pins/index.html.erb:4:in  `_app_views_pins_index_html_erb__3245926179851309408_37549160'
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: cache: [GET /] miss
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]:     10:   </p>
2013-03-01T05:45:02+00:00 app[web.1]: Completed 500 Internal Server Error in 51ms
2013-03-01T05:45:02+00:00 app[web.1]: ActionView::Template::Error (undefined method `username'  for nil:NilClass):
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: Started GET "/" for 99.190.128.33 at 2013-03-01 05:45:02    +0000
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: Processing by PinsController#index as HTML
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered static_pages/_home.html.erb (2.8ms)
2013-03-01T05:45:02+00:00 app[web.1]: Completed 500 Internal Server Error in 14ms
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered pins/index.html.erb within layouts/application  (12.7ms)
2013-03-01T05:45:02+00:00 app[web.1]:   Rendered pins/_pin.html.erb (8.0ms)
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: ActionView::Template::Error (undefined method `username'  for nil:NilClass):
2013-03-01T05:45:02+00:00 app[web.1]:     5:    </p>
2013-03-01T05:45:02+00:00 app[web.1]:     6:    <p>
2013-03-01T05:45:02+00:00 app[web.1]:     8:                    Posted by <%= pin.user.username %>
2013-03-01T05:45:02+00:00 app[web.1]:     9:            </strong>
2013-03-01T05:45:02+00:00 app[web.1]:   app/views/pins/_pin.html.erb:8:in `_app_views_pins__pin_html_erb___1817132116748238264_25273940'
2013-03-01T05:45:02+00:00 app[web.1]:     11:   <% if current_user == pin.user %>
2013-03-01T05:45:02+00:00 app[web.1]:     10:   </p>
2013-03-01T05:45:02+00:00 app[web.1]:     7:            <strong>
2013-03-01T05:45:02+00:00 heroku[router]: at=info method=GET path=/ host=railsapp- test.herokuapp.com fwd="99.190.128.33" dyno=web.1 queue=0 wait=0ms connect=3ms service=22ms  status=500 bytes
=643
2013-03-01T05:45:02+00:00 app[web.1]:   app/views/pins/index.html.erb:4:in   `_app_views_pins_index_html_erb__3245926179851309408_37549160'
2013-03-01T05:45:02+00:00 app[web.1]:   app/controllers/pins_controller.rb:8:in `index'
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]:
2013-03-01T05:45:02+00:00 app[web.1]: cache: [GET /] miss
2013-03-01T05:45:02+00:00 heroku[router]: at=info method=GET path=/ host=railsapp-test.herokuapp.com fwd="99.190.128.33" dyno=web.1 queue=0 wait=0ms connect=1ms service=32ms status=500 bytes
=643 
```

编辑：这是 pins_controller.rb 下的代码：

```
def create
    @pin = current_user.pins.new(params[:pin])

    respond_to do |format|
      if @pin.save
        format.html { redirect_to pins_path, notice: 'Pin was successfully created.' }
        format.json { render json: @pin, status: :created, location: @pin }
      else
        format.html { render action: "new" }
        format.json { render json: @pin.errors, status: :unprocessable_entity }
      end
    end
  end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:28:36.190

您的用户名方法很好 - 问题是由于您的 pin 实例没有用户（即 pin.user 为 nil）引起的。保存 pin 时，请确保正确分配了用户。

# python - 如何让python将一个字符串加在一起？

> ID：15151798
> 
> 赞同：0
> 
> 时间：2013-03-01T06:22:43.873
> 
> 标签：python, string, range

这是我拥有的一小部分代码：

```
studentName = ""

def getExamPoints (total):
    for i in range (4):
        total = 0.0
        examPoints = input ("Enter exam score for " + studentName + str(i+1) + ": ")
total = ?????
total = total/.50       
total = total * 100 
```

在哪里？？？？是我不知道如何让字符串相加四个分数

我后来输入的学生姓名，在我使用的程序中需要`examPoints = getExamPoints(studentName)`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:24:41.970

没有任何错误检查错误输入：

```
total = 0.0
for i in range (4):
    total += int(input ("Enter exam score for " + studentName + str(i+1) + ": "))
total = total/.50       
total = total * 100 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:25:04.380

你试过了吗

```
total += int(examPoints); 
```

# c - 将指针数组传递给函数

> ID：15151803
> 
> 赞同：2
> 
> 时间：2013-03-01T06:23:03.063
> 
> 标签：c, arrays, function-pointers, fopen

我正在尝试将文件指针数组传递给函数（不确定术语）。谁能解释一下发送“in[2]”的正确方法吗？谢谢你。

```
 #include<stdio.h>
    #include<stdlib.h>

    void openfiles (FILE **in[], FILE **out)
    {
        *in[0] = fopen("in0", "r");
        *in[1] = fopen("in1", "r");
        *out   = fopen("out", "w");
    }

    void main()
    {
        FILE *in[2], *out;

        openfiles (&in, &out);
        fprintf(out, "Testing...");

        exit(0);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:24:34.560

尝试：

```
void openfiles (FILE *in[], FILE **out)
{
    in[0] = fopen("in0", "r");
    in[1] = fopen("in1", "r");
    *out   = fopen("out", "w");
} 
```

并调用它`openfiles (in, &out);`。此外，“指针数组”是模棱两可的。也许称它为“文件指针数组”？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T07:11:59.887

你需要`pointer to array of FILE* type`，像我在下面的函数中那样做。还要添加`()`括号`(*in)`来**覆盖优先级**，因为默认情况下`[]`优先级高于`*`运算符。请参阅：[运算符优先级](https://www.cs50.net/resources/cppreference.com/operator_precedence.html)

```
void openfiles (FILE* (*in)[2], FILE **out){
    (*in)[0] = fopen("in0", "r");
    (*in)[1] = fopen("in1", "r");
    *out   = fopen("out", "w");
} 
```

我的字符串示例有助于理解这个概念：

```
#include<stdio.h>
void f(char* (*s)[2]){
 printf("%s %s\n", (*s)[0],(*s)[1]);    
} 
int main(){
 char* s[2];
 s[0] = "g";
 s[1] = "ab";
 f(&s);
 return 1;
} 
```

输出：

```
g ab 
```

[键盘](http://codepad.org/WDLBBLMN)

对于**OP**：另请阅读 Lundin 对我的回答的评论 很有帮助！

# jsf - 在jsf中重写URL

> ID：15151804
> 
> 赞同：1
> 
> 时间：2013-03-01T06:23:06.747
> 
> 标签：jsf

我是jsf的新手。

目前我的应用程序 URL 看起来像

```
http://localhost/practice/pages/page1.xhtml 
```

问题是我如何重写 URL 以使其像

```
http://localhost/practice/page1.xhtml 
```

基本上我想隐藏页面。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T08:54:46.080

您可以使用漂亮的面孔在[jsf](http://ocpsoft.org/prettyfaces/) 中重写 url。它是开源且易于使用的

# c# - 有没有办法使用 XCode 创建 ASP .NET 文件？

> ID：15151805
> 
> 赞同：0
> 
> 时间：2013-03-01T06:23:22.047
> 
> 标签：c#, .net, ios, xcode

我听说过使用 Xamarin 工具进行 IOS 开发的 C#。我想知道 Xcode 中是否支持 .Net 框架。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:26:50.177

没有办法`.Net framework`与`XCode IDE`.

`Mono framework`但是，您可以使用for编写 .Net 语言`OSX`。

这是您可以学习的单声道网站。

[http://www.mono-project.com/](http://www.mono-project.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:30:45.880

使用 xp 和较旧的 Visual Studio（用于 Web 开发）版本运行 vm。我只需要完成一个项目，然后我就学会了，并在一周内上交了我的成品。如此方便易用的IDE。

# php - 如何使用codeigniter从localhost中的url中删除文件夹名称？

> ID：15151806
> 
> 赞同：2
> 
> 时间：2013-03-01T06:23:33.353
> 
> 标签：php, codeigniter

如何使用 codeigniter 从 localhost 中的 url 中删除文件夹名称？您好，我正在为我的项目使用 codeigniter franework。我将所有项目数据保存在“opt/lampp/htdocs/myprjectfolder”中。现在它使用 url "localhost/myprjectfolder" 工作现在我想从 url 中删除文件夹名称 iemyprjectfolder，比如 "localhost/" 它可以直接打开我的网站页面（控制器）（iemyprjectfolder）吗？如何处理 config.php 或 route.php 文件？请给一些时间和解决方案谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T10:09:02.333

如果我们忽略用 htdocs 替换项目文件夹，那不是 codeigniter 配置，您最好的解决方案是使用[虚拟主机](http://httpd.apache.org/docs/2.2/vhosts/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:37:11.060

下载EasyPHP并设置虚拟域，简单的方法

[http://www.easyphp.org/](http://www.easyphp.org/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:25:38.643

将所有文件放在文件夹外，直接放在 htdocs 文件夹中（不推荐）。

或者

您可以将localhost转换为虚拟域名

参考：

```
 http://drupal.org/node/1152594
     http://www.learnbycode.com/content/how-assign-virtual-local-domain-name-your-localhost
     http://complete-concrete-concise.com/web-tools/how-to-change-localhost-to-a-domain-name 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-08T12:20:57.223

您可以删除文件中的`config/routes.php`文件夹名称：

```
$route['folder/product/(:any)'] = "product/(:any)"; 
```

# iphone - 复制数组项的数组最小范围

> ID：15151808
> 
> 赞同：0
> 
> 时间：2013-03-01T06:23:44.757
> 
> 标签：iphone, ios, objective-c, nsmutablearray, copy

我正在通过以下方式从另一个数组中复制数组项

```
 arrayOne = [resultArray subarrayWithRange:NSMakeRange(0, MIN(3, resultArray.count))]; 
```

它复制数组一中的 3 个项目如果我想要从索引 4 到 5 开始的项目我在数组中有六个项目

```
 arrayTwo = [resultArray subarrayWithRange:NSMakeRange(4, MIN(5, resultArray.count))]; 
```

然后它给出错误并且不工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:34:44.807

以下将为您提供索引 3、4 和 5：

```
if (resultArray.count >= 6) {
    arrayTwo = [resultArray subarrayWithRange:NSMakeRange(3, 3)];
} else {
    // not enough to get desired values
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:26:34.497

尝试这个

```
arrayOne = [resultArray subarrayWithRange:NSMakeRange(0, 3)];
arrayTwo = [resultArray subarrayWithRange:NSMakeRange(3,3)]; 
```

# java - 如何通过java程序在远程系统上运行SSH命令（后续）

> ID：15151811
> 
> 赞同：1
> 
> 时间：2013-03-01T06:23:55.127
> 
> 标签：java, command-line, ssh, command

我正在尝试通过 Java 程序在远程主机中运行命令/可执行文件。这是我从相关线程中获得的代码。我可以连接到远程主机并通过**BufferedReader**读取流。但是，我无法使用**out.println("ls /home/ubuntu"); 发送/执行命令；**. 你有什么建议？我正在使用 MAC OS 系统。

```
Process p = Runtime.exec("ssh myhost");
PrintStream out = new PrintStream(p.getOutputStream());
BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream());
Thread.sleep(3000);
while (in.ready()) {
   String s = in.readLine();
   System.out.println(s);
}

out.println("ls /home/ubuntu");
Thread.sleep(3000);
while (in.ready()) {
    String s = in.readLine();
    System.out.println(s);
}
out.println("exit"); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T15:01:14.190

让它工作。

```
PrintStream out = new PrintStream(p.getOutputStream()); 
```

对我不起作用，所以我把它改成了这个。

```
PrintWriter out = new PrintWriter(new OutputStreamWriter(new BufferedOutputStream(p.getOutputStream())), true); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T08:29:37.137

我使用了一个库[JSch](http://www.jcraft.com/jsch/)，但是当我浏览文档时，我猜[sshxcute](http://code.google.com/p/sshxcute/)看起来更好。

# java - Spring 3 + 大气 - 类型 AtmosphereResource 不是通用的

> ID：15151812
> 
> 赞同：0
> 
> 时间：2013-03-01T06:23:59.797
> 
> 标签：java, spring, jakarta-ee, atmosphere

在我的 spring 3 控制器中执行以下方法期间，我收到错误（**AtmosphereResource 类型不是通用的；它不能用参数参数化）。**

```
 @RequestMapping(value="/websockets", method=RequestMethod.GET)
     @ResponseBody
     public void websockets(final AtmosphereResource<HttpServletRequest,HttpServletResponse> event) {

          final HttpServletRequest  req = event.getRequest();
            final HttpServletResponse res = event.getResponse();
            event.suspend();

            final Broadcaster bc = event.getBroadcaster();
            bc.scheduleFixedBroadcast(new Callable<String>() {

                public String call() throws Exception {

                    return (new Date()).toString();
                }
            }, 11, TimeUnit.SECONDS);
     } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T18:52:57.227

您可能想出了答案，但从`AtmosphereResource<?,?>`0.9 及更高版本开始不再存在。只需删除它，它就会起作用。

# webos - 如何在 hp webos 中查看浏览器插件日志？

> ID：15151818
> 
> 赞同：0
> 
> 时间：2013-03-01T06:24:21.093
> 
> 标签：webos

**我在“ NPAPI** ”方法的帮助下开发了一个插件，我可以在“ **webos** ”模拟器的浏览器中启动它。当我使用 tomcat 服务器启动测试 html 页面时，该页面加载正常并且能够访问浏览器插件。我添加了一些“ **printf** ”语句。我在 putty 中尝试了 log 命令来查看浏览器日志，它正在显示浏览器日志，但该日志不包含插件日志。

请给我一些建议。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T03:10:51.617

Printf 不是记录内容的正确方法。我相信您想要做的是使用该`syslog()`功能。你可能会在这里找到一些有用的东西：

[https://developer.palm.com/content/resources/develop/pdk_app_debugging.html](https://developer.palm.com/content/resources/develop/pdk_app_debugging.html)

您也可以在 /media/internal/ 中打开一个文件并写入该文件。

# java - 即使应用程序被破坏，也保持“登录”状态

> ID：15151819
> 
> 赞同：1
> 
> 时间：2013-03-01T06:24:27.653
> 
> 标签：java, android, sharedpreferences, android-lifecycle

嗨，我有一个应用程序，即使在应用程序被销毁后，它也严格要求出现“登录”。如果应用程序被破坏，那么稍后重新加载（如果之前已登录）的登录屏幕应该被绕过 > 直接进入用户之前查看的页面。（我已经处理了所有与会话相关的变量）

我试过使用`Shared Preferences`，但如果我手动销毁应用程序，它会返回登录屏幕，我不能让这种情况发生。

我尝试在数据库中手动存储首选项（这可能是什么`Shared Preferences`？）但它当然仍然加载登录活动，因为这是我第一次加载的活动。所以这个问题更多的是保持对用户始终在哪个 Activity 上的偏好，然后直接加载到 this `onResume()`。

我的问题：以前有没有人处理过这种情况？我应该如何预加载活动。我在想，当我在登录屏幕中加载我的首选项时，我会检查以前的活动首选项并简单地加载到该首选项中（假设用户已登录）。

有没有更好的方法来解决这个问题？是否有更原生的方式动态加载到适当的 Activity 启动？

非常感谢任何帮助

**编辑**：好的，就在发布这个之后，我意识到我真正需要做的就是在 OnResume 中添加一个检查是否设置了适当的会话变量。然后加载到 Activity 中，实际上就像 Akbari 下面所说的那样。我已经将我的 Preferences 类回滚到使用标准 Android`SharePreferences`并且它现在可以完美运行。对此感到高兴:)

简单地做这样的事情：

```
 // load preferences
    preferences.readPreferences();      

    // if preferences exist load straight to RecordActivity
    if (application.currentSessionId!=null) {
        Intent i = new Intent(getApplicationContext(), RecordActivity.class);
        startActivity(i);           
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:38:30.320

您可以在首选项中保存登录状态并在登录活动的 onCreate() 方法中检查它

```
 @Override
    public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);SharedPreferences prefs;
    prefs = getSharedPreferences("your_pref", MODE_PRIVATE);

    boolean login_status = prefs.getBoolean("login_status", false);
    if (login_status) {
        Log.v(LOG_TAG, "UserInfo>>User already logged in");
        Intent intent = new Intent(this, HomeActivity.class);
        startActivity(intent);
        this.finish();
    }
} 
```

在这里，它将检查登录状态并将用户重定向到下一个活动，如果已经登录

# javascript - Javascript 如何：隐藏 onBeforeUnload 的浏览器弹出窗口并显示自定义弹出窗口

> ID：15151825
> 
> 赞同：2
> 
> 时间：2013-03-01T06:24:44.863
> 
> 标签：javascript, jquery, html, onbeforeunload

我正在构建一个包含教程的 MMO。

当用户在教程中尝试离开教程或关闭选项卡/浏览器时，我需要显示一个自定义弹出窗口，其中包含有关此人退出教程的原因的选项。

我熟悉该`onbeforeunload`事件，但我的要求是显示自定义弹出窗口而不是浏览器默认弹出窗口，因为除了更改文本消息之外无法自定义它。

有什么办法可以隐藏浏览器弹出窗口并显示我的自定义弹出窗口。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T08:06:28.763

~~我真的建议您为此使用 jQuery UI。它会让你的生活更轻松，并且在 API 中内置了模态对话框。见这里：http: [//jqueryui.com/dialog/#modal](http://jqueryui.com/dialog/#modal)~~

好吧，我之前说的完全错了。一定是累了。

`onbeforeunload`由于它在 DOM 中触发的方式，您不能覆盖它。这是一个很好的解释它。

[如何覆盖 OnBeforeUnload 对话框并将其替换为我自己的？](https://stackoverflow.com/questions/276660/how-can-i-override-the-onbeforeunload-dialog-and-replace-it-with-my-own)

# jquery - Twitter bootstrap 在折叠时更改图标

> ID：15151829
> 
> 赞同：5
> 
> 时间：2013-03-01T06:24:55.050
> 
> 标签：jquery, twitter-bootstrap

我有一个包含选项卡的可折叠元素，其中可折叠元素在标题文本的左侧有一个图标（图标箭头向下）。当您折叠此元素时，图标将变为 icon-arrow-up。它工作得很好，但是，当我在选项卡之间切换时，图标也会改变。

这是我的 jsFiddle：http: [//jsfiddle.net/m6R44/](http://jsfiddle.net/m6R44/)

```
<div class="well">
    <h3>
        <span class="icon-arrow-down" data-toggle="collapse" data-target="#collapseH" id="collapseP"></span>
        <a href="#">Lorem Ipsum</a>
    </h3>
    <div id="collapseH" class="collapse in">
        <ul class="nav nav-tabs" id="ic_tabs">
            <li class="active"><a href="#paragraph1" data-toggle="tab">Paragraph 1</a></li>
            <li><a href="#paragraph2" data-toggle="tab">Paragraph 2</a></li>
            <li><a href="#paragraph3" data-toggle="tab">Paragraph 3</a></li>
        </ul>
        <div id="ic_tabsContent" class="tab-content">
            <div class="tab-pane fade in active" id="paragraph1">
                content 1
            </div>
            <div class="tab-pane fade" id="paragraph2">
                content 2
            </div>
            <div class="tab-pane fade" id="paragraph3">
                content 3
            </div>
        </div>
    </div>
</div>
<script>
    $('#collapseH').on('show hide', function(e){
        $('#collapseP').toggleClass('icon-arrow-up icon-arrow-down', 200);
    });
</script> 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2014-04-25T18:59:01.380

这是一个纯 CSS 的解决方案。将您的切换更改为：

```
<span class="arrow-toggle" data-toggle="collapse" data-target="#collapseH" id="collapseP">
    <span class="icon-arrow-down"></span>
    <span class="icon-arrow-up"></span>
</span> 
```

添加此 CSS 以根据折叠状态更改图标：

```
.arrow-toggle .icon-arrow-down,
.arrow-toggle.collapsed .icon-arrow-up {
    display: inline-block;
}
.arrow-toggle.collapsed .icon-arrow-down,
.arrow-toggle .icon-arrow-up {
    display: none;
} 
```

这是一个[jsFiddle 示例](http://jsfiddle.net/7zvxa/)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-01T06:42:36.307

当您单击选项卡时，似乎`show`触发了该事件。如果您在切换应该修复它的箭头之前添加一个 id 是否等于 collapseH 的检查。这是一个这样做的小提琴。

[http://jsfiddle.net/m6R44/3/](http://jsfiddle.net/m6R44/3/)

```
$('#collapseH').on('show hide', function (e) {
    //if($(e.target).attr("id") != "collapseH")return;
    if(!$(this).is(e.target))return; // from Arun P Johny
    $('#collapseP').toggleClass('icon-arrow-up icon-arrow-down', 200);
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-01T06:29:38.833

您需要从此更改选择器：

```
$('#collapseH').on('show hide', function(e){ 
```

对此：

```
 $('#collapseP').on('click', function(e){ 
```

您`#collapseH`将所有选项卡包装为 HTML，因此当您单击其中一个选项卡时，您也会单击`#collapseH`. 所以我将选择器更改为仅在用户单击箭头本身时触发`#collapseP`。

用这个

```
$('#collapseP').on('click', function(e){
            $('#collapseP').toggleClass('icon-arrow-down , icon-arrow-up', 200);
}); 
```

[参见小提琴示例](http://jsfiddle.net/m6R44/7/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T06:46:37.270

这是因为事件冒泡

```
$('#collapseH').on('show hide', function(e){
    console.log(this, e.target, e.currentTarget)
    if($(this).is(e.target)){
        $('#collapseP').toggleClass('icon-arrow-up icon-arrow-down', 200);
    }
}); 
```

# iphone - ECSlidingDrawer 主题和动画

> ID：15151835
> 
> 赞同：0
> 
> 时间：2013-03-01T06:25:14.377
> 
> 标签：iphone, ios, animation, slidingmenu

所以我有一个应用程序，左侧有一个滑动抽屉，可以通过点击按钮或手势拉出/显示。看起来像[这样](https://a248.e.akamai.net/camo.github.com/957fadf085bdae9513ec55e668ddb3b0f26f9475/687474703a2f2f646c2e64726f70626f782e636f6d2f752f31303933373233372f72657665616c2e706e67)。

我想为抽屉制作动画，所以它有一个类似于[this](http://dribbble.com/shots/543645-UX-iOS-UI-iPhone-idea-with-video-process?list=searches&tag=app_ui)的折叠动画。

我已经广泛地浏览了互联网，但没有找到任何东西。

有谁知道这是否可能？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:24:20.307

下面的文章描述了使用 CATransfromLayer 的折叠动画。我认为这可能会有所帮助。 [http://markpospesel.wordpress.com/tag/catransformlayer/](http://markpospesel.wordpress.com/tag/catransformlayer/)

# javascript - 字计数器 Javascript 函数调用

> ID：15151836
> 
> 赞同：0
> 
> 时间：2013-03-01T06:25:16.150
> 
> 标签：javascript, jquery

希望在网站上的输入文本框旁边有一个单词计数器

当用户单击或修改文本时，它可以显示计数，但我想在页面完成加载后立即加载。

```
$(document).ready(function() {

  $("#product_name").change(displayText).keyup(displayText);

function displayText(){
      $("em#counter").text($(this).val().length +' chars'); 
}
}); 
```

所以我尝试了下面的代码，但无法让它工作，也不知道为什么。

```
$(document).ready(function() {

    if($("#product_name").length){
           displayText();
    }
  $("#product_name").change(displayText).keyup(displayText);

function displayText(){
      $("em#counter").text($(this).val().length +' chars'); 
}
}); 
```

非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:34:50.370

尝试这个

```
if($("#product_name").length){
           displayText();
}
$("#product_name").change(displayText).keyup(displayText);

function displayText(){
      $("em#counter").text($("#product_name").val().length +' chars'); 
} 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/msPQE/2/)

问题是您`displayText()`在页面加载期间的呼叫。`displayText`您曾经`$(this)`访问过输入字段，该字段用作事件处理程序。但是当你`displayText`直接调用时`this`会指向window对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:28:11.640

尝试 .on() 与多个事件。

```
$("#product_name").on({
    change: function() {
        // Handle change event
    },
    keyup: function() {
        // Handle keyup
    }
}); 
```

和“当页面完成加载时”。利用`$(window).load(function() { });`

# c# - 音乐文件 C# 上的准确 BPM 检测

> ID：15151837
> 
> 赞同：4
> 
> 时间：2013-03-01T06:25:19.270
> 
> 标签：c#, signal-processing

我一直在对此进行大量研究，但仍然遇到麻烦，所以我希望对数字（音频）信号处理有深入了解的人可以为我指明正确的方向。

我很惊讶找到一个可以执行准确节拍检测的库是多么困难。我对 DSP 和 FFT 几乎一无所知。我真正想要的是一个图书馆，我可以简单地说：

```
BPMDetect detector = new BPMDetect();
float bpm = detector.GetBpm(filename); 
```

但显然这要求太高了。我得到的最接近的是使用 SoundTouch 库，但我最近发现那里的 BPM 检测非常不可靠。我知道 bpm 检测不是一门精确的科学，但 SoundTouch 声称我的一个音乐文件是 170 BPM，而 abyssmedia 的 BPM Counter 程序准确地将其设置为 120 BPM。所以我知道这是可能的。我更关心准确性而不是速度。

所以我的问题是：是否有一个 C# 库可以做到这一点而不必了解很多关于 DSP 的知识？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-05-16T00:18:21.293

您应该能够在不借助 FFT 的情况下进行基本的节拍检测。我已经建立了可以做到这一点的节拍检测算法。

基本的想法是把你的音频信号分割成小的时间段，比如 10 毫秒左右。对于每个桶计算 RMS 功率：对于桶中的每个样本 s[i]，归一化为 -1.0...1.0，然后它们计算 s[i]**2 的总和。

现在，您已经在很短的时间内获得了一系列功率（=响度）。

接下来取桶之间的变化率（导数）：d[i] = s[i+1] - s[i]。

导数数组告诉您响度从颗粒到颗粒增加的速度。变化越快，节拍就越强烈。

这是它变得有点巧妙的地方。您在这些 d[i] 值上设置了一个阈值，以决定哪些值突然足以构成一个节拍。然后您进行自相关以查看它们是否稳定并以规则模式排列。

# c++ - MPI_Free_mem 使用 OpenMPI 因分段错误而失败

> ID：15151842
> 
> 赞同：0
> 
> 时间：2013-03-01T06:25:37.463
> 
> 标签：c++, segmentation-fault, mpi, intel, openmpi

我在英特尔 Ubuntu 系统上使用 OpenMPI 和英特尔 C++ 编译器。每当我尝试分别用和调用替换和`new[]`调用`delete[]`时，我总是会遇到分段错误。`MPI_Alloc_mem``MPI_Free_mem`

`MPI_Alloc_mem`调用`MPI_SUCCESS`返回。分段错误发生在对 的调用上`MPI_Free_mem`。`MPI_Alloc_mem`电话与`MPI_INFO_NULL`. 我分别在和中显式地对`void**`和`void*`参数进行了类型转换。`MPI_Alloc_mem``MPI_Free_mem`

我不知道为什么会这样。我会很感激任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T12:37:18.637

首先，除非您打算使用 MPI-2 单向通信，否则绝对没有必要将 C++ 内存管理运算符替换为 MPI 调用。

二、`MPI_ALLOC_MEM`and`MPI_FREE_MEM`在C/C++中的正确​​用法如下：

```
int *arr;

MPI_Alloc_mem(sizeof(int)*1000, MPI_INFO_NULL, &arr); // <-- here arr by address
...
MPI_Free_mem(arr);                                    // <-- here arr by value 
```

# iphone - 表格视图单元格中的内容重叠

> ID：15151846
> 
> 赞同：0
> 
> 时间：2013-03-01T06:25:55.497
> 
> 标签：iphone, uitableview, ios6

我在情节提要中创建了一个带有四个标签的原型单元

然后在我的代码中，我为第一行、最后一行和其他行添加不同的背景图像。对于第一行，所有 4 个标签都被隐藏。

最初屏幕上显示的所有 5 行看起来都不错。但是当我向上滚动查看第 6 行时，它的行为就像第一行并且所有 4 个标签都被隐藏了。

这是我的代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath    *)indexPath
{

Employee *currentEmployee=[Employee sharedData];
NSArray *tempArray =currentEmployee.leaveApproveDict;
static NSString *simpleTableIdentifier = @"approveLeaveCell";

approveLeaveCell *cell = [self.approveLeaveView dequeueReusableCellWithIdentifier:simpleTableIdentifier];
if (cell == nil) {
    cell = [[approveLeaveCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:simpleTableIdentifier];
}

if([tempArray count]!=0){
    if(indexPath.row == 0){
        UIImageView *imgView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"h_t_top_bar.png"]];
        cell.backgroundView = imgView;
        cell.fromLabel.hidden=YES;
        cell.toLabel.hidden=YES;
        cell.typeLabel.hidden=YES;
        cell.nameLabel.hidden=YES;
        [cell setUserInteractionEnabled:NO];
    }
    else{
        if(indexPath.row ==[tempArray count]){
            UIImageView *imgView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"h_t_bottom_bar.png"]];
            cell.backgroundView = imgView;
        }
        else{
            UIImageView *imgView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"h_t_repeat_bar.png"]];
            cell.backgroundView = imgView;

        }

        //assign the data
        if(indexPath.row-1 < [tempArray count]){
            NSDictionary *tempLeave= [currentEmployee.leaveApproveDict objectAtIndex:indexPath.row-1];
            cell.toDateLabel.text=[self extractLeaveDate:(NSString*) [tempLeave objectForKey:@"leaveTo"]];
            cell.fromDateLabel.text=[self extractLeaveDate:(NSString*)[tempLeave objectForKey:@"leaveFrom"]];
            cell.leaveLabel.text=[tempLeave objectForKey:@"leaveType"];
            cell.employeeNameLabel.text=[tempLeave objectForKey:@"requesterName"];

    }
}

return cell;
     } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:40:01.213

同样的问题也发生在我身上。我已经使用两个不同的自定义`UITableViewCell`标识符和两个标识符解决了它。

一个`UITableView`对象维护一个当前可重用单元的队列（或列表），每个单元都有自己的重用标识符，并在`dequeueReusableCellWithIdentifier`: 方法中使它们对委托可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-16T11:37:50.047

```
 /* Remove all existing content from list and reload them again to avoid 
     * overlay of cell content */

    for(UIView *view in cell.contentView.subviews){
        if ([view isKindOfClass:[UIView class]]) {
            [view removeFromSuperview];
        }
    }
// VKJ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:32:55.507

你在你的项目中使用了 ARC 吗？如果你没有使用 arc，那么 cell 应该使用 autorelease：

```
cell = [[[approveLeaveCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:simpleTableIdentifier] autorelease]; 
```

# html - 构建与 IE8 兼容的可调整大小的图形/图表的问题

> ID：15151852
> 
> 赞同：0
> 
> 时间：2013-03-01T06:26:14.080
> 
> 标签：html, css, graph, charts, scale

现在，我使用纯 html 和 css 制作了一个子弹图。没有使用 javascript/jquery 库。

整个 HTML 页面只有带有大小的项目符号图`1000px * 500px`（几乎是整页）。在我的应用程序中，我还需要`300px * 300px`在其他一些新页面中大致显示相同的图表。

现在，我不想为新页面构建另一个更小的图表，我只想能够缩小现有整页版本图表的规模并重用它。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T06:28:01.637

在 CSS 中：

```
transform:scale(0.25);         /* IE 10, Firefox */
-webkit-transform:scale(0.25); /* Chrome */
-ms-transform:scale(0.25);     /* IE 9 */ 
```

根据需要调整比例系数。

另请注意，如果全尺寸图的宽度类似，则可以使用视口单位，`60%`但请注意浏览器支持目前非常低。

```
transform:scale(calc(300px / 60vw)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T10:29:58.687

为了让它在 IE8 上工作，我无法使用**Kolink**建议的转换比例方法，因为它不受支持。所以我不得不完全编辑大图表的副本以缩小它的大小。如果您使用的是 Chrome/Firefox/IE9+，请使用**Kolink 的**方法，它会很棒！

# codeigniter - 多级类别表结构

> ID：15151856
> 
> 赞同：-2
> 
> 时间：2013-03-01T06:26:31.063
> 
> 标签：codeigniter

我需要以下类别和子类别的表结构：

主要类别 第 1 个孩子 第 2 个孩子 第 3 个孩子 电子产品 => 计算机 => 笔记本电脑 => 戴尔 该类别和子类别的完美表格是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:29:39.757

这是你可以做到的

```
id      |   name        |   parent_id
---------------------------------------
1       |   Electronics |   0
2       |   Computer    |   1
3       |   Laptop      |   1
4       |   Dell        |   1
5       |   Dual Core I |   3 
```

0 表示它是父类别。Computer 包含 1 作为父类别，这意味着它是 Electronics 的子类别。Dual Core I 包含 3 意味着它是笔记本电脑的孩子。这样，您可以拥有任意多个级别。

# php - PHP：从安卓浏览器默认下载文件

> ID：15151857
> 
> 赞同：1
> 
> 时间：2013-03-01T06:26:31.807
> 
> 标签：php, android, browser, download

我有代码下载文件，例如：

```
$path = "../wap/file/{$row['file_name']}";
$filename = $row['file_name'];
header("Pragma: public");
header("Expires: 0");
header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
header("Cache-Control: private",false);
header('Content-Type: application/octetstream');
header("Content-Disposition: attachment; filename=\"$filename\"");
header('Content-Type: application/force-download');
header("Content-Type: application/save");
header("Content-Transfer-Encoding: binary");
header('Content-Description: File Transfer');
header("Content-Disposition: attachment; filename=\"{$row['file_name']}\"");
header('Content-Length: ' . filesize($path));
readfile($path); 
```

当我通过 Opera 在 android 上下载文件时，下载成功。但是如果通过安卓的浏览器默认下载文件，下载失败！

# c# - ApiController 没有收到我的 DateTime？

> ID：15151864
> 
> 赞同：2
> 
> 时间：2013-03-01T06:27:17.283
> 
> 标签：c#, jquery, json, controller, asp.net-web-api

我的 ApiController 没有收到`DateTime`包裹在视图模型中的对象。

这是我的控制器的内容。

```
public class FlowApiController : ApiController
{
    // GET api/flowapi
    public async Task<IEnumerable<FlowItemViewModel>> PostNewItems(SinceNullableViewModel input)
    {
        var since = input.Since; //since will be null for some reason

        ...

        return something;
    }
} 
```

然后这是我的 jQuery AJAX 调用。我尝试了许多不同的东西，但没有运气。这就是我目前所拥有的。

```
$.ajax("/api/FlowApi/NewItems", {
    method: "POST",
    data: JSON.stringify({
        Since: new Date()
    })
}); 
```

最后，这是我的`SinceNullableViewModel`.

```
public class SinceNullableViewModel
{
    public DateTime Since { get; set; }
} 
```

我在这里做错了什么？

Chrome 发送数据如下：

![在此处输入图像描述](../Images/7e7deb0d4dd398f5931dfb63d2667fec.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:35:03.077

您非常接近，只需再添加一个标头来`contentType`告诉服务器您正在以 JSON 格式发送：

```
$.ajax("/api/FlowApi/NewItems", {
    method: "POST",
    contentType: "application/json; charset=utf-8",
    data: JSON.stringify({
        Since: new Date()
    })
}); 
```

# java - 从字符串中获取图片链接和文本

> ID：15151866
> 
> 赞同：0
> 
> 时间：2013-03-01T06:27:28.490
> 
> 标签：java, android, regex, string

我有这个字符串

```
<div><img width="100px" src="http://www.mysite.com/Content/dataImages/news/small/some-pic.png" /><br />This is some text that I need to get.</div> 
```

我需要`This is some text that I need to get.`从上面的Java字符串中获取图像链接和文本。谁能告诉我我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:39:11.880

使用正则表达式得到你想要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T08:56:58.033

我的解决方案是：

```
String tmp=xpp.nextText();
desc=android.text.Html.fromHtml(tmp).toString();
img=FindUrls.extractUrls(tmp); 
```

从我使用的字符串中提取文本：

```
desc=android.text.Html.fromHtml(tmp).toString();
img=FindUrls.extractUrls(tmp); 
```

对于字符串中的链接，我使用了这个函数：

```
 public static String extractUrls(String input) {

        String result = null;
        Pattern pattern = Pattern.compile(
            "\\b(((ht|f)tp(s?)\\:\\/\\/|~\\/|\\/)|www.)" + 
            "(\\w+:\\w+@)?(([-\\w]+\\.)+(com|org|net|gov" + 
            "|mil|biz|info|mobi|name|aero|jobs|museum" + 
            "|travel|[a-z]{2}))(:[\\d]{1,5})?" + 
            "(((\\/([-\\w~!$+|.,=]|%[a-f\\d]{2})+)+|\\/)+|\\?|#)?" + 
            "((\\?([-\\w~!$+|.,*:]|%[a-f\\d{2}])+=?" + 
            "([-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)" + 
            "(&(?:[-\\w~!$+|.,*:]|%[a-f\\d{2}])+=?" + 
            "([-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)*)*" + 
            "(#([-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)?\\b");

        Matcher matcher = pattern.matcher(input);
        if (matcher.find()) {
            result=matcher.group();
        }
        return result;
    } 
```

希望它会帮助有类似问题的人

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T07:09:31.507

如果这就是你所要做的，那么引入额外的包是没有意义的，只需使用正则表达式：模式 "(?<=src=\")(.*?)(?=\")" 可用于获取链接，您可以修改它以提供文本。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-01T07:58:07.380

试试这个，如果你必须改变模式。

```
String str = "<div><img width=\"100px\" src=\"http://www.mysite.com/Content/dataImages/news/small/some-pic.png\" /><br />This is some text that I need to get.</div>";
Pattern p = Pattern.compile("src=\"(.*?)\" /><br />(.*?)</div>");
Matcher m = p.matcher(str);
if (m.find()) {
    String link = m.group(1);
    String text = m.group(2);
} 
```

# jsp - 刷新页面导致重新登录？

> ID：15151871
> 
> 赞同：1
> 
> 时间：2013-03-01T06:28:07.537
> 
> 标签：jsp, shiro

我已经在项目中配置了 shiro 来进行用户名/密码验证。“过滤器”和“网址”如下所示。

```
[filters]   
authc.loginUrl = /login.jsp 
shiro.loginUrl = /login.jsp 
[urls]   
/login.jsp = anon, authc 
/index.jsp = authc 
```

现在每当我们访问 index.jsp 时，它都会重定向到 login.jsp，即使我只是刷新 index.jsp。

如果缓存仍然知道该用户已经登录，当我刷新 index.jsp 时，如何让它保持在 index.jsp 上？

顺便说一句，我还没有配置缓存管理器，所以当启动它会弹出错误，如'org.apache.shiro.realm.AuthorizingRealm - 没有设置缓存或缓存管理器属性。无法获取授权缓存。我应该配置如下（我只使用 shiro core & web）？

```
builtInCacheManager = org.apache.shiro.cache.MemoryConstrainedCacheManager 
securityManager.cacheManager = $builtInCacheManager 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:55:58.743

刚开始 shiro 但此链接应该有所帮助：[http](http://raibledesigns.com/rd/entry/java_web_application_security_part2) ://raibledesigns.com/rd/entry/java_web_application_security_part2请参阅“结论”部分。最值得注意的是 authc 如何在当前会话中强制执行身份验证（据我所知，这取决于当前线程调用，可能使用线程本地），因此您不需要 authc 而是特定角色。或示例中的用户，因为这意味着您是已知用户......这与经过身份验证的用户不同（更强的陈述）。

此外，如果区别不明确：通过 shiro 身份验证意味着您刚刚输入了您的用户/通行证，您知道必须是用户。记住的用户已登录，但如果会话尚未过期，您仍处于登录状态，您可以离开，其他人可以坐下。在某些情况下，例如大额支付或其他安全操作（警察或其他敏感信息），您可能希望专门为该服务请求凭据。

# yii - Yii CForm，嵌套表单 Ajax 验证

> ID：15151872
> 
> 赞同：4
> 
> 时间：2013-03-01T06:28:07.747
> 
> 标签：yii, nested-forms

我创建了以下嵌套表单数组；

```
return array(

    'elements' => array(
        'contact' => array(
            'type' => 'form',
            'elements' => array(
                'first_name' => array(
                    'type' => 'text',
                ),
                'last_name' => array(
                    'type' => 'text',
                )
            ),
        ),
        'lead' => array(
            'type' => 'form',
            'elements' => array(
                'primary_skills' => array(
                    'type' => 'textarea',
                ),
            ),
        ),
    ),

    'buttons' => array(
        'save-lead' => array(
            'type' => 'submit',
            'label' => 'Create',
            'class' => 'btn'
        ),
    )
); 
```

我有这样的查看页面

```
echo $form->renderBegin();
echo $form['lead'];
echo $form['contact'];
echo $form->buttons['save-lead']; 
echo $form->renderEnd(); 
```

我的 actionCreate 是这样的

```
$form = new CForm('application.views.leads.register');
$form['lead']->model = new Lead;
$form['contact']->model = new Contact;

// how can i perform ajax validation only for $form['contact']
$this->performAjaxValidation($model); 

//if contact form save btn is clicked
if ($form->submitted('save-lead') && $form['contact']->validate() &&

    $form['lead']->validate()
) {

    $contact = $form['contact']->model;
    $lead = $form['lead']->model;
    if ($contact->save()) {
        $lead->contact_id = $contact->id;
        if ($lead->save()) {
            $this->redirect(array('leads/view', 'id' => $lead->id));
        }
    }
} 
```

ajax验证方法是

```
protected function performAjaxValidation($model)
{
    if (isset($_POST['ajax']) && $_POST['ajax'] === 'contact') {
        echo CActiveForm::validate($model);
        Yii::app()->end();
    }
} 
```

所以我的问题是如何分别对 $form['contact'] 和 $form['lead'] 元素执行 ajax 验证？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-21T08:01:12.027

一个页面中可以有多个表单，但它们不应嵌套。嵌套表单无效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-06T09:03:51.157

嵌套表单无效。您可以使用[场景](http://www.yiiframework.com/wiki/266/understanding-scenarios/)在不同的实例中验证表单。

例子：

```
`if ($form->submitted('save-lead'){
    $form->scenario = 'save-lead';
    if($form->validate()) {
    $form->save();
    }
} else {
    $form->scenario = 'contact';
    if($form->validate()){
      $form->save();
    }
}
$this->render('_form', array('form'=>$form);` 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-22T06:48:16.883

您应该进行自己的验证

在您的控制器的 actionCreate 和 actionUpdate 中，您必须添加（我有主模型“Invoice”和辅助“InvoiceDetails”，并且 InvoiceDetails 可能有多个表单）。但是表单当然不能嵌套！

```
 public function actionCreate()
    { 
     ...
     $PostVar = 'Invoices';
     if (Yii::app()->request->isAjaxRequest)
                { //    if ajax
                $this->performAjaxValidation($model, strtolower($PostVar) . '-form');
                $PostVar = ucfirst($PostVar);

                if (isset($_POST[$PostVar]))
                {
                    $model->attributes = $_POST[$PostVar];
                    $dynamicModel = new InvoiceDetails(); //your model
                    $valid = self::validate($model, $dynamicModel);

                    if (!isset($_POST['ajax']))
                    {

                        if (isset($_POST['InvoiceDetails']))
                        {
                            $allDetails = array();
                            $allDynamicModels = $_POST['InvoiceDetails'];

                            //your own customization
                            foreach ($allDynamicModels as $key => $value)
                            {
                                $InvDet = InvoiceDetails::model()->findByPk($_POST['InvoiceDetails'][$key]['id']);
                                if (!isset($InvDet))
                                {
                                    $InvDet = new InvoiceDetails();
                                }
                                $InvDet->attributes = $_POST['InvoiceDetails'][$key];
                                $InvDet->save();
                                $allDetails[] = $InvDet;
                            }
                        }

                        $model->invoicedetails = $allDetails;

                        if ($model->save())
                        {
                            echo CJSON::encode(array('status' => 'success'));
                            Yii::app()->end();
                        }
                        else
                        {
                            echo CJSON::encode(array('status' => 'error saving'));
                            Yii::app()->end();
                        }
                    }
                    // Here we say if valid
                    if (!isset($valid))
                    {
                        echo CJSON::encode(array('status' => 'success'));
                    }
                    else
                    {
                        echo $valid;
                    }

                    Yii::app()->end();

                }
                else
                {

                    $this->renderPartial('_form', ...);

                }
            }
            else
            {
                // not AJAX request

                $this->render('_form', ...));

            } 
```

# php - 方法重载 - 函数 __call($method, $arguments) PHP

> ID：15151873
> 
> 赞同：0
> 
> 时间：2013-03-01T06:28:08.800
> 
> 标签：php, overloading

这是我第一次使用 Stack ......我对 PHP 真的很陌生......但这是我的问题：

```
<?php
class Address {
    private $street;
    private $city;
    private $state;

    function __construct($s, $c, $st) {
        $this->street = $s;
        $this->city = $c;
        $this->state = $st;
    }
    function setCity($c) {
        $this->city = $c;
    }
    function getCity() {
        return $this->city;
    }
    function setState($s) {
        $this->state = $s;
    }
    function getState() {
        return $this->state;
    }
    function setStreet($s) {
        $this->street = $s;
    }
    function getStreet() {
        return $this->street;
    }
}
class Student {
    private $name;
    private $age;
    private $address;

    function __construct($n, $a, $s, $c, $st) {
        $this->name = $n;
        $this->age = $a;
        $this->address = new Address($s, $c, $st);
    }

    function getName() {
        return ucwords($this->name);
    }

    function getAge() {
        return $this->age;
    }

    function setName($n) {
        $this->name = $n;
    }

    function setAge($a) {
        $this->age = $a;
    }

    function __set($name, $value) {
        $set = "set".ucfirst($name);
        $this->$set($value);
    }

    function __get($name) {
        $get = "get".ucfirst($name);
        return $this->$get();
    }

    function __call($method, $arguments) {
        // JUST NEED CODE HERE TO SOLVE FOR THE PROBLEM
    }

}
$s = new Student('john smith', 50, '100 main street', 'Sunnyvale', 'CA');
echo $s->name;
echo "\n";
echo $s->age;
echo "\n";
echo $s->street . ", " . $s->city . ", " . $s->state;
echo "\n";
$s->street = "50 second street";
$s->city = "Palo Alto";
echo "The address has been updated:\n";
echo $s->street . ", " . $s->city . ", " . $s->state;

$s = new Student("John", 30, new Address("San Jose", "CA"));
$t = clone $s;
$t->name = "Jack";
$t->address->city = "Santa Clara";
echo $s;
echo "\n";
echo $t;
?> 
```

我在这个答案之后，但我只能将代码添加到函数 __call

> John Smith
> 50
> 100 main street, Sunnyvale, CA
> 地址已更新：
> 50 second street, Palo Alto, CA

希望有人能帮忙！

# cakephp - 在 url 路由中找不到命名参数

> ID：15151881
> 
> 赞同：0
> 
> 时间：2013-03-01T06:28:31.093
> 
> 标签：cakephp, cakephp-2.0, url-routing

我有一个关于我们的页面网址，如下所示：

```
base_url/cmsPages/index/cmsid:1 
```

在 routes.php 我已经定义了

```
Router::connect(
        '/about_us',
        array('controller' => 'cmsPages', 'action' => 'index', 'cmsid' => 1), 
    ); 
```

但我没有`cmsid`进入`$this->request->params['named']['cmsid']`。`index action`

请帮忙，我怎么能做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T07:08:42.193

您可以使用以下内容：

```
public function index($cmsid = null) {
    // some code here...
}

// routes.php

Router::connect(
    '/about_us',
    array('controller' => 'cmsPages', 'action' => 'index'),
    array('pass'=>array('cmsid'=>1))
); 
```

有关详细信息，请访问以下链接：

[http://book.cakephp.org/2.0/en/development/routing.html#passing-parameters-to-action](http://book.cakephp.org/2.0/en/development/routing.html#passing-parameters-to-action)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-02T08:37:06.247

试试这个代码来获取命名参数

```
Router::connectNamed(array('id'));
    Router::connect('/about-us:id', array(
        'plugin' => false
        'controller' => 'cmsPages', 
        'action' => 'index'
        ),array(
            "pass"=>array("id")
        ),array(
            'id' => '[0-9]+'
        )
    ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-19T20:49:58.777

如果您使用命名参数，则可以定义此路由

```
Router::connect(
    '/about_us',
    array('controller' => 'cmsPages', 'action' => 'index'),
    array('cmsid'=>1)
); 
```

# android - 无法从 Android 中的 SoftReference 检索位图

> ID：15151882
> 
> 赞同：0
> 
> 时间：2013-03-01T06:28:32.663
> 
> 标签：android

我将位图放入哈希图中：

```
HashMap<String, SoftReference<Bitmap>> imageMap = new HashMap<String, SoftReference<Bitmap>>();

....

bitmap = BitmapFactory.decodeStream(inputstream);

imageMap.put(String.valueOf(i), new SoftReference<Bitmap>(bitmap)); 
```

我每次都增加它，我也得到了位图。

我通过以下方式检索位图：

```
SoftReference<Bitmap> setValue = imageMap.get(String.valueOf(count));

Bitmap bitmap=setValue.get(); 
```

我每次都增加计数。但我只获得特定计数的位图。我们如何从哈希图中获取每个位图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:51:10.367

SoftReference 不保证对象留在内存中，因此如果您收到位图的 null，您应该再次对其进行解码并放入 HashMap。

# android - 在 CRT 电视上显示时，android gridview 布局在屏幕底部缩小

> ID：15151889
> 
> 赞同：0
> 
> 时间：2013-03-01T06:29:06.383
> 
> 标签：android, gridview

我正在尝试开发一个在主要活动中具有网格视图的 android 应用程序，该应用程序将在常规屏幕和旧 CRT 电视上运行..（例如 600X500 像素）..

当我尝试在具有这种分辨率的模拟器上运行它时，它似乎很好..在电脑屏幕上也可以，但在电视上它只需要屏幕顶部 2/3 的优势，并且图标被剪切和滚动.. ![在此处输入图像描述](../Images/b06bdbb0b9a0898f86f75933f7bec38d.png)

这是我在电视屏幕上看到的插图

相关布局文件：

```
<RelativeLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#fffcfafa"
android:gravity="center_horizontal"
>

<GridView xmlns:android="http://schemas.android.com/apk/res/android" 
android:id="@+id/gridview"
android:layout_width="fill_parent" 
android:layout_height="fill_parent"
android:columnWidth="90dp"
android:numColumns="auto_fit"
android:verticalSpacing="20dp"
android:horizontalSpacing="20dp"
android:stretchMode="columnWidth"
android:gravity="center"
/> 
```

显现：

```
 <supports-screens android:resizeable="false"
    android:smallScreens="true" android:normalScreens="true"
    android:largeScreens="true" android:anyDensity="true" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T08:09:26.447

更改可从此调整大小的支持屏幕

```
android:resizeable="false" 
```

对此

```
android:resizeable="true" 
```

希望能帮助到你

# android - Admob 横幅不在屏幕底部

> ID：15151893
> 
> 赞同：2
> 
> 时间：2013-03-01T06:29:21.343
> 
> 标签：android, admob

我为 Admob 编写了代码。这是我的 layout.xml 文件代码：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="#ffffff"
android:id="@+id/relativeLayoutHomeParent"
tools:context=".Home" xmlns:app="http://schemas.android.com/apk/lib/com.google.ads">

<RelativeLayout
    android:id="@+id/relativeLayoutHomeTopBar"
    android:layout_width="match_parent"
    android:layout_height="50dp"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true" >

    <TextView
        android:id="@+id/textView1"
        android:text="Home"
        style="@style/screen_title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

    <ImageView
        android:id="@+id/imageViewHomeSettings"
        android:layout_width="22dp"
        android:layout_height="22dp"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:src="@drawable/set_settings"
        android:layout_marginRight="10dp" />

</RelativeLayout>

<View
    android:id="@+id/view1"
    android:layout_width="match_parent"
    android:layout_height="5dp"
    android:layout_below="@+id/relativeLayoutHomeTopBar"
    android:background="@drawable/shadow" />

<ListView
    android:id="@+id/listViewHome"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:divider="#BDBDBD"
    android:dividerHeight="1dp"
    android:layout_below="@+id/view1" >
</ListView>

<com.google.ads.AdView
    android:id="@+id/adView"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    app:adSize="BANNER"
    app:adUnitId="a1512f50d8c3692"
    app:loadAdOnCreate="true"
    app:testDevices="TEST_EMULATOR, TEST_DEVICE_ID" >
</com.google.ads.AdView> 
```

输出：

![截屏](../Images/9b994a49d11406a85b99008e9bc29da9.png)

我的activity.java代码：

```
package com.walletapp;

import android.app.Activity;
 import android.app.AlertDialog;
 import android.app.AlertDialog.Builder;
 import android.content.DialogInterface;
 import android.content.Intent;
 import android.content.pm.ActivityInfo;
 import android.database.sqlite.SQLiteDatabase;
 import android.os.Bundle;
 import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
   import android.widget.LinearLayout;
import android.widget.ListView;
import android.widget.RelativeLayout;
import android.widget.TextView;
import android.widget.Toast;

import com.google.ads.AdRequest;
import com.google.ads.AdSize;
import com.google.ads.AdView;

public class Home extends Activity
{
ListView listview_home;
ImageView imageview_settings;
SQLiteDatabase database;
String database_name = "WalletAppDatabase";
private AdView adView;

@Override
protected void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_home);

    this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);

    imageview_settings = (ImageView) findViewById(R.id.imageViewHomeSettings);
    imageview_settings.setClickable(true);
    imageview_settings.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v)
        {               
            startActivity(new Intent(Home.this, Settings.class));
        }
    });

    String[] home_items = new String[] {"All", "Categories", "Tags", "Favourites"};
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, R.layout.single_row_home, R.id.textViewSingleRowHome, home_items);
    listview_home = (ListView) findViewById(R.id.listViewHome);
    listview_home.setAdapter(adapter);
    listview_home.setOnItemClickListener(new OnItemClickListener()
                                        {
                                            @Override
                                            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3)
                                            {
                                                String selected = ((TextView) arg1.findViewById(R.id.textViewSingleRowHome)).getText().toString();

                                                switch(arg2)
                                                {
                                                    case 0:

                                                        Toast.makeText(getBaseContext(), "Yet to be code for "+selected, Toast.LENGTH_SHORT).show();
                                                        break;

                                                    case 1:

                                                        Toast.makeText(getBaseContext(), "Yet to be code for "+selected, Toast.LENGTH_SHORT).show();
                                                        break;

                                                    case 2:

                                                        Toast.makeText(getBaseContext(), "Yet to be code for "+selected, Toast.LENGTH_SHORT).show();
                                                        break;

                                                    case 3:

                                                        Toast.makeText(getBaseContext(), "Yet to be code for "+selected, Toast.LENGTH_SHORT).show();
                                                        break;
                                                }
                                            }
                                        }
                                    );

    adView = new AdView(this, AdSize.BANNER, "a1512f50d8c3692");
    RelativeLayout layout = (RelativeLayout)findViewById(R.id.relativeLayoutHomeParent);
    layout.addView(adView);
    adView.loadAd(new AdRequest());
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event)
{
    if(keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount() == 0)
    {
        showQuitDialog();
        return true;
    }
    return super.onKeyDown(keyCode, event);
}

private void showQuitDialog()
{
    AlertDialog.Builder adb = new Builder(this);
    adb.setTitle("Warning !!!");
    adb.setMessage("Are you sure you want to quit ?");
    adb.setIcon(R.drawable.ic_launcher);
    adb.setPositiveButton("Yes",new DialogInterface.OnClickListener()
                                    {
                                        public void onClick(DialogInterface arg0, int arg1)
                                        {
                                            if(database.isOpen())
                                                database.close();
                                            finish();
                                        }
                                    }
                        );

    adb.setNegativeButton("No",new DialogInterface.OnClickListener()
                                    {
                                        public void onClick(DialogInterface arg0, int arg1)
                                        {
                                            arg0.dismiss();
                                        }
                                    }
                            );
    AlertDialog ad = adb.create();
    ad.show();
}

@Override
public void onDestroy()
{
    if (adView != null)
    {
        adView.destroy();
    }
    super.onDestroy();
}
} 
```

我想要屏幕底部的顶部栏（是的那个黑条）。我也为它写过，但它显示输出如上图。

另外我不明白哪一个是admob横幅，顶部的还是底部的？？谁能解释一下这两个酒吧的区别。其实我是新手。这是我第一次为 admob 编写代码。请帮助我学习这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T10:18:24.373

两者都是`admob banner`。如果您希望在底部显示广告，请从您的底部删除以下代码，`Activity`因为您已经在底部的 xml 中添加了代码。

```
adView = new AdView(this, AdSize.BANNER, "a1512f50d8c3692");
RelativeLayout layout = (RelativeLayout)findViewById(R.id.relativeLayoutHomeParent);
layout.addView(adView);
adView.loadAd(new AdRequest()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-01T10:24:01.117

只需删除这个：

```
adView = new AdView(this, AdSize.BANNER, "a1512f50d8c3692");
RelativeLayout layout = (RelativeLayout)findViewById(R.id.relativeLayoutHomeParent);
layout.addView(adView);
adView.loadAd(new AdRequest()); 
```

您的 xml 布局中已经有一个 adView。

相反，请执行以下操作：

```
adView = (AdView) findViewById(R.id.adView);
adView.loadAd(new AdRequest()); 
```

但是，您可能希望在加载广告之前编辑该 AdRequest。这实际上是可选的，取决于您，但如果您这样做，您的收入将（据说）增加。

而且，请在 SO 中复制粘贴代码之前，先对其进行格式化。在 Eclipse 中，您只需按`Ctrl + Shift + F`

# git - Git 描述构建依赖

> ID：15151899
> 
> 赞同：4
> 
> 时间：2013-03-01T06:29:48.363
> 
> 标签：git, build

我`git describe --tags --dirty --long`用来获取一个在我的库中使用的字符串，`const char []`以便在只有二进制文件时知道（例如通过打印）git-revision。

我正在生成一个与所有其他文件一起编译的文件（gitref.c）。我最近意识到，当我更改克隆中的 git 修订版然后重新运行时，`gitref.c`不会重新生成构建过程。这很正常——没有依赖性。

我发现对*.git/HEAD*的依赖是一个很好的开始，并且在大多数情况下都有效。这种依赖够吗？如果没有，添加（文件）依赖项的正确方法是什么？

**编辑**：感谢@BenJackson：标记这还不够 - *HEAD*没有改变。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T08:25:38.700

恕我直言，唯一的解决方案是认为这个文件总是过时的，有一个虚假的依赖。每次编译时，都*必须*重新生成。一个稍微更优雅的解决方案是始终生成 a`gitref.c.tmp`然后将其复制到`gitref.c`仅当文件不同时（例如，在*NIX 类系统上，您可以使用`cmp`它们来逐字节比较它们）。如果它们相同，只需删除临时文件。

**编辑**：以下`Makefile`片段对我有用

```
PHONY: gitref_dummy
gitref_dummy:
gitref.c: gitref_dummy
    @echo "const char *gitref = \"$$(git describe --tags --dirty --long)\";" > \
        gitref.c.tmp
    @cmp -s gitref.c.tmp gitref.c || \
        (echo "Updating gitref.c"; mv gitref.c.tmp gitref.c)
    @rm -f gitref.c.tmp 
```

# javascript - 无法让 AnyOrigin 加载 int iframe

> ID：15151900
> 
> 赞同：3
> 
> 时间：2013-03-01T06:29:53.490
> 
> 标签：javascript

我正在尝试使用 AnyOrigin 将 url 加载到我的 iframe 中：

**问题**：它加载了一个空框架，我做错了什么？

**代码**：

```
<!DOCTYPE HTML>
<html>
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<meta charset="utf-8">
<script type="text/javascript">
$.getJSON('http://anyorigin.com/get?url=google.com&callback=?', function(data){
    $('#output').html(data.contents);
});
    </script>
</head>
<body>
<iframe id="output"></iframe>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T06:35:18.200

Anyorigin 使用 JSONP，因此您无需使用 AJAX 调用加载它。相反，`callback`查询参数应该是一个函数名，你应该像普通脚本标签一样加载它：

```
<script src="http://anyorigin.com/get?url=google.com&callback=myCallbackFunction"></script> 
```

加载脚本时，它会自动执行您在回调查询参数中指定的名称的函数。当然，要让它工作，你需要一个这样定义的函数：

```
<script>

    function myCallbackFunction(myData) {
         //myData.contents has your html, do something here
    }

</script> 
```

请注意，函数**必须在脚本之前定义**，因此要么需要动态嵌入脚本，要么需要在脚本之前定义函数。

有一些棘手的部分，例如您如何填充 iframe，以及需要如何声明函数回调，所以我在这里包含了一个完整的示例：

```
<html>
<head>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script>
function myCallbackFunction(myData) {
    $(function() {
        $("#test").contents().find('html').html(myData.contents);
    });
}
</script>
<script src="http://anyorigin.com/get?url=http://google.com/&callback=myCallbackFunction"></script>
</head>
<body>
</body>
<iframe id='test' style='width: 100%; height: 100%'>

</html> 
```

请注意，我已经在 jquery 文档 onload 事件中包装了更新 iframe 内容的调用。如果没有这样做，那么调用将尝试在 iframe 存在之前填充它，并且会静默失败。

# sql-server - Microsoft SQL Server 2005 和 2008 中数据库的最大容量是多少？

> ID：15151901
> 
> 赞同：0
> 
> 时间：2013-03-01T06:29:53.680
> 
> 标签：sql-server

Microsoft SQL Server 2005 和 2008 中数据库的最大容量是多少？单个数据库可以容纳多少数据？我想要一个可以存储无限数据的数据库 - 哪个版本更好？

我使用 ASP.NET/C# 作为前端。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:35:12.300

**SQL 2005：**最大 DB 大小：524,258 TB，最大 DB 文件大小：16 TB

[http://msdn.microsoft.com/en-us/library/ms143432(v=sql.90).aspx](http://msdn.microsoft.com/en-us/library/ms143432(v=sql.90).aspx)

**SQL 2008：**最大 DB 大小：524,272 TB，最大 DB 文件大小：16 TB

[http://msdn.microsoft.com/en-us/library/ms143432(v=sql.100).aspx](http://msdn.microsoft.com/en-us/library/ms143432(v=sql.100).aspx)

# javascript - 等效于 vbscript Now 和 Time() 的 Javascript

> ID：15151902
> 
> 赞同：1
> 
> 时间：2013-03-01T06:29:58.903
> 
> 标签：javascript, vbscript

我想将 vb 脚本 Now 和 Time() 转换为 javascript。谁能帮我 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T06:30:38.287

当您在 JavaScript 中创建一个新的[Date 对象](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date)时，默认情况下，它会自动为当前时间创建。然后，您可以使用对象的属性来获取有关当前日期和时间的信息。

```
var date = new Date();
var d = date.day;
var m = date.month;
var y = date.year; 
```

如果需要精确值，也可以使用`date.value`自 1970 年 1 月 1 日以来的毫秒数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:40:47.830

## VBScript 现在

```
document.write(Now)

Output
m/d/yyyy hh:mm:ss AM/PM 
```

## JavaScript 等效

```
var datetime = {
    d: new Date(),
    now: function () {
        return this.today() + " " + this.time();
    },
    time: function () {
        var ampm = this.d.getHours() > 11 ? "PM" : "AM";
        return this.d.getHours() + ":" + this.d.getMinutes() + ":" + this.d.getSeconds() + " " + ampm;
    },
    today: function () {
        var month = this.d.getMonth() + 1;
        return month + "/" + this.d.getDate() + "/" + this.d.getFullYear();
    }
};

console.log(datetime.now()); 
```

**OP**提到了与我在工作机器上看到的不同的约会格式。现在我回家了，我为 VBScript 的 Now 获得了不同的价值。我会留下我原来的`datetime`对象。有一天它可能对某人有所帮助。但是要从 JavaScript 获得类似的输出，您只需分配一个新的日期对象并调用它的`toString()`方法。我现在看到类似的结果：

### 在 JavaScript 中

```
var now = (new Date()).toString();
console.log(now); // ATM: Fri Mar 1 22:17:40 PST 2013 
```

### 与现在的 VBS 相比

```
document.Write(Now) // ATM:Fri Mar 1 22:17:40 PST 2013 
```

# html - 为什么会显示我隐藏的 HTML 表单域？

> ID：15151904
> 
> 赞同：1
> 
> 时间：2013-03-01T06:30:05.103
> 
> 标签：html, forms, hidden-field

我正在尝试将一些数据放在一个隐藏的表单字段中以进行 POST。但是该字段显示在我的网页上。没有样式或样式表。以下是字段的定义方式。有任何想法吗？

```
 <form action="GetUserPics.php" method="post">
        <input type=”hidden” name=”picIndex” value="WHAT?">
        <input type="submit" value="previous">
    </form> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:32:06.133

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:31:22.247

因为您没有使用 ASCII 引号，所以您使用了某种奇怪的斜引号，HTML 试图将其用作类型（因此它将回退为文本）。有趣的是，您没有使用它们来打印`value`，这顺便隐藏了您的错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:31:50.873

```
<input type=”hidden” name=”picIndex” value="WHAT?"> 
```

这些不是常规的双引号。尝试

```
 <input type="hidden" name="picIndex" value="WHAT?"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-01T06:33:18.160

Can you replace your hidden type input with this:

```
<input type="hidden" name="picIndex" value="WHAT?"/> 
```

# jquery - 长 DOM 追加后的 Jquery 动画

> ID：15151906
> 
> 赞同：2
> 
> 时间：2013-03-01T06:30:21.790
> 
> 标签：jquery, html, jquery-animate

我想从右到左为 div 设置动画。在此之前，我必须在其中附加 long dom。如果我一起做动画不流畅。请参阅此[Fiddle](http://jsfiddle.net/sathyamoorthi/HTyUf/2/)进行现场演示。

点击“点击 1”——做一个流畅的动画。
单击“重置”。
单击“单击 2” - 动画效果不佳。

-任何帮助？

**HTML：**

```
<div>
    <div id="main-div" style="display: inline-block">
        <div id="div-1" class="inner-div">
        </div>
        <div id="div-2" class="inner-div" style="left: 300px; background-color: yellow">
        </div>
    </div>    
    <div style="display: inline-block; vertical-align: top">
        <input type="button" value='Call 1' onclick='DoAnimate(15)'/>
        <input type="button" value='Call 2' onclick='DoAnimate(4000)'/>        
        <input type="button" value='Reset' onclick='Reset()'/>
    </div>
</div> 
```

**JS：**

```
function DoAnimate(count)
{
    $("#div-2").empty();

    for(var i = 0; i < count; i ++)
    {
        $("#div-2").append("<div> DIV " + i + "</div>");
    }

    $("#div-1").animate({left: -300}, 300);
    $("#div-2").animate({left: 0}, 300);
}

function Reset()
{
    $("#div-2").empty();

    $("#div-1").animate({left: 0}, 300);
    $("#div-2").animate({left: 300}, 300);
} 
```

**CSS：**

```
#main-div
{
    position: relative;
    height: 400px;
    width: 300px;
    background-color: red;
    overflow: hidden;
}

.inner-div
{
    height: 400px;
    width: 300px;
    background-color: pink;
    position: absolute;
    top: 0px;
    left: 0px;
    overflow: auto;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:43:17.300

基本上，简所说的。

将这些新构建的元素附加到 documentFragment 或 jQuery 对象而不是 DOM。

```
 ...
    $("#div-2").empty();
    var $wrapper = $('<div />');
    for(var i = 0; i < count; i ++) {
        $wrapper.append("<div> DIV " + i + "</div>");
    }
    $("#div-2").append($wrapper)    
    ... 
```

[http://jsfiddle.net/72CdX/](http://jsfiddle.net/72CdX/)

# html - 防止元素参与文本选择

> ID：15151908
> 
> 赞同：6
> 
> 时间：2013-03-01T06:30:32.027
> 
> 标签：html, css, textselection

我有一些源代码在`<pre><code>`一个单独的`<div>`. 当文本被选中时，行号随之而来，随后被复制。有什么方法可以防止行号成为选择的一部分，即使我选择了源代码块上方和下方的元素？

我想避免使用 JavaScript，以使浏览时关闭它的人受益。（使用 JavaScript，我会添加一个按钮来隐藏行号）。

`unselectable="on"`并且各种特定于供应商的`user-select`CSS 属性不起作用；数字仍然被选中和复制。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-01T06:58:44.593

给出要阻止选择 id 的元素。

然后把它放在你的 CSS 中：

```
#id-name {
   -webkit-touch-callout: none;
   -webkit-user-select: none;
   -khtml-user-select: none;
   -moz-user-select: none;
   -ms-user-select: none;
   user-select: none;
}
::-moz-selection {
   background: transparent;
}
::selection { 
   background: transparent; 
} 
```

# python - 如何检查 Django 数据库表的每一行字段中的 True 或 False 值并基于它执行计算？

> ID：15151916
> 
> 赞同：0
> 
> 时间：2013-03-01T06:30:57.037
> 
> 标签：python, django, django-models

我的 Django 应用程序中有一个表，它具有以下模型类：-

```
 class LiveRoutes(models.Model):
       user = models.ForeignKey(User)
       route = models.ForeignKey(UserRoutes)
       status = models.ForeignKey(LiveRoutesStatus)
       traveller = models.ManyToManyField('LiveRouteTravellers')
       datetime = models.DateTimeField()
       calculated = models.NullBooleanField()
       def __unicode__(self):
         return self.route.__unicode__() 
```

我想定义一个函数来对每一行的数据进行计算，并且在执行计算之后，我想将计算值设置为 False，这样我就不会再计算了。我不确定如何实现这一目标？OR 是否有可能实现？

```
 def CheckTheCalculateField(self):
         #code to check the value in calculate field of each row 
```

任何帮助都将受到高度赞赏和感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:46:40.783

像这样的东西：

```
for route in LiveRoutes.objects.filter(calculated=False).iterator():
    # Do your calculation

    route.calculated = True
    route.save() 
```

你有一个复杂的地方，你计算为`NullBooleanField`. 您可能希望它作为一个普通的布尔字段，默认为`False`.

根据调用方式以及同时发生的其他活动，您还会遇到数据库事务的许多潜在问题。

另一种方法是 django-async。这样，您将发布一份工作来进行一段时间后发生的计算。见[https://pypi.python.org/pypi/django-async/](https://pypi.python.org/pypi/django-async/)

# android - 应用程序第一次启动时只运行一次 AsyncTask

> ID：15151920
> 
> 赞同：0
> 
> 时间：2013-03-01T06:31:24.247
> 
> 标签：android, android-asynctask, sharedpreferences

我只想在应用程序第一次启动时在 android 中运行一次 AsyncTask。

我试图将共享首选项放在 onCreate 中，但它没有用。还有其他想法吗？

```
SharedPreferences prefscrt = PreferenceManager.getDefaultSharedPreferences(this);
        if(!prefscrt.getBoolean("firstTime", false)) {
        Log.d("DownloadManager", "Installing First Time");  

new Task().execute();  //THIS WON'T WORK

SharedPreferences.Editor editor = prefscrt.edit();
        editor.putBoolean("firstTime", true);
        editor.commit();
        } 
```

在此先感谢马兹

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:39:09.543

试试这个代码：

```
SharedPreferences prefs = getSharedPreferences("firstTime", MODE_PRIVATE);
registartion = prefs.getBoolean("firstTime", false); 
```

现在把你的 if 条件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:39:29.530

> 1.首先检查值是否为空，如果为空，则使用 sharedpref 并保存它们.. 2.但在第二次再次检查他们是否已经 sharedpref 运行您的代码。

```
private Boolean firstTime = null;
  SharedPreferences mPreferences = this.getSharedPreferences("first_time", Context.MODE_PRIVATE);
  firstTime = mPreferences.getBoolean("firstTime", true);
  private boolean isFirstTime() {
 if(firstTime == null) {
      SharedPreferences.Editor editor = mPreferences.edit();
      editor.putBoolean("firstTime", false);
      editor.commit();
      new Task().execute(); 
  if (firstTime!=null) {

    }
}
return firstTime;
} 
```

# git - 恢复到 git 分支中的最后一次提交

> ID：15151922
> 
> 赞同：1
> 
> 时间：2013-03-01T06:31:36.647
> 
> 标签：git, merge, branch

我有以下分支

1.  掌握
2.  相片
3.  电子邮件

我的问题是我已将`master`分支合并到`photos`分支中，并且发生冲突是因为我对同一个文件进行了更改。然后我`reset --hard HEAD`和`photos`分支回到第一次创建时的默认值。如何`photos`在与分支合并之前将分支更改为最后一次提交`master`？

我想使用`git checkout HEAD`，但我找不到分支的历史记录或日志 git `photos`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T06:34:17.707

您可以查看对分支指向`git reflog photos`的位置的修改。`photos`找到合并之前的`reset --hard`那个，而不是`HEAD`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-01T06:33:38.530

您可以尝试`git reflog`查看是否可以找到该提交，然后`git reset --hard <commit>`恢复您的分支。

# json - 值本身是有效的 JSON 字符串吗？

> ID：15151926
> 
> 赞同：0
> 
> 时间：2013-03-01T06:31:48.573
> 
> 标签：json, parsing

在 JSON API 中，返回单个值是否有效，例如`123`,`"somestring"`或`null`？

我阅读了[JSON 规范](http://www.json.org/)，其中指出：

> JSON 建立在两种结构之上：
> 
> *   名称/值对的集合。在各种语言中，这被实现为对象、记录、结构、字典、哈希表、键控列表或关联数组。
> *   值的有序列表。在大多数语言中，这被实现为数组、向量、列表或序列。

但我不清楚这是否意味着只有对象和数组是有效的 JSON，或者它们自己的值是否也有效（即任何兼容的解析器都会正确解析）。

任何的想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:34:41.617

不，它无效。如果您想尝试任何东西，请查看[此内容。](http://jsonlint.com/)

两种结构如下：

某种键值对：

```
{
  "key": "value"
} 
```

或数组

```
['value', 'value'] 
```

或两者的任意组合

```
[{"key":"value"}, "value", ["a", "list", {"another":['list']}]] 
```

但是，它们本身的值（数字、字符串、布尔值等）本身是无效的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:36:05.853

123 是名称/值对的集合吗？不它不是。
123 是一个有序的值列表吗？不它不是。

因此，123 不是有效的 JSON 字符串。

编辑：正如 gdoron 所建议的，您可以使用 JSON 解析器（例如[此处](http://json.parser.online.fr/)）来测试您的单个值。

# android - 如何在操作栏宽度上均匀分布 TAB？

> ID：15151931
> 
> 赞同：1
> 
> 时间：2013-03-01T06:31:54.103
> 
> 标签：android, actionbarsherlock

提出了[这个](https://stackoverflow.com/questions/15134731/custom-actionbar-is-partially-visible)问题并提出了在 TOP 上使用带有自定义 ActionBar 的 TABS 的建议。创建了三个 TABS，但它们向左对齐，并且有足够的空间可以拉伸。

如何在宽度上均匀分布 TABS？我正在使用 ABS。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T08:13:22.737

您可以在 Jake Wharton 的 github 中找到 ABS 的所有功能的演示。选项卡示例在这里，并且应该在几行中处理所有内容。

[https://github.com/JakeWharton/ActionBarSherlock/blob/master/samples/demos/src/com/actionbarsherlock/sample/demos/TabNavigation.java](https://github.com/JakeWharton/ActionBarSherlock/blob/master/samples/demos/src/com/actionbarsherlock/sample/demos/TabNavigation.java)

# json - 无法通过 angularJS 服务访问 JSON 代码的属性

> ID：15151932
> 
> 赞同：0
> 
> 时间：2013-03-01T06:31:54.240
> 
> 标签：json, angularjs

我正在尝试通过 AngularJS 工厂和服务方法访问以下 JSON 结构的属性：

```
{
    "@context": {
        "firstname": "http://xmlns.com/foaf/0.1/firstname",
        "lastname": "http://xmlns.com/foaf/0.1/lastname"
    },
    "members":[
        {
            "firstname":"Debjit",
            "lastname":"Kumar"
        },
        {
            "firstname":"Hari",
            "lastname":"Haran"
        },
        {
            "firstname":"Kaushik",
            "lastname":"Shrestha"
        }
    ]
} 
```

但我无法检索检索到的 JSON 对象的属性。以下是我的 angularJS 代码：

```
angular.module('rdfa',['ngResource']).config(['$routeProvider', function ($routeProvider) {
    $routeProvider.when('/', {controller: RdfaCtrl});
}])
.factory('members', function($resource){
    return $resource('Json.json', {}, { query: {method:'GET', isArray:false} } );
})
.service('jsonservice',function(members){
    this.members=members.query();
});
function RdfaCtrl($scope,jsonservice){
    $scope.members=jsonservice.members.members;
    console.log(jsonservice.members);  // outputs correct JSON structure
    console.log(jsonservice.members.members);  // outputs undefined
    console.log(jsonservice.members['@context']);  // outputs undefined
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T12:25:02.423

您正在发出异步 HTTP 请求，您不能只是简单地在同一个调用周期打印输出。为此，您需要在`query`操作中添加成功回调处理程序，例如：

```
members.query(function(value) {
  console.log(value); // Resource object
  console.log(value.members); // members object      
  console.log(value['@context']);  // @context object
}); 
```

检查此 plunker 以获取工作示例：[http ://plnkr.co/edit/TFlQ6cDkIA3rpjkvHtOA?p=preview](http://plnkr.co/edit/TFlQ6cDkIA3rpjkvHtOA?p=preview)

# eventbrite - 我们想要一份来自 Eventbrite 的漂亮事件列表

> ID：15151933
> 
> 赞同：0
> 
> 时间：2013-03-01T06:31:56.770
> 
> 标签：eventbrite

我是 Eventbrite 的新手。我想使用 event_search() 方法列出来自 Eventbrite 的事件。我正在使用以下 url 和用户 api 密钥 ( [https://www.eventbrite.com/userkeyapi](https://www.eventbrite.com/userkeyapi) )： [https://www.eventbrite.com/xml/event_search?app_key=userapikey&keywords=&city=&dat](https://www.eventbrite.com/xml/event_search?app_key=userapikey&keywords=&city=&dat)。

但是我收到一条错误消息，例如

`<error><error_message>This application key is not valid.</error_message> <error_type>Application Key Error</error_type></error>`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T19:49:26.773

您需要一个[API 密钥](https://www.eventbrite.com/api/key)，而不是[用户密钥](https://www.eventbrite.com/userkeyapi/)- 请参阅[http://developer.eventbrite.com/doc/authentication/](http://developer.eventbrite.com/doc/authentication/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:13:38.103

您可以使用“organizer_list_events”方法从 Eventbrite 获取您的事件列表。

[https://www.eventbrite.com/xml/organizer_list_events?app_key=](https://www.eventbrite.com/xml/organizer_list_events?app_key=) {您的应用程序密钥}&id={您的 id}。我用这种方法成功获得了我的事件列表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-30T11:41:01.497

您可以使用“organizer_list_events”方法从 Eventbrite 获取您的事件列表。

[https://www.eventbrite.com/xml/organizer_list_events?app_key=](https://www.eventbrite.com/xml/organizer_list_events?app_key=) {您的应用程序密钥}&id={您的 id}。我用这种方法成功获得了我的事件列表。此代码不起作用

# neo4j - Neo4J 性能基准测试

> ID：15151934
> 
> 赞同：5
> 
> 时间：2013-03-01T06:31:58.703
> 
> 标签：neo4j, kundera

[我已经通过 Neo4J ( https://github.com/impetus-opensource/Kundera/tree/trunk/kundera-neo4j](https://github.com/impetus-opensource/Kundera/tree/trunk/kundera-neo4j) )创建了一个高级客户端的基本实现，并希望将其性能与 Native neo4j 驱动程序进行比较（也许还有 SpringData ）。这样我就可以确定我的库对本机驱动程序的开销。

我计划为 Neo4J 创建 YCSB 的扩展。

我的问题是：什么应该被视为要写入neo4j的对象的基本单元（应该是单个节点还是由边缘连接的几个节点）。Neo4J 世界目前的做法是什么。人们如何对 neo4j 性能进行基准测试。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-02T17:51:37.253

已经有一些使用 Gatling 对 Neo4J 进行基准测试的工作：http: [//maxdemarzi.com/2013/02/14/neo4j-and-gatling-sitting-in-a-tree-performance-test-ing/](http://maxdemarzi.com/2013/02/14/neo4j-and-gatling-sitting-in-a-tree-performance-t-e-s-t-ing/)

你也许可以适应它。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-03-09T14:26:34.227

参见[graphdb-benchmarks](https://github.com/socialsensor/graphdb-benchmarks)

项目 graphdb-benchmarks 是流行的图形数据库之间的基准。目前该框架支持 Titan、OrientDB、Neo4j 和 Sparksee。该基准测试的目的是检查每个图形数据库在执行时间方面的性能。基准测试由四个工作负载组成，集群、大规模插入、单次插入和查询工作负载。每个工作负载都旨在模拟图形数据库系统中的常见操作。

**聚类工作负载 (CW)：** CW 由著名的用于模块化优化的社区检测算法 Louvain 方法组成。我们在基准图形数据库之上调整算法，并采用缓存技术来利用图形数据库功能和内存执行速度。我们测量算法需要收敛的时间。

**大规模插入工作负载 (MIW)：**创建图形数据库并将其配置为进行大规模加载，然后我们使用特定数据集填充它。我们测量创建整个图的时间。

**单次插入工作负载 (SIW)：**创建图形数据库并使用特定数据集加载它。每个对象插入（节点或边）都直接提交，并且图形是增量构建的。我们测量每个块的插入时间，其中包括一千条边和在这些边插入期间出现的节点。

**查询工作负载（QW）：**执行三个常见查询： FindNeighbours（FN）：查找所有节点的邻居。FindAdjacentNodes (FA)：查找所有边的相邻节点。FindShortestPath (FS)：查找第一个节点和 100 个随机选取的节点之间的最短路径。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T12:20:02.553

性能测试的一种方法是使用例如[http://gatling-tool.org/](http://gatling-tool.org/)。在[http://ldbc.eu](http://ldbc.eu)上创建基准框架的工作正在进行中。否则，基准测试高度依赖于您的域数据集和您尝试执行的查询。也许您可以从[https://github.com/neo4j/performance-benchmark](https://github.com/neo4j/performance-benchmark)开始并改进它？

# android - 如何在android中将多个图像组合成一个图像？

> ID：15151937
> 
> 赞同：15
> 
> 时间：2013-03-01T06:32:09.987
> 
> 标签：android, image

我正在开发一个 android 的分布式应用程序。我已将单个图像拆分为 4 个部分，然后对其进行处理。现在我想将 4 个位图图像组合成一个图像。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-01T06:54:47.577

```
Bitmap[] parts = new Bitmap[4];
Bitmap result = Bitmap.createBitmap(parts[0].getWidth() * 2, parts[0].getHeight() * 2, Bitmap.Config.ARGB_8888);
Canvas canvas = new Canvas(result);
Paint paint = new Paint();
for (int i = 0; i < parts.length; i++) {
    canvas.drawBitmap(parts[i], parts[i].getWidth() * (i % 2), parts[i].getHeight() * (i / 2), paint);
} 
```

像这样的东西=）

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-01T06:55:05.903

以下代码将帮助您将四个位图合二为一。调用此方法 3 次以合并四张图像。

第 1 步：合并前两个图像

第2步：合并重命名的两个图像

第 3 步：合并两个新创建的位图

```
public static Bitmap overlay(Bitmap bmp1, Bitmap bmp2) {
        Bitmap bmOverlay = Bitmap.createBitmap(bmp1.getWidth(), bmp1.getHeight(), bmp1.getConfig());
        Canvas canvas = new Canvas(bmOverlay);
        canvas.drawBitmap(bmp1, new Matrix(), null);
        canvas.drawBitmap(bmp2, 0, 0, null);
        return bmOverlay;
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-12-19T12:42:09.563

您需要创建一个位图类型的函数。也就是说，它返回一个位图数据类型。该函数应该有一个数据类型 Bitmap 的参数，它是一个数组。

[**在此处下载演示**](http://whats-online.info/science-and-tutorials/92/how-to-combine-multiple-images-into-a-single-image-in-android/)

您将图像作为位图数组传递给函数。这是我们的功能，不仅可以合并四张图像，还可以合并任意大小的图像。

```
private Bitmap mergeMultiple(Bitmap[] parts){

    Bitmap result = Bitmap.createBitmap(parts[0].getWidth() * 2, parts[0].getHeight() * 2, Bitmap.Config.ARGB_8888);
    Canvas canvas = new Canvas(result);
    Paint paint = new Paint();
    for (int i = 0; i < parts.length; i++) {
        canvas.drawBitmap(parts[i], parts[i].getWidth() * (i % 2), parts[i].getHeight() * (i / 2), paint);
    }
        return result;
    } 
```

最后你完成了..[**在这里阅读更多**](http://whats-online.info/science-and-tutorials/92/how-to-combine-multiple-images-into-a-single-image-in-android/)

# appcelerator-mobile - 显示钛加速器的 Permission Denial 错误

> ID：15151944
> 
> 赞同：0
> 
> 时间：2013-03-01T06:32:33.277
> 
> 标签：appcelerator-mobile

我使用了下面的代码

var findus = Ti.Contacts.getPeopleWithName('john');

我得到的错误是

未捕获的错误：权限被拒绝：从 pid=277、uid=10045 读取 com.android.providers.contacts.contactsprovider2 uri content://com.android.contacts/data 需要 android.permission。READ_CONTACTS

但我已将以下几行放在 tiapp.xml

```
 <android xmlns:android="http://schemas.android.com/apk/res/android"> <manifest>
  <uses-   permission android:name="com.get.permission.READ_CONTACTS"
  android:protectionLevel="signature"/> </manifest> </android> 
```

安卓版本：2.2 sdk：1.8.2 os

请帮忙解决这个问题…………

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T09:04:52.703

您似乎没有申请授权。

请在访问联系人之前请求授权。以下示例来自 Titanium 文档 ( [http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.Contacts](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.Contacts) )：

```
var performAddressBookFunction = function(){
    var findus = Ti.Contacts.getPeopleWithName('john');
};
var addressBookDisallowed = function(){alert('Sorry');};
if (Ti.Contacts.contactsAuthorization == Ti.Contacts.AUTHORIZATION_AUTHORIZED){
    performAddressBookFunction();
} else if (Ti.Contacts.contactsAuthorization == Ti.Contacts.AUTHORIZATION_UNKNOWN){
    Ti.Contacts.requestAuthorization(function(e){
        if (e.success) {
            performAddressBookFunction();
        } else {
            addressBookDisallowed();
        }
    });
} else {
    addressBookDisallowed();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-25T23:01:36.853

权限的名称是“ *android* .permission.READ_CONTACTS”而不是“com.get.permission.READ_CONTACTS”。

在您的 tiapp.xml 中尝试以下操作：

```
<android xmlns:android="http://schemas.android.com/apk/res/android">
  <manifest>
    <uses-permission android:name="android.permission.READ_CONTACTS" android:protectionLevel="signature"/>
  </manifest>
</android> 
```

# javascript - 列选择器未显示在 jquery 数据表的页面上

> ID：15151945
> 
> 赞同：1
> 
> 时间：2013-03-01T06:32:37.417
> 
> 标签：javascript, jquery, datatable

我正在尝试使用[Datatable Colvis](http://datatables.net/release-datatables/extras/ColVis/index.html)中所示的数据表列选择器，如下所示

```
$('#tableId').dataTable({
    "sDom": 'C<"clear">lfrtip',
    "oColVis": {
                "aiExclude": [ 0,15 ]
               },

    "aaSorting": [],
    "aaData":[],
    "aoColumns": [],
    "bScrollInfinite": true,
    "sScrollY": "280px",
    "sScrollX": "963px",
    "bDestroy":true,
    "iDisplayLength" : 10,
    "fnInitComplete": function() {
        // custom scroll bars
        //$('#tableId').find('.dataTables_scrollBody').jScrollPane();
    },
}); 
```

我添加了 16 列，我无法在此处的代码中显示。但列选择器不会显示在 UI 上。这里有什么错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T08:52:48.250

抱歉，我没有将 ColVis 插件 JS 添加到应用程序中，所以它不起作用。感谢您的答复。

# php - 警告：substr() 期望参数 2 很长

> ID：15151948
> 
> 赞同：-3
> 
> 时间：2013-03-01T06:32:46.503
> 
> 标签：php, string, web-scraping, substr

为什么我在使用时收到此错误`substr`：

> 警告：substr() 期望参数 2 很长`

```
$url = "http://coast.x-matic.net/forums/categories/pso-news";

$ch = curl_init(); 
curl_setopt($ch, CURLOPT_URL, $url); 
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 
$webdata = (string) curl_exec($ch); 
curl_close($ch);

echo substr($webdata, "<a * class=\"title\">*</a>"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:34:05.340

参考： http: [//php.net/manual/en/function.substr.php](http://php.net/manual/en/function.substr.php)

substr 的语法：`string substr ( string $string , int $start [, int $length ] )`

`echo substr($webdata, 0, 5);`应该是这样的。

# ios - CoreImage 的深度/透视？

> ID：15151949
> 
> 赞同：5
> 
> 时间：2013-03-01T06:32:49.267
> 
> 标签：ios, opengl-es, ios6, core-image

我想使用**一个单独的 CALayer**创建如下图所示的效果- 而不是通过拆分图像，对两半执行透视变换，然后彼此相邻放置。

这可以使用 CoreImage 以任何方式完成吗？
或者，有人可以使用 OpenGL 为我指明正确的方向吗？

![在此处输入图像描述](../Images/368af6d5e27afcb758ea093acc32f0aa.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-03T19:00:35.520

你应该：

1.  分割图像
2.  在每一侧执行透视
3.  创建上下文并连接。
4.  完成上下文并将图像设置为您的图层。

# jquery - 链接点击事件 - 添加正常页面链接执行后要执行的函数

> ID：15151954
> 
> 赞同：0
> 
> 时间：2013-03-01T06:33:25.927
> 
> 标签：jquery

页面上有一个更新页面数据的现有链接。（提供接下来的 15 条记录）

```
<li>
  <a href="#statistic=general;page=4;name=" target="self" class="ABC">
    <span class="btnBg">&nbsp;</span>
    <span class="icn next">&nbsp; </span>
  </a>
</li> 
```

有没有办法使用 JQuery 或 Javascript 让我的 JQuery 函数在上述链接更新后立即执行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:35:33.573

我认为您可以在 DOM 更改事件的帮助下完成它。

请找到下面的链接以获得正确答案..

[jQuery DOM 变化](https://stackoverflow.com/questions/2844565/is-there-a-jquery-dom-change-listener)

[突变事件](https://stackoverflow.com/questions/1091661/detect-element-content-changes-with-jquery)

否则，如果您知道修改内容的位置，那么您也可以在该位置处理您的逻辑。

# java - 城市街道的程序生成？

> ID：15151958
> 
> 赞同：3
> 
> 时间：2013-03-01T06:33:46.333
> 
> 标签：java, procedural-generation

我已经阅读了 L-Systems，阅读了 Parish & Muller 和 Kelly & McCabe，并尝试实现[这一点](https://stackoverflow.com/questions/12956334/how-is-l-systems-for-road-networks-modified)，但我真的一点运气都没有（我所有的街道都倾向于一个方向，从不分支，等等.)。任何人都可以提供一些源代码，或者某种生成城市街道系统的参考实现（最好沿着 Parish & Muller 的路线，但在这一点上，我会尝试任何东西）。我已经为此工作了好几个星期，但进展不快。

# android - Android如何根据第一个选项卡输入更新第二个选项卡？

> ID：15151960
> 
> 赞同：1
> 
> 时间：2013-03-01T06:34:01.293
> 
> 标签：android, android-fragments

我已经使用`Fragment`. 第一个选项卡有 a`EditText`和 a `button`。如果用户在 中输入内容`EditText`并单击`button`它会转到第二个选项卡。`onButtonClick`我已设置显示第二个选项卡，但我的值未更新。虽然我已经成功地将第一个选项卡值写入`session`. 但不知道如何更新第二个标签？如何重建第二个选项卡？

在这里添加了我的代码：

在 FragmentA 我 onButtonClick 我调用了这个函数：

```
private void goToFragmentB(String 1stTabValue)
{
    ViewPager mViewPager = (ViewPager) getActivity().findViewById(R.id.pager);
       // My 2nd tab has a TextView where I need to set the 1stTabValue. What should be the code
       // to set 1stTabValue in 2nd tab
    mViewPager.setCurrentItem(1);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T06:38:46.380

编辑：

选项卡不会刷新，因为仅第一次调用 Intent .. 添加选项卡时，您将设置 Intent 并在此处添加此标志`addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);`

例子 ：

```
 Intent i = new Intent().setClass(this, YourClass.class)
.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); 
```

* * *

您可以使用[Shared Preferences](http://developer.android.com/guide/topics/data/data-storage.html#pref)，将输入值存储在存储的首选项中并进入第二个选项卡

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:55:14.440

您可以将值存储在包含片段的活动中。我希望，您的下一个片段将使用相同的活动。但是这种方法不会永久存储您的数据，如果活动关闭，您以前的所有数据都会被清除。

如果您需要持久化数据，则必须使用共享首选项。数据将存储在 shared_pref 文件夹下的应用程序文件夹中。它存储为键值对。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-02T07:28:00.173

添加标签时尝试此操作

```
 private void addTab(int drawableId,String name, Class<?> c)
{

    TabHost.TabSpec spec = tabHost.newTabSpec(name);

    View tabIndicator = LayoutInflater.from(this).inflate(R.layout.tab_indicator, getTabWidget(), false);

    ImageView icon = (ImageView) tabIndicator.findViewById(R.id.icon);
    TextView text = (TextView) tabIndicator.findViewById(R.id.title);
    icon.setImageResource(drawableId);
    text.setText(name);
    tabHost.setTag(name);
    tabHost.addTab(spec
            .setIndicator(tabIndicator)
            .setContent(new Intent(this, c)
                    .addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP)));
} 
```

每次点击标签时，此 Intent.FLAG_ACTIVITY_CLEAR_TOP 都会刷新您的标签

对于存储价值，使用共享偏好或数据库，这完全取决于您的选择

# php - PHP分页问题mysql和php在所有页面上显示相同的数据

> ID：15151970
> 
> 赞同：1
> 
> 时间：2013-03-01T06:34:35.960
> 
> 标签：php, mysql, pagination

我对从 PHP 中的 MySQL 数据库获取的数据进行分页时遇到问题。

我的代码如下。基本上发生的情况是它创建了适量的页面，但是每个页面显示相同的数据，甚至每页仅显示 5 行。

我真的被困住了。这是我第一次尝试分页。任何帮助将不胜感激。

```
 $pagenum = $_GET['pagenum'];

        if (!(isset($pagenum))) 
        { 
            $pagenum = 1; 
        }   else
            {
                $pagenum = $_GET['pagenum'];
            }

        //Count the number of results.
        $data = mysql_query("SELECT * FROM `articles` WHERE `content` = '' AND `requestedby` != '$id'") or die(mysql_error()); 
        $rows = mysql_num_rows($data);

        //Set the number of results to be displayed per page.
        $page_rows = 5;

        //This tells us the page number of our last page 
        $last = ceil($rows/$page_rows); 

         //this makes sure the page number isn't below one, or more than our maximum pages 
        if ($pagenum < 1) 
        { 
            $pagenum = 1; 
        }   elseif ($pagenum > $last) 
            { 
                $pagenum = $last; 
            }

        //This sets the range to display in our query 
        $max = 'LIMIT ' . ($pagenum - 1) * $page_rows .',' .$page_rows;

        //This is the query again, the same one... the only difference is we add $max into it.
        $data_p = mysql_query("SELECT * FROM `articles` WHERE `content` = '' AND `requestedby` != '$id' '$max'") or die(mysql_error());

        //Work out writers earnings based on prices.
        //100 Words - $1.25
        //300 Words - $2.50
        //500 Words - $4.00
        //700 Words - $5.50
        //1000 Words - $8.00
        $_100earnings = "0.65";
        $_300earnings = "1.25";
        $_500earnings = "2.50";
        $_700earnings = "3.00";
        $_1000earnings = "5.00";
    ?>
    <!-- main -->
    <div id="main">
    <center><h2>Write Articles</h2></center>
    <br />Available Projects:
    <table border="1">
        <tr>
            <td>Title:</td>
            <td>Length:</td>
            <td>Writers Earnings:</td>
        </tr>
        <?php
            //This is where you display your query results
            while($info = mysql_fetch_array($data_p))
            { 
                echo "<tr>";
                echo "<td>" . $info['keywords'] . "</td>";
                echo "<td>" . $info['length'] . "</td>";
                switch ($info['length'])
                {
                    case 100:
                        $writersearnings = $_100earnings;
                        break;
                    case 300:
                        $writersearnings = $_300earnings;
                        break;
                    case 500:
                        $writersearnings = $_500earnings;
                        break;
                    case 700:
                        $writersearnings = $_700earnings;
                        break;
                    case 1000:
                        $writersearnings = $_1000earnings;
                        break;
                }
                echo "<td>$" . $writersearnings . "</td>";
                //echo $info['Name']; 
                echo "</tr>";
            }

        ?>
    </table>
    <br /><br />
    <?php
        // This shows the user what page they are on, and the total number of pages
        echo " --Page $pagenum of $last-- <p>";

        // First we check if we are on page one. If we are then we don't need a link to the previous page or the first page so we do nothing. If we aren't then we generate links to the first page, and to the previous page.  
        if ($pagenum == 1) 
        {
        }   else 
            {
                 echo " <a href='{$_SERVER['PHP_SELF']}?pagenum=1'> <<-First</a> ";
                 echo " ";
                 $previous = $pagenum - 1;
                 echo " <a href='{$_SERVER['PHP_SELF']}?pagenum=$previous'> <-Previous</a> ";   
            } 

        //just a spacer
        echo " ---- ";

        //This does the same as above, only checking if we are on the last page, and then generating the Next and Last links
        if ($pagenum == $last) 
        {

        }   else 
            {
                 $next = $pagenum + 1;

                 echo " <a href='{$_SERVER['PHP_SELF']}?pagenum=$next'>Next -></a> ";

                 echo " ";

                 echo " <a href='{$_SERVER['PHP_SELF']}?pagenum=$last'>Last ->></a> ";
            } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:38:38.107

使用此代码，在查询中删除`'`周围`$max`，当您在查询`'`周围添加`$max`时`select.... from.... where..... 'LIMIT.....'`，它会导致查询失败。

```
$data_p = mysql_query("SELECT * FROM `articles` WHERE `content` = '' AND `requestedby` != '$id' $max") or die(mysql_error()); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-01T06:37:02.170

您需要`LIMIT`在查询中指定`LIMIT offset,count`

`$data_p = mysql_query("SELECT * FROM`文章`WHERE`内容`= '' AND`请求者`!= '$id' '$max'") or die(mysql_error());`

删除`'`引号`'$max'`

```
$data_p = mysql_query("SELECT * FROM articles WHERE content= '' AND requestedby!= '".$id."' ".$max) or die(mysql_error()); 
```

# c# - 每当在 wpf 中滚动任何一个时，两个 ScrollViewer 的同步滚动

> ID：15151974
> 
> 赞同：23
> 
> 时间：2013-03-01T06:34:47.533
> 
> 标签：c#, .net, wpf, scrollviewer

我已经完成了线程：

[将两个 VerticalScrollBars 相互绑定](https://stackoverflow.com/questions/5957138/binding-two-verticalscrollbars-one-to-another)

它几乎有助于实现目标，但仍然缺少一些东西。左右或上下移动滚动条会在我的两个滚动查看器中提供预期的滚动行为，但是当我们尝试使用/单击滚动查看器中这些滚动条末端的箭头按钮进行滚动时，只有一个滚动查看器被滚动，这不是预期的行为。

那么我们还需要添加/编辑什么来解决这个问题？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-03-01T07:50:52.267

一种方法是使用`ScrollChanged`事件来更新另一个`ScrollViewer`

```
<ScrollViewer Name="sv1" Height="100" 
              HorizontalScrollBarVisibility="Auto"
              ScrollChanged="ScrollChanged">
    <Grid Height="1000" Width="1000" Background="Green" />
</ScrollViewer>

<ScrollViewer Name="sv2" Height="100" 
              HorizontalScrollBarVisibility="Auto"
              ScrollChanged="ScrollChanged">
    <Grid Height="1000" Width="1000" Background="Blue" />
</ScrollViewer>

private void ScrollChanged(object sender, ScrollChangedEventArgs e)
    {
        if (sender == sv1)
        {
            sv2.ScrollToVerticalOffset(e.VerticalOffset);
            sv2.ScrollToHorizontalOffset(e.HorizontalOffset);
        }
        else
        {
            sv1.ScrollToVerticalOffset(e.VerticalOffset);
            sv1.ScrollToHorizontalOffset(e.HorizontalOffset);
        }
    } 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2016-09-10T10:45:27.440

问题是针对 WPF 的，但万一开发 UWP 的人偶然发现了这一点，我不得不采取稍微不同的方法。
在 UWP 中，当你设置另一个滚动查看器的滚动偏移量时（使用[ScrollViewer.ChangeView](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/dn252761(v=win.10).aspx?appid=dev15idef1&l=en-us&k=k(windows.ui.xaml.controls.scrollviewer.changeview)%3Bk(targetframeworkmoniker-.netcore,version%3Dv5.0)%3Bk(devlang-csharp)&rd=true)），它也会触发另一个滚动查看器上的[ViewChanged](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh702600(v=win.10).aspx?appid=dev15idef1&l=en-us&k=k(windows.ui.xaml.controls.scrollviewer.viewchanged)%3Bk(vs.xamleditor)%3Bk(targetframeworkmoniker-.netcore,version%3Dv5.0)&rd=true)事件，基本上是创建一个循环，导致它非常卡顿，无法正常工作。

如果正在滚动的对象不等于处理事件的最后一个对象，我通过在处理事件时使用一点超时来解决这个问题。

XAML：

```
<ScrollViewer x:Name="ScrollViewer1" ViewChanged="SynchronizedScrollerOnViewChanged"> ... </ScrollViewer>
<ScrollViewer x:Name="ScrollViewer2" ViewChanged="SynchronizedScrollerOnViewChanged"> ... </ScrollViewer> 
```

后面的代码：

```
public sealed partial class MainPage
{
    private const int ScrollLoopbackTimeout = 500;

    private object _lastScrollingElement;
    private int _lastScrollChange = Environment.TickCount;

    public SongMixerUserControl()
    {
        InitializeComponent();
    }

    private void SynchronizedScrollerOnViewChanged(object sender, ScrollViewerViewChangedEventArgs e)
    {
        if (_lastScrollingElement != sender && Environment.TickCount - _lastScrollChange < ScrollLoopbackTimeout) return;

        _lastScrollingElement = sender;
        _lastScrollChange = Environment.TickCount;

        ScrollViewer sourceScrollViewer;
        ScrollViewer targetScrollViewer;
        if (sender == ScrollViewer1)
        {
            sourceScrollViewer = ScrollViewer1;
            targetScrollViewer = ScrollViewer2;
        }
        else
        {
            sourceScrollViewer = ScrollViewer2;
            targetScrollViewer = ScrollViewer1;
        }

        targetScrollViewer.ChangeView(null, sourceScrollViewer.VerticalOffset, null);
    }
} 
```

请注意，超时为 500 毫秒。这可能看起来有点长，但由于 UWP 应用在滚动（使用鼠标滚轮时）有动画（或者，实际上是缓动），它会导致事件在几百毫秒内触发几次. 这个超时似乎工作得很好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-03-21T09:07:53.567

如果它有用，这是一种行为（对于 UWP，但足以理解）；使用行为有助于在 MVVM 设计中解耦视图和代码。

```
using Microsoft.Xaml.Interactivity;
using Windows.UI.Xaml;
using Windows.UI.Xaml.Controls;

public class SynchronizeHorizontalOffsetBehavior : Behavior<ScrollViewer>
{
    public static ScrollViewer GetSource(DependencyObject obj)
    {
        return (ScrollViewer)obj.GetValue(SourceProperty);
    }

    public static void SetSource(DependencyObject obj, ScrollViewer value)
    {
        obj.SetValue(SourceProperty, value);
    }

    // Using a DependencyProperty as the backing store for Source.  This enables animation, styling, binding, etc...
    public static readonly DependencyProperty SourceProperty =
        DependencyProperty.RegisterAttached("Source", typeof(object), typeof(SynchronizeHorizontalOffsetBehavior), new PropertyMetadata(null, SourceChangedCallBack));

    private static void SourceChangedCallBack(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
        SynchronizeHorizontalOffsetBehavior synchronizeHorizontalOffsetBehavior = d as SynchronizeHorizontalOffsetBehavior;
        if (synchronizeHorizontalOffsetBehavior != null)
        {
            var oldSourceScrollViewer = e.OldValue as ScrollViewer;
            var newSourceScrollViewer = e.NewValue as ScrollViewer;
            if (oldSourceScrollViewer != null)
            {
                oldSourceScrollViewer.ViewChanged -= synchronizeHorizontalOffsetBehavior.SourceScrollViewer_ViewChanged;
            }
            if (newSourceScrollViewer != null)
            {
                newSourceScrollViewer.ViewChanged += synchronizeHorizontalOffsetBehavior.SourceScrollViewer_ViewChanged;
                synchronizeHorizontalOffsetBehavior.UpdateTargetViewAccordingToSource(newSourceScrollViewer);
            }
        }
    }

    private void SourceScrollViewer_ViewChanged(object sender, ScrollViewerViewChangedEventArgs e)
    {
        ScrollViewer sourceScrollViewer = sender as ScrollViewer;
        this.UpdateTargetViewAccordingToSource(sourceScrollViewer);
    }

    private void UpdateTargetViewAccordingToSource(ScrollViewer sourceScrollViewer)
    {
        if (sourceScrollViewer != null)
        {
            if (this.AssociatedObject != null)
            {
                this.AssociatedObject.ChangeView(sourceScrollViewer.HorizontalOffset, null, null);
            }
        }
    }

    protected override void OnAttached()
    {
        base.OnAttached();
        var source = GetSource(this.AssociatedObject);
        this.UpdateTargetViewAccordingToSource(source);
    }
} 
```

以下是如何使用它：

```
<ScrollViewer
      HorizontalScrollMode="Enabled"
      HorizontalScrollBarVisibility="Hidden"
      >
           <interactivity:Interaction.Behaviors>
              <behaviors:SynchronizeHorizontalOffsetBehavior Source="{Binding ElementName=ScrollViewer}" />
           </interactivity:Interaction.Behaviors>                                       
</ScrollViewer>
<ScrollViewer x:Name="ScrollViewer" /> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-08-06T23:07:43.520

好吧，我根据[https://www.codeproject.com/Articles/39244/Scroll-Synchronization](https://www.codeproject.com/Articles/39244/Scroll-Synchronization)做了一个实现，但我认为它更整洁。

有一个同步的滚动标记保存对要滚动的事物的引用。然后是独立的附加属性。我还没有弄清楚如何取消注册，因为引用仍然存在 - 所以我没有实现它。

恩，来了：

```
public class SynchronisedScroll
{

    public static SynchronisedScrollToken GetToken(ScrollViewer obj)
    {
        return (SynchronisedScrollToken)obj.GetValue(TokenProperty);
    }
    public static void SetToken(ScrollViewer obj, SynchronisedScrollToken value)
    {
        obj.SetValue(TokenProperty, value);
    }
    public static readonly DependencyProperty TokenProperty =
        DependencyProperty.RegisterAttached("Token", typeof(SynchronisedScrollToken), typeof(SynchronisedScroll), new PropertyMetadata(TokenChanged));

    private static void TokenChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
        var scroll = d as ScrollViewer;
        var oldToken = e.OldValue as SynchronisedScrollToken;
        var newToken = e.NewValue as SynchronisedScrollToken;

        if (scroll != null)
        {
            oldToken?.unregister(scroll);
            newToken?.register(scroll);
        }
    }
} 
```

还有一点

```
public class SynchronisedScrollToken
{
    List<ScrollViewer> registeredScrolls = new List<ScrollViewer>();

    internal void unregister(ScrollViewer scroll)
    {
        throw new NotImplementedException();
    }

    internal void register(ScrollViewer scroll)
    {
        scroll.ScrollChanged += ScrollChanged;
        registeredScrolls.Add(scroll);
    }

    private void ScrollChanged(object sender, ScrollChangedEventArgs e)
    {
        var sendingScroll = sender as ScrollViewer;
        foreach (var potentialScroll in registeredScrolls)
        {
            if (potentialScroll == sendingScroll)
                continue;

            if (potentialScroll.VerticalOffset != sendingScroll.VerticalOffset)
                potentialScroll.ScrollToVerticalOffset(sendingScroll.VerticalOffset);

            if (potentialScroll.HorizontalOffset != sendingScroll.HorizontalOffset)
                potentialScroll.ScrollToHorizontalOffset(sendingScroll.HorizontalOffset);
        }
    }
} 
```

通过在需要滚动同步的所有事物可访问的某些资源中定义令牌来使用。

```
<blah:SynchronisedScrollToken x:Key="scrollToken" /> 
```

然后通过以下方式在任何需要的地方使用它：

```
<ListView.Resources>
    <Style TargetType="ScrollViewer">
        <Setter Property="blah:SynchronisedScroll.Token"
                Value="{StaticResource scrollToken}" />
    </Style>
</ListView.Resources> 
```

我只在垂直滚动时测试过它，它对我有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-12-14T09:57:30.607

在跟进针对 UWP 的 C# 中的 Rene Sackers 代码列表时，以下是我如何在 VB.Net 中为 UWP 解决同样的问题，并通过超时来避免由于一个 Scroll Viewer 对象触发事件而导致的惊人效果，因为它的视图被更改了代码而不是用户交互。我设置了一个 500 毫秒的超时时间，这对我的应用程序很有效。

注意： svLvMain 是一个滚动查看器（对我来说它是主窗口） svLVMainHeader 是一个滚动查看器（对我来说，它是位于主窗口上方的标题，是我想要与主窗口一起跟踪的内容，反之亦然）。缩放或滚动任一滚动查看器将使两个滚动查看器保持同步。

```
Private Enum ScrollViewTrackingMasterSv
    Header = 1
    ListView = 2
    None = 0
End Enum

Private ScrollViewTrackingMaster As ScrollViewTrackingMasterSv
Private DispatchTimerForSvTracking As DispatcherTimer    

Private Sub DispatchTimerForSvTrackingSub(sender As Object, e As Object)
    ScrollViewTrackingMaster = ScrollViewTrackingMasterSv.None
    DispatchTimerForSvTracking.Stop()
End Sub

Private Sub svLvTracking(sender As Object, e As ScrollViewerViewChangedEventArgs, ByRef inMastScrollViewer As ScrollViewer)
    Dim tempHorOffset As Double
    Dim tempVerOffset As Double
    Dim tempZoomFactor As Single

    Dim tempSvMaster As New ScrollViewer
    Dim tempSvSlave As New ScrollViewer

    Select Case inMastScrollViewer.Name
        Case svLvMainHeader.Name

            Select Case ScrollViewTrackingMaster
                Case ScrollViewTrackingMasterSv.Header
                    tempSvMaster = svLvMainHeader
                    tempSvSlave = svLvMain

                    tempHorOffset = tempSvMaster.HorizontalOffset
                    tempVerOffset = tempSvMaster.VerticalOffset
                    tempZoomFactor = tempSvMaster.ZoomFactor

                    tempSvSlave.ChangeView(tempHorOffset, tempVerOffset, tempZoomFactor)

                    If DispatchTimerForSvTracking.IsEnabled Then
                        DispatchTimerForSvTracking.Stop()
                        DispatchTimerForSvTracking.Start()
                    End If

                Case ScrollViewTrackingMasterSv.ListView

                Case ScrollViewTrackingMasterSv.None
                    tempSvMaster = svLvMainHeader
                    tempSvSlave = svLvMain

                    ScrollViewTrackingMaster = ScrollViewTrackingMasterSv.Header
                    DispatchTimerForSvTracking = New DispatcherTimer()
                    AddHandler DispatchTimerForSvTracking.Tick, AddressOf DispatchTimerForSvTrackingSub
                    DispatchTimerForSvTracking.Interval = New TimeSpan(0, 0, 0, 0, 500)
                    DispatchTimerForSvTracking.Start()

                    tempHorOffset = tempSvMaster.HorizontalOffset
                    tempVerOffset = tempSvMaster.VerticalOffset
                    tempZoomFactor = tempSvMaster.ZoomFactor

                    tempSvSlave.ChangeView(tempHorOffset, tempVerOffset, tempZoomFactor)
            End Select

        Case svLvMain.Name

            Select Case ScrollViewTrackingMaster
                Case ScrollViewTrackingMasterSv.Header

                Case ScrollViewTrackingMasterSv.ListView

                    tempSvMaster = svLvMain
                    tempSvSlave = svLvMainHeader

                    tempHorOffset = tempSvMaster.HorizontalOffset
                    tempVerOffset = tempSvMaster.VerticalOffset
                    tempZoomFactor = tempSvMaster.ZoomFactor

                    tempSvSlave.ChangeView(tempHorOffset, tempVerOffset, tempZoomFactor)

                    If DispatchTimerForSvTracking.IsEnabled Then
                        DispatchTimerForSvTracking.Stop()
                        DispatchTimerForSvTracking.Start()
                    End If

                Case ScrollViewTrackingMasterSv.None
                    tempSvMaster = svLvMain
                    tempSvSlave = svLvMainHeader

                    ScrollViewTrackingMaster = ScrollViewTrackingMasterSv.ListView
                    DispatchTimerForSvTracking = New DispatcherTimer()
                    AddHandler DispatchTimerForSvTracking.Tick, AddressOf DispatchTimerForSvTrackingSub
                    DispatchTimerForSvTracking.Interval = New TimeSpan(0, 0, 0, 0, 500)
                    DispatchTimerForSvTracking.Start()

                    tempHorOffset = tempSvMaster.HorizontalOffset
                    tempVerOffset = tempSvMaster.VerticalOffset
                    tempZoomFactor = tempSvMaster.ZoomFactor

                    tempSvSlave.ChangeView(tempHorOffset, tempVerOffset, tempZoomFactor)
            End Select

        Case Else
            Exit Sub

    End Select

End Sub

Private Sub svLvMainHeader_ViewChanged(sender As Object, e As ScrollViewerViewChangedEventArgs) Handles svLvMainHeader.ViewChanged

    Call svLvTracking(sender, e, svLvMainHeader)

End Sub

Private Sub svLvMain_ViewChanged(sender As Object, e As ScrollViewerViewChangedEventArgs) Handles svLvMain.ViewChanged

    Call svLvTracking(sender, e, svLvMain)

End Sub 
```

# java - 如何在远程系统上执行批处理文件

> ID：15151984
> 
> 赞同：0
> 
> 时间：2013-03-01T06:35:42.403
> 
> 标签：java, .net, windows, batch-file, client-server

我有一个在服务器上运行的 java web 应用程序。我将单击服务器上 UI 上的一个按钮 它应该调用客户端计算机上的批处理文件并在客户端上执行它。请建议我如何继续这样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:51:39.593

如果您谈论的是 Web 应用程序并且它涉及作为客户端的浏览器，那么您不能在每台客户端计算机上调用脚本（我的意思是，您可以在 Windows 中执行此操作，但在 Linux 中不行）。Javascript 是一种客户端脚本语言，通常在 Web 浏览器内的沙盒环境中运行，这会阻止它访问计算机上的资源。不过在 Windows 中，您可能可以这样做：

```
var cmdshell = WScript.CreateObject("WScript.Shell");
cmdshell.Run("the command to run a batch script goes here"); 
```

检查[此](http://www.itjungle.com/mpo/mpo052302-story01.html)以获取更多详细信息。

但是在 Linux 中，由于环境完全不同，我还没有看到一种方法。

# wpf - WPF记录集列表框数据绑定？

> ID：15151985
> 
> 赞同：1
> 
> 时间：2013-03-01T06:35:53.067
> 
> 标签：wpf, vb.net, data-binding, adodb, recordset

如何将我的记录绑定到列表框的 itemsource？

```
cn.ConnectionString = "Provider=Microsoft.Ace.Oledb.12.0; 数据源=" & My.Application.Info.DirectoryPath.ToString() & "\mvdata.accdb;"

cn.Open()

    如果 rs.State = True 则 rs.Close()
    rs.Open("Select * from company", cn, ADODB.CursorTypeEnum.adOpenDynamic,ADODB.LockTypeEnum.adLockOptimistic)

    slistbox.ItemsSource = ?????

```

希望有人反刍帮助我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:40:27.487

首先填充`DataTable`记录集中的数据，然后将`ListBox`'s ItemsSource 设置为`DataTable`. 像这样的东西：

```
cn.ConnectionString = "Provider=Microsoft.Ace.Oledb.12.0; Data Source=" & My.Application.Info.DirectoryPath.ToString() & "\mvdata.accdb;"

cn.Open()

    If rs.State = True Then rs.Close()
    rs.Open("Select * from company", cn, ADODB.CursorTypeEnum.adOpenDynamic,ADODB.LockTypeEnum.adLockOptimistic)
    Dim oleDbAdapter As New OleDbDataAdapter()
    Dim dataTable As New DataTable()
    oleDbAdapter.Fill(dataTable, rs)

    slistbox.ItemsSource = dataTable 
```

我没有编译它，但我希望你明白

# android - 如何获取日期的第一天和一周的最后一天

> ID：15151990
> 
> 赞同：0
> 
> 时间：2013-03-01T06:36:13.887
> 
> 标签：android

我正在使用 DatePickerDialog 来显示日历。我想访问所选日期的一周的第一天和最后一天。

这是我尝试过的

```
 this.tv_date.setText( new StringBuilder()
        // Month is 0 based so add 1
                    .append(mDay).append("-")
                    .append(monthName).append("-")
                    .append(mYear).append(""));
        tv_date.setHighlightColor(Color.CYAN);

        String str=mDay+"-"+mMonth+"-"+mYear;

        SimpleDateFormat sdf=new SimpleDateFormat("dd-MM-yyyy");
        sdf.format(""+str); //here I am getting exception

        Calendar cal=Calendar.getInstance();

        int s=  cal.getFirstDayOfWeek();

        Toast.makeText(getApplicationContext(), "first day of the week : "+s, 1).show(); 
```

但我收到“IllegalArguementException”。请帮我

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T06:44:14.937

`sdf.format(""+str);`- 是错的。您要么需要将`Date`对象传递给它，要么将其更改为`sdf.parse(str);`以从中获取`Date`对象。

**编辑：-**要获得一周的第一天，请执行此操作。

```
String str=mDay+"-"+mMonth+"-"+mYear;
SimpleDateFormat sdf=new SimpleDateFormat("dd-MM-yyyy");
Date myDate = new Date();
try{
    myDate = sdf.parse(str);
}catch(ParseException pe){
    // Do Something
}
Calendar cal = Calendar.getInstance();  
cal.setTime(myDate);
cal.set(Calendar.DAY_OF_WEEK, 1);  
int s = cal.get(Calendar.DATE); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T06:41:04.233

这是计算一周中第一天的示例。

```
private void firstDayOfThisWeek(){
 DateTime today = DateTime.today(TimeZone.getDefault()); 
 DateTime firstDayThisWeek = today; //start value 
 int todaysWeekday = today.getWeekDay();
 int SUNDAY = 1;
 if(todaysWeekday > SUNDAY){
   int numDaysFromSunday = todaysWeekday - SUNDAY;
   firstDayThisWeek = today.minusDays(numDaysFromSunday);
 }
 System.out.println("The first day of this week is : " + firstDayThisWeek);
} 
```

除了今天分配，您还可以使用精确格式分配任何其他日期

# visual-studio-2010 - 使用 VSTS 比较两个数据库时如何解决错误“文本行不应为空”

> ID：15151995
> 
> 赞同：0
> 
> 时间：2013-03-01T06:36:46.663
> 
> 标签：visual-studio-2010, sql-server-2008, visual-studio-2008, sql-server-2008-r2, sql-server-2012

嗨，我正在使用 VSTS2010 使用架构比较来比较两个构建。今天在比较“文本行不应为空”时遇到错误，突然出现错误“Microsoft Visual Studio 遇到问题，需要关闭。” 有人可以帮我解决这个错误。谢谢！在先进。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T06:49:17.570

要解决此问题需要安装“DACProjectSystemSetup_enu.msi”